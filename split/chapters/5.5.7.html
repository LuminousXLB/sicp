<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <!-- Global site tag (gtag.js) - Google Analytics - START -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-156801664-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-156801664-1');
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics - END -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="description" content="5.5.7  Interfacing Compiled Code to the Evaluator" />
    <title>
      5.5.7  Interfacing Compiled Code to the Evaluator
    </title>
    
  <meta name="csrf-param" content="authenticity_token" />
  <meta name="csrf-token" content="EMTEijVc2kiiKUH4nYH0lQG3pLPfMowQ/Stg//t6DCo0e5pWMQwamnTvIdmVZqY/MqSx2IYYE+2bpNV6UNSMwQ==" />

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    -->
    <link href="https://fonts.googleapis.com/css?family=Inconsolata&display?swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans|Droid+Serif" rel="stylesheet">
    <link rel="stylesheet" media="all" href="../assets/stylesheet.css" />

   <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon.ico" />

<!--    <link rel="shortcut icon" type="image/png" href="../images/lambda.png" /> -->

    <!-- for support of progressive web app, see github README, DISABLED!
    <link rel="manifest" href="../static/manifest.json">
    -->

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" 
		     	  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	          crossorigin="anonymous">
    </script> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script> -->
    <script type="text/javascript" 
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script>
   <!--  <script type="text/javascript" 
      src="../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script> -->
  
    <script src="../assets/application.js"></script>
  
    <!-- Rendering inline LaTeX -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true,
          jax: ["input/TeX","output/HTML-CSS"]
        }
      });
    </script>
    <!--<script src="/mathjax/MathJax.js?config=TeX-AMS_HTML-full.js" type="text/javascript"></script>-->
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body>

    
    <!-- support for progressive web app, see README, DISABLED
    <script>
      if ('serviceWorker' in navigator && !navigator.serviceWorker.controller) {
          navigator.serviceWorker.register("../sw.js").then(function(reg) {
              console.log("Service worker has been registered for scope: " + reg.scope);
          });
      }
    </script>
    -->

     <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top justify-content-between">
       <button id="btn" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#nav-sidebar" aria-controls="nav-sidebar" aria-expanded="false" aria-label="Toggle navigation" title="navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <span class="navbar-brand-short"><a title="Go back to front page" href="../index.html" class="gray">SICP &mdash; Scheme/JS</a></span>
       <span class="navbar-brand-long" ><a title="Go back to front page" href="../index.html" class="gray">Structure and Interpretation of Computer Programs &mdash; Comparison Edition</a></span>

       <!-- edit the search engine by visiting: 
	    https://cse.google.com/cse/setup/basic?cx=015760785273492757659:nc_tznrzlsg 
	       -->
       <form class="form-inline ml-auto" id="xxx">
         <div id="search-box">
	         <script>
	           (function() {
	               var cx = "015760785273492757659:nc_tznrzlsg";
	               var gcse = document.createElement("script");
	               gcse.type = "text/javascript";
	               gcse.async = true;
	               gcse.src = "https://cse.google.com/cse.js?cx=" + cx;
	               var s = document.getElementsByTagName("script")[0];
	               s.parentNode.insertBefore(gcse, s);
	           })();
	           window.onload = function()
	           { 
	               var searchBox =  document.getElementById("gsc-i-id1");
	               searchBox.placeholder= "search web edition";
	               searchBox.title= "search web edition";
	           }
	         </script>
	         <gcse:search></gcse:search>
         </div>
       </form>
       <span class="navbar-brand-short">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">S</a>
       </span>
       <span class="navbar-brand-long">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">Source</a>
       </span>
     </nav>
     
     <div class="container scroll">

            
        <div class="collapse" id="nav-sidebar" role="tablist" aria-multiselectable="true">
        <!-- insert a dummy entry, to give one extra line of space -->
        <a class="navbar-brand" href="index.html">&nbsp;</a>
    
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-1">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-1" aria-expanded="false" aria-controls="sidebar-collapse-1">
                <a href="./foreword.html">  Foreword</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-2">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-2" aria-expanded="false" aria-controls="sidebar-collapse-2">
                <a href="./prefaces.html">  Prefaces</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-3">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-3" aria-expanded="false" aria-controls="sidebar-collapse-3">
                <a href="./acknowledgements.html">  Acknowledgments from Second Edition of SICP, 1996</a>
              </span>
            </h5>
          </div>
        </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-4">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.html">1  Building Abstractions with <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span></a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-4" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-5">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.1.html">1.1  The Elements of Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-5" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-6">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-6" aria-expanded="false" aria-controls="sidebar-collapse-6">
                <a href="./1.1.1.html"> 1.1.1  Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-7">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-7" aria-expanded="false" aria-controls="sidebar-collapse-7">
                <a href="./1.1.2.html"> 1.1.2  Naming and the Environment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-8">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-8" aria-expanded="false" aria-controls="sidebar-collapse-8">
                <a href="./1.1.3.html"> 1.1.3  Evaluating <span style="color:green"> Combinations </span> <span style="color:blue"> Operator Combinations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-9">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-9" aria-expanded="false" aria-controls="sidebar-collapse-9">
                <a href="./1.1.4.html"> 1.1.4  Compound <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-10">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-10" aria-expanded="false" aria-controls="sidebar-collapse-10">
                <a href="./1.1.5.html"> 1.1.5  The Substitution Model for <span style="color:green"> Procedure </span> <span style="color:blue"> Function </span> Application</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-11">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-11" aria-expanded="false" aria-controls="sidebar-collapse-11">
                <a href="./1.1.6.html"> 1.1.6  Conditional Expressions and Predicates</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-12">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-12" aria-expanded="false" aria-controls="sidebar-collapse-12">
                <a href="./1.1.7.html"> 1.1.7  Example: Square Roots by Newton s Method</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-13">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-13" aria-expanded="false" aria-controls="sidebar-collapse-13">
                <a href="./1.1.8.html"> 1.1.8  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> as Black-Box Abstractions</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-14">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.2.html">1.2  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> and the Processes They Generate</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-14" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-15">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-15" aria-expanded="false" aria-controls="sidebar-collapse-15">
                <a href="./1.2.1.html"> 1.2.1  Linear Recursion and Iteration</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-16">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-16" aria-expanded="false" aria-controls="sidebar-collapse-16">
                <a href="./1.2.2.html"> 1.2.2  Tree Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-17">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-17" aria-expanded="false" aria-controls="sidebar-collapse-17">
                <a href="./1.2.3.html"> 1.2.3  Orders of Growth</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-18">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-18" aria-expanded="false" aria-controls="sidebar-collapse-18">
                <a href="./1.2.4.html"> 1.2.4  Exponentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-19">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-19" aria-expanded="false" aria-controls="sidebar-collapse-19">
                <a href="./1.2.5.html"> 1.2.5  Greatest Common Divisors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-20">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-20" aria-expanded="false" aria-controls="sidebar-collapse-20">
                <a href="./1.2.6.html"> 1.2.6  Example: Testing for Primality</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-21">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.3.html">1.3  Formulating Abstractions with Higher-Order <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span></a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-21" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-22">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-22" aria-expanded="false" aria-controls="sidebar-collapse-22">
                <a href="./1.3.1.html"> 1.3.1  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> as Arguments</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-23">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-23" aria-expanded="false" aria-controls="sidebar-collapse-23">
                <a href="./1.3.2.html"> 1.3.2  <span style="color:green"> Constructing Procedures using Lambda </span> <span style="color:blue"> Constructing Functions using Lambda Expressions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-24">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-24" aria-expanded="false" aria-controls="sidebar-collapse-24">
                <a href="./1.3.3.html"> 1.3.3  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> as General Methods</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-25">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-25" aria-expanded="false" aria-controls="sidebar-collapse-25">
                <a href="./1.3.4.html"> 1.3.4  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> as Returned Values</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-26">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.html">2  Building Abstractions with Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-26" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-27">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.1.html">2.1  Introduction to Data Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-27" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-28">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-28" aria-expanded="false" aria-controls="sidebar-collapse-28">
                <a href="./2.1.1.html"> 2.1.1  Example: Arithmetic Operations for Rational Numbers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-29">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-29" aria-expanded="false" aria-controls="sidebar-collapse-29">
                <a href="./2.1.2.html"> 2.1.2  Abstraction Barriers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-30">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-30" aria-expanded="false" aria-controls="sidebar-collapse-30">
                <a href="./2.1.3.html"> 2.1.3  What Is Meant by Data?</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-31">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-31" aria-expanded="false" aria-controls="sidebar-collapse-31">
                <a href="./2.1.4.html"> 2.1.4  Extended Exercise: Interval Arithmetic</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-32">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.2.html">2.2  Hierarchical Data and the Closure Property</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-32" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-33">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-33" aria-expanded="false" aria-controls="sidebar-collapse-33">
                <a href="./2.2.1.html"> 2.2.1  Representing Sequences</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-34">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-34" aria-expanded="false" aria-controls="sidebar-collapse-34">
                <a href="./2.2.2.html"> 2.2.2  Hierarchical Structures</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-35">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-35" aria-expanded="false" aria-controls="sidebar-collapse-35">
                <a href="./2.2.3.html"> 2.2.3  Sequences as Conventional Interfaces</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-36">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-36" aria-expanded="false" aria-controls="sidebar-collapse-36">
                <a href="./2.2.4.html"> 2.2.4  Example: A Picture Language</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-37">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.3.html">2.3  Symbolic Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-37" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-38">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-38" aria-expanded="false" aria-controls="sidebar-collapse-38">
                <a href="./2.3.1.html"> 2.3.1  <span style="color:green"> Quotation </span> <span style="color:blue"> Strings </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-39">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-39" aria-expanded="false" aria-controls="sidebar-collapse-39">
                <a href="./2.3.2.html"> 2.3.2  Example: Symbolic Differentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-40">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-40" aria-expanded="false" aria-controls="sidebar-collapse-40">
                <a href="./2.3.3.html"> 2.3.3  Example: Representing Sets</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-41">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-41" aria-expanded="false" aria-controls="sidebar-collapse-41">
                <a href="./2.3.4.html"> 2.3.4  Example: Huffman Encoding Trees</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-42">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.4.html">2.4  Multiple Representations for Abstract Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-42" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-43">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-43" aria-expanded="false" aria-controls="sidebar-collapse-43">
                <a href="./2.4.1.html"> 2.4.1  Representations for Complex Numbers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-44">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-44" aria-expanded="false" aria-controls="sidebar-collapse-44">
                <a href="./2.4.2.html"> 2.4.2  Tagged data</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-45">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-45" aria-expanded="false" aria-controls="sidebar-collapse-45">
                <a href="./2.4.3.html"> 2.4.3  Data-Directed Programming and Additivity</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-46">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.5.html">2.5  Systems with Generic Operations</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-46" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-47">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-47" aria-expanded="false" aria-controls="sidebar-collapse-47">
                <a href="./2.5.1.html"> 2.5.1  Generic Arithmetic Operations</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-48">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-48" aria-expanded="false" aria-controls="sidebar-collapse-48">
                <a href="./2.5.2.html"> 2.5.2  Combining Data of Different Types</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-49">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-49" aria-expanded="false" aria-controls="sidebar-collapse-49">
                <a href="./2.5.3.html"> 2.5.3  Example: Symbolic Algebra</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-50">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.html">3  Modularity, Objects, and State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-50" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-51">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.1.html">3.1  Assignment and Local State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-51" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-52">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-52" aria-expanded="false" aria-controls="sidebar-collapse-52">
                <a href="./3.1.1.html"> 3.1.1  Local State Variables</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-53">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-53" aria-expanded="false" aria-controls="sidebar-collapse-53">
                <a href="./3.1.2.html"> 3.1.2  The Benefits of Introducing Assignment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-54">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-54" aria-expanded="false" aria-controls="sidebar-collapse-54">
                <a href="./3.1.3.html"> 3.1.3  The Costs of Introducing Assignment</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-55">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.2.html">3.2  The Environment Model of Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-55" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-56">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-56" aria-expanded="false" aria-controls="sidebar-collapse-56">
                <a href="./3.2.1.html"> 3.2.1  The Rules for Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-57">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-57" aria-expanded="false" aria-controls="sidebar-collapse-57">
                <a href="./3.2.2.html"> 3.2.2  Applying Simple <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-58">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-58" aria-expanded="false" aria-controls="sidebar-collapse-58">
                <a href="./3.2.3.html"> 3.2.3  Frames as the Repository of Local State</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-59">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-59" aria-expanded="false" aria-controls="sidebar-collapse-59">
                <a href="./3.2.4.html"> 3.2.4  Internal <span style="color:green"> Definitions </span> <span style="color:blue"> Declarations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-60">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.3.html">3.3  Modeling with Mutable Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-60" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-61">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-61" aria-expanded="false" aria-controls="sidebar-collapse-61">
                <a href="./3.3.1.html"> 3.3.1  Mutable List Structure</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-62">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-62" aria-expanded="false" aria-controls="sidebar-collapse-62">
                <a href="./3.3.2.html"> 3.3.2  Representing Queues</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-63">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-63" aria-expanded="false" aria-controls="sidebar-collapse-63">
                <a href="./3.3.3.html"> 3.3.3  Representing Tables</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-64">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-64" aria-expanded="false" aria-controls="sidebar-collapse-64">
                <a href="./3.3.4.html"> 3.3.4  A Simulator for Digital Circuits</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-65">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-65" aria-expanded="false" aria-controls="sidebar-collapse-65">
                <a href="./3.3.5.html"> 3.3.5  Propagation of Constraints</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-66">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.4.html">3.4  Concurrency: Time Is of the Essence</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-66" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-67">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-67" aria-expanded="false" aria-controls="sidebar-collapse-67">
                <a href="./3.4.1.html"> 3.4.1  The Nature of Time in Concurrent Systems</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-68">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-68" aria-expanded="false" aria-controls="sidebar-collapse-68">
                <a href="./3.4.2.html"> 3.4.2  Mechanisms for Controlling Concurrency</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-69">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.5.html">3.5  Streams</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-69" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-70">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-70" aria-expanded="false" aria-controls="sidebar-collapse-70">
                <a href="./3.5.1.html"> 3.5.1  Streams Are Delayed Lists</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-71">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-71" aria-expanded="false" aria-controls="sidebar-collapse-71">
                <a href="./3.5.2.html"> 3.5.2  Infinite Streams</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-72">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-72" aria-expanded="false" aria-controls="sidebar-collapse-72">
                <a href="./3.5.3.html"> 3.5.3  Exploiting the Stream Paradigm</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-73">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-73" aria-expanded="false" aria-controls="sidebar-collapse-73">
                <a href="./3.5.4.html"> 3.5.4  Streams and Delayed Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-74">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-74" aria-expanded="false" aria-controls="sidebar-collapse-74">
                <a href="./3.5.5.html"> 3.5.5  Modularity of Functional Programs and Modularity of Objects</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-75">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.html">4  Metalinguistic Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-75" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-76">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.1.html">4.1  The Metacircular Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-76" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-77">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-77" aria-expanded="false" aria-controls="sidebar-collapse-77">
                <a href="./4.1.1.html"> 4.1.1  The Core of the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-78">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-78" aria-expanded="false" aria-controls="sidebar-collapse-78">
                <a href="./4.1.2.html"> 4.1.2  Representing <span style="color:green"> Expressions </span> <span style="color:blue"> Statements and Expressions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-79">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-79" aria-expanded="false" aria-controls="sidebar-collapse-79">
                <a href="./4.1.3.html"> 4.1.3  Evaluator Data Structures</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-80">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-80" aria-expanded="false" aria-controls="sidebar-collapse-80">
                <a href="./4.1.4.html"> 4.1.4  Running the Evaluator as a Program</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-81">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-81" aria-expanded="false" aria-controls="sidebar-collapse-81">
                <a href="./4.1.5.html"> 4.1.5  Data as Programs</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-82">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-82" aria-expanded="false" aria-controls="sidebar-collapse-82">
                <a href="./4.1.6.html"> 4.1.6  Internal <span style="color:green"> Definitions </span> <span style="color:blue"> Declarations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-83">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-83" aria-expanded="false" aria-controls="sidebar-collapse-83">
                <a href="./4.1.7.html"> 4.1.7  Separating Syntactic Analysis from Execution</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-84">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.2.html">4.2  <span style="color:green"> Variations on a Scheme: </span> Lazy Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-84" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-85">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-85" aria-expanded="false" aria-controls="sidebar-collapse-85">
                <a href="./4.2.1.html"> 4.2.1  Normal Order and Applicative Order</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-86">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-86" aria-expanded="false" aria-controls="sidebar-collapse-86">
                <a href="./4.2.2.html"> 4.2.2  An Interpreter with Lazy Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-87">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-87" aria-expanded="false" aria-controls="sidebar-collapse-87">
                <a href="./4.2.3.html"> 4.2.3  Streams as Lazy Lists</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-88">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.3.html">4.3  <span style="color:green"> Variations on a Scheme: </span> Nondeterministic Computing</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-88" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-89">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-89" aria-expanded="false" aria-controls="sidebar-collapse-89">
                <a href="./4.3.1.html"> 4.3.1  <span style="color:green"> Amb and Search </span> <span style="color:blue"> Search and amb </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-90">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-90" aria-expanded="false" aria-controls="sidebar-collapse-90">
                <a href="./4.3.2.html"> 4.3.2  Examples of Nondeterministic Programs</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-91">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-91" aria-expanded="false" aria-controls="sidebar-collapse-91">
                <a href="./4.3.3.html"> 4.3.3  Implementing the <span style="color:green"> Amb </span> <span style="color:blue"> amb </span> Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-92">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.4.html">4.4  Logic Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-92" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-93">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-93" aria-expanded="false" aria-controls="sidebar-collapse-93">
                <a href="./4.4.1.html"> 4.4.1  Deductive Information Retrieval</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-94">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-94" aria-expanded="false" aria-controls="sidebar-collapse-94">
                <a href="./4.4.2.html"> 4.4.2  How the Query System Works</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-95">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-95" aria-expanded="false" aria-controls="sidebar-collapse-95">
                <a href="./4.4.3.html"> 4.4.3  Is Logic Programming Mathematical Logic?</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-96">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-96" aria-expanded="false" aria-controls="sidebar-collapse-96">
                <a href="./4.4.4.html"> 4.4.4  Implementing the Query System</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-97">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.html">5  Computing with Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-97" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-98">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.1.html">5.1  Designing Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-98" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-99">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-99" aria-expanded="false" aria-controls="sidebar-collapse-99">
                <a href="./5.1.1.html"> 5.1.1  A Language for Describing Register Machines</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-100">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-100" aria-expanded="false" aria-controls="sidebar-collapse-100">
                <a href="./5.1.2.html"> 5.1.2  Abstraction in Machine Design</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-101">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-101" aria-expanded="false" aria-controls="sidebar-collapse-101">
                <a href="./5.1.3.html"> 5.1.3  Subroutines</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-102">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-102" aria-expanded="false" aria-controls="sidebar-collapse-102">
                <a href="./5.1.4.html"> 5.1.4  Using a Stack to Implement Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-103">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-103" aria-expanded="false" aria-controls="sidebar-collapse-103">
                <a href="./5.1.5.html"> 5.1.5  Instruction Summary</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-104">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.2.html">5.2  A Register-Machine Simulator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-104" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-105">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-105" aria-expanded="false" aria-controls="sidebar-collapse-105">
                <a href="./5.2.1.html"> 5.2.1  The Machine Model</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-106">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-106" aria-expanded="false" aria-controls="sidebar-collapse-106">
                <a href="./5.2.2.html"> 5.2.2  The Assembler</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-107">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-107" aria-expanded="false" aria-controls="sidebar-collapse-107">
                <a href="./5.2.3.html"> 5.2.3  Generating Execution <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> for Instructions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-108">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-108" aria-expanded="false" aria-controls="sidebar-collapse-108">
                <a href="./5.2.4.html"> 5.2.4  Monitoring Machine Performance</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-109">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.3.html">5.3  Storage Allocation and Garbage Collection</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-109" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-110">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-110" aria-expanded="false" aria-controls="sidebar-collapse-110">
                <a href="./5.3.1.html"> 5.3.1  Memory as Vectors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-111">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-111" aria-expanded="false" aria-controls="sidebar-collapse-111">
                <a href="./5.3.2.html"> 5.3.2  Maintaining the Illusion of Infinite Memory</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-112">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.4.html">5.4  The Explicit-Control Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-112" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-113">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-113" aria-expanded="false" aria-controls="sidebar-collapse-113">
                <a href="./5.4.1.html"> 5.4.1  The Core of the Explicit-Control Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-114">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-114" aria-expanded="false" aria-controls="sidebar-collapse-114">
                <a href="./5.4.2.html"> 5.4.2  Sequence Evaluation and Tail Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-115">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-115" aria-expanded="false" aria-controls="sidebar-collapse-115">
                <a href="./5.4.3.html"> 5.4.3  Conditionals, Assignments, and <span style="color:green"> Definitions </span> <span style="color:blue"> Declarations and Blocks </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-116">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-116" aria-expanded="false" aria-controls="sidebar-collapse-116">
                <a href="./5.4.4.html"> 5.4.4  Running the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-117">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.5.html">5.5  Compilation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-117" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-118">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-118" aria-expanded="false" aria-controls="sidebar-collapse-118">
                <a href="./5.5.1.html"> 5.5.1  Structure of the Compiler</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-119">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-119" aria-expanded="false" aria-controls="sidebar-collapse-119">
                <a href="./5.5.2.html"> 5.5.2  Compiling <span style="color:blue"> Statements and </span> Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-120">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-120" aria-expanded="false" aria-controls="sidebar-collapse-120">
                <a href="./5.5.3.html"> 5.5.3  Compiling <span style="color:green"> Combinations </span> <span style="color:blue"> Applications </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-121">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-121" aria-expanded="false" aria-controls="sidebar-collapse-121">
                <a href="./5.5.4.html"> 5.5.4  Combining Instruction Sequences</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-122">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-122" aria-expanded="false" aria-controls="sidebar-collapse-122">
                <a href="./5.5.5.html"> 5.5.5  An Example of Compiled Code</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-123">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-123" aria-expanded="false" aria-controls="sidebar-collapse-123">
                <a href="./5.5.6.html"> 5.5.6  Lexical Addressing</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-124">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-124" aria-expanded="false" aria-controls="sidebar-collapse-124">
                <a href="./5.5.7.html"> 5.5.7  Interfacing Compiled Code to the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-125">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-125" aria-expanded="false" aria-controls="sidebar-collapse-125">
                <a href="./references.html">  References</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-126">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-126" aria-expanded="false" aria-controls="sidebar-collapse-126">
                <a href="./making-of.html">  Making of the JavaScript Adaptation</a>
              </span>
            </h5>
          </div>
        </div>
        </div>
<div id='permalink-msg'>
<div class='screen'>
  <div class='alert alert-success'>
    <strong>Permalink copied!</strong>
  </div>
</div>
</div>
<div class='chapter-content'>

      <div class='chapter-title'>
        <div class='permalink'>
        <a name='top' class='permalink'> 
    5.5.7  Interfacing Compiled Code to the Evaluator
        </a>
        </div>
      </div>
      <div class='chapter-text'>
        <div class='SECTION'><SECTION>
    

  
  
  
  
  <div class='permalink'>
<a name='p1' class='permalink'></a><p>
    We have not yet explained how to load compiled code into the evaluator
    machine or how to run it.  We will assume that the explicit-control-evaluator
    machine has been defined as in
    section&nbsp;<REF NAME="sec:running-evaluator"><a class="superscript" id="5.5.7-sec-link-5.4.4" href="./5.4.4.html">5.4.4</a></REF>, with the additional
    operations specified in footnote&nbsp;<REF NAME="foot:compiler-ops"><a class="superscript" id="5.5.7-foot-link-3" href="./5.5.2.html#footnote-3">3</a></REF>.
    We will implement a
    
      <span style="color:green">procedure</span>
      <span style="color:blue">function</span>
    
    
    
      <span style="color:green"><kbd>compile-and-go</kbd></span>
      <span style="color:blue"><kbd>compile_and_go</kbd>
      </span>
    
    that compiles a Scheme expression, loads the
    resulting object code into the evaluator machine,
    and causes the machine to run the code in the
    evaluator global environment, print the result, and
    enter the evaluator's driver loop.  We will also modify the evaluator
    so that interpreted expressions can call compiled
    
      <span style="color:green">procedures</span>
      <span style="color:blue">functions</span>
    
    as well as interpreted ones.  We can then put a compiled
    
      <span style="color:green">procedure</span>
      <span style="color:blue">function</span>
    
    into the machine and use the
    evaluator to call it:
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_123_1_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(compile-and-go
      '(define (factorial n)
      (if (= n 1)
            1
            (* (factorial (- n 1)) n))))</pre><pre class='prettyprintoutput'>
      ;;; EC-Eval value:
      ok

      ;;; EC-Eval input:
      (factorial 5)
      ;;; EC-Eval value:
      120</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_123_1_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=5&prgrm=PTAEGUEkGEAVQFLlAVgHToOwChsGMB7AWwAcBLAGwFMB9AQwDsATGgcwIAptQfQS6ATgGcqXXuNAAiAGYBXBngAuZAg1DS6SggLJ0KHBgEpQAb24SLoAVUWyBatQF5noAIyhzlrwH43nrxYAXKBqAFTqmorauvpqALRuhgDc-hIAvpKGybhJuaAAotBx+QBueqBlFLJUgdgEANY5eYXFlaBkDCSyirUcGlo65SiG2LlJBUWl5ZXVta4ATAAMQA')">compile_and_go(
    parse(
        "function factorial(n) {
             return n === 1 
                 ? 1
                 : n * factorial(n - 1);
         }"));

;;; EC-Eval value:
ok

;;; EC-Eval input:
(factorial 5)
;;; EC-Eval value:
120
</pre></div></div></td></tr></table>
  </p></div>

  <div class='permalink'>
<a name='p2' class='permalink'></a><p>
    To allow the evaluator to handle compiled
    
      <span style="color:green">procedures</span>
      <span style="color:blue">functions</span>
    
    (for example,
    to evaluate the call to <kbd>factorial</kbd> above),
    we need to change the code at
    
      <span style="color:green"><kbd>apply-dispatch</kbd></span>
      <span style="color:blue"><kbd>apply_dispatch</kbd>
      </span>
    
    (section&nbsp;<REF NAME="sec:procedure-application"><a class="superscript" id="5.5.7-sec-link-5.4.1" href="./5.4.1.html">5.4.1</a></REF>) so that it
    recognizes compiled
    
      <span style="color:green">procedures</span>
      <span style="color:blue">functions</span>
    
    (as distinct from compound or primitive
    
      <span style="color:green">procedures)</span>
      <span style="color:blue">functions)</span>
    
    and transfers control directly to the entry point of the
    compiled code:<a class='superscript' id='footnote-link-1' href='#footnote-1'>[1]</a>
    
    
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_123_2_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
apply-dispatch
      (test (op primitive-procedure?) (reg proc))
      (branch (label primitive-apply))
      (test (op compound-procedure?) (reg proc))  
      (branch (label compound-apply))
      (test (op compiled-procedure?) (reg proc))  
      (branch (label compiled-apply))
      (goto (label unknown-procedure-type))

      compiled-apply
      (restore continue)
      (assign val (op compiled-procedure-entry) (reg proc))
      (goto (reg val))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_123_2_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=5&prgrm=PTAEGUEkGEAVQFLlAVgHToOwChsCIBDAByIBsBPAfQBMBLAZyIIBcBjACzwBptQ-RmAU3rMAFAHsiovEQBOtALa1mtAG6DKAMwCuAO1YrxuvAEouoWYIDm0ncZNne-AEayC+9qNIFng0tLlFZTUNYjJyU0d+AWExSWlWcQUicT1qLT0DWiNTc0sbPDtInmjXdw4vHz8EpJS0yjCKYqc+IREJKTwGSkTk2lJBdLssnLMLa1s9ZtK3D0rffzxeon7BhpImhxL+K3FKZnF56rw9AGtdcQB3XQz9QxvmciJBZqXa1fTGiO2+SxFxSw1XQqXTaF5RfgEej0WhWXTSVQEUjcUCkBhxTrLD63EY3QTA2QRMb5Sb2LYtUC7faHEl4RHIrZAA')">"apply_dispatch",
    test(op("primitive_function"), reg("fun")),
    branch(label("primitive_apply")),
    test(op("compound_function"), reg("fun")),
    branch(label("compound_apply")),
    test(op("is_compiled_function"), reg("fun")),
    branch(label("compiled_apply")),
    go_to(label("unknown_function_type")),
"compiled_apply",
    restore("continue"),
    assign("val", list(op("compiled_function_entry"), reg("fun"))),
    go_to(reg("val")),
</pre></div></div></td></tr></table>
  </p></div>

  <div class='permalink'>
<a name='p3' class='permalink'></a><p>
    Note the restore of <kbd>continue</kbd> at
    
      <span style="color:green">
      <kbd>compiled-apply</kbd>.</span>
      <span style="color:blue">
	<kbd>compiled_apply</kbd>.
      </span>
    
    Recall that the evaluator was arranged so that at
    
      <span style="color:green"><kbd>apply-dispatch</kbd>,</span>
      <span style="color:blue"><kbd>apply_dispatch</kbd>,
      </span>
    
    the continuation would be at the top of the stack.  The compiled code entry
    point, on the other hand, expects the continuation to be in
    <kbd>continue</kbd>, so
    <kbd>continue</kbd> must be
    restored before the compiled code is executed.
  </p></div>

  <div class='permalink'>
<a name='p4' class='permalink'></a><p>
    To enable us to run some compiled code when we start the evaluator
    machine, we add a <kbd>branch</kbd> instruction at
    the beginning of the evaluator machine, which causes the machine to
    go to a new entry point if the <kbd>flag</kbd> register 
    is set.<a class='superscript' id='footnote-link-2' href='#footnote-2'>[2]</a>
    <kbd class='snippet'>branch(label("external_entry")), // branches if flag is set
"read_eval_print_loop",
perform(op("initialize_stack")),
$\langle\ldots\rangle$</kbd>
  </p></div>

  <div class='permalink'>
<a name='p5' class='permalink'></a><p>
    
      <span style="color:green"><kbd>External-entry</kbd></span>
      <span style="color:blue"><kbd>External_entry</kbd>
      </span>
    
    assumes that the machine is started with <kbd>val</kbd>
    containing the location of an instruction sequence that puts a result into
    <kbd>val</kbd> and ends with
    
      <span style="color:green"><kbd>(goto (reg continue))</kbd>.</span>
      <span style="color:blue"><kbd>go_to(reg("continue"))</kbd>.
      </span>
    
    Starting at this entry point jumps to the location designated
    by <kbd>val</kbd>, but first assigns
    <kbd>continue</kbd> so that execution will return to
    
      <span style="color:green"><kbd>print-result</kbd>,</span>
      <span style="color:blue"><kbd>print_result</kbd>,
      </span>
    
    which prints the value in <kbd>val</kbd> and then goes to
    the beginning of the evaluator's read-eval-print loop.<a class='superscript' id='footnote-link-3' href='#footnote-3'>[3]</a>
    
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_123_3_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
external-entry
      (perform (op initialize-stack))
      (assign env (op get-global-environment))
      (assign continue (label print-result))
      (goto (reg val))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_123_3_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=5&prgrm=PTAEGUEkGEAVQFLlAVgHToOwChsCIBTADwBcCAnAOwEMAbAfQMpPIE88AabUUABwoBmAe3IBbABRDe4vAEtKskrLqyAXgXoBnEtQDGAazwBKI1x7VNm2QHNKMpgDdOoWrO2TpeawRL1rtIQAjOkZKB1lyIUpRJhJjEzNQCytbGV0opUoAVwJnWmpAgloZXnJ5X3ICTSzaOITuUGshehIhcUrrGQc6eI4gA')">"external_entry",
  perform(op("initialize_stack")),
  assign("env", list(op("get_global_environment"))),
  assign("continue", label("print_result")),
  go_to(reg("val")),
</pre></div></div></td></tr></table>
    
  </p></div>

  <div class='permalink'>
<a name='p6' class='permalink'></a><p>
    Now we can use the following
    
      <span style="color:green">procedure</span>
      <span style="color:blue">function</span>
    
    to compile a
    
      <span style="color:green">procedure definition,</span>
      <span style="color:blue">function declaration,</span>
    
    execute the compiled code, and run the read-eval-print loop so
    we can try the
    
      <span style="color:green">procedure.</span>
      <span style="color:blue">function.</span>
    
    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td>    </td>
          <td></td>
          <td><span style="color:blue">
	For the interpreted program to refer to the names that
	are declared at toplevel in the compiled program, we
	scan out the toplevel names and 
	extend the global environment by binding these names to
	<kbd>"*unassigned*"</kbd>,
	knowing that the compiled code will assign them to
	the correct values.
      </span></td></tr></table>
    Because we want the compiled code to return to the location in
    <kbd>continue</kbd> with its result in
    <kbd>val</kbd>, we compile the
    
      <span style="color:green">expression</span>
      <span style="color:blue">statement</span>
    
    with a target of <kbd>val</kbd> and a
    linkage of
    
      <span style="color:green">
	<kbd>return</kbd>.
      </span>
      <span style="color:blue">
	<kbd>"return"</kbd>.
      </span>
    
    In order to transform the
    object code produced by the compiler into executable instructions
    for the evaluator register machine, we use the
    
      <span style="color:green">procedure</span>
      <span style="color:blue">function</span>
    
    <kbd>assemble</kbd> from the
    register-machine simulator
    (section&nbsp;<REF NAME="sec:assembler"><a class="superscript" id="5.5.7-sec-link-5.2.2" href="./5.2.2.html">5.2.2</a></REF>).  We then initialize
    the <kbd>val</kbd> register to point to the list
    of instructions, set the
    <kbd>flag</kbd> so that the evaluator will go to
    
      <span style="color:green"><kbd>external-entry</kbd>,</span>
      <span style="color:blue"><kbd>external_entry</kbd>,
      </span>
    
    and start the evaluator.
    
    
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_123_4_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (compile-and-go expression)
      (let ((instructions
            (assemble (statements
            (compile expression 'val 'return))
            eceval)))
      (set! the-global-environment (setup-environment))
      (set-register-contents! eceval 'val instructions)
      (set-register-contents! eceval 'flag true)
      (start eceval)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_123_4_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function compile_and_go(stmt) {
    const toplevel_names = scan_out_declarations(stmt);
    const unassigneds = list_of_unassigned(toplevel_names);
    the_global_environment = 
        extend_environment(toplevel_names, unassigneds, 
            the_global_environment);
    const instr_sequence = compile(stmt, "val", "return");
    const instrs = assemble(instructions(instr_sequence),
                            eceval);
    set_register_contents(eceval, "val", instrs);
    set_register_contents(eceval, "flag", true);
    return start(eceval);
}</pre></div></div></td></tr></table>
  </p></div>

  <div class='permalink'>
<a name='p7' class='permalink'></a><p>
    
    If we have set up stack monitoring, as at the end of
    section&nbsp;<REF NAME="sec:running-evaluator"><a class="superscript" id="5.5.7-sec-link-5.4.4" href="./5.4.4.html">5.4.4</a></REF>, we can examine the
    stack usage of compiled code:
    
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_123_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(compile-and-go
      '(define (factorial n)
      (if (= n 1)
            1
            (* (factorial (- n 1)) n))))</pre><pre class='prettyprintoutput'>
      (total-pushes = 0 maximum-depth = 0)
      ;;; EC-Eval value:
      ok

      ;;; EC-Eval input:
      (factorial 5)
      (total-pushes = 31 maximum-depth = 14)
      ;;; EC-Eval value:
      120

      ;;; EC-Eval input:</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_123_5_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=5&prgrm=PTAEGUEkGEAVQFLlAVgHToOwChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKgAsaAjANzFy1OqHpkAhiQD6NIhVkATAKZkANlKZSxDABT0KrCgEpQAb2ygboKgVD6q9WfVUBHIqvKrDxs+ZWtsGgZHRGEv6MALwSHl4+rhS6qqzeFPR+JqYA3NYhNkyqFERMJHYuqQAOFACervHeZL5GJvSm+QXBAPygJEQaGp1dNgBcoFJVVd7KhtJyCkpqmtq6tAYEVExGSSlpJBRZGaamADTDI5eSMvKKKupaOnqZrFIA1qoNnk2+F5f-AKKOyMe3SmVaxxOuWGAF9QKoNG5LH9CsVSuVnLIwgxkgd7isnusjh0AaBehpnIdsSC8ctHms6K5aqwAEY0DTEkkA8aYgBu2ioUhZGk+dNWemJKK65Mp+n5TEFwtFD3F6yZrPZnKlBXG-UGeWCMOwRuwIko61AFJ2NAIslIUno9CoAHMSKpZiQpGl2sjgkUSmUKrI9RzPd6uQVeiGpeMqlItvoAEQAKntjpdbuUycTp0tlPktrTTtd7v0ySooa9qnaJxyAEhgsbcPgzc9mGwOHBEMg+IIAEzCUjm8SYtwaW2qfkaIhrEjO4m+2z+9FB-qs1RMBegAA+2+1NlHFAVc63u-3QbZ7NUMgXZ4BmJDW5sd-+mNIak2meJeRNrYtmOSZ1nXdWQrUOCFcwoAALT5AMCYZl0DTE4wTCFzAAMnQ0AYKkWY0NAaJCNAaDYKkZ0f0HUR-xcMMWn8eC-TRJCXEA4DlFA2UINARNaMTaEjT-cR6GZNkNALYMqwXIIlyY8ocNmcsOTQ-jKOHDEXAdYsSH2cD6MXUBEPU2RWJAsCjlzRNNIzHS+IowTyis10dPVUSpM6QzsOvBT4w5eSyx8zlaybeyJnTJz0lkKcvDcmSAzkrz-IrRKlPooLfyHPQg2pXElhVQk6Bi1E4qDEz2LMrjE2ymRcoJBkSFs4KMotKraTyuqXM1fDpIM2TPNw5L9D8xTApUkKWpq+k9EiqRpzo7J9I8oaAuG5TRqakcXHlRURXxSaiS69zeoAsi2I4oxzO4rahR2sV8vqtaqPEK6lV21VGWEjUUvm7rFoS4alqS1aHrU0BnputqpqiuazAW3qAY5FbUpU011qMrRWWUKRZFUAAPKogSdAqDtildjqA0zOP8Cz0ZZTHsbxgn1gagTUctL1aaxuMdDSCgN3BPSft614qkMET2XE2jc3hwK7NZmm6bZZRakKnriulxHsjS1TMsxQzdl5nSVY8snTvKqnuL1kEDfSZmUce8o9dx-Hq0Jkgjbhv6AuUii7ZBzFsWUKg9Bm+nnfTImBcO4qTYp86uPPEJKroQPg7Ep3GboW2xuT0OmFkZ28MjknAzA2QigIC7+GBzKA9zrFwnd4rS-Li6+2r5qc-T2QZt076o5XZvVArriAGZkZC0dGh8RvSZYk7Y97igLLcb4fCz1nXg+L4EmaI4fUFpvZUTFed9UHNIjaduhKn5p9dSMEpNsfvA2l73GvtwgtmBZJrYOPeGKKiuPyEJ2iyw-kCJQVt74HH5pfWGxUNbHDAX7SorAaj1BPj8f+8DZ7BgGF9JB78UGgQdJAn+0DF772fkZR8iCaw+wni4YUNAyBvBVqrXBpUzqLwssw1h68P6b0+HwthxNAElyPiI8+aFkGZREbIRWysxHiPiv1RBWtfY6w0lMCk0gJTKONnPcmZVKYmAspMKoui6oCJBvZXOLt9pFxUX1bygNUqyItNoZ0sCYYHyAZ7JK6itYhRIDQbuTBvH6BoFUKhxcaH4KiTEq+5RNjbCUF4xJsTnF+WiaAohmUIHhMibkgBHDAzDRKT7FsqNGAEBYOwKAXZuC9jQCPbW1FjJMGijjUpZTyg4wIkRI8XgGEb3eJ8ey+guZVl5tsXMijczeF5L0jyZkk5oIUCQdi9kcwJ2CNMnmfN5k0CVoskgyyPEbXrhs98shJkEBWUdIxptZQEAsmEG5Wy7moxsZlOxBzih830A8-SfS8w7Bbm80AVdLkpNRgok5ysQXdTBYPCuUK26wsIPCpZWw6CG2RQhXqaLgW5jHqMwR4yy6yWmrNfQ2JeYHEeYfc6iY9ZQ3Pgy9IySgzspmtFKGzLOHzxMedKGFk+WzV+RaSVXh64HHSHKflqghUvwCRyQV49WZNA0DQJ0c5sbnLxdpRVSzVXlGGmarFqSdh1Mkma0Fv1+pWvyRaHVerhFIu5qoM5yzLCNkYsVFCm47VpF9SpbKxEYLYzQXUQ1vJjU6QIn0fBeRNEWiEXc71otPr0FzFDLJzjg05tEnm0Gyq8ksw-qGz4H1S3Au9YEANcSXENqrDymttKvCZBrU2p+gaVzDV7RSkGuNGXsVxSwE1f863sjLVOMtLIHSfAdSi1Z3hnTQRLXO8whFYgijnFuhdEYRi9GLZmmt27ET5pmu0eZy740nq6OMA9m6oJXp9AAHktBuo9t6n2nvhEwFgm5EwABUaA0FAK8EgtQJgRKIDpRg9AiA6KoO6cYiZQAAGpQB7JGEYY8zp7BKLFoicwuHz5Ydw-hrohGqBzhI0q8jAHn1AZA0mCDUGCCqAAO7wedIhsEEhUOWPQ8oTDOG8OkiuEeBjxGCCkdzRR7iFkpO0YKPRxjinmP0KbOm8QuqaBvFQx1MSUMr3htBSFJZoFIMi1XVKEK1w3azuveW8joKRiGLwYMD9rHSS9Fs0ZkWGmujuv1c6eNibTXnJOGFsYEgyODNiMAsj7QEu2F6H5Y9mXEsuYGm5u9xEArHuhCMI0Ix7COCWSlqNK7Y31Enfi7lXnwvAZoJuNzFkACqJA2Tvj6FWBqFX4SIlUG1gokaa3JptUoS9LrSQeQK52orba0hnDy8ETtBb1sqvK10SrtgjvOOC-Z-QLr0of0cnINzXaWhkZvRoKzKKbPnLs9Ei7cXJvYo-gVorT3C2XB84+IrAXANnc+3liL8notTsNma8HbG3N1bS8phLvQ3BKBy7ep7SORjjAKytdLZwStJTKwaQ70mujVa+7yOrJEY3oLhy1plP3ggbg4917ifWBtbKG2kUAABaIXoUtI2QOwUOECIkQopGNN71s2v7zezYtwEvUVverMz2xt5wZMAh2xWvbQUKuwiJcVSHDm4tVLAPZWp9TOxcB7AINAPB2lXPxlQVgQcqC8gmajYFpBSk+a4WZEQFlPfe+oH76V4hI8+797IL3liKF1UDyQYPHs1EBREBoyN8fo-+-tjEcFhwURrPkufWw8kZOba6GsxSVebCKVr3rgoazg1N9AMG1v5ej5gS72BXv9ej4PnwefMfgx-h1-b0fQO9BLFSFqOfefi+4OXBnyENZnPOtN530wUkm-ghrNeNBbuLJ6A5lP1Bc-jARhH9sGs7DXfbD6BxrmWou6AB8oABm4fXw-jYGskLi-jYG-h-t-r-sLqAAAW3lvkfNmLmAUOATAZAQMsmDATYIAaXkmMAKAY4O-qgQRD-gMmALAX3qygAKT4EoGf7EFQGUGYGgDYFrJ7ov60FoF1af5wHH5HwACEhE7BhBdB0QJBoAAhsQ3BFBhwiYn6NBwhnB36NgUhI+rKn60QoBHB9BAy6hyhLBR8X+8hEB2hoAP+ehPBj+BhGhSBwQWhohUBX+sQqBFhQB-B+BUBwQ9hNgfBtgPSKI0I+eCoUevuReak2uBEUowsg0XkuYBeIR3yxeAR4QFA3eQRCeoRU0NALIAAVuoBkBESMFESIPQR3mkYXufNLLnicC4QUHEYnnbtCNgIEV7ukfKjSPkfurKGsu+EPAxu6OfD0Z+O6NgfrqSGspACQJ+EHMvkgRMVMXUCMaMf8CfroDfrAJAE3tfrIOsYsUsSMCsWfgAKJd5bGHG7F7Gz6soAByUgVx+BNxVx+OFxtgSROIqRLRhebROU4R0QkRkwwK9BfkDysRZR8R40eSzRwRie4092MQfxIsDg9hlR1R7xUJnw4JjRIUFiGg9QdRGRRI4eAmYE5qEwOi9QDGdoWyG4OJsO2RUg-IkgCoNQ+gGmeJSeaCIoOkaeueNRlwXixJOQIQ+mzmaIVQLO06hwJJY6Mw4phstGFiMwUyoJ9R8KAO1OzxqJrRMJYOvJXQCpWySpHx8RdiWRuRlAZaW2mpnxMJBa5xwQjO1QcazWEpyMIoKRjOzouqS6acRq8O6QyaWOpmzphsmJrMwESgRQxGRgG4+grwZAUEfRuYkZEkG2jqQsUg8ZfRSY4Z1KUZsyfE+gyZtEWq12YUcgRZkkN2SeOIXSakJJ0sVZDGhGRAdZPKVZUMoc+gjZNZLZegTa5u-i2egSAU3ZzZrZJZIMRmJmYpkelmoA0SG4dUQOkaU4yamkLCc5C5d0eSA6gYq5e6oAgxfRygUoQWHWXWj2POJAbwoSvG5QW5dUdgDkjoqQSoowfEMYraw0U4GiIUU5pmWgLICI+ggFMuuYoFYkxZoKK5M0a5joG5EFKZPqbMQF5GlOzi+5RER5mYp57GnWIFQoCISFvWVJQxygKFCIT5Yur5Io75AW4w35M0E5mUmabJTsF2eMuYcZCZbo4FhFnmKKtO-syR1UnZTsJwP2kaZAyaMJTs92HFVQkuIQHk+gkBZA6FoA0u42dgDgTgLgiF7F4lvSwQkaTZHRlokG05JCqFBFqFZaBleM1lwFRlGlu55Qql9BZl9AGlWlSIQlLgkZlIG4YleMElcutgkaB+sQOZgV0Zm43FiZPUeZwVclkZClJuXQKlkBOZXKMChZuQ6pmlY2suUo++ClJFN5NAd58IDMDi4gdQ0wVFmkNFqgdFPlwpYyW8D5U0hlnF0GGZPFyFEFZa3V6wy5yR85VQya-5M5QRiSi5PVjln24luYo14QSlkakwLAZAJeURE29hrFypK6eMF2XFA1iVw1dpAIa1cgclD5WymQLlA5gYHl9h2J5JcgPRTANJBqdJDJZATJZeGpk1Z1IsU19hIspOW1LCemV2IMN2hZqgyVecksEgCgTAzQJJayN258sVsyxFaNpQmNI6LFVKCNZlZ1mZvFFF7mN1ZaVQZAvSkayQESxQyaMVSNQV8V511NVZFZaQTgOIGVNgMFs0occFWk92nZZlG1E1HZxRvxVWLgN1nZHZ4luFmaKt7FatfVCV1Nw1q10w259F-VW8bFJ1OtVQlNg1fFdlSlWV9B4VNgWO8qjKGQ-krNS8HmcqIgqlSlwQuE-IiQDNUyjNgpsIJNniygQdt8IdDNvSLtuV7tDNkEAUOVdAbtmQ8dtYeGcNpNW8vM50FN-VVNQ1-FI1RtS5uYBAWgzosRjN0FE1AcPu4gsQhdSgzdEoMtGl-l8gldi1Isnd6wYVUoUlycLdcgCtptnwWtJ1Q9dAupwNwQetZddlhtC1Y1-tLar1P+TtSxidGdD8NdZEuY89k9pAftrlFxgdMgsdZAodBVW2MIPlxVE2e9ZVxdiYAAQrhMRNWCkWZbWTrM+W4KyLRSNsdq6vVf-YYDfCqmmSyjIe3dInAzyu3fKinESOg4A72cPQg4Oa4gjP-dWWOX2cxRmlSiyDoOQO+sXSvbbWBYQLXfXUzRNWoBELEFQ7fTfuw4cN3cML3Q5SLLwyPfLhNV5dNZZQBfxbZYw0I05RyCI1vc4jvezvrrTunQqnlcfc6KI0vcEAfVo8nWQLmF5co0sb5W-ZaSEDfcHfffHVfXsSdhcc-bCK-T9h-TiBZD-eRVwzQ0+aQ-+CAy1W1WblWiDH4-GbIxoFjZItQ-GefBBTypEzwzAykyQ8MnWfg2qkORyOkzg62ZHeIGlVBWusSkfJGefMWVirrJzXFSFYpdk0ZKHrKE7BKkjbHg7HU-jalUjelU01+QFE9eEzXCJX-IKgM2suNOfIKjUy4LJSdeJQMzHKKocG09xNMzygs2KRZks2U2rOqulTyhBfoKU89eUGshBVU+2nMwow0ySSs9wuVdxFc8c-xaHAo-0-swQwNMM+7uUJms6GEhQDQILUYNbRdeXSw43W8bw+zcC2Erw2C2YD3bpZiEI-oEo5JeIziCXjNZ8wbTTR8yc0o442Cqo4Y5naHaY7i0pZYzpY4LU8jZ2Vi3vZFUjezcULmVzbGTzchXjSlY5WlaS1KA7fYZSw-CnaAJo1S5GcLUVTLlYyMJ4+C9xD49KwiwE5k8A9RWA61RAzYEaHnRaEC8ZKC0k5M0fKayC4k-xTyta4izAw6xk0A3g98zk4Q-oM6wU2Q0U+UFUJ9iCKwiSUG2womAG1UJ093kQPQO+qG09l4CG8kKwkmFUDG1BAWbMx1ZSlvPQPSb4HQ3y7mPG93g3Siuy86JyxGd0zGfQ5EBmW8Bk7mUhci-K2K7vZlmm7G34A27mDKw-HK+YwCLY3fQ-WS5cK4yMxQ1vBAp1gW14yXTbfW6wtC+WxNZGVW9y3Fby6XcW8m422Zc27RK2-bb1Ko3vQCBK3lZGbEYG-u-K6MSO58HHWHYVTJpO-8xIPm4jbo5a6ynmzHkmUjTyrO0UD+7E6yqB2fEB7o1iqG02-zXRA2y67g3QPWYc-Bz68PeQ+IJ9mc25TgYmNEtcxtrc7PQ5qFcsy4MWks5hCVCKk835CtdxMRzyuR33fNXdKHOh7k9Ef1OR1CFiux-dcoJkAJwMxUv3WqOJX69PfnBuAQJ1qwMixC-rVC5NRveEKu8MJtSDLEEbYp0wKwN3GpK26i4y8rVJ4yOxRmWQ9i28bZ2qFPZrVZ7dSdY5wvYu4mdY8DYS3TeY+2-6tYx5+fW7AVU+-nPY6+0-S-Yqx4+eSp2q7-QZ0p1q66yOME3qwa5pVA-6wp0p12Vk+6xc0fCl0Z+fCFzymV8ZyF62wM9LDLY-ca+IJmrjOoIoE5wHsXYS3Wz55cFKzo3u725NUDk6rMDLXVpZGWYmBrWTWWYl3W35zEiw5+X5BNweYmMg7NwXTA4W7uzTRXWWoN6WybWt0LZNykzN4Bpmikwt0Wwd9Xcwyd6twlOt0RImA61d9KHJw63d-t4S-HS9-1G97EMfPm195GHJwB-O6q3WyW4DwTq2iDxbP-XOxDyEL0JmlB390u-D4zUD+N+dxt9V+jz0HJ9Vzj5C2vSNyt4jyq17YmH1pVdVVh-VbUI1Qxrq2+bbAZgC1Sqz27LzDjL4uc93vGJuEL17SGDygL8ZGOnV8V0j0LTUz2WEW12QB14yL7RN4r8NPw1O9fEoLL+r5r6F4l-jCwgnVy3rwuxb9F81+UKhpjLzBk5kF5Qw+5ivaw28QzZuwK9zft+G2QNl9NrXX7zWwH0u4mDoyHxNaG8mivUmKG7H28bkgn3y0mHTSnxEC7ehuDXEEb6r4te11NCIBpZGq1-n61zjCX51-bBpR5FEVQPQbn6oCLFQIvRcZX8i+l3IJL04FdfowbX1wCPQyP-8CneP5cIN1PwRvu53-ozYCUoP1q5Wp+5mgZQcEwMrIhajWYwM8Wrv1WDS0YGv7zzVUeLZwo5kJL0B80CEb0iFDBBoEbci-ZeXf2WI28W6MLxk8mkNGOgC5PIkgRGU5mOgyZPFegRQe-n7jf6xFxevLLeJvyPDKwf+hfVVmYw941gE44waAaoBCJTIEBmaAXmAN-4y0T+xwLAXS1F6S86s2Fd0DuG3CrgEkkvALFAPUD4DYBIYXMNL0-JjodAlAa-gNFYFSwEQRtHDplyVD0oM6LAQYMFVv5ec3Q8EDyPwKv7DVpBW-dkCKDzi39LScAg7pAQvZLEneKQV3voJ658sh2SxY2Li3HbvsJBUPfdh5RRRull2bwZNCGA0ohQu276HpEFzn4Ntk0xaQgqG0freZeoiYZQHQDPjtVtsrMCNs4KlC91Qc97Yyu1g4yJhDijWNweMFgAAB5WANl0NDuMjBItCaiC3z7AJ72dg52vu2TSIwG2Vg5xBULJbONnGE8EgD7hmhUAAAXr4DSG1DAhsQTwaKwiFRC3QiYWIbYBCir5dAUTb0Hm2AgDCwUCwsiPtXe4+DSe33HwTgOgwuw1hk3CNlsMh4JCni4wVYcBEm4MYuhFIPoccIx5PkbhvQ-obsLKqM9ryt5Lpt8AiCc9Q275LivsKWFTDnEswigPGVk5Y8I+pzdtKClcFJ0S8KYIsBmHdDZgvBrMUEfMMBHwM96jfLEZN3DL3Cye8I3YRcPWGg8schIh4VDEdqhBD6MCZNFDEFLON-g4wMqqSNzCWl3hzPL4d2gAZ88Z2EfUJoaFF4YioIsndcvfQ+C1A7+nWUTg8xogJJoBsojLACF6D0CTy3IeEJ4Bmj6ApRog-qH5CVFMA5R8WGTNlgShGi5ReycYBKN1GqBpRZODkJaNhqft+217CPiSX97ZligUbK9u7X94JtsRovL0cfB9GmBmMibCEVSjdC8ZZAifb3hEF96xBIRyNVNsH1lpvEdG6fAUamOj611s+KRePsmKpShtVKGlVwYzll6YIfAHg1NMMArHRo0+nRc6GsmuHUBuhfQ3YPwg5GL9bCkBUsYmDbGChbhZ8QTvWLZr+9jI10fajgQ7zB8WG4FI+DH0e5kQgowwLEoMBYSmCvR+HGnLpVtGo1JxyQJULuiwqkVjyywxiMy2PEigghCAsyKjRTE8tiyK-Z4keOnHmN6WpQvCpuFRqJgAAsgMGoCWI4MH4Y8klS5qYZPxow4qGygj7dxNxeifosCN+yTkpGYpHcTCLZZy1YKsQA8cfwgn1MbxKqMlh5EwqxB1RCcM8hxj-FM9PhhE2ZHRV2HSwfy1AuIR-BN68xEhX-H4bi03bwix2SQtFgqL8xmNLxLaSIdEMmFSgvxCcY3jXw16l8L6Z3U-icDLEJwVBCkxQP0NaFm52JIMUUbGSxHLDcRjoA4RtxBBMAKAlImwL0HPYF9XakrExvVhQ5hFqxxNS0ppJL46ScupIc4XiI25mUZoYkKsXAxslkg4g7gGkZWKL5qh3JM4leEyJJEBT3uwUrcS7397hTegaUpCVu1mTJSzJlwjbhzWRpZSLKxmUzP7wKmLCyR3EIKYMD7qacGAZUpsbvRclNjSS0wA0ozlySG1QEvkzUaSMm7J8qJbg6qeZPe5Z9RpPUmJK8IS7siry3InqN8L5GKD9WbEltKKKjFbxE+k42iId1PoyCtB8gwATCwiAr1sxnwGMXGIz5KVDO2MAaj+y5pIV6CtGRPpZEQnbiI+BZPae2h7FLZ4J+0pSu9PqliQs+4YypMMBBk4hgprkqaPFI-IAguyL5PVhoKPDHSdBY6VTvtgb7plS6snSyYcC94DN3phMgsvay5aTiBJdbX6amUV5uj3aJUnljTMBntoeULtKmXSPdoszmWqNCZiij9GZAmZ27Hmc9OLKBjT2sE8YTEOzYgwPkVQCsNDFTqe1Fx15NYfKIaDjhsYUUWcPODQi4V5ZiszWROB1nUATwXEFmuGVVlvB1Zn5B8JJH1mAZDZO0Y9hbK8TFBrZtsxHsJRhmtRao+ieiAbLYAKydoMJW6Gnjdkqy8waspYXbM2gChpxr0O6JKCdnByjZYMZUP7McRmISsUcikDHJVRxzu4ZZQ2I7O+7OzPgN2UuebEtkezo5Ns2Od7Pmbj1U49icOK5kDmpy0ERss+iHHTh1UO5Oc2uV7XzkNzC5TckhBjCxj9z25Kc8uWnJ2jyxp5tVWeZHKtn1yvZbGSeKvF3hlzIeFc7eFgnil3wkMxIZWevNHmbydQF4XVCmz3kPCD5IiC6MPM9mNyt5AVGlFAmrnZAg53cnaJbHITfyvaL8jeUsLfa2AeQ2iMTHomzlmBf5IcyuWhhgURwh57skeQxjHkm0yqFUOiVVXKBfz-SDVCbCLlpF-zRx20z4KFJ3m+A3Q7oMtKwBOT2B0MZaAXqN3KbnRaFonLiows2DVgKBvfM-jZkaxwy4pcDbiS2mIGxT3oYi7gSmkGA8D8EDgg+ZfOAge0L5GC9WZawLmTdDI9wzHvzykW3YxF+GKZhnQYxeA+I-00kNwJMWyhfuaVJOAcHMWjioQn5FRbVLglxRKSYEzMHork5ULT4LJfXKYqcX9BRxVigEGZGHmD8zICNEBeNH0DqjqimWexX00cVmyLFUIE2u4sm5oDKRQWYRQEqwRI5zhBiwJtIuoWnN8ECi+ReAuWJ2KEW0TEChoqWFjiHe8IL5LxiDg353Faiuue4v4WocjF1CkkmHA3AJoTwISjJeEstJFKfAC-f4MopaW+AQF7i38qzAPljgTZ-KXWc81WXLKpSnS7pRxALl9L0FBchZTYEkXlLhlgSzLDYueJRK0Fr4ywudDiVoLDpvstZqFSyWycD5x7dZvsoLmHL2IXSs-L0qBVjzLl-iwxYfOnjb5zklinAtEuhW8E3l83EBbP1cLnRPsiYfFndg5QvLniCS5jg4qWR8QslSiheZXJLmKo15-Sg5WdMLHJY8JtKvEG5m-A6ccJYtMIGoAKIyYK5yM8XBFAsxoQLIU4KjHkslkrgD5VciKIZHkyWZaMHZXlchUhVrCYOSYCVeso-gHyw5EMWBefIZXAqmVSWT6DJTGYTQ3ot2MjJypMrcq5Uqq-laSEFX6qs5jIUVfRHFUzRJVY6bLh5FlVsrq2cURVd1mVXKp64agI1ecqhW0ivliS88ZmB1VyzqV00BUInPDkBzUFecxlWuzeIZyGRCcl6Jmrim2qZEXK-NRGqdWK0BV1KpVOmuLUGqPVyqM+ZdB9UWQpVuM4qIGuFV4gFVJ4DOdCpVUnI1VHy0BchQSVJKqVZC4ub2uDXohFVeybnMOqjW5z1FFyvpLShBWyAwVPS5ZWctfk+paMYypgBMvnCZYEVvISxZlhXVHrni1y7VqIsqXWNL1VGbVaitUKHAUVL62UBTyxXYrDguKqsgSuVTXrexLqy1VeiJVvi0l76-9QUDJWIqoQH64dhirHWSpKVPsVwYhTCCkBZkyaAAAxpoQkfGO5muCAqbhekOGzZPhv3TvNcNCqA-Lhn4BdqB49GmjRuAoWfNdxziWiFJi0wKZUBpG3fohgo2X1ZZozGdb3LTgrzXYz8sdWsthFs0lAKTS6Z8025dJhE8TDNkpVcG2hVNxYpATI2j63otN3DbLq4KkAEB8aAcNTSc0sjWbgqAcCzWzWpBTwlAOSmtfUu0Ubc8lEUqzTZuTigAX0yy8sWzTFLVrSFCCjQROgZj5wighcbIN6o0C+rheLmlImQEjUzjXVncOLdSDPl9d4l4QdzScswVhaUiWMSLTlq+Rdwe4BW3seqqBGi8T1Z6oJWMSPjkr3kZisJWBv1wRaR10K-UuxDmXNBMgYWB9b3zhW7wL1R8ODb51lDQaANZYGBmZFxWYgCApmpFQ4u1XJLwNt3E5vpu01ZKP1Q2kRRUtPhjbni0yOQSFNhXxTLtGpU7SNurBlgFE2m0+llsW2dSZSz2ntG9u4a5hKtI63bdfUc15wA4bSz9psrEUrxo1h6jWVoG-iggZ0HgNgVFsVnAplcJ8ulajrh3jqTaLWxde1tZSdaNm3WzJQv0FVzZsdKO9wKThAU8Q-VdpaHZUsKQEK8qK8enQpoOUODM0Fc7ZAHnSDb8XsovUxWQoF32xz4Quh0Zdk-bCVxdCRUznbw1ktNzodvLrQrp2T8Q8M5-fnYrp6pb9lYmW5XfV0ObG7tqyayTQgol1q9zk9KeLZb1N28dho5uy3pbo7gzql5bcuTYCu50mqXBbNEQIahQF2bjN0u9LRMDB2TyOYoemyg5vxpLzbIhVbDezDpieaE4nm97n5uylR6l5wW8daxsDBPa7tcDB7QUH3byA5Az2trcqyOXgr91qy1PVjAGUJwJtQyqbb4FfWk4nlntGJbKHeVRyR+q2kWImD53UqbdegXreBsfwyMg90u0nIhqvWUrdiyipvQiiVjPM59hukHXqVz1N7p1CC6PQrERSb7SAwe7flRsD1Kdb0NgOjVPPzirBDk2wdKoXochTAftJe6hWXpCBt63Jxi4nTIVJ3R9SAVGfklPsuBd6F+YeM-dLpO3zdEwpO4fUmD112JyVpOeDVeKTAiAKVLyhGggcRWLicVI+6UjVt9Ks5rJ6B6fZcASWGdXg5GFDRcQcVgHKDVBzKmkrQPHbR6dar3YonSrJaqMesdURSr+WpqAFyOnhGuuNWYKBmgqx2LJtgVc6o5ni9EDz2zgzqn59KmNZorzURBFEyaeRLwfLX2q3it8m-bEBcy3ArV25fQIogzERAkRJYUTtNXzA2hKSN2UsKYbQqi9i9Nyjvd-tH5lLH152rBDNpJ0EHuI2B8xBEhS3QbIDoRw4HgcQOyhcVJBidGQYlJIqMDiyyDZ4bvRZHqDkGhw5mDyOsH9ci+nAzvog1kKbDJ+sVZIa0OtKRDM67ElQGQVuxfdOa-3RWoiBB6qtda1A-IYKjMdgD9UDtUzvDrGGIgXiITDAiy1wl9cURLxPQUFVeJ+DYxtLUSq8SPUflr+1ItWHGWKrX1XW0JRTrqUjBejA249UCAOOTKlxIB449MsyPErkiQDIpLEoQxIY5jX2soTOrsTSA-MjW-bFSqL5vH+9ESL46aqKC8gikcx5NFCb5i+AvEXxtNMEGSEJIkTqqmsD9kb6BHJt8UmvZcFkUZ6j4zBqA-3vgNgHPl7RKpYMF+VuM4u2Et4qqrNayAcyiO9JBEmdXDt39XyX7QSf1yGjJwMJzE0St-3wz-9821lHNslMyFSTlpWJRSeiOJNkjI+gfCwdKOjFttPq5faROAG0IAoUJ4UyOuwGBZaRagFk2ydIRFJdhhOk8BpjiNLFmTILVk1y3ZNFJUVTpsJBzR2BbGBohpjE8abHHCj2lnpl09Wx9MRJMgAZ9hgmIy0jq7knWYMOAKWP6drjp6onZ+qTCkmzjfkaM9WBGJimn1dygA1qvbXcRszxJ1lHKZLN4HKTOBXFZ3nVMamZI84RMO+qSpZmlTOp0XpPgRgjlwTIptHcyfuloDrTiPW0-OAdMalhziZ0c6sa2yhnvTHJyJMNDzM1gD9Rsv48FIPX47TVbJAzXJ3s37ntNBY9HSKHYgHmN+xmvXZdzsMVao9-xjQLHuArx6nNwU083rs83jrclfq-zQ+eCn573Fuxnw0EduU-B-DtgQs8EeniVmZC2Bu0mZAQuyh26zSog0mGQhHV9dTMBfWkvguVGZM+2mRsee4bHazjIFvE6Xv5NdBrtIoW7b4fu1UX-g5F9vQxbyw3n3tbF1NUHuxI7nPzPO1Fcxb-1f7GLMmYizQwYMdLQVxyiFX7qhU+coLYFmC1QbWSRHyzXZiS-sWQvPKNLmZgfVbPyP1mR971eLUaRVKS7vjMG1s-Bc1WWQuzy+u0gFrfO0nkYm1BqZGTxYdbwjIxt9WWdsuekqMDKZxQ1F11cWz9PFwE70lpzDzJuEq0AHRxyUSEUecUPiNifTJbxq9sFrAyAYctuWkaeaTKxpjwOBWetHvZpcCtfF4GJVhBwDSPpQM4pDdTx5s6iCsvZX8LAIVJa2Z23yt6WUVtBeIXe6xX4ryy-q6D10XLDpsZ+jyIZs+D2ag9Y1lE2weKgKWO9IltFXBeysL9YZ7lsk+dEKvwHirFi0q3NdkhtWmL8Bqq4ZeQPj6sL1nBq02Y1MOK8Lr4jq6WZiOvjjrcUAS2hqjlam3rqK37iczWVBnjs7jXq57Ris+q4rWETPaNdkgpWcRaVyhZ-uLORK7joxsnScZmWkgtreVna0DUfbnWyzSB9ZNbpuu3U7rESh67hdavPXGlv1io7F20pg3wyI1ttSlqhvfmNuY1+LhxgZ2rJll0avoDQBSKrkSFFc7Ll+KNaft-eNEVQO6FLBA4wUh4UAT6CjD4J89wCBwTLbjE8LxMhgYyj5gE362IpIYDWxh3d0Zcbl4IA28AKNuq2cCPocYOrC9iQ7z+nCj+amNh1JUSSPhXs0ZPXCbgb2DEvmEmflt4RUdFtgFrrerB5SYyXtuVgM19siSOQaQAOz+xg5c0XADCwOLwvDt07I7323k8jfAuwN3A-AYth4DbgkzcTLFiUwAcpJEhtbnChWx4CrgobS4OdnjEUGnhN25bagPO23B0va3s7TClu2XeQ22KdgpARuxHyzvR287bdzybPZ1s529bK8NuIPyG098hl4IVu6TlYWl2N7Dg0uNPaJjl2JAVdxXn7foBVxcK9AAcBPMfCp2xNwCNuxfdNGXAz0CA1+93vzCn3BeXsN+-fY-uI8T7nQgqCtCAeYoJNFoDu-YC7tHzz7wDqjr5iUi33AM0YR+wkmfsxkf7xbDe-uC-sJg8HpeFQPA43BYJIHpOYByUtIed2KH08Kh-g4cETmf2ZaFeEg8ruRXhJqDth3owQ29RBL4p4Sxw4rvuBoHxQhk1wczFY6N2qWC0XlfMa053bsdrrJXerqyPgOUN1vdHY9s8tRHn8NJLmX4fA5eorDjTMNHcuvjlr+JvLGA6JBh5NHujHS6Y+Rqy2w7pdquItrgcEAEHPd5eyPdzueOLLMmRx0Y8HYSWt75Ub9tToifj8t7B9jhyE-qXnRsesT4Dpwf3pcPWhJQjSWY7TOtbLHijsR5w-EfQTgzn7CvYyGr1e3FEXwEkjY7rvKVl7zdvOyMWHvz3S7IxBJ4Yt3t07BlakTIHU850F2aLRFPkwY-XsNOa7QllG5cSUD-3VrLZzO6Hf7vBOF+vdjx1M5GL2OCoeTtxyvdHsL27SHT1e2PY3u8kt7ck3p+s+udW3D7rtkKDG2Cqe4-4FvWNCAPkyrUcieRbhxZ2uQBtbkkyU0r8+WGr4tAysWQvLM2QT71ghhVFe85qCfO5wBVftCDbi6906r9sKJD88oAmPgg4LpfEmE-T86hc9keF6yXqRIuBNdLXJyMEJfKwQXlABF1S7IREZqB7SxF-NkTMMY02hwRpjocLFyY5wQQ1l0mEOLQAhck4HZbzCfJ8uhRLaa+8K9-Zq2p8sYbQG4D8DsuKIjYEKDmU9JZE+56RkMhJ2jQGvvSspdIDq6fgiklA5ro1wmj9J-xHM9pM116QdcxYDgyaJZD7EjQcCpwjU7csmnrGyg-g+ALY38GxqRmsMoxQHZGcAIqWcUgx+qKAGrpJuw4rsBN0fCggOhgwYSETpfhCA8CwkWxrN6ymp1eIY3lwDR0Y68Rlv8bBQQcfpStMiddkIwLspAT9urmQHLxFwmskKRbHcaxDUt+cDDfAAvEkb0NyMAQPCL+SlINt10H0CyBICiFv4PW5EuWRlA2RGgBSUre8lmMcbz0pAS3v8lqrzGHt1gVHcFB8ATsRwPFIAwqWsd7O6yUW8MdI7f4ZgPtxU2IbPvC3wQIDu+4oQlH4CrKdFlaefdVvTGzbwDzpHXehjqFNOjIFhjEenxEPeRsd-CFXJ252w7AHmFICFxkAtgGvR4Jh5ledZJ3oHlwFsu1kyv5MMbqD8bJo-ThdZcH+2WkCrf-AGP4sijzITuyuHeIBQYtmRglh-SePG72GftJE-egF3yBIGfQSiJ8fbQqNIGWu6-eUfZ11kG2ACAY9yqmUan2U0GrMwcfbAgOwz25jg+6elAHKEYKZ7nX3YLPZZMzPdmM+2eMwTnwVPp-QvNyvlSc6xKm6yiWrfPfZTz1KEcXtEgvpaz6DJ5CBuq9o70MjKp7E+hfYv1q5z7yRS9ccoYiX+Z157TXbRM5cX9G3yCLXgx3VGeEL9O4zkRf4vUX3klV5LU1fRI2XkDw28Tj1em1cgDlHV5K8FfUvWXgoA58logapUNgVz66Hc-KpWPzb+-TPNdjIegwXu2b8PQq9dA8Va+gFLMkvy8kvdG3vmM17WtJgeDiKYz-+7Zj37bDnnpt9Si8UQf-PtTG74Au5SXe5DGbpmCZ83VLe0OK3xtz7MwZ0A+5yb6L6ie89-fPQMm173QH2+vKZC0m+Lf0X8+1wu4BcOD7D+pDzfEfeW9apd9h89x6Pca2LfjAQmfvcAOXq7wjME9Bh73l3zNOT-e80-UGl3zEFImrc3yWEbwODwYeO9dB5kt8xthd7E-Hx5glh6r81NO8WHFgIv4D6T6iEx3Qk86soNInoJ8E9KCiXn8bd3CU+Yd5gDX-d-RCIf9bbVy5i4cLCegyy8Pin6XFcNFHhijPqBVYkn3aegwLRto1N5MtokybHHhj2yXsgWeySbv1ojsn8-GXvfqMV39C6Bc-JX38uwF18h9+Xf-kj+wFNsBO9pv7YD+71Jt7g+oHjXWn079n8dfkGs-8KRRCd4p92J+fpP1I5a4OCl-FkwvGUsGSe8C+L0kfx3y3-tibYkv07-FcJ669SgLoDqewj38+jyVFPLbOo2aih9LaPuXLe1z6QL8ZG+2s-91-P89fE-SfLtOf9X+skV27XK-7f53+vdgBgIboBUNJWf5G16AAvgCJponwsRNNrvkMHf9Qeu-O8Xv8Xo-9E0bhn-5GjcL766nKAFXDybKAcHm-5i8WwIf4teqbKy4JmecLy6KA58Fy6wB1ZHy5wezznnCvOO-oeRuAGAceDr+UAZELOAa+CvhEBELnB5j6muj8hnUW8Fi51ktvgC6KysLpnAMetAcF4C+rAdJzhGHAbdbLI2PtdbZ+KApyj8B9VigJweA+NVau+G2uNjnwAyPYRJ2nSN0g9ujRH67NAAbgyiyC2ggRB1g2AGZB-AhFnHrSkZQEa6CBKJPgApM1YAyxZizgAXyNgfwHBK4QTHiZZ4gIWED7d4+XEZyoWNVuhadC7YiOJdibwDganA2gQUB4GEIMqZoW4bDAH3S8ARQYuOEVJBqJgIAGAASusgIcSrkMQXRRtWKFsTa9mW2mkphBE9gUD6BL5tK7MeILHnDSyFKi4SJG4RsTb6u+-o341+hQTYz7W5OtBw000AQxjhmQElUF-AANmHoBuoor0F2BhgWD7n6MxH8AU8OQT4HDizwv4GBBfwDUFXqZ7rir1Bhrqv5OuFBm1ZFWbQbaxx6mAdSgoYGgFsEuEL1m2bamgBHYEHBQID0EuEUwSqZJg6AU4GxBmWAkqZCkrqUEzgsrlDB0UNll1YuE+ACCwTAvIDu7kUDGPMQTYAAEqHEsAAAAyfQY0r2aRQA4GlBzwR9iRsKJCT6JwqIUMEuE2QQ8Fk+CINsplBdHq+IOKBQW1bFBHIAgbQm1HqUG9B5eitoEhbHuEodmx8P4ALBRQdppNKNIUhQMhIQPgBgYyISkRukwAMzQwQX7GkB-A+IREHFeDaqV6Fe4BgDKtmFIYARUhSYEKbteZXvyH2kTIbKHee4Xg173QqKuSEchzQcEDqhvIRl7WIWQXqFeBV3pZ55BKoWaGUh3IfZpCmjobaEtizIR-IPe4hkqHq4zoSYCchIQJaFCmY1oAQyh9ob94T0APhD7GhGmKaHBh5obYBhh0JvYA6htgFGGJIuXot6A+ZIfkEuhaoW6EDBR+lICZhzeHaE5hhIdQpOhSfEWEuEaYV8AVhf9N6H6hqvmz51h7IcmGuh3DDyFCmUiF6GHAOQXb6tGNoTZaqhjYSWEGB0Js742hgBP0Fx6pANyLe6aoEQrDBjbuGE0odSGwDNhLhNjzpKQVpAHBAvIborVB8BmEErBI+i94ZwxoWyGThCIWaz9hgwUQFzCOmiMQjBtIUSFMergZVZlmSYScGPhILD+xXWmNi2GfhfIeeFaQr1q4FLauKsP6iQznjhZBhsQWyEcGC4XTZpKB1i4ouEEEYnpQRGYI8FugywZdZre9+rt7J+yEfWE9hgBKEEchV4Yd5r6JflRHdhWwbRGE2KWgxGj6VKFrpxBbIaQCTgXYQUE2W6EacGYRrZthHgRm4bOFIK1iC4TQ8oEY8aAECkfgZL6BEa6BERgkVxGDuLEQ+GaY37ImACRakYsEXh9EaREDG8YUJENhJkdBGHhJVh0G8h2JGQ7sQ3VLvhtWi4SUEvhC+G+FSR2ITJGWIzkYG66Au+PuGo8YHIZHERSKoCEShEbgI5GAc7BqFIa6kW7B+WnEaRGOk9QHO5GAIYQHTwGqlvTamBYACRCoSA9LeHShVYbio5uNEPm6V0D1AGH-ADikZE5RqYdOEvmxlkMFtWKkdZZ-AEEU5Eic6Ia4EqR1Zi0G2Rl4eZFY6lbixFNRKYZWFth0YdB5KArbgWGtm00b2E0Mz4d3A6IJCBGbOgLYSpFoG8kQZHTRyUYpFBWpVo5FbRGZBrysAAwKYKTRGEU+HuhXkXGBgi74bhHSRm0QFFXRiGLdEu8e7n8AHhx0QDFhRvgKpEBhB4cNG5RtkXWbE2uENu67uESPVGWWMESxHMG2wfAZNRXEQO7RuU0ZFEzRGrI9GlhfUbVFlQ9mL5EnhHoVtFum-0SEGtBYEedGUxX0WQDXR20cuYthHkdSE4hr4a9HkxtgBdFMxLMdTGIxoUfFHhRkMbYC1mSptpFbuO7nICTRfEWyHtmTBnZaAEB4d1EFAHMVmZ++HUZcGNu7UdzEJMeIRVEj6GFqZb4kmcMtFZW90GtFRMR5phbvULYdmFrazcp8hMBCYdYLU21scWF9h9muH5fIDsUOGeB1YdH6MBHvpth1gdYI9Y02U4T7HXm11gHEPRwEfZrLhnwmTbGQ7PDhFYhJ4WyQOxJ0ecFpRsMX74h+5lpTYakUcXeF9cysf5b4xB4ZJGJxoLA4p1xusYnB+x7ELnE2RhERFFaR5kfCgURl+CxFPWecUkYRB+fmv5dhg8R3EaRYMVxFV+jQahGVxaSsdFnGexFXExGpccjFgx+MXRHBhXEeX7HeA8dHHlRc0dWEy+1UfL7uxmpoWHJhVJjlDAopmvjGWhoSNd56+vGDoBTApIarEgxp0T1r1xz4SHA6xLhDxBhIesK-EWIdHnnGSRDMXXpQQEvhGFiRhMTOH-xBsW9FZxfMXrrtxcUeUGgxdcXnEXWxNtwHk2JgTZYTxGseJEoxzcRTFfh7gINEGROCZPEpRmMaRHHyv7lZE0RV7n5Ed6v4aZE7x40UY4QeuMYJH4xTsSbG+hevvwkTh1kVyGxxM4c-FlAWaLuErwjscbG5h4Ho95NBNlqtHex60U9Ed6rMaHB7RR0XjGHRsApvEQJuwQzFUJqHk3HwJScQMFIJ3kTzFtWEEcfKQJwMaLGgxB0W4lYJmkcZG0xtkYwnE2bOmolIeAiUvruRiIaWEIyTiR9HHybpk7BcJtkZAkORMpLuqwJcNuEkIJnkfYkvRCTMkojB0CWknJWuCWWaTqiasMSfx7id-EU6QEQ3FYRuwadbgKvIVIh5xY0cTac+SsKwlsRxSQXEEh4vncBGh-cRIlsJqCc7QGRwkaACCh1QJ1gCgOJJEBzsxEFBhOw9CdRFYBxNpb4m+7hoAEsR-wcsnTx6UfX6kGC-hLjrxjBrBramJySvFXx88b2LlGNcV-GsRAYZrE0h2ST5HRJHCRmHGJoMeMn4A0PDVTxhhAJ1hsw+UvpEmJniSCnYJ9SWYn0xySemG2gywFQBqALYdvGrJBIbD4FwnSc1E2ATyVzEOJuSaTg3upshNjFRBcGOG8wPUR9H2A+IAinQcXiQlF2R1SZgl0pYKc06VJDyZGHKJV3sMishBUTbHvoOiZSluaq8IBEFAEEZSk9wG4J6DlELSWZH4JLcusAhwuPrpGSJIQNinPRryRQl8xQpgKnFaQqQkmdxrSailyp-3mJBo+SqcMmkJmSZzFqpjiRqk2AjkUGp6pU8QEkEhlnkZ5mpXSX8AqRS8T8n5s5aPKETYhnECkbguyQakRBrqYSpDJHqeCmJRviSEAqRdCX4mdxSSTomup-AOzERJiCWJAAJEyWACfBKQGLiaeXrv15CkH0ammuBtcZCm0p4UcymMQrKUDG1E7gcpywxjnsN4MppyStFGJisecloRSGhknARjcfUm2p3EJqE9eIvo6kMJkUVxFahhXm6kKxAEZilfsJid6lgAvyQWqBpWgMCkjR+qTKkEh06X16gayTveHKpBjAZE1ptgPGmVpiaVPHJppYUaHpplqRqHWpeKbmAEpMrhNhGh3tKoDkpHCXekix3ifSlY2LKf+lnpqIHWlGJkwY2lBxQGi2m9+B6QwaNRnaQVEiRvaexG2RF1qUk+K5STYm1JEkYOnvRHCdaGT6ecc6kRBhGZF6iQSMe2krJC6V6mdpPqX7hxq7RACkH4G6cGlXpKUaGn2hZGc2pSoh6fOn4x+0UlGeptCZelbp16eYkwpY6X2nmsdiVmnIJVQTmmkeZQe+kden6d+nBA+AIcTnk2EDIDKA+cs6B2BKcXgqrhjIOuHdJQgfGoRRK4Z9598GcdjDnk96bYlx6WkH3IOZbySeFGZd5GnFmZVaRClgR+KfgCaA14I7xTU8fA2gdg+sbilQQAGH+FpRbwZ5mhcYREQr2ZIGI5kyZzmRmCuZqWe5l8xLmWnAOZdwZBnE2TwZgGUZ2RpZkpBpQT+K-BXaW9a-xSIV5COBBwS4E5ZdqXmnlBKgFJIXAygRNT+uuElDJUoifGshjReyfnFUYkRpyJ1mAGVRj1pSxH1lgyrnPlZ7E82a7QaBf-sRqswAmiRhPMOMGwrRwydv7Yv2CULtmxGJJtNwR4jaVRjEc1MPxRUYl3HEEfcCLFRjQ8AhiDGvZu0ccbtEOBueC9AeKkfBSYHyK8ANA0yLzCzAJ2VJh8QNkk7bHZPoJRhJgAOWwBA5bgCDmlgw0CdkqYkOViiA5WMMjnigpYAiBAeJJN9E3RrGfoCGAgOszH9iyrttkkCsOVkaFc0lBtxYYv2VhiYYamLhhXR3xomBS6nJGCDsy1OYphnabsH4JX2VHsq5v42vkwJj4adn4I6+LgOqIS5jAswJ+YfhKqKRARGExiq5LIurnyY22WZA9IP4A2A2A5-Ay5C5bvL04kk90teBRMzfPYQWADLkmDSIAuR9Q3KA-BDmnASejCASWrChuY7QumayagsyiIxnuk0SCKB+4kFFWAl4fSVYZLkdqvEFvE1vk4bNii0Rslm+CkKHmTgRFEDIaUHpA0E5+XrrEClUByWkZHJiqBUJh5WeZHm5gieRaSkgueesEH+5fDiyEYHeharVGFUBdbKGCvneZpcJeM1SoyB9oAwd6h6TYDzZSlBzLwSAkvNlrGveePmUyk+VzKPUqgTNAWQy4sRAP+uxoTIXYy+TEy+uqav7lAsBJlzCauoXiFAbalAJ1jDipzH2iXAAADp7IHkOUAHk-AEsT35exL0Av5S9G-lLE4wOfnlBV+eUCi4VcKAAYEJAIKQ2A3+U1aHYwhkAA')">compile_and_go(
    parse(
        "function factorial(n) {           \
             return n === 1                \
                 ? 1                       \
                 : factorial(n - 1) * n;   \
                                          }"));
</pre><pre class='prettyprintoutput'>
(total-pushes = 0 maximum-depth = 0)
EC-evaluate value:
"ok"

EC-evaluate input:</pre></div></div></td></tr></table>
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_123_6_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(factorial 5)</pre><pre class='prettyprintoutput'>
(total-pushes = 31 maximum-depth = 14)
;;; EC-Eval value:
120</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_123_6_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=5&prgrm=PTAEGUEkGEAVQFLlAVgHToOwChsDMBDAYwBcB7AJwEsCAbAChQEoBuIA')">factorial(5);
</pre><pre class='prettyprintoutput'>
(total-pushes = 31 maximum-depth = 14)
EC-evaluate value:
120</pre></div></div></td></tr></table>
  </p></div>

  <div class='permalink'>
<a name='p8' class='permalink'></a><p>
    
    Compare this example with the evaluation of
    
      <span style="color:green"><kbd>(factorial 5)</kbd></span>
      <span style="color:blue"><kbd>factorial(5)</kbd>
      </span>
    
    using the interpreted version of the same
    
      <span style="color:green">procedure,</span>
      <span style="color:blue">function,</span>
    
    shown at the end of section&nbsp;<REF NAME="sec:running-evaluator"><a class="superscript" id="5.5.7-sec-link-5.4.4" href="./5.4.4.html">5.4.4</a></REF>.
    The interpreted version required 144 pushes and a maximum stack depth of 28.
    This illustrates the optimization that results from our compilation strategy.
  </p></div>

  
      <div class='permalink'>
        <a name='h1' class='permalink'></a><h2>
    
    Interpretation and compilation
  </h2></div>

  
  
  <div class='permalink'>
<a name='p9' class='permalink'></a><p>
    With the programs in this section, we can now experiment with the
    alternative execution strategies of interpretation and
    compilation.<a class='superscript' id='footnote-link-4' href='#footnote-4'>[4]</a>
    An interpreter raises the machine to the level of the user program; a
    compiler lowers the user program to the level of the machine language.
    We can regard the Scheme language (or any programming language) as a
    coherent family of abstractions erected on the machine language.
    Interpreters are good for interactive program development and debugging
    because the steps of
    program execution are organized in terms of these abstractions, and
    are therefore more intelligible to the programmer.  Compiled code can
    execute faster, because the steps of program execution are organized
    in terms of the machine language, and the compiler is free to make
    optimizations that cut across the higher-level
    abstractions.<a class='superscript' id='footnote-link-5' href='#footnote-5'>[5]</a>
  </p></div>

  <div class='permalink'>
<a name='p10' class='permalink'></a><p>
    
    Compilers for popular languages, such as C and C++,
    put hardly any error-checking operations into
    running code, so as to make things run as fast as possible.  As a
    result, it falls to programmers to explicitly provide error checking.
    Unfortunately, people often neglect to do this, even in
    critical applications where speed is not a constraint.  Their programs
    lead fast and dangerous lives.  For example, the notorious 
    
    <QUOTE>Worm</QUOTE>
    that paralyzed the Internet in 1988 exploited the 
    
    UNIX$^{\textrm{TM}}$
    operating system's failure to check whether the input buffer has
    
    overflowed in the finger daemon. (See <CITATION>Spafford 1989</CITATION>.)
  </p></div>

  <div class='permalink'>
<a name='p11' class='permalink'></a><p>
    The alternatives of interpretation and compilation also lead to
    
    different strategies for porting languages to new computers. Suppose
    that we wish to implement
    
      <span style="color:green">Lisp</span>
      <span style="color:blue">JavaScript</span>
    
    for a new machine.  One strategy is
    to begin with the explicit-control evaluator of
    section&nbsp;<REF NAME="sec:eceval"><a class="superscript" id="5.5.7-sec-link-5.4" href="./5.4.html">5.4</a></REF>
    and translate its instructions to instructions for the
    new machine.  A different strategy is to begin with the compiler and
    change the code generators so that they generate code for the new
    machine.  The second strategy allows us to run any
    <span style="color:green">Lisp</span>
    <span style="color:blue">JavaScript</span>
    
    program on the new machine by first compiling it with the compiler running
    on our
    original <span style="color:green">Lisp</span><span style="color:blue">JavaScript</span> system, and linking it with a compiled version of the run-time
    library.<a class='superscript' id='footnote-link-6' href='#footnote-6'>[6]</a>  Better yet, we can compile the compiler itself, and run
    this on the new machine to compile other
    <span style="color:green">Lisp</span><span style="color:blue">JavaScript</span> programs.<a class='superscript' id='footnote-link-7' href='#footnote-7'>[7]</a>  Or we can compile one of the interpreters of
    section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="5.5.7-sec-link-4.1" href="./4.1.html">4.1</a></REF> to produce an interpreter that
    runs on the new machine.
  </p></div>

  
    <div class="permalink">
    <a name="ex_5.46" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_5.46">Exercise 5.46 </a></b> 
  
    
    
    
    By comparing the stack operations used by compiled code to the stack
    operations used by the evaluator for the same computation, we can
    determine the extent to which the compiler optimizes use of the stack,
    both in speed (reducing the total number of stack operations) and in
    space (reducing the maximum stack depth).  Comparing this optimized
    stack use to the performance of a special-purpose machine for the same
    computation gives some indication of the quality of the compiler.

    <OL type="a">
      <LI>
	Exercise&nbsp;<REF NAME="ex:rec-fact"><a class="superscript" id="5.5.7-ex-link-5.27" href="./5.4.4.html#ex_5.27">5.27</a></REF> asked you to determine, as a
	function of $n$, the number of pushes and
	the maximum stack depth needed by the evaluator to compute
	$n!$ using the recursive factorial
	
	  <span style="color:green">procedure</span>
	  <span style="color:blue">function</span>
	
	given above.  Exercise&nbsp;<REF NAME="ex:measure-fact"><a class="superscript" id="5.5.7-ex-link-5.14" href="./5.2.4.html#ex_5.14">5.14</a></REF> asked you
	to do the same measurements for the special-purpose factorial machine
	shown in figure&nbsp;<REF NAME="fig:fact-machine"><a class="superscript" id="5.5.7-fig-link-5.14" href="./5.1.4.html#fig_5.14">5.14</a></REF>. Now perform the
	same analysis using the compiled <kbd>factorial</kbd>
	
	  <span style="color:green">procedure.</span>
	  <span style="color:blue">function.</span>
	
	<p></p>
	Take the ratio of the number of pushes in the compiled version to the
	number of pushes in the interpreted version, and do the same for the
	maximum stack depth.  Since the number of operations and the stack
	depth used to compute $n!$ are linear in
	$n$, these ratios should
	approach constants as $n$ becomes large.
	What are these constants? Similarly, find the ratios of the stack usage
	in the special-purpose machine to the usage in the interpreted version.
	<p></p>
	Compare the ratios for special-purpose versus interpreted code to the
	ratios for compiled versus interpreted code.  You should find that the
	special-purpose machine does much better than the compiled code, since
	the hand-tailored controller code should be much better than what is
	produced by our rudimentary general-purpose compiler.
      </LI>
      <LI>
	Can you suggest improvements to the compiler that would help it
	generate code that would come closer in performance to the
	hand-tailored version?
      </LI>
    </OL>
  
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_123_1_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_123_1_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>



  
    <div class="permalink">
    <a name="ex_5.47" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_5.47">Exercise 5.47 </a></b> 
  
    
    
    Carry out an analysis like the one in
    exercise&nbsp;<REF NAME="ex:measure-factorial-ratio"><a class="superscript" id="5.5.7-ex-link-5.46" href="./5.5.7.html#ex_5.46">5.46</a></REF> to determine the
    effectiveness of compiling the tree-recursive Fibonacci
    
      <span style="color:green">procedure</span>
      <span style="color:blue">function</span>
    
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_123_7_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (fib n)
      (if (< n 2)
      n
      (+ (fib (- n 1)) (fib (- n 2)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_123_7_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=5&prgrm=PTAEGUEkGEAVQFLlAVgHToOwChsDMBXAOwGMAXASwHsjQ8KAjACiIEpQBvbUH0AJwCmZAn1q0APKABMobr3kB+UETnyeALjqMWoALSgAjOwDUW5rX1TWAbmwBfIA')">function fib(n) {
    return n < 2 
        ? n
        : fib(n - 1) + fib(n - 2);
}
</pre></div></div></td></tr></table>
    compared to the effectiveness of using the special-purpose Fibonacci machine
    of figure&nbsp;<REF NAME="fig:fib-machine"><a class="superscript" id="5.5.7-fig-link-5.15" href="./5.1.4.html#fig_5.15">5.15</a></REF>.  (For measurement of the
    interpreted performance, see exercise&nbsp;<REF NAME="ex:rec-fib"><a class="superscript" id="5.5.7-ex-link-5.28" href="./5.4.4.html#ex_5.28">5.28</a></REF>.)
    For Fibonacci, the time resource used is not linear in
    $n$; hence the ratios of stack operations will not
    approach a limiting value that is independent of
    $n$.
    
  
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_123_2_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_123_2_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


  
    <div class="permalink">
    <a name="ex_5.48" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_5.48">Exercise 5.48 </a></b> 
  
    This section described how to modify the explicit-control evaluator so
    that interpreted code can call compiled
    
      <span style="color:green">procedures.</span>
    <span style="color:blue">functions.</span>
    Show how to modify the compiler so that compiled
    
      <span style="color:green">procedures</span>
      <span style="color:blue">functions</span>
    
    can call not only primitive
    
      <span style="color:green">procedures</span>
      <span style="color:blue">functions</span>
    
    and compiled
    
      <span style="color:green">procedures,</span>
      <span style="color:blue">functions,</span>
    
    but interpreted
    
      <span style="color:green">procedures</span>
      <span style="color:blue">functions</span>
    
    as well.  This requires modifying
    
      <span style="color:green"><kbd>compile-procedure-call</kbd></span>
      <span style="color:blue"><kbd>compile_function_call</kbd>
      </span>
    
    to handle the case of compound (interpreted)
    
      <span style="color:green">procedures.</span>
      <span style="color:blue">functions.</span>
    
    Be sure to handle all the same <kbd>target</kbd> and
    <kbd>linkage</kbd> combinations
    as in
    
      <span style="color:green">
	<kbd>compile-proc-appl</kbd>.
      </span>
      <span style="color:blue"><kbd>compile_fun_appl</kbd>.
      </span>
    
    To do the actual
    
      <span style="color:green">procedure</span>
      <span style="color:blue">function</span>
    
    application,
    the code needs to jump to the evaluator's
    
      <span style="color:green"><kbd>compound-apply</kbd></span>
      <span style="color:blue">
	<kbd>compound_apply</kbd>
      </span>
    
    entry point. This label cannot be directly referenced in object code
    (since the assembler requires that all labels referenced by the
    code it is assembling be defined there), so we will add a register
    called <kbd>compapp</kbd> to the evaluator machine to
    hold this entry point, and add an instruction to initialize it:
    <kbd class='snippet'>  assign("compapp", label("compound_apply")),
  branch(label("external_entry")),     // branches if flag is set
"read_eval_print_loop"
  $\ldots$</kbd>
    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	To test your code, start by defining a procedure
	<kbd>f</kbd> that calls a procedure
	<kbd>g</kbd>.  Use
	<kbd>compile-and-go</kbd>
	to compile the definition of <kbd>f</kbd>
	and start the evaluator.  Now, typing at the evaluator, define
	<kbd>g</kbd> and try to call
	<kbd>f</kbd>.
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	To test your code, start by declaring a function
	<kbd>f</kbd> that takes a function
	as parameter and applies it in its body. Use
	<kbd>compile_and_go</kbd>
	to compile the declaration of <kbd>f</kbd>
	and start the evaluator. Now, typing at the evaluator,
	pass a lambda expression as argument to
	<kbd>f</kbd>.
      </span></td></tr></table>
    
  
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_123_3_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_123_3_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


  
    <div class="permalink">
    <a name="ex_5.49" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_5.49">Exercise 5.49 </a></b> 
  
    
    The
    
      <span style="color:green"><kbd>compile-and-go</kbd></span>
      <span style="color:blue"><kbd>compile_and_go</kbd>
      </span>
    
    interface implemented in this section is
    awkward, since the compiler can be called only once (when the
    evaluator machine is started).  Augment the compiler-interpreter
    interface by providing a
    
      <span style="color:green"><kbd>compile-and-run</kbd></span>
      <span style="color:blue"><kbd>compile_and_run</kbd>
      </span>
    
    primitive that can be called from within the explicit-control evaluator
    as follows:
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_123_8_div'><div class='pre-prettyprint'><pre class='prettyprintoutput'>
;;; EC-Eval input:</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_123_8_div'><div class='pre-prettyprint'><pre class='prettyprintoutput'>
EC-evaluate input:</pre></div></div></td></tr></table>
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_123_9_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(compile-and-run
      '(define (factorial n)
      (if (= n 1)
            1
            (* (factorial (- n 1)) n))))</pre><pre class='prettyprintoutput'>
;;; EC-Eval value:
ok

;;; EC-Eval input:</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_123_9_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
compile_and_run(
    parse(
        "function factorial(n) {          \
             return n === 1               \
                 ? 1                      \
                 : n * factorial(n - 1);  \
         }                                "));</pre><pre class='prettyprintoutput'>
EC-evaluate value:
ok

EC-evaluate input:</pre></div></div></td></tr></table>
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_123_10_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(factorial 5)</pre><pre class='prettyprintoutput'>
      ;;; EC-Eval value:
      120</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_123_10_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=5&prgrm=PTAEGUEkGEAVQFLlAVgHToOwChsDMBDAYwBcB7AJwEsCAbAChQEog')">factorial(5)
</pre><pre class='prettyprintoutput'>
EC-Eval value:
120</pre></div></div></td></tr></table>
  
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_123_4_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_123_4_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


  
    <div class="permalink">
    <a name="ex_5.50" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_5.50">Exercise 5.50 </a></b> 
  
    As an alternative to using the explicit-control evaluator's
    read-eval-print loop, design a register machine that performs a
    read-compile-execute-print loop.  That is, the machine should run a
    loop that reads an expression, compiles it, assembles and
    executes the resulting code, and prints the result.  This is easy to
    run in our simulated setup, since we can arrange to call the
    
      <span style="color:green">procedures</span>
      <span style="color:blue">functions</span>
    
    <kbd>compile</kbd> and
    <kbd>assemble</kbd> as <QUOTE>register-machine
    operations.</QUOTE>
    
  
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_123_5_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_123_5_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


  
    <div class="permalink">
    <a name="ex_5.51" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_5.51">Exercise 5.51 </a></b> 
  
    
    Use the compiler to compile the metacircular evaluator of
    section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="5.5.7-sec-link-4.1" href="./4.1.html">4.1</a></REF> and run this program using the
    register-machine simulator.
    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	(To compile more than one definition at a time,
	you can package the definitions in a
	<kbd>begin</kbd>.)
      </span>    </td>
          <td></td>
          <td></td></tr></table>
    The resulting interpreter will run very slowly because of the multiple
    levels of interpretation, but getting all the details to work is an
    instructive exercise.
  
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_123_6_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_123_6_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


  
    <div class="permalink">
    <a name="ex_5.52" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_5.52">Exercise 5.52 </a></b> 
  
    
    Develop a rudimentary implementation of
    
      <span style="color:green">Scheme</span>
      <span style="color:blue">JavaScript</span>
    
    in C (or some other low-level language of your choice) by translating the
    explicit-control evaluator of section&nbsp;<REF NAME="sec:eceval"><a class="superscript" id="5.5.7-sec-link-5.4" href="./5.4.html">5.4</a></REF>
    into C.  In order to run this code you will need to also
    provide appropriate storage-allocation routines and other run-time
    support.
    
  
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_123_7_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_123_7_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


  
    <div class="permalink">
    <a name="ex_5.53" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_5.53">Exercise 5.53 </a></b> 
  
    
    
    
    As a counterpoint to exercise&nbsp;<REF NAME="ex:interp-in-C"><a class="superscript" id="5.5.7-ex-link-5.52" href="./5.5.7.html#ex_5.52">5.52</a></REF>, modify
    the compiler so that it compiles 
    
      <span style="color:green">Scheme procedures</span>
      <span style="color:blue">JavaScript functions</span>
    
    into sequences of C instructions.  Compile the metacircular evaluator of
    section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="5.5.7-sec-link-4.1" href="./4.1.html">4.1</a></REF> to produce a
    
      <span style="color:green">Scheme</span>
      <span style="color:blue">JavaScript</span>
      
    interpreter written in C.
    
  
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_123_8_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_123_8_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

  
  
  
<hr>

    <div class='footnote'>
      <a class='footnote-number' id='footnote-1' href='#footnote-link-1' >[1] </a>
    <FOOTNOTE>
    Of course, compiled
    
      <span style="color:green">procedures</span>
      <span style="color:blue">functions</span>
    
    as well as interpreted
    
      <span style="color:green">procedures</span>
      <span style="color:blue">functions</span>
    
    are compound (nonprimitive).  For compatibility with the terminology used
    in the explicit-control evaluator, in this section we will use
    <QUOTE>compound</QUOTE> to mean interpreted (as opposed to
    compiled).
    </FOOTNOTE></div>
    
    
    <div class='footnote'>
      <a class='footnote-number' id='footnote-2' href='#footnote-link-2' >[2] </a>
    <FOOTNOTE>
    Now that the evaluator machine starts
    with a <kbd>branch</kbd>, we must always initialize the
    <kbd>flag</kbd> register before starting the evaluator
    machine.  To start the machine at its ordinary read-eval-print loop, we
    could use
    
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_123_11_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (start-eceval)
        (set! the-global-environment (setup-environment))
        (set-register-contents! eceval 'flag false)
        (start eceval))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_123_11_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=5&prgrm=PTAEGUEkGEAVQFLlAVgHToOwChsDMBXAOwGMAXASwHsjQBnMgQwCcyB9AUxI4DdGAbABQBKUAG9soKfQ7tmHAOYUGHZmxI0yHImTqCuvAQBpQAIjz9GC0ybwC6HYQG5J0+WQLNaDFmX3c+fmdsAF8gA')">function start_eceval() {
    set_register_contents(eceval, "flag", false);
    return start(eceval);
}
</pre></div></div></td></tr></table>
    </FOOTNOTE></div>
    
    
    <div class='footnote'>
      <a class='footnote-number' id='footnote-3' href='#footnote-link-3' >[3] </a>
    <FOOTNOTE>
    Since
    a compiled
    
      <span style="color:green">procedure</span>
      <span style="color:blue">function</span>
    
    is an object that the system may try to print, we also modify the system
    print operation
    
      <span style="color:green"><kbd>user-print</kbd></span>
      <span style="color:blue"><kbd>user_print</kbd></span>
    
    (from section&nbsp;<REF NAME="sec:running-eval"><a class="superscript" id="5.5.7-sec-link-4.1.4" href="./4.1.4.html">4.1.4</a></REF>) so that it will not
    attempt to print the components of a compiled
    
      <span style="color:green">procedure:</span>
      <span style="color:blue">function:</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_123_12_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (user-print object)
        (cond ((compound-procedure? object)
              (display (list 'compound-procedure
              (procedure-parameters object)
              (procedure-body object)
              '<procedure-env>)))
              ((compiled-procedure? object)
              (display '<compiled-procedure>))
              (else (display object))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_123_12_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=5&prgrm=PTAEGUEkGEAVQFLlAVgHToOwChsDMBXAOwGMAXASwHsjQCBnAUwCcB9AB2YqLIApOqAW3ZlW9MlyIBzADSgqAIwBWjcgEpQAb2yhdoCnlC8K9ViSHsqxACatCpSjV6KV6jdr2fQ1k+wA2AIYAnrwARAA85sJWRLb25NREAHyhMjpeGZ4CwqLiklJqANye6boAvqCMfkz6hsamUewUfoxxxAlOLqpkau6lXj70-sFhkRbNrQC08Y7Jqf2ZXtkiYhLcBYX9FVU1HpmDwyFd5GmLi8u5a9JFW9hlQA')">function user_print(prompt_string, object) {
    if (is_compound_function(object)) {
        display("<compound_function>",
                prompt_string);    
    } else if (is_compiled_function(object)) {
        display("<compiled-function>",
                prompt_string);
    } else {
        display(object,
                prompt_string);
    }
}
</pre></div></div></td></tr></table>
    </FOOTNOTE></div>
    
    
    <div class='footnote'>
      <a class='footnote-number' id='footnote-4' href='#footnote-link-4' >[4] </a>
    <FOOTNOTE>
    We can do even better by extending the compiler
    to allow compiled code to call interpreted
    
      <span style="color:green">procedures.</span>
      <span style="color:blue">functions.</span>
    
    See exercise&nbsp;<REF NAME="ex:compiled-call-interpreted"><a class="superscript" id="5.5.7-ex-link-5.48" href="./5.5.7.html#ex_5.48">5.48</a></REF>.
    </FOOTNOTE></div>
    
    
    <div class='footnote'>
      <a class='footnote-number' id='footnote-5' href='#footnote-link-5' >[5] </a>
    <FOOTNOTE>
    Independent of the strategy of execution, we
    
    incur significant overhead if we insist that errors encountered in
    execution of a user program be detected and signaled, rather than being
    allowed to kill the system or produce wrong answers.  For example, an
    out-of-bounds array reference can be detected by checking the validity
    of the reference before performing it.  The overhead of checking,
    however, can be many times the cost of the array reference itself, and
    a programmer should weigh speed against safety in determining whether
    such a check is desirable.  A good compiler should be able to produce
    code with such checks, should avoid redundant checks, and should allow
    programmers to control the extent and type of error checking in the
    compiled code.
  
    </FOOTNOTE></div>
    
    
    <div class='footnote'>
      <a class='footnote-number' id='footnote-6' href='#footnote-link-6' >[6] </a>
    <FOOTNOTE>
    Of course, with either the interpretation or the
    compilation strategy we must also implement for the new machine storage
    allocation, input and output, and all the various operations that we took
    as <QUOTE>primitive</QUOTE> in our discussion of
    the evaluator and compiler.  One strategy for minimizing work here is
    to write as many of these operations as possible in
    
      <span style="color:green">Lisp</span>
      <span style="color:blue">JavaScript</span>
    
    and then compile them for the new machine.  Ultimately, everything reduces
    to a small kernel (such as garbage collection and the mechanism for
    applying actual machine primitives) that is hand-coded for the new
    machine.
    </FOOTNOTE></div>
    
    
    <div class='footnote'>
      <a class='footnote-number' id='footnote-7' href='#footnote-link-7' >[7] </a>
    <FOOTNOTE>
    
    This strategy leads to amusing tests of correctness of
    the compiler, such as checking
    whether the compilation of a program on the new machine, using the
    compiled compiler, is identical with the
    compilation of the program on the original
    
      <span style="color:green">Lisp</span>
      <span style="color:blue">JavaScript</span>
    
    system.  Tracking down the source of differences is fun but often
    frustrating, because the results are extremely sensitive to minuscule
    details.
    </FOOTNOTE></div>
    
    
</SUBSECTION></div></div>

    <div class='nav'>
  
        <a class='btn btn-secondary btn-nav' href='./5.5.6.html'>&lt; Previous</a>
    
    <div style='flex-grow: 1;'></div>
  
        <a class='btn btn-secondary btn-nav' id='125' href='./references.html'>Next &gt;</a>
      </div>
    <div class='chapter_sign'>
      5.5.7  Interfacing Compiled Code to the Evaluator
    </div>
    <script> var chapter_id = 124; </script>
    <script> var chapter_path = "chapters/5.5.7.html"; </script>
    <div class='next-page'></div>
    </div>
    </div> <!-- /.container -->
    </body></html>