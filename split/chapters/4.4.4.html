<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <!-- Global site tag (gtag.js) - Google Analytics - START -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-156801664-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-156801664-1');
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics - END -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="description" content="4.4.4&nbsp;&nbsp;
    Implementing the Query System
  " />
    <title>
      4.4.4&nbsp;&nbsp;
    Implementing the Query System
  
    </title>
    
  <meta name="csrf-param" content="authenticity_token" />
  <meta name="csrf-token" content="EMTEijVc2kiiKUH4nYH0lQG3pLPfMowQ/Stg//t6DCo0e5pWMQwamnTvIdmVZqY/MqSx2IYYE+2bpNV6UNSMwQ==" />

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    -->
    <link href="https://fonts.googleapis.com/css?family=Inconsolata&display?swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans|Droid+Serif" rel="stylesheet">
    <link rel="stylesheet" media="all" href="../assets/stylesheet.css" />

   <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon.ico" />

<!--    <link rel="shortcut icon" type="image/png" href="../images/lambda.png" /> -->

    <!-- for support of progressive web app, see github README, DISABLED!
    <link rel="manifest" href="../static/manifest.json">
    -->

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" 
		     	  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	          crossorigin="anonymous">
    </script> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script> -->
    <script type="text/javascript" 
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script>
   <!--  <script type="text/javascript" 
      src="../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script> -->
  
    <script src="../assets/application.js"></script>
  
    <!-- Rendering inline LaTeX -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true,
          jax: ["input/TeX","output/HTML-CSS"]
        }
      });
    </script>
    <!--<script src="/mathjax/MathJax.js?config=TeX-AMS_HTML-full.js" type="text/javascript"></script>-->
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body>

    
    <!-- support for progressive web app, see README, DISABLED
    <script>
      if ('serviceWorker' in navigator && !navigator.serviceWorker.controller) {
          navigator.serviceWorker.register("../sw.js").then(function(reg) {
              console.log("Service worker has been registered for scope: " + reg.scope);
          });
      }
    </script>
    -->

     <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top justify-content-between">
       <button id="btn" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#nav-sidebar" aria-controls="nav-sidebar" aria-expanded="false" aria-label="Toggle navigation" title="navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <span class="navbar-brand-short"><a title="Go back to front page" href="../index.html" class="gray">SICP &mdash; Scheme/JS</a></span>
       <span class="navbar-brand-long" ><a title="Go back to front page" href="../index.html" class="gray">Structure and Interpretation of Computer Programs &mdash; Comparison Edition</a></span>

       <!-- edit the search engine by visiting: 
	    https://cse.google.com/cse/setup/basic?cx=015760785273492757659:nc_tznrzlsg 
	       -->
       <form class="form-inline ml-auto" id="xxx">
         <div id="search-box">
	         <script>
	           (function() {
	               var cx = "015760785273492757659:nc_tznrzlsg";
	               var gcse = document.createElement("script");
	               gcse.type = "text/javascript";
	               gcse.async = true;
	               gcse.src = "https://cse.google.com/cse.js?cx=" + cx;
	               var s = document.getElementsByTagName("script")[0];
	               s.parentNode.insertBefore(gcse, s);
	           })();
	           window.onload = function()
	           { 
	               var searchBox =  document.getElementById("gsc-i-id1");
	               searchBox.placeholder= "search web edition";
	               searchBox.title= "search web edition";
	           }
	         </script>
	         <gcse:search></gcse:search>
         </div>
       </form>
       <span class="navbar-brand-short">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">S</a>
       </span>
       <span class="navbar-brand-long">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">Source</a>
       </span>
     </nav>
     
     <div class="container scroll">

            
        <div class="collapse" id="nav-sidebar" role="tablist" aria-multiselectable="true">
        <!-- insert a dummy entry, to give one extra line of space -->
        <a class="navbar-brand" href="index.html">&nbsp;</a>
    
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-1">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-1" aria-expanded="false" aria-controls="sidebar-collapse-1">
                <a href="./foreword.html"> 
        Foreword
    </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-2">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-2" aria-expanded="false" aria-controls="sidebar-collapse-2">
                <a href="./prefaces.html"> 
        Prefaces
    </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-3">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-3" aria-expanded="false" aria-controls="sidebar-collapse-3">
                <a href="./acknowledgements.html"> 
Acknowledgments
    </a>
              </span>
            </h5>
          </div>
        </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-4">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.html">1 
    Building Abstractions with 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-4" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-5">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.1.html">1.1 The Elements of Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-5" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-6">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-6" aria-expanded="false" aria-controls="sidebar-collapse-6">
                <a href="./1.1.1.html"> 1.1.1 Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-7">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-7" aria-expanded="false" aria-controls="sidebar-collapse-7">
                <a href="./1.1.2.html"> 1.1.2 Naming and the Environment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-8">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-8" aria-expanded="false" aria-controls="sidebar-collapse-8">
                <a href="./1.1.3.html"> 1.1.3 
    Evaluating
    
      <span style="color:green">Combinations</span>
      <span style="color:blue">Operator Combinations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-9">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-9" aria-expanded="false" aria-controls="sidebar-collapse-9">
                <a href="./1.1.4.html"> 1.1.4 
    Compound <span style="color:green">Procedures</span>
    <span style="color:blue">Functions</span>
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-10">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-10" aria-expanded="false" aria-controls="sidebar-collapse-10">
                <a href="./1.1.5.html"> 1.1.5 
    The Substitution Model for 
    
      <span style="color:green">
        Procedure
      </span>
      <span style="color:blue">
        Function
      </span>
    
    Application
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-11">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-11" aria-expanded="false" aria-controls="sidebar-collapse-11">
                <a href="./1.1.6.html"> 1.1.6 
    Conditional Expressions and Predicates
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-12">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-12" aria-expanded="false" aria-controls="sidebar-collapse-12">
                <a href="./1.1.7.html"> 1.1.7 Example: Square Roots by Newton's Method</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-13">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-13" aria-expanded="false" aria-controls="sidebar-collapse-13">
                <a href="./1.1.8.html"> 1.1.8 
    
      <span style="color:green">
        Procedures
      </span>
      <span style="color:blue">
        Functions
      </span>
    
    as Black-Box Abstractions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-14">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.2.html">1.2 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    and the Processes They Generate
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-14" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-15">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-15" aria-expanded="false" aria-controls="sidebar-collapse-15">
                <a href="./1.2.1.html"> 1.2.1 Linear Recursion and Iteration</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-16">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-16" aria-expanded="false" aria-controls="sidebar-collapse-16">
                <a href="./1.2.2.html"> 1.2.2 Tree Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-17">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-17" aria-expanded="false" aria-controls="sidebar-collapse-17">
                <a href="./1.2.3.html"> 1.2.3 Orders of Growth</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-18">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-18" aria-expanded="false" aria-controls="sidebar-collapse-18">
                <a href="./1.2.4.html"> 1.2.4 Exponentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-19">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-19" aria-expanded="false" aria-controls="sidebar-collapse-19">
                <a href="./1.2.5.html"> 1.2.5 Greatest Common Divisors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-20">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-20" aria-expanded="false" aria-controls="sidebar-collapse-20">
                <a href="./1.2.6.html"> 1.2.6 Example: Testing for Primality</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-21">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.3.html">1.3 
        Formulating Abstractions with Higher-Order 
        
	  <span style="color:green">Procedures</span>
	  <span style="color:blue">Functions</span>
	
      </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-21" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-22">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-22" aria-expanded="false" aria-controls="sidebar-collapse-22">
                <a href="./1.3.1.html"> 1.3.1 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    as Arguments
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-23">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-23" aria-expanded="false" aria-controls="sidebar-collapse-23">
                <a href="./1.3.2.html"> 1.3.2 
    
      <span style="color:green">Constructing Procedures using Lambda</span>
      <span style="color:blue">Constructing Functions using Lambda Expressions
      </span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-24">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-24" aria-expanded="false" aria-controls="sidebar-collapse-24">
                <a href="./1.3.3.html"> 1.3.3 
    
      <span style="color:green">Procedures</span>
    <span style="color:blue">Functions</span>
    as General Methods
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-25">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-25" aria-expanded="false" aria-controls="sidebar-collapse-25">
                <a href="./1.3.4.html"> 1.3.4 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    as Returned Values
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-26">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.html">2 Building Abstractions with Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-26" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-27">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.1.html">2.1 Introduction to Data Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-27" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-28">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-28" aria-expanded="false" aria-controls="sidebar-collapse-28">
                <a href="./2.1.1.html"> 2.1.1 
    Example: Arithmetic Operations for Rational Numbers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-29">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-29" aria-expanded="false" aria-controls="sidebar-collapse-29">
                <a href="./2.1.2.html"> 2.1.2 
    Abstraction Barriers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-30">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-30" aria-expanded="false" aria-controls="sidebar-collapse-30">
                <a href="./2.1.3.html"> 2.1.3 
    What Is Meant by Data?
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-31">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-31" aria-expanded="false" aria-controls="sidebar-collapse-31">
                <a href="./2.1.4.html"> 2.1.4 
    Extended Exercise: Interval Arithmetic
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-32">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.2.html">2.2 Hierarchical Data and the Closure Property</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-32" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-33">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-33" aria-expanded="false" aria-controls="sidebar-collapse-33">
                <a href="./2.2.1.html"> 2.2.1 
    Representing Sequences
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-34">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-34" aria-expanded="false" aria-controls="sidebar-collapse-34">
                <a href="./2.2.2.html"> 2.2.2 
    Hierarchical Structures
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-35">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-35" aria-expanded="false" aria-controls="sidebar-collapse-35">
                <a href="./2.2.3.html"> 2.2.3 
    Sequences as Conventional Interfaces
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-36">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-36" aria-expanded="false" aria-controls="sidebar-collapse-36">
                <a href="./2.2.4.html"> 2.2.4 
    Example: A Picture Language
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-37">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.3.html">2.3 Symbolic Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-37" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-38">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-38" aria-expanded="false" aria-controls="sidebar-collapse-38">
                <a href="./2.3.1.html"> 2.3.1 
    
      <span style="color:green">Quotation</span>
      <span style="color:blue">Strings</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-39">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-39" aria-expanded="false" aria-controls="sidebar-collapse-39">
                <a href="./2.3.2.html"> 2.3.2 
    Example: Symbolic Differentiation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-40">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-40" aria-expanded="false" aria-controls="sidebar-collapse-40">
                <a href="./2.3.3.html"> 2.3.3 
    Example: Representing Sets
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-41">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-41" aria-expanded="false" aria-controls="sidebar-collapse-41">
                <a href="./2.3.4.html"> 2.3.4 
    Example: Huffman Encoding Trees
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-42">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.4.html">2.4 Multiple Representations for Abstract Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-42" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-43">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-43" aria-expanded="false" aria-controls="sidebar-collapse-43">
                <a href="./2.4.1.html"> 2.4.1 
    Representations for Complex Numbers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-44">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-44" aria-expanded="false" aria-controls="sidebar-collapse-44">
                <a href="./2.4.2.html"> 2.4.2 
    Tagged data
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-45">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-45" aria-expanded="false" aria-controls="sidebar-collapse-45">
                <a href="./2.4.3.html"> 2.4.3 
    Data-Directed Programming and Additivity
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-46">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.5.html">2.5 Systems with Generic Operations</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-46" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-47">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-47" aria-expanded="false" aria-controls="sidebar-collapse-47">
                <a href="./2.5.1.html"> 2.5.1 
    Generic Arithmetic Operations
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-48">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-48" aria-expanded="false" aria-controls="sidebar-collapse-48">
                <a href="./2.5.2.html"> 2.5.2 
    Combining Data of Different Types
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-49">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-49" aria-expanded="false" aria-controls="sidebar-collapse-49">
                <a href="./2.5.3.html"> 2.5.3 
    Example: Symbolic Algebra
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-50">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.html">3 Modularity, Objects, and State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-50" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-51">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.1.html">3.1 Assignment and Local State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-51" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-52">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-52" aria-expanded="false" aria-controls="sidebar-collapse-52">
                <a href="./3.1.1.html"> 3.1.1 
    Local State Variables
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-53">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-53" aria-expanded="false" aria-controls="sidebar-collapse-53">
                <a href="./3.1.2.html"> 3.1.2 
    The Benefits of Introducing Assignment
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-54">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-54" aria-expanded="false" aria-controls="sidebar-collapse-54">
                <a href="./3.1.3.html"> 3.1.3 
    The Costs of Introducing Assignment
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-55">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.2.html">3.2 The Environment Model of Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-55" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-56">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-56" aria-expanded="false" aria-controls="sidebar-collapse-56">
                <a href="./3.2.1.html"> 3.2.1 
    The Rules for Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-57">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-57" aria-expanded="false" aria-controls="sidebar-collapse-57">
                <a href="./3.2.2.html"> 3.2.2 
    Applying Simple
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-58">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-58" aria-expanded="false" aria-controls="sidebar-collapse-58">
                <a href="./3.2.3.html"> 3.2.3 
    Frames as the Repository of Local State
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-59">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-59" aria-expanded="false" aria-controls="sidebar-collapse-59">
                <a href="./3.2.4.html"> 3.2.4 
    Internal
    
      <span style="color:green">Definitions</span>
      <span style="color:blue">Declarations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-60">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.3.html">3.3 Modeling with Mutable Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-60" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-61">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-61" aria-expanded="false" aria-controls="sidebar-collapse-61">
                <a href="./3.3.1.html"> 3.3.1 
    Mutable List Structure
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-62">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-62" aria-expanded="false" aria-controls="sidebar-collapse-62">
                <a href="./3.3.2.html"> 3.3.2 
    Representing Queues
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-63">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-63" aria-expanded="false" aria-controls="sidebar-collapse-63">
                <a href="./3.3.3.html"> 3.3.3 
    Representing Tables
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-64">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-64" aria-expanded="false" aria-controls="sidebar-collapse-64">
                <a href="./3.3.4.html"> 3.3.4 
    A Simulator for Digital Circuits
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-65">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-65" aria-expanded="false" aria-controls="sidebar-collapse-65">
                <a href="./3.3.5.html"> 3.3.5 
    Propagation of Constraints
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-66">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.4.html">3.4 Concurrency: Time Is of the Essence</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-66" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-67">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-67" aria-expanded="false" aria-controls="sidebar-collapse-67">
                <a href="./3.4.1.html"> 3.4.1 
    The Nature of Time in Concurrent Systems
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-68">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-68" aria-expanded="false" aria-controls="sidebar-collapse-68">
                <a href="./3.4.2.html"> 3.4.2 
    Mechanisms for Controlling Concurrency
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-69">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.5.html">3.5 Streams</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-69" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-70">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-70" aria-expanded="false" aria-controls="sidebar-collapse-70">
                <a href="./3.5.1.html"> 3.5.1 
    Streams Are Delayed Lists
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-71">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-71" aria-expanded="false" aria-controls="sidebar-collapse-71">
                <a href="./3.5.2.html"> 3.5.2 
    Infinite Streams
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-72">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-72" aria-expanded="false" aria-controls="sidebar-collapse-72">
                <a href="./3.5.3.html"> 3.5.3 
    Exploiting the Stream Paradigm
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-73">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-73" aria-expanded="false" aria-controls="sidebar-collapse-73">
                <a href="./3.5.4.html"> 3.5.4 
    Streams and Delayed Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-74">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-74" aria-expanded="false" aria-controls="sidebar-collapse-74">
                <a href="./3.5.5.html"> 3.5.5 
    Modularity of Functional Programs and Modularity of Objects
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-75">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.html">4 Metalinguistic Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-75" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-76">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.1.html">4.1 The Metacircular Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-76" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-77">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-77" aria-expanded="false" aria-controls="sidebar-collapse-77">
                <a href="./4.1.1.html"> 4.1.1 
    The Core of the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-78">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-78" aria-expanded="false" aria-controls="sidebar-collapse-78">
                <a href="./4.1.2.html"> 4.1.2 
    Representing
    
      <span style="color:green">Expressions</span>
      <span style="color:blue">Components</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-79">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-79" aria-expanded="false" aria-controls="sidebar-collapse-79">
                <a href="./4.1.3.html"> 4.1.3 
    Evaluator Data Structures
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-80">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-80" aria-expanded="false" aria-controls="sidebar-collapse-80">
                <a href="./4.1.4.html"> 4.1.4 
    Running the Evaluator as a Program
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-81">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-81" aria-expanded="false" aria-controls="sidebar-collapse-81">
                <a href="./4.1.5.html"> 4.1.5 
    Data as Programs
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-82">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-82" aria-expanded="false" aria-controls="sidebar-collapse-82">
                <a href="./4.1.6.html"> 4.1.6 
    Internal
    
      <span style="color:green">Definitions</span>
      <span style="color:blue">Declarations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-83">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-83" aria-expanded="false" aria-controls="sidebar-collapse-83">
                <a href="./4.1.7.html"> 4.1.7 
    Separating Syntactic Analysis from Execution
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-84">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.2.html">4.2 
    
      <span style="color:green">Variations on a Scheme:</span>
    
    Lazy Evaluation
</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-84" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-85">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-85" aria-expanded="false" aria-controls="sidebar-collapse-85">
                <a href="./4.2.1.html"> 4.2.1 
    Normal Order and Applicative Order
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-86">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-86" aria-expanded="false" aria-controls="sidebar-collapse-86">
                <a href="./4.2.2.html"> 4.2.2 
    An Interpreter with Lazy Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-87">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-87" aria-expanded="false" aria-controls="sidebar-collapse-87">
                <a href="./4.2.3.html"> 4.2.3 
    Streams as Lazy Lists
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-88">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.3.html">4.3 
    
      <span style="color:green">Variations on a Scheme:</span>
    
    Nondeterministic Computing
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-88" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-89">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-89" aria-expanded="false" aria-controls="sidebar-collapse-89">
                <a href="./4.3.1.html"> 4.3.1 
    
      <span style="color:green">Amb and Search</span>
      <span style="color:blue">Search and amb</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-90">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-90" aria-expanded="false" aria-controls="sidebar-collapse-90">
                <a href="./4.3.2.html"> 4.3.2 
    Examples of Nondeterministic Programs
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-91">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-91" aria-expanded="false" aria-controls="sidebar-collapse-91">
                <a href="./4.3.3.html"> 4.3.3 
    Implementing the
    
      <span style="color:green">Amb</span>
      <span style="color:blue">amb</span>
    
    Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-92">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.4.html">4.4 Logic Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-92" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-93">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-93" aria-expanded="false" aria-controls="sidebar-collapse-93">
                <a href="./4.4.1.html"> 4.4.1 
    Deductive Information Retrieval
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-94">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-94" aria-expanded="false" aria-controls="sidebar-collapse-94">
                <a href="./4.4.2.html"> 4.4.2 
    How the Query System Works
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-95">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-95" aria-expanded="false" aria-controls="sidebar-collapse-95">
                <a href="./4.4.3.html"> 4.4.3 
    Is Logic Programming Mathematical Logic?
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-96">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-96" aria-expanded="false" aria-controls="sidebar-collapse-96">
                <a href="./4.4.4.html"> 4.4.4 
    Implementing the Query System
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-97">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.html">5 Computing with Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-97" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-98">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.1.html">5.1 Designing Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-98" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-99">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-99" aria-expanded="false" aria-controls="sidebar-collapse-99">
                <a href="./5.1.1.html"> 5.1.1 
    A Language for Describing Register Machines
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-100">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-100" aria-expanded="false" aria-controls="sidebar-collapse-100">
                <a href="./5.1.2.html"> 5.1.2 
    Abstraction in Machine Design
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-101">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-101" aria-expanded="false" aria-controls="sidebar-collapse-101">
                <a href="./5.1.3.html"> 5.1.3 
    Subroutines
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-102">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-102" aria-expanded="false" aria-controls="sidebar-collapse-102">
                <a href="./5.1.4.html"> 5.1.4 
    Using a Stack to Implement Recursion
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-103">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-103" aria-expanded="false" aria-controls="sidebar-collapse-103">
                <a href="./5.1.5.html"> 5.1.5 
    Instruction Summary
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-104">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.2.html">5.2 A Register-Machine Simulator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-104" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-105">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-105" aria-expanded="false" aria-controls="sidebar-collapse-105">
                <a href="./5.2.1.html"> 5.2.1 
    The Machine Model
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-106">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-106" aria-expanded="false" aria-controls="sidebar-collapse-106">
                <a href="./5.2.2.html"> 5.2.2 
    The Assembler
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-107">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-107" aria-expanded="false" aria-controls="sidebar-collapse-107">
                <a href="./5.2.3.html"> 5.2.3 
    Generating Execution
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    for Instructions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-108">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-108" aria-expanded="false" aria-controls="sidebar-collapse-108">
                <a href="./5.2.4.html"> 5.2.4 
    Monitoring Machine Performance
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-109">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.3.html">5.3 Storage Allocation and Garbage Collection</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-109" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-110">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-110" aria-expanded="false" aria-controls="sidebar-collapse-110">
                <a href="./5.3.1.html"> 5.3.1 
    Memory as Vectors
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-111">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-111" aria-expanded="false" aria-controls="sidebar-collapse-111">
                <a href="./5.3.2.html"> 5.3.2 
    Maintaining the Illusion of Infinite Memory
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-112">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.4.html">5.4 The Explicit-Control Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-112" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-113">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-113" aria-expanded="false" aria-controls="sidebar-collapse-113">
                <a href="./5.4.1.html"> 5.4.1 
    The Core of the Explicit-Control Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-114">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-114" aria-expanded="false" aria-controls="sidebar-collapse-114">
                <a href="./5.4.2.html"> 5.4.2 
    Sequence Evaluation and Tail Recursion
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-115">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-115" aria-expanded="false" aria-controls="sidebar-collapse-115">
                <a href="./5.4.3.html"> 5.4.3 
    Conditionals, Assignments, and <span style="color:green">Definitions</span><span style="color:blue">Declarations and Blocks</span>
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-116">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-116" aria-expanded="false" aria-controls="sidebar-collapse-116">
                <a href="./5.4.4.html"> 5.4.4 
    Running the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-117">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.5.html">5.5 Compilation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-117" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-118">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-118" aria-expanded="false" aria-controls="sidebar-collapse-118">
                <a href="./5.5.1.html"> 5.5.1 
    Structure of the Compiler
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-119">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-119" aria-expanded="false" aria-controls="sidebar-collapse-119">
                <a href="./5.5.2.html"> 5.5.2 
    Compiling
    
      <span style="color:blue">Statements and</span>
    
    Expressions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-120">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-120" aria-expanded="false" aria-controls="sidebar-collapse-120">
                <a href="./5.5.3.html"> 5.5.3 
    Compiling
    
      <span style="color:green">
	Combinations
      </span>
      <span style="color:blue">
	Applications
      </span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-121">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-121" aria-expanded="false" aria-controls="sidebar-collapse-121">
                <a href="./5.5.4.html"> 5.5.4 
    Combining Instruction Sequences
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-122">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-122" aria-expanded="false" aria-controls="sidebar-collapse-122">
                <a href="./5.5.5.html"> 5.5.5 
    An Example of Compiled Code
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-123">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-123" aria-expanded="false" aria-controls="sidebar-collapse-123">
                <a href="./5.5.6.html"> 5.5.6 
    Lexical Addressing
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-124">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-124" aria-expanded="false" aria-controls="sidebar-collapse-124">
                <a href="./5.5.7.html"> 5.5.7 
    Interfacing Compiled Code to the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-125">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-125" aria-expanded="false" aria-controls="sidebar-collapse-125">
                <a href="./references.html"> References</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-126">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-126" aria-expanded="false" aria-controls="sidebar-collapse-126">
                <a href="./making-of.html"> About the SICP JS Project</a>
              </span>
            </h5>
          </div>
        </div>
        </div>
<div id='permalink-msg'>
<div class='screen'>
  <div class='alert alert-success'>
    <strong>Permalink copied!</strong>
  </div>
</div>
</div>
<div class='chapter-content'>

      <div class='chapter-title'>
        <div class='permalink'>
        <a name='top' class='permalink'> 
    4.4.4&nbsp;&nbsp;
    Implementing the Query System
  
        </a>
        </div>
      </div>
      <div class='chapter-text'>
        <div class='SECTION'>
    

  
  <div class='permalink'>
<a name='p1' class='permalink'></a><p>
    Section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF> described how the query
    system works. Now we fill in the details by presenting a complete
    implementation of the system.
  </p></div>

  
      <div class='permalink'>
        <a name='sec4.4.4.1' class='permalink'></a><h1>
    4.4.4.1&nbsp;&nbsp;&nbsp;The Driver Loop and Instantiation</h1></div>
    

    <div class='permalink'>
<a name='p2' class='permalink'></a><p>
      
      
      The driver loop for the query system repeatedly reads input
      expressions.  If the expression is a rule or assertion to be added to
      the data base, then the information is added.  Otherwise the
      expression is assumed to be a query.  The driver passes this query to
      the evaluator
      <span style="color:green"><kbd>qeval</kbd></span>
      <span style="color:blue"><kbd>evaluate_query</kbd>
      </span>
      
      together with an initial frame stream consisting of a single empty frame.
      The result of the evaluation is a stream of frames generated by satisfying
      the query with variable values found in the data base.  These frames are
      used to form a new stream consisting of copies of the original query in
      which the variables are instantiated with values supplied by the stream of
      frames, and this final stream is
      
	<span style="color:green">printed at the terminal:</span>
	<span style="color:blue">printed:</span>
      
      
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define input-prompt ";;; Query input:")
(define output-prompt ";;; Query results:")

(define (query-driver-loop)
  (prompt-for-input input-prompt)
  (let ((q (query-syntax-process (read))))
    (cond ((assertion-to-be-added? q)
           (add-rule-or-assertion! (add-assertion-body q))
           (newline)
           (display "Assertion added to data base.")
           (query-driver-loop))
          (else
           (newline)
           (display output-prompt)
           (display-stream
            (stream-map
             (lambda (frame)
              (instantiate q
               frame
               (lambda (v f)
                 (contract-question-mark v))))
             (qeval q (singleton-stream '()))))
  (query-driver-loop)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHR0lVVRdSeRpiIbiEpKLi0DmF2sUJNvklQQoVx1EAD1VLOjoVtZGDMf1nya2UlzpyHr7I9roikkjAA5hdrrd7rRATF1j4XoZfABIczTJzUVSidzkaiMRwxBqULLCVawp7vZLBQ6yY6KDFY+S4-GsQnE8442bzRbLWiPfKjPQTD5pDLM4gAE1cKw8ZP5my2VMiYslJJleQSCPlU1F0myDXFknBN1Edweso2FKCoBYknKokcpxJil1jQNjlUwOyVixNXqTWkMPV8Mtwo+Lv1hqa4v25vhgq1KTRNVEAEd2mRcsM5SHttTk2nNKQOqn00WauRjjktIGsxtnvGcyKZqJYuRauXKwk+RbhcESOLRPgiaJxY2kw1SqRyt2Cr2xEqJ9QpzOdA3hUnLNZbB2FFXyCuE5T5+FNzZiDuW13Y6vxoeAknJKaQcQ9wfG4rwo-7s-X9fNVgUSbJxHXOAdSF1bEzSDRJAPMADc3+WkQNoRwwJaDkVHoCstFQ0RwIPf911FNDPSda8738D8WhIyDeT-NcPnSLFmEYFddAAIgAVWIcpiGoAB3Ow6i0SRLlAABacTjxpBR2IMABuLAAF8BBIM4RF2aR9kEXRgRBOgjFMfxKHwUBFBmG5KBYKVxHtZDVkEAxDIpU9bB2Ll20s6yqFsh01KdHSdlBAzFP8JSxADUR7FM8ynDJfs-KEB5HOclJMO+UBbkIaRyFAABeaS5AURR7McKNtJIN5Q2qoorgUCULn0ShmBfLtGxq0NSo9dwcjcQFHO0dqOo+PS6EG4aJv8Urxma2hXxShSXKsM9RVc89-iULKcooo81taKIxXq-ctsSIaRX7Qdh3FULzHC0RIpMClmNxEqSA47jeIEux7NANtMQkqTNNqOSbtAFSVKwH6vh+Xp9oBA5rjG+NHuSNbrTmIFQXygA+QraT0zUxkRxaIZ+vNMJVaVpDY5GjP8NGZnIRhCHIAALfZqSK3IJSlWhwmNSUlmK8jNR2hCjmF2hKb5lp0pLK9oPrW92qYxDJZ51UWhkNw2Vsgj40U0n-JWaT81LDpyBYcgkdvFHjJi5tW3bOh5YzRRvitgzUqKNGLqHeJrsmO6HpMsyZl1b4L1fD3racu2UjRzmkOayPvk7LR3ct2PtFvUGwYil34+SdLcqHRhU6zuGooKoak+KsuK-T-cY4MnPXjzgJQ9ixw9o2kqU5+GOq7junhTRhvB8rjaO7CguotHj5E6VF2Czds76ZNSem8BFvnlzkMVICcHVKSkRod+RwSC-ShnxHRQBhNb2LGWtybVUe+vRx0B2IAKivp8A4-3YroB+IVlIn3UkJJY55qAs1wuBUiKwaxwkSEXLuMwV7mwPE-Yu0Jcot3yqATBhZ7Rp13AkZBTwZ7Py3HYR2qg2xmxIZnT2YsjzEGytIdeIpdiaHFO7aBPQ4E0R5PQfu5ct7kIzrvKqk0Uh0EEbAn4IiSSAm4TVG0domFu1uJIy81YWGxycotI+c8i4BAZk4FRUFayzlDCUBw+5rEoU6P6bBQ10gcOkNIPOx9IbGxEHmRcy56K2wXiXUA5VCHBPKGVag0YDx5wiZOGQDACoKMkDA4ReEIKiMBOVEx-gIn-2-AHNJIRHEXxKTfAOzolypMKTQladclDlSJvVcUjVxCzVahnFJAZxpyKGUUapt9xRI3UcMj4t4SYQJJKbPaZD9H7lCa8IuaNNH2l7m0JQ3CWmKD2lcY0po6KK1FobOZJs8zXx-ArWxN41nhLwaADahD9k3N6T8DaRpIQ2JQUrdukwPm+i6C0PuHy9wgrcSLF5OzNR5zRtPcB-jT52DzM40k0FNRF2Ba47ofcMVQuaPrSZtU1ZKEJd8o5vzTn3NkVM4UMyEUvzsH7K6FzcBgHsgwfAzA2BQDgIgZA6A+AACZLkiHDq4Bk1NyLrJZaKDhjQsQHnMAAHzVe1DBTMiQglVaADVWqnBNGaKITJqrDWhhmF42VisAiWuFDMNltTyIXKhtK9wYKdmquMAESYaNrwcp+ozSQIIQQjmcI4mmbN7QVhBDgyx7pJDNVVQAMlTaAVmZr+Fyrynm36WbHBxqDQEuhmQvQ+v9QqkNYaI3QxpuxB+INkU-TxS0WGD9K0WIVVmyQ-CKyUFtXS2ZKLIGighXc-58raGijjeGzp9b6LsQnVoZtKkforsHn6YlcqF5o17f25N1MD2KAHUO-5xi3Wlp2AAyFVKIQmihJiul06VonrPaeo92CR3BqsTkxBtKp17urU4Oddao1LpLpk5R-7aLEDkgazVVrQOhvnZG74DapCMEoJICc9oMUIYdR8GtaHF1Yu-qVAjsyfqErbV2ppbl31fqY4O791Hr2Up2T8x9fynjx33dmz9rGP3kSciW1FOo9RumpTxwDfHR6JrAwuiD5H2Lhmkw+k58H2MSfU4abqXo3BEoDPRzKCq37u23e2voD9dAsfPU8MT4CoZScjPEmMdqFM9sEx+kTisnNGwkzMRZFYpErM84URTqHwMYaXSFpua7R3zMOZpp9pmBN9qEw5uUP7r0zAprzLI2WNivrciRmL4X7kcQK5rbjWnCNIcdSh2tynYuqZq1TKOCREs-Q6zLd0lhBa0l3ZFhV59LD4BpjwHTY6+tFbFMQjOI2N4zvG4OGmoqZvzLm5+HKWJdaZiA6N1blSJs0wAMy5aC04RbRZDFPyiy19Dzcs4cVu6IHr17NnaLu7vfjY2o3sXe8AohWcwHruve9rrBiY6GX8Mdt9Pmv2w62ybCe0OXusP+zOk9u8r0Sd0RjneYOHsKo-Xj5zeWnAtgYc7V2v2SfY5WtazhhjwdJZNuHR8ejo6M68zOln3ists4CxKstZVJzTmWyt5nzXSMqaq9-GJn2JMxLiQk6XDG7D2eweJsdMxNKUCFrxuUTOyty4qw2w3xvaAq7HdNVLJuSv88R5lvzw78djr0nVp9lDTcu8Y0j4TX7RMjrwNypgrB2CCq4CKtA52xezuZmzfYlwE0gbiaa81afQDtWCJcFWYhGAsUUJcDiJrpBmrRdcPCChxS6EsEWSgtlxSpESxzkQ337KKAM71LESM2m0yrSdjD7F4oNXssA9RvfvTl10IP-eEPrvMmGAlbv+B08C4t61-c+BqteDX6Wu38yuqej7+XEqm+Vprcm3v0A03Pcn9Ler7SV+3I35KroTbj+0fP5mi1eaN-OwD-O-S7PXeZb7bZKITwLQZ3Yfa-QHKA9oEHTCI6VHSVJwJApQDaIA2daLHfRQDaDiLA4-E2LAw6LsHA0rbXIPamHAq7MdQsUoe4YgMEf-OaLsMJeAtyD9RfDvb6AeB0HqJQLg7tHHQTPgiJGNC4J2LpHpPcQhG1RSfg9GLRXlCtNtJGDaAyag0AD0FNTQ3QbQ9A76YQ4zfqYQuHeHMQ13fhdQnIEwpgL0KuCwr0KwuCGwngr9ew0QBg+ZOqPhOQgArsQw2FAZSJR8e0UQmXd-TQEENmSzUFHQvNAqSvVghIyIAyPPPQ5NViLvYQxI-0LQhpefSIrpNhdINI+I1mQo5oHQgAHhCDiIyIaTOipGLxenYgABUyh0ZiBaggoQRCA9wGA6AqgFhKARx0h2JQAABqXPKZb4bDVgkyfYTQoweYkHGY+Y0lfwJY3VVYwghpNhVEIvEvbo3o-AUQfiQY4YihIhcYlwKY7+OYhY4ZfYlY-ANYqzHQzYjiV43Y8wD4kEQ4zI0XFQ0oCoKoYzKuWo6QbFBeMmfQZwMod+aIlIVtaBOE4ogMHBLYRNG1bEk4ooKkZEyE9+QE-wJg6gFgtgpqYIjOGZXY9INtfKfNXHH44khUTNQTMEyklkrE8nTk3QD9MExpZIQ+IoLucYNkgqaQmnRhdgz5PE2qDo1iNtd6YgJofsUAJtcU0xe6QuBeLYCJHwwhdHHwg4QFaqNGDJByMwzQkqSwwZBlHwlwp0tw-UsKIObgtFMk1Eq0wwcAk2XFKzWEjUsIhEyYJE8QFEjEQMlU8wTE81UIsE8xH2DPQk9Y9RUk2M8kxQQE6k2koIjgxk14Lk041klInkzLbMuRYIF2H4E9TIowmQCs-wAU81IUpI+sUU446hfOEMaU-QWUgtKI2QpUvcRM5IZ6dUqzTU7UiUXUz+SSG9UpPcZtLYYOI0oaU04Q80wQy0-eG0hVO0j0nIcw883wl0qZN07Qq8pzLcn0zwv0vMgMvgzlAgUtHlPlaPTgYVXgDARPCybDbyZvOyUtV6YgUnLfItfA57KCjiLyGyD7Rw5Cnye0KyBYZZURKCmC2w4XFKDlCJdC8CxKSBcpetS0etdiA9EHfwA9GqelAIGis9ei8wM9Jim8-wGi-QxgdinI5qLi6iwHaGAS6GYSooGiwXaQEHGS4UZiniwHSUOgBYSQYGXQFStSgYj4RS8wGi2c9i2c6qPSipUfG0NmWYBoOgYBCy1mKyhgLYUymi2YgS-wUvXQWoIwPKXGMSeYnS5ywHcSNy8wDy0ALyr+MSKSAK7i-SwHIBXQFIMKiKny0AMSH+cK8wQK0fYAEKsyMvcK7y3y0AMAGKkS0fAAUjyuSqKrStAAqsytAGyv3HYhSLcpqsitHK8tirMpaoAEI812qCqUriqBqCpuryqWr6jqrhraqxJGjzAJqpLAd6i8oQqOrUr5qCpCqeqaLsYZrPK5rQBcZFrmrFB2JsY1rEqAgNrirLrTrdrAc+q8q6qAhUrzA+r-A09LRFoSLQKULyKSRzD8oQwLMD1dBSLfJuVfrnlIaILUUegGgAArWvNJUGjGQQL+Xi-6jCkHHXBaHq5IOGwGpBRaLAP6qyAGqDasQhetGi51EcEHBm8UUyhlFiwHSAYgf2VwDS8wTm7mtsVmtmuK8y+Qey2ASAdiuyxwCWoW4Wmi6WgAUQEqVrlrZpooADlJANa8qtaNb2yJoYasI9CcayLqat0kiQatgLNSAv4T1SB6xibzawEKawLfJzaXCraigba7baDlAnIIbTb3a8FoMwEVCgYBtKaMKSbeRAo9JoZcCI6iRL4JQsQtJdVHAkbJApAFFsMGECyJpiasLK89xcKBp1F47HEFJkgW1IdlpqhJyuxcCAiGpG6M5uFeEJQe8g74bIFzDdBKSTao6zaQ6cJ1jCaihO7+FibSpqBkbUaB6GUnbR6vkdlW5uF5SJz6TSzEgOVK9cppCQRSgGhwg27cp0l66SzPlFAybw9vzI9+UOAhVuBMBE9UD3AKBHACxvhzgbRGBpwsMcM8NcCWdlVWIddAHcNK9jEQxggdc+zsMoHfC45NjHBtjQdliQSvjFAIHgQgHoGnIQx0hcHEHgHHCYgbRkwDM69M5MGdDgMZ1JBSBSBhjspaR3ZdJmHaqGB5igRmHRz2IZjghBGRQtjXimGHaJ6apBHdBgT2cfoSBuoXZaHdVdJgo1GwRFHgQXZDIkRfSMHdVXj2JzrXiKHDQXZqG74LNvctHy5RANGvYjGDB2If8RBbGXYi0sQWBMZ41dCZKfGKJhGbV2IiGdQo09IjB01Gxu5CSP0ImjANUazD1WN4nQAxrv5Ag5JYGzIT0ImBHMnsj36mGfhv6ga-7pwInC9u5rdcK8momaprUK0Hdjk0t4m2FhGTH5j3HY0vGcHBNRoAmUG3jQwZj0G20L5O1mmaVVhUmdjpGXiuniAlGenGBvGdcBm2mNizo5IQnQx0hunzqxKNHdBunPHVnCGtgkw+KAnsmDn2I+KQd61cnQReyv14mTmlntGVmWAKIkxgSbnuT2IABydBvSIxkF0J4Ew4iJ1x1lT5uxr+9oRgfYAsZFkBzIVnHIMBvpzLVFpa4W3q86zJcULY3ELYvicgLYr8LESl4g7KVCi5kk0AA5k9PF151jNlj55Zs5n50JllwTTl36L9QV05tl4MkQLOnO0gPO1eg6G4JcR9BGVQdFzkCYm3VYI5QJwl5dLkI3UREHKZ2TDV64NWgICzSVx8aVygBhKuAbBVu4BxpVmBy5xVCtTV7JmizJ2RsMjtN1k135sQa4cVuwPFu1osO4J1tBB2JwGpp0TVlU005-Ks4Z5IcZ31wYQ1rTJ1r0v6+1l2TpUaQhCzUN+V8NpGAZ+NmeceJNqzARh57J65k9Utx9CNUaesHXZtu4Vt4KZ17UUqKs-NNTRxXZplzt-N2YYKUJ-t2t6s9iC13O612V5Aht3IqCvujU7hc17Oy1mV21sdx1+NgN656d0FQOvN7t-ScU7cqKdBctQYeN9MtGT1kHNNmzP15Vq9sxY0szGdI5XxWuiTP6EQk1vxpwa5917kk9CD7UWcpVzUz6QSQNlpk2ID0gkQVAihSNhh2XJNFNaDlIYIXgk10J2Do5eDviRDmTLTUADD6sdvDdLtxgIGjkBoe0PtAcfhTV3QoDyN2d6lpjlxynCTdj2YRjoG8qLD-R+22gI6QESt5FPAekODOCvDCGlmHYJc8NcgT83lKPUgVmOYNwUAc7MyF2Mdc7ePePXwcOu4JcRQO0WoBvPCXEcZFVwkxvFzrI+xZl1O-2EcQvEsDwBzuzQTE9DzxgVzxl7zsL5ziLrz6qdIL8Oz4LoV1jcLyL4N1Q2NJBm+ouZJepdCJB2m+KisPDIBcUqGMoSod+BzxwHgXQWrzbdM8wCJMYhoUryvQhJL0gez0Qdser1L6mfpFTghgc29lOgcPz-hNrjr5B5r1GBVZmgc69+bgICJdLrr2znrxrkU5HQgdrpBx80MRNZmg5WLlm3YvsXzq6Zkwbs7lQCLr026Z8qaPLegGl3r-rhrvrxwUVVsqIac1r-b2bzbugZLn7gbj9Yb2bo7lIcb07mbw76cgIRsuC1jaHpBqR0Ma5+tWrgb65nbsI9oAOwegIKHgrkb5Bp7-OQ0+eXc55Dbgqbrz7373b1jRHshgczuaNiby6WpdLkeCkWCVNqwNH6mDnyvQaYXoZa5gnn7v7on680noocnYHpHxaYXlb794UVHj9dL-74nrn70p8o+aMjjBwD0cgfTxQH5+bjZARyE6rkdmqEoKrqobhdINgWdokF2ATyZYIH3mlyZJiNUm38jr6UAJT0RAGIVvDTc43mIuwLS+QfT4i55KP5jorgqb7Wbm+xSCJLTwhDP9kHLtTN31QZtEi9TgqYvlCXP9iQPgTsmn6b7VkSUVgo40hyXxX3A65yB1Tnv2FyJIkdvsEfvyvRQNv3VXAk9Kf1gxwufsf71Rf3Aj9FfofxfxwZOy08f+xpwhw3Q5n3f3QHwxwlu-hY-xXk-yw3Q651vkf3VTv-BvfnA6-twzLmYLDSTl8vAp7etMjjJvRze5pwtAOGYqAAJ8IfNFynSLDI4AM4ShK8jAHBL1gxAcwQO2vaKGHCcBf8H2GAtbs8kX7RIH+rBLfueCPLXA3+DhI3lrlFCncV+l3HztANaB4h4B4oRAXB336+FbuKgVQPsE359wV+1PFbuN3A7+tVuifQSqxB4H7AoO-rXQNIOFyHtluX7IaInCDYHwXuNAhQZq0y5LEzULAVVoEQHC6hagd8OgAN2MHqUI0dAJrth3Nz9BWc5grVpYNMGdIbBN9UJo20ExOCseN1bhkzH0GGCGoLgswQEOyBi93Y02XwQSxSAhC3Bm2RwkSDcCV5s6+Ge6FYOm4WD0hrgmoLYP0b+MnB2TOIbkI8EusvBtZKIdwly6pUkhadM1L5DiGKBih7g01jVGqG4w9B4Q8nNNnBKtowhBg-ALqEtgY03oRCXAoMPkD1RywlgbILQ0CEWZAoXsIfhMPIBTDOh3jdYW50cH9CtWNqUJrUMYApCGh2Qu+ENFxw7DfB7QggEMLWH9C5hXQ5HDsN6HXpz+W-PoOlEcSUE8GmPUAAaFXCn88uBA4gSCCIE8wSB2-Aopf1P7MpYKdA4Ee00DYdIn+Pwv4ZQK4F7Mciqw-bI4AsrW9+By-eEZpXkBoi-CJsS3jrBxEp8ailvIkf8Jv52DTCn8WdvgCPSM0U2VodiCyMHSM0SOaYDwDSN+HyAjA2TM0h4W1Cf9gQPeIUeyMoiIjAiJkBbJ8IzgCjURnAgNhZFXaW9ImGaDUSmj+FatyR2I3ETUQ-RajohoYD9PqPNHChDR24Y0Ti2npCjrRbNE9FaOV4dRT+AbTkayJJa6DdU+9FxHcJzwMjJBYVK4TalJHocs0U4WYOeH45Oh4xKwXQCW2JGgBQ2AIp5MbWNE9wTQ2Uc+piIpH2iUxq4RMbQEXoxDqo6YywjCJWjZiToAjLkZXhJbZM9hLrWkgGPPDrCbeVInMWMW2iZdCAHjEflcClGoIQx2qTBg6NHHPCJMWnaYfoM+4DcHOeQ-AcbXKRadFx33WoN-nyFOAEeRgYIDahFB0AP+qdS4I4Fq69BpxgI42g50IRNshRNY+wV-wc4HjABIoBznvSsCgAuiAACUVqOAAAguAHACK0AASl0UgAAB5DWsgAKhKFE8VxK3vZVLFiJbRxAEkboUHGYUzxo4nWFqznHDjLgrbMTkgjwn7YA2c4mQFrFInQgh+VE7xKJ196qJcuIYv8QBOAmgSIJ0E2CfRNF5ESSJzEsiehNwJziuxREi8T9yvEiSOIqE8SOsKAESZ-YBbWiWhMmH7ZMJIY9YQ6CGEWZ14fw4YjjEmT6c8IsSTJExJpYPADJLACGupNsAkjzRSE-ThZKY7CS7JGEtUSOn3qZR6WzIEgEZwKgAAGZQj9HiD8Qe4vk2NucEoD8IE0vklQP5KxCEJmYlePybAUYCvEeAT4uwClPtAJT0pQ-b7GFOYHP9kRA-XKaq25BA0YpvfVduxC9ahiKpUUlCDFLZ50FvhZDSMTlM0DOFd+TgIkAcnpY4J1ukU3Vuqy37ihFC1xCKalOanngYpefM3oB0sD2h+IMgacFxwwGJocBIHIaMECKnTTd+HApqWNNEQTSTiVzVdvhw+DBBrmAQ1aetKnHxtnR-ge6Y4DWnSBpwRHD9hdKQ7-sf+b0j6dOFyldTfhogTEBKHRDGtVArZLvnvwzFLSx0gMx6b4Xm7jccBgvaqNKT5HtS4ZYwTGcNDRhMx2g1Amng9DwFFAIkDQUEaP1IFCE3WJI0mT-ydTXdakDQA2gRwICpJRApPdIMjM+mT9gRsJdmdT1N5IgteqgjPOB2FETRCOK096Y9Kg5xxEm-Mr6V+mQbqJ0gLIyKMt00E-sVoqsp1pl1eEKj1ApoPDGVO76RBNJkwKmcCJpkZ0IRFaKEdWMmBdxPqLMybldEFlgj4005X2MQFWKUjkJPs2mQIMJEyiGU1stUfJBTbCCeeX-SICPAZR4Af4ackMHbN9kOzwRZAyETIEZkhg0YHsvcazLvj0DhoV3IOfaOP7uiAg+I6AivxenVRT+HvOUV3Uv7RzoRQcMxF3AHAQzxkPQVYNHJdmekTAJVMAGnJ-iFyFU3o7kb6O7m087eCqc-pbJf75yY5PpQLGOhIBVyqRPefHgrwRk-8zSzIn0c7yPCzymx58+8GIBxn7yIam2EUcIX2HYDJRqgabJHNABUhLgHSN4e6BpL3ALZ78h+SSJfnMCe8TXbJibL6BmzAFE-VQAr2AVqjzAqc9OS611GsR352o0ULL0fnckd5XxYOdb1NGVCGUpozbE3ICAEL2w9optqQorEpAm2FC2uVsE9GhNL5jND-pgXpZAhVJKrJTAhVQl0tK8aHOwJhHAiDiHgIM3QjrhBmOEKpEnaReOIxZC5fMX6ORVqxooyA1ptQUDMzFQqhN4G6ioaTOK9weRZgM0zaPS2TFItPI7kmxViHbBHyikzycCFXksXJSepF5PqaQMGnQMkkzyahb2LzGEIzoQSosbYqTRYj7J7o8RbIDSxuLzJIMyhSkCrHv99GQS+safLnnXzZRrYmDuSkRaOK-F9oCTokvPDJL1E7YqwIGJmHeNMluY7aF5O-HsTHAYEziAABlFacE3UpwhCnXonJ9lXKYCHQk2yf+2E0gQOEuDkTbABE-iWeIjTDKZl0FUJgxJaBLLHCayyxYCFwKtL2lXS8AHxJ+ACTOkSykSboW0lT0C6NUMSXcIkmXjJsMk90exFynyT+hckc0bcrqXnUGpLy+lm8rqVyRQZEdM5fYuQVaT+hOk+QHpI6i5Sv4kyCOoaFyklLbJ0Sjyaf0clWBnJoKtFSSNBn3BYgqUvFooGLE6w0R847ILgW0krCYVRQE+bjCGiXL5gRgk4fwnUTKSXJLE0lRpLVHOirhIK+loCG5X2TPJhNN0psONmFLiVeLclZsJvEZQUwmNAqBuJ46Ct2ILSIpci3j40DPZfPO+IqsqjZECV2FTVSi1sWyqdhheA1ZilgIGJBW4qnYVwsmVXAcuWo0DtMMf4PjEgCTNVKKC-5erTF8yb4LiDY6qS6ZRE3hUJNoA4JxuREnLqhIJlpRnkd4gqPcqkmTYE1A5CJCw2LwJBOV5wdYV7TkRfKFxKXZdKpIBX6DtVRNFmJ91kkVqFJvg65kIrMi1Uc1lgHCKhIpU-NP2i8heMfD6EhrLF4a3CUottmw13JhCOJZIt5Agy84sas8a6vcmJrcEt4vroQjTXthpJy6rNa4psAdqfgFUwtXlEBIlrZhZa15QpOp6qBa1F6-5Y2qGjXNcpugK4e2rzVHqnhviFQaby3nzIROFUpkKhMjWWTo17q5FQms-nBB-1PChNaExE5AbM1QnL3OKBUlRqZmfCouMGssD5qWp803CYhtXEZRmgqGkDfQEIStLOJ4EyCTBMOWTAKNIEqjTxJ6XNrVJL62qsRpw30BxSaMdiBUEE5L5kNpynhWOpR44hsNFU5OhGrnXjrjaHG4ZeRv-FtLOl3SvOHsuU3MbV2z61tV-Dk2CruNM8vjU6oVLthMISNSCkcnoa7iHBQuCzY4XRymb-ISrSzT-1kGqB5G16QnA5qEBydiY3HdWcTCH70JGEKlMzaiic1bCbNAWpDSfkEIhbHNtmmRRISi0Cbksm8VCA4FC0UAfNbm1fv5py1D94gIIY4J0mJUJaQxrm9zRJnnZWsbW14cLWPOsISCKtoM0zdQAGleastFqupSq2M1ihMtZEWgP1vi6cyHVdS0Jq1oGmebBt-kQMMQCG2tCZyUq2xeIkjgdbwsc2mbW8Gl7DJRt+g8EjeparEstiGqvFigUG1tboK-SiTCFou1NCMtM2rrXtvdW9a4tYW17Vlt2GcJ9h6Uo4WkJMGnCOoJ25bejne1OJ7t3m+sLtspVS8kqtVG7ZNrS2g7AQSOrbTtodKfrwEB286mSw4hA7HFIOeHZdsTyFb8Y6jTgd2qpWQqaVGMdePSvghbB-GeO5FvfFEBFa68pqnxuvQYXVRqlOITsXcM9HIgbpRCf0TUv53fKW5SIFEJ4k4Qw7kgUOn5hcix2NpqAtLb+Ezt5ok6FAzfF4cRJYbgD0B+jfZAAMPrH1T629ZUpl2q27twUZOhXd7FtJU7dJNOzqPuR8rtQrgeEFmEoB97YQqAtISktbsXYr4UEnOyHcIRSVmRxAJ-IqqT1g7R7P5UyLiDxAo52BLesKDKauW2IAQpdyQOdtuwXY2sNoQKhEbztqULiW5GIm1Fj3t1K7a1+eqVjbp2THalt+O3QEHqL07IyaESG0OeK0omDCEAATkUg0YLeJg7te7GQHm9VK4+7SR6kzggJpy43LMt6vm7xyzIdgasoFOR7+B+96lRQECyBYcQ0AJ+6tQaXJlDQ99Mg7wd6tJlX7u1W-NwPcIMHk4BQdgKSA-g0Gm8Ag9+ufU-qRi970tM+9SsCukA6K9F7QcyM+BDWPbKVuhBXXXsO1gH1KEBj7Ljtb1ardIyB3RUWn0U66JMY7DnUSAO1GEsQTQe4ILXlW5QUwhCEtswDLZSi7G5kJZup02LyQgV86mKLZEYDkGeaaTQdvcDSKUtpyV+86pJCkhjs0xti+wCwdygAxgq1dEMKIdFbLaUwYmMmUaUlLmAu4XaljmxxQ36qV1AQaDalMA2qSgQKGzjS-hJWw9kgXcbg7wbbD8GCoQObkauh33mBRD7EcQ6uVQk7ADDk0nw5JBBgaH54Wh0I-Ny8NBGpIeLMzH2OtjyGfDZ+3fWPvUoT7GVkK2lR6Ld3YxASKh4pcr193QYwBSgFMGiJfUJ6N8X8REM6I10krZGouvnRPojGXpN5OAQg8SqBbxjFAFYgADpYBwNzKhqByHwC4hvG1e8KodTjjDQj938QQ91kWgdHltXRsTj0ZiH9HBj-cotNQAdBjGpRKaQgEYXrCOdQxhx0AAAC8A65gfo8kCnrbHdjqzQgp5V0CXHpjk0WY64aEPNoVC6OTJHQH4gqpiDLMYac8hoMFQ6DebRg8oyBO5Q2DHBmTRlB8LlI6jZRkXawQ7HNHOEthgkqziRNasVd6MZCYYz+GSAQmSIfZvCw8bEqijoA2kKiZPR4mKjMe6o+CQiQwm7WrYQhOxAACK0hmE23iu1jpQ24obDNwbjLvwQTxtGE4QnlathmDB2jkwwnFLL7WcMJowykeAP7BvDq5OuLiF+heMiQxW+Q9WolkmlQTtByJWOyhM+7ZDRjdg7YZ-2pGtTPh34aKaSnkkZDB2xIwoYHLKHKT9oaVQ6fthmRdDOx1jrMACM2GPD-hoTaYbxAIbLDXaiTmodFkantK51QCapJjMjhfo1AQURWAiIuw0AyR26N+tDBRGgjUhxxXEbzEMBojwVDiCWeSC-67h68bSVkZqh065E+R5nTns7hYRijdJ8o1Ht0A1IQ1tVGo+ohRMNH0TYuzE94mMRCCQwwpt03iHzJXtkUK58CmuYDK30wAsR-k3ozwB3GRjex4aroC0VbEGgWxUgFsRJaEM8AsRk6HQFSCfkTzOx0Y48YmOXny8N5u8x8u1aknfz1Wf8w+bADvmHj3jS8-WBorXmQLHEe8xecBxAWlcf5hC0CrfNDHOkp5x4z+dQswXAct59CwRdHwoX2IcF7+ERe-j3nfAx5rC-cc-NQXkLV5v8yRZaqIXALLF+C9RYwt0WtjOFpi6Ra4uUXQLICWXZxeAsiXiLBgIAA')">const input_prompt = "Query input:";
const output_prompt = "Query results:";

function query_driver_loop() {
    const input = user_read(input_prompt);
    const q = query_process(parse(input + ";"));
    if (assertion_to_be_added(q)) {
        add_rule_or_assertion(add_assertion_body(q));
        display("Assertion added to data base.");
    } else {
        display(output_prompt);
        display_stream(
          stream_map(
            frame =>
              unparse_query(
                instantiate(q, frame, (v, ignore) => v)),
            evaluate_query(q, singleton_stream(null))));
    }
    query_driver_loop();
}
</pre></div></div></td></tr></table>
      
      
      
      
      Here, as in the other evaluators in this chapter, queries are read from
      the user as strings. We reuse the
      <kbd>parse</kbd> function 
      from section&nbsp;<REF NAME="sec:representing-expressions"><a class="superscript" id="4.4.4-sec-link-4.1.2" href="./4.1.2.html">4.1.2</a></REF> to
      transform such
      <kbd>input</kbd>
      strings into a tagged list representation. We append
      <kbd>";"</kbd> to the string
      so that the parser treats it as an expression statement.
      The implementation of the
      
	<span style="color:green">
	  expression
	  syntax, 	  
	</span>
	<span style="color:blue">
	  query processing,
	</span>
      
      including the predicate
      
	<span style="color:green">
	  <kbd>assertion-to-be-added?</kbd>
	</span>
	<span style="color:blue">
	  <kbd>assertion_to_be_added</kbd>
	</span>
      
      and the selector
      
	<span style="color:green">
	  <kbd>add-assertion-body</kbd>,
	  is given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
	</span>
	<span style="color:blue">
	  <kbd>add_assertion_body</kbd>
	  is given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
	</span>
      
      
	<span style="color:green">
	  <kbd>Add\?rule\?or-assertion!</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>add_rule_or_assertion</kbd>
	</span>
      
      is defined in section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p3' class='permalink'></a><p>
      Before doing any processing on
      
	<span style="color:green">
	  an input expression,
	</span>
	<span style="color:blue">
	  an input query,
	</span>
      
      the driver loop
      transforms it syntactically into a form that makes the processing more
      
	<span style="color:green">efficient.</span>
	<span style="color:blue">convenient.</span>
      
      <span class='comment'>
	In the JavaScript adaptation, there is no need to precede variable
	names with <QUOTE>?</QUOTE>, see comment in section 4.4.1. We are
	using the same internal representation as in the Scheme version, because
	this way, we can distinguish the name
	<kbd>my_name</kbd> from the data log list
	<kbd>list("name", "my_name")</kbd>.
	The original authors were saying <QUOTE>efficient</QUOTE> because
	of the string manipulations that would be required at runtime.
      </span>
      This involves changing the 
      
      
      representation of pattern variables.  When the query is instantiated, any
      variables that remain unbound are transformed back to the input
      representation before being printed.  These transformations are performed
      by the two
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green">
	  <kbd>query-syntax\?process</kbd>
	</span>
	<span style="color:blue">
	  <kbd>query_process</kbd>
	</span>
      
      and
      
	<span style="color:green">
	  <kbd>contract-question-mark</kbd>
	</span>
	<span style="color:blue">
	  <kbd>contract_question_mark</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>).
    </p></div>

    <div class='permalink'>
<a name='p4' class='permalink'></a><p>
      
      To instantiate
      
	<span style="color:green">
      an expression,
	</span>
	<span style="color:blue">
	  a component,
	</span>
      
      we copy it, replacing any variables in
      the
      
	<span style="color:green">
      expression
	</span>
	<span style="color:blue">
	  component
	</span>
      
      by their values in a given frame.  The values are
      themselves instantiated, since they could contain variables (for
      example, if
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in <kbd>exp</kbd> is bound to
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      as the result of unification and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is in turn bound to&nbsp;5).  The action to take if a variable cannot be
      instantiated is given by a
      
	<span style="color:green">procedural</span>
	<span style="color:blue">functional</span>
      
      argument to
      <kbd>instantiate</kbd>.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (instantiate exp frame unbound-var-handler)
(define (copy exp)
  (cond ((var? exp)
         (let ((binding (binding-in-frame exp frame)))
           (if binding
               (copy (binding-value binding))
               (unbound-var-handler exp frame))))
        ((pair? exp)
         (cons (copy (car exp)) (copy (cdr exp))))
        (else exp)))
  (copy exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06cDwc73jxxQIBgeAkFQNA8TQYkLne8xRRBLQKCyXIFEIehiDoShwf25JUnSBQWDIfRxclmoZfCUAAB8dcU0UPl6zq1cUDXpdlmI9YN1IWDkjghFNiWpa13X9ZfRWMjFs2Xct2JrY9sUPzVKV1d9+mmeBagRZ+aanfN12IkKALiZUH3NcoV63uTd1UmYMQJGEBhZzBMOM52Pp7h2wm9oE0VSbLi3wgAMmb3p+kGRvXeEoFKEr-Os8j0U6D+gGu8t4iRtFfPC+L0F499iyR-+wqIsjwxfGV-BG3wGQ0lHheM7lgTDojcf+TXxHBdSc1qDEOh-plw+m5rqe8-IAvajnudx4s2-78flpCOV8XD-wfhbBgG8t7e2dkfV+qdT51iGB3fQZ905N0mMAgWoC3B33ATLa6OMGAo0IIEXB9Bn6JxTvLduIwIxoNgRg+m2cWKigqMoNgE1sp0EoRPahdd36fyLiXXhFkSxCBAuwzhlV6DwjdjbKus8RG-1EjDP4DApFcNRHIgO-pp4fyUfPFR4ImYaJMNI7hq8WFuU0TIxgUC7YwITnw2II1EG2ncU48OmDXqR1sdwwhBZiHI1IcQchPDz6EzcSg+hSDz4X35jnIWf0WDCHIME0J4TeFDTfoor+yj0Eywspw5WaSMlkMMM4KxkcSmpPSYufGkgyCQM3o4ww2SompxuNiBx28GC733v9bgnjskJJqSkspdthC+A6X+aJdCkEMOcT42a1jr4MECpA5gWhAGzOWLkme+SjGFMoBZTZHwqDEEAdUkBtckjlLCZUihkS5kIJiXEk5CS1kKwYG8NiqJOh7MKAcgxRyf4nLEfQf5zgfgkIqVU8IuiDT6KEd-UuELRJ-OjjCxsFydkWxudgtOS0AWNlCWxbkWggVExoSXDZlRRGgDxFgnOWLSW-KNG0AsT8Xn7NTnSwIMhGWkl8bctlOKGCdBFiPGgOYx6fM6bS0E9KhUqJ0MwoeqRjDtGlsoAGHwFAuJpQIvJwj54GtOaJbV3K9WEpzs1SBXLdX6soIasIiqBIiPBNa514JuAWrCKKolPrHAtTxVci27SLXPFiHymhIzo0spYlUUgHwtmXN2QGnJbyRhZqDTnMhIFw2AKja6yg7rXk0MwmWwNs1NXEIlpQXEIa9VGBrdmmhw8vZtrdUmtyyS03Fotj28tHaTXpEyKgpBWaNW3NFOwDwXhqXGrdCiwx4LGFFNEgu5QXg7ULS5F4Vq+BpnLruS4EZ8TB5zpvoQQgIJKXOGXSC1FBTN2WvBBoe91BH2yL7eYUxcLHlPt5a4nNgwlnePzSxCaK0gPhPaaBldF73m2kg0fL59aer6BIcfVdgj11ghIRZYoVjpAgxAYYFmSgoBwEQMgdAPM8SJJYsQFClzGXSxzGO-Dc8Y5eKPtJUowsXKNjjufaSzRh4Hwk-6YTckJItOgYE-VrS+kDOXvK991huBcb9NMKTt7v2-oiZ8oTgg71sBmWx-MHHAMhPhc8z5um6DcbQuhOlAzprtNgw8hD2SXPcdsFBQz-SKpUGCBy5W1RuHZPMzZ9cHGsqUEi+LRaASUuSssz+2L59Av6aMrnDlJKcVxbky0NcxXoX0EBSovTkmiu1LKfBp5pntPmYdUzGcEz6lcP+iLJTbSAuGW3E19JUyZl5ZaK5grSlDZOtDWVg0pQEuOp1YtltYbtkRplohz5OnpvcYa6KK5mhm3bd2bJ5bZRg5emO7bQ9S2AwVZ+DupddWZv3fpfLdN+KeVmfK6t85F3h0faO-6ULYDLsA+u6tqHoOMX1ZC0V0x-jUTZNwqALAUEVvsapaj8xTB8DFYuQQqRAXDuzdWEVtHIGYfPdW7Tpz778sNZMsERlVkbJ2UctSXwMtyDIw8l5BLHQtBkcjl+qz+hkTcFgxW5Yr5669QUNiuVP0QEy4cL+BUI0pe4lIdQVXsqWpddl4IUgYha2xHwoRd0wo3ypDDuUDX2Ctd0B1w0c8ZCMhlVF3ZkBx7T3Ih0yNnSKM0ZFy43Beguyw86UTIHhpo8RbtJD+5hPE55cZ8z6GQDrmY-4LBCH58wLU6ik2XHH3bBZYjdKJXqixW0Zgmr7XiczROwamWLbk8Cp2fTnN1z2yDkXCRybSQYXFn72+EKjb1ZNTlVeaou0khhh8s13PYJDQ+hYOAgAHwvcS1S2D+XdMhNrZfIlq3xU1YExbdfk9y951IPwVQ1m8fypK7fhg5KctUqm3plTiUIfmLp-tViPI2JSAtuitpqzqGMZB-qbF-hAZKjXmQDKtQHKhTnptelfpVptiOmvpTjXErqkKdk2mtjai6r2rtGXjQp3n5D3v8KQcXOsEWiDk-DOhvmBjQv7vjnBIOhwWCFmpwDgeSEwdwTEOeCmoIYaipoyIZHwQDDIewRmsOiIWIa2A7hXsTCpjLgIewXIdNJ7qGCNCoVskYVRH5PGMeERIZCNKtgQfHheIIWobtoQTppoVqOIfPrcp5nvA4GAlKJpgrnQQJN0voJpvvqJJCIEbgvfLUHCNwCEbOsGtyIwPgPwGYhwlos4HttpiQdoVqgtq2vEpIcSlSAGoyJtr9jtuWtktYTwSauQc2iUdQaOvHqUBOmwPHmsHetLIMIYOkf0lkUzu8PoamqoX9sIe2qHrnoUEMUICMZIuYrkUaPoM4X2A6gQYWrUSWh4SsjYQRL3isLkmMU9tdiImMYNtvKMoZM0N0Ywb4Xga9o9mDrtOeBNoyG9kHpNp8n5OeHuFRkCIsRkaMasXYu0hNoeFIcVDdkEaEIyP4UHAiTOA2Nbk0W6EoZtCej0BHgMcQgXvIEXmidyLqDnvMZnnEZUgkaENwJsZSQ0IAbgTnEDroUOv9izsQY-jQg6g3jjBsdBNiZsi1nTrAZTqkayZVvDpyc4g-uSOeNNIyNiTKSBNNH5q1tgTNn5GAjcWJjdKqXqRTtNPln5CNNNCyaxpVuce8TXLqb0vqQKdcQ6RTgyUyYgdceqaKczsshSYyYUMyfwm6AwasozJRtRmzHRpzIxpYCxv2s-q-jMsjHhj8nbNvP0DwsmVjqGKUMjIpMZKQKZPoMjBZGmQ7C4CQiYFoMIAECYMQJgbUI0BLrcp1prsnv1mQEQRNvKWEW6F6s7iIK7smH6s4e2U0qmtwN2ZTtBvGVFpLC7mbimUVocmanODIJCs7AuSAvum5KYmOanjLkuQKgyuuUyv+qPoHhNoefAkqmmoKjLtwCKnWrcvnjmIXrsjIEecqveaeeqpaU1OTN9sqHoW8M3l+XOOCPyQWH6sSmBTOeslBQDMYTeSaiuWiuNDjGcrodNDueYIhU3sOshTySfKhlkMYZKaxo4F8JUp1ISW+cSbsnpihW6BGGIQjESuYXDDhjNsxShiMGxUVO8AIH3C1C0XRe+RbIyI8XGdcIBVxQ6UQd5kuaTApdjAWBft8njKPHqWno0jGrGr2XxYMHTPBaPo0iprpaPPpTEEGS4BGCZc8ayajASdHgxeoWpuSQNJ5SwOsKJTxcRX2dLGIH3EYB5e6j3MCEFSFWuEsDmaNGZHJY0qFdAopZ0GEJOb5XRUAbEM0BwJ1CFQpeEAADyRX5WqAYWxV9graFkc7ggAAqckW+dAvgFuYgvAJa1IWI36jZokoAAA1NmbnkbMtEKDMoVf1aJBZBNW6TEMNZ1KNRVZMCNgWUWfVY1TIMQPZK1e1ZGp1dlj1eCNNfMXNWIAteNQNTBYdQNTNdSJQMbKdTIDMjFZhn4QpliHqXoQ6T2Ynlfq5sXHJNiExcREiLcqCclW0tjKEaYU-mkN2oVW6Stn9eiNiDdTELqtRVdK5bHsOoAW6c0A6SpECIdPDfMbMCgs9TdfjekVOg+GFQdhGM9TCUUAxIKA7lxoTeyJXGJVjUXrQdMP3uDdvBZNZHbOUKAJprPkeMcXYX2NIY0oyJxUlV4f6CNGDXDDpTLnpX6TpOrd5prVZUzfGD4YZYdv9UQNxdxv+eYPaR5Z9R5djN9TEJHFxmbYDf5SGOvNTapV5VDSrTDd0YLbqNldMIjTmK7YKZnujfgDRXBkSdjU-LjehPjR5RzcTXTQyaUKRIdDFdjMHSsFTY7JhHTdaLaIzY0XhINQ0K+OzRFSJQ2mduJW5VQn2ALV9aJCLZkSIOLaPJPqqZLfRLYeUYaEJVpf9ArQYT9ErdqfYanGreZQpfrWDNrehLrcvovY6OXf5EbSbS7cjRbcwmGdglRnIKzLRhzAxtzBgDJT8obsbg2UOejiHh6rxmhSIoPrfWrsQLhSTCrp-QwEbvenUbFk-ZWiRQsraCXlnOeB-Sbg-XkUifPM6F6nMDBbEHMBOHMQ0F6hyKgzEByBg36V6ghLg-FQQ0g-PGJKCCQyXGQ9MF6l2pkDBQw2wP6Jg0UF6sFPeuQDPtwJw5wi1QaGw4UF6v3rg-3n2EI7EF6jcH3JKiwIYH6jI6oHI1RisJIzEF6n1SQ7EMWdwL4OEACAfkLgNQI+o1HBBe5NozELo6APo9EULl5KY4QxQ0kdMDY3Y4Y6AELpCLYzEGY16sAFYwYCWbYwY0Y6AGAE4+QxBQAKRBPuNhNeOgAxO+OgD+MUM9zaMJP2Mc36POMQUACEwkWTITHj4TRTQIeT0TYI4IRV8TpTiTQuJVMQVTdDFDRVAIVj2TnjTTQIoT+TNTe+9TejjToAB+LT6TEFe+nT3ARQ3T4T0zEzAzEIBTQTSThQnjMQBTsQyZzoTo0Dv9sDpiClgIIYERcw3AMD99TMtaBzRuf9pi+ALAAAVlWcCWc9vsiNEUQ4cw2TBSMiXmY0UFc+rjc06IJVSCCy1OIrtgg3OF6p3jBZ3kC-6eYzU5AHQGqNHDwzEBi1i02ii-6dI1QMo7AJALg0owwGS4S4ycS7IwAKIkOUv0s0uUleoABy5A7LQTnL7Led8x+zcJULJOzABCJzAIHz2Iyg0Rh0ygB2wrMLo6qUQrvz6uirFlpzKwER0rnjl6m4PAqr0LxUEitaml+uP+hrcDFC5usGJcS55r304opAVmV0zz5AeYQxvUmgEd24wrADHAgCwD2uy90wtroICIRQjlLEwE71PNuyS5+Jg5cbw68eX6Ax+gwrxzYV9JlJCrxrYrxdqb-R6MmbgeTzrzpgRBqNebQlEiFlrLsQdd3NcdvNWcHAwllcYgXwPljYybMs1R-EhAjd8dYI4Lh9yYx98gNG7M9GXMmA19sFFApgDAOqHwVUNwpAS6aizYvFRWSsKs04Iy27joQBZN4DWQDNE0mMJ7E14IDAV1t191C1R7V7T4S1+dtCEGSCx7YyYqigNwjqye1Zba91vtm+5Aygyg7VGQHGRgcukHiTVGA1O+kHHN4Ih1pQ6HoAzQl1E1EHcrIbfY6H-qd1y0GlkcDgDSxgIHy0culuRBvmlHE0xgzw-4tlj7y0t7EIE14sAHxgQHUoERjHdAVHuM8ucoF11g4IplN2onTAZACgO+luS5zDSnO0IYmH3R2kBmjW88sGLczc0kjusNk6EY+niKOsn7NNWQ5noAFTokpGp7Bgh0+naHpGikpQoFS7IEq7sUG7S6+n+Z7YWWxmsWrnrcI20m-07uyYGpT65nedmH3HA1THqaLUIsinLn9HanmCR1RHvVA1Dp-Se8mmMXsU3pPCtn11E4h1D7qXxg8npAmXpFanPmynuXfVI28I2nBoHeInzHAMlDHwMFJ+snA3jXPEQBoWpMgXz29Xg3xD3AIiWXO0JdNn7X3A83E3U3RWJ1OXGnokAA5A+7vhdcdyGPjaR-NY9TlzJ1tzqqQDMg93YwFT8gHf9MrKrIdM9w2xOF6kIMIJdcEJdXZFpH-G4GmJdS-hwPCO+yHWN2l8giMD92t-oCjwjw1xlzt-N0j4MOjxGOj-dwWI9xRW5G6x68oF62qY3qQh4I8jhiEip0Zg+rFrhgd-99liZjBfZpkpqbhoR4UBEeT+sJT9QJoCpha3T24HR1bgz4QJghd3uwfGz89l6qRv6rbRpsr4zztyQlbS4M95L3qm4HL7tCwVLn-k+rhnzdIYHgTUCCGEV1r9Fzz45jwtb40Qc1L8YEXPLoyBEYb7T8bwx9lx77rqnFm9Amh8Qwd6TIdEH48l-OJ8Mi1wnxD77-Rwrx+5H44mhyXD10UKUGnz75KvR4rzn9vGh8L562L9TzjAX8AaTBX2wAL7EEL+6yL1TxL8XzLyvjrzt033b-bQa970n5n4wYPSwaV9b9wSNGrzBU7yV9r-L0zRIcDZvnrz4ZfjnOPgDLhru-XEuCr-D4dMf4VgLcRu3dziPi0A5sBuYLv9-bBZGqbwf6kKTGf4X-eFkJ-9ThfyEsLWv684Kuz-XbM2SJTmg0wVUTLCrElTCAKggwffq93ZC+ASAr-CKp+gh51QZOAwX3lgNihXkkB7HWVvQGbx98V++vR9v0AUAhcCSFQfhl2DZD0DuGX8QwKSDf4mcwIzKA7swN8CsDiQTwRXnHxQSGBmUrfaxohzurUDaBg5XgV2CkF-QyIog37qi0KByCi4bA39kSmqAiwHY6udQUYCYEEQWBGg9gcgNU7KCeBxgvgaYMEEfthBuaMQfHieDREdBZAPQS1AMHqDIEAglQf6BcGeMjY0gzCMyherBoFBNAmQJwldSfMHA-qJclEKoBowtkgQP6CB2kERFzcEwGTokMoDJCghaQgoTxA4EB0ihTnboorzcHOt+g+g6wVKEMjE0IhrLAIQflyH5CIh6QxQdWlSGTdSe5gRNkXCFAk5QQhFV9sDDSSWo6YNcT4sdE6jfFZhX0RgFxWPa0w9KZpGGp3lujbREut-SPFTHGFUBVhVlILhxGlQMAZGXET6HoU+gHYJhRwsGJQNOHoFzhVALiBxF4aHDR6hYZAXDDQ4yA6wtQQ6gdxMQAjAeivLlICneGsQqA4QA7r8JsoftRQ2GDiLCIZzOVByQwykCMKfhQi7hXwnbofzGgojQArcIrKTAmFOcnh9yC4eVQjAojxB-oCMBSIZEGgqRjAGkbjwzYwiWRlJQ6MyNRor09KO3EEXsEBGUCY67bHKEUOLLKUlwITFoeLS9h9CXAagEwEeiWKQDNI8XfAc4G4CB9PhhvKYcRHPA0j6UNIGvIyDZEvDOI5VfUZak1Gogc2qgvsIaLWHsdTRreP4aCIb6xAuiXsRXhKMkBSiOhHosJL7mVFlAGu7UFGFyKNTIZduV3LqPHxhERj0oKQ6gTiDZDdAzBCpOEsCXECSBMxmYXwE+RNrvgKgIcQYuED9GZBsO1ISgdGORgMAiQu8WMR8ThLdBGQyY2WOsM7SpBsM3QasQ50OrNBugbbSQKADqoAAJelgwAACC4AcAPSwABKdVSAAAHl2WyAIENJU0obUbRkqHUesTZH3Dvh7HXgFGI-DIxYx0qJzmmMbFJ8jx4xNkTtzTGdBGwDovIjJzfGZBDxGkVEO0iXLTjZxC4pcauI3FbjvxA4B8XgP-F5Ebx6BJcmmOlGNjmxWYVsS+PB5wT6A7kIoeAJzhqhYJUA48UkPQKnilyRQn6NEIiJh4Jh7VffJsVVG7pJUjAT8RQjonmRJweQsifiPEH7i1Af44ic+NIlJByJzCdtnEAyBGsHAIsRkAAAYTgmlGoPZA2RSSQuLPWKNQEGAPQ1JuQGSdoCBDQ9pJMsbQANTxC9iBIRkjlPpNIAycHUyk66EDEeArDJJHAdSZbxyhaTZRY0cEOr3irZA1JFvEzP-RrLf99h2ECMYEE0yOTr2qQaoAFJ3bGi4SVkoKQEi0lSVNqqktyalM0naS-IY+QIC1HsidAl0RA04jDWwz79DIpQeyZlOPZy8AggUznmlN9D3EyRR-RntVP8lSCipJUzkdbx5F4NCpDAYqWwCXSsV++bUzftvUxJ2Vhpo0pdEZIjEVASAIgVIBQkv4uSjR5IAqcQF6ljScMfNGICwUqkmE9EbNdoIChcmOgh6fEKtC-mICb0jidudfv6E+LzC7oiwyesr3IlPS7pJqTYSwH5ZxV-hhEAUeGHml9SrhccIGYbW8L-g1+M9PsT-iP6ojoIpQHqSNL6mn85QesdkJDIOmsU4e24ZoKDOMCb0GIDER6ATNKmM9KBAw-+nvEli4INoLktcOROmFwlPoH07aP-SWFJUtpbo1mgYG2bljPwUoG4UdM3wOBRq1oy4QsOuELCDsAoooOzPxFHBK6jESfkUUckYVfwlJPAJCCNkhgZhn0nmVdG+jLDOgv0kMCNFFkdhbsX4G4Z0RuyyyORKwlWUUGhk3Qbhg0vPHpV6K7D02bM62erPELayDAK0gYutJ4RqzBZBtSIBEzABGzIQts1OCKI4CA8J+0tcog4XRGDAQ5LfMOUbW34sQZZj1OWeVUIALg7w20k2r8IwH-DRRYI57BnMBHgjLpWQauZc1JBwjGklQ-sRNAzbMpNZwBBmUMOZmVINo3cngLXIDmIjB58EdgQd3HlMzo6U8x4IQDvAzyphSc0ACnIHkoyiRI80kYSKXlOdy5uIDkXSKcGUk6RpIP2bEEvmVzOR1cvwQnnj4PzPZBoOmMKKbmZzpOUbWckZJ3xPimepqdCmxLoBnIpJT-N4BwgvFPolpu7EZEtPPKuSKYuJBKWeLLGexTOiyJBGgqc7-c2AxU3wAmS-o7cRkEYIhZQPNbpIQFRkvUcTwNwiToFoAV0VZU5kj0OEGZLKfFAvDRTj2cUnhEtIBJwln5noh3hOGfkci7R0qR+RSHoAILNSvCpYktMUWFBOFDw88XQFllSLVI-89uc9gqEfslCK7Fhdgt+Jqxyy-CvwYGJSz2IOhkisMTXi+QSTgJDAZcZZAAAy9LbcYqMyCKTI4-E5RkZPaQnj8Ru7C8S1EbEISkgd46CVeK-jhL4lHuRXj+MbCpL0FmS-hYBN3aeLvFfi8AFBJAgwS8laSiiREJkGDAw8yEjoahJbFCpMJnsyClJNwkRD4Q4g+pT0IhB+S2lHADpT0Nh50LLMuIVJZErrmzSqBig3ITRO3BGToimxehfwuwWXM2F5EviZIAEkTKNl+IiMZUglhuTnuaPFhSjO4miSvh6Yv6FUp6FUSqA8y6YA3IPyGRKJabWQXUNqUr12ogkrUesXkU8S6YLIhUea1SUArLlv87WurTKH0yP8FisgE9xYWnjrlxQpKSPVaBfMgQ6UVBKgIBjo9wQ5i57v3U3xizKxaPEPB52pD+sWoJy57sirKFBcMVDgJAmQNOUIqDs0KpoQ2JEUVBkYDoNsRwL27djcZlnJEUPOFUHKUsgQX5ZpMYBxKoFZvHWY2P5UKqpZ54TsUCEaXoShUCqzeueCg6FkIEUClFZq0zw9KMx3QLCUJKGXUDiVhQUqDiCtV-K6ANqv6COT7Azcnx3ABUQaqikgRjVZQ1foPWIjnB2KOcD4MEBahWTvocS5BWishZsLGQ8C9cJqTEXkgWCyq6eWwrOlKKR6Gq90FeLQm4gMJ2avVXCV9UQIrJRQ01QnnNVpDLVokIya6oUB2rYgDqhtQMuIDNr3VoYUmEwoMCJMK1BCKtU0KDU5yQ1QC62vAP4X9JSAMq7UdhI9wcCQFCq0eb6MEDTqV1YCxXrgPnUUJdVz5CAdOqgWgLF1u0CNdKuNUxqrxp6oSUzSihsAiJzq-MZ4tAkri1xm4kpeSFfWLj31EEgJZ6sXXerEm28J9QBKZojRwQGIQBWGpgybqpJ2C89VKqjVqTr1vKxDeIpHqga8ljIQpb4v8V+Q8NxSy0UuH7UKjsN4SiDenOg3cr66FBN4M801yr5wFAdZjTkInoMb5ocvMDvMkQHn50FuxTjSiHIE8bU4E0wgORxvR0bcQwURjW7mY0lDu0bGw9QRInqyauNCm5Aaf340yddi6m4TdxqXLibJNRKGoGIEuRFwTlmm4gSgmU2wayeHfGvuL3HiGbE5BlaZdpok0RiGN+AeKUJsrb0qmhHAsSv5vRyhbKqMkTlT0MV4+b4pgm+gHJsrZIFEto6QaYSssXmFQtyW+aOlWxyosot1Ar5A6s-QiBLq6WhFTBVi0e5gltyWTb5p4T6aAtVysocFsbQyaUgKWp9I1o6ImL-RiIkydUPdaeDPlPrUMOVse4TE003W-QN1vSrNamhkEBoAqLq1xawkkiDrTlpm0bbhNoeTHIKO0qBrXoxW4HhZHG04sVt1WhdmZo4zZ55tPQ25dILmXb4w8zyvLa2DwU-84VJy67dWXhUTbk+387cA4uDG9Lf5wWa7MDqcWg6A5-4QCA8S9iLaigBWm5Udv4AQhQeZWr7Swpgo-aZomlFGCYH4B79Geu7bEpfzrpdsnmsKFtoAgjHV9Re4vOOLduR2or6gqtapU9pRr+ye6hjRSATqg5Up1IorGgBxhur06u+Lm5Pl8MUXdRaYYTAUQLRzBOjnRQ+HnCTCoADRSAk+K6tjlh1FBwQ4u2viplh47DIdKK9ennXh2ZBCOLO+mMVsN2M6qImO2zFoD+04sHddfDcIpJNGC4NE7EfhoyAACcJwPxP7u4bm6wOoekKPwxRX-0RYbaZIlLKn5w1ZYUsiQq+BcARU5JUstQWHpmSHdDuFkNAMXtbUV1x1hkPhtw05EfBS8BoSvedjuXRxVYlE6tAdhcBeRmUFM42rEHr2x6m904IgjcCbH16IxnQMhRQrfD3xI1gW+7buxZ2o6amY+7hhQud1H4aV2OuXKQuX1MAHp4LSOMXzd1vgRO-AVcGQDtiVICW3CqkK0EZCB95AwfLkYj2qClRb2RwEZemodxypSA5+7FnZ1UiVI8qQCcovXohCeQvIxfDhSwoLUv7hcljCNiGBANE8EVaPY4FrPHUMRXwxqmAS1FwFShWgOawoLuqsmRYT1u641VeXwNwzjpn+s-dHV-32dvUoomWHIlelFAQD4IMA55CZBCSN1CA2A2Ad8hoGXplM4NQgbz2gHODXkZ7i4V9xUZJDnkUvaxDz3m7Xl1Sx5duFe254kDE2lWULokR9QqUrQU8d6qV0gxEmQWFkWdrR7+plokoqHRmO6KYJV+k60fBPSECGB7IqsZ-fwHbHorb9Zy4vo-uo7eGBAF1N-bXrlqjx8xVhow1Ss6h2HzdjhqjcjIDpwwItX-cEHZC3w2jOOEw8gFJH-B9c5OJyvQzLAMN4qU+IwNIwdll1mHoiQWBsbWzKMcZL+cMTbnQFFqDkeoDAdQCIA4CkBdokcXIIQGswk7WDJ0oeTP1YPD0qQ3MoEFcMtlK0ABxc6GsjMBlKyEaN2To0XG6O9HhA-RhqfiLxppwRjWwq6DDKVlUGhDeoFgh-x163T4xDcIgDMk836thjMycTYcSlovSkZAkaad4Rmnxj3jpvLOAfpOWHcHR+gZ0QAB0sAK64tkXEywyBgginbonoxGZyhoIhe1RLQeMCFQwTliiE-gKhOqDYT8J1aYieJzImmuXIsaLwFXAHYegpMek6AAABe+rUALCaKDvLKTP0FE7UZ6DsnMTOkbE+CC-3n7KFJwKCA1DcPvBPD04CEwiaJx8maTpTJbhQ3yOllLqygS6oD0mCHcnQeAAk8gcVMUnlT1JxTmqbRYQhNT26bU7qdh6infIQAA')">function instantiate(exp, frame, unbound_var_handler) {
    function copy(exp) {
        if (is_var(exp)) {
            const binding = binding_in_frame(exp, frame);
            return is_undefined(binding)
                   ? unbound_var_handler(exp, frame)
                   : copy(binding_value(binding));
        } else if (is_pair(exp)) {
            return pair(copy(head(exp)), copy(tail(exp)));
        } else {
            return exp;
        }
    }
    return copy(exp);
}
</pre></div></div></td></tr></table>
      The
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      that manipulate bindings are defined in
      section&nbsp;<REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.2' class='permalink'></a><h1>
    4.4.4.2&nbsp;&nbsp;&nbsp;The Evaluator</h1></div>
    

    <div class='permalink'>
<a name='p5' class='permalink'></a><p>
      
      The
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      
	<span style="color:green">procedure,</span>
	<span style="color:blue">function,</span>
      
      called by the
      
	<span style="color:green">
	  <kbd>query-driver-loop</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>query_driver_loop</kbd>,
	</span>
      
      is the basic evaluator of the query system.  It takes as inputs a query
      and a stream of frames, and it returns a stream of extended frames.
      It identifies
      
	<span style="color:green">special</span>
	<span style="color:blue">syntactic</span>
      
      forms by a 
      
      data-directed dispatch using <kbd>get</kbd> and
      <kbd>put</kbd>, just as we did in implementing generic
      operations in chapter&nbsp;2.  Any query that is not identified as a
      
	<span style="color:green">special</span>
	<span style="color:blue">syntactic</span>
      
      form is assumed to be a simple query, to be processed by
      
	<span style="color:green">
	  <kbd>simple-query</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (qeval query frame-stream)
  (let ((qproc (get (type query) 'qeval)))
    (if qproc
        (qproc (contents query) frame-stream)
        (simple-query query frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtyPkCcgFAYDQSBEBgKjYchfC7Nker62oGEMUkixiQL3VSdJMiMPE-SKUohv64RRuJJ4Q2aBChn6QZDAWtCJyeQEAD5qUoFq2o64gupWrtLv6NrMMOwydO3e61rG-lzka8xqi0UgOHIHNiG6gjhv2waIdW9beMm-i3VFWawIWkNlphkaxs2lZtqXOZ5usI6+xOgFzoBshgdB8HetW-RPvWp5ife2JSfO5qnrIg7JidCK-pcDnWoYGResoG5sWRbgwgmi8EjdEWqC0RhBYUIxHqF8X9El6kfoay4WIVygldG9XVZV+HZYE5GMjA03FpKUAUa2906EBqmwc+-RDIJ83memNnQEN42VbVq6ubt3W9ZRNzErBlhqjYugxH0PNSGoUdcyoi2pp21P04gzP12os4o+TUB45EaoxAYPOHX0CvE7EbPEZcAmG6r3nS5Y9uk5rqj64TjuZamiMe6b8Ku7cseGGqYWKAUYgU-INOM7kVrC2Iqaq08WuC7XhfO-5loAA8lcGXeOEoovuH3jeApbyc4O42448HpOl5XguUL5G-5+Lvn9ZuWIKfW6a0hQMEpKCW6YIL5cFYlQX+68LbnjHoyaes9b4f3zpfQOf9DwIzlskDsH41RSjHvbGSwCz5YIzsIBBuCkGKTxkbMgjAbicVUAPSuvdv5cMbkTeBlBEEHwntIQOgCjS4MUBAGA8AkCoDQHiNAxILjR3+qkEEgNOj6FyAoQg9BoHN0IdNNIvAFAsDIDoxQ+iaiu3CKAAAPg4xSopmpVysXogxdiYhOJcakFgclgZ0A8TYwxjjnEvhmjbEJXjKD2J8RE-074KikMGLo0JdiJ5H00S5RsvD0mxOeIUe+xiCm2MoKIo+opmBiAkGtWcYIynQJ2H0e4Tdh4P1FDtJp3iABkvTeh7RieU8IwkgSUFaTUypEiiFpHXsMsJm9OmpBqXUhgDSFmuwsnQdehUAFqIFr4cx+BGz4BkHMhemy4kdOMQTCMPS4md0nuo9qbhqBiDoAvV2VyjFWxWeQWpI0NkPIsuad5nzoF7OeS4MFHyvkgUMEcgJWQHm-LdHcusu0Rj3OsYUnmWSZlMnBfCvuRcGDAMIIEN59Afk3IEhi20OLPEjMjlU1IFRlC9UqjS1FdKkb-MBfU0EVyLIliECBDlXLsp0HhOEvxbS1nAtxeUiysDwacuXtK2VvjIkKqBcKkFol+bqqlaiKFR9JWatioi45KLlWLOWFNBlWRnU-PxSXC1JhTVVW-uS4+lLiDUuCbyv8TqhkRiZRkx5Ty2XrNaiwOhfqA1BtpaG5ZeqhVzkNWJeNiaKVUsMM4c1hLermMTYuP+gNRpIpOYYVNjqH6axtcihgZyLlwNdai3W2Tc3kAYAE4Qvh62xDDdizFka8UxsJaKQKJsqDEHhcOghfyM3rINfarZolZ0fHnfC4tBzLZJCTQW5wS7D2t3DZirt0yD2ijeGxVE2iQ0lJXas-VWaN1CNEve6gj7Gz5sDYW+g2rEkGmqQCxV67mXNO-fQB9zgfg7q0Huw+hKf1-oYAGti3ItBnqmg0hggQZAitAAtAlB70MIcbJSNoBZvnPpHQ-AjRGSOknI2XSj9AfidEBjsmgoM8NMdBIRyoJGdBTtvakYw7RbrKEXh8BQ1y03GPA4Ktdc4FNfvBNJujcn91l1jqNWjsn5Ni0oNLZTAkNnaeM44Yg4IpZmbCOxliOmTNzuQ9AutmmikxAbbcy9D4zPdsJVUUgHwPMLugWrRTFn-P0qGZp5zHrCVUoRcwTzrtvNOfhiPTFSXUOSfJXoyguI3N2Zi+Z3L6aUaVeS79adGj1jpd3dFgrE0prWzmphHLEmy6inYB4LwZ7z0mLfZmxpn6LKDeUF4fT3cuReH7fgQdI3R2DAnSym9-XUgdRBDh09DHl38tXUq6Dm7wR7eoAd4DhWy7GoAymo7o3O2fpCwe5e1dHtAfeIJgLY7GVXre6yxrfdpwUrRbM8b6mwQUossUKF0LJwsKPewriHFuB0K-bfSHDCF4qSBOCGQdZajglAOjI1JPhDaWmMZdo2iMeCPCBT2+sRnailTvoDizOAwnzPjPc5kCPjRcZ1j4RfJ2epB2tz0A-STE7SxxQmIpQOK8YYGjzhEZud+3ehGRXOudKq9YerqgXECba7eizBoBN9eW6t0iPBSvQDNCJ1T8E23XNVw4JQHKIdj6452sfbgAcUZ9ZYmoEwS2hCvI0qifQ5o0zOG4DJ0guJGcp9xDjmW54NciZpGwMqRvUem84RnzD9CE+aST+T+370y8478lNXPVKMgZVUsTvYpOKdO1xtSL3khfem2fhwvPrew9uV4MYGeH5j5c6oLj1xl13Hm-n+P8w6UTZXRxGybo41iLnkMIydK2-My+DYy+k7nZ9rhFKCjZ31IPduQTsAhgRIzlz6U+Sc83RGQr7iY39NTnboG-USBHe-boURb3UAAAFQAAkABRBgAAQXAHAHgIACVoDIAAB5AAOWQCBBRhOCRxkEkDUBj0TyNA-143F1x0nzBmf1nyLzoCd1KA30YJGkr1RDrWYKd2aA306EbC4OcEMBczcgEMyAoKryoNxzgMQJQLQMwJwPwLEPXwHA4LWmEKoN4L5RcA3xDkYNfyzHf14NBTcEoLoHchVkRyPjVE0PMOkN+2YNoN0IujDkNk1ktyxzMTOjtxiAj1m3akYC0OCW8PMmRxoLxx-kt1IJHxCJ4MVlYVoKeSgNIAyDBlyAcEBkZAAAZiCj4ah7JCN0j2pCBCB9tpUZ5Bhs4SjMjXZtAgQ0iOAIF8AsjtAABqUjAA4xJojI1o+o0gVQlwQzQosHbBReWBAIEoq7G7RgagX0VwnacEBHbgHaXo0o8o67So+Y60W0WBd1fZMuQIHZBeMYh0VIaobIdI5BYqOIaYsoio2KeYxkUY9YmY7Y6ovyI+R6MGeyToYbCHGWQoTrVITnQEwyUoEY4gIo2BfQOHO45o94p430QyZoLpJcCHCEx+acH4hgP4tgYbAmCHImPw2IXE-E4bCMYkp3VYE+QgPyBiEeQIX4-4q45sR-cwCoTqUIVtYJeEyYqIi2b45kvE1ku+VsYUN8UE5eOE38QyV8WjbRAUx0IE0MJkgsPyWMY8IiPwlBNBN+auDBP+OE2gzUtU9NK-euGk7cUoYnQiUkoydkEUikvhKuUlAsK0-BA0c4f8fCQiVUl0dNHaQsPw0ock1kokuUJxJ04gFkgk-QKkyYPw5oO04wM0vCckRkh+cM+MiHDklwKhUBAXTDfAN5P4GhL+ToFw-fW41BIEdBRgTBAUhvckV8AAQhMUtPIQtmBIfgcCFFxA11dJ4X7nIW4AdP9DXFNJr1iD9L1FfA5xlLXF-FrzwEhHXJDBQQNP1O4UNMbONKnMFPTNGw7OSU-DIQNOtKWjKDoAHJNw4QrMvgnP9Gnl4THOfINBxzt2MhAREEfLgUPJbPjG1PdElK5NAVSBpUPObMd0iFADXI3JWCmld072pwZJAuIl7OMULL-IFMArwQZJLiR37JkEHJLy5wXDvCzyWWMVZzGUp1QppxkhQo4Gp2dkVKyEIEotYKiMlzBwop52mFKBwrAXOX0TLMeC4tWKorwT4s50IHGgpxEuLPEsLXLIUtWLZCz3grAHXMhD4ulwWllwGXRKfgUp4pIrIofK11elry11JAN23EsvvLNyGS4pJNrz7HNwco-InBxz4IYtYvdyItjV6PjwcNRAXwFUgznBCIsl6PmzcjeE5Un1PV6Nx1dXSruxYnWIHSHXStcK6yyAjUxSyp4us06D+N8BWTSPswCtdQjDKvzMEAeNxD7TCt6OTwLFT3LxRzoC6rIEzzwWz1uM5X6EYF6MZGOPXjOL+AuOCXSr8nPGcpbwL0ZDemcqHLL2cN8tiGSvXB+x0SCWKObEcvQnrwIovxVFvNItHzWvopYq715x71pxaBQnnQYAzzZLjhWyHTGuj3SrOoaELSTm90Hy3xWsDTHxSMkBgIQIYHQMsgABl4CCDHYbZ8jQsyDVATrA1qCkjBTXD6Dp8KgmDEikgeL2CZ8RpeiEi+qAqJDGxaaUoUsD1Gbca61ZD4bEaUbwAhjxB1Dqa1pmadCaKBIVYNjQEvZtx9Ch9DC39iNTDdqYhwReirDTZ4QgbYhZat9liHMt10j1arp4Q18YVWqOb8akhqyrq3DOYPCNBpaJxJqyYZzoI9s2rcbvrVjyb+rBStaYhYjyCRafbkjmrC09FmivrtqQ6ojN8npccJb7bsQQw6LzpDIJabo7pMZBg-C7CpDuD9Bo6+raD-bWZRlzp3aLai7Ij-KDdb447WpTb2RfASA4T-Uory8n5MTeciT272LSBTI27CALJrJbIHICz-UT1zBSsSBErzA3glZzMh6O7gy+7ecqS17XqTJggh6R6bI7JHI6Sp6XAF6vNEc8B+ZD85BpEoA4BEBkB0AlE8RVEy5iB3rcNDVbocxqsVMNFf1ckflpJSgckKA8l+5UVpI0SZp5kIH-RgG5IJJq1bV3T5Ma1TlzkTjF5UVuAv7rSoGNjHjDs3sgGWryih0378x50tYZlj1AMiHzs4kcG6Bv7S7CgCM21v461PtaGg061sGWhmGkyoJ8GsofdSAWjzFqhpVAG4G3rKHcNRHggJGK5KifcCGti49+HcHIGTFOMdk7UGHrThK1wWjK4-0SNtH-R8HS0E0+1vt6Go0jHBIX5hYZkZxe1y9K0yAkHkU+G3tWHQwbHE08qfkmHv6dHXFbM5MZGDRjHEMon5MEnIt4U-HDGBFLGDR8GF1NAysMsot6NiHZGr8In-FFsYnecKHGwZthtP7BGSmRNCFknotYHYm5GmaW4mmCmGGwm8GTFYUIUunHGSHKmY9iVmmpsBHwnhGTFjVLVuVg03tcJycoI4n1wqHZmvUmB8BTGd1XYTVQnJnenRQ5npGWmKmTGTnNGJmMne9t7pxs1R6D7DlXZyBj4PIvJKmOgtAbDCV3bqHfbPs4tYgFypc04FBf1qBqZ+Z-m5TAzjFK7KVqBwX+MwZoXtZAX8E5z-gQWJH9FyhXGDkYWeyVBbjVqypPn1maGQnkQPLPKGhlKv64J6BF1lb-RjUK115AY60aWAn3pAXeWdIHtmGmWBmwQaXnwsKV1Z1eEyWrzldz0UHTHF7Rh884k3pmgr8aIsXVS7n-m96x7D7viW7-hPJSG2BfBCpZyQqS1hMOGqI60KVDAemgSm8HbPszo2mvnF5PsemcH-V6sX6WIRm9Gn1rnBHCqar+BVByH36sG4MIWuNGwsMNG43DGemrzVmvWrEzGqMdnbNJs03DmmFPWqGQ2hCC9WFXIBMtHBHmqRnytomktnXiIcXsnSsjMZMKsCtiXjtrqUkvR0KCJ5zJTRReoIskN8mwRu2AzRsKXcMwtx28nF0CtOBcHB3-TMK9rbiF30tFMUH1q+w53F4d3Omp2ctV3a2QwcXpX+4T3NMUHYXzTaK4JF293v5jztXN24WBJ62EnHbtw0tT3stYsiY12QwGJzhDiWJ2HzkHB+mpRMGgXGNjFNZMGPWoQ4O3kPlag4RuBEOm7DBuRGBWiJUvUrURCRscWG3U3HGe2SX3hSwnNGRqOgOfljyQTiscmO3dNTMQO7db8bZvzSGpbCPo8SOTVyOqC72l22tesBXgaiPW1+AJP5m61WXYhDNqOVWWtMsl7u2JXGIMKQwOPLmHHCksSNlTPfc0G3VUT0bMhCKoOgETHqmLHw2ayGPy5fq0FFtltVtUUlrbi9xD8gRRPiPlOrPfs8qvTlqdksP1QQvgRbXYO4vC1sPBhguvSpoj365fq-X+dGX5BRWZwGwnX1OWZMO0uEvxy6X7dcGm6Rnt0ZPBnYlm2bbDMb2i5-3D3Y3RhGn7GeV-HDmGuTH+nF1anv6RrPPv5GQcuxvoFFWBuFnC2wPCh+mfGTkUHwqquSVm0TkDnv4enuiBJ33rWD0RnIu3PJviJ1u9uwGuvIuNuDHHGavPKcvHvfUlvQnyv6XBGsu+ySEB2iKL6Zkr75AlBb65EH7FFLBA2n9I2Jkh1-cI3lsTlxr9BkfFJShj5i3dWg9RIAk0ehA6STAtBhAAgTBiBIXahGgfmD1DNoWOWF4uXuA8q2vJW3RrMCl8X+YHM-CmfJAyAnWvPB0jvWadtcX+i1o0WO7ocNkZBRVcUeeZk56XB2XNVmehetZcdmNRMFfSNsq3JjVqWdfhMWN9fz8GsD0hWcwRXF0ZBTeItzfuBxNmqOuOn8l6BF7HewRVaPeqJ9bT7MlxeWIZ1-euvv5ZeIN30YEqJ4rw+CxVeFXfUg-Y+i4MrAsshI+GvHAvgQavthWivF1cHXCqTL2rf7sX2QJMES+xb0UhkwPzhzwJkwY23cRCvmXoEXiMa4frgXHME7vhfOGA8lxB+r4CwA3bC-4nvuXhqIhikOeL0RgWyK+DZp-OGtY5+F-kOBIIwV-e+J6CvC-O-vkx-C5heWB1hW-3ObaOAk4JkjA0HpZ6K7+xAH+1wlhQwVclwGfjSz+P+BEl-KfDc17yv8H+g-cIAAB5gQt0N-pwgAFvRhKA9HeuCGgJyRnGdAXwIIFIBiAzEXmakFiE2I09RIoAToh+TcRJwByj-W1NLE6L60ycZA+3BQLEBUCABcre-Lq1QHoDSC9kbAbgJSYECHi1AYgQwNdrvRmBVAiAaQNEgWRpB5ApfJQNIpLxdQIOA9PlEIBPctud3dnomEJRf11kckbELXxTqEowu1A3xlfCQ7+gOOtWCAROWErMMDBRAbrizFkx583SHfYrvVwnLNA7uBOQZCMDsH25ZgQyBAfbl8FEcEy+WJ-gIgjBsCP2V7SUl-X8Et9OO7bTwfCjo6FBdW2g0SNZACTlBHYuyL0sBSHY6k+w54OioHCr5zx5kq3J9uLUiH11B+m-JBPJyKD10N+-lBIfGBtr6D0QRg8vgfyJQfJNBvCXIYeWMFIg9BjggYXCRv4rAj4Zg--p0CsEGgbB0SIIdBAcE5gnBydK3G4NLIeDj+Xgv7smWpBoN-BPsGIQ6VKCkQCYH-K+OwKUhmDMIMQ3Yln1WEGdgKiQgwMkPoqpC2+5KE4ZkJnbZDkB04XIVZDoAFCRARQ-HKa3m6uxLWR4MoWCK3aecqhJ7Gvpez7BTQzBzQp-q0IPjtCHcM1LoY7h6FWtF+kzPYfMO-qiIQeByMHjfVkT30FESibAEji6RgsIWULNxjSw6zpo5ewqbWOCERbItqeSfCUXyIYIR1J20jQUZZnr4A4sg4rUROeBlEosCWyYRLhsmdDWY5g+tWIHMAnC0sig1mDkMaJiAcgzROuazAhGtHYk7RBo4VGJFBBOiGkLo6YNZiKr60iq-oc0WwzdHBRyifUfWqGNpiBj7Rbou5taLuZ9ggxsQazOwhxqsBDADmVMe1BYCH4VgSYmINZnaJOjWY+PXwOXVABvNOiWA0APmKS5zhwQ7kYsTEAx7cAyxHrN5l5GrG1jrMuHf2KWPLFvNIQoALsTGPrHAAmxBgfse2PgrDiYg3Yt0QAFIJxLY4cQONAALjZxNY0cb7zGTFiVxbYl2m83opljtxEINssJD3FTjDxoAc8UCBPGuj6xkA5cVePOhvNoBMQe8T6LdGQCAQTY-cWuJ-Efj5x9Y06M+NbFrjzoQE08eCFOi-juARQf8dONglQSHxvvNshOIrFFAXaMQDsjEH9zOgnQmo3kdqONSD9AQIYTWHMFWLETqeOo7goRNuJajaJxqfACwAABWpPELhRIdrIgPWDomiaDH1qupxWtYooExP5HMinQRUTzuJL6IMdxUeo4VNZivz60r8ok2rtZkgB0A1Qv6C1vBK0k6TSs6kulimKoA41YAkAa0VmIsnGTPKpkiZAwHgJOisx8BWybXmsy4FyAuBCcZ5NwLPD3oDEmSQJLkm7MEUT-ciSsE1jKAPWBMZQAIlkk7NmAWWQKVSASlio9mnDCKdMCikxTM+OiTcDwGCmJSFJUko+AiyKlosHA3AT7A0lxyV1Z44oIGL4DdJsSQY6wZQGnE0AuDQwCUpFuUQVFx4eWfhGqaCARBFAzuZcYCFiGBG28i+0WXHAyxBHRY7cmdQYAlNIlP9XuVuNKcVHFQz83JsQVaVzgqk0NWJHE0wML18o7T5JGU+1gdJtGtIgRGQwxJAVhqpCxAXwS-v+iWmuxmO-EDQc9O+RSSmRuoqRBDzZHyJMAGAYYQvQoCmBPqE-WKDcFIDDZ9iKPdIOYksSup9iSZHunlLiHLxxiPMaQeCAYCiCJBSg7GYTKfC4zXqVMz+NhH5q6IbgRmDlmT1DhVw1hW8ZQMoDMQZAqGRgaqTzPLGH5Oi8eHmf4PBBk5SgUs+-PQOkHkBhZpI0SPrWYGT9CUDgCtMYA5lJxqpOA4Xtw01nLxjAzwf8DbWYEkyIQ0g5mX2mMBsypQmsQ2XQC1lwIMW4QOgdYGCqr8J8zs42WDEBiqxPsHdWrEHIpzggUYTFJSKO2FRBzjK0kKUqYm6yYog54QaMq6hTk3jVICOHilikGCxyHqCOLHvR0uiKyQIMmD4FVGRnDZQ5oYZoAnKRKnpY5-SN6MjHmQPZJ6dDGlCnIzaiQrZnRI2eFn9lkBVYBMQFvHhwHEzGBfYMnOTLQatoMGbcmhl9wzlTzQwM86QQPKnwBzc5UQ20GPO7nuy3o8ISOa9U3mLx3RHwfWj6xvIuymAw82mY6VMrTga5QlG+X7IhCOjuAGyUeRPI+Hjym4AiM+XfNIA8Q+KzA-+TxXBAAByUQe6zoEwLnYFModEHP5pAKo63VNsXX1mS1YF4mM6cATAzz3S+wFVEQPQOCD0C7IWkMwrHnoEJUeYFOM+TvMIV-zmFb8wecAtAW95GFBCjBbEMxSsK0FvC5qq1LzCEdOpIEX1JSg8CAZl6KPBuTSm7qvyKqQg2YvrXbnJpDqEOVhprBEXtTxFirKRXJjcB6yxADrdug-KjnQNLkiimSNZhWIXDkGbaTBsvQCoUpmq21eQEYrMWEALYOLeRXyXMWqlKhNDPwUCBDB3d557af5smB4aaLzFZpIidIvMKaF9ZjITWB4qSUGz9ZLis0lNA2m2pJZjoinDtHNyeLAMnBfWQIldSGLylKS0xfQt7z5LkUkshpCfNiAq4ylyS9qPrOdhNKTkks3RWIuoCaAUGbS+VjtD6VsBtFDtQZR1OGUSKqImGTpVktMUuKAqEykJWg2omZKKl9S9dsO3bBRLiSqpfDG6PsURKnFdQ+JZmSM7fs3QbizMhNJYghEtm-aMGAMAqCDBASWC5uq3UBIPUuCXspHB8vzpVQQm3ym2rFK95eYclTyp-DdJoBUN4St8bgA4FhFrRU4DAdQCIA4CkAhSaGIgOQ3bozscWYJQJV+wpC1lty9ZA0tPlqHWL-UppQyBxy7KXl7BN5dFWDixVCBhAuK3eoKR8EktCAQ6V8qOUvIlDZyIFHFqvR8VZCd+bobpISp3nEluAuQYVbvKyDUkP2tyhofcv9RUiMyNItVUSp8XNVRQjBOuDLh+WL40478P-FGQcQmJOc9qgjmI3eURUqos8RgttwsK+KR281UmnXBCKPsGg3+PwIyHlrGFiMwa48ueF5kD0FuLylWFlPeg60noOIahRYSNpPQURDQUqBmtEghFs1rUPnn2B2hxUDA5Y+NccRAhJqI4+y8oVa29nmAPgwQMGOsS9Uz5vqNxGST7UZD7VUqNKRaq2X9Uk1gElqn2iGspWecf8QISNbiBMKTrY1o1RIDWtxoN0hIz5NNa1ALWq1Da1hCVTEHzXdB4q+6jWlrTWLpFg8Va1dQt3WLmwvSn7R5U53MAgr1iSjEIj6scId0wqwasQQ7DfXpEv1kVZ2CCs-UxqQ+bkMDR6q7kwaWCMsVtYEFBU5RO1pNYDc4Bi63ETk9hWPCIUZByFkCqBDAlgTwJ81yQBGhQsRuUJo1y1cG69R62w3Ib3g-3YxOCAxBAqypwgYWkBoKrEREN7akoqhuATdrAunnRjbTXw3c1kaqNPyARp5qo1GQl6nBAHHE3pFksNItjXNjNWpAgRbwNiW40dbBzokhm-miez036wh6XMh+L3UIDqyD0gHczSiG8VWbjEG9WzYbxeRAjgo+mwloZvRnGb-WHmtXjUO80Wa-NPymzXZqOKBoJUKQHzRdMs2443NUWliDUDEDzo1oX1cLZCob6Bb+asy-RQ8kS1wU2cNIyLU3T034BLijmi6eLg3Ud1dN9AeLVczoDNbP+r85oabGdiVbLiDmprfrD8ataBtRC2IEewRmDUtYNQmrZNiG1OaSSSze3J1quiRx81l2UhRZDG0Z5A+TWqrSwUxoHpvNu2+mHFoG11bzYKPLzSdsJaha5t3eQTr3gphAx+g1MT2Jbk20YLJt4WWLYYGa3Haftw2s7XbEggNAA4h23rTFu6hXaEtN2i6fNqtxLb46ncVbeQo22xtxtqeCMXFt22lTCUaWqhvy1jrnaflidUWJ4W3Cp0sAC2wUFEjmjvaJteOsnujuQWVLlZ4g-vD7mVhD5-KtgKne0r7yg0B8nOrfF+X-CARmgKMYHR0On7mwJ4q2yhfQLp0Y68OxAdLVoBx3ndj4JgfgIvAhU0icu8Jd6Z9J+CAz-8cK8wAVvmVbcCdCOxukWHxGmxhYpOh2opAp2hhgEWu3DOpCSmIrcMH5C3SMqK0YtxcpIlODfHLq7VdWOYLabVzyH71x6yOTOKQHeYkD2ilO0XUUHBD+6FlRcE2j3Pz5g0hd6ar8rXPs5TKXd0uu2LLv4AQgs9oy1HfIzBhbbuAteyPsQRzyvNIdIUKMUCAACcJwC1OxFpgbqjA+Kg7YPr6gbqZ4gMNWHhzo44tbBjyGdtq1fAuB6KOROVTEEjF9R9AUCqBRZDQAH7c1RQJ9X2C31DofYjyY8oUDP2T7-6kIh3T1gEQuAvIZGcDo8uv3j7cmYcO-YLOcbHxO9YYssc1Uqp9RI2i8cFG2sB3LbXCNuhQFXt94gHqqTAWqgrrR1N7BAbAKqmAfV1lwalbgJnW+Gdn8BVwZAAJIWiMlTcqQrQRkBkq8Vz5B5hB0qCTKOAm0-Ir4UGKQDIO6TM5hOQtHfy0h0cz9EITyF5DwOH4M8LsJg+80bFjSQwQhwRRNtaDHBDOaIiIAxFfAvK1GFidqFxqlBKG6OgG5oh+rg3x4uNTGvzkOn0PHl2DpBo4aVh4OiQ+DkKDfaxE-3CGRDXkEIoIF0OiAPDnkXyCoY3YQcdVDQIQw2L8OgAJDZLQ-H4f8OHrXDXeifSHHToO6yd0EV3RV19nsKvqytL3eKnTi4ZWgwegwFHsDjljv6I2xXZYaljs7wa6a0PO6l6EvrgtX2oIoYHsiWJqgpUHtVQZoMYKllmS+g9rK6P8BmDrBr-Nuz-iJcqjhdGowLo53D6Gjx3E7LVlvjtbmKdkZxhwiriCJyAUkf8BqyyNT4vqeR12AUcXhFGAhgwNYwIlD1lGPWFRutmgY+0Z4oD8dSgwIFaC8SgQx+Gehcd4X161mWgJnUfpZWA8vwXxhwHnr6mR0XjGCt443WLaQmFm9RLLIXQBOE7K9RFMQwQagVcF9AMe0AAAB0sAv6sokWTUYyBggqsCXcOPAlyhoIe+0SBwbIN1UTgOJr6niYioEmY9JJsk9yVeVUmQFc+J+LwFXACIegO0MU6AAABeBU4kwKFWmCnqTdxnoHKYZM6QmT4IFk6WTZOU6-MJ7IQO0csR4nyTXUSkyqdLFfy3Rex6bPQOUD0DqckwKBU6DwAcmPtppgUxaeFNWm6xCB+gSwHtOOmTaWp3yEAA')">function evaluate_query(query, frame_stream) {
    const qfun = get(type(query), "evaluate_query");
    return is_undefined(qfun)
           ? simple_query(query, frame_stream)
           : qfun(contents(query), frame_stream);
}
</pre></div></div></td></tr></table>
      
	<span style="color:green"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, defined in
      section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>, implement 
      
	<span style="color:green">the abstract
      syntax of the special forms.</span>
	<span style="color:blue">tagged list representation of the syntactic forms.</span>
      
    </p></div>

    
      <div class='permalink'>
        <a name='h3' class='permalink'></a><h2>
    
      Simple queries
    </h2></div>

    
    <div class='permalink'>
<a name='p6' class='permalink'></a><p>
      The
      
	<span style="color:green">
	  <kbd>simple-query</kbd>
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>
	</span>
      
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      handles simple queries.  It takes as arguments a simple query (a pattern)
      together with a stream of frames, and it returns the stream formed by
      extending each frame by all data-base matches of the query.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append-delayed
      (find-assertions query-pattern frame)
      (delay (apply-rules query-pattern frame))))
   frame-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNMdiHJgR0IOZSPIz1xhhFsmlFGgeL46QunqbpQDEWgmDExpiP9fcBBA4saPPCQOE0S9qjkMiWLY8S2zFawpNHWQNP7IEd1Aaz+IEI8UhCK87NklJelcXzjGQwYXiUhhwLo5R8OUCY53wViVMCNS6BM4TlKo7Sz3C0AGIA0QgNYxD2M4mRuMEXibOMoS31EwiGiU0h3ShGRGOYlK6gc5IrkiUQwN0nCfXCSJItAaLRFimE2vahpsqY3LTLM5J5MU5SavqRKNK009aOrfTDMawS5u8xoOK4qzSuk2z10barzgASHqOqGpqZK30SO7Jo6gaZE63qDOGmLWIm97GivfaUphRC3qMRbRCU+LAQezzLoEKL-oKpp-IWtYMdAQLkQEKwwlIOMZDYYV6gkp8MnSKiIP-dDMIgtyjA8OmMO4JmlUp6maZVELSEZ96PF50ZSA549RijSI2GUCCAFVCArQhKAAdxoJ1RldZEAFotaylKEMO0BsYp-HaEJuM4RwRL1ZdQs8pA59phY-wukS0N-Som3NepZ3abQtmDawRLfQ9x1nW9vLIOF0LA4LILHY4D0VXxwhgxkaKGHIVq-tGuKaop76M6zl6c7Gy3cZoJPBBVYMOCLlKZCrlPgzJ4wKdXJua8Q3oK9ATvU7r-7G+Trv4opq9+5b8v+hQyeOBVDhI3Yd965Lpe2DzkULKLTb05YTPs-X1jp8RIKmAADypWRV+9UumGUI-W6MAvPoTye94PkuRrGh+XQ37v7wzzPpffgQgOIcGImBfg4Eb73xUBSX+y8n6xmoL+SeIE54LyPh-Yut9H6GwpiVYc5VJ72VlApEBggcHZwEAgnGf9WLbkuBSRM1IsREyiMPauA9v7vlIQsOh+COThjABXWg9DowQBgPAJAqA0DyDQJoQBp9kQ7G6omOcMh6xsG4NQaByDCGdnwGwD0owtHRl0fxYYuhQAAB9bHbh2GCGu5idF6OsUYexjjrAejQu8QgrjLH6LsQ4po4o9iBPcaQGxnjQlHVOsQlykSrHRJPo+dRGtcq8OScEvQrgt6bBoNooJwxLZx1UdYKowZQxCG6vQHJwxLwxHdC3Me28OwcG+sUqJugABkvSly3G6SkkE1MsrNKqWU3u4pl4NOiW0wpHSqk1I4HU8CwzoEy0IMvQO8Je60AkCYyguVKC4BsLMjZHj87tNXFeS50SAHlMsNYbS5BgyEA3sMOZBj2k7GWT4NZcyZavPeZ8-mADe4go+dA3whzfEOHuT8xZtyjIosaoi8GaSUJQrBYPXOHAL7cGYCWQY3yFntjRQ4O5Fiel3ieR0kQxBxC21JYi8llkWkrMBfcmWalAz1UZcy72CEQneM5QCnqPLQAQVgcUJl+9hW6C8WEypLBqkSvqVKiCFc5VCsLLs+lgqFV2wOUchFNKRkqXbrcK8lLvmYo5L3I1LLqB4tigS8+RKmAkuoGSwi1q9QyCvNStxIy6XTOsOIExtCPVep9QEtl-rfmqvVbUyVFrNnSqjR6GNhLiW0EGAa3u2aY1hAYYmWFZraB+qSBTJkcg4XHI4Kc85G9lB2oxRCoByIS0sETpQAQEga1txuTaoyIaSkPMeRGjgEkaQUiYGC4dz9k3irTZqjNjTpVzvoAusFRbu00DnXm71BbfWJtraOwNE7aVTMPR078+NCyaIva2RZfy1VcvTaGzNEFH3kGfblE98aRXKviWu1Z37J28uoE+wYgFd0jH3V2lRRTYMAfg7lL1+MmIjGXesRZazZ28SBaAJwWKgr-sAxA1B05YpfNfSuwjYFiO4FIzoCjyIqOYa4KIVhropj4YpkR5gbGpV5jvahjpSkZz8GIO+egbB5lJvfSmr99TFOkBljJ+j8mD1SYTjpuTCnMSkGbCp9sgKIJGZIEwCC+JTMEk4zQGz8n51IegdWzThJjCXuRWOvapm7y9xHAweg7nF3QLKEp8zfmKW3E005x197iX1UQ5F4YXnHNP3HkZRLKHHw7EXdwUgelXMmZizl1dXZ8vOY6eIcL6Wl35atdViJINsvTvvTsL0ZYKz4YI+2D9qbIMbp-VuiCvXiAVn04+KbFZ+2DoGwG2QN6w2ScKy83g3VcOss3cpuLHL-nrvWft4F23yC7eoLNlCOrgNnoTftqr-nr1GQxXV-etd7uDGrYxwbWw7Vrf0eG7r1gM4yEJUiobamNXgUJTLNwBr6WE1YYyCkxNCYCK0-QpB7KyQMKpjTXA1RpAQVAIqDw2qScCAFu5BSM5NGY-gfMinOON6+fqMqMH+8voUl0Kzi+V955nMgfQKLTPaHY8foqLnnTPqEz6QMnY31JdkMcij0YbD0ecKvArwGQMjBXlV-rg3GuLBo44TcQNeuxYG+MKuY3tu7ds-yjL6VxOoSk42yhAtqdxikFdWCC058odbG+ufZQxpQDyi61JuMGYFuBi4CWEWpLtKp+oMoWTDA9JM+z3pR+8VErsLjMR0ifGQJm615b-Pcvsfp9CoMZQTvne16EW+9sJeohl7sB7MZVPPc09Z-KN3vvgz+8D7SEm2ue98dj4+fASl56lXPrzg7HeOXONTlb2QCv58oXduadgulcILgImsRK4iqLuxPxFasHGCnQ44M5ASug5R7E5rQb3QVk4Xw4NhU5NfZBRKBcECVcBXAhVdcHBcN-aVRHTmBcMpf3UAAAFQAAkABRDgAAQXAHAAwIACUUDIAAB5AAOWQConlC6HpVwA2FLwb0LGrSr0QX-jxyciX1-1XyrzV2ZhDA2GXxEHPh8EYJ+zX1YV4M5kPznFylENQTq2kPsGTz5jENDxoHQKwNwPwKINIIoIUIEK4JEJT0b1QXEM1zUP4LSyny4P-22kAJ4OBWMMLC1iD3YCRxC2TmUIzx-DMIsFYM3g3xc1pEXgxHrSZkl2MQyEyFt3j2my4GpDkICQiOllCBYU138MNEBDoI4S8JMJ8JYJdzpWQIYDsGmHrCIETBAgAAYaDe5+JlZZ1SiuALsrtqRyBZADEmjyjVQQISjxgaMKjRhQAABqMjSAxZPosoygQYhgOrBOeoweT+cYahEuSY5o7gHbCOdoiw76CCRHfqa4NYgoTYu2do3aBwWBB1PZFLfgZeRY3Bb1ZfbsUo4A1BdSJo44y7LYzSKgpgBoo4lo74l2JCe9XIaYZWOcfrSHOGEdVTRYiHT1fnQEDweYv4+4hueHEwD4wE04gQSQ4IDpb6SHI8Dwb6MEjgCE0QfrVcSHTIyackyk-rK8Wk-Ei4ChbgQ2Y2dpBkyE54kSb-PGJgQoJsZtAJTE2BDI+KXuHkqkiHZBVwY6YqbnSIfKGE5IRUujTRCUhSa6SaceEopgQ2OSBSGGZaMWRKD0DBEeAeLBBhCHDIo08yOEl-WQD0VkoEDwYnU0lvAkmU-rOebJN0tGRoXoG6aGWGFaFIQxOXa4OKMWDwP0nfOUpVWxLKZgcE3k5krcSaEIL0pSR0qGLGR-LYRMyHAUmgQXUBYXTpSgElN8FY2+EaSUmqC0604MK07hWuW02ZbU9vYwRUgAQg6RdK4Wbl1KjPaSIA4j0i71HJrjdT4TbISHJ2dxSCbMKI6BXOMHDOUkVJ2HBxGmqlXIdCglPMVFbM7I7ObmX0XjtPXL7OSApiHKITKiSVIQ5kHEIGnIt2JglJ9IaADKHn4X-PqGl3aknEoWvn3geJRlEAdKxhNNhkVJEGFOsF9XXN7IYSPJPLPPJnaQH3GBp05MQrNLwsWUrKoW1PvKws5OEV7inNwBnO1y+lwm4F+kL2uUWSPkJ3d2p1p2SEpw90Iv4sCEnAZwcG4FYp0FZyPjd33J50kqRPIQorATOV0TrOWMkp9HYqwrkuVK+hWAF0gurPUoLXrLYp9FwkL1ABwqgj0pjMiEUtAH6UJPl2kvqE-O-NnN1ycBN3pKMjYrpKBgYqYst3AN8pAsBHAJ0D8tXMCEfkkJCAIq9zotB0aOWMSIsOG3U3AkSJlkmJu0o2oCZUX1JUmIsLtXKoKxQjWN8SW3KvYPCUlGDSMiqskJZh6ggjnAhIkEqQNIQjd0B1apeJByk2OL0j7UmL5LgVrwKLbywqLzeNjH8XStSnWG2Q3nRLfGsBVGmuDJQR-H9BCtn1DjcmOtnNmrSL8MiqMG-BKoey0RWvKtivenmqQXGPbGOuJV7x4uSqHw8ujz2DdyYG-gXQ4Hz2msWyHSZVYGpGerFjHwn2pFcLpC+u9V7yKI2FQMwI4AINlgABkMDKDAb7Baj71sjS9JjmCrq8RCj2DF9pguDfDCB2rLDBCL4fAqbmbEq2aZDVrq1qqgpFDcouaLCNDcaCaib9D6pDChAuaeD2CUb1jQEZAmZD8UbioV9bC9J7Caagq7cIJJiXDaQEIXrAh1ap89j7Nt1SjjbUQEJ98gpxr+bmbmziygiGQeQwiHJJioitz2pnbJrSjpr+peQ-DCizbXAKbu95aaaMjHkIxD1xFIxJEoA4BEBkB0AFF5BlFHwQaYoF1SN+AJhnsn8MkXRzVxtolxwOqNEskh5EVxxZcNr3xG7GgWZ-ZMJK14UFyG0zVm0zkW7vllBi7WTZdPjWjvka6Axtsh187RpC67tPV809sq7lzR7I6UgiMW1eFq1PtY0V7TDEUR7CAS7nA3pZcvYA8GAaMTEVRvYp726FJQa8Mr6Gxb6q4I4A91iTjV7J117T6x6H10NANH6Bxn7AJuNqAX0zsFJAGm76t2Ac0+1vtz0ntp6E4K4mokHS0FUN4K1TV4VfsntN6HJe0obh64GS6EGnE6NjMwGAb57fA6HbN0xZNbMIswViG16AHqHGhZditStOGos27wGXSaGfFGJ+tRHGGRpE4pGi74H+GOkd0qgPMGN0Gn6mHVG90RHYHR6JHlC3loUNG17p6mGcU9Gq6T7qGL6OkdVnUH7EVIZyc3oPB57Zw8MHGMxZpKAaNDr+VdVKGDHlGdhHHCwGHlK5Hwm-6okbGgGJYGxSM5YFYlZVY6AJBhgWBz5QAdYIGF6Rh3D71xqWRabPtYt+yipldM42AMNPgsHcRxzAiZ6Njc8am6npgGnWQAwGBgwkttySLtgqnrBukhxF5D1SmmmvwlrvqK8qIPHF7D0KHGnSH3oVKCVT6IhqAl0brGgdUy1l5Exq0VndmGhynVm7c7tNmowTHwJGn5pYSn851slZnq6PT-tqReF-GqRwJXn3TjwXTDodyYTEnIhcQZZ5ZFYVYyRQSJA+BcndZxrA5tzUqpNt6zld6ETuBaB4m4Y61sRPs-aFm8NPt4mR7PUktripMmGoHtlK7oMqGsq+q-Qog56X7W6QGeNsMvi8Nj7GX3T3H2XzFq5qNiIWHTs174mmF8nPGOWRWeM5x+MKBBM+XR7yz8nmH2H5NoszNcWao9zrBBGysWHtX8t5THmthAWEKlohmTpVliwrDdGvkzW1SPmZXF6IhGs1GMtwJ8tFA1XrXTTXXEpQsvWlMFyQIjxiX3xQ3HX1HfXst-XAGCzbWlTiNCle7Y2aRw3eEpmyL2ws3NMFyU3gXIzHz2kmHytVa9TvU42fWstKsk2S6S2iyqX0kWMW0iAoU5gW6KmLWaB60W6-boIu2SV3lpB4JlBe3HbkRaAmJqRpiBUfHjUxC-tU3aGtWOWeHg2lrEsQJythHMtvkU3oyjXNXdMKszN-nHIR9wKWmVa52k9F3dUV3TDC3vXmtOsLnap53m0-QX2XUfDTmjBDMTX3xUtD2zMdXNwHnS3FRoyYm0GzHkTQJ6lEPkbG16XaUjwQhqDW3c6UImH5tFGS7FrDq+4B0JAMEpGKHEVDZEpmoYZ93f3n30Pq06qJB9rEpR2C1x2mwQJ0Xn9tkx2klGP+n+33W8MOPyWhdi6tnbmmococXgPgrhPeOXIcX-a4qDdR6Z2Ky5GdH42SOLCE5nmh4OZo21wM3UHHtJX+X1WLGROl0pVR6yPfxeEQJLPLHhgFyD7T1YmRl4nDYoVu6m1slvO0tMPKHeEgv3a74HPonl3APjP4oQvCGwuh50PQusPAutO7dLOsuvmbPh6VPAhdOPrLWzobIylE7UNk6owYw06ZFM75EcwCOf9mXSBWWZAQ9GqfE-FYaeulLwHz5pXQWeuZZfFjlYb2SMwRhkZ1h5NyApgBAggimDMWAXwsGDn8HRhNPpPGX2CrNRmigK57MxYduNg9vlADuA2e40qTuhAGmmWINAVcAYM3ExmzvBbuQlnLujmcQLCRMSN3uyMfuYXUNlmgeWNRMcRlAH97upMrmJh5Ol1cBofwtYfQeJNUXHxTPt5e7vwfmMfwJDaCfeFraif9E6sdgzPc495c4XvjtRsYF-p8ryf-pCrkQ6f3Uqevlc32C7Vc29O4GmVaz5y5Obml1XPOL2xmTk3kskfPX6psEZe4uaSFfehEouvpgz3JftnoEQI8P6VMG7T0uYZYLYo+2mN2xvpzfNPd7weXdsvjmFq8kOcJPVwhFEfHwj4FzXfcd3ejA4urxvf2vkR1n9eFP7fYL9vixdfAGjv+Bgwuu+6iHRkqJxhU5U+RpDwmhSTX5NvOmzfMOHe5wCQbv4+Nm+HlGs+U-OF7fdAAAeP8ZPnP8v699xhgSWSCFAtCJ8QMKjz7YxTzJKC7aQJKkYvLyaLfYMactP45ZsUY62snUY-82f+f3P7MwEScbvpJiCPvygHGP4np4MEfzLMfjY8gCf6VKf9fxgGuefxvqflfu-53DfxihnzcdV1mLu833u83nqxBLUtT6qyNCMyDV6gV70j7AJDHxzjW8Gg0ZGrKX2vYCUqGYAp0NW1XJyZ-wY+avqjyiy6cW8IQc3jxVXCN9-yu4W4Fv3-IkD52QaPLCgPOJf8HmfkRUBqVPo8UdeBKHREIyj5gpzWyQcboAOlTyxfEQ4aPDsn2p+RBmZbBKEtW4pUQs2qvBXoCApgwCcQDCF3poKQTftQKWgzFglRbZsDmmxdDARAM17h8d46nbLgAMw6wUgBUde9GYLpgWDSOcg-ZPQLgFb9XWzTJqjUBQHxl0BrgrAUDBwHi8B4-AwgYA1QHHhSB3MQZIGgoFAwPAD0VcLn1gqxC2SGgkGEwL1iNQt+0ggZuwKKjF0uBzSPXtcwN5XIo2e-SICIJSbiCgwQ7PJhF2RY+RZBR4ENgTiUHK9bysyANmoPaQaC-e9vHQf-D0EpA-ehgrCkUMLImCJOLg8ARDksEiIcYSdCRI12kQZ05ECibAPSmqbkBamyrTphM0aatY4SzPN7t0wghEojhHTLnjQDuHHDlujNHROMDBQP1zhFmAHAFgcD3MykwcdpicPGZ1cBOPUB4FZmXDW17csQIEPrVQ6k9rQMIw3NUHhF+UrMnUFEakQiDojIRnVNZNiLWR4it6nVfwdbX8GNAERVmU2BsUkDW1aRagKkRiM6qgsURoLQENSM6rsJu8noWgPZh5FcAPQ4ieoFyPqQQRhi2I4wBN1ACcc-aOTUYlR1ABijSeWsKUakAjyyiQQ2QHJrrCVEqjIIk7FIDKLlHPAcmUEWUUYANEQRgA6otMJqNNE6ibKlo5USyPFEABSO0SaO1GgAcm7ol0daO5hSjvR8onipxzdGk8By1MYMQ6J9E5MoxVEcMfiPFFN8vRsY0MS3yMBJjSRKY9IOqJDFmjQATfKiFqIjGQRMgaY5QI6N9GgBsgWY60ZkDzHKBAgBYp0Y2PrFliIIA5O0TWNcDPAjAQ5IwCHgeCIQgR9wkETqnt4ZBFQ9aZcD6GBGvDQRmYJLGOJeH1MlmlAD0AACs5uV+GcdiFxB+1MRC4qYNbTtT3MERgQZ4R0yXFMFEIQcJateJBF8oL+mfHqFZhdLW0XSl47ToiMgiQBCAfEADBIBhEASgJpWH8dpysyCjYAkAFETBMgCQS4q0EikN3gwLYjBRGBJCauSsxkEWAZBO0XhLIJZDJoo4x8SeKmIBMfOU49IPuOZDEA-aq4YgMuSfGLiXxV7V2ORPHFsS3igTXetOPqD1oGJzwDtONFCAUT-Gu6TLPeMhSz1OkEkrpmU16ZrILCztBeDxDGASB5yW4j4MWGICZwSsoQoEKxM+BHCNiPrL4UQGwmuBPsKkzcvkjbY+42w3AfAVLyiwWFI+VQhThzAKAq0TJpwyHnAJAr+TJJVQaiUwJ8m8A-JCkjcduN3HN5VyIU9if72smG4KhvAvSFEOsRIEsa3A8fJuMAhZTQ4dULukVOBJrCxEmwqROnVkSYAMAVgg6owBYBkBwaVvO2FiAYD9ZLifXXYCYjMRC9oKYMbfmgKGoFDBpVUUSMvw4Cr8UQj-T-gNKWL5QeaC0h4sFnvTaIsQzDA5vN3pA1wEBFMZqcQGMR2BC6cgZQIdJ9HiJRiMgQ6b9TJyU4ycSVGWFPwumTDXAEEa2rP0pb0oiAZaJSLtNTjnTemmnfer9P3hKRCQN0OLrPxf6QQp+G0vtEpG2lzB60oMwgH9LgTlNJp0qbQBBDqxgywsTsUYHSE+wvcuwpM1nBBHlAiUCSaiHqKTOcq9JxwabLsFeFJkplEhq2IyOzNAAJi4CA1AGkmQZkJCra24DwETxdAtTZM9AN0B1P6wUymgIQNNhPQfoMz+kbkGZBvFKaZg-O8aG6b03BhizpUcM0YgTKXyJg6Qq4cpvrJbjYy3IZOGaf-xbRD0l6caB6jzLX5AgHZU-M2UTIYCWy-hNsvegbPBgjF7ZuM6Vr7MgiEigZwYZQL7MqDEzhpolVytcAVnkIo5twgaNbUBRWyDZzA9mfHPRngy-ZpMeyrPxtms0IIAAchmmEtl+tc0fA-1Tjz9SZ+M4uYTNamjAh0+eMmREg3h9TIgq4XuW9JzGk9AwNOGWA2BX5Kx+YjhPmCvwKqGyAaUc4ebFBzzLkrwI8pyB3PNlJy3cq824NvK3nrzwxO8jGV3I3nqsdJ0UOdgZPqhfMiUZYU9Fixe4qyImxJAGlZnfmFoH4SzYrpDgub1ob5ek++b5yfnyYSwsc6tCyXspD1P55CKzPsQyb91nZAwxEjzUJTqtZqUYSBTAsRLxQDWP9HlqSlpIwkQ2SzeIdPyMBOzB6syV2YfTFIYLHSQI5+SniEDlMHY2IHBWwpBnAzX5RQimJOMw6-UsRrOb6OAVwWnoRCwM5cnaggXSKOFsi5OQSWEVmpfqhI8RVIvYVcBgZbuNRfCl+ogK755AErAuRpnq5PoBi45EAuxDGL9Jpih+f9Hkm8LoFAinmt9GsVwVxJvCmRX032rAsiF8CjBTCWEydVkFtC1tO+FpLEUbWkZCmFgvw70pSsfAV+T1KJKIlWcNJTJZzgUh1CsWELVJtC3ZKMKsocLOzE7z55QdoSsvDlBku4Cs1mSOSunON0xIpMoW6TGzo1M8zrdHwiRSoH41MRcABAIgWQDUpD7lK0lIsxgnjMV59KRluRO2BxzSW1KaATE6gD83wUNKRevMMKRQELqYkj4RcpoUIAzgcB4wggcYAwGQS9x6w3AOegQrkFELwcZCuQa4AvLNwry85bslrMOU0Ujw0ZEcu+QNyfkTlixc5RPKuUFLCixAlBPcrnI8IgKS5OYUbEGZEL6lebCcosi6ROgh02S7ZcoDuVDoml2ylFXByGHkVPUxglFs0yJWvyEuBdEYJfJ7mnz-CR+UmG539BThDx1+DYEGkmXbyII0bZle0Jt4coRy3KqyUbILTvDpgENfPGypRrukQgkqx7K8CPbbzRhBodVjsC4INwFcPUiueAT5wcz5KQ824HvnVb0AGw0wfpQvCZqZVCFwzdmufAbiZVBBB1X8KASog2EACbGTKim0ShHTu+MKfpSjQEkG4LaAoBcPPO8J208goqq8X6F0ixq8i8atwpvW+h5U0wPo4NcwB85hrbQsSoNjVF6A+8fc19aYGsXtUr49qnK1ImHRoBUQ7qo0B6uVUNhEK9V5lPWh6pALVgQIvquwmxh4KBqlqeamFGsXDW0S7cUai0DGptrjB01bARNa4BDgpqF1TAJded0BDfRJikeXNeYHzX1RJ1RawNhGSSWQoFlaxd+okRulOFBgL3Kao6tZx6g5awdTKm7lfWLK08966gE7y-W3rHVNUa1cwG-Wuoa1QhO9SoT-X0clqxyDhb+p-AgRxaWhQgsQXILgBDYKGvAmht0LE0s1iG-dX7Xg1gafw+1CmBBHQizLy1TtK9cHQarAbK1q1G8kzXbUX44NogN9eMCvzY0sCeNQmphrWDi1+NRNSvJ9D3U5riNnG-muRvwpUadVhrDKf4y3ETNCU+0trJKDU1O8s234FTYiCxbqaXsYyilk7wg66aZ4WywzXLyMhaaaeimkrHpFNh6bMwBmvuZppM11Ys2TmmeK5sF63BbNcymqrW2EBWBnN1SkzewRJXfS6iTAYMAuiEAQ0tNfmwNAFpo3Ih7FYC+5L5qD5acVsrm9VrpsoC7VzNiITTlqtRAvcz2JWlzdVqvYyUtBKNN3IVt2pmbqAYW4hoQHa2pTXAwqiGjpra0+batFfLAC42dzlahQjyNdV1UEAr9etp8ynm1qK0s0yaUmJzUtp+ChaLNiqg0D1LPbebUMG22gF1uHxA1clKoRMO8E+CagjJjQObd3JxB9D9tZAQ7V1u20VbXoyQKPGtpa3BantUHP7cNtG3tRxt0oABFNunkyw7tOeBkaFqW0yT70-EOLSS2BlvahQitYIl7WxBMxFB0RIHf2SMSab2WzKmQIjvi3E6sZo8u3IjQ2CT4BQCVc+uA2p0B5kaU+aXDdDui4c9gH2+Kg1u1Ucgpts82bUTvzzW1SdIweHdS2EJHS8M4y0wUK0xJ5T-wHoQqV5IEHXzdJJisxeFxR3O8lVYkdQRjtCJY6mgOO7cBzWl3vhdl-KLOHhn-IZbHFt9SdEHOXJHL-y6cB+NqMirjcJgCU38cYHaVpMnhFIP6EmDyar8Rt7OwIBBHt1a7Oey8p+kztp0WgwKyjeUJHRB2kxLYU2mPU4tzhC7GVcq+bcoBz0Ll7xxebJiFrNhMiqIAATi6BOoCYagdlXIBuX3pGRkgdlfPETBlAp2HqoJREnoCYqoYaKoqE2rGRVEPVrgdvUOmrnVyZYaABfSuoGZxKjw0+pMoPpRVT7G9HepWgBjMRK0Osy5GgLrHIyKhsY2MafZ3r331DlAWIc+JXrpGcd1W3VSQMy0t3vIbVqO6UOwQz1Z7k1XVUQD1Tf356Cmhe7udbRf29VKgBpCXY+AUUlhidKoEOFFFGC+IC0EE+tVOBAg8K8FvOQmZrRDgv8OgDtDtUVCmAMA0DwE3mf3gLRZ9wUrrNfRBB1i6x4D4ifPC8EIMIs1RnQahSoG31DoE58q2EKiriXYxFS-S7+kMtfVzApwQ+gMHRv6I3rENN0hZf0uWWyGUVipcg5QdKzUGaYtB6BCKjeXGBGDzB1oYhvkOjKuDzBg2CIZLXn7Oh9QUw2Yd1jsHXm4iFwzrCX1GBL9GtI8ErW9rA6eh0RO3IIdPk3aDcVu4YDbvfBTh-CkeH3TjB9Fn1v2UOnufiBrhI1m9MeB1GwMclBQs2gYWgMrDMRIG-Qrxcjlgaog4GX5GMgg36CIMkH2N5HI+DxrSMyA4jdATIzTpZ0CgcjFXZ5LsElCtGq5SsAfhwhrjM4WAjMG6CEDCP3aoj+yvDJ0a94MIK+aYRI+jz9pn0rVZk-ovKtPl15WEX+jlaspRB5AQiFIQI8kBx28HXAStXyUUGu1iw+ICG6DT4UuqNqMi37KPM7S5qfHjjhRS8Rnsm3aLrAENauYwRkB+7QAAAHSwBPqopRQb+rgAbB0g09soqsaHPahz7pU2h2shUq6CsHidkJpwtCb93wnETwpAZYvDRO85rg+AKKMuUXDfRGToAAAF5iS4ThwR40IBRN0nEji4Tk6JCBi4mZUqBgk4HDeh4A+hRRko5EEhNIm+TfjVE-7JNHKBv5K-D0Cv2IAr8acMIauYhAdDEmITvJmk6qbpAOiNTnVaY5Nx1N6mHaYpg2EAA')">function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
        frame => 
            stream_append_delayed(
                find_assertions(query_pattern, frame),
                () => apply_rules(query_pattern, frame)),
        frame_stream);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p7' class='permalink'></a><p>
      For each frame in the input stream, we use
      
	<span style="color:green">
	  <kbd>find-assertions</kbd>
	</span>
	<span style="color:blue">
	  <kbd>find_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>) to match the pattern
      against all assertions in the data base, producing a stream of extended
      frames, and we use
      
	<span style="color:green">
	  <kbd>apply-rules</kbd>
	</span>
	<span style="color:blue">
	  <kbd>apply_rules</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) to apply
      all possible rules, producing another stream of extended frames.
      These two streams are combined (using
      
	<span style="color:green">
	  <kbd>stream\?append\?delayed</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>stream_append_delayed</kbd>,
	</span>
      
      section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to make a stream of all
      the ways that the given pattern can be satisfied consistent with the
      original frame (see exercise&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.81" href="./4.4.4.html#ex_4.81">4.81</a></REF>).
      The streams for the individual input frames are combined using
      
	<span style="color:green">
	  <kbd>stream-flatmap</kbd>
	</span>
	<span style="color:blue">
	  <kbd>stream_flatmap</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to form one large stream
      of all the ways that any of the frames in the original input stream can be
      extended to produce a match with the given pattern.
      
    </p></div>

    
      <div class='permalink'>
        <a name='h4' class='permalink'></a><h2>
    
      Compound queries
    </h2></div>

    
    <div class='permalink'>
<a name='p8' class='permalink'></a><p>
      
      <kbd>And</kbd> queries are handled as illustrated in
      
	<span style="color:green">
	  figure&nbsp;<REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>
	</span>
	<span style="color:blue">
	  figure&nbsp;<REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.10" href="./4.4.2.html#fig_4.10">4.10</a></REF>
	</span>
      
      by the
      <kbd>conjoin</kbd>
      
	<span style="color:green">procedure. <kbd>Conjoin</kbd></span>
        <span style="color:blue">function, which</span>
      
      takes as inputs the conjuncts and the frame stream and returns the stream
      of extended frames.  First, <kbd>conjoin</kbd> processes
      the stream of frames to find the stream of all possible frame extensions
      that satisfy the first query in the conjunction.  Then, using this as the
      new frame stream, it recursively applies
      <kbd>conjoin</kbd> to the rest of the queries.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (conjoin conjuncts frame-stream)
  (if (empty-conjunction? conjuncts)
      frame-stream
      (conjoin (rest-conjuncts conjuncts)
               (qeval (first-conjunct conjuncts)
                      frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function conjoin(conjuncts, frame_stream) {
    return is_empty_conjunction(conjuncts)
        ? frame_stream
        : conjoin(rest_conjuncts(conjuncts),
                  evaluate_query(first_conjunct(conjuncts),
	                         frame_stream));
}</pre></div></div></td></tr></table>
      The
      
	<span style="color:green">expression</span>
	<span style="color:blue">statement</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'and 'qeval conjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzRWIBRNFxN4ACtLlRfRiAAD0IMIixiQL3VSdJMl6gawnChrurcqpSA+BhOu6qbBt4kb+LdOZ1pms45pRNzAmW1aUUMPbNovBI3QjfqNtmxrzGa1rKFxYKuqO+hLuG66BNFCasnu-bzielxFuWj61uBq7Rt2mHHvm8wTpAqHzp+4jRru6anVBpGXBqMQqFqBh2jIXwMYC7aXHhnHEa+lwOvIPNDGUUhqE0FbFEIehiDoMEYciQoqZumn+kGBGDsO5MVHoDr8GqfQztMQxuDkcgFGIBgPkCDXYepsaGBatquboT7kyVuXuqWANQHVzXtcoXWFBDZpOoVuhRlOq30eVygwjQ9DiBQ4nSYLUgKYhkC-cts3resSCdJWe2tZ1-oeNxnA8DBww7fkJQoDgRBkHQPE0DxC4GZaEOtEt1ref57g+ZzTbRtFEEtAoLJcnrmp+b9aZSg7lzGxQ4g655vvKAHozDboDXx57ye+en6Sh7kiTtd8BQWHwUeqKMbfd8bfAZDSBeJ4b6em7oFvpOaUUNEIEFuR6per5nopSiftgKeD-Nib6DBkbAaJ1DDOEvlPBOLRb4J0Mg0WcIFT4MDHhdcgpAxAgMIGA5wF135QJvi3WwUEH6pCypQYIXMd7VGyp7fBK9P4lGrgA2u5DKE9xYDQ2KFCGA-2oK-CB9D+6EMYbEUhps2Kok6JAhha9mGNjeJI5w0ihGUBEffQ2bANYsGEOQLBODvqqNETEUoiUtZgxnNo3RDBFwUE1p3LeO8954O5h-QOScihaJ3tY3ewgKZGPUf6cRxgyaOEXq4qBcj-6NhCQWMJRg2hxOUKnZgWhNb8xcb3Bh0Dm7GNAOI42b1HbE3SWCIxcjOx1CCYbdgHgvAyP7lEtcDBanKHqaowJBpxGBWKWkleDTV7+lKNEhgPSPglP6R0mBd9qmPzcNQMQdBSkDLycM5p5oFlLMmREle6iSGG2ARUZQWjKqGJ2f3XCoAsBQTWSw8ehyTD7nwKbcZ-MGBHO7uc6+0y8niI+eg2hKymk-H+acuhXzOkrGMqQUyAyLLWVsg5FwhhfD83IH1DyXlokdC0IVCKYNBCEGfpHBw3B0FiCGn+V8opsHUAUNQGgOZzH4yAQ4X8CpRo-1xLS+ljLmUM1ZXQMlGD9qxHwoRd0wo3ypHfuUBgFjkTsoaOeE6GQyrYsAcA3xJK6BwI8aGfqWgRBG1vnBegyz4H6rtvjGxAL7FkAuoq9xVqDTktVpa-VwDm5mq2fzQVkxDyFDbqkHpY8vZqrybEUooaqKmyNWCVVbBBl9maJUmi4qTwKhMsEQV8KbJ2Uctaqub0SCYsJcSwqYqpYEsQQwZBqC9oiN+n9N0NxsTksBAAPnkTi8e5KRFNzptW-G8iJEMuUZ8rJjcfm-WDUwUg-BVB-xruEkQ476A-GwbUfhgCAk-Mjbc9cu76BKI3Qoo0iTtlTu+bkxSxkV2x1PfPRsnRO7zz5SskRs1pYsRGbEvmySjCUAUP7JtxFqWpEKbif98SPggYmM22Io003kgzf8CDDAtHLXGX0v1cH-ZKr4qLHtmq4LYdSS1fp+GA65L8mhxDMRzxR0diBlBVFGSGQ1bXZjOHKN4eAwRzgtGQwYZjeue5ZGQL4bY+Jwj-pRo8YEzJgsfl4zHiIoZUaf7L3xI9RecjEyMlAfgwnYTsZUPDqrrW5BDgNmLKlPPTWlKRYCTbfoRz8Vu1Qls-M+zwg4TcA8yDSuMtWZCDrfwd5jyAWokycvfuv0MMwcA0Yq6hp3ilgE7nIEyWUmGf9is1TSGDYvRNrl4zBGPWlEBh6tYRK+aDDC4wfAkXQW0MdZJ3pfGwTUc3HpoC3Jmutei2Ci6-XQxmO1jpwDKMuulIur1gNdH1MMZbckVIbW35fMjbpYEoJ9Cbaqiipxk74vTx280QGdHLMyxGa09pEKZ3EXPNqxk92Wn4D8YV8k549zZepINiLqMRvtf0NqwNssMtlHnr59U-3rNnx8+AvzM4GyiuK8Rrj49tWDqNcIE1OYfXLL+86l1SckebNqKrK5ZOXW5Mzj+tyIyxkUeWVM3Js6DaTbEwWfQHqsejFFvo4g8yznXpybAhnBKRl2d9WUx7HPnvFVzOxoEAvZelOU1re6BjwXi6-eSWXjjj5a-0Brlexu96fpV+Jg3QaDZj2-dL5ph2xdnbA4b2Hlv97iYOyD2Kx3j7W-Gw0AXrvGBj2F6LvXZ29W05WPTvyyGPxqlqN+7O+Nc5yEUBAGA8AkCoHLmgYkIWWLtwZSPFZnPiMA14DvMgVfQAAB8m+KVFDraoYhG8t7b6kXee9+gx4-s31vL5xoZFO8P2IPex9ihT16b7eMrMV67qboxQtYgubdKop3I7RTMDEBIfHiC4Xsj6PcMQ+sa+pAQlXgAZHf3o4sq-CSBJQc-B-d9VwBhfdfmMSupAH5H6Yb7ZTLggeZ4ql5uSB57x1pnweZV7-7Ea7QRipZf4yxzLI5y6IFb7rYX7AEn5gHm78yQEErEFSZHxW5-64FP4jARgoF1grJLYHRkGw6a6R464i7gJu7D5IECQMG2ioHbb8j4p74bb+6CLbbV7-SAHkCH4kyEGPbgglhCDA7HIxbODwgj6974EKGgFKF5jswOhRbqFgpaEz7+j75yEEH6HXoWQPKmG0KkEjrh7e44EY78HP70FeGMGpYiGM7mCuEcGgJcGSHi7DRww+GCG+HCFS5iGYZWJ6KcHR7uFbTX66HH62Hu6iReI6JJEhHR7OFWaJG2p2KSBkDe5xa8HLCjRuYwEnzwELzcACGT5QL+E1olHaqpFra0GDARhCHi7+EBF4Es75bdFzpAF6FzhgGjG4ZaSZwEo9LJHcFD5QIREGwtFMHoFl4yonrrrPrdE9FWHyGZHTFKGKL7E-DLGaHhAWEGjHE2FnF2GiQXFSIxKs4rxFEyyvETo2KBBsSvzhLhF-ijS1qBAyCn54gLEjo-FnovI6by7Ak1EGxgmVCn6kj0zfF7FvG8JJpkDvrUBMrjEomgijJolTI6BxHf6pDlb4atwAEZEgFzj4YWS5ZfEsSTa0lZb0nEYn7ghsncC9aYksS5ZzYrwLYCbPCb4eE7RRFgSSnQlVyKZjG9brHIHP5CksEjqza8bzYVbOYykuCYTcnClNSQavTQbTbjyqkgkMmAz6mKkYGpBYZSYfH8YmZqkyFpAT76DGkmZUlOktJcgPZIn27pGTGnGInZHgj3bsluTvZdHUFhmeF0ExGDHbFmm8JEovyApJlpFekRlMlRlXwWR8ICL0BxnmBeoFErHEnqmpm2hoFalVzkpR4rFVFrG2n1l9GMEDGx5DEZ4MxZ75y55FwF6lyWBQHPSAELrv4Ux9RX5en94cBCD6ALk05DKgB9R3otAwo5p9QWTLmD4tADQmBaDCABAmDECEm1CNCQHDGCS3D8oWy2ILydzU445PY0F8myrGpgzgik7+ivn2pLTcCfnCZL6Bm-n44KqLlugPFTFggyAWTQXyr4yVngw2rAXlFLRAJwVoiknglALcBQmmlVk2pdEyD4V7bLREXIWgAYnNkyxeqmryDYFUXSFuiokQn0WUkZnXBPlklC5hpvDxrUV8k87EAAWQ5iVkUjHUym5jzUUIWRn6BjwWSSUYVrZa5xr9JKWcViwNlZBKUBm-qOBfDgJ0CYLepsXLKK40F3SwJyV2ydYpy9SwIGW9HuUtyzTnjv7a4WkE5E4ryMhXZTkuCTZuX1HU6oLUW37RWUTibBYEopyVFAJlFSnSmGleUpyOksSpUNq5Ub4xAOWMG5X8UuCGoNZBW2VUaUG6iJUfnrDa4eV8FcV8xiDv6HwnZDSv7AgdVdVrg2ybm36RVlHdXHwxWdABygAsDNUE6RrNAcBWVdXRXhAAA8-VK1qgal01O2u22a044IAAKnJI+XQL4IIBgnXuKdSFiM-NQLeaJKAAANQbkeId5WVCgUxrWvWiQWR-Uh4xCfViDfW7W6iTDwLQqwonVnUyDED2RXViA3UZJ3XZmPXCDNDgiA1Wog1g2-VvXSXY1vVA3UhOyd5g1DVDE1obxYje6m71Ee5IgjrNyYZyTYj2XJwjpNYTXOKNVpZEZen2lrUh7DK3xs1EB85k4AYWWd41Xmr9L04h7ND1EqRAi7Qi1WqzDP5U2k0q2Da+mMFrXWi2hU0Q7xgiZSrNxq1n4BUmw2UK0JbEQJ57nTiM2iTWS7zlCgAQHm1iorbO3FjK4pyMjMZuVmahijQ82pXRXpULxx4uoFVUSOoZV+14QWbJluis3ogc1OU3YsRG71EM31WJVM2Jgs3i053eUC0xAEo80JU24GmR12k+ma3QRi05gS3YhA0y34CWXWWsWO0CyS56Yq31U20a31XDXoSlCkS7RDWJX7VKQ82YRT3QIRhm1FZ4TvVFCvjW19X+VGyBUO1y411FCHW81sB5pe0iA+0LxlrkGVpHgESZp9hMZlGh2uXjUR3yYGzR1lFpW5WAU6RJ1JVx2azPj0QZ3ZXZ3s3V3p6yCZ55w56Fz54lxF7YAPk0rsy8o3loUCqKqenwWyEnFFm5qiQ8rjpMpaWUN8oMB0rPzdaAqENdkpk9m2iKoM7ni0N4M5yMgn7Oh8lzDSWxBzATgJ2FB8kcgiMxAcjiOAV8kIQyOThwTyOCP7ZiSgjKOIJqPTB8m16ZDSUGNsD+gSOxB8nBTPzkC+DSWWNaKXUGhmMxB8mHUyOHV9hOM0Vgjgg3Dv68IsCGAAW+OqD+O5wrCeN8kvXKOxBrncC+DhAAjdoYpvUOMRMaPuTRMxCxOgDxNdpbkeQ5MxBpNzhQiZMGAHk5MJNJOgCQiFOgDFPePABlPZO5OJP5NgCpMKMaMACkzTFTrT1T3TdTDTEIr+0TLTVT+TfV8TXTJTAAhMJOM-05Mxigs0CDM+oyU+tX03Eys6AJtTEBs3oxo+tQCJkxM3kxiqc4cyM+CJ2js5U5c6AN2jc7M9452mc9wEUBc20xih8685s943M2U-k4UG0zEHM7EAuc6E6Nwzg1Q8+QHlPYCCGG5nMNwDw0yvg8mPtHC3Sgi9i7FPgCwB1GedlqixoIKnk4o-C3ytJZsZw540UJi4i7gk6EVFDiyy8swKjUCCfnyZUtJZUky-HnyZAHQGqAyjY18+K5K29CK7TnycEwwLAJADI8q6qwq2Tkq1QCEwAKLKPKt6tasup8kABy5AZrZTFrZrS9ScsLyuXLKhby0VKLKwbmygeTu0yg0CTrxUqhuLjrtLeDzrIEqCbr0wHrXrcpSsm4PAwbWLob+0D5XKfx+LdDCqpKSNiC1Fqb1Qc+FQpAv8ctTMLMbMHMYIemXLDDHApSzDbKwDKw5KObRwRQ+d0B-EhA8t2B1FVVxqJ9Fq0ET8DW+gXLwCDdpN8b6bIb-rLra9jbDQw7Igo7CbrLOUxLpLKs3Ak7frGWqhWuAcHqh9UG3bpSDOHAAgh9YgXwc1jYA7IVOWnbp7-S7Lg5OLyDBceexchemA4VMlFApgYcIusUNwpA9Shh1AT4nlte9e04mxEHT4kNtsmxG96CkHfwAaf14IDAxNZN7MX1MgFM8HaHiHoizQxHRhGHeVbkPcNwU2r555QG+HFKubygygdeGQgCRgZKbHkzucb1ZubHNt4I2NpQIn+S-1z1b15AvHC7fYIngp5NVlyVI6DgtixgTHnewqFK2nc+6nhYEQ-4NBINWHEIf1tHeixgDHUobmrZan6Cxg2nCGhN1g4Izl9nS0WsncCgZuGCyl4+k05KoiYngM2k0w4iJ+QXoAD+0k0q3pk0EYQXtxTeXliXfn4QazokxQ8IIYpQQwz+UXfV4I2XikpQolAHIEZMHwVUoH9SQXO5cXZZgKUXMXE4P+msgqyYbZECSXB6okZnb1HnxgTAZAPnu0bqvnl+coJNE42NuHRdyCCB1ZW6KRSXON8nUn0O+nI3pAY3MbE3vX4QL18C8IYXXSW3Dn48mjHw0l-aF3nnO3Gcrshst+9XtsQ3V3Sj3AJ+43fnJtWQSX3AH3j3ZHhsINk3wXokAA5Lhx2oTTD893jYRxD+53QNt2TBHPoBj7k21XgfaZrLB-lyMNjya9uHyUIMIETcEETXZFpKWW4GmETQuhwPCEh4PPdxp7tCT-91j+HDMxz156N6Dx90T4MNz-eFkOL8DyTxVaAKW+sOW5zJHtgh4FwetP51mQ9eWZ7PdJD+T+jdr9Jct7rur3J4UG5vL6zOzEr7Gir8km4E5+r2z7PO1+PLr7l14xCNl4KfVXAefB17r6D-dLL9j38ar24Or4llKo-Ab4CoH4hkxjaqrUCCGAt40R18b6Ed9IH0VnC+H8YPjm6oyG5qH3b1wY7znxygbOO+PUV0ox77frtGXwz4XyKtApsc3wX7wm3870pDXydsJ4gmd1-PG-nyTG6s9-38fMJ5b4r2G1RMP0wrflP3vGb7EBb8zAr9b-P+JmH-b9ThN4H6D8v0nyXaP-v+P238ti-ehtH+NBfPH4HaCRo979SL74tw-wNJA4xAHVX5jgNNdlELFpfAJASPrjxe5Lh3eyHZ-FAPC67lYU90PNIikLTXFzAJaKStR3MCiVxSYAmgjSkgFf8Pe2MQgEH1drrQkBBaSqjWRo70B40gTUym5HNBpgqoPCFgFrAGAVAJYX-TyugMj5FcmBdUZyhwN4QM9NIVULorr08retaBOAyvkAJliTZOEa6KyrtUo4cBEqG4TyrfgQ4QQbcG4ZykoLYhWU2Mag7HNUCMGX4pBz+QwZ3kwEuAbBxgsNA4MsHgCIwzguwbNXMFy182blHQeoLzjx1PKVYTwH4K4ABCIGzlPtoMFCEaCwhRVcAaNUErODVB6HfwUpTVgZVZeooQwrgMzp4FCyJ+RAVl3vIEp1IPLGgIAiKEpwgedAG+vjkMIMB1AIgDgKQCugEpcghAP+NwMDoxAMMOQx-oZBexeCrKb2YYZgh8Hf0BoGQ+OlvSKBzpKkYOMYXayYQOA6hJgxoRTxaHkDwhfIZWrLE6GLDlBmCJwUsLTo-8b+kqdsLajghO9VseQlRtOA6FEcYBX-aBE8MNq2gj+sw+jD0LmEGxg+IYBiAxFGjvDdesvNOBrE17VUKg9jLsGyBhHWMSYhgUkNBwC5gQoSHvBEb4CRHEgngz3RvhqShJr8smfHJ2OnChHGosRXYMkZCMwhEjJ2VqKkfjmRHtE98-MMgCuSxZMijA8IgiIiOZEojwBxjHkZDyZHaxcRx-JcBrXpHQQngeTaoJ3E5FaxuRYo5EU8GJGhg5RbTCEQoDIiGAoS1NbmjSN1EyAtEwGSlsiEFLUVTRVAI1I7GdhMdyRbmS0dSFZFKkzRdonUY6L1ioj4u8pZ2JDxqxQp3Q7Iotv0C5F8jsRgwQyBrWNEmstR3aG0ZQE9HGjvRuo40gGMNFVwoh9DM+JSFBB6USOug3RGoh2FXQhhRw0YUcPoaMBfBRY-weVTwEdh58X4dwaVxPJ44Uho4ViFQGmEQMdyHEN9AwF8ZcRnBpudwdwBLF9jqI7bcwIOPxLDiqAXEDiJON7FljPKIdIrjIDrC1BsaHvcENuL2C7jnuiSaRCuJ7HTwd6TCEOiVWDHZD0Eo7KgOEA945ihQLyAsX6nPFTiyxz3fATcI4jhAH8EAm4SWMh7zikgi4ziDtQjAASNRBoCMKBLgkwRbRC4kcTtSb5PikJVqXaIhIZHQRcqoPA8TuMp7gjO8F7HKF6PXIJClwFTBMT7QnwMCsBfQNpLwkYACCeo7E5wNwFL5rjQ+8Qn7MrjQlkkaQSaRkOBMYBoTee5MW1KWM4n0Bt28ebcHxMyE0EhJiaDKKpEPEcBKeHvIMXAP7rkTGAXotSSLgjSy9eAw3cwf1EfGXihRNJJTl3gwnnZZe6Ue0enBxBshuggogSVDn+zpQPJmYXwIxXuHvgKgqeRrOEGqwT4JOhgLIR+D6gMAiQp8GyeWOVzdBGQTkiHHOhyHdBIpxQiTt0G-QXtQAx1AABJ6sGAAAQXADgA9WAAJWOqQAAA8ma2QBAgwqD5eGlBJEEaRYsNkt9NOOooWStYVkvqP1PxKQ9XJo08fqIL6niTQerkzoC+lmm4JnKi0zID1OYFGg5R4AsqRVOqm1SGpzU1qWtIHDTTC+K07afNM8quSvRo0xKVmGSnzT6evU5wO5B1ElCR0aoC6a9KukoSkgg0zyjqPlRmi3MlqEsXXi7T9Y1AJgLwKxM2liDvoEM8yJOGTH4lBpxIrqWoARlzT-pQqMsee0kBxAMgWsXIA4E7iMgAADCcAfI1B7IoyEmZrxzKxRqAgwWGIzLJmhjGQzPUmS1i5lvU8QSeA2DzK5jkyyAzlSbHTJMGpDx4MQ4mRwCZk7oWZvoLQUuGK7SVb8IsprsrJ56hDmC8gliIEA8zSyHQqQRWDzNSlQ4tZsfZWaFQRoMyFZ2sqqKzJSjkgCUZIrWPZE6D1JJBvw7KQ+MkGGRTEglKWaEO2HWytetCehr6EMjiJb8sAkakuA9kMAvZbAepLTBIGk8Ggyc1OfUmIEBpY5J5QgNdnuE5zvZ2QEmYxKCjEASAIgMhDrymEq5TBgM4iO7MCCezy5BnS2lcP6FyZ7iVtdoNIjlmOg7hgtW6AumICzC1MFw34SsBexViLBNY+VN-UGlTyx5eBBYSwGWHs9txhEBkeGHbkpzy5Y4pwd-3Mz-gfhmmBkvHOfEz12Qh83OaL16hygW8984gB3LTkfCgYvfFNHbGmqTzAR0DfMuPPflHzP5YI2cVQLxy5ibEfdcBH8C7G6C1wLcnyVSGcELzvBtY8anLMbGCgpUkLUKZ+ClDuCz6yeb6pBNHFjDxxSwhSYpJtyryd69GPoQ+LXC-gXUeASEJwpDAViLBGC4wRMIvjIKyxsw0aAQubFhSF8bY9utDnIWSSYheEooCfIPgTiFFSIDKrVg7Ejs5ZQi3Bf7QuGvgKgtc0IHWk9hCKcFqdIWBwq4UrBRoREo8SRNQy-8bF-wvqJ2O0WdBV5FmA2W5AcCyKlxO1QgAuDvD8T7hm4zScRMX5RpRIWk48cGNPFZBAlGLUkB7xTi-jUgOQwJbfPZ6viz4PMeZAgsSU8Bgl6iu8ekofGEAURL41xdVTfF5L4FjwCpRizZBFVQAViyEGkuuHwQoS0XR-H+PgjJL3udAPxVBK-mjsZRVqGCaSCwmFBfFhHChehOfyZLpl0EJvlMtUXJxU6z3OxdpLc6QLDYPMs3JdN1S+iCh+2OSfjPBA8ytKbwY5BZIgQWyrBRlCudhGcoiyuiDyuyX6NGURgLZP8qJeTzYBezfAM5AsDl2DEodGCvyqueWl-i8IHZ48HmdxL54ySBpoAZSYEKVxQ5jkg+eFdzL5gLwTZfwM2Z7Atl+Rzwsy3EOpI4wTgKV8yqSRHBRXoyFFNy9cLWWxXhYLZyyooOioiE0FaVVKrcREt0kT4TxK6IDpjzeWfZ-EK5RgJyr0wGTJAFE1MfytMlJohixUvaQwDqmWQAAMnqzan0TMgNMlKpIGxk8yLo4klBfcOGk1iKgY0+aR7ymnxSSY5q8aUkAWkDglp8Ki6B4PWmNhXV1FTVdqr1XgBTpIEc6d6rdXHLwBwMpdtGO3C3TUx90pKRCWekKLLlJM96caPhDEjE1Do9WRpUzUfSsxMsVNq6stXriY1xokGVQDBnbgeZeTfrKmz0QHLEVqM1FUA0tRYyQm5avGYNOhXgJWoCs7HvSu5R9qdhbkn0VWudg1rzR3dDZffTaaGRY19WSkZGKlB6ZvpOM3BKOsZUAyyxcEuiWWpJkXQeJaM-dQROAYx04xsvLHOKopjY9pxk6niL9HPCtBkQjIfybwPF7gg712PJ+sAo3ktipQ76tlO2MHWMN71o6p9TqMWporkQscOgaOugTXqAxWQ4lXaodApTfR4PTKcl0Ng5C8N4IihIEG3U5R82o0w5b9OjXkgMMo0rDecr7npYqQ6UoEMmsekQlGNsw88OxxhQW5zlz6iNknDzXuTugL0raXQCzXOwANzLfgDiHE2IzJNH0s3q9yOXcA6JvGo2SBAE2waIcl8i2pBRFIkatYIsijfFOeVdzmNJUPGYyBZV3LvopK2jXf1tX9QsN80s+ueFY0hi7VD03EE9LxlnCeNiQLTfCsE0AggaImjWPJtEg8ypN6cGTYUFKjRaM1HAOLRrAAqGRNZJM9TZM000W4RZum6-hKmIjnBvF5gYQSLMoTnKqNEmjXgcsY1XiolFWkmTVsU2g9hB1WrjUxQLrCAfpEm1raiCugfBgg7Ao5UvMo1darNBANgH1sU3-ZNVB0+qY1JamhryQC2mqUtuOkGrVN1GnLXkz3izbYsWUg2OCAxC7LDNjA3rfCos1DbjNoWszXapu1krlcB271YyCDW6r9VfkD7SGrElLg21dE17eauO3EZTtXgc7X+w+gewDsKQc2KBgnWwbfRJ7NGBbBR2VZbYekl3qGKVFRZYR8aicH+r55AJOsaOmHYYDh0zVUN6cOBJchJF5Mod5s4Du8lh3WwydFOmnZ6gAaFaDoSW07aQCJqE7yYtjWHR7HZYEpCYgCN1DBrjFAzq1SYutROE3Gdprk9xNEb1DFUjqJd55KDW6izmKSFVFCIyamIInEIDQs9MiYqqN0Ojcq1yQCJdgnyJwigVOvWLNF5208BdGuvntJS10ziHy-UEwPwDd7dCaCAuIoVexvZXFB6p9WXrP236m4pdCOmXaeCjpy7QZlLRSErsUj+72OtcMoaoUg61xSaseitlQjOyTdKdZRLlWpTVhVMGRF9HMLQroVWR80SKVGU3LLTE1bdtO8EMXpt7iZWefXA3Uqut0lLqkgMOTs7p4iu65NPezflbxL1jwPddye9dJV70799BOAc8DcASl2NrGjIAAJwnACUu+6DKmKbq10XC7Eexs+voadwgMgWM+hhmFrnZVsTCqVC4D6qUyz6hQE-foCh5Q8LIaAIAwlr0XFbDIv+2MWfOmAn6b9K+NMXqO+QuAvIpFQBRbR-1X7rGsBu-dTm33M6Qo9jaFZ0CBUgrx4myEbdLoDEbiudxo6fd4yIPWMSDS+o9FoBX1kpAVDB+dBvofKd8oN1QUqKuDIC7xwE8rV9crlaCMhS+8gffo+M85vg0e-ALDkcFZ5+RXwTKUgEIalagBMu-JI8SQTPq-7wQnkLyJ3zRV88QxpUGIEYd8iNaYgv+6XkTtaDHBzhxWhiK+AE2sD2BvWkDUxtiDNaFZVWo5Wbiu0Cauijhs4aocEN91ND2h8BMtXmKjzbDGBimIYaMNeRzlggLw6IFSOeRrDPwoEU4ugNJGIQ2RryNj30xqpc4JRjJmcJgNejl11ahXduEz36p7D5MKWmTjz38wC948VoNOPU0N67YkzIhHBMF2Y9ej1IC3YbufXuYGJzBAzX+2YxCBDA9kBvHwf4CWyqQ4hoEJIfz4yGNOaxgQITSUPf936C8f7KMYfWClJjw+9yYDG-5zp7SKcaeiP3AL4BHyUEzvBePIBSR-wqaNHpd14N7sujgCcY7tCePQJq9gxvJkQm-S86KeTB3tKwchzyxqg7LHgyOqh7sT9AdCgADpYB6tq6-HDwhkDBAfO4+nJrszlDQQADokNQ0IYwEnB0TROzE7NOxOKS8TBJoxUwGeQknduj4m4bwFXDQIegt+QU6AAABecbUAHiaKBxruT8qUk5CZ6CSmqTOkGk+CDpN90GTKuq5IsfeArHpwmJwk-Kd5M+d+m33DRt8cPJE1lARNSnpMCh5Og8ATJto0aa5PEnFT5pz3uCCtOiQWANpu06z3VO+QgAA')">put("and", "evaluate_query", conjoin);
</pre></div></div></td></tr></table>
      sets up
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to dispatch to <kbd>conjoin</kbd> when an
      <kbd>and</kbd>
      
	<span style="color:green">form</span>
      
      is encountered.
    </p></div>

    <div class='permalink'>
<a name='p9' class='permalink'></a><p>
      
      
	<span style="color:green">
	  <kbd>Or</kbd> queries are handled
	</span>
	<span style="color:blue">
	  We handle <kbd>or</kbd> queries
	</span>
      
      similarly, as shown in
      
	<span style="color:green">
      figure&nbsp;<REF NAME="fig:query-or_scheme"><a class="superscript" id="4.4.4-fig-link-4.11" href="./4.4.2.html#fig_4.11">4.11</a></REF>.
	</span>
	<span style="color:blue">
      figure&nbsp;<REF NAME="fig:query-or"><a class="superscript" id="4.4.4-fig-link-4.12" href="./4.4.2.html#fig_4.12">4.12</a></REF>.
	</span>
      
      The output streams for the various disjuncts of the
      <kbd>or</kbd> are computed separately and merged using
      the
      
	<span style="color:green">
	  <kbd>interleave-delayed</kbd>
	</span>
	<span style="color:blue">
	  <kbd>interleave_delayed</kbd>
	</span>
      
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      from section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>.
      (See exercises&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.81" href="./4.4.4.html#ex_4.81">4.81</a></REF>
      and&nbsp;<REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.82" href="./4.4.4.html#ex_4.82">4.82</a></REF>.)
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave-delayed
       (qeval (first-disjunct disjuncts) frame-stream)
       (delay (disjoin (rest-disjuncts disjuncts)
                       frame-stream)))))

(put 'or 'qeval disjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzRWIBRNFxN4ACtLlRfRiAAD0IMIixiQL3VSdJMl6gawnChrurcqpSA+BhOu6qbBt4kb+LdOZ1pms45pRNzAmW1aUUMPbNovBI3QjfqNtmxrzGa1rKFxYKuqO+hLuG66BNFCasnu-bzielxFuWj61uBq7Rt2mHHvm8wTpAqHzp+4jRru6anVBpGXBqMQqFqBh2jIXwMYC7aXHhnHEa+lwOvIPNDGUUhqE0FbFEIehiDoMEYciQoqZumn+kGBGDsO5NqUoQJyAUBgNBIEQGAqNhyF8Ls2XVzWScMUlftGgGMjAvE-SKUpda14QGANp4Q2aBChnFoxzbQicnkBAA+WX5cV5W+dt62uzl-pFcw93DJ07cQ9tg3+Txhn3X5sgOGZ4g1YIvXBkMHXs5tu3Dcx6mxrSU23YtkpWIL-XiQdlYnaXXa8+sD2+y9gFfeqLRSHTnNM7j-Q46Lp525j2JO99j5-bI1vE5wPAwcMUA5EUCAYHgJBUDQPFd4uZPiBQ4n9FyVref57g+ZzTbjdSEFe86U-uYvygq8t4FqEfxsUOIZ-z5qPzd+qwy50AVn-M+PNAFv2kqUfKhA7a+AUCwfAP8qJGCQSgxs+AZBpHAf-KBfM35XzoDfaSzRRTKxBNyHqkDX7ANiKUKhFMj75hPmDBg90TqGGcAQ+hJCb7jwnLOECOCGC-wuuQUgYhOEDW4c4C6dDoFtxaKQyYWAoIUNSFlSgwQubIOqNlOgfDlGwJaMfLQ+gdF6LPiwQxsVdFK0IIQahRiTFEJUdfBhYYy5vDYqiJ+SiPFmNYY2PxX9nCBJftAgR3jQBaIYBrZBwhyCyMIPI76QSgFmMSpnMGM4FYsBSQwRcFAFCSDIIg5BqDFHRI8UIiewJCnFJQcICmWTiGqLIf6BJxgyaOAgXU7J-pSihLtm0AsAyjATL5soTOHxiblP5rUgBHjPFqPIWXFqbU7bMC0EssEHS4mBg-GqWomzRTsA8F4dxwyDSjLXAwK5ygbkdNiRc1IgVdmLKIbcmBIzzE-C+Qs-Zvy3ldLiQk801AxB0AOX845gLGzQthfC8FXiNE+NFBwioygNaVUyUMt+uFQCYt0kijolicUmH3PgLm7xmD8yznihF7yell1xfitxRyQmPM5VI7lRK2UGmMqQUyfyLLWVsg5FwhhfD83IH1DyXlQmUuIIVCKYNBDOLYBTZE3ApFiCGn+V8op0nUAUBEgeDB8nIl-AqUazCSns0tTQa1tqHAGukftWI+FCLumFG+VIdDyg2vxvoO1V0YjnhOhkMqqr2H4yefgNpEaHBt2jjpfqWhVbXzgvQeFmbGkcNKeA3uF07UNMadMQ1hgq3VqKBwvN8g4W-MjYeQod8GBfN-qMGkbB-l9lKD2qi9Kc1gljQOuJsRmidg1MsP1J4FQmWCGmugkqbJ2UcqvfG7JfAkGVdqlxvhCq+qllqkRDAxESL2rE36f03Q3GxIan2FKT6GtiVfOm57d1jPCQErI6K1FG1LqKOW-BVAsIsYMkQET6A-HSbUagNDBmrKAbE6dDy2GWP-ZEsJRoZn81ZRCxSxloPP1gwBpWA6yBgLdahwh6GIWzWlixMZfTJlzKMJQBQlA60Qt+qa1I2y3rjP6Vxj4vGJj3tiKNOdflF3-CE4k9YIEQUtV+ZJvj9qVijQTVSuCy11Pwq02ETgXiFPHiIiGc8EM1M8ZAr-Rkhl9N-zs980FRHTNtwsyGZTI71xucM-Z3j4iqI6dDKNdzWmwuBb8vGKzMmXSl3Y4RrjRaLxGb2Rp5Z3GpM+bUfFs98Yf3J0vWIhwKKvxgPKcakWAkn36Bq-FX2UJKtuBheqOE3BmsgwPjLVmQgr38GZVy1EKzGNv0E4G0UHHZkMfoVG2I55TOMjmwMjzOW+MIqK1tUWWzXq4nWxJhzSxoKlEBkWtYzig5GG5IwfAI3+UEveBG4Lm2TOnc3BloC93huoxpQK8b+gfuhlyWJzjf8UYfaIRdbzkwO2MUS8RTtoHUjPcFWhwdAKRHD0By9qpWCEXTviaAQGCnSsyzGc815QqBPEXPK03wjIafJtTUcvy549wryBINh7T38dGIukzxH552s8NhbUHnn9loVbAR1yXgxueI70+RpnX6c222bQW353P60Nu3OLzrUvuCg4N4ULxuN+tscecC7LaK6deJA-t8HAWCwg+gq50Yos0kZOMUcjDLGtVjKqw7rHd6GfFVzFRRkXvQ9ENiwWX3xAOuEqx+sm+fkquE9QYnv+8emVyuqYBolKjf6xL8qNX+Qff18sF7Qx3wHiLZ6L1gvPeO8VA6qq31BxGzdFC9xj2Kv9k+p-96X-XBvLeV9LvJqWS98YrzXkoKAcBEDIHQHvYk1umr3y-i5Ev6fnf-XGrwZBZAEUxAAD5X8UrNuW1QxCX9ADfu-qQUGoP6OPo-r+Xyn8mkcoUL-v6O+BUGcoMBzgdBevvhQGgoFpfhEMLKjvth0jXsnGBuQGIBILbLjuCpQH0PcGILDGjiUkuIAQAGTkG9CuyAHCRAj4GZzMBiBoEywAz4KAElz7YYFYEky4F07gjNYao77mA97YK4LNYIH1Y7SuwRhHJW6sa75KwK6tpEYcFSHJCpBMHYGJKggSqiQF5aRW5aoGE56H6TbEH7a7QRhWF1jE4LzGHKEHJ56j48Jp7mHH7SEjARiyGl4LwKHPTo7168JqHIEn6EHaF8Hh6iQlhCAA6d4vbwgv635-7hG8G6Hgrgh5jswOijZd70CJHAEGjcERHpH8HUrxFGJCFapD7d6YK94hF7YCQ2G2jNFmGLb2G7o1E5Qj5cIp6uHf7uF-hwwyG2E+Hp5+FaqihJJFKpK9Fj6SGyYkFaFpFzgZHTHFJzH9FVG7rrGpKlrlK9ymETb0LDSjSNaiFXriHgLcCtF2H0wyy7Fs7tKl6nGly3FjHmETG7qih24-KqEvFDFLGYElGrH8G-GeaGH3EsRfKbHBEAnLDDFeG2FyEsEsSii4bwZtHKIeEaGpE4GlFRHggYlgKNiwn5HhCFGtiaHAkrGHL8HEk-DGZELbHJwMmNiIZsQoYLGNFuiXqBAyB6HmxQluRsn0rrZ0lH6An7Z8mVB6GkjCnmCimdC9x0bUADzckPpoigjdqyngo6DyGTGpDHZ-xaa3xAk8H4lzhaYWTGkskyzg7Gl5baavHSm6Hgi2ncDeYKmyppbzL26w5OnPCxAIlvEjEPgOYdHJzRb+leZfYulNGuxelQG7rQ5Mm5bebxm3S2FJlJysHCaHYQ7zZOl1aLFcH-5gRfbellwaxZZ-FggZlSlhGAz6CYRfYGnfHv5ci06SnqFlzLGWkSmTYWQ052ksSs5M4amanUFIm2gomU5ompBULIaY6DEhlll4k6GgmElLk0LOCjkLRJpkkDEnGNmeGDAfGLZVmGouEKIamInnmjHIm+HyEL4MxL7yAr6bzr47x7w6DCG4ngb4EUx9QWFhEf7pzGIgWkqhilB9SkYtBiqrp9TDlyQQUtADQmBaDCABAmDEBqm1CNBCH+EuDg75L7EVJLTcDq7069m45EkvyhpgzgiT5FDkXlpUUpo9C+a5kLn6I8yMXhoyCgVujFG0kRoWQhqqxMVGG7oloCoHFkAVrCVanLT8niWgBCnJlRlJoTlCU4ky4gRqUyDcDylaUyxNqkL5oqFgh6WcECQykCnGW6DtnJyu7Uzt5vDjrKUGUQhu7qrcCeUeJVk-HuW9q-zeWiUDn6Dl6iR+X7nIyhWjqBVEbhX6W3HhUuVU6OBfA8J0AyLa7WW9RN69l3SFZmUsTuZyD4JO52VnlFWZ4HTngMGcIFkFUHKMjk7-mCS3B5JlIml1G6iUSBYlmlkCTOyiH8YSIyVRl9VHERp9VBnBmhF1VVXlLTXmWzU3qrWFiIFLWjVZm2jbWZVsZ9Sa6cKWUtomYDWTWdD8YsDrCZw1W0V8xiD4EYLF5DR0HAgvVvVrhnYArOykV9XvVYI3W6gqL3XGDnXdLsocB5VvUTXhAAA8318Nqg0Vt1JO5KK6044IAAKnJN1XQMzoamfrDtSFiC4tQARaJKAAANTQWNIzyP5CgUyI302iQWQc395+ws0yAUx-XqITiirir42E0yDED2SCDSJk3LIU06rU3CDNDgjc3VrM15Ws0g01LhAM3MW00M083q1iCa2C3HVuTwKmHt6iER7kjB6kKJJyTYhPUrBap85a2DXR7g1JZFBdrNmI1m6jL23ojYg80xCzI5WP7Q1WXwqW5m7NCiEqRAgtzXVY0BjTmDCC083x33YtnZkp3Wi2im27b+StiBrXyJ3sgEEia4htUeLe0W6IXTjW2iTWQoLlBk7gKnpHgERLp9i2Z9WMiVXA2+Z9ijRu3bVzVHUsV9gT1bULWI4laL37UuDXwO1ED1Vm3mAt4DVW0DVDU21Ii-pB2O0b3e2u050TVDUjX+i+0Vz+3oSB05hr0h2NLh34C5X5UXU65Eax3oTx0DUV3J0fWp3VykS7R-VDUgMzrUg52YT533hZBF0hjah+Zl2kIV3NXV1R2XV10o7TA43u0bpt0iAd3lKHoGFd30TI6GT93gKD3vbbUb3F3LWyo50T0TXzXgIZrm6z1UQVrz3F0MQMR6bH3r3cWLyyCL6rwfkbxr7byb4YBdVmoupWp5KCXpqZkAU0lRX6qiTmqur4XxUuD6OqMMAWouJbZuJ2qaPp252HXpryHngmP0ZhpvmMi47Oh0VzB62xBzATjcMNB0Ucg+MxAcj+MNJ0UIQhOThwThOeNukiLRMiJxPTB0UmyZB63pNsD+gBNFB0XBQuKax60FMazM4Gi5OFB0U40hM419gVOxB0U3D4FKwsCGDMVNOqAtMrwrD1MxB0V03ROTzIWgC+DhBdygBKoM1lO9M+XgjuSDMxD6DDOjOvpKpeTTMRNundbTBLPcArPjNKqQgjMxAzN0XAALMGDLNjO+xKpgAbPxNzjggACkFzuzIz1zEzoATzxzoApzbpdBgzbz+zNzFdozmzjzAAhMJIC1c6s6AFC0CGCw82COCEja87Cwc6ACjTEEi6k26UjQCAs0Cx80qgSzi384897Oi3syS6AL7OS+Cyi97IS9wEUMS3C8ywy8ixCBCxc584UOMzEBC7ECBc6E6E4yoy4xwhNYCCGI1nMNwM4-ha48mPtBKxaqYxwvgCwB1JhTznKxoGuq+pE5K4YzcWGVkO2ixUq+6ovk6EVAyjwKa9ajEXLUCLjnRXOnrXOjM+bn026ZAHQGqF-Ceqy4G8G29L636401QJ07AJACEx0wwPG1G+bjG80wAKLRNJsZupsG50UABy5ABbFzRbBbUD6E4rUeNrmcrram11srKwjWygr6u0ygKiNbYpjK2mqU1bzrtbxUsRee+rTbhrLb4ztx7bHb-bXbsR+0xFR6uqzqGrUr6j660tYgIi3lTq1QYoH4fcvgkdTMLMbMHMYIGWnb5jHAByVj6a09sQhqW7RwRQ85bkwEWI2D39YI3l2aQcn7hVRagcIg+gnb0r11puDanbdbRxebhQQHgwoHSa2rurpg-GodUHg7TKU197ldj1rVX91l8hHAAgzVm72rPwtd-Ma2-ECClH37Jw0gO6bjy+sjW8G+GAijC7nlFApgpMBYHwVUNwpANyWR1AT4+lJs5+046VUiYnfwCOIYswFrdjiDsnT4coutDAKtDNRtmtMn2R8nQt0wzQ+ncn2EVZZ8Nw4ypaWF3G7MeV19U55AygygZ+GQJ8RgBqLnHzK8DN+gzn47qkKtpQ4IKtytXNDNAXsH-ooXnpD+Dn61LEDgpSxgdnj+XqRqGXe7KXO1-4vZRtHN4IEIHNlnqSxgNnUojW15yXUixgGX0mut1g4IVZNXS0jBZACg-n0iEV5ZXXRBinokgM2kxn1Zuhhq4QlB0kQa5ck0EY43FJV+tjc33X4QCLokxQ8IA3LsIw43Fd4IG3ikpQ3HznIEZMAnOUQnNy438F03O5biu3k3E4bB5Sa6yYN53083mGokxXDNrXUNvcnXu0tafXCOqtfYKt2n1IO9YiEhTacifRvC83YPoYEPHNf37XpAgPynwPn3Ot0c8Iw3IqZQdAOXeUoIetH6xPOXTAHXRnRkZczs13ad6PEIUT3AuOQP3XBdWQ833A6PNPmPDCvS8XT+TP0wIXAA5JDy+rrVL47LzRrfzSDy1yT7V5nGTKQBTBrys7Vbic2eUlJ9t4MNr9F8Im6UIMIHreCMEFb3ZFpBZOaGmFb6QBkOqgp8z6r210b-oCb9zz7wWJryovzwD0L1T2r9777wg-7+TEH571DSb6iW5Me+sKe5zCPukh4H0etD104lTbud9PdAwnAubwrfn3QHrXD4hvMYXzh41sn6zOzGn6Ohn3Mm4PV9n3T0pM93-IXwN3RRt56dD1cS94X6H-dIn+YNr86pn24Nn9Nu2Ln64j1KPzJrZkmgnUCCGBcTD-gpX37h30VhKzP8YLbLWoyI1lPy330e36P0VlFuvwA19eCFEwN87LtFf24CTLWiorcR-yf0rN6nd4jcwOxePbok1f7yBW+--WtPLxAFYI9u9fVPo5ioiE8P4zsOAaglr6GtEBjfZAYFmn5QCb+A0IAfT3QEP9i8irSAX0S-6ADLMPdJTDNnGjVViBS2UaP3z1rb9h+PfFgXQP9R4M9MA0CnJql3RvQSAc-XXgzyXC9806tMQgGP0brrQN00qbdEeT3QkAjGKgegOOguiF8JOqQZ2NIPF5R9DB9PAhvdCUFboV68PMfJoNTjLIiKDhDSA4jpQsBM4AwCoBLGIH6VRB3AuQXt0d51QrywgU-p-00hVQJyugiQW2y0EBlb+r7a4D1SeTVA2IeVDGgZw4BDUNw+lZ2KJ1HCe0NwVZOxLBjyphZ0hf8IoSkKIJpVXYFQx-Ilzci1CShvaRoVUIkERgWh9Q8wC0LMaMBGGuQiCNIy4b6UqwngfoRkMGFrUqyv7YDmMK4D5C5hR1bIUuHBwtC0hZnOYeFW4BHUJ+uJLIuIN7KRVNyAsAaBZA26b0UwCyfmGJ0sTmCJhcwhwMQ1thZEGA6gEQBwFIBXQtUuQQgCwi8F4MYgymPYSv3+EUgo8LQlnMkMjq7tGGtw7YYZC7Rzp9AHQgOsT0eGlCXhFvd4YoLuEVsfE3wimN0OaGQi8qz4KhvQIDQL8DBLA+usvRibTh8R3vUfgFSIAUxsYcg0kUUEUw0ieSVgwgII3JDCNS4DIwvjsL9jhwbUGsHjIa10aOcoskonNLsn9h2dxRjWGUZGXMryi+Yio8OMqIVg58-aYcPUQN0uyNwU4vcfuIPFriDBDILcQ0TxBYpTxV4moxgDPB1GuiFYc8O0QjlFHTDbYQoMUqCF+SzDuAKSSgFsIWq-RGcxIsQBCOKEyJoRwNYMTiJnzrlERyImCuhU1xrC8hoY8MVw3gocQVSDAJplxEJHoIOhIYqgHmMmHxDjGVAIsSWPRocRKxYYnEfpW2p7cZAdYWoCrQG7gguxewHsfLwmRPxmxrEKgOEAG4diYg8vUUHsI4iTi06vosxrgkpCBiiMY43MTiNnH6ClwC40AJQUkFwRh4E41-vWNozFiqAXECMAuJw4GgIwoY03v6ELEXjGx3vW8aHXQi7RHxd4htEdVD79juxlvUUR-WI45R3RnXKChIOdjDNHRgMc4SoD6AvIlYjAAIT1DQnOBuAl-KsaACn6LDI8jrRsTqX7RlQXxSQS8ZxHRrYTWxGE+gBBz9YTg8JC1FMQ1ivGdNJ0GUVSAOI4CW9jRpseXqBMkDgS7R3ENicRLjQITeAUNZIf1BA4Ti9Biox-O+InEIT0o2ohWDiDZDdBi45IFbIyHSiaTMwvgUyiwzLiIihoF2U2KTkMCiiZJfUBgESBwRySpsBEqkN0EZDv8JxLEkSqkD2HdBwgIXDbqTm6AsZiOoAPGgAAkM2DAAAILgBwAGbAAEp41IAAAeQLbIAgQnVBdhLUolKEnBt5Mieu3wm9kpJmcOyc5JVJF9xAA4OyV-1CHA4ipofNSZ0GRQNSFEVZFqZkHylphby3lSKdFLikJTkpaUjKZ1Nqkfg+o9UgqUaEqm0ZvKakiCW+EmkOSswTkpqQ73an0B3IEEhwbJWSE9Swhs0oqdWJ2r5c7REoqgI1kzShiz8PsH7GoBMBeAUJh0nqLdPMiThKAKpU6ab1ylqBXphU88UkB+lEdJAcQV3lzAcC9xGQAABgY5aoag9kbtBDLu6xRqAgwWGBDNyBQztAQIF3hwEhmpxSAHNPEN5JcD4yB2OM0gFWXByIzSh6w7MQMIpmL9lyaM30EsOPH7c9azsZmajKqjoy-esw70bWIvDNZ6ZDoVINUGyCu8roMaFGaXyMRmNTQZOSWsjIJl8yco6MlKLbREGBBM49kToDckiEhgu0QIrwYZFKC0zVZsw7EbzIVlsyScCSKkXIItl0iWyeshgAbLYA3JZB32CeGHH1mGyVOHfR2ehT5ECiSqHsr2TcgpkISKgKsUIFemMS3CkxJUw+snADmeyg5Z00ugvyBERYQCZddoE-CTGOhuRPtUuOBmIDMNfU1DdCIzljGVCehNqYej9JrnJZUxpyL0EiNxEfwuxhET8eGCjlByyx8BFgByNjAaIuRII0yWaikGLjzs7IYed7MZFygb8S84gIHJXl3RO+fYZoP3OMD8il6PIjeVvKNnECfRp1P9v6J5gdY-gjM8YWuB+mRiwR0YxuVCN6GJi1OAwuEYKEDTCtQCn4KUB0KWwnyHArNCiaWOjHt4KxjNBiU-OTFwKkc5IwEVIgxpsBfwDaPAJCBwU2ZX5cY9+SUITH4IEFv8viPtgAUdgu5X4dMduBOQQK3xwYz8Q0FHnu4KxzCxtAtSuyZjbsSY0hcxIFGJZXw8coONomMQILU589IWNgtwW6ZS4gEwccBMEXkiQRAgrMXws6BtyI5wg5OOAv5qQKmxC4O8GnNpEdin+3EocWnQUU8TUBICEcVkEIBGLqp21HcaUJA7mwkF1cZcTfPfo8J75jixVsYq4Wmi5xaCwgIbAG7eLcEt8vxY8HCWKs2Qiw0ADIshCuLnYjiiblQTnnHjwl1UvRbiDfE3io4DaG8aSF-FFB8lBi98cUoYnTB3+ZSjhQaH-Hy9rFPY2yZ8ld7+ctpdAHPv2SOFdKZp67cEBTI0FvA8UUk3hLHOqEzl9gMszoeTIhkTkplEgrJsHIjCxzd5jCWZp0ANm+BNCLvN3vL3eK2ENlCEp1KkgpnSzxh1E76bhID64gTF0aKPHii-xqz4oos8BOLL+CSzjEscznFHkqUcTnME4SpW+JuW0ZylxYegOMv6KnwIKbyp8f6CYlcMyZxPCBUCvMVATbFWyk0SN1cx8dyYVyzOBOReVDZY5d4wSbohdEiTAVKeCSaDIEADSGAiUyyAABkM2mUsnKbHhmyVJA-0imRdBOltiJBZUnoRUD6hzSkg1UtSXVNtgCrJVPS+Xl1MbDyr5lNUkCK1LeUXR+pUU5lWyo5XjSQIsqrVQqu8oQTc+t2TNItJEl2TVpuIdaUDJ6WQqGgwy13jtLtHwh721qpUVzIsgUz3V-seEGcp1S4h5VQqx5VOXNUyBJR107cBTNfQ-ZzlbyolYq0dU-T72f09ia70FVpqcRCEnhK1AJna9o+mvUgl9IhV3D1JPEfSlGpjWGsQwZi32IZHNXwcs4pTKUBljVAhDBlF0cFcDJxF3jHRTqeVX2uKnz0q07DL0T6OgwErNeJanoJOv9iyyo8rQZEPpMkAtl90f8SPuCHxXa9KGU5QBeAR952pDu1IK9ur3uXzrTpVa6dM0FXUOAKM2g+dSokXXhwEJooOyQ6Gck58jaykt+AtzLh7DPJAGkCbokCAAzNZjACqbRJ6Xz9puX6++bBoLmgjHW7koELasckClkNxdc8K5zFQJ5YNVaxthPG9U6jugm0wZQGvDgHrCgpUHEJRt6nbTdp1rJcLBu4COj8NgQJlERogkcjp52ihdh8GCCZxmZu7Cqcst0nVtHVjIMZeuFhV-LyQymRDXEsdUobDQaGvwIyEw1rSBSTU3Dc8sSDcbDKEMiCSRpjhkaNJFG2Km6t2kL1Yg9G6za6o4DUaFYzFQyDzNd4caPmXGhPMzL42I4BNJWHRTLHcFvKr0pASDcYmQ0KTLlMWgbmFri3dLQ+YW2DQMqY09Kgh3ajLelqOlwbiIwmiDURvE2TTctqIUXFHlQTZa8t0uJlUNKSkpT0p4APyHVvikNbRpnKxnt0u82voqtUWn1LSOt5eBmu5VNyIls6WSbCghW0TRDJK3iqiVFWx1n1oFWMgmVLK9lc1vJBrb9VnWpcBTJ63jNlt2alXPIoxAjaQtLETqPgCllnRUON6vjQpKwa3aG8dAT6Kh2cWzUIJ8vK7VLOhzPbakr27qGZlBx7qr17mZ7RRje3aZIIfrN9XqPkL0bwQFvK3qDvJh60ftmWrqoTHfTep7tXomtRdOjVXT6124RtWSmmCrLUdc67HVhVnUUxv+zqpmo-jAnUqlR-42wCSg-iUrhJbOrhf+EAjNBAYMOzhZ8r42zREddvFHTOv3U9ZiARMLQPa2DxTTXONwv4b2S9y3DSOXwe6qSQI4HIEJOAs9u3lrR46l1RYMeoTrrUv1-QZO0MP1BMD8A-46kbttcL-g81DdnMDpH1zMx3DGd0VLYdc0-EEMcw9E2pVZE3QypPp0eYmZ5H1oaJ+dRQcEB7rwEFgg1X3bnazp1FHV4KQuxSHDp4ji7+AEIZPXnil3YZL1aO7gCXvCoMdzwNweySU01iMgAAnCcGqLsRSmVaowJ8M6Id7NYVasxr3G4w9ZQFFI6bgaPU21yUFgaFwF9Rhmj7CgjeimBLwl4WQ0A6+2jVPr4GGQl93vD4BPOmBL6B9MBXURHGzKdIXAXkTSpPOPmsQ+9R2C6Sfv4z161Y9+s5WwF2X7L3cnWETabvfXtjPtdowvSix2Wawv9-lUSFTtDaCAP9YBpgAcsV27o-+dO5aaVFXBkAUEPCSNi-MdatBGQl-KgbP1J7VBSohXI4EGr8ivgB4pATAyG3haqQeEcNQwt7V31zNY9f-O5eTBTikHlU8zBEJ4tiC77+exa1oMcGQV8CGIr4IjY4lcFKxghUoUQ6PvG0Ey9EaW1Ld0qeI+8D9AIwNNQdoNvR6DQId0oOP5iJEZ5gh+-RCE8jWGmQGWwQPIdEDWHrDvkcQyeCEZ1zD9lhtg04c4Oa9MscaFeE4ecP2aYgR+pac2oumxroItuieMIavXMLndsRV3T71OkcaQ9q8D5jfERVQGUj56vKizq73wThZwWrqu5iECGB7IF+Eg-wGXW4H8D9yggVn2IMk9+AZBig1JsdbbVpcOR1oJ6WZ1CTM9Gkoo6itWVdHqpAhfAN1UomP5xxzAKSP+FnRx8K9c6xI1cJPi9HbGYxtIwHtfRZHRRH0a7cYjRh3bK1D2lZfmR2THG3pKQKHf9Rki4r6ePcNOP0GtRDxM0OR9zFceHg3Ggdr6wA0uuF2FBHRBx37SnlRg-H0YVx4HZzuiP-H31VuRHTbwshQHimNxw4-a2QPFqJeaE-QLUoAA6WAOLTdlViOIZAwQTrkLpGY0s5Q0EVfaJD0Pv03eJwTE1euxMNTcTDEgk0SYTlMA6UZJzHnJOPG8BVwKiHoM7GFOgAAAXpuBiAEmigra0k+Sf91UmpToPGOHScyIYHGThUKCA1HezlHKj04bE8SdtiKmBTyzdnubyt4sAreygK3pb0mAS8nQeAFk4SuNM8mzTkEvZpacebkBrTtp+00Go1O+QgAA')">function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave_delayed(
              evaluate_query(first_disjunct(disjuncts), frame_stream),
	      () => disjoin(rest_disjuncts(disjuncts),
	                    frame_stream));
}
put("or", "evaluate_query", disjoin);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p10' class='permalink'></a><p>
      The predicates and selectors for the
      
	<span style="color:green">syntax</span>
	<span style="color:blue">representation</span>
      
      of conjuncts and disjuncts
      are given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    
      <div class='permalink'>
        <a name='h5' class='permalink'></a><h2>
    
      Filters
    </h2></div>

    <div class='permalink'>
<a name='p11' class='permalink'></a><p>
      
      
	<span style="color:green">
	  <kbd>Not</kbd> is
	</span>
	<span style="color:blue">
	  Queries formed with <kbd>not</kbd> are
	</span>
      
      handled by the method outlined in
      section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  We attempt to extend
      each frame in the input stream to satisfy the query being negated, and we
      include a given frame in the output stream only if it cannot be extended.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (negate operands frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (stream-null? (qeval (negated-query operands)
                              (singleton-stream frame)))
         (singleton-stream frame)
         the-empty-stream))
   frame-stream))

(put 'not 'qeval negate)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtyPkCcgFAYDQSBEBgKjYchfC7Nker62oGEMUkixiQL3VSdJMiMPE-SKUohv64RRuJJ4Q2aBChn6QZDAWtCJyeQEAD5qUoFq2o64gupWrtLv6NrMMOwydO3e61rG-lzka8xqi0UgOHIHNiG6gjhv2waIdW9beMm-i3VFWawIWkNlphkaxs2lZtqXOZ5usI6+xOgFzoBshgdB8HetW-RPvWp5ife2JSfO5qnrIg7JidCK-pcDnWoYGResoG5sWRbgwgmi8EjdEWqC0RhBYUIxHqF8X9El6kfoay4WIVygldG9XVZV+HZYE5GMjA03FpKUAUa2906EBqmwc+-RDIJ83memNnQEN42VbVq6ubt3W9ZRJrqjEDhKBykOAA8Lamnak+4AOUd5nA8H5wxA-kJQoDgRBkHQPE0DxC5o-MYgUKoYh9FyBRCHoW7KG4W6c3hqbRRBQHOmbxQ25qV37aW4FqEHxsUKblvR47ifVmmtJWvnkf2-H6TSnywhRt8BQWHwWeqKMQ-j8bfAZDXhQN9brfKCJlo6B76TmlFDqQW5VFh4fsen470EIQQgbBfD6HrvmRuWt9ZVWIEnQggQ3DOD-ovceXdX5EzekUWcIFr4MDnoYfQ5BSBiAYPAxBxBkFGlQY-Z+3dJhYCgh-VIWUE6kAYC3Fg1Rsp0FoQA5esRSiQPXNAthwROGKG4XQXhTB8DtRAd-Xh-Cl4YLfv6FhkiRDT2cEPBedCgEiK0WxVEejN4ALUYIsMq9epH2EOQchCCkGGBQfogRQDEpg35jOVqLB7EMEXBQO+gMD5HxPkQtxqjsF9lsX4hxx9hDgMiegl+6iDSaOMO0W6yh75oMAf6YRa5RptALI4JumTSk5JNo3O+rsInmKXvQzB79V7EFbpQXEHwakdxUdvApZQPxqlqC00U7APBeF6fkg0hSfhjOUBM5JndUlWNAJowK1StC1LBIslZMzGzrK6ZsnpizLEjNSOaagYg6BbMmbsloRSLlXJuSc5ZTDrGin5uDZQvVKr0FubhUAbzdL3KgVoGBtdGAVG+XIrRXTXZfKyDs05GjV5Qp+conZhiilopIRihprtkXpJaKQUykyLLWVsg5AWvhXbkCTh5LyIiOhaEKnzWB5gv7gO1iQsQ0s-yvlFIg6gCgdHU28ciX8CopqcoCaQYVoqvHsr4dy0hYQaL4UIu6YUb5Uj6PKMLJV4LJUNHPEgjIZUmXQM+QkrlDgsEs1DPApWa1u5wXoDc6JLNPmBPXoDIhEq-YOpWDywwgag0NE+a6+Q1yekSufIUPuqR1lz1GDSNgUzQylGTVRLRSswRmvTSs2IzROwamWBqk8CoTLBHBeSmydlHKByVeyXwJAGXANAb4QqsRzhsohVPD4DB8GEIgQg0NyyZaWzdJrHlZ0QWiLBTyyxXcx05yjsmedxidH0DMf-DuliZaJqYKQfgqhwGWrBW8ExujGyULYj-XJdDLFFr2cyje2jTGNkpCU45+Kn6EqJRe9916d2Nk6IDGRNBQa3MseFGuG6jEVOyeUsWlBx0MJlgK1IbTNCdJ-WUtWCg0PGr4nLFUgyvR+Qrf8LDDBeqDsOW0npHwiMTEnbEKaQGtZwQY8wI5rtCPEc4Awqjx4iIhnPFUUgvGiMEKooyQyXGpO8e6QJljQmRMhlo9m9cTdlMgXU3J3TJH-RTX0ybWTc8-LxjE+xl0iMXCIfwzkr26EkEGb40xupgmwjCcwdZnt5Je3wZYrgodN8HCPK-DIu+fKAoOcEhofQMX4rnShJF5BVzahwm4CltVZwQtNW5IwfA-AEW4tRPUvd49MPatFEhgjOyLaGneKWVDBcgQNaqYxrZVW8mHns2R1p7S8NZII+ppY0FShO2gmsEBt19rFaHWVnFvz3jcekx51TYIJubk9UBJbpWQKrd4UQ-boZPHFLGy59zGyvNoZ8zzAbjFbPEQTQl0UJ3f6Yr7LvUE9MTDotioYC+J9blFtWY7G2VGCvrpYkYuZCy-0HuIueG1jJEcMBtbcvy549wdepIdlbgOKvOCITa5754MsuKy6ERkYX8HU8uV+fHz3OMNzBTaldzryGvzdTGgT+Ow3hugkz2n47zsi8KAwtd-NN0HM8885HE7iJTUuzpgsrntxcfWRQ5xri-1NJ7rL5tRiotK+q0sjDqPiq5nk0CLj5uO5GYLI4yh1C+FIuWX5KLoTL4u6bk7+FIOwmIsN5RXTsH4tDas7DuXRivsG8tyj8kvuQ-+5TYnxOoOw+W+fpLooXGs+MDnm7-XfykUF4nDLvyU1S1wekE2iFBc5CKAgDAeASBUBVzQMSQr-1UgDxcrn-rh6PszV4EfMgtyYgAB9Z+KXq5dWOM-QDz8X6kY+J9+ie8N2vhfL4J9zR2YUdfh+xQUa-DsuDcuh8UFPrpmfERCjR4EoshvcvRTMDEBINauCyXsh9D3BiCpzj4BJLgn4ABkkBvQe0M+wkQIlAQB3+H+zayM68T+r+SMqQ3+v+dG-2Ly4IKWrK-e1Koe4Wt8j6AiY+Q2BMEYTWqB-an8mWAu2ye+quYBuBI0-+hBQeWkOccufBfuYOJ+HBtBcBEYdBdY4OusghLBWyAeZeVCLiFe7BWBLgUhto9Bhukcn+qQxemB72Q2X+5AP+3BBByu4IJYQgx2JOa28I++G+wBeBPBlheYcqDo5W9h4QZ+-oJhZhf+FhyeoknyxeJBcuxewhI+dCE0U0mhWQ8RMhAhzakRpeeuyhSeo+f4cREh0h2heeuhaBg+vi-i6RHuhhCMxhOBphLhQReSFksSpRTiGR9A4RzajRDiPqwSZAURfWMR2RCWms6eJ8FBKW3AiRTWyR-aHRWO+AiSFRU6GhuRWh0hkxjBG6ooCu22CxR6XBgRc4hBWx-G-BN+zauuzR5RohywORIw+R-WJuTBuq9AIGMi0R1BYhVs1RAR+BBxlhV626rxShHuDhvhBo-htRvxwRVhzxAJPwPWHcbR-a-xn6sqtQ1AD6OxCWYWgQMgABC0pxSJMJKJ36Y2bBeesRWJoIDAOJABpIBJG6yJN67U6aZAkG1A0GVxHGlJg6NJLyOgDxGxqQXWKGRGvcnBNR5hc46mFkwpiJG6l2wpj2FJQ2-+4IspUs7WUxG6wpd2vWgmzwsQ1xCWiR6mshza5m8JammpypAkPsmp9JLEt2lpD2u2NpbomE9pBWeh5CI2V2lSIpxGbpyQR+tsrGWpLE-c6wW2xxSpAxVRaQNs+gHpYZApEZm+XISO5JHx2BzhkpZJ9RokiOcpLEmO2OnJXJ4htxqxOh6xaZCioC6JeKWZRp8ZexPx+Zj8FkX8jZqIxZbkkaFxKhu+zZFZtpyxbxjSDpbkPKQJQ5fR7xLZY5VZKxtoaxsOecSqLeRc7epcXeFclgpBq8l0p64CKcNBnxsx2+Qg+gZ5ikpQScikxkJKNaGchZckwMjmCCJgWgwgAQJgxA7JtQjQJBcObkl23iXRkgZA46XOKu6hA6YI0JD8+q-M4Iwu0wkFfq3AsFmmv0RRkiyFXU4qoBrZEp+xYIMgFkeqRFSqfZ5g3quK3R0mWsJFAk2JlQWs3A+JXp5pSqsx8xMgrFbo7FuJlFoAdJPF-akafO0aNygl55wlVJNJYl-JtZYFtwYMGu76eaQlaI-24IWlaFKg9AOlU5A+1JDmAe+gc8ulR5ZF7Z1lVEFkhl4ZbkWluaPSNlClSxy5WQNlqZbk2SXwLidAZCUa7qPS1u8FEYuFoF9FPGIEcgGBUVRhS5gwsV54SBYMOGHSvOOY-OWyjIKMJwcVLg4FQS5SOe46hCtlO0wxuoEeBY+WeFUlFVvRWsFVBphpqVboBMSVd8rl9FbVI6-VhYz+3Vo57p0ho1AVdcScPO4VrB58oe1VnQMF6w2VmC3lwIt0YgSBy1l80sCBO1oV+1a4k2-SO05VGB9Vq1uoz8LAG1eVRazQHAp1qgB14S4QAAPCdXtR9edRDsCtWtOOCAACpySJZ0C+CCCkKT4dwFw0iKLUBAWiSgAADUgKQazUscQo4Ct14QmNRl4IGNWNDqONoVeNjl91QNT5pK4NkNMgxA9ksNYg8NdS1IWIDZqNJNmNVeFNYgVNBNpNxNpN-Ny+lNMg4CgNs1aIckEkURVl9VKeSIpur8dGck2IKV0wcuhgxWn1DVdu91dmRQR6KMBtF1Okwi6t6I2IVeMQQV+AIVYVMlEVAmMukuzQ9VKkQIPsVVQNAYsBIwgNVeXt+tmE-t1otoMtAWeEWm2q3cPtgB2Vvpi1WyzW0wINBtdax85Qjs683aR4BElafYkmFVjI5mo1EC-mhkU0et15o17VM16F24jdI1nVz28YQW8F3cGtRA1dPcalHKLBitKaytRtKtiYatOYfdWtW1b2U9-a9dfCt1EecWfYZtiZBNnq1tM9ttWu70jtzteVBVkVmCAd1i3tx1ftK1F9Qi-YIEBM51Eed9l94d0hBNUdfla18aRQ2o8dBgidx1WVPpuGJ9slS8Jt0uz50449VkdAudIg+dd87afBhd9Er2hkZd68FdCVwsFVA9ndpGAky9HV68TdnVLdE4bdVE-qHdsd-kXdPVjmNtmthDDeG5zehcbeJcne5cPe2ApVq8QqIqUGiqEKRqQZdl3x-+2s4IIjCqdFLgCjYjDAwqoC92yiEqUjiRcaDe54KjgFBqXDQI-+zoqpcwRlsQcwE49qDQqpHIVjMQHItjgaqpCETjk4cErj5j+luCnjuCPj0wqp1smQRloTbA-odjOC+lwUoCfURlcTtMUTbj+lINTjINfY0ThQqpNwSB7ULAhgaFeTqgBTBcKw2TsQqp6NnjrMr5vg4QZMoA9KmNMNoAlTMQqp7ktTMQN53ADTc69KXkbTHTCFEIOW-s9TjT509KkIoAIzqTc44IwAPTBgUzgzoAYACzvjSzAApKs30-M9M806ALs-MzEKM6qQgbU4cwM00-SsdQ04s4hQAITCQ3PrP3OgBvNAhPM7OIXfUHOfMzOgC-UxB-PBP6XfUAg9O3PHP0rQvguXP6WnRAv9PwugDnRIvPMQinQwvcBFBwsbN4vYv-MQgvOrMnOFBNMxAvOxApzOhOgGNyqiNGOfK3WAghiaxzDcCGNiqblMu258viPJhDosAABW35HWXLSWyIc67jLLij4x45Rqe2fYwrxjyY+WRUrWPAirqj1hHNpj-2qppaRlpaozUunT+lkAdAao08XaBLtr9rHSlrVruTVApTsAkATjJTDA3rbrUuHr+TAAop436yG4GyLqqQAHLkAxurNxsxuv3QSCu6sauGsGZVWcsrCazKBzoEzKDPwZvFQ2H5bMvyoGulvwqEI5vTB5sFsqtFvFv6tGOZvauCGKK4gavioODcA8q4K2UyrVAX4VBAy+CxwMDisgzrDKByqaAH0TgavqMcBbJaN2pUOFADuggIhFBx7NrARYjgNu1gi2VOoLbHtLXRI3QiD6A9t8Wr1k0OolutY2G9FRtbvza3v3sQpiuSumAS7hovtwogQ1WbvONAE5W4hp1LwN7xzJ0MBxz4CPWNgweuyMiHv7xoenslWcNavcPFwd5lzd6YCHlvCXTkCmAMBZIfBVQ3CkATLuHUBPjbXWxT7TiJFMdPiMKB2JERhcd-A8wi0MC80XRyqS3gKcckLMeCc8fTDNBSceGydmUuAtw3DFI+o-mhyxzr2TUuCUfKCT4ZDQJGD9vKBFtzoFyY3ELmdJ3ggk2lD2eQ6i2Y0Gcfv+j2canie8qDXkaBLGDaehX9uqrBdkIOD+djX-jwUC0i0Qik1qcOLGCadSgzqkIX4RehdsZE3WDggqcDIRdMBkCqw8q2URPEKkKCKOcozaTyc2L-YlegDQHSQ6oJlzQRglc+Gz5B2DDtcVfhA-OiTFDwjowGAEwNfHXghDd3nGWuwUBUc0exT0cTIlePntj1lKK-wNdNcTjoF3zgqitlFDnlcgFyfTKiRxeY3hckLGCFekCqxjeqrHdCd80Tgk2if1WjEYEDnu5Hcddi2vdo2Xd0AFeAz3cqshpPfPdvTwg1dEpXfSZNxiSghGVLr5fXdgyg+ndKSCpLgreB3w8BfyNThGX-4PcgFf2Q-cAE8Y9FeCIZIS1iBPcjfggADkons6RNbPzsAtVNJXeX1P1HBYpA4CWSwvpXIZ3EbSLA0+BMovEL7r+lQgwgxNwQxNdkWkXZbgaYxNJ6HA8IWPDs1Pu0Iwcvz8EYpvVPwP6Pt3PEzsRvsvQvTz94WQFvaPCPgvZADTQ9Lg07eYet87oHOaiCHgyho6hA4v63PZKCFClXYz4I3ZP8zgRl335efCMf4HiW2Ivvs7AfihwfOSbgmXYfPMzsu3TcMfI3qpQ3UsOen3e3MfdPLQCC3voAcvsqIfbgxftWa3CfyiDf7GkmD7OeCmQEtf+CKW+3sUh30fCCv9MQzLHfxga0IajImsbf+fyhRfDfAWZmQ-oednHjI3O0BMG-Wvy-qqz8iRp-S-7UF-BvxaTeorV9qk-jR-8gBfN-Iazs7Lw-E32f-v1ATQAHlh6TwdoP-UPBn01j-852gAwPrpnb4f8t+s-e-tYjAF79L4vLd-soRGghpns1GLVGtwn798F6U0KvkZQ+7j9kqyA0TMXXEyDYBIFCGHH2g3QdISAXfbMsGXAJwRi+I3AmBX1xjEpSUFCOtJSkbTT9zArA4gEoxm55oiEMfVjqkB2j8DpgpQGKrP2dhZ1hBokClA2k-I-c3I5HBGiBTkIaRYoCcLHGDAGAVB0qs-bapIK74TdzQ2vPLlYPaha9NIVUbHPII4Hddh4rsBGsX1lqJY7g0iNiKFUcpKcOAjVMavBR2gCcohRtDcHl1CGTt4hTcFIaFVsoEwMhIBZIdUDCFkIU0OQ2yhGGKF5DtEoVNRowCrppDuAM1balWE8C1DC468Xzk32dQRCZOCQueHUM6rbUrqGlLHPkJXzNCbKvQ1oS31FDuF2B8FcEnmTD4WQhuQQ9SMwFdjMcwUWg0apb0QZrR3CDAdQCIA4CkALYcuXIIQHPS2CF6MQWjNMOIFYNbcOQjHMMMqEjsq6mwzqgw2YarxS0+gYoZLkDAINSsXUPYQcOEBHCFhLQgap7WMrnDfhzwwoWfGKFEM8ItmWjEoOQFQM9OXjacGcMk5wEG+3AXEUmWkIN9kRL2WgZiMqIMDm+IYBiAxCmhEiY+Lfc9l1CFCwpQQnlaTqOFYhUBxhA1GWGjnhFPCKhZCV4QQ2aEzVa8YBH4X8MzTtCFsnQ7kfYiWQzVVuHECDAwDyZcQchVlYodwGVF8jqI+7ftOqNZKaiqAXEDiPqN5GQiYhXw0anZxkB1hagJNZnk6L2AuiNB7QIeFaJ5FPwn2k8B0TEFL6pBphHEcICNxZFrQ2RlIDkQJl9EGjbRjfHHtwPDGNcYCKY6cMqNj6mikg5oziB9QjDhiM+BoCMNmJLEwRFYZorUR9RP5UB3OVrAmOWPtroQZqjfcEO6I4DK8W+agEwF4HaiMAnBHgv5EONRDcB1+NotvvUJty6saxFlNNGVFzGMAax+gCcUslHHOBuALY9CFOI+HwU5xBaDKKpE7GejA6M2Wrs7XjiJxTY3EC0aU0PFBDeAN3fIfAjvb1iFBJsbzsb0GDhigh6UT8U9BxBshug40GcVSAJzpQgJmYXwBJS+HvgKgQyfaOEGmw2xIchgSYR+CTgMAiQ18N8f6LAkCBugjIOsU-ClHxlph3QZCYNxJrNBugcHSQKADBoAAJENgwAACC4AcACGwABKYNSAAAHkY2yAIEMVUPJM0Cxbg0wWTjwkQZDRtlJ8WDBfFJwZJrJWPv+KUk4D3BlWFSUkEb7-jOgYGLSWTjy76TMgkktMNJNsrMTWJHEribxIElCSTJA4DScvyMk0Ilxtlf8SHCUnYSswuEjyZrykn0B3IKsYweaXyHmThx62JcXJO2oqxhYosTWNgmVGT4zo+2XsfMgHGRTf4KU8yJOCNisk5J4HcSWoGynSSYpSYtdPB115gxcgDgQGIyAAAMJVOXDUHsjUkMglg5GonxyjUBBgqcTqZInqnaAgQNUoaf4NICk08QZEgSGNLqkTS8ul2NqXJkiFNxmhY03vrFD6m1Ulwk3IyjtA2ndTZEfUinmkJ5gt9AgKWFaV0KoRVDsgnUi2KakGmbSqofUoqszQ6kcBI+PUxgH1JSjkg5cj0MGPZE6ATJvBIYI9LcNsGGRSgS0j6WkIhGHSGyP0tRr6EMiaJ0R4fGGdiKTKBBgZoM78YEIrHOM8ZDAEGWwAmRqDw+KApSIwO7pfCgZZMgmTVKCEVBOooQIdGnwQSURVpsU4iIDNJnkywZGda4XVlDEkIIEJmMEgnW9Hf1eZLQKWRvQSzHliAnwntJg3Qho5hRBQqofg2SpyS1Z9AnMjKJTaBi1qxAFseGEFkEydRRQuflqCYT4CrhptMAkoIjHoRVB1simYTMdD752QXsymSSJpkCCnRhEBhnSOioBzi+zI+ahezZFtxkEfwRURBAnpJiBRDwoUUCB1FiiMCEovcYKG1R0t4Jn4KUEiJNp146AeNfMdqPhG6j4R+eK1rEDXAGyAx+Am4RLLXC-hw0eASEL3IkwZyRR2sydjnL27NykxDDKaEXI7CX5S59c6JACKrkrjah24ooLbMRH1ziZoYVUbNnlG3tRhnQA2UFlRHao2ZC2VhHwjHl5zWhBpHuX3JWBTQOxzo7sUfIpHOzOMscveVyJTljzJR3dZgSxAcCLy7xd7BcHeGnHwUHRE3E8crzdFPyQBK8EpD6NAWx9RqIYlaSAvdkqDd50Ym+AnJcRJzCAoCuSWgrDHjRIxH8nBQEidr4LHghAO8IQtimbMwAvcyEGgp2iELwg0BYRkuDoWx9AFUtauYWOkIcLN5sQIsaSFEUxB+FuIFcSf1eiNyVgJ-CRSvINBtjnYj8j0c-P-luRNinU4hG5LoAR82y-+DcfQGcqdTpBbwb5E+JQQsztqiRFmW0LGnY47FPgsrhGAjCOLY+qpToCDN8A4ET0Ugxvnx2kJeKW+MqBxDVPukJC1xsk1vo7z1n8iCJKgD8p9PigXgrpaQ1INUGiVGiWsVIaRfOPNQj8+whSlcbEsKkryrF64I7t8h3xpKGxoYXcRMPgqFLDxjouBSN3PFGR50b6D3sL1yX8UkkqSlmSWMvGSBrxV0fQG0qoTmpI48HayQwG4mWQAAMiG2ElQ5MgLU80pIFKk1SiEFU8BV8IUlVCKgykjySN3UmYSRo+ynSYYudimT9knUohG0MeVpKXl21RZcsrWXgAnJIEFye8ruW2V4pN7QYNgi8k3ifJOE3EgFJXkGVOpIU02PCHA4Qqple08xRwERVXR9e4SrtoCsOV9CfB8Uw2ElO3A1S50+2CJWktyW8sqxSQIqdghKn3jnldyuSUEJcStwvpcvVcQkoJXkNzYcU02AlKoCkqda5dJpoZBBVfs1onsT1GqFclBT1sFS+lUmJLEBwZUty5VXQDZVhpG65sZkRzjBjcq5ehogCa1Eem25WgcrIEJBPsGu9wQQGfpV2jZzSiZ5gwK1Xamm4cqNGTqnlZ71NXmxVuHq3fP4O8yu89VdsSYdkswkOg8JEfAWoTN-F+yphEskiYUSXrsJLBBi3WUpP0WKqLYtGJSbGtMWGKRZM3KkERKBBQq-JuJEtWSPPCGcSUzuEtWaqEgF5UVgE7oIFIsnBTQpZI0qDiG7VRSsVT0NCoZB2glrM4xzRtZdJAgtrzYeAjWYFharalM1aSnNZhNyUWr02dKlwECGqU2K-kLMvyIWpjUELd1is2IOeErUuwzlvk3EP5IvUMMG1iQWdeupVh1t3oHa1qIOtEg1SR1rUdBkUAHVdq-1CK0KVQwOmdSp1c6Gdc7jGkLqaBmqYiMFiEauCxpEiEtXmp7WGKPxUSutQGIdjoa9Fda52K4Kw11qXBwgBVThuw1RSLYHwYIFmsVUbqzldG1EJTltwnwaNUUgnIstsk8S+Jgk35eSH42cTBNDkjZROoMUwamm3GsqUaBdVDZwQGIXLpJQ3TEbHgri8kIxsCDrqR2ua49eSCihsA1o+yxkF8tWXrK-Ilmn5YyCg0JCA48m-ZUpoEgqavAam7ReZSg5aJxWhqChLpypE5lzaAWtoeZjeB+aUQYfQLYsV8Gha8ut2CLfrDkGro7BJI1dHl1FA+bgokW5MNFoj4haMt6mg2Hgxy36x8t9i-EUVpXWOkqEx2FILloeyha0ttoeLcVrcg1AxAjcNaNyua0+C+B1WoRtANz6LIKt41YMV8IG2EBmqZHegOK3wA5KktKIcdBGqugR8fNS2vLZtuIwjdVtT0Z2BFoW18JEtc25LX4Ma2+Zzsjq7leFtO1Rbttl2gFEGj23mq10A6+PiIGJrXbHeRlQ7dUCdBCMctR2+mA1uS0Bq7YH47LaDokZlbltsfbpdjwmnuwaYkMRdv6G+2e8Nsg6WHaYBB2GALtz8F7TxEggNAA4QOnJbdhx0PYqdj2h1ETt1jvbVeFkDHcL0SYNajtAO+PEnBMD8By+lwnuoaohEgMkOKHS9unRb7DbYBVlENODrW1Fg66QqklUlkUiQLToikeBDzrBQrCbC6wpuFXkl1ADRtuAw0ZIusp1DpmLYrOjmC3EKKYg8DUQcoyoB25JpnkQHkwn-BPbwQBuuAQWH14vpqQscK8crBvHbyUUKMFuvTrgzvbvdwA5nYaqdVGUY9NlEqueBuBYSkmfURkAAE4TgERdiLTFbVGAThKRfPX1FbVqNAYasXLGWtozm0Pgl6lERSNfB7qRIjUstYUAz3gIWeLPCyGgD71AabMr8wyJ3sJn16yRHe0vZ0iFXTxp88Uj0s-BcBeRuKsYembEE73l6Z9sDbgGnu6iT6ghvivqAEs1zM4mNsup6LZSJ1R7+AEIA-f4uPS+649oKI1T9v7ZsA-FR+o0UI2v6+rqgpUVcGQGPguJXW6c3Vq0EZDr8sBnfCLm+GB78ARaRwHFeSFfCgxSAgBh1t81UguI3q-BE2iPvBCeQvI1-eJZ7xdilQYgBB3yIRrX2T7plVvd3sauODkjkNDEV8C2vMHS92o1GqUK0Ab2CBqN66zDQYuIT8GW12OHg2SOQMAGna6BgbmqQ9GuwHCzsifSFFpgQgCDruktXwesEMp1DlBp2XSKXUNA8D6h13XLwvALiC4JhzyAPuoMqGy9IcSVUKtFWt1xVauh1AL25Xbjtdaw6BK0BN0GBrdgcY5sbhLEs6ReUsQPRMuD1TLs450v+WJLwZCBDA9kafL-v4DbqqQYBoEBAcX5viEeMBsg0TQQO-1sGsWRkGEdXERHQqQewvbEZmnBbEyo1S2pPCIL4BEsBY2OH6PIBSR-wJaOgzd25XeGaAvh5ViMCaPPwzdQRudMbhb6dboEMu20a2uBWK7EpyulwzgzJhAppgZXCo3MZ-K+rjdKi7cOMoTjRHAJbY2wE9odgnHJl5xzqu7shzh6tjiYNqvqoKzvb1eX2+PXLyMp7HP93+7lSz1HH6AFFAAHSwD4bpVMKGQMEFVjh75m6LOUNBB72iQUDgBoJScABOO99AQJrSSCcbngnIT7M6E7CbfHcDeAq4Z+D0B2gUnQAAAL03AxBwTRQUFSSbu6TGegDJpEzpBRPgg0TTtDE0CgaiJH3gKR6cECahPmCYT7J+ptwB8XE0WAxNZQMTWV6TAWeToPAFicx0SniTUp0k7Kbj7dGLIipqiiqf168nfIQAA')">function negate(args, frame_stream) {
    return stream_flatmap(
              frame =>
	         is_null(evaluate_query(negated_query(args),
                                        singleton_stream(frame)))
	         ? singleton_stream(frame)
		 : null,
	      frame_stream);
}
put("not", "evaluate_query", negate);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p12' class='permalink'></a><p>
      
      
	<span style="color:green"><kbd>Lisp-value</kbd></span>
	<span style="color:blue">
	  The function
	  <kbd>javascript_value</kbd>
	</span>
      
      is a filter similar to <kbd>not</kbd>.  Each frame in
      the stream is used to instantiate the variables in the pattern, the
      indicated predicate is applied, and the frames for which the predicate
      returns false are filtered out of the input stream.  An error results
      if there are unbound pattern variables.
      
	
        
	<table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (lisp-value call frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (execute
          (instantiate
           call
           frame
           (lambda (v f)
             (error "Unknown pat var - - LISP-VALUE" v))))
              (singleton-stream frame)
              the-empty-stream))
        frame-stream))

        (put 'lisp-value 'qeval lisp-value)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtyPkCcgFAYDQSBEBgKjYchfC7Nker62oGEMUkixiQL3VSdJMiMPE-SKUohv64RRuJJ4Q2aBChn6QZDAWtCJyeQEAD5qUoFq2o64gupWrtLv6NrMMOwydO3e61rG-lzka8xqi0UgOHIHNiG6gjhv2waIdW9beMm-i3VFWawIWkNlphkaxs2lZtqXOZ5usI6+xOgFzoBshgdB8HetW-RPvWp5ife2JSfO5qnrIg7JidCK-pcDnWoYGResoG5sWRbgwgmi8EjdEWqC0RhBYUIxHqF8X9El6kfoay4WIVygldG9XVZV+HZYE5GMjA03FpKUAUa2906EBqmwc+-RDIJ83memNnQEN42VbVq6ubt3XpED-XnEMQP5CUKA4EQZB0DxNA8QuFE3OIFCqGIfRcgUQh6FuyhuFunN4am0UQUBzpC8UEuald+2luBah68bFCC6L5uy7b1ZprSVre6b0vW+k0p8sIUbfAUFh8G7qijHnxfG3wGQR4UMfi4nygiZaOgq+k5pRQ6kFuVRRu95bg+p8EQhCDYXx9Fz-N861mOcuIAAPQhAhuGcDffurcK7HyJm9Ios4QKbwYD3Qw+hyCkDEAwP+ADiBAKNCA-eh9K6TCwFBM+qQsqUGCAwIuLBqjZToDgu+g9YilHfuuT+pDyGUOobFMh7Un6XxoXQge4CT7+mIRQ+gbFUQNz7rgh+zCxEiE7s4KR4875CIYWGYevUF7CHIGg-+gDDDAOkfQh+iUwb8xnK1FgOiGCLgoDvQGc8F5L0QcYwRUC+xaOsboxewhX5uLAUfYRBpRHGHaLdZQu9QH339Ewtco02gFkcAXMJSTIkm3zjvV2riVEDzwRA0+w9iDF0oLiD4mSy4CMnrEsoH41S1EKaKdgHgvBVJiQaOJPxmnKFaQE8uQT1GgFEYFDJWgslgj6YMzpjYRnlLGZUvpajGmpHNNQMQdBxltKmS0eJqz1mbMWQMwhGjRT83BsoXqlV6BbNwqAY5ukdkfy0F-bOOUKgXKYPgeR5TXbnKyJMpZIjh7vMufwyZsj4kguQWC3JrtAUhJaKQUybSLLWVsg5AWvhXbkF-h5LyzCOhaEKnzb+LgL6v21sgsQ0s-yvlFAA6gChFHUwsciX8CoprktsaQRlzLzGkpedwKlYQaL4UIu6YUb5UjSPKMLAVbKLYxHPIAjIZUCWfzOb4ilDhIEs1DH-JWa1K5wXoJsjxLMzl2NHoDRBbK-Z6pWMK+1DqGhnONfIDZlSFWHkKDXVIIye6jBpGwdpoZSgBqovIpWYIVUhsGbEZonYNTLDFSeBUJlgiCtEmiuyjlo6vJcKUkgeLH7P18IVWI5wSUFo7h8BgcCEFv3-oYNRMtLZuk1lSs6jyWHPKpWoiuzbeZZ2TD2+REilH-Nhf0-BMs-VMFIPwVQr91XPLeBO+gPwMFsSvlE3Baj43TMJWPBRkjGyUkSQs6d+TgkItXSejddAfidEBk+mgoMtlqPCiOlicjUkRJSWLSgLaBkyzpakYpmgymXuSWrBQwH2UrCmkmvyqb-jgYYL1OtczimVI+PBiYbbYhTXvVrOC2HmDzNdnBhDnB8GoePEREM54qikAo-B+BVFGSGVI6xijFTqP4do-RkMGGI3rgLnxkCQnOMScQ6GKaUmTYcZ7n5eMjGiMukRi4P9MHIle3QoA6TlHcPZJo2EOjEC1OVvJFWn9bkYH1q3g4PZX4n07xpQFbTgkND6Hc-Fc6UIXNAPWbUOE3B-MirOPZ8whhuSMHwPwP50LUQ5NvgPMDkrRT-tg5MxVsRzxCbjkCHL6ScPjLS9En1RR52QdKQk8JsGivxodk7aCawn63X2vF+tSWoVXPeGRtjxmBNgma7ql11IeuJZAv1mhiDzV9jMQ1tJBcjOjNM8B8zPNqtoc0+25IqQ5vX3BX2aeoJ6YmFBbFQwa8l5bJa80FGqHot6xrXI7pvTp2tuIueLVjJPsMC1Vsvy549zFam0IXrs2rspdjvoLV1XzzBcMaF0IjJHNwJR2sr84Pqskbzs8rVg7DVoOPiaz11HwfOsm9ubHaOQOLdp4UfBw63ujrkbMkzBzvugeIlNZb4mCwGe3KRkZ6CDFGOvQe797Pf27JC5TiZvPZ2-eKrmLjQJSOufGbJgseiMFYNoQCgZflXNOPXnrguOuy4W-uybnuX6vNyxcKp17-Mx3Hal+luFfPyTm9u845eEnLsXLhzlQP69P13Np6Rr3OUe4G8l9cgFTPoKs78shupXpZd4H5nHOQigIAwHgEgVAGc0DEhi4dzDncXJTp9wfOd3nrYLzIFsmIAAfTvilsuXWqGIDvoBu+99SIvJe-RjfXuHz3l8M0bZD677P-074Kj1MGJM79Hu6716tx3iIhRncCT6bLj3opmBiAkGtGBKL2R9HuGIC286dqTNAAAMjf70PaHfhJAkoPfi-U-UlYefzffI-JGVIC-K-WvOcQ5cEfzYlavakO7DeLeUA1-fnbzAmCMPLIAmtc+RXHnRvJ-FvSA8gS-EaG-OAm3V2RAj3Gg6TFAsA31LA7-CMbAusB7XWegwg23RPCXTBQxFPafTAl3L-EYCMHA69SOM-I7WHAbZg4jUgh-aAqg3ncEEsIQGHMPAbeEGfUfFQygi7OAvMHlB0ZLXQ8IEfOfQw6-Yw9Qs5ePOgOg4Apwu3BvKrCaKaDg20Hwjw3BHmLfVw+QmhK3JPQQ73Twv8bwtgzgqQ4gmQ4A2uKxGxAQo3RQg7YeKAow2A9QrxVI-RCI+gFwmtfI3RK1BxMgdwyrXBLw7zTWSPJeJzbeLgcQwYeIqrbg4AsooHfAPxDImIiQuIzgvLNnWQhgLnUbAY5Q7Iuw3IxvCySYqjLSYdD3cXQo9IjA5YQY9okY6QvA0dUUddRRTdfw+hZvMQ8-cg1Q+whY0SY4s9cIo3PQ6wlfMgiguY5XO4jQ8RE4p9RscrMuEo0dB4ydblWoagXdaYsQxzQIGQW-BaIImtUE0475GDL4qI7Y7zWEyoW-UkJEkE34x4l9MgN9agD9LYpQmE0ECY3Ew5HQMYpI1IUrQDeDauGY64nIsbIDCyFk4EliZbFk7bOo6kuccEPkqWIDKLX6YAlkjbCrGjZ4WILEsQvwxU1Y4ApTQEwTKU9k1U7-ZrAklidbbUrbZrEUgSTCXUo0tyUUOraDRrfTc06I5QlGbbG0-6VILDEbZY4Ul0y4+fOaK0gjRI-AsfLkL7Ygi4q2d4m4+Y6JCyT7fktyQHYHSkqkgSNU3A93JknhZ+SEmFKM-0mM2wmAjE-eCyC+As1EZM8wN1DYoQqfIslUzM2I20bMmUmtKlJ4xsmo844st0NUjogItnPPUlAvBOYvZOMvNOSwJA8-Rdf-V+X+EggM3oifIQfQFcmPGpX+RSYyJFTNX+RMuSYGHTf+EwLQYQAIEwYgck2oRoRAuXNyZbCxCoyQMgEDYnP3Fg0UsEH4veWVfmcEGnaYd8m1bgb8kTTsw46VceIC+VVcks2YssrWCyGVLqYCjUmtS1aFSotjLWJCt0HE+EmQbgRE6LD3TVPoilIitEGkuEtC0AfEyizU0lMnHMCnTZGQOi2tECRisi3QRkmtQXbTPfN4aNXim-cEIXYgEClQegSSj0mvWS-QHuXiq4j41Cx3USWS2slwWSqNSpdS6MwctsrIdS4SjnRwL4QxOgVBd1U1SpVXcAwtTg6C58us8jECOQUeN+CBUylwAmDy88f-MGe0jirisuRkZ7JA18+xFJFAkDBBXinaRo3USiCTaUzylwXyneaorWBKpU5U381skYPK6iVinChKq3W1IqyIQ-Uqt0CMCqqy39X+UnRypXVeIPZKzoL89YcKgK0QgSDgey--Hq9eaWX-YEW6MQCatcJYMNScOCbiW4cxBKyalxTKizUAFgQaji+NZoMa+a1QLa3UcIAAHlmvGrOsWpaweQzWnHBAABU5IfM6BfBBAUFeAKtqQsR8yHzRJQAABqHclmZqAfIUV+dK6WMG+S8EUG8G96SG+y6GtS-qghCcA85FV696mQYgeyb6sQX6suOOGkXhagIGxGsGtPGIVGsQdG2G8IeGiyJGumi6HlNGmQV+e6tqhzOSCSdwvfdKn7ckD3SuTDOSbEFylYD3OLTc2Gna-LLTNct05mtPJhY+KWogEXB1CJWygfSKj1TZVnNPZodKlSIEH2JKh6gMNojGi6jmi2+LfQTCW260W0Pm6zPCUTSVSuK2u-cKkpXELq8ZFWooJ6861FOgRecoR2UeCtI8AiNNPsFjBKxkJTCq-yquH2mrbzBW2hCqgq1q0C7cYuxtVq6reMWzVyoJHWmWqzHMrsxXYWwNUWjXNgMWpEYAyW9ERuqufbeW12pWzuzzPseddW2281LWnMBuvWnSA2-AOyhy8nE25yiBO2jRS2mam23qrexhfsECAmRazKg+7e1292-ez2iyzG6uytZGwUf24+QOsKtBEO42py1ufbFnQ86cDuqyWOxLEQBOneEtBgpO+iDTYiFYdO0eTO7y4WTakTCegu124u2Gwq0eCbF1CuqiOq7B++32mupqnTbW-unO0c2Qcc+OIvJOUvVOCvbAHK4eBlJld9flAtF5PU5Czkz4rNcENhvlfSngHldh+8hgRlZ+TbfhNlC0syoY20BVWXc8IRjhuVAtCHG-Z0aSuYeS2IOYCcHBwoaSjkfRmIDkIx+1aShCcxla0gKxnRi7MSUEOxmBRx6YaS62TIeS7xtgf0Yx2IaS4KZ+PqeSkJ2mAJ6x5xp68xp6vsQJmIaSm4f-dqFgQwEClJ1QNJuOFYRJviiEEGux1mY80AXwcIMmUAXFMGr60AfJ6S9yYpmILc7gcp7tXFLyWp+p5x8Lf2Uptpyp3FSEMpmIbpsU4AJpgwfpip86XFMALp6JsUgAUkmZabKZmaqdACWZGbqcWf-N-2KbWYGdmcDvKb2YhAAEJhJDnpn2nQArmgQzmnGxTLrVnbnBnQBrqYgnnPHnHLqAQmmjmNncV-nvmxn-zTo3nWngXQBzowXznwRToAXuAiggW7mkX4Xnn-yLnJnNnChKmYgLnYgVznQnRVGxG+UNHkxqjAQQxNY5huA1GJH88yX1cmWWV2L8AWAAArS84rOl3zZEbtGxiljh+StU71Mu0R3ldRllk4Iqd4EqUViRzQ7JDHC7aSpNeSpNfJ5nAp8ESAOgNUTuctFFw1410pXV5nZJqgbJ2ASAcxrJhge1q12nG11JgAUTsadY9ddcm2koADlyAA3Jmg2A3z7oJWXFXpXxHqZVXGDeraWVhNZlBu0CZlBD52WwZ42otyWZWVXiotDaqk3pgU203zLC5NwY3KWc2nQWGuUs2qXr5KUUEYFeKuVqgxQPwgZfAjbuWQZ1hlAeVNAF6+xG2pGOBxlZGdUpXCgqU22jgihm7R1gIsRP7ureKDUut12zVoIboRB9BG2zlR6Obq31H43qi-W53OsD2j3OWeW+XuBT3G2L2UrZ2LH78Iqw6B5ZcOABA36xAvh9rGxv3XZGRV3Z5QOwQ63xiIq3huWBV0Fx6MyIC0gF8kPsLR0lN4P9Ym1CBkOEZ9SRgMPlKLw60cOUREEMPAr7wsgSOqrYL36oNuoUgEOuHqORrUO3T6OYKDZEHgo2PTA8OCPMjgqh1SP1sBP9YqOh0aOIweOWGagxB841pwlSAV1ZPOOgrv8FOPd+28w4th2QI+lhPiqYg66xP8P+bzA-4TB+AC50FN3CcHP-4dh79AOuWfgoPrOBYB8-2I9TYtzUqlxSmA4UYqH81kwJy6GS8U5y9MAkCJKKBTAGBwkPgqobhSBWlTDqAnwaPW8WB281ScunwsbphZgK2IwSu-geYkbwQGAabOaoaebdpFHb6zCauyujIHaqvkFcvOvSOi4bgEkrUrzQ4B8RPOVlBlBfqMhP4jAhVpuNm44wakFpvA7wREbShNuhlRI2awbyAlv32VhNvJSubqVMOWIHA7FjBxv7KhUUEQNuzrvkFjBnh-w66Ga6uIQkahvdFjBRupRO0UEu2bvWjhU5R4brBwRSOXu2MwZAZVYqUNLAyshkf0ZRIUZtJphREb9kf3839pIpU0OgzODkerDO8euyeUE5QHnRJih4QMfWvBh8eZrwQGfFJSgkvDuQI0vYpMvWl0fQxmhieqyr5gF8eP83pkY-L6zDdGykEaeuv7bwQfuwa4fjAmAyBVYCZhVFfH9IfH6Tvgawb0rmjQC5fk9aFyf2aJxEbGuNeEftfme3bqfqV9edtQa3p4RseEVHe8pXGHuxBuBHetfSAeIGFREdohfyvakweIRbHuAb9deaeb6PfD5Q-EfI-h4GaPeMfwQAByRrrteGov52Bm9G5H2HugMH1LgsdT-QNTtprTkAhfHeNvacAmJvq97caSoQYQBG4IBGuyLSSstwNMBGxdDgeEZXh2f3rv+vs52jxvxfjPmv17p38P7P+f7-bvtPvfuPjfuvsgcpg4lifTwdozsIgBDwQQvDlHvMvha+RzjHvvym8X4o7gS3oo2hRz47zWC-oZ2oCaBr+8gSJG4CD4ydCAPMZ2DLx3j39X+zjBnlLBQLm8-KjnbPugjP5uQm+3KW-m4Hv6ZZ2wj-assAgwFEYWM7FHekb3pqoC4EFvdimkQV4YDrM5LfAcYDWjCpGQmsXATf3AFPdHu9-e+opioEoENutjDHjtAJh8DBCI0CHtwDVIyDx+nAx7jANxiRcbsYgtnjAl97twlBHA9qI92djHstBqkQAUO2AEgQe4ugh2DtBMFB5-+vmcwVf0Tz6DIBQg7PnYNEEODRG7AuQaoIYwp10MWWGaOgP-jyZSG+rZAcgSDxoD4BLA2zNAw5TeYsBtdatKOiLQudoB+XVIDtBf721LOmAv+nhxjroo80TAtyJkJEYSUyahAlvvSiXD5DY+8ncIc7CjroJShuac8vLzcg1DskT5HghpC4RfJCu7UYQBUEGCOc5OvgEgIQLZ7mgJ+pHAYJwPH6aQqowOKYS33TaKVahCQ9IQKXWpA5qgbEeyhjQ64cBMqG4GjjtGq4XDO6G4UjlQgUT2VOM5wguE8JOGP4aOBMD4QPku4pljhRtQNL8Psq8UIwIIx-I8MBEvDO22dW4a0Vao0cqwngeEV-yKqkct2B7VEfcIRH1UW+O0ZbBCLOH9c7h6lNEdg2wGelXhdQuuppTjJggOh9PAYUkUVZaFcuzyRkRVRD5ANZUphBgOoBEAcBSAFsD3LkEIAadshMDWIBhlMJCCf6BWdXBCIBzQjUEsI5Bq53jgUjDI86JNAjhVERsHkDgOOl1D5ECjhAQokoZqJ3gGjmgYo1+BCL3wQjnwUDIIRKmIF5DwhEdSIS-iICvxChh8O0a71tAYCiGjEJIagzEKpDYwtdSIYGMc6UjzypOIUN8lBDGU+uo4ViFQHJHWiZYf2FUcqOeGqjGAcI9MRBCtGVVIhq+T8FKCdGc8WgHVLrMSIzE6J+krVfcpOCNikkGAKTLiA6OBH6juALY7MZVX2FuQOIr6bsVQC4gcRBxWY8sbxQqobcZAdYWoIjXz7Li9gq4toe0AbgzjMxTeDHouPM7qDRQsojiOEAx6Yi1oyYykKmOox7ihx842AbkKXDniCerDJcC2IYSlBxxXYnsWdQjDnjjuBoCMF+OAkwRFYf4qcWdWkFUAe+zOAmGBNPboQq6zscEBuI4AD8ExKgPoD0naiMAFhaw65IRNRDcBeBc43AYiLVzRt-xtJYNGVF-FJBJxnEM6uRP6QkTnAT7PVhOEonoi66tE2NBlFUgYStx9tNrDj2pB+dJAAXK6GtRYl0TVUPnMoJr2OF-xD2cEnISbHO4u9zxSk9KFpKeg4g2Q3QcaNRKpAQ50oRkzML4BYqViOw2eL8NLFKAoxduhgbCapN-gMAiQm8dSU3jMkCBugjIWCQfEzzKFZR3QcINtwZ67dugv7SQKABeoAAJD1gwAACC4AcAB6wABKL1SAAAHkA2yAIELFRYYE15JHE7BIxLoDDjeKvAFSR+F-i+TX0348QAOA8lyDVhqWJqaSWz76TOgjYCqe8FI59TMg7UTqfDl4pJSUp6UzKTlPymFThpbUhqR1KGHw4qpvFfSSHA8leSswPk9aWP1Wn0B3IKsZkThWOFjTDpg2KqTVJo4qxhYosTWFAhbG-Uzoi2NQCYC8D4SLpaYYBM9PMgdjX0NU99mVLUDfSiJV0yCUkBqls4-2cQDINm2AaAxGQAABnlYe4ag9kCYvDJIEf9GA1AQYE-mxm5AHASMoEFPwRkkztAYNPEKFLELkyxElM0gKR2WwYzXhJIguNiPpli9Qi+M4LqtXZ7yUdoXM9-jzOvLL94RgRZdsaVuijw2ZDoVINUGyDwyLYyqbGdzNij4yYqhNLGRwBxmiyUo4tYAo9DBj2ROgrSTYSGHnSyiphhkUoCzO1nwjLRws-MrjMka+hDIUfRoa0LOz2M3agQE2WbJd4YDwJFjf2QwFNlsBWkLQ6AbPwklRibMkQ42eHMDnkylJFQTqKEHrS-8NR2IqiYbJrRJyI55siOjKOQRvwIhBoV8IkgbjYjHQ8o1WpaUXTEA866mV0VKP9B-YCxnwyRsWOQY1SW5fENcrqJYAGiHYy4wiMhPDBhyi5eowsY6OdEGhzg-4PbO3Pzprk8hF49CKUELmBzgqcobvOyGnmBz5OscoFOPOMB50GIDEKaDvMjn39sJV4yRlvBLhAI-gTYssWuBun+S9q+YoEA6LVF+Vc5fEp+gYCJZVj18s8z4RXMiEOBoazE3sSqMdEDiaBDqT+fOMXaJDXRpc6cGuF-Auo8AkIQhcxkVG-yf5c8gBfALQWtU86U0MBfZLXxehIFfwjxIGDoBwL-x78i4chIaB9iV4TokOaGDbHtZ6xhqTha0SoXAKH6WCyVOnK6wkJaEaCoBYQwaoEKiFSGbzOhJXFYTMF4qVeSRgbFYjSxpIzoP3LSFIFYFPNeBWdUIALg7wecyIYuLZ4iSB+64rRTYITQtAdxWQGxYy1JCHiEqz46kTYs3mx9H5yYl+YYjfk+KeAdioqoErPHjRLxBi68c-OXqRLHghAO8NEsRGgBVFkIQJTtGCXviGhq1TJS1IsW4gOFgE16C6kAmkgBFsQCpVYp0k1LuJDQaQfUu4X+hUJ6gzRZuO0WjiqR5MpBONPoAP8UKePUZdVN0rwzqh9AC5HVOASpzvhFbVOf8PMD0zgcyy+oajyDFZAIwaylqX3zYCmzfAkBJuYz3UFDlOChy7CVyl0TDLyZZExfrYkhnTLeJ2DXMerguST4dZ8UC8P5jll-AFZtCVOaDnVxNLBJ3GCcE0o4VsTAZXSt4AsoV4-KocqchpUUA+XWjaZAkSFZglVRLi3FGPcSd13vTH8G+mymioXDPJ-L4J9NKSWQmViBc8V9EyOLDKmkMAsplkAADIesipjsG2GjM1KSBQZ5MxBNdPnE0c6pYMDyd1KSAtT9J7UtaGKrlV0BepA4fqX8sQTrKXAI0mZPDO1U0cOVXK3leAEWkgQlVWq1VbxTun7tBgUCTaYF22neT4S+0rpTJXhnHTTY8Id9o6tkkCzFinqk6aGVHRcoVVEq+xShwFimx7pVAR6duHJndpFs9yv5UrLuERqiqwMkVdk3DVvLoZ2EwxMXF1lN8V+J-V5Z2KhnliDJrUG1TGsNjxrpgji86IZFtU3s1onsc1GqBWGXTEE8K0kkDPNQBww1Bq0tep3LWAz5xurDBnbAfnOdyVr8JvsOOrU8Qvl0bVoEKyBCWTMho6pfuCDJVN9IGmRcBYwvXU6o6xha6RvOp3VLrzY7Y09VPldi1CD+06q6EpNFAeSHQvkh-rn2Cn7zKep4sub+qUkfBggYMQaT3J7kVBGpg0i2Bhg-VvyYNEdc8IFKBDOrdp8JGDXnXPAzckUtucDSrBLbvQ-Vhk7oAdJ+lHTg1edUqDiDI3gyvVV0ECoZGj5TLuAAcHDYEF+T4aI4gQ3RWYvlpkJAgfyiDbKu2XkhVGbyxkEivXAK8wV5IODQ1M-XrSkN6uFDS7Cg07TcQe0t5aGOw2JAON-FbGQRoBB01iNrUGjTMo4D0anoh6woNRtI0WbiAVm1qIxrHZLgnlBgDZuxttz0zzYu2cMTZkGVkpxhQm8hINJGWXSH+wymDSgtKDLDU1MG52HFrC2YaGOLEJLVMvC3ka1VMsEDYJvA2dtZVKWw0NGyXjdqstEODlTNOym5SCpZq8kJVoynVb5p-K5jZdNY0bNStYM1LPjg0UYgYeqWtyHFseXKyctAmsGPTIK0NS01FYhUSVrYDKqDVjIY1Tyr5V+RltpqxkELPhntbu0nWsVT1rELgg+t2E+DvgEVkUdTAIGF9U9Af5wd6AgnE7Pduk4tTrtrUZ2KdsVnrYLtW2b7RZiZz7rF+Q2cjk9pRCNw6AD2v7bcgdSvaI+suajeCH74I0AdJ-eSh9rVVCqa0AnM7bQik6Ucb1dsTSRFVx3Jh6YrHZ7cSptiwDH1QMfoNTA7Wi451JapTMTrBAs7dqMOyBFDo83dosdn2zBLNjJ2UdSdhgCHZzr1Qc7h08OofhZGR3qdwmrHbHTB2AJKdP4TqKtebFul1qHpvmKBE2vuTTA-Gb8RnYDpV1Xkr18grpdBBXr+cmVskqurYC52H1rd0k23YZLbH-hAIT2G2JBFdQ1VzY36eHSPyR3G6UdEWYgMpy0B1tzwNwTyREz6iMgAAnCcA9xx6ykgXETinvYi0xl1kjQGGrAiwlyQhJPW2NAqkXipXwLgGasjK9GxBU9+gAvgXwshoBm9NmsvanVDB16fYB8UMYUFT05668-9GNVaUPguAvIFFaMSQ1r1Z6+o-evPSBhj0scQotMJSZ0FOXnLhcOOUDfjtfU0cYdAe-gBCFX19R19clGXSHrl1CoTlx+hdA8JwDnhqgpUPASUkZDggAAiovxdilRHyGO0dLgOEA8pQYpAeeirPVwP7+Am2hOCOzAMgQb+JSarBhjdLQHS9MQOveCE8j4pCcwQdkNr04S1A8UjTPzW3OIVrrGQvAsAXf3j7QG6uRwGfnnVQPoGvI-++8g437qf7wDDBgg3Qen2vxQ+Ja1oAvJAWZbwZnyIHGBvGFSh+DNemIENuxmhaMt6Wy6b0X6KSGB5KB7gxCFSlTLBA4h0QGQn3HkA9qg1NAK3rwj+b-Q9Bjg6ACb5kdVUccDg55ARomGigfekOFAjukNry6GdMmEzl4OA7CEtydSMwFdjsiC4rQYcaxpzDcBN9gQDZlXDpU9pj0V6sI5JPso27l1fmG2Dtkvkhg-9ABqohQ12xSyxx5BtwFeugOrgyAi8QxJa1XVUhWgpBl5foPUnw83wNfcA-DRoMLzXwgBqoya3uaqRDEY1FYvtgsNeR9BVhj-VQfwO+QUFde3wyf0b7HAwxbchiK+HA3cJRhywiQ8ge0MLbdZchy6UgmC3gbgcKhv2gYB6PL0+jdPcUpuNoJSHWI6htAwwaZBZbdjeB+wzMZXlXyzDzhp4-YYmMn8bDIaOw58dDEuHAuLamNR4YnB669U8xhvtwsCNsjP4yRrkRca-6xHNw5qWXQuqlgMqZJhk8LpLJroRR9BV6gviRKOP-67+0lAAEKdw2I4w6fhZDpO3QfVlukxs43ADrgd4pATipkFP36ssp+MiQAjSyn4ABgPq0AHiGr2TBG9okQY0CSdDkmS1lJzqfoG5ZcsZwzjBk5QCZPmihT4INk84UPiW7pKfcezqQARr2RqAAAL2QQD8eYCp240McKiqnAd6poYUYE6DIJX49Jxk-jMNMI0TT0pgAGzIzIzcpl00qfuPysPTCxr02mGpMGIdTYpRKYdx8DWmLIqUl+G4HIAI1YA0p6StACsQ8phAYpiyAAFlzQoAVKaDHkoAB2AABzOneSdxlYicATMN8kzmkTU9qekoZmekZABGrmbOWGACzFkIs4fAtNNwrTCNG-mIHsR8mZ+1gGMx2fdMlHUgapqkxOcuT+nnGQ5rM6ObzMTnCz0plAFGejPtm3TKprcxSd3NYgyAnFdwNOEHOZmRzOZ085OdEjTmk+upwM8yaNOhm2zipjc3W27OvxezYIZYamekoAAxS8gjWgCmtRIAAEWLPONSzC8cs5Wf1apSPMCNcAMbJWLcAGS8pm88qa7P3mdzGprUywDTP-lELpgZC6hfBAYWZzzjS04DAXPyAlzrUFc6BddNUWsAkF+vbud9MN8ELSFiyChYRocWyLAAVijMUWwLt56i+wIfMamKaz5lIJmmkssXZLbFhS-qz1MGmWTokEC6peEtxmcAYl6CymdpPOMXq9kfoF4E7gI1uVxSBGl604tik6Ty9RlfJXpNhMLIxF-OOKclNOnuAxIUkNZdjOdnRLNFz01SfouMWIQLltyx5YsheWFAPlzC2KW4ufnRIWgNQGwuUC5dTT8V8Cxpf4FaXvTe5v0+ldequXbg2V0SLlfyuHxiQylyM9VfUtJXNLtFhq0+f5N6W3zzl1q+5dH4dXvLFkXy-+f8uAXgzrJ9k0JYSv1R7LVJ2C05bFJZT+g7gGoNmY6uJYUgBV-8jydJpjXBTwV5xrAElAI0Xq-syK1KcPjNm5Ta5yi7Za2t0WBzzjfa+sFLjHXwQ3K06xkz8v-kirwNxc8ueKvghLoNoGoHJXWs1XBrdV4a8mcatSX-rB1oG55bBvSmdAV5-qyJZ+sjWKoL5-SzjcBtHX8bvAM6xDYhBHm4bY5-M+eZRsDW0bgheq5jdGuU2JrS1-U0GYsvGm1ri1-8gAHVkELAXgD0gyYWQ8pIIQA6ufXOc2ybyZnawQOkpS3SAMtuWwjUVvMHzrEIcAK5cFOGAOAqF6Sm9UkgWREp-QW26JAlOvWObpN5K4mdSt-WxSOtvW14HluiRDbytxmwjuEBMo2FzUGhAjSoRiAbTfQAiCra+uJX1bfZrGwee9vS3Zbftg20rZHOHw8QvVvq59bUsiWubpRjG32c1uIJpK4AIdnJDwvggPWhXU0+LYhAS3+dn-fVuAHUB+JPLQgZG+RQ+uq23bQ1lK79YYvV3a7+Aeu43bFv6tDuxM4I-ZQRpqAqaMgBGvPcRlaEE7xd76+7Z7MSX9zzVmu-ICntGmZ7zd0AI2YLsk3d7I9j29pb5vjWj7k96e03eNvggfbmd-2+CEDu52b7iV0u9udHvenK7zV6ADFHekzXwQEpwrnVGDu5ndQQVlu+CBDZ23kEphAfmFZIvSm8QYZ127ffRvAPkzaVksxA76BQOYHE-YOxvZJkD4EaQA0GLTfwdJ297UFg+01dIfQTJAkV2B6RZlPvXC7Q9gh9zfLtjZH7r5sB2Q+4cWRKHcD5B8fbrtn237zDza6w-EsanQH0lVKTbHkvEAJbncPh9Xd5O6WbryDvKWwo7vghwAO4wINKcUsqO7zd9-e2PeavaOfGFkNC3o4Mfv2BgYd0ELoQOmggt7Dj2qyI6Icp3JLad-8m47YC6P9HRsaUz1ZUtF2bLLDpx2w4fsU2n7WjnRx468cJPg7n9-WwrZzvWmQndltRw5Z6zCAvkJDri3OZ4sWRbTDpkIO-ahu8Wp7sNsp--c3PpP1H3p6p7U69uQ2GncN5p46baejPgbpV1QOVcqvb3Unqjvp1U6hw1OGAdTwq1M46f8WFAgl5B+04sgw2BLcNhG5KGRs9OILlTqk4M-WfDPD9od6oP48juBOfkhj5xr48ecR2ayiZNZLHeIDx3ynpUxBkIEMCuXpwSB2owIHqNAgyD7A5o7dyoMdHaDYm9XBVQhy4nG++J1Iy7vSPEmcVXHBfGi5anwF8APmFiQPn0NSR-wiadfvDzKOsjgjqJhQd-iJcRHMT3aOI9hOcGWC98aujnUWCmh3T61OuwRV4dOiKRbOM3Z5MicZfPIOa3LkASZ3kHliMValdl94cmxR1IjKCh1IAzKEuAOIGuBxp5BN7+God4IBV1YKoirnz1BJ13WZqEVAoUYZdDnfvv-KWurcwep5GDAPXcAPX6lNGcC-eBgvxLB7VO4e0-L0AhUCgRGYfH9crxWoiM2FroGJtrmnQeALa2G8icRu2MUbwQDG5JlxuB2QAkAYGkTckzk3RN5Jy6cuPGBfIQAA')">function javascript_value(args, frame_stream) {
  return stream_flatmap(
           frame =>
           execute(instantiate(
                     javascript_component(args), frame,
                     (v, f) =>
                       error(v, 
                             "Unknown pat var -- " +
			     "javascript_value")))
           ? singleton_stream(frame)
           : null,
           frame_stream);
}
put("javascript_value", "evaluate_query", javascript_value);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p13' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	  <kbd>Execute</kbd>,
	  which applies the predicate to the arguments, must
	  <kbd>eval</kbd>
	  the predicate expression to get the procedure
	  to apply. However, it must not evaluate the arguments, since they are
	  already the actual arguments, not expressions whose evaluation
	  (in Lisp) will produce the arguments.
	  Note that
	  <kbd>execute</kbd> is implemented using
	  
	  <kbd>eval</kbd>
	  and <kbd>apply</kbd> from the
	  underlying Lisp system.
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  The function <kbd>execute</kbd>
	  uses <kbd>evaluate</kbd>
	  from section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF> and thus
	  can apply primitive functions to constants and instantiated
	  variables.
	</span></td></tr></table>
      <span class='comment'>
	The original is more restrictive here. We think that allowing
	primitive functions to be applied is at the same simpler and
	more powerful. (We could do away with the syntax functions
	<kbd>predicate</kbd> and
	<kbd>args</kbd>.)
      </span>
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (execute exp)
  (apply (eval (predicate exp) user-initial-environment)
         (args exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHR0lVVRdSeRpiIbiEpKLi0DmF2sUJNvklQQoVx1EAD1VLOjoVtZGDMf1nya2UlzpyHr7I9roikkjAA5hdrrd7rRATF1j4XoZfABIczTJzUVSidzkaiMRwxBqULLCVawp7vZLBQ6yY6KDFY+S4-GsQnE8442bzRbLWiPfKjPQTD5pDLM4gAE1cKw8ZP5my2VMiYslJJleQSCPlU1F0myDXFknBN1Edweso2FKCoBYknKokcpxJil1jQNjlUwOyVixNXqTWkMPV8Mtwo+Lv1hqa4v25vhgq1KTRNVEAEd2mRcsM5SHttTk2nNKQOqn00WauRjjktIGsxtnvGcyKZqJYuRauXKwk+RbhcESOLRPgiaJxY2kw1SqRyt2Cr2xEqJ9QpzOdA3hUnLNZbB2FFXyCuE5T5+FNzZiDuW13Y6vxoeAknJKaQcQ9wfG4rwo-7s-X9fNVgUSbJxHXOAdSF1bEzSDRJAPMADc3+WkQNoRwwJaDkVHoCstFQ0RwIPf911FNDPSda8738D8WhIyDeT-NcPnSLFmEYFddAAIgAVWIcpiGoAB3Ow6i0SRLlAABacTjxpBR2IMABuLAAF8BBIM4RF2aR9kEXRgRBOgjFMfxKHwUBFBmG5KBYKVxHtZDVkEAxDIpU9bB2Ll20s6yqFsh01KdHSdlBAzFP8JSxADUR7FM8ynDJfs-KEB5HOclJMO+UBbkIaRyFAABeaS5AURR7McKNtJIN5Q2qoorgUCULn0ShmBfLtGxq0NSo9dwcjcQFHO0dqOo+PS6EG4aJv8Urxma2hXxShSXKsM9RVc89-iULKcooo81taKIxXq-ctsSIaRX7Qdh3FULzHC0RIpMClmNxEqSA47jeIEux7NANtMQkqTNNqOSbtAFSVKwH6vh+Xp9oBA5rjG+NHuSNbrTmIFQXygA+QraT0zUxkRxaIZ+vNMJVaVpDY5GjP8NGZnIRhCHIAALfZqSK3IJSlWhwmNSUlmK8jNR2hCjmF2hKb5lp0pLK9oPrW92qYxDJZ51UWhkNw2Vsgj40U0n-JWaT81LDpyBYcgkdvFHjJi5tW3bOh5YzRRvitgzUqKNGLqHeJrsmO6HpMsyZl1b4L1fD3racu2UjRzmkOayPvk7LR3ct2PtFvUGwYil34+SdLcqHRhU6zuGooKoak+KsuK-T-cY4MnPXjzgJQ9ixw9o2kqU5+GOq7junhTRhvB8rjaO7CguotHj5E6VF2Czds76ZNSem8BFvnlzkMVICcHVKSkRod+RwSC-ShnxHRQBhNb2LGWtybVUe+vRx0B2IAKivp8A4-3YroB+IVlIn3UkJJY55qAs1wuBUiKwaxwkSEXLuMwV7mwPE-Yu0Jcot3yqATBhZ7Rp13AkZBTwZ7Py3HYR2qg2xmxIZnT2YsjzEGytIdeIpdiaHFO7aBPQ4E0R5PQfu5ct7kIzrvKqk0Uh0EEbAn4IiSSAm4TVG0domFu1uJIy81YWGxycotI+c8i4BAZk4FRUFayzlDCUBw+5rEoU6P6bBQ10gcOkNIPOx9IbGxEHmRcy56K2wXiXUA5VCHBPKGVag0YDx5wiZOGQDACoKMkDA4ReEIKiMBOVEx-gIn-2-AHNJIRHEXxKTfAOzolypMKTQladclDlSJvVcUjVxCzVahnFJAZxpyKGUUapt9xRI3UcMj4t4SYQJJKbPaZD9H7lCa8IuaNNH2l7m0JQ3CWmKD2lcY0po6KK1FobOZJs8zXx-ArWxN41nhLwaADahD9k3N6T8DaRpIQ2JQUrdukwPm+i6C0PuHy9wgrcSLF5OzNR5zRtPcB-jT52DzM40k0FNRF2Ba47ofcMVQuaPrSZtU1ZKEJd8o5vzTn3NkVM4UMyEUvzsH7K6FzcBgHsgwfAzA2BQDgIgZA6A+AACZLkiHDq4Bk1NyLrJZaKDhjQsQHnMAAHzVe1DBTMiQglVaADVWqnBNGaKITJqrDWhhmF42VisAiWuFDMNltTyIXKhtK9wYKdmquMAESYaNrwcp+ozSQIIQQjmcI4mmbN7QVhBDgyx7pJDNVVQAMlTaAVmZr+Fyrynm36WbHBxqDQEuhmQvQ+v9QqkNYaI3QxpuxB+INkU-TxS0WGD9K0WIVVmyQ-CKyUFtXS2ZKLIGighXc-58raGijjeGzp9b6LsQnVoZtKkforsHn6YlcqF5o17f25N1MD2KAHUO-5xi3Wlp2AAyFVKIQmihJiul06VonrPaeo92CR3BqsTkxBtKp17urU4Oddao1LpLpk5R-7aLEDkgazVVrQOhvnZG74DapCMEoJICc9oMUIYdR8GtaHF1Yu-qVAjsyfqErbV2ppbl31fqY4O791Hr2Up2T8x9fynjx33dmz9rGP3kSciW1FOo9RumpTxwDfHR6JrAwuiD5H2Lhmkw+k58H2MSfU4abqXo3BEoDPRzKCq37u23e2voD9dAsfPU8MT4CoZScjPEmMdqFM9sEx+kTisnNGwkzMRZFYpErM84URTqHwMYaXSFpua7R3zMOZpp9pmBN9qEw5uUP7r0zAprzLI2WNivrciRmL4X7kcQK5rbjWnCNIcdSh2tynYuqZq1TKOCREs-Q6zLd0lhBa0l3ZFhV59LD4BpjwHTY6+tFbFMQjOI2N4zvG4OGmoqZvzLm5+HKWJdaZiA6N1blSJs0wAMy5aC04RbRZDFPyiy19Dzcs4cVu6IHr17NnaLu7vfjY2o3sXe8AohWcwHruve9rrBiY6GX8Mdt9Pmv2w62ybCe0OXusP+zOk9u8r0Sd0RjneYOHsKo-Xj5zeWnAtgYc7V2v2SfY5WtazhhjwdJZNuHR8ejo6M68zOln3ists4CxKstZVJzTmWyt5nzXSMqaq9-GJn2JMxLiQk6XDG7D2eweJsdMxNKUCFrxuUTOyty4qw2w3xvaAq7HdNVLJuSv88R5lvzw78djr0nVp9lDTcu8Y0j4TX7RMjrwNypgrB2CCq4CKtA52xezuZmzfYlwE0gbiaa81afQDtWCJcFWYhGAsUUJcDiJrpBmrRdcPCChxS6EsEWSgtlxSpESxzkQ337KKAM71LESM2m0yrSdjD7F4oNXssA9RvfvTl10IP-eEPrvMmGAlbv+B08C4t61-c+BqteDX6Wu38yuqej7+XEqm+Vprcm3v0A03Pcn9Ler7SV+3I35KroTbj+0fP5mi1eaN-OwD-O-S7PXeZb7bZKITwLQZ3Yfa-QHKA9oEHTCI6VHSVJwJApQDaIA2daLHfRQDaDiLA4-E2LAw6LsHA0rbXIPamHAq7MdQsUoe4YgMEf-OaLsMJeAtyD9RfDvb6AeB0HqJQLg7tHHQTPgiJGNC4J2LpHpPcQhG1RSfg9GLRXlCtNtJGDaAyag0AD0FNTQ3QbQ9A76YQ4zfqYQuHeHMQ13fhdQnIEwpgL0KuCwr0KwuCGwngr9ew0QBg+ZOqPhOQgArsQw2FAZSJR8e0UQmXd-TQEENmSzUFHQvNAqSvVghIyIAyPPPQ5NViLvYQxI-0LQhpefSIrpNhdINI+I1mQo5oHQgAHhCDiIyIaTOipGLxenYgABUyh0ZiBaggoQRCA9wGA6AqgFhKARx0h2JQAABqXPKZb4bDVgkyfYTQoweYkHGY+Y0lfwJY3VVYwghpNhVEIvEvbo3o-AUQfiQY4YihIhcYlwKY7+OYhY4ZfYlY-ANYqzHQzYjiV43Y8wD4kEQ4zI0XFQ0oCoKoYzKuWo6QbFBeMmfQZwMod+aIlIVtaBOE4ogMHBLYRNG1bEk4ooKkZEyE9+QE-wJg6gFgtgpqYIjOGZXY9INtfKfNXHH44khUTNQTMEyklkrE8nTk3QD9MExpZIQ+IoLucYNkgqaQmnRhdgz5PE2qDo1iNtd6YgJofsUAJtcU0xe6QuBeLYCJHwwhdHHwg4QFaqNGDJByMwzQkqSwwZBlHwlwp0tw-UsKIObgtFMk1Eq0wwcAk2XFKzWEjUsIhEyYJE8QFEjEQMlU8wTE81UIsE8xH2DPQk9Y9RUk2M8kxQQE6k2koIjgxk14Lk041klInkzLbMuRYIF2H4E9TIowmQCs-wAU81IUpI+sUU446hfOEMaU-QWUgtKI2QpUvcRM5IZ6dUqzTU7UiUXUz+SSG9UpPcZtLYYOI0oaU04Q80wQy0-eG0hVO0j0nIcw883wl0qZN07Qq8pzLcn0zwv0vMgMvgzlAgUtHlPlaPTgYVXgDARPCybDbyZvOyUtV6YgUnLfItfA57KCjiLyGyD7Rw5Cnye0KyBYZZURKCmC2w4XFKDlCJdC8CxKSBcpetS0etdiA9EHfwA9GqelAIGis9ei8wM9Jim8-wGi-QxgdinI5qLi6iwHaGAS6GYSooGiwXaQEHGS4UZiniwHSUOgBYSQYGXQFStSgYj4RS8wGi2c9i2c6qPSipUfG0NmWYBoOgYBCy1mKyhgLYUymi2YgS-wUvXQWoIwPKXGMSeYnS5ywHcSNy8wDy0ALyr+MSKSAK7i-SwHIBXQFIMKiKny0AMSH+cK8wQK0fYAEKsyMvcK7y3y0AMAGKkS0fAAUjyuSqKrStAAqsytAGyv3HYhSLcpqsitHK8tirMpaoAEI812qCqUriqBqCpuryqWr6jqrhraqxJGjzAJqpLAd6i8oQqOrUr5qCpCqeqaLsYZrPK5rQBcZFrmrFB2JsY1rEqAgNrirLrTrdrAc+q8q6qAhUrzA+r-A09LRFoSLQKULyKSRzD8oQwLMD1dBSLfJuVfrnlIaILUUegGgAArWvNJUGjGQQL+Xi-6jCkHHXBaHq5IOGwGpBRaLAP6qyAGqDasQhetGi51EcEHBm8UUyhlFiwHSAYgf2VwDS8wTm7mtsVmtmuK8y+Qey2ASAdiuyxwCWoW4Wmi6WgAUQEqVrlrZpooADlJANa8qtaNb2yJoYasI9CcayLqat0kiQatgLNSAv4T1SB6xibzawEKawLfJzaXCraigba7baDlAnIIbTb3a8FoMwEVCgYBtKaMKSbeRAo9JoZcCI6iRL4JQsQtJdVHAkbJApAFFsMGECyJpiasLK89xcKBp1F47HEFJkgW1IdlpqhJyuxcCAiGpG6M5uFeEJQe8g74bIFzDdBKSTao6zaQ6cJ1jCaihO7+FibSpqBkbUaB6GUnbR6vkdlW5uF5SJz6TSzEgOVK9cppCQRSgGhwg27cp0l66SzPlFAybf0ZDacxQkbIKjkdDgNYLCSX7HD0dMIn6hAEZVBX7fSaz+FP6f8RBCcf7-JARP7dDeDiYwHxcFT2wVLf7IF-7AGXzFVWdQHKcJN0cUH-J0HcCT0cGl8x1CcCGhBoHiZYGv1SGVD4gQRjhOkCxGAOYaG36CL6Gfos6c7SA86fhrwiGTA-VMGSH4HkVw9vzI9+UOAhVuBMBE9UD3AKBHACxvhzgbRGBpwsMcM8NcCWdlVWIdddHcNK9jEQxggdc+zsMzHfC45NjHBtjQdliQSvjFATHgQ9HzGnIQx0hPHbH9HHCYgbRkwDM69M5XGMGYi7BJBSBSBhjspaR3ZdJ4naqGB5igR4nRz2IZjghcmRQtjXi4mHaJ6apcndBgT2cfoSBuoXZIndVdJgommwRangQXZDIkQgHgTXj2JzrXiQnDQXZwm74LNvc2ny5RAWmvZemDB2IEHQAJmXYi0sQWBMZ41dCZL1mKJ8mbV2I-GdQo09IjB01Gxu5CSP1jmjANVgHhcrnQAxrv5Ag5JLGzIT1jmcnnnsjlG4mfh1GgatHpxjnC9u5rdcKPnTmaprUK0Hdjk0srm2F8n+n5ilnY1VmPHBNRptmHG3jQwZjnG20L5O1YWaVVh7mdjymXiUXiA6m0XGA1mdcsWEWNizo5J9nQx0hUXzqxKWndBUWVn6XfGtgkw+LtnXmuX2I+KQd613nQReyv0rm+WaX2m6WWAKIkxgSxXuT2IAByZxvSXpvVg54Ew445hZ-l1h-YS1gxzIVnHIIxjFzLa1spiaGizJcULY3ELYvicgLYr8LEX14g7KVCoVkkxZ5VyZx1-hZ136L9GN-ltwNVg5rlk9GNj9eNiN5Z614MkQXhx8fhygBhKuAbJcR9f+m1zkCYm3VYI5HZ3q86sFkkEHEl2TGt64NWgICzPN3Owt1eg6G4Utu4aZ8t0NxMRVCtWt15mi55ypsMjtCd9t9VsQa4HNuwS1ktosO4cttBB2JwRth4WtlU005-Ks3F5IQl+dwYFtrTEdmeP6wdl2TpUaQhCzddgdzdpGLFw9meceE9qzHJqV150Vk9d9x9CNUaesHXUDu4cD4KCx4Vr8hGqs-NNTRxdlsN6Dx92YYKA50qZDgqdibtgtotjadDlIYIUVvD+c7hLt7O-NgR4tzD4dw9pdyjv90FQOh92D-ScU7cqKdBctQYQ99MtGadkHC9mzBd1QR82eQ0+eJaGdI5XxWuiTP6EQ9tzZpwUVyd7k8R6Tg52c-+zUz6QSZduFk2NT0gkQVAihbdzh83JNFNHTsNuB-ThDwzo5YzviUzmTLTUAGz6sdvDdGDxgIGjkBoe0PtAcEBjT+zuwNT7d6s5dEL31hZqL2YFL84cqOzoB+22gI6ah6TsPMAekODOCvDCGlmHYJc8NcgT83lKPUgVmOYNwUAc7MyF2Mdc7ePePXwcOu4JcRQO0WoBvPCXEcZCtwkxvcbrI+xcNgcf2EcQvEsDwYbuzQTE9abxgCb0ducTbsb7b2b6qdIL8Qbtb2N1jLbnb1d1Q2NOxm+ouZJepdCOx2m+KisPDIBcUqGMoSod+YbxwHgXQAHzbdM8wCJMYhoD7yvQhU70gIb0QdsIHi76mfpcrnxgcgTlOhbq6d2QgKHuxkeIaX2VOxbwOLcsxY0ooCJK72Hgb+HkHkU5HfH6H+xgczBp1Un3Hq7g27YZm5klHg5A7lmgcyU26aMvLegANhHpH4HxHxwUVVsqIaciHln17gqOHmXwHpn1jNH1nmTlILH5mvHgnoJsH89qwOC3X579HqZyk0V+tAH5H0VxnsI9oAOwegID9PXwng3iUyn3c55WnjX+nrXxXwXyH-Xr0w33d7Hy6WpHnlU2CC3n4cnNXir+CJe3InvbP13nAl1oZNP03nxxaZPvj83rYRsq36mK7pX939n70p8o+CXiTLS+QJrxQNV83jZHJyEv7sj6qEoX7qobhdINgJLokF2ULgfmqYISfgNyZJiNUzvrzr6UAUr0RAGWNvDTcxvmJ0ANv8gJr4i55DfsL9X2723m+xSCJWrwhM-9ke7tTYf1QZtEiqrgqB-lCVn86+f6f2+r7LaHtCshJQrBI4oE0rx19fCuhUVqYwq5u9fCCzEARnTgGV5FAyA1gsQ0EwYD40SAokKALBB9wcBuBD9MQLwE8xWCjgZOpaVQFTMnCDhXQpr1oG6AfCjhFuvwmYEICWBlhGAdn2+w4DwB3jOgfn3oGICVO+uJwFhhy4c9t8CFTzk8yC6S804WgHDMVHkE+ElWi5TpFhkcDNcJQleRgDgl6wYh2G0nc3ljykHCcqeaUZ5DgOiT4CM61AgouoMsIN8tcooY3sQN2J9gtSsCBqDoL0HigDBRnUQbzxFAqBVA+wHAbCWIHR984cnaKGHC07Z8rBxPBVKKwiH7A9OAdfziYOFwsdReAfE8opxXYHxny+-TIeWxu5LEzULAStoEQHC6hagd8OgMj0aHqUI0dAUHnFywZC5Whdbdoc0M6RdCb6BzYDoJn6EF93K6TJmLUPqENRBhLQ2YdkGr7uxpsUw4WikEWHDDNsjhIkG4ErzZ18M90DofwlaGaUThQwmoN0KAZbN+hrzbYdcNGEIdxhtZdYdwge6pV9hadM1L5G2GKBHhIwjtjVE+G4wahKw8nNNnBKtplhdQ-ALqEtgY03oRCXAvCPkD1RywlgbIJEzmEWZAoXsBZmiPIAYjwRazUkZN1ZzkjXmNqA5t8MYCHC-hlwu+ENFxywiO2oIggAiJJGwicREI5HGyOhHXp2BVAvoOlEcSUEvGdjTSvIG4FuFHutghwawXsEUCwQTgitJwNYHMpYKngxUfGmyLsDBBUog-jKNCGF4PQxI-bI4Asod9ohRA3UfWANCrhNR4g+ZOaJ1hWj2+NRc0dKKdE8CehZpJLvgCPSM0z2VodiEGMHSM0DOaYDwN6ONGoJXmZpDwtqBmBSDzRRgV5sKJMgLZxRGcOMY6NlEOFaRyQlNOmNADppRQorR0XWzdGWjrRNRD9OmI2HCgP01Y5sR8FrHbh6xUbHPqME97DQT0bY-sR1FYFLtwxwYj1tUN1T70XEPInPD0NFYFUORNqPwibCa54RYkmSDLlPydD+tQuKwXQG+xNHrtWB8o42vWJ7gmhso59HIhaK7GejFAR41cHuJJCL1NhNUE8a4KAYXiToOTCMZXg9bUjOExracVYFnFYi1mP4q8dtBu6EBlm+Aq4L2IraasQO8gQURJlq6YjahMvZHsNxuEBAIehCWrjhLl61Bv8twpwMbx0LBAbUIoOgDdwQmXBHAAPXoEhLPEZRhuhCVCbvQomtBWIw3IwPk2eYihhue9KwKAC6IAAJRWo4AACC4AcAIrQABKXRSAAAHkNayAAqEoUTxXEj+9lF8Ugl7E6xCx0AnoXBMwqp1Lgxk-bHW0wmMTwOmXaEDZNsBLtMJMgLWE5PoALN3J3ibcQGyMm4EpJMk+SYpJUnqTNJPky3g5KfZeTAQnY6CroUwmkjzIVk5ifL1YkJT6wyXHcSsHEikjFBeDfAf5P3HOSEppk3AqSIdAIiLM68R0cMRxiTJ1xU4WYOeEMm8h6pLACGuiP2wVSNhekpriVNUQuTiAFUkdPvUyjBtmQJAVrgVAAAMyhH6PEH4g9wpp+7FCJQH4QJoppKgGaViEITMxK8002AowFeI8AtRK0Q6faF2knSFm32ZaXxKEGGj4BV0yttyCBqbTcCordiDO0EqsRXp6088JtJ150FJRQTVceA00DOFaBTgIkAcmDY4Iaea0rkEblERUDxQiha4qtKOmAz0Z1-FvmOlmH2h+IMgacLW274Z5LBGnIaMEHulYzaBIQgGSjOrboyTiIrFIe2xpl-TT0lgYmaTJ7GHt2x-gImY4BJnSBpwrneDhyzM7KdMGIssWdOCukQy7AA4TEBKHRBttVArZCAXQNPGIlr08s-mWZKHKx9LBRPaqNKRjGgydZYwc2cNDRhMx2gbg+IQ9GsEfAIkDQZUQQKoHngjyFU52TILj5k90BYQq0EGMiie90ghs8WegN1ExC-eT5JEOXzdmBztOGYiaMEGjnTgSGccG5lnPyG7djuBAVJKIFF7lD3B+c2tjdyzF9B1ApoPDM9MgGRlQh7E3KHYIKjRC1RgwDUV+M7gxRPqnPHHrUliEUyZ0JAVYh6P0mxyVRMQ+0W+PfGRB-ZZ7cvhYOBBHFpAI8BlHgB-g7yQwHs3UV7McG+yCii80IQOTRgDzKJXPYefaO4Q+CJ53Y5gcOICC2jvUxAoWdVFYGj9l2HSRucIJkD+yg4ZiLuKrL4Qaz152soQWNJEbbzd5+JBVOOMjGTigFCQt2YnEuC-zOBp850c30Cxjpx5XxSeR31UDO9w+esoBgGJQ7-iox2rahYBPc5Wye8pCutj4WLF8SmF6csNjXPdA0l7gDckhRDTIWWE2FaY0HpmIwWBFsxdcvhWgNUDh8BFLckqmAB3k-w2ForEhScwzQWRs+ciutgQvbDdjGx7whlI2M2wfyAg+iohTURA7GL3xRQEDmYuflbBRxBzRBQBPmYujOcmBYNkCC8kVslMCFdqaNO-hXSrOdgTCOBDgkPAlZuhHXErMcKvTsuMSnoVs18xfp4ldbN1tIBJm1BQMzMVCgc2sbpKEZ6Er3B5FmDYzNowbQ8e0DYZJo7xwSz8XKKeTG1wIVeSpQdKhkXkYZPs+GeYySTPJLFv4muDVEsXdinxJk4cREtkBpY2lW4pWeYpSBNKHCF0tyEMugnn0qFE4mfpRF1LAT3O5KNRrUv2CJL3MygQ4eeAWXqJaSM488ClPWVjFto408ScFMcBKTOIAAGUVpaS9l3iRadegGn2Urp8UnqbYAqm6ELJPsgcNZKymvN7JVkiNMCpGluTLeHkypYCEcK+SWgSKoKdJLeWfLvlUUn4DFPRXIrdCVUqegXRqjJSeRjE9Ke2EymgroKiy5IOxCun5TYRckDYTSognnVfpbK4NhyoglyRlZ7kPYKSvKktyehVUokbVI6hXSv4kyCOoaCul9K6Bkq1gf1KsCDSkVGqywqKvuCxAjplrR8ccvqUmTRBWE7IJVNhHVT5AcqooAGNxhDQKV8wBoUyP4TqJ-YsU3Kc5ImW9TQh7YjkRHSRX+qwVoQ1mm6XJHVzDlJqy1qZKtVd8WlGUFMJjQKjESEuMbdiC0iOVYhgY4pRNMb1TWVRsihq7CrmrYamq81CaqkdLOLWYpYCBiGNlGrZEMTYZVk+7mWJSU3YdUYA7ibnLVSigpB-ag1TiEsBDTzgydRib4t9WJSF4WPRifdyCV2ybBxtTiQVDpUsTJsy6gchEgSbF4EgE68CbUK9pyIeV2E87jlICm0AhVtQ3fikFUAswZeHEIJbeuyBT5qoorIJboA5H7rLAOEIJYmr97JyfSZDeZN8FxBbIppU6qyWqsRmw0mVhCaZVEt5BKy84C6jtfwqZUrrcEa6xHoQk3UZTJsWU3dc8j-WHrXppI09ZNHPXYjL17KgqXEMfX7h6NgqgqQX1FZXSf1tVcjThEo0CjfERQ70ngvmTpdXpTIIJTOuvVzreJqq5daGN2ViafFy6g5ul0k07rcGXucUD6uk1SbSpMmgIBBvHWAaYN0KvTSSHFIRJmgOm-TeUleWhTlJqkjSeADzj2aFJjmiKT8q-VeTuNX8azUevoAFqEFFQDxWBpDLabKlcGouEZqg1HTTNiEtDZMCs3SBOkwKwhK8veVfKXNkwDLQSq83Z8uNZkWqv5uBVBaZ07EELTdx-rUA4ZkDKhjWrZGad76jCOrWg1a2xxExDpWEQc2q1wyIGtAVBtbBgKDb16ciHNSau-oDbCG7W9esn1vJdaIJ4JZjQ2wlBbFxtxylAgNpq3QV-lrfBwEjW20Aj9tUDBrYtqa1INUIx21FEdroAja62NIhDnSIZHHCmhzIjqOtrzXiJI4lDCgDdru2nbahbwObUVq-goNDtFDK7RQEBA-bs4mfORC2sW2zJltFW-ihxA+1sMQcYOokAAIkyMN8YzTS1eSPJW2rZVGMdeE6rh2G9bWQudHfsDx114K1+wCDiyqGQ3KwJdynkaOORAfAGyoEnEBzt5VfykQKITxJwkGjA6EdgOi5Mjp9ZrbY1G2kBKICYYKAcdY6Ijgx3BQE7Jd1qu2LaRJ01SydnUfcj5XahXA8ILMJQJP2whUBaQlJdXb2xXwoJ1mrcUQSysIIsCiqnvQzuIHnnviuIPEbznYHNGwpTpq5bYgBGF2sr7dJHHZCKsRZEI+dx67EV-Olk2oXW2utVtLqfWEc6OPbGPVEDl0Sx7QlrEHNHr7b18cAESG0ExK0pNDCEAATkUg0YHA2lRNe7CMEcYW9TQxNVQLcCZwQE05LHlmUSDTkV5MUOwNWTmnTkAgte9SooB1Y6sOIaAZffev96oKhos+rIRMJH3OzN9Pej1LyLqHk4BQdgKSA-jKHN8Z9Xe9Svvr71Ixq9l21Sk0NFUyAcleS9oOZGfCQaAdOu-0QttqFZ6Wqr+9Su-o+xo75deakHMAdyVFp8lZNCJESGY0ltWwhCdiAAEVjl9gGlizDby7ax067cUNhlsh4h8y8G42ogY-4m01A+4Cgz8AHathxSQ+1nLQZw1X6n9c+9iJJCkh1xcQv0VZkSGYYAxgqvHITaupTWEI32zAD9jn0ja0Hem8kEVQOU33nUuDUkQg+BVOnkksDzGoQ5JFX1sHtKigC1scsfEJz7YZkQDeF0i7aa74KYVg5PQi3ia8Q6miLYBuy52G4hBhpoedVkleSdgNhjGTiHjGSAIiLsNAPodk6uyN91+-YJwdUNSRLWZmR5dbF0NcGtiERrYTEbb3rwqpDqkccbuxikpjDn2iPZ3CwjQZVBSgFMKZJ-U+77AX+ywLVURDtjadj4yponoF3YSVxl6C-UUAINEGfQpB5TiJpNiYdGdqU5jUYSxBNB7ggtVuaABTASGzVmHGQ-UzkObEFDfvLuMQZmM80HmKHe4GkV9bTllDcRqSJhwWOYG5DQhkGApvMDKHijlajw-JBdlGkxeiQ8zeyGoBlRrD0XUw9OSU1HSJNXkoEK4a8kv5-jmPGKDsZpJ7HHmQOSMaumn3+BTj8RtctJv8PRdUjwhl48nPeMgatgqJtE4kZOgMB4jehuIXvpSkurbVeRmqBTuGSPH9g-Yq3RUdpDVHXdZkOoxvi-jNH1ErRjk2zv51t7ujwG5FGMZNU6sXxoJwg2WxooAAhVwJKG02V4ti8pzQFyqcVKVR84AWQDkEYDdJvEYB+tuxCUmbTw0WxJSdQD7Rcr78U+pyIvu-iHHusi0CUyYalMpdFAB2hoM6EByKnyAypoIcafYjqntMvuhlDRVhAW7Ud38fiJQAABewID1sYkdMImjjzaN059o9M7j3YMgYEPsAVNKnNpQZtUxqfrAAA2OaVWftOpnnTSJ5QpmcrXZnpeUXSEL6dHySS4mdoGM+xFklaQ7gkgLYrAFtM0VoAeobDOKAtMcQAAsl+FACyTbIIOAAOwAAOFM29kRPHHFIjZ-YM2dC5em567Zlqp2anBYgtifZ3JXQEHMcRhz9YSM2oGjNbEB2IIHqPqbj21nNzGZqQ4+nGN7nm4eZytTRRPPdnzz-Zq80OdtMoBqzNZjc+mddPfm7gv56U2MUxAGmHAL0IC12bPMcQLzA5iC3eb9NFmVTwZ0M++dgsumGzCFpwJKelOtm5TgOAAGK14ti0AXmuxAAAiI5wHGOcaATmpzJp2STkBsocRwARM447oEuwOnyL9ZrADufn3SnvTR586kxYoAsW2LnFgi6PijNuAnzzAF89kDfPrmnTn5+Cw+yQuemrzEEAs4xeYscRWLWxDSxJYACs1ZqS8ZbgvbmqL5lnMyhaxDdI6AGFmy6pbsvqWuLo+f04GdVMcRSLRltMxRZwByW-zMptszRS6L8QzU5QVwFsQ+UtgtiytTSy1XlM0l+d0rP0+pS2KiXjglp608ma-y7CDAH5jy7Ja8s0XPTil1K+ldtBZWOIOVlgHlbCstVtL2F7+AoCa7EAjcOGbTG5bisyXEryFgC9ZdHxpWMr3V7+L1f6v1hRULlqs9NbrNbnmrZl1qz5aqB+X0LrEDqytcDZrXcrHEfK7oELMBnizUV7+DFd2smXKLh1907Re00pXAcSks1AFfiA9mPlsCBwANfOq6m7iaFo06VdHywBhwWxLorzOqs2n6wK5+0w1ekv7W5rbVw8zRX+uPgNAwN0GzZQKvnUhrPZ586+eGvsQmYyaeICG0xvuX4rONnywtaUummAbRN7KyTdtPnZoLb1pq6zel6+W0LAV8639a5tA2ebhAMG2TfYjAWabuF8CzebIvM2ZLB1j9t5ZFsnWxbgV8K0RZLPRWyz91wHAAHVgQDQQgFOGEvfw1JLgYg2rZmv7XNbP5o6y2Z+v0XR8FtxgFbZttbF7bGh8G+xHADpWjTdASvLzVSsYgtikks1K-w4hWnUbsVva1+c+tZmFLeN825betvlBbb7EQO47flt9prI41pYqIi2KEgQQWxfiFmnuhO3U7plrW+7f3OWX8zHNn237bzsB2HbZ5+sDwG2s7Wmbzt5tK7cQst39wdFrdjRXAD8Myg-F9iIrQi5hmTTZtzeLblNs6nmu0YbK5klQq6AeAGNxqyzZatfXcbPpme3PeoAL2l7Jtk0yUz8FUBWCWxJrpMXwB+t4mj96DA3fetj3qLZ9tm1ZY5uz3mA194M7fZXtLnB7gtk++nabPIXdb-l-Wy1RAfz3wHy94O53dzv53C7fdmBxreFv7mp7gIUc9iHXFXXTTc9ANsHb7MBgSrm9lqjrQ4idmDTSZiq2JdtM8ByzKd3+4Q-3DtXuLZDrNBQ6tMRd-+DDhtp-Zmm6otiPbWyNLZ4dC3T7Gdiy+zdIeeirA1VsR+Jfvzo2h7x92a8o-gcWXEHZ1jm9ACEeaPE7VD8RyadQdgO8rGDxR-Fb-va2iHnt6e4DlkmcIHLogM264B0cz29Tp1mGxI4LvjWN738cADGMsC2mnLzjwx3A93OZ2L7XjnxxxHYt+OAnwdku0SEcRwY-WpoZQccfwfY2jHyT1R0A5orePvEvj-x8SNtNbXXLw9xu55aSfyWTHqFpBxLdHw1PZKGTrJw0-ltYP-bHEXB-xQScu2+HygLceKG+MCOtLD5nSxxDjOJntuwdim7pevvU2JnpTtO83YAfS9BEczzOlncWexBHzKzhM2w-lubOOIo11mONdICTWf7TV1xxPZmfngTnCzwa0s5ptU2DLfdsJ3c+-gAuWAb5+5+4GHCM2DHUz8px05zPHP5nZzoA+KFLv5OK7L6op9bpydou8n5dptuXhvg1267slSZ6PZ+jo5MkdAdK6xBYPzHFjBUSQw+1WOW7sDuUDY4oaS3PIfC5SAU+0dYK3KRTnCP3gSVZy8u62jaagOjH0m6pgj+zJEJy0zbF6TDrJlQeyfW6ZYJXtRj3bydKX+FLg5utQbFyAb7J5Bh9Y+qfW3rKkg0ghal7S-ktd027la1C4Dd0gsBH79YMvbCWyCP3jqbXAWw1cWh4A5rTr9m669oDuvPXugb1+Cg9czT-X-N5p6mZhMuwQYQAA')">function execute(exp) {
    return evaluate(exp, the_global_environment);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p14' class='permalink'></a><p>
      The
      
	<span style="color:green"><kbd>always-true</kbd> special form</span>
	<span style="color:blue">
	  <kbd>"always_true"</kbd> syntactic form
	</span>
      
      provides for a query that is always satisfied.  It ignores its contents
      (normally empty) and simply passes through all the frames in the input
      stream.
      
	<span style="color:green"><kbd>Always-true</kbd></span>
	<span style="color:blue">The <kbd>"always_true"</kbd>
	expression
	</span>
      
      is used by the
      
	<span style="color:green"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      selector (section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>)
      
      to provide bodies for rules that were defined without bodies (that is,
      rules whose bodies are always satisfied).
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (always-true ignore frame-stream) frame-stream)

(put 'always-true 'qeval always-true)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNA8QuFE3OIFCqGIfRcgUQh6GIOhKG4Gac14i8EjdUUQS0Cgsgmqaalmv1plKdaXMbFCxu26a9uk5pRTocgFDOxQdpmyh9pk-LCAYQxfAUFh8BOqijG+37G3wGQ0juh7Joul75roRarvdVINEIEFuVRcbHuh16ilKZG2F8fRhvzUb9CanLiAAD0IQI3GcDGod2mGWjh6w0PQ2cQNBhhTsMfRyFIMQGEp6niFpo16aevbYcW2woOu1IssoYIGAmlhqmyugJax6TSiJ9cScV5XVfV2KlYYPHqDRunzsZ1nmfh-15ZV+g2NRTotdtnWWjXZ2RGoN2tsxxnpex1ZEYYNg7pYYRyCFqmacMa2g+e0PYlKRLiAYMnNcjn6Y4YRcKHujbPqBv7eZtlO2Z0hpc+j2PfuEAnK6l+3U7DcPjHaGblEhyWXq9vXPraAtHDGrvR97z7mC0e7Zor5O9rthb29AJ3iEmyhcQ+Ua57BFuB-9QMPzVWoEdFdgPC8D2U8Hn3L+Ua+D5D8-UkC6fd+em-LqP72fnfnes8v7Pzbq-c2tMxB0D3t-Q+BpdY+3NNQSB0CQErywHLcO2cGAVGUJHSq9AYHWFwqAdBMR4HEy0KTS4sUcH7nwL7Hes1sEmEDgzKuoDHbh1ofzDWhC74-G4fgzWqCWYIxMsEGBFlrK2Qci4L6s1yAUw8l5PWHQtCFQitnQQhAUYE2RNwfmYgwhFndMKN8qRqbUAUP7agOZM7ZyoXQX8CpAraN0QXUgVibF2KztQum+jBACzCDRfChFTHtmdlDcovjBoEORM4ho54aYZDKqokmWDG56IcKzQyNdKZaBEELOGcF6DQNyTXRMficqFwhhtXm8Tq4VNDIYwwjSmkGiwQtEpUCv7xOfIUVxop36nVGDSNgsDQylGGVRX2BSwTJPGavWIzROwamWKEk8CpxHTgCVZGydlHKNSqS4LeJBlFuPxoVWI5xNHHOBKCBgXMeaEypq0tuJiYiuJuNiQxgIAB8f99aUMMSHearynS3NiS4IebxXbOHdiIxaHzBmpEoKQfgqgCZpMobCmx9AfgizYmjPuWMQ5LPIUCh6fsA4MJHsAxeTM0GhmMiNHFLs8W3UbJ0Dat0aB2MISHcKA1kyAuHt3MeRhKAKEoG8leHzXyig3pobedKJUfGlRMD5Az+JulWX5DZ-wFWpEjh8D+QDZqSo1QkviK1oWsrGlUUgprAEby-uqmVrMV76uPEREM55HXOqlSBU6jJDLYodXBQNn8LXurCJwL1IYjUMGmeuCNTqQLuu5lRa1-pXEBozUGrNqa-Lxh9Vqm1Akh4Tx7mNcpnzRYFujTKy1Hr40sxLdc8kNzhUsQ5o8sGDhEGQKlLde6xjiJfI0PoUd8UAVQkHRA9UcJuAzuCWcHtblDDckYPgfgzDcE8NRAvNhe15VmNFNWiVB8c0UmKtSINLUgSXqni6vex7+6HhdDq5IqQlVbzFZPceD6lklFAOkTIda1g6JmoMLdQhHl7sERrepkbG3mrBLGzcdaDRwZ3Yhlhh7mr6Gw32DOAGa2jLQ66+eLaJj9MYmW4i2rbVcII0IvhfZDqgn0Eh2KX0fp-UISB5o4G2D6vXVgLRQ8H5PwZSHD555MmMhkwwTJhC-Lnj3I+6k26EMgV40RzJn6VB3oXYnYdoRGR9q5mZpBX4tPGdceG-QmSwUFOEEUnM3ToFabae0mutmLNvJI-5hoK8IUbvMEPABM9qP7zk+8id37BK3EzimgsxHoLOffsLBOScT2MpZhFyTdyh5Dp6RaxFS0TPvAECGoEznyt7yLQWOOIsxbCIZcvdt5JyulwE-9VNfNF3Nf48DAVuYqKCoCsl06QqStQtFQZghVWPl9bG39FrY1luMA26wj93AQthftTxtjGstttbyytrrfnQuxHC35VxeqJN4Gzi1OQigIAwHgEgVAfU0DEkiz+iO-tjqEORclm6vAfpkHB6AAAPvDxSF60XVDEHDxHyPUi-T+v0TrBXwiY5fKkUTcOYhE-9O+Cop9BjXqFVoo6m0tvg4iIUGbLGD7za0aKZgYgJAeY5pI9kfR7hiGqyiguS5r2gAAGQy96P0WnXWVJAkoCL3nXO7k3Qhiz9nAkefkD57UEHc4QHghnRooH1Iy4gzBjO3XzGBJzH0BGa9xXudIxG-SgnEOWMG6NwL7jZumvPUt1okPTC9sO9iK453EY491iE-yc44evdMNOpd0Widrs+6SyxhPtpXddeT1b0UO3o-1r96iw3-OTfxYKxZEsQh9NndRPCBHSPiei9r4Ls3eZPEOn3XgjW7eKcGn9z3oPCXwRYJ22Hu5O3+vjel3+WPiuXeJ4L-trGkwItaMXxn3LWf8sfpMWvkYEYi8E5LwtkVa0o75yPx1ivEveeT9N9Puuj-47H-oPPxbX+scNSxcZAS+5cL+yW3ygMA2-a4M903AW+Se9OdygBqm+ATcEB+e6+l+iebu7uWub836ZqcWmB+u1eAedeQu4IMWTa-+IqOWP+z+K+yw5+gwV+H6+Bi2oouKAcFey0ZB3exuve0+PB8KjYT+2edAo+nelO5B7+9e-cje7KNKr6oee+dyoh+KjYhKlsJMzBMeyWfagQMgQueI6hi2mhnKtK4qChWMZ+hhDyxhQupIyBFhyhYh5s4yZAvKtiJKts9hLGRhlQQuOgnBd+qQz6QG0qS0r+NeQh3G7qFkkRdBLEZGkRtGMRDhc44IyR3AmGrhIqkRxBb6LazwsQLByWiB7qJeWi+axRbqwGARTu6++R66WiNMVGJRmGTRbomEwGBRLEiqm8Kq4qvcGRPRwOpOrRKeBBEc6wnRDRVqEx4cpOfRVqYRgx2OXIsmueeuq0ch8RH+DeokMmKRbkKmam+hBhWBF+uBxemuXBSMOiqMvCVx-B+xghgeRxihokFsVsf+5hIqnSjBkhpBboiBbuAxbkhimeHW76dhq+lR2Bie7BO+xWr2xy72bUX2nUv2PUlgpeqK6KauBMFM4ukO2OckHAQg+gZJJCkyoAFMikxkpApktJFkOO1J0KVMJgWgwgAQJgxAvhwgjQlut+qRqWMSyY+gwBkgZAbyrmiWexaI3G4I500S2c4It2MEPCIBTq3AipCaMxjxkSU0GpxypM5JVenxlBMgShUShSmpgJLEWCspdSlpvuAkQRJhdpoAZhUJ5gGS6BeiVpXpjhwRvpLhbRdynSxS8gFWYIMgoZbo3ppM3AoRDxIqZG6WVKcyyZKp2ROZWpNWeZAZwOOZ+gp0+Z4cb+hxYIp0FkRZzpbkOZsyX8VZnp4JyJtoVZGxQ0jgXwicdAgsXS8Z0CcqeeAkEYRp4pbkdRcgOuE5ypCuIwM554aumcf6uIo5pSz0jIomJws51wkpC5900BwMbyPM1ZCE555clEqaa6xpQJRcmce29SL5ZR5RjuXZIwp51E0Zi2f5W275EMn5MQy5EYf5fZUWFM7mnm3mbqNul5nQCp6wm5LMnZaIM0Ygaut5uo4QwkQIHAw5uFa4SwDJN5ZGf5eFyF+FBpaFnmSyzQxFOFqgNF4QAAPMCNhaRShSBrpC0KyRIuCAACpyQpZ0C+CBJiDQ7PQtQ0jPHUC1DNDgigAADU9JTSHwniw5QoBMb54QGlxZqlGlR2MQ2laOellZfF-FLJbJol4lMgxA9k0lsl881IWIKMSlIpok6lmlFSFlulMg+lSFhlokFkflZl96OlYgVlZFN+DOckEkYBg2GWe28mxEUmcMEcck2IS5KwWiuGNF9546hkEuUxoVR2us2V6I2IUVMQPcg5aO8FY5X84WR2zQe2KuK5sGlV7Ssw6+8VUVnV26G+D4oV1oPZNlHaeEiaZiC03VG5QswxLVu5p6TG0w2yeFUidAv05QYGEMVyR4BEmyfY-qL5jI85L5hMPWfYriRVQFb5pMH52p0EQFzyUFxm8YXay5C0OVRAN1i0mZLE62NuzO6Vk2bAGV5IWVOY-1eVGFG1MQhVo1b5JV1WKw5VGQYEfV0E1VcNtVmWFSjV+AQ5I5cZa1YI7V6EnVNu3VzuBlIWpQpEzuZF95-FSkRVmEE194WQ8VX11y-lRQr4C1hFwum5K1O5CZGNm1Ql04ENeye1IgB1905yEeWkAteEjGhk51EMl1qGWc11Cad1yWD1L5KVIF90OSd271VEltjoM1-k31350KNVuVgN6JsgmJrUn2HUP23U-22AR5wOli1ifK9iFp8SyxE+dZjiFkod3ixAZx5gCd4dDAViKMcWvCUdiJNxbBiefS8254qdvhUpR6Vm3Gzogu4IcwxZsQcwE41ttcqpHIddMQHIjdfm1dCEbdk4cEndVdqpHMvdHMA90w1dUOmQxZk9bA-oTdRQ1dwUKM5AvgxZS9kcUlBo89hQ1d2ybd2yfY29sQ1dNwau5sLAhgWpp9qg59LUKwR9MQ1dalvdsQ7JoAvgBFAKSiGlm9D99y2R7kL9MQb9H9-yjJHk79MQf91dy60wIDn94DkIkDoA0DqpwAQDBgFM3AoDAIX9oAYAv9XdqpAApBg-A2A0osQ8g6g9kYRS-eQ7g+A2LR-UQ9kQAITCT0NYPv0INKIcNAgsOD3ZEcVkPcM4N4NcUxCCPj2qkcUAhAMMMSNAg8OsNgjgh-KiPYO8OgAApSM0NqN-LyPcBFCKPgOGN6OqMQhsMYPgOFCMMxBsOxBknOhOjF2eJh2l1YJvmAghhQFzDcAl0+JvauN3qBMR1QqPIsAABWvJj6vjU6yIYD3d7jidxZiBfSf9RQYTZdzUToRUtWPAKTadTe7lRF3G1dqyxZqymTd2-9ajkAdAao-sq9xjDTTTW8NTd2J9VAN9sAkAbd19DAfTnToW3TZ9AAor3YM+MyM-5tXQAHLkDzMYOLPzMc01whMFPZMlMZpIU+MrBQHKBgPO7KB2zbPFTN5rpuNeLFMXPp5237PTCHPHPdlbSbiFM3Ol07NrrB0XK4jZMOIBKGIczVl4y4jVBigfikD4zNVRPkB5hbqeKaBE3bjZMZ0cB7zZ3ZKvUNDAuggIhFASaFX8QfRS3QLVn5IwarUJkot9jIwwYylFOePHIW2Hb+bnO1bN4W2zOxD0siCMufNBMsv4DROxNsvtIcuMLBp208vt0i5bnUt7zFYcACBLViBfAsA-Bkt7lPokuKtfx5MYlQpYm+3fZdR-aYBW5vBorkCmAMDdwfBVQ3CkDXz97UBPiYUrHQ4sCw6IFutPiTAhgDW3GF6J7+t-C75+XggMAmXRWWXBVDCvPWUD4RuBsrDNB+v8zuuptlkmYKA3DDw1J8mSoxWlUu2CDKDKDQ4ZAkxGAGKVsIMtQaV8yVvdXgiqWlDttrzhW+UaW2unM4uhjtt5Go7DmPm-MOCFzGAlto4GJBJzuCyTv8zGDPD-jLmBViBRsQh+UTQFvGBFtShQEwlLtOpcDSWapGXWDgi5snvGBMBkAKB8wCzVkz1Pti5BuiSibaTTBOyC6GLhBy7STmJpDY1jVZD-uE7w49Vgdvtyj8OiTFDwgfuJsjD-ttuIeKSlDWsUB2sOuxTOvXz-vMkRJ-G8JoeAcTja5nnAntagkQfkqiTbsaW3uZwbSPvO4tKwdyimUTiqWxt7awH240dXaawQeRW8e9tlB0BTuscPsof522icf0eGW5LwjfsGgrLSfLtjRiSgjFkgpScyf3ukA8SpxOw3lEcBiGfacQg93cCC4cfPuTXgfPt2wsfGc8QhhOwbuwcfvggADksbvyRlgXXncbQVBM-7N7Wnp79rBYpABM3cCXL7JOoH90MO04zuSX0jtT1dQgwgxlwQxldkWkFk5oaYxl6KHA8IabB01np78n+g2XdsEYzX3A7nbHZn9X07WX8XLDvNTXfXbnMXd7zXwNbkcLCLygSL0rqaHiHgWeLyhAKX5sil-xmswsqcXG2RpHbe3Awnv+G3VMsrKW2Ik36w031AmgF21MC3bgC7vMm3tXRkKxi5x3H71diHeRYNXM9uT3YXws435g2X83vcbgS31WSau3dMT35a-qLLXVQIIYAnv3OuB3z+T3Habjd3xgHmLSjIUBIPt3YPbynHmPLiyWXjdNYt4IPdH7N5zuxPWexuLSdsiBTPbgLPQSu+YXVPA2bbw99P8gJPXPRivPCP1Pqk53iLV3s3BY6nOMfdOyEvA2g7sQUB0vl313GeHPpPQSEPz3SkN5fPwMATwvzPeP3P3qJ1hq56JOb3y3Mtrin3xZKPduDv9GBq5aTmVM4mkKIqpyY0m3nrooN5m3H7zu4f6bglbJwsO1MihyEhbkgfydLg1rclEPIfFiS4UfdX05730fW1cfok0iBy3JtHbk6f88YpqeGkps9CPr5swgFQgwwfk5vRvgJAmfNP5XdUubAwePnPmkVUambfy5Jz9Acyj3x30FLgZGasfsw5yb2bHA95G4nrN54bq-kNG4ubC-bEw5WaKbjw+-aO1Zzup-w5zZ5gl-gsIyt-1ZEYD-e-1QB-gsEL1FW-Z7UFnrVYngX-+3D8rm0pb8sABO-b-h+Q35Lh5+r-NHMv1HDgC7YUFIHsDn7yZ92+wOWsl8SppUwLIiHWfu6E5azR3WlCYvn+Xa67Vd0hSfvAwHUAiAOApAarFolyCEAsUx3ctDECTRoDYeSNW9AU1v7KZYBh-D-kbVwGtRQKjtctlTk-BSgH+VVKTkrQ8w0C6BwgBgUt0AGgUOqJmVgS5iEF38AYD-TWgxht7hJgOYfGfhwKKCuIbyLAgmJHxn7cBbBMHJ7kYK968Dy2gPEMAxAYiuInBm3FAdFX6AKBVuJAQpBUA3pdg2Q4QlesbkMCkgs+IHTIEYDMIftohvgWIcSCeBhcGeLRMwmr2AaNs0UQQkIVSzSFdgihd0MiIYDyH1V2kZQjzHEJqJa5ZoZAakj4nqHJDuA9Qz6PEIwFeskh1QrbqxAIgxCGhmQrrjkJGCDD8hBgBBtUA2htDM4HQ7oXEKeAzD-QTwMBtpWKGYQzCCVO5NsMqEyBI4UqBJg4DyLVljhVAApNPECB3QS2xQqAgEgmC5srhlAG4YcMfafCVuUxCoZ5ys6iYwu8w1of0HaEjD0hgwQyAzT+GzNNhjDN4R8L+EPDKhfRO4aZwIEgCPMQoBhKCHbJZsEBMcOaOIKtoKY70AgoELf3TqMBP++IiCMSP-JSCOwJ8L0LoMX7vsGSmI+AXSMJEaCraxHDiDygYCn0uIlI+-noLtg8j6RBAgUd4SFFUAuIHELoVQF5GFg+hf5NtjIDrC1BVKfnTUXsG1EA92g7sRUaxCoDhAP26o8CtH1FBoCOI5oqzpiPTpgxKQuIi1CaMlFQUgR2fOCDKTNGy55cofJcISKGEyikgcoziGxQjB2j1hKwCMMGJjHTBQxjAYUWxUZ5miExTSZ3PGNqFvUPyXXGfFqIK4BCyaKrHKJ8NpLXklw3DOEQClEwEC1AJgLwObEYC990YrY5wNwCJ7KjQAIPH-sRHPApjk0osFJIyCTHhiuIXYoke2PoDitamfYXsUAOXKDiFkGUVSHqI4AFcP2gI6PiWMkBlikRy44cYsgCG8A72r-SmL6JegJCfOaYl6AQPSi3CghOINkN0F6Hkhzw2mdKM+MzC+AoyjIyFtThZHGJSgombtoYACHniKYDAIkKDEvHVZzw3QRkLeMcwUkj+OIcIJ20Q7dtug82FVqABEoAAJcZgwAACC4AcAOMwABKIlSAAAHl5myAIEAeStxOUIx4COvkRiTEqjqyp4zOJBMvE8ohhD4yCSzyH5HoBJ3hLrg+M6BcoxJzUXNtJMyDsS0wRGasoROIlkSKJ1EuiQxIUkDgRJg-DieLCTHVkHx5YyCdBKzCwSTJZXOSfQHcifCa+MZV-spOH7GTrh3hbiZ60+FZwThUBcpISOhz-ISMDYx+M2NcnoxAp5kScO8M8lSj8hrEtQBFM4keSkg3E5VpIDiAZBM4uQBwBtEZAAAGQ8lohqD2Rk02UkIS8VijUBBg4uCqblJaGkBGQVXHKVQPykaU8Qj2ZLC1Odh5SyAubMjKVKP4r8xoYAnqdDxyg1TKxPo8EF9yV7ZAKpE0xgDVOc5cjsIBAwIDOmGkOhUg1QBac2FJEFNxpa3c7DVP3LOVypHASqboWqm1S-IWiIoZnHsidBr4Y-TGqhO4HsDDI6cSUkNK-7qCspV0paenV9CGRzOOfAvhRSXCPSGAz0tgNfHsGO8MxMMuGdfHz6O9hMLQX3j9XLYoyXp+0-8v7xYgVBQhoQR5Ed0ICURj+EA0Ch8gemBAnp+M1UXNQiTcCb0rYeakaL5q0jt+joSwe9JYxooCwkgwWiYPcHFgyRggtkVSMNqLluJIsr9NaVWQuZ1mVnTUYRFqHhgGZsM-GaKIMH0ZYw6CNwWVVQlh97ReNdkNrNRmNc+ZiOS2cQEZnwznBhvPsM0HVnGBHa3giClbKZnHcAhjo7EVNFph-A1pZ7NcF5P7Fki9BUst-jLJpHUz5Z5IV8I42kE05WRb-dmdcQEgOA9K44tinrKGwP9ZxtTcOVKKOBC0veXA-mNZTYC-h-MeASEI3L9RRy2RMc5qiIJ1ylzkBIYVxCnKZGASvwcgi2TnOCp5zQ5GY-0AXIyxFycxRQT0dBGMiwUGWYAruYuNLQmDXwJMmDArE1ilywBn1SIPgzACNzIQPc5LAWP1FFiu02tAWZWiXmgCeZYczoInO+pEy3II83ECmJlILg7wfY5cuqJp7riDRVnC+RuIV5hwR4xon+UML-Jei0JhAMwkLVAwBywYQcxOCHIQUBNf5H5OBbaPiEfsUFBcUmugseCEA7wmCqUTEAblNzrR3o+CIgrlzhwbyZCoYR-LHlRiah-mKMaSAnkxA2FX8xnpwrnHTBGePC2eR0jzFhdQF2oiCW-GynDYjJTiBIVgMoLTi6AjZbKanxqy4JTxdMFqefyTb6Lr+LgHqWpn0UJDViKJRPEYqGF5c2Az03wESXl5ddECEYGxQELBbmxLpY0FqZ2L66S5YpaUnsf4r-mGgCmuCPHN4uakzQIY20v4LtM1j6KNMpmOgLnJXGhoJw-C+UWxUnE8peFYSnRaCQiXwZ9F+S2IAuIkHLk2F6SwBYWPAVpwwM2NAHvaji5kACYpi4MuNC5LeKTu1INHKWN2xIjqlR4u8bhMynqSGAlEyyAABlxmjExpZkGKkxlJASUlqbzC4mUK+hvEqkRUApgSSkgQk-SR+ApjG41l+ypxGF0UmNgzlxi8QAOBkneLeYakoiZMpmVzK9JIEAyY8vOXVkfJfLSEduDMlIiLJMEkwjZNnnUFspDkv4fCHyFAq0REIOaZCo4DQq0RNXDxc8VxBnKNloSrOW6B8lvD-J24FqWAxIyeLY4LUgmQE1SnqL4p5SRKTfWxU0r0pxY9FpnGy6Dc2lASvJfSMfF3Rflfw3yVQCJXTAAFAKQyH8ugxhDwRUobDGqEMkqTxYuSuKVBXWE1i-m3y5VUEs+q3ZHqMI-2S0o5XZcVRfKniIdKpCtBEmQIL8YH05XJcLI4aVpQlyOqV4BCysy1dkkw59LJoV0o1X1xNXfDiOHqzrC0JoxtdeV3w2RTsspgOg4J140dujmQmQdw4aApNcWKViBBkpk05accoUWKqlFxEJNJBNjVqLM5MQBCX4EZAgqrJJhUtY7XPBVtWSz0LNYMrRGPMa48Kp8d0FsmKLUVQQl1Vk34A4ge1+avtXdC1KGQLOdk2leqsbWbSQIai01Z7xvmdonyLED4MEDSwVSIW-E8xZHK2Y0rGQbwQpXouynGYi1xy2NSZJlrlq70iEoENWtxDWSaVRghtYkHnXeLTV7anSJ2vuHdrRILUsdQoAHWFBSow6gDVCscmDsbyvi2YWAznXNqep3w4zMbNflW4B+n65WGorzVuSC1y5IZPItLVIKGlGGylaWrC4YbsNdagCiKko3TqcNqIarBuszWLqd1ua6jWEqpB-QFVuG7TBMs0lUSaJ9E8AH5H43kTBNOk+ZVOsUXcB1V3GltWunLbggMQ17GjSDWb7eKCZTGjNVuqulsbdlWm5JQU3k1rLGQEyqZbMpE3khzNbyqTUuFg1ya2AHmNZShJYzKavAqmt+eYCGLKpfYUTC0sLDLZ4rJioHQLbcrqJvB-NKIJbkFtdU-lW+4KXNh0T83UJp+hAWLe8ROSJ4wtubHzf+mChRbpSYWixaFsS1qa5yBtArdQhi0GLVyZWtdS2QbTYIUghW5tMVr6Hozx2JU4gGIFGgeYOV7W8fuvhy3lbzAmvGbqaWhg1bD5X5YLdBxG1ea0+9AKJvgD2mRbUtAamEQkIVbraoUGMOgK1vIp1c9VaIsLpFtW2JKmtu20wAvAO2pbelDVQ1X11JgG1rt8WO7SiDjSkIba5tZDfNjA3gh8uxlR1dl2LLnbqgeTffC1ou08YWtG2iNVtr6F5bcQVWvbajpu1DDtxP7QgQsNBFLCZVAKicCDue11F0dYIMnXGgR1oickxCAoWAwK0w7ktFO2HYYEO006mkJ2oISXgB1FcHVT2tpWvWh0Q6lli2GoL1uBTzsqdXO7yYKsJVTp6VF1XBt9umCvtidbS6dD1r61OrIu3PMpTpF3FKxW1T4z6rLDgR9LhyAy01c9U0H-hAIImbGpBAaCc7+VQqAHSV2B387nVK6TXVoEh2lYTlVbUgewL6HOZi+arDVlqwprS0Ah422XszhaSbbqdRYe6rLr8ny7QwYqxSJTBMD8Axo6kZgMQJJhRVY913A+G+0p3kCoqlZfbp-VqFbUcwxc2pnsgT4uAOIk2JqZ5F7boJbdRQcECXrl5J0eeDJA3fuIRXzzOEomHFs7p4iu6h1fe+Fhdwm2nQPdFCdlX12LL96tseTAcYoma0hQN6jIAAJwnAod++lelboy2n7l628QVaDnlpEi8NHMiJL8LLXGCwkr4FwGLQKk3qig69FevoH87+cLIaAEAyBtFlhJxZMQP-XYJaKjLDI0B01enQ2jIjghfRO2C4C8j+kvBOM2IAgZ8l3662KWKCdAelHm83A2ut8NJ34CrgyAv0ROB03NUCBWgjIInmQfWU2dqgpUKNkcHRVJyzEdiUgHQeaagB4OORfUbNHby8DoDEITyF5F17BK2lhArg8okAYEsQw0h9zkauOBv6TwDEV8IurNiN8B+UoVoK-tI0VSsN9GujYorQIYFTDRg18AIaENbwRDqkROMRQ1r8zcD7EDejIdkNeQ1FggZvrUBUOyHfIOhoiN4JXUNBpD4Ifw53uy4XgxkMqUI2EaMF4GkREqwVSKu3CZ6mkmh57TmPz3N4SBY0VoCqNk0N7GoCDGWOsLV0JcmueRfpXuKN33C6xu+P3ixINpCBDA9kWHJwf4DwS70zBoEKwZx6+iGuAxgQEZR4P0ZdaY6RkPUcS5NGLdLRq3e0a6nWlScf5I7TJHNz4AUsEYtHKaOYBSR-wmnIzhyuKOF7KE5R6DjsbtjV7qjYDGWB4vsUr0nFeeyBJusT3S61Rv2v4bPrUadAHFnxlfZSm136d3jjipgOin-JYBdeFB-zq2P0DCKAAOlgDI1SqPMZsGQMEEfaT736WjOUNBCAOiQnDpNQfScERMcrkTYk1E3OIxNYnSZTAehHiZM6+ifRvAVcHbB6A3luToAAAF7vNQAGJooP8tZNZx8TTxnoMKZJM6QyT4ICk8YEKhQRJM3R94H0enDInsTkp9k4+zEb2dVS5AYyiwGMrKBjKBXSYP5ydB4AaTz2nUyydxPSnDTdTCECaY5LmnLTNXRU75CAA')">function always_true(ignore, frame_stream) {
    return frame_stream;
}
put("always_true", "evaluate_query", always_true);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p15' class='permalink'></a><p>
      The selectors that define the
      
	<span style="color:green">syntax</span>
	<span style="color:blue">structure</span>
      
      of <kbd>not</kbd>
      and
      
	<span style="color:green"><kbd>lisp-value</kbd></span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	</span>
      
      are given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.3' class='permalink'></a><h1>
    4.4.4.3&nbsp;&nbsp;&nbsp;Finding Assertions by Pattern Matching</h1></div>
    
    
    <div class='permalink'>
<a name='p16' class='permalink'></a><p>
      
      
      
	<span style="color:green"><kbd>Find-assertions</kbd>,
	</span>
	<span style="color:blue">
	  The function <kbd>find_assertions</kbd>,
	</span>
      
      called by
      
	<span style="color:green"><kbd>simple-query</kbd>
	</span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), takes as input a pattern
      and a frame. It returns a stream of frames, each extending the given one
      by a data-base match of the given pattern.  It uses
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) to get a stream of all the
      assertions in the data base that should be checked for a match against the
      pattern and the frame.  The reason for
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      here is that we can often apply simple tests that will eliminate many of
      the entries in the data base from the pool of candidates for a successful
      match. The system would still work if we eliminated
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      and simply checked a stream of all assertions in the data base, but
      the computation would be less efficient because we would need to make
      many more calls to the matcher.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (find-assertions pattern frame)
  (stream-flatmap (lambda (datum)
                    (check-an-assertion datum pattern frame))
                  (fetch-assertions pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNMdiHJgR0IOZSPIz1xhhFsmlFGgeL46QunqbpQDEWgmDExpiP9fcBBA4saPPCQOE0S9qjkMiWLY8S2zFawpNHWQNP7IEd1Aaz+IEI8UhCK87NklJelcXzjGQwYXiUhhwLo5R8OUCY53wViVMCNS6BM4TlKo7Sz3C0AGIA0QgNYxD2M4mRuMEXibOMoS31EwiGiU0h3ShGRGOYlK6gc5IrkiUQwN0nCfXCSJItAaLRFimE2vahpsqY3LTLM5J5MU5SavqRKNK009aOrfTDMawS5u8xoOK4qzSuk2z10barzgASHqOqGpqZK30SO7Jo6gaZE63qDOGmLWIm97GivfaUphRC3qMRbRCU+LAQezzLoEKL-oKpp-IWtYMdAQLkQEKwwlIOMZDYYV6gkp8MnSKiIP-dDMIgtyjA8OmMO4JmlUp6maZVELSEZ96PF50ZSA549RijSI2GUCCAFVCArQhKAAdxoJ1RldZEAFotaylKEMO0BsYp-HaEJuM4RwRL1ZdQs8pA59phY-wukS0N-Som3NepZ3abQtmDawRLfQ9x1nW9vLIOF0LA4LILHY4D0VXxwhgxkaKGHIVq-tGuKaop76M6zl6c7Gy3cZoJPBBVYMOCLlKZCrlPgzJ4wKdXJua8Q3oK9ATvU7r-7G+Trv4opq9+5b8v+hQyeOBVDhI3Yd965Lpe2DzkULKLTb05YTPs-X1jp8RIKmAADypWRV+9UumGUI-W6MAvPoTye94PkuRrGh+XQ37v7wzzPpffgQgOIcGImBfg4Eb73xUBSX+y8n6xmoL+SeIE54LyPh-Yut9H6GwpiVYc5VJ72VlApEBggcHZwEAgnGf9WLbkuBSRM1IsREyiMPauA9v7vlIQsOh+COThjABXWg9DowQBgPAJAqA0DyDQJoQBp9kQ7G6omOcMh6xsG4NQaByDCGdnwGwD0owtHRl0fxYYuhQAAB9bHbh2GCGu5idF6OsUYexjjrAejQu8QgrjLH6LsQ4po4o9iBPcaQGxnjQlHVOsQlykSrHRJPo+dRGtcq8OScEvQrgt6bBoNooJwxLZx1UdYKowZQxCG6vQHJwxLwxHdC3Me28OwcG+sUqJugABkvSly3G6SkkE1MsrNKqWU3u4pl4NOiW0wpHSqk1I4HU8CwzoEy0IMvQO8Je60AkCYyguVKC4BsLMjZHj87tNXFeS50SAHlMsNYbS5BgyEA3sMOZBj2k7GWT4NZcyZavPeZ8-mADe4go+dA3whzfEOHuT8xZtyjIosaoi8GaSUJQrBYPXOHAL7cGYCWQY3yFntjRQ4O5Fiel3ieR0kQxBxC21JYi8llkWkrMBfcmWalAz1UZcy72CEQneM5QCnqPLQAQVgcUJl+9hW6C8WEypLBqkSvqVKiCFc5VCsLLs+lgqFV2wOUchFNKRkqXbrcK8lLvmYo5L3I1LLqB4tigS8+RKmAkuoGSwi1q9QyCvNStxIy6XTOsOIExtCPVep9QEtl-rfmqvVbUyVFrNnSqjR6GNhLiW0EGAa3u2aY1hAYYmWFZraB+qSBTJkcg4XHI4Kc85G9lB2oxRCoByIS0sETpQAQEga1txuTaoyIaSkPMeRGjgEkaQUiYGC4dz9k3irTZqjNjTpVzvoAusFRbu00DnXm71BbfWJtraOwNE7aVTMPR078+NCyaIva2RZfy1VcvTaGzNEFH3kGfblE98aRXKviWu1Z37J28uoE+wYgFd0jH3V2lRRTYMAfg7lL1+MmIjGXesRZazZ28SBaAJwWKgr-sAxA1B05YpfNfSuwjYFiO4FIzoCjyIqOYa4KIVhropj4YpkR5gbGpV5jvahjpSkZz8GIO+egbB5lJvfSmr99TFOkBljJ+j8mD1SYTjpuTCnMSkGbCp9sgKIJGZIEwCC+JTMEk4zQGz8n51IegdWzThJjCXuRWOvapm7y9xHAweg7nF3QLKEp8zfmKW3E005x197iX1UQ5F4YXnHNP3HkZRLKHHw7EXdwUgelXMmZizl1dXZ8vOY6eIcL6Wl35atdViJINsvTvvTsL0ZYKz4YI+2D9qbIMbp-VuiCvXiAVn04+KbFZ+2DoGwG2QN6w2ScKy83g3VcOss3cpuLHL-nrvWft4F23yC7eoLNlCOrgNnoTftqr-nr1GQxXV-etd7uDGrYxwbWw7Vrf0eG7r1gM4yEJUiobamNXgUJTLNwBr6WE1YYyCkxNCYCK0-QpB7KyQMKpjTXA1RpAQVAIqDw2qScCAFu5BSM5NGY-gfMinOON6+fqMqMH+8voUl0Kzi+V955nMgfQKLTPaHY8foqLnnTPqEz6QMnY31JdkMcij0YbD0ecKvArwGQMjBXlV-rg3GuLBo44TcQNeuxYG+MKuY3tu7ds-yjL6VxOoSk42yhAtqdxikFdWCC058odbG+ufZQxpQDyi61JuMGYFuBi4CWEWpLtKp+oMoWTDA9JM+z3pR+8VErsLjMR0ifGQJm615b-Pcvsfp9CoMZQTvne16EW+9sJeohl7sB7MZVPPc09Z-KN3vvgz+8D7SEm2ue98dj4+fASl56lXPrzg7HeOXONTlb2QCv58oXduadgulcILgImsRK4iqLuxPxFasHGCnQ44M5ASug5R7E5rQb3QVk4Xw4NhU5NfZBRKBcECVcBXAhVdcHBcN-aVRHTmBcMpf3UAAAFQAAkABRDgAAQXAHAAwIACUUDIAAB5AAOWQConlC6HpVwA2FLwb0LGrSr0QX-jxyciX1-1XyrzV2ZhDA2GXxEHPh8EYJ+zX1YV4M5kPznFylENQTq2kPsGTz5jENDxoHQKwNwPwKINIIoIUIEK4JEJT0b1QXEM1zUP4LSyny4P-22kAJ4OBWMMLC1iD3YCRwjEPXEUjEkSgDgEQGQHQAUXkGUUfCYG-gXVI34AmGeyfwyRdHNXG2iXHBZgA0yTdXfERXHFl22Q3m+WSNQnpm4ErXhXSIbTNWbTORyIyKe2UCiMkOPB2AKB229jyMaA8CaKHTCJigiLu09XzT20SISAUkIGiJN0BCIxbV4WrU+1jX6NMMRVqJGK3Delly9gDwYBoxMRVBaMyLaIUnCLwzWIbE2KrgjgDy4Auyu0e0GMWOiKyIfXQ0A1aIHH2MAm42oBfTO2GLuMaFl17VmNPQGMnXqNAA8ATgrianYBzT7TLWXgrVNXhV+xqJbxSH+N8SWwWO+JBNl3K2ePqA8C6NylxPKwizBSRMGKGLqPuKKx0VK1JKi12JeJf1cl+I6XmzxPIUJMTkYn6ylSpNZJ2B3SqA8wYye3yK5KFL3QZK+P5IaFlxxWlMGPFJGmULeWhVFMSNuOcBWI6R1WdR2Ke0hnJzegJIOPfD1IzFmkoBox-CqGGF1W+S1OpOsH1MLA5OSFNMAldKBKiSdNZIlgbFIzlgViVlVjoAkGGBYHPlAB1leNGgXSR0hW2yHVxGUE+1i2MGOmKmsCJXIDYAw0+AhNxGumSApg6M6UznzIoELMPRZDxADAYGDCS2MGhlhizJ2G6SHEXlrOLOQSMDWm9V7xAkJNnDwx1XRJTKIENGdxSEF1AQJRGIiGoCXRRIch1VhI3kTGrWLLGJnMCHTN3L3ICkPQXImCXPVPAl7LRg32eWI0KVKOJV7xBMcjnV4RtKpHAkfLnzchCGZMOlbOWnOADMiFTOlXlkVhVjJHvVKz4BjN1g6MDhbOEWLRY0mP+mrUJVoC1LhjrWxE+wyGyBHIiM+y1NqM9SSz2XvS5PeO2QSOgyxPYL+QYD9CiE6LNPMWrmo2w0uwiMxLqOfM9PjLwxoreNo1kw1OBL9P9PYpEtkL401wE2qJuKxO-2RC5OJMc2wpqnbOsGKzpI0sqz7JHUWT-KxgUhhmUh0tWWLCsKlK+XyyMqY3bCIrHIiEa2FIy3Any0UDqMNgArhi-FQX9FC3cqU3SJAiPBcvNLctspFK8uyx8qWMNlcCstfKHhCqsLCt4RLPMkWQyppCyv+mSpbPMthhWhSApnUro2MxkDFlS3pMy2izMwSF8sVGxl6EoqkwmLOSIChTmCqIzOMs72xCqIIulSgl6pJXeWkHgmUAGv3yCloCYmpEoD9F1WNTEL+22CKicWqts3tQCv7KCpyBixAhJKa082+WKqco5T0rKz2vkyasPHanf3sA5hCAKFATkGWubTWu9NMPyouvss60PPaiWqT1WoFUtI2tMNXJSEMwevfHqqBrMyevBmvKNlKsAvJlXX+uuOBKPBSPqTxuKOOXtSPBCGoKxmQqopVPZL5KWKL2OonIwR5MWyHURUNkSmahhjOp+shvWpdR-EbgHQkAxsSkmoLWmqbBAm6uf22SmqSR5ubKGq2CipFsHTIqFyiPPKXWVtBqPKaElrVOkCwvJ0Nrt34tUpoAlO3gatO01IYuuUWQTjStzlqvanVuPT6MBPPRqKxIWrUpVIVIkt9Kdov2Ot4WHPYpDvqjfO+z9uUtatcChVJqySHljrTsdLvi1MgMWV4WtrjMFoNMdrqPilToRKbWyRJsrrop6WbyPPVpJvjp9vjUdLhqaCtsfy2FMvtFEU8IkRjF8JkQCPkRzBCJQiYpYqHRD0Yp8T8VYACVnu3A8HPiYQUgYElhkAj2lV8WOUXooT4DIGkFrAzCYHICmAECCETPvXBNrI3I2FGDNonK0u7poCs07KKArnszFgfq3OUBfpUuSykw7JpS7KLIsOG3U0vJgzcXAcPRuyCnXIVU3KfpxAsJExI1wGUHI2AcfHHNFvQfYMwbY2wdAAfx7nvTu0XKjAvKIedssxY1ExxGUAkxpoMxYBfDdtig4o-IwZ6ggm4bs2UG-D4bq0FLtuyWyrnog0BV4RliEcQeRCEffKi2kYYYBwCwcGysDptpIH-DH1PN1qizLo0ZoCvFasoak3yuwVMbfsGUDUsaDmOtIGaTuqMdobBRAipvpXBIYTKMRJRlzkGpupoG+lrrNqmIK1uwYTTu3IYR8w51VpoFXCESsfwdiamJxASf0HyRvL1kajSYnuAW1poeXKiwiaCefuLGmDsfyfGFTlcYCeOWbG5j-H4GDCaZGmer2O+j8dmUqZzgJAAZqdPOfJCAac6c4Qid0AAB52nGnOFunny+DgLIIUC0InxAwJAGzgxjFPMkoLtpAQgycABqc2u3LfYMDiIdGZ0Ac5+zaVe5i5g3K5m5veGGLcIEScTewMiCDZygHGJgZWXZ-ZzLQ57gbqY5p5851ct53AW5xtT555x5s5l5oGeFodZZ3RgotmNO0o2u1+1wXuKI1ZNCZkOplIfZZa5pmGKpxywIQxXYSUGZlvAkkYslp0D2mcuTAxmuDx8pr5filvEIWuwnBxuIJFnpg3XcW4ZZ1c0VmlkGKVoYq8bF66o2RULMqI8V1x2p2kvSHWzx3JSK35yIQlsCwgXxIcaPHZDGvyLGw6hKY6o+ECGx-x5O3K9scGgJI+OJ7JpBA2oEP1rJx+e1pCvyex0lumClpK9hx8CupFglpFoJol48qTaN8liHRm8qowalwMWlyJucEJhoJlmrFVsWdliYTl5kFE3lygQxo1wVuHJYlZ4IcMs1cV1cVloGDwB6VcbpoJttwIRVgt5VqtVVoydVtq9FlKoqHVtpvVglA1gVi8hl1wNZi14M61oMUa2M2OxCnyR13N5120l3N1mKxeD1uNwECmH1gNjef1x+INwEEN9Ch9-KDV9qqNjlmN7N6IspDw1DLwqMIe6RfwuRBRbAelZXSsgs6YIsqc1rVTWRnqUCiCXMqsi+uzaJoKTD+D+eHRcYMFFo4s5D+LV7Qpqcx5YOOD6shDgeqiQFB4KzZcR5+3WIIEac1wKza0djw3aoLjsYqzTqfj0IAaITljgRtZMTtZST1EgR8JewR5pT0QRobj4wKzU2SFyQR57TtQdT4TgR4C-j4CwEDTowKzdhbvT0WgezazrgD0cReoCz0CepCCU5sT4wbe5QMWsa6M85nZ0AVzqzLWLz1IHevz54aM3WILkLgR2alIHz0AKL7IaMqCFLoweL9z4AcLtMSLkENL0AMAOLoz9zgAUjy+S9S9AGjPK8y+C7K-Aggm5i8+q8K9q-FbFqa8ggAEJqY2uCv-PQB+uqJuupP3PZmquhvovQB5mjBxuFPJv0hwv2vhvZmqIUvsvmvMhpvfOOvozsgFvtvIJMgVvlBAg1vZuzvjueuIJeu8vOvXBngjBevjAQ8HhEJaO8yCOdUImMhFR61lwfQ6PsPuzgOvvjr8P6PwfMxm0PQAArDMMzAH+oetXEMakT0HqYR5u1K8oN6HsHsRRCZxs9wnz4PlcFpjnqKzZkx55k1zi2qzSAQgPiADCQdjlntn0rRnw2qzikbvWASAfjhzoX3no8-n1xjgDAsThzjA8XvcqzMglgMgvL5Xsg4doGSHsn7H6YSntLKV1H+G7EYgMa1cYgIY8nvXoK-lJLb7rDinm3+0qYo35IetU354DtcaUIXXm03dTLEnpMyF3PX3xD+sz7NZCw8sheHiMYCQflhHj4YsYgTOErblhyK3wjyFzy0jqcl94wCPsCToQIeNn3NsIoptuhiwucooSvlc9qT6qhTPv7qVhu53TP-XuJhXlO3gL65vk8ygRH5Hs2uGjvp3uO9C7v4wJd9xuv-RJAjYcZaYcfQfwCOf4YM68v1dpdEnoDzMEDnw8D2RTADAYprjagRgFgMgDgWTegN0LEBgfrWBSBoxExMxO1Z-r58hQHKd-eXBfKXQA8w4BotMWO+INL-0-giQv+yQEIB-z-5gxcO5-NgFiF8BMBYSIwfUJnFTglsyyxAYgMYjsARE5AaZPAR13ETnMZAV-D3v3jJyU4ycJzGWM8yoFT8GgEER5lcwor0oiAZaJSPSBrhplGyZtGYtwP3hKRCQN0exlcxRaQRnm2iFAUpHQFzB60wgwgDwLgTplRIDzbQBBDqwiCwsTsUYHSE+wv9mWDgYwazggjyhacMA+rD1GMGgB+k44bMqYPAGNRjBSqWxBK1cFmDGyokUbnAQQis4wB9gtphBERwr0UEwwF0Nf1v52wH+-WcwU0BCDOCmiPFN0vYMcFAgZkuRXonGgeyUDfB0A-EtKhkHnM9BS+RMHSFXDpkChLcTQbO3qBk4QBSbFtFUTrJw8E6ASdwc8zchNDnm5QgwQwCqFaNah0xQoZoN6HaD16AwyCDJwEHBhlAAwyoIYKKHttlcn0RIeQhmEYcBojzQFNUN8G7QfBdQxYaoNEGDDSYbuJxIwBcSbCPS0qAAORot8KDzJ4aPhuGpx3mxg3QWcP0E39YoOeGQPnhMFdgN4b-SIKuGBH59xiAjQMDThlgNhUWSsfmI4T5iotmK4wBCKsMcgzDIRAI7rgUwcBQinIvwioSsLdy4jbgxIq8MSKWHAjC6ifaKEtVT4T98URKMsKeghyeoTBqQq4lyO4CSEiazXXkcKgfgnlOh-IlgVs2ZCMjk+LI9IhWQ5Elh5hGFbkdiIaKdhZkkOVnFZkRz4gWhlRLUWqLdyEpC6tedkfJhLCSj4oVlEUW6UhxGVEoLfTtlREVC10Kirac0uKNbr5CHRxVWjkqKUhCB0yDsbEOaKjCWihBggyUeGwpjOj4U4rHYREGsGBAPA30cAhGNPQiFBBQxO1BaKzHBicx6ozmPGOOSJiZOrOfMSnkLFNk3cpYtTqENlHMjyAJWdIimKODfR6x0I+tE2JT4tjWR7qKsVGKbIxjJCzCa4F2J96BjsxTZDGv5SsptCHRAVYTAIz1EdsSirQo0QKLnHHtzglVT1H5VL5BQYK74SHDI2+jajihq4S8XTjWbw5LWEFMMp0KygSA+ASjNDK8EapnizGHSC8dyNZwWN-xnODelvXvHBlHxNtH0ZRgv6eYb6UmOQj7GtKmIuAAgEQLIG-H2MTx1o0IYwR0F4NsUqE5QhnmpATlrRP483jBK-FqjC6vMO0hQAiL3ij4pwndkIAzgcB4wggcYAwGQS9x6w3ATotyKdZWVwcS4k9q4ESjoIqImCakLY09SsFj4R4JlsyS4TNxNeRwIgCxMHgbEOJAgLifyPklqSLgKCfiSpP5bZJSE4bKGI6ysp-jtxTrfJl0idBDprxaokRk5O8Gjiv2u429u0lNFtVqa+TPiQJIFEL91Idga3kQETAgQAADDQV7j8RlYs6cKRcUhZpC3Q5AWQAYmSn1hIpowECBiIimqhnm8gPOu2AKk0ZcpDAOrAnASlaT-+1CEuOVLtHpSBAFhb6GEMebfQmplxCOBlKOENSoBOLZgFUTqkpRrAKobsOFOALHVupqUq4vPE0hUFgWSU8YClOaJ2wMpLsJCNBWYDTBlYc4frBhJxoocRJgkwmlsxfC1TYE+kkwMlOamuoMpKzWXLZJWZpjPouQPaQdLAEOjoRrgD6RwH2miB+sgE7cU9MPqHj8m-0wGf1gKk4sRAhQJsM2gCT3jYEBk+KL3ChlfTN4hUE6FpIhw5Ujo87BnNo3gElx8o9kiqu0kYCxQNWDrJaBTKIjM0MEI8AeFgg9YGTaZlMlDspI9CGT7hxOCyh3Q8i7SAZX0ueOZPmgNBegN0fymJOSa-jPocUStllBFnQzvpokexCrKYCfSgZHk13JNBCACylIX7AKfLMxm6zIchdGvmAjOS6ISUb4AaXAhGhoyaoEklmcGGZncJa4bM2ZKjJdwY0syb3IhGVCSQWSnWFMIgDcwtzExxZQ8fhA0JnLOz-ZHQdFvOJ2rc5IgI0aqDOQdBQQ85ioN2V7M9nNxl8V7X2XOA5mKgKYQchJCHLmCkIOYg4QgFHK7yOzfpQIWOe7X4Qd1kg0udqJOEoTXxSZt8JOe3hKr0ysy8M0BNYF9RJy-ZYbXJrnPznHT2wA+cYDTj8reSuZzlQeW3JziVzI2nVBfM3IRbRzOE3AXCNwF+iF4fxrrUIR7nXntjHIa80nCaOJlfRL5OgVnEfCuEZyP5-OYodbOFydIG2BaB2RfJ9DXyEmv8vGVfIAWclB5wCu2WAvGBfRfoEC-2UYCXlQQYF30C+YrgVnXA4FrOSOafNbm64nA7cwILrh0BULXApCvSK3PAKUKe5jQcArQtYUNAw2buF+RvKPEVIVp74BCSYOOyjZwICEhRuFPfGRCmUi+UlLDPYJ2pYZiAo9MlNIkKKfxqnDyZ5CmnFihRkEOcPtIkCVJmKOHN3D-0ajKKcW5ZPtAVMmm3xzRLCTXFnnxFly2Crs46kykXqCL8p-AZeKNLfDjSAksMrmsdQYWz5Q4bkcJa3McW8gLAdCxmfozkXnp-EgiqUY0DbwJNSpPdE+XpC-J94ic1OJ+XwRHzASoq-w0YEOnKmkSvFSeWGb9LHwT5qQrhOkOEvyV0pkCGhDgAQVlgAAZDApQWjx7A4pVDegt3gKnMEnF8SzBT+MXzTAuCZhCwIKMsKCEL4PgCZYssIBjiVlMhQRdWhUU7KlCGyiwl0p6X9LwA+heqIYSEAbKeC7BFpSlK+pMxD8LS4qCvlsJ6R7CUyrZQksCCCNwpLhWkAhHz4vKp8HUyReMEBWogsRhdcsrcu+UuzJBtIReBiHrRMwCpY1W3DYsEX2K4ELBf2fnzoIcI9lmygyTiwLREdpg+eIEa4vxV+sWlFhB5TyDRX1A752QI8A8sb5CBNQ6fYNsnCIkmFhasS1hAZN+lR44V4U6tMKucX+zGe9Kg0FbLNIVLAR+eeSUflJhM0z2U4DHtfg2BBpXx74YkRBHKX55D2oTDpMpO1VTkIhFK7PsqqHSqqXc6q8ZqACtWPZPxqNYkfKtRA4sdgXBBuArhkZXMwBe+EJB0nBzgE+c5K9YtMAQmlyFlwim0enNWXnwG4wihliAWrAgQbCABNjMIo1aJR8Bm9GFHGpaWu93ooKgUAuFRHESoVeQM1YEBDi6Qa1gqutW4QJ4bCnCTeNMB1yLXDT6opa20JvPpk1QOq9KegA2GmDlSF4CyjRRHTJ7fKQI34WRfkJCVrArK-q8Bd8oJmntfwoBKiDmrsJsYeCBazxeYH7WCL1V5ayaJWotDVrt0AKlpQ2tcBNr71-yyFU+o7XXACpkeXteephTlSGVO4kddTSPkESblyU44ghMoFdrqAJguxYmtZx6gINqC4RW7mQ0Cr0hsGrZR9kInQbE1NUCdcwEw3pTqQCa7DeLWOrHJgx2Gq-KgUwI4E8ChBYguQQuVrAulWhZjboUGXfQJFPasatRpI2oIMaFMCCOhDwnpNwNOKuda4CI1TrkpM6lfLiso1ntBNEykCKcr6UDLDYmm85ZXk+g-r+NzwNTZKpE3tIxNM2GibpRXbfgEetZTCiCIiQOa6s+VWzTPH5E4Cr06E8igcvqpubEQqo7gJ5sWQgzOBM6dxqbDs2oYPNjmyUM5vwlINL2kW9zQ5sUW3B4tkmoKPVWS0BaYt7BULQcv4jBgF0QgalalvInpafNdWXsfKPuR5a8kSTc1S5KC04tbNlACaf5rIBm1vVQoGRu4061ukBt0rVMU6paVu42tE0vzdQCi1daOKM25qlQpNX4icQl7AbXNpnjDMsARpZ3D1ulCPIm1EEOEaiyW2VLHmE2nDWfxoCRb2tASHLV1rVUMq+tK7O7W6Re3DajgpSunCqETDvBPgPKpmCdsBH5UXtPwKwPNuGajaDQr0ZIFHmu2TbvUAqMHRttB20Bwd9wbbe1F22kwAEB2xETLEB0c8FgYOm7YH3vRFbiKggh7QaHuXIrmV2IJmGyq20NAtFBOmQOTowH2rRh6So8o0o2CT4BQYbbUi8V50B5mlU+aXDdDuiU09g0OwIFjpx1+hIIyI47UqtNVzUmAxWkYKTozbCF8BeGI6fLPVr3il2K-D0GvzKZrsGRSfZsa2OyQHlIdPqsSHe1p2or6dTQRnZ3V11+h3wtE-lFnDwyrkat-YzYpOi53yTfl6cB+IVw7prMJgbfC2g+NDJhMKQf0JMLGTOZbbJdfyoPbbv+hYiBKdAGuE0vVUfsXV8oA2vLstgHac9A44RtKgJ2PMa96REnsXijLCACYBnKiAAE4ugTqDvZIBL0ls+9ZsNQOqvniJgygc1BlguIiT0Ad1dMiyttTTA0A2m0U9dsYH06SAZADwh4TLDQD77n148xfXLKMCb7nJCWB5JzNP396ysyK1Iua2RUdYhiNAXWLgzkimzr9I+gfQ8vv3ECtm58dvV-rFqwrRARikxTwzVKTqqdju2+bExaVV7Fdh20A5IHAN17jVqu-EY80MUoHKgpi7XY+CHGc6VQIcKKKMF8QFoeemq38FOBAjhjAxvOfQW8pDgosOgMK9dUVCmAMByD7PEbv3gLQNNwUTrM-ZBB1i6whxrq-ES8GYNwUwuxfRUMIbpHLapwsITGiOuxhZk415xZCchrmDKGGWGG8qVBuw2UC8N2G9mkCMllzs0wnB7g6Vl4M0x+D0CEVCfpUA36RDoh+CthoDCoTpAMh0QwbFUPH72qW85IMIYggeHYy+edYOXhR4RGdYh+z-Tp1v0CgOVyKllZjoJxZAUSihypbyrty+7hg-uw1eHusNR6xq0RdJazqnD4gi9fOsXQKBjwOpD5l2nGJe0DC0BlYZiYg36GmlaraDtKzMVaLUFMG-QLBtg+JJdYMI6NVRmo37jqMl7Gj2S28l2CPjvbn5SsLZhwhrjM4WAjMG6L+VJFUrltBR+iXhmqNeDVjQxSPTjA64VHC6fEGjSoVMJ0qcmP4pla7trYORJcxiAirbnjzTYuA1IaDd8eljic4l9ZZ9gzrGVCbhaLxpBPtsGPWBqVDwxgjIAT0AAdLAAht75FBziuABsHSHL0pd9uokdqLvulQ2GG2OHLoIQeROomMTWJ8KZQJxNCA8TBJ3nNcHwBRQhii4b6FydAAAAvb3qAExP7kWTlQa0viaGHXHFwQp0k+9HJMyoyDVJwOG9DwBtGfwnRyICifFNsnpTkXZQFZl2MywPQqLYgKixpwwgHhiEB0LSeW06mEZEpxeOyYNNudhRqLU07ygtNYjFTBsIAA')">function find_assertions(pattern, frame) {
    return stream_flatmap(
              datum =>
                 check_an_assertion(datum, pattern, frame),
              fetch_assertions(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p17' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Check-an-assertion</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>check_an_assertion</kbd>
	</span>
      
      takes as arguments a pattern, a data object (assertion), and a frame and
      returns either a one-element stream containing the extended frame or
      
	<span style="color:green"><kbd>the-empty-stream</kbd>
	</span>
	<span style="color:blue"><kbd>null</kbd>
	</span>
      
      if the match fails.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (check-an-assertion assertion query-pat query-frame)
  (let ((match-result
         (pattern-match query-pat assertion query-frame)))
    (if (eq? match-result 'failed)
        the-empty-stream
        (singleton-stream match-result))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06Lne8wUbR4QGCFBhKVBYg6DBGHgeEKhafxwtiPPT7GU+tnGDhqngbpvyRvfCo1SlT6-QDFpUe5wY+ax1jBbxv6+UU5oOK0JIGBuTjVFu7brpx22Tu4AXKCFo36ekEHEaNPHFAgGB4CQVA0DxNBiQZ5N3VSEFzc6fRcgUQh6G5yhwf25JUnSBQWDIePFCTmoefCUAAB8S8U0UPl6zq88T5Oi5iMuK9SFg5I4IRa4LlPwibl9M4yLIE67hvYl7-0lc-KUh-r1PXvOtFqFjxtps7mfnkKALiZUfOZ9et7I9FZgxAkVnZzBafC9d9k+nuHbCb2gTRVJi-u9AAAyN-en6QYX4b4SgUoDfI+e955RzSEbVel806P1SEfE+DAz6QJThZOgRtCoRVAYYXw2d8CNnwDIcB-0kEN2IiNQ6EZf6pw9qA0U5pqBiDoP9HmxDU730VrA8gx9agINBCwiydCGFMK0vTUBAjGEpwYFgnBg8d5QLYVvchdYhjf30BQ2R3dJgiO9i4MRQj7YFgYCjQggQ3DOBYdAg6KiIxqLrlA-kGDtFgIqMoNgE1sp0HMfI9OYC4HcMQZQiyJYhAgWca4yq9B4Sl3Ln3W+8D-HqJ5hZXWLVQluNRJEseBpD6cLibwgJol54MFSeEug6D94sWKe4yR2DW4yNsa-P8ZCrFKMUbaShmitGMyCiYMJVTpqGORsY4gpj6CeMaQo5ptobHDyodQxxopXHZwFgMoZIyPHtMJuw2Jfi8kJKvmJP6LBllGJMYYZwZTQGLKOeQBgi5hbm2qdIwwYzlgjRuNiKRtSGD4MIbjVpdSZmaLno4q5yzW7CF8C82ITSRjWKUe0+xEcWKikCpI5gWghFQqJt47JXDT67PqYk0SqKPhUGIEIi5jjUUnOGWc0ZGzxneP+eYuZXSwFvDYqiOODLN44o4Xinhc58ngg5YvZwPwaVrIydE8e-LclCr2YE+gnLxWNlJRilOlK2Wiq5Y2IZbFuRaCxQ-N0Z8GCBBkHw0AeJOmRx1aqjmRo2gFmYTy6FW8zUWqtaSYF2rlVivoD8To5tUE0BzADN12KBKesqFanQrKD6pGMO0bmygAYfAUKwxlMDtn4rnBm-ZyaXVpq1ZHZqkjnWpvTZQTNYRNket4eCItVbwTcALWEX1kdm2OBauq8lKdnkFvXjEV5EzYVKKHbaliVRSAfDRWSzF7ahowsGEuztLETEgT7UIwdNbKB1uzW6TCe6O2zRoakclmhcTdrTUYE9y6t6inSJkO9tap1uQWesLd6L+3MKXfWvlaQB6qInfehNyKW5ci8Mak1Gdc2CvPoq0S7APBeFLQtKDrV8AQpgyukDbS9mIvKR+1IGhCAgkNWYyNsGfE5J2Qqwl+yyMUfcehtyhTJV0vWYRgDAlmUIvXW5CaK1OPOGedRvDcKCOMaBbNYj5hRQ9X0EYixcHfF5rBEYiyxQynyZJlQENlsqBcQ4s7A2dMvECThipIE4IZB1lqOCUAIZSh2Yc8IbS0xjLtDjqZ-WrCXOG3+rEEMzRFMTX0BxcIgXmbazZgQzmHwU6RYNi7N2YNQtgNJlF9+n8n5LhdurEok5KCGatlxCMUW0I6SKBGQr1WauxDNmQRg5WbaHSq4ZRr0xDr1a691oodMiuxGaG5vYjmQGOLOZ1DglAcpV36AofQyNVOjWnMjbgTxAQAD5QDPrYB7PA89DC+yUFAOAiBkDoFDniJFSMUJkqtdzHMD7AMxxcgCte0lSjvYoMvG67TpJhczhAwH-oftyQko8r5K9Pm4O+QQ1BRD2ncGe8N1YYDmPUEo-Swj33BCEHI5C4gD2jUccGacqjhHUd0Bew17cZqfnTWecJlZlOjTmJpy92wUFgffIqlQYIjrs7VHceY-HJP8yPaynN0gwvFpVLmwwLHOPuMya5+jkb7L-W6vF+Dloa5HVLV1-ktHQOwGgpuaJ3HMn8flvnjOQ5yy7lGweXD3UnP+t9kt1hnDKOWi0812GMBN6I14-15LtVlae1GGj2m+dGqebicI9YDX5vRSXsoNen9mKwcGkDB+FWdR-R85Q8oaDeeNaR9alBp7gf0+pBJTn5LlfpilGr03hdLekNm5L5j0xgju+24j4b3RQ+Zlp952AwplTUTmNws5qC7fScAxnz0pg+Ajekp5kUnpnOA8vYb7vlxaSqfD-zwbn4s+z8T4P0H0AxlSCmStVZGydlHLUl8DzcgyMPJeUjx0FoLpqIoTmwJCsiNwMJgessK+E-L1AoGKuGj9NovoMiL+AqCNMxriMYtQAgWGi1A7hAYIKQGIKerEPhIRO6MKG+KkNPOUMgV0qgQ4OgQ0OeCYhkGVAAY9oUuCuAcwfTgNoULFiIIYrTnBPQJil7o1oUi7v9ObM8mgQIYIQ0FAUocoUiNoqITmOIeIswmgc+IUFsqiivOwWwKnF1qUMYVREbmjGCKYeYROM0J2BqMsBQSeAqCZMEEwXQBZNZLZA5C4KAlniQH-gTkToVOQXJpcqCAjvosMspoMoYBrvfDRu8voMJjtpfuuI9sJhrqjokeBvdj8PaoGp9pfMkaQo+rAqQPwKoMTivnnMbg6vqtjo9v7mjvfrpFkYAWHk0aUVvtHohurnfibN0W0Trg6sGi1q5OGvvmjpNmytXqHq+vuhUeSLAReonFnhWimjHkurtIYVvM4X5G4f8BsQgl+gnr+mCPsSke6t4lwWTnBHOtuslkupwPMeSKcXcTEOeDOi8XunEYyIZI8avs8d+l3n+veh8YHn5IKNQSisTHEageCWipmnESwaGCNP8d+uidNHCeQceERIZCNEsXHgDFIZulcTuisWEDCS9gSXhF8VESCjET8g4GIlKEjsMqtmkdyZkVCByQPuqHCNwNyaeg4myoYNyIwPgPwMfr0qiMnjJvfOccsQij8dvO8KWCeoyKHtSQOuYoyTRhnlsdeuSbSZ0cVvtl7msITtrEYDKd8vKdfhzjiQaVCW+qnlIUBE6XKSEj0qfhzj6aGOWssVSa8UnpabJvGESZqVsq6WroCoZD9rwomdDrgiyoZM0PticSyYsYbmXhXj3oHvfGLNhr4BLJhrwUaeSOeHuCdkCNKUIM6QGSfiUs8rwYeL8cVGUKgsKbUI2cCGyQQkKWcgwlKA2d2TRqCZtBWfkSzFoToZig2WoeoROGOfQuqEkc5uud1h0QsZHB3kiZGUMbfmjpZm6OWlYQ7F7rOdShTrSjfmvBroUUzKPsKbniWS9mWb2dNIyLOWPjvv0tbkmS+Xfn5GIhmf9g7EBVujUpmf7tNBrgrFvPifmUeYbomXXj+cRFBe7sieme7vviGQ0LOemSBY+Wsp7nudMAebygJMcXJkdtoidnIH7OdoHFdiHJYHdgptUbUZCitpeXBq3Lgv0B4sJYpKUMjKMZ4ethZGJe3C4EYiYFoMIAECYMQNQOGsII0MAY4vbigbIZIGQDubwWsYcd4ogiKjvPQfPK2lISZfIdwBZRBWevMrQXZSIYQatrivKmCDIEqnXPZdomxuYDIW4nIWZagatjGpakFdau+hFZoTWTIHFTEV6olT6h5WyhxmIfILoYFRlXOlldwPGoeSxNeUiSvG8LYSVWCOCDeQWK2lqfVYJvxeajVTdNNH5XKvRrzFRBZM1cQOFS4CNTYclr1SJV-OOraL1W+SpY4F8NNiJgVRIclheZUd4hGJ8QjHlaiTLFtQxZYiMHtUVNqdfC1JnriM9suSnIyLmXxS4PbsLEYAhbqNjAWNAVZQJKTO7juczslYEcLNBQocLMOiOr9adYMPLLlZHHDHEeDe7JEBvNDS4BGHDZKUeVrCIXdYVYuh9YDZ0OZesNdaWdtdGtzGIIAu9U8uEP-MCNTbTWuEsKGKUKTK9RAgDdjHSaACwGTVoZ0c0BwJ1LTQDeEAADxM1i02ys1WldHyUQgAAqckgkQglZwmvAO61IWI5G1AtQo2oAAA1Lud1lXMtEKJChLSbaJBZLbaRTEBbZ1FbeNLqJMF1o-s-uCKrfgCDMQPZMQWINrQOrraAQbXpaJA7QNs7WIK7Tbaba1U5qbY7dSJQNXHHTIJCvLYtbJPJIQNBcie7pZYmI4s9ggnJNiMdSsJgjKXTbUsTe7ZqejWAvtvXbgmzTVu3rThXUQPoKnTEKmitVdPjRtcwh0aRc0O7jZrNaukTQrRrIdPLanVPXXZhPPdaPNSTQYUUAxPCQYM9jPYAtdWaUuQTQ0iCU-l4cXaJNZK3OUHtmgtObGQRO4X2H8cLIyO6UdbCSSVvM2R4ojQDagRDWudBIjcziA+7M-ZEfGCdUtTmL3VXb-djSxPhR9UXR9djCXTEKAuXeiMg7hSGLXR3DzQNE3cRCsFsm3RLVId3YgwQ-3fuctfgKtWfWPZpoHgvcHtPYzYdLQ13f2CBEvSTdjNw1rgA-hmBBvfeFkDncadqCGK+IfYzcfYYqfaPUVQcXRVfdODfa-vfSII-cFp5EyFuRSjA3hHGZQ8WL2dZkCN-W9Z8X2CNJI0A0TVA2DGA9uBA1RMjWDJY-5HAy3fg5XcpigzgCxV0mxfIGdgHJdsHKHNgHpllvAYgQQSgWgbxm6P5QNd4RZDgXgTpaNcDTwGk-gWzInBwEImLlk4ei4MyvoXvOeIU+kwwcmEOYgs6DZXMK1bEHMBON6dMDZRyH0zEByIM0oTZQhGM2tpM9042mfLM2fPM8M42k+gPK1Rs5kP6EMw0DZcFORuQL4K1Yc64pWQaHs0UDZfJWM-JX2Fc4UDZVbKoMriwIYK2i828ydisI87EDZcbbM7EMttwL4Azbtr-qbRc38zEDZe5ECzECC6AGC5kb-l5NC1M42qKdMEiyiwCBC6AJCMizEDC8OXOOCMAAiwYBtsi+C6AL-mABiws+SwAKRUu4t0u-4svEugCks2X-xAscuosz1guYvksACEwkgrNLeLBLkrQIorzLjVkt7LMrnLoA0tMQiraz5LktAICLQr+L9LGrQItLYrjV22qroL6ru2WrfLja22+r3ARQhrBLjrdr5rEI4rVLxrhQRrMQ4rsQK2zoToLT5TxT7TsUANgIIYaRcw3ArTFTx2obvZibEbhS+ALAAAVmpY2bGxoN4ZkdM+G+Gq1Y08wZuIZGm0gcmycBdVSNWy1EEknoyIgjZc4a1c4aS3uTZZAHQGqIvCc8632wO1nt2+uc81QK87AJAGM18zO+O+oZO4AgwAAKKzNfOruLvKE2UABy5Au7VL+7u74j6EKbl1jbW+zAO+0bAI+b2IygmRh0ygqeZTuBbTzb+657DbJbTbxUwSSNMbKwaRj7Rr-Gm4b7RTSBn7p6KTWBtyv7kbZiRBwmZ8q28H304opAYBV0Wb5AeY0pvUmgTD0El7uB5G1xtT-BUhqHoICIRQGFLEwEWI7DRVW2lNbowhrMmjkh0EZGDpl7hSZDA9l7n7YN27hQ-H6MgnmhmbObpgO5IniHYnQN3jhQajN1rHQiHss2V1DAYgXwAtjYPHD1TZ-EBdJnzCTonsx2p2-sF2QcmAGAz1bVFApgDAKaHwVUNwpA0GySfVQG2cuczK-nHti9kyWQEYoX4QidDAydadGdrtIXE0mMjomuzQyXQM2EHVLgCcNwFaLu6ld6GdP19xAk5Aygyg2tGQj2RgkBlXdLJ2pt6RlXM94ITmrmTmo29tptFXL7an-o7Xba6dy0EpKTDgdyxgxXy0kBJBO5rOE3E0xgzw-48DCXy0tt4IEItteXNyxghXUoaRC3dAk3uMUBcoid1g4IOXfZp3TAZAS2wmAXbdT3gW4I+2nmRkFuvCT3uW0kNBQGL6EYT3PcJcs9Uj6RJBco8rokOmmupQyiIwv3jN4IOm0lrnFXIEnnsUPn0Gr3oYzQAPKuYuv3H8XWT6EC5OqyXGkPO0YX+uW38Xi3s6LU5sS2h0UBtPmi0dfYTm8XBFPy3J3hyYbOT5oyIPPPoYfPttzPxg93pA7PEXtPLOUP3PxtXW8In3KwThJ3S3AMYkoIrVuRt3ev8vPE6XWWS4+PbeJvLPEIMz3AiCHPUPm9WQIP3AsvrPD3FvlcI3Nc1vMk4IAA5PFxkYnSH5lrHa7U9zd57x5wWKQJCimon898Bv9EF9OIdMn9qxO42kIB5hZMEEnXZFpPwm4GmEnTURwPCPTzJJ74j4MNn6+xGE3x77ryz2bxb-X1nwn6K7I-oK37b3L035VW5HhwR8oERyBP0sYh4LSgkYQAF8T3PipoFjZcv+crTJoaBQvxJ7EGkeP+sJP9QJoHEQh3P24LN6Qbv7X0pBT0QqvxrDZTpm2hg4LxAiphb0YqP+YNn+f2mm4F36qkESpGcOqrhv53E-imhXhmbQaAC9EclPbflRRp6f8CSYbC-sYFZhQFGQaRP-rPwAHzc5uN-AktiWgEfU2uMzQLKTA6zyACB3Cc7twGZT4DaU9AubpokyxCdyBKPJZlQNoEsCsBc3DgWQOkRtdD+hHE-tPyoha9ispMTgdIgG4xAD++HI-lPzP7MDL+QdZ5J-wt6yDhBtSBNnwPL4CDSC05b4ucSF6f87iI0Z-q1XgG-JiBXxaxhgS3jf9mSqDNyMEQBgqYZq+WMaI-xt6HR-BX3JWlplvpv4Aimsanh4N8AkAxqbVQ0t4I45wZSYQQooKUF2qDIv+ujBfr4XCEf5QK8QpPAZTZTmg0wVUJXDnGVzCAKggwRIWt08FACUepQuqDdwGBYDy+mkKqDWTqEt1n29AWwloMyG511I17GgI9lCFww2+hjVmD1AYDqARAHAUgLtFAS5BCAxOTIZqXOJKZLBNjVgr2XFhAhJY30I6oMnSwzQXGVRMUIXi9COx7opFAvNMOuhy55hwgRYTkKCzGxGszQVYZCklgrw1YgTMwSANuRLgdhf9bxM-CICQpAhQw7gD8Ih7aCFGTgi4Q8UGQKNmSLdeESph-4uAFsf0ZXPaREIVBzmXYNkMSOObcJDApIHwf3BfSGAbUgWckb4EpHEgngmWagSonpF79EWjXdOotgJEkAiRBECkauj5H4jMINqBQbRRiBMiWRiKGhDzDIDtwkCso1dGSOFHMjWYVI1PnSIZEaxVRkiVkToKXD8NJRXuLbEa2qDmxlRKSDUVKANFUingUo-0BaN2x4iFAZELkURkwRiiPRMgVxDWgLZEFSuUaN0P6IMzcw0UgQP6MV35FpFgx8oxxOGNKyRj3RsYv6DqLAi+j4ee2AeJlitFKj+gKou0YMEMj8NsxanV0SDADFowoxi2dMR6OPTRjzeudXgHL3agowUsWaNbr7wzoN8ux3oxxOlDrExjugbIboNSNFi9khy6UHEOOL8A5UW6E8IvEYHCClB9sD+akDiPdAfhkYDAIkPggHG-lLq3QRkB1ioDTktkSmboGuNh5ddQA3QPeLp2VoAAJVdgwAACC4AcAKuwABKytSAAAHld2yAIEE9RSYyBJAagZXB0KVJdiQ0Zw1bG2JagdjkY8ElrDmOHGoT6BsEsTOhKSAW9hxnQRsM0KVI3ciJmQGCRpDgmrZXx74r8T+P-FASQJ5EgcNhPaHUS8JzWAiTNWHFpjUJ+4rMIeO4l0BX24IUic4HcjujihCNdqFRLKEc4RJiEmau6J+gBi0i-WF2NrR2w+k1AJgLwMrkYASTRkWk8yCVgQkfDuRkE62PJM6GKSIxSQRCTp0kBxAMgf7BwObEZAAAGOtqAhqD2RzUbkgUSxlijUBBgD0IKbkA8naAgQVfdyYqNIC208QqFbxHFMdTRTSAN3ctP5KeGpdZYesNKRvxyhhTVspMVHq1VJiFSwBVSMKa73ylpdtxgQbkrlIdCpBqg2QNybtDYJBSipjAMKY9QDqBSOAwU1oqFPCl+QgigQFqPZE6DQYehfEQDNsI2Epl1adwHKckneFVT9aquNmL6GzKW8-BmQlaaTD5HTTZp-Yz-s6NiCnSGAM0tgNBgyGL9b+2vSIXmRbo3S7p0GOKbnQqCCjQg3yDxKEOSTKTiIk04gGdPunKZtGMQLYRFkdDN1YgyjHzHIxS79R4Zuwg0I9BqLEBjSL9SghjJWBiwJYx0TqFLB+hONEJuMhaTmmcKbRT2MkezIRAHqbiPp50v4TdBYA71YwWAf8N8QJllccmqQFIdFnQjpCppt086YELlBlx2Q4sz6QiOekE8QYJNHGSGAYgMQsZ4MiWZDOxGMckYuNVmOzCTimINowM8hiDLrL7CSZYgYmXdC+jSw3qZsuGvvX0CBtlxNwgEfGSOJ0AraRma2LcJWj-DrZr7ZmUUDXCUzYBjEOMrDOnBrhfwghPAJCCTkhgxY1s22XbGOGOzOglMkMCNDdkdhrhX4NWF7gLy+y2s9Uq6X2HZkOw1Ylc0MHTFtKawWYFc82ZZJOLRzqCv07WKkFGThyBoWXXGENlRqJzk5VDLeGNg4AeZ25r9YkmPNRHNyzZfc52ZEXcHmAHAZc4zDbEIALg7wFmJIR8La72ZxsHmN7kfMnnSCtczqXzDvJzFwx8xqQJTNvJFk28uO8WW5KwzOQbRt5CbXeRDXvlPDIs1ImLAbLfnGzP5jwQgHeG-mWSYgI8yEP-Oyw2pcsB0+CKSECzrys6fsirEoifl1zrpOC0kHgpiAYLcQ5cjrGaOlENAOshC0Of6CGyZYJ5E2PWZ1TinpFcJ9AALupgQxsLOJ9AYam5LiFvAXEbYsxN9JmrMpvppTNKTWTEX7ztmkXJRBGEkU5j1+bAGab4AEolNMszKJRZ1MHElDQCuIG5KwrincA8BDknwqAD-57zLZl1FxBJSGnxQLwzU5JG1I8TfS-I54EhV1RpBmFgSG5H2ZgvLnmKUxjk2hUIvXA097FLZb6UQsKDWKIaKUxioEtxD2FD57mC+TEHXF5iXpoJePmQEhTSKKy8cZSo4u5FO1los2ebL6P0DeL7CRGZ8W+IYC-jLIAAGVXagTcxmQXyUmKgmvM4pzyJSTAv3nISpYFQNCSJMwlsTdx3CAZfhNEmZYKJjYOZaUyWWOLnktEppS0vaXgBWJIEdiesvmWrZVJUnUsduD4k1KBJB4y1JMriWxAmqbkqSb6PhAKCLlzYiEC-2JSPLpJ+iyOPBzmVDKbFLdVScmI0nbg4pmRH0vB2MVuSOpesQFaA36zWToJAKixU5O3FnIqmLUbPgP174gjQllioBtmJUm+i1JVAMFdMHsa7ZDIJywkazFVEkcfGck4ye8FxUFL8VFkumM6KrH-K3JzyEJZyohrdsiVzY3OnkpxXZ8zhI4niMeKpCtBkQjIWcQ0MH7ghxVvfCIgLLgy0z5VzBdHpioo75LE+bKxPlKvdHC0rFyIRogMONV98RVi2YYW4vGUOgjxcipNH7y6jniqEUSMBEpk9W-KmOsuFqCyrJmoSeFCk0ScAPbBjKUYzqllZiT2Eni-AjIK5UJMtRxrjS54Krk-gkTBr3RQHRrG8vrHdAy+vCugE8ubEaqGgpUHECWvDXlrFsjlPsKTBZWbY6WWapqSBFzXZjTByIleSkw+DBAWoaU76KGtkW2KG2FixkBEpEWjIPF6xYEahOdWTLoZWpKkKeKBAprcQwkixYE0zWJAO1ji6VfmpqyFrRx2wL5RwHrV-RK1RQatcWovXEAr1CgRtaGEqluTW1mRdtRIjSlmqe1M8++OcFXk6Jqhh6oXCyrDV2SI1rqxxRBtRDPyZIbQmDXGsyyIbwN6a+GmgxA1ob2FUG8kAOsCC2TQpfU3cbBucDTkoobADieGqHJ0TPx34v8QBOAm7LyQtGhiQxuYmdLm1OGj9Ua1wRUbINZBTVaJAxDXcMNQmEDSYs6n3x8NQ6oKSOpI1zrDQl1PjessZC0btlHSvyOpraUdLGQb6vWFWJU0DLLx48kTduNNJXojcWbFAkYhDEmlaRWQWzaU3dJvBrNKIBfnZrwxOabuVJVzfNEGGEBPNW8R6WN3PTqNLNwUNzcmA82ZiYtN3d0pFvmgxbxFKibzWJvMBUlEtKIALUFp2pKI0t+1SODUDEBkpWYOKpzSlrOoFEbuYg4-qf0oTJaIgaNITTCMC251XN+AdqX5uy2mriV0GzTt1ui2Dav2gWO1X9Eywdb2pvm+gFFv3SNFZtdJEMmqoKUolZ0IEYbfNv83ekF8A2Mbebz3jVrxJIgJOstsT6tVJtoknpWyki2daPEWWhTr1tFU0jwt2xe7XPje2d0ZINpF6QWOw5FjbRJIs5ROFO3gFUSb2-QB9tfZ7bttDQKsTdqm3DIQkKQBbRDuR1bbII3WaHfTEO1F8LIIO05sjtu3Wc-JxAErUalUIfDpVxy0laCoLZIrP6+LHmVkgc3KYV8hqyFMVtK3s7le5S9cqtSqWMA0xQ2HnBfn52SBql7yhuf+EAg5kB4GOwbKDTNWvRDtJfE7Wzuz6tVOdWgYnWXWRgmB+AXgjYfvNnKhC1GBnTNhKnWpaNtxtW1QSvAp3Q6iwrjGnepLp31yGd22RSCjH11GoRhwSPqEalTq26JBwuGZDzrOFELuotMcFszKVo5huAtCwoK-n8If4OI-c0IsnR5nS6ig4IYPaf2mg19OipQMXXNkF01KG5Ss-bN42h3K7+AEIPPZIJxhq6pcWgdna1Qb0Yk6254G4HuLObHNGQAAThOCgI+92ed5XZpH3sRzm0qtmObDvRikV15g4DB8HjW70O5BgFwIzS8krrCgo+-QEHyD4WQ0Ax+m9XjLfqhg995YrmdMFH0z7F4ucVScelfYuAvINqdEcE1iC37VJ9+vRtwB71FIp9xzXOp0HUWaK3wDCQdY9vtUzU9ttexqiAeOaaLm92RVvRrsgJqLEDTAbGTrrZTqDUgOK6oKVFXBkBW4ZyMdrKoECtBGQeAwwYMr15vgTu-ATbkcBr5+RXw4aUgKQcHagAYeTacbDzEiQYy994ITyF5DwNWLe+O40qDEFEO+RI5u+wA5Cjj4SrjgUc-9REAYivhg1FQoNdUKlCtBV9knCTUFLA04b0iWGnDb7iT7X6YZ1BDg1wazw8HVIZyUWsIgRkyjFDEIUQ6YxZWCA9Dogbw55DkN8z1ZvahoMIcCNeRs+F4Xxfuj-yBHT9n+xQ9KsZUGhVJFKnxh7sdrKHe+qR7rH7p5gB6AYrQCPQYHj0gw6W3OZ0SDoH5tpKl4usve8v2wdI8yQGkGKiSECGB7IucQg-wC6m9kqDQIGgxgJSx29ejAgROiwZ3of0jYQ5GoyUepD1HS9KR5oyZsAxt04Yn2tIaJDsjq1rYG3F2OQCkj-gded3Ag9qX92PYFjh0TY6+yj0VHMi3ObcXpPLyGTCNZiFtRIfZV+YElKNKcZdTaw+KOCemixVgptghLIC3G+Q5QqKC-GwYSSq8pvKBN+KUeZ8xzIFm+1eZFjM2BoykcBP1KDttB7nUH1In6BaKAAHSwCsLTlG+H6MECWxV7kW1rOUNBEP2iR7DrDEpicDwPEnSTFJqk7CppNK4ZA9JlLGNF4CrhX2PQUmBKdAAAAvCDqAEpNFAhTm+EUwr3uM9AFTLJnSGyfBAcnjAhUKCA1A6PvBuj04Ek3StpPqmlsMrR3nnyTosAk6ygJOh5kmBB8nQeAHkzistN-TrTopu02S3gOOnnTrpmvnqd8hAA')">function check_an_assertion(assertion, query_pat, query_frame) {
    const match_result = pattern_match(query_pat, assertion, 
                                       query_frame);
    return match_result === "failed"
        ? null
        : singleton_stream(match_result);
}
</pre></div></div></td></tr></table>
      The basic pattern matcher returns either the
      
	<span style="color:green">symbol <kbd>failed</kbd></span>
	<span style="color:blue">string <kbd>"failed"</kbd>
	</span>
      
      or an extension of the given frame.  The basic idea of the matcher is to
      check the pattern against the data, element by element, accumulating
      bindings for the pattern variables.  If the pattern and the data
      object are the same, the match succeeds and we return the frame of
      bindings accumulated so far.  Otherwise, if the pattern is a variable
      we extend the current frame by binding the variable to the data, so
      long as this is consistent with the bindings already in the frame.  If
      the pattern and the data are both pairs, we (recursively) match the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern against the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the data to produce a frame; in this frame we then match the
      
	<span style="color:green"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the pattern against the
      
	<span style="color:green"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the data.  If none of these cases are applicable, the match fails and
      we return the
      
	<span style="color:green">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (pattern-match pat dat frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? pat dat) frame)
        ((var? pat) (extend-if-consistent pat dat frame))
        ((and (pair? pat) (pair? dat))
         (pattern-match (cdr pat)
                        (cdr dat)
                        (pattern-match (car pat)
                                       (car dat)
                                       frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06Lne8wUbR4QGCFBhKVBYg6DBGHgeEKhafxwtiPPT7GU+tnGDhqngbpvyRvfCo1SlT6-QDFpUe5wY+ax1jBbxv6+UU5oOK0JIGBuTjVFu7brpx22Tu4AXKCFo36ekEHEaNPHFAgGB4CQVA0DxNBiQZ5N3VSEFzc6fRcgUQh6G5yhwf25JUnSBQWDIePFCTmoefCUAAB8S8U0UPl6zq88T5Oi5iMuK9SFg5I4IRa4LlPwibl9M4yLIE67hvYl7-0lc-KUh-r1PXvOtFqFjxtps7mfnkKALiZUfOZ9et7I9FZgxAkVnZzBafC9d9k+nuHbCb2gTRVJi-u9AAAyN-en6QYX4b4SgUoDfI+e955RzSEbVel806P1SEfE+DAz6QJThZOgRtCoRVAYYXw2d8CNnwDIcB-0kEN2IiNQ6EZf6pw9qA0U5pqBiDoP9HmxDU730VrA8gx9agINBCwiydCGFMK0vTUBAjGEpwYFgnBg8d5QLYVvchdYhjf30BQ2R3dJgiO9i4MRQj7YFgYCjQggQ3DOBYdAg6KiIxqLrlA-kGDtFgIqMoNgE1sp0HMfI9OYC4HcMQZQiyJYhAgWca4yq9B4Sl3Ln3W+8D-HqJ5hZXWLVQluNRJEseBpD6cLibwgJol54MFSeEug6D94sWKe4yR2DW4yNsa-P8ZCrFKMUbaShmitGMyCiYMJVTpqGORsY4gpj6CeMaQo5ptobHDyodQxxopXHZwFgMoZIyPHtMJuw2Jfi8kJKvmJP6LBllGJMYYZwZTQGLKOeQBgi5hbm2qdIwwYzlgjRuNiKRtSGD4MIbjVpdSZmaLno4q5yzW7CF8C82ITSRjWKUe0+xEcWKikCpI5gWghFQqJt47JXDT67PqYk0SqKPhUGIEIi5jjUUnOGWc0ZGzxneP+eYuZXSwFvDYqiOODLN44o4Xinhc58ngg5YvZwPwaVrIydE8e-LclCr2YE+gnLxWNlJRilOlK2Wiq5Y2IZbFuRaCxQ-N0Z8GCBBkHw0AeJOmRx1aqjmRo2gFmYTy6FW8zUWqtaSYF2rlVivoD8To5tUE0BzADN12KBKesqFanQrKD6pGMO0bmygAYfAUKwxlMDtn4rnBm-ZyaXVpq1ZHZqkjnWpvTZQTNYRNket4eCItVbwTcALWEX1kdm2OBauq8lKdnkFvXjEV5EzYVKKHbaliVRSAfDRWSzF7ahowsGEuztLETEgT7UIwdNbKB1uzW6TCe6O2zRoakclmhcTdrTUYE9y6t6inSJkO9tap1uQWesLd6L+3MKXfWvlaQB6qInfehNyKW5ci8Mak1Gdc2CvPoq0S7APBeFLQtKDrV8AQpgyukDbS9mIvKR+1IGhCAgkNWYyNsGfE5J2Qqwl+yyMUfcehtyhTJV0vWYRgDAlmUIvXW5CaK1OPOGedRvDcKCOMaBbNYj5hRQ9X0EYixcHfF5rBEYiyxQyme3noYX2SgoBwEQMgdAoc8RIqRihMlVruY5gfYBmOLkAVr2kqUZzFBl43XadJZoT6IG+f9B5uSElHlfJXp83B3yCGoKIe07g9n1ZGTAcx6glH6WEfc4IQg5HIXEBs0ajjgzTlUcI4lugDm0LoTNT86azzhMrNK0acxFWHO2Cgv51IWVKDBEddnao7jzHZYK-mWzPW+sJ0WlU3rDA0sZe4zJtryWlKintYG1zUCRtrkdUtXVdnKsrdWGA0FNzROZZk9l8t88ZyHOWXco2Dyou6la4Zbcp2sM4YSy0Q7fmwE3ojVl4LLQdsA6MJWnt86NU83E4R6wy2-uikvZQa9P7MVBYNIGD8Ks6j+i661KDw3gejcbCh5Q0H8lJcR6kElaOU5E8xyDn4tOF308p79vHqXTGCLZ0DxnJO5vc-Ea6pDVPOtgMKZU1E5jcKgCwFBUoJOOhFe0UUnpTB8C7dJTzNXLjWs-Yc9T3XvTpcY41gLqXZXGMI85yZYIVqrI2Tso5akvgebkGRh5LySuyW6dEbltgkLkTcGEwe5Yr4n69QUGK8NP1tH6GRL+BUI1mO4mMdQaPYaWo3eD4IUgYhT2xHwoRd0wo3ypGnuUOPXSE8OCTw0c8JiMhlR9yrrpn2g91+qzpf0zNtaGMq3BegmK3s98TKrh7-1zbPMT93sfoZQ9z-nwaDjg-5DC7BIn58hQtmopXk3tgqc3ulD31RXbaMwQH6PxOZonYNTLGLyeBUdvpy58d7ZByLhQEo5IF7nLeXCoi85NLlQQYt9FhllNBlDBlt74aN3l9BhNAQAA+JndcWzYTZbRLKA8DazH4dbVBTbZBA3VTHxUgfgVQfLQrQHPbB1fVdLWzb7JLI7EoVA5XaglVDbLXCHRDJbYgk2Vghg-1XVObQ-MgUNagcNfXJLEBRxAXMHdtGA4iCPC9ROFHCtFNHtV9fdevPibxO-PyR-f4ZQhBL9KHX9MEJdXaHfLeVvAGGdOdbdenJdTgaQ8kQw2A2Ic8ew79TNcAxkQyWwhPOCBwunP9e9Fww7PyQUMvFFYmcAoI2dHwkCaaHQ-0EabwtFXw6aKIovY8IiQyEaOQiHW9UfImEI1nGHLQsICIhzHIvCNw4AkFUAn5BwMRKUOLYZEg+Ajo5A0SSEVooXWoOEbgDo09BxNlQwbkRgfAfgY3NJMTGDYwsHBFDwmIc8dtRkAHMwndcxOomjJHVQ69Yo6tN9Uo0oZ9NgUotYXLbWIwKY75WYy3FrDIxwsIt9eHUog0SYoQB4kJHpeYlrT4vsctMHTdbYgdKojpAwvI1Y-Y1IJ4xbQFQyDzXhBE8LXBFlQyZoC4gwxotlAXMnCnUXQ7e+MWbDXwCWTDcFSFdpPyc8PcAzIEb46Yx4-4kpZ5akw8NY4qMoVBQY0IRkWrAhAYs5BhKUBkrkmjQI6krAlmAfHMIfDfGcBsaAoE5faYEU+hdUaAuXdUvUpgmQ-EnbFnaHHgmZRQ3lASctU-B2UowI6lErWlK3QFZbHApmHbXRXna3Yg0knk6aRkQIz0nXfpc7REteZbPyMRdE7zB2IMrdGpDE77aaCMy0t0bIvEyOC3NkobdnBze+KM57eItE57fXNUhoQItEkMx0tZV7PU3vQ7SUkafQuTPAfTQzf2EzIOczSwKzBTWBMgwBSFZGEg0UVuXBfoDxYc3U4HZGfgl-fQZGCyMc9uFwIxEwLQYQAIEwYgCQ2oRoP3Rxa7ePSfSQMgHUmUn00hBtOcEVHeKveeVtT4k86fbgC81whGNlNbO8kQavZMBPEcuVejTfJVOue87RNjcwQpZ8s8-8rxaNUAr1GQbgG1QTSC1Xak2Cq87xGNS1JC0AH1M9RxVfBU9fTFGQEgnChPbgeNQ0stcmc1OIleN4C-CixtG0gsVtbeHmbuVCuDdigGFIuCt0XFeVXmKiCyfiiClwfi8-enQSrCvjSZLIFIt01cxwL4M5TqeUxUzFJLISlwCMd8+TL-YIkCGWPShSyxEYIy88QBFqZHXEezHSlORkHE3slwa7YWIwBM3UbGAsMPaw7xUmZ7HU+rd9SC4WaMmfYWYdEdQKxSkYeWQitlOGcA6K92SIDeeKo9JRJK8YzMrWH8py0ipwny0Kzoc89YeykkyytEbmMQQBbyp5cIf+YEeqxqtcJYUMUoUmTyiBEK7Gao0AFgKq+U5g2IZoDgTqRqkK8IAAHjaumptk6vGpYPnPBAABU5JBIhAKThNeAd1qQsRyNqA9zRJQAABqacsfKuZaIUSFWay60SCyJ6ssmIW6zqe68aXUSYN7YyUgUyCELa-AEGYgeyPPMQA6gdI6gPU64QZocEV65fD6sQL6x6q6zixGq6t66kSgauVGmQSFFa1S2SeSQgaM+I57C0pEWQyrBBOSbECykMTBKYpq2pcqn62E7KuDC4tm3BLqnvRXOm9EbEHGmIVNDSq6Yq4fenJgss5oZ7FSIEQ6WanG2YFRFanGhW1mzCMq+He8ZSiq7fIoBiaIgwezJW6+eyw47SkqkhAIgG+3Km0SayVucoUADowAo8AiJ-PsLw4WRkDI8yyIgoreZkhPSKkKiO92JfHvVK+raOsGSU+MBo7mg3emogZTEO-KliAsnyymny7Gam8ffE4WhmrOvM4iGmiY1mgagaTmqu3QnNXm1W9CIWnMDO0W+fCW-ATSkTNfGW5hOW9CBWnyy2lWvWtU0oUiQ6Tq7GValYbWjuXW5q60W0YmvY7UEMV8C21quywxG26WjfKw6Yec52x3N2kQD2o2P-OMr2+iGExuhvHkuGQO0yn6Ly1wvsEacO1KqOumWOnSeOqidKpOze1O91bxezTuiuj2Vs7RAzOQP2YzQOMzEODAdysBdPTPXc386XRPXjYSwCjTWvOgCybBmPYgKSngKPShtmRODgIRIbAhw9FwZlLfPec8ChrPPBsTQU3hZ0RBcEOYTi2IOYCcD46YIRjkURmIDkCR2OoRhCWR0aUgBRwRxtM+FRs+dRqRxtJ9AeTigxzIf0SRhoIR4KcjcgXwTiyx1xCkg0MxooIRl-WRl-PsJxwoIRq2VQObFgQwVtHxvxgzFYTx2IIRi6lR2IBc7gXwFqlAz3K6hxsJmIIR9yKJmIGJ0AOJ3oz3LyZJxRxtYY6YLJnJgEBJ0ASEbJmIFJ4ERtYADJgwRc7J+J0AT3MAApjRm8gAUkadKdac926eqdAFqaEf-iif6dyctricKZvIAEJhIJnmmymKmFmgQZmumwRwQ5q+nlmBnQAFqYgNm9Gby5qAQMnJnym2mDmgQWnZmtmkDdnYn9mUCjnRnG0kDznuAihLmKnPm3n7mIQ5nGnrnCgrmYg5nYhhznQnQuHaGeHCkQrAQQx4C5huBuHcH9NYWeSMXY9Cl8AWAAArdcxklFjQUh3opR+F3czi9huvTcQyXF7PBBp0Iqd4Eqal2PIJGHfhucIRu-Tiu-Wpus1JxtSAOgNUReGx758VyVlHYVkV7xqgXx2ASAWRoJ1VhVuspVwBBgAAURUaCb1a1b1KEYADlyAzXGmLWzWF7l9sX2WaGM86HuX4ynlkWVh4DlBejDplB9amWtdmAYcHWqQA3XW0qPXpgvWfWlL45NwnWcGuXipglT1jL-9A9blOXmWa9c9hMz4SDU8pYxQPxSBA8rpCXyA8xJjepNB9Anys36HyNzDmGu9Pi83QQEQigMyWJgIsRbbB6wQSC+8iqB6lTSiyNbiA3EWyruAxaw3k2ddZrAHpgJ30Yp3VcCXiXTAdS52G3w2wrl2Gh96HL+3j694OABB96xAvgRrGwj6hFNj+Jyb736dWX4GulEH5AjMA5TNg5MBMHmKKBTAGAU0PgqobhSBoNkkAKgNs5c5mVoPfqNZmUIxEPwgMaGAsbcb8avqEOJpMZHRmDmg8OgZsJeLt4FAbgK0HsNy718aArIGBJyBlBlADqMhbMjAQ8WPWmDMrqECWPLbwREbSghPQAEaXqrrmO-XD2+whO208bloxi02HA7ljA6PloQ988dTGsVOJpjBnh-xUyXAUanrwQIQnqE4qPjAaOpR4CdO6BVPcZQ85QMbrBwRyPdPZ0WpzYFAED88YPebhNmCROLjtJph8dEEgv3435pJy8gMX0Iwgue4S4v5x1bQkvQA1nRIdNguDBDoovWrwQdNFJShAPmOQJQPYoIPoMgv+C4v5shsouP43sAsiFitVkuM-OdokPgczOsPPPjAmAyBfP8utOuvNEkbZPzqrrCyfkOjSHkwmsnTRkMvsaJxEb+uHO9PvPhvlE0ushQ9xuJuLq3t4QwuDRb8tuvO8pQROKMDeTHOhvSAeIiOsGlxauNYBuAZwRlHuBEFRudo16Dv-P9avunueIQx8cUbxuQwROAByLDxAjGhHyH7Du6wm8bjzq7wblNUgSFXHnJ2qsBXm-6OD6cQ6Ank16CIRoQYQTG4ITGuyLSfhNwNMTGsgjgeEHrmSL7vbwYSnoH-QAXh77b8H173ningsPH-WiMYXsHyn2iliCtqt5QGt5Is-YxDwWlSAwgGDhr6XFTWHupm8-X85WmVXUMnXqn2IeA5X9YVX6gTQcAzNrXtwTTgvK37n1bTOCBQ3jWIRnTNtfOub33wZL347IxRXtyAnl3tNNwK3++Yw030ZFTE+rw1XRWoEEMWb2LCBdr5rDxVPnIuF134wVmUPRkeAmPzXuP7Tsbov5PLead6RQT5Ro30mQ6Gv2lbhZz7gZlLv1n8vrTzRVH5v2pQTrR9v+QWvnvrT0fjPsewru36tx39XnGc7ooHqpcMf3BGTwoW3yt+3tX53gfuvj31P170mHftgdF6f7vofgvSU9w4w+b1PjwkaAPzinP35T36En2-Il0DYUGS4kc6bkH-ADBUz6U3uY0P3tMHVrWUw+qPeclphdpO5P8msDrmAN8AkBqGzFCEpAKJ5PwlwsAmSIZUQGL0WgjtacCgPfzO5Vy1ZLjFxQvwBMSa5oNMFVFmw5w5swgCoIMAIFGd2Q2AiAWH0E5sC6o5HAYOX1Z6aQqoGFfgWnV9b0BmBv-bth+nZbBI+oRqFAXDG4AOBL6rMHqAwHUAiAOApAXaKAlyCEB8sIgp+qXnbDXRqBYfE+s-UdbiwgQksb6OZUGRuwwYexNOhPBxyOx7oZZLHPoIcFGDaepgnXj4ONhj5mglgyFJLBXhqxk6uRf-nYLi6kw3+tgtOs-CICQpDoqfbgAkPwxZAL+m9R+qHSgbACQwDEBiCNBKEqYo+5gKuP0AUBzYbiP5CoPYy7Bshuh1jbhIYFJBQDjGYEG1Eb36G+BBhxIJ4Kjw74qJDANqPftEx45402hHQkgF0IIgDDV0awv6GREWHW8RWRQSYdMMRQ0JuKpbfoLHlOGro+h2wqYazCGEBdgMhwiYQ8OmGzCKB8wkYIcOWGZNWm1Qc2O3BuEfDBgtwyRDMKOGhgngvRVofsMwg2oiMmCPYe0JkCuIa05LXPAxyjRuh0RVANGGikCB-Q6O6w+AtiPOFEUMRhI+Eb51pEvCX09Io3hcVR5AiyAIIlJGCLrZ9gVaqIqnrCKub4jKANI1EaSIRGgZiRL3Emn3QvY5RaRC5EgqTGaYCiUCFxEmmoBMBeA5sjAMQdLl1HOBuA1fA2DHzpi+lHWVsNQAxRpCH5GQZsMQpbCoBcQjRV8fUfQFnbHCJwJomKgrC3gWjfGV+QTjIDrC1AN+LBFkRQJlGSA5Roov0VaObwk1eAg3dqCjH0AcQYO0PTvlQGRGOJ0oRItoTiDZDdBhhosHkoyXECSACxmYXwARX8EdhscXoIwOEHOIDwxO1IZoSmAqDIwGARIfBKmKzFmiqQ3QRkJmNngCDFME0HEE2Oy6I1mg3Qc9pIFAAbUAAEnqwYAABBcAOAD1YAAlDapAAADyZrZAECDcppsZAkgS0a6PeB9jhRYhGISQUTEtRkxyMG8SGly65jnxPfaQaiGeR2ikgr3XMZ0EbBXjDA5HQCZkEFwaQfxsIonsuNXEbitxu4g8UeLAkDhPxUgqCQsT-F0ASCuY+Uc+O7FZhex2E-WuCCvHuRaRB5FKu1EgnsCWs2E+8VANpE-QMR8BUfC7AOrIEgSGo8nNqNokyDRkHE8yJOFvFJB7x-w88dbH4nQSGJhsMBnJgvZxAMgLUXIA4HNiMgAADCcDTY1B7I5qZSRsJYyxRqAgwB6AZNUmXDGQHPFSTMUslXU8QPo7xNZMdRqSyA5HctLpIcEEdZYesZycn0YAmTFRS4IrpxVJh+TYaC2NmJuQNo+TCO7Yi8B0S8kOhUg1QbIMpN2iN4DJ-kqKa5TBr6SOAhk+gsZNMl+Rv8gQFqPZE6DQZ5BTdIhg4IT7IkdqdwTyckmiFKSCp2UwKViWgGODdejU0mGsIqlVS+envf4UUEGkMBKpbAaDGQN17h9wuGA3EmnQmlTToM1kkmhUE2GhBvkhfbwQNFI64xTRxEMqcQCGnTTlMzgjIeOOoGpEskZeZ1HHGSSJZbp39LeHjQLB+C0hJeHIcWB5IsAJYx0LSp4M-r3jPpgAwDHfk2h2tuqIMCqsQDFqtiVpw0pITdBYDG1Yw8udwj9NxFwYsh4QT4qUCRnnTChcoMuOyHKmTThphleaZziDGERwGKdZaRTNWlW94pw7VmOzCTimINoT0+uoxJLGuDAZYgAGXdC+jSwvKvMpKmbX0CQsAhDYlIbCSbJ0B7qDo62EEJWjJChZ+tBGUUDXCgzrqjEGEsYSUxrhfw6pPAJCEtkhgxYQskWXbGBkQI9ZckmaCsBGiyy6xyseWVrLOK8kVZfo2KWNO3AoyHYasQORODphXFNYLMAOXzOdlP8jZZeTadrG6weInZksmKuvAtlWzXZW8cEEGL2Ahi-+30kMIUUKo6x8O1MG-nHJAGYMHAfsx0TbEIALg7wR0gQa-UK75yOAdPI3nnODHdyKBD0rIE3PRakgjecMVkakCUxNz8Z5uMuWzAIRcyzkG0YeTwBbkxUJ59UwgMMKN7sz55tyXukvMeBbz0WbIU0aACzmQgN5pMaedFx6mpjR5n3ZWYTVVlcQIw08sOeNKURbzoRGpJ+biH9md8lhOs-0J31JAfz0IdMV7r3ILl094pKKZSQgW-HOAYO6mBDIgswlujiUyk3AfQBcSJizE60qAcynWnhVpKBkjCoQsIH9wEuSiCMCQty4082AlU3wP2Q4qvcUOSiehfFMLY3JrJaUvWM6JDSGipeuIVuYaEdYuIJy+U+KAlKNhJS-gKUjxOtLpI8k65z8gMVnwnBqL-5DcoXiItuQEi7xwCt4Hgs66SKfi608BQ0C9HuxHJAkbRXGJtEdy+5oY2IM2MyBICqCIHERfwopjkl44K5aRT-MjG9ZGA8ohxVfiIyKS4JDAbcZZAAAyerY8R7QHjaTQEkky0dZN-GGKxJccqAY+KlidjXxYhd8WhI-DIxuEWS4pf+NR7gTGwVS0heWJAhATpFzyEgjEriWJLwAqEkCOhNaXVKcJTE1ERsNuKj48JoogiT2MtQkSrFRQcENZIomoj4Q-w8ZZKIhCB8sFHARZZKK57cKA8uIKpbJLEWMc3QzEoUWxO3DWTeiQJHhdIt8XosclZDOORJIvH+jlJ2S0SU8sgXxSzkDDFqATz0VkA08jymIXmL+gkEzlrE8lszQDpXNDIzE1dqzFuHcjoIaoDCXROvGCK7xzyz4iqPTYHL3lgKvHgYs+X3jhWf9PkWzK8UAqCeoK+kQOIECtBkQjIdKKoiEFEqZmokWwt4qBX304SxbT2V+CZV14Su1IDPE2x5V48OVdKvkfwWFXcZuKlRYXhSslEk1RQz4h0DePTEKca4I40mSl2ukjS0x0o3rIEGklVRvoz49BRit2jGENVG0K8S9M8I8khxQISZURMtSOq9i54VjgDQkRXiwVQkN6qsvzHdAWeGCugNsraF8rCgpUHEOGoxVRq-oj5PsKTCvHcA8VvqwIDrgDX0j456Q4iOcA-JdpTVLUZyZavKW+KMpOLR5YyBMXrhOuyi8kHavKWaqSJl088K6vdDlLCJuIYiY8tSHckJFiQbNSBGcm0jI2PeENSSLDWbLiASahQDGtiBxrZ18y5SQupTWhgwpykjNa0yzUSJx1fI-NcXJTqgDzAkg6Rd8lIDmqVuSC+gDBz4WOqDZLBC9Y+rvU4TUeF6q8daoEk4SJBPAm9R4ifXEQPgwQFqAGorVFKvV5IKKGwHRW-qyxMShCTuL3GHjul5IJDZuJQ3ITklaa99but6K4J4NP4xsrnIxDudkqkcV9QgsoXkhQNZq8tQFMrVNrxFVIIja0sZAdKElSSvyFxq6W2ilw1kgjVc3Y1ZLSN3icEORrgUqEr0u2QlvHiMQ4j+VvNRTY0oyJvB5NKIHXkprwyqbyOYJDTfNGeSqaoBs0pTuegPqybgommv8iZqoXxcyh2BcjhkWs3zRtNJBQoU5so0bphkISFIDZv3TubTNSiPTd5rcg1AxAZKVmACrs0CDPNhAczY4mX4O8nelCILRECyonK2GKiULWepcAab8AqUwzSiB1Iqq2hMHE9sVr-JVbtCY8yOqiNR4FbUpBm+gAFthx0A2tP88WtSp8XqbWtbmmrdUXlwisyt4Kj2HGrIkiBMa3KgnpxSa1-rMG1mwrR4lc0laZVqqkYTJrUKra-yO22rRrHDELS2RVwytpyJ6GDBR8M23re-T236A9tQ1UbTxEggNA8VS25rb5qKT+ajNd2r7SVo+Ky4IF9W1VfTAm0M8LIV23lc7H83LbWWoCCLegS07rbytQyyUSxKoAXLw5sKpAsNtbDUKyhPWoFfoHh0blJVkKXvsAugghLoxayyBR1kZxU6wlooiOf+EAjYkB4z2ooI9pB38AIQTPabQTrx6cVidM0NNijBMD8BhBuvKAYERQFXsb2EqUdkIhJrJbj+K8RfM7MDW8Qf6wy85dCtDDtzsdoYMXaxyNTqQg2NAWzDjRV2r9+sMyLrg9uFizLuotMeJgjPnI5h3RHo1AR-hdwcR9pf+LGvLhZ1zLrdTvaaFzwXrT1losoxnTTvXmhg2dmQGTlztegTbQ9a-DiuDoF3StQA6e8Aqy3PA3AuxdjaxoyAACcJwUBCXtRxrKlNVe9iPY0DVsxzYd6EYpdJf6vCqEsJZ-mXhcCtUNJl0woNXv0Bw84eFkNABPqXV4RKhfYYfbyPRnTBq9TexeLnGYnHp9aLgLyChVqEQMYgS+5iSvunA6ki9n2kKPY1YFMLrGrCgGFqTA1I7wVUAx7anp51kTL9LCpgGQSoZZ6xsWgUnXdzf3X7YdjiU-qTrfAOd+Aq4MgK3DOTysGVoAVoIyGr5394+jnMA6VFM5HBdlzasvOGlIDQGpWmXVSGcimrCJYSw+8EJ5C8in94DIi7tega9zpNO2IYYffLx8WtBjghsgtQxFfABrOB4GngVKHYOXTqNBUvrN+q-XvqO8QvBfTEFfC4H8DKOQg0CCbQFyeYkSbGaxAb3WMIQlBzyEyAxWCABDogXQ55F8icHvpdQmfYvq0OQoKDJhmg0CovDWj90DB3Q1Ps0Nn7rGgalFf6GYkY7twBut6qwcJ06yzdGg2zK0BiEZqPdIMVpu1kDkQ6pVkRsVZ1Bj3eG1RsmU9ZgwyJCBDA9kXONUFKjVrHWCBoEEgdL59jruhR-gBgawOsaBAcMMsYkfx5tpo9UY2PfmIyN2K6pvNRo7l3BB2Qdq1sZaPrGYBSR-wl3R7gCrCM8xNBAMZI4dD6PRGXdvRdrPFOwkvzG5BsF2PzLbmwrVInckMc+rcUFIXFSA9oHHA4jOx+xdWm+nFSO2TyJxaY44zEEVxzz2YnMD4PTiuOjH7xV8pcM8Y-h3yXYuXDY-7LflZjZlsQCMCCahMxAwTuivVXCegiHRYTFOvsJAtR7QKu5FGiKCAYBVw9dR+gD0QAB0sAj6zoazFmwyBggvnC4rE2eZyhoIY+0SPId7pUMnQ+JnxYSe-HEnjhZJik1tI1w-RaTfYsaLwFXD60egpMCU6AAABe8bUAGSaKCIrhTNJ57s7uybcAFTTJnSCyfBBsnjAhUKCA1Hfq5H8j04Qk5SbVOinlmf3RtOQExosBMaygTGnT0mBw8nQeALk4TqtNCnqTtphk8by2aOmlyLpt01z31O+QgAA')">function pattern_match(pat, dat, frame) {
    return frame === "failed" 
        ? "failed"
        : equal(pat, dat) 
        ? frame   
        : is_var(pat) 
        ? extend_if_consistent(pat, dat, frame)
        : is_pair(pat) && is_pair(dat)
        ? pattern_match(tail(pat),
                        tail(dat),
                        pattern_match(head(pat),
                                      head(dat),
                                      frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p18' class='permalink'></a><p>
      Here is the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that extends a frame by adding a new binding, if this is consistent with
      the bindings already in the frame:
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-consistent var dat frame)
  (let ((binding (binding-in-frame var frame)))
    (if binding
        (pattern-match (binding-value binding) dat frame)
        (extend var dat frame))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06cDwc73jxxQIBgeAkFQNA8W5i53vMYgUKoAHcgUQh6GIOhKG4SWcyGkbRRBLQKCyUXxZqKW-WmUolZcxtpv0NWJc16TmlFOg-pFxR1clygtZk-LCAYQxfAUFh8H1m6Xbdj2GHwGQ0ktw3reNu2ZboOXTfdVINEIEFuVRYOxdD+2ilKWO2F8fRBfzYX9CZhgUcIQI3GcJObc18O5bQ9DZxA-3rpxwx9Amlai5LwxnGbo2NbDloI8mLAoLN1IssoYIGFFxbsrocuU+k0oc-XPOx4nqfqhnph8AYDPqATsue9t6wq9T1Zo8n+g2NRTo5970-YkXtcL6W6-VZD3uT6jxW-pYYRyEL5GxdiCl3oLfI+C9BLkx+ojUBbAf5-wYIufGkgyDO1du7XUYDK6GW3HAt2CD3bCCzofSu-dI7+hHs7NoBZHBW2TnfCBS8qHtElsoAGxgWG0OdswLQ-0pbd3fkfY+ZD75hnPsQMWlBcQfGFnwsEJC7YQM7HUCh592AeC8FgxR-pH4-HUcoTRCjP6qNFIFbhsjbZaNEbpFoT8zEyN4ZYoxIiv4x1LmIOgcirGMKfuaagHivHONlrYYe58C4VGUHAyqoCFHWFwqAIeMRdHLy0PnGBjAIn7m3iWIQIFMlWOMQaShmSJoz28To2xPwSnRNnkEgeUcTLBC0RZaytkHIuBdlLcgyMPJeSXh0LQhUIpM0EIQOOWdkTcFbmEQmr5RTF2oAoagNAcwtSZmkugv4FQjQzriBZSyVlrPSRsqZpAxBhBovhQi7phRvlSEbco0D+az2RFsho54S4ZDKv0vOBdCETIcMfHBOkUZo2EIXCOcF6BeOBTpRM6TEGlP+srZurya5wonNM9FGLQwF1llCzxljXnPkKArVIZiDafLYNovspQKVUWfmjMEVKaWhmaMoy5x4iIKkadOSZolWl2UciDdJ7JfAkF6aM8ZhVYjnGGaKuufsA7TWbkXQwJ9CZE32i4G42JW6AgAHyVJSQDVuJ8ZaAIubNN6yZjXPyvs4G+dS5aarJUwUg-BVBZx+akt4Dr6A-CAWxBOdCK592CdYmxPqrYv0dY2Sk1CnGCNIcExSxkha+svssuNO9qVkAtocgpIjXo2pYkwjhNC2FGEoAoSg6qRGarmakCRmhpGJtodW2tExNWkuJmUD8apah+SuXqJtDA4EfHMY4qWna61vL4tq41AyAZVFIJOhxEjLEfC7cfYJw6uU9tiOeVd66a0gWmoyQy0b85wVPRYmd2652cD3SGMd9KcY3rXSBR9jcNy7RWCNE936z2-uIH5eMB7iIAb7eW9tVbYUXjvdOuts6wjPoHuB2V5I5V81tYqhuDg-EeKlBbf6MziIjV1foUj8UjVQkI+49UcJuA0atfK551JuSMHwPwBg1SZ4CPoUfRttzRQVtYaGlO-6j3FWpGewwjJxNcI3XIwTYbDwuj7aKFtUjmGVvYfJyNJRQDpEyLCtYYzJaDEMFxv2vH+OolRbe4D96wSPomNijFNmhB2bySYKJAn9AIb7M1PTEnRhIc3fw1DkwSWMUgyGN1DmD7JtZQaHWoJ9DJZyt7DBVijPNFM2wYd1qRlMP0YY1LGriLnn+YyCrrV8BEKsX5c8e4FNAm89x+z-nSmOc2k13wGmVCyYY53YjoRGT4YDmN-xX52vDZGte-5FqwUQpzASrx7XPM4oxbNib9bgu7emBGktZW7HEynVF+RVWG0Ub7aF99BYgvQWvWY9uwDO4xNS8I07pXRVMKI4SmdzrdrngvUCa9QO5GgYAUAkBtSfsnz8kDtBPtPYfuh7bNHeXYnYwLMjgKfbppnYB0-bLiOhNS2q+SVHuXfYGwpzjj2RajsNGvUz6acOO4pap2HNn24-u9sXRy61jN0kKbkKzKAcBEDIHQDzYkuGWKK2WXrKxrqtOpHSG7MgGvQAAB8DeKTE5QXqnV9dG5N6kd2Ht+iU-U4b43L5tcZDfnz8IsQrcu7FAOr0LXZojN1irUDGuIiFCJ4uhRpOOOimYGICQ4K67NPZH0e4O1NeLvmUuWJoAABkefej9EGLn4SQJKBp-jzH215sg65-u1n1I8fE-jsy848ENGhnK7cvTxsDcaNh8jwJQ6EZYn01LW5UUWOQc-czwJOP5AE+1Fb3Odv0+tL0xGev5n7vHcN+H8X-QEYR91ny-yBGHHt9c4+wjwfwuD8jAjKPn75-u-mFFBTu-sQ3XN+X8n9vOSUsfGvWNS8ITu1u6eLe-+t24IMMfwwBkSfWzgYB3u-oC+S+SebeMB4SIBM8XeIyTOveX+e0D+gwx+h+z+HusWr0BBuBsU1+gCPO32HuhMI0J+tolB6mr+E+7+qQeCv8-8N+X2DuKcrBWukBf+WBfOFk-BCCQhyBm+Cq8C-8SClsysO+amohf4lGGgRg6Cvs-els3A7Bu+UmihHGsh-8-yxBbBFBp+nBZh1eKu5Kl2KmSaLB2h4hv+mBq+MB9iPC12+Boq72jBn2vOe+ywthj+p+Y+Thk+9yWar8xBJBbo6BUBUhYaFkfq2aAajY8h9AKBzuaBTei+6Rvh0hok2Rr8V2ciQRHGVROaQae8ec9ekRfaiqgQMgKeeI5htqDRuRz8SmN2HhbRi6HRlQKepINBoq-RFsjYnQysBa1AqyNh7RoIDAnRKeOg4+IyYmcGBmta8sXhpRkhc4j6FkSmbCdRtqoWlxBxc6YhYxmW4Idx4I3A7mvRLEdxNRtszcj6zwsQoxpBR+p+-xnxbkQGPxD6hmjxwJHx0xHGJcLmyGfxMJnhi6mEhmCJNezakibanCVaHxsJqRrumQMW2Jzh466wyJ12MWxJyQpJWQmJO6OxoqooFWyRP+JxPhwxmRokFW1xC0XIXgjWzWrR9+B0dhtosR-2seMcYy8cZS4pWq8+JRGBK+vJocFku8+8BR4J5geKoRt+ypKRLgJh+WFJbkrc3OYRRoqxi65pDhd83B4uzyku8gSgMuHM8u3Mlgb+DJ7qnqWcyM4MjejWduQg+gIZCSoYpQyMaaLQpApkUZFktuHAQgLQgCJgWgwgAQJgxAyxtQjQXePBOqUC6yqhyKZA9aK2d2Q+boye4IDyIgTyyYbxCGlZKCa63AtZL6F+OJF8ycjy6yMgoZqpEhPJ+cWRIcw56SgpEJCKnZKK+cY5DZ6xmxMg3APRlpBpCK1ho5c+a5k6G53AUxgeoqeKkK8gwOYIB5++R5IEJ5ugrJHGj2l2BsbwTKq5aIzxT2xAbxI2UsR8O5AZf540OM35583hGp4FBOokf5855gf5jKli00kF5paFL5tqrCXwncnU62m2liwSh5LgEYfZpZIMzmP0yC2cA8JFReIw5F54FeLUOmuI+K15cijIRWJwFFoWcMeh6O9aKqkFpMvewlVEbGFFcMGh+cyCAJgJEpZph+dMIFeMlsoGqK8lkQEeSl94WQqlsp2FqMVmBFnFW6+huo2MNZ6wrFdF95aIksYgFeglGCMyZewITlLla4SwsZo0Zk5ZNF4l1lwiLAtl62kazQHAnULl4l4QAAPJ5TFaoOBb5bSomcmeCAACpySQJ0C+CCBnK8CqbUhYhxzUBFmiSgAADUMZOKHw5uYgQoWccVNVokFkbVAucmjVzVqVg8E4xkSZTS2VuVMgxA9khVYgxVvxpVCpFVwgzQ4InVu2DVy0vVrVtVAFS1tVXVq1nUvVPl3BQeckEkO+oeveNOSIAOEc46ck2IxFUG8KHGXWrlHsEluo0mmmYZRWr1H1bOi8N16I2IXVMQOF+AeFbcV50KRFA8Rm0wzQveKkQIh0cVXVswh+h1XVCNXGIJD4llaG+lfVw28Yr6tyssSNqerFeJZl0Nmsh67OQ104F1AqdA7s5QJmlsMqR4BEJ4hkx6yCjIkJAlL6fYI0L1Ml4lcllsQKx2MQMlKqUtYMxNWGJNelsst1RAtFcscR5gdOll51ll2Ml1T12FgNd1Wtn1Iqz1ONwVA0H19NRQbqP1qN6EANOYGtwNOKYNENNNN5FtcNsQCNllFNKN+NAdxmpEh0Pl2M4dgdnGkZmEYd1otoh1yteEdVDQr45NHlLFhc1NHFtNdsDthQvKv1LSrNPGIgHN-0kq6+XN9ECWfY-NlsgtVFwtGGhkYtONEt+NitfIO2Ok8tklfdcWqtKt3+MGZtmt5F0gVtyY7p0u7McuXMPM2AFF8yvUByhZrZicry9JUF3JMF-K4I+y2aqyiFJMm9Z9LUiycc12ZSe96JwJEYxKJa54p9hyO9XcU2mWzojZcwAFsQcwE4MtDQjZHIgDMQHIIDO2jZCEkD-lMDf9zxdcCDdcSD0wjZ5sbuAF2DmQ-ooDRQjZwUcc5AvgAFJDcCBVBohDhQjZvKkDvKfYtDsQjZNwFeO8LAhgbx7DqgnDCmKwLDMQjZ1VCDsQKZoAQ2hqoAPStV1DQjwIzx7kYjMQEjUjAIRqPSXk8jsDzxzG0waj4QGjMjoAkIkjMQCjjZwAKjBgyM3A6jmjoAYAOjyDc44IAApDY4Y9Iz0u4+Y6AJY88WXmI948Yz0h5UNro24wAITCQhN2OSNGOOOxNAiROuNgjgjxVeMJMOMmOJUxBpOYPPHxUAgqOhOOMlMFOBNuMGrZP2NJMmNGpVNRMZMGqlPcBFDlONNAiJMtMQjRM2MmOFDGMxDROxAhnOhOjv1X2f0FziWAghhUZzDcAf3b1MxWrTOLLX1f05T4AsAABW2ZHWizuhyI0jcDMzhZAF5pxKCjRQqzqyOz7wToRU7wJUlzjzgBdaP9c4jZyiAFyidzstwjzxkAdAaoyy5DHTYLELUiQLwLbDVAfDsAkAkDvDDAKL8LstiLHDAAogg+i7i1i8do2QAHLkCks2Pkukux3oRTOyYPMtRfMaELMrBUbKDSOHTKDCKMuDHMD8L0tvM8AfNMvFS5KaWsvTDsuctSmqybjCtbOf1fNWoUW7KIIitPMnKTV1yQVqvfTiikCZxXT7PkB5g2a9SaAvbQS8u30cByIP2AoD0rCtw6tHBFBGVfH8ROwF1+2QWgqmU+swrQSxxWb6C8tzP43cAg28vMtxVOsNAhvozhsIp7OHOmCHbHYxtitAEiXxtFC51sW+1yLj4cACC51iBfBhV5FQ03mKZetFuWIvOunz0syelL2cyYAYD+mAVm7kCmAMAsIfBVQ3CkCaJwHNj0XYO67TgYUTSYyOj3zo3REcGn7jsLttXggMDbXdVrUyBZyztAzYT3zNAHvzuv4jKiw3BUKqE5nVqNXkb1kuB9vKDFUZB5xGBTLKDcvSMKa1UtxfsU3ghLWlBAegCLUdW1XPvEv+hAfvFm7LRSUjIOBILGB3vLSnLnIYe+4oeFgRD-iPs7udQbsQhtWXv-zGA3tShUbWnIcTTGAYfdqbXWDghqW0drotTKwKAtxnKQV4NZCtyLuiRFbaTw3nzJ4Cf5557SR3JpBu6438c8fhBG4MVkGn4CfhApOiTFDwghilBDCH4SceXgjaeKSlCfkUD9uDuxQjuaICcJkyc6llIScF44K17-QbLJg2m37qeRogcke1VsfGBMBkBceHTTLcc7Ryg7UThLXbu95KqBzueGnw7CERdRcZ0wdVUBd0A4fBekCheysRfNw+fhDVU4LwgidFL9o4d5SggAVmrVd0ccchf9WifZ5jR2cBiNfscQjwPcDJ5hc8fJ0KeRfcCBfNf5fHvnx7VdSdfayiQADk27+qm1S3IYCN8H+1e7aXrHOXTXA7BYpAWcLCR3vHjJ3EEiLAeuh0J3hTwLijbjQgwgW1wQW1dkWk2pbgaYW1HqHA8IrXMk43+nIwt3wiEYoPY3e37HeXPE633XqHN3h3kThNEP8PLUoPOtLgJrZrygFr56DKxcHgn22cgCZ3O8c1ups8RcgnjZjnqIAFyXTBVPpPebhQVG2P6wuP1AmgsOhPbCbgDHJPhAsWcPbnAM1PunD3GT2n7x+thh7n1PU3RcmPoAt36rRPbgQvu0Y6dPZcivh6x6CKiNQIIY8X8vK6CK+RzPwvyt0zGvxg4K0yjIVGavfPn2gvivmGgGRvwdRn8DkvpMh0bvX3jvZyBN5pwfDvO8YfIvKwzQEb6OgHqDAf8g-PUf0ycPCfGCgHHP5r3P+POMlXac-lHnsUF1sK7PprnPePvPqf7vk1qqpPAPSkpMWfHsKzdfIf0f5yw2I6-wY6A++vj1I0jZMv1IcvAcg-Tf+6PN3KX1Akyv2GHrbkUiJAWvk7qQpMEvXXh02-onpdRc5dbSwqVvYqJAF9Pbvx6-Dl58W-pPkvZF9-cfGVTSh-LNx-Lgp-n5vxJZW+X3mkVUceK1BagDAKggwanvRVX7i9SegHc0N9zUqgCd4--WKNYQgE38uW9AJlI3xt4q9RQPUa-gRzSKnEwQb-Yzr-zZJvNckfUVJG-zhiQ82aLZHqAwHUAiAOApAXaBeyIDeoYBj1GIGOnwFD8+asmT6PVmOj4VvowtQBLTHkqYZ5+JJX3BUEHSDBPotLJJP2gYHgomBLA4QGwKF7SDpabOZoLkEIBZxPooeFQWnXiyz8bk7YRFGNEEGi0+0pMYwfu0PyK9uALg+Tlr1HqypG6oYJbIAlkH+Qx6KpN0J4Op4q8Gq-QBQOTxIAtkKgVDLsGyASFkNl8hgUkBv1k5klDAPRSXikN8BpDiQTwOHoH0Pw5DoOqjBplEL+ixDTK+QrsGbmiFkRyhrPe7g0HqHgp0h57CgcrHTKPMOhRgZIQRFSGdCMhN-PjoMME4dDnYRQqbqUJGAtDYUTwaRtUF6H9B+hwwgoYMGmHpCngrQvsMsOMbVCYhmEHokdVFTHCfocCGtKcwcDvFIKMga4WjG4SBA-od7JoVRn5QTA1KjwqgM8OOHvC-oZPZ2o0KBGS8isovICoa3WEtQBhhkFGqCJ4is9DhRqX4ZQH+GIjARJw0EoiOoLL9zAHERYgwHYZcQOI3AP+NLHUoEwb+cMQDjIDrC1AlqkvcEPSL2CMi4e1CG+GSNYhUBwgkvWkTEFF6pB8BHEPkV139YtkhQgxUEJYm5EUj9BYMIUXYPgi8jJOt-JcBSME6Ej80xIqgFxAjCij9h-oCMJqKNEGhtRSQXUZxBSpB9eRZo47IdFNEg10IdMKbiyIZHPdIhy0UtjlkxHRkb+pMBJiiJMxu4sKLENQCYBFI+Y4BAA0BDGNRDcBXeVARMUj2orS1NU54EkXwxZSMgLRjALMfoCTGUj4xzgKNm0InBq9DKelLMRsWARfI6RHoovsZghHP8IaPoxgACJrEsowxbkXgEF3agoww2qo8YakBm7A9BgoonseYHSgvDohOINkN0DGHkhzwHWcQJIHnGZhfAZ5PSu+EUH+4ZkpQIrGB2pC4CPwyMBgESH9hDii6NWWTN0EZC2i7YfkN1PgO6DhAQO2nY8d0BLSltQAWVAABK4sGAAAQXADgBcWAAJSyqQAAA8qS2QBAgeK3bMataKQEaR+seYhUbhwI59ib6Z468YsUE4ziBxyMZfCWLtJ5ipuM4zoPMWQFdw1K1EzIGhLTBdxlhN-ACUBNAngSoJsE+CQxIHAkSyJdEiiX8PzSQUZxAIkiReKzBXjKJn3dCc4HcjHDyBHGNUI72EnvACJ+aLCZBUuFoiqMwKCkcVUNTBYIxBiHeIwHImzwjJ5kScOiO0lUj+6wKFCWoGYmxjNJmExydwV-G-dRWDgZWIyAAAMvFEZDUHsgbEMgIAinpvGoCDAHokUi+P5O0BAhfJiUqEW1TxDPi+0qU3IElNIBqVQsYU66IewBhrsAgCU3XjlFimiUlwZAlZkuFSmVTGAsU4blTD+B4j2MtqQIDRmKnztUg1QbIJFLByyZGp0U2KLFO4rjUIpHAWIYqXGlxS-IIyRoS1HsidBNEaAxLOIQEEwDDIpQQqVNLXZ6C4gFUsaVVGqmGRKEd-YXrtJL7LSGAq0tgJol35N97RUDQICtLWleDFeBWTMoQBKx6U7pD0zRL5KnFBRiAcQ0IH7Gt6UQSpOkzVEtPen3TPp2E1sKJmFETRs486NAmTXaA3wypLQLGROEegeowMhkPvsXWLDCDRBd0L6IwGFo6Sgh0GMMsok2iqDi+9IwiM6PDCIygZt0baOYJ8H0Qh45M3gY7XEJb8xR0EUoIDM+m785QynGWY9K+nN8+w8fToMYCCEMQGIxM4gB9KVkRD8Rn-EypKIDjixS4G0fGWuDhm3ihWIgoEGYIkE0V8ZVY2IK+DGa7jPwUoCwQ7RGgOBmqVoriGYINgqCyx5Yq2V5LdbYYD0-AjGWuF-DHY8AkIJOSGFqxiCxA1M-mY7KDjhyXZcglwO7I7B+4vwKg2FIGDoD+yCxZU50Q0CDk3QQ51cooHTHMyZkwUbUrGHbQZlRzrBr4CoBDNHizxw5zs+SgCUTnJymZAkd0WyM9FdzrkosgIa3MtmdBO5JNTqSxD9l7sA5KVQgAuDvB0x6KtIozqyI4DPdmRR89kc-05FZBt5KzUkPyOQRKiRRPRDLsZglHgopRZszuBtGvk8Bd58lB+RjMIAZDJer8hgO-PBqfzHggClZmyD3lOMwAScyEEqNJjbzwgBedUWNEAWCd15uIAsQaJ6KvTCgBo0kAQtiDYLN544sNvgobkGgg+xC6hSsFdFw9J5x8ljobPPi+SW4GksntBXE4aSLIvki-m8EiR9iy4IM+iuaRBn6kXAqU6wmIpHFZCmS9hU-JIpp7PFOgq03wE3hJk6dn+jpZRUNPOGX4FSuIf+Bwt8kpiyAeyUSUkAsVHc0x1I5cbJkiT25pp8UC8D1LXb9TZ4IM1rKNnLkbycxJvCcGQoLFFjFiJCikPQGEWpdnFPmEGREsKCViZBOE-xbiECWqQz5J8rri2P34Zp0eSPQaTNOsKxLGA8ShDG2MkC+jXhXHMhd2JLaSA-xgEhgBBMsgAAZXFghJDGZAQpF5SQK5N8nNxPJe8m-rhNAX4TKJkvYiWeOXwDKtJSQKiQOBomuLm4UitcSBCWWzLIKHE5pW0o6X8SQIgk8FLMson0VLhibQYMCgkmYipJl4ronJIbnghfJSkxEfCH2FXLqlEIMfo8sinPLql-3FXmq2OXWK6A1sgjnpOuEGTtwvk6RsFjVamLIphS3GEMvkr7CXJ2YyKYMuBU6TQZ1IW1vkssWFjUxyKjSscN0mIirhVASFdMAPlGpDIZyyzPEM2FSgEMaktyf1jCUOS6YZo4MYCoxWErLFiKeyTYq8l3MJauIlXtGgO4ErbuWE2cUCIzGyZWgZzIEOlCPzioAYqPcEJKtu711TS58FmUqsBSmdcVYsGabd35VHdZVpKhMoasRxAVosqPMVdUpxWigSJDoa8WTzHGPj5ZBuc+PgO9U4qPgwQEARpLGVjKKgyMThQpPoDa80Z4alGO6qsmEzDQQre8UCBuUySuiSaoIeeBfZJlscVkuVUJAFzvK5x3QeSSxPoC-LohuqwoKVBxAVr3J1av6O2T7CkwrJ3AYMXmu6nrLQ1pK3vn4Lwjnlnq48QIK4rDUkTEVw0oVnmMZBCL1wqXHxeSDHRuqv5wK5NTJlTV+BGQGa3ELJPXU5qnFiQHteOuOGSs4Upat4eWvgo-LlJlg+tdeu+UcBm1CgVtaGFJjmKDADTbtdjlSn9qZ+s8pfqvKtLCAjlCUieFZKjWVrNkmQjhUmufkPxBAoG1xVBvclTdEBkG7NcOttQYaNJqG1ELtCDVjrC130SdVhpTVUgPY6k6NczCBDbKuJkE6CXBPAB+R6NYExjbxM6Xtq+FX66RlRrZVdxFsfacEBiFYX9kWIiAsxUNM1REaWoqU0jfhKXUUaBA-GgZYyG2UtL2lLG8kBpt2VcaGpkUztQ01U0YqhNi6ETV4DE3dttM1NN4Ps2ORqpgRcnRzT8Kop2b5oQvB9npWemEBEOwRYBCBHc0ohsBXmiehiVPwubsNlJQtsFHs3PJPNTmskpFvE0QkqKsWjzY5vEVuDLUqypEnxhSBxb02CWyARFpy1qUagYgYWOCnNWZb0B2W3zastz5c8eeCiYreHkUphbgSyW7tnZvwADSgt6bK1biMyGFsBticMbWlRkhOrohcPXrQNLy0Tbg4dAQrU+iOzaqClkJMbUtpW1oZEkwLabUCPHz1rwQT3LautssUAU5tmyHpRxli19brJBW+aPWgO08QRt1NdLfFo+3ptBOOSoyO6ChF9DYRTKi5YLjyVSqjun6SdF9rBDQ6CaL2oFPEkqHSM7t82gLflsMA7assj24LQjpxTw76Yx217hZHO1HcKGBW+7S81CnEBKtqSLFI5KLVkrqlFKm4Z7QnA0q9t0wCYSTqzgVaqt4OrONMgqFtCKl48DsZiNdEhJ0suKzqO2KLUj0h4gEQrG7kggNB4dr0Y7e9zO1g6dVLGancLEp0A5SJL7GgTwII7Xo3+5bStj8EDbAU2FTWmvgbDp3w6iwYtclfpN0KKR2doYFGCYH4AAx1I-LGgHnC6r278+g5MNEV2ER0Cuq3UWmEk2dGl0cwoc8sVZBshCoSYVAAaKQElTbUFdiO8EKHp57TR-uvnaXRW0qVi6PlTctlF0rYB5s1ds0Y7YXoL4FgtducLQPzoArN7QMLzTMd0nR2kMCqQIAAJwnACC7EKhnLtC1y1RUlDMhkWtAXKxq0LGS2gPzk4fAN16dbubchcAeVApltQoHPqzgLcFuFkNAOftrW+DrBosw-RPrIYUKN9lg2-SFEn2XC1cTNclZiWEQuAvI25EMFrPJBH6F97+j9pAnPFH6cV6ishlouexzZg1Q251fvOQRFr1d-ACEFAc0WBl-yxO7XUj3q5sANFMBmaBRUj7863wOXfgKuDIDuxO4cLBVUK1aCMhXenfTFT12qClQN2Rwf5cutuSrJSANByFqAE04vE2RUsMAqLKP0QhPIXkSPqryR7-aODvSZRgiAQ0xBJD43Mg60GOBWDZ5DEV8IWqAFXcd4oGqUFoctqSbwNpAATXGOQ2FrrCZhoIa+D4MCGpEQh1SJ3Giob4KZahu-VnHBDSHPITIaDUhrAFKHpDvkHQyeC1mDqigkh-wwEa8i3dEMXyBTAkc8iX6fDL++fQCLpXkqqV24L3Xtih5BdzV1cgPVQLzitAsJnapPSDAaZywhdS6YWJofeLeiK9cuorLFl75sLISQgQwPZD1zsH+A06qkIwaBDMH7eQ4tgxQYECbUuDcWZumRkZDc7CxrRmXe0YBGdGzN45H6nDEm3F8O8+ASBNaOWg8jmAUkf8OymKP4qId5RqWNQI1XGEVKyCAmrHrqPSMGjEq42W-IDiUgZRM6fGfKK8n0GqQds0AA7LplOy52sMZJTuMLl7ji5ac0va-Lbm4wgT1e1RHmPIW1yP0Ics453IiikHzVC3eMfoHLEAAdLAHBoZXgogBMgYIFxyKz2N6mcoaCKftEjOHwa-5J0ESYKUknkBZJtoZSepMQyt4P0Bk0OLGi8BVwwiHoKTGlOgAAAXvK1ACUmig5ysU-Sfy5vGegyp1kzpHZOwFqDXJwqFBAahUU+jAx6cCSZpOamJTOTfrmoq2osAtqygLas90mALcnQeAXkwSptOim6T9p5k1L3QPOnXT7p-7oad8hAA')">function extend_if_consistent(variable, dat, frame) {
    const binding = binding_in_frame(variable, frame);
    return is_undefined(binding)
           ? extend(variable, dat, frame)
           : pattern_match(binding_value(binding), dat, frame);
}
</pre></div></div></td></tr></table>
      If there is no binding for the variable in the frame, we simply add
      the binding of the variable to the data.  Otherwise we match, in the
      frame, the data against the value of the variable in the frame.  If
      the stored value contains only constants, as it must if it was stored
      during pattern matching by
      
	<span style="color:green"><kbd>extend-if-consistent</kbd>,</span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>,
	</span>
      
      then the match simply tests whether the stored and new values are the
      same.  If so, it returns the unmodified frame; if not, it returns a failure
      indication.  The stored value may, however, contain pattern variables
      if it was stored during unification (see
      section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>). The recursive match of the
      stored pattern against the new data will add or check bindings for the
      variables in this pattern.  For example, suppose we have a frame in which
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is unbound, and we wish to augment this frame by a binding of
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>(f b)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>.
	</span>
      
      We look up
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and find that it is bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      This leads us to match
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      against the proposed new value
      
	<span style="color:green"><kbd>(f b)</kbd></span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>
	</span>
      
      in the same frame.  Eventually this match extends the frame by adding a
      binding of
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      to
      
	<span style="color:green"><kbd>b</kbd>.</span>
	<span style="color:blue"><kbd>"b"</kbd>.</span>
      
      
	<span style="color:green"><kbd>?X</kbd></span>
	<span style="color:blue">The variable <kbd>x</kbd>
	</span>
      
      remains bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      We never modify a stored binding and we never store more than one binding
      for a given variable.
    </p></div>

    <div class='permalink'>
<a name='p19' class='permalink'></a><p>
      The
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      used by
      
	<span style="color:green"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue">
	<kbd>extend_if_consistent</kbd></span>
      
      to manipulate bindings are defined in
      section&nbsp;<REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	
      <div class='permalink'>
        <a name='h7' class='permalink'></a><h2>
    
	  Patterns with dotted tails
	</h2></div>

	
	<div class='permalink'>
<a name='p20' class='permalink'></a><p>
	  If a pattern contains a dot followed by a pattern variable, the
	  pattern variable matches the rest of the data list (rather than the
	  next element of the data list), just as one would expect with the
	  dotted-tail notation described in
	  exercise&nbsp;<REF NAME="ex:dotted-arglist"><a class="superscript" id="4.4.4-ex-link-2.20" href="./2.2.1.html#ex_2.20">2.20</a></REF>. Although the pattern
	  matcher we have just implemented doesn't look for dots, it does
	  behave as we want.  This is because the Lisp
	  <kbd>read</kbd> primitive, which is used by
	  <kbd>query-driver-loop</kbd> to read the query
	  and represent it as a list structure, treats dots in a special way.
	</p></div>

	<div class='permalink'>
<a name='p21' class='permalink'></a><p>
	  
	  
	  When <kbd>read</kbd> sees a dot, instead of making
	  the next item be the
	  next element of a list (the <kbd>car</kbd> of a
	  <kbd>cons</kbd> whose
	  <kbd>cdr</kbd> will be the rest of the list) it
	  makes the next item be the <kbd>cdr</kbd> of the
	  list structure.  For example, the list structure produced by
	  <kbd>read</kbd> for the pattern
	  <kbd>(computer ?type)</kbd> could be constructed
	  by evaluating the expression
	  <kbd>(cons 'computer (cons '?type '()))</kbd>,
	  and that for <kbd>(computer ?type)</kbd> could be
	  constructed by evaluating the expression
	  <kbd>(cons 'computer '?type)</kbd>.
	</p></div>

	<div class='permalink'>
<a name='p22' class='permalink'></a><p>
	  Thus, as <kbd>pattern-match</kbd> recursively
	  compares <kbd>car</kbd>s and
	  <kbd>cdr</kbd>s of a data list and a pattern that
	  had a dot, it eventually matches the variable after the dot (which is
	  a <kbd>cdr</kbd> of the pattern) against a sublist
	  of the data list, binding the variable to that list.  For example,
	  matching the pattern <kbd>(computer ?type)</kbd>
	  against <kbd>(computer programmer trainee)</kbd>
	  will match <kbd>?type</kbd> against the list
	  <kbd>(programmer trainee)</kbd>.
	  
	  
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<span class='comment'>
	  Dotted tail notation is unnecessary in the JavaScript edition. We
	  simply use the <kbd>pair</kbd> constructor
	  rather than the <kbd>list</kbd> constructor
	  when we want to refer to the rest of a list, as shown in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  See also section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
	</span>
      </span></td></tr></table>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.4' class='permalink'></a><h1>
    4.4.4.4&nbsp;&nbsp;&nbsp;Rules and Unification</h1></div>
    
    
    <div class='permalink'>
<a name='p23' class='permalink'></a><p>
      
      
	<span style="color:green"><kbd>Apply-rules</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_rules</kbd>
	</span>
      
      is the rule analog of
      
	<span style="color:green"><kbd>find-assertions</kbd></span>
	<span style="color:blue"><kbd>find_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>).  It takes as input a
      pattern and a frame, and it forms a stream of extension frames by applying
      rules from the data base.
      
	<span style="color:green"><kbd>Stream-flatmap</kbd></span>
	<span style="color:blue">
	  The function <kbd>stream_flatmap</kbd>
	</span>
      
      maps
      
	<span style="color:green"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      down the stream of possibly applicable rules (selected by
      
	<span style="color:green"><kbd>fetch-rules</kbd>,</span>
	<span style="color:blue"><kbd>fetch_rules</kbd>,
	</span>
      
      section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) and combines the resulting
      streams of frames.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-rules pattern frame)
  (stream-flatmap (lambda (rule)
                    (apply-a-rule rule pattern frame))
                  (fetch-rules pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nw8akEx2abEShEEYMDKgAAMXU5SJohCYAHcOAxnVxeKJyMQKYMOORZMLiRHXe7Rl7w+MOGnVaAANSgeRdYkbUlO7O5j1w-2DUBYgDW0yDoYmLAY5BYACNxjI2x3u+NlFnpgVo7GAwmBMnjKKaFdIgAiNyL5QLmQjyPccdx6hT5TWvvtzs9pgwzocrAgUC4rmEWg3hiUNgQGDwJCoNDyNCaHC3gPbNY0YeiwDiumw3DUPwpAzkYc6AbsbBdqMMjgZBQbDLooAAD7YdqRg7GCKoAOaoc+6HQVhuH4QhXaUJQ7yEGREFQZhOF4U04p7MxFFscY1GcdYRAiLgKpzGhrEwTW-51sBoygRwbaiPgTA8ZJhKuCKZZbBJGGkDWtbIjsVTEcRPjRvQal6QeMSVCwxGwesmyWNY666ZRoAAGSeaAuqyO5bHpEFoCkLZJkGTJRnWIQ7CqQFMGrKWzkISZZlCBZpBWdByiLjFbBMIuF7wpFNC0BISEMRwlC4DYsVZWxRKztpNB+TIh7xXaf79ABOwsLQtDkMRhD5cM9UJY1cHNSl9lpRwGVjTlfUDUNI2kIV0ndXWS2DcN0G+OVdFgeR6mJU1yWtYeF3VGN55FYZNDbSte1KSpHBMAAHtwzD9YMN2nZN523Ie7XHXp54RZtUXFMQ4gMLuTEdf9TnlsZM3mVYmXxTlrr3lUwzQ7D8OFexNGo6Z6OWVjoCLv2J7ZiIMPtkTugCY0ZOzfNVOLiVBNMwG60ciVniM3Dk5lRVR0sWD-3wVdUI3HqbXXR14OC5DNAM4Tk4vdMH1fUwP3UH9E2y0D10g1LlGdfdCHiEhAgsG9n3fQNRuIybU3sxTmOg9l1N212DtO-rhuEALvRCwHQdhHD+UevtEu0MbSTwUycgHZV1W1flyhy5LvEwZ1kfsIHjt0QIEjJ2d5Z50r8sq3dNs7HONIUkwq1VwDKPWKl3sLdTLf0G3q3hzbLd6y7v3uynU21yrEOInWOw4wI5ABqBndd2KPdo+lGP94uK9r4MCkTwbrthyzHFszv5N75TvvDNj1Cr+voityMI93ULR9vxw+urwnHFR+40Z7JQymGJguB+5OA2ovZEv8T7vxxrQJgABHFSo1p7Vy2BA5g0CqY6DgXeUAiDqAKVAh6GKFApib3gngqB-cADMjchaEXQZg4gql6BsFATglydk75zX3jw0gOVUEYP4Fw0eQtGzTAkZw7hmJSAEhllNeai4FFSIKviZRBJiEAS0SQeRVRP7QSTqIjSRgwE1zNvLSx391Y3giPQD+7doJlF4aoj2gNFaiP0WreBNBvqkDcatCxejYLwUPP4xxQSELt24KQCQvgOHaM8SoqJntorcViQYpeQE+qhKHmY0asS1HJS4pKGJkTWFOJ2D2SgxAGyb2RtvQRHN95c0ac0mRTiekNg4OXSu2D+G+TsfndSdT4m9SjDGeGdDskdL7lzMc8z+ZxJITzM+odFm+NkBbAuRcnHtmIsHSe1Ak6jLaS1CZddJlg2tmw6w-YZB60cvBL299Mp6xyiuaZJDmB5WmLTQcBsExMRHI5FBjpNxrInPGRMXoWxhgjPC+GU5-AlmMELXI0xgygRae8pGSVu6KXbG8z6ugaKgA8HImwIZyUDlPJS7gw40VzIRXuRMMpGjKlcuESI7yaUeHXHijgBLRAtNau8w0QJXDislS0w8sreUNBCHrbFRheikq2IqwlG5nSN2vJQPgot4xVFPGufAjoWCCFAGZUgV4wC4CfC+YgUQeAelAEw0AcgmAkKYWgINLCurxKWk0mQTYJDDgDZQBgAhvFaUqTkyUzBXQJoJDRDwwkoFiQEDRDVGCN7RtzrcVq6b42JvPDS2l4zFaVszWq9VoAI3ECjUwGNIVrqNurQCgC9LLW9mhZcx0ogmkKSHUwL0GiABUU7Z0C1cJHeiDZ8DMmjRwJQoBN0rAmoEGFdB8BdinV6NtHaUnbsPOO2M78p3snqOQXAfqdi5tEkGOIx772OXqPBN9+atWBG6KAMQqCSUpEPb2s9-VI27oPNdWgX6wUPqaJ8oSgg80fo3HGhNzb5U5ow++6QtbkghEPL2i89QdXGGo0YNh95RiZU3duuDoAdY-uMIexDJ6wXQdoLBztW74PyxvZO5DlGUhPpfehkS+a5BIdPDCcDyRUGhOvROu9YK6jyuSOueazG1yCovRwTQyh2Nyp0-UdTt67KKZQ8kYDoHp37vqJBnDAg+MCZSaZ7t9iFPjHsw0KTMhX2EbkxRjjABIeoqm7J+Z41arA0XLO6aM+uVj7HtMpaaDE-zZ52TJe1SB0QYGXNNFi+R9zZnQIqQk40WjQG1gNaFqvWgYRSAepkGwDjW8aAviCukf2q712LhI3W8dlA13cDGyEfrwVFwqlQQwNaY2jAeEW4x1bSoQMMCfJENgOUACqhAGyEEoMGGgpr5IAQALQ3e7aeJdNHk3lla+1j1BlD1XfNXuU9g3B1gqxVgQ9jqvTfYxVOmQi4JtTYFoe7gNqwdmoh4DhbDHlsCxtvSrsKpV6EFIqCq1bGatniRvBdchOhzE+UmefJyIceCBIkyumqkGd44cmT2etw2ckU2QBHn+PyU05kALjn+7onXVF3zusouIUcFdXVSnTBlAK-yh8qa56lcq9jrTwJJCPpUlkFr6nKltexXV8ldc2PcckSPMyqnmXHzm4XiQkQhRE1VSYr84n9vldO7V0jXFzB8UGtJ2Vgiz6QsvIpfl5TgRgscI3sb2P4eGjRPDEwQDVHiuldW4ersXpZcqnlzrt5Zu1dZ9Q0s-9WGux4ZSx4XAoFUFbdIyFYPEqDWy51iLwLVGkuOZK85mlaH-5GdJ6tjw+qpUK1kLH3C7emAh5nyqmEq2QhN6H5X7VTWXt6o70q1l-a6wG-4EIJ9-9KA-RZcbpS5ew9rHzzb-Hhfn9nOL6r1SxvP91e2JHgAhAhDXnMFLj1jcqAEQE+ikliB1lECLm-kLipPAYzvjgkKAK3o0Hfv7rTuga4IPmBsFjsK8kpEpnoNlq4NeLOlQYqE-igcRK-nQXLp-keKIPfr-rqjQIAaFrJrXm-vXvUARlAYyBSJ1lrhgY0N3iTsgezhZuQckD-jNiBu9IbnbiztVqwdgb-vgdOsFm7mftYEbFgd-jrqQaAJQdQb+lNNzNUNIIuIBtoXHvBKfoIKoVptTmwfYZeELJAbgNASIXAdwNutwD5j-pzslJ-hkPNk3lCLYYqB4NYTEQIKNvUEWvgBvIEWuDoHEdgYqPykyjIIEdSgIUoYbgmDVJBNfr2BkaECESYbkQhK8sEUUbKCUWfmUZfpUapMEWuNuqEWYWAFQbOvUTsOuIUV5D5CMWllkcUT4X4bAfcgUU4FluQYeE0csdlrMcIfMa1IUesXIQ0DsToHsfsSkD-vwSEAkeMEkS7oYiRA6HuGCBaO9BbuWOuO9MoMaKAPKMflDCODIEtIxoMC8e0r3N8v8f1ICdQDlCOH0vEjjDDPgBfIagFmEbYorORkatLsiJuMMsiQ-hwQhPKAsRiQFmvsURoqBAShID3BnoVPUbXCSflj8Q9FGCko7H8SOMoJIgwCku1lQlySpDySXubkjIejDKwNSCOJmPwLFMzmCtYCqHib-oepsd9HYI6INrWpsTAZ1tybyRSPyeIQetQAiUieKXaqigFscdlnqcKRXnvjQKqQbOqZEYNpcbEcUfKPUUwC9G3BwHqXiUMpQBXKhIxJaWeNaTFncRsA8bSDIE6YhqIIXDcXWIidMLjh9AURSMCQIkRPjrPlmcmV4U4o6uaOwBeixp2nuo-qOnQF6I6hWcoNGkQg6UAWFlhqonKHsNtrQCmUZBhu9BwJutVIWSOrjDup2l6DsdmYBqPq8tGroPESuNttGgZA6KAAACoAASAAohwAAEqHYAAyO5yAg28ofoQsuAGwHq4ZScfJoweImhqJWwaZEKIg70hZVC-BHgpZGZ70PgI495Bpj55xDqGwXA9gd5QOEcJZEFoE78QFaQ4uU025e5h5J54AdONAf5A5gFzowFvIFgOZKIeQW4Z+MgJGpZjx5Z-5Q5gmI5D5xFkZlmi4I4N2NFbAhULFrg1FcZy4q4A8zoHFtIhUxqLq6sD4rqz4r4cAiAyA6A348gYa+uvpIw-c-AEwWSKawiIEDylE+EHgckcM78PeHU+EeRwKN0hloAMO66Cch0iB3CGc78WcVlHUygml-BRgeR6KAY1ljQHgY4lcPpNWbcLIQS5y58U8ICaBXlPFKQECWcOsScpyUVocVysVnlhAWlzgyWeR4OpA8aOYz4DOCy5lgVIGalqkhVxV4EZVk4RVW4O4-lHlIGOV3l22y8L8x85C+lmENloVyCPVb8GlHVFltsJcQcOyZpsVNl9KJUMgUcjsMcsU8c4sh0mVlsmECV8qy1QZIZbVXlE17CkixiAVDQHgQ1qSZ1XC-qt1Jiw85iN0cV41fKCSEEySYSHiFVl1EB7ZxG71DSN6LSv1xR11AyY1WlJ11gg8pi7iWCc1lV11cNT1iN21Yi7V0NQN1gj0u06NRyg1SkXAP0T0BNkk2V0N+VCEPMmsfMMVGN2ghW6ByWV11VEVd4BMlQlAJVuMdqoSmsN0lNnVeRdNP2CMSNf111Yt5VICwtE1owe2B8x2p252pUEgwwLA70oAd2VVYVIwo8NswVEVygpySaxghBrkHYbAx8nwi1uIpB5w8EwV-81ttt0w9trIraDAxEASNGOeOhke3VLEwk8u6sEVjtyQbmiZGpetyk4VPMuJDtu1KWzhQgmlEQ1AHcRpQIPMq1ccowScydOdgIZtKdch2yOVmd+NmUDtfe4BzczUTl2GMdnVxgHgLcOsvNVImUapSZbdPl-1PB0gWqDhZWit8aJt1MKtZ2F2N4TiySfAOt92wVT2oAvQxUTiSVNUKVrKtAwtJKqc2IpyGQ2QQ1aR6lpywtnln0ASm98S11ZCMU-VmNXlL5AijANqUQIV7NT9CkAC6ywCjNwtbdbN+twCjOf8KCaS5NYM8tTQGqv9I1SCkFVCcYtCR1HVfZNA11Rid1-iB9+6ltb0n1KSeDSiXikdKQf6ANAg9hAdf+0mc0RS31ZStSjhU059CdLixS8NHcsSigXl9DTmceh6okDArioiTlXoNKXD6l4jkjfDHiAjQjioxDndUhCjvDvCTlVDjQ8EWjNIOjOs2+69DDqeBJuDMDd1q2ISrDKiGSBIgjWDioDWG9KlAE29HARAeNcwwK5tYyacwKp91Ms6PjpNH6i6yg-jzJdAsY1IboAtAaWsgwW1RySMxD5DL1ojtZ-iXo5D9jaT6kpjo+iSX1WTsSY2XZ9gihBQFFtA8TVUNqvM4tRdPD9jjjMI5dDQDTFpiTLT8MScJdgQ9KWTdjJSCNDjsSqseB5jioo+MtrVktlV80iz8YG1DEL1NKIQF5u+99qlCkkNVMb9+6+ewZEgheINB1IysVgGh6omJW+TjT-TazlyIu5zyptZ4Ty0H6D4g2Xj3zO0cwDzftYycjrO5zN9pRGdT4NdS1Gm+9wz+xgLQ00g+9uBJxJxXlsTKNTdEzHcxzHV799YLATYkCzkzdY24L2GFLM1DNRyID2DcdJNPzBLctWNY59AJu06g21LeNq0Tl6Vs1wDHLgGeNDllUPe-Le0GzL9aBOswts5U0JjxZD9xNrzEtGNhDaw4rsrzdGrErcrygwz1LBrXddLbsWVSL9Q2LSryUwBdDl414JUUlbqsl74ClX4waHjBSlQ4YoUlczxxLDS9EjEMgQb2aoA70haO2St7x1MdEDEEpShfAZA0gsaXC5AUwAgQQhtsipLHt4d+dGwhdygwy2rBJGiEkodJUq4q2xbHo6L5boreuPU1g1bRQ9tJFXywilkuAz8Idnb6ssJWy6sY+OujbOIJFDC0C-bRYWJZIY7Sd07GMkCs7ygLZsF8SldEw1dHcuAK7ri+COIygLCTL9KGjwuOMPdh7mUbFTdOsgl17lE2FCEl7SB7Gwbt8nSlkCrA8D7JOI7AE77Lo1APdLBtWxLtc5mTLUi46A0guMLWdHiJzrZKqLjW7Wy7TzBqHBJMqGHwOtZoUuspDb0VdsLq0yKewl5TiC1pesr6LKVJF64DH6hKkd9Nsn+hrRdJh+gmkeHtwP+r7XHu9oRZBxgaH10Qnqr+uyhbRSHcLrH1OTbfUusRLKF4C-AxEoU6cicIIwU4w+OOnSkWaTQoqRmdHdUSnJnaBXYqnZH2N71hn2ncBDHugAAPLZVp8Z83gPXWhPUuBufRCS4QBc6cvgOEkenMtIBcQWBi+QXmcRFAbp5tboIWIJYuHF0aYl8lzZ35xqrtpPYuEF5QDeCGN7cRBF+YlF9uOQDF9TFl-sTl74SlwxKoulzlI13Ic15XHl0y3ZdwIa83bKxWzik4ppXNPRMyLh6cU4r00xNZ753HgSVUjUC5aZ9lldTlZN6apRZi3B1fkzgpx3NixgSELK66fWnEOt358Ua1DZ0aed-EwsW58Jg4H1642o5HppZd8RyQ0kiksdx5BY8YAF61xoYuMdnRMJF8bFGvUBnM4CGIzrl6IYzhy44CPBPNziDrtxzj+bt0-UCJyTjx+buwc9nga2RNxNtNwR0bRE0Nz3iN+4Ry4HuN9tzT28up4qELNj4tyVmASt6mmt3p5PljTt8yOIQdwh2ckD6NKd5Zudy5Zd61G563h4LFvd83uobd8EHE3ai9zd29ywQSOT0Vl936j9wNiFLZGU4D+R8hw1LI4V5EMz5D4QND-asE7rdK8MPD7MyIyD0YMj7FKj9h6Xqo5j1NNj1xwx-j2roT6cbj6JyYWb+vbvpYxz1N1z1pQZM65JY+DJVAHJR+IpRgD61DF9OQDbTQoW0EhHRUmSqCb27XV7YuFXzX1mwVAu6EG7bXwmBBOMKtAsg7Y31sLXHXZ9rWR3+7WHUEn87ZfvA8Bon5IJcYH5ECLIUYBotaGv0YNaJv8cRoguHv6EIKof8v-vNDhjKfxlBf4lVf6t4Jat40Fv4v5ZIuG9moIJV-5IK-0f1fwC578AugIN-hohgJRAuAXYWgKuAgFQCHw9QMAVf3zCn9jA4bZQBIBBDZBtahYC5qACQEf8bsqA1IPG0wEhNta92PAQQLvZRMUg6A0AGQOeDa1Z0DAowNQKhzABiBfqUgVgKjZmFWB+AgAR-wACkXA+gYwOwGgBhBAg9gYuAGyoDxBvA7Wtb0wFCC72-+IKAoJ4HkDQAGgwbKoMv4f93OYg7QUwNACecjABgh-kYPSDEDFBOg9zoNgYGyDMgJgjAUoNADZBLBLg2wcoECD2CzBmQJwVYOSAaJ-8XAvga4GeBGBACRgZ4g8AvDw4++XfOfpzQY4ZBFQacPyGuGSF21JKiQ6frkLr6c1KAXYAAFYBoVEGQ+oGnFxAhNj+RQwShPyIDngEqM-fvi6wvCEdxy7QlITCn5oL95oGiB1oJQdZv9MWxgDRJAEIDvo14EgNftMNmHJJxhEw9-nezgGwBIAe-DYZABWETDwBFISATuVP5wCdyewzFhogAByLAS4VwOuGXDdeKWAoT0KKG80h4+MdIekEyHYhiAITVqMQDQK9DPg-Q4YAEiSHV9Z+II0JClWqEpA04vw54HPC6a98IR-fKEQEiNqslXaqIlIZ7SfKnIMoJFF2sXlzRjAJATOMoR8D6jEAOwSSPbjpiBHplB+kzEfi0O6YEiMYnQQIDJ0MRlhBucvTKCRTToOc92HiMbHUxcKMjUhYsdbsaxOJSioR3Hc4a4AlGyApRPMUoRULIDosc6Co0dPzScpOMxsf3O3iKIo4vtLw65P7sRHHR2d34Ao-JnyLNGO9BRfofPvP0L4vhi+HrT8JgAr40Br2cMMgP6XY6TgsQDAFpErm7Y5IkIKEaDseHEw-kruxJa6FGKUzpcOAmXQsD1wLKHg0xYFeMb7mORwlnwWIVJKtRGD6gOw+OAJr1lbTEBiAEXOwOFTkCm0GxvAh8IWH+INjLui4TLvEUy4XFOuhYFgO2MT6uA+xuiasb7R75EAY4qCekCRFNo+10WaVOce2FQSEhIsrZRLnF0XBQ44u4EMsaggrFzA04a4wgPOL9xm10x1MbQHYVbaplLxG46YB6DpCnJoxuwSUB+OyK5Q9gyRFIHkXmgfjxi+EKPF+IcCHgPxV8ZMVBJ9pKY9B1Mf5NkQLIgTreAlSNoGNHGhJJE9AeMOGJaQ-iEGTDPyr9BAneRa04oOqNsmdjRUjY0E0BtTAPGFh1xEjV8aMDpCtQza-xeCbeNrSZcsxdAFylVBqhWUaJIcJEtBK65NABJcXViagkqAcTcx10biQxLS78T7xMbeSapGv70BBKV9f6leMUkMBusYFSYtcCIktFtJUOE-soHmhcT4JxvaCcoG0nGTuswxawIlx4kORfxAAckEkn10u-k+ojmI-GvtXJAZPUp+KJL5RYxkQVqFFPHHWC72dqJIjlHjQZczsa0RaBCQxzQlnQYlJMdZISmClVBvmBwIlMMkvi3JYFYqbcEqmHhKpEU0qbE0pFtgGmtI6ESTldpNJz4R+L9s1XWS-RhU5JK-qROoCCVxJFyL3FSnLppw2p1IzqYKy+i9T+oy432kfjJKATCSdUEaS0Q0Qrh8QwktyrtKpRgVNUPIusLaRWlcJ+o-UohkHVxqcoFksqcDGIzHYXdNSMWY6aJOoljsLWM07gPXSSGrTUEQgM2l6DTjXSnwt01cSuM2mV4DGH05XuhJP7ZF1wOxGGefB8A3iy06Ja6DdOxngyVxNaFIvPUiqfT5sGUACckFFRYyISxM32vUR5iUy3SC0jqeQCSROUaZgQcztcBZkuU5p2IdmTSM5ldSacPU2GetKTiqp6i64AWRLByGgycZJM4RkPkYbgSrKr0srPQiv6HShJEsESdnFUiyo1ZueZIE4U+ieF9mAEReibKpQDT1we02mcmOdmBACuStb3O71Vpz0AZIUCQHwCA51hn2oI+6a2XMlCoqU2RFVFHLJlg8vZM9NWim2mmkIwO5iPNiclymNUeayELgAIBEBz4HZGncsHbP6noSASGOV9nqHBlZz4wuJYlMXPH63AQ5DjU2ZdP7LvCKA4Vb3J-hcke83QRQfsBwE9SCBxgDARyD-FNQhUi5FvcCa8m1k0paC7OBguziYIR9PoHhEfNXlobSFecGBAjJ7yEBDyR5AgMeayjYJndU53ASuJIWFygFTGDhYhk7LOnLcxkbkKeQWVlTKBXQ18hYqqgfmI8q8yUC6f3kp4Ekf508oGbBzk5FAL8KCDGB4mNwOxMaYnGsuOVFwrymcH+UvMYWdzhyZMmGEAnwUjZp1XCROZBRfOIlMVqQOpOArfKQJS4FgFITeTbLrDUKtinWdrEwpQW8dG5ZIFHuhOiJXFMuv4oRR6W2mJ4HAXClQNmXi68zsCEnMmUQQpTtZmiLs4UXAsuQILRo0iihZoQ8lj5rgqi8YghHXDIKkx7C2hQsVUVJSFU10cxbYuMCWL-CBZGxda0BCtQHF7ipoGcXqLulri7cgMTEGaRcBqQFc-yuEsGAClRg+pTGraVQWuBD0tCyBDHS9DOL5i105ha2lrlQk5FqwxoPEpMJ2tywySvuhqSiI2Eki2RL0mTJl73FqQnFLrP4RSXqlG465NChwAACC4AcADuX3IblIAAAeUuFnkvi1Hf0WV1gIstIS94L8o+TYLEs3y-5OZcRWyK4UPyOMnJbMuoVgVSyCFaZctlSavs9lUFSJW8xIodLulvS-pUMpGXHKIK-5TZUtgDCEVvyxLPigKDorDloEOynKc8sGAiVUQGc7drjgOUvKVlT5BJWMk4ry4MQacEjMgoi6n0tsHqANIMgtJnKmIiKg7GfyIqQqTCKda8lMsxWvL5lmhWJgNGZEhiYlMgTJXivvxllusxLGFTyHhVE8BF2QGlDCtVFfBSgq2d9DXP+VvM6V-JTQt00+Iu0kKIqslWcWtKx8DQsHaqtSp5K0rSpDKzipy0dBoI6hg2BsqXMqmLhwWyq+Yb-lHwOtaVDtSNpSu3DTBIpaq7AoyrbohBtVRAMiK8FDmVT5VqIWJjsH-KA5jFfChCF5OnKFx2IDRClCGqeRzciqzAMFYimpDLLMVjkYhn6pZRJqwCh6aNF6C+UMVoESa0xmKXMBApQkmKxlbCOywfKLQpaamJisBV5B-eTim1Bej+UzK617AOtoCHXCYqPivAxsbtj2ilqNVWhQBTvkw6GIY10wTcMXmWVQpRS0-EClsEGzwllISJKFIBhTUDl-VC6wgHo2NLjks1g2HNSkkYrbq0+ha-tfjE3CcVy1KWSteWWrVsVhKnFBtUYARxMZO0+U8YG2q4ptCjMnJP1L2qLV7Qr1toM2cPkp6sLkQ1c8MlVAYBxr6JWyz8X8STV5L26rafOeGXBJCqd19RaDZiqw0zKe+eGrZQRsOXUBHI9AeNKOC2Vy5E1iGu5rWQYiCqZlC-S5T0r6UDLhlWFNYGxuuWcaRlaSozN2oA0hMmN8G+8KaqsKTYHxY6raBho5JGokYlG2NVOoTUDklSDG8cmJqApegOlGFU8oBj03HlTygm64P+s+LaaCKkm5KIuGk1MsdgponGGUPDp6xaxDdYXnvR76GMnN3UTzVB1uCuae+djHzYiBlm30SKMc7gBx2eT-cvqrWZzfX0C0DSiSgW4Tu03i2+aktgamVOFtfZ2MMtoWvzYGsi3RanEQYYiG3CEABkstrZHLVFp74iylp8UIrfxzGR1aOONsJzZQEVIhbtR6qg0ANMc3UAEtd4N1SNsyTZEvVeQeol1sVLBbht3UTKoQHG1GjssRqgMt5oW2Igxti2+4MzX2JTbpQjcN9VDlSkZd1tpUp9sNu607qaO8SeLTdp+BWAVt-W71YNtI4FbRtn2ibZ6T2DDFVQ7wT4JqHpGAgLtNKwxt9qe20AVtaBQ7d1kSD7aRNzwB7XNoNgC1nti2qHTDoR0V1ceQ6msCdts0MBztSqvUj-2e03auhQscreFTLoOqNVzK2kLCopBsrc6HKpLEFg81g6VVNOyscau8mrb8lQIOpTGQaVxkzieVP6iLqKpi6BQChSLNFh2Z7AcdgQOHXdEJ1ZSSd4DY1YJV5264bYH0ANDantlAziW1Lb3NaNtGnwHeNdVqVSI5lcypWK417UKFOhY8mdrK7EDRAiJZAaIhuxsepUWx4wu56lI0o1rFklUMaAu2HTrlsV9gVcWAkumDwmByihd09E7LPXnAUgfcy9BrvmCSwK7Agi4cPY7sA6kzKq0u2MnLrqLET5QPFNXQTqbXF77dos0vTTi13x0RgOu5QCXvFm1Y-QSSrWsICsDbg-+g2AAJxdAWsI+tQIyrkATynEv-MhkzrXgoR6A0TMAsQyJL0Bd1AfdWcFhoDW9vQgvYwEvpkC+TfJOUNANfpfVmNA+NKM-aryLKAgl9jKhMB6EtBxYbQaBGgPdlgSfcwFp+mfZIDf2r7XeygLEIOSX2xNKSkgGkkgR2hUaXd0oYlnDsb0pTRAVJeAzompjc75hptTA3Ab9b96JlhM-qPzpVBvqzMowOiANGWFzrxyaCL0NDNBlZk2JIWS8YjnS4dAxK66yPFMAYC0G5hug+bANEM5rQwCZ+xcHdnuxkGHwepF4G+qMAyH1oqGowGfuak0q0EsIO-erL0ANZgspapqrnOrlzBtDYBaDZuGKr4biN2G65rSvroR4-UAhoQ8khENukxD0EYmEHxUDAHK40hmQyvS2XoaC5y9QI6obHpuMR1gQKQ4Ed1oKGylD4OI3dlv2v7GlXKpnazvlQ+7Mg4hTQyquGZB7+anYdSmgnvwfEU9N4XgblW6Z4HaV+IaMjLrn3fEZmz2SDWSHaZ2paAwYFCJQZtSarQATBwbCwdhlsGFxfRx0Nwd4NoKuWn+BfnUbKN0BGjVei0C0eKXtIiScxpMblFK60KSIMiqoKNkiwhB8jlcIo8MBKOqRFjrULYxUYT0hNcqTLSVQRQhULLA1LKuFV7vlRSlngW2F2uyWdB4lDM9KsVSRiJW3kkK1CtgsdvpnWAAyvk8JTICF0AAdLAMht4BtEmquAeNHSDr0MD3BSmHTJfupguGr83fLoHIf50Ims5SJ-JaifRPu5ua8uHE1mWuD4AzMaBLtOuHZOgAAAXsiNAConAgPKrEyycqNdp+ThJlLMSZpg0GyTAsZLHgE6P3gejkQBExiaKCimTJ4guyWNIy5dgMuxADLkkRhC+SLw14Sk-CZFM81sT2p0gbqY-4sB9Thp402JRlPrQgAA')">function apply_rules(pattern, frame) {
    return stream_flatmap(
              rule => 
                 apply_a_rule(rule, pattern, frame),
              fetch_rules(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p24' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Apply-a-rule</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_a_rule</kbd>
	</span>
      
      applies rules using the method outlined in
      section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  It first augments its
      argument frame by unifying the rule conclusion with the pattern in the
      given frame.  If this succeeds, it evaluates the rule body in this new
      frame.
    </p></div>

    <div class='permalink'>
<a name='p25' class='permalink'></a><p>
      Before any of this happens, however, the program renames all the variables
      in the rule with unique new names.  The reason for this is to prevent the
      variables for different rule applications from becoming confused with each
      other.  For instance, if two rules both use a variable 
      
	<span style="color:green">named&nbsp;<kbd>?x</kbd>,</span>
	<span style="color:blue">named&nbsp;<kbd>x</kbd>,</span>
      
      then each one may add a binding for
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to the frame when it is applied.  These two
      
	<span style="color:green"><kbd>?x</kbd>'s</span>
	<span style="color:blue"><kbd>x</kbd>'s</span>
      
      have nothing to do with each other, and we should not be fooled into
      thinking that the two bindings must be consistent.  Rather than rename
      variables, we could devise a more clever environment structure; however,
      the renaming approach we have chosen here is the most straightforward,
      even if not the most efficient.  (See
      exercise&nbsp;<REF NAME="ex:query-local-names"><a class="superscript" id="4.4.4-ex-link-4.89" href="./4.4.4.html#ex_4.89">4.89</a></REF>.)  Here is the
      
	<span style="color:green"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      
	<span style="color:green">procedure:</span>
	<span style="color:blue">function:</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-a-rule rule query-pattern query-frame)
 (let ((clean-rule (rename-variables-in rule)))
       (let ((unify-result
             (unify-match query-pattern
                          (conclusion clean-rule)
                          query-frame)))
   (if (eq? unify-result 'failed)
       the-empty-stream
       (qeval (rule-body clean-rule)
              (singleton-stream unify-result))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlKqu8kt0CYpi+EwmmYLK1CAFxK9KAwyAk8iw9D8-pJAeYAD6o4G+LGQg6EHIMADmCNOSIBhCMoHRmKxFkheVotAI8gYxN+-xRVJp2Le0Nw3xJ7PJvk5XNpb0YOnwfGEkn0iMFBi2e2eHxYX0oWVwZHwrNJKOMvmpoPBoHlyMIW2iT3iLzeCwJBPwOner0IusF8wAFtZ7UCWm0IW8Rj0zWSjAAycOgb3yOUC81GNhJ0CEb2Ue2W5U2yEMeQJHWh-VGgO29PyB1Ol2493miq9XP53qKrBRK2xZ4HACesMZlFofCheYL8bDJmLYPaMf0C2E-LZCebrazYlL8gOB2EBIY+aYNdHzRBJch9sdztU1cLhDra43W53hCbSutK5vm+3ZMoXZ7c71QoP5mNSd8FjPQZyWKdQMWPdAQ2Rc232cRXzvD9NW1Sh8AAD0UVp13iaC-3HE0ILAyDZ3w2DM2fQNKElahcGyOoxHIsd-QnaiT0rc83UvOs6AYXFmUIGj8DohiZibSkMVFMUywrM9XXwutilWKhaPokhGIYCSRWk49y1PKtuJHJg62XWY1LE+JHxbeDngsjSZk-bt6R-BUWIAktiKgryyMvWC4LM0B7M0jUvjQzDsPwXCmL89y-DY6NgOnKCSL8zYbNs7M3no2EdHkdCsJwjcYuMgjDwSvS5MMxTQF6HK8jygrIuirSAqo0B6sazoNPzVwnO-A5mP-QDEiUPQvxcvsBwbfAKh81yFza9sbU6-L6R0TshsxEbEpAkjUtKiiMsCyERs-BZmHvLbypNSqDK4mrejOgTLrJayokCs6IqKvDYuGzyktIhawzgzKV0hPidGEGYvmum72juziFJ42rIeh+J1W+qLitayTqS5RH5IvUreLEKGYdwc6NHwe93rB8Q0YpyhIqh6Zh3nfdtpLLjZClGrPCWhDTTJ9GxHVPiDnwABHbVdz+rmEp51o+Bqu5BeeRmMcpr5XFzEQMnZ38-Q8xXXV5lWUYAZlBk63klmWAWoHVcQSMqTduu19KR6sXavWr7dlp26cCpJUk-aXA+dwhXYOY34pNB7egDx38CGUBfdjp9lpXZPYmsF6abJQbfaaCwFaIwGSJL9WbWlEhcSp17dwzuOdoglus6FnChIL+9i+jwhY7inaq4HzObNt9DfkITtw4dvPxrH1ujx5Cglg7if2sheiG97slF5j5eKtXvkgYPwf0qXLe3gKWhqGSOH3YRz2qoelHelv+-g-az-kkodbNry1YhXPaUE0qUWztRSYtQZiPx2oTaq79oHTCsjXFcZkmo-RKhzIs8NxDzXImgxCJACSYOxvEQaQCn74MrilMBh1L6PEgaWYoegIpx3js-WS90FIRTrIMG27VWgzVCiUNYbwZRjCsBwiWxBxjIJCroBw6RZBWAmMoKYij9DNl8IFPE+BrBSC+A-dhcUsTwLeKw0x+MuT9FAKHNI0hREqR1Hwyo6iagoK0LoAwNiaQAC5SzBjYVhXx0kLB2OCfowxxi9AQXYQYMofjwnmGiZQIxuAH4kQSWElJgSIo+AsFEYB7Q0kZIfsEUGOxaCKDVI5BYaxhhkGIMyHQoBHSECwDsPgJwzjUE9EoVwoBLagHGiJZ4ls0CTOtkwoWN4756FSJ2CorQ6AkB0EPf8nDqK8iWKs2g6zY7JIiaACUUoZROmOeYfJMtYZLLmoDCC+zDmwSuScp5IkDkbNyXk0A8zqCLPwMslMUFnnfMEcwhxZY1iGDMbIjqd91QNIIA4ROAAqZF+A0XWV0e1XADJkhkEUIC2engKhLMoGrMxvh4UHDIHkTFDh-kksoGSkFZF8XqEppi9KophB8FGZCM50pZTjXpTyjhoodrCouToQpNIIigHwLgSW1KuTwrBUy9cCyKV3HmFBOlDLSjrB0SkixlAZWirBT8lJWI7GWsubarkgSSLWvlViYpRTqQnX4iwN0FK2W6oqKhdYarzC0vFcarVBwdVAtZfqjliLuXGt5QTAVeghUMElCKp0YqjVrA2GGrEkshIkU5Ui41SSnWimCQ9ANwwug9CDaAENGwq3VpSWWpN0KCBHVFIq5Vqqtmig1Z89Z0bY2zz1ey9ekaC2mvCfywV4os3nKtWOxokrQAAEhRQlrLGRQ1mKkm7o7VyYJwTm2tvbWe21Vc529vSqe8wA6VX4CLXuogB69kbuDWFdY7r+3JM9S+717UoYHE6IQfpegEhbuofY9gyY6oEqJb0N5vg7H4toISxQGGLCBLOEmDgvQZSSxIA+fDmGXi+oo1RgjSqSAnB6AkOsABVBgyQGC0CkOIGpdSbQAFpBMgrWDir1JTxAQag-0y08L+MOXqIyjgULMWGF4PCjpDgFMhTUyhnDaHmzwsUM07TtTFNaD02Rv11l6b2JSNYPIMooaEmWGI8oLb-0cJ2sE5SlbPNagA5vZhTms0ylIX5mFoWXMEm8wDEC0XwtENAIlwkoVAt6FS7FsxI8oJZeS1l7QswelDjcy4ioJX8xxYSsyyLHnKtBY+u1TCzAs1lf8yGirPVQ1bJ8422DDn-7OfC+1xpAXtSJOOEOCFQtJS1KzW8Jibi6uzSm1VsxejWgxMyWw+DLx02QisYW4dabRkR1hitioJqP1chHuQfAgGuSvqHfR4W-FiB5AcIVmUlAGtsK69Nx74TzUOv0HkG1t7zB2L4F8SWr3nUpi2+k2JhWQ2ZdTeEqI27nvvpOzSc1wTQ2vbsWU2J8TC3okRwY5HO3skbFe4EmHb6gegBA6zwipSkflJCYoGbzwWsAmdPy5mtBcIwsuwFgH62tnwqy194baWft-Ylw1hd+3RkAEJSyg8ywr2Le3pUMH5bPJI0HPS67C2ltH+WKjw5SZqKXAHQDUhx+rjNljsjLFwMdyHvgdhooD8k2Xev5eW9IUr7rXvHdq8k6ALXmbs2yotzFiH4T7VG74CbjQMHLt25Saj-9yeks3t91yVX9H8kYVa-oCXDu1tBd8K7pdeg5uC8WyyOvKvus+-94HqVJZegw9nE6Xo7rXd4+2UqqvgvRsebr6rsfx12qMGN5QU3MHFBssUNO1XOWSwNaQyRofBAdDodFHYwfiwR-JJuWQWGm-hhq2SdD7rN+WGe830YZ-U-q-aAHH8MXQoB-DoHfbvN-Q7D-Klb-AXLNP-EXQAnUbfYYNlXfUAXvNFcAoMfrT-UASMIJbAp-c-U5DPLPM3M+T-EvSHEibfRJPPCwFfTPNfbPc3CCCgug6tVgtWSg0vaSVXVPa5WqY-EfCBIWDcQkAgQgLQXEVoPMPQDCarE0YJDCCoWFNgAAPgkDXj5yylUUKBvD9XiAUK4Q4iJjdH0Io3iDrGCG-mYT4jojIBxikV7T3wSgIUqWS3GAAScJ6w5x2TXjPldWkXpyIMTi+CMU7DtHuybDfwIUCMfSqTADMiOB6VOHODgEQGQHQFuE8FmX51QmphqgBAyCPg9hdE+GBkBCuSw2hjVEpjRz8iuUCRzFKwaLTwRQM0UH6kmjRwml7H7EHHzHIiuwYGKMaNXA0RgV+kOiqL+Q0U2nwHyOYD0AwSxhaiGKVRGNoMhx5n6JDUGmyFIVWJxkoUOmGOKN8VPSaMW3Mw0AORsFhBlE0nIhmIWLCgKJ00kJIHuNC101oA8U0VgT8jOP4IYwhhFgpmeLaNeMpk1jFgqL9iKJBIEO3jzAanyiOKmJwXJBmKhTMj0FWmZgYl6hYC6MZBOKxK2J4N8AJK8KBI2NGPCSuLnkjkhOkjsWhOZJTjGXnidkbkLiYHJKNkm0RLGMhBpkUBnj5KulaLZOIMT1lFFJvk5QfhlKII5N-kKM2MVN5jYilP3lVNsSVU1B1PBD1LlhJnpKRNACZKQnfHNIpJeONNtOlItJFMuNLAwWCkBMOmfWd1PXZMWJ1E9JEm5T+NkUEmEjonWJFMZNLC9MxKNkdPVHjOwV-GBLGJYGY0eg4y4x43EC7CYHkAwlAGEyNLeOYDpjs0mE2hiAqAOM2UxGb0hGwmEASHRgNl+yomWMYGOxsR2mrOZhyDbP1msDxNrL+RIXHiKSVTfTdzBLZAlE7MgW7IYF7JpFHTpVwGIA4GhLvyWIwS8JiEpKpJpBgOdCKO6DECunYKdQwW6iHFcEGiPO4JPKxHrJfNfIsBWJGMvLtLdCPIxzwVLDOjRxwgoGxKdTsRAv-RsDsF3DAq3KtIY1B3lXHxsUzIORXPY04241412HahnlqRLJE2rPE3ZyvmYR2IHD2J5wOGBOpR2iSGJQOPYA0N3IKIOOBKuywnHgoqFg5NhNzHhPot6xXnTHIFTHmMDOJDCyZhZhgUNgVGBKQoDPLOHFkq1lgtziMgpPTN+XYqWMEvVB1hYD1mEANmjM2JELyPVFzidnPjostLMSbLeHFMlLsqjkPgNxLBQpdxnNVRcveDXB7gun5LdBbm8oSgMqDO6F3lCquhbjKERLH38txyD0OGIDrjitdnS21AcAw2iuWNipCupgSqXiSqsuSUCugoyyypCpytbT21jzqvOgav-RZzQttR2g5I8r0Fe27jNMHgcsSWSuAxdyX0orNn6MYFtNzRmgbNjyYr0BmlYtqjRRmtwi3CdGxQqHmu0JznUFmHoCEhTP4kfjnLtgji5LSiLVpTHgcA8sGsFIVBZ3NTctnl6pbnozsV2Qr1mPm30AOEOr7GaUjPUk0ifOKsGuGuPJ4KBuZBBpOpDMskOD6s-IsChV6oGr3gFJhsAs6tuzEtOtZLaIelOtJPhOCN+V2UXz4psspg1JRkRLhQypS1oA2i+2VP-nZsAUOndXhXLRVQeuBuOrBpRrOoATV3hQ2tvFlCOA4CootVzE2tFUFqnKAsKoAW4t-wvJOD-PxKTTopvJPJlrfCdEcuNqpMRP2vEA5Oeniv1NdM2JcJNChRqu1DRurUKq+kKnIVTKUstJtrLO1hVpdKxJEupHhRDQcEKudJQhgoxP9oTGBPdVtIptyp1DjqYApvWM60tPdR2hDWsptA5OJqZudq2TTt6LqML3JurvWMtsKvJpDTITWKBMtukmtoLp8tXRzTlQym6SomSN6TSMuEyJuCmVyJ0LxGaU9E2nkJdq4XpEZGAhZAXreTsQwjeXySY0wuUNqmXqZFtqwnGSdBWREnwHMqdH8UrJDkGzxPvOJPrgqC1qctEtNmrF6HlEXLMiGFe0fqIBYEctftGqa2YXnL+B-q7L4CMPYi9lMOWNJgXNgN-uSzvKJMAfrmWNgY6jNmVkQa8DQaom5o2mwcXvECVj5j4AqDVk7meG-IyF-KuhgfIdwYbnweoeGSDrdoDAzpktazdgQ0TndtTgqD4gEeS1Ol4bR1bVYYQQejzqemkf-RsK7mUcC1goEa9wm1YYIUauLpXEdnxTEMOJ-L1qumZvfpNGyUqrAaFhar+0sd8N2n0FAawHhVTGsHevQjMavLJGUTXl4Ds1xMj2rscr2JweCTCb-UC14rswawpqfO7xMENFjwggX2C3se6wzqSemxSbLljxIgybppLun1gN1r8ebmcjJJieAbXC8YrucYIEJFTHGmqZVUTGTGaYJFac1CORSUiX6xCdK2iYC1jhfvqZ8YZNjO6dabCaMAAB4OoAQenzc+mkKodGMszegAAVBkezBgTsCcgkGEIudOIlGoa+2qUADwdg6Q8LY3NpgaIwDwNOXoG553OGvEB5zPL3WODZ60rZzC3Z-ZvgaQY505gU85iYq59525r5-EAkR5+Zj5t5j5u575wkR59ZoO7DXDdOno9piO3FZhIo94BkYlJx0UQKeGlkUZ9Zm7BDHMfw+ZvPdkkY8lmpT2ngox0XcLKZph-ea2vPQJauw-Fxp5lyfp0vOxCCdZ9g0Vw6s+eZhNJYHFjqqq9NIo8VzxqeCU2eCpv8pqiwDCnoau7C+kCUCQIcMij1VKxlt7XEevBwBxyPUarqksWl5Y7JsJ716bD8s9BJmivgjVxvZxsl7DSl2xqel8FWglwvc1yXN+sDUljlyNthRp6l9qL1+l2HY1plk+dedp6V6tdljITl4lOg3lkxgV8xoVzYgFhjMV4jCV1lyHOxfdOV2HGJxt3wRV5kZV4tybEidV4DT507DNjIHVtMbxw1+8fNoFs1ol2qDjS1rNa1-MYiv5UOt6GPacwdNK21eFA-DgV10rd1s1T1pVhJ311XANjtIN-9XJqrPd0DMN2PCNilydhI-CyBYe1IqAdIq4LIjAGN6iFs4cq+pchCFcko4w+B6qcc3oCD9s1OZLFDkc7QX4Age8J4o84eeLZKMiACuTVmjDqDpI1FBSPxROKcNOCwKcJ1WGiwROMCej1JRYJjl8xOYMdjjoRtLjmjhSOqV0PjriQTrkROZlvkNOaT3AcJZj8wROaTeiTsNOFT+QI56SRTtht0XoU19j0121HTxOU3T0CYPIA4IYMzizo4UUEz4TtwPjiwOQioTsRMDQ4sjwLThzz+wTZz8wVz0Adz1a4skTHz7j4TnarkILkL9Q0AYstFYL8wXzvT4AAL0ZfeuLzztA5L0AVLvoAAUgy9i484S9AEK7y4K96GI2c9K9C-Ffc8i8-o1yTDq6y7K+LNa44Ca6E8-oWZK464a6WfMF68k+E4WbYAC-q-i+LMm9G+q7UMG7c869AA0IW+a707UKm4qCxBm5y+242767041wy-K98Hi-MC13MHkL8SMzI6HNQ+g8cjCfYGSSWqnGGEe8w6SPu-ew6G+4o+IdoDyAACtxl5b3uxoYhVqePAeDY04CEAKdOsRyOOzfugnjN4eQgMrBJ5bdP8ThPQc05QcUfPzE5IAGARVoY1PdvKfqeZ4yfXzTONBzPYBIB2ObP2emeTyWfUxKAABRPjmzgXnnqkxOAAOXkAl4y6l4l97dvT+6dbR5x-ewjNe7YCh+JWoFWogmoEmxV60oWAFKV+IEN-DOzr2Le9FCWp1-i4IX14N+x6N7x+bCrLmMHNbKe7HMYDrJIS4hwYHJ+zORIFwE7H5dB-kCyCBpyAlO5adUN9bJUDCrw57PvZpAOID+4CxAmtEP8E6Lnf3hwbPNrcqbdHo2qBn0N4wVGZvPN9x+zpVYr+UCr+d4wRB-B6EAtqpPr7V8t6fbF4sF1dnd8aNctAkJTDTAJHxTyExlH-vAevz9L-1rd8Hr-eOAA4uAyOuEwDA7ezxHkCEEoAdlxHqCSBIAfhWxweZdhHhD0ZWBTSpppFldoTIhHYf-nRedqkoDhfTkxaRd+b393MJqEEoEiAEuJGEgUH4EkHDj3lmAgNf-gtSAqH9qAMICgAUXGh1lqA+vVakcA8B6AUB4rXoO8wvzvNAkaLDwCgMH7SRiBFQe5oSDiaBRGA3USWIvERZ+8CQjlA4krRYE9Zt0zjegQSFRZ9APm0A-KJLDgG5olq3A5gdkElgcD-mqLAwKPkybPBZB9cH0CwASAECSE1-QtjoNizf56wa8M-Ajm3gKQDiEYcMFcndxQh-CJESwUYEpwEJHBceZDAIm-xxJAYlgogYMA3r78NIR-E-o5HP4PxLB29ZdP8UmJMQfBkYfDM0UGIrFfaaxRwSpVqgiCPA6gyWOmC0FeCQI9ZAwbBHRZOp3mv-aulNAGJBliGidFkK4Pha2pShHzLIZoJIDaCXBk5QoUULcD4Ymwpg6SIEmaF9AuIacTisQV4E5DWhT-LEEyWCThCiCgw5Do2jTgPQIIlg1Vp0IqDNCJhcGTAudERaFCjBAAcl-4sVXmxwt-IIMeaWC6GNoLYQ7BICbR7hIXKxlwl2SwYaYcIHoBBCeHUDbUoRLNG8wORvNuMD4a8OuBsxWErATYKYdRkGHfDtQDw4dlBB+GbCGA4w1wDsNFADC0RcgnUPCJYBNcZ0egFEWMNxHH8ER7nAxuIEj7R9qAsfISC3Wwh3xsYPOPQVEK8Qsh2E3+UIhMQ5FpwkhzURwuwnT6+AlqNItcHSOEASkM6g5ZkeuAUGsiYRoJHkOe1CTcjhOgwOge0wqEzRFRb+ApLn2eBPDZRTsdcKyOcoHY3gCiWBAkjVTHtiGzbcdjSHKH9FdRAorBJyNCR7ssecoyWM6HrIOAlqxopkaaK4EdCEkj2HaDX3aZEDeO3+YJKwROChjKw9ZSbAQhDHYwUxk5V5FiN-YIQKaRA4YfGKTGZj-Rk5N-NGO-BEDxRMfKUQyJUbxj+slYlyCKIxpjQaxko6UYyJLHyjjmg0HJG-mCTNjGQX3X0VmM4Fq4m8loyoYqLVQ7RE4mo9ONqNdGqjeck4+1idm6pYRaae-Qiq4lCRyMsCowLkUQXiRqjcxprHnNhVzJ4UahKYTsLUlUYawxAAjfsQeJeHgd+sJ4w0tknPEI5LxbiXoDmVwrH1BRNocRkXFvrtRzC9SP4nCAmA6BJQrjd8c4z3HmiW2vQGCSoLsbPBYw-o8ERYS0BeFTEH4iVhBNxoRjDR2YPviIAKJuIGsqItds6GKCUABkWaAgCQA4RQCak8xFCXymnFWIvRDrYPGHlDwxYisv2N1lhGjws5Y8CeNdLmnyxstiCTE0RKxNaQcSrx9eBXgxjoCKBNoBeDLPllfas57WgVQnEJInyx5gkekzaGeLXFiMeJZ8HJB1Q3EYYtxigUNhJiAq2TWRVIv-jIQSAeJBcwkVTrmgOBspJQYU50AcCpSkS5O40AWN-iimadKwsUwwIOP6ztwBYrYwLmV2kLAQgplfWAilM7DhT9EeYb9IlN+Ho1zApUtKWrEkZhAmQHZeqYDUinKpUpMUuKc4wSkRSQSdiNqZ+DuAZTcxCYwGP1NymjIyuMoVwC1OsBtSW8nUsqd1MMBTTwkqhDQgVMqlVwBYjCOzNtKCl8B6I0caHr73Tg4NjpGgVrHsMKlsDCpTBYlOOX+Y3D0EJ0m6YdPul5g2Rbww6QNM0J8hwCzU4CK1OWm5oMM7cCqXBhFGbTdg70gELdNkKHSqpf0-aYFBL7C4JYrofeBLjyh+xd8MuVmnLg4DfZiskeLvIDl6krp5SikvXGkLPKz5VseM6PBEKgy6wmCZBQyR7RtxBQNAMkqiSuDZmmUOZG+PmbzPxnJNSJJ7ZDEIVPxOi7UghK-Kfn1G3IlgUGCoHjK-xEED85gXYawigxazDSGMgcFjNxD7x1Z4slmbmObLYENAVg-AqME1mNjCA7M9fObmoJ2z1pooEiJrK9nnprpwst2XkP0AGy-ZpeCCL7I7q3lu8oAxWcPlPz+T+kIkP+AjRgl4Q05YgCoMGLFnGiCZkdVmm7N5iblty-HF2YHOYLEiKRhJP2BnIYC25aptqXOd3m7oJRC5CFbcjLKVl9CFZv1XMSYwkJSEoZA2M3EXPApB0HC1gZzJhD0AGzDxewkbKwTtlB0OkiM7QUskDRAoepNKVmvjw6QkoN5nYWhlTKVo0zAaRgH6mvEBYHB-JU8jCJQApT9gZ5dslmv9yWQOBF55IFuaUVYRLJz5tUQYICyWTj8iAoAHZgAAkBelAAAILgBwAAvAAEo7NIAAAeQl7IAOANNPfmCxHm1zBoQswINHlYYTyiskoDCE-LLmBB-pK82+SmIIkzA8FAcyhW-hXlfAQ65Geha9PEAsK+QEwOhRQlhSkTwFkCmBXAsQUoK0FnC9pF+hoX4T2F-C-BauVYYrzPpt8++XGkfkKLJsmEvhWIEEyHSoJzCEVLIoMKo0FFhC0icjKumnTK21aPGTCFYrw4k598CYLMFrkt4NAMIBtBQrrnaTcp2C-pLwrkWmLGFPikNhlAn5CLKA8CtjAABkBe6CgGbgCCaBR-F5nYIAwu8XmLnGxC2+eQt1hULpFq6DCJWHSV5LTKsc7hZTFKXJZKluhKKAIucaRLolcS8AJIuoVFKSlVgDJfktYbIzip+gKjMoqHmqKH5KsTRWHJpBPQrAeiqGU2FylDLApfQRcVMoIAzLAp0I-yQOVKVmLtJvSqGb9hOlLUqMwQVavDgHL5Rgg3hLxbrGjx+KiAAS7ZSEujxB0Nw2HawE8MrkEjq5Ny+vKvJwaWLDlY0ZJCew0IYY+lLfEqWDIGWBtnMgSkxWdWzmZLfFr2WGVsq6WfKHh3y0ys8o-I3soZQdaKuSIJEYrgUeKwKTIlZpSwYeHAPeWhJJH6dAyRKh4baxBy90k8VKnsv4NeXJ8mVjwikY7j+URCOVLIciUNRJFkrCpQdSELfONTkK2Rgg4OXKqcGoh38XwwGAbJeWfEqgOi2YD9lyW1yOEgVGVTCgNV7Z4Ub8jgCMvUUqwDVLOeFKgKYwfha5q863r7gWV3T7ktUWuWssKm2tfAJmf1ECjBFBKGAPqvMH-VtSzCdVKhMrg6uERCRnVqMlKgezMRRAcJNoXEAcmsDjA9VRS7whSv+4KKHAdhLUI4UqTuojVRS2VZorNWs0LVNGUhWotngaKQlJk+1QEHjV1KXVmvUvO6tkKeqVl+AMNQkD9UWAA1JKSEasv0UijgkwQGNatTjUfhxgSavyimq2Rpq9+eErtXcTcUGq55lyvdd-i3UHqdVscrdbutPWSLz1OqggaerMSZrWgcKwibqpfWkLb1IaqWqzUZDGLn1+PSJSIoQVILUFrS6kP+tgWAbxFCSqNSGvnXxdv1T6+hWrh2i9AcM2EqsohLqX5r71WqrtbmrfXlr85-3eDekocBNLYl8S91GRpaUOBZ1VgWDRoWI1dKkNA+VDTfNcrTxZ4fEUHl2QihICC2dg0+LxrQZQ0uNTwWijg3smMChEUUISKJvbBvjFAfGyfL+MU2SN2N+rGiK8G43LkhNc8t4UJskUtUIM2moQOJt0aAwDNqgm0ANWM1PAFNSm3LGREs3pqVwkgAkNTGdAfLdNpEyTclg7H0j7iv4MzQaAKZAVfNicsQKD1oCSI5NXfAVX9LnneNYt3pBgCZovjf4JVeYN-Fxui0sgBqyWk4qlrs01TzAhKj5S1WS0yU0t4zLAL6R4KZa4MoMcdZhIBF1gytFItODlplBu9Aoxm3LS3i012b4t+KxLRxs00HA0teEWzfJv+m9yzBwMqPgtKhXx9wk7W4lUZsG3tgBtE24rcNvJUnoaQsMvrZIhs2bau+226rbQTq0PsfW+KuCM1qBFtbGVTw9Tlpty09b2obmjipOT22Sq9lgUg5RoCOXVoQVtW3SPoLW0PDlq+AdzfAN5UGCatDc21P3KICDzFlfBC4rKRR2SFZgn08vNul3SBJdkB2rEA1vu3NI+gIIt5pDtp4SAYd1MD7aS2KWoCliJE8NtJTcS6tp+IPOfowzraAh-J-musXw3fK-KEtB4HaACqB1AqUkoOlJJhBEjNIdQZGY3rRKWLsEhd0oy8AjsmwMT2CRQCrB52NqXiMg9chuUBJwp5lS5nmVgKWTha1aCdWIXoJrvrGBZoRaQ7HWjrunl5qaa8dPmTq2DNaXdGdanc9o60VBg9raTHgXKLLjaVAmnBwAAE5eAvW14PHo+pDylNqeyDKp1XnaBXAi8XantkCq-TyQe2KcaMnEAttOAC7DTptEOGHC6waAZvaOpfRuTbUdexVbiEAqig69eemoma32WjxJs4gETALC8lvsLAfe5GQPswH2Y75deoOmEU06REPab4LNb9u+msMGtgeinZhNwDhFV9ojWqDTpGEH6V94lCbMkvagZj1w8OmUAGuDQsB6QG4Rni-KdZSwHAwYnsQwo0EZo0RpmV5twA2XUhm8BsEgC-pp5uCSMG4Zpg+D2yd7egwmETLfqOBPCaMAa8wMgcfDyzfAneu4RSOJGbBTJa6tnM3mdWSF-4VQRCbmilhrkuQx6tRDupvXXqQ1JDR4T3tpDppwDkBmeNAf9jD4mAEkKyVPrT2qc+gyB0srXL+Q0G2kkh4TDgfHxs4CaNIRA-IZEzoH25RwdQ-5xMnT6h5YK-ZcDpu1DgHFpeAg8Sstoq7BIuQJYlLEdwqFTduwMrucXWk07iRdA8LAPNx1Dzdk-kHcfEyhrMgDgUgeEA-uaQFqP9X+quagafl-7wjxAIAyAe3n-cGs+Pdw-YfTheHUdPhxZX4eY3HwBNSwNI-9PrC0B7MZucLOLPkDoZt02I8YR8usNMBbDOoTI+k26zjNRkThlhvF3OKbKPeFyqwFctACIqflTcvJoTP+50RV6dShwMIiHDOJjUEiPLdIn5qs0GCs8duflSdQbGRZ5uUY9io7olqHCv0I+nUpK2ihxjVWL+e0F2NbGMJss7udRjm0BJg6e5d5YQc8I80EQZxypOtM925G7pdxqKGPKa0-74dhwmCXoFqkAAdLAAeohXOhKDfAA5NoOJ3BcVuhaDtI3tqg8HRcaHXgKgYhNQnYT8JoY-0vTB-EUTrQp+aMDIDBpJswKYJPSdAAAAvNtOYDhNvlETlJ37KiYN0Ym2TRQyHDid6B4nJY1kU9NECCP8RQjPQSEzyeRP8msuFQUIm8zyBvNqAbzU-BsEOHNgdgRJj5QqYBq8nqT2glUwT0wnqnNT2p6EaKcfBAA')">function apply_a_rule(rule, query_pattern, query_frame) {
    const clean_rule = rename_variables_in(rule);
    const unify_result = 
             unify_match(query_pattern,
                         conclusion(clean_rule),
                         query_frame);
    return unify_result === "failed"
        ? null
        : evaluate_query(rule_body(clean_rule),
                singleton_stream(unify_result));
}
</pre></div></div></td></tr></table>
      The selectors
      
	<span style="color:green"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      and <kbd>conclusion</kbd> that extract parts
      of a rule are defined in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p26' class='permalink'></a><p>
      We generate unique variable names by associating a unique identifier
      (such as a number) with each rule application and combining this
      identifier with the original variable names.  For example, if the
      rule-application identifier is 7, we might change each
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in the rule to
      
	<span style="color:green"><kbd>?x-7</kbd></span>
	<span style="color:blue"><kbd>x_7</kbd></span>
      
      and each
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      in the rule to
      
	<span style="color:green"><kbd>?y-7</kbd>.</span>
	<span style="color:blue"><kbd>y_7</kbd>.</span>
      
      
	<span style="color:green">(<kbd>Make-new-variable</kbd></span>
	<span style="color:blue">(The functions
	<kbd>make_new_variable</kbd>
      </span>
      and
      
	<span style="color:green"><kbd>new-rule-application\?id</kbd></span>
	<span style="color:blue"><kbd>new_rule_application_id</kbd>
	</span>
      
      are included with the syntax
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.)
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rename-variables-in rule)
  (let ((rule-application-id (new-rule-application-id)))
    (define (tree-walk exp)
      (cond ((var? exp)
             (make-new-variable exp rule-application-id))
            ((pair? exp)
             (cons (tree-walk (car exp))
                   (tree-walk (cdr exp))))
            (else exp)))
    (tree-walk rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlKqu8kt0CYpi+EwmmYLK1CAFxK9KAwyAk8iw9D8-pJAeYAD6o4G+LGQg6EHIMADmCNOSIBhCMoHRmKxFkheVotAI8gYxN+-xRVJp2Le0Nw3xJ7PJvk5XNpb0YOnwfGEkn0iMFBi2e2eHxYX0oWVwZHwrNJKOMvmpoPBoHlyMIW2iT3iLzeCwJBPwOner0IusF8wAFtZ7UCWm0IW8Rj0zWSjAAycOgb3yOUC81GNhJ0CEb2Ue2W5U2yEMeQJHWh-VGgO29PyB1Ol2493miq9XP53qKrBRK2xZ4HACesMZlFofCheYL8bDJmLYPaMf0C2E-LZCebrazYlL8gOB2EBIY+aYNdHzRBJch9sdztU1cLhDra43W53hCbSutK5vm+3ZMoXZ7c71QoP5mNSd8FjPQZyWKdQMWPdAQ2Rc232cRXzvD9NW1Sh8AAD0UVp13iaC-3HE0ILAyDZ3w2DM2fQNKElahcGyOoxHIsd-QnaiT0rc83UvOs6AYXFmUIGj8DohiZibSkMVFMUywrM9XXwutilWKhaPokhGIYCSRWk49y1PKtuJHJg62XWY1LE+JHxbeDngsjSZk-bt6R-BUWIAktiKgryyMvWC4LM0B7M0jUvjQzDsPwXCmL89y-DY6NgOnKCSL8zYbNs7M3no2EdHkdCsJwjcYuMgjDwSvS5MMxTQF6HK8jygrIuirSAqo0B6sazoNPzVwnO-A5mP-QDEiUPQvxcvsBwbfAKh81yFza9sbU6-L6R0TshsxEbEpAkjUtKiiMsCyERs-BZmHvLbypNSqDK4mrejOgTLrJayokCs6IqKvDYuGzyktIhawzgzKV0hPidGEGYvmum72juziFJ42rIeh+J1W+qLitayTqS5RH5IvUreLEKGYdwc6NHwe93rB8Q0YpyhIqh6Zh3nfdtpLLjZClGrPCWhDTTJ9GxHVPiDnwABHbVdz+rmEp51o+Bqu5BeeRmMcpr5XFzEQMnZ38-Q8xXXV5lWUYAZlBk63klmWAWoHVcQSMqTduu19KR6sXavWr7dlp26cCpJUk-aXA+dwhXYOY34pNB7egDx38CGUBfdjp9lpXZPYmsF6abJQbfaaCwFaIwGSJL9WbWlEhcSp17dwzuOdoglus6FnChIL+9i+jwhY7inaq4HzObNt9DfkITtw4dvPxrH1ujx5Cglg7if2sheiG97slF5j5eKtXvkgYPwf0qXLe3gKWhqGSOH3YRz2qoelHelv+-g-az-kkodbNry1YhXPaUE0qUWztRSYtQZiPx2oTaq79oHTCsjXFcZkmo-RKhzIs8NxDzXImgxCJACSYOxvEQaQCn74MrilMBh1L6PEgaWYoegIpx3js-WS90FIRTrIMUGOwzJHD4CcM4UA4CIGQOgW4ngmFC3wKhamNUAQZCPh7F0nxgaAnxlifoHVoZqkpqhQ2CpdG+AAFylhmuRcxFh9G4AZMkMgih+qTRMeNZyvZ+yDnzORCoqiDB2PMFYyEyDNK2OkqAfRkxNqKLCsojBWMWr+NAIEsowTpI8x8SYwa2RSHJJxpQw6ASGBqKCQASBCaWWgig1SEFoCQGwsIZQRL8pk-R8StTKNqfUxpzS8itMcg0iYygphtJKWkspQSomhLeJrMW2jyQdLSZqGwDByZaxUdMzJcz3h5gavlQpv1DorNDtYMyehVrMwYr1FgbjGTFJweSDJUS3lYmuQA1JgTdmllzk7SJ0lOlrP+c7COKdG6FyYE8o2BhSlqN+ZCGmigZ6Qquu0qJ+iJRShlE6RFN9HH30BaKYF6pf7bIRbM0sz0LpQqMs8mZQLVnqhpdTdFJMpmUuknspC745anMxcy7WuFkL8uefCyp1TIQYOCrAvyVSy4KtJd05gegZUiUpiMiWCwmDCTot8nZVLISypOQylZXS9XqQmeKzljLRRWJYCcEMHLegAFUGDJAYLQKQ4guxMHkBhUAABaINQqyDUzpvTUAsS1WMAqPkoe-5hB8FAHoSE2FhAJHRgbSglyYgbDing6NYzZ4ZqzfrC5VFY0MHjSQ8eFgIhpNwJLF4Ka03zIFBKXNVb80cPMNqvwBwKDEA4F08NqqMFfPza895s7fCYWYBs9CZTuhiCupkudUSMHdSHK4Qa06N2btFAmmdR6j1JJXScPlbpe3NhpPAt4Z0PE4WHXawVT6wohDEIut0L7cDLNnVY7F0pZQ+HMI2-Azb8CFvMI6xp1a6zus9d68QgUZ51ODaG2J1kG3HXatkgcuS2FYQOBKmDO0kiKD0Pk9gAA+MNyj8kSoCSRm27ULULNzEssj-5OHsXIKmOJSjVWcfVCzGBpiEwSrfVyZV47hwbNFlx9Zud6VGwlRuh1wmFObMWRMf9LA9bCANgatRECFEgvBQvDOPHqTJtTUi6es9QXn1jn2otwHcU6DA+BptLb7Ptv2bvWlV0W7ueoQxid3Rgtsv3i3MogSfOgAg1BmDFgB112C67UKWpoMcEPWOxJ0We4hbi0vBL0yku+AC6dAMOXtRquK+dbLJiC28dFDtTLJWWufqqw2vz0H2tch2halzh7-QxaboPVzcLEt2KiL4KIV9mEEcoIwXlTo9AzUTYRdolGttDjo7VAAVOtkVspjtp222x5hBx1CzHoEJE1hxH6toc3bKzAK0ppf7YcYgGcHCgrRUXcifWIuOZRc5z7UdD7jfMPo3kuA4egCsdUAE+g7vMj7GQJ7GrLIva68D5uS84XI+kpjh7OPLX4-4noMn7zzlz0jmMKKJXYvQpm0dRbA2ft8dLM9lkGK3kOIUgLh5SyNiHqsYjpLS35HPAteSlGgTC0DoAQ4X+-9aAbVB9SAdhKvhHA4BT7HuPRIOQoXoABd70t-dAGd28sojcGIbj4h3b5NsG+bTbiLhXVUAJY4u50qjV3XquXfQ3p6z3R65O7rcTpSOgHpzH6SgSbsWZZXVveYrfy2eAXtlI1gP25bp5uv3OovqFXIdg9Ttr08K7Wby9lNqVe8YHSYhw5fqPnfvPV6wxya8KglUl3l4u+-d8d73iajJUkmOH7t8QJjzMN-VALilHDR-T+MZ+vQYut+pOTzSLvYuTFkJSX5KPKfU-TJ93zzzoGMpCKoiIsR5xJFXBkWgS28usrpgE56TaDCDhB9LXRkYCFkIApPYXUADCTTNJEgJ1PQDCOsekMA5kNJLCESZgHQCoVoJ2YzJ0CxSNEOQvbtSBPQHdO5euCoAPW1QtHaROeULtMyIYMnSgogFgRPWgubD6a+ZpP4ZgntYAlebhb2G9UmNkQQyBb+ZhbdW5Dg+uNVYQ02BuZWNVCoAWTuZ4SdbXTaPgZQhOM2NQvgCoNWLQ2uKiZdDIUPK6fQ+g7mIwvmEw0Aa2ZfG0RnYvBrPiH9Aw9oROTw1OCobwsMcw8GR9OrDxVrew4+UQomN0OfWqAImQruCIz9dZH9ZYXLXwmhUBMiVrevG0R2RxDcQkKwmw-eVvBfFMKCHgqNQnURIcNhaZaIkBfQWogdVMfvJzMoq9e8BwGXH-FcRnBovxLfRPXJbIjoLoHoMYioCY0I1DHqfOLxZtNVJY0uMufPHI-QEY9YBY44IcPvfddYkwQ0LY6osiXYgolcBddHHotdOLFY8YyPUAPINcfvZo3jBggEAkVMTxAaRMZMAgQkP4zUWODdfRYMPQYYpY-4lyZ473Gg94qwmTGkKxYE34z0OEx5IwAAHg6h+NBMN1RNk3gMQN6AABUGRQAkgGBOxo0SEYQi504XEahCDapQAPBD9zBcR8QCRk1NoxijAPA05ehOSoCU9eSZR+S+BNowTJdAMyT4NKTqS+BpAGSCQmToUWSxlhB2SxSuSr8pTCQBTsTvdxTRTxTuT048RpTTT5TrjxBHFaBnFXEt9x8t888LBApVF3gGQqNKjRRAoKczSESdt3kQDEdQyST3lOkyk-TalS8r8pk6JaASiClL0Hjdw09D8rEt92Bkx24niYzZ19EIJ5TrS8z7sz4hT5goIHSwdks7EAtVECyOBOip5Id7jr1wssQ4MZiVjEMGB6QJQJAhwcMuQUsW0hsaQMsliHB6jYS5sIySwQzdjxdjihxSdkzzB1yiMrjb9FtqQFsi1fTnSAzKs8NmFN8ViPTBzQBNQvTdz2N4zzymi1FedgzqzZiHziTedzicw15oyyc4yMgEyqNuSii0zpTuyrocyj08yVi2zdoMdizk99FJYhJyyXjNQSzuV05qyq5iy6y8jiTDz+tmy21Wykx2y0xkVUUQ9ejOZ3l+yzShyRyNkxz8xMNo0e83pyLfNINpzD05zDsOBFzGjly3kdo1yliNy1itzL8Y89zP1Nz8x0pRQTzwMqizz-T3zBEwBhFjhTg39LhpEbgMBBjqIy1s1K1yD81h4RCOI4iENaobKK1kjnh3KCDtBfgCB7wIkHL-oEoCFe1LQB1vKc0jKOAHpzFE4pw04LApxZ1tyaRE4wJErzAwIUqlKXc3RehgxMqpjugcq4qFI6pXQiquJSquRE5AK+Q056rcAolUqPlyqoYDgVB5BOw04Oqur6TpJWrfBE5+zMr+z3khqLBE4khUwJg8gDghgZrPQ5qjhRRJrzBE43AiqLAkCKhOxEx6NA0PABr1q8q+gg1trzBdrQB9qjtA1Q0TrcrE5LsKgaRrrbq2BDrQBjsbrzBTrE5gBLrU1kCbqDqYDQAwBHqyrqxegABSIG96sGwNWG360Af68qmi7axGu65C-ap68qgAQiTCxpBo+q+qJo4DxuhvytxIRtJqRtAHxPMCptqvKtxLYEuuxs+vBvZuZvRphtozpr2oZvoz5vxoFo5tet8C5q+tow4FBvFvyoJqBvBt8G5vMAJosCAPMWbAipyHLR8owTGPYDsX2ynGGH1tsrIIQnHj1szStowVoDyAACssCjdTaxoYgjtE5IrAiUKz5b1cqsRfbraZhx4sA7aDac1tVBJncHpE578nQ05E7Ggg6dyNryrIAGAQNoYerXqs6c6Z5Tr06M6YalrKBYBIBMry7K7i6S7pqNBlqABRIq8upuuu9OxOAAOXkC7qBp7q7rwuTN1rtxDpjt1WNrYA9qo2oCOwgmoDhQ6EtorRUx1Qvl4EjqtvHqElyRNtFH21nu5oIQXsXrHr+1jubCjViWZmXsNp7TjQ1K4kmOvplDWw2RYFwE7BgudvkCyDuxyBRSTLnRDszRUDpUCsYA7ppHySfu4CxCvKFkwpcVgv3kmNuKXUYqzLdGRzRw2QoNvqissJ-OtKXvtpXu3o3Kgd8Fwf0BDsdpdrdoqBIbPv4jXqOKoYsA7PotnkwZ7MtAIGIA7IJEcTeMpl4b6ON38FcXEdQd4CwCf0gRfxMokTMuuEwCsuFiYA0iEEoAdlxHqCSBIAfmUlKHWBaK4WhFhHhAIRMbWFgjsTLNoTIhIlsYIFggtMoANJtL5NNJsZWFMfsftX9pcf8bsaIWFgSCSHDh3WwMXj5PDKLXkGoGoBhAoGUXGnjWSbBqOA8Go2SeQt6DFP0UKZR1qjrHFKSYXrTtnUKYqGNIJHHl4OYUYG6kljielNrQac6bftabMeMAqSqPqYtL6HFJ+Ciclhic2323yR6eyElk6bcwtIMF6H2JabmZ9BYASGoxIUmKau2YJBjOKcR16DsT2QenyQjHDEyUCyjJIguaMHRGCagnudAAptqgEQcdTQgguYKcGAhM0bxCSaEj0cckMYfgubgMC3CVgR+cjHGxzEaKSSrxSXuaHuKZGY8DWfrg2ZIC2e+brX2fccNPeTFK8fdJ8RsSReahxkJeFIlLeVJfFKxclnTE2b0AIQTVpYLTcHGybBObeSAwYF6b6C4jTiY3tyFfWdZdxYVK5D2ShIhZJQleFYKumLTgenxYOZIqWHuYqGZZxYSBjL2XqcJc+d6AAHIvGaMRTLXTnvG7TZTCXVnJXsXdHtQSBNoHYPXdmT4lh8wrGegIIvWWb67yrmQdBRTGlRSvUHxrx1wWBY3EirAmxZWaQsUXW2mg33W8aLilhg3F79XpXDW7X9X2XAZ83tW9AK3lWpX823CVwf6-7qAAGd60jsI75sZiNFAfXRkagUEmJ2FPnE5oWrIKgqWsEWR2FqmsR9tG21xm3hAUU+8b6O31wFmu3Am5XrFJKsJDmzqBg05yXpod3u2jWMDFB63xBg2V2nZ1wN3C0as3gR2B3d33MMsiGkL8tRQj3fEdRx3q9J3X2+s9bV3JZnQE0HB9tr323b3E9OX2FyLOsP3vwCnCrPmoSIIYPsZKwE1F6CEsP43wO61N20TdhkOXICnRX0OThYOcO607WjbP3kxeg53-7F3W3ct+XSSoTGPvxp3fBZ3f752W3l2CO4OCWEOz2ePyPGQLbQO6OGnb8pzoNH3f2N33MGDyrBg6nbyKWT2NL+shLBtdERssJZcEHnh0MdR2FzHrLpiN3PmIJB2gnWK+FaokMvUfVz2J2UxOw6lPKbRgiOcbOviRCoTnPSSSIIvSPXOsIhzkMvOB8GZv0i5iD2obwE36gRk4QJgdBJQ2jd3bPfO6l72aLaoMuSAHx9jYxwP43Kv6gvkQuqj56UvgugPH8wBekLctAFg1hhgcdo1OLHRCB5HDLX9qBPQlBXAXDU1JYhZLYv8v8gkr71w749BUhOxcCRJGkdAEnwdfWWc6ASBdu0WJXJQQM8UBW0kZZYYNu5pAYII8Cdu3Mh74d-anvjvwTFSbw1u7vc3DvnvGEo1GdevCgOF9cI9NVTGHBnrQf8BLtb9ApnTXT1v8BZ5PAKgNvKA1ZecB0h08g4eHAfvqBUf0fK2vcywwnGzVOU7xoyACeAnezziU7GzlP-zbdWG-AjudAifVuSese7hK38e4eDOokQDaePvGhD903zuvNcz-vJeBKmyjzfATp+IE3SfKAMfQABe5jP1ey8f6fCeOBifNfteSIKeReleaf36LuMcjfGf2eeSiAywyJLfTH+PpIoSHosfteoTdffysiOHZ0LfIfKe3HResQ2eZysQB1JfeeDhfu0fseheHeqfD0bfZfZQAfju2tdEFUaRMLXf140-ygsAC+U8oT-fk-BfA-tRg+j0q5S-1h0oK-o+yci+SJJe9esjGyVfJzjzqRAo+qNAJvoTeyKNKOnEXEuPSyOpp-FBkcrEzgyvegZRJZKvZ+519F1+E36cHUED4MEh4vPPxAuvNIeK4eJztLziR-CAJvwq7dz-hloeOAQfTHDAN67dhuHBn+suP+6oC-ayBFQG4cA-+PXAAbv036X0SCYcQZIpkJDLASgfXOvn0yqJQlXGs0VAeE3gFQxSimAq3DKDwEHMiuEEXAdKRwFECYKHicgYSEmIkRaBBzfYowO0CzBdiSAlSFgKuJFdTemAsdusX2LoN9AfA1AfwK3JFcoSjORgRwI97YCxB6lS9i8FYaCRcgqqNzrsT1bDlbAzoYoJQEm4bICAJADhIFDoCKA4khXGPqp1YQIcnemjXEK8SoGEgNcjg0hK-XYHqCBBh6cXrby8yECEBBzaXhKw4o6Dsgeg8NoYK7byD1g8vUwZtBYE0CXBkfbnEZzeyBZwur7WwTtChKxCy2IEBDkEVqSbQour7JXu3xXIJQIorPQfucRyHsJFBvJYCAkF7Z3FJQ9ETsJtgODa9Wh3VSsAcBx6hcYiUZToXu26HtDnQfQwwHaww6AxhhnvK6tkzxCNDmhS6UYR0MWF5hi+40AWHMJLq+BVh4wtWOExlCuAmQOafYVsIqD7DPw-Qqons2GGfMrhEwqTvZ3bjbDkchgI7McI-rAQzhkGHofoEeF3BDAOwqJB8O5oNCNhVcAWED2DLrCmhfAeiNHE9oP09ufOBERoEXTnRWgeYOJksP2wxA6mjCQKOiMICYiIRWzckT2yGFwi92iOO1l8JICnDrA5ww9O3BpH8cwR9GEkWSLhG4jIRUESkTCPYwYQg82gAcBLFdD7wRBeUP2NwLbx25GBzg-wawNzSwkRBVxJLN4Kz6bZGBp3IQTIJQEyiohQ9KxJ0FJGGZKAM1MfvEJ3y6jLhGgY0YoLNG6xLRo-LEmaPtGyiTiAwk0LsQKZ8BFgSdelnolqgBjZwSdO1hHFhgeigoGgIwJ8z9HmB6RbwVhGaPjFKshBYolTJKN3AxijRBxdSsmJuSjA0xoASMKWChIyi92zoi0VaKxIkQ0xII0UCRCrFNiuQNYwIK6Pv5YlMOcYtsSnggitiSG56dYme16BhiCAEbeodKQEZaByRSBSYlCRBqciJAa8R0qaG9D3wJgswCrjCzq4zAKg0HB0aAGvZyi9cduOsbzCHT-oHAHY2YHWKrbZsbkfsXcfECYa7DZ0p4zwecUvF-oR0zHCcRGKVZ0igm6ZWcbMHnG-ioor6RQWQBZZEDMIFBOMUVxxC2lEBvY8kOuOG5YjGhpPbXhtxuG+A8eDgYbnhMx5o8zCtw8UD4Oz5DwEca8UpgcEUEISMIlALHv2CQluxfsnPDbg4Awm34QCrCDbkYGKaDBSmG3fhkQFAAUkAAEk3UoAABBcAOACboAAlCkpAAADyXdZABwAGJ1EiAE3CYPuMtx3jjRRXOCdYBYmcTdYe7bCSxJw4mSXsd4s9thK+DCoN+YdfYm5L5DGTPJluSYrJPklKSVJ6krSTpO8ku8HJtXfyc5IxGGZJi2E+cSxLYnJ8OJLkuNrFIYBBpyRaXWQkQL8mZc4p5owIOZJ9HtByRuaREftjhwyiYQdGenBNxEh-wscr4piHVOP5TESpNaAsesDmFqluxhU+rsVN1jGj1xkoOpBsjeAvtFAevZAeUF6nGD2oiw6wFIC+APw0BooKwdkDYR593kLZG7ksBEEt9bB5xPENqD76GdUsMfUUGriVHECVR7gx0WTi1E4ps+eQV7tAQDFQZhxViFaZQDWm4AH4NokvB9KV5HkKkZQ6SmF3s5mMQKKYVoKtPWm5C2iBaR5v9MBkPwouqbRUt9MlhVD++EWDGcjLqEWdCiIou4smmZhpkNwawA0QtMfKLTVcColwfdJgpuC1RoTBaRqLsxtpNakIWnrqIn4lhGAApLsdaJcHj47RwY9OozI1HBi2e20noLhQ2Ip4dgx2DWXYjVysyOALAjmY0TlnfjhsJYfmdRO1H6BdRyOdNmLIfF8DhxNIEGQ1jtH2ysQVxJfhgSDz0ysBhsrcrLh5wBYJp6OaaSyEZnqjRxpxdWZrI6wlhxxgYqcceR5wx9TOnskQT7IUGD9lsQsUWbKXFnui-etfM8ecT9Gr9AJEbM1qXK36WJru4aJYIoHzl7tdiRY1MQLBln2IPZlMgcH8Fwh0y65wwAuesSbk7TFAOPT5pmKpldzaZhQYecMG17cCIaYADWcdiLFV8W55Y9NPZ2Hl7ts5s8B8Q2LeHJkGxasfsRYG3m5yUZFBfeR+JpCYcj5Ls6SAeTtaxzwx8czOc8FOhWAJ8RUhgD22crVQ2pPUp6Mm3CZ8Q6IcEvCMEEmIEIIF4TcYF8ggUoSDu+0KCNAr3bDtcAa0zsHaHICpwz2BCLvlYCOivybQ19fKMEDGBWBDxT4sySeKfGFyOe9guiOAVkBWAHArQGaKFHmlRRWB5CtxklgHSny-xDgcbKfIfFHjupx82PmIFAU0tGFWOCBRIt8BfjfZVRARdBJvEly45lctuSBK3bl43WLATaLAt0IIgmQsweRR3xnFEA5xvI1RdeMwmSTiAQUygKpNdQAAZJurpNXF8g5GxIwyctWCCDRqFdCiLJZNYGSgMINkhKZ83snv0MIlYAJZEsCCuSXe7k5hQQEGjhMfJlMBJYFLknOK3FHiyKUJGilpKooiS7+UV0qk0MgGbyJKbyJSnsSVYGUl2YAoIA5S4RTYOYXUuxFbMD2dYYIO0p6UptFB19BJUEu9GDM4RVUjQDVLnTBAjs9OEhaUp4VYDxlilOHANKMljL4ppUxaeuI3B+VrAwbR8QYufGjTepOEvMJMUqkkjZlXIYufRkPRVLlALQv4WMJqXvIQMMUr+YNDEXnKriIIlcaMqsC-KqFOynqQeSDrrlKRigvRccuDZRDLlhrZmZzylhe0OApEqzicu9Z1g4V2ba-nzgFk0TNsaKyBv8wOVgN9FHrbFZtwuWUi4CpKwXK12mzVtoVNI5iW8BYkf9Sx5U6iCa34kPNUQLCHaQKvqENJWgQ0xyK-Wsn-yOEqnLlXTNlUG87cvEjgA0rSkqxZVjZAdCkwQIfh-5SKvejHm6W4S-uvQf+YMsaEErfAigHHKT0ylfzLVeYVgu8gVZOSepK43VWwqEgGrBRfslIbxjlywjGkReKwCqOsnwL5RnPO8Q4BAVagaWECpLPKtiXcrwVe0rkAOlVVKDwlqU2eOlLTXaq7cXqj8OMHJFGro8JqnEWaoGW5Sletqt0NWqsBOqEgLqt5FCWCAVBPVAQb1aUqRWR8oZ2lIhS+Dy69r+k-8z+cNIqW8rqUH82Va3Le41dllsqu1ouvHVarN415EdWuvdUcJcQIayVfUGlWxKJ1MwW-AOkZDfLJ1zuJxSFLUkaTtJ4AJLDeuUl3rwpnit1VlM7Vg0L1B6w4AJJjkukVmG6oWIurIWRrqQe6iVeMCPXhKVlZ6p-rgGdABKHATilxe4sfXUhUNBS99fZw7Wppv1iG0pfWiLS9BANHKzsqij4jO0q0EUVEZGSAq0bwmhOKjU8C7Z0aAYeQ1jPsW7jrJqN7YQaIxqK7FDFAjTKNBDlRQdU+NCENjVSIY1cbgN2hJrJJtY2Cbp1TneTU0xSINxlN-GmTUJpqIaao0kgAkNTGdDHLVNzXQGIxv2KscF2S7S8HpoNCbEi06mkTeuKo20AZQxIBgFJsHiIrKRCCijbPBY3kEQtQgL7qSTZU9K7WHmrzTxrC3TYEtscNsXioMWNZ64QkBLd5t83Jby+JdKLY0KB71q+g4bUUqlo9ZpxYt38nxe1Ek2eaWQOm8Lf5ppGBbuGNEV4L5rwiNaL4nzHRaRwZFMjhIbQzbHDnK16ElNHW1jd1uS10r2ReWrECuLq1xbWc7Wg4Dlt3yTb+NpOCviOMOJ+qbIxW0jSQDK3aYqVedIKB1vq0wD2oxmxjHWma09LrlUy25WNA2XzlPq82gmAdzG1bZ8AJm7Amdv2a5ar57yMCVYogm8iDykqJVmDoaQQ6elClQsRUiqTS414GSHbbNse1bBDtMbE7QkmYBnarsf26mNduYSYQRIOOazhYJ0raZIhKYNMMIydqYxMyfDMmQ2yE5scl2HiE9JjsK3uQZKz26qa9reQPKN05OlJqqnX5r1VBOoa0rZpE4ObcOUQiRUUDHYHVhxrFDIO+KvluoPUp-Lqb+VYAhoOSPLZHTtpY4c67NHHbUCm1O6w7rFCOt2Vd0RzTsCtVy7HXaot1NsROJiPHSqiOX4qKg8u9jn3kvoDokgrEvqm0IcAABOXgMP1eD9UkV40Jacwij3dUkV2gVwIvAqBTrKK72KEEBVxDpqaQisttOIDK6cAmeFgdPZtHNbms6waAJvdaqunCV3kte8+cXvBk17E9bQzPYYhmJTLR4i9cQKGk0LzZqhPezqn3sqkD6MmNJANKtv6rrivgGCrBQ1jfAhqHtfO6dW7oSAe78qq+7quvr9q9AxtYrdBcfr-z18atzCMToDplD1q5iLAekBuCLoor7BUsBwNBxo6dthWj+gbiKW4DDLeZqaA2CQFf251XmzHDcMCQfC9kO9vQENKGjE40KDFSg+teYGQOPh51F26fd1T0CFt4VmwZLInK0qpCDV2XKoHlxJUl6sQoGsNWOvdXUYt17qrXDrilhJDaQbacA5AZnjQGOASccMUwAkg3Sp9-Vc6sgawzuro0NBnnlIZDQ4Ho+5BgdViEQMKHQ0wbQdMOiOAaGLqSvWvcnqeVTK7lc6UXSniIPZsPlMeKXSoOURSxldYBtXUdnKQgiftDh9OJYrh3J7Ec-kczkOtQxNZmQBwKQPCAANcS7BxAL-RwB-2gckJ2LNNEK0AO1RgDkfUSvmGdzuG6mXhh3bhN8P-rBhQFXYhFrTa1QvUC+7sdKVjELATmFSQVr0wf3KCmAMuqtvdxAjFHF6qu3YGDXKSKC2FhxTAZypZDgaiJducYM+1mC6B+i0gXtRMYaCf8h+y0xGQDJJnU7o5MRawYV0PT6JGc6QDhZwLp3jHdS-bSY1L3eTytYZu7bY8VR6DEygZ58-IYfjuNYyDNp7V7g6jM6T6iZyxzGXBstD37jl5rXcXoA-EAAdLAGQpobphaAuaRpFsxd03VhaBaTdA3tqi8G0yOC3gACasNAn9xIJ3YeCchMvKl0IyPgHCaQmjAyAcxRerSqhJUnQAAALw2CvVwT9B4k86FJPkmtdiJxk+42jyoneg6JyWNZAVTRAgj-EUIz0CBPsnoTsJ3Fu9QqDDtRSeQUUtQFFIRsNg5rZsDsGxNpbpTk0jkzCbJPynSaipsNsqdVPqmU2Apx8EAA')">function rename_variables_in(rule) {
    const rule_application_id = new_rule_application_id();
    function tree_walk(exp) {
        return is_var(exp) 
            ? make_new_variable(exp, rule_application_id)
            : is_pair(exp)
            ? pair(tree_walk(head(exp)),
                   tree_walk(tail(exp)))
            : exp;
    }
    return tree_walk(rule);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    <div class='permalink'>
<a name='p27' class='permalink'></a><p>
      
      
      The unification algorithm is implemented as a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that takes as inputs two patterns and a frame and returns either the
      extended frame or the
      
	<span style="color:green">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      The unifier is like the pattern matcher except that it is
      symmetrical—variables are allowed on both sides of the match.
      
	<span style="color:green"><kbd>Unify-match</kbd></span>
	<span style="color:blue">The function <kbd>unify_match</kbd>
	</span>
      
      is basically the same as
      
	<span style="color:green"><kbd>pattern-match</kbd>,</span>
	<span style="color:blue"><kbd>pattern_match</kbd>,
	</span>
      
      except that there is extra code (marked
      <QUOTE><kbd>***</kbd></QUOTE> below) to handle
      the case where the object on the right side of the match is a variable.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (unify-match p1 p2 frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? p1 p2) frame)
        ((var? p1) (extend-if-possible p1 p2 frame))
        ((var? p2) (extend-if-possible p2 p1 frame))  
        ((and (pair? p1) (pair? p2))
         (unify-match (cdr p1)
                      (cdr p2)
                      (unify-match (car p1)
                                   (car p2)
                                   frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06cDwc73jxxQIBgeAkFQNA8TQYkLne8xRRBLQKCyXIFEIehiDoShwf25JUnSBQWDIfRxclmoZfCUAAB8dcU0UPl6zq1cUDXpdlmI9YN1IWDkjghFNiWpa13X9ZfRWMjFs2Xct2JrY9sUPzVKV1d9+mmeBagRZ+aanfN12IkKALiZUH3NcoV63uTd1UmYMQJGEBhZzBMOM52Pp7h2wm9oE0VSbLi3wgAMmb3p+kGRvXeEoFKEr-Os8j0U6D+gGu8t4iRtFfPC+L0F499iyR-+wqIsjwxfGV-BG3wGQ0lHheM7lgTDojcf+TXxHBdSc1qDEOh-plw+m5rqe8-IAvajnudx4s2-78flpCOV8XD-wfhbBgG8t7e2dkfV+qdT51iGB3fQZ905N0mMAgWoC3B33ATLa6OMGAo0IIEXB9Bn6JxTvLduIwIxoNgRg+m2cWKigqMoNgE1sp0EoRPahdd36fyLiXXhFkSxCBAuwzhlV6DwjdjbKus8RG-1EjDP4DApFcNRHIgO-pp4fyUfPFR4ImYaJMNI7hq8WFuU0TIxgUC7YwITnw2II1EG2ncU48OmDXqR1sdwwhBZiHI1IcQchPDz6EzcSg+hSDz4X35jnIWf0WDCHIME0J4TeFDTfoor+yj0Eywspw5WaSMlkMMM4KxkcSmpPSYufGkgyCQM3o4ww2SompxuNiBx28GC733v9bgnjskJJqSkspdthC+A6X+aJdCkEMOcT42a1jr4MECpA5gWhAGzOWLkme+SjGFMoBZTZHwqDEEAdUkBtckjlLCZUihkS5kIJiXEk5CS1kKwYG8NiqJOh7MKAcgxRyf4nLEfQf5zgfgkIqVU8IuiDT6KEd-UuELRJ-OjjCxsFydkWxudgtOS0AWNlCWxbkWggVExoSXDZlRRGgDxFgnOWLSW-KNG0AsT8Xn7NTnSwIMhGWkl8bctlOKGCdBFiPGgOYx6fM6bS0E9KhUqJ0MwoeqRjDtGlsoAGHwFAuJpQIvJwj54GtOaJbV3K9WEpzs1SBXLdX6soIasIiqBIiPBNa514JuAWrCKKolPrHAtTxVci27SLXPFiHymhIzo0spYlUUgHwtmXN2QGnJbyRhZqDTnMhIFw2AKja6yg7rXk0MwmWwNs1NXEIlpQXEIa9VGBrdmmhw8vZtrdUmtyyS03Fotj28tHaTXpEyKgpBWaNW3NFOwDwXhqXGrdCiwx4LGFFNEgu5QXg7ULS5F4Vq+BpnLruS4EZ8TB5zpvoQQgIJKXOGXSC1FBTN2WvBBoe91BH2yL7eYUxcLHlPt5a4nNgwlnePzSxCaK0gPhPaaBldF73m2kg0fL59aer6BIcfVdgj11ghIRZYoVjvmsWICQEQqQKHEYGkDLGeNR67UjpQQILV7KdCXYWYigphRvlSNhx0NdWz8a5YCtRjHhO8dDI9UgBY-KxmPERQyhp3gCBYIyT6DBvpwxw7TRph5ty5M7IMFgfodKxFKDIToxhVP+nDOxhgnG2BLu03HczRmDTnH-PhQiIm+KdtSKTQs9mYilDY8QDjXHkEjGE3rdkTmXNLojI6MLoBmg2cIop2IDEGJyai85mLuHr1EpRmjIuQoGCS1wRtSTuM1wGeYzXc8n0tPHU6jpxgen6tNbBn5V8ABCXOQcKghzMx1nau1gWpwcEKXENxOKqFuttQJANPrWG4OlvsjWmP9dAOSPzepXyimw2uX8lnCh4EhDdkMrXJvtbul9brjTxpsD6zNFYI1hvvjG16FbJ0wuBjoPNhgi2uK9e232dzN0NtoUuysOmYXjKo2loMXrA13t7c+7l5T7p+MVCo6EfpPDdsY7pjG67t2vupxMXWWo4I-JHZUzTmh5W0dU2BrtumTPVmMxAYYFmSgoBwEQMgdAPM8SJJYsQFClzGXSxzGO-Dc8Y5eKPtJUowsXKNjjufaSzRh4H31-6LXckJItOgWtowrS+kDOXvK99m2Wh0CVwbkbX6H3cOyZrwQd62AzNl-meXgGQnwueZ87givNtQ7pQM6a7TYMPIQ9kqPrvJhYCgobmjFUqDBA5crao3uTcGlKEH9c8usqUHz+LRaATq+Sv9z+4vkeXdu4cyN8V9BAUl4DC0NcHKSU4oV+n93yTSnpPg08iJnzfcOqZjOCZ9SuH-RFpbtpqeocrFqZMk9Mzz5p-bwabPjqdWhp96b-vPwW36qdaG9N+KZaIc+c76PY-UhXM0M27ZEaeWz8v6Zu-q1IehfqXlfo2Dukuiom-h3qKOcj-rsr3tMGXgPvARmsOtAaPrATfLggAhgf-mAeXpKrgfguiu+ofrYFniNqYv4qiNkrhAdlBCgcHlSjQeYkwPgIPhcgQlIqnm3hZkZCNrQSBgQX3kQcIRHuQfwe7iZMEIylZDZHZI5NSL4DLOQMjB5F5OXh0FoGRpHJ7jMsiNwLBhWssCdsFr1AoNinKj9CAvoMiL+AqCNAYdVpYdYS1AvkYYIKQGILWrjgRMdvxqKGHOULYdgvYQ4I4Q0OeGQhkGVNoSHiAseqeg4fDgjtMOziIMQq7nBPQLslvtBKYg0qPCLO0qkQUduCYWkekQaIBjkfIKQREXQCsi6KnHAcTNbrEWwLLKpqUJstNIPmjGCF0T0ROM0KZjRMzgFrIdOF4QobZA5C4Kxr4CQJoX7ver4IVLlqsjUsqvHlRO0iQoYBQSJiNN0voLBoCAAHzgE6EAywYUFR4hK1qXxlYD5d4jzq4WwnGTxtF5zyZ9yB5y5UofE-DkrN4gmt7R4CEyQJGQlD7d6NiUh35kHLIUGKTGTAnyoImfGSrdFkAyrUByp8HR6lY5xEE34jrHH8E1zmENpf6n42ouq9rTZgY0ITGHZ450mcKDoIHDozoBbIa3Eh5wS8noFPxZqcCkmckBEs7FjFQgyilFplpraMiGRwkAwppimP5giSnSmibtj0ryzW5anKmGprZRGyapymlbLmnTQ5Z4R44yatFs4D6UnpaFoP6-7lpUmbb6laiHY7G3Jx57wOBgJSgO6mEzY0LnEO7XGiSQhhkkG1BwjcCRmzrBrciMD4D8BmIcJaLODP5O60lBFap36trxKCnEpUgBqMg35eklrZIOnnojaf5NqMnOq+lA6gATpsDI7rEc6GBZn9K5kSHvD2FKkNn8ntox41ExBDlCAjmSLmIFlGj6AVHTAOqUmelDpP6+ktH+H+bOktlsIrl2KgGX4iJjnr7byjKGTNC9m86vHkkD6QEj5K4tYKlTK+BaaHrJH76fJ+Tnh7iC5AgLnZmjlnncLtLflebnhJmVL3y1CgVRxpoDIIV4JSggVeYjQambR75PEVbZE5i5GNEgXVFzk6QYVIWhBbaUXpHQlkky6oEdG7momLw0m-ExnkxGnKjW5hZ4WbJT4iFO4UEZkvk-BgKIEYrR6fnqaY4FiMh4VSUQIDHCWSFon8F+RgI3m643QqUEK9JfFazYwFgUF+QjT2lBlvE-Bjnvm7Q6VGXW7XlGV8EbkxB4XXlqVh7AYaXhwUX0UeXp44WzbBxehZz87YKC5yCswi4czi7cyWDS79r-H8CqAzLIx4Y-J2zbz9A8KZUHahilDIwYktCkCmT6DIwWQ5UOwuAkImBaDCABAmDEBEm1CNB6G3Lz52HFGr5kDUnfk-H8JuheohFZFMx+rpa9VNKprcCDVaV1o3oF6SyhGeFZUjaHJmpzgyCQrOyrUgL7puRFEr4zVlHrUCoMo7VMr-pLFJHfn2HnXKqCr2HcAiqLVEp1EkUNG7IyCPVprPVXXqpMVNQ8X9E3RvBDF-Vgjghg04x+rEqQ3QYpW8X3JxzTTrVrpgpgjTRnIdHTSHXmCw1BIQ3Dro3wLxqoZZDo3iUy6OBfCVKdaK6kW7KyVcUCSpbp5I0AaTl6as3DUoZxac2zTnh9wtRtm4hM3fUWyMiPnJXXA8V6ZGXUkJ7rWkxK2mVhI3XY66VlGGaRDJzRknwoI87vU5xwxra63NZJyxqG1ugRgm3Pky6o5ZGS15H8m266jYwDXrBi3p7k2erSxiB9w27QLuo9zAiB3B1rhLBFWjRmQK2vbq2Y5hBzU+3EUwlKQcCdTB1K3hAAA8Ed2dy20dGdsJ5Vch4IAAKnJIJEID+bBrwCWtSFiN+u1aJKAAANSFUI5GzLTzYh1tLhBd3w3gid3d2Xa92dT90l2l1KQzEQjV34AgzED2TeFiCN2RrN1N5t2j1d0VGT1iD9251j0j1j371sZ90yAzIz3A3mD5SEC6XW5GVDVIi3KK7FxyTYh82I63LgUD3bzK22askunjrdq51b5l6u4f1EDrlzm6r01XSu2NHQlb7NBGUqRAiHTgPpGzAoIl0VFoNZlToPge0p33hU1ANebxghiviK4YPsiVzi3EXM0vzHmFDz3P2iTWR2zlA9mjxbFHiylVlqZUhwyMg2m81C19gjR-3m1K32GGYBU6Tm0J4KPMZUPbHUO211VQPohf1C2O1uSOUe1P0e3Ywv2Jhv26Of04Z+3HnrxENJ0l3CNsmgOTrYPQSQM5jQPYgFHwP4AM1wb1Fu1PwoPoRoMe30NYOkOz1gGkSHTR3YyxMrCEOOyYQxPWi2g30hjag0Niau70Oi30ntlIOALANFAcNmNcN0A8MiB8P-RrEGVALNlTFsOxDnhiNAgSOvb+n+gyNENyOkNqNgxKPoQqMHHDOOgtOBnaNt4+O2NK4RWyAC5C5syi6cwS4YBy0-KkLUBWGyoeF2EOEeoq6bVopNEWS7P7NtUE0kxuEHM6YSwcCALe7HOVpG0LK2gOHMLnhXPuFhHJgoUiLOhepzDw2xBzATizkNBeocjgsxAchQsBVeoITwtx1IsgvzxiSghoslwYvTBepdqZDw1EtsD+jQtFBerBT3rkCbHcDUucI-kGgUuFBeozHwszF9gsuxBeqLaqCSosCGB+p8sCuC4rDcsxBeod1ouxCVXcC+DhAAg3EaFd1MsSuoXQ3uQysxByugAKvxkaFeRqvItYupnTC6v6tKugAaGQh6sxDqterADasGBVV6uKvKugBgDGuYtzjggACkzrFr7r1roAfrdroADrWLPcMrQbBr9DCrJrvrg2wkMbrrlrHrybQICbPr0NedgbabwbGhBdMQ2bBLWLedAI2rsbVrRbQIbrib0NVx+b8rhboANxJbkbvrVxlb3ARQ1bHr3bHbDbEIg2zrIbhQVrMQw2MQmVzoTovz9zbVALsUStgIIY5xcw3AfzDzTMtaC7ez-zpi+ALAAAVg1aBeuxoE0fGSi4u3KvDSMt8+q0UNu0u7u06EVPJa+zYeIk-oyCIl6qZvDaZs+-RV6pAHQGqNHHSzEBB1B02qB5Rby1QPy7AJAPCyK2h4h3Och33AwAAKJosiv4fYc1FeoABy5A5HzrlH5HyT6R87Cp37LUv7RapDa7Kw5xyg8Zh0ygzuzHXBzAT+jHX7d7LHxUEiFtHHm5V73HVrl6m4PAYngnEita5GLhAnnhDgxhPhJc61Lh304opAAeV0J75AeYQ5vUmgsD0EAnez963przkRoz0wsGenRwRQ1lOcwEWIzDUtT861mRRcpTw6YWX6HOmnSRSdG5AnrHOtpHsQ4X6MkX2C-Sp757dF6RsXEnBCKtLnRQRTTDIXWsWcHAAgRTYgXwLAsKwTpBdZ-ED9xXYIH7kVgLqzcVYuXMmA2zCNFApgDAOqHwVUNwpAS69WGNnsysqsIy43GefeIyEYs3Q9okDAu91IF9U9V9sWEGSCS3IYzQM3E0mMUzptLE4sNwjqxRjVbaxsvh+nygygjdGQ8uRgxhD3wbguXdFxD39D4Io9pQf3GWokFkY95A73+XoYf3-qG3d3XNKodADSxgN3y0OnvhqPQciPPG-4-N63t3J9EIY9536SxgV3Uo5xSeDgmPqPEwJ91gjOp3bklPE0xgTAZACgFxPhE3aQ3asGpdAPvZ2k0wJ+IivPoArc0kAm3Pk6EYvPiKOstCO3tosvoAmbokpGfPBgh0ov4d4IpGikpQENfXIEg3sUI3S6vPpVkvnuEJT6ov4vE4Ru-0TRyYye0+HPU2yTAPBPXdTPqaLUIs7PWvPhienPcoe9E4o9a3Tl9uB8oemSbvyv4ffYkfY9vvLPAf23xDWQJh7vmCQ9qm8Igvx+ZQCPzPAM2LHw8NDxJfmPrPpAPEpdJ+pMFvfeaf5fqL3AIiQfO0mT2fof3AbfdfPE+3I2B9ufIYAPAA5Gt5ccPdPyPwff3bz3DzX2XwNwWKQDMjqpv1z72dxFcirNOIdNv6W2B1i0IMICPcECPXZFpH-G4GmCPfJhwPCHN8gav375nyf87hGN-wP6X37yH6N8P+SPY-hvwTbkN9Af-EAS1G-630XAZnCzsoCs4gQBipCDwI8hwwhIue1vX9DwlwwT8NWEIXAZYlphJF1K+A7ARD1iDnFEB6wZAdQE0BrZXCGAtwNTywGEBMEI-R3gDAIF94vUpGf1CYxj5O9cMwAkhPANAAn8WBeqNwBwN2h0kSBdBMQQFg6ZRdImQIEMNHz3gO5nesUCgfII0YLtWBxgIuCYUZDnFpB6A2QdSRz5iCcsI0UxOgx16otCBpMQ6NYMeRfwTCzuEZJ4If5mDg+XAlJiDHUHQJfuJcIvkUFKD+DTBkqYPiPycEaDVIdAyzowNQFUQohJQOOnoKqjP0wstA8zvQJQHMDYh7AsQcANJhJDoEW7eQDYO8FBCmcXJUsoMl4HYDWSI0AQfDW0GtDDBTQoRjJlwohInyPXJtCQHkH+0VcIWbAYQMOh8CheZVCqnRnmJKE6qPlcJOyBWLEBbmCNSNBMLZpTClw8wmSKlhmEhD56yw6yAsWUIUDdhT+TqkSnNBpgqoDeFWJKmEAVBBguGSYS4DGFtDOBv3J4XVBX4DAzBD-TSFVHurfCDhAtTuPQCGKHF2hkg9SEJxoDy46McMf-rUyLg9QGA6gEQBwFIAsYxURAQPNgKrJ0khM7QlxjEHuxPZHsq2XTD0xCQfYNGIDFXKZgBz3QIGJfbEddFIB4iL+hIjgayNQZpxCAMyGHDjC5FTYWmzQw0tMM4HlNZmDcUkZnzEHcBcgEorPoYLZGMQnShkIYYQGmZaNXGboLUWSM4GSCjY-QBQI3iJxmJGWXYNkBUCdFFxDApIH4SNj36GBmUhA10bSy-geingI-dwSgl9EJcdWH3SLH9HtFo5HRgYwYDaNjGYRmU1AwKoUADG+AgxpILWtUBFgOwbCWY50fSwIiJjIEnomEd6LAZ+i+8xY90cSBDEhCwxuaNMWFieDxl8xZAQsS1HrH6B6xFYp4OmNDAdirWyYu0amJWSGNzA44n6JwldRXsvCUZM0UsXnFowtkgQP6Dd1tFg5Fx2nakGMluQyA1x0sDcbaO3F-Rd+YDGMcPz7y9luBMsbsf0CLFljsxgwQyFgxvGkdRxNxY8VQHXHjiLxE46dF+Mwxv1nalWPeJSFBCk0ju-UNJJajphyUqQbWIENpiZEHxychmCyn8VGyfgpQG2fXi0Agmc5GMCE0UaGGaAcRpUu4pbDKOtxw5WIVAVkZIOokElaJXEDiPS2YnY51qnTVSDZj2AM5x60Q0SIJI4CX8R+4mLIFxKYmWxCBYjGINwMEwTR9AHEcIIQKC46YoJRoGCU-FknkTeJyk6rEuHUli8249cJcAhI15sT7k4OZbBGHUnDiDQEYayc5Jgj-j2J9kzPk5PcrQRDobkvyduApwj86cQky-taOWhlccogEgqlWNJiusfxPZL2DTTchqATAR6RckCLoLZTnA3AKwTxOkFITiI54eyfShpDdFGQtkxgN5IKmWpcp9ATLhmP9BFTsJOPMqSMV+7iSGchA+8SEMCbRT7EN4smEtnKlxFUp5gXgCz3agow1JVALnmPw8HzSJpLgdKGeK3HdA2Q3QSseSHPAoV0oOILaX4DeqzNfs+EpMeEFKC9kgehgZER+GRgMAiQu8OaUalpEKlugjIJabLBwlBZ+ROIS6Wr1HrNBugpXSQKAEroAAJfDgwAACC4AcAPhwABKldSAAAHlyOyAIELLXIwyBJAagYghpFRDtJqprIr0VNJagzTkYL06VBrzWmUzvB4IomdTIJLAC1pnQRsA1PeAr82ZmQAmc8LXLrVIZ0MuGQjORloyMZ3MgcPTLBGEzCyzMpIOtTWmATKZj0rMM9OqnO5P0jM5wO5HHEPCza7UPmRCLXIkzeJXo2cX+IXG+NtwCExutcW2zpTd0kqRgJzP7FUBG6W7TyUkFZHpjcZo0zmcTK9l0BWRzCMrnEAyDicHAIsRkAAAYTg5GGoPZA2QRz7RXuWKNQEGAPQU5uQKOdoCBDP9I5j40gGPTxA-SBIBcjlLnNIAr8HUic-kcd1Im4wK5SgqqBnNVpLhde8NUmM3Kbx4CdMTVSAUt0kGBAHc9ch0KkGqDZAI5u0GIinJbk5QM5MtFesnI4CpybeC8zOX5FYxJZis5I48rkipEAjDIpQWucvPqwijw5q8+eYwDbn3kRsio+jjEKXCRZosrmdUe0PckIsd5b804UqPo4o5jRMzFcYlkKzJYp5zYZEakALkXFtZ9ALnmcxF6wLg5okAuTsLeAcIppT6AuetRGTYKtaFc+6tgq9GksdREYPBRry9SdBOMvgVKtsOAELckE5CyQS4XSTQKC5+U8ASZMoDSoOFZAXEMVN2kKkOEeVFefFAvCjz6sE8nhNgqAoKk5sV9MaZVM0ETh5FC2KgFxDqk8Kgp6C9cG72EWLlsFn86YK1OYxly3QqixRRlAEn05JJd4r2FJKxLr8+F4CimHvjVi1VRFkY+clFMkAxThpFikYl8jDlCyGAiMyyAABl8OmM5KZkHjmRw-Z+MguYHO4UElSZVY8mV1gqBUyNZhAumfdK-hJL5ZzREfjzMbCFKtapS0Re0kFlQzQlESqJZLJAjSyqlRS9arOKS7vjtwSs4aSrKelCoNZRihoDDQjm6ybx8IdMd0s3Hs9O5ZyEZXrLAmPD-cuIQpabIEWzMLZ8484vZgLnxltsLC0RS4s9kpLvZvE32XjP5YrKg5IcyKU81gHgCoBnC1ZY0nWk8RzZN4ucVQC2WI5GkuyvsO0rvTxi+x6WNUDLP5njlNFqS05eliSkuFClEKk5RTiUZyMvxkgjUk4s34PK+FH2F5TPIVKtBkQjIA6X8MxU78LIaKk-gIyFJnTxsUAhwkRMqS3L0VW-cAdivHHJNmg+KhwKbEfF7loByKqZStJGyUyHQL0haTDx8nLS3YI2bDF9IWXedq8gQI2enJvn3SYFssuBSWUNLCqNonMy0tEXel+BGQvStWUKl1XNlzwj3cqhAk5kvLpOlmSZeeO6D391VdAUZVMspUvt+AOIZ1WCrdW2jJqfYZvkgu4BJTLVI8kCDarZVeZWmgZBGMGgVUtQK530SmS4txVfsg5jIHRZgooQyLyQdJbVY8A1nlNzwH0oEMatxDqyg5eoi1YkHDWiLbVAIAog6o2nbAUFcysZXqNKjeq21HAP1X9ADWhhu5EckNcGzDUQIK5Ua-oUeVjU9dQR9a-PK7N1XEKoFEctVWCo0l94510C3VSPznWLqkFWtPdUgrXXGzmiNcD4MEBag2rk1qqs1YIvkrbxQVp6lCiEpFlIyUZ6M8AH5FfXwz314s6JUGpdUjr4yj6pVYWRCo0JwQGIennGpzhbrV1RC4iBesVVJqVVWS1NbIofVsAi4SSxkCErCWRKv15IfDfUoA1Lh2FBgYNqBqSUQaBIUGvdJAuKa4g3gJ7OwkcSvGTp2NK-G0ixvmgcDlxQpOYc8XwVhIQIvGlEIiMIACaWyv8l4uRlFBMNgorG8IuxuXVS8sgXGhntzVTSSIUgym0wPxpwUoJNNsGliJ6SU3zRJN0mx6EghM0JziAYgS5EXBP6GavRQmqTVrVSEMCmB48VzdbSUmzN3Ncm8jCxvwCTzxNpgakvyttFc8mGEWugvFpjrv9otf0EfqFsnmelEt3K-TaOk-nkr7lPG+gDluy2WaY8DBdIilob5Zwu1n6EQCPXy18L4a6W5onEtuRKawtPCCzRJtZVfi1NimvTXYS62RaNefUhYV2OM7Pjexr4qUPZga0YqbSQ2sEItrIaVaytDQJKe1oy2iaNEA2iTf2N23DbIICOVbfTBq3X8yVjiilfSz00daP2kcGoI5qpRVFtabKt5VMo+VWybOfYTplcUzzIpPYnGy7fcoe1OamV7vFOkFOggDTfFQ0qZZMy4Hlbsh0O6vLDvPFI5-wgEB8l7CO1FBVtr0Grbf3q1A7GtaZBzZcju3gSTA-Af4YFyxIXyKuVXGrl9RCbfSvOLELzSULjjPbVtRYGRu8stlfL-QP2xSCjCp1UoUREiPqFSgqIc70hy1X2ODudyYiKi3UWmO63crz0cwTUwKisMWKTgBAPUNYrvUzwY6ig4IWXUwPxrBDL8yOvxXDqRyUSYl72RSHjtmg1aLdGQuGhdpYJ3KSdoAD3RaXjmlT1CO2kKIy0ZAABOE4H4nYiMsXlRgYkUSgZa0sXlOmEWG2jTLlM6SPo2WOUymKvgXA4dGOcqNiDJ6Zkk-SfhZDQDV6PV8YA0X2DL2Z8Pgz4f0GXtT3RxVYs46tM7hcBeRmUJozRqXtj0p7ZxHe6cNSRuAPSy9gqqhbS1oVvh74l6nrQKq9GVb8dXqz9GwGoW0KidPuplVXy31z6mA8mGaORliFg7qgpUVcGQDtiVIEOyEgQK0EZBWC6hmAzHm+AR78AT6RwV-gNn4xypSAt+6Dir1UiVIs6QCKso3vBCeQvIsQqQeAPdCf6BAmhLVgiBEmZjh9MyQfi5taDHB9RAwhiK+BtWvCr1HwqULgfKbwbV5C649UepdX-koBLeooK+AANAGm0IBoEN6iEkyw5EbTGIFAZgOeQmQYKwQGQdECCHPIvkfA0eTyz17pgAhiQ-Ab4UXgKp5aFA4Idr1D6w9I+4aYZFnGC7gpPypVgUWwP3K-JEumWFLoBitAPsIarXSDGDZK4vFwpLQGDpsPUgfFKO+Pb2Tz4jCcZk5IQIYHsiqxL9-ANNVSCf1AgX9JguaZ-1CMCBh6P+pgx00aQoU5tW-f1J4bt3nifDtGlXHvzhhJaZI4IOyLXSWzLQ5J5AKSP+HGIACWeLmiw2iKpTuHDohR53KrocPxknDkgixd5MIALg7way4BfxM4PdTbF7-MKRJKyGxBjI7QQFP0a3akgFJjSYydhn6Mbr3+WkqrDVkqQbQFjPAQY4ZlWOqTCAnozSRBO0nVYAmuxwtXeH2NITPWYAG7JCGMmkx1j5k++aZKWOt8QcCi7yY5LbE1FHJpIQZTEF6PqLlsHgwE81KKAeCQTkO75eo1CljGYNOAc-S5sn7ZT9AGYgADpYBt1AKrIg3hkDBB2evZeVi2zlDQRK9qiG-QEzoUnB0T9yzE4zOxOBU8TBJh0cSdJNzSxovAVcM7h6Ckx+ToAAAF6KdQAeJooB0o4I-QeT9hnoOKapM6QaT4IVg-ScKhQQGoAR94MEenCYnCTRcbk-Xwtad9z+I9FgCPWUAj1L+kwSfk6DwBMnnFBprk5wRJMmm02Zp31lUeqpWmbTr-VU75CAA')">function unify_match(p1, p2, frame) {
    return frame === "failed"
        ? "failed"
        : equal(p1, p2)
        ? frame
        : is_var(p1) 
        ? extend_if_possible(p1, p2, frame)
        : is_var(p2) 
        ? extend_if_possible(p2, p1, frame)  // ***
        : is_pair(p1) && is_pair(p2)
        ? unify_match(tail(p1),
                      tail(p2),
                      unify_match(head(p1),
                                  head(p2),
                                  frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p28' class='permalink'></a><p>
      In unification, as in one-sided pattern matching, we want to accept a
      proposed extension of the frame only if it is consistent with existing
      bindings.  The
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>extend-if-possible</kbd></span>
	<span style="color:blue"><kbd>extend_if_possible</kbd>
	</span>
      
      used in unification is the same as the
      
	<span style="color:green"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>
	</span>
      
      used in pattern matching except for two special checks, marked
      <QUOTE><kbd>***</kbd></QUOTE> in the program below.  In
      the first case, if the variable we are trying to match is not bound, but
      the value we are trying to match it with is itself a (different) variable,
      it is necessary to check to see if the value is bound, and if so, to match
      its value.  If both parties to the match are unbound, we may bind either
      to the other.
    </p></div>

    <div class='permalink'>
<a name='p29' class='permalink'></a><p>
      The second check deals with attempts to bind a variable to a pattern
      that includes that variable.  Such a situation can occur whenever a
      variable is repeated in both patterns.  Consider, for example,
      unifying the two patterns
      
	<span style="color:green"><kbd>(?x ?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:green"><kbd>(?y ^expression involving^ ?y)</kbd>
	</span>
	<span style="color:blue">
	  <kbd>list(y,</kbd>
	  $\textit{expression involving}$
	  <kbd>y)</kbd>
	</span>
      
      in a frame where both
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      are unbound.  First
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against
      
	<span style="color:green"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      making a binding of
      
	<span style="color:green">
	<kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Next, the same
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against the given expression involving
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Since
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is already bound to
      
	<span style="color:green"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      this results in matching
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      against the expression. If we think of the unifier as finding a set of
      values for the pattern variables that make the patterns the same, then
      these patterns imply instructions to find a
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      such that
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is equal to the
      
	<span style="color:green"><kbd>^expression involving^ ?y</kbd>.</span>
	<span style="color:blue">$\textit{expression involving}$
	<kbd>y</kbd>.</span>
      
      There is no general method for solving such equations, so we reject such
      bindings; these cases are recognized by the predicate 
      <span style="color:green"><kbd>depends-on?</kbd></span><span style="color:blue"><kbd>depends_on</kbd></span>.<a class='superscript' id='footnote-link-1' href='#footnote-1'>[1]</a>
      On the other hand, we do not want to reject attempts
      to bind a variable to itself.  For example, consider unifying
      
	<span style="color:green"><kbd>(?x~?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:green"><kbd>(?y~?y)</kbd>.</span>
	<span style="color:blue"><kbd>list(y, y)</kbd>.</span>
      
      The second attempt to bind
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      matches
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:green">(the stored value of <kbd>?x</kbd></span>
	<span style="color:blue">(the stored value of
	<kbd>x</kbd></span>
	)
      against
      
	<span style="color:green">
	<kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:green">(the new value of <kbd>?x</kbd>).</span>
	<span style="color:blue">(the new value of
	<kbd>x</kbd></span>).
      
      This is taken care of by the
      
	<span style="color:green"><kbd>equal?</kbd></span>
	<span style="color:blue"><kbd>equal</kbd></span>
      
      clause of
      
	<span style="color:green"><kbd>unify-match</kbd>.</span>
	<span style="color:blue"><kbd>unify_match</kbd>.
	</span>
      
	
	
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-possible var val frame)
  (let ((binding (binding-in-frame var frame)))
    (cond (binding
           (unify-match
            (binding-value binding) val frame))
          ((var? val)                      
           (let ((binding (binding-in-frame val frame)))
             (if binding
                 (unify-match
                  var (binding-value binding) frame)
                 (extend var val frame))))
          ((depends-on? val var frame)     
           'failed)
          (else (extend var val frame)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06cDwc73jxxQIBgeAkFQNA8TQYkLne8xRRBLQKCyXIFEIehiDoShwf25JUnSBQWDIfRxclmoZfCUAAB8dcU0UPl6zq1cUDXpdlmI9YN1IWDkjghFNiWpa13X9ZfRWMjFs2Xct2JrY9sUPzVKV1d9+mmeBagRZ+aanfN12IkKALiZUH3NcoV63uTd1UmYMQJGEBhZzBMOM52Pp7h2wm9oE0VSbLi3wgAMmb3p+kGRvXeEoFKEr-Os8j0U6D+gGu8t4iRtFfPC+L0F499iyR-+wqIsjwxfGV-BG3wGQ0lHheM7lgTDojcf+TXxHBdSc1qDEOh-plw+m5rqe8-IAvajnudx4s2-78flpCOV8XD-wfhbBgG8t7e2dkfV+qdT51iGB3fQZ905N0mMAgWoC3B33ATLa6OMGAo0IIEXB9Bn6JxTvLduIwIxoNgRg+m2cWKigqMoNgE1sp0EoRPahdd36fyLiXXhFkSxCBAuwzhlV6DwjdjbKus8RG-1EjDP4DApFcNRHIgO-pp4fyUfPFR4ImYaJMNI7hq8WFuU0TIxgUC7YwITnw2II1EG2ncU48OmDXqR1sdwwhBZiHI1IcQchPDz6EzcSg+hSDz4X35jnIWf0WDCHIME0J4TeFDTfoor+yj0Eywspw5WaSMlkMMM4KxkcSmpPSYufGkgyCQM3o4ww2SompxuNiBx28GC733v9bgnjskJJqSkspdthC+A6X+aJdCkEMOcT42a1jr4MECpA5gWhAGzOWLkme+SjGFMoBZTZHwqDEEAdUkBtckjlLCZUihkS5kIJiXEk5CS1kKwYG8NiqJOh7MKAcgxRyf4nLEfQf5zgfgkIqVU8IuiDT6KEd-UuELRJ-OjjCxsFydkWxudgtOS0AWNlCWxbkWggVExoSXDZlRRGgDxFgnOWLSW-KNG0AsT8Xn7NTnSwIMhGWkl8bctlOKGCdBFiPGgOYx6fM6bS0E9KhUqJ0MwoeqRjDtGlsoAGHwFAuJpQIvJwj54GtOaJbV3K9WEpzs1SBXLdX6soIasIiqBIiPBNa514JuAWrCKKolPrHAtTxVci27SLXPFiHymhIzo0spYlUUgHwtmXN2QGnJbyRhZqDTnMhIFw2AKja6yg7rXk0MwmWwNs1NXEIlpQXEIa9VGBrdmmhw8vZtrdUmtyyS03Fotj28tHaTXpEyKgpBWaNW3NFOwDwXhqXGrdCiwx4LGFFNEgu5QXg7ULS5F4Vq+BpnLruS4EZ8TB5zpvoQQgIJKXOGXSC1FBTN2WvBBoe91BH2yL7eYUxcLHlPt5a4nNgwlnePzSxCaK0gPhPaaBldF73m2kg0fL59aer6BIcfVdgj11ghIRZYoVjvmsWICQEQqQKHEYGkDLGeNR67UjpQQILV7KdCXYWYigphRvlSNhx0NdWz8a5YCtRjHhO8dDI9UgBY-KxmPERQyhp3gCBYIyT6DBvpwxw7TRph5ty5M7IMFgfodKxFKDIToxhVP+nDOxhgnG2BLu03HczRmDTnH-PhQiIm+KdtSKTQs9mYilDY8QDjXHkEjGE3rdkTmXNLojI6MLoBmg2cIop2IDEGJyai85mLuGs6MxAYYFmSgoBwEQMgdAPM8SJJYsQFClzGXSxzGO-Dc8Y5eKPtJUowsXKNjjufaSzRh4HzG-6QbckJItOgYE-VrS+kDOXvK991huAdYs0ZXOkq70Pu4dkgbghDszJa-mNrgGQnwueZ87bdBOtoXQnSgZ012mwYeQh7Jj3Ou2CghNmjFUqDBA5craox3psGlKJd9cbWsqUDB+LRaASkcHe-b+iJD2WhPd20pUU4r6CAuhwGFoa4OUkpxe1vH439u1LKfBp52PNunYdUzGcEz6lcP+iLBbbTfvpf9Az9JUyZnnz+-j1Y+2W0beWaduHjqdWhqME60N6b8Uy0Q58rbuPOt09FFczQzbtkRp5Z807pmDe20PSdmb5Ofg7qXSonb1v6Xyw12b9FrP7eK-Oab3ZLvacOf22AwPFvfcU7D8OoP+vAf7dMf41E2TcKgCwFBWHrWqWJ-MUwfAlOLkEKkb9vXUvYhA7MRwrRIGI8w4d42JPNf32S7pyZYIjKrI2Tso5akvgZbkGRh5LycOOhaDI5HL9bAZnIm4LBityxXz116gobFcqfogP0MiX8CoRqT9xKQ6gK-ZUtQ5zPwQpAxC1ty8p90-HCc+3KOv7Bm+HDb4aOeMhGQyoj+uyA49p6t8XtLMDQUY0Yi4Os4J6BdkhcdJTEGlR4RZ2lACYD0I58gDgDQxAMntID8EwQt9nxgVU5RRNk45P82BZZVNSgSCqJKc0YwQyCKCJxmhTMaI-MTwFQ29pwz9O9bIHIXBWNfASAh8zt71fBCpctVkallV3sqJ2kSFDBJcRMRpul9BYNAQAA+evUfAGWDSXbbEJWtS+IlRXInEePrC2RQyeIgvOeTPuC7LPeVKnYnMlQIClNrCXUvMvKzLQ9wqFbFZwgvNXb3ZZFvUMYyBw02JwswyVcgsgGVagOVEvHba9YwinWXEdBQ0vGuRfVII3JtJXG1F1XtXaQgmhFg8kNg-4HI4udYItAPYdGdALZDHw7POCQdeop+LNTgZIiom-GTGIc8FNdow1JbRkQyH-Vo1NOojNBo9tbovHHLGIao6gnGTfNouokY6aN-WTVOIYjYkCaaRYxiPowyEaRXdI9LQtT3EtDIrbHo2MCoyQ25N7PeBwMBKUdbefUogSFQ9bDQ0SSEN43Be+WoOEbgT42dYNbkRgfAfgSvCxVEbXTbbIu-LVNXVteJJo4lKkANRkWXa4yNbJI43JPI5tdEoo0dMLUoCdNgMLNYO9aWQYQwaE-pOExvI0NYqYgkzo9tLbFAooZkoQVkyRcxavDk-klYB1dIq4odLXW4lZeME4lYXJdklneXPsQbeeVU-nbeUZQyZoGkvyc4IwnORXJ3GnTrGuc8MXLTQ9f-cXT5Pyc8PcCrIEQUmEtk0UuxdpMXLzc8IEypEE0IRkF4oOd4wYF0rzM4iIsXfQsA4hbA+QXAmcBsBQiUjAwoAMvBWoTI9MjMmIHbSE00inf3GY83ZvLIqwmhB1FYgsfQMLCYgGTZJnJvEIzwlI4sn4aPcs5xSw8kc8aaRkRs1Q4E3Apbb7ZnJIhY8kMBHUkbG6bsotFbcwrWbGAsSXPyEaQ4p41In4VUi03aWc3pec1Y7U48kvPMlogGbU6aCc1s8OdA-MhoQszc1OcoiKMrbBCrOQVmarDmOrbmSwJrftGw-gVQGZZGPDH5O2befoHhSCtPUMUoZGRSYyUgUyfQZGCyGCh2FwEhEwLQYQAIEwYgBI2oRocfW5dnDfeA3nMgTI2Mys-hN0L1MOR-JmP1dLWippVNbgRinohGIle-Z2dijfGQKC-bQ5M1OcGQSFESkQJ-ZMfdNyOAnnHipAiSgVBlWSplf9fgv-MXTfTS5VQVTfbgEVOtW5LAnMHA3ZcS+BJVNNUynS9VDsliGs4mJbSIug4yuccEWs4gP1YlHy6DEC93ZULyrYhyk1KStFcaHGM5Ty6aZS8wAK2g4dKKqsk+VDLILYos5rRwL4SpTqBMmypM3ZHbaKt0VLacwSnOPYn6RpHDPHKqlDOLWqoqdTdkSuUk0q2yi2RkQ04C64cmRqg+Y8zIj7CS0mCatcsJPSpjf6OcpAwzSIZOb4g6FBOmUKgDRpJbFa5jNa2NDalwCMbanc001GRkvq8qho5cya2zPi9YFqSqrKli6WMQPuIwe68IHuYED6r6tcJYJC0aMyUavTWagaXUXXFgZ60qrwsMf6zqL6ia8IAAHiRs+tUHiuBo1JaHQvb3BAABU5JBIhBfBz8xBeAS1qQsRv1yLRJQAABqRCjAo2ZaIUGZVG5m0SCyHmiU9mzqTmnGyYVTNCjC4m0mmQYgeySm6myNWmw7agBm8EfmjMwWsQYW7mlmoK1WlmgWtjDmmQGZIGzDZ4ubLEOcry48vspEW5DrYuOSbEV6kMdeaE766BB66GrEk6-bGkj2tpBGuvB29EbEPM3VIqq6CA26p+QslA5oY8lSIEQ6VGiU2YFBU2iUhO92zCH660W0U2rzeMEMV8DrJO7ql6xtXEaOqAl+foooTggO7eCyayO2coUAdbcQo8AidgvsQYxpRkBqvTe4nYmhd0zfPaiaie5jR8yzOGfa6esGIuiQ4u32kOp25qzrNytyI85c625c7GW2xMe2p7R2ogTeko4+qEx2SG02n2sDILNIbtVO9CWHU+0O+sjAiO-AYquDRM2u2OvHIOpSROv6lOn6mA0oUiQ6IG7GYBvbce3Oz23XCMQuo47UEusTJ7cuvuSu43G6gBo1f0Rum20SVu2EkQDu0eYQxcru+iJUs8YqRa+KEGdYsa-6C+o4328e+eqeumWe2Avaj7Rex0dBx4te9+jegShmWQcrSrNmGrTmerDAYan5A-I-MixS5PLfD1brWKkRbg9R1fQKhaox4-HTCWDgQBY7HRytbKhZW0fArOc8MxzRpmV0qOOcZ0L1OYIK2IOYCcPk6YL1DkPxmIDkQJ2er1BCMJ0GyJ7x+eMSUEWJkueJ4JxJrtTIIKzJtgf0IJhoL1YKe9cgMQ7gIpzhCmg0fJooL1TgsJzgvsapwoL1G4PuSVFgQwP1Vp1QdpirFYJp2IL1Jm2J2ITC7gXwX6zQwfFmypgZmIL1dyEZmIMZ0ACZ-4wfLyWZqJxJsE6YFZtZgEKZ0ASEVZmIOZzxsEcEYAJZgwLC1ZyZ0AQfMALZhJvygAUhuf2YecHzedOdAHOa9R7hGa+fWfLome2b8oAEJhJgW7mDmjnoWgRwXXnLm0bPm4XvnQAMaYhkX0m-K0aAQlmQXDnHmsWgR7mIXLn1D0XxnMXNCcWAXEn1DCXuAihiWjnmWGXKWIRIWbnSXCgSWYhIXYhILnQnQXHl9jGtGqoJrAQQwVC5huBXG193HxWmHlWT8-98AWAAArAi10+VjQF-FwEl6JyV4-IKkZfA85ooDV6Vo0J0TqqkO18RLXEM+eL1UzIK0zG1p8+ZxJyAOgNUaOUpmIQN4NptX1v1lpqgHp2ASAMJ7phgeNqNp8mNtpgAUViaTYzdTfzK9QADlyAC2bmi2C34HgC1WuqXXioJFlq5XJSjXlB-jDplBdca31MJFa0JXD8pXXWDjZCG3pgVDm2SXL1NweBzXNH+3a1yM98GA7XT8HBZ8L8S4JL53vpxRSAp8rodXyA8xmTepNBP7oI7XD970vcbHX8BGVhYM12jgigLqWJgJLaa7kyJLQDrq33oDoIv1GT9BF2-9Ib0yO3C8lzkGb2Gg-30ZAPsF+ldX9XuAQOp219+39q83YhcGG18Hv2m4s4OABAsOxAvhYbGxcOZY8T+JCACH32ThpAQY5Gfyqt2ZasuZMBVHgqKBTAGAdUPgqobhSAl1JMeNmKfklYVZpwRlhPMEQx06HGshUGJpMZHRwgdaGA9bqRDahbjbYsIMkFpPRaVhmgpOlOnwFrxYbhHV4DCK21jZL913lBlBqaMg2sjBZ9HOHmKsWbVDHPy7wRVbSh-OMtebGaWbyAPPIO+x-P-UtP7OdqVQ6AGljBbPloV3L80ug4kueN-xRPNO7OebwQIQeaLP0ljBrOpQVCvsHAsu0uJgCvrBwR4uyhEuJpjAmAyAFBVCL8JKcmuudpZPRIaTtJpgK8RFYMW5m5pIBMn7J0IxxvEUdZaE9PbR5vQBEXRJSMy9ShdO+vfrVJSNFJSg3g2NwuQJePYoBOl1xvUL2wMcjtk9xvQBW5VNJsOGbtMlJz5ug7AuiuWbqvWuWoRZOvDo59du5R9aJxVaNPjz+k951tjXkw7yKFVuIeovQvmusv2vSBgecq+vPtuvMFmbVN4RhuDRmCWvU0AYkmPggrdCMeAeseeIy8K9SZruyd-vKeIQYnuAREQfuv86sh5vuAOe2ugfmeZdYvduBvwQAByDTtQnWuXkMBO2L4W8bprkXlqHVUgGZbXtZt6sT7tf6ZWVWQ6PXjDicL1IQYQXW4IXWuyLSP+NwNMXW+TDgeEQz6YQMCn5Ls3gsHXlBpBc34Xn3wHjr8XzXnb4P+8LIaPzXnj-3iZ7e8wPdg95QI9gdohUhDwR5HDEJHr29THY7XDAbq3pWrHIK97u7HhXDSLwoFQ1P9YdP6gTQcc7PvVNwWrvPwgGTozv2g+EvsnL1Ujf1PetbAf-P8XkhZPlwPXhd+QDvuQ-PlE27yfH9YvyfgLQYoD5csYoCMfuHg+Kv4DWjSfnLCVnP53ouOfRkFQuf9vx5Lv3DZekaUxUB1SGJgb0mQ6B-q-yVC-MIMMlx6-9jA1-AAb3xG4Mc4O7-IENTy0hf8F+jyL+HPmV5QDEeMA0SI30PYt9M+BYUnkUFKCkw3+B9MLA333ZN8M+bfRAZ30ppL8e+nvPbEQJ37QIlW1A0Af-zi69Ee6VRVEoMgBjP8AsI0YfkFRh7j8OGz-I0gwzXohIjST7NyE2hIDd8C+C7JcIPy95LclBqAxunRh4Ld48Kt2E-qdUEImMmux3Qkrhlar7YQs+fAbqlhsF99tBISFul3j4ItADB4SYKpGkopEpzQaYKqOjhViSphAFQQYBYIN7shjBSgvzr4LqhNcBg1-Z3ppCqiGUwhuXVtvQDoJ0CzaQlTtjLD6hUo6McMEPm3QUo9QGA6gEQBwFIAsYxURAC7Mv3rrVEhMm-eumpipCfQtMx0EqrpiaqFDDMXDB+ialMy3RtoFbAgc1xKFFwyhFQ4QFUO74GZmM8dNOIQBmTuYbon0AgkUEqK35bu1g+gffWaINw6hO3Z-twFyArCp0toZ-svTwhSCDQZxGQSGDyy5dzh9QnvjPzy79AFAGOa6hUAqZdg2Qfwkpl-EMCkhLBvXQwMygG5AjfAII4kE8FQHf8UEkIi3gYE86RY-oPwhSjCK7AYjvhmEZlHXz9bTAcRRcUEWMjnQywyADsNfKSKMCAiCIwIskWCPCEQioRZOUkZAnhHi8kRuaQkWFieD-FqgIsGkS1DpGcjQRTwIkX2EFEksjYXwsiCiOyE5x5RmImQJwldRGsz8XxQYW6HVFUA0YWyQIH9Fs4KiVC2oikUSn1GUBDRqozrnaOUH+0HRA3GkqgOFHUj+gtIxkbCMGCGQU6eIvNrKM0LWjbReI00ZiOrTGime+VJGFdQUpCgC8oIDKqZ2BhpJLUdMK0kww6FAhtMPQg+MJwWFgxXyj9YYRsMO5uCwCVMVMVQELF8gbuHEaVAwFaZcQ1hqxDYWUxrHMMYx5gBsXESbFUAuIHEDsemNWrhC4YfnGzHsFqCq1pek4jgDby0HtBAUQ41iFQHCADdxxMQN0YJgmgAc1xrNGSJ+3jF7xKQSYp+CuLTG1jxe9cJcBxAm5WClwaYrbpOBtF9jmx2NCMHeOlH+gIwT478QaF7H3J3xO3L8ZeW3CHQ-xYEicHTHF4mI6w04j4b-QI45Q7RmFaakuDuZBiO6XsbsS4DUAmAj0QpGIQ90SGohuA9-TsXPwzHERzw74+lDSHIKMhAJjAYCRRMtTETnASHYkduCon9DcudEhghOPgkLiycrovvkhMkAoSwxAksJF-lwllA2u7UFGHuKIbnoJednECWuPknpQjRXwnEGyG6Asj+yTDDxulH0mZhfAFlX2u+AqAhwmS4Qakl7GC6GAPhSk5GAwCJC7wVJu0c8N0EZA-81xxYk1Nhm6AOSNuqtZoN0Hw6SBQARNAABIZsGAAAQXADgAM2AAJSJqQAAA8gW2QBAghq5GaWpxB6YcSOSzEq8ZYN4CKSPwyMFSdKmfE6S3JyA0ic4HaTMTxeOkzoI2DKnvAmuXUzIJKlakckJK8UxKSlLSmZScpeU-qQOGakJCNIiJeqXEQko6TUJbkjyVmC8kdSnei05wO5DtHeD6q7UIaXtPKkGi4ilU8IXaJ+gaiVC9mNMdTQ0JC58Ju6SVIwF6n6BHp5kF8dKivHSjipagU6X4POmvikgV45hARziAZAWouQBwCLEZAAAGOjpHBqD2QNkMMu7uv1ijUBBgD0TGXDKpGkBGQbvWGRQwRks08QQUt0KTI5TwyyATXB1GjOugMYAYBY6GRwCxlY4dMvoSwaTHBAj9Qa2QTGWv25m4yBeVY7CPJMCDrYWZynVINUGFnNhMxXVWmaLICS4zBqMtDGZzPVk4y8ZfkVjElmKwNCQwuSZoT3wPF14mZ2s4TvMI5ktQ9ZVUXGcAxZ6qD7BINUmJFmiyuYThk-f8Zh2Nm+y7B9A12W4MICyDfa3sorL7NJnySHAnNfsSVIA4Lg7w1E3LuOL+pwSpxIk9QdnPnH4Dpc4mLIIQFTnPi4Y24lmSnPXFk4jxRcBMZLFwQbRS5SrNOYZkrnYZCAYIgbnXJ0x7xG5lSZuXeBbldiYgeASEBPMrmkxS594m8WNC7nPiE5xtJOVxE-H8j8yn40kAHKKBLzcQwEn-uvO4nTAf+W8qCSsBgmoD85CEuQeslJkjkzpdAZQfo3ni9SzkMMlKnhPoAcJqpT6OOZYJGRxyFqtMwyn-NZGexZuiyJBIAufFW82AnGXwKBRMaoCRkEYaBR8PnbpI75pM8iYnxUFgy6AOCsgLiHTltCBAHCOCjrJYYyzR4csh0ArJ4RxynSTDXefRK-x78+wLC1ibgoqlgS3g38ycuQqFJxzt50wXicxmpkJdE5gkrOXOOnEuivYWghwgnyIVKyKYJ6cXLhUoWojqQy0ZCfYjDEsKGCXyKGWNIYDpTLIAAGQzb5TsJmQFGVZUkBAzSZ7Ui6eDNHnhDqpLUNyctKSCNS5ptUr+M4p8WPzUBA0xsEEoWphLKF7SUaQlLMWWLrFs0kCPNOiXBKJKN06Dr6O3BrSwxG0zyUKh2lgT-KMMg6XiPhDSiclUYiEILOKUcBSlUYj3ugvOypKKp7i3LjdOtH3TjMMM-4kLgwWULVFSrVxQQq7EAzHFPTIJa0pgmITz2nMvXvoDYl-TmGukv6OkrxG3SqAXS6YJnM0KGQMlDJbEd6KlDpY1QC0kGe8AWXcLhl-09LFhPnZBLFll0rsTa14YBiPhjZZRTr0uVELaxKyniCrKpCtBkQjIMyQoIBjR9wQHyvXnQzUk2TPwUoIFa-nLGVJLGWvRPt8p16-LnRYRUAIiuxxUi5S0fV5VGPkmig3JDobyeCK1SS8ApssBbvtmwy0rlRz7JHIEGBlJCco30bxb1N2jVFyVG0HlZfQGJMM-JQIPJVtKFQ8qji54JzuhQgS9S-lQ7SzJUr0ndBdp5y+pV8JhWFBSoOIdVRyroCaq-onFPsKz2GkjKsJsqmWSBAVUOivM2w4iMaXIwfBggLUWmVytqmqKfJ6rYZYyD4XrhJyjC8kHytqkUqOpQq7EgIFFXuhapm03ENtOGU3DI1KgRINasoWKqAQ-JFVSaLVWiRSZRqhQNqtiC6rc1tS4gAWpNWhhSY2CtEf8StUQJaZdqyQdwJrhOq52wQ9NWDk+k8qqVAyntQN3iF9rzV4vQdd2uHVxCO1Y6h+btBdVsqFVHqioHVKlXGSuq28M5Qao8amKJpGUrKblPAB+Qt1qUnddNJsVmqH53ALCWuvZWIkoyqccEBiEa6WUfBHarBTDJnWsq3VmMhdcpKDWkKCAbAIuM4sZCmLzFVi-deSBA0JLT1S4GtZeoA3RLb1NCe9Xulcm5Eq6lOHVhvnkKOju02Gprg1TeCYaUQ3fHUc0UOh4an1BaMJCBEI3zQ6BpGtSSHMMLkZDc6G4KERuTAkacNk6CjXVWTRsN2N80Ljf-JQS8byMVxQTSiHo0SUmNC1GoGIEuRFx5l2GkTXFgMILUsBzfVvuPGE1JxjquotqqEPU0fDCN+ARWbRqk1YqAxva3qhZs412bKSZOYlV8NQGmbFZVxBzdrjoAcbR028qFeioI30AfNkRHzYAPTzEjnNqy5hLqs-QiBda-mohUFTc2Pz7FRKdjWZp4SSbTAmRSLf8rAXYd8iWW5PEVtxoyQxJkA90du09FiijlWSicAlq+UNUitX0lIKFt1y5a+SqeZZg83S3ubqNGiVrXRpa2GA2tkEDAh1vpgxa7eFkBraG160paOO8mtrGgWWUOjLBHSu6Ua3sw7LwtrYcBVkFm36AlthFT5TMjnzaK-WEkpHPoqqUwSAcdeK7VJNu3tz-wgEA0l7DG1FAOtr0GLQ73i1KLoV4JYgApq0COtI4KMEwPwH4Gmy16EROjERxI6wp-6uBeSZpsoFxwVtHWosCNA22bKttmBAeoc0UgQ6nOVKdSMwDyFtYJSaOnAeDmcR492tjSERcsxzC0xJm4dAmtOFZ1WziRug1wRxHozCE9a6eV7UUHBA07W+yVCAQ9t0WSSbtekumDdxpKRdvts0GLRLtwGBUZtAOxPkFQ11LZHWtEgfANpCgVNGQAAThOB+J2IFTP5UYBqFpabdJTP5TphFhtpwSEa6ok6LpVYlthr4E1iJERkRrCg5TEpvoBl4y8LIaAaPUWtuEtrWhsQUPTMn9GbCVgSel3dHFVg3Tq0uuFwF5GZRiNV6iep3SbijGu6s93AG4O5KT3yTOg8CxBW+HviuqrNJKywblp+38AIQdekpogv+1XYtAp22nnAp71MB5MM0cjCANO1vhEu-AVcGQDtiVJI2AKgQK0EZD382Be4zntUFKgFcjgjS4NfxjlSkAF9IbNbqpEqQcAZYcieuknohCeQvIIA3FYnxjU76h8izBEDzuL2m6w98feZa0GODHF49DEV8AqoCGOzghCK7YlBxfWYyu15q1QpOvNX2kFlqe2IK+CP0n6m0Z+2ARfoJTB6v9xTGZOCHv2eQmQ5ywQBAdEAkHPIvkQA-5giB5Y7hIekvXfuoNP6iFF4BieWjf0kHY9rEEvXbr2XrKtl24HbRgV-3orLy5OiRPkPBW1iL13O+yiS3+z-jDtrQf1LLuu126aSmCe1TfP4JsMhAhgeyKrG338BvVXVVfUCHX2X8XFW+mfQIB1p77Nh-dUeB4zUMaHOoei7QzhMQ3jpu0cMUreMPBB2QyaJU5aKuOYBSR-w5PTHvMukOU6qU6hjQYEd1zdQ2d-xf7O8rjH1z+5P9QeY8HZlrgrpK69oV0LECdC7oX0RgHpnZnnU+MBgYVnCrskjCToEakaJwoHHY1WxdZdsZ-vzLFGuxD7Lgf5iaG7i1wv4fMuPMnkrBrS5Ryo9tB0w1Gmqgx+o4FgEhNGOwwcL0K0fuhUlmuic4CQWLPkxAejAMdsSca7F0kKx-7Io50CvHNrRj-GCoFRlCD9IeEgxuo4ZhjTTHIQZsu9bIpt6PHe66xt0HXMlm4xVjfE4uhFEn3zKZexE-QEfIAA6WAO+Zkrzw-RggnXZXas1pZyhoIke1RPPp-omCsAcJ9FQidIlInuJqJ9EwcqLjo4ZA2JvcWNF4CrhdcPQUmOydAAAAvCdqAFRNFAMTTJlk9zp6D8mCTOkIk+CAwOknCoUEBqIYfeAmHpwCJhk5ieZPY99mPPRJuQF1osBdaygXWjb0mAy8nQeACkyovVOvHNTLJuFrqb8r6nsKRpk0x7xlO+QgAA')">function extend_if_possible(variable, val, frame) {
    const binding = binding_in_frame(variable, frame);
    if (! is_undefined(binding)) {
        return unify_match(binding_value(binding), 
                            val, frame); 
    } else if (is_var(val)) {                      // ***
        const binding = binding_in_frame(val, frame);
        return ! is_undefined(binding)
               ? unify_match(variable,
                             binding_value(binding),
                             frame)
               : extend(variable, val, frame);
    } else if (depends_on(val, variable, frame)) { // ***
        return "failed";
    } else {
        return extend(variable, val, frame);
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p30' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Depends-on?</kbd></span>
	<span style="color:blue">The function <kbd>depends_on</kbd>
	</span>
      
      is a predicate that tests whether an expression proposed to be the value
      of a pattern variable depends on the variable. This must be done relative
      to the current frame because the expression may contain occurrences of a
      variable that already has a value that depends on our test variable.
      The structure of
      
	<span style="color:green"><kbd>depends-on?</kbd></span>
	<span style="color:blue"><kbd>depends_on</kbd></span>
      
      is a simple recursive tree walk in which we substitute for the values of
      variables whenever necessary.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (depends-on? exp var frame)
  (define (tree-walk e)
    (cond ((var? e)
           (if (equal? var e)
                true
                (let ((b (binding-in-frame e frame)))
                  (if b
                      (tree-walk (binding-value b))
                      false))))
          ((pair? e)
           (or (tree-walk (car e))
               (tree-walk (cdr e))))
          (else false)))
        (tree-walk exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuTLiQA0oOQAFvKS51GGJoGW1rb2SSaJSURj3VYAMghoDeSm6u16oAAvCjnm8PhcDkJjqI7OUlCwlgiVkkfuY-ttAZ8ri0bmFweQngAiYgE+RM-pDbEicagOgATxc2Uk1HwklZhIZ3w2FIBsO650oVQ8JP0nMOo1xgKUdDolCixEJeilxhlWwBZwuNLpd2Jj1ATJ1eoNRvIHKxmt5Tv1hsSoUFmWVNVVpt+5rs8tUirUkejUrV6qOPLE3pdfvm0kWknkAA9NJZdeMTWSzLKI7kFSC1HG7V41Vikyc8VI2qRpEplLji2b-s2MZdrrJ6bXGQ6NPRznpJK3253xhzfP5Gk1+9ah7aVfamfMIkpnDlp-I2x2lLiFw1l5aB7T1wzmZ7aIfj3PaO6uQ+7DOT7j-UKg3tSVSMsYQrKMq1UWNwJHBNEw-UAvxfYg5gWd5c3zeRC1obtyXDEC4TApUCP-Xp6y5RstRCdsXBaJRszzAs9Sw6DQ1LXCrzXW47wdKjnBouj0Mw4g32GOCeL44FlEJKZf0DOhsNY3tQBYJRNFUAU-xFMUJXkJ5IMI6DSJEnFeTE2jMhafl5M2RS9OrKDNzrRNyN5EIy1Cc4FFdKzgPYwdOJHZk3LCU95FdYTnLENy0IYotmJLYDbPjBs4JCccWjkcYVCs6zKV8m9-Ic0cmTSjLaBUfiYtfYol2XKkrT84dCuZErcXK4LPMScK4JazKZnQ9LSBC7zcPXSRLHwLieFg4yxB6sqZnHOh5AAR0WY04qAkbbjG9ouP4abkx2Wh0tamYVCmVkqFmIlCulHDFNG8auIAZiclKpCW1bdFIJYwhYQD7tyqRqQau4-qKz61p+rqZrsZSAGt3kh77fvIf66DuhTKVvJlkbIdknnBjGPVhvkVqhpGPNCxI5PB75zE2mzQLjOmDqbAhQTCdyQq8onMZyuVQL5knDs2Ln2upvRabR8gMZYgW7BZmXiffUmQlCzRyH5UJyZRtTlf5nyHEISp9fRtmKKkdtxap3mDflo3xRNuzCL5t61akfdqFIeHssdkH8sa4Mty9n2YdF0P4ckczLI2sMmfwmtbvd0WQhUzRZEGrs46xi1gfqwON2DvRmXTzPT3nC3eQ-CqMMY-Ic4VvDK305ORfZjsolrwS5MbhLmfApPi4MQzuXZkId1UND+abvKbSnvNmQAfnC3AwGoTRFArx9zn3HTQE0QhyFAPIWlAK5yDXphWFAUgXhUqZQGe0A1KPLVnrQD-XrHrUnW91REb8ieJYDQjAWhyxLLPY2psQHUDARjDYpQl6gFaO0ToLREFpAAFygHJllQBulQKRlgfAhMmCkHN1UCQ8B+hyHYJPrqf+BDnjgWoRjFO7MEbvF3jkVQM9FrH2kN7cqPD5DIlADjAAVKIyRb5AiiSyPDQgqlAGSB4E8VR+15ZBAEXyQgzhRHiL-qQAB8htbqJYYRIRg0ZiiNIo0Sg+AX4hFQR0BI3Q6D6LsTPRowFXHoIGI0QYuDpBLW0Y0XR1CjGMJMZop4LMvF7hyPY2qUDJD+PcVQo8cCWi0NSY0ZBGSuh0NSTguM1DORBI2MMeRat6CKDuKoixcTQAZkWD48wujPEGKSWIpEDC6BMLMWo+J4FrEiN6SktIjjnHNGIG0NxXQ1KJL3mqcJpQlrkAxFY4RtjekPBKfk4EoJVC3iaU8Y5YIWltPkGqA5+SHmWLUOMvZqyplBGCfIUJYjIERNoGETYoCz79OMaY7W-BRmuxWckypqSZmqBcfMtBmSKkdIAJCNE2dstQ3TREHIxY8xolzVDEuuShfQ9zCWPIST0t5nICVmE+d89ZtUsXlOyWAp4NzYW1RqaUPljKNhwXSnQYE5A76qBYB03OcNkSoiZEI6gSjNBMkOUEZBirlVqsCDgtgKJ+lMkiEtRgbptXqvEPUk1ZqdW4MYMwMELBmQAFViDw2INQAA7nYDeW8tQAFo-UsL3nI8wAqm4irFXfBsuifWIQxHvcRXD428M5Loi+4jY3byQqI1QCrFHKLfLow+x9+mZp-Dmw1lq3ScginDJQiNo6RHStEVQO5KD7NaeS7RwFiVto7dy9uWpnBNsiF3Pte9VDDvmaOme-d8JTubV8QdvIF2juQpmJYq7oiztwnGLdS7VYRxHdESQkRJD4EkkscdOQngXrZDuxSoLr37zvYSKuYhcwKHma2js7a95cpQrey9D7KTEqTfun9u5-2do3RSpg96Gx4A-AwC9N8oBwEQMgdAfAeA-15PINpQ0Aq4OILMQ2bErZyC3sRVUhyNVUemOuxYUpDk4PxJKaCdGJH5s0DJYUNy1IBmFKKcUbIpRPF0GR1j2pNAZ0oFnWKt0uNl0sgRhYQ0a7RTrop4ecHJMUutYEUaImblyU7t3euvdboSdI2qLABK2NSDLXAyQ1Qp1ZpY7VZBanMxDWc4wVzrB3PluoJIMu8mPPQRs1J2qjnAvTtOp55c3mMzxZOr1Li+npOUQJLxWiWnBJJYKUpet7wPynNy+JE8UlFB8dCeJwzqTTLR2oBZcTJGYvLji3jH6RWKE+Z1l9fGr8hs-W5h1KW8Zot5K64CDWWtxuSyLgBGbxWikYNi4CSOfW0gpfKtt4jWXNuuXDItrynGvO4NS0FW2iRMu2ey1IVMvp1pKcuwN5752moddoQ5wENcEKRdugy0A9mzB7d8woVQAOjy2NCwIvIWyZztaO7NkIgPs5veS1d8qGOdMAWm9JxQ9quJMhdW6z1dgBR6CUDmUAAaceQ-ZBw3+snpCWWEE8TuEDUjwpCPmSgLAMrXXPbDaHJA1m-KbipoEEQhdXTK2LznJ9GBRBVqGkJYS+dSARK0UXh1xfEEl5gyJGETYlsZ4QDTsMWtteEAZqljzP26FpJJ0EtAvKNcdwQG3Ek2RTDkvbyl3vHnc+DyH-JmnSPu5e3ce37yZWAjcgJgs5vVuXeTyheLX67ip+kAYM1OD1uBMZZrn5mDidwMN86117qvU+9FlrTe9PA0qZDaAYYGpSbGbFKZhemg6DTfCcBZSqlO7IgAHyW6Gp3abEm8wqy76LAbc1WQ0ftPp7tFGPiMCPi8VThGoer-Kv1CLR-rM-fT-1w-N0Eu9Xi3jZbvRCelOn+fu-80wv58UJdSg10Ue2bJSkwDY9aozoxD6QLa7ZhxALagFmyyzG6+K4TF7VJl7iBOIIpWw6hbISx2zmzSpNw+ZW5Q4dCMA2w8x3Z8wPD6Yl6l5fJhJS5mC6KkE2z-RMZ9Kg75JEEaacw4G3bGhUE0F0JQGZ4brQ68HuRsHcoEHxyUgsF8FSEoS0EfJoGMFBDAQgG6zDaNYFh8EUGTaCGAF0Jhqd54ZiA97pKsiFgGhLLaQ86yEAij6qDaST4OiSIkDPZdCyJPB2Es68h0CDRITUBHxPizhZpWa6baJQFwEGQsq3z-LHxEziKgFnY0xSjKEOF9jzbaxwF8yGbIIVDSCGY4Lpwu5qSBEighF47-LiFkF6ETZgwGwO4R7mABF5CVFI6w7fjjByRe6pJJpwG6GpEGFNHvJMoMF0KOzVENxY6Xa3jTF1bxjao4KFHKGmG1qM7RzWK+yHa2baK6IxziKRy26xy3TKG6IvIMD9JtFBFVFdGIRyQxw8rxETgoJWHOjuJXESLbQiYeHWGZKXHPEaE36TqtZAK4I5hfqu7R7MCx6nK7KD59EtFpB-EfFdCD6cHInIn6Z+EfrXana4F3a7FkZb6KRJqiHMaGbcFQ5RT0TaZMQX44lAHL6pafZEnfab6QK6I3LiLUlLBslTg3IWb47P4-bKHPZ1bsGqACk4FCbr5eAAYbrTbKHAQ3LMnswDbTH3YkmQISnqSBhSkLH6nZDtZIlBB8mqALFCkFb1wNZYm1RMk9iUgoGHBIawwobMBsDoacBYa8CfxmF9jhB76WQ5ggZ5wtbZC5D5ChmYnY45hqo4KV5gg5jMiZCRl5AQmbwUBdDAJHjyB-5dBYKrxwRJrlZ+41ZkFPAxwQFOkAg4y67zL65NhMjh5HLVZWCKAYnVlimHrjw64eB67lb4BhmBkFzzz4DNQDmNkfjhzsw1zlkdlkHQ4jnfFcxPQTmgBTTLpiA1wxzLmknYzbTrlPD7Tbl2BR6zAx5eTDkHl1lHm7QbmvTqlajkmnYCbjg54rk4wUkEwvGflnlJ5vkoQ-qwa3mjnXjzw3KBRAUbqzlag-nZ53bcpgWUJxjSHPn4ZkBCJ6gnpu6wleScm1mKzgRCFGSizyHnqXpTx7GQJzrdCkVYC6KvCoQwHax4Ue6JDiKrEBklYNqvq-RykYmmYrnErGmhKKmLCL4bH8V1aB7AZrAMyZGUL8XvrnmXrsFyX3oKVmBEVPLQ7AYYUfqQku7ZgwkcUCGCWKldk6ioQ0W6U5DRCvCCZ-hyz6oSK6BRBOUZgIKpLIJgalaUViZiVCUqAYxVk2WmWdazYOWeUvDOWySGAAA87ljlcV3lV+xWSZuaAAKlkCVsQPyCrlEE4DTHomzpQIWQ6KAAANSxne5hARDRCOKWTBWGC1UtlVW1Vml8jhCjrNUgXsKF62ok5Mi5XUAEDyAepFUlVSxlVyaVVMg1V1WO4NV9X4AtWCVtUOjMhLXdWrVNXrUDWjwbGarKKSkCZiU1m1LL6kYyBZCqSEWNBwQ3HxXZAhWhIyGAzhmFGvUfVInea3WKqqTdVmDfTYVrrsVwk4lIk4JiVyr9KRitXdXIKRjpXdWw2BFES-VhV6XpXPGBBhrpAYGSbw1ogsWaxsVmWx6fWg12pV6XUOguqZCtCgDaTt4qH0Hl75LMGXriIUX8XUVkYZGlDAQvUyXBX6X3qtkh4yV94qX42hrVK6WSZ3UbyC24l2B6lylSkM0ZhXXmBwQq1A3q1xHPWY3BVWU01pI-VI1UoA2zCq3A0R5g3UA4VdyQ0EW2YZWbZw1uWI2bV9HIJYqo2hWKne2v4vUsybWQpqB43C2l7CHE2kak3MXQEU2RVXlFBxGBBZUM1k7EDM3zKs1sgt4DI+hhQK10HMpqGBA80l39L81UVCH5Ki2Y3i2CWS1vrS3e6y0oSaVvqV0d5K1KVG33Xq2IZgDIbXxekcCYbcB8DYAbH85y7C6K4G724Ozb4BzjkkDMgC7y4FlwW8j72r2npxA5CugeYb3xS4SJTx7RoJEHwr0K5Nm4hfG3jkI4zygdXmDygPLNFBA4zRg-1mDRj-3d04yXIgMHwgiMDgOf2cQKq3DQPrjwOlA4zlDOwdWYOVC1QANGaIMRrtj8gdVENKCFXLj4PmA4xJkgNJn5JUNmA4zKSvBhbOB0AtksMvBsMMCNCMOrl3BMjVXQPmCqApmgD8iGBIhT5061UUP8M4x+oiNmBiNPCSOuF06BryMQOIPeGlCqMSNSMyOgCSISNmAKOIPADKMvziPqPSOgB05gDaMIP0hMgACk1jBjdjxjbjZjoAFjrj+qIjXjRjDjpNkjOjrjAAhCiME7Y6E3TjE-0hEy44I4lZ4-Exo6AMlWYCk+g4g4lUiMoyE1k4U7kwE4IxPhk2owk6AFPuU5E5U0U08EECU-Y3ThPv0oY407mlE9Y2E4EPY2YFE+YKGeQqmo-SfS-TXMFciHQk4fKBcs-QWa-T0RM68VMyszXNQM4AAFZvxXHzMqSG6uGQPLPXQdV30S53LaqbMi7IY1pFrnPvAI6zX9K3g4zrYdXrb8P2lMOIOQDEBuJyAkMtOAvAtay-N-PMOnjcOwCQAgNcOSDwtQv2kwusMACi0DSLGLqLWJOMAAckoAS9Y0SwS+HfaeswCncy8wkYjrJXM40E4aQK4ZGKQHBjSw-pOAgQME84Lqfa81sqZoy6UMy6ywPPpHck-fyy-YKyrBsTLpy0ObvUVeuCuTLmeqgowOzmurs0oPMAEREJrKoI1py4LhnEtlfRLt3cuJ3Gq30EEGRM9VsLxh7Xdiuc7o2W68aIZqUd+kqzbhbctY7py4K7JXi4EH690AG4dCKHswc08CDaG3S4KX3RG+YKndkRnfhUUA2DkMfKnVEEIs4OVN6xbpsmdWW3wgMFfFPahjPRhlwJgBgDxR+coBQJIF9GEOMJIMpIwL7M+iuZgy4G4IlIO3ZsVolGhb+pMmsu1ZIItbVftVEP1WOzO3SnQjgmu1BjCgBdUMpDrH7goB4r1dEPYV9ZraQKQE4CbENGpFzle6EwwLVdKVe6TUyItcgh+6ADgh1YuyfI+za48h+4TKe2rqpW8RJEtPrI1VEFzqrhieZiQFB7csYGirpcu0tUyLmktfu7REtEe0sk4Uh8QCh-B+B1tRyEyABchx2EtB8IoCwNKarkO9AmoJ3OHV+4Uaqo0HFreBx6AFCIcpgU7KbHGBx9VKheBBJ6AEkw6CvJxy-JGAJ25UyCvGqsgm20oB212z+H277BxwmbMmFuVQplhAJ0Jw8uxksJpnSYVhJxS+Dg6Dh7VbR2QdwoxxBKBNzsx18HO8G6UItf+2JZpKJpKLZwJLaTJ11Q8kF0tW5-R1MEx4lD5w521WalR0Zwl0sEg2EB1bPpB3Rx54wFKuHXFsSoZ2tqR0V7mlA08LeMpyxzHb51K9lwxyV2V4CMuy13Ql+wAOT-vj7tUDebs9Wwf9Ucc0fVfueduLCMCWRfTzeseidqCEgjtgiRiLd5PQuIOnx-twJ-vupuily6gNJ-u745AcgTsULZdef4RbdwZxgPdPBtdJede3ebdzcRN6XPeFczcPeGV2B6sGukBGtCtZ75jex1z97LfhZmf5DTy9cCO5pw9ZodUReVQI95jptmBOHA86ig+UCazsGy5Q+6jkdyTTzXf0LWcw9I84wryEza0ibaQw+ddoSA+gBbek8-S6gw9REYFpymceZU-rLMGBtyniJ0Ihcs9iYY-0lY+aAJ4vHUvMC89LS0jc6JrHPc+Q-q8U9s-C3AQzOS+qdQNI-EqRh691zXDc5waJTW+nea8IdkK8cN5Nh1bvvrg8cUKO8a9hYIejcm9-jvv4+GtE-g+wUW+wOG4e+XWGZ4-6sE9g8k9+8G9U+dfErB+BhLNk-+929rFoFQGs+i9S7AQM8dUy9aRiZU+F+c3rIaF5hrFOukxN5LDTwoX84x+I+TugQ9+lCJl01ghoQ14U7142m8ht9H2zS0A56U-Y+d9SDEr9+7Z6Ur9BCD8k4j+M216U6ZmY9-k0zFmkxOgNI9vkChauBhYtBtD0UL+0W7r8ibz8+qen8mrUe9m-w39hancmo9t7kd8H+CceELPzSK18W+qcCcIjnbRQ5t+-FF7gXWCKNkdwkge+PMhyCMAZ43UDeKpnv6J1jOk8UvtqgOLHoogRxUgaeiQgC04BBlbVI7HWyTpSBjnbHCQELq0gUBaAloBgP7xAZ70MNeIpoEsj7opS+6ZXlXS1yC8l+3fbHlbR7Qx8NAggu7nfyV5wYFBlkOMBn3jod5VCdA3CBz2MLD0L2Ag3AUr054NVcgLAEzpvEbJtBiGSyOgBYlsHkNrgdALREAKBgrc1IU0JHk4P5AuD+AfCUbpbyFhTQgOaQPhK4XMEEgrBJlXwfYPCAWDsUXgnHn80CBxDaQrg0eClD0CKAcg+rd4OkK8FPB0hoQNwbpRwY4pvBxWEoa4MCFu9gh+EBwSkIiH2NIgUwPISLkKE1CAhKQ2qC0KnxRDLBLMKaMdWeoJDoh+AdsGjGObK5z2ieSYaeC-TuRLABIGDokKcKzCshpMBYeQCWGDC1hBIZbjbXGFSokehRUbm0NyG5BOhXyZwd0G1SI0ThEbfoQQCmF7CThBwoYeBEGEJhOenrWkI4gfy3AkK67G9PBFPC8C30+xR+vunIHToT0Z6AWs+khG3IVS2+BgaII04QkoSkGP9GCJoijgVKRnMVBdF7angJUwggTKIOKEQj4Mb6TniSJ-xkjxUcVMVDSMJHyV3BAIfiu+3wBVgugi1JHkyD5FKgBRo3PBGoDZHgikgSPHkTpTd4TwOwJKU8IYCR7-DT0YoRaMCONBSiCRKIzrl3xORipDAUIQEMSgJGKdGRtgZkRKjjDGiwh1KcCBaIdEPIrRSEFhhKit4qiXRqQyMM6JBpUp5ao3YUfyJaAf8l87MN2vm0fD7CYyXIuwMSnEYvDCiGtW+G8B9hhYkIb-LsNmPGBPBdetI7nipWhGvEPR3DPPBbjdE2i4qBY0cLmNoCJtUhDyIsbQKUplidonifPLyNDE+9V+5wt3lGKsAxiPh7YisamMID0cm0uYZUQDCMEhBuuXokeJzwvjLCLBYKZpGYjKG11H6XxC+OuI0SbigS6IpFIsg8SGACizsH9nyE55TicwkgVRKKBnH8JH6gCcRIuKPGKRFRVyMxOePk6LUcEgCPNlYFADZUAAEhi0kAABBcAOAAxYAAlbKpAAADyBLZAP0m4rSUrAd8H-sajfoziLo+olChOPeC3j8JP+RTiuNvG29f+eEt0Z1xXEqAzoNEnogBQYmVAcJZ-GoiuTAkQToJsEhCchNQmsSrAlAtoDmGom4SeiZE2wCuRXH7Dbx944ZI+LokndJJtAP1IMOP7kUm0HEv-jUTdGET4xY3RITsKcLWoCRTgSfF7jvhHgo47ResfkAsmOoYGuwn-PqJ9ETUWRuk2iYsLcl0jbkTkfNhYBNi0sSAj8fpAAAYa2cEBIB6jGghSrB5cH8JQG6CzoEpGgMKYoHEQXdQpOQuBrVR4BojFIOUwLJlMYAAUk0sU5CDuyvSgj94JU1HslNyQoViUanDqsSganC8mpzXcdqmMsDaRqpeIjCJQKoQhTnxrxTqXJnh6npgUrNSavFIPCNSe2KU6tkKlb6WB3gHqFQL7EAGTFt8hAhftqmQSVT5pz6HgcFMWldTlpuSZYmaOkFK8jpMDE5AkM2nbSlBbPDyUEBemSAtp0gX2BoJkHMCrx+ggmrpW+m-TfYOU1MeqMBHaBCwE6ZETBkMkbASB8Isgf0mEGIiqKiMlSsoXhQjNEUCydBIwLRmIERayBYgM1WrEkzF0IgpgY2KbF61-J-QOquMTERQFJ4GYSXMiTwCSI+ZdCVGYujhG0ysZYmJmbjL2mKQCZcyImZkkxGEpCklM9atTOREBi0glI4CtSLVlBAiRhKRMsZW-SIzxZrYjXPX3hRtBrB4CEUPkCZk4zgM9MXmfzKQKKQQxoosMXX2rqSzKQ-w3Ef2hUD6jm+EYrUCQCplliSUFiTQBCmZkoUeRqnEUTkDDFCj45Yot3hKPDkXJ9osoy9BcKkCTxNAU0ALqAG8wGyARYoOGXqAnT5yM5+onOdVJJRaI1RJcjUUCFdoVzeEkci5BYmLGgBHZkiWucSnzkmjoQhosEJHMU4hzlZYcu0aEJBp2j9on00oBPO1hhyreM8psaUCt7zztZy4IMW71dkJzwxPFVyCFOlLMTaAy3bevxzPnEBAoIU6fkdCwoTiiwUMlColChkQcSpe5F+UZIqFY1ykY06nuahxgqAtp-IYGLvmZyjcp2rCABamJly0Qcpo0sEbWIIlc8vugVKEVyUfptgoyC0jgv1LZCDTekUgSIEgtREozH6S8jsebil4PIqFYclBW5O1njg2wT8piHkKQhQyF5y4FsQhl0pUKKx3Yt2b2PNT9iB+b+d4FtzIUnF1AHCvBb0MHEX8kI+wgRWbnzzHUgpPEyQHBKdQAAZDFmhNZrOxop2wrCeWJClyQDJ0coycRNEnTi6JSPSiUinEm0gcpli3yTJNG5sSZgbi1aWRXZjeK8FckbieBO0V6KDFwkrZFRNcUWLpJRuFCoMJiHfprUckj4QpIfETQVJ2spkDlI0knCOQHk1JSsKY5tTb5OQPJcUqu6c8ZcviqxcWKMmJLTJxza1DlNcJe54FeCshRcg8U3zmZHk-AGYqCVxL9RqYvUOfUkVfdVAjC2wCiNXGHCElJw89FMLMlPVea9jbVIkqjaHg7B9wwMTpIclyRplvSlSgvJeE1LYlRykZTa3FpPC-hN+WbooAW5fdZlPwksQCmWjCBxEe4tvlMq+5wYmQfJB5fN3Zr0CTxxMj5RLixFjKLWQKp5Y8peVPCjOEKmYjkMmy-cblxS1MSEFvG9Inxi-ZYaOnenGjJOX4olSqNGUX9LA3k5aUhFIkOSZ4UBHFROnpUEFdEr4-pOkqUkTR6VWg3RNeztR+gHJcyvVGaSKVrjmEjoa+RUosHs1AgxaMFKpM4nEBpVBIFsrcxj4OSngLw-lf1K2RCqfhzxNmdolMJjC4E7wEqWelInfyKFGzHpeIhYWZhbSUMvGZILsU5hcVdE1lS+LMTiJOV2sZST0sHp8qbAuqvBcKpFbe4xVqwiVbks0mD15VMakKSqpYBqq2yJyHKVqtCY6q-QJUg1R7ImKgyg5Xob-iVJcwOTT5ak+JT-KkCIL6Vhc5BHCBiW8J6Vo3RtdSvM7XyIOba8tXWsgRhAzV7a2lUOrEkVqlVzxGNNIE17XyviWivifBMQkoTwAyhWdTBPnWCTDFFXa+ZmtcLZAp1la9XEYKZBKpD5cENtYgutWBB+1VKi1cOunHOqbVAKXdUEvERaKdF+ipdRsFfXhKN1MfDNS-FCZPq3FH4ykEevhiHyl6UgLNuOF2Zi40Icw62s7H7xSU4IFFaDTiCQ0rlIwcGj+RhC2RoaRA8-AfCuQBlEaAK6sVitOAkAwaDc2G-FT9Ww0AUKKIqajRQAw2vy++C+HDVzGY04hCN8G4CCRuQ2kwEgUQEKLSCkW0ajJWGzjQBTD6E9ieI4NjUYHWBKVpNpGiAezGg3UBSF+GigBiQxUWDluUG2gCxsxzEBTNPlChAZoJCjctNpCoYrptljuBzNvG3oaDXuVSLUNJm9DY5rCpg57S1m0rg2HlWOh5kf7QFVtw6p2ajcJi0WMxu02OSqNvGhFZivxVZseNBuDLXpsU5iKaeeUjoQUNuF+DdlDyCLZMqY1JaRAlpSrdlpS2Gb8U4Q0JvFvs24bKNdACzdVva2uaGtMtdSnmq5AhaDuzIMrY8tIZUaEtNaGKfIFE1Q4w8-k4VSuUaXLLmljyWORPn82lBf5I2+bs4Wm1ibYVvnPzevPySKLhxxSzugFN+zY5Ttyij4USLRQYoVizsHrfIj623KBtR8XNEd3C0eavuHVETSFEm3AFxJ17WAXgJHoglt+hbYtqWypquhUxcmlPgJjm2BbMYotRZU0qdq1Q1taqXMEeCPhLAjU3LGAUsG6qI6I+gWYeIdrgzwDuqraW9EYwDFZVZgDMpsfnTH4JjTwnaOBgzkXb2YHtQQJkOTuJ43IruzAoOqOmjG3bztuszbIUQdGo6sQIW4XZH0WA-b1MCgWFR1RV3sFHmj9ZSHeLIaFV+kAATgGDCoJAGcchsKrUhYDSYRu4VaeimD6wfCBBYvohrCBky0gRq+FHYDcoRSraRu1QH1z67Mg0A4e2VabM9n5Ig9jwsQUEAd2JKGMnwpIZ7p8L05Nyg9EwhsET2LLk9GJA3W1qt2SNql0gUBeAuYw+gzVdW+ZUZMC1K7PtjoMveQwr2-kAVv20bVzmb1gKd87SWLezD94HbIgxaLlIoEyB6hIWby4+MtHES681e0PFDgilI5HwsOfQKpRsHhTXRGA4+kFrJ3lR6gHK1aOIkHqZABpA0fvNBY8otTFozAZ+90IXKD1tcpFy0esNoPr5GAw08KIVRf2jjvBG1SyF-QQTPUJSy1186Ut-yFV7lADWgzfWPtdq765OuMUUXoAXA11zAJ+s-Qzgcknwb+XQFvJgfv1GqP9qBd-XQgwOYHA0W3MWObgYAUGA0keswLnvO0bLFlKywlDjojxP7JlasondAKGjLQURWqlnQQFCZkZeh22hboTEl1Djpda4lMb8KVpFqdyEhPIHQA9RuBh9R8cae8tn3oK-eyo9zkvpv3tU197yOuoSC+ISGplUh6IFLpt3yGipHgn6vxUs2r8WQ41MsaOmlFKBVUaKIvNN3o5SLeDegEndYeUqXoca9OkQ64TEOc8LZLuJzIrwAw1TkZ11dmODLemoc1CHMpUQFOzrBBiaq0LKIjLyNoG0gAmiBVoIJo6CqUBxYWWulFmSgX0Jsx5KCtllLJnAQM3ygQFCryAAxZSDaT9LekayxCnRweqDLRREHdBn4qQSclQ6NZkEGRv6e9LyN+BnggxiGVjQCmNYcEfI75FoOz1KUljO07HsFvn26gDtfXbMaoCbEAAdLALWtkwmUf9+AOBEx3l0SMamayQlKHodBb7x9zOAYIPqkVXGaJNx1IfcceOWyPgoWV4yV2VEnJCAXKODOCWJRInQAAALylagB7jQQLZS8beNRHwSWJ7447l+Pbg4DS0N8AShGAqH6A6hsEFcaeONkCT8J2xvV125-tnAf7UgH+zDFqg+unIPAMCcmVMnoTrJpjuyeR6OguTPJvk1d3JPuggAA')">function depends_on(exp, variable, frame) {
    function tree_walk(e) {
        if (is_var(e)) {
            if (equal(variable, e)) {
                return true;
            } else {
                const b = binding_in_frame(e, frame);
                return is_undefined(b)
                       ? false
                       : tree_walk(binding_value(b));
            }
	} else {
            return is_pair(e) 
                ? tree_walk(head(e)) || tree_walk(tail(e))
                : false;
        }
    }
    return tree_walk(exp);
}
</pre></div></div></td></tr></table>
      
      
    </p></div>

  

  
      <div class='permalink'>
        <a name='sec4.4.4.5' class='permalink'></a><h1>
    4.4.4.5&nbsp;&nbsp;&nbsp;Maintaining the Data Base</h1></div>
    
    
    
    <div class='permalink'>
<a name='p31' class='permalink'></a><p>
      
      One important problem in designing logic programming languages is that
      of arranging things so that as few irrelevant data-base entries as
      possible will be examined in checking a given pattern.  In our
      system, in addition to storing all assertions in one big stream,
      we store all assertions whose
      
	<span style="color:green"><kbd>car</kbd>s</span>
	<span style="color:blue"><kbd>head</kbd>s</span>
      
      are
      
	<span style="color:green">constant symbols</span>
	<span style="color:blue">strings</span>
      
      in separate streams, in a table indexed by the
      
	<span style="color:green">symbol.</span>
	<span style="color:blue">string.</span>
      
      To fetch an assertion that may match a pattern, we first check
      to see if the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      If so, we return (to be tested using
      the matcher) all the stored assertions that have the same
      
	<span style="color:green"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      If the pattern's
      <span style="color:green"><kbd>car</kbd></span>
      <span style="color:blue"><kbd>head</kbd></span>
      
      is not a
      
	<span style="color:green">constant symbol,</span>
	<span style="color:blue">string,</span>
      
      we return all the stored assertions.  Cleverer
      methods could also take advantage of information in the frame, or try also
      to optimize the case where the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is not a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      We avoid building our criteria
      for indexing (using the
      
	<span style="color:green"><kbd>car</kbd>,</span>
	<span style="color:blue"><kbd>head</kbd>,</span>
      
      handling only the case of
      
	<span style="color:green">constant symbols)</span>
	<span style="color:blue">strings)</span>
      
      into the program; instead
      we call on predicates and selectors that embody our criteria.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-ASSERTIONS the-empty-stream)

(define (fetch-assertions pattern frame)
  (if (use-index? pattern)
      (get-indexed-assertions pattern)
      (get-all-assertions)))

(define (get-all-assertions) THE-ASSERTIONS)

(define (get-indexed-assertions pattern)
  (get-stream (index-key-of pattern) 'assertion-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCyyiYRA4K0Ia2yEs1JjEKMesnkikWJtWbB1mwsu08jBtXykIvRIJl-Cqcr5-KVKvFkoRWrpvr6DsGRqWpvNIM+8dmC2Nyxdtszkh2gOBb0mcdmVl6lakDPKSlFDhJfJ5oDDfgAbkd8FqfZt-UEo5qgyG-pyW8XVVjPDjvNr85I9QaVDnU4ZBzHrT144xSPCVWqNTGfPOC-5ldJVcT5Yqz+QL23QJ3PN2TMfT5mJwfp1a548PQwvTxLdfX7Pp3jYYdfmvcNQAnddcV-eNF24Q0VxdcZSw6Td8wASEeHc9zGeDvGPPD302AQ7yMKiHyfF833Igs4MtDc5zIyR-0A3tTwIicQQ7LstTdX1qwrFFRNAWs8jYZQBFIRJuFiIVNntAZQHifFNNAUlmVZXhSRPTYFl0tlDNmHYNK00lWEYaRSAMxiFhsxszM2HYHBiC9Yj8UkAFVCDqQhKAAdxoOwHCcCoAFootgmNaWE0AJNUx0ZLoOTEnMKwsFA8LHDrGc8UJGE4U1JFzFA8IgkJPLIpcMqdMoFk2QSnK0SCAJqtsex8ucQqyWcuzWrwSE6zCORVHUfRYnlFsTkFbjUVFAcZSq2beSaQVEpSpM0LNNcRAWYZRlAHY6Cy6wwCktFJJieIoDgRBkHQLk0H5CEyjyQ1PHIVJHDGNpYl4agGEIYRFp20BDWGWJ3AcbhAeBs0wZEUAAB80dcw01A0QhtERkGUckDGsZUdwmu8EIEbiJHQfBkmkKGEYAZpwnwakBnfVQlN0IJ5HhAu66mV+iLpzohhqaBtnul6FFIb5umLpGz6KkNNxNHCNgmB+tRJdpsGAT0eFNGUyRIcNSiLwVomADIbbOK49elgktNII31aVoWoaGfhYgl63weAhM1LV-gNbWbWrwDnzCF9hhWuyr26EaWHKGnShcCYWO-ad-nTeDx0Xm4CcA7nRPRq+lRgzochNEIP2wdzun8-NlR1c1yPdej7Tq9r+u6YT5XGR+PuG93ZPU5ZqW84h-pC8dici5L1m85MMErC93u67HphxaYLheFkKpnCbomg8hpflTGZfp+bsuPuHw0OGITx+F66hT8DuW56TduI51kk3dST9hCLuZ+r936EFpOjTGjNjYdwAZ-HynYNAxiYOAt+dVoGcy+KHcOWtEFAKFugt4ECsHryHmNDBkDVAp3JlPfWX8pAXwXlfS4Fwb6MLXhQr21C6q70EvvTgh8GDHw-qXbiLCOFsM4dLe+lDK7a19u4Ng-AhEiLEYQT+ptW7wP-lHFedMfKv1hqo9RR8a7UEHl7ExKi1ECEcH7P6tDJ50G0ZIn+6lkjZDoWnJgGcs5xz8JfFUpd742OUWY8mbBGjuOAlIwwE5ZGrwoQo1WKgdqTUEAwMecSHi6L-gQgxt8DbaUyWobJY9rEVwqJkg+FiT4SPiZ4kJDC5GexqUmEUMk6xHDyb0ApYcEHFMYT5bpv1nDYnqaIyxUCRA4N1G3IZ+iu6GNKcA6gPTJnTgqakKpPDOlLS2dQbEIiZLqlSP0s2niAFMFkLgJBoAuQHJVjQcZvTpz+n2N2RuTT8k3OJHc5Yjytrgi9u87ZTAjh-VjhQds-s1lMOuYmIkaggUPO7ukVJXtsbfNBsQCWahYhIoLr-ZZRTdZEtID5RgBx8XxxecPEqzBaU-IJdkUgxKugeJRYg0krL6Wkj8FSrogtDkCpICytwey6ZuKpTLSQ-yUWtI5cS8JhyVjSDRbsnJdNVWkG5c05VjsRWMrGkfce0rdVgzlZyg1OjPFwTtaKsFhzDQ5JSAqCV7LTU8pDkzUY+qXUbzdSoV+2qrW5N9Ua-1WdmbFzYaa7FoamBeBqHUK5yLY2FM7oAxFPk03EDqNU15oBC11FTZQGJmbSUO2kaExF8icVV14LwH6FzGmNr9Y6PBwzVklOpT3Vt7byFitLcQ6ZmjM0JITQ2gd6rS1v00OYmZzg3F-OYS01hKpkl32TaWw0KDuAHxbp43tKySQHx8nMQeaT6wcE4EwPkGcjAkqWuiE4Moi5yXLLWw9b95SHW0je06rYmhKyiJ0ugt04gQBgPAJAqA0CvS5A-MaDA6LZMeaDdsDqUXfRFv9bRZljKEexOLYjvodjQzjpRr4xkmp6RcfQgRz5CW+PTpnbOCL51+BwxmNy3soXDvIB28RjaSPBGHbEjDXYsMTuEQ08TvHdiEFwwxcityAnizcUuldmj12Nr42p+4ZFqMqFqqQdoTBAbuFYHVOjjwFiyefFhyz1nbP2YKlZ4TbbRMOdLsZ3DZlzM2c2RMk5bS86SZc2F9gEXY5RaMap4LVGhO2LMZO2ZjmjJeLhELVUkT7GYKcQ4ZjadDO8dcu+DLajomxMCylgT5khPep41wmLT5VB4sldkHrBKskyptdooQQXmszFCx60gXrI16tLpJvaawQtCfLTlrMuwuure7vx5bhpymzd+RJ30zmuv7cqXN-NTXdtV2PtvC787OvYi3v3Q7A6xtYDM0J4hfC6zaPYqAD78wNtycud90hrhKBxYqWDEhL9tHvbS0-UhmDfvzeO8D6cP3O1vau2ljy7RHl+QCkFUKoBk5g34JwUAMUMeHFSLeze0nuClD8Euw1DxkIWw0LECZ8KmAFdKNhWYkNkhtoVIfcgPO4XMAF0QVn0hNAuqkJxb0nOVAE2NPzzpzOiBC5mKBI+IwuoubpxLYh9WdeEFG9VxiuxOCpHYPvNTd5qC5Jt7bmsnSmAOLjn9NxguNMe8zGzwPQffQTudzEF7JJBeIQGWejJP9WPdgwuKTwwgbcLEyXvEUDuSSG-T+NwTi3XQPBV0BfM+OLws+0v5QKIUaBe2m-YansVReeEaK1ZX4I72ot3NpwSbiD50DG4tWtMJ2RLoJAAPlp1hpdY2+PCODWhvIsWIWRewyZ2e+G27SECDoGTmHLkb8S972Q5ysONf40Xp4c+T-hY+VDnreaVM7fjO5Y-CL4tP+hQ4WF5A8K8OTWHSpasWbWQao+Qcau+8QM023WdKvWSaY+m6KKJeiU5eUM+oKEYawYlq52jcyBQc8eKKJu8md4EaBBJIpqPg-GGBno3oxBfo7UkkFBlqxKyeRUAOmYZBoObBg21q1Bzqo2dBJ4MB2egkzO-BVKnBeuvokMmqEaHB4siUVYDBFemYkM4B-WEs7u1ylBQ2BqQaIhJmqh3eVYPeNigKASRAz25o3G7OJBakE+3A3GM+2k5Itht2+0NIfgDh+6w8dA6oLglAgQsOZCdYlWXCi0MBEBYSKBkgoEIqMobWAhY8UR0sZhWaPaKgU2XqOhxhehR0zMehOwouoMa4wR-iYRWOaIUhWq+Bhhxh1uYeUgQRIQ1RYCyOkCbiehBYzKCBbKEsFqaRsqzRceSU6hCRf6KgtRWiaO8YpGuscx5WSWKMt+3wx0ngGBlhhysWW2l2-Gi0oE9WMo5ala1apciUoEX40GhI7RIRNR3RdUbi9Wv6oEXhNcdcawdxfe-imcnxfc5otxv6WhX+3A9WS+DuWsOGLu0ek46oXooerRtugJ3xnQfgfRKJswN+oBw8sWZ2TR222+58niAxEhbG3AehvBwxSeWW2OXCY2AR6GXWz2uSxJuGxxLB4sMoNJ3AbJdMnB+m2W1+phKIz2qxnB-J3hO8E89CwB4sY220niKhuxYBXWcxW+nJQcEpcpfiFGKxepaxwgmJ2JfJKxe89JymjJWJ5EuJ38aBPM+0EGV0UGMG908GT0SGr06Qq+6Srg++bssSnAp6u+laac+gWiIZ3B6OnArk7k0gnk3AnABaFMkZdu9gZAawLQbwDAgBawWwDOhyAxBWPupWWqfgkJTWO+akfKGujuQsQqfRZZcgDgI+ZaVapwohIaB66urMmuAuoZ2a5KuazOYy-ZDZnSJaw8xCLZfuzOQ5joty9yY5TyZqeQ5unZC5NZS5gKK5uAfgoKPZM5XusJUeuSuAi5wsaK+5fgWKeJY05JSeFGuezcO515JIpIFJ3YQqS0ee65-p35Es4sV5QmOaiCipZSz5gk055q0FbGcWee3AIF75daiSbCIFzJa+JAmINceMTu7YcJuSRxpJKKE43Zveihu40QtGJFDpakRcFFoEbszAeRBFRFdMMoWx5gveJZji7GriAkbGjhqBaklsPiglj4g+AFje-Fqx-u-FCqiqTh88FwNFfsMlt0ccnBClccSlMZ2RNAE46lQkap+J9uFR7F55eqRp7ZT47Z7gwYrFJJ9FS5oMmgbsEl9C3KmkhI3geMnl9lGxQO4lfFtGtlQlXQlZTlBFwVoG-lHlOgXlFWIgAAPBiO5YFUcF0JnrsImQTqSAACpNReKECNDBAK74DpFk5sh+YFnaSgAADUBltuOMWgeosStlIgzVv5pITVLVjEbVeMHVyF2V9wBYCZSZRVJVuADAwUFVmgVVsqNVIm9VfVzVtpbR6g7VuAnVHG3KPVPk-Vm1kgQ1mgI1QVWFFQJkvAkpFGRpUBKIXsOG2sTU7IdFjwScwRyVSJUlXo+cdoCecagaXVm1zmamr1dgVJKJ+KuFWgVlrueqN+m1Z0HGLshIRcoNYezwjsQVJ1oGDxs6RE+1o2cUKol1WRSUYh2BOG6NsERsbFZ5iNZ81WVeP1Pk-k5MxooA3GXe7oUxTBswoEJlMoVF-O-Fx6YpmhnihNJl8lzOilyJtuctOmCtelv6FhmtoljoL1zI71Yp5ci63hd1khD1f1j19IexENetkt2pJ4X1VMEVf1Il8hQNWxP1OV5E4N7YkN7IJ1sNlAeFy6TN8JyN5EqNk8dNmNJNtpCwBERc9lQlcVgmhNcEJNEYYwFNJ4Ho1NWQtNvl9NrFcBCoIdY8ANmwbNZtROXNoQbhNOApYMfNFYAt1Wwt-Fot-BJlttGtKkMt31cttlatGlStjEKtg+Q9sYlNEkyUniutb13dLpkkbp0QsGD0CGz0yGGAfpSYEuUu+ZWurylueGw5+Co5NepIu9vODKY6w8l90uLAQM3gY8Dmgu3aNAKqseSsoEd9+9QsvxiC84fKLwv5UgLwBYLRswfKxYIDkgxY4DStfKlsMDt40g8DgDV4OkxIyDACaDmwfK0MzMv5BDJ0XwEDMwfKaUba-AnefglDr85VpDCDGDVeMDVemYZDvQfKMIbsUK7gdAQq3DOgvD0GjwHDUgfKjVyDUgyZfgjQIg+Is+VOzVDDYjkgfKUUUjkgMjoAcj7hVOsUKjTDusFImjWQKZOj8jijoA5IOjkgqjfeZIwApj2jujCjoAVOYAhj6DxjAApM4+Y641Yz47Y6APY3yr5VIy45Y+43TXI0Y5+QAISaSRMBPRNU5JOEhxPeOfmpX+OyNpOgDpWSBZN4MYOpX4iaNRN6OFOEgWPxNkjT55MWPVOz7FNhMYPT4VN+AzBVNuNU6dNtP1OkgJOmMxO9BuOSAJNSAhnzhgjf3c5X0H2MjyUEgnguEvB+A-185-1zMsFbMy5e6UDuAABWbwBqqzjwLhpQ7hiDCz0uv5H9uur41W+zSzkRYIbUy0-gdz+9ICNqMoiCfKJev5Je9j2JajGDkAhApov0NDkgULML02YL4LXDggQjsAkAMDgjTAGLyL2JqLPDAAosg9i4S3iyiXygAHL8CUumPUuUvJ1B67NfOvN-Pjz7UXObAuHEDuFFzECk2svtSgIurzOS6LNss6WcuzDcu8vboAyvjfNiv31ssuq97t7i4-PbPa415LoAKgXqssAuA5jSAd7w3HP8CdhBEaApDQ3vivOS5tqCEv264j2PC6vEhmAzBmVjQ7hsgI3wmgVcDQn+tu7vjlHsB8CasHOvLyWmlh6CvLSgLyXku9DhuGCvPEJHOnNkDtn42Kt7184Ss6YptSAsWwGeohvNxKzeBBBluaCYiOXTil2cX3H9C3XNuNwfOQavLQYr0emPSIaYBb29656OBkBMB0pqB9QwjSAZooLkAbioUEOwzwwqrzusS34431rXwYVvwLsITWg9VMDrVk7bXDW7XsLoXk17sbsng7Brs3sHs31jSAwwjdY+6pBrhnuK76vEDEBVUjBYbZCs5-vRPQbNX8l-t02kh9ULAwega9X9X8CgeusFgwfCrfsr5exEAOKMAcq4yaDy6K5EfJi4c9iiA4SuU0BnX9Wkhkj9WvtqKMAfvmguF6Y4dvyMBEd3C0dCCkjPt5AcdarMB-QzRLqgXENjDicnhwdbEOSCYEa6ziegB2xmQ4HA07sqjifzJoxoVE38kK7WgZPAa0gydZBFzKcF2kg3quQLCjvIe7iTsFQzsZrScf5Li+Yjq-bKeqcFg0Y5wKYaLZbadxVwf0fNVCeMCuAOAzQWcK66aGeHsDWPB9UntGn-GBIBenmKarofzafHVocNUReEBkfRfSCxdysGeK5VfcJNU260jydfA7CRcSyYNqC-kL6LCleifjUKcqDiVue5YtdkhIN+CIJxcmwZ01ek0tdldKR3utbfs1dmekgADkJ7U+PV63C3Z1I14nAnFQs3dK0gsSx3ujpFsa7tfsK7F4RcZ3JbBYfKIQbAvV7QvVQU9kPk1cjYvV++3gtIvX62w3d33YJ3pNE493fgs3PXC3wPjskPZNYwCPR3oPcjD5eQ5rlrxA1ru4e8h8NQMyx6wiEnLafmYmWiJ6ZnT3Im5Pv5gXSmFPxPqHMwLhmPwY2P5AKQQp+PBKVQ3HRPvAa8C3-nEslPTmDj1nv56XAS3GAvgPE2GZ6PFQZ35+BPVQcvMR2Bho7e-mv2J65dwtXuRpMoJ40vXGtG9PuXjPgvPd8zavjAWsbOMoLhKvPPMy-P+vZhChRvaNVnSDZn4l36MQvPDvUK8XpNKqbvVQEcbOQvjwOwxCxvVnACjXMwCwUfofbOC3ifvvVkbPVrnPuPMFAf54luyzD1ehrPFr7POP3Pwf7vC1Q+xP8v3w4lOfk8mz9f0fjv4f9BAEquWvPsOc+vKBkMfKN6wqHGGXsvnv4kLdwus9wiOxhtw8zeovxPS7-XpfYvuWjFxPC3bNV6texODeGZDPsEjQ9gsFeQr5w2J6m-3u2-+-4v5Fz-gmh-wiHNJ-pOVpby1Aee-DK6jQG+52Q+oPmOGFCjYAcBDA9-C7o6DX4a8rOIA+yAd2AFQCoU0fUAdQAuIyYN+cA9+o7Fv5GFZ+K-R8rCGYB2Z4seMUaqglxBCUXwqFcSuuzoF-UXwqAstKwBkj4VmBiISgVwJNioUi4fArQJpWEHcDJCYggQfgMR4QlOBIg9gZIMNbi1aMPA3wFpQ0qoVq4coVQX4BMqaUg2FRGgfuxIisC1BegxgaXwGKSCjBR4UwaTT0FK96w0OCgFhiP4mUoehAGulrBQRMAkg7AbwNIHzjgo7AuAwXtMRgJHoR+gtfXCwUkFnE5B+FVgMoOH6f91BplaWmGRLyyCqBJsMGosC8ECJpAvg57gEIF66DFKKNVELwFiSKCKMkgiYmoX754gYC4lKIdVkhjiU2g1Qy9nL1JpdDYkr-G3j3Q4jz94wWhJftnXEhUcqhoQoAae1kC+xfMllDgPQ3NB0AWwKw6hhHDoALRpBknbIM8jM6bDGg2w-kEiAW6B8TUzyZnr0CRDuEcY00JYY7mOFrCpoiwuCNcLzZh4XhWsHYQukfhgwHAlMPnD8IOG0MAIWw34bsOmH7D1hm7UAD8NUBnDb8OwS4RcDhE3DpG0TVgH9GBHMBQRiInYUiExGZg7hbjB4e8MTTPIm04qN4bEH5yvxOU3iGvC7VrS4BGRDuSaAsJmgUj6RVzOXGTn+FjR2RggTkbyPw7TQSeGnCUb7HhFbFhegIk1voBBEQiThhgarJjTpEpsyRs+EUaQDFF0iZR9Ip1NyLXiOC7cwbPUFDmJB6odBCIwQOUL0pckvmcQwkIoKSFd07RDgmEcuCdLmh6htnC0YYLtGqJB0eg+MmeH1H-4mA3DBSLUIkEJDJu9osMYpXNFyQYUMYwQApDki0MHRaQ0CiLSs64Ar4awPqit2LFAhSxB-A4H0hzHJiRAZnEWspT66FDX0DY8XgYMdxWj-QNoxuHWNDGOiNKwvLflRB-Qqd7YFsUvqGPhHpjoxsYpKhOB-QkjfQE4accuK+CzjFAmY+SElW-TGB1xrRIuGuK+Hvg9BKI7SBWO8AvdzRQdGttgPFHRlpB4lcxjqJ5rMw5hiQN4BWg6LICT4v46gH4Fd55iVe5goOKBHnFAo08XUTcS4HnHcAgJg6f8YQDjbgtMwIE1MdMIgkF5qoVkS8VWPF7yj4+ZOLQHeJcDiisJoiI3HMNNCO9MBkRV9DCkHHkdphvIhkYIBcLu5QxVVGfFiU-FFooULgJCdwC4neRIxjE-MSSNmo7iMBtkeiTBKYnyIa2MgEYMwDaBEA-oMoAAAw8UvYZoYKHchUmeddefUcgIYBbiGS1JiomUH91UmhErJzVLkMqRRQ2Sws6khwOwIGJ6TChxg4Co+xMEuSde5PFgGwFAriVJemzUvgFJp78JTJU3VQWaO9Z5BZA3GbyTGBUCsBxgKk-OAbkMmBSYpEEQkF5Kilk98p5UJ6ocimjMBgoRwDNLAJPC6JIhG-arAsE8lzVUpuIMocpO8BGSgppk5OqFlaFv90c4lSqUwGqmeAM0e-G3geNgayAqpNU-Tvr36mK8phKlIynNLGkLSbJcwjgPYHYAWZreAkWgSYNAnlTS0o08abVPLoLhB+rY2MNMV6DIRvkfSO0fdOiGA0yK++BgJTUaFcR3pfYWIfEJyFKCu6ZgjCeRF0RZD3AjLdHMWMAhfCiwG0y6dkP4FSloZwwmYFYBwiYF-phlITK0PbHvgFgF0haYxWtAYxYISMhaeRRb7uc4ZjAKeqtO1rrSGA80iaXL3NGditYVo4GMfA6l2inwCk50eiFdEcDgZHoiWl6PBlSBkIUzbmM6H2goyRB102tEQA6rbi4xiYtGYmNJonjeggs-MaYBaqYEIhAGJ8JuFaI2ByQ1sk8CcUTFAzUZEslQUcAUmU1IYcs30QrP9E6yiiiwdWXBJ0F6zeg8YykvUJmnxhwx74dyBZQjYCyXZhsufk0KwJZBdpFRA6aNU8BHSfJCkmWFbJtkfS1IpIPCdeMTl-T6pi-aEjYJYEGzvRFhUgYJ0ID+ysxSVXgC2F4AwRTpa0tIdB2Lmp878RcksS92rGHAxgrczZoKEbH8VhxrY1uYTPWxcyWAmcXmTXA6ljz-AHcioURP-QXh25c8tPkGK7FLzA6K8xEO3M2YthzBoAPOeSGnniVZ544-GaX13lmc1Zu1DWQuLYSzzw5pbT+YKG-mSBX5CoOCd+k+GoTHg36P+UHM+qKVzxA8ysSXPrmAUVJ0pWSc4ClHgUrwSEnyDZOv4VARQL8egCfG2mCDKu20zSi5ItzEK9hAaTTrQsymzhaZQOJ7p4GqmNA98P5c8Sqj4hZSaRi6aTFCgMmIgbJgE1Ho-yjGKARFDgBUJ3OYJfMX4kZQRVwWSnaVVB6UrRNtOuIsFAFkEo3CbwLDaK4JCExiXrPwXPgRSlMFwNtP-m9B0JelJyWpG0XYSe5g8vuVIGKKjAD+X+Cdqj3oUUCty8ijolYr6K3i5A94w0Y4somF5UkSkwqgAAlCWTAAAEq+QAAMoS2QCFTmYOkjVHIESCKK3E8k-MahXoDMBOBXABif-nhFVRDWD6CODZIKWijKlC3apUcGnD1Kypx5MaC0tGD5K7h0guJQkuSVpLwA7A6pWUs4B1KVJDS8RVblQqsS02trTMNUvFHjKn0nIF9DBIe7xgvyKkqKLyNpAkjllho8KWUl2X7LeFw8A1u0sKUyK8ZrEvURxNPA2T3CWJA1mohsm+KIpMyhSZJNyVCNrljSiRfmLmE1xH6zAM7vBNEU3K5KvI0CvcsZGPLNghY2fNVnmWtplhqo80H0RokyTGwa6SFVIrEXiS9B6418VcqmUEqTuRK--DnJHoD0tRnMrxRCrO5MSuRko4WUED2DXNCQa0BAQj1JA0lvFUipujMWTBezDAXK3XIGNBWOshVJ3SlacHpWmiIxkq+Yv-zGII8lVko80YaHGUxg2xD-M6j0J-Q6chMR6PccIBBVWZZAuKrAS4CSHjKUFeK6gPnBgJ6qOpSEuQjEK+afpCQqy59A8k9WU1QI-7RMoKSQlsrfYUrRiEcu5HygvudE5wHsrpEiregnUeNT3ETXUBk13IpspmAG5ZrkJWQaJqGuSm7gI1sK39DjKmGdK8gagdoMwBckOqlgPAKhSiG-qAqaAhIUxYQo-gaKUQbqltfqs2UqzQIvqqGC2rWUKgNlnajGSGoUBlrFFkajSCdVjXTQM1Oy7wDmumipqpA6a-4Kcq3X7Kbh4lYRcWvcKlrBSLkytX3zLl1zt6wQdAS5OsxCTPVD-D5W+rM4GAtYH6wteeO-W2rvOf69gQBtfV-rFo9am1RGubUPonVdq94iwTTi0TUFN0QkAMqYAABBcAOAEJaJLCqkAAAPKUsRlKIdDVhpw14bCNxGmUAWpQ1FrXxSGwDWulBKeJSQLIfjq6kXRPrkFba3oJBsbWGSYN5S-tb0FyieAf1UymUOhqGXpLEo0m1Jekpo2RSVJfgBjeJvyUsaUUbG4tDqtyLF04sxzbXMPilHu1jN7AsWiKEM1lABerImdGZs43DwRilm0aE314C2bHUbCezbWv9JsU0oVmxkDZpM3xovNlFfgn5tGiBaSFFwELV7BGLhaygrm9zWRU83L5NKZoTQNki1gQrjNUWmAalvYH58OeXPAOJFtECywu5U0lfCO2oDHNKAGU5zQltZWwqH+bFBrQFra32pJ52lXkQt0s11b1FoiXcB1sMyEB-N9qGaYKohUWaatEW4bdbn+xh4tVso1JOmtJDPdeqk21Hr+T62sAPmvCZQLVoynxac2TWrUS1v03Hbfsl2z2rlkIkKdFReIkhKsPVGnhNtUi+omiku3CSDtLm+wTCq1GkRZgr4vzf1tTxgIftCW77XQDG1RVAcHuJbUpAoSra3uPkN7Sd1-Ig7dt2S0tOlvnzxdTtpouZXSLYlMi-ap4ZFXDs2D7C0dsSXHZ+zlWxJY+1i1qiRNCVkTDRZ44oAtrvwhKrM7OuNeGJwh4QdgWxQHTMAR1I7AgZID7htqZVba-CDADLakD217EJl-7S5HVK7l8kj+dbBtlMkjzM0BYiUioIVtr4UYQ8aQ5dcpEhjwr2J3iVyBTvjBcA3ggQCWDZDcBgwF2lyfGqbsL5hYB0VXKKmkP-nIVdBljL4WzXbAoTUJROevKTjkhSVUGNOdah9iF0zBSQvurnuLAB6hdiJeMUicuonpxURdzMZnhLouirbM9RfNjLLpBzgr5doAKvbIR4rgTKc6CWSPQxlAABOcwPtvSj0NC9rIvvVQxmzciWAf0DlH4RVkwF3aagL1b9IH5ZAu1WkTSSrN6B0NqG3AVbqtx8hoA99u6kYUnNxkIiO9m+zUQ0M2Ab7R9jwwjEaMIgcpSaNAWKM8kZla1JAV+5dePvhjtkYQj6K-XMKOCsL2FbuuuA2oJ3srpBCOivVLrW0sLqGwB2va5lSAM6OucBthQGTYEPqM+DOlCCV0CAdgHA5MGuEiw5WgA9gMoV3l3waXCdcDnUWjqYAB6JRkI8KaQEQdhagBjO-KSsY3RVlX6yQMUWKBnzIOo8J1dB1vBo09Yng+DKPd7XsG1CTEj9EkZCBGvAHMBv15oOQyrIA3Pqihr69ARGotyaHKazBwg4HXYOcGa4-leyGvqkB8HSQAh+uoWsfXQDxDAhhKAob+nT1RhswOww4Zpxnc+gUE6DH4ZigH6T9-e6hoXtRXE7EV5O9ugoxOoyH5VJ493aAi90Sw9gTE1TVHskjRNcMWy+-PXtkPCpWdfOwvVsW4TL8H1YtEIHQGCjwxWAnUbKSwXIOEhKD9vIwDQcaOBB6DjB9tSwRMq-Ead8Eko-nrZ3lH3xmmy7vGkGPwjSQQULxDuK0DJj+ABkHCM1xK6ccij8q1I57qwyZG9Osx7I2HvcL5Hq2cgUAGRuw24b8NRGjJW+NGDY6ZyfypjXUWhVOjpBJSmpeUs2VmcxlLamPoWumUwpzx3S6cEhPOgOaulE0Vpa8dFB9LphVxijbceI2jKJo4ywE3RuBOVLUKa632LgYfRTr-iFSxQKTTW2Frt1vsW9NgYhWrdkB3AMBQAB0sAH69FY7h8y4B2gM0UXTo3ybWh3wO+7SCwaIPX0sANJnxXSbokMnUJzJ1k3tK1gcmuT1EC8PgA7Ck1Tg4lVU6AAABeCrUAMyZmBpsIc-OJUzkdOC6n+TjEQU6SGFOB1RTZEPAPwVqP1GLwdJtkwqchycnyuLjMbhg1WMFpeqxAXqi9xMCrcwQNgcU+9rdPynjTXpmaAE19PGN-T2kdwIGeDMA9rTCUIAA')">let THE_ASSERTIONS = null;

function fetch_assertions(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_assertions(pattern)
        : get_all_assertions;
}
function get_all_assertions() {
    return THE_ASSERTIONS;
}
function get_indexed_assertions(pattern) {
    return get_stream(index_key_of(pattern), "assertion-stream");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p32' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Get-stream</kbd></span>
	<span style="color:blue">The function <kbd>get_stream</kbd>
	</span>
      
      looks up a stream in the table and returns an empty stream if nothing is
      stored there.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (get-stream key1 key2)
  (let ((s (get key1 key2)))
    (if s s the-empty-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNA8QuFE3OIFCqGIfRcgUQh6GIOhKG4Gac14i8EjdUUQS0Cgsgmqaalmv1plKdaXMbFCxu26a9uk5pRTocgFDOxQdpmyh9pk-LCAYQxfAUFh8BOqijG+37G3wGQ0juh7Joul75roRarvdVINEIEFuVRcbHuh16ilKZG2F8fRhvzUb9CanLiAAD0IQI3GcDGod2mGWjh6w0PQ2cQNBhhTsMfRyFIMQGEp6niFpo16aevbYcW2woOu1IssoYIGAmlhqmyugJax6TSiJ9cScV5XVfV2KlYYPHqDRunzsZ1nmfh-15ZV+g2NRTotdtnWWjXZ2RGoN2tsxxnpex1ZEYYNg7pYYRyCFqmacMa2g+e0PYlKRLiAYMnNcjn6Y4YRcKHujbPqBv7eZtlO2Z0hpc+j2PfuEAnK6l+3U7DcPjHaGblEhyWXq9vXPraAtHDGrvR97z7mC0e7Zor5O9rthb29AJ3iEmyhcQ+Ua57BFuB-9QMPzVWoEdFdgPC8D2U8Hn3L+Ua+D5D8-UkC6fd+em-LqP72fnfnes8v7Pzbq-c2tMxB0D3t-Q+BpdY+3NNQSB0CQErywHLcO2cGAVGUJHSq9AYHWFwqAdBMR4HEy0KTS4sUcH7nwL7Hes1sEmEDgzKuoDHbh1ofzDWhC74-G4fgzWqCWYIxMsEGBFlrK2Qci4L6s1yAUw8l5PWHQtCFQitnQQhAUYE2RNwfmYgwhFndMKN8qRqbUAUP7agOZM7ZyoXQX8CpAraN0QXUgVibF2KztQum+jBACzCDRfChFTHtmdlDcovjBoEORM4ho54aYZDKqokmWDG56IcKzQyNdKZaBEELOGcF6DQNyTXRMficqFwhhtXm8Tq4VNDIYwwjSmkGiwQtEpUCv7xOfIUVxop36nVGDSNgsDQylGGVRX2BSwTJPGavWIzROwamWKEk8CpxHTgCVZGydlHKNSqS4LeJBlFuPxoVWI5xNHHOBKCBgXMeaEypq0tuJiYiuJuNiQxgIAB8f99aUMMSHearynS3NiS4IebxXbOHdiIxaHzBmpEoKQfgqgCZpMobCmx9AfgizYmjPuWMQ5LPIUCh6fsA4MJHsAxeTM0GhmMiNHFLs8W3UbJ0Dat0aB2MISHcKA1kyAuHt3MeRhKAKEoG8leHzXyig3pobedKJUfGlRMD5Az+JulWX5DZ-wFWpEjh8D+QDZqSo1QkviK1oWsrGlUUgprAEby-uqmVrMV76uPEREM55HXOqlSBU6jJDLYodXBQNn8LXurCJwL1IYjUMGmeuCNTqQLuu5lRa1-pXEBozUGrNqa-Lxh9Vqm1Akh4Tx7mNcpnzRYFujTKy1Hr40sxLdc8kNzhUsQ5o8sGDhEGQKlLde6xjiJfI0PoUd8UAVQkHRA9UcJuAzuCWcHtblDDckYPgfgzDcE8NRAvNhe15VmNFNWiVB8c0UmKtSINLUgSXqni6vex7+6HhdDq5IqQlVbzFZPceD6lklFAOkTIda1g6JmoMLdQhHl7sERrepkbG3mrBLGzcdaDRwZ3Yhlhh7mr6Gw32DOAGa2jLQ66+eLaJj9MYmW4i2rbVcII0IvhfZDqgn0Eh2KX0fp-UISB5o4G2D6vXVgLRQ8H5PwZSHD555MmMhkwwTJhC-Lnj3I+6k26EMgV40RzJn6VB3oXYnYdoRGR9q5mZpBX4tPGdceG-QmSwUFOEEUnM3ToFabae0mutmLNvJI-5hoK8IUbvMEPABM9qP7zk+8id37BK3EzimgsxHoLOffsLBOScT2MpZhFyTdyh5Dp6RaxFS0TPvAECGoEznyt7yLQWOOIsxbCIZcvdt5JyulwE-9VNfNF3Nf48DAVuYqKCoCsl06QqStQtFQZghVWPl9bG39FrY1luMA26wj93AQthftTxtjGstttbyytrrfnQuxHC35VxeqJN4Gzi1OQigIAwHgEgVAfU0DEkiz+iO-tjqEORclm6vAfpkHB6AAAPvDxSF60XVDEHDxHyPUi-T+v0TrBXwiY5fKkUTcOYhE-9O+Cop9BjXqFVoo6m0tvg4iIUGbLGD7za0aKZgYgJAeY5pI9kfR7hiGqyiguS5r2gAAGQy96P0WnXWVJAkoCL3nXO7k3Qhiz9nAkefkD57UEHc4QHghnRooH1Iy4gzBjO3XzGBJzH0BGa9xXudIxG-SgnEOWMG6NwL7jZumvPUt1okPTC9sO9iK453EY491iE-yc44evdMNOpd0Widrs+6SyxhPtpXddeT1b0UO3o-1r96iw3-OTfxYKxZEsQh9NndRPCBHSPiei9r4Ls3eZPEOn3XgjW7eKcGn9z3oPCXwRYJ22Hu5O3+vjel3+WPiuXeJ4L-trGkwItaMXxn3LWf8sfpMWvkYEYi8E5LwtkVa0o75yPx1ivEveeT9N9Puuj-47H-oPPxbX+scNSxcZAS+5cL+yW3ygMA2-a4M903AW+Se9OdygBqm+ATcEB+e6+l+iebu7uWub836ZqcWmB+u1eAedeQu4IMWTa-+IqOWP+z+K+yw5+gwV+H6+Bi2oouKAcFey0ZB3exuve0+PB8KjYT+2edAo+nelO5B7+9e-cje7KNKr6oee+dyoh+KjYhKlsJMzBMeyWfagQMgQueI6hi2mhnKtK4qChWMZ+hhDyxhQupIyBFhyhYh5s4yZAvKtiJKts9hLGRhlQQuOgnBd+qQz6QG0qS0r+NeQh3G7qFkkRdBLEZGkRtGMRDhc44IyR3AmGrhIqkRxBb6LazwsQLByWiB7qJeWi+axRbqwGARTu6++R66WiNMVGJRmGTRbomEwGBRLEiqm8Kq4qvcGRPRwOpOrRKeBBEc6wnRDRVqEx4cpOfRVqYRgx2OXIsmueeuq0ch8RH+DeokMmKRbkKmam+hBhWBF+uBxemuXBSMOiqMvCVx-B+xghgeRxihokFsVsf+5hIqnSjBkhpBboiBbuAxbkhimeHW76dhq+lR2Bie7BO+xWr2xy72bUX2nUv2PUlgpeqK6KauBMFM4ukO2OckHAQg+gZJJCkyoAFMikxkpApktJFkOO1J0KVMJgWgwgAQJgxAvhwgjQlut+qRqWMSyY+gwBkgZAbyrmiWexaI3G4I500S2c4It2MEPCIBTq3AipCaMxjxkSU0GpxypM5JVenxlBMgShUShSmpgJLEWCspdSlpvuAkQRJhdpoAZhUJ5gGS6BeiVpXpjhwRvpLhbRdynSxS8gFWYIMgoZbo3ppM3AoRDxIqZG6WVKcyyZKp2ROZWpNWeZAZwOOZ+gp0+Z4cb+hxYIp0FkRZzpbkOZsyX8VZnp4JyJtoVZGxQ0jgXwicdAgsXS8Z0CcqeeAkEYRp4pbkdRcgOuE5ypCuIwM554aumcf6uIo5pSz0jIomJws51wkpC5900BwMbyPM1ZCE555clEqaa6xpQJRcmce29SL5ZR5RjuXZIwp51E0Zi2f5W275EMn5MQy5EYf5fZUWFM7mnm3mbqNul5nQCp6wm5LMnZaIM0Ygaut5uo4QwkQIHAw5uFa4SwDJN5ZGf5eFyF+FBpaFnmSyzQxFOFqgNF4QAAPMCNhaRShSBrpC0KyRIuCAACpyQpZ0C+CBJiDQ7PQtQ0jPHUC1DNDgigAADU9JTSHwniw5QoBMb54QGlxZqlGlR2MQ2laOellZfF-FLJbJol4lMgxA9k0lsl881IWIKMSlIpok6lmlFSFlulMg+lSFhlokFkflZl96OlYgVlZFN+DOckEkYBg2GWe28mxEUmcMEcck2IS5KwWiuGNF9546hkEuUxoVR2us2V6I2IUVMQPcg5aO8FY5X84WR2zQe2KuK5sGlV7Ssw6+8VUVnV26G+D4oV1oPZNlHaeEiaZiC03VG5QswxLVu5p6TG0w2yeFUidAv05QYGEMVyR4BEmyfY-qL5jI85L5hMPWfYriRVQFb5pMH52p0EQFzyUFxm8YXay5C0OVRAN1i0mZLE62NuzO6Vk2bAGV5IWVOY-1eVGFG1MQhVo1b5JV1WKw5VGQYEfV0E1VcNtVmWFSjV+AQ5I5cZa1YI7V6EnVNu3VzuBlIWpQpEzuZF95-FSkRVmEE194WQ8VX11y-lRQr4C1hFwum5K1O5CZGNm1Ql04ENeye1IgB1905yEeWkAteEjGhk51EMl1qGWc11Cad1yWD1L5KVIF90OSd271VEltjoM1-k31350KNVuVgN6JsgmJrUn2HUP23U-22AR5wOli1ifK9iFp8SyxE+dZjiFkod3ixAZx5gCd4dDAViKMcWvCUdiJNxbBiefS8254qdvhUpR6Vm3Gzogu4IcwxZsQcwE41ttcqpHIddMQHIjdfm1dCEbdk4cEndVdqpHMvdHMA90w1dUOmQxZk9bA-oTdRQ1dwUKM5AvgxZS9kcUlBo89hQ1d2ybd2yfY29sQ1dNwau5sLAhgWpp9qg59LUKwR9MQ1dalvdsQ7JoAvgBFAKSiGlm9D99y2R7kL9MQb9H9-yjJHk79MQf91dy60wIDn94DkIkDoA0DqpwAQDBgFM3AoDAIX9oAYAv9XdqpAApBg-A2A0osQ8g6g9kYRS-eQ7g+A2LR-UQ9kQAITCT0NYPv0INKIcNAgsOD3ZEcVkPcM4N4NcUxCCPj2qkcUAhAMMMSNAg8OsNgjgh-KiPYO8OgAApSM0NqN-LyPcBFCKPgOGN6OqMQhsMYPgOFCMMxBsOxBknOhOjF2eJh2l1YJvmAghhQFzDcAl0+JvauN3qBMR1QqPIsAABWvJj6vjU6yIYD3d7jidxZiBfSf9RQYTZdzUToRUtWPAKTadTe7lRF3G1dqyxZqymTd2-9ajkAdAao-sq9xjDTTTW8NTd2J9VAN9sAkAbd19DAfTnToW3TZ9AAor3YM+MyM-5tXQAHLkDzMYOLPzMc01whMFPZMlMZpIU+MrBQHKBgPO7KB2zbPFTN5rpuNeLFMXPp5237PTCHPHPdlbSbiFM3Ol07NrrB0XK4jZMOIBKGIczVl4y4jVBigfikD4zNVRPkB5hbqeKaBE3bjZMZ0cB7zZ3ZKvUNDAuggIhFASaFX8QfRS3QLVn5IwarUJkot9jIwwYylFOePHIW2Hb+bnO1bN4W2zOxD0siCMufNBMsv4DROxNsvtIcuMLBp208vt0i5bnUt7zFYcACBLViBfAsA-Bkt7lPokuKtfx5MYlQpYm+3fZdR-aYBW5vBorkCmAMDdwfBVQ3CkDXz97UBPiYUrHQ4sCw6IFutPiTAhgDW3GF6J7+t-C75+XggMAmXRWWXBVDCvPWUD4RuBsrDNB+v8zuuptlkmYKA3DDw1J8mSoxWlUu2CDKDKDQ4ZAkxGAGKVsIMtQaV8yVvdXgiqWlDttrzhW+UaW2unM4uhjtt5Go7DmPm-MOCFzGAlto4GJBJzuCyTv8zGDPD-jLmBViBRsQh+UTQFvGBFtShQEwlLtOpcDSWapGXWDgi5snvGBMBkAKB8wCzVkz1Pti5BuiSibaTTBOyC6GLhBy7STmJpDY1jVZD-uE7w49Vgdvtyj8OiTFDwgfuJsjD-ttuIeKSlDWsUB2sOuxTOvXz-vMkRJ-G8JoeAcTja5nnAntagkQfkqiTbsaW3uZwbSPvO4tKwdyimUTiqWxt7awH240dXaawQeRW8e9tlB0BTuscPsof522icf0eGW5LwjfsGgrLSfLtjRiSgjFkgpScyf3ukA8SpxOw3lEcBiGfacQg93cCC4cfPuTXgfPt2wsfGc8QhhOwbuwcfvggADksbvyRlgXXncbQVBM-7N7Wnp79rBYpABM3cCXL7JOoH90MO04zuSX0jtT1dQgwgxlwQxldkWkFk5oaYxl6KHA8IabB01np78n+g2XdsEYzX3A7nbHZn9X07WX8XLDvNTXfXbnMXd7zXwNbkcLCLygSL0rqaHiHgWeLyhAKX5sil-xmswsqcXG2RpHbe3Awnv+G3VMsrKW2Ik36w031AmgF21MC3bgC7vMm3tXRkKxi5x3H71diHeRYNXM9uT3YXws435g2X83vcbgS31WSau3dMT35a-qLLXVQIIYAnv3OuB3z+T3Habjd3xgHmLSjIUBIPt3YPbynHmPLiyWXjdNYt4IPdH7N5zuxPWexuLSdsiBTPbgLPQSu+YXVPA2bbw99P8gJPXPRivPCP1Pqk53iLV3s3BY6nOMfdOyEvA2g7sQUB0vl313GeHPpPQSEPz3SkN5fPwMATwvzPeP3P3qJ1hq56JOb3y3Mtrin3xZKPduDv9GBq5aTmVM4mkKIqpyY0m3nrooN5m3H7zu4f6bglbJwsO1MihyEhbkgfydLg1rclEPIfFiS4UfdX05730fW1cfok0iBy3JtHbk6f88YpqeGkps9CPr5swgFQgwwfk5vRvgJAmfNP5XdUubAwePnPmkVUambfy5Jz9Acyj3x30FLgZGasfsw5yb2bHA95G4nrN54bq-kNG4ubC-bEw5WaKbjw+-aO1Zzup-w5zZ5gl-gsIyt-1ZEYD-e-1QB-gsEL1FW-Z7UFnrVYngX-+3D8rm0pb8sABO-b-h+Q35Lh5+r-NHMv1HDgC7YUFIHsDn7yZ92+wOWsl8SppUwLIiHWfu6E5azR3WlCYvn+Xa67Vd0hSfvAwHUAiAOApAarFolyCEAsUx3ctDECTRoDYeSNW9AU1v7KZYBh-D-kbVwGtRQKjtctlTk-BSgH+VVKTkrQ8w0C6BwgBgUt0AGgUOqJmVgS5iEF38AYD-TWgxht7hJgOYfGfhwKKCuIbyLAgmJHxn7cBbBMHJ7kYK968Dy2gPEMAxAYiuInBm3FAdFX6AKBVuJAQpBUA3pdg2Q4QlesbkMCkgs+IHTIEYDMIftohvgWIcSCeBhcGeLRMwmr2AaNs0UQQkIVSzSFdgihd0MiIYDyH1V2kZQjzHEJqJa5ZoZAakj4nqHJDuA9Qz6PEIwFeskh1QrbqxAIgxCGhmQrrjkJGCDD8hBgBBtUA2htDM4HQ7oXEKeAzD-QTwMBtpWKGYQzCCVO5NsMqEyBI4UqBJg4DyLVljhVAApNPECB3QS2xQqAgEgmC5srhlAG4YcMfafCVuUxCoZ5ys6iYwu8w1of0HaEjD0hgwQyAzT+GzNNhjDN4R8L+EPDKhfRO4aZwIEgCPMQoBhKCHbJZsEBMcOaOIKtoKY70AgoELf3TqMBP++IiCMSP-JSCOwJ8L0LoMX7vsGSmI+AXSMJEaCraxHDiDygYCn0uIlI+-noLtg8j6RBAgUd4SFFUAuIHELoVQF5GFg+hf5NtjIDrC1BVKfnTUXsG1EA92g7sRUaxCoDhAP26o8CtH1FBoCOI5oqzpiPTpgxKQuIi1CaMlFQUgR2fOCDKTNGy55cofJcISKGEyikgcoziGxQjB2j1hKwCMMGJjHTBQxjAYUWxUZ5miExTSZ3PGNqFvUPyXXGfFqIK4BCyaKrHKJ8NpLXklw3DOEQClEwEC1AJgLwObEYC990YrY5wNwCJ7KjQAIPH-sRHPApjk0osFJIyCTHhiuIXYoke2PoDitamfYXsUAOXKDiFkGUVSHqI4AFcP2gI6PiWMkBlikRy44cYsgCG8A72r-SmL6JegJCfOaYl6AQPPEUwGARIUGJeOqznhugjIW8Y5gpJH8cQ4QTtoh27bdB5sKrUACJQAAS4zBgAAEFwA4AcZgACURKkAAAPLzNkAQIA8lbicoRjwEdfIjEmJVHVlTxmcB8ZeJ5RDD0oVIioBTBZ5D8j05E7wl1yomdAuU9E5qLmxYmZA8JaYIjNWQglQTYJ8EpCahPQmcSBwD4uifhPFhJjqyVE8sQ+KfFZgXxsksruxPoDuRPhNfGMq-x4nD8ZJ1w7wkRM9afCs4JwqAuUkJHQ5-kJGBsY-GbF6T0YVk8yJOHeFGSpR+QnCWoEckETDJSQIicq0kBxAMgmcXIA4A2iMgAADIeS0Q1B7IyaEKSEJeKxRqAgwcXIlLCktDSAjIKrqFKoERSNKeIR7MllynOxwpZAXNmRjilH8V+Y0MAaVOh45RUplYn0eCC+5K9sgiUxqYwFSnOcuR2EAgYEBnQ1SHQqQaoJ1ObCkiCmDUtbudlSn7lnKCUjgElN0IpS0pfkLREUMzj2ROg18MfpjR-HcD2BhkdOJKWqlf91BwU5ad1PTq+hDI5nHPgXwopLgtpDAHaWwGvj2DHeGY16e9Ovj59HewmFoL7x+rltfpu0iaf+X94sQKgoQ0II8iO6EBKIx-CAaBQ+SbTAg20iGaqLmoRJuBN6VsPNSNF81aR2-R0JYIOksY0UBYSQYLRMHuDiwZIwQWyKpGG1FyRE2mV+mtKrIXM6zKzpqMIi1DwwmMt6RDNFEGD6MsYdBG4LKo-iw+9ovGuyBFl-TGu5MxHErOIBYyPpzgw3n2GaACzjAjtbwRBWVnYzjuAQx0diKmi0w-g-Us9muGMn9iyReg5mW-1Zk0iUZHM8kK+EcbSCacrIt-gTOuICQHAelccWxXFlDYH+s42pg7KlFHAhaXvLgfzGspsBfw-mPAJCCzl+pnZbI12c1REE6445yAkMK4l9lMjqcLIuQYrNDnBVw5dsjMf6EjkZZo5OYooJ6OgjGRYKDLMAcXMXGloTBr4WGTBgViaw45YAz6pEHwZgAs5kIUuclgLH6iixXabWpTMrTdzQBpM+2Z0C9nfVoZbkWubiBTEykFwd4PscuXVE091xBoqzovI3EK8w4I8Y0afKGF-kvRv4wgGYSFqgZLZYMa2YnFtmfyAmZ8j8u-NtHxCP2v8guKTQAWPBCAd4IBVKJiCZzs51o70fBC-ly5w4N5eBUMMPn1yoxNQ-zFGNJCNyYg+C4+YzyIVzjpgjPUhW3I6R5iwud87UQEKGQhThs0kpxAkKwGUFpxdARsiFNT41ZcEp4umLlPP5JsJF1-FwKVLUwSKEhqxFEonmkVDC8ubAHab4CJLy8uuiBCMKooCFgtzYS0saLlM7F9dJcbk-yT2IsXnzDQBTXBHjhMU5SZoEMEaX8DGmawJFGmUzHQDDkrjQ0E4ChfKLYqTieUZC+xaItBKOL4MEiiJbEAXESDly+CgJVfMLEPy04YGbGgD3tRxcyABMORcGXGhckTFJ3akGjlLG7YkRKSo8XeJAlBSBJDABCZZAAAy4zDCVksyAxSYykgbyblN5iESkFfQkidRIvGySP2VEySR5n6WMSkgzEgcKxJMW8wZF4gBZdxJmX8TIJTS1pe0vEkgQplSy2Zdwr6GmS+WkI7cPJKRGKTnxJhVSW3OoIhTNJfw+EPkMuVoiIQ7Uh5RwCeVoiauhi54riBmWDK7Fwct0KZLeEWTtwuUsBiRiMWxxcpkMgJn5IEUeTykXkm+kCuRUBTix6LTONl0G75LLF4S+kbcKCHVlwV5kqdCGEvkApDIpy6DGEPBFShsMaoQflwt5hhL3JUFdYTWL+aHLOV1iz6rdkeowiLZuS-FdlxVGkq7ob4u9K0ESZAh0oLuTvmNDa6iRw0eShLkdUrwCEeZ8q7JJh3KWTRlpEqvrlKu+HEd9VnWFoTRjVUiq0R94zxTRIdCvjrxo7dHF+Mg7hw0Bnq4sUrECA+SmpPUj8BTE4W8T6AkPO3qMopgur+FQcmIO+L8CMhrlykkwnGsdrngq2rJZ6IGqqVojHmNcN5UEJxBqSuFPyoIdqqyb8AS1vxdSXQHLV3QtShkCznWu4C8qs1Q0kCPwulWmdreYSYiN2kKr+q0siUiFmRIUVOytmyKxkG8CiXiKQpxmJNA+JdWySZaCau9B+KBAprcQKk5FUYMzWJBO1JintQWp0hFr7h3QQRd8q0lGDSoNar5cQAbUKAm1fYG8mYtmFgMO1Oa0qd8OMwyy95VuAfseuVj8Kw1+k45cuXYWPA4138zJUBoRVxqwuQG0DemoAoipkNdasDaiGqwfBggmcbtWOpDVYbnAxmKKGwDZXhr3gjIRpUJMQnIS0J4APyDRrgl0bRJHSltVwrbUIM-oFG8DWunLbggMQ17NDSDWb4mLIZOG4dcesI00SJNPigpjxqWXUatlzStpYxvJCNLVN7S0cUuHfW8rFN-S78SxkE1eBhN+88wEMWVS+womFpYWGW1BWTFQOdmlZXUTeA2aUQS3ezTqp-Kt9wUubDotZuoTT9CAXm94ickTzObc2lm-9MFHc3SlnNiipzX5pE1zkDasW6hJ5skWrlktT5FiAFvS0ohgtoW1xADPHaxTiAYgUaB5nxUJa+hX0srXck14zdTS0MTLVPK-IOboOkWolhoXoBRN8A40tzUFvNUwiEhCrIbVCgxh0A4tHqC0ebU+Fhc3NA2rxQ2kC2FaptM2uNCFg1X4rXNfWjLRNtMBbbiE7Se1WSuKx3rwQ+XYyjtr67Fklt1QPJvvhSD9bxpBWo7SNodVjaVq72pyS9qC1DDtxP7QgQsNBFLCmV5yicLdvyWkw0t-2jzb9rjQkrvhkEBoLyti3LbKM2CeHUdp4w47W0pCCpGdplURZLtRXCyNDq1VdCXty2p7XchqCVbgU87ZHaNpOV-CzJVASFROBpWE7pgr7SnQTAZ1VbNVkXbnvEp0i7ilYea4tZ9VlhwJylw5SpT2ueqaD-wgEETNjVR3tz5toq9dJdpK43bxVd2ldBVtGh07FslMEwPwCD7sC+hzmYvmqw1ZasKa0tAIU1tl7M4Wkn2slUWHurs6IVVK0MDztDCW6q2lCdSMwGIEkwoq7u67gfDfZI7yBUVSsvt0-q1CtqOYGObUz2QJ8XAHESbNlM8i9t0EauooOCFj1y8k6PPBkpLv3HvKO5nCUTDi2J08QhUl2ivVtkN0UI8Vxu0AB3qrKHkBxiibHSFA3qMgAAnCcGe2j6V6yu0LdPuXrbx2doOeWkSIg2EyIkvw+NcYLCSvgXAYtSKWuqKDr0V6+gfzv5wshoAr9lagef2sMgn67BLROpffvYgb0e16dDaMiOCF9E7YLgLyP6S8GgzYgD+9-SvrrYpZHxD+ggZ0E0XaKxodmPDd7plWesW9be6tVdo0Ur04DXeylCLv06YGtFTAdFP+V+a68Rdb4aTvwFXBkBfoicDplNKpCtBGQRPc3uDxk4UHSoUbI4H8u9lmI7EpAWg801ADwcci+o2aO3l4EP6IQnkLyLrxsX5LCBnB5RIAwJYhgpD7nCVccB30ngGIr4btWbEb4D8pQrQbffBsSkgbMNGGrhWgQwImGjBr4fg4Ia3jCHVIicYihrQpnAHX9p+8EDIaL38LBAzfWoMoZkO+RtDREbwavOmBSHfDfhryNlwvBjIZUIR0I0YJAPli6V7OrnduGD0VINDfXWlk0gj3N4SBqqlUW2sz2NQEGMsdYQLqa55EKle46XfcLrG74-e2Eg2kIEMD2RYc1QUqLKoKZMGgQLBnHr6Ia59H+AXBng-YqpB-ltMdR1oA0cV1NHldrR4qdaVJxzGhh5ufAClgjFo5TRzAKSP+E05Gd8VxRqPZQkWPQctjFR1PWAxlgBDz1j7boGyG6C9DyQ54bTEqteOZhfAUZRkZC0rlfhjEpQUTN20MDzYyD+K-zq2P0A0KAAOlgAQ0MqPMZsGQMEEfZN736WjOUNBAv2iRHDpNKvScGhMFHYT9E+E3OKRMom4ZTAehBiZM6+ifRvAVcHbB6A3lWToAAAF7vNQASJooGcvpNZxMTKenEzycjY1wCT4IIk8YEKhQRJMnR94D0enCwnUTwpxk4+zEb2dVS5AYyiwGMrKBjKBXSYP5ydB4AyTMOtU3SfROintTdTCEHqY5KGnjTNXaU75CAA')">function get_stream(key1, key2) {
    const s = get(key1, key2);
    return is_undefined(s) ? null : s;
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p33' class='permalink'></a><p>
      Rules are stored similarly, using the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the rule conclusion.  Rule conclusions are arbitrary patterns, however,
      so they differ from assertions in that they can contain variables.
      A pattern whose
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      can match rules whose conclusions start with a
      variable as well as rules whose conclusions have the same
      
	<span style="color:green"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      Thus, when fetching rules that might match a pattern whose
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      we fetch all rules whose conclusions start with a
      variable as well as those whose conclusions have the same
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      as the pattern.  For this purpose we store all rules whose conclusions
      start with a variable in a separate stream in our table, indexed by the
      
	<span style="color:green">symbol <kbd>?</kbd>.</span>
	<span style="color:blue">string <kbd>"?"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-RULES the-empty-stream)

(define (fetch-rules pattern frame)
  (if (use-index? pattern)
      (get-indexed-rules pattern)
      (get-all-rules)))

(define (get-all-rules) THE-RULES)

(define (get-indexed-rules pattern)
  (stream-append
   (get-stream (index-key-of pattern) 'rule-stream)
   (get-stream '? 'rule-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCyyiYRA4K0Ia2yEs1JjEKMesnkikWJtWbB1mwsu08jBtXykIvRIJl-Cqcr5-KVKvFkoRWrpvr6DsGRqWpvNIM+8dmC2Nyxdtszkh2gOBb0mcdmVl6lakDPKSlFDhJfJ5oDDfgAbkd8FqfZt-UEo5qgyG-pyW8XVVjPDjvNr85I9QaVDnU4ZBzHrT144xSPCVWqNTGfPOC-5ldJVcT5Yqz+QL23QJ3PN2TMfT5mJwfp1a548PQwvTxLdfX7Pp3jYYdfmvcNQAnddcV-eNF24Q0VxdcZSw6Td8wASEeHc9zGeDvGPPD302AQ7yMKiHyfF833Igs4MtDc5zIyR-0A3tTwIicQQ7LstTdX1qwrFFRNAWs8jYZQBFIRJuFiIVNntAZQHifFNNAUlmVZXhSRPTYFl0tlDNmHYNK00lWEYaRSAMxiFhsxszM2HYHBiC9Yj8UkAFVCDqQhKAAdxoOwHCcCoAFootgmNaWE0AJNUx0ZLoOTEnMKwsFA8LHDrGc8UJGE4U1JFzFA8IgkJPLIpcMqdMoFk2QSnK0SCAJqtsex8ucQqyWcuzWrwSE6zCORVHUfRYnlFsTkFbjUVFAcZSq2beSaQVEpSpM0LNNcRAWYZRlAHY6Cy6wwCktFJJieIoDgRBkHQLk0H5CEyjyQ1PHIVJHDGNpYl4agGEIYRFp20BDWGWJ3AcbhAeBs0wZEUAAB80dcw01A0QhtERkGUckDGsZUdwmu8EIEbiJHQfBkmkKGEYAZpwnwakBnfVQlN0IJ5HhAu66mV+iLpzohhqaBtnul6FFIb5umLpGz6KkNNxNHCNgmB+tRJdpsGAT0eFNGUyRIcNSiLwVomADIbbOK49elgktNII31aVoWoaGfhYgl63weAhM1LV-gNbWbWrwDnzCF9hhWuyr26EaWHKGnShcCYWO-ad-nTeDx0Xm4CcA7nRPRq+lRgzochNEIP2wdzun8-NlR1c1yPdej7Tq9r+u6YT5XGR+PuG93ZPU5ZqW84h-pC8dici5L1m85MMErC93u67HphxaYLheFkKpnCbomg8hpflTGZfp+bsuPuHw0OGITx+F66hT8DuW56TduI51kk3dST9hCLuZ+r936EFpOjTGjNjYdwAZ-HynYNAxiYOAt+dVoGcy+KHcOWtEFAKFugt4ECsHryHmNDBkDVAp3JlPfWX8pAXwXlfS4Fwb6MLXhQr21C6q70EvvTgh8GDHw-qXbiLCOFsM4dLe+lDK7a19u4Ng-AhEiLEYQT+ptW7wP-lHFedMfKv1hqo9RR8a7UEHl7ExKi1ECEcH7P6tDJ50G0ZIn+6lkjZDoWnJgGcs5xz8JfFUpd742OUWY8mbBGjuOAlIwwE5ZGrwoQo1WKgdqTUEAwMecSHi6L-gQgxt8DbaUyWobJY9rEVwqJkg+FiT4SPiZ4kJDC5GexqUmEUMk6xHDyb0ApYcEHFMYT5bpv1nDYnqaIyxUCRA4N1G3IZ+iu6GNKcA6gPTJnTgqakKpPDOlLS2dQbEIiZLqlSP0s2niAFMFkLgJBoAuQHJVjQcZvTpz+n2N2RuTT8k3OJHc5Yjytrgi9u87ZTAjh-VjhQds-s1lMOuYmIkaggUPO7ukVJXtsbfNBsQCWahYhIoLr-ZZRTdZEtID5RgBx8XxxecPEqzBaU-IJdkUgxKugeJRYg0krL6Wkj8FSrogtDkCpICytwey6ZuKpTLSQ-yUWtI5cS8JhyVjSDRbsnJdNVWkG5c05VjsRWMrGkfce0rdVgzlZyg1OjPFwTtaKsFhzDQ5JSAqCV7LTU8pDkzUY+qXUbzdSoV+2qrW5N9Ua-1WdmbFzYaa7FoamBeBqHUK5yLY2FM7oAxFPk03EDqNU15oBC11FTZQGJmbSUO2kaExF8icVV14LwH6FzGmNr9Y6PBwzVklOpT3Vt7byFitLcQ6ZmjM0JITQ2gd6rS1v00OYmZzg3F-OYS01hKpkl32TaWw0KDuAHxbp43tKySQHx8nMQeaT6wcE4EwPkGcjAkqWuiE4Moi5yXLLWw9b95SHW0je06rYmhKyiJ0ugt04gQBgPAJAqA0CvS5A-MaDA6LZMeaDdsDqUXfRFv9bRZljKEexOLYjvodjQzjpRr4xkmp6RcfQgRz5CW+PTpnbOCL51+BwxmNy3soXDvIB28RjaSPBGHbEjDXYsMTuEQ08TvHdiEFwwxcityAnizcUuldmj12Nr42p+4ZFqMqFqqQdoTBAbuFYHVOjjwFiyefFhyz1nbP2YKlZ4TbbRMOdLsZ3DZlzM2c2RMk5bS86SZc2F9gEXY5RaMap4LVGhO2LMZO2ZjmjJeLhELVUkT7GYKcQ4ZjadDO8dcu+DLajomxMCylgT5khPep41wmLT5VB4sldkHrBKskyptdooQQXmszFCx60gXrI16tLpJvaawQtCfLTlrMuwuure7vx5bhpymzd+RJ30zmuv7cqXN-NTXdtV2PtvC787OvYi3v3Q7A6xtYDM0J4hfC6zaPYqAD78wNtycud90hrhKBxYqWDEhL9tHvbS0-UhmDfvzeO8D6cP3O1vau2ljy7RHl+QCkFUKoBk5g34JwUAMUMeHFSLeze0nuClD8Euw1DxkIWw0LECZ8KmAFdKNhWYkNkhtoVIfcgPO4XMAF0QVn0hNAuqkJxb0nOVAE2NPzzpzOiBC5mKBI+IwuoubpxLYh9WdeEFG9VxiuxOCpHYPvNTd5qC5Jt7bmsnSmAOLjn9NxguNMe8zGzwPQffQTudzEF7JJBeIQGWejJP9WPdgwuKTwwgbcLEyXvEUDuSSG-T+NwTi3XQPBV0BfM+OLws+0v5QKIUaBe2m-YansVReeEaK1ZX4I72ot3NpwSbiD50DG4tWtMJ2RLoJAAPlp1hpdY2+PCODWhvIsWIWRewyZ2e+G27SECDoGTmHLkb8S972Q5ysONf40Xp4c+T-hY+VDnreaVM7fjO5Y-CL4tP+hQ4WF5A8K8OTWHSpasWbWQao+Qcau+8QM023WdKvWSaY+m6KKJeiU5eUM+oKEYawYlq52jcyBQc8eKKJu8md4EaBBJIpqPg-GGBno3oxBfo7UkkFBlqxKyeRUAOmYZBoObBg21q1Bzqo2dBJ4MB2egkzO-BVKnBeuvokMmqEaHB4siUVYDBFemYkM4B-WEs7u1ylBQ2BqQaIhJmqh3eVYPeNigKASRAz25o3G7OJBakE+3A3GM+2k5Itht2+0NIfgDh+6w8dA6oLglAgQsOZCdYlWXCi0MBEBYSKBkgoEIqMobWAhY8UR0sZhWaPaKgU2XqOhxhehR0zMehOwouoMa4wR-iYRWOaIUhWq+Bhhxh1uYeUgQRIQ1RYCyOkCbiehBYzKCBbKEsFqaRsqzRceSU6hCRf6KgtRWiaO8YpGuscx5WSWKMt+3wx0ngGBlhhysWW2l2-Gi0oE9WMo5ala1apciUoEX40GhI7RIRNR3RdUbi9Wv6oEXhNcdcawdxfe-imcnxfc5otxv6WhX+3A9WS+DuWsOGLu0ek46oXooerRtugJ3xnQfgfRKJswN+oBw8sWZ2TR222+58niAxEhbG3AehvBwxSeWW2OXCY2AR6GXWz2uSxJuGxxLB4sMoNJ3AbJdMnB+m2W1+phKIz2qxnB-J3hO8E89CwB4sY220niKhuxYBXWcxW+nJQcEpcpfiFGKxepaxwgmJ2JfJKxe89JymjJWJ5EuJ38aBPM+0EGV0UGMG908GT0SGr06Qq+6Srg++bssSnAp6u+laac+gWiIZ3B6OnArk7k0gnk3AnABaFMkZdu9gZAawLQbwDAgBawWwDOhyAxBWPupWWqfgkJTWO+akfKGujuQsQqfRZZcgDgI+ZaVapwohIaB66urMmuAuoZ2a5KuazOYy-ZDZnSJaw8xCLZfuzOQ5joty9yY5TyZqeQ5unZC5NZS5gKK5uAfgoKPZM5XusJUeuSuAi5wsaK+5fgWKeJY05JSeFGuezcO515JIpIFJ3YQqS0ee65-p35Es4sV5QmOaiCipZSz5gk055q0FbGcWee3AIF75daiSbCIFzJa+JAmINceMTu7YcJuSRxpJKKE43Zveihu40QtGJFDpakRcFFoEbszAeRBFRFdMMoWx5gveJZji7GriAkbGjhqBaklsPiglj4g+AFje-Fqx-u-FCqiqTh88FwNFfsMlt0ccnBClccSlMZ2RNAE46lQkap+J9uFR7F55eqRp7ZT47Z7gwYrFJJ9FS5oMmgbsEl9C3KmkhI3geMnl9lGxQO4lfFtGtlQlXQlZTlBFwVoG-lHlOgXlFWIgAAPBiO5YFUcF0JnrsImQTqSAACpNReKECNDBAK74DpFk5sh+YFnaSgAADUBltuOMWgeosStlIgzVv5pITVLVjEbVeMHVyF2V9wBYCZSZRVJVuADAwUFVmgVVsqNVIm9VfVzVtpbR6g7VuAnVHG3KPVPk-Vm1kgQ1mgI1QVWFFQJkvAkpFGRpUBKIXsOG2sTU7IdFjwScwRyVSJUlXo+cdoCecagaXVm1zmamr1dgVJKJ+KuFWgVlrueqN+m1Z0HGLshIRcoNYezwjsQVJ1oGDxs6RE+1o2cUKol1WRSUYh2BOG6NsERsbFZ5iNZ81WVeP1Pk-k5MxooA3GXe7oUxTBswoEJlMoVF-O-Fx6YpmhnihNJl8lzOilyJtuctOmCtelv6FhmtoljoL1zI71Yp5ci63hd1khD1f1j19IexENetkt2pJ4X1VMEVf1Il8hQNWxP1OV5E4N7YkN7IJ1sNlAeFy6TN8JyN5EqNk8dNmNJNtpCwBERc9lQlcVgmhNcEJNEYYwFNJ4Ho1NWQtNvl9NrFcBCoIdY8ANmwbNZtROXNoQbhNOApYMfNFYAt1Wwt-Fot-BJlttGtKkMt31cttlatGlStjEKtg+Q9sYlNEkyUniutb13dLpkkbp0QsGD0CGz0yGGAfpSYEuUu+ZWurylueGw5+Co5NepIu9vODKY6w8l90uLAQM3gY8Dmgu3aNAKqseSsoEd9+9QsvxiC84fKLwv5UgLwBYLRswfKxYIDkgxY4DStfKlsMDt40g8DgDV4OkxIyDACaDmwfK0MzMv5BDJ0XwEDMwfKaUba-AnefglDr85VpDCDGDVeMDVemYZDvQfKMIbsUK7gdAQq3DOgvD0GjwHDUgfKjVyDUgyZfgjQIg+Is+VOzVDDYjkgfKUUUjkgMjoAcj7hVOsUKjTDusFImjWQKZOj8jijoA5IOjkgqjfeZIwApj2jujCjoAVOYAhj6DxjAApM4+Y641Yz47Y6APY3yr5VIy45Y+43TXI0Y5+QAISaSRMBPRNU5JOEhxPeOfmpX+OyNpOgDpWSBZN4MYOpX4iaNRN6OFOEgWPxNkjT55MWPVOz7FNhMYPT4VN+AzBVNuNU6dNtP1OkgJOmMxO9BuOSAJNSAhnzhgjf3c5X0H2MjyUEgnguEvB+A-185-1zMsFbMy5e6UDuAABWbwBqqzjwLhpQ7hiDCz0uv5H9uur41W+zSzkRYIbUy0-gdz+9ICNqMoiCfKJev5Je9j2JajGDkAhApov0NDkgULML02YL4LXDggQjsAkAMDgjTAGLyL2JqLPDAAosg9i4S3iyiXygAHL8CUumPUuUvJ1B67NfOvN-Pjz7UXObAuHEDuFFzECk2svtSgIurzOS6LNss6WcuzDcu8vboAyvjfNiv31ssuq97t7i4-PbPa415LoAKgXqssAuA5jSAd7w3HP8CdhBEaApDQ3vivOS5tqCEv264j2PC6vEhmAzBmVjQ7hsgI3wmgVcDQn+tu7vjlHsB8CasHOvLyWmlh6CvLSgLyXku9DhuGCvPEJHOnNkDtn42Kt7184Ss6YptSAsWwGeohvNxKzeBBBluaCYiOXTil2cX3H9C3XNuNwfOQavLQYr0emPSIaYBb29656OBkBMB0pqB9QwjSAZooLkAbioUEOwzwwqrzusS34431rXwYVvwLsITWg9VMDrVk7bXDW7XsLoXk17sbsng7Brs3sHs31jSAwwjdY+6pBrhnuK76vEDEBVUjBYbZCs5-vRPQbNX8l-t02kh9ULAwega9X9X8CgeusFgwfCrfsr5exEAOKMAcq4yaDy6K5EfJi4c9iiA4SuU0BnX9Wkhkj9WvtqKMAfvmguF6Y4dvyMBEd3C0dCCkjPt5AcdarMB-QzRLqgXENjDicnhwdbEOSCYEa6ziegB2xmQ4HA07sqjifzJoxoVE38kK7WgZPAa0gydZBFzKcF2kg3quQLCjvIe7iTsFQzsZrScf5Li+Yjq-bKeqcFg0Y5wKYaLZbadxVwf0fNVCeMCuAOAzQWcK66aGeHsDWPB9UntGn-GBIBenmKarofzafHVocNUReEBkfRfSCxdysGeK5VfcJNU260jydfA7CRcSyYNqC-kL6LCleifjUKcqDiVue5YtdkhIN+CIJxcmwZ01ek0tdldKR3utbfs1dmekgADkJ7U+PV63C3Z1I14nAnFQs3dK0gsSx3ujpFsa7tfsK7F4RcZ3JbBYfKIQbAvV7QvVQU9kPk1cjYvV++3gtIvX62w3d33YJ3pNE493fgs3PXC3wPjskPZNYwCPR3oPcjD5eQ5rlrxA1ru4e8h8NQMyx6wiEnLafmYmWiJ6ZnT3Im5Pv5gXSmFPxPqHMwLhmPwY2P5AKQQp+PBKVQ3HRPvAa8C3-nEslPTmDj1nv56XAS3GAvgPE2GZ6PFQZ35+BPVQcvMR2Bho7e-mv2J65dwtXuRpMoJ40vXGtG9PuXjPgvPd8zavjAWsbOMoLhKvPPMy-P+vZhChRvaNVnSDZn4l36MQvPDvUK8XpNKqbvVQEcbOQvjwOwxCxvVnACjXMwCwUfofbOC3ifvvVkbPVrnPuPMFAf54luyzD1ehrPFr7POP3Pwf7vC1Q+xP8v3w4lOfk8mz9f0fjv4f9BAEquWvPsOc+vKBkMfKN6wqHGGXsvnv4kLdwus9wiOxhtw8zeovxPS7-XpfYvuWjFxPC3bNV6texODeGZDPsEjQ9gsFeQr5w2J6m-3u2-+-4v5Fz-gmh-wiHNJ-pOVpby1Aee-DK6jQG+52Q+oPmOGFCjYAcBDA9-C7o6DX4a8rOIA+yAd2AFQCoU0fUAdQAuIyYN+cA9+o7Fv5GFZ+K-R8rCGYB2Z4seMUaqglxBCUXwqFcSuuzoF-UXwqAstKwBkj4VmBiISgVwJNioUi4fArQJpWEHcDJCYggQfgMR4QlOBIg9gZIMNbi1aMPA3wFpQ0qoVq4coVQX4BMqaUg2FRGgfuxIisC1BegxgaXwGKSCjBR4UwaTT0FK96w0OCgFhiP4mUoehAGulrBQRMAkg7AbwNIHzjgo7AuAwXtMRgJHoR+gtfXCwUkFnE5B+FVgMoOH6f91BplaWmGRLyyCqBJsMGosC8ECJpAvg57gEIF66DFKKNVELwFiSKCKMkgiYmoX754gYC4lKIdVkhjiU2g1Qy9nL1JpdDYkr-G3j3Q4jz94wWhJftnXEhUcqhoQoAae1kC+xfMllDgPQ3NB0AWwKw6hhHDoALRpBknbIM8jM6bDGg2w-kEiAW6B8TUzyZnr0CRDuEcY00JYY7mOFrCpoiwuCNcLzZh4XhWsHYQukfhgwHAlMPnD8IOG0MAIWw34bsOmH7D1hm7UAD8NUBnDb8OwS4RcDhE3DpG0TVgH9GBHMBQRiInYUiExGZg7hbjB4e8MTTPIm04qN4bEH5yvxOU3iGvC7VrS4BGRDuSaAsJmgUj6RVzOXGTn+FjR2RggTkbyPw7TQSeGnCUb7HhFbFhegIk1voBBEQiThhgarJjTpEpsyRs+EUaQDFF0iZR9Ip1NyLXiOC7cwbPUFDmJB6odBCIwQOUL0pckvmcQwkIoKSFd07RDgmEcuCdLmh6htnC0YYLtGqJB0eg+MmeH1H-4mA3DBSLUIkEJDJu9osMYpXNFyQYUMYwQApDki0MHRaQ0CiLSs64Ar4awPqit2LFAhSxB-A4H0hzHJiRAZnEWspT66FDX0DY8XgYMdxWj-QNoxuHWNDGOiNKwvLflRB-Qqd7YFsUvqGPhHpjoxsYpKhOB-QkjfQE4accuK+CzjFAmY+SElW-TGB1xrRIuGuK+Hvg9BKI7SBWO8AvdzRQdGttgPFHRlpB4lcxjqJ5rMw5hiQN4BWg6LICT4v46gH4Fd55iVe5goOKBHnFAo08XUTcS4HnHcAgJg6f8YQDjbgtMwIE1MdMIgkF5qoVkS8VWPF7yj4+ZOLQHeJcDiisJoiI3KkhragBCqAACUJZMAAAguAHACEsAASoVUgAAB5SlsgEJDcVt6kkOQIkAwG2RIir6GFIOPI7TD6AzATgVwEkn-54RVUQ1g+hj6YCJJME88apKODTgkJ50V1KWl0mjAxJjYNdHcOkH0TGJLEtiZxJ4l8T2BqkhSZwA0niSLJ2k1CqpPFEuSn0nIF9NpK+6aTnAUUXkUWXHScCzJWA0UEpMUDSTQKvIhkYIBcLu5QxVVGfFiU-FFooULgJCdwDSneRIxUk-MSSNmo7iopWk0Uf-ninUS5AMgEYMwDaBEA-oMoAAAw8UvYZoYKHcgameddefUcgIYBbi9SmpiomUH90amhExpzVLkMqRRQTSwszUhwOwIGJdTChxg4Co+xMELSde5PFgGwFAriVJemzUvjtJp78JBpU3VQWaO9Z5BZA3GdaTGBUCsBxgDU-OAbl6m7SLpEEASXNR6neA+pe0waeVCeqHIpozAYKEcAzSwCTwuiSIRv2qwLBVpf01QWUPqkAyvpBUQacnVCytC3+6OcSuDKYCQzPAGaPfjbwPGwNZAEMqGfp3144zFeUwlSkZWpnEzaZE0uYRwHsDsALM1vASLQJMGgTQZpaImSTOhnl0Fwg-VsbGGmK9BkI3yPpHaJlnRDAaZFffAwEpqNCuIKsvsLEPiE5ClBXdMwRhPIi6Ish7gRlujmLGAQvhRYVmWLOyH8CpSFs4YTMCsA4RMCOswykJlaHtj3wCwUWbTMYrWgMYsEe2bTPIot93O1sxgFPSZna0WZDAGmaTLl7mjOxWsK0cDGPi4gbBLAp8PFOdHohXRHAg2R6IlpeiTZUgZCFM25jOh9ojskQRLNrREAOq24uMYmOdmJjSaJ43oPnPzGmAWqmBCIQBifCbhWiNgckJPJPAnFEx+sp2WXJUFHB4plNSGDXN9F1z-RXcooosFblwSdBPc3oPGMpL1DKZ8YcMe+HcgWUI2dovud6K1kD8sgXMiorzNGqeB+ZG0mqWIFAATyp5qstSKSDwnXi5+TQ6YuMOhK5yTBt8yuRxFumHdCAu8rMUlV4AtheAMEIWczLSHQdAFqfO-AApLEvdqxhwMYMgs2aChGx-FYca2OQV+z1s6clgJnCzk1wc5JC-wGgoqFET-0F4VBTQrT5BiuxDCwOkwsRCoLNmLYcwd-LACTzyQlC8StQvHE+zS+3Cszi3N2ptyFxbCahafNLYaLBQWiyQCooVBwTv0nw1CY8G-S6KD5n1RSueLwWVigFpAxRBNOlLuTqAUo8CleCQk+QJp1-CoCKBfj0AT4HMwQZVw5maUFpFuIJXsIDSacYlr02cFHKBxPdPAkMxoHvh-LniVUfEN6TSMXTSYoU-04Yg1MAmo9H+UYuKaAHQlOiwJLBF+JGQKXjTQY2lVQc9K0QczriLBAxZBKNwm8CwnSuCQhKkk9y-Fz4EUpTBcAcy9FvQSpRpTmlqROl2ErBfgpwVSBiiowA-l-gnao84lFArcrUo6ITK+it4uQPeMNHzLKJheOYQawmluIYJBc6QYlL1EpTTwE09wliQNZqInFE0k6WUuQklT3cZU0Sdctim-KzxN4h1gDLO7wSSltytIVyMlGoUHljIp5ZsELGz5qsiUtNiQlWHqjyIpoR3sFLqIDLqpfy8iK+KuUNS3ERK8pWeJHoD0tRacjZZCrO7SS4VsowuUED2DXNCQa0BAQj1JA0lNlDgTvKCSBpZDOVuuQMTXEfrMAmVqPFlbyLio7BxV8xf-mMQR50rTR5ow0C5JjBtiH+Z1HoT+h05CYj0e44QHMLUDtBmASEpQS5OcXmTXFmvDzjqpzlIS5CMQr5p+kJC+Tn0DyN1ZTVAj-tEygpG1byKlaMRvJho-4D3AJWEBQpdIpujME6jyggpLiuNWFJuEDdY1fgV8UGvum7hQ1Wo39J7KmHHkfWVmWQAUttVLAeAkSlEN-SqmOhCQwygJR-DaUogYCLq4RY2qtxNzQIXqqGDWr8kKgApPa12YGoUD5qq1Ya-ECdUjXciU1ZSBqfGu5GJregya6NV+WXUZqXmp0opVkGiZ5rBSC0hVcWtGEwKHFFQAwFrAWnWY8pbqh-k4ofVmdr1BS+1dFPPGvr71sazSl+tjXvq6w+cS1ZWptVJC7V-q+tSwTTj4q01vxaycxNYkcSuJvE8AIlHg22SkNDk-iSgwA3OAc10TaDRVLXQiqUUpIFkPxyMnDxX1nyt6YtGA3MAFpYGmtdsveJQbPAN6ilTKHg3sTfIAAGUJaoaUQ3GvjQJplDiUvlB69woRuuUkb-55GrVbkWLpxZjm2uYfFKPdpqb2BYtEUCprKAC9WRM6TTZRrgpoodNo0JvrwAM2Oo2ERmstYojYppRdNjIfTepvjS2bKK-BRzaNBc3BKLg7mr2CMS81lALNVmsijZuXyaUzQmgbJFrEhVqbfNMAiLewPz4c8ueAcHzaIFlgYLyZK+EdtQGOaUAXpZm4LfKq1EP82KxW5zZVvtTkLtKvIhbjpsK2tLREu4arYZkIBOb7UlMgVZCu035bvNbW63P9jDwarJRqSZNaSGe69UetqPX8o1tYAfNeEygArS9KC05tStpo8rUprW2-YdtntXLIRIU6Ki8RWKyEbax4KMqtlYtHbflOW3mb7BclBVaRFmCvjHNTW1PGAju3BbbtdATrVFUBwe5RtsoihBNre4+QZtQq38m9oW0dTDkUW+fPFw23wr7ldIpKUyL9qnhUVAOzYPsIh0ndXCDAaLZ+0FX47Y+ky1qiROOVkTDRZ44oMNrvxHKrM1OhdeGJwh4QdgWxZ7TMCB1KQLoE2j7tNsu2Q6-ChO7JItr2KuT-2lyGGRgr5JH862DbKZJHmZoCxYFNAFLbXwowh5YVCq3sJDERXJTvErkLHfGC4BvBAgEsGyG4DBgLtLk+NDXYXzCwDoquUVNIXouQq6DLGXwtmu2BQmoSic9eUnHJCkqoMac61D7GzpmCkgHdXPcWAD1C7ES8YpE1lTNHPlpZOdxux7fSvBATaY9RfNjILpBwyrZtfgPPbIR4rgTKc6CWSPQxlAABOcwEtvSj0MU92QIIYcjobUMU9LAP6Byj8JNyYC7tNQO6vvnNDsCNAAuq1Kbm9BO9sSVbqtx8hoAl9a65XOeq+Cz6ehw+12TPpr1d7EphGI0YRA5Sk0aAsUZ5HHK1qSBZ93eg-e2RhCPpZ9ly5JdQzSWW664VqpHWyukE86+dgQMkEcBSWv7C9rmVICTrhYAGX9AZNgUJIz5gGUIJXQIB2AcDkwa4SLdlRUplCu8u+NyzjpboQNBAeqpgAHolGQjwppAKB2FqAGM78pKxjdJuRvtJAxRYoGfCpaj0HWdRJATBhKMlyv277YkKPIVfBO1CTEQFogCSMhBtXgDrVUA80HsBH1SBqNvUu9f+r-VpqcBQh12aQeQOB1KD1BmuP5XsjT6pADBpg-XVjXBAZDEEUwzFG4Oezp6a+nfc3uoZkhrDsUM7n0CgnQZXDGjV2dfvFHorUdyKzHe3QUYnUBD+Ok8VbtAS26JYewaSTmt92SRomuGB7pIDx2ndhUlOpna3q2LcJl+QksWiEDoDBR4YrATqO9JYJ7BMD0K7A0YGE7wGODhB4g5Bq+YmVfi6R+CZkaT1U6cj742TTkWlFtH4RpIIKF4h3FaBkx-AAyDhGa4ldcDcBqIzbqwxxG9OQxhI57vcIpHq2dU4Tfxuw2CTKKIkoRkCphXoKE5tAKLnau0lmdnJNaiOCcbHULcTJ04IFZpWeMFK3EoFXYwJqckTQXJ9xilcCoSmo60252+MPOumjwGH0w6-4kCfJ2SAt13gFddNFpAkiITvsMkBPyXVImwp8iWA5CtW7IDuApigADpYAn1raSyj5lwDtAZonOnRvk2tDvgF92kMgygevpYB8TWywk5pOJOoSyTFJ7mVrGpO0nqIF4fAB2FJqnBxKEp0AAAC8FWoAMkzMExUinyuHuhk-KbXge4WTpINk4HQ5NkQ8A-BIoyUYvCEnKTjuNUzNACZjcMGUxgtL1WIC9UXuJgVbmCBsBcnBDFpoUxDn5yinbTEvB09pHcBOmXTAPXUwlCAA')">let THE_RULES = null;

function fetch_rules(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_rules(pattern)
        : get_all_rules();
}
function get_all_rules() {
    return THE_RULES;
}
function get_indexed_rules(pattern) {
    return stream_append(
              get_stream(index_key_of(pattern),
                         "rule-stream"),
              get_stream("?", "rule-stream"));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p34' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Add-rule-or-assertion!</kbd></span>
	<span style="color:blue">The function
	<kbd>add_rule_or_assertion</kbd></span>
      
      is used by
      
	<span style="color:green"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      to add assertions and rules to the data base.  Each item is stored in the
      index, if appropriate, and in a stream of all assertions or rules in
      the data base.
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-rule-or-assertion! assertion)
  (if (rule? assertion)
      (add-rule! assertion)
      (add-assertion! assertion)))

(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (let ((old-assertions THE-ASSERTIONS))
    (set! THE-ASSERTIONS
          (cons-stream assertion old-assertions))
          'ok))

(define (add-rule! rule)
  (store-rule-in-index rule)
  (let ((old-rules THE-RULES))
    (set! THE-RULES (cons-stream rule old-rules))
    'ok))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuTLiQA0oOQAFvKS51GGJoGW1rb2SSaJSURj3VYAMghoDeSm6u16oAAvCjnm8PhcDkJjqI7OUlCwlgiVkkfuY-ttAZ8ri0bmFweQngAiYgE+RM-pDbEicagOgATxc2Uk1HwklZhIZ3w2FIBsO650oVQ8JP0nMOo1xgKUdDolCixEJeilxhlWwBZwuNLpd2Jj1ATJ1eoNRvIHKxmt5Tv1hsSoUFmWVNVVpt+5rs8tUirUkejUrV6qOPLE3pdfvm0kWknkAA9NJZdeMTWSzLKI7kFSC1HG7V41Vikyc8VI2qRpEplLji2b-s2MZdrrJ6bXGQ6NPRznpJK3253xhzfP5Gk1+9ah7aVfamfMIkpnDlp-I2x2lLiFw1l5aB7T1wzmZ7aIfj3PaO6uQ+7DOT7j-UKg3tSVSMsYQrKMq1UWNwJHBNEw-UAvxfYg5gWd5c3zeRC1obtyXDEC4TApUCP-Xp6y5RstRCdsXBaJRszzAs9Sw6DQ1LXCrzXW47wdKjnBouj0Mw4g32GOCeL44FlEJKZf0DOhsNY3tQBYJRNFUAU-xFMUJXkJ5IMI6DSJEnFeTE2jMhafl5M2RS9OrKDNzrRNyN5EIy1Cc4FFdKzgPYwdOJHZk3LCU95FdYTnLENy0IYotmJLYDbPjBs4JCccWjkcYVCs6zKV8m9-Ic0cmTSjLaBUfiYtfYol2XKkrT84dCuZErcXK4LPMScK4JazKZnQ9LSBC7zcPXSRLHwLieFg4yxB6sqZnHOh5AAR0WY04qAkbbjG9ouP4abkx2Wh0tamYVCmVkqFmIlCulHDFNG8auIAZiclKpCW1bdFIJYwhYQD7tyqRqQau4-qKz61p+rqZrsZSAGt3kh77fvIf66DuhTKVvJlkbIdknnBjGPVhvkVqhpGPNCxI5PB75zE2mzQLjOmDqbAhQTCdyQq8onMZyuVQL5knDs2Ln2upvRabR8gMZYgW7BZmXiffUmQlCzRyH5UJyZRtTlf5nyHEISp9fRtmKKkdtxap3mDflo3xRNuzCL5t61akfdqFIeHssdkH8sa4Mty9n2YdF0P4ckczLI2sMmfwmtbvd0WQhUzRZEGrs46xi1gfqwON2DvRmXTzPT3nC3eQ-CqMMY-Ic4VvDK305ORfZjsolrwS5MbhLmfApPi4MQzuXZ1yTaWJ1FFxfmm7ym1VGnxhcUCyfw-Z8c20IevVEYSe5-7xPwP3nJR7g0-3hjveD-l+fjdNuM40vhMNkCAB+UAcZUAB3JR+WBvvdk+g37mAAFzNyIlAl+o9cBgGoJoRQFdHznH3DpUAmhCDkFAHkFooArjkDgUwVgoBSAvBUlMUAz1QBqSPFqZ6aAGGvTHlqJ03tVCI35E8SwGhGAtDliWe+TtTY8OoHwjGoCgif1aO0ToLRJGBAgeTLKnDdKgUjKI8Rr9armE-hoo8Yj+EgJ0WYCBbDSAcPkFw54J8DFaJTuzBG7xUE5FUHPRa2DpDe3Ki4+QyIv6cSZAAKl8UEt8gRRJZHhoQVSnDJA8CeHE-ad9AgeL5IQZwvj-HmMsdrBJNjCJeMGjMXxpFGiUHwDQkIMiOgJG6HQDJpS56NGAjUuRAxGiDFAPIaQS0UmlDSZovBSIcG6nYUkp4LNGl7jPpyExjs2l1L3nYloxiTFpGkcQNotSugKJ0RA5+Ky5mlGGIEU55gUr0Bnrk+JiSrGSH4E8DMixmnmDSQ0zJMy-EjJyXE-JcYik+K+WU0oFSqnNC2bIpZHymn9LSEtcgGJCneJKV8h4eyTHAlBKoW8fynhYrBBM0Azz5BqnRes9ZAKUUYjQQmDpJzum9L8YIxogyVnZLGRYolUzPm0uObVMFqhqmQp2d0IZap+kAEhGgIqRWoGFaKsDSopY0Alqg1VEpJfoclKqKU8qaZyZVZguk9L6SynRsrDm8JaE8lC-LlznLSI60Azq4LpToMCcgZDVAsFebnOGyJURMi8dQaJmgmQYqkV-KJMTI2KKUoGkZTJIhLRXhG3VoBP4ppnnGoISjGDMDBCwZkABVYg8NiDUB-nYBBSCtQAFp602LQeE8wzrgLus9WQhsaTa2IRpTkfxTiB1LE5Gkgh-i+3IKQr41QwaY3hrHbQMIGCsGTsQf22dyarlps5BFPsO5VBoUPmxfO15F5oWZO-cK+7ASRDaDmL56rTwnsUiEMIERogQVAp6iVfhASHsjL+hxFFIU5kkHE0Uz6AZvOXdgzh-igMvvpf6gDHZcmGE-kya9oAIGcOSqTAh7lLAElyfkzhyTBHvP8QQsjdz+T7RQ0IxZXQ1KYdABUaQuG+QEdFmEMR7xl4-kiJIe9uYl66hnuMOegqQhicfWgiTqbZ5+tIXB0ACGRnyYg-cqDQnpNMdSep0gNhLBTn04+D9uQ2BIlzaUIjVnSOqIdBZ4g9bHMsFbWkTBdxnOOkkyvcY7nwjWaZDq2qarXNPDcciAAfKQ0zfpXPEesyC41jKzUbGGEZPj5ABNjUnqJpC8mb5nzvmkz1F1-Fb0zLvF+THZNSHk0+yrihiASvNWYNJmnxBgZ09rKDrXbD2qMxOBLBa-SXxSwSZEdm0gOZC05qxa8cjBZI55kb5gfO5JW-INboXwvLjVZfaLhgkTxZMxNqcU2PNpZdRl5lWWyJwR3u8Erv676Ow-ZEGISGR4NhyNggAKgACQAKKSAAILgHAGDgASkDyAAB5AAcsgEZnGBi3vwFYMhkhXNySG8QJ4+BJKks+7hV7RWH3QYumsjZ+CrDU9zNcAntO2v07zYzxFKgzoBdxHQduWoiO8-x-z8YclX2UlBxD6HsOEfI7R0L3kRH5Os-F8u9nw2KeKQW+toVfXIMTSJ9qlzGu3MeZvYD0AMvJBw5LQAGTB+jjjzssdwRx16l4BWciE9PBdEnZOpcAip+9-3HOFGf1V2B64l8-fkDpwoiBIvKg+4wm45XYgU8zDjzFwRwFbf26d+ATPdho8Ptj5PePdOdeUg8-jzQiCtmqDs3r6zBuH39c0lr9rh2M2BCZJffbBIOR9+XG30j2GwsOiH5b2BeAPwMFJyQqAcBEDIHQHwHgLDeTyGeUNAK3TiCzENqem4UwsrQQxZ-SYSCZgkqlBiiB+JJRX9qjfhdMlhQP-UoGTS4o2QpQnhdAT8n9tRG9y5s5bpr8cEIDLI98Fghoa5oo65YpbpgDj9tU5tzBRpRRkJMx09O5u565e50Cj8T8QFlVn8pAp08tGBJBqhnBIhp1H939ul98FBVBaCxEGDWAmDLpxgPhqAG8M5KAs40Dh5TcQDOc0hqDeCtlSpWRiJVQYCECFpjpFDL8mpyCZCudKICReJaIUDBJWDlxP5h0PwcUDDxITwpJFAv9ekgDsDapTJo5qALIgCdCwD31dZ8ZTDGhP41CdYvo-C8YfpuYOopZ4wMDQDao5CNYtYIjJYi4AJdCP5QAWN5E4jARI5-DShAiMxo4ilfZD9pDvCpAgpbZEg8iGcgjKieZqjSjMDyixdnRfR1poC2CgjUx2iUjagYjKDTFAQa4EIWDoIjVQAlUzACjEDOCRijwSlhCPE8hEUZxPCyjsiQhRioDJDVDCjtiJCAIBiwDFBC0uImQy0K0q07ABQ9AlAcxQBG12DZjgFeMO44DVBhAnhO4BFUhGsgQIgWAMprpJBLDhAOtQFgIy5tZ8xKAgSrp3gwSSBvjGAogVY20HtxBKkhUpAERWhQTYZPiSAIS0g2UGlpBsERk1DCAkDYY3CPDwSx9+80hcwFAtlsxj9QRaAvJnCM0a4JI2Qpg5JGTeTdUfimTmTGhkDOTmBeiiT2s7tUNXJwx8DFhllySDBc1P43ISV5C2S7gCwTZNT1kIFMiUMTUmV+lTixF5TS1y1K1q0CBSYtZEFHim1oSvNssd8xBcCxQSU5I0I6ABiUlgJlJVJO44tnjMwhpO4BjgC8wVYNRSYgi5olCuJpDa884Ph95Xh4COCboFDToASugxCD8yDpC0j0jqSyzCzep5C8Y+jVRjj9koyaTODUzypzo2sK5rp1jMC3itQgiwjUZ0ZgzBF-iEjtZhyzZZYSTShWkRV2kstMT-jrZEUJY7ZzZVNgJqy5jOZ1yqjjQ+YHhpCmMLTMtWV1MOhGAbZ-pVTvlJiTFdylhrybYGijyDYTz+yFF-idSUJPj9z3I7ytVVN45KRXyDzgKUJDMMTTVHt5lcIhzfCfoW9dUCwDz3zZYZyMYvyT8YLjUnskzRZfTJASAejWNtJfiwKAQwzVBtJIzgkyLCwDQugwknhKKQNeQ6BBokJqAsEnxZxp1SDJC75-jpyDI4U1MxsiZ-FhykjXRhLUj8KhFJzgiKZsLKz8jXdKg5szFG9dB6keKRR+KDjNcIL5Lqi3YJTdVuK8hjLViFjvwJdULJTShh1pz0KLKoi3Y7tzz4L5yz9TKG5OidEb9OIgqHD4w40IFMdCLvS7AgjcimiT9yt1MY5-FI56TY5bomM0lAVelZKjK+KHLnwhLVAY57U0kmK2iugGARkSLqqfRWN8r0TAYARnzyr3DrFWSDKOTZguS5SWrrLXKVVGqWL+EnhRSRrAgKyBzd9Cj6jIjGz7QMz89cJh0-yCCXL1kOqop6JUCmJyzMDOKxBujmK5Tkr3F1MSV-EOqejXR7ziDDjegBimMeiHD7ylMfQHrf9shPCSVXqexKQSU5rTr9jHLEJ0zMC753rfr79-yIq4bPCpqZr8zVAIrdTjDd5oJhrprZqgaQ9Fy6kGwF9YYl9mA2BV9OAN9eBGF4qqQcyXhLIcxg8+xMhshch8gWbHy2CcxI180zicxmR2acg8huk8w6EuhuEjx5BKBroWgwEb04ILDCSBS7CbyngY4xyCaJhAk8T2SPwwtsC1arBFAgzQAtadDS9AR9baQwTWa6pz1bx8BmoPB8TDaq4xB+TbDTabzPiHbHpdoXbQAppraa5r58AA7tonpg7GNVZRZpT+rZSvJI7MzdauYY6nhXpQa4YlBEYdpexPrxx9So76RB8VSSVp9i6ihrblTC6H8tU07HaOJ6QAaZ8K6UIN4tRNqsxq7jRG61qE4W41AQKc6j82xqA9Rog+qBqvJVqdaCk1BTz472ZzLSdAD57qLyx8Jl7hg0lXhUI4hEiQDZ7Eh-FYrb0LCyc1IAxshzb-SHa1U4b76UJEzscycHDhSg81gGYt7IF17CRPa7AAH3h-TPjv6jB1g-64wQGTqEqcw2TaQT7k7LLb7elbV0GLadRUJobB7sZdAohXgb6-w5YUR6qCGiGMwJFQqMEQQi087ETr7n6MGcKsGlo+rNKhichogiHn7DAAAeL+Chl4VQKhzh3RbpAtG0pkIHLIJSPIfkHBVEpwGmdJCAygLoCBJkUAAAah5uZO+2iAqUsj4d0YdGZDMZRsMaiGMdEZUAxnEaGOtLBBkbkZxx-iUaiBUaljUdEM0YdEsdcusdsdMb0en20b0asfCB+1sbEbgejVDRiQ+p-zQe1oiWTOPxkCyFUk3tKDglsvyGYeJXsdArar7E42Idkkca0pAKyYQW2slO+i8Snq7mQe5OqIrNFIgThsTUgT4ZRr0VAjEZRu6Z4qgT4cmXAjieUudXSGxJAN6YPuzCPu1jad6NKbMGccqeyDtMyFaA4zZC8yCD8sktGxXRAf8TXuvuXoQsUgKfAbZE-oecAdxvWRAfvK-rZEVLbSez-tqZDRye-KIo7nOuSf-LhowbSYuQydmDqcBZSs6ydL4zGaKbEdObKcBAqf6d1UCMyYBYad1Sacnp+xnpQeNE6d1W6bQd6cjGxYzU-llUjCoYweqa53uZZjQdYbjGmYUS6R-PmeP0WfRFUrWddA2ckbOIhYdDLT2a2QOcJDdNGTaLCk23SzgvRa6yvLJ0ucApAaPW-NubrzGfeefuedJVeZMXebAdgdVZdV+Yxf+eyf1bwrIlJsOnJpXw4HX24D4GwFvRCFhPhLlsRMJPBIdjPwDkXi+IdEDeBNeJXq1FjYRNEziByFdBYLDfilwkSnBKcgq0BLjYJPdf8VvEkRxnlGn3MHlHWSwNKBxmjErbMGjBraZJxgJUbdodBBbbLcCXXA7fXG7brcCXKGdmnxHcqFqlrbSBxk7XbH5Gn1nf-kndbcCWccbecZMSnaCBxmUleHx2cDoDC13e9z3AYEaC3cCBxh0Y7fMFUCFtAH5DO3iweL0cUdAAvZwMCXrRvbMDvaeEfcjIeKbTfY-bMBxjYtKD-YfafdAAeKCQfbMFA4CTLuAB-ZoXvYA-O1g9ADABA5XbLoAFI0OoPMPn3QACOEP338O7gmQyGb2SOYOHiyHoPqO50ABCFEejjDxj0ADjkZR91jpkfh4j7jwD0AQRswATntsu-hpEH9hjsT2TyTpDnGWLET-9nj+LZTwT2LOTp4IIBTrDh43T7T6TmjtjtD7DwILDswNj8wFmyRJdMbJN4NotpsT+2bRoWi+UfFAt5NxfJzldFzkEmuagZwAAKzoTqoUVouEEjLbb8+DenxzeJLJTjWC5Dfdb3XzbhMLeWJ8fqs4hxkyOn0yKQ+ms-bLsgGIFqTkHnf0+q9q61nK4q+Q5o+PckFgEgEbY6665a4q53dPG9zBw7Y67B36+mpxhRyUBRzQ+m5R1Zf70C+wQy-rMnHXM5c87cpUnUEjMjFIFN1W-y9nIGBy6DZBOO4+a27SFotID24Hn0jJQwUS4u7gxWJVlvWhIBNy-89DeRM8fXAdq+5ExkUYGkH5BJfC6UHmG4oiE1gJZ0VW7hIzmSIzeJItfME7kB76CCGe1JgRSSdFeqIdp6vZKJ+NDm3TgMvVRe8y-c6KZRue5+9c8u4mcp-0ub1W9C4i6i8mpGqO7e6nAfox7REPs1lWZlPaa8ABysFF8kCiC8WcHKnJ8pLJmsE0FJal7uD3TdabA9cpq9a4EwAwHpuLuUAoEkC+jCEEOUkYF9h3EoGBSbpHZcDcESgd+BTVEj0gSfimY7Ed75UMDCckAib5GiaMfwEsnd-9898rIgWj93D5WtuqGUh1gFIUHqXD7RKB9IBMxYBNiGjUm+Nz5g4YD0aXlz96aZG0aw20a0Ysb0aUBL5F9KGr8Jiz7fpe2IAkiWn1k-SiBRLRMH9Iu747CWm+ElQXusbMaZDnTMZT9oiWnT9Y1oqIJIB7-QR+IlTCf0CZGtvX7H+cUUBYCXlRIdvHbUE7krKw043TVKDkNvCv9AChAxRxOERdkv7P+qh9-Aiv8MD44dDXpr+NCSME-2Y5T5I0n8M3k30RRW8fwtvX2Ff35rgoRCkBIsE-xf7rIX8L5OkljXQFf9xGWGOfnowP43kj+jAE-qANRJyQ-+QffRrVG0ah84a-+bSPKXc54CsIf-QJiYkYFmNSB7DKYJQIe6f80Sp-L4AmF0a5oOQd-ZcKaVH5kC50fbQfk8H4HkDfUcfQEJFjP7e9VBc6dtk8FvBUCvgkzQiH-xUHyCBBx-DQe+iz5iDgBTIAAOSh8IyYTJwUnjD799bGV-ffhYPeBfRGAlkfwQBzwZZkKmhIV3mCEjBBCJuKqb+FsnCZiJwmlaN0KXH5zhNL4HIL3gEQyK+Dv0+EaISYLUAFCchG-D4FYPcG6CohiwAIabjjDFDVBlvaoY+zHpQ8YepAOHoil1L5hvYdcI9HmHP5SAy4pZLsMem97fx1G4hV8CTlwH7UTCx6EXrRVaE6h2hlATWI9W6E-RdQg-AMv0KyH39MWG9foWMMCTXpCYaDFgYcM0B7DZC4tTQGPSCEAkehuoPoVcNErYk04EwlgseleRpIa4PTEZAomYF4FWByBWYbvG+EwV82TwpaLSB+JDoduDwjYXXG2EvDvmwEP4dS3AHttveaqIDMwE2Ewj8c1A03IlCRGSZYRxI64VzgxF-gq+fbHEfiLris5qB7gmkYGCr5LDYeqwzoZ3RxF0M2BP4CFnNkWHQ9lhHQ9YYyK2GeMdhVwqkfGjVRsidmz3aEcyOz5nkVy7whwJcLnJ-0cYpwvkOcOBHaj7UJzc1DuTzBnk8eosF0ksGPTO8pAaqUYdkMjBOj9hWzS9NK3tLXFbhlURWPyEQRd1eQfdLCnaJCF9hHRRw7IXGFdE3D3ReYO0lcUdIcCjoegGmErVJjJY8s0cQTC0DaDdBQxC9G0aiKr5CY9+CbL0LmNaJSZHw18AsX-X260B9SMo2BMrQYbRx70P2OxonxyAYMXkTdNVB7zQS9jSU1tfgulGnqDjXEY4n7A7UjDTjogQDC2h2InH-l5xXwJunGDXGLi1xRWUEtfUnHoJYGTdHJAeMDxfNrapPboKeOKYEEzxgDfsfyOHRriuxAfHsTeJeR3iRxVo8eBOBWKO9OCHokBuYNla0gdwkgchFshyCMA543UBBPAX6GSV-ih6b4Rqykoro1xGVZcV3BEx6tAJQeZSn-WFTbI5E5VLCYt3SIkAQJyEeghBJaBQSXhn48ieAjUyaBLIO4h-FuNtYnN-iEY2UahOAhqoNArEvIfmN2FPAhJlkaMbsK4mYlEWfzC0by3taoYJJqIsevXip7sk2gc7VjHQHyRaT-41wOgJRgXoX81IU0b3vpP5CGT+AbidwbiKFhTQReMWLDupI560hLJOkxbCwDlRmSYhrXNIB5NpBGTz4asVMWD1yAglApZkp4IFNCDGTCJD8eVOZOyGxSjJtkxoBAnsn4RdJfk39jB0iBTBRakUnpAZO6CpSbJuUnRM5Piz14WYU0Fsfjy8mgl2waMHbtGyooYt8ALUtktNhP715Yu-3BxmHW6m6BepffVLPaPf7jSCQwAzjO4IKmKAip7wKKXGlpZeSYh1UggCNKQgeZpp3kpWOtjpTfjByCDXqhUnrK3Bqi14miKOCPFUY0qWEzCQoWno4T9xMfIcUwHPEmSIUxEpZFuMgHi1EGL4tFPBFPCMTkBROSQLu29TsTVxZEmKWDM+mAMx6kM6GSI09QIzbpEDBehc3AH4AqwXQbRt7yZD4ylQhM9wcojUAYzQZSQb3hczMDzSpAh6D7N70vGiYxQi0S6caGpk3TwZGUzQfyI+xQgBZ2KG6cANRmnhvUcYX9C30aBxgxZss0oBLK9wiToMlU6apGAVmM9dUNrdwSTIJktAyxwLLUC00ByWYvJd7R+vyPvabTOM8TMhEeCjh2VXMSmascTlACIjEZDwu6RsDSRoydoGpfxMrO9SezRwUWegf5OXDez8JC9f2YaQpJV9SZOQQ2d7zmn8zTZVgc2frjjkYQjS8TWpLCPNzV42sjEpuvXi6mnhaKdmG6U4DizOEHZPsfHEhBdk1zi0tDBPCXKRnms7MnuPHGziJyMSnI1uKbBoBICUIRkAABndykwEgP8NPKgOGGCFKA3QQ+IVlHlhT-EI8vihvL0Y8AmMwELeWPMUDW1h0s86ia+KWDXipsQwyYcVlWQPjsUU+fFPyOvmfDhMNqResDMD5j0zMjzA8U1nyAvxUqY2V+aIVvmiZhkHGeQHPNAVoDHwy8jPBsDgghZ3gf8aQL7DrEBU30TM9DHaLjTmE2xZ8g8QxIsCFYb506CBY4zkK8THGn8NVCgskBoLfYLosSaKQYVMKoE3wqhbcMtHQNLAqClQL7HqzHTeQbQJvPwhFD5APR14n2ek2tH8LGFgio9KpiQm4KdRl4eZqtCyjXjSU4rPhYsAImwVLSckgZGlSenjjsJSEXCYxMMVpAFkRNVjM4CYkM58ZTKbWQcgUUcLYZW1JxbazORKpTRcaR2I6MMDYFP47CpRS6L-Q+BngnipRdGLlEtlXFS0GZkpKbgRL0FqkkRadVOnslzp2gQsIpmvEZhS590sbBhJGQ7jXpgBGRTHLmY0I7OREqFI4rInblKcxAYxlDMlkiNvFapLcXz0jklKu5-QegdxM1HUS7G0gDrCNTwBBI5lCiNJBUqXHPTLFe4mpSoBsUKJgIjSn6c0u6D-SVUmyTpWjK-k9jtZaQXpUsH6XnKggsDXSoDOp7FKNlwy9Ueq0FRiKDKNBfIEMtqVfN6Ysy+ZS0lwj6yyZhs15cYq2WIVclV496W+KGWwNLRxs3kCQGOXdL1U+STQI8mGVN1cZQaJOeTOyEgrk5MgrnJTPRX4p9odMsnIzImWaApoEciRmzPyWT09QimOlRSr5n7CQgzM5JKzOhXsygQLKygGyqxXsrsVOHMAHMqCQ0q1UdKwwMLIDaCzKV2QlFZHy6UqzpZjkxntLP2iKzAgqq7WCcqAxarI5pQIDLqpuXLhdZ-MolYTLHpfdaIl8UrOglDkB4PZTQtZfeLKUro2wnNNPJvN0B-zYVGEIrM6sqrqYDVAco0v4lzSRqTlrqkuTcpqw7xYootJCC-D1VpBo5X0v+pGvjmUk8VBsklekTTluj8yjQxQJZCmzXxfVdlDNdgQzl5YdpFsvNbnIpINTRYX3XPAPOxVhiPB1mZqZXJ252ZL4kZZwg6rTzOrn5Hc2wIxIx69zvc3a8PLOuGXxM9QqbPwU0NUAJqV1JrdaWXKakVzWpqkBRLjPixxpXJ4iw8NpO6DYEC5VYwLJrh3XuzYGLfTaV2qrzbqPVPam1hKT3WHSx6z5CtQEK-WVrPxvUq6mNmWhxcRktGIscUKZBAaghRzexb9NYzQbiSAM9dSj2A2BCmh4G27MgIw3BVUxURYof+tSxj11YKzeQuF0JKBkBhU0hjWHUArjg6NIgF4R1NQwsLNAnfUmJ5TY04gZRXG9JeBGY3ljTgUgVSu6nY1NhONjGipuJpyyr1AKMmnEPJqbo8a+NosTymppEDCaHaUk3jYuISBRAQotIIIRpr7VabFxnIlYWsJHBWaoGGLGzWPTY3UBIg7gYgLJtlgEb91fa6jeL1o2ElBN+m4ARRoJDuD3NnmgTbQB82kFvNQm9WZs3LWWbzKoWigF5vi1YEJirlCLeoIbDbZHQ8Q5kEhqaFV04tHm9rNPNFgyaqt6NCQPFr82HTJp0mxrYST00UBqGWlUtTcIWnhToey0kqVZNvUUoytlagCjeVWLtaONnW2cs1tSzopctNCGDnVpi0YRptdAeLQ1q21JaltkpfLaPCK2JDStqW8rTFMa1Va90cEUzTGWoELaZpB69bIOuPUI8pS2rc7FMXKSJSj0Z2ibbdoz64axBOFS1RSkbVZz28NrQYtkPB3Nr9cdyyVNKhirOx9ttyj+rdixBFbkh4TcbQEOnwA6vxt6FnCZgAkIS+1HVD0UswV5hdlekvdZi0NFFci1hD+cUl3Ig0sRgI5clqVXJ0RnrI0xOrBEsBTTrd-xSwFGnZvFGOat+n4zNTQlmAk4n22srZvLoZXTULiXox0p6mKaMBFWETJVIjqCBMgJd3I+8pkMIF8gfsZsuHZDqDzIDOMuNQ7ZjqwRzpjdzOzuqdpeK4bp8runkQQWy7qZlI4GRdooxGQABOAYG6gkAZx-4Y0kTZHo9RztepomKYPrHYoqLxlWLEeJJTGU0I7AzHCeeK2D2qAHBDg5kGgHL1HMzkskuNEXrWnfMApUexPfXjkBuBap4EMIKbjsBNpQ6ik-xYEGD1J6W9YIc2oHunCN7-48TX+P-EARqkfQAmB7b6hxXo6vJTumjlPoATZlFgOOv7Xju+LSA-4G+8IC8hq3swyRUgSzZEB8xPJFAmQPUM12AUrplo-iREZKL9wKDL9a6MJn0EyENZsS10RgLfrq68cg0eobhm6FUxF6mQjaJtGfvdWVresPmMwNAfdCq74I4+yyA0Ms3LR6w92dVkYGdSCpMxwhVwPjlzHob1FgQOELSCmw8EXZVBh9T+GvjYHbWgqf-YAa1jAGk0oBzqIXvQNzpoDTxVzDgjIN4IBDjaFA6aOdSBLGgkBsQ02iCFiwjSDAOQ9+1tYD7dpF6pqTzpVR87JSmBrdecuF1-ihoy0GXXLoV2RkKCLfXHYEMJiW7M51u0jHbKOn+KkVXtQCnkDoA-w3AH+mDJqyg3P7v1r+59O-u76f6HQ3+u7L8LJx1VWyIUIHaYYt3RArdY05w-vLPwVMQG3WhnCyGoDyMvcP2GmUoAjSSo5BpQi-b+L0Ci7t1aifCFkdNyiMLDWHCgvasrE0H6CdB83IxqdWuZQl2Q+gz0a6PuD6DnR5TAZgk12ARj5uV2Y+vax3x+MlgBg0vOKxgYZjs8XKupmyCFyxjy6fxLbjlzw5EcqOEvBsH2Mw5DjiuF3JFnNynZIyWxpY8untTAQmQoaI2Z9zaOTww18xugu8CmwiYSswis5tgnuNx49j4OO3I7mdxMZC8kJq4y-Mni3GsOIJqvE8eBWvHCtr+oHQ4KEyqBI5AAHSwA9G3JQhUEmIhP726H2GnCVCqlL0Og2Dk9eNmfqxM4n8ThJz4xpNpBZj8AZJ59NikIBPJTc1iNVPydAAAAvJ7qAAJNBAOTJJ7kxQMaOUmxTEg-vLSe3A36GTb4ZVCMA8P0BvDYIbE8Sa5M8mMOBgwJMUeFrhNSA4TQ2WqAcGcg8ATJyzQaavVGn5TJptrnOnNMOhnAlp605kNVPuggAA')">function add_rule_or_assertion(assertion) {
    return is_rule(assertion) 
        ? add_rule(assertion)
        : add_assertion(assertion);
}
function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    const old_assertions = THE_ASSERTIONS;
    THE_ASSERTIONS = pair(assertion, () => old_assertions);
    return "ok";
}
function add_rule(rule) {
    store_rule_in_index(rule);
    const old_rules = THE_RULES;
    THE_RULES = pair(rule, () => old_rules);
    return "ok";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p35' class='permalink'></a><p>  
      To actually store an assertion or a rule, we check to see if it can be
      indexed.  If so, we store it in the appropriate stream.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (store-assertion-in-index assertion)
  (if (indexable? assertion)
      (let ((key (index-key-of assertion)))
        (let ((current-assertion-stream
          (get-stream key 'assertion-stream)))
      (put key
           'assertion-stream
           (cons-stream assertion
                        current-assertion-stream))))))

(define (store-rule-in-index rule)
  (let ((pattern (conclusion rule)))
    (if (indexable? pattern)
        (let ((key (index-key-of pattern)))
          (let ((current-rule-stream
            (get-stream key 'rule-stream)))
        (put key
             'rule-stream
             (cons-stream rule
                          current-rule-stream)))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNBiQuFE3NFEEtAoLJcgUQh6GIOhKF4mJAvdVJ0gUFgyH0CappqWbwlAAAfPbFNFD5SGqMQNsULaZrmmIDqO1IWDkjghAuybpp2-bDpfZaMnGy73pu2I7u+sUPzVKVNoBp1zia8wRpcxsUOIV6ro+iJCgC-i3Uh7bKHCgbkyW+4xAkYQGFnMEceunY+mJ+aLwSN1RQQlGodAAAydnen6QYqY+4SgUoWnmDEfGsFh5JlvIBRkb5m7iMW0URdJ8nQVZ3GLLoaXiEKiKJepXxVvwRt8BkNJtfV676cWuZ9AjOX+T1y4WNFc1qDEOgZdmy20cxxnJeJlWKZ9ygLLdj2va06Hxedtzw8966GEMQ3Hr+t7cetrGXFtiMc7rEPJkdmPBvMePI4YJGGGIAAPQhAjcZwC6LBas+5kYI3t-6M6L4vCdFCplDYchKvoJuFdbpXyBJ2pVbnOWLJLIQQIHoeR7oeFPvuwOZ+D+fRLzU6HQYFfh+y9fwmB-1J+nsnd676nRIl4+TFXs-dd7liT7XpOU+NsflhtjzO2+c862gdoXfG+sv5nwrlRKutd66GEbg7ZugD27507unK2Pd9bDWliwYQ5B4F12IA3UeKC-yK1SMrHeas95iXwYQ4hiDnDv31kPVaTDFwUBlqNH+RtdT-1iItG42Jk4CIYKbc2MtuCgLTqjOaRd2GMKIY9YQvghEt39m3QYHd87gOjh-IaqRApJ2YFoSOmiGYCWvkHOh99ZoWVMR8KgxBI5sNjuYUxNcSFkLoFYtBuj9EOMUWLXBqQ3hsVRJ0Kx1imbUKnnYueISF70Cic4H4PiWH0A3pfA0tjaHJKwY40SkTqDRMbC4ix10PElxcGUipDASFsW5FoAJrcKYMECDIEO3A8TR31g0jJjZKRtALN7ChACOmgi6ZUXpoBSSQM8fUtJ5ThkME6KNLWNAcyyxCfNRanTunzJ0IY8JScxkzWUMjD4Ch5ZTO0QU2+atbmh1EsYdoVydYDOWYJW4xALmfMcDcygdywioOmXOcEHzxnXPBNwV5YQll1P7EC65ZjXGR0MEYUF8tYgPIEnInFdylG-KqKQD4GLqne0RQc1uttaXIsJvXECVS3HXWxbSiF2jMK4qRWcIx5hRRuM0LiGFXziWUHBZQieP1MiSv5TDX5eDKVsssVymVjy5VZF5WCnByqHpci8LEqh29nlFIURZdgHgvC1MJta5QXgGBqI0ZMwogTgFgP2Wcg1GzCCEBBK05B+zuU2ISTfWelMUmiQ0AG6gQack-JRU-LJpCkHkJDZqwlQDMEKNJSi4eYhmFpuau07RRLc1Q31Si0UB99A+Mzlqs1kb621wssUd+gqA7VAqNXB0+gOKNrDWY06dBzq20HRfPaRM60TqoNWvuH5q4MCJKbAd87m4qGKqAbojI51zT8qaut3RwilHBB20AzRuhhN+elEd-QFA4jZN0Ukm7zwtSBOlJ9mZfCLL9sOzsgxwWlHSJkS91Ib01pMRkZG5o0zOCHfE5twc4OaWcE4mDdqWJvEHrwdN-jSAwcQ9nHN+dCPYSZSxcjAKXXZCI5u01oGdUYLI0RyYIZSjB3BJ0ey5BfDUMI98kMzQK2sewoYvAEsWpyEUBAGA8AkCoDQL1PEBMWLEBQq4+ZM0cx0qbfDMaBdpKcfKQjWB649nFLmtJZoootYyyM-6TjckJL8NTuZgsRhf4mzNvZyzebuA6b9NMWzqRY2BrPo5g0pRwsaI0-mLTKaEElozVZ6wgW6C6bQuhTpUikbYsLcWvx2KHYZd07YKCoXJEVSoMEBgE0WDVEiw7YzLRNNtKypQOrDWmuxS636uNCb-GlZaJl4LRkiZDPoDElrTm2s-Cm1reRAMyvjaUngzhRDU1+KiwGP5dwJYzhUU00+vCyBueNiV-Z2WdINA4QQ1R+B1EF1WzZom4rgW7emKUeLlTLmfY++itVHKC7pdG7pt7wrJqUDFeY9lEz9mtcA5Dw1NqvsyV+86o12mxso9mf7Kl8Oo1pda5j5xcPLF7yC3jsu110dFB+2uDZDcI506p7jyrRMn7QNRAXXCoAsBQUZwltp3OX5MHwPV4qS9n6Dxe+DtbqwiY8+DSTubmOVepctQrt7JlgjzKsjZOyjkDazXINXDyXlfsdC0J2-WsX9DIm4IW6VyxXzM1OgoNZuyGCHeRL+BUi1YtNM997gFfuHDO9IGIflsR8KEXdMKN8ET-rlF98sx3DgA8NHPPXDIZVreJeWc6p7Gj-c3duysGuWgRBV0y3BegljDKV8TMX7h2tRrYvL83lvgho+GAr73lYKb6-yATt7f3z53Wyvx8qDzyM89sGsxOUopjK5vBr2CRfy++zNEAzRePJ4FR6+nE70S1lbIORcPrGHJBLeCH9WwXwhU48Cq7cCGZeWqLYp8QPhXm64kXBRF9BC1AQAA+ebdcLTQtVbQLWuRVNTNyTHRbGbaNILBjGfSgQjIWOLdrPZEQNZabRsZpeNLTEbILRXEoSAm3fA9JIgqXVMIFYnALHXUMYyPAi6AgxpTZMgbZagXZeXILSDQmTHQHEFMFVbTdd3VIEVGHQFWFcQqVbPPibRffckQ-f4aQ8mdYVlCnOnWlemafbRQvUXOCVVPQmlPldLIQ9Q48IiEMc8clcwu5efRkQyEw5GJw3QzFfQqwzgGw1sJPUUNfKiR3Mw3QlwpGZQ-0RaLwsxSIqiPyeMOwgAlQgSUQ-7a5fQHvFucwnw2aTlPwgIrUdQt-dhT-M2BweOKUPzV3IwgSYAvzcA0SSEKolndUOEbgWon1FFQwbkRgfAfgWXV+VEK7NLKQoI1IMQ0HVImId9PlRkMQwnLFAuJI4RGfWQsVTIxQpYaCEDX6HItYf1GaIDfoyRIYzXd4MIilbw6lMEAwwfW7PooQc45eF+U+UY7IofBoRKAFaYllZYkHAwqfRiFI4ieopDS4+nGSYOS4i7ZbbuQyZoJjPyc4J2FFTHB1Y1dnXTN9bdF1RkLEkvZ7B2Pyc8PcD9akM4wYt4weD40tF1Q8OY7dNopBD2WoSk3LSorWdoqUCkpkwA6grTF1OAmvMmHTBvcfMECkx4746CVk92dUP-HIuUhoCg4Q9TJncnfI5glbf-cebRX42fJIefL47cDw0YAnbbfDQQsbHokQpnWnBHKzSQ4ic8JGRkC0p0kCSua01XFg4omIeOeE0070+E+XJGVbQ9VuJGDUpApnKEnE+mYM8RdzJGfQOE1Mv+EbFUqvDguE305LHbUrXM9CdU-9N0NQiKSTZZaTNqOTTqRTHqSwRAoVATfgVQDRauYjImR6Y2fofxbsgXUMUoauRSYyUgUyfQauK1J6AcloWuEwLQYQAIEwYgfg2oRoO3X5I0w7dvM7ClbgEU-UistENWcESGNPCWeFFU-cyQMgP-Y8mwpVKDKXN6K8jPGQHsp5FtGQVJd82va8pNQmJ+O8zvR3Hso5OZP80AfpSjNyJ+WjL8jA7RKCnpGCv9F8kC4vCUsfSxZCg0gSNCx3bgU5OM64f5Y0xgdMjfK2FCoi88kIizeFLdWaK2eCtsqi00qI+ipDGhc1MESM0SJigsLDNyESgFWi72Hiwit0IlKI+09TRwL4JBMdOvHMSUyxdA2SlwCMZ89-OIuQC2bS08nRetMbfGc8IWAFTY9SzS66RkFE1soAyioyhzLM3USiCzOo9Y7RFmDyv-fLYCliNyv47zLvHhQsdGfFCEkjEYUK4KhCyK+fCK7WZ4DGWK+8LIBK8ilwavE4uyvC-Q8Kryx89YGysbXitEGaMQIWLzARcFAWYEGquqtcXYubFmXcyK+q1OQKzoMII88q9Syg2IZoDgMdOqgK8IAAHmaomtUH0DapGqoJPwhAABU5I-k6BfA+8xBeAsVqQsQ41NzRJQAABqYclvE6M6IUDRKa860SCyB60s2Ia6sdW6xa-q9jCcCcqc8EDa-ARqYgeyXa-ajlQ6x-agE68EZ63vN6sQD6+6i6limGi6l6mIeGj6paxStyfKQgEM9Mjy108kfWHTcmOSbEEy4fX5Z4-xAK0qwwtIpDJjHqy7Za6LcHcmogM03vK5FSs6QqxvOnCgl65oDylSIEBlcK9mubW2Ja9G8DWmz1MCaW60W0bGtYvCEMV8HTCW9kWmWy3CoW32PsVaom8-OgR6coUAPzF-I8AiI-PsRwyKxkQy7qwMg0RaJW0K+E1KmWdLBWxMZK-LR3SKkE+MUozKsm9ESmiyso35FM7zU082tcYmpEX5aOim8y3E8E1vXo-o1mzy3ML62YooRjX6Qu9q7cH7TLLm7EdGvm-AVSotI2qU7O766CMW7zPWqWhqmWmSUiOW-qry-upSJWzCVWrKz63UcOuPS6hoHWzLPW6yquaHXEVuyORmtUyc-Xc2w3K2kQG27We-b0u2+iMEwyZ24+oEN24yuOvsL2gun2gK0OtK2U9CH2kOhKgUiO3+3y9I2umO9usWGsupOs2TDqBTbqZTDAZyomOuagL3HZcPT8rPUNPixJQpMEM-cEBBpBjcsS8wPBsPBgRBgNInSLf3dBuKoJW0SfMWc8Yh5B9PMBxkYOZ0LjOYFi2IOYCcAO6YLjDkbhmIDkPhx4rjBCYRycOCMRjh88imKRimWRgR88uzX6FitRsDA0fhu7c84KANPjFi-RoeHa7R8R88k-YRk-PsHRooLjG4IWDZFgQweFBx1QJxlqFYWxwoLjM6qR2Iac7gXwcIAECAi3C60x7x2ILjdyfxmIQJ0AYJ5oi3LySJ8xqFTo6YBJpJ0J0AC3SERJmIKJmILjYAOJgwGcxJkJsJ0AMANJuRqFAAUnKeyeqbydAEacKdAGKY-yhQFn8daeSb1uCfSbBHBAAEJhIBnKmcmanJmgQRmGmxnpqWmZm2mLdZqYhFmVGoVpqAQ4nBncmNmgQqnRmIQwDVmgn1nQAICtmemuMwD9nuAihDmanHm7mzmJnyn2nChcmYhxnYhuznQnRGHQ9mGn4ArAQQxgC5huAmGNyWHkx+VQXEGSGn58AWAAArJcj9aFjQTPFwXJiRsFgh2RUjOhrPTcQyeFn3KTJ0Iqd4EqEln3ReAothtWLjQDFiwDHp1U3psZyAOgNUcpZ-Z5wV4VmHXl1U+xqgdx2ASAYRtxhgeVqVuUmVxxgAUSkaVY1dVe+K4wADlyADXymjWDXR7bsQXt0aXJLpdZpfaoWVhgDlBmjbZlAwcbWGCXECirXGWeBmXbXGWZd8tHXphnXXXyXxpNx-XUXmHWWlCTh39g9PWI86Ao8xAKYezg9qhQYKhSAn8BbMXyA8w+jTpNAeaJxPWyGOBI5KGs937phC1M2jgih47ej+J8aN66cez8ra8u3vYcjY0TiB0A3EXYp6b57K9PX43fa9XCgh2RAR3Y2EX0WsWcXuBA7p27WfTv853YgV7DbR9jaD038OABAV6M2MXMkj2pTFiO3Ba276XQGkXWoIH5MuolNMA4GN8KBTAGBPkPgqobhSBjUD5qAnwqqiYVo1ppx5Lh5wO-hC4OMzK9F1b4Onw5RkaGBUbqQsCbqZANE4PD5EOO6JsiOEOKMBVBlFAbgLl29lycVR0Y8s3lBlB9qMgtMjBndWO2mWoLqQDWO9bwQYaz0YbmgUaHryAeOG2+xhOEU8Ox0ED9YHBuFjBGOzp02-9CsVPh5jBnh-xTL4aHrwQIQHqJpaPjB6OpRgDtO6BVOuBdqJhjPrBwQOKVQ7PdOAVRpH1C1vztUQDo9KCz0mNtIQsiYUNAuOZ2ZpJk80gK6IxfOp0UP85EvQB5nRIO0guDBbZfOhOO1FJSgf2pOQIAPYpgPjVfPxz2wBsItedcvOZm87MLYktfEbTEv2az1TOLqdOKUvOyBH0cv+8AuxBC5YbZPTqLqPLJFfNmucKiy2vAvwg0aJwYacOevjAmB+uhhI3huCtFvMPm94RQuDQ98PPeu8pQQWKYCygzuNvvPSP1tUgWZKu9t1vkZcGpwWLg5BuRu1ashEvuA3vNvSAeJhN3sFPzoXvvtRIAByHD0A5GuHsHzGgj4bxK8wIHz5UgDRLHpJnSqDiumWVadaW2XHvdicLjIQYQFG4IFGuyLSMONwNMFG6jeEB7qgt77bkYMnv7-QHnm7+z4H0HlYU7+zrnwYfniMfnzHgsbHnG8wItkt5QMtndizEPDwNNVtQgPzmr0g3nBtZDynyGobFilr7JfxBtGTwoYAxX9YZX6gTQefdX65NwTTrXpDkXqD4y2uLLrjDtBFJOqRPzd3yg4yWuXK0AXH53zXhtCY6r8LPXxuBtRmxw4vcWoEEMKboP2bupIrG05PtY0FjXpnsmF3RkYAqPuuYvrTobgvwPVuCF7upqj7uCY7hnaR2DoBKvl34wUv-vMHIlbvtNGeF3D3sLxvgRIThR5DofkvjZfvMHif1OIT230th31X0SmfpcJf42K32IG34tu3lXp32fmvmPEP0Pjvgl5MeEuF+QHvkf-v1ElIrQ4P5P1Iw5c8-3g2CRbPhzOv5Ig7XsIuhW4PiVEm20Ji35kYsffHszCXAG89stsBAWF1Wo+ILIF+Y3HlXm5uQoBhDFZGxQKLu9IOcAuCO72Q56UfeYPVAW2gtqX4TcfpcwFJSlTbkC0TPNDDlH6xrQNkwgCoIMBgGmUoBRA5vqhi0hudBAPA5nBpFii0Z+BmVN1vQE3w-4fe8vFyncEawEEx0n1YjhwC8obhIOLMMDqOGLoWZ0eLgdQWxDUqGC-g+gcwWdB7K2xbBY6UwaAEcFFp0yrgnshGA8FiDXBpDRgKFS0EUcHOCVSDlWE8BWCdBrUNKmIN7aDAIhDnISiEPx6dVKKrgwIUYKiLcAcqEAl2EG1mjgc2kaAqITIhu4H0yYB8BgOoBEAcBSA9MajoQDiw+9S6WhOtO-1zo558SPaM6ISS6FqUc2AQoodkIfoz5AMNg3oSNxeqBhLagxWvBUKqHCAahWvLIWHVFpboGhYwjQW4NCIeCf6c9IAYnmq4sw2hhkRaCzFyDrCkByg7gOcI0QUDtes9PCBfWGHGFw+IYBiAxEWg3D3eEfE6A+gGwFUKgJjLsGyEBF8YZ4hgV9LAP86GB+kyHUEb4HBHEgngYPFmAyn6R794mvHLAn8IXZkx4RXYbEdLDIgwjyefLWIPiLJgQj80i6UaM9B9wUijAIIgiGCMpGQjTKmjMCLCL2wUik4SIy-qiKAQkiMRBgNptUFpH9B6RzIhEYMB5EQingwo-0E8GaK-CiRmEfpAuhYgqiFAvuIeKCnxZn4fKWiASDIF1E15700sRjn8OAIGjqRIVU0TNHNGPotROvFms6OQ5MYweYosgHSIBQMjDIDKQkTxCt5KjcmJoqgGaK1GWjVR+cZ0RqKQLVwxSpDM2JSFBB054h3AQhG8iSHkhzwrgnoZsL8G+5uq6Y4odRHZEdgwYXoDYRYImEjkFyYpdIRBFYhUBlhaVKrhxC2QMAHGXEXwe4PGFg5MxrY-2hHw7G8EuxVALiBxAzEtjSxPZUKkJxkB1hagMNZDuCEXF7BlxVA9oDEinHNiboyHecTEE9GpA60g6SditQTEFUhQXrVMd7F3GDjZxx4k7KQLPGcx4GS4TMVl1HEmluxC1CMIOgVErAIwn4wCdMG-GMBfx4vddHNFAkt5bYIEwOh-TDqX81xS46nj8LOhnscokYocskKXCVMQxEBJjCoJUB9BHUGyRgCIMbhUT6A3ASvjOKj7ZjDQfrX8bMhpBL5GQ4E8cZxAWr0S3kNEtNueLJHTBGJYdaMoaQnHuNt8C4tCW3yoIejPezdLCYwEjGsTt8JEvDACh7Q1xoJOveGlBMnRiwz2oANagAAkNWDAAAILgBwAGrAAEprVIAAAeQNbIAgQTlAypIDUCSD4MRoaCVsiHFRVTKmkvwb2n8m8Esud6bSdXBH5sDPi4Ey-nek6CNgBJhgMQUlMyA+T2BVxHsmZIsnWTbJDk5ya5PSkDhopsUqQaWgSmQc70kY6KSuizBroEpjPSqfQHchaiWBIFHtFlPinhjeCgUnslqJ1FUBgCPeTMftXAK5k1AJgJ1C8QEkZkqA+1OFn1KSADSMRMgLye41SnhTVps4wxMZOoxS4HAo0RkAAAZE2+sGoPZC6QwZdeQ2UhoMGti3Tcgx07QECEOkvS2KpAB6niHEkCQPpMw0aGIKNJXTYE2g5GCWMOkJ97p1AX0PoKXDnoWKLMKGcbxgSwzee8QiBDkPEozRtYYMoIakGqB0ZmweJP1ijMGxozTQNtYGjdI4B3TKZKUEmr8mxEApeMbAY1LIKZoBxWhTQwyKUBBk0z4hSwuILdOhmUyZaVWI4ZQL7ClAWYLMhgGzONSXD7hsE+WYrOVoX8kSC5QgOAMypqzOgxqajCRIqAkARAqQUeEUJLFMS86kAwIKzINn1ot6Bw2Lq0OiL5Ik8YyGJCWMdCl0Vgi0LAgWE1pFANCvs4sPiXzE1jCxAwgaUHL9kjDKxX4FgBaz2yLjCIiE8MHbIVkOzex2wh4cHMFwhz2hZdGfEcPCAqlSg+s9mVBJ9kHR2Qmc9WXpXZ5sFGo-VYgEHPeECD65DshtBH1iFJimkTdJBNYJLGp1ZxpMqkHmKBC+D+hxY9Dk2KGGxBXwALd8BUHBiDAdhpdRaA4FurcSex4w00h4I3bCTR5OVSdiHJaHDxp6v4IfHgEhB3yHCnQzYRHIFozyLYJ8sSSGEWjLyKxq8qsR4JyJTCd5kE9MYhIaA5yLM1YuwbBP9AJVDi9Y4diPM6AxzbC+w18CbJOLmz-Eo8q2chMiC1MwAd8yEJ-NbioSNx6ElBQniLmLRYhjYyIe-OiGlF0ShMbeQR13kLVCAC4O8NbKNFuh5xzfdcRwGp6riBFm4z3p7KyAcK4WpIA8ZFSfGnj+kQkmID9kvG15rxU0BuNYMkU8AuFKwz3rWkvmEBX0yHPuWosHnUBNFd4LRSEPwWgBCFT4lmBwvCBviSB8EaRa9zoBALJJGsxxdApEb5xDFpI6YCwtxCQSJ06I0Bf6AnSkhfFE4b+mD1IWCLXO2M0uI-lxBEJqMxMhznxICmR9ZeuIbhaxSpCDwBytM+KBeD8z4yHQhMgjERjJIskPFrC6SRnwnDBK2FfPPJSdkoABSIlOGdcDaWKUvEjZMS2IKJIYWZVWlTS1SCIqEV7YFJKAvAv+zyWZLiSrqZ6IwCGUqklJkgbCYGP0ATLSE+eHuMZLykMA7JlkAADIas3JNtX6BdLJSbTSl2KcCQNMg4hTopO0ugJFLKlLoZ41GJ5StM+Vg8MpjYP5YzKwosRgVjypUfjxOVnLLl4AUqSBHKlkxQV1U-HkNNxEVt-QtU3ZfVNXQ9JmpES8ENRnamBj4QGInFYEAtGIyMMHAUlVSoUBs8I+weVFQCpeXorAxw0vUfXW3DUZmiuZYPOkpgyZLlpXS-qbOPWkPLWVYq3ad-QwmTQ6ZuPdpWQFxDPLSxjowaZyrDHcqsVQda+hAUMgYrjiteP0R-W6nbTsl4qhKgqMIkP4A0uIUFZatlXITZSz9QMSRI8KLKVVyq7HoFI1XjyBArQZEIyC-SCD+e4IT1bjzPqCkV5n4KUEGqzwFdqQ1bAFEqtx5+q3RzchNcNgUEg5+ebqhlSRIGAorbpdWeaQJJ14ZKK1ii3SOIJLWPAK1YPYtT1OolxSEMYg5teWrbX0B6YHwYIACgEmFj3lFaupX62Nil9u17wRkCcoKn2THJLkhFeSBnU2S51xU65c90nXcBbV46ltUaAFKLRwQGIJJeCrjgSCMlRszdH2sCClKh1S6TJQKSihsB61pCadeZNOUXKrlfkWFR+vXVLhqMW6tpjur+X7qSFR6iPlDlFQMFMWGeX-C6IrqwaxBcRN4NBpRBa9DRgpZWUp1+QAlkNzsJQYQHQ3+z84CGqjr6lsrBQUNyYNDXBvlQkaT15gOIhRudjUbIOmG5wQCSY0oh8NhG1uHcKw0ooagYgVxGTCVWwbWNQCOje-lX729HecsFjdFSPFyCJN8BEichvwBEzcNXGjNe6uIEyE16UGjPJptMBV12+Bah9GDzU1EycN9ASjVKk4K2aBqpZSNUsqQ02bmNRmpQpBFVJmbpYPcUqBCCp4o1nNKqlipZs+V3KUUFG9Tf4k43GbtNha3TavUg2xbecKWkzfJIOJ6KvpPo5+ECMGA95gt2Pa4pShS0ZkUgDmsHD5qDGC4GgtqqLVZtITLxyteGsrYYAq1ebK8VWouP5sPWkAgtCyqNRmPK3Rb6Wl04gEJraQu54tD6TVQyq5WjTtwfCsAjVtbD+dCtGiQTcJq9VFbR+wynSFsq6wqTdl39CrBzQO07KGVr9f2oLkAjIlfoHWpEMlWdH4wet9PfrSLlTV5KWKm2rQKNozoxS2OhQpofjwtJFCL2XwFgNew0pFUdoEfaTcf3TJTb1VzoosF7S1W6iFtMCl2qE0Ug1wTA-AZGOpGYD5CtMCteHevzfIKJdulWyKr4sWpZDqmiE1ajmCPnCTDcdAlwBxGLrfTPIE3G7fzlEjk7HeSMNnh12TVjplJjoq7XyCq5MYZOXWl7fwAhBC6N+OsCyOtpYoq7589Lc8DcGXTGM+MjIAAJwnAoE7EExlLvQ1m6QoFuoaaZmnAfAuiTs1-hXQ+BuzABCeV8ISxEinSnZhQA3Rohh4w8LIaAUPdGo92O1QwAeqCW7t2ENAA9jo0hqNCjHajeUYOFwF5DgpvDI65I83XxkT326uOfyfXXnuCbMq2AvGfjEwEExvgPY-a6bb5sg5VbFdYzHjHxnbJq7RIGu53BXvb3V6NwEWwmKf220aJqgpUVcGQEehIJJWAayPoyEr739NeYvMffwGM5HAmV5IV8LslIBT6RWaXVSEgnGpRxS60e8EJ5C8in9clKq90HZ1X2W5YmCIGtdHpl7erWgxwUEvsIiAMRXwg6zgQOp4Hxr3dsQZtYdLLWTqQCEgwdbRjf1x7nZ2+3fTDn31AhoUG42aBvCLn+7S9EIc-bzoEl1rag9+8-b5A-2UL3hTw6YKfpwO87ceF4diVKkINEHYDCeyMYas5WY7Ft2O5bS3hf1FbQFROpeAUORitBApW6lnY1DablYFR62vngikwnbKjtl24iVjIjpMKQq4RCiYYHsjrQV99yZiVSFaDz6Olp-ddOdx0Nr6N9ehgQKFUpLSHhD4ujNvIal1KG-pzNCutYay7gg7IfyHid0MzHkApI-4UXp5xH1vg8hNALTHYdtjuHRDDO5ouVh+FdZr1g6nNsOsnX0wtC0U-tBWqdnnhd0QIPFY1J6QjqH5frNjpOUTiDqtRobW7JSofQ4gWpvkugPSofTh7Yg-m7oA0eynNHpYN5PsButamCTbVZRwIPa0qPuqBShcxhe-ivUApDpKRu9RerdLWsAVjIXpXhkbhGy-IGRpdP2gSk5Ht0eRm-b2gam4gmpAK2A+eGGOJxDpVRgEOjVqMWiOjwlGDN0cZWwH2j2wZ43So6lW9kZMGADc0SuP2sbj4x5-p-qmNYBh9SqmHiIP0BkiAAOlgCrXGqyY-WGQMEEfRy7EmVzOUNBGD37xJ9Tdb5CcChNLKYTcUuE3y0RPInTZqJyXOiZB7rpSBvAVcGDh6AswWToAAAF7RtQAiJooLiIly+4MT9O7E9ydG63Z8T4IeA0ScKhQRxY6hoQJofWgwmUTQphk4+hmbcBKeKNFgCjWUAo1qekwGHk6DwCknvVqp2k+qZFNan+WAW3U-qcNNs8pTvkIAA')">function store_assertion_in_index(assertion) {
    if (is_indexable(assertion)) {
        const key = index_key_of(assertion);
        const current_assertion_stream =
                    get_stream(key, "assertion-stream");
        put(key, "assertion-stream",
            pair(assertion, () => current_assertion_stream));
    } else {
    }
}
function store_rule_in_index(rule) {
    const pattern = conclusion(rule);
    if (is_indexable(pattern)) {
        const key = index_key_of(pattern);
        const current_rule_stream =
                    get_stream(key, "rule-stream");
        put(key, "rule-stream",
            pair(rule, () => current_rule_stream));
    } else {
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p36' class='permalink'></a><p>
      The following
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      define how the data-base index is used.  A pattern (an assertion or a rule
      conclusion) will be stored in the table if it starts with a variable or a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (indexable? pat)
  (or (constant-symbol? (car pat))
      (var? (car pat))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuTLiQA0oOQAFvKS51GGJoGW1rb2SSaJSURj3VYAMghoDeSm6u16oAAvCjnm8PhcDkJjqI7OUlCwlgiVkkfuY-ttAZ8ri0bmFweQngAiYgE+RM-pDbEicagOgATxc2Uk1HwklZhIZ3w2FIBsO650oVQ8JP0nMOo1xgKUdDolCixEJeilxhlWwBZwuNLpd2Jj1ATJ1eoNRvIHKxmt5Tv1hsSoUFmWVNVVpt+5rs8tUirUkejUrV6qOPLE3pdfvm0kWknkAA9NJZdeMTWSzLKI7kFSC1HG7V41Vikyc8VI2qRpEplLji2b-s2MZdrrJ6bXGQ6NPRznpJK3253xhzfP5Gk1+9ah7aVfamfMIkpnDlp-I2x2lLiFw1l5aB7T1wzmZ7aIfj3PaO6uQ+7DOT7j-UKg3tSVSMsYQrKMq1UWNwJHBNEw-UAvxfYg5gWd5c3zeRC1obtyXDEC4TApUCP-Xp6y5RstRCdsXBaJRszzAs9Sw6DQ1LXCrzXW47wdKjnBouj0Mw4g32GOCeL44FlEJKZf0DOhsNY3tQBYJRNFUAU-xFMUJXkJ5IMI6DSJEnFeTE2jMhafl5M2RS9OrKDNzrRNyN5EIy1Cc4FFdKzgPYwdOJHZk3LCU95FdYTnLENy0IYotmJLYDbPjBs4JCccWjkcYVCs6zKV8m9-Ic0cmTSjLaBUfiYtfYol2XKkrT84dCuZErcXK4LPMScK4JazKZnQ9LSBC7zcPXSRLHwLieFg4yxB6sqZnHOh5AAR0WY04qAkbbjG9ouP4abkx2Wh0tamYVCmVkqFmIlCulHDFNG8auIAZiclKpCW1bdFIJYwhYQD7tyqRqQau4-qKz61p+rqZrsZSAGt3kh77fvIf66DuhTKVvJlkbIdknnBjGPVhvkVqhpGPNCxI5PB75zE2mzQLjOmDqbAhQTCdyQq8onMZyuVQL5knDs2Ln2upvRabR8gMZYgW7BZmXiffUmQlCzRyH5UJyZRtTlf5nyHEISp9fRtmKKkdtxap3mDflo3xRNuzCL5t61akfdqFIeHssdkH8sa4Mty9n2YdF0P4ckczLI2sMmfwmtbvd0WQhUzRZEGrs46xi1gfqwON2DvRmXTzPT3nC3eQ-CqMMY-Ic4VvDK305ORfZjsolrwS5MbhLmfApPi4MQzuXZkId1UND+abvKbSnvNmQAfnC3AwA-Bh8GYNgoDgRBkHQPgeDHrV5AzQghoC0BdFmQ22KtuRFCy6CNjSJfQEmJ+ZnPm7h-0V+ggAC5ATaSlAAwI79pBZHhoQTQMlhQ-zUgGYUopxRsilE8G+-9arALTpoDOlAs6xVuuA8w78y6WTPgsIaNdop12IX-TBxBb4PFIbVUaqCf5yU7t3euvdbpMNvv-AAkGYXBUhqCaCfuQagjBJDVGcJECuTESG1XflQzMQ1JHSNkfI1gijLrjA+NQSQZdCHKIbgI6+zDsHLnEXo4gJ1epgLUdfDMDinHzS4lgthoB7GmV4QwgCtjGjvwRu8D8qgAkSTZNJdSskMG+NqmkAJMcMHWNvr4+xeMfouOXOo9xOTfq63xtzDqUt4yCJCaUexGstZlMlkXYJvj36tHaJ0FoWTASRzyaEtx5UelXx8TgwEQVbaJF6aUAp5Uxk8wmUMmxXS06FjTOtVR+T+lnRWb6NZw8qlYFEX4wENcEIWKlIcswByzDTM0QoVQJyjwzBkQ44KU4ZzpOGXYwEpzs7rL6Rop8s4zkLMySMxQzAwRXyZAAVWIPDYg1AADudgBR6CUDmUAABaTFmyL4KFXnBCh9ySBPE7nLEslB8CgFUCEfMlAWAZWupISJwg1Ty0BgCChQIIgMquhE2GxLiCksYFEFW5hBjX2kEtcQVKaVSARK0ZlArWUzzMItcgYsTYaqRLimhsNo7UAsoK-QrDklmtKLmBQjjszMNBLQLySTzW1RrjEqSig5KstNU671gQyVep9T62htrmA7LuCqzkaRHZuUQQWLV1SNnRpQg4q1dxY3SAMI6o5bSOgJBaAMcVkrpUlnMOC2RgrmSwvhUiuwcEtZSKxTiihb5xVkVEttThKE5JoToFU9lTdlKqU7siAAfLqu5ncqmYLzCrDUpMAVzVZMREkvbi3+0YIQV4lDz6X2OqVRd3KujmLudBKp8a35jpuo4vd5VFolKab0fZyTgEaLxZezx+7zqKEMddD5NjkpzsKSU3JRMV0bEpdS9WcR6lFLNrLNlxb46UmzR0-NBb5BSvkDKiDVsdTkAaXbc2qqOV2BfTQzmeGJYEbgw8LBqGzASvQ0W0h6qOaMBtv9ZCmZMM6sdaRu5HQ2MUfGcaPmNG-2kPA3KnavZOOLHueR9yHGf7wcdcBAT7G8M-zo0EBjGG+2lGAgCmDmacI2zmRU0TtHSHDECMMWdosOFihIKmXNqhtLkp7JSAdbm2QjodAAKmc9sro-mmRPHcyndmdBBpIWoBuwF35xj8L-uyyTIQYMGX02q2gYQ+TK2RGTL6pTKM0ylNpxDedsxQe1jBvmJnQDvwqNIerwD066G6NFvIIp4s-KS-JwT+GJlu39QGwInXYs9ceYlnLqh6vmvCTrIruSCxCfM7LWDGMEzad00xxojtesqL-o6yBnEDtIXidkeMjrgFNe262gDAyoE+28TY9lLGY4Fcjgao10FtMsaeyoBgOrxvdbw2duSMcI3mBY0F50uagcf3bU51kwXugA6lVD3OJHt13JjlOq1tIb52tDVE72gORujcp4EWHPoug9tAHNqny4sGRdPu42Z5T73LoyTPYCC3E1cdm96vjSwor0XoYd4Jp7-2iwBS5ryIKZ4sZ-gVkXqh5fpiTXQwSv7b7aZc-A7+KF1fbNdIb9JP8qnaeAlp+7sv3FnZe7fdlBuLtG8F2d83J6GdM5LTjpYnuf6BMlw+xnPqWfW9wsh3NDY8AbyYKwdge8uCHzQM9E+Llgbrs3aoHMvP74GuyLkfIeefeuJzEk59jAIW5+ZJkIveRr55iPAoFoTxLA-UoNdFogCCWkwW5E11Vh3VPDxzz9lwEcYKutR+MLc2h9THp2PqzRlU7yo8Iqll+fFJz1vPgZqG+Z+w3DuzF1J43Vsfudv7G20nr79AFNduWoa5pPwNfgEj1dr3-2k-6u+qichpeRv4T5bRcx35PCvQy7sz87hiyaXoprv4TCcRMgC6LBhagDjgIG-6nBSCoFLDKYgE775zXjzyW4Oh4En5ah4HJoTIEGrq4SJTKas68jfRQJ6jRA2qzDE5eRYKEGUhxgr4RQ1oKZbzoK8H0EJzdCCEsavCoTVacHcGJAFa3YZ5iAD6SS-TIJSpPBcKIGgDAighIJ-j066HYE1oaGG4eoaH0wMwVblj4SiGEhVxiCOHvBcL3LWFrC2HEbPDgSuHMFiCWrtYKGAFDZaEmHk6gDOA6ioSvYSHYy6BRCvBGGySGAog6o5DRDJEZgYxJLvwGFgjqHoJu4REY6j4xGcFnpAIfyJHJElGGAAA8NRWRLwqgORVR56paYITIAAKlkEpHkPyKAJ3E4DTHyLAgQl0MAkyKAAANRl6U5hARDRCUqWT1FzEOjMgbFh7mBLGRBRCrFtGA5qiZpV4169H9H4DyCIrDEiqjFSzjH4KyBTEOjbFM57ErH4BrHhGGDzHoEzHzE7FmAfEHFfFHEY4BETDQKwKG5wEpHZCgaBBwQ3wyBZCqTiGkJwTjbwnaGgDtFZZBCOxNY4m5GU7qLMKomSJC6+6sHUDsFdwAH2oTIs47HAJu7IioiRj1FAkNbNzgmklU5skxZEQkkmq+GETtGY46YSayo3wck6qyFVaazayMmhpEZpBdE4kVrECZCtCgDaTNqlA7aYYIalAsauEFbqZ4auFTziZmrATYmuGWEeFsgmo8nmBOnuH+FSm2YbA2Y+EolQJUmCFCHDHbKwmIJu46EqCIkelzoUlBnolxGYmkzYklHRkY4El2EgLOyilzbkmzCUmqRAm0n0khFMnGgsk+pslaHyl8ncmjbvxLR4aRg5EZkdEjLYksw-FPBxiSnlYFoynUpynpFohyHKnllqlZklrV5lpRkOiwq6mOL6m+bYphlw5hQ+loZ6amlpDmkaGWkiEaG2l66qa4SOkWElEulOEU6U6emdrXnyCkSND+n0aeYAiBloknlORx6wybzbxJ6cAHy8AYCqF9h0q8pd78qHTGoOwF4BzzzCDMgQWMrsjOF2AoV8qSD0oZyNJnKspwWSEikqoNgsaYVQVKqHQI63jgI4zyjoHmDyjmpumlA4zRgMVmDRjMW3mI70hMgFEcX6EgiMDcW0XIHriCXriiWsXIHlDOzoFyWVC1QsUpLIHpR0AZxKD8joHqWaVDHLgqVBA4xdEcVdFmqGWBA4zKSvCmLOB0BhbWUvC2UMCNAWXmA4yzGCXmC16gD8hpGjoYrzH6VuVmA4yYpeVmA+V+V+YYo4rBU8U4yhZPBpBRX+WgAYr+a+VmAhW8V3BMjAARXUo5hPDRVIgBWgBgDxViV8UACkhVqVMVoANVWVoAOVOM6RXlDVZV6VdZflCVyBAAhCiJ1cVb5WlRikNTqn1dVXlQ0fVaNaVeVU0WYNNTJXxQ0UiBFV1UtTqmNf1XxcOvNSVeNaAKOitW1cgcOptclYENtT1VdedftXlQNYVT1YEN1WYANeYHnuApyGRTyqhZRU2JYciKQt5vKE8ORUyhvH9TlhqlDdBcDdQM4AAFYt5A5g0qSCp+Y4wI3oGJTho8VBAI1A24gqxYD-X0qA3qp5CywFa3g4zR5dDoFM0tA5W+6WXIGQDEA5pyDaXJXc281azs0c2hXIGOWSCwCQAcUS1S0i2i1WWnhOUACiglEtyt8tHNOMAAckoNrYVbrdrR2RzbDROPoQDVhTTVOCUaDY0N5qQH5pGKQGKSTVbXBgMJTZBUym7XARjXbVjQ7d1YlM7S7RbRRW7eTYSk8drCTSyiSrcVEOuHoVypEJIG0owNIPyPsZICjUoPMNFhEJrNSU6iTThTkK6PhSQJrUEJ3EnX0EEHblFlsHAqqV5HoUEdaq3RMvVm1o4qoLHfqumQsZTq7XDbTZYdXeYL3d0APYdCKKjejU8O6aPROOPboUTaUIqXUiqcGhWQYA2DkBqoqYncjeVF3XoAVs2TCefXcJyGvAQH+QnjvBwPvNwJgGBRgbQOEEoBQJIF9GEEYspIwL7DuJQHuDkHoXJS4G4IwR2GA-uE+ScX0olH2XA+A4g78Q6JIACXlssaCZZLA7uAgwmKQsAoQ-AxA+hZ-SwMpDrDEq3vrHgx5tmT-aQE4CbENGpKSqQM7X5gwPMerjw3WUyDMe-CI0cv8Rsaw5PcuCI4TOEPsTOqGSQBJEtIw-scKqKpo2ncQKo0+cYMIu+Sigo9EBsUyKoDg9ULQ0tPQ10KoN5jwiox2EtJo5tmY-oEyGYaAE42xu8FMCwOriKpA8bKbJ3B0WI01kyKQ4CLeGE6AFCL4lJsSXGGE9VHySk0E4YJNQ6CvOE9SpGHE6OUyCvHkZ-XoMoL-f-T+EA77GE5XthqYk8UekWHEwk+aviJKLQuLjrqk8bbyeYzgz40tB8IoAEwUyKtwpk5g5mjMTg27ppGgp0--t0-XIE18NM+arMxsUM346MxBAPIRGSmszBHMTMx4-UzsxYxJZo08DsyM4wCwEgzUoCAUcc6Qq0ro840sPxcJegbeOM18L2eBKk7c5874-c489E+liYzEHU30kyAAOQ4NDp-FIvRMgmHFhNeN3NfSMCWS4vRXxGVbEmEjQNgiRgEsyNmo4x5AtD-GyL-EIpuily6iKDMvkEmxoVPPnqXMUuLB4tilxiUugt6MQsdHAK8ugTCvilqDSs4v8t+VQFai5352kCF2aZJr5jex1wLyaDBONMEJEJYTTzvO5UWNmJGtCRPBdMCSrPTwb1pDeYqs6hquUCaxwHcrau6iuO6skOND2KgImt9I4wryExaELOBt5jcvVFoRKu8gEues-S6i+upayp4KGtnLTxEbmmD21k8aNDzOoKgI2uVT5BZsDn-VetLS0hkoFbeYJtatJv05HPlsAJqa5t-jCMCWmuvORiNt1zXBkpimJT9uss1sTN+vPM1zslFMSU9vMBNuDsTPRPTt5uohMjOsF1usatcZRN9KvOrt-gOtBBOt50uvqseujvNsTO+vRuBDAIHsduBiQ0LsDvjuipSnGlYZJNiFRtEaT7IGht8jhtFu-t6ufuFomltu4Sxt+mN1ah1pLDTx8GVavNBtTJ8nodpBnFlpoTalVrIpN62u8iIeUG8iYGlbIdEvgXCW+umsCFRvROal4cLlwoIqEfa71xlMpr2WQnrlstGLPKuCmItBtBSFRsoeKz8hSIptFNOhsueOqyixwg1usuMA-hpJUdGN8kUcVKtuHB4DaKIQYgIOQ0brDHLlXDkD31byJ6kAvAqRTCgDPTUpLTszPRp5p7-yhlOjeyqCIz8jt5HiyItDMM+GKVqAd4hcCkbKs31PkxZQBe6SgSRhReMCheTvJLvypfBfpcxcjK+ekD+fyCBcyuqBpcZd8cLbnAIOqBK5w0fxk5PLoP03IH+Y1c5ChZSmiTQmqQBeSA8BPD9f7QEksZ0CEDOAdfcbrl+f9eDdlfo4meUMDlmBpbNCOLtKubjeTfoMqb2lR4bc5pdAregBfu7lBAsYVcFaFfFfaz8BAuuwTdTfPnJKOys3le5ds07EfNtBHedKU7AJxgVdblvm+lIlqz0Bsu3cDdDcleSD3d4koTqllO5bbdTfXe6izdw-zdxiLfPcg-fshDvdo+7fI9jZWAYiER4-oPHu1SvO3hzeQ20fDcZmLBqi09Oq49NdLcYMndneOqXefcY90BY93cPdqAk-EME-pBpvre-cdIfcaDpd7dBAXJBDNmU8S9Pc09XK+6vOvMs+I9cZUveosza9S+chq-88+oa9A+fes9Pkndg9Glwfg+iy6Wnj2f2PI987CNBkwKaB7tOqQK9ctZKTCORBLTqdB-ervyR9suM44eFH4fsd2BGcWINq+EIOGmg8+Ee-kD2ekUNfp8-jo86rVfoN1ce0NdWcFYl+CeV9Mj++wJvhkXmc6r1+PhTcWPx-R931wQLYGLpTRBHFEM5AO96GvOgM09G9s9eND-Z3T+1cL-RB6GRgr9fDz+RDD9dyIIb96Fxj79b9XocGp02lL-j9MCumSczdFcX86RX9OFeMd3dD38O-WueHUdCWGGD-b-7Gj8UMH+ymD-q6TjanBV6egMBnchY6uFQWS5WkDuEkAOdHEOQRgDPG6iSJKEEnc7mt2Qhggs205bLGbQ36fY-+p-JCDaRgHWEne4XOXptzsb79vu3jHUnFmtSIDkBLQVAbqxAFOFWSn9TQJZA35wl9+BPL9rgLQ5-tCBTcV5hoAEH7N8IWbJ4LIMsgMdwOogyDlIMMx5g+ervHwsoN9ZgDjGlgAkAa2CJtB2w-IOxnQHm7mCtK1wOgCNy-4Rc1IU0U1rYMsG0gHBdXaJr2yFhTQOekVNKksVyAsBTB1qdwVYPCAhDNeLgk3qLXMARDPB+0KhpECmA5A867wRIS4KeCJDQgjg7Ts4OsF5NchXg8Vt-3JZ+CqWdXPzKkMUDpCmUWQkofwDq4BDkk1Q7qsEJMEswpoo8UMp0NCH4B2waMLGkhT5B6FBhp4K1O5GMEBN+hkgbzKMM2xeMJh5AKYf0MYYhD9WxJfoXkyaxQs9AdQ3IA0PQx2DugjqLklEIJDV12ho6FYWsMuGzCHhMQnYb0ORI5gCc2FMUItFuC0E0GpneCKeB4H6Ni072MgVEFIEn8u4Z-Y8m-0f6O8ChdAv7qoEYFZcm8BOAATPxoijh-C9TYEKsK-TzDPerRIQXvzBFiksRQIvjniIuiEiC+rRPETkMBFwjxhB5IpvgCrDM1h6ECB0OyKVDM0mOq0LKAyIBFJBTWFpS5P60BCTw8RhgU1i-0+EvIfhxoYURSOZFQspA+vU8IYChAvNaOWIvJtSIJHWUvecYGUa0OXBxh9R5oxoIaNsC0ivefbLUdaKZyRgrR7pQNNYTKFMheROQOloYL5D7FD6j4dYaXi-6vNRqNw-Us7D472cjwUcLrPJ3U4tM1OuIJ4A2yZEJt-Cb2BrsaKcppptUQlfEXaNzGqB0xo4RMamK5HxDlwmY6gdp1zE7Rxu6aYRj6P5F9I9hko+kkGPOwPD7GRIxsXGn9GEBhm2-XMP3S1E39oWeDeQTPS1F8crO0wkIbd3m4Bd8hgQMbgVis7LjYe-IH-AiJ0by8tuhgRrM7COR0B-Ro4nMJIH66ihxxAMaHA1wC4FZHR+9fcZPAC7HicmMxYBAFwPpWBQAPRAABLK1JAAAQXADgBlaAAJR6KQAAA8trWQA6oVCoZK4nSNMQpi+stooVMyJv7Dj3gl4u8RdDyYLjLxg7TCTNmwllCFxKgLZFHzJpeMaJlQDCfRL6x6EgJIE8CZBJgnwTEJjEinmRNU6sTKJkwr9HoQXHrDLx14uHreKoksthJxATFP0L7yiwc0QkgTiJKLE4SsxX-OYSsO8wmYsRTgEdIzljE+xTESECsUWCMksAmeWkykQELQn2cWJGk+gERK-SUinIh9CwJyz0QkAnOOqAAAwDBQyCQRFGNF8kWsLE2FboLzl8kaB-JigArOugPAJSDhIleYjwEjyKQUp7wNKVMC8YLYwpeAwARiP+G5SDW5cH8JQDZo39XmxTdAq8wqlRTqpbeMrvfy2zwdeQlgbSCVPQZSBIg5XTlvVzNrNSmmlrGKcoWuIRSDwLUoxDVKr4bBa0lgd4IihUC+wtOe2AvJPGQ7HYBiiMcUNNPv7cCfJs08adFJql9MjktKWjlhw2SvMohq09aTONvbOjngK0yQGtOkC+xVBmXL5LB2d5Y53p8gJ6d9KGkQN-RbQKRI4gkRltF4iPMfg-x0lLTSYj0z6c9OBFDkpMO0lXrVEkwJc1AsIxBlIOzLhBFgNA+jBoPO6NB3sEInfthQoHHkkZdYn1G90O4K9nAV01EeyIwzujAeH0r6b7BJHG5OZ0vFtMImt6vcC8aHWUT6nfhozBZL04mX4GBmgyfp4ERBnNmAQ8yloOgwGU3AVkYyo2-o+UZSiBB0k9QtXWERmEpHZjiBYIumdnWhHoJYR-hbTJJi+pE92ZrmEQQSWAgkBVi9o4kWCOEFkil61YswDbOZH10-SGg3AZPAzDwZfceAfzKnOYwNcSBOqIQc7MlBRy3ZpCYCJ7MREcyyR9WD5oHJLFv93RaQYWYLn35vTnU1hMPi-zKmX885LM7ctKkkxQz2ssM8EtGURmeS1gKctOVtMUjeiORfo2OYxig5jzKQLc62TGWjlwd7M7MAOV8SDn915umgBHsjOzIWk2Rk8mPkEDEati6WAoi+GoE0Dbz9oYojQuqLwFbzZZGHU2WKG0CFhau18yGrvKbmSiJ4HYfuiNzlHvDgiZs9+ZbJyCALIa83LMRVTACpz-MD8-XlNHibQgbphhHeXk3XnawSxpo-we6VNH7QG5ZgbBZvL7b4KI5pQPtkQurmNzXSXos+Yp1XmWwZpSwKybQH1YIVYmFEnCSgU5ZkdZotANsMOKLC5S1+BzSLsNKoYVS0kYiycSExdiKLwZGDU1jS2kBrT+QWeNAmUJQbgQxFrw0mFyloi5TlFaYhVkCFEm2AzFigbWHvIfFm02wxeVhclN0Bsg+pCDAafkDEV-YGupC-MQVkzSkKSxZYi6MQvXFCLMwqzRxV1jEVhLzAtY0Adpz8UYQtULYo+aaw7HPMRcf9BVsou+yxx0hSEWJXNi7FWBgxvY5JU2JHh-iNUHEyQFBOhQAAZZWkhKjGVAQpcEJyXmM5ZyRsJtsr-vhIZltAcw7k2wCRIEkbccw1wXKb0ssXEBqJFPWiawrkhUMmJMwGZdUK-51KGlzS8APxLwyCTlloy+ZTfzmHT1i6ySCSb2Kkk3iJock2hXwpyBKSHhHIAIVcpmEWMgOjy+QM8pmEcg+OXKDZX0twm6Snh+krGiZlyl+ZGcRi1haYsLGhLmRjkqwM5KBVzLPJ-ovUHEAPAEtSx5i4FU6R2GnKwVQwgyY0APmjpHUZy-BGYJOEeCLlZqNSS5KTEzYQlHkpFXNkjGAqeleKmxRYvsnMj2ahKh4Xx2yW4qCWQIxcVcLtm5ZlowgTcVYCjDSclg0rJkGKoVY59Z4xc1zHKqrqlMsVuFHJTYt5V4tJVOw+prqssQHCKk0rYVTML45hBZE7wdhUhFTqESXVM8XAZeMr4erkeLGJ8TqhuUySJoHqk7ixjYbV4-QLqqVWwCRBAl3lS4pLg6BdW-KQhmqwIJoA3S3d5Jrk1NQSDnxmpXmLqp4JGIjU9S8M0al4dtipkry+hMiSwKwoZlDKxxcikEQ12wkFZxwwi1Zt4rAyy9m1OYSvlRL9WPiSuBWINdrFklzKCe4amwOWsbX9DbalOBNQSGzUcsnlykgnpmruBJrvlealgAWuSRNTOWJatKmWr9AVSq108ncrWp86idG1uiF1SbgUn6sTFHqqsdcmGL3q31PCsoSp2ZVdhQ1SnDuPeqfXvri0jqhtdGrdWTLn1rkqUixmyDqSWV9AArHUq4nQTYJCEvZRsHQ0QTMNvE1pUWp4Wnq-MSGgDUlilLAQmQ1AeGEwrvW0gTFrajYJBveAVSYNwy5RQhuL7SBGNPStDcBPqVNKWl2mbZcJqI20dcppG7quRpmVUbcINGujReKkDb0HEKNAVN2i2G5lNNywhTOOHU0iBdWYXIGZGB03AaqCGEPDPppxBdpp0B-DWXZq8aQYJy6lAzU2CM1abTYZm1fKfgUyuacQHmm-qZsc3mbuplm6cBIDc3rZNNN-VQUozggJAogIUWkLipi1f9gtmgeLaTE3aut3WI4QLUYHWDZkMtSjUMvpuoCDTrNIgenHas2HyKlS9SKre5qa1wY75bi-odE3K2DSVsammze4GIBRaMYzo9VcaqtK9bDNLWobbrw5q1arhTkbdea0cT-ERteLdAl1vmUdLSYrmirfkH83VazVIq+rapr23uaTtrW9sc7H2FpCjhmQulXYxMwrbLIY2s7aoDO1Da4RMat0mr0CF+Ztt3W8LW9te2RabNX2qnLNseaJgFtNGxgMtv9xGrVtOQyLTtv76kxEtQ0P1B9qJWgqZhzKUlRCqdQUrptaQZwY9rczyAktreeHZZCHZxKA0pSmRD2I+XekREGyeneUqZ1NzhEoiG7M7FYTfbMdIqrEFDqZaw7qECgKnegTR0KAUdsuKZWw2gHYDtOauFjsfSgTREZgN9PjjlovaIIMd4OzGA6RJWngyVdCwkCZOSS5gjwG6JYJH0nBUAhoPJbXduz0TDw1m722ATyTaLWt-K7ozUrMHDmUKYUbHatIWIRmZ8ASByLnUEA3Znst27rH+P8r6ZNlAxZSxnUuJxFPo2l0gY9vrqF1ZqY9qrHXShFF23J3gBLdAk7vj1I8QpLGZSFeN0oWCCsAATgGBwQG9WlGNWpHQFbaJAelGNdhSmD6xwsyPXAdsJHgEkxBsqOwKOUClk8EhveiwaoARYItmQaANfems7mzzkk7eghkLGqWOod9-ex+GCDmFKwxSdgHFI-msy6CzAh+uYcfq4YDF69C+rSgCvUVaUtFNug0E6oO32qb+4OvPXlRUAaLP9Je19BLtJTv7NFHwddPCNDJXsqdNKXRhuh0KKBMgeoYWjKo1TLQCsDbV9smz0ZIHt1ZjPoP8vdmyprojAdA3zVADZNcYfIvQAuHO476LG2KHFFe1AAEtxAyBjVA2nCr9AP18EF-ZZHlbGrlo9YU7lTNfLfto1QnZ1aJzsbiHke-6iqY+p4Xq5QNPC-JaWJe7E6KDaBukjQboN6hMiboOfbfuEOsG2DjaHhV+rE58G2D7oSQzPOMDSHJZaQFg0yGsNrkuD+YhgN4exQb6LDGlCwZ3qpVPCTdBO1kcOiBKiG8WDKynLbtppQCVVQIktf7oIBpUhE5o0nctEJgp6GdneprDBDuzMLq4CmPIHQERRuBIg26kabKtwP4r8Dsy3xkQfM5-FSDuhlHhqlcII5cj+R6IN2KKPRj5NRBJ2KbF6N5MWQ1AAYnSP2IiilAUTYRBKzBbDNcVSRyAUNDyN8lJj6R73X5iETKaB1Q6icU4I+gwsXpMotJv-IqH4QrjDYBA7ioRYVjVAEcgADpYA31NK61M8nwCyIAmTWEqsdTZTeoV9DoSg+gbQoDBHjuS54ymNePViPjXx6GbSF+P-HxxhhQgDoTFKldXmWJ0AAAC92eZgD4zXW+OomTEfxh5l7t8pPAiTIJgNGCe3AGGlob4Q5CMAqP0BqjYIZ4+SeMTMp0TC1J4DS3+LOB-ipAf4nSzVAItOQeAGE8at5Mon+TVJgJkKbNaOhRT4pyU-8qZPuggAA')">function is_indexable(pat) {
    return is_string(head(pat)) || is_var(head(pat));
}
</pre></div></div></td></tr></table>
      The key under which a pattern is stored in the table is either
      
	<span style="color:green"><kbd>?</kbd></span>
	<span style="color:blue"><kbd>"?"</kbd></span>
      
      (if it starts with a variable) or the
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      with which it starts.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (index-key-of pat)
  (let ((key (car pat)))
    (if (var? key) '? key)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuTLiQA0oOQAFvKS51GGJoGW1rb2SSaJSURj3VYAMghoDeSm6u16oAAvCjnm8PhcDkJjqI7OUlCwlgiVkkfuY-ttAZ8ri0bmFweQngAiYgE+RM-pDbEicagOgATxc2Uk1HwklZhIZ3w2FIBsO650oVQ8JP0nMOo1xgKUdDolCixEJeilxhlWwBZwuNLpd2Jj1ATJ1eoNRvIHKxmt5Tv1hsSoUFmWVNVVpt+5rs8tUirUkejUrV6qOPLE3pdfvm0kWknkAA9NJZdeMTWSzLKI7kFSC1HG7V41Vikyc8VI2qRpEplLji2b-s2MZdrrJ6bXGQ6NPRznpJK3253xhzfP5Gk1+9ah7aVfamfMIkpnDlp-I2x2lLiFw1l5aB7T1wzmZ7aIfj3PaO6uQ+7DOT7j-UKg3tSVSMsYQrKMq1UWNwJHBNEw-UAvxfYg5gWd5c3zeRC1obtyXDEC4TApUCP-Xp6y5RstRCdsXBaJRszzAs9Sw6DQ1LXCrzXW47wdKjnBouj0Mw4g32GOCeL44FlEJKZf0DOhsNY3tQBYJRNFUAU-xFMUJXkJ5IMI6DSJEnFeTE2jMhafl5M2RS9OrKDNzrRNyN5EIy1Cc4FFdKzgPYwdOJHZk3LCU95FdYTnLENy0IYotmJLYDbPjBs4JCccWjkcYVCs6zKV8m9-Ic0cmTSjLaBUfiYtfYol2XKkrT84dCuZErcXK4LPMScK4JazKZnQ9LSBC7zcPXSRLHwLieFg4yxB6sqZnHOh5AAR0WY04qAkbbjG9ouP4abkx2Wh0tamYVCmVkqFmIlCulHDFNG8auIAZiclKpCW1bdFIJYwhYQD7tyqRqQau4-qKz61p+rqZrsZSAGt3kh77fvIf66DuhTKVvJlkbIdknnBjGPVhvkVqhpGPNCxI5PB75zE2mzQLjOmDqbAhQTCdyQq8onMZyuVQL5knDs2Ln2upvRabR8gMZYgW7BZmXiffUmQlCzRyH5UJyZRtTlf5nyHEISp9fRtmKKkdtxap3mDflo3xRNuzCL5t61akfdqFIeHssdkH8sa4Mty9n2YdF0P4ckczLI2sMmfwmtbvd0WQhUzRZEGrs46xi1gfqwON2DvRmXTzPT3nC3eQ-CqMMY-Ic4VvDK305ORfZjsolrwS5MbhLmfApPi4MQzuXZkId1UND+abvKbSnvNmQAfnC3AwA-Bh8GYNgoDgRBkHQPgeDHrV5AzQghoC0BdFmQ22KtuRFCy6CNjSJfQEmJ+ZnPm7h-0V+ggAC5ATaSlAAwI79pBZHhoQTQMlhQ-zUgGYUopxRsilE8G+-9arALTpoDOlAs6xVuuA8w78y6WTPgsIaNdop12IX-TBxBb4PFIbVUaqCf5yU7t3euvdbpMNvv-AAkGYXBUhqCaCfuQagjBJDVGcJECuTESG1XflQzMQ1JHSNkfI1gijLrjA+NQSQZdCHKIbgI6+zDsHLnEXo4gJ1epgLUdfDMDinHzS4lgthoB7GmV4QwgCtjGjvwRu8D8qgAkSTZNJdSskMG+NqmkAJMcMHWNvr4+xeMfouOXOo9xOTfq63xtzDqUt4yCJCaUexGstZlMlkXYJvj36tHaJ0FoWTASRzyaEtx5UelXx8TgwEQVbaJF6aUAp5Uxk8wmUMmxXS06FjTOtVR+T+lnRWb6NZw8qlYFEX4wENcEIWKlIcswByzDTM0QoVQJyjwzBkQ44KU4ZzpOGXYwEpzs7rL6Rop8s4zkLMySMxQzAwRXyZAAVWIPDYg1AADudgBR6CUDmUAABaTFmyL4KFXnBCh9ySBPE7nLEslB8CgFUCEfMlAWAZWupISJwg1Ty0BgCChQIIgMquhE2GxLiCksYFEFW5hBjX2kEtcQVKaVSARK0ZlArWUzzMItcgYsTYaqRLimhsNo7UAsoK-QrDklmtKLmBQjjszMNBLQLySTzW1RrjEqSig5KstNU671gQyVep9T62htrmA7LuCqzkaRHZuUQQWLV1SNnRpQg4q1dxY3SAMI6o5bSOgJBaAMcVkrpUlnMOC2RgrmSwvhUiuwcEtZSKxTiihb5xVkVEttThKE5JoToFU9lTdlKqU7siAAfLqu5ncqmYLzCrDUpMAVzVZMREkvbi3+0YIQV4lDz6X2OqVRd3KujmLudBKp8a35jpuo4vd5VFolKab0fZyTgEaLxZezx+7zqKEMddD5NjkpzsKSU3JRMV0bEpdS9WcR6lFLNrLNlxb46UmzR0-NBb5BSvkDKiDVsdTkAaXbc2qqOV2BfTQzmeGJYEbgw8LBqGzASvQ0W0h6qOaMBtv9ZCmZMM6sdaRu5HQ2MUfGcaPmNG-2kPA3KnavZOOLHueR9yHGf7wcdcBAT7G8M-zo0EBjGG+2lGAgCmDmacI2zmRU0TtHSHDECMMWdosOFihIKmXNqhtLkp7JSAdbm2QjodAAKmc9sro-mmRPHcyndmdBBpIWoBuwF35xj8L-uyyTIQYMGX02q2gYQ+TK2RGTL6pTKM0ylNpxDedsxQe1jBvmJnQDvwqNIerwD066G6NFvIIp4s-KS-JwT+GJlu39QGwInXYs9ceYlnLqh6vmvCTrIruSCxCfM7LWDGMEzad00xxojtesqL-o6yBnEDtIXidkeMjrgFNe262gDAyoE+28TY9lLGY4Fcjgao10FtMsaeyoBgOrxvdbw2duSMcI3mBY0F50uagcf3bU51kwXugA6lVD3OJHt13JjlOq1tIb52tDVE72gORujcp4EWHPoug9tAHNqny4sGRdPu42Z5T73LoyTPYCC3E1cdm96vjSwor0XoYd4Jp7-2iwBS5ryIKZ4sZ-gVkXqh5fpiTXQwSv7b7aZc-A7+KF1fbNdIb9JP8qnaeAlp+7sv3FnZe7fdlBuLtG8F2d83J6GdM5LTjpYnuf6BMlw+xnPqWfW9wsh3NDY8AbyYKwdge8uCHzQM9E+Llgbrs3aoHMvP74GuyLkfIeefeuJzEk59jAIW5+ZJkIveRr55iPAoFoTxLA-UoNdFogCCWkwW5E11Vh3VPDxzz9lwEcYKutR+MLc2h9THp2PqzRlU7yo8Iqll+fFJz1vPgZqG+Z+w3DuzF1J43Vsfudv7G20nr79AFNduWoa5pPwNfgEj1dr3-2k-6u+qichpeRv4T5bRcx35PCvQy7sz87hiyaXoprv4TCcRMgC6LBhagDjgIG-6nBSCoFLDKYgE775zXjzyW4Oh4En5ah4HJoTIEGrq4SJTKas68jfRQJ6jRA2qzDE5eRYKEGUhxgr4RQ1oKZbzoK8H0EJzdCCEsavCoTVacHcGJAFa3YZ5iAD6SS-TIJSpPBcKIGgDAighIJ-j066HYE1oaGG4eoaH0wMwVblj4SiGEhVxiCOHvBcL3LWFrC2HEbPDgSuHMFiCWrtYKGAFDZaEmHk6gDOA6ioSvYSHYy6BRCvBGGySGAog6o5DRDJEZgYxJLvwGFgjqHoJu4REY6j4xGcFnpAIfyJHJElGGAAA8NRWRLwqgORVR56paYITIAAKlkEpHkPyKAJ3E4DTHyLAgQl0MAkyKAAANRl6U5hARDRCUqWT1FzEOjMgbFh7mBLGRBRCrFtGA5qiZpV4169H9H4DyCIrDEiqjFSzjH4KyBTEOjbFM57ErH4BrHhGGDzHoEzHzE7FmAfEHFfFHEY4BETDQKwKG5wEpHZCgaBBwQ3wyBZCqTiGkJwTjbwnaGgDtFZZBCOxNY4m5GU7qLMKomSJC6+6sHUDsFdwAH2oTIs47HAJu7IioiRj1FAkNbNzgmklU5skxZEQkkmq+GETtGY46YSayo3wck6qyFVaazayMmhpEZpBdE4kVrECZCtCgDaTNqlA7aYYIalAsauEFbqZ4auFTziZmrATYmuGWEeFsgmo8nmBOnuH+FSm2YbA2Y+EolQJUmCFCHDHbKwmIJu46EqCIkelzoUlBnolxGYmkzYklHRkY4El2EgLOyilzbkmzCUmqRAm0n0khFMnGgsk+pslaHyl8ncmjbvxLR4aRg5EZkdEjLYksw-FPBxiSnlYFoynUpynpFohyHKnllqlZklrV5lpRkOiwq6mOL6m+bYphlw5hQ+loZ6amlpDmkaGWkiEaG2l66qa4SOkWElEulOEU6U6emdrXnyCkSND+n0aeYAiBloknlORx6wybzbxJ6cAHy8AYCqF9h0q8pd78qHTGoOwF4BzzzCDMgQWMrsjOF2AoV8qSD0oZyNJnKspwWSEikqoNgsaYVQVKqHQI63jgI4zyjoHmDyjmpumlA4zRgMVmDRjMW3mI70hMgFEcX6EgiMDcW0XIHriCXriiWsXIHlDOzoFyWVC1QsUpLIHpR0AZxKD8joHqWaVDHLgqVBA4xdEcVdFmqGWBA4zKSvCmLOB0BhbWUvC2UMCNAWXmA4yzGCXmC16gD8hpGjoYrzH6VuVmA4yYpeVmA+V+V+YYo4rBU8U4yhZPBpBRX+WgAYr+a+VmAhW8V3BMjAARXUo5hPDRVIgBWgBgDxViV8UACkhVqVMVoANVWVoAOVOM6RXlDVZV6VdZflCVyBAAhCiJ1cVb5WlRikNTqn1dVXlQ0fVaNaVeVU0WYNNTJXxQ0UiBFV1UtTqmNf1XxcOvNSVeNaAKOitW1cgcOptclYENtT1VdedftXlQNYVT1YEN1WYANeYHnuApyGRTyqhZRU2JYciKQt5vKE8ORUyhvH9TlhqlDdBcDdQM4AAFYt5A5g0qSCp+Y4wI3oGJTho8VBAI1A24gqxYD-X0qA3qp5CywFa3g4zR5dDoFM0tA5W+6WXIGQDEA5pyDaXJXc281azs0c2hXIGOWSCwCQAcUS1S0i2i1WWnhOUACiglEtyt8tHNOMAAckoNrYVbrdrR2RzbDROPoQDVhTTVOCUaDY0N5qQH5pGKQGKSTVbXBgMJTZBUym7XARjXbVjQ7d1YlM7S7RbRRW7eTYSk8drCTSyiSrcVEOuHoVypEJIG0owNIPyPsZICjUoPMNFhEJrNSU6iTThTkK6PhSQJrUEJ3EnX0EEHblFlsHAqqV5HoUEdaq3RMvVm1o4qoLHfqumQsZTq7XDbTZYdXeYL3d0APYdCKKjejU8O6aPROOPboUTaUIqXUiqcGhWQYA2DkBqoqYncjeVF3XoAVs2TCefXcJyGvAQH+QnjvBwPvNwJgGBRgbQOEEoBQJIF9GEEYspIwL7DuJQHuDkHoXJS4G4IwR2GA-uE+ScX0olH2XA+A4g78Q6JIACXlssaCZZLA7uAgwmKQsAoQ-AxA+hZ-SwMpDrDEq3vrHgx5tmT-aQE4CbENGpKSqQM7X5gwPMerjw3WUyDMe-CI0cv8Rsaw5PcuCI4TOEPsTOqGSQBJEtIw-scKqKpo2ncQKo0+cYMIu+Sigo9EBsUyKoDg9ULQ0tPQ10KoN5jwiox2EtJo5tmY-oEyGYaAE42xu8FMCwOriKpA8bKbJ3B0WI01kyKQ4CLeGE6AFCL4lJsSXGGE9VHySk0E4YJNQ6CvOE9SpGHE6OUyCvHkZ-XoMoL-f-T+EA77GE5XthqYk8UekWHEwk+aviJKLQuLjrqk8bbyeYzgz40tB8IoAEwUyKtwpk5g5mjMTg27ppGgp0--t0-XIE18NM+arMxsUM346MxBAPIRGSmszBHMTMx4-UzsxYxJZo08DsyM4wCwEgzUoCAUcc6Qq0ro840sPxcJegbeOM18L2eBKk7c5874-c489E+liYzEHU30kyAAOQ4NDp-FIvRMgmHFhNeN3NfSMCWS4vRXxGVbEmEjQNgiRgEsyNmo4x5AtD-GyL-EIpuily6iKDMvkEmxoVPPnqXMUuLB4tilxiUugt6MQsdHAK8ugTCvilqDSs4v8t+VQFai5352kCF2aZJr5jex1wLyaDBONMEJEJYTTzvO5UWNmJGtCRPBdMCSrPTwb1pDeYqs6hquUCaxwHcrau6iuO6skOND2KgImt9I4wryExaELOBt5jcvVFoRKu8gEues-S6i+upayp4KGtnLTxEbmmD21k8aNDzOoKgI2uVT5BZsDn-VetLS0hkoFbeYJtatJv05HPlsAJqa5t-jCMCWmuvORiNt1zXBkpimJT9uss1sTN+vPM1zslFMSU9vMBNuDsTPRPTt5uohMjOsF1usatcZRN9KvOrt-gOtBBOt50uvqseujvNsTO+vRuBDAIHsduBiQ0LsDvjuipSnGlYZJNiFRtEaT7IGht8jhtFu-t6ufuFomltu4Sxt+mN1ah1pLDTx8GVavNBtTJ8nodpBnFlpoTalVrIpN62u8iIeUG8iYGlbIdEvgXCW+umsCFRvROal4cLlwoIqEfa71xlMpr2WQnrlstGLPKuCmItBtBSFRsoeKz8hSIptFNOhsueOqyixwg1usuMA-hpJUdGN8kUcVKtuHB4DaKIQYgIOQ0brDHLlXDkD31byJ6kAvAqRTCgDPTUpLTszPRp5p7-yhlOjeyqCIz8jt5HiyItDMM+GKVqAd4hcCkbKs31PkxZQBe6SgSRhReMCheTvJLvypfBfpcxcjK+ekD+fyCBcyuqBpcZd8cLbnAIOqBK5w0fxk5PLoP03IH+Y1c5ChZSmiTQmqQBeSA8BPD9f7QEksZ0CEDOAdfcbrl+f9eDdlfo4meUMDlmBpbNCOLtKubjeTfoMqb2lR4bc5pdAregBfu7lBAsYVcFaFfFfaz8BAuuwTdTfPnJKOys3le5ds07EfNtBHedKU7AJxgVdblvm+lIlqz0Bsu3cDdDcleSD3d4koTqllO5bbdTfXe6izdw-zdxiLfPcg-fshDvdo+7fI9jZWAYiER4-oPHu1SvO3hzeQ20fDcZmLBqi09Oq49NdLcYMndneOqXefcY90BY93cPdqAk-EME-pBpvre-cdIfcaDpd7dBAXJBDNmU8S9Pc09XK+6vOvMs+I9cZUveosza9S+chq-88+oa9A+fes9Pkndg9Glwfg+iy6Wnj2f2PI987CNBkwKaB7tOqQK9ctZKTCORBLTqdB-ervyR9suM44eFH4fsd2BGcWINq+EIOGmg8+Ee-kD2ekUNfp8-jo86rVfoN1ce0NdWcFYl+CeV9Mj++wJvhkXmc6r1+PhTcWPx-R931wQLYGLpTRBHFEM5AO96GvOgM09G9s9eND-Z3T+1cL-RB6GRgr9fDz+RDD9dyIIb96Fxj79b9XocGp02lL-j9MCumSczdFcX86RX9OFeMd3dD38O-WueHUdCWGGD-b-7Gj8UMH+ymD-q6TjanBV6egMBnchY6uFQWS5WkDuEkAOdHEOQRgDPG6iSJKEEnc7mt2Qhggs205bLGbQ36fY-+p-JCDaRgHWEne4XOXptzsb79vu3jHUnFmtSIDkBLQVAbqxAFOFWSn9TQJZA35wl9+BPL9rgLQ5-tCBTcV5hoAEH7N8IWbJ4LIMsgMdwOogyDlIMMx5g+ervHwsoN9ZgDjGlgAkAa2CJtB2w-IOxnQHm7mCtK1wOgCNy-4Rc1IU0U1rYMsG0gHBdXaJr2yFhTQOekVNKksVyAsBTB1qdwVYPCAhDNeLgk3qLXMARDPB+0KhpECmA5A867wRIS4KeCJDQgjg7Ts4OsF5NchXg8Vt-3JZ+CqWdXPzKkMUDpCmUWQkofwDq4BDkk1Q7qsEJMEswpoo8UMp0NCH4B2waMLGkhT5B6FBhp4K1O5GMEBN+hkgbzKMM2xeMJh5AKYf0MYYhD9WxJfoXkyaxQs9AdQ3IA0PQx2DugjqLklEIJDV12ho6FYWsMuGzCHhMQnYb0ORI5gCc2FMUItFuC0E0GpneCKeB4H6Ni072MgVEFIEn8u4Z-Y8m-0f6O8ChdAv7qoEYFZcm8BOAATPxoijh-C9TYEKsK-TzDPerRIQXvzBFiksRQIvjniIuiEiC+rRPETkMBFwjxhB5IpvgCrDM1h6ECB0OyKVDM0mOq0LKAyIBFJBTWFpS5P60BCTw8RhgU1i-0+EvIfhxoYURSOZFQspA+vU8IYChAvNaOWIvJtSIJHWUvecYGUa0OXBxh9R5oxoIaNsC0ivefbLUdaKZyRgrR7pQNNYTKFMheROQOloYL5D7FD6j4dYaXi-6vNRqNw-Us7D472cjwUcLrPJ3U4tM1OuIJ4A2yZEJt-Cb2BrsaKcppptUQlfEXaNzGqB0xo4RMamK5HxDlwmY6gdp1zE7Rxu6aYRj6P5F9I9hko+kkGPOwPD7GRIxsXGn9GEBhm2-XMP3S1E39oWeDeQTPS1F8crO0wkIbd3m4Bd8hgQMbgVis7LjYe-IH-AiJ0by8tuhgRrM7COR0AD6VgUAD0QAASytSQAAEFwA4AZWgACUeikAAAPLa1kAOqFQqGSuJ0jTEKYvrLaKFTMib+w494KOJzDjiixxAPJguOgmDtgJM2UCWUIXEqAtkUfMml4wwmVAgJ2EvrHoRvF3jHxz4t8Z+O-G4SKeSE1ToRNQmTCv0ehBcesOgmSB+uooWCRdDFKOgUJxATFP0L7yiwc0dEgTgxLgmUib+cwlYd5hMxYinAI6RnLGJ9imIkIFYosPJJYBM8JJzIgIQBPs4ESxJ9ALiV+kpFORD6FgTlnohIBOcdUAABgGChkEgiKMaFZItYWJsK3QXnFZI0A2TFABWddAeF8kHCRK8xHgJHkUiBT3gwUqYF4wWzOS8BgAjEf8KikGty4P4SgGzRv6vNim6BV5qlPckZS28ZXe-ltng68hLA2kRKegykCRByunLermbQKlNNLWnk5QtcVckHhCpRiTKVXw2C1pLA7wRFCoF9hac9sBeSeMh2OwDFEY4oDqff24GWSupLUjyZlL6ZHJaUtHLDhsleZRChpI0mcbe2dHPBBpkgYadIF9iqDMuXyWDs7yxwnT5A+0i6fVIgb+i2gUiRxBIjLaLxEeY-B-lmOLQDTHpZ0g6cCKHJSZJpKvWqJJgS5qBYRiDKQdmXCCLAaB9GDQed0aDvYIRO-bChQOPL-S6xPqN7odwV7OB1pqI9kRhndGA9Tp5032CSONxkzpeLaYRNb1e4F40Oson1O-D2kgznpkYBGX4AelPTLp4ERBnNmASUyloOgu6U3F5l0yDB5UwIu8OCKUogQdJPULV1hEZhJJIIhriQJ1RCDoR6CWEf4W0ySYvqRPEma5hEEElgIJAVYvaOJFgjhBZIpetWLMA6zmR9dP0hoNwGTwMw8GX3HgH8yhzmM+ssEdjOzrGzJQXss2aQmAiWzERpMskfVg+aOySxb-d0WkAZmC59+x051NYTD4v9kpl-OOYTO3LSpJM709rF9PBLRk-pZktYCHLDnjTFI3ojkX6N9mMYoObcykCXO1kxlvZcHezOzAdlfEnZ-debpoAR4AztOFpNkZ3Jj5BAxGrYulgKIvhqBNA08-aGKI0Lqi8BU8rmRh3lFqztAhYWrtvMhqzyi5koieB2H7ojc5RKs61GfI1mUBL5CPK+eBIqpgBQ5-mA+frymjxNoQm0wwjPLybjztYJY00f4PdKmj9oBcswFAsnl9s4FHs0oH20QXZzC5rpL0WvMU6jzLYnUpYOpNoD6sEKsTPiYFE5ZkdZotANsMOKLBRS1+BzSLg1KoapS0kLCycSExdj8KXpGDU1jS2kDDT+QWeNAmUJQbgQWFrw0mFylohRTBFaYhVkCEYm2AVFigbWHPPXENc2wxeEhQFN0BshqpCDWqfkBYV-YGuKC-MQVkzQoKSxZYi6Egt0VkBMwqzfRV1hYUuLzAtY0AdpxsUYQtULYpeaaw7HPMRcf9BVoIu+yxx0hSEbxXNi7FWBgxvYwJU2JHgXiNUJEyQC+OhQAAZZWj+KjGVBHJcEfSXmM5ZyRQJusgJSOI24wS0JprRCQ0uuBRTql6i+CdEzwkzB2lfU1fOzB6UkK5IxE28bkoKVFLqJeGWicMpMm2A9Ccw6esXWSQsTexbEjiRNDQk+KzAKBTlgJIeEcgAhqymYRYyA67Kcg+ymYRyD45co+lNS8CV-2klDDZJTqKKX5kZwKKSFyiwsc4t0kmYKlsy+5d6X9F6g4gB4AlqWNUVArLyDwhZU8JklY1MSrI0dI6kWX4IzBJwjwcsrNQiTDJSYmbE4tMl-KfUkY25VUshVaK1FOk70kTSdI7D-RkSiFQSyBGLirh2Ys2stGECbirAUYaTksGlZMhGVCrHPrPGTmuZOVVdUpqCtwpRKtFFKvFiyp2H1MJVliA4RUmlZ0rYV-okINBMr4yjeF0w--o6JHiLgpRD841XItFhhBZE7wMhUhFTrQSTc9E+Camwaa6raudqqGRdwa4BcCs6yuHpxM9UncWMbDavH6DtWsq2ASIIEscqXFJcHQdqy5SEJFWBBNAG6W7iy2dVJqCQc+M1K8ztVPBIxoayqXhgjUvDts6MkeX0JkSWASFuM3GW0Bgk8K9ZZtUCQVnHCMLVmlisDLLwbW5g9VnSr1a4tyy+qdU-q7WJxLQnBq9FNgEtXWv6G21KcsagkBmo5YXLBJBPNNXcHjXnL5A2algLmuST5TOWhatKsWr9CpTy13cnclWp86ic61uiO1U6qMn6slFnqqsdcmGL3q31fEsoSpzxVdgg1SnDuPeqfXvri01q2tRGodUNLn1+K+CVYrNrZBRJ8GhHDkrImvj3xX48ANpnQ1PjMNlE4pfmuoXUo0qyGgDUlilLAQmQ1AeGIQrvW0glFzajYJBveCpSYNjawRVKRYzkb2lBWHJXksKU4aNgAmiZURto5RTT1fmXjVUqo24QaNdG7VVIG3oOIUaAqbtFsNzIablhCmccGppEC6swu90gWdOk4UYQ8MemnEF2lM039VBSjd6EqXqTqV9NTYQzZptNjabgNz+BTM5pxBuab+JmzQPZtJgrZpwEgFzetg022axZpmrxgkCiAhRaQEKqLV-0C3BbRYm7V1u6xHD+ajA6wbMmlpjG0AUa1AOqZZpED05NVMw-VipvK2ua6tcGPeSYv6HRM9NpWixeZtU1Wb3AxACLRjGdFCq5VVpLrQZoa39bdeHNKrZsKchbrzWjif4oNrxboE2tkQfvqTGc3tbVAvmirYqthUGqVN221zYdsa3tjnY+wtIUcMyGYq7GJmRbZZGG3Hatt4WqzWKSm1XDWEavQIX5g211TQtx2uSP9rdKfbvUb2x5omFm00bGAC2-3LKqW05Dwt7WtbaLHi1DQ-UcIyNXCpmHMpnliKp1AvOHQTa0gzgu7W5nkAJbW8sOyyEO22U29AxKSnsScu9IiINkySmRAzqXE4jhEoiG7M7A+1pBQd4O9NSyGoDstBVMOglugRR0KAkd7MXMEeA3RIdsB2nNXCx2PpQJoiMwG+nx0y0XtEEaOgXSxAdLwqcdxZZJPjqSRy62GdySPpOCoBDQeSOu7dnomHhrN+tcIpBW0Wtb+V3RmpWYO7IwUwo2O1aQsb9Mz4AkDkXOoIBuzPZbt3WP8a5X0ybJ062dkax8n0x52VBj2AurEBDsd1x6UI0O6hAoEp3oE89O7OfjgBYzKQcwYWjShYIKwABOAYHBF0oWDU9Rmh+u7wkB6VI12FKYPrHCzI9cB2wk1edzEGyo7Ao5OyWTwSHd6LBqgBFgi2ZBoAV9Kayub3OSSt6tKh0sIC91qhb6asTwx+GCDmFKwxSdgHFI-msy6CzAB+3vcfq4YDEa9B+m5aIq0oSKlgPoG1btuq039QdOeoXSoDEUf7C9tyd4BLtJRv7xFHwddPCNDJXtKdNKXRhuh0KKBMgeoYWuytyzLQCsDbV9smz0ZIGt1ZjPoNcvNmyprojAdA3zVADZNcYfIvQAuHO4H6LG2KHFFe1AAEtxAyBjVA2nCr9AP18EOfdvvlZyrlo9YU7ujNfLfsI1QnW1aJzsbiHke-61KY+r4nq5QNfE2JaWL31lAKDaBukjQboN6hMiboGfbfuEOWQmQbBtcnaq-Vic+DbB90JIZ7nGBpDbMtICwesM2GcUXB-MQwB8PYo19FhuvVpVT2oqnhLykHciqBKiG8W2KynDbtppQD+VQIwtX7oIBpUhE5oknctEJjJ7UlJyprDBDuxELq4CmPIHQERRuBIgW6xqdgdwNQr8DHS3xkQfM5-FSDuh-cmyARy5H8j0QbsanuKNyaiCTsU2K4Xy7cjhdAxOkfsRFFKAomwiCVmC2GYQqkjkAoaHkb5ITGxSnuzI35iETaqGl7EgNZsonEtqR1JXArBaoilAxD5AXY8TkxmLAIAuDYBAxCoRYVjVAHsgADpYA316K61M8nwCyIAmTWEqsdTZTeol9DoSg+gbQoDB3j0Sz4ymO+PVi-jAJj6bSGBOgnxxhhQgDoTFKldXmBJ0AAAC92eZgP4zXUBPYmTEIJh5nsdK4UmoTAaGE9uAMNLQ3whyEYBUfoDVGwQnx2k8YmZS4mFqTwGlv8WcD-FSA-xOlmqARacg8ASJuVUKaxMimGTATcU2a0dBSmZTcp65eyfdBAA')">function index_key_of(pat) {
    const key = head(pat);
    return is_var(key) ? "?" : key;
}
</pre></div></div></td></tr></table>
      The index will be used to retrieve items that might match a pattern if
      the pattern starts with a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (use-index? pat)
  (constant-symbol? (car pat)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHR0lVVRdSeRpiIbiEpKLi0DmF2sUJNvklQQoVx1EAD1VLOjoVtZGDMf1nya2UlzpyHr7I9roikkjAA5hdrrd7rRATF1j4XoZfABIczTJzUVSidzkaiMRwxBqULLCVawp7vZLBQ6yY6KDFY+S4-GsQnE8442bzRbLWiPfKjPQTD5pDLM4gAE1cKw8ZP5my2VMiYslJJleQSCPlU1F0myDXFknBN1Edweso2FKCoBYknKokcpxJil1jQNjlUwOyVixNXqTWkMPV8Mtwo+Lv1hqa4v25vhgq1KTRNVEAEd2mRcsM5SHttTk2nNKQOqn00WauRjjktIGsxtnvGcyKZqJYuRauXKwk+RbhcESOLRPgiaJxY2kw1SqRyt2Cr2xEqJ9QpzOdA3hUnLNZbB2FFXyCuE5T5+FNzZiDuW13Y6vxoeAknJKaQcQ9wfG4rwo-7s-X9fNVgUSbJxHXOAdSF1bEzSDRJAPMADc3+WkQNoRwwJaDkVHoCstFQ0RwIPf911FNDPSda8738D8WhIyDeT-NcPnSLFmEYFddAAIgAVWIcpiGoAB3Ow6i0SRLlAABacTjxpBR2IMABuLAAF8BBIM4RF2aR9kEXRgRBOgjFMfxKHwUBFBmG5KBYKVxHtZDVkEAxDIpU9bB2Ll20s6yqFsh01KdHSdlBAzFP8JSxADUR7FM8ynDJfs-KEB5HOclJMO+UBbkIaRyFAABeaS5AURR7McKNtJIN5Q2qoorgUCULn0ShmBfLtGxq0NSo9dwcjcQFHO0dqOo+PS6EG4aJv8Urxma2hXxShSXKsM9RVc89-iULKcooo81taKIxXq-ctsSIaRX7Qdh3FULzHC0RIpMClmNxEqSA47jeIEux7NANtMQkqTNNqOSbtAFSVKwH6vh+Xp9oBA5rjG+NHuSNbrTmIFQXygA+QraT0zUxkRxaIZ+vNMJVaVpDY5GjP8NGZnIRhCHIAALfZqSK3IJSlWhwmNSUlmK8jNR2hCjmF2hKb5lp0pLK9oPrW92qYxDJZ51UWhkNw2Vsgj40U0n-JWaT81LDpyBYcgkdvFHjJi5tW3bOh5YzRRvitgzUqKNGLqHeJrsmO6HpMsyZl1b4L1fD3racu2UjRzmkOayPvk7LR3ct2PtFvUGwYil34+SdLcqHRhU6zuGooKoak+KsuK-T-cY4MnPXjzgJQ9ixw9o2kqU5+GOq7junhTRhvB8rjaO7CguotHj5E6VF2Czds76ZNSem8BFvnlzkMVICcHVKSkRod+RwSC-ShnxHRQBhNb2LGWtybVUe+vRx0B2IAKivp8A4-3YroB+IVlIn3UkJJY55qAs1wuBUiKwaxwkSEXLuMwV7mwPE-Yu0Jcot3yqATBhZ7Rp13AkZBTwZ7Py3HYR2qg2xmxIZnT2YsjzEGytIdeIpdiaHFO7aBPQ4E0R5PQfu5ct7kIzrvKqk0Uh0EEbAn4IiSSAm4TVG0domFu1uJIy81YWGxycotI+c8i4BAZk4FRUFayzlDCUBw+5rEoU6P6bBQ10gcOkNIPOx9IbGxEHmRcy56K2wXiXUA5VCHBPKGVag0YDx5wiZOGQDACoKMkDA4ReEIKiMBOVEx-gIn-2-AHNJIRHEXxKTfAOzolypMKTQladclDlSJvVcUjVxCzVahnFJAZxpyKGUUapt9xRI3UcMj4t4SYQJJKbPaZD9H7lCa8IuaNNH2l7m0JQ3CWmKD2lcY0po6KK1FobOZJs8zXx-ArWxN41nhLwaADahD9k3N6T8DaRpIQ2JQUrdukwPm+i6C0PuHy9wgrcSLF5OzNR5zRtPcB-jT52DzM40k0FNRF2Ba47ofcMVQuaPrSZtU1ZKEJd8o5vzTn3NkVM4UMyEUvzsH7K6FzcBgHsgwfAzA2BQDgIgZA6A+AACZLkiHDq4Bk1NyLrJZaKDhjQsQHnMAAHzVe1DBTMiQglVaADVWqnBNGaKITJqrDWhhmF42VisAiWuFDMNltTyIXKhtK9wYKdmquMAESYaNrwcp+ozSQIIQQjmcI4mmbN7QVhBDgyx7pJDNVVQAMlTaAVmZr+Fyrynm36WbHBxqDQEuhmQvQ+v9QqkNYaI3QxpuxB+INkU-TxS0WGD9K0WIVVmyQ-CKyUFtXS2ZKLIGighXc-58raGijjeGzp9b6LsQnVoZtKkforsHn6YlcqF5o17f25N1MD2KAHUO-5xi3Wlp2AAyFVKIQmihJiul06VonrPaeo92CR3BqsTkxBtKp17urU4Oddao1LpLpk5R-7aLEDkgazVVrQOhvnZG74DapCMEoJICc9oMUIYdR8GtaHF1Yu-qVAjsyfqErbV2ppbl31fqY4O791Hr2Up2T8x9fynjx33dmz9rGP3kSciW1FOo9RumpTxwDfHR6JrAwuiD5H2Lhmkw+k58H2MSfU4abqXo3BEoDPRzKCq37u23e2voD9dAsfPU8MT4CoZScjPEmMdqFM9sEx+kTisnNGwkzMRZFYpErM84URTqHwMYaXSFpua7R3zMOZpp9pmBN9qEw5uUP7r0zAprzLI2WNivrciRmL4X7kcQK5rbjWnCNIcdSh2tynYuqZq1TKOCREs-Q6zLd0lhBa0l3ZFhV59LD4BpjwHTY6+tFbFMQjOI2N4zvG4OGmoqZvzLm5+HKWJdaZiA6N1blSJs0wAMy5aC04RbRZDFPyiy19Dzcs4cVu6IHr17NnaLu7vfjY2o3sXe8AohWcwHruve9rrBiY6GX8Mdt9Pmv2w62ybCe0OXusP+zOk9u8r0Sd0RjneYOHsKo-Xj5zeWnAtgYc7V2v2SfY5WtazhhjwdJZNuHR8ejo6M68zOln3ists4CxKstZVJzTmWyt5nzXSMqaq9-GJn2JMxLiQk6XDG7D2eweJsdMxNKUCFrxuUTOyty4qw2w3xvaAq7HdNVLJuSv88R5lvzw78djr0nVp9lDTcu8Y0j4TX7RMjrwNypgrB2CCq4CKtA52xezuZmzfYlwE0gbiaa81afQDtWCJcFWYhGAsUUJcDiJrpBmrRdcPCChxS6EsEWSgtlxSpESxzkQ337KKAM71LESM2m0yrSdjD7F4oNXssA9RvfvTl10IP-eEPrvMmGAlbv+B08C4t61-c+BqteDX6Wu38yuqej7+XEqm+Vprcm3v0A03Pcn9Ler7SV+3I35KroTbj+0fP5mi1eaN-OwD-O-S7PXeZb7bZKITwLQZ3Yfa-QHKA9oEHTCI6VHSVJwJApQDaIA2daLHfRQDaDiLA4-E2LAw6LsHA0rbXIPamHAq7MdQsUoe4YgMEf-OaLsMJeAtyD9RfDvb6AeB0HqJQLg7tHHQTPgiJGNC4J2LpHpPcQhG1RSfg9GLRXlCtNtJGDaAyag0AD0FNTQ3QbQ9A76YQ4zfqYQuHeHMQ13fhdQnIEwpgL0KuCwr0KwuCGwngr9ew0QBg+ZOqPhOQgArsQw2FAZSJR8e0UQmXd-TQEENmSzUFHQvNAqSvVghIyIAyPPPQ5NViLvYQxI-0LQhpefSIrpNhdINI+I1mQo5oHQgAHhCDiIyIaTOipGLxenYgABUyh0ZiBaggoQRCA9wGA6AqgFhKARx0h2JQAABqXPKZb4bDVgkyfYTQoweYkHGY+Y0lfwJY3VVYwghpNhVEIvEvbo3o-AUQfiQY4YihIhcYlwKY7+OYhY4ZfYlY-ANYqzHQzYjiV43Y8wD4kEQ4zI0XFQ0oCoKoYzKuWo6QbFBeMmfQZwMod+aIlIVtaBOE4ogMHBLYRNG1bEk4ooKkZEyE9+QE-wJg6gFgtgpqYIjOGZXY9INtfKfNXHH44khUTNQTMEyklkrE8nTk3QD9MExpZIQ+IoLucYNkgqaQmnRhdgz5PE2qDo1iNtd6YgJofsUAJtcU0xe6QuBeLYCJHwwhdHHwg4QFaqNGDJByMwzQkqSwwZBlHwlwp0tw-UsKIObgtFMk1Eq0wwcAk2XFKzWEjUsIhEyYJE8QFEjEQMlU8wTE81UIsE8xH2DPQk9Y9RUk2M8kxQQE6k2koIjgxk14Lk041klInkzLbMuRYIF2H4E9TIowmQCs-wAU81IUpI+sUU446hfOEMaU-QWUgtKI2QpUvcRM5IZ6dUqzTU7UiUXUz+SSG9UpPcZtLYYOI0oaU04Q80wQy0-eG0hVO0j0nIcw883wl0qZN07Qq8pzLcn0zwv0vMgMvgzlAgUtHlPlaPTgYVXgDARPCybDbyZvOyUtV6YgUnLfItfA57KCjiLyGyD7Rw5Cnye0KyBYZZURKCmC2w4XFKDlCJdC8CxKSBcpetS0etdiA9EHfwA9GqelAIGis9ei8wM9Jim8-wGi-QxgdinI5qLi6iwHaGAS6GYSooGiwXaQEHGS4UZiniwHSUOgBYSQYGXQFStSgYj4RS8wGi2c9i2c6qPSipUfG0NmWYBoOgYBCy1mKyhgLYUymi2YgS-wUvXQWoIwPKXGMSeYnS5ywHcSNy8wDy0ALyr+MSKSAK7i-SwHIBXQFIMKiKny0AMSH+cK8wQK0fYAEKsyMvcK7y3y0AMAGKkS0fAAUjyuSqKrStAAqsytAGyv3HYhSLcpqsitHK8tirMpaoAEI812qCqUriqBqCpuryqWr6jqrhraqxJGjzAJqpLAd6i8oQqOrUr5qCpCqeqaLsYZrPK5rQBcZFrmrFB2JsY1rEqAgNrirLrTrdrAc+q8q6qAhUrzA+r-A09LRFoSLQKULyKSRzD8oQwLMD1dBSLfJuVfrnlIaILUUegGgAArWvNJUGjGQQL+Xi-6jCkHHXBaHq5IOGwGpBRaLAP6qyAGqDasQhetGi51EcEHBm8UUyhlFiwHSAYgf2VwDS8wTm7mtsVmtmuK8y+Qey2ASAdiuyxwCWoW4Wmi6WgAUQEqVrlrZpooADlJANa8qtaNb2yJoYasI9CcayLqat0kiQatgLNSAv4T1SB6xibzawEKawLfJzaXCraigba7baDlAnIIbTb3a8FoMwEVCgYBtKaMKSbeRAo9JoZcCI6iRL4JQsQtJdVHAkbJApAFFsMGECyJpiasLK89xcKBp1F47HEFJkgW1IdlpqhJyuxcCAiGpG6M5uFeEJQe8g74bIFzDdBKSTao6zaQ6cJ1jCaihO7+FibSpqBkbUaB6GUnbR6vkdlW5uF5SJz6TSzEgOVK9cppCQRSgGhwg27cp0l66SzPlFAybw9vzI9+UOAhVuBMBE9UD3AKBHACxvhzgbRGBpwsMcM8NcCWdlVWIddAHcNK9jEQxggdc+zsMoHfC45NjHBtjQdliQSvjFAIHgQgHoGnIQx0hcHEHgHHCYgbRkwDM69M5MGdDgMZ1JBSBSBhjspaR3ZdJmHaqGB5igRmHRz2IZjghBGRQtjXimGHaJ6apBHdBgT2cfoSBuoXZaHdVdJgo1GwRFHgQXZDIkRfSMHdVXj2JzrXiKHDQXZqG74LNvctHy5RANGvYjGDB2If8RBbGXYi0sQWBMZ41dCZKfGKJhGbV2IiGdQo09IjB01Gxu5CSP0ImjANUazD1WN4nQAxrv5Ag5JYGzIT0ImBHMnsj36mGfhv6ga-7pwInC9u5rdcK8momaprUK0Hdjk0t4m2FhGTH5j3HY0vGcHBNRoAmUG3jQwZj0G20L5O1mmaVVhUmdjpGXiuniAlGenGBvGdcBm2mNizo5IQnQx0hunzqxKNHdBunPHVnCGtgkw+KAnsmDn2I+KQd61cnQReyv14mTmlntGVmWAKIkxgSbnuT2IABydBvSIxkF0J4Ew4iJ1x1lT5uxr+9oRgfYAsZFkBzIVnHIMBvpzLVFpa4W3q86zJcULY3ELYvicgLYr8LESl4g7KVCi5kk0AA5k9PF151jNlj55Zs5n50JllwTTl36L9QV05tl4MkQLOnO0gPO1eg6G4JcR9BGVQdFzkCYm3VYI5QJwl5dLkI3UREHKZ2TDV64NWgICzSVx8aVygBhKuAbBVu4BxpVmBy5xVCtTV7JmizJ2RsMjtN1k135sQa4cVuwPFu1osO4J1tBB2JwGpp0TVlU005-Ks4Z5IcZ31wYQ1rTJ1r0v6+1l2TpUaQhCzUN+V8NpGAZ+NmeceJNqzARh57J65k9Utx9CNUaesHXZtu4Vt4KZ17UUqKs-NNTRxXZplzt-N2YYKUJ-t2t6s9iC13O612V5Aht3IqCvujU7hc17Oy1mV21sdx1+NgN656d0FQOvN7t-ScU7cqKdBctQYeN9MtGT1kHNNmzP15Vq9sxY0szGdI5XxWuiTP6EQk1vxpwa5917kk9CD7UWcpVzUz6QSQNlpk2ID0gkQVAihSNhh2XJNFNaDlIYIXgk10J2Do5eDviRDmTLTUADD6sdvDdLtxgIGjkBoe0PtAcfhTV3QoDyN2d6lpjlxynCTdj2YRjoG8qLD-R+22gI6QESt5FPAekODOCvDCGlmHYJc8NcgT83lKPUgVmOYNwUAc7MyF2Mdc7ePePXwcOu4JcRQO0WoBvPCXEcZFVwkxvFzrI+xZl1O-2EcQvEsDwBzuzQTE9DzxgVzxl7zsL5ziLrz6qdIL8Oz4LoV1jcLyL4N1Q2NJBm+ouZJepdCJB2m+KisPDIBcUqGMoSod+BzxwHgXQWrzbdM8wCJMYhoUryvQhJL0gez0Qdser1L6mfpFTghgc29lOgcPz-hNrjr5B5r1GBVZmgc69+bgICJdLrr2znrxrkU5HQgdrpBx80MRNZmg5WLlm3YvsXzq6Zkwbs7lQCLr026Z8qaPLegGl3r-rhrvrxwUVVsqIac1r-b2bzbugZLn7gbj9Yb2bo7lIcb07mbw76cgIRsuC1jaHpBqR0Ma5+tWrgb65nbsI9oAOwegIKHgrkb5Bp7-OQ0+eXc55Dbgqbrz7373b1jRHshgczuaNiby6WpdLkeCkWCVNqwNH6mDnyvQaYXoZa5gnn7v7on680noocnYHpHxaYXlb794UVHj9dL-74nrn70p8o+aMjjBwD0cgfTxQH5+bjZARyE6rkdmqEoKrqobhdINgWdokF2ATyZYIH3mlyZJiNUm38jr6UAJT0RAGIVvDTc43mIuwLS+QfT4i55KP5jorgqb7Wbm+xSCJLTwhDP9kHLtTN31QZtEi9TgqYvlCXP9iQPgTsmn6b7VkSUVgo40hyXxX3A65yB1Tnv2FyJIkdvsEfvyvRQNv3VXAk9Kf1gxwufsf71Rf3Aj9FfofxfxwZOy08f+xpwhw3Q5n3f3QHwxwlu-hY-xXk-yw3Q651vkf3VTv-BvfnA6-twzLmYLDSTl8vAp7etMjjJvRze5pwtAOGYqAAJ8IfNFynSLDI4AM4ShK8jAHBL1gxAcwQO2vaKGHCcBf8H2GAtbs8kX7RIH+rBLfueCPLXA3+DhI3lrlFCncV+l3HztANaB4h4B4oRAXB336+FbuKgVQPsE359wV+1PFbuN3A7+tVuifQSqxB4H7AoO-rXQNIOFyHtluX7IaInCDYHwXuNAhQZq0y5LEzULAVVoEQHC6hagd8OgAN2MHqUI0dAJrth3Nz9BWc5grVpYNMGdIbBN9UJo20ExOCseN1bhkzH0GGCGoLgswQEOyBi93Y02XwQSxSAhC3Bm2RwkSDcCV5s6+Ge6FYOm4WD0hrgmoLYP0b+MnB2TOIbkI8EusvBtZKIdwly6pUkhadM1L5DiGKBih7g01jVGqG4w9B4Q8nNNnBKtowhBg-ALqEtgY03oRCXAoMPkD1RywlgbILQ0CEWZAoXsIfhMPIBTDOh3jdYW50cH9CtWNqUJrUMYApCGh2Qu+ENFxw7DfB7QggEMLWH9C5hXQ5HDsN6HXpz+W-PoOlEcSUE8GmPUAAaFXCn88uBA4gSCCIE8wSB2-Aopf1P7MpYKdA4Ee00DYdIn+Pwv4ZQK4F7Mciqw-bI4AsrW9+By-eEZpXkBoi-CJsS3jrBxEp8ailvIkf8Jv52DTCn8WdvgCPSM0U2VodiCyMHSM0SOaYDwDSN+HyAjA2TM0h4W1Cf9gQPeIUeyMoiIjAiJkBbJ8IzgCjURnAgNhZFXaW9ImGaDUSmj+FatyR2I3ETUQ-RajohoYD9PqPNHChDR24Y0Ti2npCjrRbNE9FaOV4dRT+AbTkayJJa6DdU+9FxHcJzwMjJBYVK4TalJHocs0U4WYOeH45Oh4xKwXQCW2JGgBQ2AIp5MbWNE9wTQ2Uc+piIpH2iUxq4RMbQEXoxDqo6YywjCJWjZiToAjLkZXhJbZM9hLrWkgGPPDrCbeVInMWMW2iZctO0w-QZ9wG4Oc8h+A42uUi04jjvutQb-PkKcAI8jAwQG1CKDoAf9U6lwRwLV16BSjUEmYjKA50IRNshRNY+wV-wc7LjABIoBznvSsCgAuiAACUVqOAAAguAHACK0AASl0UgAAB5DWsgAKhKFE8VxK3vZVLFiJbRxAEkboUIAeMR+VwPcTrC1aDjEJlwVtmJyQTIT9sAbQcTIC1hYToQQ-fCd4lE6+9VEuXEMU+JfHvjPxP4-8YBJImi90JmEiidhOgm4FBxXY9CduJ+67jOJHESCeJHWFACJM-sAtkRKgmTD9ssEkMesIdBDCLM68P4cMRxiTJ9OeEWJJknIk0sHgqklgBDRkm2ASR5osCfp10lMcOJxkmCWqJHT71Mo9LZkCQCM4FQAADMoR+jxB+IPcJybG3OCUB+ECaJySoBclYhCEzMSvM5NgKMBXiPAM8XYEin2hQpMUoft9m8nMDn+yIgfklNVbcggagU3vqu3YhetQxuU-yShECls86C3wshpGMSmaBnCu-JwESAOT0scE63Pybq3VZb9xQiha4r5KikVTzwgUvPmb0A6WB7Q-EGQNOC44YDE0OAkDkNGCDpSBpu-DgeVO6miJepJxK5qu3w4fBgg1zAIVNJmkOjs2zo-wCdMcDTTpA04Ijh+12lId-2P-a6bdOnBJT6pvw0QJiAlDohjWqgVsl3z34ZjxpY6N6WdN8LzdxuOAwXtVGlJ8iapwMsYHDOGhowmY7QagTTweh4CigESBoKCNH6kChCbrEkVjJ-5OprutSBoAbQI4EBUkogUnukAhl3TJ+wI2EjTOp6m8kQWvVQRnnA7CiJohHSaTdLOlQc44iTFmfdK-TIN1E6QFkZFGW6aCf2K0KWU60y6vCFR6gU0Hhmynd9IgckyYPjOBGEyM6EIitFCOrGTAu4n1SmZNyuhsywR8aacr7GICrFKR4Ex2UTIEGEiZRDKA2WqPkgpthBPPL-pEBHgMo8AP8aOSGGNlOzTZ4IsgZCJkBkyQwaMW2YuKpl3x6Bw0K7u7PtHH93RAQfEdARX6XTqop-D3nKK7qX8A50IoOGYi7gDhfp4yHoKsADmWzPSJgEqmAGjk-w05Cqb0dyN9ENzaedvBVOfz1kv8U5gcn0oFjHQkB85VInvPjwV6gyf+ZpZkT6Od5Hgh5TYnefeDECIyV5ENTbCKOEL7DsBko1QNNj9mgAqQlwDpG8PdA0l7gusm+afJJGXzmBPeJrtk01l9BtZb8ifqoAV4fy1R5gKOTHJda6jWIN87UaKFl5nzuSi8r4h7Ot6mjKhDKU0ZtnLkBBUF7Ye0U2ywUViUgTbXBUXK2CejQme8xmh-0wL0sgQUklVkpgQqQS6WleNDnYEwjgR4JDwT6boR1yfTHCuUiTgIpDH+NfMX6YRVqxooyBpptQUDMzFQqhN4G0i9qc8OE4eRZgg0zaPS2TFItPINkgxViHbDryikzycCFXl0URTGpF5ZqaQLanQMkkzyAhb2LzGEIzobiosYYqTRYiTJ7onhbIDSxWKdJn0vBSkCrHv99Gbi+sVvOHkHzZRrYmDuSkRamKnF9oCTqEvPDhL1E7YqwIGJmHeNYluY7aPZPvE0THAX4ziAABlFaQE3Upwk8nXpzJ9lJKYCGgmGyf+8EzCpuJwm2BUJLEzcRGnaX9LoKoTUiS0FGWOFJluiwELgUqXVK6l4AZiT8FYmdJRlnE3QgpKnoF0ao3Eu4bxJ3GTZBJ7o9iElJEn9C5I5og5UUvOqlTzl9LS5UUrkhfSI6my4xRAvkn9DFJ8gZSR1CSlfxJkEdQ0ElIyVGT-Ftk0-mZKsAWSPlkKkkV9PuCxAopeLRQMWJ1hoihx2QXAgpJWH-Kigm83GENB2XzAjBJw-hOogkmWTKJGK2SWqOdFXD3l9LQEHSpMl2TCabpTYRrNSVoq8WWKzYYCONophMaBUacTx0FbsQWkaS5FvHxoF2y+ed8EVZVGyLIrsKMqlFoYoFU7DC8yqzFLAQMSCsuVOw+haQIHCXAcuWo0DtMMf4njEgCTNVKKC-52rNFY6b4LiDY5STiZ6EphexNoA4Jxu6EnLpBNRlpRnkR4gqEcv4mTYQ1A5CJCw2LwJAaV5wdYV7TkS3LhxKXZdFJOeX6C5VRNFmJ9yEk5rRJvg65uwrMi1UE1lgHCJBOxU-NP2Y8heMfD6EerdF3qvpeIqNmw0bJhCIJXwt5CfS84gazcZapsmhrcExtCNfYE3F8T2wAk8dXGssU2Aa1PwXKamryiAkM1swrNRctEnU9VAha3dU8tLVDRrmSU3QFcOrVJr11Tw3xCoNN7zz5kInXKUyEgm+q9J-q61WCpDV3zggL6xhSGtCYid31saoTl7nFCSS-VMzZhUXHdWWBk1lUkaX0rA0TiMozQKDZ+voCEJKldE78b+IAkrLJguGj8fhsYkNLy1Uky9bVQw2Ib6A4pNGOxAqCCcl8EGjZYwq7Uo8cQCG3KcnR9VDru1xtWje0pw3PiqltS+pXnEWUSaKNq7C9ZWq-jCaWVDGwecxtNUKl2wmEJGpBSOT0MFxDgoXLpscLo4tN-kJVnpp-6yDVA8ja9ITlM1CA5OxMbjjLOJhD96EjCFStptRTmathhm1zeBpPyCFPNZmozYIokL+bWNyWTeKhAcBeaKAjm6zavxc2Jah+8QEEMcE6RorQtIYqzTZokzzsrWNra8D5u7nWEJBuWr6VpuoCtT7N8W7VUUpVYaaxQcWsiLQBa3xc6ZxqopaEyq2tS7NbW-yIGGIDtbWhM5XlYYvESRxat4WYbYNreDS9hkXW-QeCUPUtViWWxaVXixQJtbqt0FZpRJk827amhsWwbfVuW3WqmtwW7zVdvi27DOE+wmKUcLSEmDThHUTbRNvRw3anEJ2hzfWCW04qpeSVWqodr63RavtgIcHfNsW0Ok714CVbedTJYcR3tpikHCDr22J40t+MdRpwPrW4qfl+KjGOvCJXwQtg-jZHci3viiB0tdeDVT43XqkLqo+SnEJ2LuGejkQh0ohP6IKUs67llcpECiE8ScJAdyQf7T8wuTw7G01AWlt-HJ281MdCgZvi8IwksNwB6A-RvsgAGH1j6p9besqUy4Fbd24KbHaLu9i2l8dSkwnZ1H3I+V2oVwPCCzCUA+9sIVAWkJSQN2LsV8KCOnX9uEIRKzI4gE-kVVJ6wcA9d8qZFxB4gUc7AlvWFLFNXLbEAI-O5IHO23YLsbWG0V5QiKZ2FLhxlcjETaix4m7xdhalPVK0N07INt42lHboHd3p6dkZNCJDaC3FaUTBhCAAJyKQaMFvEwfWvdjIDzeqlHvQpI9SZwQE05cblmXtXzcQ5ZkOwNWTcnI9-ALe9SooCBZAsOIaATffmoNI4yhoy+mQd4PtVYz999arfm4HuEGDycAoOwFJAfwaDTeAQE-cPvP1Iwm9MWwfepTeXSAFFSi9oOZGfAeqztOK3QqLuL1rbv96lX-R9iR1V7ZVukCA4oqLTKLFdEmMdrTqJCrajCWIJoPcEFpCqMoKYQhCW2YBlspRdjcyEs3U6bF5Iry4dTFFsiMAcDPNNJoO3uBpFKW05ffedUkhSQx2aYwxTOtW3mAeDIMO+VwdFYTaUwYmbGUaUlLmAu4daljmx0g1KqJ1AQADVFLfVSSgQkGujS-nRWw9kgXcBg0wbbAsGCoQObkaukX3mAuD7EHg6uUgk7AVDfUhw5JFENa85DMhunlsDsNuGpIeLMzH2OtgAw3D2+pfd3vUq96SVPyglR6Ot3YxASEh9Jcryd3QYwBSgFMGiMvWh6N8X8REM6Nl3orZGXO5nb3ojGXo55oEwQpkjoD8QVUGBlmB1OeSEGCoxBvNmQeUaNHco1B2g4Joyg+FykRRrI5ztYIdjyjnCQwwSVZyDGtWku9GOBMMZ-DJAITJEPs3hYeM0VaR0AbSBGMnpZjORwPfkddXzIelZqpCVaokU3YdUHfF1SOjQNoqgW8YxQBWIAA6WAH9WSoagch8AuIbxgXvCqHU44w0dfd-BMM0lUKikB4xNqeNicXjMQ9458ZblFpqADoP41KJTSEAjC9YRzqGKxOgAAAXgHXMDvHkgU9FE2idWaEFPKugIk8Ccmign2I4Jl2M2kAiQwaj9Aeo6xCeNfHOkPx9E8NV0ByKtiDQLYqQC2IksnIQLRaHgGhPpKeTyJ-k1ScFPasVj5eMUxKdeWMmQYQAA')">function use_index(pat) {
    return is_string(head(pat));
}
</pre></div></div></td></tr></table>
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.80" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.80">Exercise 4.80 </a></b> 
  
      What is the purpose of the
      
	<span style="color:green"><kbd>let</kbd> bindings</span>
	<span style="color:blue">constant declarations</span>
      
      in the
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green"><kbd>add-assertion!</kbd></span>
	<span style="color:blue"><kbd>add_assertion</kbd>
	</span>
      
      and
      
	<span style="color:green"><kbd>add-rule!</kbd>?</span>
	<span style="color:blue"><kbd>add_rule</kbd>?</span>
      
      What would be wrong with the following implementation of
      
	<span style="color:green"><kbd>add-assertion!</kbd>?</span>
	<span style="color:blue"><kbd>add_assertion</kbd>?
	</span>
      
      Hint: Recall the definition of the infinite stream of ones in
      section&nbsp;<REF NAME="sec:infinite-streams"><a class="superscript" id="4.4.4-sec-link-3.5.2" href="./3.5.2.html">3.5.2</a></REF>:
      
	<span style="color:green">
	  <kbd>(define ones (cons-stream 1 ones))</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>const ones = pair(1, () => ones);</kbd>.
	</span>
	
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (set! THE-ASSERTIONS
        (cons-stream assertion THE-ASSERTIONS))
  'ok)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNBiQuFE3NFEEtAoLJcgUQh6GIOhKF4mJAvdVJ0gUFgyH0CappqWbwlAAAfPbFNFD5SGqMQNsULaZrmmIDqO1IWDkjghAuybpp2-bDpfZaMnGy73pu2I7u+sUPzVKVNoBp1zia8wRpcxsUOIV6ro+iJCgC-i3Uh7bKHCgbkyW+4xAkYQGFnMEceunY+mJ+aLwSN1RQQlGodAAAydnen6QYqY+4SgUoWnmDEfGsFh5JlvIBRkb5m7iMW0URdJ8nQVZ3GLLoaXiEKiKJepXxVvwRt8BkNJtfV676cWuZ9AjOX+T1y4WNFc1qDEOgZdmy20cxxnJeJlWKZ9ygLLdj2va06Hxedtzw8966GEMQ3Hr+t7cetrGXFtiMc7rEPJkdmPBvMePI4YJGGGIAAPQhAjcZwC6LBas+5kYI3t-6M6L4vCdFCplDYchKvoJuFdbpXyBJ2pVbnOWLJLIQQIHoeR7oeFPvuwOZ+D+fRLzU6HQYFfh+y9fwmB-1J+nsnd676nRIl4+TFXs-dd7liT7XpOU+NsflhtjzO2+c862gdoXfG+sv5nwrlRKutd66GEbg7ZugD27507unK2Pd9bDWliwYQ5B4F12IA3UeKC-yK1SMrHeas95iXwYQ4hiDnDv31kPVaTDFwUBlqNH+RtdT-1iItG42Jk4CIYKbc2MtuCgLTqjOaRd2GMKIY9YQvghEt39m3QYHd87gOjh-IaqRApJ2YFoSOmiGYCWvkHOh99ZoWVMR8KgxBI5sNjuYUxNcSFkLoFYtBuj9EOMUWLXBqQ3hsVRJ0Kx1imbUKnnYueISF70Cic4H4PiWH0A3pfA0tjaHJKwY40SkTqDRMbC4ix10PElxcGUipDASFsW5FoAJrcKYMECDIEO3A8TR31g0jJjZKRtALN7ChACOmgi6ZUXpoBSSQM8fUtJ5ThkME6KNLWNAcyyxCfNRanTunzJ0IY8JScxkzWUMjD4Ch5ZTO0QU2+atbmh1EsYdoVydYDOWYJW4xALmfMcDcygdywioOmXOcEHzxnXPBNwV5YQll1P7EC65ZjXGR0MEYUF8tYgPIEnInFdylG-KqKQD4GLqne0RQc1uttaXIsJvXECVS3HXWxbSiF2jMK4qRWcIx5hRRuM0LiGFXziWUHBZQieP1MiSv5TDX5eDKVsssVymVjy5VZF5WCnByqHpci8LEqh29nlFIURZdgHgvC1MJta5QXgGBqI0ZMwogTgFgP2Wcg1GzCCEBBK05B+zuU2ISTfWelMUmiQ0AG6gQack-JRU-LJpCkHkJDZqwlQDMEKNJSi4eYhmFpuau07RRLc1Q31Si0UB99A+Mzlqs1kb621wssUd+gqA7VAqNXB0+gOKNrDWY06dBzq20HRfPaRM60TqoNWvuH5q4MCJKbAd87m4qGKqAbojI51zT8qaut3RwilHBB20AzRuhhN+elEd-QFA4jZN0Ukm7zwtSBOlJ9mZfCLL9sOzsgxwWlHSJkS91Ib01pMRkZG5o0zOCHfE5twc4OaWcE4mDdqWJvEHrwdN-jSAwcQ9nHN+dCPYSZSxcjAKXXZCI5u01oGdUYLI0RyYIZSjB3BJ0ey5BfDUMI98kMzQK2sewj6lFHxggAtQ7FaoDAe0130LJhDm7XyikU32v4ym3DwfoL+EM55d1Ak0yurMa6VP6b8oad4AhlCJECLNDZum0M5ROg+wEhkVh3vc9LHEYcXOoncr5hQhUYL8H8zGwLzhguUECNLeFhkWaWboNwJ4gIAB8KgHOJxS-e6Wz48LHiIuSc4SrJOUGk10mDCnGCabo82N926OJbMZDh9c+GGvUXJOp1Imn+0tbIHQAzKwjN+EZKZ1dPTBtJEPA0c89nSCOZAtR-LQkvPTB83Fh9kXwTUdi-F0Lc2iilV2-tkLiW+ws2o2l8IAIsuLeW9Vjga3CuMWK5usrBMWJ4YBfVwdDHZUjrOkMIBk6xYcAEAAFQABIAFEGAAEFwDgDhwAJSh5AAA8gAOWQECJjJwu2NUkGoZzGlUTYpm6l1q2tiNlGMLV3t67KBbL9EUUod7NMzxS1TqgbPhPiAHJ0RsvPKNuTvSL8nen3jpfHto2HCPkeo4x9jvH4vzBc6XTz6LRoWds8B9orbh23xLrM7iNd1PrABYpzFi7hi8ASxanIRQEAYDwCQKgNAvU8TfbcsQFCrj5kzRzHSpt8MxoF2kpx8pCNYHrj2cUua0lmiii1jLKP-pONyQkvw1O8eCxGF-ibM26fE95u4CH9nRkiaxsDWfTPBpSh140QH-MQeU0IJLRmpP1uWh0FD2hdCnSpFI2xYW4tfjsUO0rwP9jUFU+pCypV0gDAJosGqA3h20eWiB7acv4Ia-FAb+2VVSrfq40Jv8TP-voeU9EyGfQGJ2+s+75+I-rW8iAaz7v-6Rf5MVFJ9OsX8m8-k7gJYZxADuFtY+FxFU5p99kh8dIGgOECFVF8B1EC4f9q8lJjpLlgVG8Aw39Kl8DrkjBSCAU1UOUC4+8q979hVJpKAxVzF2UJl9kd9AN6DDUbVCDphSg29GwHVjU946C-8iZnEWDLEQCiCBDZl-YqVWCo0k9sCuDyd3YE42De8d9ZCy5rpg858sAF8iYn5oFUQC5cJQBDCYh+C99kYTCX4mB8Aj9bMl5n5B4sDb8cDVgiZTDg0tDX9ZDfCe9LVPD78TJgh5krIbI7JHIDZZpyBq4PIvIBCOgtBO19YW99BkRuBC1pVlhesmlToFA1ldkGAIDkQRsihFoW9CjqBiidkAVyiHAcjSAxB+VYh8JCJ3RhQ3wIl-pygyjlksiHBKibNjRSEMgyoUiO9llnUMCNEKikDkCVga4tARAq4B84J6BLENtljGpZjoDeEyBsVFjdjljcili9iDQU1Nj5ANCwQKi3stFh1TEkZRgaQ2Bk8JxShXi4E3g1iwR65JivCa9AMaJOiTwFRwjpxsjRJrJbIHIXB9YmCSAkjBB-U2BfAws8IBVicR8zYx9W1CBDBsDN04kXBRFlNWjMtiDUjYNWjsDK9a5FU-dzBZCP9n9o0q9Ddh04t+BVBW9bCLoRA1kn9Gxml40g8b8q8QTYgbD282kOSRkjR8ClCK9QjQxjIhSlSNlPihtXJdkPCq9INCZZDxUCDEVSTiICiRUmDAVYUQU9V6Z3VW4wTSsPsCih5VVJC9DaVnThFW5pi2lyVvTMVfS+VrdjT3SCJITRtt0QzWVcUC94pLC+wgy7C4JQzqUwRaVOAozWwejRRfiE8sjMzEy7lkzRiDRFoEyzEKykZrMOiPtiIVhFozSKD9AziWUFCsUFVIy59GycT4xcT2EZkpEHB44pQy88iXTtFKSy8aSoQJyG4PZag4RuBpyJNCZDBuRGB8B+A3DX5KdYkCjzSyDwEyTYh30+VGQzzKCfTZoEDe9BzySiZbSxUOzaVdiQNfpdi1h-UZogNdzJEDygjZdayqCaUIzrczigJgL9zl4X5T5jzYLQxEpKCOzuzIKpU+yIFoyuiWyAym0wLeCiDg4wK88-5wFDJmhCdSsRzflZChD9DQ8mtbNQAXVGQhC5jMCHY-Jzw9wP1qR4LQKkK15sUXVjtzxlykFVzQhGR8TQZJzBhBLjs2yhSXUmS1iyYQ8tj7iZwGwSTUKriGgZL1DagSTUyTKTKZSTSWJZCJCwzNCQjuT5cBJ0K5DlRkzOzoJ0zRh5DU0-EjS58tz7K1w1CI49CRC582KqQkZGQ-LdCnNK5ArgDEDPC-J45KLEYqIdNZL7jsqPCkZsDD1W4GyGKUVAixKt8uSYriIsq4DjZvKKLGqv8M5uBjKig-KKKUqu8gqZ9OqJxbL-03Q3SIpHdllnc2o3dOpPcepLBWSA4+ShYNFq56dRRHpjZ+h-E1qrLQDq5FJjIlsIjq4rUnptqWha4TAtBhAAgTBiBqBdlhBGh0jfkPKIDDjJBjjuBNLPCeS3QuNIYBiJZLtoJPrRpLLfqozys+4+i3pgahiZB1rw0kkHjUl4b1iQak1CYn5wbjisj6cjk5kZA+lsaWIn5aMkb-q0QZljkSaFkya3Ibicw9LLEqa3KAbabibuBTk7K3IPLizC9-irZqbgQ1Y9ss5kz4Ut1ZorYNcA5BbkYkZkbkM1ZirRJFasM3JFbnCAT9BlbRaiVlbQr-dHAvgkEx0NiWa7jLFXKRqXAIxobiday5ALY7bZzs0RgnbzwhYAV3yrbWbrpGQ6Lid3qeEbli9LKx96cWZWqo6qIWT9ZXaZZsqTjw7ngMYPa3RbZk7usYbybw7ky066dIhM6iKBIIxc6Ta2Tq5tKA6bbfTI7KJdQfr1g-a6r7bgQZoxAhYi8BFwUBYu6x1e61wlhQxSgWYw6LY47m6whW7GdRCxCOBh7VA+74DwgAAeIenu1e0e2UkoFoY66ccEKHOSP5OgXwQQVo3gLFakLEONWoZocEUAAAaj2uQJOjOiFA0TjvCDfulufrfsGs-rHW-v1s6AmC8yOtMghFPvwBJ3sivrEBvo5TvoxOoEftElfvfp0hAbEDAd-uwYAeweAbiy-pkA0T3urrRBzyxGyu8taqtPJH1hD3JjkmxHdumH1h3JehntzAgf9JdCByYzXuNjHuQP4IHzYaIB8psrNvwAtqLV0obu9hlOMuaFapUiBAZUjv3vHp0XAd1D0bEJ4f8Uwl0etFtCoZfIYkFB6JDy0fZFpn9uUe2JFsIoaGhNEbYAsmskenKFADL2xPombMMnPFzsZBdvDvrQHMMkWlMayMLrjsSbp0uOQNzqLpSZlieI6PoqzpcFYfRA4diadgLRXMYFaoYeL2bqYaREYqkaKZidYo8f2Mk13O8fjqMcvKEabREd-rOMkZzGkexE6quXNrOnrrcdUZCrOI0eL0cZ0f7uMZklIltlHubuWaUgSfMaWcsayGsZDG1BDFfAccHt9qrkYNxFcfuMEa6qPu8d8boH8ZEECe1jRKSqjhsdCb7HCfDsibLLKOifzNDHifaYyeSarrSZ0gycJKruO2HIRfLrdEKfYaaYd1kEmtaldw6g926m9wwEWqJjrjqJKMaMRpGNDSQxoXNQeOaNEmJfqMeu+Xlp4CKNJYU0mg4EjgbwqMpZI3QVtEeLFnPAZfZadwUrVmdC4zmGltiDmAnBgumC4w5FlZiA5AVbSa4wQlVcnDgg1alfFoph1Ypn1aVfFrT1+mlotbAwNEVZQPFuCgDT42lsdaHkvttc1fFuhNVehL7DtaKC4xuCFg2RYEMHhSDdUBDZahWH9cKC4xfp1diH0FOtAF8Duyy0SLfvddjdiC43ckTZiGTe4DTZpMSK8mzc9ahXXOmCLdTfTdAESMhFTZiBzZiC42AALYMBTZLfuwbdADAArYNahQAFJO3a2e2M3QBh3m3QBW2xaoUBZE3x363EjB603K2wRwQABCYSJd7tld0AHdoEddodzdjesd-d0t0ALemIE9s1qFDegEAt5dq9x929udrjDLC94tg9rLd9jdiEDLJ97gIoF93txIoD-909iELdztvtwoXtmILd2INa50J0EVtlhowYupVOzzFYSkuYbgUVrDp3dD5rTDpl7D5MSRFgAAK2uo-RDEpORBpK1Yo92WlqJUeLnZO3Y7JbqX5SKnYuI8o8XkfIlbnC40A2lsAx4+srbfFsgDoDVHKSxJA6U5U6YLk-k8DaoEjdgEgFVYjYYAM+0+st0+Dbhx1eM7hzM5Mq4xx3IBx07cc5x02eQLI+E74+cJcSczjrw+mEpOUBpNtmUD7xE9KLE6lU86pAi4BSi6LoC4aCC5C9IzAU3FZZJaw6i8E4yIxNxDi6o7MNhMLQpnpxqPk3FFIExImdo-IDzB3NOk0Fke3EK7qIDUUJ5ZGKhZWFK9BARCKAqu3P4kIEmf0vp1WMArG52OgljUAoHW86fj4cGsy8Zci+KlcN-p64aDm5EAW6y8o6fnwDo4Y46pMsK4S+ju26KHOZcduKmYPVxMhycYBTEC+BYEyXu-uNvJG+m70KdAanFZd3andy6i90wEJf+IoFMAYE+Q+CqhuFIGNQPmoCfFFotdWnWiNuHlR7+ELg4wMb0SsZx6fDlH-oYEAepDIdAYodBwFf2ZJ7x-YxWBEzS4Z8PiZ5ZYmhuAuWgJupxVHTaPK+UHswUAyCDyMByJF-rZajfuUxF8cfBGfrPWfqfosmwfIGl+u9DCV4RWp6F5ZYcG4WMAF7OhaLaPN9BmN8LAiH-E7rwaIYhGwe56IWMD56lEpInyN+HmMHN4mCIesHBEN7oGt6YDIEfULRVpEcj4J-BCY20mmH-xQ1aPCE5mkl6LSF+k9SyEj6nUJ-zlz8PdUg7RBNKDp8GEj8V47UUlKCh815Ajh9ikR+NRj81PbAv3rzMMr7T4nDTwtk718U61z70bPSd7fu94pQBVGkfVtlyKpLEELhIYnGfsp8qakTL2GJw9SsbkL6AeX6wfH5D596n-D-L+z-n-HxT8X5fq83hAT4NGaAn5N7ElBGlsLW4Cf5P9IB4hBP-2SxT4J6f8IQ2rbgMHFn4p89m8-DLp-zD7f9f+RMPBlANj4ABySnoWiIaoDBceDMBpH2D6h9PkpADRAQJLYc0A4IjGWJj2nC2xiBdnbcFxiEDCAAGwQABnZC0g240wADajPCGZ58EygR-SfmfxoGQChBfA0PtP3gFADqBBYQgX3gjAiCYBNAvmuYDq4NdlATXECJXDrgeA00RJFWnXklJmEG0BPegegyvzS0B+2SfxA2m16xBKSKg9YGoOoCaBkyhRbQW4D966CeBNePvhniMFkVxaHaBFMXkkSl43atcLwUpB8RKCXAxA1wdcjcC6C1MhZVIPoKvyeDLy4TWYpoyBAhg1+oQjPBYO7xWDwh8LGWrF3kDxDjAZMXIoyEpKxCtBlQjwQ2lKE1ksh8zQeuCG1YE8WYE6CoWmh5ytE56+fW0A0P6HVDBh+PFnq02o7ZDVIRrboX0N0zjC2iguJbu0NUj2DGuTgjQVRHv4c5dWMJNoQIhsExA7B9XBweoJcGjD3BSDbFM0PgEsw1hxw1lm4KqEbIJhfkCEv8AKIb9mhl5Q5AEOlp5DpEyMZoZ8O+ZVFAytcT4UNxYgolQR4Q9HqkBZh+DeBtsVETXi8Y+JHmCJWItv3MDwita5gYWo+USGkCiWS4DEfsMdrhDBcWIttHCWiKIlLqg-NyCSKlSvUymtuHKOfjWgbJhAFQQYA2lFrwjEhHQ2TEHwFQZEBR0uVzIwFozCjyRoXegACTuElDohYBGjD2hBwo9Rw-DBPDHSXC6iII+ojcCyxPxsRLaxox4BaLOj05bYtosdIzXMCOii0bxV0fTgjAejzR2oy2vJlzrgMOeHAbgFXVFpVhPA1orgLTmyYstJue3SMc3QLAhj06otSev8mdS+jzoCY00XyGTF04NR6kZgLNFR5tJsR0YqMQ4GeZkwD4DAdQCIA4CkB6YgyIgK3kREtMCidaP4S0zGICBXRXFTMbVkBZhDCAeYmMXEyByAZ9AHo4yoGCeb7l1iNYuscIAbFElRxfIdRlukIAaJXR3lD0aUKKwxlvhyQppJSJKHdNIR2iFmLkC3Fn9mh3Aa8RohpGEA8KsYCEf6DbLQjDmeTJFishvENoNRIWC-FNwqBusuwbIECXxhniGBX05I61mBH6QE8IJvgKCcSCeCC4ehQCQwP0hOEGAZe22aWEBPWJISuw+EhQGRCwm0D5ODQYiWTGgn5pF0o0Z6KURolGBwJBESCbRJgmd04JrE0vqxHYnITOJaEqYRhJGAUScJ6WXttUEYn9BmJAkqUDRKTioTKJoYSSVlkAmYR+kC6FiIBJkBDxQUGgTfginpx6T+cM0NbALwfQMBmOdLCYCy1Mms5zJIWSyQViRGZ95UIWPiUxkFzSSyATEgFCxMMgMpSJdnNSY1H0lrELJGk-OJ5O0n+5a6U3IUD51BB6FsxhCN5KGOIjng+xQIHcf6OibZiq6pVJtJOOnH6M4xgwNKVQDXF6Nmg1OayVQC4g7j3RmYvvOlJqkaj6pQbLiBxG4DtTyxJkv5h0JkB1hagz9WPiNL2BjS6R7QGJL1NYgboCeETGID5NSB1oAcBPCqQpjNiUgUp3seaf1KrqrSTxcEFnKny5jMwlw6UviV1Mamr0Iwg6HCQaAjDXSnpMEMyUkAamcRV6+6FSdZVtivSVu6EOFoLnBCTSOAjAgCWdEhxuZSJybQ0adJTZhSmM1DFQH0EdQbJGAKWPKjLm4D1DqpoAWIZlPJDnhupkbIEp8UZC3Tvp+gfGW8hSxncqJE4ImenWKnuU7psyD4hlFUjgzppRBbyVMMUYwyKmcMsmZzOBIai1Q1Q3XLLmpw1TRauk-SZSQ2zpSb6mWWCmoBMBOohAsoswqrPMiThHJSQGqScJkCk5I2vOfXENhqmGJnuq2XIA4FGiMgAADETn1g1B7Iz2GTKYJgTUBBg1sGrA7NlqkBGQ9s+cU7Lfp4g2ZboMOY7LIAssPKHs2BEGKVqM9gxcQGrKkN9m+hUxS4c9NLWuyZyfZcmW6veHZ649xMGoxzNrGTkVzSEtWLrPTHPCrYs5Jc4OsQE9ktzi5VUP2SlGYa-JtsAKXjGwGNSKiQwR6YeIkMMilBE5Hc2uf2jLFdzL82c4xn-1PHPjp5Bwu2IECHmdBjU6IkoW9LVY7yGAw841E+MmFt8oh3454m6EHmny95jcjURUBIAiAl8xQkcfwxTnyziIyJE+WfPrS3MOxk8x0OeLsYGAxkMSbMaAu7F8QeUgmF8vGDfEThsp-YkUn6MYABioxRUrshOLBhegpx7nIgiNMIhAzww-8x+c1NyosAcm9EQwl8LAU-iKRp0wsAM3ZAUKR5t4uUAdHYXEBd5nCx2hEL7DNASFxgGxjfNfL3yAF-42EfFLrpJSpoDcbTNmLXA-ySZ26HKRxQHH5SLYhU1mT1h6LId3wFQcGIMD3HnjFoDgb+l9KakDiWp6ChfozKZmqKBpRwd+gwuAXTg1wv4EyngEhD+LDMGizMWgstFFodFGeFxTgtbKtwjFHYfBV+DKnbhZx1ismYGLrlHzQwVCksh6IyX+gjp0EYyAlPjFpyoxkS-RUgsPHdEDAL8wCu-MMaURv5A0jOn4oCXRLtEYM0aZDPwqxk4FAkCqWkr1FlL8x9FUpoTCsUUMbFq9QgAuDvDEz8m5YxXrzMYETTOlew7wpAqyDTKiOpIJaeHWOnrT+kODOUpdXkVmxFFSCbTFsp4CzL06+yyeYQFfSbSilZMBRQowuWPAHlRHNkKGP7ZgB-FkIY6SzGmXnTmF8EHZUQXGW4hUlD07CStwemkhclMQSFZMrP7ArEVE4CdAiqBmhgQZUwjpVNK6WjKWINRIhNRi6x4zpBBXD6TThZkl0sp26QeNtS9mhyZoNcyMX1gIxEZ+K26ZFRTLKheZkVqSumVsnRVXl6AuGYAs9EYDUY-pBoWlWOPmW8qJilM4aasoJ4CzE+tJVxLD0pVdYeKrqKVV7L+lCzJAsMk3Eqq5k9xnuiuBgGjksgAAZOHPjkCa-Q3ZZKc2V7L5xGyaccyphb9iZxKYrcBPLXL2hnjUYvVAuKYZLkyCeq+5+dCXMLhjXhq5cndG1XasdXgAWWIamuGGpgwRqhs9OQCbt0GAbZjcO2SbOZmmzUrZVKwPbDBgOwPp4QJwstX5nzkYYOADahLHFNLj5dY1csgaQrNIllElZhkjbNRhpKwUSVXs8lYbJFUDTTZHq5Nf2rhZQzOWAKYgbTMpUnjvVa417IOsOzDqqAyslYBE17aGQi1AFIifJJLXAye0us0tMKutnzqziYUmosmsfXGymlULcFiFI1HpkdVZAIgZSt3WeTYqAgVoCx0-SSA7YvgEgJusA195wQ-64gcE1fLGLPwUoCDSMRr7Uh2uL2DdcQJA0hTDqhM5EMKVVHwaZBRGw7KjIGBkxVsh+bGSlhVpkrmNRy6woIBlGsaZZ8AujfetHjMaWWfGpjTxs3RSZAg-GurFJuZyCb1F7FY2NLO5HvBGQNq5XOjkxy45M15IVTSjnU1q5nVyWGWbdhpIKbJN7RJheCAxCSj41pcLjTBkbliaV8AKVbPJnqwyruV8mtgPRrzUqb4ctqh1U6r8hpqAtBmpcDdlwkmavNnqtSq3Es22oCxqQf2m8Fo5DEfEM5JhTxLS3OikSALZLc7CJLpbb5-LIUcyWy0XhKUeWlEGqOJKej84WWllgwVFTHwUgKWupAVqj5Z96tUoslAC2CitbTA7Ww2kAi602aXA3ZPrc7Gq2FbJFdW0rSyxqBiBXEZMDdVlqG1e05t3WlFJsMcHOC5Yg29GPinmUHyatGo5LfgGqDCl+tUqajQ+hVpJb6AV24NHQCu3iMZIP6w7ILjO0XbuylW0wAgWe2Taa1yG3VbWV+1RoAdVWmChYSuLvbbthiU7NxhEAANgdgG6Wl9uGxuqUUfW87f4gm1Vabtrk2CYlsubNbDAj20eHjr+1eTfyUw3ydV1kkBTr1LXUMCjsIGlkKUy8Frflsp3RcCdPESCA0DCnY7vtpCTnWTsm36Aedc9KwssVh0FZo4CO5gRZFZ1qdWILWnHQD3dnEBFtbSC4uWL3XkjFZR60dduFPUZYZd0wTLbYQA1s6FtS2m3RolyI1qTKJqyrCLJNxwtbA0Og+q7rNU7Yjp-4QCLRV+gC6igcuniPjAR2sDkd1ulDRuW12uJNdjFauCYH4AIjnxotPymWPOZvdjun3a2g91RnbbLhbxPXeHt4jxMh1Dk49XkqGnm6WdKe+zG0kLFLwSxyMQasXu2FH4k8F-PvLnURX60Qx6bIGV4xzBOKmZURXES4A4hfy0SgDQwoHqKDghO9zgpGNwJH64ax0wsiyfkrEJMZru5eyPRFmX3nCthq+3Ycrtj2UrpaK+nYQaKJykyEipOp1pfSBAABOE4FAnYhusopTY35K6z4xrYFMo0HFBuSAXHi+miic8R4p6IuBB6zs25oUAAMaJkByAiyGgAwOoaKlBFQyMgbP4fBaFRQZA0AdjzThopD4OaBuQ8igB+k4ixFjEGIOATSDkvP5MumQO0a2AvGfjEwEExvgPY0mPnYNJrkhYj9m7HjHxgEwFgY9CpdddfpyKcGJDPBs0YS2uGpAN11QUqKuDICPQkEWnMDYTMZD1DFhfOAQRof4BEMjg3AvyK+F2SkAdDqnIvkCGhRTTZoG8FpngfBCeQvIqhwmZSvdAh9zDSRfNgNxDB4GFBuq1oMcHeyVKIgDEV8Hll5EyYBRmGqsoUD40MbV8TGmUXlloyRH9xVS-WtoYUYOGj27yFw1HEYUMHv9fGCEF4c8hMgZcnGwUUEa8O+RojBFBiAwvcPVGNEnhuo15GIHlbJiLUfo55CwOxBGDcM89UOpr2m669nVcI4BuZ17EW9xYoPK0DXFpYx9jUetqHj+kq7aZCKaGaavd07YUZL43JkSqZoAshAhgeyOtDMP3IexBhoEEYdeHrpTDARgQP-UsNvZfm2sISgcY2Ob63uJxiyecejlkCs+udV7fsLj7wMyZZ0BacwCkj-hH+-AxnOoZcJrG2kwJnOuHSGGD6djNJPYxqOE0yycZco+mOJpkwyzBx9WWTYUB00q4NNeOKmUuAZkRbe2zJvTZppi3tKrNYsVQw7v0DIDZM+gJmaAAAA6WAVjZerJjn4ZAwQR9PvtTY-s5Q0ENA-vCKPGBCowpjdWKcCwSmmZMpuU6-IVNOElT3-ddKdN4Crg+8PQFmHadAAAAvDLtKYFDFrHCZRZU0SZ6BumNTOkLU+CFsM6HmWMu8WDcfeD3HpwYp+U96atOPpu2oA8WuQAAYsAAGygABowMmDICnQeAfU7qrjPmmEzvp5M-OzEPpnMz2Z7gcGd8hAA')">function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    THE_ASSERTIONS = pair(assertion, () => THE_ASSERTIONS);
    return "ok";
}
</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_1_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_1_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

    

  

  
      <div class='permalink'>
        <a name='sec4.4.4.6' class='permalink'></a><h1>
    4.4.4.6&nbsp;&nbsp;&nbsp;Stream Operations</h1></div>
    
    
    
    <div class='permalink'>
<a name='p37' class='permalink'></a><p>
      The query system uses a few stream operations that were not presented
      in chapter&nbsp;3.
    </p></div>

    <div class='permalink'>
<a name='p38' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Stream-append-delayed</kbd></span>
	<span style="color:blue">The functions
	<kbd>stream_append_delayed</kbd></span>
      
      and
      
	<span style="color:green"><kbd>interleave-delayed</kbd></span>
	<span style="color:blue"><kbd>interleave_delayed</kbd>
	</span>
      
      are just like
      
	<span style="color:green"><kbd>stream\?append</kbd></span>
	<span style="color:blue"><kbd>stream_append</kbd>
	</span>
      
      and
      <kbd>interleave</kbd>
      (section&nbsp;<REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>),
      except that they take a delayed argument (like the
      <kbd>integral</kbd>
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      in section&nbsp;<REF NAME="sec:streams-and-delayed-evaluation"><a class="superscript" id="4.4.4-sec-link-3.5.4" href="./3.5.4.html">3.5.4</a></REF>).
      This postpones looping in some cases (see
      exercise&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.81" href="./4.4.4.html#ex_4.81">4.81</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-append-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (stream-append-delayed (stream-cdr s1) delayed-s2))))

(define (interleave-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (interleave-delayed (force delayed-s2)
                           (delay (stream-cdr s1))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHR0lVVRdSeRpiIbiEpKLi0DmF2sUJNvklQQoVx1EAD1VLOjoVtZGDMf1nya2UlzpyHr7I9roikkjAA5hdrrd7rRATF1j4XoZfABIczTJzUVSidzkaiMRwxBqULLCVawp7vZLBQ6yY6KDFY+S4-GsQnE8442bzRbLWiPfKjPQTD5pDLM4gAE1cKw8ZP5my2VMiYslJJleQSCPlU1F0myDXFknBN1Edweso2FKCoBYknKokcpxJil1jQNjlUwOyVixNXqTWkMPV8Mtwo+Lv1hqa4v25vhgq1KTRNVEAEd2mRcsM5SHttTk2nNKQOqn00WauRjjktIGsxtnvGcyKZqJYuRauXKwk+RbhcESOLRPgiaJxY2kw1SqRyt2Cr2xEqJ9QpzOdA3hUnLNZbB2FFXyCuE5T5+FNzZiDuW13Y6vxoeAknJKaQcQ9wfG4rwo-7s-X9fNVgUSbJxHXOAdSF1bEzSDRJAPMADc3+WkQNoRwwJaDkVHoCstFQ0RwIPf911FNDPSda8738D8WhIyDeT-NcPnSLFmEYFddAAIgAVWIcpiGoAB3Ow6i0SRLlAABacTjxpBR2IMABuLAAF8BBIM4RF2aR9kEXRgRBOgjFMfxKHwUBFBmG5KBYKVxHtZDVkEAxDIpU9bB2Ll20s6yqFsh01KdHSdlBAzFP8JSxADUR7FM8ynDJfs-KEB5HOclJMO+UBbkIaRyFAABeaS5AURR7McKNtJIN5Q2qoorgUCULn0ShmBfLtGxq0NSo9dwcjcQFHO0dqOo+PS6EG4aJv8Urxma2hXxShSXKsM9RVc89-iULKcooo81taKIxXq-ctsSIaRX7Qdh3FULzHC0RIpMClmNxEqSA47jeIEux7NANtMQkqTNNqOSbtAFSVKwH6vh+Xp9oBA5rjG+NHuSNbrTmIFQXygA+QraT0zUxkRxaIZ+vNMJVaVpDY5GjP8NGZnIRhCHIAALfZqSK3IJSlWhwmNSUlmK8jNR2hCjmF2hKb5lp0pLK9oPrW92qYxDJZ51UWhkNw2Vsgj40U0n-JWaT81LDpyBYcgkdvFHjJi5tW3bOh5YzRRvitgzUqKNGLqHeJrsmO6HpMsyZl1b4L1fD3racu2UjRzmkOayPvk7LR3ct2PtFvUGwYil34+SdLcqHRhU6zuGooKoak+KsuK-T-cY4MnPXjzgJQ9ixw9o2kqU5+GOq7junhTRhvB8rjaO7CguotHj5E6VF2Czds76ZNSem8BFvnlzkMVICcHVKSkRod+RwSC-ShnxHRQBhNb2LGWtybVUe+vRx0B2IAKivp8A4-3YroB+IVlIn3UkJJY55qAs1wuBUiKwaxwkSEXLuMwV7mwPE-Yu0Jcot3yqATBhZ7Rp13AkZBTwZ7Py3HYR2qg2xmxIZnT2YsjzEGytIdeIpdiaHFO7aBPQ4E0R5PQfu5ct7kIzrvKqk0Uh0EEbAn4IiSSAm4TVG0domFu1uJIy81YWGxycotI+c8i4BAZk4FRUFayzlDCUBw+5rEoU6P6bBQ10gcOkNIPOx9IbGxEHmRcy56K2wXiXUA5VCHBPKGVag0YDx5wiZOGQDACoKMkDA4ReEIKiMBOVEx-gIn-2-AHNJIRHEXxKTfAOzolypMKTQladclDlSJvVcUjVxCzVahnFJAZxpyKGUUapt9xRI3UcMj4t4SYQJJKbPaZD9H7lCa8IuaNNH2l7m0JQ3CWmKD2lcY0po6KK1FobOZJs8zXx-ArWxN41nhLwaADahD9k3N6T8DaRpIQ2JQUrdukwPm+i6C0PuHy9wgrcSLF5OzNR5zRtPcB-jT52DzM40k0FNRF2Ba47ofcMVQuaPrSZtU1ZKEJd8o5vzTn3NkVM4UMyEUvzsH7K6FzcBgHsgwfAzA2BQDgIgZA6A+AACZLkiHDq4Bk1NyLrJZaKDhjQsQHnMAAHzVe1DBTMiQglVaADVWqnBNGaKITJqrDWhhmF42VisAiWuFDMNltTyIXKhtK9wYKdmquMAESYaNrwcp+ozSQIIQQjmcI4mmbN7QVhBDgyx7pJDNVVQAMlTaAVmZr+Fyrynm36WbHBxqDQEuhmQvQ+v9QqkNYaI3QxpuxB+INkU-TxS0WGD9K0WIVVmyQ-CKyUFtXS2ZKLIGighXc-58raGijjeGzp9b6LsQnVoZtKkforsHn6YlcqF5o17f25N1MD2KAHUO-5xi3Wlp2AAyFVKIQmihJiul06VonrPaeo92CR3BqsTkxBtKp17urU4Oddao1LpLpk5R-7aLEDkgazVVrQOhvnZG74DapCMEoJICc9oMUIYdR8GtaHF1Yu-qVAjsyfqErbV2ppbl31fqY4O791Hr2Up2T8x9fynjx33dmz9rGP3kSciW1FOo9RumpTxwDfHR6JrAwuiD5H2Lhmkw+k58H2MSfU4abqXo3BEoDPRzKCq37u23e2voD9dAsfPU8MT4CoZScjPEmMdqFM9sEx+kTisnNGwkzMRZFYpErM84URTqHwMYaXSFpua7R3zMOZpp9pmBN9qEw5uUP7r0zAprzLI2WNivrciRmL4X7kcQK5rbjWnCNIcdSh2tynYuqZq1TKOCREs-Q6zLd0lhBa0l3ZFhV59LD4BpjwHTY6+tFbFMQjOI2N4zvG4OGmoqZvzLm5+HKWJdaZiA6N1blSJs0wAMy5aC04RbRZDFPyiy19Dzcs4cVu6IHr17NnaLu7vfjY2o3sXe8AohWcwHruve9rrBiY6GX8Mdt9Pmv2w62ybCe0OXusP+zOk9u8r0Sd0RjneYOHsKo-Xj5zeWnAtgYc7V2v2SfY5WtazhhjwdJZNuHR8ejo6M68zOln3ists4CxKstZVJzTmWyt5nzXSMqaq9-GJn2JMxLiQk6XDG7D2eweJsdMxNKUCFrxuUTOyty4qw2w3xvaAq7HdNVLJuSv88R5lvzw78djr0nVp9lDTcu8Y0j4TX7RMjrwNypgrB2CCq4CKtA52xezuZmzfYlwE0gbiaa81afQDtWCJcFWYhGAsUUJcDiJrpBmrRdcPCChxS6EsEWSgtlxSpESxzkQ337KKAM71LESM2m0yrSdjD7F4oNXssA9RvfvTl10IP-eEPrvMmGAlbv+B08C4t61-c+BqteDX6Wu38yuqej7+XEqm+Vprcm3v0A03Pcn9Ler7SV+3I35KroTbj+0fP5mi1eaN-OwD-O-S7PXeZb7bZKITwLQZ3Yfa-QHKA9oEHTCI6VHSVJwJApQDaIA2daLHfRQDaDiLA4-E2LAw6LsHA0rbXIPamHAq7MdQsUoe4YgMEf-OaLsMJeAtyD9RfDvb6AeB0HqJQLg7tHHQTPgiJGNC4J2LpHpPcQhG1RSfg9GLRXlCtNtJGDaAyag0AD0FNTQ3QbQ9A76YQ4zfqYQuHeHMQ13fhdQnIEwpgL0KuCwr0KwuCGwngr9ew0QBg+ZOqPhOQgArsQw2FAZSJR8e0UQmXd-TQEENmSzUFHQvNAqSvVghIyIAyPPPQ5NViLvYQxI-0LQhpefSIrpNhdINI+I1mQo5oHQgAHhCDiIyIaTOipGLxenYgABUyh0ZiBaggoQRCA9wGA6AqgFhKARx0h2JQAABqXPKZb4bDVgkyfYTQoweYkHGY+Y0lfwJY3VVYwghpNhVEIvEvbo3o-AUQfiQY4YihIhcYlwKY7+OYhY4ZfYlY-ANYqzHQzYjiV43Y8wD4kEQ4zI0XFQ0oCoKoYzKuWo6QbFBeMmfQZwMod+aIlIVtaBOE4ogMHBLYRNG1bEk4ooKkZEyE9+QE-wJg6gFgtgpqYIjOGZXY9INtfKfNXHH44khUTNQTMEyklkrE8nTk3QD9MExpZIQ+IoLucYNkgqaQmnRhdgz5PE2qDo1iNtd6YgJofsUAJtcU0xe6QuBeLYCJHwwhdHHwg4QFaqNGDJByMwzQkqSwwZBlHwlwp0tw-UsKIObgtFMk1Eq0wwcAk2XFKzWEjUsIhEyYJE8QFEjEQMlU8wTE81UIsE8xH2DPQk9Y9RUk2M8kxQQE6k2koIjgxk14Lk041klInkzLbMuRYIF2H4E9TIowmQCs-wAU81IUpI+sUU446hfOEMaU-QWUgtKI2QpUvcRM5IZ6dUqzTU7UiUXUz+SSG9UpPcZtLYYOI0oaU04Q80wQy0-eG0hVO0j0nIcw883wl0qZN07Qq8pzLcn0zwv0vMgMvgzlAgUtHlPlaPTgYVXgDARPCybDbyZvOyUtV6YgUnLfItfA57KCjiLyGyD7Rw5Cnye0KyBYZZURKCmC2w4XFKDlCJdC8CxKSBcpetS0etdiA9EHfwA9GqelAIGis9ei8wM9Jim8-wGi-QxgdinI5qLi6iwHaGAS6GYSooGiwXaQEHGS4UZiniwHSUOgBYSQYGXQFStSgYj4RS8wGi2c9i2c6qPSipUfG0NmWYBoOgYBCy1mKyhgLYUymi2YgS-wUvXQWoIwPKXGMSeYnS5ywHcSNy8wDy0ALyr+MSKSAK7i-SwHIBXQFIMKiKny0AMSH+cK8wQK0fYAEKsyMvcK7y3y0AMAGKkS0fAAUjyuSqKrStAAqsytAGyv3HYhSLcpqsitHK8tirMpaoAEI812qCqUriqBqCpuryqWr6jqrhraqxJGjzAJqpLAd6i8oQqOrUr5qCpCqeqaLsYZrPK5rQBcZFrmrFB2JsY1rEqAgNrirLrTrdrAc+q8q6qAhUrzA+r-A09LRFoSLQKULyKSRzD8oQwLMD1dBSLfJuVfrnlIaILUUegGgAArWvNJUGjGQQL+Xi-6jCkHHXBaHq5IOGwGpBRaLAP6qyAGqDasQhetGi51EcEHBm8UUyhlFiwHSAYgf2VwDS8wTm7mtsVmtmuK8y+Qey2ASAdiuyxwCWoW4Wmi6WgAUQEqVrlrZpooADlJANa8qtaNb2yJoYasI9CcayLqat0kiQatgLNSAv4T1SB6xibzawEKawLfJzaXCraigba7baDlAnIIbTb3a8FoMwEVCgYBtKaMKSbeRAo9JoZcCI6iRL4JQsQtJdVHAkbJApAFFsMGECyJpiasLK89xcKBp1F47HEFJkgW1IdlpqhJyuxcCAiGpG6M5uFeEJQe8g74bIFzDdBKSTao6zaQ6cJ1jCaihO7+FibSpqBkbUaB6GUnbR6vkdlW5uF5SJz6TSzEgOVK9cppCQRSgGhwg27cp0l66SzPlFAybw9vzI9+UOAhVuBMBE9UD3AKBHACxvhzgbRGBpwsMcM8NcCWdlVWIddAHcNK9jEQxggdc+zsMoHfC45NjHBtjQdliQSvjFAIHgQgHoGnIQx0hcHEHgHHCYgbRkwDM69M5MGdDgMZ1JBSBSBhjspaR3ZdJmHaqGB5igRmHRz2IZjghBGRQtjXimGHaJ6apBHdBgT2cfoSBuoXZaHdVdJgo1GwRFHgQXZDIkRfSMHdVXj2JzrXiKHDQXZqG74LNvctHy5RANGvYjGDB2If8RBbGXYi0sQWBMZ41dCZKfGKJhGbV2IiGdQo09IjB01Gxu5CSP0ImjANUazD1WN4nQAxrv5Ag5JYGzIT0ImBHMnsj36mGfhv6ga-7pwInC9u5rdcK8momaprUK0Hdjk0t4m2FhGTH5j3HY0vGcHBNRoAmUG3jQwZj0G20L5O1mmaVVhUmdjpGXiuniAlGenGBvGdcBm2mNizo5IQnQx0hunzqxKNHdBunPHVnCGtgkw+KAnsmDn2I+KQd61cnQReyv14mTmlntGVmWAKIkxgSbnuT2IABydBvSIxkF0J4Ew4iJ1x1lT5uxr+9oRgfYAsZFkBzIVnHIMBvpzLVFpa4W3q86zJcULY3ELYvicgLYr8LESl4g7KVCi5kk0AA5k9PF151jNlj55Zs5n50JllwTTl36L9QV05tl4MkQLOnO0gPO1eg6G4JcR9BGVQdFzkCYm3VYI5QJwl5dLkI3UREHKZ2TDV64NWgICzSVx8aVygBhKuAbBVu4BxpVmBy5xVCtTV7JmizJ2RsMjtN1k135sQa4cVuwPFu1osO4J1tBB2JwGpp0TVlU005-Ks4Z5IcZ31wYQ1rTJ1r0v6+1l2TpUaQhCzUN+V8NpGAZ+NmeceJNqzARh57J65k9Utx9CNUaesHXZtu4Vt4KZ17UUqKs-NNTRxXZplzt-N2YYKUJ-t2t6s9iC13O612V5Aht3IqCvujU7hc17Oy1mV21sdx1+NgN656d0FQOvN7t-ScU7cqKdBctQYeN9MtGT1kHNNmzP15Vq9sxY0szGdI5XxWuiTP6EQk1vxpwa5917kk9CD7UWcpVzUz6QSQNlpk2ID0gkQVAihSNhh2XJNFNaDlIYIXgk10J2Do5eDviRDmTLTUADD6sdvDdLtxgIGjkBoe0PtAcfhTV3QoDyN2d6lpjlxynCTdj2YRjoG8qLD-R+22gI6QESt5FPAekODOCvDCGlmHYJc8NcgT83lKPUgVmOYNwUAc7MyF2Mdc7ePePXwcOu4JcRQO0WoBvPCXEcZFVwkxvFzrI+xZl1O-2EcQvEsDwBzuzQTE9DzxgVzxl7zsL5ziLrz6qdIL8Oz4LoV1jcLyL4N1Q2NJBm+ouZJepdCJB2m+KisPDIBcUqGMoSod+BzxwHgXQWrzbdM8wCJMYhoUryvQhJL0gez0Qdser1L6mfpFTghgc29lOgcPz-hNrjr5B5r1GBVZmgc69+bgICJdLrr2znrxrkU5HQgdrpBx80MRNZmg5WLlm3YvsXzq6Zkwbs7lQCLr026Z8qaPLegGl3r-rhrvrxwUVVsqIac1r-b2bzbugZLn7gbj9Yb2bo7lIcb07mbw76cgIRsuC1jaHpBqR0Ma5+tWrgb65nbsI9oAOwegIKHgrkb5Bp7-OQ0+eXc55Dbgqbrz7373b1jRHshgczuaNiby6WpdLkeCkWCVNqwNH6mDnyvQaYXoZa5gnn7v7on680noocnYHpHxaYXlb794UVHj9dL-74nrn70p8o+aMjjBwD0cgfTxQH5+bjZARyE6rkdmqEoKrqobhdINgWdokF2ATyZYIH3mlyZJiNUm38jr6UAJT0RAGIVvDTc43mIuwLS+QfT4i55KP5jorgqb7Wbm+xSCJLTwhDP9kHLtTN31QZtEi9TgqYvlCXP9iQPgTsmn6b7VkSUVgo40hyXxX3A65yB1Tnv2FyJIkdvsEfvyvRQNv3VXAk9Kf1gxwufsf71Rf3Aj9FfofxfxwZOy08f+xpwhw3Q5n3f3QHwxwlu-hY-xXk-yw3Q651vkf3VTv-BvfnA6-twzLmYLDSTl8vAp7etMjjJvRze5pwtAOGYqAAJ8IfNFynSLDI4AM4ShK8jAHBL1gxAcwQO2vaKGHCcBf8H2GAtbs8kX7RIH+rBLfueCPLXA3+DhI3lrlFCncV+l3HztANaB4h4B4oRAXB336+FbuKgVQPsE359wV+1PFbuN3A7+tVuifQSqxB4H7AoO-rXQNIOFyHtluX7IaInCDYHwXuNAhQZq0y5LEzULAB0LqEtgY03oRCXAvgCMH1RywlgbILQ30GOALMgUL2EPwsHyArBeg2wR4Nt7Ydzc-QVnF4K1Y2pQmRINwJXmzr4Z7o6lO+ENFxxMx9BprXLqlVcHkB3BcQzwWkIMHk4Mhl6ADowUuAdIt+fQdKI4koJ4NMeoAA0KuFP55cCBxAkEEQJ5gkDt+BRS-qf2ZSwU6BdQ9poGw6RP9yhlQygVwL2Y5EUh+2BwSnxqL8Dl+XQzSvIEGF+ETYlvHWOMKt41FLeswqoTfx8GmFP4s7fAEekZopsrQ7EfYYOkZokc0wHgdYRUPkBGBsmZpDwtqE-7Age8two4ZRB6GBETIC2EoRnGuEDDOBAbCyKu0t6RMM0wIlNJUK1ZLCxhFla3h+lBFY8aoH6KEUiOqgwjtwcImok21uFoiCWJ6VEcrw6in8A2Jwg4SS10G6p96LiDIaXl76rsCqiQ3GDagWHocs0U4WYOeH45OhuRKwXQCWzmGgBQ21Qp5MbSxE9wTQ2Uc+iMOWFYjFAAo1cLyNoCL0CWNUYUZYXaErRxRJ0ARqcMrwktsmQQl1rSWpHngvBNvCYRKLGLbRMuhADxiPyuCvDUE2w0UP8xxGJBWRdgLTtYP0GfcBuDnJrqKIyjlItOfo77rUG-z6MnU13WpDoWCA2oRQdAD-qnUuCOBauvQJ0TggiQOdCE7o8Uomi-4OcjAwjTJiKAc570rAoALogAAlFajgAAILgBwAitAAEpdFIAAAeQ1rIACoShRPFcVWGidfeqiJ0TrHmG6E7RmFFMaOP2xatvRDoy4K2zE5IIZxtgANt6JkBaxlx0IIfhuO8RDiaWK43AjWLrGNjmxbYzsd2N3Gi8FxS44cSuIxHQVdC3o80QuLTE-cMxj4+sMum3HEBxIXgoARJn9gFtfxgIR8eOJdFeDDB8gCzOvEqHDEcYkyfTnhFiSZIDxTHB4PBJYAQ03B+2eYXiIHH6d0JI48CYCJHT71Mo9LZkCQCM4FQAADMoR+jxB+IPcKibG3OCUB+ECaKiSoBolYhCEzMSvNRNgKMBXiPATUW5EEn2heJIkoft9mYnMDn+fQgflJNVbcgganE+kSmnYhetJBByNibq3VZb968d3XfjkMCxjpLAD8RSUgycBEh9J0DGocbVUnsSUInExQtcVYlCTXJ54TiXnzN6AdLA9ofiDIGnBccMBBYl4VxyGjBB5Jnk3fhwJcmGTRExkk4lc1Xb4cPgwQa5nEOCmhScWnHOQbsVymOAQp0gacERw-ZpSkO-7H-iVLKnTgpJnoioaIExASh0QxrVQK2S7578RRAUsdPVPym+F5u43HAYL2qjSlLhdBMoQPzm54CMyM6JmO0GoE08Ho80tKAQIaGj9SBQhN1vMJWk-9oxk3K6JPwNoEcCAqSUQKT3SCDTypk-OobCQaCw8PgKkJEFr1UEZ5wOdwiaIRyCmlT8pUHOOIk1ukVSv0yDdROkH2GRRlumgn9itBBlOtMu5-Qoe6BpL3A8Myk7vpEAgmTAIkhAgqJv2aEVpWhGoyYF3E+pHS+ed8QQXb0W7EBViKw63lMOgIr8VRqo7GYCPkgpthBPPL-pEBHgMo8AP8YWSGDxl1CtpGdImYMA5ltCQwaMCmU4E6GND403CK7gzLlHH8iRAQZme0HunKzTWk0U-h70+Fd1L+Ms0mQaRDgxQBwbU8ZD0FWAcySZnpEwCVTADCyf4cshVGSLOEUig4Kg-EgqnP6YyX+MgfaT6QsnzISA6siYT3nx4K8+pP-M0nsPJHO8jw3s-UanPvBiAppsciGptnuHCFgh2Al4aoGmzvDcw+Qr4X0HUCmgMZpcvOfMKLnMCe8TXbJsjO+E1z0ZE-VQAr3rmAjzAQskWS6whGsRS5YI0ULL3zncko5XxRmTUQRHTY8RWwBEZtiXkjJ6Zs8uUU20XlaytgTbVebvKKAkjQm6cxmh-0wL0sgQv4lVkpgQpKjiAdLSvGhzsCYRwIdoh4E1N0I64mpjhVSRJ0-kuj-GvmL9D-K1Y0UZAIU2oKBmZioVQm8DEBfS3MmJ4I6hoKSQ5L34KixxQopFu2ATlFJnk4EKvF5OrhmZrJu-OyasCalJJnkM89sDqJrg1RaFc8+UTgqTSjDbAa8j4K-NkBpZCFaEpqZwq2Dqj3++jJhfQsHZ6jzh3JI0TB3JSIssQ+wP+e5mUBhDzwAi9RCaKsA0ibB3jMRZKO2jkTKxJ4xwC2M4gAAZRWj2N1KcJGJ16QifZSklgTcJHC-uS6MnGkCBwlwVcdBWybziUxEaRxd4vXGi9NxxCwEI4T3EtBAlx42sSYvMWWLrxPwW8Z0kCVfjdCUEqegXRqgvjaRb49MZNi-GCKig7EKSf+IyFyQ8ROSnRedV0klL6WZSnRXJGakR1Ulzih+a4v0ZQTkhsEjqFJK-iTIUFxC9BThPYXtLT+BEqwERNaWjL5hzU+4LECEl4sWFCithVgrdIBD0lGQ6CcYIpJbAk5uMIaBkvmCBEBwuoWoNEImjATiJK4zBXhMBFrymR7kPYGEuWXItVldykkYTXWXZCkZcipZXi0GE+jsgWY55CmExoFRQxPHQVuxBaTyLkW8fGgZTKm7yjHI2ReZdhThUoscFgKgIYXjBUkAYCsnV5d1U4FAqfm58jxVcBy6gjQO1gx-nmISZqpRQX-BlboJxCWBrlbk3ydOPvk4JxuC4nLrysB7PIcxBUPJR+Mmy8qByESFhsXgSCcqzRGQr2nIiqW+iUuP4+8bQAaX6CEVRNFmJ9w4j3ztV2QKfOiNXb3zdAjy2VVZJ+D3yyVz096abyXxjpvguILZFROToLj0FIK42o+MITcL35vIKhWTJ54Cq65bS8aUUGzF9dCE4q9sJ+IjXSqCFNgG1cQrJXKrJoqq2weqtKUATqeqgfVTmvqUASkR1zKSZatqrWr5VqkgIZ+1p5Fw-EG6cUCkqolMh75V8zVU+MAUXyJ+vK8uaAGCAic0FvK0JiJ3bVSqhOXuZtQqo7WHjaAOCV1RyrtWeqeV186hcbWaAgTO15SYxWeNbHtiux4APOLuqbH7rLxVi65harMi1VN1CqsBD-3YgVBBOzq+ZEOsvkALJgi691UJJXWeLvV66jKLescWEJjFpiixUesmCgb4lF61duWuvVfwgN9Le9RIMfXlBn1wFanLIUwhI1IKRyehlGIxZC48NjhdHNhv8hKt8NP-WQaoHkbXpCcZGoQHJ2JjccwZxMIfvQkYQqUcNqKCjW51ZzEaXBghLjeRuI1fyJCbGydclk3ioQHA3GigExpo2r9WNimofvEBBDHBOkSy0TS6Oo20aJM87K1ja2vC8aXZ1hCQbpuanYbqA9khjfJpxXZDaVCpdsLZrIi0A5NscAuc4S8GhMrN9k+jW5v8iBhiA7m9enIlhVLLSNAWoQDARC1vBpewyb5TovBIFqWqxLLYuFpwUoE3N1m6CrYokxcactigYTYxvs1JbHNshYrZAiK2ybAtgQzhMEJElhDfIpyqIfwnXgZaFF4iSOJVqcQ1bGN9YRLfEKl5JVaqBWvzdJp62AhJtcWhLQ6WyGzIUt51MlhxA63wrNKsmnLc32vRqb8Y6jUlRssglbLulGMdePsvghbB-Gq2-YDtrryYqfGoW1UTVE0U4hFV1SkkciCylEIqRWi17b6KNlIgUQniThMNuSCDbgVFyRbY2moC0tv4V2kHDdt8J5a8heEFmMB2Va6F9kAAw+sfVPrb1lSmXAzbu3BR7awd3gvwLaSO1GCelwoM7aGCuAo7ioPvbCFQFpCUlCdi7FfCgnu0DbhCRS0KuIBP5FVSesHAXf2qmRcQeIFHOwJb1hSiTVy2xACADuSBztt2C7G1htCaXdDnt2iv7ZYULw2osepOhbfqpV1SsidOydLX8sy26B2d6unZGTQiQ2hUxWlM5YQgACcikGjBbzOVkr3YyA83qpR91QSPUmcEBNOXG5ZkPR83HmWZDsDVk6JyPfwC7vUqKAgWQLDiGgEz26rLZO5aqMnpkGCZvgz0rYPnrJVb83Adg7IGL0zj1g7AUkB-BoNN4BBS9weivUjCd0ybA96lZpdIEgXQLdZNSN1aVviG6FSdEOk3RAvUr96PsK2q3QopByT6oFRaGBVtokxjs7tRIFLUYSxBNB7ggtJyRlBTCEIS2zAMtq8LsbmQlm6nTYvJCaV5wu4tkRgLvp5ppNB29wNIpS2nL57zqkkKSGO2wUKL7AV+3KADGCrV0Qw3+0VjgvlFiZVpRpSUuYC7h2qWObHZtXfBTCRqUgb6oSW2t-FAhp1dqiThgep4P6d9NJF-ekyBxnDV0ie8wN-vYi-7Vy98nYGgfFCgHf9IMOA-PAQNcH5u9Bxg6uTxZmZrR1sdgxwep4t7aRhyrZdTuJH7kfKgJKA51uV5M7oMYApQCmEGGWrRdG+L+IiDXlXb5Rsjb7S9t90sichTq-sYIUyR0B+IKqTfSzB9WH7j9rCsdufuUYOHcoN+u-bjOeQ+FykhhzQ19tYKmizDnCZ6QSVZz+GtWUO9GKsMMaVDJAITJEPs3hYeMllqh0AbSCCMnpoj2hwXXofBKtotlU9XCGcrvh0ABuLW85Z0joCBiCNfgoXJUa1bVGI0dRm+qE0baF6d5w0R5UcttllHWtlezIcjh6OPbhorR2o5tkcIhC06ZqZrZEJqPuwqjixto-UcOmEbxe02bJpMZqCioOjLrLo7WTGM1RHlsxxgE1oiHlH+Eux9owbOqh9Gtl5OabMltP2Po7tQLbkYoEe0AAdLAMOuOUNQOQ+AXEN4wN3hVDqccYaOnu-iP7d9qFRSOvqWWfGxO3x1UX8YBMDHgToJ14SmkIBGF6wjnPSfidAAAAvAOuYD+PJBSj2J1ZoQU8q6ByTUJyaDCfYhwmaSCJ87ZDGsP0A7DrET44Cc6S0nvGw1XQOAq2INAtipALYiSychAtFoeAJE9AYFNYnqADoHE6Ke1ZJHy8UpmU00tZMgwgAA')">function stream_append_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => stream_append_delayed(stream_tail(s1),
                                           delayed_s2));
}
function interleave_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => interleave_delayed(delayed_s2(),
                         () => stream_tail(s1)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p39' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Stream-flatmap</kbd>,</span>
	<span style="color:blue">The function
	<kbd>stream_flatmap</kbd>,</span>
      
      which is used throughout the query evaluator to map a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      over a stream of frames and combine the resulting streams of frames,
      is the stream analog of the <kbd>flatmap</kbd>
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      introduced for ordinary lists in
      section&nbsp;<REF NAME="sec:nested-mappings"><a class="superscript" id="4.4.4-sec-link-2.2.3" href="./2.2.3.html">2.2.3</a></REF>. Unlike ordinary
      <kbd>flatmap</kbd>, however, we accumulate the streams
      with an interleaving process, rather than simply appending them (see
      exercises&nbsp;<REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.82" href="./4.4.4.html#ex_4.82">4.82</a></REF>
      and&nbsp;<REF NAME="ex:q-why-delay"><a class="superscript" id="4.4.4-ex-link-4.83" href="./4.4.4.html#ex_4.83">4.83</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-flatmap proc s)
  (flatten-stream (stream-map proc s)))

(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave-delayed
       (stream-car stream)
       (delay (flatten-stream (stream-cdr stream))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9LAgUAEEgUai0JEMShsCAweBIVBoeSEnDIgbUUBMCYsUT4FgjGTELHcaj8UjKfgTXQGYymcyWayicgjBjUhlMlnDAINDyC4XUjhUmlMMVsZmEVlS+ohHaEdjKxmqiWkTUpGWUSgAa3w3F8EjYACNKKIFdT8MraHbHc7KLgbHqVWqNezCJyHhdttYCoLiHTBgGjSbkh4oxIZJTXXTlaTUYQOEwAB7cZi0Whxg2ByXBzl1IGuQX0Dg+l1K2gyFgMADmecLxdLaPj6srFJDMKwAEgjNrrJQ+CLSJQGBwDfbyLqcwONWGjB50zTMzIZ6M6Qul1iV2vBpVKFxeNHY9QN0OOYnAlPT4IhYNReWE1vQDvFXfARP2ob9xUHNlh1DRo33EB0BBYbsiyYEsy3AzdGg8NgWAtaZszjOD7QQjgwhFNgNlGW0HSdVsfwggFayaQjiMdARUzooMoJfYII18JgAEc3RIfV0MlP8APlWgBKE4h3Wk-hZN8KoRnI4ZaNE40Ei4v83yYVVSAkJTM1U0hH2NcTQCIERcFXaQdN4+1REoYgLTM7jjAk51HOc1yOOGKt3MnXjeQsIyVNZNyLN3DgQtzehjIivzIOfeydhYVCO0IEzIswilAPS0tMuypKAvHIKdnw6himIcQ5zQw16InYwyv-PKM3pSrcxEGqr3feLhmqhwkq0lKYN47ravvQgculNrnQm9sprM0qxtGTFIhK0AACIAFVCAtQhKAAdxoD1hhYfNQAAWiuubaRGLbOh6El+hzUAUxkZFlHbDtaC5JJyFwUAZB2ItyDYT9Pk6z6iBhVZkli97b0MsGIYoKHXrjL73s7P6umMboKVEKTtiBkHrB-KyOGh5E4e5QJGUIeh1loOxSAyO7906jhWNTWma0YoECxGIoOQiahsr-QX6m50i9WFVt+al6Xkh+2gBZVoFubFzEsoi2nYXORGdli5s3RkYs2cCo5TcVN13xF0zLdEcygRCKymBs9UBHxoxCbEEn6dcNaFxhwhlF2-bDpOpFMfJAy+Gu26U0e33QF6eFOtAetSEbX07ZQtNC3Vrj4dcRHsO4NtOwybJd3u5UfoC9li6ezO45oaLGeAnMwIa1kArLoxjesRh8FIKJU3r-du5A3VnWQ4CY3pYaAut1rp5X6ge6-Z1GakwTEo0kaRylkJN5Ej9e+dalhQvKY3ICuEXpRQY5r4w-hLKNhSBL58h9JsDHYeluAGQ-jJd0pAf5-X+vURGHsvbSDTunImJNAZAIFOlXO8VwrDG-r-OmYZEYX0+hEBsOC9IRXoNAhIz5kH+2JkwABrh97sxsgwchUDc4Fw5srEh7DOEJTwdQghig6FhnQeTGKGw+RmyzGQ7BXC5GEMBIjARiif5yOQa4BhgdlbEMAgfCBMhlblxQoooRv98F-TESObRBM1gZxfmSGgOc84cCIAVcgmU5i6nIn9ABFceAyD8Uw54W0ABUniMrewiVtZQoS8bPT6K-cktAYy5koOPQai0czqX7pKABkidhGIUiJApmlmHGFYTkaBHNSnCTCpQtSbl7HDxkVsYB+lDINNktY9eRxbD2FMUFAo-A4gZMbNkhadV+zqKadlERMCNaazoJMrJucZlTVbCM2s2FcLgLKRbcxCzWStiWTCQ2OjUFMKDoEEeOTZnTWGsrGUVhTJbJzFRL0bkBkhCGaIehySs7RW8i5Zapc7k1N5hzMFFoeaUDYq0tYNSnIxmJvU9Z0ymA1VyYMVsvMnosLROzaJhVvbonSNnd57iyXeO9jINF1IklmM2J3O2+5eYtxFkIHWEsIpMuJis1Zqy6U+IECXXZIqGjPjbs4t60VTYUOKhpQedygkHNtq6ZUuySGmwLMhVCD5V5cTlSklx78vFFSPhUtVKKSWgB4VSkhVq9YDQLkhXs9UKzGifmsV13ynRyLbDEkygahrH2UAXP1rK+SOu1c-c1CrAKfO9UaO1rgA0emos6AuPwcWTS+dmn5JqpX1BIamqqHqDVeuNZGstgtZXIPgYIT2tkfbJMRJ1dEuBMTYigHARAyB0BEk0PKt+OxZRHgjRU2BPIOn8l2A6UYbkjAAB811SxKYwVcHZV2gA3Vu6wjonSsGecfA9m6mg6j2Pu9dV7Gg7AQe25FvQs5TpFLm7Vq69CuDWIjJKias47CqB2DsPgc4QontMUDc72lst4lcDaF6ABkKHQAxBYLIYaGR0hUug5UFgHYgMd14qEn9-6F28VA+BoQkHNpbVCanYFpHi1BqbORnD6qqOYdkJCGdPrDbt1SYu11KrZ2BKoyBojtGOD0dVdtMTrJmNvtI0pgabGBMJkkwh3jMh+M3Cw-p6ovyhNJrfup7h2rPUoT7OeiT3HdO3AMwZ4aZnzPkh2JW+zgmdNxuk2BiD7yIVbVYSwAa3nHqXqPYRwLdHgsMapAwcgLBHLTEi7oQ917R4yaC-QEL3MMvPyzt58NFH51OaMwZvTrnj6XOK6R0r1aey2bTfRIeiMasmdq7O9zwHMHwUQjW1rdaHNJAeTRvLpkGPMSGy1o1hAVMedcewIiiE5bkWFOG-Jvmg5BKrpp9xoTlBdahKZhrIns6rZYoi9iF69s8ec91kzbmzX9ekWy05eCuPjakzluLcmEsKa2kq5SzTSBLazvq+bdnyvwbjadrT9E3ukZ2LPa+cP4edP+7J+Ttrtro93jZhbUWsuPpx1NkLhPQLOmVcpuVWdqfzxIswJeM97u-YQ245guAIVOAuxapn8p97yW+xzircbueewhToAXb0hc3xdqMe+5Tduc8lzSnnEKADMKPLslNF30kRcGJu5fi-lkREdelMEh6R-Z0xrf9I61RyDW1rfxNqQQuXb9rdfascb-QzUJdbER-gszWd5l0+EVwgJD3KtxBjwz0jxYLG4P94n53CGDMXO9556wICwGO4uZn-z1gAX9Nz4u8Qgi09O7j6X3Y9hjNnYuXri1Ow4WY-WAhgLuOgf462nC23l24UIqRT92NIentnbcyR-XkZbzkGXm1jUJfsexb7-lhjUYl9TWHxa7WMOV+FPr1PqrL26uV5xl2YbC2dvadPzQUPPXBPua7R3HtfacSDvxCOtA2vx089KgGBx5J4ZB8w4Nu8G8T13hpoIDQApYPB8wz4KQGB1pwCI4YCz0KRCwcURgBBlBmBZJyApgBAggltltQB7dqYO4ZANsKIOFlAuVIVKMudgtQtxQqZOp4kpV6CFYmDbs-VVN59TxDQuDaDcBIDTcAdINcAI5KYihuCk9LtZZFpNtRhFYpCXdNdpc5DQB+dnoI8O4x8+YtC2CGwtc9DZdDDSNtYQxxY3VTJJC-Mtgpdec9Ddc58LVqCtUlQxRXgT9WCNd8sQcF05EPdGZHZlD29rBfDzYC4zCG9JtzdTJo1to4ibdoi3oMiHYIoEiXCn9p8HAEi28FUSAnJSxCAb97DdZsp-5HM40DNxFhCD8FFqYyJlR6igiz9ZBmisAakCMC9DI+VHCOYAUuhKDqDe1-RNMS4C5Y9uiaAkM5BPQaIo1tUkkWi3ppjyJttPoOiuQ-1J9CijMdimAsi34zi5FFYDjA8g9g8aADMzjSi35hZxk8waj+VhFVihV41fj7R0ppgujjjs5+AOwJ4Vic0Ak8MqVxgqiITFQ-pEDQhwhIgpiOjISvQ5jmUtIASpIPjoIxo4TwSohMSaJdAAAeUE+E0kxEgZDeNA0OLaAAFXNCoPCwkGv3wBMnRFZkX2kBCC2lAAAGoECRUwRd1AZUxZjdBRSPchTRSG1jAJSqipSZA6T6Tz5GTIgWS2TcAmAjouSeS6BrRuBBQBTtoRSxTVkVSOw1SZSrT5SrSlSjBbS1SNSvC3onJLRrRw1g1NMM1jAQUQw5NzQq5gSUgs50lwsyTfi6SqkEY-tG8agfikTNYdwQzvSq4XTjAFIKjd0CSHC6iRx6TkgQhNNcMqU9MZScyPA9M6SczyyMlm8UyoStIDMPSwxeh6hJEORKzQBBjulCzajV87ly1tTYyI49pHQrJQAmMiUUhdFbllYakziOZ5kzi0w7F9EqNozporjZj9i9QGJpUrj5ijzyIrlFzHFFioJQyZwtzORPSLMYk-S80Ay-jAyjBgyJh7zwyRwEzY5Ls9zYzsTiZIC4Ekzy8azBYMzfysyTFVk8zKBKjqiJgiyIpZUpVyyfj+zqzUzSyjgpJc56zmV1jRBCLwwQLs8CLlAOycSFzkhCYJEyY+yYSByYg8whyRiTIIKUgQ5IgPzI4ZzBA5y9Qk53pQ16c2kUEA5lzARVyOj1y2jNzxFVFdzmyDzUyLzzjhUVYzyNidKrymKbyQSOQ-zHyzV38RNP8sRv88Rh1CQMBADF1UZIY8IJDYY19F1kjAd8tsYto3L0ZMir8gqSDphwYzTwclpaZvKMMiiw53MakwqMYbKOZIMHhXdeMPdjBeMgQTy6x2D+McqjB+N8q9LXckMSqUSIhyrMr2Cc5qqc46qUhXcb17APd2rRBGgCrjBXdgJaAzTJAPcBqhrOSGheqjBXcBKSqBLARJrqUQjsIJ4uB7RaB4llqohVr0R6gFrXdhTqrjAMDQAJAQRshLpRTxq9r2CrpDrUh8xlBTra5QBLpborqKr2C4llBkhjqnrnhLoIkTqjBrqQjgA7rgYHqTqzqXrQAwB3r6qQiABScG366Gy6RGoG0AEG0yLaGEw61G56y6di06j6kIgAQjw3xshr+vOtAApqpRJoRpxopJRuprRtACpKMEZtavYIpPSDuoJv+o5qpShtJpxsyFZsevZuyC5uxpkC2kyH5u+tcEFtpsVtlrFvlrJvBphtcGeCMDJuMAgIeCemSuSzRnCpoJE22wyDDErkMwINCHNvcqtpcSSTNvBhdu5koHtAACs8DKU7bglkRnrKrnbgqPdQ8DYFrAgUqPKbKnp+iHU46+oqg1J0rgtXdn1vYPds7pAY7pU+r2DIBCAvYhQJAcqS6y6DIC7C7FqcbNqOBYBIASrG7m7a7C7XdG6ABRaqnuju6VV3AAORYCHvBpHqHsosFlNuTvDstrCw01TNtvqHtuIGer02IC0hToXq9yTqZnZm3pJXCysxbGXpSFXvXoSs3q3rns+B3qSUoJTBZ09uCtdvXGxh+hzkSK2CftXA8VbTGAkALN9o+HSmIGS1AUQsYhTsivGBMhithj0oaE-veU6ECBY2ApkRtB4oim-s7nzB5WHK+NMl2TGUEDoNvvjpcW22UBzKdpfvnqPsXrbKQZSDIdkBTu9r9oDtoelUPv3uPuuIHuMEHNAWGM+McLNXGHZgIw7CcgBOdBweGHqSwaIccP8AmOsrdoxDsoHQcoJEwBctAEiJFDIA4EPnoEvGwgYFciSxSzSzwbI25PtBXVDzsdS3GEuTDDrISvouSw8fOLhjlI4AVJyGS1VNwFTDcfbHsc8dHC1HivPzO3cYcYuPJANGwj4jlnwLKHCd+kcZYGIGIG5LsH3DkG+iKehvRFFLbCKf7K2iFI8AadAEFIjitMKc3tYaBAaeUFtM2MoKIFIiklyd3W+lxjGa7EGfbCki5DHFvNtMdPlqtIycQikmybmHtp+n-qGaYAmZgUdO0C2ivymY4Rg1GDYGrg7Eca6sufciaYBS2jDFgmCx+l0DQz-CkXLwM1ecyzXUSb4xMx+bprw22jcEem8eBj01efqbBeRJMcKdzgsa+WsdcleZQKkR32XwfGhfeaBB1H9EP0NVhx+fXiaaWdFJOfxOFAuahdxluaCetKaCFNCcOw4wJeMNv2Jc7AZdMWZatMpbOYYBpYSrVnpaCd5cOZQIFflsaomeUAFcqHOfiZSDfGWLRfqA8GlcCtRI90g1paubosBe5a0gVepfcjfFtNuYha2gAHJQmfpHS7WnmwnJTInbnjnCAdnzG3QGBUxD5fXrmy9b1yJl1Ig9N-Xua67675bwsBB5SFx5TDoIcI4CpRhk30i7BMjlWkxLJPXpnlRw2fWSaByTMI2TW83TnFWhXzXc2dmHaZAy3DWztG3a383vXRhTrnzyQQGqR0kIGT77YixnJbMi5uBA2bwzTd91wDU7no2tpMW99lBCXa1poZ2unAh7ae2wH+25EWdh2Sw9nR2vGEn8XyIj2IXXcwXemfijt-QZ2a2DUu2aAI293ZISwj2ikyY0pF8sXV3CwVEGYHVuYKyqUwxWXfRyNl2Rs-2x3GLqlZ792pIhA1YOZ7aX2h232S5RX737E1FjCQOQXtWIhHmNWaqw3bgMPbMfA1YtJQ9KOSxqPcZj2VWgLqGCOqUtpGqIX6OkOuBcZnXgPcL2Ktot2+3yBQFwjuPUSw42Ofj13XBN3QGxOJOPUePD372a3ljBOc1lAePGP8n6EblAFPm73-2+LEZL2PdwO-Qz2cPHEjOxyoCthH2bzhMLUE5Oj-2CjENpOZ2IW9M-OEmBLR2pyo5jp8GiW34PP995dqBHZWwZ3vPQZfP-2IWmjUuguJyDVQuDpwucDIv0m4uzkKCs5U2GAvl5weZpgsMRBeivOGitgPOP3hOyuIcr8auuAGPyvLxeYP2GuTjsMiuWk7P4RERDwnlCM0tdPx53pRLwNSAEQwBe07LiAogeBhRQBtdgYpILVtd-9-9nBH6SxnIZBcIJBCCcUFwJVx3y8iCru0zco86BAUDpJRQzuTtbg9M7uGBrvs3covvLufuHumgQgCoTv3uS2ztvvfun32SDkqg0s0goUHVBVJvxgM6QiIkEfxg4k4P31zQrQq4zuOAlBQBieVhHOjAalWZ7RsewlJLaBwemBDJSeDNUe6fjLAhilrAnu5B8BaeAmAPGgW1rJ20ZKlzALiV971hGQfuOYwfiBTvmeOBNAm2ah+eOe4PIKe8efW1EFZBoep7txc3RfvYlSQgDNDfxfTKgzUcmY02leWflByfyK3Q+KqeHUae6f5fjvFfifWeTN2fBetfjBuf-7Te5gvfg-JflSNhCMzsg+puczljIN-fdPpOXe-i3fhGgQ2fnJ5RNeQ+-YHOVyHVoeffGe-flfVfIf1eBfUmZLXAw-efDe+KmpkhiL4+6+6fEh2-VlljljM+Ej5OVZs8Nfg+no++JfKeGhO-LfAfHaEjG+HF6huyV-bfLtRq6RVuZA2B3enOaBsRhPvTCeSPawzQfTuBdkQgj-CPVwpJyuz-GIPB7+02y0tT0C2Acvo4aBxupoJK6ezGHRLeS36kBVuiaGpH-wq4BNUOOEGDAEw0Z71mY83DmFAMvB08ZWBPa0MxmSozcqUaAqqBgK2iv9H+idLONQXPDAQqi6pGJgE1d7nFvOyxFJuMHoFpMaAlAgsswOVAcCqijjPTDwKuZX4BBwaAQY4wMyiChBq4KgV2D-qbkuBS7W4v1wZ4nd5BGIY8lfjeLkNVBaRZ4owOk4UCpBu6Ggf4ym5Z9dKagy8rDx2BJY+ut5XvJTmy6gsSudvfqBQH3COCzi8rQgCJSEBJYOAa3QQOMAYCQFGcM4KePVxYoYIXQkQe9jHw97S8BBsKQwVUQ4CyCMSHgg4svyxyLpeeogpUpq28FZIigfggIQICCEhcLB5xc3sYzCEyBhBeaUQUX1kqMJjOyXa4LEJn4gllijIbgFE1uD3tlAPQ1MOl1g5NDp+O5BDC51X429shNQ3oUe1h6aChAgMPqO8jyK0DTBCESCLoOR4JDkhHYJIR+BSFpD-Qqg54s2iTK5D9hpLHAjymMGxNdmKgOkAoOPIoEwgpAO+BwGWo796h36UQQsGeGVCXi5Id4Z8O+Gkl3hAI7YYoNvJrlhOuAaoNICFLWsERUIJEc61e4OBIRTw40Iy0CAeA1yRgZ1tYPbB0E6QugCFksNSG+h94awvBNiK2EvDLyxI6wAP3JGgA0MPna4FsNnagjlcXw7fqSQMzvCc+jQAzDyJH5NA+RoUcEfWxFGSi66emCUXQ0FjPEa2W0VEeMDjaw9UK0jKqGCDyDgFHGyxSGk8GyAApgRNAVbjinhThZOuD-dcK10GDKB0OgIl9jsPtTS9wR0iVmC7A5jSjcwso10ZBCdHUBeGUbIEO6MyG3lvRzsdmPCMRFxsIWAKZ1rqI2D6jygFzWMShCtiw98A+JKQQWDJG4ilB26PJnKPJGWjQA83JSOCAuZndSeZ3Cnp6OZiUpqxGwR3o2OZ7WEQST6PXi+gCQeAAULTOgFYNbT5gOAxPH0MWMgI1IzuHMPTCKIuE69ohjvXQE0zBYjizuiaaRqAGZIAAJbuhwAACC4AcAN3QABKzJSAAAHkh6yAKlOMSMb6kwBW1UMUzGLF3wmRDApQfmIirjjPxyuWdjWMLH5hqOXXPJIBIsA1sax1IG+BBPxRX5YJ9ge0Wm3xRI9byB4o8aePPFXjbx94pCXH1AngSHR6EgMY4xrEGj2AIMccZOOV7TjyJKbBCdQCuhUS2AzglQlINQndd+wAY78Y4zYnUxxAUCYJCMi2Hcla4Zaa0S5C4C5h3xPwOkNyXT4fDlc-EyUS+NW7cTIJfEoEVIw2AmBM2p4IgBtypQAAGCYlnHVBHQYohkhdl8nICyApChkxkMZNGAcwQC4wIya8AYBWl5Ay4uNB5OmAuTvJV+aglZOiEPD7hdAgyZ5LsmXgHJxo6TltCvZkcLYtkn9lNFSGO0-GDw+rBgwtTMBQkEUgJtYFXBpTPGACGpIFInZ3h7JAgMYgaRsmxSMpdUxAa4Czi5BpgR0akK5ES4z8HkNgxLq8jh7TBwpXAiodVLilVQEpysVVilzHbDTlinUjgN1NECuQAuZnBUa4GWmrTXIIw5jqtELBAoQSO0nqeVPOKw8RAhQCVI2Bg7rETBLAoEQAg6nMAupZ0n8ZEKkSDSheDQXsoJFFCqDAmcQ+5FRjHhMAshzQvRILGhSHDpBqQ3MKpX4kQzexuvCPrIHtBG98RSIZlEwBVEW9XpK0s6b8L8IYymhwAscOMPUorjliDAqVB4FOlrT62QMjdAOQJm7SWyaYP7oCBCAIjGE1vYASdLZnvT-2iwghu8RWHMhUIiPbQdSH4mVSHUiQqlMIJOFnszh0YpvmTENp9i0ZdQ64fvxbRSkBRr43WUcK7ANDrh4YiMYqCRl4iJeYfGwYqDpjSpEQESV2WGGhT7DYZBZFWcqGtlAiZKiMLWajLbQMo8hz-XNobNlHyCVRyQYmebH+ExzAgzxa-rcPGRRTTBfs84fZzkrGcrp4yacNND9lqzjyhxF2W7O15xoNRiYo5tnJaH9SqMSw9OY9MznqyHEbnN6EQEjmCi6CpPbgDXw9Egk4RhHTUeiNI5Vy0RSYoLv9KxG9ydAELM4iyNXHcAnAeIo4FSIlkoVSwiPZebp37kHFF5NgvuRSNI7rzfQksreeMDoI18d5T02GmAFdkRJF5A-FeZyLaGRAj5ELTuZEyNk79hRTgLackGFE6AAFgQL+YZFlGLj-5ichoIuOAXQKZYBxdUSPO1H5S3oJsTNiGlInUBx2vlSDO+IjiBSYub8RmDVHzFxhApfAhKhQrYExTpgvXChUlyDZN4XMJmahbO1dzUhupEgUeCAUyLOtn8rCzNnlPbkWZkYXAJqcqECkuii2JEOkF+NABRjjy8s6XjVDPQSL3J-APUMVLSylTpoFC5BDUjAU+i2YvCIEEYqDEyK+JickhTSFhyqK7RFCkBSkEUWWDbyRiuMfU2QVP8sZKYoLhyhGDttfW50kwgyFgISLRRdAXdHqLiiZiZA7inMS7Hcy7isJHAC8TtAAAy3dB8XOT2AWTbCGwTSYFNbA6SB5DxSyAWIAnkSIWIE8cT4CKVQTCAMEuPnBIkWtgaFyE50PUscYpK0lmS8AIRNzjEShA9S8id50EnsMoGgISibEtAl0TDIDEuRUBKcXJAQcmbViZmMeiSjpldY+WilNWXjB1ldYx6FWKfojLFlFgOWUoMEm4BhJ9tEZIFOeplon6iEQKedOUnyLni6kgpVtTOUqSLluknUbA2mARsG2li85eHEqG1i8gAkzMUJLpB3KEF4lZ4MrHGW8B3ivwWQFKi9jIdmJH44MR8oOJbSzRSMM0oZHqX4rVJukpBgeUzFViL4gSv1kW2-FQr2As4h1PxBDpUp5u+mCQHwFBUdstIW0elRGyAFlLtZIcuYBythjIlSwqoTySCojbMq2J68EIFKvPQBErELbGlXWKrE7BQJCAkUYwtrFGDFxlYy9LxBsGmrNIOo+cMwC0nxTcwoEzBWhOwWfsoh+qxHu+J+lS9mY84qlLMqnG84vVMlGpMUzQKsh7VGYusWfRVjbLDREPedrisOV5BRVyQbgOPEd5MSsFhAZNewB4KAg1WuK5QMSrDWFTc474llXvzg6Uy25lBegAuGmDVS-6TqhhbsOZgBiOYNishQ+H0VrAw+Hqy+eRP35zjmeHMANfRN5zkSQ1DqUtRGuqlsSY10sONdRITWBTc17EpoemtMirq1lbE-NVKOk5SLgY0NWdQNHnW0rq1JfYASIvJAddqpJ4eSV6qNWvKn1ELO9Rgq9XOsOuj63FTQu-W4rnVPExpQAnrV2qK1zagCcGpbHswnQOK7NW2JSU4TLx14u8f0rWCIazxyG-CdksLXZri10NWDZGqZhwdEYW0S0DXK2IWYBAwyjBa2rWCgbG1hkiDSIHzDnS4OkA0QDRvGAIbDxqSjJVkuQQ9L+NOGw9Zm3w3PVCNRSkjVRjI0WgKNRjLpGI3fC+1aCBqBYijOTKjt+mEeNoozBU0ogtNlCozGppoUp5lNr0BLq3G84jDtNqOfPEOQGr6aXEhmo1eXhM1X55kjm16C5qUEbTuAtmy7GZq80ohLN-msQSZnc02FLs6oDsJmCEAgqTN3nPzQFotSidwG4nXOElB81HEylyWqsXpsoBlS9NFmpVbSqNVDFzNImfwk5oITzyOila51gVrKlmbitIW6rRZoiVGBhVRbUhBwky3UAat7WkLfcD74iptV0Ks1FupjaCB5S3WjthEQG2FbGleSzflYF9pLafga2krZCuVXlaHNW2qrcFrIDA8fFewYkd5PeCfAMVkypoHNqCWeaDtZATbbQBq02IdttK3vj9WhqOaNtQWx7VYiO2iIWo+lercqrlRTayNDAWbf4uBVFsRqa2pbWQNIwxb9wasUrTqrGWwqbl8K0SbWDhGZBgdyQG5ndtTAo78CDKy5jYngVAg0x84GJTsrVHOBRtRFKJemPp2Gjk5Y4CcP8j2Cfak5oO2lc-Ah1Jtod7UWHfNoSRMBYtIwJHZdgLA4px4nnMdt5xISODZG8jeUEo2NCw80tO7PNGjve0Y76YiMa5bctx2NB8dUseXcU3pD3806bg+kDmV10ZbRCPqSnVpE8E5l1SS7M6iqOC4TBLZEYyOLlxjjvD40Pkm6JaWFLjgudgQETkp3S0qdtUxym4bTqjUc795IPHJfYHXbjbWVQujNfHt7aJ6B2NuCOCTo9zO6k9SoROjUmwgTjRqagDmAAE4ugJWKwGNUrVyAQhjWDvWoErWpDhQZQBJPvzD7QVKkM-O2WTBoDsVTJ+-VwI3skAyAbWNrCOGgHX2prAgNaxoIvr6FGZ6AnPeoLvoH1CgV0gk7PL6jnLXR9CYwmYSoD72SAT9Q+kuPXuEAP7O2qCizKIC4U8LzY9KBtejuhXec89bAAvTjU4WSBf9Ze7aBXu+jf7IDwBN3itotQ8cKdq4LdVGlGCOhSwNdZRczH4gcx0OmITDmSNOY0St1jpDoMcuQSSIpgDAbA+XWBYcdSwcJCHPv133y0bot0HjgoqLYvAKDScW6mgzDAcGFWCq2EJDNuRr8jAkiCtZVxcZcBqNkq71cYHfWeSH1AG-9dmpCX8RD9ofMmHQYYMGQmD20Fg-TmBkcGtoXByPe+PehKH6p1hm6KnEkP6BpDLhmfpYccO3QI2LMNmOiC8NCGZKx+tiTdvqCCSEVjES3aKgrb4kQVMcu3cfRSz0h+I344tQHqRDQ1OQESknQ216as66dXei0XlOvXPi2i4WWgEdBXToHx4bK6XgQapREHEOpB4ZtUfZhykqDnPRSnqDbE5GUjkSqotEsKN7BOeDycvGcRO1HBGMlAdkq+N3Q4iWAjzMcO7BiPi6glCR4YEkeVB9G9M4xrSN7oyPPUsjNqusXCpElVxsY6mspdjpUns7qJ4R4OkQF6bh5bCwkkWF3t22limFNQWlcmLO0nsLtkwdLCUDmDKxqyH25WMSuuNvGQj5+kzGDsm3EHbMFOm1q1xkARjQAAAHSwAvq0VRQSrrgAXAXMAUj1KWnDEYir7tohhlCiFSwCoGQVKJiCWiYjFYmcT103qASaFZkjrg+AKNFpHO6pSeToAAAF4whvqWJwIOw3ZOEn9j-JkU2SelgUmtoVJqSMxiah4AyjTMSo5EBRO4mhA+J6U9TWUAcL5S9oeUsQHlJxsYQNrJ6IiDpM9adTbJ-U5ycNNzsFjmBM0xaeOWKnU4QAA')">function stream_flatmap(fun, s) {
    return flatten_stream(stream_map(fun, s));
}
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave_delayed(
            head(stream),
            () => flatten_stream(stream_tail(stream)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p40' class='permalink'></a><p>
      The evaluator also uses the following simple
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      to generate a stream consisting of a single element:
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (singleton-stream x)
  (cons-stream x the-empty-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHR0lVVRdSeRpiIbiEpKLi0DmF2sUJNvklQQoVx1EAD1VLOjoVtZGDMf1nya2UlzpyHr7I9roikkjAA5hdrrd7rRATF1j4XoZfABIczTJzUVSidzkaiMRwxBqULLCVawp7vZLBQ6yY6KDFY+S4-GsQnE8442bzRbLWiPfKjPQTD5pDLM4gAE1cKw8ZP5my2VMiYslJJleQSCPlU1F0myDXFknBN1Edweso2FKCoBYknKokcpxJil1jQNjlUwOyVixNXqTWkMPV8Mtwo+Lv1hqa4v25vhgq1KTRNVEAEd2mRcsM5SHttTk2nNKQOqn00WauRjjktIGsxtnvGcyKZqJYuRauXKwk+RbhcESOLRPgiaJxY2kw1SqRyt2Cr2xEqJ9QpzOdA3hUnLNZbB2FFXyCuE5T5+FNzZiDuW13Y6vxoeAknJKaQcQ9wfG4rwo-7s-X9fNVgUSbJxHXOAdSF1bEzSDRJAPMADc3+WkQNoRwwJaDkVHoCstFQ0RwIPf911FNDPSda8738D8WhIyDeT-NcPnSLFmEYFddAAIgAVWIcpiGoAB3Ow6i0SRLlAABacTjxpBR2IMABuLAAF8BBIM4RF2aR9kEXRgRBOgjFMfxKHwUBFBmG5KBYKVxHtZDVkEAxDIpU9bB2Ll20s6yqFsh01KdHSdlBAzFP8JSxADUR7FM8ynDJfs-KEB5HOclJMO+UBbkIaRyFAABeaS5AURR7McKNtJIN5Q2qoorgUCULn0ShmBfLtGxq0NSo9dwcjcQFHO0dqOo+PS6EG4aJv8Urxma2hXxShSXKsM9RVc89-iULKcooo81taKIxXq-ctsSIaRX7Qdh3FULzHC0RIpMClmNxEqSA47jeIEux7NANtMQkqTNNqOSbtAFSVKwH6vh+Xp9oBA5rjG+NHuSNbrTmIFQXygA+QraT0zUxkRxaIZ+vNMJVaVpDY5GjP8NGZnIRhCHIAALfZqSK3IJSlWhwmNSUlmK8jNR2hCjmF2hKb5lp0pLK9oPrW92qYxDJZ51UWhkNw2Vsgj40U0n-JWaT81LDpyBYcgkdvFHjJi5tW3bOh5YzRRvitgzUqKNGLqHeJrsmO6HpMsyZl1b4L1fD3racu2UjRzmkOayPvk7LR3ct2PtFvUGwYil34+SdLcqHRhU6zuGooKoak+KsuK-T-cY4MnPXjzgJQ9ixw9o2kqU5+GOq7junhTRhvB8rjaO7CguotHj5E6VF2Czds76ZNSem8BFvnlzkMVICcHVKSkRod+RwSC-ShnxHRQBhNb2LGWtybVUe+vRx0B2IAKivp8A4-3YroB+IVlIn3UkJJY55qAs1wuBUiKwaxwkSEXLuMwV7mwPE-Yu0Jcot3yqATBhZ7Rp13AkZBTwZ7Py3HYR2qg2xmxIZnT2YsjzEGytIdeIpdiaHFO7aBPQ4E0R5PQfu5ct7kIzrvKqk0Uh0EEbAn4IiSSAm4TVG0domFu1uJIy81YWGxycotI+c8i4BAZk4FRUFayzlDCUBw+5rEoU6P6bBQ10gcOkNIPOx9IbGxEHmRcy56K2wXiXUA5VCHBPKGVag0YDx5wiZOGQDACoKMkDA4ReEIKiMBOVEx-gIn-2-AHNJIRHEXxKTfAOzolypMKTQladclDlSJvVcUjVxCzVahnFJAZxpyKGUUapt9xRI3UcMj4t4SYQJJKbPaZD9H7lCa8IuaNNH2l7m0JQ3CWmKD2lcY0po6KK1FobOZJs8zXx-ArWxN41nhLwaADahD9k3N6T8DaRpIQ2JQUrdukwPm+i6C0PuHy9wgrcSLF5OzNR5zRtPcB-jT52DzM40k0FNRF2Ba47ofcMVQuaPrSZtU1ZKEJd8o5vzTn3NkVM4UMyEUvzsH7K6FzcBgHsgwfAzA2BQDgIgZA6A+AACZLkiHDq4Bk1NyLrJZaKDhjQsQHnMAAHzVe1DBTMiQglVaADVWqnBNGaKITJqrDWhhmF42VisAiWuFDMNltTyIXKhtK9wYKdmquMAESYaNrwcp+ozSQIIQQjmcI4mmbN7QVhBDgyx7pJDNVVQAMlTaAVmZr+Fyrynm36WbHBxqDQEuhmQvQ+v9QqkNYaI3QxpuxB+INkU-TxS0WGD9K0WIVVmyQ-CKyUFtXS2ZKLIGighXc-58raGijjeGzp9b6LsQnVoZtKkforsHn6YlcqF5o17f25N1MD2KAHUO-5xi3Wlp2AAyFVKIQmihJiul06VonrPaeo92CR3BqsTkxBtKp17urU4Oddao1LpLpk5R-7aLEDkgazVVrQOhvnZG74DapCMEoJICc9oMUIYdR8GtaHF1Yu-qVAjsyfqErbV2ppbl31fqY4O791Hr2Up2T8x9fynjx33dmz9rGP3kSciW1FOo9RumpTxwDfHR6JrAwuiD5H2Lhmkw+k58H2MSfU4abqXo3BEoDPRzKCq37u23e2voD9dAsfPU8MT4CoZScjPEmMdqFM9sEx+kTisnNGwkzMRZFYpErM84URTqHwMYaXSFpua7R3zMOZpp9pmBN9qEw5uUP7r0zAprzLI2WNivrciRmL4X7kcQK5rbjWnCNIcdSh2tynYuqZq1TKOCREs-Q6zLd0lhBa0l3ZFhV59LD4BpjwHTY6+tFbFMQjOI2N4zvG4OGmoqZvzLm5+HKWJdaZiA6N1blSJs0wAMy5aC04RbRZDFPyiy19Dzcs4cVu6IHr17NnaLu7vfjY2o3sXe8AohWcwHruve9rrBiY6GX8Mdt9Pmv2w62ybCe0OXusP+zOk9u8r0Sd0RjneYOHsKo-Xj5zeWnAtgYc7V2v2SfY5WtazhhjwdJZNuHR8ejo6M68zOln3ists4CxKstZVJzTmWyt5nzXSMqaq9-GJn2JMxLiQk6XDG7D2eweJsdMxNKUCFrxuUTOyty4qw2w3xvaAq7HdNVLJuSv88R5lvzw78djr0nVp9lDTcu8Y0j4TX7RMjrwNypgrB2CCq4CKtA52xezuZmzfYlwE0gbiaa81afQDtWCJcFWYhGAsUUJcDiJrpBmrRdcPCChxS6EsEWSgtlxSpESxzkQ337KKAM71LESM2m0yrSdjD7F4oNXssA9RvfvTl10IP-eEPrvMmGAlbv+B08C4t61-c+BqteDX6Wu38yuqej7+XEqm+Vprcm3v0A03Pcn9Ler7SV+3I35KroTbj+0fP5mi1eaN-OwD-O-S7PXeZb7bZKITwLQZ3Yfa-QHKA9oEHTCI6VHSVJwJApQDaIA2daLHfRQDaDiLA4-E2LAw6LsHA0rbXIPamHAq7MdQsUoe4YgMEf-OaLsMJeAtyD9RfDvb6AeB0HqJQLg7tHHQTPgiJGNC4J2LpHpPcQhG1RSfg9GLRXlCtNtJGDaAyag0AD0FNTQ3QbQ9A76YQ4zfqYQuHeHMQ13fhdQnIEwpgL0KuCwr0KwuCGwngr9ew0QBg+ZOqPhOQgArsQw2FAZSJR8e0UQmXd-TQEENmSzUFHQvNAqSvVghIyIAyPPPQ5NViLvYQxI-0LQhpefSIrpNhdINI+I1mQo5oHQgAHhCDiIyIaTOipGLxenYgABUyh0ZiBaggoQRCA9wGA6AqgFhKARx0h2JQAABqXPKZb4bDVgkyfYTQoweYkHGY+Y0lfwJY3VVYwghpNhVEIvEvbo3o-AUQfiQY4YihIhcYlwKY7+OYhY4ZfYlY-ANYqzHQzYjiV43Y8wD4kEQ4zI0XFQ0oCoKoYzKuWo6QbFBeMmfQZwMod+aIlIVtaBOE4ogMHBLYRNG1bEk4ooKkZEyE9+QE-wJg6gFgtgpqYIjOGZXY9INtfKfNXHH44khUTNQTMEyklkrE8nTk3QD9MExpZIQ+IoLucYNkgqaQmnRhdgz5PE2qDo1iNtd6YgJofsUAJtcU0xe6QuBeLYCJHwwhdHHwg4QFaqNGDJByMwzQkqSwwZBlHwlwp0tw-UsKIObgtFMk1Eq0wwcAk2XFKzWEjUsIhEyYJE8QFEjEQMlU8wTE81UIsE8xH2DPQk9Y9RUk2M8kxQQE6k2koIjgxk14Lk041klInkzLbMuRYIF2H4E9TIowmQCs-wAU81IUpI+sUU446hfOEMaU-QWUgtKI2QpUvcRM5IZ6dUqzTU7UiUXUz+SSG9UpPcZtLYYOI0oaU04Q80wQy0-eG0hVO0j0nIcw883wl0qZN07Qq8pzLcn0zwv0vMgMvgzlAgUtHlPlaPTgYVXgDARPCybDbyZvOyUtV6YgUnLfItfA57KCjiLyGyD7Rw5Cnye0KyBYZZURKCmC2w4XFKDlCJdC8CxKSBcpetS0etdiA9EHfwA9GqelAIGis9ei8wM9Jim8-wGi-QxgdinI5qLi6iwHaGAS6GYSooGiwXaQEHGS4UZiniwHSUOgBYSQYGXQFStSgYj4RS8wGi2c9i2c6qPSipUfG0NmWYBoOgYBCy1mKyhgLYUymi2YgS-wUvXQWoIwPKXGMSeYnS5ywHcSNy8wDy0ALyr+MSKSAK7i-SwHIBXQFIMKiKny0AMSH+cK8wQK0fYAEKsyMvcK7y3y0AMAGKkS0fAAUjyuSqKrStAAqsytAGyv3HYhSLcpqsitHK8tirMpaoAEI812qCqUriqBqCpuryqWr6jqrhraqxJGjzAJqpLAd6i8oQqOrUr5qCpCqeqaLsYZrPK5rQBcZFrmrFB2JsY1rEqAgNrirLrTrdrAc+q8q6qAhUrzA+r-A09LRFoSLQKULyKSRzD8oQwLMD1dBSLfJuVfrnlIaILUUegGgAArWvNJUGjGQQL+Xi-6jCkHHXBaHq5IOGwGpBRaLAP6qyAGqDasQhetGi51EcEHBm8UUyhlFiwHSAYgf2VwDS8wTm7mtsVmtmuK8y+Qey2ASAdiuyxwCWoW4Wmi6WgAUQEqVrlrZpooADlJANa8qtaNb2yJoYasI9CcayLqat0kiQatgLNSAv4T1SB6xibzawEKawLfJzaXCraigba7baDlAnIIbTb3a8FoMwEVCgYBtKaMKSbeRAo9JoZcCI6iRL4JQsQtJdVHAkbJApAFFsMGECyJpiasLK89xcKBp1F47HEFJkgW1IdlpqhJyuxcCAiGpG6M5uFeEJQe8g74bIFzDdBKSTao6zaQ6cJ1jCaihO7+FibSpqBkbUaB6GUnbR6vkdlW5uF5SJz6TSzEgOVK9cppCQRSgGhwg27cp0l66SzPlFAybw9vzI9+UOAhVuBMBE9UD3AKBHACxvhzgbRGBpwsMcM8NcCWdlVWIddAHcNK9jEQxggdc+zsMoHfC45NjHBtjQdliQSvjFAIHgQgHoGnIQx0hcHEHgHHCYgbRkwDM69M5MGdDgMZ1JBSBSBhjspaR3ZdJmHaqGB5igRmHRz2IZjghBGRQtjXimGHaJ6apBHdBgT2cfoSBuoXZaHdVdJgo1GwRFHgQXZDIkRfSMHdVXj2JzrXiKHDQXZqG74LNvctHy5RANGvYjGDB2If8RBbGXYi0sQWBMZ41dCZKfGKJhGbV2IiGdQo09IjB01Gxu5CSP0ImjANUazD1WN4nQAxrv5Ag5JYGzIT0ImBHMnsj36mGfhv6ga-7pwInC9u5rdcK8momaprUK0Hdjk0t4m2FhGTH5j3HY0vGcHBNRoAmUG3jQwZj0G20L5O1mmaVVhUmdjpGXiuniAlGenGBvGdcBm2mNizo5IQnQx0hunzqxKNHdBunPHVnCGtgkw+KAnsmDn2I+KQd61cnQReyv14mTmlntGVmWAKIkxgSbnuT2IABydBvSIxkF0J4Ew4iJ1x1lT5uxr+9oRgfYAsZFkBzIVnHIMBvpzLVFpa4W3q86zJcULY3ELYvicgLYr8LESl4g7KVCi5kk0AA5k9PF151jNlj55Zs5n50JllwTTl36L9QV05tl4MkQLOnO0gPO1eg6G4JcR9BGVQdFzkCYm3VYI5QJwl5dLkI3UREHKZ2TDV64NWgICzSVx8aVygBhKuAbBVu4BxpVmBy5xVCtTV7JmizJ2RsMjtN1k135sQa4cVuwPFu1osO4J1tBB2JwGpp0TVlU005-Ks4Z5IcZ31wYQ1rTJ1r0v6+1l2TpUaQhCzUN+V8NpGAZ+NmeceJNqzARh57J65k9Utx9CNUaesHXZtu4Vt4KZ17UUqKs-NNTRxXZplzt-N2YYKUJ-t2t6s9iC13O612V5Aht3IqCvujU7hc17Oy1mV21sdx1+NgN656d0FQOvN7t-ScU7cqKdBctQYeN9MtGT1kHNNmzP15Vq9sxY0szGdI5XxWuiTP6EQk1vxpwa5917kk9CD7UWcpVzUz6QSQNlpk2ID0gkQVAihSNhh2XJNFNaDlIYIXgk10J2Do5eDviRDmTLTUADD6sdvDdLtxgIGjkBoe0PtAcfhTV3QoDyN2d6lpjlxynCTdj2YRjoG8qLD-R+22gI6QESt5FPAekODOCvDCGlmHYJc8NcgT83lKPUgVmOYNwUAc7MyF2Mdc7ePePXwcOu4JcRQO0WoBvPCXEcZFVwkxvFzrI+xZl1O-2EcQvEsDwBzuzQTE9DzxgVzxl7zsL5ziLrz6qdIL8Oz4LoV1jcLyL4N1Q2NJBm+ouZJepdCJB2m+KisPDIBcUqGMoSod+BzxwHgXQWrzbdM8wCJMYhoUryvQhJL0gez0Qdser1L6mfpFTghgc29lOgcPz-hNrjr5B5r1GBVZmgc69+bgICJdLrr2znrxrkU5HQgdrpBx80MRNZmg5WLlm3YvsXzq6Zkwbs7lQCLr026Z8qaPLegGl3r-rhrvrxwUVVsqIac1r-b2bzbugZLn7gbj9Yb2bo7lIcb07mbw76cgIRsuC1jaHpBqR0Ma5+tWrgb65nbsI9oAOwegIKHgrkb5Bp7-OQ0+eXc55Dbgqbrz7373b1jRHshgczuaNiby6WpdLkeCkWCVNqwNH6mDnyvQaYXoZa5gnn7v7on680noocnYHpHxaYXlb794UVHj9dL-74nrn70p8o+aMjjBwD0cgfTxQH5+bjZARyE6rkdmqEoKrqobhdINgWdokF2ATyZYIH3mlyZJiNUm38jr6UAJT0RAGIVvDTc43mIuwLS+QfT4i55KP5jorgqb7Wbm+xSCJLTwhDP9kHLtTN31QZtEi9TgqYvlCXP9iQPgTsmn6b7VkSUVgo40hyXxX3A65yB1Tnv2FyJIkdvsEfvyvRQNv3VXAk9Kf1gxwufsf71Rf3Aj9FfofxfxwZOy08f+xpwhw3Q5n3f3QHwxwlu-hY-xXk-yw3Q651vkf3VTv-BvfnA6-twzLmYLDSTl8vAp7etMjjJvRze5pwtAOGYqAAJ8IfNFynSLDI4AM4ShK8jAHBL1gxAcwQO2vaKGHCcBf8H2GAtbs8kX7RIH+rBLfueCPLXA3+DhI3lrlFCncV+l3HztANaB4h4B4oRAXB336+FbuKgVQPsE359wV+1PFbuN3A7+tVuifQSqxB4H7AoO-rXQNIOFyHtluX7IaInCDYHwXuNAhQZq0y5LEzULAVVoEQHC6hagd8OgAN2MHqUI0dAJrth3Nz9BWc5grVpYNMGdIbBN9UJo20ExOCseN1bhkzH0GGCGoLgswQEOyBi93Y02XwQSxSAhC3Bm2RwkSDcCV5s6+Ge6FYOm4WD0hrgmoLYP0b+MnB2TOIbkI8EusvBtZKIdwly6pUkhadM1L5DiGKBih7g01jVGqG4w9B4Q8nNNnBKtowhBg-ALqEtgY03oRCXAoMPkD1RywlgbILQ0CEWZAoXsIfhMPIBTDOh3jdYW50cH9CtWNqUJrUMYApCGh2Qu+ENFxw7DfB7QggEMLWH9C5hXQ5HDsN6HXpz+W-PoOlEcSUE8GmPUAAaFXCn88uBA4gSCCIE8wSB2-Aopf1P7MpYKdA4Ee00DYdIn+Pwv4ZQK4F7Mciqw-bI4AsrW9+By-eEZpXkBoi-CJsS3jrBxEp8ailvIkf8Jv52DTCn8WdvgCPSM0U2VodiCyMHSM0SOaYDwDSN+HyAjA2TM0h4W1Cf9gQPeIUeyMoiIjAiJkBbJ8IzgCjURnAgNhZFXaW9ImGaDUSmj+FatyR2I3ETUQ-RajohoYD9PqPNHChDR24Y0Ti2npCjrRbNE9FaOV4dRT+AbTkayJJaZd9OeEWJJklE6+8nQ-HEkLoBLbEjQAobAEU8mNrGie4JobKOfUxEUj7RkY1cGGJWCL0Yh1UGMZYRhErQExJ0ARlyMrwktsmewl1rSX3ouI7hxYpMdtEy6EAPGI-K4FKNQQMjRQ-zJtkKNJEiAtO0w-QZ9wG4Oc8h+A42uUi04jjvutQb-PkKcAI8jAwQG1CKDoAf9U6lwRwLV16AdicEESBzoQl7G70FxzAz7suMAEigHOe9KwKAC6IAAJRWo4AACC4AcAIrQABKXRSAAAHkNayAAqEoUTxXEre9lLMdCA7E6wSRuhFsZhU3GQT9sWrQcW2MuCtsxOSCBCbYADaDiZAWsdCdCCH44TvEwYmlhhNwIPinxr498V+N-H-jCJovFCWhJDEYTbR0FXQoOPWHmRNx24n7ruNYn1hl0+E4gOJHWFACJM-sAtkJMBCsToJXY9YQ6CGEWZ14fw4YjjEmT+ipwswc8OBNWAqSWAENSYfthJHmiQJ+nEiUxxYmGTbAJIkdPvUyj0tmQJAIzgVAAAMyhH6PEH4g9wHJsbc4JQH4QJoHJKgJyViEITMxK8jk2AowFeI8BCxbkcKfaGClRSh+32TycwOf7IiB+CU1VtyCBr+Te+q7diF60kEHIfJurdVlv3rx3dd+l6ADmOksAPx0pSDJwESFKnQNARxtbKb5JQj+TFC1xbyRFO6nnh-JefM3oB0sD2h+IMgacFxwwGJocBIHIaMEFSn9Td+HArqeVNESVSTiVzVdvhw+DBBrmAQyadNIdHZtnR-gY6Y4CmnSBpwRHD9jtKQ7-sf+V0m6dOASn9ik+ogTEBKHRDGtVArZLvnv1jFjSx0r006b4Xm7jccBgvaqNKT5F0FvhA-ObngIzIzomY7QagTTweioy0oBA0EaP1IFCE3WJIrGT-ydTXdakDQA2gRwICpJRApPdIODNumT9gRsJamdT1N5IgteqgjPOB2FETRCOE066adKg5xxEmzMu6V+mQbqJ0gLIyKMt00E-sVoksp1pl1eEKj1ApoPDJlO76RBZJkwCJIQIKib8IRFaKEQWMmBdxPqFMybldFZlgj4005X2MQFWKUjQJDswmQIMJEyiGU+stUfJBTbCCeeX-SICPAZR4Af4UckMEbOBEEyM6ZswYP7OhEhg0YNsxcZTLvj0DhoV3N2faOP7uiAg+I6AivwunVRT+HvOUV3Uv7JzLZBpEODFAHA-TxkPQVYP7ItmekTAJVMAFHJ-ipyFU3o7kb6KDgqD8SCqc-rrJf4yBSZPpQLGOhIB5yqRPefHgrxBk-8zSzIn0c7yPCDzyx28+8GIARnLyIam2EUcIX2HYDJRqgabL7NABUhLgHSN4e6BpL3AdZ18k+SSIvlnjVATXbJhrL6BazX5E-H+RDQG4Aju5oAXuV-Nl43z00ooWXqfO5ILyvi7s63qaMqEMpTRm2MuQEGQXth7RTbDBbmJSBNtsFhcrYJ6NCa7zGaH-TAvSyBBCSVWSmBCjpLpaV40OdgTCOBBbEPAPpuhHXB9McLZSJOfCrsf418xfpBFWrGijICmm1BQMzMVCqE3gaSL6WtUuefMgjqGgEpbUvfhmKgnRikW7YNeUUmeTgQq8A06uGZkam78WpqwD6UkmeR4LExYxHKIQjOjOL0xRipNFiOsnuiuFsgNLOYqDEfScFKQfMe-30bOKSxm8oefvNlFViYO5KRFliH2DCL3MygFIeeFCXqIaxVgOsTMO8bRLGxiQWybeIomOAPxnEAADKK0AJupThO5OvSmT7KCU6SVZOIAGyf+sE0gQOEuCYToK2TZCZuIjRtKBl2E0XrhMsWAhHCREloGMvImPjKlNSupfRJ+CMTOkYy-iboXklT0C6NUDiXcJQk8T2wfEjpa0OqjsQEpIk-oXJHNGHLCl51YqVcvpY3LClckT6e5D2DTKBlXSiQfJJWFKSOoCUr+JMi0WWLdFBk3xZ0rVEmSrAZkrZR0psm6Di69oPFooH0VGTOBQ47ILgQBWKSMYIYDebjCGi7L5gRgk4fwnUQSTzJqiDFd4pkmwr1EVwiOmMsxXWS1RrNN0psPVnJL0VeLNETitt5xiMoKYTGgVGnE8dBW7EFpCkuRbx8aBtsvnnfDFWVRsi9wWIBFP5VGLBVmwwvKqsxSwEDEgrblTsNoW9KrgOXLUaB2mGP9jx4stVKKC-72rPl3wXEGxyElEyUJDC5ibQBwTjcUJOXHSbDKKAHi+uhCY5TuMmzBqByESFhsXgSC0rzg6wr2nIgeXDiUugk31cJNEnU9VALMT7hxB0lvL9BU+aqNc1YVmRaq8ahqT8B0lCrYe2MncqbyXxjo3VlgSxV6vgmiLDZsNDpYQgCU8LeQDiq2Tz0DVvzzlgPZ5IeIKiRreJk2fibGrMU2Ba1nalNXlEBLprZhma65bmoHL5r9wO615aJN8HXMEpugK4TWsTXZTNhn7WnkXD8QbpxQmyhyUyB0k+rSJfqm1TouDW3zggInH9YwtCYid31MaoTl7mfVJreQv6heO2o9XZqu1fSj9RZL9WOLjazQSSdmvKQVKqJn478X+PAB5wcNb4vDbRPqUVqhJF62qhhqg30BxSaMdiBUEE6trNFkGnRT2pR44gO12U5Ot6pHUTiMoNGtpYQgqVVLalhGyYKJpWXkbV256qtV-CE30swEP-RjeUGY3AVqcshTCEjUgpHJ6Gp4wknpscLo5tN-kJVvpp-6yDVA8ja9ITlM1CA5OxMbjtLOJhD96EjCFSjptRTmathQuIzcsMEKeazNRm-hRIVc3gbksm8VCA4C80UBHN1m1fi5oS1D94gIIY4J0nRUhauxVmmzRJnnZWsbW14HzV3OsISCctny7TdQFan2a4tuqnYTaoVLtgatZEWgLFtjhnznC6w0JpVtal2bWt-kQMMQDa3r05Esq9FSZv61CAYCw2t4NL2GSmrCl4JA9USwlBbExtRilAq1qq3QUmlEmTzdtqaExaBtdWxbQ1tkJBbvNF2uLbsM4T7CopRwtISYNOEdR1tqS8RJHCu1OIjtDm+sAtv0GzakqtVfbb1qi2fbAQYOgHUMj+24rZky2xjfxQ4ivb5VmlGLdtub7XpUt+MdRtis2E7L+hCk+QECpqjEr4IWwfxkjv2CY668cq-YG2zCXvFdUtY88JxM9HIgDpRCRnfkuZ13CK5SIFEJ4k4RS8MSDpM1eAjh0Us1tfKjbSAlEBpaFA6OiTFcDwgsxgOyrXQvsgAGH1j6p9besqUy75bd24KbHdDuFV+BbS+OwFYSs6j7kfK7UJXSw2Kg+9sIVAWkJSQN2LsV8KCHxq3E4H07CCJ-IqqT1g7iAcxuYriDxAo52BLesKaKauW2IAQ+dyQOdtuwXY2sNoHyhEXkpxDc7HlFcjETaix4m7YdBa5PVK0N07JJdEsNFdLtADu609OyMmhEhtBbitKJgwhAAE5FINGC3iYKFXuxkB5vVSr3vkkepM4ICacuNyzKlL5uwcsyHYGrIuTke-gVvepUUBAsgWHENAFvoVUSlR5oYFfTIO8GlKsZB+oVVvzcD3CDB5OAUHYCkgP4NBpvAIKfpH0X6kYze6LUPvUqfLZF6lBRe0HMjPh3VJ2-7boRN0XI4dP++RUWkUWV6ZI1e1JSDkgN-7fCu2sdGOxp1cSD1RhLEE0HuCC0OpoqwhCW2YBlspRdjTA+p02LyQPlecLuLZEYC4GeaaTQdvcDSKUtpyB+86pJCkhjtDFqS+wEs3U4Axgq1dEMJwdFZGKMVYmJtfPElLmAu49aljmx2fUqqQ1KQADa+rxCgbIN9aiTimEbXc8zI9Bxg22GYMFQgc3I1dEvvMCcH2I3B1cjpJ2AqHxQwh7gyDBkMmA5DHhjAbYfsOrk8WZmVxdbFcNuHqez+u4aSvx1E6PRNu7GICQkNvbleTu6DGAKUApg0RF6kPQQFqqIhnRFOjFbI053Z6+9NqYxFezqkn5BCmSOgPxBVREgD1+455CmCIMMqSDirZZhQdyhUGaDva42j4XKT5H0jHO1gkzpKOcJG1BJVnP0a1aNpqA6MUCYYz+GSAQmSIfZvCw8borkjoA2kEMZPTTHMjAer+IiBRUjGudfenPF2OuYFUrhpRjlOgfRVAswxigXMQAB0sAP68lQ1A5D4BcQ3jAveFUOpxxhoG+7+MYZpKoVFI9xyQ48bE7PGYhbxj483KLTUAHQvxqUSmkIBGF6wjnEqZidAAAAvAOuYDePJAp6yJ1E6s390AmCTxiIZCCfYhgmXYzaQCJDCqP0BajrER458c6TfG0Tw1XQDIq2INAtipALYiSychAtFoeAKE29q5NIneTlJ-k9q2WPl4RTYpj5fSZBhAA')">function singleton_stream(x) {
    return pair(x, () => null);
}
</pre></div></div></td></tr></table>
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.7' class='permalink'></a><h1>
    4.4.4.7&nbsp;&nbsp;&nbsp;
      Query 
      
	<span style="color:green">Syntax Procedures</span>
	<span style="color:blue">Functions</span>
      
    </h1></div>
    
    
    
    <div class='permalink'>
<a name='p41' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, used by
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), specify that a
      
	<span style="color:green">special form</span>
	<span style="color:blue">syntactic form</span>
      
      is identified by
      
	<span style="color:green">the symbol in its <kbd>car</kbd>.</span>
	<span style="color:blue">string in its <kbd>head</kbd>.
	</span>
      
      They are the same as the
      
	<span style="color:green"><kbd>type-tag</kbd></span>
	<span style="color:blue"><kbd>type_tag</kbd>
	</span>
      
      and <kbd>contents</kbd>
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      in section&nbsp;<REF NAME="sec:manifest-types"><a class="superscript" id="4.4.4-sec-link-2.4.2" href="./2.4.2.html">2.4.2</a></REF>, except for the
      error message.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (type exp)
  (if (pair? exp)
      (car exp)
      (error "Unknown expression TYPE" exp)))

(define (contents exp)
  (if (pair? exp)
      (cdr exp)
      (error "Unknown expression CONTENTS" exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuTLiQA0oOQAFvKS51GGJoGW1rb2SSaJSURj3VYAMghoDeSm6u16oAAvCjnm8PhcDkJjqI7OUlCwlgiVkkfuY-ttAZ8ri0bmFweQngAiYgE+RM-pDbEicagOgATxc2Uk1HwklZhIZ3w2FIBsO650oVQ8JP0nMOo1xgKUdDolCixEJeilxhlWwBZwuNLpd2Jj1ATJ1eoNRvIHKxmt5Tv1hsSoUFmWVNVVpt+5rs8tUirUkejUrV6qOPLE3pdfvm0kWknkAA9NJZdeMTWSzLKI7kFSC1HG7V41Vikyc8VI2qRpEplLji2b-s2MZdrrJ6bXGQ6NPRznpJK3253xhzfP5Gk1+9ah7aVfamfMIkpnDlp-I2x2lLiFw1l5aB7T1wzmZ7aIfj3PaO6uQ+7DOT7j-UKg3tSVSMsYQrKMq1UWNwJHBNEw-UAvxfYg5gWd5c3zeRC1obtyXDEC4TApUCP-Xp6y5RstRCdsXBaJRszzAs9Sw6DQ1LXCrzXW47wdKjnBouj0Mw4g32GOCeL44FlEJKZf0DOhsNY3tQBYJRNFUAU-xFMUJXkJ5IMI6DSJEnFeTE2jMhafl5M2RS9OrKDNzrRNyN5EIy1Cc4FFdKzgPYwdOJHZk3LCU95FdYTnLENy0IYotmJLYDbPjBs4JCccWjkcYVCs6zKV8m9-Ic0cmTSjLaBUfiYtfYol2XKkrT84dCuZErcXK4LPMScK4JazKZnQ9LSBC7zcPXSRLHwLieFg4yxB6sqZnHOh5AAR0WY04qAkbbjG9ouP4abkx2Wh0tamYVCmVkqFmIlCulHDFNG8auIAZiclKpCW1bdFIJYwhYQD7tyqRqQau4-qKz61p+rqZrsZSAGt3kh77fvIf66DuhTKVvJlkbIdknnBjGPVhvkVqhpGPNCxI5PB75zE2mzQLjOmDqbAhQTCdyQq8onMZyuVQL5knDs2Ln2upvRabR8gMZYgW7BZmXiffUmQlCzRyH5UJyZRtTlf5nyHEISp9fRtmKKkdtxap3mDflo3xRNuzCL5t61akfdqFIeHssdkH8sa4Mty9n2YdF0P4ckczLI2sMmfwmtbvd0WQhUzRZEGrs46xi1gfqwON2DvRmXTzPT3nC3eQ-CqMMY-Ic4VvDK305ORfZjsolrwS5MbhLmfApPi4MQycDwD8GHwZg2CgOBEGQdA+B4bl2fkDNCCGgLQF0WZDbYq25EULLoI2NIAH5QEmI+ZnXm7h-0U+ggALkBbSpUfwIL+kLJ4cITQZOFLfNSAZhSinFGyKUTwd4P1qi-NOmgM6UCzrFW6H9zAXzLpZNeCwho12inXFB98oHEF3g8NBtVRpgNvnJTu3d6691usQ3eD8ACQZg4FSGoJoI+5BqCMEkNUZwkQK5MVQbVC+2DMxDS4TwvhAjWBCMuuMD41BJBlyQSIhujDt4kJgcuDh8jiAnV6u-cR28MyGOMfNLi0DyGgAMaZOhhCAJ6MaBfBG7wPyqEcRJNk0l1KyUgXY2qaRHEx0gTo3ediDF4x+qY5cEiLGxN+rrfG3MOpS3jEw1xpQDEay1ukyWRcXF2Ivq0donQWjRMBJHeJbjzHlVqVvWxsDARBVtokOppREnlXaTzTpzTdHVLToWNM60xEJIaWdUZvpxnD2yVgNh9jAQ1wQpoqUSyzCLLMD0qRChVCrKPDMXhhjgpThnBElp+jARrOzhM+pkinyznWYMqJrTFDMDBFvJkABVYg8NiDUAAO52AFHoJQOZQAAFooVTI3gocKEU7CYIOSQJ4nc5YlkoPgUAqgQj5koCwDK11JBeOEGqeWgMASYKBBEIlV1PGw1RcQdFjAogq3MIMbe0glriBxXiqQCJWikqZeS-m5hFrkDFibKVSI4W4NhtHagFlmX6DISEjVpRcwKCMdmEhoJaBeWCZq2qNdfFSUUHJcl6qTW2sCBim1dq7V4P1cwWZdwxWcjSI7NyQCCwypyZM31KFDE6ruP66QBhjXLPKR0BILQBicu5byks5gPl8OZcyP5ALgV2Dglrbh0LYWYLfJysioltpUJQnJNCdBsmUqbspVSndkQAD55X7M7tkqBeYVYalJo8uarJiIknram-2jBCCvCwevTex1SrDtpV0DR+zoLZMDefDtN0jELvKotVJxTegLJCS-SR8Lt1WMXedRQSjrqXN0clAdSTUlxKJmOjY2LcXqziAU5JZtZYUtTfHSksbKmJqTfIHl8g+VfqtjqcghS7bm3FcBgEZ7cGcwQxLJDAGHjQPA2YLlkGU1oMlRzRgNt-rIUzNBuVxr0P7I6BRrDHTjR8zww+tBn6BU7V7NRxYBzMPuSo7fQDxrgJMcowh2+BGghEagw20owFHl-ujThG2-TMnsfw2g4YgRhj9tFpQsUJBUzxtUNpTFPZKRNos2yNtDoABUpmZldEc0yJ4lmU7szoINJC1Ap1PO-OMBh99KXcZCH+gyimzBkaJsiMmX00nYZplKWTqG+z5O1n+vmanQAXwqNIPLL9066G6L5vIIpAu3JC4J5jiHOlu0dU6wIFX-PVaOcF2gck8uao8TrJLcSCwsc07Lf9GMEyyfkyRxojsauiPvsar+nF5tIQCdkeMxqX6Fam+Wp9jTv4+xsboylZGY4JcjkqlV0FZNkcOyoBgcq2tVYQ6tuSMcvUSu61Klzzp42PcvpWkzrJXPdHuzyz7uc7AMaWDHHtOraQ7wNe67x3sHvNZa5jwIv2fRdDraAXrWPlzQO81qR5fSMmHtHZE8VwF+vBpo6oPLMPVBRXogQhbLj12PtFo8szXlXnirI7fBLLP+fphDfgwS97d6ybMwAm+KFVDi6nOtkdRQni32ybJ4CMm9u84sat47u9KXy7V-xpYq2FcRMJ1q2d+yre3ycZzo9tvbUk517hUD8aGzj1hpPae7A55cEXmgZ6K9LYfEndO1QOZaf7yVdkXI+Q48E5CRfHMwTT2ME+bH5kmQk95G3nmI8CgWhPEsD9Sg10WhP0RXBfrXjzVWEtU8OHNPKXARxkK3VH4PO9eb1MfH7edNGVToKjwwqyXx8UnlG0BzmqT977DcO7MzUngtRRg5M-sbbSevgJ4U125ahruE-AO+ASPV2gf0A+1j-V0VUjt1Xlz+d62lzffTxXo8-ZvT8MFv3A9Aig38HpOImQGdFgPNQBxww0q5TgpAIClhRMQCgZVxQZVAtcHREDV8tREDQ1OlkDx1cJEpRNSdeRvpv49Rog9VZhkcvJoEUCAQ4xR8kVyMuYp4IEGCiCE5ugWCyNXhUIf1tYn9DVEgEsdsI9eRG9JJfoQEeVNdq0L87BgRQRgE-x8dqE4C80ZCFcrUZD6YGYMtm4Dl9D78xAODCQLc9C2QDCtkjC4wLD5AyCxBtUysaC6DGs5CND0dQBnAdRUITtuDsZdAohXg1DZJDAUQ5UchogwiMwMZgkL4VCwRpCIE1dvCIc29-CaCN1n5L4Qiwj0jDAAAefI2Il4DAh7XIzddNMEJkAAFSyCUjyH5FAE7icBpj5D-kQS6BfiZFAAAGo08scwgIhohsVLIijBiHRmRpi3czBRjIgogJjKiIdqi8jajVAGimj8B5AgU2i2UOipYuiEFZBeiHQ5iidFjxj8BJivDDAhioD+ihj5i+RwgliVj4jR5WDv5qBf5-5zcgE1d31Ag4Id4ZAshVIuC0E4I2twjsgMirMNVHZCt4SIc3cJESEISuEmciczAKDqAqCu4RCUcSc3cX41dkRURIwijXiL5IwvjXiKS-MiI0SMYng4wvjIc5MuN+Ud4qS5UBDswhD3Dn9gCgMtUc8M1gSHQ-lMhWhQBtJS1ShptoMJS0gyNHCEtJMENHDVAdNkTcI4THDdCTCbCMdMcTTqEzTCRSJGg9My0jDwTfioTONDMO4ZkFcACZSMwQTzAwSsSXT9TAiYTSY4T0iFCIcYsggUTnY2T1julIlsTVJ5iCSiTRTRDjQyS7UKS5CBTjDaSWsL4loEMGSfCMwEzGhmS8hWSiiOTwIuT0sk1eTcV+Soi0RBDNZhDXVMyAYQlNiZTfliB5SjFFT7MYU2iZkwpuT9Nk01TjVNSZDtShM9SDSQlgJjSdD0ibSnCLSWsrTq0dy7SVSNgHSockygyWDcAwAJ4mBWAg9OAF5eAMBJD4DaVCViVGVDpVUHYE8A559hBmQCV6Vq92QtDQBgLPzJBCUM4il1lyVfyeDWSxUGwyNIKGURVDoAdbwP4cZ5QoDzB5RNU1VcKwDowCKzBoxiK9ycZkiKKIKQRGBqLSL6QmR1x6L1xmLSgcZyhnYoDeLKhaoSLuKwD0o6AM4lB+QoCxKJLWjlxhLQkwDaiKLaiNUFKggcZlJXg1FnA6APMtKXgdKGBGh1LAgcYBj6LzA89QB+RIj21IUhi5LTLzAcYoVLKzBrLbKHNIVYUnKaKwD3Mng0hPK7LQBIVHMbKzBnKzAcZgB3LcUcwngvKkR7LQAwA-KWK7gmQABSeKkK7y0AbKyK0AaKwHViqIyy-KlKsK-M2y-y1igAQhREqsSpstCshSarlTqsyq2OKLytauStStKLMG6pEtYuKKRHcqqqGrlTavqqytbX6qSvatAHbRGtKpxlbUmqCsCGmpqq2vWvmq2IavipqsCGqrMAavMDjw-k5DQrpSgprnSORDQVs3lCeHQtAswqbBVnuo-IwprmoGcAACtS9HtXqVJmUHNaKHqGUoDEpPU9yghPqSUJ5OQsA-qQKSVJU8hZYEtbwcZvcugoCiaWhSq8SzKwDIBiA405ApKgrqbaatZyaKaYqwCDLJBYBIAKKOauaWbWbNLTxDKABReijm4W-mimnGAAOSUGlvitlulsrKJzuu+wgthq+pxtVy8JesaFs1IAc0jFIDVXVv+s1u+1xt+rVpRveC1uk2rV1tKH1sNoHn0jVA+o1uxotqlnRrghpRtu+q7EAoOKiHXCULaNOO1kiEkHKUYGkH5CWMkGBqUHmF8wiE1lxNtQDpgpyFdHgpIElqCE7jDr6CCH1x8y2H-hJK8nDtcN1Wrs6Ty1KyMVUADqeq8KeFeNNqxttu9qw3uKRtKGbu6DbsVSBtBooHxy7oDrtqsMLvMCFKywzPdSchyClSFNDqBvKgbr0ASxLL-mXproGGvIIH9zvJng4Hnm4EwFfKOj0GUAoEkC+jCGUWUkYF9h3EoD3ByHDt4pcDcBII7C-v3CcLVDQXpNdpdjUE-u-tAYeIdEkGeLeLGOWNuIgkgcqN3BAYTDQRfkAawZ-vAuqGUh1l8TL31hQaRKpWRVIFICcBNiGjUnRVodCoYCGOV1ofzKZH6Ivm4eWSeOmKUBYcHs1W4cJneOiD7VYJIAkiWgoaWNZXZUUZjuIFkacOMBYWswBGuKiGmKZC2OmOIdoiWjIa6FUFs1oRkY7CWkUYmz0f0CZDMLsCsYo3eCmBYGVzZV-uNlNk7mqN4cKyZFwcBFvD8dAChDsR41RLjD8eqmMJia8cME6odDPg5HAdxUjDCfbKZFScSOgNoHCCEYQ2fp-Dft9j8az1gzUVOJXSLDCYic1XxElDwXZ2l1icrN4YMaGJcaWg+EUA8cybZRoUSfgejX6KQfNzATfhaYEnrk8a+FGdEYuO6dUesbcf6fQcTnAgxXmZgkGLGYccqZ6aWDYtuCgK7VAGOb6cYBYDAarMBGSN2fSeOa2LoqeFvEGa+HrMIliaeCufceqJiQkZiAqfqSZAAHIkGW1HjIXgmdGVi-GnHLnVnXGn7FhGBLIvoMXvGnZTZCR-6wRIwsXRrWayqsq8gWgni+EnjAU3RS5dRFA6WsCTYwK7nEyXmiX0W6rnhwJiWTb-n+nAXkW1HNnug+Xvm1BxXhW1m0XFBbKf8tRk7U7SB077aaNaVvY659S8wcX1FkEsI0J-GyWti9XNEoCZnKp8hDWRGghbMlWdQVXKBNYLcNWfpdRbHtXNAcH7mmmlhDX0mcZUnCY5DNJwFJRDWhW0IFXeRiXXWtXDXwt+V4FEF9WrWdWUN8mJxT7DoFcEs0FJmtIIELWOc02vWZzM2wh1bNWGXaQMUEtbNY38xq38cdmI2myJNFVKTsm6L0nHnIwm23Wlpa2hmTbEoB265rgMVvXcls2mxc3sn2Le3mBB3J2hngn26-wuH7W06nW1XIDe3GLmU53gS8s7WU6HXVWXXx33WQ6a102hXHmN3AwPbm3V32VuTVSYMonOD03FMu8wCg2+QQ2pmf2y2ps5y-3cIo3Tzy6tQnRGXlETlXA1EWg2heCdXGDFZ+RuFPXIjURHQGXGA3QkW4Ra3COfxwkE2gjBZ8IYDUs22yI8AZFEIMQQGPqp02jRyrhyAT6p57zSAXgVIphQBnpcUlp2Znow8w8H5WCnRvZVBEZ+QK8jw+EWgqHzyBK1BK9VOEj09kW2g40uhKnyYspFPdJQJIxtPGA1Pp29PLOVPrPdONUStdR5OzOeXCIrObPnC4YlBEZWOchVAhc1bwcAvaNjWmRHNzgQH3NuTRIf4-4FP5BtYeAnhFPJB9poy4tCBnBoucgEs5PSAkuUuJXUdBpjlYHjy0gItmgjEKlzM6Acu8vQHoyjDSamzCMIP1SggyMvOCvXOiv0v+BSvGvcvKvy3vUE9SbWcHOyaMT9P6ujPMcX44wvOJvQAzyNuNgUp6BGXivJBUvQAhvIzFgM3Ys1bRvmv+u6A3PkuDvSvQvmuquygk3auDPKk1ImvxvWvzASyMRCJHvYGbXapHnbx0vDvHnjvQBSDgeTU4xAfsHnvZziN5yNVevZvrvbvtZhuPO1BLvxuOuXuqnpu1uM3Nkgg-uWYvu2Ptk8THnIe7ucfRNYenUqexvEfORyfP3uvGhKfwIvOTunDCf9NdMYPQTSYZLTwBPzGzvG0uHfj-ignbUv4EvNBislIuHIgloiOle7UL4tfGXCds9c8WAs1-lAUQVQBmPNEi0eWQHlTCMtHPwJBgRyABPUK1brefwru5V+tmuguBgyNuOEsvfEPYGtiFe-43w0KOO5VQ-Hx-emQDedffbSZ+tFF0pohMHgGchBfw7HmYG2PoeUJwKM-E7C-Auy-ohw7Iwq+vgkW6+AC6-w64xm+G-IhM+u5o69SK+dImAbDMPJybuive+nhHDwK67uhR-i+aMx-9DB-Hn0+O+ljs+geZ-Tu5+bDo23ydxcPB+59bw0JmRUmfPxAJxcav79kj-+-CQ-nhyAtdUdxJBBOjEchGBxVuouEsEMPuuavkIwQI2P3c7lmzr4XZl+1BbvjIU9ab9bSwvahoCGm7N95uJAEcrSCf4v8Wgb-aATfycLkl8mmgSyI3yATN91un7P-o80AE894BjzDQAQNFa4cTatAyyMwXvaE9ue4mKDnmDYFi94BTA3Dtv1BThBcgLAaptwl1RtB2w-IMxnQEO4SDJK1wOgJl2o59hUSMgo1nIKkG0hFBQXYJn2yFhTQWeuKVhkIIJCiC3CGg6QSYJEEswDBXdInBYK0H7RwKkQKYDkBTrvAHBakWQZBnkGOCcWqgqaOkwcGhB+AOg+5noPwhqDDBQXBzC4MUBuCSUng4IdoPnoaoYh1VUYsIP+548po3xWElYNJTtg0YkNYOupybj4AihOqdyJYAJAUMshtmUoaPDggVDTwVQzIbUPaG3N9+PjPHlYKNaFZgmcQuOrkESE+DNBmdWqDST6HA90h7aFoeQDaFWC6hpgpWDUNuZ5CB0OYBHNBTFCLRbgBBIBmvxoijhx+p2NWqALlSN9IBECafuP09yz43ui3boEgL06T9V+RfY4TANwEnoGKCwm9JIC0rS8iBSuZvk8E+E4DT+rvC6ACKl4VFXeYI08F8PDpalsm+AKsMTWGKbomQaIpUMTWCYmc1A8I+CKeEMDpMtSdhGdiEF36u9SRDyLYW4WxSnJ9hxoIkeCPH6DCpA9PEkeE2hD4pD2xwo1lCP+GAiKicYGkYYOXBxgBREoxoEKNsAwi3eFRftiSJlFE5Iw0ouwbanH5CtsR6IylgIL5BLE16j4TobHnz6HtWqswxUs7FP4CcjwUcSrPByI51NyO4wJ4I20RGgBY2pw1NGRhFE7RGukaBLHKKQgijVAHo0cE6NxCd1SWJqb0aYSd7NFFRAYmVFwxxE5BKW6TAYfcyJLGi1sSw-0RGgMAGjCAvTDvrmFbrcjlBgIHRvQJpGn9uO1Q4QcV0O6KclBGwOLAlm44ti0uyXO-ImJCDTc5YBWZ2MsjoAGjyxOYSQOl1FCVi+ywAytopwSzKjixA4qQLv0U6GBeGqTZZIpwbBr1QA9RAABLC1JAAAQXADgBhaAAJXqKQAAA8tLWQByoJCrBXYsmKjG1YQxSIwfqWPeCTi5xF0I1o2MnGTtXR3WQCTeiFaNiVA0ybXriHHGqxRYMEyoGonAn0AYh1Y48aeIvFXjbxD4p8UixAl1ccwYE+CV+NaFQTB+jY00ZOOnF3dZxIYk2gR3Im0AoUnQ+vKTDjRkdWJGE78RCMH6dDChp4WzGpmOFOA20hOO0T7DURIRPxWEcSab1+EXQkRLPd8QJzQm8S5I-E7UfuKsAWAWW8iEgMJzlQAAGY+nBASBAoxohk01j+EoDdBachkjQMZMUAJZJ0B4FyUASYpDEeA9wykB5N7quTGASLfrFZP-458kChwovoFNEHlx7JZNBfoexyZQFHmsUuycogcmlde+k2WDryEsDaQIpsDKQJEFZwstguWbdKTU1TbQUWg4hPYjZIPAZTHwDkgPtt1JhCD3gQKFQL7Co5oJHYu-BNktmaL+dwpvfbAVVJTaaJapytAxBQJ1bDTHmnUyQN1OkC+xIwEbVUc8EsBdSeprJCNrNOLyaBds9hHaStL2mBTT+bQMQWpxFClsFCBDPvj6Pamixlpq03qbLz-6DSxMGqbjASPeG59t4P021MBHCCLA4BnXFHkAJ67nCwBO6CAUhFXJIiIZMZKbnV0M7PDlaenNEVBjsErczp701QMCMZzOAkeJ5FhOwMNIPCgQh7dRr1gvhvS9pG0ilH4G2nyBdpa0-aWyxNQvwcZS0bgSL1OnszzpnMw1gaMn47CgQhJPUCAwBl99fSAk30ecPAG6NLhKs6CojKgG3CEx6QflFdUHHoyPuJA6MsBBIATEFRQI9WcQJVkm1NRgQBWXcMxEbcIOX0jsKsUAx4k8Ajmb2aRmVnwzVZvhdWdcMlAOydZSmXCPrMeEYyiZNsvLGUmIDmywxo-O2YEGJkCZQRKc-0voXV5vDp+ocrfqeRdn8prpZWThPkAVnaybC9ML2T7Nmy4RdRuI-UYXKhnddlM9IlunnJUDIyYO7pLUGbNuIWy4REPHHs9KMIoj8O6YvEWC0nmZj7m-0zQMPKNaOEOR--VulNCdmfxi82wxkdoELCyyF5H1EednJ9bri3ZmgTLukwlk7zpZlAfeTjwPkCS0qYAb2Y5hXn0915UIB5oe3PlGt+52sMMWKNsF4kxR+0LaeYD-mDy6xQC2MaUH7agLM5pQbUcEwbkZjHGeUt8oFOVzoScW-5UJuhMCgsscCvIccG2FLFFhLpg-RKJdPAqxTwkFC6sZp1ZKrdyp3MoIMtlYoqBup-IYGJOjArBNEozCwhqfxpS0RMFgU90Vyxpl-DbAEiuVqSnn5Kys2bYZPI1PC4FS2QRUkBiVPyCXTbsatCBUWLzaaoIFYYiMSpLtkkLMwczZRZVkulgKgg8YguW1wTkDzDFqIvUbr03TZiZ2MOWVhizKkHhwkNipCHYt6y5irAJopYQYowgBpV6+k7CZIGvE-IAAMsLWfHWjKgFkriVYA0mBTtJlEmRYrMTF-iNZbQHMJBNsDASrApS3MNcDyUVLiA0E6pbBNUVyRwKKEmYPUvDoJKklqS8AEROqWgTaQ9SpiYJIKHD0JhISGiUsLokziJoTE+xYEHAIst2JVgjkCz2mVrCtigHZZTkFWVrCOQwiyOq0oaU-jqxQk+YaJJNSBSHMhOERaooCV98dJ+hNSTksMojKClLKCEafz1BxADwxLcMZIueUaLOh4dC5UUKuWIKly1VY1EJOHqHhJBZjXrNxM0kIcIJZim9KpN6xWiaU9SjFYUu1FI0TSoK8WfbneAAriWXwpsQSAqmVtlowgLsVYCjDYclgUrJkL4uJYO8m4Bs97uZnpUF08mvy2Cn4sxZcsqVoKypvyq0RAFMkUrYlX0InHaKyl4fGkd0OqEr8VxLMnwICF36aqflvCSwKiudEtSkIAE+SY0sTZVNJx4fc1cDI1Jq0lxcqWZQxImi2rCeZGOhjnj9DmrqVbAJEPMU2XNj3OLEtFcQH2XCCuVgQTQFOmK70teJ4agkP3g1SPNzVTwK0Z6oKkIYfVoKj9l1x7msEwgfCd4LFOjoAT6FHY62p8oSyWKyFWEXRR+le41KcwKqz5XaphlZtHVZ-MpfRO1iMTW17qtWhmr9CxTOhjtFrIGtqHBrApCalgJGvMDRq7gU6lZRxOB5pSWWaa0KkOqnAjq+hualufmtk6odVFIofhOaqwW8ScWmC21RvPQRtEj1V67BcE1I5GquwbqpCR3CPVnrr1qaQtYap9WlqSJ560NdyTIzZAeJoagHAktwk3i7xj4-pRsCg2XiYNBE9JSmvwVGCHMYGl9SFm5LAQmQfxNBWPg-XDKWWjy8VL+uLWGSANZSsjXoqzZYa8lCWHpSkrSWyZmNfS4MYe3EUYbqqDGllhyngH4b4YhG2+oCCXrjhgaTKWtP4LjLSakWOpQxJJpECesyh-cfCHJvfW4EMICGCTTiDvaaBVNuEFgQZucFSAl6YlJTU2BU0ybTYGmojSfiEwWacQ1myhaBDs2sFhs04CQJZrGzSbB+xmqRpZPkBRAQotIAFX5urEbTe04Fbdo62dYjgXNRgdYEYSi0maDREm6gKVN00iB8c8qtYTi3E20AfNKCYgD5qc6bo8twg4JhltKmebstk9QAmVtSGBAOVXLOrFzHq0bhStemkiuTyJyVaaVTkBdSayMRPFWtcrKAjVsaVZLRYFmzLfkCc05bxVfQtVeZu81MpFtk9foc7EGHeSEhHgsYUipNTjb-FCmzbXcHO3skcBvq3rcFVCpzbat2mrzXQDK2qBLtt2y0luV3VYhht+GxgGNrJUirpK3m+ban1FgJAQtnaIZstvy1jK1hwk4oSmRNQojW0tPUoIwpO2WQIdoWkVfM3ZIIKNU4S3hPmK2XajWEkyInZEtJ3ZyWEbCbbM7DIR9brtJKrkL9tpYA6cECgIHZ5mC0hQwdq8UiXQyv4-9ExLOa-hvW-h+EZgO9Vcb3N5CxbL2QCB1MzpW1kgNyBQy5ZDWCQo7gktSoXUsC16TgqAQ0V4grt3byJh4eOk2o4XsUYEx+dlOwZsVmAxiYFspc3rml+HF8mKE5Z4oslp1BAmQZu51rfEOUdNDR0QPMb6qPKVNCsNrAbbcx+0xrA957HdsHpQgc69k5KrllASD17sheOAP0RCme2yUEsAATgGBwQZKkgqPWUMr0u9q9Qkw+GCDCCeZPpja1QSPGjJkD+UdgdsqZNl6BAq9klVQOC3BbMg0AE+udZDIUxUCzAQ+yyFMLJlpB59vq6ClMGWHWDwIYQE2nYFhRH5Regs8wCvsb3r78cykKcfPuEXSAuFPCgTD6CLUw7hByIr7WsMT3ktr9klW-QTAdCY7zmH+7hVHlO4zb2Y17KQACsiALrNcigTIHqGZpnCs2y0BLI22XZasRWEBjjo8T6CHLZM3Ga6IwBgN01QAyTXGLiL0ALhuu8+rYjClhSgGvRXLM-gurMDUH3QN6uffXuH1XMKV9YZ2S3M27cYfVSHd4KRzMbLQ219qe9YZLkRfrP16Eq7JiyX1fs8DBBrWEQfw56gYiboAfUfvYOWQmQ1BicuarvVoci0+hlg9z026UzSglBvQ-odhTEtpUkaBgLYZhRT74IOhqPbCoKGQrkd0K1HVjk4NtbNRhui-kNGWhfC01zuggKFWYQSjMd4YwmEaIiUk7mxhWGCLtjl3mEhMeQOgECjcDoH5xFbKVIgblTIHm2lY1xnilUYYGHQWB57ouTZAA44jYR8PaHSSNR7UjuGhPKiUcLla2FDoQFEmIE5LFiR5wIJiwhfgBG5WlRs5Mbv2TNHIwPRk2nbqiMOZmEBogtH6xF1GE+Rqhf1vUlS2RspSAAvMGbxzSW8pc9cZ4CyqIWzQCm9HLY-AJ2PHGvW6TYzYcdzzX8hyZx6HK00uN0cpYiKUA7jvBZRjVAMCgADpYAr1CCNwicnwB8IPGsemystQpS2ox9DoJQ4STAoDAgTAKkE+RzBOxjIT0Jm6SolJQInKxqhQgJrhNpKcGKVJp4AAC93aZgSE0XRhO6o4TFJyI3SeZOomnU6J7cNAaxNvglkIwLI-QFyNggQTHJ2kFyZuaeV3mYBJQE8WcBPFSATxSlmqHBacg8AuJtrTKdJPymPGA1JUxwtVPqnNThywU+6CAA')">function type(exp) {
    return is_pair(exp)
        ? head(exp)
        : error(exp, "Unknown expression type");
}
function contents(exp) {
    return is_pair(exp)
        ? tail(exp)
        : error(exp, "Unknown expression contents");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p42' class='permalink'></a><p>
      The following
      
	<span style="color:green">procedures,</span>
	<span style="color:blue">functions,</span>
      
      used by
      
	<span style="color:green"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      (in section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>), specify
      that rules and assertions are added to the data base by expressions of
      the form
      
	<span style="color:green">
	<kbd>(assert! ^rule-or-assertion^)</kbd>:</span>
	<span style="color:blue">
	  <kbd>assert(</kbd>
	  $\textit{rule-or-assertion}$
	  <kbd>)</kbd>:
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (assertion-to-be-added? exp)
  (eq? (type exp) 'assert!))

(define (add-assertion-body exp)
  (car (contents exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuTLiQA0oOQAFvKS51GGJoGW1rb2SSaJSURj3VYAMghoDeSm6u16oAAvCjnm8PhcDkJjqI7OUlCwlgiVkkfuY-ttAZ8ri0bmFweQngAiYgE+RM-pDbEicagOgATxc2Uk1HwklZhIZ3w2FIBsO650oVQ8JP0nMOo1xgKUdDolCixEJeilxhlWwBZwuNLpd2Jj1ATJ1eoNRvIHKxmt5Tv1hsSoUFmWVNVVpt+5rs8tUirUkejUrV6qOPLE3pdfvm0kWknkAA9NJZdeMTWSzLKI7kFSC1HG7V41Vikyc8VI2qRpEplLji2b-s2MZdrrJ6bXGQ6NPRznpJK3253xhzfP5Gk1+9ah7aVfamfMIkpnDlp-I2x2lLiFw1l5aB7T1wzmZ7aIfj3PaO6uQ+7DOT7j-UKg3tSVSMsYQrKMq1UWNwJHBNEw-UAvxfYg5gWd5c3zeRC1obtyXDEC4TApUCP-Xp6y5RstRCdsXBaJRszzAs9Sw6DQ1LXCrzXW47wdKjnBouj0Mw4g32GOCeL44FlEJKZf0DOhsNY3tQBYJRNFUAU-xFMUJXkJ5IMI6DSJEnFeTE2jMhafl5M2RS9OrKDNzrRNyN5EIy1Cc4FFdKzgPYwdOJHZk3LCU95FdYTnLENy0IYotmJLYDbPjBs4JCccWjkcYVCs6zKV8m9-Ic0cmTSjLaBUfiYtfYol2XKkrT84dCuZErcXK4LPMScK4JazKZnQ9LSBC7zcPXSRLHwLieFg4yxB6sqZnHOh5AAR0WY04qAkbbjG9ouP4abkx2Wh0tamYVCmVkqFmIlCulHDFNG8auIAZiclKpCW1bdFIJYwhYQD7tyqRqQau4-qKz61p+rqZrsZSAGt3kh77fvIf66DuhTKVvJlkbIdknnBjGPVhvkVqhpGPNCxI5PB75zE2mzQLjOmDqbAhQTCdyQq8onMZyuVQL5knDs2Ln2upvRabR8gMZYgW7BZmXiffUmQlCzRyH5UJyZRtTlf5nyHEISp9fRtmKKkdtxap3mDflo3xRNuzCL5t61akfdqFIeHssdkH8sa4Mty9n2YdF0P4ckczLI2sMmfwmtbvd0WQhUzRZEGrs46xi1gfqwON2DvRmXTzPT3nC3eQ-CqMMY-Ic4VvDK305ORfZjsolrwS5MbhLmfApPi4MQzuXZrXNCWND+abkJgVBVRp42QIAH5m8XvN9GX8wAC5QEUZgwTQ5kAFViHh4hqAAdzsaK695Cf2Sr2baAUKWN80GfHfno-N+3sw15xiXo0PeB9qC-00Kfc+l8b773ovfF+egabhVwGAD8DB8DMDYFAOAiBkDoD4DwMeWp5AZkIENAK+9iCzENmxK2chFBZWgv-cwa9JiMJmGQm6w8t61T3viSUzDapsKyPDQgmgZLCi4WpAMwpRTijZFKJ4ugaEsLMPwqQZdKBZ1irdNRoA15l0sqQhYQ0a530EkoqhNCHj6MaKNeRXC5Kd27vXXut1lHULVFgAAkOowE1BJ6dnAZIaozhIgVyYno4R+8yFDUCYw8gISwkRJ-EkyQWidFRJ4Z41RfDARzVZMRVU+i14mIWsdUqRSuIqN4cuDRMgCS8VohY+uUpSlKSUIjSQH5VCmSBCeKSihJHSHcTkuxtUgj9JjlY2p+iGl4x+u0mJ5SdZfXxmpXW+NuYdXfgZXJdSQGAg1lrHZksi4AUOaUNerR2idBaPMwEkdlnLjKRmaO0hva+0oXM-JrlwxnK8kI15sTypBVtokGpXjHlp0LGmda0SQWrNTL6BFw8Dm+P8SEGuCFIkN1un4hmhK3mmIUKoHFR4ZjpMWpOcgT5ilFAxX8lslLvy6J4R01ZuLs5NWsVctIoDGCHy4kyM+F9r52AFHoJQOZQAAFo5WgszCFFBcEjHkpIE8TucsSyUHwKAVQc8IgsAytdHpsMNXEDVPLQGAIjFAmNaa94vThBasYFEFW5hBj71GfIcQ+rDVSARK0c1h1LXWpLOYGlYsTbkGREq8hZKa4zOEPoWxkyM2lFzG-WkKjQS0C8hMzNy4a4STZFMOSqb03FprYEbV1ba21vMdQ-NqK7iptImkR2blpEFljfyxoa8e0oVCa-SFfbpAGCLXvW5HQEgtAGF6n1S0bVmDAWCV1DoxUwLsHBR+8rFVGLfF6sioltqOJQnJNCdADmruAspVSndkQAD4E1DU7gc5ReYVYalJqswpTDeW1Jtf7RghBXjGLiWSgDfVLADQoR4vlA6ggkuVdBypp1R30C2Rc3oTL8nlMTTdYgJ1eoZMnYoS6lBrqzK8clP97zFmo3RreyNeqDXqziKcpjZtZYRpYcBWd9zF1LvkL6-1HGrY6jpRLO25sZ7x0pIRsxnMZMQuNHzB4tSRNmG9WJldkbAjRo6IwG2-1kKZj9UiUAEzlNJtU4CyFmntMsPY4GnavYLOLHJQ58GXn5D8YzcBEzZm6VcJ00EPT4nDOlGAqsnjRacI2x5jTXjGMtN0ZYcMQIwxf2iwcWKEgKKuiqG0jqnslIH2lbZC+h0AAqIrcL511aZE8MrKd2Z0EGkhag4H6VstoGMy5Nq3MhB4wZVdUbBtxqJvGpjjm9m3Qi4pvO2YuPax43zRLBjQAVGkNtve6ddDdC63kEUfXuXjErb59TYMDZpu28uU7PWLussQnJR7GaEZIy2UsgsamUvvzdp20T0WBN0P64hF5MTbyXcfOpQM8YJl7z2xF3LxDeSrOeT8rxNro0x3jZHaO1ALJSgi9Gz5g1Rlze6+dulcP6CqBjpyIz03QCNedPOhg1mCuSA5z6ErlOVCettbfKDSwY5fpzdmFtzA219O9sLhtjaVelH5waLoN6bOq512kWpHWSHvPBYD3DJJWMVYBN9jz2x-OqG23ZpYUV4GWOggcg3mP3koqBUB3Hkbo1cPjQ71QXv0wjtaeyy5ByIsopGbbkPU4EfZCsVwqPFu7DhdPQx8qDOoU0JtTHxPnCUKqAZyMqxn2s3i5L29vF-nXER7wxXmt+uIuCZI3c+dDY8DoKYKwdguCuAELQM9DHpxgZgYg6oHMX8IeZGyLkfI0-tcxJzHYwVwqczMjnzkPIcDJ4UC6E8SwP1qNdB3qq0mVvellqGaZp4ku+Uga2vSYqHgQ0fla49m-VhFBa4fy5oyVOINN-EjUNJsclGfRSPKG0clZqEA2kD-Z+XdWGAZSSH-UzCAp-B6baJ6fAJ4KaduLUZNEnSyfASA7GHA3aPA0AfaQg6uFAvNOXLyMgrAigrmXAp4V6ejUWK3YdSzdwJBVYSNYCHGPgxYVrUAccN+AwOgsfa3WwW3Lhcg1bAOGAlPB0MQp+WQuwTQrDaQ1QJQ1gwWROcCJQ93MQb6T5PUaIGXWYVtLyYDYQ3CIBTLQA9mELOlTBRRRwtPdeAArAaNV4VCdbWw+wxIeNVHUfOGLpZ1NAmRP8LXJxZQuwH+eI2SJ4JI7QpgNkEZStNA+mBmFbcsfCLwwkJA7IwkfzPItkAoswXwuMUogLbg9mbNY7UIpgpzWRUZDIpXUAZwHUVCX3XwnIaIV4NI7IOWFEHnXQKIMYjMDGOxNeVIq-OIwvRI4XNNPogY2w5DQIPeEY2Yl4cY0ZQwAAHlAAOLmI2KLTKSFXAVUCZAABUshOliB+RQBO4nAaY+RxEM5KAz8HRQAABqZfVXMICIaIPVSyNYwwEEiQpkYE0ElXcEyIKIKEgwjY3YoIdfe4p4l4-AeQK+D491L4qWH4zQP4gEhEkEpvMwFEyE-AaErouWOE5kRE2kvkcIVE9E+Y0eCKCYURcRWPaRQvc3QIOCFRGQLIVSHwxoOCZ7Y49Yk4ybLtCHPbRUrElZahKUwJO3XXNdMgKw1E9ogtSFfXJvPeQvZEVESMGEjkteSMXkjky07rIiDUp4OMXklnUobLUoNzFRa06zIItbTWbWRg00oQ2zO4sEUUrdYgTIVoXbNkY9H05dP1GLNIYzNA+NDwnpOIlzILXCBUxo3I8lfI5XHXEspxMsmo70tIX03TXwyUz5XU-w-kj4prYU4vWMjMMU8wCU7UlsmUoYuU0mBUtYno5UjMoIR2dUu02tMpQc6UvU1XSw6gawrucM+Xc02tS0rowM9eecxtNeJaOlR03ojMTUo5BUlmZkzYz0zE5bJdVzANAMqYtEYI0Mk0ttBTLNaM44qBBMkjJMwkA9DsznMKOsyLNMlUoILMmrazXMxoxeTLQsxSYstA0sxoh7fUswKsy9GssoqCnLDYBspuZs5cts7vWGDBLBfvTgfBXgDAKIwEfMSgE1K6Z1C1VNB2CHVQ28TdJkNiji0-cOdmYSp1SQdijOc5PFcNXihOFuNQDtBsaNCSzisA3EbnC4zif+HGeUCQ8weUTNHCtIHGaMQyswaMEyisswHGH+Sy0AH+GyvSziJkdcRy9cFy0oHGcoZ2CQvyyoWqUyqZNy9KOgDOJQfkCQ8KyK945cEKwIHGddSy9dDNRK8wHGZSV4DJZwOgVrbKl4XKhgRoDKuytyoExy8wKfJ4fkQwJEV9WVEE+KsqnSl-OVKqswGq0AOq2rWVRVFq2ytqu4JkFrJ4NIbq3qhq0AWVOrHqswVqnGYATqg1TfHq+qxq0AMAQa1yl-AAUhWsmo2pmtAD2vmtAEWrcqmKqqOr6oPLqqGpxgAEIUQbq1qprNqXrrMHrdqRrTjDr3rjrZVzizAfqfK3LTikROrbrprgbrN1rHq3Ln0AbaqgbQBX1QbLqX9n0obxrAgYbNqcbMbEaX8nqVqTrAhpqzAnrzBp9-5OQ1LHUNKa41jkQWEqt5Qnh1LT9NKrsGa2duazUa5qBnAAArI8WWNmxoKrYQWreypm0S3SAeQiDtVqoIQWriw6FWAIgWhWs1GlPISWnnTiHGITedCQs2roNW3C8ql-SAYgOdOQaK8a+2x2rWa2m2rK08Iq2ASASywqyQX2j23Cr2nKgAUUcoDrDuDv1JxgADklA46VqE646rzdd+aJwnK9b3gDaE9mSpbSgqtSBatIxSBNiNasNgopYM6wgs72LJLc6wtL0C60gi6S7laqg1Qubs7K7aVta1UKTpBtYK6XVNViSoh1xkiPjB7tZIg+d29GAh7jTRalB5gusIhNYVzi0K7pKchXQ5Kq1HtO5J6+gghM9RZTyhStyvIp7WjQDr7IVtsjsSNVAR6UCJykSVcK7G7ciY7zBn7ug37DoRQxaJatcOS66RL9bptDaqi-6rL0QTkwzZcIyZCyIcg41gyJ6RbyoH69A5stgJE8G7hORUECAaLe9sEOA8FuBMAWKpDlAKBJAvowhxhJBlJGBfYdxKA9wcgp6-KXA3BEpuHeGAtvFB1144wHzdx9wxHYSHRJBqTOSIS0TGSIIO6MSZG+HxHSg95hGOweHZHR5upWBlIdYy0FATsuTohysiiPjSBSAnATYho1ItUHHjqGAQTg8HGDymQES14-HQA954TESlB3Ghqa0-HCZrGPVyiSAJIlp9YVG3UPUUn56EmAtjAfFfD6SohESmQHjETqgzGloLGSsqsXF4mOwloUmMZ5GOQmQsiqnTN3gpgWBg93V+HjZTZO5diAm9smQWEGlbxenQAoR9F3N1S4xenqpJHwIZnQAvqHQV4OQWE151H8JRn3ymQVnFjJDX5GG6UWGfwOHfZem19JMMlB7tE5LRnxnM0BElhzFnc2kZmryAnCmQTmmloPhFB2nIxtUOmvhrUaTM0ESlHC9NIFFJRnmBJXnOn5Gi1wXETvnWm-mNmlKgXnEEWQWkX9BBnJkZ1iAMmHiPKUmnhUXfnGAWAdGBVWKQQwRzmJHUWHiHKnhbwAXOmPT5mEWKXiXqm0XqXdiFkYmgW+mHQAByJRp9OEqVoZ5R7ktR3ppp-llp5hxYRgSyL6TVrpp2U2QkQRsESMbVsGm24ah4vIFoeE8BeEy+N0UuXURQe1jQk2J+WllDdnVVxJ41jVh654cCE1zYyltp4Vz1kln1xQP1uMQNvljJ9VyN8wuwFete0gDepuyzB1b2OuD+XVzJOS4Ba5c1x0a5rJISJ4WFyqfIaeCJwulSVQZNnUVNygTWOvfMLN3UWpnN91vYwEbSHNtZotlZwmLoqFvt6eUNtCZorUE1zNn6XUHNkbANNOEt-NzeX84zd+-c6zFhSF+RPtithBKttdp8xm9tpaWkbVeNKrGdttudrXQF8dp84LTdv8Xxhygd1IyMW9uua4bVTYxKb9x1i991Op0Nlmrd1Edy24AlwtwD89jJED+V8D197Zht9e5t9N8Qj9hly1JsEZGt1uuttDptltrhWduuTt8d0N1I5DwMbus939kDqCqLFdUbBwbwtdybEQtyodvkEdvdjjz+ZjmCmLOLPMNHMiPABJRCDEWRrm8DD44Cq4cgMhzBPvUgF4FSKYUAZ6A1JadmZ6YfYfLedsp0b2VQRGfkI-I8cBFoWx0XXt52VQY-WzhYyZG5dvOdLoC58mLKSzpW-CSMFzxgOzhMG49eYL0L6dcC8z-z-1wiSLupqd3kK3c4WR1QGeCnRXKlUR+NHGOrNLnIFrKC0SQU1SSzyQHgJ4Cr-aWC6NOgQgZwQrqzGL0gCz+QbWKr+LtQIXHLox4i4IJd5oTz+5NSRr5rwLSZNvNoLzhdLLETiZaNSL+NMztrmr7l12cb0RkHWqR2S27oSLtOwt-bi07r5zmzkLgbxski8UtWbDRgO4Crrr9b0AQw6c+rrb2Rlb3UWLjryrjbnr7L2T7Rp8swNj+emb0bhrpr7b38tIU8jEQiXr4HnSDk1I28J7rmnDl7swgj2tOMZHibnb6C-TdMxbtnZb6zVb9r7WfgAHsbmH-r0HsoIbiHjvErQ738wleHqwRHtQaH5r2xbnnXVI1InHlCeB-H8CAX2HzkYXljsn2tBHuMSLycxYK7yLLLUijYOCWK08DT1QGl2C+9XxlssRTQGDzNERagc3g7JSXxyIJaB7y34tNeR3p1z7HEsEFgKBcVWBaTvFMC5rlM67hzvX8gDT1StnAPtJXL6zVL0RjLgYaNZT+NGPth5r0lsrt8NShT6zdPx8TPpkd3530huCK3cJEjVEzRwxnINXzJpwxSVIkRuT17iXrIyv9KGwlvnIJnSILvr4Iw4o7oTv1E8o0f7v4vCfwfxvykOMaf8f-v40ue5CnvnSCohv3w6ntf8t-IrIu+7oHftvyzXfmoofpynDivpf6IGv0R+vzY7C5LuQncBd2flQguGA4+ZZi-VOCcQ2nhslF-0aJ8sgKtIHcJIE04kYcgjAGeCY00DGJN4sFcHi-3HawVWcmdafoTmv5dwV++ZPMKfzKLM87GIQfbn3yr7RAjuaQDzqAOQiMAIBlraAR-AIEBZTuGgeAWQIH624F+GvBXhJncypFUB05OxqkTYGWRIw47J4KILdJUdmevAoQQ50nZa8buDnKQdPCf6SpwguQFgFc0nigE2g7YfkCVjoBdd9BUVa4HQFq5v8+wc5KaAO1MGGDaQFgjLvK0-ZCwpoePfGh400EEgdBbRewUYO8HaCWY7giBrrn8GOD9o5RSIFMB3xmpwhakEwWJjMERDdWNg8VuENCD8BnBRyVwfhGMGS8MutWaIYoFiHvB4hGQpwZL1qiFDpq4JLQXzwSEJh1ByjeofgHbBow62m6ezrnF3TtC347kSwASCSb1CZaY9JLqrFFhtDTw-QuoUMNmFG8rBjnU2PMPFZ7Z5WxQxerkDiFJCHBW9ZcLaUCEx0ahr6KYeQBmGBDhhPgpWIMJpZ8kJSOYaXHqkrq3BIUR-GiKOGwp442cmA6zNPykpIRV+BjO-hvygp7cRu86DgWPz2YH9b+rfd4cwKvJ7xgQZwyjOw315HE-h0iBfk8HhEgjmhyIi6GiIj5HFkROI08AiPP6NFfG+AKsF0ARIDsmQNIpUHSPla+c1ApI+CKeEMADsqRdRI5CEBf7IjuREjA-lJTFCLQXhxoDkbiOwrrCpAovLkWM2hBzwcO7w8VgSNRHZUDecYIUR4IzRxg1ReoyZBqIUJaijiX7LkUaJtqRhDRoQmtNhVDaMjaRVrZoRuQwbw4LhS+RYakTWrHDdszsRNpITeA+wMkSEJ0E6yLDhiHu4wJ4De3JGgAZ2nwv3GzjNE7QGuk6eNCaKQhmjVAcY0cFGNxBPA7RNaRMXv18KpiJ0cabZkyJyBWsB2aw68qiXdFIR5hhvdEWmP7TNDCAPzfvrmFfqKjFhY2UVhaJHjNDlOAwrQTT2e4ddLBGwervGmU5TjquM40ERDlIFyw14e2IJnyGaG9icwkgCrqKH7EAwpsmdSzvGhHGrioCUgF-pZ0MABMVm24yzg2AwagBHiAACTDqSAAAguAHABh0AASo8UgAAB5OOsgGsyRF2yBJYkRkkdbRjBsx4i6BSMWHdj3ge4pCZRnFbji9xv7eCVpUwm2BQ244lQGdHwlXYsiJEyoHBKd4ESp6H4r8b+P-FATQJ4Eyibz1wkXtyJiErMVPXHGti9xB4v7keN4kOtaJ4wOVPMJ-7uF++NEiMTxOmGUYUJOTQIT0naFVZEs7wpwC+k+wacjwUcM7AWKLBaSfeF-FEbYARFGiYJGnOSQhMZxZiERTkV8WBgPAaASA2nazAAAYBg7ZBIFfDGiusdB5cH8JQG6BfxApbkpBIwHjQuSc6vWKKYiR4Ct5cIsU0dO5MUBZErcfk2gbXyWBH9UpebEKS0CnqpEdmEhVIgVJXZFT6ea-JoefXZiWBtIOU0RlIEiDOdXWmXCnoFMKlsNQpERQkgFIPA9THwoUpPjr1JiaD3gV8FQL7GnjG8IcKAxARMjXhZSBpa-JgRYG6lVTepxU5HPSwXgFsYkqRSaZIGmnSBfY4gtdlaMCAnSzpvsIBGuzTqgJxO2vOxrdJmntS+GzQtoLoLs4igj2kCNvlo3X5Jjxposd6edMXhw8+BAojsFDOhnpBXyq0LKEfzEZoDYszhMDPICIGg4DMj2fHFgPIE4CAR+ZBETjNVLXi2es3JnJQJBQ0jfUoQveBDN9iYip+xPRoMMB8RyCJk38HDpk0eyAJLAU0j6eIOtR+BngQs06R9KATdtCWBAYXNjKUEno3pksu6Tm2aGiinh2gQsOlyP69kQRXwjAdgMJmcDcBiiI-o-w2BuYaaJA8ESVm4HzTFIJAKEkSIN6sz+C2Iz+rhX1mP8kSvA5AXDMvK1FVceAOrGHJYT45jZvw7Af8LzLmyVAZM8HIpBtnDdIeEIhfttg84uycxO-YsYEHdneZsRec-svkTt4wi9ZCcvEaRRgpuYfpx2KQFhH1kWz8i9MUOeHMaDAQnRzIl0dXNJ6OylMDw47LCLr7H9E5JFPLOzGdmMlXZJIrrpoDp4GzFhVI6sc6Jd6rwHQNYlkUcjZGv055+0HkWgTlG0Dd5wowtprLFDay9Q6XTQHvIRFHzBRtXAdufKBDrkr5vfeeVzS66fCtqYAMOXViPmi8poSo-aWCHnnisp52sHMTqJCH6kdR+0a6WkAgUzyMWJ8hBY2i-bwLi5pQB0fKy7m1jGm9Uy2INKWBGTaAurfipxFIXEBAorrMSlqHHBthuxRYWKVPUSgsLyiqUmZCwvP6BUXYfCz6XIwHY4wVA00-kOPnEKhtEoKvDqXcNJj2paIsUgRbGN9YDJzJ1ChMSotBnoDa6bYBfMQpim6Acia-VqfkBYXk42cSCysfGiLRIKcxeY5CcWIYWZg2kuis7CwrQWlBSxNRZKU7OIAuyrFK87uWvNYT+jKgrI8XPG01YCLicpOVxUhHcWPY3RVgD0TcNUCWKMI-aJyVYDfGfjJAAEk+AABkw6EE0JdIB8lwRrJRVWKXJAcmLzfCaE-4W0BzCESrUA7HCe3hzDXBqlLS4ibz1InEK5I5RKiTMG6X0Tcl+SopeAHYl0pOJAynpef3mG+CX6iWfiRcMEmHiJook4sUyFimSTAhHII0astSVlSaFOQPZTcI5CBj7U3S2pVooc6LLThGk4tLFNqyfZ5FxCpRWZOQkgirJVgGyTcsUkWSQRgYvUHEAPAmtcxKi25ZhRWELLVJjyutiwmXmvoJkiygBoeAMElZHsc6LieJMQn2KlJPyx7H6OuWus5IBKoFQ6IiYlkVhGsiJRCpNbMCJxBITqZnWWiy1rMi4x+JCoTbMgHckS6KleKBhUzRu7KkgO8z5C713gDK31kypWEXMxV+KQQrLB5U6s5Vhw3cSYqaWJ8hRPCj6MONAhCjZmsMo1oaq5EgqkklgWySFKQgYSqFM8cHnuMT72roZ0ac8dZnWXCSJo9q5ntGkcZCo-QVC5lWwCRC0kjlk4uLo6G4nEBzlWgkPurXAw08xJ8kmNVJI8GpEqFTwP0f6sal0og1Kw4Tn3MjTo55Slq94KlLnoYTuFyYzOlmPjROKmFWEMxVbNZ5Orr5gKq1K6rZzurxAHSoSdrBEkdqNefqmwLmuIXBqW6jacNUMMjW7KpJGvTQImtnWutY1BIT-Bmgqmuss1x1HNX6FSkFq0cC3ceSxThC0hUpISKhcHmjW6tFF9qr2QAg+ItAz1rrK9XitaVHJT11qyMdeqyKfrL1d6yNGEHATvAg1lajpa+pTVQVo02QXFSmu0oMSfxf4wCcBLAlTKNgCGpichtYklKM10a7dbVhg1frBsQqgEEyBt4EK3CWoT9YourUbAgNVqitbavA3NrtFcaQjdUvjQIaJlxSiLFxsKXFLMxOHWKfhumrsayVJGuwGRvhgUaWKnGL8uOFFoWpr0qQpzspqyK5kFNOID+N0KbiXTNAP6dsv9iwyKaRAV6b9FPQen6aohUgJBtOAkAmbwCymvVXqzUBqaJhMk0zPTns1aanNiwvTQZrghGbwqDmlVb5vqLgQ3NlG3kAkCiAhRaQEKsLXY383lFiOabUdMPG03BzfCyW5oQpuoBtTNNpm9VTcN1a2bCt4BcrXxgPk5F5h8rPLW1KM2Vb3ExAELelgrz8qIVGm2gCFoEKtaHswvXXDSsOFORF1I1S1vCQ62+sJC9Wq1OUtJjBb8t+QYLTiC1xDaStzm2zctrDRbaKAbnQtg2N0a9qYhWwsoTsKxXFpJtkbHzJ5rs10AetO2vjMVq0H9aJqx1BbQ1owhea7tK2kvN5tM0vbVca257YmFG0PEbWfK+lVNpxH2bFtZfUmDFvfQgcntLKuFTcLUmngnlmaZFZikaC8LF4kOq7QjssYCqsWVQm2kkqSQtiLhDoreANvXkU6Ulk42UT4j8Qo5nYQvNIEDpZVYhQdLIagM6yZCXbNWEhInU0RYq5gjw4GKeIgMWFB4v+WDT5P0RmDENAxqWjDnHiR0b9g1mMYCA8vUmIrJk2OyZBLscZkpHetKAAUsA5Jq6W2I4UncwI8VdVZg5bDaqEPXQGEixZrQIKKmgQSozJQMsCtSV8Qs6ggTIG3ZhzdYSqGdVO1JbKLll7Y8eXOmljzsTVh7V6jbNLVwgm0E7hdTwcPf5lIbRplI+42KgYPjQABOAYLrwkBxVg1akWAfNpr0GDg1UlKYPrDazQzwec5EeLBX9kBo7A75TyQjPMCl6oqqgCVhK2ZBoBp98anLEesmSj6xBQsUcRMkX0t6GEMZVSUrE2J2BFUBBJWaHzMBr7FlG+1xp0hL1N6oqVy6QKIvEVLAfQwG5HQsN8JJ6U9Y2m-VFTv3Z7SU0qqHR8Q-1iKPgWMuHaLDg4k7Igo2jIooEyB6h3ahs2ustHjQ3tmAd7fsS00NTEsFOcJPoJcoixuZrojAGA07UWaQc9QIxN0NDMX0PEFUiqODhosja9rRtZgGg+6HvXwRL9lkSlgyvrCgA5BZFNzEGvSSuAMkT6krMtEm5pBqNgUi9dGuDxPqiNSEGZOIY174HoD65Yg0s1xjMi9AC4eQUfo4PUGaDh6aNY+raAtAD0Rh1g3wd7lg5GgVBpkEYYVT0HNWMaSdAwEcMKpZ9I+jg3XtRWqTMdxaI3ari4O+s9hOuc3f-yGjLQHdBqZ3QQGOo0IqhQurVoTCbHJKY9k4vbDBAk4TyiCDmPIHQCvhuAID4GVlQgaQNQqUD2bEliUbjTYHcDc4tnI0W0rJHcxqR6IM2Lr1ZGJNSw5SmgT21UCHQl8TpMSNRKcjzggzHxESzjYQqIjegS3W0fXjNHNiHu+I7VkSPNDBD1AaOCBtEPdA5piw7lXNO2YFiZNaqeQ0GpmQHHstoEKQqlkfZkQwDEKiVgWNUBe7QAAAHSwC3qKSbRdJPgHATtME9PVVGtahrST6HQBBmA1oSwBPHQjLx-CW8a91fGfjv0j4NsYBPUt+xC8QgBkU2JWcL+OJp4AAC8u6ZgL40EHRX-HATqxgk6SbBONoIT24NQ0tDfCEoRg+R+gEUbBAvHfjoBak1iferss3KSgeEs4HhKkB4SVrNUBK05B4A4TV23k2iYFPtMhTRbUU1vglNSnLlTJ90EAA')">function assertion_to_be_added(exp) {
    return type(exp) === "assert";
}
function add_assertion_body(exp) {
    return head(contents(exp));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p43' class='permalink'></a><p>
      Here are the syntax definitions for the <kbd>and</kbd>,
      <kbd>or</kbd>, <kbd>not</kbd>, and
      
	<span style="color:green">
	  <kbd>lisp-value</kbd> special forms
	</span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	  syntactic forms
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>):
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (empty-conjunction? exps) (null? exps))
(define (first-conjunct exps) (car exps))
(define (rest-conjuncts exps) (cdr exps))

(define (empty-disjunction? exps) (null? exps))
(define (first-disjunct exps) (car exps))
(define (rest-disjuncts exps) (cdr exps))

(define (negated-query exps) (car exps))

(define (predicate exps) (car exps))
(define (args exps) (cdr exps))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHR0lVVRdSeRpiIbiEpKLi0DmF2sUJNvklQQoVx1EAD1VLOjoVtZGDMf1nya2UlzpyHr7I9roikkjAA5hdrrd7rRATF1j4XoZfABIczTJzUVSidzkaiMRwxBqULLCVawp7vZLBQ6yY6KDFY+S4-GsQnE8442bzRbLWiPfKjPQTD5pDLM4gAE1cKw8ZP5my2VMiYslJJleQSCPlU1F0myDXFknBN1Edweso2FKCoBYknKokcpxJil1jQNjlUwOyVixNXqTWkMPV8Mtwo+Lv1hqa4v25vhgq1KTRNVEAEd2mRcsM5SHttTk2nNKQOqn00WauRjjktIGsxtnvGcyKZqJYuRauXKwk+RbhcESOLRPgiaJxY2kw1SqRyt2Cr2xEqJ9QpzOdA3hUnLNZbB2FFXyCuE5T5+FNzZiDuW13Y6vxoeAknJKaQcQ9wfG4rwo-7s-X9fNVgUSbJxHXOAdSF1bEzSDRJAPMADc3+WkQNoRwwJaDkVHoCstFQ0RwIPf911FNDPSda8738D8WhIyDeT-NcPnSLFmEYFddAAIgAVWIcpiGoAB3Ow6i0SRLlAABacTjxpBR2IMABuLAAF8BBIM4RF2aR9kEXRgRBOgjFMfxKHwUBFBmG5KBYKVxHtZDVkEAxDIpU9bB2Ll20s6yqFsh01KdHSdlBAzFP8JSxADUR7FM8ynDJfs-KEB5HOclJMO+UBbkIaRyFAABeaS5AURR7McKNtJIN5Q2qoorgUCULn0ShmBfLtGxq0NSo9dwcjcQFHO0dqOo+PS6EG4aJv8Urxma2hXxShSXKsM9RVc89-iULKcooo81taKIxXq-ctsSIaRX7Qdh3FULzHC0RIpMClmNxEqSA47jeIEux7NANtMQkqTNNqOSbtAFSVKwH6vh+Xp9oBA5rjG+NHuSNbrTmIFQXygA+QraT0zUxkRxaIZ+vNMJVaVpDY5GjP8NGZnIRhCHIAALfZqSK3IJSlWhwmNSUlmK8jNR2hCjmF2hKb5lp0pLK9oPrW92qYxDJZ51UWhkNw2Vsgj40U0n-JWaT81LDpyBYcgkdvFHjJi5tW3bOh5YzRRvitgzUqKNGLqHeJrsmO6HpMsyZl1b4L1fD3racu2UjRzmkOayPvk7LR3ct2PtFvUGwYil34+SdLcqHRhU6zuGooKoak+KsuK-T-cY4MnPXjzgJQ9ixw9o2kqU5+GOq7junhTRhvB8rjaO7CguotHj5E6VF2Czds76ZNSem8BFvnlzkMVICcHVKSkRod+RwSC-ShnxHRQBhNb2LGWtybVUe+vRx0B2IAKivp8A4-3YroB+IVlIn3UkJJY55qAs1wuBUiKwaxwkSEXLuMwV7mwPE-Yu0Jcot3yqATBhZ7Rp13AkZBTwZ7Py3HYR2qg2xmxIZnT2YsjzEGytIdeIpdiaHFO7aBPQ4E0R5PQfu5ct7kIzrvKqk0Uh0EEbAn4IiSSAm4TVG0domFu1uJIy81YWGxycotI+c8i4BAZk4FRUFayzlDCUBw+5rEoU6P6bBQ10gcOkNIPOx9IbGxEHmRcy56K2wXiXUA5VCHBPKGVag0YDx5wiZOGQDACoKMkDA4ReEIKiMBOVEx-gIn-2-AHNJIRHEXxKTfAOzolypMKTQladclDlSJvVcUjVxCzVahnFJAZxpyKGUUapt9xRI3UcMj4t4SYQJJKbPaZD9H7lCa8IuaNNH2l7m0JQ3CWmKD2lcY0po6KK1FobOZJs8zXx-ArWxN41nhLwaADahD9k3N6T8DaRpIQ2JQUrdukwPm+i6C0PuHy9wgrcSLF5OzNR5zRtPcB-jT52DzM40k0FNRF2Ba47ofcMVQuaPrSZtU1ZKEJd8o5vzTn3NkVM4UMyEUvzsH7K6FzcBgHsgwfAzA2BQDgIgZA6A+AACZLkiHDq4Bk1NyLrJZaKDhjQsQHnMAAHzVe1DBTMiQglVaADVWqnBNGaKITJqrDWhhmF42VisAiWuFDMNltTyIXKhtK9wYKdmquMAESYaNrwcp+ozSQIIQQjmcI4mmbN7QVhBDgyx7pJDNVVQAMlTaAVmZr+Fyrynm36WbHBxqDQEuhmQvQ+v9QqkNYaI3QxpuxB+INkU-TxS0WGD9K0WIVVmyQ-CKyUFtXS2ZKLIGighXc-58raGijjeGzp9b6LsQnVoZtKkforsHn6YlcqF5o17f25N1MD2KAHUO-5xi3Wlp2AAyFVKIQmihJiul06VonrPaeo92CR3BqsTkxBtKp17urU4Oddao1LpLpk5R-7aLEDkgazVVrQOhvnZG74DapCMEoJICc9oMUIYdR8GtaHF1Yu-qVAjsyfqErbV2ppbl31fqY4O791Hr2Up2T8x9fynjx33dmz9rGP3kSciW1FOo9RumpTxwDfHR6JrAwuiD5H2Lhmkw+k58H2MSfU4abqXo3BEoDPRzKCq37u23e2voD9dAsfPU8MT4CoZScjPEmMdqFM9sEx+kTisnNGwkzMRZFYpErM84URTqHwMYaXSFpua7R3zMOZpp9pmBN9qEw5uUP7r0zAprzLI2WNivrciRmL4X7kcQK5rbjWnCNIcdSh2tynYuqZq1TKOCREs-Q6zLd0lhBa0l3ZFhV59LD4BpjwHTY6+tFbFMQjOI2N4zvG4OGmoqZvzLm5+HKWJdaZiA6N1blSJs0wAMy5aC04RbRZDFPyiy19Dzcs4cVu6IHr17NnaLu7vfjY2o3sXe8AohWcwHruve9rrBiY6GX8Mdt9Pmv2w62ybCe0OXusP+zOk9u8r0Sd0RjneYOHsKo-Xj5zeWnAtgYc7V2v2SfY5WtazhhjwdJZNuHR8ejo6M68zOln3ists4CxKstZVJzTmWyt5nzXSMqaq9-GJn2JMxLiQk6XDG7D2eweJsdMxNKUCFrxuUTOyty4qw2w3xvaAq7HdNVLJuSv88R5lvzw78djr0nVp9lDTcu8Y0j4TX7RMjrwNypgrB2CCq4CKtA52xezuZmzfYlwE0gbiaa81afQDtWCJcFWYhGAsUUJcDiJrpBmrRdcPCChxS6EsEWSgtlxSpESxzkQ337KKAM71LESM2m0yrSdjD7F4oNXssA9RvfvTl10IP-eEPrvMmGAlbv+B08C4t61-c+BqteDX6Wu38yuqej7+XEqm+Vprcm3v0A03Pcn9Ler7SV+3I35KroTbj+0fP5mi1eaN-OwD-O-S7PXeZb7bZKITwLQZ3Yfa-QHKA9oEHTCI6VHSVJwJApQDaIA2daLHfRQDaDiLA4-E2LAw6LsHA0rbXIPamHAq7MdQsUoe4YgMEf-OaLsMJeAtyD9RfDvb6AeB0HqJQLg7tHHQTPgiJGNC4J2LpHpPcQhG1RSfg9GLRXlCtNtJGDaAyag0AD0FNTQ3QbQ9A76YQ4zfqYQuHeHMQ13fhdQnIEwpgL0KuCwr0KwuCGwngr9ew0QBg+ZOqPhOQgArsQw2FAZSJR8e0UQmXd-TQEENmSzUFHQvNAqSvVghIyIAyPPPQ5NViLvYQxI-0LQhpefSIrpNhdINI+I1mQo5oHQgAHhCDiIyIaTOipGLxenYgABUyh0ZiBaggoQRCA9wGA6AqgFhKARx0h2JQAABqXPKZb4bDVgkyfYTQoweYkHGY+Y0lfwJY3VVYwghpNhVEIvEvbo3o-AUQfiQY4YihIhcYlwKY7+OYhY4ZfYlY-ANYqzHQzYjiV43Y8wD4kEQ4zI0XFQ0oCoKoYzKuWo6QbFBeMmfQZwMod+aIlIVtaBOE4ogMHBLYRNG1bEk4ooKkZEyE9+QE-wJg6gFgtgpqYIjOGZXY9INtfKfNXHH44khUTNQTMEyklkrE8nTk3QD9MExpZIQ+IoLucYNkgqaQmnRhdgz5PE2qDo1iNtd6YgJofsUAJtcU0xe6QuBeLYCJHwwhdHHwg4QFaqNGDJByMwzQkqSwwZBlHwlwp0tw-UsKIObgtFMk1Eq0wwcAk2XFKzWEjUsIhEyYJE8QFEjEQMlU8wTE81UIsE8xH2DPQk9Y9RUk2M8kxQQE6k2koIjgxk14Lk041klInkzLbMuRYIF2H4E9TIowmQCs-wAU81IUpI+sUU446hfOEMaU-QWUgtKI2QpUvcRM5IZ6dUqzTU7UiUXUz+SSG9UpPcZtLYYOI0oaU04Q80wQy0-eG0hVO0j0nIcw883wl0qZN07Qq8pzLcn0zwv0vMgMvgzlAgUtHlPlaPTgYVXgDARPCybDbyZvOyUtV6YgUnLfItfA57KCjiLyGyD7Rw5Cnye0KyBYZZURKCmC2w4XFKDlCJdC8CxKSBcpetS0etdiA9EHfwA9GqelAIGis9ei8wM9Jim8-wGi-QxgdinI5qLi6iwHaGAS6GYSooGiwXaQEHGS4UZiniwHSUOgBYSQYGXQFStSgYj4RS8wGi2c9i2c6qPSipUfG0NmWYBoOgYBCy1mKyhgLYUymi2YgS-wUvXQWoIwPKXGMSeYnS5ywHcSNy8wDy0ALyr+MSKSAK7i-SwHIBXQFIMKiKny0AMSH+cK8wQK0fYAEKsyMvcK7y3y0AMAGKkS0fAAUjyuSqKrStAAqsytAGyv3HYhSLcpqsitHK8tirMpaoAEI812qCqUriqBqCpuryqWr6jqrhraqxJGjzAJqpLAd6i8oQqOrUr5qCpCqeqaLsYZrPK5rQBcZFrmrFB2JsY1rEqAgNrirLrTrdrAc+q8q6qAhUrzA+r-A09LRFoSLQKULyKSRzD8oQwLMD1dBSLfJuVfrnlIaILUUegGgAArWvNJUGjGQQL+Xi-6jCkHHXBaHq5IOGwGpBRaLAP6qyAGqDasQhetGi51EcEHBm8UUyhlFiwHSAYgf2VwDS8wTm7mtsVmtmuK8y+Qey2ASAdiuyxwCWoW4Wmi6WgAUQEqVrlrZpooADlJANa8qtaNb2yJoYasI9CcayLqat0kiQatgLNSAv4T1SB6xibzawEKawLfJzaXCraigba7baDlAnIIbTb3a8FoMwEVCgYBtKaMKSbeRAo9JoZcCI6iRL4JQsQtJdVHAkbJApAFFsMGECyJpiasLK89xcKBp1F47HEFJkgW1IdlpqhJyuxcCAiGpG6M5uFeEJQe8g74bIFzDdBKSTao6zaQ6cJ1jCaihO7+FibSpqBkbUaB6GUnbR6vkdlW5uF5SJz6TSzEgOVK9cppCQRSgGhwg27cp0l66SzPlFAybw9vzI9+UOAhVuBMBE9UD3AKBHACxvhzgbRGBpwsMcM8NcCWdlVWIddAHcNK9jEQxggdc+zsMoHfC45NjHBtjQdliQSvjFAIHgQgHoGnIQx0hcHEHgHHCYgbRkwDM69M5MGdDgMZ1JBSBSBhjspaR3ZdJmHaqGB5igRmHRz2IZjghBGRQtjXimGHaJ6apBHdBgT2cfoSBuoXZaHdVdJgo1GwRFHgQXZDIkRfSMHdVXj2JzrXiKHDQXZqG74LNvctHy5RANGvYjGDB2If8RBbGXYi0sQWBMZ41dCZKfGKJhGbV2IiGdQo09IjB01Gxu5CSP0ImjANUazD1WN4nQAxrv5Ag5JYGzIT0ImBHMnsj36mGfhv6ga-7pwInC9u5rdcK8momaprUK0Hdjk0t4m2FhGTH5j3HY0vGcHBNRoAmUG3jQwZj0G20L5O1mmaVVhUmdjpGXiuniAlGenGBvGdcBm2mNizo5IQnQx0hunzqxKNHdBunPHVnCGtgkw+KAnsmDn2I+KQd61cnQReyv14mTmlntGVmWAKIkxgSbnuT2IABydBvSIxkF0J4Ew4iJ1x1lT5uxr+9oRgfYAsZFkBzIVnHIMBvpzLVFpa4W3q86zJcULY3ELYvicgLYr8LESl4g7KVCi5kk0AA5k9PF151jNlj55Zs5n50JllwTTl36L9QV05tl4MkQLOnO0gPO1eg6G4JcR9BGVQdFzkCYm3VYI5QJwl5dLkI3UREHKZ2TDV64NWgICzSVx8aVygBhKuAbBVu4BxpVmBy5xVCtTV7JmizJ2RsMjtN1k135sQa4cVuwPFu1osO4J1tBB2JwGpp0TVlU005-Ks4Z5IcZ31wYQ1rTJ1r0v6+1l2TpUaQhCzUN+V8NpGAZ+NmeceJNqzARh57J65k9Utx9CNUaesHXZtu4Vt4KZ17UUqKs-NNTRxXZplzt-N2YYKUJ-t2t6s9iC13O612V5Aht3IqCvujU7hc17Oy1mV21sdx1+NgN656d0FQOvN7t-ScU7cqKdBctQYeN9MtGT1kHNNmzP15Vq9sxY0szGdI5XxWuiTP6EQk1vxpwa5917kk9CD7UWcpVzUz6QSQNlpk2ID0gkQVAihSNhh2XJNFNaDlIYIXgk10J2Do5eDviRDmTLTUADD6sdvDdLtxgIGjkBoe0PtAcfhTV3QoDyN2d6lpjlxynCTdj2YRjoG8qLD-R+22gI6QESt5FPAekODOCvDCGlmHYJc8NcgT83lKPUgVmOYNwUAc7MyF2Mdc7ePePXwcOu4JcRQO0WoBvPCXEcZFVwkxvFzrI+xZl1O-2EcQvEsDwBzuzQTE9DzxgVzxl7zsL5ziLrz6qdIL8Oz4LoV1jcLyL4N1Q2NJBm+ouZJepdCJB2m+KisPDIBcUqGMoSod+BzxwHgXQWrzbdM8wCJMYhoUryvQhJL0gez0Qdser1L6mfpFTghgc29lOgcPz-hNrjr5B5r1GBVZmgc69+bgICJdLrr2znrxrkU5HQgdrpBx80MRNZmg5WLlm3YvsXzq6Zkwbs7lQCLr026Z8qaPLegGl3r-rhrvrxwUVVsqIac1r-b2bzbugZLn7gbj9Yb2bo7lIcb07mbw76cgIRsuC1jaHpBqR0Ma5+tWrgb65nbsI9oAOwegIKHgrkb5Bp7-OQ0+eXc55Dbgqbrz7373b1jRHshgczuaNiby6WpdLkeCkWCVNqwNH6mDnyvQaYXoZa5gnn7v7on680noocnYHpHxaYXlb794UVHj9dL-74nrn70p8o+aMjjBwD0cgfTxQH5+bjZARyE6rkdmqEoKrqobhdINgWdokF2ATyZYIH3mlyZJiNUm38jr6UAJT0RAGIVvDTc43mIuwLS+QfT4i55KP5jorgqb7Wbm+xSCJLTwhDP9kHLtTN31QZtEi9TgqYvlCXP9iQPgTsmn6b7VkSUVgo40hyXxX3A65yB1Tnv2FyJIkdvsEfvyvRQNv3VXAk9Kf1gxwufsf71Rf3Aj9FfofxfxwZOy08f+xpwhw3Q5n3f3QHwxwlu-hY-xXk-yw3Q651vkf3VTv-BvfnA6-twzLmYLDSTl8vAp7etMjjJvRze5pwtAOGYqAAJ8IfNFynSLDI4AM4ShK8jAHBL1gxAcwQO2vaKGHCcBf8H2GAtbs8kX7RIH+rBLfueCPLXA3+DhI3lrlFCncV+l3HztANaB4h4B4oRAXB336+FbuKgVQPsE359wV+1PFbuN3A7+tVuifQSqxB4H7AoO-rXQNIOFyHtluX7IaInCDYHwXuNAhQZq0y5LEzULAVVoEQHC6hagd8OgAN2MHqUI0dAJrth3Nz9BWc5grVpYNMGdIbBN9UJo20ExOCseN1bhkzH0GGCGoLgswQEOyBi93Y02XwQSxSAhC3Bm2RwkSDcCV5s6+Ge6FYOm4WD0hrgmoLYP0b+MnB2TOIbkI8EusvBtZKIdwly6pUkhadM1L5DiGKBih7g01jVGqG4w9B4Q8nNNnBKtowhBg-ALqEtgY03oRCXAoMPkD1RywlgbILQ0CEWZAoXsIfhMPIBTDOh3jdYW50cH9CtWNqUJrUMYApCGh2Qu+ENFxw7DfB7QggEMLWH9C5hXQ5HDsN6HXpz+W-PoOlEcSUE8GmPUAAaFXCn88uBA4gSCCIE8wSB2-Aopf1P7MpYKdA4Ee00DYdIn+Pwv4ZQK4F7Mciqw-bI4AsrW9+By-eEZpXkBoi-CJsS3jrBxEp8ailvIkf8Jv52DTCn8WdvgCPSM0U2VodiCyMHSM0SOaYDwDSN+HyAjA2TM0h4W1Cf9gQPeIUeyMoiIjAiJkBbJ8IzgCjURnAgNhZFXaW9ImGaDUSmj+FatyR2I3ETUQ-RajohoYD9PqPNHChDR24Y0Ti2npCjrRbNE9FaOV4dRT+AbTkayJJa6DdU+9FxHcJzwMjJBYVK4TalJHocs0U4WYOeH45Oh4xKwXQCW2JGgBQ2AIp5MbWNE9wTQ2Uc+piIpH2iUxq4RMbQEXoxDqo6YywjCJWjZiToAjLkZXhJbZM9hLrWkgGPPDrCbeVInMWMW2iZdCAHjEflcClGoIQx2qTBg6NHHPCJMWnaYfoM+4DcHOeQ-AcbXKRadFx33WoN-nyFOAEeRgYIDahFB0AP+qdS4I4Fq69BpxgI42g50IRNshRNY+wV-wc4HjABIoBznvSsCgAuiAACUVqOAAAguAHACK0AASl0UgAAB5DWsgAKhKFE8VxK3vZVLFiJbRxAEkboUHGYUzxo4nWFqznHDjLgrbMTkgjwn7YA2c4mQFrFInQgh+VE7xKJ196qJcuIYv8QBOAmgSIJ0E2CfRNF5ESSJzEsiehNwJziuxREi8T9yvEiSOIqE8SOsKAESZ-YBbWiWhMmH7ZMJIY9YQ6CGEWZ14fw4YjjEmT6c8IsSTJExJpYPADJLACGupNsAkjzRSE-ThZKY7CS7JGEtUSOn3qZR6WzIEgEZwKgAAGZQj9HiD8Qe4vk2NucEoD8IE0vklQP5KxCEJmYlePybAUYCvEeAT4uwClPtAJT0pQ-b7GFOYHP9kRA-XKaq25BA0YpvfVduxC9ahiKpUUlCDFLZ50FvhZDSMTlM0DOFd+TgIkAcnpY4J1ukU3Vuqy37ihFC1xCKalOanngYpefM3oB0sD2h+IMgacFxwwGJocBIHIaMECKnTTd+HApqWNNEQTSTiVzVdvhw+DBBrmAQ1aetKnHxtnR-ge6Y4DWnSBpwRHD9hdKQ7-sf+b0j6dOFyldTfhogTEBKHRDGtVArZLvnvwzFLSx0gMx6b4Xm7jccBgvaqNKT5HtS4ZYwTGcNDRhMx2g1Amng9DwFFAIkDQUEaP1IFCE3WJI0mT-ydTXdakDQA2gRwICpJRApPdIMjM+mT9gRsJdmdT1N5IgteqgjPOB2FETRCOK096Y9Kg5xxEm-Mr6V+mQbqJ0gLIyKMt00E-sVoqsp1pl1eEKj1ApoPDGVO76RBNJkwKmcCJpkZ0IRFaKEdWMmBdxPqLMybldEFlgj4005X2MQFWKUjkJPs2mQIMJEyiGU1stUfJBTbCCeeX-SICPAZR4Af4ackMHbN9kOzwRZAyETIEZkhg0YHsvcazLvj0DhoV3IOfaOP7uiAg+I6AivxenVRT+HvOUV3Uv7RzoRQcMxF3AHAQzxkPQVYNHJdmekTAJVMAGnJ-iFyFU3o7kb6O7m087eCqc-pbJf75yY5PpQLGOhIBVyqRPefHgrwRk-8zSzIn0c7yPCzymx58+8GIBxn7yIam2EUcIX2HYDJRqgabJHNABUhLgHSN4e6BpL3ALZ78h+SSJfnMCe8TXbJibL6BmzAFE-VQAr2AVqjzAqc9OS611GsR352o0ULL0fnckd5XxYOdb1NGVCGUpozbE3ICAEL2w9optqQorEpAm2FC2uVsE9GhNL5jND-pgXpZAhVJKrJTAhVQl0tK8aHOwJhHAiDiHgIM3QjrhBmOEKpEnaReOIxZC5fMX6ORVqxooyA1ptQUDMzFQqhN4G6ioaTOK9weRZgM0zaPS2TFItPI7kmxViHbBHyikzycCFXksXJSepF5PqaQMGnQMkkzyahb2LzGEIzoQSosbYqTRYj7J7o8RbIDSxuLzJIMyhSkCrHv99GQS+safLnnXzZRrYmDuSkRaOK-F9oCTokvPDJL1E7YqwIGJmHeNMluY7aF5O-HsTHAYEziAABlFacE3UpwhCnXonJ9lXKYCHQk2yf+2E0gQOEuDkTbABE-iWeIjTDKZl0FUJgxJaBLLHCayyxYCFwKtL2lXS8AHxJ+ACTOkSykSboW0lT0C6NUMSXcIkmXjJsMk90exFynyT+hckc0bcrqXnUGpLy+lm8rqVyRQZEdM5fYuQVaT+hOk+QHpI6i5Sv4kyCOoaFyklLbJ0Sjyaf0clWBnJoKtFSSNBn3BYgqUvFooGLE6w0R847ILgW0krCYVRQE+bjCGiXL5gRgk4fwnUTKSXJLE0lRpLVHOirhIK+loCG5X2TPJhNN0psONmFLiVeLclZsJvEZQUwmNAqBuJ46Ct2ILSIpci3j40DPZfPO+IqsqjZECV2FTVSi1sWyqdhheA1ZilgIGJBW4qnYVwsmVXAcuWo0DtMMf4PjEgCTNVKKC-5erTF8yb4LiDY6qS6ZRE3hUJNoA4JxuREnLqhIJlpRnkd4gqPcqkmTYE1A5CJCw2LwJBOV5wdYV7TkRfKFxKXZdKpIBX6DtVRNFmJ91kkVqFJvg65kIrMi1Uc1lgHCKhIpU-NP2i8heMfD6EhrLF4a3CUottmw13JhCOJZIt5Agy84sas8a6vcmJrcEt4vroQjTXthpJy6rNa4psAdqfgFUwtXlEBIlrZhZa15QpOp6qBa1F6-5Y2qGjXNcpugK4e2rzVHqnhviFQaby3nzIROFUpkKhMjWWTo17q5FQms-nBB-1PChNaExE5AbM1QnL3OKBUlRqZmfCouMGssD5qWp803CYhtXEZRmgqGkDfQEIStLOJ4EyCTBMOWTAKNIEqjTxJ6XNrVJL62qsRpw30BxSaMdiBUEE5L5kNpynhWOpR44hsNFU5OhGrnXjrjaHG4ZeRv-FtLOl3SvOHsuU3MbV2z61tV-Dk2CruNM8vjZl0whI1qAA04zf5CRgOq6lKrBUu2HM2ooYCSNCzVqys36DQmxm0zasEJz2aKAgYYgE5qEDr05EGq4lejh83hZ-NzmqXgS1c2UqR0N6lqsSy2IhbbFKBWgCZqJDN9zedADLasBUoBbfNFq6ze6ts2oQHABWp0Pluc0tjOE+w9KUcLSEmDThHUFLcUvRxVahATQ8rVFs4Hdq3g0vbTalXy2eazukcDrb5q605aot8EIZLFp7UXIEt51MlhxFa1arNK5WzzVlokzxAQQ+MdRr1rlUQq6lUK4YRSQ9H7kfKM2qUioupirb9gO244J0mJVtsUl7xf0TUs7F3DPRyIG6UQne04hPt3yluUiBRCeJOE0W5IHNtmSLbG01AWlt-Du0g4HtCgLbYwWIksNwB6A-RvsgAGH1j6p9besqUy7zsrWNrcFPtqh12xbSkKmlRjHaj0r2oVwPCCzCUA+9sIVAWkJSRJ27trwPjVuJwNe2EET+RVUnrB3EDliKxXEHiBRzsCW9YUGU1ctsQAgg7kgc7bdguzJ07IgVCI6pQDu7UPlC8NqLHlDoW21q1dUrXdhtGS1SrUtugbnYu2HjKEIkNoc8VpRMGEIAAnIpBowW8TB+u+hojPmRu71K3arfm4EzggJpy43LMt6vm7xyzIdgasoFOR7+Bg9+wIFkCw4hoBs91ag0uTKGhp6px3wWHh8DT2h6PU9wgweTgFB2ApID+DQabwCBl7tJFepGC7rK2qUTBwK6QDor0XtBzIz4ENUVv0HjCHS-Q03Ylp73qU+9H2FbTbscUg5tF0+otPotR3zIx2pq8yEsxZhGEsQTQe4ILXlW5QUwhCEtswDLZSi7GW+hLUY3khAr51MUWyIwH30800mg7e4GkUpbTlC97ESSFJDHZpjbF9gbfblABjBVq6IYQvaK1sUkqxMZMo0pKXMBdwu1LHNjihv1UrqAg0G1KYBtUlAgUNnGl-LAep5dwn9L+tsG-oKhA5uRq6FPeYB-1-7VyqEnYOgcmmMHJIIMeA-PEQNcH5uDB9g4AccVmY+x1sMA4wdz2p7fdIersYyshW0rztTI7GICWgPFLlebO6DGAKUApg0RL68XQQFqqIhnRd2klbI3+21KFxEYy9JvMQmCFMkdAfiCqiJAJbhpzyE-QVDP15tL9yjJw+p02J36S9e5L0OUmMPaG-trBDsfrssPZTFUrOHwvF05mw70YyEwxn8MkAhMkQ+zeFh42JXqHQBtIUIyejiP1ghd+hr+IiCdWlbwtDwI5AHuZk3alW8jAZYIXC0NGZ+EhYmEP283paLNrR7jurI6NIb5k9CRhONrjbEx3VhJGo44Xa3dbOtUxmRe0dUCNGCcm8DvRVrk7jGQx305Y2OmR0RpiV8xkMbIKWOOF7dNrXnYcb9Q-9jj7OLABvuJVAt4xigCsQAB0sA4G5lQ1A5D4BcQ3jI3eFUOpxxhome7+GQZpKoVFI9xmA48bE7PGYhbxj4-3KLTUAHQvxqUSmkIBGF6wjnUMZidAAAAvAOuYDePJAp6yJ1E6sxKM4nCTQJyaCCfYhgmXYzaQCJDFsP0AHDrER458c6TfG0Tw1XQFoq2INAtipALYiSychAtFoeAKE8Uq5NIneTlJ-k9qzSPl4RTYpoFfSZBhAA')">function is_empty_conjunction(exps) {
    return is_null(exps);
}
function first_conjunct(exps) {
    return head(exps);
}
function rest_conjuncts(exps) {
    return tail(exps);
}
function is_empty_disjunction(exps) {
    return is_null(exps);
}
function first_disjunct(exps) {
    return head(exps);
}
function rest_disjuncts(exps) {
    return tail(exps);
}
function negated_query(exps) {
    return head(exps);
}
function javascript_component(exps) {    
    return head(exps);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p44' class='permalink'></a><p>
      The following three
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      define the syntax of rules:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rule? statement)
  (tagged-list? statement 'rule))

(define (conclusion rule) (cadr rule))

(define (rule-body rule)
  (if (null? (cddr rule))
      '(always-true)
      (caddr rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuTLiQA0oOQAFvKS51GGJoGW1rb2SSaJSURj3VYAMghoDeSm6u16oAAvCjnm8PhcDkJjqI7OUlCwlgiVkkfuY-ttAZ8ri0bmFweQngAiYgE+RM-pDbEicagOgATxc2Uk1HwklZhIZ3w2FIBsO650oVQ8JP0nMOo1xgKUdDolCixEJeilxhlWwBZwuNLpd2Jj1ATJ1eoNRvIHKxmt5Tv1hsSoUFmWVNVVpt+5rs8tUirUkejUrV6qOPLE3pdfvm0kWknkAA9NJZdeMTWSzLKI7kFSC1HG7V41Vikyc8VI2qRpEplLji2b-s2MZdrrJ6bXGQ6NPRznpJK3253xhzfP5Gk1+9ah7aVfamfMIkpnDlp-I2x2lLiFw1l5aB7T1wzmZ7aIfj3PaO6uQ+7DOT7j-UKg3tSVSMsYQrKMq1UWNwJHBNEw-UAvxfYg5gWd5c3zeRC1obtyXDEC4TApUCP-Xp6y5RstRCdsXBaJRszzAs9Sw6DQ1LXCrzXW47wdKjnBouj0Mw4g32GOCeL44FlEJKZf0DOhsNY3tQBYJRNFUAU-xFMUJXkJ5IMI6DSJEnFeTE2jMhafl5M2RS9OrKDNzrRNyN5EIy1Cc4FFdKzgPYwdOJHZk3LCU95FdYTnLENy0IYotmJLYDbPjBs4JCccWjkcYVCs6zKV8m9-Ic0cmTSjLaBUfiYtfYol2XKkrT84dCuZErcXK4LPMScK4JazKZnQ9LSBC7zcPXSRLHwLieFg4yxB6sqZnHOh5AAR0WY04qAkbbjG9ouP4abkx2Wh0tamYVCmVkqFmIlCulHDFNG8auIAZiclKpCW1bdFIJYwhYQD7tyqRqQau4-qKz61p+rqZrsZSAGt3kh77fvIf66DuhTKVvJlkbIdknnBjGPVhvkVqhpGPNCxI5PB75zE2mzQLjOmDqbAhQTCdyQq8onMZyuVQL5knDs2Ln2upvRabR8gMZYgW7BZmXiffUmQlCzRyH5UJyZRtTlf5nyHEISp9fRtmKKkdtxap3mDflo3xRNuzCL5t61akfdqFIeHssdkH8sa4Mty9n2YdF0P4ckczLI2sMmfwmtbvd0WQhUzRZEGrs46xi1gfqwON2DvRmXTzPT3nC3eQ-CqMMY-Ic4VvDK305ORfZjsolrwS5MbhLmfApPi4MQycDwD8GHwZg2CgOBEGQdA+B4bl2fkDNCCGgLQF0WZDbYq25EULLoI2NIAH5QEmI+ZnXm7h-0U+ggALkBbSpUfwIL+kLJ4cITQZOFLfNSAZhSinFGyKUTwd4P1qi-NOmgM6UCzrFW6H9zAXzLpZNeCwho12inXFB98oHEF3g8NBtVRpgNvnJTu3d6691usQ3eD8ACQZg4FSGoJoI+5BqCMEkNUZwkQK5MVQbVC+2DMxDS4TwvhAjWBCMuuMD41BJBlyQSIhujDt4kJgcuDh8jiAnV6u-cR28MyGOMfNLi0DyGgAMaZOhhCAJ6MaBfBG7wPyqEcRJNk0l1KyUgXY2qaRHEx0gTo3ediDF4x+qY5cEiLGxN+rrfG3MOpS3jEw1xpQDEay1ukyWRcXF2Ivq0donQWjRMBJHeJbjzHlVqVvWxsDARBVtokOppREnlXaTzTpzTdHVLToWNM60xEJIaWdUZvpxnD2yVgNh9jAQ1wQpoqUSyzCLLMD0qRChVCrKPDMXhhjgpThnBElp+jARrOzhM+pkinyznWYMqJrTFDMDBFvJkABVYg8NiDUAAO52AFHoJQOZQAAFooVTI3gocKEU7CYIOSQJ4nc5YlkoPgUAqgQj5koCwDK11JBeOEGqeWgMASYKBBEIlV1PGw1RcQdFjAogq3MIMbe0glriBxXiqQCJWikqZeS-m5hFrkDFibKVSI4W4NhtHagFlmX6DISEjVpRcwKCMdmEhoJaBeWCZq2qNdfFSUUHJcl6qTW2sCBim1dq7V4P1cwWZdwxWcjSI7NyQCCwypyZM31KFDE6ruP66QBhjXLPKR0BILQBicu5byks5gPl8OZcyP5ALgV2Dglrbh0LYWYLfJysioltpUJQnJNCdBsmUqbspVSndkQAD55X7M7tkqBeYVYalJo8uarJiIknram-2jBCCvCwevTex1SrDtpV0DR+zoLZMDefDtN0jELvKotVJxTegLJCS-SR8Lt1WMXedRQSjrqXN0clAdSTUlxKJmOjY2LcXqziAU5JZtZYUtTfHSksbKmJqTfIHl8g+VfqtjqcghS7bm3FcBgEZ7cGcwQxLJDAGHjQPA2YLlkGU1oMlRzRgNt-rIUzNBuVxr0P7I6BRrDHTjR8zww+tBn6BU7V7NRxYBzMPuSo7fQDxrgJMcowh2+BGghEagw20owFHl-ujThG2-TMnsfw2g4YgRhj9tFpQsUJBUzxtUNpTFPZKRNos2yNtDoABUpmZldEc0yJ4lmU7szoINJC1Ap1PO-OMBh99KXcZCH+gyimzBkaJsiMmX00nYZplKWTqG+z5O1n+vmanQAXwqNIPLL9066G6L5vIIpAu3JC4J5jiHOlu0dU6wIFX-PVaOcF2gck8uao8TrJLcSCwsc07Lf9GMEyyfkyRxojsauiPvsar+nF5tIQCdkeMxqX6Fam+Wp9jTv4+xsboylZGY4JcjkqlV0FZNkcOyoBgcq2tVYQ6tuSMcvUSu61Klzzp42PcvpWkzrJXPdHuzyz7uc7AMaWDHHtOraQ7wNe67x3sHvNZa5jwIv2fRdDraAXrWPlzQO81qR5fSMmHtHZE8VwF+vBpo6oPLMPVBRXogQhbLj12PtFo8szXlXnirI7fBLLP+fphDfgwS97d6ybMwAm+KFVDi6nOtkdRQni32ybJ4CMm9u84sat47u9KXy7V-xpYq2FcRMJ1q2d+yre3ycZzo9tvbUk517hUD8aGzj1hpPae7A55cEXmgZ6K9LYfEndO1QOZaf7yVdkXI+Q48E5CRfHMwTT2ME+bH5kmQk95G3nmI8CgWhPEsD9Sg10WhP0RXBfrXjzVWEtU8OHNPKXARxkK3VH4PO9eb1MfH7edNGVToKjwwqyXx8UnlG0BzmqT977DcO7MzUngtRRg5M-sbbSevgJ4U125ahruE-AO+ASPV2gf0A+1j-V0VUjt1Xlz+d62lzffTxXo8-ZvT8MFv3A9Aig38HpOImQGdFgPNQBxww0q5TgpAIClhRMQCgZVxQZVAtcHREDV8tREDQ1OlkDx1cJEpRNSdeRvpv49Rog9VZhkcvJoEUCAQ4xR8kVyMuYp4IEGCiCE5ugWCyNXhUIf1tYn9DVEgEsdsI9eRG9JJfoQEeVNdq0L87BgRQRgE-x8dqE4C80ZCFcrUZD6YGYMtm4Dl9D78xAODCQLc9C2QDCtkjC4wLD5AyCxBtUysaC6DGs5CND0dQBnAdRUITtuDsZdAohXg1DZJDAUQ5UchogwiMwMZgkL4VCwRpCIE1dvCIc29-CaCN1n5L4Qiwj0jDAAAefI2Il4DAh7XIzddNMEJkAAFSyCUjyH5FAE7icBpj5D-kQS6BfiZFAAAGo08scwgIhohsVLIijBiHRmRpi3czBRjIgogJjKiIdqi8jajVAGimj8B5AgU2i2UOipYuiEFZBeiHQ5iidFjxj8BJivDDAhioD+ihj5i+RwgliVj4jR5WDv5qBf5-5zcgE1d31Ag4Id4ZAshVIuC0E4I2twjsgMirMNVHZCt4SIc3cJESEISuEmciczAKDqAqCu4RCUcSc3cX41dkRURIwijXiL5IwvjXiKS-MiI0SMYng4wvjIc5MuN+Ud4qS5UBDswhD3Dn9gCgMtUc8M1gSHQ-lMhWhQBtJS1ShptoMJS0gyNHCEtJMENHDVAdNkTcI4THDdCTCbCMdMcTTqEzTCRSJGg9My0jDwTfioTONDMO4ZkFcACZSMwQTzAwSsSXT9TAiYTSY4T0iFCIcYsggUTnY2T1julIlsTVJ5iCSiTRTRDjQyS7UKS5CBTjDaSWsL4loEMGSfCMwEzGhmS8hWSiiOTwIuT0sk1eTcV+Soi0RBDNZhDXVMyAYQlNiZTfliB5SjFFT7MYU2iZkwpuT9Nk01TjVNSZDtShM9SDSQlgJjSdD0ibSnCLSWsrTq0dy7SVSNgHSockygyWDcAwAJ4mBWAg9OAF5eAMBJD4DaVCViVGVDpVUHYE8A559hBmQCV6Vq92QtDQBgLPzJBCUM4il1lyVfyeDWSxUGwyNIKGURVDoAdbwP4cZ5QoDzB5RNU1VcKwDowCKzBoxiK9ycZkiKKIKQRGBqLSL6QmR1x6L1xmLSgcZyhnYoDeLKhaoSLuKwD0o6AM4lB+QoCxKJLWjlxhLQkwDaiKLaiNUFKggcZlJXg1FnA6APMtKXgdKGBGh1LAgcYBj6LzA89QB+RIj21IUhi5LTLzAcYoVLKzBrLbKHNIVYUnKaKwD3Mng0hPK7LQBIVHMbKzBnKzAcZgB3LcUcwngvKkR7LQAwA-KWK7gmQABSeKkK7y0AbKyK0AaKwHViqIyy-KlKsK-M2y-y1igAQhREqsSpstCshSarlTqsyq2OKLytauStStKLMG6pEtYuKKRHcqqqGrlTavqqytbX6qSvatAHbRGtKpxlbUmqCsCGmpqq2vWvmq2IavipqsCGqrMAavMDjw-k5DQrpSgprnSORDQVs3lCeHQtAswqbBVnuo-IwprmoGcAACtS9HtXqVJmUHNaKHqGUoDEpPU9yghPqSUJ5OQsA-qQKSVJU8hZYEtbwcZvcugoCiaWhSq8SzKwDIBiA405ApKgrqbaatZyaKaYqwCDLJBYBIAKKOauaWbWbNLTxDKABReijm4W-mimnGAAOSUGlvitlulsrKJzuu+wgthq+pxtVy8JesaFs1IAc0jFIDVXVv+s1u+1xt+rVpRveC1uk2rV1tKH1sNoHn0jVA+o1uxotqlnRrghpRtu+q7EAoOKiHXCULaNOO1kiEkHKUYGkH5CWMkGBqUHmF8wiE1lxNtQDpgpyFdHgpIElqCE7jDr6CCH1x8y2H-hJK8nDtcN1Wrs6Ty1KyMVUADqeq8KeFeNNqxttu9qw3uKRtKGbu6DbsVSBtBooHxy7oDrtqsMLvMCFKywzPdSchyClSFNDqBvKgbr0ASxLL-mXproGGvIIH9zvJng4Hnm4EwFfKOj0GUAoEkC+jCGUWUkYF9h3EoD3ByHDt4pcDcBII7C-v3CcLVDQXpNdpdjUE-u-tAYeIdEkGeLeLGOWNuIgkgcqN3BAYTDQRfkAawZ-vAuqGUh1l8TL31hQaRKpWRVIFICcBNiGjUnRVodCoYCGOV1ofzKZH6Ivm4eWSeOmKUBYcHs1W4cJneOiD7VYJIAkiWgoaWNZXZUUZjuIFkacOMBYWswBGuKiGmKZC2OmOIdoiWjIa6FUFs1oRkY7CWkUYmz0f0CZDMLsCsYo3eCmBYGVzZV-uNlNk7mqN4cKyZFwcBFvD8dAChDsR41RLjD8eqmMJia8cME6odDPg5HAdxUjDCfbKZFScSOgNoHCCEYQ2fp-Dft9j8az1gzUVOJXSLDCYic1XxElDwXZ2l1icrN4YMaGJcaWg+EUA8cybZRoUSfgejX6KQfNzATfhaYEnrk8a+FGdEYuO6dUesbcf6fQcTnAgxXmZgkGLGYccqZ6aWDYtuCgK7VAGOb6cYBYDAarMBGSN2fSeOa2LoqeFvEGa+HrMIliaeCufceqJiQkZiAqfqSZAAHIkGW1HjIXgmdGVi-GnHLnVnXGn7FhGBLIvoMXvGnZTZCR-6wRIwsXRrWayqsq8gWgni+EnjAU3RS5dRFA6WsCTYwK7nEyXmiX0W6rnhwJiWTb-n+nAXkW1HNnug+Xvm1BxXhW1m0XFBbKf8tRk7U7SB077aaNaVvY659S8wcX1FkEsI0J-GyWti9XNEoCZnKp8hDWRGghbMlWdQVXKBNYLcNWfpdRbHtXNAcH7mmmlhDX0mcZUnCY5DNJwFJRDWhW0IFXeRiXXWtXDXwt+V4FEF9WrWdWUN8mJxT7DoFcEs0FJmtIIELWOc02vWZzM2wh1bNWGXaQMUEtbNY38xq38cdmI2myJNFVKTsm6L0nHnIwm23Wlpa2hmTbEoB265rgMVvXcls2mxc3sn2Le3mBB3J2hngn26-wuH7W06nW1XIDe3GLmU53gS8s7WU6HXVWXXx33WQ6a102hXHmN3AwPbm3V32VuTVSYMonOD03FMu8wCg2+QQ2pmf2y2ps5y-3cIo3Tzy6tQC0-WdXGC+xHn-X6lIxUOZ3Ni0Is1-lAUQVi9ZneR4OcDeQYDUsE2gi84gRD2MPN1mCdXgmsO8wcOc18Opd65M2w09LnDkUGXGAfwTlXA1EWg2heDEPKPFZ+RuFPXIjURHQ+O3QkW4Ra2FPlFwkKOtHyx8IyPMk22yI8AZFEIMQQGPqp02jRyrhyAT6p57zSAXgVIphQBnpcUlp2Znow8w8H5WCnRvZVBEZ+QK8jw+EWgqHzyBK1BK9guEj09kW2g40uhKnyYsp-PdJQJIxIvGAQvp2Yv0ugvMvouNUStdRfOUueXCIMusuePmjEZjOchVAhc1bwdavaNjWmRHNzgQH3NuTRIf4-4-P5BtYeAnh-PJB9poy4tCBnAOucgEsfPSB+vBuJXUdBpjlYHjy0gItmgjEKlzM6BJvpvQHoyjDSamzCMIP1SggyMKvZviv5uRv+Alu9upu1vy3vUE9SbWc8uyaMTYuduEvMcX44wKvXvQAzzQeNgUp6BGWFvJAhvQB7vIzFgM3Ys1anuDubu6ASuBvYelumuDv1uygk2tu4vKk1J9uXujvzASyMRCI8fYGbXapHnbwRu4fHmEfQBSCGeTU4w6fsGCfZziN5yNUruvuMesftYHuyu1A0eXvTvCeqmPvgeM3NkghqeWZyeTPtk8THm2fsfJfRMuenV1fnu+fOQVfP2LvGg1fwIKvEenC5f9NdMYPQTSYZLTw7PzHkfG0uHfj-ignbUv5evNBislIuHIglp+P-e7UL5w-GXCds9c8WAWO8O7BDPNEi0eWQHlTCNNP4IJBgRyA7PUK1a0+BPYH62lAauDv6uBgyNLOEtS-lFq+2Kg+3w0KzO5VG-Hxm-Y-I-fbSZ+tFF0pohMHgGcg7fw7HmYGTOOeUJwKh-E7p+6uF-ohw7IwV+vgkWN+ACN-w64xd+t-Ihh+u5o69Sl+dImAbCkPJzMf5vz+nhHDwK67uh7-Z+aMH-9Dr-HnB+j+ljR-6e3+SPD-jYWjZvkdwMna-nPlvDYcUm9eNWBOFxpf19kMAxwn82HIBZdUO4SQPZyMQ5BGA4qbqFwiwTicWyPGcARG0p4o8s2G-C7L-2oKn8ZCnrYAbaQd7UNAQH3Xfj9xIAjlaQWAnAS0DwFMDL+tpckvk00CWRt+QCXfiD0-abdqOqhCgZbzYGPMNA4g0VjJxNqqDLI9HMtjIPO7iYoOeYOXmDzB7AQtBMnUAaCnCC5AWA1TbhLqjaDth+QZjOgHD0cGSVrgdAMbhJ1fhxlXBRrdwc4NpBeD6uwTPtkLCmiG9cUrDawQSDsFuFAhLg2IbYJZiRCu6RORIcEP2jgVIgUwHICnXeCZC1IbgyDB4KyE4tUS-g9JpkNCD8BQh9zcIfhH8FRD6uDmXIYoHyEkoihNQkIfPQ1StDqqoxGwTT2l5TRvisJZIaSnbBoxIawdULk3HwDTCdU7kSwASAobDDbMcw0eHBEWGnhlhQwtYQcNuaQCfG0vZIUa0KzBN2hcdXIF0NKFBDM6tUGkucIZ4DD20uw8gPsOSHrC4hSsVYbc3GEDocwCOaCmKEWi3ACCQDAATRFHCP9TsatGgXKm34MCIEr-R-p7lnzE8-u3QTgTF2f7-8Z+MI5gU4UqYF8LokgLSh70kFK5d+TwIkcIPt6wdeQZIm9BSPd4VEC+dI08MSPDpalsm+AKsMTWGKbomQAopUMTUY6rQsonI+CKeEMDpMtSdhGdiEHAEF95RDyYEW4WxSnIIRxoGUfSMf5XCpAOvOUeE2hD4pD2MIo1iyNsBsjC+FROMGqKiHLg4wVo50Y0BtFIRKRFRftnKPdFE5Iwbo9Ibakf5CtRRgoylpYL5BLE16j4I4bHkn6HtWqbwxUs7Cq52cjwUcSrE6EZZ1NVOtAJ4I225GgBY2cI1NGRm9E7Q9ukaBLJ6LtEe8ixo4HMfx3GCd1SWJqUsaYVz6ViI0sqOTmKJyCUt0mlw+5kSVjFrZvhPYjCAGijGEBemR-XMK3VNE+DIswLdQWqKq6WcVhNghbnD387eCNgcWBLJZ13HDcBud+XPiEA+5ywCszsZZHQCjELicwkgEbqKCXF9kqBlbfzgll9EGAMRqBcAf50MC8NUmyyfzg2DXqgB6iAACWFqSAAAguAHADC0AASvUUgAAB5aWsgDlQSFWCuxe0WonzH0B3xF0HkdfznHvAnxpEm9Eay3FPjJ2xEuSJ6KFZbiVA0yCPriAfGqxRYbEyoERM4m1Zw6MEuCYhOQloTMJ2EpFvRO245hGJgk7rDRNsDh0tx8Yp8S+Ox5viWJ9LBScQChRHC4BosONCp10nMS9hN6ciT4KOFTDTwtmNTDCKcBtpCcGYn2GoiQjNiuwDkpPgxU+EWSGRfQgiXZwEm5jFJnonkavSsAWAWW8iEgI5zlQAAGY+nBASBAoxo0U01j+EoDdBac0UjQLFMUAJZJ0B4PKUASYpDEeA-4gEEVN7r5TGASLfrClOQgEMkCUImftVLsHlxMpZNL-oexyZQFHm7UjKcoiylLdz+k2JkZFF0BsgmpY-DCNBXyDVSGuWbQaTU1TbQUWg4hPYmlIPBDTHwWUmvhD1JjWD3gQKFQL7A06zYE85AxDktmq7vBGp5-IQStJTaaJ1pytAxChwY4aokih7Y6ZIFOnSBfY6HdNv6OeCWATpZ01khG3ekEdds9hcGf9MhmLSoxbQewSFxFClsFCzUyyYdNFh-SAZ50r3nIPIFiYNU3GJLtA1anj9t4pM21MBHCCLBWBZ3QXpQMu4IjaBO6egUhFXI8imZMZd7tt3i44jlaMXAUVBnSGA8EZBM1QNSMZzOB+eJ5FhBbwMGYj5BYIdRr1gvj4zIZ6HClH4DBnyAIZgMqGWyxNQvwxZS0Ywc7zYHazjZhrKMc-1BFAhCSeoEBgSOpm+l-J8I6gXQN0ZIjfZ800lIwLRFdj0g-KK6leMFmk9pB0ZYCCQAmL1iKissgTLSOFGktPZ6ItObIKJ5NTVigGPEngEcxFzSMCI32RzOP6Byz+KgXmWgmAgRysRQsmWb7JFk7JkWCc70e7J0jBiggyc2HM3NBmmp9CIffEa-wzmhyIMCmbjKjLKycJ8gnskOTYXpiFzi5l0xSOGPFGRjTy+g1eZSBHlUyL+Y8kATB3dJah45txROa3VZ6S8yxufPkf2IjFR8RRA4iUfcwpmXyPq+0BUTISNG5zNAU0NOZ-GLwgjtR2gQsG7L-kfyeRP81UWN3SaOyQFLsygOAsl4QKvZaVMAEXMcw-yde-8qEA80PaaBP59SM+drA7mOi0heJR0ftAHlmASFF8-thQvbGlB+21C7ucuFDHBN15g4xxhNORSR01E20pYNVMLFctqOvk2wCIrlZByr+5YtWm2GTyCLCpU0ywufykCRBWcLLbkmRjoW9i82mqOhR3MbFkTu544NsHONij5CkIi0mhYEE7FHzjuxABObov5EPzhxzsRjvbneDEsNFB4cJPIsqzWLesY4qwHGO+E6Lpxkab4pBJEmSAUJPyAADLC0cJqYyoElNJiBTDK1UsyeIpZReyfBlE+aW0BzBKTiAdEqwIUtzDXAslJS1ieUvYmCK5I4FPiTMGqXCTYJsShJUkuknlKGJtIapSxOv7WTh6jwkJKpO+HqTXxE0bSd3PAIst9JyQjkIbzGX-CtigHWZTkHmX-COQVXGlP0vMkSK8lufayR8LskmpqpDmQnDSlojVSfFF-MKf5MN4ZKGlJS8KVGL1BxADw3ioxX5JNJHDw6xy6YactKB8j20xqIZQggSH3CzGvWYycFJbGKTvlByx-s6JTG7KWWckRFbktDFI1fl5wh2Z4tlYYtVAxLYkduIJBLTK2y0YQMeKsBRgpOSwKVkyBhyEqpK3JR2B9ypUF08m7y2CiyuJVctSVfyyppyq0RAFMkUrXFf8Kq4hAnxsDd8Tix0bri5RcTFUR2CVUjw3lvCSwHCsylIRqJHk8YOKjkGyq3ZBq2gLTI1Jq1vxcqCZZpImhmrSlcvMjHQxzx+gHVZKtgEiHmLLKdxpXeTrpM2U2Ds+yNKdAtx0khS9JBkhno8wdVPAUxLqywFOHdV-KP228stGPh8xar3g7U6OtRMWnezK2nohLKYszBzNkZH6HOSarq4sSveZGa1eIFkkaTtYWk-ZY6pLlZsE1fodqUcMdotYfVawv1dVMDUEhg1gQTQKGsHVzKo1xqAaSyzjWhVO1U4btecNTUszU0BmW+m0RE6CKRQ-CB1crmIk4sblDq9UYmWU6CKD1ukoVuev3UnqlO2629YespRhA+E7wd1bmtkmXqI1WikvtIBMkRqAcMSsSahPQlYTwAsmIDUhJA2STklMa4ifOoczZB-18K+gGytwhMg-iPCjNVqHPU3L81qaF9dqpzV6rP15awIGRiQ0NKEsMSuJYkvA0bAaNnS2DYe2EXRDENf6hpWhrXmYbHxUgJeuOGBpMpa0FQuMsJqRY6lDEgmkQJ63mH9x8IYmniezGGySacQd7TQLJtwg6CpG70YUl2WnASApNTYGTSJtNgKbsN1cITGJUM13BhN1-YGepvArKarNqm4zdfy03gUEgUQEKLSG8W2afB9m7TaTG3aOtnWI4VzUYHWBGEAt6Y2gMDWoDqKBNqmwVecJOG6aCkiW78hlsnpGtJVNg4JgJvi0LSMICGLLWNlK3slbczK7xRJtK2AFrNFWlXkTly3kqnI468lkYieJVauWUBArZEH76iwrNhW1QM5pED45mtxwlcXxpFIjajNM2gDG4sqBXDSpnQwoVCu6BqYutcrOrFzDm3DaDNqmk2uNpIqNa2N1VQbeoqc37bRte2ugPVuO1Y4jtiYNrVsWpbMhNtGLaSgZsK39b2YnmoaA6gZEer-lkwk5ZDTUwgqtepQcLvqQJXeK-tZePlVOxsUtZglvCCcSstDGsJJkqO0JRjqHksI2E22Z2GQhO1HasQz2lkNQCZZMrYd3WzzPIC80KAftZOOSXQ2QEkCnSnioQRvW-h+EZgO9P8bwtADBbL2QCAHUdpYgbkQdgKsHSEgh39lWdU6JYOH0nBUAhorxEXbu3kTDx5m7JBkTQowIP87K6QzYrMDbFMLZSuHXND5Nn5MUJyzxRZATqCBMhNdzrW+Nso6bRjog44j1UeUqaFYbWZOrkBTtd17sCYDod7fTWF3nsd2buufsfQrEQp9N4lJwQlgACcAwOCDJScG+75hWe-PjnusmHwwQYQTzETJzmVCR40ZbObijsDtl4pXvQINnskqqBwW4LZkGgE72jqJ5M2EJM3ssjPCFZaQfvR6ugpTAfhKQ8CGEBNp2BYUR+J3o7yb0F7JKo+4vUw2aLPj+9Oy6QKdP5DAxJ0yug0K+uS1Srr+428naGsdA77JK++yAm9tp1ytzm1+vfVHiR5pLRY17KQN4siBtbNcigTIHqGZoFqpUy0BLI22XZasRWP+szo8T6DbLZM3Ga6IwAAN01QAyTXGOKL0ALgLu-erYjClhSf6SxXLBtW1rMD4H3QAC8wLgauZfL6woPc7mD24zurBOb6kTmY2WgWqi6269qXIlvUPriJV2TFkPq-ZIGUDWsNA3Jz1AxE3Qjeqg8vsshMh8DE5B1VutE5FolDFBi3iYLTXD75DeBpQ7CmJbSpI0DAAwzCm71mAR98YsFZMKBUmp5dmOGg1yxGVY4VdiAoaMtGJFxqzdBAUKswmdGR7iVhMGMSEvR07jCsMEXbCfIs31Y8gdAIFG4GgMfiK2IBsA6Is-1LjXGeKVRjAYdBwGCei5NkADkCOeGvdodUI77oiNcbUCqJRwgVxFGApmi9opYrKPOBBMWEL8Jw1trcN6AkBDK1LvhDqMm1DdvhhzMwl40XqT1qW-8qE3g3MscgJHWaLQDMVlrNFdmjBotMc3RTwk+Gy8acNZJA9NFpsoIMtlYoqBd9t+sCsE0SiHHCGrWiA7qD5XgsPJqgJhQAB0sAx6iFbqhOT4A+EHjAPTZWWoUpbU7eh0KIcJJgUBgn+p4y8feOfGWWyub47SF+P-GlxqhQgJrhNoBcGKGJp4AAC93aZgD40XWRMqJSUaJnwzicJMgmnUYJ7cP-shNvglkIwITHEYSNghnjZJ1Ezc08rvMwCSgJ4s4CeKkAnilLNUOC05B4AYT3irk2jPJN-HeTA1fk2caFMimxT2y+k+6CAA')">function is_rule(assertion) {
    return is_tagged_list(assertion, "rule");
}
function conclusion(rule) {
    return head(tail(rule));
}
function rule_body(rule) {
    return is_null(tail(tail(rule)))
        ? list("always_true")
        : head(tail(tail(rule)));
}
</pre></div></div></td></tr></table>
    </p></div>
    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	<div class='permalink'>
<a name='p45' class='permalink'></a><p>
	  
	  
	  <kbd>Query-driver-loop</kbd>
	  (section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query-syntax-process</kbd>
	  to transform pattern variables in the expression, which
	  have the form <kbd>?symbol</kbd>,
	  into the internal format <kbd>(? symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>(job ?x ?y)</kbd> is actually represented
	  internally by the system as
	  <kbd>(job (? x) (? y))</kbd>. This increases the
	  efficiency of query processing, since it means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>car</kbd> of the expression is the
	  symbol <kbd>?</kbd>, rather than having to extract
	  characters from the symbol. The syntax transformation is accomplished
	  by the following procedure:<a class='superscript' id='footnote-link-2' href='#footnote-2'style="color:green">[2]</a>
          
	  <div class='snippet' id='javascript_95_38_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (query-syntax-process exp)
  (map-over-symbols expand-question-mark exp))

(define (map-over-symbols proc exp)
  (cond ((pair? exp)
         (cons (map-over-symbols proc (car exp))
               (map-over-symbols proc (cdr exp))))
        ((symbol? exp) (proc exp))
        (else exp)))

(define (expand-question-mark symbol)
  (let ((chars (symbol->string symbol)))
    (if (string=? (substring chars 0 1) "?")
        (list '?
              (string->symbol
               (substring chars 1 (string-length chars))))
        symbol)))</pre></div></div>
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<div class='permalink'>
<a name='p46' class='permalink'></a><p>
	  
	  
	  The function <kbd>query_driver_loop</kbd>
	  (section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query_process</kbd>
	  to transform the tagged list representation of the query
	  formed by
	  <kbd>parse</kbd>
	  to a more concise tagged list
	  representation, where the tags represent the kinds
	  of queries described in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  Along the way, pattern variables in the expression, which
	  are identified using  <kbd>is_name</kbd>,
	  are converted into the internal format
	  <kbd>list("?", symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>job(x, y)</kbd> is actually represented
	  internally by the system as
	  <kbd>list("job", list("?", "x"), list("?", "y")))</kbd>.
	  This means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>head</kbd> of the expression is the
	  string <kbd>"?"</kbd>.
	  The syntax transformation is accomplished
	  by the following function:
	  <div class='snippet' id='javascript_95_39_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuTLiQA0oOQAFvKS51GGJoGW1rb2SSaJSURj3VYAMghoDeSm6u16oAAvCjnm8PhcDkJjqI7OUlCwlgiVkkfuY-ttAZ8ri0bmFweQngAiYgE+RM-pDbEicagOgATxc2Uk1HwklZhIZ3w2FIBsO650oVQ8JP0nMOo1xgKUdDolCixEJeilxhlWwBZwuNLpd2Jj1ATJ1eoNRvIHKxmt5Tv1hsSoUFmWVNVVpt+5rs8tUirUkejUrV6qOPLE3pdfvm0kWknkAA9NJZdeMTWSzLKI7kFSC1HG7V41Vikyc8VI2qRpEplLji2b-s2MZdrrJ6bXGQ6NPRznpJK3253xhzfP5Gk1+9ah7aVfamfMIkpnDlp-I2x2lLiFw1l5aB7T1wzmZ7aIfj3PaO6uQ+7DOT7j-UKg3tSVSMsYQrKMq1UWNwJHBNEw-UAvxfYg5gWd5c3zeRC1obtyXDEC4TApUCP-Xp6y5RstRCdsXBaJRszzAs9Sw6DQ1LXCrzXW47wdKjnBouj0Mw4g32GOCeL44FlEJKZf0DOhsNY3tQBYJRNFUAU-xFMUJXkJ5IMI6DSJEnFeTE2jMhafl5M2RS9OrKDNzrRNyN5EIy1Cc4FFdKzgPYwdOJHZk3LCU95FdYTnLENy0IYotmJLYDbPjBs4JCccWjkcYVCs6zKV8m9-Ic0cmTSjLaBUfiYtfYol2XKkrT84dCuZErcXK4LPMScK4JazKZnQ9LSBC7zcPXSRLHwLieFg4yxB6sqZnHOh5AAR0WY04qAkbbjG9ouP4abkx2Wh0tamYVCmVkqFmIlCulHDFNG8auIAZiclKpCW1bdFIJYwhYQD7tyqRqQau4-qKz61p+rqZrsZSAGt3kh77fvIf66DuhTKVvJlkbIdknnBjGPVhvkVqhpGPNCxI5PB75zE2mzQLjOmDqbAhQTCdyQq8onMZyuVQL5knDs2Ln2upvRabR8gMZYgW7BZmXiffUmQlCzRyH5UJyZRtTlf5nyHEISp9fRtmKKkdtxap3mDflo3xRNuzCL5t61akfdqFIeHssdkH8sa4Mty9n2YdF0P4ckczLI2sMmfwmtbvd0WQhUzRZEGrs46xi1gfqwON2DvRmXTzPT3nC3eQ-CqMMY-Ic4VvDK305ORfZjsolrwS5MbhLmfApPi4MQzuXZgArJR5joUgIk15DM3efNvbr1Q0P5pu080DPKCzot142QIAH5QBxsvd4r18nhr6K6-3vN9AeQ-auU1TJ+n2fKHnjMs2Xn7dSeJ3OS681TPzMAALkBNpNeD8wGgBPjjI+TJCYBmFKKcUbIYGaFAY0SBaEGx4A-AwfAzA2BQDgIgZA6A+A8DHlqeQP8hoBVALoWYhs2JWzkIoLK0E4FmAQVw6YC9FhSj4aASB+JJS8NqggrI8NCCaBksKH+v1UEzHQdA6CTxWH6DERIqQ5895MVumIk+ZdLIMIWENG+9E77GOHo-FhxA2FP1qo0Ua6CVFyU7t3euvdbraOcaAgAkBAwE1BNDcPINQRgkhqjOEiJfBuJiZEsMYQoVQESokxLiawBJl1xgfGoJIQxSSpSBLYXowEc1WTEVVKYtJ5Uak8Kak4yptV9EyAJLxWit9BKiNSQjd4H5VCmSBCeKSiglHSH8Q41xbiFlmDGTHcpbTdEdMBHjH6Azlwn0sTMLZv1db425h1KW8YKnrOXJ0jWWtTmSyLgBK5jQT6tHaJ0FoVSMjSG9r7aRuzGkzEjlxHRXypBBVtokHZLzAU7V7PcryzDQUbLToWNM60UkAv2SUtFvoMXD0uVgUJ4jAQ1wQmU6CxKzBEv4YCwg1jYZPhmNE3JE48jkCZas5F1zATkuzpimF2K+WxVady3BLDGDMDBMwpkABVYg8NiDUAAO52AFHoJQOZQAAFptV0pCuFCKdhzGqGEIAxgUQ5YlkoPgUAqgQj5koCwDK11JAjOEGqeWgMATmKBBEZ1V1hmw1NSQc1lrOTmEGCwmZ8hxC2vtVIBErQ3XBo9RvMwi1yBixNlmpE+qMk1xWR6+ZizS0sJzAoYgtJWGgloF5MRZblw1wkmyKYcli0NsbaUIBJau2lpvs42teK7hpojUER2bkVGqALDm55qTJ0oVZZWu4M7pAGE7SSt5HQEgtAGJG6NS0vVmEUFKkNxBmTysVSquwcEtaRJ1Xq8xb5I1kVEttTxKFgF5joJco9wFX6qE7siAAfPmpYndLnaO-Sndm2Lml1PtDor1-tGCEFeBY9JN0q2lVqX6roF8MlaLWXO0oezMPuGw6dVleNHm9EJW4vB5H4MlLXYoAp10uVBOSqTbFhyzay1-SWONdr1ZxDuXxt2R7vV2C3R8vd+75AxuEwmrpNseZQsk0J+OlJ9n0oLZzDlEs7bmweDo+TZgo2KcPVp8wmaOaMBtv9YRsa82dt09YgzCKNMG1M1xuBNqRPgvDM501nnwbOc9TZtIwEOgOcMzLZz5mgiWaU1F8duFePHO2RunCamzmy34xjXzbCkuBGGGV19pMPFihIKmHdqhtJWp7JSAD2kQMOgAFS1dxV0DryDQCNZg1qGeeQRRoaZd+cYsynleoCypvjBkpMZtoGEPkytkRky+icozNMpSlek4CW52sJMGxy-AgbzszuQPTroboI2kLUHG8KlboW4teeNG7XtfazD3bGxy579BVBncWUMnWW3tkFni+p85btSJlYPbGtLjsAfQoBbeAH0z4ydsgRUaQSXhgah4xmaOPyfYgqCV6uzMcNuR2jtQCye2Nh2dJyoBgebfuPf+0eWcSS5IxzHcticoBuvOh3Wz0+76aush690FnMyBdN3cxkmOUHK3VsHcwYdozvas6+99-Xwvpei66D+0AwODeNB0UN3k2KIXQ9oySQTzWASg4XYvIHZaldLCirY-pRGrfcdFtiuriLRUU6E3ZlRG2veAdxa6ZzviRVzLWUlur0yQsh79OpQMqyVGXKS8BFRgfYPE5R0i8PGw0-Z+UShVQGPq8Ia8E8c3pQY8Y5UYn+xTy9cW6CAH53Mmq3vJ3QQsARCmCsHYBQrg1C0DPToS5YGqH0OqBzBvR2mRsi5HyGvs3biT45gbXgyVMTV-Mk3zkPI5bIkUC6E8SwP1KDXRaOAw1cFQcjJbZMhzTwVdrOQ1tPSMVB4Mmh+MgsDl-lYIoKbn-mZqrKnImiAVWimodKauvhwquKDKas1EgbSGAVXGIM2hMlAQ5mgQAQ9NtE9PgE8FNO3FqIWvTpZPgOgRQVzFQU8PtHQdXIyjWprl5MweQdjJQbtNQaAK9MXlqK7sFlOuOMuiwUIUAW7osP1rIUUFwacEFvClOiovIXnJgYXKoHng6EoeyAQXYCYUulCjoYIYLInOBDodbmIN9D8nqNENmBrnWlCkhkJsBHGHAUZKLLFlzCQpgt4QPs3GvH5sMHZq8KhGJtrLwZ4XoBtrjgMEakpEoIjG6pJKon+Kbl4roXYMCKCGpGovkZ+mYUwGyNMu2jkfTAzNprYd0CEYSJUS0e8F4qanUWsA0QdnGO0Y4XYLmGru4bMEOrzGUU8BmDATqKhBXo0RMLoFEK8KUXkYYCiHmjkNECsdMSRmkCfMUWCB-jkasbJFMazo4s4LMaMXsUEJAlscsS8KcdkHLAADynxLE7EXEbp7In5ghMgAAqWQGRxA-IoAncTgNMfICiO8XQkCTIoAAA1HvvrmEBENEDapZA3nLMif1giciS3uYGiZEFEJiYYRcbcWkMfqeoCcCfgPIMquCRapCVLNCdvLIHCQ6EiSid9sSRifgFiWUYYLicyNyYST9uECSWSbsYMafHIgounlOg3k7oEHBKwjIFkKpGEY0HBPds8TMucfLktulopOUM7PqRjISXss4hqREh7hbs4dQK4V3IkVrlboSZAg3siKiJGNiZSYsifJGLseKSSnqSzEKU8HGDKfthZv5vGqwt6XmrEdmPEaMeMUUMaYECeqfsqQ6PKpkK0ANmyM+qUCltZp2nZu0RtkERyu0ZESVp2sBHqe0TUV0WyI-CGeYC2Z0QMQrhVv2QduqT8naf4QvimLioqbXrmRmCqV2TxjacOVqfMaULqYNPkNiYaU1gso7Ljhaf6aRm0raapOKY6c6WmXwV4UEvuVSXyGoomREX6S3ifEtBykGbrqABmNeaUJ6WuURHuZGfYRSTGaAFGnGXagmRsWiHEZrAkR4cOumq3n8fqResQAWVWkWYSA+uCXHp1H2QpqlhWStlmlWXmjWdkaEX5tubhM2Tka2QMT3l2t2Z+m2a0XhbGQObnEMQuZqfWU5IQrDMQqQlPpwFQrwBgGOX2I6gGk-kGqgR6g7BgQHDaGesyFJS6qYeoUUf6upZIE6hnA8mUvJfFLhIlGmg2HZmpYGigU2OLreGAjjPKP1uYPKIsh2aUDjNGE5WYNGK5T3jjIcV5aAIcb5fZZxEyOuIFeuCFe5WFWaZUP1nFdILVG5WkDjOlHQBnEoPyP1ulZlWCcuClUEDjNmYwF5SVQsoVYEDjMpK8CUs4HQMgjVS8HVQwI0JVeYDjIiYFeYGfqAPyOsaBlqsifle1UsmFdqt1WYL1f1e1lqnqiNX5WFX1k8GkNNQNaAFqh1n1WYKNRLkAcAJNXajmE8DNUiINaAGAAtaFUAQAKSHVrWzWgA3XbWgC7U4wbHdUPVnUbX3n9WLVAEACEKIn1x1fV61WqQNeaf111dwTIrx91oNp1517xZg0NMVQBrxSIk1X1yNeaYN-1sNwGCNJ14NoAoGqNb1YVwGWNK1gQONP11NFNBNqgTIANh1P1gQ31ZgAN5ga+YCnIFl2lVlNc2JyIcCAG8oTwllMl1luIKsgtTqOlNc1Azg48R4ssYtjQAGwg7W-lQtMl-WplJACYDFgQ0trqRCnIWACt0lrqma7KtlnEOMsmO6-WLtXQu1veHVYVkAxA26cg2VK1vt-tWsntXte1sNTVkgsAkAXlUdMdYdXt1Vp4zVAAooFVHanYnb3jjAAHJKC52HX5251fn64C1EVBX6121EXso1Ga2lAAakDtaRikCOLm3vD21Szl1C7t3UaTgcpeL11pCN3N0Dz6RqhS1V0d011d1pFwS+q93uqhpMlRDriFHgnsnayRCSBvKMDSD8gkmSDvw6ifyaz2mlq916U5CuiGXG2m3doWpr19BBCVaiwvkKmuleTr3DG3bnlJF3BnY3ZVqqCL2Mobk8nfa92d2GYRmAPby3YgNT2y2FIq1q0UCm6dlQMz0D0VH31BDJlHZ-3wUNg5BZrJmr0q3lSf2JAbbv2KLUPGhW38WHSCWT7kIiXcCYASWgCyHKAUCSBfRhCFLKSMC+w7iUB7g5Dr1mkuBuCJTiOSPyAJhwKBlj0uxqAKP7hKOeq4mSD4lrbomkkCkQRqPkm7haPKPiryMdgSMWOVHVDKQ6wtoKB3aSnRBbkHZKCkCkBOAmxDRqSALePrUMDImAbeP3lMgIknyRMkp4ncleOt14NuKROExuPhqaWG4SRLT6yGNhqm4+IkBZNKPGDBLhF8lRDclMgs3ckOO0RLTONdCqAAYFPEBFN5M6MOj6BMgZOFMdhLQfCKAsCAYWrSPGymydyUnRO45MhwKdK3gTOgBQhiIqa7lxgTPVQRFrMjOGCQ0OhIKTN2qRgLOQVMhIINony8NeMcqCM-giO+wTNH6BYlLskEZFgLNLOLKSJLA2ICT1zDNfA4KpJVP6O9MObvBTBDNHMWreLbPCkQPLgIn6MN6aQYKSg-OVT5DrNimLKIvcmgv9MQsmN2GERAL-MwRIkbocgzMMaZN9NLDhW3D9YQa0tgsDOMAsCAs3kOoghggPMwr4v0sBVPC3hQtfAAUkvbNPACtsscuzObJpNksqMOgADk+jQGuJqrcr5TZJEzPTrTdLAjiwjAlkX0xrozTspshIsjYIkYpraN4dZ8VaeJMSeJSqbopcuoig7rxhJsphnLQQry+rYLRL3QdrjicYYbUrQbBLgzlJkCArIbqgkbzw4Eyb0rYbEhvId6Sw68NhklPLWCBzkYB84qJVWCKFV6qq1+GLzw-IkS4c7Mqh5yubPhGBhxhbSrfhsCpbSFaEFbSqVbfS9cPDtAy6DVspToXrhSLKrgJSLQbQ3QLb4R2bhbETk7jAboGTcItI67P4KyS7CxERTbBWICo+oAWSiEGIWjUtaG4J6FVw5AuAY+QlpALwKkUwYhdqS07Mz0c+c+ui6RTo3sqgiM-I9+R4MSLQHjnFUC5pD+kHlp++hubQ26XQjz5MWUoHukoEkY8HjAUHljCyqj+EeHBHG612uowHWHKbhEpHGMspoO5wWjqgG8zOOuzKijG2OMHWTHOQfWCuok8pqkoHkgPATwIn+0xpdmdAhAzgvHLm2FdAVH8g2sYnNHagcuV7UjbFymIQ7td2sn8nkWjZuE+nwFZZiOhFQupHG2QHpAIHKnkg-A4ragMncnijcObijs+n06EH+Hpd+xyHw+aH32kCcYpHOn5WL6qpas9AXrDnqn4njnznH5KECFguq2bn8ntnlH9nInancYmnRnOnc2enQ+qHBn7ndjmZRJVgGIhERXijSTy47bt4+XUtBbEnhpiwE9nZgQhX7HWn2jkXCONXGXWaNneadnCXTnLnakhnHnOn6Q8aZXKHHyvnGg-nCFVKQQL59XrnC317NKFu7b7bXXqXi82d32LMh32nnIO3FnY3u3dX4XfnLQ3XSjwFHFyWGwUXZgcEuVp4r7TT6XTcbAJzw58img1Lpasi1AUPV2SkETkQS0G7MPZaJ8KPXr5u1Jp+LA-b1657kSiEWF8nJZ7FB2gP5Ar75lFdF7SSQ3G2jHijLHAwdmD7G29PP48nLNkPCib4Flt7eaXP07LPTIWPaPVt7+mR7w+S6U0QZjtjOQH3697bmjyvF3PXGTcvh96vSwOv0Q69kYBvXw2vkQ8vXcU6Jv69cY1vZv2Gbh29dZev183Rrbik03LvVRrRGTP9wDXvRhAxebQVBboOJvivTXmvSjrv7ZmbGhyEYIB7B2eUylfbezb+sXwUegEjGSaf7RUbaFtIO4kgb7VaOQjAG83UESFiD8xppXUgO4hboPgQVO5vJJNObfjvSEdZefdRX3yfzQ5X631vVphuhfCfJfeQLQ5f5b3vSjHpI7mglkJvIW1vI3Vmsa9f4yJRICT3wE7bGgS-ibICTwh-lkXb2CnnaQj3aWh7+CcCf3IF4RZ-hbcfaq4QuQLAzzkSyBbQ7Y-IjTOgGpz-5ZVrgdASTu7yBgWtXOU0JViAIAG0hwBLHOVu219JTRmuU1YJh-wJDf9f68AwAdgK-4sx0BfXfXPgMQH7RKikQKYJfldTkC1IwAxTKAIoHmtdyQAg5uQNCD8BkB4qVAULBIFloWO7WagYoFoHvB6BnApAVd0WRCDvqaJT-vtwYEJg3+BjBQfgHbBowVIKlPkOvXUGnhK07kSwASByYKDtay9ejhkz0HkADB8g4wbYI5bB9EqJggkAc1xxysRBe9XIHQKYEIDz6y4X0oQKu6yDQMVgmwYQOcFEDwI9g5Qa-VgwVpf6NqajLcCsI2NI+NEUcEHwjwV0TeHfB3l3Cd4nEveAxAvBgR84j8kOfvboF73SEx9WijzYENYLYySAaqwPFflb075it4Ip4WoZ91iFagGhF0ZoUDyeINCngNQufroJyIRN8AVYLoAiSVZMgZhSoOYXKww5qBRhXQpIEqyrLUpxUIQRvg0MMBKtKhulMUItGSHGgNh4wgYu4KkCndTwhgKEICHbbpCDmAwpoS0KeJxhDhGA2qHGFeG-CWu+gj4cMMTY-DSBpaSMACIhGLJeycrRYbMJaDdM+hvIZ0qQ0fD2DV8qvAtqDWCEXZKgspV9keCjijZd2bzT1hu3GBPA7W4yUcDSMyFM4K6nwnaDJzXQbZ3htgIYdTyeI0iNhZI2gM3nDqlp6RffcIsyNXS5pUQCI5YUiKVZuDxUaIqwBiPCHiiMIs6FQYQH6bm9cwIDB4Y4I+gKtIwhw2Ug+0MGf8EuanUDhAMZFC5xcD7C0Ul35CcFwiq3YLndkMAnxccoZFQdqJzCSAROooXUQDFswV1QOG2I0Q8JKGmkG+HYBLh6PT4kpQOJDKwKAABIAAJVOpIAACC4AcAKnQABKAJSAAAHlc6yAPNKkW4b0luROKVHnLSDEXQeh69TUe8F9ENi2MBzU0b6OuD8jAcHI4gHG1ACmiVAZ0CkXLQybDjKgtYqdi9nXrpjMxOYvMYWJLFliJxdXbsTuzHFTZ2xtgdeqaMxG+j-RjnQMf2McSOgtxtAbVPYIz6BFze04ykS9n7FNjg+9gt1BoIAw5Z0hTgEDObiJE+wSkSEXsXXlPBOAOujQ2wE2IwHVjX294+sU+ImFORSGFgX1rkhIAfs80AABjnqkwEgyqMaChNKQ-hKA3QdfChI0BoTFAG2VDAeHIl6BKJyJHgFGMpDUTp6FExgBk1By4SE+SvJYF7xYnf9y4REloNiJKKnN+s7bfiYRMKTES5uevGIYTlFiWBtI3ExRlIEiDTpfWrHCupJJeZGIkIxElIgyXwkHgpJj4Yiazw2C3pLA7wZVCoF9hJ9osGBRvrm07QnxOJRkvXrPx0k7w9JulYSdjmeEFsS2SHdth-xsl2Tj+D8aQWkDCmSBbJ0gX2Bf0I4bJ7+33XwtZLikRSWJspNoD-yg4ih8gafIoW70smkxYp8U+yaDy37OTjOCyObGsIj7XsWEtUstOlMWD98LMo3W-qUCpy5CLeulbvicR0gTCOpJpKAWUIC4AoZhMaPrmFwykVTVAbQ2vM4Cv7LhhgwSG-iZ2jHb9E+RwxtCfHKkRTi2nqPwM8HmkRS-C-rBZJAmmlLRzOv3ZdudISmv8URTheIcgUSHaBCwzHAPioGfFZChcOQvNCvwKGYJipsfDYHNh5quiKui0joS1McmKQSAmJLka0I6Gr94ZgooURdybHP1fuo3aqbGM-L1F9ceADrOTLgSt88hfUw+qDMlAzkRpcCYCNDMH5rd6s5Q2HobhRmfDGpyvGEeYCWnu5regI2EXUUR6VDeZw0hmcUPxkb9lMuU27FICwgMzwZrFNYGTIpmNBgI0onIEiPxxdSmZGWd6VUNSFNTpZooirApPZjIyBSqMkYWp00ApcGRh7EilKKWG6z0eAbB0O7JWGltVoWUTQA7P2jbCcitwhPiAymjwtzAeyY2acKBBOk9QzHQOVLSdliy9hMYsEI7L2kHkThn0hOZQCTkpdk5EwswBrI6xhzTukcp4dyxKJZylWNs7WDzO+ECCDc3w-aCLKCANy7ZYIludjKCBGj25-MlcnUUHE6y5hPo8FL61jx1jxg5rJSvMwvHnofWOQBtlqHHBthNRRYbKcH0SjZTKi-ElZNvMgF6FVmg8cCHvIOZnxpAtk-kEvmUKDjEo4XTSaPEA6b0Skxk73L62pFGttY8EkUe2UpwV02w2+D+VRN0DVE9eak-INlKSx2Yu5EojbBui7k8zeRwIiCRCPXmZg-mwC0bNlI7mlB-5PvcIvArVFsiTmPs2UTCnlHfkwMhrRQJZAPmMF1Al+JCHguByKjokSETESQtZEjxkxWaecZIHzGyoAAMqnXLH4i8cVYqwDBJYlyR4Jzsg7C2IGltAcwO4gcUqy7FD4cw1wOReosHGTiZgeiyooYo-lyQ5xGYoRaIvEVriOUG4sxfopfGEDcBwDHLPuPCGHiAxE0U8fgrSBMgWJV4wgRyAwHuKjBQzMSYFF9aBKwlHICdm-L0UKKSph7V8VYI-GloWJ7Wc3L6logsSNJGvRJe2SgkyLmqCStBUvN7IqC9QcQA8HayTY-zaRjYufmaJcFOKwlb408GkuHlshMlCyV8UA1pD0Dgc26TcTPJeyoLwJ5SuooCLxG+o9F4yxpb2QYotlohKgr3HQuNZ1L6FPQ5pQ4IBmrZloOtPNPaJXbJsmQayu1uT03isy3RSbD1Ocz5BX13gtSu1tsuiGPMDlJACjGO02VmtXlgQieSotzAs9Dh+owwSSTBEPCNm+w2MRGL4WvT3+MSd4L2IGmAq1FvYjeFv19Es90VoPOzGGLzSeLjxE0dFcBTsw+NJUfoZFfYKHpdpQl5o6jueNGXEBoln-S5WbTQwJcPWTKllQSHAILJ22vYp4HiPJVKSOUVKwIQrk2mWz0iYQRFR-JRVtij5No1bP2I2yYLN5WEGBZDJW5QLVFwKspQjKCB4qVOG2QldrBPEGrSVQCmwKKvlXUqkQ4pOlcYIZUBLrxOnTQBypdVRLrxSTCSV-LtTrURVfofidEMlUGzpVgHedvKpyRAT0VoK3JXGqVbbsP508mcRovFTJrY1i8yopmsXmpqHxA4r1LKssCwTpJ+k7RfmtxAK47M2QEZWmvFyCLFxBYosaWPABJZG1uY5tSuIkUCrF5Qq9arWtLUrYFc2s+HsiICIdwo1uSpVYEGLXvB+J29RVZpNgV09pAtIORRtkEXCKxFbajYFuusU9qC2LE-te1kHVyKR1uEJkGOoBWENxw48YNGhGg5XLoBWCFWBOvoKeY71OIV9Ub1AiPr95GEDlF+pEBfpNAT63wuBH-UZNRMMFacBIHvWoF-1oK3clBvgLswyK6VBDRQB-U7y-10GDJpDjg10AsNJ7aDMHwv5vr0iCQKICFFpC1KkNx88sPhFQ3vreQx9GeHPCA2FQcNRgdYIe2Lb4b4VI7YgOPGoDqTgN6DP5WEvNa3raAJGkVCJpxCIcDyyywgXKzvViboFgG1lCRv8SKaQN0UrMphnWVMFP1cm79RJtlgdkduBuVTdJqcgerYaU-PEucp-kqE5NmmqXqTEw2aa688GpTVJs-4ybUymG4NKFoM1yjLsewuiZ4KnjiCfBjTHLK5voWvYuY4W7Delqs2BaXBT8GzQGvaw+b1JhGzLXJBK3Wb9cdmoLYmEc0s0XWzIZLcaxyrwbPN2E0WNRqGg9oml0Q1pWoPfFaCcsJFYDMd1KBOCGtlkdrS4xM3-MisQ83pSSXRFcLwhvZXRHlujkPLogC2nZSxXn7BJQkOOZ2LlrSCVaXBWIGrSyGoDeszlxmi5U8Am29D0iuYI8Ghhza19GNYGWfuQx+RXEZgDDAwCoPY2n0cG7uTrcdt2UBAmyzi1Jf1rcSDaG0j2nxhkhR790c+SwEMgDs425Jh402xxPnxDKGFr4A1PrmW1mBYzsZcqBVAOyKKnhUujALCviSJS7aggTIdHV-CB33yrpgXDhcqLCXbbry+2yoHg1B3VaOVzOqeCfQx0qIXN12tzU8BZ3fw0uaROzMpD9G5V-+G2AAJwDAAeEgPKltqfXa6Mq--HZbpSmD6xbtVUnVS+rCCGr4ccsubHYEgoYTm+5gVXVlVUDKtlWzINAN7rZX4VyyCyV3ZZACGrTGgge43YIgiGKDrdt2nVKAFoIP8HpgQMPa+Ij2m5ldRGvKhO2vlZU75SwH0Iiuy1g6XZtFewadpF0qAb5ueqXVYgUAmamW2e2+R8FQz3a4If8OuFNsiCOapiigTIHqFDqAKhcy0DbLyOYD-x5FdLe1K01va4k+gsSpLHNmuiMBe9AdUALs1xjLC9AC4NLIHpZq6o9Ube3UKADtbiAp9WaB9BNX6BRyzAO+9Nj-KTb1gQKXUx-nNmRUzskV87RpstBt3mBk1-EmNXmtzVMq6cDOL-SV3jSL7l9WsVfVKL1BbE3Qzu6-Trv-67699j6ReeCQ-0tBz9e+90I-rllGBH+Uq0oDvqZCoHdUR+n+dmjXQMAyDuqX3YgcN1ZUttnaV8Z0v7RTCzq4pW-SltIFI72UKOpNj0KFUk6CA61NhIZtoXPLCY82pUYtp5244YI+OITWRTyB0BlUbgTvWhi0mD7h99Sg-ePuDaaGs0M+ufcquIo5FxcY2wQ+ttXqyGttChi9dtN3LtFlNgXc7RkW5Ht90hSgGZsEnjbRsnld+vg9nyGjLRsO+EFw44nx2iH2s4hlQSPpXi6hV2QmLfqZMKlRSpMlZMBneVcyNBkWGiTBOizsTpHL++2QWokaWg7toWTPLQQkbH15Mm++2GLNkb-ARMAqSrPgfhH0M9joWjiRKN0aqPhoOdYSEWjkalERUOjo+uuD0ctRytRjrRk5nLrZ3sgOjBbeY4GF+EAYljCefQw0ZASDj226x7IJPQqMzGVYtupTFv2gS78bMwERBP1nyNaRQiUU-WfgefjARUpL6Q4Poam3Ktd2qgbGQAB0sACa+BsgRZT4AYkQzXHCdRJqeoy0nuh0BAadIaUsAPx2pX8bHEAmhRwJ0E3lKKRuooTuokooQCmKOIwOIfEk08AABeE9MwMCaCD9KCTkJ9ltEYpO0n4TXaRE9uB70om3wxKEYJ5lUPqGwQfxsE7SAhNEnEawrMKj4fPx4lSAeJJEWqGVacg8A6Ju-WKfxOSnWT0piOizTlMOhnACppU7Eu5PuggAA')">function query_process(exp) {
    if (is_application(exp)) {
      const function_symbol = 
        symbol_of_name(function_expression(exp));
      const processed_args = map(query_process, args(exp));
      return function_symbol === "pair"
        ? pair(head(processed_args), head(tail(processed_args)))
        : function_symbol === "list"
        ? processed_args
        : function_symbol === "javascript_value"
        ? pair(function_symbol,
               map(javascript_value_process, args(exp)))
        : pair(function_symbol, processed_args);
    } else if (is_name(exp)) {
      return list("?", symbol_of_name(exp));
    } else {
      return exp;
    }
}
</pre></div></div>
	  Exceptions to this processing are
	  <kbd>javascript_value</kbd>
	  syntactic forms. Since the instantiated
	  
	    <span style="color:green">syntax</span>
	    <span style="color:blue">tagged list representation</span>
	  
	  of the argument of
	  such a special form is passed to the
	  <kbd>evaluate</kbd>
	  function of section&nbsp;<REF NAME="sec:core-of-evaluator"><a class="superscript" id="4.4.4-sec-link-4.1.1" href="./4.1.1.html">4.1.1</a></REF>,
	  its applications and self-evaluating expressions remain intact,
	  and only its names are converted to pattern variables.
	  <div class='snippet' id='javascript_95_40_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuTLiQA0oOQAFvKS51GGJoGW1rb2SSaJSURj3VYAMghoDeSm6u16oAAvCjnm8PhcDkJjqI7OUlCwlgiVkkfuY-ttAZ8ri0bmFweQngAiYgE+RM-pDbEicagOgATxc2Uk1HwklZhIZ3w2FIBsO650oVQ8JP0nMOo1xgKUdDolCixEJeilxhlWwBZwuNLpd2Jj1ATJ1eoNRvIHKxmt5Tv1hsSoUFmWVNVVpt+5rs8tUirUkejUrV6qOPLE3pdfvm0kWknkAA9NJZdeMTWSzLKI7kFSC1HG7V41Vikyc8VI2qRpEplLji2b-s2MZdrrJ6bXGQ6NPRznpJK3253xhzfP5Gk1+9ah7aVfamfMIkpnDlp-I2x2lLiFw1l5aB7T1wzmZ7aIfj3PaO6uQ+7DOT7j-UKg3tSVSMsYQrKMq1UWNwJHBNEw-UAvxfYg5gWd5c3zeRC1obtyXDEC4TApUCP-Xp6y5RstRCdsXBaJRszzAs9Sw6DQ1LXCrzXW47wdKjnBouj0Mw4g32GOCeL44FlEJKZf0DOhsNY3tQBYJRNFUAU-xFMUJXkJ5IMI6DSJEnFeTE2jMhafl5M2RS9OrKDNzrRNyN5EIy1Cc4FFdKzgPYwdOJHZk3LCU95FdYTnLENy0IYotmJLYDbPjBs4JCccWjkcYVCs6zKV8m9-Ic0cmTSjLaBUfiYtfYol2XKkrT84dCuZErcXK4LPMScK4JazKZnQ9LSBC7zcPXSRLHwLieFg4yxB6sqZnHOh5AAR0WY04qAkbbjG9ouP4abkx2Wh0tamYVCmVkqFmIlCulHDFNG8auIAZiclKpCW1bdFIJYwhYQD7tyqRqQau4-qKz61p+rqZrsZSAGt3kh77fvIf66DuhTKVvJlkbIdknnBjGPVhvkVqhpGPNCxI5PB75zE2mzQLjOmDqbAhQTCdyQq8onMZyuVQL5knDs2Ln2upvRabR8gMZYgW7BZmXiffUmQlCzRyH5UJyZRtTlf5nyHEISp9fRtmKKkdtxap3mDflo3xRNuzCL5t61akfdqFIeHssdkH8sa4Mty9n2YdF0P4ckczLI2sMmfwmtbvd0WQhUzRZEGrs46xi1gfqwON2DvRmXTzPT3nC3eQ-CqMMY-Ic4VvDK305ORfZjsolrwS5MbhLmfApPi4MQycDwD8GHwZg2CgOBEGQdA+B4bl2fkDNCCGgLQF0WZDbYq25EULLoI2NIAH5QEmI+ZnXm7h-0U+ggALkBbSpUfwIL+kLJ4cITQZOFLfNSAZhSinFGyKUTwd4P1qi-NOmgM6UCzrFW6H9zAXzLpZNeCwho12inXFB98oHEF3g8NBtVRpgNvnJTu3d6691usQ3eD8ACQZg4FSGoJoI+5BqCMEkNUZwkQK5MVQbVC+2DMxDS4TwvhAjWBCMuuMD41BJBlyQSIhujDt4kJgcuDh8jiAnV6u-cR28MyGOMfNLi0DyGgAMaZOhhCAJ6MaBfBG7wPyqEcRJNk0l1KyUgXY2qaRHEx0gTo3ediDF4x+qY5cEiLGxN+rrfG3MOpS3jEw1xpQDEay1ukyWRcXF2Ivq0donQWjRMBJHeJbjzHlVqVvWxsDARBVtokOppREnlXaTzTpzTdHVLToWNM60xEJIaWdUZvpxnD2yVgNh9jAQ1wQpoqUSyzCLLMD0qRChVCrKPDMXhhjgpThnBElp+jARrOzhM+pkinyznWYMqJrTFDMDBFvJkABVYg8NiDUAAO52AFHoJQOZQAAFooVTI3gocKEU7CYIOSQJ4nc5YlkoPgUAqgQj5koCwDK11JBeOEGqeWgMASYKBBEIlV1PGw1RcQdFjAogq3MIMbe0glriBxXiqQCJWikqZeS-m5hFrkDFibKVSI4W4NhtHagFlmX6DISEjVpRcwKCMdmEhoJaBeWCZq2qNdfFSUUHJcl6qTW2sCBim1dq7V4P1cwWZdwxWcjSI7NyQCCwypyZM31KFDE6ruP66QBhjXLPKR0BILQBicu5byks5gPl8OZcyP5ALgV2Dglrbh0LYWYLfJysioltpUJQnJNCdBsmUqbspVSndkQAD55X7M7tkqBeYVYalJo8uarJiIknram-2jBCCvCwevTex1SrDtpV0DR+zoLZMDefDtN0jELvKotVJxTegLJCS-SR8Lt1WMXedRQSjrqXN0clAdSTUlxKJmOjY2LcXqziAU5JZtZYUtTfHSksbKmJqTfIHl8g+VfqtjqcghS7bm3FcBgEZ7cGcwQxLJDAGHjQPA2YLlkGU1oMlRzRgNt-rIUzNBuVxr0P7I6BRrDHTjR8zww+tBn6BU7V7NRxYBzMPuSo7fQDxrgJMcowh2+BGghEagw20owFHl-ujThG2-TMnsfw2g4YgRhj9tFpQsUJBUzxtUNpTFPZKRNos2yNtDoABUpmZldEc0yJ4lmU7szoINJC1Ap1PO-OMBh99KXcZCH+gyimzBkaJsiMmX00nYZplKWTqG+z5O1n+vmanQAXwqNIPLL9066G6L5vIIpAu3JC4J5jiHOlu0dU6wIFX-PVaOcF2gck8uao8TrJLcSCwsc07Lf9GMEyyfkyRxojsauiPvsar+nF5tIQCdkeMxqX6Fam+Wp9jTv4+xsboylZGY4JcjkqlV0FZNkcOyoBgcq2tVYQ6tuSMcvUSu61Klzzp42PcvpWkzrJXPdHuzyz7uc7AMaWDHHtOraQ7wNe67x3sHvNZa5jwIv2fRdDraAXrWPlzQO81qR5fSMmHtHZE8VwF+vBpo6oPLMPVBRXogQhbLj12PtFo8szXlXnirI7fBLLP+fphDfgwS97d6ybMwAm+KFVDi6nOtkdRQni32ybJ4CMm9u84sat47u9KXy7V-xpYq2FcRMJ1q2d+yre3ycZzo9tvbUk517hUD8aGzj1hpPae7A55cEXmgZ6K9LYfEndO1QOZaf7yVdkXI+Q48E5CRfHMwTT2ME+bH5kmQk95G3nmI8CgWhPEsD9Sg10WhP0RXBfrXjzVWEtU8OHNPKXARxkK3VH4PO9eb1MfH7edNGVToKjwwqyXx8UnlG0BzmqT977DcO7MzUngtRRg5M-sbbSevgJ4U125ahruE-AO+ASPV2gf0A+1j-V0VUjt1Xlz+d62lzffTxXo8-ZvT8MFv3A9Aig38HpOImQGdFgPNQBxww0q5TgpAIClhRMQCgZVxQZVAtcHREDV8tREDQ1OlkDx1cJEpRNSdeRvpv49Rog9VZhkcvJoEUCAQ4xR8kVyMuYp4IEGCiCE5ugWCyNXhUIf1tYn9DVEgEsdsI9eRG9JJfoQEeVNdq0L87BgRQRgE-x8dqE4C80ZCFcrUZD6YGYMtm4Dl9D78xAODCQLc9C2QDCtkjC4wLD5AyCxBtUysaC6DGs5CND0dQBnAdRUITtuDsZdAohXg1DZJDAUQ5UchogwiMwMZgkL4VCwRpCIE1dvCIc29-CaCN1n5L4Qiwj0jDAAAefI2Il4DAh7XIzddNMEJkAAFSyCUjyH5FAE7icBpj5D-kQS6BfiZFAAAGo08scwgIhohsVLIijBiHRmRpi3czBRjIgogJjKiIdqi8jajVAGimj8B5AgU2i2UOipYuiEFZBeiHQ5iidFjxj8BJivDDAhioD+ihj5i+RwgliVj4jR5WDv5qBf5-5zcgE1d31Ag4Id4ZAshVIuC0E4I2twjsgMirMNVHZCt4SIc3cJESEISuEmciczAKDqAqCu4RCUcSc3cX41dkRURIwijXiL5IwvjXiKS-MiI0SMYng4wvjIc5MuN+Ud4qS5UBDswhD3Dn9gCgMtUc8M1gSHQ-lMhWhQBtJS1ShptoMJS0gyNHCEtJMENHDVAdNkTcI4THDdCTCbCMdMcTTqEzTCRSJGg9My0jDwTfioTONDMO4ZkFcACZSMwQTzAwSsSXT9TAiYTSY4T0iFCIcYsggUTnY2T1julIlsTVJ5iCSiTRTRDjQyS7UKS5CBTjDaSWsL4loEMGSfCMwEzGhmS8hWSiiOTwIuT0sk1eTcV+Soi0RBDNZhDXVMyAYQlNiZTfliB5SjFFT7MYU2iZkwpuT9Nk01TjVNSZDtShM9SDSQlgJjSdD0ibSnCLSWsrTq0dy7SVSNgHSockygyWDcAwAJ4mBWAg9OAF5eAMBJD4DaVCViVGVDpVUHYE8A559hBmQCV6Vq92QtDQBgLPzJBCUM4il1lyVfyeDWSxUGwyNIKGURVDoAdbwP4cZ5QoDzB5RNU1VcKwDowCKzBoxiK9ycZkiKKIKQRGBqLSL6QmR1x6L1xmLSgcZyhnYoDeLKhaoSLuKwD0o6AM4lB+QoCxKJLWjlxhLQkwDaiKLaiNUFKggcZlJXg1FnA6APMtKXgdKGBGh1LAgcYBj6LzA89QB+RIj21IUhi5LTLzAcYoVLKzBrLbKHNIVYUnKaKwD3Mng0hPK7LQBIVHMbKzBnKzAcZgB3LcUcwngvKkR7LQAwA-KWK7gmQABSeKkK7y0AbKyK0AaKwHViqIyy-KlKsK-M2y-y1igAQhREqsSpstCshSarlTqsyq2OKLytauStStKLMG6pEtYuKKRHcqqqGrlTavqqytbX6qSvatAHbRGtKpxlbUmqCsCGmpqq2vWvmq2IavipqsCGqrMAavMDjw-k5DQrpSgprnSORDQVs3lCeHQtAswqbBVnuo-IwprmoGcAACtS9HtXqVJmUHNaKHqGUoDEpPU9yghPqSUJ5OQsA-qQKSVJU8hZYEtbwcZvcugoCiaWhSq8SzKwDIBiA405ApKgrqbaatZyaKaYqwCDLJBYBIAKKOauaWbWbNLTxDKABReijm4W-mimnGAAOSUGlvitlulsrKJzuu+wgthq+pxtVy8JesaFs1IAc0jFIDVXVv+s1u+1xt+rVpRveC1uk2rV1tKH1sNoHn0jVA+o1uxotqlnRrghpRtu+q7EAoOKiHXCULaNOO1kiEkHKUYGkH5CWMkGBqUHmF8wiE1lxNtQDpgpyFdHgpIElqCE7jDr6CCH1x8y2H-hJK8nDtcN1Wrs6Ty1KyMVUADqeq8KeFeNNqxttu9qw3uKRtKGbu6DbsVSBtBooHxy7oDrtqsMLvMCFKywzPdSchyClSFNDqBvKgbr0ASxLL-mXproGGvIIH9zvJng4Hnm4EwFfKOj0GUAoEkC+jCGUWUkYF9h3EoD3ByHDt4pcDcBII7C-v3CcLVDQXpNdpdjUE-u-tAYeIdEkGeLeLGOWNuIgkgcqN3BAYTDQRfkAawZ-vAuqGUh1l8TL31hQaRKpWRVIFICcBNiGjUnRVodCoYCGOV1ofzKZH6Ivm4eWSeOmKUBYcHs1W4cJneOiD7VYJIAkiWgoaWNZXZUUZjuIFkacOMBYWswBGuKiGmKZC2OmOIdoiWjIa6FUFs1oRkY7CWkUYmz0f0CZDMLsCsYo3eCmBYGVzZV-uNlNk7mqN4cKyZFwcBFvD8dAChDsR41RLjD8eqmMJia8cME6odDPg5HAdxUjDCfbKZFScSOgNoHCCEYQ2fp-Dft9j8az1gzUVOJXSLDCYic1XxElDwXZ2l1icrN4YMaGJcaWg+EUA8cybZRoUSfgejX6KQfNzATfhaYEnrk8a+FGdEYuO6dUesbcf6fQcTnAgxXmZgkGLGYccqZ6aWDYtuCgK7VAGOb6cYBYDAarMBGSN2fSeOa2LoqeFvEGa+HrMIliaeCufceqJiQkZiAqfqSZAAHIkGW1HjIXgmdGVi-GnHLnVnXGn7FhGBLIvoMXvGnZTZCR-6wRIwsXRrWayqsq8gWgni+EnjAU3RS5dRFA6WsCTYwK7nEyXmiX0W6rnhwJiWTb-n+nAXkW1HNnug+Xvm1BxXhW1m0XFBbKf8tRiXaVvY659S8xxUIspB1FkEsI0IxMNS1b26-wEs0FJmtIIEZnKp8g9WZz8mJx1aVWGXaQMUEtbMlX8xHX8cdmbWmyJNFVKTsm6L0nHnIwPWfonW1EhmTbEow265rgMUcH7mjXAwuH2Lg3mBw2lpnWhngnk3sguHk7U7SB077aaMgn6lHm83pARGghbNC2dRi3KBNYLdlXM3bG1XNBE3ckGLVCq2PbPX42o2ps5yYMonOD1WUMm4cZUnCY5DNJwFJQfXTyR2JTlM8xdt3StQC0lg9XGC+xHm9X0nIxD37nNi0Is1-lAUQVi9ZneRt2cDeQYDUtd2gi84gRGKO3-GeXCIT3u2z28wL2c1r2pd647Ww09LnDkUGXGAfwTlXA1EWg2heD1W93nh+RuFP2uGnRGXHHVZRY4RnXoOfxwkX2tHyx8In3Mkl3Dg8AZFEIMQQGPqp02jRyrhyAT6p57zSAXgVIphQBnpcUlp2Znow8w8H5WCnRvZVBEZ+QK8jw+EWgqHzyBK1BK8FOEj09kW2g40uhKnyYsoZPdJQJIw1PGBFOu3NOTP5OzONONUStdQpPDPv3VPrPzPIPmjEYGOchVAhc1bwcvPaMyWtjHNzgQH3NuTRIf4-5pP5BtYeAngZPJB9poy4tCBnBQucgEtJPSAYu4uJXUdBpjlYHjy0hNWVHtPKk1I0uMvQHoyjDSamzCMV2Fy1bTOWgsuHOcvEv+B8u6BqvivbXvUE9SbWdXPlb2WjEKl41yTnPRuNAzPBvQAzyluNgUp6BGXcvJB4vQBuvIzFhJ3Ys1a+v0vYGOu6BHPYutv8v-OauSuyh+UQgRvjvbuDuggSyMRCIbvYGa3apHnbxEvtvHndvQBSCfuTU4wvvsG7vZziN5yNUyM2uzuLvtYevZvnuBvGv7uqmRu2v9WghNk3urAPu1B0fGPtk8THmgfLvUfRMwenUWZ+uofOQCfVS6vSh3u4w2u9unDMf9NdNTzVvSYZLTxuPzHXu6dU2ovNBy2TUv4pfislIuHIgloYOZfbUL5lfGXCds9c8WBAOr27A6PNEi0eWQHlTCMyP4IJBgRyBuPUK1ajfYPTu5V+saufOBgyM2OEtHflE3e2Kpe3w0LmO5UffHw-fNfVffbSZ+tFF0pohMHgGchufw7HmYHGOQeUJwLY-E60-vPs-ohw7Ix8+vgkXi+ADi-w64wK-S-Ig4+u5o69Tc+dImAbDUPsuE-vuW-bSkW67ugm-uenhHCU+P2Y-a+liO-0-aeu+efy7I8dxMPX2+x-zbxz2Un681YJxcav79lV-HC-nhyAtdUdxJAeOjEchGBxVuouEsEUP1TR2Qh5+bW2fDv7Xi+Lsx-qCG+ZCO3B-TDxNhvJuOnboBXwxLIsRytIY-qfxaDn8f+0-cbmkBfgaBNAlkMvkAgr6LdWeZXA9hO2f5NxHmSAyyMewnZPACBrJG1hgOa6GlFIaETHst2W7ARSBerBVryFGK5AWA1TbhLqjaDth+QZjOgNt24GSVrgdAZLov1fhxl+BX7QQbwNpAiCfOwTENkLCmh09cUrDcIGwI4FuFpBfA9QQSGJ5qRlBXdInNoNkH7RwKkQKYDkBTrvATBBgp4CYNCCiDLeKnAwVIMgxCDTB8g+5ooPwiSCVBPnBzBYMUBWCSUtghwXIPnoaoAh1VVgXoJZhTRvisJXQewPwDtg0YkNYOkpybipDTwOqdyJYAJAUMNBtmTIaPDgg5DyAeQ2IR42qE4tUStQ9JoVmCZBC46uQUIe4JkGZ1aoNJZIYXWiHtoKhVQ5IUULiHgRahiQgdDmARzQUxQi0W4AQSAad8aIo4IfqdjVpv85UZfL-hAn75wDPcs+ZoIAMq4gDNOvfCfkn3ginhf+NhSpjbwuiSAtKovVAUrgr72Crhew2fryDuE3oHhIvCojbzeErD9CqHLUtk3wBVhiawxTdEyHBFKhiawTfTmoABGXCkg6TLUnYW7YP8OwrdU8IYHSa98ZhpyeYcaGRHLDrhtpZoVIEp64jwm0IfFB+2WFftvhtgX4bbwqJxgbekQ2qHGEZEqDlwzIpCI8IqKhtcRfIvEpGF5FGDbUQ-IVjCIhGUtmBYgIkmvUfDVDY8w-VQq1X6GKlnY7nbjkeCjiVZsOMHOpkR3GBPB3W7wpVqsNTRkYhRO0PrpGgSwCjWRovS0aOGNG4hO6pLE1NaL-5GF7REaWVKiDlFwjKWjQ52HCyWIqi1swwwMRhADSKjnGvTWvrmBxF9llOH0YFqK3TETDRYbHfIWwNy7bcZOTgwIHFgSxsdixCXWLnfmcGHCKu5mOWAVmdjLI6ASY8QJNxzCSBEuooXMWsPtYycEsIogwPsNQLz8ZOhgXhqk2WQycGwa9UAPUQAASwtSQAAEFwA4AYWgACV6ikAAAPLS1kAcqCQqwV2Jsi1EZo7rOmIujkj1GYgwgCmK7E3ib0X7AsamJzDxsrx9AF8bYCFYFiVA0yFXriHbF4d2YAEyoJeOAm1Zw6y41cRuK3G7iDxR4pFu+K7FfjoJ14gUeHQLFqiPxPYy7n2Own0tMJxAKFNUPX6iw40hHUiXJAFF3jw61Q0lGkNsxqZlhTgNtITn1E+w1ESET0UWHYl68GKlQm9AxLp7njuOUExlrVnolwDV6VgCwCy3kQkA+OcqAAAzH04ICQIFGNCUnatNE0FboLTiUkaAVJigBLJOgPCmSgCTFIYjwDHEAhLJvdMyYwCRb9ZtJyEAhkgUWHp8nJHA8uD+EoBk1UOjzHJlAUeZ+T9JgU8vLNyb6TZPhkUXQGyE8mJ8MI0FfIE5N872tIpNTHVkhCCniE9iukg8FFOURBT3egvUWOoPeBAoVAvsUjrNgTyP8UOS2Dzu8A8lN9YBOUxBHlMMnK0DE2Aztq1MebVTJAtU6QL7CIGdsuRgQUaeNN9jMEJ2-Um9rtnsKWAapdU1nCy3c5tBOBinEUNawA4Z8vJDEylPmnWljTNp94lsjxkf549ao3GREecOb61c7+jUxSOEEWC88IMCmN6aUDOzv8d0n-JCKuQYnfShuBw8rlNzMbOB4BkycEVBiMEvw5pm054YzlhmLc+eLCVnn9MzHvtVC6jXrBfBRkTScxtXPwM8AunzSyBbLE1C-ARlLRaBAvNafIA2mkymBCU6HFMLcLYogQhJPUCA2emRlTpto9YR-10abDxZ6U0lN-12FD9ZM3GK6o9yOHmZ0B0ZYCCQAmKuiKiaMgTK8KhGktfSewg2ZgIe5SB5+FZWwpjjwCOZbZpGMWUDIlm+EpZ2wyUEbPlloJgISshsdDOAHiy4ZZSYgFrKFFCypRQQXWbDn9liiNUQ-BXmcN2Huz-RP03lNxl2llZOE+QI2XLP0L0wbZds96ZSFDE5AFRy7WHurNwjxyfJFwxOTYQ3a31kWwcv4a3UB6o8bRlvUESGNhHFy1eQQXhl3PhGntVoWUTQC3K-aOFKRnk5uXiIeTczdUvM7QIWEFkjyPqrc-QhPPn6aBku+I2ebSHnn8zKAS81HsvLgFmA85jmCeZTymi0iHmH7TeV+01m3FtZrJEeTNLSAcj9o0c7HEHMfkhzQ2hgn0Y0FDYfyw5y4GUcEyLnE0OxrkFlsrm-E4tl+nEfibQECgssH2s0WgG2EfFFhMpqHRKJlPAp+TwkOCsQS4LjCc9tptM3uUF0dDSBap-IYGJOjArBNEo5Cwhu5xpS0QnJW0i4e6NvGgA-RrfUWfazbDJ5ipgXSwNpBSmwMpAkQbhTP3LFq0H52sIMSa01RKKn5vC0SWHPHCYK5mIiyrJlM-lpABF3fS3uopUVgj5RPcz+DqMqAIj7c7wYlnIquyxwrBSEQxb1mVFWBVRww8xQmMjTfEFxcEyQNuJ+QAAZYWseNsXSBNJpMCSYZScl0Tchokk+Q+KfFtAcwv44gG+KJ4fjrgiSrJf+KJ6ASxFckcChBJmAFLYJK4kJeEsiWoTcl6E2kAUuwmocmJw9LoSElwnDD8JvYiaMRLDngEWW5E5IRyDp7dKChHjMKSgpyAjLJlHIdhZHVKVZKRZlvJiRUNYkmonJDmQnBwrEVyKPqyS2wGJLUzxLllskmUR2L1BxADwTizRccun6FiCQjE5IcxNPCbLSgoI9tManaUIItBHQsxr1molSSTR14+5SyjgF8jtRNKApeCoYnk0TStQjsTDllYYtVAxLO8U8tuYDiwg-C4QJWKsBRh0OSwKVkyBRXEtzeTcZWY2LMbLRyUeTa5bBVRWYsuWmKhoSejxUkBAC4HdFVyxNqIrehUCmRV2Ngb9iSFWYlBjmM5FxMsRhLUCNKquW8JLAIKwKflOfFILsl4WM2elIyWiqNV90oIGRiHFypelhEiaPqsx5kY6GOeP0BqqxWO0WsEyosU50dDfi5lbAylYEE0BTpcuJE6SbQHdUEh+8GqR5hqqeDajrVEihDHavGHDsy5qaAzKwTCB8J3gfk6Oh+LkVZTcVAohLDoszBzNMpCs7VR+NFXYTXuRq2LgllNXawiJRy7JZarVqRq-Qfk6oQ6qdROrChLqpyYGpYCerzA3qu4F2uGUUSfuEUlluGtCpNqpwLa3odyRxkC9N2XoRDmIpFD8INVsC0iTiy4X6qDZNigjvsv1XBN9166i1WBK1DHrvxG6-1ZqtTTJrlVdq9NeqrgW3YHe0gGideoBzBKEJO4vcYePACyYv1m4n9chKiWhrvxE6hzNkHfWgr6A3JYCEyD+K4cx8HcZdVwuIUbA71qapSY+oyWZqX19rKDaUoSzBLQlES-9RsBI11LQNH7JyRBuqqEbElcG3CAhvhhIb6536LsoYmBpMpa0dQuMrxqRY6kuNOIDtlkP7j4QBNZ63kMNmE0iAa0vaSvuBEk3IbI8S9MStxu-K8bUOLg5TWeKEzqaRNWmsQVNKkZwQZNBmuTaJsU0-sFNSLBIFEBCi0gnFRmy3iZvAr1s06TbBDCOCs1rBDC1DYwrptYLjhga1AWRSFpxD44BVkynFkvQi3fl4tk9MeVuWSHBMQtYWjKRhG820ANNk9QArltwy25yVXLOrFzES0bhiABW9kuTwprRa2B3xAdVsQpZPFitcrKAulsiBR9RY6mjLaoAs2T02VvQ7TVIDU0SACtAksbZFq-ZND7mLQkITYIBXdA1MrWtFUJv613B1t7JR5bULIQE8PKoVHrbIvM2TbLNm2kintulEpaYtiYRrQhsYAtaHFzK6SmNoy1db2Y9moaA6m21DaxB6yliZDVOVLkUqNW0rj4zUArbLIH2svMyvmbVaAFmqLxbwljGTKjyYDC7egj5DRjvFyOosbHJYRsJtszsXbWkDq3PKsQt22lg9pwQKAntnmeQA5oUBvaycn4uhjv1v6W8Wcq-Det-D8IzAd6o4zmaAA82Ntm2QCL7aTuxVkgNyryjZQDpCRfLgkuYI8FOiWDK9JwVAIaK8WF0lt5Ew8WHfypkJGLcUswQfnZSMGbETdu61mkOSA7KFTwx0k3s8UWT46ggTIbXV5otwLKOmmO6IDGKxVHlKmhWGthLpu0+q3dKdBtjrtvhU69kjirllAXd2i7M+x9O0RCmnDW8eBCWAAJwDA4IMlHgf7qyF56M9klLFdBSmD6xPMr3MrvUJHjRlTZuKOwO2TUmvdAg+eySqoHBbgtmQaAXvX2qa7xrjU7ewgULBHjgyre4lAvUxMPhggmJSsE2nYFhRH5+efPNvSXuyyvKZ9TDZot2OH3sLaFklBhQJh9AprBtMWkEVdrYHk6w9KgOhUfoJgOgId5zA-fQqjz7cU9atSIAOuVY-oEsTIAAIpctOxA6uvLEtFhKsWgEQa6PwiDJZqpUX+4Pg6x-R4pVGgWD1j+m5I164yCBuvXf2H1bEYUsKBjHwmeD9NhEZeItG5TnWUD-patZaAlndYZtVWIrHA3oz6ALLMe+BpkIQdhSQHQKTFF0sAeY48GqDnB9faoCuZ3LoewQflHarg7vACOtKg1Y0H3V+S5EJ65dXavCTLRpDaQLg2uO-FtFEOXQZ4NQBRFKBfC-hNAP3qW40HaoXBkQ7CmJbSpI0DARw25WZA2G19k+0vWqLUxMSPlJqBXS1kkMlbnd6QTfnoG34kq7x4ay3SfssChVmEfIiHeisJhY6kd-uwrDBCZmNAIDUBxQMmQql89F1YgWNrqBh04HNcigTIHqGZo4qpU9BuVIwc9Y4jXGKBgdWwY4Mfp+U0B2o3TVADJNcYcIvQAuDwPiHuDE5cowwGcOsHKD7oK3WYHwOhG5W6K+sLYfjXLduMch1RPB0UNitlD5gVQ0pPUOXqL1pElxWscW7cY+jhJAY0Mb1AxE3Qre8wA4Z4OTlSJRhpDpQcIMLGcZdAuw0EDePvHnDQYtw44ZsPD7-dPy15YEc1TBHMcKxtFVKLV1b8hoy0WI8btN0OZkjvWVIxiZ92h1sdWR3UfFJKM4BpjMO8Fp6OVyIcGI3iMAgACE5A6URDjkCeKMndAYykBZTVYrgBMwhIRgLQUqAP6cY24oKVcCeLbjqAcIMZaAB4At61Q3eh0I8c6ichKTTi6k0R1UChbnADJ1isyfICsnoBD+pkJyaEgm0QF3eLQCrvu3MggUlAAAF4dhKWCYZU8MaeNvgNTJWrU8BLUgqAOwlkHGIaeNPsnmQ5puUwADY1JMZxU+6dVOjH0a3p1Y76Y24Ed6TOMJcUI0Rh2mHQa4+OrqCUBPFYAcpnGNAAJDOAIgLQSU8yAACyToUAGuOuhQEAA7AAA43TzIBM88YGDJm0VqZmDjqaBr6msqWZn2IoCeL5n6FdAIs8yBLMm1rTcQW008Q9ZRBJIgpr3fGZGM9msAfZyyAObBgBm0VmZ7MxOeZBTnCzxZuUygFjNxmuz25r00wYqOamaTfXbhEKYkAZoTz453M0yAvMzmrzC5pkyyaCkmmOTXJzsyqYfNJmnzUgF89qfTOqscYAAMVLxPFoA9NB0AABFSzYBcsy4CrM1nqFa4wkHpWZDgBqpzxr-JBY9NqnezsFqkzSd1MjmtiqFigOhcwtMgcLQF1irsGXNAVmAa5gkBuZovdnHznrRi9qZnOzggzYBNi0yyZAYWni3Fr-AAFZYzSp+856fVMMX4Lfpt84oFoLncwQKFtC8yCUvMgVL1CkM6BbDMOgIzol6C8fT3Od6aTiF3UCxYaJApcg8MOQE8TCWhQniotHi1lUZOEkkdUBYM5JSeIUWQoUpmU66aeD8AzB+gLc9pfosSW9LG3ZizjHqLeWlAvlhSwFd7XMhgr7zMAnxamBPEFA3HIOaQC-oWnNLUF9K7ud0s+nXzR52S6xTys+W-LzIYq0FblP8B1LMZpq7RcTMZXM2kl-S3-EMufmTLYBHqwVb6sOgBrpV3CwaZAtsnTTDlsa2JZguZX2rCFuk0hbALbjcg53BIL+bCUBYJAG1rKvyY6IfmRTkVsArAE6BPF6i60+K7KZNptnFTqVrS3RdauHWUzTF4c2KYus6Brrt1iDuVd4s2mqrAl6gEJZYAbnmQhTToKy0BvNXgbLlg8-6ZkueXzrOoaG-5dhtynnot5va05ZBtTWsrg5gyx+eMvE2obV18m4QDushWtiY5nM5OYLMAW5zm5oGxNYpNtWwbUl2a8za-PAWjTtlnaxBfhtZUAA6h2GcCEAfYZFh0PuNkDQHhbuN0W3TbrjTW0zJ1jyzjFVuMB1bmtp4jrf4P3Wti4AbyyKboA5BMLuVrhE8SXG5BpezIaU79ccstX8b4NvUxbbVsa34YWtpkHbb1vc3HQLQIlEHNGKaIniQiKIE8SBRvBIM+t8azueDtSXOrnly29bcju23dbE5k2jwBGujWcbudt8EbefNHW-T7luSDjHADFssgRFpkMLVcAWmlbWxZW1ltfD92mQ4AHjhZH8t5AwKh+AG2lbxvi3+zIdzy+3eYAo3TTPdxW9QqEbWSqA0QJ4tx0oDtAni29w-urpzv7XJrxthm4eaJtt2O7a9oK73blMtnq7NNoOwvf3OvmpbRlmW3yfvtd2N7fd6hcXYjtR2Y7Fdt+8DYbtwWm7ptyA6ddYrQBOw+ohS9KdcCR8R7+ZnlBFZHvy1mQWZoUy6ZiuUW5TPASM4Hfnug3F72pnK3heQdvBUHQNHDnHZPsqSliTxTzddHZsUPRb+d-S4XbLP0OrA8V9B1RflP-Wa7c93hx-dcuS33zP9ha4g6EeMPRHDt0e--fXtP2eHO56BybcHMt3PLa4vipZfkDK25AYjtuwKbmsvWR7+4oOcPYdDgAh5lgOU6pe0fiX6bsDwc7Q9YpGPKgyl0x+Y7UdwhE7twRCMfcLBnJnjkD6R1Q8-sF3b7YBPx9IACdmPKhQ11+7XYvu6Pr7VXeR-NcMfGPsLgT9J3HZAc23mQ4D+7e44OueOJbfpvzNOFUQ+OsqlVs8w6AdPOmzOajtp7+dXPrmIHWT2m3w426NOWgzTiGxVcRvtOmQnToh3Hd6fVWjwLwOqw1fPu02cnXj20JVnGdJ1JnCNpc0jYdD9PhLFdke4s+Ruo30bDoTGwkGxtSOdHIzwc2M4meh2wCITyIGE5TskTbguNYJwnc+fJ2zw+efUBnazspOanYBtfEJjyB0BvLYIHA3Af4UMGuWrbZg2sw6PMdHi7Bu7ouTZAA58T6R33cSbVHZGmNkM1Eo4Vs7QjAUzRNkUsXMNBMWEL8JE5ZFRNRH0TRnfCFS5NoYFsT1VZhB2MT2lssw0xhfvWP8m1NdW6rdJjjFKkOPLWHOQ6Z2xUF1sI9nmpPTRjRe6h225AieW-F-abpp2UBM1gux3YTsER67ctDC-oDwvXLLdaS4GdbqWpkFbRFgKfZNrCuACBIU+6tX47U3UrnIPAMHYdeF33zl19FO65Umev1XIukV0sB9cqS-XVNjS7XduNLR3QQAA')">function javascript_value_process(exp) {
    return is_application(exp)
        ? list("application", function_expression(exp),
               map(javascript_value_process, args(exp)))
        : is_name(exp)
        ? list("?", symbol_of_name(exp))
        : exp;
}
</pre></div></div>
	</p></div>
      </span></td></tr></table>

    <div class='permalink'>
<a name='p47' class='permalink'></a><p>
      Once the variables are transformed in this way, the variables in a
      pattern are lists starting with
      
	<span style="color:green">
	  <kbd>?</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>"?"</kbd>
	</span>
      
      and the
      
	<span style="color:green">constant symbols</span>
	<span style="color:blue">strings</span>
      
      (which need to be recognized for
      data-base indexing, section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) are
      just
      
	<span style="color:green">
	  the symbols.
	</span>
	<span style="color:blue">
	  the strings.
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (var? exp)
  (tagged-list? exp '?))

(define (constant-symbol? exp) (symbol? exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuTLiQA0oOQAFvKS51GGJoGW1rb2SSaJSURj3VYAMghoDeSm6u16oAAvCjnm8PhcDkJjqI7OUlCwlgiVkkfuY-ttAZ8ri0bmFweQngAiYgE+RM-pDbEicagOgATxc2Uk1HwklZhIZ3w2FIBsO650oVQ8JP0nMOo1xgKUdDolCixEJeilxhlWwBZwuNLpd2Jj1ATJ1eoNRvIHKxmt5Tv1hsSoUFmWVNVVpt+5rs8tUirUkejUrV6qOPLE3pdfvm0kWknkAA9NJZdeMTWSzLKI7kFSC1HG7V41Vikyc8VI2qRpEplLji2b-s2MZdrrJ6bXGQ6NPRznpJK3253xhzfP5Gk1+9ah7aVfamfMIkpnDlp-I2x2lLiFw1l5aB7T1wzmZ7aIfj3PaO6uQ+7DOT7j-UKg3tSVSMsYQrKMq1UWNwJHBNEw-UAvxfYg5gWd5c3zeRC1obtyXDEC4TApUCP-Xp6y5RstRCdsXBaJRszzAs9Sw6DQ1LXCrzXW47wdKjnBouj0Mw4g32GOCeL44FlEJKZf0DOhsNY3tQBYJRNFUAU-xFMUJXkJ5IMI6DSJEnFeTE2jMhafl5M2RS9OrKDNzrRNyN5EIy1Cc4FFdKzgPYwdOJHZk3LCU95FdYTnLENy0IYotmJLYDbPjBs4JCccWjkcYVCs6zKV8m9-Ic0cmTSjLaBUfiYtfYol2XKkrT84dCuZErcXK4LPMScK4JazKZnQ9LSBC7zcPXSRLHwLieFg4yxB6sqZnHOh5AAR0WY04qAkbbjG9ouP4abkx2Wh0tamYVCmVkqFmIlCulHDFNG8auIAZiclKpCW1bdFIJYwhYQD7tyqRqQau4-qKz61p+rqZrsZSAGt3kh77fvIf66DuhTKVvJlkbIdknnBjGPVhvkVqhpGPNCxI5PB75zE2mzQLjOmDqbAhQTCdyQq8onMZyuVQL5knDs2Ln2upvRabR8gMZYgW7BZmXiffUmQlCzRyH5UJyZRtTlf5nyHEISp9fRtmKKkdtxap3mDflo3xRNuzCL5t61akfdqFIeHssdkH8sa4Mty9n2YdF0P4ckczLI2sMmfwmtbvd0WQhUzRZEGrs46xi1gfqwON2DvRmXTzPT3nC3eQ-CqMMY-Ic4VvDK305ORfZjsolrwS5MbhLmfApPi4MQycDwD8GHwZg2CgOBEGQdA+B4bl2fkDNCCGgLQF0WZDbYq25EULLoI2NIAH5QEmI+ZnXm7h-0U+ggALkBbSpUfwIL+kLJ4cITQZOFLfNSAZhSinFGyKUTwd4P1qi-NOmgM6UCzrFW6H9zAXzLpZNeCwho12inXFB98oHEF3g8NBtVRpgNvnJTu3d6691usQ3eD8ACQZg4FSGoJoI+5BqCMEkNUZwkQK5MVQbVC+2DMxDS4TwvhAjWBCMuuMD41BJBlyQSIhujDt4kJgcuDh8jiAnV6u-cR28MyGOMfNLi0DyGgAMaZOhhCAJ6MaBfBG7wPyqEcRJNk0l1KyUgXY2qaRHEx0gTo3ediDF4x+qY5cEiLGxN+rrfG3MOpS3jEw1xpQDEay1ukyWRcXF2Ivq0donQWjRMBJHeJbjzHlVqVvWxsDARBVtokOppREnlXaTzTpzTdHVLToWNM60xEJIaWdUZvpxnD2yVgNh9jAQ1wQpoqUSyzCLLMD0qRChVCrKPDMXhhjgpThnBElp+jARrOzhM+pkinyznWYMqJrTFDMDBFvJkABVYg8NiDUAAO52AFHoJQOZQAAFooVTI3gocKEU7CYIOSQJ4nc5YlkoPgUAqgQj5koCwDK11JBeOEGqeWgMASYKBBEIlV1PGw1RcQdFjAogq3MIMbe0glriBxXiqQCJWikqZeS-m5hFrkDFibKVSI4W4NhtHagFlmX6DISEjVpRcwKCMdmEhoJaBeWCZq2qNdfFSUUHJcl6qTW2sCBim1dq7V4P1cwWZdwxWcjSI7NyQCCwypyZM31KFDE6ruP66QBhjXLPKR0BILQBicu5byks5gPl8OZcyP5ALgV2Dglrbh0LYWYLfJysioltpUJQnJNCdBsmUqbspVSndkQAD55X7M7tkqBeYVYalJo8uarJiIknram-2jBCCvCwevTex1SrDtpV0DR+zoLZMDefDtN0jELvKotVJxTegLJCS-SR8Lt1WMXedRQSjrqXN0clAdSTUlxKJmOjY2LcXqziAU5JZtZYUtTfHSksbKmJqTfIHl8g+VfqtjqcghS7bm3FcBgEZ7cGcwQxLJDAGHjQPA2YLlkGU1oMlRzRgNt-rIUzNBuVxr0P7I6BRrDHTjR8zww+tBn6BU7V7NRxYBzMPuSo7fQDxrgJMcowh2+BGghEagw20owFHl-ujThG2-TMnsfw2g4YgRhj9tFpQsUJBUzxtUNpTFPZKRNos2yNtDoABUpmZldEc0yJ4lmU7szoINJC1Ap1PO-OMBh99KXcZCH+gyimzBkaJsiMmX00nYZplKWTqG+z5O1n+vmanQAXwqNIPLL9066G6L5vIIpAu3JC4J5jiHOlu0dU6wIFX-PVaOcF2gck8uao8TrJLcSCwsc07Lf9GMEyyfkyRxojsauiPvsar+nF5tIQCdkeMxqX6Fam+Wp9jTv4+xsboylZGY4JcjkqlV0FZNkcOyoBgcq2tVYQ6tuSMcvUSu61Klzzp42PcvpWkzrJXPdHuzyz7uc7AMaWDHHtOraQ7wNe67x3sHvNZa5jwIv2fRdDraAXrWPlzQO81qR5fSMmHtHZE8VwF+vBpo6oPLMPVBRXogQhbLj12PtFo8szXlXnirI7fBLLP+fphDfgwS97d6ybMwAm+KFVDi6nOtkdRQni32ybJ4CMm9u84sat47u9KXy7V-xpYq2FcRMJ1q2d+yre3ycZzo9tvbUk517hUD8aGzj1hpPae7A55cEXmgZ6K9LYfEndO1QOZaf7yVdkXI+Q48E5CRfHMwTT2ME+bH5kmQk95G3nmI8CgWhPEsD9Sg10WhP0RXBfrXjzVWEtU8OHNPKXARxkK3VH4PO9eb1MfH7edNGVToKjwwqyXx8UnlG0BzmqT977DcO7MzUngtRRg5M-sbbSevgJ4U125ahruE-AO+ASPV2gf0A+1j-V0VUjt1Xlz+d62lzffTxXo8-ZvT8MFv3A9Aig38HpOImQGdFgPNQBxww0q5TgpAIClhRMQCgZVxQZVAtcHREDV8tREDQ1OlkDx1cJEpRNSdeRvpv49Rog9VZhkcvJoEUCAQ4xR8kVyMuYp4IEGCiCE5ugWCyNXhUIf1tYn9DVEgEsdsI9eRG9JJfoQEeVNdq0L87BgRQRgE-x8dqE4C80ZCFcrUZD6YGYMtm4Dl9D78xAODCQLc9C2QDCtkjC4wLD5AyCxBtUysaC6DGs5CND0dQBnAdRUITtuDsZdAohXg1DZJDAUQ5UchogwiMwMZgkL4VCwRpCIE1dvCIc29-CaCN1n5L4Qiwj0jDAAAefI2Il4DAh7XIzddNMEJkAAFSyCUjyH5FAE7icBpj5D-kQS6BfiZFAAAGo08scwgIhohsVLIijBiHRmRpi3czBRjIgogJjKiIdqi8jajVAGimj8B5AgU2i2UOipYuiEFZBeiHQ5iidFjxj8BJivDDAhioD+ihj5i+RwgliVj4jR5WDv5qBf5-5zcgE1d31Ag4Id4ZAshVIuC0E4I2twjsgMirMNVHZCt4SIc3cJESEISuEmciczAKDqAqCu4RCUcSc3cX41dkRURIwijXiL5IwvjXiKS-MiI0SMYng4wvjIc5MuN+Ud4qS5UBDswhD3Dn9gCgMtUc8M1gSHQ-lMhWhQBtJS1ShptoMJS0gyNHCEtJMENHDVAdNkTcI4THDdCTCbCMdMcTTqEzTCRSJGg9My0jDwTfioTONDMO4ZkFcACZSMwQTzAwSsSXT9TAiYTSY4T0iFCIcYsggUTnY2T1julIlsTVJ5iCSiTRTRDjQyS7UKS5CBTjDaSWsL4loEMGSfCMwEzGhmS8hWSiiOTwIuT0sk1eTcV+Soi0RBDNZhDXVMyAYQlNiZTfliB5SjFFT7MYU2iZkwpuT9Nk01TjVNSZDtShM9SDSQlgJjSdD0ibSnCLSWsrTq0dy7SVSNgHSockygyWDcAwAJ4mBWAg9OAF5eAMBJD4DaVCViVGVDpVUHYE8A559hBmQCV6Vq92QtDQBgLPzJBCUM4il1lyVfyeDWSxUGwyNIKGURVDoAdbwP4cZ5QoDzB5RNU1VcKwDowCKzBoxiK9ycZkiKKIKQRGBqLSL6QmR1x6L1xmLSgcZyhnYoDeLKhaoSLuKwD0o6AM4lB+QoCxKJLWjlxhLQkwDaiKLaiNUFKggcZlJXg1FnA6APMtKXgdKGBGh1LAgcYBj6LzA89QB+RIj21IUhi5LTLzAcYoVLKzBrLbKHNIVYUnKaKwD3Mng0hPK7LQBIVHMbKzBnKzAcZgB3LcUcwngvKkR7LQAwA-KWK7gmQABSeKkK7y0AbKyK0AaKwHViqIyy-KlKsK-M2y-y1igAQhREqsSpstCshSarlTqsyq2OKLytauStStKLMG6pEtYuKKRHcqqqGrlTavqqytbX6qSvatAHbRGtKpxlbUmqCsCGmpqq2vWvmq2IavipqsCGqrMAavMDjw-k5DQrpSgprnSORDQVs3lCeHQtAswqbBVnuo-IwprmoGcAACtS9HtXqVJmUHNaKHqGUoDEpPU9yghPqSUJ5OQsA-qQKSVJU8hZYEtbwcZvcugoCiaWhSq8SzKwDIBiA405ApKgrqbaatZyaKaYqwCDLJBYBIAKKOauaWbWbNLTxDKABReijm4W-mimnGAAOSUGlvitlulsrKJzuu+wgthq+pxtVy8JesaFs1IAc0jFIDVXVv+s1u+1xt+rVpRveC1uk2rV1tKH1sNoHn0jVA+o1uxotqlnRrghpRtu+q7EAoOKiHXCULaNOO1kiEkHKUYGkH5CWMkGBqUHmF8wiE1lxNtQDpgpyFdHgpIElqCE7jDr6CCH1x8y2H-hJK8nDtcN1Wrs6Ty1KyMVUADqeq8KeFeNNqxttu9qw3uKRtKGbu6DbsVSBtBooHxy7oDrtqsMLvMCFKywzPdSchyClSFNDqBvKgbr0ASxLL-mXproGGvIIH9zvJng4Hnm4EwFfKOj0GUAoEkC+jCGUWUkYF9h3EoD3ByHDt4pcDcBII7C-v3CcLVDQXpNdpdjUE-u-tAYeIdEkGeLeLGOWNuIgkgcqN3BAYTDQRfkAawZ-vAuqGUh1l8TL31hQaRKpWRVIFICcBNiGjUnRVodCoYCGOV1ofzKZH6Ivm4eWSeOmKUBYcHs1W4cJneOiD7VYJIAkiWgoaWNZXZUUZjuIFkacOMBYWswBGuKiGmKZC2OmOIdoiWjIa6FUFs1oRkY7CWkUYmz0f0CZDMLsCsYo3eCmBYGVzZV-uNlNk7mqN4cKyZFwcBFvD8dAChDsR41RLjD8eqmMJia8cME6odDPg5HAdxUjDCfbKZFScSOgNoHCCEYQ2fp-Dft9j8az1gzUVOJXSLDCYic1XxElDwXZ2l1icrN4YMaGJcaWg+EUA8cybZRoUSfgejX6KQfNzATfhaYEnrk8a+FGdEYuO6dUesbcf6fQcTnAgxXmZgkGLGYccqZ6aWDYtuCgK7VAGOb6cYBYDAarMBGSN2fSeOa2LoqeFvEGa+HrMIliaeCufceqJiQkZiAqfqSZAAHIkGW1HjIXgmdGVi-GnHLnVnXGn7FhGBLIvoMXvGnZTZCR-6wRIwsXRrWayqsq8gWgni+EnjAU3RS5dRFA6WsCTYwK7nEyXmiX0W6rnhwJiWTb-n+nAXkW1HNnug+Xvm1BxXhW1m0XFBbKf8tRk7U7SB077aaNaVvY659S8wcX1FkEsI0J-GyWti9XNEoCZnKp8hDWRGghbMlWdQVXKBNYLcNWfpdRbHtXNAcH7mmmlhDX0mcZUnCY5DNJwFJRDWhW0IFXeRiXXWtXDXwt+V4FEF9WrWdWUN8mJxT7DoFcEs0FJmtIIELWOc02vWZzM2wh1bNWGXaQMUEtbNY38xq38cdmI2myJNFVKTsm6L0nHnIwm23Wlpa2hmTbEoB265rgMVvXcls2mxc3sn2Le3mBB3J2hngn26-wuH7W06nW1XIDe3GLmU53gS8s7WU6HXVWXXx33WQ6a102hXHmN3AwPbm3V32VuTVSYMonOD03FMu8wCg2+QQ2pmf2y2ps5y-3cIo3Tzy6tQC0-WdXGC+xHn-X6lIxUOZ3Ni0Is1-lAUQVi9ZneR4OcDeQYDUsE2gi84gRD2MPN1mCdXgmsO8wcOc18Opd65M2w09LnDkUGXGAfwTlXA1EWg2heDEPKPFZ+RuFPXIjURHQ+O3QkW4Ra2FPlFwkKOtHyx8IyPMk22yI8AZFEIMQQGPqp02jRyrhyAT6p57zSAXgVIphQBnpcUlp2Znow8w8H5WCnRvZVBEZ+QK8jw+EWgqHzyBK1BK9guEj09kW2g40uhKnyYsp-PdJQJIxIvGAQvp2Yv0ugvMvouNUStdRfOUueXCIMusuePmjEZjOchVAhc1bwdavaNjWmRHNzgQH3NuTRIf4-4-P5BtYeAnh-PJB9poy4tCBnAOucgEsfPSB+vBuJXUdBpjlYHjy0gItmgjEKlzM6BJvpvQHoyjDSamzCMIP1SggyMKvZviv5uRv+Alu9upu1vy3vUE9SbWc8uyaMTYuduEvMcX44wKvXvQAzzQeNgUp6BGWFvJAhvQB7vIzFgM3Ys1anuDubu6ASuBvYelumuDv1uygk2tu4vKk1J9uXujvzASyMRCI8fYGbXapHnbwRu4fHmEfQBSCGeTU4w6fsGCfZziN5yNUruvuMesftYHuyu1A0eXvTvCeqmPvgeM3NkghqeWZyeTPtk8THm2fsfJfRMuenV1fnu+fOQVfP2LvGg1fwIKvEenC5f9NdMYPQTSYZLTw7PzHkfG0uHfj-ignbUv5evNBislIuHIglp+P-e7UL5w-GXCds9c8WAWO8O7BDPNEi0eWQHlTCNNP4IJBgRyA7PUK1a0+BPYH62lAauDv6uBgyNLOEtS-lFq+2Kg+3w0KzO5VG-Hxm-Y-I-fbSZ+tFF0pohMHgGcg7fw7HmYGTOOeUJwKh-E7p+6uF-ohw7IwV+vgkWN+ACN-w64xd+t-Ihh+u5o69Sl+dImAbCkPJzMf5vz+nhHDwK67uh7-Z+aMH-9Dr-HnB+j+ljR-6e3+SPD-jYWjanAJwuNL+vsmw6X9CQfzYcgFl1Q7hJA9nIxDkEYDipuoXCLBOJxbI8YdwMnL3oEDOy-9ogF2EgSfyQirlmOMA+3uJne7bd4u3QXfj9xIAjlaQSAlAS0DQGetgBtpckvk00CWRt+QCXfiD0-abdqOqhCNpT3PKPMNAgg0VgQKeDyDLI9HMtmIPO50DFI0He0s72oYCDsBXrUAaCnCC5AWA1TbhLqjaDth+QZjOgHD2sGSVrgdAMbhJ1fhxl7BRrRwbYNpAuD6uwTPtkLCmiG9cUrDUwQSAsFuFvBdg8IeYJZjBCu6ROaIb4P2jgVIgUwHICnXeDJC1IDgyDE4JSE4tUSng9JskNCD8B-B9zQIfhE8EhD6uDmdIYoEyEkochZQvwfPQ1T1DqqoxMwTT2l5TRvisJWIaSnbBoxIawdULk3HwCjCdU7kSwASAoa9DbMEw0eHBGmGnhZhPQhYVsNubX9wuiwgkEa0KzBNGhcdXIC0PyE+DM6tUGkrEMLpdD206w8gJsNiEHC4h4EHYZNlg7kEcwCOaCmKEWi3ACCQDAATRFHCP9TsatDfmQJ3TUFT+Mhf-jP0f6e5Z8xPP7kwPIEdNi8COREeP3ginheBThSpgXwuiSAtKHvYQUrl35PAwRhIqriSJvRkj3eFRAvjSIJE0Dw6WpbJvgCrDE1him6JkDyKVDE1GOq0LKKyPxFJB0mWpOwjOxCD4CC+hgdJs-3+GnIgRxoCUbSI5EnCpAOvU8IYChAPND2YIo1gyNsBMjC+FROMIqJCHLg4wJo20Y0DNFIRyRFRftvqMdFE5IwDoxIbakf5CtBRvIylsYL5BLE16j4HYbHkn6HtWqDwxUs7Cq52cjwUcSrE6EZZ1NVOtAJ4I23ZGxsIRqaMjK6J2h7dI0CWZ0RaI945jRwaY-juME7qksTUeY0wrnyLERpZUcnIUTkEpbpNjh9zIkuGLWyvDWxGEANCGMIC9Mj+uYVuvqL2EfRgWigxUVV0s5zCzBC3OHv51cEbA4sCWSzmuOG4Dc78ufEIB9zlgFZnYyyOgCGMnE5hJAI3UUNOL7Io8s2-nBLO6IMAojUC+A-zoYF4apNlk-nBsGvVAD1EAAEsLUkAABBcAOAGFoAAleopAAADy0tZAHKgkKsFdilotRJmPoAPiLodI6-uOPeDXi8JN6I1suOvGTscJckZ0UK2XEqBpkEfXEJeNViix6JlQbCUxNqzh1QJ4EqCTBPglISUJSLCidtxzBUSuJ3WUibYHDrLjIx1428dj3vG0T6Wkk4gFCh2H15SYcaFTmpJokbCb0BEtwTsJGGnhbMamMEU4DbSE4kxPsNREhBrFdhLJSfBis8MMkcjDemEuzpxPTFSTnRdI1elYAsAst5EJARznKgAAMx9OCAkCBRjQQpprH8JQG6C04QpGgMKYoASyToDw6UoAkxSGI8APxAIbKb3QymMAkW-WWKchAIZIEQRM-EqRYPLhJSyaX-Q9jkygKPMGpiU5RMlKW7n8vh7pXAroDZDVSx+GEaCvkBKkNcs2XUmpqm2gotBxCexeKQeG6mPhkpNfCHqTFMHvAgUKgX2Bp1mwJ58BCbJbNV3eBVTz+PA4KatLmmaIFpytAxChwY4aokih7HaZID2nSBfY6HdNp6OeCWBdp+01khG0ekEdds9hQGZ9OBlTSQxbQSwSFxFClsFCNUoyVtNFgfSvpB0r3hIJOliYNU3GJLtAzql4jDulvJTLhHCCLAHeEGBTOTI1JQiYRx-CaaSgREX9kRvWR2B92cDK0YuPIqDIkMB5QysZqgSkYzh5kg9HeLCC3loNQIoclR0fAGfICBnfTFBh3PwErJVm+xmCbLE1C-H5lLQ5eYPMHsBExnAzDWIYlUdiiBCEk9QIDXERf19IcjIRWbaEXKm37wiIEr-DmekH5RXVjxDA0nqIOjLAQSAExCsRUTFkCZqR-I0lk7ORGxzxBRPaqasUAx4k8AjmTOaRihHkCmZidT2ZKHjnNijpikf2WiMYGizMReWMpMQHDmuiHZ-02qFHNhyYjG5y4R-iH2f4Ny3+dI8DoLy-bwyysnCfIE7O9n6F6YGcrOSXMpCBjhRwY08poOnloZfhZWbuUXJAEwdBpvIMObcQjmt1WekvfMbny5EdigxUfAUZ2JFH3MiZ+8j6vtGlEyEdRKczQFNFjmfxsRbha2doELD2yX5d8ukU-IVFjdlRK83VF-NtmUBf5kvP+c7LSpgBM5jmJ+Tr1fmGj8Uh7TQPfPqQ7ztY9c60QkLxLWj9obc5FnXOZELj8FDY0oP2yIW+jTU484JrPK7GONvhb5Eqcrhwk4t-yoTHCYFBZYkdZotANsOOKLBTTr+iUKaeBQanhJRFbg-YXGCB4stsuQQZbKxRUB7T+QwMSdGBWCaJQFFhDKrjSlohsKSp2YrltRzcm2BTFcrVmVfwLFq02wyeFaS10sDaRRpsDKQJEFZyKLbsatbBcWJlR5tNUfi+uVWPwm0LxwQiuZg4sqxTTiF5gJsRvOO61zd5bYrhpfO7H1JexmHe3O8GJZeKDw4SaJUhFiW9Z+xVgCMa8L8VtjviQE3iZIFgk-IAAMsLVQnxjKg0U7SVYG8klT9JFillM7LcFESJpbQHMNJOIDkSrAwy3MNcB6VjK6JkyhiU4rkjgV2JMwWZTxLAn1KmlLSkSZMsom0hZltE6-iZOHrXCQkck14QpLvETQVJtC8Aiyw0mxCOQhvC5fMI8btTeFOQR5W8o5AGLI6SysZWjKMImSnh5kk1CVIcyE5DFTi-JRf38keS1MXkwyocoMmWKORVXPUHEAPB5LQl7kk0p8OOXDDQVkNGEkuWqrGoTlCCKIZcLMa9YdJPk2sVJNxVorH+touMTSlmXMr+l-opGviruGWyclsrDFqoGJaEiVxhwl2ZW2WjCAdxVgKMFJyWBSsmQMOIVVJW5JczA55maVQXTyaYrYKqqkVVyzFWfDKm2qrREAUyRSs+VbyqriEGvGwMHxOLHRguP1FxN5RHYF1SPBDFhA+E7wRyT1KQgkT-VtAcVBIPtX2zg14yr3mRhfFyorlSkiaJGpB5kY6GOeP0JGvFVsAkQ8xV5auNK7yc1J3yswdn2RpToFuqk3yepM0kM9Hmkap4HGNTUuKEMGaz4R+0Xllox8PmXhJYCcUsySJMircdbVRV2A5UESzMHM1hkfpk54aurrROjVq1Y14gMSYpO1jKTh1ya+xTYCbW9qdhjtFrLmoWH5qSpRagkCWsCCaAy1R6h5dWuNSdSWW9a0Ko2r9ANTW1fcumZvNvptEROvauRJGvYVqScWbCpNW-PQRfqDlLLf9ZWqFbKcGVXYJNUp2-V-rgNqaH1T2ozXR0g1HCnxVm2yC6TK1AOOpfxLgkITkJ4AWTIRugnEahJrS2tTwtCEOZcNsGkLOqtwhMg-izCztVqBg3GLFFlKVDe8AakYaxJsK7kmRkY09KEsdShpc0rI0bApN2ymjYexMX0bqq4mllhyn0Fsb4YHGz9d+i7KGJgaTKWtEULjLGakWOpAzTiE9aTD+4+EMzaxPZjDZLNIgO9poBs2UzwI9mzjS5CkBL0xKhm78sZtnG4s1AXmjCUJn81Wagtbg36W5skUYRXsEgALZPWs179PNvacCgkCiAhRaQeS6Lbn1i1SM4I27R1s6xHCpa1ghhfQYVsTG0Bga1ATxeOGS2yxjVdw4LUvSa1MpOtLmo1tarMHBMmtDWyaQluc0pbutk9DoYEBVV5KLN42jcMQGa3skteFNPrYcKcgXryWRiJ4tNq5ZQFBtkQfvqLH81DbVAkWlza1ptXtaRSZ2psKdqS04gCum6LJWkDgR5Tmh2Qmld0DUw7a5WdWLmDdruAA72SNAzNSRRV4eVQqx2zxU5qB13a6Ai2sHVjlW23NEwG2rYtS2ZA-aMW0lJLUNsO3swstQ0B1CDoJXGSiVowsFZqi5GtpltG3HxqFsFV5LCdZeA1VOziVOoylvCQcW8qPJgNwd78znRUp50dyWEbCbbM7DIT87kdqOstSyGoBMtlVjO3bZ5nkDZaFA+OsnOJLoZQCcBTpHJddI3rfw-CMwHeu+JYV2AStl7IBMTul0sQNy5OsySSpCTU7gk0y7XUsHD6TgqAQ0V4pbt3byJh48zYHY4TbkYEH+dlRIZsVmD1jKFspXDrmlcmz8mKE5Z4oslF1BAmQfu51rfF+VYjBd3O1cR3JPRtLpANraXViDR2Z7z2O7bPShG21K65WUBLPXu1oEY01aykG8TJRsEJYAAnAMDghd7JKmatSBgNd758bBma6ClMH1ieYcZyc4oSPGjJJzcUI61EBFMIHmBB9lkcFuC2ZBoB99Z62mTNhCRb7FBYQfnqUC32T7D4YIEyUrBNp2BYUR+J3o70CBX6TJN+phs0U73j7JKBi6QOos0UCYfQvqi7WYM5FblYhFe2XWoskpAGCYDoLHfTTaIAG4DUeJHh0tFjXspAeSyIBts1yKBMgeoZmpKqlTLQEsjbZdlqxFZ4GzOjxPoL8tkzcZrojAIg3TVADJNcYwovQAuAu6n6mQMKWFNgdADEsl1G2swIIfdAgazAp+q5jivrCg9zuYPbjBmsE5+qROZjZaPjKHrfqGpv6nCcrkQ04SrsmLC-WYGYOEHCS7Bzg3qBiJugN9Mh3-ZZAEOCHi0OEsDV0CLSuGpDFvY2e2rSD8HXDE5UQ22IYBBGYUh+xw+JQn2RiKVwwynSahd1Y45DXLM5Vjk90QChoy0QkfWuj0EBQqzCW0UgZFWEwwx5SgvQsMKwwRdsW88wkJjyB0AgUbgWg4+IrZkGKDZi7A9ONcZ4pVGdBh0AwYJ6Lk2QAOYo9kdDHRABxw+qoyxtREhadyj25RQ6EBTNFLRSxSUUoCCYsIX4KR37Rkb0CQDFVqXfCI4WB1h78jDmZhFeKkAnTdd+gufLeGgHtT1tVB3UAavBaOTVAlCgADpYAgNVK3VCcnwB8IPGhWJKstQpS2pd9DoFg0QbAoDBsD7xz4z8b+MQbh6KiUlCCenGqFCAmuE2gFwYo4mngAAL3dpmBfjRdAE7SCBNYm8jBJ0k5CadTQntwlhpaG+CWQjB6j9AJo2CA+NUmMTwJm5p5XeZgFNj+eJ4qQCeKUs1Q4LTkHgERN5K+TCMgU1iYGoinVFTxZwBKalO-LmT7oIAA')">function is_var(exp) {
    return is_tagged_list(exp, "?");
}
</pre></div></div></td></tr></table>
    </p></div>
    
    <div class='permalink'>
<a name='p48' class='permalink'></a><p>
      Unique variables are constructed during rule application
      (in section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) by means of
      the following
      
	<span style="color:green">procedures.</span>
	<span style="color:blue">functions.</span>
      
      The unique identifier for a rule application is a number, which is
      incremented each time a rule is applied.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define rule-counter 0)

(define (new-rule-application-id)
  (set! rule-counter (+ 1 rule-counter))
  rule-counter)

(define (make-new-variable var rule-application-id)
  (cons '? (cons rule-application-id (cdr var))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHR0lVVRdSeRpiIbiEpKLi0DmF2sUJNvklQQoVx1EAD1VLOjoVtZGDMf1nya2UlzpyHr7I9roikkjAA5hdrrd7rRATF1j4XoZfABIczTJzUVSidzkaiMRwxBqULLCVawp7vZLBQ6yY6KDFY+S4-GsQnE8442bzRbLWiPfKjPQTD5pDLM4gAE1cKw8ZP5my2VMiYslJJleQSCPlU1F0myDXFknBN1Edweso2FKCoBYknKokcpxJil1jQNjlUwOyVixNXqTWkMPV8Mtwo+Lv1hqa4v25vhgq1KTRNVEAEd2mRcsM5SHttTk2nNKQOqn00WauRjjktIGsxtnvGcyKZqJYuRauXKwk+RbhcESOLRPgiaJxY2kw1SqRyt2Cr2xEqJ9QpzOdA3hUnLNZbB2FFXyCuE5T5+FNzZiDuW13Y6vxoeAknJKaQcQ9wfG4rwo-7s-X9fNVgUSbJxHXOAdSF1bEzSDRJAPMADc3+WkQNoRwwJaDkVHoCstFQ0RwIPf911FNDPSda8738D8WhIyDeT-NcPnSLFmEYFddAAIgAVWIcpiGoAB3Ow6i0SRLlAABacTjxpBR2IMABuLAAF8BBIM4RF2aR9kEXRgRBOgjFMfxKHwUBFBmG5KBYKVxHtZDVkEAxDIpU9bB2Ll20s6yqFsh01KdHSdlBAzFP8JSxADUR7FM8ynDJfs-KEB5HOclJMO+UBbkIaRyFAABeaS5AURR7McKNtJIN5Q2qoorgUCULn0ShmBfLtGxq0NSo9dwcjcQFHO0dqOo+PS6EG4aJv8Urxma2hXxShSXKsM9RVc89-iULKcooo81taKIxXq-ctsSIaRX7Qdh3FULzHC0RIpMClmNxEqSA47jeIEux7NANtMQkqTNNqOSbtAFSVKwH6vh+Xp9oBA5rjG+NHuSNbrTmIFQXygA+QraT0zUxkRxaIZ+vNMJVaVpDY5GjP8NGZnIRhCHIAALfZqSK3IJSlWhwmNSUlmK8jNR2hCjmF2hKb5lp0pLK9oPrW92qYxDJZ51UWhkNw2Vsgj40U0n-JWaT81LDpyBYcgkdvFHjJi5tW3bOh5YzRRvitgzUqKNGLqHeJrsmO6HpMsyZl1b4L1fD3racu2UjRzmkOayPvk7LR3ct2PtFvUGwYil34+SdLcqHRhU6zuGooKoak+KsuK-T-cY4MnPXjzgJQ9ixw9o2kqU5+GOq7junhTRhvB8rjaO7CguotHj5E6VF2Czds76ZNSem8BFvnlzkMVICcHVKSkRod+RwSC-ShnxHRQBhNb2LGWtybVUe+vRx0B2IAKivp8A4-3YroB+IVlIn3UkJJY55qAs1wuBUiKwaxwkSEXLuMwV7mwPE-Yu0Jcot3yqATBhZ7Rp13AkZBTwZ7Py3HYR2qg2xmxIZnT2YsjzEGytIdeIpdiaHFO7aBPQ4E0R5PQfu5ct7kIzrvKqk0Uh0EEbAn4IiSSAm4TVG0domFu1uJIy81YWGxycotI+c8i4BAZk4FRUFayzlDCUBw+5rEoU6P6bBQ10gcOkNIPOx9IbGxEHmRcy56K2wXiXUA5VCHBPKGVag0YDx5wiZOGQDACoKMkDA4ReEIKiMBOVEx-gIn-2-AHNJIRHEXxKTfAOzolypMKTQladclDlSJvVcUjVxCzVahnFJAZxpyKGUUapt9xRI3UcMj4t4SYQJJKbPaZD9H7lCa8IuaNNH2l7m0JQ3CWmKD2lcY0po6KK1FobOZJs8zXx-ArWxN41nhLwaADahD9k3N6T8DaRpIQ2JQUrdukwPm+i6C0PuHy9wgrcSLF5OzNR5zRtPcB-jT52DzM40k0FNRF2Ba47ofcMVQuaPrSZtU1ZKEJd8o5vzTn3NkVM4UMyEUvzsH7K6FzcBgHsgwfAzA2BQDgIgZA6A+AACZLkiHDq4Bk1NyLrJZaKDhjQsQHnMAAHzVe1DBTMiQglVaADVWqnBNGaKITJqrDWhhmF42VisAiWuFDMNltTyIXKhtK9wYKdmquMAESYaNrwcp+ozSQIIQQjmcI4mmbN7QVhBDgyx7pJDNVVQAMlTaAVmZr+Fyrynm36WbHBxqDQEuhmQvQ+v9QqkNYaI3QxpuxB+INkU-TxS0WGD9K0WIVVmyQ-CKyUFtXS2ZKLIGighXc-58raGijjeGzp9b6LsQnVoZtKkforsHn6YlcqF5o17f25N1MD2KAHUO-5xi3Wlp2AAyFVKIQmihJiul06VonrPaeo92CR3BqsTkxBtKp17urU4Oddao1LpLpk5R-7aLEDkgazVVrQOhvnZG74DapCMEoJICc9oMUIYdR8GtaHF1Yu-qVAjsyfqErbV2ppbl31fqY4O791Hr2Up2T8x9fynjx33dmz9rGP3kSciW1FOo9RumpTxwDfHR6JrAwuiD5H2Lhmkw+k58H2MSfU4abqXo3BEoDPRzKCq37u23e2voD9dAsfPU8MT4CoZScjPEmMdqFM9sEx+kTisnNGwkzMRZFYpErM84URTqHwMYaXSFpua7R3zMOZpp9pmBN9qEw5uUP7r0zAprzLI2WNivrciRmL4X7kcQK5rbjWnCNIcdSh2tynYuqZq1TKOCREs-Q6zLd0lhBa0l3ZFhV59LD4BpjwHTY6+tFbFMQjOI2N4zvG4OGmoqZvzLm5+HKWJdaZiA6N1blSJs0wAMy5aC04RbRZDFPyiy19Dzcs4cVu6IHr17NnaLu7vfjY2o3sXe8AohWcwHruve9rrBiY6GX8Mdt9Pmv2w62ybCe0OXusP+zOk9u8r0Sd0RjneYOHsKo-Xj5zeWnAtgYc7V2v2SfY5WtazhhjwdJZNuHR8ejo6M68zOln3ists4CxKstZVJzTmWyt5nzXSMqaq9-GJn2JMxLiQk6XDG7D2eweJsdMxNKUCFrxuUTOyty4qw2w3xvaAq7HdNVLJuSv88R5lvzw78djr0nVp9lDTcu8Y0j4TX7RMjrwNypgrB2CCq4CKtA52xezuZmzfYlwE0gbiaa81afQDtWCJcFWYhGAsUUJcDiJrpBmrRdcPCChxS6EsEWSgtlxSpESxzkQ337KKAM71LESM2m0yrSdjD7F4oNXssA9RvfvTl10IP-eEPrvMmGAlbv+B08C4t61-c+BqteDX6Wu38yuqej7+XEqm+Vprcm3v0A03Pcn9Ler7SV+3I35KroTbj+0fP5mi1eaN-OwD-O-S7PXeZb7bZKITwLQZ3Yfa-QHKA9oEHTCI6VHSVJwJApQDaIA2daLHfRQDaDiLA4-E2LAw6LsHA0rbXIPamHAq7MdQsUoe4YgMEf-OaLsMJeAtyD9RfDvb6AeB0HqJQLg7tHHQTPgiJGNC4J2LpHpPcQhG1RSfg9GLRXlCtNtJGDaAyag0AD0FNTQ3QbQ9A76YQ4zfqYQuHeHMQ13fhdQnIEwpgL0KuCwr0KwuCGwngr9ew0QBg+ZOqPhOQgArsQw2FAZSJR8e0UQmXd-TQEENmSzUFHQvNAqSvVghIyIAyPPPQ5NViLvYQxI-0LQhpefSIrpNhdINI+I1mQo5oHQgAHhCDiIyIaTOipGLxenYgABUyh0ZiBaggoQRCA9wGA6AqgFhKARx0h2JQAABqXPKZb4bDVgkyfYTQoweYkHGY+Y0lfwJY3VVYwghpNhVEIvEvbo3o-AUQfiQY4YihIhcYlwKY7+OYhY4ZfYlY-ANYqzHQzYjiV43Y8wD4kEQ4zI0XFQ0oCoKoYzKuWo6QbFBeMmfQZwMod+aIlIVtaBOE4ogMHBLYRNG1bEk4ooKkZEyE9+QE-wJg6gFgtgpqYIjOGZXY9INtfKfNXHH44khUTNQTMEyklkrE8nTk3QD9MExpZIQ+IoLucYNkgqaQmnRhdgz5PE2qDo1iNtd6YgJofsUAJtcU0xe6QuBeLYCJHwwhdHHwg4QFaqNGDJByMwzQkqSwwZBlHwlwp0tw-UsKIObgtFMk1Eq0wwcAk2XFKzWEjUsIhEyYJE8QFEjEQMlU8wTE81UIsE8xH2DPQk9Y9RUk2M8kxQQE6k2koIjgxk14Lk041klInkzLbMuRYIF2H4E9TIowmQCs-wAU81IUpI+sUU446hfOEMaU-QWUgtKI2QpUvcRM5IZ6dUqzTU7UiUXUz+SSG9UpPcZtLYYOI0oaU04Q80wQy0-eG0hVO0j0nIcw883wl0qZN07Qq8pzLcn0zwv0vMgMvgzlAgUtHlPlaPTgYVXgDARPCybDbyZvOyUtV6YgUnLfItfA57KCjiLyGyD7Rw5Cnye0KyBYZZURKCmC2w4XFKDlCJdC8CxKSBcpetS0etdiA9EHfwA9GqelAIGis9ei8wM9Jim8-wGi-QxgdinI5qLi6iwHaGAS6GYSooGiwXaQEHGS4UZiniwHSUOgBYSQYGXQFStSgYj4RS8wGi2c9i2c6qPSipUfG0NmWYBoOgYBCy1mKyhgLYUymi2YgS-wUvXQWoIwPKXGMSeYnS5ywHcSNy8wDy0ALyr+MSKSAK7i-SwHIBXQFIMKiKny0AMSH+cK8wQK0fYAEKsyMvcK7y3y0AMAGKkS0fAAUjyuSqKrStAAqsytAGyv3HYhSLcpqsitHK8tirMpaoAEI812qCqUriqBqCpuryqWr6jqrhraqxJGjzAJqpLAd6i8oQqOrUr5qCpCqeqaLsYZrPK5rQBcZFrmrFB2JsY1rEqAgNrirLrTrdrAc+q8q6qAhUrzA+r-A09LRFoSLQKULyKSRzD8oQwLMD1dBSLfJuVfrnlIaILUUegGgAArWvNJUGjGQQL+Xi-6jCkHHXBaHq5IOGwGpBRaLAP6qyAGqDasQhetGi51EcEHBm8UUyhlFiwHSAYgf2VwDS8wTm7mtsVmtmuK8y+Qey2ASAdiuyxwCWoW4Wmi6WgAUQEqVrlrZpooADlJANa8qtaNb2yJoYasI9CcayLqat0kiQatgLNSAv4T1SB6xibzawEKawLfJzaXCraigba7baDlAnIIbTb3a8FoMwEVCgYBtKaMKSbeRAo9JoZcCI6iRL4JQsQtJdVHAkbJApAFFsMGECyJpiasLK89xcKBp1F47HEFJkgW1IdlpqhJyuxcCAiGpG6M5uFeEJQe8g74bIFzDdBKSTao6zaQ6cJ1jCaihO7+FibSpqBkbUaB6GUnbR6vkdlW5uF5SJz6TSzEgOVK9cppCQRSgGhwg27cp0l66SzPlFAybw9vzI9+UOAhVuBMBE9UD3AKBHACxvhzgbRGBpwsMcM8NcCWdlVWIddAHcNK9jEQxggdc+zsMoHfC45NjHBtjQdliQSvjFAIHgQgHoGnIQx0hcHEHgHHCYgbRkwDM69M5MGdDgMZ1JBSBSBhjspaR3ZdJmHaqGB5igRmHRz2IZjghBGRQtjXimGHaJ6apBHdBgT2cfoSBuoXZaHdVdJgo1GwRFHgQXZDIkRfSMHdVXj2JzrXiKHDQXZqG74LNvctHy5RANGvYjGDB2If8RBbGXYi0sQWBMZ41dCZKfGKJhGbV2IiGdQo09IjB01Gxu5CSP0ImjANUazD1WN4nQAxrv5Ag5JYGzIT0ImBHMnsj36mGfhv6ga-7pwInC9u5rdcK8momaprUK0Hdjk0t4m2FhGTH5j3HY0vGcHBNRoAmUG3jQwZj0G20L5O1mmaVVhUmdjpGXiuniAlGenGBvGdcBm2mNizo5IQnQx0hunzqxKNHdBunPHVnCGtgkw+KAnsmDn2I+KQd61cnQReyv14mTmlntGVmWAKIkxgSbnuT2IABydBvSIxkF0J4Ew4iJ1x1lT5uxr+9oRgfYAsZFkBzIVnHIMBvpzLVFpa4W3q86zJcULY3ELYvicgLYr8LESl4g7KVCi5kk0AA5k9PF151jNlj55Zs5n50JllwTTl36L9QV05tl4MkQLOnO0gPO1eg6G4JcR9BGVQdFzkCYm3VYI5QJwl5dLkI3UREHKZ2TDV64NWgICzSVx8aVygBhKuAbBVu4BxpVmBy5xVCtTV7JmizJ2RsMjtN1k135sQa4cVuwPFu1osO4J1tBB2JwGpp0TVlU005-Ks4Z5IcZ31wYQ1rTJ1r0v6+1l2TpUaQhCzUN+V8NpGAZ+NmeceJNqzARh57J65k9Utx9CNUaesHXZtu4Vt4KZ17UUqKs-NNTRxXZplzt-N2YYKUJ-t2t6s9iC13O612V5Aht3IqCvujU7hc17Oy1mV21sdx1+NgN656d0FQOvN7t-ScU7cqKdBctQYeN9MtGT1kHNNmzP15Vq9sxY0szGdI5XxWuiTP6EQk1vxpwa5917kk9CD7UWcpVzUz6QSQNlpk2ID0gkQVAihSNhh2XJNFNaDlIYIXgk10J2Do5eDviRDmTLTUADD6sdvDdLtxgIGjkBoe0PtAcfhTV3QoDyN2d6lpjlxynCTdj2YRjoG8qLD-R+22gI6QESt5FPAekODOCvDCGlmHYJc8NcgT83lKPUgVmOYNwUAc7MyF2Mdc7ePePXwcOu4JcRQO0WoBvPCXEcZFVwkxvFzrI+xZl1O-2EcQvEsDwBzuzQTE9DzxgVzxl7zsL5ziLrz6qdIL8Oz4LoV1jcLyL4N1Q2NJBm+ouZJepdCJB2m+KisPDIBcUqGMoSod+BzxwHgXQWrzbdM8wCJMYhoUryvQhJL0gez0Qdser1L6mfpFTghgc29lOgcPz-hNrjr5B5r1GBVZmgc69+bgICJdLrr2znrxrkU5HQgdrpBx80MRNZmg5WLlm3YvsXzq6Zkwbs7lQCLr026Z8qaPLegGl3r-rhrvrxwUVVsqIac1r-b2bzbugZLn7gbj9Yb2bo7lIcb07mbw76cgIRsuC1jaHpBqR0Ma5+tWrgb65nbsI9oAOwegIKHgrkb5Bp7-OQ0+eXc55Dbgqbrz7373b1jRHshgczuaNiby6WpdLkeCkWCVNqwNH6mDnyvQaYXoZa5gnn7v7on680noocnYHpHxaYXlb794UVHj9dL-74nrn70p8o+aMjjBwD0cgfTxQH5+bjZARyE6rkdmqEoKrqobhdINgWdokF2ATyZYIH3mlyZJiNUm38jr6UAJT0RAGIVvDTc43mIuwLS+QfT4i55KP5jorgqb7Wbm+xSCJLTwhDP9kHLtTN31QZtEi9TgqYvlCXP9iQPgTsmn6b7VkSUVgo40hyXxX3A65yB1Tnv2FyJIkdvsEfvyvRQNv3VXAk9Kf1gxwufsf71Rf3Aj9FfofxfxwZOy08f+xpwhw3Q5n3f3QHwxwlu-hY-xXk-yw3Q651vkf3VTv-BvfnA6-twzLmYLDSTl8vAp7etMjjJvRze5pwtAOGYqAAJ8IfNFynSLDI4AM4ShK8jAHBL1gxAcwQO2vaKGHCcBf8H2GAtbs8kX7RIH+rBLfueCPLXA3+DhI3lrlFCncV+l3HztANaB4h4B4oRAXB336+FbuKgVQPsE359wV+1PFbuN3A7+tVuifQSqxB4H7AoO-rXQNIOFyHtluX7IaInCDYHwXuNAhQZq0y5LEzULAVVoEQHC6hagd8OgAN2MHqUI0dAJrth3Nz9BWc5grVpYNMGdIbBN9UJo20ExOCseN1bhkzH0GGCGoLgswQEOyBi93Y02XwQSxSAhC3Bm2RwkSDcCV5s6+Ge6FYOm4WD0hrgmoLYP0b+MnB2TOIbkI8EusvBtZKIdwly6pUkhadM1L5DiGKBih7g01jVGqG4w9B4Q8nNNnBKtowhBg-ALqEtgY03oRCXAoMPkD1RywlgbILQ0CEWZAoXsIfhMPIBTDOh3jdYW50cH9CtWNqUJrUMYApCGh2Qu+ENFxw7DfB7QggEMLWH9C5hXQ5HDsN6HXpz+W-PoOlEcSUE8GmPUAAaFXCn88uBA4gSCCIE8wSB2-Aopf1P7MpYKdA4Ee00DYdIn+Pwv4ZQK4F7Mciqw-bI4AsrW9+By-eEZpXkBoi-CJsS3jrBxEp8ailvIkf8Jv52DTCn8WdvgCPSM0U2VodiCyMHSM0SOaYDwDSN+HyAjA2TM0h4W1Cf9gQPeIUeyMoiIjAiJkBbJ8IzgCjURnAgNhZFXaW9ImGaDUSmj+FatyR2I3ETUQ-RajohoYD9PqPNHChDR24Y0Ti2npCjrRbNE9FaOV4dRT+AbTkayJJa6DdU+9FxHcJzwMjJBYVK4TalJHocs0U4WYOeH45Oh4xKwXQCW2JGgBQ2AIp5MbWNE9wTQ2Uc+piIpH2iUxq4RMbQEXoxDqo6YywjCJWjZiToAjLkZXhJbZM9hLrWkgGPPDrCbeVInMWMW2iZdCAHjEflcClGoIQx2qTBg6NHHPCJMWnaYfoM+4DcHOeQ-AcbXKRadFx33WoN-nyFOAEeRgYIDahFB0AP+qdS4I4Fq69BpxgI42g50IRNshRNY+wV-wc4HjABIoBznvSsCgAuiAACUVqOAAAguAHACK0AASl0UgAAB5DWsgAKhKFE8VxK3vZVLFiJbRxAEkboUHGYUzxo4nWFqznHDjLgrbMTkgjwn7YA2c4mQFrFInQgh+VE7xKJ196qJcuIYv8QBOAmgSIJ0E2CfRNF5ESSJzEsiehNwJziuxREi8T9yvEiSOIqE8SOsKAESZ-YBbWiWhMmH7ZMJIY9YQ6CGEWZ14fw4YjjEmT6c8IsSTJExJpYPADJLACGupNsAkjzRSE-ThZKY7CS7JGEtUZGLsCWAH4zA5-k4CJAHJ6WOCdbvS1VbcggalAcUIoWuI9wwpsbc4FFLz5m9AOlge0PxBkDTguOGAxNDgJA5DRgg32eIPxD8k5cABzMSvOFL1aRSLuCXUUKIOVYFTQxAQ9KZlKnHxtnR-gFqY4AynSBpwRHD9icSYjqDTeP-bqb1OnAVTfCmXAcJiAlDohjWqgVsl3z34ZiUpY6caW1N8LzdxuOAwXtVGlJ8i6C3wgfnNzwEZkZ0TMdoNQJp4PRzpaUAgaCNH6kChCbrEkTdJ-5OprutSBoAbQI4EBUkogUnukE2l9TJ+wI2Er9Op6m8kQWvVQRnnA7CiJohHNKT1LalQc44iTUGf1K-TIN1E6QFkZFGW6aCf2K0bGU60y6vCFR6gU0HhmRED9IgmkyYBEkIEFRN+EIitFCOrGTAu4n1L6ZNyujgywR8aacr7GICrFKRyEoWc9IEGEiZRDKRmWqPkgpthBPPL-pEBHgMo8AP8HWSGBZnAinpGdDmYMEVnQiQwaMPmXuO+l3x6Bw0K7hLPtHH93RAQfEdARX6dTqop-D3nKK7qX9TZ3Mg0iHBiizS+EC0o4vCVhQrSSRcObWbrPxIKpvR3I30UHBUHxzf2lwJEX7JkDvSfSgWMdCQAdlUie8+PBXmtJ-5mlmRPo53keETlNjq594MQEdOLkQ1NsIo4QvsOwGSjVA02eWaACpAZz5RfQGmfcDpndyW5JIjucwJ7xNdsmVMoeTSRHkT9VACvMeWqPMCxyf4k82Xj3PTT1TNRrc7kgXK+KSzrepoyoQylNGbYPZAQI+e2HtFNtz5FYlIE2yvnOytgno0JrXMZof9MC9LIEKpJVZKYEKqEulpXjQ52BMI4EQcQ8Cmkz8-asCxwlNJfxBToGoHBwULl8xfoEFWrGijIAym1BQMzMVCqE3gZYLgpM4r3B5FmBxSJ+U05MUi08juT6FWIdsGXKKTPJwIVeGhdXDMy+Td+AU1YLAqSTPJb5vYvMYQjOiiKixDCpNFiPsnujIFsgNLJwvMmwLr5KQKse-30aiL6xlcpOfXNlGtiYO5KRFiwpQX2gJOKi88GovUTtirAgYmYd4x0W5jtoI6fej+P-GOAwJnEAADKK04JupThMoR+hOT7KU0wEOhKZk-9sJpAgcJcHIm2ACJ-Es8RGnCUJLoKoTBiS0DSWOEsl3CwELgXYleLfF-iviT8AEmdI0lIk3QtpKnoF0aoYku4RJMvGTYZJ7o9iFNPkn9C5I5oxpY4vOpetv4nShSRQvmQR0qlTCteVpP6E6T5AekjqFNK-iTII6hoKaeYtslyKPJp-RyVYGckTLNl0cv0bEEql4tFAxYnWGiPnHZBcC2klYfMqKAVzcYQ0WpfMCMEnD+E6iZSS5JYnnKNJao50VcPGX0tAQvy+yZ5MJpulNhlMkxacrxaXLNhN4jKCmExoFQNxPHQVuxBaSmLkW8fGgfzL553xkVlUbIvcGOX2hYVDC+FTsMLxErMUsBAxIK0hU7Cf5sSq4Dly1FoL-mD4xIAkzVSigv+3K0ZSbG+C4g2Oqkl6URP-lCTaAOCcbkRJy6oT9pRQCJHeIKjNKpJk2RVQOQiQsNi8CQb5ecHWFe05EfShcSl2XSqSulji3FUTRZifdZJlqhSb4OuYgKzItVXVT5J+CoSrlPzT9rTyLjHw+hoq7hRKtwmwLEVuUdCYQkUXQLeQQinmTz3lWjz3JSqh6beL66EJ1V7YaSSmu1UcKbAnqkNUaryiAlTVsw81cMu6XU9VAdqitfSytX6Cp81Ua5nQrdVfwPV+qpBZsL9V3Tc5ieETkgqZCoSpVlkmVWgrWWKre5wQAdX-MVWhMROw6rVUJy9zigVJ0qmZgAqLgirLABqlCMnUlVLrVxGUZoGutHX0BCERSzieBMgkwTwAecS9SBOvU8SAlLq1SboCuEnrd19AcUmjHYgVBBOS+FdZUr-nhqF426rZGFP3Vhrgpwi42p+vCUXrPF3ivxXesmBFLkN-iwhC2vpbvraq8G4FT+oTn-qWVCpdsJhCRqQUjk9DXceguphUbHC6Ocjf5CVbUaf+sg1QPI2vSE4mNQgOTsTG464ziYQ-ehIwhUoUbUULGrYULno3LDBCYm5jfRt0LsbONBOTeKhAcDiaKAfGjjav0E06ah+8QEEMcE6SnLFNIY5TY4XnZWsbW14STSYD9RsaJCQmgDrNloBI1qAgUnjVpqpWOKVWpGsUJprIhub-I8Xf6UyscWhNyNHmwRWpq83WwYCgW9enIixWnLGNwWoQAlpC1vBpewycLfoPBI1qWqxLLYiloYUoE3N0W5vubzoDubAp8m3jT5vy1oL-N9WyBE0I01ZaWxnCfYbAUOH1C0hJg04R1FK1mL0crWpxB1t431g8t1yqXklVqpibotZ3SOONsBCrbstuWh0k8IuSFbzqZLDiCNpxWaUNNlW4JdekM34x1GnAn1TcpmV3KMY68R5fBC2D+NDt+wC7XXmxX7A226i94v6PsWdi7hno5EB8AbL-acQgO-pV7KRAohPEnCObckBm0-MdtdqxtNQFpbfw3tIOD7dNMTxXA8ILMYDsq10L7IABh9Y+qfW3rKlMuVm3duCiu1I7vYtpO7bpIe2dR9yPldqPjpYbFQfe2EKgLSEpK07F2K+FBD41bicDfthBE-kVVJ6wdxA5YisVxB4gUc7AlvSOTH22IAQYdyQOdtuwXY2sNockKLtyTsUQ6fVD5QvDaix6M6UdLVYXYbp2QlaYVZW3QA7qXa47yazyG0OeK0omDCEAATkUg0YLeJgi3axte4SY-d6lH1VvzcCZwQE05cblmR5XzdVZZkOwNWQAAMyPfwNHv2BAsgWHENACXptWBydy1UfPVOO+Cw8Pg+e2PR6nuEGDycAoOwFJAfwaDRpee0PTHu0mN6kYPu9TapRMFeSdg0gfBYQvaDmRnwoqxrdct0JI67dRLcfepUn0fYDtLulhSDjwWr6i0RCqrRJjHZfbzISzFmEYSxBNB7ggtCNWmMIQltmAZbKUXYxP2FajG8kY3XnC7i2RGAl+nmmk0Hb3A0ilLaclXvYiSQpIY7NMQwvsCn7coAMYKtXRDBV7RWDCs5WJlulGlJS5gLuN6pY5sdV1hK1NckBnWVSh1qkoEKuq-XIKUwte7nmZG-2-62w-+gqEDm5Grpc95gUA+AdXKoSdgBB6KdwckggwMD88LAyIfm5cHBDUBlhWZj7HWx4D3Bsvd3uH2967hzymZfco9Ec7sYgJFA2YuV587oMYApQCmDRHvqFdBAWqoiGdFvazlsjcHQ4oXERjL0falQujkyR0B+IKqIkIVpCnPIUwd+mRWOyf3KMfD6nTYu-tr17kvQ5SWw6YaIQOHIdThzhLXoJKs4fCoWmuXxHRjITDGfwyQCEyRD7N4WHjU5YYdAG0h4jJ6DI-WGl2WGv4iIL8blCQUqASARnAqFnrO0SZipIahKXuv4QJowprR3rYQhaOwIRj8xHgE+O8lDHxjbgIfkVNim796Z3fJBX0fPBRTe+q7diIMuw2VT1jW-evHd134uGIYR+05UC3jGKAKxAAHSwATrXlDUDkPgFxDeNrd4VQ6nHGGhF7v4DBmkqhUUjnHUDlxsTtcZiF3GHjc0zpM8deNSiU0hAIwvWEc6hiEToAAAF4B1zAdx4g48ehPUAHQsJiw8iYxNfHJoPx9iH8ZdjNpAIkMQQh4a8OsRLjuJotPiZeOrNkqugXBVsQaBbFSAWxElk5CBaLQ8AQJsxUyahMsmCT7J4apycBwFHy8vJ-k8bvJMgwgAA')">let rule_counter = 0;

function new_rule_application_id() {
    rule_counter = rule_counter + 1;
    return rule_counter;
}
function make_new_variable(variable, rule_application_id) {
    return pair("?", pair(rule_application_id, tail(variable)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p49' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	  When <kbd>query-driver-loop</kbd> instantiates the
	  query to print the answer, it converts any unbound pattern variables
	  back to the right form for printing, using
	  <div class='snippet' id='javascript_95_43_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (contract-question-mark variable)
  (string->symbol
   (string-append "?" 
     (if (number? (cadr variable))
         (string-append (symbol->string (caddr variable))
                                     "-"
                                     (number->string (cadr variable)))
         (symbol->string (cadr variable))))))</pre></div></div>
	  
	  
	  
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  After <kbd>query_driver_loop</kbd>
	  instantiates the query in order to print the answer, it converts it to a
	  string using <kbd>unparse_query</kbd>, following
	  the syntax described in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  The function <kbd>unparse_term</kbd>
	  formats unbound pattern variables using
	  <kbd>contract_question_mark</kbd>.
	  Note that it needs to distinguish genuine lists from pairs
	  whose tail is a pattern variable (and therefore technically a list).
	  <div class='snippet' id='javascript_95_44_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuTLiQA0oOQAFvKS51GGJoGW1rb2SSaJSURj3VYAMghoDeSm6u16oAAvCjnm8PhcDkJjqI7OUlCwlgiVkkfuY-ttAZ8ri0bmFweQngAiYgE+RM-pDbEicagOgATxc2Uk1HwklZhIZ3w2FIBsO650oVQ8JP0nMOo1xgKUdDolCixEJeilxhlWwBZwuNLpd2Jj1ATJ1eoNRvIHKxmt5Tv1hsSoUFmWVNVVpt+5rs8tUirUkejUrV6qOPLE3pdfvm0kWknkAA9NJZdeMTWSzLKI7kFSC1HG7V41Vikyc8VI2qRpEplLji2b-s2MZdrrJ6bXGQ6NPRznpJK3253xhzfP5Gk1+9ah7aVfamfMIkpnDlp-I2x2lLiFw1l5aB7T1wzmZ7aIfj3PaO6uQ+7DOT7j-UKg3tSVSMsYQrKMq1UWNwJHBNEw-UAvxfYg5gWd5c3zeRC1obtyXDEC4TApUCP-Xp6y5RstRCdsXBaJRszzAs9Sw6DQ1LXCrzXW47wdKjnBouj0Mw4g32GOCeL44FlEJKZf0DOhsNY3tQBYJRNFUAU-xFMUJXkJ5IMI6DSJEnFeTE2jMhafl5M2RS9OrKDNzrRNyN5EIy1Cc4FFdKzgPYwdOJHZk3LCU95FdYTnLENy0IYotmJLYDbPjBs4JCccWjkcYVCs6zKV8m9-Ic0cmTSjLaBUfiYtfYol2XKkrT84dCuZErcXK4LPMScK4JazKZnQ9LSBC7zcPXSRLHwLieFg4yxB6sqZnHOh5AAR0WY04qAkbbjG9ouP4abkx2Wh0tamYVCmVkqFmIlCulHDFNG8auIAZiclKpCW1bdFIJYwhYQD7tyqRqQau4-qKz61p+rqZrsZSAGt3kh77fvIf66DuhTKVvJlkbIdknnBjGPVhvkVqhpGPNCxI5PB75zE2mzQLjOmDqbAhQTCdyQq8onMZyuVQL5knDs2Ln2upvRabR8gMZYgW7BZmXiffUmQlCzRyH5UJyZRtTlf5nyHEISp9fRtmKKkdtxap3mDflo3xRNuzCL5t61akfdqFIeHssdkH8sa4Mty9n2YdF0P4ckczLI2sMmfwmtbvd0WQhUzRZEGrs46xi1gfqwON2DvRmXTzPT3nC3eQ-CqMMY-Ic4VvDK305ORfZjsolrwS5MbhLmfApPi4MQycDwD8GHwZg2CgOBEGQdA+B4bl2fkDNCCGgLQF0WZDbYq25EULLoI2NIAH5QEmI+ZnXm7h-0U+ggALkBbSpUfwIL+kLJ4cITQZOFLfNSAZhSinFGyKUTwd4P1qi-NOmgM6UCzrFW6H9zAXzLpZNeCwho12inXFB98oHEF3g8NBtVRpgNvnJTu3d6691usQ3eD8ACQZg4FSGoJoI+5BqCMEkNUZwkQK5MVQbVC+2DMxDS4TwvhAjWBCMuuMD41BJBlyQSIhujDt4kJgcuDh8jiAnV6u-cR28MyGOMfNLi0DyGgAMaZOhhCAJ6MaBfBG7wPyqEcRJNk0l1KyUgXY2qaRHEx0gTo3ediDF4x+qY5cEiLGxN+rrfG3MOpS3jEw1xpQDEay1ukyWRcXF2Ivq0donQWjRMBJHeJbjzHlVqVvWxsDARBVtokOppREnlXaTzTpzTdHVLToWNM60xEJIaWdUZvpxnD2yVgNh9jAQ1wQpoqUSyzCLLMD0qRChVCrKPDMXhhjgpThnBElp+jARrOzhM+pkinyznWYMqJrTFDMDBFvJkABVYg8NiDUAAO52AFHoJQOZQAAFooVTI3gocKEU7CYIOSQJ4nc5YlkoPgUAqgQj5koCwDK11JBeOEGqeWgMASYKBBEIlV1PGw1RcQdFjAogq3MIMbe0glriBxXiqQCJWikqZeS-m5hFrkDFibKVSI4W4NhtHagFlmX6DISEjVpRcwKCMdmEhoJaBeWCZq2qNdfFSUUHJcl6qTW2sCBim1dq7V4P1cwWZdwxWcjSI7NyQCCwypyZM31KFDE6ruP66QBhjXLPKR0BILQBicu5byks5gPl8OZcyP5ALgV2Dglrbh0LYWYLfJysioltpUJQnJNCdBsmUqbspVSndkQAD55X7M7tkqBeYVYalJo8uarJiIknram-2jBCCvCwevTex1SrDtpV0DR+zoLZMDefDtN0jELvKotVJxTegLJCS-SR8Lt1WMXedRQSjrqXN0clAdSTUlxKJmOjY2LcXqziAU5JZtZYUtTfHSksbKmJqTfIHl8g+VfqtjqcghS7bm3FcBgEZ7cGcwQxLJDAGHjQPA2YLlkGU1oMlRzRgNt-rIUzNBuVxr0P7I6BRrDHTjR8zww+tBn6BU7V7NRxYBzMPuSo7fQDxrgJMcowh2+BGghEagw20owFHl-ujThG2-TMnsfw2g4YgRhj9tFpQsUJBUzxtUNpTFPZKRNos2yNtDoABUpmZldEc0yJ4lmU7szoINJC1Ap1PO-OMBh99KXcZCH+gyimzBkaJsiMmX00nYZplKWTqG+z5O1n+vmanQAXwqNIPLL9066G6L5vIIpAu3JC4J5jiHOlu0dU6wIFX-PVaOcF2gck8uao8TrJLcSCwsc07Lf9GMEyyfkyRxojsauiPvsar+nF5tIQCdkeMxqX6Fam+Wp9jTv4+xsboylZGY4JcjkqlV0FZNkcOyoBgcq2tVYQ6tuSMcvUSu61Klzzp42PcvpWkzrJXPdHuzyz7uc7AMaWDHHtOraQ7wNe67x3sHvNZa5jwIv2fRdDraAXrWPlzQO81qR5fSMmHtHZE8VwF+vBpo6oPLMPVBRXogQhbLj12PtFo8szXlXnirI7fBLLP+fphDfgwS97d6ybMwAm+KFVDi6nOtkdRQni32ybJ4CMm9u84sat47u9KXy7V-xpYq2FcRMJ1q2d+yre3ycZzo9tvbUk517hUD8aGzj1hpPae7A55cEXmgZ6K9LYfEndO1QOZaf7yVdkXI+Q48E5CRfHMwTT2ME+bH5kmQk95G3nmI8CgWhPEsD9Sg10WhP0RXBfrXjzVWEtU8OHNPKXARxkK3VH4PO9eb1MfH7edNGVToKjwwqyXx8UnlG0BzmqT977DcO7MzUngtRRg5M-sbbSevgJ4U125ahruE-AO+ASPV2gf0A+1j-V0VUjt1Xlz+d62lzffTxXo8-ZvT8MFv3A9Aig38HpOImQGdFgPNQBxww0q5TgpAIClhRMQCgZVxQZVAtcHREDV8tREDQ1OlkDx1cJEpRNSdeRvpv49Rog9VZhkcvJoEUCAQ4xR8kVyMuYp4IEGCiCE5ugWCyNXhUIf1tYn9DVEgEsdsI9eRG9JJfoQEeVNdq0L87BgRQRgE-x8dqE4C80ZCFcrUZD6YGYMtm4Dl9D78xAODCQLc9C2QDCtkjC4wLD5AyCxBtUysaC6DGs5CND0dQBnAdRUITtuDsZdAohXg1DZJDAUQ5UchogwiMwMZgkL4VCwRpCIE1dvCIc29-CaCN1n5L4Qiwj0jDAAAefI2Il4DAh7XIzddNMEJkAAFSyCUjyH5FAE7icBpj5D-kQS6BfiZFAAAGo08scwgIhohsVLIijBiHRmRpi3czBRjIgogJjKiIdqi8jajVAGimj8B5AgU2i2UOipYuiEFZBeiHQ5iidFjxj8BJivDDAhioD+ihj5i+RwgliVj4jR5WDv5qBf5-5zcgE1d31Ag4Id4ZAshVIuC0E4I2twjsgMirMNVHZCt4SIc3cJESEISuEmciczAKDqAqCu4RCUcSc3cX41dkRURIwijXiL5IwvjXiKS-MiI0SMYng4wvjIc5MuN+Ud4qS5UBDswhD3Dn9gCgMtUc8M1gSHQ-lMhWhQBtJS1ShptoMJS0gyNHCEtJMENHDVAdNkTcI4THDdCTCbCMdMcTTqEzTCRSJGg9My0jDwTfioTONDMO4ZkFcACZSMwQTzAwSsSXT9TAiYTSY4T0iFCIcYsggUTnY2T1julIlsTVJ5iCSiTRTRDjQyS7UKS5CBTjDaSWsL4loEMGSfCMwEzGhmS8hWSiiOTwIuT0sk1eTcV+Soi0RBDNZhDXVMyAYQlNiZTfliB5SjFFT7MYU2iZkwpuT9Nk01TjVNSZDtShM9SDSQlgJjSdD0ibSnCLSWsrTq0dy7SVSNgHSockygyWDcAwAJ4mBWAg9OAF5eAMBJD4DaVCViVGVDpVUHYE8A559hBmQCV6Vq92QtDQBgLPzJBCUM4il1lyVfyeDWSxUGwyNIKGURVDoAdbwP4cZ5QoDzB5RNU1VcKwDowCKzBoxiK9ycZkiKKIKQRGBqLSL6QmR1x6L1xmLSgcZyhnYoDeLKhaoSLuKwD0o6AM4lB+QoCxKJLWjlxhLQkwDaiKLaiNUFKggcZlJXg1FnA6APMtKXgdKGBGh1LAgcYBj6LzA89QB+RIj21IUhi5LTLzAcYoVLKzBrLbKHNIVYUnKaKwD3Mng0hPK7LQBIVHMbKzBnKzAcZgB3LcUcwngvKkR7LQAwA-KWK7gmQABSeKkK7y0AbKyK0AaKwHViqIyy-KlKsK-M2y-y1igAQhREqsSpstCshSarlTqsyq2OKLytauStStKLMG6pEtYuKKRHcqqqGrlTavqqytbX6qSvatAHbRGtKpxlbUmqCsCGmpqq2vWvmq2IavipqsCGqrMAavMDjw-k5DQrpSgprnSORDQVs3lCeHQtAswqbBVnuo-IwprmoGcAACtS9HtXqVJmUHNaKHqGUoDEpPU9yghPqSUJ5OQsA-qQKSVJU8hZYEtbwcZvcugoCiaWhSq8SzKwDIBiA405ApKgrqbaatZyaKaYqwCDLJBYBIAKKOauaWbWbNLTxDKABReijm4W-mimnGAAOSUGlvitlulsrKJzuu+wgthq+pxtVy8JesaFs1IAc0jFIDVXVv+s1u+1xt+rVpRveC1uk2rV1tKH1sNoHn0jVA+o1uxotqlnRrghpRtu+q7EAoOKiHXCULaNOO1kiEkHKUYGkH5CWMkGBqUHmF8wiE1lxNtQDpgpyFdHgpIElqCE7jDr6CCH1x8y2H-hJK8nDtcN1Wrs6Ty1KyMVUADqeq8KeFeNNqxttu9qw3uKRtKGbu6DbsVSBtBooHxy7oDrtqsMLvMCFKywzPdSchyClSFNDqBvKgbr0ASxLL-mXproGGvIIH9zvJng4Hnm4EwFfLsGTtTtIHTvtpo1pW9jrn1LzHDvgUQWQSwjQmqOW1YvUV-qEieDwXZ2l3-sHrSFs3vp1EfsoE1gt1fp+l1FZXZQ-s0ATDQQMTfn-rQUAayrPigPNzATwc-uqNPTzB-y1C+kYG1nzDft1EwfFQiykGAfWX-pQ2gLVvbr-ASzQVIa0ggXAYEnrhYZnJ4YnHVqYaWlpAxQS1szoYYeYFQfxwxQkabIk0VUpPbKZDooIYYtUMjEYbUeuAxRNsSlMbrnMbZQm0odPsOgV3zLYtuCZEMesd1FsfZRwccabGcb0bgbTsQefsgI8cYuZX8eBLy1gZTvgafuQc8fUbsYkYceSMiZ-BlKSe8Y5QgwUzYfAUlC4cUy7zAOIcJjkM0kKaWC4amznJKdwjQl23dK1ALRqc-sYL7HSfwfqUjB6dyW3ilLBDQizX+UBRBWLzEd5DaZwN5BgNS3-s6cBG6c-sMeYNWarMGdzxGdlLGdzUmcqiOiAKlnr1JidEUB-BOVcDURaDaF4I6aCKYP5G4RYZcfOcYDdDMORVubUS8Y+eUXCUWcefLHwnmcyVqbIjwBkUQgxH3B0ggqnTaNHKuHIBPqnnvNIBeBUimFAGelxSWnZmejDzDwflYKdG9lUERn5AryPD4RaCRKpT7FRMrzpYSPT1AFJqz23lWiyipd0lAkjBZcYHpewc1XpNAiFZFejRK11Apb5eeHAklYmxoakKUERlhZyFUCFzVvBw1dozKqysc3ODhfc25NEh-j-kpfkG1h4CeCpckH2mjLi0IGcGNZyAS3JdICtZtfrMIl1bdacMkbMAKdJrUhdYDbE0NMUlJqbMI3qfVKCDI0lY9dla9ftf4F9bUDoHDb3ByGPNqkdlDcleVsTM5cxxfjjGLdjdADPJrY2BSnoAue9ckFtdAHTcjMWG4dizVuzdddzf1c9ebdbbjH9f7fzbKH5RCFDd7Yja7aCBLIxD9bR2OX7egZCXSdvHtdbfSfbdAFILXdtRHeXb1cm103jYXLVuTblUHd3ZZhzbhfHcaBDaMQqXM2Le4c2XnasEXazfvZyDIU-cx3SZ3etYdY7d3K7saDvb7YfdIk-dVOjMaAXcrdpeFfA6DZ5PtNPPrdJhktPExdUBYDnbpxcd+P+PcdtS-gtc0GKyUhcciCWg+Yo7tQvgY4ucJ2z1zxYFGZzQmehc0SLQVbheVMI2swBDw-IExdQrVv48uf7cUbVfeADa1YGDIxRYS1k+UWU7Yuo7fDQsRblU08fG07Y6Y99tJn60UXSmiEqN3DhfQ6WfSZ3EoFXb3ZQnAqs8Tuc-7dUE8+iHDsjD86+C+d8MiGs67iASC-DrjCi5C6C+gqQj1O8-s6YBsKWcHeS--dS9tJC7ru6Ey-hcwMcPDvScs7C6WNs5c5S9EzAdMPLsjx3FeeBbqmvHnx2aZGIecLxAnFxpc-2R2ccKeBIBHNpB3EkCxaMRyEYHFW6i4SwQeZbJ40a+KYTcCDO3K+iAuw267mjtXLzFq5sOraMKnZfbjS6F8+25Lc3WG4C11TG4m5aCm8wYO9tPJJ4c0Esni8i8u4w4Q4KZWawbnaMPSY0A+4glAi4aeFB8snWcB9+-PajcpCad02w6MOh5YZVbEFGNyBYDUQQTcLaHbH5HO7oFbcJ8kuuDoEdea4EqzamkMfJ+J9pCp61d8fSZpKmgPastCux4JDx+4V1UZ5J-CBx5-bUk58g6xyF+Z-2nAsiCmByBTveGl-F6eGl9CGp7E6ZbjNJ4Afgkgwp5l9Z82fZ6Fgl9tS1Yc3l8UEV5JRV-V5Z-no1Ut+qt59x5Zimm+NhJF75-wHbDRkhuDoZfPL99PB1XcksAJH1kj9x9syD9HjglD-IHD7d+j5x6-uNlNjd718K18et7jtyDt4N6Z8ztqhpJ96I4PZd-bST5T4r7T756Vhj9PZafIJzAR2grFEWluAII7Cq6y5olHGK9OzVqC6253WoN25kMq9c+K891n2aFO8qQu4n6+ESOLwRxn5S8H5e6cK5eBGT5vUkC0oI6+6Vyi7V9PF3664YsP9sGP-w4qIP8v6H-0KWa1L0fwCrGJuGM3SZC-6VDE1fG5MLKM-3ginhDAhjLUnYQGYhBGuB-SAQ8nb5uFsUpyHvsaDAE79sue-TZvigiYIDQAUIZZhE0H568D+F0B-pJwqJxgEBXPEJHGFIF0Dao5Ao-ifwqImMIBTAimpGEYGS8TUxXBxv-2-4tAmQmPUFEsTXqPhU+qeZruk1arV9FSzsG-piyPBRxKs7zLsBoPGBPBlGQIK-qAF0HD9U0ZGNgTtGzaRoEsLA+-mwNUC6CwBWg2gJ3VZq2pDBdXIwqYIjSypUQQgwASIMMa59NmRJSQWtnr4eCMIAaMQRyyWgJc2gOYVuhAKWaRZ3iNnDgSPEiEosI+OPb1q2ypaa81uPbBLCi2yF2trWd+LXoCGnaGACszsZZHQEiFhdcwkge1qKHiF9lu20jKlgllSHclHYjXKllUIdDENlkVLBsGvVAD1EAAEsLUkAABBcAOAGFoAAleopAAADy0tZAHKgkKsFdiVA35ox1xByQrBLKbAeHUIDRCGhcQ44XrwyGXDzGfzQ4a0IugOMMhKgaZAcJCwhdXhlQfYRc1qzh1Jh0wuYQsOWFrCNhXw79ncPkYPDas1wpZhkNT6XCmhoHFodcNLgwjaAUKN3qc1FhxpoRHw7rE8JvTX8lmbvUlP71sxqZB+TgNtIThUE+w1ESEBwfkGpHcdb+F0a-nQN2GYtfh-zQkccOv6r0rAFgE2L3RIA4s5UAABmPpwQEgQKMaKKP57lwfwlAboLTkVEaBxRigBLJOgPCaigCTFIYjwHn6UhdRYog0SF36xyjkIdnTVgVwryKiOGKosmo5wiYdcoC6TM0UqJXTKJVRmbLfnmy96kxLA2kG0f3wwgJdWcoo7VtIy9FOjfRLQcQnsQVEHh4xj4VUSpxw6iwRe7wIFCoF9hAs0EvQjsK8yWzNF1W1ogrs9xFGpjTiPo9MWTS2zEDVC-TMxOkxzGSA8x0gX2H0woZcCF6lgXMfmNZJcNlaVDTQLtnsKDjOxw4s0TfzaAC96WIofIDs3tGnDKU+aacV2ILFzsCmy3SNiEm4wgC1Aa4wNohyUy4RwgiwI7nkxmy2ozs4-cLgl1JTT94Wc-XrIWyX7mZnAV3SZF-ygyQcK2W44cWf0Zw-iMO+mRZAh1W6MtmxwzRAZR2eDATux4PfCGeL8BIT5AQ4lCcwTVC9YX4-4paNW1ra1tgIHY7cRj3q5t8O+qA7QIWDhYBjCuKgEkcYNH7bdHxidKfhAjXHvj0g-KK6idzaBndugUXYjl7mIATFKBp-bbgAQv6-9nBvpU4aXVPL1M9xJYisrYUxx4BHMOk0jGxNX4cTJ+iXafopN4kXjFIAkxfkJOX5Rc8sZSCSbcSkkVF7RfAwIKBIEwX9XJ-pfQrRzy6MTIy1-OpsRmgzcYFxZWThPkEUk8T9C9MbSbpNmy4QfBOQEQUFIUwJtlMyAlumuNMluCy0rfMQCQEkk2DNA27DNuuOa4f9vBAA5Kcxz-7VSgBmzY8a3VKl69HCefKQPAKmjyTP4G-FAWKDol6gGJJUj6mVOK7tSbRrdR1oYzy6d8gQhJQaZq00BlThp64tKmAB0mOZxpwHLqUQLwGqElpevQqY5JsE0DzeROGgftH7FBAjp2sGwSYzOnODSgJjS6V5NKACDfGSU4mvUIQKijlcGI4gBnzQKFw-pBIk4eAVFGzNZotANsOcKLBzilmiUOceBS9HhJ4ZNPTPi7ExlRjAxevHGCoDzH8hgYk6MCr40SiVtoxQY0WDSlohmjsZ8LOwWH2JEGDFg9DF8Wl1YnSM2wyeFMfqxDFsgwx-bKQJEDpnckyMN0swTKgEaapxZNghmXfxZR8DxwMM8RlzMqxzirppQVwYd3KHizPBLjeqX4PqQBCBmMOSQMozplXZY4ivJCOrN6xBCrAUg+vrrPCGRpviYwwEZIEWE-IAAMsLU2GKDKgMo0mNyMMpmijhjM2wCxJ1kXCX2VwiOQDMMa3DY51wMOUSNsAvDv2bwnmXJHArfCZgqcgEVMM9k+y-ZEIhDFCOzlpyAZpIivvzzKyl8QkCI+vkiOaETQ0RfA8GTkCxEV8OQdApuTHy2LlMsCoo7uTHw5A38aUqcgUeVPKFkik+lIk1GaIcyE5qZPMumR9Xjmci1MIcyudPIEGRC9QcQA8ObLlkcjsBmQgkOHTnkUjIaMJJctVWNRkjh6h4Inud16x4jeRjw0+UzOK5cCFBk80UXJG-mRzTh5NE0tn0iGmyT5LM6lufOz4j9pGy0YQIUKsBRhnmSwZRibSZBQKYFInJuIJNfbnckFBddfofNgpmyYFtgmBbvwvlEcuWxCrRMczGyYKaFECqiW+UuE+cCB6MiPhV26HVRAQjXfhQfN4SWBP5vopCJcJBl-DaArDSdkLNjk+dmRB4jUmrU6FyoW5KIiaMourZkZSANgEMQhmZG0LHaLWfuVkPlaOh-po8nHngsCCaAp03rdEaDJsUEh+8GqdJsyKeAKD9FOeP0MYuz7cloJ2HMfD5lEXvAvR0dKRWjI2BoV45CWJWZmHEZzjZMBTThUNPjkqLE2ai61glk0XaxURmS3RWrV8WGKeZJipEPMXMVR9LFZo1xSwDsXmAHFdwWpSPOxEHtPRoo7xaFVKV+gvRgS1KXeNE75TvmtIL0XImZHSK+R1cnhbTOUXdT0EbRH5nMv+kOM4Q+ImRfkB0WqwqZPzSZfMtTRhA+E7wYxVEtjlTLcQosmTtIA2XTKAcHs4EUsJWHrDwAsmB5fMKeVgj-Zni-6d0oczZBblhwnoYlL+KiCdlHcZZb9JiWtZwl5Ss5bEJFm3ZrlYywBQlg9lezfZryjYOipLnfKImZov5dVQBXZzgVikJkKCu+nCkuyhiYGkylrSAzUS9KkLjqRpU4hMGwfJuL2M0B9pWCw2VlSIBrS9pou4EJleCsjxL0xKtK78vSsSEYz2V4FFlZKrZUyrmuXKnlXBD5VKqBV8qpZrD3VWkwEgUQEKLSHNkqryhaq8CkEwQZIMRwOqowOsCMIWrIh44YGtQGFkuqcQ+OcBRX0BlL0PV35f1ZPValbkK+vjF1W6vyB8rA1Y2aNeyVtw4LFAlkFldGsAJSqg1AHZwd6ub5ORmlWxPICIOZAJr6GUBcNZEHM6ixJVEa1QFqsnqsKfVsqqlQUhrVdhm1bLRMsbLSBwIDRtvZXsXzfkmoi1SaoTM2urUSA01uGOBT6ozVBAFBla4WZqrHWerR1dAcdXGsA62os16fRMLmvJWMAnig66SmOojXlr2YhqoaA6knXN8a5MfckaeAXmaoP+rabZE+zlWDqLM8gI1WXgoWJrlcdjJ3o9Ptm8IQhA8gQawkmSAbHZIGnySwjYTbZnY060EiGub5Ygd1gKN0IWvtzvBlGUBM9QoBPVk4cwR4KdO0ywZLMWcOzDet-D8IzAd6BgSIVaoSZAIL1m6y+SxA3K1z55t8kJI+uCS5giN+yBjpOCoBDRXiDGkJvImHi-r2UJtQbq8QwJgM7KkHTYrMCcGPSzAQ5XjsoVPBucmKE5Z4oshg1BAmQYmpBrfHHmVliyEgh2cBqyFjST0Ac6QGuxY1EcUNji4zXE2CamaUI+6zDd+uLVPATNoTJwsfRMEQppwEgWSglgACcAwOCDJSJ60K1IM3XDhFoS1kjD4YIMIJ5l3HyKnYWfEeNGT+78o7A7ZSUUD3MDxbJKqgAAOTVbmQaABrY0rjbBTzxZgSrZZHL6PtSg7W2hdBSmAN93e4EMICbTsCwoj8KPSCYEB63pb+t+OZSDmHC3iUieE86QATKJkCYfQxyutVeoqlIacermrKvjMkrraCYDoA9eilW3Hao8nbIOaLCSZ+bLIkQZpZrkUCZA9QzNBBWEAMEJY7Bqjd+hJCWh4piAzS6YqIPHmpL+U10RgG9rpqgBOqDoPUDETdBzt2tWxGFLCiSbMzE14gYHYiyLRuV+gCytralqq0kAAdWGyhctHrA1t42tbbjMYquYnLbmRCrJfakhUHgJl-05XHsv+mWzbBXW4NpDte2ElYd8O3GIAL0ALgYJxOpbVVqZDo6JyzIpZXc3x3o73QNOlrUYBIkI9utJOyyPLoV2wplG0qSNAwEN0womt8EPXYlsfm1z71-A++U+qxxk6Ow0Q82ZL0E29choy0Xft4pU0EBQqzCLgW+p918grNQGxLYVhgjNNb6bBIxfQCBRuAntU6GMV9uWg-aYFKDf7a7qWDJ6pUjxPoODtiW8MZCAOEPYTHD2QashUe0lagVRKOE21f-QFM0SoFLFwB5wdxiwhfgu6KMFOn9Z7r0B9cMF-LfCA3pNryaA9DmZhM6toDhAlAFAb9WEGUTKRGAvsArgyqcCuAwQJBPvmOzwm9NXaWM9fRSkeKSBnibxMYssVuKoSW4J43fbBwcY77bRgbELtUGUg6xfEZeaPksQ5XAR59+ilgCbCGhqR0UpAY2g5gYBDFlcYBlxv0QvhMh+ifRWYkMX-3-rSgCBwmMkOk0hce9gO64lEHQbJMu4uBpwsYBYSzysDoOrYtMTf20Qlon+87rZloQkHCDJ+h0PoDBWhKtQJBj4IoBYBSaN9psTuHrxZB8Vxpt4YQ4QIhB2IeMqJOMMIYEWJQFDcO7wZ10MY36BDLjYhuvxgLKAF9X0JfY+BX2+xhDXLHjGmK2VspDAUIaNPiElCiNDmAh-fWYiZDUGhiPBqYPwcjAaMFDDxInWkH6Ln6hG1TDJsoilziNlDLxTVIEemIeG+DGh+Qyk18MPFo0HIWqZsxINbF2K6DIbsDpz28HGARHBxntLBCmH6kmR-RoxSgK3hvDVh-0QodyPk6CjdC3AR9CwMCHDGTIarefpbSPFujvjfAysWEM4G8jveh7VQsTWCG1AhIFwG4EjAsLXJeMoxE8T4RPE0NTxDQU8TNHmbDGmR+YzApNpxgWFHLUY9EM8MOM9joEY40cYOONH8jmChsPdvNnVaNBqgNTQAB0sAcy-HrqhOT4A+E-BwrElWWoUpbUdWh0FDre1gUBgTxyhS8YeFvHHpnx744uJUSkoAT8Q1QoQE1wm1YF6TbE6AAABe7tMwJ8aLo-HaQfxjE-7tgXEnQTTqcE9uGF1LQ3wSyEYEJjyB0BE9YIF4xSbRP-HCjnlJ4HjKeLOAnipAJ4iILVDVbOQeAWEz+t5OomqTgpgasKbAJKBRT4pyU+PMZPuggAA')">function unparse_query(query) {
    return unparse(head(query), 
                  tail(query), 
                  is_null(member(head(query),
                                 list("and", "or", "not", 
                                      "assert", "rule")))
                  ? unparse_term
                  : unparse_query);
}
function is_list(xs) { return is_null(xs) || is_list(tail(xs)); }		  
function unparse_term(arg) {
    return is_null(arg)
        ? "null"
        : is_list(arg) && head(arg) === "?"
	? contract_question_mark(arg)
	: is_list(arg) &&        // exclude pair(.., pair("?", null))
          (is_null(tail(arg)) || head(tail(arg)) !== "?")
        ? unparse("list", arg, unparse_term))
        : is_pair(arg)
        ? unparse("pair", list(head(arg), tail(arg)), unparse_term)
	: is_string(arg)
        ? "'" + arg + "'"
	: stringify(arg);
}
function unparse(string, args, unparse_arg) {	
    return string + "(" + comma_separated(map(unparse_arg, args)) + ")";
}
function comma_separated(strings) {
    return accumulate((s, acc) => s + (acc === "" ? "" : ", " + acc),
                      "", strings);
}
function contract_question_mark(variable) {
    return is_number(head(tail(variable)))
        ? head(tail(tail(variable))) + 
          "_" + stringify(head(tail(variable)))
        : head(tail(variable));
}
</pre></div></div>
	</span></td></tr></table>
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.8' class='permalink'></a><h1>
    4.4.4.8&nbsp;&nbsp;&nbsp;Frames and Bindings</h1></div>
    

    <div class='permalink'>
<a name='p50' class='permalink'></a><p>
      
      
      Frames are represented as lists of bindings, which are
      variable-value pairs:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (make-binding variable value)
  (cons variable value))

(define (binding-variable binding)
  (car binding))

(define (binding-value binding)
  (cdr binding))

(define (binding-in-frame variable frame)
  (assoc variable frame))

(define (extend variable value frame)
  (cons (make-binding variable value) frame))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNA8QuFE3OIFCqGIfRcgUQh6GIOhKG4Gac14i8EjdUUQS0Cgsgmqaalmv1plKdaXMbFCxu26a9uk5pRTocgFDOxQdpmyh9pk-LCAYQxfAUFh8BOqijG+37G3wGQ0juh7Joul75roRarvdVINEIEFuVRcbHuh16ilKZG2F8fRhvzUb9CanLiAAD0IQI3GcDGod2mGWjh6w0PQ2cQNBhhTsMfRyFIMQGEp6niFpo16aevbYcW2woOu1IssoYIGAmlhqmyugJax6TSiJ9cScV5XVfV2KlYYPHqDRunzsZ1nmfh-15ZV+g2NRTotdtnWWjXZ2RGoN2tsxxnpex1ZEYYNg7pYYRyCFqmacMa2g+e0PYlKRLiAYMnNcjn6Y4YRcKHujbPqBv7eZtlO2Z0hpc+j2PfuEAnK6l+3U7DcPjHaGblEhyWXq9vXPraAtHDGrvR97z7mC0e7Zor5O9rthb29AJ3iEmyhcQ+Ua57BFuB-9QMPzVWoEdFdgPC8D2U8Hn3L+Ua+D5D8-UkC6fd+em-LqP72fnfnes8v7Pzbq-c2tMxB0D3t-Q+BpdY+3NNQSB0CQErywHLcO2cGAVGUJHSq9AYHWFwqAdBMR4HEy0KTS4sUcH7nwL7Hes1sEmEDgzKuoDHbh1ofzDWhC74-G4fgzWqCWYIxMsEGBFlrK2Qci4L6s1yAUw8l5PWHQtCFQitnQQhAUYE2RNwfmYgwhFndMKN8qRqbUAUP7agOZM7ZyoXQX8CpAraN0QXUgVibF2KztQum+jBACzCDRfChFTHtmdlDcovjBoEORM4ho54aYZDKqokmWDG56IcKzQyNdKZaBEELOGcF6DQNyTXRMficqFwhhtXm8Tq4VNDIYwwjSmkGiwQtEpUCv7xOfIUVxop36nVGDSNgsDQylGGVRX2BSwTJPGavWIzROwamWKEk8CpxHTgCVZGydlHKNSqS4LeJBlFuPxoVWI5xNHHOBKCBgXMeaEypq0tuJiYiuJuNiQxgIAB8f99aUMMSHearynS3NiS4IebxXbOHdiIxaHzBmpEoKQfgqgCZpMobCmx9AfgizYmjPuWMQ5LPIUCh6fsA4MJHsAxeTM0GhmMiNHFLs8W3UbJ0Dat0aB2MISHcKA1kyAuHt3MeRhKAKEoG8leHzXyig3pobedKJUfGlRMD5Az+JulWX5DZ-wFWpEjh8D+QDZqSo1QkviK1oWsrGlUUgprAEby-uqmVrMV76uPEREM55HXOqlSBU6jJDLYodXBQNn8LXurCJwL1IYjUMGmeuCNTqQLuu5lRa1-pXEBozUGrNqa-Lxh9Vqm1Akh4Tx7mNcpnzRYFujTKy1Hr40sxLdc8kNzhUsQ5o8sGDhEGQKlLde6xjiJfI0PoUd8UAVQkHRA9UcJuAzuCWcHtblDDckYPgfgzDcE8NRAvNhe15VmNFNWiVB8c0UmKtSINLUgSXqni6vex7+6HhdDq5IqQlVbzFZPceD6lklFAOkTIda1g6JmoMLdQhHl7sERrepkbG3mrBLGzcdaDRwZ3Yhlhh7mr6Gw32DOAGa2jLQ66+eLaJj9MYmW4i2rbVcII0IvhfZDqgn0Eh2KX0fp-UISB5o4G2D6vXVgLRQ8H5PwZSHD555MmMhkwwTJhC-Lnj3I+6k26EMgV40RzJn6VB3oXYnYdoRGR9q5mZpBX4tPGdceG-QmSwUFOEEUnM3ToFabae0mutmLNvJI-5hoK8IUbvMEPABM9qP7zk+8id37BK3EzimgsxHoLOffsLBOScT2MpZhFyTdyh5Dp6RaxFS0TPvAECGoEznyt7yLQWOOIsxbCIZcvdt5JyulwE-9VNfNF3Nf48DAVuYqKCoCsl06QqStQtFQZghVWPl9bG39FrY1luMA26wj93AQthftTxtjGstttbyytrrfnQuxHC35VxeqJN4Gzi1OQigIAwHgEgVAfU0DEkiz+iO-tjqEORclm6vAfpkHB6AAAPvDxSF60XVDEHDxHyPUi-T+v0TrBXwiY5fKkUTcOYhE-9O+Cop9BjXqFVoo6m0tvg4iIUGbLGD7za0aKZgYgJAeY5pI9kfR7hiGqyiguS5r2gAAGQy96P0WnXWVJAkoCL3nXO7k3Qhiz9nAkefkD57UEHc4QHghnRooH1Iy4gzBjO3XzGBJzH0BGa9xXudIxG-SgnEOWMG6NwL7jZumvPUt1okPTC9sO9iK453EY491iE-yc44evdMNOpd0Widrs+6SyxhPtpXddeT1b0UO3o-1r96iw3-OTfxYKxZEsQh9NndRPCBHSPiei9r4Ls3eZPEOn3XgjW7eKcGn9z3oPCXwRYJ22Hu5O3+vjel3+WPiuXeJ4L-trGkwItaMXxn3LWf8sfpMWvkYEYi8E5LwtkVa0o75yPx1ivEveeT9N9Puuj-47H-oPPxbX+scNSxcZAS+5cL+yW3ygMA2-a4M903AW+Se9OdygBqm+ATcEB+e6+l+iebu7uWub836ZqcWmB+u1eAedeQu4IMWTa-+IqOWP+z+K+yw5+gwV+H6+Bi2oouKAcFey0ZB3exuve0+PB8KjYT+2edAo+nelO5B7+9e-cje7KNKr6oee+dyoh+KjYhKlsJMzBMeyWfagQMgQueI6hi2mhnKtK4qChWMZ+hhDyxhQupIyBFhyhYh5s4yZAvKtiJKts9hLGRhlQQuOgnBd+qQz6QG0qS0r+NeQh3G7qFkkRdBLEZGkRtGMRDhc44IyR3AmGrhIqkRxBb6LazwsQLByWiB7qJeWi+axRbqwGARTu6++R66WiNMVGJRmGTRbomEwGBRLEiqm8Kq4qvcGRPRwOpOrRKeBBEc6wnRDRVqEx4cpOfRVqYRgx2OXIsmueeuq0ch8RH+DeokMmKRbkKmam+hBhWBF+uBxemuXBSMOiqMvCVx-B+xghgeRxihokFsVsf+5hIqnSjBkhpBboiBbuAxbkhimeHW76dhq+lR2Bie7BO+xWr2xy72bUX2nUv2PUlgpeqK6KauBMFM4ukO2OckHAQg+gZJJCkyoAFMikxkpApktJFkOO1J0KVMJgWgwgAQJgxAvhwgjQlut+qRqWMSyY+gwBkgZAbyrmiWexaI3G4I500S2c4It2MEPCIBTq3AipCaMxjxkSU0GpxypM5JVenxlBMgShUShSmpgJLEWCspdSlpvuAkQRJhdpoAZhUJ5gGS6BeiVpXpjhwRvpLhbRdynSxS8gFWYIMgoZbo3ppM3AoRDxIqZG6WVKcyyZKp2ROZWpNWeZAZwOOZ+gp0+Z4cb+hxYIp0FkRZzpbkOZsyX8VZnp4JyJtoVZGxQ0jgXwicdAgsXS8Z0CcqeeAkEYRp4pbkdRcgOuE5ypCuIwM554aumcf6uIo5pSz0jIomJws51wkpC5900BwMbyPM1ZCE555clEqaa6xpQJRcmce29SL5ZR5RjuXZIwp51E0Zi2f5W275EMn5MQy5EYf5fZUWFM7mnm3mbqNul5nQCp6wm5LMnZaIM0Ygaut5uo4QwkQIHAw5uFa4SwDJN5ZGf5eFyF+FBpaFnmSyzQxFOFqgNF4QAAPMCNhaRShSBrpC0KyRIuCAACpyQpZ0C+CBJiDQ7PQtQ0jPHUC1DNDgigAADU9JTSHwniw5QoBMb54QGlxZqlGlR2MQ2laOellZfF-FLJbJol4lMgxA9k0lsl881IWIKMSlIpok6lmlFSFlulMg+lSFhlokFkflZl96OlYgVlZFN+DOckEkYBg2GWe28mxEUmcMEcck2IS5KwWiuGNF9546hkEuUxoVR2us2V6I2IUVMQPcg5aO8FY5X84WR2zQe2KuK5sGlV7Ssw6+8VUVnV26G+D4oV1oPZNlHaeEiaZiC03VG5QswxLVu5p6TG0w2yeFUidAv05QYGEMVyR4BEmyfY-qL5jI85L5hMPWfYriRVQFb5pMH52p0EQFzyUFxm8YXay5C0OVRAN1i0mZLE62NuzO6Vk2bAGV5IWVOY-1eVGFG1MQhVo1b5JV1WKw5VGQYEfV0E1VcNtVmWFSjV+AQ5I5cZa1YI7V6EnVNu3VzuBlIWpQpEzuZF95-FSkRVmEE194WQ8VX11y-lRQr4C1hFwum5K1O5CZGNm1Ql04ENeye1IgB1905yEeWkAteEjGhk51EMl1qGWc11Cad1yWD1L5KVIF90OSd271VEltjoM1-k31350KNVuVgN6JsgmJrUn2HUP23U-22AR5wOli1ifK9iFp8SyxE+dZjiFkod3ixAZx5gCd4dDAViKMcWvCUdiJNxbBiefS8254qdvhUpR6Vm3Gzogu4IcwxZsQcwE41ttcqpHIddMQHIjdfm1dCEbdk4cEndVdqpHMvdHMA90w1dUOmQxZk9bA-oTdRQ1dwUKM5AvgxZS9kcUlBo89hQ1d2ybd2yfY29sQ1dNwau5sLAhgWpp9qg59LUKwR9MQ1dalvdsQ7JoAvgBFAKSiGlm9D99y2R7kL9MQb9H9-yjJHk79MQf91dy60wIDn94DkIkDoA0DqpwAQDBgFM3AoDAIX9oAYAv9XdqpAApBg-A2A0osQ8g6g9kYRS-eQ7g+A2LR-UQ9kQAITCT0NYPv0INKIcNAgsOD3ZEcVkPcM4N4NcUxCCPj2qkcUAhAMMMSNAg8OsNgjgh-KiPYO8OgAApSM0NqN-LyPcBFCKPgOGN6OqMQhsMYPgOFCMMxBsOxBknOhOjF2eJh2l1YJvmAghhQFzDcAl0+JvauN3qBMR1QqPIsAABWvJj6vjU6yIYD3d7jidxZiBfSf9RQYTZdzUToRUtWPAKTadTe7lRF3G1dqyxZqymTd2-9ajkAdAao-sq9xjDTTTW8NTd2J9VAN9sAkAbd19DAfTnToW3TZ9AAor3YM+MyM-5tXQAHLkDzMYOLPzMc01whMFPZMlMZpIU+MrBQHKBgPO7KB2zbPFTN5rpuNeLFMXPp5237PTCHPHPdlbSbiFM3Ol07NrrB0XK4jZMOIBKGIczVl4y4jVBigfikD4zNVRPkB5hbqeKaBE3bjZMZ0cB7zZ3ZKvUNDAuggIhFASaFX8QfRS3QLVn5IwarUJkot9jIwwYylFOePHIW2Hb+bnO1bN4W2zOxD0siCMufNBMsv4DROxNsvtIcuMLBp208vt0i5bnUt7zFYcACBLViBfAsA-Bkt7lPokuKtfx5MYlQpYm+3fZdR-aYBW5vBorkCmAMDdwfBVQ3CkDXz97UBPiYUrHQ4sCw6IFutPiTAhgDW3GF6J7+t-C75+XggMAmXRWWXBVDCvPWUD4RuBsrDNB+v8zuuptlkmYKA3DDw1J8mSoxWlUu2CDKDKDQ4ZAkxGAGKVsIMtQaV8yVvdXgiqWlDttrzhW+UaW2unM4uhjtt5Go7DmPm-MOCFzGAlto4GJBJzuCyTv8zGDPD-jLmBViBRsQh+UTQFvGBFtShQEwlLtOpcDSWapGXWDgi5snvGBMBkAKB8wCzVkz1Pti5BuiSibaTTBOyC6GLhBy7STmJpDY1jVZD-uE7w49Vgdvtyj8OiTFDwgfuJsjD-ttuIeKSlDWsUB2sOuxTOvXz-vMkRJ-G8JoeAcTja5nnAntagkQfkqiTbsaW3uZwbSPvO4tKwdyimUTiqWxt7awH240dXaawQeRW8e9tlB0BTuscPsof522icf0eGW5LwjfsGgrLSfLtjRiSgjFkgpScyf3ukA8SpxOw3lEcBiGfacQg93cCC4cfPuTXgfPt2wsfGc8QhhOwbuwcfvggADksbvyRlgXXncbQVBM-7N7Wnp79rBYpABM3cCXL7JOoH90MO04zuSX0jtT1dQgwgxlwQxldkWkFk5oaYxl6KHA8IabB01np78n+g2XdsEYzX3A7nbHZn9X07WX8XLDvNTXfXbnMXd7zXwNbkcLCLygSL0rqaHiHgWeLyhAKX5sil-xmswsqcXG2RpHbe3Awnv+G3VMsrKW2Ik36w031AmgF21MC3bgC7vMm3tXRkKxi5x3H71diHeRYNXM9uT3YXws435g2X83vcbgS31WSau3dMT35a-qLLXVQIIYAnv3OuB3z+T3Habjd3xgHmLSjIUBIPt3YPbynHmPLiyWXjdNYt4IPdH7N5zuxPWexuLSdsiBTPbgLPQSu+YXVPA2bbw99P8gJPXPRivPCP1Pqk53iLV3s3BY6nOMfdOyEvA2g7sQUB0vl313GeHPpPQSEPz3SkN5fPwMATwvzPeP3P3qJ1hq56JOb3y3Mtrin3xZKPduDv9GBq5aTmVM4mkKIqpyY0m3nrooN5m3H7zu4f6bglbJwsO1MihyEhbkgfydLg1rclEPIfFiS4UfdX05730fW1cfok0iBy3JtHbk6f88YpqeGkps9CPr5swgFQgwwfk5vRvgJAmfNP5XdUubAwePnPmkVUambfy5Jz9Acyj3x30FwO-emf7fwOtZXxVNVMFkiHs-7onLs07rlCxff57Xu1u6hS-eDA6gIgHApA1WWiuQhAWKx35aMQSa8-sPSNt6BTasfsw5ym1QbEw56djAaivvw-KO1y2VOT8FKE-5-932FSY+ErQ8yn9z+wgS-kt324fkOqJmO-i5l-7NURkUAtHPRlLQ29wkwHMPjP0f5FBXEN5W-gTEj4z9uANAmDk901oMZiBb-ctoDxDAMQGIriRgZtyB5yI0U-QBQKtxICFIKgG9LsGyAkEr1jchgUkFnxA6ZAjAZhD9jIN8ByDiQTwMLgzxaJmE1ewDRtkILuiiCqW6grsMYJEGYR9B9VdpOYI8zyCaiWuWaGQGpI+J7BKg7gPYM+gKDF+XrZQYYFUFWdvB8g7QdH10EjBAhJ3J4GA2qAbQ3BmcDwSEK0End-QMQxhtpWEFkQohCVO5JkJMEyBI4UqBJg4DyLVlChVAApNPECB3QS2WQqAgEgmC5sKhlAKofkMfbtCVuUxSwVtzAzY0wucQ1wf0HcEERZBgwQyAzR6GDt0hAKFoW0MsF1CTBfRGoaZ036UtCkQoBhKCHbJZtRwrEKgGgNAoKY70+A7-kCFOGCwIW1FcNhwEOFW1HsFJSFtTi9DYCv+MA3+OsMGA3Cz2McOaK1FArEcOIPKBgKfS4gXDmcFwu2L8LuH-l-eLEIEd4RBFUAuIHELwQcP+FW1PWf5NtjIDrC1BVKfnXEXsHxEA92g7sVEfsJehC1QM2I8CtH1FDz8OI4QD9p8PTpgxKQ2wi1BSOhEYi+QAw7PnBBlJUAAO8uUPkuF+G9CERSQJEZxDYoRgmRBg-0BGAlGKiDQUoxgKCLYqM9hRqo-zM7hVG2C3qH5LrjPjxEFcBB1INHCqxyjtDaS15JcNwxmF9DMgm-NQCYC8DmxGAvfdGN6OcDcAie6IkHlBWOEFNNRyaUWCkkZDqiZRXEAMX8N9H0BxWtTPsEGJAHLkwxCyDKKpCJEcACuH7UTGFzJrWjdsCwjMRGMWQWjeAd7X-pTCFFUi-BKOGKo1yZGb90o1Q4QTiDZDdBfB5Ic8NpnSidjMwvgKMmAI7AnwXhxiUoKJm7aGALRNYimAwCJCgw6x1Wc8N0EZDaiXoDw60vP26DhBO2iHbtt0HmwqtQAIlAABLjMGAAAQXADgBxmAAJREqQAAA8vM2QBAgDyVuJyrKPAR18iM6omEdWSrGZx5xdYnlL0LbHziWeQ-I9OBO8Jdc2xnQLlLBOai5skJmQP8WmCIzVkLxV428feKfGvj3x6EgcNBMH7-jxY6o6sm2NtHzjFxWYZcdRLK6oT6A7kdoTXxjK-8sJw-KiZUO8JATPW7QrOEUKgLlJfh0Of5CRjdGPxPRPE9GBJPMiThWhAk3kbKx-FqB5JAE-iUkCAnKtJAcQDIJnFyAOANojIAAAyHktENQeyMmiMmiCXisUagIMHFz2STJLg0gIyCq7GTj+ZkjSniG3ECRvJzsUyWQFzZkYbJWaFNo8G+EBB7J0PHKM5PtGCjwQX3JXtkHilrdzszk5zsm2zbYRN+gQGdFFPymiwABGU5sCGONCZSvK63dOqaDAzOU7JHAByboSckuS-IWiIQZnHsidBr4Y-TGo8Jf4P9DI6cSUpFO+GoDDJLUhKYwCSmGRzOOfAvhRSXDdSGAvUtgNfDoGO9dR7dQID1L6lMCZ+wmFoL7x+rls1pG06+N5M34VAxBoQR5Ed0ICURopZ7YMZlTuSXTDphYN-s-35iEwb0rYeamSL5q7CIILQQGaGFcRooCwoAwWmwOwyKYf+bwgAYbUXJAS4ZX6a0qshczrMrOuIwiLYPDD7T1ph08EXgMIFah0EXvdgdcQEJh9mR6EUoF9M2mNdHQHedkCTKulMDDefYZoATOMCO1uBEFLmd9OO4WjWRmwqaLTD+B5S9ha4QScREUw4CzhoAcEVcOuqxS1JfkV8I43AE05Xh0AyGZXgEgOA9KMYtiuTIBiQikxtTBWdrKFpe8-p04NcL+H8x4BIQnsv1CcJVmbtzhvs1GdcM6AYyQwriPWWOOeFfhIRdaY+ObM1FyyIIhoooFbKGw2yk5SIdAdBGMiwUGWWs+2VBWt5hJXwd0mDArE1j2ytZn1SIPgzACezIQoc5LKaOJHmiu02tQaSxk+EJzbhkNEOd9ThFuQzZwVC2TKQXB3h3py5bETTxzEkirOTc3MQrzDgjxyRo83oX+X5FRSR5jMurpLLBjSzE4sswgKPKAnrzGRCglkTnI2G7zSa+8x4IQDvCHzBJNc0AHXPXk3lD5Io8OG-NJAftB5uIeOfKJsH+Z5RpIXaYUF-nDzGegC5MdMEZ4gL05BVY0WFznn4i5xb8IycNkolOJFBy-SggmLoCNkjJqfGrLgirF0wbpnrRAjdObLmBgpamchQ2NS7KCcCtoKhb0Ly5sBepvgIkvLy66IEIwrCi0WC3NjNSxo3k-0X10lwqTdJoAVMUcKVl3pcEeOERV5JmgQwSpDoVINUAqn-lDQBTcBZmNDQThwF8cuMTylAWJJ6AJC0Eoovgw3TzFRQWRfcOXL6LyxWYoEMgrzFWcCxhfe1HFzIAExaFwZcaFyREWpCixkgG0QsJcVjIXo+kgQHhIYAPjLIAAGXGYfjnRYmb8ZIE0neTeYgEtSZ6xAkACKgFMeCUkEglkSPwFMY3LkrKVOIwuGExsLUuoUuBGlIi3mLhMvGJKUlaS0iSBHIntK6l1ZYSXy3GHbhaJCw+iUuJMLMSk51BIyexMsHwgDBEylYRCDSnzKOAiylYTV0EXPFcQtS-JePPLbCSWhYk7cN5LAYkYhFscbydooCY6T8FakgwRpJvqHLHleki0YnEmgtTsug3fxZIrMW8j2xd0YZZYJElUBzl0wSeQCkMgjLoM4g0YRoLGVvVuJeC3mKYtUlQVVRTooRbUsxXSLPqt2R6j0Ilm+K-l2XGESCp4hVSBArQRJkCAHGB9-lyXCyOGj8UJcjqJsj4jjPpXZJMOlon5ZnApV9cqVnQ4jnys6wuCaMbXYFZ0NQXFLKYDoFcYoJ86bi5QiOcOPP3VWb8PgwQTOHgtRlgS8FkPO3oqopjKqTVMtGIGuL8CMgpljEkwiasdrngq2rJZ6FpMiUrDHmNcVZR2O6AsTMF2y4QVyqyb8AcQga7CWxI4mDsLOrEp5U6LdVFSQIhqzocZhpk-UnyLEPVYEBEVGqql2i1caE0eWMg3gVishUZOMxJp5xyq6idapqxUh1xQIB1biCYmPKWBrqxIMmrzXtCfVOkP1bUIDWiRvJwau6KGsKClQI1w6hZTGsMg3kxFBgBBkmo9XBS01hc06p2n7nmAB+ea5WHgowVRqsFDCkRQet4lYKP2O6u5SarC47r91zqgCiKlvXxrT1qIarDmoNXxr81JSl9c4GMxRQ2AFEw9dpgSUETHxz4t8eAD8gga7xYG4iekrjWYLuATov6IBrPVrpy24IDENewfUg1m+J6+heSHfV5qIWYEm6RpjvQob2ljIBJUktSWQbyQNGnpfBqXALrkNAG9pY5kblYaFVCrN4FEwtLCwy2dMj4qTkE0tLGoBtPjdQiW5CbuVLgbaeO3aINpfY-GlENP0ICyb3iJyRPGJtzZDFlU2CFIKpulJibFBom8FM0INrBRjNq-DTdWQU3iaOihmwwDZvU2aboZOmizThrcg1AxAo0DzH8tM1+CHNubTXjN1NLQwZNYFIWqwSi0Wi+N+ALRVJrU1iqehig3jfQBs1Jw6Arm1eebXaFhcEtWipzcltMALwct1CONCFnZV-K6ipW+LBVrU05JiE7SElSsJvyTrwQ+XYyjVr67FkitTiKyQviM2JbNY1myralva3paVq42qFDxiM2Vbeh3in9lv3iHDDEhSKqUOUl63+LSYVmhbSiHm0ubFtk24Qc1oaBOjrNo2yjM5tc1HbctkEJpG1rO0RZOtRXNleSr61eCRt1QPJtZOIB+bgU87OVWlr8GnLRJU6cpDCtISthGFWQHbQl2nQA7-NHKyLtz3sUBUrRESksWss+qyw4Elo4csWOpXPUAR-4QCCJmxqPaigz20FUKk60lcetn2-xcWV82jQ-tpWapVWz34P8-BzmYvmqw1ZasKa0tC0WFtl7M4Wkp20FUWHurgqzlkO0MNDtDCUwTA-AMaOpGYA78SYUVcXddwPhvs40vI+xZWX26f1bBW1HMLbNqZ7IE+LgDiJNk8meRe26CcnUUHBB665eSdHngyXCVKwcdHYqCsR1Ew4tadPEeneGo93wsLu4W06EzooTCqvtoAT3VtjybngbgC49eivUZAABOE4PvnYgb0SdmmgvSFCL3CTQc8tP4UermoRJuhxs1gUXLMQuAxa5k+tYUCz0Ex-O-nCyGgD73jr4ZYSWmTEE72NcPglMhoJ3upXp0NoiwqwYnnH0roIG-pLgedNiBT6K9s+t5Bnuc3L0P6gijhSvW4Ua7IE+q6XTSr8Fh6I9ajToJwuP3x7KUqO-Tofq4VMB0U-5X5rr1R1vhpO-AVcGQF+iJwOmtKmRYyCJ7m9weMnH-aVCjZHBdl5IV8HYlICAHmmoAeDjkWJGzR28b-UfeCE8heRdeMivrlvxgPKJAGBLEMKPvc4Urjgjek8AxFfCGqzYjfAflKFaAN7L19kvdc+qfWYK0CGBdgywMQMAHSaqB9A4nGIoa0KBHewvSvQhD4HndeCwQM31qBkH8DvkOg0RG4FtzpguBhQ87uy4XgYlLUfQ55AH0j7ZD28BYXCvBVQrtwyuipNQb660smkmu5vLvzGitAYRSGq3Y1AQYyxVRCOxLnkSx3+6SdomXfOmqJZcT00nowwPZFhzVBSoRagpq0DAMSLdeQohrkkf4CwH4DuiqkH+W0xBGmuIRondjvCPY16MWNZQUUd6Hm58AKWWUWjkpHkApI-4TTkZz+VuHtdlCLw9BzqM+GzdYDGWBaLIwXCu5Z7Dsn4JvJ5zs0ubK2a9MNkECKF6+SEQsYDl4DfZ1ZCMOse83mB1ZgAzWWDO7nHLhNLgKsJ4Erlpis1Q0C+V8JONTGpsBSmY0uHGO+zJj95VCNrIkxf6-l-nb0foGgUAAdLAFeoRUeYzYMgYII+xD3v0tGcoaCD3tEhIHAD3uk4H8ecMAnYJQJ5MaCfBP3SmA9CaEyZyFGCjeAq4O2D0BvIUnQAAAL3eagBQTRQUZUSazgwnTd8J+k5GxrjInwQqJ0muiZh2SYDaQgeI7DgBMQm2TJJx9mI3s6qk2jHJYysoGMoFdJg-nJ0HgExO7bJThJqExyblN1MIQipk4sqdVM1c+TvkIAA')">function make_binding(variable, value) {
    return pair(variable, value);
}
function binding_variable(binding) {
    return head(binding);
}
function binding_value(binding) {
    return tail(binding);
}
function binding_in_frame(variable, frame) {
    return assoc(variable, frame);
}
function extend(variable, value, frame) {
    return pair(make_binding(variable, value), frame);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.81" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.81">Exercise 4.81 </a></b> 
  
      Louis Reasoner wonders why the
      
	<span style="color:green"><kbd>simple-query</kbd></span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      and <kbd>disjoin</kbd>
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>) are implemented using
      
	<span style="color:green">
	  explicit <kbd>delay</kbd>
	  operations, 
	</span>
	<span style="color:blue">delayed expressions</span>
      
      rather than being defined as follows:
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append (find-assertions query-pattern frame)
                    (apply-rules query-pattern frame)))
   frame-stream))

(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave
       (qeval (first-disjunct disjuncts) frame-stream)
       (disjoin (rest-disjuncts disjuncts) frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
              frame =>
                 stream_append(find_assertions(query_pattern, frame),
                               apply_rules(query_pattern, frame)),
              frame_stream);
}
function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave(evaluate_query(first_disjunct(disjuncts), 
                                    frame_stream),
                     disjoin(rest_disjuncts(disjuncts), frame_stream));
}</pre></div></div></td></tr></table>
      Can you give examples of queries where these simpler definitions would
      lead to undesirable behavior?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_2_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_2_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.82" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.82">Exercise 4.82 </a></b> 
  
      Why do <kbd>disjoin</kbd> and
      
	<span style="color:green"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      interleave the streams rather than simply append them?  Give examples that
      illustrate why interleaving works better.  (Hint: Why did we use
      <kbd>interleave</kbd> in
      section&nbsp;<REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>?)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_3_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_3_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.83" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.83">Exercise 4.83 </a></b> 
  
    Why does
    
      <span style="color:green"><kbd>flatten-stream</kbd></span>
      <span style="color:blue"><kbd>flatten_stream</kbd>
      </span>
    
    use
    
      <span style="color:green"><kbd>delay</kbd> explicitly?</span>
      <span style="color:blue">a delayed expression in its body?</span>
    
    What would be wrong with defining it as follows:
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave
       (stream-car stream)
       (flatten-stream (stream-cdr stream)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave(head(stream),
                     flatten_stream(stream_tail(stream)));
}</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_4_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_4_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.84" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.84">Exercise 4.84 </a></b> 
  
      
      Alyssa P. Hacker proposes to use a simpler version of
      
	<span style="color:green"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      in <kbd>negate</kbd>,
      
	<span style="color:green"><kbd>lisp-value</kbd>,</span>
	<span style="color:blue"><kbd>javascript_value</kbd>,
	</span>
      
      and
      
	<span style="color:green"><kbd>find-assertions</kbd>.</span>
	<span style="color:blue"><kbd>find_assertions</kbd>.
	</span>
      
      She observes that the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that is mapped over the frame stream in these cases always produces either
      the empty stream or a singleton stream, so no interleaving is needed when
      combining these streams.
      <OL type="a">
	<LI>
          Fill in the missing expressions in Alyssa's program.
          <kbd class='snippet'>function simple_stream_flatmap(fun, s) {
    return simple_flatten(stream_map(fun, s));
}
function simple_flatten(stream) {
    return stream_map($\langle ?? \rangle$,
                      stream_filter($\langle ?? \rangle$, stream));
}</kbd>
	</LI>
	<LI>
          Does the query system's behavior change if we change it in this
	  way?
	</LI>
      </OL>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_5_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_5_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.85" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.85">Exercise 4.85 </a></b> 
  
      
      
      
      Implement for the query language a
      
	<span style="color:green">new special form called
	<kbd>unique</kbd>.</span>
	<span style="color:blue">syntactic form called
	<kbd>unique</kbd>.</span>
      
      
	<span style="color:green">
	  <kbd>Unique</kbd>
	</span>
	<span style="color:blue">
	  Applictions of <kbd>unique</kbd>
	</span>
      
      should succeed if there is precisely one item in the data base satisfying
      a specified query.  For example,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "wizard")))</pre></div></div></td></tr></table>
      should print the one-item stream
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job (Bitdiddle Ben) (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(list("Bitdiddle", "Ben"), list("computer", "wizard")))</pre></div></div></td></tr></table>
      since Ben is the only computer wizard, and
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer programmer)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "programmer")))</pre></div></div></td></tr></table>
      should print the empty stream, since there is more than one computer
      programmer.  Moreover,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(and (job ?x ?j) (unique (job ?anyone ?j)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
and(job(x, j), unique(job(anyone, j)))</pre></div></div></td></tr></table>
      should list all the jobs that are filled by only one person, and the
      people who fill them.
      <p></p>
      There are two parts to implementing <kbd>unique</kbd>.
      The first is to write a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that handles this
      
	<span style="color:green">special</span>
	<span style="color:blue">syntactic</span>
      
      form, and the second is to make
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      dispatch to that
      
	<span style="color:green">procedure.</span>
	<span style="color:blue">function.</span>
      
      The second part is trivial, since
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      does its dispatching in a data-directed way.  If your
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      is called
      
	<span style="color:green"><kbd>uniquely-asserted</kbd>,</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>,
	</span>
      
      all you need to do is
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'unique 'qeval uniquely-asserted)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
put("unique", "evaluate_query", uniquely_asserted);</pre></div></div></td></tr></table>
      and
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      will dispatch to this
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      for every query whose
      <kbd>type</kbd>
      
	<span style="color:green">(<kbd>car</kbd>)</span>
	<span style="color:blue">(<kbd>head</kbd>)</span>
      
      is the
      
	<span style="color:green">symbol</span>
	<span style="color:blue">string</span>
      
      
	<span style="color:green"><kbd>unique</kbd></span>
	<span style="color:blue"><kbd>"unique"</kbd></span>
      
      <p></p>
      The real problem is to write the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>uniquely-asserted</kbd>.</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>.
	</span>
      
      This should take as input the <kbd>contents</kbd>
      
	<span style="color:green">(<kbd>cdr</kbd>)</span>
	<span style="color:blue">(<kbd>tail</kbd>)</span>
      
      of the <kbd>unique</kbd> query, together with a stream
      of frames.  For each frame in the stream, it should use
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to find the stream of all extensions to the frame that satisfy the given
      query.  Any stream that does not have exactly one item in it should be
      eliminated.  The remaining streams should be passed back to be accumulated
      into one big stream that is the result of the
      <kbd>unique</kbd> query.  This is similar to the
      implementation of the <kbd>not</kbd>
      
	<span style="color:green">special</span>
	<span style="color:blue">syntactic</span>
      
      form.
      <p></p>
      Test your implementation by forming a query that lists all people who
      supervise precisely one person.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_6_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_6_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.86" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.86">Exercise 4.86 </a></b> 
  
      
      
      
      Our implementation of <kbd>and</kbd> as a series
      combination of queries
      
	<span style="color:green">
	  (figure&nbsp;<REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>)
	</span>
	<span style="color:blue">
	  (figure&nbsp;<REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.10" href="./4.4.2.html#fig_4.10">4.10</a></REF>)
	</span>
      
      is
      elegant, but it is inefficient because in processing the second query of
      the <kbd>and</kbd> we must scan the data base for each
      frame produced by the first query.  If the data base has
      $N$ elements, and a typical query produces a
      number of output frames proportional to $N$
      (say $N/k$), then scanning the data base for
      each frame produced by the first query will require
      $N^{2}/k$ calls to the pattern matcher.
      Another approach would be to process the two clauses of the
      <kbd>and</kbd> separately, then look for all pairs of
      output frames that are compatible.  If each query produces
      $N/k$ output frames, then this means that we
      must perform $N^{2}/k^{2}$ compatibility
      checks—a factor of $k$ fewer than the
      number of matches required in our current  method.
      <p></p>
      Devise an implementation of <kbd>and</kbd> that uses
      this strategy.  You  must implement a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that takes two frames as inputs, checks whether the bindings in the
      frames are compatible, and, if so, produces a frame that merges the two
      sets of bindings.  This operation is similar to unification.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_7_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_7_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.87" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.87">Exercise 4.87 </a></b> 
  
      
      
      
      
      
      In section&nbsp;<REF NAME="sec:math-logic"><a class="superscript" id="4.4.4-sec-link-4.4.3" href="./4.4.3.html">4.4.3</a></REF> we saw that
      <kbd>not</kbd> and
      
	<span style="color:green"><kbd>lisp-value</kbd></span>
	<span style="color:blue"><kbd>javascript_value</kbd>
	</span>
      
      can cause the query language to give <QUOTE>wrong</QUOTE> answers if
      these filtering operations are applied to frames in which variables
      are unbound.  Devise a way to fix this shortcoming.  One idea is to
      perform the filtering in a <QUOTE>delayed</QUOTE> manner by appending to
      the frame a <QUOTE>promise</QUOTE> to filter that is fulfilled only when
      enough variables have been bound to make the operation possible.  We could
      wait to perform filtering until all other operations have been performed.
      However, for efficiency's sake, we would like to perform filtering
      as soon as possible so as to cut down on the number of intermediate frames
      generated.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_8_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_8_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.88" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.88">Exercise 4.88 </a></b> 
  
      
      Redesign the query language as a nondeterministic program to be
      implemented using the evaluator of
      section&nbsp;<REF NAME="sec:nondeterministic-evaluation"><a class="superscript" id="4.4.4-sec-link-4.3" href="./4.3.html">4.3</a></REF>, rather than as a stream
      process.  In this approach, each query will produce a single answer
      (rather than the stream of all answers) and the user can type
      
	<span style="color:green"><kbd>try-again</kbd></span>
	<span style="color:blue"><kbd>try_again</kbd>
	</span>
      
      to see more answers.  You should find that much of the mechanism we built
      in this section is subsumed by nondeterministic search and backtracking.
      You will probably also find, however, that your new query language has
      subtle differences in behavior from the one implemented here.  Can you
      find examples that illustrate this difference?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_9_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_9_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>



    
    <div class="permalink">
    <a name="ex_4.89" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.89">Exercise 4.89 </a></b> 
  
      
      
      When we implemented the
      
	<span style="color:green">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator in section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF>, we saw how to use
      local environments to avoid name conflicts between the parameters of
      
	<span style="color:green">procedures.</span>
	<span style="color:blue">functions.</span>
      
      For example, in evaluating
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (square x)
  (* x x))

(define (sum-of-squares x y)
  (+ (square x) (square y)))

(sum-of-squares 3 4)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM4CO+AhgE4CmAFAB4CUoA3llDDQ7UvhY0uoAFSguAbiwBfPETJUatfAFsA+pVx6GzdrW4AaUAE8+gkaLbjJdRq069QAalenOtpVVtfUNjNzMOAGYrFB4FIA')">function square(x) {
    return x * x;
}
function sum_of_squares(x, y) {
    return square(x) + square(y);
}
sum_of_squares(3, 4);
</pre></div></div></td></tr></table>
      there is no confusion between the <kbd>x</kbd> in
      <kbd>square</kbd> and the <kbd>x</kbd>
      in
      
	<span style="color:green"><kbd>sum-of-squares</kbd>,</span>
	<span style="color:blue"><kbd>sum_of_squares</kbd>,
	</span>
      
      because we evaluate the body of each
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      in an environment that is specially constructed to contain
      bindings for the local
      
	<span style="color:green">variables.</span>
	<span style="color:blue">names.</span>
      
      In the query system, we used a
      different strategy to avoid name conflicts in applying rules.  Each
      time we apply a rule we rename the variables with new names that are
      guaranteed to be unique.  The analogous strategy for the
      
	<span style="color:green">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator would be to do away with local environments and simply
      rename the variables in the body of a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      each time we apply the
      
	<span style="color:green">procedure.</span>
	<span style="color:blue">function.</span>
      
      <p></p>
      
      
      
      
      Implement for the query language a rule-application method that uses
      environments rather than renaming.  See if you can build on your
      environment structure to create constructs in the query language for
      dealing with large systems, such as the rule analog of
      block-structured
      
	<span style="color:green">procedures.</span>
      <span style="color:blue">functions.</span>
      Can you relate any of this to the problem of making deductions in a
      context (e.g., <QUOTE>If I supposed that $P$
      were true, then I would be able to deduce $A$
      and $B$.</QUOTE>) as a method of problem
      solving?  (This problem is open-ended.  A good answer is probably worth
      a Ph.D.)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_10_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_10_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

  
<hr>

    <div class='footnote'>
      <a class='footnote-number' id='footnote-1' href='#footnote-link-1' >[1] </a>
    <FOOTNOTE>
    In general,
      unifying
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      with an expression involving
      
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      would require our being able to find a fixed point of the equation
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $ = \textit{expression involving}$
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      It is sometimes possible to syntactically form an expression that appears
      to be the solution.  For example,
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $=$
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      seems to have the fixed point
      
	<span style="color:green"><kbd>(f (f (f </kbd>…
	<kbd>)))</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>list("f", list("f", list("f",</kbd>
	  …
	  <kbd>)))</kbd>,
	</span>
      
      which we can produce by beginning with the expression
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and repeatedly substituting
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      for
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Unfortunately, not every such equation has a meaningful fixed point.  The
      issues that arise here are similar to the issues of manipulating 
      
      infinite series in mathematics.  For example, we know that 2 is the
      solution to the equation $y = 1 + y/2$.
      Beginning with the expression $1 + y/2$ and
      repeatedly substituting $1 + y/2$ for
      $y$ gives
      
        \[ 2 = y = 1 + y/2 = 1 + (1+y/2)/2 = 1 + 1/2 + y/4 =\cdots, \]
      
      which leads to
      
        \[ 2 = 1 + 1/2 + 1/4 + 1/8 +\cdots. \]
      
      However, if we try the same manipulation beginning with the
      observation that $-1$ is the solution to the
      equation $y = 1 + 2y$, we obtain
      
        \[ -1 = y = 1 + 2y = 1 + 2(1 + 2y) = 1 + 2 + 4y = \cdots, \]
      
      which leads to 
      
        \[ -1 = 1 + 2 + 4 + 8 +\cdots. \]
      
      Although the formal manipulations used in deriving these two equations
      are identical, the first result is a valid assertion about infinite
      series but the second is not.  Similarly, for our unification results,
      reasoning with an arbitrary syntactically constructed expression may
      lead to errors.
    </FOOTNOTE></div>
    
    
    <div class='footnote'><span style="color:green">
      <a class='footnote-number' id='footnote-2' href='#footnote-link-2' style="color:green">[2] </a>
    <FOOTNOTE>
    Most Lisp systems give the user
	  the ability to modify the ordinary <kbd>read</kbd>
	  procedure to perform such transformations by defining 
	  
	  
	  
	  
	  <EM>reader macro characters</EM>.  Quoted
	  expressions are already handled in this way: The reader automatically
	  translates <kbd>'expression</kbd> into
	  <kbd>(quote expression)</kbd> before the
	  evaluator sees it.  We could arrange for
	  <kbd>?expression</kbd> to be transformed into
	  <kbd>(? expression)</kbd> in the same way; however,
	  for the sake of clarity we have included the transformation
	  procedure here explicitly.
	  <p></p>
	  
	  <kbd>Expand-question-mark</kbd> and
	  <kbd>contract-question-mark</kbd> use several
	  procedures with <kbd>string</kbd> in their names.
	  These are Scheme primitives.
    </FOOTNOTE></span></div>
    
    
</div></div>

    <div class='nav'>
  
        <a class='btn btn-secondary btn-nav' href='./4.4.3.html'>&lt; Previous</a>
    
    <div style='flex-grow: 1;'></div>
  
        <a class='btn btn-secondary btn-nav' id='97' href='./5.html'>Next &gt;</a>
      </div>
    <div class='chapter_sign'>
      4.4.4&nbsp;&nbsp;
    Implementing the Query System
  
    </div>
    <script> var chapter_id = 96; </script>
    <script> var chapter_path = "chapters/4.4.4.html"; </script>
    <div class='next-page'></div>
    </div>
    </div> <!-- /.container -->
    </body></html>