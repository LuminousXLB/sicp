<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <!-- Global site tag (gtag.js) - Google Analytics - START -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-156801664-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-156801664-1');
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics - END -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="description" content="4.4.4&nbsp;&nbsp;
    Implementing the Query System
  " />
    <title>
      4.4.4&nbsp;&nbsp;
    Implementing the Query System
  
    </title>
    
  <meta name="csrf-param" content="authenticity_token" />
  <meta name="csrf-token" content="EMTEijVc2kiiKUH4nYH0lQG3pLPfMowQ/Stg//t6DCo0e5pWMQwamnTvIdmVZqY/MqSx2IYYE+2bpNV6UNSMwQ==" />

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    -->
    <link href="https://fonts.googleapis.com/css?family=Inconsolata&display?swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans|Droid+Serif" rel="stylesheet">
    <link rel="stylesheet" media="all" href="../assets/stylesheet.css" />

   <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon.ico" />

<!--    <link rel="shortcut icon" type="image/png" href="../images/lambda.png" /> -->

    <!-- for support of progressive web app, see github README, DISABLED!
    <link rel="manifest" href="../static/manifest.json">
    -->

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" 
		     	  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	          crossorigin="anonymous">
    </script> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script> -->
    <script type="text/javascript" 
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script>
   <!--  <script type="text/javascript" 
      src="../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script> -->
  
    <script src="../assets/application.js"></script>
  
    <!-- Rendering inline LaTeX -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true,
          jax: ["input/TeX","output/HTML-CSS"]
        }
      });
    </script>
    <!--<script src="/mathjax/MathJax.js?config=TeX-AMS_HTML-full.js" type="text/javascript"></script>-->
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body>

    
    <!-- support for progressive web app, see README, DISABLED
    <script>
      if ('serviceWorker' in navigator && !navigator.serviceWorker.controller) {
          navigator.serviceWorker.register("../sw.js").then(function(reg) {
              console.log("Service worker has been registered for scope: " + reg.scope);
          });
      }
    </script>
    -->

     <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top justify-content-between">
       <button id="btn" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#nav-sidebar" aria-controls="nav-sidebar" aria-expanded="false" aria-label="Toggle navigation" title="navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <span class="navbar-brand-short"><a title="Go back to front page" href="../index.html" class="gray">SICP &mdash; Scheme/JS</a></span>
       <span class="navbar-brand-long" ><a title="Go back to front page" href="../index.html" class="gray">Structure and Interpretation of Computer Programs &mdash; Comparison Edition</a></span>

       <!-- edit the search engine by visiting: 
	    https://cse.google.com/cse/setup/basic?cx=015760785273492757659:nc_tznrzlsg 
	       -->
       <form class="form-inline ml-auto" id="xxx">
         <div id="search-box">
	         <script>
	           (function() {
	               var cx = "015760785273492757659:nc_tznrzlsg";
	               var gcse = document.createElement("script");
	               gcse.type = "text/javascript";
	               gcse.async = true;
	               gcse.src = "https://cse.google.com/cse.js?cx=" + cx;
	               var s = document.getElementsByTagName("script")[0];
	               s.parentNode.insertBefore(gcse, s);
	           })();
	           window.onload = function()
	           { 
	               var searchBox =  document.getElementById("gsc-i-id1");
	               searchBox.placeholder= "search web edition";
	               searchBox.title= "search web edition";
	           }
	         </script>
	         <gcse:search></gcse:search>
         </div>
       </form>
       <span class="navbar-brand-short">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">S</a>
       </span>
       <span class="navbar-brand-long">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">Source</a>
       </span>
     </nav>
     
     <div class="container scroll">

            
        <div class="collapse" id="nav-sidebar" role="tablist" aria-multiselectable="true">
        <!-- insert a dummy entry, to give one extra line of space -->
        <a class="navbar-brand" href="index.html">&nbsp;</a>
    
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-1">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-1" aria-expanded="false" aria-controls="sidebar-collapse-1">
                <a href="./foreword.html"> 
        Foreword
    </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-2">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-2" aria-expanded="false" aria-controls="sidebar-collapse-2">
                <a href="./prefaces.html"> 
        Prefaces
    </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-3">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-3" aria-expanded="false" aria-controls="sidebar-collapse-3">
                <a href="./acknowledgements.html"> 
Acknowledgments
    </a>
              </span>
            </h5>
          </div>
        </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-4">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.html">1 
    Building Abstractions with 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-4" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-5">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.1.html">1.1 The Elements of Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-5" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-6">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-6" aria-expanded="false" aria-controls="sidebar-collapse-6">
                <a href="./1.1.1.html"> 1.1.1 Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-7">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-7" aria-expanded="false" aria-controls="sidebar-collapse-7">
                <a href="./1.1.2.html"> 1.1.2 Naming and the Environment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-8">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-8" aria-expanded="false" aria-controls="sidebar-collapse-8">
                <a href="./1.1.3.html"> 1.1.3 
    Evaluating
    
      <span style="color:green">Combinations</span>
      <span style="color:blue">Operator Combinations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-9">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-9" aria-expanded="false" aria-controls="sidebar-collapse-9">
                <a href="./1.1.4.html"> 1.1.4 
    Compound <span style="color:green">Procedures</span>
    <span style="color:blue">Functions</span>
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-10">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-10" aria-expanded="false" aria-controls="sidebar-collapse-10">
                <a href="./1.1.5.html"> 1.1.5 
    The Substitution Model for 
    
      <span style="color:green">
        Procedure
      </span>
      <span style="color:blue">
        Function
      </span>
    
    Application
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-11">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-11" aria-expanded="false" aria-controls="sidebar-collapse-11">
                <a href="./1.1.6.html"> 1.1.6 
    Conditional Expressions and Predicates
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-12">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-12" aria-expanded="false" aria-controls="sidebar-collapse-12">
                <a href="./1.1.7.html"> 1.1.7 Example: Square Roots by Newton's Method</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-13">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-13" aria-expanded="false" aria-controls="sidebar-collapse-13">
                <a href="./1.1.8.html"> 1.1.8 
    
      <span style="color:green">
        Procedures
      </span>
      <span style="color:blue">
        Functions
      </span>
    
    as Black-Box Abstractions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-14">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.2.html">1.2 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    and the Processes They Generate
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-14" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-15">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-15" aria-expanded="false" aria-controls="sidebar-collapse-15">
                <a href="./1.2.1.html"> 1.2.1 Linear Recursion and Iteration</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-16">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-16" aria-expanded="false" aria-controls="sidebar-collapse-16">
                <a href="./1.2.2.html"> 1.2.2 Tree Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-17">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-17" aria-expanded="false" aria-controls="sidebar-collapse-17">
                <a href="./1.2.3.html"> 1.2.3 Orders of Growth</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-18">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-18" aria-expanded="false" aria-controls="sidebar-collapse-18">
                <a href="./1.2.4.html"> 1.2.4 Exponentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-19">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-19" aria-expanded="false" aria-controls="sidebar-collapse-19">
                <a href="./1.2.5.html"> 1.2.5 Greatest Common Divisors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-20">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-20" aria-expanded="false" aria-controls="sidebar-collapse-20">
                <a href="./1.2.6.html"> 1.2.6 Example: Testing for Primality</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-21">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.3.html">1.3 
        Formulating Abstractions with Higher-Order 
        
	  <span style="color:green">Procedures</span>
	  <span style="color:blue">Functions</span>
	
      </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-21" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-22">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-22" aria-expanded="false" aria-controls="sidebar-collapse-22">
                <a href="./1.3.1.html"> 1.3.1 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    as Arguments
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-23">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-23" aria-expanded="false" aria-controls="sidebar-collapse-23">
                <a href="./1.3.2.html"> 1.3.2 
    
      <span style="color:green">Constructing Procedures using Lambda</span>
      <span style="color:blue">Constructing Functions using Lambda Expressions
      </span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-24">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-24" aria-expanded="false" aria-controls="sidebar-collapse-24">
                <a href="./1.3.3.html"> 1.3.3 
    
      <span style="color:green">Procedures</span>
    <span style="color:blue">Functions</span>
    as General Methods
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-25">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-25" aria-expanded="false" aria-controls="sidebar-collapse-25">
                <a href="./1.3.4.html"> 1.3.4 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    as Returned Values
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-26">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.html">2 Building Abstractions with Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-26" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-27">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.1.html">2.1 Introduction to Data Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-27" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-28">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-28" aria-expanded="false" aria-controls="sidebar-collapse-28">
                <a href="./2.1.1.html"> 2.1.1 
    Example: Arithmetic Operations for Rational Numbers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-29">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-29" aria-expanded="false" aria-controls="sidebar-collapse-29">
                <a href="./2.1.2.html"> 2.1.2 
    Abstraction Barriers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-30">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-30" aria-expanded="false" aria-controls="sidebar-collapse-30">
                <a href="./2.1.3.html"> 2.1.3 
    What Is Meant by Data?
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-31">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-31" aria-expanded="false" aria-controls="sidebar-collapse-31">
                <a href="./2.1.4.html"> 2.1.4 
    Extended Exercise: Interval Arithmetic
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-32">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.2.html">2.2 Hierarchical Data and the Closure Property</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-32" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-33">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-33" aria-expanded="false" aria-controls="sidebar-collapse-33">
                <a href="./2.2.1.html"> 2.2.1 
    Representing Sequences
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-34">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-34" aria-expanded="false" aria-controls="sidebar-collapse-34">
                <a href="./2.2.2.html"> 2.2.2 
    Hierarchical Structures
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-35">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-35" aria-expanded="false" aria-controls="sidebar-collapse-35">
                <a href="./2.2.3.html"> 2.2.3 
    Sequences as Conventional Interfaces
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-36">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-36" aria-expanded="false" aria-controls="sidebar-collapse-36">
                <a href="./2.2.4.html"> 2.2.4 
    Example: A Picture Language
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-37">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.3.html">2.3 Symbolic Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-37" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-38">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-38" aria-expanded="false" aria-controls="sidebar-collapse-38">
                <a href="./2.3.1.html"> 2.3.1 
    
      <span style="color:green">Quotation</span>
      <span style="color:blue">Strings</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-39">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-39" aria-expanded="false" aria-controls="sidebar-collapse-39">
                <a href="./2.3.2.html"> 2.3.2 
    Example: Symbolic Differentiation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-40">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-40" aria-expanded="false" aria-controls="sidebar-collapse-40">
                <a href="./2.3.3.html"> 2.3.3 
    Example: Representing Sets
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-41">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-41" aria-expanded="false" aria-controls="sidebar-collapse-41">
                <a href="./2.3.4.html"> 2.3.4 
    Example: Huffman Encoding Trees
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-42">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.4.html">2.4 Multiple Representations for Abstract Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-42" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-43">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-43" aria-expanded="false" aria-controls="sidebar-collapse-43">
                <a href="./2.4.1.html"> 2.4.1 
    Representations for Complex Numbers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-44">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-44" aria-expanded="false" aria-controls="sidebar-collapse-44">
                <a href="./2.4.2.html"> 2.4.2 
    Tagged data
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-45">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-45" aria-expanded="false" aria-controls="sidebar-collapse-45">
                <a href="./2.4.3.html"> 2.4.3 
    Data-Directed Programming and Additivity
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-46">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.5.html">2.5 Systems with Generic Operations</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-46" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-47">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-47" aria-expanded="false" aria-controls="sidebar-collapse-47">
                <a href="./2.5.1.html"> 2.5.1 
    Generic Arithmetic Operations
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-48">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-48" aria-expanded="false" aria-controls="sidebar-collapse-48">
                <a href="./2.5.2.html"> 2.5.2 
    Combining Data of Different Types
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-49">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-49" aria-expanded="false" aria-controls="sidebar-collapse-49">
                <a href="./2.5.3.html"> 2.5.3 
    Example: Symbolic Algebra
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-50">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.html">3 Modularity, Objects, and State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-50" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-51">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.1.html">3.1 Assignment and Local State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-51" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-52">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-52" aria-expanded="false" aria-controls="sidebar-collapse-52">
                <a href="./3.1.1.html"> 3.1.1 
    Local State Variables
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-53">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-53" aria-expanded="false" aria-controls="sidebar-collapse-53">
                <a href="./3.1.2.html"> 3.1.2 
    The Benefits of Introducing Assignment
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-54">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-54" aria-expanded="false" aria-controls="sidebar-collapse-54">
                <a href="./3.1.3.html"> 3.1.3 
    The Costs of Introducing Assignment
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-55">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.2.html">3.2 The Environment Model of Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-55" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-56">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-56" aria-expanded="false" aria-controls="sidebar-collapse-56">
                <a href="./3.2.1.html"> 3.2.1 
    The Rules for Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-57">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-57" aria-expanded="false" aria-controls="sidebar-collapse-57">
                <a href="./3.2.2.html"> 3.2.2 
    Applying Simple
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-58">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-58" aria-expanded="false" aria-controls="sidebar-collapse-58">
                <a href="./3.2.3.html"> 3.2.3 
    Frames as the Repository of Local State
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-59">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-59" aria-expanded="false" aria-controls="sidebar-collapse-59">
                <a href="./3.2.4.html"> 3.2.4 
    Internal
    
      <span style="color:green">Definitions</span>
      <span style="color:blue">Declarations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-60">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.3.html">3.3 Modeling with Mutable Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-60" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-61">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-61" aria-expanded="false" aria-controls="sidebar-collapse-61">
                <a href="./3.3.1.html"> 3.3.1 
    Mutable List Structure
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-62">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-62" aria-expanded="false" aria-controls="sidebar-collapse-62">
                <a href="./3.3.2.html"> 3.3.2 
    Representing Queues
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-63">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-63" aria-expanded="false" aria-controls="sidebar-collapse-63">
                <a href="./3.3.3.html"> 3.3.3 
    Representing Tables
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-64">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-64" aria-expanded="false" aria-controls="sidebar-collapse-64">
                <a href="./3.3.4.html"> 3.3.4 
    A Simulator for Digital Circuits
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-65">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-65" aria-expanded="false" aria-controls="sidebar-collapse-65">
                <a href="./3.3.5.html"> 3.3.5 
    Propagation of Constraints
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-66">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.4.html">3.4 Concurrency: Time Is of the Essence</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-66" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-67">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-67" aria-expanded="false" aria-controls="sidebar-collapse-67">
                <a href="./3.4.1.html"> 3.4.1 
    The Nature of Time in Concurrent Systems
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-68">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-68" aria-expanded="false" aria-controls="sidebar-collapse-68">
                <a href="./3.4.2.html"> 3.4.2 
    Mechanisms for Controlling Concurrency
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-69">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.5.html">3.5 Streams</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-69" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-70">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-70" aria-expanded="false" aria-controls="sidebar-collapse-70">
                <a href="./3.5.1.html"> 3.5.1 
    Streams Are Delayed Lists
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-71">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-71" aria-expanded="false" aria-controls="sidebar-collapse-71">
                <a href="./3.5.2.html"> 3.5.2 
    Infinite Streams
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-72">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-72" aria-expanded="false" aria-controls="sidebar-collapse-72">
                <a href="./3.5.3.html"> 3.5.3 
    Exploiting the Stream Paradigm
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-73">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-73" aria-expanded="false" aria-controls="sidebar-collapse-73">
                <a href="./3.5.4.html"> 3.5.4 
    Streams and Delayed Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-74">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-74" aria-expanded="false" aria-controls="sidebar-collapse-74">
                <a href="./3.5.5.html"> 3.5.5 
    Modularity of Functional Programs and Modularity of Objects
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-75">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.html">4 Metalinguistic Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-75" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-76">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.1.html">4.1 The Metacircular Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-76" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-77">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-77" aria-expanded="false" aria-controls="sidebar-collapse-77">
                <a href="./4.1.1.html"> 4.1.1 
    The Core of the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-78">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-78" aria-expanded="false" aria-controls="sidebar-collapse-78">
                <a href="./4.1.2.html"> 4.1.2 
    Representing
    
      <span style="color:green">Expressions</span>
      <span style="color:blue">Components</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-79">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-79" aria-expanded="false" aria-controls="sidebar-collapse-79">
                <a href="./4.1.3.html"> 4.1.3 
    Evaluator Data Structures
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-80">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-80" aria-expanded="false" aria-controls="sidebar-collapse-80">
                <a href="./4.1.4.html"> 4.1.4 
    Running the Evaluator as a Program
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-81">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-81" aria-expanded="false" aria-controls="sidebar-collapse-81">
                <a href="./4.1.5.html"> 4.1.5 
    Data as Programs
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-82">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-82" aria-expanded="false" aria-controls="sidebar-collapse-82">
                <a href="./4.1.6.html"> 4.1.6 
    Internal
    
      <span style="color:green">Definitions</span>
      <span style="color:blue">Declarations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-83">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-83" aria-expanded="false" aria-controls="sidebar-collapse-83">
                <a href="./4.1.7.html"> 4.1.7 
    Separating Syntactic Analysis from Execution
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-84">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.2.html">4.2 
    
      <span style="color:green">Variations on a Scheme:</span>
    
    Lazy Evaluation
</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-84" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-85">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-85" aria-expanded="false" aria-controls="sidebar-collapse-85">
                <a href="./4.2.1.html"> 4.2.1 
    Normal Order and Applicative Order
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-86">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-86" aria-expanded="false" aria-controls="sidebar-collapse-86">
                <a href="./4.2.2.html"> 4.2.2 
    An Interpreter with Lazy Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-87">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-87" aria-expanded="false" aria-controls="sidebar-collapse-87">
                <a href="./4.2.3.html"> 4.2.3 
    Streams as Lazy Lists
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-88">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.3.html">4.3 
    
      <span style="color:green">Variations on a Scheme:</span>
    
    Nondeterministic Computing
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-88" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-89">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-89" aria-expanded="false" aria-controls="sidebar-collapse-89">
                <a href="./4.3.1.html"> 4.3.1 
    
      <span style="color:green">Amb and Search</span>
      <span style="color:blue">Search and amb</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-90">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-90" aria-expanded="false" aria-controls="sidebar-collapse-90">
                <a href="./4.3.2.html"> 4.3.2 
    Examples of Nondeterministic Programs
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-91">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-91" aria-expanded="false" aria-controls="sidebar-collapse-91">
                <a href="./4.3.3.html"> 4.3.3 
    Implementing the
    
      <span style="color:green">Amb</span>
      <span style="color:blue">amb</span>
    
    Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-92">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.4.html">4.4 Logic Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-92" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-93">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-93" aria-expanded="false" aria-controls="sidebar-collapse-93">
                <a href="./4.4.1.html"> 4.4.1 
    Deductive Information Retrieval
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-94">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-94" aria-expanded="false" aria-controls="sidebar-collapse-94">
                <a href="./4.4.2.html"> 4.4.2 
    How the Query System Works
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-95">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-95" aria-expanded="false" aria-controls="sidebar-collapse-95">
                <a href="./4.4.3.html"> 4.4.3 
    Is Logic Programming Mathematical Logic?
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-96">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-96" aria-expanded="false" aria-controls="sidebar-collapse-96">
                <a href="./4.4.4.html"> 4.4.4 
    Implementing the Query System
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-97">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.html">5 Computing with Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-97" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-98">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.1.html">5.1 Designing Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-98" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-99">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-99" aria-expanded="false" aria-controls="sidebar-collapse-99">
                <a href="./5.1.1.html"> 5.1.1 
    A Language for Describing Register Machines
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-100">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-100" aria-expanded="false" aria-controls="sidebar-collapse-100">
                <a href="./5.1.2.html"> 5.1.2 
    Abstraction in Machine Design
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-101">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-101" aria-expanded="false" aria-controls="sidebar-collapse-101">
                <a href="./5.1.3.html"> 5.1.3 
    Subroutines
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-102">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-102" aria-expanded="false" aria-controls="sidebar-collapse-102">
                <a href="./5.1.4.html"> 5.1.4 
    Using a Stack to Implement Recursion
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-103">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-103" aria-expanded="false" aria-controls="sidebar-collapse-103">
                <a href="./5.1.5.html"> 5.1.5 
    Instruction Summary
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-104">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.2.html">5.2 A Register-Machine Simulator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-104" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-105">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-105" aria-expanded="false" aria-controls="sidebar-collapse-105">
                <a href="./5.2.1.html"> 5.2.1 
    The Machine Model
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-106">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-106" aria-expanded="false" aria-controls="sidebar-collapse-106">
                <a href="./5.2.2.html"> 5.2.2 
    The Assembler
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-107">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-107" aria-expanded="false" aria-controls="sidebar-collapse-107">
                <a href="./5.2.3.html"> 5.2.3 
    Generating Execution
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    for Instructions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-108">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-108" aria-expanded="false" aria-controls="sidebar-collapse-108">
                <a href="./5.2.4.html"> 5.2.4 
    Monitoring Machine Performance
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-109">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.3.html">5.3 Storage Allocation and Garbage Collection</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-109" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-110">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-110" aria-expanded="false" aria-controls="sidebar-collapse-110">
                <a href="./5.3.1.html"> 5.3.1 
    Memory as Vectors
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-111">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-111" aria-expanded="false" aria-controls="sidebar-collapse-111">
                <a href="./5.3.2.html"> 5.3.2 
    Maintaining the Illusion of Infinite Memory
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-112">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.4.html">5.4 The Explicit-Control Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-112" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-113">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-113" aria-expanded="false" aria-controls="sidebar-collapse-113">
                <a href="./5.4.1.html"> 5.4.1 
    The Core of the Explicit-Control Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-114">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-114" aria-expanded="false" aria-controls="sidebar-collapse-114">
                <a href="./5.4.2.html"> 5.4.2 
    Sequence Evaluation and Tail Recursion
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-115">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-115" aria-expanded="false" aria-controls="sidebar-collapse-115">
                <a href="./5.4.3.html"> 5.4.3 
    Conditionals, Assignments, and <span style="color:green">Definitions</span><span style="color:blue">Declarations and Blocks</span>
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-116">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-116" aria-expanded="false" aria-controls="sidebar-collapse-116">
                <a href="./5.4.4.html"> 5.4.4 
    Running the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-117">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.5.html">5.5 Compilation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-117" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-118">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-118" aria-expanded="false" aria-controls="sidebar-collapse-118">
                <a href="./5.5.1.html"> 5.5.1 
    Structure of the Compiler
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-119">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-119" aria-expanded="false" aria-controls="sidebar-collapse-119">
                <a href="./5.5.2.html"> 5.5.2 
    Compiling
    
      <span style="color:blue">Statements and</span>
    
    Expressions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-120">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-120" aria-expanded="false" aria-controls="sidebar-collapse-120">
                <a href="./5.5.3.html"> 5.5.3 
    Compiling
    
      <span style="color:green">
	Combinations
      </span>
      <span style="color:blue">
	Applications
      </span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-121">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-121" aria-expanded="false" aria-controls="sidebar-collapse-121">
                <a href="./5.5.4.html"> 5.5.4 
    Combining Instruction Sequences
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-122">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-122" aria-expanded="false" aria-controls="sidebar-collapse-122">
                <a href="./5.5.5.html"> 5.5.5 
    An Example of Compiled Code
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-123">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-123" aria-expanded="false" aria-controls="sidebar-collapse-123">
                <a href="./5.5.6.html"> 5.5.6 
    Lexical Addressing
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-124">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-124" aria-expanded="false" aria-controls="sidebar-collapse-124">
                <a href="./5.5.7.html"> 5.5.7 
    Interfacing Compiled Code to the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-125">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-125" aria-expanded="false" aria-controls="sidebar-collapse-125">
                <a href="./references.html"> References</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-126">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-126" aria-expanded="false" aria-controls="sidebar-collapse-126">
                <a href="./making-of.html"> About the SICP JS Project</a>
              </span>
            </h5>
          </div>
        </div>
        </div>
<div id='permalink-msg'>
<div class='screen'>
  <div class='alert alert-success'>
    <strong>Permalink copied!</strong>
  </div>
</div>
</div>
<div class='chapter-content'>

      <div class='chapter-title'>
        <div class='permalink'>
        <a name='top' class='permalink'> 
    4.4.4&nbsp;&nbsp;
    Implementing the Query System
  
        </a>
        </div>
      </div>
      <div class='chapter-text'>
        <div class='SECTION'>
    

  
  <div class='permalink'>
<a name='p1' class='permalink'></a><p>
    Section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF> described how the query
    system works. Now we fill in the details by presenting a complete
    implementation of the system.
  </p></div>

  
      <div class='permalink'>
        <a name='sec4.4.4.1' class='permalink'></a><h1>
    4.4.4.1&nbsp;&nbsp;&nbsp;The Driver Loop and Instantiation</h1></div>
    

    <div class='permalink'>
<a name='p2' class='permalink'></a><p>
      
      
      The driver loop for the query system repeatedly reads input
      expressions.  If the expression is a rule or assertion to be added to
      the data base, then the information is added.  Otherwise the
      expression is assumed to be a query.  The driver passes this query to
      the evaluator
      <span style="color:green"><kbd>qeval</kbd></span>
      <span style="color:blue"><kbd>evaluate_query</kbd>
      </span>
      
      together with an initial frame stream consisting of a single empty frame.
      The result of the evaluation is a stream of frames generated by satisfying
      the query with variable values found in the data base.  These frames are
      used to form a new stream consisting of copies of the original query in
      which the variables are instantiated with values supplied by the stream of
      frames, and this final stream is
      
	<span style="color:green">printed at the terminal:</span>
	<span style="color:blue">printed:</span>
      
      
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define input-prompt ";;; Query input:")
(define output-prompt ";;; Query results:")

(define (query-driver-loop)
  (prompt-for-input input-prompt)
  (let ((q (query-syntax-process (read))))
    (cond ((assertion-to-be-added? q)
           (add-rule-or-assertion! (add-assertion-body q))
           (newline)
           (display "Assertion added to data base.")
           (query-driver-loop))
          (else
           (newline)
           (display output-prompt)
           (display-stream
            (stream-map
             (lambda (frame)
              (instantiate q
               frame
               (lambda (v f)
                 (contract-question-mark v))))
             (qeval q (singleton-stream '()))))
  (query-driver-loop)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6ShyQHrhwo4lpL7dW2lMEK8RrxK3XaG7qUiN1zUE3OScqRLpAkrsCNBYChZi6EsJaXrPdUhrfW3tTbRlFBcbMsKMa7i0m+cwhmli6kjL91QVnoUIpdB59ean5HsVhisXYsKlsDuyeC4p0CfAF6vBN9L8rmqwrlWmUrxZNvxchste72Vgfzk5Kt5hQV02w3p9tdByIaXmltIeXH5Y4cK-dBjY55Ozb2TumeC0JsRfg2z3bjP1EHNMJ4oD+01FHJAdr+O5rZ3xQSyzOe0Gkl2+wANQyf10g-0rT83E04QDnx0nQtFKAeGxRcl8QTCpkgMwmg1rx6iey+WtXQILzsCHWwOEQQOoE1Fkn-BHyaV5UXT835FVTwJyGWW2ikVNQhxwh8W3wSEtipVfDrzsHTxH0EzmTGm9l2wwLsAYM3C9TEO6SHgEKYEFEOWaAshHxAloIGygOXSYNEFnxH0GjUMFA0KuzoMwNXV0LgKjVUk-hQO4KdlAzkLomrzuB6UuE-0L00EeEehEI4V2y9xCC8J8MiGAn0mCGkMUCEOtVkMWXUSGQaFcJckBnSHD2xR8NkKMAAB5Ai0iHpf84jk5vhA9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgJPHcUAAAaj92gTzUeHAnk0cKMA6JzW3HaM6Mcm6N6PyMcW4QLGKiD0UDKIqPwFEGPBqLqOPgaO5xaOGI6MiX8HGPwD6NEIGJ3HKhGN2JgVugTQmJCNc0UNKAqCqBUM5XPy9T2QCAJn0GcDKFmgIO2E9THl8NUNiMcQNm2CVRxwyN2O+E+PuNmnOJeTIEQITTsPcl0gBl2PSC9TEmNQ+36PhOCCHRuPhMxIBLw36NlVXRuKcRSA-G2GFnGGxO911TJCvk4K31RIXnIWiWKMBOkHKn3CaFYlADdWpOSCjjIWSikV0MtlwOENdn7Cmi0TWF0KeKMJyDhnhP8BVPEJbHUNFMjnzkILBC+OoB+JznWWEVGS9UmVeNAEiDeK1NIJhO+OGncK5MdMnSVN5KcIkKDiowhLxOsmhPEBNLhOCTIKQKnC4I5KBHROskxNA0ZO12U0hMcmCE1GHEJPUWBOmOSBJNJTJKOIpPXSpNznMBojdkYgZICPYNZJRM6U3m5JKltIqkFNhGFMFBvDvHbXdW2HFNBKKClJHxlJAXZDlPNIVIbi9JVNkN1OMOeUcm1PkLnPVP1LzgNLMMj2dNNNdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIhbxQi13myFzPQAh3BghvMTyAKjXfIIkcFglLGSV5wfNh3ex104U8kFSkR-NvObyLgsWdUlAzT7RzX8D7SUg1IHCYW3BHRQvMBHXQoXIzWkNwtAGkIIsQqwpLhIpLnIswtv0pRfhzQYr4SlAwpSAzThDoFLEkFqBzU4u4uqIhDYuSAzVmMYFwrEv7GEoCAzWZEeiLAaDoH7jkoegUoYG2Gkv8AzTaJIv8EUBD1AFqENSWivA6MEs0vMAzWvF0vMH0t0CMtbivDvHMsIqwr7l0BSDssMuMtACvDbkMvMAsr33mOABssggMoctEhMtADABcootvwAFIwqvLIroqEqArQAgqM0vddKUqfLPdjUjLXLb8ABCI1XKiK-K0AMq8SIq+KoEbcTI5Kyqxy0AbI8wOquihqzI0SGyvK1qnqjqrKrChaZq+yqqpaIa4qhqhaXqjygIfqqK3y0AWaqa+q+YkqsK5agIJa8wEq-we3SUM+KC68385yWQsSCMATPtXQaCxPWC2eY67eUi06mC5yagBoAAK2jw0SuqbkEFbiItes-LEzAtKiIQXOSDuoQgeuOC2iwBOvwhgsvXWPEmdQzUZUyhzUxp7iCqiREqwsgGIF5lcF4o8qJpJvqjxvxq0qwpUscFgEgFwvpsZupppuCu3HpoAFESLua2aaaM0AA5SQQWsK4WwW3MxyJ6+gESaGtkFGjtUQy67YATCCJaodfAIZOWmre0Y+aW-ibWhWww5WooVW1uaA1vLW4GmGhW+GttVqHCbWjPV8ycEuXfbCP8jMVKRgP8ZEz6yQKQWBPCRmXJAybW-88PQEIChSVBV2vqF8ZIC0z0yKaoaMzpRQXfGw9SNOhMN+D+WETPa2u8ouVU3QTUw27eK9VU-mgIfOr+J2keHoL6n6su-GiumWqu8Qmu-wWsxmNk1yewxIQVcPESU1R4UoBI8LdkzpPeFO+shMM+XAMAD5JgY835U87gTAa3J-dwCgRwc0IcG5ZkRgX0D9SgL9cPXfBihFTcC2s+i+vQ1CCMAksG6De+79IhEY7cRwbY3NS47FCYu+5Yc+j+p+64ZMhXfIz9UB9fOwGIZkImLjGPO+LFCid20gUgeFISFaUmQCDBnyhgDouaDBpM7cYY4IMhgsIYkYyQfByG5SMh3QbohQnqEgEyTUFBhNMiCibhxwNh5YTUECAASCNO6K-vmJGPgdJE1CQbsQE1V34ZFFEG4Zli-oMG3FgdAEUYoLcBYFWkeCvvh04UnH9AoapW3AjEJCYRMc1Q1XzBFhx2gxMaMFRQgdx2cequNW3ECCfGfsgiHRsYCO8Ysfd1AB3toeHAPrbGPt9BMf0nSBFl-B52Ihsa1WTitUGGl2Y3nWccBgoYkY6O0flWFD0YCbsn0c-p2KUmGN-utJ9WtSyeTXIw8aqf7BqZGKKbNRKZgzBqAgqcqeTifBCf9y0eIHYaUG3Cou4d0E6d0bAamELAiLie2GCCKfmOIt0GdTKYMeLOMfIlQhmbGYEeKcYBYH9A1H-pxWWa+B3AAHJf75pBj7nLG-7UGJiTHNHOnzRGAlRvmHLJDCwcccgb6enlM-nu6lIM1tFZghig8hijxyAhi-hhREXyo7pw8nx5nURRnxnQWv5wXdnFACWcXjmunTnzmSWlG8WiX2gfmhloNiWvnaWjLj8o1-bA7SBg6ukohcIQw+lhpKRDGucmjxduwRpTGOaknRXiAc1GnC0BXVAIXG5Zp2W7hOXKBGZbkqQ+X7gVGFWiEXmMmlBxW-GM0fGmGhN6nBhxWKWRpWX4k-mxkLxyReXLR7h9XF5GJS0xdecbWBypTG6sTxIIw6m+hfU5WWM1gbXc4TqdXNQ2IgJLYBNHXzx7QXXtW3Wxo+no30IG5zrEygniK-GIih0M2+lJUgIhkLay37gK27IDXwH825lSGqLi3mBM262KIXmm2OFSHVWg6NXuX2hhnsWIie3mh6GUgBN+31XNXUMa2s3ymbWKWx3A3QNbr23y2E363dZSEGI6ZMh8DBXGzmd9ssLzXc1LWw2j3FXRT+z3T5ZKQBFNM9p6pGoPWAXoIVVNwTWVm3Hf2FmxKFX+TKoTxI9sn+kTUGpVsB8wCLtxWPD3MIiAPsWsDBWXmgORoQPDwwONomm9o4OKYU821a3GA2xyBqBZI2Qg15gv4EOAW33jXBXSHkWyONGvso0aOixSO2x596OjSh1CPRQc23kwBTTIVyOH7br7osJ2yJVyAl7V62BSAHpiw3BQARtIJNQo0RtLdLdfBFC-gQxFBWRag48Fgg9wkhWcd49LPQjQmcbZh4mxAdQPBTPQblMh1bPGArOsWaw3HvOrPk50gjPSATPRAzOTVV1AuZZ7W08WR5UH6M7JFnqHFqNv1LYM0257Rv0+5RS2UyhKhZpTPHAeBdASu2sBzzApE6BCAGgcvw9LZQvwucIyuov100uGvH6yz93SY6uuukzHOT2UhuZYQ0omUsoIx73JTnrAumv7hjOKvCXav6uH7iF+xhY5uAihuquIRRv5heYe4evI4933TY4G5oNAu1yaSpvDT3iS16AUWWvSvyuIvHAgVgT2hhuwnnqVuBvxJmuSu2voNOu1vrveu-uH7BuxvDvZhvuAgMzqMOuQxwguvJ3pQIjnUgfbrv3nuPu7TukDnNSAgQeUeWguuEM+zTuZuZaIoVAfP5u6BFu3v8e8N+uwfjuwJGItvjUdv3ShHthEe2fVvv0JQBe27ceIiluCeoglWDJheKfiFxfyzqfrIhfouLOfPPu9DOfyzbuNyPSo1+L5AVPIjvuMkW3CuqgR2GEQgrfVA350g2AgmMpNQ2OglghXeUWgkA8SoWBsOqo7BxPWEuyovv1ez1ytDMJjfyAVPILnrg-tl0vGvxJNsuuM7XwpF5PLZE-JPv15j7iiv3UoKZPxJc+bl0-twve2PF6epNsGgMo4RsUoGQHw9tfd8Ij362+ZevvNGG-DpkCu+lB++m+DHEO3GR+E0B9J-B-z8Z+x+GPV15-p-G-kSMoxzrUh-dBLDx-mut+lD1TNGs6v59+-8d+AWIj6-V-m-T-Cft-1C4v68P0P2jSnyf8sOdwfGrCtMO6tBz7mwP+uhQ5m2TYgfpHAqnWEOHkYCbweoKgVQA2GY5ndeuMwZ-n6yQHGJnq8-WRNfynDr9dCwHA-jrz9JVosB23GHhN1QSrNiAIA1oIwHAHQsoBBAywqgnSBwClQ8-SZMv3B79kl4yqVVGgOIH0FcebA6lja10AiC0Ot7bgarzlgNw7W+vSPqTjgamkEBirR-meFugkoWAwrWwvMCWC1A7EdANrnoJ4qSo6AlXT9kY1JjlY-GJggwWxHMEZ0XmJbZdEYKVbJclqmKLQToPUh2DDBmg7IEjzAzlZ0e7NbYH4IcFtYX8l+H2iShhoRDrBugCITUAsGv8rBbg2wXlFMGRCnB4DFwSmRCFvwPBS0DKG4HDwB0f0WQ+wcwiqFmCgUGdUIUpGKGvNvBeGcrLcU9QBDtB+AJYBrH+qkRc0u+HofIDUh2hLA2QFBt4NVoDDYuHHeJMMPICjCvBEw5YWc3H7MVvM4ws5n4ypSGsYh5Q+IbUK-jJQPsXQmus0IWFLCuhkwwIWpi2H65FCx-P8n0D4h9RwCwDKTqABJCghz+kwKRKQOkQ4DPaG-QYPv0sIrIG4pA3nuQMyh+Nj+LfT4d8Pv7GFnBIwjGI4Dkqm8OBOSZfkkPkDIjD+Sdb8miNjCYi8i-IUEEiMIFDDhyQTfAAOh7jDE-G24ekaGkZEYdXOnCCkXiPVR+NpS5gQ1k4Gf4UijAcIzxLYXAg1Y3hbwbkV8PxHUjBRfAzcCKNsaLNce3wiVhSO6wYiTeeRaDCKMaHShoMGow0VKC1HoiyR1LA0cTwMhDoTRNopyHqReYsiGRMLdQbmgTQj0ZIqw-Sh31x4GVmhVKb-gR11Q+giwGYVjikx47HBdAjrWUY61+EYDaeZI5rLV2EiWxzRpI3UTS2FCO15RkYmMaMTCFSgExD-I0imMSikNWR4eGFjsJfgvNIyXothNcIrGzghIQ9IkfEkIAUFG+FITPPICFbdErRA44MSIHk5jCtBLXNrqZ1SFJj+IFieTlONe61A18ojaHgdwm5AxhSL8AsHQHdG9iXWJXXoP2PVTNJnqpnS2KWwHEQiBcz-UzkYAoY+MCwpnYelYFAClEAAElzUcAABBcAOAC5oAAlUopAAADygtZAOJD4LW4lisfVSgWKASZiyo1I8ft2LZAHiTx3WCVuOIPEVtoxiEkkamhebjiZALQBCfQE0YkS+E3HN3rPGS4AtPx34v8QBOAlgSIJlEqwJ7XmDkg8JtEuGphIxi75xxPog8Y4CPElYkJQyRtHxNoDXhVhxHKXI3xokot+JSEgkXoXH6rD2QvQgTI-G+HwpFoQSFTgsHkTaJlJZHWkPpP96kVCJ6kiFrBJU7mS6Jak6kQRhHoCQhI8tCeDEMtgAAGfgj1HiDHgisnk4VmWCT6UAv4iqUKSoBIDqdxI6LLyXFOFAjEeAN4vzIlNijJTGAmjTbEFNoGt8lA+-TKVKwilw9x+ERYJjj1VQlSfWbYSKYSyH4PCeolgGuAVIfpOAMowUTyZvCkS1SRWZU3gssRCnh4wpyTG5JFIz6TAeomgtkMeBkC+h+OYJKjKgOY7JQmQCXfoMNKH4ED+p4U+qXD2ShQhkO6HW3hEVmmOB5p0gX0MQWPamiSelgOaQtNxzLsjpeHARJuRNSPTLpz0xKaOLsDzBGosIJwGK0pCxFoG3fRMYb3iQXSrpi077rwNQGBwNuVZTkQiNF5iBkZBkIHLbl14Cw8o0cVBP8OwED9cBGYfAco2pF4zPpDQdceN1hHBJgg9I-KOcXSCwznp2Iufut2lAfghG03ScgLmQ6iigyX00QE9OumiDuIrjdmRLKwJ+d+w6QZmZqB660lFBp7TAt9Lhn6t3RTwyUeoBpD59b+fJFCWeNp4AiOBeA4QmCLLEBBhYWAmqqMw3GZRzeDcEgL0R1FwTFAnMoKLiKLE017SVM0YjwK9ZCjlgkxDmPjTwBtxo5EYf4TgJJmj9gR+AgOeCPPiQj45DsxzutNGbuzLRW-B0YCNJmcCcBGpIRmXPMDMCFZG0LxOjO74pybZ1EPdsLEBmfwQZawAOdbOMIaEo5Mc5aVWhdFsi3RJCAmRKT7l+Z4RRsuyc+2txuyDiHs03qoDa6qB8eUMpQYQKrGuibe4UAeTWK3mRgXOcgLkUvLax8iR8io4UeVj9nJhxR6kPWeQQeD59F5t1FeeoXPlhzl5wsm5rrL6D6yH54eTPPjyfkoSYqYAaOW3EVERFF5RgLVGqNVQfy-Gs8nCJaP1GFD8a+otrPdJSCIL55eRUtqguLFFBS2GCguX8SdHgMd5jI-cU4ESl3x0cQrb-IFjqzo40Wnkr8h1loCLBuxtIP6ePwtp-SB8mU+fDwssH9AX4uOS7j1PlkBhJW0geabUFFS25fG4DC2hIsvodDLSDtIsCNKUCJTYxzLZVIsIxh6LcxIIjSabP4iLAI82iy2K1OUJD9OpawP6SomerYLKxwbJSNgstFxjbJDomEJwvIyWKzJf0zBdsFLHGF0pmEVxW2PTF0jN5dYvhBhxegKB96zLbqaNPnyBKMwwS1BI2KsDejrhUStMRvFfEiRGJjgQCbuAAAyXNSCduL4QBSpcVgRyYlNFAuTV56suwGhK4l9jJJfjHCWNx4lsQWlAk2wBSyomphPJooAfOMu0VTLx+ZSipdUvAAcThwuEoZZMpGWppNJXQnwccOUjCTrhok8SZsrl4Qg78nkuSV0KfCGiDlWw+Yhe3OXh5LlWwzFu6I9rDK2l6hbZVsO0nyBdJykRKa3CCQe1SQNC3RTZMMW2A7JhohyapQ+W2TXJ7oh4LEFGl-McxPzAxd1nUkTjsgu+LSQsP+VFBpSS1ZKFpLrr7B9BdiVBLzATb4T6A6KvMZCuQmWF7pzQ95Rsu8VMq7JeNGcmcJ1lJK2QaKv5titWG9TnqWoAGuJEXGMcGVUkm2CktzER815EqkgHTNh5+NkVAFBVT8wZUiqzhLzFVQMkvwXZiWvK+4VQu6XkgkuKokRUOKvEbx70hYZ-vavUWekKOlgJyRNIzAYTyJm8XgQeKS6+rvuUiC8eJCOVvdjxvqnrlIkwbrgZ05EnFc73OK3LJx7nHcOROeVaClVUNe6C13KgZr5JoQpZnSt0DNDY1rU4cAmtFV3sZBevQDG6qDxZJQp6-DCcIr+HPUkJlsPxbIHIxOLJg-qgZdasIlYyUgIaiLpbHDU4Rjxkk6Nc9XLUzpMpqwk2o5BTUTC01jy0QJmuyDZqAgqgXNeusSlbqWAZefsBEXBVlqbAFa7RYmu5kq8R5BsAuIZ1mDrLRpQeT1d2F9XrDqFnkqZDJK2V+MuONC31S8y47kTf1Kk2gAPlA10rwNFkyDQbCHCNr313qlDdxNg2rBRSUiZoLSr-UWIylzEoCSBPAnLLJg+G-8YRrYm1Li1f60tT5Ww3Iaton07cBUHY71rOOz67RWkrMWTBENHqzKS2oGVcbMNCfaQC+tnCWwFlVSmpfzEk1LKMxuPc9XRtE2zLRSU0ZjeUFY2XlwcdZGEJ9RHgKtfSn0jYQZtnyjldNREEzbwuXQjQWG1mHBAdD01CBhOm0XfJINs2TpL4fdOYA4Ec1FxLNIinHDZtM2+xOKvm2Mi5qs3KYgtmjH7N5roBhbnNo0Vzaumi1zC9o8QR4A6DYhoqgtkWuji5vdG6bqAXU8zU5r1X3Cv1LJLzaVr801aH4f7M1VoJeZFaupsWurQuGIAJbTly0ZJWiqex1aL8XWsXmEMa24qCMe6hqtCyGLyq-mj+WgJ9WK1FprcoWxbcwh81EQxoo2tYSIo4Jxawtlk9bU5ola7DwGpQ4UAcMqGUq9lSkGbakqeyhaLND2o7eVq0GlzPKPlFba1vs1PaKAooH7ezGG3QIttrmCbfMThblRbtiqpIT5sW219hEGWlaEBBe24rvl3gglU3EfjEqFoWAZXikGM2Q6dVCOmPNqqVCVsQlSkXJRR2bF3LLCT9XHcaEp35Kadr88uekCpSA73iBhUVbElB2upqAqLHcATrJrClRAmWhQHDvgI8TMGAAxAUaXyQf8x6E9cIDnU2DuiZ2XLSZEjsIE3qJoipHZejrDKGRaR2O6UBSAWD3QlArvXWlQBWjwltmWsQgeTtsriBt+xlYnkBxd1Xz8aFUHDtVApEE9GAofbYjjvLkBBtw6uwdoAQbb+dGd1OycZXJGbs79IwOnnbmvD0B01WGu72NNoFUk6c0EeudoT34JSJmQLrfivoMtgABOV8D1HL08VE1pMGAUBgcACVE1f5NwHfAHgIyQ5oihHEOBHVikm5jEOwAEV8nw9-AdepULc1ublQ0Ac+ndY3PvXoCJ9Le-QdS373g8Agk+tva4ERRaS1MQyOwHeHKwqy7uK+rivoJ30d6xopeuLQJX+lYRZFPFBRe0CgjPBG1yO7bUaS22p7JtT++RWakUUQ7c9s2wCP-pf1EDFCC7EnVBDGb3RFkwoJoA8CpopdaeWoS2Cm1qDOtXW-LXFhlAm1f1nwry-tYxAQiMAkDpNTxuJG3APBUiiLb7pPvmK3g7wC7UAH83sBwGRIXZaygnQjCMGmWuYoll5Hxn6xjAqsmmIxATUUcqORYZ9XYi1AD7a6HGzKW+rA3Qa-1DOX5reuSDCwyDFB+qFQeWxsitAd6ZfeYEYPbhmDzUciVhDkOzBuDzB9qCIejjiHnDo8ooBYasPNR2DiUBgF4dvAL7zDq++vT6NJU7LCVjozslFXOICGdVNoq3Ven-5KAtQ6k0tZ7s1qtxDAcvIXUSyYaei8lceiYUGMp55wuo0BtFbc0jGKACFAAHSwBAaSwthaQ-gCDx6N2dhlcatxAMgz6jDdB91OUdSWVGeO1R4sXUYaNAy2IzR1o-2NVSEBFkQySLhETmOgAAAXgc3MB1Hkg5KqY6c1-z2VdAaxrozZB6M0HjD9BhpZOiezaI6Ax4RFPgfuhiq0DGB-Ram0vA4H3WeBzg4QeINzjjYI+CxDkZSMejsUTYhvcUYiXY4xFuhezjcz52Nw4JCaOUfaAsZCN0gsRpUAkb-4rQgTGtf40Mj2MEAfKWR+PrT3uPDhtWV8S2NuHYNknk8FxqNI61mB4QyDoZeie2tJNfHxIFJkOmSd5ZXxRSvAnHGScUPn6BKTB5qArCDwmoSmGULLdwezX8zBy4q54yYtePptN2Hx45rAYIODEiD2hrfcEaVCWHmDXw5kylNhIcGCDXhwI18MNOKB0TQh8HsLCkOUcGg1HOw46d25KGxNPQOgWoY40Jr58ChzfaKbX3bgfxdK2w7RxNTUAkTkgaRK4TQA2nFTUoTw14bYPMsIoRSvw-4aGI2mDTF+kI9cMfhaSIjSkLHZEgdMh7bZv-G3c2CBNADIInuxwESaJ7WRATeRkEwUbBMvwiE3AiMIybNN0DYSU0g0l1EHOJ5hzLpRengBpOcHUgIjPANsco4tHdjEVTZlhUkBDEGgQxUgEMRhZP1ZzmZ3w6kEU7Ln2Q0x9o1C23O7n9z1yyVjeYvR3nDzYAc86ub0bXmhkGaHc0+fKgHmNzt+Lc6HlvN-nMWZ5xo+pB2MfnNzN5r81hT3OgW4LgFx8zuAQs7gDzvgJcxBcmMrnpj154C0+aQsNV-zD5gi6hefOYXXz2Fs1Lhd2P4WdwP58i4hYHgvwALk2lCyFgotAA')">const input_prompt = "query input:";
const output_prompt = "query results:";

function query_driver_loop() {
    const input = prompt(input_prompt);
    const q = query_syntax_process(parse(input + ";"));
    if (assertion_to_be_added(q)) {
        add_rule_or_assertion(add_assertion_body(q));
        display("Assertion added to data base.");
    } else {
        display(output_prompt);
        display_stream(
          stream_map(
            frame =>
              unparse_query(
                instantiate(q, frame, (v, _) => v)),
            evaluate_query(q, singleton_stream(null))));
    }
    query_driver_loop();
}
</pre></div></div></td></tr></table>
      
      
      
    </p></div>

    <div class='permalink'>
<a name='p3' class='permalink'></a><p>
      
      Here, as in the other evaluators in this chapter, we use an abstract
      syntax for the expressions of the query language.
      The implementation of the expression syntax, including the predicate
      
	<span style="color:green">
	  <kbd>assertion-to-be-added?</kbd>
	</span>
	<span style="color:blue">
	  <kbd>assertion_to_be_added</kbd>
	</span>
      
      and the selector
      
	<span style="color:green">
	  <kbd>add-assertion-body</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>add_assertion_body</kbd>,
	</span>
      
      is given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
	<span style="color:green">
	  <kbd>Add\?rule\?or-assertion!</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>add_rule_or_assertion</kbd>
	</span>
      
      is defined in section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p4' class='permalink'></a><p>
      Before doing any processing on an input expression, the driver loop
      transforms it syntactically into a form that makes the processing more
      
	<span style="color:green">efficient.</span>
	<span style="color:blue">convenient.</span>
      
      <span class='comment'>
	In the JavaScript adaptation, there is no need to precede variable
	names with <QUOTE>?</QUOTE>, see comment in section 4.4.1. We are
	using the same internal representation as in the Scheme version, because
	this way, we can distinguish the name
	<kbd>my_name</kbd> from the data log list
	<kbd>list("name", "my_name")</kbd>.
	The original authors were saying <QUOTE>efficient</QUOTE> because
	of the string manipulations that would be required at runtime.
      </span>
      This involves changing the 
      
      
      representation of pattern variables.  When the query is instantiated, any
      variables that remain unbound are transformed back to the input
      representation before being printed.  These transformations are performed
      by the two
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green">
	  <kbd>query-syntax\?process</kbd>
	</span>
	<span style="color:blue">
	  <kbd>query_syntax_process</kbd>
	</span>
      
      and
      
	<span style="color:green">
	  <kbd>contract-question-mark</kbd>
	</span>
	<span style="color:blue">
	  <kbd>contract_question_mark</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>).
    </p></div>

    <div class='permalink'>
<a name='p5' class='permalink'></a><p>
      
      To instantiate an expression, we copy it, replacing any variables in
      the expression by their values in a given frame.  The values are
      themselves instantiated, since they could contain variables (for
      example, if
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in <kbd>exp</kbd> is bound to
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      as the result of unification and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is in turn bound to&nbsp;5).  The action to take if a variable cannot be
      instantiated is given by a
      
	<span style="color:green">procedural</span>
	<span style="color:blue">functional</span>
      
      argument to
      <kbd>instantiate</kbd>.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (instantiate exp frame unbound-var-handler)
(define (copy exp)
  (cond ((var? exp)
         (let ((binding (binding-in-frame exp frame)))
           (if binding
               (copy (binding-value binding))
               (unbound-var-handler exp frame))))
        ((pair? exp)
         (cons (copy (car exp)) (copy (cdr exp))))
        (else exp)))
  (copy exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPE0GJWqC1AFIGBBLQKCyXIFEIehiDoSggbx5JUnSBQWDIfRxclmoZfCUAAB8deMwWPi6kn1alrWYj1g3UhYfB8A4IQ1cUDXpdl3X9b9QX0kyR2JbN13Yktj3UjHDUfedrX7sOtFqBFn50bDv3nkKckgtNzXKHumH+cF5gxAkYQhdBIxKAUSgdj6e41pxoLBawj5S-CAAyRven6QZ69d8T2Qr3PM6jgXFY+r605duWExz8g89qQudxHmWrLoIeasmhnzEMXxlbthh8BkNIh4T9Ox62tv9BvOfZdp-vCYtagxDoT6ZeL42xG4BHCECNxnCP6Od3BG+74fjpbgRs5qv3hu-Ygn96D7X7oLf+98XYH1HtXYGA9K75xnmCc+Vl4GAOXlnTiuCXYMHXpvMWTtE4oPlq3EYN5tpnwoYfSYMDV4g0-gA4h6MGBvw-oYZwSDzYDVQfQpMp9RHn2YX3VhaCKjKDYD9LKdBi4NyoePVIucMHbjBB3KyxohAzlkfIsq9B4Ruytug6eWjlFl1AOCcGHAGCGIUaiUxlsV6wxcE44xjBSE23-CXV2r4goiLtCE-xDdJHQ37l4xRp0+rcPAbw-hHchLBJPjeIiATIkRVgakeRythDkASRAqBSiUlURruoyemii46NsfklghTilJJMSwjxwIPqNKKeuLGkgyCGGsak1BNxsS+K3jvPen1uBhMGfydx-MGlNJtsIXwgyKnCPSaIzJETL7SMFiJEhzAtCALWUE1BE8p4FysXU8EByPhUGIHgtp-MDk8MgXw+gpzlhpNoaIlJuz2mCzeNxVEnQvlxmoRcmpO4bnApjs4H4bzSmuPds6KFljakBN0fQEFCKFz3OOS7fB-c4WgoXBA7i3ItDgpiEFLRDBAgyGsdwPEzzOKkrxQwSkbRayP3KWc6h9LGXMtAKSSO0iOX0B+J0EWi8aCVi+vy75qChWVBFToAF2dUjGHaNLZQiqsnrMhVUy5mCRXgh1by-VxLpGE0tXqg1pcwhGoTFYi1PKHXgmAQEsI4r2n2scI1AljyXYDP5bEZV1CZn-L9fzKopAPiHIeScjuzqBUJm2qmtlHkP4zmDYAsNPqhnUO2ZQX1US9mpEeZoXEAb9XWLTZGtRaQMjhLLdm8wgt5GJvzYgrNLrAye1bWIu0WbNWcUFuwDwXgaW0vOSa6F2isW2KncoLwNr2mrq8E1fAKzZ24wzZs0dWTx0eTgYQQgIIqXJMNemwdC6MUwuXX-C9V7FEbrjaw5p7yb0qLvS4aNJ7Y2ENIPNJFHz3izp+YMDJfyT2ns7akTq+g37fzQRox9YI35WWKPgumUcmZyBZlAOAiBkDoG5niPmnFiC4QeQImx0tKzFubcLNy5DfaH2UgpGO7G4m1gY1MFYzRPb7wkdx4EttpIkI3n4-jirZPjN3ovT6gnX50GY8pETqQYmokExJ2jPxdP8OwS0DTQmTJoKIY-cTzpSiGYXNZrBjCXbqc086bTXKcXwqlRx8OssDOni87NMlDG3MWZUmgxZRTwMmZc1rCThMo5bk6U0npQ8RYDIkfhPS0xos7r3dlsz7nFSebrcPeLAW7MtCC+VowHrA1JsJTLLLlWqbFYi00NBW79PVYc01LkM7TNMc66sNBdyjkhps21wLPwJvJsQcN8zWmrOvuoNez5tnFSlA0Je1ZDmOjUqjt+0pamOs5bQvSiZ6MBk-TA4kn99BWucdHuF0bsRTKkHMmF2xtl7JORcOvGW5B4ZeR8gdh5eH+67bYKs5E3A7uNpdMKfQtcuoKHhQqt6rD9DIkmDjOd1CYe4nftQDH8rGrJfh4IUD5aczPn+AOIFFDyjY48bjhw+OoIxHfJAjIxUIdHa-csuHnOLu5ZWAjJGBcmMHnoCc4yEukRfvS59TLHO6BU0V0rmIiPxc65WMd2X8gEGPzx4+WIlSGXA3k6MGkbAquxlKAcrhbwkZgg-vz97XWQ6hmWBRF8hozLBA11ZP7DlnL03aZQXwJAweCFfb4GqOZoYEI8ld3eN2UPgMMOFgnQURn6Du4CAAfDVms9G7vhbAYQctOTpH9clYvPzfs89CONUwUg-BVD7bo9SpvPwKXrfo0Vkb3uYj2b7xVkLnLuW6umy9rW4XjKmSn47GfvmGAyrIHK6gCqzsjake0-rdXU1t-JEzqtEsY8kIa-WsdBPLeoN95qckAfGco67esPNk2U1FvWisEFILl9PGj2r-n2kWpwIfm-gzo-jzk9gIKAT-qXPJoyIrsAbjgeGAQtnypAdASsJftbvLLbkgYcigejFzorkFKQR3PJkxIUO-nAf6Kgifnfl9Nrk-tgc1mWg2lTPgdqG-qnv3BngwA4PArUPoCppAmhoXgwKXrYpCGIewhqHCNwFIXXtRh5IYNyIwPgPwI4iYEYoos9v5utIQXVhIgAbEI2KmoyOVk1lNjwRIvQU-h3tWjfqfkWhwfpKAF7GwN4WsBetLO3DodvPocZk9pgQmj-jgUuk6heN4YqNoUIGEQYoYc4ozPoIkbGHamwXbjEdwYWvEZEgwbAdzq4c2hEUolttVlYlUTJmQoJuPjEM0H4QFEIQ3kFj1ktsxjjI2CLoyFugVqss4eSI2N2HqHYaEXoWkXIhkZESLkBNYQgdKOIaEIyCIUoXwnfBIRMXThUYGBgSLmAtLtwhpnLqbmCHsfrgbnpFsbfBqLnqANkbcUUGPkfvzP1vNtwT9iNqooGITC7mdN4Rga8g9qdqPuZghi4P1k5r8eZn0SsejIyBgU5vJidhBgfuZkxPAg0XJvHGiWMi3ofL1LWOFkxEFOjB8TRkFlUfCb0VBLiUSbbvUUSWpiuBgfUVwrFptm1tXhydianngARszEoCRuzORlzJYJoYhp3gJvDGhpOrbPbEogqc8X6KUKDl3JQF3v8Cvi0F9iHvDFZDbHbP0DCeAiYFoMIAECYMQHvrUI0FDrarcJTjjqrn0gmtwMcR1v8T-GCOCKbKzlHF6okR6Zlt6buj0NAfMhOqkEGSIGzgWLjoqQ+lckXDINir7MGawh+pxMduGf0imX6cCKCNbkypmaAKysBh5MdiLsWe3q6mWcKpWWKhWu0kbucSbicjIGhqqhWdwBqtSfVK6UQSqLbm7sgo2YGG6kCX1F6ioPQO7h2grGOUkLbhQSWeiumTuOjFZHObWHmTmjbq7kuYgpudOQBkelkBQdCWZnIvgHwm1GcZWBcScn8ZeX+ChoKbGbWVgTOJDN+QySnBsiMDGWnnDI4F8MYE1HDr0m3snBCgmFhJDOSdDI2JQBXO4biMbvLi7IyG0TKaJKOYBUSU8TdmhnXIpnqKSdITWeYJDHiXbAMjTJEIhQcVeSMDTPRS4IxVnqxREOxYTgmDeNxR0cfojMES+W+X2tReRZ0E8SwOsI1B+SBYKtLGIJhUYHJeEF3BwG1FpaeEsBqTwBuAJCRb0tpWQvJXqO1kpTBSNvqfpZpaoFZX4s6gADzAgaWGUKXNET4GnfbggAAqtsoANwdAvgNOYgvABaTYa2jptioAAA1OqUriAm1EKKsmReEKlQueCClWlRLhlWIFld9LZf5aAJ9kFaFfgP9MQI5NFbFaGvFZetQIlQValS8bECVWVTlYVflYVd1TEL1TIKskZXMkRZJhiFiExQuPHESefsrsfhpkLLbNiKpYbtIskWUnJb1Ejn6Fbn4W5cxZVTMMVmtUQFkbcXqtBSdLhZcUBZMN1c0ESSODQu3DpcNT4dtBNd9a9ToSOv+DpTaHaBNUsRmCuAOExu9ZhSpdfjhV2XhYIugYaZuItb9nQDbOUL4UvBDaxGUYro2JDIyKQYBfwc6EFDtbjr0nNSxb0lrq8XxQxPTUPBbgwYIUhYcateiBtT+VNUydRbbhjaeEtbEP3ExpdXzcBVtf6oDWRftVYcJPOi2t7DlYkfZjzetddRLrdY+fdUjY9WPoka9dRe9Zml9blqUPBL9Qpb1GdWNtTURCDV+eDS4eREVUUNDRprDVhQjdJd2VOajd9hjTZFjXoSILjZ9PHk5sntqITbGMTb0qTf+W9JZRTYqFTYDYxWRTTWzTcXpMzX1KzYDPjRzeXRxRdbzU9ZnMKawoRvIGKWzGRpzNzNgBBauaTuTg6UmXpnjgOquRhjuWCNTuCF3ZjsQEeeYOPRTgwGTpeo4YohrixsfL8naObpnIVOjhPb3YzBsUXOmG6nMAubEHMKuIzQ0G6hyCfTEByOfTcW6hhDfaZQePfYfUXJJKCM-Vom-Xlh-UOpkAuQA2wM6BfUUG6txIYJeuQEntwJA9A1FYqGA4UG6sHqQDfWg7GMg7EG6jcJhVviwIYF6ng6oAQ0zCsNgzEG6slc-bEPoMaaAL4LpWXqDqlYg5Q6Wb-J5LQzEPQ9wEw-IaDj5Oww-R-aodMHw4w8w6AKDpCIwzEBw26sADwwYAwwIwCCw6AGACI+-b-AAKQqOSPqOaN6PyOgCKMf3iS0NGPSNalShMOiO-wACEko1jajtjoALjQIDjujAZHlhj7jgjoAXlMQPjf9v8HlAIPDNjQTkToTFjv8JeAT-DHjZe8TjjAZJeUT3ARQMTGjMjoAWT6TvjEITjKjBThQ+TMQTjsQCp6YBUKxM9Pdx2ZFgIK4hecw3ATTWOBGDT7wAg3TbpHi28LAAAVlaUzACO0xoBrvIY-dvRTguTMubhw0UIM7vU9mmJFI0wsz3Xoi1vvTuG6i-guS-qs68ZwwGZAHQN6DHLAzENc7czHuc68bg1QKQ7AJADfSQwwJ8y87cW8-gwAKLP0-NAv-MG5uoABy5AULKjMLULDtekfTVI6z+zeaclbTKwhewo+T20vZXTuzWO6L5aW9ZOO96L8mkz0z2IuLZeyzF4PARLjUJLWz0OieDA6zVODgCOoGWiaGxOc9jAaopAsOJ0oz5A1Y2hXUmgOtV46z89HAgCS9eOBdKwd2-LRwRQ4l-M04s1D1JyaGUuUlBriC3hu2wR+gXLX6CtntuWaLCB+idNELsQFryM1rwz+AYzEz3A31TL5Ls9lLFFarDQcN3C-tprEcqeHAAgYbYgXwSlC4kbxUerhAAdyNYIWzddHiDdxGzdHMmAGAU1buFApgDAuqHw5UNwpAM69i-UalzaSsKsm4MydbzCK4sw15QNpMJEuVtiDAnV1IOpc0ZVrbP0ZMD472zQY7qMHAk1JKigNwt+6W1pT8c0B1wlgY5AygygsVGQ9GRgCOO70jTMqVReO7714IBVpQV7VVtiVkhV27ygLrioV73qz8Gh-cDgPSxga7bUvLYgTxd2ohdAP7-U0EDbgYJVA1EIhV4sS7xgK7EhhewH37P0xgAHEwA11g4IPF0oYHTAZACgReoGqZqtWQd272N7fhuklmXaRclHoAzcykqOisw6N4lH4QesH13bnHnj6kuGVHBg20jHXc4IuGxkpQJb27M4FbsU1bM6lH+prHW+a2G2SijHzHq4omqmRu4JmJnHzRN7sHqVaHCajUIsxHIntOJHa0+OXVq4BVg7zJEyUhGuBYGJ-CfHDnsYTnhVZnMFlnQwXbiOtnzCuV2u8ItHpW+H6HX0n9HwC5VesX5nhHpAgkU7aCWESnKwpQAX8XT93AVi1na0oNFHpH7W+XaXgkK4ZWw7JMOX8ktiAA5IO8Xnla17V0O8-GVZR3h1V7qqQKsoNwI5+cAwJI8s28FyMCNy+7GG6kIMIPlcEPlQ5EArYhaMWPlV3hwPCM9blyl7+9tLN2V-oCd4dxZ0R5l-l9N4MOdzeOdwN7WEN3eRK1K8oDKzOFwu-B4O8tnoQGRzDsPnpqhh25cxCED+pwuXpyUpiahiG0UIXm9+sB99QJoOiT9-qm4Jh-9+28Jmgm56Dwd26rhsAkLa5-vKhpl2-MOeYCNzJsDvDJy-IFjwMqhjjIQZD0vVT4-sTTa2bUCCuC58pvvDDy0kolTy4Vvb924NPIjvFDM-T0DswEz5j+8jj5L4aNQfz2Qpe0-WD1hNtGr7LwXIju1jMsb8YKb7Tnj5Zi0wL+pFotF0UKUJb3L7Tl1-b7r2J8j9K2j19wxM7yUC-ZuF734gj4UEj5Kyj59xjyz+r9FWz+Arb5FihTr+H0yzL1b1vjbwFLAYQYT8n1YXSh-aT9SOTyL6ppr6UZGIHsrdQjT4IfXtHrHl9Oz2N6kFhET019tN35Fmg-92HnZBHhabDx5DHiQFPS4JOS1rj1uZ32ZX3y71+Uv2NgP9hpjf9pHjydP2eS1s6e0pt9pOVJQPgE1I1AMBUIMO35By4BP238n5e0fzpHh5f1vrL8f9lPWTf1zZxYMDPzwU17N9dWOpfoAoFU4kBEyFQeRL4AkKGA2Q0AmBtPEMCkh5+5HIwKyjB6IDYBBcFAU8C66G8T48Aubk8HkJGwwBEAqStgLgGgCPoCEDAXNwuaxBqBuA0kCuQFgywyA9sLHCwIwFwNIwSA1gWR2OrECsBAgnASQmJD4D8ehAkYMQIj50NpG1QEWNwMai8CWBkgp4AoNjCkD8m5AugURFZSTUO63XCgTIHkQlwZm1ODdgekDDmCqASMQ5IEA+hPwKBOLHltSHnbSJ7BlARwfoOI7+DhBw6QIWDz8JddlBXA-oDwPEESFFcmaWgYJAj66Cy8PgvwQkNcEGC4MzgjLneWNaJkhQwWPhB8HPLjs-ohSGxAJTGIrFnogxYmC9EYCAU621MBmhSVQQ1Cu4L+MHnkMGBNCuIVAZoWzQIEOCd8DAPBvxGei25no7WcoQMMBi08XAvEWVKMNCiuVeIcDfoZjDZolkSaYnGQEmFqAFUwe4IPYXsAOFdceUYKNYX0Ndhg8SaMQcIUhh+hWsqA4QLoZJXyG7xKQoIRBFcJmGbDAYDwzlmZV4hNwW4tcMyuUKE6LCRhYw1yjeBBHaDnQN4SEYiMVDQj1ysI27s8NlioiDc20FEX6wIg0xMuxw-YUt3mHUg5oMbbKP4PoaUUzKDDZIb4VbR3k1AJgbdCkWf5ecP+qIbgPTyuH09KhrwFYrCOtz25io6IxgJiP5EbCuR9AX1kwNXCCiWht-cKisLFH85L2JwjgEt1CGtouuT5eNpIBpHpDRRnuB3HeV4AwUWoCMbEWRxKpYiQRd5NKE4LAE4g2Q3QVAVBBsKMg0o7ossL4DbK-9qQ71F-D4T8J3tDAFIm0UzyJA7w7RiJfpqAG6CMgjeLw1oR3mQzdBwgN7XDHe26CZwY2oAYKgAAkgWDAAAILgBwAQLAAErBVIAAAeShbIAgQhFEwTIEkBqB3+WkVEAMklGzD62wYq0Y1BjHYjZUQnF0TGLl48jMikozLi6M6COZZxT2PDouMyA9jiwmRNDKWPLFViax9YpsS2LXGSAhWFQeGDON7FzjhhSQNDC6NpExiGAcYplPOJwQri6AnkfwQfzjQtRNxn-SDAOP+FDjK6-gt6BYMLwcFyhsVUvNkTZFrot8jAOUUoigmWRTKvgnfIOJfadi+IpDJCf2JvF0BMJtMIsTtxZYR0RYjIAAAwnATBNQRyAygyAX81OsSagIMCuiMSvMDgCiUCFImcTOBpAQqniAzEJheJuQLiWQDw6Ew6Jp0Wdl9F6G8SuesUVifSIPAQgy+WEBScxKUk2lXapQv4NkimqBApCMkidqkGqDZBGJ60d8BxMUnlRWJBFBqgxIcS2TsorE5KOSH7igDGojkToDOh-7TArcyGdnorlKBSTHJdbQfnEBslaS7JqYRXJ5i77J8QpIfU+IEG8m+SsRVPXEbfTSkMAfJbAGdDeCp7+VTI4CdosGK8l5SMppEu8hUEgGhBt4EvcBPRFkmYScYnk3KflL8lK0BYn+R4ZuAfBMFBQKOC4TeT0nkxBp5RSmqgh1K1h3aBNWvtGESL9FahF0eoWnUp6YT5pgBNoaGPAjjhhqpQPYVGGGrNBKpXU86KtEmHs0BC0ERglNOYId4u+rwgiKUHOkZTe++Obju9IKndsHwJtf6ApWIDzS2Iqon6X5OT4Ujuhc9XeJLE-h-Ae2aMToG1O9HVC6hq0q6a9EaHjSMYYlYaQYBqFeMgw6oeUEwSCgOAsqywnCZdJOjxwphCoxUaLSAkIhPajBQgshlPBc4DceASELzJXD9F0ZQICYVjMspMy8ZAUtoejKJmdCnc0oSmZiKaGEjYgEwumXUK1zQQNZeYBmvFJaDvCehOM3qFtJgKLTepBgOqcEVSCfImZvQ4kWxR5l8ydp1CUkacPJHGzKID0oAnrMRnkwxZKojmsAM4gUyxqVM-iIQD3C-ghRldHYepG1FnCDuzsnUUHw+wtB2glw8OUJ0hiAjkMYcl6U12hkFC4ZfCBGWHK6YRztZ+PQWNnNQFvDTiBcx8kXMeCEBfwJc5mTEHtmQhARWEHOUxzBEL9VJTcoTkHNxCYj4RrKbKYUHhGkhx5sQIeSHNcpG8x5Ss50EbynlLzFQxIrrgnIOHRjUgpE4uLETI5D0zUvaeeLYlIlT9FyUFK0fwhqklkZkNU9gbxPrK3yO+6A2DHaAflCcFubAHyb4HUS6l4QXXGZLREsnGD2We2LfE5K+ikS+Rz3EnARNgVkBcQkc+AkmLkTmkoFjIIyUPBMnigzJSiGqUxEbCzzzRxUbXLPOlFwKgR6EpINPIpD0A5E18zbCqSgWMDFQyotmsJMDAkK+cDuLUWSKTkBUwh+PYAuWzgUWSHE9ZdBSkRqmojDR1InxOkJ4XijjBRY3cQwFrHWQAAMkC1bHMjMgNE-uNhO7GkT8JNCwia3M-Ijizxto+cWDynEygLxBcUxeOJ3wLjTxS4qBQMnYHriFwLincWWI0XaLdFJ4mcNOOcWMSzFE4ksqBLdaDAOC949IY+OfGuLbxdCwoLckYmfiEh8IbQYkuyFqTtuWSr8WAukSCsXFgElBbYMBwJCwJVACCVeFInyFsigrIpHvJgVoTZUmE7QcYtIYVKEFzMu8nwglgOIRuZ3KhZUtpqBCYltSnwQ0umA7Cy8iuWJUESgExD4lRI38XhPGVILqFXS5maiKZHlLIlOyobnsowmDKC6OdBIbkKnxiKkFpynoNcuyFWSVirQZEL6MkCnxW+jy9rOCFEUjc46m7FwO8ocB7TgwB0g7sMoXr3Khujywca6I+iZdQV1RPfjwXO7PKwBd5QWDGKWggi0BDotMRfDdhoJkMRK0pf6lP6BA-xSkxgGOKQlmE+pNi+GEtAZU9TGwKYoEMkvLDxiGV80xsLuy+zEIkJiKsSMNXyVujugb4q8fQGyXZCgVazfgDiGlVbjZVX4iPtl3fHcAmRgqoyTOBFWBD8a90pviYI+DBBGovE16GOJflVCkxkoxkG8EYWYlCFF+JlbiuLkETKCDYFYpyo4HninxPKl8Z6v5UrFdVxCXif4KxYS4JVLgqVWfOKU5Ky6sQIqMqvjUcA5VYA0MrGA0mMTtV0jMNTLCgWiqLcxq-2QLWEARKHEwQGldyJlWa40Be8hlXa1iA7YK1UCovO+My5v8kJHautewO7Xvje1qq+tVBDNXUqRVVqxxUOv-H40oobAU3u+MmbFjAl+4usQ2ObHgAmI6i1dYeI3WMhNVdavNfITtgLq61+xYFbYgxC4d2y-MN-u0ssk4wx1FqjiZOvPESKoYwopMSeq8WMh1FminRZuvJB-rgleinNeTCZHfrTF+NIKOCCvU7zw2NaYLKMxxxvwbBR1YdKhvYGkE3gyGlEP9zQ2gVr+OeR+ZAhnA4bHoSfWvGhiKnEa8OgsbCo4hSC4bkymGtAcdUw14dSCkDZjVhmI13yT4HGm9ZxFzSMbDAPGyjQRpLSiJBNv5cwDUDEAPIC4Yy1jZ+V760adW7KegKM3wDmTyNKIJ4piqRVoCGNem5MqZvbS3CplCQrrjhp00ELSNSGijevnE1sLy8Z4B5LCrhyp1zNzmijerIuaGaMumcFNX-BED5UAVcChcrZuqBstpE3GuzfoG40UaEV0y1+QxqS3s4MtpgYyk12EV0d+JqggwjANiFXgItDyrjUxseiJbKt+m9rIFv825NpG8W8ySJqy08E2tYQFCErnq37QQtK3KyGVqG4LlmtmuQxdInk2V5acKWm5TMuyF1LLB2IDgosqwBkQGg43Qbasgm3WlPNtnTrWvKKDyLjRiigpcSNsCrbl+h20-sdrdE0wVtsEVoq2i61FB6t90ELWt3C13LAVahYgApq0CxaJKJgfgA-wB4lkMCG-ONgm0RSG1AEr3aPn73R4EkptQE4tZOCpqzLwJMzYyMtr9AIxAd1KTSMwBljdRqU31Erp1qAl0KOo1MZhoSIH6VgGZiosOlvwWFUAxoAk7yElWSp3bzt4IX3qjwR2B8U+UKqkUdtFV50ARfoB7ZkAR4vboYIWvnbH3RgfaK8WgTzQuQV3+95MWzRsDcCZ7wMYBjIAAJwnBokPEGAWLpsGm6oG5u0CbxnRo2IR1UNJlSIOJUPS2ZKOFwF3Eok9TCg+umBvoGa7NcrIaAEPQqpr7uzFcfu1ZPEJukNAo9oqueiLAyHgDMk7WFwD5GrIrhQZvus3TAwT127D2aovXbnqYYUjOgv8-+QJgeLmrptLy7YVZuyGvalVf8H+TA0r2T0Btn2yLQjlb1-y5SUMEwZbx23VAioJ4MgDbD4TPNExVIVoIyCV6+BGezPLPs8PM6o5QO-AAakcD25MQBwCqUgBPrub8cJIfCfSjpB6lR6IQ3kHyJb1AAjcOBRUGIFfv8jNqYgF+p7g8taDHBQA90liAOBFWn9z+W+CtRIU-09S71HE6tT2oHV1rhiZ3WPabI6jj79aMeI-bYhP1EofdzAkvZfqv0+QkJggYA6IFwPeRn9P+t2XX2mAX7wQxBnyHftIVMwaD3DJNa-pL1i7lltS+ZVeGx0S539cKpWQTv0TE6vorQQcdqvp3-RpGzGRgRtrO7AIRdV2sXX4XC7tEA5f5aIghMMCORVYI+-gK8qTGz6gQ8+xfZbxX2-sdDAgPKlvotxJ0h4S6mQyIcpFtQFFihlkdBpVrHVIYOW86uCAchqicJc0a4eQFkjQRmgvB1ZAIaJ30YHD+LXpOTqp0SH5CUh6Mf00EP0YN+qFaUNjUTKdQGA6gEQBwFIDrQF2hAfbI-wensynhPPB6Z+qpDtDQAwshoenWanMztplddoWBAhUagNamRiOgXByN5HhABRyKbdoIjNBcgJRmmc+VVlrT4D7ugwOCNUlVGqCqCLCOMej0Cai+3ANY39KL7MHv9CdQ6iwTKlZ7OaldbY6hmC3x83AO25rs-30CKiAAOlgEbWrKC4ABmQMEGI5+F+GKTfHGhCD22I99E+yemmCH1jLbjPI+40wKeMvH6pTAM-h8fS7PDVJvAE8O1h6BYRUToAAAF6MtQATxooHEvhNvRPj8RnoLib+N6QATdiJA8YBqioQDoqdIQJodVi3HXjxJxE8RzUZFcP6QRk0vlWUD5UlukwZrmmDwBgnxFbJuE+8dJPcnwef8fKiwAFNCm9u1J-yEAA')">function instantiate(exp, frame, unbound_var_handler) {
    function copy(exp) {
        if (is_var(exp)) {
            const binding = binding_in_frame(exp, frame);
            return binding === undefined
                ? unbound_var_handler(exp, frame)
                : copy(binding_value(binding));
        } else if (is_pair(exp)) {
            return pair(copy(head(exp)), copy(tail(exp)));
        } else {
            return exp;
        }
    }
    return copy(exp);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p6' class='permalink'></a><p>
      The
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      that manipulate bindings are defined in
      section&nbsp;<REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.2' class='permalink'></a><h1>
    4.4.4.2&nbsp;&nbsp;&nbsp;The Evaluator</h1></div>
    

    <div class='permalink'>
<a name='p7' class='permalink'></a><p>
      
      The
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      
	<span style="color:green">procedure,</span>
	<span style="color:blue">function,</span>
	
      called by the
      
	<span style="color:green">
	  <kbd>query-driver-loop</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>query_driver_loop</kbd>,
	</span>
      
      is the basic evaluator of the query system.  It takes as inputs a query
      and a stream of frames, and it returns a stream of extended frames.
      It identifies special forms by a 
      
      data-directed dispatch using <kbd>get</kbd> and
      <kbd>put</kbd>, just as we did in implementing generic
      operations in chapter&nbsp;2.  Any query that is not identified as a
      special form is assumed to be a simple query, to be processed by
      
	<span style="color:green">
	  <kbd>simple-query</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (qeval query frame-stream)
  (let ((qproc (get (type query) 'qeval)))
    (if qproc
        (qproc (contents query) frame-stream)
        (simple-query query frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyPkCcgFAYDQSBEBgKjYchfFqIw2U67ragYQxSSouJ40DFI0gyf88SmGYuMjQbhGG4knhXZosLmPrrHw1cnkBAA+alKEa5rWuIdqBp6wYGv6ZqiLmva9JeoprqGkb+XODiPOqLRSA4chK2IDqlpuvruHelbPrGoKpvSTIdpXUoodW9aVk2jchn6W6nuMwoDoBY6-rIQHgdBrrwdRkanme16YkJ467qahCdq+2qCxOs6GBkLrKBubFkW4MJYYmlxeaoLRGGZhQjFO+6GAF-QhepdmfvMCXKCl4b5aauWzqE8aEkm1IEf-XXBOR0AzY20ASYB-pyah-R8e2mXdvxxnQE17WZf1hWiItyY0wi9XRNuEGWGqbi6DEfRq1IahxXos86ygoKsITpPkKrBiQ6wMPQCjkRqjEBgs-FfRi5jsRDaC7bq9L-PC8b2Py4Yqvo6b0XjZcG9W9r8KC8uTiB4YaoeYoBRiHj8hE+T72p7T8kgrbTwK5zuQmsYs5h7q8xiAADylwYN6XXPU+4Lfp7rsWeCxhLI672PZ-nnPcL5K+l-zvfOaPk-x4yAYJSUEl0wRny4FxKgX9t6G0bAPRkY8J7XxnhAmBN8mJBQQeJIM6pahW3-pdU+c9s7n2ENAxesDba8X+owG4fFVCdxLm3D+TCa67SgZQdBO8Ip4DDoYReigIAwHgEgVAaA8RoGJBzTiU0QT-U6PoXIChCD0DAbfXudtTa8AUCwMgSjFCqJqHQSg4RQAAB9zHGSmg1UuBiVFqJMWYyx1jUgsHwPgQGdB7FGPURYqxfp4YzR8Y40xhQXGBNSGODUITjGmKHoXeRbkFysOUb4pxkRCgrzvmk0JQ9f6yNSMwMQEgVrbjBB8BQXD2R9HuLXHuCYppYUqWEgAZK03oOM5ZVPCDgygtTin5MLvDbesS-HpzvlNYppSGDlLGSYqydBt41W+iPeqvhdGeIYPgIBSzp7zLCRMzR20by5LiezApHlH4tTcNQMQdBp4mP1qXbgR9CCBFufQDRCY5nggtHch5YDwTC1Oi8loh93nEE+XQZuazzBTX+fcx5YIznjOyZoqZ5ASlDTmaihZoA-m3KRUC2F+8XCIsBSY4aGz3FZDxYc9FCYTlJmxiMU5hjQnB1JZzClyL26pwYG8j5hhnAHO+YGZldp2UOPORc4ZqQKjKC6mVeg3SGVxgxUUrFMy5ktKssaIQM5FXKqynQeE-jXF1J1aCNVVkIGgyVXPU15qXGrLJYtR1KrpY0s8WqoS9cuk3klebHpwcElwpcMap1sUP6CohcK0VLT-V32DfoQOoaf7ytmU1Fg5C42QuhX6qicMtXYrKTavVBKuq6LzUKqFIr6ArMueYatubyAMHXEvf6hgi2viCkrQwPqFw7LSNvbgqak1qwjcCHNeb3HCF8L25YAa2UsvTaYuV06poiR1lQYgyKl2xBLVanFFb+bVPBDuj4e7kVNsLjuuthak3FpTYGllk6hlbtSG8biqJFHPqOY00t1qdyVvBD+6gf6FyPobWa8IETnSYrLbMs9VT9X0F-c4H416tC3u5ZxCDUGO2BG4tyLQh6YhBXKQwQIMhbWgDmuG91hGsMLkpG0WsTyAPLrvtR2j9HSRMc5ix+gPxOi0PcsDCjRsfmgho5UejOhM1fuGhxy6ygZ7caPZM4Dp7QPnqssYdo6niB3undcoznGNNqpFn23jNrwSWZM8Ck6VSwhCc4k5xwIMcP7rAT2gDsQePHLfXaD9u9C5VFIB8XduGwE2eTSFkYLT3MRenR8mcvnkUBfPbZ4LCZ12pbdZzKa+7NC4i89ZlLiWgPTURtVjzv1UhdRi1l+L1WX2arq1kQrm73VTXYB4Lw0mZMmxPeW-TaGCWDeUF4Mz7qZteAYPOxdWntNJcGOuvrJXUitRBGRxN56atjemXpipBmCV7eoAdxt+GPJh3zQm1Va3RsuAnUdu75g55lxg84HLPTOtMtCz199H3lP9dSAnfQbzxXJF0xNsEbyrLFCbc2lwNCyB0NCow3ikMKEoNh5Q6eI4CUyCTLUcEoArbgjJ3sCntsOOKNx5w8IVsUFBYxlo9umEqCs5WKUQh7UhTAPoCKj48XmfkOqQT22TSsa8XCO0rnWEpfzSKKUDHSRFbY7TSyhXdNXo3lVwbl6muscMNZYMfX+N6YNG2sbm3tukTfzV6sUn5PhDgk-e6kVscOCUGyn7Q+hOsKH24F7M24PhN9Fmy1RgFpiyioT9pZw3BjOkFxMz9PuICdjUbPQtQ8maRsGKmb7XFvs8doocn1E3BHdO9iJXgnmC74F9UEXjI6V1K044J7q2NtOe+7EP7wPFsBLY47yXqPnFeDGHHjKQ++gFcNLG7Yl+20FfT48mlHWZ0cRsm6KNKCjYBFAjSvvssvhBOMsDKfsCwZxz6WtjNUAzRDDe5KwvhgRIdlL953n0XAQboRkDfXnFvLrKHbocIUocEFHV-UAbofJf3UAAAFQAAkABRBgAAQXAHAAwIACUUDIAAB5AAOWQCBDNhODR29kkELxrz+z-y1kx24UJ1nxBmjiPmYNoVd1iFKB3y4MPiGkYNFx4Mxz4JiGaB306AXFEPeEa3MBkMyBuS0lRB7UJ3QKwNwPwKINIIoMUJcEEIXxELcETzELN0Jx3z9iEO-3LF-0sKsnkM8hllR0i2jlUPMPeHEKSDYJXxcBlh5j5iVkdylx0SOnrxiDUBMCWyEE8JT1VTCMsnvhYN8KJ0-kdxkHoPb3kJ7TNzYJ-mQNIAyBBlyAcH+kZAAAYaDC4ahHIaMSiWpCBCB9tTVx5Bg65GiyiTFtAgRiiOARdyjtAABqBjcAhMfo0o-AIY0gQw0Aa5Oo7nUhVBEhBeSYpolo67No6gSCG-dHLGWAlzLCdYq7G7RgHYm0O0CBMNXeWgwIPZEGCBVIaobIEouBQAuIRo047Ys0a2Ygeok45o1o2KHY5KckQueWEGRyToYbGHMaDVWrKHOE-GUoBY-4pYyuJHT4gY74kE1MfGZoOXA8aHCFSQ9Xe+YkyEhgaEtgYbbaGHD2Q3QIKEmE3XO0Bkskt3N5AKPY9kZk6k1kyYrfcwCoNqUIbZbxLEtBdIw2CE-kmk2Ew2QUYUfQKaJEyYeE-sFUxnLIaUh8TU50IKU6WsJiLMZ8aMSI+BRBZ+MuZBJeaHNg00v0LBEnaJfBemUoMnKMSIt3KkhUthUuflWsKuR8ZiLAaCCiF8fGY9LCOsSI0oP01k+kjUyxPk4gFk2ktkrIB8SI5oL04wJ08ickQKO+RMzMmHD-TiQXFaYXVRW5P4V+ZYlOPw4-D47BIuG0+fSeUZaU5vckAcBBAAQnvzwV2JWCCgcCFFxDbwDJYQ7gHg4R9L9FPEdKp0KEjP+AHDVLnlnjYA1IiCdzwEhGPJXHgRtOtOYVtMYBQV3MdJXCwXPOHNHHAnHBROlCnPL34jQSXJWDHlYQXJQmglQhl1jFMmPiIUbIXhXJlICnNLthVNFKIVSFVWgt7Jd0ySPJPPHLvhpw9y92LLgqggRMDGrMgvfk6DvPXNuMLknJkGnJ10ID3F-Fz0A0DHZxwVwrpz7353dy4t0hMhaHaCZyYrJM9KXll0hx3MYr53knBQAVrPwHrMeEYu4EIGYu-gku5yX1GgIXAqFyATrJFQbLUtUrZFz1AEwshE0qwmktACVyJMwlJCtlovootxvGkpNzQnctJE8qvBcs-MYQ3zxgbz9A3x8p-LQgJzJOaE4t73wtDhU0mLlhvTRWIrh3GxQ30xSvxUvRKPm2E3oCVVn1FSFP8M6VXTtCFM+xcHWJW1eI4EJyCURhvFojeMmCtl+U6GhN8CKWKNM2ivKs2zXRZSquFPJSBNxHbSSsmLT1rAzyr1SLoFmrIBz2-gAPeAECVX6EYEmMZHuO3gxL+GeO8SFKYkbH8o+U70ZBt38pnMr3yIiopEKrPFgyUS8QaIat8oIib2-nGMDAuqhSuo4p73px4oHwEuIFwj3QYGz3qsjnwAXTeu2o+oyIIiHxH2ljHwBuLw3SQMkFQMwIYAIOsgABkMDKDn9Mgajp0siGEUa8jJZWCZSyqOD58KhF9LCrZjD2ahpJiGbFqBrlCFw+awTitOIhb6aDpWKXAtCibSbya5juaj5eaSj+beCyrAiLoRAXYrxrCx9bCf86NHDHrChcqOAXCLZ4QvrCg9a99DirJJiLazp4QxrBAJrJb8jmbpauYFZNYQirxdqiY1yCI9tJqUa4bVLGa0iCdrbYhabC8RbPaorKz6pqAVEBjYb7qo6lr0jd97pCdAi-aNAdbph2Ljp8ZNbmiiEKZloS6rxvQVpcj9As7Fq2DY6CZeljpQ7JaW7aECjPKUE86mpXbKBfASASTCBGrUhYzSSrZ6TZ7OczJggJ6rJbJ7InIXBftzBR6SB8qCN6ApZKAe04TvaHKJ7RK-xz6GdSBzIV6CU16HJnJwUC1YMVAD7-NUc+EI0BE5AhEoA4BEBkB0BJE8QZEPJIaaw90DlXk6BKxjt0qkkKA6UOVzllIFJINkkgyZ56VOT4CRl9kcG0HgQPFpJqVNkUkO5B1yHtldlRkcGYG4HlJCSFUTATVUQxUiGIGFwo0vVoGWhYHcHmHVCAUD1CHnQBdTxhHiUnl6UGHBGucRMllkGZV1FOHJHFHFFZH+HGHnQhHW1a14161RUxHFRUSI4eYI0txZ121O1t5u0xV27Vx9H206r6HtH5GbE1NvMOHxGWhJHKtNMvGNNYs-MTEe03HLodHFQhHFsfHTG-GfhYmtHImPHUgr1mA4sZGUHVHfGuH5Ne4QnRHsn8UUmmGudcTjHinTEiHQ7ocobyMHst7vEImBHHHChqMR0P4e1vtHsjGxCWm4H5Gl7NwtGbI7JH6AjfATFyBD4vIfIuGOgtA3Dp1amVZvs8sXQVSmlE4FBINqByYw5lYHB9zDRV53b3k069mDnLG1nSAxBUscw4Ktzv0OVygLGyUjmYUlS36NrxocbGQFmoGHs6rkRGSQqihqzBVYGDx6AD0TbYwHtbHp57HQW2nXp1m0WXpGnoX5BKUwRQXQzKMdN8mVQsHRgcbcH+DXssGRceinlLqp8bdmg3TNRlgNzNThnPnV7xmN7vZp0d7-hvI3aWjfAaocxqLp0OmgEumJ7DA5H4T+1i7vsjoEmzwoHvs5HXkIUiswGD51GMM9nRNlH0lqkUmyqplij+lF1AXyMNGFxIVSMoGBn2q-QJHIHbWDWiN2NjMsmVGnE5HjJTJ6nsHPXWMWoS9MdJMQ2-XTE5GU69XsMgnNNct5WoJnnBUVFR7VMfWqtcsTnsLNEWXYLIx9R02WtMsMnQnzs3N83nS74bWZ4otWtK2D1qtOAUni3KIiLYhGwm2K2qksHrrYwG3lYDxm3srq2j7doO2Vx02d1WE+2dYB2P5a3DS75F2WksHCzQB2Xu3hJ63-Gk267VwMtCn-MEt22BHt22IJX3UpWGAHAKVeoHiNn1sEwlYGAVWoRH2iUNQ4RuAX3XbDBuRGBpijVWHo0mCcGxp02AmxVvmoiPiUtGQAmz2wmxVt3j0yss24Pqt69ShwbVw1gq7tbgO4iwOHU2GmCN2W32s82wWncyPQP+BKPIOxD4WigLMj3T22t0Pqsbj1zCL7ziWeHTU4nfG5lRPYoqHaV4OCTKa2AeSEr3U8mkmqnU3yR4EEbfBEEuQltXGqmgIe2Pjuw9QUOQPtkWOpOmCVsjPEPfmf2RV7lahT9gQ5MR1HOAVepTOHm32SLg2q5tOtWAFImYW8XbxuQ9RMXwXYhPPnPQg68YvXoUnXa8n0mJ2+GzXvbrl52O568R2H1DHC1nXUvJHeV4tkmBH1qqQP4AWAvyuqVY0mmHH3GmIKUyHaUyWGvMsh0WuP443eSP543N7JHrPVVKu4Gxp2uZOtlWExvvVyGHGVwR35uaXmvnXPKZ3eFZBv7BElB-7REgGJFLBdX0rjSZ5g9zW3EPEvF9BLvjJShZm+k+rg7omWgb7l6w9psbvtrn6TAtBhAAgTBiB9nahGhln3VrlDmkXJAyA5Wi4gv3Gyrflck3mw5gVIiYfu1uAVsBuxamsRcHE0ebmp6Mq5kZB0Mif2p0fqq+WyUq8u04flZCc+MFMKeGNafgXtPmfke5N+N2fr98eNYI0oXKwwuD0ZAWe+e2fuAlNhv5jzHcvU4DE6X1U-O0QHMlfawXM3hD7aft0xYyWV2ruyebV+uCUtf+q5jLfaXD7dzzwyrU0V3UvHAvgh9Rfxf4ssveSbwtvaDF2bzve0rBrocr20sVPXfFLI5F0UFU2slg+sJY-Wvd5Gx+kQZsPcRQvcXkVGRqDTuFe7gbyZuouL5axX2iXNFmkh14eunOel4OvPEe0WL4-1eQ++yhfxZ6+ZXm+OdW+bx2-8-IWs-YX2tq+U54eWB1h0+qvvaOBY5+kjBq-ekpQ5+xAF-TwlhXWKSLJzGi+x+L4wgcep-RfKXmhV+F-i+RYAAeYES6NfxhDfylmIAXD7zccEFAjxBXugHT77HRfzJsIEtQDB4EpQAoxR6mvjEBTlF+5DEWKMRcyU4wBtuCAVAMf5P94CnLd-p-yyKORBAdzP-mEwAGbFgBCA17i9GQF0VoBtKWAQSisigDSBekcgYulQHy88oDfChsr2L4ackQ06SJrMg8TYgg+pdadEx0oGN9x+CHf0MSzNiiC9QaAhaLwPRDYh4W6mN3oGWH7hcUuP5N-EOhJxuwl+j1WYF0kf6PU38IHLMjIMP6X1mBK4FiMqQMCRMScafDNuVg97Z9UqfoTlpwPvp0B3E5Qa2Msjs6sQhOsYXtkvEZAB97SM7WMEFBEGD1L+ysb+NFwaCD1u+Lua9sWV5IKD+BofOBvL2m5DoyWXg6CoILzA8DYGfAogDkIkGFwRBl-cQQaUkFdZpBl-OQc-20YVClB9MFQYpTUE4sR+TyTQQRG0HkNdBXSFoUuVKDwRtoG-FOK0NiCmChA5gloZcV1KdAJg17egZs3sGwNHBtSDPq4P6Fq9nQngodNy18EiB-BxOIVt1zFbahghfoUIdvHCFjsZwgfMPtELvixD6+8QmOhxxSEMQm+aQmwRkOD5ZDKhfvaQHTwLA-15A+3ERIA3ESSJsAtBbZpcxoDXMPmoLQHCdm1RnYuWBKC5rs3RFW9w+nMQkVc04Lp0q2YnLEXZg2zmCCW+SQqDswpHvNoRjIOZOmF+RzAXMsQOYKuAY7tMHMHIXkTEA5ACiTcvyDCKKO34SiuRDmcpDKPKRyjpgvyJqmwBczqjnQgo2IL8m4iGAWi3UFzPqMNE6dFQOomIL8mGaijhmsYC0W5x3Dgh6EORFgIYGBTOiWoro80ZKIczDEZRsQO7twF8Cd1QAszUYmaPtG-JPI-ohmF92DEqtZmPkCMT6MdH-tpggY0APGKDqzNIQmYmIJGIczAAYxBgOMSGNmZgBkx8ox0QAFJixGYrMcdFmbVi8xoAAsY6PEj+j6xZYknMGJTFghwQT5TsaWITGgAnymYtsf2Kv51jhx2Y0ADfxiC9iqxk4gEDGK7Ejir+QIccX2IhCHRpxQY7scdAXETidxK47gEUDXGzjDom4xcaqIcyDlixoYooEHRiCDlYgwedMAVA+LkjiRbI6TtX0BArglYcwVSiyJ-H8JPxvzb8aD1-HlR8ALAAAFb-dT8gE4usiBVZSjQJoPFzKmgJb2iigUEjEdCLTCRQvxmE8mAagIFAg5kvyFli5hZZ4TwWvySAHQG9CQZRWZ45iaxNHoMSQqvyD0bAEgCij+JkAHiQ3j4lUB28GBGUR6IwKiSncvyMguQDILFjFJZBOYQRAglUgCJUxDaoajYHISVgSsYUEHW2iS8QJaI6CRRKnYpRSJFk8iYAT0ldMAJhk1CSqxwkXgeAZEnSdejCbETC43dbSTBNVS3Nh8oIQnN3QnhqgAYvgQMvBKBjrBlAicTQMe1jCBS06LRakew1RaRFvs5SBEEUFvacxpwWIA4eF0JxD8+h4XevFrStxeSgpC3KgYl1tyBSrJ+kuSbEBqlL46pD2OCYhNMDw8TaLUhyY1wBHtSxRewzNpn0qnIpCi+NJwcPjgk-B1BOfIEMVMIClSD0xEr+mShhF-14RYiTABgHz668KApgGGmX1ig3BSAw2a4ib3SC6J9ETvVYn8GDhz1gc5g64hqTgEMASBjAy3B9OekNUXWAlJ6W-CBlzFlENwVTLYwB7PJY45fV7IIGUDKAdEGQKBkYG4DkBkZIYgRKMX0BYzlAJOcEJThgKU4YqtA0YgTLGkrBiZIKROPDNp4OBO0xgOGWIExl3N4ePTJmXPGMDPBoIvJCAXQPBAQg6BkM9tMYBhm9QlYXMugMzMgTrMvpBKawPFVoLczosIMf6LLG+yk9pB2s6nGbH4oqQuccybWXZVaTKRVS2iZqiym1nwZzEIfG8LbNHHqQUcF9f6abI4oo4HuPzU6FjJnDGYPg5UK6cNj1l+hmglsjYsCSTx3NFc5s1cPg0bYi9mutsyljARFmjE1Zc+TWe7I5n4yY5ism3JTl+kFCR0DxT5gWF6aFonZiA2MEXLoGZyNZZAWWKmnWZ5za4wcUAYXOVmBtpQcs3KKCBcwate5PMxuaQEEgDUz6oc2Sg3IhDSjuAcybaNrJWFtyPJDcpgE3InmpAIBK86nAAHISByrOAfvNth-TtZcxNeZnTmrxjT6VsrINPAembhto2eamX6E6oiB4BwQeAQ5B0hOEzC1UB2nlVek8UZ5T8q+RwhvDPzuAa8zWQNRAVdJIFl9BBRfLAXy84p1YYDklJnCxp3kHgetOfRN4VNVUMODqg5kIVmor4Scorq9RhxtMlYaChKZgppY4KNMbgdmfc3PrAyjZCcq+jxV+Qo5hYJc2hvsgZIM4IU8vSvIOmmaHxiMuCtwPgrTZbNdsgAs4hws1K9sRexfIdtMGL40NR0+yRplQtFQMknSzI2RcYEbocz4oxdCRVM2YDSLmF9aNhcfVJKBCK+CYB7Joo4rSirYW0LpA4rMIWL7mHCVNP4vMUtQOZQCgSh4p0EcVFRPi+QCwrCXrNbY0SkYRxXoUYLqAmgLBobPJKJ8NFpw+vHQvimZLsl2ChJY4twHsKOS1CLGKktpQgSzFIhCJZ21LaKK9FM8BkpqSowOZ+F1IQRR0o4WtKLS+7TRNyQyHKceUf82KAHmWwgwBgFQQYCfR95j1OlpJImTXhVn+ThAjdaZeVDqrLLg+20XXue2MWFTZEukkxEnHIxYkk+Dgc4StATgMB1AIgDgKQFlLTpcghAa1usr3bwUDA25TcF0r+WvA2y55IEEgmvKRCIUlFOtpomwQjkII8ZaUA8u5zPKhAwgN5XfRApoRmgXyxdH+XnI2lCWjzEtpuXaUz1J6EghPljHxX-SGS3AOlb7xcWuLSVXbaMvWzEXAiqKwfOlRWXOUE8hClcZfDfN3x2JQCG6fxFzihwSrtsnmAPIEHiIglziC+fGXsq+Qwd2lQqhsvIVXZPVfmwBIEAbXsJ0ZdV27RsCjJvpgIlV5UGWM5Nei217oOIX+WoWcBO17otwhoEVGdWXZ1VdAd1U1Ax6pSsY8hcPCGMtX3EZw8hIeuPOGVjRzgHfE6MEBBjrEJ4QhOGu8UgnZ1GQbwIqq9VOr9ktVC+YVdnT1WgqDVfgRkMatxAOFS15qj4hGutXrE7VAICKo6r1jdAAF5tVwqyrXD8AfVZtYgAGoUBBq-QxxEomGpVaNqqUzaoOIEN3YTL8+CylGtslIA2rVUuqk3klU3VWxl126v1QNWXXyE1Vrqr5HMSPV+qT1XhQ2B8GTXrqVVbNbgmas04fFPEuy09e8EZCy0dChBYguQXABMRv1eBX9foQppYRQ1BgEMW+vvW+c3FgYcEBiC2UrMdl4dUqlBFvWKrU1Kq9mhmrOqvq2AK0Pml+sJrE0yaAG8kLLVI3k1GQ468+F7Gg181AhQUBDXNnl6lZJptLeCZYzeQIzj00gnjZzxeGcaR4srQnPPUIA6t70UKGcG8C40ohnFEmwnMysU1zF2NLg-UXJoLCia7pwSATXMUXYaaRNAmx3l0j02kjOIp7QzfJu03e1lNkm6dDUDEB7oVosNYzd7XE06taCsm-AC8Vk0jx4ecQoOCb32F+aPmoW-qRfUC1nRbY3ml4qe3C1H0VemmqdtFwbbnSVqo7aLDJvoDJakt-mj2GRCdxRb86P8b1X8nflWQ0t2eHXjlp80wpqa7qDTXVv0BWb+p3CGNaT32Gtb2G3WzfrJUI5NA7YPRB2EDBBjOxHcVWq+ZlpizdaWtKQZLZYOK3D0UIDQL2E1ri3SaOo82-zXNsMALaCt9MJbbGt3hlbP5lW4NulozzGj5tdWvyQ5uIBObyMGLXOu7A1oWwgiVAf2quDLrhlFQ6oupu6xBiw1HNzmy7YugVlJDYw6NSQKPj3xRVbAhW8ktDoDyY04dGlICvATNgraigR2-OGVu-nwDJtK1FzCDq0B3aVOwhFGTct+WZCAuWJeaV8En7QZpp6iVBSUsSlZKsFHcZ7bjsnAxD3tRdToc6B+0eDKd-AGeJpGYBXKoGj1ReREu4SQ6DAlYK+J3WUGv944TUpLmM3XpP1eIucUgHMxAHDFwyGO02hko51lKGILtVOdSFLgY0Y1CQqhGHIU7W1cdQ8MrebsYUfxCdF26rdwE92c6sGxE-PDMy20GjKYjIAAJwnBC4JoymA7oRmx6eI8ewIhg03AfAAOEg9Ns0MlV-L2WA4FwDgkqLUrYgce7qPoF3m7yrIaAGvZ6qCFkqGhhQMvYujdi418YzemNePH+j+wWYgcDhC4B8iMZuV4rJvcnu6id609GMhXtIub2u0uq3UXqsGQBTJr2tr272kdvd39q-kbAbqovtMznbAdYOweTvoX1MA+q5OskRUrcBg7VSss-gCeDIDuIRU3E6rgIFaCMgbFUimRYkr-zqzb9RUIWUcBdpMQBwwMUgE-rYnOyJIIqOfjpAkHN6IQ3kHyKEtADZ4htABuZtGPykrgEDyCjLa0GOA7tCKLEAcNGtmV6IWoOy3qAQYkF7rGiwQe9fjJQ3Rq6qNB7dqAcf09DR6UBglDAZJSN7S9Y+xdOCCQPXC-VggKg6IFEPeR-IRBhvREDYj3CGgCBkQ9IdQNXy-mneARNIZkO9rgo4e8fX7Arrvavt9dMIUTAip4GM8KU16JLsNTXKZ4rQBXUrpV0qtBmaLIndYacO26-cMO1HU6sjwCdxWkyziIuyECGBHI+iaoEVEzVUh39QIT-XYu-14K+50R-gIAeAMvrfmKCVzp4cXTeHkdsOgIzNFDJ8bgkORi+uCAcgK8GEpcThOQFkjQRmWsskeTfrsPS7yM3h0yUvEsEa7vYIYwZvLzyPN0r5q+oLa2V+atA0JZ+SQGmlWUjGVqHCcEHkbr1BQpjDgV0i+Q1BWwRUVIm-dnjGMGxbY6x5pu-XQ4IK3dtxUJTft3k159ASXAADpYBt1JHFaLMpkDBBZYWOzMfuI1JoQq9BKMA0-pJHXHYatx6ZfcZi5PGXjYpJgPgB5ifG-8xJXgCeA4Q9AsIKJ0AAAC8PJoAJ40UBqlwmETY8voz0BxN-G9IAJ8EECaj41RUIBcITeEciObhbjrxokx8ZJNxj55pC+ASwHgHKB4BnuSYLvLTB4BQTU21k7CfeOImuTDo-sQ0ash8n9Ugpl2lSf8hAA')">function evaluate_query(query, frame_stream) {
    const qfun = get(type(query), "evaluate_query");
    return qfun === undefined
        ? simple_query(query, frame_stream)
        : qfun(contents(query), frame_stream);
}
</pre></div></div></td></tr></table>
      
	<span style="color:green"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, defined in
      section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>, implement the abstract
      syntax of the
      
	<span style="color:green">special forms.</span>
	<span style="color:blue">expressions.</span>
	
    </p></div>

    
      <div class='permalink'>
        <a name='h3' class='permalink'></a><h2>
    
      Simple queries
    </h2></div>

    
    <div class='permalink'>
<a name='p8' class='permalink'></a><p>
      The
      
	<span style="color:green">
	  <kbd>simple-query</kbd>
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>
	</span>
      
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      handles simple queries.  It takes as arguments a simple query (a pattern)
      together with a stream of frames, and it returns the stream formed by
      extending each frame by all data-base matches of the query.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append-delayed
      (find-assertions query-pattern frame)
      (delay (apply-rules query-pattern frame))))
   frame-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNNSPIz1KPSKihyYEdCGkYVAVFGhBOE6QunqbpQDEWgmBbJpiP9fcBBA4saPPCQOE0S9qjkMiWLYpoOLTDSMn40ApNHAQxKBIwJNswQhPs2SmnkxTlMIoEXKvDTEMBXo5LWULjGQwYXiUhhwLo5R8OUCY53wViVKI6gSJM3jlKo7SzwS0AGIA0QgNY4KUgs4yeLfayBLc6SHIyholNId0oRkRjmNyuonOSK5IlEMDdJwn1wkiJLQBS0Q0phPr+oaEqmLK0yzOSbzRCUlr6jU9Yb00-LT1o6t9MMzruLWzzGmqqz+Ia4d7Mc1wAEh6jajqahyt9EjexaBommRBtGgzptS1iFv+xor0u3KYUQv6jE27a-MBD7AvXRtkvByrGgijbwqQ-oUIEKwwlIOMZDYZ7AhcmN7tACD-3QzCIKPHdUJZ7h2ePembIglVYtINn-o8QXRlIHmLgUhgo0iNhlAggBVQgK0ISgAHcaCdUZXWRABafXityhDrtAfH1k2GhSdocm4zhHA9p1l1C3KkDn2mFj-C6PbQ39Kjnb16kvaZtCMO4U2sD231-cdZ0g-KyDxbiyOC2ij2OA9FVScIYMZBShhyF6sHZvSvyXOBgui5+ku5odqLkSzwQVWDDgq9ymQm5z4MaZc1cu5bxDegbmgB9ztvwc77PB5agKjLHnv6+J6KF44FUOEjdh33bmvN7YMuRTbLYCvLHfvVAPfWKXxFoqYAAPKlZDPphsdL5RL97o+aGBjOF-zlhC7FxmnNd+Lp95D3vMvZE99H5r1wBwYiYF+DgWfgsCkoCt40z2gvECq916X3-oA3eYCr6HytqAHBDM7IiQEIqDwMD+BPwAdXc+Ah0EXxIf2QIlwKSJmpFiCmUQp7N3HsA98C8EgqHYR-B24YwAj1oBw6MEAYDwCQKgNA8g0CaEgTfZEOxhqJjnDIesbBuDUGQZ-ch4p8BsA9KMEx0ZzEiWGLoUAAAfdx24dhghbo4sxFjXFGE8d46wHo0LvEIP45xliPFePMp2PY0TAmkDccE+JN1rDULmKYmJrjr6PkMbrMqYjkkuNSfoVwZD2y5JSbIkeHZ3TBlDEIYa9AyhsFIJeGITSrHth2MDegnTdAADIRlLluEMipDNSA9KqMGepUDLCdi3mU2J5cv6NPmS0jgbTwK1PKYrQgW9I7DyWXQCQdjKBlUoPA45+81lBI2eQ1cV4DmWIgWnZEGdtLkGDIQfewx6Qt2UPfbgzASyDD6VsPZkFfn-MBcLfEjAQUKTvuCpgkLqAQIaTseFALkGPIqc8-p1htk+Fhe84Yit8WItOV8oskKEXIN8Jc8JDgqXEuqVsV5RleWdU5fDHF5zaUsrERwMFELaCDCJdCmg-KHBvKcSk+Giy9HLOKMQcQLsZVTLlVslgzSKUjSmYrNSgZ2oiC1QAoOCE4mhKaTs2FprGbP01dq21ugQlnPVZ4a1OrqCsquTaYZGU+63CvAqjpqTVUcgaVaj1rtxWSsxdK6g0bnrhr1DIK8MNMQxs+bi6w4g7FsIleiqVur82Zs2TsclrSTX5sViWj0ZaU1YsIPShpLay1hBIYmWgGaw2bKZHINl1yOC3JsFvZQUa9V3m7ewVtLBM6UAEBIIdhEs2yFzUZedhbzk7AkjSCkTBEWbqSC5OthqnWNs6YrY99BT10uFb6497a01RL1cOl5Ea93VoPb6nY35SaFmMd+klYoyU3uNe0l1EEQPkDA2VD9gw7UhISY62D4F4OIeQyekYL6CkoTw4MQCGLSZMRGBe4wLk9kcGYLgaNygnDEeiqR6ggFiLTjSkCiDl7Nn0cY8x0AOg2PIg48csqc4+GuimDR5ygmwIMaEiJvMarHw+J4-wYg75+O0drdBo1Da4NNsZkpGcOmmBdvORnCzvHdPRubFupT7SIL2asxBZFnSCTiZoB5kg0wn2EeQYOiDxgBO-uzXm4Zr7HwjgYPQAjZ7CVTOc5F9sq40txZQhC9qwWUvDDC-m9LBnyExdIL5uNh7rBnu4KQPSAXHPZZ-aS3Ykpst+caeIJLBXz0tZc9YxJkoKubg0yhHYXoywVgU4pobWGTM4bMxBKbxAKw2d9atisq712zctplv9F0APjeini3gw0qNVtDYNtr9bdl3q6YzAoF3PVdZHuWjFHbZvbpzf+2LXWAGt1Q1lb7myo0VdjfCItE9Ihgv1de4z932lgsVm4elDLQi8NGPwiklNyZoMex-WemzL71UZrgao0gIKgDoeTynAgRYpEnDOYx+OpEVNp6TowiplTWALkDCkuhacMKKBxBBWUkFArZ2wwnnCeeNOBuTUZ4yBmAxl1wo45M+GMlx0Iq8SvIZQyMFedXhujda+xzrwRNxs0G6lkbnUtxTf24d0YD+GvpYQQp1CKnJ3kTStzuMUggawQWjvvq4Gd9lDGlAPKQDj44wZm24GLgJYJYyu0un6gyhLMMD0mz3Pekid+T2gIuMKnSKiFjhbiwVvKaF44GzzPcVBjKBd670ADeZHcpoGXqIFe7D+35t78YDPafynlwH4MQeQ+0iprrgfVf48oXwEpNebk74C65a2ebvjc429kEr5f0U-bmnYLpXCC4CJrD2ooqifsL+JWrGJnvdAyfZM0nKPYSo6B+6GCIO+DgbCW5LfLBLKf0BcECVcJXM2K9PnABXSXQDwCCNHH-BcWRIPUAAAFQAAkABRDgAAQXAHADwIACUsDIAAB5AAOWQConlC6Ax1wA2HL2b0LEHRrzxA4UwWJ3IVX2mGznvi3z4Q9yMA8FPyELvh8HYMGE4KxwsDEJ-1PznGkzTxbyyi6xUPsFTyFjkI-Ff1wIIOINIIoOoLoK0I2HXwAJkPUI4JEOx31VP1D3PykKANOhAK4MkQglkOoH1hcLYHRwaWEiEF8J-AcIsAwXAT4PbACI3gxFHR5hl1sQyEyBd0TzWy4GpDCJ+ApFsXGl5EiJ4PATN3qBYMEV0Kz3CK4KiIqgwI2BMDsGmHrCIETBAgAAYmCGkRINYGMmiuBztyBLtA1yBZBe5+iWjVQQIGAJjKBWjRhQAABqUAeQWAzZGY8YcXeYhgLrDOHomHFhbeZhYuDY6YZ7IYhOUYiPQGFArzTHa4U4gY7gF7V2UY86BwZ+SHXRR8Zge5aYZ+awFUbsJosAn8dSfo844Y6kUYkCfYx4yEy4sYs2BpXIaYDWOcGbOHHaMrNrfnLEo8DwPYpgXo5+GQFHRozYhE14hyI8XnRvQGOHAk+4yIVEjgdE0QGbVcOHQ0f6Vk9kmbK8bkpQ4INFbgM2C2AKZgNEjE4E8YY-ZEEQQoJsSdKJck1BYog+VwFEqUtkmUzUqqTiGQHYPEmEbE5IaqHjYxdUiqM0hoSUtKM2OSBSLaXye3bBXBaecefBEhMk2o3GfyTZD0d-RqeydvcQi+OcJSMMn-PkmU1eUpD0daBoXoF6ZGV08SQzek64dKe3DwWMjkg-Mk00zxYqHU-k37TqCqe3EICnF0x04wC2CUzZfMzE9FeUmgEXIQMXcxSFN8QhQ41+P0lqbBT04MD0kRVub01ZdU7vVwaqHBAAQhsg-xph33bCIA4j0j72EW7gnlLh3MHjbw72SBmj9I6Bp1cDTO2ENONIQJmlNL0A7wdCghfMVBHInPHN3KnIeVPI1P9LXK2EXOXJDJoSZI3NwC3N137N6mjOSHjMngkV+hej+g-lpLRUfmgprl-NnIbOdO2mqkVMYWsHTV-JnM4UJFAGfNfPqBci93pwgnFLwvTJSBck7MwvPmws4XFI5Ax3Asgut24Fwm4FBmL1f1JwZjop9zH3qGQJHyp3l0tIcEEp9B0E5xIXl1vMiEEqFxkvQsYTgUb0oF7PGCBiEpErl3qDpP52Ep0tlD0tF3gR7OlT7OEp9FwiJ0orABfKgg0usEVycFADGQV0Bhstpz4rrz1yMm0tKP6n1x0BiqcnCu3OgKcASuPKMGgPitgqBHd3l0ktHwYp4uh1OLKGfXWVfwR1vVMzKupUZlOI2wT2oC1VXxlVOP1SjTapy2ikePCV2zapiKg3a0VSMkChBK3F0thR8NEHRIkDJRmOsyUJCHByMk6vbIDHOz0hXRKtOJzzSjz3pMKO4K704WHPANjEiT6MonWD+IONykBKiTarNj2nCohUHxAnZiSqgobxqOyq-Catmk-RMQurarSv6mOswTWP4MIE3MXyHyonyvkt0on0soUmAVPQ4EL1lOmF6o3S1VYGpBBvtynxn2pACJkBesxUHzvCwEwKMI4DIKVgABk8D6DY89gujzlyjy9Tj5DDqhzINJI18pCIjCAlCJCrCpCfAeaRbFqQwrDVDLrMVvZqtfVtCyppb9U6aGbmbwBLD2pJahBpavCBr-NaQnjGEZAeZnC583DgCmMvDQanIIJTj-DaQEJHajBraBRbiH0mjXbUQEI1rns9IjaFDuDRKALTaGQeREinJTjUiLzFpg6uBFasaCi+E-SPaL5WD+9Q6+a-zPkIwllFFIxlEoA4BEBkB0AtF5BviUImA0bqNOVQVCAJga15sikXQOVlVylhTQAPBO7AJSlBVxw6S-jZVxwB6w5MIg12U9y0ox1g1J07lVlBUW627R7GkE0bVCwJ7Gh6EZp3Ud6ZVm6FJW6+66TRUgUR797UbAIr79ke7kF16L7GlJNjEb6Bw76yp37u6AlDkz6N7Gg6Se0V1gcolP7dKM4R4uol1e0bV94B1ZUs7ARQGdtcan7XEX7N6tNLNAs96v6G7AIms9NtNAtktEVB017AHX7JtGIZtIG7KiGyotsiVsHgHGlH0qgQtr7MHUlJ7v6VMrYKHCVT7+AgGGhL7BioSCHdLg6yTG73x3twHkGaGUHjB6Mp0xFB1AcPtK0QdqHxHxrJGZY5Y2HGYVY1ZNZ-MJBhgWA75QBDZv7ZwRggiRUNqWRuDAdSsjBqoBlC42AkNyBPgYHcQHzzgXJk7wVyBAmKAQmllPHlBvHcYry-HrBakhwN4EmwnVzYwzrXqq8QJmGXGlGll0HPGeT0rjBOyJVW6IhqBz1fqmh3s+0t4kGwn1GoZvHOn-plG6mowCUgUcn-z9tBrj1SkCn+GgQPBxnwZxdXggVJm+7pYP9rorzUZTGGxEmLHVZ1YtYL5zkGs+BHGjZg7I4GyirzlNH4FtGyT0VaAX6do6ZsRAcE7inT0ZBAcX7QV7m1rmH5nQMyM-68lHsjGTatkZjZkN13mm7qBAXOMyoKMLjYX-7LEX7lmD7UoPnf75mAtH7UWsGaHtxJxFHHFm58MZNsc5N3xDHz6-9BGSGnNHm-I0mJUzEGtfAyHmsStwmaLNlVnwomLry0wDFix8tuHCslsfNeWmhWLSWEtesJX+seXFAjHGKfJbS9oFXxXOl568pE7GgYWlGIhFWaqpXKsEg1XFRWXZn9ztWaRdWxEZXGgXJ7Wpk9X6ykYhWNnkg5XiGuX3x7c8sRGisnNLW6XFRGzLnfVrmOAiB8U5g-ifG5t2xR0OAE7oJ42mUaF4JlAk21raAmJqQ5jLUMxE19DBUWpWXGXBVcmjBb8SsQISGQ3KtZVPXRmNU6sOXGXsspYv97ApYQgCgLbC2U8S2j6A1wi3WlXUseXKmHdR3i2-QJ2g5B0mnXA7MA21xTWeHW3stY1LzvXFQ4CV3d7GGJqRpt7J3Z7rlZVlmf9GDCYodzl-nWGxHz7TqwSKE10JBcF6HynBUnqzruotom2i3J1l2r3V3O4f3-Tnrjls3pA79QIksp0s3pV-k5gQOqtI7nGPmcafnYFxH6nBnwJsOemqmjB0O-kaEHmDXKPFojG-nD6uGzXzGwWBanwWAXxbWF6pYjW1xhGVHaW27mP77s3z13227P3fwxEinSWH69W9HU0T6+HJErXXB8Ub2SlJ5FPaBx1gWVVX40oX7Ib2wxF6X-moOz2+HmW1gtP9Ol7SlrO3RHP2VkHFQBOXPA1k0K0VP00RP53qmI37R5Fi6lEYxy61Eq7NEcw67Ts5qF7w9wXJsIl8aZBkvtwPAHGZl5r6OmdNnIgo9GZwlrl8bRSMwRgBBawMwmBgnpAgg3HfVoGEnWnEHRg6OCOaHwXJqMmigR4vN7c2uNgOvlAuurWfVNN0nlVMnQn4cjMqrwJcAzUZv+ulkGqUIWmEGRvEscR9UhNVNluViuruQymca9uevlNhMjuX9JvNuyniOBnz1cB9urvDvlB1No3HwM5eOaXqAqRt8cSYURpnav49W7jvwAeTuNVfv-5S55uFskcUFwYH0wexENvuq0e5nIfCUnXwWo0nW-mSB-wp9amJgSPz0OPX9BSQvmCTX2oCEqfcOuTaeGkdMSfsaN1L5mWqlcPgZueaGHY9pZlpgu29JHuGnkFYT2b4vvluPpgCE3Prk6PtHrjrgletpjPMVoeNTtPB1i9eegf5Vbhu87vopL49X9eTrHyItcOrxTfZeOyH59KJfSPF72UVfIyxvixReP3OPxhc5Zl3fleQQbIA-gwg+ZpDwmgPAf55eN4fSNfPetpJEPQfeyflmQhw+g+k-dAAAeP8fgCPoRKP+9-uwryCLAtCLjwgX9wHWxULOgTCZ48gBrxmJY-LxaPfYMTc4PlPjvu46nZY2C7v3v0vsvycWWLZiCKvygbOjWAMBgYMBvorJvwYtvofzv-qUfiCvv5sZYwfjvkflFXOMfyM6m7tae7gbTvVvvuzrUl91u3ZNCZkJnlIBpRdvf1+ZNu0zMrsXPsMvQif7MxmQv1dnkZRbhk8KehKJjmGRCAa8ycWWAztHwdy7hbgpfWCvAKLYVkagyAyRFeHH7tsLYc5Q0uIzJwi82W9WcXv00l5PIjwowMxhr0VgqxwkQ4WPCchGZesNWPrQIFqxIQgR7WjPCNhmXISf8LeSfHEJwgo6BALetzd3EQMJi4dxGz-J0GSVp4Y4HOBnW-kwJLj39Ioj-CYCoNf5+9FQH-bAUn2-51taYf-JJAAMWhADDBIAy2g7nAGk9XelPc+mX2lgICGYSA4NCgPsF0ArCq4KPq-C8EilP+MMPAe8Th5jZI2W-YVmoImDkCekYvKAU93KqAgGBWzHQcrEICsCgwfxE5tRBo5EZ4h3Ao8HwK3gCD6eCfVZBp1labIxBJCPXpIMwTSCtSLQuQeRQUGXlX8ygpwRNxwBF11UJdKMJF1USV0NEWibABjn8YxMgm8TdVBU1ayDU7ssKXEIrGiaxN6uGPZENsMWGCEzE4wRFEHBWE3YeUh2BwDk1kTRwAmhwrJqMJAiwoHgk1ZcHcWMDLggQQXFDuBAgjWgPhxuaoN8NKKTVBogI5kiCNeEg89kEIvZFCJSCTUbE9gO4siNECNAfhk1G2M8UkB3FsRagDEaCJB7ZCGAgIkkYCExEg8BE-eT0LQC8zUiuAHoRRPUEpFuZFiEI4wBl2UASAQQ2QBxssV-agBWRfw-WByNSDFceRCdBxkbEFHCjIIubFIFyNACSjngDjKCMqKMByiIIwAMUWmAlG8jQADjMALKKJFuYAApLqKVEqi+RoAM0RqKFGmi-h90DkVaINE5cbIPIx0ZBCXLpAXR+oqUaAB9HKitRefS0f6NVGgAC+RgT0dCLcx59fRygQIK6IDHxjoxWozIGGO5FujQA2QNMV6IgiZAExyQZMRGMLF5jYxfwhcrqMNGBBngRgBcsYHDwPBEIdwhYXEwV5lMk+GQRUKOmXA+h7h7Yx4ZmCqytidhSwzMJOg9AAArSrnfh7HYhcQCdMEQON2GzorhFTeaEeAOGDiFEiEKOGdW3H1dcWVQVflRFhSTUP8dxFch0NQYg9IAhAYSEhgkAfD7xj4hrD8Mo6TUGRsASAICO-GQAPxVTL8RSH7x4EIRDIvAoBPSqTUaCLAGgrqNgk0Fwh-0FsQeJXGfBzUwwPXt2PqCjpOIzwVcC937FtijxmEi1j7DQkkSMJ4BC1JbxwkpA8JCdKNC90kSHjqJYJC1FVg0EbVG86EjscsM2GL9p8YEfVMnXXiCQxgEgSAVOI+DFhiAhcerM4P6hsSjhzxSVmcI6b25AceyToIEC+4oQ2oM9dwYSn1Q1NjJQKKWMO0EBAw+JQ412BYISFOQVJx42ibnxQZWTD8tk97JQGnGzijyruZyWRMt5QTAgFAtIeZNST1F-QFA6fD5MAgRSm2bYa-hFOVpyIDmTw0uhMIrrqJMAGAR3nk2GAugyAGNNKPQDdBYgGAM2T4il0SR2IHEBPY4m+Hhi05lqnUT4qaQP4cBN+O-DdA1KIRyljGyQJauuPaldZTEWITlq0yq7Apc4P-SJsQGIC2I7AHzOQEkwWkGjFEyxT5gtLJwQRqcyBanCEEP7LEWA60m8XtORSFxZpOvIgH2iUgzTgwSTJfnR10a3SAESkQkC9Ffzd8B+kEDvuNJXRKQppcwUdK9MIB3SX4QkzcAP20CFUzeyIN6Ylk9ijA6QgOBHl2DRm04II8oRnENO6wjQ0ZgVEZOOCNLDZhqnUNGV6ncQTJosRkSmYGP5ho4xaaYVcITIkpo4suBUxgKdPaiWYypgaCqTNkxlNAQgpMp4i8QzxL9lc7McUKsmUZ+cvslMjFozD+nLFEZa+RMHSFZnPTPmUsjqY5NcDU5upWgqdOPXlmfZAa9M4fkCCNkd91ZyMhgFrPXHeNdZPceGEsXZgIRcZKNe2ZBFhFPTHprkCGZUBRmDTuEwVa4MLLsq+yII4I5QLCm1k9wYhlM5QPbJDmOzZaPiE-nnCjnJBkCAAck36vMD+hcyfNnN75oyusaczGoXnRlJJ94dUyIKuFrk3jXAk1QMAzkVgNhB+6sJFE9jsKD96qzU3Sr7Obl7VPRxsTqC3KDnvSHZ1MeXKPNuDTyrw086uePLWoySUohbBSe1HFTgoywqaO5twAR5UkZUjJC9m5lPnUA7i5s-RqqTbIoNR0m8uSTvKU77zdMJYAOYOiFK+Vp0Dyc+XZUmpo58QJslev-LbKy0wU9LBvPpzsaAF35h8rEiyxvLWAr5984+bky1adiDO71d6KAr-mlN1UynL7NyXrJ3CD5aeUIs9PdjYgYFtjKoPAqjAfyXpOs0hRExJzYLg0u08EbTmBjQEmFqaGQs9MkRRoEFlCrgMIrDkil3sPg-mLCN4UCLxF3jeXDIpwUSVn5288gPVnB68LAYqi4NI-OxAaL5JWi3eXMzEUsLgw38iBbLX56cL2U-YihUpCoVWL-SqTFBQQqPnOsjevwyCMAouRL1TZ9QiBeqxdLYlWK6Kbis+19RHN3wSCiqn5QZJtkWptwABXjJJFHzmBuzaxqKTvnFQJAfAPYTQBx6ht4luHVXNmWSW6VBSVSgrhkvJJ5CrG+zcBlzNCxNdHwYRSoJQEzhnEBAIgWQGUp8WxKvFu09gnDI0F9LKiGhakOd0GUptLh2aEpa2zYXRLNMHE4YEXGozkkBeRAAoUIALgcB4wggcYAwBpgNJ6w3AaFm2VtKss8SEC20q4HfLdxPykA78nEvRRnkjwLkShMBUeigVAhuyuYkUAOVHKBAJyzJX+WrJ5NLlB5URAhVHJJlD2GrVlsDG5IPKfFwMC5b1NSUQLlAWKnAV4sRW4UKhIg9sFAsjaKCfF+KuHJZ0UYlTRgG6QvLUTPzUwZO-oKcIuPvwbAc0BS98NPIghGt6Veec5j4o5VEBgyfyscLpWlTHDpgNc8ecyoCKy0xVEDf7qFhkDTzxBBoeljsCkIdwlcNU-kH4mgKC4qZjSfnCapjT0t6ADYM4nYTdDrxhaYRGmKyz1V9lnVVgvaJASoi20PCTGZ1e2z2iLTZYLKTpQEXolQwvaFoBcDSntV+EAiIqgaH6F0ixq9C8at2o7WBhhFo8Bo4Nb8XahhrbQoSlGE+wxw2rmAitdfNYWEL9US8B4sOiBG-DNVAaj1NYK6o3z6qw63ix5WdW9UvAAC7hPSJ4S7WBqzqeallI8XDXpBoyUa8-DGrqp+0E1nA0IMmvnXO1F1GarcYDB2pphc15gfNZWqVVuKj2fQ1ZShD1CG1+iDYKZbvWdWGqSqd62nBetTrOr5cz6nIgGpVodLJlH6uNaLRajlq7Vaa6EiBoAKfM-1cHM6tclCJ-rkOdNEwuQUoK0FdaaweDSQUQ3mFWaWav9TmoTrQab1chf0rRXQjjKGkz67aiCQA3B4K1jxR1RvixqQav2+GnmiBC1pM0WaZsNjTrRAjAwd1MeZjU0Rw4+KIIJGnVbVnZZ6RvwU4hJmCjmk2DJQsmnXvayk3Ewj5cmqLAMt+ZdZg2KmxENYu4Dqb2wNSgzTrx2BpCbY0m5YYpsNVdhFNb2WoRZtU3WbOOXJLTV+tyyYpLUVgSzWQH02GatgxmqrPDJoAiRgwp6IQJjWc2v5XNJm+llJsoBAldNvmxVQaENVpCktNnQgD5otZqUt4LK+XPFqBI6bqA2WqhiVuJgEgemgqzGspvK2IgyWpW+4IjA7xarUQ1NGOHCkECD9qt48iHiVoS2i0OavqCzQNp+DeaKtKWtrWlok3CBxtywxzXpuZnI0CuKoRMO8E+CaglJWQulTVoc1zayAY22gI1sm1ChfoxYg0SNqK2ebZtR2irYduO1YBmti0VrUKAgQdaRNpIxWD1oZV4jvNA2vcd0SYBhbqM3TXXkqvBZxEY62IHmOJTSJPa5yZMhRlixGBCqN0oW8LajtdmVb12yQYmhsFnwCh3czgeHRzDx3B5Sac+VCshQfZ7AztMgloUqodjvbe53Wnbb1rzZA7T0AOl9tIUWlbLrlnHATuSRin-g0+KGGgaRw3myTNF2i0pKDpe3SgVILkSHQkWh3NN+BWQbcPfAzB+h3wgsE8RQA+awVE5lWjUh0PzjvxeRYAqfpEAmD+SGOjSvZt-ApBgwkwTjIfo9up2GzjFr89HsPNvpk6CdFoVCiLLZr2BQaCu6mEzuTUQQfdpi8Hl9rZ0-blAce2XTjCYKl57GN2nEb+yogABOLoPGjJhqAWVcgM5ecnxGSAWVa8RMGUDzZWDWW--GNLaXcVpgaADMdolYNcCV6N0+c-OYrDQCD7E1gQdZkeB72Fl6ARK5ID3ur1IYHEcRPNJIhoBGxWMFKvod3uL1V64ic+yIHRyxCAEe9QdaapIES567-ktqk7Yrs46R7o9fwucDNVP2s7kdcq9nQGGP2zVKg81bnb6gsWY6VQMcZKKMHCTSp3xbKzvCBDoVwLeJTigXEjKNLgy-QA-DoIHTNjVQpgDAYA0+IZnw1pUAfYWFYPH0QRDYRsCxZ3nHkvAY4RgYg6bASHj615DKjVbCHNjesLY1UTpcHh6VcA+lcwKcN2uMDkar1DAAjemnfV-rymvB5dWgaAMQCGs2B8zD7mGB2oeBG+22GoEgjEGnGYRAMNwc0gaHDYNB9Zo2RPUpBCDeho2IXnWCV5KsJzPQ8PpUM57S9R4OIrHX6iw7oy9BvPFttdz66LUmyvlbUWjx26L4Bo0Tuo2+2eGpw+IFuCTVL1x4D2FzM9eb1qGBhaAGsBxP-r9CglfwU4CA+PNZRQGLFsB+6Rkf9AH9kDSZKofvGQ7hHGVURwPPjop0Cg4jZnQal2EvgBDAgyBdWFx0EQtx2cLANmC9BCAeGN0PhjZR80iM0zZA7RyRBbuCMJ1RO1qmJmpMx3fUw6l+1lZxxV0UgXDyQWHQbKMBxEPJXwUoPbhCLCHwiax-Oh-HUYx5k60tK4xnQLoxVI9nyX-ZjXznsEZADHAADpYAH1vAfShwdwANg6Q8obkVmNNL9R+9rqaQ0pEjjvHx5MgT43YW+OUc-jAJpUl0o3igmBc1wfAMlEkSLhgYBJ0AAAC95oRgP44EGOPAncTQRxcBSahP-QYTEEdA8AYWpdA-oeAZIz+DSORBPjgJooHScdlWj45IPAY4rA9CD9iAg-BnDCHzmIQHQiJhg4KaxMim6QEo8U5fMH7SmzUcpwOqydNhAA')">function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
        frame => 
            stream_append_delayed(
                find_assertions(query_pattern, frame),
                () => apply_rules(query_pattern, frame)),
        frame_stream);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p9' class='permalink'></a><p>
      For each frame in the input stream, we use
      
	<span style="color:green">
	  <kbd>find-assertions</kbd>
	</span>
	<span style="color:blue">
	  <kbd>find_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>) to match the pattern
      against all assertions in the data base, producing a stream of extended
      frames, and we use
      
	<span style="color:green">
	  <kbd>apply-rules</kbd>
	</span>
	<span style="color:blue">
	  <kbd>apply_rules</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) to apply
      all possible rules, producing another stream of extended frames.
      These two streams are combined (using
      
	<span style="color:green">
	  <kbd>stream\?append\?delayed</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>stream_append_delayed</kbd>,
	</span>
      
      section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to make a stream of all
      the ways that the given pattern can be satisfied consistent with the
      original frame (see exercise&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>).
      The streams for the individual input frames are combined using
      
	<span style="color:green">
	  <kbd>stream-flatmap</kbd>
	</span>
	<span style="color:blue">
	  <kbd>stream_flatmap</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to form one large stream
      of all the ways that any of the frames in the original input stream can be
      extended to produce a match with the given pattern.
      
    </p></div>

    
      <div class='permalink'>
        <a name='h4' class='permalink'></a><h2>
    
      Compound queries
    </h2></div>

    
    <div class='permalink'>
<a name='p10' class='permalink'></a><p>
      
      <kbd>And</kbd> queries are handled as illustrated in
      
	<span style="color:green">
	  figure&nbsp;<REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>
	</span>
	<span style="color:blue">
	  figure&nbsp;<REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.10" href="./4.4.2.html#fig_4.10">4.10</a></REF>
	</span>
      
      by the
      <kbd>conjoin</kbd>
      
	<span style="color:green">procedure. <kbd>Conjoin</kbd></span>
        <span style="color:blue">function, which</span>
      
      takes as inputs the conjuncts and the frame stream and returns the stream
      of extended frames.  First, <kbd>conjoin</kbd> processes
      the stream of frames to find the stream of all possible frame extensions
      that satisfy the first query in the conjunction.  Then, using this as the
      new frame stream, it recursively applies
      <kbd>conjoin</kbd> to the rest of the queries.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (conjoin conjuncts frame-stream)
  (if (empty-conjunction? conjuncts)
      frame-stream
      (conjoin (rest-conjuncts conjuncts)
               (qeval (first-conjunct conjuncts)
                      frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function conjoin(conjuncts, frame_stream) {
    return is_empty_conjunction(conjuncts)
        ? frame_stream
        : conjoin(rest_conjuncts(conjuncts),
                  evaluate_query(first_conjunct(conjuncts),
	                         frame_stream));
}</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p11' class='permalink'></a><p>
      The
      
	<span style="color:green">expression</span>
	<span style="color:blue">statement</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'and 'qeval conjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyUgYYgFE0XE3gAK0uVF9GIAAPQgwiouJ40DBr0kybq+rCcKsA4jyqlID4GHazqJv6oShoSQM5lWqazhmzqPMCRblpRQwdvWoKb16tbptm8wGqalqGG4wwOrq+hzsGoLRoyLJrt2847pcebFpet7TE+qCgu2-600Bg7zCOmcwc6s7Ya+4aXCuya4f296XBqMQqFqBh2jIXxIfJaH+kGWHprxgsVHoNr8GqfQTtMQxuDkcgFGIBgPkCXmLsx0AHuayhWuZhG6HZ6XTqmGZQB5vmBcoIWFBXZp2tZ2WkaW+XObluhwcoMJ8II4hcOJ0na1ICmQZnDmwWd82sDIvSihV-nBf6QTcekZWZcMZX5CUKA4EQZB0DxNA8VqxmrZrYm5ea+hiDoShuAzyshO+1IQS0CgslyNOakzxX5OBagi5+XDiFTwh04r5TmlG3mG9Lpvy8oSulbygXfAUFh8AXeujCHkeF3wGQ0g7xvm977O6Fz1uxdSCplDYcgyo+rvF77opSiThdN+33fZf3nvl9X5029SC1qDEOg+czhee8PkoWlPBhH+f1+XaKG7hnLOLQV6f1iPfA2Iga7OE6O-EBECYjHx-m8biqJ4FXxATfJBoAoHb2HsIcgjU+pHUMM4BBLdnSlASvzIGW5eYsCIQwdcFA+ZFzOlgiuFtPZFAIUw4hI9hAUy4UvMBt9FRQOMGTRwncgEH2Uign40jayyKMG0VRygfbMC0AAzh8iP44LXg1dgHgvCUN7oo7+PxTHKHMaIoxd914MBEmrYmACLG4KUQuVxHx3EgIsY4yRziNCEBBNyLqoivGCEIGEimJ8OhaH0EDEhhAyEUKiTgnhV5twzhngweuZ0d5iFSek+g+iy6IJwbg0ypBzKBNADZOyDlnLUl8JncgPUvI+QScTGqEUgYxLickhw3BikDVfAOBqaTqAKFgZWOhMsRl0EmINGIQVQlsFxDMuZNAFkMHociMZpAxC7RzM+f4UzUj73KAcpZyJVlQRiO+YgNI2DFV6UklJQiHYOGsNk3hDRepaBEI1FeB56AeOMoC2IKTWEdw4cs-50KYWCBOVzFFMKUk5whS-AJDzHyxHzi4zGBSGKjDeZY1cpRXH12gSCsER0MhUtjM0McGowwURfIaMywRllWVsvZJywMZbsl8CQbpQytk1RzHtBmnFckMHyYUnaOC1lBRuNiYpgIAB81izwp2KVkloON6aDJPtA9BcCS4GOweIkWm1kipHVvwVQ8TrZJLQbA+gPw0m1GoBEuRlTuH2twfpfViS5EwIwQuSkGiAmZPtcZUyHqo1Wp9QuToRc6DuQWZ4nBZrRUWpURnLRRhKAKDNmqqCVzGoS1xCWtRHxK0TDWUS0W7LQzki5Zc4U+gGrb0Wn43RATm1m0edCoKnyG6OzcSOt+Y7zY5yAucyM3KGzlIELOsdZKzwSlANC6dySDxDp0U1UdFbx2cGXUxQUfaGq0vJduy9u7zzrRWEFZ9lbX3EFvauyiTzphTp-o2stmL1mvJnMO89mczqLv+TelcbE5WDMVfkhwf8NT6BzXzCZVNRaav0AwXVjTIQYbcE-DUcJuA4deQHQZhhuSMHwPwZ6Jhz5ZXeJ4watbQNBuARXd9sRGyLsZHxudMGzaeL-RBx1zjHqSwFvGptl6lhoVKGNNg4G1ixIzoMRjQglWsbPjvTjZ1n3+IXapi84HFQGeY8Z9jpnURnVs7GWhSmZFlv1tBvR5aW2TEJT2ttsmEwNRMxfTx0KFKgn0BFzjg9h6j08WGvBoBNMBRQ0Wn+tj7G2sztW8kjYfmMlywwH50miubuBPOEOQJ7NGeRk5i+Z0fkruedV8j5Dn61Dq9XRa6Gc0UZ64Mbsep2sbQTEen52ceoguEGCysuKPFjYxai9bXXKO9e4G59bRRl30eyz8XxZ6PEOPtRjOTHnH17v0OBo9rjrplMvvlsRB3C3431b-YbeK37neXYNRs9dGRHswwAn9pTXnkL3q9-59qmKYcS1PH9+gwcgKR8lxN9cC34bk-XD7icf7xcia9wrhREeGEnqPFHxPyqU6Sza4NS8VxHtp9lOlT2ocZNh1kln4D6Z4CBiHOQigIAwHgEgVAcc0DEgTpxAdNc3KM4E73S7YXUjpGHmQbjoAAA+uvjINUFtUMQOv9eG9SCPUe-QXtM-CObv0P1xpRMKA750DVO2DCibdUVhclco5dxEQouOEyiIJ-L515AxASAW7k-zoDKB9HuGIB16uWEbnj+EAAZFn3oNNM8jnZEn5gYhw-1Q1-PQPIeRqR+jyTOP53wS0f6fKjy9Pkf5No9xqGotto3iiYdz7Hm0dWdICb2bfqKP0FT4GOP4IR86W4MbugYgJ-PdxoMhqC-u-V6dcnmPDAG+k8aQvlvgyF8Y+VwfNXW1883j70mFL-J4afYvxz0hXOYd25vy4B-dp++w7P5y7l5sZbzOYUJjoz574l4H5x5jpWTGhCBNZgEXzwh64G6O616wGxbwGNLVhj7iigEcaohoHm4v6Mxs6MDt7JaQFUTUwjD3536P6QGBY+6faUEQ6c5T6yy0Gvj0GDA3hESXqsFZafYDqMLMJcHQ48HCF0GiwNQwH144GXpWT8KSEf7cFn6+4SHELwrsJkBwayF8EEYaATwM5Kqzy0bcB-7-jCFAGoY6Hlb4DCIF7GFyY2H6BCGVoiEDKioPqkq+YXreFyFyYKFR7YE7i4HggnaWY6Qb6iqPYaHSGuHLD8GeHMF2Fl73TXL0Dpo5q2HBE96hFYFKGREqGNJeoxqQ6aH24YHu4lGx7KGVoIG5Her5ESYAJaGfaVHWosKBDcSBopHtpyaKqBAyDx7cB4jxHdGtFVFxoyJgi8GpGiyjGVATGgCkhsGMw9EZq-zvJkA5p7INxLHDEJirHjG4E6CD6MxG7KZlonGhY1776lGLHlHgh8ZdGMweZ8bx54anGz6xbvF3HEDghL7WZbGcTiaBGwauGxDLHuFMF2gsEQlzQnpQanZBHjohEJjbTwYomIyQYdEgKGEBbYmBheHjr4l74KYNrAm-F5zyEa6-T0lUnOKDromxH0lkl76abpFInWbXER7lZcjmIPGPHQHhEvHrHgi5afGcRlYVZimTa34MEZHeGCkgGbIBqcZDHinOKKGNFlHNEn6xLhKcZylzQyzVHJFilpEUn2GirFLWnOAkmq5uE4mIlZD2lAGBxC6hyi4RwS7RzS46DAHZFMCkC1j6A9RQHOJW4cBCDRnhDGSlBdLiTsiRn-DJotB1J8o9RWTxk24mokCmC1ABAmDEDUALLCCNAt6t7XC3CLL4z6B6GSAGHcAzYXZFFnGAk3KgpAygm2atkcIdnOE9CIbkFCl9kLaHKxlhF16GlggyAtFpy3IDnTGMxwqmb6ELTJKxnnHJKTEbmcTfJjl7k-79YzhjGHkbHHmWn4yLbLb4r7mggkrjHLm6AakNl3A3ZRlvAMovk7jRGkr1yglMyZyIKsn+GOoo71xzkNGH6xbY6NK-kgl3kEkwV0r-kBJwUXkeFwVfkuClpfDkIr6PnyC-ZggA7dnkmP4Tn1nAxokHJsINzUW7554jD0XmqOAkX8wsAOwsXVrB5xhyZYTew47nCNiJ78w0nkWQogKMgZZhmiSNnMXzzUF6j0R7p-H-EuBYQaVcxVgMQAwMWhwdyX7mYsXPDCW6UcWDDezoXAwsU-qWUdzWVwkiUJg3gOVZFEVzZ6ZyWUVmFTyGWniGUsDrAyXgIXkcAr6J7BWjwDTpmxViDxVhVhqlBYQebewJWaVGXjYdmRWLZhrNApXxUGXhAAA8wIGcqVqg+g6VKKx8uZm44IAAKvgPgKADcHQL4GimILwHok2KadQLUM0OCKAAANQHowrL5iBCgUwVVTWNJWTLW7axBzULUNWdATAoq1L1LtWdXKzECOT9WDXEnDVhKjU1mNJrWzXqwm5bVLXTVgUTXTXrUxCbUyAUzpWEU1YYhYiX4o4aVk6wpForyH6dXYhsUrAMZMa5WhU7VCbCSMlpDMkVXrXHwQ3ojYgfWxDEX4CkUlI4oUUeIHbrXNAaWF64lU7jZ42zD56NUwqU3w1ES03mx-jbXjYTaFAsR3oGA5yF7SV1pPQk3yUVwhb7YtW5UCp0AjzlDpYdwyragXKS2vDVbeyMizo5WIaxhBT2bJLOUGWG1uUAqezewuUm18yEq83drsU5yQ1EDdT86iGMwU603A201aWg15jg2ViO3Q3RWAa+2fYG0GVaU6XOjEq8kY0ERY3+0413aAoE1E2BVk3gKparBtIM7U356x16SlDwTbRhVaWZ1NDUis3MHs1w43i-UyagA6grgDiC3pnC2yVi2UXI1S31Ig2NK2Ty0iCK18ySqn483-rrp+iNia1Aja0sXO25z12eWBgG0W3G0OVm16QW0qoOVj3kR21L1EXY1Q3z0ByC7Bz+nhzi5RxS6xzYCmXTJj67JVlNkFhIrcn6mSmLn8qNI7LzJoWsm-1HEMCzJhKSY6kPLv0eEEr0yFSP1-13L4x9Zx7phz5zBgWxBzCrjIrTBz4cjoMxAchYNm1z4YT4M8AbhEMoOAm5JkO5KUM4OAlO5sBgVMPOjYMNBz4vRhLkC+BgVcPbx9WKjsN8KAm8qkD4NiOxjCOFBz43CJ6-wsCGCglyOqAKMhwrDSOxBz6TVkOxDRncC+DhAAh6pdLTWCOaMxBz6eS6MxD6OgCGMkZdI+TmPEOAnUbTB2MOPGOgBdKQj2MxAWOXkQjAA2MGD5n2NGMmOgBgAuNUNAUACkoTnjkTPjoA8T-joAgTc+4kujyTjjhehjrjQFAAhJKLk+E141E6U0CIU3E2COCJVUkxUyk10tVTELUww0BZVQCDY3k94600CBE0U-Uzqk0wYy06AHqu01k4CTqj09wEUH01E3M9M8MxCMU6E6k4UN4zEMU7EDGemAVNVoA8-QgwWBZYCCuIRnMNwCc-skLkc+8AIHcy-bFPgCwG1CYGbJcysIRsiCRiQ3A0cWBVA38jZrGC82cy5mmJFMc0C6c4gbBoyHHnPp7mBZ7oE3tpY4CZAHQN6DXLwws7i-i5LJi1i7I1QKo7AJAPgyowwNS2S3thS-IwAKJkN0ssuMvrZz4ABy5APLoTfLPLZdnsjzVIkLiLUG7NPz0wfzJG20MgcOErm6SBu0sDsy8DkrLlMrDQcr3jUDF4PA8L+ykru0plmy2yxrrzFCRy-VuSsZFrwDjAaopAWyJuDAbU5A1YjGY+mgSdaEkLIDHAAC4DfyG9KwxS9rRwRQrtkJ8YhAadASsZwKAVHdUKaEoSemLZVrULdO7NO2qKyrTzSBFlXL5OumIg2bGrQDKS7znznMBbMKRbfimcLlZbsQbd9aibFc9MHAAgwtYgXwEVC4abCl9W8b3bYIMLZ9iDF9YukckumAGAyl4F6s5ApgtskG5UNwpA5i+B1AvYF5P0Wum4+FO8B7fwgWK4DNqp-+j++7JE4QL1DAb11ID1K+W1Z7BBl7kwWsdlfJWQD7P7rJpcNwSm8KWg+m77pyDrygygg1GQKcRgYycHKTIc01qOcHhe4IE1pQOHaWr1y167yg7bioOHYJY+K+JlgyDgrCxg5alHq+-VhlTptHO8xgzw0E7Fc1y14IEIy1oHxCxgEHtQAkphrHdAdHXAzHqyL11g4IrJbHC0-MRcCgqOJy8FaN40xSECeHmmukJkbJsWOnoAOeyk-aTJ40N4OntR-71nGn4Q1TjSxQ8I17Bg20Jn6Z4ILnKZq7FAG7ZMHw27O85iOn2ZFnv8I1ESFCJnZnq47cfMyy5zUhMXDnGVjS-H01SnxgTAZAanHn6K6nKesnM1sYE1r7GlFhc8iX2KSRqXxXd1ZXt1WXkn7HKneXQwnpRXRSaXT7KK8IBnwS2XDckkoIYFRq0oUnuXpA-sf70yGeYXKwpQw3EIpD3AceBXKeNodoNn3Aw303gkc3qQc1RXunjSAA5K+9qi9Zd3+19RTDp4p618p5u-bPoGTPbJp7yXzCe51yMB9x0+S4CUIMIK9cEK9Q5Ivifm4MWK9ZGRwPCL+0t5N21394MADzXY-hj3t89zl6pxAmyrjw3NtNj5zaT-txj75aAJ6968oL6zOHSmkh4FDqtJp1qdFx9NdGd3Puz+adzFaSl5z31KR91aYTT+sHT9QJoBDkz1om4Mcqcqz0j4Zwl6xcL253Pi50vh7Z3vPFzwT8WVTwD4PB0j1H0cz24Kzzxveg-FFzqfr22lPVaVTUCCuJV7rzVwL3V0L4QDbeBeK-IHL8YAtuMvFKYcb5Tqb+b0Hwr2jML2PZ+s77Tdh6Q251hNtLL1DiTOMnDh4ZnzDyH+ileysM0Cki7+pDQ2n4H1n4X6cn+2X8n15+Lz61LwzwxIN0fOQweEl7FCDeBoRs35L9L4z9X-L8x0rwb2JUnwzrc6P8H7-EXwFKrbWl3g74BkFJr2Be75YXr-H0v2utGIaFOn1Jlr4Z9pLCQFbzRXvlhFz25zDOryXzmfUtdLLUKq0oL1jOKv-XtIMthTCVzyPapBb+j-KuNjF95-sxGq0N-i0j8qT5pCq7YknWXPww9tI5USgPgHKz8wBgFQWmMLwvIX81evvbDhaFh6skcB32LSLFAqyADr+-7f-lJn15U8PMLAaoNxBXzbVv2S4fKueAvJYQgO3AuCqyVYEwIyKAghuCIPYEp48K+eSQSbkcqgA5BYg8lEoOkF0CbwqghQaoKdZqVEu4g7mFZQvJthPA+gsytbVZIptK2pg5Cg5T4EZ4WBbAk3JwIvaCCGIcOHyrGxAL4Er+7FechESop9QrILnP6ppGYCZwD2SSV-mYOk4OAB6C2fAgwHUAiAOApAdaH-yIDxJ8BwdMWDbzJSbg1+0KYrI4JXylZihJSaoLoKIEGC3Ki9WyqoMLye5bMy3OWixlBQJCkhwgFIdAOiEis0suQQgBTG0HjxNBu9Busv1yEgDfeXdA+l303D9CKYD-KYdwHmEAcJ+9dYLNkJmHXR1h+9WyisK55U9fYvMSLiQFBQVABGonQwGyHOE8MSYhgUkEAK07-gpibnG4b4DuHEgngf7dPnnSmLhsGgTwEjEcIUAnCAqbwy4erD9gIQjAfwvGqinBELZ7hDpMQhBVdb9B9kCImEdwARECwHhdAphjCLO44j7hXwp-j8JGBXCRegI7xtUCLgJkMRkYW4YMGJGfCRezoakXqmBHQjKRPpBjJCOOEyBt4FaUwra0jrKlgYQokFGrA1gMcoRfzUZNSGRGblJRGcaUX7FlHCxHhMdfkYd2R6aY5uqI+kfzExHQpcSOosthyOVgqiqCOojUSCKEIawfCK7SwQtiFDQJyEHwHCue3FDYiqA1Q62oDmqz1CgQ2gioTlVMEeCZhwYsCMGHHBucXRzgn0VxD9E9DvhVAbNAwDkb8QhhKgsoXDiISgIPBZ-RmLxAzFZj6qvEX0YWMMF0Dp66kGQEmFqATU3O4IBsXsCbGQD2g8CSscmNVxudNaMQI7nkJbJUBkyyPF0cA1niUhQQASHsQWP9F8ghxWEXiNnlzzzdu+BYs7qWIOKZjQo9VG8CuP+GERH8m4o8auG3FJBdxfEeqhn1HFnisW-7U8XCIIg70-2rYxsaD0OEm4+22UYEUmTsHd9wmlozTH9TUAmAvAv8RgKQLQEfRoJqIbgMbx7HG9bBUERsOWJJSUpGQF4xgOWPe52xtkKYuCc4EbYPi-QyEqykxA1R7iMJzKbDm2I4Cg83O+op-kTR-E2iZR6EplO8j+q8AcubA3qCOLdK+Dju0HNHoJN5Gio0oao3mDiDZDdA8RVWJ5tSEZBpRZJZYXwJsW44NDwI44cNJpjSyGAqe-Es3kSBnjiTAxSk7oIyFvG9xKJqNbwd0HCB4cXOaWboL20kCgA2qAACRZYMAAAguAHAAssAASm1UgAAB5HlsgCBBKVTKMgSQGoEoHFgXSgk7NAuNjK8T+Yxk1KQcTO5STjJ2fVAS5hylJADeUkzoJmiKkulWS5UzIElJglcZYy3k3yQFKCmhSIpUUmqZICdYVAeohUqgSlOwmxkpJf44yQwFMnjEhpVkIifQE8jAjkBoqb0CHyqnlISpdAdKReS5GCiqAhGTFAWMGq6o3MYEuxJBPqldR9plkchpQDSk9D7xx1a8WdMGnpiDi6UgOH2ziAZB+YuQBwEXEZAAAGE4KZRqCOQXEn0k4WaVijUBBgF0MGd9NRGMh4eX01ob9Omp4g7JcmRGQbB+lkBWSHmYGXkJcENxTBmM3npDMgjsUsI3nMClhBJl28yZ23QDt6J-Z-VAgtGAmeKFSBsxEZ60d8GDNJnlQoZilE6qDI4DgztSZM5KOSEGSQj+YjkToOYloErhiU3gwAdFlF53B8Z4g7obTKuoc9GAUM1LFAkmGpZMqGeGWQwDllsBzEiw8Fp7HNmWzzE4A4vn6FMgn9dhepe2fLOyCfS-qFQU4aECVSywohEYmsVLNFSeyrZ3ULurWhVkTpgIfaDRPAlMEPg1aQGUWC6l-TQoNhtmYrKUNEHlDGAOtdKbUJRpyYWA2k2MRqA+qlAGxUYD6s0AjnmIcxt2FgH7wzDuxs5etVGrfzHHqYMyxAWWV7JhirJ9c-cweZHKujK8rwpfHapnKzDuzxRY8i2V7IOGeDzAE4t0U3Aox-BExyEfKhtNQlBiyhecqQToPDFMzuBkYl0H2nqFOcMWktIKA4AWpXjsxZQlHJoJIlYtTwxc0ruRHGEGAGo3g08I8lRR4BIQ4ClcEUPzknz3WYYuet-J6H10got8mMeqFqBqyn531F+fVX0HPjYgzcqMh-PdjQRUIDlaFK7Pmy7zXBbAYud2n-lxZiA-s1IB9AQUhy3K1lMBRAo-Six3x7Yz8XQoP4PzRYCY6wZ0FoW21ixnETBbiFwmEA9wv4FCexTrESR6JHY5HrwoYkd8s6icrIHItuakh+xLFIcd4LkW9ylYG82eFvPIQ7y9FPABRVZWMU7wWyDw+Mf5VBSbzCa1ix4IQF-C2LbB0TMAOAshBLiM8pi0zmuOAGhKDFyPaRdgtWGmK7pKwA8aSESXTBYluEjPrCNInTAM+KSvBc6FfFP8NFTYoyakERnlpYimnA0ohTKKxErIiMi0uYDeBbxeJFCbmTINvb7AfZCgzGRVnaX4jLOXpR-LRG6Xc9gebAOWb4GdSZlXOT-DwiMo4BOjzWppXEMQnKWIyEJ+E9PNdJemgByJblCyVSC3g24RZ+6VmeZXEGcy9YPspiI2FiVcTioKKdJXuLwnkxtlaU-Jc0rPDJFjlhmbmaksVD7LzB7Fe5a8loledVFjEvUb9EgGppXuFMXpWeV+WMB-ltmViZIF-G2jQVlKH0u9OakMBgp1kAADIstop6WX6IDMGTxSHpiMs6NhIPkgq+JMoHqGtLyndSCpC2Wlayr-a1SfEn0s6AoN5WnKBVF5fFYSpJXgAupM4DlcKtZWbSdRoIytpihGm2ixpE01lQCpWDRFPpc0nUfCDukqqZRVM+pTqvmkSTX8Ky2VfSp6HyqNYByIUbtKvCIySMbmR1mss+nezuB1q9epimpWJSuV3qqyn9XITNRRZAPV5fbHeW7LV65o21VCO2nCjcasNFii6tjBcjM2Zwxke8MGC2Ylpj01aYhOelJB0pqSy0Y6y5WFqdlxanoZixjWOiqe06eFRGp6B1q-YPM6rK0H+ZAhVJhA5tXDnBCNqAeytPUp2ocAVy0FdQZHiGtAZNqAeC46SbqMM6jqXsEFGEqT1bXCxSlPU3qOKHMkDLpRTgmySPN1zOJvBR64NRgMCD5r9ZN63qajhWkrJreACq5b1N3UzSVkXdRsFZKBBqrywZk99aMMbDwc6k6Od9Qup1Z6RDV6o7oNNIfW6qNYw6ooEVBxCwaBps0+aWeKwjvruAlo4DazJnBgbgRQWVWlBHOCTk28l6-mJjIqHZT+lik8VkWpcBAgvlrSj6NzKYi1pjJu6oaZ+uqzfqxYzK8aX+smmMbAN1WPDejkxnAiINBEKDTJJg0oVTVeq0YchoU3aqOA8Gv2IOQhYZ4NlBgFJhJtbZSbzRE2TubKkkUeQKBmM4INevvVobH1+68pQBt-md8rNHqgDX+woHvq7NyU6fOQOEDLT7NPmhqetA+DBBsBD6nQdlIA23Lqso8QLb5veCMh8VrUkKWFMimSryQKWwKWlo6lkqsND6nDSk3i3XqzktlcEBiAU6-9HSAW05Z6rrBQQwtV66jbeoEnsb6NAgErbSuS0+SCVxK0lUxDFX9b8tumz6UVpIxdb+VE2IKBVq8BVaLN5gMGLrDiwpBTYhlDdYJEeGyUUYzZHbZzDO7MSVeho9EcaKzWidMUg6-CcegWjIxVtK0PbVemiELrkUHsWxikyW1czCSD2s6N9pe2AoNtQBZDRVvEZWRLt5MPhqtt1gwtBkhMQ1OinnVEa41Aoh1aYV9UprjG7sRUASLB1vdYdkHJtTn01Wrh0VGA9ieqJ3q2BXtX8EnZiplFkKSFaWTTChAaAA7poQOyHq9Rx2Et0sxAImFoGh1Fo+p8HSIVkPtqppuhA7Idj8FHY9s15LgQfvTxRzjIEdsamMPrQVUJrHVBS9HTqmMi9QTA-ABuKEKQIRCG4eNTbhzXEp40Gq3MSJs+KgGVhP5WLJpO-z0pUAjKpASVG9WIWvbwQCu1vj+kR7pcadZOmSWQpdnkrMgR41nXtCB3+7h+7fUHXCqHXcB49bfPdDCzQmdJnoPEARoyAACcJwQZPwx4YLqjAaQ0VCXobQKrFcm4D4DRmjm5DtRcclWoIoHBMapQf06YbECr36Bzu53KyGgCH2IbeaJG6FL3rNFtyigVehdcAyLh2juRYiFwD5CmI7DbahQGfVyNr3IdReZvKvX9U6CTLplUZSjOFpV2OiLyG2tnfwAhCH6eGx+kEknuThaB4V43CZffojLnhKVoqfPqkHDXVAioJ4MgCPHISktDlAgVoIyAj7tJmAZvX-SOOU79pJO-AXjkcER4ca+0CyUgCAYJagAnO7xdsZnDQLZDe94IbyD5F-17L8JAmoqDEHIP+QXNG+3PTw30AU8rtrQY4GMMEURAWIA4MDRgKwG-wAtonDg13Tc2iybN3mrzZFoqyiH66A4LAzgclh4H1I5CWKnEVTkxBSD5B7yEyES2CBhDogHQ95AYMbC2IY+lYNoeMNUHyYQ0SlCHGMMmHRhm+20dCi5Fa6rw09XXYCjYPkx-WqKY3eEJTitAFxOGx3crBSa5w2RXO97kvm-EYrQ9anECSIQkUrtZ0QgQwI5G1wAH+A7apSZAaBDQGo+8BqTkgdoMvU0DhKKeixT6wxGQj1IeI6TrL3JH0ZaeXkt7DUxVwm8XVcsSbl7HkBZI0EQnlN3-3FsgjSSeowqxqNw4bdERkjFEfphA6QenO5PfhLAo6xqgMLX-U2vO5wT9ApEgADpYAnNFbBbAIZkDBAkjv0AxuM1WRoQB9eBYA4TR-7bHw1uxoqfsYfFHGTj-spgJgIuMzcRx3fXgCeDhw9AsIIJ0AAAC9DWoAI40UAzVnH-jlx2Yz0BhN3G9IDx8EIoeeM1RUIM0JihkayObhdjpxv4wchRMVN1uwPV6iwFerKBXqoPSYOdzTB4BXjV20k78fOOUmbjQTefLSfpOMnEeWJ-yEAA')">put("and", "evaluate_query", conjoin);
</pre></div></div></td></tr></table>
      sets up
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to dispatch to <kbd>conjoin</kbd> when an
      <kbd>and</kbd>
      
	<span style="color:green">form</span>
      
      is encountered.
    </p></div>

    <div class='permalink'>
<a name='p12' class='permalink'></a><p>
      
      
	<span style="color:green">
	  <kbd>Or</kbd> queries are handled
	</span>
	<span style="color:blue">
	  We handle <kbd>or</kbd> queries
	</span>
      
      similarly, as shown in
      
	<span style="color:green">
      figure&nbsp;<REF NAME="fig:query-or_scheme"><a class="superscript" id="4.4.4-fig-link-4.11" href="./4.4.2.html#fig_4.11">4.11</a></REF>.
	</span>
	<span style="color:blue">
      figure&nbsp;<REF NAME="fig:query-or"><a class="superscript" id="4.4.4-fig-link-4.12" href="./4.4.2.html#fig_4.12">4.12</a></REF>.
	</span>
      
      The output streams for the various disjuncts of the
      <kbd>or</kbd> are computed separately and merged using
      the
      
	<span style="color:green">
	  <kbd>interleave-delayed</kbd>
	</span>
	<span style="color:blue">
	  <kbd>interleave_delayed</kbd>
	</span>
      
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      from section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>.
      (See exercises&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>
      and&nbsp;<REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.80" href="./4.4.4.html#ex_4.80">4.80</a></REF>.)
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave-delayed
       (qeval (first-disjunct disjuncts) frame-stream)
       (delay (disjoin (rest-disjuncts disjuncts)
                       frame-stream)))))

(put 'or 'qeval disjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyUgYYgFE0XE3gAK0uVF9GIAAPQgwiouJ40DBr0kybq+rCcKsA4jyqlID4GHazqJv6oShoSQM5lWqazhmzqPMCRblpRQwdvWoKb16tbptm8wGqalqGG4wwOrq+hzsGoLRoyLJrt2847pcebFpet7TE+qCgu2-600Bg7zCOmcwc6s7Ya+4aXCuya4f296XBqMQqFqBh2jIXxIfJaH+kGWHprxgtqUoQJyAUBgNBIERnsjchfFqIw2QqNheZJwxSQxzbklSMb-zxKYZi4nm+eEBgxaeFdmiw7bDDl-DVyeQEAD4mZZtmOeILmhZFwYPlNhCBesPW9OdooreV1XSVxoHQGqLRSA4chK2IbnheVgXuDd0XxahzGfel36HZXUpI5VtX5aaHgNyGGmHadv0DYBY3fbIAOg5D639BTj2njzl2DHCQuTf6NmiLl-kIrwIHDFAORFAgGB4CQVA0DxEfasZ4hcOJ-Rcma+gLcobgLcrITvtSEE-c6GfFEIee6EodOFY3tyF1w4ht7nmp98PjPRtZ8-Z93q+D+UhT8AxLFVd8BQWHwU+GKMN-X+C58AyDSPfC+T8F6OxaHQFeylmgNQqMoYWZUPqPz3i-Z0pRJ4-GQagrKdBIGYKXnAm+qw47szcNQMQdAFAL2Ic-chsQcGnioYYGhdCGEYOfqQ+BzpEGpDeNxVEW8eHQNfi0NhwjqCiKyOI-efDmExEEQwYWP9hDkEan1I6HD0E70wco-SoAErByBluVmLBNEMHXBQehfszoKIPrXOu6irFaN-sICmTiYHLyMao4wZNHAPwMUwyRuCFyBNrMEowbRonKGDh8Ym9D96ONCdApRCDKHsA8F4RhEjsFSJ+Dk5QeSnGZIEZQkSqtmBaBSWCHx4S2HVKSXU7h6TFGwP4YqVRHMQTci6o0wpfSKYRI6FofQQNtGEF0c4fJ18lEuL9NuGcoCGBnzOuQUgYhpmzPoGky+GSumTCyWZYI8zF6gBsnZByzlqS+H3uQHqXkfJjOJjVCK3sRmTIcNwLZYgBqvgHA1GZ1AFCyOoGXcxyJJiDRiEFEZNjSBgohVChGRDkR-O2btHMz5-jAqEQY8oDBoUOFhVBGI75iA0jYMVN5EypmeIpjCpZdcYi9S0FzZeB56D1P0MZNleZ0U2K2ffBxPy6COwFYK-5hhWWCtiFM7l8guH7wlZMIC-pY4NWqWfUYNKsGxlKLqhiS16CcrBEdDIhq-TNDHBqMMFEXyGjOZuTFVzbL2ScsDdF7JfAkBeYIQghA2C+BqjmPaDNOIrIYGsjZO0lFwqCjcbE-yjZFLPNPf5iyWg43pt7CJZqRAQvoGIjply-ESwTA1Zm-BVCjKnhMmRcikW1GoAMkJhyFnHKMcY+lITi0tspHE9pXbnHHOMqZRtA6RHOB+J0P2dB3JBwub4sh+bfWFqiRbBJRhKAKEoHK45g0CWNWapQXE26YkfAPRMOFsQgr2tDOSJ1+LhT6AasLRarSmoMJvYe8lAqgr9smQeb9tTf1qv-WETgfiAp4vvZS-ZAgQYzn-eshijIBUgdQzU5Jf790Adg+ulcp6TVnnPrh9DZ9AOxiClRwjGGKNMUKK+xDWrJYZtViOmJ0qH3UrQxB+pZ1oOOzgyuNikbvYxrWQ4C0nD+ZLvoYCqmscU36AYOmqEcnqG0NqHCbgSnqW4yjR5Qw3JGD4H4NzFBorUQHKgdfE976GpXt3T49arxkNM1vYyNziShMLwc4Ylj-HOMPXPZenju7RN8eMTLOLaxg0WxthZ2N1n8F2ecGdBj+GoOEYmPK6iaWrPIxMAQ+z-KFVFFMdxoJu6kZ4baakvdt6NWavIghilYXq2pEy2gohQy-QKVBJXcrWXsqGCAX-VdvbQDNBlgFKTm62ElLKeWxNUFGxMsZGthgTLV1MUbN2PUfmSsZfGwNs6TKOsqG8zpjhenQiMhk2Ah7CnBgnZxT1wMIGmVLx6pylWyreUMK+0V6rzp3tPaPXFyHRQ-EmYLc0zGTXIMNI28emOnHavkdrFVq8IHqnXT2YN8ta6V5I5W-O3TqqMdjs2+SRsZ9GQgfk7Q+pTHay7OpXosnY6Ke3fZ4wKbP8-5c-PsLznovgGrvohRpRTEgpnw3fjLj-XCEXMZ4UYXX8xf-wo2N2zA29ey58UskDGvYpnx59Q-RAvFkrnEx3WQ6Lu69yUFAOAiBkDoFHsScenFP2yJPquqtI144-zIGH0AAAfWPxlXPM2qGIGP8fE+pF-n-fo-PHMHzjwnv0P1xo+MKOnovqQn2DB8bdX1x8KAG-x6XiIhRVOcacarxmNbyBiAkCrFZrXLmUD6PcMQF1tWpCwv+8IAAyGfvQc7T5HOyEfzAxCd6D9LCBze2+9dH33tRo3ylXKMx80z5gZfi7WUZsP2OEzbRvB5jfHlatS4I8iugYgAczN584cfnGB9wQ3995wRuBbYU9v9ScvZfUGpgD6c89-89818D8B9j8gDad6kz8vkMCF5TcZsd84xOMH8kxs4RhH9ycNVa81c4CJdbc+db9d8toc4bxyCBd25A96o+tLtNcl878I998SYB9-0rJjQhAytjdCF4QC8M8BD+9RthCrlqxkVxQbMKtnApD094Y1crdypL9-xCNV5Y5iC7RjD9CD12sqDGYdDsobcSdf8PpeDlhqYyCSCiIDD2Dz8pY1FLFrE7C7ciFHCfsvDkDBD5DCMrI3FfCdF7C6AsC68fCtFbExUyARMDCqJk0NBAF9dY0wEjNuBTDB9KC9ppMEj9t8AvFCj0ijDmDXCSDp8PDvYdVUcf0+VAj4UJ9ZDD8dwFDwQWlAsQDoC1didoj-DKjXxnDBg3DzCqc1cGpm050zD88+Dgie8UCwiD0RD6BZ1S0Fw-C+cNDC9nRu9e9Qjujwirl5idi0dMDBjGZLil0Fwf9uIO0xinDY4Y1AgZBB9uA5ZLDOJ7ifhh0gkwQ2iNoEwPjKhvjQBSQ-iPIASFwF0yAl0aAV1QSgoISviFCdAZiu9Uh-NXigjKEQi5CziNirl-M4i1dat8TRMqiADRtwQKSwCCtbjOJ-NrigsxjYg3iiCai7R6jYTzBctmsQSWS6T79F8WTBSXBGsWjOTaTxjY4piANpTKFHoL06t4lz4FSeS98ZZB8AZPDKEv1BM8tRS2txT+D9TlSJhn97pM8uQ8lQSwT+DiSujzTLlwQ1tKTGY9sDtnSJj9BlSGiYDUg+l20eC0jFTwtUg3ShDzigDg1+lJDWS5phU9i5k0TqiXD+T3DVT-k6DssCT2jeScyshgyPDO43ce55BPcB4fdh5R4dAOD7SmBSB8cepED+Cs8A4iFOzQBjJShnlxJ2R2z-hJ0WhSBzJ9AeorIeyc9c0SBTBagAgTBiBIVahGgz8jTatzEkj7EUjuB-ssdGC0QGSMFiUgZQC4d9zJBDzQBjzncjS5iiUuZoUuyViTiSSwQZBNi55Lz0UfTOIplbzxUZAPzgRQQGBPjJkfjUyhThUDtwLw8zzFoYLfzoT4KfV8ZGo4EeU6dJkIKMTYLdAcTOJcdUc9U3gLUiKGS8diBQC7t95oFVSmjJYJd9AaMUKiTVjTiwQz4rJ6KgLDpKLTVqKGEuLliF8yzOKGIQy1cd0vgOFP9cLKx8K+VK0pKroSMtDGZcM5AIFNLTzpLaYdKjTFL8BjB9tmU7EuAsdW9CCEwsIDL6FFc9pGxh9g51TcQQc6dGRFsWzRJbgzFbKsjgEj0NkIKp9ps9R5daxDTvYXLEkYqctbLngHLCTtokqsKaz74JdUr750ruTHLAwbxsq7SXAOUUtVL1K-0Ur5cj0WB1gvKyFuKOBP9h8wq-4BoRz2qxBOrTwlhhtM4DwBJgqSVQq9CIrOgYMHzmrVLe1mg+rOqprwgAAeYEC2fq1QWSvUObPtKc85cEAAFXfhMSEF8EEG2V4GEybCTOoE3KuVAAAGoBy2VwDP8hQKZVqXqrkrJfq4cigPqxAvrdqJhpVTJDrNwTqzqZBiBHIrqxAbqgs7qQ0HrhBmhwQAb3rk9PqZBvqUrwhXrGKsbXrAbChgbQbBr5LGY8o8DG9tSYrtdFVN04E1F35sQjKVhvZzMhAurYqqwZrPNpg140gE5Vrya+02b0RsRJbCgLLlKdlfKNKyF9qVJ7l9dl9tZCa5bjFtpqbdbmheaiEiJCabQ7RqbbtWNSN31l5l9PKz0nplboF2N5aob+arJbJf5yhQBT8rbcVIxnVYxGwkrGR9LQrxM6NY5jbJlbL6aCr6EpVqskr8rY7Cr-byIX1jLl52aiBuozKjTdc9COK9D5dmahUFLpaOb86V52MeaLN+bpq9rXbCTi9-wdaCIcEq6865aFaU8aqVUVbKc4cjaYqtbF8O69JSh4J9aZr5c1aKEY7Tb9dZqbxLbQtOsbaDA7aRyHbvKB7QcnNusGhXUPaPU6BvaRBfb75A04Dw1tQusBUQ7bKw6wMZwkqa6M6OMEwY6U6pq07E6IdYwU741sqv7JMSrKru7OaC6qz8Z3daz+5vch4-cMBArKFQVwUUSzF0V1VLTPy1idx3VwRMHUUGKcrSHsGGAwUQ10dNcYV8GTKgySCYUTNCpkUsGNySVqygQB90xAC5hGLYg5hVwk6GhACOQhGYgORRGXFACMIpGRrSBZH+GGSVlFGVkVHphAC27GK27nQxGihACXoQ1eZGKTHQ4DG5GGTXUpHXVYxDHChACbhh92YWBDBQCXHVA3Hu4VhHHYhADnrFHYgZzuBfAG5jZnlXrLrQB-GYhADPJgmYhQnQBwn01nkfIYm4nIKdwoQkmDBZzUmInQBnlIRUmYhsnADgB8mUm0nG5nkwAsnrHcmABSGpwpupyJ0AFp8p2J5psEcEcSYJ2p4p4cqUcJ-piEAAQklGGY6dGdABmaBAmdUdybWvabCYWY2piBWe0YZLWoBCSZGfSdAAOZ2cqYZMNg2aKZOeNnOcmfBENkOe4CKGOfqdACefudWYGamfyZKaKEbhiCmdiE7PTAKm80oa4amSmsBBXHUzmG4EhbRXgfBfeAECRZwZwvwBYDahMEPVhZWHU2RHTXkY4bIcYoKNYeyaKAxe4ZRZOEighbJaodENSRe1G0AKr0Yqr2pch0AMgDoG9FkTDReYFaFYvV5eq2caoG8dgEgCka8YYDlclYVWldcYAFFFHFX1WVXBVACAA5cgfV-Jw1-VhevSVFqkWl1ltDFKgl6YIl9NLKmBa15DMQ3adhlFFlt1-efK+1hoR1xuSli8HgZlrhm13aQupM3EWl0lOgLFMQFZCCxFaoBgNUf2XwfutqQOdYZQZFTQAnK8WlmhjgepehslIB2If5JNo4IoZbNXacT+Z2tVCCqqrlPCwehhOLc2EQfQWN4VKa7gXW0Nr18Nn121le3Vqt5LXt-trFnFvF2HQVV1tFsQ-Kqd6Rkffe5tg+emDgAQB2xN7Fn4HdvzeMQgA+gitMaQHuasj3JBweX3DANBo06iigUwUmeK2KG4UgPJJQ6gXsbin6KPTcAo-9kiZhWYPk8skg8Dv4DVX68EBgUmk2FPUGsDrZAD+Dk5FYZoDD5Q7D1U2eG4bjJIrQG2XGgFZN5QZQG6jIaeIwP5Gj4p7uV6-QcgGj5fcELG0obj+bP6p616jj5QDdlYbj5kj-Kj1UhwWxYwPdSThNo9AsmTrZYwZ4aCYy4GxDiEX64jrRYwMj-mdTZTugWTuy2VWFYm6wcEaT0z1T4OP2BQdj7ZCCtu5zsfJOE-X6XSEyY00bf5WfGfZSD9eOcaG8AL8IePJh8Llz8IJZq5YoeETz0gwYALrjxLwcpi5mDjmcMmD4cqH9vJALickL9me6gZOZNLufaVO+ehCVAsQsj6CL3tXjnT16lThaBzsgJz7aWVdzhDsm1cLGlD4u6-CBJVEY+giL7G2MYb36jrqyxzlL5hu0Pr5rom6VeEHznpaUMz3KUERi7NXb+zpgbrnD3zkFLOYrlYUoBb8+EhjcRigfXrlz82rICL7gO7070gQSDWShYG-rzz8EAAchQ7TWJtB7+8pvxv69s7M8-fJn0DJlIDSakrc-oRA+W+R92b5YZKEGEBJuCBJoch0isgtGLBJvbI4HhHO4Vju6x9rBR5gRvGx5gS+8c+YTtTs864Z-JmZ5INZ8++56stZ4qtAGzerHM3zZnBtxmQ8F51Wlc7DPK812ukg5yYGfDIq-oEYom5-1GLV8rfOuxAl9zel9oLl4STcEU8V9p9vi3zq7V888AMS7AJipyPAUd76jt4oWujF+x6-keR6iRXl7cEV+cwMFgJV66jV+FpDoHbHqBBXFG9yPG-TMm7mVj9C3YdD+MBVllXikyID6myD5D6t6U+xVt9C3owT81pHIe4PG26KFKC1hzkt95xJgs-yOg77fkHL87+xQ1T++hcT-UnUc8-b7cAH4BWH9r+AS49N6l+oE0Alyb5KCUfq9ilLri3U0X7zeX5l9NUn4r4BVt85435H-10Rb747-z8H-g0DrfUj4d-Plj-vXRIZNd41uAQ95vyz5fUfrCRY4fvLOp8l9QXoSA4fNHpPizhO8buTDOAb51PrXRPaNyb1IuVJx+oSAwlcwOJRaxq8gOMA0aogIVjYxCA5-ZAX1FQFeo7kGZXAeaiCzblsCWkWKJQHwD7Zg4AwCoLTG97cUIBr-XgfX3J7VR8ywgfPlP20jlQDsBAqSttDwGHoq+9bRmLVhYDVBuIn+WSgRyXCC0KMUVLOHB20E0ZVSqg4tCpQMHnwTB6gsfNxW2iWCU8OVOwWYIASODrBWlEgi4IcFqD+6qbD+uYO4DZVuKbYTwH4NyqJ1VSbbQYCEIEqhC6wUlLCCoK8EaCohclfwWlTF4NQlCUA4yscUIZggUBCXJgTAVXb7wAOEyfIUlSF6X0VYShBgOoBEAcBSA60b2LkEICjJeBx9H2C5lSCZC3+HQrzGiwfKJCxAu2IYdQ0YAf1yhaQoDLHBcHL4q8cOW7hfSsxcwahdQ4QA0NWipDCqI9O7K0P0AuCOKHg8BghlPRYReh0wzjFhBaEUwYY3vGBNcJW5-Q7hxwx-i3RLIJgQBWYLOpA12FtDyBYvW2M3BJTCx90mRd1Cph+EyAQRnKGpKbHk5AiiWvyakOwUSrQiLYsI5uPCNZhK8xa40QEdiM84JZcOPsZiv7H6BlwU4hbRUNrGZjNxdWBcY2FCKoAwj8RTnVkfbFZFFEwBClQHNVSFBFoOEHwCSph3FARwqAWwxOoNG2xDCRhpgnZD4NCohDyqxlWYSOXmHwCIhmgrDtoM0SXJsqf3XiIugYAuN+IBwvVB4LFF6iph3IxmIaKRLGjQoO1XiJaIlGxDjKodevjICTC1AsaQPL0XsB9F-c4kW8Z0VxCoDhBPOodGIH9wyFbI+24Yt6vJFzRA5qGYCSkKCAYShjdRro8-pd1Gq8RAuGDLOLqPV52ikgDoviDtRvAFijeioG8CWNrHoRmR9ok0TtW2g1jh2BEbaA2M7FoQwGf3cEP6I4AE8ARKefdpNlpGswZyeg0aoUwZG+1foZFOEn0FKTsxGAwgrqBuOcDcAA+oYgPgEK2zeZWx0FalNakZBljGArYpHozxjbiimQxYbcYmPhx+h9xUwn4ceKtS0ouOQ4wMfAKJG+dFa44kXJOKc4fjTxtKJceYF4BWU1BvUeMUsWyF4lKOy3AsZBJcBpQMRU47oGyG6DRwmc3mbuECDSg4gcJfgGEppzmHgRxw8WX6Px0MDpCZQwfIkKAngnrRGw3QRkO2PDFK4OimQ7oOEF46Jd+O3QPdpIFADHUAAEuqwYAABBcAOAHVYAAlY6pAAADy+rZAECACpGk4alY9hA+P2TwTF0OY7itBODiwSeoRkpEurwwkWTO+EgyrBePP4YTOgCJBydllVIuTMg+kyQYZIgqSTpJckhScpLUkaTPJkgMYRUB6j2SWBRZJydxQwmsiP0jEhgMxK+JOSye7k+gJ5FZGFC1c3ocQbFMMkXiTJUldkUyNBGy0rwuom6kbEBpqATAXgNcT5K6g1TLImcSgMZJiEbtdJagFqXFObFJAcxJmfdnEAyDBxcgDgP2IyAAAMDLb2DUEcjQVxpZXNGtr0YDUBBgF0FaZNNJGMgqeE05YdNNep4geJnGA6WaimlkBVStWRaRhi0HnwQhF0rXoQmoaQRjKWEcEF-ywjPTo+5UTaW9y1EQcxegQIzPdO1HUoxh2QcaWxO8y-S1pr0zaf5XhrLSOAq05MrFE2nJRyQ3sWkcHEcidA8kMglcKLR6G8CBUpQW6SjPMGbCxpaMl6ZjNTACpVEZw73hTI354yGABMtgHkluHkDROhQTmdzLyRkCh+sYUyH1CWw-ChZhM6GRwDQmKxOYoQWNEQnyFKi0qg0XGYEHxmyy3RKwU9D0NoxF5ba7QLeCEIfBvDv6pVMchvVYiAC0I22WUVYLGETVDKOY22SsCCgsBKJwYccHLVKBeiowctZoDLJ5n7DRh5ox8MxCwDQQ2MfQ1ukQM3B1gFho5YgDrLDkwxYUUXUOSLJIIPgdhgc4wLbIgaEkc5ivMXhENTE2JLKHCP4EDOQg6DSp+EgYaqMGFyiXZvgkUQ3OVGCh30sw+Ljy3YyPo6AX1CsaaIjnOChhMCXsYUFPDuynxoANjAbLjGnhyUgqPAJCE3krhpRcop2d4PGGKjOg7skmTMJlEDyqJGodmQ4FHlXi-BM8tuc7PNFTyUI0EVCPqPFnJiUs9cwwUfO6kP9KIA4CoErNSAfQ55gtB6cNMiCgAN5W8z2bHEHHeiRxAA14R0OAy8je2yQtgMfOto2jOI18-GmPKdF7hfwB490S-U9GIK1+LCK5D+IJ5BjTZWQQgMQvV5JUYx3QuMUwojEaj0FKsfkbvGoR1ymFiLEhWlTYX3S+24sTzpXL4U1zqAgi38EIu6kxAYFkIMRVhE4WgA58RY-MaSE874LcQV46sbrGHbVjSQjYooPosIUoTjFz46YO2LMX3zuaaVc-ggoDFILcFnBVGdqX6IISfhOQvinujNKCVxpOAlwG8BQTQS5kB0iCgUWiU5ULpB2aJYQNxEwc7QtEGGT72oWAFOgBM3wLGTHJJdiRBRdJfLJpqcREUWiA6XLLsq7jBp8bUAK+MKpSjvMKCHPF4v2kWw8q5g1INUGqW3ZGwliz8cVGlSWKrxtSzqUiXMVGh6AES+gq0qEBeKBZioRpWEOMqDLwJ6UdSLQqoUxBSg-49Wv2gR4o9qlZRCovMsYDRLaxgEyQBOLhHrKDUHhUaQFIYCKTrIAAGXVaaSFxmQeab6l6neMDpZ0EqUoqkpmTIpcEpyZ51smMSSYgKqyUkGckRTXJXis6DlS8kLg4V-kqSS8veWfLwpM4OySrDhXxSypIE1aV-L4yJSQJyUqKalPLAsSMpM83ouNJykgT4QlbKlXCK+mU8WVuUspR5ERTEq6lTcn4eVJBHqY+MB09NIDQqVeLqliLYVd1Mrb-KUV8K+pWA1HHNQ0Z2Pa8eTBFQTKhpMQzCYJG4piqqAEqpxTfUbgCp2RPbFWJSLhwFT+phk8ZV1Oyq1j5xgq8aWdFdWTLup1LP+iBIVmHKdV2PV0cathkDDWgxLIiZICDL+pz4gvK5CGpvH313hgYaNQ4B9nqhagnnDhFquDihqbx4azkX90zVk5mKLWJNYGtNgKyGoFk8UKxOSUA8uJB8SLrHkoSZDW1-Ki-GwMCDOqNpg6qKexyymSoI+pXBtXXK3H0AjZDQdiX4EZAWS6VuIFidOslS2zGwtHKcrgTXXGr-WekTlZiO6CZSipdAVlabDTU0t+AOIE9QZLPW5SIcWENddwHnFbrQZM4XdZyNuxxzQBRpD4MEGDgXTU2Fkvpc0oGEXjGQ4Ss8PQWiVMRT0k6x4E5OFpIYBhHEoEEurSlqqv6m6xIO+q8V7qAQctQ9VhO2BXIDp565uJesKBFQb1ZG3lWysfVZwDpL64pm+twIXSv1-8oOhGg8XmAuB+G4IAOpHWnqcRVStdVwqTH8axNo68-vxrXXCa71OVOTaOoU2+Sx1UEf9f2t3XAbGJqm1EP0u8x-xCpd6wieJOxVBSlJKk9SeACYjPKLNIU6zeeKu6jqWN6aIzQOu+zpqXA4IDEDZ2KK+opN400DRpr7WAaVpOm4dbBublUh3NgKxkM8teUfKbN5IBLbiq+U-TxprmxuLFu9W3YgoPmrwH5t41hL6AbUfAL0pOimAj0Naukckv3qVbBkpW1GCwrjqsi-u7UcrUQkawNa0kdAcGERnJoprEeuGBrdvD63NaUIkOGrdiJMw0agCIgEmkNpR6MUOt1Qa9gtOIBEwJksqEtUGtNVkqKpFq1cB6MNgxzFQbnJbRTEJjEwVYOqrvo4oppjiblwEuEWA1sBkQFY1ytgS9sxH6jX5-HGWJNqKDTbBI00ObST0W3TojlIrX2ptuJjrbN00U2jmUPaHZ1p0tMw9l8Caq7EO2h9XdkoM4h79zeeqHbUas5GTggoZqyqVSOmAnbjIvUEwPwHPiaRmAJQ6eLrRe5UdXRUy5JpWH8ERNOxp9PnQvMhzXIaBLgXiOAsDSk0Y5-2woOCCJ0H9V+YswpF9tuW-bRFtqb5VguMgg7cYc2xXSvzPiQ6awxMaHYxUN2H9dBDLRsDcGD4WNeYjIAAJwnBvYDuy9NSohEs1tCPEUOMauoZ+w90hmZDZ0Of4pK90s6u2a8IHAuARyM0kPYUHd36BgewPKyGgHT1UaA6lEeOTECT00io5Kwd3f7pDybh2RbhGBC4B8i-EJM3w2IEXvZEl7GO51e3b7t5gKyclvMfJfjk4QAbdtta7iiDrB3XqgCbAXJV3oYpWRLth3UfZ3rbLnhflauY-tDuSlFQTwZAX+BwglZgaqQrQRkMXweTMBg+x-eMTz2qBFREORwGnnBvfRBxSAG+4Vos3UgcJ2qOkEPUnvBDeQfIx-BpTeJJHn6XkiTBECLrr2t6KYX3UNccEXldYWIA4XdWwI4HswxB-MVoJHp1xiCBNpAITcptPWnKKYKBr+gOFv336L0j+iSM-oXhSEc9wUQwKYwpgf7P9PkNdYICQOiAGD3kfyFAZQVsR7ZDQd-WwZ8jY8hoBqbuPwcAO2z691Km1WSqO1Xg6ddccAzeJp0uwWdYhUoYmu50GBhdyFRuJTlrGXakeYBJ7d9uNX6AZYFhX9TpLfprjDAjkaPGfv4CRqd9e+m8YH0P1l8Fee3ewwIGJqX6o5z9e+KZv0OtBDDn+ICSYbMN5aOi+pJKkNSTHggHI51SsSnjDHMBZI0ELnvDx1UqG2dEyYI0wxiMwJOK-O9NJTjF5gxOtlcFIP1uq2ta9t0Ax2hqRRj4xKjr0ZrYSN+gxjSRpcYOA6sJxQ6dVuGJoxDCGNEYydQaoHYUHnHlHeljWEY2dDmNSoPtBEPXfruH1E9J9-R1NRHCqOdbr2S+nVcDw3H6BnxAAHSwBiaZ2KseAzIGCBOdAdqTTZrCjQip7FC6+yyuQxOD7HFDhxhyccfhxnGLjSspgOwJuM-d4xo1XgCeBgQ9AsIkJ0AAAC8Q2oAM40UDtXAmSUtxoow8YRMIdnYLx8EEQfeM1RUIM0Kw0IBsPR5Djlx9E6Cac4dNuA2SkmiwBJrKASaBPSYMDzTB4AvjiPKk0CeuOYn6TGvCEOQCZMsm2TNPfE-5CAA')">function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave_delayed(
              evaluate_query(first_disjunct(disjuncts), frame_stream),
	      () => disjoin(rest_disjuncts(disjuncts),
	                    frame_stream));
}
put("or", "evaluate_query", disjoin);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p13' class='permalink'></a><p>
      The predicates and selectors for the syntax of conjuncts and disjuncts
      are given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    
      <div class='permalink'>
        <a name='h5' class='permalink'></a><h2>
    
      Filters
    </h2></div>

    <div class='permalink'>
<a name='p14' class='permalink'></a><p>
      
      
	<span style="color:green">
	  <kbd>Not</kbd> is
	</span>
	<span style="color:blue">
	  Queries formed with <kbd>not</kbd> are
	</span>
      
      handled by the method outlined in
      section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  We attempt to extend
      each frame in the input stream to satisfy the query being negated, and we
      include a given frame in the output stream only if it cannot be extended.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (negate operands frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (stream-null? (qeval (negated-query operands)
                              (singleton-stream frame)))
         (singleton-stream frame)
         the-empty-stream))
   frame-stream))

(put 'not 'qeval negate)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyPkCcgFAYDQSBEBgKjYchfFqIw2U67ragYQxSSouJ40DFI0gyf88SmGYuMjQbhGG4knhXZosLmPrrHw1cnkBAA+alKEa5rWuIdqBp6wYGv6ZqiLmva9JeoprqGkb+XODiPOqLRSA4chK2IDqlpuvruHelbPrGoKpvSTIdpXUoodW9aVk2jchn6W6nuMwoDoBY6-rIQHgdBrrwdRkanme16YkJ467qahCdq+2qCxOs6GBkLrKBubFkW4MJYYmlxeaoLRGGZhQjFO+6GAF-QhepdmfvMCXKCl4b5aauWzqE8aEkm1IEf-XXBOR0AzY20ASYB-pyah-R8e2mXdvxxnQE17WZf1hWiItyY0wi9WXEMaoxA4Shsr9gAPQ2gqwuPuC9s2Q5wPAw8Mb35CUKA4EQZB0DxNA8Q5zjiFwqhiH0XIFEIehLsobhLsrIS4dSEF-s6OvFEbmo6Eoeb5OBage4XXDa-rgfm5HlS7dNprp-7puh-nooFPwDEsWG3wFBYfBJ4Yox98Phd8BkNJl77hu1+H1u6Hb5TmimiplC6sr6Fv2f1+U0oq4-Hfp-LKdAf730fs-Z0r9UgWmoGIOgChm7gMHsPf+LRTwtTcPAxByCZ4QJaE-DeqxF4MDeNxVEvd8GoOIbEABmDyHj2cFQ1eqDIG0JiDAhgXUD7CHIAwYgcdCCBGwd-ahc90EJRBmHLcTUWB8IYOuCgSD-qGBQXPOm9NgRyIUYfYQvh1Hr3YS-Uhxh2iXWUCvO+ND0GAIXGY2sjha4OIsSDD4NckFDzUeIoxhCoGKi4ewDwXhDFoOdPQn4QTlAhJ8S3PxHDQBcJEjrDxeDWESPCRgn4yT3FaE8WCWJxjoGkNaiCbkqJQkJNKKUgxdiOhaGVpcWKgjhHEFEWA2Ju14maNjNuGcl8GBTzUeQUgYgBFCJERHeg3j0m+LbpMExZlgihKsrZeyTlw6+CHuQOOXkfJ1JrjVUOTSPI1MaXQbgIyxAi1fAOKawjqAKCYeTGRyJJhjRiEFGpijSCPOedIk538VZXLCGGCi+o7mpHweUHmgKwFvMNjEd8bSMjFQOQ0sODA9EGLeT0rRMRBFSxWm3A89B8ku3xbGTFSjl6qPOR7SlfoQV4sZXmOFAin6ktwUPelj5YidwYMkqeowaRsDCbGUoQqGJkPoFLMEIjUUJNiM0McGowXPmjIaJZm4VY2Tsg5Zy3s4Xsl8CQPZghCCEDYL4GqOYzgVw8n0hgAyhn6BaYYdhHygpKyuUdLJZ4a76Cuew1uQjQX2qwGHf1MqRBMPoCw6xzdPVQQFadfgqhanVwaYwyhC5WncXKVY3+D94lKoiQG7N9AKHMIXJSNojiCmzJLfM4ypks0r1jbmlqYqyB0HcsDSp7DwoOvMHY4a9bXFywUJQD18SxqQoEQ3SguIXFOKnTO95UE4zG1VOBccAUNV22FPoKaXUPgpLycgj406JgfOmEFdFtcqikHPbk4g5Lr0bs4PMg9kYXwrkbM+19-MZxT0ZPjR9ysDzAdSTyz9YRv1EKYoKY9U0pVnifdBmcn7BkMU3fjIKQHsMgdwxh5DOZD1bvvWLaNq7LEUrQiI4jsGZ3roQz+lcbEI1RqdQMhwcCEG9T7Ugm55JvUaH0AwP1UJ+PYME8IOE3BhNtIzpG41hhuSMHwPwUGH8RmgJmYm9e87UOpDo0W+++GGzTIEPBxk5mL3vuboZ4tQFqM7tIe+zQK6J1rvg0qko1sZr42VRatqt1NPOp08A-TqI1FEccx+kDEwWVoQ00IKLM4Ytf3eAx1loApHjvMWupjiXnNseDm58ilGVwCuy6Ayp+MFKgn0PV2Khgz5H0qQF5oZsArceNWOqJMSm3JvJI2bFjJhtYvwPoypTFGzdj1PZyL2mssmBAXF-Q2KqsqBs9KATGoc5Al41fWTEd5O3m5HqXbD723bdmz0Qll1iWcvkNysES2PUhfyw0c7ODaizp+79wo8zVNRrHTk5gl6eWFLnSmmjhX0O1jy7GSDySWmTOcIO0tw61N1VHZgw75K4fzLGo2MDQJIPE+bqR2s4zWntJxxxwoh294HyPnT2uNOh7s-PjjqeQ6xM0annjiHmC2vY9J0QsabOOsc+Phh1rG3YvlXl-zzpeLIOS+ylPBnWOxFNq6fMrXSGI1ZzhTnOQigIAwHgEgVAZc0DEhHckLu483JZE6aLDz8NeAHzIJUmIAAfYPxkpoNUjkH0Aofw+pEPkffoHSjcx7D36P3iNvexFj+n1IqreqdOHTxj3FBFco+9xEQowuPOxLF8aqazAxASBWn09dOw+j3DEInGj9ysafvCAAMgH70HG67wjiXZB3xvdeCdu+vkgoPCPfepEb837hLW4fgmU0c-HnN1ec4Gcpxf1eEzbRvJ08HxrCs87BJHugYhQ2M6mXQbvHnW-ghv+CYWp1I6P4Ny-ovevWBOTD7Y-bdBMBvcgJvIaVvTfT-DOKNG-PnLrCvE-QMM-JMbGEYc-I3YOQA2fJkHBfJLnfXNpZ-MA-lGjDAu0HAozYedmXfTiN+FXHLMfH3CAlfKAtfVvT9KyY0IQdbPTHLeEVPOPTvbglrXg0AcEasX5cUXTTbZwEQ2Pb6Y1HXaWTrc2adDuKg0fG8agrQ+gtWNQlg0BEgzHMg7HfvKiIKAw-QQObQhgqNU9HRfhCwpnaw18VNLgmAyQkDKyHheRNwiZSw+gHfHjVwxRfTFRMgNRTw5YcTbEffC+K+ZTbgOw-vYwggwI3RR7Ngrw3Q7AzAhwowmfTmNDMWMrODEDHQ5fcQ3wncKQ8EKHFjcI41DHEIjwmomwwowYEopwoAmNateNQw1-Dg+olvPw6dPgqtONPtBcdw5-ZQtPZ0SA6AyYxo-w6QnNGtKonSBA41HYkYn5WoagQtfIhImjJ1QIGQNvUAOafAzmI4+YmNVdW-bogot-UEQVSoO40kR4ziZ4n4Tof6PtGgAdeIygr489G4u4nQS-AgiPXzejSEz5HvTg9Y9fTY6Y6Q8zNoggwrczCrHo6EsEcEPE7-G9A4gghzN9fJOIj42IS4jzDImo6kzmBLOkq9ZLWo0-UffzAEjyUrLkrxYkz4hMEo8NVQxE1ILzZdIrRxFEnkkk8Ys2CrQU8wFwmDGHd4qklUk2aaRGSUgYmUrFLkEJVEtEuo1fBo3UuJcEYbfEzmabbFC48A9AvQzAzIsopg2BS1MpBrS07wzEngrYj-f0s40BJ0ziTFRYqwj45kvkoou0b0+1RA0ZUg9pBk7Q-UlwOw-ohgi3WfK3POW3QuB3EuSwV3UhNNWuBOdgg0hPQGMBes4yUoXZCfWs0AVtFoUgcyfQFOaQpspPFoIREwLQYQAIEwYgagYGYQRoHfRgjyQrGRGlGIl9bgbFMbd0tEFrcEaFdqMOL-YHHgaIyQWIzcx7IXaU8oqFVeGFV5MYg0m0jYsEGQGYu+B8uFaMjyalM8ulGQJ83cmE3498+49kmM9lV0wChs4CmcWEsC-4tM41WMt7MlZBGCpfBMa40C7geEn05c24EGZHDtOVICseHcZoyoqeL-PbIeOeDUufEi-QKecitYiQncQXaQkin88wEimNOVFivDWCkfZMrIVihEzmCxL4COe-DlSsLlclMnLCwMG8DjG8mMrDHmZRWuZStAvM0fdSpc0dRwGSkGFgHFHS5NKvHc08g8ZWKy+JYdRsSgDvOU3EEld7fJRkPraslcnS0+BXWdIZcirCZI4KhiKU4y8WHS5AvUBy5eZ4GyqEpMwYOQRKxi3OZeLneLHSpKpk2ym8dKpBSSyuOOIleSxSq9TQiKvUTc9YEGPS2yjge-VywK8+EWCfFqsQNq08JYP0UoLCfym+cK+iG7eq4weSpVZobqtq8K8IAAHmBEuh6tUCEpuxCwAT7OWXBAABVt4CshBfBBBRl-dnMmwIzahmhwRQAABqbsrRO-MQIUAxeau66Qqyd6k8ooJ6l69aiYELUybazcPag6mQYgRyE6sQM6rxC6q1agK66Qr6x6n-e-P6t6+62im6+676woX6mQAxPqk0zmPKOKrndqo+bc2ICHJ+bhbebEJq6YKNdLMBUaqsToUTWMAVNU+a3G-SPxOmogVHV6aS-AWSsZTy9CnlMHPm5oZIkcUS26GqgLRUWYUfImvmzhakTTewr05Wm0O0Im3bQoFiFDAwNuBW1yxqpdDytCj7RFaYbVCmtgVZOgQ+coa2ZeW1bUGrWMQDHSxkBLYq3Ss3LmmjFmhKpBOK3KxK1LK8YOnKyOh8cjcickQKGjNuQWhms3Y5AguXTQ8m5IsaqmtlAgzO9EbO9uO9UuvfHWtmom6u-0dEw0-8ZWk8gBWmiu4WtCUW8Wyqry5BGWgiOWzQhWt2Nul6UoeCbaPqsalWpobWoQXWlM-Wv8f6vlE2h6-sY9C2zstym2-uqW4eRu0HYG521292kQT2pBc1eAlO0AcFTVP2-bYOwOrS4Ot1UOv0IKCOhO8KpOhlSlBO11YOjeu1E2-SgWruoy6QI1Ys3OG3Aue3YuJ3bAaK0hB5J5cEgFWfelXMmsnw1885KyTB-5XilwUh7BhgR5K1JzbZCpN5fBuwhFPHQqX5LB2cnBgsY7CisEdMd-OYWi2IOYVcQBood-DkIRmIDkURnpd-DCKRuy0gWR-hvcvpRRvpFR6Yd-DPNgWi3R50MRwod-biQwK1bqWi0x8x46xUIx2Id-bVKR7VWMOxmId-G4VylqFgQwL-Dx1QLxnOFYVx3hiEW6xR2IAc7gXwcfY6XZe6mx4J9-TycJhmQc6Jv1XZHyBJuRvcxTaYSJ0AdJomUAXZSEQpmIRJvc4AFJgwNJmJkp0AMAbJ1RyigAUhqYKaKdidAFafKdAEqcovEnCc6fqY7KlGiZycooAEJJRhm6mMnQAZmgQJmWmySFqOn5nindklqYgVntG9yFqAQUmRmFnDndmBmyTDoNmonRnQBjpznJnLmjnuAigTmtm7mgRCmLmIQpmamGnChimYgpnYgE50wCp9tKHOHYVZ9o7AQVwlY5huBIWXlLdwX3gBBkWuHYp8AWAAArcc47eFiTZEP1eR9hsh9Iz0u0BFYJooTF6F7htMSKCF8lqh-g2Gk7Frd-fPYQWinl2l1ld-SAOgb0ceG1F54V0V5dAVxldxqgfx2ASAKRvxhgRVmVylOVzxgAUUUZVa1fVfxXfwADlyAjWamTWjX56Xo0WqR6X2XsMaq4WVglZhRintpAKkXWWoX7Xw02G-k2WbMBCcqnXpgXW-VmGLweAvXyYfWmXED-TcR6XXkHBLlRk+lyLvlqgGA1QAZfBI4GBcWgZ1hlBflNBu7nR6WaGOB8kGtcUTyrl02jgigBsaT4xCBD7QDyLnt2pJbQDgcLoRB9Ak32U2bNa1xo2QZ7Xo6DXYgB3Bhh2YWcX8XTAgd8U7XA3ecQq47CgrbF1vMO38lVNo5J8QYo4cWfhe3vKgRpxd5L3kEmWizuGEH847ci5HdMBqy3hTpyBTAGBzEPhyobhSAQlZDqBewRK-cA9Nw7DQOSJaE1axLl7xKRkwO-hg53rwQGBsauZI4-qYOUO4PbZ8O5C0OIKPJ64bhx0aUJz9ZI5OaUrAwf3lB-cMhA0jBLllBlB6mc57qg1OOFbwQbrShBPEkPqkb7qmOZ3FRBPv9fl78oqo0HAlFjBaP79U3rl1Ps26BlO6wIhoJIGnqMOIR3qKP+FjBqPeofUMylORljB1Pb1MbrBwRMqbOX0QZ-pZYrk2LTYZog1Rl4PpCzZdITJSFW8vPQAh9lIT0fOjTMCvPwhQ9FakO-Ou9wglnpDih4QrYsDBhwuJ9wRMu2y6Lv3f3-3YogOQkvOezouWoIzylsdwvIvVx4Yb5YzOjyD4uy1pDjP7rXPJqPOcuUvhl-P3kcbVwbrsPkjnVUjWv2U4zv54vkbYwJv3q+v3OyBZY7CQUUvKs7qQt4RguAlpQdPcpQRaLg1jvbP1vSBBJaEuEsIquVhSg1uIQFHuBW9tovODash4vuA1umANu7vTFUaxAdurZwQABybD31TGqH22fGgxLzlz7Tq7v92sUgAxcxDH7zlugSd9FgQPbaLHvZwVvcoQXlqyYILGhyHSKyC0YsLG0gDIYgeEBZJ7y7tzwb4nrpG8bnv7lHtzgHm7oHl7on9HiZtevnjnya7ngi8wQt6sDTUt0DaVYRDwMgt1IRHH0pSMipFpAL9-HX+rsI7gNrp-bHfX7d2IJWBX4t5XkgtXyxNwezzXwgYOW2FrhffXq2d-TL4WAuw-G+fXoHlpOXlwYnvebZOOH5dXtwV3w2BdI3hrYPu9QDEd0eoEFcKbwPhfM3--eP42ui21+QJ34wFaEFeKCTCPjrKPmP0vl34P8jQjdPhXAThRq2LaUfR3sgoaEFLpOw7vtwXv0ZCYIHzFeW-L9Rjvkvnv8vkf22cfjP9SW3pX6gTQLnQ7zeJR85AsOKq3mIG3ot1f9fvXQf2dbb4PoHrCRfhXT12PsvlqEf3bR+o9AwT33SrXh2oKX32i7Pmbr3z-r+kohUYH0QifrLnU5jLoSA8fCDqkCwje92e20BASFydotJXa6yQ1PNxcBQCWeZHcwF+3Kz69YBUReysgIWhqUtetsVAUInQEGoXAWA4rs5kXKIEh+2kcqDHCxQgwBgFQQYEQJUrYDTUH-N3gJ3p7VRMq3ArBFpFiiuk+BkDbaAQNFKN8W2nMQrCwGqDcR78QlEjkuHZoYZQqWMWDshF0HnhMqag2NHJUMGPAzBGgrvCJW2jWDI4eAlwA4IsEnwXBtg-gWvXcFODQA7g6howA-qWCuAWVEqiJTbCeAghpvPKplW7aDBIhxg4IaAxEpDUiKWKdQVHniGsUohGVZQb6VwybhZBtldiraVd5WRMupVX6OiwEJgcGkaAkIcEIcCX0VoshBgOoBEAcBSAhsKNLkEIC1ItejdBdLIQL4n1YgE2dIffimzjCxkWbD+nUNAb31bK7ghWjy3brSgmh+Q1oeTw6GlD6hVrUTj0IMR+DhU3gwvtVj-T-AF08Az-iMKtIJgsIBwwbsH24APCKBbvMBmcOAEEYM6YAzjGnUgYPD9eYfUchVSFCvFQQyCeIXwjiRJCoIYw8wWIEmHwj-B2lG+PEPmGQMlhE+FYez1iFaDUOOgqEdkJKq2xeIoJRWKFDWpHC3BUwrpISN2FAjSRvackXxDWq8RIYVAIkbp0gav18uMgJMLUBurg8+RewAUVQPaC9w2RXEKgOECtiv0YgHvVIEMN4gyicR5VF7NQyviUhwRPKSUXSNAYKiSBmEaURF2Hy957KUIgLoyKSDMj+IN4ZUfv2dA3gLRDoxUFaMYAeN+I20e0WOz0jbRnRPogiKAyB7ghhRHAXlkCLUAmAvALURgKIIqRxjnA3ACPpKIj4wjxs+2D0f4wVRipGQbom0WtWTEcimQxYRMVvRByKhUx0QyBpmJ+Kip0o6kUMaKPZ42wMY1ISONHFjgWwBIFI2sYqiBG8BJq6gwREO2NGeCI8IPQbsqIqHmA0oOsM6DiDZDdBRosI-bDwzSgLiywvgJCrZWOxgRgw44fmmbFE6GAgRQ46PkSEvgjjj6K49FqAG6CMgvR0opiAKiGHdBwgwnTLqJ26B45j2u1AABJasGAAAQXADgAtWAAJV2qQAAA8ka2QBAhfK6DcGiyMkEljpkV40EpyPIoDiQYZ4jCb2gC6zizxvfVgVtjdFA9ZxnQBcAmOmSZVKJmQVCWwPQnkV-xgEkCWBMgkwS4JdEyQP4IqBxwSJUg5wGonIkiVZxfsM8QwAvG3FyJdPUic4E8gyxmBKFdQYxLImSxe0WEkSjLB5h8wlYP2KEf7iOjfVIx0SGMWpOxyGTLIp5LWJpN2H79kJagCyehLdFYSj2kgOIMzxlQOB-ojIAAAwnB0GNQRyIKi8lJ9Yo1AQYInC8m5AfJ2gIEEzw4DeT6Kyje6niGfE0ZEpk7bTClMyqFZgp+Q-EbXHiFZTau8NY3owEin6D7KBXWilhFKnhTyokU77niLg5AjAgymQqeKFSDVBsgzPQ2O+DCl1czCkUnyhDVClJTGp2USKclHJBRp5YIMRyJ0BCSFD3M4xIYUQKayHU7gBUoITsIanDSIpqYfGPdyxhkDVa2-BaQwCWlsAQkSAz-i6NiBXSbpISV4e71jCmQfhEDQqoEEWnLS+pHAacS4AqDhZUg38OoWiLypjR5pv066f9K5ErBBhIyN1FZnTw71xRyHbQcEIfA3Cm6HmWsgsIoznDcZrwfbCwERE2DkRswrCYTOEg0ZyZWIvdBqE1qlA+RUYTWs0Gen-SqRSuFgO8NYhYBoIL-KjHTLqLwCVRaEUoFzNumPD3kiXaWa9MwIPgTyzQNmcYHvpcYfpxAP6TLMBG5CPIsQjUYojFoRw-grUowaeC0k3iqQmI3wVMKpkBVIZOQs2ttimGLM9x6oeUI3SCgOAXq+Y12UiOOE0juAAYooJbPpFliH6h6JGZuFPCbp8UeASEEnIAxky3ZQIPwTMMdmdAaZtWemW7PS7YiBq0oP2ZmPNlLhQ5MQHmSjm8EoRoIqEfUR9OBEvYy5wQ8OeiM3rEyBwIMl7GDLAThynZJVJKonOTkrAgoIY-keGLTq+01pgYXEZkOzn0i-hEAziL7IJr+zCAe4X8GmNso8iGxE8zfoFnHkijeWYojoFkA3lItSQsonSgaKVFzRI5gWQ2aCMbjYIzZF8ngFvLyq3zkZhAUaFbCflXwX5psx4L-KRZsgkhjTMAEnMhAGisIG8wfKaLgFYxf5AXVebiFLl2i8Y+KO0aSEelFA0F-sr0VgvLGFAvRuCiuYqCDG2wj5YY5zvrM1KpAspcsFjDjxfJYl3iLGKyFlPIZ0UP4A47HFlPIp2FBFPg0qa6UEXEC1SN4WiP1LZ6jxDebAJab4BXxM9cBRHKllkBkWAzianEb5PwiYVZSkx4vKIrZKSBGKyAuIbeaMP2wfwk8E0iUONE6lBCepYCQRQtn2wELsxxUELAQtLmFjTFFyCuW8D4XkFbFGWQRXgumCVjnZDHXdH7K8UCdGxJ85scFlbGPo0eFigGeZTyJhLGAESk8uLQ7HSwuxnilFGKgYK-iAJDAcCdZAAAyWreCUFkyCBSo0jkrMczxEkaSzFuwkSjhL4nDjyJVsIiTKAEkrQspnSgJRRN4lUT7FaiHwfRIXDjKDong1idUrqUNKeJM4YiWMo6X4Skg5FHSXO3LbTBxJXYySdJL2Uv5IlDQZosz0UkWx4Q+-U5fONqlcK7lSknRacgTazLLlVsgzhbF0lUB9JV4LKX6m+p6L7FWSpFl0ouT2SfsbSn5a5N2FAy2xDcJKcT30D+LMJ9QucfdAOUArNYwKpmgHWKb4xDllqdUc7BPLehy+8k9CVirsmgMXRXsb5EsoZXdKgxeKP+kHCBHpKMVxPTkbiqagDT9srQElkCHXE4DMV4vLpOCD5Xi9vatwwMGKocDLCmZtQK2BHDRUgx+V4vQVe7Ftgqrk89FUUlL25UGxTxLi-ieKCvE48nqk46UQl2DykIhhj4+gkCI+DBAuBdKyqb6v4lBofVCfUzP0rjg2qaJL+B2kin2z3igQ5y8sJePDWnCi+AgZjn2VpzhqhVYkTWs8vug4g5JQk+gPcrOiKq6W-APNdIXDVFr7ox5WMA9x9Wpx6mqajqTOAzXuxn+081OhpXqgxxAg9i5EXhIkXWyMWMKxkMErPDkE3F5IBdGeJtXkTI1yau8X4EZBxrcQl48iffUbBNracpUmWCGxeg5q9Y3QN5RwCrVNQS1hQIqOWtuUnqlJ27eqczwbV+ot1vOHdUHHbXEyoI5wZeacmEA7KkpwQZyWAkTXECmFwGq2BINA2BrbYEg8NQGoLUAFkKedX9YBrg1oSX8Y0T1b2ozVZs8Jia9xbeKPi0r4NPDVZexIglQTYJ4AJiKRtAnkauJjSutfBsfXFNCNgG8NLZXBAYg6FXa8wBBuZ5ZLDYmG4il5Jw0jKBN+GqkKxvGWMhVlNS+pVRvJCyb1lDGrGIYoMD1MpNHS27DRk41eBuN1ZKaO5RjS4s4Urvejkqrnxql3UPghLG8BM0ogzNQiwymGlEVtIZwdmppGoms0iVXhCnQYkZtMb2aCwjmyRb52s2ZUEsgWppCFs8H3TCAfmggqVii0ogvNLmnzUrJc2ZUagYgGuCtAxXebYtzm+LSirs34BepHmlLfqqDjECjNFW4LXVo3TXzsqMsW2KVt6mlYGtMyOgEFq-S415VmS2zfQB619xutnmj2GRHxTmq8VqmS9R-hEBY1+tGPWim1oQ3oNAtZWsBMlpXZVaDYNWg+ltoqQHb+qo8FsSF3thkwQYVKq8ItpxRaUDtrWFID1oQw4r3YKEBoF7HW3ta3NHUR7Z5oe2GAnt42+mFNuFUZxZtVPKyDdssaPaNtcbQbAJOY61D+hngyDHUN3ZnsWAF7O2oeyBEr8S2a-FXkrmZQvbqtMYH+gSr0kSZjIPIw6MZEEQmB+AtcTSMwCHg1Da4Y7T7k-05HXKDAlYU3jEwDFO0+dD8xlHqgwEUMqA7NZRt5HE6Cy65RQcEHjvt40V3pmSQpZIE7HziG5xSM2HHRB2CRh0s2pXQTo36Q720GSpbdwGN0n88MgUxsDcGj5WNKYjIAAJwnAo0Tu7qJmqMBdC1CPESmJmuob-Q5YSmedQuh5r0FG6L-AcC4Anx+T51hQT3QYgh4Q8rIaAdPeeqJmfDYwSewbh8H5mJ7-dXunSSXn9gsxA4XSFwD5AeK-DvpsQJPYHtL2zoHdP2sxpTBRWdAlFKilHDgi9U7a8VIlfXYbrLUf5FF3UbvSzzN01ga4Fu8VoIDH3KKmAqiuHQQTP6z6T02nfgCeDICHwI40rcnKKsZDV8tkzAaPmfxHGc9qgRUDDkcFZ5MQBwwMUgLvrFbuyJIEcFqvsUbq57wQ3kHyGf1ADE87Ym+gQHsmSYIgRdMQXPf935XHAo5H6liAOAzUcCCeLUX9b1FaCoyGgfG-9aQBQ0wafVM2ObBgaTUP6d9YtF-el3JIiih4IhEWW9CL0GIf9v+nyOGsEBoHRAzB7yP5DgPAC2IHa+g23u6gQhODPkQA14pzgiGwD99BvX7DJUAqiV8dElbTvpjQHxexygiMzuqGBpWg3O3nfzr9TtwpOBKc3fyuFjtiNdxS+cenDwJLzqyCWIQIYEciB4r9-AEVbeNaBH7jFNfU-XXw14ncXDAgTGrfr5T+1l4PDG7ZirMP34il3u6wxlLqJqlg6x2haFvnwCHUWRkcKUcwFkjQQVUAvGXmoc0Os7tDlLEYEka6QsV9DxTQw0COy2Bpid+u-FdzEJVU7FDy8YyRNqKC6M3UJhtQ3UYnLr6++PO50OrpjiWHc1QY2wJ0cCyjHNdExr+fLt6wzQ3tRQRo8PrJI08FtvRixbRX6OMQcAa+jFRDzjH6BfsAAHSwCgaKV7UDgTIGCCyxddhTG5u8jQip7pCj+3fbgJOCHG1Dxx0iacfywXGrj4WJgPgB5j3GRx9lXgCeC6Q9AsI0J0AAAC9I2oAC40UDnagnwTN3So08aRPocXobxmQmQeMA1RUIkaLSg4acObhjj1xlaLcYhNpN3uZPLGiwCxrKAsavLSYBDzTB4AfjmSmkyCfpPYnGTITD-CybZMcnWehJ-yEAA')">function negate(args, frame_stream) {
    return stream_flatmap(
              frame =>
	         is_null(evaluate_query(negated_query(args),
                               singleton_stream(frame)))
	         ? singleton_stream(frame)
		 : null,
	      frame_stream);
}
put("not", "evaluate_query", negate);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p15' class='permalink'></a><p>
      
      
	<span style="color:green"><kbd>Lisp-value</kbd></span>
	<span style="color:blue">
	  The function
	  <kbd>javascript_value</kbd>
	</span>
      
      is a filter similar to <kbd>not</kbd>.  Each frame in
      the stream is used to instantiate the variables in the pattern, the
      indicated predicate is applied, and the frames for which the predicate
      returns false are filtered out of the input stream.  An error results
      if there are unbound pattern variables.
      
	
        
	<table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (lisp-value call frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (execute
          (instantiate
           call
           frame
           (lambda (v f)
             (error "Unknown pat var - - LISP-VALUE" v))))
              (singleton-stream frame)
              the-empty-stream))
        frame-stream))

        (put 'lisp-value 'qeval lisp-value)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyPkCcgFAYDQSBEBgKjYchfFqIw2U67ragYQxSSouJ40DFI0gyf88SmGYuMjQbhGG4knhXZosLmPrrHw1cnkBAA+alKEa5rWuIdqBp6wYGv6ZqiLmva9JeoprqGkb+XODiPOqLRSA4chK2IDqlpuvruHelbPrGoKpvSTIdpXUoodW9aVk2jchn6W6nuMwoDoBY6-rIQHgdBrrwdRkanme16YkJ467qahCdq+2qCxOs6GBkLrKBubFkW4MJYYmlxeaoLRGGZhQjFO+6GAF-QhepdmfvMCXKCl4b5aauWzqE8aEkm1IEf-XXBOR0AzY20ASYB-pyah-R8e2mXdvxxnQE17WZf1hWiItyY0wivB1feb35CUKA4EQZB0DxNA8Q5zjiFwqhiH0XIFEIehLsobhLsrIS4dSEF-s6LPFFzmo6Eoeb5OBagK4XXDM+zmv84blS7dNpr2+rvO6+7ooFPwDEsWG3wFBYfBW4Yoxp9nhd8BkNJ+6rnOh-rwu6GL5TmimiplC6sr6E3zvh+U0o05+Y-T6yugL+33f9+dQ-UgtagxDoBR8+f2u9dr4tFPC1Nw39f7-w7i-Foe8R6rF7gwN43FUSV2gYA+BsQb6gOQc3ZwaDB6ANfpgmIH8GBdRnsIcgDBiAAA9CCBHAefdBXdgEJRBuHLcTUWBUIYOuCgf9-qGAAV3Om9NgTcN4bPYQvgRHD2IQfRBxh2iXWUAPLeGDgG3wXMo2sjhM66NUSDD4Gc-512ESw+RsC36KjIewDwXg5FAOdNgn49jlCOMsQXaxJDQBkJEjrUxUDCGsJcSAn4ASTFaDMWCLxCj36INaiCbkqInG+NKEk2R2iOhaGVpcWKdCGHECYU-Lxu0fFiNjNuGcq8GBt2EeQUgYgaH0MYYYZwFiQlWKLpMRRZlghOKsrZeyTkXCGF8HXcgtCvI+WyRnGqEVw6CEIIQNgsiVaNLECLV8A4poMOoAoPB5NOHIkmGNGIQVMl8NIAco5HD8nODyXQbgmywhhgovqXZqRoHlB5g88+pzDYxHfMUjIxU5m5PDgwaR6yHAe3EYqOhUsVpFwPPQGJLsEWxihfw-uQinnwqxc6V5lSiWxChai+QkC64EsfLEUuDAAlt1GDSNgzjYylCZQxJB9ApZgkYWC3xsRmhjg1O8580ZDT9M3CrGydkHLOW9v8lwlBfAkBmcs1Zvgao5jOCnDy1SGC1PqfoQphhiHnKCkrTZR1wlngzvoTZxDC70LeXqrASztE8pEHg+gBCNH5wtVBBlp1+CqCyenXJuDUELiKdxFJ6jL47x8UK1x9qo30BQfghclI2h6NiV05NPTjKmUjQPH1MaWpsrIHQdywM0nEPCvq8wXrDH6LlgoSg5qfFjS+TQnOqrhp5qMR2rtZyoJxmNqqcC44AoSrtsKfQU0uofECdE-+HxO0THOdMIKELM5VFIKuqJxAMWbrHZwHpc7IwvhXI2Q9x7+YzjboyfG+7lYHkfUEml56wiXrgUxQUi6ppcrPAez9M5z11IYuO-GQUH2QafdBsDgGczzonbusWdqh0qPbfjOMX713mNHX+q9K42LuqWYa2pDgv4-16rWv+2zyRWo0PoBgtqoS0fAfR4QcJuCMeKSHZtYzuSMHwPwUGJ9GmP06QG4evbgOpDbWotJQLYiNl-YyFTxjmBEa7Wk1DFysNTVPZoXEOmSNCpKNbGa+HSGasurdMTRrJP3xk6iYRCG12no3U+iYpKCKGBcxJmc7mz7vExWSmI7CcN6NU4wxD36DO-uDkBNDN7JUrAZeFx+aT8YKVBPoXLsVxkzznmp-GzQzYBUo8q7D7jPGFqDeSRsMLGSNehfgGRhnWv0CpN2PU2mQtuZMA-Tz+gYXpeBf1gQ3H2m8cMIyaja95sQN6oNt1k6EzvphS65FNC95oupWCTbgXovOjW4t7g9mLuFB6cJj19WvWRL075mlcSe3Bqw7F0DtYournfQEwpbTHllOIY9z1oC6MncGV9vr7wBAvqBO+mHMTkO1haUUkpDafFMRh1Pcr88wOOp4ydwny9cdt0bSxrDbcm1Pbqi20BJWwfNfh4UAnZXl4Y8zqz7K3OKvg5XO+-njA25Y9B8wwt5SemkrI6HWQyqltyEUBAGA8AkCoCTmgYkInEHlzclkMposp2IPSDPMgaSYgAB8bfGSmg1aoYhregDtw71Is8579FKTLt39u-Twxmq723AfnRTVFb1MpTaqPNyN7z63ERCi07N14hnSyprMDEBIFa1TR07D6PcMQhsGVYXPeEAAZBX3oONR3hHEuyQvWf0-1fhhvE332zeZ-INnoaefPvgkEwsxnnNBcrzXoJxPKeEzbRvGUyH9XYto78zcugYgXXY-afQEvWG8-gmX3XcEwtTrO431LugwmM+fzJxijv0+TZF5z+QorA+D86Uv-Vt-FOhd+87zP2vN4s+SYamasn+N++cvOkuxSW+vu8m9cpu-+IwN4c+Mu7MI+nER8Y2Hmjy5eCBD+WeT+ee56VkxoQgYWWBEW8I-uHuj+feRWxBoA4I1YNy4oUm42zgVB7u309WYu3+5snaJcWGQBdowh-B9cwcMePBFBj8kBIO0BOBT6ghZuoh+ggcAhaBV+5Cki1CchOOuBr4IaPehB9BT6VkFCPCOhrS8h9Aw+VG2hfCMmgiZAwi+hywrG2IY+RqE+-c3AKh5eoBTOaI9hMKdeVEQUKhah4hC+gRiCr2yWoRBhJmqQBBdBO4DB4IcR+mth9WwOVhehihYRQhABwB-hLeMRU00a2aCR9+yQyRRhqRYI6RlRfqC4uhMBnBYeio3eveueJhnaJBmavqtaOib2MS2RMRzRwx1ytQ1ACa1R9Ku+oIjKlQ+eoAc0khExgxlauauGjRBRiRZuhqgQMgqxpIGxnMkxPwnQ-0taNA9arhCxhxSxxxqxOg0RnMjuw67aDxxmXedRPRz+aRphjBOm4xnMsWlmqWhRTxO44IoJx+W6H+MROmPmMSLh+xsQbhRRSBJRihSJnM3mJ6Z6-mShiBt0JJ5xnEiWqJ+c6JiJ0JCYkRbq3B5RqQZmg6kJJJDJD+ZsVmlJv0Zc6wSW+mVm3JtR00iMTJGhrenuXIjiPxvxCY3RxhQJ-RjBjWYJnEnWIRCpRsZJqhuJ6hZRHxn8KyySeWCphhAJRBwJ++Zpsxj8mpHkFKeRMB8xipgYfheJ-J5gmyUBJSdJ8BBx+pyBhpURDOYcyukcauMcmu8cOuOg+umepA-2tCO+fxXW3uQg+gaZoAxkpQ0yDeoa-wJaLQpA5kOZVkXugMLghSJgWgwgAQJgxA1AwMwgjQw+6BHksWnCuKThR63Ae2HOjxCYe+Py7U4cR+t2PAjhkgzhg53WPQCuXZ5gFRg8vyJy6ZSp-xKpYIMgAxW8G5yqTpGsyqDhAic5R6ysW5gYRxKx+5ax+JnEUKIRMgN5aIzx953AZxeqSyFKR2VKGKb5eBH5q6LxD5bxxpnEv2YsCebwfK75TcsJf2xAR+KgvKXcPp4pKF+gbciFypDRuFDEVkKFJ5LgKF3qfKRFYGiFKheF7xqcjgXw7Sa+h2lYx2GKPSIFf4pqAGv59W3mcgG8XFf+nptey5nqTF+Axg0K6yF5Qaye22gYWEQlf8NO5wjYlAhe7JuIlK6K+cjINW+uPZF5i8RO3a9SiFZeS8c8FlDEzJK54sF5fBXmF5zwilI5YlIwqljE-FMRPlvOrl-c7lmJSlKqwBPlDFHkSKTmbFHFG6Nleo9ESVoALA6wIMIlNRwIl0YgWlZly8IsDeHAa+eVp4SwfopQWEJlG8Y+dleo5SaVMlxafozQxVuVqg+Vtl4QAAPNlSVR1WVdZvpGWRWeCAACrjygA3B0C+CCBNK8BolNj2m1DNDgigAADUeZ4iTua+QositV4Qm1aFa1m105RQO1Yge11FEw+Gpk5ZAy41k1MgxAjkc1YgC1tJS1qy1AK1jBG1W19MF1V1B1-1x1-1Z1hQQNMgsig1UV5geUfBCeY+LWSIz2e85C482ImVKwSywW2ZtVyVzGsYDKvJB1ENw1RcGNRAAO9MqizFzucVgF-8D25NzQY+I4NeIwZN4iswteg15NDmeNT8REiVf6PFsNRmoALEQGBgRcHNWlGVA6ulAF+lCmGGDQ0qnVbAQydAs85Q1s-cOq2o6G+M96F5jIglplZGxNWGQtyszltV9twV52V4AVJqkV02rE5IgUWGlN6IWNfFiyYBC20siVSNiVyVKN5KaNlYVNAdxcO6eY9WdtBNVYnQRNfoJNwe3NaEN86N-tNNBEdN0lDNelsOLNBEbNiVHNbsotQ1o81IkgDA20ZVyV9dCCdtIt5l5SN4Et5GANDQA4ctRZ2lStjNqtQZb691m4yNjBtketIgBtf8Gqb+RtT4mWidFIs2kc-cFtEGPMVtfFNtZudtAVjtkVLtq4bt9lTtf8dKhQFGYV1icdvFxcEZSugRKuUc6uscWuCcGASZqQ+yhydx9ygRBKYpiCKRvRO4sqwDdyZFPANyIDrZIMByqy72emjypykDKhgKDOhUyDdyfyn9y2RW6Ye+cwaFsQcwq4hKRQe+HI1DMQHIdDlSe+GEzDM5B4bDFDRWkkoIXD1SvD0we+QemQaF4jbAzo9DhQe+3Ehgqy3UaFCjSjs1iosjsQe+0qzD0qsYmjMQe+NwWlLULAhgR+xjqgpjS2KwBjSFYI4I61XDsQlZoAvg9ex00ym16jdje+nkzjDMtC3A7jtq0yPkPj7D-D-G0wrjITRMoA0ykIbjMQvj-DwAATBgQTbjHjCToAYAETfDsJAApBk7Ezk9MkU8k6AKk7CeJM42U6Exze45E7CQAISSj1NZNxOeOgDtNAjNOFMOPdWlNdPlOgC9UxADOiP8PdUAgBMNPxPTKzOTM1MOOHQjPBNjPHQrMtNrNzPcBFALM9OHRAjZO7MQitMZO5OFDxMxCtOxBpnpgFTb3wOgMkMFguWAgrhKxzDcCvOoPvOebPOI5IO3JvNQr4AsAABW9ZS2AI3zbGyItqHDRDoDaFeDcKF4+M-zxyyuaYkULzqLALpB5iZDO4e+kewgaFlLdj0We+kAdA3ozc2qBzDLTLqqtLZKRjVAVjsAkAzDljDAfLnLRK3LJjAAolw4K+KyK1invgAHLkDysZOKvyvt16TAtUg4sgwkuQai1fMrBKzCjxPbRvl-NEvky6tuqENgvEuzZkGBUGvTBGu2p4MXigsoOWv2vmL4tLJXLauAvYMOAvJNLVKIVXLVAMBqgAy+AM1QtAzrDKA3KaCF1+gBvoMcAxJ5anKX2c6huggIhFB1bInxiEDj2w6IUxXtRl0Yq3YXQiD6ABtQqp0C1rgWs6vet6vd25sxD1uDBNtnmQswumDdqtsevEO6uBWyuFAK39rmblsxKPYcACCztiBfBpWtEq0nbaalsLv-y+sylzuDpvBQvKqmqur4WmzB5mpPnOn70nv5LnuEAZ0ekuDbQ3tYXjSroPsojCI3vcU3gft+UmlHu4gKOnvgP-uiXim8lAcskEn73gePtQdZXvsXufvUlIe-tPsvt6mBiAfofAecQ1BiAZwrQqKkBZIXvcVofPtw21m0ImD8CZyFKVtlpPsF4gxruQs-A1uYXFuj7O7LsC4Ww5lWVYxZNexmyPaRmkOq7Rwa5xza6YD67wUUCmAMAqIfDlQ3CkCOLMHUC9jcVB6W6bh0WNKGd-DBxWwRHAEGckSHWMEMAnVczO5XXmcsFWe9IYyc2DC90WckSfvZw3BDq4oNn6zO64eXLKDKALUZAOpGAvIxc5NLabWOoxcc3ghrWlBZd+KMFWT-XkDJc9srBZfH6r5bK3vmAOD8LGARdr4htbKNdRt0C1d1gRDQRZUXWg0Qj-XBfULGBhe9TWpNItdteNfbpHXWDgifs1eNIyX-SyybKXsSlZDLdWyD4zS6QmQG5FbLegBV7KRLpXuSnAHLfhB26+cGl2jne9PqTFDwhWzYwjD7cN7ggPf5noV1zqczhaexS6eOLrctUGBTRJIOmpL7eHerht5-xPIfNtGPLnepqMG9ebVzdHogyLfPeDCvKOpNLBzg2rhrUueeG1KT4umb6I-4+Of4bE--Xo8LdkCywqG49I+HW0-TelkM+ZwCMfBoVOrShtdMBM-ec7d7JYxA+Nzc8QicPcB57bTLc2g3fU-cDc-C+kCWw+eO4n5r54-F4bcADkLnNqR1RvtsUNsiy3s3rX83IMFHsi9vK3vJf8pn2P+gjvJXfoe+QgVLVkwQx1DkOkVkFoxYx1KZHA8IovC00v20HvPFcfavi3mCIqNvGPbvcfN4CfqfMljvUFHk8b1YwWybz63KDCHg0BT7K3YPKSjyrHVs3v9pNfNh3AFP5+lfJXSsBfibxfkBZfaibgE3lfUfTQ5uwl9CmChWsJD3wsYdZPY-hAw-CChSef5g9vU8kytC1y5fbglfimIPpp31TfT8rH6m96Z57NQIK4pP3hsPrf1hx-4-ntM2ILff0BQ0ry8UbGa-4yG-W--f3auPE-qhngzn9q6b3ThlbC2i15X+bgd-k0jFoqEYBxgFaK8ms4+dm2YA9SNUm24LQkBcArZLbAwFE5MuXfIvtQE0C84cBDdFSqAKJwd82MpApNuQJL5gY-+0BQfif2T7cMZUtA5eOa237ICWo8Az2h8n+B9pJ8J-HdEFD3zT9qQs-G-ix0f7XpKIGGPdPQlqxB0YiqqEgLv2g6IIsIdfFYLzRGCGCdumtQpDrRGSKoEe5gbQahSq4uB4KtJXQVlXF4HhK+VsAjgv1tjmD6ElghVAx0p7mAnB5iTsn61gHaRyolAfANChBgDAKggwVjgBzVSKCF+mXEPtVE-bxCwEWkWKCESSF6DtoIQgzEAIE7QVbgIMFgNUG4i697OyENOjRW4pYQ6hS4BoeeE-ZVCfUrFFoZnE6E1Di8NHWvH0OdwODUq1QhmsymGFr5EKN4KYcXg6HjDWKkbHykRU86tDIq3FNsJ4B6Et83Kn7KtoMB2FtCuAO9O+k0KxixY5hqwyzq0Lwq7DgqK-cUswRcFP0CKMDMEBYMYIPd6OdsRHGQUM65JPhPlVXrrQkztRmCzdH3hwFICGwlkuQQgFRzSHq0F0+-aDJuEkHIjXg29OYR1kWHNJlhVtPwacN8rH0EwOIhvJS2nKlAHAC9FaBCPUAiBoRHHYkeq2aDwjZEcwhPHMPvoZZKIfaAwY-03pP0sI7It3if24CiivBEhfuhvUxGeVAhktR+vKPQoIjK+jwloLQgOxChvU7SD4P-COFUJvEGwqCG1jxG4iuh+IxgCsKOGRUmIQUckWBGDDjgrYBw64eKEhhUB7hd9W2LxBuKKxQoHVTkZMLxHlJDRXo3ypoM5i+ia0-oviB1V4geijRblbij5Uy4yAkwtQNaht3TF7BMxPg9oJXATFcQqA4QK2KmJiC2wpozw3iKWKMEaitRa8SkKCH-hFiwxLIysUAyxg1iDu1eNwZuENET8ZyWsGMcY34g3gaxnvFYDeAHGTjpg0YpILGP4jbQJxY7AiNtBnGri0IHtW2OCBzEcAqW6otQCYC8AtRGAGQiHhENRDcA1+RYtfsaIRxUhRxVjAVGykZDzjGAT493rWEo4OFvE545wDdjux+g7xewrKk+OWKsp0o6kPcXmLrE2wfOLFNdpIBE5nQBIAYiCYKnVG8AZK1QuhI2xLHGdlMOvF3MuJLE-C0oOsVCd0DZDdBRoJo7enC3ECSAcQNEvwD+SfpwtHR6oWoMNTNh5dDA6o3CZvyJCrx8Jk9LESC26CMhSJ9cO0UkTRE4hwgOXB7nl26AM5l2oAMagAAlxWDAAAILgBwA4rAAEpjVIAAAeXlbIAgQRlRyt7EkBqAchxYDpGJJuLhjEK2EtBjKFoSuSa0g4iiUJPf6XiXJ74rgRRM6ALh-x-WT9uFMyBOTIh-WA6HoO0m6SDJRk0yRZKskxSm6gUlAcFMSmhTuKFEv2EJIYAiSTioU4PvlLoCeQZYYQgStUPikTZ3x7k7ijLB5h8wlY9mQ0QtSOhnUjxHiU8U1MeQ9TLIQ4tySyJ7bPU4xw0gqZLBrTuSl2kgOIBkA7YOB-ojIAAAwnA7JNQRyIylWktRG+MhagIMBLyHTcg607QECHD5rS642gTaniDklm5bpPKK6aQE-axY9paIm4ZnCOGvTq+J0yCFlSwjvc0KWEAGcdNiinSleWQHodKMjFUlLo-cH6eKFSDVBsgq0w2O+EOmAzoZZoa2C9QOkcAjph-IGclHJBLJ5YIMRyJ0EcQFCVwDKZ4UkIKxTUKhaQImT0OZGQyyZ+M6zGQgFHeCOU3A1QoEBpl0yxRj-WceyDFkMBaZbARxFKMX5mD1B3tLKtTLlkSzbpPwioG1FCBGoH+hAeiGsJOH3jUaWg2WfLPpnqYYgfaZmbBmAiLo80lcI4Q+CFGYYzcxZSWg-RNoEQ2s5o-oQwAJHCV3J3sj2WSI5qUj6YpQdMVGAFrNANZVsybHiK5E8iMwWAaCKIPdmvt9BWMOsFSJlnEBxZCssUWcku6JyJZgHZWQkljnGBFRasp+hXJLmsd1RBwoOWvFzjgI-gbo+oaeFan0SQW5IsYRaKDlWjTKNo0CTLWTkWi7uo4GdD6E3pBQHAe1RcYGJTnBiLR5STcYUD7ksijgA9KWvOjtmNJqK46BFHgEhCXy702Is0UCE5HBzYeu820YzKww4i+mQYbiXUGFnLzoaq8nuUuG3nDzA5G8-oR7GgjgK8wblKrPWKcz-yThT8yebyM+SLpdZTmVIOfF3kTzgq7lC+VfOyxYZdxGYg8d7V9nhzAwroo4QgoeFqzEZHkH+biE-GEA9wv4M2cqNTFvcYJVLbMUQqoFL8CxWQJhX81JBliLyHYhSUwtrGNw252ozue0m7mCKeALCqBVr1SDVjRoLozUbFRkXSU5FjwQgL+AUUbC8mYAS+ZCDEVYQJFPY3Oe4P0WDj6Ff88cXjARTjjSQ0s2IPYs-HLinFQEwoMuNcWAKcablLgYQtzHELaFq5VILdLljJYVu0DQEnsWSwkVVpiDN4CfGwmPJtZgwnEnaG1mjDXpIRTJXoKkbXcsgtELGdXOGre82AtM3wMkRTL2DbYtnHJeUp+FXJqEUS26deO-G4gWpoAECcFTGiNgT4PuYmRKHGiCZUZfwdGU-G1lMRGw9il8cVHwweKAxX4sgD0vmlJA3FW9JiukuYQ1lRl07VcP0rvrPSEwCy0FK+I4U8KrY8EswWWk07dLMZJMkIsMqECHLPeiE4TtLFE4XLIJaBDSSlIYDGTrIAAGXFbWTbMmQHaX+QcnPjVpwiXpawpzmeTR5FQHyaFKtgBTvJQ0W6Yis2UX5bYsUhcHiopnwdOIxK0ZcIkQpAqQV4K8ANlJnC5SqVvkpIIhXal9tU2KwYqaJ1KnlTWVF+bZYUAyKrTapFseED2x5WoSwZSSjgGKrOiR91RVyUlUiuTF6D2pmsLqVeFum2ozqbS0Zc8pOGqrna9maaY5JVUErFp6o9pDnBJn281lP441X-Eon3R2VFsDqVQC1XTB2Fx0fGBypWSxVnY05b0HlNyEuSbxlqyadOS9jKqEVDqjZcOK2UsjaWZ9IOK3IeX2r7e4Yl1U1Gxnb1WgSLIEGlFUIpD415ScEPukeXrK16eHFwAWocCRz55tQK2DaowZVrKO8a7Ne7Ftj1rfc904jHH1TUGxBJ0y9FeKDEkrcLqbvGsRdxtyIJnhMk6UsiWiGBBZpjASNkJNJxhrt8e-Y7miroTjqopF+G2V9ypBSSgQfK8sKJKPVP8NM29WLuWQgJHqc1YkAWlKvug4gqp26mqXVNvVrh+An6xgkevlX3QpysYLCEeu4BewH1gQOuGupfV0os5UEc4OSvqgrqQYr0jdd5MNV5qX+BKxkKkrPBulZl5IPtEJPHWhST1jYc9b8PRVlSr1FUglX+tPUCAYNEBV6TLCdYvR31esboLKuIAgamoNawoEVEA0iq5VdUy+hDNWlQacmbGuDRxqDgiDSF5EMoR5GyGvTgga6rdc5J3VFLIlq0nTQlIvwHybMGmwzTettjZCj1Rm1EKMOs3VTbNzgQ2B8GCBxDqpo8-dT5JvVzLt6c8UNbpojhAggVaUkyWZMskMryQIWwyWFsymQqIN1U2Tban81rqtsyo8EBiBm5Ed1NwgFaB0qxljRXNq6zDeuuw0kaJJVIFLXisZC0qwVEKpiLVvpVvisYnSgwDkyq0IrPaQUDLV4Cy3hLHB9AKFvgAxk-sR2XaoOIRNA7eoIOBYKuHQBm1joRFKMmWLbBPbDaZlxSGcKNoMzba-0ENStfau8zba5tC2vbWRARRDrXVj2UTfvhEDHUDt3StCmtuqAHsYi4HdbcVhSCnbxtBsSbTpQ6hfaz2WHEdoOLuU9x7YZMEGEGqvAPb1lH6I9GFkB0ohPthgU7eUku25qUIDQL2O9oxmYckdI7FHWjqx2vQMdgkYTDdv95WRYdlHFRl9vW2vbOYJHB1CSmJEIa2p7qzVWxlNXm0iYGcroidyyA07ZEzOhsu2st7CChVioL5chJ+WoSPatgc7Q3Rl3RC5dH6yKhnNgjVYZoJOpEA7TTV6obtgfe7Rmse0CZiApHLQPi0bA3BN+qjSmIyAACcJwJZPbu6gvqjAsIngjxEpgvqg5-0OWAJhPXiDs64hTelnIHAuAG8m0k9YUDd2yIDeBvKyGgBT3CakFWWP0PHrd4fA05b0H3e7valx4Z67qwOOUhcA+R1i5GBubEHj1+6i9iXNmXbvz3uMlV1S7qHUv+wQI3NP211SmP11nQm0N2zoDUo72oVqdpu6tS8jb21KmA9S63dvWqBFQt+A6RkOCHt6-CioHZGFfVjX7CAbkwMUgC-Vw1UhF9-AN8VHBTan6ZwZfAdJ7RD2Iwr9Ds6YFnvBDeRZkkaYIOyCZ7VAyOMyfxsptlHXyQWrQRkN-wmTMBN+SA-CWnyv2g0jgiqlcC-rf0+Q99qDUgMCExob6z9yB--ZLSz1q9M1uegcM+uiGxCWouW3qK0Cf3Epctoyo1Ifps0Obv1XWHrFQeY1x7m9EIPSdVMEAUHRA0Q4scwFSrpU0Aae8iCpsVBIGcDfS7pV+zBRLYcD3kY6mIbz2KNfdfsezO1K9Wu1edh0CGgQaeWa7BQfwuuACMzitBwxUGysNwAYA5Ni4Ry2IMLvd7CwhOsuj3dJ2lFZgVwu+-fWQCP0aD9cSA8XUula78ATwZAWeO0g5aDL81oB7pevwgNsCd+bXEI0VDgMIGp5B+yI8y1nkglcxh+E9VIZ8hICZD6yrAwID-3+RTNNezgwYbh1sH95SGliMQY82kGWAcQvg+72oNFBzNJMrTYwdoPPqQiDRlcAOCyMl1VUuRuEvkffzZzgoah7qBCGkNHreDCQv-W-qqNNGSFgBlYEUbf2lHKOchtlAocUMqHa9Gh2MFoe50EQfVAtOox2s3GaRmAphh1BYeJFWGW+dhrFkXQn0dq3jKulCR+o8OIb3UQR+1Qb3PGOpctbSLcPwwABCzcbiLloj5WQ4Tl0CVfYwhDgAzwf8UgOxUyBj7GCxk06RIFADGT8AAwNCniBj2TAk9eR4qu-hOBgmnlEJy8foCG0sBYTsJBE5QCRPCAUTjBNE3QAxNjlq4zHUgMdUcjUAAAXo0ipbBw6T0xhkzVGZNw7WTuQowJ0EaSyI98PJvkwKfBBCmMTAANk2lmmaTip9pMqfxaqmO16p4sFCb30V898Wkorj4AlNWQ9JayNwOQGOqwART-DaANwhuTCAJAx1AALIWhQAek4GGhQADsAADgVNWQrT+cFU-IH-7BH7T2kdk5Cy5MONXTHiMgMdS9O1LDAvpqyP6fKSimc44p46mXzEACJcTkfawJaZmPpmBBWZyE+WdPg6n+GhZ90yWe9Plm-TGJlAOaYtMpn2zaYW0wnu7NYgyA7FdwJuBdNuniznp4cxWcYJVm5e8JxE6dP5OEnDT6J5M-SbTM2mMz0BLs2yfiEwm98AAMXrLHVoALLRggABEAzsJIMzPBDNhnPTTGCANTKD66BTzSp880ycvNuBrzGpjk-mYhCPnTAz518+CA-PVn+GHcOs1ZAbNNnizoF1MwUYgudnwT3ZrUx2ofNPmrIL546qhe4A6AAArOadpNTnrThFzM8RbZM0hSoS5gZORcQuUXkLNFzE4af3PImjzRpvC9OZ2mzn9A2ZsELeedP8MxqjkfoF4GbjHVQVp6Y6pKzQvcnpKqu46nCe6iAWM4ZJik771ADEhSQTFs8wRawDSXZLuZzk3viUsqW1LVkDSwoC0ufmHGGF-6MdS0BqA6AsxQzsKYkssW7LkF1IOxY1M9ntTcF8aspduBuXGCHlry+UmJAMWzT1lsC7ZfsvzmuLKQHi4pcSuqXgL4IVK1ZG0u7nuTIlw8wZZPPZX8LjJnAHlZvPQmFLsJYyf0HcA1APTKViTCkG8tYmcTi5vYAadgByhNJYs0y5Se4AJmaTrZ5i+BYitEWWTkJ2C3vi6vrA84fV8qwNfMY6WfLYpvy1hfkCNmmozZqyKdFtA1B7BjVySytbYtrWOLpFvs51e6s7X1L+1jEzoAnP3XwrrVmKwubxOFWVz-DLaz1fXP9XeAg1w6xCAHNQ3wQpZn06ObCvLXHrV56Kw6c4ujXlz8VvUweYNPiXqrDjAAOqNIWAvADxOYysjmSQQB+ls22fCsY2oLWNnM-JZ3575ybpASm9TeOp020DQ18EOAGUsEnDAHAZCxNUICgAtJ-QaW+ScpNo3crkV6Cw6Y2v8NubvNrwDTcYIC2GbcN-fMIEORBWGojpKst-ElN9BIwjNpa8rdWtqmSLvZ+K5rapva3+b9N3C9wDxCZWsri1my81ZZtRXnrGpjm8Ij3zgAk248P84wXFbtHQrJNiEKTc23N9GC4AdQDIlACgqhAhJ6k0reauA21beZ8O5HfwDR3wQsdk8wnf3wxcwRNANfMdTUA-UZAx1IrpdMmQFH-ry1guzmditkX+GEd+QKXaPMV347oAOMz7c7t22nrDtji8De4tg3YSA9qO8PbjtC2XbfN2mx7YlN52aogd1W+zfauc3AzMUI8WVfJPtHqoBtr03qH0tWR5WMtxpMwVEDgAgLVJ40zvZnMq22bYIdW1+ZPt9Az7kLUPgbdbu13ncx1MgcDF6s23-bHZ6e3acdtxW980Af+5IGOrn3gHXt+a77aZtd2v7wd7G3PdBvxWUHAYtB1ZAweX2q7S9oe1pdXsf2pL+DmeyHcPth3+GekrblZDfPEBSbzcd-NQ5Gsg2CT-NoK+YHAAFjAgaFOiww73vf3HL8VjhxIy4c8O+HQtgYMbdBCUEUzJgeINqZgc5X87TDhBy9adt75FHbAaiyo61gYmMrjFv2wY7geY2CHPdoh3jbMecP3zVj-h0JfXtu3N7gtmR7I+cexJ3lwgGIb-aOu1mTrjBKU7KZCBC3fLiN7CxddwuT3DH9t4xxqZcxhOGAETiEIk92uxO5TCT464jYCuqAgrygEK-o6au73u7ITxgDk7yfggCn9Zs6zhe3tV3Wnp10ux0-8sUA5Qd1+x7U4vMZO5zbJ7J+E6Lv8N1H1QTR2bZBI6PJAejkB0bbmem3UQx1KoWIEttFyLHgTv8vvSECGBlLm4R-TEeANxH1lCRqZEkfxUwHQjAgI6vAbpRm1+4jEpw-8dcOq73DM0OlFnURg+VyqjcQfPgDZlxjncgh30xnJT5C97VTx-4a8d8K14gX5SXCp8dtT2H1RjAnvsylZ1k7fQQUDVZ1OuPOhbjfoOhEx1yQIuXjuSVtgr0l3vHW26L72B41XGa1rD1RrFHKisEuBeIaddA95D+rrVNdSu8EDi+YGUC0BYSAE2rr1ga7geZsF2gS8H0AbxXCbMgRQLbgm6awGccXWhQldauYMMKo5+8FOcyWfempp26VB6svIFAtd8pIa5YH-Ymotd0AMdF+t2ODeaYPAHlYba93ZENr+gHa4dfcAnXCeV1+tPde6A-r9j8Y8YH8hAA')">function javascript_value(args, frame_stream) {
  return stream_flatmap(
           frame =>
           execute(instantiate(
                     head(args), frame,
                     (v, f) =>
                       error(v, 
                             "Unknown pat var -- " +
			     "javascript_value")))
           ? singleton_stream(frame)
           : null,
           frame_stream);
}
put("javascript_value", "evaluate_query", javascript_value);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p16' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	  <kbd>Execute</kbd>,
	  which applies the predicate to the arguments, must
	  <kbd>eval</kbd>
	  the predicate expression to get the procedure
	  to apply. However, it must not evaluate the arguments, since they are
	  already the actual arguments, not expressions whose evaluation
	  (in Lisp) will produce the arguments.
	  Note that
	  <kbd>execute</kbd> is implemented using
	  
	  <kbd>eval</kbd>
	  and <kbd>apply</kbd> from the
	  underlying Lisp system.
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  The function <kbd>execute</kbd>
	  uses <kbd>evaluate</kbd>
	  from section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF> and thus
	  can apply primitive functions to constants and instantiated
	  variables.
	</span></td></tr></table>
      <span class='comment'>
	The original is more restrictive here. We think that allowing
	primitive functions to be applied is at the same simpler and
	more powerful. (We could do away with the syntax functions
	<kbd>predicate</kbd> and
	<kbd>args</kbd>.)
      </span>
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (execute exp)
  (apply (eval (predicate exp) user-initial-environment)
         (args exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6ShyQHrhwo4lpL7dW2lMEK8RrxK3XaG7qUiN1zUE3OScqRLpAkrsCNBYChZi6EsJaXrPdUhrfW3tTbRlFBcbMsKMa7i0m+cwhmli6kjL91QVnoUIpdB59ean5HsVhisXYsKlsDuyeC4p0CfAF6vBN9L8rmqwrlWmUrxZNvxchste72Vgfzk5Kt5hQV02w3p9tdByIaXmltIeXH5Y4cK-dBjY55Ozb2TumeC0JsRfg2z3bjP1EHNMJ4oD+01FHJAdr+O5rZ3xQSyzOe0Gkl2+wANQyf10g-0rT83E04QDnx0nQtFKAeGxRcl8QTCpkgMwmg1rx6iey+WtXQILzsCHWwOEQQOoE1Fkn-BHyaV5UXT835FVTwJyGWW2ikVNQhxwh8W3wSEtipVfDrzsHTxH0EzmTGm9l2wwLsAYM3C9TEO6SHgEKYEFEOWaAshHxAloIGygOXSYNEFnxH0GjUMFA0KuzoMwNXV0LgKjVUk-hQO4KdlAzkLomrzuB6UuE-0L00EeEehEI4V2y9xCC8J8MiGAn0mCGkMUCEOtVkMWXUSGQaFcJckBnSHD2xR8NkKMAAB5Ai0iHpf84jk5vhA9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgJPHcUAAAaj92gTzUeHAnk0cKMA6JzW3HaM6Mcm6N6PyMcW4QLGKiD0UDKIqPwFEGPBqLqOPgaO5xaOGI6MiX8HGPwD6NEIGJ3HKhGN2JgVugTQmJCNc0UNKAqCqBUM5XPy9T2QCAJn0GcDKFmgIO2E9THl8NUNiMcQNm2CVRxwyN2O+E+PuNmnOJeTIEQITTsPcl0gBl2PSC9TEmNQ+36PhOCCHRuPhMxIBLw36NlVXRuKcRSA-G2GFnGGxO911TJCvk4K31RIXnIWiWKMBOkHKn3CaFYlADdWpOSCjjIWSikV0MtlwOENdn7Cmi0TWF0KeKMJyDhnhP8BVPEJbHUNFMjnzkILBC+OoB+JznWWEVGS9UmVeNAEiDeK1NIJhO+OGncK5MdMnSVN5KcIkKDiowhLxOsmhPEBNLhOCTIKQKnC4I5KBHROskxNA0ZO12U0hMcmCE1GHEJPUWBOmOSBJNJTJKOIpPXSpNznMBojdkYgZICPYNZJRM6U3m5JKltIqkFNhGFMFBvDvHbXdW2HFNBKKClJHxlJAXZDlPNIVIbi9JVNkN1OMOeUcm1PkLnPVP1LzgNLMMj2dNNNdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIhbxQi13myFzPQAh3BghvMTyAKjXfIIkcFglLGSV5wfNh3ex104U8kFSkR-NvObyLgsWdUlAzT7RzX8D7SUg1IHCYW3BHRQvMBHXQoXIzWkNwtAGkIIsQqwpLhIpLnIswtv0pRfhzQYr4SlAwpSAzThDoFLEkFqBzU4u4uqIhDYuSAzVmMYFwrEv7GEoCAzWZEeiLAaDoH7jkoegUoYG2Gkv8AzTaJIv8EUBD1AFqENSWivA6MEs0vMAzWvF0vMH0t0CMtbivDvHMsIqwr7l0BSDssMuMtACvDbkMvMAsr33mOABssggMoctEhMtADABcootvwAFIwqvLIroqEqArQAgqM0vddKUqfLPdjUjLXLb8ABCI1XKiK-K0AMq8SIq+KoEbcTI5Kyqxy0AbI8wOquihqzI0SGyvK1qnqjqrKrChaZq+yqqpaIa4qhqhaXqjygIfqqK3y0AWaqa+q+YkqsK5agIJa8wEq-we3SUM+KC68385yWQsSCMATPtXQaCxPWC2eY67eUi06mC5yagBoAAK2jw0SuqbkEFbiItes-LEzAtKiIQXOSDuoQgeuOC2iwBOvwhgsvXWPEmdQzUZUyhzUxp7iCqiREqwsgGIF5lcF4o8qJpJvqjxvxq0qwpUscFgEgFwvpsZupppuCu3HpoAFESLua2aaaM0AA5SQQWsK4WwW3MxyJ6+gESaGtkFGjtUQy67YATCCJaodfAIZOWmre0Y+aW-ibWhWww5WooVW1uaA1vLW4GmGhW+GttVqHCbWjPV8ycEuXfbCP8jMVKRgP8ZEz6yQKQWBPCRmXJAybW-88PQEIChSVBV2vqF8ZIC0z0yKaoaMzpRQXfGw9SNOhMN+D+WETPa2u8ouVU3QTUw27eK9VU-mgIfOr+J2keHoL6n6su-GiumWqu8Qmu-wWsxmNk1yewxIQVcPESU1R4UoBI8LdkzpPeFO+shMM+RQy+Pug6T6keYaTaXfZizhEaBQnA0cmENeoQDe0aXfYgze9fOwH7VeoiUUXe3fLAi+r7IjcHOszio+ouE+30zcwsHHe+y+ggUc9+oiL+s+5df+5++Ja+4BoQO+zejwuwR+0+gB+IR4B0Nic0RgBseByQ5Mr+CBt5MAD5JgY835U87gTAa3J-dwCgRwc0IcG5ZkRgX0D9SgL9cPLeuFBFTcC21h9hvQ1CCMAksG6DPh79IhEY7cRwbY3NS47FCY3h5YNh8RwR64PB3HMRjhgfGIZkImLjGPO+LFCid20gUgeFISFaUmQCUxnyhgDouaUxpM7cYY4IZxgsIYkYyQGxyG5SZx3Qbove4REgEyTUQxhNMiCiCJxwYJ5YTUECAASCNO6MkfmJGJ0dJE1H0bsQE1VxiZFFEAiZlkkYMG3AAbyYoLcBYFWkeE4f6Bfmqf9FcapW3AjEJCYUnCMC1XzBFhx2gw6aMFRXUb6fIm4hqp3ECCfCEcgiHQ6acYmbCNAGoa8eHHobbCYd9A6f0nSBFl-B52Ilma6aUitUGGl2Y3nX6cBlcdSY6PKflWFCqZmbsgae4h2KUmGJketJ9WtVOeTXI36bOLedaJueIBCbucYAebBqAmeZeeTifBaYRlAFufmKooid0FubNXudUamELAiM2e2GCCRe3GIt0GdUeZqeLM4X6bRZBdibBZYH9A1DkZxTxa+B3AAHIZH5pBiOXWnZGjGJiOmymaX8m6H2gsHFBMGHLcHt7IjHQGhEUh1JXu6lIM1tFZghig8hijxyAhi-hhQdXyo7pw8nwsXUREXhXQnFWxWiqTVV0lXqXQWMXwWGXzXQWYNl17XbX11PX0WlXj8o1-bA7SBg6ukohcIQw+kT7andnxduwRpGmOaY3b1dAfnC0o2fGUgBNA27hg3KBGZbkqQI37hCmo3TW8zf78DKQE2M0Jn-GhMvnBh42XWRp-X4lJWxkLxyRw3LR7go3F5GJS0xdecm2BypTG6sTxIIxPm+hfVU2WM1gm3c4Tqi3NQ2IgJLYBN23zx7Qu3C2e2xooXF30IG5zrEyAiiWVVxKpmIih092+lJUgIhkLa737gH27IiFeXT25knGqLr3mB9232KJP3x2z3jVtxs2g683Q32h4XWWIiv2OEM3kgs2A6c2Q2C3-2+kS2m2XX4OQO5lbrMPX21333dZSEGI6ZMhK3VBA4Ugpoa2jt62Z3qPiFI5yP3T5ZKQBFNM9p6pGo+3pWnAIj42pnz6aPeWxKT7+TKoTxI8zn+kTUGpVttG4oM4BOjToJL2o2pmkHm2eSRppPDxZONpfm9owDj4U821X3GA2xyBqBZI2Qg15h8Gq2EHFP+P42nG9WbPSnIG9onOixrO2x59PPcGh1zP8Ej3CHQBTTIVbP+Hbr7osJ2yJVyBcAiGTdSAHpiw3BQARtIJNQo0RtLdLdfBFC-gQxFBWRag48Fgg9wlamcd496vQj3dzX5heYe4tmxAdQPBqvQblMh1mvGAGuy2IRhHlNhuGvk50gKvSAqvRAauvXOEpuZZW208WR5V+GM7JFnqHFqNv1LYM0257Rv0+5RS2UyhKhZpqvHAeBdBbu2sBzzApE6BCAGhTvw9LY5uFucJ7vlv7EQxwhPuBGyyKPSZ3uQekycbZhGyuYG4Yewf+z3SUgpEpvvv7hKvHuKWIePv+HWOKVGJ0eAiYe4fY4EfYQ0omUspkpkfUEgdV0pu1yaSIxaT1yPSiN6B9Xfu7uHvFvHAgVgT2gyfFnnq3u8fDvxIfvbv-voN9uQeCeUhhZxeoeSfKfOvYfnvkgMzqN115eEv4SIjnUZfbqtPse7TulUIkODI5egeWgFfFexT2PJTnriep06Asf+fBeAeVf8fmfkhhZifjVSeBz4ntgde8NIeDew+26tOIjzeA5rfHJI+JetGz4Y-yznfrII-Ge6uRuhe9CweNyig2fyzJgep+L5AsvIiReMkf2ruqhYOlISgG-VA350g2Bz2MpNQfOglghu-9WgkA8SoWBDOqo7BYvWEuzbXv1ez2fSc7BK-yAsvILnrJ-tkDuvvxJNsQeM7XwpFUvLZ1-4vv1kXW-3UoKkvxJj+bld-twB+fPF6epNsGgMo4RsV8jP1v0C-d8IjNGCmLeUQAfK-0OjIF-+igEAe-xqZuch0kAhNMALf7IkckcA7FA-VXQoCamADDAZ7THLWp-+KbdQm5x+74ClC6pABlnS-gkC-8lhNzhERf6ICP+VAy3gQOMLrd68H6dTj-SfI-4DO4zSziWg7paA2GzYXgboWpZtk2IH6RwNl1hDh5GAm8HqCoFUDYMaOWvJeK0E3AjsUeW8GWtIgYGPBZE+gnAboSk6kDC+fpKtBgOh7q9qeqCAlsQAkEaDpBarOQaYMsKoJ0gSgpUNgOQH6DHebHPKELAHZCctOWgiwfQS05eD3WymJtroCiG6d-B1ELPnLAbgttWehpH+lEPjZsCzwt0ElCwC5yNR1I8wJYLUDsR0B-uJQnipKjoBPdBOdTBHBUITZVCyhbEWoRnV5Y3tl0TQpPrZVsZ5DsghQ2wi0PKEDCCheGcrL0PZrJARhbQtrC-kvw+0SUMNWYaTEqF5RqhcwxrvUyaFTNZhNQIFB0LUZdCUykwt+DtyWoZQ3A4eAOj+g2GtDmE9wmoYcOVbSgLhS0TFPkN15gZystxT1GMPZBLANY-1UiLml3z4AgRakO0JYGyCGMvhqtUEWtz84b5IRmgaEfkLhHZBthjQsYQmypS8srhwoG4SsKeFfxkoH2XEdb3eEEBURbCMYZiPGF3YYR9LP4aQU8S2FwINWPqOASUYJdQAJIUEDQOaTPUrB4kbARlFwGDASBlhFZA3FFHB8bBmUKZhQM-7KNw8ugAUSwPVKdD5A3WRwHJWr4+Dz8GAoZJqLMFWF4k-IcgHqINF5ErRGo+QFqL0JudpS57fAAOh7jDEpm24d0aGk9ESdeunCe0fyPkBGApm0pcwASKcAcCrRYY-FhtC8R-k+gfEbkW8GDFmj3BajTTqqljGaptU2YzcAKITZWibRVfPItBljFTCIQ0GIsVWO2AliMY+ossdEPrqhi6xUSIdLWM1LWRLCLrH0R6PVY5Dc0CaEejJE+GwjXcuDCIgZWpFUoLRZnXVD6CLAZhvO+zILscF0Dttgx7bIUZMCkS2jmsb3YSJbAbGxhbREra1sqlBCriNxoxaYVKB3HqFZRVaA8YlCca+jw86rKZviLUaRlRxdI5kZETLGHihIQ9JOlGkIAUE3+FITPKGLc4YomWLY2CRvCHGpd0RsI6rv92q51C9xYvS2Kl1+5YTFua+JJtYI67U8gYwpF+AWDoBDjoJXbW7r0GQmbwpE1XS2Le1DHPjHcHA6rkYFcYTMCw1XYelYFAClEAAElzUcAABBcAOAC5oAAlUopAAADygtZAOJD4LW4liy-VSjeKASniyo5otzpBLZD0TkJ3WBNmhPokPt1x+k3URjBdZoSZALQPSfQAAZOS+EgXHvrPB264NxJkkmSXJMUkqS1J7kqwJ7XmDkgbJ3kuGuZIcluc0J44qpvRMcCMSSsBkoZI2him0BrwSU-gZOl5hrtbJ9AOKbYCdG74kpgI+QAJkfgCj4Ui0IJFlwWDyJtEXk-VrSDqmj9SK9ksqeaN6HaSsubUmzrFIMnlSCMI9ASEJHloTxFhlsAAAz8Eeo8QY8EVimmFCywG-SgF-EVRrSVAJAXLuJCNbTT9pwoEYjwC4mYQjpsUE6YwAAabZlpGgtUUoBIFXSk2bYLab-y07bha23U1VK9KHbvTY8APf-vrkUKWAa4j0-hk4AyjBQppLE13mtLek3ItpvBZYqtPDzrS9myM7afzB6h5C2Qx4GQL6FC7nwqMHAzzslCZCbd+gaM8AbwP+lNFY2GYD6clChDCcq2lM36ZuHxmOBCZ0gX0GJyt67EeZfM30AkO4SIwuOGQrQpgUsAEyiZsMjhkOPmBFDwkPQBdpSFiJf91RRk8hHjLlm8yFZzo7QeoPJm0dCekEa0B4BIECMteYJBuD7lEBF8khgQiUtZCkQNBDBoAqcBKJMEACZR9POUWRKp5KjgkwQd0flHOLpARZCso0UFAaCJCWe8TOnpOQFzCc4xBkYIDHP5lITbZgzbOWLNXQCMPBBAdRE7PSHF8F+JqA2aLKjZDiKBSYvkOQQeCn8mBfJXWbhN0Gii9B3s4wcIWlFPjJgwsKwWMxD7aDuYxAXok2J0kQCjBvg72UMm7HJB7S5o58KMX7KmzlgkxDmPjTwBtx95EYD2foK9lQC+5eAmQOVLB5TQR5Co8iaHLa4kAp554-AUvPMBxz2gs8heRKHiY-zzAmYhFiqLbmXySErs8HirM-hOBuwK8gecYQ0J7yD59sqtP2L9GDiQF+sceakPZEF0gFq8w0jxxECPyDi086vqoH+6qBveu4n+q6LA4fj-R8Y5BZ+Kb7lsrZQYshW1nDEj4oxGgzPOVjvEBgExHIvoOoBpCn9SFt1CheoS4UxinuyorBWxE5HCKW54eTPN7zEVGSYqYAfeW3C4URFSFnTfMSEJzHsL4xhCnCOeIrFnD8aFYtrO2ICCmLiFeRW9pYvvFFBb2Ni1+RCF7G8sGFnouiU4COl3x0ctTb-IFjqzo5DWU0r8h1loCLBIJtII6WAycyM84ZA+K6fPgSXwT4cqmVdNBgSVjd+FqraQITNqCipbckzNRhbVyUpL5xP4B2kWHRlKAjpm4y8aNNACPjjCu3XQYsAjwNLLY4M5Qv-2hlrAElKiZ6vYrfGTslI9i88VuJ6llRX5MIWJeRm6WtSEltilIO0rIFGlxls4UCe+IHFMLwoP47FjbFFbCglQaSuTMoBuEZg1lqCP8VYDHH0idlR4lCYIgmn+THA8k3cAABkua6kqiXwkWlS4rAg0o6aKFaWUKZZdgEyRFJgkZSpmVkynlFLYjgrSpqaXlh5NTBTTRQA+LFQ0txVudPl3yv5eADCnDhrJqKnFeioqkAi66odfsIlPpEpS0pNK9ZckDvxTTcpYwp8L0KZWATvpQxI6dyuZEmshxHtNFZCsIG4NKpEI6qU3EfhHTW4QSD2qSACVNLup1ojGOVP6mgrVKkquZWNKHEPBYgGMyVhePOVXjusTo9CfSzc6yqgRNUv4sOSWrJRKpddfYKULsSoJCpQ0nybMq1W9TLCVY6kRKupUBrrV5ovGjOVxH1yXoCgM5eK0lY2qkp8M3QVqABriQCJfHJQJ623CnLJWc-KuRmpIDByNeUzE1QBUTVKhk1Zg21S6xLUDJL8F2T1jGuZE1L3M9E7brmPqHdEkJsYgZsikLAcCOJby-BbkKDyOdipOAsya5M3jqCu1p-OdSL1YmLdLYLK-nkxLnVg8pEZjdcDOlcm2qTajkflRiP647hXJIq-IUWqhr3Rfu5US9XlOt64tipugakXuvBnDhD1qa0UinLziAZPSdnSwA0pnXIrFZxszuQbTmWWxFlsgcjCMqHnBC4V5IbtXMvNmo9nqbE8SBupwhMSMpO656h+pnRXSkpx6myKeowmLcIl4eK9dkBvUBBVAd689Zypo1PrkoERDVe+psCfqQNP6sjqAvIQFxyuswKlRjKDx+raQc6zJQ0qmTZTU0fCnYAFwCVzreWAXVybJvam0AB8am4qRpuGlaaDYQ4SdRJpkgSjZ1xU0UlImaBFS5NFiT5YFIUlKTVJZKyYPZtkmOaQpAKl9XJrfU+VrNJm+gKKSmjbgKgvnADVGiU1TTwNm8IzcBqulmawNCG4xGv2kCibZwlsYlb8v+X8xMtpKk8Vp041+bUtBKoLQ3BC3lAwtVDWgJ9WoAwzD6t9FNbiOk0cEb6LeerbAwTZtr8hvLQ+rVuGU4JWtFABcMQA-rsx2xBa61sAl9jtaKAF+UbVrCwAZ98aXWrEQRkY0NU1WQxCbecsfzVa+tT-IDA4Bq0wyYGQ2xre2ua1v0jt69U7Q-HjHHL1Q9gRYcSLuFeqyRykbbeKyey3bmE12jredvyEakltfQ1uO-T63YJTYt20UFDqB3BIVtLI2JOtvmKatyon2smvyKO37bgVk6VBitCAgA6sR9qgEXKuBFhklIrohaItohAys0d1cUQGgxjzVrqmC2lxQEAeV2cAJGI3sb4GB3hR2dTywCe4N-npAqU38lIPDs3RI7XU1AA1juDR05pcdCgA7ZOgg65t82OSfHXWtTUTRFSxOx1QqulAU79IFIBYPdCUDd9daVAFaPCTJZawzB7K3-Cm2MrdjJO4gVuqzoqhGdqoVoi3owGn7bFFtv8gIOB1Q6Qd1d3SE1pc2HHYp-xtqlcnoW66i79IEuxHXepD1Bt0O3sLbfGrZCFrdAquzPZb34L7jLwcwBwAJUtgABOV8BX3L2lC4939DnvEn4r17KprgRFEOAHgi91BEJDeFrw3mMQ7AAROaSLwCAt6eKigNlmy3KhoBZ99Gl2eguSjj6lQFIxOTMLr08VbVf5NwAyO+F3whkdgO8OViR7SzzAy+rfe3pkK6BmQXbZfR2qwhFKeKpSj+ZXEnUE67VuDeHano22P6SlZqMpajpz3Vqc0MgYpc-vMEI1nqGUdbeGyviWxtwkrJ7etuTzY6o07bWYHhAQiMBQyvkyDSJGgNX8XqagIEAQeHCFsr4opHvfU1IPob19XFUofMVvB3gFYQeE1PcwyjoMuy1lX9ckIw3prLYW7WoJ227aRs3WpByRs+DFURhl9jBpg-yMwOnTYSSBpLkwdvDz6z9G+pUL60m1ag19wsQ9XZwc5FgRNdiXQ6Pv8CRaxN2B9TTprk0M4a1a+sfZofmJSTipWEEw7MBNTUAQx9oaRK4TQDqGBYAmpfc4e3CqHmoiBxKAwHCNqHyogRpw-Qc31JSGV0oSqU6oMhG7HI2h85XpCD00xBBVu5sFqCdFvq3doARwD5UMCvDloCa81cUej3j1HlnO2EXOIQx9kIw6BhQ9gdhJ788F1uF9k4HNWkHFkwoJoA8CpqdL+IWoAQ5eO3al6BjsE-JlBBBZJdBikhx3sLCwNjHSa1VMDg8FSI6sReMhsI81AGNtLrWyhkSFwfagKaMdiRrQxa1z06GvIQR9BaX3B4GH7O8rYw85wla0Ha6ImkDeJpsOAnD18+Mw2D02OjHyCOxsZtuH2MpY7Z-gY4+Efd6aaVcHhrg0wZuPI93jf6lICidRORHdlwkaIzEcCPn7kjbqgEekacgurKdwSbI+KyXkW6r0wg3NSUcghlHNarcKo1WNp31H+dzRqpq0cd5CaBjTOtlquLmgibOw9iLCgACFXAcIETca3KgKnNAvKjmuAFkA5BGArkPhKtnKjyStpEqUAPJOoBBoc0PAEfahGn3LY-RWgd1BKfNVSmguigGrQ0HlO34lT5AFU7MDVM7gNTxALU0XjUBm7xK5UY8JQAABeywdVkQntPwnHThx18C6cm1unvJpMGQMsCVAZpfT-pwM9uGDNamAAbHNIrO2mkzCJp04vXTM5HMz3PJznKYzRiSvGrISMzuCkl-h7gkgIYrAFDNYVoAsoPCLMAlRDEAAsn8FABSSEIOaAAOwAAORM+VBrOpmsA9Z8Vo2Zs4emPq3phqm2Z9DCghi3ZkpXQD7PlQBzQyMM7EAjNDFC2jwUyHqcj3VmUzzpojoMYzPSnzzhwPM1hUPMdmTzPZ88-2a1MoBKzVZ1c2+bPibmlQ25+LFUGFCuQPem4Vs+2ePPlRTzvZ0C9ecVPKmtpAZo00Gc1MrmHTBx91BuY-OSnpTzZyNhmgABi0eIYtAHR3bgAAIoOdvzDnGgo58c5hZyAMBwA+M2XWNjtNQXyLMFqi66elOen9z8xRixQGYusWOLuF2-KcDvPlQHzT5486ReTMSW0zUlr8+6Z-O5m5L24BS7Lu3AsWhiKlw-AAFZKzYlsiylgMsrtqLxlxC-qYcBzEGLTF8qNZfKi2WOaBZgi0WZLO6W1zFF2C5Ppouym6LWFUoseBJTlBXAQxH5Y6CGI81VLDVBU+QQ51DEFTPFCAGnHNOWn1WugIFPMIMCvn9LlFty9JfdOyWM0iV5K6lfKjpWWAmVziw1XUtuAhiCgLLpPNIBsMQzEV6C65f3buWszJl8Vs1aSssg2rO4Dq11aGRAoHLFZpy3pZct1XJrDV6a55eQs+WEr81lK5ZeWvlQsrJLPC36dCtEXizJFza5FbrOGWGzsVjA-FdvzySSUHveIJ2e3A-KJ4Dgbq-MR1N1EvLhp-s0ylElyzSrVp3QIudtPVXxL216K-Bd3NemM0X1u4BoD+sA3CAQN7K-MV6sYW3yzAR89kGfPlRboKqeIMp0evjWdrfSKa9zxmt-nPr31nG2lcBtKUhkI2CC-Tdquo3vzB17y6hawpY2frJN-69zeBvbgALUtrCyBcvMvnkbtZ-gkLY8uNQvLKFsyyFdVN3XwrV12-AAHVlgDQQgD6CUrlRlJLgLAyrectq2cAGtrM7Rd7YZpTbjAc25baGI23E84lQm9uHABJXDTdAcPKxfKKqBQAYkklJHYtNWmxrgtl61uZkt7n3bZti2+UCts7hfbdtgO0GjgiTzMUybHcK-0eBDFjwuqPKPba2uO3nbLNnM7Nawoe2vbmdn27bZ0u6AeA61ja0jYdvrnGb9wZmzudduigM04AYNmUD4s7gua8rUa0bYarG2cEf6cqOAGy6KhQAPy7RERZtMJ2UbSduCynYxtYVx7zAagFPe3Az2SL89+Yl4z2lCDsUQxLLs0XwC6tTGM0y3dXaesTWmbe1+u7+bMsn3J7d1y+3PdADznu7Atve-VaMv7Wtbh1sW7fkAdn3gHs92W83YztZ3twOdnS5A8dsD3Pzr190yPbMvQAVgTUyyxaflaP9r724bs3RHyvlRBaUd5YB+k8NCW5ZsungKWd3u1397MVxq6naHNkPdUFDj6vq1lu3337CaIYpBwQi-XP7DNuuzudZskPhHVgIYpQ-EdDIeACNnuzVage7WYHLNkWzrYzSkOyx6j402I+ofamJ7yDzK6g54f92lHQIYhxmikmMVArogY264EOM0PQbepg00WeUmTyRA4AXrpYBzR2WnH756B4Q6zNNWsKHjvhDZe8e+OJHswAu31FYQyOFg0YXMwo8TtxPk7xlhu2zYarJPpAqTnx9aK1NrXHLvdmu+uZccQ84Hotsy5U+qfpOA76D729bfbv+3cHzjvh2jZ-izB7OiTtS+Gb6tRnYz8Z2W8Tb+taWKbODxp1-fwdD2UkrU8Z44Emc9XpnUt6M3GZG4LODnf1gaw9CGsjXCn21jZ7-Z3NjOJngjqZ7eZmek2z72l-2zQ8Wf3mybnz-q+4CZR021nDNu50Y4efbOnnR92-PnYyjZPi78JvJ1YAKd53MncLou6sCGKl3y7ldqpzE+V1Rons2iOgElc3A0HJjIkaY+JEEPCGFjYhlYyJDWNSHktug3QhYgFP+MRxTRuPa0YunY56mbLhNtLsbg6SE0Phvs4tvSBMmlQrJoQStHqMa0R8dux3QQEqOsj4CUUsxiINc64N8kvAsehPXCA51NgFqUcsS9JcxWC6KjrWz9cAgsB37QyAvVB0mTZB37K1PLvzeqtnw8AQtq12U8zw55aAdrh1-ntD1q7oOSgV1-tPdd82GnSZrY+QWU7PggAA')">function execute(exp) {
    return evaluate(exp, the_global_environment);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p17' class='permalink'></a><p>
      The
      
	<span style="color:green"><kbd>always-true</kbd> special form</span>
	<span style="color:blue">
	  <kbd>"always_true"</kbd> expression
	</span>
      
      provides for a query that is always satisfied.  It ignores its contents
      (normally empty) and simply passes through all the frames in the input
      stream.
      
	<span style="color:green"><kbd>Always-true</kbd></span>
	<span style="color:blue">The <kbd>"always_true"</kbd>
	expression
	</span>
      
      is used by the
      
	<span style="color:green"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      selector (section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>)
      
      to provide bodies for rules that were defined without bodies (that is,
      rules whose bodies are always satisfied).
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (always-true ignore frame-stream) frame-stream)

(put 'always-true 'qeval always-true)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPEuouFEPOIXCqGIfRcgUQh6GIOhKG4SbKyEoKUgYEEtAoLJRvGmopqmFYFOoFaflw4b1omrblOaRa6HIBQjsUDbJsobb5OBfAMSxBhDF8BQWHwBdDqMT7voXfAZDSK6brGk6Hpmug5rO0BFoqZQ2HIMr6BG27IcemYWlPBhEeR1G6HRiHNumloYaxpp4dSC1qDEOhrqm4m7tO51SgGn5afpxmwWO0nodh51ztSN5uNRTpmcx5T2dx0W9ucCW+fugXKdWamlqulhhHIBhiAAD0IQI3GcSXSdV2JSgS4gGHqtHka+7WGHXChrpWwxTfu6x8L06Z7a1nXvuEXwPa2lW4cW4x2km5RwZZh7pZxn5I9rRxhuT6PrY+IaefdpXQ-JwXFWFhh2A8LwQ-jtnE4XUvlHLvOydm82YmLkT3uYLQeYr5v9Orhg26zzv7orsOhfVjRCBBblUW7hOJ7YYOObPIb9Ftxh9cN4hjbRhuvYLr3jN90EGGBhhDvdlGxF1g2jcMBru5VnvTNIcyR9AGy7Ic5zqV8KbyD1ryPkl4dC0DVCKa9BCEEnsHZE3BL5hCogORahtqAKHlpWa2a9V4OEmFRWIQV564hQWgmgGCbaXBnrAwQpAxBhDDBRfUSCRYY3KOQvqaNkS4KgjEd8W8MjFWASvNeJd8BB2wXQA+PtYz6y0CIXWMMDz0C7ofKRsRhHOzBm7cRkjVGrngd7XRzphGzUUQzYenDHz4PjIGRabc-pG34T3C2cRrGMEOgwN4siwQOLYJXWMzQxwanoc+aMhozLBHEVZWy9knIuAgZQXwJBAGQOgTVHMZxeoFmBMfU+599Ab0MCrPBLiEiBhuNiS+gIAB81cQHDUvirGaBs6EZKwBApeHj6BiwVmtDG-N954IWqkSgpB+CqEXoNLQ6MRDy3oD8Te3Fp6x0xo-YyMsawrzluLBclI2gp15n0z2o8x6CKmVsnpDBOgrUuqQ5ZZsVbhUyZxDp6dU5GEoAoSghSBlQSYbrMaCT3p7Izu8z5ExilWNKaqcC44AohPhsKfQi1kYfHbtnYeHwwVcMPkFU5w0qikFRYPYgXdMVfK9k3OFkYXwrkbASolHyZyHUZIfPFq8DwMvRUzMlYROCUpXH8uxDF2WEpnGSs+DFsWxiCvSsVjKJVnmIExQoDDQnStcX3V5Md9AqKsZyoeU13Y8opRTZV6SVWtIgduGcp8HBcw1PoS610EFQSCuU-QDBqnv0hHa429Nahwm4E6reaZwEUI8oYbkjB8D8DxiYAmWV3jdzwX8rVdzPZCQpPQKkPLGRprRQar53czUxCGf8zQuI02gvJbq3u6RMi1rWFAyagxI1CBPrG-GKNE3u1lQWklGLGUTAMaott0bO3xu7aid2tbVxWyBVHN5Rs5VcqLcayYQEczwu4ZChMCNJ2E1nrGXaO4u2E3egDH63cnGgGaPWtgAVLXhvMB02u9dDlTSKVBRsgdfCMjfSIsRu8mKNm7HqPNUaO0zjPT2-Qv7N08OzQIX1d9-WhEZNak+IMUN0wdWBlpcYoW1JXr+ppsjhDyMrKYru+GR2GJ9jhtD3zZ30YaE3UNTz+q4wHh3AdTMG5fvJG6241shWKp1WhNlbcN63xNrvR+jy2nPpcB0+1XcBM-PJI2ZlQI2Vqfugq2s19N7byJvJ-eTF7UXq+j9Qz9S-VmKmtZwGD8qwMQeUJjVh1FPtNxjBmeGmm54Ksx9Gzv1hX+fKqFlz8mVxssi9ldxMmt53x3h+qG+86MxH5RFOqynGrNSUFAOAiBkDoG6sSTj5hkV7Tcr0kmntBkaourwL6ZBk2gAAD6deMhHEZ1QxAde6711I30fr9DM+l8Iw2-QtcyB1mIM3nSLUCbUYtGSrW1dWnZ5NERCieaIw3Hzyn1bMDEBICj1rq07D6PcMQmay1YTJeEAAZC93o-RW2MvCOJdkt2zvHfYckVIwbdsHb3cM8g53ahLVBG-cEwawFKaBz-MLWHQbXTB4RhMcx9A3l3hx5HWT536e5f1ugYgmkmdSxIprRGrvglJzpbgHxSADap7J+gHGIGLSZ1j3dNjIfQ8u3DjTjOHM8yRxApnzmr27zpzjz7eOkxDCV-jqbG7HnS4lwZpLN8UtyamwrwMuObzq4a1tfkYaUf7qRlOk2z3jfA7uxd2HO4yVWWNEIaDB7E3wi6z12bQvXdXY9+-asbPxRxrt4Tf3w3zgQIS4waLV7HeviCqblXme7TPc1xtk7Se7PGc50TNPywM9q5V0Rb7VuqvO79o7ZLpnq3zWa8HmHofGVWQbzrJvNOpcnZ707btrsyBGu+1RYT2IU9AxBsG7g2f-w1+54PzWjtf0t8nxqxfyuc-L8B1k2xrj+2kon+ntvLuO9w7D+CHjq6B8o+k-r5vZeBcuB37ng-nFFrnLmUvz5D2F+Z2Ie1+Xe78v+l0C4fezgcegey27eIu7uYB4IEBScvGkuK+KOqBC4Cy1ASym+5+9Ox8gQMg12oAeImBWS2BnSRYi6YIr+paGqmGJBZBpIWuJ21BVyZANy1AGCBB5eTBxBlQZBOghOPOqQVaDBJSEOl+iB9ByBaaD+xOImC6Kc2qxqW+RBO44IihLOQ6lBnE+axKOcBBsQAhRGH+Ne7BKOfaxhg6WKmhiuIwxq1hWSy6J+904+DhhBCY1eWKrh3+qQJKFaqhIKGhPhguaQGQ-+5KARHkyK6wK6ha1aLq5hMh96u+MREwX+8Ro2XI5cUh0hkRwBV+SBnyVkb6ShnEAGG+hRFeIwfhD0YhJ2vOUCU8ia-Bb+p2UOIBZRZMjObReBfuBhHkxiz+NOnRjBFhlee+ABIx5gl8xeBu2akxRR7+MxWQjReeuWsg+WTU8gRWbUpWnU3UOgdep2oyw0esgBRGi0Y2HAQg+g1xoAayoAACv2IytYLxfoz8r8esFRL0DxKmBsJgWgwgAQJgxAvBtQjQSOROnE86WCGio+hK3ApGmm2OgYDOx0rCa84IWWioyJkgY+aJoiPQOW8JuRnSEMuJymq8NxMhJRchq8nuLCcieJ8xcSymw+LsxJhK9JTu2SqKLBMg3AFBcR5gwiG+MgDJWJQhpBopoAbB+eNh3JJi8gjmYIMpgpzBwhipohOR1wKhYmtY0yXispaIcOt+x+h0+JKg9A5pEpzuJpw0h0Fp3RwubuYIh0VkLpVRHkLpNBXi+gbpgpO+bpzRKO0cXwd8FOlG1Gw8QWrqGqN4FJECfacgYM+SFMYZSuaZJ20Z+AxgJcMCvJX6+2mJLgWEmZ10Hm5wjYlAt2wRgK6pSi90jI96JwlJRpdwNZacl6eo9EiqqRlZPAG4-0YW3y58nJ+xYMsueoq8vJzwFZXRuOfZM5fZdmvaS5kQK5UxvhKu65hpwJ5G8ZGppKA5U5nQ3yLA6w1sSZ4OWJk0YgjZE5gMCCv2HAFOr5p4SwfopQWEiJvJb5P0V5eoe8t5xZTcxkzQX5L5qgIF4FoAAAPMCM+T+deTer3OEpuOCAACovSgA3B0B-qXytaeFNiDEwnvygAADU3xo65OYgQowcM+CC9Fdp4IdFDFUirOA2LFIZmFWFvxES+FhFMgxAjk1CYg5FhqlFk81A1FXF9FLGhQfFFOAlbF4QHFVk3FqlsQ6lzFMgwcv5te3ZaIL00k85O2M+gmSIBZMMS0L02ID5KwECY6iFYFI5foZaGRWl+l7Mjl6I2I+lhQhZsZV8rZmp2Zc0WFKkqOgMI4H2zhl5cVT0uOploVt61IUamRnle8N4plCGrEAqiKs0SVjZ95AKuIUVPMmaKwOFiFUSdA305QoAiOxVKq26h8dKvJjIGZwF-K6qRGHlm5bFi5YMOihim5eS65nV5qC1+5gYs0TlRAMVkZWSIWA5NlA5Q5dlaiDllYq1LlOZO6eYJ2HlbFQ53lzovl0R+Vs6gVR1wVEmUi4VA2Z5bZTM7Gs6zQM+SVuO-lPspQ8EGV15Q5aVsQf1uVREqVNodoRVJaoAOopVBg5VHxTZ1Vn1mp9V0wjVtl78tkrVIg7VYMySTOaS2o3VsYvVZNQIA1WZQ1PlGqo1vJ8525k1BJBEM1DEHN10liFqgtXRK1L1FJ0gTUexhWrUJWHU5WGA5xyCbOJC0JbCBY2ijhxRPRpRWpDgVkxC6CxA-p5g+ttyDAqCk8fGHcJsnCGt6xDRh5OChOhUStBtqt06GGcO6YDOcwdpsQcwq4U1hQDOHIvtMQHIAdWWDOGEodY5B4EdXtVp1qMd1q8dR82hc2bAdpGdzogdsQDO3Ehgk85AvgdpBdRdf6ioudMQDOOFodOFsYVdQpYI4INwjZlyLAhg+Jrdqg7djUKwjdDOtFMdsQTx3AvgP2NSAC9FFdA9Vpnkw9MQo9oA49XqACPkM9kdVpga0wS9K9AIk9oAkIy9MQs92hwAC9Bg-xy9E9bxoAYAG9Cd2hAApBfbvTfQAk-cfaAKfc3eJMPW-avUlePZvdoQAISSj-1X170H3gNAjAOP3N3IWv1QPv0oWxDwNp2IMAgL0AP7233IVAjX0gPN1VLINj2oM1IxAYMNAM5VLYPcBFC4MH10NUM-0QigMX232FB4MxCgOxDXHpgFRIY8Au2m3CJsWAgrjupzDcAm0q1rwtLO2oKu3CL4AsAABWoJjUAIUjGg4iXqUdoj0JdpO+FijdRQcjZCCjaYkUwjlj1sXuclQIV2DOq2wgdpbj5jrGTdEIkAdA3oe0JdDDfjATCSXjrGDO3dDAsAkAodUTMT4T9GkTVAPdAAojHVE6k4k4YgzgAHLkC5MX35O5OQ0ERCPvACD2M0FZxOYSM6MrDurCh4Nrl7xVOOOxG2MVMiPKOm3tNbmSMNN6NNM1KmMXjdPK1kLtMtLmUpILxOxGNWN0lUKXzWrumEJm2MBqikALwfXqPkDViRps6aCvVXhVPm0cA8wdGcJc3TArOggIhFBPoo7ThvS1XDzukyItrY3KJoQTwtr6BVPiOXncBZXjOu19NaU3NFB-MiAAsLOYLclqOaOmDMaGJtNIbe5bnZOxCVXlotkKLnmeyKYcACC4tiBfC3lQEEtfXFQvOEDfPvNdl5ZA4FYHHS3tRlYYDy0zOeIUCmAMBRwfDlQ3CkDlwR7UC9iCktZtabjhkowSt-AborizAbF5XiskTaXvwMDKXUhMUCVyuR6KuTArjNAGsKscC14QKjQ3BAoaJgnvJs4U43VrGCDKDKCtYZArxGBwJus32NT0X6DkButJXghcWlChvZWcXcVBvKDYuKiht6GOu0IzkODOzGAOvs7SXfKLGpsozGDPDQSPkuCGXcXggQjcXWs6zGB2trbuo5t0BptcBZu4IcXWDghOnSiNtMBkAKCBs0LukZ19v3bKvvz3q6QmTqxXaXyvYvbKRIog73U3jTvTadbJWDBLv9vhCwPvzFDwgjuq4jDTshu7uvG8tBsziCuxQivlzTswUGCtEKXTwmxHtvYqIXRZljHU7PubtOLhvlv0W5uErWwrS9u47wJDsbp6WrhcU6sz7o6g6fsl4QeasqIwfcWAfFkgcHvrsq7gfLstuodtt3sYfDSSSgh2kNKdt5vAc9vGsrDFxYS3s7RUdAcQjR3cBXZgf9vw1ZDLvcAkfdukCCQmvqyGUQcjvggADkOrlSHF0nInhlAl07HbAnUcpAwcanK9yZtxC78210Mr2H+gmncbsYDOQg7jVkwQnFDkzO78FoxYnFoyHA8IdHT0JHhnxnPHRntY6ne8AnIH5sASDb1HHnPnwDf43nZA4XqnYXG1nEezBzygRzTKDE8zHgKW+SBsA7NMgxT7aMG85sJ6zd88QxqIdpiHyxRMBXULhQ7qCX6wSX1AmgRehs6XbgcCNC7sBXrn8V77mOBXI7DOu7LO21p8oO3XInG8x5oAmnF6f8esaXMcbgmXhAmafyJXeXVXWXuNdK3J-1QIK4cHY3H7ap4xJs3XZqztbXxgFG8C8Uejs3H083i3KWHXtCK3AtLrQLYWIb0dI7WEuOrXS3N3lynXe8O+QPKWMO8CSr9HEtQO85IbSd-38gwP0PnXIn33iVv24I9XhzTXKXiq472M1Ze3u1tadX+zDXyXLXqPr3WbH3PXVMpPCPBNkPbg6PybVKlEfy4323EKQUQ3dpR3c+jN233PNKwkGqU35I5w1uWSCSJAH3UrqQWEA3zHuO6vE7jVG8zVMS380B5givhtM5ninhyv2nMhavWXI7qZNvcPOvBsevX8wJX75gZvhqcJ2uWksUlA+AJc1sAwFQgwBXgpxvyvOP9n1UHbQflyHP2k5UG+oflvJuSuHvRaF3TzyhdwLA1Q3EFOglhrS4bmiq7pWE6ryEJf54HbufMycZFfjwtf+f92uZIwTfA2M57f9fwqXfLfKfLgN4vfnfefH11QNswFDfTb65gpbYngk-3AR5KpWSnzsL8-VfU-O5-fsdFkKhvfhf5rTbbpC-S503i0EeFvRbHpvRYIuvO7XvLRFT3uErUyt-fZ-HLVMaciEeDA6gIgHApAmaK1kQEXhZcIUMQP5Of265gCs0XTXvv+hH5xkx+fZFbsf0mpI1RycA37G40erShiaFGb-r-2ED-8UBs5fmr9XtKEBg4vfHbEP3mrkR4Ufya3qt1xpS8iMWEXIJQMM7dduAHA4OHb2YF0Dka1NZmkRhl5ZhZel-XgR92m6s5+gCgS5M2jkQVBkYvgNbIYDZDKDi6MOQwKSBV5RF5s6gwrlxEjBaCKMOgp4CJwB5K5DBNXEen6xGRyCFBJAJQSYNUFfZAgV0BCEYAoK2DvGRQTQW4PeikgZy1QFaA8TIQBC1BGg1wdoN0Fb9B2hgkdpELMHEgLBcPKwc4R8G1ongXqUIWQHCHWxkh+gZIUEKeC+C-QOQvBrIM8FEQKCZldyg4M8EyBkYHyIZrrWpDulmhVAWRO3A8G9tqh8gxpu0OyJL9OIXQygD0IGEOs5B2XfQUvj6FGD70InPIds36ARCYhgwQ+IDUaGCQaulQmpOMMmE7DphNQlXAMO2LnEV+FGIUNU1BDDw1+2sMmNP2-TCNMBoAagUgIn7ytxQqA-mkxCCiYCwIwYccCOyuH78fhXEKgL8L5CWDuh3BBgK3X4jUC-oQ-bgI8OhFxcPIvEa5AiNCgIVeIaIqEaQLrBb8+yIbGQEmFqBcUJOFIvYFSMm7tAJYBIyEQ9B4pFBSgZImIMsNSDn9eI4QUEXrFPI3DKQdwpmMyPRHEjAu6sLCHyNABvZpR45R4UYOxHwjERCFG8HyPKGKgbwSorUehDhFJBcRfEBCoDyoAmd6MuOXUaC25pLkpR4IWkRwHcYyCBsJLbKFMOeJb8sIV9fYe1WiKYj3efQOuJckYBR8Z4oY5wNwFm7MjZuzwrTMIzVH9w+EviRkCqMNFqjIu6nYfGTHDH0AQWfg1cDGJP6X8ExPidKOpAdH0jmOSwuHhFVdHJ5jhJYpMQ9Gm68BiyeffWACzNF6CxOpopotNzSi9C5BOINkN0DiFxium2jcQJIGHFlhfAypUctoyBHqhagdaaItlUMCn8ZQC3IkMDE7GsiXhXTboIyF7HFUy05-boOEHDa7tsq3QYlpIFAB4UAAEqkwYAABBcAOAFSYAAlPCpAAADyuTZAECE7LnEJKxouPj73vipi6AGIwUq2Otjti9Ye465EYIHGIToe8fadMhO4JSiBxnQBcDmPeAds8JmQCCcWHvjuknxL498Z+J-H-jAJxEyQBswqB6wMJkElYtBPdIDiphiEhgDuNIKcSrIhEzyAMPv42E8+ZEhPhxINEwTJRgpAYTbBaHupdUjw1rNUhYxqATAXgYMZJJniqTLIY5CYdwQxG+CwJagXSVBJkkYjCcJLOIBkAcaf8VojIAAAxdkIENQRyP3HslOD2isUagIMAezeTcgDgJyUCCc4OSQp2geiniH+EapwpnSSKaQA7bzoPJEqIvq6W+GV94pG3RNGbUgiX8sI4IYbtv2yDeScpfk8EhF0n4XCZmgQYNGlIP6pBqgpUi1ngnfBlTcuuU-yR2UkpeSOAPk0ruVH8nJRyQ8SQINbEcidBy4yfFcGeJRjK9D4lsFQqlMn4kDspnUiqTegY7jkteVcLCA4ImlTSuB23PUWHXGkMBJpbAcuPwNh4-EWgBsR9KOQOkXSjp4U-0S4AqDODQgJ8LboQHojpTYJUEMacQEOlXT8kLAhFPex5HzSHw0AwUGVUZFZA1+sMs6oqCCifElUh8VVHDKNCvD4BdfK+J8MZoYj0B0wAEUlWwGqIOR15YgKFWaDPTLp5cZET30+4ZgsA0EbGajNHLIIdp-IgiKUAZlHTNeuCbrOyHOmMy8qD4cgRSKjBI02Il-QWWDIK7TcrhZtEGONGNh-BwRlfU8IDPHFUg3hHwxgMgLX6L94ZBgOAdu08bQCgoDgFikaKREICr4KIp2XvGtFFBdZkoo4GyOxkQD5pp4LhIYjwCQgQ5tKV4U7PxnN8Nm4-LMp7LNlkyNUlspcRBEWnSh7Z6Y+fu7JiDMzxMqI9mdBFQjrlD4pkQUf8zX5xyixXValP8AHCfSW0qQNGJ7NNm2jdywc0OSsCCj2jKRTo2XsINYEJgwR5czoCTIkHy9OIds4yg7PxF7hfwsY0cmSJx4Vj3GNI7ucTyph7ImRM8owX2W5FpSAWFBNkSUHulCj1ZRZO+FrMIAzyMRu83kboIFEnynYZ86gBfN-CXzYJd9MACHMhC7yZRB8+UTzIPAAtSQI7CebiHTEaishhiDUaSFOmFBQFU8wzpfPNE+xAeMCrOYqDmoicu5dInuWPKpLhT3kq6WYUyS9KELC0vpeyUbRcBvAkYrYk2G9Nb44c7Qb0mcvFI3wML4hunTYlXhVwsKjBZnNgJNN8DDJLie7OHjvloj2Sap0uNoriB1gELwpkYsLlmOuRKKouMc-mm1OEZIwJsfUiUC4nqmT8mpRMN6SBmEbwLSxLKVcPAvTFRirJWcmhWeAmI6L20b02BQ0ELFoDL+FipseSNXkjtqx2vSZNbE04tTrYG+FxYwDcWzpaxkgN0ccJ8U0hfEZlWyVRIYBfjrIAAGVSZATfRmQNySdjMk91wp7saCXrNHLwTmJHYziSOzQlbiYcJS7CUkFwlMT8Jei92DORIkLhGllE58ekqyU5LGJM4dCRRkaWcT5JOwpwf811TcTjhvE-iU0okTuKigt+eySJJ2HwhfBsyvoRCGKmrKOA6yvoS52m7rMxlVkuSVvwUnjDlJV4cKV6hYzrN5F9ksJbI3OXrlTJkgcyWcqMlJBrJzosaP1NCV2KflsksajsPdJXKlJejFcAvJqSHwFJMLCjEUNnTehbumE++MCtUWSitRPo05fZPdiYrjJko8xmCoWEqzglArMLhmJ6CkqZhWirpq0GRCMg0oeORJMNE87vw8UlKqLpTSWouBGVDgCmTCg1Ajs74AKkJVSs07QjBxV0KUQKsmxTRzeHK2lbKtP7GKWJ4oPcbMJ7FK4+RK7dWOfxPHvTdWwQQPuiuyhj9EJgbc1bTl+SIpFoiEzVYRKlS4zDxfgRkPMvLC7jnVSNRsO6xfgGZCJMqsSKFW2VDjugQkm1YcrkG8qLG-AHEJGvYl0Bo1V0fEofEY42ruAPo-1XVJnBBrzhxVTmaPJmYfBTVei6OVao4X6zKmMkxkI4roVoxTF5IP5I6ovkySXVDQRsEeKBCercQu4zib6u0WJBc15agYQMykRhqroCa9+OFJTUKBY1hQIqNOv2XEA51aa2MFhEUUGAb6OagzPFILUS81U6SPBQsWECjLvJwQCyWjGdV6CCFN6kdrHzvU2qpRsfQidaqTUzlX1Nq99eRK5x4JS1gQK9YwEtVbif1UkiRGYq6Y-Q0VSaycWkponfjfxAE8AExHg0fjEN9E3JRmqTVZqb60GoDQRi6LggMQ7bUYR5EfXPKq1alP3oBvikgaWJYS4qlFDYDnqOAcGvpRkuyUobyQaSzjTkpTHjkt1Po-DSUtPEapiNXgUjSeudzNlcQbwdRnSQKSzCMiSmjtn2nk0UIVuzreoiH2aSsKt4M4DTSiC656aw+KuVTWRuqxBEsaBdBTUDi03Kb7qFmhPIUo5TQYUgdm0wA5sYUOaO27hWzRQhM2EBtNKZczXpo7Y1AxAQ0CjKEqU0+bnN5xeTfgGalGaUW0q84XoNk00FPNAWegDlr-JPQVVCgETkluanuFUtRaCrbylUpcrQl6mvLZpqq0HwyI01NmgetaRLrGcIgTirVrC52lStEG84rZuS1EwAtxm9LeCsy02aPNdJMbSi0WHRFlhiq1Yfs0KEbCTmfoXrVFxFSoo5tYIPbbymJHBrmtDQH0cNrK0Ga8YM24zcUOu3zaUIqiIrbXk61WcrIW29TqXQ80jabG7k4gFFqmT6IjtGWy5ZMuuXQqrwsK9mYqEHbvbg4kW6LdyvU5Dtqt+YtSi6LiX1idlc1WwC1vZHUh0dfvTHUOKLkFzsq96B7UUCe2PJOtNnHrRSs052l4dWgH7QWVYnusX+oArfmylv5ksKWPwN5ltGm549GuzXP6IDqe2TggokKqgDcqMR9V96xkfWCYH4DDRNIzAKaM-2GhZUuOybaEcspDIL8J61oxqpWDzGo6P4+vKslQDcykBkkylfObjtx5U98eouhiC51-b46KcdY4NRNTIF3TydxkKnRkk63C6aetpN7fTr63cBQ9BPOzDY0bA3AFuZdFQYyAACcJwRPDxBUE+7nWmewutnoUlbZ3kQaCGbz3uofAO1rEBgYihcC-ZnJEMwoMnuLr6BJOknKyGgA70Lqt01cnGTECb3BxthrM-wVnuLrBqzaK0E4fIOrx7wXAPkcUiuHlmN6R9laSZUXu+SJ6rt+e4usavZ6pBQl1QIqCeDIDfQ74YTelVSFaCMhHuv8ZgAt132djWOB+-gKWyODHLm1iKDBKQBP2BNQA27HQnSKmj+5UZ-eiEN5B8i76ZuYXeGA22f2AJ56DzFcCAZi7bbWgxwIQT3oiAsQBwQav3gH0uRnq1sqBiGRRv6mXq31X6pNYBg05D6Bwn+7-Qkl-3qQ74X5HSA3tiAgHwQYB7yEyF-UuAg+K4rg95H8joHKImB3uRgcQPL7QDghyA1FxcRJKvkcBrg13r73L6fd8KyZbLoh3y6qkoVZA0jvdlq6n+K8VoHroMCm6moN9WKlqNh1GcWcBO+JTsvvQbpC1WfMYW5uDGGBHI7WJ-fuOrUzcr9yip7rfpe7LdG2SKGAwIA4qv7LEtNZ1IyFsOmHPd5LDHT7ucNiadOcw33SGgk4OQiKeIgbCyPICyRoIQXLtvvsf4a6TDC+JXH2UO0G7LDXqWKicsEXF0RFppXDKaom0LDBSRW6nfGsZytHhFTAURRHo2RaBEdQTQQEMfaOMQcAu+yYy3tDH6B8xAAHSwB3rFBFGXAzIGCC9tydy9chrgjQht7w8x+osibxOALHQlknZY2sY2PPLEVTAf3rsaE6djAFvAE8HvB6BYRPjoAAAF5jNQA6x6FlseeM2w9jDRnoICeON6RTj4IOgxcZqioQ2kHhoQF4fay3GwTOxyE1Aw45WlijFRTisoE4ruNJgknNMHgGuNUqsTX08E68d7Z4mfGjOTiiwGJOkmXO8J-yEAA')">function always_true(ignore, frame_stream) {
    return frame_stream;
}
put("always_true", "evaluate_query", always_true);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p18' class='permalink'></a><p>
      The selectors that define the syntax of <kbd>not</kbd>
      and
      
	<span style="color:green"><kbd>lisp-value</kbd></span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	</span>
      
      are given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.3' class='permalink'></a><h1>
    4.4.4.3&nbsp;&nbsp;&nbsp;Finding Assertions by Pattern Matching</h1></div>
    
    
    <div class='permalink'>
<a name='p19' class='permalink'></a><p>
      
      
      
	<span style="color:green"><kbd>Find-assertions</kbd>,
	</span>
	<span style="color:blue">
	  The function <kbd>find_assertions</kbd>,
	</span>
      
      called by
      
	<span style="color:green"><kbd>simple-query</kbd>
	</span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), takes as input a pattern
      and a frame. It returns a stream of frames, each extending the given one
      by a data-base match of the given pattern.  It uses
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) to get a stream of all the
      assertions in the data base that should be checked for a match against the
      pattern and the frame.  The reason for
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      here is that we can often apply simple tests that will eliminate many of
      the entries in the data base from the pool of candidates for a successful
      match. The system would still work if we eliminated
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      and simply checked a stream of all assertions in the data base, but
      the computation would be less efficient because we would need to make
      many more calls to the matcher.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (find-assertions pattern frame)
  (stream-flatmap (lambda (datum)
                    (check-an-assertion datum pattern frame))
                  (fetch-assertions pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNNSPIz1KPSKihyYEdCGkYVAVFGhBOE6QunqbpQDEWgmBbJpiP9fcBBA4saPPCQOE0S9qjkMiWLYpoOLTDSMn40ApNHAQxKBIwJNswQhPs2SmnkxTlMIoEXKvDTEMBXo5LWULjGQwYXiUhhwLo5R8OUCY53wViVKI6gSJM3jlKo7SzwS0AGIA0QgNY4KUgs4yeLfayBLc6SHIyholNId0oRkRjmNyuonOSK5IlEMDdJwn1wkiJLQBS0Q0phPr+oaEqmLK0yzOSbzRCUlr6jU9Yb00-LT1o6t9MMzruLWzzGmqqz+Ia4d7Mc1wAEh6jajqahyt9EjexaBommRBtGgzptS1iFv+xor0u3KYUQv6jE27a-MBD7AvXRtkvByrGgijbwqQ-oUIEKwwlIOMZDYZ7AhcmN7tACD-3QzCIKPHdUJZ7h2ePembIglVYtINn-o8QXRlIHmLgUhgo0iNhlAggBVQgK0ISgAHcaCdUZXWRABafXityhDrtAfH1k2GhSdocm4zhHA9p1l1C3KkDn2mFj-C6PbQ39Kjnb16kvaZtCMO4U2sD231-cdZ0g-KyDxbiyOC2ij2OA9FVScIYMZBShhyF6sHZvSvyXOBgui5+ku5odqLkSzwQVWDDgq9ymQm5z4MaZc1cu5bxDegbmgB9ztvwc77PB5agKjLHnv6+J6KF44FUOEjdh33bmvN7YMuRTbLYCvLHfvVAPfWKXxFoqYAAPKlZDPphsdL5RL97o+aGBjOF-zlhC7FxmnNd+Lp95D3vMvZE99H5r1wBwYiYF+DgWfgsCkoCt40z2gvECq916X3-oA3eYCr6HytqAHBDM7IiQEIqDwMD+BPwAdXc+Ah0EXxIf2QIlwKSJmpFiCmUQp7N3HsA98C8EgqHYR-B24YwAj1oBw6MEAYDwCQKgNA8g0CaEgTfZEOxhqJjnDIesbBuDUGQZ-ch4p8BsA9KMEx0ZzEiWGLoUAAAfdx24dhghbo4sxFjXFGE8d46wHo0LvEIP45xliPFePMp2PY0TAmkDccE+JN1rDULmKYmJrjr6PkMbrMqYjkkuNSfoVwZD2y5JSbIkeHZ3TBlDEIYa9AyhsFIJeGITSrHth2MDegnTdAADIRlLluEMipDNSA9KqMGepUDLCdi3mU2J5cv6NPmS0jgbTwK1PKYrQgW9I7DyWXQCQdjKBlUoPA45+81lBI2eQ1cV4DmWIgWnZEGdtLkGDIQfewx6Qt2UPfbgzASyDD6VsPZkFfn-MBcLfEjAQUKTvuCpgkLqAQIaTseFALkGPIqc8-p1htk+Fhe84Yit8WItOV8oskKEXIN8Jc8JDgqXEuqVsV5RleWdU5fDHF5zaUsrERwMFELaCDCJdCmg-KHBvKcSk+Giy9HLOKMQcQLsZVTLlVslgzSKUjSmYrNSgZ2oiC1QAoOCE4mhKaTs2FprGbP01dq21ugQlnPVZ4a1OrqCsquTaYZGU+63CvAqjpqTVUcgaVaj1rtxWSsxdK6g0bnrhr1DIK8MNMQxs+bi6w4g7FsIleiqVur82Zs2TsclrSTX5sViWj0ZaU1YsIPShpLay1hBIYmWgGaw2bKZHINl1yOC3JsFvZQUa9V3m7ewVtLBM6UAEBIIdhEs2yFzUZedhbzk7AkjSCkTBEWbqSC5OthqnWNs6YrY99BT10uFb6497a01RL1cOl5Ea93VoPb6nY35SaFmMd+klYoyU3uNe0l1EEQPkDA2VD9gw7UhISY62D4F4OIeQyekYL6CkoTw4MQCGLSZMRGBe4wLk9kcGYLgaNygnDEeiqR6ggFiLTjSkCiDl7Nn0cY8x0AOg2PIg48csqc4+GuimDR5ygmwIMaEiJvMarHw+J4-wYg75+O0drdBo1Da4NNsZkpGcOmmBdvORnCzvHdPRubFupT7SIL2asxBZFnSCTiZoB5kg0wn2EeQYOiDxgBO-uzXm4Zr7HwjgYPQAjZ7CVTOc5F9sq40txZQhC9qwWUvDDC-m9LBnyExdIL5uNh7rBnu4KQPSAXHPZZ-aS3Ykpst+caeIJLBXz0tZc9YxJkoKubg0yhHYXoywVgU4pobWGTM4bMxBKbxAKw2d9atisq712zctplv9F0APjeini3gw0qNVtDYNtr9bdl3q6YzAoF3PVdZHuWjFHbZvbpzf+2LXWAGt1Q1lb7myo0VdjfCItE9Ihgv1de4z932lgsVm4elDLQi8NGPwiklNyZoMex-WemzL71UZrgao0gIKgDoeTynAgRYpEnDOYx+OpEVNp6TowiplTWALkDCkuhacMKKBxBBWUkFArZ2wwnnCeeNOBuTUZ4yBmAxl1wo45M+GMlx0Iq8SvIZQyMFedXhujda+xzrwRNxs0G6lkbnUtxTf24d0YD+GvpYQQp1CKnJ3kTStzuMUggawQWjvvq4Gd9lDGlAPKQDj44wZm24GLgJYJYyu0un6gyhLMMD0mz3Pekid+T2gIuMKnSKiFjhbiwVvKaF44GzzPcVBjKBd670ADeZHcpoGXqIFe7D+35t78YDPafynlwH4MQeQ+0iprrgfVf48oXwEpNebk74C65a2ebvjc429kEr5f0U-bmnYLpXCC4CJrD2ooqifsL+JWrGJnvdAyfZM0nKPYSo6B+6GCIO+DgbCW5LfLBLKf0BcECVcJXM2K9PnABXSXQDwCCNHH-BcWRIPUAAAFQAAkABRDgAAQXAHADwIACUsDIAAB5AAOWQConlC6Ax1wA2HL2b0LEHRrzxA4UwWJ3IVX2mGznvi3z4Q9yMA8FPyELvh8HYMGE4KxwsDEJ-1PznGkzTxbyyi6xUPsFTyFjkI-Ff1wIIOINIIoOoLoK0I2HXwAJkPUI4JEOx31VP1D3PykKANOhAK4MkQglkOoH1hcLYHRwjCWUUUjGUSgDgEQGQHQC0XkF0UfCYGAVPSJVBUIAmBrXmyKRdA5WVXKSUPENAiMRKUnkFXHF52nQeVKMaA8GZnDiDXZQnlLjHWDUnTuVWUFVSPSLKMaQTRtULFlXHHoRmndT6JlU5U6PyJ-zxSZQJSBSqIHAUmGNFTmNyOQQmO6OA2oFAzIxyICTyMGMWK4y2KQx2JSIUjSMmPKJ7RXWByiXmPqA8AzhHi6iXV7RtX3gHVlTNwd2uJ2w3Q6POK6MaHKKa3fHuNlEOLKlBPTEs0C2S0RUHQBP4CBIaHKK2wGOqMhMzkYhm3GMBMuMaUfSqBCxWL2MsQOMSMAiJOfUJTxORIJLO24Be36PBOSA8Gew3UpNmmSPe1uK+PxO+KaHoynTEUHUBw+0rRByRIuIJNGDljOOVlVnVi1guWGBYDvlAENkhNnBGHRwaQ5JZG4MB1KyMGqgGULjYBOM+GeNxBhB2n22PnO3zwtKtOmBtNZADAYGDCq2MGRmUjNOsFqSHA3iWUNLtNRljHAPWEr1ji5J1PfHe3CV21tMFI7xFyEGRIiGoHPXb0Wnez7S3k+JTNzP6mNNTI70iiWQlTSKzNmPAltPWjKza2PVKQhUH0mI5hbPBnF1eCBTbKX3ZhCA-2uj9PtLlIbENMVhVjVk1jJHOQaz4E1KNg5Mjl9I5Ax2FPgVFJkDBVoAmJ2jpmxEBwyGyDjOSMBwmNBXRSqyh3OS5J7O2M412LyUe3pL4NuwYD9CiE5KSOo0k3I2YEo2SOlPSI7KGNSmAuOPw241hP2VWNcXWKaEnF-LBKgp2K4Cr2xzk1QrJIQvxL-yxOhLS33L8gDIlTMQa18G00Cyc3DMVBcmHPCgUi2n9M4hkAMWLHy2JMKyWx8zovEk2TPOowS1624v6xKwSHpLNlHIjKMD2hEq4s6UaLShAiPCEoTIiFEppL4wksUCksVDIq7KaIUppCUrEX4qaBchMqmWUqYDNlcBkqPBcnvOhPtzy3hNC1or0ouPsrXIcvXO7WUynSIHxTmHuUxX1VHQ4BPMZighCpmOkHgmUHCpvPiJQloCYmpEoD9BGIDR-FlRajIuhMFRplcFvxKxAlBI8qK1lV8rmzazq0oqIokqli-3sClhCAKEYTkEysnRyt6LysHWsrEtSwksNA7wypT2ystQzETX0JLPqDs2osc3cr608uy1jQcuYpRnosM1yqDgxKaBqJGgGoTloHHWfJVQ7J-0YMJlvN9XvPRLpIuJamwTXQkFwRxL+NqpvyjO6i2kqt6umv2vsKTIkFxkjJ-H9HiulX+WkDv1AiS2CuOQStkH+p9KbK2HUs7neqvNgUzKjDrK6lKj3IWorNclCqbDb3Jtd3pOP2gWGOpJJLgtwtfJesg17xYBfCMrShkClmxvfQrVTTGPgtSQmPppoHvOWJZpfJIt+qhtrjym1PPJmMRVsolOFvTRAohvxXqInVKWlr1suryNfjSgmNgM2TEQIvvNOpZNFrltcF1vOpaNKVtrdGdvZS+MVGxrdsDWTSFq+21sFP0vtHkRCKURjAiLUWiM0RzDStOzJU-PfHD3fKg1XWuVYCiRTu3A8A1JmSTppyQplnlKj0ZnCQzsDDRT4DIGkFrAzCYHICmAECCD1Nsy5rdNDILI+NGD3IoVxvxNTpoFhQQ2VWDJHi83ty7o2B7uUDBvNuqyA0DNHqKBtPhyM1vXaVwDNWXqEHHpy2inzPeOnsSxxH1SE1Uy3tAFYwXviyrLBtPsHsRvamE0vpfx9VvvVWrImFrPPVwDPuUxfuUHUwCrbu5q-lsscV7O30xqHpGggh5us2UG-CpFSS6yPXAdKXMsfoRw3pQXBgfQwfBg20fAQZ7JQf-lLn1SjXMolvOK1UoCny-p-sJTfI5uNk6hDuYM0vagIVYdf1XE4YaR03-DXw9A3UvhIqqR33bGBgkfwo5D2lmWmEar0gJuzOQRAluoxyeJIWaPZV7tFIj0Bg9uuQMfBlSoaUviNqGs4UqQi2kZ5VuG73fpQise3OLykZgfYYcGcfjugQfkYSYcJv6wurMa2lnuLGUfZtf3GFzlmT0dMZBBslieDHiZmkPCOsx2uB0dWRMfCZLgJAibX3pO3BCBSfibyebAAB4-x+BUmhF0nrrQB6FZYJyIIsC0InxAwPrAdbFQs6BMImTyBpAQhqcABqQuh3PfYMDiDdSp3QCZrzRmUACZha6Z2ZihzcQc4utpjpygC+JgDWT04MPporAZ87YZ5u5Z1Z13dZ3AOZ0JhZxmRWFZyZo3O5jdRp2h2ozCI2iBvJh2ysh6tI3ZNCZkPh+oBpSar9UJ1+E0xoOA9rGoR53M+hEF5mZkMmuhkRluIJ9RoFOm3MkIPJsnLLFF13XcW4Rpha4lzK37C6R586BwL5uq82Ayti5EsnJR8i+rVRms4J9ZNS1pyIAFxmFWcJIcWPE5CGranye0zKBW0nKiEy3hnypyzZaFnEEhaxrVzBcspyNx8x3V8BGVvys1+qrG9FsFnctV+6x8J2i6-5i61+QFt3O8q1p0G19I+Vi+c5TVypuF0qlIRFrseZ+3NFiYUFz1ks4Rhh3FtRomwlxaYli60lyZcl0WOgKw1cdJ1+Jp7hOgOlmGRl7xzZxsra9ltMTlmZHpFRvFusoN5IcckV51sVwgCVoMcKpc6iP5Os1clIRywEeSkhECFV3R-SgS8hTVqxyp41iGLFng-eWymxzBU1pGQmBxyWj18F21nAYI9VUIqMSO1RKIjRLRbADHc08gS0iga00M201rNOu7WFXERWcFa9104hlCd9m9xuwQsxcYRFA6h9m7Rx6LIyBs2RaOF029jug9kCWFB4Ye5cJZ4wZcIEca1wYe60VD43aoDD744ewaXDrJpMQETD4wYevZEjvZAjpDuBmxewJZxj0QRoCjowYem2JkyQJZrjtQNjwjuB5t3D5t8jwTtzARfvT0WgLzSTrgD0RReodjp+yCMZkj4wGQUu8GmKjUiZj60AZT4e-WdT1ILTkEbIDUo2fTwzuBpKlITT5QbT54DUqCUAaz8T8CCCYAEztMMznT0AMAdz+jtzAAUh84c7c-M9AA1JC7c6MBs7c3unU4i6c4s7J3Bo88ggAEJ+Jku-PnPQAcuqIMvgvPOqnwv8u0uamjASuUhh6qn0gTOUuouNSGuauEvPPMgKvHOWvQBsh2vMuIJMhGvlBAhmv-PhuBvSvsufPovAhngjAsvjBw8HhEJoOP3YOQzP7KmMhFRR1lwfQYO-2tvMwqt1vf273P7KAPQAArDMSrXbxa7EXEGKojo7qYJZqNBs5TwIH910k7jgxCKOKMv7zb81M5qiWFYej-JZj-H7mm4eyAQgYSJDCQVDpHlHhreH8m4euT2ASAXDvHyAbHis3HikfvPAkjuTvAknjvYemglgGgnzhnmg-NqGNbkH976YcH-LUJx7lIUdTiZ4VcP+w7jb47nns7zn8Xz4Hn5d-n5IQXmKr7+aUILnnsp9IrIH-Up0xvdX90o0r0vZfVDk9fDgQSMYCQXFm7j4YsYgQuerPmxaUH4769pkni4DogWnx2o3sCToQIEB31NqX5hN89fVdM+tnM0s3gbql3y7zMax6m13OP7n8Ai1ax73owLqwQIGfXqs67u7sgXusmlPjXqoYYZdzP4qWtiivl7+gV-JdczA7l6fa7wCUPjRqiYP7gSPwlIH-d07iOlRSI9RTADAPxmgZBl0MgDgSzegN0LEBgGbZ+Ne3YOxBxah5hOGLcB4iZcDzqK8Ffu0xZjgcZlEFuDZzfohcYeGeXK-lhCqLrUxLEKigskYfUQuXOeFh0osYgYgWxOwMkTkDKAWAf-KLoogmYyBQBxAMnBBGpzIFqcozF5hM2gFV8UgcA5FJ-29L71kQRAPtEpGBS5wQBXpXuuKTwEAIlIhIF6K-mmavMIIkEV5s-xXRKQ3+cwUdGQMID4CX4xzTcHQO0AQQus5AxLJ7FGB0hAcq-LsOINpwQR5QjOZIFcRGjiDQAYyccOxWGyKojI4gr1O4j347pNBXpO0kV0Zho4lCHgA-FAIMGwC0cOdSGowFAHtQ5+rsRfjNikFF01BXAC5pdnTRKCVBQIcUKsl5IB1P0FgnuDv0xL0Cz+QgtfImDpCrhjSIQ+GK83ZjU4z+eTVohUQTJVk+SWgpIUCBSGvMohIghgLEMOwOB4hWg4-skP4GlNXIXAyCNR2IHBhlAhQyoKILCHyCFcgMVwRCUKGQRiOygWFHEIMFMsEhkiFoTEKUIgkUU++boWyUZgAByM-seUWaLDJ80wmZvcwSGCDOBFA6YIXhkCF4JBSSfeOv0iCrhDh+rfqMPUDAM5FYDYJZjIMoBIonsdhB4Z+XGAIR2hgQQcDsOEHmCLhpbAEeMLaHy5eh5wtKHnkkRXggRvwtfIcIIo28UoGVB3u1HFTgoywqaHcuilX7PZyAXgqJHDlpzXDPBtqd+FkKCEyo4clw4wKOkRF28UR6tdEbphLCNDB0cOL4cEEaThUsR3AUwSpxQJLM0hU6bkeyPlxgoCKDec6mqUAJMjMRcOQqmxUZLMlKR2IoNvJSrIksqIioIUW0QeSBDPswQ9kb5Wg4Yi08QgY0u7GxCSiJA0ovXqaNIEkCeR5bH-r6226psGYEEYjrTmBjQEowzIpSOaJIGSIo0sos0VwCDEcjpY72TUfzGo7ei-RqaGQiQPlzRj3R-MOkciPID1ZbKcg74aR0NIJ8AWUsWkbb0zHZi0RCYlkTwKdGRjjwsjDUa21DEBjwx2A6SttVYpph-BDydkfaToxwM0c+IR1sKNWRGimKcrCMs5XRTSVA+j4Bcu+HlFsNVc1wQkbvwEbYixRwrHkVOSVKzkq6kpGgHOK-bsZqAKDNkdiOwbWBgYK4iEleGvEdDm2W4ttjORVK3FbBoWVur6l8LBxKAmcaYHqBECyAFxr+OcU6NgHsEBBN9FCP+N0JZ5qQ99ICZu10GQNTxNYgioLHL4UBkiKORdtwKIAdshABcDgPGEEDjAGANMBpPWG4CclzxslbYIqPgKw5VRPrMqlGUoQUJp448fBOO3RQYJwErLRCZQhsgf5w2rkfCTDiIk3DSJj4j+PbhCCUSN0q8UpBIjXbmx2xdEzsZeMBg9jaJiE4GPJPMHsikGToDdLeNVEqTB2llQSlOMVAWwLYLkfSXDgwIbATAdgVPkQETAgQAADEwQaQiQNYDGVyR4KGb4i14sgXuIFPrDuTRgIEd4W5NVCvN5AFtchLFPFxRSGAXWDOH5JhwP9CED-WsIFNxEhTyAzUNhsDAFHjRrgKUwqQnGKkjCj+tDZgOFWym5RrAKobsK5LAIK0qpJI12MVM0aHMAp4wIKcqMDTFTvYRMX1LkGmAaw5wM2BCcGz2r855RR4R4u3RsADTn4j47qcFJqkOQjw5RK8euMBAeBgYU0jgDNNEAzY1xvItAcYDOkXSZspkm6ddUnDWT-KiE+6bNPak38CKIgQoE2EnQEieJYMa-twOLwTTZxzAaaV9IPjsR6JMOHchZRugcsWczLLfjXAqjMSFp5WJOvxN9JqSdJKQbBLgg4mtwuJI43iaQkWguQPQ7+RqPZBLIeAKcLFEsiEE+mXThE3cCBh6GdEEwXoFkhFntSvFC5FoHgdmVdNuCYzPExUKGedK+m3jaxqJC+HOCUistbJwE2WQ9KdHW0AmoueBOYkhRvhcpQCOcJTM6m-g2JeCakAQlQQ4SIa1UHBEYLh4+sGKhAWZnXiESKTJ4EiJPjTRLhmyOgbzVSXKzIr84Zo4ZDvA6CgjRzFQ2CUmSTJERkzrZujGaAHN2rkJHZQk+mTQhWmuR3ZfeY2T9AXZGAvZTRH2VgBeiVy3ccuQEK9MfiFzz4qcu2W2JDlsU-pjCawOmibm2z3clSKOTHPqAuQvc9OCCbKxYouyrJ9c22U3O7z+U7WK+N2fcw9lAxcI3AUGODMQlKth8I86QSPipxijUZK8n0DoE5wkJ5cOwfnNwCcBByjgEfMXAbOlRGyr5x8s2efIYlAwVgwuXWUIHvkMNH54wD+T6FwhE4AuYAaOVBDfmN5AYV85XJ0OuBry+RRAfObrnpYOAYF1IpaEZAQUYL6gSCpeQXOgJOAcFRuaAjoGIVQx3c8uYeT7gZxoTrAsUsoNpWgYWsNUz7RtEwofSuSjxEmagFqlXwypYpVDUod9Mf6QTooKU++oIovFItUFsiwRYrOOpuY5wM0iQInTSgIQ7+wiwKB1LvAY5TeK6BhbFJzwQj88Chbgl3lsYl4oyWqTOoNKVqNSt4zUt8K1KiSCKzYe0PBXpH7Kxx2Yni5eQ3i4LkLdovC2aMEJsUp5BFQSlIBYswRJT2wfi7xbAL3lj5d+E+eoMhQgojBZ+JikRd9XCXUhIl9uKfDPmpABEZACSzFO2U+SYEjCHAMgkrAAAyeBegrHj2A+TzkLBQRHYvkK8gLAZsx+gIWsLCEvCtOSQhvh8CxSeloheXNoTKiTLxpLjE-FYVULdKDCiE2pfUqaXgBLC7UKQhMtclTLHCj9AIkFO6o8xnCc+NwsASYxeEolyQeBq5P8K0gEIGCi5QKHKmMxYpTy1EJ8IIqm95lgSu2cctpAbwMQo6HmLFJiou59FdikReNF6XcEP4GCzpeXgBVmKzZtDaVABz2E5KAl6KnCWfmpjAqGQPIcFZCxHbPAjwJy7PkIE1BO9+owkc0XYX0J4qEVZs4hTHn+UHKDhJiqBWyrtk-cZ2Boa2ihWyWjAN0heSmYSvNn+gpwL3e-BsBzQSA+APK8Vd4XUpiq88-bFhZ3nlVZzHoOc3flivd6aqJVJiqVQEUmG6qiAyEzygCKFWohaGOwKQh3CVzSLpm5go-HEkaT85oCguTFcHmYAwSNC1IdeFISgHMrsUCojSUMrvgdwvxSMwIHtEgJUQrlHhJjAmtZZ7R-+ssFlF+MJUK9-obyi0AuBpSRrCA3yvINqt+5+hdIZavQn4QCIT1AQwML8dHii45rGp7UfNZaohoCy2Wiy-3IGumApSw1G+ERTKsxwIqQI34PhcELcVrAyKLqp+WYsTUsSFaKal4AAXcJ6RPCq6rNdYvMBdq7FBa9ICWWLXn5S1nyx5U2pUkxw61168YJWvYDNqmgwMIxWmA7VHqWUKU3tS3PHl+Reg886KNBJSkNhg1-RBNdIoYVQbacoG1yRGobWEArV0Er8Yhtgk4CiwAgJlUhvQ0hqaY9ABsH+PLVm9w1ma+Wr+GuQ4bYJCNWpSYXIKUFaC2ytYHRpIIMbzCLS1teWvbUxUqNEGuQhDSHnoQIJg6rDUIEMUdSWohGoNaOtDXjqF166yjaIHE0HKQIGyxpc0rNjqatlIEd9a5J43PA+NkywTZsggjCa6FPLSit+Bu6hldyRwyUHZrezcMeyNmxEDyO-4-ZHNYi5EO5Ws3Ewzx3ADzZsiekWMaslmvSDbFc2Zh3N9mhwF5tE0XxnNkW4mDFsfrXTQtb6TFJaisBRbKsqWthiFsw2x4mAwYU9EIH2F2a0tks68rQ2s2UA2pfmxEL3QdVChpFdbRrdFo62VY+RLW9gPLjq1tTfN1AXLYiWG3+bbpytLJfsJMpdbIGI2+4IjA7y9bqYnye9T4UEAPCNVheJZgNuQ3tLfUkW+rVEmS1NaLVBoNrbX2EA5bQyJ2ovnyLSVM4XgiYd4J8DpU8wttOSkyrdvAjfbCmBKy1b9GSAx5Dtg2rLVdtoAjafg12prQtodzLa7wa2+4YrA+3ireOOWo7dr3OQiRSt1GMsv9vO1sMTlpK7EDzCVaZAK5DQFjjuVFX7DsdZW01SEMKbFzkgxSjYLPgFDu5nAi2vMazuDylK58MkquSEHlCA7Ag8Oh2GtvVjPCIIKOrVclRK2npMdD1aQv-2ozzSdV2NbCS33-Aeh2+-LfFqgxnEoQMx9vLMaiMnh474dKkFyETrBUk6mgZO7cPfAzB+h3w6Ei1EXGowLUhh2AymXcrTATB345nLFg+MD03zyaipZ8d-ApAgzu24zCuVXNcAQQTdDIsRJ8LAp0AW4JSwlXOw7LC69g+rcXRyDW0p6zdOY5HTTpMVLNS95YnGEwVLzqlwd3HD6lRAACcXQeNGTDUA57v+ne22N3pOVIYHE9AZKo23UnuDQ2MaH1qOWqg0AGYnksfa4D46SAZA8w+YYrDQCb7q1Y8naoCGX0bossMaPGUYH32Eq14iYS0J9DKCSIaARsa+mFHenGBT9g+i-b3SxCAF99tDZRZIDUVu7-kRGs7Y6sfrLaJdtanwqIBUW-7Ntle1HSAIgM-7KgSdJXY+CbEM6VQMcZKKMHCTSoser1KMlOBAjWjbRTYgXH8PQN+g6BHQX5YurYpTAGA2B1HoV35jSpYmwsMffvsgiGwjYTYzvCYpeAxwjAXB02OHpP1d6V9LQ-YVOFhDByANFsaqPmuDy-iuA2GuYFIbH3wahp4GtDahpI3301DrLaqHQYYMNYmDVEdzD7mGB2pCZoh-vSvoghcGtSX4gMCoc0gOHDYwhmSrZIJmKgOD9htw7wfFXRlB8iiNw+4ZUnP658VKkFWSoZUUrydDuCQzkoXbu7hgnu98FOD90B6g9MVUCsQtl0Sr8QWetnfzoFBx5Nqa5YDdyGc2BhaAGsBxOQeYWQ1fwBBqiEQaqAyjKx8hMg5wIoOLMqDjZYdlvARr5GDhhRwPMUZz1lG4ladLsJfAyYQlHhXTQRC3HZwsA2YL0IcrCJxXir2KUND3ckQyNIS5jkifONkeeCgUCKjK-jSDkBUbyvGtuikDEb30UhbEJ5F3InjWxcBqQaGmXLYnhV8J2VpO1glJ3LWHK+lAq2RKgf2HzD2CMgP2aAAAA6WAGDTHyKCKHcADYOkCLrc49c7S-Udfa6iwMMNrMiEKEzkphN2E4TfspEyif+mVAfxGJ4oQLmuD4BkokiRcMDFZOgAAAXqr0ROHAaV9JjeJidOM4meTiQqGASYghGHiTkcP6HgGqM-g6jkQGE6iaEDomRTWnAYXAzWOKwPQDw4gA8IZwwh5hiEB0GSZ2Oqm6TGppk1qf5G6my6Bpo058KlOmwgAA')">function find_assertions(pattern, frame) {
    return stream_flatmap(
              datum =>
                 check_an_assertion(datum, pattern, frame),
              fetch_assertions(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p20' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Check-an-assertion</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>check_an_assertion</kbd>
	</span>
      
      takes as arguments a pattern, a data object (assertion), and a frame and
      returns either a one-element stream containing the extended frame or
      
	<span style="color:green"><kbd>the-empty-stream</kbd>
	</span>
	<span style="color:blue"><kbd>null</kbd>
	</span>
      
      if the match fails.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (check-an-assertion assertion query-pat query-frame)
  (let ((match-result
         (pattern-match query-pat assertion query-frame)))
    (if (eq? match-result 'failed)
        the-empty-stream
        (singleton-stream match-result))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9phgsWkR4gRAYIUGEpUEmbBcHyeEKhqax-ryUbZ7GWelnGEh0m-pppigpF8Sg3VWoV1KBGkcGbmMd5yh+Y+vkV2aXitCSBgbj41RztW06+stvbuG13XAfu6R-se5xDExxQIBgeAkFQNA8TQYlavplIGBBY3On0XIFEIehOaBvHklSdIFBYMho8UOOajoShwlAAAfAvjLDj4upJmPs4TmIi5L1IWHwfAOCETPY-j3Pwlrv0w-STJW6rjvCi750w7HDV+-bvP7sOtFqEjhd0YnnO88iQpySCyvJ+dmfQDD5gxAkYRw9BIxKAUHX2T6e41pxoKw6wj5z-CAAyZ-en6QZH5XhXKCv-ft7duYHuesl7VwGsDXeqR96H2PjuTey8rJ0D1jVSagCXCGF8GnJuDB8AyDSCA+BYD14QO2jeQhHdaY70JhaagYg6CfVzqfcuYhuAI0IIENwzhE4Jm3GCcENC6EMJ0twMuc1WHw3YcQTh9B9o7zDgI+hnNQGD3AUnSB18YG8OURffhnDBGcxQXTTiCihEMAwVgrI5CV6qITKQpMQwP76DIVnSekx+SoNhiDPRijc7W1rAwNhHDDDOG0dwrajibzOLbsvNxADPHqIqMoNgP0sp0FPk-W+EC97kAPrUWBYIv5WWNEIGciTkllXoPCQuxdu5QJyZok+hTQDgk1gwMpKTURVNrh4+m7SKmMHMQ3f8Z9rHLCCnYu0EzhlP1idDHefTUl+MaoEqRwT6DpNGbEcZET7FERGbMiKcjUjJLTrzAJEigkhK-kJO+dTclHy0U0ySH0WBnJWdIughid4nNeeQBg64BbG0MBsm5ECbjYkGdg3B+DPrcCmSC9xRiPI-LOQ3YQvgQVUW2SMSJ9jrmIqRUA1IIkzHMC0EIzFr5bkaLyY8kZVkSUfCoMQIRXy0G4xVOcyRHzKVjJITsu0+K4mh1SG8biqIo7XMyWo7J9z8kbKKfQcVzgfjvLWZ8zuNSR53IaTuJ5Yq54qoXEy8lBjZHsoNRKhckjuLci0LyrZEDeEMECDIBVoA8TmviZao1bN6DGHaEoqVVKnWghdZUd1pJp4WqVYa+gPxOjGyQTQSsX1g18rUc6117qdCUPZaXNotZHBpv2VirJOraWNPpc0gNRblDEDZfEwmtamb1o2WEMtmaT7ghbcW8EIiRlhGjfE3t9bSXMqEcC4NsQM22IFdMvOXr6ZVFIB8cdprGFfw7SGtR20t1Ls4hwmcJqWWcynYO0Fai9nnyHXM-NqQWWaFxKOktN7L0Jh7hkBdt6emcTDsktdJ6KX7s7R+lOX6nF4ovXm+JYd2AeC8A6x1MqK0PKrefKy8HlBeEbfTLDXgmr4HRUhmI2LBjXsXcKv9qQNCEBBHaq5pad1gZpWhvV1b+GEDo9QBjlSD0eRnlyy56z03IbnTiqDMzh30x+vNNV7sSNkcg3aCjByQ7UdOpuNhYTk6sflWwqyxRDGEpcEbMgjAzb8V4vbPmmM9Y6bs59EczSZBJlqOCUAKsXNueELpEyLR2hR2s1xKg4QvOQxnSsZoYdOr6F4mFlYqtGbM1ZuzD4SjgsO0c-rKL6isLxdAK-PLG59DaymDMHgVAk2m1ChbG88X8J6SKDeMrjWmuxDMybSzFttoNeMu1lY21Wv9YGw0Gm5Wmjeb2O5qjHlgltQ4JQbKZd+gKH0PDBzWF4bcCeICAAfKAXubBaZ4Bnh7OQXsoBwEQMgdAgc8TqY8sQXCzLtGsLoJWd9gZ-1zzcpYlxMTlIKV+xQBeZ0rETZUuopBn1QlA+BI3aSZjMFDKWUYFHUK8Ew6+hD97n3lLRdSAs1EcPnSq1PG0kw5TUlvZaB9yHk35HeIpRD+Hz2E3M6UVYvHDPVjqJ9fG-70SE5s4pwLpBQuB4XyZvj50hPw4vLeRc1ZITWdk9AITGeW5Fd-IBXrIFoS2ujeBDrwjxHcd09l4qeXL7SeKnJz8W3L712ntzsCi3MveexHl-hu3iWWgU999zy3XuYjy8ZWS13YI1f24Dz8CPE6ucA85jzgn6jaP0ZpzH-3GeMXs7PK9wT8n1ke-p0b1czroXo2BbJoTKv-WG5D6H0AplSDmVpzZOyDlnLUl8Lncg8MvI+Xzx0LQxmd65-0Mibgsnt3LAHPfLqChDWpremgqfDhJg41IxA3P-yl8r8alr6fghSBiFvTmZ8-wF+ipceUNfniN90C31BGI74pEZGKiPwvaCzcYuRFTCNnpGrEzEfDLgePQBSkAQNoJnrp9AbgAeXsbg0LPkgcgUiL-uAfID4mCAAY+GJt9sSsDGjhwp-s3rEKUCSujH6rnEoqQWwHnCNs0GPKGMsBRC+IaGZMEE-lZLZPZE5C4DvJQL4CQEPoIFxmwL4DVDmNDCZsCGGlXgxMCmwoYDztvkFOCvoLJvtnHgXvarJjzuIoQD+o9nDGLrGlarTp7tKixpQKQPwKoHni9vauLj8Dajxq9qXp9uQQ7noTjhYb6pSIWknsLh3Knn6KZM4f4bNFagwImuZu5Kmo3p7rNmYY7sEcWu2moVBDfgErHMIWYhkW2vuutHGGoiwZqOSOwdfsKPoP+usMepHsBtBtvtMEFN-vaiuoBk0UGhepwCkVUVfq0W-v6gIF0Y0efEsoyP1h0V9OMS7s0W+v0fTkxIKLUWHFQWdPMV-Esi-v1kFNsSMksqsZfpGBwbGO0RTrbtARtN0Ynm7u2lTAMVmFUbId8goXgg4AorUPoNjnPmUQmJoQwDoVCF8d4rUHCNwH8TBvTIYNyIwPgPwJTkkh0gphDjjLkbbhDqUbEI2FuoyM7kBmeqEicTvihnkU+oUYGpkfutAaUEdtAWsFxqAUYPCTgkicTgpocfcQUtBmgQRHCUIOyaUlTqiQ3jcbGM2kUV9EegscSSUfgdUcMRyoQcidTiTtnrHlopycthjpLq4uQS3odl+gFG8eyvnk1FyIhsHtYVBMLERr4KLFaX-iSULKMQjtyHqASWyYiSKSif0sCmir4EBLie6WCcEnQrUB7ECJXp8UguCYMN2HqCGWSQmLMctA6eIurAEh9hATgbeJ6aoRKegYUOGbQhqKoZ5iWQNp7jCZxBaQnhutHsnrnNkcQmooTJsTbNAemSSsXmkl4QSjvBaSYiEVLm2a8O6ejIyOmaOb4tQf2ckSseSAosjhYmjnOcenqY3ujDzrLBAujKkS4BaTqQOS2dLvTjjKuZCmDjbKeWuUMobiuOmfeQucrjyoOWgQMRFKdmgudvIEoFdr7LdgHJYKYbpnYbWOtg5nBo3M3GkhtlWeroPj-PYf8MZK3u3tts0g3E3P0MeRIiYFoMIAECYMQNQKmsII0OPuypruvnAZIGQJWUGROQQbPDuOCJvPfjPP2jcQxUCtwCxSHtJhplxczMfjBahvKjIIqm3NxWgrhpxLASkvAUxVPg5lmhGjJR6vxuYIJkGepTYYGJpW6tpVGnevEkXrmdgRSjIBpWGtmtpbmkeRrrcI1F2VBW8EjJsmxfIRxR5Q2twF5QnCJR5BscQYvOjJJXploruc0gFYpR5AFTQd5d9JTEZS4PClFXWU9o4F8PNnJtZZAUorae2QmDeN+XIfMZLKVQCeEiMJVcOXlfgMYE1P-gLNkWvHVaZiVpDHudDI2L-MsvkbiFgcVbnIyEdicHIZrgLOjhYpWdXptiVjeYtUobpYIQLA+U3MCjTKvJFr5dtDLBZcultdXlPgLM8F1b5TeMdYcuaclmAUVfmatb1MxesMspeTYsZUzGIL-PNUMh2grBwG1P9aeEsH6KUATG5W9HNa9RTGEIJR9TmVbtbsCL9f9ateEAADzo2g0Wzg2Gn6QtBt7cHggAAqjcrldAjpsmvAk6TYEh1AtQzQHmAA1Ehe1qIm1EKBiljaABzf2s0gLZzU1tzWILzWlRMEwSTe3hTVTTIMQI5KfmIPTWeozdxizcLRzcWbEOLZLfzYLVZCLbrTEPrTIBioTTleYHlNtbeVBTeaxXmOaR9uHI3NiLVdMDvIKWkvDYTcqd1dDhBljbrarK7eiNiKbbEK2vlSdGNfmbWbrc0Dec5nunqRDQNrMI4oTVHcnfCcpv+OnVTH+FLfgYUCxGsQYDLs5kNRSQUfHUIjiQ0FwZuI7c0rZA3OUIdsgimaxEMa-kaO6RFkCNVXNc8X6EFD7RdXrHbbtZdfyWhJDEsnPfZr3eXa8YHTLm7UQPoJVXIdeXqWjm3aeE7a7PElvRHbvV9SuN7fnX7Z0P8RPeWmkMHUXTcWHZWNvZHTWc1QVSjXmRSonQRMnXqanY4iHU1qUPBNtODb1ETZNlPUREXTaHaFbaSaADqCuAONXT-FfI+vXc9Y3QHdHaTa3XqbwXQJ3SIN3U5t5EyOWaymvacZRAPQ0I2MPf9AeGujVcuRcRAlPUvatdPYDAvVeEvedeNug2xGVYGBfe7VfZ9s7L+Z4v+Zdj7Ddv7IHNgHIYvtQMvimkfuvgAaBqqdApWjuCfuCOwno4foleYNY-oxRY1Ho3RlHjTsY8xvVeRvYngc7IVAfgYw-gWNGX5WCOmFouCHMELbEHMKuIAdMBExyNEzEByHE0gRExhMk5VgeGk+E92rwlk7wrkwk92p+pkELWU2wM6PEw0BE9xIYHRuQFIfbDxMko6YqDU0UBEy3cky3bGJ04UBE2bKoHESwIYP2sM6Mx7CsAM7EBE2zVk7EOttwMGToYPhze07MzEBE55IszEMs6AKswCAdoPj5Js+k92pCdMAc0cyc6AJCIczEFs6ExCMAHswYNhbc6AIPmAOc3kxxQAKTvM3PhDHPfOgAAuPOgDPMRPiSLMgtrPObBkXMcUACEko8LnzoLdz6LQIyL-zfC2NwLWLiLuNMQ+LJTHF2NAIezCLYLg+1L5LML3ae2xLKz2L4LB2TLKLfCe2NL3ARQdLdzfL3LBLEIqL7z4LhQYLMQqLsQG26YBU7pDjh+QTsUq1gIK4mhcw3AKrgTZ2Sr7wAgerTjar5U+ALAAAVkRdGVqxoE-joRkwE040LfCngc80UCa6vga9Nf4zY4E8Um7oyFohExUULRUR6yWRE5AHQN6HPM0zEDG3G8IZG+gUM1QCM7AJAMk5M1m6m8gem7-AwAAKJZOTPFv5vG4RMABy5A1b7ztb1b8DTWhrVIXrjUgbW5C1mrKwmhwoYLR1xd7bNBTKburbxrzrq+nby9Pb0wfbOhbrF4PAk7HboxJSt6+9EhuIw7x+DgM+Z+vCDme+r0aopAkhJ0lr5A1YcJXUmg+gfFK7LMscHAQi7jm+ojRQsmh7RwRQZpI68YhA-9NlSiDmIBzMDdSi0BtGLJO7v+8NUdy7-rpr07WNH7sQ0HyMsHniOCVrNr3ACHw707S1aHKTeDI1QH41U8shi2l8jUYgXwLAqqhDnMBJAHFH+ZaYLsZ2nsgF6jfsmAGA4FKg9Adh5ApgDAgaHw5UNwpAiGms0Vqc6cm4WVP0ZMD4XuWdEmKm9i8nW+gtDA7N1Idhc0ktKnqMHAbiBs78WnWQunoV5gMcNwhReuxFTCc0j9qZgYYnyg9NGQr2RgM+ygygHLHsHNWhQXzm4IHmpQUXRpQthn3nlbzoUXA6zCJhO8DgAKxgbnbU+75+eXDAmXP0xgzw0EMj6CxnbUIt4IEIItjnfyxgLnPxmhteRXq6GMs+enzS1g4I9nqodAWXjUxsa2smCnEGo3Xm4IR2fmUOP2O4o3hWz8ykdR4GfcN4o3mq1n3jdoG3oAuLzSRmGnBg20C3Cs4IRmxkpQXlFA4nknsUMniGE3ERBg8iTNvGaSC3r8I2wCsORe756qWhZ+lnkNzStXHNbXrVw3DiIws+gPa0XXI2HmhnN5OCWOICf33KAPu3Otq4SPItEPQ3ZAa28KsPG3eniPPXGF0og3uUoIQtBh1PxXhPpAgkXu8uWET38kjP7XEImT3AWiJ3QPKDWQG33ABPTARPbP6i4tcPR34IAA5Al2ftV4r1Z+bRiqN319z61YGqQBirr6s99bpkdgJCykp9D4MAb0lxXt2kIL5lZMEPFw5MIs0haMWPF-YRwPCJMF5gTxb-oFb8LwH7WHr8XeL8N1L379tIHyXTH+L1by5Ze9e8oLezONQewh4KsrvRItFRnh4STtpl5hE3n+90LRj8JmktpiR65diEn+sCn9QJoEsvvpn24Hl8oTnz77lj919IX-7hE0ZiIofdCtjtn4QF3-5mwi5Qb8jv3vDC3-Wm4GP+tLkSXzTtpjiew3B6A0CCuCjyP+j5gf9yEhvycf4638YEfLPvFPazPxgnPwv6su38v0wwcdvxYpF5k15lhL1vIIv5f3ETPyI0tuBdOLH-1WR5JOuE-KHIJhTpncCm3-cAW4EgFACrOsAnfupDr43tG+afBiDNyKBQ1eq7-IZNX00JYCG+TfdPkgMrKw8N+UvLCOgIsS6tqBKA8-L3SVK5FR+G-VokFAH5C19+aPWHKf0GJnFowhodohIlNL3V4kwhEgMvwyrFYDwy-LzNtD76T9SGY-ChvwR7z9l2QIhBtBtWE60EHi2mBQffBKxqCKsFVHPlZxbqaD26XeAQgzEx4eRgqbuGivEjd7aRyoS2JqI1AGAVBBgpgo3noLkGmCzuXgnSFrwCFxFkB3g7KAZWCHlcQBbgygB33H7W1Cwo7GgK9gMzZYxelDREszE6gMB1AIgDgKQHWg7xcghAPPDn2VK5FYs3A1hhSHdLyxQAYsV6DVQkSOwoYfDNRPLDAjBhxw79aUFQyPglCyhwgCofYJpg3FmgNQjFGLEXjPQy6zDfULkSwjND9iECLCIsP94b8gqRADFNYIyFMNyI-dHYWoin4rhpGgdfYdphcorYPocRZkszAqBtMfihgNkB8KaZ5JDApIMwat3-CeovMvw3wP8OJBPArOP-cBp6mr67YwWzwhQK8JIDvDIwfwz+HYVWwIQjA8IhDqNnBGQjEUciWgme36Cr4iRn8H4RiIhFHwARY3PuN8KO5UizEUI+gSVj3T4i0IiIg7NUGNjNxKRtIn4qyIBFPBq+zoXkUZ0CAvCiInqIcuymRFvRkkZ8e1ifg84qlBCKopGKShlFrYlRfbPdtSBJHsoZA2opmLqNWxMJVsjI4ZHqKO4Mlu+ZIwUY1CpH3tYwe6bER9ErZSizRVWC0ciOtGyioM9ohUfEl4CtUWoCMOLKFiBG6i5o-veLJkPECSBLRH0HEGyG6CAi7S7pEJmlAzFlhfA5lQOtGSGFKxRA9JL9EaUMAuUox8-IkLghjE+URiRrUAN0EZC9ZQs+5ckrFm6DhAYuRmI0t0Gdg0dyaAACWLYMAAAguAHADFsAASuTUgAAB5atsgCBBTUhOitc2LEK0iohgUnWOgL0IcwRjnGMoeGE2KTRHc0o4sCoPDEgFxD9xl48zFLxvGdAFwkQ92FrzfGZBdxxYBTA5nHGTiZxc4xcSuLXHfjUxdYh8XuIUyHiHMN4wMXWIYANi3U8EqyJ+PoCeRkRHg5dC1D-HxD3gz4pIMeIUFKi-Rqo7+quG1j019sEpNQCYAIxClMJaSGiZZEqyUAk0x4kjtuLUAESnxh448bTBo6e9V2DgY2IyAAAM01HeDUEcguoMg-gt7osmoCDAroikv1OJO0BAhRJmkskSLTxDdiEwuk3IFpNIBa9CYckzTGpylijRdJa-WKKpOWpKDzuQtLCPZOUmOSSKJdXTsmMCDY5rJ4oVINUGyCKT1o74DSQ5PKiqTJqStBSRwFRGZ4vJyUckEIUCCNRHInQRDEkJWDUomh9Q-rKUEslxTNY9gjydxne4sxUw-WdnhYJsGxhCBSg7ERlKykHDO+Eo2IM1IYCZS2AiGU4cD2e43D16gdLqT1MQyiTkxFQNEaEBwSV8ehY0czhjD2pQQ0pxAFqb1N3pN1d46xVIE0L2LARaihaKOJrFYT7S0I10NCug3LqXCCIwsUWMTBegSwx6x4q6W0QgQsBnMFRU2qUFcxRhTazQUaa1OWFnQWAawjMFgGghKkWhgdcwUoLrCjDAZG01QVviLjsh0p3U1qRVWgGrhmgv04wFIw3o3V0ZY05fi5TA5HxWYccThH8FsnkwT62WcKW0Ien3SLoj02GiAhOkMymIA4EWPtwjbKkgoDgXmjVnNi2w2oaOVYfh2rIxB6ZMsUWhwJ2maY0qL+Y3HgEhDqyVwwsZmUCE6FPSOZnQF6SuDljMy+Z4EEYQ1OlDCzustMrgASNiDAybYksiGdBFQhzDYwpkR6jbN6iGzrpog7aQYCmmgFUg6yemZzPGyrw1ZGs3KRAnBCuZpsvmAKDdLenXDPZnM2WZdSkFCchZFtEWVZj3C-hlpyQ4eupDjkcBfMk3Uue5lsGBYsghAfOUd0hhWcYsP0OLJ6lFolAGY2ZSmS1WCQ0y65urAuZdSbm7SW5hAQEV5nJksw8EVM3uY8DHm6s2Qe1UAJHMhDDz-kJWOuS-DfiwzMIpIX3nQCtm1ZQBm8jqc1nsRjzreKwbObiGtm9ZuR0shoL1lJCnyCI42KzrHJ8y9c-2IqeKSWh5LRUzGbGXkjyQZSKS7GLgN4EkgjEhIJpCg+FBNMMG6SDKsCkIZU1AG0Qwp2MjucXzYCZTfAUCNCvCCs7woMFFnMMTJi3ZxFf5oU8mDP0EmgAZ+hcycq2KST4Vf5jIfyTPU1jBS0kE0piI2GvnhoaQDBaYquEEXWy6F-okiXbKMFQKAerCoUhNJfkNBGFGc5IYIvoLpQS5n8rzI6Mn5REJOIfDFEgodLRx4Kv8y+dSDmiLZlsXotbBoo-wMECUo4icQwHnHWQAAMsW3XHGlMgMk00ZID4miSDxUio8QzIUGnjbx0Y+CV5hvHQSj4wS4ic-is4-iFwiSwwakt-nApAJri9xV4vACQSZw8SrJUkocxKiMOgwIAohLsV1FzxKE8sI2PQkyLwQok7CXYvhAkdqleoiEIP3iqKS2leo73i5T3yJL6FTC3yuRJVGaEgCoknQhKT3x-JRJNCjGGMvnpAFeJIzUZaEqElPCXGCUg3sHzIDbttl2WNMYJDIl2LlRVAaZSsGHoHZ+s5St4UfDdE3FvQV-R8QpkkWcTzM3Em4lKJGWKTgUXyriQzI9aCM7FyY2YoYqOWHK9evQs5YzNbGtBkQjIfMbIK+gx9wQUKg3tIV8rIqHAn0s2RqC8zBJn2jUA5Qb3hXIipe+Ks8sYLSGwrkWpy6lbWJ4V3iloBWVBakBl6djF01SdRLFl5XkLOIHwYIP4I+XZRXodYrQhKufwYlFZdYpaCxLOlsN3S7YoEMhNQkyrYJMidBo2B85t5OY-E8qMiNnZNYulVo7oBhNlUDLVsuKhoEVBxDWqdVdAW1R9F4qxgOesqnbBywNX+SZwLEhFewKTnkQTqIqpbIEF-niwolF4lBW6VbGHjGQkCs8ADz4XkhciiqvuaEpVWtDWx6q3eHUq1XwS9V7pP1Uat0mmqAQptC1emKtV9KOAbqhQPas9b8AnV9a4gI2o9V+h3Jikn1ToTLW+IK1EK4NX7KgjnBpBMmYQAko0nBBjV6yZVXGKWULqvMMQpdbKql4xCWJ2q-8bqrDUeRN1sq7dYRPWiirI1gaqVeeKPWohe6UUNgO8pdUhMgJ042cQuKXGriCl5IJ9SBNfXgSfFXql1X2rBZNx71O694L3SCjggMQX839PuqnXUK41hQU9e5Q0kXq7xyym9e6WA1ZLGQT6vJd4qYi4bPF3ixkD2vJhSisNwS8DTHKg2sq66uIN4Ja3XwqFbRY-dLqaK4YzgGNj0VjQ5lUESI2N8SWUlxpRDpCNR10exMxq15hx8GuIepoxsfzMa4xJvSTXur0oca2kKQeTaYB41wLHEKmmDeYFlJybHoomhzKcIE30wagYgZlEfAOWKaQhfG4wsmIY34AQpwm0wJWXBX2i4xMmmglpo1L0B-NGdCrF5tWxWcXNIUoTYFpM2Zw6AQWyxTEGxVGKp86m9zc2Ti0mbACZEY3KFu9G0xHV-CEQPFyS1HKhaEW5-P4viRybXNrEzTSZqpUQqfN5HYzY-ha0eaHRX6Juc6IpGujhRlSq8CVr14pbV0pSOrSiFKxjb2tDW+0ShAaBSjqtkWqRKNsMBBaJtK2zLbNvay5bWe90ArY7ysiDaE2C2irUJys2vZUCzKxrSEMmXXL7W6ygWHROy1FA0Fh234sQGs3EVoVQ2zrsoqnDWLJAti7peNlsBPaO5BVGxQMhqVzCXZRpI7JtqRBbUWV0MArc72K0GKcVUJd7cyk47Dl7xPne1DlN8rpk8htdejhayY6VgAGIVb+ZxHIGp8NyQA6bTaMnCT1LlFEm5c6DuXGQEYJgfgF9E0jMBc43Ue1FHUF5sDehv2jqNTGxYEi7BlYKWQ-M7zaCeqAgTqGIXZrOynt4IOnTgKWTe8fCVihbADsh1A6h5z3OHcZG237QCtOuygXgIO3o6jFQtW3bgMpi+t3SNwefvU0aaOkgQAAThODzJWmTTM5UYCqHspvdbTM5SzGNinwoSW0zgcHT5UtCFZBgFwArEklbTCgkeppvoHl7y8rIaAIvc2t9ksN+sOejFJ6LBlFAK90ekHEGJRF7Ji6LgHyJ6gJnDTYgtepUfXsrKe6NNDTNpsmM6B4KCFUFcsmKqZ3eiFB223ba2v4S4Kmmo+wKs0kO308F9+CpgGhRx3soM+--L7RimqBFQTwZABuMEhTY4xGwrQRkHfz7zMB5+u+rPjT0P38BquRwIZemtqKppSAp++Nnt3UjBIQaOkLaRXohDeQfID+twAwqMUFqioMQMA-5Hbmd7g9GKePsltaDHAMG-dFiAOEDW+D04cRKdT8XQNbTV1M60gHOo+5wbA1BlYg+gwHBf6f9whP-RJAANmpiGMQEA+CDAN0MWJggQg6IG4PeQEDUMtiCGpr3IHQDghqA0ctuKf4PYghoQ+cOCgD6Q9gYh5Zco51iMHtxzU2qgZhV2yBdJSYXRiol0GB5d-0Dlt4QlGvbWgIif7UthN1WijsbidgTToEzqahAhgRyBnGf3NijBVIK-UCBv0P8IDISnnr4df3v7mFVISGCExsN2GjdDh0Pc4ao3kkTesRuXg5Fcrmw5oIWZgLJGgjMEBuTPffbUuyHGGA+cKRxBkZ2zmG7KOhbwi5QYnYY4ijALdSxO4BfLOjRi9mdjBzGtjusQiz-CRtCW5yLYXRpkKBoV0PzFQqi+zEZMDCDHNFkXSueXP9x6Koc4O43aHqWOOKqOEUUI6Ufl6RD9A0sgADpYAl1TypgPgDejBA1scOw5uyy3xoQC9zSBgy1QMEnBDjBy444+NOPVkLjVx6aTcbuMs8YxSg3gCeGLo9AsIUJ0AAAC8l2oAC45+2uO+CZA9xqXU8cRNuJ2sbxlpCfs+M1RUIB0Dw+8G8Obhjj6J245ifBOfN+etveLiwHi7KB4uvmSYPLzTB4AfjyW6kyCYxNYmGTLzfhMydZPsnveBJ-yEAA')">function check_an_assertion(assertion, query_pat, query_frame) {
    const match_result = pattern_match(query_pat, assertion, 
                                       query_frame);
    return match_result === "failed"
        ? null
        : singleton_stream(match_result);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p21' class='permalink'></a><p>
      The basic pattern matcher returns either the
      
	<span style="color:green">symbol <kbd>failed</kbd></span>
	<span style="color:blue">string <kbd>"failed"</kbd>
	</span>
      
      or an extension of the given frame.  The basic idea of the matcher is to
      check the pattern against the data, element by element, accumulating
      bindings for the pattern variables.  If the pattern and the data
      object are the same, the match succeeds and we return the frame of
      bindings accumulated so far.  Otherwise, if the pattern is a variable
      we extend the current frame by binding the variable to the data, so
      long as this is consistent with the bindings already in the frame.  If
      the pattern and the data are both pairs, we (recursively) match the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern against the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the data to produce a frame; in this frame we then match the
      
	<span style="color:green"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the pattern against the
      
	<span style="color:green"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the data.  If none of these cases are applicable, the match fails and
      we return the
      
	<span style="color:green">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (pattern-match pat dat frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? pat dat) frame)
        ((var? pat) (extend-if-consistent pat dat frame))
        ((and (pair? pat) (pair? dat))
         (pattern-match (cdr pat)
                        (cdr dat)
                        (pattern-match (car pat)
                                       (car dat)
                                       frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9phgsWkR4gRAYIUGEpUEmbBcHyeEKhqax-ryUbZ7GWelnGEh0m-pppigpF8Sg3VWoV1KBGkcGbmMd5yh+Y+vkV2aXitCSBgbj41RztW06+stvbuG13XAfu6R-se5xDExxQIBgeAkFQNA8TQYlavplIGBBY3On0XIFEIehOaBvHklSdIFBYMho8UOOajoShwlAAAfAvjLDj4upJmPs4TmIi5L1IWHwfAOCETPY-j3Pwlrv0w-STJW6rjvCi750w7HDV+-bvP7sOtFqEjhd0YnnO88iQpySCyvJ+dmfQDD5gxAkYRw9BIxKAUHX2T6e41pxoKw6wj5z-CAAyZ-en6QZH5XhXKCv-ft7duYHuesl7VwGsDXeqR96H2PjuTey8rJ0D1jVSagCXCGF8GnJuDB8AyDSCA+BYD14QO2jeQhHdaY70JhaagYg6CfVzqfcuYhuAI0IIENwzhE4Jm3GCcENC6EMJ0twMuc1WHw3YcQTh9B9o7zDgI+hnNQGD3AUnSB18YG8OURffhnDBGcxQXTTiCihEMAwVgrI5CV6qITKQpMQwP76DIVnSekx+SoNhiDPRijc7W1rAwNhHDDDOG0dwrajibzOLbsvNxADPHqIqMoNgP0sp0FPk-W+EC97kAPrUWBYIv5WWNEIGciTkllXoPCQuxdu5QJyZok+hTQDgk1gwMpKTURVNrh4+m7SKmMHMQ3f8Z9rHLCCnYu0EzhlP1idDHefTUl+MaoEqRwT6DpNGbEcZET7FERGbMiKcjUjJLTrzAJEigkhK-kJO+dTclHy0U0ySH0WBnJWdIughid4nNeeQBg64BbG0MBsm5ECbjYkGdg3B+DPrcCmSC9xRiPI-LOQ3YQvgQVUW2SMSJ9jrmIqRUA1IIkzHMC0EIzFr5bkaLyY8kZVkSUfCoMQIRXy0G4xVOcyRHzKVjJITsu0+K4mh1SG8biqIo7XMyWo7J9z8kbKKfQcVzgfjvLWZ8zuNSR53IaTuJ5Yq54qoXEy8lBjZHsoNRKhckjuLci0LyrZEDeEMECDIBVoA8TmviZao1bN6DGHaEoqVVKnWghdZUd1pJp4WqVYa+gPxOjGyQTQSsX1g18rUc6117qdCUPZaXNotZHBpv2VirJOraWNPpc0gNRblDEDZfEwmtamb1o2WEMtmaT7ghbcW8EIiRlhGjfE3t9bSXMqEcC4NsQM22IFdMvOXr6ZVFIB8cdprGFfw7SGtR20t1Ls4hwmcJqWWcynYO0Fai9nnyHXM-NqQWWaFxKOktN7L0Jh7hkBdt6emcTDsktdJ6KX7s7R+lOX6nF4ovXm+JYd2AeC8A6x1MqK0PKrefKy8HlBeEbfTLDXgmr4HRUhmI2LBjXsXcKv9qQNCEBBHaq5pad1gZpWhvV1b+GEDo9QBjlSD0eRnlyy56z03IbnTiqDMzh30x+vNNV7sSNkcg3aCjByQ7UdOpuNhYTk6sflWwqyxRDEuxnh7OQXsoBwEQMgdAgc8TqY8sQXCzLtGsLoJWd9gZ-1zzcpYlxMTlIKR8xQBeZ0rFTBWM0YBn1QmBeBI3aSZjMFDKWUYZLUK8FIJi+FtzHnlJRdSAs1EsXnSq1PG0kw5TUmuZaO5iLJl1EmKUeFuLTmE3eIpVY3L9WVLqJ9fGvz0SE6tfK-1pBg2B4XyZnl50BXw4vLeRc1ZISWuldAITGeW4Ft-IBXrIFoT8J6WmCiv5aKMU5dqzNxUc2X0lcVGVn4t2X3rtPbnYFF3ps9aaOo-Dd2VgPYXL9rrl2vurHUYyslr2wSrfuy0crEOJ3Nf85zbr+XGtcfo9VmH-3BAY4xW1s8LnBPyfWR9urh20LOuhejYFsmhPLf9QdkHoPYimVIOZGrNk7IOWctSXwudyDwy8j5AnHQtDGZ3rRtgGLkTcFk9u5YA575dQUIa1Nb00H6GRJMHGpGIFS9xOw6gquU2NU27LwQpAxC3pzM+f4SvRUuPKBrzxWuHA66gjEd8UiMjFVF0TtBhHiPa4p0dlYasmZH2mweegFLjJh6RIH3bn19sh-jwnmI8vQ8Z5WMT9zMefFgm14+MTXniXA1Sxw33LOiilBJejP1uclFV7YHndPzQx6hmWBRF8hozLBDd3QKytl7JORcDvSgvgSDC9x3R3wNUczQ0JbPNd1OGLArYYYbruugrgv0LJwEAA+OHNYXOye6+IwgP6HNw1G7Gq1NXPvSpY5QUg-BVD4+c-asbPwbU8Zc2Th5jXjEADmLl9D-guJSIWkjkNh3Kjn6KZF-uAffr6ommQMmtQKmkzp9lRo5uVk9oOtvlBA7gErHJPmYtAcWu2h7iuEFJ3pqOSD3vbsKPoP+usMepDsBtBrrtMEFP7vaiuoBpwUGhepwDgYwXbjwV7v6gIIIRwefEsoyPHvwV9HIS9lwW+mIXVkxIKCwWHPXmdGoV-EsjQbGEFEYSMksjobbpGL3mYRAgThQYGlQeno6kIYjm9tQVoR5tYeRIwUvt8mGtCg4AorUPoFllIjputhoPoAwEfs0pCCEd4rUHCNwBEdfsvtSNyIwPgPwBVkkh0gpuFjjCQbduFutK8DIdSIOoyM9kBmeqEr4RymXqQU+k4XWq+pQEsGhKUL3GwK4aAGsFxpHkYNkTgnkUVgphYR4QUtBtnkdoYGMbkaUpVoUYzgMauM2pQW2keuoQ0furMoUEwVIc0bppMaTsjh3PHkFjuOcQMulhNq4sATEM0H0QFAEeyo4UDpcVNnVjjMLERr4KLFyARmdo0ULFUd2HqLUUsRMasf0sCmdkBLEI2EkcEnQrUB7ECFTngmibQuPFCTbqXi4CoctICeIurAEvnvIIXreNyHqPMTngRHiRiaENwBsUyQ0J9jBvTI4QjhutDj8UQcQmooTAYTbAMaSSSiTmkoAQSjvI4U1owsDk-lBI2OjIyKSUqTOA3jKdgdoeSAoklhYqltqcaUMkzujN1rLBAujLgbfj8HcY-n8VBEaZCqFjbHceaU3AdiuKSV6bqUtjynKYyeIRFHgKZp7EoJZr7DZgHJYDfrpq-rWPoPDFEXBo3M3GkmmaAMZKUELj-G-v8MZGzhzvDJhpmf0CSRIiYFoMIAECYMQJgbUI0BLuyhtprsnpIGQFvqAGdsKXGF2juOCJvM7jPP2hsV2UCtwP2SDtJhpqOczObumahvKjIIqm3GOWgrhpxIJlOT2VrlEVmhGuuR6vxuYIJmCTIEeWGtmqeVGnevEnnpWAXhStec-oGMeW6qebmvaaJLcI1OKSmW8EjJssScCN2kBQ2twCBQnPOR5PoRXovOjCuXplolac0lBTuR5FBY3qBd9JTB+S4PCihTyZxK2l8MEm1FSS+TSRSqqSKQmDeGGZkWoZLAxYOeJoMCxQqY4JRY1CwDLgLEQWvJxfjBuFrsJXOdDI2L-MsmQbiNHnRZzIyG8YmdEXcJLO6b2TTlEQ-A8TpevueePgLN6XqJJXrM8KJeBdtDLI+cuqZTThZdjBENZXrlevYnZYcp8YzMzEpbHkGgZb1L2SwOsMsi6YxZ+UzGIL-GlhYh2grBwG1LFaeN0WtgTABW9ALHFUMoZXqFTH2WFTRc8c0ElTFRbNpeEAADzAjRUpWdBpV+iqzs4D7ggAAqjc0RdAQJsmvAk6TYGO1ALZzSoAAA1LmRnqIm1EKBipVWNc0lZPNRyYUFNWIDNQRRMO3i0C1ZuO1Z1TIMQI5JbmIH1WegNdxsNeCEtZNa-nNOtXNeNf2iNeNctbEKtetalfKeynlGZalu6QObELxZWOHI3NiBxdMDvIsS3NpcFRUbweWmkBBpVa9arO5iDUQPoK9YUBRfgFRXJtSQFYwtya9c0O6SOO-CMMjRnrMI4p9VjYMVkS3ERAZQVTeJ9ciRmCuAONNuTXJa0eQf5YXnDVyTtTlU3MPnQA3OUKABEQvtqJIZ7kaFUZDIyGxdleIfYWolDWkpDGZcCjTIyQRLrU5TTBzaxP4WJSSWjeiGDQad5fEm6Q8X9Q8b1ADXmJ8dbaDfoODQ0JDdkWLQyRTArprSxn0QHY1auKjcDTbZjQnjjXjTRa+UosTQRKTQ8eTXuizctaUPBNtKlb1M8Q1trcpv+CzTaHaOzU0TqFzSwTzT-FfI+gLQTULScdjaLf9c0rZFLSIDLXrDPtqXLU+LYdGPHo2CrUCGrSAhrX6EFMXbrdpc5XyIbWhMbevovSXkcRbeBdNujbbT4UvhGWgmZvINGT7NZv7IHNgJkcrsbmrmbprtrqBi0dApWjuBbuCEbibs2dheYJ-XfSzLHBwEItVo-cxuEhJnaMXs7IVCrv-ZGdiSfOmFouCHME9bEHMKuFTEg92hyGgzEByJg-McgxhHgzwBuIQ9g8ObwqQ7whQ8dt2p+pkE9Yw2wM6Fg-Q8OdxIYHRuQPPvbDxMkkCYqOww0Mg-3qQHg+I7GCI0UMg2bKoAwKwIYP2vI4oywB7CsDI4UMg6NaQ7EKmdwL4OEACMfkLuNUI1o7EMg55HozEAY6AEY-EULj5BY0Q92qkdMPY44yY6AELpCA4zEJYzEMg8ALYwYOWQ48Y6Y6AGAK45Q3wgAKRhNeNRO+OgAJMBOgBBMQXDniR6MpNOPk1GNuPDkACEko+TET3j0T5TQIxT8TEIVVyTVTqTQuNVMQ9THDfCVVAItjBTPjbTQIkTJTfCh+zThjrToAx+HT2TyDh+vT3ARQ-T0T8zMzIzEIpTYTaThQPjMQpTsQaZ6YBUVRf9puLuBYetgIK4e+cw3ApzzZ5zqIt6MDt9Zzgm+ALAAAVrWVidczEciPEcQ7A6bk9fCsXtk0UPc+rqZmmJFCc8Cw88Um9oyFosg-QU9fQRC5yTk3wpAHQN6HPHwzEHiwS5Pli5yXI1QAo7AJAHg6ozS+S0yZS7-AwAAKKkOqOsuMs57IMABy5AvLYT-LvLhdCexz7wAgULjUSLx6BlVzKwe+woPjtlBVUrjeTKb24rVIarMrSyvzCr-z8RYLF4PACL6uMrt6mRBu-yZr99ruFusmvCUR1rr0aopA0uJ0nz5A1YixXUmgsdaEarxudGUOID7uy9DQjroICIRQHxI68YhAidyljCUREeflzdceaEtGIxargmMNE1GeOrMhJSet3LsQ2byMubgeHz3zpgvZ9NprrziLxbviulEbhQfNjdilGbcFS+HAAgfNYgXwoVC4gtQitRCbSbhNYIsLh9nix9FmZ9fsmAGA6lIFFApgDAgaHw5UNwpAiGmsqFqc6cm4JFP0ZMD4LONNEDWQbN57JE4Qj1DAV14171MgGKZ7qMHAbiBsFN5G9ih7xlKgigNwFBu2dZTCc0wd4F5AygygfVGQLmRgcucHqTHs41++cH5N4IV1pQOHDNT1L7ggqH7bzoOHA6zC1+O8DgAKxgkHbUcuVuvZdONHP0xgzw0EkV6Ct1bU814IEI81McoHxg4HYRe+LHdAtHGM8uOuj11g4I8F5grHq6jUxsCg++VuR7EGsmV7zSfRukDW3mO4OnoAr8ykrB4GfcN4Onmqf7JdGna04QtTzSRmunDiIwJnCs4IRmeZwHucG7M427sUe7iGOnJZBg8ig1vGaSJnZnq40WqhgeepNnzxeHAn41ynxgTAZA6n208uDnbi11sYV1RH7pOCmWICxOQZ6qBXj7BbfoJX81mXqnOX7n-7do+XKXj76e8IBn120oUnuUoIT15+A3bHLXpAgkLOc2WEYXOOzXEIJD3AWieXmn5dWQNn3AzX2Xk3036iq1BXKszSAA5ERwfo9ad7+2+xijp4p6qJJ+N1u7WKQBioGi91p33J9GnBnNtG9509i8g0IMIIR8EIRw5MIs0haMWIR2-hwPCJMEdwt79898U3+PoH9wVdt2p3t0j44hj+t+jyj5jw9yp092QEY3+aAF6z68oH6zqQxDax4Kst7RIqhVLv-sVtpkd4D1F6kk9VV9yjV9pqRzEHvtT+sLT9QJoEsoz-Wm4Ix9biz4QD+5FuohEUr7p8g0ZiIk7dCur9pnt2wpT390lgLvDLL8z9piUXoTRrz5z6z3DWPYHmTUCCuGV3r5V0l9VyEgb9YTA0z24HkvLvFDESbxgmbxb-L8dRvg79YeYc7+nV5yQ0d1hNtOwgH8YEfDJ3CvOvoOn3L5n4o0xyrw1nm4n+pNQyn-IAX0H0x7+2XxYth+L761L-T31H17XmQweIPhc-9QMWL96xL3TzL-n6sgrzH8rwj6r1hA30Mnc9X6srX9bmbccSQfrw7zwUFFr09e7xVzFr7xIcPZvw4RIu8fbfTJPiQBr0ReolhFzzjttPfw1uI0rxLaPrzjKeyFPg2kB7BZ4VbzYhaJ39WeR3ZiiANV4v8DMndbnGPgZiC8PIf-Lom2QdqB9tI5USgPgCaiNQBgFQbiqzxv6X8voVvLzlD2qh3dBAwgLPqgNihgkABXHOzogIn5fVYMErEpN1HtRQDIYW3SWrkWZidQGA6gEQBwFIDrQd4uQQgPjnwGK0YgJBTqBr2FoUgqi8sPssTBegSx1aEiR2FDBDqBh5YYEYMOOA2KlAHA3dI+PwMEHCBhBr-TGJZQ2LNBxBGKMWIvGegb0bClEEgsAMn6t1wKWEBwW13kEwUiAGKMAZPzNpHEFa8ePgqfxXBsR6Bfg7TJTzLj9AFAijYYszAqCCMwihgNkBkN4Z5JDApIG-iwyMCeojuuQ3wPkOJBPBf2qfRxNkLLZ2M0Or+ZIakJIDpDIweQz+M0I+gIQShDQ7FoUHKGVDEUciJvO636Dq4hhn8HIR0IqFHwChH3f8KUJxxTCzEVQvbrUMpqeoReBgVJtUGNjNxJhswsIqsIKFPAdhzoJ4PESSE9CiInqZgfTBuEpCZAySM+P8wcAiIoiLwqgEjFJSBAPoTCFoYqw+HUgRh7Kb4ZQF+FPDARH0RYTCMEhHc+iv7fYWQEOGNQphAbZ0Hum6GCR22VwnxhCKhE4j4RvQp4WpkyJ41+22UaETmUAEuAsIETfEcfj6JkUEBfQbDIo0YCkDis3I5wNwBN68R+RKPLKpZX+JVEzYagcNDSFbyMgjY6BU2KFAtgCi+YTIYsHyPq4DDnQJvOypbWiLmwpRvubDjICTC1AO+JQGWl+iu5zQqRAyYkRKIUYt4p4cbemLwCy4tQEYefKgKhQO5p8vRrI8wGlD+HJCcQbIboIULVJVEsS4gSQCGLLC+AHyuorEvoKViiBeiX6BmoYEp7ujzeRIXBJ6LArSEJWoAboIyF9FOjdRYcOQd0HCB4cjMDNboM7H7agA2qAACVZYMAAAguAHACssAASm1UgAAB5XlsgCBBqVWKkgSUbyMZxyikgWgqIq6MajZj8xSaXToGOzFB9qBCmWcXQD26BjOgC4ace8HIH7jMgijLcYziiKtj2xXYnsf2KHEjiTxkgcWBUHhibitITzFcegSiKBjoR2YhgLmLdQ7iCquiD8c4E8hPDkBy6FqOeLAkzifh6BecTfyeFvRXhe+VwtrD6pH4OSagEwARiECwS1R6yTCZZDIaQjEJNgwGCLwOr6ijxwKHcfONphNjYe0rXgcbEZAAAGE4JkRqCOQXUGQbAXb3KjUBBgV0ASX6gcDsSgQLEiSWMPmp4gbSaiGSbkEklkByBhMXiZpgvZSxRoMk9ntFxZiQR6BWEbzk9Swh6ShJ2UESQT0A7+iXAgQCIlpPFCpBqg2QASetHfDiT9JiyESapUOr8SOArQzHLFBEnJRyQE+QII1EcidBEMdAlYNSjkFW9riGlRqJpM1jWCLJ3GAySJMLozcJKT-dKhJWaFRSYp-gg3hcNiDFSGA0UtgIhhCEl9ZscA94rqKqk1TEMLEuyVxGIBtDQgOCNJFAM1hISoIEU4gCVNqne0FBsgn6BNIUG6EDAhaKOINJaCmE0I10Isk0XCFH9pBioYWKLFUHiwRR+-ecRtPhpqIWA5NegljVKDGiowWNZoK1NKlOCzoLAVwZzWgjHFtpFY1IHf3CBGD2QkU6qaVMf464i4-00aYDPGnMUp+aEZoDdOMBV0t67lJigDLaka9KeabI+KzDjicI-gOk8mKeCGkQkixygsWK9ElhLSdRLoFgiLGc6YsTidBOgDNQVHmxbY1FZwaoIKoNsGgBMyiYxA1Gr8bemmAih7hzx4BIQ4slcMLFUF7SLoagw6V9B5mUzhIECGmcmIgjJSHATM+0XjK4BczYgT0m2C4JQjQRUINMePKZF8oax72aMToMdMP7uCWCFQHqakHWQ8yKZAsEWWLIlnxSIE4IY0XsFNEBQIhPstRBjJ1mu1eZK-Z0ZxE1nvtmZ-EQgHuF-A0wb+49dSP7I4DA8jufsk0VnIgHtAo4icu5qSCO6QxkRqQOQYnN+k44MZLMPBNjOCS4yi5PAZOR7PLlCzCAhQo7rXKxm41G5jwTuXczZApyYmYAcWZCHblYQq5pnN+PfAkqdzdOsc3ENrJvBVyKpRQVeaSHXmFAl58ci2Gn22F6ysRjiBedvJXoey9uOcgOcDyzHEoBJp8GYqhRfpsZZiMxBlAJJ-ouA3gSSV0SEg6k394UHUoDjJLBL-y6RavCDLijtBALNe3aToNFN8BQIiy8IX9vClojuSHhxiPHIowClfQWJQo8nv8gQlzjQA2oj2WKKLFJIqyuCxkA5L1hOS-gLktJB1KYiolGZccx0UoVXC7ztZyo8iXOKPnfyzwNXKhQRI6lnyigZCyyopITC7zOFXnDOaaMRGWiIBSBMni9zcmBSwSoixgOIo2KUjJA1I4kXIp9yt4CUTY68QwF7HWQAAMqy1HEWjMg3EneDRMlEsT6JxCofJHJv6LiXxHo4CUd3XEyg3xR8dxV+KSB7jnxB43BcCiA6niFwYSq8W2KsW2L7FT4mcBuNCUCSPF-C3cchJxGtCRirhX8cSP-GATwlu4iRYUHBAsSIJOI+ECLxKX-D1Opk9+RwDqXNL4elPa1mEoYneLwFKEiEehKvAsT4iHJa1n8hYmaKMYfSg2q4VcUOjslFSxiYkODaBS-uhPQhbMtMpkj8lzS1CVQGGUQ0BYYy2MChIrZHwMRGxb0FQLgnvBNlL3IhbkvnEXCmRs+aXDEoeWG5PFjExkvPRxGdSVC6i17ijy0FBjYRFCqkK0ABZAg0oTib-l8pAlAq-ug9U4qQphVqzDBOOYJIA0agbK-uYKskb+2hUOBM4TeTwvj15ngrBIt8vxfDCWi8RvRPHdqGWJBkFx1Ecg1lZ1I+DBBsBF4xgK9GXFHj1oJBbMUtGFUKDGwJYoEGUvLB5jhVTRRsPB3ZycxCJaAoxc0vlZh4mlwY7oFZCPEdLkhqKwoEVBxD6r+Vhqj6BOVjCzd+V3AN5cqockzgjx1KkvB9P8K-oPIPKwILgoOnLiwFRM7Vp4sZBCLf56yFheSFFXBKGVnilaQ0ClV+BGQsq3EHmOAmKqqijq1VTJKeFaqjsOqgEXqswoCTLVCgY1bEFNWFqalxayCe23MkCT7VqTTNb4mzUAqV+wcxfOf2MSUDfVwQNVTyP5WoUplwqjUeaJwG4L98A639mOqPETq7lQHadfytnVES8lUEb1XyruV+rglS69VbuNYVVEm4ty5dVGMsW3i+xA44ceACYgnruxZ6h8Q4ttV3KG18RA9X2vdhm0go4IDEAp3spdqsljwANStQwE+qZJgqrdRGsqJFiX17ixkJYusV2LL15IWDakvvUSV8Fuw59WwD-WREZFgYT9ThlpVdtG8nzTXJvjhGkbyBahN4MRpRBK9oOSM8BngKvzAKpEM4KjY9An50a0VIQqjven5q4guG1GgsLRrI0SIeNT5A8GugE2PRhNACxxORp-U4UWNbSFIIJq6IybwF3GoDjUDEDMoj4Gy0jbJpGDybO1CA+gJ83wCuS2NKIXsv8uaWoVCNVmoTY5q6K6dbNyQ39lRos3MKlNzm97GZvY39DYgyKlHlrgk2sb-NNG3zVgzIg543NsI2mKav4QiBCOwW8nk9U83VBYW8yFTV5v0BSbrNhKgFUUIfQKVlNhgVTSEny11tdOSI1XiiPGHet0RxwwYK4VS0aK1CVWsEJ1rCCFa7NKEBoG8oE25bdi3WvLSpoC39aw8cWqbvdES2g8rIbWolkNsy3OL2U2ms-Ex163JCoigytCTEXmUnKTGWAGLUUGKGLbwixAHTXWWBUOcetR8hoAYowG2jml69BHidvNGPaNVwYs2SbIZp9FJtSIHZQCtm38AIQ4PFLWopRVpFLtzKLLT5RMD8AiBUg+gaSSgGDth2qqHth3Ep7N9Je0vReFnipW7KYws9ApUMv21+hx6h+YyAjAR32pNIzAXOOwK+j01Vuy-LQRIo6jUwomXMl-pWHZKaiYgXOd-vSKoBjRSAM+F9sdt+3VLcdw-dGPD1S7UhrRhi57d9rbkIFHFbACNtNv2iJa5drfJZBDtPxaBgVT1A3fjvGjcTGwNwc3lwx4ZAkgQAAThODZbuGgjalUYFEHsp7dHulCcFlPhpFJpgssOh8DjWsRJCA4FwArA4mzTYgvu3hvoGO7HcrIaANPWWvIjtrnQCej9nUMozx4c91KlmMbBJF7ICqLgHyJ6gRmb1BhAjXhkXoD29lbdZWh3Z1PgW8MkFKZfEryq20QrwF02kHXwnb2IKmAyChbZDpR4jc2ACCzvVDEyKj83AN26oEVBPBkAG4wSMlpCoECtBGQYffnMwHN4L6PFKnVgpJ34B8cjgXSyNSwVTSkB19hLUAM5x7QBzc4VSbaTnohDeQfIR+0hSj13hn6BAwuGxjGxXAf7tu+K44KAA+ksQBwLqjAVgMUaUCwirQcPYUDHUyTe1M6hdRurBIoGwhVMgwLfvv2T5H96kYJElR0hx6YgH+8EF-u8iqid1FA3AUAa-3+QoDCtNiFnqKA0G6D9Bv7htGlFdEWDrB-A9Qbr3PpiR8eFCUcqvBU6sa4BkLXrIZ1sCXMrQDnYQe53xEgCFw87WoeV1tQbRnulkYcQ7XqU1CQgQwI5AzjL7+AHkqojvqBB76I+R+z0SfpsMCBHql+kvGPQFhRjdDIiFXU9qMNfoS81KMOpDAjrmjwQDkPUWoDmhcQqA5AWSNBA7wk8suGy5Q0ztUM58RgERgqlzv+ipMgClPHcXvPzH2wVRKc-vYdvTm5yrq2cxRXnOf4FysggohIyvFLknKYg7cyuV6JHWxBVYlsuueqw5iMI2jDsSOZPPnl9HX4t-CStrF06lGV59iRlVUvwb2IFjaxsiUmjKOsqtjV4baJsfu2xhTav7K+ZnO-URQj9N247tyP0CaiAAOlgCHVpCj48BmQMEHU7-aHGEzHXGhBT3NIiDuNH-icGuMbLbj1A+4wMKeMvGepTATAR8cm6eju+vAE8AVR6BYRUToAAAF4mtQATxooBcvhNvRPjBRnoLib+N6QATLSNfcCZqioQDoYWzkZYYzi3HXjxJxE+pyqbLc4FhHFgIR2UCEdgekwY7mmDwBgmQtbJuE+8dJPcmcWEIJI5hgFNCn4e1J-yEAA')">function pattern_match(pat, dat, frame) {
    return frame === "failed" 
        ? "failed"
        : equal(pat, dat) 
        ? frame   
        : is_var(pat) 
        ? extend_if_consistent(pat, dat, frame)
        : is_pair(pat) && is_pair(dat)
        ? pattern_match(tail(pat),
                        tail(dat),
                        pattern_match(head(pat),
                                      head(dat),
                                      frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p22' class='permalink'></a><p>
      Here is the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that extends a frame by adding a new binding, if this is consistent with
      the bindings already in the frame:
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-consistent var dat frame)
  (let ((binding (binding-in-frame var frame)))
    (if binding
        (pattern-match (binding-value binding) dat frame)
        (extend var dat frame))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPEudqgsWlwqgvtyBRCHoYg6EobhxcrISgpSBgQS0CgsmF0WaglqYVgU6glZ+dH9FVsWNeU5p5boD6hcUNXxcoTX5OBfAMSxBhDF8BQWHwBd9dd93PYYfAZDSC2Dato3balugZZN0B5YqZQ2B+rK6BDkWw7tmZ+Z+OOE7K+gU+tiWI6j51TdSC1qDEOhPol-O0+U0piFPBhy8r6uwUN9XJZaSP06aGPUjebjUU6WvO97kpM4XQedecEeO5tovx9iUuFY+lhhHIBgEcIQI3GcUebaXmJSkJw7k4T92N4YdcsckMhDAPjX8L06YL-XzePeEXxH-D7vi8VFexh2ji2UJbVOY966Txdm0WsjgvpANgaAl2zAtBtwfvPJ+f8j6gBXuwDwXgf7YIbk3PBygCEYK7tLbBK8RLIMFm3QhkDG4-FoR8ehNsf6L2jvLDQhAQTclRIw50pReFsG-sws8gt9Bny3vDHexA955woVTLBz80LbhnAHU6fUH4-XmtvXehhGaEMXtQlopBzKcNADZOyDlnLUl8BLcg8MvI+QkR0LQNUIpn0EIQPh39kTcD0WEKiA55Y72oAoGelZGpn2kQ4SYOMYhBVEbiCJUSaAxLegzPOgTBCkDEGEMMFF9RhIHqHco2TYbJ2RIkqCMR3wKIyMVdxUiZGfwCQktRL8VgIyRsILekcDz0AYcZHpSIcmMBvhbJWD9andPGYqYJCzFnTBkdLYZVcOG1MfLEOWqRaH613s07BsRSiHIYgwN4SMwTHLYLbMZOCgzqlDMsEp0ZDRmWCPEugVlbL2Sci4HxlBfAkFcb4-xNUczQxhnzDR-tA7owftvQwi8klBRuNiPRgIAB8k8PFfT0YvKWciikwp8RIq59Ah6zxVqHTuaKBrA37kwUg-BVDiIFloEOs1h4LnkdxARYCC6-yoac4hNYpHTz5VSoswCa7KK4X6UyXLLa8tpc3e5ZBzaZOFWnRe91YWcUpQgkB8DKAKEoKirBOMylbxFiC6B8rQFGAtVaupK4gpjg1AFZ8-w7UJw+HQ1BHCPiWomEk6YQVWncqqKQINbCQ01zDe6zgVDfWRhfCuRscaE1uu0bWRkYyY1fVzTORNxAGEprCGmnuTFBTCn0PLC5fVpEHjzZagtD5I3CWZWW5Bnb0b1pzH6nt-pmUmpgWa-Qjy9kKPLSgytNsH7VqpumlcbFyWTOBKCBFDAHAtw1Poc2n0QlMrxqJDQ+gGC4usZCA9e9K61DhNwE9CjaY+MMNyRg+B+AMGzonVE6D6WH1tY2+Wpq4GEPWq8egVJq2Mkg0gitaDCHDuScy+WlbNC4iQ+a8NpyJ7pEyLOp5vDxaDC-UIf2f6AO53eG2+NC72HJrdRMFZekqM-toyYHOScH6kdXITPDow80sata6gjkwgIjszR8lY+z-28cA-vZRYztY7jo0nF2bsPZ0vAYfQjzRiNsAClu6pUDSHkJA4XG1UFGwdMZFZpq+Av5ofJI2bsepEPfpozOLTQHlqud8DJhpcGBAPqMU+0IjJ4VaMixXI9XmyVxgvfiqRHSSX9MGZWTZDDkscdWWhBL0XrWCaKw0MVhqKVN1YYuhhFDGXkgxbcRqLbawzrQiW0YF7ZHyMUcnRVWCP3bspYehrNnKE9xxo2dGjJuvjZtl2vrhjVOTZUeuwoh6dO+y9mdRbEsdt6ZMRTWsBrmvMqHeZvmlKAtrYM7ZqhONts+z012-Qd3sqvc9iYlc3XPuMHRithRRilHreJX9utMK8BnyZnIFmUA4CIGQOgbmxJeacXlorNy+mRVAzS2bXg7syCEJiAAHzJ8ZCDlAuok2UeTynfp5Ye09v0Qb63QAU6p6kEzpPYhc6Z6kb1tR3OTW3dj5W736cREKBdtLFDqvbvlswMQEgBkaMk13SgfR7hrRxoprCKbwgADJje9H6JRt14RxLsh1yrxXFmzbB2l3LhMyvyCq9qArUEVjwRvq8Uajy32FxaLfaT89CZto3mUSNizhMDtgg+LTsQJL+ug7oPjhMGvwQJ-BNwJPc1U+rfoPtHxPDH1bIVRziPgZ3ee-Vz7xr1jc+l+3Qno7P2Xepcjxb-QN4o9Jmg-yMXFn29A4MSD+7eP9fMoH3aaP63h8Y48rHZT9HNeZ9r6kFXavvc7hTVZY0Qh-Nr6TvCTnjPnR193xrg-1jwYcCU-HFT9Bz9c5H3zAHHf-xW6okFOfWQABG+0m90PiX+4+cixeycRuf+s+veN4REVuS+ge5gWOa8V8E+A2G+sBBO2+HuN+Pud+kk6Bm8mB6eAePib8V80yn0sy2Br4LW2Iwee6b63AQBRuS+lBJBLmbmMBDBcBIwCBg+HBsefMzawMwaS6rGlqssmGeB9ee+iebqVkdW4mFB26tCZB+8fByw-+8BwhSBDuYh5S6q9AI8Oh3eW+uuBB++yh1i0qGqWhr+4QAuV+8hNhShlqh+1KM8ZhC4KGNs6hFmDhfh18gQgqUiFhGGaW8KgQMgmu3AeIrewRPhMqlIU60htsOBWeu6cRCRoApIoB26IR5sC4nQSsOq1AMS9BuhzKsRlQ+ROgohmOqQImURuMbu7hXut+dh4IeGQRfMwmGRLqq62RgY2e-R+ebGyRfMeGkhqGfBsQtRaW7Bhh0MPi-aARmRZ6yxPeIwq6RRFmu8zGSaEmox-BaWiBBGhxxh9qOGTqiC+G7qYxyQPOGQP+1x6xSuqQgaJxUhnhzxFxnRaQ7xfeBhUmRhLRTUXIBC7RHRVhO+3RhBvRVmAxT0MJPB38cJehgh4JtszRK+Zcfi-CScNRc6uB1hSJthXhzexJ1AAizgaJHk6ykBk+ec7ROJgwVx+JNxnEeiwOA2K6v+QJW0+h8+eJIB0OsgkycO8gSgiO7MKOXMlgy+qB2+bKX08Mm+rxLmrOQg+gWpoAxkpQLiNuNOhaxkpkFi3y8MVkLOHAQgLQciJgWgwgAQJgxAVRtQjQAeKBl6dwcSNBd88a3AmWdmru4xPu4IhslSZ8eegmQZsyoZwW52H+UJMZIgVSBY0i2pLKiJDeO4Mg3hqcsZkyTJ5gMiiZ98OZM+MRuRDRRZoASRvJzJkymJNZNeaI9Z8RjZhRXxFm6yQy8gleYIMguZ9RPZ3ATRkJ9UrWDA7WaqNy45UZC5eeKg9AS5LZap85Eh+s6MuZ1+VJYI6MKhu5DE5ZLgC5sqNy30lMtZexXJg++5BJcMjgXwRibUOWeWHCT2nZf4+g66aZzJ7aM4kMAF02f520gFfp3c8c+AxgTUASt8jKsulhLgWEkMqZkU4WtujU2GjqGyw5bcjIJmJwMFp8t8Rgumns1qSKuZhu1FeovUtYZKQFFZt83+cyt8zwqF5JD50i3FW5QKHFSKAlFsPFSxaF-5NMM5cMiMFGX5RFoajFtFnQ1qLA6weFEFEZaI4sYg2uVFu2ISNuHAbUBlp4SwfopQBMc5YFweqleoKiGlCFVClpwIelBl9l4QAAPO5WZaoLeZZbGA3NaZuOCAACqOygA3B0C+D5JiBE7LpNh0nenWKgAADURpiyBebUQoWJKl4QmVa54IGVWV4yOVYgeVgVkwjyVpliEVUVMgxAjk8ViVEsTMNIKVwgzQJVmV5WhQFVVVXlpVxVpV-VsQg1Mg38FlyBlBjs0k3+72weTWEyFm0sCsjs2Iv5K4n636hlemDlOxsYimvOXl41DckcG1RAnWqyIC75J0hFIyP5PchGJkDiu2I45u+xBV41x8X1gwM1v1TyXGYJdoXlNodoM1oWrEK4A40sn12ueFDquIj1I5MG0wXym4y11itkHs5QoA-u0NhQ7yY6sG7wAgkMjI-aYFm2foQUINkMnFYlgMhWaEjNolNMRN0KxNOlf8V1W1UO3ibeFei13sjFvUK1sQFKl16IAtMsY6u1+p9lvUR1dNchIJmQ+1NFr1ZyfNstN1L8d18FD1Q5T1NcYqgmzQwen120Z1L8pQ8E20FlvUOtqw1Ie1REBVENWQUN6GoAOosNja8NZpOu+FKNptaNpNsQmNWtbAfydAeNIgBNFs4KLeftJN9SRoOFlNQI1NlFtNzo9Ne1jN9lzNfIrNV47NDEXF4lXN5E5IgUE6Mtm14FMshqMOMpzM8pbMyOnM3M2AMF4SXUGSXpWZgitSLxeZ+BR5PyVk6S0SxAF5PAw9C9DAkSfC-xpJE9IpLgQBOyhqhUK9uqY9jMsWPu6Y2ecwa5sQcwq4VMF9UZHI19MQHId9Ky2eGEz9PAG4b9D9O4kkoIX9Giv9r8UZhOmQa54DbAzo99oD-93EhgfC5Avga5CDSDcViosDDQ2emNz9mNsYWDRQ2eNw2uzcLAhgeeJDqgZDTMKwhDhQ2e6VX9sQBp3AIWt6LimVGD9DsQ2enkzDMQrDoA7DAIeKLiPk3D79UZL60wQjIjYjoAkIwjMQPDMQ2ewAAjBgtpwj1uCjYAkjf9YI4IAApJo3I7o6AC4sY8o6AKozuv-eJMw+Yxw59SFlI--QAISShOPaPyOWOgBeNAhuOGMQjeVmO+MWMuK+UxDBNwNGPeUAgCPOOiP+MJMxN2PZ44rhNsOROgB4rpPuNGM4qJPcBFDJMKPFMFMhPggeOaP+OFApMxAeOxBanpgFQ4Xz3H0yL2WAgriYpDAW7cCdOj2w7tPk3L2RKr0yL4AsAABWLpTMAIfTV6yIt6H9R9Xpa5e9CSF4YywzWSozZFh9kzx9R+7VZ9O42ewuwga51zdjFWajUZkAdA3oOsKDpTzzrzIK9zDzxDVA1DsAkAz9VDDAgLPzFWfzpDAAol-SC1C+C0VtngAHLkBIuaMotIuu16RjNUj7ONRnPloqW9MrD9PCgpPbRjlDMbNZIEtkrHMj00vhbH5dqLPLPYhkt4p70XgTMMv4tMvtVpgwWpJhEnMjOTKz3xUaK5nCuvRqikBiInSzPkDVhfpdSaAG2rh4tr0iwcBtxb1dKCZ6JStHBFDXacTTjOyo0MK5l9IKVWscKkbkbIxavdMqXcBA08ur0EucUItbZ+IUb6AuttkzPzOmBlarJavet0UV2FCI13EEUR1ty0wcACBxtiBfAaULj2sSyIbxiECKVm1giCsd3VKykI490cyYAYCqkuDXIUCmAMDAIfDlQ3CkAEIP79S82E7E6bhAEdvSYrizBilZA3j9uJJFUMC9XUg05zRVV9s-RkwPhLzNDzuowcCcHFGKA3DQLTKumurJ6q3REJjkDKDKBE4ZBSJGBBKnsWNMyZX6AnvKCfXgglWlAvtPKjWZWPu+vOgvtTEHszGcQOA3zGD7uF7xXWr8nAc-TGDPDQS80VUjUQilXCzbvGC7si79NQd0AgcYzBLjvWLWDghCXSi4dMBkAKAPsFIHlvGa16JLxvsma6RvVY4+70egCm7KRNq0cjuD70cuFk7-Wg1ZD8cBPqTFDwiDsGDbTsc27ggSfGnrkSz1szhNuxStsEL0duXcfNx0kMl5zsecerhO6fQ-IFgCnp5UdrQ1VWXWLIeZXQfxqNRKyUcycFK6LUcEePIlVTvMGh7Bwslp77yid9Wrg+elWOcIUucDO4l2jBJWfSaFXedEduWRdfQAMfBrlEqkcwfOcUc2csepBYRadaw5dOcQif3cAa5udrTe0JcqJpfkekCCQriAIzskwlf2zggADkU72KRVvXrX07yeVV9HJHjXwCpA38k37Df5UDAklaLAJO20M3P7q42eQgNzVkwQxVDkOkVkFoxYxVbKHA8IBXGcaXMXgwq3dXN3ZXUX+XQ3l3K3tYU3KiN4d3E3r3IWslLgSrKrygarM4QOO8HgIOAFciNHunfC9JpJ28DH9jRjoisPqIa5gXUBEPhAa30VV6-36wgP1Amgy2oPoCbgQS7nmPA7KwK8Ye8PUn2eEn+ejFLBwc8Py7TphAv3oAM3OmTi8MYRYPbglPYGBgPCencPkP6NOabZ1tQIK4fngcYe6PbJycbPw6h9gvxgAywS8UV6PPrsfPAvpPkHFPavhoQUrrH1cnn9UnWE20JPIOXu+HbBw7gb8gxvTv7nVPb1lvemz7GizHGcDvbgnvhSQ3vvnsz7ePqrhPwP55tvG4ZnsUy1pG-T0fBPRPIP7vIO5PhSlP53fcGFMv4ty9mvofKWsmlEdqtPkvkaQUDPa5CvQcpnZvxNo6md0aciZmQtFmIKJAwvc3RXifdPpXUFkPQ3Md288dAK9iThLgffi9gHHk1yy6A-XbQ-B4lPUnN4I-b1k-ci0-diLgc-SnNyFDL5IMIf2k5UlA+ATUjUAwFQgw8P95gYC-wvcnh31UJHj-zcV-sUHSNflJW2gr92q+fLnvLE6hAC+KCJaegWTBBT9rEEnC-jHHJrH5uo3KRAZhWlCJ0BknUBgOoBEAcBSA60HxLkEIDiJIeY6O1FALZ5R0ws4zZ6E5mJgvRGANNA-pjHEp+0pKTAm3Nc0EylAHAuA06KQAIGbdiBmPamNxUtrrkKB50VaO9mei7I2+cmGOOBg36bg6BmdXtGliwjkDv4Y-LHion0HCd8+ddf2u3zGSd9OeG6BurzRMHw8ueSefoAoGh4KUKgCcXwCLkMBsgPByDL3IYFJCv8dSp1JIlJz8FeCBkgQp4ENzt694fB2PJ4LemcEfQ3BmZCId4JpwuCEIRgJIjGweYNAMhUQ0kEv1QISwyADpLJEUNyHcAihLsIIYPw1r-gwhpXOodEPZ5xD9ieQ0jEkJSbVAlYlQxqNULaHEgng+Q2ML0LxQpDXBREJIrNW3TTC3oCcC1CswcD55cyMgZYUjGQSBAPo+7bIaSzWHUgN2A5LYeLB2EuD9hH0KHqdSyHXCpOJmIbv0IqH9AqhkYfwYMDGS207hgkGNpMP+hnDGA0wq4TMIMK7DBI8wizLxAqIMASG-EXiLUKoBSDxKwQzgZ9GfYyAkwtQEqlJ3BCYi9g2Iifu0BHgIiuIVAcIFJ0poxAnhqQKAbxApGldbWmZIULKiMQfAOEpIjeF3Bpg0jr4ifekRxzNzhJE+XIhHtCO1SwjQoAVG8PSPGHOgbwoouUYqHFFJBJRfEAKvb3JFKjVk20RUR6wIic0hueIrETcycFzQU2X2H4QaXoqJ9tG-wkzCgLUAmAvAzcRgF-0ETujnA3AHnqSJ540wZsOFOEdQzuTFQVRjAIMfoB9FIimQxYL0WVQKF+g-RglXmkGJ3I0h7kGIk0YHyKClBHh1PakOaMkCWjwRAkKUWmJORc9eACFFqAjEDbkjUR1OZPFdzrE8kzWHkNKBcL2HdA2Q3QBoR5hwqLNxAkgHED2L8B9kpKizMCMGHHD6QCa7xYGhAJlD88iQAcFsetEbDdBGQmo22ExEUxQDug4QN9hJyeTdBDUKbUAOFQAASULBgAAEFwA4AKFgACVwqkAAAPJItkAQIUijW3+iSA1Af-LSIFjDHIjsYf5KsY1BrHwwWxFRBHh2KglO9-+xiMMezw7GdAyiSEuDCRzQmZBAJsYuDEkL-JXibx94x8S+PfGfjsJkgNekuMQlATkJVAWCaiI7HAioJDAFcfERQkHdMJdATyNMN9IbEWoeE6-gRJAlojO2E4n4UsKoD9NZ0XIonLinKxOiyEro4SYInkmWRv6lACoqBPLqzomq6otSQxO0napdJyBc8Sdz5YOAlYjIAAAxkUfENQRyPOQyAP9xesUagIMCuiuSqU1k7QECEsm+TyhpAUqniF3HMpApuQPyaQBI6EwnJIgxdqTD+iBTke+nRgJ5JtGb95Oa5LCClPcnlRPJdXMdigMCBvoEp4oVINUGyCuT1xOFPKTDzSlr0zQBNZqi5MfypTtMnk5KOSGBSBBGojkToAQhf7aD4SOpWgVQPUw487g8UjtpILiA+SOpHk1MGMhXhYRd+wib+pvyyH9TBpzYtntqJfp9SGAA0tgAQh36S8jMHPMzFJW2nHTdplklARUBIAiBUgecRAR2zMk4xepxAHaadIAro0YgNAn6P9IBlFA4axIn2guz+jdoRpCmZlOaWIDcDK+WaAiA5mYEXRWBb0fOmZKRk6CEwLAT6vwPGSlBMRUYX6s0FuknSCEz0RQcoO1BYBoIGdKwerTWkMi0IpQSmbtKgqJIKc7II6VTNMEPgZBpM4wOnTsE3T+Zu0xwW2LkrZYWRosPeH8CSloxOgn0+zDhV4GgAaZr0MCh9PEnQ0BwTAwJs8ggigyvUdAPKmqP4g0z9YSg91gmIpg4z4xFg1QUDM3Cng6kqyPAJCB9nZoNZLA9GQoJ1mUVTwOMz1MyiNlTiXkdQYKtKEtkRiPp+o2IDbLOh2yGZ0EVCDyNjCmR5KyMPWaHP1kZoq+jaJ6RRlenJwC5eszmpEFADezfZcMtLMaIJGmiG6lghuQmCZEA0oZKsuOoXLsE98+YDgeOVKMDZ7hfw-ov8jnXUj4iOANzXETPMJH5iYEJIseQj0hi8i6RSRZ2RPE7lr1A4CsoxErMIBjyzJG84GYQCCFSdd58s+CofMeAXyhmbIf0bXLAA+zIQvIrCMfJNxCiNBgbUkFJyHlTUrZ0owfF-IOmxtQFpIcBbEEAW4gIx9vboQ7IaD28oFSc50IaPzFNzZ5xHGWTqUsmupxMUPfMooQIWnEVCrkpem8HjhVj94D01EUAQemlDLyPkwAXQsaG84hCdoRhQjw25sABpvgdUrWEk75igCtEGqZCL5jCtN4+Cyyd6O+58iTJSQORWQFxATz+x4zeOGzjakSgNoZUjtpVOTgPSmIjYWBeWIzFy9VwpiiMVGMUW-I0FVCs8JZ00XUYHp0CooEmK4G81TFIYzMc3OzFEZ3iE-VVI22+7VTH8gA5xYwFcWCYPy6bIsUCKtHeKmk9ycyZIAvHXiGAT46yAABkoWX4ucZkAcnboDJAEyyQ-DElqKpKEEmiRUGgkoSpO8E2iQMjKUwTtUqE6iehO0UPwmFQ4mcJ0paW5liJmSnJXkqokzgEJzS1yeUsYltLURiwp1p8KvAsSrRbEjia0qSDY9f2lkviT8PhDjDllJY7KeQo4A7LwRZ3LnsKxaUVLuKcyqSZsJklXpZ0lk29OVikXaKwlGMa5eJXGElLgxUy9Zb8n1koCjEOrRqDN0jHyKvln0TsYJFuXgjpJKw7EDtVvgvLYw8y-1ukPeGRCNWsYb0Nrx4kPwbFOk-WUqP+GXL-lRK0yUCo4wl0fhKAktCEpUUQqVFukmFbVPGatBVmQINKH3lBRfQ7u4IBlTNyhQwCXAnKhwITPAjjgpOIKjeoyqm7MqpurK6Yez3FXs5yhYAu7rSvBEoD5YUEpaAKMaEVVmx9IgTiyigHbiJF5rW-oECMnZRXoUEh9jxPWh2p9VSsz0SXlBkbi-AjIVZeWFXEeqM8ftRsGewsRLZA1MK4lj0gOWXDug3E+ifQFOUuCRVDQIqDiHjX4TeJ-EmNsVx4ncB-hoa0qX0p4lsroaTMnmmxRcAfBggbWHyQ6qXEfL2VuLGZYGCBAOKaFecIxeSFdVLiDVLajPF6pwqbigQfq3EKuJQnBqcKhapbIFOmFRqX4MarsdsGsTbL+J5gtNXGpXWuSk1H0eMrGFymuT81FjadYdlnV0qy1bc6FAPL5LCBJlj+YIHauTiBqoe+C59dvN1q-9X1zqobr-0DVOqE1Qa-spItvWPr-1ma9aNWttURr61tSsDSJMA1k0qQnsfFQBsHFDLSJz418R+PABMR0ND4zDRRPyW5qANR629MhsfUV8j2gYcEBiBwWVrBAIGmRTVJxiQba1j+GDbWK7WIaBA5GspYyCGVZLclOG8kAJpGVEbE+sigwBY141TLoaQUGjV4Do2-isMyNWVLM3FYoobhoJTTSR37RvB1NKITHoe1GlCcdNQGziMcTU2PRkUpKXMudMICsVB6qQMOv+hSAGbsymmhsTxyM09L+0CDdzQgNs30Le8Zm+jZZv83WafNqI+zY5scnEAxAgsAZOCs82QUQttmrnvpvwBVT9N1m5VXSq83xtcQOW6pDygC1BUM42qlwUN0y1VTLNxWsNqVus2bKYgQq0JXpvoABbGtKIGtAzIeaVbrhtMNNTnhEDFVWtKitcjVsA0wV-NWW5OBFu615adVBWlzfNuzKrb3UDwwJfmOeHytXhQwrFSLlnRjaFVfmtzY9A+xnbutKifrb8N61lMLGM22rfOlc2GAytF217U1pQjjIbtS+IbTtysjHb3mwUV7bNsFZxaEt3KZZOJLZVwrsh9yxFTisVA50cUd2-sN5sB3Hp4tiW+Vd-Gd5oKGgsSi0QkpLGc1bAZEDOITviUwqy6ZO2CMZneJfaigP2+6ENr26jbglwq19Fjq0Bg7Rs8MEwPwC+jDTea3WRAWmwzY-Bs2O43BaAHT5A93sUOn7ZOHpp3Llhskv0MjuMgIwBd3KTSMwAlgYCvoQNGrjWnEluKOo1MXRvqJjqVh7ZDsmxDP3QpUAxoIU7yGlXSrpzyd1iOXbHy7RndxUBYtqETup1ZyS4BSuOsZGZ3QwhtPuzPueQB0c7vua5WPXH0phHNAxziF7eg0ZAABOE4GAR4ieDqdxmgvYgyL2LCdYJOD4K+lBnV9QSHwD1FmFHQDgXANuWyaDMKBoNPB+gbrt1yshoAB9Ka1iJeudBd7kGzYhveYM72F7kGMKtekrBBE5CG9r6LyE2XMGbpp9Ze2fRXoX3Wobg-PMfT9xl2dB+Fgir6IlhrWLaXBGwjitMJZ38AIQJ+5BmfvZ2SotAOOrLnwuf2spzwRSqEdnzcA46m0OHfgCeDIAewjE3zAMRysZD69HEzAfnsH2mXldqgRUEakcHOXdrG0MSUgBAbeZicJIRiUyjpFBmH6IQ3kHyEge57fdUBaB1xPwwRDvqYgZBr7kytaDHAXZlECICxAHARrb+9-ZuLepFzsHQZn6nyQ+r-W-qS1gAkQ37QHA4G8DIKAg9YiIOBEO9sQMg+CAoNu7A1DGp-vQYoP+RODL4NiCPqKCaHtDbumbhtHTFWoDDhh8wYfup1jJFh6utmiitEa-VWDCqpOXrvQFSJWguk-Nbbv+gWMZYmyjHYEcD1xLb+xOy4Q6MlIVrfx-aIQIYEcgk5UD-AJtQIFaCwH5FBvBA0b3B64dgDaBoqhgd2Q5pb4g4yI-nkLGxHqdCR8KRSV5yQxytOY6xA5Bx7qi5oZI5gLJGgjNBvD38PwwboCMu8RgbRlRBbtCO3pwjXPa+YHEpCggOEesrkWrPUVUhNZ2stgSHO7nkwZKvNXgVHIghXzc5XctdhjHWP6zYh-a4BfIJOi2yWBKia44cYihIGgD3Xd0foATEAAdLAK+oxUDJ+DMgYIJRxMxsMcmiSNCH3vvzgH4Ki-E4B8fBVfH-+Pxgof8cBPPTgTd-UE81zrGb9eAJ4FRD0CwhEnQAAAL25agB-jRQBZUwFxNgmZjPQKk9Cb0iwnwQChhEzVFQgHQQKrotIyTi+NAmGTb0Jk74yq5RlyAxVFgMVWUDFUbmkwbrmmDwDInQlwp7E6KbxOUcJTiPR-TKblMKmzuHJ-yEAA')">function extend_if_consistent(variable, dat, frame) {
    const binding = binding_in_frame(variable, frame);
    return binding === undefined
        ? extend(variable, dat, frame)
        : pattern_match(binding_value(binding), dat, frame);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p23' class='permalink'></a><p>
      If there is no binding for the variable in the frame, we simply add
      the binding of the variable to the data.  Otherwise we match, in the
      frame, the data against the value of the variable in the frame.  If
      the stored value contains only constants, as it must if it was stored
      during pattern matching by
      
	<span style="color:green"><kbd>extend-if-consistent</kbd>,</span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>,
	</span>
      
      then the match simply tests whether the stored and new values are the
      same.  If so, it returns the unmodified frame; if not, it returns a failure
      indication.  The stored value may, however, contain pattern variables
      if it was stored during unification (see
      section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>). The recursive match of the
      stored pattern against the new data will add or check bindings for the
      variables in this pattern.  For example, suppose we have a frame in which
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is unbound, and we wish to augment this frame by a binding of
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>(f b)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>.
	</span>
      
      We look up
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and find that it is bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      This leads us to match
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      against the proposed new value
      
	<span style="color:green"><kbd>(f b)</kbd></span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>
	</span>
      
      in the same frame.  Eventually this match extends the frame by adding a
      binding of
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      to
      
	<span style="color:green"><kbd>b</kbd>.</span>
	<span style="color:blue"><kbd>"b"</kbd>.</span>
      
      
	<span style="color:green"><kbd>?X</kbd></span>
	<span style="color:blue">The variable <kbd>x</kbd>
	</span>
      
      remains bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      We never modify a stored binding and we never store more than one binding
      for a given variable.
    </p></div>

    <div class='permalink'>
<a name='p24' class='permalink'></a><p>
      The
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      used by
      
	<span style="color:green"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue">
	<kbd>extend_if_consistent</kbd></span>
      
      to manipulate bindings are defined in
      section&nbsp;<REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	
      <div class='permalink'>
        <a name='h7' class='permalink'></a><h2>
    
	  Patterns with dotted tails
	</h2></div>

	
	<div class='permalink'>
<a name='p25' class='permalink'></a><p>
	  If a pattern contains a dot followed by a pattern variable, the
	  pattern variable matches the rest of the data list (rather than the
	  next element of the data list), just as one would expect with the
	  dotted-tail notation described in
	  exercise&nbsp;<REF NAME="ex:dotted-arglist"><a class="superscript" id="4.4.4-ex-link-2.20" href="./2.2.1.html#ex_2.20">2.20</a></REF>. Although the pattern
	  matcher we have just implemented doesn't look for dots, it does
	  behave as we want.  This is because the Lisp
	  <kbd>read</kbd> primitive, which is used by
	  <kbd>query-driver-loop</kbd> to read the query
	  and represent it as a list structure, treats dots in a special way.
	</p></div>

	<div class='permalink'>
<a name='p26' class='permalink'></a><p>
	  
	  
	  When <kbd>read</kbd> sees a dot, instead of making
	  the next item be the
	  next element of a list (the <kbd>car</kbd> of a
	  <kbd>cons</kbd> whose
	  <kbd>cdr</kbd> will be the rest of the list) it
	  makes the next item be the <kbd>cdr</kbd> of the
	  list structure.  For example, the list structure produced by
	  <kbd>read</kbd> for the pattern
	  <kbd>(computer ?type)</kbd> could be constructed
	  by evaluating the expression
	  <kbd>(cons 'computer (cons '?type '()))</kbd>,
	  and that for <kbd>(computer ?type)</kbd> could be
	  constructed by evaluating the expression
	  <kbd>(cons 'computer '?type)</kbd>.
	</p></div>

	<div class='permalink'>
<a name='p27' class='permalink'></a><p>
	  Thus, as <kbd>pattern-match</kbd> recursively
	  compares <kbd>car</kbd>s and
	  <kbd>cdr</kbd>s of a data list and a pattern that
	  had a dot, it eventually matches the variable after the dot (which is
	  a <kbd>cdr</kbd> of the pattern) against a sublist
	  of the data list, binding the variable to that list.  For example,
	  matching the pattern <kbd>(computer ?type)</kbd>
	  against <kbd>(computer programmer trainee)</kbd>
	  will match <kbd>?type</kbd> against the list
	  <kbd>(programmer trainee)</kbd>.
	  
	  
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<span class='comment'>
	  Dotted tail notation is unnecessary in the JavaScript edition. We
	  simply use the <kbd>pair</kbd> constructor
	  rather than the <kbd>list</kbd> constructor
	  when we want to refer to the rest of a list, as shown in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  See also section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
	</span>
      </span></td></tr></table>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.4' class='permalink'></a><h1>
    4.4.4.4&nbsp;&nbsp;&nbsp;Rules and Unification</h1></div>
    
    
    <div class='permalink'>
<a name='p28' class='permalink'></a><p>
      
      
	<span style="color:green"><kbd>Apply-rules</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_rules</kbd>
	</span>
      
      is the rule analog of
      
	<span style="color:green"><kbd>find-assertions</kbd></span>
	<span style="color:blue"><kbd>find_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>).  It takes as input a
      pattern and a frame, and it forms a stream of extension frames by applying
      rules from the data base.
      
	<span style="color:green"><kbd>Stream-flatmap</kbd></span>
	<span style="color:blue">
	  The function <kbd>stream_flatmap</kbd>
	</span>
      
      maps
      
	<span style="color:green"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      down the stream of possibly applicable rules (selected by
      
	<span style="color:green"><kbd>fetch-rules</kbd>,</span>
	<span style="color:blue"><kbd>fetch_rules</kbd>,
	</span>
      
      section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) and combines the resulting
      streams of frames.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-rules pattern frame)
  (stream-flatmap (lambda (rule)
                    (apply-a-rule rule pattern frame))
                  (fetch-rules pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nw8akEx2abEShEEYMDKgAAMXU5SJohCYAHcOAxnVxeKJyMQKYMOORZMLiRHXe7Rl7w+MOGnVaAANSgeRdYkbUlO7O5j1w-2DUBYgDW0yDoYmLAY5BYACNxjI2x3u+NlFnpgVo7GAwmBMnjKKaFdIgAiNyL5QLmQjyPccdx6hT5TWvvtzs9pgwzocrAgUC4rmEWg3hiUNgQGDwJCoNDyNCaHC3gPbNY0YeiwDiumw3DUPwpAzkYc6AbsbBdqMMjgZBQbDLooAAD7YdqRg7GCKoAOaoc+6HQVhuH4QhXaUJQ7yEGREFQZhOF4U04p7MxFFscY1GcdYRAiLgKpzGhrEwTW-51sBoygRwbaiPgTA8ZJhKuCKZZbBJGGkDWtbIjsVTEcRPjRvQZRsKQB4xJULDEbB6ybJY1jrvQ1m6AAZF5oC6vqnkZOk6SgKQdkmQZMlGdYhDsKpumUaspYuQhJlmUIFmkGpenKIusVsEwi4Xr0UU0LQEhIQxHCULgNhxdliVErO2k0P5MiHglmHFX+-QAY2o60LQ5DEYQBXDPSJHKEwAAe3DMINgxOfBmUyIuLALSNY2kKuKKTaAM1zUwC3UN1pUIetQ2bdBDVsU1cEtalDnpRwK2dTZoBrRto3QUV0m9XWF3Dd9wy+BVdFgeR6lJc1KVtYecPVDdMHnn9iIA19W2KaBKkcAd81DdQSNLQ9CNQu1iNvSjl5nTsIjEOIDC7kxHkwdD90pcZT3mVYWUs7lrr3lUIN0wzTNFexNGc6Z3OWXzH39ie2Yi+2Yu6NRJX-ciyuM5O5WVTagV3fBpMOCbVnI3ahk0NrTNY8p0x40dBPM5irNGyTtyHoeLNU-CNNAewXYCCwuOzfjgzm7B8FS89K1y4u4hIcHoeHcdhC-RyZ2J0HIdhIzBUerQkds-BTJyGDVU1XVBXKGbPuW1ngfJ3RAgSMX7uw57iPe67vs9Wj0Vhi1NIUkwW3t0k0fWGlMu867uVziPIxbRnGsDzQi+O2nE8w+Wde991VsIQLAjkAGoE77vYrT1zGU8+b-PUKf5+iCn4fUOLAmNDHs8Px9J9n0GApego8V6nU1jQABL8OCHVPhOVSPsS4PUykPXAf8nCozvKAKBQDX4C1oEwAAjipcaiCO7lhQcwNBcsdCYIAjg6gClQIelihQKYl9nIUJ5qgv+ABmQ+-tfBEJIcQBBvckEcxvtLO+st54fQIcQ-gojV5H36kIxRJAxHWQJBIrhllFwKJEYVfErsCR0LrIYpR0wQHL2gkXMhxhJ4ez1OTMm9dzHcgiPQJeY9rosx0eQrYbV-HgPXusbxNjfHDHsaYqOD0e7aNCVgnYY9uCkAkOoox5sAlOMkbsSUISPGuReutUgPjx4hN0dffJDgEmkAJAIiBtFRCUGIA2DhnDqkzxkXPayuUeytIbCos6Ay2kcBbm3MhWlO4uLqZbI+OwxwxiZhwqe9lpEvXvvHJZE5BjDKaaVN+TsI5TKvq1LubiD5FNAO2YiRy04xMNrkveFzamI3ro0sJOx+wyAOsTPJ3TNmWQOrlFcnysHMHytMBWg4joJiYiOJy+DHSbh2bbRMXoWxhgjGiyciZ-AlmMGdXI0xgygXaX8tmgQ1k-MpTRUAHg1FYphaeX5s1hw4qjMsvF056XKjcuESIfz6UeHXCSjgZLRDtLan8w0QJXDisle0w8sqZSNBCAdQlRhejJXLIq8lG5nSH2vJQPgOt4xVFPGufAjoWCCFAGZUgV4wC4CfC+YgUQeAelALw0AcgmBYN4WgIN-D+5YIuq0mQTYJDDgDZQBgAgcm6uqfKDccaE0Ehoh4YSTBRJBgEDRDVxCL7RtrrcNqzBXQZvPPShlflbiVvjYmtV6qbmDUjaW0KiNG3VvBX1FgTZ7KsqRdQegoAWmxlfpa8YXoVqLgAFTTqYPOjOrgs70QbPgZk0aOBKFADulYd1AjIroPgLsS6vQRuIFGpgGS92HgnQpJd7J6jkFwH62gZ6L3BRCjmvN0gnL1Hgn+sSAgtWBG6PtUQBCqX1BPT2gQl723XoPQed5X7YUvs4u+tNVbEM-tACB-NgGmjAcELm0D4H6iQbEDBo9gJ4KHgQxeQEOqUhse1WsGm95RhZR3Xu1DoAlIqRI0YE9n7z2wqQ7QDtt7d1obJo+qdmGWMpDfR+jDp4gq-vI-+6csGUgELKQ+1pT7YV1HlckdcK1+NrkFTejJmhlDCbPHKyz9QTOTqHeMKm1GoN0fpfB9N+G20yZQ3JpzXa3GaZ86p7+OGEPacI7p0DJGACQ9QjP2Wi5Jq1WAMvuas-Z9cgmXNucKw0b2MXXMXgK9q-zTADONCy0x4LznsZnio+xxUHHQC9bOqfWgYRSAepkGwUTnSaAvgIwnDdW7Fy1qMB4FplBN3cEW0qesSXFwqgIQwbaG2lsvD206wrGqGBPkiGwXKABVQgDZCCUGDDQU18kAIAFp3tdtPKu4wvX4KDeGx6gyJ7Xvmr3N++sA7phLoJVgE9jqvRg9trD2bq35sXhPdwG1SOzUo9hatXbvGM6qOh+MlUp9CCkRZUOITHX-nlnXDTpg7X7ZJIAl2CnJEsYDlZZzwQJEGdBNuPzynjlrmi+5y5mQkuqdC5oIeWX4vM5NKV-Cjgrr6rM+UJrgq8vQuRu14+OK7O6wzSpLII3Lmdf5zPFS+C641FK6PLz2nZWbcm8ik0kQhRE3VSYiCunruWfG711S4lzBSUGrt-R4w6mZDfPbL8mETXAjx+ERfI3rnU9AfieGJgXXkg0eg412PjQT1di9GrlUGvbe-I93rwvDR4KV4I0R6Qh2ji4FAgQzvFxQqR4lQatX0uuxYcaL0NLxeAsMYejsdcdvDseH1VKm4Ljs+4QH0wKPq+VUwkOyEbvJem+9f+3n7fQ-V9-K92E83-AhBvpgZQBarKregQbzHtYFeudU6rz-u5NeuuqkRuQBcW2wOGSuoAAAhMFMliJKlqnmRm+hkliCNlEDLv-nbCpBgQLnLsoH3o0EpB-p0KAGsNPo1vHonpEEpCnnoBVq4NePOkwYqN-rgcRH-mwerkAUeKIMQU3i3v-tAbAe3gWoCNmoQMgYyBSKNtrgQSkCPh1jgWLvcGlqoUYKAXyvtNNBbi7orCHkQaHp1mQQ1uAX6j7vftYITAYSAbbrQaAIwcwbnilIuN3lCNIIuOBuQYgQ9HfoILoeZnTrwYYWAb0H7E0kQJIagaNtwHutwJFqAfbg9EAdtq4eMAIAtvUB4C4dUO4YqEWvgBfDEWuDoIqB4EAXkQhD8jEboKUVoRbgmLVJBC-r2EUaEPEbYRUVQTIHETUZkXUffg0U-s0apHEWuHugkfYWAEwfOp0QKtcNUaAD5AhOuD0bUREbgCgdIegYeNURZvQVFg4D0XsfQesZsWgWvrILsXIfKm1EcdcUCKAS2sEB9Kke4TflgkNFTg6HuGCBaNNPruuNNMoMaKAPKH2nWDsCOGUKAo1NMuWD-D0tCbYsMAvM6PsmEgLPTPgM7Iaj5okTMrIExkaqbsiJuBMriZ-smsUqml7N2sSU8cYMtvfGtKIGShINPPnkVBUWbESbFuCciGOBkiHFCSOMoIogwBksNiwmKSpBKbXiblSievTKwNSCOJmPwHFDznodYCqBSWASeqcUPJ+qII6CFLWoaVEegeKZKRSNKfccYJicpDicqXatij5scfsaANafKY3nCVsIafNHYKabAdkW4ekbUfKBUUwMJqPBwNaRSeMpQK3KhIxG6WeB6U0J8cRN8dSL8ewDIAGUdEGfMmdNidMBTjNN0RSProRIwCRBcVWcjO8QBI6uaPmdGgJreoel-qOo6A+CFI6g5p2RILQn6WVEliIXWvKJtrQM2RCeRtNBwDujVI2SOoLPurel6LcdWeBjSkntGroFkSuJttGgZA6KAAACoAASAAohwAAEo3YAAyN5yAIU8ofoZ0uAGwHqaZRcUpoweIwR+J5YZZ8KIg00jZLCDJR2rZFZ00PgI4-5tpgFMFm2rZoEr8SFcOa8WCGF9gf5aQR68E15d5j5L54A1ycFC5iFzoyFvIFg+ueZ+QvA9+Mgi2rZzFCeC5S5cmK5AFjFGZ9Bi4I472zFRUQlKQnFtIq0K4qJ4wYltIRUxqLqECD4rqz4r4cAiAyA6A348gYaAE0Z2Mo8SMU0hAEwcSeSckjMEMLEekaFR2NlCk0ulM+E-K1c8UkMDl+Ey2c23AoM+sWBCCFcr8VcUKRM5lll7lCENsAYRMvl+0SkxQ9MKs8Vb0UVjlm2iyGM10bljQHgxlr8gMV040GV+0FlWVHlDCsUdlvEMEiVRVOYT8gCjCdVkkmVMVOw2cycW8zp3llEiVaipUMgPVucKsBcowRclMklFWY1iZyZM1FV0VrahEwiViCVBVSVwC61mi-qGioi5SdikVy1VVzSgym1DQhVyVoy7S5V-AK1DQHli8kS48+VV121WFw8r1eVA1KJp1XV1guKEc71fRgpvyMZIwLI689y-V9llEmVs1DQKCVcLmRctysNgw01f1MEmVZ1owl2ZlH0d2D2T2ZUEgwwLA00oAn2n1BRIwKiR84NuIygtySaBEOG8+HYbAgCnwI1uItB5w8EgpMC3NvN0w-NrINyDAxEZiSQXhlB1gEkwkGuEC0NgtyQQWxpppdNplhy5JAtSN+xvhQgD1EQ1A489pTQhyeccUhc6tRtnpRgbNjtTthyZtT4wMWUAt4+ZyCEi80ugZJpWVjJk2wVzVrw40QdDVQIIQIhWqXhseBN8a0Nt292j2z2N4TS6SfANNX2gpv2fW1MTSKNtUaNbK3AtAmVsGpc2ItyGQ2QRV9NqktyiNWhld-JNATVNVF891lVIFXS4YYUbcTdplPdr8sC3KXl8NmEeNWautUN49EdliZVONCQANTQGqkNXlAu0CzCgFcY7CS1D1ndn1mSG1-i1dR6ituMEE6S59e1ISE2ZG8B+anhJhN94gESVQyJvS9SGtpGPh29OIXiZSP1pCsSigJ979tGpeLBvZN4oDNI1kwVXo9Ko9UNokDA39MJEDiSUDlVTeN9AdihWD39KDZWE2VJiD2DYDrswVJ+JhZe1KQDO1B1qkh280dDuD9S2SCQ0DPWZBxdYSpdHARAJV+aMgUK7N7M5YZcHADdH0864jX00gK6yg0jp9tAsY1IboZScVWNRMVKN9K9oiRME24mpiXopj1iP9USvDlM-Bc+1gqS99NjfDG2coewG2IQBQbF2jrpejKVosAYRcZD3Dv9fD5W9BATujNqwTaVhjVtrgai7jXDR10SUTvtidioayBjhMoNH1K0+TuZoV5jmhH5QjYRt+N1E6d1ONV9PZ65EyVedTC1bcjjTTY6Sm-ZdAOj1U8TJTRcEy+pCDKjl0+avToj4zQMcwPTYB8EGDqkEyU02hAxHtFt10PTrtTtjQMzI00gVdpBuzTtJ9p9TVL1djb1DTp1A9U2ZOJD9s7FlmSzaaLkmNBTa9eNc5yITVEj1zM970J9ipCDLmXorz-z0E4dfVINXzp14GEjgV4MwVMgkLIMes4MJ11u8LY5gRKkPzXdyVJTRNwLR6iLGLVU0uJTSLDEkViorz1LLmHzTEx9lVklAj8I14pU6lbqWl74ulX4wahlEJHJ2B-xdztE9EjEMg4r891NBGjAKkxzraydkQQJH0dEDEKp7dAaIwAgsaoi5AUwAgQQjNZ0w1atttk12DygKztzxFyCzJytRQpUq4h2VrGwU1trSZMaOLuFAEOwzrQg-NNZUisc98uAj8LEKtrrJJZIECMCE1nr2DOI+ulCuaOIygGCKuYS+tPrqbEr6baCkboAo5-rdY7tFl5tXtBbDrKURbmbPqp9aijz2BAsVIbsuLc6rbxi2C1AHbcb-tw80uZWErCJQKWU2LIlw7HW6JEKM79sEdHbPBImErZslDBLFV9Mz+3OGzNbpLuLKqhDObWC4TPpqkB71DMqx75bvzJALSBC4ybcQBV9mk1D64L7fr8OCDYUDsd9GSe7W0mKewn5TSw1deFL0GrOKkMjk2oQ9mkHRzaNg7QBNL0GOIth+gb7ftbUoB1yqH5dCRdBji1Dh4eHwjWCJtuMVbntFSoVSHPetr60Ds-ddbFC-AxEYU5c+sOiBG4wVOXHSkmaTQoq9m4H9UiHrOBITHj7J9ha46HHXHiHugAAPApwJ+gUJyHUdqq6tBefRFDoQBINLcRPgFtA+J+lytICEIuAWMqzE3WVTsgdx+DDooWDtLZ4WNcURE5xsTwQ0rWudoTYuPp5QDeCGCZ2Z3YqelZyax9HZ95458RM58p3Zx5wl56T58l351p6fStmtmhyi5B402uk0g9S9PRMyJeykGdLEy5wxAx9BlQ37VxAUvR9p7KMtRV6as86c-ezu1TtRxMNW+PGcwQSEJB0lsEu19cR4G1Fp9cRNzo64jUO1wpg4LlyfoqOnhZUlr+7fWkgBzR5s7dOgxdincV8TYQHRMJKCXFIXRBkw4Fgg8kSFGe9wQI7PilHV6h4hxhybjs40ARx1mE7YWAa4Kfri+VytlVze8KwKV9IV9LpdwYdV+oWVxZd17D5ZanrV8t5J4EbB04fCTFNxMp0vl1zD71xVkog+7u8d-u5VR1-3pNwRtNzx8z0cFlvN4x4EZzyz8t97Gtwcf577RD-Z2njhg9Xt3ZK40d8N7R7CYCLp5d4uHdjd-alCnnaFkDGAow7Azng6S97bl6O93Xp94A998t79-R-93roDw0MD-bKDybuD39kI9Q9D5V78nD86lnevDy5pVANpR+HpRgPD8UnNOQDzWwhLWrQLVUsUoCitCzR9FHzH0a4VIO+n+LQmBBOMFtCsgn4EucrMojD7SDggzn7H6rQH7OvfA8HOv5DtMYP5ECNE+OsydaC30YNaO30JXOguD3-BxEP3438yZlMP5lGPykHOq16IDtPP40B33OoDmoDtGv5IMvwP8yaqz36q4CCv8yagVEFwF2LQKuCf2fw+PUEf-ovmMP8YDK8oBICCNkNTYWMZ6AHf1lIuO9o-6kHVav9FG1NL7F-x-6rR1GKQZ-qAGAHPBqa86WAUYAgGLhgAAAv1EALf6gBqaYAcATv30QABSdATALgHv9QABApAd-3wG-8f0j-EgVgPlawFX+1A1aDAXSB0DMBIAoQiFGYHj99EKnYgZwPgGgA1ORgXgbP2ZIqd2BygQIPQK4FSCxBKAzIIIJf4MDQA2QRQSwMXCZBpByQOQcIJ0GaC+Bv-KAugOwGBBngRgKAsYH+IPBMcVfMWjX0OSIcMgioMuP5DXCODM+tfO8HLSxxeC+aCbSgF2AABWurfsm4OxC4hFGg-AIb2zNg+0O+gQavt4O5YXhv265FIZ8GRR2p6k9fSyHOhEI7QRCSQk5p330SQBCAeaM+BIBb6VDqh6SUoScznRX9YAkAHvq0MgBNDdmLQikKfxvLD8r+N5boU7TnQAA5FgGMPQETCxh-PdzPYMyFxDl6QsMBvR1cH1Ay476Z4Lh3XpZCXQvZXIX4IcHR9c+OQkGGjXWEpBNhijBITCE8EnCa+Zw-+qBzCQi09hPg+Kqn1uSZR9cItGvDmjGASBucIQj4OtGIAdg0k1PIEO8Oj7bh7GRfIgCMNcDfCeYJBTSNUw+JlgAqgHa6Prio44jxoG2Pxn4XeHOD6O+BJ2u8KeFodpORI1iiSKWGHJghYQsgEc3uJUiDh5wkHkiN76y9-2Q3EbpRDPIbBQodkbMsEIUgEidaRmLdAKMV7jR0hXLNSo+CD5vgdKn4TABHz7bDBGYZAOMjB0nBYgGA7SZnKG0QjIRIg67Y8CpjQpzdXkK3fwqeHPBpcOAnnXaL5zbhWjg8NaeoCEC9F6EG4TScCFiCES209WE0KnLB2FrEBiAZnOwKZTkCs0YxWAh8IWFRYxjtstnLIrZxs65Q7OLAZMQ72SCLgdoWXOWrexoBEA84BCCMcRFZoy0jmGNKse2AISEg0suLLLml1Wh2dgxIcAhGGLmBlwmxhAasSHjZop53O2gDwiewAjNjsGMOUYHSFuRmjU0y42onlD2AZEUgHlFaMuMWJeR8ICeUnpKEPDLi1Y2EetGXzJhnjuBH0MFLUQbJ7iZsK4eeu211FlJFE9AeMEaPaRrjN6fqRZFyl2SEw9xPkWtOKHqju0w4xyECTLR9FbVFw3YwsHOMfYeg6QbUNmqizgkTiJeDQWzm6Mg7VRaoEVKCanBxI3ivOQIfCXZxQkLiGA6E+0ZhLPETja0RULcU9WSyjjVok-esXWM4kti6J42NCh5XXB-jOutE1aEP2UArQMJcE9blhMcjr1aJlQRccJIQhZcFJtoj6AAHI3R9ddzrpIqJZdnOy465MpPjLWkVx3EAqEhBQhtRLJRY5GsyTtTpFco8aDzo9m2i5QLoxOeSln33x9EJJ9k2UswJF4OT+J84lSfRLUlBTbg4Uw8OFPMkhTT6IItsNowhFlImWc0VpE7ArpmjgahMYVH0TnQFT04OuBNjC0KmzQeRUOZkKlLBEZTw62U0RINF4lFxVUsxTynlNqJzo5KdAUKkRK6myooys0Tdt6XKiU1FyzU3KZSmvqc0gaQElZLKgMwnoyR+sNBplgGnhVIJFU6CdvFlRdZ-BOUwaD4DZpegy440imlUCmlPgWpjYhsXlLd7wQ1p4MbbEP1qLrhbit0p2KdIbHr0zY00k6UIHHEBTtx-vO8Gh22yT8Pp30oGVwAbEVEXpDEbbPVPSnkA0kwVdiYEFE7XAkZvBDbGXFRngj0ZmUjrKLWOn3TZaj0tSR+wTaXdAZBCYGX9JgYl5TCR4oadVJIzLRmSfUwidtIKiPSWZM+FhilE1RVMtROdC9tVLHZzEhU1U2ojKnlm+j9o53OWdwDTqk1M6lUhXBID4Bzt6E-bY6rNNxbz57MRUzriqiVlgzdOgeNXunTJrt134kCQ2dEjNZNIfJ+2C1JQHGSjgBAIgWQMbNI66ypZ3AEECGQ9nbRrkeoYGSdM9l7hySgcnDrcHbZGzOZm7XbCsM7BQ1A8n7IgBryED9gOAnqQQOMAYBOQzorobgCPWlnMMb6tKTmYbzEwINICIUavNSA+7spgiTeahi3OEIpZ80FPPOW6CKCFzi5AgUuRXWIIH4+2VcpQlLkUJK4xef2D+vNMTbXBlpzDd9vZkrmejbgsqZQDvIdGqp9erMzeX7TFnUYPeftQ+dfgo5GU1mRQR-Pgh5jXQjcwcd6ERy6aOgW5oANuee0dG05yOPcwQm3n7kd4+iJtABSHnflTzlZAlakJaTnmDdR8-+dejAq7l3y6w8CqQucWGwLAKQxBCVq9xDKvF0iuE0OqGTSJYzniGeQ4gQpUDVlyFR2ZIkYE6lVFGFtRKjk-NHQvzxoeChhR-I6LKzTZ8xRhUsREWRB35Wk7BYgp2LVlHJyQQ8FIoUXJCUKFgHBaNm3K41kmQINqMop0WAhHiFRShW8UwXIgPUAaBsFwGpARyI4ti6gDKVGA2l3o3pT+a4BPSWkjSQZL0DIq2IyBvS-C+xUBQMWAhXFthXcg9E8XR0UiORcMn0UjLKysyOZNsnSCiVFlg6wox0KRQ4AABBcAOABvL3kLykAAAPJjC3yoJEDlqO-JoEuAsc0JlBUAqEK2O-pR9vBUaWMVai1FCCqdPqWGN4Fak-CsVT6WjoqKGwLgARSCVFx9c2SvJQUqKWlLylYyspPBV6UnZ+laiwgPrmkoCh4KvFDJPxU2Xr1Po6y6gIpVRBuzc2FOOpacvvAdKgKbiv2sxQ1wYgy4i2d+WZwbqd4LFYyV0kEp+AUgzOdmBig8tsI7Malv5KZfcuIJaNYR2YCySFMTYgqP8KSpirSBeUUg3l9QV7tkHpTPLiRQgTUFCMMXXKoVASzZcQQd4gkRa2FclciuCJJDfuBoTdks31FOL-FIUlFcxTXJjpCE0QgchsHajByOVTi45ayutIPd4IfKogBOTAWiFOuQ0fPtMARVOKuVBoCotKpZYuzeG4UplaiFPo7B4KBOYbGaI0laKU8m+Louaq0akB40A0W5ernaVBKnIN9I1aymdUWMEG0aL0HsuXJoJnVTeJUuYEhRlIglKSy4RVh2UWhO0Jy3jIMHOV5AHurgbHHxlvTeSRlhABNewDdaAhRJGa4ElgNjEXYoWYa7lSESe4Q8ZxFiW1cwDTKOqFyepEFpkM2VehHS2JCOIinAyuqFyxqo5Z6vXLeqQovqvimggGWBqEGRakNXWuYoRrCsUa9smmo+iiVxKbvIwCmocx+Ss1bAHNU0HXCik-Uha4NVC03BlqhZcDStRiIAjRy618aG5XGpAkZqzRUJZ1UwrrTXrn1j6iotev+UBqq1ApP2XerjlMQX1R6egHasA14pqQTqx9eBlByiAY5ty3prMvyWFLilZSyimsGQ3zK0N5SnxfZiCUFrFGDEBDfevvALMHoi4VbNOIrE3IANIpI1FSjA21rNwNedpZ2q-mgBiNf5L0NkvIqvlwMvG58q+Tw3XB91IJLjUhXI3OEqN6clxvyIFghC1aB0KMc4xqQV1yxR8M9gpt6jqb9cisjutcnSbabEQ7U2aCppSiWyDNf64pHL2EBWBFN68XTTLLU3KaUOSDQbA5rIBOaWlpfAOWZsHbpMPNvUUzR3QlaWaNNZ0IMMRFHhCB4yrmtdnvP82bsFNlAXUsZtZFqr9Vzm2zelvSrUBPN-9WonqryAVEUtupIzfluC1kRCABW2kTT23psqJSIDWhhHQK3VbatKhMocVulCHx11a0QQB53FUhSdoZWrZS8KwQebUtTEILSZsy1Chst-ImbXeB+D2bgtWkhJWDJVAeh3gnwIlYtiG3sqz2S2rKMduk6GFUViQOrE-ywGTbytR0fRqtpM0rbaAHWy7fsW61CSawfW9yblAO0SkN+9mqbekMi1MBotUNF2udu5UStnlPILFQ8RN5ZB8sDQefhDRMojBGtbcKLTFox0KS6tZQwIEko2A-EZKjxZwFduxl0ASIySrihoTUIhB5Qb2wIB9u6h9bPJg2hrRKo0ag7R4wOsrghVjHZya5UPYBoHn27iiuwkohnltBSmgi0ZGM6XBDuZ3Qx4IMO15diBog4qaIM0ANDalUgZzchWcjhp6Vkmy116L7a4n2B1xv97SunCYBSPx1GA7Zms+cBSCDza9PO+WNQq4EXBEzGpLmZSiHQ8CE7bVuZEnUItbQM6NdtuVFV9ptSrRfdJMzGb9o53DblACe+XfTj9AeKqadmobGoC9AABOLoANisDbhJAKSuQOXO9yl61AKShMB6DKAaMJsN9VNPQAAZF4V5fqGgARm9DNcjAm-NuNpO0m5Q0Ao+pNcvIN5nz+9NeyQA2Tb2rrAgA+uvWfBQjPKe469GgF9mzaXzK1rgJfc8pX2RAjmWIRcgPtPqgQ2SorPXSNDtVzbpQRC6PcxVj2-8L9kgK-ezrR3KrU9NyVkm-sqD55edYSBmTjpVAprnMowOiENEaFNreVXoS6ZNPJl3Sqy847iimrS4dBlKXanDFMAYCQGaht4gxG4WGDixmGA+1aJ9i+wMyvSIUl4Ggbzr-8SCioMg0lPZWEJYQfWJhr1njxhrbVPsrgH7LmBsGJs76iMLep-UAaw15JIQ0Q2wMQGd26SAg0NH47bQ+9KgGfW3D-4UH86Ga2jf7PoMUHfoHByfafgrUpAyDmhrQ9QacXhIgyD4LQwYYX376ZKeK9FXDvlSa79iLBprVbX13DBDd-ij-MCTt03gsBllGqQvS-2sH8QVOonaHoFBglfM7vS9RWyQZ2paAwYFCKAZtQ8rHQhCOA4iomnXTEDuUriVkcdDucMDvtVabbl6Z-a24hCaI18ViMV6EjESvJKmiALCdOueUMLpaRIgCKWAC2NLHHRHECSQDgsA3aZQaOXjZAnR9epbpCOKMwjm7GlXRWhXAUfNKIPIBisxDq75UapZ4J3hFrClnQFJYFdKWCLgqfyp-bCvAphUGRgD8ZbSRHJkAO6AAOlgGfX0ihAvB3APGjpAM7YBqglPJZmH3yw5DBCDOI8ZCkyBnj9S14-jo+NfHfclQb2X8folVlrg+AZzOvV9brhsToAAAF53CjAHxwIAStRMa5-jCx31sSZBOFYwTi4HA5Aaz5dACseAVI-eAyORBnj3xyk+ibpBADpJzkjzl2A87EAPO6RGENpIvDXhoT7K3kyid+PUmhT5Ql-aKfFOSnlKjJ36EAA')">function apply_rules(pattern, frame) {
    return stream_flatmap(
              rule => 
                 apply_a_rule(rule, pattern, frame),
              fetch_rules(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p29' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Apply-a-rule</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_a_rule</kbd>
	</span>
      
      applies rules using the method outlined in
      section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  It first augments its
      argument frame by unifying the rule conclusion with the pattern in the
      given frame.  If this succeeds, it evaluates the rule body in this new
      frame.
    </p></div>

    <div class='permalink'>
<a name='p30' class='permalink'></a><p>
      Before any of this happens, however, the program renames all the variables
      in the rule with unique new names.  The reason for this is to prevent the
      variables for different rule applications from becoming confused with each
      other.  For instance, if two rules both use a variable named
      
	<span style="color:green"><kbd>?x</kbd>,</span>
	<span style="color:blue"><kbd>x</kbd>,</span>
      
      then each one may add a binding for
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to the frame when it is applied.  These two
      
	<span style="color:green"><kbd>?x</kbd>'s</span>
	<span style="color:blue"><kbd>x</kbd>'s</span>
      
      have nothing to do with each other, and we should not be fooled into
      thinking that the two bindings must be consistent.  Rather than rename
      variables, we could devise a more clever environment structure; however,
      the renaming approach we have chosen here is the most straightforward,
      even if not the most efficient.  (See
      exercise&nbsp;<REF NAME="ex:query-local-names"><a class="superscript" id="4.4.4-ex-link-4.87" href="./4.4.4.html#ex_4.87">4.87</a></REF>.)  Here is the
      
	<span style="color:green"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      
	<span style="color:green">procedure:</span>
	<span style="color:blue">function:</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-a-rule rule query-pattern query-frame)
 (let ((clean-rule (rename-variables-in rule)))
       (let ((unify-result
             (unify-match query-pattern
                          (conclusion clean-rule)
                          query-frame)))
   (if (eq? unify-result 'failed)
       the-empty-stream
       (qeval (rule-body clean-rule)
              (singleton-stream unify-result))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlKqu8kt0CYpi+EwmmYLK1CAFxK9KAwyAk8iw9D8-pJAeYAD6o4G+LGQg6EHIMADmCNOSIBhCMoHRmKxFkheVotAI8gYxN+-xRVJp2Le0Nw3xJ7PJvk5XNpb0YOnwfGEkn0iMFBi2e2eHxYX0oWVwZHwrNJKOMvmpoPBoHlyMIW2iT3iLzeCwJBPwOner0IelxCUI8wAFtZ7UCWm0IW8Rj0PUKAGQR0C++T6cNGNhJ0CEX2Ue2W5U2yEMeQJHVmskBkFB23p+QOp0u3G6wUVXq5-O9RVYKJZsSgA4AT1hjMotD4ULzBYF5uL5mN7Vj+gWwn5bLHLaiVtizySqQmBwOwgJDHzTHdeJlBIq+AAHopWlv4uO-GD2qoa715Nfd-vCENO0fCaeL1ft2IS4rvswabtub5krWY4mEapaQvajrOo+bqFkw9YvuBe5ks2SrWh2GE7lhTCUN2vbznqQrNCW97iNOeizksdEMVBRYbEB7biAREHEZq2qUOel74NeYgsfqsE0TG+BxvRiwyXOonkpsraPKu2ZvJK1C4NkdQiQmMGBhJ8EVoh1ZuuG9Z0AwuLMoQlAaVpJA6QwzaUhiopiuWlZIa6h6evWxSrFQ9naTMLlUm2eHiMFjkzCRPb0kselUXeJpMbJaXyQmbG4apHbRU5GpfHxAn-vEvmUZik60VJM6ycxWVAcBzyQlpsI6PI-F-kJAEskllVwXaxlVsh5X1q1eTtZ1gnCc57GRaA42TZ0jn5q4BzleOVWgEkijuvFfYDkO+YVBliWEJ62XKRxC15hNHX0joXYbfpE6lqdclnRdSnLtdkJVSRCzMO+z3JVtRleaZo2gL0-3WUD2FzblQRBlNpW6edFXUalNUfRtjW-W8lk6MIMxfCD4kmuDJkjeZ0NEyT8TqiV3XxGFbnuWWCHDT5tO9PTpO4ADGj4O+OFXfN-OM4LgnE9MOp9VjD6urIUpQ54iMgaaYjEwLNhWfgACO2oHgrr0SchKt8FDdwa88ktiOqXyuLmIgZPLGObaWFutFbtMAMz4-NOKG8b1DuxdL0pe0VPczWvMHCHAJh2LEVI9tKTWAnRtJ+HhAHJ75s+b0Weh-gn7hvnOWayXOdC-DTDrUlFj9RJ71ZVXzzSiQuJ1yLkEVwX2PSQPHc2letlw33DflfnkdbfVGOV+LaeQiLiiEF2JGJ7Euez6DA1QhQn157banvC+E+A1PZmL4P0c8kfuMD4HK9vAUtDUMk5MGZTg0QzTGN6zv0-inJqNpgHJEoA9J6pszZD1qplD2L9NaQkmLUGY384H308tTHmgDoZoOmKzU+HYOKoxZujCO+9W44wXl9Ue+ESAEnITNRuHs55vVoXVWSDVMxBzeMUPQAlbxgz-rgmsAl6yDGQc8VojZrABVKEJbQLJgi3ksriSoExlBTAKroBw6RZBWG0TUIhWhdCGB8BYa6eJ8DWCkF8L+wjI5YlEYVHozjqSin6OnDchjFFrCEReCo4xCF6MaF4rkAAuMsoYgmKAMJEmkPi4m2PsY4vQdFhEGDKEkjm5g0mUAcbgL+zFsmJPyaAGJAkrHmCiD-dohTilfzUZaHYtBFBqligsNYwwyDEGZDoUAjpCBYB2HwE4ZxqDeiUK4UAftQDunwJrP2aBVkBxUprDCH89CpC7CE5ZtASA6D3hTbBvIlitDoMc-OeSLA+IlFKGUTo7nmGqUbMmeyTo4zolco5Jy2KvPuZJaSfybkVMqTE7Z1Bdn4H2SmWSYKAUyJtOuP0SjDAuI0cQXAH91Q9IIA4EavQABUBL8AkrFr4a6uLaDJDILtPZlBPAVCZTbFxvhsWdjIHkclDhoWws3iyhF8lcXqEFuSpSophB8EWQcHlfKkwcEedKWUt5RRbRVc8nQtSsQRFAPgXACcOVci5Ui-lW4dlsvmDwhVSipX5JlYs81SrQBarVSajmmqGCSlVU6XVop9WGuNclSpUdxDMSRS2Sp9SuSxrqdSX6+sSBuiZcK61oBeLrE9VrKyxB5W8qURag4Vq4XMptaKvFEr7XRq5E690dq1jsGTO6p06quQJ1ssxMV+KlG5LDaKOJI003DC6D0DNWaNj9oHfk7tVbyxrEuoGg1Rr8A5s5YcYgLrQACozfVRtBAHUc3rS6ltPqnketDeYAAkKKTt5ZMoHvwLk29M6uRxLiROoq6xp1vsqfuwti6lKvrqSukNQKsT3sjYc45FRJ0BrjXk+NoBkPXWJgcTohBpl6ASO2rBiRm0cF6LS+lihegQeBSRhlFG3nbUI9DGUCcU3kb-T4xjLBRl-uqSQE4PQEj1gAKoMGSAwWgUhxAdK6TaAAtNJhFawqUWGQ1tdDmHpmWi5ZJmK9RFW+PRYElsXKRkOC0wVclfQqNkcM5ujo-STOdO01oczvR2PMZbGAjsaKoEymJoSZYJRemZu-SI0scSAnlCC1qdYDDxB5B88edxgUdRxZ9ceELNDpIpd8wSEhsX4uEkKlFvQWW0suPnrJErhJcugEq8wmUlAJnDn80liojX8zpZNAK8Lz7jjDmq+eZgPrmt9si9qVrK1s2hq2nErztXhuBcneNvrfC06Sk6T6t4IlJFBYCxFtrk3E3zSaRkg70rZV6EhII9YeHsTnZDmTbrp4Njrq5PPcg+AEM0iDaul7NIuV5AcLVlRDWJtCKW+1z77ktoA9da2nQNHkm7C+AnBHWIYnHZKcV-LzCs3FaPe5KI17vvgcqW4uJ2bUc+Ix1-LJz30QplaOkzHZSNio5iXwZHH2kPUmU6Wan8SUUdgGwCZ0MrKB-GvIEx7kXwenYsP97HgPsfA-2-NvbE3a3mHrbV0AABCM9vrtU3e9TKzeSQsPeix6lgruPas5NAKjypmpZeKgd74Yna762XeyMsXAz2DR-t8DsElIe8kK+twSJXEeVeg+d71iHeToeK-18q89fr4eVIeQwU3lBzfYce479yQPbfY5yVga9FfzD7YhRzapZ5Bv6Gl3H6vuqPcvHO2tkXm2WRx+l9XpooBg+h41aWXoHO5xOl6K3sDa6r2K3EMLobTevgu9b8pDz4hGA57z5bxQwrFB3Bd2V0s+36Nj8WJPvJPjz8T50Cx6JBqPlLD38MG2V-4-4DyTE73PQ99GHf4vqLoOBLtuIEi-h0Ifh-jXmjmWIIgfv-t4gavXiLtoMAbQJLoUAfsMMKtXuYEPiSl-rEmOnoH-qAFGEQaMPAe-lvnwGbhoNhsxH-r+oHiKs-jbMwYHjQXQRbpkjjEwYXm+nRPARwSwRzP3oQTfgQHfittXMeAQIQFoLiK0HmHoGeB1u0HEmeBUJimwAAHwSBHyC6gTBCHjCzvjqGgRczeRxxXzvj1jBCgLXSWSaRkA9RjBWAWEgoIKXIeHVbjDQLuGHrH6GQPx8i4yRq+HQG+A+LEpfAOJdh2jvbNiEHvQRGHrfTbBgAcRHATKnDnBwCIDIDoC3CeCbLPD4C8TCwKSngMAZB3ygSqiOTkQKivIxEkxqiCy46oTkivLf48hNbdFRFYgxEMikZxRkSFbah7QTGHTyIKT24Ah1G9Flj5QYKDGtEGqah2TLIOROTVEGq1FDG+B9FgSETAzrEcw+IVGOyvhEQoSjhkg1FLG15lj2y5jNFjgbHXGCxvFkzdFPFHEWAnGLQdTMwzTzEbFeYcR6Agni7aSrQsDrSDEiGiGwkBHIkHHPHuQnE1w7wQmXGbHqi4lhxLLZw7y9zvhIkPGAgAnLF0hipfwXHuRXFbEQL7GLGAm0Z-QoyTznHUk9EEnfEqw0QUmQT-GYmclVJlhhJrH8mSk+KTBPTfFkBVFkJgluEYkckon5IWyHRZrrTZDMLqnxBUkLhFgAmSnca8b7G9BCYiZibiDdhMDyBnigCyaElajCygIb47o6JPQxAVCGmnK0jnaQiXjCAJAMxuwNaRR6AxD+6RJbSKni45CRmuzWDQkBk7pMJLxKYz7t6LKQjygSgxlIxxmMAJl-Y2ZXgUDEAcDKmqmRRQK0CPTlkMBl6iEcyAH8S1HdBiDAwCEzpkLLTDhrRtkdmdmVJBnamTnUpNmLF9l3Hjn474Zlj-S441m4ACmZ7hqTEhBiCDZuibnbn5IxJw61Jt5z4sDWlZm2nCaibia7BHZdidJulyaKmKYobr40rKx6nfrrQCQHAAkcpbQ7R6CGnsD6ENnMDgVMIAm-iKBLw-TzRCm-EfGPESnBG-zpjkCphKmVEwVoUplOjoIjhmk0kSmSmgAslFRVFEUaLbz3HkXki0mnkekqmEXawMwOyCxOwsAuzCBuzzEAkyHlFbHEm7zAWhpe5vBrwbxbxkkknPw5reqG6yjT7Bqe6hlvBaQ9y8n9y3w3YNIL4EU6hdx6W2EGWej5xlAckaU-Zz7mBcrmWXyeh7kOAQbQVmXdAWVmFWUny2WHGQ4yXCngh7lxk+WuW2STpGXz67CRUAxuVZqQ6XkQZbRCkSV6Co7jyinTwDyBV1EpU87fnzS6mDiMBcSyh6DyLBlxVgWUCQXQwkoVW3FOiUoVA1VGGdjqCzD0C2SrEmnzEuIhWZWDE3ZcoVwOASW5V5zzGQ5uJyWbyZUDwI4+IXII5QrKAi7ug9X9j9LbGaQhSDUuUzUzxTqDm+AHC7V9UHW7EzDrQXVcheaZU5X6V5WGX46pUj4hG3VHUiRMkEkjQDWKH7ToWAhUVSkXJr7IVpxClsnikclYo2bQKA4MnNmtmDG6pco9pGpTXXX7XA1WTFYtldia65qaItWYROhHAcBlWUCU2EROgwlVq5lxVeXE2PS-gN49kZCLnAw41AWPWzkM27jU0VBC2TkcldVCmwyWUHgI2HFYXtBebrnfpZUzrs3-TGn-VykWmiU2hCmVV8nMVSXUhcpZoODs1G1kh7ksIam60Sm6qVXjEJThXW3ESkQJTCWjY9Z2VnLiDJUlWw1bGE3smK2hrO2e19i46E0u2MjCV5Ls2x1Zp21lSamHHal+3LjjKRQ5GTL5GXBFE3BrJlFnx4hTFqFK2gT0iMhSQsiV1Ao+Kumurl1rpApWlHKqFAIMhMgL4XjLLMA6AHJhyCVOhRLenXRQmxkjkIndwVDQKm3GULRFzFk+qlkgRDCo4z1ECInz0k0iXLwoKEwCglmZmeExzWFuh8AWQn1r0cSOHzTDnwk73dxxmeHeyqzX1eDVZkIBF8Dv3Kw+xxkVA2wxZPlIw8182QT-1V3L09xANf0Bz62eYZyhWBDhWWSHkANPiq1RafiYNFhgPckim46TqwMX2QxZr2EoxZoP1py4N8QEMHhkNTacLSTMQxXIML6xC4rbgFYLknBLmI2sMSRlJBWH2dwJWq7CP+1eFCLiOpyaxJy8PWB5D+kTZSWGhL1xL7YH1RBcqpjWCLWQOCPvgGJHy8A+lQmg5R1Gpwb-meFxK2NAU+1IU+n7Zx1Gpxka4mBaNxV0Qt4SM2geP6neN9a+PNxL3MSBMw1KPIFr0CP9n9yg0uOaguN5AvhGPh2yMECEipjTEJSzyuq5MEj5NpNUUpLEHWNNbOP2NGr24ZMJw81UUxIlP5PONGAAA8C0AIpTlu5TFGVxPGndvQAAKgyOnAwF2NmQSDCGSEcPKjosIGPdDKAB4BdUoceKbgU4yLPB4J+L0Gs27qIZs4SNs+UxDVKdeSM+M7QLsNIDM3Mw3Nyksys4c+s52acwSNsx00cwc0cxs9+N87Qb7vnF1ZZp4+FbY4vdYihbUe8AyLtDI6KNdFdcyDs3Y5FrVV6gfBchi7ciwVcfC7SrtELco+gQlok0I4cZczSDErY-RnRB0xdT4nRAM52fSz1U-Ck-bhw8jiuUpnkvWosfRoY-xL8PJVS+Yb9gasM2GKDYJgwPSBKBIMOJ+XqvmY5ViM5RNg4CddI+I6TqWGiyyB4842E+1jOUORNnuetP3kVe7rI4sQix0vI4VUHVsrcZC7jtCzLphaGtdM6yS26zdqi1y7U1i7FauTmI-My2+kSxkC66S6IeS3w0ab2aY5BFLWzp2KDYyzjHG6xp2EQJQGy8jnU7S8cd1ei-VDyxWksBcylcczSMK7UaK2mMY1K0WDK9c-K2RIq8qz6qq-mG+TurcaLGTe7pqxBjq8OHq1I6Dn7UaxJCaxa5nCk2uxOZOSE-+Zu5O4K460vUG4iyG20lkbnccHkVAAUVcMURgKXR2GGamVGRmbGfGRwj9VYZDLeeGWmaPXQ5rL+y+9oL8AQO+Hse+9QvArjPGY1FykB+mevfdUSj5EksStOJ+BYNOGGlu74MSgxJhwUosDhyicSqGIRx0GOiR2h0XMhBR8hNR1yMSjG3yJ+Cx7gBzLhxYMSqplpF2J+Lx-INM+5Fx+YMSr24R725UqJ3A26L0Obt6BMHkAcEMAp0p0cKKDJ8Sm4BRxYF3aAKTY1a6R4MJ1p0XNJrp+YPp4Z3oaAK6XJqZ6R0XO1VyNZ4mPoa6SSgZ+YGZ0+MAJZ4sloQZ+53Z4Pt56AL53JwAKQBdudGegBRfheRd9BKq6dxe2fN3Jik1OdPgp5pdBc2ced65ZfJe9CdOxcFcheundPmDZc0dPidNsCWfpdFeNe1ele6EVcVCFehf6Htc5dye6FNcVBYgte9ccDBcDd9C64Behe+C2fmC64WBqFJLWZ5odDPuIdkLOPsB5JgXTjDCbej1IcmlreaIIfHdkK0B5AABWA9NNe3SgbZjVZHR3bsn470sHMnWIF30Z2R7m8Hb3+5eaNkNNsnMJRccOn4cO33s5YnRckADAqqJM-HI3iPyPG8sPcPxKansAkAhHuPkAWPs5OPGginAAohR2p+T8T5OcSgAHLyD08BeM-0+Vt-pnfEC-fA-WQe0pO7eihgWyq2cBP27c96y88ny8CA8RnAfYo2S2sC9PVPfC-6GfdTobey+Ify8NzubXTJni+ZmMCBlMLISeHJn1aPIkC4BdgJY3fyBZBXU5Drzq0zri8RkqDXwQcVlWs0iGlm-cBYgevPCdoMomNJMHieHdldsHgI7VDbWG9NkRuPXi868Tx1tx9bVDaJ8QPXd3dCAuMp9A8S8LA8QOO+++BiudsZsR-kiWjyEphpgEi4oZOCwx91nFtgiKDh9LnuY51Ix51XsXCFHXCYAPviCYOORCCUDZy4j1BJAkBfzdbn0PywjwjvTL+s6IGpGySb9GD7OUDvNfj4jAtPQb8rA1qAkxLn+7bXZgM-BJBbwjmD2Hgn-Yvho7rUDUAwgUBVHuiBlf8QuRwDwOBS-5n5Dm1+Q5jEn+YeB5AgAivhzF6DlwgWbja6IwGWgJxX+x4E3gSBcaGl6aDADAZNmvSyMvmfzPoEcwf4dQE4z-JmmBXwHoDsgCcHAWCz+YGAp8QTDsIwO7h+gWACQWCjlnIahElghpQEtfguT346WZYEaKILIIRhXkF2YQbjFEFGB6c70FQcVyIzSJ38vBaSLINdQDBJBiBSfnANsiz9YoC-L+KIPbqFk3gMpMqLIKjAUYcwTWNUl1HBIqCKm0MCgR4G4FNNXA-AuiEGQEFsQAWYaQ5kf1sb9hBwcxNwdNDcIaCPmlSCIUcz8G8CSAgQrhPJGCGeD9+FGZsEYIfxpCLMroT8IaQqBpD0wfArfg-jDLEFrBiBYob0HI4VARoQQphLy1kgqCKhhApgekNwyEEcQQLEIe-l6AAByI-hBX2YTDCCXzbZqILAaVDs4JAJ6MsMM4iNsKeLfMGvx6B0Q1htPAdLER9QHMjkBzUTB+HQhbgOMBzBwoCkaG9CeBug-QPsPrZ6AXhbqB4f4OqGEFihew7UCsM6HyR3hSw-4aTS4agB7ejvagM72irfoUyH8bqALiEEmJdEGCYRO-liJLMzEzkVrPOXcFuFhECA8wGBUhEvhoRwgdeLbUvAIitwLAgXDUKkEuD8wAuDEUXEGAVAohsxJrNkkII1Jg+NoNYXFGdJnh4RYcLcEiOkraUUR6CMqNkhNTOUk+ebDgHkk5ExDXBeI+IbKIvACtAeNIhOM6CDIOAwKgop0gsBFHUixReAnMvSIQxbRtuSo5MM0LHSFDgUcSIQicEtFVggy9ud6BaO6heicydwh-PaLIhn46O7+P0VcINE5lCCIYhKGflJFO8KRsIvBhGOIJxjGQRI9OLtETHkjKRKdSMVaNwH0ir+lHUYBmNwCHc9RAY3AWTTbwhU5icoufFtGJTsjc2MxNUcyOyT2UScriUsHyMdaxNngG8TpBKNkZ1DRg6I7fjjCnEP5e28SRVvaUfLa0I0L5MuNViYazVnEGw7BOTm1Hv4yk+40UB3Q8TBJoYdpB8n3U1EdhNxKnLqhhA4w6ZaAUCKoDoElD6BtxsjEcTqGcQGCHxzGMBnGANFXCU09QAIp+KXp0RbxNo-kY+xB5MBcgMFbbLow+GDtnQxQUtoMgIAkBbwThDpEqW1E5oQqV2bUVG3JrEAdcHAIHPVmkZnjAmy7E0JRINwXoXk8bVCbYHQnZBMJPqbCQuKgI5s6AigJ6MXjVp2592oGTSgWUUFwlJxpEmVtNmIKCSz+M40iRUCUm4xykTbSSVqyPYXgHWB7OKupOETgilCUkBICYhQKSg+OTNA4MKislCcqwBwdlDuNAh4tbJYg0APZK7COS7ghgQgm6ILbqwsxOhfQqZLzAWS16XkmybYnCn1QgpEtFglFOdBOSMiSaVwEyGjJJT3Qdkw1A5OSnOTxxSg9ye-iSkkRfJpYgKcPHikzoQpLwMIBlOsBZTSpTkwwFmI5i1Swp5kuKZdCHE2hOpDWLSOdBV7G9OwnhPgINMGwAxlC-A-qULxGlgswG40jQJNM6mv8zJK-Q+GEU6keT1qx4uqelKkiZTcp3k-QBBiZYxTcMFfWqUtMIArSLpa02KTwguk9Tx+SBbmmLg0SuhII0udqF6CgJI11ulEmrMrhomx4L+gWeiXFSYmp41KrErkFcXiaN5wZEWX6S7n8nLT+KueegpbhElFY7cFQVGVAXBGYZnYWMngphgJkaAj8Lkj-GfnHxSFDmow+mZfj2n3Zn8VMzyRoAQLwzaZ5gQYQIh9yYZuZiObsh9MOBfSDwFMzmX9Orz8yZJv+LmXIIoI9BfpHkkmZjJ3y4whZbU0UMxFVk6z30GM9BprKEJcyDZohOiPrISlhpxCe0yQpPnBHTJlkkCZkGBEfEiR-xMwCoIKKlmCjcCoaLlDvhVjyotyDgdWcbOxlvDQRcJP6Z7PiDi04eM6P2Rrl1SgVsZwc2snTIvx3538u0h-Gm3kKKF7pQc48l1VcLWAfM54EgorJplDCT+Tw6uYpHBEjIppZkwVOmjhQFSN063MHiMnbmspO5ZNLaDTWYnp5qKBhPkFKQODgjK5IoplAOEbnqIbMeyBwKbLr6FT3EgqIwNfkGBSk9k9fIgKAFGYAAJcnpQAACC4AcAOTwABKozSAAAHl6eyADgFDVel8AiA0yN2aBMOCNznY1M2RuXJUSSgzwf8-ih5JbmzyvRIE+6mAsCCliW5XwXijApNJgNEFfIb+bAs8Inyz5l86+XfMfnPy0FJbKBcBKYywLw57ZWBi3NWmzzKA88q2JQvtzPgUFYgaTJ1InqP0fMmCwapQoAVL1+pN0sCjRl+kwhIKjuJ2Z-AmCzA45IkURfxko63T+KLuIkR-Itw8Lf5fCqAo1Ab44LKAN8gTAABlyeL8iebgEsbXQ1FX84IOtC0X+zAFTTWeXAvbLv5IF56M8FWBsXOKEFJbJBUYgIDrRqs6CwWF4uwWnz9FRikxcQtsikL-FQkbxbA36nx8hsNGGhfdLoUMLvF5smkDDCsDsKLpzYIkWkuml9A2xuSggPkumnNh7xfpOJbYqNkMB+FcVQRYNOEUDpggjVR3MmQ6gmFggo6JRYEBUU0YrFinLxXYo1xdVtwoHawGsKjksBN44y4cK3LzCeEWlGgNpVyFPy2cIMSSrPs6Cymo5VUZC92UTR9kNKhlb6WqcmS8VnKBljS7RdqTNbPTwRXlGfqCLmUrDZcyy3DADM0QGwYgDgPud+I+XZdoYrytYeqy2j-LGA9GOHO-imWe83l8ykFV8u2mEFoVLIaCe8KeXTSuqkIWeRiiFnIivmDcoWaoNRCwEfca8jIj6VxBHIqgrC2YPVicWyKqFko2wcAvPAYpWVlZU1MvLhQOAMlZaBeTyshxcpv+PGG2qyu+VK9A8xStuV8gISMrKlZk9Vr4EUD9JBUlw8hfEBVV5hN6lSOJKyu0IhcJVciWyNKu2l1jp2g42lQoVaBxLgcTitRL8q54NKHAzhLUG4VaTUgQqBKsAg0t5VVl1uK8jgEKs3gLymFYqmzGaptrjBOpsqv9PKpUKKryl+APVQkDVUWANVqaOFPYTyUcKK+cSPpYslNUBBzVjqq1T2NnzFVep+EN8Y6qOQaKWQPK5ESYVbXv4gJcS8CoytLFdrWVPanVYBEAkNqB1ra0NHSodXSrmV7iwdScrJqaZcAxyn+VZAcB6K8Ft8++U-PAC6p11V8zdYQtMVGrGVJqxqoyGXX3Uh5o+OlBwMUbPAu1vSjwi4knXWBxgM6kBYEWixm0bM56upWuvCUGLjFO66kHosA0mKw5xBEtbVN-U2Kr1EkXoDepnmyUJWm8SyDd1jKAUNpeLTDYtISpoang8Sd-ltCyQXhUB80HKvhtXAAVSNnhQ8YhWqyrwUNdkV4OhrLKYbkR2Gmjbhu7j9UWNBG9jTTJI30awGOVdDKxoL6EbaNskHDZwPECSACQwsZ0LMoE2yMhNbjH0mhtoAyhiQDAcTXnFRXPTkRxjSjSBB016aCWPMnFWZMIKabtNFGsQOZrM1PAbKhecFe8pOomb7ium5zWXhAzbsbWVa9fDmr6CDIDmbm+Zfgwc1ab2yFi+aGJui16AxNzmgzbiqM1MaktZZDLQXx2lHxBh9Uw6Y1OOlM0aM4WlYRFR43MaDgemxLXxqo324rNKyl9DSFqnxa7NQkXjVVuc01bOtdWprSwQa24YgIwWhDSQDC2mUkVKwgTixui1695o8mqotOQ-zfLVlF0gaesqe7DLdWehcvO5HY5CJxtsy+bYPQm1PRvR2S-JAXKIBFySl-eRJH5uGKdg5CV22YKtNlmV4YkFyPrdSgC3PLlIw284WNtorMATtn4I7V+p9Lnhlk-SH8YRJpns1tsYrZvtdyZg187iXVXMTCLdo5kUt60l6MPNW1CKNt+SLZboSBSQ7v+MFRjKXxEBVELq7Q2sbLnO1FBWs7nMlnK2Z3NtE554+8g6UUU7ZR27zcvJXl8C9AMdyYvctUq8GXaFCL2+6bLLYqfagUA2obZqtF0O8yRmO2hvWFK2o8IR6upMfmOCyWNA5LpSrSoCE4OAAAnLwDQyvBzdS1e6e-1t0YY+O3y7QK4EPAdUbsDY2NopBzT1jzs4gV1JwDImCcnoYwsYfWDQDR6s1EkhyhBjD0NzcQArGkGHrd3tEwwq2hePbnEByZ1Y+khNL4DT39SM9--dOCKLD33jcA8RRIlMUIj0qcdKy2BgNq2DDa4iQnWvWXG10HbQRZQ6vR3pwrahZtacQsSdouyED+kcGFgPSG3CY9XVoAA2A4BNFdhhRooxEUQPH05q-m3AapbqnrRuwSAM+lHpoOhjbhcmH4G7Int6CyY5MhYhfaCLqlb63yFnV3HkkT0gjkVBsTYChk1bIZ600qhQi+ImBvimaX+m7A+uMRNqx1o6xlejVWEp6pJB+o-RvBP3FwJ8TAFyDpIsBX6b97pVlTuhANDJcDsmHCD-u0nIYvqXIHA8Qfv3zK-AIcvOM-twOx7PJdu13atJ2WraNlA6EnYOQ-1laJaVOmyIhJ1AGxGdiyDICzsap1EDhFgHXW8I5FPaZd3y6qoYSXSCs614gE6syAOBSB4QMoHNUvPW6L6OAy+1fYWOrmPCDDdmfZjvvxyzt8wYPeQ2Ice2EhC5sukpRcnxxuI8W+2CzYjgbB3Md8x4aWfIHIzXozynwmZe8qEMISqiLhgJhNhsoSGpDtnGQ+CO6XdqS1ty-+bQZWEg5wmAcmNb3TiUOA5ESy7rG8Ds0eEsaNmLghnNDnKiw09RzWTkeUUJTPVrhNOiUbUTnbfAyc5bIAuzy0EGjdZR0czJzmIE85Ug+Q-4RJoIgejHhNqdLuu1tz6jpcxqKPtmVjDPZegLnaAAAA6WAdtXsvTDPi+ARyfgZ9oM7ddQhM6SPdDCQPoF1xvALY+8p2MwK9jXOo4ycfWzOhADFxjIdXNGBkA4M9ueFHElBOgAAAXhr0ONeJkl-x845cY53wpYTz2QPA8d6BPGE4YsV9NEASo6G9DPQHY6cYBMomCurQouGEaAQHNqABzO-BsDGEtgdgbx5FaSb+NnGGsFJ7rlSafA0noYeQOkwyeqVYmcIQAA')">function apply_a_rule(rule, query_pattern, query_frame) {
    const clean_rule = rename_variables_in(rule);
    const unify_result = 
             unify_match(query_pattern,
                         conclusion(clean_rule),
                         query_frame);
    return unify_result === "failed"
        ? null
        : evaluate_query(rule_body(clean_rule),
                singleton_stream(unify_result));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p31' class='permalink'></a><p>
      The selectors
      
	<span style="color:green"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      and <kbd>conclusion</kbd> that extract parts
      of a rule are defined in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p32' class='permalink'></a><p>
      We generate unique variable names by associating a unique identifier
      (such as a number) with each rule application and combining this
      identifier with the original variable names.  For example, if the
      rule-application identifier is 7, we might change each
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in the rule to
      
	<span style="color:green"><kbd>?x-7</kbd></span>
	<span style="color:blue"><kbd>x_7</kbd></span>
      
      and each
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      in the rule to
      
	<span style="color:green"><kbd>?y-7</kbd>.</span>
	<span style="color:blue"><kbd>y_7</kbd>.</span>
      
      
	<span style="color:green">(<kbd>Make-new-variable</kbd></span>
	<span style="color:blue">(The functions
	<kbd>make_new_variable</kbd>
      </span>
      and
      
	<span style="color:green"><kbd>new-rule-application\?id</kbd></span>
	<span style="color:blue"><kbd>new_rule_application_id</kbd>
	</span>
      
      are included with the syntax
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.)
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rename-variables-in rule)
  (let ((rule-application-id (new-rule-application-id)))
    (define (tree-walk exp)
      (cond ((var? exp)
             (make-new-variable exp rule-application-id))
            ((pair? exp)
             (cons (tree-walk (car exp))
                   (tree-walk (cdr exp))))
            (else exp)))
    (tree-walk rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlKqu8kt0CYpi+EwmmYLK1CAFxK9KAwyAk8iw9D8-pJAeYAD6o4G+LGQg6EHIMADmCNOSIBhCMoHRmKxFkheVotAI8gYxN+-xRVJp2Le0Nw3xJ7PJvk5XNpb0YOnwfGEkn0iMFBi2e2eHxYX0oWVwZHwrNJKOMvmpoPBoHlyMIW2iT3iLzeCwJBPwOner0IelxCUI8wAFtZ7UCWm0IW8Rj0PUKAGQR0C++T6cNGNhJ0CEX2Ue2W5U2yEMeQJHVmskBkFB23p+QOp0u3G6wUVXq5-O9RVYKJZsSgA4AT1hjMotD4ULzBYF5uL5mN7Vj+gWwn5bLHLaiVtizySqQmBwOwgJDHzTHdeJlBIq+AAHopWlv4uO-GD2qoa715Nfd-vCENO0fCaeL1ft2IS4rvswabtub5krWY4mEapaQvajrOo+bqFkw9YvuBe5ks2SrWh2GE7lhTCUN2vbznqQrNCW97iNOeizksdEMVBRYbEB7biAREHEZq2qUOel74NeYgsfqsE0TG+BxvRiwyXOonkpsraPKu2ZvJK1C4NkdQiQmMGBhJ8EVoh1ZuuG9Z0AwuLMoQlAaVpJA6QwzaUhiopiuWlZIa6h6evWxSrFQ9naTMLlUm2eHiMFjkzCRPb0kselUXeJpMbJaXyQmbG4apHbRU5GpfHxAn-vEvmUZik60VJM6ycxWVAcBzyQlpsI6PI-F-kJAEskllVwXaxlVsh5X1q1eTtZ1gnCc57GRaA42TZ0jn5q4BzleOVWgEkijuvFfYDkO+YVBliWEJ62XKRxC15hNHX0joXYbfpE6lqdclnRdSnLtdkJVSRCzMO+z3JVtRleaZo2gL0-3WUD2FzblQRBlNpW6edFXUalNUfRtjW-W8lk6MIMxfCD4kmuDJkjeZ0NEyT8TqiV3XxGFbnuWWCHDT5tO9PTpO4ADGj4O+OFXfN-OM4LgnE9MOp9VjD6urIUpQ54iMgaaYjEwLNhWfgACO2oHgrr0SchKt8FDdwa88ktiOqXyuLmIgZPLGObaWFutFbtMAMz4-NOKG8b1DuxdL0pe0VPczWvMHCHAJh2LEVI9tKTWAnRtJ+HhAHJ75s+b0Weh-gn7hvnOWayXOdC-DTDrUlFj9RJ71ZVXzzSiQuJ1yLkEVwX2PSQPHc2letlw33DflfnkdbfVGOV+LaeQiLiiEF2JGJ7Euez6DA1QhQn157banvC+E+A1PZmL4P0c8kfuMD4HK9vAUtDUMk5MGZTg0QzTGN6zv0-inJqNpgHJEoA9J6pszZD1qplD2L9NaQkmLUGY384H308tTHmgDoZoOmKzU+HYOKoxZujCO+9W44wXl9Ue+ESAEnITNRuHs55vVoXVWSDVMxBzeMUPQAlbxgz-rgmsAl6yDEajsDiRw+AnDOFAOAiBkDoFuJ4FSmt8C8WFgpU8DAMh31AqqRy5EFTUhpP0BaJM1SC14iOBcRZLFYgAFxlkbI4iiBgXG+GsbgBkyQyCKDimRQqWp5b7UFodTxCkDAGKMb4iw7jIT5QwahckSTzDWJ0eqNJZUMkJJ8RzFJbwuJERQqOZxHMcmajAoRYGhTQAAkSSUss9tczmLHFk0AtT1QdLJk0lpxT3KlPPm1DqzMZpxJ6dY9c1gOJ6EWh1Zaw41pxLKD0jmNJllQNoI9DZzTDEjNFGMmuO8Zk1OaXU85Yd3TbzDr3d860MnxKOa00ZZYIGXPcn0wW3yhnHJ6WM2GV9GlVMBLM656pQXC3BU4tC7yTlcjGYQpyPzRTWMmE9XJWo9FkKmT1Q5wzNnbK5BbQ6Dj1rZGYYS+ILyIXkiKcimk7iWAnB6E03oABVBgyQGC0CkOIbsTB5BnlAAAWgldCvFzBQFgPwsoXAT0YgVBpXvTEwg+CgD0JCS8wgEgMzdpQRZMQNiR0VpxJVm99WGtdgsyKehVWgHVS2CwERmm4ATi8bVurCYCglCax1ZrbzmEsriPwBwKDEA4Lisg+LIp7IOWa0lZK02+HPMwBgzoWndDEMDLZ6b3JkNWatFg60U2FqLVydVqbq3VoJYYvNFSnWMEujSURKsaLhO1GMIS0aWWYqjrMBxess1uivAOqt7iJRShlE6Hw5gPX4C9fgC15h2W0B6M6nlfKBVCt2PNDeig11SpddasW7rlIKvEBSwcVKhEXgOEU9dW0dp6BpewAAfDK+NzAP1MKKb+RQS8frzVxXrHWUt9FIotZ2vEZBUw4t0f+gZ0tWiyz0a85lWy-l-pHNmhmDtBbhu3pUhFTKkVbLZShgjUHiMTFwM7OobtiXHL4WnCDtzd4vuSj6nVq9fgby3tnC5z912WtALO6UspF1Ls9d6rVAm3haR7pPYG4m+Oii2nG-F3Q1Ngv7rfMowy5OgGXauiTYbDjEC7gZz0Pa10cELbp-9dnL5wqM56fOJn2NJKU36rt4JHNOv05fBzDjzVaa5FtdzAMItFXwGZ3wFnvXRY7aWLjDydRVpLAZzz08B6+aMclq9KXr3XTvZQRg5SnR6E8Rqn+7R32UG-dDAAVDV18sp2ufga8g54Bx1CzHoLZfJhw4kWoC8HUTdzXmhosOG4gFcHDcaeWSBlFG3UxYPmvYT3GZ6Dt+RII+uXQDuOqACeMw3+yIbsvgTSIV6Whe7h5+uN9vMbDrfW3wQ3mS3bGw9hyTl1pnbTfMkTpc+35fe2wz77b3UKbXel4dZZxssleYW-xPl0ehISnEo7biTt8jM1EMDnG6kAsZbx6kS3QDQIcBApNT1XlmbpwE9QXrVs3dG-dx7MVnvQO29ZqyxAuuYSdEcDgVXxeETqxzr4S8mviFczqaBv4s05qbScFtCuvXfZ+4b3wsvdyS4qGDo37lhkDZtBB2F72YPDLg6WCH-0HF6DO6rvt3a6UiWw0im3HYIPlPhRRGnvg6cOIcF7kPZJHMsKJf70z1Jyl477O72PxFSL4-9w4opZmtoOI49oup6PHfHItan7P6fEt6Fx9XrpRYDcWC97j0dvuMeMreSSpJyflyyMivIxR5wVFXHUWgP2Wjmp2nIDqM8IiD70kZFJFk8-QC4dAOKpMHAENruo80kgHK9BniAQyJkKuLwPeYDoCorQw7CDdjoVx8rroQ8WaWog5aKjq9g3xraI0+YA1s0g0kYhgwcP81pv99kux89l4UF-U2RA1TUF9DIxFY43Q+ALIgDnQOJQFroS1tIy1u4nUUCTRvZVZMCvASFxAyFoESDndC4e4fYnUKgbYGEaDE1c0ddgY+BSClYmCKCKgA5i81wM4gtAgQtLJx0+Db0i43dEtPwpCix2Cyx5CIllgIkZDOYhpvIaw89oY1DtQ8D5pDCQgxBx0NDtQtD3pItA8VdYgAltxCR+Jtd81IInc-9SxmI+8b1dgwsTUVodQPCKYpwcYfDrok5HDrA8gVVAjeNDRlcOguht04ikUtg6dUxrA9tN4uC3CmAHBeRcBeBfC39Ai9oyJn1QAqUtDQxyiEpKjqiVCFFhw08vUnVAimgEjJM6Jmj8xqDjgWiH1ej1gTAuisFxBmJhi7DmkzxNcXCMhm0NMokGjFdv8XwsiK9PDzYAQCRUw6jGRZ5t8Fodi9jNR84N9ajSjhx9j9cqjFc3k8h1j5jCdkljjCQ9iG9Z4AAeN43Y70DQ84tNHJQ-LdPoAAFQZHTgYC7BdSYRhA207GCRqCdHcV6FAA8At1+2-AJC1RgWWKMA8E-DRIxMt1xHxBxL4CejOI2GnQPyP16AhNoF2GkFhIJHhIbkRKVWEBROhnRPX1JOxNxJuNnkJPrD5MxIsDJOPCFOpOmICVoCCRCQbxCwb3DwsAiMMXeAZF2mCNFGuj+16mWIqGpKsyxE7UKOFJeKuRaS1NoF2glIzQcNoCcNpVcJbWtwlPcQb3YGTDok+KtO2WsTompIdPO07GGyfnxPmFkllNKyXX819RaR9J3zTGyPmMWKLFNIzRBLDCiXrF5XpAlAkGHEvS5FS2R0LTp2GIcDi2GKET8zJS2gNPaJaM+JbL6Obx+2GMcwrQ6OFyxCiHK0SJtPlJ1L83J01iryiRVLzLuNwDVPMA1IyFtLHKMVNP1IjM+ONPuKzMkxzEfn9LBxyU1NHI9yN0iOdOPHTO4PcOOQDKJ29KOL9PxMxOsQTlsmDNWLnPvNZXDOZEjIqLeWYljKSQ9QTJ1STKOMyP4iExyLdPfAWxpE3VzLInzIYELOzWLPzElWlUzw-H7JSyR13JFwjWrI4FrLKOT0bNLGbO7LbKmM7PrW7KGL7LjPM2pEHMkxHO1PrJK2vQHyRiH1OBH0uDURuAwCnzPltSNQdSRlbQYGMW0P-h8h3WkvtWMLTjUof2sANRUGvnRTNQ4RoWkkmLbUajpy0uNTkQcBGl8QAOnE-AsGnDTXiTsqLgYkcvMAYhcs7IANDE8qSO6B8rcqfGQgCuQmCvJSLn3L5E-BitwA5lcqiqfGJgOBUHkC7E-FSvSphPciSp2SLmQs8uQrJXyqxAAKSFTAmDyAOCGEqu9GqqOFFDKt8AALcACosGPwqC7ETB-XFQ8FypaosAAIlQ6vMC6tAB6ra3FWlUGt8qLl6wqBpAmqmrYD6tAHa0mvMCGvMAAOADGp1RP0mt6s31ADADmpCrdF6AAFIDqVqTrxVrqtrQAdqbEnxt8Or7rprkzjr5qnwABCJMT6o61a9awGjgHqv6q6r4u6kGh60AH48wSGy6voL4tgMar6ta06tGpG16gAr9WG7q+Gn9XGqGvoL9dGpa3wTG9aim0mlG3of6g6063wLG8wf6iwefXxFsCynIO1bSkAkCVoqXJJd9acYYPmmSwWmYJeXmg1KWshWgPIAAKyvxFtFHfRiDaz8slvUpOi4XkhDVeqxEstkpAiXiwDlv5uNSWxsilzerdAAOk3nR0E-GdtlGNst1aqLkgAYBkxJkyqWt9v9o3k9q9t2qLnqsoFgEgE8qjpjrDvDoqo0AaoAFEAqo7U7E6vaACAA5eQXOg6-O3On8w3HmmzDoXWgW22rPZY9gUWpQJ1NrHot5U2vWayBucu0XSu+W+1duhYHiRLdWrkTW5ug2pYXg1uqum2mzO2lsXw7FSgNu01RgNVJhZCLQxemUarbNFgZVK85W+QLIIbHIdeM8otNu3Sggd8AyttRi0UGlDe7gLECread84Ja8vIt0LQzNK7T+ltM7S7bNPQZexNLc-ky3NumuieKMwB5QK7EB6es22KJW1WoQSo0Mnu62sw0XGyHs7OiwaCtM3IipRqAgYgaCgkAJR4wWEh98VbfwEJOhyCeegS8244YS5RUS64TASSjsKQxyIQSgbOXEeoJIEgL+AKUoEYrY3+Q+WEeEGwlYaRtiJJIM8e3GKRtYNiPk3oSgYkr8ckoUpRkobRmk05SSEymM5RsxlQn4JILeVZa-Q8ckxrSTeQagagGECgPRd0NVTxk6o4DwD9Txn63oNE6xcJsMokvkjx6gAh9ycJioKUwkUDXwxgZaBOFx48NegkSomlHezJmRgASBCOFWxN0b6D5PsY6gTicbq3fQKYyeyATlyfzgJOhgMF6BUOae7j9BYASAAwJC0PiqGcJ0icKN6CSTGRGhpSMCjB6UCwtOYjmaMHREsYQSWFWdAHBuhmkTUZ1TojmbCcGA3wEY8dshEdinEa-jmf30CzRQwWOYWbTRzGuIJS6mmVWYDMiaqY8F6YTnTAGb0COaYWpSYR0ZJLJTRIMeVJiXec4M+aJW2ahe2Rhb5IBf6ZIEGfenVTGcharWbCme2RnQYCKb6DCtyYqExaBexfMZRTLFqLuaHUxb6H8oqBGlBeGejPklWepbJZaaxYSEJzOWxLGYOd6AAHIDHP1CTpXpnDHpTKSxmemBW+nhHtQSAnps4tWRmH4+Q9B8wFGeg6IdXkbw7hqi5mRXb6wt0iSBUPx0ItwWBHWDCrBmx6WrEpM1WsnTXNXIaUxZIzW3kaXXBhWFXWW-WWAA3mJg3+WimNXo3pjD7j7qBT7bJR1LwP5upH1FA9WJguSiERJhEDmADHnWYKgPnpoiVhF76aR30U2Xw03hB1548s2w4tw2nc3VGLG3n8xu3S2i5Bhknpz4X+3hERWZjFARCbQzW4pRUzwl6TgO31phEptfVUFC30UJ2JMqywGokHAkk4XBxYkq20YWQJ3Stebs3nXnR1UHB3052RUFhF323uou3L2XFYt92yIwn-KDnai6I33b2JgwW3l3pgOE472wPPWicyFHzkxegwqAPl3uoqx1UFX4OD2jjehG2T6W2M2FCAPkj5KhbVSzsG2j6m30223UPO3WTV2Lwe2GXaisPULK6b2oPQO8n+zyz+Mlnrid3ot-8h3y5R2T3BOmPeOiLhPMsLxSdX605j0gimOGC5HaiS2h06JNOGXkLc20L+VBUL9q2bRlONLNYlDp413ZHsENOmODnvD7OLG9PJFoZeVDOD0O8tY7AG4X95oMIXX6hCBaAoEqgdBJR9BrOymUwuwT1u2wmAuSAPwVC4w73nWkv6g6CovEi6JLO85u2ZEwA7S1RYoFg1hhhEMXVMLHRCAsBZFh9qBvQlBXBQA-YdUE5NY-YJ8J8fEF6twP49BUgYC-A6ASAdA3HxiPFH478t1xufnvXJQZMnR98Q4yYhv9bpI6IZuxv2mfz1HpJtu5vaSMIBv1vA35JDv2mZ2OwIcyvChbx2cP51Q7unMHa+h2sXvet+zKtAlglBv8BN5PAKghvKAbZTS6co08gXuHATvqB-vAeeWlg9dyxbHwL3QyAofpGfr3anREKzTSwcedA2K+OUcI8K7DuYf+u4eQe7hEf0fMfUeyUAsKejjCe8ftMCfd6luifC0Sewd55ZJDuCKyzQKOLqRfp9Ykv4fKAgfQAaftzNDweK7IfoeOBYfpfZfmJkeXulJRQAsVesfWeueXb2fJSiByx5JtfpG63tlaiRoQfZfaj5e5yrCEmyUtenvBYdfdeyyZPKzyeHtZvKeDhTuAfQe6eDfGftlmfA+xvsfjePaJNinRR3yLfEoMeXvNlk+vbainew-aeXf1gbfDd6oM+VGlJs-5MV00swdU-mJDuFerC2KhyReW-Fz5psqNBGvDW8e30wn5TFTiX01-FfvFAzt3EzgcOZQE4kuh+i1rFp+XWLc2UczDWDP91xBiuBcOwz0XvSz4zEjO-CBGvLQ6ct+CpVf04NwXvDBeA6cauHBz-SvpGKXR+xYLLKuOAn+guX-ehF-Z-56r+MQnkBlDExCQywUxuUEL41ESOWjKAZFhUIgDCMzhOAWrlAHHhrCOMJAWAOGaID0BKA2vNgIwFqd2gzEIgYSH6LkDmE29OsqgMrYdESBnEKnhAMCj4B6Bw4for-WAZ0DC+7AvoowMCo9AIcVAlgdb2gF8D1g13CELgyYC5B-0rnYYvywwrOhiglAJrtmgIAkBbw10OgIoBxSqcUc02ARNkAK7EVvOEaKgYznwHUDZgdZBQR0Wb6SZLBRvRbi7SPLetlBhUEgGoOtaaD9OAxPomDncS6CnoVAkLFQJ940g+ORgpeiRyE6FototREISCzCJScKgyQxznm0iEDk-e1FCSAJGJ5i9EiyQ4RFIMMZSQEgBbE9MAUlBaQuwdWA4LL1qEZUqwBwMHjZ1AgWlGh4zUAM0PqHOg2hhgBVoBxxjdDi+nVQJniAqFVC-6fQhoVMLzBp93Q6scYRaxpBzCBhNsfojKFcBMhjUGw5YRUA2EkR2h0XUZt0IObHDBhk7EYcPBWFnZDAbWHYXvSkj7CV0LQ-QFcLuCGBVh2yR4VjTJLTD6o6sb6Hw3KatBFhfALSOdEbrOoJuqOKERoCzQAwIRgzQEYsM1qr1OwoI-AtCORHoi0RCw4VgIPOFEiehhRBVs8JIB7DrABwwtH6TJHF9-hP6REYQHxFEiXGQInhGSNBG+EuBzoLVO3VdCQQeB7UL0AEJka04K6zg+nNYO0C2CyiPAqYgXlLDODkwhPA5vyNEHldehGgCQTcKREsBZglVbvmEPdwRCjheoiUdMU6BsijRlAE0f8VtGWjxRUxAQWRUQ58BFgToNEhKy9FzgfRCrVbksGdG6ihQBzasuYEpHGCegtoowJqNmJ-1BR4aYUQeFDFij9R0Y2IaMDjGgAowjLEjmKJ6G2jnYDorvv8WYhxjfh7kZiEWOrGigSx9ox0SkOkhVjMG1aOiHWPbFFopik7XoP6IICu0yhLpchloAJHH4YBowI6syOJy4BpijXB7JAn+yJcnm6XGYBUDnahi52bovjHTkdEqwo0TGBwI2IkLNjNxVolcfEHNxrD0024hwdF33GTojxOHAcYGKHQUiLGI4ogGOI5GPj+0TGaYmQEBagDzwIDDQPmxSZEggO4E6YjVxREVD4esvIbqcLJ7d17aNXRCcDwB5sFouUudUQnydC9JZxYZA4GUJAmLsQeA4MCZjEWwV0huDgaCeSBVGoEvB8PIwJE0GBhkhulochqADBIAAJVOpQAACC4AcAKnQABKYJSAAAHlc6yADgIUWKL4EiAjXMCIFwmwniGA+ogQUBJ0q70zw1E52D0LgnkT0Oa457FpMnZwSvggsS8YcBUI2S+Q6kjLhNi0ICShJok8SVJNknyTHJ5vMyWlxn4y0jJRorQnBPHHkTKAlEq2FZKdbBT4gEqAkX5zTgyYgpGkqyKFMCA6SOh5QyEdCPfS5YxRMIb9BbgXGfwJgsweySyGKkJBhgho7KdaNWF8BVJDVaqetC0n6jpikoaoeN37AXsLw25SAWwOtEWproUw6wFIC+BfxJRevDdjGKERRZC0AWYMdqKgHrBTeGWCSLvkcFV9LMpPLkHTjyBWDkBNggIoJ31G7T8eEkY6S4LnSygHS1iL0augdLuIJplAKabgC-hmjCB2Q0UFEGKZ888h6nOIfGOrTWJ3pn0r+Np3NTrNIZ003GBtKCG7BFcSWUXm31Rzwyvp3bMofyO0CDg-g14NYGtJGmagcpUo7ujKLCE0DFRNjKAcqOpABZLBuzNnqaS2iMBcSZY4-v8R+nqELREDG8WTOtHP0OKRFGIYIk1BRYvaOwdrLLKSRHTrBJ0nAfKPOn9shZDMjnjdMVksyCJOgLHN605nNi6B3Y8wLzN7QWisAxTK2YuQ6KFo2UiY7gXTNJlfBLpos6vmugCw9SrsbwESELKVF9lRiMsuWZrJND9jvRQ4t2ftKSQ6YHZ+gHgerPvHlYJyzwDmZSS5nd9FAjvAvjuOi4eiOAYcgMa7T9Hhy5+ROVaZnOGA2wIxgRLMYIkzlgyuQOSWOfjKXrOltwxMiuR0Gzm2ze2C0xQGDwTFzFBRhM9uYUH7nDBZebos6mAFlntYsxufdWHmOjB6oSO-cnoanM3jNjKx9wr2pWJtj1isQG89Of8SA47ybxXIIDvvJNnFo+yCrAuYOO6aKd4CsgKwIeAKw0TJuMcXQjfHfn1hgg5nO2GIE0hASyowQTAVYwu5WAcRJhKwMzjGBQKSR+rJYMxHr5QLYOfiN7s+FwBTSuwM+IwpO3eioKCAl0ZOTaEXodRgg8CqAeeLtGNS7xHAi1HTk0gr4X5BABwK0E8ReDWBbwGUFQskEUyI0R8p8TGgFkcwj5Z4-1rENoXaSTZlkYBYnnPysKi+Js+hX0WYkmghF-4mNJ6JLkHMPxunWjImy1Z8K4FzC-7GAurFfjguswccZosPGKQeJRAPiYJMoASTuUAAGVToKTZxyk+aC1O5lKKOpDU7SaNNyl6T5RkoQyVZIOamSDJVYYIEEukXWTzetkwJbfzgLPAnJgsBJY8NykeTXFHirxf5NsiBS0lVkgQQSJmHANcsEUjkVFJilZSFKB8rkDDCsBJSiRzYVYbUtRF9Bh2brAgO0tREesyhi9HJZ1NCW4SiRJqAqY3VyzBA2sFuchUor4X1TpF+o5qa1LKXBKupw4q+tYDNZ6AaFzsCQfBLzBaFKlrIwqXqUCILKyUlSoBs6DpENpQBLkkKUcqNHrKwcM40ZVYHWjvLGpvYxinRTJG4zDFBys1icoJEPcK6BsLWhwAwnKdDl-rN5L0FVxGLMq-ZLaLCsYDx9XBD0odNuF+BUBwV-rSFWSIVbYrO8PnfLnGwlGnLhWZEnhQZJf65jcpOIMVoxNhmogywgiTldMVxBboqgFkrQNvXIkfphVClddspgiXngX+1UpaaKDpz0SOA9SsPlRPlVsUmFAQDhbZGqn0r66RubpQhLO7PgJVgyiofvxNqIZ4e8UjKearzBgEyUTLCVRUBnFeND8cePVVCuk7uyLUZOXwgKtaBKKVZYqsBYworpaSHAcirUESjAVmYYh5EllcEoVWHS6JAPBwKqs3hUSrJmqiuu6p1XBqCRBqw3EarzA2r+l+Ae1QkEtW+BFA1qk1cECrWOrbeJHYIK6pOr5q484wb1aTlyFXpSF+EcLsGq3SvKyo8qxBcsvHUHNUuk6iVZOxnXVTxVCUwCClyHWLrx1fGQNUKuXWzBRVBkpdRlP7Jn9cA6U1yVZAcD5KvJkk6SXJPABmZL1Yk69b5O8XOqd17atrIyFPUy1MVpYXoAqUfmpxJyQ6yhWGs3XBcg14wPdZEr4VHqK6n6wJRepcVuLPFd66kPkuQ1eLjxraqwO+qxrwaElP6iSH+uSAAawRZYNMpZGVqOoBI8I80o-Bo39E4slGp4Lm1o2cJpIDGlQuPD1hUbVwjHEDFoUyFpMCYMFdeJvFSq8aQIrG-NhaU40ZKbQcWCTSxoY0CDtOT6fotxqU18bpNAgoTf0UkAEhhYzoA5SptylqaBNZQyjbQF4XMa+NZK1Efmwo1iBJN6SZzU8EBKNy6VBIhVlZt4XcbbN6DYkAwBc0+ZMSaKg5Uxrc2rggtIW1ypXy9rAqHNjUOtVdWtZElwt-rRQs5us0KVfFacCTTlrryvAQt9mioY5tgp2RitjqLTeg3JGnZe2YQGkfdjqF1ZcsGW6Ni9h7g1a3Q3WnzF5sZGWzlqJ1ArX5qEhjYqt2m3rXFqNyJaytQEFLX0Dtb1h2tWrLKsVpy2AD5oBmvRLWn60OaKlUyy5bMvTRkUv0g2vXkgqERgr-W9WfAIZuvzoqhmoW8+b9mPCjibFHI3sT4ni1Yg3yb278R9p6VTFLZyfdxIUSz40hZtZyrYAtobC0BXWqK67dGz6x3bhYm2zjGeAeyIYVOebAQV7lc6UNqGTMeCsoSfnPA8OzbVthnjBalazlL0JsodpmX2ltkp2rZOeCx3-pp+A9EQHolDJcs+tig0MkUEra9V2xenDINeJe27oPO4gW0XcVYBnpiSIOn7bhyo74cqdChZjsdisU-igdPctpODq2RQ6GVykWHRTpo4OJ0tSO1bRUHN0EdHM89PcWKkq1pU6hDgAAJy8Bro2VOofSvdDaCO+rwHKvSu0CuBDwFQSVYYPmmHwDWuIFNVELFm+pxARxTgJtN6FB66hegSVpK3rBoA89NaxHL6oOnmAfdGVFsfGAcWFpS9m8SpbYjDBTKF4bycQNKnViFCMZ1ekPXXr8bpxF21e6Yl8BwV4KdQhEQVbTuJG5TjdMO61VgsH3phZ8VuoqMLHRWfgB9GVIfejs1iQdHtMoFLcaRYD0htwodcNd3QNgOAn2XYBdku045gS+muqMlpV0JLcBhljM31G7BIAH6A6OzRDtuAIBMAXIKOavX0ClTSpIOoAM1i8Hv3EAcKo1RUKIt8CAGaW4KzYOZhk6cVzAAWPVcF1C4TBwudWA2PHqxAzrxgI69dWuolVwL8DwvdA6-v32XkN4X+-OT-oRhmDADvQYA2emqkupcDOgaA8AZwgoGi9aBgQ1HNFCsH2DZ6cA8IqODiGpUBekvRnoyp+7C0lSq5T2JuVrUHSiBm7d2K502Q5BOoA2BINdUS7dgJ1IxG71-RL7wVyTf7dYr92FE2IvHMnQpv8LMgDgUgeEDvsQzQqT9Z+yRc+2d2Qcb9WTLw8QEf3P7UJpFQIvbRW3asbDhId7fYaPjZC6NBrYYh5q9Zw7043M48GGPkBTNimpLBNgct0OyC9EhhjZu2SEhvJhdphtrOYbKEcLBiTsplTBuP0Rpxg5bEVTwcUnSBg1XR3dfoG+5HpWgk0hGdlx2wsTBEa7fWRDnSBcKX+rnTo1u1ii6B7yYyOznm31m1EsZ0M1IVkOaW7HEZUndY1OwU6JEjjca69FvoOWSsVxegc+QAB0sAlCh5emBC58At0gzcHZNSJrmoi0Oe6GG-oP1lwWwNxm7XcbXEPGbxzx14-A2AJYHPj2LMCaMDIDGk3kw3WomidAAAAvL7OYGeOEH4TzoRE18dqPDc8T-x+tICd6DAnnSoJ3gNn2iCuGrIHhnoHceJPvGTUZJkGhyytZEk8gRJagESVdobBJWLYHYOCY60cnepXJpE4M15OYL8jQCIUyKY9Y0mcIQAA')">function rename_variables_in(rule) {
    const rule_application_id = new_rule_application_id();
    function tree_walk(exp) {
        return is_var(exp) 
            ? make_new_variable(exp, rule_application_id)
            : is_pair(exp)
            ? pair(tree_walk(head(exp)),
                   tree_walk(tail(exp)))
            : exp;
    }
    return tree_walk(rule);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    <div class='permalink'>
<a name='p33' class='permalink'></a><p>
      
      
      The unification algorithm is implemented as a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that takes as inputs two patterns and a frame and returns either the
      extended frame or the
      
	<span style="color:green">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      The unifier is like the pattern matcher except that it is
      symmetrical—variables are allowed on both sides of the match.
      
	<span style="color:green"><kbd>Unify-match</kbd></span>
	<span style="color:blue">The function <kbd>unify_match</kbd>
	</span>
      
      is basically the same as
      
	<span style="color:green"><kbd>pattern-match</kbd>,</span>
	<span style="color:blue"><kbd>pattern_match</kbd>,
	</span>
      
      except that there is extra code (marked
      <QUOTE><kbd>***</kbd></QUOTE> below) to handle
      the case where the object on the right side of the match is a variable.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (unify-match p1 p2 frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? p1 p2) frame)
        ((var? p1) (extend-if-possible p1 p2 frame))
        ((var? p2) (extend-if-possible p2 p1 frame))  
        ((and (pair? p1) (pair? p2))
         (unify-match (cdr p1)
                      (cdr p2)
                      (unify-match (car p1)
                                   (car p2)
                                   frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPE0GJWqC1AFIGBBLQKCyXIFEIehiDoSggbx5JUnSBQWDIfRxclmoZfCUAAB8deMwWPi6kn1alrWYj1g3UhYfB8A4IQ1cUDXpdl3X9b9QX0kyR2JbN13Yktj3UjHDUfedrX7sOtFqBFn50bDv3nkKckgtNzXKHumH+cF5gxAkYQhdBIxKAUSgdj6e41pxoLBawj5S-CAAyRven6QZ69d8T2Qr3PM6jgXFY+r605duWExz8g89qQudxHmWrLoIeasmhnzEMXxlbthh8BkNIh4T9Ox62tv9BvOfZdp-vCYtagxDoT6ZeL42xG4BHCECNxnCP6Od3BG+74fjpbgRs5qv3hu-Ygn96D7X7oLf+98XYH1HtXYGA9K75xnmCc+Vl4GAOXlnTiuCXYMHXpvMWTtE4oPlq3EYN5tpnwoYfSYMDV4g0-gA4h6MGBvw-oYZwSDzYDVQfQpMp9RHn2YX3VhaCKjKDYD9LKdBi4NyoePVIucMHbjBB3KyxohAzlkfIsq9B4Ruytug6eWjlFl1AOCcGHAGCGIUaiUxlsV6wxcE44xjBSE23-CXV2r4goiLtCE-xDdJHQ37l4xRp0+rcPAbw-hHchLBJPjeIiATIkRVgakeRythDkASRAqBSiUlURruoyemii46NsfklghTilJJMSwjxwIPqNKKeuLGkgyCGGsak1BNxsS+K3jvPen1uBhMGfydx-MGlNJtsIXwgyKnCPSaIzJETL7SMFiJEhzAtCALWUE1BE8p4FysXU8EByPhUGIHgtp-MDk8MgXw+gpzlhpNoaIlJuz2mCzeNxVEnQvlxmoRcmpO4bnApjs4H4bzSmuPds6KFljakBN0fQEFCKFz3OOS7fB-c4WgoXBA7i3ItDgpiEFLRDBAgyGsdwPEzzOKkrxQwSkbRayP3KWc6h9LGXMtAKSSO0iOX0B+J0EWi8aCVi+vy75qChWVBFToAF2dUjGHaNLZQiqsnrMhVUy5mCRXgh1by-VxLpGE0tXqg1pcwhGoTFYi1PKHXgmAQEsI4r2n2scI1AljyXYDP5bEZV1CZn-L9fzKopAPiHIeScjuzqBUJm2qmtlHkP4zmDYAsNPqhnUO2ZQX1US9mpEeZoXEAb9XWLTZGtRaQMjhLLdm8wgt5GJvzYgrNLrAye1bWIu0WbNWcUFuwDwXgaW0vOSa6F2isW2KncoLwNr2mrq8E1fAKzZ24wzZs0dWTx0eTgYQQgIIqXJMNemwdC6MUwuXX-C9V7FEbrjaw5p7yb0qLvS4aNJ7Y2ENIPNJFHz3izp+YMDJfyT2ns7akTq+g37fzQRox9YI35WWKPgghHkKgkBEKkT52Gxqo3JjTHG-dKCBEao5ToM7+orgHILZDD4cYrAHDysF9iMYcagrGa6pBaxMSzM+aMxkKT0CpCwRkz0GCvUhih6mvSgJoSCnJruIdahSZWKUGQnRjB6ZMuyOjDAGNsBnQp+OLBHzMSwNBCiL4pOVIYFhOsJmYilFo8QejjGhgnw43rMzfmLMBZvA+LzoBmiGajGJnM5JAqoN8-5qzKHwEIZcAjJGBchTufwJ-P4pM-qnlU0PdajZnryeJi9Rgym+PlcBkxAc1WACEYFgzjnWhChMDghS4huHxVQ51VpxNrKNva3BouxjK5jCrRxQBJYkwLYU+g2M-W+mwSYkQ9JFDwJCQ7K4qu1ZqxdOrb1elbaa1DFYmnTsddHOBccUnSj9ZkIN0KI3GszcVDZs6z0qaOegqhGmUnTKI2loMRrFMbvqfIitgchGockaUXNmHNMk4HaO3d1B4JDN7FqOCAKK3BOxCCjlqHJW0adDhwFaGdMo5MzkCzKAcBEDIHQNzPEfNOLEFwg8gRNjpaVmLc24WblyG+0PspBSMdJfjeHow0eylmie33hI2XwJbbSRIRvPxiujD6-GbvRen0hdUxaHQUXquZEmCMYoi3Wv+c-BiaiIXr9rdTBWGr1IRDH6a+dKUF3C5-dYOV-PK3NvnS+65Ti+FUqpfh1ls708cfZpko91H73pmu2dKaeB-hgfFSlEJlHLc+fukKM+iLAZEj8J7YaIsopyzVn1+z7bw2HrA1O6Dy0NPdbFXd-1UmwlMs68R9lp76PipY9bt7yX-vPx5-YI7zHtBdyjkhoD5PnPMwl8Lk38mxBq+Rd76aGgjQl7qDXs+cX-TghX2rJDx0alUdv2lIt9PoHe36UTPRgMj9GBokj+jJl-tnufqsC0KQOZFnjZHZA5M5NSL4DLOQPDF5D5C-g8nhv3FfmwKssiNwEAY2i6GtrXF1AoPCgqm9KwvoMiDtmTkFHgbiO-NQJQfKo1OXoQYIKBuWjmIjmQakKbOUDQR4nQQ4AwYaO+JAhkMVFgW-l+q3uIXQD-o3s6JTiINwtbgePQCcr9gRO-j0kPLXsoaoWobGMQQ3uYc6O-iLjoQgo-PQfZnOsagysDIbh-LIZAfvgclwm8EjGCJ4WwCnquM0DppqMsM5pJg0GZMEMoVZLZPZE5C4DRr4CQBgY-per4DVIljktIn-rvAARloQIYN-pxkFCMvoEAYCAAHwH6v5fRAHf5gIlFZYH7p64qJ5Z5n6qL3pMAiaUCqDP4C7UqSqLzkqBCUqC7t5n7eGxDB4jFK4Z6crcq6o77S6jzf7GSmSLGOzLGJ4MAypkByrUAKrgFn5SLtIh4kLD6OplplFQSsZVoSyUC1q3ENqSG47ULhEk6Rj6hPFCzrB5pb4ppFo9bTAU67Hxo9ogl9pFqcAXHLZ-HRFGgyYCDQnAmlyK6MhSbyFfQYmj7b5LpOpUyIlcaCFuHyyG4EkdyK6fF+hBQ0kBKK4JYI7ImcYQmoLXGD76DRa5qEkFofEIle6smgBsQM79wFEMAODwK1D6Bm6QJoaVEMC1G2KQgynsIahwjcAKnlp5H+rciMD4D8COL27OKMwW44wAk8kSLgkxCNipqMiD4CmhoW6ilubVqvE3FrH1pZpealBexsBeZrAXpU6GCGnbwmlu4WlMnH58pglWFqHhlCCRkGJmneIDL6GKh2rvH8m9rj4fGRKFBREckuHNrRl3676vbAhFwVk+LG5J6JxzGxDNCBn076n8zXEr6T4PHkhVa7q+DyZcjbpKESJMSNjdh6hOkRnGlplyLmlgGt7w4qBonSiymhCMhSkal8J3xymTl8Hk5cm7Gt5gK5ZaGVj2EnL7mJnWF7bbm3wailFLa3nWGzGXGdlp5H5j7h4bGR49FCLUKEy+FnReZ4mjBUmF6Vm-lT4QHvl85p5h7dFe44yNjoyMhgVh6K4f4QbnEinkjwJ65kKG6YVjKNmHy9S1jf5MRBToxwUeTXF1lIWi44wEWkWG51mEV+Jf4rhgUcVcKQVKIzFe43kxCIkRR4BM7MxKBs7syc5cyWC85nrqIiZfTwxoaTq2z2xKJqXPl97oFdy0a1i6Wz7QGwHwxWQ2x2z9DZbgImBaDCABAmDECnG1CNA4G2q3CcG0FGE179LcAnnZ69E-xgjgjCGaFRxerRY+V9IJr+UDlUUVqApCEUIiFcHqUPpXJFwyDYq+ypWsIfqcSGHV4xUDIyBoaqpMrZWgCsrAYeTv5KFlVBU1mJrCpVViqJWfoeLnmXmIKNUAWuqghuGVXcAap0XXCeWUkqiG7+HIL9WBhurAV9Reorkyyjy1WIaTVJCG7ozpUWKZU7joxWSLW1gFU5ruF+H0ABFbbnhNUzI7VtF6pfB8JtTdXyAOFYbIVzUuCRZ4XzKFUHiJrKb-kpwbIjBiX4ZwyOBPWNQsAEG9IPHJy9b4wbh0Hw3Z73SNiDGNSem4h2FvWAKMhtmKXjV3DKakVPkAFoZ1wNkU0MR6kQ0pG9KcV2ylVqa7YRpI0AYnw0zrWM1DyK6s0Vbs0xAg0lqiI80SnSIaEFx426F9o029RPksDrDY2fWi2urSxiCDFG5kLOpdwcBtTa2nhLB+ilAEwTVk0K0UxhD+Uq3nnNkxbAia3a3k3hAAA8Ttht32RmDt3mplcR4IAAKrbKADcHQIOUAbwAWk2K+tQK5bYqAAANTGV7YgJtQDY61+LOrJ3LXghJ0p16Rp1iAZ3G2TB6amQwEB3B34D-TECOQ8FiBR2hox3X7x153J1ZnUi0ZzQZ2u3525352d1F0l0+1tF5TM0LjxykW9lIhS3W5Cy2zYjA0rD9zJllJW2l2ln+jzotreyu36HB7z3ojYid2iVQ2FYnSy3vUoZe6+2makUjg0Ltw0130P7bSl2d3NBr0jr-gv02h2il3LnFksZrYi6P1Y3cIvG43aH42zW4mV2bjT22K2Q2zlCgAKk5Haik5SaNiQyMgElA14VCaoLf2QwT2C2AwiV6RkNFGY6inimc1R4L1EA32i5jVsI7n1lEVT0Nm9Qz2xD9wi7MNL1q0r3SLf3k2K12nb2uGBmZ0s2v1+1CPH28lqGPUX0vVX0nKzHRZf0NmP2Zov2-alDwTv1Ga9SKMtnUiGk-3yN6iW43iAP0MF2kEGBgMGUVw42vVy2CLwOwFIPwGoMiDoNDwZFh6YNPjslk4NC4O9L4MA0ziENsOuYkM2NkPk2o0VZUMGFM20NqZAOJbAOMPKOL2sO0wSWsLM7yDSVswc6czczYAM1oKsHsEuWiEFimEDoKx7VmrcHggtNUHECnXmADMcGKYSwcCAKO70FdNP22NOGZyFQUGDPtOohMxAhWLphupzDLWxBzCrhmGFBuoci7MxAcgHMiVuoYSnM8AbgXNbNFySSgg3NaL3PTBupDqZDLWfNsDOiHOxBurcSGCXrkDZHcBAsguDmKj-MxBuqxGkCnPwuxgwvNUhVDaqCHEsCGBerouYtMwrAotuqJ03OxD6DmWgC+DhAAh1HoHJ1QuEuPOeQksxBkvcCUuqnoE+T0uXOPPanTCssUtUs0ugCQgUsxAMu-zADMsGDkvsvUugDoFgDcsPO-wACk0rArcrwrqrYroAErIV4kJLmrQrCrj9lLPLv8j2RrsrJr6Bj2grFrIVbtGrNrHLoAHtMQ5rKrTrAIzLxrbrbtQIDr3rEINRLrbLtroAdRnr+robvr3ARQ-r8r6BNRQbXr7zjzbW0rprhQ8rMQbWsQal6YBUq5ozbT7+5NgIK4lRcw3AZb1BTOJb7wAg9bXlXV+ALAAAVnZes9WxoMoaqVc8sxwctTMk4Si0UK26s4zGmJFKW8O203ouPpuUXG6uEcteEROy+aixCJAHQN6DHGCzEHuwe68Vuy+W6ri7AJAKc1e5AOe7eZe1QBiwAKI3O4svsPvWFuoABy5AP70rf7P7ljBETbVIU7S7eaNNVbKwlRwo8r20ZVdbC71BkH5aSzbBKzkHAtMH0wcHqpY7F4PAKHjUaHs7uBT+7mJH07ny3BQBWiaGzBimjAaopA+BJ0nb5A1Y4ZXUmgqjaEU7bBl6RJ0zEh2T0w9HoICIRQkt-q8YhA3j19aG0tinehaEV+VOU7FbVtp9EHaJ+i5DX7sQGnyMWnX6Hb3bpgT5un1H2HlN4nRQEDXjWja1DOHAAgEDYgXwytC4LnMsTp8nqniCs7FTHiVTrOtTHMmAGAxNLg-hFApgDAuqHw5UNwpAM6fGu1SsKsm4d1P0ZMD43hswR6WQjj+XJE4QOdDA7dXdz8GdeXFGhXK4zQDXBXcyTT4sNwNxRh9lT8c0JBh51C5AygygUdGQguRgRBI3JrTMydVRI3j94IedpQS3jtA9ydw3ygRnioS33qz89N-cDgPSxgfXbURBvB5380R3P0xgzw0E6tgYRd-dEI+dnXRSxgPXcplRQB0pdAx3GMxBO2Od1gxOHVnE13CajUIsCgVRoGWXw6QBRXtigZukueeSRciPoAzcyk62isw6N4iP4QIWMyhPoA9r4IuGSPgWIwmPXcFPqPi+8Xw3M4yXsUaXM6iP2xBg561+t+SimP2Pq46u5uthIBn+hPDtK3L3ydEPxgTAZAMP20xBsPa0QPLj0wedNXbFEyCpyhBY2F-CpPHdq4mv+dsvUPCv1PMGoiyvEvlXem8IDPPu0o-3uUzzl33A5v8vpAgk3hseWEnPD+5vEI1z3AViSvcP-9WQhPnvf3N3FvPvfvaCRdKvSP4IAA5DV9UTnZn817Vz3R9qn7zS7-H0l7WKQKsrqhX-D97J9MrKrNtFX+m9u26kIMILncELnQ5EArYhaMWLnSJhwPCGXUH3H5D1b-oE3w46IlP7H-9974JHn8H43+X+a3+JP6v5bl71P+w6AJx9x8oLxzOFwu-B4O8sUbtXgTfo7qhiuHLr-Ff3z8taLyUjhahg54UJUfv+sIf9QJoFhaf31RuBLuAyVDCPzR6TIvot-B-G6lwzAIGy28U3PvDAF5834u-JvnrlQLwwqOZ-NwBfytIUlH+N-TLOCVwZfoH6QIFcNryQEi8v0AlC-gUyWa4DjABcYgvFH7YYD14WAnAUAKfLK8wBCWRkuQP0Z09rmd-W5geAn6AD3k08QHtMhK76BpBbgWQbwWYR59tOZCRbloid4lBiOzAlQWIEMDqDhBmgunt-x45-9j+DEHQfMQkGbgNBfiD-rEC-5ccf+R-AAfIF4EgCGBSfLCA4LtjId9BrA1Qb8UogAldeYAjknSkeZwDkCRFHXsgJIGhCXMwkLkuAnbKxd2QaRKAZliaq1wUa0A+SHM0KEqR-am4MjPASSJIEBKWQkgMMzi6XVXSqGPIakA8yZZxBkWdoc73hbFEEiCBZIi0DF4QYVqARbFm0T77aRyolAfAE1EagDAKggwZoV9VqE5DCAVLdSBMJ0jF95hhxZQZMOyhKElhD3LmiMBmoFkBBsnbOM230TdRqUZGSGLHyCYFxOoDAdQCIA4CkB1oJKIgM-lyHRNVs3PJDJtkiH-DXgq5arECAUxKYrs9wtTKKUYYQjOs6oXTARDex0Anhp0UgK8Lb4fDeh82QGLoxXKEBVk-2PqJNkugFM2SYQikm0LWHSNGGWEXIMSIn5gDuATI1ZJ0LpGUixS2DYhtQjQErgGGg3BMOyIv678jY-QBQIcVDKaEKg8iXwHKUMBsg5RoLaeIYFJAtDd6-4VlOIJVEKiC46op4HnywiZpWUTglljN18wfRpRRGAuHqMVFWipRREM0afXML2iDRpIDtIWBFj2xqC7oowMqMjCqiPRNfbUUj3dEkJiQRo53iaJPhKjtuBgE1tUB9H9A-RQY-UfoAjGGiExzoJ4KqQlHWjnR2STIQWKlEyB5EJcfttwQG5llAw5YqgEjEOSBAPoT8SUQwDg4OBgE7XfuPWMoCNjSxrYj6KGMHGL8H8gZPPsmLIC+jGo-oqTJmkdFfs8x8rXsf2MdEjiEII44sU0xU75ZKQoIRBDDkKQ2IqMUEE7OdjOxjZoR+8DHHCOOGgBERT2LrBqHEHS1qc5MI8XDmNENjji7Yr7OSPmi2ZasluD8fiKhgdlOIvEWVL+OGyKCqA4LOCaBLQx4M6eBODgO33V76RbEqEonKgPaBgpeI8E12OILwYi1neG2TCFQHCAvjIcmhXcTJn3GPwCJXEBCWDjImtCUavEJuC3HyGSCjxSPSCT+KGz8QbwnE80c6BvB8SxJioASVtSEkjZtook10WhG2iSSlJV4THHn3xxJgic4ouaO52ygDidKywrCOSyXF1FAybRNQCYG3QplNhhvPYaiG4AYCmJGAk8X2VXJyS3CNIYIoyBkmMA5JG-MgCwQQl2T6A02bdleFcm3jGGnkoIulHUjYT2+4g8cc72epedJABktcbFJkLBE2ivAOXi1ARiwTAkd4w2N3RJgKTKJbRNKE2MlE4g2Q3QDUaeNXLrNxAkgeqWWF8DtVGG6zJERBEwmBlHahgXfoVOwFEgd4xUyrKuW6CMhKpssaijvWQzdBwgK3XDI7W6CZx3OoAQOgAAkX2DAAAILgBwAL7AAEqB1IAAAeR-bIAgQRNJpjIEkBqBdhWkNZsVNlRw4mq+UxqKNPenHEkeNU0abIIckWk-JSfGqZ0FDwgyZMxfCGZkBenFgLSaGXaftKOknTzpV0m6bDMkDMcKg8MYGa9NBnfikgaGGqQONGkMBxpTKMGTgmhl0BPIpY9yu0m9CsC6ZAyPyZ9OWGli3oFYyoiZiPFR1aiM2KyWukOKMBQpSiAWZZFuZ9jjicOc0Y9OGwIz9hkGDmYhNphbTB+pHY0qtVICMgAADCcCaY1BHIDKDIHMNjp89FMgwK6ObLjwOARYjILWfbN1n508QC06hM7NyAOyyAxfQmCbMxEFc3xGMZ2UQNijUBIId4rCPTzrYo1Q5ls2JBHKj7Bytx-cQIAqUDnihUg1QbIObKmnNs4gdssOeVAjmE066ZshxMXOygRzko5IGjOZksxMY-hK4NzOxlyHVl-Z5cvjHiPjm89E5qYcHM0wKFdDTadg0+A3ICzbRWR+hVLOFnSyci1BsYCHIQHpyMNZ5jc3ORwDaL7JzZxcOMiVMYbop9qS6feUdXNn1CVqcifKfwi1loYZkt8r0YXIcRKFb5mouRrBjtAPykerfNgAxl8DKUTqSfGZLRDzntcmmTHIpFrM3kYxnJxMugE5NX6XYhazUguXImsoVyJQG0DOXxmzlKJb545Vcu9lxBxScSq4IhdBP4iwLZZSQKSYqDeBXycKaClMrfNoUrAopC2O8eQpIUoTtJSUsca2lQGLEy+QU6BTuj3RMLGALC6LGlP0k+I1xXCnKRfE2mSBtpe0hgKdOsgAAZF9rdPQatojZPYp6Riy1nsy4FnMzhQVJlDww-pJM8QYDKsXTwTFNilQnnzhmH5zZAyR+W4owWeKmqKM9RVop0XYyZwQMguE4rBlNVuZJnQYCZjJlriKZVM5xTmJ25ayGZjo+EOaLiXNiYeMc2xKksZlgKKOWRHxc4vMU9THRPMqgHzKvBazVSM2CBRgugWxzqF8CxCQrKMUlK1ZdDS4ZxD4QTNGoTfQKRX3cxmLQJtUocZEoqW9jql0wZCXUSkxRKZRdo9MXKWiwszlZb0qhR9LaXRYzJmRfAiUq2Vyz1ZVDdJguN354lhFFfIZT0DOXZL85VIVoMiEZBpRT42Qm5ZbnBCXKm+ETA9IGCeUOBH64RcQX0uE5XLK+q-G7OMtHGmYAVglRoQWVn5jLSx283BXjKWicTNRKfOaTthCzkSpBVU8UdMMCAbKS5jAX6RLPWgAlRpS0SldI0bAzSgQCS8sBNMpWilGwo3GAsQglnQrcOe2LJXVO6C0zCZ9ANJdkt+WFAioOIYVYjNFWMyP+AfOmdwD2Wcr05M4HlSiuXIlkoI5wP6h5A+DBBGozs16L9NfkoLwOcCxkPQrPA4V8F5IalVYoxVwL6SMTaaX4EZDMrcQE0sGeytXKqriEzs0sXyr0gCqWxQqvJebLFWSiJVsQKVeGtuSRr5VUmLCFrOVUmt-VMsDBdCvszaqksPSjyDsOdnBBSVnySlZqKgVlrxBha3eZSrz47CJZVROmY-PrV0zG1IqlQjjANUkqeVJqqxW2tlUqECFBcu2KzPbWtT-FaMs6RdOungAmIE646VOsxm6LFV7atNaqRHUlr3gy5IKOCAxCg89V5gatY8DNXkgu1Rqu2b2rxnQLlyUUNgGEo8WMh-FGi7RbOvJBPrAly6uOebLXXysN1Ji7dXjj3UjTniNadPJ21oJvwaxfy7pnI0g2PyCSbwcDSiGKJQboMKGx+fyUQ2PRQB4CVDSllERwbi+gsLxkCyQ0dM4Nb84dIRrB51UEmjiFIGRqwy4a75QWZjcX35KkbsN6GpqpyIO7SIagYgB5AXEGUUblhU8tjfmvMCIb8AOcrDSiCfJ3LJRu1LxnJo6aqb20xEpmqWLz7Sac5mG+gIxonx0BDNyS+og8nBV0E6N6mvYiZpQjbtFNQ42mFKr-giBc63y1fstV02DrMhpGmTZLIY3YaoVKKzUSRoC1iFON8mpHilNzy6zpxppeUasqvDuaRFBJCLaYEzFharOluBzYJDs2JsTWvmvTZAgMSZay0GWwwLZscxqEct7XZzZ3ysjJaK+y1Qrd5uNnEBBN1KSwsioXGTLsllSysSfXUlxNqWVWrjHj29iNbVkAmoTRZrkFqSGgMijKXIuyWZNAYZdMiPvkW3TDltdUsHCDkdqBk8tSILTecuhjObu+bmoRT8p1LtaHk5HKWvjNG53Dm5xTXYmRk87edEUMDHxvNMk0uBzBv-f-vHC601bJwQUbmdMv7bGQ5lxkBGCYH4BfRNIzAGWLcK+id0I+hg7LfDU7odRqYQrV0T0MrDhSIpMQSoYgRcC8RyMGRdusDg222IAd7g9GMP0l7Ug9JS26Fatr5Bc9Dt0Ok7fcvujOaGdlgxXJdprDmbrte-VwRYKB3jQjZjYG4NgIhbyjGQAAThODRIeI8ojnVBo13Astd3M+XIgxsQdr-h4Q4dB8BdWsQBCBgFwF3H1n0jYgSu0FvoHT7p8rIaAD3TGqpEpC-QTu1ZPOOcLTA-d0KxTCLHXGZJLcLgHyDVUFF5rCgweg3WHqfIK76Neu0FuMN-mgsAFiOu+IaqC09blhOWgXfwAhCdA-52e0XWeHF0eaiCme-+f0XPAGLpESg1IIMuqBFQTwZAG2HwjPYoVVyrQRkJwJQLMBsBLe2CeP3b38B+6RwYfi1jWwKpSA3ew9mT3Uh8IDaOkaRn7ohDeQfILe0AE3wFh-cp9GBJltJxXBb7t+q-SfscB5FRMWIA4HldMNmGHFhACw6-dIyPWNRi1Dalte2rEWV9A9MQAcAvqX2vEV9EkNfUSgd0xAt94IHfd5CZADrBAr+2oCfp33+Rb9lECIGxF5FB7NdzuuA-AZ8gH64pTMIg95C93BQ09taNcQsoqUzKhtoTEbWoUv0iKlJSOm4YLlaA3ZlVRO-6Ca1Fw5jJtk-YBGzu20c6LJRZXIpkIJJCBDAjkVWJPoPmxBGwA+oEEPu4Fj7XeSh6fbPvckFzIYrU4Q9wdZ1tRZFEh1tPZjcxyNDDafByKHS+xzRmJzAWSNBDCJj85ebe64Sjq4PyCRgth3g3jtVKCHd+5CgKYQD3C-g3JjDZCQlN4U2C-aWkwnHwtMw8YsgERutqSE01DwJxQIzCKygwnB4aJeWXeJLCKyPAMjPAKI2plyOYjFBGo6iWeXyxlG+ExWQgL+EqNUZQA2OSELUawgRGuJQ8yQe0aR5hG-xIkl0dYREmkhWFhQMYzBIUmTGSdDQBSTMfm0r18mmkxKfupwAt6LN6fTYfoBJ0AAdLABWqWVMAZhMgYIDD0O0UsI2O2NCG7tsQgHCsQzNMHscGUHGHJRxiKacfOO2jLjb0G47BMkG8ATwluHoFhHBOgAAAXkR1ACnGig0SoE9cZ96477jcJ5hI3meN2Iu9bxmqKhAOh0a5DChzcAcYuNP60TMPWVmH0ebkBc6LAXOsoFzrt9Jg6fNMHgE+NX6KTgJqkyCdpM7s-4jJ5k6yeH64n-IQAA')">function unify_match(p1, p2, frame) {
    return frame === "failed"
        ? "failed"
        : equal(p1, p2)
        ? frame
        : is_var(p1) 
        ? extend_if_possible(p1, p2, frame)
        : is_var(p2) 
        ? extend_if_possible(p2, p1, frame)  // ***
        : is_pair(p1) && is_pair(p2)
        ? unify_match(tail(p1),
                      tail(p2),
                      unify_match(head(p1),
                                  head(p2),
                                  frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p34' class='permalink'></a><p>
      In unification, as in one-sided pattern matching, we want to accept a
      proposed extension of the frame only if it is consistent with existing
      bindings.  The
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>extend-if-possible</kbd></span>
	<span style="color:blue"><kbd>extend_if_possible</kbd>
	</span>
      
      used in unification is the same as the
      
	<span style="color:green"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>
	</span>
      
      used in pattern matching except for two special checks, marked
      <QUOTE><kbd>***</kbd></QUOTE> in the program below.  In
      the first case, if the variable we are trying to match is not bound, but
      the value we are trying to match it with is itself a (different) variable,
      it is necessary to check to see if the value is bound, and if so, to match
      its value.  If both parties to the match are unbound, we may bind either
      to the other.
    </p></div>

    <div class='permalink'>
<a name='p35' class='permalink'></a><p>
      The second check deals with attempts to bind a variable to a pattern
      that includes that variable.  Such a situation can occur whenever a
      variable is repeated in both patterns.  Consider, for example,
      unifying the two patterns
      
	<span style="color:green"><kbd>(?x ?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:green"><kbd>(?y ^expression involving^ ?y)</kbd>
	</span>
	<span style="color:blue">
	  <kbd>list(y,</kbd>
	  $\textit{expression involving}$
	  <kbd>y)</kbd>
	</span>
      
      in a frame where both
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      are unbound.  First
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against
      
	<span style="color:green"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      making a binding of
      
	<span style="color:green">
	<kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Next, the same
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against the given expression involving
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Since
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is already bound to
      
	<span style="color:green"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      this results in matching
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      against the expression. If we think of the unifier as finding a set of
      values for the pattern variables that make the patterns the same, then
      these patterns imply instructions to find a
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      such that
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is equal to the
      
	<span style="color:green"><kbd>^expression involving^ ?y</kbd>.</span>
	<span style="color:blue">$\textit{expression involving}$
	<kbd>y</kbd>.</span>
      
      There is no general method for solving such equations, so we reject such
      bindings; these cases are recognized by the predicate 
      <span style="color:green"><kbd>depends-on?</kbd></span><span style="color:blue"><kbd>depends_on</kbd></span>.<a class='superscript' id='footnote-link-1' href='#footnote-1'>[1]</a>
      On the other hand, we do not want to reject attempts
      to bind a variable to itself.  For example, consider unifying
      
	<span style="color:green"><kbd>(?x~?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:green"><kbd>(?y~?y)</kbd>.</span>
	<span style="color:blue"><kbd>list(y, y)</kbd>.</span>
      
      The second attempt to bind
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      matches
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:green">(the stored value of <kbd>?x</kbd></span>
	<span style="color:blue">(the stored value of
	<kbd>x</kbd></span>
	)
      against
      
	<span style="color:green">
	<kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:green">(the new value of <kbd>?x</kbd>).</span>
	<span style="color:blue">(the new value of
	<kbd>x</kbd></span>).
      
      This is taken care of by the
      
	<span style="color:green"><kbd>equal?</kbd></span>
	<span style="color:blue"><kbd>equal</kbd></span>
      
      clause of
      
	<span style="color:green"><kbd>unify-match</kbd>.</span>
	<span style="color:blue"><kbd>unify_match</kbd>.
	</span>
      
	
	
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-possible var val frame)
  (let ((binding (binding-in-frame var frame)))
    (cond (binding
           (unify-match
            (binding-value binding) val frame))
          ((var? val)                      
           (let ((binding (binding-in-frame val frame)))
             (if binding
                 (unify-match
                  var (binding-value binding) frame)
                 (extend var val frame))))
          ((depends-on? val var frame)     
           'failed)
          (else (extend var val frame)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPE0GJWqC1AFIGBBLQKCyXIFEIehiDoSggbx5JUnSBQWDIfRxclmoZfCUAAB8deMwWPi6kn1alrWYj1g3UhYfB8A4IQ1cUDXpdl3X9b9QX0kyR2JbN13Yktj3UjHDUfedrX7sOtFqBFn50bDv3nkKckgtNzXKHumH+cF5gxAkYQhdBIxKAUSgdj6e41pxoLBawj5S-CAAyRven6QZ69d8T2Qr3PM6jgXFY+r605duWExz8g89qQudxHmWrLoIeasmhnzEMXxlbthh8BkNIh4T9Ox62tv9BvOfZdp-vCYtagxDoT6ZeL42xG4BHCECNxnCP6Od3BG+74fjpbgRs5qv3hu-Ygn96D7X7oLf+98XYH1HtXYGA9K75xnmCc+Vl4GAOXlnTiuCXYMHXpvMWTtE4oPlq3EYN5tpnwoYfSYMDV4g0-gA4h6MGBvw-oYZwSDzYDVQfQpMp9RHn2YX3VhaCKjKDYD9LKdBi4NyoePVIucMHbjBB3KyxohAzlkfIsq9B4Ruytug6eWjlFl1AOCcGHAGCGIUaiUxlsV6wxcE44xjBSE23-CXV2r4goiLtCE-xDdJHQ37l4xRp0+rcPAbw-hHchLBJPjeIiATIkRVgakeRythDkASRAqBSiUlURruoyemii46NsfklghTilJJMSwjxwIPqNKKeuLGkgyCGGsak1BNxsS+K3jvPen1uBhMGfydx-MGlNJtsIXwgyKnCPSaIzJETL7SMFiJEhzAtCALWUE1BE8p4FysXU8EByPhUGIHgtp-MDk8MgXw+gpzlhpNoaIlJuz2mCzeNxVEnQvlxmoRcmpO4bnApjs4H4bzSmuPds6KFljakBN0fQEFCKFz3OOS7fB-c4WgoXBA7i3ItDgpiEFLRDBAgyGsdwPEzzOKkrxQwSkbRayP3KWc6h9LGXMtAKSSO0iOX0B+J0EWi8aCVi+vy75qChWVBFToAF2dUjGHaNLZQiqsnrMhVUy5mCRXgh1by-VxLpGE0tXqg1pcwhGoTFYi1PKHXgmAQEsI4r2n2scI1AljyXYDP5bEZV1CZn-L9fzKopAPiHIeScjuzqBUJm2qmtlHkP4zmDYAsNPqhnUO2ZQX1US9mpEeZoXEAb9XWLTZGtRaQMjhLLdm8wgt5GJvzYgrNLrAye1bWIu0WbNWcUFuwDwXgaW0vOSa6F2isW2KncoLwNr2mrq8E1fAKzZ24wzZs0dWTx0eTgYQQgIIqXJMNemwdC6MUwuXX-C9V7FEbrjaw5p7yb0qLvS4aNJ7Y2ENIPNJFHz3izp+YMDJfyT2ns7akTq+g37fzQRox9YI35WWKPgghHkKgkBEKkT52Gxqo3JjTHG-dKCBEao5ToM7+orgHILZDD4cYrAHDysF9iMYcagrGa6pBaxMSzM+aMxkKT0CpCwRkz0GCvUhih6mvSgJoSCnJruIdahSZWKUGQnRjB6ZMuyOjDAGNsBnQp+OLBHzMSwNBCiL4pOVIYFhOsJmYilFo8QejjGhgnw43rMzfmLMBZvA+LzoBmiGajGJnM5JAqoN8-5qzKHwG0zwFHJmcgWZQDgIgZA6BuZ4j5pxYguEHkCJsdLSsxbm3CzcuQ32h9lIKRjs1uJtYatTBWM0T2+8JHteBLbaSJCN5+O64qyb4zd6L0+r11+dB6vKQG6kGJqJesjcqz8Tb-DsEtBW310zcD2EIMfsN50pRdsLiIZdxhLtluredOtrlOL4VSpa+HWWO3TzvdmmSmrz2TsqTQYsop4GDuPa1iNwmUctydKaT0oeIsBkSPwnpaYEOd17ox0dl7io3t1uHjD3712Wj-ZJ0YD1gak2EplujsnVMCeg6aGgrd22Ke3aalyGdh26ts9WGgu5RyQ0Pda6PP7PxRfJsQQL47a20EaEvdQa9nyruKlKCrtgqzbsdGpVHb9pSlus8x2helEz0YDJ+mBxJP6ZOm8F0L2IplSDmWB7Y2y9knIuHXjLcg8MvI+X1w8vD-cderORNwW3jaXTCn0LXLqCh4UKreqw-QyJJicYPYGSP7nk+p8agj6PghQPlpzBJgWCegUUPKOnjxmeHDZ8EyoGTJpIEZGKqHw3X7llR+b+brHKwEZIwLnVg89ATnRax0blHn00dN7oFTGfelY9D+H86I3E-5AXbBFn+zc7jUMuBtN0YNI2Dk9jKUA5XC3hIzBB-LvLv2c6c1MsZzkmGhmWCEvqy3uHJnJ6Z2lKBfASBg9BBX1fAapEsclpFLdd5rcMtCBDAQdOMgoRl9BbdAQAA+SnGsarW3EHMBFAhDFwHnSVReb7P2NAoRY-WjfgVQPXKralSgn4ClNXarfHZ3YyG7Fg0nQHTlblXVCXH7FnQXYyUyfgx2QQr7BgGVMgOVagBVJ3Y7KRdpHnanVNWg8kVjKtCWUAkhWnetMdHPI-BMN-AKKvPQoWdYPNMXFNItdaFYIKHvL6eNHtBwvtItTgQXKwyMFzBsdvf6A8Tw0uabRkKTNwzPUI+wuXPlHwvwljGvVIW-M6Dw+w8I9GFvVzVBDIw5LIhiBLciKvVvYSVBTQ4wr6aLXNencXMtBtKmJIrMJLaGfDcwBAhgBweBWofQBbSBNDTAhgXA2xSEbo87WoOEbgfo8tOA-1bkRgfAfgRxEwIxRRJnSXQRXQlIowkQ+tCRZw2IRsVNRkEnOogtXrYo3PBWbhAw2tKoxorzUoL2NgLzNYC9aWduBY7eZY-bR3fI3tBIp1C8VfBoQwb4pYgxVY5xRmfQUExUO1B42owEhosdezT-Mw64mRaE7xLnP0DrHcP4nxWbagphKTZoF4gKNo-uHnTnBXerHGRsfveTPnXHVZCRJiRsbsPUU4iE34nE9Y5aXdXwdTGIRscYvhO+WoJmIEToiU2+UObkivWIVw6Q-vMBMfbhFbSfPfW8bkPUDfTfYfeUqU0IbgeEo0woZ3dQ-mHnWXBnLBMnHQiFBMQmNIvqOEtCaI15e3E3bg47Mg-Au7c7E5ek9aRsdGRkaI+7GcLhKHDXZnEHJieBCbMhM-GM1MvxU3dGJMlOVBdGG0irf7Ikz3QXHGFMsZBceOIkzMu2JbFcaImsuM30iDVQ+rQ01nTObLVhXLeQJQArdmYrLmSwcrM9dRETL6eGNDSdW2e2JRKc0AXg0AIPLuBg-4SQlod3X-eGKyG2O2focg8BEwLQYQAIEwYgZQ2oRocPW1W4YvDPefPpBNbgdU1nVRQMN1U2evKOL1aLR8tHF84U3M+ZCdVIL8kQBvAsTPach9K5IuGQbFX2b81hD9TiOfBRBffpaC98n+GcYVBC0AVlYDDyI3fvbCug11UEE-JlAisVCtdpbfbU3fE5GQNDVVGi7gDVQs+qO8k-eWM-e-ZBCij8ouW5U-dGL1NvGWUeYixDPilUM-bInC9DapTDb6PqKyd02sVCnNcShiAHB-dS88ZSmZbIwMvVL4PhNqLUysHUk5Ms4SlwSLNQ+iuNWIt6XpFDY7EyoLFykCjyCy-AYwJqKPXpWg5OF0-GDcTPMKzs6GRsSgCuatQwnfKfF2RkSk0c64Xi5TSs1AimWsOPFU1BOuEk-K63DtFwSGWsvUGKoeJOCNSKgDE+GmWSqq3pabAZKjCICK4qktURVq6k6RUfT4myuyvtMq3qfKlgdYRqByvMwVaWMQRKowMq8ILuDgNqFa08JYfEngaK+HTyvKqalnGa4KiQv0ZoTa5a1QVashZ1AAHmBCWu2qMxfxKE3I93BAABVbZQAbg6BfAy8xBeAC0mxX1qArzbFQAABqRco0kBNqIUVZPK8IOGyS8EWG+GzfRGsQZG9SiYPTN3L636-Af6YgRyYG0G0NcG1XKGzGuGi03G-G1GrGjGrGpm2jOafGnauZLKtEMbLEGqs-Ss502IGklbIWW2bEealYfucEh2Y6imIq50NzF4u6vxXarHG7SW9EbEC0mIQKqysDJitKx+Hg4fZoSskcGhduNai02YE+Xmi0q2hYkdf8Nam0O0Xm0U1iZIgwOrG2xKuau4sa5ioSqIrczcUWr3OgG2coUAfomA7UUoqTRsSGRkfI5TZov0IKBWpRaqvKuqwGDsgiaqpAmmX2woNiBahMOrKWogLy+rbi8wCskkkWkk3qMWvMYa3W6Wpuw4nu+YxWya5Wwe-0edFtb2VG6LHWysBu-WzfI2k6VK3Ui2tCK2kkm2zNe27W6kSQBgbaHa3qd6-rakN2oiT2v8Amw-Svf2puoOpK0O1ewBceq0qOjWu2f-OOpYkQROoeCAmM5Op8AIr-P0dO3pTO9y7OlyoTVBfO4uoNMqxBlfS0vMDqiutTKuxLau2uwMeuvWgers2QHs5mfstmIrTmbmbAdom49+agFPeVe8xvLPAdG4jDOCncUvcEehxhy8nS8wXhovRTCWDgQBRRJfBrY+X5O0A-TOQqQvJhyC1EGU4EIudMN1OYSS2IOYVcVBhoN1DkbRmIDkPRw0t1DCYx-ag8MxjR0SrRKxrRWx7HUSodTISStxtgZ0fRooN1biQwS9cgaA7gfxwJoGxUHxwoN1H-UgYxmJ2MSJ2IN1G4RK+QlgQwL1FJ1QNJpmFYRJmIN1GGqx2IfQHc0AEUkYoPOG8J-JtR3+TyYpmIUp7gCpgEPAoPHyGp8x0SqY6YZp8p9a9p0ASEcpmIWpt1YARpgwMp1poZsALpux3+AAUimf6dmeXNACWdGdAHGdEvEmKbWcGY2a7hFO6d-gAEJJQDmZmjmg9LmgRTnFmwRwQHrVmbnKnQAnqYhHmXHf4HqARGnDmPn-nvndnf4cC3mWnbnQA8DQWznnmcCAXuAiggW2mNnEW4WnmIRzmpmNnCg0WYhznYgpz0wCpgihGlGjc8rAQVxMC5huAKXLzlHGYyX3gBBGW08jd8AWAAArY8mU2ljQJfEYixxR-h6ZI9LIA-WpooDl5hgsctSKclsVtPPRRnRkKxN1N-SSt-GVtBgp0SyAOgb0GOYJmII1k10AvV-V5JqgbJ2ASAYxrJhgB161tB211JgAUSsedc9bdctLdQADlyBA2png3A3T6jTWWqQ5WAd7kZYaqBWVhMDhQ0XtpWKGWVXGo1X20UplWGHhGc3OqaXk2hXU28CZlWKWdY2c3FWI8oCC8C3KWM9S9bctE0N89Xo1RSBdcToeXyBqxwSupNBPS0JY2GHL16iJGs9S7pg23QQEQighr-V4xCAw6zawQ0MRqIKX7EEvMVdPj9BY2qXR6Daa3299FE3-XYgD3kZj2v1uW+XTB8qz2s243mAE2KrZ2ihg7bia11299aYOABBf2xAvgZqFxd2ZZTjV2AOTk0w6YcsyHWZCsOZMAMB+apLaNyBTAGBdUPhyobhSAZ0+MYKW1lZVZTKfoyYHwXdHaZGsgbxSPs90aGAGbqQuakaZBVkqOKNaOVxmheOaO+aSVFAbgjCUcTyn45oVasScPlBQaMhqsjAY9lBlAjmmY4asC1ObbwRMbSg9OYtbErIsb5Pr3FQ9PvVn5ZjaHpQeljBpO2oY9y9nP5oHB7P+poI8G-dOOxA2aIQsbxZxPjBJPejMDbcui6APPXOJg2brBwQ2q7OfpgqRYFAsDQMyP1bbc6PbEXjdJTs8ki5svQBm5lJE9FZh0bxsvwgQsZlqvQB7nbFcMcvAsRhiuu5wRcMlz78KBcP8PYoiOZ1suNzyv5CIb1clFivSvVxBtFtt8Wz+FqvT6DOAu4b3PkvGpUvWvBhY90u1oWPsa-RMb2PKzt55t955uSlWz6vGbVxjusb1uE1NuyA0u6vy89vmE0a9N4R8uickunvcpQRJKiD-uUuXvJgBO0EsJhv9NQevoeGNxJKrFtpsuvashqvuBHuwfSBBJIfDZfOPuVwDOABydj7A9G0nyH5m7jj7xLrHxqXVUgVZRnipxytBdWz6CjzcbaFn8z2MN1IQYQDG4IDGhyIBWxC0YsDGkTDgeECH2H+n7b-QXntH5X2sJnlnenpgcHyHxXnn9X056+lXuHvDg3wM-twd5QYd2M-S9+Dwd5ZAsjnXTgrbVDInup5553ibySy7lpJRVDb9woTAi39YK36gTQabAve3twGLx3+XgryZL6N32Ht1XDYBduiZfouPyHt+FulwFnibAPeGKP-VNwR3nGGwr3iR1DQ49Or9a2oEFcU7zPi7r9eM-3zLbBhR6P4wAuWPeKIVgv-3ZgYvu30v-K3bmvhLIKE9shXTyx93rCbaMf95aeWPFnGZFftwNf8vZhSH2fvxXThxxf+QcfnfsQQwff+vrejrkPod8Pm3vqX7ooUoLCA-r+rzYPgd0P63yPrfif97jXxdzNA3+1-MhJmx77n9lSJRUBtXgMCzck+nfHPHSlEpp9qQGfc7otin5JZU65RahLn1aJzF+YoBEgOXzZ61xoqyfeSLbUd458P6ZGGyHZEAKHkruHkEgcQAEYuBBKjOMgd5yh6UDMs7vSLIILPoxNkC39H3EAXb5YdQ0N5dpJL20jlRKA+AJqI1AGAVBBgqGZSuwPL4dcFBOkRLuoPkLb9FB2UMiloLZ7bRuBDRbAUQInRst9E3UalGRkhiY8f69eTqIfUF4cBSA60UToQD1yZZMSNhdjEgLKLSY2WoAZ6PJmJgvRGA2dcBKpnqpXEmqUQ2ITbTfyz1pQ8dCCp4PUAiAfB4gzGPVWizNBcgAQ86KtDPzPRb6MAyiDYQ8xhDci1CLCOUJ45BZO+3ANoe7Tj7YM6hgRXOhUXARXEa6qQ7oahjz4cdAgH0MbkRgLgVB5EvgXooYDZALCgm08QwKSGUqeMjArKd3msKWEFxNhTwSHkvxPgrC+eTwEYkbH6AKBZho1A4csN8wzCiIrKQPvq2mCPCjhpISqgLGko9t+gaeL4bsJCaRh1h3wzLsOguH7CwRhwkhMSBOFn0zhIwC4e8KaZHNqgIse2ECNhG9Evh8Ip4GiL9BXC0WNwl4X8lZR81bOZIu4TIHkQlwy2DgYBGhjpFUAkYhyaYWlxpEMAU2TI6kCJ2kSsjKA7ImkU-FuGQjp6zw3HrDxeJ49-h2IxqMCKkyZopR-rEkXgSFEiipRYo8kcek5HZJMO27AuEKDjaghEEfGEJlQCSHYwoITJdIUCAUxKZPKFo4oYDCYiaZ7RYEYMOOHd5GjSYf0QpDYhpinC2RihHkaFFuo2YzoNQy0UGLUyTDeIsqcMXxFuq8RYx1o5jKkIzoddDMewWoJjXd7ghcxHAIXjn3aBgo0xXEKgOEHd4Z0YgePJDD9CPbVjDuL-FoIjFGomjKQZox+JWMDEZjgB-Ag8M2NdjNwhxm4QMTl0TFhiUm-EG8LxD56Kgbwk4okYqGnFJBkx-EZftWNXGWltoK4g2mXSwaQ8ixSYfMZMONrAdsooohcmzywhlN1RidVtIGTUAmBt0QgYwVpC2z6DnA3AAvpWIL7dVyQjYWcdkyfyX5GQ64xgKBLV5kBcQlYn8fQHNIfCrwgE+MXwNAkn4L86UdSMWPzHu9ZRZ9S8ZIGvHajMJ4E2WJMN4DBUWoCMEcWR1xpK8FxgZNKByNuE4g2Q3QLYbaOCKqM0oHEssL4DoqpCZSXo9ULUH0hPjMgRnQwJMNonF8iQO8eiYyWCLdBGQ24yiXwLYxNjug4QAzrhiM7dBM4wHUAN9QAASnrBgAAEFwA4AT1gACVvqkAAAPKBtkAQITKrZxkCSA1An44sLCSgkDjlK1ExqPJJHGyocurE+SWvxMEqNwpihQcaxM6DBkvxjMRLklMyB+TTBkGNDOZMsk2S7JjklyW5PSkH1opffWKQFNDFJA0MrE0UfJIYCKSmUUElnH-Eqn0BPINIuQW5QgqITIMgU10ZmL6oJhuRQozAiZkDGg1cCM+V8WunkKMA+p+gSaZZH2rCjFCA4tEd5JTFZS4pA0yusZMkBxAMg2bX+iLEZAAAGE4LZxqCOQGUx02YW+lijUBBgV0e6bkAcBnSgQMvE6R9O0Bw08Q7o1BN9Pey-TSAiXQmDdNOh8d-Ro0YGVXyemQQ+BWETrpJSwhwzxusSZ6ar2Y6BlAg-RKGTR1SDVBsgx08MsEXRmq4JuimM0InQpp3SHE8M8qM9OSjkgaM5mSzExiCHhC3MoQwgDWOvz-VeKkMvjEUIpmPSmZqYckuONoECysIqWcLOlm2g19dxJjdmRFlERACpZBA3BqkPlkcySZHAQMg4GRqbjUxe4X8EBKzGQMcxZ40sbD1PF5i7ZpmHjFkEIDmycukMBsVDKPaspWxH1I0Ypl3iSxP4fwH2QywtlqYvZyGQgFsN9EdiIKJo4OXwlDkxyGWbIKjKADwCQhs5XsrCG7KbgtwKBw4mOTl2NncdTZPQ-OSrMKDzjSQ1c2IGXNxAwTl+bww8X6GX51y25W+Y8WfQdkliEuy7LVPTINTxFAkWk2CmahRKaVjpnAqSnImon8JvpaGGZEvN+HAyyKS87YRV29iwY7Qq8nLgLzYAMZfA45bSoOJmS0RSZVI+tpelxBFJvpBsjGP+Oql0A-xBvDyvVRUmRC5EB5YeYyDxlDwCZ4oImUoiXmclgijcrCV3kiKrhIFME5+WtKSD1yIh881sj-I-FLzkFhQNCckL4GQKKJunPCU7JmBSTXiog-gqbzgmPy2SasOcsPMXHETlBPibUfgs7yX4qRJkvKQwHsnWQAAMp63cmkKrp-cLab5O+kDI9pamYKTRJlDwx4pNU93lFNkXTxxF8i5fJDwykLhVFvwzRcPIGS5SLJ3CvhQItKkzhypeitRWhm5G3tBgJmOqdqIalNTLFWC2ILcmOmdSpR8INEfYs5EQg0BbijgB4s5Fy9Jh+eVRZIs-ls9Rp9I8aVeG+kjEZ8+ee+cdMfkMsX5G0kzKIrAnHSJF6SwadfOkR8JRGDPA3rBKZ7uY8lhdVUcpWiVUBYl0wbMXgSkzWKPiEFJUWXRag7TYSCC2VBkoIiPiwlOSspfBMqVYMOyVS-UZMLcKUKmewyjMWxI+hkzIhrQZEIyH4k6Dje4IaZSz2AZYkVlDgDIeBB9Gw8ilk7GZczwN7zKaRg4-ZUomsEDJjeEy8UXJJAUVB4YS0BcVvI5FzQmJ1YmrjrDQTIYNJBS-1MoMCBdLsor0MKX1PWg2F5JS0GFePUbBqSgQji8sEpJhVXFGwCnd3MQj6kLKxI8JHxexO6A4J2pdAIJbcN2WFAioOIMlalI6ldTA+0PcldwEfE4q8ZM4fFdct9oYkoI5wfymvDBWNRgZUK2RY-KWUxsX5jIN4KgsXmkymIcK2RR8pfk5EgikQlFX8LeWNT0VzU1VViuCIcriEwMmkSW2HzEqPodK2xN9MpUfRqVsQWlaSutXuKmVUmNGcdLZVHMjVCbE1aqN5W4DYCmHIwcDOCAQrJu5Ksjg-JhV+zYg2uYQAXCjURrIeRgxaZitcqEJ41YarAhGpxgfBggag8lYpkYDQqI14CyIXbAqkMr3gjILhQVIclOTXJ4AJiLWtsn1ripgillVWs9UjEK1Ya6AViXBAYgB5gqkGJmofmbyoIea8FaKuLXiqwFwE4Ir2vEU1rDFPC-hU2vJBcK11AiyCdFW+ndq0WS6nJb7SCiDr10Lyv9oYTeA8sM8b8WTmrWHR3rfh+Ra9Y9GQL3qNkIwJ9Yl1qKvqUQAyJ9doI1ngIbOuSS9biH8Y3rG8gG8gdvKyDfr01JFdypBrfUwa+BSskDWvMgQGIUgUG59u+rQzCDSCiXGoGIAeQFwWeBGnyl+sw2TDr1+AYmX+ufZXLqlsG8DQDjw1bYmN7aWsR1RpGQ96NxM39fQE41M46AomxcYbQoWUaX1Imt9dxrCAoQPhTyxZbTFpV-wRAGNbZQb0kqCbl8wi6RJBoY1KIUN-6ljfqK+XJUINuGjPKZufY5dCJp2eUYCMVG4jbFV4bTVQvyJ2awQPmxTYNIJUr4yIJTI5kZqE3YbHENm-9UtKi32alNw+FTYJH2jqaReVkTzUz0kphb9NmHUjYQRc4BbrlNSqUW9BiVCtMl1snAo5kVA7D0tqyXLSeXOV7dFNXcsEnNCvHMLfFldWwMFrbGMLSJnWyOdBFggUlW08WpEHxtVH3R1NYvLTdJp03TFiAZGrQAhxpLwwTA-ARAXzOUrREyMoHcDoilNqAdJhd-MPhH3jjr4CtrG+oHnWK1jSytfoRpcZARjrbqUmkD9jQGqwWkUeu-DMcgo6jUxBmh4sQZWGQkoSYgjAyQS4F4jkYICDNRzENqKDggTtv-CSnvz2p9aOt7E4MZdVIXftEtyW-gBCGR0P9pss2ggloHOWSVidZ28aFdJAmB5ItATRYYyAACcJwaJDxEWEEqjAfgwzZzqCYErFMIsYuNMXHo2F1aHwNVSnVgEDgXAXcc6W-ViChNFh+gYnsTyshoBNd9q-oWA2dDK6gmSvSXX0KKD67a0xWzrNHWK2ZIWcLgHyERRXCjCld-Os3ZyKF2qx8qNwYvqbsDKdBj5p8r6AqXzXmbxRylRLVNsJ1-wj5QTf3WTrPAPJKdMeKPSfKYATkVt0if-o1uqBFQTwZAG2HwitZfyqQrQRkEP18BF8S+DvDzonii78A2aRwEJdsQMAKpSAee01g13Uh8JNqOkceqbohDeQfI--UACzz+FFQYg-e-yDGpiC96telG1oMcFAB8qWIA4fFcoNUHyF41vROfePWDX3TQ1qazNfirIpb6riA4Zva3tALt6JIneolIrqn3O6+9-enyH1MEAb7RAj+7yBPsX04DYB4Q3veCHf0+Rh9FEpmAAYabG7Td3O5pcVvqVXhHtm+GfaUrblvbHB1WVoL9qb0A6Ri9WRcbVuV7AI2tJEzHZapeKfcqSdgpDQmi5XvBHIqsLPfwElUCBi9QIUveXv-7NiAedBgQOjXr32YIGQ8VRrgbQPUgCDTC7nSQZPWT11akMLWiQvBAORBZKYuaFWOYCyRoIzQBA1QuQMywnBX0IQ+m16T+b-t-0I5tgamXxzjRQcoKsnMeAujTwQUniZEOiEOjYhRaj+YthdGDVBQCeaIY111aYkgocCiMZUJOi2ZYhLOFrTEDsP5KjgrYjEiEKbGngW8lpLOTnPVWyZ7RaQi6HELcNfQojnh6YB6KyOX6gw4kuoALMCMpiYZS4FrVGI9Ixj4dqEbHTjr9G2HOgA4-wvUITyEZPiJGJRFEY8NYNIgmcsANnMhArhT1RCgedXQDV4C665hqoxjDyPoTcGEUDPZRuJ76D9AYOgADpYAo1rSguKvpkDBA0uLxFplC2zxoR1dtiM-UFQ4Fpg1jpSjY7FK2MoTdj+xuYUwBUHHGcezY4cbwBPAs4egWEAE6AAABeF4GILsaKA2Kvjb0E40YZ6AQnLjeka43Ylz13GaoqEA6O5SECGAaDm4DYwcbhM-G0uMzbgALwxosAMaygDGkL0mDE80weAR41QqJOfGjjCJ8kx7whDkAqTNJuk3LzRP+QgAA')">function extend_if_possible(variable, val, frame) {
    const binding = binding_in_frame(variable, frame);
    if (binding !== undefined) {
        return unify_match(binding_value(binding), 
                            val, frame); 
    } else if (is_var(val)) {                      // ***
        const binding = binding_in_frame(val, frame);
        return binding !== undefined
            ? unify_match(variable,
                          binding_value(binding),
			  frame)
            : extend(variable, val, frame);
    } else if (depends_on(val, variable, frame)) { // ***
        return "failed";
    } else {
        return extend(variable, val, frame);
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p36' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Depends-on?</kbd></span>
	<span style="color:blue">The function <kbd>depends_on</kbd>
	</span>
      
      is a predicate that tests whether an expression proposed to be the value
      of a pattern variable depends on the variable. This must be done relative
      to the current frame because the expression may contain occurrences of a
      variable that already has a value that depends on our test variable.
      The structure of
      
	<span style="color:green"><kbd>depends-on?</kbd></span>
	<span style="color:blue"><kbd>depends_on</kbd></span>
      
      is a simple recursive tree walk in which we substitute for the values of
      variables whenever necessary.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (depends-on? exp var frame)
  (define (tree-walk e)
    (cond ((var? e)
           (if (equal? var e)
                true
                (let ((b (binding-in-frame e frame)))
                  (if b
                      (tree-walk (binding-value b))
                      false))))
          ((pair? e)
           (or (tree-walk (car e))
               (tree-walk (cdr e))))
          (else false)))
        (tree-walk exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+zjwKgaok5k5XKPV4vTqsgA-NjuBgNQmiKJRaHnBB8gvJohDkKAeQtKAVzkLvTCsItbxF1MoBg6A9zyAtYNoH-EN-YD1NMHVQRpBQvEsBoRgLQzYZhXpba2UDqAwNJhsUom9QCtHaJ0Fo6C0gAC5QCE0auAhy7EOzINQQOfBGC2LZyobA-QtDCHXxAaQMB8gIGvHwow0m+d7Z40+CfHIqhl7nSvkHdaMwRHyFAKiXSyUWQACpZHKK0oEHSQdqAGkIJZcBkgeAvAMS9ZiQQJECkIM4WR8i2F0FAQYoxPCiJSN6rInijRKD4C-nQKxNj0QKOwR0BILRl6NBkkE3BAxGiDGIdIC6ZjGgWMYbYv0DiuGSH4C8LifjwI5A8cNcQ3jVApICVg4gbRgldDCYUiJFScEhOiYU2J8h4lyPgYUyuvZGHck6cMGJGx+nmChvQRQdxHHGIyVk0A8waLyBqWYCxvjrF5LkQotJHCJnOLUK4mRqyClpC8T43Jp95EYkiSEhZQQLqK17Ls7Ep8ngsM6aAUE4JVAAS2W8iEJiXizMWP2J5LyXl3ODm4-ZByggtLaYk0oySf4oNvus9hnCDbTJySs0+kLPHFNKec+pVTQmwoAJCNBudiIKJychPNJcCxo3zVAMt+TM8c+ggV0uBRi9xPFaVmGhQkjphTyXdIRTAv5rKmnDSGWkaVoBZU6TqnQUE5BSBvFUCwK55kzkKJZNo3RmgWTPLSJgvVeijVBCIWwMpLJIgXUYEGc1xrxCjPtY6i1xDGDMAhCwVkABVYgBpiDUAAO52H3ofXUABaSNPDT4aPMLKmSirlWqu3BY8NqFiAPJyLYoR2aljcgsffWxGaj5ZtkaoXVWR9VaQsRfK+CjS0EnzZW21YytJzzzc4SIdVoiqFApQVZ4q5nLxkgygdQ6WUjv7rqbtFTIhDwnafVQc7e0-DMd3boq6F0t1ANu6I1FFgrp7Tujdl5ez7p+DO-kl7JCREkPgQySwl3UqYByUdl4Nn9qPIOx5b6SS7sdAoCp36wJ-v+Wff98yz2sQZV2k9faX2QYg2yqDIU8BIQYI+5+UA4CIGQOgPgPAgG6nkP8jaG49D2mILMSWyMpCTEPo2PYBgjUmrkExw9pJ1RFCNUQok0pKOseGia6tej0INi41ZDCYoJRSm402Io1HaN8eBBRE8QnmEieIbMqCP83xlrTMprTP5+OJldKWa0mm2M6d6iOVMQnjOqZCO9Rq1ntNkd6q55jtQnPDTMzIYkKkRIFQ0n2GzeakIfKC-pGCRlFAmU0+yjljQPKp2oN5PsfnTPAipsbcLHndN5fht-I28Mlbsyy8QmjJnGgBeTqHdzP5MGeZmA1oz1WVP+eBGlKKLsCw8a8DZ1rINFwVYc4NoCugus5cLsXUuhmmuNEwfXaQPlWuEA2khYeEkqvTbZW6oIO1bIQZMoPHb4xEuTdQ-t2rpQiGKC9R1lk-rA0hrsEKPQSgHSgGjbZmiGUd46VWz5YQLxB5wNSEc1QIRnSUBYPVP6D7qqqGEP2WFMkQcggiAj36nwotg+vowKIssE1xISdDlzHhWjI4Fqjkg6PBXwt8dIBt-3NsKHpwLdLmW0fJZS8NIDuh6TTfBLQGKh2BdmG2wZDkxkucHal3SiH-OlfDW26L5gNY7ho+xQg0b2wpMuitsJzpmCIoQckI+YDdxjes7uzli5XRJX8vafgx7KCud+oDUG0NBBGb6wPr9mNIP41yt4lo4GJ3xwmUnHQYziTzJF1UIPeRAA+dnG1B7GYjJoW2JH+Qje8x1-bMGLZfEYJfN463yOc+89jrojcKPXeMw7p1G3m-zqmmdWgeWBuKa8NlnLHe6+0Dqt3yQX1FA-UoH9PbNXtw6RG8Vk28fOvL0p1ITKmh9aGyJjbRnLC6mVKiYM8ncjN+Badn1mKvsrkLmpCPpYQtr9s1TL7J4+3JVyvP7CxZver4X9FYUQuNbFHUn9UdwRX8xYa4tZP8F8WFL8LdxxIDhZgDnIuND9OkZIgDIpHguNv9AhXc-8ggZJl9mZ8tJdNhoD+tR5TY2Uv8WFZVhgqp7ZjsJQSBqwuhVB5NIcH8gQLJVBJB09gJlFOCLMQl1EXheCBEFo6B1os1qBL49MDwYICQrsB90wNhL8V8+wrklk6ZbEV9xs9ANCWNelSgZIQht9d9dDfZJdMEKhpBJciF65hd7gFCxRlD1NLtUCaDb8JZFc1czB5C8gvDFYfDe9VAqDOk81dCFYTDTYD8Bxv9iDBUcJ4opBIj8gltmtFFGRsiJNsg9DHUiEnDUiI9GYRt2tHN18zELE05bEGsecfJNNv8LFdkGAFFQjFDvD9M1DfC04LD-8nxykuDYFbF2DJBxD-QQkPkwV4lhjK4IC04IxgMRcaMxdtd5jpF48Yjgi0gZjkwug199iDjAhbtF8qjdNes38rNJsE94Ek98ZkC5loi6UID8oxIwskt19ZDSNdN7N7jNDHiNgLEINbEICgTFZLdQtdtfjGDAhqwiiZgIMU8JDRwhQMIqsINjNv8ZIIMrj7YRtsiS8aszFkSsTJM0TCiqTiiksWEIDCjYTvj4SW919VdzBGDDgMNqosNmA2BcNOACNeB-4C8dZwgj0HQP1Mj0tshch8hpTQBzVMEfsylJS5FzUHtPVPcHRY4sgcg8hiEnQf4FAWhIEf55BZ8ugCEgdGZIsUdZd4thYXhVi6iniHolEyQackJgwqCnSrAEtXSMtuFuS54qcagfSUd8AZTy9I55Jkp8AHxqcKlad4xE5GYZc4tAzhZUdYyKZFYnokzQBDpr0xBts048yy8CyQZ9piyXoyzW5udNdxdUwYzqyJhgYiyXgIYiSFo81Xij1rcigOz8i7gWRByaZFpaAbdd0QhJzv0R1RzV4EzGRcTgJJyMz7ZJyrcZzUwUNRyAoUN-jC8yAg4zQD0WztjS8PSNZ8IwydJcDH0ORF5yTbzqQOwHyqizzqALpU5Qcn1Hj1h+C7AGVnySQ8SeQLF3gJw9YDYrzAxbFyjxTcZDR8cn1pMGw19Tt8zQKwQIQ6T4lh1Fh89Hyn0USTJwLoMjBgLM56FugqLd0qKuNKKn1fhaKMjqRexGK+zSMHR1i6JNitdb9rIiKp019nATQJw3yPRWIchoh3hMLsgzYyl5KohFLZk0FClME4M0KH0MLCLsKVBSZXSpLBKZscs1LFLDLDAAAeXSXQdStVTStvOhD3CEFkAAFSyD1DyEFCJyiCcBVksXm0oBtOAlAAAGplS1dQwF0vF05RKzZorgwIroqziQjwh4r8AfIXLXLWF3LK1vLqACB5Bg0AqgrTCQqG5wqWQoqYqlc4rogEqlLFj6rUq6r0rYqsrmqcrFz+FeL+RTVNAUSpNCLQTNFvzZgZAshLIbyWEdIejWqjK2r0jSD6NJQvZlr8rtLOsZr953jgi4ZzyF1zKtiYpbsziiFCLtV6LtqMrQBMEOwXKHrrqFCc5trsl8I8rCCE1EDilptbqYLdYd94KhLWzZRwCdSCLRLvdMhWhQB5Mw8oVf81rAgLEqLbEnyMLETalLwlrmLDLUc2LOSBdmLTtib30liiDBlZLH8aN9q5qEDWDgFZjRq0Txqp0JrhkprGbXzaMSDFr3rDLh0+C8bZSnD7qOUWsGbtFLIMrjrfzTqELUxLqOVrrRLbqOwbL9jMFyVnrjLh0dqcslquIkrUNewfqmCGrDkAaaMgasQbCwbZhzqRy0auTobWq4alCKlEaORg87FkwspqaydWkBVHUMan0saoDFYqL+aQ60gZICbyKibGLSaUtyaY9KaAME7w8aaQK9q5b47txeSBZ+ScMOB8NuA+BsBwypA4dcdrS0yTw0d3YI5EpVydcSBWQG7EdORd1e68c704gchAxDNW7x4PzJ4iJdc00ADXkcc+7m7LtJjkpaEAIWQlRUrzAlQXkgijslEuxt6zAuw97SaN7vlj7Xl8Kz716lF8wr78xb7SgN7PZKhUq37pBhp97AgN7k1DxBRUr-6lB-Kfwf7zAN73Lj73LOlwGzAN79R3hJ9nA6BgxEG3hkGGBGg4GxzK1Iqr7zBVA9TQBBRDBUQM8ftorQGcGN7I0CGzAiGXhSGRCfsY1qHz6lEpDShGGSGyGKHQBlESGzAaGlFgB6Gv5iHmHyHQAfswB2G76fQABScRnhqR-hxRoR0AERn0AJAh1RvhmR260hjhn0AAQnRD0ckYMZ+3MYUWMYUfHNspUasZYdAHsrMHsZfqUVstRHof0dcZ8Y8e0fHLT2caYesdAAzyCZMZCd8ZeCCH8ekZ+zTwUV4ZicrVMfEcMcCGkbMFMfMGlNoULXnsHqbu20MvkRYUEKVHPkXqHsw2KdGNKaR222oGcAACtTSuiqnk9hARCL66nrTUqApdccGghmn8c+TuQsA61BmkcJE8hTZV7GQN6ncWhUq1mxnzjcGWRIBiBgk5BAH4m9mDn9YtnziEHYIMHYBIBj70HJAbnzmDjLmkGABRK++515p54IjegAOSUF+fEf+d+eNuCMabCAXvhyXoWdrAqdRB6csm8WkY7BjNqahaHphfoIGFmfRabsxZYsqcaEEKRYzxGcBUhcbvmYAMWdljnixwmeXtnEJ0HnzFwuvnmwNnvWwUYDW1OvaaUHmHkIiB30OuBQZfhxLn63HoZ3TsaBZduH6CCEqPthuXExVutDZaF1TPVbuElzcJAwZfKaSpeAeopehepdhfNtlbSH1e6ENbbjac6YoFOOCIZfxZwutaCGBqdrOuEqKG3ByCvmBqiCDkkpmB1aMK2BGp1bEQGEfkwyfkFMrq4EwAwBQunL0GUAoEkFhjCCon1EYFDiQzZc9hcDcCPJ-QhXyqeunu9iImLfRxSskE6oFB6qiBaorbA3yX7BYSIU7d-W7cbOnJYH1AJllzNJtAXTFs4qBCUFIFICcCtg2nuHB3nYMYYGipT3ndupZDqswV3dACIQ6vqrndIG+eGl3dpjDFIsZhIAMguknbtACrX3OzvaPAul+GJTpqBCaqiHasrXquqFHYunHe4MENfeIHvcgwh0beAn0BZCHbfeFmEUUBYBT2JxLcQTUEHmreAicMNTqwdmShw9ADhCNRhyw4+pw+KB8Dut7Go9AFseAm3lw4InYhI+tW3hVIzfCDncVlzebQLdDhw61K-jmwbiblnBI7I5eQE2fzbjhMYmo9Bf3YA+iqQ7-KmDQ47Ah3Q5+Fg7dTqpbcItkzsmlA11ZKU4w8MC6s6SM-qo05Q8YG09rb07O2s8bcM-g9E8c8rQfvB2JxeEc6+FQ57cI9h3wr09w985ZEvpeAAh04w6+qImo6C8g-fac41V7dyzbai5YX3YAHIW3U8Uqivsvf2WqcPEP0vkOc3FhGAfJYYGvMPNrrYSQy2IQOwmvPHtmN6b4OqUEOqg0gxixTR21UorZ+6wu6FfOuv6vjHtlVBuvUNgutP8qiFZv2Jlvku1BtvykoO6vFBSHBqxB+XBXSBhWYTxxsdg5xJ15NAWvVsm8Twl58udmnvJPNIXgLP1Jdsl5PXAhBCzuTQLvKAd8uMbv4ZTQAuSd7uaFwuHAXzXvlsdnt4QxRLTP5M4f1vjTNATu7Buu6wvsHRIe7ul4zFL8PvDMl4akMa24bqFEWETPbIsefv+p8gaffrZnbuxv6QIdc1k9CfPtzgSfnQeeX3idY8nQ9ccD6fNbrVL63uGUOwxeoeLo+fJfUMApVfxJrgYPpvWEjWMId2H6lfmA1e9fJfsujeGwd3gehWweru5kCO6EwK5eMIAfzAgeBWQfLuIedfofn3sece3fudOaA-1fJ9NfUjf9L8seaeMdPSfQ0eBQMeWekfpeli0j8EyCnQKiWbdRA8lhyf3yPZ67Ivke6FPzpfsvCrJxvc3s-dFOxAi+tyFphzTC4flzy-3lK+nVew+-3U6+N5gJXtfc7Bm+dg9zTC7T7Y-QxkqJyBqBU5jQWg2hugS-v27Ai+u-rV5-7UEO5Y5+1-J8xv7UqJKzN+C6OwO+kjOflWFpbVnwqANp6+oM0v4bUzQJJBX4KkchGBl4OkDQJoHWzS8SCl+BeAn3dojEIWl6JoghiHj3o46b-Hio6hkhwCykazKgpghICf96Q3-X-i0H-73dvubFKgkQmAE+Rb0aJS9Hrj5Sx9ikEXXvpnxIIF0GUlAtjtnBp4vAOBA-TPrnWz7YFLwk4X6nylpoF0OBS8fHq20sDEhJ8xcYXHpgAbcE6ATiNoMoPpB0BTEpfbMJLVUG4d1BIDa4FoLETZdle0sQ6J7wYbrtwguQFgPIIPiplDBgoFQbYLkFcRLBprNXM4OMEvQ5yegRQIaSRw+DkQag1pEYM0HaCt+wIPQYdDe4hDQg-AUwYR3MHZx9BVgr+AY0iBTAghnwEIaoASEmDz2nSMRCIVDB2CKUmEQ6LPEWpuD7B+AQ8FCF6bd0BQbLBobBGAyRRZBaHcoXIOJYtCBqR-BaO0PICdDehPQuoS1z0GTC3uThbLtkMCG5Bgh4Qlwd0EdTa1JhAPUodIxGFjC6hNoCoeVG6EpEH+fFASl4l3L0Bbg+5Stn+mEhARGK9ReehgL3QIC70WaOOkhlIHvp8Sl4DAfihPwhI3uWrboF8NAD3DvhAGMwR0OnySBEGqqY9POgPQ0CEBqGCEWhmkHKpvocI2CAiOVQvB0RjwnQVBh3b4BVwXQOqm9xZBkjVQFI2vtdEaj4jwRsEQwG90xpmB5hUgBeMqlZEo8QRd6CUOdGuHWgmRhIsgQjxBCRceRpHeEEwIhD3DcOWI2EfCLVS9geRGQn8L2AVEaj6UMI2wDiJVRqoVeLInUWrg7DaivBdKRijj2pHkj1m0gi8iGysBoRxhRDNlgymIbbCM8ThE8mIFVQ-wDQk+LNPvxPAhjxgLwQnkyMJ5EiwS89FUSDBZxs4lR+olUUt3m6SigIYY2gCa22bApoxbFX4axHjF24G0GIW0bSPWazCvY5XBdIGxdH7Dix04E3L6LsCEA-yPaR0IyhZHd8uhC6TgXaxZEti74VgLoXYNRROJwEUQ9GvPS6LDjxkXCCcVwgbLRCuiAIhpF0EeqI0vYh7AUNII7Ek8DE4oLsVoWnGjFwEtiY0QYELHl4F44CQwPu23g7jwEAbKwKAE8oAAJV5pIAACC4AcAK8wABKnlSAAAHlfmyABRMhTnj4ArAqqU-nanULHjvokI6itELbGfB9xSE6fLh3vjvC2gDoPXmf0QnJjiAOPXCSoE+hETLsQ7ciZUHgkL8oibLD8V+N-H-igJoE8CTRJHH7jCJCE3wiRLZa4TXR+4yQIeP2gCTRufE2gJGnGGz9hhPaeiefyiIkSUJbLcYQ+kaGCFDs9wpwOnhiL+iU4YRLMfkB0k+pr6ow6fKpKsEwTDRik4iXqOICqSQogbCwJN13IkB34CiAAAxxsdICQYNLtDclU9m0lAboKOjckaAPJigWxJXkgiRSAhjAeqjwGvFAhYpnweKVMCHZ5p-JY4Lts+luGvo0pDghbCFKJTEiGULIFPgyiKnBSqIoUnbqBgHbzIah8sXQByFylNSpAkQEpJN3ETz0apoVT7neiRSI0yqgUyCLVLQihTY2GwHSLYM+DBoVAocK-pYQ2qQCwBjqTBNlLGlIYSBrkiaYNLLTDTQWO4uUXD02nX13k80yQItOkChxq+D3YoV60sALSlpH1GnidIex59xBdFa6bdNDhpShx-Ii4doFdDLowRsyVSU8NGIvDb0SAjCmCNQHpBikcApjpsxIJ1IEqBohEdQJQK0CcxuYrmhiJto-4w6F+RgVyKPCLlGcwRPAMonpksIGiCA+AUiMQEfCEZKgVSaIMrioy1xhKC6SQCxmpivhloswLjLeL4ysAxKaWdLnFGFIvp6xRqZOkhkYiz8ZMopF-DaCODYEYofICrMRlsV2KdMhmeEkvDlicg9otWTCjWq59FZEMzmarJpoF9+QgsnKtjLVSaAnEmgaZDGILqY1rUNIi2S7ydTmy6RhHEhGoE9nnwXobIp9JyNymMpDoJMwIC1n4qKCQZv5M0MuijmvIfZcs1hCEG5GmJgRac1MhnLBmiJvZ58JxI8NADGzlE8chlJ7NhCyie+EIb2dF2IBCzcRqo-CM3NNGBA1RL0AeeYFdkGxUxKvTwYTNKAq9h5osn8NaOy6hzLZzsnWGlMhB3ETxdFFcu1GdiBgJuOQNvsdFoAHg2xjEQGYeVc6Azd0RUyshfOJGf0Pq3SXqQbyCDsYfQKgRaYKCkAakuQ2XAKM-O7ZDiscIkdeWlIjHpiVJoAfMe+mhkQsDwCpcaWsk2DyYOpqyLqfkEBntF56Y8hMSbjAIvJcFqYyMQ5JHnmIT5NEeEoaSzSAyyFgQGBQBhSmtiu5bsksaSLtHBy35W4yoLX1ryfBuuPUyCJWQQVhFaFVBR0XWKzSujcFJY2eC5OYmSAAJvqAADKvMIJ3C6QL5MzKwSMGaUkyFAt9l0V0JeEzsQJLe64SeJ9IPRVhNsBkSRxFEpBSZF3S0SZg1ipiZ+MUUqK1FXExWJYscU2LSJo5dSba1FaFIhJ+wkSWJICVPSL2aUmSXUK5BWDwl3QytCnwnKTd4l3QrkMAo5b+KDFbFIJXUI0mwQtJwKNKSIRiIgKkFgiyDPkvfTWSdFeS0hWhiHFmgR6-C+bmmKO4ZjkJUGUccSDUlFKRhpS0oP7IzyOpglCgpwSsO4JUFgkfPKiVERIUWTbAVkqgl6PZYlwDY1i5Zb0utHp1Cakw6QU-kO4NculDXFCf0o1RwKr4l0PpgonvidhBQB8c5QtxZAnLuuyNGSHcpIC3UsBKPNpZK1OWNd5uly8YTjx+U5Fp+SRPbocuOF7iMF+E1ZMeJa6-t+xKKmjvPCpmXiWpKrJfpYDsl1Ss0mE4yRvgpkmKHQyK0lfoXnrniFEkSjJEeNJXcyLEC7T1IkEJX1juhhLKXMkrHFkI64iy4gJkrsHI1Ag9aVFJJIYnCrZJAPBlMZJeAbK2VlgWsMZKuWQpBBf1O2HIXxWfAip96TCffNjFNMHJtiR8KfN2xYLtC5K-ccioEk0qzxXCWxAyoNhHiBJLK+esqo5VFTxhPKgXHyuJCSqNyGS2SbnQlUCr0lOQEVcSD9KdJqpk3RVQYy9W1gfVkwrPqjVpqry7ASIKxW5JQScr8gpKnsevKLVvcc11S0ldl3LXGT0SUk0iUO2rVCra10q5eGEBQTGghV7wilc2qUn1rjVELbIAsrrWziFFrEwCcBLAngBv8o6v8eOo4nqL5VQqxNSIUHUFrScdFFkDokP7ardQ5asBb1LMRtqCV+q4lfUgdA1Kli6aaQLmpyAjqPFSi1RVOo2AKKH1ai2xPGtfQbLV1eipYjJE3UJwEVINXfI+HaYo448UwrauBqHa4EQN+Ie7tO0rgPSb225acIrFg0iApeeeNlnwKw1DtrCcFKCBIFA105wNPYyWlBqGG6hcCiqYjRQHg1sskNN81DYRroC0a7+ToBDTJBw3IaFoCQKIBlHpACLSNxIxjdIJA3UBup6G51mCsmE9ifWUmjTLQDY1aU6EcKuwdl3E3dSEiCmq7MQGU0xKzAHyzpTBqU1wadNB2XlMETU0DKQoEq30BUg6pGajuqVTTX2rng0aJNJkojfiDXzWbrlD8rfARpo0o5gtGG3DnMPC4JTchSgiIaEsFx8LgVfhCIt5pEAFCUtzrVDH5os1pANlHmrTcxtC3Os0trGnzdlqlxZbYwdmwbqyCc0NcgGRGzzdMz8nyB+NnOFXH0vBWFLuhxSpofLWBRjKpZP4R+bVp8h8aBNiWmDnQp-ASLnRUi-YdaOYSWauFM2pfnNpSWMUpZpKMol7BpRpAstuIOzcN0c0JbPl0hFrRlCa1VECJC7TnCtJnYT8+Fe04NqG16g6shx9vUHuDzRLtast54JOkMs0nJ5zUA2wpI6B-iXwlgT-RZoOk5wPVEuJOTLYBQer9pvufDLwYVVmAEzCZL2H3O9nMkspEpf2TqptqW0sgPtfvCDNkpU4Chaxs2q5dnXmSicnCnrfbTyDs3k7HeXGY7QsAyjArUqHOr7RKhwAWJ9QJPYBv5QUQABOAYAqgkAlwQG9OhDbLqVQAMrld6KYJCGkJXI4+W1MIFgVKDEFocdgMpF5PvzmBxdqgArgV1ZBoBbdYq0OtbMdQW6NhdAoIOLrV0cYCKRS8qKhjsAxpSyTBH6WYHd3qTPdK7XymLrl0ANgF0gL+T-MryQ6LQ7amTccNHJ+aDtl8StJ-JAbx7Fg3OgHAoD53g5Y9OeivACi0X2wI+iWyIPWj+SKBMgZoM5jcugW2IhegoYnqT1NBdjkOMOSDpfHap9Bsl3+aHH9EYAN7DmjHMsWaHkpBgrkFulkNGhjQR9oF83Z1PWjMCL7ywyc83VHpAaqBguAiy6FuFJnWzZU0ONVUvxX6T41+3BI-Vcj3V5rGABalPCfzVWVk793MkffXqVr6xJ9OqafXNFYE76Vde+hfYvpDxCrr4N+2+OAejRb60izBDNY0Hn2wGY03XagibgYCoG6GudEPfsImVFKRl-WqOuQwyoH7OlloqHXoBh1LBLoKExVZjoIAGNaMMSkbUtxDC07Vt9On0ScKdnptcCeQOgMGjcA17L4fU0YpdFb3pjhe32Tvfooy69719KVQfZCkjochZxbBugzTuiCSLuDXsSFFYUo5UUVNIcoNL5UNELpmR5wQ1MSg241c-yAiqgy-05xaGUWT6Eyl-EYPtlpGLB6QVrOFxSBZwb-A2bAvgRzSXpN0t6ahJxRidKZEIZqUAbMDQ4I5Ssv9AkegHrUNYCe7mUQSQN0oGiLMtdF2uQFcyqC6Av5QSlwQZVMEZItpBlSIR-S3p4so9M4Fd001iUmq4aIYclG99eRdKTBI0bunoqEjfgV4BEf+nvTX5nSIhLUYujczmC0QwY8tOl7bgq9AigriGNUCEyAAOlgBLVTL6Ql+-ACgjQ7M6SG4TdHHSmt3ARR9De-ugMDWOdKNjRErY7mN2P7HtZXwZfscec5dj3khAP5Khm4QMoAToAAAF7ktQAuxoILay+MPoTjKO84+CYHBS5rjIEb-RdC0i0oRgMdIMUIbcAbGDjcJn42h0kbxclESgDqs4A6qkAOq6zfsAV25B4BHjR3S3bCaOMImyT73KkzSbpPZK0T5YIAA')">function depends_on(exp, variable, frame) {
    function tree_walk(e) {
        if (is_var(e)) {
            if (equal(variable, e)) {
                return true;
            } else {
                const b = binding_in_frame(e, frame);
                return b === undefined
                    ? false
                    : tree_walk(binding_value(b));
            }
	} else {
            return is_pair(e) 
                ? tree_walk(head(e)) || tree_walk(tail(e))
                : false;
        }
    }
    return tree_walk(exp);
}
</pre></div></div></td></tr></table>
      
      
    </p></div>

  

  
      <div class='permalink'>
        <a name='sec4.4.4.5' class='permalink'></a><h1>
    4.4.4.5&nbsp;&nbsp;&nbsp;Maintaining the Data Base</h1></div>
    
    
    
    <div class='permalink'>
<a name='p37' class='permalink'></a><p>
      
      One important problem in designing logic programming languages is that
      of arranging things so that as few irrelevant data-base entries as
      possible will be examined in checking a given pattern.  In our
      system, in addition to storing all assertions in one big stream,
      we store all assertions whose
      
	<span style="color:green"><kbd>car</kbd>s</span>
	<span style="color:blue"><kbd>head</kbd>s</span>
      
      are
      
	<span style="color:green">constant symbols</span>
	<span style="color:blue">strings</span>
      
      in separate streams, in a table indexed by the
      
	<span style="color:green">symbol.</span>
	<span style="color:blue">string.</span>
      
      To fetch an assertion that may match a pattern, we first check
      to see if the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      If so, we return (to be tested using
      the matcher) all the stored assertions that have the same
      
	<span style="color:green"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      If the pattern's
      <span style="color:green"><kbd>car</kbd></span>
      <span style="color:blue"><kbd>head</kbd></span>
      
      is not a
      
	<span style="color:green">constant symbol,</span>
	<span style="color:blue">string,</span>
      
      we return all the stored assertions.  Cleverer
      methods could also take advantage of information in the frame, or try also
      to optimize the case where the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is not a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      We avoid building our criteria
      for indexing (using the
      
	<span style="color:green"><kbd>car</kbd>,</span>
	<span style="color:blue"><kbd>head</kbd>,</span>
      
      handling only the case of
      
	<span style="color:green">constant symbols)</span>
	<span style="color:blue">strings)</span>
      
      into the program; instead
      we call on predicates and selectors that embody our criteria.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-ASSERTIONS the-empty-stream)

(define (fetch-assertions pattern frame)
  (if (use-index? pattern)
      (get-indexed-assertions pattern)
      (get-all-assertions)))

(define (get-all-assertions) THE-ASSERTIONS)

(define (get-indexed-assertions pattern)
  (get-stream (index-key-of pattern) 'assertion-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCy4slCLx+NNiw4K0IayFX0ksnkinNy1WbB1mwsu08jDEKOFaKCIJl-Cqcr5-KVKsNmu1vs2eqygdNhKIFpdNttvXtAydlrWbttHoYXrxPQzmf6jsBwLekzpGasjwbUibkgZ5SUoocJL5PNAYb8ADcjvgtT6-aKglHjUGQ39Ob2q6qsZ4cd4Y7r9dkJZqCWaU86rWx019GKR4Sq1RrjT5Y2WpAJyNJVcT5Yr-Mqn-3QEPPCOTDe7zvRdLxXaN13dT1vVLW0RXRRNZTnBVw1ARcp1xcDbXjcYaw6XdkyWXMjzHGYAEhHlPc8xjQ7wbzIwDHgfJ9GNfZCfz-AD6MA1Dt2NEwwToyRC2LYjAIoxcQUHYctXzL4WxmOS5LbPI2GUARSESbhYmPcsHRoeIk1AUlmVZXhSVvR4FmMtlzM2HZ9LNUlWEYaRSDMzjQAWJyuxsx4dgcGIn1iPxSQAVUIOpCEoAB3Gg7AcJwKgAWkSlDjVpGS5KzR0VLoNTEnMKwsFgoI4scdtVxNUAYThTUkXMYqwjkGVSoSlxaqMygWTZdKiv9fxAma+wyucCqyS8lyerwSF20as81FkfhYnlXsTkFETUQnUA6BlcJuyaFamkFGSspobaDP3QiPNAYZRlAHY6AK6wwCUtFQGiOIIBgeAkFQNAuTQfkITKPJlCYTxyFSRwxjaWJeGoBhCGEdaTtAUHhlidwHG4GG4atRGRFAAAfQmfNRlR5q0bG4lxhGkaJkmM1B9xOu8EIqdh+H8fp0m0ZGaHqc5unJGJnmVAul12Zp-HHpepkIfilc2IYSXBe6XoURRnHBceqbgYqUG3E0cI2DBl81FiUgAT0eFNGPFHQeY82kYAMmds4rmyUgLZEAzSGtw2ddlsmmEIRbla1vGkegvpdODw3jdNtQVcj4LQ9iBgeqsIO6EaDHKBXShcBDsPk9pu2KxoF5uEXCOy7BQqg+q5hgzochNEIdPEc9jRCE0PwuF4WQqmccvY-BpPSRbtuO9p0k-Ap3v+84QeGGH6h691xlg6n9vO5JWuuej+2VHjtZE-3gWU8MneZ8RzPN5mm+99UXPmf5jnI9H7Mq8XH-lXfqWwg+Iy2mnkJ+tMmBKyYAPIerdqCl0PhrCu7sLiLhrpfOuG8H4gxUBwYgnh+DDXgU7L+joDb8CNmfceJInbBWKiEM8eCCFEMILSbmjMT4UITtQz2FtgpDg0MaJgTDCGtTYSLLOoCKgiJYS-POVEvZRweCjP+KpVEKO9sA8EQcZGtUgVJaBy9YHOF4UoqQKiPZoP-qYrRDcpGDDBotdwbB+CGJXmvQgNiRLHxttws2ijgoEIxi4txxjqD3yDkE5xriBCOHTpDOgXjoIoxhOyHO8imCF2LunPw6ibExkkXrJkTiQnMzYI0JJyjkF5NQoo2xQMt6gxOqoNwqQ96VPMcg8hlCTY8NoYZZpahBAMD3hE+xMcBihNXnAzxJDvHVMsdYkhWCg6gxFCpdsRwOmdNjt0vxSd+mknWRDZw2IYHTOcOIhmmFOE9PPqYuh1ANmnJXEMtps8N5B2OZslcK8VLqlSNsiZjpqFMFkLgB5oAuSfPGd8l5TBYL7BHF3OZyTkGgvBZCo62jYVPJOdQbERxIahwoAOZWqKqlj2JGC5YkL0grPGaDRgBwEbEHJXU+Zuzbn7JoQEwyzLkVsrGUUqqsJmACtZeyi2XROXZh4aSCVJAM7z0UV0EBIrFVspacMveiTUVSEpd-RZkY6kwpFSsaQahtXvJRaq9MFiLhOzVTikVQ85qtJGbTPVdrZWViWXa9VjSVAjJSAqTVUrSAyrRVykOfNTHOsKUGxxVq3mettdK+1XShhxtqRmhlIqmZqjqEC4FDjT69P8XwwyXgah1GFVvGtxA6hMDKRUilOkjWoP9ZowOjKVDJF4ODAFJj212izb4qhlbLbX14IO8gw7wlmq3rLKZHigUOsMLmoBgbH7SE0KumZ3rva+srsasYW76nYP1ioAR3AB6kLLVwydScB7BTmPfK9HYOCcCYHyQuRgzFSAaicGUVc1J1jHTG29JwRALFJO+u6fYmg6yiPY7a714hQDgIgZA6B-pcgaTNBgbFhkIOnQjAcmaY3g0hlsg+wgfKWXllDfRv5w4YPxj5HYaMS70c+BZDEnUTJyLfqxkc2RX750yUXNO7GP5l37oQSjXHg66PbGR-jmwFjEexGpkx9HFPKdtNx-tw9d60w04x3YP4mDgK7gZ3YSnNOzBMwivFPzLO2m0zZuFBKAGC0M85mYrmokhPOWuvjVmm5MFlqqEpMTRHxIcIkvjHF3KbFC641tGnAsqaZUiyVnmvjeexOG7IBWlXWrTZGnLjmjNfFc424tkWvPWexE1sjuXjPB0GR69pLXittZXL1nVFmHMUaC98UGA6h2tSKwJmbFSdO-lIyu8LMzasTbS-RUFWSlaJMIfu9bzgUsceEIFybUg-LSACp1wyYUIrRVOo0RG-BOCgGSkNw4qQP1B0W9wUofhDtRoeFhB2GhYgnLJTF+xAOiAmHWpB7Mi2mCD3IJD0lzBYuA+CHu51zZIJ4jByoLWKYYdFLh4QBH0dJANSHiMIIhJlvfeViu7LpQhDbfS48LgqR2DQKU4+ag7TSbc-pPY1HiW5DJcp5z0XYvJDA65wrx4a3BcxFviSDnGEdnZiaRXMTyt6eeAY3eBYzSoEij5ySY3puyw7HFoefMQkoKxn8u0SnwUHuRRim9cZpBGj2A+ylRbPVmzgk-USK1e2pKJIHnQQLiOUnJG4IdgkAA+L7pHDuBaXrwBNhG8jLbc+wfFod-NXwm8jcd6hAg6CWyRwFvny+o9kP80jqW6v3AzCVlbTf3PwsRSy+zZ3Odd9Jn5Rv7HS8-NsybhwJLyBks2053tIri9ladYn6OxPoGwwD6oCrbL43U-MijR3eYUQu6J5uUGBCU19Ys060-ZYUbM9W4+B-o302Rs5xNjKhOiOQGfUFqD+FshuMoou7+gKoB7q3+vKGaPg-+5ku+FuUkAOn+7q4BSsL+GYKMsBLS2BUkMkvQ1+QBswb+NmZW8unSX+NqNWz+SBq+5kCkEekS1KWSRAN8aw3AsmIOHajoqS3ATAGehk5IXBZmh4NIfgfB+aW8dA6oLglAgQwibwzCrUp28miCvQu+ZWfG2kwBm0TqMo4aVWuqGmJBuuZCwa++YaR+EaXQNBV0N0ngThOwA6CMhgChIQmSKhemaIGBlqcB9BJ+cuKukg3hShfhahoi7YiSThd40WZWbqZhXqoROuZBNOVhDi-hniA2rWPCuRIm+cGml23wLhGUbB4yxeHW42Tm60DUraMoTWLalA5SFhKIDUIEZ0W0ihvhjCMRLCiSraEGG06IEhrc7cawPRu2RcEx08PB3RoxlBw4pGraS8fOJsFGQumuS46oXoyu4RnE8xUxnQfgCRRxMwE2chRGNmI2IRdRlG1esc0WaBbG3ATh0BRuBux28Cne1xa+W8xedmF8Wh5G9R0cDUSsMoXxqekhz8UCvxeRo+gWMkN8xRis6BIJGJtWSsqJSCscSsgJtxumgxc2jxx46J6SomSs3ARR1JJRqW5ksJRRiJRiFyfxKJXehxXeKGz0aGb0MQmGX0OGv0-06Qhe16rg0g4mnAD6wczM+c+gnicpoApMCw72vsMpeIE+uwN2HunAwUiprMNAA8bwqQbALQbwDAS+awWwv24y0WsWsSYcCSfg6xXezxcqL4RyAsZOssc8CRLpSWlq7pbRpwyBiaM0ayfp-O2O8peyz6WujyHM-p9i9aM0K6wZ0ulqAO8pGKtKuAfg0KO6eQbO4ZeZXpIK1KmKRZoA2KUZZZEu2xGu7SuA+ZNZhZfg9KxJeQrxButJVuZcVZcsE8bxI4c8G01uS60ZKg45ysOBI5ccT6FaSceJAyA5UkGZeQ85Je1u3Ai5R8CyXaKoOBNxReJAmIrcvcAuA4Ox7SVeR5sci4kZkeBB0QJcj5BJnahgr5QcrKV5zA7gFSH5OSnpog6sAhNAzEoFvgvJ4IDUfszAIaB+LZwutMMoFRkpekYqMWcS5KkmBx34se8pjshFCexFbGBeQcsFGJiSsFasBqUFKChgDFpZFQtF+2AO+FjFkg35fqKobFVR6+nAmxt595T+5FkkRF7gwYyFEJ-FTICMmgfsEm8iMqBk3gvcqlP4jhPe74j4mkuFsFalb8FFulY+sljAt5ZRkgOwWlKlOgpl+cMqAAPBiMpTpUcHpWWNpvqU+KSAACqdSiqECNC46aD4C6pbRshzp2mGSgAADUapCuC8mgeoba5FIgyVk5pISVKVYuaVGVB53l3e9uept2QVIVuADAUUEVUVXqMVs64M8VeVyVFxvQRVuAmV6l2VhkwU+VHVUgXVFSFl55FQVkvAGJhuzlng2+KI-5SmYMnU7IX5qu4ykRs15lpV5BMwPiLhW1tlg2FGy1dgHx4RAFlA15R26u6FXc1xQ190hFeELFh1Q18wr1Fl71iGm1qEWVEYYwY1lhgkKBm4FGL1SFe+oa4lrZw5WRsw7uT4DJc192hAzMKY10YcYeEERYruZYDUsFMo75+Fd6zBr+yCm1tFyN9FPFPJnEnFse3FYcOupBV+ildWp1q1zBdiIqVJhFM1yN0l814u6+S1zIXNTx8NfuGqihW10l-BeB46B11NR1Mw2mYtK1513Ol111MNd1JID1nET18iL1VcKtHVCwFEVcul0lqtLmvRbMf1vVANJVXoLNBOoNWQ4Nvs1sKFCoaFmuBhCN-ls1XuaNyhoQsmwePw08oyoxpBgBUtvQBN+FRNmBeFn5ZNitsclN+FdFTN6cYR4RDNVFBdWo8d4erNzFJ14tpNlGfJ0tjI6GQpn02GP0eGGA2FwcaOGOtp5OjIsuJ6y5dyPCOOpIPdUOGcM5eQE9mOLAsM3ge8c2HOQ9eS2uOsDUs9fdssMxL4t48qLwk5UgLwd4RdMw8qVYR9kgVYp9hx8qjEV9Bl0gt9+9Pp1Cj91CL9GWPpvMowk5v9ngtoZ9vQ8qOUg6-AjQk5YDBC4VXwwDUg8qiNV9iNZY8Dkg8qMIfstm7gdAc8mDOg2D20jwaDUeJIpIiVj9Ug3AhpoAjQPsme72yVsDJD8qiUlDkg1DfgdDoh72KUzDd9Pp0hmwnDtD9DoA725ItDkgLDPpwA7DWQND3D+IDDoAYA-Dr9E8AApPIyI0oyo5o1I6ADIxPEmJQ7o2I5qWaHQwIxPAAISmhmOKMWOgD2OEjWMaNkOuU6NOM8OgDuWSDuPf0TyuX4jsPmO+MhMBPGNkPp7eNcPOOZ5RM2MxOhN+AzDhPKPiOgDp6EiiPJNki2PyNZO9CZOSC2NSBym3hgib0Q6T393lTU0EjmRCEvB+Bb3Q473VN9TtNY4S6UDuAABW5pZ0zTKepQoh99tTmOk5a98O-4ouPT9TJ2YIvUm0iz9CiMu9Sc8qF+bAk5uzJDlxpDZIkAhAloEMkDaTpz5zAehzlxGDggBDsAkAV9+DTAzzdzRxDzWDAAoo-W8z858+EfKgAHL8AgvyNgsgt23c5dNrNTN90bNzTkVNOPBCH6iZNVztltMIvQ5IvOo1Po51NIuG4jNotjOiFr3-j+C4vMD4srN-bNUKiLPY5EBA57rULyko6sBMD7jSCeCNBaBMADP8BDgKEaApBa2ASLPo6DrVbL3w502bCHacumAzDCXyH9BTUB3tLym86eF627FOEeHsB8C0tLPUB0XnEq7rP+gMJ0VAu9AmuGAst9ODPDPWsK62sTj2v7aOtSCQ1+2Gt7xYLeBBCQ2aCYiyUrg6sYWEinhsjBsWYrOoZFLN0fRYbfS4YYCd2R5W6OBkBMAspqAjQwjSDFoCLkC8RLm8wYxYx5KVu8RlWzDPBnrVzWKNvoQI45VMBtVbTqBaDFUNuEJVtduXY7DDuCJdvsU0AwwwiH4ukWndxaAK1I6Oj8DEDEBRUjCkbZBA6btiPbTJWp6bsvWkh5VwZ5U7C5X5UbvED+tfDnsqo9yaDUXjJECxKMDLuLwRUUWHa8uECfujiiAkTs1pX5Wkhkj5VzuuKMCLs8FCH-sfuEKMDsuvvduGRCCkgzuLBAeuAOBLSHYJnZqjCp57qXZwYuFuS2TBw8JEegCuw+TcAAPtsqhEciDEyvWLjscuMOTvoUdZBVz0cGTwbUeDb5sbtnjFvlRlvFpEe6nMf9rNXzpzb0eMd3g8bpyU6MgHomLsdHVwZQfJXIeWrMCQxLRCd45ke2wYfy55V9vI3SbZKs7Nnslro8ftV3j2f5UmfWXmeXAnljDA7Wd8TZV2dYe6m+fKxGTEiTk564codmcEfNvBbd0fghfmQLBRdkgP1+A8KWe2wu3sd+BRf4fSBaTmSuZpUZcCakgADkfbaeOVDXlX-bL7xVRHOHpXLK0gFSPX3DT5euJHYw6cdbT4Vc-XD7ZY8qIQezwU7QuVkUrkwULcXYuVMp3gtIKXTwCXpnAXhgk3Lth3u3fnyXrX2XE3I4vXY+i4x33XV3dDvZFQIrYrxAErZ4UCg8NQ0yd6y8xHtmynC6ni96mXxzk8gPYifga2bnG296SrMwQhL3wYb35AKQhure33VQaHcef323V2wcsmv3vAAn8q7688-NWShP9647uwy8T3NA-XL8r2P6X3bKVQRPx4u+M2Kn6m1PQBBNEuyNkB5EFPMmJc0P7isPuPlhNTmPjAJswOMoQhjPOczPGPbPf7Vn1Plh+Bgvz1InD9oPzEYGMQGvZ8wOY+eSrP0y5veOfErXK6QvIn79RvpvNvCveODvevJtInSP4rqPH3W5Rv6XjvhF8PvQiPoryP736P1vWPv7HPePdlT92nDTYfNLcvtv6HABuNN+WQmnysfPWRKMpPk5jnlPn50vV+idsYb+dPbNPNW8Ae9gHPNbKgzEIPAmVcnfNHiNRPYdj2vuSJKEgeU9OHQ5mzrfg31hkuhlPfLbqUKo8-qXffr6qNg-ppMPeQE-kaDpvNVQXYI0pAlALazcbAHAv5f3S5zfhfV-Inq3E0OHBgCvB-LkI02W96S5VcO-OPxP41OFcIdwKwBUi9wSqU7GiJRT-BLlmInbCATgRw5ADS8N5WAcrEQEgDbYX-D2GgK0DT0Kg2A5AegXwEYDp+NARcEQNwE0AiBLAFwCZRQFQ8eKS5FuHKDoGClmaOHfVqaxYHrkGK0A9LtFiIFgDR2cAqSGPiEqN9oyPrRGFW0BRr9YKJXcOmTgERMAkg7AbwNIGPBfI7AS2K-lLV3y3oi+ouRosAK0DNFjBN5HliZVkE8Vgae1ZBEQJeq7MEiWXBQfziUEqC2Aag-vqwMLoJEdgbQXgBUioG0lyBFdQSIAV3wd9ceu1ZisxH8EVJu+uPPwHENY5jBqeoQ0AJkVFx19eANg1gsxWSH3p6ebXfQLEAB72B+cHAGBjwToC9hKhEDM+HQDWgkCCecaGoQJzqGNAGh-IJEK12N4ew2h4fKhoe3UAlCyhBrDodUJGGLRKI2QaFIMKOa9AJhJsRoQUkjysBIYrMaHEsNmF+AlhqgJoezRY5tDQeewxoT0N8gp8zacwpwkiFELrCHAmw5gNsNOHdCputoW4Zk3mijDUI0KVYZHi+HTDcABCL2GMzZZbR5SQIwQHzhaQLQloAI0oeizBF3AcOkI0gNCPhHdwSh-3ZWlMIq4CYXCrXe4fy30BbCiw9QwwKLjNq4jHWHwzPKiPRG4jMR0w2pLCMvT-lRKBrPUCXlbhqALMLAlxNOh4GQk+o9gwkFQIsEk0WBQlZiqKL3AEQXQoPDgYYH5GCB6BzNXoVCIXxMBMGGkIIYQLMGFdQAAotUYXSKFqRiU2owQBpDUi7DVR3g4DuzUJoidcA-8NYHlVB6kgXRQIN0a1yRRbIbRRo4wAVQX6E0+KFw0GLenAzBi1atPMSlyNgjEgLMAY40faJp4Ox0uUY12Gl0MoCiBO5orUTqKcqLhwM8w20IuFzGlivg+YxQJaPUhOUwMxgSsSrirgVjvq7kBijT09Gui9mRQ66mG0tYYjVSzQ5iDQ1pHXQ+Y--BIHoCbS2YXAD-dTPOOcB+BGeAYxnkKM6J9RCxNKcUCbhlDViXAhY7gCuLtGLjqAnrBYbaDXHWD2aW423Gey9HeA9moPAkRcL7FyABxjI28avAZyTjLQL-ZyHEQAzEoTRDo5ivCJizAihCNBAUVFQzwXFEgbwZtD4VPGeIYJQUd8GiIXwgSH2NVOsbZlf6AT9x2E0Nk1A250sI6kMGUAAAZzAkeK0FFDBQjBm4EPcqOQEMB2wmJbmIgJRMJBkSuJiMNIMlS5DHRkEfEtoNxIcA4dos9E-ROAIXIjtrwMgTidzyB4sAiIw49LqJzabpc+JKkvRGxJdooC2R4yWQLJlklCDV41A8YExOPB05lJLEkaGxMwq1VGJ3gMobNlYnsSZIQcEYcwCihHBi0n-KWj4n0FX9RcCwaSS5JQFeDdJDky1mxNVquZIhxPcKSn18lMB-JngYtAkL-5Njr6sgPyQFJSGJ9EptPHIWzWYrpTMpxaMiZOI4DlDOgmSYHsvEkhyTsJ60HyQVIylFTQJcYW-DekIR3pcCmEMGgcC2QsDy60QzYCjFrwMAbBCdXPlNNmCNFTBSA-dBKM-LYT5p00uwQ4PlGHh3qCwF0cWHeo7AqpRUvUe8XcDu1ZgVgEiJkPJoxoO+IgJwShC6nVT9uQ0jjoTDekMBCpWU4qeXV8FvRvKc0lghVOyK-T-pgUv7kUKVEsAi4cMYeLiEEGKSfw7U4UZtFFGgBxRNAyUQpNxBbSUQWEewa4xzBphdq5+QgBlVrG6iDRM1cgeeMuLozUxaravotL0GDSfw1OFXDYHJD8zzIRgtaatPQHUCM6WnFmdKJ2mxxSZco1MAdN8qLAaZh4ugW2N6CXTxMjMrACRB1mtgeKouPyByM4EEzhBKNKWWEI5mbh6pnhFQPAhZlSieKasPmQLMeAowux3onsezOEjBTkESo1GYTMopEzWa4gvIEQGVlWinKvAXsLwGQjrjmKTohyA+J9G1ck5T4i4X6LGBRy2mgoUHrBUJEDSmI0KaMTt3hlcikZrcFGVnP8Cxz9Z4YguXwDWiKijZJsMuVdQrmIgY5bTXsDwNUZgB+Z5IfObP0LkiAsx6YwyjHIE5hzuqtMosdYijlvDZgxYwUHlN6BTyFQh4sDNcIvGzAwMy8tWRmA7Gtd3Zj47Dhq1nKuT2U8Bf7uWnuSpo94wUMiduQqAih8E9AExLVMwGBdrJa4CgUpLcnZYP5zQljlYhVC1Sk+V0Gbp4H8mNAT42pWkK1xqTWIwFk4lHK4jInfy4Kx4zCYoGXEPdxZvU2nH1HwTKkL5MoUyWHHMnGgVArADBaMQahrztxDOYXmWAYWHisFwE-eRtFfkbZiFPhWqSvNmBXi2B7NBhXeOdHdixOMYl8b3ynxFsHuGC1ou0V4UuB+FCRN8cfxcAYjRF34k3H8LDagBAqAACR+ZMAAASiFAAAyPzZAISCwpvk5AiQC+YkiImpily9AZgMAK4BASF8AnXaNQO-RnwyJzizUYoBp5+Kjgw2JiYkl-nhLRgTi24c0KMUmLzFVi8ADhz8WeLOAgSqJd4tCVLlwJzrKVhmD8UYjMlv6TkP+n3ELzHgpIMiYlHhG0h5hJSxkVpIGRMT6luIrbkUJRxBLclhADGWB1xEQTBAUEwCGRNEIXFUFF8jBdpOwX9LUx8w3CY4t6UuKOxvY2Vm5P65Hi8FqyvOvCPlLgTURoyzYE6Mzyi4Cls6cYWSM6EUj6awA-CQBJOzbKHAzLEJfMoYqVixxPSnJewqwmpjDmVNakXDNkVbL+uIEmEViIaJ9Q9g4zQkLtGrij9nl13YKF8TkUvLsaa7BnrCrlkHg1goPVuAvWYCgqHu4K-Za1xhVEAqYAkyfsd0BWsiihoMTJcaAAz-dquDYoBPTGDi3p2Vfw7OMf1kAPLD+8UlwJkrhKPL1460XfEypRkoThpMwYDE0BlBlK-0EKWVTYIahbsbsECFCRCsWiotuczS2EfKBW4ETnAHS2ERipmABA9opwSeKauoDmqShgZMsMxBQl+Axxmq0yWeB1X7LRiD08PI2QqBqB2gzAPiTy1FWAKNxazN5TKBfm-gNstUmSFKqWCcBmVVSoOmMSCAgZCQyqipRCiqXqqiFCgL1RfN1X6R3qhqkocaraXeBHVi0S1b0GtXVral7ShpeH2YhkT3VYjT1RAj4m+qc+3shvl3Wf6lr2ggqt-vAllVt9plU60HiOvQWyrWuI6lCWKqFVU4n+5-cdQuPtVU51owagVTqvDUprV1E69dVGvRD5x-xa6nokkqYAABBcAOAB+amLAqkAAAPIgs0lKIW9Q+qfUvr31n6vcelzdVZAxGl6rdcsxEmxxSQLIU+YGpoDzqmJtCvdfytDWcSj136WhTJAajgaglMoW9SkusUyQCNli6xUBsMqdrQNohXDVEuWLIIYNdaBlTYWhoigBmsOePNiLjQcaUR6dVjdNCJ6rtS0r1bjS6i3gpE+NZQX-oJpmnWIRN8G4OEGxyhsaKcHG6dQdTk1vl06Sm-japuaE5S32rqVeIwmUDKayAUm+Ui+WXgGat4VoTQMMhNhbLdN7NfTZONY2UAaFEmszaSupHTqg2nm9TP5p8ohi9luI1rm5poXibqApmmrIFuqWoqtlBBfzVSui1dBaIlxOlViKwRNrJ47AXKvFoe6TlwtZ6yPEpvc2oSTN00CihlsWj-dFNFWinNpsk0CdpF9tIkY8NUJVDbld4fLS8sCJWpGtZAOkvVrM2iCQtrItLekzEalaItRm4RMNpqwDbf8E29LNVq0gbxstC3FFSCoK27CTNZWhluMls3Z48c3m1kfkqGVHKU8NBU5drK+AscetvXXggwDs0Wk0Vj2i3gIozDqKPxRqjscUAEgL9vtmixkQxW1lkQdgLhZbVIFW3rbAgZIJbnlu23oqZCz24ZAdpEpvBAgt-YnkuVhJr8I2UbM5LdUDpFC-eKPNHrSSVz2iy1NoFGIcsglXaD5qdZRqTC4CY7AUTkNwFINIzfUCuqW+0Z9oPJQ96GasvvgOCZmXFQo4UH3NBUEDEVn6n2NqmDoB2GQydMfJWFtwM5bQtA-Y4Hb9trndZIdpMGHY9Gy1q6A+huRHasVSBvbLmoAc3RTpEG0SGoMIH9NAwgYygAAnOYB0SqQYGZa7IBoPGTu6w0Qy5jJ7BkIZrd8OIuVQtOEhYQaABkKiRmsWF+6IG3AOrnV2ChoAc9DagnItKTpSAQ9n0tQDdJmAh6y1LASGEyNKG1Ix8NAFKCWXBlV0i9ae0PbCKr1YwKKruubblBgYoKoFEDWBeJmnghrTtkK5oattN1w7J4g+mBdKQnJbbrdRKnbcEDn3D7pIXdOPioC2WsBrVg4BwMzFbi3MoVm0PYDKBV4vY3ALPN3uzyA7MdAOA0HKqYC6XEzNwZKaQEfoua8dCQCqb0XfAzXF7SQyUFKNvtAD9dUYj+oIMHjYZmBi5revvenvu69a9g2oDIYnTkhYQdVx-U-rZnP48FUDGaxDW5LHUrrl1O6xRX1zL1YQP9X+gPD-v5T-7XIKehA+AwqTAGQDIeHdcEHwNsAYDIB9KOgYL0KQa+jwIA5wc+wQHbc20CQ8lDz2SAK9GI85UMuOWAQbtYuZA49v3mc6GE0g5WHsBAnurxdb0MRpRjeEPa+u88HXe+L11VqXCoXSoiHI4rp0QgdAKKFjD32BBbJ0Ki-XgtV7X71eP3e-Z4aCDP7X9ydEAvhR6IWGjxVh3uLroD32G6NMaA6rBSC0xjSQkUUVHWJMECj+AZkEiA7kA6JdbdD+oZNzsBQGHXqaRsfELpMOiEzDOsfRT+sfXPrX1H6mxeONGC0SaKDighihOCVzKBlzFdxf4q8VVLQeGSlNebx3WDHiUYSuQHPhXADH0lixiJRBoCLykWjf69o5+tWNnhMlMx8VaKD6XylK1i0B-d+nKUKhKlbysfHauON1rYgH6bfaUbq7zjuACwgADpYAF1ly-nDgdwDtAlokO2hvEwRz0Qs9hkWg1dTH5YBXjWy94wRM+NHMfjfxhqa4BP5AnyuRgQyvgEHBj5TgzEfE6AAABe1LUAD8ZmDOtMTMWYE3UdODkmIT7kKE6SBhOMAeodEPAC4dFDuGnw7x-4ybEBP0nFGeXH0vkaNK5ViAuVPZiYDq5ggbACJ+RQKYxPCmcTopsHhKerRSmZTW3Vk+lCAA')">let THE_ASSERTIONS = null;

function fetch_assertions(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_assertions(pattern)
        : get_all_assertions;
}
function get_all_assertions() {
    return THE_ASSERTIONS;
}
function get_indexed_assertions(pattern) {
    return get_stream(index_key_of(pattern), "assertion-stream");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p38' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Get-stream</kbd></span>
	<span style="color:blue">The function <kbd>get_stream</kbd>
	</span>
      
      looks up a stream in the table and returns an empty stream if nothing is
      stored there.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (get-stream key1 key2)
  (let ((s (get key1 key2)))
    (if s s the-empty-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPEuouFEPOIXCqGIfRcgUQh6GIOhKG4SbKyEoKUgYEEtAoLJRvGmopqmFYFOoFaflw4b1omrblOaRa6HIBQjsUDbJsobb5OBfAMSxBhDF8BQWHwBdDqMT7voXfAZDSK6brGk6Hpmug5rO0BFoqZQ2HIMr6BG27IcemYWlPBhEeR1G6HRiHNumloYaxpp4dSC1qDEOhrqm4m7tO51SgGn5afpxmwWO0nodh51ztSN5uNRTpmcx5T2dx0W9ucCW+fugXKdWamlqulhhHIBhiAAD0IQI3GcSXSdV2JSgS4gGHqtHka+7WGHXChrpWwxTfu6x8L06Z7a1nXvuEXwPa2lW4cW4x2km5RwZZh7pZxn5I9rRxhuT6PrY+IaefdpXQ-JwXFWFhh2A8LwQ-jtnE4XUvlHLvOydm82YmLkT3uYLQeYr5v9Orhg26zzv7orsOhfVjRCBBblUW7hOJ7YYOObPIb9Ftxh9cN4hjbRhuvYLr3jN90EGGBhhDvdlGxF1g2jcMBru5VnvTNIcyR9AGy7Ic5zqV8KbyD1ryPkl4dC0DVCKa9BCEEnsHZE3BL5hCogORahtqAKHlpWa2a9V4OEmFRWIQV564hQWgmgGCbaXBnrAwQpAxBhDDBRfUSCRYY3KOQvqaNkS4KgjEd8W8MjFWASvNeJd8BB2wXQA+PtYz6y0CIXWMMDz0C7ofKRsRhHOzBm7cRkjVGrngd7XRzphGzUUQzYenDHz4PjIGRabc-pG34T3C2cRrGMEOgwN4siwQOLYJXWMzQxwanoc+aMhozLBHEVZWy9knIuAgZQXwJBAGQOgTVHMZxeoFmBMfU+599Ab0MCrPBLiEiBhuNiS+gIAB81cQHDUvirGaBs6EZKwBApeHj6BiwVmtDG-N954IWqkSgpB+CqEXoNLQ6MRDy3oD8Te3Fp6x0xo-YyMsawrzluLBclI2gp15n0z2o8x6CKmVsnpDBOgrUuqQ5ZZsVbhUyZxDp6dU5GEoAoSghSBlQSYbrMaCT3p7Izu8z5ExilWNKaqcC44AohPhsKfQi1kYfHbtnYeHwwVcMPkFU5w0qikFRYPYgXdMVfK9k3OFkYXwrkbASolHyZyHUZIfPFq8DwMvRUzMlYROCUpXH8uxDF2WEpnGSs+DFsWxiCvSsVjKJVnmIExQoDDQnStcX3V5Md9AqKsZyoeU13Y8opRTZV6SVWtIgduGcp8HBcw1PoS610EFQSCuU-QDBqnv0hHa429Nahwm4E6reaZwEUI8oYbkjB8D8DxiYAmWV3jdzwX8rVdzPZCQpPQKkPLGRprRQar53czUxCGf8zQuI02gvJbq3u6RMi1rWFAyagxI1CBPrG-GKNE3u1lQWklGLGUTAMaott0bO3xu7aid2tbVxWyBVHN5Rs5VcqLcayYQEczwu4ZChMCNJ2E1nrGXaO4u2E3egDH63cnGgGaPWtgAVLXhvMB02u9dDlTSKVBRsgdfCMjfSIsRu8mKNm7HqPNUaO0zjPT2-Qv7N08OzQIX1d9-WhEZNak+IMUN0wdWBlpcYoW1JXr+ppsjhDyMrKYru+GR2GJ9jhtD3zZ30YaE3UNTz+q4wHh3AdTMG5fvJG6241shWKp1WhNlbcN63xNrvR+jy2nPpcB0+1XcBM-PJI2ZlQI2Vqfugq2s19N7byJvJ-eTF7UXq+j9Qz9S-VmKmtZwGD8qwMQeUJjVh1FPtNxjBmeGmm54Ksx9Gzv1hX+fKqFlz8mVxssi9ldxMmt53x3h+qG+86MxH5RFOqynGrNSUFAOAiBkDoG6sSTj5hkV7Tcr0kmntBkaourwL6ZBk2gAAD6deMhHEZ1QxAde6711I30fr9DM+l8Iw2-QtcyB1mIM3nSLUCbUYtGSrW1dWnZ5NERCieaIw3Hzyn1bMDEBICj1rq07D6PcMQmay1YTJeEAAZC93o-RW2MvCOJdkt2zvHfYckVIwbdsHb3cM8g53ahLVBG-cEwawFKaBz-MLWHQbXTB4RhMcx9A3l3hx5HWT536e5f1ugYgmkmdSxIprRGrvglJzpbgHxSADap7J+gHGIGLSZ1j3dNjIfQ8u3DjTjOHM8yRxApnzmr27zpzjz7eOkxDCV-jqbG7HnS4lwZpLN8UtyamwrwMuObzq4a1tfkYaUf7qRlOk2z3jfA7uxd2HO4yVWWNEIaDB7E3wi6z12bQvXdXY9+-asbPxRxrt4Tf3w3zgQIS4waLV7HeviCqblXme7TPc1xtk7Se7PGc50TNPywM9q5V0Rb7VuqvO79o7ZLpnq3zWa8HmHofGVWQbzrJvNOpcnZ707btrsyBGu+1RYT2IU9AxBsG7g2f-w1+54PzWjtf0t8nxqxfyuc-L8B1k2xrj+2kon+ntvLuO9w7D+CHjq6B8o+k-r5vZeBcuB37ng-nFFrnLmUvz5D2F+Z2Ie1+Xe78v+l0C4fezgcegey27eIu7uYB4IEBScvGkuK+KOqBC4Cy1ASym+5+9Ox8gQMg12oAeImBWS2BnSRYi6YIr+paGqmGJBZBpIWuJ21BVyZANy1AGCBB5eTBxBlQZBOghOPOqQVaDBJSEOl+iB9ByBaaD+xOImC6Kc2qxqW+RBO44IihLOQ6lBnE+axKOcBBsQAhRGH+Ne7BKOfaxhg6WKmhiuIwxq1hWSy6J+904+DhhBCY1eWKrh3+qQJKFaqhIKGhPhguaQGQ-+5KARHkyK6wK6ha1aLq5hMh96u+MREwX+8Ro2XI5cUh0hkRwBV+SBnyVkb6ShnEAGG+hRFeIwfhD0YhJ2vOUCU8ia-Bb+p2UOIBZRZMjObReBfuBhHkxiz+NOnRjBFhlee+ABIx5gl8xeBu2akxRR7+MxWQjReeuWsg+WTU8gRWbUpWnU3UOgdep2oyw0esgBRGi0Y2HAQg+g1xoAayoAACv2IytYLxfoz8r8esFRL0DxKmBsJgWgwgAQJgxAvBtQjQSOROnE86WCGio+hK3ApGmm2OgYDOx0rCa84IWWioyJkgY+aJoiPQOW8JuRnSEMuJymq8NxMhJRchq8nuLCcieJ8xcSymw+LsxJhK9JTu2SqKLBMg3AFBcR5gwiG+MgDJWJQhpBopoAbB+eNh3JJi8gjmYIMpgpzBwhipohOR1wKhYmtY0yXispaIcOt+x+h0+JKg9A5pEpzuJpw0h0Fp3RwubuYIh0VkLpVRHkLpNBXi+gbpgpO+bpzRKO0cXwd8FOlG1Gw8QWrqGqN4FJECfacgYM+SFMYZSuaZJ20Z+AxgJcMCvJX6+2mJLgWEmZ10Hm5wjYlAt2wRgK6pSi90jI96JwlJRpdwNZacl6eo9EiqqRlZPAG4-0YW3y58nJ+xYMsueoq8vJzwFZXRuOfZM5fZdmvaS5kQK5UxvhKu65hpwJ5G8ZGppKA5U5nQ3yLA6w1sSZ4OWJk0YgjZE5gMCCv2HAFOr5p4SwfopQWEiJvJb5P0V5eoe8t5xZTcxkzQX5L5qgIF4FoAAAPMCM+T+deTer3OEpuOCAACovSgA3B0B-qXytaeFNiDEwnvygAADU3xo65OYgQowcM+CC9Fdp4IdFDFUirOA2LFIZmFWFvxES+FhFMgxAjk1CYg5FhqlFk81A1FXF9FLGhQfFFOAlbF4QHFVk3FqlsQ6lzFMgwcv5te3ZaIL00k85O2M+gmSIBZMMS0L02ID5KwECY6iFYFI5foZaGRWl+l7Mjl6I2I+lhQhZsZV8rZmp2Zc0WFKkqOgMI4H2zhl5cVT0uOploVt61IUamRnle8N4plCGrEAqiKs0SVjZ95AKuIUVPMmaKwOFiFUSdA305QoAiOxVKq26h8dKvJjIGZwF-K6qRGHlm5bFi5YMOihim5eS65nV5qC1+5gYs0TlRAMVkZWSIWA5NlA5Q5dlaiDllYq1LlOZO6eYJ2HlbFQ53lzovl0R+Vs6gVR1wVEmUi4VA2Z5bZTM7Gs6zQM+SVuO-lPspQ8EGV15Q5aVsQf1uVREqVNodoRVJaoAOopVBg5VHxTZ1Vn1mp9V0wjVtl78tkrVIg7VYMySTOaS2o3VsYvVZNQIA1WZQ1PlGqo1vJ8525k1BJBEM1DEHN10liFqgtXRK1L1FJ0gTUexhWrUJWHU5WGA5xyCbOJC0JbCBY2ijhxRPRpRWpDgVkxC6CxA-p5g+ttyDAqCk8fGHcJsnCGt6xDRh5OChOhUStBtqt06GGcO6YDOcwdpsQcwq4U1hQDOHIvtMQHIAdWWDOGEodY5B4EdXtVp1qMd1q8dR82hc2bAdpGdzogdsQDO3Ehgk85AvgdpBdRdf6ioudMQDOOFodOFsYVdQpYI4INwjZlyLAhg+Jrdqg7djUKwjdDOtFMdsQTx3AvgP2NSAC9FFdA9Vpnkw9MQo9oA49XqACPkM9kdVpga0wS9K9AIk9oAkIy9MQs92hwAC9Bg-xy9E9bxoAYAG9Cd2hAApBfbvTfQAk-cfaAKfc3eJMPW-avUlePZvdoQAISSj-1X170H3gNAjAOP3N3IWv1QPv0oWxDwNp2IMAgL0AP7233IVAjX0gPN1VLINj2oM1IxAYMNAM5VLYPcBFC4MH10NUM-0QigMX232FB4MxCgOxDXHpgFRIY8Au2m3CJsWAgrjupzDcAm0q1rwtLO2oKu3CL4AsAABWoJjUAIUjGg4iXqUdoj0JdpO+FijdRQcjZCCjaYkUwjlj1sXuclQIV2DOq2wgdpbj5jrGTdEIkAdA3oe0JdDDfjATCSXjrGDO3dDAsAkAodUTMT4T9GkTVAPdAAojHVE6k4k4YgzgAHLkC5MX35O5OQ0ERCPvACD2M0FZxOYSM6MrDurCh4Nrl7xVOOOxG2MVMiPKOm3tNbmSMNN6NNM1KmMXjdPK1kLtMtLmUpILxOxGNWN0lUKXzWrumEJm2MBqikALwfXqPkDViRps6aCvVXhVPm0cA8wdGcJc3TArOggIhFBPoo7ThvS1XDzukyItrY3KJoQTwtr6BVPiOXncBZXjOu19NaU3NFB-MiAAsLOYLclqOaOmDMaGJtNIbe5bnZOxCVXlotkKLnmeyKYcACC4tiBfC3lQEEtfXFQvOEDfPvNdl5ZA4FYHHS3tRlYYDy0zOeIUCmAMBRwfDlQ3CkDlwR7UC9iCktZtabjhkowSt-AborizAbF5XiskTaXvwMDKXUhMUCVyuR6KuTArjNAGsKscC14QKjQ3BAoaJgnvJs4U43VrGCDKDKCtYZArxGBwJus32NT0X6DkButJXghcWlChvZWcXcVBvKDYuKiht6GOu0IzkODOzGAOvs7SXfKLGpsozGDPDQSPkuCGXcXggQjcXWs6zGB2trbuo5t0BptcBZu4IcXWDghOnSiNtMBkAKCBs0LukZ19v3bKvvz3q6QmTqxXaXyvYvbKRIog73U3jTvTadbJWDBLv9vhCwPvzFDwgjuq4jDTshu7uvG8tBsziCuxQivlzTswUGCtEKXTwmxHtvYqIXRZljHU7PubtOLhvlv0W5uErWwrS9u47wJDsbp6WrhcU6sz7o6g6fsl4QeasqIwfcWAfFkgcHvrsq7gfLstuodtt3sYfDSSSgh2kNKdt5vAc9vGsrDFxYS3s7RUdAcQjR3cBXZgf9vw1ZDLvcAkfdukCCQmvqyGUQcjvggADkOrlSHF0nInhlAl07HbAnUcpAwcanK9yZtxC78210Mr2H+gmncbsYDOQg7jVkwQnFDkzO78FoxYnFoyHA8IdHT0JHhnxnPHRntY6ne8AnIH5sASDb1HHnPnwDf43nZA4XqnYXG1nEezBzygRzTKDE8zHgKW+SBsA7NMgxT7aMG85sJ6zd88QxqIdpiHyxRMBXULhQ7qCX6wSX1AmgRehs6XbgcCNC7sBXrn8V77mOBXI7DOu7LO21p8oO3XInG8x5oAmnF6f8esaXMcbgmXhAmafyJXeXVXWXuNdK3J-1QIK4cHY3H7ap4xJs3XZqztbXxgFG8C8Uejs3H083i3KWHXtCK3AtLrQLYWIb0dI7WEuOrXS3N3lynXe8O+QPKWMO8CSr9HEtQO85IbSd-38gwP0PnXIn33iVv24I9XhzTXKXiq472M1Ze3u1tadX+zDXyXLXqPr3WbH3PXVMpPCPBNkPbg6PybVKlEfy4323EKQUQ3dpR3c+jN233PNKwkGqU35I5w1uWSCSJAH3UrqQWEA3zHuO6vE7jVG8zVMS380B5givhtM5ninhyv2nMhavWXI7qZNvcPOvBsevX8wJX75gZvhqcJ2uWksUlA+AJc1sAwFQgwBXgpxvyvOP9n1UHbQflyHP2k5UG+oflvJuSuHvRaF3TzyhdwLA1Q3EFOglhrS4bmiq7pWE6ryEJf54HbufMycZFfjwtf+f92uZIwTfA2M57f9fwqXfLfKfLgN4vfnfefH11QNswFDfTb65gpbYngk-3AR5KpWSnzsL8-VfU-O5-fsdFkKhvfhf5rTbbpC-S503i0EeFvRbHpvRYIuvO7XvLRFT3uErUyt-fZ-HLVMaciEeDA6gIgHApAmaK1kQEXhZcIUMQP5Of265gCs0XTXvv+hH5xkx+fZFbsf0mpI1RycA37G40erShiaFGb-r-2ED-8UBs5fmr9XtKEBg4vfHbEP3mrkR4Ufya3qt1xpS8iMWEXIJQMM7dduAHA4OHb2YF0Dka1NZmkRhl5ZhZel-XgR92m6s5+gCgS5M2jkQVBkYvgNbIYDZDKDi6MOQwKSBV5RF5s6gwrlxEjBaCKMOgp4CJwB5K5DBNXEen6xGRyCFBJAJQSYNUFfZAgV0BCEYAoK2DvGRQTQW4PeikgZy1QFaA8TIQBC1BGg1wdoN0Fb9B2hgkdpELMHEgLBcPKwc4R8G1ongXqUIWQHCHWxkh+gZIUEKeC+C-QOQvBrIM8FEQKCZldyg4M8EyBkYHyIZrrWpDulmhVAWRO3A8G9tqh8gxpu0OyJL9OIXQygD0IGEOs5B2XfQUvj6FGD70InPIds36ARCYhgwQ+IDUaGCQaulQmpOMMmE7DphNQlXAMO2LnEV+FGIUNU1BDDw1+2sMmNP2-TCNMBoAagUgIn7ytxQqA-mkxCCiYCwIwYccCOyuH78fhXEKgL8L5CWDuh3BBgK3X4jUC-oQ-bgI8OhFxcPIvEa5AiNCgIVeIaIqEaQLrBb8+yIbGQEmFqBcUJOFIvYFSMm7tAJYBIyEQ9B4pFBSgZImIMsNSDn9eI4QUEXrFPI3DKQdwpmMyPRHEjAu6sLCHyNABvZpR45R4UYOxHwjERCFG8HyPKGKgbwSorUehDhFJBcRfEBCoDyoAmd6MuOXUaC25pLkpR4IWkRwHcYyCBsJLbKFMOeJb8sIV9fYe1WiKYj3efQOuJckYBR8Z4oY5wNwFm7MjZuzwrTMIzVH9w+EviRkCqMNFqjIu6nYfGTHDH0AQWfg1cDGJP6X8ExPidKOpAdH0jmOSwuHhFVdHJ5jhJYpMQ9Gm68BiyeffWACzNF6CxOpopoqfxlALciQwMTsayJeFdNugjIXscVTLTn9ug4QcNru2yrdBiWkgUAHhQAASqTBgAAEFwA4AVJgACU8KkAAAPK5NkAQITsucQkrGi4+Pve+KmLoAYjBSrY62O2L1gjjrkRgtKBswqB6xoe8fadJ+O4JSifxnQBcDmPeAdswJmQO8cWHvjukNxW43cfuKPGnjzx0EyQL+P1gAT7xKxR8e6R-FTD3xDAIcaQQIlWRIJnkAYffxsJ584JCffCQaKfGSjBSAwm2C0PdS6pHhrWapCxjUAmAvAwYhiTPB4mWQxyEw7ghiN8E3i1AIkh8cxIxGE4SWcQDIA40-4rRGQAABi7IQIagjkfuGpKcHtFYo1AQYA9iMm5AHAmkoEE53UnWTtA9FPEP8I1R2TOkDk0gB23nT6SJURfV0t8Mr5uSNuiaM2pBEv5YRwQw3bftkCMnBTTJ4JCLpPwuEzNAgwaXyQf1SDVAYpFrPBO+Fim5cQpZkjspJUMkcBjJpXcqGZOSjkh4kgQa2I5E6Dlxk+K4GcSjGV6HxLYKhHyZPxIFBSCp8Um9Ax3HJa8q4WEBwfVMalcDtueosOnVIYANS2A5cfgbDx+ItADYj6UcuNPmmTS7J-olwBUGcGhAT4W3QgPRD8nPioItU4gBNMWn5IWBCKe9jyLakPhoBgoMqoyKyBr8XpZ1RUEFE+JKpD4qqV6UaFeHwC6+V8T4YzQxHoDpgAIpKtgNUQcjryxAUKs0C2kLTy4yInvp9wzBYBoIQMn6aOWQTDT+RBEUoOjMmma9cE3WdkHNIxl5UHw5AikVGCRpsRL+FM26QV2m5XCzaIMcaMbD+DgjK+p4C6XGNgEICxAYM5vhs3H5Zk1+i-N6QYDgHbtPG0AoKA4BYpGikREsmgRLL3jWiigIsyUUcDZFAyIBbU08FwkMR4BIQts2lK8IllSzR+jAZAUbIVmwyNUysoEeqFqAdTpQms9MfPwNkxAsZ4mVEXjOgioR1yh8UyIKP+Zr83ZRYrqtSn+ADgDpLaVIGjCNnyzbRu5G2XbJWBBR7RlIp0bL2EGsCEwYIhOZ0GhkSD5enEDWcZS1n4i9wv4WMaOTJE48Kx7jGkSXOJ5Uw9kTI1uUYL7LcjfJALCgmyJKBrShRfMosnfEFmEBW5GIsebyN0ECjZ5TseedQEXm-gl5z4u+mAFtmQgx5MoyefKOJkHgAWpIEdo3NxDpiNRWQwxBqNJAzTCgd85uYZyXnmifYgPV+cHMVBzUROxcukaXPrlUk7J7yVdLMKZJekoFhaX0mpKNouA3gSMVsSbF2mt8cOdoXaTOTckb5MF8Q3TpsSrwq5cFRgszmwAam+BhklxPdnDx3y0Q1JyU6XG0VxA6xIFdkyMWFyzHXJuFUXWWfzVynCMkYE2UqRKBcRpTJ+mUomLtJAzCMP5pYllKuA-npioxik4OagrPATFRF7aXaW-IaCFi0Bl-RRU2PJF9yR21Y7XpMmtiadsp1sDfLosYD6LZ0tYyQG6OOGmKaQviMyipKQkMADx1kAADKpMLxvozILpJOyySe6dk92I+NFmjlXx2Ej8QRJHY-j3xMOWJcBKSCgSsJ4E8Re7BnIwSFwWSxCZuICXBLQlmEmcBkooxZKCJbEnYU4P+a6oiJxwkiWROyUSIDFRQW-GpOok7D4QvgtpX0IhBRS+lHAAZX0Jc7Td1m9SxSaxK37sTxhXEq8HZK9QsZ1mHCtSfYtkYLL1yMkyQHJPmWSSkgSk50WNDKl2L1FpyliWNR2HulllnEvRiuE7k1JD47EmFhRiKGzpvQt3QCffBuV8LJRWon0XMrUnuwgVUkyUeY3uULDuZNigVmFwzE9A4VMw4RV01aDIhGQaUPHIkmGied34eKJFVF0ppLUXAWKhwPDJhQagR2d8S5bYuRWadoRvQmYSJ0pWTYpo5vQlWiquh7T1Y748UCONmE9ilcfIldurHP5Tj+VHwYIIHwBXZQx+74wNgqtpy-JEUi0QVYLMglSoQZ44vwIyA6XlhhxOqpGo2HdYvwDMkE1lVdAGZSIRlcgnEJRNVVTK5BZKixvwCdV2cXVNEmrox1VXcAfRFq1KTOGtXnDiqBMuuTM1lWBBxFMs5VYQrFlUhHxjILRegrRhyLyQfyLVY8AIn3TGwE4oEEatxDDiCJZqkRYkBDVxqBhdqn2A6quheqJlxAV1VdHdWFAiojauyS2oUD4lD4WELhQYBvrBqDMbk8NRLzVTpJwFCxYQHUqMnBB5JaMHVXoMgVLqR2sfFdaqqlGx9IJKqvCRIhj4zqF1RMJdVBBjXyq918agcbuvglc55FXTH6P8r3XaM1x5SlCYeOPFnjwATEfxW+rQmfqUx45SCYGpvoPqj1BGLouCAxDttRhHkddTssTVqU-esatyUqqvWZrXgwjUDbEsZD+LAlISr9eSFw2VKwl-atScBq9RYaIV04jVJBq8DQap1zuZsriDeDqM6SBSWYRkXY0ds+0LGihCt2db1EQ+zSPBVvBnC8aUQXXYTWHxVxcaYN1WIIljQLqsagc-GjjfdVk0J4olHKaDCkGU2mBVNWC1TR23cJKaKEkmwgAJpTIybhNHbGoGICGgUY7F7GwzRpvOIsb8AWU8TSixZXnC9BTGmgnpoCz0BAtf5J6LyoUAid3NWU9wl5qLSxbeUqlYlXYp43Ba+N8Wg+GRGmps0x1rSDtYzhECcUktYXO0lFv3XnElNHmomKZok0+aHlfmxTbprpLVaUWiw6IssK5WrD9mhQjYScz9BFaouIqVFM1rBDDbeUxIm1bsLxkNAfRFW6LaJrxiNaJNxQxbS1pQiqJwttePLVZysj9b1OpdXTZVpsZ6TiA9mqZPonG2+allTSlZS8qvBvKptKwQdrtuDh2aHNJK9TkOwS35i1KLo9xfWNGVzVbAmW9kdSF+1+9-tjq6OZHOyr3o1tRQDbY8jy02dCtiKzTnaVe1aAjtBZf8e6xf6gCt+bKW-mSwpY-A3mW0abnj0a7Nc-o52jbZOCChPKqAqyoxH1X3rGQcJuO4aJpGYBTRn+w0LKlx2TbQielIZBfhPWtGNVKweY77R-H15VkqAbmUgMkmUoRzgduPKnvj2p0MQXOv7UHRTjrETaJqZA1abDuMgI6MkeWynTT1tI7bUdxW7gFboJ52YbGjYG4AtzLoqDGQAAThOCJ4eIKgw3c6z92F0A97ErbO8iDT3Tee91D4LqqfApyHpjqJKlpPumFAPdxdfQJJ0k5WQ0AuettVugT2EzYg6e4ONsJxn+D-dxdCbWbRWgnD5B1ePeC4B8jikVwbMtPZXsrRNLw93yN3QtpD3F1+VnQahbQtNK4Y5VtWhYYKXC2I7PVjOKhcXRH2G1bdGyLQO9qCaCB59NCpgJcSx0o52eqQOxdUCKgngyA30O+GEwxVUhWgjIR7r-GYALd99nY1jkfv4ClsjgMyrNYigwSkAz9gTUANux0J0ipo-uH6SXohDeQfI++mbmF3hgNtX9gCeeg8xXBgGYuA21oMcCEGF6WIA4a1X7wD6XIZ1a2dA-dLg1lT51O67daqsAwady9A4b-b-oST-71Id8L8jpFT3F6O94BiAz5EgmCBCDogbg95H8iYHKIEQNiOXIr397g44IQQz5E04uJvFXyBA9wfz0xAS9huj5U0uZ13bWdVSUKqgY+0GzudT-FeK0GF0GApdTUG+rFS1HPajOLOMHR4tGX3oN0EarPmMO03BjDAjkdrC-tHFJqBA1+oELfue6P7G2SKOAwIA4rv7LEtNZ1IyDsNmG9d5LP7YbpcPUadOcwo3SGgk4OQiKeIgbCyPICyRoIQXLtofsf687TDC+JXH2TG2i6rDXqWKtN3rW9tugbIboHEICPUgcVkgHEB0b8DKlRy2jb2RBDrTRFsqhgRTPvrX2Z7Qx+gfMQAB0sAK6xQRRjwMyBggvbWHcvXIa4I0I2e8PKfqLIm8TgMxuxZJ3mNLGVjOyr5UwH96bGhOnYq+bwBPB7wegWEV46AAABeYzUAMsehZrH7jNsLYw0Z6C-H9jekQ4+CHoMnGaoqENpJ4aEDeH2slxoExsdBNQMOOVpYoxUU4rKBOK7jSYJJzTB4BzjyKtE4dOBOPHe2WJnxozk4osB8ThJlztCf8hAA')">function get_stream(key1, key2) {
    const s = get(key1, key2);
    return s === undefined ? null : s;
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p39' class='permalink'></a><p>
      Rules are stored similarly, using the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the rule conclusion.  Rule conclusions are arbitrary patterns, however,
      so they differ from assertions in that they can contain variables.
      A pattern whose
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      can match rules whose conclusions start with a
      variable as well as rules whose conclusions have the same
      
	<span style="color:green"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      Thus, when fetching rules that might match a pattern whose
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      we fetch all rules whose conclusions start with a
      variable as well as those whose conclusions have the same
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      as the pattern.  For this purpose we store all rules whose conclusions
      start with a variable in a separate stream in our table, indexed by the
      
	<span style="color:green">symbol <kbd>?</kbd>.</span>
	<span style="color:blue">string <kbd>"?"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-RULES the-empty-stream)

(define (fetch-rules pattern frame)
  (if (use-index? pattern)
      (get-indexed-rules pattern)
      (get-all-rules)))

(define (get-all-rules) THE-RULES)

(define (get-indexed-rules pattern)
  (stream-append
   (get-stream (index-key-of pattern) 'rule-stream)
   (get-stream '? 'rule-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCy4slCLx+NNiw4K0IayFX0ksnkinNy1WbB1mwsu08jDEKOFaKCIJl-Cqcr5-KVKsNmu1vs2eqygdNhKIFpdNttvXtAydlrWbttHoYXrxPQzmf6jsBwLekzpGasjwbUibkgZ5SUoocJL5PNAYb8ADcjvgtT6-aKglHjUGQ39Ob2q6qsZ4cd4Y7r9dkJZqCWaU86rWx019GKR4Sq1RrjT5Y2WpAJyNJVcT5Yr-Mqn-3QEPPCOTDe7zvRdLxXaN13dT1vVLW0RXRRNZTnBVw1ARcp1xcDbXjcYaw6XdkyWXMjzHGYAEhHlPc8xjQ7wbzIwDHgfJ9GNfZCfz-AD6MA1Dt2NEwwToyRC2LYjAIoxcQUHYctXzL4WxmOS5LbPI2GUARSESbhYmPcsHRoeIk1AUlmVZXhSVvR4FmMtlzM2HZ9LNUlWEYaRSDMzjQAWJyuxsx4dgcGIn1iPxSQAVUIOpCEoAB3Gg7AcJwKgAWkSlDjVpGS5KzR0VLoNTEnMKwsFgoI4scdtVxNUAYThTUkXMYqwjkGVSoSlxaqMygWTZdKiv9fxAma+wyucCqyS8lyerwSF20as81FkfhYnlXsTkFETUQnUA6BlcJuyaFamkFGSspobaDP3QiPNAYZRlAHY6AK6wwCUtFQGiOIIBgeAkFQNAuTQfkITKPJlCYTxyFSRwxjaWJeGoBhCGEdaTtAUHhlidwHG4GG4atRGRFAAAfQmfNRlR5q0bG4lxhGkaJkmM1B9xOu8EIqdh+H8fp0m0ZGaHqc5unJGJnmVAul12Zp-HHpepkIfilc2IYSXBe6XoURRnHBceqbgYqUG3E0cI2DBl81FiUgAT0eFNGPFHQeY82kYAMmds4rmyUgLZEAzSGtw2ddlsmmEIRbla1vGkegvpdODw3jdNtQVcj4LQ9iBgeqsIO6EaDHKBXShcBDsPk9pu2KxoF5uEXCOy7BQqg+q5hgzochNEIdPEc9jRCE0PwuF4WQqmccvY-BpPSRbtuO9p0k-Ap3v+84QeGGH6h691xlg6n9vO5JWuuej+2VHjtZE-3gWU8MneZ8RzPN5mm+99UXPmf5jnI9H7Mq8XH-lXfqWwg+Iy2mnkJ+tMmBKyYAPIerdqCl0PhrCu7sLiLhrpfOuG8H4gxUBwYgnh+DDXgU7L+joDb8CNmfceJInbBWKiEM8eCCFEMILSbmjMT4UITtQz2FtgpDg0MaJgTDCGtTYSLLOoCKgiJYS-POVEvZRweCjP+KpVEKO9sA8EQcZGtUgVJaBy9YHOF4UoqQKiPZoP-qYrRDcpGDDBotdwbB+CGJXmvQgNiRLHxttws2ijgoEIxi4txxjqD3yDkE5xriBCOHTpDOgXjoIoxhOyHO8imCF2LunPw6ibExkkXrJkTiQnMzYI0JJyjkF5NQoo2xQMt6gxOqoNwqQ96VPMcg8hlCTY8NoYZZpahBAMD3hE+xMcBihNXnAzxJDvHVMsdYkhWCg6gxFCpdsRwOmdNjt0vxSd+mknWRDZw2IYHTOcOIhmmFOE9PPqYuh1ANmnJXEMtps8N5B2OZslcK8VLqlSNsiZjpqFMFkLgB5oAuSfPGd8l5TBYL7BHF3OZyTkGgvBZCo62jYVPJOdQbERxIahwoAOZWqKqlj2JGC5YkL0grPGaDRgBwEbEHJXU+Zuzbn7JoQEwyzLkVsrGUUqqsJmACtZeyi2XROXZh4aSCVJAM7z0UV0EBIrFVspacMveiTUVSEpd-RZkY6kwpFSsaQahtXvJRaq9MFiLhOzVTikVQ85qtJGbTPVdrZWViWXa9VjSVAjJSAqTVUrSAyrRVykOfNTHOsKUGxxVq3mettdK+1XShhxtqRmhlIqmZqjqEC4FDjT69P8XwwyXgah1GFVvGtxA6hMDKRUilOkjWoP9ZowOjKVDJF4ODAFJj212izb4qhlbLbX14IO8gw7wlmq3rLKZHigUOsMLmoBgbH7SE0KumZ3rva+srsasYW76nYP1ioAR3AB6kLLVwydScB7BTmPfK9HYOCcCYHyQuRgzFSAaicGUVc1J1jHTG29JwRALFJO+u6fYmg6yiPY7a714hQDgIgZA6B-pcgaTNBgbFhkIOnQjAcmaY3g0hlsg+wgfKWXllDfRv5w4YPxj5HYaMS70c+BZDEnUTJyLfqxkc2RX750yUXNO7GP5l37oQSjXHg66PbGR-jmwFjEexGpkx9HFPKdtNx-tw9d60w04x3YP4mDgK7gZ3YSnNOzBMwivFPzLO2m0zZuFBKAGC0M85mYrmokhPOWuvjVmm5MFlqqEpMTRHxIcIkvjHF3KbFC641tGnAsqaZUiyVnmvjeexOG7IBWlXWrTZGnLjmjNfFc424tkWvPWexE1sjuXjPB0GR69pLXittZXL1nVFmHMUaC98UGA6h2tSKwJmbFSdO-lIyu8LMzasTbS-RUFWSlaJMIfu9bzgUsceEIFybUg-LSACp1wyYUIrRVOo0RG-BOCgGSkNw4qQP1B0W9wUofhDtRoeFhB2GhYgnLJTF+xAOiAmHWpB7Mi2mCD3IJD0lzBYuA+CHu51zZIJ4jByoLWKYYdFLh4QBH0dJANSHiMIIhJlvfeViu7LpQhDbfS48LgqR2DQKU4+ag7TSbc-pPY1HiW5DJcp5z0XYvJDA65wrx4a3BcxFviSDnGEdnZiaRXMTyt6eeAY3eBYzSoEij5ySY3puyw7HFoefMQkoKxn8u0SnwUHuRRim9cZpBGj2A+ylRbPVmzgk-USK1e2pKJIHnQQLiOUnJG4IdgkAA+L7pHDuBaXrwBNhG8jLbc+wfFod-NXwm8jcd6hAg6CWyRwFvny+o9kP80jqW6v3AzCVlbTf3PwsRSy+zZ3Odd9Jn5Rv7HS8-NsybhwJLyBks2053tIri9ladYn6OxPoGwwD6oCrbL43U-MijR3eYUQu6J5uUGBCU19Ys060-ZYUbM9W4+B-o302Rs5xNjKhOiOQGfUFqD+FshuMoou7+gKoB7q3+vKGaPg-+5ku+FuUkAOn+7q4BSsL+GYKMsBLS2BUkMkvQ1+QBswb+NmZW8unSX+NqNWz+SBq+5kCkEekS1KWSRAN8aw3AsmIOHajoqS3ATAGehk5IXBZmh4NIfgfB+aW8dA6oLglAgQwibwzCrUp28miCvQu+ZWfG2kwBm0TqMo4aVWuqGmJBuuZCwa++YaR+EaXQNBV0N0ngThOwA6CMhgChIQmSKhemaIGBlqcB9BJ+cuKukg3hShfhahoi7YiSThd40WZWbqZhXqoROuZBNOVhDi-hniA2rWPCuRIm+cGml23wLhGUbB4yxeHW42Tm60DUraMoTWLalA5SFhKIDUIEZ0W0ihvhjCMRLCiSraEGG06IEhrc7cawPRu2RcEx08PB3RoxlBw4pGraS8fOJsFGQumuS46oXoyu4RnE8xUxnQfgCRRxMwE2chRGNmI2IRdRlG1esc0WaBbG3ATh0BRuBux28Cne1xa+W8xedmF8Wh5G9R0cDUSsMoXxqekhz8UCvxeRo+gWMkN8xRis6BIJGJtWSsqJSCscSsgJtxumgxc2jxx46J6SomSs3ARR1JJRqW5ksJRRiJRiFyfxKJXehxXeKGz0aGb0MQmGX0OGv0-06Qhe16rg0g4mnAD6wczM+c+gnicpoApMCw72vsMpeIE+uwN2HunAwUiprMNAA8bwqQbALQbwDAS+awWwv24y0WsWsSYcCSfg6xXezxcqL4RyAsZOssc8CRLpSWlq7pbRpwyBiaM0ayfp-O2O8peyz6WujyHM-p9i9aM0K6wZ0ulqAO8pGKtKuAfg0KO6eQbO4ZeZXpIK1KmKRZoA2KUZZZEu2xGu7SuA+ZNZhZfg9KxJeQrxButJVuZcVZcsE8bxI4c8G01uS60ZKg45ysOBI5ccT6FaSceJAyA5UkGZeQ85Je1u3Ai5R8CyXaKoOBNxReJAmIrcvcAuA4Ox7SVeR5sci4kZkeBB0QJcj5BJnahgr5QcrKV5zA7gFSH5OSnpog6sAhNAzEoFvgvJ4IDUfszAIaB+LZwutMMoFRkpekYqMWcS5KkmBx34se8pjshFCexFbGBeQcsFGJiSsFasBqUFKChgDFpZFQtF+2AO+FjFkg35fqKobFVR6+nAmxt595T+5FkkRF7gwYyFEJ-FTICMmgfsEm8iMqBk3gvcqlP4jhPe74j4mkuFsFalb8FFulY+sljAt5ZRkgOwWlKlOgpl+cMqAAPBiMpTpUcHpWWNpvqU+KSAACqdSiqECNC46aD4C6pbRshzp2mGSgAADUapCuC8mgeoba5FIgyVk5pISVKVYuaVGVB53l3e9uept2QVIVuADAUUEVUVXqMVs64M8VeVyVFxvQRVuAmV6l2VhkwU+VHVUgXVFSFl55FQVkvAGJhuzlng2+KI-5SmYMnU7IX5qu4ykRs15lpV5BMwPiLhW1tlg2FGy1dgHx4RAFlA15R26u6FXc1xQ190hFeELFh1Q18wr1Fl71iGm1qEWVEYYwY1lhgkKBm4FGL1SFe+oa4lrZw5WRsw7uT4DJc192hAzMKY10YcYeEERYruZYDUsFMo75+Fd6zBr+yCm1tFyN9FPFPJnEnFse3FYcOupBV+ildWp1q1zBdiIqVJhFM1yN0l814u6+S1zIXNTx8NfuGqihW10l-BeB46B11NR1Mw2mYtK1513Ol111MNd1JID1nET18iL1VcKtHVCwFEVcul0lqtLmvRbMf1vVANJVXoLNBOoNWQ4Nvs1sKFCoaFmuBhCN-ls1XuaNyhoQsmwePw08oyoxpBgBUtvQBN+FRNmBeFn5ZNitsclN+FdFTN6cYR4RDNVFBdWo8d4erNzFJ14tpNlGfJ0tjI6GQpn02GP0eGGA2FwcaOGOtp5OjIsuJ6y5dyPCOOpIPdUOGcM5eQE9mOLAsM3ge8c2HOQ9eS2uOsDUs9fdssMxL4t48qLwk5UgLwd4RdMw8qVYR9kgVYp9hx8qjEV9Bl0gt9+9Pp1Cj91CL9GWPpvMowk5v9ngtoZ9vQ8qOUg6-AjQk5YDBC4VXwwDUg8qiNV9iNZY8Dkg8qMIfstm7gdAc8mDOg2D20jwaDUeJIpIiVj9Ug3AhpoAjQPsme72yVsDJD8qiUlDkg1DfgdDoh72KUzDd9Pp0hmwnDtD9DoA725ItDkgLDPpwA7DWQND3D+IDDoAYA-Dr9E8AApPIyI0oyo5o1I6ADIxPEmJQ7o2I5qWaHQwIxPAAISmhmOKMWOgD2OEjWMaNkOuU6NOM8OgDuWSDuPf0TyuX4jsPmO+MhMBPGNkPp7eNcPOOZ5RM2MxOhN+AzDhPKPiOgDp6EiiPJNki2PyNZO9CZOSC2NSBym3hgib0Q6T393lTU0EjmRCEvB+Bb3Q473VN9TtNY4S6UDuAABW5pZ0zTKepQoh99tTmOk5a98O-4ouPT9TJ2YIvUm0iz9CiMu9Sc8qF+bAk5uzJDlxpDZIkAhAloEMkDaTpz5zAehzlxGDggBDsAkAV9+DTAzzdzRxDzWDAAoo-W8z858+EfKgAHL8AgvyNgsgt23c5dNrNTN90bNzTkVNOPBCH6iZNVztltMIvQ5IvOo1Po51NIuG4jNotjOiFr3-j+C4vMD4srN-bNUKiLPY5EBA57rULyko6sBMD7jSCeCNBaBMADP8BDgKEaApBa2ASLPo6DrVbL3w502bCHacumAzDCXyH9BTUB3tLym86eF627FOEeHsB8C0tLPUB0XnEq7rP+gMJ0VAu9AmuGAst9ODPDPWsK62sTj2v7aOtSCQ1+2Gt7xYLeBBCQ2aCYiyUrg6sYWEinhsjBsWYrOoZFLN0fRYbfS4YYCd2R5W6OBkBMAspqAjQwjSDFoCLkC8RLm8wYxYx5KVu8RlWzDPBnrVzWKNvoQI45VMBtVbTqBaDFUNuEJVtduXY7DDuCJdvsU0AwwwiH4ukWndxaAK1I6Oj8DEDEBRUjCkbZBA6btiPbTJWp6bsvWkh5VwZ5U7C5X5UbvED+tfDnsqo9yaDUXjJECxKMDLuLwRUUWHa8uECfujiiAkTs1pX5Wkhkj5VzuuKMCLs8FCH-sfuEKMDsuvvduGRCCkgzuLBAeuAOBLSHYJnZqjCp57qXZwYuFuS2TBw8JEegCuw+TcAAPtsqhEciDEyvWLjscuMOTvoUdZBVz0cGTwbUeDb5sbtnjFvlRlvFpEe6nMf9rNXzpzb0eMd3g8bpyU6MgHomLsdHVwZQfJXIeWrMCQxLRCd45ke2wYfy55V9vI3SbZKs7Nnslro8ftV3j2f5UmfWXmeXAnljDA7Wd8TZV2dYe6m+fKxGTEiTk564codmcEfNvBbd0fghfmQLBRdkgP1+A8KWe2wu3sd+BRf4fSBaTmSuZpUZcCakgADkfbaeOVDXlX-bL7xVRHOHpXLK0gFSPX3DT5euJHYw6cdbT4Vc-XD7ZY8qIQezwU7QuVkUrkwULcXYuVMp3gtIKXTwCXpnAXhgk3Lth3u3fnyXrX2XE3I4vXY+i4x33XV3dDvZFQIrYrxAErZ4UCg8NQ0yd6y8xHtmynC6ni96mXxzk8gPYifga2bnG296SrMwQhL3wYb35AKQhure33VQaHcef323V2wcsmv3vAAn8q7688-NWShP9647uwy8T3NA-XL8r2P6X3bKVQRPx4u+M2Kn6m1PQBBNEuyNkB5EFPMmJc0P7isPuPlhNTmPjAJswOMoQhjPOczPGPbPf7Vn1Plh+Bgvz1InD9oPzEYGMQGvZ8wOY+eSrP0y5veOfErXK6QvIn79RvpvNvCveODvevJtInSP4rqPH3W5Rv6XjvhF8PvQiPoryP736P1vWPv7HPePdlT92nDTYfNLcvtv6HABuNN+WQmnysfPWRKMpPk5jnlPn50vV+idsYb+dPbNPNW8Ae9gHPNbKgzEIPAmVcnfNHiNRPYdj2vuSJKEgeU9OHQ5mzrfg31hkuhlPfLbqUKo8-qXffr6qNg-ppMPeQE-kaDpvNVQXYI0pAlALazcbAHAv5f3S5zfhfV-Inq3E0OHBgCvB-LkI02W96S5VcO-OPxP41OFcIdwKwBUi9wSqU7GiJRT-BLlmInbCATgRw5ADS8N5WAcrEQEgDbYX-D2GgK0DT0Kg2A5AegXwEYDp+NARcEQNwE0AiBLAFwCZRQFQ8eKS5FuHKDoGClmaOHfVqaxYHrkGK0A9LtFiIFgDR2cAqSGPiEqN9oyPrRGFW0BRr9YKJXcOmTgERMAkg7AbwNIGPBfI7AS2K-lLV3y3oi+ouRosAK0DNFjBN5HliZVkE8Vgae1ZBEQJeq7MEiWXBQfziUEqC2Aag-vqwMLoJEdgbQXgBUioG0lyBFdQSIAV3wd9ceu1ZisxH8EVJu+uPPwHENY5jBqeoQ0AJkVFx19eANg1gsxWSH3p6ebXfQLEAB72B+cHAGBjwToC9hKhEDM+HQDWgkCCecaGoQJzqGNAGh-IJEK12N4ew2h4fKhoe3UAlCyhBrDodUJGGLRKI2QaFIMKOa9AJhJsRoQUkjysBIYrMaHEsNmF+AlhqgJoezRY5tDQeewxoT0N8gp8zacwpwkiFELrCHAmw5gNsNOHdCputoW4Zk3mijDUI0KVYZHi+HTDcABCL2GMzZZbR5SQIwQHzhaQLQloAI0oeizBF3AcOkI0gNCPhHdwSh-3ZWlMIq4CYXCrXe4fy30BbCiw9QwwKLjNq4jHWHwzPKiPRG4jMR0w2pLCMvT-lRKBrPUCXlbhqALMLAlxNOh4GQk+o9gwkFQIsEk0WBQlZiqKL3AEQXQoPDgYYH5GCB6BzNXoVCIXxMBMGGkIIYQLMGFdQAAotUYXSKFqRiU2owQBpDUi7DVR3g4DuzUJoidcA-8NYHlVB6kgXRQIN0a1yRRbIbRRo4wAVQX6E0+KFw0GLenAzBi1atPMSlyNgjEgLMAY40faJp4Ox0uUY12Gl0MoCiBO5orUTqKcqLhwM8w20IuFzGlivg+YxQJaPUhOUwMxgSsSrirgVjvq7kBijT09Gui9mRQ66mG0tYYjVSzQ5iDQ1pHXQ+Y--BIHoCbS2YXAD-dTPOOcB+BGeAYxnkKM6J9RCxNKcUCbhlDViXAhY7gCuLtGLjqAnrBYbaDXHWD2aW423Gey9HeA9moPAkRcL7FyABxjI28avAZyhsmogVAABI-MmAAAQXADgAfmAAJUCqQAAA8iC2QCEgsKb5OQIkFsyv84iAGYlCaIdHMV6AzAYAVwEwkL4BOu0agd+nN7oSTsRExQDT1IlHAVwp40UDhzomjA0JzkDCfKQAlATQJ4EqCbBPgnMS5AZErgBRPYlUT9x8pUiRiIIk-o-0EKCSSt0onUBEo8IvfsumAFsTD+ARfcdhPlLwiYswIoQjQQFFRUM8FxRIG8GbQ+FGJdJQQFFTaaajFAuk+YTVTrGaS3+2kxyYQF0m-iAwIwOlhHUhgygAADOYEjxWgooYKfyWUNmzlRyAhgO2NFLaBEAgphIDbgFJSlpBkqXIY6MgnSluZMp0gHDtFgin6JwBC5EdteBkDRTueQPFgERGHHpdRODkwyvlNql6J4pLtFAWyPGSyBZMZUoQavGoHjB-Jx4OnDVIh5xS2AmFWqlFO8AxSeeI0eKXVAWr+5ZAzAKKEcGLSf8paPifQVf1FwLASps0lAV4LamTSlpR4UXK5kiHE9DpKfEYRtK2n7dE+TY6+utKYCbTPAxaF8rj1Vp+R6+VdbIihA+lfTi06UycRwHKGdBMkwPZeJJHKm6T1oQcR6Z9Oek4S4wt+G9IQjvS4FMIYNA4FshYHl1ohmwFGLXgYA2CE6ufUmbMEaKmCkB+6CUZ+V0lUyyZdghwfKMPDvUFgLo4sO9R2CoywZ3APUe8XcDu1ZgVgEiJkPJoxoO+IgJwSDIYBPTvpL0kmZxyFnPSXySfBrG9G8qUyWCbNZiprNVmFCNWRGDkfzi5Fwxh4uIQQVVJ-BIzhRm0UUaAHFE0DJRlU3EKzJRBYR7BrjHMGmF2rn5CAGVWsbqINEzVyB54y4o7NTFqtq+NMvQTjJ-DU4VcNgckJnPMhGDGZDM9AdQIzpac450o9mbHH9lyjUw3M3yosDDmHi6BbY3oKLPEzRysAJENua2B4rXTYxnhe2d7Moo+zqZwkLCFDM8IqB4EccqUTxTVgZys5jwFGF2O9E9jE5wkXacgiVG9zhBKNEuSDXEF5AiAtcq0U5V4C9heAyEdccxSdEOQHxPo2rtfKfEXC-RYwY+W00FCg9YKhI7GUxGhTRiduSolgEXBtmtw7Zz8-wGfM7nhjP5fANaIqMtkmxrZV1IBYiFPltNewPA1RmAEznkgP5s-L+SICzHpjDKp8gTvvO6rhyix1iY+W8NmDFjBQb03oCQoVCHiwM1wi8bMDAy0KG5GYDsa1wXmPjsO5snBHNPZTwF-u5ae5Kmj3jBR0p25CoCKHwT0ATEEMzAYFxGlrgKB1U+adliUXNCWOViFUBDJ1lMYJ4RwTaY0BPjalaQrXGpNYgMWTiUcridKaorgrHi0RC+ZcQ90LkYzacfUfBMqSEUyg+pYcAacaBUCsAnFoxBqAwu3EM5heZYKJYeJcVYTOFG0eRRtl8U+EIZdC2YFeLYHs0old450d2LE4xiXxvfKfEWwe5OLWi7RdJS4EyUJE3xx-FwBiPyXfiTcfwxloOgVDpTEkOk1MUuX0moijJgEdKaIQuL2KhFTihya4qcmpiXJKEghj0uoneTUxk41uAvWYD9cjxHivpVTWpEDLcRBkwQMMs2BOjM8oufSc61UJVCKR9NDSYxMSSJK3FcyhImOJRxLKnlsyjsTyT2WsiihXxCpQ4D64PdsJMIrEQ0T6h7BxmhIXaNXFH7bKgVY+UkACv67Y012DPaFRXIPBrBQe6yuVoCt64IreuoK+ETTyhVEAqYiMNIsd1+VYiihoMGScaAAz-dquDYoBPTGDi3o2VHSjasf1kDuS4pLgGSXCTEnrx1ou+RlXbMYl4yZgwGJoDKBkm-pOQ-6aVTYIahbsbsECRiWCsWiotucUkxkf8GvhKTCAKk3EWipmABA9opwSeCarNWwjAyZYZiIxL8BjiNVfUs8NqtJWjEZZ4eRshUDUDtBmA+UnlsKu0Ubi1mXkmUHIt-AbYIZMkCVUsE4BMqJJQdMYkEBAyEhFVck5ZekPVUKAPVQinVfpHeoGrYR8oKRf5PtUlCLVvQK1RWoGRVrVJ4fZiOlNdViN3VECfKd6pz4ryG+XdZ-kWvaACq9OJq-7o4ulU-ypACwQdROrHWtdB1Nk1VS6i3iLqTVIqrSVTnWiBr+V2q0NUmo3UeSqcMkBqPnBf6irRQMoLiSBLAmQToJcE8ADJGvU8S71-EhCSnxdVZAxGZ6kdWiGWLIJSQLIfhf6poCzr-J4S7dXyuDXRT9136cJSer6g-qelV6wCUwAgkhQAAMj80fUohr16GrDe+tbX+T21ohJDf5PxzAzANdaelTYWhoigBmsOePNiLjRMaUR6dejdNCJ6rtS0r1VjSupmgpEONZQX-txvJnWI+NIG4OEGxygMaKcTGtvrGlI4Sa3y6dGTZxvk3NCEh+edRSkTU3CauN8pX6dppw5WhNAwyE2Fso03s0tNBePNtQAGaUAwlQmsgBRVpWLR-uQbZzepi80+UQxedeEa13o2ObPEgm+zdNFOyEBZNLmqhVnlSAEqQK7GsLWUEpVRbf8tES4m5q0hYJ61k8dgLlRRUPdJyQW1gAy3GQybgtdJZQKltc3+b9lOi2jQfj00D0mtv+Z8XzEJFUriRorJ4WSM6G3K7wBWoFYEStQtbKtdAaraINq2sj0t6TMRuVrCW6aqt4WsbRNpm3pZMtqwnLQt2CiDbeuUDKrcFtK0ipTN2ePHCSrq1gdDlQylPDQTOWtyvgLHXbRUhO0Wl4t1nLoFkozCNKPx5ajscUAEgL9vtzSxkQxVblkQdgLhNbVIA22PQctS3fLeUtRUyEGAZm1IEdqBKcA3ggQW-sTyXKwk1+EbKNmcluqB0ihfvFHmj1pJK57Rxam0CjEGWGSbtXC1Oso1JgiSt2gKJyG4CkGkZvqBXD7faM+0Hkoe9DBuX3wHAxzLioUcKD7mgqCBiKz9T7G1TB0A7DI5OmPkrC24GctoWgfscDt+3gLuskO0mDDvBA5b1dAfQ3AjtWJxakdoAC3ZTpEFhSGoMIH9NAwgYygAAnOYB0SqQYGxa7IBoLK1+6IGxalgJDE9gyE01u+HETKsHnegsINAAyMFLTWLCQ9FSOrnV2ChoAc9tagnDTKTpSB3d8Q-odulFzF6w9zGJkaUNqRj4aAKUEsobKBmSAK9+kqvRRVd3CJ09dizwKYvMXiZp4Qa87ayKXKZbYdgQMkCYogb97lUhkJ7XF173T7pSf4MKUHDj4qAtlrAK1YOAcDMxW4tzCFZtD2AygVeL2NwCzzd7s8gOzHQDgNByqmAtuCazcGSmkB76LmvHQkAqm9F3w01xeskMlBSjr7QA-XVGLfqCDB42GZgKdS3vT3cB7uQ2vYNqAyGJ05IWEbVcf1P62Zz+PBRA2mrA3zTh1S68-r+pcDZZcDNgrCC-rf0B4P9-Kb-a5FT1F7YDpIAA59kYnBBsD001g8lHSjIGC9CkGvo8D-0sHuDwBh7n0B3GRoIDrBvPTAdyj+6MRFyw5ScsAh3axc8BwlZwq50MJpBysPYNhNdUS63oYjSjG8Ke1Hj54uu98frpKG8EJxWiVmrvI4rp0QgdAKKFjC32BAxpkKk-R4tV7n71eP3a-Z4aCD37H9Ea9ELBR6LmH9DOu3uHroD0uEdc+1ONFEYE6khIooqOsSYIFH8AzIJEB3IB0S5vbtDPOwFLEaxb4UBdwu4w6IVMM6ww2oAPDZhuw2YU+Yq+8ZK5NQlLLdlDA5oXhOEk8AJJoPUiTJLPg9GvJtEoSfRKEWJJ1FLE4bORtuHNDmjBGwSWeDGMmwJjMyrdc0MuWzoe5NBMtbYezXKr5Jkxz7b0FJDpTq1i0WkPMOOOLQyQZPRtd4FuOxBwjhUdfW9rq7zjuACwgADpYAJ1Bx-nBgdwDtAlokO2hvEwRz0Qs9hkKg1dTH5YBvjWy34+hP+NHMgTIJ6Ga4BP4QnyuRgQyvgEHBj5TgzEUk6AAABe1LUAECZmBXLwTkJmo6cFpNwn3ICJ0kEicYA9Q6IeAFw6KHcNPhfjoJk2MyaJOKM8uPpPI0aVyrEBcqezEwHVzBA2A0TlS0U3iYlNLQpTYPWU9WnlOKmtuXJ9KEAA')">let THE_RULES = null;

function fetch_rules(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_rules(pattern)
        : get_all_rules();
}
function get_all_rules() {
    return THE_RULES;
}
function get_indexed_rules(pattern) {
    return stream_append(
              get_stream(index_key_of(pattern),
                         "rule-stream"),
              get_stream("?", "rule-stream"));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p40' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Add-rule-or-assertion!</kbd></span>
	<span style="color:blue">The function
	<kbd>add_rule_or_assertion</kbd></span>
      
      is used by
      
	<span style="color:green"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      to add assertions and rules to the data base.  Each item is stored in the
      index, if appropriate, and in a stream of all assertions or rules in
      the data base.
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-rule-or-assertion! assertion)
  (if (rule? assertion)
      (add-rule! assertion)
      (add-assertion! assertion)))

(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (let ((old-assertions THE-ASSERTIONS))
    (set! THE-ASSERTIONS
          (cons-stream assertion old-assertions))
          'ok))

(define (add-rule! rule)
  (store-rule-in-index rule)
  (let ((old-rules THE-RULES))
    (set! THE-RULES (cons-stream rule old-rules))
    'ok))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+zjwKMFbCNs0UzGVyj1eQsveipYvieM4+B6EBJqgLzkZOVwFp-yH7OlX6n1DeSfi-nzJnvW72vZXwOGyBAA-LpyVfTSAAO5KEFFIcIiwuQ-3MAALjYj3KeREv6zzwNQTQihKJoXOBBeQLxNCEHIKAPILRQBXHILgMA+BmBsFIG8IuUxQBg1APceQC0wZoA4RDf2A9TTB1UEaQULxLAaEYC0M2GY16W2tiI6gYjSYwKCP-Vo7ROgtEUYEeBhNGqCIcuxDssj5Hf2GuYf+Bi2FyPEfoDRQR4F+n4bo14+FDFWPzvbPGnwcE5FUOfc6RCg7rRmF4+QoBUQAJ9AAKmCRErSgQdJB2oAaQgllBGSB4C8VJL1V6BD8QKQgzhgmhOIXw0gAj5AG3SU4oiATerBJ4o0Sg+AWF0HyYU9EYSVEdASC0c+jQZKdLUQMRogxQDyGkBdbJpRckuKKfY0pmSXhcVaeBM+3ITHiCaSfCxYjQkYgGd03pJj+nEDaF0roQyTEjLGRMyR6yZKf22T0i5w1hjDI2K88wUN6CKDuKkypCzQDzBotfSZZhcktIKSskJYS5llIqYs-CNSglQvqaURpzTlm4N2R0k5qiDmgqCBdRWvYkXYlwU8Gx6zQTglUABP5+CwQQgBUCxY-YKXrI5VUtQpK6morSFc8ZITblTNoGETYojSEwpKXCyQ-AEVBUxas55P50VbIldi0A+yuiHIAJCNCJdiBVkLyVYD1Zyxo1KISWplXKwF459DsvNZypZxrVncjNWYAVNzKVpANQ8iVLwWXX2VW80N5gPlmB0nVOgoJyB0NUCwQ5OFWJsHaUpLISTNAsh9X-XSGbkk5rgXqDVLJIgXUYEGQtuay0-KrUWxQzAIQsFZAAVWIAaYg1BgF2HQZg3UABaftTjcGxPDR6Vi0bY10O3Lk3tqFiBkpyEUjxi6ljclyeQopc6sELuCaoFkCTM1aVyQQohYTt0ElXfumtFatJzxCKBVQk4X7IwgYleSyVJysl-tje9UhIhtAdFC1QsaX3xSkKGSIMQOygeKD4YEj6YOwVnl8wDkhUnihA8h1euTBFFKQwYZVr8pCPsEYYf+LIf2gHgYI7cOlyGRUsMSOF-zylZMkeCop5CWMZLY2szOAoNVatIf-Co0hqMCjo4zMIcjjSmh+VRSIkgAOOlUH6BTMZV6qpCCpoDuC1PyYrW6JNi1RVELw2E3T6Hylin2upozMYQ3mFyaQGwlhaz2cvaGXIqa61BAY955jjjfSGYJP2wLLBR1pFPXC4soXxjhfCD54MObrWefGC8HxoSAB8i03OJEkOltCEW+WgC9UK95ct7YycsLtReymF26afmfHDZnQCxu+kUg+NFj5f2Vdp-9uK9PeI64oYg-YCW4fKUUqzGH9qjdsPxtILn8u1jvhF0JfnAgBaS0F8pO8ciJaY5FpbQQYvBavkd5LjrhrWqvplwwqJcuucYO5xW63duJtO+V1ewwqr2yPp8JroHV7EcY1Bgi7FYPbhyEQgAKgACQAKKSAAILgHAEjgASnDyAAB5AAcsgMJYmBhz3wFYOhhX4uiqw+Qb6LxqEcjA9SQHDXAN0++tYxo-8GO6euEV+gnOxvc9KPAhjKhPo0-oP3XUEvKjU-LQSEyLOgSI5R+jzHOP8dE9l-yPnQ2BfS5Mgt8boPLw7eO6oWbNnMOm4dXXaXV3iS-th6AdXkgsctoADJI+J6AUnPDdQU7jW8OrOQTewQZ0wZn5vWJs+B1HkXGjedWHZ46a4V9I-0+T40cXafJfh+nD4vXYh5czCz1lyRMkPde99+AUvdgDeAcz4vbPXO4-Ugi4V4uuhuhVstz563Q3rMGzt0nxbN2nVpBZJdiLXIp-DUH8xyjwZgJz8+1yEKeAkIMGoawdgcBEDIHQHwHgQf+TyBZRtDc29RnEFmJLV9NwpiNVvwYSl-9JiYJmEGvslL4EiRpR39Rcec81Elkl0IGxqJFgrIMJbM7JgD1Qih7QH9QCxdgQKITwQDP9RkgUoI2E3wd00xUDH8ADgQRxUwcDhp-4r9epKDrR39SD0C0hACpB3o39kCvBcC6CzpaA6oppGw9ggJdAyDho2CZBiQVIRICoNJ-8aC9RDRPgkJaUpD9IYIjJFATIQDF9p9AgPJ75H4dD78xCfwJCqZjZ5CfxaD8CLD4ZWEjZ4YlZ2Y+xmDyDA544rCwDeDU4AlQ4mCTCWDbF542xnCqCuCP8FCfC0oooXYCwIi3DxCKDi5S5iDqDrDiEUifJeDCANokJh5j5jDRCHUttwlFZbIg0TJB4CjxhtCIiHdiigjNFRlXs5ESDgI20O0u07AhQ9AlAHRQBB08CFgMpf0dJ65pAfJhAXhB4JFUgBsQQIgWB6o-pJAVDhAJthUZIJiDZnRKBljfplDqpVBpjiFGAohZZw1RlBUNkWEQgyRWg1jjiNjDlplpwrYz1hiaI8i2404TiSASi9D1lHQFATk6IH9wRaAYpSinV8iDIORjJ-jxtdCgSfxZiUTUTSh8jRDISaw7gXjTtk0LYQZFwYClgXQPimi0h-4Iog1JBHxQS7gKTpBIj1l4FhNnkfthUG02jTiWROjO1u0CBGZ9YMFBih0dios-sL93JgYKjxwTJJw6BmDslzIi41NzicsvjciFANTwxAiIxNBbYZS7AfCOChDagVTq9n9IF3hsjr9dTzTFiuhG4b96jmCqTTFtS3STluoPp6TRVmZGD3TAifUtEHTSR+C-T6CWSxtKI-pXDAipN7YfC7CTZlTAitNNkQhMpNB9ZDYiYbZNiNFjlTlBl3lriJkFjHZFZnYYpfYTMFxqQci8jwQnZYj6yJYnhijlUuSNFckhZ2zHgySikc0WzdTBzayOzUxfZuy0CnMzAFjaTxwTi2ypzhyg1iy7lLxJzIoNzxwFyytKyKttzWJUygz7C-MFYwi9BR5TYHUeyNEI0yteJ4k5SJQSBqwuhVApRpxVdcZ1TJAtSWQIlPzXQLQugYkXhfzjS546B1oF1qBCECCDwYJlc5xJEFi0y+wTNwU6Yik0ybzTY+xDywdcz8zsLfY61RMvY607Fe8Tl7gEKxRkKsDajVzhYpyt4a4tZATMSzB4K8gWLFY2LacYSfwV1sLry6yVYiyBxezjyCUwdRL8h0iFCAIVKoDsgcKc14FA9AhpS54fDk5-CEjMyOM2s04ikTLDCfIQDlVckkUGAwlBLELWLCC0L2K05TtckwL-RulnKyiEC-LkxvynLTsZJxylg04IxQT6QcTmA8TaVg4VBlTxL+LzAQqILxEXh0qMrAi3EFpojQiZLgymxmRzLx1qQV1lzgVVA60oqtlSTZDCiQzGjkyir8CGD4jyq79ijWsnw7VgUilGruqySajZwij5yNhqwtLf8VyxqhQMJEyg1mCiNLwg0OrdQfCVL2j+rJFZqlroC-9NKjrtKdCNFGrNK6SWrGIprH8MTHzDgd9qo98aFD9OAT9eBOETSaQF4lgHR-zgRMhshch8hAbQAfV-4Bi01IEQkwyWjG1VAHRY4sgcg8hRknQ2EFAWhhE2F5BKA-oWhYExjGYV0VD4TNDhYXgYrKqmyKY7gJoPBHikIUsnVKarAtCaaH4hEkyqsFp7jmawT1igb14P1GR8AHwhb6RWaW5hSBYQQNDObhYTigbHpQZJbQBDpG95b4xbLVbO8GaQZ9pNaXodbsSITEqYp8A1bgYnpNaIYtr+QarQi-8GSV5rTWIAJZ9Xbxw193avAdaQharYDNzDaI5312pVr19fbgU957YQ7PgA67gw7PbqQApNzCrtqyAg4zRohwTZhcSYp9qqqgRewnryc1y1jDIlgS76as5ugK6dI4Zc7PhnApia6rT1h672tGUTjO6+bhhcl3gJw9YDYEqoTEgilA855yaa64CGwMzKigbrUzrxlA0FS5amcSQ5qTJt6QUjBu6BMOx96t6a6yS96a7fgj6iSy78JT6naxAQS+8C6i6ZzrJ16hqMznATQJw0Dw7dJdAoh3gF7sgzY00chogQGgUFETF-5rU56ORQHP6YGHcf6LoC7PSzB4FIHgG3hkGzYAAeQBqB-B1BwtWg1oiEFkOHLIRQ4gQUM4qIJwFWPJFIygLoeBFkUAAAakhsxMg2iEaXTg-rNj4bX24b4fSsEaiGEdUFQawfrSof3VoeoAIHkGASYZYdvLYYbk4eAl4f4dRJkbkbXrEeAlZEMekfCCgzkYUcfomHzU0DmrJOQatI2GbofxkCyEsjrqxOkwQoIY3vGUbIEzfkwlEcUe8K8YSUsjyvvwPGoDzqHgnqSsaJhPgTXo1Q7DMaiYyI7HIcxMycCa4kiflTUHsafI0VVVEI1RHt1jzPHstsntlDHOUbXtbWIEyFaADw5CiyCD7PWQHJrqKV3P3qfWmtPK70Cf3t3v7uZwxNhPPsqPmZJFKwMsqx7tEO8fQQmcfwceKX8pcb-w6aGvcbiUZm2dib2ZMx0lcqCa-tCdvuzDEwIbya9KuZ8fqtRJbqSag1fqttTHSadUyY-uyelkidKP-gNQKdSuCfeeaPudKYwlJnKfkdSvWauOqc2VqdhqxHIqacLsBdaeBPaY-s6e6ZOV6ZJHFMOeTCykJKuOuRPJMWGY5FGarvGcfKmaBHudmbMdWevkWfNVmZWdPsZc9U2YE0+d2YrsoV1uVyYAPygCPy4FPwwF+pCD2IOMJqOIFiRKf3Az-A3j5O1ZWM5DlrNcOOUziByEDGII2PdgbpzgNZChPSWPNaeIFkCoAkUW9qVDX3MCVA5T4qCG9q7EDbMC7BDZRO9stUjd7vBBjb9cAXzATfzGTdKG9vCbX3CeGlDf0MAUnUPEFDX2LbAXzdjcAR5MYEjZrfWQLfMG9v1HeEK2cDoGDBbbD3AgYEaEbbMG9p4YTfMGRpeEFEe1ywGL4cYdAH7bKP3X7WHbMFHdAHHa1IGKHRnbne9qgtKBXbXae1AAGIiVXbMG3cAWACXZYRRtXYnaPdADAC3arZ9AAFIr39272BiX3T3Z3n3Gb2lh2P312NVx2-390ABCdEQDm9g9yd0ASDsJUDlNn0Qh99mDz90AYhswJDrNwBQh1EJdoDw9gY-D7D89n0bLNDsdjD3LMjsDlkbLAjl4IIIjuDxjuj5Dxm8Dq9+9wIQ9swcD8wQGxRddNrK13Vr1vWsxzbRoCySHJEfBD1613fUTwa8T1Y-I6gZwAAK2xuco0Tk+EC1LjaU91bXwCgJOFbMHU71fjFliwHdf2M9b8TyFNiKQAm9uEzX2EznfyoHcAUgGIC6TkFLeY8C+C-1l878+bdgjD1gEgEja7ckHi6i-ypi9baRwTaS6R1S4yu9oJyUAJyvYK4JwRen1U7FRs4DKfFc93pk9KEM61JPodyq5c9vIq6IVa7M1q8qPq7SEa8PYs7ZXa1M9WLa-vLJ3GKyMWKc+U+eJIBmPOPzCBp2Ia0kBUUYEmP+e06UHmHgoiDzO+fNSq-2JLjiIdYBKs6CEHmW76CCFfOky2GcdSZiiBufrBJe9TDrXrj7xA1G9s681Edyv4q65q9rFyau-MB+8Yqq805070+B8xNB-SlrGXsh6jfxbHoBZacI14jd3qaiCDh-pmE+70AIqe+x6Su5Hld3yVbYBVc+u4EwF+oZOUAoEkFhjCCon1EYFDlAkoBRQAc9hcDcAzqPAF9wWMVKDMUniIl7H55RQm3EckEkYFBsaEfwB8jF7Akl-7A0XgW14l6VX5uOlYH1AJnhJxptCgzmJ7qUFIFcxYCtg2nuBmId7vYYD4bUwd5LW4Yo24a4csb4ft9IFy5MRZDXxkeNJ0hIAMgumt7tCYYzOqNj6PAul+B1VLp6PV6iEMZZH3UMeqHN4ukt+-Lk5T+IDj7wST6V+An0BZB1tT+Fk8UUBYD1NFukTUEHipIozE2zTzwdmSm79ADhEpWt075de77gwQRXCIin-g4xFXx75YQ7GH7TVXyhtMz0DZ8Vk58vR59Dm74RvH57wbiblnGH9H45SAKWGxLEjkKn8UYowL74ab4wamDb9X-OKqPOIHCsY5W4aq816CBX8kiT1q3UL+v-QwFIwAEGNX+lfNPi30YCf9ZeXfb-u3z-48NC0XIfvkkTf5LAD0twNfIPBeD4CvgrfPXgPy1Z90j+YBfAfunjYvAAIX-H4Giyn6kCEBzfcgcgKpLmEc+7fFPMBAADkqvQeHnxEH681eYYORt30b6cCMGsMRgD5EUFrs06HsCfiSBF4QgOwKgsPpym9okIJGciCRp2iDBxYlcEjK+FvmX70CdBiwJQQ7l7C6COBVfbgYmkkG2D2IzgrlKoG8FkDdBBzHbnt1IAHdFYdJZ0MHHEhPonQHfU-qkRPDPpBBBg9huf00iM424EA-IM+nR6KFLIQQk0CEMoB5lxqEQ+GKaEW4XFohmgKXqwWBCgDEhYBb2j+hDAf0QBSDZ9LwMxqaADmKgusH0QdCLFIhpoKoefAWITFXSCQmIa8Taz5EsmYSDRMANsigC7+6kY+B0KczushhF0ekLMWXTqlehvRc4AMNKHiQKhipKYU5hkizCwW6-eNoIOtQwZmAZQ7YYVm-4O4AoJw+TDsLeGUCMC1wjCCWjTb3Cnh4kAXN-0kH-CGwJafIftyKFhC-a9wvupCOyA5C5OMIwocUPCEgjyhSfEYb8NqHWpkR0gRTlsLBEXFvsilBYvUKmGTIZITQyPq0KWHtCLhFZZlrSMvCTheyD3e2KKVroxCheUga1A0Ol4z8RhkgmtlUM6ZdEhSmQ14IKAwTx0Foydc4dUIFGK0aUwo6kj4M1HBEJRX6Dou2kFKml7+EkLfoyQ7ZZ0qw0uL4NQFTjGgWgbQRuvyLUF2BeRIwktJ5gb4m8qwDoxXBpgXR-Fn0ADDsMqLxEHMV0zgADBDgV7kohqrKABtahjE5BgmrKHWpGN9L50kx0VKMdECBodh0xdUXMWmJzFDw-8BYqDEDV7Dliix3osQNWKHhKZxmWYxnFfQAawpmxMeNZjrXe7dAOx0dU+gmL7oRiSx6LHXsmLjFCtOxwabkQLTB5UANo+o-ehwMpb0hQIkgehCchyCMBz4OkDQJoGyLOjsWdxEjEeDxEEockllEsdZRLFrcuWToFsczkPI916xQmXFGcnUROplEXTJCmCTXEbiWgW4yUVOLK7wI9xPkesa43rGYtPUlI7MoKL7odDzxAma1GBPk5OjqhDuVCeXSmESsjybI4VGkEipOhDyz5Z8jJFQnPoDm3eaHvSDaAltvydASpHRLATXA6A7GLPnUK9j3BDogg5iYKFYn8AfEkgh4dLEOg5Cssh7aiQxVoljIWJyIT7IakwhiT4mqJPiQJJvgFw9AigdGqsTUnIgmJsk-ifSDYmxDXmjE5fnpNCCCTOhIk7OOZPEl3tIgUwHSZ8D0mqBLJbEnxDkOGgSTcs3eLiIdBQzSYFJ+AQ8FCHVKnFbeAmUKUngXQRYbQPmSQIZwW4CgNJ9sGKTnjimfYEpxIUyVxJKyCCxMkgpydpNyC6TDJ35HNDk0+xh9fJBAMKaCUYxD5-J08Y7PJRnHbUHQcVZTBKHOi3BUwHY4SEBAHEWVBqL4sJBBMbHz0OxD9DieNL2Rvi1EggnsaOKN7V8hpD4tZsJInwLoW28aCCWWJLEO4NpwEg5qbiSmwR40saF4CdJGkcT96JafAKuC6DcNBBLIJ6aqBenijrojUa6aACGmGBBBD0swMVJPFWpsMy0rqS-UaTVczQYQVMH9NulX1QZ6o8GUkDhDAhrUAMxETnlsAXTQ8LrUDN5MaC9gAZxM0oOdL2n4MCMegvzh2DJkqTOU4rSQe9OektAvR-2BaMk1hzFZspENF0YmwhA3s6pYmS0WIDoRsIDQhWBdILgMxK4MsoAXoX9N6F3SLxg1KmSDBaQskiklMy6fgyVmwQZi0uRHn53WQqyr661FNHrM1kfFHpbM3AVqKKkD9uZVgXmVbg1nMlcenM4PABj9EOYhcpuTaQfQ4nd4MpcnKtENKcA5YtsEslOEJVlmRzm0vdXGcQCDm0yQ8VOQXO3jGxpyQobuO+BoBICMIwkAABkm6MwEgwCIvHEImGKZugL8erIXK0mMAikBcn8Ywj4Y8BLZ1INuUXMUA60V0lcscGOKWAdi744w1Icph6SDiaUq+BlDSnHkpCd0U8tFlmPanez+Q7mDkMPLWmDZmswctWWKkXln9l5lASVAHg0bVyJ5p8+ucqh0hJZPgoCaQKHCDEESpEw890Tmn-iDzL5WYoCcfPiF1yomEhIUTEK-mCzOwlgR+SoFDgdgOh5M14FAskBPzQ42EjCcAq6Fcie6D85BTAv3lizkI8gDBCcikCzh9RM01sZInvlIKUFT6EzAsUfTXwnmtxJ9D9Iqbi8oU9oLcuanuT-UnxTLG4m-MaC5JnA14jMQ2IXRcs05-CwiZeFEVpphM4lf+E9MFTiV4EOC2hQdJXLOBoJAzU1IMyOTP4hRgMz8YgvkDQLn5aEuhdPw0V4Ly6+IjlPAhUUXQSJUrZ5mYosUvyYhBzHsT1JBBJMzQ+mPsSoDTkDUxU400AJNMkXTSOFsY2aekE2QviEOmqRafijfnHJhG+M-aTeMOniKHcjM8wECmkVGMYJbIhhaeKBSbF+KeACJLUv7KXjxFYiwsRIurpIMilp0ksnIqvHJLFF6yL8ZkqpmrTOFBSrRXVSgkUodUkyyNMjLZKY04qQy2Me0viUCKqymyNoMQvERih8g7Sihczmvo1K6lfSS8KzM+nsyFK+EzpWeShmMVglxIjpRsw3liASAAyvWSBkqSaBbUqs6KSM3X4fScg7Mt6X8q+kD9tEagTQO8pehAya6KMx9OCpMUijfFMM7QK6H0zgr8EnymZRgQfSniPl8KrUYiolDIrAlI2W1GiuAlmADlESFGdajhUj94Q1AmlLisEHPLNeWS-Br2DhUILzAHKl6FyrMAsqDYgymDMpNNmNAYMvKgpY0GZkD8Tl-yjmb9VW4iQr4+8l4AbJTmqr7BBsL5WCjawHgwaReVuboG3lZi95fWDYL5WICZLPZo5DlAKrZW+DNVitdVYzO6xHw7q6NBdF-D5WBBzZj4jiXautW-L7ZhU2iiCojIc9NV+8-WnqqEpeq-MLs8gG7KHwBr3iLJIKfbFW6V5A55KgWaHLCnhzOUV8LUltkVVF4VVyc6PKfXR4Zyw8WanabnKomndIIKgh1YoF2L1qpxTU3KQAzzWwQC1WJH5blhzRSSNlBBeif3lhK+ys5rapQU6srVX1vJdUzNW3hnXtr1VwE3zvyxqk+Lw1LalQUHK7WJowlRCS6EZzCTcY3R3glkFFQjVtr+mMkU9SQFfFllukggs0La0+B7rNVB6gqQP0fWqVaA5o1dQ7i3VtSDmOZLHo+G07HElSeU62LBvNpV0oN+IKoVFPcVwKnQ0feWNOEVjIaRAKotDZXDQVYaA4UgAllBAkDQb9WsGtUa8wQ21jBYVdaNFRooCoa8x7EejXbAWjXlmN+IAjZWPwica54CQKIBlHpAtqaNAsjDUaQIVb9tO1ASIO4GIAsbTYP6mqWqPI14b4wSmlTbAxFGgafMkgqDQpvyDXktNxFczai1KI3qW1u5czTpr40lEPU-FAzblJCgxZfQJyCRjZs1X+1aA8myINTyjSUaTN7kyjXxrU1tSNNWPXjfq1i0UA9Njs0NViubkuSx1cko7sCV3WRrdy8Wu4HltRadqSsEytIHVOY2haeN4W-DWFroC6anNqJVzV9lxAebjBrIHzXepukhbAt5c+2CJo2jokit6m3NSFPzXqkq0D0p7KahVQT92tSgn8vIFE041b1c22YrTOnwJqk1zGcVtYmc1KIBQUGHmVlKtyn1TUeqPSl7BK1BBGtsYDzaYO83ZaOtF8xbdOKMoOg2EhCPkaqIFmNV9RBPInr1FJ5ezfq6I0Ia4wG3XbzwMkXteFLiYmIJt2WH1Bnlcy6ky0z4ecbqXSosDCtS49KvI0ZwTt4mEo2YCbNNn8lDR3RZOXahblDFJGp23bSyBB1wiyS1gzfhtqO1D4TtJic7ZUCs7XbmthCfdIzsxF+02tD2pQWviF3wjgU1PXJPqAGHltGGYSAAJwDBgtMaEtoevuA7jGYCuw9cpimCQhoK9CuCZKHymagCUP2VVHYDTQlzmFCu1QEIKEGsg0ALu-pgZUUpCLzA9u6qbosCC67u8cgNwC1KCgGBoKgxLWrhNIkbB-dCkwPRCAzJy6KN6usBLJpUCgJwEXwf6tbgtCyZItPmIGo1v52M009YCCBP9Xu0jEFAy20LsQhASl7M9qY36p8KkAtrIgp6QNIoEyBmhIux6xWUUgOGCh+hgw54Vhmb7D5T0efPoFvn6ybI-ojALvSFwX5hIWQZoSBkGBMz26WQg6IdM3sVmarxAlfQhGYG33lgSlQQe3f4MjWXQtweEwRc+VVSC4bRdowrA6O-LX6TMSIekHfDkR+yTwn+3-VRD+Lv7DyqqOfQvv1hL7gIq+uaEhLMCb7t9QxQXMQlf2kIEDg6U-VyVIke6NE8BtA3vrbWbAtZbnNA+gdwkx6rcw6hSf2qZmDrxKl+ttZlsxKo7XOAvXUpdCDmZZidBAO9o-jW3ekq9e6kMAdtdns7mMos9qQ8t+q7k8gdAYBG4Db2EJfEbWS6P3sdWHD+iw+qIVX3H1H7xGU+0rGyxJCBVZtygoQ9EEO2a7xD3c9Qabutj71Ete2tkGoyplQZ-psEJQNmh1Tsl5Bn6yNcwb0CsGlg7B0UfYYdx47uDWpXgwc3-3f7GAABi-tLliHKrBceKvbTEcXhyz-RnQ--bLJSM60cj0uTI-7PPg1Y5M8stCEpiax5HzVbWbIDsONxFIPcmubHLjkJwN4NgTRjHC0Z1z+40sxslhHezqPxH6AEVY5YknlXjFfRyqr+KvFKPVzKjQ2fBQ5VqPSAv9beRo8jk9w+4-cyqWvNsd6N917sAxrUkMazyjHWILIcY9uGb3V6HdnmVQKKoAA6WAZI9JKf34A5EbfMTGO2o4TZzUTu4CGAaSYWsBgNxltUIPuNPGXjGRmie8c+NYYaUhAQNA7l5rWokToAAAF7DdQAzx67m8cTVrF4TXB3mlib+PT4ATIETvcCa0hmoRgVdGQ3IYhAQn8Ttoj48gP3ZMDAEHh2OBI1IASN2Z-YIQdyDwBgnI1zJ0dQSbZNt8YOnJn0NyeAjOBeT-JrfBSfLBAA')">function add_rule_or_assertion(assertion) {
    return is_rule(assertion) 
        ? add_rule(assertion)
        : add_assertion(assertion);
}
function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    const old_assertions = THE_ASSERTIONS;
    THE_ASSERTIONS = pair(assertion, () => old_assertions);
    return "ok";
}
function add_rule(rule) {
    store_rule_in_index(rule);
    const old_rules = THE_RULES;
    THE_RULES = pair(rule, () => old_rules);
    return "ok";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p41' class='permalink'></a><p>  
      To actually store an assertion or a rule, we check to see if it can be
      indexed.  If so, we store it in the appropriate stream.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (store-assertion-in-index assertion)
  (if (indexable? assertion)
      (let ((key (index-key-of assertion)))
        (let ((current-assertion-stream
          (get-stream key 'assertion-stream)))
      (put key
           'assertion-stream
           (cons-stream assertion
                        current-assertion-stream))))))

(define (store-rule-in-index rule)
  (let ((pattern (conclusion rule)))
    (if (indexable? pattern)
        (let ((key (index-key-of pattern)))
          (let ((current-rule-stream
            (get-stream key 'rule-stream)))
        (put key
             'rule-stream
             (cons-stream rule
                          current-rule-stream)))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPE0GJC4UQ8lIGBBLQKCyXIFEIehiDoSghLieNA0G9IFBYMh9HGyaahm8JQAAH124zBo+UhqjEdbFE26bZpifbDtSFh8HwDghHOiapu2vaDr9JaMjGi73uu2Jbu+1Ixw1V7Lu28KsHq8xhrchdcOICGAeeQpySCjaAehmHLk4wbmDECRhCG0EjEoBRKB2Pp7jEOagsGrCPkp8IADJWd6fpBmZ67xPZGnCZx2HklSOhyAUZGsa266oIZ1JCeJ0mdylq6rLFiWavOYXqV8FanoYfAZDScXJf+6X6YWlw5n0G8Ve2tMIu1hLiAYC1qDEOgJZm8mTroMRuGIAAPQhAjcZwLYSQNtzBcE3Y9r2dO4Y7ToD4PQ8McPoe1wa489q6UfNqj5sjkXacV6OC9V0BY7D+Ors13H+vMXOE4YQxdYev63sL2XLc5kYb2t22zauyZ+S1vGPJbq6GCRhgg5D4gw-oSuPt7kv+8GG9h+70fx76gtQEGiplDYcgypXnmI4TAnyCJ2olbBHmrONIQZxPs+L7oeFPrusuH4rs-au1YTrigYB-c+WVv7hFuhPJuLgIFfzbh3J65MWZUSCkPJMQwuY22wVfMeWdJ7mEQVA2eDF55pyXhnS+FMZbLEwbg7e+C6GELOAffGqQz4rWEOQShi9l50DQfQ2Ict-4k0AXQqy3CWC8P4enZwDdtYyLkeuCgEsRqGGEUJIKNxsTtz1guQ2xsJbcCwXaAhDtG6HxUXwh6whfDaIwX3cxWQiKsP3tYzhDARJt2YFoBOTjXxiIVgAsmQDwS+I+FQYgCclHEJcL4heCjaHoOCS4phLCWZWK8QNVIbxuKok6EEjGfdb73wkeEqR1cCnUCKQuZJ1DFEwK+s6cp5cqmUxfvQQpzgfjRICfXKx2tan1IYIvbi3ItAlNEX3aOPjKjCO4HiYZCSVA9LqX0hclI2i1m9lfZxG95mBBkEs0ApIiHwPWSITZ9AfidBGmLGglZkYHPSUc0ECzTlAJ0Dk7OqRjDtGmsoV5rDDk33lnfDpO4ImAr2SC+JVznZt12cC0FlMwjgqjmTcEcK0XgiTnQsIlzD54scC7AZsSrpaLebEBhGSB5ZNmqsq5VRSAfD8TEwJPNMXvITNbHlLLD6hxnJShONKiU6L7u4jFQrvGxM0LiMlILhG8vpRvH6mRVVyryUNdYor-FUv2ZKrFpd0haplZQCYQs1mDXYB4LwMzZkashRUx+ZzwT2uUF4RFh8vVeAYPYxxbzSkb1cdov5trUgaEICCKZzgnXFwheI91ESY1xqgb6ziwt5FNNSSImIjDGUWI8SSzi58xC5sERKtJ6r+WZLtJathjso3kM3Ava+i1XXQrBAvKyxQG65PMINaoFRA7in0LxTtpdk5+xwSMKdLSj6pBAfOwYi6bVXNHUHBgRJDaTqoHNRs3RGTWynUxMRq7ujhFKOCAdoBmjdE3YfNKfjAjixxGybopIi6NkakCNKn6yy+AuaGhM-6wLBnHPpUA5q2APupM+7xpAMigq5aPIuISoVhJhYahOVkUMcCzR5N4p9eA0KEYRus6963Fv2Kh-e2sqOBvwA47IDHMNlNFr9PBjbsFUbHiuBSOLOiOXIL4eWKHiDwhXM0cNtEGOeLqgkxqzUlBQDgIgZA6Bup4g4R5YguEYmrypi0OglYpUutJiNYpdtZrKWEzZxGDETNTBWM0JaJtXMOeBI9aSyDDHkLPK8lBRijbq1NrvbaAdzNuZMsu8BJhP5QO886UohmfikNRCZmLFnlIeejbXPO3s7NxZmC0U8rsiuBLs7lsrTQEujK2alxU6XKtNbuV3SGpnpp5edAVvVPC+GNMES1lYpRkXCy3OLWRfC1Em00a5-Celpi2JY2x0rdX8sJeVZF7r9WSgVf6ai8lRgTsgs5YMmaWjNtmb64qAb-qxvySOwuJ7tW7sHdiANqJeH86lZ8xlhcv30MlZHjNLb-WEvpuoPGleAO0uCEILGxxQOOjTJzSNijS3PvLbQvM4xSMtEVqrRRm74PZp1a+zEUypBzI5errZeyTkXDtxmuQQOXkfJo5iYO7W6bHHIm4BWtVLphT6EZidBQmyXkMCm8iSYRdC19wF+MqXMuXby4cML0gYhiXLAovqAcg0sblDlwk-QCu5oxHfEvDIxUecY4SetwXDhrB45WysIOWgRDz3MweeggTjKe6RM7+bGiyBaIVx7kPioRcx9j9MTH-v5DFbBFboC-ouMLJLkF2sowaRsHs6uUovi55vB92CUO9vqerCDOqUMBvnzRkNGZYIlvteM7sg5ZyTU1mUF8CQLnSOUc1RzOwodaJPmE4Ylohehg6tK90RofQFbAQAD5Xvo+RhWurqdCD65bVcoHDAOtiy6wDRfNGu1MBQ5QVQqOjPTLPz8CZsPjO3d65MYybWawf42WMjskCmDlFpTp9sZKZE-qbDcmMg8mQE8tQC8jjl-khgZpVrtqqlfuSMbqkAqgPiisASqoKtbs6gmGDI3oUIbv8DgXqhymKvnMQUrtMEFI7sjGynQX9sarKpwCgeSFQUwTbvQFSOwQapTHnhKKAMHqwZbgeBwaDk-JKjwbFkxIKOLoNGXi5iIX4mIUjIrlBCsEFFoTzOISoTmM3gIVnhvCfhgcHnGHIVdlatqkoRZqYeRHwRPsotPkbA4LnLUPoBFqLqQYGHovoAwBvtXJCD4UVrUHCNwAEZGlcoYNyIwPgPwIlqfJAqiOTqAXNDQRgaViQYIe8AIDyoyLtpdkao4aVq4UmjfngUquduilarXkUKUHBrYTTiPtNNzMkQbGkVlg1DIeygavIdqu7h0c6EkUIH0e-ElpkYMRMauMihgSKhUeKmMY+KAPwfoUEaXAMfDhTi0TBhXPsYwAYp3K5kcc0HBgFB4Wsifu9hTlga8EIQIEGoyP6i7q5kxI2N2HqGUb0akbMRkV-FokGpnkUVSFERnB7LUP+sCF4QwNCe7ODH8frnGFYVAfoEGqnD7iTL1gHmnreNyHqAnongRMibCaENwIseSQ0F-gkYfCfiDg4Qzl-pxhvMihocFvoBMdIUklQqNp-rFoyZxCftPCAd1s8bEI2EjIyNIRKTOHPFjgmsKS4eSLnAFp3OIavtVjPOcagrdkjHVhen3EjKgeYCfqcWybFkXJqQac5jyacVqYaYcWSdIc6cqYKdjmqeMV7soRPspvAqpvIOpm1Fpp1N1DoPpsOpJvnoHNOglg9E9P0EIgmZIX6KUJznzJQFJhmVDm3puIHFZMmc9C4AvCYFoMIAECYMQIgbUI0HzmspNhbuHpIJHtwDiZ9hyQmBXOCKbr7sLASosW2Zop2axj0LwXAofCbv9GbvLome0jhunt0m9POQksRuYDmqOZHpbomccosjIMsjqluc7kGnuT2dihyicpbtwKBtOdms7gSanoEjIPuZ8jeUeboKKR5FyZbDqRXhhtflPjuJEv+UjAStcpXieaXNyfnroZeaXKEpUjuMadXHBdJjBbUYwOXvQJXvoAhcBZvLxlkLoT+ZaY4F8BnH7H7pWISYEuyURTeFOZPk1LITOHIF5oxWBoGNbCxdrMClRS7CwILuolwN2REOjBiQmFhJxaYp9tDI2Pfi7PUbRfRVdIyDcTGaJLcJrmJUYKFgvlWLPomUzIZfRMFofqxXJRSoZZbmJWjHStJbxbgjZVhTZeIVHg5ZEFJbsX+PZSbOReWYHHiWpS+QweZcZaSaACwOsCpbaURRwH7PfgZYYpinzElWIClaeEsJmTwBuAJLpXLvpQ6UZTle7jFXFbRS0c0JlSlaVeEAADzAjTRZWqAEWdC5WxjpZ07t7ggAAqj0oANwdAvggguuvA4qTYyOIIDZ1coAAA1PmZ7rOmIEKMGoZeEEtZBeCItctStqtetR1XqN-quLTvTgNUNTIMQI5ONWIJNdStNbGtQHNbtUtbSYUIdTIBtWlVtdXFZHtR9bEF9Y4uVUFb5hiFiC6Y6fng6dKXmPceZkNI9NiNxSsNrFMUIqVRZYEc6GInBqlZ3F1XpOlkjeiNiEDYUIJfgNRZWs+YHvnAyUDc0A6SOMRQ1ZTTBtbOVZzSzckSRYTU9GEDaHaGDTUSxKoQYL1mzcpfPBNPgfTWnoUUUIWYLWwFZLZA9OULBibGPtqOYTsQ0I2DZYyFoTZfoLwbGEFJjQFRLNDV5YFWSQRB5UTrbQ+OLe4c5eWWTSjRbQGUfofPaaFjqXDVFfDX3sfj7UQH7RZhYRjfzdjVFbjYqPjTxhzQRKTZWMjdHZTdTbTWFQzd7EzQRCzaFmzQKptR9aUPBNzZ1RZUcSpNSPzURJtSLaRZ1ZsZQftZLTHTLTTKpYrQnMrVTb1ZuKHTZHQFrSIDrRLMPoqXrU+JGC+MHsbWJabexcVVxQGVbX3DbR5aVW7X6eSS7bPofRCaxJ7X5b1tnajf7bVLICpk1KGa1Jph1DphgNpQliHNQNLs8prhbgrqaglshe6kLtXN-b-fWZuS4BAxrgwD-bGpUSloA3yi5XRh3nQJ4oVOrn-ebsGYyBXOmH2XMJBbEHMKuEfUUH2RyKQzEByBQwnn2RhLQ-lQeAw0QzitHCw9HOw6tjipqmwJBQI86JQ4UH2dxIYLGuJpBRI1I2NYqKI7EH2YWbQ4WbGIozEH2TcPfq7CwIYASto6oLo41CsBowiaBQtSw7EPoMWaAL4OEACJvpzktfI2Y32Z5FYzEDY9wPY+EZzj5K44wzirEdMN43Yw4046AJCHYzEG4zisAJ4wYLY74446AJzmAIExw6BQAKSJNhMpORPZMxOgBxOgXiRWP5MRNpNs32NBOgUACEkoFTyTVTnOjTQItTWTMcjVeTLTfjoAzVMQnTfDoFjVAInjlT-TYzQzpTMc6+vTPjrToAm+MzdTcz4z3ARQkzqTnO6+QI4TazEI9TiT1ThQqTMQ9TsQCZ6YBUrxPAOD9ZeDBY9tgIK4IRcw3AsDuDws+u2DP9cDOa+ALAAAVpWf+m8yvsiOEUww8y8pBeGhnk7bEF848z82mJFHcyi7Lq-NdgQ2TH2eQcIJBYS2Y3SZozipAHQN6HUr4KQ5S9SwPqS2S1o1QEY7AJALQ4YwwOy0y3SSyzowAKIsNcsCu8vkl9kABy5AEriTUrErDdnutzxR9z-zuDOLoqhlrzKwIRwoqT1sb5nzsLLs6rvzmLRrp+rxb8nlWr0wOr4RCLF4KrkD2Llr126L-OM1uIWL-98CGDOuYg0ciZqu1QSJMopAbAvgp0DAwL5A1YSRJ0mgvJBE3r8DE0HACcyDbuSLDQFagbRwRQdxiR8YhABdRJiZ3u3RpbQeaEMa3Rk65rOaidnNTrcD6r9tYrhQtbIg9bqrqLzuQLoLpgRlzbKbbbROHbsQstA9Kehds0OMHAAgstAbQLPwg9GlQI04UNa73s6LQZBYIZLUGm7U2mGAH9rFFeFApgDAQKHw5UNwpAjqIC1AvYiFCWy0q0m44aT7JEX2swDabi2C37fwY8e14IDAb11IuZp0R1X758z7wHp18WsHoCCHZaJGigNwKK82VZPsp0ydQU5Aygygk1GQxmRgwuRHVTjUS1q+RHbN4Iu1t6u1zQO1e1hHygE7ioDHhKvseuWFDgaixguHfs-rRlJOAn58xgzw0EPFrOUHfsoHEIe140mHxg2HfhIR4ndAgn4lIuiu211g4IaH5gEn7KLsI0Cgq+uui53GWqFav71ccGuk8Wg0Fc9noA7MykEutnAHdo9nS64a-noA7T1cA6Dna6VndM9HA6P+UFl7M4N7sU97jq9nEBBgOcM17+2W7nnnq4nmEsGDzzKpK8-nLRt6SnS1pnxgTAZAln1sIukXIH71q4u1EHDpBs4WXmmO3pCaQXzXsYrXe1VX5ntXEXN4DXpXW1th8IznD20oOnuUoIkFu+83knI3pAgkX2A2WEqX42q3ZnEIzD3AFc9X1nbdjXFVw3NXG3W3O28nZ0u3L24IAA5BB2vtta97JpB7x0dfZ8Z6qNp2t9e7WKQI4kCqDzZ2kDxhLCtGtNbOD8M8yyJiIDtcEDtQ5InNXBaMWDtVRvCIh+VsNxFwjxVTeCT9wFdxZ7d0T-DyD7U-5eT-t9VyTxaS4DG3G8oAm0qRQiHB4NQhbcHJDzDnDkIh2kJuYzHML5mtwN1wItjh2tm4UCEez+sJz9QJoOIWrnz24KJwL4QIJu5m+1xYL+L32QOknMHcYhFnrwTw1gvKz6AAj8guzoHFryCm4Db0XDQVL9lh2iQcbc7qzUCCuO11b110+T1yvH76Ydg9r8YCTCLvFCvk72zswK77z+72J7rnPoL+fcrhvI22XXzOCMw+L1hGevIJnw-Hp2Yv+-W3H9X9nwb-FoX4YvR1w2X5X9Qo33rl96353PRyr-G+r9z8FrN60aw5uP309Ir7EMr7G6r1z5rxn9Qrr377d7JYH6Foaw3wn03wFOYTQdb370wUFGb5BaH51wV9H3wQbYaCwcHLcQHZxAPiQJ70RYzAVWL3t3xSb4b6rX2i7zM5e8xXFwK-0wr-coK1Kd-rJy-pf8-+L2ZiggMboADg4GtbvCzhaCR8XAgFa7E2SuTY9tI5USgPgEDQuwBgFQQYB2lfbgDPexfQgTpEgEUCqsWkWKOeWoFEVrYuAxwjf2f6-kiqLAUdKdA6ooclwUVc8K+ywhAcxBuhSAYIJuQ0VpByMeQdxD9iJlrYKg06FhU0GKCXMOgqLkxWwT6DtBQgmiiG3NpKCZe3lIim2E8CWCn6gVSARW27b2C0KblSQQVWRT6CRB8HGQQxAqpuUHemkZgDNGfbTJABNlCnpPVSK+4QEDAdQCIA4CkA5oIyIgKjkF4WEaCq6E-obQpB3N9BHxUwZWnMH6UIhDlGol7RipFC2ahLRYqUAcBT0SYcQhIcICSF68rBgVRYs0FyCEBHE+gnUsYLz5mEl61BNQqkCwg5Dg8QULCD0McS-99eFVWYQLXX7i07+O9Kwo-xXBsRYBSwjtA72Oj9AFArsZHJWwqBnxfAfhQwGyDOHiYH4hgH9B-x85GAVk4vG4RcJJj3CngX3cvrgiuGccDAVHXMocOOEkBfcbwy4UCPFgIRnh-wslrEHBEfDSQWFaoCNGeiy4ERzw7gAiLbgPDYBAjGEa8MjC3DERXww3j8JGB-DZ+XjKpiiLIBoiXYGI7EZ8NhGKgng4RA4VCKIgrJPEGNSEUcJkBnwKYkLTvPhz7gCiqAPuN9IcJ9jAidWIoxjGsnFGUBJRHIyzqqMh4E11R4vdoob1pHht+g6Ioke8KTZ+gBUfIjtmyNSZKiVRfImUZyJYTvpNu4NZwSTCFAWt3goIfOPYN4SmZ3BUERsAUKBD9CShXmewYENgGBjIMDeOoHtxdE+DxQWIqgB0Ilgb8JR8BBgNo34j9CkY2JIoRVR9HJjGIhbQ+LxEeQZjQo7VXiImN9HWDYBJtYvjICTC1Bdq4vcEI2L2DNivuuyYpFWK4iHpu6sQUoCbRiBfdBoq6KdAOJiDpYQqlbN0ZSE9HexexBYhwSmNHHjCCqE49mHAIPD6AfRDnUsemMzHtUbwU6Kkc6BvB7izxioA8UkHLF8R2qZ6Q9FeMTzWxLxzbZ2g5Vu5timxRLfYadAXbZRVRNjUygVVsaWjN8cGcGmoBMABppiDA3rm4GLDOBuATvXsU7z9HkhGwR4hZIXmKg3jGAR4-QKhKTFMgkJ9AGknCNXDoTyhsA7CdXiLz0d2xHAIltqN+hfdaaAEs4raLol24i84NcjC7G3SBwD0BafPsmlWoRcN0E+BdqAH6oAAJAVgwAACC4AcAAKwABK-VSAAAHkJWyAIEFpWsqSA1ALAsie8BEmPJCxiZASfAxlDCT8JDnV9EJOr6ISiBQhCyfAVu6vpOgC4eCUIUgHeTMgpktyeZMTLyTFJKktSZpJ0l6SApkgWyWOhcmsDBiDk19q+iAlCTd05YfdA5Ksh+S6AnkVUfgMPjegE+rkrIh5KSBWTX2qouXIKJCIdEfRk1DfLSWgnepXYjAfKbuKoCTVPmaYqqSuL5BUjrq944KRVPwlWSckMk5jLkAcAjRGQAABhOCsUagjkHxKhhBEZpYo1AQYPTA2mzSZo2gIEDNJiHzSlqeIU0hvBOlzSyAkA5FKtLbS+DkY9g5jD73Kg7SQJO4u9JBSwivTMuIveBtWX8pKDm0n9QIBFkenihUg1QdjBwCPR3M-pz1AGTtM0o3V1pHATaVl3em7SmI2sIES7DExsBHUHAlcJenPie9g8E2Iqg9KUHtC4gG0t6dlA+nB5tu8A-XpTMn42xAgBMzoI6nmEXgga+MhgITMdRICFhVxLAYQFuKVChZIs2GUWL4EkJiAoI0IAbFF5oDjKog8ShhNDxXJZZvMi2srSyHkyHwFhHut2PbpayA4ehRYkFFzK1gKhwwyiLkIbD5DChCg4oYwHNrayaJBEIKCwBqHgRxwlNIcZ1WICU1mg+sombmI9kDDO62oLANBG2JTDs8Ew8IHUPZDczhZBsviorn2iZziAPM6OcxVt6xhmgjYqMB7UoKwCo5xMwXg7xdHwMjYk0MOH8HjHIQw6g0+Gcq0DFVDY5IYgrmGN9li4DABQkLiSwsJBQHA61O8VmKKEDC8xFEyiaeCsn5tb+Iwo+GMLbTHU9CiePAJCAPkrgAx1QoMfPIHnPTOgq80mX3DHlRiIIHM6ed9VnntVLB742INmL0GLzE50EVCG5RZlYC8S7cvwerS7kH8N5A4CoCrNSArwV5msp6ZNJ8r7zD5BhPuN+I7G-j15zs6+RsMAWuDL5oC9worIB4zzCJhAPcL+B1l+V6x6kJiZ2L25oLmJ4-OvBbMnTkKHONlNcdvLIXpzYxM433G6JbkZw25ZCz5hQocqcLxxP6cXo3IEU00hFjwQgL+BEVdyYgSCyEJwqwjcKPOHMT-juMUUOdH5uIQiSeJWTPiigJ40kGYsKCGLn5kk0xW-OdBnpLFDixUG5S-G0KMFRCkfBG1djozkYVGFCXT3GT9S6AgSsgLiEoWQkBAp8VMn4sZDgyTYkMv4NDMowMYfidzGxfROKi2EbFhE4icqPgJWKja9AMjD6TLJ+KWRKwaiY4NgGZLeJ6UGhT+KYWDjYMbE--lAWB7hL5ZXxGJdMQExXiOJkgQCbaLqW4TPEMk8KQwHUnWQAAMgK30mtLMgy07WCNJMlUYtEE0lRURRslCTKpmDcXk5LskPx1leyryfFJ8l+KtEWFQKcDlQxXLX2ky6ZXMvABxSZwzkkmCctSlEVapXbQYB0XSm2jMpe6U5LlIcWRJUMhUvkfCCpEArHREIc3uhQhVFSeRayVXJ8pCXVTvlfIuqVQAalXgqM4RWkqrj4RUZ5ZfUgpQNLcrDTjJRjdFRStCVdzwaGcNNi7AR5ESglmy-euaJqnYqlReKpPGvVSbB4flJwsEUaL8KLFSpY0wYvkssldyrx4E7xbiBOWyrCljKsklysdHOiOlbKhHoWKlHixu5VIVoFCwAySAbYg+ZGIz3BCsFOloPBethUd6mq75wcvbsysQZ2qwedPfVVqMN4mqHA50Q6ddnZXhKAhYlA1YJAd7MDmMwQaVSV3KnhxX26hVDLqWSn0AeFL2aNSmvym3dmBXUnNUwOEBlS01QiHNUXA+DBByBCapmYwF2UFrMJdzJ6MWrMnwlJlkUjSVpN0kvLyQba1SR2pikLKdu1ahlYqqbVxr3g59IKOCAxBGd2E-OItX4vllzQK1gQPxbZISlBwl16S5VmOvWWMhHlsy+ZUxAPXPLGQv01DNwFHVsAPldyydagpnVBDcC8tXEG8GBYW558GonjB+sgFaFX1eMPXqKLDS4Jv1c6tZKsT-Uogc+B+RMmLKsr-I5aiqcBCkDfW+sP1Sap4SBofIeQtCEjFDaYAA3qDgNwcODWBqXjvxkNeMKDYBoTCwasKNQMQDEhJhsq0NnAojdBod6vr8AMMiDUOx9XcrHhCG-AjxuyzCbiaE-TVYcK+6caYZ4G+gHhqqJybKNlS21Wyt-WKaUQga+TcLUTlksJNhqnJEVAhBCAiWVkFTXT0grSbMGyytZLhq41CJcNlGvjVqvQ2CbcQDm31u5qHYOcdRLnQ6fqNjYMjxVfyq8GZq6U4aKNGmzzc0Sc2HDxiZEaxlU1s0yayNSGwwFpt3ERavNKEEPHps27QxDN060gDtVC32qsRyGuze6zWT0bjM8eQaRGsTK1S+VK+DovWPXw6aVg+IkrY4mq1VlPVkXbTZRM+r-ihlXEuFW4tsDxaJ+gykgaNulF-yf5CGODNlqKC5arEBWjHsVp1Xma4ixABjVoEq3H5A4JgfgMjBJmVDpCgApdl8FioNIZ2StB3kPzV4a8cxtW1bZOGtq8r6pzWv0K1uMhBxjt0yYIW-DCHIxOap3PjoWKKUGBKwMvCJu+NVow7JxieCesAJgZUBNZw+N6t-Mm3ghHtS-CCs31azUhhtM2iNYfTS5LbjIq2-LfwAhB46R+4hTbX-i0CerIK9O57f4OWlYSOcqWuRoyAACcJwbWLI3OFk7k6wuniKLtql1I1oHwOIkbK3majmUFhfggOBcB8wFpw9eEZLvEz6Bnuz3KyGgCN0Oqu6G8l2drskbnCIuHweOQ0BF3iYI18DEaHaKOHuIKqLgHyCsirnj5Cg9upVNipl1j1uANwV3n7vBqiZxMcZZGCiUrUxbDVr7XLTTsl5sAxMEmW-LWCZ1ngYkrO4XCnsj3p6ixrFFfm4D63VAioJ4MgA9AziMtf0dzVoIyBT6+AXebvfngtzL38BQORwfHkxAHAvJSAVemlsF3UgZwkqOkZWn7ohDeQfIxexqAjyPjacO9XODxgiCR0T6ruuq44FsQNosQBw+UpgKQNWiuwi1fhVoDbJWBZqMZsa-NQur33nlT9QwmIL3sr001B9IXXFB2Jmg-xzdMQCfeCCn3eRSJIUwQMftED-7vI-kLfWbrYhrDpgv+sAz5Dn1ZLGo8B5fTUT91k7hV2K-lVeF+0h519dPE0YniB2hDjMrQSHdDth3hELMsIrrURKTgk7hlcKyCWwmrleKtCQgQwI5DWjt7RJ1yY1Q3qCWp8edM+g9Adx4Od7u9Da5VjZXhK0GyDxOv2JxLJ3MHLpyaAmjIYc7ggHIw1CsadD7HMBZI0EZoPga6XEGaApB2viMA0OXrEdb5KgyisSIkDV1e+kNnWuHW5Et5QkidDmuVrHo-AjIIFdlNOT1rXZyrYjnThnh77VRNrFbLCulHdA8pw6yFY6JN3ItadCRrHkkaKmK8h1Jay9VU3CPgyZwUR80efWTmsHWKK6l2MxlcN2Sl1te5VvhMZCkYzw2OATD3s8N2SJ0Dk3w3cxPRAhAjuIHKSEof18HoliQIo2uuiMAhKacRj9BkfBUcBkjhw1I2uHSPbBEVSx7I8HnPViDFVhRmeMxnVFlGYDbhCKDPr63PcGB+gSiQAB0sApK35fvrlzBBLOS2uxos0VxoQDdwCZ-cYBqgXG2VVx8qTcbhH3HHjoqkmCQJeMbcD0O43gCeAqo9AsICJ0AAAC9HWoAe40UCePQmZArxgij424AYmvjekH4+CD71V6IB7WmGBvQ4NcHNwVxyE88fxOwnkmx3ETDtRYA7VlAO1IlpMGe5pg8AgJgg0yZVksmCT7JiXkZq5M8m+T+Pck-5CAA')">function store_assertion_in_index(assertion) {
    if (is_indexable(assertion)) {
        const key = index_key_of(assertion);
        const current_assertion_stream =
                    get_stream(key, "assertion-stream");
        put(key, "assertion-stream",
            pair(assertion, () => current_assertion_stream));
    } else {
    }
}
function store_rule_in_index(rule) {
    const pattern = conclusion(rule);
    if (is_indexable(pattern)) {
        const key = index_key_of(pattern);
        const current_rule_stream =
                    get_stream(key, "rule-stream");
        put(key, "rule-stream",
            pair(rule, () => current_rule_stream));
    } else {
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p42' class='permalink'></a><p>
      The following
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      define how the data-base index is used.  A pattern (an assertion or a rule
      conclusion) will be stored in the table if it starts with a variable or a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (indexable? pat)
  (or (constant-symbol? (car pat))
      (var? (car pat))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+zjwKgaok5k5XKPV4vTqsgA-NjuBgEhDD4MwbBQHAiDIOgfA8P7C3yPMNEbRuej2sQsyS8jUiTIojWPwYGxpJvuk5BfxmHfRYfY-5BAAFzAilKSdURQIGBAAUHagBpCCaHQg2aiYChQYTFBKWBfZn6v0QeYaBe55AHhgieH++hSFmAAbfXqFEaHwKfqAXQJDhrkMTK6Us1paH0NAIwu+kgRyph-sQuh3DgTvW-mw3+w0RG9TkY2PYQFOHSJ-DwmQxIVIiQKhpcBSi9SGk+EhVQHkQQwSMooEytCnhCOGmkKxaciEcJfloxoOiqbG2MT+ZRMxfHw3uMzY2St2buM0UInRydQ6CJMUwmYcS0xSJicCNKUUXYFgUV40ogSQaLgiRIhRaSZGF2LqXSis4EkBNAPXaQPkkmEA2khYeEkomeMcc40oO1bKgOnKoQe7Txj2NyVIvJaRoGKGYBCSRwEACqxADTEGoAAdzsEKPQSgHSgAALR7I4aAjKO8dINJ8sIF4g8zYZkoPgUAqgQjOkoCweqf1JAWOEP2Zimd6mVINs815v1zHVVUJc+pjAoiy3MIMDh0gLriHuY8qQZJWgfNBV85eZhzrkE2HQK2uLURHIWK0tubivndJ6VSwIjoFDEHpJw8EtAYpOOpT+NpBkOTGTBSQfQlK2UCohVC-lgrqVtMZcwGsdxMXcjSDJEIEUBmqBdASyZjQAGKvHJIR8dK7gqukIonp0DWjtE6C0AYMK4UIozOYGZ1AITgpZEslZ6zW7231poeQ+zDnnK0jC3iOk+kSgGSZScdApE-MrhZIZkLQCogAHzEvvgoGN4YPGvwjJoW219dRJO1bQOqU01G1AjTa+VUhwiEHeE045KbVEgksGtB+4z039icYElpdaC3dQ+vm+gYSclNiKGUmRzTm30p7b1L6igfqUD+p01+24dJ5uCSbcNrafl3IeSETKmh9aGyJjbb5NqFzUhNR0BI5qNiwvkPCr1W7kW6KdlkmKvssWlBkmOlNQtn1s1TL7J4miLWWtvda0hOKCDgmfY8bBXqiWsq-UsH9itnavoloBzxwG0gPoVW2WDYKoMoecrB49rKZLIcijBgZWGgg3rvZGj9l4V1hJCay1sv6xamyPRhxdpDhiBGGFVe2QbJAkGrF0VQsCbkelYtGyQcbE0sgAFRib4ZepTwZQBSfzvbOg61iBiirVBShb5qn0DnDanDUhV19nfdi2gYQBR0zjUzI28Nil6DGUOrwNHT0eykLu-dNnfZsYYVpr2oXQDQPrroZE+nDOKxYaMgjwsiN-tdqbfsIrRVmD03kBLxmqGoXM5FqleNPg2YVh5rjb6eICatV6k9vyKFFbM-4kxAEktoVwQ2WzrLoEVGkDRwTOb+R5pSfMzRPyINpxc3E1O1BvJ9hoxBoO614UubywZ6gRmuvmbTrK8wEHVP+kvQwIlImTvJgk2tlQ0LfmIdUGnCMdKGUvyZVKyxwc7vZZy390AV2LRdHXaV-7jRNE6ZvqIzJ6XB3qNLTJ6k5XCnbHw5Fx7+UxJGIca2yHubRHiIEaUjdNqIMDJc49wnisBkjJqS2oDGxqyYNFEqqnzPi3NheAMqRNGZLUYDYzPNe3Ukk8Z2p9n+G9vs6IaQx7UuaeGI6TjzRv2zAM8OHgfeTBWDsFPlwC+aAwajZ1pWpYDpl7loW9kXI+RzegHbaAXZ6IiWm-t846ZjBZmqAdLHLIOQ8gcKdJQhQLQXiWHhnOrokDTmM2RxYzltjhYvGe6LvzExkoTQ8GipCwZSsJ6sHY5Pi3BQ87lgHFFWf6XooFmCi378-xr3wA+Sv9Ic8twIG3fP3L8B19Yo9UGTfQCHX7rqNp5Le-bWBk9QfL0R-8nFe9yVMUe8-Jkv3-ag+IZLtj2YlHth8M6qKKvh6GfNU0RpotWgur2+4aKUqgZE--MN-kslbnwEz+LETvLPDNPD-Wgf8fhPD3PhA-njmNmQEHGaNEHRIvsyqmFNmWpeL2OrnPBRofByIvJ4oAdSB2CgcuhAdQBdKnBcoZPIKWusGnqAKCOCGCqQaXsMBBu8BOHrAbBKnAXoC5oNgMHPHHqQVZBhOuiGo-nYNQRCD1tkIIeONmjpOgSSOziZLIfIL8BQb8h2Ioe3oobBgoaQcoVzJQb2OodvvbLSrFjAbMB9q+tZPClzj9qAM4CaBOFgYgX3roFEO8PwQ2GbM7rpK4e4XfKTA7qIaoLwRgeIdYaAP4XynYQ4WYWqlAj4dEO4WEWbAADwJFuFvCqCRFsaMKe72qqAsgAAqWQpixAgoQqTgKsAo6CDcUewEoAAA1G7n9qGJEFEHcunFYWbE0ZpiyI0c0Tlq0dEB0VkXdm2lSh7l7kUSUfgPIGshUezNUZUpQHUX0U0aDoEEMe0fgJ0QIYYD0ayP0RseYFsSMZEWAe5FkGghgmEfhmEQjoEPgbMDIFkJZAgaQjpFth4RITYfCnZkEJboNt8X8ccYwi-C8dQJZMcTSgQVAUPGwZ9hDscdAmEXGhiB2MkXEdSgAh2Nkf9iifpjnMCaTC8L2Ocb5v6o0A+pwmiS7liIFqwbAVKv8TSnkWIVYayEspkK0FphyH6qUHRmBj0hBooS5mgXwQzj0jJF8ZockbQRyHytCY8aQVofKSSHVgKdeojkCJwhCW8ZhgLvbEzrcUqvcRESoA8eYE8XqZga-AxmYJ8YSckb8dJlKfXkCZiaVmCc8SglCX9nDJAW0WYRYfAZ4lid4gKFYbSWxNnJ6aKgAhdIrLibYXfOGdogKISVxF0VEWSWMYdmkLCqQtSS-NGUwbrHuoyeYUvkfk1mkHauyRhJycQNyfSrySSN6vUmpllPmbRg1vaUECKaQWKYRh8hKQaW6axDKSqXKeoaroKpoSGmqUoT2QJlqZQbqb6baSFJrtVAfEfLrpwOfLwBgMbtmICm8iCjXl8u7BHIlC-oyI6uecCl-vbE+ZHpIC8iXNkm1teePDgZPERJituBBm+e8lrhdslIggBCyEqJpuYEqFSoqb0hnl2HBWYF2IhartBaIWhVQWCIwJhVBRnvmLhfmIRchT6J7JUJplRdIMNEhS4hnnVHQCXEoIKJpsxaxeUT+AxUENBfWWhfWT0rxYENBfqO8GIs4HQMGOJW8JJQwI0CJeYNBQ0bheYN7i8IKIYAmo7v0dxUpWYNBXsmpWYBpaAFpQprpYcvpVhRnhpi8GkGZRZTpbskpuZWYAZYAj6MACZQ8j7uZdpYmrsmADZURT6AAKS+VOWBW6XhXuWgCeXQXO5qXRWWVO4YhaW2U+gACE6IKV-lzlQVoAuVRKmVYVdwLIKRUVBVMVuyaRZgZVFFFVKRqIJlqVLloALVDViVGe8a1VmltVoAia3VWVFV8arVDlgQ7VRV41I15VBR2VvlulgQOlZg2V5g5uiC3IIFEQQK75bSyRcapC0aSoLwoFl58YssO1LyF51e8YYozgAAVsHudsdUXDynYDpdhbtReZpgFDKnOYEOdXdQSLLFgNdXte8jinkKbC5gBNBeemappojZep5WDqJRnpAMQBenIOxQ5VjTjfrGjejYZRnrJZILAJAGheTZTcTSTWJbBHJQAKK4Xk1M103o3QUABySgXNvlPNXNaZYO21DmuKwN0NtYh1qIb1lk9yOlahUR4totMNV1otVBP1wKfa6UtYIaR1jQ0actia-1WW6tN1mtEtmW3BZy-yDaZt+1GKJAVykK+YwhfyJcBskQom9KigjSQZj1Sg8wemEQe6qgeeGt75n5OQgYP5vKgNpQg8LtfQQQhpC0iZ6CwZ1Z1ortJhVeCJLKbKMW9KqgwNB1XRLwSpptkNnwFt8hHNgQhd3QJdbc1AT1L15dYOStT4MNWhdd5gZZDJGd7BBg24OQuKZZUQQc9hMwediQm2WwGCM9Wd3BO5Ase5OuJ8h53AmAp5l+egygFAkgsMYQVE+ojAocoElA4EOQrtnsLgbgAUF9V9y5WJOJAF3sREj9EEz9-RLIkgaxTmYYIxD9R4l9X9A4pC0CwDYEYD7e1Q+oBMnKIeNobRrpvySgpApATgVsG09wVyGDMVDATRQyGD0ZLIfRACZDUWwEhxTR6DpAvdP4ZDtMYY0hjMJABkF0yDdoQq66wy7DR4F0vwAAkNqZsuEG0T-QUf0XAyJBdIgxJtGnw8QBw2QTw98j0foCyHPmIPw8LJ8FMCwKmjfZbNbIPC-cBINiyBAw7MlGY6AHCEIo+kCb2GY8UD4DGSuERK48VRiCyNvOYwROxHY94X41Y84gAjqvvYrEfQSJIKfaHGY04tAo+g0o3G1nYw41SkSNKOKljh0q40LRQ1I00bo0QQY4E9nNckY+owMcNH0f-bcbZIQrk+pPk5CjU2xvU-0aU-o4oIYwFFUwU-sZ05o0kwDsowI0sCyCRU7Wmj018H0+MaUDokEYk+quMyowUThS8ABB2GY6SfhK4y8PMwY1iT4uI9EEY6QhQwAOT-2Dw-13PWOnE7FGPaN2DzOwyMA+RfMWXOEWyShezBGZSuAQgdi-MMM9LQV5AtC9H2q9GrJBjFimiKBIvv5WycjgPrM9MVPdAQsHNET4sbOTMLOMAsBnPEt6O4uqBEu9hEufOLDfMXF2D+2B2kDB3U5arOjBziTryaDGNiLLFNyzhLzXNeUVWpPCuaQvAtP9T5BLxx1BDRqssmjsuUB7qwYNo8umizOhpOhYvLMwIYGivrPQXbwhhWH4J2TShLwUuThGELS-N1jbIOhavwymh8vLxWaCsNxSuevvoiltyonwaNCNMEIYGysdzyv6srm72ObcvusXT0jXIubRpOtbLnCusJviS6v+sUnkZBtRkhM4VitBEdjZsovJuQokkeNEkVtJtiLVsGtTId4Czs6kMkWlvMCJvXDXLWOl0YSkMqtB3qucvn5hP5J4U0EDsNiKuBDKsB2qscuav1u5u2sUtBEzvZBnXdviS9tNvDZ9neuEK2sMZr4Z7muRl4JNPGsxuHugaNYQKfpOjDYp26gepLBLzYFP5BEmuTu4H6vWP1l8tNkuobKB6tP8gfsvkLR-5cZfv-M-v4WetivIGAcRnAeTigerLgeK5vRX4qwx5GkouMCxPkDUCpzGgtBtDdAIeiOvCCieqeukN+iotaNl4DzUdiIkexNuJ0eUEdhwd6v8vblgCQlfxkdP1nVVr1KtlXDkC7za5sCkBvBFxTCgBgwPIXQLRgyG6G50Jzx+jByqBGgl6bAaCMAtCoM4TxQmNqDh72pWeFPjNtAXpdBjOEyNSmcOTsQdgOeWekxLPhO1v+dOdsbRamjGfeevD4SheBcOu6jI7nBf2qDLyrbfYzDJc5Bw12VZfyAaY9mBpXHoImfyAGw8AvCmeSAvT9kQb4rOB5cuZGekClflcEtqC3aZdP0anYZIr1eNfeEo1dAsm-JDdXqNCCmPvClq2hdNeRctdVf8Dtf3CEANfdexu9cPKzeDfe1uctAjdyqXhjcUkFl9m1k-gyS9ihcbe0Z8ZrlWkFz9qketeSAVegCLe-GLD-F1ercDedl0BRdlevfLedfYgwMneIpae-dP3RljcHdMyKy9ig95dzs-hBEARVdvdBEffmnn5ZYV2BBI8Zdg-X09e9kPv9mBAQbbf-eA8GxLcxdBTQ-g+soPrbcYhw8MZCOhtWDYhM9rdf2OLc8d3IfY9A8M8P6o+CpcTM+k-cjC9mCTeU+lCJl8-2eUKOefdKEQ+rkTf3cOmMycWwQqfBH-HmQdvFeaATtUrIKW+RbQJsAhORAXSkfW-YniBPcKeCqTH5EsDYeuqgDifFYdl5f8mK-0dG-kAqfAVq1B9mYk9wamL4x5epcDAQbycuZx+ScpfTOW9aQgUydEpZ9UQp8sjO9sfcg8G77OCRB1SXOf05Ba+u1BEN+qMP7vN2G19Bmt9PZd-RCu0dg18Tr98d9D919DxKpj9tGu29hT8j8ce6hz9Dye2KGjHQON9MAKnft2DNdr+gMb+GEL9jYOivZ79Se4+LAys6Hb9TsQjI5L9n+C8X9KFX8KkJf8Rd16CX0ppYeb8kjHPNkdsVeUCJIFU70ocgjAZeDpA0CaAmk+rfst6wXintzuVPNWkvzmx99l+BmVfr-0P4TlqQ6Anbq5zNRelxmLZekCALAEtAIBIHP-koVKzQIYBPkJfvhiX5k96sFPb1r+xjbK8bO1IIIkwOpa2sXgggtDiJxu5K8UBD2F9nd116-JBBS8d-mIFDC5AWAPrUwm0EPCCgJMdAN7poLYrXA6ANXRDtmA9KHQxW+g7QfSCMGpdrGZbaWIdCl4PICG4QVQeoKryWCdBrg4kGr3uCOCCef2TwdYJeg349APtXIO8iCF+CXgQQ0IMYPo60U-B5jWITYI3bIcMS-gtlKl0sqRApg-uSIbegMHdAUh-AVLk4OGjZCdKKgnwVxEOizxPi3gtQfgEPBQh3q4KazpXGaGwQ6UkUSwMSBtBuCDajtAUH7BkItCeh1QwxpMIFYelGh5jQbNY1yHhCA6nwKIaygxJzC52lQxNF0PIATDGhAwmodPD6Hkt6hguE-qYTuRa1bgqYVvjENgiv91S02NAZgIwHD8sBo5DAncLoE9kZIhAjnrtxIHrMc63Qb4cJCAjqE7B3QmdHE2N6ZEWBk-TAVEXBGPDteb7fkKCD2EwjxKJvTEfcIhHX8TBdA0hvgFXBdA+iYrFkKSNVDkigO10RqHiNADgjDAYrUUmYEWFSAF4mIlkcCIuFV4rh50G4daEZEoifhHI6xDQW5H2N4QTyZDsyNLbQj98OIzIr2G5HlDGgvYZkeqNKCYjvosIqPpkXLawRIW6NDsFqICFiodCFLKkWSNhZKDNkbRUet1gOF24iRQRfytsPCyVBmWi0D4CnHyysdSOjEQMQSBeBOtGRTrdQs8KfCmIDRIMfFAahcy6jsRcImloywBQPD-uqLcYO3RJrUpIxOhXnJeGVHxiCUJI20W7yQRejpAzzR0VYGdEnDgicI0sQah9GEAiCtfR0MXWNE39oYFzGIEaL7joixA8nXoaoNa5vdTO8Q1ATGPOygB5OE4yrmV1nz0dzsAI4gZemETViqGdAe0R7zaCusqu4obsemA2AQZTOLmQcb8PrwLxTOhgChtvCoamcR6VgUAIUQAASTNSQAAEFwA4AJmgACVCikAAAPJc1kARKLgjvVmJxiQxyWZMbYFRGu12xnwTsQ6BPHfRzGo4tCb2x47wTFRxAClqOJUCfQ8JDmDvsRMqDccXeoNbIUSI-Ffjfx-4oCaBPAkUTeeOE5NmRPMwITCJN-UcZMMeTe1DxQPY8bxKiK+huJeySYURwWgXouJNE-CViMQk-Cb+kwj5C0OjShZwRTgBTKDhU6UIDQYiAzHBNnA6S-eeFZScQCQlS8YJKnaidmIcwYSZ0SEkKKPQsAYt80JAdTkSgAAMVtRmAkDWS7RPJkrePpQG6AW5PJGgbyYoBcyMBopQA9Tk0R4BFjWICUyCDFLCGMAO+yOIKWOHX5LBvhGU40EK3Cn7cb+QRUJmdWQ4lSfWVSWJhFOW6t8Bwe4ywLAgKn79pwH5fICVLS4zdQpZUxqS0E4JzEQpkEMKcNNT4bAdIrgz4GshUChx+OjGWzgVOY6soAEeUsaT31-51TJpVECKULSoayiaCf7ExEETmmSAFp0gUOABxE7ajXglgeaYtKJLrt+sEHV9voSelXSXpfUvcW0E9T0opAIrDeOaUKlISfks076ddKWn-FEBR4ReKRh6TUl6Ragb4cuV4EAkkCCU+QDrxAz0YpBaQGbG8PH49TPhNrJCXjMO6sRnAsPQEZemhIAJSRd6aEtAkukwze+7w1gewM1JCNJBZGevL+x5FsoAE7Ml6bgW+R+BHp8gZ6TdNelBcJiBAO7LjNkGUlfkYsuWYoOHF2AQRH5CUNoFdApdvhd8CGaTheHvCSZQZFfnwW+F4DggSKdASVRc6mpUa-ZGSCQA6L6iTeCI8cJzPH5RELR5gE2T8KTrXoj2SKEIAvFTK6E-seAJTPHPAzmzx+ls6AtbK+EWkQ5pCP4a8KdljcNp4zT2cqMf6N9A5Ps8-H7On5C8hGwvSEUakDyn9jZGcu2Yr3DkPIAZsWYGfkGDm2yrRawOOQnMaAyQbRNIu0WHIp7ndn2DckBuf2DnNzQAI2OeB7J2JezMimgLHgzyjFEjRSITakTkFhaUjd5tIjDqjOLrrzzGihcUVyMOi1Mqxusq4QbLNApc15Z1DeToUvkIzNANXMVnfP1mEFH5OQYugz2fmqTQA-cpTOKKCJrzYQMoqQJApehisl5BsIuaqMyH-ZVRL0B6eYEQUrzqWUCzBdSnLYYLA5jQdQtaMPmjyhMC0BVBi0hCw4BWkce8jXFhypQMWMHY6LQAPDtjGIfUm-gFD6nt46pbiHhUSMSG9gruGLZtkEGQQZ4VAC0wUBWhxlchrGAUcRXLz3HnIxE40pYCVLDHpjrEVk3RYoANibyzxatA8Dbi0XxTdAHITqU-SkCRBlUEilbGrWwX6pCUN8xoNgqLnhiCJ+CmcZwqVz+4DMfUvxeYALFv96Ori6cGWJ3kVixWCwjDrWk+C-NHFkENxOYvywhLSscJJ0QZkElRKExQ4w4O5IYmSAAJCyAADJM0IJ1YgKfbDslyUSpJkXiabMiUdjhJzk2wFhI4nCTrgTSzpYROsaUSZg-S9vMMq0UmRXapS8pVUvADsTFYnEiZQMtdrqSG6odalAJIOFoTJAR4-aOJNCVmAWQJU6SY0K5BS9NljY6qeixyAnKThXIH0Rov6UtLVJRI9SbsK0nUoSpllUHBopEglTUlqjZ5bOVCwNKllQKq0XuLNBxBIIKSnxQYroFjjiQKyxoRpNggfLSg28xNKylWXFwNBhQqwesrZTySHJQYpyXCu+g2TSsnox5RixMjkqXJPwtGrKTmF7jEMh9dMWmKMWojEV5LaMY5kujCAXMC4j9pyqZasg2VvzMPpXAFUkA6ZG49zusyhVfl2VRi0VWZ2ZUnCKWMq-IEJzVVRENVqgn0WEHtTGhuJZMtCUMm4lesI59i4SU-UtWKSYw33NWheKJTbLdlDqxyYRIh4QZMGnuRICStiaTC9aOWC5eOOi6STHVxAW5aoKlVA0q0rXZFlGpjXEhc8PSVZtxJeCei-V7UxWKZLyVzCey-M1cnbFTrkdLAWi81R0uEWmKYxvElzI+ACXcKnFGwb1mhPtXiTnVMY11fuMdA7LRJeygiTd19U2Bc1la4NdLT+xhr+hEa45TJJu6aAE1s6jFimpYBprnEQRHRc4Mso5qA1dU6YUWrO5alKFuoJEPSDqn2pA1wYq1b2PCg0L81ws-+PUi47-KH11jM9VetnAPqO+H6-NZ6tJV8SbUxqitfmqrUHj-1BIHshBmyAKSvVc40pUxMAnASwJcyjYAhr-FIbWJNSjNVGqzUxUYNn6+gNeNYgshUE7HUtaepfU0Ka1mxctZ8Dqme0LVf02tY5gI1NKXM0yypdUpoycbZlSY2qRizw2WU2NtK4jdSFI0Jw9xO6Fgn2keqgow0MwoFgpo74UZHwcmkQHyw6HdxaOToVhvbCqxqb8QwnLTUgXwjKaj+OsAesxXU3xhNNim62OZoo3z4Ry1m-EHZt4XsRHNc8KrK5pEDGaZ+Zm3Te3gSBRAMo9IFJQpo83ZwvNc8NTdQAcWGa-N3K6YbevLL7pEttmjLZllZHTlGh1jOLQ4oM20AbNXGLLSSQ2ISqOVqm4rW5rK2KkFeYOA1UipCiLqJW9KXopVqMWaYCt3qnetZvi35BfNFAddE1t5UiKAsMmobSeCm0BF1mCSw1ksMYD5DVh+KiTKFk63fMUsIsKbaoBm36rctmqoXo5Rir9bCt04RLBIBK0mQ9tR2nLKNr9itaCi8LcVUkpVXfMOKl2gbZXx0ghaNo1yZLXMLUkor3l71EFUOQTRYAGtZQOzovFe0pLftIeN7T5GuQmi2UOS+sQWsbGkK6EUOqsejvI6Y7xxkI6uVQ0Gy3blSNi6YbiEe1shqAaLFkBtrxpaZ5AoWhQN9vOGUIq0n7eAUSMey-9x6k9XqIvWHrazQAw7NVhq1ZzVsAdmq88NKWB2aTQdziTFU4kdCc6U0zvZ8FQA2hKk9mTbVEfgqyIytAqBPYDrMFzF5jDlzqHDiIVghgyOyaxSHSTsCAshxdy7AZPcuc746GxROt+e7mrGKt7t1OhNa7sXYjtJd44DrXDvTGaY3do7EjNwQgz6hXWnFLQS5gACcAwHSKnrYo8r7gUAw3hIC4o8qPyUwSEC8EA1FkbVgLa2GECRkClW5kmaMr5Ph456fINzG5qyDQDd641+MoUs4jb3Us69N3QIG3pL1AIxCKK8qFETsCHJh8qs8PqPqL1aDx9Ze9dMnqgjL62KDy6QHIoUVgJkwJqmXYapv6jbg9ErXfWxX30X4Gd0errVckv3yKvgOM9na+V3amgkdQk1rVzkUCZAzQRNPlbikuguZ02goF1m615abNIgrWn+n0HuU0YH0f0RgH-txo+MiULIM0DkD0Cfhzug+lkAckOT1tQAvzD3jAe9TGV+gHiswIPoZaqrLoW4eeWd34z2yHkoG8jpRzETUcJM9B-4h+ovWMBCNQyLjqBrcQ8GIeiB3-YQVQNOyMDNI7A63q30+R8DBBn1NxOfU0dyDBB8sIwfHnMGW5480hHgZUMHJiD6YvFASgYDGGDkve6g4obz3YqUV6Ky0RyD0l-ZaDm2gIZrphrf8lgl0A3Q8nN0EAYqr8E0YzppYhg6xBOvPYNhIivsT1zm1LMZLoBrI3A0BqtP1JjHAGiUoB8A-W27FUs0juKHonAbJ6DkOQc4sI34YFCRGfd-QmI2JqfxAlFCs2ydrTtjEqcJG4IpQFYyEbGoJmejT-V4a-4bQqjahUgjWyN1BHLKIRqTbaoPEdqex423oW0VwXGi3G88BGVeJa3v6pAKSm5iGNUCW7QAAAHSwCvrcVVedg-gHtSGMyd5lAat8jZSd7gISBv-ZiwGD1tP9+xnjocct2nHzjgM+kFcZuPdiaChALnFETM5BFwToAAAF4m0Tjf8Bul8Ao7XGyWkxszvCceOCpnjIESQxdC0jC8RgI5PIMkbcD7GLjQJ1EyCYKo7MZFvRZwL0VIC9FYW-YG5tyDwCfG9jyJ4E+idpPisCi3R2OEyZZP3LcT5YIAA')">function is_indexable(pat) {
    return is_string(head(pat)) || is_var(head(pat));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p43' class='permalink'></a><p>
      The key under which a pattern is stored in the table is either
      
	<span style="color:green"><kbd>?</kbd></span>
	<span style="color:blue"><kbd>"?"</kbd></span>
      
      (if it starts with a variable) or the
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      with which it starts.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (index-key-of pat)
  (let ((key (car pat)))
    (if (var? key) '? key)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+zjwKgaok5k5XKPV4vTqsgA-NjuBgEhDD4MwbBQHAiDIOgfA8P7C3yPMNEbRuej2sQsyS8jUiTIojWPwYGxpJvuk5BfxmHfRYfY-5BAAFzAilKSdURQIGBAAUHagBpCCaHQg2aiYChQYTFBKWBfZn6v0QeYaBe55AHhgieH++hSFmAAbfXqFEaHwKfqAXQJDhrkMTK6Us1paH0NAIwu+kgRyph-sQuh3DgTvW-mw3+w0RG9TkY2PYQFOHSJ-DwmQxIVIiQKhpcBSi9SGk+EhVQHkQQwSMooEytCnhCOGmkKxaciEcJfloxoOiqbG2MT+ZRMxfHw3uMzY2St2buM0UInRydQ6CJMUwmYcS0xSJicCNKUUXYFgUV40ogSQaLgiRIhRaSZGF2LqXSis4EkBNAPXaQPkkmEA2khYeEkomeMcc40oO1bKgOnKoQe7Txj2NyVIvJaRoGKGYBCSRwEACqxADTEGoAAdzsEKPQSgHSgAALR7I4aAjKO8dINJ8sIF4g8zYZkoPgUAqgQjOkoCweqf1JAWOEP2Zimd6mVINs815v1zHVVUJc+pjAoiy3MIMDh0gLriHuY8qQZJWgfNBV85eZhzrkE2HQK2uLURHIWK0tubivndJ6VSwIjoFDEHpJw8EtAYpOOpT+NpBkOTGTBSQfQlK2UCohVC-lgrqVtMZcwGsdxMXcjSDJEIEUBmqBdASyZjQAGKvHJIR8dK7gqukIonp0DWjtE6C0AYMK4UIozOYGZ1AITgpZEslZ6zW7231poeQ+zDnnK0jC3iOk+kSgGSZScdApE-MrhZIZkLQCogAHzEvvgoGN4YPGvwjJoW219dRJO1bQOqU01G1AjTa+VUhwiEHeE045KbVEgksGtB+4z039icYElpdaC3dQ+vm+gYSclNiKGUmRzTm30p7b1L6igfqUD+p01+24dJ5uCSbcNrafl3IeSETKmh9aGyJjbb5NqFzUhNR0BI5qNiwvkPCr1W7kW6KdlkmKvssWlBkmOlNQtn1s1TL7J4miLWWtvda0hOKCDgmfY8bBXqiWsq-UsH9itnavoloBzxwG0gPoVW2WDYKoMoecrB49rKZLIcijBgZWGgg3rvZGj9l4V1hJCay1sv6xamyPRhxdpDhiBGGFVe2QbJAkGrF0VQsCbkelYtGyQcbE0sgAFRib4ZepTwZQBSfzvbOg61iBiirVBShb5qn0DnDanDUhV19nfdi2gYQBR0zjUzI28Nil6DGUOrwNHT0eykLu-dNnfZsYYVpr2oXQDQPrroZE+nDOKxYaMgjwsiN-tdqbfsIrRVmD03kBLxmqGoXM5FqleNPg2YVh5rjb6eICatV6k9vyKFFbM-4kxAEktoVwQ2WzrLoEVGkDRwTOb+R5pSfMzRPyINpxc3E1O1BvJ9hoxBoO614UubywZ6gRmuvmbTrK8wEHVP+kvQwIlImTvJgk2tlQ0LfmIdUGnCMdKGUvyZVKyxwc7vZZy390AV2LRdHXaV-7jRNE6ZvqIzJ6XB3qNLTJ6k5XCnbHw5Fx7+UxJGIca2yHubRHiIEaUjdNqIMDJc49wnisBkjJqS2oDGxqyYNFEqqnzPi3NheAMqRNGZLUYDYzPNe3Ukk8Z2p9n+G9vs6IaQx7UuaeGI6TjzRv2zAM8OHgfeTBWDsFPlwC+aAwajZ1pWpYDpl7loW9kXI+RzegHbaAXZ6IiWm-t846ZjBZmqAdLHLIOQ8gcKdJQhQLQXiWHhnOrokDTmM2RxYzltjhYvGe6LvzExkoTQ8GipCwZSsJ6sHY5Pi3BQ87lgHFFWf6XooFmCi378-xr3wA+Sv9Ic8twIG3fP3L8B19Yo9UGTfQCHX7rqNp5Le-bWBk9QfL0R-8nFe9yVMUe8-Jkv3-ag+IZLtj2YlHth8M6qKKvh6GfNU0RpotWgur2+4aKUqgZE--MN-kslbnwEz+LETvLPDNPD-Wgf8fhPD3PhA-njmNmQEHGaNEHRIvsyqmFNmWpeL2OrnPBRofByIvJ4oAdSB2CgcuhAdQBdKnBcoZPIKWusGnqAKCOCGCqQaXsMBBu8BOHrAbBKnAXoC5oNgMHPHHqQVZBhOuiGo-nYNQRCD1tkIIeONmjpOgSSOziZLIfIL8BQb8h2Ioe3oobBgoaQcoVzJQb2OodvvbLSrFjAbMB9q+tZPClzj9qAM4CaBOFgYgX3roFEO8PwQ2GbM7rpK4e4XfKTA7qIaoLwRgeIdYaAP4XynYQ4WYWqlAj4dEO4WEWbAADwJFuFvCqCRFsaMKe72qqAsgAAqWQpixAgoQqTgKsAo6CDcUewEoAAA1G7n9qGJEFEHcunFYWbE0ZpiyI0c0Tlq0dEB0VkXdm2lSh7l7kUSUfgPIGshUezNUZUpQHUX0U0aDoEEMe0fgJ0QIYYD0ayP0RseYFsSMZEWAe5FkGghgmEfhmEQjoEPgbMDIFkJZAgaQjpFth4RITYfCnZkEJboNt8X8ccYwi-C8dQJZMcTSgQVAUPGwZ9hDscdAmEXGhiB2MkXEdSgAh2Nkf9iifpjnMCaTC8L2Ocb5v6o0A+pwmiS7liIFqwbAVKv8TSnkWIVYayEspkK0FphyH6qUHRmBj0hBooS5mgXwQzj0jJF8ZockbQRyHytCY8aQVofKSSHVgKdeojkCJwhCW8ZhgLvbEzrcUqvcRESoA8eYE8XqZga-AxmYJ8YSckb8dJlKfXkCZiaVmCc8SglCX9nDJAW0WYRYfAZ4lid4gKFYbSWxNnJ6aKgAhdIrLibYXfOGdogKISVxF0VEWSWMYdmkLCqQtSS-NGUwbrHuoyeYUvkfk1mkHauyRhJycQNyfSrySSN6vUmpllPmbRg1vaUECKaQWKYRh8hKQaW6axDKSqXKeoaroKpoSGmqUoT2QJlqZQbqb6baSFJrtVAfEfLrpwOfLwBgMbtmICm8iCjXl8u7BHIlC-oyI6uecCl-vbE+ZHpIC8iXNkm1teePDgZPERJituBBm+e8lrhdslIggBCyEqJpuYEqFSoqb0hnl2HBWYF2IhartBaIWhVQWCIwJhVBRnvmLhfmIRchT6J7JUJplRdIMNEhS4hnnVHQCXEoIKJpsxaxeUT+AxUENBfWWhfWT0rxYENBfqO8GIs4HQMGOJW8JJQwI0CJeYNBQ0bheYN7i8IKIYAmo7v0dxUpWYNBXsmpWYBpaAFpQprpYcvpVhRnhpi8GkGZRZTpbskpuZWYAZYAj6MACZQ8j7uZdpYmrsmADZURT6AAKS+VOWBW6XhXuWgCeXQXO5qXRWWVO4YhaW2U+gACE6IKV-lzlQVoAuVRKmVYVdwLIKRUVBVMVuyaRZgZVFFFVKRqIJlqVLloALVDViVGe8a1VmltVoAia3VWVFV8arVDlgQ7VRV41I15VBR2VvlulgQOlZg2V5g5uiC3IIFEQQK75bSyRcapC0aSoLwoFl58YssO1LyF51e8YYozgAAVsHudsdUXDynYDpdhbtReZpgFDKnOYEOdXdQSLLFgNdXte8jinkKbC5gBNBeemappojZep5WDqJRnpAMQBenIOxQ5VjTjfrGjejYZRnrJZILAJAGheTZTcTSTWJbBHJQAKK4Xk1M103o3QUABySgXNvlPNXNaZYO21DmuKwN0NtYh1qIb1lk9yOlahUR4totMNV1otVBP1wKfa6UtYIaR1jQ0actia-1WW6tN1mtEtmW3BZy-yDaZt+1GKJAVykK+YwhfyJcBskQom9KigjSQZj1Sg8wemEQe6qgeeGt75n5OQgYP5vKgNpQg8LtfQQQhpC0iZ6CwZ1Z1ortJhVeCJLKbKMW9KqgwNB1XRLwSpptkNnwFt8hHNgQhd3QJdbc1AT1L15dYOStT4MNWhdd5gZZDJGd7BBg24OQuKZZUQQc9hMwediQm2WwGCM9Wd3BO5Ase5OuJ8h53AmAp5l+egygFAkgsMYQVE+ojAocoElA4EOQrtnsLgbgAUF9V9y5WJOJAF3sREj9EEz9-RLIkgaxTmYYIxD9R4l9X9A4pC0CwDYEYD7e1Q+oBMnKIeNobRrpvySgpApATgVsG09wVyGDMVDATRQyGD0ZLIfRACZDUWwEhxTR6DpAvdP4ZDtMYY0hjMJABkF0yDdoQq66wy7DR4F0vwAAkNqZsuEG0T-QUf0XAyJBdIgxJtGnw8QBw2QTw98j0foCyHPmIPw8LJ8FMCwKmjfZbNbIPC-cBINiyBAw7MlGY6AHCEIo+kCb2GY8UD4DGSuERK48VRiCyNvOYwROxHY94X41Y84gAjqvvYrEfQSJIKfaHGY04tAo+g0o3G1nYw41SkSNKOKljh0q40LRQ1I00bo0QQY4E9nNckY+owMcNH0f-bcbZIQrk+pPk5CjU2xvU-0aU-o4oIYwFFUwU-sZ05o0kwDsowI0sCyCRU7Wmj018H0+MaUDokEYk+quMyowUThS8ABB2GY6SfhK4y8PMwY1iT4uI9EEY6QhQwAOT-2Dw-13PWOnE7FGPaN2DzOwyMA+RfMWXOEWyShezBGZSuAQgdi-MMM9LQV5AtC9H2q9GrJBjFimiKBIvv5WycjgPrM9MVPdAQsHNET4sbOTMLOMAsBnPEt6O4uqBEu9hEufOLDfMXF2D+2B2kDB3U5arOjBziTryaDGNiLLFNyzhLzXNeUVWpPCuaQvAtP9T5BLxx1BDRqssmjsuUB7qwYNo8umizOhpOhYvLMwIYGivrPQXbwhhWH4J2TShLwUuThGELS-N1jbIOhavwymh8vLxWaCsNxSuevvoiltyonwaNCNMEIYGysdzyv6srm72ObcvusXT0jXIubRpOtbLnCusJviS6v+sUnkZBtRkhM4VitBEdjZsovJuQokkeNEkVtJtiLVsGtTId4Czs6kMkWlvMCJvXDXLWOl0YSkMqtB3qucvn5hP5J4U0EDsNiKuBDKsB2qscuav1u5u2sUtBEzvZBnXdviS9tNvDZ9neuEK2sMZr4Z7muRl4JNPGsxuHugaNYQKfpOjDYp26gepLBLzYFP5BEmuTu4H6vWP1l8tNkuobKB6tP8gfsvkLR-5cZfv-M-v4WetivIGAcRnAeTigerLgeK5vRX4qwx5GkouMCxPkDUCpzGgtBtDdAIeiOvCCieqeukN+iotaNl4DzUdiIkexNuJ0eUEdhwd6v8vblgCQlfxkdP1nVVr1KtlXDkC7za5sCkBvBFxTCgBgwPIXQLRgyG6G50Jzx+jByqBGgl6bAaCMAtCoM4TxQmNqDh72pWeFPjNtAXpdBjOEyNSmcOTsQdgOeWekxLPhO1v+dOdsbRamjGfeevD4SheBcOu6jI7nBf2qDLyrbfYzDJc5Bw12VZfyAaY9mBpXHoImfyAGw8AvCmeSAvT9kQb4rOB5cuZGekClflcEtqC3aZdP0anYZIr1eNfeEo1dAsm-JDdXqNCCmPvClq2hdNeRctdVf8Dtf3CEANfdexu9cPKzeDfe1uctAjdyqXhjcUkFl9m1k-gyS9ihcbe0Z8ZrlWkFz9qketeSAVegCLe-GLD-F1ercDedl0BRdlevfLedfYgwMneIpae-dP3RljcHdMyKy9ig95dzs-hBEARVdvdBEffmnn5ZYV2BBI8Zdg-X09e9kPv9mBAQbbf-eA8GxLcxdBTQ-g+soPrbcYhw8MZCOhtWDYhM9rdf2OLc8d3IfY9A8M8P6o+CpcTM+k-cjC9mCTeU+lCJl8-2eUKOefdKEQ+rkTf3cOmMycWwQqfBH-HmQdvFeaATtUrIKW+RbQJsAhORAXSkfW-YniBPcKeCqTH5EsDYeuqgDifFYdl5f8mK-0dG-kAqfAVq1B9mYk9wamL4x5epcDAQbycuZx+ScpfTOW9aQgUydEpZ9UQp8sjO9sfcg8G77OCRB1SXOf05Ba+u1BEN+qMP7vN2G19Bmt9PZd-RCu0dg18Tr98d9D919DxKpj9tGu29hT8j8ce6hz9Dye2KGjHQON9MAKnft2DNdr+gMb+GEL9jYOivZ79Se4+LAys6Hb9TsQjI5L9n+C8X9KFX8KkJf8Rd16CX0ppYeb8kjHPNkdsVeUCJIFU70ocgjAZeDpA0CaAmk+rfst6wXintzuVPNWkvzmx99l+BmVfr-0P4TlqQ6Anbq5zNRelxmLZekCALAEtAIBIHP-koVKzQIYBPkJfvhiX5k96sFPb1r+xjbK8bO1IIIkwOpa2sXgggtDiJxu5K8UBD2F9nd116-JBBS8d-mIFDC5AWAPrUwm0EPCCgJMdAN7poLYrXA6ANXRDtmA9KHQxW+g7QfSCMGpdrGZbaWIdCl4PICG4QVQeoKryWCdBrg4kGr3uCOCCef2TwdYJeg349APtXIO8iCF+CXgQQ0IMYPo60U-B5jWITYI3bIcMS-gtlKl0sqRApg-uSIbegMHdAUh-AVLk4OGjZCdKKgnwVxEOizxPi3gtQfgEPBQh3q4KazpXGaGwQ6UkUSwMSBtBuCDajtAUH7BkItCeh1QwxpMIFYelGh5jQbNY1yHhCA6nwKIaygxJzC52lQxNF0PIATDGhAwmodPD6Hkt6hguE-qYTuRa1bgqYVvjENgiv91S02NAZgIwHD8sBo5DAncLoE9kZIhAjnrtxIHrMc63Qb4cJCAjqE7B3QmdHE2N6ZEWBk-TAVEXBGPDteb7fkKCD2EwjxKJvTEfcIhHX8TBdA0hvgFXBdA+iYrFkKSNVDkigO10RqHiNADgjDAYrUUmYEWFSAF4mIlkcCIuFV4rh50G4daEZEoifhHI6xDQW5H2N4QTyZDsyNLbQj98OIzIr2G5HlDGgvYZkeqNKCYjvosIqPpkXLawRIW6NDsFqICFiodCFLKkWSNhZKDNkbRUet1gOF24iRQRfytsPCyVBmWi0D4CnHyysdSOjEQMQSBeBOtGRTrdQs8KfCmIDRIMfFAahcy6jsRcImloywBQPD-uqLcYO3RJrUpIxOhXnJeGVHxiCUJI20W7yQRejpAzzR0VYGdEnDgicI0sQah9GEAiCtfR0MXWNE39oYFzGIEaL7joixA8nXoaoNa5vdTO8Q1ATGPOygB5OE4yrmV1nz0dzsAI4gZemETViqGdAEelYFACFEAAEkzUkAABBcAOACZoAAlQopAAADyXNZAESi4I71ZicYkMclmTG2BURrtdsZ8E7EOhuxWI2wOY1HEATe2PHT8YqOIAUtRxKgT6JBIcwd84JlQbji71BrZCiRR4k8eeMvE3j7xj45Cbz3AnJtEJ5mL8TBJv6jjJhjyb2q6yq7iggJ30KIr6DIl7JJhRHBaBelInoSoJwE4gD+Jv6TCPkLQ6NKFnBFOAFMoOFTpQgNBiIDMH42cBJL954V+JP4qXm+JU5oTsxDmJiTOh-EhRR6FgDFvmhIDqciUAABitqMwEgayXaCZMlbx9KA3QC3CZI0BmTFALmRgG5KAHqcmiPAIsaxG8mQR3JYQxgB32Ry2Sxw6-JYN8OCnGghWTk-bjfyCKhMzqyHeKT6yqSxNnJy3VvgOHtGbBYE0U-ftOA-L5B4paXGbg5MSk5SWgnBOYvZMgiOS6pqfDYDpFcGfA1kKgUOPx0Yy2dopzHVlAAkimNSe+v-TKS1KojOShaVDWUTQT-YmIginUyQN1OkChwAOInbUa8EsBdSepRJddv1gg6vt9Cu01aftMqmFS2gnqelFIBFYbxzSMUwSTag6lnS1pvU-4ogKPCLxSMPSakvSLUDfDlyvAgEkgW8nyAdeIGejFILSAzY3h4-cqZ8JtY-jIZh3ViM4Fh6AjL00JABKSLvTQloEK096b33eGsD2BmpIRpILIz15f2PItlAAiJn7TcC3yPwDtPkB7T1pB0oLhMQIB3YIZsgykr8kZmczFBw4uwCCI-IShtAroFLt8LvjPSNgM2V4UShYEr8+C3wvAcECRToCSqLnU1KjX7IyQSAHRfUSbwRHjgSZ4-KIhaPMDyyfhSda9EeyRQhAF4qZXQn9jwBKYvZ4GF4e8PhlBk1ZXwi0vbNIR-DXhussbsNPGYmzlRj-RvjbPNnn5LZ0-IXkI2F6QijUgeU-nLODmazFeTsh5NdNix3T8gdsjWVaLWCezvZjQGSDaJpF2jHZFPc7s+2zkgNz+dsvOaABGxzxjZOxU2ZkU0BY8GeUYokaKRCbUicgsLSkRPNpEYcAZxdIeeY0ULiiuRh0WplWIllXDpZZoFLoPLOrDydCK876ZoBq5itN5UswgjvJyDF0Gee8n4WYCrlKZxRQRQebCBlFSAX5L0MVr3INixzVRmQ-7KqJejbTzAP8-udS1fkgLqU5bYBTbMaDqFrRM8huUJgWgKoMWkIWHAK0jj3ka4sOVKBixg7HRaAB4dsYxEqk38AolU9vJlLcTkKiRiQ3sFdwxbNsggyCDPCoG6mCgK04MrkNYwChMK5ehU85GIialLB4pYY9MdYjUmgACxW-UnGrQPA25RFXk3QByBKlP0pAkQZVMwpWxq0wF+qQlOvMaBgLY54Y6CVApnEkKlc-uAzJVIsXmBZF6pQKWemIAmyDF5Y+uZWPMAAIFhGHWtJ8F+baLIIbiRRfljsWlY4STogzDRP0XThVUhk-cdhMkBXiFkAAGSZpPjqx1k+2JpLkrxSTIFEhWZQT-HlS2ggEiiaBOIl0Trg+SvSSBOsYoSZgtS9vI0tEUmRXaSSlJekvABETFYJEtpXUsolEjhJDdUOtSmokHCAJkgBiftAqX2KzALIeKexMaFcgpeEyxsWlPRY5BllJwrkD6OEW1LCl984ZY0JEmwQxJ1KeKZZVBzCKRI8UoJaoyOWzlQsuSgZU8qtGFSzQcQSCIErMXSLZScwoSact2EXLSgY8xNKyhGXFwNBhQqwWMrZTcTtJQY3SX8u+jqTSsnog5RixMior9JPwtGgCpOE+jEMh9dMWmMUBmdCVqgqqTGMujCAXMC4j9uSqZasgSVvzMPpXDpUkBMZG49zusy+VflSVFK5lZSunJzDrGXK-IEJxFVREqVxIH0SEAAlP0gJArLYhAuNFuN5430wcWcN0zkdLASKnKQZgAlDIyJXrZ2ZoronKrFJME77mrVM4uYplMy01bxJjAQ8IMmDT3IkENVURJhetHLOsvHHRdWJrq4gDstUEcqgaVaVrsi1DXhriQueHpKszIkvBPRnqywLWBtVjj5VPZKmauTtip19VnwTKZ7RNV0LFZatCiS5kfBWKyFOijYN6yVW7zoJv00oBBgdVEonVQPRiRUvdUKKbAGaxWJlL9XS0-sga-ocGqWUcSbumgaNZOoxbxqWAia5xEEXEXODLK6a71cOrmG5qzuWpFBbqCRD0hMp9qH1bOBtUCt7lF6oxWFiPWiKXVOkmCdYzvU2qH1yKmCR3xfVkS31BIZeGEHtTGgyJiMk1Ret0UxjsgPEx9XOKSW4Trxt4h8T0o2AwaLxcGgiZkuTWhrU1MVCDWevoC-DLwLIVBOxwLWHquO9y8tZsSLWiLgNdEh5T2Qgw4b8lLmTpWkoyU0YWN3SpMRlIxZYbLKjG7FfhtYiEaE4hUndCwT7SPVQUYaGYUC2k0d8KMj4STSID5YdDu4tHJ0Kw3thVZFN+IYTqpqQL4Q5NR-HWAPWYpKb4wKmmTdbCM0kb58I5MzfiEs0UL2INmueFVgc0iA9NM-QzRpvbwJAogGUekIEuk3Obs4rmueIpuoBaKdNnm1EdmvJa9iAs4mmLRZpS2ZZWRYqk4dY0i1aLtNtAczVxjS0kkNibKslQpvy2OaitipBXmDjlWnDtws6iVvSl6KlaKVmmHLR+p3pmaot+QDzRQHXR1aBWpmiQAVsYh9b0t6zXxYayWGMB8hqw2FRJlCytbvmKWEWONtUDjaa2g2oXo5Rirdbct04RLCNt00bbjtnm6rX9kG2xhGtBReFqyv8VCrvmHFEbT1sr46R-NG0a5HFumFAqThZy1oX6SpTgqsANWsoHZ0XgPbAlH2kPI9p8jXITRbKSJfWOiUHCEFdCUHVWKR3kcUdjYyEWnKoaDYdtQQQbbiBu1shqAaLFkMtrxpaZ5AAWhQG9vOGUIq0n7eAUSMey-9x6k9XqIvWHpizQAw7NVhq1ZzVtvtgKuUNKWBWiT3qTiYHc4kdDM6U0zvZ8FQA2hKk9mTbVEVAqyIytAqBPYDrMFzF5iFlzqHDiIVgiPSOyaxEHfjsCAshBdy7AZHsuc5Y6Gx44jOTIkJ2y7Mt1K0ndGvt2LsR2wu8cC1sh3pjNMDu0diRm4IQZ9QrrTiloJcwABOAYDpAT1sV4t9wKAYbwkBcV4tH5KYJCBeBDKiyFqwFtbDCCtrTunApFJ9QxAWT4e6enyDcxuasg0A7eyNVDKFLOIm91LSvTd0CBN789QCMQqcvKhRE7AhyYfALPD6D7c9Wg4fYXvXRx6oI8+tivsukCcLuFYCZMABrF1Eqb+dWv3RK031sVt9F+KnWHra1XJT9XCr4ODMZ2vld2poWHbRMa1c5FAmQM0ETWjGOZLoLmdNoKBdZuteWmzSII1p-p9A9lNGB9H9EYBf7caPjIlCyDNA5A9An4c7r3pZAHJDk9bGRemI94QHvUxlfoDeqZFr6fIDLYVZdC3Bdyzu-GLWQ8izXkdKOYiajhJhoP-E71J6xgLhqGRccs1biTgxD1gOf7CCiB3WSgZpHoHG9FBgojgYORZj319Sdg-VIUMHJywdBpuQwfzlNzSEWB9Q4cl+Z4oCUDAQwyQYh5D6aJkK05aCstEcgpJf2KgytoCHK6Ya3-JYJdC10PJDdBAGKq-BNHU6aWIYOsdjsz2DYSIr7A9XZtSzyS6AayNwOAarQ0q-9AByRRmx2QgGPWYB5RjJx6JQGyeg5DkHOKCNeGBQoRt3f0IiOCaAWQJRQgEXWbk7YxKnCRuCKUBWMhGxqCZno1f1uGv+G0Mo2oVII1sddfhyygEdE10Tpl3a2ZT2PkUxiO1tbbkc4qfwLxTOhgChtvCoamcGtz+qQIEpuYhjVAxu0AAAB0sAV66FVXhYP4B7UhjQneZQGrfI2Ure4CHAa-2YsBg9bV-YcZ47HHjd5xy4zdPpA3G7j3YmgoQC5xREzOQRSE6AAABeJtM43-AbpfAKOtxslqMbM6InnjgqV4yBDEMXQtIwvEYCOTyDxG3Ahxq4yCfRNgmCqOzdhb0WcC9FSAvRWFv2Bubcg8A3xg46idBOYn6T4rAou0djgsm2Tey-E+WCAA')">function index_key_of(pat) {
    const key = head(pat);
    return is_var(key) ? "?" : key;
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p44' class='permalink'></a><p>
      The index will be used to retrieve items that might match a pattern if
      the pattern starts with a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (use-index? pat)
  (constant-symbol? (car pat)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6ShyQHrhwo4lpL7dW2lMEK8RrxK3XaG7qUiN1zUE3OScqRLpAkrsCNBYChZi6EsJaXrPdUhrfW3tTbRlFBcbMsKMa7i0m+cwhmli6kjL91QVnoUIpdB59ean5HsVhisXYsKlsDuyeC4p0CfAF6vBN9L8rmqwrlWmUrxZNvxchste72Vgfzk5Kt5hQV02w3p9tdByIaXmltIeXH5Y4cK-dBjY55Ozb2TumeC0JsRfg2z3bjP1EHNMJ4oD+01FHJAdr+O5rZ3xQSyzOe0Gkl2+wANQyf10g-0rT83E04QDnx0nQtFKAeGxRcl8QTCpkgMwmg1rx6iey+WtXQILzsCHWwOEQQOoE1Fkn-BHyaV5UXT835FVTwJyGWW2ikVNQhxwh8W3wSEtipVfDrzsHTxH0EzmTGm9l2wwLsAYM3C9TEO6SHgEKYEFEOWaAshHxAloIGygOXSYNEFnxH0GjUMFA0KuzoMwNXV0LgKjVUk-hQO4KdlAzkLomrzuB6UuE-0L00EeEehEI4V2y9xCC8J8MiGAn0mCGkMUCEOtVkMWXUSGQaFcJckBnSHD2xR8NkKMAAB5Ai0iHpf84jk5vhA9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgJPHcUAAAaj92gTzUeHAnk0cKMA6JzW3HaM6Mcm6N6PyMcW4QLGKiD0UDKIqPwFEGPBqLqOPgaO5xaOGI6MiX8HGPwD6NEIGJ3HKhGN2JgVugTQmJCNc0UNKAqCqBUM5XPy9T2QCAJn0GcDKFmgIO2E9THl8NUNiMcQNm2CVRxwyN2O+E+PuNmnOJeTIEQITTsPcl0gBl2PSC9TEmNQ+36PhOCCHRuPhMxIBLw36NlVXRuKcRSA-G2GFnGGxO911TJCvk4K31RIXnIWiWKMBOkHKn3CaFYlADdWpOSCjjIWSikV0MtlwOENdn7Cmi0TWF0KeKMJyDhnhP8BVPEJbHUNFMjnzkILBC+OoB+JznWWEVGS9UmVeNAEiDeK1NIJhO+OGncK5MdMnSVN5KcIkKDiowhLxOsmhPEBNLhOCTIKQKnC4I5KBHROskxNA0ZO12U0hMcmCE1GHEJPUWBOmOSBJNJTJKOIpPXSpNznMBojdkYgZICPYNZJRM6U3m5JKltIqkFNhGFMFBvDvHbXdW2HFNBKKClJHxlJAXZDlPNIVIbi9JVNkN1OMOeUcm1PkLnPVP1LzgNLMMj2dNNNdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIhbxQi13myFzPQAh3BghvMTyAKjXfIIkcFglLGSV5wfNh3ex104U8kFSkR-NvObyLgsWdUlAzT7RzX8D7SUg1IHCYW3BHRQvMBHXQoXIzWkNwtAGkIIsQqwpLhIpLnIswtv0pRfhzQYr4SlAwpSAzThDoFLEkFqBzU4u4uqIhDYuSAzVmMYFwrEv7GEoCAzWZEeiLAaDoH7jkoegUoYG2Gkv8AzTaJIv8EUBD1AFqENSWivA6MEs0vMAzWvF0vMH0t0CMtbivDvHMsIqwr7l0BSDssMuMtACvDbkMvMAsr33mOABssggMoctEhMtADABcootvwAFIwqvLIroqEqArQAgqM0vddKUqfLPdjUjLXLb8ABCI1XKiK-K0AMq8SIq+KoEbcTI5Kyqxy0AbI8wOquihqzI0SGyvK1qnqjqrKrChaZq+yqqpaIa4qhqhaXqjygIfqqK3y0AWaqa+q+YkqsK5agIJa8wEq-we3SUM+KC68385yWQsSCMATPtXQaCxPWC2eY67eUi06mC5yagBoAAK2jw0SuqbkEFbiItes-LEzAtKiIQXOSDuoQgeuOC2iwBOvwhgsvXWPEmdQzUZUyhzUxp7iCqiREqwsgGIF5lcF4o8qJpJvqjxvxq0qwpUscFgEgFwvpsZupppuCu3HpoAFESLua2aaaM0AA5SQQWsK4WwW3MxyJ6+gESaGtkFGjtUQy67YATCCJaodfAIZOWmre0Y+aW-ibWhWww5WooVW1uaA1vLW4GmGhW+GttVqHCbWjPV8ycEuXfbCP8jMVKRgP8ZEz6yQKQWBPCRmXJAybW-88PQEIChSVBV2vqF8ZIC0z0yKaoaMzpRQXfGw9SNOhMN+D+WETPa2u8ouVU3QTUw27eK9VU-mgIfOr+J2keHoL6n6su-GiumWqu8Qmu-wWsxmNk1yewxIQVcPESU1R4UoBI8LdkzpPeFO+shMM+XAMAD5JgY835U87gTAa3J-dwCgRwc0IcG5ZkRgX0D9SgL9cPXfBihFTcC2s+i+vQ1CCMAksG6De+79IhEY7cRwbY3NS47FCYu+5Yc+j+p+64ZMhXfIz9UB9fOwGIZkImLjGPO+LFCid20gUgeFISFaUmQCDBnyhgDouaDBpM7cYY4IMhgsIYkYyQfByG5SMh3QbohQnqEgEyTUFBhNMiCibhxwNh5YTUECAASCNO6K-vmJGPgdJE1CQbsQE1V34ZFFEG4Zli-oMG3FgdAEUYoLcBYFWkeCvvh04UnH9AoapW3AjEJCYRMc1Q1XzBFhx2gxMaMFRQgdx2cequNW3ECCfGfsgiHRsYCO8Ysfd1AB3toeHAPrbGPt9BMf0nSBFl-B52Ihsa1WTitUGGl2Y3nWccBgoYkY6O0flWFD0YCbsn0c-p2KUmGN-utJ9WtSyeTXIw8aqf7BqZGKKbNRKZgzBqAgqcqeTifBCf9y0eIHYaUG3Cou4d0E6d0bAamELAiLie2GCCKfmOIt0GdTKYMeLOMfIlQhmbGYEeKcYBYH9A1H-pxWWa+B3AAHJf75pBj7nLG-7UGJiTHNHOnzRGAlRvmHLJDCwcccgb6enlM-nu6lIM1tFZghig8hijxyAhi-hhREXyo7pw8nx5nURRnxnQWv5wXdnFACWcXjmunTnzmSWlG8WiX2gfmhloNiWvnaWjLj8o1-bA7SBg6ukohcIQw+lhpKRDGucmjxduwRpTGOaknRXiAc1GnC0BXVAIXG5Zp2W7hOXKBGZbkqQ+X7gVGFWiEXmMmlBxW-GM0fGmGhN6nBhxWKWRpWX4k-mxkLxyReXLR7h9XF5GJS0xdecbWBypTG6sTxIIw6m+hfU5WWM1gbXc4TqdXNQ2IgJLYBNHXzx7QXXtW3Wxo+no30IG5zrEygniK-GIih0M2+lJUgIhkLay37gK27IDXwH825lSGqLi3mBM262KIXmm2OFSHVWg6NXuX2hhnsWIie3mh6GUgBN+31XNXUMa2s3ymbWKWx3A3QNbr23y2E363dZSEGI6ZMh8DBXGzmd9ssLzXc1LWw2j3FXRT+z3T5ZKQBFNM9p6pGoPWAXoIVVNwTWVm3Hf2FmxKFX+TKoTxI9sn+kTUGpVsB8wCLtxWPD3MIiAPsWsDBWXmgORoQPDwwONomm9o4OKYU821a3GA2xyBqBZI2Qg15gv4EOAW33jXBXSHkWyONGvso0aOixSO2x596OjSh1CPRQc23kwBTTIVyOH7br7osJ2yJVyAl7V62BSAHpiw3BQARtIJNQo0RtLdLdfBFC-gQxFBWRag48Fgg9wkhWcd49LPQjQmcbZh4mxAdQPBTPQblMh1bPGArOsWaw3HvOrPk50gjPSATPRAzOTVV1AuZZ7W08WR5UH6M7JFnqHFqNv1LYM0257Rv0+5RS2UyhKhZpTPHAeBdASu2sBzzApE6BCAGgcvw9LZQvwucIyuov100uGvH6yz93SY6uuukzHOT2UhuZYQ0omUsoIx73JTnrAumv7hjOKvCXav6uH7iF+xhY5uAihuquIRRv5heYe4evI4933TY4G5oNAu1yaSpvDT3iS16AUWWvSvyuIvHAgVgT2hhuwnnqVuBvxJmuSu2voNOu1vrveu-uH7BuxvDvZhvuAgMzqMOuQxwguvJ3pQIjnUgfbrv3nuPu7TukDnNSAgQeUeWguuEM+zTuZuZaIoVAfP5u6BFu3v8e8N+uwfjuwJGItvjUdv3ShHthEe2fVvv0JQBe27ceIiluCeoglWDJheKfiFxfyzqfrIhfouLOfPPu9DOfyzbuNyPSo1+L5AVPIjvuMkW3CuqgR2GEQgrfVA350g2AgmMpNQ2OglghXeUWgkA8SoWBsOqo7BxPWEuyovv1ez1ytDMJjfyAVPILnrg-tl0vGvxJNsuuM7XwpF5PLZE-JPv15j7iiv3UoKZPxJc+bl0-twve2PF6epNsGgMo4RsUoGQHw9tfd8Ij362+ZevvNGG-DpkCu+lB++m+DHEO3GR+E0B9J-B-z8Z+x+GPV15-p-G-kSMoxzrUh-dBLDx-mut+lD1TNGs6v59+-8d+AWIj6-V-m-T-Cft-1C4v68P0P2jSnyf8sOdwfGrCtMO6tBz7mwP+uhQ5m2TYgfpHAqnWEOHkYCbweoKgVQA2GY5ndeuMwZ-n6yQHGJnq8-WRNfynDr9dCwHA-jrz9JVosB23GHhN1QSrNiAIA1oIwHAHQsoBBAywqgnSBwClQ8-SZMv3B79kl4yqVVGgOIH0FcebA6lja10AiC0Ot7bgarzlgNw7W+vSPqTjgamkEBirR-meFugkoWAwrWwvMCWC1A7EdANrnoJ4qSo6AlXT9kY1JjlY-GJggwWxHMEZ0XmJbZdEYKVbJclqmKLQToPUh2DDBmg7IEjzAzlZ0e7NbYH4IcFtYX8l+H2iShhoRDrBugCITUAsGv8rBbg2wXlFMGRCnB4DFwSmRCFvwPBS0DKG4HDwB0f0WQ+wcwiqFmCgUGdUIUpGKGvNvBeGcrLcU9QBDtB+AJYBrH+qkRc0u+HofIDUh2hLA2QFBt4NVoDDYuHHeJMMPICjCvBEw5YWc3H7MVvM4ws5n4ypSGsYh5Q+IbUK-jJQPsXQmus0IWFLCuhkwwIWpi2H65FCx-P8n0D4h9RwCwDKTqABJCghz+kwKRKQOkQ4DPaG-QYPv0sIrIG4pA3nuQMyh+Nj+LfT4d8Pv7GFnBIwjGI4Dkqm8OBOSZfkkPkDIjD+Sdb8miNjCYi8i-IUEEiMIFDDhyQTfAAOh7jDE-G24ekaGkZEYdXOnCCkXiPVR+NpS5gQ1k4Gf4UijAcIzxLYXAg1Y3hbwbkV8PxHUjBRfAzcCKNsaLNce3wiVhSO6wYiTeeRaDCKMaHShoMGow0VKC1HoiyR1LA0cTwMhDoTRNopyHqReYsiGRMLdQbmgTQj0ZIqw-Sh31x4GVmhVKb-gR11Q+giwGYVjikx47HBdAjrWUY61+EYDaeZI5rLV2EiWxzRpI3UTS2FCO15RkYmMaMTCFSgExD-I0imMSikNWR4eGFjsJfgvNIyXothNcIrGzghIQ9IkfEnk5jCtBLXNrqZ1SFJj+IFieTn2Ne61A18ojaHgdwm5AxhSL8AsHQHdGN8KQjgErr0EzzyBN4UiUzpbFLZbiIRAuZ-qZyMAUMfGBYUzsPSsCgBSiAACS5qOAAAguAHABc0AASqUUgAAB5QWsgHEh8FrcSxWPqpQLFAJMxZUakeP0IAUEVx5ITcYsIxgStuxsEittGLAkkjU0LzbsTIBaCgT6AmjbCXwm45u9Z4yXAFneIfHPjXxH478b+IIlWBPa8wckKhJIlw14J3WXfN2J9GwS1xb3DceBKGSNpWJtAa8KsOI5S5G+xElFmxPAkEi9C4-VYeyF6ECZH43w+FItCCQqcFg8ibRFJLI60g1J-vUihhLkkQsgJKnPSaRNknUiCMI9ASEJHloTwYhlsAAAz8Eeo8QY8EVgcnCsywSfSgF-EVQ+SVAJAdTuJHRaOTQpwoEYjwEPF+YIpsUKKYwE0abZPJtA1vkoH34JSpW-kuHuPwiLBMceqqbKT6zbABTCWQ-B4T1EsA1x0pD9JwBlGCgOTtxs3HyTlLKmzBeCyxbyeHl8nJMbkAUjPpMB6iaC2Qx4GQL6H45gkqMqA5jslCZAJd+g3UofgQJKkitcp3CKEMh3Q628Iio0xwONOkC+hiCx7U0ST0sBjSJpuOZdslERhPs7uUfOwPtMOm+gIpwYkQPMEaiwgnAYrSkLEWgbd9ExhveJM9KunySkBvA1AYHA25VlORCI0XmIGhkGQgctuXXgLDyjRxUE-w7AQP1wEZh8ByjakWjM3LSJpx43WEcEmCD0j8o5xdIKDKOmKBsRc-dbtKA-BCNpuk5AXMh1FFBkTUF0g6VdOILcRXG9M30FgT879h0g1MzUD11pKKDT2mBfmS9P1buinhko9QDSHz638+SkE5pJgJwE4zR+wI-AWCLLEBBhYWAmqqMxnGZRzeDcEgL0R1HATGZQInETgKGQOj-A9pImaMR4FeshRywSYhzHxp4A24YciMP8INniQOBeA4Qt7PBHnxIRBsq2Y53mmjNHZlorfp7KZlBRcRWAIRgXPMDMDJZG0LxPDO77xyzZ1EPdsLE+mfwfpawb2abOMIaFQ54c6aVWhdFsi3RJCDGRKQ7l+Z4R2s0yc+2twOyDiTs03qoDa6qB8eQMpQYQKrGuibe4ULuTWJXmRgXOcgLkTPLax8iR8io4UeViLEBhS5EovoBrIeD59p5t1OeeoUPmBzZ5PMm5mrIvnkEr54eTPPjxvmQSYqYAMOW3EVERFp5RgLVGqNVRPy-G48nCJaP1GFD8a+otrGdJSDQLJ5eRUtvAuLFFBS2SCz2X8SdHgM15jI5cU4Ail3x0cQrb-IFjqzo40WDkr8h1loCLBoJtIN6ePwtpvSB8CU+fGwssH9AX4uOS7s1IlmnyoW0gcabUFFS25fG4DC2kIsvodDLSDtIsD1KUARTYxzLZVAhNsAaLcxII8GX8OeqLAI8qiy2DVOUJD8GpawN6SomeqoLKxwbJSKgstFxiTJDomEMwvIzGLdJb05BdsFLHGE4pmEexW2PTF0jl5dYvhBhxegKB96zLJqb1PnzeKMwvi1BI2KsDejrhIStMRvCvEiQKJjgN8buAAAyXNP8fOL4TuSpcVgCyRFNFDWT55CsuwNBLZCwT2JiEvxshLG7MS2IdS9pbYApaETUwDk0UAPiGWqLRl4-ApUUtKXgB6Jw4FCb0pGX9LU0CkroT4OOHKQuJ1wnieuJKwCS-FRQO-A5NEldCnwho7ZVsPmIXtjl4eU5VsMxbuiPafShpeoTWVbClJ8gFScpAimtwgkHtUkGQvUXGTtFEEywoaPMmqUXlJkmye6IeCxBepfzHMT8y0XdY5JPY7ILvkUkLDvlRQaUktWSiKS66+wfQXYlQS8wE2aE+gMirzGgrTJZ05oc8uWWuK6VNkyGjOTOGqyYlbIJFX83RWrCWptPLUADXEijjGONKwSTbDiW5iI+C84VSQDJmw8-G8KgCtKp+Y0r+VZwl5vKoGSX4LsxLDlfcJIWMSKQSXFUXwu6JWitxLjZFIWGf77jclnYvaEOCDzUcqVwItpXhM3i8DYJSXL1d9x3ERdLYuyviSVi9U9cpEmDdcDOjwkYrne5xS5b2Pc47g8J9yrQbKqhr3QWu5UVNWJNCFLMqVugZoVGpqnDhY1Aqu9jIL16AZPSFHSwKoo9XdKElBiocbLQwmWwPFsgcjDYsmA+rulZqjCUjJSCBrqi4kENThH4mDqI1RimwKWobWrCTajkRNRMOTW3LRAaa7IBmoCCqAs1q6iKRupYBl5+wERYFcWtnUzoEpFa3dn3INgFxDOswJZb1KDyWTaQXq9YaQoclTJhJqyvxlxzIVeqXmXHPCV+ukm0AB8QGqlSBv0lgaDYLq+tbGvX6eqqVopKRM0EpXfqLEBSqie+M-E-i5lkwLDS+Jw20TylBa79UWp8poaX184UUlNG3AVB2ONazjg+tUXNrN4cGrJD5MQ1Nqe1ra0AFRrqWWxplJSspfzGE2zKMxuPU9ZRukCPra4QSuwPRvKCMbLy4OOsjCE+ojwFWvpEmRsO02z5RyGmoiPpvYXLoRoLDazDggOiaahAwnTaLvkkEWbJ0l8PunMAcA2ai4JmvhTjnM0GbfYnFDzbGXs2mblMvmzRj9jc10BAtdm0aA5tXRha5he0eII8AdBsQkVvmkLXR3s3uiNN1ARqUZts2ar7h76lkq5oK2ebytD8P9oaq0EvNctjUiLZVoXDEBotcvcwFKqRVPZKtF+VrWLzCE1bMVBGHdQ1WhZDEOtzLR-LQE+p5ai01uALTNuYTuaiIY0AbWsL4UcFItgWgyUtts0Stdh4DUocKAOGVDSVmypSONtzHAJ-NO2igItqi3Lahkq2jUsrz0o+V5tDWqzQFuW13bet+c4JE9s3TDb5icLcqBdp+Z8V3NM22vsImS0rQgIRWrQVivWU4qm4j8fFQtD+10krBYOpULDpjxqqlQlbQ5f2HSUUdmxVyywk-Re3GhSdmSinffMLnpAqUfW5IE9tiRA7XU1AVFjuBx05o8dRAx4cxMwYADEBRpfJB-zHoT1wgOdTYO6JnZctJk8OwgXGtliKlkdyk1HdKHR36QKQCwe6EoFd660qAK0eEtsy1iEDidkEcQNv2MrE8gO1uk+TTQqg4dqoFIgnowFD7bF85hcgINuHl2DtACDbfzrTvJ29ji5IzZnfpDZ3bQOd-uudt0jG3cqCdOaOPUOwF1SJmQLrfivoMtgABOV8D1Gz08U41pMGAUBgcACU41f5NwHfAHjfdeBEJDeLtz9mQQ7AARFyfD38BF6lQtzW5uVDQAD6t11cm9egK70V79B1LIcCzKlDd6q9rgRFIpLUxDI7Ad4crLLIenmBZ9ik+fTIV0CZ7ItAld6SrnEU8UpF7QKCM8FdUI7MV4-VbezqzWZoT9kis1NItB1J6-mOaGQBIrP0C6eoC7AnVBDGb3RFkwoJoA8CpopchVlsFNrUGdaut+WuLDKMNq-rPhHlvaxiAhEYBgHSanjcSNuAeCpFEW33bvfMVvB3gF2oAP5vYCAMiQuy1lBOhGBINMtLtWoLyOjP1jGA5ZNMRiLGoo5UciwD6uxKwe+5-qfJz64DRBu-UM5fm0+5IMLEwPYH6ouB5bGyK0B3pR9m+8fTxVINkHuyVKrCIIc6m6Hbw7Udg9HC4NmH+5RQEg9uGMN3gqDiUBgHYfoM9ct91wwlestxWOjOyUVc4swfVU2jDdV6f-koC1BySi1DuzWq3EMBy8cdRLJhp6IyWh6JhQYynnnBfYb5Ry2iOgMeERRIH7ogq-iFqGgOaLU2l4eA+60QM0GUDaBvjboQsRxGwjHo7FE2JL2pGFNgLARfUYlac7G4wEhNHKPtAWMhG6Qfw0qCCN-8VoTRjWiPnN2-4bd0RxRZOhaUmq4J5qtIWMITRWrHVXUf-UituaRjFAWCgADpYB-1JYWwnwfwBB49GzOwyuNW4gGQ+9O4BQ+QRg6vg9j8Sg4zxyOPFjTj5xr6WxCuM3HNxqqQgIsiGSRcIi4J0AAAC8Dm5gU48kGJXAnTm8x+43Cc-qORnj24V45qHdTi9uoWR+gLkc3AHGLj6kVE3owiqbMsKkgIYg0CGKkAhiMLVCLczPh4BPjl28k4CbNSUdrjaJmk5KwZNMmWTmLHE+1CAA')">function use_index(pat) {
    return is_string(head(pat));
}
</pre></div></div></td></tr></table>
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.78" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.78">Exercise 4.78 </a></b> 
  
      What is the purpose of the
      
	<span style="color:green"><kbd>let</kbd> bindings</span>
	<span style="color:blue">constant declarations</span>
      
      in the
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green"><kbd>add-assertion!</kbd></span>
	<span style="color:blue"><kbd>add_assertion</kbd>
	</span>
      
      and
      
	<span style="color:green"><kbd>add-rule!</kbd>?</span>
	<span style="color:blue"><kbd>add_rule</kbd>?</span>
      
      What would be wrong with the following implementation of
      
	<span style="color:green"><kbd>add-assertion!</kbd>?</span>
	<span style="color:blue"><kbd>add_assertion</kbd>?
	</span>
      
      Hint: Recall the definition of the infinite stream of ones in
      section&nbsp;<REF NAME="sec:infinite-streams"><a class="superscript" id="4.4.4-sec-link-3.5.2" href="./3.5.2.html">3.5.2</a></REF>:
      
	<span style="color:green">
	  <kbd>(define ones (cons-stream 1 ones))</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>const ones = pair(1, () => ones);</kbd>.
	</span>
	
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (set! THE-ASSERTIONS
        (cons-stream assertion THE-ASSERTIONS))
  'ok)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPE0GJC4UQ8lIGBBLQKCyXIFEIehiDoSghLieNA0G9IFBYMh9HGyaahm8JQAAH124zBo+UhqjEdbFE26bZpifbDtSFh8HwDghHOiapu2vaDr9JaMjGi73uu2Jbu+1Ixw1V7Lu28KsHq8xhrchdcOICGAeeQpySCjaAehmHLk4wbmDECRhCG0EjEoBRKB2Pp7jEOagsGrCPkp8IADJWd6fpBmZ67xPZGnCZx2HklSOhyAUZGsa266oIZ1JCeJ0mdylq6rLFiWavOYXqV8FanoYfAZDScXJf+6X6YWlw5n0G8Ve2tMIu1hLiAYC1qDEOgJZm8mTroMRuGIAAPQhAjcZwLYSQNtzBcE3Y9r2dO4Y7ToD4PQ8McPoe1wa489q6UfNqj5sjkXacV6OC9V0BY7D+Ors13H+vMXOE4YQxdYev63sL2XLc5kYb2t22zauyZ+S1vGPJbq6GCRhgg5D4gw-oSuPt7kv+8GG9h+70fx76gtQEGiplDYcgypXnmI4TAnyCJ2olbBHmrONIQZxPs+L7oeFPrusuH4rs-au1YTrigYB-c+WVv7hFuhPJuLgIFfzbh3J65MWZUSCkPJMQwuY22wVfMeWdJ7mEQVA2eDF55pyXhnS+FMZbLEwbg7e+C6GELOAffGqQz4rWEOQShi9l50DQfQ2Ict-4k0AXQqy3CWC8P4enZwDdtYyLkeuCgEsRqGGEUJIKNxsTtz1guQ2xsJbcCwXaAhDtG6HxUXwh6whfDaIwX3cxWQiKsP3tYzhDARJt2YFoBOTjXxiIVgAsmQDwS+I+FQYgCclHEJcL4heCjaHoOCS4phLCWZWK8QNVIbxuKok6EEjGfdb73wkeEqR1cCnUCKQuZJ1DFEwK+s6cp5cqmUxfvQQpzgfjRICfXKx2tan1IYIvbi3ItAlNEX3aOPjKjCO4HiYZCSVA9LqX0hclI2i1m9lfZxG95mBBkEs0ApIiHwPWSITZ9AfidBGmLGglZkYHPSUc0ECzTlAJ0Dk7OqRjDtGmsoV5rDDk33lnfDpO4ImAr2SC+JVznZt12cC0FlMwjgqjmTcEcK0XgiTnQsIlzD54scC7AZsSrpaLebEBhGSB5ZNmqsq5VRSAfD8TEwJPNMXvITNbHlLLD6hxnJShONKiU6L7u4jFQrvGxM0LiMlILhG8vpRvH6mRVVyryUNdYor-FUv2ZKrFpd0haplZQCYQs1mDXYB4LwMzZkashRUx+ZzwT2uUF4RFh8vVeAYPYxxbzSkb1cdov5trUgaEICCKZzgnXFwheI91ESY1xqgb6ziwt5FNNSSImIjDGUWI8SSzi58xC5sERKtJ6r+WZLtJathjso3kM3Ava+i1XXQrBAvKyxQG65PMINaoFRA7in0LxTtpdk5+xwSMKdLSj6pBAfOwYi6bVXNHUHBgRJDaTqoHNRs3RGTWynUxMRq7ujhFKOCAdoBmjdE3YfNKfjAjixxGybopIi6NkakCNKn6yy+AuaGhM-6wLBnHPpUA5q2APupM+7xpAMigq5aPIuISoVhJhYahOVkUMcCzR5N4p9eA0KEYRus6963Fv2Kh-e2sqOBvwA47IDHMNlNFr9PBjbsFUbHiuBSOLOiOXIL4eWKHiDwhXM0cNtEGOeO1h8YILsLTFnKtUBg27A76HU9pcORcBwjplOOv4em3AafoJMIurx6BUhPUCHTu7yz7v06iICRp7MCGUIkQIM1XaWYM9lY6-QxLGUVK+0LH7uhWXc84Ty0WFA1XQvwHEcWguokS5Qd9yX8LOiwvF+g3AniAgAHwqD8zPIrjAkuPlABRF85JzhwNJZQVTPjUPacYDp9jHAj3eZ4FQR5jJSNngo31xi5JjOpB0xO3ijybNQTs+8AQjmj6mZc7ifdC2yB0E8w0RsvnSD+ZnMxpLgIIsrCizlsL6Xq5Uey7llL0wir3ciahp7YWCURawlRkr4QAQVeO6dzrHA31hfq416MzX2FDtVMYbrY6D0FsLVxt9p010o88RwAQAAVAAEgAUQYAAQXAOAInAAlPHkAADyAA5ZAQI4MnHh01SQahAtaVRFo3bSRuByBNtOsoiPev8-20J8QkgkdBwfjVvnw29tTBUtLmcnQFwK7LR5V9GvudWfeKVmjgZCck-J5Tmn9Omfa-MK+nT8vMsNRR4tzjG8bu5f0M5vdpyJfWAyzzhLSXB11QSY1ZqSgoBwEQMgdA3U8QcI8sQXCMTV5UxaHQSsUqXWkxGsUu2s1lLCdz4jBiqeVcmWXSY02u9tqF+BI9aSyDDHkLPK8lBRijbq2r5DWaAcM-l9V8fEwn8oFl7r0nn4pDUSp775n5SzQc61zzt7fPA+iilAn5rpfgT8+z7X6sSvoytlj+dBv08DAj93K7j3vf8-K+2KrRN1fdfkXCy3OLWRfC1Em00WX-LekGgH8g0-90859nQF8AVUVyUT9FQz9+koCVVlUKU8NqUQDpowDFQIDA0uRHVn9T8Whz9-UZ9QD99YgsCokUCV8R5a98DN8FkS5OVBkqCa8090DSCYgsD01qB40V48DYDBBCBY1HFN8Ohpkc1GlBE0D+9-8rx5ljEkYtEK1H8ndV8992CEMzJghiCbI7IHJnIdYZpyBA4vIfIRCYlB1tZ01HFkRuAK01UXRhRPdUgQ5qAFBNkXkGA39kQltDQgorDxkTo3DnkXYvCHBbDSAxBiVlhocj5HDBosZyhPCEl9BvC5oYh3wl4MhiozCxCEkWM2NvCZCADpgg4tARB54M8Dx6BAkrtii8w8jv8NEyAtFCjai6i7Cii6iVhxDKj5Bl8wRUiDtnVk1fEkZRgaQ2AC9VxShRiKE3gyiwRQ4sj1CyCgx1RQxojnwYcGhNDNwbDq5bJ7InIXBtZKBfASATCBChCXsGs4dlFPl5CGItEF5DA99bNdENA9MIjysCCawU8K099U5CAoiW0rk6DL8xZr8AY3jjdS4ct+BVBhDk9pkISfgJluCU9VCSCVi4CzxMSNkxkdkgVmCe8-cSDjJTJkTTYbkxkHk9t3IXkpDM8kNE9z8kDVUYTps4jUgFUziUViTEDJU0jhjAwwYNjCgYiZs9UOUxV85BVhThI+4cjkY2UZTKCn5JVOA2CAotjbNYhGxVSDVKYW9axGQItlSUiDw1T0NjVZUtT+8mJBRuT6CVQTSVSrSjSZwkYfDYwgpDS-FjSkZHScxdTltpggo6D2S2j5prSmCrVtV7TmSVw2I7i1k5CjYHBc5ah9Au97CRTRJPiGAfioRMyl9ag4RuBczI0rlDBuRGB8B+BwFh9IFecy8jNnT2TV8FTrkqQeVGQkDGCjV4zV9gy0ds9eSlUED0UrUViShYNfo2i1hBDppuY6yDZGyp8nd-TZTbSZy-doy4I1yGz35myv4tEDy-RkV2SRVBzxVtU2EJTQyVwxFNzeDqCpi-RhMdxXzat28y9ZzmhWdYdQTD46CiDd8SDf1Bsg1GR-V8jHERzyRGxuw9R+yjyNzTyoEtEg0hjGxSyM4PZah-1gQHiMyxYyzBgUKoi4wN4LSg1U4yiSZ0Cqj+jbxuQ9ROiui9J8L3YNRXjQALyuKig2DqzQLz8KCbSwQIK2DXcExkVZjW99A2iLSkkqFJCsSRKWTzA6Dp4SToTIKoJGwkZGQLTdKvSKEJCn93yyTtTyRc4m9O43SLMCL+iHLUEsSkY98L0+4gzUywTz8fziCZKoJ7KDFHKxify3KoTzZOKLTIq55LKE0NLpCVxbKIoQ94Ew95AI82po9OpuodAE9h1JNax9BA4Rc7VHpnohFyqBLPzQBjC+Z4T-gKSWgTstDA4rIHonp+gXAF4TAtBhAAgTBiBqAXlhBGgLC1lX9kjGjJBmjuB6KDKwNsUdxwQEjyjhYfsCI5rNFFrWMeg0r2d4j-pEivCKru0cMBjuk3ozqEliNzAc1drmiUiRdjlFkZBlkdVHq8jgCZA3rPkTkUjuBQNWts08jmK+jAl-rZLVqzsPruBfktKCy7gFLSr5iMNYSSK1q0bpNuAMaoZ2F-kXSkgnLvTYa4TsNKkdxPKHtLY3SHrEl6a54CawRyasbw1vTRLOJgUvgM4-YKjKwWLAlgqVqXAbwjrtZ-ShcJZ9BRaaLaNBhJa1leb8BEcWBrD1EuADL0YFbAwsIZbtajrGxKAaYJzBbharpGQgL2dX8tajB29+KFCRcmZHb6JW8QT2dDaoqWita0Y6U9arZcFDbvqTita3TfbhdIhdb8y-wUi-bkaWhA5GKLaoa5S3aqxOh+KWB1gXZ5bY6OA-ZTaHbDFMU+ZC6xBi7Twlh6qsI7aTYS7O4nas6ySc7Ec2DWqK7i6wqnpMUAAeYEaaSu1QfQau2cmDXYiEPHR6UAG4OgXwQQCI3gcVJsQQkEWoZocEUAAAajqrqNnTECFGDUdvCF3oJWrh3r3uKIPqPtHpbvHtMnas3HBGnvwA50ckXrEGXupVXtjWoA3ovt3sEpiBvpkGPtLtPuriskvuAepBy1OlvrHu5o8jyiiqcp7rYE5KRBVozyGkemxHzoaGUzrMbt7vdrzOdDETg1Ib1HHpmFALwaICUqEtVv5srUhuqPzhEsEuaAwZHE3hoZrrqNmFwTHtgd4ZIaIhPptDtCQdHNuJWAHHQP4dNrzomj5I4f6O7MKEnowaslsgenKFgxNhuNYifNjANK1sZGlvttst9L7lrJem9owcjoln3KEqanDoUPjuFyGIlNh0DoYfRAIYdL8sPlCvb3Qfb3dqwdiG1nQMYZCczz1PqJrJIZcfIe0djs1X-BPujI31weCeYeKNYdOlTs4e9m4YIl4fb34YFTyYANKHgmtmrvdroYP0caESkYgZkayDkeTKvqKCUYzxUbNvUdxE0YTiyZiF0eiYOLoEMZEGMYlkuLMtMcfMjCawscG0NusY9M8NsdCfsY3k6Z8Ylh9rOb5E4oIm9u8ZDr8ZzACdjoSaKaOukCalD08Zakj3ahjy6gwCKtLhcKCLGpCOSO8NNUr1CWpoGLCOrmBfcOk1Dp4ECMRe0wmg4ATlHwhb5UDHDVSJxkKlReCKSMysZArnTArnBDmHPtiDmFXHccAJxQ5FpZiA5AZc6KpYwlZaGwPA5cpZxWjh5ejn5emCpZyfPpyedEZaKCpe4kMFjXE3PvlcVYXsVBlcKCpd2NZd2NjA1diCpZuFNtdhYEMAJSNdUBNcahWH1ZiCpe3p5diDKu4F8EBwq2MN3rVdtexpjk8kdZiGddAFdZ+OMJ8i9c5ZxQrOmEDeDaBwatAEhCDZiG9apeAH9YME6qDbdfjbAHDYFbWoAFJ02Y3s3jCC2k3QAU2cVxJHWS2Q3+HXWI21qABCSUWtzN2N910AVtoERt-NmOPu4tjt0t0AAemIPtsVnFPugEf1utuN4w6d8dqttasrIdl1kdirJdptmOMrGd7gIoOdrt3drd-tiEZt9N+NwoONmIZt2Icq9MAqQbBFklnNFxy7FYPRNdbgZ90F0lgsKIol1wtFnNfAFgAAKwGv-RXE-eRB+K5eJdBfPvxYcDHmudiB-Y8OFiiMiifYQ48NfhmmIoripbFOEHPtI+9Y8btZxUgDoG9DqV8Fpdo-o7OMo6o8NaoEtdgEgFZYtYYG47Y48Y4+NaJx5b46J0E6EqpYZ3IAZ3TZk4Z3ab0kfdWxRaA5JYI9FUdvfemBg5+Otn+u-bw5dk04A9w-U9-c04jp04aD07jfxYvDU5Bfw+8zfmw8sLXtxAw7BfgRSLhYrWjhF38K0zVFIDYF8DKbA-IGrFrJOk0GKavG8-RdjSHOxZQ7Q4aAC9BARCKDCc4mnCxHKdYpF1KJXKK5qLQhjRXMnWM7-digycGYAKS6s5cck8KCq5EBq4s8w7yNA4g9MH4tgac7Ras+doy8KFUfnnGfK9Hhxlx35hdjEC+BzoaV6IqeKgK8IBm+9jTHeaw6+Zyqjw6kwABfZ3mIoFMAYCBQ+HKhuFIEdRAWoF7Apsr2WlWk3E5vPie7+EExWBEbo14z6a+5IkgfBAYC3t3tAccU+9AR+8mFkwEZvEe5IhtxcHGhuBRW-0Gp9lOgoaTUDHIGUF8wUAyBTyMFsKJ+zcal3r0yJ-4fBC3tvS3s3ugd3sJ+UDa+dAZ8JV9kiORYcDUWMBx79nCMiNF4YAF-PmMGeGgjFrgd58vvBAhEvvR74WMCx+zM-aUMl-ZW1rsJszPusHBFR+lEF5dhGgUC+Lphe5yat9INvTg10gr0GgrgrTZlZmUicLSB4xvDd6XXDT9+7fUgHXt4MGtjd-p4HWMlKHO8J5nGu9iju8dTd9aq964J4KEQj-ZiuyWgbvELUomz95xOrmV93p18Rwt6xzsLt4N8a5WC3oh51mb2MS7z8-gWUJXkD6AdXAb8vvL-N7IEt4D4iMUIiLHlPqu3hCd8wNN6l+RkklBHPoBNn916YEH-h5WCwMKzH6l374hG5e4ArnD7H96Zr+4H77X9IEEgR6OngbnRT7++rgAHJG+K1FeX+Eeoe7eTeL+gVSBHE-+wbLGrbwlgrQ1o1sQAZz1XBUshAZHKyMEHPrggHIicauO5kQFUZ4QG-eSCvyF4QDaw--MkjeEgHn86AZvS-tf0344DkYeAsgI2zjrECqBV3fAa60TpRcYuygOLuZVbwBEPA1COWsHAuquw16GJafB2ilwwDhBGfc+vnwEQTYO043WIJ+zYHrAOB1ATQG6R4Ego3AovZ4gIKwGD5RYDdMQY-ypYDok4kTFvkYL0EI8F4idQAcgkMKBxNBfAjtO2QMA5xJBo+DtMKQNJ5E+GQIFcBgwNid48+ENAvgmm8HBkiWvAyzCTDsLxRPi9g9uI4OcHaDP6ugwgPVjHIJhX2tTPmOCG5ZS4sIZ6eQFoOMBxCR+ZJcNCHBiHlDXYlQ-QU0A+bt9-B6kIVkUNKHUJ5cI-BHrkMMT09lBsXNQVwNrDT918vLPYn4OiZtElB0XFQZwI0E1CyhOg-gZkMaEH4DaUwwxEZ1qHdC+eOpTZv8ClKt9vBepIKKYPPpBDLBstSIc1nMb+glSwcAKHlw8hnESAqwwQVhGMHYDrY3w1XJPT7TzMji+hRKuYDeFIsTerNDIZ8I3AfCpcEtAQTYKfqrD9GuhY4knVkEkZ6ACxM1sg2biO5so7WQNGpmEAVAlaAgl7uCI+H080BJvAYHEIJGMBgCrgjmrgihEfC8RKNF2CwFHSY5keyETOq3hdqwj+RS4QUeeBN48ibkAtUUcjClHcQ-YIua2PKNOjIsVRMo0vOqOt5Y0bwWotUbyIFpaZDad9WHmKJDovc2wngWUYLgTpE0VaydartaPFHa1zRWNOurcG5EGizoTo70jaOFyJ1NIzAGaE92mSAjDaJAxZiTBAQMB1AIgDgKQDmgjIiAwhCkWGRiBSlV0pwtMRSGgpejYKXo7rAcysGEA-RbjeRoEy1H8NSO+TaUJGLbQxjYB8YlEZ42FzRlmguQQgI4i1FOU9RDzciLqSlJfC9BKTB4RvCwgdjoeuCbwfjWTGA8ORfYhrPcMoaPDCA8jFMoEwnEfDE6SWIQSQHKIVAz4vgbMoYDZAHjxMD8QwD+mAHcYtUJ40PmeKPEkxLxTwBHsUNwR3iFBAbKnrdnFi7iyuD448T+IUAIQjAKyT8VR0KAASnxpIZFtUBGjPQPCUE0CdwCgltwrxcvW3neKlyoTnxpBZoG+JGAfi2ipWONnBLIAISXYSEnCcSCeDgTnQJEirDuKIgrIlMayHcTIDPgUxPi+xPHn6U4llEIcH6HcTBzhbWo7RrKfidNEEmW86sNvG8f+CAmh84MN-GaORP6CITIw54wYBFgFSKTxuDEpqJJNqxASfYYWECXVlYlgkHR5RIUBfnsygh84To3hGnldFIVcx0osQPmI8mFjjRTokOt5Q3iVi+Y1Yx-qV065OSqApYvkK+KVyk0jW-EbsWMT1EoTIpLYssS8PMAS4GA8UkerxBSkuS-aL3XZvkJkBJhagW9KXOCFKl7BypNg9oMUjylcRD0dfGIKUF2YxAb+K6c+NjhakT1rJJMWyZSAcnexGpzkqKXhMrxYQp0oAdmJNNhHOTQ+WUnKXOKnR0SVgN4BaWtNeyxTGAy0s9Iei2l1FrYm0objcz9oTSqpZUsjtuNOi44QsJk2qm6NhGZsDJcGTkSoD6DepXYjAGrM5QNzcB7BjU+wa5JWxUgcpCyCYsVCWmhQR6gM1KTVm4CnSCIwM20YE3BlLFJi9PaqRwDI5S5lJlAthndOMke50ZmRSYu9O9AMiA89mZ3HtnGkvd2JnEz9rUWcnL1ysB5NQCYADRCB9cwWIRKzMshDZKAjycaZ+JkCc5LWCuWmQLjSkPg5ukgOIF1lyAOARojIAAAxs5tYNQRyGDjUyeDYo1AQYPTCVkNlVJpARkMxmVlmzL6eIAKQmEtmmyRoJvZFNrLbTfdHgTo5jOnzISGzhRB4CEGYImGTZdxGaA2UNTjqyjm0gLeaF3jdnihZslGDjIZUGxez9ZmmM0LBmIA6zU5f9DPtpiNlMRTigQF2GJjYCOoWRz5dHJmIpERZSgLsrOXHPMyAic5oc9OQBTmn+y-h-BLCLdhLmdBHUvwvQYdN7kMBS5jqBEWsPbm2Cnm2QwMCPLHmTZ3pFQPcaEANhCJARfkwqVBCLnEA+5ZcuWt2QzHdSHwI4p0gYF2TFInRJ87MSsCCjNVyxIZQ4afK8yqcWAXkhUZWiNG2NxpD8xUoFKrHgRxwwDNqVnWIDANmg88-ufoESmaish2oLANBBiI3zsmzhWEXWBrGQL95vwmzPtHZDFzR5UCiWusL9DNBSpUYNcTPPx7i18FC8jtInTCkDSjYk0MOOZh9GdB6Zyc1+XmKBDdiv5DdTef6K5IGBKxPbNYhBG7JBQHAR9bKTDOgUFikpXoskkjMKCngf5gzSUs6VXSnglsXFPAJCH0UrhGwQU0ALwsYC+T2FsshcUFBEWQZ1idQWMKUCkVgMZFfEEetaOUUmL5FmoxRShGgioQQ6EWUyP1JNHuztaqiyxQcMogDhl5K5VICvHCUCK3GaMPRQYtvl9xLpNU66XcKfnZiIywSthZgwiXAVo5Ti3EMtMIB7hfwIM2OsVPUjYzapj-DJTjLGEH4L5WQCpd+1JBS5DanUttJOhWS9SN8-U7TEwrVoZxzMHSngFUr9q9LV0hAH9FLgYUjLxkYy6gBMt-CTLzRoAFJZCF6VTSBls0xmLCPmWh9SlLi-iDeAqVQD1p2CE5YdNiBnK9puCK5fcqvBnpSQry1cPcwR5NLypidfwnwioyTYAZzA8ZDtJBW0CixbjKCqp1Pi9VdZFs6aCbEbkcAE5i8piHhToDSKMZxUK7I8tkVwzhZdM5RWNnIxJVqqus65c6BRmCLAmZynFVjKuktLYgpQfGRXmVJMDaBwc4AnCp5kCY6JhMyQPdI9z0qyZzKeWfjmJwMAqc1kAADJE5mc85TIJrLWTizXFusxXESplnVLZ5COF2OLh2mh87cpmB+FRk1WLYEeuuTIBquSjiSX0MuPXGaqNxy9Tc0quVQqpN7Gqx0pq1DOauVwMygJf4zrrUXdx3YvcrmH3Ias+WxAPsHAL7OLHhCfjQ1H6O9OgM+xB5LJ4TTzjaolwcK5ejMqgMzKvBUYfiB5AFbrOBVCyRZlisWRLJzXgrLF70jOBixdiAD9AhK6tc40UkBrcsnhJmZ8RXDFSKsEWHcR1xJhIToylM3ma2Q7V0ya10ZAyf4SdWzrtV50zil2tyzvSOVbawAVFOkkDZVOrQWDgBkkA2xziyMBgeCG3XMDTGQUI9Q4AAVQYNQUuZtSl05X-921zAvdXVgR73qhE7IhgRushz-LSRusg2KQGnUJoasggoFdBsGWCBQNsGxkRNPpGQbO+yGukaBt+lwaoIKmQIGhp6yEbkc0GjFYNiehUyDcxFV1ebmpy05Gc4AJiNRopy0arciqwrIyIBw-FyNBG6irHXBAYhjedq8tIhtQyLyi4eGl2Mxi0y9YBMpG1TtxrNWMhXVMq+VQxvJDKb3VbG2Ef9gMDZsFNvqoYkFH40+oAxPJabm8DA7JEXigg6htZpN7+kLNeMVYbxIZTkjgSyLG8o5pRAZCXNG8CeZ7WJrm15Wlm3ztZrkne8tUdmoTR5H9LBanNYW1kSMCi1g0PIN5OLd5uc0i5-NyLGoGIBiQkw21CWuXoPPc2J0LN+AaoOdDoAhaBu367tdeKm6Ko7J1W5Il5oG6h8gN4sBHuVsq2eb6ANW4cv1rxhhAtp16rlQ5qG0ogqtA2kbQgqo6dbBIOSN7LHBECICxt--c+j1v2wqqrkwWirfzJSAza6tm68LUFsO3JF0t7WvGQuUoFkSwu6kyiZpMfEJc-Q626wvs0u1ghPtI22WfupQgNADJe23rUvHfjnaMt32-cmRD0gLb94y2hAVZDe3KtDt+23blrOIB5bpkHRX7bJKxoFquJ2IWokOrm2KN5JctKku+scS5b8tFOq3rNoglFBBV7WYmXdnua2Aod4wxncKpZ0zK-FCGODP9qKAw7oYy25AWtvJ2ADz6VOrQKjvtEmB+AyMCuYEwtKAjJuS3UDj8EmazcMpLgQYaoPUFjEsdMOycEFDx1FrnQRO17YHDl3TJAxb8EMcjFgbH8+eUU15aPUFxutTpk9SsIjPp0xAdCwIlwLxEzrmzvIgDBBbzsKDghddCwpGJgOL6c7mdH6AJSQqVWYNjIQu9hMtuj3DCGaCO8XTeu4DZ79dDEXbo2BuBOCVWh4xkAAE4Tg2sSveJmklGBExayBvUqkDV1I1oHwSsofOdLUMPgPpbUAOMcIuA+Yas6ZsFAVaHj9AT-J-lZDQAL71mj8yiMgpiBt6scA+hcZBJ4iHjpJ2mEaKZN-HuIySLgHyCsgoX+Nt9U+xvTuM72bh+K5e8BDvvEzvTRM4mEqsjF4qqZjtkOIqeHSSzC60sscNgGJgkxMApMYuv4loAp1L8QD7+8AxKOjlLDqENO6oEVBPBkAHoGcVjjCqpCtBGQSQ3wCkOQNuAD0uvT3KQP4CK8jgmApiAOBeSkAsDDHIPhJAziF0dI3ZdfeCG8g+QSDjUQARtiKgxAeD-kXqevt-7MD21xwRcTkpYgDgasTAfAMSNdikjsyrQQfZlxE3g5ggBGvTFhsZHwUpDC4+g5gbVrMHRFuKGqTNB-ir7J9qrCEDwdD01YENZIkwo4dENIK2IS4ooFwccOh6BDOKxqH4e8hL619z+9vR7hHWBqzdV4C3cUQkNcqkZtu4MSnlaAu6DA3upqNm0zxUq3t7apOLdKFWJ7Leb0h8o8xArZp9mQgQwI5DWhoH+AB6vAwQdBXJDmATgvg2QaF71GBAZ9Gg-VksYmxiKeRtI9SEKNM6m9pRu2V2gi1ZBDaQjehkgLfo5TToTU5gLJGgjNAEjH65IzQFSNmJg6WtH7W7qyM-EcjIGijXzL+l8y5oEmgjYWN6wkb1NUqmjZbno2Mh2N1MugJxrjZMaLcdGpnIZvSUCacYfBmnU-3cz6B6dAAHSwCwbly5RIkTIGCAlHfoLrddjZjQhz7gEph4wDVFBNtrwTmWSExBJhNwmV5ihzwsiYPT+zeAJ4Mkj0Cwi0nQAAAL0c6gAYTRQMdRSaRNX9jjPQVkxib0hYnwQDBrAxCOJ0wwqj7wWo5uHBPwmSYiJqkx20P4iZEBLARAcoEQFkdJgT-NMHgHxOSG5T5JxU7yeVM+sIQ5ANUxqa1OYDhT-kIAA')">function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    THE_ASSERTIONS = pair(assertion, () => THE_ASSERTIONS);
    return "ok";
}
</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_1_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_1_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

    

  

  
      <div class='permalink'>
        <a name='sec4.4.4.6' class='permalink'></a><h1>
    4.4.4.6&nbsp;&nbsp;&nbsp;Stream Operations</h1></div>
    
    
    
    <div class='permalink'>
<a name='p45' class='permalink'></a><p>
      The query system uses a few stream operations that were not presented
      in chapter&nbsp;3.
    </p></div>

    <div class='permalink'>
<a name='p46' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Stream-append-delayed</kbd></span>
	<span style="color:blue">The functions
	<kbd>stream_append_delayed</kbd></span>
      
      and
      
	<span style="color:green"><kbd>interleave-delayed</kbd></span>
	<span style="color:blue"><kbd>interleave_delayed</kbd>
	</span>
      
      are just like
      
	<span style="color:green"><kbd>stream\?append</kbd></span>
	<span style="color:blue"><kbd>stream_append</kbd>
	</span>
      
      and
      <kbd>interleave</kbd>
      (section&nbsp;<REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>),
      except that they take a delayed argument (like the
      <kbd>integral</kbd>
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      in section&nbsp;<REF NAME="sec:streams-and-delayed-evaluation"><a class="superscript" id="4.4.4-sec-link-3.5.4" href="./3.5.4.html">3.5.4</a></REF>).
      This postpones looping in some cases (see
      exercise&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-append-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (stream-append-delayed (stream-cdr s1) delayed-s2))))

(define (interleave-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (interleave-delayed (force delayed-s2)
                           (delay (stream-cdr s1))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6ShyQHrhwo4lpL7dW2lMEK8RrxK3XaG7qUiN1zUE3OScqRLpAkrsCNBYChZi6EsJaXrPdUhrfW3tTbRlFBcbMsKMa7i0m+cwhmli6kjL91QVnoUIpdB59ean5HsVhisXYsKlsDuyeC4p0CfAF6vBN9L8rmqwrlWmUrxZNvxchste72Vgfzk5Kt5hQV02w3p9tdByIaXmltIeXH5Y4cK-dBjY55Ozb2TumeC0JsRfg2z3bjP1EHNMJ4oD+01FHJAdr+O5rZ3xQSyzOe0Gkl2+wANQyf10g-0rT83E04QDnx0nQtFKAeGxRcl8QTCpkgMwmg1rx6iey+WtXQILzsCHWwOEQQOoE1Fkn-BHyaV5UXT835FVTwJyGWW2ikVNQhxwh8W3wSEtipVfDrzsHTxH0EzmTGm9l2wwLsAYM3C9TEO6SHgEKYEFEOWaAshHxAloIGygOXSYNEFnxH0GjUMFA0KuzoMwNXV0LgKjVUk-hQO4KdlAzkLomrzuB6UuE-0L00EeEehEI4V2y9xCC8J8MiGAn0mCGkMUCEOtVkMWXUSGQaFcJckBnSHD2xR8NkKMAAB5Ai0iHpf84jk5vhA9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgJPHcUAAAaj92gTzUeHAnk0cKMA6JzW3HaM6Mcm6N6PyMcW4QLGKiD0UDKIqPwFEGPBqLqOPgaO5xaOGI6MiX8HGPwD6NEIGJ3HKhGN2JgVugTQmJCNc0UNKAqCqBUM5XPy9T2QCAJn0GcDKFmgIO2E9THl8NUNiMcQNm2CVRxwyN2O+E+PuNmnOJeTIEQITTsPcl0gBl2PSC9TEmNQ+36PhOCCHRuPhMxIBLw36NlVXRuKcRSA-G2GFnGGxO911TJCvk4K31RIXnIWiWKMBOkHKn3CaFYlADdWpOSCjjIWSikV0MtlwOENdn7Cmi0TWF0KeKMJyDhnhP8BVPEJbHUNFMjnzkILBC+OoB+JznWWEVGS9UmVeNAEiDeK1NIJhO+OGncK5MdMnSVN5KcIkKDiowhLxOsmhPEBNLhOCTIKQKnC4I5KBHROskxNA0ZO12U0hMcmCE1GHEJPUWBOmOSBJNJTJKOIpPXSpNznMBojdkYgZICPYNZJRM6U3m5JKltIqkFNhGFMFBvDvHbXdW2HFNBKKClJHxlJAXZDlPNIVIbi9JVNkN1OMOeUcm1PkLnPVP1LzgNLMMj2dNNNdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIhbxQi13myFzPQAh3BghvMTyAKjXfIIkcFglLGSV5wfNh3ex104U8kFSkR-NvObyLgsWdUlAzT7RzX8D7SUg1IHCYW3BHRQvMBHXQoXIzWkNwtAGkIIsQqwpLhIpLnIswtv0pRfhzQYr4SlAwpSAzThDoFLEkFqBzU4u4uqIhDYuSAzVmMYFwrEv7GEoCAzWZEeiLAaDoH7jkoegUoYG2Gkv8AzTaJIv8EUBD1AFqENSWivA6MEs0vMAzWvF0vMH0t0CMtbivDvHMsIqwr7l0BSDssMuMtACvDbkMvMAsr33mOABssggMoctEhMtADABcootvwAFIwqvLIroqEqArQAgqM0vddKUqfLPdjUjLXLb8ABCI1XKiK-K0AMq8SIq+KoEbcTI5Kyqxy0AbI8wOquihqzI0SGyvK1qnqjqrKrChaZq+yqqpaIa4qhqhaXqjygIfqqK3y0AWaqa+q+YkqsK5agIJa8wEq-we3SUM+KC68385yWQsSCMATPtXQaCxPWC2eY67eUi06mC5yagBoAAK2jw0SuqbkEFbiItes-LEzAtKiIQXOSDuoQgeuOC2iwBOvwhgsvXWPEmdQzUZUyhzUxp7iCqiREqwsgGIF5lcF4o8qJpJvqjxvxq0qwpUscFgEgFwvpsZupppuCu3HpoAFESLua2aaaM0AA5SQQWsK4WwW3MxyJ6+gESaGtkFGjtUQy67YATCCJaodfAIZOWmre0Y+aW-ibWhWww5WooVW1uaA1vLW4GmGhW+GttVqHCbWjPV8ycEuXfbCP8jMVKRgP8ZEz6yQKQWBPCRmXJAybW-88PQEIChSVBV2vqF8ZIC0z0yKaoaMzpRQXfGw9SNOhMN+D+WETPa2u8ouVU3QTUw27eK9VU-mgIfOr+J2keHoL6n6su-GiumWqu8Qmu-wWsxmNk1yewxIQVcPESU1R4UoBI8LdkzpPeFO+shMM+XAMAD5JgY835U87gTAa3J-dwCgRwc0IcG5ZkRgX0D9SgL9cPXfBihFTcC2s+i+vQ1CCMAksG6De+79IhEY7cRwbY3NS47FCYu+5Yc+j+p+64ZMhXfIz9UB9fOwGIZkImLjGPO+LFCid20gUgeFISFaUmQCDBnyhgDouaDBpM7cYY4IMhgsIYkYyQfByG5SMh3QbohQnqEgEyTUFBhNMiCibhxwNh5YTUECAASCNO6K-vmJGPgdJE1CQbsQE1V34ZFFEG4Zli-oMG3FgdAEUYoLcBYFWkeCvvh04UnH9AoapW3AjEJCYRMc1Q1XzBFhx2gxMaMFRQgdx2cequNW3ECCfGfsgiHRsYCO8Ysfd1AB3toeHAPrbGPt9BMf0nSBFl-B52Ihsa1WTitUGGl2Y3nWccBgoYkY6O0flWFD0YCbsn0c-p2KUmGN-utJ9WtSyeTXIw8aqf7BqZGKKbNRKZgzBqAgqcqeTifBCf9y0eIHYaUG3Cou4d0E6d0bAamELAiLie2GCCKfmOIt0GdTKYMeLOMfIlQhmbGYEeKcYBYH9A1H-pxWWa+B3AAHJf75pBj7nLG-7UGJiTHNHOnzRGAlRvmHLJDCwcccgb6enlM-nu6lIM1tFZghig8hijxyAhi-hhREXyo7pw8nx5nURRnxnQWv5wXdnFACWcXjmunTnzmSWlG8WiX2gfmhloNiWvnaWjLj8o1-bA7SBg6ukohcIQw+lhpKRDGucmjxduwRpTGOaknRXiAc1GnC0BXVAIXG5Zp2W7hOXKBGZbkqQ+X7gVGFWiEXmMmlBxW-GM0fGmGhN6nBhxWKWRpWX4k-mxkLxyReXLR7h9XF5GJS0xdecbWBypTG6sTxIIw6m+hfU5WWM1gbXc4TqdXNQ2IgJLYBNHXzx7QXXtW3Wxo+no30IG5zrEygniK-GIih0M2+lJUgIhkLay37gK27IDXwH825lSGqLi3mBM262KIXmm2OFSHVWg6NXuX2hhnsWIie3mh6GUgBN+31XNXUMa2s3ymbWKWx3A3QNbr23y2E363dZSEGI6ZMh8DBXGzmd9ssLzXc1LWw2j3FXRT+z3T5ZKQBFNM9p6pGoPWAXoIVVNwTWVm3Hf2FmxKFX+TKoTxI9sn+kTUGpVsB8wCLtxWPD3MIiAPsWsDBWXmgORoQPDwwONomm9o4OKYU821a3GA2xyBqBZI2Qg15gv4EOAW33jXBXSHkWyONGvso0aOixSO2x596OjSh1CPRQc23kwBTTIVyOH7br7osJ2yJVyAl7V62BSAHpiw3BQARtIJNQo0RtLdLdfBFC-gQxFBWRag48Fgg9wkhWcd49LPQjQmcbZh4mxAdQPBTPQblMh1bPGArOsWaw3HvOrPk50gjPSATPRAzOTVV1AuZZ7W08WR5UH6M7JFnqHFqNv1LYM0257Rv0+5RS2UyhKhZpTPHAeBdASu2sBzzApE6BCAGgcvw9LZQvwucIyuov100uGvH6yz93SY6uuukzHOT2UhuZYQ0omUsoIx73JTnrAumv7hjOKvCXav6uH7iF+xhY5uAihuquIRRv5heYe4evI4933TY4G5oNAu1yaSpvDT3iS16AUWWvSvyuIvHAgVgT2hhuwnnqVuBvxJmuSu2voNOu1vrveu-uH7BuxvDvZhvuAgMzqMOuQxwguvJ3pQIjnUgfbrv3nuPu7TukDnNSAgQeUeWguuEM+zTuZuZaIoVAfP5u6BFu3v8e8N+uwfjuwJGItvjUdv3ShHthEe2fVvv0JQBe27ceIiluCeoglWDJheKfiFxfyzqfrIhfouLOfPPu9DOfyzbuNyPSo1+L5AVPIjvuMkW3CuqgR2GEQgrfVA350g2AgmMpNQ2OglghXeUWgkA8SoWBsOqo7BxPWEuyovv1ez1ytDMJjfyAVPILnrg-tl0vGvxJNsuuM7XwpF5PLZE-JPv15j7iiv3UoKZPxJc+bl0-twve2PF6epNsGgMo4RsUoGQHw9tfd8Ij362+ZevvNGG-DpkCu+lB++m+DHEO3GR+E0B9J-B-z8Z+x+GPV15-p-G-kSMoxzrUh-dBLDx-mut+lD1TNGs6v59+-8d+AWIj6-V-m-T-Cft-1C4v68P0P2jSnyf8sOdwfGrCtMO6tBz7mwP+uhQ5m2TYgfpHAqnWEOHkYCbweoKgVQA2GY5ndeuMwZ-n6yQHGJnq8-WRNfynDr9dCwHA-jrz9JVosB23GHhN1QSrNiAIA1oIwHAHQsoBBAywqgnSBwClQ8-SZMv3B79kl4yqVVGgOIH0FcebA6lja10AiC0Ot7bgarzlgNw7W+vSPqTjgamkEBirR-meFugkoWA7IJYBrH+qkRc0u+fALoLUh2hLA2QFBloMcCq0DBsXDjvEmMHyBTBmKLQZYOyDWcX4bgs5n4ypSGtL8PtElDDXmBLBagdiZKB9k0HuD0ekEHyo4PIDODIhejFwdkCR7eZzBZzW4gTE8S2FwINWPqOAWAZSdQAJIUEOf0mBSJSB0iHAZ7Q36DB9+lhFZA3FIG89yBmUPxsfxb5FCSh9-Ywi835DxCMY1gk3nkQ4E5Jl+ugboYQO-57R+h3WIYbHzyL9CJh8gHoeqXH7Skgm+AAdD3GGJ+NtwWw0NDsIw6udOESw4ofICMB+NpS5gQ1k4Gf79DLhf7Y-n+T6B8R8hbwM4ZMOYHgMv2qqB4bY0Wa48ShErWYYMLkqm9oMDw6If2GgzAjoRGPJwWCOGHUsoRxPAyEOjhFoinIepF5vsO2Ewt1BuaBNCPRkjJC9GruC-rjwMrJclqVKaYSIBU4LB5E2ibjm7xSY8djgugR1mcMdZlCMBtPcEapUSiWxQRsYQUTS2FCO0VhU6NkZyNGLs1pQvIh-kaUFHNZauwkUhgcPDwwsfBL8F5pGRJFsJEhkRYYWqKEhD0k6UaQgBQUb4UhM8Fw8fhikuYoiLh9IuwPJzMGuDTObXUzpV2aS-dLY8nFrj6Ii5r5RG0PA7hNyBjCkX4BYOgISNtEusSuvQe0eqn9G09TOlsUthcMaEC5n+pnIwBQx8YFhTOw9KwKAFKIAAJLmo4AACC4AcAFzQABKpRSAAAHlBayAcSHwWtxLEFhrIlFnDVTHdZVhehcftaLZCJjhxGMCVh6MTEVsORQCUUamheYeiZALQVjrPE0Zri+EA4sjkON3xViax9YxsS2PbGdjtxVgT2vMHJALjZRS4xEbYF3weiyRUEMbkmLe4pjlxQyRtPeOIDXgyRxHKXI3z3GzxpxtgUcbvjJE6D5AAmR+CUPhSLQgkjIn0EWAzCbjaQCE-3qRUfFlQph8IvsSp1AlDjlxkEgjCPQEhCR5aE8fwZbAAAM-BHqPEGPBFYqJwrMsEn0oBfxFUbElQCQHU7iR0W1E-icKBGI8BcxfmISbFBEmMBNGm2ZibQNb5KB9+UkqVpxLh7j8IiwTHHqqlUk+s2wXEwlkP31yKFLANcRSQ-ScAZRgoVEzeFIj0kit1JvBZYqxPDzsTkmNyLiRn0mA9RNBbIY8DIF9D8cwSVGVAcx2ShMgEu-QFyUPwIEOSOJBkuHslChDId0OtvCIn5McABTpAvoYgse3hHJBMp2U30JIIbYIw8OAiTciaksD+TApNky+oSPmCNRYQTgMVpSFiLQNu+fIw3vEiKl1SxxSA3gagMDgbcqyJwzoaLzEAjSDIQOW3LrwFh5Ro4qCCodgIH64CMw+A5RlMPmlVSGgEY8bm0OCTBAth+Uc4ukD6k5TFAowufut2lAfghG03ScgLmQ6PCDIwQC6blOXSP1701U0QLVMulYE-O-YdICdM1A9daSig09pgRqlZT+pgrQkc8NyHqAaQ+fW-nySmEpdaelQjgXgOEL1DlRAQYWFgJqqjNIxmUc3g3BIC9F5hpva6UFHGHyiaa9pbaaMR4Fes7hywSYhzHxp4A24fMiMBUJwGrTR+NQ-AczIaHnwmhQskmY5wimjNqZ4orfliKqFrTOBOAjUkI01nmBvh5UjoWjMgm7tFpBUYWE1M-itS1gzM-GcYQ0K8z+ZIUqtHiMOEEiSERs3bo+y8QTTu+4sgmXnBfYiAqZBxGmYsLa6qB8e3UpQYQM1H4ibe4UR2dqJjmRgXOcgU4SHLaxXCR8tw2gZnnKyMzkw2Q9SEjPIIPB8+qgVOZBMzn3DKu7Q-OWxELkozw8mefHqXMgnmBbZbcTOREVLlGAtUgIv4WnL-YBycI4oyEeVgKlFBIRbWMeSkEHlByURo85WdsFLaTyF5RQSwhSzjk7CExTgISXfHRxCtv8gWOrOjjRZUSvyHWWgIsGtG0ghJu+C2jfIHxST58N8x0UY1xyXdbJQMgMJK2kABTagoqW3L43AYW135l9TIZaQdpFhXJSgISVyOZbKoBhEE0AEqOMKYz+IiwCPFAsthmTlCQ-KyWsBvkqJnqM84UcGyUgzzxR3I3CVPO2AwhL55GdBSyJvnUKigyCw-kaWIWzhzRUcp2QnKfh6jwGNsfesy3qlsh58DCjMEwtQQGirApI40RwvVEbwyxIkI8Y4CbG7gAAMlzS7Exi+EjEqXFYCIlCTRQpEjGQCwnHXi7R34vxnOPfGSojF4ElceAx3GpgqJooAfM4qgVuLx+KitRZovACXjhw84tiPYu-Hj9oJddUOv2BfHGjExjgZMSVm-HMKUgd+KiQBMSFPh4R0S9IfMQvYpLw8aS9IZi0JEe0QlVC0xaI0SEwS9BYZJSEJNbhBIPapIHeTApwkIK8JlhAiQYqFGuKHFZEwkQ8FiBuS-mEon5vApHGEDPR7gsJZUriFwS-iw5JaslHCUlhbCwQnimEOsi8wE2i4+gCMqlFtLIJY8mkUtBKU9LKFByqYXjRnKJC3Ry0BQEIslF7LRxkys5qgpEhagAa4kIMYxz2U-jBFfzCPhHI+UkB9psPPxgMoAoPKfmTyiZWSIpbAqBkl+C7MS2uXpDblMwRMUl3+Gftl4zo7MRvB+koDOZ+KsBZ6Qo6WBiJMkdflOIwm0BN4vAzFfn1pWppvuUiTMeJFiXxKpkf48HlIkwbrgZ0zKl5SbUchZKvREXcqMyoKVaDAVUNe6C10lU7LpV2QMvP2CWY7LdAxysJjYDMnDghVcKu9jIL16AYyVQeLJGxOpXviRFdk56suMti0LZA5GAhZMAZXvisVuE6aSkDZURdLYnKz8Qko9U9c+VOqmdFJLJEiqbIYqiwe5zMypLAJ4PVQPKpjV5LRAyqlgKqoRG6SqJmqnyvyt1VQKXlt0lXq7PIQFxDOswYJWxKDyUq1gzKoVjvLrW5zoxXHBtTsopZcdmV3KwcXSs0YdqdlXa-cXSoNhDgzVNamoTSrbWELaezQbZX+IsQqKTxzY1sR2P8WTAF1DYpdeeO0Xqq-xOa1uDOprVbQqp24CoOxxNWccK1UC61cOvJXmq3Jlqm8daqnX8QD1Riy2D4o0VaL+YH6vxSKNx4tKtVr61xaKSmgnrygZ6y8uDjrIwhPqI8BVr6SqnMVOEI0FhsBN9gwaiI8G2+V9M2gPycEB0WDUIGE64bx+kg1DZOkvh905gDgQjUXCw0vz+gnglDbPlHKcVaNsZEjQCzymjQ8NpsNjURGI08bSNq6ZjZo3iCPAHQbEYZcxvH7caFCihGDdQGskYaiNzyuFQxo4IEa4NKmigPZxuaoqtBLzRTdZJ+xaaiNF+djVrEiT-LhFT2HTSkloCWaNZCogze4IIyJqGq0LIYjZslGP5HNSmotNbjY0BbmENGgTWppuUaa6y-GlvDFt00StfBPw-weHgDo-o8o6yr+I-B83QqnscWoEHlq1iwqblYvTyj5WC0mb8NBW0LXQCc0lboErmjIbEg83zE4W5UbLWTWKE0aAttfYROJpWhAQItaK6ZekKqVzKlIGwhaFgGV4pAkNw0F6PcuGV9aY8UKpUJWySXShpFFHI0dkrXm+BptxoTbbIp23qEptAvdIFSjq3vEDCcKprfKtdTUBUWO4drTmiW1EDFCFIBYPdCY6Ktx++SD-mPQnrhAc6mwQkTOy5aTIBtRWobZzEVIzLdBY2iEBNv0gfbMGzYV3rrSoArR4S2zQrUAPhK-5t+xlYnkB3ECt0FR-gCqDh2qj9CCejAUPtsVO37btwYOwdoATKkQh0yxImRdttcE6yCQOivkvpAa2bpmtzOgOmq3B3exvN82tkACt0As652hPfglImZAut+KIQy2AAE5XwPUdXTxReWkwYBQGBwAJReV-k3Ad8AeN914EQkCVSAtmZBDsABE6J8PfwHrqVC3Nbm5UNAD7tlUncS1yUd3dSyHBFqIQ7us3a4ERTQS1MQyOwHeHKzgy7ubuk3SEIj0W6xoqu6jVxRCG3KZAv8-+e0CgjPAzVg2rQUYOu2JDbtnmn+TxQL2rY2tMulbTmjz216zUtuHrZOgXYra3xHmxZMKCaAPAqabypBZbBTa1BnWrrflriwygeav6z4IpS6sYgIRGAA+0mp43EjbgHgqRRFt9yD3bhbwd4BdkguZb2AxmMnLstZQToRgg9TLR5VqC8gLT9YxgCGTTEYhCqKOVHIsBWrsT37vuLaqtXQM7V9q-xDOX5qHsJlL7+95BNfSTM32HCtAd6dAcnuz08V5iB+5qMyqwjf7ZgF+g-e1Ef3RwX9BBiUtsD33oHmofzCKAooYDkHbwfu5A6btfFLLKlCO8bQssm3BJb90KtEejqvT-8lAWoUcZqtJ0EAfKhgOXu1qJZMMudW2g3XSMp6+zexo5bRHQGPCIoZ990G1bTy1Cj64FqbS8JPvdbT6z9IkQYvPtD1DlBQFiSQ4IaJHYpDRchl+KHvBKeDdCem7FvdsbgLCE05w+0BYyEbpAuDSoXg3-xWi2GNaI+QrQTtEOtxxD-SypXXX2AhC7EdANrmstCFsQ6Afo1-q-NSMSt0jkqLIxnT6G48Ps88gyFquWXNS2IBR-VJUrwzlHyd1kWozUDawv5ktgQtLckf1RpH0tGR1ox4IRx5G-GLRooyu1KPLo8jBUrVRlDcApaghfRuxKMaBQZ11tC1AhvUbgzlZbiXe4Zbc03GKAmjAAHSwANqVl6kD-fgCDx6MLthlcatxAMhe6dwy+gfTB1fC7HhF+xnjocfJ0nGzj1Rs1JRyuOnN7RqqQgIsiGSRcIi4J0AAAC8Dm5gE48kESOXHrj0RyLvCYeM2Qnj24F4+QTeNTabhT2FQ2oc3D7HzjbEVEyCYiqbMsKkgIYg0CGKkAhiMLVCLczPh4APjjy8kwCapPkj7KtJ2-PSdDxMmWTmLHE+1CAA')">function stream_append_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => stream_append_delayed(stream_tail(s1),
                                           delayed_s2));
}
function interleave_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => interleave_delayed(delayed_s2(),
                         () => stream_tail(s1)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p47' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Stream-flatmap</kbd>,</span>
	<span style="color:blue">The function
	<kbd>stream_flatmap</kbd>,</span>
      
      which is used throughout the query evaluator to map a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      over a stream of frames and combine the resulting streams of frames,
      is the stream analog of the <kbd>flatmap</kbd>
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      introduced for ordinary lists in
      section&nbsp;<REF NAME="sec:nested-mappings"><a class="superscript" id="4.4.4-sec-link-2.2.3" href="./2.2.3.html">2.2.3</a></REF>. Unlike ordinary
      <kbd>flatmap</kbd>, however, we accumulate the streams
      with an interleaving process, rather than simply appending them (see
      exercises&nbsp;<REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.80" href="./4.4.4.html#ex_4.80">4.80</a></REF>
      and&nbsp;<REF NAME="ex:q-why-delay"><a class="superscript" id="4.4.4-ex-link-4.81" href="./4.4.4.html#ex_4.81">4.81</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-flatmap proc s)
  (flatten-stream (stream-map proc s)))

(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave-delayed
       (stream-car stream)
       (delay (flatten-stream (stream-cdr stream))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9LAgUAEEgUai0JEMShsCAweBIVBoeSEnDIgbUUBMCYsUT4FgjGTELHcaj8UjKfgTXQGYymcyWayicgjBjUhlMlnDAINDyC4XUjhUmlMMVsZmEVlS+ohHaEdjKxmqiWkTUpGWUSgAa3w3F8EjYACNKKIFdT8MraHbHc7KLgbHqVWqNezCJyHhdttYRMRxCLUYQA0aTckPJT5VGY3TBgn1cNg6HGtrrCxaLRyABzQhsVnZjVhowpxVcEvlyvVg2B3MUkNJwKFjiMwRCwai9uJuugBvygcCIfUEfinNsrv5hp98QOgQsDhMAAe3GYzeoNcl448bBYFumpLjMnX9s3HDCIqrwtox+NdSBgLvD8dAgk74JMuPbBBGvhMAAjm6JD6gutaNJOzq0JB0HEO6KH8GhvhVCMVbDG+o6LkBHIgeGOz2qIlDEBagGnhSjYUVRNGEayeakUYfa8hY2F0kweGkLRCH0fKXGEDxuFtnBnYkeOfYFIKxCZkeLEnkJ8kAamNK8TI16DNue4HqWylSR+wGfl+RiCvQHA+i6SpviwDBlvp+5MIehAESZxHduxoAhKMmKRCpS4AEQAKqEBahCUAA7jQHrDCwO6gAAtClwlaSMIWdD0JL9HGoDqTpRDKI5Za0FySTkLgoAyDs+7kGwQ6fLpR7IjCqzJKJhW8KIEiPgwjXNVe+VZsipVORVXTGN0FKiMh2w1XV1ijkQQitfG7WVckA70OstB2KQGQZbS9IbRwf4Ae15kWYCu4jEUHIRNQ-EyOOt31OdT56q+xWEACH23WVtA3YDgLnU9mKtsMf0wjlXUbHyYGiXZboyAeh2+cYHgo4qbr9tQD0CRjojGu9HGgGtTC4OQ6oCNNRizWIC3coEAWUJE42gOFkXRXFSKjeSpASHwqXpep2UM6AvTwhtoBWaQNm+njbkyLu3Ag8BnWuN157cDIZUZNkmmncqZVseye5TblfQooMGUE4Ocbzoai5sdrRjdTsjD4KQUQaXj2nTrOurOq5M6KfSwXeZyWOIabYpO8Ozq7RhMPR2x73+YHUfUDOzvOtSwq6hQUyAWxcJ5Xb5KaeBUGYe6pBsKQmskR7i21TsfHcMLdeoY3zcVdtKTdVTNN01L0tzQt1WdwKxaK-QvGvfQg8dazjTdSb2k0ww1lLxJMOry3CQkZPTPzUw7euLtR27-vTeKyrx3k9vZ0RA-y-VsfFWKGfYaz2WhwXGrplT30Xo-VGTB17k26uA7CzcoGT1cBfFmsDEZbFrsheuME3q3QPBAr++Eyhrz-t2ZBM01gyyrmSGgCslYcCIMWUsFY5i6irBVduuseAyA4EbbmAAqJhzZWECAESFZQ7C3I5VloLeKikxKUF9sUaMjklIeUAu3QBOxsH90AsPHaaIjo-2Orohu4k+Ksk8q7DUFDPYYP5NuVUvczG4J-ljI4th7Dk3DAUfgcQFE2WUemNRcY3zwIPpYo+j8h6gzBrQQJSjFYhNjIMN8PiLLnkvH3Bu6M3KEMPi3EhJ84bn2nlfDegQvaRiYKo1JxkbGqSaDKKwAkUnqNtA6J0+jyYhC8aIc+Ns5a10YtRd87tKm31AJdY6oyLQXUoP+QCk8pmUUUvNUxiTgm1IzGEmQl14bGCmcIlhdN0TpHlq0hhJyWxzDWdSa2OsHEnW0pdS2D0hCQxetWe5804lgwBTc0RmsMkAqaCRGRNCCq1xRpE16wUJlrG4dkkBSo8FfjfsqFG6tDJZgzsBSFttaEO2YS2eFJlEU3yMaAZ+FzMUGxEdDJ+oCXK4oaR2Uy-9XCkorJ0r0UCGWnP4ny7p+KVYVyRc8lWlciXQsbO0m8CKtaVJ5WJD0XTnQqx+Ds0Jel1VenLmGelCq9Iq1ZW5Iy8Z8UkX+cBGViINrolwJibEUA4CIGQOgIkmgoX2x2LKUYLsOUGPWJsRxtgHSjE0aAAAPjG96OjGC0zLNGuNCbrCOidKwK1XlY3xqaDqPY0ajBpoLdYMetM5jR0rnLANIpNWgM0XoVwkqw2gGCjKuW3sWBljLD4BWxTlB+2mFUMsIbqmPnCJEY+ugABks7QAxBYHER+IJ0gXOHZUHtna5FgSkU21tSNu29v7a08Z3MpGS1ynLfVToGH7ujlw55S7ZCQgcNHQlcssnTFVSvJNhAyyW1cu5cdzyB0hV-ayCRORBoAaA2y-6Nbd07Eg+nXNlSJ2jr7UIAdSqIOMv4le3octUOL09KK9Dh6tgvpkG+m4y7aPVH0bCa9u7SNQPNe5A9Ty200bo3Rj9n7kM1Lqeo4poG23HuwxwAdx9lAhVviwYYKjdmDGynm9NW6T04bPXJ7mVJBosAotME11B1NpuI7u0zaryM1FXR7bqfGmNOahOJ0prHq40GsxxnFFqswzoc8+24-GmMzpY7IzzYEfxbl81xgLG9MM9uk7Jx+8noucctUR2V9t0vfRfKMN88WkjcP1re70vopHKBc3Z5u7nLORfS5dcTgXePBaY3RsLQnIs7FhThKJAkis8meVJ099BB3c160Q0gWW5bYoMn5o8g37GtYYx11dXXiU7GDgXZrGHhvWCw6NgbqXubbeThltTuhS2NBGzpsbemFN5xDvKOFUHIVyzO3OMOzAI7aSW6GpG9DmC4HG04JDkXPuh0dq447tWWuA6ucD8bOhwfEsh-KIuowS7kDLv97qQPqbjYAMwbYKjotOaFdvFf21p5LumTshVcWhGbu7v05LcTEgx+Oz2M4p0waD7jUcFSZ9MV7xD4vGGpyt19oX1tC-thEvrf617w+o7cQXHniUEIsfxQrnPVc0DW2veX5Iu7OP6iL4pnCEs0-6Vb97wmZMLx19-fXNvJPWDt0bkpO7usZrWTRf7AOti3Zk-T5u8m5ks8i3MhZSyg+Oba65sLvvNtFl6uQSO-n7Pu6PQdpLR3xsQYz1nszDvIsQ3m3FnPUukbVbcybmgZULtoip0N6XjHXPe7qzgB1cinUupxO6-EXq0BE99abg7DA0Y7gk3nhZWalMyFn6Ad6Hhkrro3dPq+WcKQMECsvyP5p3g0HVrUkYAhlDMDQjj6QQQsvZfJGzjaMg8sbAK8oN5yqqN0J56tIoG0EioKoQai+We8n+iyEgEq9WaeBMhoa0HAL+uAc+Ie+e2mYeY2uA8m-+60ci0exKX0oB7+e8OkKBv+1kSOWBoAYOmuBU50TWyBT6baBOIOVBKOtBCuci24IYz0TKpBTBCOFBhOVBJOqeBUbOqKaMA4RMZBlyY2IUkh-Oyg0htiHBk+wCDiAqKsshoeA64qE2mhKs+BBUihjsRMMg2hAhauq2TG2hpO9smElEpYAG3BEwvBr0bce2badG-8MBdBH8iszq-onhP+i6twvhj+p+JATh0w9oV0z4TAEyLaPGSMVwnMCR0BWAUym63cvcXyTKx0-SXQkRoAz+CRcgtmmsKs1uoRaRFRGqVRoC1sfhCuCRIq80OkCRXIyR7edetwQRVY5eBBbR1RnReo3RkuKRWwdGAx0CYhDhO4Hyrh7h38lRygioms9oxY0wIRUxdC-AZYfs9RXonCm+8sBxRxGxccIB1wZR-oZWjR80QEWxyErhWMIQ4wAGRxDxugAAPOcV8VEBYQ8h4hOHvgfiFAACrmilFKYSCFROT4C650DWjcCCh37cygAADUq+YKYIya1UAEPx2J3M8mJJwBgQ+JAGhJwJTxoJ-k++HMMgUJMJuATAMUCJZYSJViKJGeGJIU5JeJ-6ZYNJxJOJ0GApOJFJrgVJIpuAAEVx9h5IlElo1o7RAqZWlKxgwyIYMm5o+suxKQN6CixxTojxNRgIE6duPx0pYJHIeplA+stprgjhlAzhzk+RHhPktpIQZWGQ66YRDGNpYKHgNGVxzpfkdAJpHWlRQEdGipdi0sACS0HI-pG6MQTiPc-UnpGo18KQ7M06tm8mEUjoa0oAl6hyyQqCFS5MUysxx08Csxas5C6CbaCSS+sx7R4SXRtqt0nZoxsxLG9QvQKCoR9pKpBpLZEWxKqq6pWqmpNK1IWpRgOpEwDpk5nIeZK5u67Z8YDx6xIJW5VStuRawZFkKYupE56KgMrp7pyxUMXpscwBvptmaZgZcQsZ0pHgyEisYZDyB5ogoJvYUZS+MZDRcZthIJlZgQs0yZtUqZZxOR5u953ykoR5LpjJhZGqxZhApZgg5ZeoYshUBGb2iZ1Z6FRy1K9ZFyjZ5RXKTQ3Uu5YxVYXZzF0CvZFk-ZTRbFQ5KQI5lCexy465zZnI9qYAjqGIWIQ+eInqhIGAE+jiDUTUpcI0nmsMBuYEh2d2AkXMIUSlw0xh9s+lKlHAjUaJ-WYm7UGl9eW0MqUyxlt+iB-ex0A6Dw4GL60GxgL6QIAMgQ4Gb6nlRgb6Pl-y4GaRgVNxDAIVblPOCsEVCs0VKQ4Gha9g0GKVogjQvlrg4GM4tAaJkg0GuV+V8JDQWVxg4GBZgVBZgIZVlkPO54fsXA9otAEiDVUQTV6I9QtVchAkIUWJEVxgh+oAEgII2QyUOJJV3V4GKUA1qQO4ygI1-CyU6Uk1oVPO4iygyQQ1i1zwyUAiw1RgU1POwAs1tU81w1o1oAyUYAq1MV8hAApKddtZdclPdQdaAEdfIZvgNc9UtW+SNWtfIQAITro-XnU7VjWgAg0XIA13W9W-FPXg0vWgD-FGCw1JU86-HpCzW-W7Uo0XIXWA29WZCI0LXI3ZBo2fXE3Y2bWuC42Q2ZAE3o3JDgZA2nVXWBDPBGBA3GCz4PA5T2WDTKWOXnQPEZBhh6z0aX6hBC3DROWebWyC1DQmXnSUD2gABW5+5yEtPCyI-CYVstKl0GNlRAcMHFRgDlLU-eOUWR1Klt0wim+ELlZ64GFadM0Gbt0g3VYKflPOkAhA48QoEgnl-tgdws3tPt5V9VdI7VsAkAgVbVHAcdEdkdPVzJidAAohFZnSnZHeBgAHIsD52nWF351AWAwC122G2OWO1kYNHi31CS01TPA0bIHKD23Q5VD4SV0eRHQd211QLa2N2638I2Uwjt3V2fC13WwlHqQDTK0i1yJ-QTRlgKyyFz20yMKCBvASDJocDq0fDFjECDQ9zXlAgd1mXjD8SWWm3m2BBlRr0dCBBDI7mIw2g5kwyyH3T+IoV8Ggp+KCCv6T2qW0JdnKARky0L1T1GJKZ10nG53cq8D+JANQMgNxg2Qa1a3gM+390wPKbVEIPGBIVZm-38SErjBHSbqr1q3ygf1HQXI-lql0P+DFF94K2SWuq4geoEiYAKXtqEwihkAcD1z0B6TngMA0QGbkBGbjA6Ge5In2hRr15SMyPQIwhhihlJ4ODxmOTSPGZwwkkhQcCSkwYEnylS2d4OAqP6PqNajvmWPAmGY2ON78NsDnjgTfQX5lCwblTr3EDEBIl2DaRyClT+OXXog4kGz+NvkhQCkeCxORkSkkksBhN32NCxPKCynNElFEBPjITePJor2azN65OOTIRcgACQoRsphjzJJJBo7jyEnjcwktJThAeTiRnJQ8hj2gIULjpTe8I6owbABsTkcjuw9gozY6GjF6ewIUYYa4Z6ZUc6s644QCXuTGyzV2Ma9jdGWzUNAZIUbg2UMzFjyzMTxza+-DwwgjisIj6D4jNEyzu+QC8kmeYm5z86PiOo-olewGlqUzcMVzIUdTOJAzrxwoIzNGwMgLHUUpQIApJjZW96vzXBsWAL+z8LgIiLJJ4LQzDAULWjUzDkYzBjWJPi2U8zTQIQeLzJcVK9ygeLlQwztjKQfYdRzz9QHgtLelU60GA60LYzQ6mzpLjL7TZT+LbApEfYspgLMzIUAA5CY4bOKUqws6Y9SeY8s-0+K4M8I26AwABPXIa+M3blWJGpEDRsa8zaneBkpgIBKRzBKdFNNvJswqMK6xNnYPzkC1y5TLq-k1awawDaAHRta0BEy5C9K-6x0xY+G8K65vGzGxK-q6MCNfMeSAfVSAkifcykqANFRBamrHuOM286XvGOrKRC0vIWW+otBn8whsW9wIQ0YJLVm0fbmxxvuIWyWEU02762y3usESWzM+Bsc5k7Zii1WP29G+rBmzQNa7aIlDuAW2hCWP21oktChiXmJpWyGkYHWVwX6RcmGMi7ZPug2wthWyW9BQe1XT28hEIMDMdJLYuwlFUCu922u8U5NDOxQnAke6+WcbyxEFS6aJFRY1+xaj4MDEBPXlByWDB5NAO8kCEKLUB4c3FTMwh4+1wJNOq+hxqjE+2zm+QD3FAmB8mBB4R16Gk62zwiR8fWR3m-jDh323u9G3UTR06BPQ+0h742UszFfNop7sO82-u8HuQb1eO3QJO+e2J7xYzOUnmVvHuIMtOQVMLHwBu14fPnUZWzMzRgZ3YwWU2zhVFLFKflXpaqGyLD6y4yocQpW1YYpVOv2zMz4SOyZ5hWZ9zBFBZ-zOi-bI5y3A-iRohwwOg6QJQBdD+gICILIM57p9MXZxu8B+65F302oU3vF02MhJF3pE1kl6ETRiF2+Hu2JaAI6YGlF6o+3b7IVPhX2qQAiOJYPsQFEDwMKKAETrVMhMSkTmPmPs4LPSWFRDIJeFAesIyAwAIBab0agRMw4NfhzHN9cZ7QILvihKKJN1VrcDRit7N0PKCZowxod2tz4iEMwuN7t6G0xud0PPO7CdklUMZmkJMtSr8lusZs7fIQIq9+MOItBbWuaFaPrJNxwEoKABDysJUlSr3SifaAD1fBctd8QBN0wP1FD3Rl98j4p4EIAgdEj6o2+RtxJwjG2ht2Rcp3DykFMud8dGjxj-1JoAmzUPgMT84+TIAgz2cWTxRRT0jFT+TORbT5vM8nRud7e3xWGPxYzGsF2h5B68z5D8oDDwBW6OT9c3tET8j4z2N+jxD9j0xrj6o-j64ITxz3r3z9vePF7QL3QBsFuq5qb8ZnRykHUQOkb+3W5+r4uUqOPRA64Dj1RPKHj+bzNDT7WdSrz8RbQDd5jxwKz3d8nlb2b9L8kDz7Uqt6T7b5WgIBJxU-UD+c7+z5z+MIkEXzg253UX79oe7xZB1mnzYzlFX0p0Jw7zKU75L9n7Nxr3MSL7L1Qgr1ZlYGEKQB1zIFK0ebrDEyqWD5R4CGaKqdwKCiENiMB7TPl9NhSR4Fvx6xSQyQfmwOZ3zDQNV-UjQGlHd8ZleqOYJUVXSB13ZdShfx0tb89yOqoyw7bQj818dG-1q5vcQo8-a0FensoNcLkgAvSMj2ZL79MuNtL9BeFiK0wZwAGRxnowr7+9NeLnCDtYywHaEXG9oVAXvXwHKhiBg4ADLIRowUC0BY6IgSQJcJapaByaWQnRhYFUCGBlA5yJvSbJkDlAg5XAUz34EYhxiLjb+oAxEH6FBByXGgHUTZwcCU0Ug0BEBEHJPcdgBmHTqEV0Jnp1Y8mY5kqSGBLxhg0jekHoNEFVgxWeFIQAZg4CddBA4wBgCGg+yOkNIJbI8iJxdCRA92DvKZIoNmSMCeBYkJsuYLUGtkkY-gm3iIDt6bdbo3LXCkoiKC2D7BAgRwb50HLPl+G3AACIoIFSKCI+7fS+B3CAT6cb2DvbqHUUZDZCLGe7ZQq4IcYcdqeHfMXseTbRzsh+9-BbjQCqFuDm2T3CQUIGqjQ5Wk1YEQZuCXAyC1gfgwIQEO4GmVgh5REQWEMEqRCAyG3GZgMIwF1cVAdIAQV0XVbj9i4HABqpP1yHMDAhQEcYXsLEEv1IshwrHMcKf5Alx+CwXYRYOgS4DqKhzXANUGkACl5WPwqEH8PVbbcHALwnYcaFxLgd6yRgdVhoMciv46QugDYYsR-pDDdoIwmGOCKuHvDo29UGvkiNADzowIdRcYVWxAKkAjhJwoEnRnH4ttGgdGMkQ33qD3DuI1IyDkiOZFgoaMTIoPpxS6LRsQogI8YA6ye7ukKG1AbCOCBGYr5ZBEHc6k8GyD9JDB7aGINRC4BiQMuN4LUYMGUCLtwRi7SYfDz2jUiNCB0UmMdFZFiR2R+ot4TqOoDYNU6X4Q0V0UnjcIJ+7VEmPQ2+G-CHWMzfpOq3FEbBJRYIPIFPyeFmjMYT3fAK8VQG7hERkIuUYmh8YcjjQKo5rlKLDGTcoek3WHlMOpTnJQAzXZnjmMx7sFBK5yNYXnzphgl+kkZWgOoO3orsIePoBMSGimSTdjoNGOkW6JpyaDJuugeJsc0jKTcZUFDUAJCQAASGdDgAAEFwA4ADOgACVISkAAAPL51kAFyIonwzZIei8uHrNJAmOLjXDBiuAmMdMDjE7hjxWOckRmKvEwcIueyK0dGwzHUhC4T4tJC4zfH2ADxBXVvLISnEzj5xi4lceuM3HfineD4p9p+NbwvjcBGY0MewDqhNiOALYkHC+LdawTCAKUJCWwDC67px4ME7fkeKtGniPhcovCYgXEBNweEGScYUiSNgUkOutSeZEpj-E3gGJJ-CkSeNxF0c9xHXDiaRLpC8TBy5DDYCYG9YEwiA3XC5AAAZiicsdUDFGARSTa26DcgLIHHRSTGQMk0YMdGnzjBpJrwKKjiXkC9i20hkh2okOFAuM2cykrwZgOVAiCrJXAHdhpIL64C6iRzaDHUVcnqS9ImktnlsJb5PdmAUiRyao2sC0x0Y3rdsTHzUnuTApAgQouyVUlGSApkozST-1cByxcg0wGKNSBojFd6gE6TQc53JhnhkBNgNKWQN87+SkpWUgvr0hJFudjOzSCDvlI4CFTRANEIzjey5GhtmABUoqQ0JvYeJ-IanYfoJS6k9SaIVklUSIEKBzcbI17bgAeScZYCjR2pXdLNNGkUS4KQCcqTAkBCAJQRIUrAWo075dChpboRMigij63Q-BswugfMMQJ0VyJGfBoN1HtC59oh+fZ0h4B+GXxnSIQPab1P2SBC8hBQmClgAqai9whi3fTsiLiFDSmAI0iGUZw6hxo0ZGMmiD4VZZfg0ODyJgGRWmk3TwZxUktv0NRFFAhhzIZsG92UGiBPp7caYdwJel71eBiw3RtsOWHGBAE-g6Gv63+l0wteo8QgISUeEejIZcw84dwKAh8jXAioT6U-SoTKdPBmgxUOvB9qIgBE+ssMOzLoGcyXC3M-0CrNxGJkfpMw4WesKX7+spZ7I-gUrOmRQz5ZdA+4BUy9krl9hgISaR8gumdMLZ-MwoTPCWhLT-E1gI8BbKWECj9AoAPWQbNKnPIhRvorLg9OaFhhVOAc5marOH4ad7YRAR2U8NfxQ9uAyfbactiRhfCLkqcoEX6L9Z1yRRi-UCOdO4BlydAMzWYnCOsCaD25KM8DgMNMq+gGZpYN7u3PboVzfZg7eEZEHLkDyqOQ8+mW6THnjBX8yfCebiKMCJyBEPcydNcH7lEiF0+Ig+Z3L9ZFz5S0syfrSKcCDSiGTGeeXfKMAXz+o7I7sbfJdn1BuxOgJ+UCDEnqsm5fw9QdYCsllAps4zLShgWOxTZ5MVkwyuSAHDRgYxWYBabgPrwLShiJhKSU1lQVJj5GkzELK5gwXki7WogQqRICnxugTmdjevJLzinhY+Gc9LcKAqsl6jg2k6SkVjjYVpt3p4xNmdSmjDZp0pKPdYBFLIHRT4wC0lZNShfmRiLRJ7IELIptHsKyJSsxBTSABaCL2JC03+cYBdE3DBKsir0TE2FHAi-WAYkzjnGmDWtYpRkprForEg6LgCQY6LmqnKAjMjFbkTGOJKOhASOAS4sKAABkM6W48snsEUmESNggkqyW+DIlby5RF4+YSIGvEviZm94psT4BiU3iLAr4p3u+OEVvhMF9sH8c6CyWATpx-ioJSEsgmKxoJBS7Jf9FwFUSAGsgDJIhPcUoTklaExPq2MwlKyFC3rXCe4uyh0d2l0o5kjJwGXjAhl0o7KCqLnpZK4llcyTjBjyDUS6QktDJFZP4QUkmFwi2xZ0yWU9kMkAkz0d61iUiSuFuIlUaWFVBGSbFtozhRYHImZj2AshKibgBombLPoCRHZYCGaVIMigvwVpX2VQFCTW8jy0ScctuiKieoaJfqFkshVXKxJtqTsnhJVGYpU2hrGQNaxeXor+FCPCCHrQuTFitOyoJNiFExXWs7+N0olUQD+nUwAZfrW5eZSxVGtg2eK9xdGzpU5pXgxCJNmiq5XAKklu4b-nSNwHJjk0qY7GTs1nnSqbl0XZgOCrEib0rxgqQ8dQBDSeCrx3-e0f9C14djMex0K8d0v6iti9VX0qZAE33yshlVryjfs6TGVZjMeWEkidQBmV5AaVyQbgL7GZ6uqNVOEvCUAUBActsJygWFdavCmKw9V9q-HgjNHItFyQ9ADmNMFcmqqmxBy+KQjytHHR1FyCo8FIrWDaqmxYqy5TkoNXUpOxFyE1ehIaWWqBF5gKNcIvtUN0wYTq5CbdymVMAPV7AL1YEB9UCRO1VkntfhLvp+TvW4ay6pGttWuT0V0FeNZQgLnkhl0QgVyRzGVXqr-xjSvBfsotVQiqOK63ddhOjaHq9Vm6uMEUuXW5cz1e6ypMmqVUxr01yS89YMGgpTInQxEgNYWL8UgTlxq4jceAEng-qFxf68CaEtDVurCAk6-hB+uVWPIbpIUS0Fl0TU5dV13rTNe3HvWpqpJT6+MYWuNFHRYNMS46H4oCXBLANawUjVUvA1udWFtUS6kRvOXQVuoiGi0Mhr4Zm4SGA4dWkvXVjzcq5i3O3HxsvU0B4E3G-KE2340rL+pGsETftEVjiaUQ5XK2GwKYzCaXGnG3uLlR41qVhNEq-BQ4HU3ZckQARYQFYB01kBJN1A8Iippcba5tN+UZTbJtwGedZNLjdUGWF4hCAbFemuUTJuyYlFuNlAGKYprICaxBV0o8ZrkX6ihbFU1ACzSfC7ltE8J6rILTFO1yxbPIhABLb-GlJUrg2OkUzbFsTg5bPZToiLXkAYVYAB1zJe1hKXy1ptoMaWxDHw203Bb4wDmpTZysi36bMyWm8zUvU61hbyRFimeSZPeCfBgVZ9RoA1uxXwIhtbSAbUptUHJauVlfLapdTa3pb8kZm2gDlp+BLbht62sGBVreWQoatiGhgPVqsVsrCq5m9rYgN3QebtIwMbrZVqaXuL1ltEp0l+GoqZA4ZDQdKmrBu02LntF+NlcS3pG3QXFIYjpWJOcBt8qOMOtxeMoyHey+kewY7blNW2RbK4F2l1tdtdC8RbtkiJgJ5pGCPbIsu4WpL7GVAlSbp9KcwVQ0ohbFnQdDFUYx07ZapXt7w2NdrEYqfbPlGyuiU0D+3vRqdATekFvy7oUBtIEZQVr43IlPyLCAg0akH1M4TBHRToowDzAC5yC6Qi5KKtf0lJwzvZrgEKJzuY4UcUOzK5NBKJR1hiMh1LMJfYHNqnapWeO31RbsPqkdyORheTLNuDrKBLdfulQcUSmTngV2RVNQMdAACcXQOWNHskD2q5Azg0fnlTUD2rTKwoMoJIi16eDrSaYo8uRUAQ0AzickrXq4CT0AQFWCreTGgAb19qM5RQloVXrH5qALG9AGGW3oz3J6qJQoKNFRLWxAQr+1BL6XLyTI97iqWegfdOmUCR7dtxVeZWQskCULlQLYFNW9reWfCcdeQT3b1WpDkK19hOzKNYuDbQZD9q+yoNvkp3EocOEO2mAOvWKjBHQpYcOgSr2gQRjob7CQMu1XZFtY2j+hruKQ6BzLJ4gCKYAwFf1B0Dmtc0sJ8Wmxa9q9zJNKOlBw6gBrWLwAdUYFQOSx91gQZA0yweWwgp4zQifYAhjXRdYuXAeLnMAggnSUgh6tdQwA3WnrsJceI1jDIgMv63SMB4WYziBHDB1Mre4wMgZCioHr+eqwqLQZSkSG0oeB0XhPoXXJAxDch9KJga9Hog1DM1L6dXpT3kwqJ3y-kYRSyDOkiDBWvkdLtgamDyVSu2qJrqRCXVY4DfQPTisyZ27gxDu5CcqPcwJrdxpmpTLQBihRogDiY-MYSu-3sL32SUf-eu0APtNgD3MUA-jzrIJFCxrhiCO4YAz26U9PhiyfPjtyzEKo8raKLCQ9HJoIRLAeZhUxpYBsz9abFCcYNl30hMj9jIo0BBV2OH+EscMUYLq+W60SodAWQkLs4VeGRmhhgY1BqGNyaRjD0FPfip3WF7It-ovYHCPG2TATMJQOYOTBozoq76sK2Y-wHmOfa1skWqrffpsUKstRMgbXaAAAA6WAUBS0sqAxdcAHMEZv0gWpk0OoFkOvfph4PIQr0FxgrVcafE3HtdDxp44CqEBUG3jBLREdcHwDrEgIU3OokidAAAAvcekYAeP31oTLxxAu8c6NTcsTPxj6H8ZCiQHX99nAHavngSBHgjkQK4-idhNEnwaygO1hKXtASliAEpB1jCAVY5REQwJho8yeWkEm4TMor42nQgxcmeTfJuZRSclhAA')">function stream_flatmap(fun, s) {
    return flatten_stream(stream_map(fun, s));
}
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave_delayed(
            head(stream),
            () => flatten_stream(stream_tail(stream)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p48' class='permalink'></a><p>
      The evaluator also uses the following simple
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      to generate a stream consisting of a single element:
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (singleton-stream x)
  (cons-stream x the-empty-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6ShyQHrhwo4lpL7dW2lMEK8RrxK3XaG7qUiN1zUE3OScqRLpAkrsCNBYChZi6EsJaXrPdUhrfW3tTbRlFBcbMsKMa7i0m+cwhmli6kjL91QVnoUIpdB59ean5HsVhisXYsKlsDuyeC4p0CfAF6vBN9L8rmqwrlWmUrxZNvxchste72Vgfzk5Kt5hQV02w3p9tdByIaXmltIeXH5Y4cK-dBjY55Ozb2TumeC0JsRfg2z3bjP1EHNMJ4oD+01FHJAdr+O5rZ3xQSyzOe0Gkl2+wANQyf10g-0rT83E04QDnx0nQtFKAeGxRcl8QTCpkgMwmg1rx6iey+WtXQILzsCHWwOEQQOoE1Fkn-BHyaV5UXT835FVTwJyGWW2ikVNQhxwh8W3wSEtipVfDrzsHTxH0EzmTGm9l2wwLsAYM3C9TEO6SHgEKYEFEOWaAshHxAloIGygOXSYNEFnxH0GjUMFA0KuzoMwNXV0LgKjVUk-hQO4KdlAzkLomrzuB6UuE-0L00EeEehEI4V2y9xCC8J8MiGAn0mCGkMUCEOtVkMWXUSGQaFcJckBnSHD2xR8NkKMAAB5Ai0iHpf84jk5vhA9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgJPHcUAAAaj92gTzUeHAnk0cKMA6JzW3HaM6Mcm6N6PyMcW4QLGKiD0UDKIqPwFEGPBqLqOPgaO5xaOGI6MiX8HGPwD6NEIGJ3HKhGN2JgVugTQmJCNc0UNKAqCqBUM5XPy9T2QCAJn0GcDKFmgIO2E9THl8NUNiMcQNm2CVRxwyN2O+E+PuNmnOJeTIEQITTsPcl0gBl2PSC9TEmNQ+36PhOCCHRuPhMxIBLw36NlVXRuKcRSA-G2GFnGGxO911TJCvk4K31RIXnIWiWKMBOkHKn3CaFYlADdWpOSCjjIWSikV0MtlwOENdn7Cmi0TWF0KeKMJyDhnhP8BVPEJbHUNFMjnzkILBC+OoB+JznWWEVGS9UmVeNAEiDeK1NIJhO+OGncK5MdMnSVN5KcIkKDiowhLxOsmhPEBNLhOCTIKQKnC4I5KBHROskxNA0ZO12U0hMcmCE1GHEJPUWBOmOSBJNJTJKOIpPXSpNznMBojdkYgZICPYNZJRM6U3m5JKltIqkFNhGFMFBvDvHbXdW2HFNBKKClJHxlJAXZDlPNIVIbi9JVNkN1OMOeUcm1PkLnPVP1LzgNLMMj2dNNNdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIhbxQi13myFzPQAh3BghvMTyAKjXfIIkcFglLGSV5wfNh3ex104U8kFSkR-NvObyLgsWdUlAzT7RzX8D7SUg1IHCYW3BHRQvMBHXQoXIzWkNwtAGkIIsQqwpLhIpLnIswtv0pRfhzQYr4SlAwpSAzThDoFLEkFqBzU4u4uqIhDYuSAzVmMYFwrEv7GEoCAzWZEeiLAaDoH7jkoegUoYG2Gkv8AzTaJIv8EUBD1AFqENSWivA6MEs0vMAzWvF0vMH0t0CMtbivDvHMsIqwr7l0BSDssMuMtACvDbkMvMAsr33mOABssggMoctEhMtADABcootvwAFIwqvLIroqEqArQAgqM0vddKUqfLPdjUjLXLb8ABCI1XKiK-K0AMq8SIq+KoEbcTI5Kyqxy0AbI8wOquihqzI0SGyvK1qnqjqrKrChaZq+yqqpaIa4qhqhaXqjygIfqqK3y0AWaqa+q+YkqsK5agIJa8wEq-we3SUM+KC68385yWQsSCMATPtXQaCxPWC2eY67eUi06mC5yagBoAAK2jw0SuqbkEFbiItes-LEzAtKiIQXOSDuoQgeuOC2iwBOvwhgsvXWPEmdQzUZUyhzUxp7iCqiREqwsgGIF5lcF4o8qJpJvqjxvxq0qwpUscFgEgFwvpsZupppuCu3HpoAFESLua2aaaM0AA5SQQWsK4WwW3MxyJ6+gESaGtkFGjtUQy67YATCCJaodfAIZOWmre0Y+aW-ibWhWww5WooVW1uaA1vLW4GmGhW+GttVqHCbWjPV8ycEuXfbCP8jMVKRgP8ZEz6yQKQWBPCRmXJAybW-88PQEIChSVBV2vqF8ZIC0z0yKaoaMzpRQXfGw9SNOhMN+D+WETPa2u8ouVU3QTUw27eK9VU-mgIfOr+J2keHoL6n6su-GiumWqu8Qmu-wWsxmNk1yewxIQVcPESU1R4UoBI8LdkzpPeFO+shMM+XAMAD5JgY835U87gTAa3J-dwCgRwc0IcG5ZkRgX0D9SgL9cPXfBihFTcC2s+i+vQ1CCMAksG6De+79IhEY7cRwbY3NS47FCYu+5Yc+j+p+64ZMhXfIz9UB9fOwGIZkImLjGPO+LFCid20gUgeFISFaUmQCDBnyhgDouaDBpM7cYY4IMhgsIYkYyQfByG5SMh3QbohQnqEgEyTUFBhNMiCibhxwNh5YTUECAASCNO6K-vmJGPgdJE1CQbsQE1V34ZFFEG4Zli-oMG3FgdAEUYoLcBYFWkeCvvh04UnH9AoapW3AjEJCYRMc1Q1XzBFhx2gxMaMFRQgdx2cequNW3ECCfGfsgiHRsYCO8Ysfd1AB3toeHAPrbGPt9BMf0nSBFl-B52Ihsa1WTitUGGl2Y3nWccBgoYkY6O0flWFD0YCbsn0c-p2KUmGN-utJ9WtSyeTXIw8aqf7BqZGKKbNRKZgzBqAgqcqeTifBCf9y0eIHYaUG3Cou4d0E6d0bAamELAiLie2GCCKfmOIt0GdTKYMeLOMfIlQhmbGYEeKcYBYH9A1H-pxWWa+B3AAHJf75pBj7nLG-7UGJiTHNHOnzRGAlRvmHLJDCwcccgb6enlM-nu6lIM1tFZghig8hijxyAhi-hhREXyo7pw8nx5nURRnxnQWv5wXdnFACWcXjmunTnzmSWlG8WiX2gfmhloNiWvnaWjLj8o1-bA7SBg6ukohcIQw+lhpKRDGucmjxduwRpTGOaknRXiAc1GnC0BXVAIXG5Zp2W7hOXKBGZbkqQ+X7gVGFWiEXmMmlBxW-GM0fGmGhN6nBhxWKWRpWX4k-mxkLxyReXLR7h9XF5GJS0xdecbWBypTG6sTxIIw6m+hfU5WWM1gbXc4TqdXNQ2IgJLYBNHXzx7QXXtW3Wxo+no30IG5zrEygniK-GIih0M2+lJUgIhkLay37gK27IDXwH825lSGqLi3mBM262KIXmm2OFSHVWg6NXuX2hhnsWIie3mh6GUgBN+31XNXUMa2s3ymbWKWx3A3QNbr23y2E363dZSEGI6ZMh8DBXGzmd9ssLzXc1LWw2j3FXRT+z3T5ZKQBFNM9p6pGoPWAXoIVVNwTWVm3Hf2FmxKFX+TKoTxI9sn+kTUGpVsB8wCLtxWPD3MIiAPsWsDBWXmgORoQPDwwONomm9o4OKYU821a3GA2xyBqBZI2Qg15gv4EOAW33jXBXSHkWyONGvso0aOixSO2x596OjSh1CPRQc23kwBTTIVyOH7br7osJ2yJVyAl7V62BSAHpiw3BQARtIJNQo0RtLdLdfBFC-gQxFBWRag48Fgg9wkhWcd49LPQjQmcbZh4mxAdQPBTPQblMh1bPGArOsWaw3HvOrPk50gjPSATPRAzOTVV1AuZZ7W08WR5UH6M7JFnqHFqNv1LYM0257Rv0+5RS2UyhKhZpTPHAeBdASu2sBzzApE6BCAGgcvw9LZQvwucIyuov100uGvH6yz93SY6uuukzHOT2UhuZYQ0omUsoIx73JTnrAumv7hjOKvCXav6uH7iF+xhY5uAihuquIRRv5heYe4evI4933TY4G5oNAu1yaSpvDT3iS16AUWWvSvyuIvHAgVgT2hhuwnnqVuBvxJmuSu2voNOu1vrveu-uH7BuxvDvZhvuAgMzqMOuQxwguvJ3pQIjnUgfbrv3nuPu7TukDnNSAgQeUeWguuEM+zTuZuZaIoVAfP5u6BFu3v8e8N+uwfjuwJGItvjUdv3ShHthEe2fVvv0JQBe27ceIiluCeoglWDJheKfiFxfyzqfrIhfouLOfPPu9DOfyzbuNyPSo1+L5AVPIjvuMkW3CuqgR2GEQgrfVA350g2AgmMpNQ2OglghXeUWgkA8SoWBsOqo7BxPWEuyovv1ez1ytDMJjfyAVPILnrg-tl0vGvxJNsuuM7XwpF5PLZE-JPv15j7iiv3UoKZPxJc+bl0-twve2PF6epNsGgMo4RsUoGQHw9tfd8Ij362+ZevvNGG-DpkCu+lB++m+DHEO3GR+E0B9J-B-z8Z+x+GPV15-p-G-kSMoxzrUh-dBLDx-mut+lD1TNGs6v59+-8d+AWIj6-V-m-T-Cft-1C4v68P0P2jSnyf8sOdwfGrCtMO6tBz7mwP+uhQ5m2TYgfpHAqnWEOHkYCbweoKgVQA2GY5ndeuMwZ-n6yQHGJnq8-WRNfynDr9dCwHA-jrz9JVosB23GHhN1QSrNiAIA1oIwHAHQsoBBAywqgnSBwClQ8-SZMv3B79kl4yqVVGgOIH0FcebA6lja10AiC0Ot7bgarzlgNw7W+vSPqTjgamkEBirR-meFugkoWAwrWwvMCWC1A7EdANrnoJ4qSo6AlXT9kY1JjlY-GJggwWxHMEZ0XmJbZdEYKVbJclqmKLQToPUh2DDBmg7IEjzAzlZ0e7NbYH4IcFtYX8l+H2iShhoRDrBugCITUAsGv8rBbg2wXlFMGRCnB4DFwSmRCFvwPBS0DKG4HDwB0f0WQ+wcwiqFmCgUGdUIUpGKGvNvBeGcrLcU9QBDtB+AJYBrH+qkRc0u+HofIDUh2hLA2QFBt4NVoDDYuHHeJMMPICjCvBEw5YWc3H7MVvM4ws5n4ypSGsYh5Q+IbUK-jJQPsXQmus0IWFLCuhkwwIWpi2H65FCx-P8n0D4h9RwCwDKTqABJCghz+kwKRKQOkQ4DPaG-QYPv0sIrIG4pA3nuQMyh+Nj+LfT4d8Pv7GFnBIwjGI4Dkqm8OBOSZfkkPkDIjD+Sdb8miNjCYi8i-IUEEiMIFDDhyQTfAAOh7jDE-G24ekaGkZEYdXOnCCkXiPVR+NpS5gQ1k4Gf4UijAcIzxLYXAg1Y3hbwbkV8PxHUjBRfAzcCKNsaLNce3wiVhSO6wYiTeeRaDCKMaHShoMGow0VKC1HoiyR1LA0cTwMhDoTRNopyHqReYsiGRMLdQWE11Q+giwGYVjikx47HBdAjrWUY61+EYDaeZI5rLV2EiWxzRpI3UTS2FCO15RvogMaMTCFSgQxD-I0hGMSikNWR4eGFjsJfgvNIyI9GSKsMiK6jIxQkIekSPiSEAKCjfCkJnnkBCtuiVo1sd-z2jycxhWglrm11M6pCwx-ECxPJ37Gvdaga+URtDwO4TcgYwpF+AWDoDuimxLrErr0BbHqpmkz1UzpbFLatiIRAuZ-qZyMAUMfGBYUzsPSsCgBSiAACS5qOAAAguAHABc0AASqUUgAAB5QWsgHEh8FrcSxWPqpRTFAJYxZUakePwbFshVxm47rBKx7GriK2-osCSSNTQvMexMgFoKBPoCaNMJfCbjm71njJcAWd4h8c+NfEfjvxv4vCVYE9rzByQyEoiXDTgkYxd8PYisauMcDriSs4EoZI2mYm0Brwqw4jlLkb6ESUWLE8CQSL0Lj9Vh7IXoQJkfjfD4Ui0IJCpwWDyJtEEksjrSBUn+9SKaEmSRCyAkqcdJxE6SdSIIwj0BIQkeWhPBiGWwAADPwR6jxBjwRWOycKzLBJ9KAX8RVF5JUAkB1O4kdFvZOCnCgRiPAQ8X5jCmxQIpjATRptncm0DW+SgffnFKla+S4e4-CIsExx6qpMpPrNsH5MJZD8HhPUSwDXFSkP0nAGUYKHZM3hSIipIrbKbwWWKeTw83k5Jjcj8kZ9JgPUTQWyGPAyBfQ-HMElRlQHMdkoTIBLv0A6lD8CBLUnySVLh7JQoQyHdDrbwiJDTHAI06QL6GILHtTRJPSwMNNGm45l260vDgIk3Imozpe0i6WFK7EiB5gjUWEE4DFaUhYi0DbvqGMN7xJdp+0sad914GoDA4G3KspyIRGi8xAEMgyEDlty68BYeUaOKgn+HYCB+uAjMPgOUbUjkZd0hoDOPG6wjgkwQekflHOLpAgZF07EXP3W7SgPwQjabpOQFzIdRRQZe6aIHOkHTRB3EVxjTN5lYE-O-YdIBTM1A9daSig09pgQenAz9W7op4ZKPUA0h8+t-PkpBO3G08ARHAvAcITBFZiAgwsLATVVGazjMo5vBuCQF6I6jgJigOmUFFxFpiaa9pfGaMR4FeshRywSYhzHxp4A24AciMP8JwGYzR+wI-Aa7PBHnxIRIc02Y5xmmjMbZlorfg6MBFYzOBOAjUkI2znmBmBosjaF4hhnd9I5hs6iHu2FhvTP4n0tYK7INnGENC-swORNKrQui2RbokhKjIlLNy-M8I9WcZOfbW5rZBxW2ab1UBtdVA+Pf6UoMIF5jXRNvcKK3ILHzzIwLnOQFyPHltY+RI+RUcKPKzOzkw4o9SMrPIIPB8+Y826pPPUI7zvZE8jmTcyVl9AVZp88PJnnx7nzIJMVMAAHLbiKiIiY8owFqjVGqpb5fjIeThEtH6jCh+NfUW1hOkpAwFI8vIqWygXpiigpbWBanL+JOjwGi8xkSuKcBhS746OIVt-kCx1Z0caLOyV+Q6y0BFgDY2kM9PH4W1npA+OKfPkYWWD+gL8XHJd0akiyAwkraQCNNqCipbcvjcBhbV4WX0OhlpB2kWE6lKAwpgY5lsqkWEYxlFiYkEbJK1n8RFgEeBRZbCqnKEh+dUtYM9JUTPUEFuY4NkpAQWWigxRkh0TCDoXkY9F2k56XAu2CZjjCMUzCFYtnA1jZ5bc5eU-GLHgMbY+9Zlg1K6nz43FGYDxaglLFWByx1w-xVGI3hXiRIZExwG+N3AAAZLmn+IXF8JXJUuKwGZLCmihLJU8mWXYGgn0TmxfEvxohLG6MS2IlS1ibYApb4TUwdk0UAPh6UKL+l4-bJbkoKXgBaJw4JCe0r6WdLU0ckroT4OOHKQOJ1wriTxLmVy8IQd+OycJK6FPhDRqyrYfMQvY7Lw8eyrYZi3dEe0Ol1S9Qgsq2EKT5ASk5SGFNbhBIPapIQhUosMlqLbAxkw0aZNUq3KjJVk90Q8FiBdS-mCYn5qou6wyTex2QXfPJIWEvKig0pJaslHkl119g+guxKgl5gJsUJ9AGFUmL+UQTLCJ05oTctmUOLyVxkvGjOTOGKyXoCgSJYmNJUIrVhTU56lqABriQxxjHUlfxIiV-MI+08vlSQGJmw8-GEKgCuyp+acrCBiK7YeA0lUDJL8F2YlkyvuH4KGl5IJLiqM4Xtj9xG8e9IWGf6mqZFnpCjpYHMm9SMwsEnCZvF4Grikuzq77lIl3HiR1lb3Dcc6p65SJMG64GdDhJVUm1HIRyvse5x3A4SLlWg8VVDXugtdyocakSaEKWbErdAzQ4NVVOHBhruVd7GQXr0Aw2qg8WSLyev1gkcK-hz1cCZbGcWyByM5iyYK6taWGq0J8MlIF6oi6WxfVOEDcXxMDXPVc1M6OKasIjU2Qo1EwmNWctEDxrsgiagIKoGTWzqwpC6lgGXn7AREflOamwHmoUUqqGZKvTuQbALiGdZgMyrqUHntXdhnV6wghXZKmSCT5lfjLjoQudUvMuOOE59ZJNoAD5v1xK39bpP-UGwhw5a29Y6qg0MTgNqwUUlImaBEqX1FibJRRPfGfifxEyyYKhpfHobqJRSzNS+uzU+VENkGraHdO3AVB2OpazjpeoUXRLtFkwcDXarilVrWlDG+DQn2kBXrZwlsUZfksKX8x+N4ymMbj13UkbuNQy0UlNEo3lBqNl5cHHWRhCfUR4CrX0ndI2FqbZ8o5ZTURC01MLl0I0FhtZhwQHQVNQgYTptF3ySDjNk6S+H3TmAOBzNRcfTZwpxxGbtNvsTis5tjJWaDNymDzZox+yOa6APmyzaNGs2rpAtcwvaPEEeAOg2I0Kjzf5ro5Wb3Rym6gPVN00WauVZwh9SyQc3ZaXNRWh+H+x1VaCXmGW+qcFpK0LhiAYWrZctDZXQqnsJWi-A1rF5hDytSKgjCuoarQshioq5lo-loCfVMtRaa3N5vG3MInNREMaN1rWGcKOCIWnzXpNm0WaJWuw8BqUOFAHDKheK5ZUpCG0cqns3mvTWdo225b7hnW5IM0Km3VbTNF2igKKCe3swbti5AwoWtiR9b5icLcqMdp+Z8UnN422vsIji0rQgIV2rQcisWWoqm4j8DFQtCwDK8UgmmgHUqHB0x4FVSoStp4qUhJKKObCa4ZYSfoo7jQBOlJccuYE5z0gVKd7VqU+3MrtoP211NQFRY7h0dOaTHUQMeGMTMGAAxAUaXyQf8x6E9cIDnU2DuiZ2XLSZJDuVXcqJoipWHYpPh3ShEd+kCkAsHuhKBXeutKgCtHhLbMtYhAvHbZXEDb9jKxPIDubv3n40KoOHaqBSIJ6MBQ+2xZHTnICDbhpdg7QAg2384U6idVOq+QjGKV8l9IC2zdCzu91ztukg21lWyDFW6Bo9Q7HnVImZAut+K+gy2AAE5XwPUTPTxRVWkwYBQGBwAJRVV-k3Ad8AeKDM9lcKEcQ4LtWKXLmMQ7AARJyfD38AF6lQtzW5uVDQAD6l1Zc09egK71l79B1LRveDwCDd6K9rgRFPJLUxDI7Ad4crJLLu5j6uK+gufVXrGjp6QtAlF6SriEU8VRF7QKCM8HLVQ6kV4-Bbd9uTWZoT9Iis1GIv+3x7sdOaGQMIrP086eoC7bHVBDGb3RFkwoJoA8CpopdaeWoS2Cm1qDOtXW-LXFhlD61f1nwVy1tYxAQiMAwDpNTxuJG3APBUiiLb7t3vmK3g7wC7UAH83sBAGRIXZaygnQjCkGmWHKrUF5BRn6xjAUsmmIxDDUUcqORYS9XYjYPfd31Xkm9T+sA0vqGcvzY9ckGFhYGcD9UPA8tjZFaA70o+8wKQe3DkHmoOErCEIdmD0HyD7UDg9HG4NmGu5RQbQ7oeajUHEoDAWw7eCH1aHx9heisVisWVorHRnZKKucRYOKqbRuuq9P-yUBagZJ2am3ZrVbiGA5e6OolkwwTRljA9fYqlEQjvZ1jHso5bRHQGPCIpkD90HlVAZgMqLU2l4BA+6yQO0HUD6B4ccbBHwWJ4j4R3NEkeSUpGJhaR6Tf6W4W6F7ONzVnY3GAkJo5R9oCxkI3SABGlQwRv-itGaMa0GjQyX-BbpiPWqo0Aeova7gv648DKzQtI4Kn-3QrbmvoxQKgoAA6WAD9SWFsL8H8AQePRnTsMrjVuIBkPvTuEUPkEYOr4A41EqOM8cTj6Y845cfelsQbjdxlsaqkICLIhkkXCIpCdAAAAvA5uYHOPJAcVoJ05ksceMInP6jkV49uHeOah3U4vbqNkfoB5HNwRxq4+pHRN6MIqmzLCpICGINAhipAIYjC1Qi3Mz4eAb4xyspPAmzUlHW4xibpOSsmTLJtk5izxPtQgAA')">function singleton_stream(x) {
    return pair(x, () => null);
}
</pre></div></div></td></tr></table>
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.7' class='permalink'></a><h1>
    4.4.4.7&nbsp;&nbsp;&nbsp;
      Query Syntax
      
	<span style="color:green">Procedures</span>
	<span style="color:blue">Functions</span>
      
    </h1></div>
    
    
    
    <div class='permalink'>
<a name='p49' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, used by
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), specify that a
      
	<span style="color:green">special form</span>
	<span style="color:blue">query expression</span>
      
      is identified by
      
	<span style="color:green">the symbol in its <kbd>car</kbd>.</span>
	<span style="color:blue">string in its <kbd>head</kbd>.
	</span>
      
      They are the same as the
      
	<span style="color:green"><kbd>type-tag</kbd></span>
	<span style="color:blue"><kbd>type_tag</kbd>
	</span>
      
      and <kbd>contents</kbd>
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      in section&nbsp;<REF NAME="sec:manifest-types"><a class="superscript" id="4.4.4-sec-link-2.4.2" href="./2.4.2.html">2.4.2</a></REF>, except for the
      error message.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (type exp)
  (if (pair? exp)
      (car exp)
      (error "Unknown expression TYPE" exp)))

(define (contents exp)
  (if (pair? exp)
      (cdr exp)
      (error "Unknown expression CONTENTS" exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+7gYBIQw+DMGwUBwIgyDoHwPD+wt8jzDRG0bno9rELMkvI1IkyKI1R8GBsaQAPy6XI18zPvix9vfQQAFzAlKpLqiKF-QIT8g7UANIQTQ6EGzUQ-kKDCYoJT-z7CfM+wDzC-z3PIA8METy330OgswT8969QongwBx9QC6DQcNTBiZXSlmtPgwhoBiH70kCOVMt9UEENocCd6N8KF32Gmw3qAjGx7CAtQ3hP46EyGJCpESBUNKfxEXqQ0nwkKqA8iCGCRlFAmXwU8Fhw00g6LTigqhp8ZGNDkVTY2qifyiJmPY+G9xmbGyVuzSx0iWFyOTqHZhaiSEzACWmHhfjgRpSii7AsQibGlGcSDRcXiuFCIiXwwuxdS6UVnEEpxoB67SB8iEwgG0kLDwkj46xxjTGlB2rZd+05VCD0qeMQx8SeEJLSL-RQzAITcOAgAVWIAaYg1AADudghR6CUA6UAABaBZVD34ZWxjjQp2SfLCBeIPM2GZKD4FAKoEIzpKAsHqn9SQWjhD9mYpnTZJcDZnIub9TR1VVA7MKYwKIstzCDCodIC64gjknKkGSVo1yPm3LJuYc65BNh0Ctgi1EKyFjlLbhY25tS6m4sCI6BQxB6TUPBLQGKJi8U-gqQZDkxlPkkH0DiylzLvm-KZSyvFFSSXMBrHcGF3I0gyRCBFJpqgXTIu6Y0J+IrxySEfISu44rpDCLqb-Vo7ROgtAGP8wFwKMzmD6dQCEXyWQjLGZM1u9t9aaHkIs5ZRTBRaX+bxHSDSJRNJMpOOgPD7mVwsi0n5oBUQAD40UHwUAG8MViz4Rk0LbHeuoQlytoHVKaEjag+v1UKqQ4RCDvBKasiN4iQSWDWofTp0b+wmOcWUotKbuofWTfQDxcSmxFAyXw0p5aiUNt6l9RQP1KB-WqWfbcOkk2uJNt6yt9zDnHJCJlTQ+tDZExtnc-VC5qTqo6AkLVGwAXyCBbaudYL5FOxiTFX2sLGgyS7RGoW562apl9k8aR2qdWHr1eg+FBBwTnseLA21qKKV3qWA+xWztL0S1fdY99aQT3CrbIBz5f6IPOUA+uilMlwORQA00uDQQD1Ht9aUW97DJ2qApa2R9YtTZrpg6O9BwxAjDCqvbN1kgSDVi6Kof++yPSsX9ZIINoaWQACouMMN3WJ4MoA+P53tnQdaxAxR5qgtgt8uT6Bzn1QhqQFH8HXrhbQMIAo6ZBqZkbeGqS9AdLbV4Ajm6PZSEXcuijvsqNELk17TzoBf7110MiZTqnFZkPaSh4WaGn2u1Nv2dlHKzBKbyCF9TODULad87ivGnwKMKxs3Rq9PEWO6ttRuh5WC0taccWogCYW0LwIbH2SVPTvOVAI6xhN-Ik1hMGdI+5P604WYCanag3k+wEZ-UHdaQKLNJZU9QNTdXtNpwFcZp8oBJP+l3QwVFHHNvJh41NlQfyHmgdUGnCMhLiWn1Jby7RwdjvxYS89jb7IpNdGnZll7jRpEKd3uw6J0XW2SMzQJ6k2XknbGQ75s7+UxIqKMZWv7ib2GcKYekmd+qf1NIs2dtHismltLyRWt9GxqzQNFKK-HFP03NheE0nhBGZL4ZdYzJNS3wmY7J1JmnyGls05Qegs7-PCfKKqYj6RT2zCk8OHgBeTBWDsDXlwTeaAwadZ1rmpYDpYXZpG9kXI+QdegGraAeZ6JUVa5N6Y3pjB+mqAdLHLIOQ8hUKdNghQLQXiWHhkOro391k6Qh1oml+jhYvAu1zpzExkoTQ8JCpCwZMuh6sAYiPo3BSM7lgHcF8eiVQoFp83XF8-zV0+Q+PP9JE8twIG3FPdL8DF9Yo9UG+AXiHX7rqCpWKm-bWBk9NvoAXqd-5Fym7PKYqN-uTJFv+1B8QzHYzCHMqaIAL0EUafD1Y8r8WLJ+VRQR86x30sJpvfnOl-kslBnwFj+J3lkhwn+-rSn83xPHu+FT-I662QIOZpoh0XHzJVTD6yzUvF7Blw2RwyXg5FUBALB0VHYggPHR-2oAulTm2UMnkEzXWGj1AFBHBE+UwKz2GB-XeAnD1gNm5SAL0AswqGkAGA2WD0wKsgwmnQ9TPzsHwIhAa2yDYPHHjR0mgJJBpxMiEPkF+BwIeQ7DEJrzEMA1EMwIkK5lwN7BkMX3tgJUCwANmFu0vWsiBXp0e1AGcBNAnGsVf22l0CiHeBYIbDNgt10isJsP3lJlNy4NUCYJgJ4IMNABcMZWMNMO0Oa0CF-hyGiBsO8LNgAB5HDwi3hVA-CqNiE7cjVVAWQAAVLIdRYgQUVlJwFWAUSBBuf3YCUAAAamt2e1DEiCiEOXTn0LNgqNkxZHKMqIS2qOiDqISOOyrVxVt3twyKyPwHkAmTyPZkKOyUoBKJaIqK+0CA6NqPwHqNYMMCaNZFaLmPMAWK6L8K-3ciyAgSgW8OQ28NB0CGQNmBkCyEsjgMaB0jm1sN4MMKBSM0FRLzoMeJeM2OIVPiuOoEsk2PxRQL-yHioLu1+02N-m8KDQxA7EiOCNxSfg7ESJeyhOUxzk+NJheF7F2Mc2dUaBPWoRhMtyxFc0oMAN5VeKCENW4P0NZBGUyFaDkw5CdVKCIy-TqR-TEIsygOYNJzqRkgeLkMiMII5EZUBPOMwPkNFJJCKzZP3XgLsGoT+JuNg1Z3tnJ2ONFVON8JUDOPMAuJVNgPMLKzMHuPRMiOeP4wFPeK9kxIRMSWjSNMBLhl-xqO0N0OAOsQdJa2hIcLhIaJ9MdIukVmRKMP3iDN9PRK4kDOxI-x6NWzSABXQUJNPmJMxHIKXXJJ0Inw31NOpJSNpIwnpOIEZKJWZJJDtUKSkyykTMIxKxIzSC5MwJ5NQ2uT5LVJtNYiFKlJFJkKlxZTkI9RlPELrJYwVNwOVLAVVMY1l3nmqkXmXiV04A3l4AwA12zBeUuXeUL1uXdgjkSkv0ZBNS3LeTv3tlPL90kHORLliSqz3PHmpAChhW3B-UvKuXl122SmAQAhZCVFk3MCVFxXFPqVjy7AArMC7GAql1-K4IgrwLBEYGgp-Nj3zHgvzGQtAp9E9kqFkxwukGGhArMVjzqjoBLiUEdReFIvItyJ-CIqCF-JpIgppLqXosCF-P1HeA4WcDoGDE4reG4oYEaDYvMF-LKPgvMAdxeEFEMBDTN1aNopErMF-IWQkrMCktABkpE3kuWUUpgtjxkxeDSA0q0rkvmTE00rMCUufh9GADUuOUd00tktDXmTAD0pQp9AAFJ7KTLnL5LPLLLQBrLfyLcJLfLtLzcMQZL9KfQABCdEMKxy0yly0AeK1FaKjyu4FkKInypKvy+ZGIswDKrCrKqI1ENS8Ksy0AMqoq4K2PYNXK6S-K0AUNWqmKrK4NcqoywISqlKzqtqzKtI2K+y+SwIOSswWK8wHXYBbkN8iIV5K8ipSIoNdBf1JUF4d8nc+MWWOa85bcgveMMUZwAAKw9x21WqLnpTsDktgvmu3Nk2fIZTiwpU2oOoJFliwF2oWquXhTyFNgswAl-O3U1Vk2Bt3Wsu+3Ytj0gGIB3TkEorMBhrhv1ghshuUtj34skFgEgAgsxuxtRrRo4tggEoAFF4LMaSaCbIbfyAA5JQGm+yummmyMhLWakzBFV6362sZa1EC6yyI5OS6Q-wzm9mv6na9mvAu6t5JtdKWsD1Faxof1AW0NZ8uLSWva6Wrm2LBgnSB1EtDWxa6FEgXZH5fMDgx5Ypa8lTdVRgYpd046pQeYJTCIJdSjZlV6m8nIQMe8hlAcxoQeM2voIIdUhaEMyBD03M60c2zQ-PME8lSlALIlVQV6pahol4CU9W76z4LWkQqmwIRO7oFOtuagE6s69O77EWp8P6+QvO8wMg3WLMiO6ggwbcHIBFeuqIIOEwmYOOxIWbLYKBXuqOhguXBchXFeDgdebgTADcxaWgcIJQCgSQWGMIKifURgUOUCSgcCHIc2z2FwNwAKLene0c4IpEyeIiHEo8beiCU+1olkSQGYszMMLoo+6+k+gcdBX+N+sCW+v2HSaofUAmGlT3G0Go60h5Re0gJwK2Dae4XZUgUgPyhgColpRB9MlkFop+TBvzYCdYioqB2un8TB2mMMAQxmEgAyC6MBu0VladVpSho8C6X4AASEVOfpqPvrSNaMAZEguhAZ439QYeICoawLobuSaP0BZEPzsEYeFk+CmBYEjT3stmtkHjPuAjoJZC-odmSnUdADhBYVPQ+N7HUeKB8DYnfyIjMdSoxBZAfi5HQSfgInYn0YcPse0dMSfnlWUCXpXoJEkHXtDnUZMV-lPSKUbiq30cMdxSJGlC5XhyqTMZ9Owe4YqLkbQMUZcezj2WUYkbaOGhaKfuONsmQQSfUiSZ+XyaoyKdaIyYUcUCUYClyeSdWJqakdCde1EbSLQpNqjXqa+Ead6NKDkXcJCalS6aYaWBZDgpeAAg7HUbjOsaqf8IGcUeCLsXCBqOUaceAgAHIn7B576DmdHtiljlGZHJn5Hl7FhGAfJYY7mVHJQ7SSQD6IQOwHniq0abKsq8gWhmijVmjxkgxixTRFAQWb8rZORP6Jn6nsnuhPn-DexEWXg1mhmdG4WPnbnorXh8IUWrm0DEX1CFoHanbSAXaCdZVnRg5xJYCnQnmImm5ZxJwNHfzGWtNZNyn+p8gWW-a0h-VSWTRyXKAl1AMS0aXTQ+nPV6XhmWs4mlgWXdnfyHGQx9DEE7JpQWWNm3dNBiXdRPm6xZkHRxX4ZTQ6XNBYU9MOFJimWeWZWSMuS24-SCn5i1XSmYCuWO47WLWxy571tqXTWLp6Q9kLN-UDWZlzhjWA3xIpXzW5TcDU6MIMG4Ldn3COxo2wXg2fksTLGVwiIM2g2OFs2YWRna8BYacMG0LU3mBA3rg9kdHE2GwMHBXnaRXKXV9PHHT3DG3sg+WggBXHahWKWxWC3Y2tXtXu2nW6TJaJXC29k6z2Tj1QV5W42jMZ9Y8VWBQ3WkEYCtX2sGyytb0nR2sQ7dQ-RwWqJyBqBU5jQWg2hugWWLCgRrUFX6WMHz3GAgxLmkRg2wXP2qILFH3QC39ugn86M93eI8B-jr4Anzhb6Nq81ClyyrhyA55x7Fo3gi4phQAwZjkLoFowY1c1cCENk-Rg5VAjRM9NgNBGAWgIGcJ4pVG1AfcjU6OUnXs2gd0uhOnCZGpKOHJ2IOwWPaPSZZW1EhPsFWPXC+jqy6ByP+PcWiJhO2O9jcYNFsRb7VBYVJsHsZg4OcgAaDL9P5AZM6zXUDjIEKP5ADYeAXhKPJAXpGy-XTMkVnBjOLMyPSArObOlm1Ajs9OP7fWzAT1XP3OHCwaugqTcCIu91GhF2nPAgf1lOPPTR5PrOHPfP7hCA3PAu8T4NQVkvwuiUNVwaEvSNLwYu8v6zP1StMsZJexlOgvCMmMJyDSC5m1P3vPJBbPQB7P+BnjFgqSf1QuT6Uu5OvP7Oevex-ONPd6muQvsuwuMQYuoutirBsQiIZvjO+3hp3CAJJuNrEKuv+vdTV9nrvnFO-PdPZvT6qv4v8zEuJbCvZO0uDYTuuJFvcuKUT1CvlviuuOWgjMWHGgQyNvMJPv4OsBgeK6jv3C+uBvxCduOUPucu-6eJoezB7vMtQeGvJPaOEemvxy4vWuzTGZqLYJSB4iWAqTzJK2LPNBO3ETdJ6ffNf42B3HIgLpP3Ge8Un5OfwWvt+jUiWASzzUplQBoP0sqzjPWTMf2HyfyBKfXyJbJetMbvQ31PjOtOBgf0UOLNVfYOT6en6etI3zEPUUDfL2jeWR+fufuRGD1PnBIg6pohujf6cgCen3OCjvj74PTvBvLmnee1-9fechztneajzaOwg+XefhA+I+Q-xxw-g+fgvfLvk-Y+a8Y-3TIh2yYDQ+xGZC0-PO3eb6PemAxTLmY7ugC+EeXgi-gPqR3CIds-Xfa--fEeK-ZS9X+IpBQI420+UYy9JxWQHHVPxAq69Bt6I0R+u+xGSAyz6RQJJBMOiUchGBYUAH-iSk338yrX++tWyuzABsE+oghtT+ra8-NWnR6-FCqvcDW+z+ivOPNVMsn4F+Ft89l-V+Wh1-zXb+xSmWX+BoE0A+RH+yGR-vG2q7EYrW7hQ-g9weTuEQBPkDsFqxeDICMS47O7geywyXhJwd3EnpXAwEsse+YgUMLkBYDWsbU+eNoIeEFA8Y6APXWgRRWuB0BHOjfc-B8UYEaNmB9A+kGwK046M020sQ6Ej3UrINwgFAqgVoV4EMDJBxIMHvcFEEZ0Xssg-gS9BryRApgLuK5GoKUFUVD0LA9QU8y4GHRdmag0IPwEEG2IEKBBOEsoMpRadtKWgxQDoM+B6CLBAgohqYicFyVyBCgriIdFnj3F5BlA-AIeChCXUvk9HSuOENgiEpIolgYkDaCkFK1jaAof+ozDiHkAEh-gpRnkJMF2kChuzOgjoxcG21cgugwwXwLdqmI4SoQvOr4NDTZDchoQlIQEOnhJDqewQtnA6CuzXkJQ50W4KmHb7CQgIDfDYCfxT7n8U+l-MQqXxPoADu+7DR-umRi67Nq+Cwv3mMKWHiEhB8QgdIEwp7xFwBoqSAVRVgi7Dx+oIHIYcM4qU9k6lw0ADsLn7m1uS7jfAKuC6AtFdmLIT4aqG+E6NeOagG4RcKSC7NuSZgMoX3yPCPDwREzavgMJlrDDrQoI54U8JkLQjdEBBG4bCHhCnIjuYwjRjcO+hHDFe8RXsLiLEHDRewRI6kT+BJF3Djh8LOEd4Mhodg6RKgylDIW1Z-Cvh-zUgdMhqJt16sbQ43BwO94EFHKTQ1rNIHH6U9sEBoDhCpg-YnhVR4wF4AazREGsJhj3dbPcIEpKoUUCFW4bYDJEPCtRTw9UbQHLoXc6kOou-uwwNEgwkUyqDBv8JyD-MShPmGwSCRFEqY8hHhY4S6IlSCiNsaBZ3o6FZGD99MWzV3um1gg9D7YKHRIRQO849dKO7AyYRLR2ygAUO6YuztZ2HzsMdsf3F-rulYSyjcGdAMMZGONb2dxQ0YrHBLUo4WYExLddhiEH76UdDA2DBxrg0o6t0rAoAdIgAAkSakgAAILgBwAJNAAErpFIAAAeRprIBUUdBHWlkKsCU8OEf7d6nCO+hXC0+hACMcVwdAHiB0GjFMXWLrZ7jwsjI2wNqxTEqBPod4kzJc2fGVBdxXPfcebTHETjpxs4hccuNXEfj1uN439j+PvEHDHxafFMYGLrGSAGx+0B8cQH8K+g3xxABZHkMDxZDne34i9iZgvG2AjxEo5+lIOyH+pPMYwpwCJi+wKiU4yWa0fkBoki8TRh414WIOGLkiCJ-7IiahKuEhQ26FgKFsmhIDYdUUAABk3H2wEgEyXaKJPZYBNKA3QXXKJI0DiTFAFmRgOpM-7YcKiPAJnJeB0mQQNJ6+RgJcwhxySxw7vE-O-T94mTjQNrNXipPNruEPGh3Ago5KoE5JlJXudPgXwHBhjLA-8GyWX2nBW0xUULbTk90UnOS-JtBEYgpMghKSqIKk7XhsB0iSDPgEyFQKHCA7oI9cB-N9hSifhWSkpBff-iJJSnxS0pgPClKMyO6Ks6kT8dwtlMkC5TpAocVATK3pF11LAOUvKZgJlZBlekx7QgfVwGkdShpjk8fm0GoF0cxQ3rQwrZNImZTGY7UzqflKpL79YRo5I-iCmOTAith5ffaQgLeIawdJ8ge-h+mIznSggA2GYbHzmF8krhN0i6dSGcBrD-ur-Z7E-E+FHpASv8TaUNNOFJ9nAUA4niwyx5dkLY2IiEOIRdZeNXgU0raSyP2l+AUZ8gQaV1MwFidVUBAY7NdJa5E8HkIM3GSQNPZdY+hWhQ5CCFQJmhNO7ffeGtL1GmZVhqKcAbn3mHt81CGwE9KsLSoccSukXJzjJBIB1FzRJwi-mcNP7+EuRgQFma8KDr7oGyu0iEBGSULPY8AYmXWd+gloczjCF-bmcwSVl8yb0l4QWWWJFktBSpr2SWQaJOlYEFZRs2YbLJT7ikWGXss0ooQalu4rsTs54m9NVk1dDpqgeaYFikCzglZvMxQhIR1l6yLZrEPkQCIFEhy7phUvATTKTrMy9SyshUmxgWgSyliUs5Oj100AnddRDyd4XYw9GAiJmKcz0TzxCJUJrojUTQOXJegQjMCWI-vh3MMAbDs59IOmdoFdCacO5G1Sub7JsFdjYRFcgeQiKHlIjR5jMsPhXI2o9ci+oABOWJixHuF+5BjfEVIH3ldzYWxAB2cyMpEOCXslIl6H1KCDFyDYjs9NtfLtFBB02d8l2XcTjk6NG53w2seFChaQggcTzSOEeRrhA5UoULc8gtEfAHgTxjEWaWnwCizSa83kixEgrIn4UMSDXaKfjPMCgJY8KgXKYKBzRXTHGNggKLgrm7j89aIkRyVFPL6WjTRxATUdiyv6Izmx62A8IbmSlAZNgoUgvlIEiCMLxCE2CWo-JDFujgMuKSRY7OYWHiFZcCmiOLhdwqZZp980oA6Mr7sNJFRo90fyObkELZRQIwtJ8E+aiKRsY2Hhclg0XY9hRVgUUV0NUB6LpwEqIScOP-GSA5xQyAADIk01xsomSQtG4k7jHJJkASa8OPGni2g541CVePAlnjrg4S4iWhJ0afiZgKSmvBkr4UmQ-x447xX4oCVgTFYEE3JakvNp5DpBSdTzPBLaGITkJFSzRWkBZCOTsJoQrkGILqXOKPJkLHIO0q6FchaFWycpZEqrkMdqQVSyiZdU8yOTtKX2OhXwtEWHcWFVwriduMNFQsIlME1ha8PH5mg4gkECxQooHS7DUxxISpaEOuQRCqJ38jkPMrqRVKC66mOgTxkyw7pIJhE7TCcpImcTMsMovWikp+W7KeRA5YUg0LDGgYbmige5tizOUFD+sEtS6MIAsz5iX2qgfFiyChWfNZelcZFSQG+nljuOEzA5beWhV3MMVcKufucup46N8V+QMDiZHxbgquh4-EIHWKN64iYxiQ7Zu2LuSYzZ57zdiLiP2VXtLAvE5SSpjrEtJMJlrZdsIrPFG9mJmGRoD+lbGooGl6XRscqqq4-poGduRIBKqoh5CFaCWbpWmIU4YSoJtAAZRQNxWBBNAeabzqC2tVYScJO3MZphJeAyj9VIUxWMxJpVQCYZzqO2KHTFWfBvJufaVZguzH+sdlFmZRQgtnCzSCMVrDlePJ2UqrSgaq6zhZk1UGxGx8S3VRLV9WGrvJJq3ms9nNXJDLVbSnCU10dV3Ba1ULW1cSCTx1J3Cjk71X5VLW1hy1DQhdjgPHKFyz2d7PhWKEYBGrZwyq7lQwpnW7Mf2Sy5VTo0XXMSZVrqmvKuswnrqvlsKMIEamNCYTL+0qnVbGtMzZBPlfE+gBZi8WAT5xi4lceAAIy3qZx96kCYEs9Wuru12lC9VOvoB1kZILIcBNI2zwDwx1DCmNfMXDXjqo1Z40RXWR-S-rwlN6gpT4v8VPqNgXitDQEosydqoW36uSkhq2UAbLwQGhOAAobrLpHwx1D5F6kKHWw6NlzHDNRvxDmsYh3cB9k6HIb2w8sLGkQNKzjTm1wCXGzQS5goJQQJANGwvHRu5UfFGNoGrvG2VIpSaKAbGqPogRE2XM8sym-EAJvY1gF8I8m0NbqASBRAMo9ICxTJrIk9TBNYY6jdQBEV8aKA06FlRQKeZkkm0Km8hMQC83SdHSrm4kDo3s0iLeNtAXze4B826a2R0uMxeSu2RtknNcSSLfxs9nfMAt3Q7cI2rSJ-Nmi2K7FnvjC0Oa0JwS3UMpqK3hzJNum+FQ0O5UeadNheerc5o0alCZ55ktwS8qMG1C6keWmFRFhFiNa7gA2nNultS1BAZRZWkLdOFCyVb+NFWugL5tG0coRtsYLLUBsYC5bYtOKqipJqK328dIpmjaHsmq2sq0+Uym5TMs5QtkQ0UPH8Ngp60UqDtnuOLZGixJfz5iDiq9gGLaE8iCEGPR+AKA+1OK0xmI72b-DoLGI-tPsjkIGtxCrbgWG29FAoDi2yZHtYi2eo6GwR5pX2FrNPmdln4d0u6vUIeh2JHX8gW2wrUVlTmzbHa3N54QUlcumUAlTE7w4NCYgx3QMI0nPZ8FQA2gSkFmxbXYc0uOSzB6+zlFQTSQSK2i7RpqUZOMnF43DdSSFJZKUTKJQ9vZgQFkOTuHZNIhl7HP0Y4q+3OLMRNuWUX2xG2w6nVmuwdq20p3jgEd4acxflpeBa622GGBgj+n1DGtqKdAizAAE4BgOkb3RRRpX3BN+ZPCQDRRpXXkpgkIF4GhKc5WsuBmoJzvFxPTXUMQkk1bmYCD0+Q9mezVkGgEL32rbpHJUxDnpZFhBIZpQHPVHpfjcErl5UfwnYGWQd4SZ+JcwDXqqV174G6iL3RHroG0LpAJCshR-GTAHqadFytPulot2-Mh9FFEfTTGAj3aEaxC+fV8Cul7bGYBbZ7ZEEbX05FAmQM0CjURXrZLoFmcNoKCNYmtaW3TXfYhyaJ9Ahlqa0FH9EYCH74atjVFCyDNBhEgwVJcvSyCWTLIC2oAT5hP0bVmAgD5YJGdnv70UUXFIjKZs9suhbhQA93ZjMEFBQBqr2N7DhHex4woGqSi67yUaj-UtIx1AaixIQaq4npX97+-WJ-uAg-65oB0gA0AeV3MTCk+BloHanYPQH0D6c0vWkDYPsHlkYBo0QwFENLJi9sBsinQJD0Uoqlty7kVdtZ3PYBmFirkVzr+rT8lgl0QXcLtF3aUz4bI5fRipDCA7DdaYugiRBPak6xAOGPIHQAmRuA796YM9QijP2ooL9V+gto8PkYnIRG9+4CI-qgHNkOQuYsw-oYB3RB-RIemwyRsY7PNrYYhPzf9rZDUB1E5IzhmMKUDaMWGaqRA9cwsXaGp+G0aI9IUwI5tJdBAPyiYbDHoqCpuBAkQQWamOkbN2rCXbPxl1i8lSiTfkC+xgXHR56KsAflguPlNT6WuzYTRayBGFkqpPRuXX0YqZvQRjtmdZNvosV7NVRqgO0QAB0sAc64uFoRwP4AjUSjcHZpSap3JKU+e4CHQdQLQsBgmx7FqoG2N7jdjF3A40cYWlfBr2ZxxgEo3cKEB6c-hKjsCZeAAAvNWqAAONBBnlpx84zUao7QmbjLKO4yBAP2PGtI0PEYG2ScMuGIQ2x44-nkROAmTKczIhc0WcDNFSAzRf5v2D2bcg8ALx3rcSd+NkmlGSVSkz6DyOxxaT9JoZRifLBAA')">function type(exp) {
    return is_pair(exp)
        ? head(exp)
        : error(exp, "Unknown expression type");
}
function contents(exp) {
    return is_pair(exp)
        ? tail(exp)
        : error(exp, "Unknown expression contents");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p50' class='permalink'></a><p>
      The following
      
	<span style="color:green">procedures,</span>
	<span style="color:blue">functions,</span>
      
      used by
      
	<span style="color:green"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      (in section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>), specify
      that rules and assertions are added to the data base by expressions of
      the form
      
	<span style="color:green">
	<kbd>(assert! ^rule-or-assertion^)</kbd>:</span>
	<span style="color:blue">
	  <kbd>assert(</kbd>
	  $\textit{rule-or-assertion}$
	  <kbd>)</kbd>:
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (assertion-to-be-added? exp)
  (eq? (type exp) 'assert!))

(define (add-assertion-body exp)
  (car (contents exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+zjryCpoSyTmTlchKC4KqMvGyBAA-Gx2db40ABcoCKMwEKTqyACqxAGsQ1AAO52AVGnz4vieM4+Ch6CZy-MavUh14XydPobe5g969kPqUE+Z9qDAM0NfW+98n6nzEq-L+Ktsa4DAEhBg+BmBsCgHARAyB0B8B4P7Ba8h5g0Q2huPQ9piCzElsjKQkxFCNXoQYMBu9dJyA4TMGhiw+w8PMCfIk0ouGgOGnvIO1ADSEE0OhBs1FhFCgwmKCUUpSTqiKIw5hoizDiKkBRE8UjDGgD3tQ3qpjGJcP0dIn8xjJAjlTOYmRp8aEuNdKWa09jT5MMccfYE71OG6K8BYqxXjQmNj2EBXQBjhrOI8sPCSIiPF40+EhVQKSDIcmMn2J4FjhppBSWnQpATElOOBFTY26SfxROmszOptT4ZK3ZhUhJQToHAmTqHdxDTPG9T6WmBxFjnFpSii7As4TuEeOsTMSZbM3GzLGUk4E9dS6UVnAMxoe9Nk+QWYQDaSFUl2NmfoBxRSSmlB2rZIR05VCDzObQEyUiHHdLSDAxg59RnARvnfR+dghR6CUA6UAABaCFQzaEKCwTpA5qhhAvEHmbDMlB8CgFUGvCILB6p-UkNk4Q-Z-44VYgckEuL8VZOqkikgKLGBRFluYQYp9pAXXEJi7FUgyStEJbS4lK8zDnXIJsOgVtRWohhcchQdKBap2oN5OVlzik3NKI6b+9IEngloDFVVaqfynLyUZRQJliXXINZawIqKLVWqtac7VzAax3EFdyNIMkQgRQeaoF0ErPl7PDqoz4GDrS+ukHMm5J9WjtE6C0AYLK2UcozOYWBEJkX-KQUCggjN9aL0hdCg5WkWW8R0nciUDzf5OjoA40l5ki5PMZaAVEAA+aVG1B5XNQZoW2lDdQLMkDEv5XT-4eqkOEQg7xDlCLobQOqU0VqWDWjOpsejKn9mKY02FOjiBzuWgO15zSZkrq8Gs9ZRyZ07u6h9Fx4bFA-UoH9TpgTtw6X7a0k21a13-wxVikImVND60NkTG2JLk0LmpNGjoCQ40bFZfIdl8hOW-rYSaRWzsYq+yFaUGS57ZVCydlMjDEsnhdPjQm+DSbREioIOCAjjwg1NtAKq3DSx8NocI6mX2JHn2iJ-dykGi4g1Ito+x+jDzQOqpkmxyKYnxxkbSHBhDpLsOXjfc0+Gqh9UXgI8sn+IHuPMPk0EYYgRhhVXtmWyQJBqxdFUNotFHpWIWVUJIJtraWQACprM+Ogx54MoB7P53tnQdaxAxQTqgvIA8MECRvIud+rl0N1M6OPZqZTwrXmiplox997SVZ9iM+Bj2Uh-2AffSBrTliAte0qyfeuuhkShfC4rWxrzhPC3Y7pmuWsVV2tKCFvIzXIvRdQvQTTfXhqZKA9TH105Oti1NiBgcRnFOUcaKO4bb5tn5F2YMgCrWwvqIbH2f1XzquVBWyWxm-aRn+OHcm6jadGN9IVUqqRRnqNB3WuynLTXqARYOyZNObrzDUe8-6aDDApWWfB8mWzX2VDMszm22VacIyarokwnVzqcnB0R7aibhPzCw4tF0T9lWic-i6UFqhXilkLaHYEkdl4ptevHONg1LHZuCZfmk95a6ad9q8a4vxqyv0Pcy6AB5jGuci8Vg8l5O2LkOKM9WZRopvVy-V7E3oLwHkq8c9SB5L7rteIO4z5h-81dHY1+zg72vCmiK5-bhXvPzmpcuWugngRSO8TwLgpgrB2DEK4GQtAYNe38THYwYRDoV4bcyNkXI+Q49MZKXvcF6IpXjsQ8U75vyHSxyyDkPIXaosKBaC8Sw8MH1dCPvCxmU3snGqsKal4aPxeG4pncCaHg+VIWDBTlvxl2+KsFAbu2C0Qi8p3fygWSL4+sL-NXJFD4++z4Hy3bN8rh+moX8z1ij1Qb4BeIdfuupTnlPwIvw-wMnon9AC9c--IHVY6dTFa-B-tp3+Py8CGJv7ZWc2whMQ10wu8JhkoWQ2caIaZFpaBv4DBn8dZoDhFxMv9itl95Jkp9dgIUDOQt88D909BUw0Dk1u4VwiJxNBd+Q4Yg4zRohMdZhscYp7twDXh8JfdJ8L8RNCVDIl4mcyDSoD4eMuCaCyA6DPhnAfJ8F7Jxd1gis7AgEkU+CJ8sBqN3gJw9YDZHVdVEhGMKhpABg54m8+CrIMJP0K0b9qQlCbd2U9dxwe0dIZCSRtczU+Dfh5DkcOxnD5At8fCg03COQPCuYFD2CiIfDqCxANUGtGDmDONrI7Cpd8dQBnATQJwBC2Cchoh3gzCGwzYs9dJdAogciaFSYN1QAlCTCORcjsgLDEdPdUiLpGDTtAgT4sjii3gaj2VDAAAeQo7Izo0olooIKxH5OBVQFkAAFSyD1DyEFFAEHicBVgFEUQbjr2AlAAAGo09CdQxIgogMV04EizZtj-MWQtidiJs9johDjVAhjhjWjT4xiIQpiZj8B5AH4FjGUlif4Vji5ZB1jzjtiKcghriDj8AjjzDDBTjWQLiQTAgwTbj7iACFo5EFElFbChNbCa1k1X0mEZAshLJWDGgdIBtJJjj7Duj0sggNsDCuiyiJsrF8S5FLJ4SghaDqB6Ch4dCcdqc2ST5bCm0MQOxbCGTCc94Owhi2SjEBRQsc56TPdexkTRETNSg+MEkhTs8sRSttC39dDZRmNniujEFMhWgAsOQi1ShVtEMwNShqMfDGNpMfDN4eMbkZIyTlCORXDPSSRetKcmAvSK0fTfCQcFNYM2CEkCTqAiSRDI9hwfNtcsSEjKScSNg8TZgoyYzLdbSzBSS5TRTKSHM3Sl86TRSHi0gmSMyWSOc+sOSuTYj39Uw+SrUBSEjNT95kRjjyzSg94LpFZJTkiaFuyzsPSuIuyXglT6jQzjNLiyguUNSCiNDdYANdSmDGyDSblU1jSM1TSd1zSSR80FifMsppzTNE0bTVV7S+DHSeDnTfdizWIPT-DRTgy-TKd-CgyIjTzi1TMIzmTCSXTDM-ccFqo8ECFg9OBSFeAMA4zsxnRKA8VfoaV59iV3YI5EosDGR00WR4LELa8P57ZcLqVJAEKS5plttlU0KOz5TBVtxqMiKkK594woc+FGQeEAIWQlR-NzAlQ1U3zAgOKuxuKzAuw+LvczAOKgFhKKiwRGAxL2LID8xpL8x5LblIDPZKh-MNLpBhp+LzAOK6o6AS4lBBR-NDLjL5ifw9KJLIDU1hLU0blrLWKe99R3gXFnA6BgxXK3h3KGBGgnKOLNjpLzBVBC9QBBRDAW1QBwVtjLKArICIVgqzBQqXgIq3NorIVwqzB4qfQ-MXg0gUrwrIrW1wUPMsrQAcqe9gAkqsUwq0qorwUwA4rxLnKJiABSGqwq+qkq0ANq8qyqiYrPYKrq4qjKgoiKlqjigAQnRGGrqtGvBRmqlQmoUp9B6M6vmvSvBT6LMBWrUrWtRCSpGq2tAB6KlSKsmsgObQ2tSoWtAFbV2oGpZGbUOvysCGOoavuvOr2tKUgKmpqoysCCirMCmvMDjx4W5HoqpUYtOVFKbVEWcyVBeAYtryYti0hslxRoJVOWoGcAACty8ocEb61hB0rJLob8KHJJ5wiSABwWqggsbkLmLuQ1DMaKaCURU8hTZGMAIOLINY1-N+boMnL-T9LIDIBiAoM5BTL8qJapb9YRbRbWqWRvLJBYBIBhLVb1bFbRaOLVaABRaSg2nW-0jigAOSUDNpqotrNuHImwxqfAqPZuDUyy5tcPhsaGc0xSiu8M90ZqIPSh-gdrCCdoQuIs5trArQ9tKC9vSoCmvz9udoDufFNhZoRX+INn9qJXpS+KiHzCsKBApUiCsx3UUGkEFH2MkDxqUHmBCwiAAxrLVX9tIpyEDAovNQp0Hnzr6CCCu2Cy2CUR5JigLufgdAxyHtTEq3qx3VUCzrbgLNnL639ojrQ3HKnuLga1nqTpxvxsJpeGlLMGXtdsjocJNsCCXJ1IbP1MQN4hyFFSXLztxt6gnr0BywHqvpxxZv91AsD0IQ4BIW4EwFgrgL0GUAoEkFhjCCon1EYFDlAkoHAhyBHuBEcBcDcACngcQZDJaIlOpu9koKPAQYgmwYuJZEkCBIFHCH2NuIwcIawYHFERPlobAmIb9h0mqH1AJjyQrxtH2KLORyUFIFICcCtg2nuBRSEdGoYG2KeSEfbJZHOL3gUdABPjOIuMEdIDPuGgUdpjDEcMZhIAMgul4btFzs-WeUMaPAul+AAEg2CwTSGJiLiOGRILpuHbNnMLHiAjH5AGUmUSVTj9AWQkC7BLHhZPgpgWAG0fh0Dsw6TB4cHgIDCWRGGHZkoEnQA4QLF+M6TewEnigfBqK8nGUSUlrgId4uRRE94CJ2IMmCiWQKnyiv4wHFZIGCRJAYHQ4Em89kMXF-jG4KKMmsm1UJFWM243dZx8nyylGnHtiwmmjImans5UVomBw4S1VziKHMTbJtE5V4xFdVnoTF7GhNmLj5mInFAomAoVmpnoT9UuQUmSko1vGrGlgWQlK-GXhzmvhLn11gk15ZLVmqnQBzmJipKXgAIOwEmJz8J8mvmXnwmfnGAWAWjnEwSgWA0WQAByChweUhnF1JxEiE1ZkJkFhFpo2GRgHySltKwQ+KS2a2EkNBiEDsGlrRtVDivIFoM4uBM4++IMYsU0RQAV3Aq2fAv5nsslnxpZ7oNlmFoiOVqV15pFlF1J0F1lxYKlxU-CRV75tllE3Uau2u0geu+XccSlYOcSTeEBWJjZfppuWcKBCs5WzZAZuCF4B1NBNJZeemmO+tI1k0E1ygADINC1+GU0PxytTQBh-5hwaop1kY5WipkMBIzROyaUZeVFrtA1-kGlusUFB0MNq1v+ZNPjQue1iizN5Te0+etsqVURbZrRaoz19Sb1kBb8qGy1oV+kVFRjZzPNkFc4Qt50Lt8xxlKNnid1S8WGutjEHC2Sx5yVpQjsEd8Ni6Ht8dz3AKVd8Sa4VFGNnpGdjCeRpS4Fnd7tlxcd1Jo9hseRgNuu4Ns1mAxd51pQm97IX1tIZze9oNkNhXc9sdpla16NiVs7N92tjCZG5gNdvdzdlbc8pDHJ+N9t5TGSDi5NgUVNnZ5DkD+DijC8qd1iScS7Q4PAaMjhdp84Yh5GidBYvcq4cgbBX+xaN4IuKYUAMGLFC6BaMGcPcPUBOeP0YOVQI0cfTYDQRgFofhslC2SUL2WbCTqT6ZsltoKDLoHpwmRqUTqm7ODsavOBJT0DjxPTqLAzsUp5o8ugYT7TsItQfTyT0mSI3GQ0CJrB1QFeT7PHGYKjnIHmyAjzHz+QPzac0tLIdEkT+QA2HgF4UTyQF6ak6jcVZwQLxjIT0gCLqL+VtQBHbz+h78swPjJLlLgooWroLDQjiDUutTmDRoa06kwIajezloVL00azyLuLrL+4QgZLvLwrNUrlJr9s0rlocrn8GSYbvrhTBDnMsby8XsJr-L4zFU8MwIKGegYVjLyQaL0AWL-gSkxYUbxL7r4ryztrzL2z3Hb7bEVhxbwr47rBobqr2NUbhEqwbEIiHL67nIT9kpJQgCWL7bpQ3b-bkMn7y1XsT7wL5bFU6by8yXQbqVNLzbvbi7or3r1VPjBHjEYbrDGxxoPs97zCe76jrAPHynJQoH9rlH8TMHvrLiYnpBniMnswOrmb-Ht7+b0zyTkHxb382rlb8wHScy2CUgTolF6k8yE9sLxRF9m5WRaXzQWrPUeRyIC6RgIMEEveVX4VkE-PcYlgRBQFFBcj0bQ8wLy0lntg4X8gUXuiyXE37bL7xDKVKbQL9zgYajBjxjB3yjtz95hXrSei2jqVH3qiN3lkbX9XrSYwlz1OSIOqaIO4uh6jpImA5BpQzBlP8TUl5wePyuzPnIVQXPy9aIZBjsYvhPn4HPvPhg71Cv-Y5B3sev0v6vkvoeYu50gv3xgM3021pHrvj19w0l6Imegf1PxYQfoI21yo2P5vmIMfmnnv3wnNnWUCYD5BlGFfS+cphvAOJ8LmhB2Vbfnw+F3c+kUCSQVjndHIRgFedh6Mw5G1mbstqQNfqttn0HSXOf57Gv9vsLO8p0JP19KTcaSl4b-iVye7QYKce8EgGfzHCMBL+XLG-sByAG+EKcJ8DQJoB8hz8hMc-SdlaQQ4v8QQgLd-pJkvBKFMBPkDsJmxeCUD5SmbRbqzzIFEcnQIA1Upb1CJ0Dl4K-YFOEFyAsA+mi8WfG0EPCChbMdAbbiIJMrXA6A8XOlrJ1LKHRgWUgsQfSFkHudUmy7aWIdFp7JUpGfA4kIIJiIqDxBBggQVxB0EH1KcJgtQS9C3yRApgJeAlDYPuCSD4M0g2wRvwZaYQlBAaGwaEH4AaDgkWg7OBIPZZYpRqDgsurkGcHuDVBqgfweoPCHDR3O6VUMPwMJ6uDoe5mBaOkMMH4BDwUIEmjnWk6VwChsEb+JFEsDEgbQGQr2iULYaMxyh5ASoXkKiZtCvBcna2B0OBYGFUmUQxgE4M+AuDVUIpMwWfVSFRVmhrQswbUMMHlRqhKLWeK+jHoxEMUAdW4CQWT7fdQAwkICBEX-iPZf+P-NviRX-6mEx+ERIzDJHAHY9IB6nANCP26Bj89hqArNqCBaF3oOmIvTojgLr6-9Pcrwpfk5xkqfDbA3wm3p0Q+EvAgRBw+QUCAdL1N8Aq4LoOcWBYshkRqoVEak005qBoRuw2CIYGBYOkzA-Q1-keFnqEjjmZgKxKsNnzrDzomw60PiNhHuEyRxAjeB8NhDwgAWG8PYYkw+HfQIRoveUlyN0HDRew-I8UT+EFFfDXKIoldoSOlGU4OwUoqwfancJZsMRKI7ljwIFD7E76aENoaFXT6Aswqkw1tAYRBGi8osBoFxGFj9DCtGIjo9XuMBeB5t8RebOERsGozyifKYaSVKCKFF+jVAHo2CCiiFaujaA+9JWgai9FD82CfokGOKnDTyNMROQblr0JqzBIuShow7LMKTEBiQRhAJovH0dCUiwCoRaGFQ0T6Ki+4fdBaAxyqH8CMu23UTnIJ9GS4WKDHVsTF0i5P57Gj3VTrGiqwGEVGAoPUWWMLaxdxQFYjzpLlE6MY6x05DbGv1E6GAlGFTccaJ23B31QAkxAABL61JAAAQXADgB9aAAJUmKQAAA8mbWQBSoDCRhJwlYFF7eI1esWCsd9DeG2sSxnwKcd+LvSJMmxU4vdpGK-GyjbAWbJsSoE+gQTxgdAUlrBMqAfinRbWZBoeOPFniLx14u8Q+OQlvcwJPbBCW1ignEBkGTY40VOMkAzj9o5Ez3L6FInEAIUbQ3fgtCgwkTPxiEoCbYF-HwjeBiwwlIUOcxaY9hTgNzCCRtEpxBsLok8OJIN5Bi70bw3Qe8UhFoSoxY2ciW8JCh7iY8kEDQCQHY5SoAADC+MZgJAH4u0MVoIK2TtNKA3QePDZMMnEE5KUqfSS7SMmKALiPAa4ZeA8n7ovJjAUllNksnwCiGhfMfgFNdYOswsDk00RvAab+YlC0UitvZMrwXcu+2Q4BpYG0ThSsGUgSID6jFbzjHaqUhuLFJIrNcnxHxayZBBimO8HJ7vNMjmksCfAH4KgUOCW1ESriKRf8VVHvFCm1Su+KAiwDZIanpTuyziJQgmwDRKE+B7UzqTK3X7JDzAC0yQB1OkChxIE7bKadmwF4ycgQ60zaaHA8kgi2gQgqTmKHyDb9Lh7hf+DpGOlLTfC1JIgW-wkw3J1S10RqGPxDL1cVMGsGPPIBAFnl8O-0tII9hOGV8zhvBeNm8JBkAzqQzgIcTGigHikCAiOeQNKRPhPStpRfX-rgPwHDRhgNjJgQ+Vk4zSiRVqCBG1I2lLTqBJKPwK8FpknT6BRnSNBjIQxsCDplcXGV1JAR6inhJFCUNoFdDEMk+LDHYTQn4mdjHa4AlIgTI74XDth3fK4RsD4zf8ymOPCXpeBICHFhRvwgmf8Lb6e51RQQaWcCJ7qwZCBiWckRCCHLBFCceADzC7Koxf9jhUqHAUrOqIWy1Z62MAccK1n3CWgA0slvrJDED8zZZgP4ezjwFFIbGCc3MmyI5lPCJZEU7vr7ITGgylMfGC6Q1ikCzgLZd0oIh4Wdmuz-ZrEbUViN1HWywZM3HDHSOeEqyUyls8MjkN1B6yISBs2eoDxR7ejQiiIudumOxGYth5mY4JLiJ7nI0XoxIvguyLX6aBDo1IqrELPWGiyzQ4sxedPLeHzyKRmgeLsC1XkizOSG8wvvvORrbcDhoAMuR5nZEU8l5cIYEBTxnkBpO5BsEMb2EXmrSggn8l6MqKCBvzu5K7SwbGMaArs-5Ucw1JqNSZVyMxwTBsbuHChitIQXWToZHEwo1wusqUMVgRQWiPgDwJYxiGdNtYBQzpBBGyeUmIUCSUG8nXsPNxKnszwELraQB1MFDR5FglTYJAFHoWM8QRFKESB5OKk7CwxYI4gO6M1YGx+5n-R2geGTx1TnemwPKV30Kn5AzpH2SXIAoDGMZ9UgCkMSIp-FRz8FNEPnCXjCxnT-5pQeMUET8msRNF04CVGmJ1Gy9eEfQiedOgUAQMJFQiyQmPnUCmL5FyQ3MVYCNGzC7FKY+sYcD3FYTJAl4q+AABl9aj487IYWAZqT3xHkkyNpOBF-jSxpdB0LxIonAtQJeS64BkoKUwS3ucE+RSZC3woTFkYrGpba2iWxKEl4AQiYrGInVLyltrNoUYJnpaYqJswmiXRPKUWK0gUBMVqxLMFchdBgyxYRMQw4TKcgUyxYVyD4UZ0ulWSqRYdMEkZDmhokg1B5PSogl+F8i7xcjQqHKTgRqkt8f6IaUFKdJeos0HEEgg0tQxEi4gaItQHNjiQyDXpfsvrSiJERraVVL0unr0gRh9qePhpK-H6KrlERaURaIWIbKylcKvicCJFrPlxhgs9xZ8DeU0tvlHQw4ZLkuik0pUPY3NEsEVYsgWMnixQKZRXGXhSVJAFGdV2BbPKyKdKqlu8vpWErxhqTZlUrmIJ6ZFWWKxYSCJCBTi3OXI21tWLDDLSuRBTYEGv2XEgiwgcCY0MxJhmAS5JboBLL0ylXizdVMYQ7guMi6MZhl7XWccaookgDqMwjH5IkBhVUQ2h0dPrHMpbE2cmJ3E2gCsv4EW8GaE6DLoKx9UsS2JYPJQjapeBIqHVuUxWDap+VLC8OSmZNGZjnjqrLA8i7VXku8WlSQ65ExjEYsIWzg1F6s22WcLaAOhpVly6CaasdqLipUlqg2LOIYl2rJcsap1QFNdWohpSHqmoV6o8l+riQAawIJoCDUDrJl4a1VClLFbRrRqHa2sF2vGHTkyZxaduVWBaD0gApcCZ1ZM2YmdDBFNqqmZKyRBbrkFR61Jqet3X5Aj1pLK9TaqeT7r-4GazVaGuzWVrH1oa6ctRmyBcT0J9ARjNEpwlXibx94tpRsCA3niQN+EpJZGuYlzr0qv669Ujh2XAR5E8C0QsOE3VnKqFGwF9VmuLqATS1DXe3tIDPU5AWKzS+JYkqMxUbWljGGdTsKRVIaMljKyuehsnElYtCRBPGrSknClDaS8nfjX4R4KPheNIgYDgJqELdBhNpLBWDxvxBRspNGsDglWnsFcaVyUECQOJvjCSbOhdJWTXLHtjSZDKOmu4MJpIXsRDNmGuwPJtM2Ka9NtrHad2i3wJAogGUekG8os3ULqBamvUWJuoBFSxNimvleKtlUabAMwW+fFFooDmdE2Yq-gakwC1FT5NMWxbGltJj-zaVby6TGlvcDEAzNmW0nkrQS2-KQoY6nvFyzOLZaJF-mZLbauAambAt+QezSIE-Slbxe1Cv9Nxta26betqdLMZUH6GuShhkWUQbZi0w1b6V7WEWP1oSHabFNnuDrSqmZ4hVRqTWlLXNi010BCt82nbYtvjmE5ltsYCrRMV5asgptVLMytpua1p0LJ8gdzbKhtRL9E1fyswcJNggHK1UwK4rY0G0qbxcVXKnyG5o81A7omRW0BQiQNHBL8x8yr8qAlW2Jsgl5AEJXDrZGJyT4BhQ7UEGW24hTtbIagCKxpWA6aW-mEHQoDu32xHQUWCdEvCf4RlcVo0h+kHFSIzAX6N9ddWIB-amshMz25beeHdLvaAVrJEpD9pKTU7hGsqVXinUP5LAD6ULTdqgLGVYpZgHrYquqK3Kq7l5ROFkACmQSKFYISROSlCg2KbFSeicwICyG52Psg0ay5TsjtR0tiIiPTLHcUlx08h8d1uv9uOGq0k7atLwL3U+wO5GFfRYKbbRZUYwABOAYELwkAWVE19wO-ozHMqiDE1JFKYJCBeAUTXp5a0smlhm51c+MdgAoiZJe7mAU9JlVQFiyxasg0AdekdeRhTWqoK9VA6WPWJuQt609-CCEL0vKie47A0KM-Mtz57l649qe3pd3vEazFC2LevhSwpMrsKlgyYDVaFv4HIMOteOoNb6Hn1sKvgQM33QsAyhA7-MKgVhYvsp0LQAOYOyIBVr1yKBMgZoBWsSsdqXRGMA7QUAWyLamhKR4TbFN41o6nE+gayozHxj+iMAH90tUAGUxZBmgsiQYUbi3omJQpoUAHUADS3ED-7RU+aRKv0GXmIG9WXiy6FuFACs92BiHBNSjtTjGhN1tmIg6NyvXbqEBD6+9VqvKR0GQBoB+-ZyUgPQHYDc0cGbsLH2V6WQyBk3TaoWI0HmuohqFOWBIPTcyDq6tIIgZEPSG0DEisVBKgYDSGZDi3TvcaNBXvavtBqMXRNgIPTazZ0ug-htEuhK6Vdau9KswmSGXbqWIYaHSjth0tirR0PX8pzsFg8E8gdAB+G4Bv0To81oqV-VKnf2f6AOP+4xiEdFSAHgDsskOj4RYrOHQxrh6IHmIT1eGbFCg+TqkcSYE7ZikI-YgSPOApMbGzzHxtfv356BZdGR6ioUejVa7P8UVRw3qIoPUAqDLiSQ+vyc0Lw6d0beRnJIw2CdsNCa8pN1NCIdhQCE7crdB3Ehg6sWck1QKAoAA6WAQ9RvVnyUH8AcCKJljvCq3USUlqGvcBDAMP78CAwK-W8pWMQS1jsYzY9sculfBuj+x5FpSI3iEA9cnuMTkoR+OgAAAXv2HyqbGgg4Kt44SgON3FUqLwEE6cbtTnGQIXBi6FpDJ4jB-D9AIIxCBWM7H6QexmE3VQhaQElAZxZwGcVIBnFuW-YLFtyDwC3GvFeJ144Sc+PEmXW5Jyk9SbWXInywQAA')">function assertion_to_be_added(exp) {
    return type(exp) === "assert";
}
function add_assertion_body(exp) {
    return head(contents(exp));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p51' class='permalink'></a><p>
      Here are the syntax definitions for the <kbd>and</kbd>,
      <kbd>or</kbd>, <kbd>not</kbd>, and
      
	<span style="color:green">
	  <kbd>lisp-value</kbd> special forms
	</span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	  query expressions
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>):
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (empty-conjunction? exps) (null? exps))
(define (first-conjunct exps) (car exps))
(define (rest-conjuncts exps) (cdr exps))

(define (empty-disjunction? exps) (null? exps))
(define (first-disjunct exps) (car exps))
(define (rest-disjuncts exps) (cdr exps))

(define (negated-query exps) (car exps))

(define (predicate exps) (car exps))
(define (args exps) (cdr exps))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6ShyQHrhwo4lpL7dW2lMEK8RrxK3XaG7qUiN1zUE3OScqRLpAkrsCNBYChZi6EsJaXrPdUhrfW3tTbRlFBcbMsKMa7i0m+cwhmli6kjL91QVnoUIpdB59ean5HsVhisXYsKlsDuyeC4p0CfAF6vBN9L8rmqwrlWmUrxZNvxchste72Vgfzk5Kt5hQV02w3p9tdByIaXmltIeXH5Y4cK-dBjY55Ozb2TumeC0JsRfg2z3bjP1EHNMJ4oD+01FHJAdr+O5rZ3xQSyzOe0Gkl2+wANQyf10g-0rT83E04QDnx0nQtFKAeGxRcl8QTCpkgMwmg1rx6iey+WtXQILzsCHWwOEQQOoE1Fkn-BHyaV5UXT835FVTwJyGWW2ikVNQhxwh8W3wSEtipVfDrzsHTxH0EzmTGm9l2wwLsAYM3C9TEO6SHgEKYEFEOWaAshHxAloIGygOXSYNEFnxH0GjUMFA0KuzoMwNXV0LgKjVUk-hQO4KdlAzkLomrzuB6UuE-0L00EeEehEI4V2y9xCC8J8MiGAn0mCGkMUCEOtVkMWXUSGQaFcJckBnSHD2xR8NkKMAAB5Ai0iHpf84jk5vhA9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgJPHcUAAAaj92gTzUeHAnk0cKMA6JzW3HaM6Mcm6N6PyMcW4QLGKiD0UDKIqPwFEGPBqLqOPgaO5xaOGI6MiX8HGPwD6NEIGJ3HKhGN2JgVugTQmJCNc0UNKAqCqBUM5XPy9T2QCAJn0GcDKFmgIO2E9THl8NUNiMcQNm2CVRxwyN2O+E+PuNmnOJeTIEQITTsPcl0gBl2PSC9TEmNQ+36PhOCCHRuPhMxIBLw36NlVXRuKcRSA-G2GFnGGxO911TJCvk4K31RIXnIWiWKMBOkHKn3CaFYlADdWpOSCjjIWSikV0MtlwOENdn7Cmi0TWF0KeKMJyDhnhP8BVPEJbHUNFMjnzkILBC+OoB+JznWWEVGS9UmVeNAEiDeK1NIJhO+OGncK5MdMnSVN5KcIkKDiowhLxOsmhPEBNLhOCTIKQKnC4I5KBHROskxNA0ZO12U0hMcmCE1GHEJPUWBOmOSBJNJTJKOIpPXSpNznMBojdkYgZICPYNZJRM6U3m5JKltIqkFNhGFMFBvDvHbXdW2HFNBKKClJHxlJAXZDlPNIVIbi9JVNkN1OMOeUcm1PkLnPVP1LzgNLMMj2dNNNdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIhbxQi13myFzPQAh3BghvMTyAKjXfIIkcFglLGSV5wfNh3ex104U8kFSkR-NvObyLgsWdUlAzT7RzX8D7SUg1IHCYW3BHRQvMBHXQoXIzWkNwtAGkIIsQqwpLhIpLnIswtv0pRfhzQYr4SlAwpSAzThDoFLEkFqBzU4u4uqIhDYuSAzVmMYFwrEv7GEoCAzWZEeiLAaDoH7jkoegUoYG2Gkv8AzTaJIv8EUBD1AFqENSWivA6MEs0vMAzWvF0vMH0t0CMtbivDvHMsIqwr7l0BSDssMuMtACvDbkMvMAsr33mOABssggMoctEhMtADABcootvwAFIwqvLIroqEqArQAgqM0vddKUqfLPdjUjLXLb8ABCI1XKiK-K0AMq8SIq+KoEbcTI5Kyqxy0AbI8wOquihqzI0SGyvK1qnqjqrKrChaZq+yqqpaIa4qhqhaXqjygIfqqK3y0AWaqa+q+YkqsK5agIJa8wEq-we3SUM+KC68385yWQsSCMATPtXQaCxPWC2eY67eUi06mC5yagBoAAK2jw0SuqbkEFbiItes-LEzAtKiIQXOSDuoQgeuOC2iwBOvwhgsvXWPEmdQzUZUyhzUxp7iCqiREqwsgGIF5lcF4o8qJpJvqjxvxq0qwpUscFgEgFwvpsZupppuCu3HpoAFESLua2aaaM0AA5SQQWsK4WwW3MxyJ6+gESaGtkFGjtUQy67YATCCJaodfAIZOWmre0Y+aW-ibWhWww5WooVW1uaA1vLW4GmGhW+GttVqHCbWjPV8ycEuXfbCP8jMVKRgP8ZEz6yQKQWBPCRmXJAybW-88PQEIChSVBV2vqF8ZIC0z0yKaoaMzpRQXfGw9SNOhMN+D+WETPa2u8ouVU3QTUw27eK9VU-mgIfOr+J2keHoL6n6su-GiumWqu8Qmu-wWsxmNk1yewxIQVcPESU1R4UoBI8LdkzpPeFO+shMM+XAMAD5JgY835U87gTAa3J-dwCgRwc0IcG5ZkRgX0D9SgL9cPXfBihFTcC2s+i+vQ1CCMAksG6De+79IhEY7cRwbY3NS47FCYu+5Yc+j+p+64ZMhXfIz9UB9fOwGIZkImLjGPO+LFCid20gUgeFISFaUmQCDBnyhgDouaDBpM7cYY4IMhgsIYkYyQfByG5SMh3QbohQnqEgEyTUFBhNMiCibhxwNh5YTUECAASCNO6K-vmJGPgdJE1CQbsQE1V34ZFFEG4Zli-oMG3FgdAEUYoLcBYFWkeCvvh04UnH9AoapW3AjEJCYRMc1Q1XzBFhx2gxMaMFRQgdx2cequNW3ECCfGfsgiHRsYCO8Ysfd1AB3toeHAPrbGPt9BMf0nSBFl-B52Ihsa1WTitUGGl2Y3nWccBgoYkY6O0flWFD0YCbsn0c-p2KUmGN-utJ9WtSyeTXIw8aqf7BqZGKKbNRKZgzBqAgqcqeTifBCf9y0eIHYaUG3Cou4d0E6d0bAamELAiLie2GCCKfmOIt0GdTKYMeLOMfIlQhmbGYEeKcYBYH9A1H-pxWWa+B3AAHJf75pBj7nLG-7UGJiTHNHOnzRGAlRvmHLJDCwcccgb6enlM-nu6lIM1tFZghig8hijxyAhi-hhREXyo7pw8nx5nURRnxnQWv5wXdnFACWcXjmunTnzmSWlG8WiX2gfmhloNiWvnaWjLj8o1-bA7SBg6ukohcIQw+lhpKRDGucmjxduwRpTGOaknRXiAc1GnC0BXVAIXG5Zp2W7hOXKBGZbkqQ+X7gVGFWiEXmMmlBxW-GM0fGmGhN6nBhxWKWRpWX4k-mxkLxyReXLR7h9XF5GJS0xdecbWBypTG6sTxIIw6m+hfU5WWM1gbXc4TqdXNQ2IgJLYBNHXzx7QXXtW3Wxo+no30IG5zrEygniK-GIih0M2+lJUgIhkLay37gK27IDXwH825lSGqLi3mBM262KIXmm2OFSHVWg6NXuX2hhnsWIie3mh6GUgBN+31XNXUMa2s3ymbWKWx3A3QNbr23y2E363dZSEGI6ZMh8DBXGzmd9ssLzXc1LWw2j3FXRT+z3T5ZKQBFNM9p6pGoPWAXoIVVNwTWVm3Hf2FmxKFX+TKoTxI9sn+kTUGpVsB8wCLtxWPD3MIiAPsWsDBWXmgORoQPDwwONomm9o4OKYU821a3GA2xyBqBZI2Qg15gv4EOAW33jXBXSHkWyONGvso0aOixSO2x596OjSh1CPRQc23kwBTTIVyOH7br7osJ2yJVyAl7V62BSAHpiw3BQARtIJNQo0RtLdLdfBFC-gQxFBWRag48Fgg9wkhWcd49LPQjQmcbZh4mxAdQPBTPQblMh1bPGArOsWaw3HvOrPk50gjPSATPRAzOTVV1AuZZ7W08WR5UH6M7JFnqHFqNv1LYM0257Rv0+5RS2UyhKhZpTPHAeBdASu2sBzzApE6BCAGgcvw9LZQvwucIyuov100uGvH6yz93SY6uuukzHOT2UhuZYQ0omUsoIx73JTnrAumv7hjOKvCXav6uH7iF+xhY5uAihuquIRRv5heYe4evI4933TY4G5oNAu1yaSpvDT3iS16AUWWvSvyuIvHAgVgT2hhuwnnqVuBvxJmuSu2voNOu1vrveu-uH7BuxvDvZhvuAgMzqMOuQxwguvJ3pQIjnUgfbrv3nuPu7TukDnNSAgQeUeWguuEM+zTuZuZaIoVAfP5u6BFu3v8e8N+uwfjuwJGItvjUdv3ShHthEe2fVvv0JQBe27ceIiluCeoglWDJheKfiFxfyzqfrIhfouLOfPPu9DOfyzbuNyPSo1+L5AVPIjvuMkW3CuqgR2GEQgrfVA350g2AgmMpNQ2OglghXeUWgkA8SoWBsOqo7BxPWEuyovv1ez1ytDMJjfyAVPILnrg-tl0vGvxJNsuuM7XwpF5PLZE-JPv15j7iiv3UoKZPxJc+bl0-twve2PF6epNsGgMo4RsUoGQHw9tfd8Ij362+ZevvNGG-DpkCu+lB++m+DHEO3GR+E0B9J-B-z8Z+x+GPV15-p-G-kSMoxzrUh-dBLDx-mut+lD1TNGs6v59+-8d+AWIj6-V-m-T-Cft-1C4v68P0P2jSnyf8sOdwfGrCtMO6tBz7mwP+uhQ5m2TYgfpHAqnWEOHkYCbweoKgVQA2GY5ndeuMwZ-n6yQHGJnq8-WRNfynDr9dCwHA-jrz9JVosB23GHhN1QSrNiAIA1oIwHAHQsoBBAywqgnSBwClQ8-SZMv3B79kl4yqVVGgOIH0FcebA6lja10AiC0Ot7bgarzlgNw7W+vSPqTjgamkEBirR-meFugkoWAwrWwvMCWC1A7EdANrnoJ4qSo6AlXT9kY1JjlY-GJggwWxHMEZ0XmJbZdEYKVbJclqmKLQToPUh2DDBmg7IEjzAzlZ0e7NbYH4IcFtYX8l+H2iShhoRDrBugCITUAsGv8rBbg2wXlFMGRCnB4DFwSmRCFvwPBS0DKG4HDwB0f0WQ+wcwiqFmCgUGdUIUpGKGvNvBeGcrLcU9QBDtB+AJYBrH+qkRc0u+HofIDUh2hLA2QFBt4NVoDDYuHHeJMMPICjCvBEw5YWc3H7MVvM4ws5n4ypSGsYh5Q+IbUK-jJQPsXQmus0IWFLCuhkwwIWpi2H65FCx-P8n0D4h9RwCwDKTqABJCghz+kwKRKQOkQ4DPaG-QYPv0sIrIG4pA3nuQMyh+Nj+LfT4d8Pv7GFnBIwjGI4Dkqm8OBOSZfkkPkDIjD+Sdb8miNjCYi8i-IUEEiMIFDDhyQTfAAOh7jDE-G24ekaGkZEYdXOnCCkXiPVR+NpS5gQ1k4Gf4UijAcIzxLYXAg1Y3hbwbkV8PxHUjBRfAzcCKNsaLNce3wiVhSO6wYiTeeRaDCKMaHShoMGow0VKC1HoiyR1LA0cTwMhDoTRNopyHqReYsiGRMLdQbmgTQj0ZIqw-Sh31x4GVmhVKb-gR11Q+giwGYVjikx47HBdAjrWUY61+EYDaeZI5rLV2EiWxzRpI3UTS2FCO15RkYmMaMTCFSgExD-I0imMSikNWR4eGFjsJfgvNIyXothNcIrGzghIQ9IkfEkIAUFG+FITPPICFbdErRA44MSIHk5jCtBLXNrqZ1SFJj+IFieTlONe61A18ojaHgdwm5AxhSL8AsHQHdG9iXWJXXoP2PVTNJnqpnS2KWwHEQiBcz-UzkYAoY+MCwpnYelYFAClEAAElzUcAABBcAOAC5oAAlUopAAADygtZAOJD4LW4lisfVSgWKASZiyo1I8ft2LZAHiTx3WCVuOIPEVtoxiEkkamhebjiZALQBCfQE0YkS+E3HN3rPGS4AtPx34v8QBOAlgSIJlEqwJ7XmDkg8JtEuGphIxi75xxPog8Y4CPElYkJQyRtHxNoDXhVhxHKXI3xokot+JSEgkXoXH6rD2QvQgTI-G+HwpFoQSFTgsHkTaJlJZHWkPpP96kVCJ6kiFrBJU7mS6Jak6kQRhHoCQhI8tCeDEMtgAAGfgj1HiDHgisnk4VmWCT6UAv4iqUKSoBIDqdxI6LLyXFOFAjEeAN4vzIlNijJTGAmjTbEFNoGt8lA+-TKVKwilw9x+ERYJjj1VQlSfWbYSKYSyH4PCeolgGuAVIfpOAMowUTyZvCkS1SRWZU3gssRCnh4wpyTG5JFIz6TAeomgtkMeBkC+h+OYJKjKgOY7JQmQCXfoMNKH4ED+p4U+qXD2ShQhkO6HW3hEVmmOB5p0gX0MQWPamiSelgOaQtNxzLsjpeHARJuRNSPTLpz0xKaOLsDzBGosIJwGK0pCxFoG3fRMYb3iQXSrpi077rwNQGBwNuVZTkQiNF5iBkZBkIHLbl14Cw8o0cVBP8OwED9cBGYfAco2pF4zPpDQdceN1hHBJgg9I-KOcXSCwznp2Iufut2lAfghG03ScgLmQ6iigyX00QE9OumiDuIrjdmRLKwJ+d+w6QZmZqB660lFBp7TAt9Lhn6t3RTwyUeoBpD59b+fJFCWeNp4AiOBeA4QmCLLEBBhYWAmqqMw3GZRzeDcEgL0R1FwTFAnMoKLiKLE017SVM0YjwK9ZCjlgkxDmPjTwBtxo5EYf4TgJJmj9gR+AgOeCPPiQj45DsxzutNGbuzLRW-B0YCNJmcCcBGpIRmXPMDMCFZG0LxOjO74pybZ1EPdsLEBmfwQZawAOdbOMIaEo5Mc5aVWhdFsi3RJCAmRKT7l+Z4RRsuyc+2txuyDiHs03qoDa6qB8eUMpQYQKrGuibe4UAeTWK3mRgXOcgLkUvLax8iR8io4UeVj9nJhxR6kPWeQQeD59F5t1FeeoXPlhzl5wsm5rrL6D6yH54eTPPjyfkoSYqYAaOW3EVERFF5RgLVGqNVQfy-Gs8nCJaP1GFD8a+otrPdJSCIL55eRUtqguLFFBS2GCguX8SdHgMd5jI-cU4ESl3x0cQrb-IFjqzo40Wnkr8h1loCLBuxtIP6ePwtp-SB8mU+fDwssH9AX4uOS7j1PlkBhJW0geabUFFS25fG4DC2hIsvodDLSDtIsCNKUCJTYxzLZVIsIxh6LcxIIjSabP4iLAI82iy2K1OUJD9OpawP6SomerYLKxwbJSNgstFxjbJDomEJwvIyWKzJf0zBdsFLHGF0pmEVxW2PTF0jN5dYvhBhxegKB96zLbqaNPnyBKMwwS1BI2KsDejrhUStMRvFfEiRGJjgQCbuAAAyXNSCduL4QBSpcVgRyYlNFAuTV56suwGhK4l9jJJfjHCWNx4lsQWlAk2wBSyomphPJooAfOMu0VTLx+ZSipdUvAAcThwuEoZZMpGWppNJXQnwccOUjCTrhok8SZsrl4Qg78nkuSV0KfCGiDlWw+Yhe3OXh5LlWwzFu6I9rDK2l6hbZVsO0nyBdJykRKa3CCQe1SQNC3RTZMMW2A7JhohyapQ+W2TXJ7oh4LEFGl-McxPzAxd1nUkTjsgu+LSQsP+VFBpSS1ZKFpLrr7B9BdiVBLzATb4T6A6KvMZCuQmWF7pzQ95Rsu8VMq7JeNGcmcJ1lJK2QaKv5titWG9TnqWoAGuJEXGMcGVUkm2CktzER815EqkgHTNh5+NkVAFBVT8wZUiqzhLzFVQMkvwXZiWvK+4VQu6XkgkuKokRUOKvEbx70hYZ-vavUWekKOlgJyRNIzAYTyJm8XgQeKS6+rvuUiC8eJCOVvdjxvqnrlIkwbrgZ05EnFc73OK3LJx7nHcOROeVaClVUNe6C13KgZr5JoQpZnSt0DNDY1rU4cAmtFV3sZBevQDG6qDxZJQp6-DCcIr+HPUkJlsPxbIHIxOLJg-qgZdasIlYyUgIaiLpbHDU4Rjxkk6Nc9XLUzpMpqwk2o5BTUTC01jy0QJmuyDZqAgqgXNeusSlbqWAZefsBEXBVlqbAFa7RYmu5kq8R5BsAuIZ1mDrLRpQeT1d2F9XrDqFnkqZDJK2V+MuONC31S8y47kTf1Kk2gAPlA10rwNFkyDQbCHCNr313qlDdxNg2rBRSUiZoLSr-UWIylzEoCSBPAnLLJg+G-8YRrYm1Li1f60tT5Ww3Iaton07cBUHY71rOOz67RWkrMWTBENHqzKS2oGVcbMNCfaQC+tnCWwFlVSmpfzEk1LKMxuPc9XRtE2zLRSU0ZjeUFY3b1aAn1agF1JhCfUiIY0M1VoKFYcEDoBmlvPpsM0StjN2QF5vpt02OKcE5mwzRfgs0UAtYkSeVWiqexWahAbm6zWLzCG2azmBGPdQ1WhZDFvNzLR-Npsc218gMDgHTV1M4ruaKYeq+4V+pZJ905gSWkeMwjy1CB7ONzXYeA1KHCgDhlQylXsqUjRbcxwCX2KlqIgFa6AaWrWIQJvVBbkgzQ1LY5uwSmwmtRWlrW1tLnBIQtrmcLfMThblQ6tPzPiklvi0NLJ08QR4CtCAgZaTN3y7wQSqbiPxiVC0LAMrxSAbDhoAq7VUqBW0Og2IaKytiEqUi5KKOzYu5ZYSfpHbjQD2-Jc9tfnlz0gVKLre8QMKirYkk211NQFRY7hZtZNYUqIFW0KAEt8BHiZgwAGICjS+SD-mPQnrhAc6mwd0TOy5aTJ1tHW0VRNEVI7KdtYZQyLSIO3SgKQCwe6EoFd660qAK0eEts3a1AD4Sv+bfsZWJ5AdxArdAhTuH3A4dqoFIgnowFD7bFDt5cgINuDx2DtACDbfzh9qe2TjK5IzP7fpHG3A7c1cugOmq3x3ewotZ2v5jmnl1ztCe-BKRMyBdb8V9BlsAAJyvgeoduniomtJgwDEtXFfQYmr-JuA74A8BGSHNEUI4hwI6sUk3MYh2AAivk+Hv4Fd1KhbmtzcqGgFT07rG5969AfHocACVqWYe8HgEAT2+7XAiKLSWpiGR2A7w5WFWXd2z3e63dWkkvTIV0A27ct9ellp2L2gyA5FCi9oFBGeCNqNtuK8fiFp10RbZFPFXvathm0m6YtgECffIrNS254d35TdvcHO1QQxm90RZMKCaAPAqaKXWnlqEtgptagzrV1vy1xYZRwtX9Z8K8v7WMQEIjAPfaTU8biRtwDwVIoi2+4J75it4O8Au1AB-N7AW+kSF2WsoJ0Iwv+plvVq1BeR8Z+sYwKrJpiMQE1FHKjkWGfV2I4D33QDaFLfVgboNf6hnL81vXJBhYT+l-fVDf3LY2RWgO9FnvMC-7tw-+5qORKwhYHZg4B--e1AQPRxkDfB0eUUGYOsHmowBxKAwFEO3h09TBnPT7p9GkqdlhKx0Z2SirnEYDOqm0YzqvT-8lAWodSaWv50EAfKhgOXpDqJZMNPReS1XRMKDGU884L7DfKOW0R0BjwiKa-fdDFVH6T9+i1NpeAv3usr9oB2-ffrnHGwR8Ficw-oY9HYomx7uuwxEuxxiLdCxW7FqDsbhwSE0co+0BYyEbpANDSobQ3-xWjRGNaERoZFzuMOtxTDFqszX5qLgKtfSn0k7SNBYaKTfY9R2MptF3y3TRoAi5zZ0eE7dHx+kgto5Okvg5bBtDR1o9ZzEUzHNGT2KY10b6O8Ll08xuYXtB+xt62tjR3fKMYHyXaY8G+mY6seUzrGuoC7Dfbc0jGKACFAAHSwBAaSwthdA-gCDx6M-thlcatxAMjJ6dwlB8gjB1fCXG0V1xnjrceLEPGnjQMtiK8feP9jVUhARZEMki4REkToAAAF4HNzADx5IOSrhOnNKjkXLEz8Zsh-HtwAJzUO6nF7dRnD9ANw5uGuPPH1IBJvRhFU2ZYVJAQxBoEMVIBDEYWqEW5mfDwAgnUlTJmE2ako5vHCT7JyVtyd5P8nMW5J9qEAA')">function is_empty_conjunction(exps) {
    return is_null(exps);
}
function first_conjunct(exps) {
    return head(exps);
}
function rest_conjuncts(exps) {
    return tail(exps);
}
function is_empty_disjunction(exps) {
    return is_null(exps);
}
function first_disjunct(exps) {
    return head(exps);
}
function rest_disjuncts(exps) {
    return tail(exps);
}
function negated_query(exps) {
    return head(exps);
}
</pre></div></div></td></tr></table>
      <span class='comment'>
	We use 
	<kbd>argmnts</kbd>
	because 
	<kbd>args</kbd> is already
	taken, see section 4.1.2, and 
	<kbd>arguments</kbd> is reserved
	in JavaScript.
      </span>
    </p></div>

    <div class='permalink'>
<a name='p52' class='permalink'></a><p>
      The following three
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      define the syntax of rules:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rule? statement)
  (tagged-list? statement 'rule))

(define (conclusion rule) (cadr rule))

(define (rule-body rule)
  (if (null? (cddr rule))
      '(always-true)
      (caddr rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+7gYBIQw+DMGwUBwIgyDoHwPD+wt8jzDRG0bno9rELMkvI1IkyKI1R8GBsaQAPy6XI18zPvix9vfQQAFzAlKpLqiKF-QIT8g7UANIQTQ6EGzUQ-kKDCYoJT-z7CfM+wDzC-z3PIA8METy330OgswT8969QongwBx9QC6DQcNTBiZXSlmtPgwhoBiH70kCOVMt9UEENocCd6N8KF32Gmw3qAjGx7CAtQ3hP46EyGJCpESBUNKfxEXqQ0nwkKqA8iCGCRlFAmXwU8Fhw00g6LTigqhp8ZGNDkVTY2qifyiJmPY+G9xmbGyVuzSx0iWFyOTqHZhaiSEzACWmHhfjgRpSii7AsQibGlGcSDRcXiuFCIiXwwuxdS6UVnEEpxoB67SB8iEwgG0kLDwkj46xxjTGlB2rZd+05VCD0qeMQx8SeEJLSL-RQzAITcOAgAVWIAaYg1AADudghR6CUA6UAABaBZVD34ZWxjjQp2SfLCBeIPM2GZKD4FAKoEIzpKAsHqn9SQWjhD9mYpnTZJcDZnIub9TR1VVA7MKYwKIstzCDCodIC64gjknKkGSVo1yPm3LJuYc65BNh0Ctgi1EKyFjlLbhY25tS6m4sCI6BQxB6TUPBLQGKJi8U-gqQZDkxlPkkH0DiylzLvm-KZSyvFFSSXMBrHcGF3I0gyRCBFJpqgXTIu6Y0J+IrxySEfISu44rpDCLqb-Vo7ROgtAGP8wFwKMzmD6dQCEXyWQjLGZM1u9t9aaHkIs5ZRTBRaX+bxHSDSJRNJMpOOgPD7mVwsi0n5oBUQAD40UHwUAG8MViz4Rk0LbHeuoQlytoHVKaEjag+v1UKqQ4RCDvBKasiN4iQSWDWofTp0b+wmOcWUotKbuofWTfQDxcSmxFAyXw0p5aiUNt6l9RQP1KB-WqWfbcOkk2uJNt6yt9zDnHJCJlTQ+tDZExtnc-VC5qTqo6AkLVGwAXyCBbaudYL5FOxiTFX2sLGgyS7RGoW562apl9k8aR2qdWHr1eg+FBBwTnseLA21qKKV3qWA+xWztL0S1fdY99aQT3CrbIBz5f6IPOUA+uilMlwORQA00uDQQD1Ht9aUW97DJ2qApa2R9YtTZrpg6O9BwxAjDCqvbN1kgSDVi6Kof++yPSsX9ZIINoaWQACouMMN3WJ4MoA+P53tnQdaxAxR5qgtgt8uT6Bzn1QhqQFH8HXrhbQMIAo6ZBqZkbeGqS9AdLbV4Ajm6PZSEXcuijvsqNELk17TzoBf7110MiZTqnFZkPaSh4WaGn2u1Nv2dlHKzBKbyCF9TODULad87ivGnwKMKxs3Rq9PEWO6ttRuh5WC0taccWogCYW0LwIbH2SVPTvOVAI6xhN-Ik1hMGdI+5P604WYCanag3k+wEZ-UHdaQKLNJZU9QNTdXtNpwFcZp8oBJP+l3QwVFHHNvJh41NlQfyHmgdUGnCMhLiWn1Jby7RwdjvxYS89jb7IpNdGnZll7jRpEKd3uw6J0XW2SMzQJ6k2XknbGQ75s7+UxIqKMZWv7ib2GcKYekmd+qf1NIs2dtHismltLyRWt9GxqzQNFKK-HFP03NheE0nhBGZL4ZdYzJNS3wmY7J1JmnyGls05Qegs7-PCfKKqYj6RT2zCk8OHgBeTBWDsDXlwTeaAwadZ1rmpYDpYXZpG9kXI+QdegGraAeZ6JUVa5N6Y3pjB+mqAdLHLIOQ8hUKdNghQLQXiWHhkOro391k6Qh1oml+jhYvAu1zpzExkoTQ8JCpCwZMuh6sAYiPo3BSM7lgHcF8eiVQoFp83XF8-zV0+Q+PP9JE8twIG3FPdL8DF9Yo9UG+AXiHX7rqCpWKm-bWBk9NvoAXqd-5Fym7PKYqN-uTJFv+1B8QzHYzCHMqaIAL0EUafD1Y8r8WLJ+VRQR86x30sJpvfnOl-kslBnwFj+J3lkhwn+-rSn83xPHu+FT-I662QIOZpoh0XHzJVTD6yzUvF7Blw2RwyXg5FUBALB0VHYggPHR-2oAulTm2UMnkEzXWGj1AFBHBE+UwKz2GB-XeAnD1gNm5SAL0AswqGkAGA2WD0wKsgwmnQ9TPzsHwIhAa2yDYPHHjR0mgJJBpxMiEPkF+BwIeQ7DEJrzEMA1EMwIkK5lwN7BkMX3tgJUCwANmFu0vWsiBXp0e1AGcBNAnGsVf22l0CiHeBYIbDNgt10isJsP3lJlNy4NUCYJgJ4IMNABcMZWMNMO0Oa0CF-hyGiBsO8LNgAB5HDwi3hVA-CqNiE7cjVVAWQAAVLIdRYgQUVlJwFWAUSBBuf3YCUAAAamt2e1DEiCiEOXTn0LNgqNkxZHKMqIS2qOiDqISOOyrVxVt3twyKyPwHkAmTyPZkKOyUoBKJaIqK+0CA6NqPwHqNYMMCaNZFaLmPMAWK6L8K-3ciyAgSgW8OQ28NB0CGQNmBkCyEsjgMaB0jm1sN4MMKBSM0FRLzoMeJeM2OIVPiuOoEsk2PxRQL-yHioLu1+02N-m8KDQxA7EiOCNxSfg7ESJeyhOUxzk+NJheF7F2Mc2dUaBPWoRhMtyxFc0oMAN5VeKCENW4P0NZBGUyFaDkw5CdVKCIy-TqR-TEIsygOYNJzqRkgeLkMiMII5EZUBPOMwPkNFJJCKzZP3XgLsGoT+JuNg1Z3tnJ2ONFVON8JUDOPMAuJVNgPMLKzMHuPRMiOeP4wFPeK9kxIRMSWjSNMBLhl-xqO0N0OAOsQdJa2hIcLhIaJ9MdIukVmRKMP3iDN9PRK4kDOxI-x6NWzSABXQUJNPmJMxHIKXXJJ0Inw31NOpJSNpIwnpOIEZKJWZJJDtUKSkyykTMIxKxIzSC5MwJ5NQ2uT5LVJtNYiFKlJFJkKlxZTkI9RlPELrJYwVNwOVLAVVMY1l3nmqkXmXiV04A3l4AwA12zBeUuXeUL1uXdgjkSkv0ZBNS3LeTv3tlPL90kHORLliSqz3PHmpAChhW3B-UvKuXl122SmAQAhZCVFk3MCVFxXFPqVjy7AArMC7GAql1-K4IgrwLBEYGgp-Nj3zHgvzGQtAp9E9kqFkxwukGGhArMVjzqjoBLiUEdReFIvItyJ-CIqCF-JpIgppLqXosCF-P1HeA4WcDoGDE4reG4oYEaDYvMF-LKPgvMAdxeEFEMBDTN1aNopErMF-IWQkrMCktABkpE3kuWUUpgtjxkxeDSA0q0rkvmTE00rMCUufh9GADUuOUd00tktDXmTAD0pQp9AAFJ7KTLnL5LPLLLQBrLfyLcJLfLtLzcMQZL9KfQABCdEMKxy0yly0AeK1FaKjyu4FkKInypKvy+ZGIswDKrCrKqI1ENS8Ksy0AMqoq4K2PYNXK6S-K0AUNWqmKrK4NcqoywISqlKzqtqzKtI2K+y+SwIOSswWK8wHXYBbkN8iIV5K8ipSIoNdBf1JUF4d8nc+MWWOa85bcgveMMUZwAAKw9x21WqLnpTsDktgvmu3Nk2fIZTiwpU2oOoJFliwF2oWquXhTyFNgswAl-O3U1Vk2Bt3Wsu+3Ytj0gGIB3TkEorMBhrhv1ghshuUtj34skFgEgAgsxuxtRrRo4tggEoAFF4LMaSaCbIbfyAA5JQGm+yummmyMhLWakzBFV6362sZa1EC6yyI5OS6Q-wzm9mv6na9mvAu6t5JtdKWsD1Faxof1AW0NZ8uLSWva6Wrm2LBgnSB1EtDWxa6FEgXZH5fMDgx5Ypa8lTdVRgYpd046pQeYJTCIJdSjZlV6m8nIQMe8hlAcxoQeM2voIIdUhaEMyBD03M60c2zQ-PME8lSlALIlVQV6pahol4CU9W76z4LWkQqmwIRO7oFOtuagE6s69O77EWp8P6+QvO8wMg3WLMiO6ggwbcHIBFeuqIIOEwmYOOxIWbLYKBXuqOhguXBchXFeDgdebgTADcxaWgcIJQCgSQWGMIKifURgUOUCSgcCHIc2z2FwNwAKLene0c4IpEyeIiHEo8beiCU+1olkSQGYszMMLoo+6+k+gcdBX+N+sCW+v2HSaofUAmGlT3G0Go60h5Re0gJwK2Dae4XZUgUgPyhgColpRB9MlkFop+TBvzYCdYioqB2un8TB2mMMAQxmEgAyC6MBu0VladVpSho8C6X4AASEVOfpqPvrSNaMAZEguhAZ439QYeICoawLobuSaP0BZEPzsEYeFk+CmBYEjT3stmtkHjPuAjoJZC-odmSnUdADhBYVPQ+N7HUeKB8DYnfyIjMdSoxBZAfi5HQSfgInYn0YcPse0dMSfnlWUCXpXoJEkHXtDnUZMV-lPSKUbiq30cMdxSJGlC5XhyqTMZ9Owe4YqLkbQMUZcezj2WUYkbaOGhaKfuONsmQQSfUiSZ+XyaoyKdaIyYUcUCUYClyeSdWJqakdCde1EbSLQpNqjXqa+Ead6NKDkXcJCalS6aYaWBZDgpeAAg7HUbjOsaqf8IGcUeCLsXCBqOUaceAgAHIn7B576DmdHtiljlGZHJn5Hl7FhGAfJYY7mVHJQ7SSQD6IQOwHniq0abKsq8gWhmijVmjxkgxixTRFAQWb8rZORP6Jn6nsnuhPn-DexEWXg1mhmdG4WPnbnorXh8IUWrm0DEX1CFoHanbSAXaCdZVnRg5xJYCnQnmImm5ZxJwNHfzGWtNZNyn+p8gWW-a0h-VSWTRyXKAl1AMS0aXTQ+nPV6XhmWs4mlgWXdnfyHGQx9DEE7JpQWWNm3dNBiXdRPm6xZkHRxX4ZTQ6XNBYU9MOFJimWeWZWSMuS24-SCn5i1XSmYCuWO47WLWxy571tqXTWLp6Q9kLN-UDWZlzhjWA3xIpXzW5TcDU6MIMG4Ldn3COxo2wXg2fksTLGVwiIM2g2OFs2YWRna8BYacMG0LU3mBA3rg9kdHE2GwMHBXnaRXKXV9PHHT3DG3sg+WggBXHahWKWxWC3Y2tXtXu2nW6TJaJXC29k6z2Tj1QV5W42jMZ9Y8VWBQ3WkEYCtX2sGyytb0nR2sQ7dRrUFX6WLDz93DFWJmOxb3S2aTzWSzzUpkdXuXXhBQbVzyFon86MWWr3NzEK43dnwD6WdGn3JwX3xk32xc3p56VZA9GY-RwWqJyBqBU5jQWg2hugAPQCNYv2L2LWMGUPGAgxLmkRg2wWyOqILE8P2GOw-3pWfXtw8B-jr4Anzhb6Nq81ClyyrhyA55x7Fo3gi4phQAwZjkLoFowY1c1cCENk-Rg5VAjRM9NgNBGAWgIGcJ4pVG1AfcjUtOUnXs2gd0uhOnCZGpVOHJ2IOwDPNPSZZW1E7PsFDPXC+jqy6BlPrPcWiJ7OjO9jcYNFsRb7VBYVJsHsZguOcgAaDLov5AZM6zXUDjIEVP5ADYeAXhVPJAXpGy-XTMkVnB4uLMlPSA0uMulm1AjsouP7fWzAT1CviuHCwaugqTcCWu91GhF28vAgf1-OSvTRvP0ucvKv7hCAivau8T4NQV+vmuiUNVwaevSNLwOupv6zP1StMsZJex-O6vCMmMJyDSC5m0yPyvJBMvQBsv+BnjFgqSf1GuT6BuvOyvsuLvexquQvd69uGvxumuMQOu2utirBsQiIPv4u+3hp3CAJXuNrgOrubvRyIe8V3vIvPvT61vuv8zeuJbZvPOhuDZrvfPMJfvJuKUT1Zv-v5uzOWgjMWHGgQyQfieJvuOsA6eK7gP3D4fdTV8iHmUuISe-6eI2ezBMfMsGedvXPNOEe9vxyuvDuzTGZqLYJSB4iWAqTzJK2UvNBO3ETdItffNf42B3HIgLoyOde8Un4TfwWvt+jUiWBoOLVQB2P0sqz4vWSRf2GlfyAVfXyJbnetM0fQ3gv4uwuBgf0BOLN-fOOT6emtetI3zePUUo+0OY+WQrezfuRGDgvnBIg6pohujf6chpfAOEKCDj7uPufbvLmc+e1-9y+chztc+ajzaOwa+8+fhq+m+6-xxG-a+fgS-ew2-m-O+++rb2yYD6+xGZCS-SuC+b6i+mAxTLmY7uhJ+EeXhp-8PqR3CIch-8+1-K-xCN-FC9X+IpBQI42S+UYy8oPgIHHAvxAq69Bt6I1b+xDUXSyFt89QJJBROiUchGAsKABv8RKSXt8yVrC-lqyW5mABsXfKIENjgFj8xCz7RfrKTW64E9+8AubqZ01SZYn4JAMsvSB-5-8WgAAlATIUyy-wNAmgHyJgOQyYD4263YjFaxvb2sseDydwtQJ8j3sZWLwLgRiXHYY8D2WGS8JOAx7y9K4-AllqfzEChhcgLAa1janzxtBDwgoHjHQAu4qCKK1wOgLly37n4PiGgjRloLUH0hdBYXHRmm2liHQke6lZBuEHkGKCtCJg9QQ4OJCM97gNgjOi9hcFmCXoNeSIFMBdxXJfBngqioem0F+Cnmhgw6Ls18GhB+AFg2xKX3ebWDeeYXbSoEMUDBDPgoQ+IeYN57DQMhclOQe4K4iHRZ49xNwQoPwCHgoQl1L5Np0ri1DYIhKSKJYGJA2hHBStY2gKH-qMwWh5ANoaUKUYjDohdpMYbszoI6MshttXICEIiGmC3apiOEtULzrFDQ0gw4YdUK6FlDp4HQtXpULZwOgrs15CUOdFuCpgD+wkICJvw2CwC++CA0fpEHH7SgD+ahdhpgPTIdddmK-OfifSoqwRj+YpSwa0IHSBNle8ROgaKgYGAjbhJ-U9vyFBBDDwRnFFXsnSBGgAbhwI2UiX25LuN8Aq4LoC0V2YshCRqoYkRB2uiNRkRcIwwLs25JmAZh5-I8BiKSC-CThWhQ5DLUuHWhaRWIzERQOSGnIOesEWEPCBFEEEbhGjZEd9AhHe94ivYZEYUMaC9hpRtgyHmCNsDyj0R6bMURqMhodh1R3gylDIW1ZkiiR-zGQdMhqJt16sOw43PoM4LAdHKGw1rNIAf4q9sEBoDhCplI4nh-R4wF4Aa35EGs7h2PdbGiIEpKoUUCFFEdqKjGqAQxmIwMbQHLrfNcUYYhEbgSjEgwkUyqDBuSJyD-MphPmZISCTtEqYRhHhSEXmIlTWiNsaBXPo6DZFPMFi8LVsQ-wE7tD5B5XC7qpz0H3CJaO2UAAJz7FZd0uw+dhjtkp44Dd0rCd0bgzoANjmxxrbLuKFbH9YJaqnCzHqJbrsMQgF-VToYGwYONcGqnVulYFADpEAAEiTUkAABBcAOABJoAAldIpAAADyNNZAKijoI60BhVgFXhwmo7vU2R30HEeIRL6EAmx83B0OBIHQaNuxq4utqBPCyyjEJOjbsSoE+hoSTMlzbCZUBAmm8wJ5tW8feKfEvj3xX4n8QROB4oSqOJE9CVqOIDm1ux1Y1cZIHXH7QMJtgfwr6DwnEAFkIwpDvbB3SMTUOJmBCbYEgnm0Rh1yOof6k8w3CnAImL7F6JTjJZUx+QFSfbzjEQTUBR-TzMMQVHETJJ2mXicQFkkhQ26FgKFsmhIDidUUAABgAn2wEgEyXaPZPZYBNKA3QXXPZI0COTFAFmRgIFK-7icKiPAJnJeDCmQQgp6+RgJcwhweSxwhfE-O-Qr5xTjQNrAPn5PNruEPGsPAgtlMUE5JfJXuInv8MF4P9LA-8NKfP2nBW0xUULcLjj28m5SKptBEYl5Mgg+SqIfk0PhsB0gODPgEyFQKHHo43oS8kAy9hSifgpSepk-FAaVP6loR8pFKUZsBwfZqJ3Co0yQONOkChweBPrA0XXUsBjSJpAgmVkGV6THsJB23C6QdKunZSH+bQJQVpzFDetDC6U2SfchGlPTDpk0qkhANZGjloBIKY5JZzUAH9wZ7At4hrDCnyB0BH6YjPDKCADYnh7fJAXyVkkoyEZ1IZwN8Kp64DnsT8QkUekBK-x9pQM3vtjJhGMC5eLDUXl2Qti6ICCUEvAa8EBlXT72dyPwNzPkCXSjpAgpzqqgIDHZkZB3WXg8hplXTpBiIsQCvzOEghUCZoULgf33h-SscEtL4aijoEvDkB7w7McEFBRfC0qJnBbq1zy4yQSAdRHUVCMQEwi4B-hE0YEC1mGT+gBTbrqDIhARklCz2PAGJmDnfpdZcArGe6UNnMEPZHw6aaxHNmzirZLQeaa9ntmJi1+bs4wk7J76wjWeLDNnkKJtxu4rs1UhfjHJNki8GyJ6d6YFikCzgPZxssUhISDkhy451IC0RSKtH7phBbcoEH8M1l6lPZJ7NjAtDtlLEHZydC7poEJ7hiHk+IuxkWMpETMO5xY83iESoTUi1AmgKeS9AZGYFmRaUyefSImbKzuR2gV0KF23kbUZ5ihA+Rf2nnHzHSp8iUOfPVkN9p5G1C7tP1AAtyxMB89wtvPFHAgAFu82FsQDTmQiMSgCs6UECVEvQYFgQMeQbETHpsvBGYxoOm3gWZy7iihc0YvK7kjzdQetESNlJakL9kx8YqyaACzFiktx62A8Ibl6lAZNg9UyflIEiBkLxCE2CWkgrrEFjgMuKXhYmIoUQS3Zj4A8DBMYgMLksr0hBWkBoVoD2GvCmMYWMtFrzzAT8aYckNAw3NFAPkUqRYmkUqZZFYvW0VYHtEHDVAyi6cBKhslXjyJkgV8UMgAAyJNX8e6LckLQTJwE7KSZEsnaylFsEtoPBMslIT6JcE64L4ukmsSsJwPHCUwpMg15CJMwKJWRLvGOKXFbiuiYrAYkJLolck6oU4KTqeZ2JOwzidxPyVyKggLIbKcJOqFchbBpSyxUVMhY5A6lBwrkA-z1pRL-FnskvvJMGFKS8U2U7Sl9mIVMLOFsPShbJNsHeLoxULPxSxOskNizQcQSCJ8yTHYtdE0ywyT2OJAFKDhCk2CEMtKD4jQ0FKeSQXXUyqCeMmWcSWZJo5SSRFA6GZZljdHdKFlmyvRdsoMlmiBywpNYQ2J0UbLPmkEvZWrzoWmZLowgCzGOPPZfLHmrIYFdi3d6VxoVJAYmXOPM4TNVlt5XRXcwRVqcAVBw7VuivyBMdCV-hYlfIIf4hBVxMfZUVf30xbN8+e4-mRY0PGsi2VD-MIEamNCCSx+q4lpIJMtbLt2FcEmPtpMwyNAf0O41FOUuG4bipVa3H9NAztyJAHlATEYQrQSxNLexPnASUxNoDtL5BqKwIJoDzTldQWRqoSSJIh5jNBJLwN0WqrqmKxtJ4KxgSzOdR2xQ66HSwEwsFVwTOFbU-1ixIsziKaIVSV6QRitb0rL5LE6VaUFlXpcLMCqg2BuNCUqqJaLqjVaVO1W81nseqzoQatqUiS9uFqu4CWqhYmriQSeOpO4WylOq-KOa2sHmrWELse53q2epRwDVGpNVjEKVUyomWDrdmPa0hVKp0Y9rtJwqm1TXinWCSZ15k2FLyv9XuqXhQq5VUOPWzZAJJjy+gBZgcWUS3xH478eAAIyHrnxx6mie4odU2qm12lHdf2pMx1kZILIcBNI2zwDxsOEy16fchXWfBSp66oNdGq3WmZH1vig9ekqcWuKz1GwBxdBrcUWYG1ULe9XJXA0LKX1l4N9QnBXEuYKCTaY6h8i9TjDrYxGy5jhkfCEaRA5rJod3Fw5OhyG9sPLJRvxDMdaNYBfCGRs-W7g8NjdUilRvjA0aSNagLjT6q7xtl+N+IITSXxOmMaFoeWSTSIDY3m0wOcaGvAkCiAZR6QGy4jTJsQIMbPRtAY6tQA4UsalNYKsYUOrJIEaPkZmigO50dLUriQOjSjSZvyDMajNrG9wMQAE2xYYFyKvRRFhFh2a4kPm1jeKWF7fYnNhw7cBWrSJ-NmiAWu5nviM1ubM+OkfjW5tUCKb7NFmtYVZvw05aTwRWhzY-HdEzDEpOQ65ZEOWF1Ikt2yCTRIF83Zamt4WvLSSuMSRa7B2lTLRwoU2talNLWugL5qxKs9ns0Wv2HFrfWMBEthaT4J81ky9bWJni3UBpo2h7J2tNK-pYUsGWXVjJLZENGNoJJ6dYCc2-FT5DW2e5ztkaUbegvmJmL0OVYnYWaIIRdaQEAoB7RYt7EUD85uDOgp1rSATbcQU24FrNvRQKBztsmS7VwtnqOhsEeaIjtHTm0oCO6XdXqEPX3GEL+QLbYVqKypzZtNt+y88IKR22KS9tpiM5SYjh3QMI0JvZ8FQA2gSkFmxbSCVUoSIb9nK3gp9rMHTHoLTUoyGDs6IRSgQqyMxPOV1pZA47h2TSTpcZwrHmKntliwubIndF9sgdPIKbVLrbaAYwd4aebSipeBa68d44TPj+n1DGtqKqgizAAE4BgGWiQDRXBX3AgBivB3aoPBXXkpgkIF4KxLy5WtDBmoPLj7NBTXUMQzkwHmYEt0UVVAezPZqyDQAJ6zVqMjkqYij3cDpYfcClGno90vxuChS8qP4TsDLIO80s-EuYGz3yTc98DdRBbrd0UUul0gcaYKBzRIyTkFoPlYTohVOjdlIw4HZat9CN6KKLe3fEirO0Lbdkg+5vV8CRnpbGYBba7ZEArX05FAmQM0CjUhUIpLoFmcNoKCNYmtaW3TRfbxyaJ9BOlMa0FH9EYCr74atjVFCyDNBhEgwVJNPWkSWTLIC21C7Fo-wrVmA395YF1uXrr0+QBmIKrcKAEx7MZTZxyd1eh0w4cJsOPGS6ImrSBjr7Jfa6dfOptUjYxsSB77hfpX2oEb9Fs+-RSL0Cfh0ZL+lkG-qWSedzJhSBAy0DtTUH-9EB7uRtzy6UHqDNBz5oimRQMAuDSyJPZHqANO6LlhSk5ZygO3BpASIB7FrVpex06-qL-JYJdFZ3HIedBAPymfEKH1akxIYT7Yrt7F0ESIw82ejhjyB0AJkbgI-emFA2b7t9WyiNnMn31mtD9IjY-cBFP2MDmyHIEcbodUMfboglYp3cYcw26dnm1sMQqVqCDYNxk6iBUZwxuFKBtGLDNVCIymYL6n+DOiNAEekKYEc27OzQ9pW0O4aJlkGPMgeJzSHl2o5RyhDUqhY-tjotACRVGtal6arG+nVqTXgMUZ5g1Q6kxlPD85dHWWseFQE3uH3QsdGAUHbsMdi01txI12vZv6NUDoKAAOlgHHXFwtCsB-AEaiUb-bNKTVO5JSjj3ARL9q+6FgMHn0bKljoElYxmPWObGPpXwDDrscYBKN3ChAenP4TU6fGXgAALzVqgB1jQQK5Tsb2OFG1OgJ44yylOMgQCDF0LSGzxGBtkLDVhiEEsa2P55wT7xkynM1GPNFnAzRUgM0X+b9g9m3IPANcbkOYnnjOJpRklXxM+hkjscYk6Sc6VwnywQAA')">function is_rule(statement) {
    return is_tagged_list(statement, "rule");
}
function conclusion(rule) {
    return head(tail(rule));
}
function rule_body(rule) {
    return is_null(tail(tail(rule)))
        ? list("always_true")
        : head(tail(tail(rule)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	<div class='permalink'>
<a name='p53' class='permalink'></a><p>
	  
	  
	  <kbd>Query-driver-loop</kbd>
	  (section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query-syntax-process</kbd>
	  to transform pattern variables in the expression, which
	  have the form <kbd>?symbol</kbd>,
	  into the internal format <kbd>(? symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>(job ?x ?y)</kbd> is actually represented
	  internally by the system as
	  <kbd>(job (? x) (? y))</kbd>. This increases the
	  efficiency of query processing, since it means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>car</kbd> of the expression is the
	  symbol <kbd>?</kbd>, rather than having to extract
	  characters from the symbol. The syntax transformation is accomplished
	  by the following procedure:<a class='superscript' id='footnote-link-2' href='#footnote-2'style="color:green">[2]</a>
          
	  <div class='snippet' id='javascript_95_38_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (query-syntax-process exp)
  (map-over-symbols expand-question-mark exp))

(define (map-over-symbols proc exp)
  (cond ((pair? exp)
         (cons (map-over-symbols proc (car exp))
               (map-over-symbols proc (cdr exp))))
        ((symbol? exp) (proc exp))
        (else exp)))

(define (expand-question-mark symbol)
  (let ((chars (symbol->string symbol)))
    (if (string=? (substring chars 0 1) "?")
        (list '?
              (string->symbol
               (substring chars 1 (string-length chars))))
        symbol)))</pre></div></div>
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<div class='permalink'>
<a name='p54' class='permalink'></a><p>
	  
	  
	  The function <kbd>query_driver_loop</kbd>
	  (section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query_syntax_process</kbd>
	  to transform the syntax of the query to a tagged list
	  representation, where the tags represent the kinds
	  of queries described in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  Along the way, pattern variables in the expression, which
	  are identified using  <kbd>is_name</kbd>,
	  are converted into the internal format
	  <kbd>list("?", symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>job(x, y)</kbd> is actually represented
	  internally by the system as
	  <kbd>list("job", list("?", x), list("?", y)))</kbd>.
	  This means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>head</kbd> of the expression is the
	  string <kbd>"?"</kbd>.
	  The syntax transformation is accomplished
	  by the following function:
	  <div class='snippet' id='javascript_95_39_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+zjoAAFZKPMdCkBEmiK-MNGfM6wfiaok5k5XhfF6XlGzgfGyBAA-LpyW+ifjdn5pLxIcPEn706+hPJfw0Waoi-L1XpQde1FaI73hqaF4g8TIH37D-MwAAuYEUolgX0aDfACLIr7BgFNZGYtkUEf00HAxoSDJzbjwEhBg+BmBsCgHARAyB0B8B4P7Ba8hN6EA2huPQ9piCzElsjKQkxFCNR4QYeB5gMFyFETMThpJ1RFEkYg5BHI+zKNABgrIBpCCaHQg2UB-08FiglIQ8RX9QC6AERopBe55AHhgiecxGib4cN6hRJxijeGWP4foGxwIRypmccNVxm9JCBOtOIvh1jhq2KkO9MRXiJEhMsWEhJjY9hASsX42JDtiQqREgVDS6iUl40+EhVQHkQQwSMooEy5jv7DSaUEKpac+zRJyT+OJhsiYlJ-KE6azNjb3CGfDJW7N2k+JiV04EydQ7BP6ak3qcy0wdP8SENKUUXYFiSZ09BSyZibLZkEpJazcnHwbk3WcCz9n12kD5NxNENqvyKe-BpUyv4aMaDtWy8iTKDzfuMepuyOl7NKGQxgzAIRROAgAVWIAaYg1AADudghR6CUA6UAABabFByuEKGxnPO5PlhBQMYFEM2GZKD4FAKoEIzpKAsHqn9SQFThD9mYpnUAJKQQRGZb9cp1VVBkp5RS2W5hBiWOkBdcQtL6XxI8K0NlwqOWHzMOdcgmw6BWy1aifFzy25tI5Y05pZrAiOgUMQekVjwS0Bil881P5X4GQ5MZEVJBPlOu9eYaBpqfVOpefwu1NY7hqu5GkGSGy2yGNUC6XVYLFkRXkZIR8Vq7jxukMk5pSDWjtE6C0AYkrpWyozOYRQUKPXEFZPCxFKLW7231poeQOK8Ukq0pK3iOkfkSj+UQugHSuWVz-oPUAqIAB8BqFCqEHh0iMmhbZsN1I81NtA6pTQybUQdZao1SHCIQd4DzOHcLXd1D6fKuiP2ne87Jia0gDKede09G7V30CGTspsRQzm5MeQShR1qz29S+ooH6lA-qTOyduHSK6qbDJltujYNK6UhEyuvA2sH4Y205WWhc1I80dASIWjYUr5AypbUhhVMgTSK2djFX26rSgyV-c88ETstl0Ylk8SDxGS0tpw+YTVBBWM0ecoYsdoBHXMenULNjxzXamy-txxoFHo2LljTJkTjxDHYcdTJDTkUtPyKLaUEjZGh2McvDB0ZSxHWtlk2LU2WGuO+OM2kYYgRhhVXtj2yQJBqxdFUCgqlHpWJ-0kGOydLIABUfnXQWi6FFnBQX872xXnkMUB6oL2LfE-YFn7ZSIfldDazfYGMatoGEAUdNxMYc+LRlWfZXNBF3brNDPTqZYds2YG+FRpBddAEg+uuhkTrWIBlxWHigUiuE+M1M9H-UBvMGlsb1BMuTYq6ofrZqynteGQrWbehR4KYHE10zpbJEtfW-kG5iyAJXf0dkUrjqkG9dO12xmK6VkwuyVywTadxNzNTtQbyjWNiCaDutGVNXRvjayw41C9BVBpwjQJirWrYv+kIwwfVPmMfJgCxDlQEruVSaWGnCMVqbXBuYKGypwcicLcW0zsweP4stAHRJ5nXOzC3qgx9sJRyHOrI+Vy8yhpPjJvHJtp1pO40xteYxG9viUvsLCREj9mSEOBEE-I8Tsv1eGMBdckFHymvVge3IqXBuhQYUmfIjpTWZJGfe-bFdV3hc-bLebm3Bj5GqHuz7x7DTJGy-uymhXxv8sGDnSHlzvFKHVWobQ9gDCuDMLQGDJd-E92MEWKoB0h8WuZGyLkfIBfOcpKxeifV+6W1fIhZWh0scsg5DyJYp09iFAtBeJYeGYGugIKJTpHbFTXW1OFi8cnIud0PTvmSZVSFgxbbH1YOpk-geCgd3LAOiqagL9VYXoRf5q4iofEq61KqBaJ0Zi6mpq-hYisP6xR6oN8AvEOv3XUr9jVP+2sDJ6b+oAL0n+-IQaswIaMU+Av+FMisABLwEMfO9sO2kuW87gegRQous+PoKBiwOCaaRQIBOsOBSw8i0BEciU8kyU9uwExB1+9sxBr66aqgpBmBE8Pc+EpBKuy6ZAQcZo0QdE1O9qqYnuIW1IvY3GdsC0+mNCaiIhuGio7EEhc8cMvBnwzgpKhk8g266w8hdgoI4IIqmhW+wwgm7wE4esBstqNOgY4mr2WeYgI+mhVkGEHOfyZBoA+hEIgeMqLwbhhBgsmhFuJkMhJIvwOh3KHYIR8gLcTAHIhiwRmhYRXMuhrw+EURXB-Ilqw2Ah4B1hc2eCrhDOoAzgJoE4virB20ugUQ7wzhDYZs1eukVRNRm8pMXyN8nhqgjhai3hhRMqFiJRF0ORd6QQSCOQ0QNRPRhgAAPI0eMW8MwUTsMfepYpCtQBCCyAACpZB6h5CChipRBOAqwCi6INwD7ASgAADUFei2oYkQUQNK6cBRhgVxOCLIlx1xAatx0QDxCxfRSxIxKxlamx2x+A8gyK+xhxh2xxD8ZxbxVxW2QQXx9x+AjxLhzxwErI7xCJgQSJPxLRs83a2iuiFusa3hWu5g0G-CMgWQlkchpQOky2tR2QvRwWzSLWvWTJfR2JmiUy1J1Alk3JFqPB1AfBQ8VhQh1ot63JSC3hY6GIHYkxgpPJHY+JSpMpo2OcnJpMLwvY+JKObmkiFGVicpNeWIqG+sOREBGB-GaQFaaxnJNaxAmQrQoAKCHaJmvG5maQgmUR4m0hThSmTSMkjJURQRhhHIXq3OoZfa6R+pQQ7mnaKRVifJtJceXmA8cWY23hpJeCvhKg5JZglJswKZ+85RNpBAjMjJPReZfRXpzWR+HJip3qriVJQc-J0ui2KhIpdxlpeRkpyuW2MpeCJpbE2cTZPqN8F0isKpRRm8-xMyjJXETxOpHBixcZHmHx6Q8qxpDRZhrWFp4poaZWQQdpXhuZcKTpq21qrpHIraPKmZWU65xapG52zSPpmhfpM2URpZAiTWjQwZGpoZPR4ZoRjOi20Z44CREZT5ZgCZsFohQIyZbZqZv58eYAVCTArAKenATCvAGA9h2YjKAq-el+8YVagi8Ue6FB7UoqLIRFLKnIMR9FgqkgTKJc2yT85F7sWcK4REaq24gmzFJFGFOOyU8CmCSoOC5gSoZqkZLSd8XYUlZgXYslYFt8PonhSlHhYIjAql4ld8+YWl+YelpQmCnslQOC5l0gw0clgQmCdUdAJcSggoOCDlTlexP4tl5gmCp5Slp5zSXlZgmC+o7w4SzgdAwYIVbwYVDAjQgV6ldwLIFxWl5g+eLwgohgE6oAWKVxHl8VmC2KKVZgaVoAGVEW2VOKpVZg+Vd8iWLwaQJVZVWVWKUWVVoANVPowARVdKTepVmVk6WKYAeValmCAApN1Y1f1RVaNW1R1YldXilZNeVVXhiBlSNXfAAIToiLW9VNUDWgBbX6prX6U+hTETW7VTVYozFmDHWmV3xTGohFVLXNWgAPU3VzWqAsjjrnXpWXWgCTrvXrU+jjqPX1WBDPX7Ug2A0nWJUbXdUVWBBZVmAbXmAF7wLciCX8oMWkUEhBFjqSJ-xKgvBCWspUIY1o4eFY0sWvzUDODzyd7Y4E1FxVrlWYIk00yjm8VqDhpqVBDs041ArchYCY1MrY2ap5CmziYASYL4YFo4Ky2EbxXc7eV3yQDEAEZyAuX1Vq0a36xK3K0JWfVRWSCwCQBKXG2m363K3BWwTRUACiWlxtdtVt3OmCAAckoG7d1R7W7fOVzuTU+JTaLSxeLbWD0fjY0H-LSllZERYvzaHQpgMCLcRaygnfERHaUFHeVQFFAXHVTSRQnbLMSifAbPzeyiQOSlEPmO4bypEL5taooPcj2QAiaEAuvB2eavzWxTkIGJxSaltoPNXX0EEC7gtFOcSYeTFO4VkRfpPamP1kNtaqoGXW3NWZuT6vHWjhLUES7YEIvd0CvQLGKHTQzS8EqUHSnZ8GnW4bzaUHueaZYYIUeduDkFqnuVXbTb1HPXoDVlsHot-XcELQngLEnlhfQjhdwJgARYtLQOEEoBQJILDGEFRPqIwKHKBJQOBDkO4Z7C4G4AFBg1g9ESQqUDfAFLqUeJgxBMQ+iSyJIHCVVmGD8QQ5Q0QwOJIkgiw2BNQ37DpNUPqATK6l3jaHcaydyvA6QE4FbBtPcFAqQKQFNQwFcTOvIyOSyG8TfOowNhiecVcRI7vcNOo7TGGIujpCQAZBdCI3aPsRzgCuY0eBdL8AAJAIVorhB3HvEsifXvH8MiQXRCMBYjoUr10WNaE2OcovH6Asj+GgD2PCyfBTAsAzoUo4OWzWyDxLGaO9YsgcMOzJQZOgBwgaKUYcm9gZPFA+Cc2anlMHUYhYJciSI3wETsQFMNH1NtEwN6DKAINIO42oOhwZP17IaJgPxXL5AFNFNmpEjSgvJiTFLlN+2aPeNXFxODGJPNPZzQLJM-ARPr2lBvEMPZkEJqKzPqTvw1PwlmoHPvGrMJOKBJMBRbMLPPG2Zcg5NNK5rEChOfWGWV0vC3NfD3MkNpDdIdGDP7K3OfWaUvAAQdgZMrlETlP-NfMON3OMAsBLHdJInbOZPAQADkDDo6LxBLuTuJKJOLMTALsMjAPk1LZVM+lFkoXsnRmUrgEIHYdLBjZqmCeQLQrxaxrxSKQYxYpoigwrNBVsjFwLQQN8kLHLiwNLFivYnLyLoTgL6LmLsTKL8TGz3QKrqRRE+rVLCrGViBC0TaqCn8FRHsUgHRaCpDVT9rILgJ9pk4jpdaqK7eZz-IFrdBC0+Bh2RCqT1SBhTrMrBragYbgQDerrTo7rSKnrEeOwsDKsQ+jMfoYrVE5A1AqcxoLQbQ3QB81rdgFrQbajGbjAQYMTSI9IFbuNbSRbDL1IHYAbjmsCFCYA-JoiuN5w1DxNB6PK15Vw5AuA6FyepAbwRcUwoAYMdKF0C0YMGeGefixKpowcqgRom+mwGgjA7OwbHJveaxe7HTCtXQQzhMjUm7Dk7EHYh7u7pM0riyt79iR7rRZqg2a7pAG78gW7vYd7e7GRDh4u2I1Dqgh84O9OMwvbOQUttV0H8giWcZhJ1AOilkm7kgPALw6HL0dZgmOqzg8H4mfo676HmHEbdOkOIH2DMFcqc7hABHRDI5p7LQx5KRzHf5z5Zm5Z2uFN-7RHn737Bs-ACLmE9H8HPEzSFGfHDRzHrHFmrE7HjqZ2fGW2Mkf7L7u7NHHmkicFoAunUMb6lbgnGHWHP7kgwnoALB5ZeHYnjH+qxHX7pHInFHvU4nNHFG+HhHMnDdBGXQcnZgU52IREhOUHRDt9zSHRAETn2lBh2HNZiw-Y4X3qvYIXVHNDHHsFnp3HqOgd0n95dAJHZnFnXEtnPDWnwQ8q0nGIsn5mTjjQgXJXDHfbWAdXXOHRHRcXln44XLyXPspX1H3IrXmXL5Kn3qDX+E-78X0RGX8ZOnxGGwOkblsEE7nRx55kajbZqH7z5qWiKHui-WSCbAbTkQF0lb23TqN8J3YrCJMbEILA8b9aoAXbCOd58H7p8FKRS35AE7AlFNz3T8aX4mO28HYHSdFNw74m-3PbRDPzRJmgWkglA7+qUPWbMPLIV3Z3Qtw+wHzgkQdU0QCx3DOQU37hHRhDfbXXW8MRuPAG-B5POQSOePdx7hHYNP+PPwMTbPPZfuXP0Q7hvYvPHP2+C0gvrFY2359PYT6Rxb+X67kvL8iRMTM93Q8vlPiwCvEZMvHRO2gvhPVDxPav0RGvoRZru4UgoEZbTbNrx+lBjIbrwE2CgHhIT4EtmD069vURyLzpF+oEkgk71qOQjAh8fD-JDyVr5ZKm5vR4Qb-nnTlWgvAOTP-Bdd35Hvivuml4Cf3nbQvnLQW2srl5yqvv-vLQgfRCxv0Rg5MDmgPkovPPSfOzM3yntHlGdrn8sfMkHRGgNfurMfLw3fPk4h7fNHzf2XOErE5Cc32nKRA-Qbpv-IoYuQLA4Sxc2RbQh4goAWdAZH6-zl1wdAOHVv2YjZh0jToAu-m-9IB-YHuTHRCph0SX4Nij4QS-K-zaF+F-W-L-xIQXmED-59zOT-lfxegxFIgUwVvKyiAH3Ad+pGPfsAP3bMtt+uLIAaEH4A39SEMXdltLH-5OowO5VMAY3VyCQDYBl-f3CQP35oCeuw0PAVlUX4-8uIh0AkpWW-7L98Ah4KEMzVFRiNx+1INgbBCtSRRLAxIG0K-yjoV0BQvDG-OwIEF0CkmsghAdbHkFn9esuTAgYwAgGfAoBjqBUiwN3o0DJ0fA8gDIJYEiD6B08IQRiyYGu4HQlOVihKHOi3BUwqvYSEBGl5lo-sDfRPrTyHgp8nCqvdIo7kz6eDs++aQjGf2V568wu5-WCBX01aggjBIGSQCFRW518pcgvCxC4NiHz8xA8Q76EkOW7zF4hLwTIbEVCIy9fSbTfAKuC6BvEz+LIKoaqBqG5ML2agIodEKSBn9fSZgVQVHwhDxDDA4QmwdkRpSvozQYQVMG0JKHpEehIbPobBFhDwgGUOlf3PMLP65DEhyQ+Yr2H6GP9mkvYFwVQMaDrDbA+Q77vMQ7A7CABTqDsAcN2EG1YyuTeodUL5bZC0UdxV+mhFkH55Seyw3qvoNdJewnei0D4CnHSx1tGI4I2gC8DpbVIgIMItwWDgpqbCQYOqLNOJmOFjZNhqgGEW0MhHVo9mBtUoPCPT4pFkRmaPVHUwaE5A+Wygr2KS3eFWBPhJgskdOATSvDYmgxPHo6GXrzCZe0MdxgTwuHzCgRw7QQUv0E5kdN2h-REYHWxygBh2Eo0zoKGAKuMBQTHHzgWh5K9ZtGdAdkVyIdCSB0O4oHkemBlGVZN24mIUQYECGMsLem7QwJo2wTaNN2L9KwKAA2IAAJO2pIAACC4AcAHbQABKGxSAAAHk3ayAfVHYTnigkzh4SUVpWymwYjYhMvQgJyIboOgTR30XFqKP1HXA8RJkDEZq1FEqBPoCYgkLqOF66gSxlQeMadwrF4Cj+7or0b6P9FBiQx4Y8ADE1zEZj8x5YpMfwJAzuFRRXw-UYaLM7GiixIreseMGxSyC029sAjLW37EbZkxpQ6IjL1kFsp2Bf8LrC4KcARYESE7exAaHCRjY8RKw6wPd20oJDbAsQu4bGInZ1jM2q4wcXePXGzxX6FgSVquhIDTt9UAABgGBzwEgyKXaD+LuRXoqIlAboIXh-EaA-xigcTLnkggIT0CulK4jwBtHUgUJV9K8lMBiY7ZQJY4IniQVYYU9cJb-U+LjRgk-CDC9TYmssMomQSxmrFbvOR0l4nZR6uoSwCghIn69pwYvONJK3A68cIJozAHjBNsJglwJkEFiZJNglNYdIL-T4MihUChxG2F2I-BbyLaOob4REmSZL3L7fi5JEkmiSx2ezAg2+xCPSZgM7CWBVJ6k3vrAjuFBAVJkgNSdIFDhD9iEj7cFF6zewpF3Jnk0OLhKBFtB3+7OMUPkHt7+DEiXKZSQ5I8lOSNxEfIrL0P3g6ZJO25a6I1FV7EM6y-5S8LXhm4bkRuhU0oH9i8Hs8xebKAMlkNU6Z91ROfAtIKRvhVCyMgpJBMFKcmpDUCzgCTk0mGBONR+GfRlnawGHNlXgSUkKc5M5R+Bpp8gRyV5M1LEMq+HUi6E33m5BSZpKUz+OyOV52CQQIpM0KB1V6bwUx7gimln2KIN9apEvciQbwCGFY6UCfQ6lqxamK06yMkEgA8VOEpC7p9fbwRYiuGBALpH44ejxnKmR8SJvxbDFzjwBRYkZkiDwd4Oqk9lfBaicGc9KKmsQ3p1XDUWEOaQF8-pWI+XqDNuneDY06Q7+E4zpmFlEilkiIedPzIQyoZZmCjBFOGxSBZw4MuKdBTWCIzkZuM6kE8MaEvD2Zr5eTtSGZmPSwm2MkkZ2nTK6hfpKJf6YULI6aALOCIlIhUMpHPDzu4bMWdSMNnRtLEuU1oZrJeidDNCMwi3poEOgEjXEQwi-CMO0CuhQODs4mtrMZkYCQg9snDoMNsFuyTplAT2RZy9kfizAQsqLDMPa6Oy4QVk5YVrNxaqyDYWI7YTgOZzbCXork0oGnPVm98HZhwn1BcNzkUzGgDwjAcbJqF6jwokrSEHJlNEpEUYJ+erN4hZC4S-Wx0WgAeDTGMQwpMvAKGFJiKUS2kg8psVZU1J-sRJfk7rIbV9DSA1JgoHPLgU1bkMJus8oEbyhEi4ThJBvHEW+PxHEjNeV0wOgeFLyySW0+qXiXEUl5SBIg+86bmaPRzEA-p5I8TLZgLlYjD5t46tKDMfB9y3kreMbGFLzk-gT5JvVUQXI-mVCDZtIyoM0OPQKBEGJrJ+UDhBwXz0sYCrbKKQ+FZkTBMC1kVmk-FujPR3owMbCgAAydtSMQCMqDASdIj46KrhMLFHzLp0C9MW0EzFFiz+PY7hdcFYVZihxuTGsYcklYmQYiYiq+ZIpl7kLJAlCmhV2KrH8h+FjoQRRIuEW2B3CW4-eh3SaQjiTBY4o0ftCnGgzO5krOcSwK5B3DDFFgz6tglSiWL5xVggeCXRkVaL8ROs7lFuMMG7jzUuE8qgiR3lXyn5jEv+feK6zMKPFa42MuyLNBxBIIdLbESa1hHfQK+Yo4kDopYHbjYI-i+kh+SyqOpdFq-D-uQO6BbYlxz4xMRtl-npKPxec-4byiEV1KQMsQpWkBV0EHTkFnwZJXSwyXyDfsFNS6MIHEwKjS2+rFkKTlQWKAXKcZGSCMpIDNTQhZ7fZAkvYozKaWKS2ZQMt0G5NFl12FNoG31adKLBQIkIPqJh79C+RUgbFlaPmmVN-Z0fe5UCLCBrFjQK4sbHXX1EzpPlh8GGZctA54isplUimhaP1TGKJx+0YFTN0EySNIUiQapbjVkEZ0A0di8UVezrifKrFFg97nzQPSCdpxL44gDiqX5L4IuywvES8H+HwreJisPEZkssGnYsu83SQrqDeWWAr5tUn5RPJfk3jvo4mQBTRHfhhSmsAKjMVcqPkgrvSYKn9uJkhUGxJxUq2FRTVpWIrKJKK1EIKXRXCDMVFinIKSuJB4rAgmgAlXqtwmGqWA5KppB0VwnUqpqaq2sBqt0FxlRp2nZWVWHzZcq1iSKiEX8puWhLgVTsnlF6r3nArcmNbX1bOBhUqLhwXqi8UGrLQcqPlM4tCN8ozG-LU1xAOMoJmyDLis1co+RX6IDHBiwxEYprEWrbGlrOx6IylZ8vtXlU81Ua+gPMsvAsgUO0TWNXYEjV7zeVOJbNpysonpruFT8nNX92kD0hWF4meRYotoUVqWxs6uhbaslYNqsqTa1ha2tYjtqE4dc-cgbEfDzxhUk4bgUfDSaRsnQpjG-DNgPX4h+0LPRQhetHnThFYN6kQDAkfUy8fJl6nfHuqggSBD1AsO9QGo5LHqYi+mBygBooBAamxHYUDTE32wQb8Q76hdPz3whwau1rpeQFEAyj0hkloGoeQ+pQ3siD11AR+a+ooAc5TlS-YNg-VfSQbPExAejW+wdZUbiQuTEjY-P2zkbHM3G7UtiWmXJL9M3GtAkxs+RDcucrGplbxFNWJVeWrxATSazwK0B54pG7NYwsZgQbVN-uf9Uht2VnKA1tGxDYBqM0UbcWKgv2ehI0FZYN+AWLrAptmXTZhYE2HTSIG010BRNem6jbTIapTVNNnG59X+vc1Ia3NHmlrkzkk1+wZNn1AVqyHs00tXK-61TVj0ZgJBsN06P1OuMZXZKLBuSjgQKXNQVDx0YW5TGev3g9LNlPkVLThoq3bM+NhIxEgyOzYEL7FsZPxOJvDZ4LGRzW8UdMPpkvYvY3moIBFtxBRa2Q1AcVlMvK10sksWGjKMlusH2ID0lrYhDL1lz2936QcEojMAAZAiW6K8NeBvCtzipPNWS88MGRyV+LmaXyQrV8nUWSNp0J3Z8FQA2hKk4W4qCxJ7yVLMEX4-VAAaeW+0EjmcLIWtAmz0KwQuuulXFLoxa70zAgLIPbW3UO1bwuQc86+AKEa1MiWtvs3JL1iS7DaeQo2hHQdsMTyaptiml4ETuARI6EuwEwTPqANFuUN+4mAAJwDBFuEgdyoyvuDB8NNHOjfoytYpTBIQLwbNXWRhmNlNQdZZvhRjsANEAJsfRnc5VUB4s8WrINAOruNWccpZw0RXT5B0GDSddfO5ygLpkReEcl5UCxHYDxQf4p+iZcwLrpN1C6Oc9OwLe5W3lLznKq8pYMmHeUnaMW5QwIrIJG0ErF5y8r3aToWAZQKtOCFQGHq+C55n5c8cBOJBq2RAZNvhRQJkDNB60hlgdS6OJhhHopzgBo5PaaB5E6s09A7F4n0BR1ir5Uf0RgFns1q1N9ULIM0GMSDDHlddn1XFHilL0MA6W4gL5gO1bSFV+gBI7vcawc2XQtwenLLrpwowMrs2ubcJPmwCwz7jyPan8T6oTXxrPlGC2lgbrKD17M93ZfWC3uAjt65oFUswN3pZC96odeIkNQW1H297ywc+8qUYF05urSgd+h-VDsH3kiGA-+3FJrtv1G70MJg4pTkvyUFbClRWpnFPq2VXDHtrvDaJdAr7UrZgP28qgIioFxbaWIYDHd1uEG9YSIb2D1WIH0x5A6AyKNwJXubk5dKs+e-VIXsFAYoS9zACBGwor3D6tU1e2vXyqiJyiCD2Iog9EHwVc6yDm6i2Ey2tjCHcWY2nYmcI8YuClAOTJxp8zVbJLUDegN3ksAwNVMFDWBnA1lTwPsi2DHBvlLvDL2aStywzKiVBPPjt9zMPpVesOX1SSIjmpiE5m3CTYx8OOmNGwxdFrbiogezNSw8XusPcHK6yGo-TwKBCvxZSbTTSmsOWEXCuD4kfMe9uvbsEiI-e7I5SnYYYCkjHhupoZTWGZHRWoRylLk1KMYQ1GlOkBPIlNlSI7J9RhsK5L-hNHqd28Ko7Y3FQx84hywjo9kGJr9HCjxOYbhzPSl2RpQsCczDJEwSOLcEGEExHMeW1H6f9SZJ0BQZwD96ateLOtqoHq0AAdLAGGtKX0hl9+ANYkk1x2lVfqnKJ1KruAgN6s9jFAYAceSVHHyxJxwkeccuORSvgObW4+ix5EGFCAvhCxFuw6JQnQAAAL0S5mBzjQQfeiCbZR3GAdW7JE88Z9SvGQIp+i6FpFa4jAZsNBugxCCONXGMTYJpJrtRhZ3x1DscV4qQFeJ8t+weLbkHgG+NoLqTwJm41iYZMLzmTwEZwKyfZMo6CT5YIAA')">function query_syntax_process(exp) {
    if (is_application(exp)) {
      const function_symbol = 
        symbol_of_name(function_expression(exp));
      const processed_args = map(query_syntax_process, args(exp));
      return function_symbol === "pair"
        ? pair(head(processed_args), head(tail(processed_args)))
        : function_symbol === "list"
        ? processed_args
        : function_symbol === "javascript_value"
        ? pair(function_symbol,
               map(javascript_value_process, args(exp)))
        : pair(function_symbol, processed_args);
    } else if (is_name(exp)) {
      return list("?", symbol_of_name(exp));
    } else {
      return exp;
    }
}
</pre></div></div>
	  Exceptions to this processing are
	  <kbd>javascript_value</kbd>
	  queries. Since the instantiated syntax of the argument of
	  such a query is passed to the
	  <kbd>evaluate</kbd>
	  function of section&nbsp;<REF NAME="sec:core-of-evaluator"><a class="superscript" id="4.4.4-sec-link-4.1.1" href="./4.1.1.html">4.1.1</a></REF>,
	  its applications and self-evaluating expressions remain intact,
	  and only its names are converted to pattern variables.
	  <div class='snippet' id='javascript_95_40_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+7gYBIQw+DMGwUBwIgyDoHwPD+wt8jzDRG0bno9rELMkvI1IkyKI1R8GBsaQAPy6XI18zPvix9vfQQAFzAlKpLqiKF-QIT8g7UANIQTQ6EGzUQ-kKDCYoJT-z7CfM+wDzC-z3PIA8METy330OgswT8969QongwBx9QC6DQcNTBiZXSlmtPgwhoBiH70kCOVMt9UEENocCd6N8KF32Gmw3qAjGx7CAtQ3hP46EyGJCpESBUNKfxEXqQ0nwkKqA8iCGCRlFAmXwU8Fhw00g6LTigqhp8ZGNDkVTY2qifyiJmPY+G9xmbGyVuzSx0iWFyOTqHZhaiSEzACWmHhfjgRpSii7AsQibGlGcSDRcXiuFCIiXwwuxdS6UVnEEpxoB67SB8iEwgG0kLDwkj46xxjTGlB2rZd+05VCD0qeMQx8SeEJLSL-RQzAITcOAgAVWIAaYg1AADudghR6CUA6UAABaBZVD34ZWxjjQp2SfLCBeIPM2GZKD4FAKoEIzpKAsHqn9SQWjhD9mYpnTZJcDZnIub9TR1VVA7MKYwKIstzCDCodIC64gjknKkGSVo1yPm3LJuYc65BNh0Ctgi1EKyFjlLbhY25tS6m4sCI6BQxB6TUPBLQGKJi8U-gqQZDkxlPkkH0DiylzLvm-KZSyvFFSSXMBrHcGF3I0gyRCBFJpqgXTIu6Y0J+IrxySEfISu44rpDCLqb-Vo7ROgtAGP8wFwKMzmD6dQCEXyWQjLGZM1u9t9aaHkIs5ZRTBRaX+bxHSDSJRNJMpOOgPD7mVwsi0n5oBUQAD40UHwUAG8MViz4Rk0LbHeuoQlytoHVKaEjag+v1UKqQ4RCDvBKasiN4iQSWDWofTp0b+wmOcWUotKbuofWTfQDxcSmxFAyXw0p5aiUNt6l9RQP1KB-WqWfbcOkk2uJNt6yt9zDnHJCJlTQ+tDZExtnc-VC5qTqo6AkLVGwAXyCBbaudYL5FOxiTFX2sLGgyS7RGoW562apl9k8aR2qdWHr1eg+FBBwTnseLA21qKKV3qWA+xWztL0S1fdY99aQT3CrbIBz5f6IPOUA+uilMlwORQA00uDQQD1Ht9aUW97DJ2qApa2R9YtTZrpg6O9BwxAjDCqvbN1kgSDVi6Kof++yPSsX9ZIINoaWQACouMMN3WJ4MoA+P53tnQdaxAxR5qgtgt8uT6Bzn1QhqQFH8HXrhbQMIAo6ZBqZkbeGqS9AdLbV4Ajm6PZSEXcuijvsqNELk17TzoBf7110MiZTqnFZkPaSh4WaGn2u1Nv2dlHKzBKbyCF9TODULad87ivGnwKMKxs3Rq9PEWO6ttRuh5WC0taccWogCYW0LwIbH2SVPTvOVAI6xhN-Ik1hMGdI+5P604WYCanag3k+wEZ-UHdaQKLNJZU9QNTdXtNpwFcZp8oBJP+l3QwVFHHNvJh41NlQfyHmgdUGnCMhLiWn1Jby7RwdjvxYS89jb7IpNdGnZll7jRpEKd3uw6J0XW2SMzQJ6k2XknbGQ75s7+UxIqKMZWv7ib2GcKYekmd+qf1NIs2dtHismltLyRWt9GxqzQNFKK-HFP03NheE0nhBGZL4ZdYzJNS3wmY7J1JmnyGls05Qegs7-PCfKKqYj6RT2zCk8OHgBeTBWDsDXlwTeaAwadZ1rmpYDpYXZpG9kXI+QdegGraAeZ6JUVa5N6Y3pjB+mqAdLHLIOQ8hUKdNghQLQXiWHhkOro391k6Qh1oml+jhYvAu1zpzExkoTQ8JCpCwZMuh6sAYiPo3BSM7lgHcF8eiVQoFp83XF8-zV0+Q+PP9JE8twIG3FPdL8DF9Yo9UG+AXiHX7rqCpWKm-bWBk9NvoAXqd-5Fym7PKYqN-uTJFv+1B8QzHYzCHMqaIAL0EUafD1Y8r8WLJ+VRQR86x30sJpvfnOl-kslBnwFj+J3lkhwn+-rSn83xPHu+FT-I662QIOZpoh0XHzJVTD6yzUvF7Blw2RwyXg5FUBALB0VHYggPHR-2oAulTm2UMnkEzXWGj1AFBHBE+UwKz2GB-XeAnD1gNm5SAL0AswqGkAGA2WD0wKsgwmnQ9TPzsHwIhAa2yDYPHHjR0mgJJBpxMiEPkF+BwIeQ7DEJrzEMA1EMwIkK5lwN7BkMX3tgJUCwANmFu0vWsiBXp0e1AGcBNAnGsVf22l0CiHeBYIbDNgt10isJsP3lJlNy4NUCYJgJ4IMNABcMZWMNMO0Oa0CF-hyGiBsO8LNgAB5HDwi3hVA-CqNiE7cjVVAWQAAVLIdRYgQUVlJwFWAUSBBuf3YCUAAAamt2e1DEiCiEOXTn0LNgqNkxZHKMqIS2qOiDqISOOyrVxVt3twyKyPwHkAmTyPZkKOyUoBKJaIqK+0CA6NqPwHqNYMMCaNZFaLmPMAWK6L8K-3ciyAgSgW8OQ28NB0CGQNmBkCyEsjgMaB0jm1sN4MMKBSM0FRLzoMeJeM2OIVPiuOoEsk2PxRQL-yHioLu1+02N-m8KDQxA7EiOCNxSfg7ESJeyhOUxzk+NJheF7F2Mc2dUaBPWoRhMtyxFc0oMAN5VeKCENW4P0NZBGUyFaDkw5CdVKCIy-TqR-TEIsygOYNJzqRkgeLkMiMII5EZUBPOMwPkNFJJCKzZP3XgLsGoT+JuNg1Z3tnJ2ONFVON8JUDOPMAuJVNgPMLKzMHuPRMiOeP4wFPeK9kxIRMSWjSNMBLhl-xqO0N0OAOsQdJa2hIcLhIaJ9MdIukVmRKMP3iDN9PRK4kDOxI-x6NWzSABXQUJNPmJMxHIKXXJJ0Inw31NOpJSNpIwnpOIEZKJWZJJDtUKSkyykTMIxKxIzSC5MwJ5NQ2uT5LVJtNYiFKlJFJkKlxZTkI9RlPELrJYwVNwOVLAVVMY1l3nmqkXmXiV04A3l4AwA12zBeUuXeUL1uXdgjkSkv0ZBNS3LeTv3tlPL90kHORLliSqz3PHmpAChhW3B-UvKuXl122SmAQAhZCVFk3MCVFxXFPqVjy7AArMC7GAql1-K4IgrwLBEYGgp-Nj3zHgvzGQtAp9E9kqFkxwukGGhArMVjzqjoBLiUEdReFIvItyJ-CIqCF-JpIgppLqXosCF-P1HeA4WcDoGDE4reG4oYEaDYvMF-LKPgvMAdxeEFEMBDTN1aNopErMF-IWQkrMCktABkpE3kuWUUpgtjxkxeDSA0q0rkvmTE00rMCUufh9GADUuOUd00tktDXmTAD0pQp9AAFJ7KTLnL5LPLLLQBrLfyLcJLfLtLzcMQZL9KfQABCdEMKxy0yly0AeK1FaKjyu4FkKInypKvy+ZGIswDKrCrKqI1ENS8Ksy0AMqoq4K2PYNXK6S-K0AUNWqmKrK4NcqoywISqlKzqtqzKtI2K+y+SwIOSswWK8wHXYBbkN8iIV5K8ipSIoNdBf1JUF4d8nc+MWWOa85bcgveMMUZwAAKw9x21WqLnpTsDktgvmu3Nk2fIZTiwpU2oOoJFliwF2oWquXhTyFNgswAl-O3U1Vk2Bt3Wsu+3Ytj0gGIB3TkEorMBhrhv1ghshuUtj34skFgEgAgsxuxtRrRo4tggEoAFF4LMaSaCbIbfyAA5JQGm+yummmyMhLWakzBFV6362sZa1EC6yyI5OS6Q-wzm9mv6na9mvAu6t5JtdKWsD1Faxof1AW0NZ8uLSWva6Wrm2LBgnSB1EtDWxa6FEgXZH5fMDgx5Ypa8lTdVRgYpd046pQeYJTCIJdSjZlV6m8nIQMe8hlAcxoQeM2voIIdUhaEMyBD03M60c2zQ-PME8lSlALIlVQV6pahol4CU9W76z4LWkQqmwIRO7oFOtuagE6s69O77EWp8P6+QvO8wMg3WLMiO6ggwbcHIBFeuqIIOEwmYOOxIWbLYKBXuqOhguXBchXFeDgdebgTADcxaWgcIJQCgSQWGMIKifURgUOUCSgcCHIc2z2FwNwAKLene0c4IpEyeIiHEo8beiCU+1olkSQGYszMMLoo+6+k+gcdBX+N+sCW+v2HSaofUAmGlT3G0Go60h5Re0gJwK2Dae4XZUgUgPyhgColpRB9MlkFop+TBvzYCdYioqB2un8TB2mMMAQxmEgAyC6MBu0VladVpSho8C6X4AASEVOfpqPvrSNaMAZEguhAZ439QYeICoawLobuSaP0BZEPzsEYeFk+CmBYEjT3stmtkHjPuAjoJZC-odmSnUdADhBYVPQ+N7HUeKB8DYnfyIjMdSoxBZAfi5HQSfgInYn0YcPse0dMSfnlWUCXpXoJEkHXtDnUZMV-lPSKUbiq30cMdxSJGlC5XhyqTMZ9Owe4YqLkbQMUZcezj2WUYkbaOGhaKfuONsmQQSfUiSZ+XyaoyKdaIyYUcUCUYClyeSdWJqakdCde1EbSLQpNqjXqa+Ead6NKDkXcJCalS6aYaWBZDgpeAAg7HUbjOsaqf8IGcUeCLsXCBqOUaceAgAHIn7B576DmdHtiljlGZHJn5Hl7FhGAfJYY7mVHJQ7SSQD6IQOwHniq0abKsq8gWhmijVmjxkgxixTRFAQWb8rZORP6Jn6nsnuhPn-DexEWXg1mhmdG4WPnbnorXh8IUWrm0DEX1CFpPm6xZkHQS1g5xJYCnRYU9MOFJim5ZxJxMMmyJbU6MILN0ESmkEYDyn+p8gWWxy571tnQqWwX6Q9kLN-VSWZlzgKWxX4ZTQ+nPVaXhXsM24-S7G4Ldn3COxFXxJrg9l-CAoDWJWOEflSZhmWsOWGwMG0LdXmAlWLpJXLWdHbXsgMGHanbSAXaCdxxPHHT3CPXpA-a0h-VvWTRfXKAl1ANKXnWVWaXNAYWRmEKCCQ2NqnXDXXXfk6z2Tj1QU4mlghWSMZ9Y8HGQx9DEE7JpQhX2sGyytb0nR2sQ7dRrVi3aWLDz93CWXdmOxe3bEqFCyk2SzzUpk3cKn+R23zyFon86MWWu3NzEKk2NHwDaWdGaSR3hlRlxlx2xc3p56VZA9GY-RwWqJyBqBU5jQWg2hugF3QCNZBQbUV2MHT3GAgxLmkRJWwX32qILF732GOw53VXk2Qo8B-jr4Anzhb6Nq81ClyyrhyA55x7Fo3gi4phQAwZjkLoFowY1c1cCENk-Rg5VAjRM9NgNBGAWgIGcJ4pVG1AfcjVqOUnXs2gd0uhOnCZGoyOHJ2IOxGOqOrXIzz7s4BPmOqN-NTQSOePcWiIxOrXiXdQIdoOchVBYVJsHsZgVOgMfm0ixNtOZM6zXUDjIFSP5ADYeAXgyPJAXpGyRXTMkVnBtOLNiPSAzOLOlm1AjstOP7hWzAT1HPnOHCwaugqTcCQu91Gh827PAgf0xOXOpO3PrP+BPP7hCAnPfO8T4NQV4vguiUNVwaYvSNLwIusv6zP1StMsZJewxO-PCMmMJyDSC5m1333PJBLPQBkvnjFgqSf1AuT6Eu6BpPzP2vUvvPsQ-66uAv0uguMQIuwutirBsQiJxvtOw3TF3CAJrOOv3CuvdTV9nrvnZOvPNOJvd65SkyG2KU4vsEmPBvhuDYUvju0uMvJuyv0gcvbuqP0z5uSMWHGgQzlvMIZuT7jF-uK7l3duRunvT91uEsuIQfJvuRwezBov8yAeluauvuvd9uev3v8T5TxzzjGZqLYJSB4iWAqTzJ7WTPNBA3ETdJaffNf42B3HIgLp336e8Un52fwWvt+jUiWBR3d27AIP0sqztPWTUf2HSfyByfXyJaxetMzudPlOT61OBgf1EOLMleoP1eWQwFDitI3y4PUVdfz39fefOfuRGCNFU5Ig6pohujf6chuvxDF202IRj6YPcfxDLnnAHf3TvfVOA+e1ohzaOxQ-Hefh-fA--9RUo+ajzbexE-w-Y+w+h5Ih2yYDg+xGZCPfXPneb7XemAxTLmY7uhc+3eXh8+H3qR3CIdU+Ygq-ff-C1DW3+IpBQIX26-z9I4jy7hJxWQHG9jCQq69Bt6I0h-S+SRUXSyFt89QJJA0OiUchGBYUAH-iSlO38z6Xu+S30e1tTMm+hs4-M+VMxCt32+uzqQT+8u2PNVMsn4SAyz6Ql+V+Wg1+r-FDMtf4NBNAfITfZDE3wu7ldiM9LHtmqyK60d6+y7f-j5H7ZqsXg8AjEkKzq5o8sMl4ScGV2YwE8YBQIFASy0U78hQwuQFgAyxtT542gh4QUDxjoAddqBFFa4HQFs699swHxegRo0YG0D6QLAtTjoz1bSxDocPSSsg3CBkCKBWhbgXQPEHEgge9wYQRnRezSDeBL0GvJECmAu4rkKghQVRUPRMDVBTzDgYdF2YqDQg-AfgYO0EHZxOBIg9Sn5Q0GKAtBnwHQWYL4FENTEanbSqQLkFcRDos8e4rIPIH4BDwUIS6l8ho6VwQhsEQlJFEsDEgbQEgpWsbQFD-1GY0Q8gLEJ8FKNshRgu0rkN2Z0EdGjg22rkG0H6CeBbtUxHCSCF50vBclDIVkKCGJDfB08eIZTwCFs4HQV2a8hKHOi3BUwLfYSEBFr4bABsZ-U-hnytrZ9pQLfa-g8jv5zd8u7HFoLswr5F9QeoAYYTXx-5WCYhA6QJmT3iJACE+Z-fwtsJn5+8O+YgUEJkIOGcVyeydWCFRWeGXDza3JdxvgFXBdAWiuzFkF8NVA-CN210RqLcJeFJBdm3JMwMUK75HgnhEIiZhX16Ey0Bh1oMEVsNeEyEYRuiAgrcNhDwhTky7YYRo1uHfRDhcveIr2DxF2DhovYYkTSJ-Ckj7hRw+FvCI8GQ0Ow9IpQZShkIbNgIAInIP82IFiAQSbderM0ONxsDPeGleoaGjoKj9UO2CA0BwhUxvsTwao8YC8FJbojSWow2LhLQeECUlUKKBCncNsDkjHh2o14RqNoDl0judSXUYoSZyXhDRIMJFMqgwYCigREzIoYO1FFWBxR7QjwkcLdESphRsjNAg70dBsiPe0MLZk731awROh9sRDnELIHucOuZHVgWMIlo7ZQAiHDMVZ3M7D52GO2JYQ-13SsJWsBFKEuGPED5cKW1ncUDGKxwS0yOFmRMS3XYYhBu+ZHQwNgwca4MyOrdKwKAHSIAAJEmpIAACC4AcACTQABK6RSAAAHkaayAVFHQR1rpCrA5PDhD+3erwjvoOwsUh70ICRiGxR4gdBo1TFRiHQRrA8eFiZG2A+RqYlQJ9EfEmZLmb4yoPuI56HjzaE4qcbOPnFLjVx6478UtzvEPj-xT4-YS+I96pjshJyBsZICbH7RnxxAfwr6E-HEAFk2Q49vbB3TftYJJmK8bYBPGykPe2Q65KEP9SeZhhTgETF9nJ5KiVRf4s9rOEYlC9TRx4t4XYOGIUiOJv7MiZhMomjkRxCKRgFC2TQkAMOqKAAAzbj7YCQCZLtBkkRMmWKmSgN0F1wySNAckxQBZmkmQQDJ6+JChUR4DOjWIJk7OgvymCXMIcqkscC7xPzv0fetkigTkgCY6Tza7hDxhtWXaeTNJyvHSal1z4Dg6xlgf+C5OL7TgraYqKFupwlrBTGWoUloLQRGLqTIIIUnybpIIw6RxBnwCZCoFDgAcb0Jeffp2wpRPwnJWU3Plu1SkNwtJ15FoEGVGbLsB2XjaUUVMkAlTpAocRAaBwZF11LAxU0qagLVbtSJ2LbFQmNL6kTTbJCotoJQOo5ihBWToQwq5PEkb9GYvU-qWVKpJ784Ro5aASCmORcc1ALfU6YfzeIaxpJ8gfHqjyu7MoBskw6PtMMv558nRVXS8M4B+7LDH+z2J+F8KPSAlf4+0iaScPHDnZQBUXLACwwwE39u2nUwwE-1eDzSDprI06X4AxnyBxpA01Adaz6IEBjsj0hrkTweSQzCZRA64UqW6FaFDkIIVAmaFvobCfe+8Haf1glp39jCZ-T6cwTmE-SPuxyE-mlVY4FdQudnGSCQDqIWjjh-M04Rn38LcjAgnMt4UHX3QNljpXvFQOum+x4AxMRs79DzImGoogBWfS-urPmF3Tb+Ew8WRFxqmvY5Zho9ma71Vl8yphSs6PuKRYZ+yzSuwm3G7iuxuyxG1s4WR+nAGgoVpgWKQLOHVlCyxSEhQ2cbIqmsR-h3woUVrIq7SysBDMpOi33Dll8FSbGBaLLKWLyzk6O3J7nqIeQfC7GXo-5n8Mblc8QiVCEEWoE0DVyNGYhbEd3y7lozER+c+kEzO0Cug2ZXcjajXMDktYexcIzQLZzWHDzkRY81mapwXkbUOu+fUACnLEzYj3CA8gxgSKkAHyXouzcuQbFdlUjFB32KkS9BGlBAL5lc-VjfPtFpB9W98j2XcUUJ8iM5gIrOaXN3DhQoWkIIHE8377tRIMzISFjkBnbHRaAB4c8YxCWke8AoS0mvJ5IsQoKpR+FDEjVySnEyQEunX0NIBKmCgc0D0xxoOwCj4LzuCovWiJFsmJSS+Vos0cQC1HYsZh7vVsetgPCG5spOnaKRyFikn0pAkQZhVcP1HrYn5xorlriifmuzWFx41WY+EQXi4XcKmJaQ-NKCOji54XYgHLNkWfDM5rc8wE-F9GptQMNzRQD5EwUZ51AGigReyP9EXsVMyEmRdOAlQhQ26Y4ycZIAXFDIAAMiTQ3HVjlJC0QSXuNskmQxJbws8ReLaAOhyJWE3ZreIbHXBolyS18Ut3fECKTINeH8TMEyWAS-FAS4JeAEgmKxoJ9ITJZhPNo0SC6VQupEhOaF3i0JI3ZsXUu0VpAWQtk-CUEK5B2CWlQYgKTAvkD9L2hXIehVsjyXJKuZUomiRkPol4pbJ2lL7AwoEUSLApbCnaQJN3FGioWMS+CewreEKizQcQSCJ81UBKKB04ktMcSHqVBDaJsEZZaUA+GhoKUDS4uFIIqE8ZMsxE4SYeJuUUT+JmWWURbQNiZLgVJy3kQOWFK1C6xViq5Z8zuW5DuZ62S6MIAswFj221y7FthKRXYspelcTFSQABkViOOEzc5beWsV3M8VNi1FbUJ0akr8gwHelY80ZXtCFRIQO8erzxGxj9M8YmIJ2LuS4y557zdiHiLOUXtLAgKqiFnzvEtJcJdLQtmIobHq8bRWE3rm2PM4WY2l6EpVaRKwllcf00DO3IkDlWBiyBCtBLMMvTEyccJRqiZWQOJWBBNAeadzqCydUES4eYzXCS8HBVmropisTVfco6H1sc5+qDrIEKNSfBPJCqy8dgpzGitjlFmVRTRCqRLSCM9LXlRPOOWstSgP6dsain1UdKMJ+ak1RLSDUWrPJ2Qm1RyjtUJCHVfSgiXV3dV3Bm1ULZ1cSCTx1J3CtkgNX5WrW1ha1tQvNi9OdSAKqwN7ARWKEYCWr8gmqp5kwqXUFMiFX7TZUup0YbrNVhqzicauzwDwZ1u61dfqjCCxqF10wxVUuomyK9pAJE-dXmKAkzi5xi45cWuIqUbBn1IEt9eBNCV+qjVg67StkAfUiT6AdZGSCyHATSND1uoDdUwqTXzEZVcamSQmsSUSK6yP6EDXkoszPqylISgjHhqCUhKLM-aqFkBrkrYbolEGy8FBoTh1iF0FBJtMdQ+Reo8h1sNjZcxwyPgWNIgJNpEO7h3snQ5De2Hlh434gQOAmsAvhE42wbO+DdZdKRV43xh+N7GtQLJrtgRK2ySm-EKptQWIFhNGC6cKFgkDKb52hmj3muzjQ14EgUQDKPSCuVsb9N2cDTbPR43UBxF4mkQNOnhVcqBVCmg2F5pU1BbYskI3skEJ0bubxFYm2gGZo6TEA4t7I6XIWk+BXLuNsW3TSFqxIIzvmvmsgbPHbVpE-mzRQlTYr3yxaPNB6jZEpsq2qAdN3mzlflv81kkoIpmj5PVooCuEfRPmQdiUOcHqYaBfyvFKVrpU4YOtdwcbViUuFhrfZxlPyjVui3GbWtdAOLXVra3ebZtCWPLQ8tjCFaoNjAErSltpUI0FtVWnSLZo2h7JGtDy6iU8qWWXVPM7ynLQSXo6wEjtVyi7Z7mO2Rpstb8rYjUTFFuLmhvIghCj0fgCgAdAYoHUGKxH+zf4dBMHmkG22U9cQe24FodvRQKBjtsmT7VcI2SOhsEeaDtsmw95nZp+HdLur1CHpdip1YgSNs7Rjb+tV8P267ZT3PCCk7tdEh7aYie2mICd0DCNOz2fBUANoEpBZpazb5EEJSCRGvs5SUGbtZgdo+0aah3YWpTRupJCkslKJlEEZ-swICyHp3RtY2TSKZSxxcVWqEhWIoOQjpMTI7dtHqg3Y7SjZ+tAMGO8NKlqJUvBDdLu0-AwR-T6gKW1FGgRZgACcAwHSEHoophr7gu0+2JHoNg0SX43BICFhLs70sOBmoOztFxPTXUMQCkhbmYHj2qA9mezVkGgHL2urI5HJUxEXpqFwzSg8esNdeSmAtDyB5UfwnYGWQd4KZeArYRIBopN6k98DdRIHv700D6FpCiihQo-jJhY1rO94eFvaGo6HdKgMhdPppjAQRtCNVfVPq+APSbeP6SIO2spZ6wLMLIT5vWPbUB5wluoUli0AiB-R5105LwTwtMxH7TektLQHcHf2KwxWesOsunrtI-6C1aQIvSyCWTLI70RqV4I00iD2a7UqlcdZGpNkYqLMsrQUOS3jbUtumP+++n0CmVlcwDEB5ZPfr9xIVpyl+uDsQcQOEGx9FFVQAM2RX17-OoKUNReyvYcIb2PGS6CAZ-DwaZJRqBdS0mPW4SRsY2Hg3V0CBgHpxuEwpFwYykXsMR5wAIhdDQCV7npyBupEQeoOgAL9xohgNQaWTNF1DQQRvchM8w0TXlnKFsiGjmKMHsWlGPXf53H4i6I0l0cSQGsV2gBJAflM+OyK33XKQwkO1xdHvlGRSe9aQO-Q-sUBGk82dMz-c62+0-76cigTIGaBRrorTMl0NA5wrlZzIsDpoJ4fIxQntq8DBBjYCekf1pH4atjVFCyDNBhEgwVJbQ8sjNYMAL9uBhA+WDXXmAi99hmxdcq3CgA0euAlg8cjYOXtXAnB29oMapL8HIIghk9SIaNViH7mzB86QkVSOoEaj4s+o4CL0CfhbpfesijQLSI6HNVch29ggYgPdGRj2c4jPmRaMQHdD2LRFMigMOGGTDZh5oZ8qeVWHcUvOhLP0bpXcihdf1SfksHcOXDPDsu7Sn4YZEBGoT5u6HemLCOgCOsWANo99r2ZqjhD9+6lr+QABCcgOqDe1gWshCTugQZcQvAA0QSQjAHQpUA30sgFxOkq4KAAXHUAkQsmHgPnv7Cl7gIDRuaAMCxNXKcTB41QMdRLraJY8xJ8gKSc-7MnKTmkfwr+V2BE6DtrICZJQAABeR4f5gOAFN7HGjWkUUw4fFP-j7gKgI8D5CJMkmdJip5osqepMAA2BSe6b5NGmhTBxm3maYGMWnwWeJqMDKZ9DjjF6RoTU8BGnHFJTQSgZorAGpO-loACiCIC0CuDNEAAsn6FADTi-osmAAOwAAOQ06yG9NNGRTWbU0NidxNSnnAIZrKmGZDiKBmi0Z8hXQDjOsgEzqp2POqamDNExWUQQyPSdN1en9j5ZzE5WakBincT7Zt8LadjyNmIzLZmM+2fjPUmUAHpz06WbHOmnJz1ZiU0ihtQMmJAqRX8ouebOshWzsZtc92Z9BymFT5J4CM6ZLOCmdzvpvc9OYlNftgzv5AAGIe5mi0ABGiyAAAiiZ2PMmZcCpn0zl5kkAwHABFSIWEMfk9uZNPcg-TdKgM611rP1m0i-5igIBeAtgXbzWVXsxeeAgDmhzzZl88aeFMTnxWU580zOetN0q-zAF1kEBeaLEWXgYMAAKwemULr5tCxWYYv7nLTh5xQDoSG4Qg2LBFji0RfAt3n7TZJpU1SZotlmtI9FxI5+ctPfmCTsedIhMlyAGg5AzRQJZlGaJk0SLaRQk6gVcVOmKKEAGJBya5P-MXg-ANQfoFHPCWtL4kMS4GZwu-lDLxl0y6yHMssBLLil0i1oA1PNEFA5PAxaQG3oqnBLtFn0yJe0tMWDzLF+cz6GCuGhQrwEcK5Ff8L8B+L7p1KxpfQsfmsr4lyBJJZPMyWDLRlgqxCxZDFXWQVluZrKeUuOmKTalyq2+YYIYWfIWFu4HpcKO-kFxuQIbgkEjPtWFsEgKK2kVpP5FjzTJ+M50DHFjSXL3Jl4IWb5NeXULdFka8XprPSmprM1nQPNcCWLXeK1luPHEFiushKLxIYc6yAXqdBoWg1ny6dbGtWm5zuFlk1dbmtmW7r1JsGJuZ+snWar-pmc-VePPSWgb01k0NdbBuEAlrD188-NavOrnOzI546+lZwB-X4bR5qS6eZ6vymHTj5lkM+e6s+gAA6keGcCEAQ4vFVkCuNkCP6CbQlui75arM6XAzE1kyL+SZuMAWbbN5opzbIPLWWQ4AIy0yboA5BgLmRTQKAHHG5A1bnJ7k+paGv83GLcNiU4Fdjxi2JbBodm8BGlvc2HrSIC5AYtDBaZmiAfKIM0QmQfBD0PNtK+OZJvZXAbot5m6zfNtS2ub1F9vOVYqtHXebRN-W-5da7C2gb4AX1lkBgvAQSargFU-TayoM3jNA0VkOADQ7eRQAgSvIBvt5O63frsNzC+dbrO-lE7zAagCnZZBp21LmdorYg3sk1Fmi5PKYvgGaJQN7Jf1T21VYyt+XBbrXWczaYTtJ2G7zJ5uxndAD5nw70Nomz7bqtk3GrU9+u43bnuy3Tbgdi2yyCtvUXl745mO2PfGs3sfzEF48KxLaucnXA1vVuyyGjNAp7LrIGmuraPCgQMpCFsaRCx4Auny7MN0S+fclMXXr7RwqwM0XvvgtZb-duSZ3dLPRs-ooNoByvcrujXmLftiBxSKgesgYHj90ADwAOsR3vLwDzK4bbXsNWkbSZm+x8Dvsl1YHD1uu8ndnvp2h7ets+7VaFuX39LPoacV7C4vyAGbcgJo0-dWv0nGTNNlcQYrEDgAQRlgWTLxbQfe2MHZ1o2+A-4eCPWQIF4R6I7gctA7btwdLM0Rw4AgbTHDiuyA+4fj2crQNgR7hR0d6PMh1JsqwJcjte3dz1jyh4GYkuI2KbWjxx8BF0ciOXHD1ve5LY5sh2DtKjzS6vcDPBYWgl7Y2z6DIvzXtTepqjrLbSf9nmAg5t68fY8fD2uHPj1rok+SeaPorT1vs1qd1P6nsnMVmp8BHitvBEryVyx3zfidlPksSTyQCk6qftryLMzPJ1RZidP2cnL1kZwU-mufWEg31op5w66cFgenFTmu7HltuRBjHjt0s9gnMd3MDHRjh23BFjjmhXb7t6QB0+juCE2yeQOgEZYhDAHMjCKbI6inQOYG2jRR6hrgaaL4HQBzZDkHmMRNBHoggO0I17FAF64PiYhLrY6TZDUB1EFIzhsMLjMIy1UIjKZkkZcMQnAjljboNC-8Iy6CAvh5MQtG92M642Hz8qeVkTBpSTwXU8Hb+Vykfga+bcfdsy1pY0iI2TuhncbtlRtHE2aA7EcgnpdBBQE5bWTDyxrbE7CFGCGaS6huf0B7nZ1pOhPbpVHnZruyFgPZP8JkveXzO4kPZJaqYcobXl7kHgBJsqu7H6r20YUi1dySdX3Lo3Uzo-gGu5JRryG+46NNVHUC0LPoEAA')">function javascript_value_process(exp) {
    return is_application(exp)
        ? list("application", function_expression(exp),
               map(javascript_value_process, args(exp)))
        : is_name(exp)
        ? list("?", symbol_of_name(exp))
        : exp;
}
</pre></div></div>
	</p></div>
      </span></td></tr></table>

    <div class='permalink'>
<a name='p55' class='permalink'></a><p>
      Once the variables are transformed in this way, the variables in a
      pattern are lists starting with
      
	<span style="color:green">
	  <kbd>?</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>"?"</kbd>
	</span>
      
      and the
      
	<span style="color:green">constant symbols</span>
	<span style="color:blue">strings</span>
      
      (which need to be recognized for
      data-base indexing, section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) are
      just
      
	<span style="color:green">
	  the symbols.
	</span>
	<span style="color:blue">
	  the strings.
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (var? exp)
  (tagged-list? exp '?))

(define (constant-symbol? exp) (symbol? exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+7gYBIQw+DMGwUBwIgyDoHwPD+wt8jzDRG0bno9rELMkvI1IkyKI1R8GBsaQAPy6XI18zPvix9vfQQAFzAlKpLqiKF-QIT8g7UANIQTQ6EGzUQ-kKDCYoJT-z7CfM+wDzC-z3PIA8METy330OgswT8969QongwBx9QC6DQcNTBiZXSlmtPgwhoBiH70kCOVMt9UEENocCd6N8KF32Gmw3qAjGx7CAtQ3hP46EyGJCpESBUNKfxEXqQ0nwkKqA8iCGCRlFAmXwU8Fhw00g6LTigqhp8ZGNDkVTY2qifyiJmPY+G9xmbGyVuzSx0iWFyOTqHZhaiSEzACWmHhfjgRpSii7AsQibGlGcSDRcXiuFCIiXwwuxdS6UVnEEpxoB67SB8iEwgG0kLDwkj46xxjTGlB2rZd+05VCD0qeMQx8SeEJLSL-RQzAITcOAgAVWIAaYg1AADudghR6CUA6UAABaBZVD34ZWxjjQp2SfLCBeIPM2GZKD4FAKoEIzpKAsHqn9SQWjhD9mYpnTZJcDZnIub9TR1VVA7MKYwKIstzCDCodIC64gjknKkGSVo1yPm3LJuYc65BNh0Ctgi1EKyFjlLbhY25tS6m4sCI6BQxB6TUPBLQGKJi8U-gqQZDkxlPkkH0DiylzLvm-KZSyvFFSSXMBrHcGF3I0gyRCBFJpqgXTIu6Y0J+IrxySEfISu44rpDCLqb-Vo7ROgtAGP8wFwKMzmD6dQCEXyWQjLGZM1u9t9aaHkIs5ZRTBRaX+bxHSDSJRNJMpOOgPD7mVwsi0n5oBUQAD40UHwUAG8MViz4Rk0LbHeuoQlytoHVKaEjag+v1UKqQ4RCDvBKasiN4iQSWDWofTp0b+wmOcWUotKbuofWTfQDxcSmxFAyXw0p5aiUNt6l9RQP1KB-WqWfbcOkk2uJNt6yt9zDnHJCJlTQ+tDZExtnc-VC5qTqo6AkLVGwAXyCBbaudYL5FOxiTFX2sLGgyS7RGoW562apl9k8aR2qdWHr1eg+FBBwTnseLA21qKKV3qWA+xWztL0S1fdY99aQT3CrbIBz5f6IPOUA+uilMlwORQA00uDQQD1Ht9aUW97DJ2qApa2R9YtTZrpg6O9BwxAjDCqvbN1kgSDVi6Kof++yPSsX9ZIINoaWQACouMMN3WJ4MoA+P53tnQdaxAxR5qgtgt8uT6Bzn1QhqQFH8HXrhbQMIAo6ZBqZkbeGqS9AdLbV4Ajm6PZSEXcuijvsqNELk17TzoBf7110MiZTqnFZkPaSh4WaGn2u1Nv2dlHKzBKbyCF9TODULad87ivGnwKMKxs3Rq9PEWO6ttRuh5WC0taccWogCYW0LwIbH2SVPTvOVAI6xhN-Ik1hMGdI+5P604WYCanag3k+wEZ-UHdaQKLNJZU9QNTdXtNpwFcZp8oBJP+l3QwVFHHNvJh41NlQfyHmgdUGnCMhLiWn1Jby7RwdjvxYS89jb7IpNdGnZll7jRpEKd3uw6J0XW2SMzQJ6k2XknbGQ75s7+UxIqKMZWv7ib2GcKYekmd+qf1NIs2dtHismltLyRWt9GxqzQNFKK-HFP03NheE0nhBGZL4ZdYzJNS3wmY7J1JmnyGls05Qegs7-PCfKKqYj6RT2zCk8OHgBeTBWDsDXlwTeaAwadZ1rmpYDpYXZpG9kXI+QdegGraAeZ6JUVa5N6Y3pjB+mqAdLHLIOQ8hUKdNghQLQXiWHhkOro391k6Qh1oml+jhYvAu1zpzExkoTQ8JCpCwZMuh6sAYiPo3BSM7lgHcF8eiVQoFp83XF8-zV0+Q+PP9JE8twIG3FPdL8DF9Yo9UG+AXiHX7rqCpWKm-bWBk9NvoAXqd-5Fym7PKYqN-uTJFv+1B8QzHYzCHMqaIAL0EUafD1Y8r8WLJ+VRQR86x30sJpvfnOl-kslBnwFj+J3lkhwn+-rSn83xPHu+FT-I662QIOZpoh0XHzJVTD6yzUvF7Blw2RwyXg5FUBALB0VHYggPHR-2oAulTm2UMnkEzXWGj1AFBHBE+UwKz2GB-XeAnD1gNm5SAL0AswqGkAGA2WD0wKsgwmnQ9TPzsHwIhAa2yDYPHHjR0mgJJBpxMiEPkF+BwIeQ7DEJrzEMA1EMwIkK5lwN7BkMX3tgJUCwANmFu0vWsiBXp0e1AGcBNAnGsVf22l0CiHeBYIbDNgt10isJsP3lJlNy4NUCYJgJ4IMNABcMZWMNMO0Oa0CF-hyGiBsO8LNgAB5HDwi3hVA-CqNiE7cjVVAWQAAVLIdRYgQUVlJwFWAUSBBuf3YCUAAAamt2e1DEiCiEOXTn0LNgqNkxZHKMqIS2qOiDqISOOyrVxVt3twyKyPwHkAmTyPZkKOyUoBKJaIqK+0CA6NqPwHqNYMMCaNZFaLmPMAWK6L8K-3ciyAgSgW8OQ28NB0CGQNmBkCyEsjgMaB0jm1sN4MMKBSM0FRLzoMeJeM2OIVPiuOoEsk2PxRQL-yHioLu1+02N-m8KDQxA7EiOCNxSfg7ESJeyhOUxzk+NJheF7F2Mc2dUaBPWoRhMtyxFc0oMAN5VeKCENW4P0NZBGUyFaDkw5CdVKCIy-TqR-TEIsygOYNJzqRkgeLkMiMII5EZUBPOMwPkNFJJCKzZP3XgLsGoT+JuNg1Z3tnJ2ONFVON8JUDOPMAuJVNgPMLKzMHuPRMiOeP4wFPeK9kxIRMSWjSNMBLhl-xqO0N0OAOsQdJa2hIcLhIaJ9MdIukVmRKMP3iDN9PRK4kDOxI-x6NWzSABXQUJNPmJMxHIKXXJJ0Inw31NOpJSNpIwnpOIEZKJWZJJDtUKSkyykTMIxKxIzSC5MwJ5NQ2uT5LVJtNYiFKlJFJkKlxZTkI9RlPELrJYwVNwOVLAVVMY1l3nmqkXmXiV04A3l4AwA12zBeUuXeUL1uXdgjkSkv0ZBNS3LeTv3tlPL90kHORLliSqz3PHmpAChhW3B-UvKuXl122SmAQAhZCVFk3MCVFxXFPqVjy7AArMC7GAql1-K4IgrwLBEYGgp-Nj3zHgvzGQtAp9E9kqFkxwukGGhArMVjzqjoBLiUEdReFIvItyJ-CIqCF-JpIgppLqXosCF-P1HeA4WcDoGDE4reG4oYEaDYvMF-LKPgvMAdxeEFEMBDTN1aNopErMF-IWQkrMCktABkpE3kuWUUpgtjxkxeDSA0q0rkvmTE00rMCUufh9GADUuOUd00tktDXmTAD0pQp9AAFJ7KTLnL5LPLLLQBrLfyLcJLfLtLzcMQZL9KfQABCdEMKxy0yly0AeK1FaKjyu4FkKInypKvy+ZGIswDKrCrKqI1ENS8Ksy0AMqoq4K2PYNXK6S-K0AUNWqmKrK4NcqoywISqlKzqtqzKtI2K+y+SwIOSswWK8wHXYBbkN8iIV5K8ipSIoNdBf1JUF4d8nc+MWWOa85bcgveMMUZwAAKw9x21WqLnpTsDktgvmu3Nk2fIZTiwpU2oOoJFliwF2oWquXhTyFNgswAl-O3U1Vk2Bt3Wsu+3Ytj0gGIB3TkEorMBhrhv1ghshuUtj34skFgEgAgsxuxtRrRo4tggEoAFF4LMaSaCbIbfyAA5JQGm+yummmyMhLWakzBFV6362sZa1EC6yyI5OS6Q-wzm9mv6na9mvAu6t5JtdKWsD1Faxof1AW0NZ8uLSWva6Wrm2LBgnSB1EtDWxa6FEgXZH5fMDgx5Ypa8lTdVRgYpd046pQeYJTCIJdSjZlV6m8nIQMe8hlAcxoQeM2voIIdUhaEMyBD03M60c2zQ-PME8lSlALIlVQV6pahol4CU9W76z4LWkQqmwIRO7oFOtuagE6s69O77EWp8P6+QvO8wMg3WLMiO6ggwbcHIBFeuqIIOEwmYOOxIWbLYKBXuqOhguXBchXFeDgdebgTADcxaWgcIJQCgSQWGMIKifURgUOUCSgcCHIc2z2FwNwAKLene0c4IpEyeIiHEo8beiCU+1olkSQGYszMMLoo+6+k+gcdBX+N+sCW+v2HSaofUAmGlT3G0Go60h5Re0gJwK2Dae4XZUgUgPyhgColpRB9MlkFop+TBvzYCdYioqB2un8TB2mMMAQxmEgAyC6MBu0VladVpSho8C6X4AASEVOfpqPvrSNaMAZEguhAZ439QYeICoawLobuSaP0BZEPzsEYeFk+CmBYEjT3stmtkHjPuAjoJZC-odmSnUdADhBYVPQ+N7HUeKB8DYnfyIjMdSoxBZAfi5HQSfgInYn0YcPse0dMSfnlWUCXpXoJEkHXtDnUZMV-lPSKUbiq30cMdxSJGlC5XhyqTMZ9Owe4YqLkbQMUZcezj2WUYkbaOGhaKfuONsmQQSfUiSZ+XyaoyKdaIyYUcUCUYClyeSdWJqakdCde1EbSLQpNqjXqa+Ead6NKDkXcJCalS6aYaWBZDgpeAAg7HUbjOsaqf8IGcUeCLsXCBqOUaceAgAHIn7B576DmdHtiljlGZHJn5Hl7FhGAfJYY7mVHJQ7SSQD6IQOwHniq0abKsq8gWhmijVmjxkgxixTRFAQWb8rZORP6Jn6nsnuhPn-DexEWXg1mhmdG4WPnbnorXh8IUWrm0DEX1CFoHanbSAXaCdZVnRg5xJYCnQnmImm5ZxJwNHfzGWtNZNyn+p8gWW-a0h-VSWTRyXKAl1AMS0aXTQ+nPV6XhmWs4mlgWXdnfyHGQx9DEE7JpQWWNm3dNBiXdRPm6xZkHRxX4ZTQ6XNBYU9MOFJimWeWZWSMuS24-SCn5i1XSmYCuWO47WLWxy571tqXTWLp6Q9kLN-UDWZlzhjWA3xIpXzW5TcDU6MIMG4Ldn3COxo2wXg2fksTLGVwiIM2g2OFs2YWRna8BYacMG0LU3mBA3rg9kdHE2GwMHBXnaRXKXV9PHHT3DG3sg+WggBXHahWKWxWC3Y2tXtXu2nW6TJaJXC29k6z2Tj1QV5W42jMZ9Y8VWBQ3WkEYCtX2sGyytb0nR2sQ7dRrUFX6WLDz93DFWJmOxb3S2aTzWSzzUpkdXuXXhBQbVzyFon86MWWr3NzEK43dnwD6WdGn3JwX3xk32xc3p56VZA9GY-RwWqJyBqBU5jQWg2hugAPQCNYv2L2LWMGUPGAgxLmkRg2wWyOqILE8P2GOw-3pWfXtw8B-jr4Anzhb6Nq81ClyyrhyA55x7Fo3gi4phQAwZjkLoFowY1c1cCENk-Rg5VAjRM9NgNBGAWgIGcJ4pVG1AfcjUtOUnXs2gd0uhOnCZGpVOHJ2IOwDPNPSZZW1E7PsFDPXC+jqy6BlPrPcWiJ7OjO9jcYNFsRb7VBYVJsHsZguOcgAaDLov5AZM6zXUDjIEVP5ADYeAXhVPJAXpGy-XTMkVnB4uLMlPSA0uMulm1AjsouP7fWzAT1CviuHCwaugqTcCWu91GhF28vAgf1-OSvTRvP0ucvKv7hCAivau8T4NQV+vmuiUNVwaevSNLwOupv6zP1StMsZJex-O6vCMmMJyDSC5m0yPyvJBMvQBsv+BnjFgqSf1GuT6BuvOyvsuLvexquQvd69uGvxumuMQOu2utirBsQiIPv4u+3hp3CAJXuNrgOrubvRyIe8V3vIvPvT61vuv8zeuJbZvPOhuDZrvfPMJfvJuKUT1Zv-v5uzOWgjMWHGgQyQfieJvuOsA6eK7gP3D4fdTV8iHmUuISe-6eI2ezBMfMsGedvXPNOEe9vxyuvDuzTGZqLYJSB4iWAqTzJK2UvNBO3ETdItffNf42B3HIgLoyOde8Un4TfwWvt+jUiWBoOLVQB2P0sqz4vWSRf2GlfyAVfXyJbnetM0fQ3gv4uwuBgf0BOLN-fOOT6emtetI3zePUUo+0OY+WQrezfuRGDgvnBIg6pohujf6chpfAOEKCDj7uPufbvLmc+e1-9y+chztc+ajzaOwa+8+fhq+m+6-xxG-a+fgS-ew2-m-O+++rb2yYD6+xGZCS-SuC+b6i+mAxTLmY7uhJ+EeXhp-8PqR3CIch-8+1-K-xCN-FC9X+Iq69Bt6I0oPF+SRUXSyFt89QJJBROiUchGBYUAH-iSlL38yrXQJV2luZgAbF3yiBDYQBY-MQs+xv7iE1uuBPfqALm6mdNUmWJ+CQDLL0gn+L-FoG-ygEyFMsv8DQJoB8jwDkM8A+Nut2IxWsb29rLHg8ncKECfI97GVi8AYEYlx2GPA9lhkvCTgMe8vSuKwJZan8xAoYXICwGtY2p88bQQ8IKB4x0ALuUgiitcDoC5ct+5+D4nII0YKCZB9IZQWFx0ZptpYh0JHupWQbhBRB4grQloNkFmDiQjPe4EYIzovYrBOgl6DXkiBTAXcVyZwfYKoqHpFBLgp5uoMOi7NnBoQfgHoNsSl93mhg3nmF20ruDFAngz4N4NCG6Deew0OIXJREG2CuIh0WePcRsFiD8Ah4KEJdS+TadK4xQ2CISkiiWBiQNocwUrWNoCh-6jMKoeQBqHZClGXQwIXaR6G7M6COjBIbbVyBeC-B2gt2qYjhKFC86mQ0NO0M6GFCGhOQ6eHULV75C2cDoK7NeQlDnRbgqYA-sJCAib8NgwAvvmANH6RBx+0oA-moXYbwD0yHXXZivzn4n0qKsEY-mKX0HVCB0gTZXvERIGioyB7w44Sf1Pb8hQQHQ34ZxRV7J0PhoAI4Z8NlIl9uS7jfAKuC6AtFdmLIdEaqExEQdrojUSESCMMC7NuSZgIYVIH-6QjSREzFfjsJlr7DrQxIhEfCLwGRDTkHPWCLCHhCciCCRwjRpCO+h-Dve8RXsDSOMHDRewAoyUT+CFHQj-h8LOEQYFlHfYOwMoxwZShkLascRGI-5kIOmQ1E269WJYcblUGcFgOjlOYa1mkCBcRO2CA0BwhUykcTwLo8YC8ANYsiDWJw7HuthhECUlUKKBClCNsAijYRno+EW6NoDl1vmuKb0WCNwL+iQYSKZVBg1xE5B-mAwnzJEJBLGiVMXQjwv8OTESoDRG2NArn0dDKinmCxJUTSLtECdahog8rhd1U4qDThEtHbKAAE7Nisu6XYfOwx2yU8kBu6VhDaNwZ0BSxFY41tl3FBVj+sEtVThZnTbcimcJef-qp0MDYMHGuDVTq3SsCgB0iAACRJqSAAAguAHAAk0AASukUgAAB5GmsgFRR0EdabQqwCrw4TUd3qyo76EiPEIl9CA5Y+bg6B-EDoNGDYqcXWy-HhZ5RtgbVg2JUCfRoJJmS5ghMqCfjTe3482keJPHnjLxN4+8Y+NQnA9IJVHTCTBJ+FwSS+DYgsVOMkAzj9osE4gP4V9DITiACyLoUh3tg7oyJqHEzKBNsB-jzaXQ65CUP9SeYjhTgETF9hV4OinRGEvifkEkn29gxv46AUQ2GKiiFJNHfiUxKEkhQ26FgKFsmhIDidUUAABlfH2wEgEyXaMZPZYBNKA3QXXMZI0CmTFAFmRgK5If7icKiPAVcaxC8mQQ3J6+RgJcwhw2SxwhfE-O-Qr5BTjQNrAPk5PNruEPGsPAgvFPEE5JHJXuInq8MF52jLA-8KKfP2nBW0xUULcLjj3smJScptBEYnZMggOSqITk0PhsB0hmDPgEyFQKHHo43o1xR4ONi60dIRSGpk-KAZlOaloRkpFKUZsBwfZqJ3CnUyQN1OkChwmBPrVUZBUsBdSepbAmVkGV6THs+B23HaStL2nxS7RbQCQVpzFDetDC0UoSfcg6lnTVpvUqkn-0GmjlABIKY5JZzUAH9vptAt4hrC8nyBYBH6YjMDKCADYLh7fCAXySEkQyQZ1IZwI8Kp7IDnsT8dEUekBK-xlpb03vvDKBHkC5eLDUXl2Qti6ICC-4lAa8Fel7T72dyPwPTPkC7S1pbApzqqgIDHZwZB3WXg8gJl7TBB4IsQPSMOQghUCZoULgf33hPSscEtB4aihIFXDIBtwhMcEFBQPC0qJnBbq1zy4yQSAdRMMQCPAFAiQB-hTUYEDlnqSg6+6Bsp9IhARklCz2PAGJndnfpFZIAuGe6VVnMEbZdw-qaxG1lDi9ZLQClKgOIDGz-R+UovlbOMJmye+wI1niwzZ7sibcbuK7LHLEYByNZIvB2aCmumBYpAs4G2erLFISE3ZHsoOdSF1F4j9R9sjbgbO4FbDAs2c54kjIVJsYFoRspYibOToXdNAhPH0Q8lRF2N0x+IiZnXIzHm8QiVCQkWoE0CDyXoZIzApSKikDzaRjpcWRKG0CuhQuS8jasPMULrzqRuXZ4a3PzwSy950shvkPI2oXdp+oAKuWJnXnuEl5PI4EO-JXmwso5fcmOeKIcHfZxRL0LaYEF7kGwY56bIBbGNKDptQF8cu4ooR1ETyG53c3cOFChaQggcTzSOEeRrhA5UoULH9sdFoAHhAJjES6SXwCiXSa8mUixFQvNF-w7SvYHbpVK5nmBQEseFQN1MFA5owZjjSIQFDYVfc7RetESPFIqkL8IxIY4gB6OxbXD-xCs9bAeENyNSgMmwYqZPykCRApFMA9setggXFjUxwGXFEYpjkyLfxVsx8OQvFwu4VMl0sBWkHjFL92GRiwMWmL1GzzOFNoiDoWk+CfM9FI2MbKouSyOKxeRoqwCaLWGqB3F04CVAZP3E4TJAV4oZAABkSaT4m0VZIWiaSPx8UkyHpPUkASgJbQECUxPAkkTgJ1wApQJOYk6M0JMwWpTXkaXqKTI2E48SkvSWZLiJisUiW0rqXCTChFgpOp5holLC6JDEwZU4qCAsh4pHEwoVyGMHjKYlaUyFjkAWVrCuQYirZAMqKUjydO1IESe0PEl4p4p2lL7OIvUV6LYesioScYLyUBioWhSyiXIvUl2izQcQSCIEssUDo-xjY4kEMrWGiTYIpy0oKiNDQUoRJBddTNIJ4yZYeJ2k78b8sEnqTZR1ovWrUpRVvLtRA5YUjMNLGgYbmige5ti3+U9D5x62S6MIAszdjz2qgfFiyCJWfN3elcalSQHRnDjzOEzT5beWJV3MGVZK6AQCrV46N2V+QJjoKpJX+F8Vawu0SECnEx8aRJfaGFs3z7LjNQX4YEP-w1UbDFM6HSwEipakqYpxLSNiZa2XY6LgJMfKMcxLu4Lj0uFmSZcN1nG2q9uP6aBnbkSBGrologhWglhWVNifOrE8ibQE2WiDWVgQTQHmnK6gtQ17EziRDzGZsSXg1oz1UVMVi2qRV5Aimc6jtih0DVnwTKVcNNWMKDFpmJiRZhsU0Qqkl0gjFa0VUHzXlmGRoD+kXGopnVBsWcRUrW4eqbAGa9RSKv9UcpA19Q4NfMs4l7do1dwcdVC3DXEgk8dSdwvFNTV+V013qzKT0IXacDxy6CqsNh0HVGofV+QN1SqswUN9T1uzSjtcrdU6Nr1tqs1fGprz3q2Jj6xSbCjCBGpjQbEsfqardUTY-e0gXiTpPoAWZkleE68beIfHgACM4Gi8ZBsIlZLk18a1ddpWyDAb3qdZGSCyHATSNs8A8A9ZIrLXzFC1g6ktcBL0V1kf06GtpWBs6WpKMlMGjYMkoY2ZKLMy6qFqhrko0aClWGy8DhoTiTiXMFBJtMdQ+Repeh1sCTZcxwyPgxNIgc1hUO7i4cnQ5De2Hljk34hmOSmsAvhGk34aMFDdZdKRXk3xhFNkmtQPpvzVd42yJm-EOZuoWIFVNdC6cKFgkCmb-2zmgfnpuc2XMEgUQDKPSECUSbHN2cKzbPTk3UBdFmmkQNOllWiCnmZJUTR8hi0UB3OjpeLcSB0aRbdFGm2gB5o6TEACt6Q6XP4v5XbI2yqWuJEVq03ilhe32TLesO3DTq0ifzZosyuxZ758tUW5iTkt1AmaetqgOzbFvJUzCz1Rmg2MNrM1TbYsWYyoEMNClJDYV-gyYXUg60kqIsIsGbUNvc21bRtcq4xPVpMHaUBtuW1zVBF22xadtdAYrYdueyNa-YLWnDYwHa1laWVVFdzT1sz46R-NG0PZPtoS0l9jlYky6p5ghWs8fw+FWAm9uxa8Z5AAWz3OVsjRYlEF8xSJeh3zFLDtRBCI7SAgFDo7fV9QvAanNwZ0E7tQQB7biCe3AtXt6KBQOVtky-aFA32zYdgjzREdo6-iqAR3S7q9Qh6LdUWXYBbbCtRWVObNgDsBXnhBSwyk5aDtMTg7TEjoNnRGhN7PgqAG0CUgs2LZ-iZlCRDfs5UcFPtZgMY2BaalGQwcLRCKUCFWRmIpyjtLIYXcOyaTbLjOuYqJZjpiXpzZENovtpTp5BPbHdbbQDLTvDQBLOtLwQPaLvHCZ8f0+oY1tRWkEWYAAnAMB0gJ6KKIq+4B-0V4SAaKIq68lMEhAvBmJeXK1uoM1X5luuJ6a6hiHMmA8zA6enyHsz2asg0AbeyNZDI5KmJG9SosIKTNKCN789L8bgsMvKj+E7AyyDvPzPxLmBB9Ik4ffA3UTx7c90gsRdIF4X8KP4yYL9RLrV4ojeyhQqnTGt9Dr6KKm+mmMBHW13NZMPCs-V8DBks6LyNbcSEjsiDTr6cigTIGaBRqUrTMl0CzOG0FBGsTWtLbpm-t45NE+g2y+taCj+iMAv98NWxqihZBmgwiQYKkj3pZBLJlkBbUAJ83EAiNeOdqVSv0GGkN6V9FFWJSIymZI7LoW4UAJj2YyazjkWa9Dphw4TYceMdBqktesylHqH1L6+NcEvub976usBz-agUQM6yUDeIvQJ+GhmYHsDSyTzopMKScGWgxB7A+WAYMHsmD+cpufmUUNKHlk+BwMQwGMNLIO95BsitIMz1QrhlYKzlC2RDSAkBmgSzUarr+qX8lgl0HXccmN0EA-KZ8dIVfvuYhgCdHupsXQRIgns91YgHDHkDoATI3A4B9MOWoRT-7UUgB4AwWzhHyMTkhBhFJAegPpHoBnY0IwyvCPRA8xme6I3xt07PNrYYhdLY-E0bUB1EoozhkcKUDaMWGaqag9c0CWeGL+G0Xw7mxHI5s9dgR7SsEaE0by+p5WHNIeXajX8PGIUAtkjr2YujVAsCgADpYBJFMKtg-gCNRKMydmlJqnckpQt7gIcBr-dCwGAbHAlWxr8TsdjH7HDjxcLQscdONwiCChAenP4TU7uEAToAAAF5q1QA+xoIEcYw4nHGASjAI2pwhNXGWUNxkCBIYuhaQ2eIwNsokeSMQgtjXx-PD8YRMmU5m3C5os4GaKkBmi-zfsHs25B4AnjsOokzdK+BwnfjSVCkz6B6OxwaTdJ7ZeifLBAA')">function is_var(exp) {
    return is_tagged_list(exp, "?");
}
</pre></div></div></td></tr></table>
    </p></div>
    
    <div class='permalink'>
<a name='p56' class='permalink'></a><p>
      Unique variables are constructed during rule application
      (in section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) by means of
      the following
      
	<span style="color:green">procedures.</span>
	<span style="color:blue">functions.</span>
      
      The unique identifier for a rule application is a number, which is
      incremented each time a rule is applied.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define rule-counter 0)

(define (new-rule-application-id)
  (set! rule-counter (+ 1 rule-counter))
  rule-counter)

(define (make-new-variable var rule-application-id)
  (cons '? (cons rule-application-id (cdr var))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6ShyQHrhwo4lpL7dW2lMEK8RrxK3XaG7qUiN1zUE3OScqRLpAkrsCNBYChZi6EsJaXrPdUhrfW3tTbRlFBcbMsKMa7i0m+cwhmli6kjL91QVnoUIpdB59ean5HsVhisXYsKlsDuyeC4p0CfAF6vBN9L8rmqwrlWmUrxZNvxchste72Vgfzk5Kt5hQV02w3p9tdByIaXmltIeXH5Y4cK-dBjY55Ozb2TumeC0JsRfg2z3bjP1EHNMJ4oD+01FHJAdr+O5rZ3xQSyzOe0Gkl2+wANQyf10g-0rT83E04QDnx0nQtFKAeGxRcl8QTCpkgMwmg1rx6iey+WtXQILzsCHWwOEQQOoE1Fkn-BHyaV5UXT835FVTwJyGWW2ikVNQhxwh8W3wSEtipVfDrzsHTxH0EzmTGm9l2wwLsAYM3C9TEO6SHgEKYEFEOWaAshHxAloIGygOXSYNEFnxH0GjUMFA0KuzoMwNXV0LgKjVUk-hQO4KdlAzkLomrzuB6UuE-0L00EeEehEI4V2y9xCC8J8MiGAn0mCGkMUCEOtVkMWXUSGQaFcJckBnSHD2xR8NkKMAAB5Ai0iHpf84jk5vhA9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgJPHcUAAAaj92gTzUeHAnk0cKMA6JzW3HaM6Mcm6N6PyMcW4QLGKiD0UDKIqPwFEGPBqLqOPgaO5xaOGI6MiX8HGPwD6NEIGJ3HKhGN2JgVugTQmJCNc0UNKAqCqBUM5XPy9T2QCAJn0GcDKFmgIO2E9THl8NUNiMcQNm2CVRxwyN2O+E+PuNmnOJeTIEQITTsPcl0gBl2PSC9TEmNQ+36PhOCCHRuPhMxIBLw36NlVXRuKcRSA-G2GFnGGxO911TJCvk4K31RIXnIWiWKMBOkHKn3CaFYlADdWpOSCjjIWSikV0MtlwOENdn7Cmi0TWF0KeKMJyDhnhP8BVPEJbHUNFMjnzkILBC+OoB+JznWWEVGS9UmVeNAEiDeK1NIJhO+OGncK5MdMnSVN5KcIkKDiowhLxOsmhPEBNLhOCTIKQKnC4I5KBHROskxNA0ZO12U0hMcmCE1GHEJPUWBOmOSBJNJTJKOIpPXSpNznMBojdkYgZICPYNZJRM6U3m5JKltIqkFNhGFMFBvDvHbXdW2HFNBKKClJHxlJAXZDlPNIVIbi9JVNkN1OMOeUcm1PkLnPVP1LzgNLMMj2dNNNdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIhbxQi13myFzPQAh3BghvMTyAKjXfIIkcFglLGSV5wfNh3ex104U8kFSkR-NvObyLgsWdUlAzT7RzX8D7SUg1IHCYW3BHRQvMBHXQoXIzWkNwtAGkIIsQqwpLhIpLnIswtv0pRfhzQYr4SlAwpSAzThDoFLEkFqBzU4u4uqIhDYuSAzVmMYFwrEv7GEoCAzWZEeiLAaDoH7jkoegUoYG2Gkv8AzTaJIv8EUBD1AFqENSWivA6MEs0vMAzWvF0vMH0t0CMtbivDvHMsIqwr7l0BSDssMuMtACvDbkMvMAsr33mOABssggMoctEhMtADABcootvwAFIwqvLIroqEqArQAgqM0vddKUqfLPdjUjLXLb8ABCI1XKiK-K0AMq8SIq+KoEbcTI5Kyqxy0AbI8wOquihqzI0SGyvK1qnqjqrKrChaZq+yqqpaIa4qhqhaXqjygIfqqK3y0AWaqa+q+YkqsK5agIJa8wEq-we3SUM+KC68385yWQsSCMATPtXQaCxPWC2eY67eUi06mC5yagBoAAK2jw0SuqbkEFbiItes-LEzAtKiIQXOSDuoQgeuOC2iwBOvwhgsvXWPEmdQzUZUyhzUxp7iCqiREqwsgGIF5lcF4o8qJpJvqjxvxq0qwpUscFgEgFwvpsZupppuCu3HpoAFESLua2aaaM0AA5SQQWsK4WwW3MxyJ6+gESaGtkFGjtUQy67YATCCJaodfAIZOWmre0Y+aW-ibWhWww5WooVW1uaA1vLW4GmGhW+GttVqHCbWjPV8ycEuXfbCP8jMVKRgP8ZEz6yQKQWBPCRmXJAybW-88PQEIChSVBV2vqF8ZIC0z0yKaoaMzpRQXfGw9SNOhMN+D+WETPa2u8ouVU3QTUw27eK9VU-mgIfOr+J2keHoL6n6su-GiumWqu8Qmu-wWsxmNk1yewxIQVcPESU1R4UoBI8LdkzpPeFO+shMM+XAMAD5JgY835U87gTAa3J-dwCgRwc0IcG5ZkRgX0D9SgL9cPXfBihFTcC2s+i+vQ1CCMAksG6De+79IhEY7cRwbY3NS47FCYu+5Yc+j+p+64ZMhXfIz9UB9fOwGIZkImLjGPO+LFCid20gUgeFISFaUmQCDBnyhgDouaDBpM7cYY4IMhgsIYkYyQfByG5SMh3QbohQnqEgEyTUFBhNMiCibhxwNh5YTUECAASCNO6K-vmJGPgdJE1CQbsQE1V34ZFFEG4Zli-oMG3FgdAEUYoLcBYFWkeCvvh04UnH9AoapW3AjEJCYRMc1Q1XzBFhx2gxMaMFRQgdx2cequNW3ECCfGfsgiHRsYCO8Ysfd1AB3toeHAPrbGPt9BMf0nSBFl-B52Ihsa1WTitUGGl2Y3nWccBgoYkY6O0flWFD0YCbsn0c-p2KUmGN-utJ9WtSyeTXIw8aqf7BqZGKKbNRKZgzBqAgqcqeTifBCf9y0eIHYaUG3Cou4d0E6d0bAamELAiLie2GCCKfmOIt0GdTKYMeLOMfIlQhmbGYEeKcYBYH9A1H-pxWWa+B3AAHJf75pBj7nLG-7UGJiTHNHOnzRGAlRvmHLJDCwcccgb6enlM-nu6lIM1tFZghig8hijxyAhi-hhREXyo7pw8nx5nURRnxnQWv5wXdnFACWcXjmunTnzmSWlG8WiX2gfmhloNiWvnaWjLj8o1-bA7SBg6ukohcIQw+lhpKRDGucmjxduwRpTGOaknRXiAc1GnC0BXVAIXG5Zp2W7hOXKBGZbkqQ+X7gVGFWiEXmMmlBxW-GM0fGmGhN6nBhxWKWRpWX4k-mxkLxyReXLR7h9XF5GJS0xdecbWBypTG6sTxIIw6m+hfU5WWM1gbXc4TqdXNQ2IgJLYBNHXzx7QXXtW3Wxo+no30IG5zrEygniK-GIih0M2+lJUgIhkLay37gK27IDXwH825lSGqLi3mBM262KIXmm2OFSHVWg6NXuX2hhnsWIie3mh6GUgBN+31XNXUMa2s3ymbWKWx3A3QNbr23y2E363dZSEGI6ZMh8DBXGzmd9ssLzXc1LWw2j3FXRT+z3T5ZKQBFNM9p6pGoPWAXoIVVNwTWVm3Hf2FmxKFX+TKoTxI9sn+kTUGpVsB8wCLtxWPD3MIiAPsWsDBWXmgORoQPDwwONomm9o4OKYU821a3GA2xyBqBZI2Qg15gv4EOAW33jXBXSHkWyONGvso0aOixSO2x596OjSh1CPRQc23kwBTTIVyOH7br7osJ2yJVyAl7V62BSAHpiw3BQARtIJNQo0RtLdLdfBFC-gQxFBWRag48Fgg9wkhWcd49LPQjQmcbZh4mxAdQPBTPQblMh1bPGArOsWaw3HvOrPk50gjPSATPRAzOTVV1AuZZ7W08WR5UH6M7JFnqHFqNv1LYM0257Rv0+5RS2UyhKhZpTPHAeBdASu2sBzzApE6BCAGgcvw9LZQvwucIyuov100uGvH6yz93SY6uuukzHOT2UhuZYQ0omUsoIx73JTnrAumv7hjOKvCXav6uH7iF+xhY5uAihuquIRRv5heYe4evI4933TY4G5oNAu1yaSpvDT3iS16AUWWvSvyuIvHAgVgT2hhuwnnqVuBvxJmuSu2voNOu1vrveu-uH7BuxvDvZhvuAgMzqMOuQxwguvJ3pQIjnUgfbrv3nuPu7TukDnNSAgQeUeWguuEM+zTuZuZaIoVAfP5u6BFu3v8e8N+uwfjuwJGItvjUdv3ShHthEe2fVvv0JQBe27ceIiluCeoglWDJheKfiFxfyzqfrIhfouLOfPPu9DOfyzbuNyPSo1+L5AVPIjvuMkW3CuqgR2GEQgrfVA350g2AgmMpNQ2OglghXeUWgkA8SoWBsOqo7BxPWEuyovv1ez1ytDMJjfyAVPILnrg-tl0vGvxJNsuuM7XwpF5PLZE-JPv15j7iiv3UoKZPxJc+bl0-twve2PF6epNsGgMo4RsUoGQHw9tfd8Ij362+ZevvNGG-DpkCu+lB++m+DHEO3GR+E0B9J-B-z8Z+x+GPV15-p-G-kSMoxzrUh-dBLDx-mut+lD1TNGs6v59+-8d+AWIj6-V-m-T-Cft-1C4v68P0P2jSnyf8sOdwfGrCtMO6tBz7mwP+uhQ5m2TYgfpHAqnWEOHkYCbweoKgVQA2GY5ndeuMwZ-n6yQHGJnq8-WRNfynDr9dCwHA-jrz9JVosB23GHhN1QSrNiAIA1oIwHAHQsoBBAywqgnSBwClQ8-SZMv3B79kl4yqVVGgOIH0FcebA6lja10AiC0Ot7bgarzlgNw7W+vSPqTjgamkEBirR-meFugkoWAwrWwvMCWC1A7EdANrnoJ4qSo6AlXT9kY1JjlY-GJggwWxHMEZ0XmJbZdEYKVbJclqmKLQToPUh2DDBmg7IEjzAzlZ0e7NbYH4IcFtYX8l+H2iShhoRDrBugCITUAsGv8rBbg2wXlFMGRCnB4DFwSmRCFvwPBS0DKG4HDwB0f0WQ+wcwiqFmCgUGdUIUpGKGvNvBeGcrLcU9QBDtB+AJYBrH+qkRc0u+HofIDUh2hLA2QFBt4NVoDDYuHHeJMMPICjCvBEw5YWc3H7MVvM4ws5n4ypSGsYh5Q+IbUK-jJQPsXQmus0IWFLCuhkwwIWpi2H65FCx-P8n0D4h9RwCwDKTqABJCghz+kwKRKQOkQ4DPaG-QYPv0sIrIG4pA3nuQMyh+Nj+LfT4d8Pv7GFnBIwjGI4Dkqm8OBOSZfkkPkDIjD+Sdb8miNjCYi8i-IUEEiMIFDDhyQTfAAOh7jDE-G24ekaGkZEYdXOnCCkXiPVR+NpS5gQ1k4Gf4UijAcIzxLYXAg1Y3hbwbkV8PxHUjBRfAzcCKNsaLNce3wiVhSO6wYiTeeRaDCKMaHShoMGow0VKC1HoiyR1LA0cTwMhDoTRNopyHqReYsiGRMLdQbmgTQj0ZIqw-Sh31x4GVmhVKb-gR11Q+giwGYVjikx47HBdAjrWUY61+EYDaeZI5rLV2EiWxzRpI3UTS2FCO15RkYmMaMTCFSgExD-I0imMSikNWR4eGFjsJfgvNIyXothNcIrGzghIQ9IkfEkIAUFG+FITPPICFbdErRA44MSIHk5jCtBLXNrqZ1SFJj+IFieTlONe61A18ojaHgdwm5AxhSL8AsHQHdG9iXWJXXoP2PVTNJnqpnS2KWwHEQiBcz-UzkYAoY+MCwpnYelYFAClEAAElzUcAABBcAOAC5oAAlUopAAADygtZAOJD4LW4lisfVSgWKASZiyo1I8ft2LZAHiTx3WCVuOIPEVtoxiEkkamhebjiZALQBCfQE0YkS+E3HN3rPGS4AtPx34v8QBOAlgSIJlEqwJ7XmDkg8JtEuGphIxi75xxPog8Y4CPElYkJQyRtHxNoDXhVhxHKXI3xokot+JSEgkXoXH6rD2QvQgTI-G+HwpFoQSFTgsHkTaJlJZHWkPpP96kVCJ6kiFrBJU7mS6Jak6kaOLsCWAa4tA1vrOE9rBQhIGks8bT3RbUcfWbYSgLMF4LLEis-k4VmWCT7hSM+kwHqJoLZDHgZAvofjmCSoyoDmOyUJkAl36BRSh+BA4KbFOSY3Jwp3CKEMh3Q628IiKUxwGlOkC+hiCx7U0ST0sCpT0puOZdslERhPs7uUfOwA1Kam+hgpbkr4aIEaiwgnAYrSkLEWgbd9ExhveJCNO6kBTKyB7WgcNEDgbcqynIhEaLzEC7SDIQOW3LrwFh5Ro4qCf4dgIH64CMw+A5RtSIumblpE648brCOCTBB6R+Uc4ukDWnNTFA2Iufut2lAfghG03ScgLmQ6iigyJqTqY1O6nEFuIrjQGb6CwJ+d+w6QX6ZqB660lFBp7TAojNGn6t3RTwyUeoBpD59b+fJFCYFP4gAiOBeA4QmCLLEBBhYWAmqqMw3GZRzeDcEgL0R1FwTgZQInETgKGQOj-A9pF6aMR4FeshRywSYhzHxp4A246siMP8JwF3TR+wI-ATLPBHnxIR2s7mY5zymjMhZlorflLJBlBRcRWAIRo7PMDMDsZG0LxIdO74Gz2Z1EPdsLHmDTTwkPQNYDLLZnGENCasjWVlKrQui2RbokhFdIlJRy-M8I2mXZOfbW5BZBxYWab1UBtdVA+PZaUoMIFVjXRNvcKDHJrFlzIwLnOQFyLzltY+RI+RUcKPKxFiAwbsiUX0CpkPB8+uc26gXPULNylZ+cuGTcwpldzyCPc8PJnnx59yUJMVMAOrLbiKiIiucowFqjVGqoR5fjTOThEtH6jCh+NfUW1nakpBd52cvIqW0PnFiigpbE+VLL+JOjwGFcxkfuKcDBS746OIVt-kCx1Z0caLfyV+Q6y0BFg3Y2kONPH4W1xpA+UqfPggWWD+gL8XHJd38kNsbmULaQGlNqCipbcvjcBhbRQWX0OhlpB2kWGinTzgpsY5lsqkWEYwqFuYkERtLnEiRFgEechQVHEgeTlCQ-JwBlD8mX0VEz1c+ZWODZKRz5louMbZIdEwhQF5GVhWZPGmnztgpY4wjeL8zCK2x6YukaXLrF8IMOL0BQPvWZb8K2Q8+eRRmEUWoJGxVgb0dcI0VpiN4r4kSIxMcCATdwAAGS5qQTtxfCfgjgSsCOTgpooFyYXKJl2A0JXEvsZJL8Y4SxuPEtiEEoEm2AKWVE1MP5NFAD5Ul7CjJePxcVuLPF4ADicOFwkJL0lSS1NJpK6E+DjhykYSdcNEniTylcvCEHfn8lySuhT4Q0XUq2HzEL2rS8PO0q2GYt3RHtRJSEvUKVKth2k+QLpOUjBTW4QSD2qSA-mUKbJtC2wHZMNEOTVKYy2ya5PdEPBYg4eIxbmJzE-MaF3WdSROOyC74tJCw2ZUUGlJLVkoWkuuvsH0F2JUEvMBNvhPoBnK8x6y5CZYXanNDRlZSyRYCrsl40ZyZw8mQYrZB-N-lVy1YZvCkRagAa4kRcYx3+VSSbYJyn5hHyLnoqSAH02Hn40OUAV8VvzZlsirOEvNiVAyS-BdmJYwr7hb8yJeSCS4qiEFQ4q8RvHvSFhn+fK4hZ6Qo6WAnJFUjMBhPImbxeBB4pLjKu+5SILx4kBpW92PEyqeuUiTBuuBnTkTrlzvc4t0snHucdw5EwZVoMJVQ17oLXcqOavkmhClmvy3QM0J1UeThw+qlFXexkF69AMoqoPFkhinr8MJ8Cv4c9SQmWwZFsgcjONP5hyq4lXKwiSdJSDKqIulsNVThGPGSStVz1N1TOlKmrCTajkY1RMNNX9LRAFq7IFaoCCqAbVZa4KZWpYBl5+wERVZa6psDur2FBqsGSrwTkGwC4hnWYKUuOVB4JV3YGVesPfn+SpkMkipX4y44fyZVLzLjuRJnUqTaAA+Fdb8rXUWSN1BsIcAGrHVSrj13EndasFFJSJmgPy2dRYhcXMSgJIE8CYUsmB3r-xD6tid4qdWzqXVPlK9Ueq2hvTtwFQdjn6s45Dr2FJizeAevFWlTg1cSyDYItp5-qgllsPJR4q8X8w0NBSjMbjzbW-rpAw62uGoswhAbygIGy8uDjrIwhPqI8BVr6TekbC6Ns+UctRqIhMbIFy6EaCw2sw4IDoNGoQMJ02i75JB3GydJfD7pzAHA-GouOxoQU44uNzG32JxWk2xkhNHG5TAps0Y-ZJNdAFTYJtGjCbV0mmuYXtHiCPAHQbERFQpvU10chN7o6jdQD4WsaBNtK+4ZOpZISbnNMmrzQ-D-asqtBLzBzXwu00+aFwxAPTc0uWiGLEVT2HzRfgi1i8wh-mm5QRlrUNVoWQxPFX80fy0BPqjmotNbmU35bmEUmoiGNGS1rCEFHBHTSpssmlaBNErXYeA1KHCgDhlQj5TUqUhZbjFT2ZTWxr60NbXNWgjUsrz0o+UitwW3jQNooCihpt7MRLdAgq2uY0t8xOFuVG625i+KUm-LbX2ERmaVoQEIbTcsmXeD7lTcR+E8oWgOyIQjGjbT82riiBzNMeKlfoy1gPyEenomxc2J6WWEn6o240NYoo7fbJxzAp2ekCpQLb3iBhFFbEhW2upqAqLHcHdrJrClHtDoXbfAR4mYMABiAo0vkg-5j0J64QHOpsHdEzsuWkyQ7YQO7UTRFSVSs7WGUMi0irt0oCkAsHuhKBXeutKgCtHhLbMtYhApRXpXEDb9jKxPIDiLrbk00KoOHaqBSIJ6MBQ+2xB2U7ICDbhydg7QAmgohDplPtQOg1SuT0LOcId+kJbbDptXq6A6arCnd7Ey3wqqVOaDXXO0J78EpEzIF1vxX0GWwAAnK+B6ie6eKBu+jStL2gB6cIWk1wIiiHADxvuvAiEvyqQHyzIIdgAIgAAZ4e-gMPYoFua3NyoaAfPdWp9l9r0BmehwAJWpZDge1EIMPQar-JuAbh2gtTEMjsB3hys+MwaeYBr0R769Y0d3TpoEoTSZAWCnBe0CgjPAA1R2yrUaQq3m70tmCniiPtWzrb7d2WwCPPuwVmpbcGO78pu3uAvaMoaWxZMKCaAPAqaKXWnlqEtgptagzrV1vy1xYH6ZOgxZ8MMsmDCwEIjAE-aTU8biRtwDwVIoi2+5Z7twt4O8Au1AB-N7AYzGTl2WsoJ0IwWeplqcq1BeRLp+sYwATJpiMR9VFHKjkWCHV2IUD33BdTFNHWrqt1s6hnL8yr0czGIH+r-fVB-3LY2RWgO9CXs71l79B8xUA81HIlYQCDEUng7eHahoHo4mB0Q4nKKDAGhDd4SA4lAYAyG4DPXLvdcJeVVKHljozslFXOJIH7tNornVen-5KAtQ6kl1ZLs1qtxDAcvZHUSyYZ67bFPSoMZTzzgvsN8o5bRHQGPCIpH9p4sNRfqv3ULU2l4O-e6wf3QGRIz+1-cwsIEWIbDJhj0diibEG6nDxG7HEgt0L2cbm8OxuHBITRyj7QFjIRukF0NKgDDf-FaPEY1oj4Bdv+UXZYduIj0BIMUlQCQHU7iRU9fivbVFNKlSt4pX8RVM0YngxDLYpUlo8MY6I8BUjTR45WMbcCaNNs8QY8F5KS778ejoUiqXD3H4RFgmOPVVGsZFZ9HCWQ-B4Quxe23NIxigG+QAB0sAi6ksLYVwP4Ag8ejCHYZXGrcQDIuencPQfIIwdXwpxxFecZ46XHixNxu4wHLNSUcnjpzfsaqkICLIhkkXCIvCdAAAAvA5uYBuPJA3ljx547UbeNonP6jkL49uB+Oah3U4vbqO4foBeHNw5x+4+pFxMwmIqmzLCpICGINAhipAIYjC1Qi3Mz4eAAE8YvpMQmmTejFk5Kw5NcmeTmLEk+1CAA')">let rule_counter = 0;

function new_rule_application_id() {
    rule_counter = rule_counter + 1;
    return rule_counter;
}
function make_new_variable(variable, rule_application_id) {
    return pair("?", pair(rule_application_id, tail(variable)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p57' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	  When <kbd>query-driver-loop</kbd> instantiates the
	  query to print the answer, it converts any unbound pattern variables
	  back to the right form for printing, using
	  <div class='snippet' id='javascript_95_43_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (contract-question-mark variable)
  (string->symbol
   (string-append "?" 
     (if (number? (cadr variable))
         (string-append (symbol->string (caddr variable))
                                     "-"
                                     (number->string (cadr variable)))
         (symbol->string (cadr variable))))))</pre></div></div>
	  
	  
	  
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  After <kbd>query_driver_loop</kbd>
	  instantiates the query, it converts it to a string
	  using <kbd>unparse_query</kbd>, following
	  the syntax described in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  The function <kbd>unparse_term</kbd>
	  formats unbound pattern variables using
	  <kbd>contract_question_mark</kbd>.
	  Note that it needs to distinguish genuine lists from pairs
	  whose tail is a pattern variable (and therefore technically a list).
	  <div class='snippet' id='javascript_95_44_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+7gYBIQw+DMGwUBwIgyDoHwPD+wt8jzDRG0bno9rELMkvI1IkyKI1R8GBsaQAPy6XI18zPvix9vfQQAFzAlKpLqiKF-QIT8g7UANIQTQ6EGzUQ-kKDCYoJT-z7CfM+wDzC-z3PIA8METy330OgswT8969QongwBx9QC6DQcNTBiZXSlmtPgwhoBiH70kCOVMt9UEENocCd6N8KF32Gmw3qAjGx7CAtQ3hP46EyGJCpESBUNKfxEXqQ0nwkKqA8iCGCRlFAmXwU8Fhw00g6LTigqhp8ZGNDkVTY2qifyiJmPY+G9xmbGyVuzSx0iWFyOTqHZhaiSEzACWmHhfjgRpSii7AsQibGlGcSDRcXiuFCIiXwwuxdS6UVnEEpxoB67SB8iEwgG0kLDwkj46xxjTGlB2rZd+05VCD0qeMQx8SeEJLSL-RQzAITcOAgAVWIAaYg1AADudghR6CUA6UAABaBZVD34ZWxjjQp2SfLCBeIPM2GZKD4FAKoEIzpKAsHqn9SQWjhD9mYpnTZJcDZnIub9TR1VVA7MKYwKIstzCDCodIC64gjknKkGSVo1yPm3LJuYc65BNh0Ctgi1EKyFjlLbhY25tS6m4sCI6BQxB6TUPBLQGKJi8U-gqQZDkxlPkkH0DiylzLvm-KZSyvFFSSXMBrHcGF3I0gyRCBFJpqgXTIu6Y0J+IrxySEfISu44rpDCLqb-Vo7ROgtAGP8wFwKMzmD6dQCEXyWQjLGZM1u9t9aaHkIs5ZRTBRaX+bxHSDSJRNJMpOOgPD7mVwsi0n5oBUQAD40UHwUAG8MViz4Rk0LbHeuoQlytoHVKaEjag+v1UKqQ4RCDvBKasiN4iQSWDWofTp0b+wmOcWUotKbuofWTfQDxcSmxFAyXw0p5aiUNt6l9RQP1KB-WqWfbcOkk2uJNt6yt9zDnHJCJlTQ+tDZExtnc-VC5qTqo6AkLVGwAXyCBbaudYL5FOxiTFX2sLGgyS7RGoW562apl9k8aR2qdWHr1eg+FBBwTnseLA21qKKV3qWA+xWztL0S1fdY99aQT3CrbIBz5f6IPOUA+uilMlwORQA00uDQQD1Ht9aUW97DJ2qApa2R9YtTZrpg6O9BwxAjDCqvbN1kgSDVi6Kof++yPSsX9ZIINoaWQACouMMN3WJ4MoA+P53tnQdaxAxR5qgtgt8uT6Bzn1QhqQFH8HXrhbQMIAo6ZBqZkbeGqS9AdLbV4Ajm6PZSEXcuijvsqNELk17TzoBf7110MiZTqnFZkPaSh4WaGn2u1Nv2dlHKzBKbyCF9TODULad87ivGnwKMKxs3Rq9PEWO6ttRuh5WC0taccWogCYW0LwIbH2SVPTvOVAI6xhN-Ik1hMGdI+5P604WYCanag3k+wEZ-UHdaQKLNJZU9QNTdXtNpwFcZp8oBJP+l3QwVFHHNvJh41NlQfyHmgdUGnCMhLiWn1Jby7RwdjvxYS89jb7IpNdGnZll7jRpEKd3uw6J0XW2SMzQJ6k2XknbGQ75s7+UxIqKMZWv7ib2GcKYekmd+qf1NIs2dtHismltLyRWt9GxqzQNFKK-HFP03NheE0nhBGZL4ZdYzJNS3wmY7J1JmnyGls05Qegs7-PCfKKqYj6RT2zCk8OHgBeTBWDsDXlwTeaAwadZ1rmpYDpYXZpG9kXI+QdegGraAeZ6JUVa5N6Y3pjB+mqAdLHLIOQ8hUKdNghQLQXiWHhkOro391k6Qh1oml+jhYvAu1zpzExkoTQ8JCpCwZMuh6sAYiPo3BSM7lgHcF8eiVQoFp83XF8-zV0+Q+PP9JE8twIG3FPdL8DF9Yo9UG+AXiHX7rqCpWKm-bWBk9NvoAXqd-5Fym7PKYqN-uTJFv+1B8QzHYzCHMqaIAL0EUafD1Y8r8WLJ+VRQR86x30sJpvfnOl-kslBnwFj+J3lkhwn+-rSn83xPHu+FT-I662QIOZpoh0XHzJVTD6yzUvF7Blw2RwyXg5FUBALB0VHYggPHR-2oAulTm2UMnkEzXWGj1AFBHBE+UwKz2GB-XeAnD1gNm5SAL0AswqGkAGA2WD0wKsgwmnQ9TPzsHwIhAa2yDYPHHjR0mgJJBpxMiEPkF+BwIeQ7DEJrzEMA1EMwIkK5lwN7BkMX3tgJUCwANmFu0vWsiBXp0e1AGcBNAnGsVf22l0CiHeBYIbDNgt10isJsP3lJlNy4NUCYJgJ4IMNABcMZWMNMO0Oa0CF-hyGiBsO8LNgAB5HDwi3hVA-CqNiE7cjVVAWQAAVLIdRYgQUVlJwFWAUSBBuf3YCUAAAamt2e1DEiCiEOXTn0LNgqNkxZHKMqIS2qOiDqISOOyrVxVt3twyKyPwHkAmTyPZkKOyUoBKJaIqK+0CA6NqPwHqNYMMCaNZFaLmPMAWK6L8K-3ciyAgSgW8OQ28NB0CGQNmBkCyEsjgMaB0jm1sN4MMKBSM0FRLzoMeJeM2OIVPiuOoEsk2PxRQL-yHioLu1+02N-m8KDQxA7EiOCNxSfg7ESJeyhOUxzk+NJheF7F2Mc2dUaBPWoRhMtyxFc0oMAN5VeKCENW4P0NZBGUyFaDkw5CdVKCIy-TqR-TEIsygOYNJzqRkgeLkMiMII5EZUBPOMwPkNFJJCKzZP3XgLsGoT+JuNg1Z3tnJ2ONFVON8JUDOPMAuJVNgPMLKzMHuPRMiOeP4wFPeK9kxIRMSWjSNMBLhl-xqO0N0OAOsQdJa2hIcLhIaJ9MdIukVmRKMP3iDN9PRK4kDOxI-x6NWzSABXQUJNPmJMxHIKXXJJ0Inw31NOpJSNpIwnpOIEZKJWZJJDtUKSkyykTMIxKxIzSC5MwJ5NQ2uT5LVJtNYiFKlJFJkKlxZTkI9RlPELrJYwVNwOVLAVVMY1l3nmqkXmXiV04A3l4AwA12zBeUuXeUL1uXdgjkSkv0ZBNS3LeTv3tlPL90kHORLliSqz3PHmpAChhW3B-UvKuXl122SmAQAhZCVFk3MCVFxXFPqVjy7AArMC7GAql1-K4IgrwLBEYGgp-Nj3zHgvzGQtAp9E9kqFkxwukGGhArMVjzqjoBLiUEdReFIvItyJ-CIqCF-JpIgppLqXosCF-P1HeA4WcDoGDE4reG4oYEaDYvMF-LKPgvMAdxeEFEMBDTN1aNopErMF-IWQkrMCktABkpE3kuWUUpgtjxkxeDSA0q0rkvmTE00rMCUufh9GADUuOUd00tktDXmTAD0pQp9AAFJ7KTLnL5LPLLLQBrLfyLcJLfLtLzcMQZL9KfQABCdEMKxy0yly0AeK1FaKjyu4FkKInypKvy+ZGIswDKrCrKqI1ENS8Ksy0AMqoq4K2PYNXK6S-K0AUNWqmKrK4NcqoywISqlKzqtqzKtI2K+y+SwIOSswWK8wHXYBbkN8iIV5K8ipSIoNdBf1JUF4d8nc+MWWOa85bcgveMMUZwAAKw9x21WqLnpTsDktgvmu3Nk2fIZTiwpU2oOoJFliwF2oWquXhTyFNgswAl-O3U1Vk2Bt3Wsu+3Ytj0gGIB3TkEorMBhrhv1ghshuUtj34skFgEgAgsxuxtRrRo4tggEoAFF4LMaSaCbIbfyAA5JQGm+yummmyMhLWakzBFV6362sZa1EC6yyI5OS6Q-wzm9mv6na9mvAu6t5JtdKWsD1Faxof1AW0NZ8uLSWva6Wrm2LBgnSB1EtDWxa6FEgXZH5fMDgx5Ypa8lTdVRgYpd046pQeYJTCIJdSjZlV6m8nIQMe8hlAcxoQeM2voIIdUhaEMyBD03M60c2zQ-PME8lSlALIlVQV6pahol4CU9W76z4LWkQqmwIRO7oFOtuagE6s69O77EWp8P6+QvO8wMg3WLMiO6ggwbcHIBFeuqIIOEwmYOOxIWbLYKBXuqOhguXBchXFeDgdebgTADc0AB2p20gF2gnWVZ0YOcSWAp0c2rJBuJuWcScYI0BWPIpRuLTWTLleHKpfev2tIf1eek0ReygJdQDEtNe00E235DezQAcdBORZBfe9BQ+n0B+WTY42yP+ze4I3pJ0dQhaWGRgA2GZc4B0F++GU0T+2FPTDhSY3e-IfeozLktuP0tooIUBpBGA8+9SS+iBvEua1+i6ekPZCzf1OBhBwUWZZB1e1B6dPZdBscyuVOjCdMlkOCgBhCggjsTh8Sa4PZfwgKSR00aRn5UmXo0oX+ARhsIRtC0R+R+hjhJRn+2vAWGnIRu+52x+5e1fFkbRxCq6w6043zW+x2++pe5+nR9+z1CByBsR41QhukyWuhxR35Os9k49UFIkaUPBkjGfWPYBkMfQxBOyCJ6h-dBssrW9aBhUtjBaa1JYfeiw8-dw-+qVNibOIp1RqhQsz+ks81KZN3Sh-kHJ88haJ-OjPJ0A+KKQQpze0R8A7p2xCp+3Scap8ZWpsXN6WgBVXivYuwP0RQAkL4agVOY0FoNoboNpxU14QUG1dBoR2ZxgIMQ-GZlZjhBR-ZqiCxdZ3AjsFpjxr+kKPAf46+eZ84CCLAvAvNQpcsq4cgOecexaN4IuKYUAMGY5C6BaMGNXNXAhDZP0YOVQI0TPTYDQRgFoa08rS2a2H3I1VFn0p+MGroExXpa6RqBFhydiDsLFlF5RyMpE9iSlnFqjfzU0OF0l14fCel5RmB3UCHF5nIVQWFSbB7GYXloDGyrKsTEVmTOs11A4yBeF+QA2HgF4BFyQF6RsxaCWpFZwEVizWF0geVxVuMoiI7YV8CHIOU+DUFLVnVhw-FloKk3Au1vEswEJ9VwIH9el3V5l-VlV-gI1zCQgbVs10c51soUFT121olDVcGt10jS8J1ilV1-Mm9MA9l7BbFvhpMpjCcg0guZtfZg1yQJV0AX154xYKkn9a14Nr1ugFlhVot-1+7abbEV5i1sN0FwNm1jEO1h1rYqwbEY1oVltnIa+0xdwgCFV4t9w0t3U1fZ6tGyC-CE14d0czN0AJNilD19NlFmtutg2P1tloKTt4Nttgk8N7dlodMntkjAASEaBDIHYDaDdeeMTvYrpsenfrYPdP1HYSy4mPdbZ4jfZddScywfd7HpbLfENDfHMaGY3xNzftmotglIHiJYCpPMk0dlc0CscpVAWw981-jYAcJZEiAun2dw+ZSfjI7ma+36NSJYGGYtVAEefSyrJFdZJdY2eQ-IFQ9fIltY60xXaYY0RXf5YGB-W+Ys0E+eeDbSLAUOK0jfI+dRRk6ohFbSJo4o+5EYNE+cEiDqmiG6LAhfdnfLfyc4JsdAkoGDag5r3057X-2s7k4c8M5+As5Ke6Fc5qPs4M-dNFW8+iHNt7EC5+EOeML8--0iHbJgOc9M5kI871eM5s-i8UPC5ju6Di5HbM7eYS-aepHcIh1C+S9s5y-8LUJDt3CkFAh2fy-P0jiPLuCGeAmAemfECrr0Bs4jWa7EJeBIDLPpFAkkABaJRyEYFhR0g0E0BKU3vVcwZq8ieTbW1M1C6G0i6Hmi7EKqaYDFJg4eVW8jbaB3QJao9ewG7HEYGG7yBaDG+25kMy1-im58lC+Q1C9PY-WI0wa6budjZwlYncKe4IkQIgZeEB96bubXY3a7OpEnFDfg649wMB-3q5f5FDFyBYCwZtXzzaEPEFB4zoGLZx4ouuDoDVbq+zA+IJ4PtACJ7x-pFJ-5YMfcLhMOl-ckr8rR+JEx60Np-x-CHR8ffuFZ4zpe15-p5ehr0iCmBdyuTF6F6osPWJ-F63oxcwkOlEbF9CH4EZ-6eZ+lmF8pX5e0ql8UBl8+Dl814Z9rrqSN7ks54x64kOlnnuP565-wEPChEuq+TRb++pHd9gkJUiksGJBtAF6VuNoFD9kEI98D-t9D+JBV8lDtPt+p7oIMZN9ttyFl8V7p7dtMThNd-Q9-dt9DX9-IFj8L-j4d+nmD-Q+d7ZwdCu2vIlHOluFTCy7eeEiAjy42AG3W7W8c425Uy2475eAq9wIO+7ajeO5aFEYy5K9M677H8UKZ4D4HUkE4tQ-O3W9e-W-8KX529lJR7EFBHL-X83-iNP6otgmX7FI8+5JI-wFXC6BaNEZZCf9VBf4McJkaiv5p9gkMCiNuSZgdPtVyPDJ0ABxDEBG7ib6HIZabfa0H-wP73d+mpyD9pALhDAh3CXfanqf2+gb8UO8RXsKf2t7DRewOAtnmOzX62ACBvHeIhIwAGUC0aHYCgSL0pQyEvG7-Z-i0BZDH9pkNRNuvVkr7G5ye3jDSiX1azSA2uqHbBAaA4QqY9mJ4RQeMBeAsNdEQENQT33dYS0L+IMJFMqgsx4Dz+hA1QGoL-7KDaA5dBdrik0FpcNmugpVCigxBcDP+PA0Rmn36YglBBKmOPg4OnASo+BG2NAgZ0dAQD0wGzaGOEBqJA9s4JAtrt8yD7o8DWxbBFmT176asLM3zZIcqwVbD4NmO2Kfkd01SsJJBfmAUIEJCHIMVW4oMIQKwloIsLMDAluhELAEQgEWhgJ+CyGAZlCEWrdKwKAHSIAAJEmpIAACC4AcACTQABK6RSAAAHkaayAVFHQR1qMxhidAk5uR3ephDvot-WUh50IDBCo2DoHYQOmp4JDKh0jU5tsKMG2AvGCQlQJ9GuHtJwuDwyoJsLmbhZzaQwkYeMMmEzD5hiw14f20uEMNnhJmU4XcI84JC4+lQyQNUP2i3DiA-hX0OCOIALJ7egeNYQZw+FnMIRSIvYeIQ8729rkHvf1J5i75OARMX2GQSnGSwWD8glIxjghTP62BCR1vdYah1xE3DqBxAdkSFDboWArY2dBbOviQqooAADKsPtgJAJku0YUZjxyTzNKA3QXXAqI0AkAgWqKRgOqNFFAsKiPAJnJeB1GQQNRYo8LhDllEXcUufLUfkKMgjH0cG15e1h53cJdDZM7hE0caGwZCcVRjbDvgOECGWB-41o4NlIEiBiphRdQ9bF6MVEn1lRl7ZYSMXlEOifRCY8ThsB0j89PgEyFQKHEuZxsOmF3HZhSifiWjkxHfbbrGMdG+j7WFKORN9yDJPx3C2YyQLmOkChwOweDJgYEFbHtjQ44Pb+qqjqbtYNmfYvMZGPNaBC2gWPVFmKFwZOhDCJnbLloMQ7ZNLAOYicUSPzLzdwBo5X7iCmOQ-81Ado-cUtzeIawdR8gPbiB0-SlZMsA2Afm5ytoxcIm7Im8UEBkjOAr20-TVICSfhP8j0gJX+OOI7Hb9B+r3d7lmxvZQ9TEeuQpoANO6gTOxiBO5H4FeAbi2xE48AiozxRqNjs147NrBweTIT0GgQjLs3xBCoEzQrzBftl33jsj+sEtA7hFwgmbdmCdo8fsEFBSrc0qr2IoTG3zIyQSAdRWgVvxe4Bc9+Vg6wQxMP7QdiGrrXcRCAjJKFnseAMTBpO-TMT++qKF7uxNi56k5Ja7L8f3z4l2tSxr2USRfzolYE2BZgCSeOHAludxSN7VyWaRX7Dj5+do2SVxNvGfdQUM4wLFIFnCyTOJihCQupM0kptWILgnIDwPaygdopMPRvoFhsnPF3xmTWeiJKWJiTL+U7A9quN95AgH+zgj-nFMo6PxgIZUr-v02PHJ18p1PMQqAOLGaBDoUA8wMQhSn544B2gV0LRNakbUCpHk8piEBq6aA1Wc-LqfSB6nUTKA-Ug9gNKMlmBIpYmZqe4Vamwh4QaAgguNOp7ZSDY1k4gQbxezECXoPYtIPtNykxDC6x06wWkAkZnS7JVKcKQY1ikv8Kh4UYUZCCByJ8Gu7USDMyBvzCimmx0WgAeEOGMQvR5tAKFDJryxiLEUMjzvhQxIQcoxuEoIIAyyoqBcxgoHNFeK5AGMAoqM81vXw1JbIOEKYpYF6NUGLB4G6g3YaAFsF38scEtA8IbkpkWZgxHIUMa83DH5AoZE2CWpdMcEWYqMl06yWYN5HnTGgj4cGeLhdwqYoZ0s0oEzKP4bNhZ-ggwY-24EVSMZkg7-oWk+AsNJxnwCxGzOSxKywOAgqwEINr6qANZ+gvuLxEFE-DJAUwoZAABkSaSwyQdKIWiciBKXokyASKWmiDDhnwSoZCORGiMLhxw64EHKjn3D+2jwymSZBrxvCZgCc74cMLdmezvZwIxWKCNTmJziRhfbnknU8wwjK+cIhEYnOVlpAWQXojEYXy5CUCq5ds90alGFHNza+XINrnrQTkhzCplcEkWX3JF4ovR2lL7HrREheiTZG1KWUZMoEBzi5Q88KYELNBxBIIxsyWayL5FyTEhCfUubX1JGwRx5pQB-qGgpQkiC66mXHjxkyw7owRWw8LLvIZn9lMsEggecKJMhvyB0-IgcsKUL5tdQMkgHebTMRZALa+0Y0zJdGECZCrAnYLZksBYYojQFLDTjpXDgUkAfxAkk7sGU9pGyIFpgiBYSMPnocDG2C-IDcxIWKBoqB8lPh9KtptAHQcnEgUjP0xRCjOTQtCT4GBA1ceFbXMIEamNBoiXxkchkRgzCZ8yWFcnSRRW3qEKsLMNc+tjUMkWhsf0pAGwMGMVgMjyFCtBLO3KSGstURL82gD3PR6YLAgmgPNAa2LBoiLFxIJPHUncIMiXgEgrRXbkSDciqIKfYJolOdR2xQ65AERZTPEXHCTZMCjmryIsyyyaIVSAWRsEwaVC2FvIzDDLMUW5FUUKig2DUKRFrtNF2i7xbGPt4GKOURikPiYqbmYi12Niu4FUu7mYjf2no4Ue4r8qeKdFYSvxQlLvH3IOsMLY5rGKNQ+LZwkijhZTJaRojEJjpJEPSDnmSKDGsykZfkHUXZ4B4xzBkZMrMXIj7kwiywMsvCUsKtlnwmMILPWzZBn5Jy+gBZldl-DphswhYeAAIy3KJh9ywET7NcVoi2l2lC5cspOxFS7ALIcBLwLWW6gllc8xGfqj2WfBYx0XSOYku0HnLpAcyn+TcpznuyvZTyjYK7IxXezDBNjamccj8q-Kg5dZGSECoThMKySTaY6h8i9SJ8Pi9K8LjhkfC0qRAn9H3pXC7FOgBC9+EWKyvxC3NOVMkcHrypzwN1l0pFNlfGA5UMq7STK0FaPjbJSr8QsqjztyrjRwzpwoWCQNKtaY8rgu+EBVUEt1AJAogGUekMbPpXqrgemqwIayuoARiBVIgadFAvR6J9qVzqmVV6tixADeyhfAxg6ojF5YfVHSYgHqqxJzF0FxCllbQD1XuBw1gqlyQuzdUJ8QodStItd2aLRq6Fe+ONY6uRF+zdQUqgtaoBVUuqyFKfcZdSvLUyra1vq4ph4JGliized8pXnnzqQ5r4GEWEWPWrLW6qk1la4Ba+2Mp+US1wa7VVBAHUur+1dACNcmoSypq6+uIDNUCsYDZrDZYCiBbJnHWFrZ6ZqjaHsiHXQLj5AvMeZdU8yXysAwHeDKr1gKbrjZB6z3FuroWRpI1d0+YtbJCU+DK+HAghDer1leCbZP6u2fdzcm-w6CI6oIEutjCrrxkQYVkF2oRpProOs9R0NgjzS5NZuogs7M1w7pd1eoQ9ZoVk11CmMH6T9KnEo2PXurzwgpMueeoBKmIr1pidDVoojRkdnwVADaBKQ7AyNCR9c45LMDH7OUReNJBItJOsGmpRkIzSzgilAhVkZi16tyYEBZBkaXGTSPubiwFBfrbZSQlAXwkg0mIYNK62xapqcZmMKN44DdeigUAvr4GsmNTeYwwwMEf0+oZBtRVx4WYAAnAMB0geaKK5C+4BN0Zj+aEGZcl+NwSAg7Kdx0ipPtbDCDpK2SDZE9NdQxASje2ZgULaoAADk2W1kGgAK1WKPuHJUxFloL5QSggoW8hdeSmBV9BeCWl4HYGWQd4iJCHTLRIBorVaIt9wF4G5qnVkVce-c6QDjLxkfxkwIi6jUfNEFLqTNWM4bRRVG00xgISG2TNjIW1fArxOnHSDozs0+RIgdS+nIoEyBmgUaTE9bJdAsxqDEGcyFBuvQMgXQTkxAOpa0V4F9yCMJ6P6IwGO3w1Uqzgs0GESDBUkstLIJZMsh0aMyIF7XZ7XalUr9B2p7WgbRRXtlPajwaBHeVuHXapN4eh445XiJUwhKlmHCFZjxkuiJa0g4KhUcMs2VLK9FFiUnWuw+1HbUCP2viSyH+1zQDxwO0HUsmrLbLCkxOy9tzqWTlhMdvSowNjtglpAudQuiHXQsRTIoGAQu4XWuyq1x9r5Zc8+ZyhbIhpASJAe7UQtfVsCONf1Lrigv42CbhN2lM+KQLDS1oDd3ay6CGB00gakhdBEiKOJI1KrIs8gugBMjcD7a80USxmZdogV1h2Gt2tBvrse3PamifQN7ekPWxiEdstujKLttMFO7og3gwLW7rJW2lrYSe6nmyGoDqI6BNRf-ucCsY3s1UKO4WPbr20dcuNEaR3Z5xHJYkLdBAPytbvtUTNlAFAF9WECoj6hGAocAMeMscAuA3AAUAMejOgFEz4yy41di9skAzEzMYYLolPqPA2jV2hMyeERGn3hdqg+oAmDSk9w2gaiwqy8EoFIBaKWAVsDaD1sKTX6OerRFpNfqEYtFOhLRX+M0VaJX7SANuhuSAy4VBNwueu1HQjDDDuN36nGGvRdF+A3t8hwBl7WkVaKH6RIF0E-Txn9StIwDte9xnciaL6AQVJq-kLgbQJTAWAkaOVdbEHiF66CuskIg7GSi0HQAcIFhKeg+K9haDxQPhQFG4O-bUU7o6ntdKoNCNgGpueVL3sViwwB9aEIfaHFoOEt50iYNMYxBYNsHcU4TMDG3DGajKfkQ4tRCyBQMVEyDnwCgyIZ4bcHVi8OhuaUQqKkNEm2hoxroZWX6HrDVGFoivtMNfBFAlBvg0oyoMDhyiHhog0odMPydbgq2n5H11gNmHfDM+jBFgJsaKHim4R4RohVkwAReN+hxttwZiP66fDjAChagM4VhgqDb-bLSvsHgvbKjBjbYksSoOgHYjae1BWPrtIkgJ9EIDsKgoE0MUj6RKZokamaLwbmiig5ol6M02iNwj3RiBf4V7A9HXsBRig142mPsQFj8x2Y-kfAO7b01zALhmnuy2KDVAd0gADpYB5lxcLQgTvwBGpKDkGzSk1TuSUo8twET7cds5Dcgdtxsw49cOOPWCzjFx2cQs2uS3GIBBBQgPTn8KIt3CEJ0AAAC81aoAM40EFvnXHQTQmh4-CaCMcoXjIEJnRdC0hvsRgbZPIL7rcCHHLj+eNE0UZMovBfySgZos4GaKkBmiPA-sNlu5B4AvjxCik0CepOUGkqdJo+oyeZOsm+5uJ8sEAA')">function unparse_query(query) {
    return unparse(head(query), 
                  tail(query), 
                  is_null(member(head(query),
                          list("and", "or", "not", "assert", "rule")))
                  ? unparse_term
                  : unparse_query);
}
function unparse_term(arg) {
    return is_null(arg)
        ? "null"
        : is_list(arg) && head(arg) === "?"
	? contract_question_mark(arg)
	: is_list(arg) && 
          (is_null(tail(arg)) || head(tail(arg)) !== "?")
        ? unparse("list", arg, unparse_term))
        : is_pair(arg)
        ? unparse("pair", list(head(arg), tail(arg)), unparse_term)
	: is_string(arg)
        ? "'" + arg + "'"
	: stringify(arg);
}
function unparse(string, args, unparse_arg) {	
    return string + "(" + comma_separated(map(unparse_arg, args)) + ")";
}
function comma_separated(strings) {
    return accumulate((s, acc) => s + (acc === "" ? "" : ", " + acc),
                      "", strings);
}
function contract_question_mark(variable) {
    return is_number(head(tail(variable)))
        ? head(tail(tail(variable))) + 
          "_" + stringify(head(tail(variable)))
        : head(tail(variable));
}
</pre></div></div>
	</span></td></tr></table>
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.8' class='permalink'></a><h1>
    4.4.4.8&nbsp;&nbsp;&nbsp;Frames and Bindings</h1></div>
    

    <div class='permalink'>
<a name='p58' class='permalink'></a><p>
      
      
      Frames are represented as lists of bindings, which are
      variable-value pairs:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (make-binding variable value)
  (cons variable value))

(define (binding-variable binding)
  (car binding))

(define (binding-value binding)
  (cdr binding))

(define (binding-in-frame variable frame)
  (assoc variable frame))

(define (extend variable value frame)
  (cons (make-binding variable value) frame))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPEuouFEPOIXCqGIfRcgUQh6GIOhKG4SbKyEoKUgYEEtAoLJRvGmopqmFYFOoFaflw4b1omrblOaRa6HIBQjsUDbJsobb5OBfAMSxBhDF8BQWHwBdDqMT7voXfAZDSK6brGk6Hpmug5rO0BFoqZQ2HIMr6BG27IcemYWlPBhEeR1G6HRiHNumloYaxpp4dSC1qDEOhrqm4m7tO51SgGn5afpxmwWO0nodh51ztSN5uNRTpmcx5T2dx0W9ucCW+fugXKdWamlqulhhHIBhiAAD0IQI3GcSXSdV2JSgS4gGHqtHka+7WGHXChrpWwxTfu6x8L06Z7a1nXvuEXwPa2lW4cW4x2km5RwZZh7pZxn5I9rRxhuT6PrY+IaefdpXQ-JwXFWFhh2A8LwQ-jtnE4XUvlHLvOydm82YmLkT3uYLQeYr5v9Orhg26zzv7orsOhfVjRCBBblUW7hOJ7YYOObPIb9Ftxh9cN4hjbRhuvYLr3jN90EGGBhhDvdlGxF1g2jcMBru5VnvTNIcyR9AGy7Ic5zqV8KbyD1ryPkl4dC0DVCKa9BCEEnsHZE3BL5hCogORahtqAKHlpWa2a9V4OEmFRWIQV564hQWgmgGCbaXBnrAwQpAxBhDDBRfUSCRYY3KOQvqaNkS4KgjEd8W8MjFWASvNeJd8BB2wXQA+PtYz6y0CIXWMMDz0C7ofKRsRhHOzBm7cRkjVGrngd7XRzphGzUUQzYenDHz4PjIGRabc-pG34T3C2cRrGMEOgwN4siwQOLYJXWMzQxwanoc+aMhozLBHEVZWy9knIuAgZQXwJBAGQOgTVHMZxeoFmBMfU+599Ab0MCrPBLiEiBhuNiS+gIAB81cQHDUvirGaBs6EZKwBApeHj6BiwVmtDG-N954IWqkSgpB+CqEXoNLQ6MRDy3oD8Te3Fp6x0xo-YyMsawrzluLBclI2gp15n0z2o8x6CKmVsnpDBOgrUuqQ5ZZsVbhUyZxDp6dU5GEoAoSghSBlQSYbrMaCT3p7Izu8z5ExilWNKaqcC44AohPhsKfQi1kYfHbtnYeHwwVcMPkFU5w0qikFRYPYgXdMVfK9k3OFkYXwrkbASolHyZyHUZIfPFq8DwMvRUzMlYROCUpXH8uxDF2WEpnGSs+DFsWxiCvSsVjKJVnmIExQoDDQnStcX3V5Md9AqKsZyoeU13Y8opRTZV6SVWtIgduGcp8HBcw1PoS610EFQSCuU-QDBqnv0hHa429Nahwm4E6reaZwEUI8oYbkjB8D8DxiYAmWV3jdzwX8rVdzPZCQpPQKkPLGRprRQar53czUxCGf8zQuI02gvJbq3u6RMi1rWFAyagxI1CBPrG-GKNE3u1lQWklGLGUTAMaott0bO3xu7aid2tbVxWyBVHN5Rs5VcqLcayYQEczwu4ZChMCNJ2E1nrGXaO4u2E3egDH63cnGgGaPWtgAVLXhvMB02u9dDlTSKVBRsgdfCMjfSIsRu8mKNm7HqPNUaO0zjPT2-Qv7N08OzQIX1d9-WhEZNak+IMUN0wdWBlpcYoW1JXr+ppsjhDyMrKYru+GR2GJ9jhtD3zZ30YaE3UNTz+q4wHh3AdTMG5fvJG6241shWKp1WhNlbcN63xNrvR+jy2nPpcB0+1XcBM-PJI2ZlQI2Vqfugq2s19N7byJvJ-eTF7UXq+j9Qz9S-VmKmtZwGD8qwMQeUJjVh1FPtNxjBmeGmm54Ksx9Gzv1hX+fKqFlz8mVxssi9ldxMmt53x3h+qG+86MxH5RFOqynGrNSUFAOAiBkDoG6sSTj5hkV7Tcr0kmntBkaourwL6ZBk2gAAD6deMhHEZ1QxAde6711I30fr9DM+l8Iw2-QtcyB1mIM3nSLUCbUYtGSrW1dWnZ5NERCieaIw3Hzyn1bMDEBICj1rq07D6PcMQmay1YTJeEAAZC93o-RW2MvCOJdkt2zvHfYckVIwbdsHb3cM8g53ahLVBG-cEwawFKaBz-MLWHQbXTB4RhMcx9A3l3hx5HWT536e5f1ugYgmkmdSxIprRGrvglJzpbgHxSADap7J+gHGIGLSZ1j3dNjIfQ8u3DjTjOHM8yRxApnzmr27zpzjz7eOkxDCV-jqbG7HnS4lwZpLN8UtyamwrwMuObzq4a1tfkYaUf7qRlOk2z3jfA7uxd2HO4yVWWNEIaDB7E3wi6z12bQvXdXY9+-asbPxRxrt4Tf3w3zgQIS4waLV7HeviCqblXme7TPc1xtk7Se7PGc50TNPywM9q5V0Rb7VuqvO79o7ZLpnq3zWa8HmHofGVWQbzrJvNOpcnZ707btrsyBGu+1RYT2IU9AxBsG7g2f-w1+54PzWjtf0t8nxqxfyuc-L8B1k2xrj+2kon+ntvLuO9w7D+CHjq6B8o+k-r5vZeBcuB37ng-nFFrnLmUvz5D2F+Z2Ie1+Xe78v+l0C4fezgcegey27eIu7uYB4IEBScvGkuK+KOqBC4Cy1ASym+5+9Ox8gQMg12oAeImBWS2BnSRYi6YIr+paGqmGJBZBpIWuJ21BVyZANy1AGCBB5eTBxBlQZBOghOPOqQVaDBJSEOl+iB9ByBaaD+xOImC6Kc2qxqW+RBO44IihLOQ6lBnE+axKOcBBsQAhRGH+Ne7BKOfaxhg6WKmhiuIwxq1hWSy6J+904+DhhBCY1eWKrh3+qQJKFaqhIKGhPhguaQGQ-+5KARHkyK6wK6ha1aLq5hMh96u+MREwX+8Ro2XI5cUh0hkRwBV+SBnyVkb6ShnEAGG+hRFeIwfhD0YhJ2vOUCU8ia-Bb+p2UOIBZRZMjObReBfuBhHkxiz+NOnRjBFhlee+ABIx5gl8xeBu2akxRR7+MxWQjReeuWsg+WTU8gRWbUpWnU3UOgdep2oyw0esgBRGi0Y2HAQg+g1xoAayoAACv2IytYLxfoz8r8esFRL0DxKmBsJgWgwgAQJgxAvBtQjQSOROnE86WCGio+hK3ApGmm2OgYDOx0rCa84IWWioyJkgY+aJoiPQOW8JuRnSEMuJymq8NxMhJRchq8nuLCcieJ8xcSymw+LsxJhK9JTu2SqKLBMg3AFBcR5gwiG+MgDJWJQhpBopoAbB+eNh3JJi8gjmYIMpgpzBwhipohOR1wKhYmtY0yXispaIcOt+x+h0+JKg9A5pEpzuJpw0h0Fp3RwubuYIh0VkLpVRHkLpNBXi+gbpgpO+bpzRKO0cXwd8FOlG1Gw8QWrqGqN4FJECfacgYM+SFMYZSuaZJ20Z+AxgJcMCvJX6+2mJLgWEmZ10Hm5wjYlAt2wRgK6pSi90jI96JwlJRpdwNZacl6eo9EiqqRlZPAG4-0YW3y58nJ+xYMsueoq8vJzwFZXRuOfZM5fZdmvaS5kQK5UxvhKu65hpwJ5G8ZGppKA5U5nQ3yLA6w1sSZ4OWJk0YgjZE5gMCCv2HAFOr5p4SwfopQWEiJvJb5P0V5eoe8t5xZTcxkzQX5L5qgIF4FoAAAPMCM+T+deTer3OEpuOCAACovSgA3B0B-qXytaeFNiDEwnvygAADU3xo65OYgQowcM+CC9Fdp4IdFDFUirOA2LFIZmFWFvxES+FhFMgxAjk1CYg5FhqlFk81A1FXF9FLGhQfFFOAlbF4QHFVk3FqlsQ6lzFMgwcv5te3ZaIL00k85O2M+gmSIBZMMS0L02ID5KwECY6iFYFI5foZaGRWl+l7Mjl6I2I+lhQhZsZV8rZmp2Zc0WFKkqOgMI4H2zhl5cVT0uOploVt61IUamRnle8N4plCGrEAqiKs0SVjZ95AKuIUVPMmaKwOFiFUSdA305QoAiOxVKq26h8dKvJjIGZwF-K6qRGHlm5bFi5YMOihim5eS65nV5qC1+5gYs0TlRAMVkZWSIWA5NlA5Q5dlaiDllYq1LlOZO6eYJ2HlbFQ53lzovl0R+Vs6gVR1wVEmUi4VA2Z5bZTM7Gs6zQM+SVuO-lPspQ8EGV15Q5aVsQf1uVREqVNodoRVJaoAOopVBg5VHxTZ1Vn1mp9V0wjVtl78tkrVIg7VYMySTOaS2o3VsYvVZNQIA1WZQ1PlGqo1vJ8525k1BJBEM1DEHN10liFqgtXRK1L1FJ0gTUexhWrUJWHU5WGA5xyCbOJC0JbCBY2ijhxRPRpRWpDgVkxC6CxA-p5g+ttyDAqCk8fGHcJsnCGt6xDRh5OChOhUStBtqt06GGcO6YDOcwdpsQcwq4U1hQDOHIvtMQHIAdWWDOGEodY5B4EdXtVp1qMd1q8dR82hc2bAdpGdzogdsQDO3Ehgk85AvgdpBdRdf6ioudMQDOOFodOFsYVdQpYI4INwjZlyLAhg+Jrdqg7djUKwjdDOtFMdsQTx3AvgP2NSAC9FFdA9Vpnkw9MQo9oA49XqACPkM9kdVpga0wS9K9AIk9oAkIy9MQs92hwAC9Bg-xy9E9bxoAYAG9Cd2hAApBfbvTfQAk-cfaAKfc3eJMPW-avUlePZvdoQAISSj-1X170H3gNAjAOP3N3IWv1QPv0oWxDwNp2IMAgL0AP7233IVAjX0gPN1VLINj2oM1IxAYMNAM5VLYPcBFC4MH10NUM-0QigMX232FB4MxCgOxDXHpgFRIY8Au2m3CJsWAgrjupzDcAm0q1rwtLO2oKu3CL4AsAABWoJjUAIUjGg4iXqUdoj0JdpO+FijdRQcjZCCjaYkUwjlj1sXuclQIV2DOq2wgdpbj5jrGTdEIkAdA3oe0JdDDfjATCSXjrGDO3dDAsAkAodUTMT4T9GkTVAPdAAojHVE6k4k4YgzgAHLkC5MX35O5OQ0ERCPvACD2M0FZxOYSM6MrDurCh4Nrl7xVOOOxG2MVMiPKOm3tNbmSMNN6NNM1KmMXjdPK1kLtMtLmUpILxOxGNWN0lUKXzWrumEJm2MBqikALwfXqPkDViRps6aCvVXhVPm0cA8wdGcJc3TArOggIhFBPoo7ThvS1XDzukyItrY3KJoQTwtr6BVPiOXncBZXjOu19NaU3NFB-MiAAsLOYLclqOaOmDMaGJtNIbe5bnZOxCVXlotkKLnmeyKYcACC4tiBfC3lQEEtfXFQvOEDfPvNdl5ZA4FYHHS3tRlYYDy0zOeIUCmAMBRwfDlQ3CkDlwR7UC9iCktZtabjhkowSt-AborizAbF5XiskTaXvwMDKXUhMUCVyuR6KuTArjNAGsKscC14QKjQ3BAoaJgnvJs4U43VrGCDKDKCtYZArxGBwJus32NT0X6DkButJXghcWlChvZWcXcVBvKDYuKiht6GOu0IzkODOzGAOvs7SXfKLGpsozGDPDQSPkuCGXcXggQjcXWs6zGB2trbuo5t0BptcBZu4IcXWDghOnSiNtMBkAKCBs0LukZ19v3bKvvz3q6QmTqxXaXyvYvbKRIog73U3jTvTadbJWDBLv9vhCwPvzFDwgjuq4jDTshu7uvG8tBsziCuxQivlzTswUGCtEKXTwmxHtvYqIXRZljHU7PubtOLhvlv0W5uErWwrS9u47wJDsbp6WrhcU6sz7o6g6fsl4QeasqIwfcWAfFkgcHvrsq7gfLstuodtt3sYfDSSSgh2kNKdt5vAc9vGsrDFxYS3s7RUdAcQjR3cBXZgf9vw1ZDLvcAkfdukCCQmvqyGUQcjvggADkOrlSHF0nInhlAl07HbAnUcpAwcanK9yZtxC78210Mr2H+gmncbsYDOQg7jVkwQnFDkzO78FoxYnFoyHA8IdHT0JHhnxnPHRntY6ne8AnIH5sASDb1HHnPnwDf43nZA4XqnYXG1nEezBzygRzTKDE8zHgKW+SBsA7NMgxT7aMG85sJ6zd88QxqIdpiHyxRMBXULhQ7qCX6wSX1AmgRehs6XbgcCNC7sBXrn8V77mOBXI7DOu7LO21p8oO3XInG8x5oAmnF6f8esaXMcbgmXhAmafyJXeXVXWXuNdK3J-1QIK4cHY3H7ap4xJs3XZqztbXxgFG8C8Uejs3H083i3KWHXtCK3AtLrQLYWIb0dI7WEuOrXS3N3lynXe8O+QPKWMO8CSr9HEtQO85IbSd-38gwP0PnXIn33iVv24I9XhzTXKXiq472M1Ze3u1tadX+zDXyXLXqPr3WbH3PXVMpPCPBNkPbg6PybVKlEfy4323EKQUQ3dpR3c+jN233PNKwkGqU35I5w1uWSCSJAH3UrqQWEA3zHuO6vE7jVG8zVMS380B5givhtM5ninhyv2nMhavWXI7qZNvcPOvBsevX8wJX75gZvhqcJ2uWksUlA+AJc1sAwFQgwBXgpxvyvOP9n1UHbQflyHP2k5UG+oflvJuSuHvRaF3Tzh+qQEeFvRbHpvRYIuvO7XvLRFT3uErUyxffZ-HLVMaciEeDA6gIgHApAmaVrRAi8WXEKMQfyuf3XPfWaXTLA1Q3EFO-6o-H11QNsg1Tvs5-NSNo5I-My4-v2bjj10oxNFGjfzfwgrfK33A65v19phAwcy-Y-V8f05-A2n35E8Kfy1vq3uNUvRGWEuQp-hn3X3A7-wcdvT-81d-alGqmZpEYZeWYWXvnx-4fdpurOfoAoEuTNo5EFQZGL4DWyGA2QyA4ujDkMCkgVeURebOgMK5cRIwWAijDgKeAicAeSuQgTVxHp+sRkcAhASQCQEkDUBX2QIFdAQhGAKCtA7xkUEwFsD3opIGctUBWgPEyEAgtARgNYHYDcBKfZ3H5QoIjtJBZA4kBQLh5UDnCPA2tE8C9SiCyA4g62CoP0AqChBTwXgX6F0F4NYBnAoiBQTMruUGBnAmQMjA+RDNda1Id0i4KoCyJ24HA3tjYPgGNMPB2RFUlkm8GUBfBgQh1nAOy74Cl8-gogfehE76Dtm-QCQTIMGCHxAaTgwSDVysE1IIhUQ3ITENsEq5Ah2xc4p8zkRChqmoIYeOq2QhcQqAh-Hct+mEbX9V+oAToVfGn59lBKhrJcPP0Yj58ehSVdfsx2qGDBGhQw7WGTCP4aCfB3BBgK3X4g9CdsPQveHMNaGTVpuvEa5CsNCgIVeI3AbYcMK8F9UceMgJMLUC4oSdrhewW4ZN3aASwThzQh6DxSKClA+yZhOHotFz68RwgI7KYWbRBiUh6hTMN4WcIWETtkE45QEaADezqwsIcwogfsOWGrCEKN4QERYMVA3hURuI9CEsKSCHC+ICFQHlQBM70ZccBI0FtzSXKBd34DwjgO4xgEDYSW2UaIc8XkGx1NwV9Aoe1WiJxcPIagEwF4EuSMAo+M8KUc4G4Czc3hs3dcngkbCYj+4fCXxIyHREkjMRkXdTsPjJgyj6AILPgauEVFLkmIwmMkWqJpAairhNw9xiO2SFw8IqHI5PCUNVE+IHo03XgMWVH76wAWlIvAWJwpFNFpuaUPwXAJxBshugcgrTMI20biBJAUYssL4GVKjltGYEYMOODrTRFsqhgabn6IW5EhgYAYj4e0K6bdBGQIY4qmWlz7dBwg4bXdtlW6DEtJAoAPCgAAlUmDAAAILgBwAqTAAEp4VIAAAeVybIAgQnZc4hJStGGik0WougDsP5qCkfR1sQsaWOuREDwxhY6HvH2nSbjuCjI8MZ0AXDzj8xYQziCeMyBx8fe98d0p2O7F9iBxw4scROI7Y7iZQesPcXeJWKLj3S4Y6IYWIYDFjSC-4qyPOM8iBDS+NhUfreOLD3xFxy4usDyMCE2xXB7qXVHMNazVIWMoouuBKPgkJ80Y2EyyGOUiHcFkJcbWcWoCIkHikJ5wwnCSziAZAHG9fFaIyAAAMXZCBDUEcj9xWJTA9orFGoCDAHsgk3IA4A4lAgnObEqSdoHop4gLRGqWSZ0nkmkAO286PiRKkGGul5W4oAIIJI26JozakEfPlhHBDDdeR2QIyblxMmiSvOMwh8MKPMCBBg0Ok81lvA2Y2SLWyo4RqpOMkiSzQ7VSSgJI4BCTSu5UUSclHJDxJAg1sRyJ0HLjJ8VwtYlGMr0PiWwVC2kpyQfxYnhTApUU1MIfAY7jkteVcLCAwISlJTP+23QkWHXikMBEpbAcuH-1h4-EWgBsR9KOSqlNSapsklyS4AqDMDQgJ8LboQHoi6SqJeCOKcQGqktT8kz-BFPexz7pSHwg-QUGVReFZAnJM0KVGhCCifElUh8VVBtKNAdCJ+K-XoYwH6FNsjys6IKCwHGEwoNQoVb4deWIChVmgvU5qeXHWFX9b+JVaCKdLOr+gL8avIEQRFKA-SapmvXBN1nZCNTfpeVB8Mf2uFRgkabEfPjDIWkFdpuII2oeNGNh-ABhnkvaucL8nD9J+XQ9YX0OAq7TzhTEAcGMO3aeNB+QUBwCxVJFrDqZl-YVJsONEmjTwVEo4J8NOl990pp4LhIYjwCQg5ZtKDobzMukX8NmM-LMsLMZmpSNULMzMeqFqCZTpQXMnUbtLpGxB-p-M3mQfGgjWy8wS5EqZ1PIykyDJbmNgCLNl739EUw0ltKkDRgayGZc1XcrLPlkrAgo4IZkbcIl7ACX+CYKYU7KaEaz7pFqeXpxE5nGVuZxwvcL+CVE8ifhdox4Q6OY5hz7RxPKmHsleGZyiBfZFIatMwgUFPhJQB2V80JlFk74JMwgJnKonVydJALXAcCL1inlm5xMx4IQF-Dtzppd9MAHLMhBdysI7cmdsiPhGkgR2qc3EDqOxHaDDE2I0kPVMKArz05hnOeTvLQiA9t5psoxAyJE5Fz857bLPoETClpx0CjWHkYtCZJel3kq6X0qxKNouA3gSMH0SbAGm5l7adoAaTOVUkb5AFz83TpsSrwq5QFRAszmwESm+BhklxPdnDx3y0RWJlQmZusx1iySfJTbeUcSKXEzcwuaslceWKpBIwJs98xkG5LnJOTUg1QQhcVUbB7zPRLKVcHvJ1HEKKJSQI+UPz-kTEaF7aAaYIsKBmjdh+fDheqPSjqRw5Bcp6E6O16TJrYmnQhYBmDiiLGA4i2dC6MkCciShsim0aGNaTMTHxDAQcdZAAAyqTScYKMyA8STsNEnurJPdgMTs5Mi30V+MPFJBtxkgDZhUG-EUZ3FfiiRCJ2vELgwlM5KJffPdgPiuxVi2xfYo-GBLdxoS1iR4pIXuk0JMLLIVeEAklDgJoE8JVSPjaySoJuQ+ELwKKX+CIQVk2-KxKqX+CXO03dZmEs8VtD8+aEiIZhKvCySvULGPBffMIWyMSFVE3ga4viXhKqJg06kOc3UVhddRRCCZcMIjFXRcluQ9CVQH6XTBc5NSQ+HksQEUZjBs6b0Ld33H3w+F1ySZbOgFEdKslKy-UbcsYkEkxquQ+ZXigFbLLNOyEjZYJEplUhWgyIRkGlDxyJJhonnd+N8s06U0lqLgEFQ4GelZjXpzHO+GNHCkaK-l6yioSJyRWTYpo5vaFR8sSEFjmFX48UKWLiHBilcgIldurFz7Vj5lHwYIIHyuXZRp+G4+cWt0RSLRCxVKnlUtMbCVigQJS8sCWJ5VI1Gw7rF+AZnnEAqBmUiOpZGO6AQSOVdAFpXAPhUWN+AOIdVb+M1XQSaujHDVdwAFGyq3JM4BVRUOKogyIBCeC6n70CD3zVZG4yBXGK6aLjGQv8s8BMQGlMy+VFK4JVSv-HCrhGoq+GF+JAkSqwJOS6VcI0tUGZVJgQpVT7BVVXR9V78SpdBIAE8A9Vaq7Nc0uNWHwsIsk81TfSTVOYU1nyu1dTXSTJyPIsfVScEDonPsNVcQghTyvrnOJm1rEwNh2pE6x95xA6w1TOWHUarR1CErnHglZUuqFVXK3xVKs9VUgfolyw1QmMsXPihxI48ceACYhbr+xO6t8Q4tNWGqK1XqNdW2uzQ1iNU4IDEDfMdUo4+1jwD1WpWdWiZBJi64JawpAzCMr17ixkJYusV2L915IYDSktPXjly1BgG+gBqyW3qiM96rwI+oVpBEsabwdRnSQKRxCMiOGjtn2kw0UIVuzreoiH2aRgKt4M4IjSiC64Uaw+KufDZeKpLNlcQBdLDUDhI24b7qTGp9eEI5TQYUgHG0wFxqAXkbCALSPjZxHcLsaKEdGiTe6T-6SaZmNQMQENAowaKcNYmrjdN0w34AWFNGlFv8oqF4DWNNBYTQFnoAWa-yT0UlXAJE56aWF7hQzUWhc28pVKsK5ZYRqs3Ea3NVs7xnZs2WE4ioEIczpxU81Rc7SjmiRM4pRzsb9NRMWTbRuM2fLTNWNJLWrQy01pmOKi3rkSrSH7MjBmQk5n6Ai3qcRUqKLLSYKE1ya94gWvIVgDIh0CvU8WpzVRrxg1baN1WwwNZv81SJ6tteELfetIDha1FPyyLacKE0JabGvE4gGpqmT6JcVqW1Cdsr6V6NdUByxrYqEHZlbg4qm9TeNvK0w8JFioAxX7zdH1K5qtgJrV8IWUU5XRAKiavzUa2wQ700RFCA0AG2PIhtNnUbRsi0CHagmIU+bSMJmb6wTA-AYaClNHJspi+ZLClj8DeZbRpuePRrs1z+iLaBtk4IKL0ownra-Qm20rd+PdZTJNIzAKaJX2GhZUuOybZCYIpDKH8J6dIxqpWEFkmiP4+vKslQDcykBkkylF7Tdtx5U98e6OhiC51-Z3byWhii7ZGJhFFxHFrs4yF9oyRDbUdNPW0lZF212k1dBPOzDYxVH-wOthdFAYyAACcJwRPDxBQGPbnWlu43cXQBVm0Vo7yINEtN573UPg+0p8EAOWmOokqnEpaYUDLooD9AknSTlZDQCR6dVXVH3aDKD1W7i6hnT3Xmvj327K02yrbKUPgHV494LgHyOKRXBYzU95dR3Znu+Q3AFuwe4uvMs6DILUFppXDGypS2JDBS9W77XqsZxILi69ew2prrG1wq4EXelBUwEuIzaTs7PVIBouqBFQTwZAb6HfDCZAqBArQRkI91-jMAFuE+gMax2n38BS2RwNpeSAHAYJSA8+wJqAG3Y6FHhU0f3KDKr3BxwQ3kHyBPrIVRco1RUGIE-v8g9qYg9+-QDFyi5GdjgyNbdCxAHAKq-eAfS5MIGD5AGlpL662K2pHUTrDVWiuA0jWP1z6iy5+y-XfC-I6RA9sQP-Y-qf0+R5xggGA7UEASkHv9IMtiPWoaDEHSD3kV-epxcSmLGozB7yNHqIMJ7099So5dsr2VXhCdUiAA+VtNlk6K+K8VoHToMCs6moN9WKriN21GcWc7I6XY9vvQbo7Vt80YgJolGGBHI7WXfWWJXXL7V95Cp7hvpe7LdG2SKBtnvo4oH7LEtNZ1IyFUOyHJdD26IdocQ3pF7qfZGzdjARz4AiKRwgbO8PICyRoIQXLtlPvL4U6ZDC+JXEEb3gM7FDXqWKtN3nQ9C45Qw0MjyKwgMy3SHbc2bpLgyWztNmwso7zI2FVGeRN4Go8xvMC0ybp9M-SU0K8Wjk2wngf2eaJaMnl-mJR9zBTKKPjlcjvM-I02zdJuyIoE+wHaHqlH6ATRAAHSwBdqTlTAf3jIGCC9t70Y9chrgjQjh7w8WB4wDVAWMaLJOyxtYxsf7X5LtjNsPYwGIPD-6Twe8HoFhF4DcAAAXmM1ADrHoWWxyA7saE4ZGeg-x443pFOPggT98+k3icFQhtIDDQgIw+1huMgmdjLxqBhxytLRGKinFZQJxXcaTBJOaYPAFceWWYmRpTxsE721xM+NGcnFFgESZJMudYT-kIAA')">function make_binding(variable, value) {
    return pair(variable, value);
}
function binding_variable(binding) {
    return head(binding);
}
function binding_value(binding) {
    return tail(binding);
}
function binding_in_frame(variable, frame) {
    return assoc(variable, frame);
}
function extend(variable, value, frame) {
    return pair(make_binding(variable, value), frame);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.79" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.79">Exercise 4.79 </a></b> 
  
      Louis Reasoner wonders why the
      
	<span style="color:green"><kbd>simple-query</kbd></span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      and <kbd>disjoin</kbd>
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>) are implemented using
      explicit
      
	<span style="color:green"><kbd>delay</kbd>
	</span><span style="color:blue">delay</span>
      
      operations, rather than being defined as follows:
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append (find-assertions query-pattern frame)
                    (apply-rules query-pattern frame)))
   frame-stream))

(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave
       (qeval (first-disjunct disjuncts) frame-stream)
       (disjoin (rest-disjuncts disjuncts) frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
              frame =>
                 stream_append(find_assertions(query_pattern, frame),
                               apply_rules(query_pattern, frame)),
              frame_stream);
}
function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave(evaluate_query(first_disjunct(disjuncts), 
                                    frame_stream),
                     disjoin(rest_disjuncts(disjuncts), frame_stream));
}</pre></div></div></td></tr></table>
      Can you give examples of queries where these simpler definitions would
      lead to undesirable behavior?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_2_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_2_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.80" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.80">Exercise 4.80 </a></b> 
  
      Why do <kbd>disjoin</kbd> and
      
	<span style="color:green"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      interleave the streams rather than simply append them?  Give examples that
      illustrate why interleaving works better.  (Hint: Why did we use
      <kbd>interleave</kbd> in
      section&nbsp;<REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>?)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_3_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_3_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.81" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.81">Exercise 4.81 </a></b> 
  
    Why does
    
      <span style="color:green"><kbd>flatten-stream</kbd></span>
      <span style="color:blue"><kbd>flatten_stream</kbd>
      </span>
    
    use
    
      <span style="color:green"><kbd>delay</kbd> explicitly?</span>
      <span style="color:blue">a lambda expression in its body?</span>
    
    What would be wrong with defining it as follows:
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave
       (stream-car stream)
       (flatten-stream (stream-cdr stream)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave(head(stream),
                     flatten_stream(stream_tail(stream)));
}</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_4_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_4_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.82" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.82">Exercise 4.82 </a></b> 
  
      
      Alyssa P. Hacker proposes to use a simpler version of
      
	<span style="color:green"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      in <kbd>negate</kbd>,
      
	<span style="color:green"><kbd>lisp-value</kbd>,</span>
	<span style="color:blue"><kbd>javascript_value</kbd>,
	</span>
      
      and
      
	<span style="color:green"><kbd>find-assertions</kbd>.</span>
	<span style="color:blue"><kbd>find_assertions</kbd>.
	</span>
      
      She observes that the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that is mapped over the frame stream in these cases always produces either
      the empty stream or a singleton stream, so no interleaving is needed when
      combining these streams.
      <OL type="a">
	<LI>
          Fill in the missing expressions in Alyssa's program.
          <kbd class='snippet'>function simple_stream_flatmap(fun, s) {
    return simple_flatten(stream_map(fun, s));
}
function simple_flatten(stream) {
    return stream_map($\langle ?? \rangle$,
                      stream_filter($\langle ?? \rangle$, stream));
}</kbd>
	</LI>
	<LI>
          Does the query system's behavior change if we change it in this
	  way?
	</LI>
      </OL>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_5_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_5_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.83" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.83">Exercise 4.83 </a></b> 
  
      
      
      
      Implement for the query language a
      
	<span style="color:green">new special form called
	<kbd>unique</kbd>.</span>
	<span style="color:blue">query expression called
	<kbd>unique</kbd>.</span>
      
      
	<span style="color:green">
	  <kbd>Unique</kbd>
	</span>
	<span style="color:blue">
	  Applictions of <kbd>unique</kbd>
	</span>
      
      should succeed if there is precisely one item in the data base satisfying
      a specified query.  For example,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "wizard")))</pre></div></div></td></tr></table>
      should print the one-item stream
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job (Bitdiddle Ben) (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(list("Bitdiddle", "Ben"), list("computer", "wizard")))</pre></div></div></td></tr></table>
      since Ben is the only computer wizard, and
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer programmer)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "programmer")))</pre></div></div></td></tr></table>
      should print the empty stream, since there is more than one computer
      programmer.  Moreover,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(and (job ?x ?j) (unique (job ?anyone ?j)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
and(job(x, j), unique(job(anyone, j)))</pre></div></div></td></tr></table>
      should list all the jobs that are filled by only one person, and the
      people who fill them.
      <p></p>
      There are two parts to implementing <kbd>unique</kbd>.
      The first is to write a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that handles this special form, and the second is to make
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      dispatch to that
      
	<span style="color:green">procedure.</span>
	<span style="color:blue">function.</span>
      
      The second part is trivial, since
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      does its dispatching in a data-directed way.  If your
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      is called
      
	<span style="color:green"><kbd>uniquely-asserted</kbd>,</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>,
	</span>
      
      all you need to do is
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'unique 'qeval uniquely-asserted)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
put("unique", "evaluate_query", uniquely_asserted);</pre></div></div></td></tr></table>
      and
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      will dispatch to this
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      for every query whose
      <kbd>type</kbd>
      
	<span style="color:green">(<kbd>car</kbd>)</span>
	<span style="color:blue">(<kbd>head</kbd>)</span>
      
      is the
      
	<span style="color:green">symbol</span>
	<span style="color:blue">string</span>
      
      
	<span style="color:green"><kbd>unique</kbd></span>
	<span style="color:blue"><kbd>"unique"</kbd></span>
      
      <p></p>
      The real problem is to write the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>uniquely-asserted</kbd>.</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>.
	</span>
      
      This should take as input the <kbd>contents</kbd>
      
	<span style="color:green">(<kbd>cdr</kbd>)</span>
	<span style="color:blue">(<kbd>tail</kbd>)</span>
      
      of the <kbd>unique</kbd> query, together with a stream
      of frames.  For each frame in the stream, it should use
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to find the stream of all extensions to the frame that satisfy the given
      query.  Any stream that does not have exactly one item in it should be
      eliminated.  The remaining streams should be passed back to be accumulated
      into one big stream that is the result of the
      <kbd>unique</kbd> query.  This is similar to the
      implementation of the <kbd>not</kbd> special form.
      <p></p>
      Test your implementation by forming a query that lists all people who
      supervise precisely one person.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_6_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_6_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.84" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.84">Exercise 4.84 </a></b> 
  
      
      
      
      Our implementation of <kbd>and</kbd> as a series
      combination of queries
      
	<span style="color:green">
	  (figure&nbsp;<REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>)
	</span>
	<span style="color:blue">
	  (figure&nbsp;<REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.10" href="./4.4.2.html#fig_4.10">4.10</a></REF>)
	</span>
      
      is
      elegant, but it is inefficient because in processing the second query of
      the <kbd>and</kbd> we must scan the data base for each
      frame produced by the first query.  If the data base has
      $N$ elements, and a typical query produces a
      number of output frames proportional to $N$
      (say $N/k$), then scanning the data base for
      each frame produced by the first query will require
      $N^{2}/k$ calls to the pattern matcher.
      Another approach would be to process the two clauses of the
      <kbd>and</kbd> separately, then look for all pairs of
      output frames that are compatible.  If each query produces
      $N/k$ output frames, then this means that we
      must perform $N^{2}/k^{2}$ compatibility
      checks—a factor of $k$ fewer than the
      number of matches required in our current  method.
      <p></p>
      Devise an implementation of <kbd>and</kbd> that uses
      this strategy.  You  must implement a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that takes two frames as inputs, checks whether the bindings in the
      frames are compatible, and, if so, produces a frame that merges the two
      sets of bindings.  This operation is similar to unification.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_7_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_7_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.85" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.85">Exercise 4.85 </a></b> 
  
      
      
      
      
      
      In section&nbsp;<REF NAME="sec:math-logic"><a class="superscript" id="4.4.4-sec-link-4.4.3" href="./4.4.3.html">4.4.3</a></REF> we saw that
      <kbd>not</kbd> and
      
	<span style="color:green"><kbd>lisp-value</kbd></span>
	<span style="color:blue"><kbd>javascript_value</kbd>
	</span>
      
      can cause the query language to give <QUOTE>wrong</QUOTE> answers if
      these filtering operations are applied to frames in which variables
      are unbound.  Devise a way to fix this shortcoming.  One idea is to
      perform the filtering in a <QUOTE>delayed</QUOTE> manner by appending to
      the frame a <QUOTE>promise</QUOTE> to filter that is fulfilled only when
      enough variables have been bound to make the operation possible.  We could
      wait to perform filtering until all other operations have been performed.
      However, for efficiency's sake, we would like to perform filtering
      as soon as possible so as to cut down on the number of intermediate frames
      generated.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_8_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_8_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.86" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.86">Exercise 4.86 </a></b> 
  
      
      Redesign the query language as a nondeterministic program to be
      implemented using the evaluator of
      section&nbsp;<REF NAME="sec:nondeterministic-evaluation"><a class="superscript" id="4.4.4-sec-link-4.3" href="./4.3.html">4.3</a></REF>, rather than as a stream
      process.  In this approach, each query will produce a single answer
      (rather than the stream of all answers) and the user can type
      
	<span style="color:green"><kbd>try-again</kbd></span>
	<span style="color:blue"><kbd>try again</kbd>
	</span>
      
      to see more answers.  You should find that much of the mechanism we built
      in this section is subsumed by nondeterministic search and backtracking.
      You will probably also find, however, that your new query language has
      subtle differences in behavior from the one implemented here.  Can you
      find examples that illustrate this difference?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_9_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_9_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>



    
    <div class="permalink">
    <a name="ex_4.87" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.87">Exercise 4.87 </a></b> 
  
      
      
      When we implemented the
      
	<span style="color:green">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator in section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF>, we saw how to use
      local environments to avoid name conflicts between the parameters of
      
	<span style="color:green">procedures.</span>
	<span style="color:blue">functions.</span>
      
      For example, in evaluating
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (square x)
  (* x x))

(define (sum-of-squares x y)
  (+ (square x) (square y)))

(sum-of-squares 3 4)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM4CO+AhgE4CmAFAB4CUoA3llDDQ7UvhY0uoAFSguAbiwBfPETJUatfAFsA+pVx6GzdrW4AaUAE8+gkaLbjJdRq069QAalenOtpVVtfUNjNzMOAGYrFB4FIA')">function square(x) {
    return x * x;
}
function sum_of_squares(x, y) {
    return square(x) + square(y);
}
sum_of_squares(3, 4);
</pre></div></div></td></tr></table>
      there is no confusion between the <kbd>x</kbd> in
      <kbd>square</kbd> and the <kbd>x</kbd>
      in
      
	<span style="color:green"><kbd>sum-of-squares</kbd>,</span>
	<span style="color:blue"><kbd>sum_of_squares</kbd>,
	</span>
      
      because we evaluate the body of each
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      in an environment that is specially constructed to contain
      bindings for the local
      
	<span style="color:green">variables.</span>
	<span style="color:blue">names.</span>
      
      In the query system, we used a
      different strategy to avoid name conflicts in applying rules.  Each
      time we apply a rule we rename the variables with new names that are
      guaranteed to be unique.  The analogous strategy for the
      
	<span style="color:green">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator would be to do away with local environments and simply
      rename the variables in the body of a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      each time we apply the
      
	<span style="color:green">procedure.</span>
	<span style="color:blue">function.</span>
      
      <p></p>
      
      
      
      
      Implement for the query language a rule-application method that uses
      environments rather than renaming.  See if you can build on your
      environment structure to create constructs in the query language for
      dealing with large systems, such as the rule analog of
      block-structured
      
	<span style="color:green">procedures.</span>
      <span style="color:blue">functions.</span>
      Can you relate any of this to the problem of making deductions in a
      context (e.g., <QUOTE>If I supposed that $P$
      were true, then I would be able to deduce $A$
      and $B$.</QUOTE>) as a method of problem
      solving?  (This problem is open-ended.  A good answer is probably worth
      a Ph.D.)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_10_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_10_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

  
<hr>

    <div class='footnote'>
      <a class='footnote-number' id='footnote-1' href='#footnote-link-1' >[1] </a>
    <FOOTNOTE>
    In general,
      unifying
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      with an expression involving
      
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      would require our being able to find a fixed point of the equation
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $ = \textit{expression involving}$
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      It is sometimes possible to syntactically form an expression that appears
      to be the solution.  For example,
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $=$
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      seems to have the fixed point
      
	<span style="color:green"><kbd>(f (f (f </kbd>…
	<kbd>)))</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>list("f", list("f", list("f",</kbd>
	  …
	  <kbd>)))</kbd>,
	</span>
      
      which we can produce by beginning with the expression
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and repeatedly substituting
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      for
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Unfortunately, not every such equation has a meaningful fixed point.  The
      issues that arise here are similar to the issues of manipulating 
      
      infinite series in mathematics.  For example, we know that 2 is the
      solution to the equation $y = 1 + y/2$.
      Beginning with the expression $1 + y/2$ and
      repeatedly substituting $1 + y/2$ for
      $y$ gives
      
        \[ 2 = y = 1 + y/2 = 1 + (1+y/2)/2 = 1 + 1/2 + y/4 =\cdots, \]
      
      which leads to
      
        \[ 2 = 1 + 1/2 + 1/4 + 1/8 +\cdots. \]
      
      However, if we try the same manipulation beginning with the
      observation that $-1$ is the solution to the
      equation $y = 1 + 2y$, we obtain
      
        \[ -1 = y = 1 + 2y = 1 + 2(1 + 2y) = 1 + 2 + 4y = \cdots, \]
      
      which leads to 
      
        \[ -1 = 1 + 2 + 4 + 8 +\cdots. \]
      
      Although the formal manipulations used in deriving these two equations
      are identical, the first result is a valid assertion about infinite
      series but the second is not.  Similarly, for our unification results,
      reasoning with an arbitrary syntactically constructed expression may
      lead to errors.
    </FOOTNOTE></div>
    
    
    <div class='footnote'><span style="color:green">
      <a class='footnote-number' id='footnote-2' href='#footnote-link-2' style="color:green">[2] </a>
    <FOOTNOTE>
    Most Lisp systems give the user
	  the ability to modify the ordinary <kbd>read</kbd>
	  procedure to perform such transformations by defining 
	  
	  
	  
	  
	  <EM>reader macro characters</EM>.  Quoted
	  expressions are already handled in this way: The reader automatically
	  translates <kbd>'expression</kbd> into
	  <kbd>(quote expression)</kbd> before the
	  evaluator sees it.  We could arrange for
	  <kbd>?expression</kbd> to be transformed into
	  <kbd>(? expression)</kbd> in the same way; however,
	  for the sake of clarity we have included the transformation
	  procedure here explicitly.
	  <p></p>
	  
	  <kbd>Expand-question-mark</kbd> and
	  <kbd>contract-question-mark</kbd> use several
	  procedures with <kbd>string</kbd> in their names.
	  These are Scheme primitives.
    </FOOTNOTE></span></div>
    
    
</div></div>

    <div class='nav'>
  
        <a class='btn btn-secondary btn-nav' href='./4.4.3.html'>&lt; Previous</a>
    
    <div style='flex-grow: 1;'></div>
  
        <a class='btn btn-secondary btn-nav' id='97' href='./5.html'>Next &gt;</a>
      </div>
    <div class='chapter_sign'>
      4.4.4&nbsp;&nbsp;
    Implementing the Query System
  
    </div>
    <script> var chapter_id = 96; </script>
    <script> var chapter_path = "chapters/4.4.4.html"; </script>
    <div class='next-page'></div>
    </div>
    </div> <!-- /.container -->
    </body></html>