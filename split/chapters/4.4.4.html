<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <!-- Global site tag (gtag.js) - Google Analytics - START -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-156801664-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-156801664-1');
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics - END -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="description" content="4.4.4&nbsp;&nbsp;
    Implementing the Query System
  " />
    <title>
      4.4.4&nbsp;&nbsp;
    Implementing the Query System
  
    </title>
    
  <meta name="csrf-param" content="authenticity_token" />
  <meta name="csrf-token" content="EMTEijVc2kiiKUH4nYH0lQG3pLPfMowQ/Stg//t6DCo0e5pWMQwamnTvIdmVZqY/MqSx2IYYE+2bpNV6UNSMwQ==" />

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    -->
    <link href="https://fonts.googleapis.com/css?family=Inconsolata&display?swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans|Droid+Serif" rel="stylesheet">
    <link rel="stylesheet" media="all" href="../assets/stylesheet.css" />

   <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon.ico" />

<!--    <link rel="shortcut icon" type="image/png" href="../images/lambda.png" /> -->

    <!-- for support of progressive web app, see github README, DISABLED!
    <link rel="manifest" href="../static/manifest.json">
    -->

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" 
		     	  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	          crossorigin="anonymous">
    </script> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script> -->
    <script type="text/javascript" 
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script>
   <!--  <script type="text/javascript" 
      src="../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script> -->
  
    <script src="../assets/application.js"></script>
  
    <!-- Rendering inline LaTeX -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true,
          jax: ["input/TeX","output/HTML-CSS"]
        }
      });
    </script>
    <!--<script src="/mathjax/MathJax.js?config=TeX-AMS_HTML-full.js" type="text/javascript"></script>-->
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body>

    
    <!-- support for progressive web app, see README, DISABLED
    <script>
      if ('serviceWorker' in navigator && !navigator.serviceWorker.controller) {
          navigator.serviceWorker.register("../sw.js").then(function(reg) {
              console.log("Service worker has been registered for scope: " + reg.scope);
          });
      }
    </script>
    -->

     <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top justify-content-between">
       <button id="btn" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#nav-sidebar" aria-controls="nav-sidebar" aria-expanded="false" aria-label="Toggle navigation" title="navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <span class="navbar-brand-short"><a title="Go back to front page" href="../index.html" class="gray">SICP &mdash; Scheme/JS</a></span>
       <span class="navbar-brand-long" ><a title="Go back to front page" href="../index.html" class="gray">Structure and Interpretation of Computer Programs &mdash; Comparison Edition</a></span>

       <!-- edit the search engine by visiting: 
	    https://cse.google.com/cse/setup/basic?cx=015760785273492757659:nc_tznrzlsg 
	       -->
       <form class="form-inline ml-auto" id="xxx">
         <div id="search-box">
	         <script>
	           (function() {
	               var cx = "015760785273492757659:nc_tznrzlsg";
	               var gcse = document.createElement("script");
	               gcse.type = "text/javascript";
	               gcse.async = true;
	               gcse.src = "https://cse.google.com/cse.js?cx=" + cx;
	               var s = document.getElementsByTagName("script")[0];
	               s.parentNode.insertBefore(gcse, s);
	           })();
	           window.onload = function()
	           { 
	               var searchBox =  document.getElementById("gsc-i-id1");
	               searchBox.placeholder= "search web edition";
	               searchBox.title= "search web edition";
	           }
	         </script>
	         <gcse:search></gcse:search>
         </div>
       </form>
       <span class="navbar-brand-short">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">S</a>
       </span>
       <span class="navbar-brand-long">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">Source</a>
       </span>
     </nav>
     
     <div class="container scroll">

            
        <div class="collapse" id="nav-sidebar" role="tablist" aria-multiselectable="true">
        <!-- insert a dummy entry, to give one extra line of space -->
        <a class="navbar-brand" href="index.html">&nbsp;</a>
    
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-1">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-1" aria-expanded="false" aria-controls="sidebar-collapse-1">
                <a href="./foreword.html"> 
        Foreword
    </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-2">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-2" aria-expanded="false" aria-controls="sidebar-collapse-2">
                <a href="./prefaces.html"> 
        Prefaces
    </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-3">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-3" aria-expanded="false" aria-controls="sidebar-collapse-3">
                <a href="./acknowledgements.html"> 
Acknowledgments
    </a>
              </span>
            </h5>
          </div>
        </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-4">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.html">1 
    Building Abstractions with 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-4" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-5">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.1.html">1.1 The Elements of Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-5" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-6">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-6" aria-expanded="false" aria-controls="sidebar-collapse-6">
                <a href="./1.1.1.html"> 1.1.1 Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-7">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-7" aria-expanded="false" aria-controls="sidebar-collapse-7">
                <a href="./1.1.2.html"> 1.1.2 Naming and the Environment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-8">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-8" aria-expanded="false" aria-controls="sidebar-collapse-8">
                <a href="./1.1.3.html"> 1.1.3 
    Evaluating
    
      <span style="color:green">Combinations</span>
      <span style="color:blue">Operator Combinations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-9">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-9" aria-expanded="false" aria-controls="sidebar-collapse-9">
                <a href="./1.1.4.html"> 1.1.4 
    Compound <span style="color:green">Procedures</span>
    <span style="color:blue">Functions</span>
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-10">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-10" aria-expanded="false" aria-controls="sidebar-collapse-10">
                <a href="./1.1.5.html"> 1.1.5 
    The Substitution Model for 
    
      <span style="color:green">
        Procedure
      </span>
      <span style="color:blue">
        Function
      </span>
    
    Application
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-11">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-11" aria-expanded="false" aria-controls="sidebar-collapse-11">
                <a href="./1.1.6.html"> 1.1.6 
    Conditional Expressions and Predicates
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-12">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-12" aria-expanded="false" aria-controls="sidebar-collapse-12">
                <a href="./1.1.7.html"> 1.1.7 Example: Square Roots by Newton's Method</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-13">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-13" aria-expanded="false" aria-controls="sidebar-collapse-13">
                <a href="./1.1.8.html"> 1.1.8 
    
      <span style="color:green">
        Procedures
      </span>
      <span style="color:blue">
        Functions
      </span>
    
    as Black-Box Abstractions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-14">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.2.html">1.2 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    and the Processes They Generate
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-14" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-15">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-15" aria-expanded="false" aria-controls="sidebar-collapse-15">
                <a href="./1.2.1.html"> 1.2.1 Linear Recursion and Iteration</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-16">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-16" aria-expanded="false" aria-controls="sidebar-collapse-16">
                <a href="./1.2.2.html"> 1.2.2 Tree Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-17">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-17" aria-expanded="false" aria-controls="sidebar-collapse-17">
                <a href="./1.2.3.html"> 1.2.3 Orders of Growth</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-18">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-18" aria-expanded="false" aria-controls="sidebar-collapse-18">
                <a href="./1.2.4.html"> 1.2.4 Exponentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-19">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-19" aria-expanded="false" aria-controls="sidebar-collapse-19">
                <a href="./1.2.5.html"> 1.2.5 Greatest Common Divisors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-20">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-20" aria-expanded="false" aria-controls="sidebar-collapse-20">
                <a href="./1.2.6.html"> 1.2.6 Example: Testing for Primality</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-21">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.3.html">1.3 
        Formulating Abstractions with Higher-Order 
        
	  <span style="color:green">Procedures</span>
	  <span style="color:blue">Functions</span>
	
      </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-21" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-22">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-22" aria-expanded="false" aria-controls="sidebar-collapse-22">
                <a href="./1.3.1.html"> 1.3.1 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    as Arguments
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-23">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-23" aria-expanded="false" aria-controls="sidebar-collapse-23">
                <a href="./1.3.2.html"> 1.3.2 
    
      <span style="color:green">Constructing Procedures using Lambda</span>
      <span style="color:blue">Constructing Functions using Lambda Expressions
      </span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-24">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-24" aria-expanded="false" aria-controls="sidebar-collapse-24">
                <a href="./1.3.3.html"> 1.3.3 
    
      <span style="color:green">Procedures</span>
    <span style="color:blue">Functions</span>
    as General Methods
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-25">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-25" aria-expanded="false" aria-controls="sidebar-collapse-25">
                <a href="./1.3.4.html"> 1.3.4 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    as Returned Values
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-26">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.html">2 Building Abstractions with Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-26" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-27">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.1.html">2.1 Introduction to Data Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-27" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-28">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-28" aria-expanded="false" aria-controls="sidebar-collapse-28">
                <a href="./2.1.1.html"> 2.1.1 
    Example: Arithmetic Operations for Rational Numbers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-29">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-29" aria-expanded="false" aria-controls="sidebar-collapse-29">
                <a href="./2.1.2.html"> 2.1.2 
    Abstraction Barriers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-30">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-30" aria-expanded="false" aria-controls="sidebar-collapse-30">
                <a href="./2.1.3.html"> 2.1.3 
    What Is Meant by Data?
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-31">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-31" aria-expanded="false" aria-controls="sidebar-collapse-31">
                <a href="./2.1.4.html"> 2.1.4 
    Extended Exercise: Interval Arithmetic
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-32">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.2.html">2.2 Hierarchical Data and the Closure Property</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-32" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-33">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-33" aria-expanded="false" aria-controls="sidebar-collapse-33">
                <a href="./2.2.1.html"> 2.2.1 
    Representing Sequences
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-34">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-34" aria-expanded="false" aria-controls="sidebar-collapse-34">
                <a href="./2.2.2.html"> 2.2.2 
    Hierarchical Structures
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-35">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-35" aria-expanded="false" aria-controls="sidebar-collapse-35">
                <a href="./2.2.3.html"> 2.2.3 
    Sequences as Conventional Interfaces
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-36">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-36" aria-expanded="false" aria-controls="sidebar-collapse-36">
                <a href="./2.2.4.html"> 2.2.4 
    Example: A Picture Language
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-37">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.3.html">2.3 Symbolic Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-37" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-38">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-38" aria-expanded="false" aria-controls="sidebar-collapse-38">
                <a href="./2.3.1.html"> 2.3.1 
    
      <span style="color:green">Quotation</span>
      <span style="color:blue">Strings</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-39">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-39" aria-expanded="false" aria-controls="sidebar-collapse-39">
                <a href="./2.3.2.html"> 2.3.2 
    Example: Symbolic Differentiation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-40">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-40" aria-expanded="false" aria-controls="sidebar-collapse-40">
                <a href="./2.3.3.html"> 2.3.3 
    Example: Representing Sets
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-41">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-41" aria-expanded="false" aria-controls="sidebar-collapse-41">
                <a href="./2.3.4.html"> 2.3.4 
    Example: Huffman Encoding Trees
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-42">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.4.html">2.4 Multiple Representations for Abstract Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-42" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-43">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-43" aria-expanded="false" aria-controls="sidebar-collapse-43">
                <a href="./2.4.1.html"> 2.4.1 
    Representations for Complex Numbers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-44">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-44" aria-expanded="false" aria-controls="sidebar-collapse-44">
                <a href="./2.4.2.html"> 2.4.2 
    Tagged data
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-45">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-45" aria-expanded="false" aria-controls="sidebar-collapse-45">
                <a href="./2.4.3.html"> 2.4.3 
    Data-Directed Programming and Additivity
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-46">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.5.html">2.5 Systems with Generic Operations</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-46" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-47">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-47" aria-expanded="false" aria-controls="sidebar-collapse-47">
                <a href="./2.5.1.html"> 2.5.1 
    Generic Arithmetic Operations
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-48">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-48" aria-expanded="false" aria-controls="sidebar-collapse-48">
                <a href="./2.5.2.html"> 2.5.2 
    Combining Data of Different Types
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-49">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-49" aria-expanded="false" aria-controls="sidebar-collapse-49">
                <a href="./2.5.3.html"> 2.5.3 
    Example: Symbolic Algebra
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-50">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.html">3 Modularity, Objects, and State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-50" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-51">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.1.html">3.1 Assignment and Local State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-51" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-52">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-52" aria-expanded="false" aria-controls="sidebar-collapse-52">
                <a href="./3.1.1.html"> 3.1.1 
    Local State Variables
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-53">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-53" aria-expanded="false" aria-controls="sidebar-collapse-53">
                <a href="./3.1.2.html"> 3.1.2 
    The Benefits of Introducing Assignment
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-54">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-54" aria-expanded="false" aria-controls="sidebar-collapse-54">
                <a href="./3.1.3.html"> 3.1.3 
    The Costs of Introducing Assignment
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-55">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.2.html">3.2 The Environment Model of Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-55" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-56">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-56" aria-expanded="false" aria-controls="sidebar-collapse-56">
                <a href="./3.2.1.html"> 3.2.1 
    The Rules for Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-57">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-57" aria-expanded="false" aria-controls="sidebar-collapse-57">
                <a href="./3.2.2.html"> 3.2.2 
    Applying Simple
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-58">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-58" aria-expanded="false" aria-controls="sidebar-collapse-58">
                <a href="./3.2.3.html"> 3.2.3 
    Frames as the Repository of Local State
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-59">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-59" aria-expanded="false" aria-controls="sidebar-collapse-59">
                <a href="./3.2.4.html"> 3.2.4 
    Internal
    
      <span style="color:green">Definitions</span>
      <span style="color:blue">Declarations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-60">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.3.html">3.3 Modeling with Mutable Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-60" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-61">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-61" aria-expanded="false" aria-controls="sidebar-collapse-61">
                <a href="./3.3.1.html"> 3.3.1 
    Mutable List Structure
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-62">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-62" aria-expanded="false" aria-controls="sidebar-collapse-62">
                <a href="./3.3.2.html"> 3.3.2 
    Representing Queues
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-63">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-63" aria-expanded="false" aria-controls="sidebar-collapse-63">
                <a href="./3.3.3.html"> 3.3.3 
    Representing Tables
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-64">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-64" aria-expanded="false" aria-controls="sidebar-collapse-64">
                <a href="./3.3.4.html"> 3.3.4 
    A Simulator for Digital Circuits
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-65">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-65" aria-expanded="false" aria-controls="sidebar-collapse-65">
                <a href="./3.3.5.html"> 3.3.5 
    Propagation of Constraints
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-66">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.4.html">3.4 Concurrency: Time Is of the Essence</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-66" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-67">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-67" aria-expanded="false" aria-controls="sidebar-collapse-67">
                <a href="./3.4.1.html"> 3.4.1 
    The Nature of Time in Concurrent Systems
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-68">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-68" aria-expanded="false" aria-controls="sidebar-collapse-68">
                <a href="./3.4.2.html"> 3.4.2 
    Mechanisms for Controlling Concurrency
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-69">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.5.html">3.5 Streams</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-69" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-70">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-70" aria-expanded="false" aria-controls="sidebar-collapse-70">
                <a href="./3.5.1.html"> 3.5.1 
    Streams Are Delayed Lists
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-71">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-71" aria-expanded="false" aria-controls="sidebar-collapse-71">
                <a href="./3.5.2.html"> 3.5.2 
    Infinite Streams
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-72">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-72" aria-expanded="false" aria-controls="sidebar-collapse-72">
                <a href="./3.5.3.html"> 3.5.3 
    Exploiting the Stream Paradigm
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-73">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-73" aria-expanded="false" aria-controls="sidebar-collapse-73">
                <a href="./3.5.4.html"> 3.5.4 
    Streams and Delayed Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-74">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-74" aria-expanded="false" aria-controls="sidebar-collapse-74">
                <a href="./3.5.5.html"> 3.5.5 
    Modularity of Functional Programs and Modularity of Objects
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-75">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.html">4 Metalinguistic Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-75" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-76">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.1.html">4.1 The Metacircular Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-76" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-77">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-77" aria-expanded="false" aria-controls="sidebar-collapse-77">
                <a href="./4.1.1.html"> 4.1.1 
    The Core of the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-78">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-78" aria-expanded="false" aria-controls="sidebar-collapse-78">
                <a href="./4.1.2.html"> 4.1.2 
    Representing
    
      <span style="color:green">Expressions</span>
      <span style="color:blue">Components</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-79">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-79" aria-expanded="false" aria-controls="sidebar-collapse-79">
                <a href="./4.1.3.html"> 4.1.3 
    Evaluator Data Structures
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-80">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-80" aria-expanded="false" aria-controls="sidebar-collapse-80">
                <a href="./4.1.4.html"> 4.1.4 
    Running the Evaluator as a Program
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-81">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-81" aria-expanded="false" aria-controls="sidebar-collapse-81">
                <a href="./4.1.5.html"> 4.1.5 
    Data as Programs
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-82">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-82" aria-expanded="false" aria-controls="sidebar-collapse-82">
                <a href="./4.1.6.html"> 4.1.6 
    Internal
    
      <span style="color:green">Definitions</span>
      <span style="color:blue">Declarations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-83">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-83" aria-expanded="false" aria-controls="sidebar-collapse-83">
                <a href="./4.1.7.html"> 4.1.7 
    Separating Syntactic Analysis from Execution
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-84">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.2.html">4.2 
    
      <span style="color:green">Variations on a Scheme:</span>
    
    Lazy Evaluation
</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-84" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-85">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-85" aria-expanded="false" aria-controls="sidebar-collapse-85">
                <a href="./4.2.1.html"> 4.2.1 
    Normal Order and Applicative Order
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-86">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-86" aria-expanded="false" aria-controls="sidebar-collapse-86">
                <a href="./4.2.2.html"> 4.2.2 
    An Interpreter with Lazy Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-87">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-87" aria-expanded="false" aria-controls="sidebar-collapse-87">
                <a href="./4.2.3.html"> 4.2.3 
    Streams as Lazy Lists
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-88">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.3.html">4.3 
    
      <span style="color:green">Variations on a Scheme:</span>
    
    Nondeterministic Computing
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-88" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-89">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-89" aria-expanded="false" aria-controls="sidebar-collapse-89">
                <a href="./4.3.1.html"> 4.3.1 
    
      <span style="color:green">Amb and Search</span>
      <span style="color:blue">Search and amb</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-90">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-90" aria-expanded="false" aria-controls="sidebar-collapse-90">
                <a href="./4.3.2.html"> 4.3.2 
    Examples of Nondeterministic Programs
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-91">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-91" aria-expanded="false" aria-controls="sidebar-collapse-91">
                <a href="./4.3.3.html"> 4.3.3 
    Implementing the
    
      <span style="color:green">Amb</span>
      <span style="color:blue">amb</span>
    
    Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-92">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.4.html">4.4 Logic Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-92" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-93">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-93" aria-expanded="false" aria-controls="sidebar-collapse-93">
                <a href="./4.4.1.html"> 4.4.1 
    Deductive Information Retrieval
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-94">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-94" aria-expanded="false" aria-controls="sidebar-collapse-94">
                <a href="./4.4.2.html"> 4.4.2 
    How the Query System Works
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-95">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-95" aria-expanded="false" aria-controls="sidebar-collapse-95">
                <a href="./4.4.3.html"> 4.4.3 
    Is Logic Programming Mathematical Logic?
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-96">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-96" aria-expanded="false" aria-controls="sidebar-collapse-96">
                <a href="./4.4.4.html"> 4.4.4 
    Implementing the Query System
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-97">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.html">5 Computing with Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-97" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-98">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.1.html">5.1 Designing Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-98" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-99">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-99" aria-expanded="false" aria-controls="sidebar-collapse-99">
                <a href="./5.1.1.html"> 5.1.1 
    A Language for Describing Register Machines
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-100">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-100" aria-expanded="false" aria-controls="sidebar-collapse-100">
                <a href="./5.1.2.html"> 5.1.2 
    Abstraction in Machine Design
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-101">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-101" aria-expanded="false" aria-controls="sidebar-collapse-101">
                <a href="./5.1.3.html"> 5.1.3 
    Subroutines
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-102">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-102" aria-expanded="false" aria-controls="sidebar-collapse-102">
                <a href="./5.1.4.html"> 5.1.4 
    Using a Stack to Implement Recursion
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-103">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-103" aria-expanded="false" aria-controls="sidebar-collapse-103">
                <a href="./5.1.5.html"> 5.1.5 
    Instruction Summary
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-104">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.2.html">5.2 A Register-Machine Simulator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-104" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-105">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-105" aria-expanded="false" aria-controls="sidebar-collapse-105">
                <a href="./5.2.1.html"> 5.2.1 
    The Machine Model
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-106">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-106" aria-expanded="false" aria-controls="sidebar-collapse-106">
                <a href="./5.2.2.html"> 5.2.2 
    The Assembler
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-107">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-107" aria-expanded="false" aria-controls="sidebar-collapse-107">
                <a href="./5.2.3.html"> 5.2.3 
    Generating Execution
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    for Instructions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-108">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-108" aria-expanded="false" aria-controls="sidebar-collapse-108">
                <a href="./5.2.4.html"> 5.2.4 
    Monitoring Machine Performance
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-109">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.3.html">5.3 Storage Allocation and Garbage Collection</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-109" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-110">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-110" aria-expanded="false" aria-controls="sidebar-collapse-110">
                <a href="./5.3.1.html"> 5.3.1 
    Memory as Vectors
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-111">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-111" aria-expanded="false" aria-controls="sidebar-collapse-111">
                <a href="./5.3.2.html"> 5.3.2 
    Maintaining the Illusion of Infinite Memory
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-112">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.4.html">5.4 The Explicit-Control Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-112" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-113">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-113" aria-expanded="false" aria-controls="sidebar-collapse-113">
                <a href="./5.4.1.html"> 5.4.1 
    The Core of the Explicit-Control Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-114">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-114" aria-expanded="false" aria-controls="sidebar-collapse-114">
                <a href="./5.4.2.html"> 5.4.2 
    Sequence Evaluation and Tail Recursion
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-115">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-115" aria-expanded="false" aria-controls="sidebar-collapse-115">
                <a href="./5.4.3.html"> 5.4.3 
    Conditionals, Assignments, and <span style="color:green">Definitions</span><span style="color:blue">Declarations and Blocks</span>
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-116">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-116" aria-expanded="false" aria-controls="sidebar-collapse-116">
                <a href="./5.4.4.html"> 5.4.4 
    Running the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-117">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.5.html">5.5 Compilation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-117" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-118">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-118" aria-expanded="false" aria-controls="sidebar-collapse-118">
                <a href="./5.5.1.html"> 5.5.1 
    Structure of the Compiler
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-119">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-119" aria-expanded="false" aria-controls="sidebar-collapse-119">
                <a href="./5.5.2.html"> 5.5.2 
    Compiling
    
      <span style="color:blue">Statements and</span>
    
    Expressions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-120">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-120" aria-expanded="false" aria-controls="sidebar-collapse-120">
                <a href="./5.5.3.html"> 5.5.3 
    Compiling
    
      <span style="color:green">
	Combinations
      </span>
      <span style="color:blue">
	Applications
      </span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-121">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-121" aria-expanded="false" aria-controls="sidebar-collapse-121">
                <a href="./5.5.4.html"> 5.5.4 
    Combining Instruction Sequences
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-122">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-122" aria-expanded="false" aria-controls="sidebar-collapse-122">
                <a href="./5.5.5.html"> 5.5.5 
    An Example of Compiled Code
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-123">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-123" aria-expanded="false" aria-controls="sidebar-collapse-123">
                <a href="./5.5.6.html"> 5.5.6 
    Lexical Addressing
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-124">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-124" aria-expanded="false" aria-controls="sidebar-collapse-124">
                <a href="./5.5.7.html"> 5.5.7 
    Interfacing Compiled Code to the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-125">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-125" aria-expanded="false" aria-controls="sidebar-collapse-125">
                <a href="./references.html"> References</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-126">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-126" aria-expanded="false" aria-controls="sidebar-collapse-126">
                <a href="./making-of.html"> About the SICP JS Project</a>
              </span>
            </h5>
          </div>
        </div>
        </div>
<div id='permalink-msg'>
<div class='screen'>
  <div class='alert alert-success'>
    <strong>Permalink copied!</strong>
  </div>
</div>
</div>
<div class='chapter-content'>

      <div class='chapter-title'>
        <div class='permalink'>
        <a name='top' class='permalink'> 
    4.4.4&nbsp;&nbsp;
    Implementing the Query System
  
        </a>
        </div>
      </div>
      <div class='chapter-text'>
        <div class='SECTION'>
    

  
  <div class='permalink'>
<a name='p1' class='permalink'></a><p>
    Section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF> described how the query
    system works. Now we fill in the details by presenting a complete
    implementation of the system.
  </p></div>

  
      <div class='permalink'>
        <a name='sec4.4.4.1' class='permalink'></a><h1>
    4.4.4.1&nbsp;&nbsp;&nbsp;The Driver Loop and Instantiation</h1></div>
    

    <div class='permalink'>
<a name='p2' class='permalink'></a><p>
      
      
      The driver loop for the query system repeatedly reads input
      expressions.  If the expression is a rule or assertion to be added to
      the data base, then the information is added.  Otherwise the
      expression is assumed to be a query.  The driver passes this query to
      the evaluator
      <span style="color:green"><kbd>qeval</kbd></span>
      <span style="color:blue"><kbd>evaluate_query</kbd>
      </span>
      
      together with an initial frame stream consisting of a single empty frame.
      The result of the evaluation is a stream of frames generated by satisfying
      the query with variable values found in the data base.  These frames are
      used to form a new stream consisting of copies of the original query in
      which the variables are instantiated with values supplied by the stream of
      frames, and this final stream is
      
	<span style="color:green">printed at the terminal:</span>
	<span style="color:blue">printed:</span>
      
      
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define input-prompt ";;; Query input:")
(define output-prompt ";;; Query results:")

(define (query-driver-loop)
  (prompt-for-input input-prompt)
  (let ((q (query-syntax-process (read))))
    (cond ((assertion-to-be-added? q)
           (add-rule-or-assertion! (add-assertion-body q))
           (newline)
           (display "Assertion added to data base.")
           (query-driver-loop))
          (else
           (newline)
           (display output-prompt)
           (display-stream
            (stream-map
             (lambda (frame)
              (instantiate q
               frame
               (lambda (v f)
                 (contract-question-mark v))))
             (qeval q (singleton-stream '()))))
  (query-driver-loop)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHR0lVVRdSeRpiIbiEpKLi0DmF2sUJNvklQQoVx1EAD1VLOjoVtZGDMf1nya2UlzpyHr7I9roikkjAA5hdrrd7rRATF1j4XoZfABIczTJzUVSidzkaiMRwxBqULLCVawp7vZLBQ6yY6KDFY+S4-GsQnE8442bzRbLWiPfKjPQTD5pDLM4gAE1cKw8ZP5my2VMiYslJJleQSCPlU1F0myDXFknBN1Edweso2FKCoBYknKokcpxJil1jQNjlUwOyVixNXqTWkMPV8Mtwo+Lv1hqa4v25vhgq1KTRNVEAEd2lpKOEyfcnbHEiHttTk2mEpmWtmpby8894wWRTNRLFyLUauRjjktHyLcLgiRxaJ8ETROK60mGqVSOUuwUe2IlePqJPpzpa8Kk5ZrLZW+2EsuE5S5+ENzZiNuFB3yMvNaPRZJTSDiBe93XFeE7-cH0+89eUfWnI7zn7UhdWxM0g0SX9zCwX9XxpBRFAA2hHCAloORUeg2y0ZDRGAvdrzXUUUM9XNwP3K0iyI0Cq3A-CPnSLFmEYK9QAAIgAVWIcpiGoAB3Ow6i0SRLlAABaETDzg0QWIMABuLAAF8BBIM4RF2aR9kEXRgRBOgjFMfxKHwUBFBmG5KBYKVxHtRDVkEAw9IpY9bB2LkWzMiyqCsh1lKdTSdlBXS5P8eSxADUR7CMkynDJPtvKEB47IclJ0O+UBbkIaRyFAABeCS5HgmzHCjDSSDeUNyqKK4FAlC59EoZhH13OsKtDQqPXcHI3EBOztGalqPm0uhev6kb-EK8Z6toJ9EtkxyrBPUUnNPf4lHSzKyJSYIltaKIxWqy81vzCr0j7Ach3FILzBC0QwpMCkGNxBCSF0djOO4viCB8lZQGbTFRPEtTamky7QEUxSsBskIHB+XodoBA5riG+M7uSJbrTmIFQRygA+PLaW0zUxkR2bwchot0JVaVpGY8Ykv8NGZnIRhCHIAALfZqXy3IJUrLIWmNSUlng6tNQ2-xYK5zwedVctoVTdNLxF1cCM52kKd5t9MqxNkrLw+M5NJr6RCLOh5dLLMvBzMDhn5TUUf8FKssHRhvlbFgfhWnLQD68xVYK+rXe+HdOxF2mQYi4yZm2laEIDn5vnduHRHs+2UjR53A-IROVvD67bv0oo0b9jocNocUz0bXdQ9eXOFKU+KRC+GG+hId9KAfYdFAGE06YsebnJtVQu69HHWIAKlb+94nFMeWN0bvArriGjf4pZT2oFnsOA4iVkDG2NlTtL+7sGZTZLDMLeGK3qP3mdZ12TRxUUOg156TfKJ5ehY5d+O23PKvSJlVGuYF+kh17vxwiBT+gJTYUwrl+QBYtUSEUgTvG+cIjqzibooD+JJfRdGptWJBIpiAZWkAbeuKk7BFgXEub8yMC7mEdqAYqXtaHlCKtQaMe5w7MInDIBguVQHgJ+Lg3eihiqzQCMwyeH5p6CKhq7WGsj27T2dIuARUj6bHzxvBYqRNqrlwmg1J8-CAzDWAZYooKiO7iiRj7Kx5VaYk0oSSCSjhtpB3-iHGiDDJhoxtHaDxx8k6KAcbo1aISrjGlNOgp4osKHLwbtQpUbdPwANviuWmh9mGe1ysXIEU8LxJyNJCa2GCaxh0mGk08nR-ShJqcUupzQ9YrU1OHNGOcl5kyVGIuJts-EBBqfg+pMc+m1L9C0pW4SPgFPGSU6JZT+kbAsY44UziOk6NOoOaeiS8A2QYPgZgbAoBwEQMgdAfAABMrjvozFCAyQhpFD4M0yIQRoWI9zmAAD7fOaqfJmRIQRfNAL8-5TgmjNFEGAr5YLQwzFIdIJ5mSjD+DhcKGY2zzo8LrpDB57gWgx2rCYAI-idF5kSZDRmkgQQgmHM4aGzE2b2jbCCXuR9NwnycB6eqXyABkfLQCs2hU-Yl2VxU-WFY4VllKV6im7l8xhHKFrUtpfS7B9CWLd2Bt0uVzSWiwwVcSpVaNhWSCfm2SgyKKkuKSVQ28RSMkVJeTo1VdLy4at8SxRpCQdWKUhj6rC+rFVks5UKkVihLXUzNRayQVq9z2RcQGx1WEVqlJNFCUkzyTU6JjZGuN1Mo0JttVSpw4yQ0BFedKml7qGXfGYixR2YDRGoKosQaSoK-nwqcKy2tnrMkvSkIwTM457TjI7eij4br1WMs1YVcdSa5XzODcawopqI1FrzUWoh9kKGQ3mWmxZGbylPFTuu81+b43bsQbK5JOo9RuiPbErNKKz2up7TWmd9bNXhkfRCY9tA-V2rcb+w07UvRuBGc0PezrGEBIxvq34-QvS6C3QW4te65Wgc4dw1d2iw1oavehndt77VRxCV4yuPjX1wffdWtVHrZ1es8X-Kj5AgOQ22k+zNFa+4EY3cRwBpG3EzHVjLXjfGVUfoY3WxWXqxNU3Tc+idXaMXSb7UxgdrEFO0HCJRi8HG5U6b5u6Swgs1bZrXTopuwT8DMR4Iuu9xmLb0DNtR2DVmw02csHZ+hVzHP2ucy0GQbgda5Bo55ha3mBzMQAMwlrlafNzVBL7qGvi+2DSIkShqk-RjT36vVnwVmWZkV9eaGbvRnX+wc5MRfwwtQj1qngBbcbAsu8CnWnto-xi9Rbr0ot3bqu9Mx2ESeVc5adjGCtaZYuwir9r2E4ZjJZytuaBPxqIcJu5Tg1KUCFieuUb6w2Tdkw23b+3AMte+uNf9z6JPntjRtoTuK5XaSU5mmDXXIvOUa5eprcpBvg32SvQ5xz2BnK4JctAsXbkiEZszNm+xLjsqrZC6Q0LVjI+9qGYIlxmr0UYIxRQlwXpo4x2Ia4OEFDil0JYUgohKBWXFKkIDwHvqBOsivRQ4HOpYiRvowZ9XnLYMbV4WKNk54zJ596F2ugBdVP9Yl6KYuao2QQijujvav2XnwC9GKquV7zbcW1T0vOXbq5dV56GtmEK6Ac5hyrK8lsW5zVb12PnbegH8w7+1406omN3PgDXbufge916AeLW2RAc+CZy0J6F9rB6i4yli0c2hSV0AnjYPuRNODT1ERQK0k8TfU9rwv6eXr5-aEb76Vf7RZ87EXy3DX1vUyLwlu9mhgLUHuMQMExipq7mya7haRaFds5EFVh0HUlDD5yz9iN4-mHMouE2FsA-GpaC9oi8hsO7Ax6OV6Z+kzzGgBWrpZvzkeVMX1Ujc-V3J8z6gwGBCM+9KktWz1p+h+cgP7sD-+0c-V-L0d-fwefOwItAAjve1KqR+WqcQSaTfS8W-XQSIfnO8e0OfT-KLTQEENmY-AhC-cVXKdHPvfAtA4hYIa-RQA-GfAg-0O-TROXDA+A4hdIUgvA1meg6DIwAAHhCFwPIM0R9ipEJ0ehYgABUyh0ZiBah-IQR3kEgGA6AqgFhKBhx0gWJQAABqbHKxb4YdPvQyfYW-IwXQueViHQvQyxAwoFYw8vAMeyH2AnInSQ6Q-AUQHieQxQrQZQ1QlwDQyw3QmZZIWwow-AEwk-C-cwl6KwkIgIMIkEewig6AkDMoSoaoRDGOfVO2JVMmfQZwMoIeLAooSGYRbg0-Cgw+LYKtHfCo3SeI0AKkAo0oDEMJNZPQbvXvfvf3QfTsZxRo9IfVHKCVPNUwxo7YPNCgiYkUcootUw3QItFI8OAIRSLYQyYycYEY3KFfRsVQZseAxAi8dlLYB6G-E-F6DiJoPsUAbVLRFIPOU2aoooZhAAr2KfAAg4GuPqNGcogA5-bqN-VZRxf4oAqA+45INY4KcAwUQoto8fCfOwYZLI9PCo1AmQXIyYfI8QOE4o14Z48wMoteeo9Exwgk1GOjOo8YkaZonE1ooeCYrvUobow4gPfo14YhZIIYk-bY8NC9ak0aYIU2H4KYgRUkzkxMUAOY9DBYn6dDZYkMEKEMDYr48QXk3YtfVkvoxIckgIM4tE1iK4jeCUW4keMSHYFNdjCE1Y0KJ4pVLYV4mfd4uOafI-KpcqX44k-42-YA3-YEqxUE9PQEkA606E1YmE8YXE1U21YHZJUHVgcHTgC5XgDAPfUUdySyTnZJJ6YgXuKtLXKbHXZ6ViDMzyKSP-UAUsxne0cyBYNjT+HMvMtbXrdDRKRJZhKsryA5L2bBS0EXGNCw-wGNCqIBZIEXKNQc8wKNEc-08wEXa-ScysuNRgGcvslPJuRcpuVcooEXBFMhCwvcpFYUUcgIEXSUOgBYSQIGXQc8y8uQj4E8-wEXM4ycs48qR8uclPG0NmWYBoOgOeb81mX8hgLYD8xRS8FibQxc-wYnXQWoIwbKXGYSXQ+8sCkXESaC8wWC0AeC0eYScSVC2c8CxQFiWeXQFIbC3CxC0AYSMeHC8wNClPYATC4yEnHChCpC0AMAQitc+tFiAAUhYsoo4potAH4votAEYr4uIOguErwt5PgqIpFwAEJxVZK2KqLOLVLcpFLeKILeChKNKRLhJ+DzBdKdyU9eDspMK5LqKTLcp2KlKU9sZDK4LjLQBcYzKpKILsZrLyKAhbLOLfKvKnK+LlKWLRKAhqLzBlL-BkdLRZoOzh0PJqy4oqEAScoQxB5FAY1dBOysyqFF4krzJMy0q8FqAGgAArKnQRLKjGQQUeec5KzMiw37GaIi5IfKsq3eWaLAYqlKryJtXwnsxlEXLFaeCw8a4cMCjop8lPSAYgHZVwa88wBapa5sGa2a4iliQCxwWASASc3a-aza2akXXagAUUXIupOo6JFwADlJA7qWKHq7qJTLFEroQsouqhr44ojMqthsrSBR481SAaxvrPrm0irPrKzmqyyxQg5U0gz-qihAbgbW9lB7I8rYbUqfrF5ESXI9hTMSq4a1c-JtIm5i8kTXJHAiRHBTpGB1IgVHBKrJApAX5h19j2j+ouraz0cLwGyeoZlyboZZJkght7VhSqgtSkDFBKaKdDFpanxwkH4JRudsauyncUDrDLFwaMJm0ASbqhl5hH41bibUrCoKrqqKB7E1ldaEaPYgzDb-ANT9j19eikDbV0csoV8QRSgGhwgN8LwvZJbqhA7dxerYzCqmAEzTkkzuBMA0yE93AKBHASxvhzgbRGApwh0R10c5a9yPkmJfsc7JBR1E0QxghfsljgRc7k4U5zDHAtDdDEj7Di6a7S686nCth0g27h0O666c9voYgbRkxwNqdn5AU+8L8R9nJJBSBSB3kMpaRn4tJ56RKGBdCgR57eSWItDghd6RQLCm6dg16OqWpd7dBEjF5Fc70SB2pTYJ7DCQQtIAoX6wQ77gRTY9JstsDnJEirCWISKrDh7DRTYx7O5sq3sP6XZRA37dIzDWIDAWJB6RBoHTZpUsQWBMY2VL8uV+gyFsGNp96d8WIQwkxsFtIjABU6wop8GkU-tCGjBfk+THtqZKGjBtLWJAhpIK7jI81KGd7uHmpggk656fg068FM6pxKH8dI4dsuQ9sGyBHqGKoEUj8bsYkeN2HKDWIgHdC0GWVMGcqI1BpGGEGfYtDj7ENDV1GnduMHh2G4iKpLGrCDGMHGAsHftTHtGzCLGkHZGDGSKNy37dA3G3AWAu7tRTJlzCHeHAmWIFzdBsF+HQQawi12HQniB77DGPGNokxEjYmFRWIAByY+7SAB0pshqUyepIiIwhlBuwNxksRgfYZp3CmevBuonIQu4xi9Npp2iqEXMBcUI+3EI+7idjF6d8LESZ1iZmdHaSSJzaUAQJvNfpxY9DdZlZrJz+nJiJqp1ZiNLZotLZpp9oFp1I76Fmtm0gDmh23aG4RcDNBGVQfO+RtQi7VYaJIh7a87T+CwjRpZL564AZ9GIea5u8W5ygfYkpR5+nO4OBl58u7u+VN0kF3hkXbhy+k-JDBVb5vJinVQKPOwNp0zJ5u4JFw+FUmYP5p0fF5414zWnk3KEMaxvoBVQFgDYF150MpK8l02cuQaL2bK0luFjNRF-FlY8bf-JlghHehc3h6gvNMVu4elQaGsX7FVgV2YAKZF7UQqYY4g1iDcxV5geF7VwaKpg15liVFiCF9m6F+56vRVmJ61ghM+lIbK+1qFmFtNLViVkFpZrkpc3lN1-0LG-ltV3V3OW08KalzINFnl54tGTFiwtl5DQYSVyYR48Ke06Vwl2uQ2O9X6WfEF3B9MmJ753hvNKtlF-U6JS4t6XiahW7TNH6WoTEGvEQBvcgQEb58t6J3lWtooYIMfdFutsQpiBtw0ptj6ex7t2gfaf8y51SVVxgPBDkBoe0c1fsJ+ftjp9tzESlo171Nd9jBpnYcUQVs984YqSlg9kGxdpQpFmMsAekNtatUdPKlmHYE0ulcgXAMAI5BM0gVmOYNwCPYyWBNxWLaHaHXwfG98RcRQO0WoWnUuRgOxN5uh6mOnXELD4R7Z-sHZYcWR+WDwVD1DCNPNPDzD+BiUyuiNWjgj46C0ugZDyjuU+NZj+B4l9GIJNsUdWWnJaGsxT99HEaviseQT9HWeCEvFdIqoFD0QFsHgXQVDxwfzck5hFQhoGT8KXKJD0gZT1TjZ+NMT-TwbdYyKTFCUM6NRXTyzk4wuLZOzkji6RU2N3Uh2aG5jr2IzkzzTsz6mRz-uqz0MKtKap+Zjt6g8KLwYrj3DjD8UUMq6bNrExLVzddwLtT0ADTq5Uk9oZzphaG0L0dfzu4DjlTxwXLotCzsL1LiOWhqL5+QgPThr7zkBKwatczjRVCfuj10Mag7BDT3L6g-Lwruuwb-qOrvr8TuuxrnNzr0AZhPzwzyr4zibxL1r9rsuxrgIeNumtz7FGL5zyCUI7r+Ytr-T3qc7nWmJ8b6rgrs-dPUFmbmU67hr2ac7pbvN4UYUnrpLlQTDyb-bsMooKEtLgIfdBwD0cgUDmg4r-NtgE91ojI0h-qEoRT1QcJdIFH21okU2ddjHmk+wLLgD0aFwx6FgRtriZt0Ad9z+f6OU0dHVcM3+uwW8+QUD9s6Gxnjd-u4V20Flfu2WuSZhf9r2fn9kUXliNHqoHVDsn93KaXpCfTkiwnmZnVfGmPVkSUPvcvPur9l7qIOW6gku43ovC9vXpmi39HCRIkfXnBh9iNG3vvCst3sEGOT3uWotH363x3pm2mz4u32BpgEA8tgL0P3QKAi92A1W6Pk39oGPt-ct6g3XwPg3xPovFPkAvjmYIde9mEk7bBadlibhldk+PWi+eCadgAzJ64mqIdRwMDiUdHRgdlSGFQVQDmMtv7prgv4EF95b5hT3thTPsEYPuguvt-KVtOOjFrn3xo3sYgRv8uZv1v8Udvl53P3-BL7v-YT30JH3xbrzw76g+l-vjnkNpiA-3pvdwNzPDEfYMdnl0-m6O0n4nRaJOf0GdL6-u-t8z44GFoULATkJiBqj9hdQtQTuHQFy5QCry9KOgFpwPaHkQuDmXhggJgHlxkBstKpkqwjRwDQWwnaiiAOyDgC4CWA2AUzFAGA9n4DmabltRSBUCcB-mCskSDcDo5WaY6G6IgKfhwCbyvA7ATUBQHF83k9DIgZgKEFICrkeAlFgQP5IMDwkJA3GBwKxBcCvILAnBNINYGy1GB5UFQdU0sDkD5iDmQHGmTIFgD8AuoLOPVWLLT0YS1g+QNVFbDGCsGlgxwNlT8i8cXslWGwS4MsGP1QB2HKkjQOyA-Md8VTNQQzWhSaCdBXNYUGMTCERNpuhgpweQACHJCghJgmUskMTR8d4+5cQyPDWhi7hE+BoFcFARE4YQWEE-cfjzD7w01TwIfdusb1j5iCjuxHbFEvxxzy0Ta5Q+QLv2TiyM4eoWTwdzy4JH9veE-GsBUKGGV8lyGQ7WOMPh5cE4eN5QYeH1-zls3iJ7fAAWmHBaFeGLEfYVakOFVNyO1MdYaAAqFGBeGbxKCCi0H5MQ4edwopoUJpp9AUopQzsNcLmFbDhhTw7lA93kBUNBUg7JiLcJdZLCtw35BHkWleH6DhQRaW4UiI+CjDlhcIrgsq1BFoi1keaVETMVGjgkqmJwg4SM2AFAovaSEQIVjgPbUE2KhgnfAsNA44QOEYCWYDe15DTN12KwXQKK02GksqhSqZhFiOCQqFMoXsDEbCImGKABRK4HkSSF0BEjRoQo2fjCTFGHQd6pw9HCM14aRCUW3RakbUiyGaiTQGURIHx0IDoNHeVwbnKCIHZOACmOIxIAsP-auDQBJnXLqh1EHSJSuXsf9l6PU4qdvcHQlrhfmCA75Zi+fOzpcEcAadeg9onUiKOhqocvYLoiElWkL6ocjA+9bhiKFQ6JIvaoACQgAAlzqjgAAILgBwA51AAEoSFIAAAeTurIBcoO+OSPjQ8KrDORRPEkICGlHEB5h5ba0TWVjFJjQsPzd0baMuBqsuRX8QcQS3dEyBgs84ugBe2XFIpexMzcRHLTLEVjqxtYhsc2NbEbjuuM4ucX2PESLjy27owITOPjHVdExi4qZvOJEiWDWckMHZNeyvHQgJx2sYcQew8HpDsqDiCoe8hxghFWRk4WYKeEVEPBwJNPRYaFnmH6DuxoHbcbyL-GDj5hntKwGlAyj15jSEHXKAAAZOxkMeIDxA8SETwB3IPBJQCfgo5aJKgEgCRIIno5mQbErEFYR4CbIw08zIidxMYAXsY8VE1oEb3t6J9BJdExRgxJS5p8Ym5fCwtQRkm0tzgjE4Lob1rr5DxabiSwN3Akm10nARIRQIJPZSrdaJ6kpCIxO3yeEaJnE6yaeEYli8MuxbSwPaB4gyApw+7EMFmKH79s+owQMSfZND478OJ27BRp8xpopc+oSYC-uO16HUEaBnk7yffxfZ4ipyHkxwF5OkBThX+erFWNcFrjX8UpOUtKeZL479gIBdiHoNy3RKSSw+wotyfajKm5SfJSPQ7oXzrrLcVSlw7SQNzEApwr+LnMNEzHaC-8bSH-XNjMlH71CneTQ10pm3mGTTRpuWRfrFyKb7CwoKo9IG1LSlTDUSDQcLsKEUhIhfuX-Y7MCKHZvDMeP0bKe1PSk9TmG+0vKQwzrozJ0g2002L-0h5-9SpD0tKUAL0nfQPhxQtLPcCE7Z8MSAIiydDTH65Qj+U-I-In3aEHdIosVWzl0LUQn9ySaMEgMYRWEI9DpBeH3sqKYHmBIgK07Wkty6lD9Igw0tZHgDHgsyQwo-OoYjIn6LSWh0gFaX5J0SYynAi-GYeEhX6EysRA0r9iqJSAkz2gDvBoWykymtQ38uPPoQn1aHo5SSfMqabdBVLVTH46IVYFTJe6NTcJJKZmazJqI6IyRZwikdmy8798i4lwQxJLM1km9tZ0JItvagJkREiZawsbs92anX9dhtrHUecKKY2zdRJPSUv1NUAByfmABKIU4EL5xzbpyzMGX0AhmUAhOccvKoHJVlAiJJ3OLTrwwznuge8kM+3qoGe65zYZ5gC2WPCTnugHuDmUAAKgra8pq5PzH2S2AlkIilBayBEf5iVn+Ae5fs9KanJHktRlWw86WcKBJEotI5hw-PnnkImFJfxuZR0XljLzwTaAleQiV2zsDoRgI1oh4OZPLa-ZzJFZGSXe3PmoDxBhadDEWivk-Mhm0gLybUB7TMxyyVTKuuhhfl8dAYswByatEIn8jzmbkZwQBNABqiI+KYmocBAxwgKvYBkr0EZP7omTVglUyYDImICEytRLLCqGPIlnyiUJc84+bIB4yIKOR5kqeQEFgW-5+JC0MeQQtDnkjo5B4A0dqGLip0IFZk2iXe2oWnhaFMyI0VYBpFZCWF5o9aHhKyj7jHAdYtiAABlzqbY24mQgolyp0JQFQSQOKgW2BAJMJUcU0P7CXB-xtgKceeNjH0pdF5i3MlU03EtBbFFZRxSAsBB7jyxCi5RaorPE-ALx5cWxTeKAnJCKBqtBxHeKyEPiExdmF8XPNTyET3xyQ6SPoIiVuCSKWLOZgko-HmDEO1NQJfoqHF1zglbgh0DYNAktRBJo8EIkAsNCCT+FbsnCbDLQlWAMJ+SmEYUvBKUjYgnEtpnKIgXNz2lQwj0eEPLbASylGMEMLsNxh9QPBKtcuFoJmTfjMJ-YvpViEgWDKmlMyQwUAtsWkLoF4JDqt6TyEFD-gxwXhWstWUtMhllguGTUJTANVcogYktpcsUqsQeFbTNnkLjwYtd7lpUQjvcG6X2helbTa5XkNka-Ks0WgZ9lsyOVuCFhMwGcaL1eFbznREaV4Uw2+SihC+GYhYd8FxDbt5xi0mcevJ3G0B2Uh3RFUJ13m5kkezCNMblCiVPi7M1KxrswgXqE4Egyy84JYORrAJUlnozjqew3mJK3BnylIKoBZgmdXxwqj8dN2oLUrdAhg9lQZJ+DUrhlETCEhdPDI30JaOISwCAqJXji75OC6GoOK9gULT5vIbBejLkYmKrgSKgpcNLZmpiVOXsRlS2GfGOrf+bKmwCqoNU8rsoExfldkClWZL0cIq0AWKs6qSrBVgkiNdkElzlRVJYC4yCJWVWcqZJNyzVQ7PS5ey3EO7A1UyGpUkqsJm8++SApLUkg05B4AtXUpZVVMC1xallRe0bXzjK1KwdlHiv1VqraaxK5tSapqHNAfxpK+gF7HkWHj6xjYlseAHDjjqaxk6k8WovlXzjFVIlIdVyuhCZjrZFQZBr4PtS1q15xqhInqvtAyTe1RqwiRCWYTrrdFY6zxYopUUzrJg8ih9aoqlExNBJq60eDesImLxr+LEHdSvNXyu0xQlVLnNEgcHX80BLza+l2JdLoQwNQgGDXLRrbEwL2twH4Ahp8h9tiY5bV-rBtLTAaDi55RDVQmQ1by6iEGislPhI0+RyNLvC9FRvQ0mhREDgUjb23o0wl8NFZeICCGODlxelVGi+YvjQ17q3E3rO5qVgwT0aP8Xylhshr44IbqApkrDUICRiwrghW8vYgcVU1kbdNvbBOU-ksFVMlNpkjDaBuw1Sx2NukTKe8r4VT59NVm7DW8Du4BkjNeQ21BKogrDMj6dmtZRYVM25lNFd6EjcptWC0a1NoKuFVps1IRayNcWgzfqLIRRCoVMQ7gdhGgGdwHEfmlpt-FdgJacEbG5zVFuCG3cKKIlULWZpY3IQitamwrXQGs0ua3NaCrNRQi80kUxmL0HLStUq1Ba0yvG-GK-QBHqq5aYy+QOUoqhTLoIU6B+QcFOUKBzluWgbdTkW37B1WdC4BGIpxAmi0l4JZEB8CFJUjxFO2z0VAWggoh0gO+MrckA03hC2tkqrVNQFmYsRutFhZbcnGC0wFZxC9Wvn3wjLzbS2qgRYlKl9oVUA67tY4nxwk2OsGkQ227RE3ti-EQlIEiZcrJHiIVmoVwHCCzCUCE9MIKWeCDMWh0ws8w2DGzQCKnmF4Y+HFFUfqXEDkyKZM7Onh9Dh4mzmeTdc7Xdztas1IWkmlaIsx0ZbaJFu2guQRCu3NR4dLidrdzpuZ8708vmgHatosLE6nWH2nAKKKEg1aLy0Ar2AAE45IMPbXVeXVXPxO+S6WHtAPVU003AE9eeJ1Js6zbvgTqrYLTMih2AjWpEpHgEFvLQDFAxTYpi9DQBB6o1Osz-uVB91Xl0pTusHuYAj0tgPBrgT5B4PmICg7A4ke3IqX-7+A49VuxPTfl0A2g4xcehYTIA-lfy5ZqifFSVpGUHt4d927ze-KvLl6M8byxXR8q0iN7P50qb+b1UhhatVtJkLJizFQJYgmgOYdpgOtSgpgvYorM1s82yaD6vNADGSIs3DgqkrIjAMfctVACcMWI9wUglaXJJx6SKYkcSFqxgUQKyeS+-6BhVFohhj9ZzC5SmF3SgwHZf0lUmqs3bbsr2ncZ-UjwPWcSi1ba1tRvOdx-7f+6+0fT3m327799vqL3dnot2R6WIp+80tSsva7sb9p+4GK-umkmA-pWqooMfpQOoHxIbTI+BKN7ZYHsDjXHPYEJmUhKJtLUKbVYkf25bpZeO5tJmHggpghhiq+nQQBEqIg0R3WuUZfSO3baTdzI3SdqpwD97elxTRUYoApkAAdLAHWuNo1QOQ+AXEFgyu04U3KKcfqAHtYhwGtAOqeQ3wsUNntlDTAtQxoZqnSpqADoXQ-aN5SEBUCNYNDjf0UAeHQAAAL0xrmA1DyQOZU4ZcMeMqdBhgI4mksQmG99Zw8w73q0UukwEdAHiJ8iJBebblU+mff0q1b2iYGi+n9uYRX0nSVu0NAAgolEO8GpSEh4XZ6OkNMKS8OHX0j3GOHcR0YqwoFDcPkCSBSGSIE6DsxgYD7ODNfJQLUbzRVGawURoPKPERC88ahWRzeI8ybBewWIAARUv3LHyALOT7W4lJbihh0G+qMjkayg7GpRxyTmjsbJZNgISh3Oojsed1EGkD+wEg+JD9i4gfomDIkPxpv1RrCDyUaGtPtyiz7+WhRh+hcdKOr779rxk-afpuHHGeJ9JK-T+1IMh7EDRu-YGwdablGbV7atXs4a3azAf9T8P-ctwAP2ggDG8oEFew3Wng724BvqMQcrHziMDw4H6NQF6NtgWEGBNABiaug5rw9cJ94wifIOHQGApBsSEfQFPJA6DWQhxB4KYOTanSGO4BDibCRZYDu1fAnRMb4PGQBDleywEIcxozIaj4hvvMaKkNkJE0i3EMIcaRN4h6Srk2Q1gAdPVknTRRVyYBwv1rLUTux7LHgDCPaHXDGlJJinn6Ok4j6pAI+iMycJ4BxT0i3tqkB9PBnnDOhyI-oaGZH0Gg0Z2M8kt+Y5m8zL0OM74CDOaHy4IZyI9mZrAi5czeufM7WYjNFmGzJZxZqmYrPhGMzWDbM1GabN8UYzbZ-s95pbPaZGzZZsAGmYiM9nmzUZhs8OZIpxnwzfFSM6xHrNjmhzE5gmnASrMzmVzo5xtI2fnhkJlzI5ucxudYilmgAA')">const input_prompt = "Query input:";
const output_prompt = "Query results:";

function query_driver_loop() {
    const input = user_read(input_prompt);
    const q = query_process(parse(input + ";"));
    if (assertion_to_be_added(q)) {
        add_rule_or_assertion(add_assertion_body(q));
        display("Assertion added to data base.");
    } else {
        display(output_prompt);
        display_stream(
          stream_map(
            frame =>
              unparse_query(
                instantiate(q, frame, (v, ignore) => v)),
            evaluate_query(q, singleton_stream(null))));
    }
    query_driver_loop();
}
</pre></div></div></td></tr></table>
      
      
      
      
      Here, as in the other evaluators in this chapter, queries are read from
      the user as strings. We reuse the
      <kbd>parse</kbd> function 
      from section&nbsp;<REF NAME="sec:representing-expressions"><a class="superscript" id="4.4.4-sec-link-4.1.2" href="./4.1.2.html">4.1.2</a></REF> to
      transform such
      <kbd>input</kbd>
      strings into a tagged list representation. We append
      <kbd>";"</kbd> to the string
      so that the parser treats it as an expression statement.
      The implementation of the
      
	<span style="color:green">
	  expression
	  syntax, 	  
	</span>
	<span style="color:blue">
	  query processing,
	</span>
      
      including the predicate
      
	<span style="color:green">
	  <kbd>assertion-to-be-added?</kbd>
	</span>
	<span style="color:blue">
	  <kbd>assertion_to_be_added</kbd>
	</span>
      
      and the selector
      
	<span style="color:green">
	  <kbd>add-assertion-body</kbd>,
	  is given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
	</span>
	<span style="color:blue">
	  <kbd>add_assertion_body</kbd>
	  is given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
	</span>
      
      
	<span style="color:green">
	  <kbd>Add\?rule\?or-assertion!</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>add_rule_or_assertion</kbd>
	</span>
      
      is defined in section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p3' class='permalink'></a><p>
      Before doing any processing on
      
	<span style="color:green">
	  an input expression,
	</span>
	<span style="color:blue">
	  an input query,
	</span>
      
      the driver loop
      transforms it syntactically into a form that makes the processing more
      
	<span style="color:green">efficient.</span>
	<span style="color:blue">convenient.</span>
      
      <span class='comment'>
	In the JavaScript adaptation, there is no need to precede variable
	names with <QUOTE>?</QUOTE>, see comment in section 4.4.1. We are
	using the same internal representation as in the Scheme version, because
	this way, we can distinguish the name
	<kbd>my_name</kbd> from the data log list
	<kbd>list("name", "my_name")</kbd>.
	The original authors were saying <QUOTE>efficient</QUOTE> because
	of the string manipulations that would be required at runtime.
      </span>
      This involves changing the 
      
      
      representation of pattern variables.  When the query is instantiated, any
      variables that remain unbound are transformed back to the input
      representation before being printed.  These transformations are performed
      by the two
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green">
	  <kbd>query-syntax\?process</kbd>
	</span>
	<span style="color:blue">
	  <kbd>query_process</kbd>
	</span>
      
      and
      
	<span style="color:green">
	  <kbd>contract-question-mark</kbd>
	</span>
	<span style="color:blue">
	  <kbd>contract_question_mark</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>).
    </p></div>

    <div class='permalink'>
<a name='p4' class='permalink'></a><p>
      
      To instantiate
      
	<span style="color:green">
      an expression,
	</span>
	<span style="color:blue">
	  a component,
	</span>
      
      we copy it, replacing any variables in
      the
      
	<span style="color:green">
      expression
	</span>
	<span style="color:blue">
	  component
	</span>
      
      by their values in a given frame.  The values are
      themselves instantiated, since they could contain variables (for
      example, if
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in <kbd>exp</kbd> is bound to
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      as the result of unification and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is in turn bound to&nbsp;5).  The action to take if a variable cannot be
      instantiated is given by a
      
	<span style="color:green">procedural</span>
	<span style="color:blue">functional</span>
      
      argument to
      <kbd>instantiate</kbd>.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (instantiate exp frame unbound-var-handler)
(define (copy exp)
  (cond ((var? exp)
         (let ((binding (binding-in-frame exp frame)))
           (if binding
               (copy (binding-value binding))
               (unbound-var-handler exp frame))))
        ((pair? exp)
         (cons (copy (car exp)) (copy (cdr exp))))
        (else exp)))
  (copy exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06cDwc73jxxQIBgeAkFQNA8TQYkLne8xRRBLQKCyXIFEIehiDoShwf25JUnSBQWDIfRxclmoZfCUAAB8dcU0UPl6zq1cUDXpdlmI9YN1IWDkjghFNiWpa13X9ZfRWMjFs2Xct2JrY9sUPzVKV1d9+mmeBagRZ+aanfN12IkKALiZUH3NcoV63uTd1UmYMQJGEBhZzBMOM52Pp7h2wm9oE0VSbLi3wgAMmb3p+kGRvXeEoFKEr-Os8j0U6D+gGu8t4iRtFfPC+L0F499iyR-+wqIsjwxfGV-BG3wGQ0lHheM7lgTDojcf+TXxHBdSc1qDEOh-plw+m5rqe8-IAvajnudx4s2-78flpCOV8XD-wfhbBgG8t7e2dkfV+qdT51iGB3fQZ905N0mMAgWoC3B33ATLa6OMGAo0IIEXB9Bn6JxTvLduIwIxoNgRg+m2cWKigqMoNgE1sp0EoRPahdd36fyLiXXhFkSxCBAuwzhlV6DwjdjbKus8RG-1EjDP4DApFcNRHIgO-pp4fyUfPFR4ImYaJMNI7hq8WFuU0TIxgUC7YwITnw2II1EG2ncU48OmDXqR1sdwwhBZiHI1IcQchPDz6EzcSg+hSDz4X35jnIWf0WDCHIME0J4TeFDTfoor+yj0Eywspw5WaSMlkMMM4KxkcSmpPSYufGkgyCQM3o4ww2SompxuNiBx28GC733v9bgnjskJJqSkspdthC+A6X+aJdCkEMOcT42a1jr4MECpA5gWhAGzOWLkme+SjGFMoBZTZHwqDEEAdUkBtckjlLCZUihkS5kIJiXEk5CS1kKwYG8NiqJOh7MKAcgxRyf4nLEfQf5zgfgkIqVU8IuiDT6KEd-UuELRJ-OjjCxsFydkWxudgtOS0AWNlCWxbkWggVExoSXDZlRRGgDxFgnOWLSW-KNG0AsT8Xn7NTnSwIMhGWkl8bctlOKGCdBFiPGgOYx6fM6bS0E9KhUqJ0MwoeqRjDtAtn1RsYdKmolmf+f8-C3QosMeCxhRTRLau5TQH4BrsWyJZSxKopAPhbMubs3lri3kLNtPE0VRLjB-K9finlCrXk0JGUs7xGrbminYB4Lw1KaUCLycI451rTmiWTcoLwhKc75q8K1fA0y013JcCMoNqzNWSsIIQEElLnBppBaigpOa-6NubZY11blTFwsea2316aDrvMDZ8-t5gJorSHeE9po6q20MGLEydOaVmXyJaKHq+gSHH3NYIy1YISEWWKFY6QIMQGGBZkoKAcBEDIHQDzPEiSWLEBQpcxl0scw5NTkLaOLkvFH2kqUYWQHAnyo3dJZow8D7n1A7JeShAWnQMg0YVpfSBnLyg8s7gP6-TTFgzfHt1AW3PM+YhjQTaZkfvzF+wdIT4UUY3fhugv60LoTpQM6a7TZ0PIXdktjv7bBQWI-0iqVBggcuVtUbh2TEN0fXF+rKlBpPi0WgEtTDam1kfk+fYThGjK5w5SSnFCn-SlCU6Z6F9BAUqIIzBkztSynzqeREyjlnBLkx+iAmcEz6lcP+iLVDbShOGW3C59JUyZkGZaOxozSlDZct1Y6n2hqR2eYNFZtckCUsyz1TJyWGWWN4fi7+pzoormaFxHiq5FsLPZbKMHL0lXbZclTQhrz1mS3foS21+l8tw31cjdB7ruXznbJG+irt5XEurBM2An1WWAwtFy0thrDn+tiZM6Y-xRrz64VAFgKCOX6NUr2+Ypg+BTMXIIVIoTc2Bv7cy2Npr1mXulcXk9-0xlSCmUZVZGydlHLUl8DLcgyMPJeSUx0LQF7I7UbYDM5E3BZ1hEJq+euvUFDYrlb57B+hkS-gVCNJHuJSHUFx7KlqTMicODR6QMQYQaL4UIu6YUb5Uhh3KAT5M9O6Ak4aOeMhGQyqw4YyAstFbiecZ0v6FGaMi4-rgvQXZEX5eJilw00eIt2my415rwQTPDBy6N-6Qd7HVf4LBMT58wL-2pE2XHUXbBZYRdKM7qipm0Zgld+7iczROwamWGzk8CoTLBAFxZaytkHIuEjpQXwJBoeCB7b4QqsRzhbpztxvevG90hNN3Nmuy7un6FnYCAAfGt87ANZ2Gfw0XhNRLrPirs8Bi2hn4E0OnqQfgqhaOfqpe3keZLAgUq-XFgj82Si1+UyPqFzqx+3fyzNsrjnQzGWH-KszHfJVu7IDK6gcrHsEcHrc6zdrUv6vS8vvrv6a7nndZ6j4CgQLTUZBriXF24Kv6m8tqxufuSFjk7sTOhi-iBG-h-oNLtA7jQpAVsu-pBn5GHkRCGCND-gDKGlCsNoAXhsAfGHWrcnnkHGAlKDhhjpPF0hoPoDhtXqJJCA4OQcIHCNwJQS3jnIYNyIwPgPwGYhwlos4IulGmaj8tfgVmls7CVh5m9k1tRtLIMNwUIP0vwZ9u8ETn-lAQAZtlOmbtBMobwWoeYkIUaEYEECIHgboRupMIpOJuoY1k1iIuoaFtvKMnYaAOkJkBfq3rlr1lto-sROeDFoyCWtLrFp8n5OeHuDekCIYaoZIiYXYu0jFoeDEOeMwbgvfLULEVHJ6gMpkZUtkYMDEWkculgZtOWj0IroocQlbvIDbjOA2KbobubgaIUXgjkdwK0W0dMDPj4TnNZpNt6tYc4t3tQTQs1INsqOhobhUZsm5q9hvglpwe+utlkY0QEbtOeJ-kCBURtgQtNAJu5mfgln5GAq4Y2HHAcVAZhp3lrNjAWIZn5CNNNAMWsT8A4VsTXBcb0lcTdC4X8Y9j0X0TvvoC4UcYsV9kfPob0YUP0WIc1hUCHCHhFIzNeremzA+pzM+pYG+m5H3gPjMsjAej8nbNvP0DwiScdqGKUMjB4ZHtOMjBZOSQ7C4CQiYFoMIAECYMQCfrUI0AjrclMXTjrsFmQMXjFuMYiSIuCDzpYUzOCLCQaGKU0h6twFKXNsGkktzj7LznTjIKSSZoclmnODIJCs7PqSAkWm6trkFmqfrkaQKgyuaUytOgnlLjFkTk6cqoKkTtwCKrNJHJbjmNbrsoaT3gJM6UKq6equ8U1D5l7jjKbDLC-BMVGfPOCEmQWEqcSr7u6SZtmQDNNEaRamCmCNNGcuAdNDaW5EWT7g1iWZGeOgGlkCWasUjI4F8JUp1HUaGQ0bsgRs2S4BGMAQjESogXDHuglsOSutOb+q9OeH3C1NVknn2WGRbIyF4WwCcN8t5ncFOX8cXrxkaaTEeY8WEgWXDJcfro0s8MnPASfCgnTNqW6o0pBreaPPebEIiRGC+cQa3qjLUSrgOQ1ueQNLqBqesCuTOemW6BwJ1H3BhtAhjj3MCNLGIEhWuEsLSaNGZD5oeXcceZ0GEFBcYH2bPrEM0AhZhaoMhW0uEAADzoWIV0XYWUVz6MkQgAAqck3mdAvgxuYgvAgCN6NIpGApokoAAA1DSUbkbMtEKDMkeeELJbmeCDJXJZrgpZ1EpeNLqLYYHi0P9lHuCLxfgCDMQPZEJSJRbGJViLppJRpbJSCbEDpWIHpSpZpepZpa5TEO5XpexR2eYPlChn8ehn8dKUiJfuxsXHJNiEOcRNFSGjwfRdvMRQZaXnxL3p7JkGlQZa5VZrFeiNiH5bENLBwvgD2XOvUWrg1jPq5c0H8SpECIdCpWVbMCguxWVU1alZhERdYNaLaEFX5EQa2Jzj+i1eyJXKubiCBXVVQn2FxZFaJNZHbOUJ4aPJnkeAROHn2M-o0oyJOY0vOWUSsCNIYUTu+UeVdV+cqehNeQXnTGdVnuSAxJgcVfFadfGTOhsZcRFXcdjFFVrq3p9UQKdVlTEOvKleBexZDUULktuflThdBEVTmHFeDX5RVd2VdPNY0Q1ehE1XcVNW1QNSCaUKRIdNhdjBxSsL1Y7P1ShYNfeG2SRfbkUNqCGK+JNWhcucQhLGuXjYAnAX0SZdOCtUDutSIJtf9KnjcdtfRMeOgftcVHjKPEdVoT9CdYQaGBdaldeTdXTPddBI9VRJ+WDC9XhG9YiT+hjQlWcasuidgjenIKzPehzE+tzBgPiespTtTvyXzkasToqhmiaWitHqJH7XjsQLWeYFHTTgwFTk2tNvJsHdGk+a2QLl8uePHQHUzLkSIs6LKXMLmbEHMBOINUXZmRyKXTEByBXbCbKQhLXXhQ3VXXOGJKCC3SXG3dMLKcPF7LmQPZkP6JXX3ZmcFE2uQBntwJPZwoJQaGPQ0LKYybXYyX2EvUULKTcH3JKiwIYEqTvaoHvTeisJvYULKdJS3bEPoMyaAL4OEACDXlDrJQvefbELKe5NfTELfdwA-QwVDl5G-Y3ZmWwdML-ffY-c-aAJCPfTEO-TELKcAN-QYHff-U-aAFDmAMA+3WCOCAAKQoMQPoPQP4NwOgAIN5F4M9zX3ENQOYNTUP0gMd0ACEwktDaD9DUObDQITDuDEIjFRDnDADoAzFMQfD49HdjFAI39dDIj0j4jlDspVeQjf9XDoANeijzDeDVeMj3ARQcjGDUOujWj-D4ILDKDDDhQGDMQLDsQJJzoToOdOO0dgdVUR5gIIY5ecw3Aud+O+dTjqtfjtOUu+ALAAAVpybEV47QciAwU3S4zTrmSMnbpQ0UME240aE6EVO8CVIkwHeIjLAXfPLKcHrmcHmk3CVQxCJAHQGqNHDPTELU-U0npU3CdvVQMfbAJALXUfQwN02070R07vQAKIt19MjODNtGykABy5AMzKDczMztN5ugTuTPA+T+OhTtxKFnjKw5eygDBh0ygzNGT2zLOOTVIZzxUEiH5ez0wBzRzE6Ysm4GzVOrj5z2TiO6eDAGTBpDOQlJcRp5OidjA4opAyOV04T5AeY3BvUmg+grRGTSdHAgCqdDgUzhQs6QLRwRQAFXB-EKGQtDWRpNRlhxLT8huCh6MfzUu4FZVbz-tWzNzBCKlxtRQ1LgwtL2C-SETUT3RbR1zuTtzJ57LhQfNs165oFWsWcHAAgfNYgXwLAsKtVNujIwEWIUrC1YI2TTtyYLt8gd67Mj6XMmAPtLgbwlAFApgDAOqHwVUNwpAqaaizYs5A9ysqsIyLrjos+nVmdEY3rmC3lDAzl1IVrilMgMyXrE0mMPrIYzQ0bQM2Er5bk4sNweWOuXJRg4bnUVBiJ5AygygIlGQX6RgaOhb9DN6slFehbU14IGlpQ9boAzQPlslBbJzYr-o9b3A7lFz45OcDgDSxg2bxsYgjOzO47QcQ7hYEQpqj5bo7l3lEImlab6SxgmbUo5e-Gg7E0xg47Ew3l1g4IKb5gO7HqLUIsCgFeTOpZuVWQs6vrok252kRGzm88D7oArc0kXOaQXsqCSCD7iKOsc5EYgHoAPDok56j7yCIwH7aF4I56ikpQlr1rIEdrsUjrqaD7HhP7SOemRqH7X7E4cG-0AuyYxxragHtNjby7slZ75Fl7MHgw6O17O0coLlE4Glob4V2GB8jGmSJxYHHHfYXHml9HF7ZAV7IyLHVHqlEW8IL7BoQedA07eUXd473A4nTAknhlr79cS42Hq24nEIzd3AIih0D7Q197N7zNWnl7s+4m7lrHj74IAA5KG5Xmpe5-G2G6O3pQ+yeyqCp7uy1DqqQDMmF--XBT8kjf9B69OIdJF5ixOLKUIMIOpcEOpXZFpH-G4GmOpf3hwPCLpzJMZ4lwWOF8zRGEl5p8F+e9p6QDxD52VygjVyzfoG11p0lz9S4NC7C8oPCzAUQqQh4I8oXoQLezpr2kavuiGGBpmXh+RnQLmfx8xjwvup2zEOXn1+sAN9QJoJBr8-IMoI8vu+N5gj5yRwDLN6trKeej23cf0nvDhudw5y0CEj16AJF0d6N24OdzXKAVN-h62vuiLc-nS8TUCCGDx893x1LlCetyEuzekUE8d48l-OjoyOXt9yNyd24Gd6D6NcuqYs1fB83XN3hUx-oLj+j0XOjszSMjT3l3Tybhd3TVejy6T6pCXIp0UKUEz8YCz8zj5yT5D6pDt3C-t0NzmRT6TKL9Apt95tiBL3twd0cQLwT0jyV0pHLxDwrxs794L5Kqz6gUrRzu2IMtd1r1lSNHd7mTD5b696b7tcrQjanCQqgfiyxEniQP99FyZqTDd9MH64MEH8ZlxaeqtcDvHu9wJ25D7zHQWZa3ZX74ifp2NGH3z+15nwthHyEjHtH6Dgj3mXZUKUSuaGmFVNpirJKsIBUKH0j7OQn-9-BxX3VIF4IHX5Knl5pFVF6furOcc-QL7u0oT1725EbP0AoDprURUPPV2GyHP9PV-IYKSG63e0YMyhT0v74Cv8SE8D56TG1cyor08AwZP39DP5YTv12Fa1P2RIYCfwy+bjf0XKv2MomqmRC-0Pjq-5v7PQRGX5v81+-vYemBC36rZX+kCffm9yP4oJH+yXAwPQ2qAiwHYv-QAbv0GBQDV+TwRXv6DP4YML+0-TCMyi+Trw7+l-GQJwkoDl5Uc1II0lQKoBowtkgQP6CO3v60CAWEwDvowMoDMCiB7Av6JNyRpEDH225S7l-zQEtQ-+hkNqhQJ4hisCBNeXgfwPkGCDiBSCUQWQMvxAVLCQoW7KCEbIxt+oaSXNHTCfyq1PooRY6L2W+hTlvWtMO8i8UdxBxkSXoW6NtGo7vclcVMYGKYMcFfkPCHEaVAwB3pcRPo6GT6MzX8Fq0wYn3YIUflCFUAuIHEWelQACEEx-ecMOtjIDrC1ANKFPExHkPS4+cuUgKVIaxCoDhAKe2QmIJd1SC7oOI1Q1bGSyLj6DKQhgp+BUJiF0x6hvzJcE0M-Ztx0+04UwY+wSH3IwhdFCME0LwErAIwYwuYdMAmGMAphVPWYc-2giHRFhmw7cM9R85FC9g+Qz7tVTlY5QBB1Jf3qTDvpKDPCXsYKhaz6AFpJUjANvgRx76ohuAOPdIV9wq64hzBQRVWlMPpQ0g3cjIFYUkM4h0VvhuaN4c4AFZVMJw33f8vOxcDAj-cOQ4obzznziD2epwyQOcLUHoiwkYuB4WUHIrtQUY1PKoevxYHLR1hVQskelBYFT8cQbIboCAPJDnhci6UNkZmF8CBlURJmYPEYHCClBtyzbakJ90pHIwGARIXeNSJcSxBzw3QRkIdCaHOCcq10RCH4DFGQcNKzQboLK0kCgBuKAACRGYMAAAguAHAAjMAAStxUgAAB5GZsgCBDbldywZSQGoG74aRUQ7SFYRkJnaIleAFIj8MjEVHSpH2zImURjw+HCEoxR+N7syM6CNg4RRoDvqmMyB+jK+ZhI0uaMtE2i7Rjol0W6KzEDg4xdPBMWYRWFGlmRAgmUXKKzAKi6xuXf0c4HchECy+OcNUNWI7G1imBR+YMUaSIE-RqB5eDXKYJErV4eiagEwKWhUIZieE048yJOD4HDjYhfITbjIB9HH1lxgYocUkBHHMI5WcQDIC1FyAOARYjIAAAxejbkNQeyBsgvFA8luidQYA9FfFXiv+jIQrpeL4K-jZKeITUQJH-EcprxZADvlMSfHajY2vgrGOeI4BviAk1AX0LOVJgIdcypMcCYt1Qncl2ugbbQUSkCA4Y4JDoVINUGyAXjtiqtXCaRnfFoStyVlF8chLwmxQ0JKUckInkCAtR7InQVNAPySp+otRu6AfoZFKAwSWJ3rcbgEFfHsSqoaElZuJkD5I8JJlPO-nxIElU9QeSw9kLxIYD8S2AqaUclr2Umx9PeQozSYZO0n-iyRFQEgCIFSAUJI+DgrcbtB4nEAtJxkvdCLRiCA8xJQuF8BNXaCAo3JjoeGudVThWsCwRPRWi70inFhLB1gu6F9EYBTlcYKI6CLkhFEsAVmuFXIYRGf7hgDJRk1NBELjh5TLaHNE7GgUSljofkgfZoajX0leSbJPkw6BFL1itTvJJkpBI6FaLNBCpxgOKf5DGoiSBI1ksqed0+6tDE6e8YrJUg2huS1wI4iwesysFAgIhdgk6m5Kyn+TOcdjd8G4K-BRC-Jy6BwEpUhHhCbBK0SqbdOZq7DYgq09ybizepm8ApE0fSr+DaJ4BIQ-0kMMEVukpTtooLLWgfBen7S3eNCI6R2BaynSHphuQMHQCulrCHBT02IBVJuhRC9JFuO8obmMi6DBgK0zoCOOd7s5XwDkxQs5J4QvS9pd5e8n9IBlRSaEhwjgOl3Jl7VsqAkVoQhNxiQynB1tHPCxEumRtrpdFQgAuDvAAjES2Q+DrkKOElDVsbM-IaUNClZBJZvjUkDUMaR9DGhzKLSlnzmn6DFp1ADaJrJ4DSz8Z7PHdF9MIBr8KexshaVVSWmPB7ZvjNkOYNABMzIQfQ0mJLJbjDDUg-s7WUZxRliy1hMwp-m0RmGkhcZMQUWbiDWHqjo5iI6YOqLjkYzpg+w9nirI5nj91k-4ivDWMFy0iw6IiZcWcgvGx0LW9ADhGGNbR2TB+zzaicmyDK3JwJXpJuaAI35rp9gNE7XnPlS5sB+JvgPOP3kT4+dY0SCOycRJzggt0kRc-8V8L+H9CNxx434WQH+F3l1pVIDhJSVYnxQLwZE71pRJ4R2SoiqtROSCLFxf4Jw18tYTCOlTxzDQXZBuc8jZKHzEB-oZEYLKFHXyMR8srERT1xGvssCtrP4a3IphVE1Yn8uyXgPxFqZ7EaggBSSLdxfIzxhYhgPaMsgAAZEZu6LuHeFzWllKEYfMPHry6Aa0-3mGJagyikxSQGMZWIjFfx-xFC6MT52zGNg2FXE-tixC4XkKz+-vLBTgvwXgAKxIEKsYIrrGzkxxnLRFtuAbFqCmx8ooVG2N2FZkLxXY+QfCE25KLWBV7LCVXI4DaKDFxXT7iCx4VBj3Jsi+QeOKoCTjtw-4hgj0QXmHyoFvjI8VQvck7i9x0irxSeJOEotQukCp+ZuINryDRxdi3gY4uzmHUMGhkORY2ln4YCpQrRPsbmN75mEwlG8o2q0VuGWKLx7SHJd4uerKkIlBiskeAsi4dc-hwYlkUIN3kCBWgcTIELyOb5tdwQ1Sv4QrWXTHTPwUoFpRiyQ7UhglECrebUq3n1LRBHhIZR5lTJFNJllXaZZEulFnyKgyMB0IqMm5Od1RjIt2CZl3R7LZYZIj4MEBajLiwZ9C5cbtEB4yitlNy86SqL8CMgVFLYoVDctGnngi2-2CBJcqIH3N5c+i1kd0HbF5i6Apiqfr0sKClQcQYKrJRCu7FitSYlcpAQwR+WkSQI-yyJWUTqnERs8e5M5YEEPlXKIxUC2iesxWGMg3g9ck4hfJAKc5RQ9y82V4qCnC5VaqooEG8txCtjWVXy1WhiogTgSAVAIPysCrYGgrRI-4yFX9GhWxBYVkqzRSYqRWGQcJF47gLcMFUEJhVOKzma7ytrCy3IAwIuOBOkzLji5A40uT3PcU3LDZc+Y1TapLlvcHV5qz5e3PL5d9XVTqmuESouUlzSVGyi1eCrKJRQ2A-Y8FbkSwXFiHRTo10eIvJBRrbRMassYQpRUlyNV9DbeOGoRUXMhR4IDEMe3dXzyu+S8miT6rUzErwJ30ehfStflUgs15CxkCIrwUEK-IzasReCKXDLy0VGDBtWwrKIjR81haNZfzRqymZwmfmEhHmyFFgDxufbPcogTeATqUQc6o0p1Obwd8yEIEJdfNFH7N4m+-UjdUWtYSpBJWwUZdfzinXCC-2V6ngZrXPXzRV1zckYLeuPV1kwkkiFIBesoB7rCA06iaW6FMl-qCyNQMQJciLg1Kr1z6hvsBo74q9BuRWX2E+qTg-khR662DQXNrl0Bwm+AKiTupRDF4KlU-SbpK3w384yNP6x9kRr+g+cl1uG8+R+vHW7qUy360iiCW6UTLF19Ab9Sxt3WV0js5uajTxGYSwrwQaXdShxvC65k6N1QL5rcnPX0bwSX63dSssqW0iz1ymwnA+oI1iCvYEg1AT-2kGpLBg3+HfOMvC6aEPUn6wwDxu02mBSKW4hpQoJOwNBbhCmqiVuo0Sab7NSmmzXxsghG4hNCSUTZlwsiSbGm7mwXA+KJSgav06OVTcRtsUGL7FNA2ghrjllV4XNrYDfuFroLEAwNXJczTMnp4vz5ciCwkQYtuoW1RMTWcrcgsq29CTUko7cgFqKBBbXoom7LhJrM2RdcysWrQHJsAomB+AVvCbrOQqKR8FWSrFVv2W1Zkj4NUvdDPFsc2iCiwF1aJROLS2hgMtikFGMNqpTqRmAkhKlGVQW0Hdx4rHBzXDHjndRaYUDZ-lxRzAIi05QOOPKDg4gDRSAqeZyidia2FBwQZ26Xon0HkyQ6tTmqrXyA8ItbFI7W2aKJsB2QZutdeIrbmQR0lldy54G4LKLnrT1GQAAThOB+J2I89cHf+qhrybid09JzYnRFjZt2C50wHiIJOXw06pr4FwGhVvHnTCgOOmZK51c4WQ0AguuVXhDN7CSGgPOqnh8GR7TAed1OwDOLTsWYRZY7BDyG6VGkMQGIsuscfLrLbeZsdlOh+hYpHnT1x5BYN8PfHOUJbGlWQ66vII638AIQnQUeabpjphaetPStHMbrHlMAJ5g2nOALyK1vgVO-AVcGQDtiGoouXI1Wq0EZA480ef3VTtUFKjeUjg5ihlQYDlSkBw9DTcDqpEqQIUgE8NCXeCE8heQBem88Lu6GD0CBocX9BEHatiAS6uuoS44IxFF0MRXwly6vhcrr6DK2VHLEta+LNUlyK8nq-1V6VaDS6DpGesPVVRz0QdwQ+eglFzsb0G6IQpezyEyHBWd96+te0vb5Db0JSIgGu0XSGGL0b7N9kXC8KCJ-V77991UrXWoMSV2LYlew+JZlqNzN6Jlmww7RIj6hUpWgwYjVU9pBj0MRMeA3LYAdGWdQzh9W1kduUwS4rMNIMTWkIEMD2RVYSe-gBSqpAx6gQcew3tSPPZB7k9alVPezQOqjxcikBntstFgPg6EDA6lwUjThgo0ZI4IOyN5ihHLRKhzAKSP+GU7TtA9v+47QDCgOHRWDzNW7aAYYIiZpRwrUQ7JK3G1cpaRcHqAwHUAiAOApADyWKiIC0ZG+Yu83j+zEnW8jDdagQJtNADbT0p2tfPq9MMg5T4ZUoKIYVWayqHtRGhtLtoaUO9DNczQXIIQBmRYzkyZ09XR9MZXBylwoPeqcugbj6GdJWvbgIEZmRAaVksYU-X2EwIfcQwGuxEikZmmrIA9NS1zm8P0BpyAAOlgCLmctrsP0YIFexa3301GcoaCPztUSz7jAhUYo5AtKMfDyjiIqozUeSWWFtMMgBo9SLGi8BVwzNHoKTGmOgAAAXq81ABVGOWIxouGMYmMgGegyx1ozpHaPghM94exPicCggNRUD7wDA9OFKMbG6j4xxrsQzM4Ld1KLAdSsoHUrpdJgrnJ0HgB6MTLbjjkzYzdgeNXs0GzxjuuQFePvHPjxXQ475CAA')">function instantiate(exp, frame, unbound_var_handler) {
    function copy(exp) {
        if (is_var(exp)) {
            const binding = binding_in_frame(exp, frame);
            return is_undefined(binding)
                   ? unbound_var_handler(exp, frame)
                   : copy(binding_value(binding));
        } else if (is_pair(exp)) {
            return pair(copy(head(exp)), copy(tail(exp)));
        } else {
            return exp;
        }
    }
    return copy(exp);
}
</pre></div></div></td></tr></table>
      The
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      that manipulate bindings are defined in
      section&nbsp;<REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.2' class='permalink'></a><h1>
    4.4.4.2&nbsp;&nbsp;&nbsp;The Evaluator</h1></div>
    

    <div class='permalink'>
<a name='p5' class='permalink'></a><p>
      
      The
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      
	<span style="color:green">procedure,</span>
	<span style="color:blue">function,</span>
      
      called by the
      
	<span style="color:green">
	  <kbd>query-driver-loop</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>query_driver_loop</kbd>,
	</span>
      
      is the basic evaluator of the query system.  It takes as inputs a query
      and a stream of frames, and it returns a stream of extended frames.
      It identifies
      
	<span style="color:green">special</span>
	<span style="color:blue">syntactic</span>
      
      forms by a 
      
      data-directed dispatch using <kbd>get</kbd> and
      <kbd>put</kbd>, just as we did in implementing generic
      operations in chapter&nbsp;2.  Any query that is not identified as a
      
	<span style="color:green">special</span>
	<span style="color:blue">syntactic</span>
      
      form is assumed to be a simple query, to be processed by
      
	<span style="color:green">
	  <kbd>simple-query</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (qeval query frame-stream)
  (let ((qproc (get (type query) 'qeval)))
    (if qproc
        (qproc (contents query) frame-stream)
        (simple-query query frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtyPkCcgFAYDQSBEBgKjYchfC7Nker62oGEMUkixiQL3VSdJMiMPE-SKUohv64RRuJJ4Q2aBChn6QZDAWtCJyeQEAD5qUoFq2o64gupWrtLv6NrMMOwydO3e61rG-lzka8xqi0UgOHIHNiG6gjhv2waIdW9beMm-i3VFWawIWkNlphkaxs2lZtqXOZ5usI6+xOgFzoBshgdB8HetW-RPvWp5ife2JSfO5qnrIg7JidCK-pcDnWoYGResoG5sWRbgwgmi8EjdEWqC0RhBYUIxHqF8X9El6kfoay4WIVygldG9XVZV+HZYE5GMjA03FpKUAUa2906EBqmwc+-RDIJ83memNnQEN42VbVq6ubt3W9ZRNzErBlhqjYugxH0PNSGoUdcyoi2pp21P04gzP12os4o+TUB45EaoxAYPOHX0CvE7EbPEZcAmG6r3nS5Y9uk5rqj64TjuZamiMe6b8Ku7cseGGqYWKAUYgU-INOM7kVrC2Iqaq08WuC7XhfO-5loAA8lcGXeOEoovuH3jeApbyc4O42448HpOl5XguUL5G-5+Lvn9ZuWIKfW6a0hQMEpKCW6YIL5cFYlQX+68LbnjHoyaes9b4f3zpfQOf9DwIzlskDsH41RSjHvbGSwCz5YIzsIBBuCkGKTxkbMgjAbicVUAPSuvdv5cMbkTeBlBEEHwntIQOgCjS4MUBAGA8AkCoDQHiNAxILjR3+qkEEgNOj6FyAoQg9BoHN0IdNNIvAFAsDIDoxQ+iaiu3CKAAAPg4xSopmpVysXogxdiYhOJcakFgclgZ0A8TYwxjjnEvhmjbEJXjKD2J8RE-074KikMGLo0JdiJ5H00S5RsvD0mxOeIUe+xiCm2MoKIo+opmBiAkGtWcYIynQJ2H0e4Tdh4P1FDtJp3iABkvTeh7RieU8IwkgSUFaTUypEiiFpHXsMsJm9OmpBqXUhgDSFmuwsnQdehUAFqIFr4cx+BGz4BkHMhemy4kdOMQTCMPS4md0nuo9qbhqBiDoAvV2VyjFWxWeQWpI0NkPIsuad5nzoF7OeS4MFHyvkgUMEcgJWQHm-LdHcusu0Rj3OsYUnmWSZlMnBfCvuRcGDAMIIEN59Afk3IEhi20OLPEjMjlU1IFRlC9UqjS1FdKkb-MBfU0EVyLIliECBDlXLsp0HhOEvxbS1nAtxeUiysDwacuXtK2VvjIkKqBcKkFol+bqqlaiKFR9JWatioi45KLlWLOWFNBlWRnU-PxSXC1JhTVVW-uS4+lLiDUuCbyv8TqhkRiZRkx5Ty2XrNaiwOhfqA1BtpaG5ZeqhVzkNWJeNiaKVUsMM4c1hLermMTYuP+gNRpIpOYYVNjqH6axtcihgZyLlwNdai3W2Tc3kAYAE4Qvh62xDDdizFka8UxsJaKQKJsqDEHhcOghfyM3rINfarZolZ0fHnfC4tBzLZJCTQW5wS7D2t3DZirt0yD2ijeGxVE2iQ0lJXas-VWaN1CNEve6gj7Gz5sDYW+g2rEkGmqQCxV67mXNO-fQB9zgfg7q0Huw+hKf1-oYAGti3ItBnqmg0hggQZAitAAtAlB70MIcbJSNoBZvnPpHQ-AjRGSOknI2XSj9AfidEBjsmgoM8NMdBIRyoJGdBTtvakYw7RoHp2o7iwtqJU3-n-C+-lq6lXQc3eCaTdGaA-AKYpotqGD1VFIB8OdyHoGCduZe2016PWEuMPeyzC7rMMeXeiuzWQJ0sok2XUU7APBeDPeekxb7M2NM-RZILygvD7rLrFrw-b8CDtC6OwYvnDH+ZYqKDqIIcOno82F8Dgq10fq01+8E+XqCFeAyZsuxqAMpuKxl-QWW7ENZYsvauzWgPvBs-S7z7Wr2fvdfsgLqRU76ApWi2ZEXytggpRZYoULoWThYUe9hXEOLcDoV+2+c2GELxUkCcEMg6y1HBKAdGRrLvCG0tMYy7RtG7cEeEW7t9YjO1FNNjiH2AwnzPjPc5kCPjWbe-t4RfIfupB2v90A-STE7X2xQmIpQOK8YYNtzhEZ-t+3ehGVHBOdKY9YdjqgXECb47eizBoBNie07p0iPBaPQDNHO-d8EN6y6FqThwSgOUQ7HyOztY+3AA4oxy25NQJhktCFeRpJT5o0zOG4DJ0guI3sa9xIdmW54cciZpGwMqZOtuU84TrzD9CVeaTVzd5n70reHb8lNQ3VKMgZVUhdvYV3btO1xtSKuAuhem2fhwo3nvpfmF4MYGeH5j76AR0s4xrjLruOp1QVlhL0omyujiNk3RxrEXPIYRk6UC+Zl8GxtTszOz7XCKUFG7PqQ89ywnhgRIzlJ6z-r4qoBuiMkz3E136bpvdEb6JVbLfuiiIF6AAAKgACQAKIMAAILgHACvgASgvyAAB5AAcsgIEKMTjrZkJINQivVdGh75tug0Ojux7BgnYBD-eNs9KLn9-x8Rq26oh1pm50Bs7NC56dCNiAHOCGDsYsQQGZC352735HbL5r6b7b576H4n5wFuS-4J4AFuB34DYgFHa54hx-6d5Zjd6kGgpEHIF0DuQqxrZHxqhrTQH34gHP58oCymzCyiyay077ZmJnRM4xCy5xbtSMAcHBLCHmQba8bP4k4NBX4R4yHAGKysLP5PLz6kAZBgy5AOCAyMgAAMF+R8NQ9khG+h7UhAhABW0qM8gw2cNhhhrs2gQIehHAEC+ARh2gAA1KRqPsYl4QYb4e4aQLgdcC-GkMQFYbAjQgXKEbYfYbVo4dQL6DwY-NOOCKttwDtMkTVnVowBkdaLaLAuNqomXIEDsgvH3J-BwKkNUNkPocgv3oUXYQ4bFBkYyJYdYd4UUekc4X5EfI9GDPZJ0CFrNjLIUFNL9svDNv6gDqGKULHLEfEcvNgovMtnEDYYMd0b6IZM0F0kuLNoZBjkuGMQwBMWwCFgTLNkTGIbEFcTcSFhGA8WzqsCfIQH5AxCPIEOMZMS0c2G3m5BUJ1KEK2sEjsbAtwcRKMQCdcUCXfK2MKG+FNgsY6DMdMK+LRtorCS0L+GIf8QWH5LGMeERGISgmgm-NXBgn-DNs-mSaGHMcQikl6PXJ8duKUBdoRE8UZOyIia8XwlXKSgWJyfggaOcP+PhIRNiS6OmjtIWGIaUC8UCfcXKE4oKcQICbcSNraI6GIc0LycYMyXhOSH8Q-GqXqbNqCeYFQqAiDphvgG8n8IkTgmuHCeSCgrSTSdwnSYwJggSS7uSK+AAIQmL14ilJxEkrBTQOBCi4g47RnVy8LkLcD8n+ienHbUQO6xCyl6ivjzHThri-iO54CQiVkhg+n+l+mNzx5zzzLZkhlxkPwRnJKfhkK0lclLRlB0CJkU4cLulcCZn+jTxpndnKF06HZM7GQgIiDDlXxMkWkUnuhongmgKpA0rZnBms6RCgAVlVmtnGKc6+4Pa-GrnESzEPwOkLkEnNl4K-ElzrYJkyBJkW5J4Lh3h64p4CRfZjJ3ZnmPYySnkcAPbOx4lZCEBfnf45mw71GfnLGULzlgLnL6KumPDQX5Hfl4LwV-bjS3a3moXOkYWLyEB3hYU5n2KHmQjwXw4LSI4DInFPzkWwWvnvlDl46vSO546khTl9jsWDlU5DLQWPGO59jU58WjnbiHZgGAVgXc7PmxqhH6AyFHalaQZzgyEWShEJYsRvCcqx6nqhFHauomVdZuTJEDpDomVZHWxzQRqYrmWwUbLVZsATG+ArJ6HEDwjOyuoRjOV2kwqdG4h9oqWhHq4Fia7W6P6RVkC654J97vACCcr9CMChGMg1Hrz1FbFNHBImV+TniCUe4m6MhvSCXJlW5cHSWGiODrj9Y6JBL9E-w1WxDO6Pm159kDklVe5nY+4KX+42wQUoTzoMA67AlxypZDqpUK4mX8VFB85iAh7Kxh7FWBpR46GSCL6r4MA76WQAAyK+p+jsNs5hhKqhN+oRGhsVVFWRr+8eFQiepBt2+Bj1I0V1n+rCclCBjYH1Fl5gP1zVdaqBO1e1h14AURLgr1wC71+h11X+WRKsKRoCXs245BYelBXexGtBrVMQ4IoRTBps8I81MQ6N+euR4IOl+hhNV08I0ewV9huIH1XBt1v5boSNhsgh24GVZMeZ0E+WoVzVE1+RmhSQShtOF1qgQNn1YtVF9NQeei3h41VVotT+OZeeT0R2HNAhGgqN0w-550hkSNN0d0mMgwYhbBSBQB+gKtN1h2JNrMoy50At0tttihctJOt8GtrU8tlAvgJAixhA6lcOpxSxt29xYdgeJkwQgdFk1ktkDkLgfWbkftJAelMu9ASslAda0xbNsySpkd0wqpmKZxUdpApksdok8ddkjk3xJ65gbwWdhga2eA-MZecg0iUAcAiAyA6ASieIVRLExAI1uGhqt0OY8MrJa6WidqlWXJpQOSFAeS-cqK0kxxM08yq9-oC9ckEk1atqYpi8zaJyra5ytRi8qK3A49XJ69KRXRRWY20kpQAtM2I9i8TW-q9dwaY2V9dAE9DthQBGba38daPWx6gGMBPyv9E9tgUEt9WUgupAPh5i1Q0qPyT9LQb9+gCDwQyDFcjhgud9aRSml9LQf9N9JinGOys9Ua89mDBmcGv6VGJG19a9JipaCafaydPKj929gkMR-MM4va1ulaZA+9yKdal9uNMQHDia1lUDZDE9bDritGsmDDniRmPDc9GDw9iGqjrscmyD6FTDWjtD0DFDooC6mguISGbm9GvDBogYJCXoyj-iXIIWW9jj9DjYSWLD5DrjImhCrmi6njgOujv1LcwT7m0WijFjqQsKEK9j2jfD4TiuxK0TlW5jWAcDJixqlq3K39c9uEN2UEpQ4THQuGeTXqTA+APhyV4qJqCjrD-ot9+TaDoTRd3jJqVqD9mTsTbD0d042a1did1Ivgrs5Ax8HkXk5T86LBhKL92sPW0sf4RZcOacCgTD1MgjyIsZRQW8IVmGGzWzYMOzDg3Ayz+CBZ-wazRj4Ra0ZzoBFs4h7R61pVQIszlTMyKWaWuzAD0ERF5Kf9cE9Ai60jBoxqFa68gMdafz4LKwyz-z70TWwL8giTYIuzz415qeqQs6vCPVPZ6O56h9dTWdowxucSb0zQ9eNE1z2JgzWs5zVdNkNdLgox-t-wnkggIVhU+ZSlJawmwDVEOd-qhg5jMxbuutPWZ03jFTi8PW5jV9or8tqTVDT6MT19dlXl-AqgQ6nzF9jDGGWGxDBrc95jPZZTWDar8mqYMmSTZj-ToYxkVrhrVG7UJurCrkAmpD19QVXTumaj8mGjJjhTUa4rJe-eZmFmHwCgIE38ZV24+rWscE0bzAVm9rhSnAvroZaJM6kTvCUbCKYscbWczzjGxihbJssbh9F5BEJ4IYU0SbzmcGUTGbIyWb5DT5E2LEQD5yDgCTUo59KznVms59MrUI-bbyHytQcI3AQ78thg3IjAvhEqXqPT9+xWJWUm+j+mQbxjJDDjXjJt+0S7ra-A3TBTsLKbRbu6GTtDYlLMi7CuK7F70qdazbXUtjITY2kwTCJibTB7yTfDGyAHVUx9NDeKf75+-LB6qTvjY95DSVVI1laC7jPz01Y2hV-ee4ZeQIT7y757oH9+1lkpRVOyU76ouHwIgrfb5Hha07gwOHkpjbWD1lSrwO49IL6LM4DYYr8L70k79HlHGZ4lju19Kra4gTyorbUWfTmred-DdweL-cTOSbs63DobmbsTEn3GFH37cniHEbyVhcBYjISbCTJKvqGnTTnb5ICT4jJ9vCFn0CDnEH7bJncC2b2LAk38frqTRHmnKqsTMs9n4Hh99Ma7BTrnCjuNSbAXJL1nUjonBo4nwRAkNLz5rdMy7d8gSgXdcivdiilgg9bk1SehEyQ6IuWrKWJyaV+gVXikpQx8f7DL4uokAStXQg3xJgWgwgAQJgxA1AoMwgjQ8zB6axgjULC8ML3AbHwXCnrlBS5QwsMylNYhU3kgZAYr5cU15jkNlDuKy3OzwdGmwqMgoqh3XU-M6d5gkLmq03W3WsR2zGom53pG-1bL3z8jMgz3wmLGb3Nev0513znHaLi6P3WRL3xGb34mfraxynRcVi7h3iC3wq+N+bVElNKgmdhi+3ebQTvC38J3C2Gy38OlGPRcN3LgCPBYpL1mRPWRrqRPKrdVLpopoPoL1m8nnV7xtnQPpm17jZly3P3nXmIw2b5w54EyYMVjftQLOYXH8KvRp1JX0RdwmC4H23IDouS4mvV8BYYQ+3XtmvWsiVEQxSovF6IwIZ-PjWf8h9sLZvFv5bAkEYNvqvSdKF8viv1mevhc23LA6wMvhnnVHAScEyRgNauooyIkYfYgEfa4SwKx2Rz86vDJfvifAigfcezTLTwIt08fnCmv4QAAPPn+H5wpn29GU+XTHeCAvnJPw3QL4IIKQGIGYtAmXjSJ0dQLUBzqAIEdJW4knImZH7atLIEVj9doP8zsP2IKP5n4Sy3gy-X431fvZK3+3-Cl31iKkX36JAP3ze9HP6P8X4f1P4f0P+niP2+UvNH-LflIQK5+F+B+G+SEfOPesnJNiCL-rU5ku2PwkZXxh2fYKeijEAG1ol+lCP+l-yIB61mct0TlGz17gc9uO4nTMs0HA6nZBkIwYvtJVmBDIq+zOTAQAMwhR8wgZRLIIvzNL+RUSBgcetgOl7ko9EcvVAfCjLYNAGWr-ZlgEnKCOxdkkpeMJeUMjnh-ygcQXpgi84skH4+HU3tlRN721caXtEBnIIPiCC+W8YTqp-3RA-8+eHvIlB8mf68JuB2ZX-jEA-4wCdBM2EPisCPiyCM+nQEAdIJxamI5oeA9CGU0sHf94BOkRAV8EWre8weXPchlALDBjNbU2An2OQNCGxBSgpEAmInyvgxCwhsgsgePwEQRhqBIYbUCGFxJ-1GBrSWXriDYEOo+wXAqPnHToC8CRA-Ak7Fy2c6uxeWR4OtpST7CiC-4jIStpINs6gCZBAA43uQNUEtVROyg4VkMKxZFAGIlpYxNoO8ES8cAWXA5Dl07qyIe6CiJRNgHWxdJjm-GU5jMkZagEJoU9EnmdyZbghKU1ATZrsKp48AdhQ3N-IrTsZptT0uzI4Q-FdSYtRE54C4VcPuErclhjIDZM6FcpzAsesQOYBOAfZFBXKHIMETEA5CQiCcrlBCHCOyKIjgRaPBpKiIaTojpgrleymwCx4Ej-QUIwBmj2Cj2E+oWPCkbTBJFIi0egzOEYMz7CkjYgrldhFLVYDN1OAHI9qCwDLwrBWRMjNHv4VRGsw2uvgJ2qACmaBEW+oAIUdRznDgh3IYomIPV24CSiZWUzLyHKIVGuVZ2-sCUVKKmaQhQAuo+kUqOACqiDARorUQeTNExA9RaPAAKTWj1RZo40aAGdEOj5RFosEOCDGRij3Rmo3mlMwAqSi-REIMMsJCDG2jQxoAaMUCAjEYilRJfN0XGPOhTMy+MQZMXiLR4l8AQqo4MZ6ILE5inRSo06OmI1GejzoZYyMeCFOiFjuARQYsXaMbF1iUx-osMtaOlFFBeaMQCMjEBFzOgnQ3wu4ds2+aa9AQIYTWHMHyLji9hSw0cf3h+EnN-hyYVtCwAABWPXXDjON1rIgZWyIhcVjw+EOAeY81VcbsPXFAEnQRUYzleL+FipXYVHDZK5XrxY968Co5LoqP9GQA6AaoX9L4DBH-jAJftb8cl3ZFUApasASAHCN5GwSIJonKCRMgYAr5URvIlfEhPEquUj85AI-NaLwlH5kh0EZcQ+IXF1Md0rsVznuJWCaxlAMrAmMoAESPjqYz47OmRKpCsSwi9TaiSA2nF0TdaDE3mp2k3C3DLha49iYb30Eu1uJN4l4Uyx6wNIjsLtWeOKCBi+BRSW4kGOsGUBpxNAPgvsHJMuH2EnhaDOFuhCUmggEQRQGDrzn4hP8Sh3yI7ICyclggmcx7JPBRONR+8aqck9iTROwmFBPJck41PgG3G7iROzOfycVAaba8AGTAooYEM56ZJny8+JgUtXCk-A3JjIYCFiGSncc7xiw5MMsLy6rD5EmADAPoMboUBTAY1A3rFBuCkAQsFRarukHMSWImemxJ8L+0Bz+VMUFROUJPwYDT8LoacG-kOi6kNFHQclKaVsW7RoZFANwUaMQCha9dQ4VcJwZ5hhTKBlAZiDIPOn0BGALmu0qUWXkCKqVdp2A8ENdlKA3SW8F-QIuQFOlIsigN0qWNfzEDSTbeLEBwBWmMAbSk4FzNvttzAZ-Tl4xgZ4Kpkt5jSq45-CEIf10TLTjAa0qUJrDBl0B-pcCS5uEEn7WBFKP0tyODPMxgxAYqsHrCd3AEUzbs4IFGMBSUiigNkFMxitJHRKuCfMmKCmeEC1KuouZCY1SKtlgpYpBgzMgChTUa7Y9XYtUkCDJg+BVQmpIWamU63bBENiiqlNvuEH6RvRkY8yD+smgapcyLWokBGYEWJlx4yZws9WV9Ktk8xL+E4a7KNLC5tpz6BwjcdZz5kz8+wDsw-mbNJlkBVYvMkGTbNtn+E3o8IemU9j7JYy8ooILHgqyjkQy-ZpAHiHJWYrTglZnTX2RCBRHcANkBMCmZQODncBfZTAf2anKkyfSbZNMgAOSjTpWk-Wuc7BP638KZ+3EucrSiqaiFOBI7iAugsTTgCYOuIKduFcpCAHsFkYIFPzshaQ6CSuKfrpR5i3Ys5g8zuRkMxRDzi5mMxOaXOTlyVl5QyDefeCyCHz25q8v1tpLzCLt9JJbMlJSg8CAZA6J3fYqelLqdNR5PfYoljz1lf1H5ADTWBfN0nXySWd85QIBmBnWyPi8FF2a-JkiuU8i4QltM7PmQPEIK-qP1lVXkCgK3Aj8mWLc2fk0oHi2JUQZOKj4JtpgTss+rrJB6f0IGBCpYuoLHH3yiC7BEGYyE1gYKmFoMoOQ8WZJTQfJpCsWSiNuw7RqcmCwDAARBkCJXUIC8RSwq+mLzA8-CiIWLKxHCKxFzC9qCDOdhKLkU10gBVfOoCaBD6Ec2ISnx0UnI-5utfRXpMMU3zaeMitwOApFZB1epkcnaOYrYDzjOFEi+RbWzlK3NoF9C7EvhjR7wKKF7aR+ZKTpZXkwsFKLtjJPoKxRCGFidqMIAqCDBc6PPDljgrFmAECZ62AYOwUSVVR5GmSmGUxJx4vjIlfrdSMwAMaHSdit8TedULWipwGA6gEQBwFIAWwj4uQQgHqyWLyk1yKs6bIQpiUNAayjcOsqKXpLIL-Uy5XoS4KjLkJMyTjFpfUXaVjyulldGcizGaB9Kh045fuOQnUF4RVytzAui4qGUwzukRASaUMgeLcADl+pLIB8RoHRLDIjbNBdkItKdVnltpOybljyqPU64yeTqmnnGnJxh8mpBxCYmmzQqF2iDMGDIQbJ-5VKxS+gBbFuZ-464alDgZLKpCD4gQmNagsRjUo0Dzwe08ui5xRUqwBJLMMmk9BxCzziCNNJ6E0IaClRmVokGQmytahrcjJS4bSgYClFUqaiIEWlRHD8X1tNBhM8wB8GCBgxkis8NFbZSM5cTVajIAyvVWMqtE-I2KhPKCtVp7MJl-eIlS7EepUFcQNBY1RSv7xiqXOyROlQCFHKMrWo3K-GtTWYKnKeA-AD1QTWYKXilwEVEVTKwdXUSnVUqlci0JljnBu2bkQpc1VbRIMZC6KpXM4BO4qU1KR-B2ImqzUYrQCzsRNamvJWOYD0xagtWmuIIWwFVgQK2lVBVUJ4q1DBUjv3hORFL01kiIEGgQ3xb5d8++Y-BDXJA9qMC-a7AsdR2jCqA47a+tUaGY4PxwQGIfJUfDzX6EJqNapFUmsbWPV11WHYzjOquqMge1YNI6n5GPUHUjqjIAovoQlxSiD1cNedSeSXU1LUgSUt4FuP2EUotpW7dmYHW+mX5Be76-WH+tMoPLlW+3KlCBCA0ohnF36keCXXA1lrJszA6xt1BSAfqDkIGtqdEi-UfdxB5mCVOhuA24bGeYGwgP+qPiQa0NhgDDaYFg1HZ3iiGuVS4BqBiB50a0caiRoU4R1yNeG6xUAoeRYbze32cpWRv-XrZ31+AZotBro3Q5vaPEarm+voC0aD2dAFTUn06bG9TYzsSTc0So0ybs6SPdTcPKKD6t6p8VZNgRrqYqajN+sCgdk2S5aarokcLldVhEBT8zNOuLHrptAJnUD0wULcVJtkJEaYNcm82IppYG4gAt+w6LTBtgoB5I5FMIGP0GpiexacnmzuZZosyxbTA9MELXRoERObNakEBoAHAC1BbyWhGmjXZry3Va4tJWlmEVp9qdxXNk8iyBlvirUj0NQWu8RYWIBsbcMiLdWuFoU7a0qAXNCcAbQc2tgokc0DrZrn0Csb2N5mhbZc1emO5Fqy1eTeMN-bFNeym2yQKHnzwzkVMLeFGA1pZzyC7YE8VzdPI81v0VtwEudv1vnS9bCUMNPabhjKUu83QSbHYhlK+CB9-0qLFKSPkBVuR+Nti8LkNqa0KbTwU0MbWLF1qKQptoYD7fwEXi1LxU6cXDNJUh1GLBNa2nMutrVE5gb4TtVqgyzJ05rROVkFlqMw4iZxSA0zA-qHJUx7bwQ+OuxT5QUV8MDtguFasdtwrKzztKO+3ubBu1+rOdOkgxUYu-j3b8wo1LzdwC52H07xBuSZtRspEt8gQAAThOAWp2ItMbbd+sN0hRjdSNX9JYg+Bzt8VAS6JB8BNWTDzlaJFwABRML4rCgNIvqPoGrnVyLIaAQPRyud0xrxlRQb3fctwGPIaBXuo3X1Hk0zxAYocTmJhDiRzsPI73d5b8tj3m749lupPdtxuDHwtdtMeWp0A8ratMdHyRVWFrthZFYdku-0eXr6iV6Fd64JXZ3LjnuUW9TAbym9oPQOLUg41aoKVFXBkAAkimLud6X7ytBGQHCrBRoRJlvhMZ-Ac-kcDpr6q0SoMUgBPqAn8yzshaMPlpHxUR6IQnkLyIPtAA64XYpUGIOft8g06Ygp+0+RZtaDHBGIl5BiK+BRXJLkVaSqUG-vxWrrvCuDEtWktnWMB5GgBmga+G3276-a++0SIfshSe7Ygp+5Uefq8gyFBA-+0QJgc8gP7olUw4QSsHQP4GvI1+nqmXnIMqifVEe7bUbT4ITaZKHQsmKORf0LbcaWO+pbhlaDQ4Jc1OiHrzRgb-N5tQ6Pg0Hn5yHbBdTKqXO6llX6DK2QgQwPZEsQj7+AbRYzrPqBDz6H50c9QwIEn7r6Jh7Q9eFRzEM20pYweaQ9trkNpd1M4A2+BppAp2R+GHCOGftnIBSR-w1LLeSTMe3L6qJ+mXg9wAJhOGBEKccnTKxgZ+cHtHc+KrXuc1IcBArQQ8UCAryp1F4h88EGIeD1T0oyqR88RLMLSPCAjOuRI5rT-aFHv6yPQzYfNh1PJB9AR6uYAX0A-jQAAAHSwBZq7CjpQhjIGCCqxztZo6sXKGgj+7RIcBl0jzpOBNHxqLRxJW0Z-FdGejEJGpsLEGM94n4vAVcAIh6A7QdjoAAAF5iTOjAoY9usYGPJzIjIx447bPegTHwQUx4wIVCggNRBeyh1Q9OBaO9Guo-RzYxKNzlo8vDMWKfsoCn4PZJg1cp0HgDmOZafjax-49ccBO-iIQIJ9rmCYhN01HjvkIAA')">function evaluate_query(query, frame_stream) {
    const qfun = get(type(query), "evaluate_query");
    return is_undefined(qfun)
           ? simple_query(query, frame_stream)
           : qfun(contents(query), frame_stream);
}
</pre></div></div></td></tr></table>
      
	<span style="color:green"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, defined in
      section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>, implement 
      
	<span style="color:green">the abstract
      syntax of the special forms.</span>
	<span style="color:blue">tagged list representation of the syntactic forms.</span>
      
    </p></div>

    
      <div class='permalink'>
        <a name='h3' class='permalink'></a><h2>
    
      Simple queries
    </h2></div>

    
    <div class='permalink'>
<a name='p6' class='permalink'></a><p>
      The
      
	<span style="color:green">
	  <kbd>simple-query</kbd>
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>
	</span>
      
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      handles simple queries.  It takes as arguments a simple query (a pattern)
      together with a stream of frames, and it returns the stream formed by
      extending each frame by all data-base matches of the query.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append-delayed
      (find-assertions query-pattern frame)
      (delay (apply-rules query-pattern frame))))
   frame-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNMdiHJgR0IOZSPIz1xhhFsmlFGgeL46QunqbpQDEWgmDExpiP9fcBBA4saPPCQOE0S9qjkMiWLY8S2zFawpNHWQNP7IEd1Aaz+IEI8UhCK87NklJelcXzjGQwYXiUhhwLo5R8OUCY53wViVMCNS6BM4TlKo7Sz3C0AGIA0QgNYxD2M4mRuMEXibOMoS31EwiGiU0h3ShGRGOYlK6gc5IrkiUQwN0nCfXCSJItAaLRFimE2vahpsqY3LTLM5J5MU5SavqRKNK009aOrfTDMawS5u8xoOK4qzSuk2z10barzgASHqOqGpqZK30SO7Jo6gaZE63qDOGmLWIm97GivfaUphRC3qMRbRCU+LAQezzLoEKL-oKpp-IWtYMdAQLkQEKwwlIOMZDYYV6gkp8MnSKiIP-dDMIgtyjA8OmMO4JmlUp6maZVELSEZ96PF50ZSA549RijSI2GUCCAFVCArQhKAAdxoJ1RldZEAFotaylKEMO0BsYp-HaEJuM4RwRL1ZdQs8pA59phY-wukS0N-Som3NepZ3abQtmDawRLfQ9x1nW9vLIOF0LA4LILHY4D0VXxwhgxkaKGHIVq-tGuKaop76M6zl6c7Gy3cZoJPBBVYMOCLlKZCrlPgzJ4wKdXJua8Q3oK9ATvU7r-7G+Trv4opq9+5b8v+hQyeOBVDhI3Yd965Lpe2DzkULKLTb05YTPs-X1jp8RIKmAADypWRV+9UumGUI-W6MAvPoTye94PkuRrGh+XQ37v7wzzPpffgQgOIcGImBfg4Eb73xUBSX+y8n6xmoL+SeIE54LyPh-Yut9H6GwpiVYc5VJ72VlApEBggcHZwEAgnGf9WLbkuBSRM1IsREyiMPauA9v7vlIQsOh+COThjABXWg9DowQBgPAJAqA0DyDQJoQBp9kQ7G6omOcMh6xsG4NQaByDCGdnwGwD0owtHRl0fxYYuhQAAB9bHbh2GCGu5idF6OsUYexjjrAejQu8QgrjLH6LsQ4po4o9iBPcaQGxnjQlHVOsQlykSrHRJPo+dRGtcq8OScEvQrgt6bBoNooJwxLZx1UdYKowZQxCG6vQHJwxLwxHdC3Me28OwcG+sUqJugABkvSly3G6SkkE1MsrNKqWU3u4pl4NOiW0wpHSqk1I4HU8CwzoEy0IMvQO8Je60AkCYyguVKC4BsLMjZHj87tNXFeS50SAHlMsNYbS5BgyEA3sMOZBj2k7GWT4NZcyZavPeZ8-mADe4go+dA3whzfEOHuT8xZtyjIosaoi8GaSUJQrBYPXOHAL7cGYCWQY3yFntjRQ4O5Fiel3ieR0kQxBxC21JYi8llkWkrMBfcmWalAz1UZcy72CEQneM5QCnqPLQAQVgcUJl+9hW6C8WEypLBqkSvqVKiCFc5VCsLLs+lgqFV2wOUchFNKRkqXbrcK8lLvmYo5L3I1LLqB4tigS8+RKmAkuoGSwi1q9QyCvNStxIy6XTOsOIExtCPVep9QEtl-rfmqvVbUyVFrNnSqjR6GNhLiW0EGAa3u2aY1hAYYmWFZraB+qSBTJkcg4XHI4Kc85G9lB2oxRCoByIS0sETpQAQEga1txuTaoyIaSkPMeRGjgEkaQUiYGC4dz9k3irTZqjNjTpVzvoAusFRbu00DnXm71BbfWJtraOwNE7aVTMPR078+NCyaIva2RZfy1VcvTaGzNEFH3kGfblE98aRXKviWu1Z37J28uoE+wYgFd0jH3V2lRRTYMAfg7lL1+MmIjGXesRZazZ28SBaAJwWKgr-sAxA1B05YpfNfSuwjYFiO4FIzoCjyIqOYa4KIVhropj4YpkR5gbGpV5jvahjpSkZzQKzrlbpBbCx+pujdAp7YP2psgxun9W6IIyfoxQQCimMPUAPVJkcDB6DzqQ9AoTV7ZA3rDZxmgSlH02cXXZxjBGKVjsak5-R4b707C9GWCs+GfMcv+eu9Zm7SAy1C8QCs5nHyJYrP2wdEWA2OaMhiyTj4dgFG6rh1lcWn6GIg9yuLwLeDFcVS5nGh7Y35tK7p+ZSbkV+fNW1u8kKGC12A2en89nOvXvHblsrQWpM7AzjIQlSKNMpq-fUwlMs3AGvpYTVhjIKTE0JgI+L9CkHsrJAwqmNNcDVGkBBUAioPDaquwIAW7kFIzk0ft+B8y7tHY3sYRUyprCzcJrob7F8r7zzOZA+gdmPu0MO4-f7HTvrA9AP0pHn04dkMclt0YbDducKvMDwGQMjBXkx8TknOOLA7Y4TcQNROxYk+MKucnjOmc-fyojh7UJrv5ZQgW1O4xSCurBBac+C2tjfXPsoY0oB5TTvvXGDM6XAxcBLCLUl2kNfUGULJhgekPt670o-eKiV2FxmI6RPjIEqd49p0bzpdCtehUGMoNn7OHdCLfe2c3URLd2A9mM7n4wnvfflIjgXwYhci9pCTfH-u+MK6k-gJS89Srny+hSCXzz+QuNXMDpPj53bmnYLpXCC4CJrESuIqi7sy8RWrBx9THLnICV0HKPYnNaB86CsnC+HBsKnMz+1qvqD-QLhAvnrPBDV2zYXO36V63OYLjKUL0AAAVAAEgAUQ4AAQXAOAbfAAldfkAADyAA5ZAVF5RdHpbgDYFvneFmrbbxB-8TtOVT33jPtusfMwhgbBp4iDnw+Av6DBv4sK44AGczF5zi5QQGoINbwH2Bq58yQEfjN40Bb674H5H6n4X7X4oHAG-7gHq4u6oLD6sLZ5AH1Si6l6-4D7bRD7-7AoUGFhawMFsAba9x8RCBIHDbv4c60HcGLwYj1pMxw7GIZCZCM5K5JZcDUiCE-AUjGL9S8gWAf4AxMyP4cLoHa5CHQFaEiGPJr4MB2DTD1hECJggQAAM9+vc-Eyss6lhXAtW5AJWrq5AsgBibh1hqoIEFh4wNGNhowoAAA1GRjPossEVYZQGEQwA1gnM4YPJ-OMNQiXHEe4dwHVnbD4bQd9BBOtv1NcNkUVp4RHD4btA4LAg6nsveswNshvGkbgt6mnt2JYcgmtG4RUV4dSD4SBKkeUR4f0fPL4YbL3LkNMMrHOOFvNnDCOu+oDvvHNp6iDoCB4CkUwC4bAmsdwLWL0aMVUQILAcEOjtcPNkeB4N9NMRwLMaIOFquPNoaO9HcQ8eFleC8WcRcBQtwIbMbO0u8XMZ0SJD3njEwIUE2M2gEqtn9OkXAibjVFMcwDMSCZvIVCdGkXNtdICMdHNm9rUfvG0coPlIsY0OPBYUwIbHJApDDMtGLIlB6BgiPAPFggwnNtoWjA5BVq3rIB6D8UCB4JdvSe7uccCY8Vws3G6nwvNA0L0DdNDLDCtCkBVt9HFGLB4BKU8bcGSfYllKifcSCV8VuJNCECKUpDScYNjICYstqfsYXihGDqAhDp0pQCSm+JkbfCNFyabmPn3KycGCydwrXOybMrAlyYbPiQAIQdJ8lSldzILe5bBEAcR6S+4Jk8JDz8K3bs4pA+kiEdC5nWl0mwz4kzarEjTVR5kOhQR1mKhMmBnBnSlhkbx7yiCRmKgUyxlEJlRJKkIcyDiEBpk07EwRlikNBzzZL8ITn1AI7tSTiULXzEnZwFle4llLTbBFQiBQnWC+oFkRmmH6CgC1n1nkztLB685YylkMnnmLLOlUKHlrkMLclGzCK9ypm4Dpn45fS4TcC-RInYEc7nbSqXY86h71D3ZgUh7PbJCTiEm-k+g6DfZHyI4VmRDcBODFnJAeAPlgJnK6IekZGYVIVcloUrEYUrCg5LmumEUFqen-k+i4Qm4nlgB1lQTkWO7XCYV9IDI7DI7IWQVOTDlfmjkE5GQ8UU6TSE46BSXtSfnfm0755OByV5k6i3D-mvFqVzkvmwEhCXlPbgk55xEyCCG0GabLbgSCEyxxEpYoTfhMop6kpxG0F2ouUoaPjZG+KZYuVf7hKSjBpGTuWwEsw9QQRzizESCVJUkISI52qeRdFTaPhFZ6R9omVxG66xT66O6aF4igCe4vl+k-j+hMqsDUhxFBH8DLytEpTWAqignHyj7FXCUjnEoB4gRuQKViUyAO7v6zlfjUCOVDZaL+KuEiSqWTQFVIIxHthdVtXW7cygWPawWBAd72CI5MDfwLocBG4NUZZDqlWq4uUTXJCR7R7UjcEyBzXeoB50pr64EcDH6ywAAy2+N+cuewjh96ehFucRUBuVvp1yiyKe0wv+1BMB32xeZBQgf14NFgeldBvGuUsNHlKEqByNlh1atBD1T1r14AJB9U0NY13qcNhAohtIORoCMgTMxel1TBg+bGbB-VRgEEcRXBtICEJ1xgtNsexREENllh7NqICEjpQUKVxN-1rCgNQFYhPIkhPJlhsh2FDk4taVlhDVGhUtIhXNRgP1fusNwhj8jyEYh64ikYkiUAcAiAyA6ACi8gyij4m1MUC6pG-AEw5Wq6GSLo3Wk6PxoVGiWSQ8iK44AOra74wdjQLM-smEla8KMpDaZqzaZyzR4dZWpJhA7tIdHSfR3s3y44HgKVc2W1eGOqg2rWvt6d7tOtgQRGLavC1a+8A2nqLWVBiKldW4b0odXswuDANGJiKoudEdA4Ckxd743dDYfdVcEcwuOReR5dPS7dWdOw3G1AL6ZW+dI9xm6GgGrtGdPxodvazWp689IyG9CcFcTU7AOafaZay8Fapq8K1abdzNRgh93lB1adCke9S91gBmcmW9biSmJ9+iG9TtuUf9ww8mfdhFpmCan9bt+9HSi63ApAekiGnmDG69kdwliSY4jQodaWed2DYDicjE4WUqCDP9xGhSHmS6Q9QlJDO6VQtmmDbWi9+D2dJKoKXmWDw9JDOKPDbDX9mdndHSOqzqg9ZWkMt2b0uFo9LIqGuqlQlANGxV-Kuq3y7DDQodEjym9D5CJDujwDW6lDHDEsDYpGcsCsSsqsdAEgwwLA58oAOsm9o0C6vB96hduIygjdzYhE5Z1gRK5AbAGGnwF9uIuJgQFM4tQTITFAYTh6CjPj-WBIh0SpykAT0DCRRQ4TRAkTrga0N1C1rjs4JdTW79CjWl2lRgeFBKGdEQ1AS6L9DQOqt9G8iY1aET1dTOvj3TJOpd9TUY0KXyETcpTGi21DpI8d810SbkHgc6vCqjVI4EMzgpx4fJaTN5ix5jkQ3j0q8sisKsZI96qDfAzjusKVgc1p7596tdZy9d+xtA7dcMda2IjdStYDpT74jd7dpJnqqTNzUmJDK92yPtUSzzQNEzjAfoUQQ6nzLtILgE2GlReGbdwjppxD8jiLCmtGsmrDFd6LTCJTCL29PGc4-G8TqdPW7dRlrjvgdG-9OLgDsDu97tRVv4lm1m9AbA9UvCHVDk8LJdEQXLzDGDsW1LCDUZRUOwCzQ8nL9BmIvLqMSZSx7Y8rNIPLMpAJWzKp4zWwgr74bmsGtDgjFdkrWMgL6SLGLaRAUKcwKdfjQF9aKdSt0EtrXDLk8EygDrotyItATE1ICRAqGYeqmB3mkWOeEDRmTLMDejvDw9BQVN-rquQbuqxqmB6r6DdDk2fTrgybgbfoabLqw2RrRQWbprtKgpOjIb6b568bQlgKRjIujaYLYaRLd+lrTpI0pDYWrL3R-p79GCZD+13yhsiUzUMMIE+bzahbTbw279r5iU7rBa7y0gNeoE1mNr2yHrcwE7ALyZNABrjcA6i4tTbtDTwz4Ee7ub1Txgy7byLkTzytt77UCDvrh73bTDe6FbKSELTrLAL4sruc1Nr78jx6zdx9db1L6L77dLAj+L4L6L7L-ofLVER78HSr+KZdUHBL5rrgUKsdTa2SGHhHrb+iKMucNLQFvCtLhjNbxbfb8UBHD9RHQ8c7pHmjz7JOR77Hiz2HcD1LzTKQb7M1KZZ0NkZSJtqGZtUYMYltMiNt8iOYDtKEfyFhpAsLMg4uflPifiZVWnGx2D58RLOzWnCWengYfxGYIwyM6wxATA5AUwAgQQHjUm59iTbTGwowT779f7B7G74Ef6NKQ4i8h6-NYsnnHTygvn6LDWy9wXOTiTuA5lS2Gq4EuAMGbiIXFcdlQUrTCq7T3nOItBImJGGXZGqNeX5TJ7xXX+pXbG5XTePc31TW57QzS6yXdXLGomOIygEmnb8cAH0wQHsU5irwVyQFgKrN28Mp-NKC43qSjqwW1gI3K8qMOnlWPUvCNlM3vCuXyIq3SzdmvCrlXW7ZY0sH-ATK7pNcdTEwF7S6CDX+Xxe9DW6r2CT3kLWwzxr3HIiUGn0wyDqDd3D30CQxn1Kng3L42CLHMMFHsUjr-n30sPT79dlX3IDCpHnThVeSf2-nq4QizXFmmPDzSJ+S-nV4hPkPyIZ7gzjTdmKPFHPnxYgPe9dX-AwYGnCdj9oyVE4wqcXPI0h4TQNxr8Q3i8HJjPOcBI0XLPd3Vbf4HPXPKPugAAPIrwL5wkL2s6ALhQwJLJBOvmhE+IGBIAGP1sYtAuIqRB4dIPpZEVx+1M4qnGmdz8cs2FEXNzdlEROc78GK79rzr5OPrxYxBEb5QDjDseb8GJb8MNb5hLkeQHb9Kg7774wDXK7yrw7176n+zn7wH3OJuLS6zDHbD-HbD35wFPem7asmhMyJ94qPsgG273D9Lyq8kBVl2Cr+7rhRnbX06CB3mVd-+JHiD+13Zm++7iELDyBauN3+zruLcNrxOdP83yDC2zL3rI1IH1aVDIqPiW7SBQDwSjosD21-TxN4CKZxX-s4QL4kOHLjsq+X5Dq0eIlEfCBO9xyXh+ZIsvmziJjxR4ACkEN7ZIEfBlLY8kEz-a5n5CAo186Y9fX7g0SkzMcW25fFthR0r661q+ffBAXNjZ66tGsUmf-lL217kkomq6Lvhvx16OR4BdfQfkDGH43cB45-S9vgPdo0DjwM-RanP2oFs4PAD0VcELwo6cDfi--dflWgSBb8iSMMMZiWX35FRD+i1Y-kDz0isCwU7fQINfwwG397+QYF1i4ww5XMfIr-QEO-zOxUQv+syH-hSXaT-9wBQAx+KAMCDgDSeulXfm+VgH+c6BA-c1vaFESm0JEcnaRNbTkQKJsA9KfipnDiaOdpguTMmlalXTRZtM6XVkNKliahMmA+3GgBkMpbzwdE4wMFLnQiaJDRsOWRqKMzKTBxohmQ0LtJxAiAoHgU3ZcHN2ZyxAgQVTV+mFWtCtDSc1QDoVJSm6dRehoQAaAMKaFhU1kIwtZOMJSBTd-KogObgsMaCdCAukEU2LkUkBzcNhagFYYMLCo7NehOzQEKsKm7sI-cnoWgPzXOFcAPQ4ieoKcLCoRERhxgMzqAAkAghsgTjKImb1ACPD6kEELWC8NSDS53hnw0AE411i-D-hgXL1ikDeEfClaTjKCO8KMAwjIIwAYEWmFBGIjngTjMANCP2EAiAApFiIRHginGxI1EX8KJGBduYLw8kUiJAofDaRkEaMtTAZE4iKRoAdkVRBZETCARqvMkVyKZHq8jA-IuYWFVV7pBgRjIvEaAGlHij0REETIMKOUC4ivhoAbIEqNZEqiZRygQIHKM1GZAqIYI3UdGSxEQjAgzwIwLGSMDi4HgiEaocE1qE6oUeGQRUPWmXA+gaheQsRE6P9K5DYhdQzMM2g9AAArazjXk9HYhcQStIYb6NiFzc7UozVYYECDEJNpOiEIOIGMTGfA+UcfBoT1Cm58k5ufJNMdUym6QBCAfEADBIFaHVjaxqDCsdpTOEUg-csASAL0JuGdiWxalNsRpw4Db4RhNw7fH2LzJTdL8LAS-FiKnGX5RBk0AMc1QzHxE1GwwLHh6PqD1piAStVcMQCkErjVGu6OPkuN-CHiCxmHBHpuJSDbjdxZ3fcQeLzGrjjxpAAFvShiZPiQxymPZo3TWS0FxaC8HiGMAkC3dwxHwYsMQEzgoMGBQIQ8cE1yJitiheTPpr+LAidBAgA3P1m2G4Bj8L+4EWgrT3u7j8vkHMRNlQkPFuiN+buPMueLHzqMVe3TMibIAolNZKAEYqMdRPZy0S1xl471OOOMAqDT+agunpezMIbBxk0wKPGxMAjqCweVEOqDHVklfJsxUnTMDJwtohDZEmADANTzQzDAXQZAHagjzthYgGA4WOoht1sAmIzEdqOohixwqDIxs-mIyHZN0Ce8OA3vFEBny-J05yhRJBEuDDipnc7JDWbRFiHpa30bO9IGuIj1VZbAWAxAYgMYjsAu05APjRKeCPERRFTKiUkChBBuz3Ybs+lGWA7wSn7jnBLNObn7wBZE9HwRAMtEpGimpxkmwYJ9o3Q4D1T94SkQkGpn85+9s+kEB3mFL7RKRIpcwetO1M6lWY4EvjUSJ720AQQGsU01PImDpCN0UuuwSUOtO+wQR5QK1c4moh6jrTUcvSccMVCMQBUjI60pVLYkcl+TTK-WUSLyMXyxUhKvkh6a0kWp81twHgb8IwASn1RZM9AN0KZPCzbSmgIQc6bPRRaa5HpJ0tyDMjbKl0IO8aD6YFJF7SpBpURZaU7FGB0hVwvjNGXNMd7JAbsnksvi2hToKNQx-HImbn0BBkyHeOMyoHjPelXhCZ10uaW5AQj7S4KwlBqe+FphgQ5uPzfmV1NxkMBSYCNfip9HBnkIcZkEYYcoEBQEzHpNRImcoGZmrTpZv9dPqnDRk7SAA5J5Peae9jZEePWf7x8nrSlphAAWUZNGBDojcG0rsBvGsmRBVwzsiqTXTCqBgnsMsBsF7yVj8x2CfML3rZXRnyy7Z4s96V7OkE9UsqLIsWdNJZmSyEaCsz2YnKkFXg45zM52bSzAnRR-WUE3iZ0ijD2cSwDpDbjnWUxXEG2vs44vqgfitcUZw1ebN03rSFyIJJcmUmXLLCnoWp1ab4pxSpl1zyEU3EonY0TqUzrB6xBGoSlpa9Vy5p6KuTVEyY1zSULxRYu-yazcCSZFM5OrMmRlxo25c8q0tUP7nq4BCKTB2NiCXmXy2pKTB0tAIpiUSzUeU4Yd9m+j55l5V8rgCkykF2oiUD88AgAvsmBBzSu8ltnlKmFfzf5Ska+a1MRxvz4UeUrucXPIAoNZuX8z6CguOQdzsQ6CyCZgtLnAKK5j81qc-IRrfQ8FHZUIPAtAWtTXy6TLcliVHlzzFiwmMKpPIPlh1n52rTciqQpgLyLWyAx8Kc3fALEvuOedUusW+zPE5F9QYPgbzhJWNDmtjfjllAkB8Bsh83ZZkPPWIbdZF3AEKvHLHl8zTOqig5jY0PatzKM1AfRa52SocE3QM9UxFwAEAiBZAUioChIqrlfSX8i0pbigM8UGFKC1ICpj4vx5DIHFVvfhZhKGAvis4eGOEkfE1l39smQgDOBwHjCCBxgDAZBL3HrDcA4WhiwgZk1mxbzCBBTAdk2SoiYJqQH3T1J2UBC8lxO-ZQMguMAJEA9BWS-eDkr9n5L9iZFEnCEGKVDopy2ZTpdAKhhbNMmxi-Jg0BfjXBxl70l4soFWVfE55Myo2KYN-7tgRFckC1v51WXzZaOo9B2frgTmOztCJeUmMh3ypxja8GwINNovfBxyIIBrS5fWNfJtLcGsgKcBEx+l0B4JIRXakbluXcEFegKogGN30XXL9cUghwQaFpY7Bf8DcFHNIukyWz3pBeEJB0lmxT4HktLegA2GmCCE08IBC+KZRcXUBkEmTdFZ6TMqaDEoE+KiPTRYJsYzKHgxKElP14woKV3Ba8UDB5oCgFwocwwkLTyDGCOofoXSBKvCVSr2A4XQEN9GspphwRfKpovVEFW2gBF9JeKL0Fqn84e6w3NwgvDBq+UaowcYwjQCogOVRow1FylKyxKMriKtqxZTUuapsqXgoBZgnpFYIeqeV-pLVTCmyJCr0gYpUVRaHFXbpBa3BGVemLlWxrWa8ajmlzW+gZUNVStUNeuPDV6rrygi0RbpIDChLsiE9FQmZQ24mUq132PUDDXVpmVEc9asJcpm5XBLkqoSytbSoSE1RSVzAVtW6AtXp4aVGBOlWO39LHIBCPa9dg9XwIn4z8V+fGmsDnWH4F1RBd6mqp7Uy5wRU6wdagl+UXl0IQS41WLTLXq0rVawftWapCLDrQCDVRdpOtEANrxgs6nfI9RepvVDYONT9Zus+hZrZce6v6oesWQQRj1qK6wKoNUbhjEmhKWKXqxzxdg4N6PMkMK3qjfgYNiIR5qd0DTIaGsxKdDdQEw1kADF3AeDRGzMX-MUNSDIScICsDEba5VGyyREjw0dqUI6rU2Axuw1f4FFZG6jQRro20AGNpG8jePCMisbT1yIfiMGAXRCBdqyGnjbqSo0NYiFPc+5Nxtx5GAgKvGmqSWow2UB6qGGmeE+2RWogNpUGozahjG7CbTFpmvIIjn031UBNlmkjdZuM38StBFy3auqxc2xZCANm16NUzs3ShHkIcSCH7K95fKjcc3RzWTS+pSZONBmgJJxuM2QqDQG3KDSlqs1ZaSNpi8PEopeCJh3gnwTUDBMaBRbE5OINDYJq405bXxSKwAQaEC2GjwRiWpzd6gFT0bjNPwLrYiBl5YBpGk0YLVLMthhawNDASLV5sTnbD6NSW7MU4SYAya8MvTDnHcvJoMg5a2IXQhYLkKDbXACwous7RGDfKZA0m2TSdtmneygYZ1DYDHgFBG1nAe2xyDduFwXVY8COVTJzHlDNbXAw2gBGNuDmTajt0waLd60W0Lp5t1fMAklJSVlK4B8jOEsfykkegZJIkjQQXPAkYKsFxHFJmlrM1iQKYstCQltqaAf8sg24C+BmD9DvheYVQSBi7QnKqaSFWTFJB9M35pKJy6cB+J8P6qmcJgnEl9mopsWjCUO+8c5inwiIDbPtrgCCEzux3-QRagpAQTXHOp3LgB-8dtnsBOp-bRtcq2XZjuIXy7c4QOtxsdtB2gA5dvE7MWbkcaCbNhZvKiAAE4ugTqAmGoDV3kbXdZsd3WIQAxmJ6A3rTQZky74PJyBLC-EnarGR2FNBrgHYZIBkCGzDZMsNACnsTUv8i1gIOPUOjn7EqjwWeu5fPETCWhHoZQKQTQF1jkZFQNpNYPnt91F6n2WIc+HbrUCwcIqkgaKqNwfZkq8dQoL-MNt12Bc29UVSoDFRlgVbHZIs0QJFQ72NVNs8Ck7SqBDhRRRgviJTIiOtX+kpwIEe+eQszzTTiodsv0Nnw6Ai0XV6cFfTd1QY8ig8BafnuCnIFZ7IIOsXWGQtPT5VE5LwEOEYGf0GwSZj+vOZVqnCwhdlgi7GPiQpVuLyVniuYEAc0Etry1vdStV2p7UjtYDHg-ElMAYCr66x1+mmLfugQipqlxgR-YCOf0XMe1parxeczIO-6WFegG0nsuSAkGyDLjI3OsCtyvjqDNBnZbXtjxHgxC8tdqGTrkJM4ADjssrSTlp38pkl7y7QjLn504xwRHAvpuPquVTh8QKu27W9oFDy4HUsAsRexuq2BhaAysMxIvr9D9tmqW+qiDvpXkCyD9X+z3ifrlLmDl467VQ07I0OC4tDau3Q6J0Q0RIj4wvchLtIj6+4a4n2FgIzBughAxDVyqQ-TrwzqG7p6uvifIe51K0OBJK0FSDsAOJycqWtP7V-iJ0UhBDYAnbSTLzYU0mJXwUoGLH4L7rhsvVW1VyT6ay5xasNZowDVMJyUddwiV-SWBO2GyX8MgF9gAB0sANa3gC6Rnq4AGwdIb7e8PVHgxJoSe6VJgdX1ZDEIAx6wLtWGMcFRjt7CY1MahLKNF48xzPNcHwBRQpBi4b6NcdAAAAvcaEYAmOBAajsxi4wocXDPHRIQMNYzKgv1KRA4b0PAEYZ-CmHIgwx6Y0UE+OSyERys32V7w9Be9iAXvJ7DCENmIQHQOxoYx8ZUZzH4TOIxEwCKiMJZUT6JkWgCYNhAA')">function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
        frame => 
            stream_append_delayed(
                find_assertions(query_pattern, frame),
                () => apply_rules(query_pattern, frame)),
        frame_stream);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p7' class='permalink'></a><p>
      For each frame in the input stream, we use
      
	<span style="color:green">
	  <kbd>find-assertions</kbd>
	</span>
	<span style="color:blue">
	  <kbd>find_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>) to match the pattern
      against all assertions in the data base, producing a stream of extended
      frames, and we use
      
	<span style="color:green">
	  <kbd>apply-rules</kbd>
	</span>
	<span style="color:blue">
	  <kbd>apply_rules</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) to apply
      all possible rules, producing another stream of extended frames.
      These two streams are combined (using
      
	<span style="color:green">
	  <kbd>stream\?append\?delayed</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>stream_append_delayed</kbd>,
	</span>
      
      section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to make a stream of all
      the ways that the given pattern can be satisfied consistent with the
      original frame (see exercise&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.81" href="./4.4.4.html#ex_4.81">4.81</a></REF>).
      The streams for the individual input frames are combined using
      
	<span style="color:green">
	  <kbd>stream-flatmap</kbd>
	</span>
	<span style="color:blue">
	  <kbd>stream_flatmap</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to form one large stream
      of all the ways that any of the frames in the original input stream can be
      extended to produce a match with the given pattern.
      
    </p></div>

    
      <div class='permalink'>
        <a name='h4' class='permalink'></a><h2>
    
      Compound queries
    </h2></div>

    
    <div class='permalink'>
<a name='p8' class='permalink'></a><p>
      
      <kbd>And</kbd> queries are handled as illustrated in
      
	<span style="color:green">
	  figure&nbsp;<REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>
	</span>
	<span style="color:blue">
	  figure&nbsp;<REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.10" href="./4.4.2.html#fig_4.10">4.10</a></REF>
	</span>
      
      by the
      <kbd>conjoin</kbd>
      
	<span style="color:green">procedure. <kbd>Conjoin</kbd></span>
        <span style="color:blue">function, which</span>
      
      takes as inputs the conjuncts and the frame stream and returns the stream
      of extended frames.  First, <kbd>conjoin</kbd> processes
      the stream of frames to find the stream of all possible frame extensions
      that satisfy the first query in the conjunction.  Then, using this as the
      new frame stream, it recursively applies
      <kbd>conjoin</kbd> to the rest of the queries.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (conjoin conjuncts frame-stream)
  (if (empty-conjunction? conjuncts)
      frame-stream
      (conjoin (rest-conjuncts conjuncts)
               (qeval (first-conjunct conjuncts)
                      frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function conjoin(conjuncts, frame_stream) {
    return is_empty_conjunction(conjuncts)
        ? frame_stream
        : conjoin(rest_conjuncts(conjuncts),
                  evaluate_query(first_conjunct(conjuncts),
	                         frame_stream));
}</pre></div></div></td></tr></table>
      The
      
	<span style="color:green">expression</span>
	<span style="color:blue">statement</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'and 'qeval conjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzRWIBRNFxN4ACtLlRfRiAAD0IMIixiQL3VSdJMl6gawnChrurcqpSA+BhOu6qbBt4kb+LdOZ1pms45pRNzAmW1aUUMPbNovBI3QjfqNtmxrzGa1rKFxYKuqO+hLuG66BNFCasnu-bzielxFuWj61uBq7Rt2mHHvm8wTpAqHzp+4jRru6anVBpGXBqMQqFqBh2jIXwMYC7aXHhnHEa+lwOvIPNDGUUhqE0FbFEIehiDoMEYciQoqZumn+kGBGDsO5MVHoDr8GqfQztMQxuDkcgFGIBgPkCDXYepsaGBatquboT7kyVuXuqWANQHVzXtcoXWFBDZpOoVuhRlOq30eVygwjQ9DiBQ4nSYLUgKYhkC-cts3resSCdJWe2tZ1-oeNxnA8DBww7fkJQoDgRBkHQPE0DxC4GZaEOtEt1ref57g+ZzTbRtFEEtAoLJcnrmp+b9aZSg7lzGxQ4g655vvKAHozDboDXx57ye+en6Sh7kiTtd8BQWHwUeqKMbfd8bfAZDSBeJ4b6em7oFvpOaUUNEIEFuR6per5nopSiftgKeD-Nib6DBkbAaJ1DDOEvlPBOLRb4J0Mg0WcIFT4MDHhdcgpAxAgMIGA5wF135QJvi3WwUEH6pCypQYIXMd7VGyp7fBK9P4lGrgA2u5DKE9xYDQ2KFCGA-2oK-CB9D+6EMYbEUhps2Kok6JAhha9mGNjeJI5w0ihGUBEffQ2bANYsGEOQLBODvqqNETEUoiUtZgxnNo3RDBFwUE1p3LeO8954O5h-QOScihaJ3tY3ewgKZGPUf6cRxgyb82oD8d+4C36uKgXI-+jYQkFjCRE1xUTBExIYYEg04jjZvUdsTTW-MZH9zkZ2OoQTDbsA8F4Ypq9-SlHiQwKpygamqKySscRgV8laEKWCIxcS1wMC6R8ApK9antOmOI801AxB0F6bU4xul5G8LcDMuZYy2kwLviQw2wCKjKC0ZVQxGT+64VAFgKCDSa7jz2SYfc+BTYjP5gwfZ3cTnXy2Ys8Rrz0G0IWQMn4Pyjl0PeRM2eJlgjjNEtZWyDkXCGF8PzcgfUPJeXiR0LQhUIpg0EIQZ+kcHDcHQWIIaf5XyimwdQBQ1AaA5nMfjIBDhfwKlGj-XElLqW0vpQzRldAiUYP2rEfChF3TCjfKkd+5QGAWORMyho54ToZDKuiwBwDfEEroHAjxoZ+paBEEbW+cF6DzPgdqu2+MbG-PsWQC6sr3FmoNMS1WprtXAObka9ZRTZXPkKG3VIXSx5eyVYs2IpQA1UVNnqsEiq2B1L7M0MpNFhUngVBC6cyILIwrso5c1Vc3okFRbi-FhUhVSxxYghgyDUF7REb9P6bobjYmJYCAAfPIjF49iUiKbnTMt+NlmKJpcot5vcV61sxgbUUTt+CqD-tc2OSj6A-GwbUfhgCAmfJDVclhi96CLvngoo0bQkl9PedA5uIbjLzsHVIxsnRO7zy5QskRs1pYsUaYkle4TD31zScc0djdPm-XPFHR2CgQJj0ZKalVtdQMjJ6Rss9nAL1+XJf66mKCD5wcoOBzD65HR1tiKNbDuGx5+WTUREMo0YPj2MIo7pLVEMAevih8k5xsX9orcghw0zZlSnnprUlIsBKNv0AJ+KbaoQ8dWXx4QcJuDiZBpXGWrMhCVv4C8u5vzUQuOY-rUWhtP3JJ-TzP9IK9OKW-nivmgxVOMHwBpoFtDbVwWWvBxjRSjFao8XZ9TqMtPAounRvdDH5lecvYbJz0SLOhiHqCfQUWqoIqcSO5e-cIuA1fTixpzTWmgqA8Rc86rGS5aafgPxCy-Lnj3LnIEvmHP+YOdp3B+h1WHhiOeaT4DZO1eBKCStZ8utrKlDV9r9aXA0da+VnouqbMGpzB6+ZNX7UOqTkNnr3AXWremBezOb63KNOGcwBDnn8sXt+qNMxQyMOBpdZNrp90DHmbSx83bWX+2NN45609zHx3knPJBoEk2vu9LwwWfRxBVn-pe+e2BfkvuOOPmDztMnvuI73s+3MVEX3CbdGRvtVdGmJeh1fP7hQEfJaR4G4njBKcY43VtlYk2afI4h1D57bjGdB1gWN0aiapbZ3xrnOQigIAwHgEgVA5c0DEmUyxduNKR4LIu5O8avAd5kGV6AAAPtrxSoodbVDEFr3X+vUi7z3v0DnUCdd65fGryaRjCim-t2KD8aopRGPpjLYeXdkfK4iMLX1BtVHvarlO8gYgJDCAYIgqFlA+j3DEPp-6qQELK4AGQZ96OLZXwkgQJ61swMQYeZYAwvk7idBmI9R5JnHzZ4JxNYrl25OnJ8z7iYD7jsWIwIxedL-L1IIOmMw5V9X1Ixfo+x-iw34f-Nm84rnyBNvXfg8Gd2hGDfdYFmTEzov1HoOx5s-ASTm3VeBJb9tH3s9-IOPh9SDT1fRHVdJ6n-X-L4ISxCEa4c2h8Jbdm6v514z4f55jswOiaZNbAr-4u7+g15v4gG-aiS3JQF-5779os4r6V7LBwy56b54Hb7hboFVws5H6PaQ4n7W4MLDS4G97b7X56a34t7PSpBeI6J6LkHs5P7jaGyT7AFzgN5sHWKcGUEL6cZWJ6K2ILwOJt66aj5-iXYaCHwpYDbnyazcCX6pYfxMHloSFlYVbYHP7r4EFX6EE357Y4qihHajKnZ6Y0Ev58Ex7v5IHgjWEnZaTEEywPagIUHpJ2EKEGyaE74D5NQSp7pDpLpaFn7d68GR4IECEf43rDrH7OAwF25wET5xH8E-YvYWRJGRGhYrxiFVz5EHo2KBBsSvy7r+E4EGwVqBAyBQp4ieEsSlEpKpihI5Efz2EGb1GVBQqkje6tHhG3q8KxpkCPrUB0rcGjR9GNGbI6AWH9oG7HpfopK-oRFUH9yRD-j-gxHwHZFQrghGY0DrGmabHFEyzYY2FdHRFGEX4mFREMItGt5BD6ruZhZno9EPF0GmG2jhYhEsFNJch5Y1Fr6p5AFOGIG5GiS5aXEsSlbqrcE8FBH94E5l5D54ovx-KGFbTj6QnT4JEuF8ICL0DwkLQWoiF+HyG1HGG-FPHpZDFuTEopFGgzGBGPH6AMEw5MHSC5rJjC75xi5FyS6lyWDMHJAT6kAzoUx9Qp5uiigW4cBCD6BynnKxagB9SKTGSkCmSqkWRKlW4tADQmBaDCABAmDEBTG1CNDN77bXC3DcoWxSHWpLTcDqpk73Fuhx6f6uJSpgzggrb+gumSA2runTY454z35UI8z+kMoyDymSkElx4yB5F+n6oBkvHmDAIhmdy2qJl9bLQNFALcDNFMnZkWpIkJlj4CRzElmgCDEHQ4puqGryDfZAIFl1mpm6BLFVxXbhr4axxRqdnxauE3ZUSBmyz8wMLllJkDkFj6BjwFkHFQlzhjwWTznEDknIzjn4aRpjJLk1k7SclLm9kyx8wHL4DgJ0CYLuptnzLnbn63Tb6sZRlXGuYgQpy9SwJHk94Sxw4HTniF5GyvS4h3nGoryMiZYSmCSOnSp2K0ZHzOKUT4ZCbglujp6yEoUFhKbNkIXo66hAIIXPBB5el-lEULxZngz4XVopwkWxAxERh0WAkTZ9R6ox7gXtlYVY66junrBayPkxEcA3kJ7KHHxDT57Ah8xiCiVrg2z1KThwTcRwVfncVyXQIsD8XzYRbCUyWqBiXOLhAAA8UlIl+l6l8CDSupkK4IAAKnJLBXQL4IIBgurivLnDSFidQDaaJKAAANTqnaqG43lCgUyyHhABWTngj+WBU+ZOxG6hWLmdATDwI6l6l2UOUyDED2QuViBuX8weVYjPzeXCDNDRUBVc6xDBViCJXhUxVRUxWVUxDVWJXqVnksT5SEAEX+5t6ekxDZa3yx5yTYiCXJz9p2YGW8U8VoWhh+ppAZBgRIW6ghq2zNxDVED6BNWxAXlfDXm3mtkQVFK7aVXNBt4qRAi7ThVbWzC54WVmqnXcieyYRLUBz3hZBtV+TxghivjNznXsiJ65JgUHXfZXRM7WXTi9XQp0C7zlCgBN5jbxjHiUZ9ggYIWMigZfmsZ9ijQTUpwEW2rEVBk6R420XEUI2lpfXoUTaDXogjUAV34ywU5LU9VLUoV9X8nvo03DXfktyEb9XjWPWTWqzTWg18T4mAxC0rVMJrW02bXao7VXlG7zaLZjLHXoSnVLV-WXUvVS1fz9ggS7RyUoW62rDUiC3PUpavURgfUhjajfViq-WSXAWA3K33nUHERg16mQ1WTQ0OYiBw0LyFpL4lpHgEQpoo3FR5yB1AgY0IU83k0ugGy434WyEUWazeYOok1UQE2UUJ3+SU1kVbLrV00tyvqC4MyCmi6FwS4lzS7YD2lJkcpDp0rSrxlMrfEKmZG16rlggZqiRN1crbkuAD3WkMBUrPwebHYQKyod3kVMVMp7bngj0t05yMhx7Og+lzCTmxBzATgZ2FA+kcjb0xAch71Bk+kITH2KWkBn0b2jmIJX2IK33TA+kAwLWTlv2ZD+j72xA+nBTPzkC+CTn-1aLOUGg-0xA+lprH1pp9gQOFlgjgg3AJ68IsCGCBnIOqCoO5wrDwM+l+VX2xD6mgC+DhAAhtoooBVgN4OjnuSEMxDEOkOtqakeQkMxA0NzhQj0MGB9TcBMPkMsOQhsOgAcOIPADcOMNkMUOgBgDUPn2jkACkEjvDJDUjLDCjwjojEI+ehDkjzDKKklpD8jnDAAhMJLoyo-w9I2Y0CEY3fZw0Zco3w2oyiiZTEHYy-aOUZQCPQ3owI640CKo8Y4gy2k46o-o6AG2u41o+CC2j49wEUH49I3E9E8ExCCY9wyw4UAIzECY7EHKc6E6EvezJyqPcArIYCCGKJnMNwMvU6TpkU5HXU63QzJWiwB1KabVlU0ociMwxfSU83VuRoZyd6vA0UM0znE6EVO8CVAM1yo8swAVWvfFj6WUpOWUmM9tggxCJAHQGqDSkAwk7s-s29Js9tj6ZgwwLAJAMfZc9c2c6thc1QFgwAKJX2XMvMPMOo+kABy5APz3DfzPzJtOkjTMzPAczo9X+zyFTAI3T2IygzDu0yg0CzT0L-sYLVIaLxU3+yOXTKwomiLAjqJm4ELVKgzCz3++0DdRav85R5L8zMqhKuViCBZbKY9jA4opAv8StTMLMbMHMYIW2zT49HAvSfydqW2xKrLRwRQ6JLEwEWIrth1YIBZs2+qnFJq0ET8Nm+gEzFq3FW1ZLpTLd6L+NXzsQOrIgerkLK9Fq+A7TnTm2Dq2LMzuLqCFrJ9ANoFyrINr6HAAgwFYgXwmljYmrkFdW-EXV4bRSUz5dApecVd4uxcUumAMFbwTs5ApgYckOsUNwpANSYB4Sfwy5auGu04QRRbT4kwIYN19JXJ2+VbJbcokVDA5V1I8VIVMgFMlb6Cxb2EoizQvb4Bzbs5ssCgNw2sxAUhZpRgnbJKbLygyg6uGQgCRgRKS7ajucAV+gWbRLqk0VpQ4I0VZVFkMVe7nrKwx73A1VuF-aDgtixgc77MN5-KJKb7buj7hYEQexVNHbL7Yg9VEIMVPck7xgM7UoomLJD76Cxgb7Ew9V1g4IY7MHS0ReZACgu7GCpb81k0xKoiR7gM2kkymi8W+HoAWe0k4quHWQEY+H4QuuOe9b9HoANjokxQ8ItbBgu05Hkl4IHHlmU5mb2bZMHwVU+bNS+H2p7YvCXlpJns5HlHE45emsvKyYrJCn2HNbGp4IwHAVqHxgTAGHQwueTqWHyeLbsV-o0V7bbeqhnebqPhXBLHFVE4NnMVBn6HpAmHQRZn9HLb8C8IxH2SZQdAX7eUoIk5XaoXX7Rn3n2nJHFKS4UntsnnEIl93AcePH2H1oto9H3AnncXPErshm875nBHokAA5O282pFdVyVy1d2+Vyh2F7B1rGTBHPoB10w0+UmRLZrOWyZyMN15e6GD6UIMIFFcEFFXZFpBZOaGmFFdKRwPCAlzJGl7tCN7l1kFtzF210V4O3t2h0N4MLtxGLt4VyNyxaAHy+sAK5zEftgh4BQetDhySX8vdBV+N3J3-mrJSU55Qa90TdMKJrd6zOzA9xGk98oBQfB692t0pCp+PJ91xz6Rxze8zcgp3p94d-dNd91+Uc924K979GhrJ8VfJ-D4RiBga5rUCCGHZ1jxfI5yulwTj59VOVi-IDD24CTE6oyKJgT9D7D7lRdOzyygbOU3T6pJfVx+nrtML7zzHk6tAkEYr8YMrwKrviV1Lyln9WJJF3L9zxQXzwKjr7T3r3x2D-dxBhOXL0uLr8fMDw0KD8zHdxD7b3uer3Dzj4d+no73vLU8b0r7wlr+RkjaKjJ9jwNHKkULMaOej9SJjx3hfOL4jWHcjXHwbHj2xvK25PmsjzH7+YbOnij7bLTIQLj+DetJmjZNmqxaz5QeyL4CQEPUJ+5ST71yX0uGX4PG9a9yV2mjX1DbCjmlSeYBm+5XafvhpNwg8iwFrAMBUBLEX13wXyT3xwt3VGO0vysrP1VEiZ98X8i-QFGmLzH+1W5FdpwiIEbklSOxwNhd+zEenk24-zxRuGOzf2xDeZhg-+PN-yNwFldogAm8lRVACgDMEgaSAQWQjAwCv+1QH-pgmqDwUL4b-LgFHXTrF8qwngdAWrGIpjt1WgwPAR-wwF0Vi+6ea-ogLv4kCly+Ayitd1FBgFO++xLuvEQFgDQLIHHS-s9DdbJJa490egeoVC4w19UYBBgOoBEAcBSAV0HFLkEIB-xV+9tGTswJx580KQkdSASVmoG-8UBmNTgZgOoiGQ5qZSVrDoOTyVVAwvtKVOIMkHCBpBw-OiidVlgKCzBt-X-tAPME+oigFGSPtR1L4X91Bf7dPPIJ7a54ce3AUIQ21tC+8OeeECPh7TFoCQc+sYXPn+yiGfdruacDWOTzmwVBQGXYNkPkMAYkxDApIYvp-TAjNEuOxQ3wKUOJBPASu8vXPIYGaLO9EmW7J2OnFyH6pahXYLoTkMwhtCjWZqPoTHjKE6Fli05blv0BbpjCjARQgiCUPGHlCu+lQhYRVzGHawGhfvJcJdWGHQQngzDaoJ3GVJzClhdQwYFsLKFPB2h24I4QI2yEKAyIrQ3fFkIGHPCZAWiHDD02ZYzU8SAkL4VQD1SOxnYz7boaJj7oTAx2QIygCCKeHgi9YFQh3GBA+EVdAYJXE4WQDOFax5hhkS6miLuEPC20sI+ER8MRHPDMIaI3ktljYpzYhQjyUEAeT7ajhWIVAIQc-0NDgstBQISARy1QGqcSBzFVgW7gqAe5BgMAwTkQPv79sMBuiNRIYIiwcQH0DAZBlxD5GeD3ByebgPKI5E8Dh6wIiYqqKoBcQOIOo9kYqOL4px9eMgOsLUGipcdwQtovYPaMH7tBpEZotkdPCs5MJrRMQTEakGYEcRwgXHIgWPTPiUgmRRST0bqMVEBjLUSlYMRR2zxJclK8oirsqKNFqj9KEYYMXcL7ARh0x+Y0MJmKSDGjOI+lBXlQFG4OpdoRYkYdBDoqHcnRdoyblkKNwBscoCItUl33TwqNiRcNBavqJUB9AWkvCRgFvx6iTjnA3AIXhaIJ7kDCskdbMddhpCxpGQpYxgNmK67hx2UFo6cfQGdZbMJwC4ggTERXExoMoqkZ0RwEm5ccMRHSakB2MkBdjyRF4yHMGmu68BDOiA-qHq2rHIjQRd-KsdPGHHpRQR6cHEGyG6CrD-skdXrOlCgmZhfAjZP9u+DFFegjA4QUoIDFACnVGBH4PqAwCJCnx-x3opceC26CMgQJvOF-MwO6DYT2OJ7UAN0H9aSBQAtlAABIvMGAAAQXADgAXmAAJVsqQAAA8j82QBAhoKNLLKhWL35pgWsm4vUcX2-FaxfxfUMiQ+gq7gSNJfPXnppCUmGikgh3cCZ0DvQGSdMY7MyZkAUmGS2SBZLiTxP4mCSRJ4kySdZIHB6TlelkoyXCImIFlwJCIjScRKzCkTNx0CcEAeLoDuQnh0-ftGqB8n782Syky0V3yeHSpvhomU1PKPVytpGcagEwF4HHF2SeouU8yJOH8lJA9RxYuSWoFKl+SH0eovbAGziAZAtYuQBwJ3EZAAAGE4DSxqD2Qhk7U8ntiVijUBBgsMEaZ1OmGMhluHUv2t1ICp4g-Io0eaVzC6lkAx2V2QaX-1lEyjWR6097uNN9AUClw-HScuniOk-cTp23A6c22HGBBxMe0h0KkEVjzSroCqEacdKqgTSoK2VYaRwFGlroTpKUckDii6Fax7InQGpEf0SEAjO6f-EnoZFMRwVdp6A4ftdIp60Ix6voQyOIgCGV8UZ19LkoEChkwyTu8PYsUUEhkMBoZbAGpNjEr4I9HxKQimoXVpn0yakH067hUBIAiAyEnsQQVjn-4qTiIEMsmXTIpmcjpgZPVQbHzgIO13R71FkRBBaAKyJwWMaUsQDiE+CEhW2IrNoK1H8jMaeo3WSsBMHu5MJLAEFn31tGEQRh4YSWVzLcFID-cNsvOl9X-C+D4ZWffEqXxDHoRSgnMimfDDlCMcQ5DM6IUDBZmhhmg9s4wLrIYgMQtZxAcmVHMyF59zAYYhkaZnAR-B7p7-NcGLLgncjzBRst2XoLjpCizxgoMVHk3QmfgpQMA0WgjJVB0BQq5Y9UeYPdleCjxx44uYqNlZsYI+cs9BElTYC-gHUeASELPJDBFZy5vInuVXLQGdAzZVGA2A3I7BWyvwko6CFYM7nbi8BDYooBqIPgwDqZ24JwdBGMh0jrWtAteUPJHkZ8-BfMmzILInmURRZiokijPLnkWyDYLYl0W2OfkipfZ1GO+cQNVlFzH5wor6gzRYgOBD5Jo-SoQAXB3hFxMRa0XxxvGujbYQC28cFyUjHoPR6CirinHjFBjmiPo0NMaXYrhibEV5fOY8DQW1MMFxFShePMIDlDQxkChhXnOoAFzuFtTNkOQJkZgBZ5kIeMenjQXhAs83fRMaSC45ILu2XcnMdvlkWXyGguY0kFoqKAqLcQ24hXgcOPHTAFeuik+QaCbElcCF9oxgf6nam7tfJ9AHDo4UJJghopG5dqW3zeAHJvxECD6cf05IfTwB60pEoErWEojo50SkJV91HKdBoZvgKUgWE46PigiEYWJdd3ZZ6J5p2QdqbON3GWoqpfKUAKeMorAZI6ByK3IDPigXhnp6At6Z7B5mlyqQBi1cUqigwTg2l24uccUr0XFh6AfiwHlUrUwfT+lDQMpenVWkGw2ll4m0a2KIVMIHxJHGjDm065hLpsSsZUowDGVbY9qnY2nOSNmUfjY0vJVqU5IYBCTLIAAGReZSTBxmQfqc2UkD1T5pF0VKZgr-ZqSOWFQTSRFK466TCJJMN5VpICklcbJjYEFeAIhU1KLojk7iZcpuV3LPJIEbybCtBUmTi+GUq1oMFNRBTyRIUkiY0QinjKigrhdqbFI+Hwhix+KsERdK8UcBKVzsVblkqxK4gQVHy4ilio+GZSqA2U7cPNOYaM5slNSvJe-05WUVapLyrBhyuMklKmx7Y1qEDO647jyYRSpqYYIglIj0pPK2EfyumDYK20hkbFdZl6EXCpQW2RKQ1LZK9KNVdFS+QOPZYgrbVExZqUTTxpPDhxqylVd1w5FaqeIFS8Fq0F6ZAhEJ6-XbuCG9W7iQ6bcw2KYODVMpBO4CJVe113GqqI4fqz1dJwTUgppyBVdNUY01Wer7FPy-qA6DIk4dqqlM4MQx21yGxmBNE4cR8GCCL9nFjAFARpKcXJTNUpPMVKKA0nlropGsrkVSColAhCVYUxokOt1nnhl2upFeNasOXOxKm2qWlZBO6Dzc21TK9ODGvGb8AcQm67tduo1iBlDI6eTxQYDUZzqnpIEaKf6u8E+zc+b5BVhQkCA1L+RnaiJS0pKhyrGQvi9cID2aV1yZOA6oRXKuHWxBzwY690IRNCm4hwp4GmdZUsSA3r31TwldR4jXUawD1okeaceoUC7rCgpUHDeSsZVxS7hV0-JZeuYbXqF160z1WNkfXwKYKu-daZQmildrFJLiwCbkqHU0KTEggYQDHl41trDuu-DjdOqbL9pxNbazjfZJ7XERm1b6u9R2sIlybUQY2KKGwCSlcb3gjIC5S5OEmiSJJ4APyAZoElGb3J9y89W2u4ADi94Om+TYKkLrggMQyHKTVXFY2OKv1hQJTVrHWmqbflYqowSOoEAObYV+mhFVctuWmbyQFy6LXco3FLh5pdmtRuFreW0SDMrmrwO5oQVuQPoHsBLCkHNj+xM1aIwCS7TRgWwqtGLe8QtUxHTCcRmmAobiu3BRryYQCD8i8mK1rQatr1D1YSIuQNABxBW96bm262GAStF0PrXAjOToQBtzsJgsRtc2kAoq7WiOMA2K0ewpmOKQmIAidRlbFt3K52Lyp+HYhTUhqoba2CiXraKYe2s0msopgq9SVPmZ8RQiXWQSmxxCA0KUH2UviPt2GpwbsTwkPK2AicIoAtvTiZxlts3Nbdcke2Tl7tRgmlv1BMD8BC+lfYvpNmFlBsQ2PwGNtPGu7W8Pe-uA7UWvK2ngcauqrKUoUUiXadUfUNHbXHUiLNTitcLasTsFYxkr45nfrQhVJWLk1YUjEYUPxzD9zjxPtUfgaIEBgFC05VC5MDsKDghOdkPfDKty3RPibyBy-1WnT5DSdAY7QyHXrFmjLaVdnvFJRZFu2TkzdyOKZueBuBESQGgDRkAAE4TgOKJ3biARH-COa+W9iKA39Vj1O4c7BTK3L8HrCPgEG+IS-NfAuBJKPUsPYUE936BKulXCyGgAz2EahU+svsMnoJHeCVgnuwPYrgho8qqR0CFwF5DLK200hsQIvRlJL3rtYKju-3YA2HEJLAGyS8eGshbWHaodVolOh8JN37qopbARJV3rh07oEdRKMfZ3qYDaydt-adXo9rfBhd+Aq4MgLvCiQ9dv1pSxkEL2D7vK2uq+0qPVSOAsryQr4OlKQC30HNWOqkcBMJQ8LqDk94ITyF5HV6lLdxMG0-aijoYIh+NrEVvRTEu5prWgxwRiAkIYivg71PCBfrwiE1ShwDYerzUDPY2yaZN3a-QhTGQO6yr9m+xWm9Hv1AhjiLo+fInrr3AGIQ7+zyEyF02Cbl+f+9-b5EgMvyIgycnPdMFf00HaD3XC8GuP9hMHmDedeveSONU8r9VV8tGuQyaqgGOtDYlnd-nCS1xWgHIuzWLrthqMiEl827V1xvZvbXxYIwGLvkY1ZzwYXWoQIYHsia5qgpUT6ZHVaD77Cl6vf8cd1sP8Az9F+0LYYN6y6HVDmu4Nv9p13GHMtEJCWinHkoyRG8+AWChWKNxejyAUkf8Amla5ocV9ih-gePH8O7QIj0CQXZoeYZEJX0y2ibpPvXChxuuk5d2NUCmbL6VVlXScfoFMUAAdLALxtNUx4eEMgYIJhwN0kNnGcoaCGntEjX6t9W5J0HUbTUNHLJTR48a0faP8zOjDybo953-FKVeAq4aBD0HTwbHQAAAL1JagBWjRQHFUwGWM9H8jPQA44MZ0jDHwQoxq8uMZOBQQGoFh94NYenANGOjZx6VBccsaZd4lUVFgFFWUBRVJukwSrk6DwCTGOtXxxYz8ZWOYd-j2zKKUCZBNgnVudx3yEAA')">put("and", "evaluate_query", conjoin);
</pre></div></div></td></tr></table>
      sets up
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to dispatch to <kbd>conjoin</kbd> when an
      <kbd>and</kbd>
      
	<span style="color:green">form</span>
      
      is encountered.
    </p></div>

    <div class='permalink'>
<a name='p9' class='permalink'></a><p>
      
      
	<span style="color:green">
	  <kbd>Or</kbd> queries are handled
	</span>
	<span style="color:blue">
	  We handle <kbd>or</kbd> queries
	</span>
      
      similarly, as shown in
      
	<span style="color:green">
      figure&nbsp;<REF NAME="fig:query-or_scheme"><a class="superscript" id="4.4.4-fig-link-4.11" href="./4.4.2.html#fig_4.11">4.11</a></REF>.
	</span>
	<span style="color:blue">
      figure&nbsp;<REF NAME="fig:query-or"><a class="superscript" id="4.4.4-fig-link-4.12" href="./4.4.2.html#fig_4.12">4.12</a></REF>.
	</span>
      
      The output streams for the various disjuncts of the
      <kbd>or</kbd> are computed separately and merged using
      the
      
	<span style="color:green">
	  <kbd>interleave-delayed</kbd>
	</span>
	<span style="color:blue">
	  <kbd>interleave_delayed</kbd>
	</span>
      
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      from section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>.
      (See exercises&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.81" href="./4.4.4.html#ex_4.81">4.81</a></REF>
      and&nbsp;<REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.82" href="./4.4.4.html#ex_4.82">4.82</a></REF>.)
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave-delayed
       (qeval (first-disjunct disjuncts) frame-stream)
       (delay (disjoin (rest-disjuncts disjuncts)
                       frame-stream)))))

(put 'or 'qeval disjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzRWIBRNFxN4ACtLlRfRiAAD0IMIixiQL3VSdJMl6gawnChrurcqpSA+BhOu6qbBt4kb+LdOZ1pms45pRNzAmW1aUUMPbNovBI3QjfqNtmxrzGa1rKFxYKuqO+hLuG66BNFCasnu-bzielxFuWj61uBq7Rt2mHHvm8wTpAqHzp+4jRru6anVBpGXBqMQqFqBh2jIXwMYC7aXHhnHEa+lwOvIPNDGUUhqE0FbFEIehiDoMEYciQoqZumn+kGBGDsO5NqUoQJyAUBgNBIEQGAqNhyF8Ls2XVzWScMUlftGgGMjAvE-SKUpda14QGANp4Q2aBChnFoxzbQicnkBAA+WX5cV5W+dt62uzl-pFcw93DJ07cQ9tg3+Txhn3X5sgOGZ4g1YIvXBkMHXs5tu3Dcx6mxrSU23YtkpWIL-XiQdlYnaXXa8+sD2+y9gFfeqLRSHTnNM7j-Q46Lp525j2JO99j5-bI1vE5wPAwcMUA5EUCAYHgJBUDQPFd4uZPiBQ4n9FyVref57g+ZzTbjdSEFe86U-uYvygq8t4FqEfxsUOIZ-z5qPzd+qwy50AVn-M+PNAFv2kqUfKhA7a+AUCwfAP8qJGCQSgxs+AZBpHAf-KBfM35XzoDfaSzRRTKxBNyHqkDX7ANiKUKhFMj75hPmDBg90TqGGcAQ+hJCb7jwnLOECOCGC-wuuQUgYhOEDW4c4C6dDoFtxaKQyYWAoIUNSFlSgwQubIOqNlOgfDlGwJaMfLQ+gdF6LPiwQxsVdFK0IIQahRiTFEJUdfBhYYy5vDYqiJ+SiPFmNYY2PxX9nCBJftAgR3jQBaIYBrZBwhyCyMIPI76QSgFmMSpnMGM4FYsBSQwRcFAFCSDIIg5BqDFHRI8UIiewJCnFJQcICmWTiGqLIf6BJxgyb82oD8OhPDaF1Oyf6UooS7ZtALAMoZL8Rm8I6Z4tR5Cy4tTanbZgWhyn83ceMg0gYPxqlqGs0U7APBeH2TAiZ5ifgXOUFcjpsSzmpECls4muywTLJCWuBg7yPifKIdcl5PSy7mmoGIOgXzrlxMmX8iFUKYXPK6bYTRZcOEVGUBrSqmSxlv1wqADRMR4VsMsZikw+58Bc3eMwfmWdsWwtBQaBJWKcVuJ+bcqZbKpEcvxcyxuLRSCmRBaJaytkHIuEML4fm5A+oeS8qEjoWhCoRTBoIZxbAKbIm4FIsQQ0-yvlFOk6gCgIkDwYPk5Ev4FSjWYSU9mZqaAWqtQ4XV0j9qxHwoRd0wo3ypDoeUS1+N9DWqujEc8J0MhlSVew-GDBWnaocG3aOOl+paFVtfOC9AYWpsaRw0p4De4XWtQ0xp0w9WGDLeWooHCs3yGhcCsNh5Ch33+dTcR6Co1sBuX2Uo7zf40ozWCbtvbQzNE7BqZY3qTwKhMsEUNbqxU2Tso5Ve+N2S+BIAqjVLjfCFS9VLdVIiGBiIkXtWJv0-puhuNiPVPs7nrhPnq2JV86ZHo3VM8JASsgoq8UbUuoo5b8FUCwixED6D+MiY2dJtRqA0IgwA+pqK4m6UfcqiDIgIn0Hmamfp3z8UrO6WC2Nljv3QaVj2sgYDnWIcIUA2Js1pYsSmX02ZNB5nn0WXipDl9UW-XPBDECHwFAgV-oyVNpG-5CY+Ts4FyzOBeL8kat5Hbf6hrgstETYmqI2pWKNGT2nO3rmIH5GdREQyjSk0YIIqtAVyb2QppT5Jzhqo3SesRDhEVfjAeUg1IsBK3v0L5+KvsoRebcJC9UcJuAhZBgfGWrMhCnv4Ay9lqJam8bfgB0WZc2NEMGWEhZ2HjGctuYHEQRhuSMHwKlnluL3gaaWsJ7ZLV5OEZTY0pLNW6uUt5RlmzfjZNtccx11DrK+sNdhYpOBoJh6TaMVUrBsLxugEBkx9VUyHlPP5fx4i55E2Mm2wm-AbTYV+XPHuFeQJuspdRgtgbiaW0qGKmUMBkWoW1Gu5-Zann3s8M+4MK7z2rPgf0Imt9Gbbb1pzcCq71aa3bgiwD9UVaiWI5rV43GCWWN-IBa15Fu3-0l1y7k9totjMFn0Hm6z7yuHEEizx+jnSscbc-Qij7jbRtZcvft174mgTWe818ynmd6eM9K4Rxj5JvNLdQaL-QwuiFy9-VL3MVFpettLr-Nnh8-n1b5TzvbMvOcq4Vwb2K0rqmq6yyovNBprMW6qoO8XPCmf8Pt2mtRIPS6TqY0vfGK815KCgHARAyB0B72JDjpq98v4uRt8z2GgHxq8GQWQWFMQAA+WfFKihntUMQmfQA57z6kFBqD+iS9tyX3PL5U+TWWYUUv9exTHK9Odg6x748UDQSZzPERhZa9yx03XMsgPkDEBIW2IjRWUD6PcMQyfcvGqXE3gAZOv3orsm-CSBPPzOzAxBj5YgDfBTeSf-VSEf6fiS5sovBCF1VMfzBW6wae3BIWB8BZ2q7CMyzsdmNY8lZOdCca9L83QJ8p8SZZ8H8ld+Zn91V4DhNMFUFv9h8BJdoIwsC6wVsF4kDQDlcXc5EGc3dq8k8ctMC-9cD-8xsT9gCnd3dlFKDIDr9J9b9YDdtwQSwhB7tsV+tnB4Ra8y9F8OD78uC8x2YHQ0sBD6AhCW9-QoCxC5wH8KV+CGtECN1GDGA380CL9lg4ZqDbQcDbQAD8CtCHtncqI0kMlyD6FhpDCRgIxaDbcF4gDnp75mlUlXcllCMHCU9RCYDxCjcxIvCbDSDBDsdj0wjC1yle4VdMsKC-xRogtdDsFP9wFuATDE96FzDk4kkilUlE10Ctpctsj9AXCk83D1VRR8cgVuckiDCAib8giVCuC6iHMtIoiN06cSCJcSjr0xYnDcCAD6CPCaUoMcMcjmCIDkg2DoCZ9gjmcLJyMpjwiJd5C69FD5jlCCMQjViwFGx7MRsuj6YZYDifhYM2IEMBjRoT1AgZBRVzYziWILiis8N2NbjS57jKhRVSQXi3I3jKNe4aNqAB4vjcsfjHiUUdBACajUh8s5kisuMSsB9-x-wf85jAjFi2iQjESONkSeZuM6BNDk5DMCd2twCmiyijDpiPFujk5jAhtjiwDGjYhHDBhnCRi6CP1k5zkuQdsqSMDWDsS79cTljRJttSSZZjtij9DhShjOTuTXCxisSqF4NDc2TSir9RTOCQj1SaFIiATzA60+iyCISqDhjTCOtjSXA9V1iyDEj7DkjS5yjKjcjACA8GYg95AQ9N5w8d494dAX8sTgN58KY+pl8dSK905jFIz0dbk+pFJjJhUF0+oLIYyq8WgBoTAtBhAAgTBiAwTahGhn93CXAyd8lYiKklpuAIdjcFSfswRuCX4g0wZwQEcGhqzi06zTsehnMk5x8A1WzVYrUoyRSWicSwQZAViRzbZ2yGSZYC1eU4iyAS1xy0RQR21HiZzQBniu8N0OFiiZANymztzQ1uB-iDyyT40YcudpzTyoSLzdA4SN0ycB10E3hh1Hy5twQPyTMOyXtU4gFbSy5-yqdf5TylDWiwRf4LJwLiBpSWIEKh1gVIKWDFSKjcDILXzD5HAvgeE6AZE7yYVidMT7wgY1FQKZM5B8EyLGz4YqKDpzwD9OFXpcQSKiFGR1sQzBJbg8kyk-40i0cJFTznZhLKITN4t1VaLykEjQ1BLngh92TXTXZZLqJrylzBLRcS1FKhZYhyKIx1LcKZZ00g5OFSFs17yMFrcRLOg0cWB1gxc1EMLgQ+YxB58bKsEho983KiLPK1wlhQxShnZKzBKvKalJKwg6ynKLLiMWU-KPLVAIrdRwgAAeRKgK+y1DElIVEVcEAAFTkj4roF8EEGkTTyIRXhpE1WoBLNElAAAGoEyJ4C8iKhQKZhLwhmrALwQmqWqY42qxAOr9BAr1EJwUz8qir8BV5iB7JyqxBKr+ZqqsQXE6rhBmg+rmrPdCghqRqur+rer+qdrYg9qZAKYxqTKWJ4Ezd1M0jedyRNtSFEk5JsR6Lph1VusUq7LUqr0+IV8G8wJUDUqTrJlnr0RsQTrCg+ZsV8BCLiLLKG1SLvcTrmg0iVIgQW5gagrGlZhXYxqob4lqRqssKHxsaVEIxLq-J4wQxXxr4Mb2QF8Nk3o4qrKvlw1ph51px7rl0UFyg1twED0jwCJZ0+xBNBLGQaLwrnM+xRovr1L5LjLOyJwFbz1jLnsabNaVLctr4XqiBeomK3Nk5Zc0iFcea1wHqkRP1wbXqDab4-qYhPqSaJL1dfriJ9MAjAZvqcrq5daIbqdGkYaCLC9WakbgUsd7c0bgaGasbbKfaP5SJdpArJL46QEvrMJybrRbQqaQxtRaa-V6bfLWLmaOLEbYcgEHaiguaUqLJrI+aRABbykd1kChb6JjwLMxbXt1LJbNMQJ1K7aNb-qBJ5btLhKFLwFOtEdVaqJdKJ7B68IXNyK-bbaBzF5ZBA9V5fSN4w9t5I8MBeLjVHVzU8kQ1rV-CAbdS5sdVRITUnViykK3Jb7j6GBTUXETi3Ez6XSaSrSsgw0mNzwn7aNg1vTGRZ9nRZ9wQ5hALYg5gJxJ6igIGORoGYgOQ4GGkIGEJkHJw4I0HwHfyREsGRFcHpgIGTZMhAKyG2B-R4HCgIHgoXFNZAL6GNYyqDQaHYgIGubkGua+x2GYgIGbh58lYWBDAOzBHVBhGV4Vg+GmyIRGqsHJ50zQBfBwgu5QB5VmrWGZGIH3IFGYh9AlGVGH15UvItH0HfyYtpgDHuAjG1H5VIRlGYhtHfzgA9GDBDHVHfZ5UwAzG8G5xwQABSNx6x5Rzx9R0AAJxx0AZx-xvfBRkJ2xrxhmlR8x-xgAQmEniY8eMdAAyaBBSb8ebLSuCeybsdAAypiAKZId-LSoBD0YSbCflVqcqZiebO9hKZscadAF9hadSbabqe4CKAaZye9iBFCb6YhDSbcfCcKDUZiDSdiEjOdCdAAaPqAY4WEsBBDCCzmG4EAeLOAeTH2lWdNWfo4XwBYA6lzOu22Y0EXRcDUYwbWfvqyNpPucmBkaKH2ZdUDydCKlpR4GeYtR4OWtAbmwgcnUAsnU+Yx1kfBEgDoDVC-n3UGYRaRbehhYxwEaoAkdgEgGQfEYYDxcxcR2xaEYAFEsHCXyWSWa0IGAA5cgeltxxl+l1OnSFZ17b5zOEFlA2yrZlYILZQB9XaZQFRblmlQFZazlgFiV3lnSgV6YIVkVt5sV8VoFnl4qXg-acs3dLVB1U59Z0+pdPVERU8+1aoNvCoPuXwEOpmFmNmDmMEe3CV1+jgL5D+5NZWwoU10EBEIoXkxLfiBBTivZU8syzNMu6yvNCrQYCVjZ7G7gQmwFw1g5+Vrq71mIWN-QeN+NC5q50wNHZNuVrV+lUSzNxmsXdi0O8ut+JjDgAQVisQL4RyxsUNsqYCLEGt6yv5r0o5ze9eUPLeCPDAfe3Vr8igUwUmAsD4KqG4UgK5SQwZP4KC1PdPaccopdp8ca6YPGn+0mrILdlduUHqhgLav2QvEazdqRZd7CBhZoa9qQ490Cs+G4aZQtPMowOWQvfzRs8gZQZQNPDIE+IwXVADsJleZqxXADhm8EPq0oODomo65q-9sVit6YOD7gIa6SjdBwUpYwL99mIi91fVEjtvfDwsCIDExsoaw6iEfq191JYwD9qUILe0vDqRYwEjiYQ66wcEUCjjpaQ-MgBQRXaRVd8uSaPVBhBDwGbSaYBJWfaT0ATfaSf1STrICMaT8IHPbffd7T3J1SYoeEEMUoF2EYZT3y8EYzmbICuWf9kCMmWdnKedq5aT5M9sJxNaw076ZT1TicM-cpe55MB03hbT1DBD+j5qwT4wJgET8zwYStMTpfE9gag0Pq8902sRL-U02Dfogz7aicDL-qmL4T0gUT8opL8L7q6OeEeThK0rvKUEQCl9N7CjuL8rndoyMuZ2dzgMNrzjv+cETB7gWfXaaTrOrIbT7gUrjrniR2PLb9oi5LmT0SAAcnPfvR6o24W7Oopmk4E7oHa7JlIAphO6MdmNAQrnKXXYS-0HO9pe3AgaEGEF6uCF6rsi0gsnNDTF6tIAyEQo+dM4G6E7u4e8m-u4LFO5UVm97nm8FUa92nB4osh-Jhh6O8G+nbR9VNAHtfWEdc5kHXSQ8FIPWgk4NLcXulW+e9qp85JO4Fy9sLJ4raCzx9ZnZkJ+sOJ+UFIO47J666UkC7-ip+B4geM6w+Bo-zwSC6p-vezMIBx-O4dRJ7cDJ9+hUy89cR6ll7+sE3jXRqBBDCy4yKC8Z4iO+ll+pqAqpG59IJJkrUZCCyV9t7cD58t9tVLgTet1g8weB+dl2hd+MFtkrRUXKMD-t49SB8FS96wVg4Ib9-kB57cAj-1QW5j9QVg7Z4J50wAr96XHT7YBZ7uaz455z4LGV6T7RyS9l7l+dgL72cT7t+D8j7M3bt9U86-x1-dsGLhfF+pEl+y7ooGmfDwjb+76swGjM0DZYjehIDV8u9XzgjJ+B9pkIDl+rvulrpXUlXl9sM3RIAfvMC-Kqvn-IsX+nBF-6+xjX4W434Gi34lTXR8KP-oGHVEaurch+80iqkcRYEzgGAqASxh+rlWfsL2AFWcv+WkUCgAJAIaRYoxRKnq5VFav8T+7vI2jLDJx2IsMy3I9hwEkobhXKzsXAVwFdobhQKWAtiERU7RPtHgFAwvKeV2h0CiKi5FiEwJkTqY2Bp5CMJwPIHVBKBMiS1v3WIEM89Kl3KsJ4GEGb0J6oFCNoMEkFwUpB5SMSkuEwF8DC8o1G9qOFIF8gRB0g6fsAUkKn9Gy0FKcutAsjGcP+z0WlLwUGSWJN+igkgQ4Hrq2xJCDAdQCIA4CkAro6qXIIQBYTADu+MQDXoYK76GQDsagoikdgiECDGA-dewcZSt4ugAik6cHNEPZaMI3szg6gW4Je6eCzBDg9IT4l8EUw2BCuTgfPUYht8NezsUIbLVLjOxihd3WXtwEaHX8PmiQyoSLQ7qhgJ+CvXOovUbKNCqeOPGeOHEtQaxKAQWa+r+21oCQZAEwjNFsn9iEcxhUwpdBMGooLC+YSw8OCsIVgScvaow-YcD0BgLce4acfoBaiHiGQW4YcfYcrSnirwthOhO4aJyOERxcC7w9ofoPMCyCX6uCSkKCDQqaCIIrEKgLoKUECZXsbAqIdgJiGWpwqkghIWfw7Dt4vwnA2zrII0E0CSBKSSgBCL5AecOIIJBgIIy4ilCOBaQ7gHiIJGWCXAxI6jKSKoBcQOI1I8EQUNcrd0rOMgOsLUD6rA9wQPIvYHyNv7tAn4rIsEdlmB7d0YgZw1IIYI4jhBgefwoUJKyBF7IJRNIgoXKJKRLhFRKnLfOf2HhUBVuDIpIEyM4jJUIwio9DisAjB4jHuoYM0YwDJHJUA+Jo20eWl2gOjPR+aRSnL0FG8jXuIwwvA2xyjvCDGygpfko0eGAw6RKgPoI8iViMBIBYXZPt-3oDcBne7IpXsZShEAtXR7aGkD2kZDOiLRXEbMfiKZBphnASbWFtuFzGKU-IKRZkRI1HSwchRHAV7icNNi7dQxkgcMa8O4itiix0aeMbwFi58D+oObE0a5XzxLci87ot+PGPSg7CFYOINkN0GLjkhzw32dKBuMzC+Aryxg1ERUBOS5xwgpQQGETUMA48pxfUBgESBwQzjssfOAFt0EZBLifcF9Qwd0EvGiRjORNboPW0kCgACqAACXJYMAAAguAHADksAASgVUgAAB5elsgCBA8VdWMgSQGoFgE1ijQL4kErSNcoTjM494oidRlW6rj7x9vdMQNmdFy9VxnQRsKmKNCgVmJmQfCRmMaynkIJUE2CfBKQmoT0JHEgcLROD70SFElEpIKeVXERj7xj4rMM+MYnfcpJ9AdyO8LLIyU+B3EhiVQGIkcjLu7w8YVQCCypo8RaeH2J7jUAmAvAyYvSbwksnmRJwlAQyUrVTQ4TLRjkwic6NpGAEG2cQAHlzAcC9xGQAABhOC6sag9kf5MFIp6xRqAgwWGMFNyChTtAQIf7hwBCmpxSA-VPEM2NLhZTNW6U0gKBTJwxTqBt7P+JIOKma8NSiU30IQKXDWdAKzsOqQlKqhJSIexA74egOQp8xwEVUh0KkGqDZAAeV0SNPFNp6LYkp3FOanFOymdScoSUlKI9Q3RhxM49kToFckQGBCe+ooEIcAMMilAKpC04gfkI6kzTGpOVBJDUOH4nTsG04TaQwG2lsArkq-TcCdRelvSrkbQgXoKnuhT9GyP0naeNObA48KgKsUIKemMT2CkRog9acnFBnvTeoHNIIX6kOlSI0Z6MooHTTFGHsQReAloHpmghYx-upmQyOZkrorADssI-gS-ViHS1aRHQj2hfRSEsBChH8HkYRGTZE0UZVyCkegk5kVCaa-4amftJPG6il+hYe3KUAFlNC5QunBWXdABnjpV49lSmbGAGGzDbogQLaWDOGE-CXAKo3BESR4R-BsR1UySiRLfFUgYRQIUoYIMRFEySByIwUH6gWbvgzxHecoZXVGgOAOq5Y5KkLP7ycC6x9Y12izIGrUzgh2MtcL+BrR4BIQKckMOELhH0yQ6zs-BBbQKEdDRoXs08Z+ClAYjoIRyIOa6Ktmjg+ZDQUOVTnDk1za0ilPNMZD6hQ4q5oI3Oe7K9RVC-UUMoONomMS5yEZc9IWMnNTlsyBIgY4UcGJcxj9LMpcLEfIM6AszF6-UtyIHPOrByc2C4O8HmMu5cjVInYkUf12nldj6uSkGZOKN3mrd1KOohUebDS4ZDTZJSOGhbMeCEBd5tI++djMICGxlRbc8yqqPNnUBLZf8vZmyDzGgBx5kIHUc7E-nhBN8PXPUaSGB6bzcQlc60VHBrTWjSQvo2IOgu3kB9sFkchoAHzwWNyDQ6tBbmfL5F3i3kAPRXOpLoASdJyYpMEGxLoDwUAeh-FwG8GxQTjeExUhgW82EUsDjowU4osIrnGA0D2cisRdT1-KdBtpvga-BTJM6Co3SuBBRTj3tSpJip4MkgZWMMmNiJ6+YqkNiiryLT4oF4ELMNL+CjTjEwii7K9kIXtjDeE4QhZXOMXUZ8FFIegAIvNKWLkswivxYUFMVKDCpuWNxQzmjQdigxF86uKcMBngYsep3QxSdjOzBLGAoS+3PDTDEvDlhMS4scuJAkCB+JDABCZZAAAy5LDCWtlNhRSZKuEtsQDwuh+SjJ5FMiYzIqB9QZJLC4HjRI-B9QSYxU9pQZKokLdOJjYMZWtMHIsRpl1ii6HxMgmVKaldSsSSBAklLL+lp5Eydm1TTyShxikp8Y8VUmNy-yAPTSa8PhCZsjlyw1qdwo4DXL-Y8IeMfalmUdL955FEyfMLMl3NU0xUh9J7j0XWLDFezCZUkFpGZsvJeEz5ZCq4UFD4xPCVqNlPO6o9Tuuotyb4ocFrieIrlX5RMPMkrAuRvsQyPsucTmVrh6ENUJJLgHSSfFUKgoeh0eEfK2lGK3EF8v9FloFaXwnHlJjSVncoePQXla8MmmvZWgyIRkPuNAEcqVE4IAVed1boHSi554+7tals4oq36gqjlQSLxWrZJVDgZ+MBUoAXRkeoq-2PGNFD3iHQL4iTkNTu6KidOWeMuIYK-HIrdEgQHyYwEtYUTOFV0DXjastn+rcZ54D8UCBOXKTHi-qjoeeEA7CplcnCvFYqxjj3Ldh3QNSfSo0laSKhpUHEJmoIl0AXl4cDsoZF67MLuAjw+NYEHpRJqvhz2CWWvN1YfBggmcOqb6uGWGLxVsrBFYyH4XrhzSzi8kIGuGW2rGJoa17OGpTi9KlJuIFSQioqFxrEgNakCHVPeEpqdIaa9cRmtEjFTi1CsZVYUDzU7rLlzyrScrXakA9K1YTatcrjXViqG188mmuvPMAwC6peiThUwqzUsKZFYK-1U-NypvrGF-qhbjAM-UxrNKLEMDcwq-WFqroLar1Umo7W9LYNPE57FFDYB0rC132CpYJMQnIS0J4APyLhrgn4aRJ9S8td+uvUPpUEWGniZ6l1kuBwQGIfjpBs-7CBbYBi6RcRAQ1trgpyG6cUOsNAAtaNSyxkBUqqW1KiN5ICTesoo1Lhip1GtRqJrGXfip5LGnHp1HwBjSzohbPVV8N-Ul0aUn0ZMMapM2mrb5o9V4Qty01jSUYxm7qLUjoDmboqO1RVcKqaynR6A5mszY5pTSEpy0Fq8OG4TzXggXuvVdzeTEAq2aWFTSjdITGfQep9NYqgla8NMmTCAV24UlcSlbCyLIt6ShLXmR1Uh8wlg1fsbokKW7D1aaKQ5NSHK2DjlhxlDRIBGaCAxIIDQILfsNmihbPuEW1JUqtizEAiYWgP5pthGWAc7BAQpemDnsFNsW2PwdtvGJL5OsFclaZLZaqLBy00tfyjLZDVDDZbQw-UEwPwD-jqQ6UHGSxITWW2cwOkyXaKg4L8WjUGenjPmdXRzARzI5Vkbfmug4jq48pnkBqo1Wa0BbwQ12svoDzVkJ16tlW9cU1vVltbFInWniN1v4AQgwdouPrWSkzgDbcezMfHqX1Fx-NzwNwB8cw01iMgAAnCcHVRk7cQEYmYY7S0LsQWGeKl+r3C-axZcZGvQ4cuMrqxy-UDzESOFNxmFBad+gNbmtwshoBpdh6nuV0JpmxAxdtwkfgaFp2s6e8ewj4Q+E6QuAvI+5bWVrRiBq6TJGutHCTrVjM7NY7ytgCorUVU4osra9bcFs5FWb-YKO5ssos1h27EKFkfLSi0EA26vdTACmaNo3SB8dV1QUqKuDIAoIRkF3HcRKsZDO9G+qvCjm+CO78BDqRwN5cpj9QDxSAse5FoZyBDggeEHABArjLF3ghPIXkQPqAHO4pxSoMQGvb5AA2sRLdFMWbuitaDHBOhPqCIAxFfBJrf+--DjVKB724ygN2Uj9TBug3frMlZ3FXR7IMD57C9b0YvaJDL1EIhCksxXR3ohA16AdnCwQGPtECH7PIreiWQxEbUrAq95+ryA3tHQrx79ujCocbqHHkq0txK6CAdonhd6PNNcs7TYJPitACRla97avDCY3xHRMQP3fdyw7Q68VwWU2B8wbXGzV4vdZMYYHsgZ5I9-AbtVSFaBJ7hVFfUnmnrwMCAeq2elXeLXATfY4DoBurURQKVIG4xamkUl7XUo40ZIj+Gaq6MLySjyAUkf8BOgx5CcI91guZJYkYO7QuDKiJ7ZAYfTQHIZKQDqNpuMRow9NuKgzQv1SBGbNDPUAw9wY-jJKFOKcXuP3EHi1xBgkmfrR5pkwGHh4qhvzU7vuE5bCgjwj6OodGCQxnD6MIw-5r9FDT617uiEO91912Got1I1Q+ob+bh70Va3SAfoEjkAAdLAAYtjZMBqUMgYIKJza3KNOmcoaCJLtEir64agPE4PEY82JH6JyR+sWkYyOUrVYjiHI+VxnFL9eAq4FRD0GdidHQAAAL03AxA0jRQTIy0dyMKGeggxoozpBKPggyjxgQqFBAaiYGhA2BjPIkaaO2xxjbRwxqNyUW9UWAvVZQL1Ve6TA1uToPAFUfJji6xj2RiY3sbhZCGMyxx0428rmO+QgAA')">function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave_delayed(
              evaluate_query(first_disjunct(disjuncts), frame_stream),
	      () => disjoin(rest_disjuncts(disjuncts),
	                    frame_stream));
}
put("or", "evaluate_query", disjoin);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p10' class='permalink'></a><p>
      The predicates and selectors for the
      
	<span style="color:green">syntax</span>
	<span style="color:blue">representation</span>
      
      of conjuncts and disjuncts
      are given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    
      <div class='permalink'>
        <a name='h5' class='permalink'></a><h2>
    
      Filters
    </h2></div>

    <div class='permalink'>
<a name='p11' class='permalink'></a><p>
      
      
	<span style="color:green">
	  <kbd>Not</kbd> is
	</span>
	<span style="color:blue">
	  Queries formed with <kbd>not</kbd> are
	</span>
      
      handled by the method outlined in
      section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  We attempt to extend
      each frame in the input stream to satisfy the query being negated, and we
      include a given frame in the output stream only if it cannot be extended.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (negate operands frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (stream-null? (qeval (negated-query operands)
                              (singleton-stream frame)))
         (singleton-stream frame)
         the-empty-stream))
   frame-stream))

(put 'not 'qeval negate)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtyPkCcgFAYDQSBEBgKjYchfC7Nker62oGEMUkixiQL3VSdJMiMPE-SKUohv64RRuJJ4Q2aBChn6QZDAWtCJyeQEAD5qUoFq2o64gupWrtLv6NrMMOwydO3e61rG-lzka8xqi0UgOHIHNiG6gjhv2waIdW9beMm-i3VFWawIWkNlphkaxs2lZtqXOZ5usI6+xOgFzoBshgdB8HetW-RPvWp5ife2JSfO5qnrIg7JidCK-pcDnWoYGResoG5sWRbgwgmi8EjdEWqC0RhBYUIxHqF8X9El6kfoay4WIVygldG9XVZV+HZYE5GMjA03FpKUAUa2906EBqmwc+-RDIJ83memNnQEN42VbVq6ubt3W9ZRJrqjEDhKBykOAA8Lamnak+4AOUd5nA8H5wxA-kJQoDgRBkHQPE0DxC5o-MYgUKoYh9FyBRCHoW7KG4W6c3hqbRRBQHOmbxQ25qV37aW4FqEHxsUKblvR47ifVmmtJWvnkf2-H6TSnywhRt8BQWHwWeqKMQ-j8bfAZDXhQN9brfKCJlo6B76TmlFDqQW5VFh4fsen470EIQQgbBfD6HrvmRuWt9ZVWIEnQggQ3DOD-ovceXdX5EzekUWcIFr4MDnoYfQ5BSBiAYPAxBxBkFGlQY-Z+3dJhYCgh-VIWUE6kAYC3Fg1Rsp0FoQA5esRSiQPXNAthwROGKG4XQXhTB8DtRAd-Xh-Cl4YLfv6FhkiRDT2cEPBedCgEiK0WxVEejN4ALUYIsMq9epH2EOQchCCkGGBQfogRQDEpg35jOVqLB7EMEXBQO+gMD5HxPkQtxqjsF9lsX4hxx9hDgMiegl+6iDSaOMO0Du1Afj6Jcb-ZJgD-TCLXKNNoBZXY5MbHknR9AVEpIYe-VexBW6UFxB8Rud9Xb1KKQaQMH41S1CaaKdgHgvA9KsbpFopTRnKHGYUyxwzUiBRNp0juEzDGlJWR0rQXSwQLNSZMzR5pqBiDoHsjZxTpk-BOWci5BzGnMNXvzcGyheqVTqYU6wuFQBMJiCUqBWgYG10YBUN5citEdNdq8rIXzFkaNXmC95yivmbJ+EikhKLzEd3heklopBTI9IstZWyDkBa+FduQJOHkvIiI6FoQqfNYHmC-uA7WJCxDSz-K+UUiDqAKB0dTbxyJfwKimqygJpB+WCq8cyvh7LSFhBovhQi7phRvlSPo8ows5XAtFQ0c8SCMhlTpdAl5CS2UOCwSzUM8ClZrW7nBegFzoksxeYE9egMiEir9jalYHLDC+r9Q0F5jr5DnPWSK58hQ+7LMRowOeowaRsF6aGUoKy55aKVmCI1KbJmxGaJ2DUywVUngVCZYIwLiU2Tso5QOcr2S+BIDS4BoDfCFViOcJlIKp4fAYPgwhECEGBsOTLS2bpNYcrOtc0RQKOWWK7sOnOUdkwzuMbUmRsLsWu0sTLWNTBSD8FUOA01QK3gmN0Y2ShbEf73zQU-Sx+aAWzo3to0x1SjTlPWXCw5iljINzPfQC99AbkprIDImgoMJmWPCjXVdRjMkVJoLkze+TXHbs7qO4i54qikD7R8BQIE56MmwaepuuH8PMF2d+jDRMGF+R5XGuWCaz4UZAgRojVF9V8WY4HOClHCMEKon5UtREQxTTI0YIIXUdktJo--VR9HyRdrgyxXB-ab4OFuV+GRd8uUBXjYJDQ+hdPxXOlCLTyCzm1DhNwUzSqziqaatyRg+B+AwsxaiCJtG92GdFIh7JKGH5oc+bRxSpQboiCMC5-t7mMUfPeFrfj7GqNye6V861LNDAxbcyBeLvCiHGHPas6j6XaOMNDJo-LBSwtpt7WCarVVDAXxPhM-NzQUawZXSxIxsz5kYd3dh4qoALWMj6wwC1Ey-Lnj3AXIE2WhCxbyyYZFXn9AWsPDEc8lmXHWdCIydT+CdunK-LNzb46XCSYtYu+15DX5Oojd02bQbg3QWO3tkdrrXsNAYcu-ma7tmpfuQNrDBneOeIYBms+0TJMrIoc49DCmGmYL+w2ox2ngdI8wwwmW55iNAkkxjjuQn1xg3h1QlxoWsf0MwX5bToTL4k4LMQqzj32Mta3dTyipOYNg4EnPLr-2jGNap-ewb5J6fNbCafUn9MVueaaxz6DvzvuSZFyx0njjKHUL4XCr76Fft+SmkWrrec5UFzkIoCAMB4BIFQFXNAxInP-VSAPFynP72pz8zNXgR8yATJiAAH0D4pfzl1Y4B9AMH0PqRj4n36Lrnz0eXw+7ml8woyf-TvgqIMwYXzYP-bdxQGXzP08REKHzt0hTBcNtFMwMQEg1q4KJeyPo9wxBe947ypc6eABkvfeh7QD8JIElA2-15rz25G68A-EX3fXxvDBm8HPBKZxlzvyXS407fO9dDfO8YJhGDLk-V2f1Z5jz3++rapAXyNZfIPwRE9duv-7T-2fS9n5Xlwh+6y7RGEf8rXWV-c-YnTNcnHXT-GNQzH-W0AA6nSOf7UUdXSA2IefcgBvO-UEFvcEEsIQZbN5BXegeEKPEPFPdvRfe-LHCyPMKVB0DzBLYgzPA0OvdAigrAlfF5dXF-BtdXBnVrMvZYKaGArIYQtrIAng+XBLJnMnJxCnRHS-P8IQofCMOAz3BA2vV3XxfxcAynRPanCaNAjApvdgh-WJbQ2QnXbgntMwhxD1YJMgPg3UFAi7IzbEKXRnfBUzbgUQjLHOQvLQ+JfARJZwpQ--X-VQuhdQqfJjZUErNLfZHzRQ73cgzAucFfQHNZZ-PwhtOHCw3QkI6A5Q3-Y-RzbrNyUUc9DdMxfQufZI2-YwtIh-So99LXBHIg8IJg1sG-Vg1IhIqg0SZoy9OIvZKw1dQYkDK9QIG9aBAQ1AwzdTQIGQFvBaAvBtcYzdSFL9MrGowQ+Y0ESHSoFvUkVYntdY0DQGCDagKDWYhGXjBYw4g5HQVHaIspLJSpILNuELPQhQ-8f8L-VeeopfEw-o8EALd4j9YLDdUYg2ZLYY+TBQ3Yg-Io20Eo36BtIrIDOE7YhEuYpEsI2A4owAk-FiEZLkfrHYqArvboowoExokEvraEtycbSbG424gSHw8rYk8o1IL+agH+eQvfJIqklIhovosXUSXk-k9ok41dUNPIgUgRAwwo-Ej3SImUliDlVouQmhVk0IwYFQwk+A5dM3EFC3Iua3UuO3CuSwDfAEw9MfcBFOK-JGWPOSYGPhJ08LUAJOP9fFQlDOUSOPd0loBBEwLQYQAIEwYgK42oRodfMo64W4WVEFfQOwyQMgEda7UHSkgSZvHAzebVfmcEF7aYNMr1bgLMpTNEl4rVLqYVTva-EU2ksEGQCyWstaIs7Intd1TFewvDLWBst0e4pY1s0AFYxzf7c1IItlQctEfYxYrWbgY4ichtUNe7cNC5GQWc+rA4kc7gJ4rkxMu4KHWXN4bNbcvMk8gsYslQegc89U7kg45jaQ-QOebclgmk5vOeCyK84gRk8wX8rNdZN8507-ZErIN854+DRwL4FxOgMhMNZ1dZHHWo3jCMKshMlwNjYWIJJuFC-4gmDC88MfMnVpXERCtnRkTrW0iHOQGfdw8JbnAsfTHMt0HaBi3UJiqhLs2U3Cxw71XC54CvVisCkYOiu+Hig2PiwdcSwscvWIf4iMWSqCnrJOW7Cii5DikdNcTM9YMnTBUC4EW6MQMfc+aXaWEfIy+C0ynSp9ScOCbiJMnC+ijnbSzoMICsvSu7NJPFDgay1QMyy+aWAAHispMoCtsremEQJUrXBAABU5IjM6BfBBBSFfcO4C4aRFFqBYzRJQAABqFXG1ZqWOIUcBLS8IQqm88EAqoqrLcPeCsq189yirPsYyGK6ceKxKmQYgeyVKsQdK12TKrEUBHK4QZoGqwq-XWIEqxqmQcq1yyq0SCyWq6amIWasQJq2ylStyPeRwl8ji8XJENHV+JfOSbEfClYf7BbPhLS7nFi0MfdFGQK8JfNAMVJM6ogL2V7W6N5fAOChC9cpC7pX7aa5oDilSIEH2RataqZAmSKv1cGlzfQTCRa60W0bavyeMEMV8buSG1vUizQcioGtnC2FYCtacQ60SayY+coR2deDtI8AiMtPsHDXCxkbC2SiBWnQyKaG6rWPirSgW9eTLYNWS6QgSkW87bGmW3EgSbuT6i6nm7tVdSXDnA6jnbnI6xME6nMRW7mnuMdHWntfmu63MFqo2l0ZI56iq11YRU69EbENa362C2Obyh7C5UG9CcGjnfG6G8yt6mSUieG9y7nQOpSfm1GgO9GiClq6WztOqooXG1+fGki8hMi92jcpeS2ooCml6tgatWmkQemu+FtN-Rm+iY8MTVm4bWSjm2ErmpTPsPm5G8WoW5Sks7ccWmSwS+OvCZTf4hWx2g2402Qc3QuK3EuW3cuB3bATC1ePlAVSDZM5MPVJU4UwE5vbWcERemVf8lwXe5ehgflUBeI5REVde9k8CvVZdc8Q+mMnVU0g7LA50PMuYG82IOYCcUWwoPMjkD+mIDkb+31PMhCAB+y0gYB1+rAsSUEcB3BKB6YPM62TIG8lBtgf0H+2IPM4KUBPqG83B2mTBkBmBimgBimvsLBmIPMm4MfdqFgQwYs2h1QehguFYKh+rCEfK8B1mAM3wcIMmb02qlK0ADhvM9yHhmIfQPhgR86alLyERsRmB2zf2GR6dalSEUARRkhuccEYASRgwNRwR6lMAbR6B3RgAUgMeke4H4fUdAAsa0ZiCUd0ZHx4Zsa0dkaEcsv4Z0bBHBAAEJhJ3GjG5HQAgmgRfHzH-HgrrHQmhHQqYgomkGYHgqARJGPG7HjHQA0mkmXH-HTo4nbGvHqVzo8m-GIRTp0nuAihMmSnQAqnynomIQAmDGhHChBGYgAnYgU5nQnQ76pUl6H6XktLAQQxNY5huB76hVzd+nhtpmV7Yp8AWAAArMMubcZ4zZEadUBwZve7w6+qNDhooBZx+5MBzIqd4EqPZo+3Aoa5+ucPMotG8otY577Th8ESAOgNUaedtGpr5n5tpN577GhqgFh2ASAAB5hhgCF4F17UFuhgAUXAehcRbheDTzIADlyBMWDHsXMXw73o5mrmeAbmH67n38gqxmVhNZlBp0CZlBn5TmKWHMBnpVbnio8CJbqXphaX6Xr7GWmWyXqYWWnR56JVTnhUHBuAOVcFtyJVqgxQPwgZfA3aVmQZ1hlApVNBvroJTmT6OA9lz6rVO6ihZXQQEQihSjrr+J94NL1lty7VboHUSaXVoJItBhJW5V+LuBYbSX2XyXOXoUKrTXYgPXUzhXFmqplm1nTBPtg1mWg3ONScPLok06WkibM7gan4ut44CaGA45lmfh7XXZGRgIsQs22cUpc4x6n7Ldi4bcy57dMBbSzyKBTAGAskPgqobhSBxkaCck-h3yfc-dpxRCB2nxWqZJRCIwJ2h25QqqGBJqLopU5rwFx2SFB3sJBFmgN3aD52HzzAW4bgykPVwzQ5Y4Hq2S3RyBlBlBfcMhoEjAZW72vGC5CriE738bwQarSgf3QAJqVrCrb3GXQ2DQf2pYGrOVJK3IHBAljAL34KZXFVkOyE4OSFjBng-iRKV3Y5arwQIRarj2HFjAz2pRJ1SElX4OuB+qJh8PrBwRD2VQ6BqOmAyBVYOVh20gbZiFSFBE-2UZtJphNFm9OPQB+9pINVuO5oIxOOOjA9B8VTeOO9wgInRJih4R0YDACYxPLLwQNOvS23b2QIu3Ype3xlOPfSpPJTlExOJOJxp875gVkwtSIC5O7KCPl30O8MwZAZVYdPFVlOeZVqJwarl2OLt9TNnPYodCUE5OQu+wwvarvPjA2PSB-Pr6A0gvgv8q3p4QhO8UUum5YGPgbz50ygWOMPfP2Op2lJu8HLLP3qiuIQwHuBm8AuO8Y7svuAiu0ueJnYw9V2xAgutPwQAByZdqdKqib52Dapqzjpjir1jrJUgcBFbux1Cxs56u+Udv-QYdb9F7cPMoQYQaq4IaquyLSCyc0NMaqw9DgeEWrh2ZrgmA7rrt7pbqrvrndz7nzvb-QD7iMD73rg7w8lwdVvMbLbV5NgsSVDwCnIdQgLjmz3+Chfjj5lH5wG8uU7XfItHsD1w-QCHzV6H6QuH5QCnVDohNHp7gtVeKLtHrTvMjTqWdWzwmfGn52ChMH0Adb8nhHtHmWRjBRUaqUvhGno2nDb1iGoEEMCL9npznHto8XhBaNWIAZ+HtwEaANRkTWPnxBTXkdLLmnrGlwkZ32vTsBrTnaAmA3inrXtaANZ+UQu3inbXxVHmZ2c36Xb93BAryeV3h39qRVL36Xi31SYnqH6gTQaQ-3h2Hab3y+AnzWSPrV6PmHsGQPo3wLmnn7hPsP6XKZ+Qe34wR3j3kTKutVdsHfRH7jHD5nm8+Xm+Bn1X87UTI2iTBBETa1htNpEgWvwy+r6cRn96wi1XrnjqxH6tUlOtWL8wPvv8mDo9u8jKgfzbl0gJJcEf6YUodC8f3GP0ytChaf2tS7eU5f12DK+M4AjSWKBOCbMGAYCoQYQX9flwBfgfvTm7uqRbp-9qLXzSFVEmyv8CKQ+M8qvxN498e0EOaRGxHgrNV92HALituR2hzskB5tUnEvxcCwC3aaApuDgPgrbkCYBAjvItxIEvkSB25CMJQLIHVA4BZCRVlzTwHcBlKhlKsJ4GYGFwRai3J1lFk4HfkuBElQyjtBgF0CI8-ArjCwMEo89RQNBNfv8Q-JsE5wx-dTtf1rxXM8COSIFCoNko9c6ARdNaDQQYDqARAHAUgBbH+y5BCAJ6VXjnWF5yCJexEFYOeBIFjYxB8FY+owEboIIpB3A3mskSLTrZ3BHeaav0gMFCYOEJg4QGYKn6CC+QYNW8tYKCHaIPBiaSgX3UYiV9heO0Rwf4N4w7QrB67IfDT24CFCUav+XPqbzwiV8nBPGeWl3xDAMQGIU0MoWjx568C1oQoSFKCGAqbtRwrEKgL4KEFDYSWrgoEOQMYG4UEBW7GjspSNwBCBkXoZIfQLsodDph-Q+xJhmUq+kOIFxBgLQy4jkC0hwQ5+JsKGHUQoBq6XYeBn2FUAuIHEbgGcLiHbk66enGQHWFqA1VRu7wvYJ8K57tAh4DwgYU-EToOw66MQAbqkDkEcRwgWnDocfRviUgeh3SIEU8O2EH8h+qZKgOEH7wL0lwmw9HtcKSC3DOIAVCMDCIJ4GgIwBIykTBEVg3CDhAVW3tiNpF+oCYNIv1uhGUo-dwQPwjgKdx55qATAXgdqIwG-6-xxRzgbgPr0GG88Cwq3ZysMPJDnhGRBxZNGVCJGMBGRAPeUbiCBGSj6Avrd5tuD55zD-iqo3NBlFUh8i-h71J2AfwBrxxE4psRyqSLVHGodq5gXgKlzoHwIsRIIt-qvA2r-cYRnolwOlBNhXQcQbIboONBGFUg5s4gSQNGMzC+BlyOHbPJ+C7DhBSgKMADtSBkEfgk4DAIkNfH9EWxzw3QRkMyJzYKCoRJCHEDmNUH5jugubSQKADioAAJRFgwAACC4AcAIiwABKcVSAAAHlMWyAIENRXno9U3RBoxLJqPOHblvRYMX0UnH9EXF0eEY9cdrwAFrZNRP3CMZ0EbALjDAi3Y8ZkH-639nARCbcl2J7H9jBxI48cZOIvEDhdxjvfcbeM3HgZtyEYkOOuJLFZgyxh467t+PoDuQVYag7snQOvFpgfxS454YZRVjCxRYmsbBJsN9xnQvsQouZKKPgmAC6kWE8yJOCNjgZlxYHOcWoEIkHj6RSQZccujzb3cwYuQBwIDEZAAAGE4PPRqD2RIcGQR-tlTF7H1BgqcQSZInYnaAgQLEySZf0gaFU8Q8w3jLJLYnyTFuEOPiREJmHrCIIcQCSZjxyjUBfQwgpcPpxvI7RZJhkxgMZK654CeYPPQIKZm0kOhUg1QbIIJIrHDYrJwk2RMZKoq9UBJHAEXkolijGTq2x1HtI9DBj2ROg4yEASsH3QODbBhkUoJpMCl4DYhPk0Xn5N9CGRNEOQ-fnVh2jRSGAsUtgOMjH5I9DuDQUqeVPGR79qpb1YyA0NlrXt3+gQGKXFI8nNgeeFQTqKEH7Qq9CAlERAbMMEoyx-sdU7qXJRxrqpZBDYx0DnUFDqpykQ8TgUtNqH+gpol0AsFUKKDt8tpBoFwW4JSEMCvBUw8aX4PQj7pAhLAQlu9XeGEROR4YTqWVO6lHCz490jIdjX-CHS8hjZHIbCPQi783p9U-7ktODzsgwZ3U9CrTwRRPTjA+0poYpRhkVTa+7QtSs6wREBJ-qLiP4LpPQFrhlxuOYbGMJGzBDPBiopuJwLNErSDA3TTMbnmWGxw6+RQY3HQDKokjDhlM44WdOficiigxM54UcETrt97BDYtcL+GDR4BIQcskMC4OCGnT6BVMpgZ0GXH7SpojMjsIsK-CUDok-SLmdqOYGCyign02XJQNZGhh0R24FqfakJk0dhZdMhOszX+Cvh+pzrVhHwmFm0ze6kQUALLPlmJTDMvIj4QKOUw1DxMhmNYRIILoiyB6KtFiA4CNl3CAqhABcHeFYGBjXh1osOXHyESiQbRp3f4R0CyDpypmpILTrJUhERDUyC0UEQXPhFdDPi+Mx4OXJ4CZzBKNc6EeNDhFYyuozcvGdQAJmEA7w7c1gQHLAByzIQNcnaOnJxED5MRo89HsnPmrcyyRv+eeVbNiDkjSQ28mIKvNxDajber0Y0SsFt57zTZBobkc7FDm-Dw5icx8ixJZw3j6AXHTelgQXE-lBJ+9W8jBW9EoIWJRA6+kAqwH6Tgpk2IBYP1TxZADStoUBej2O5sBYpvgG-IekX7OwZ2v+BBTzwlQOJn5LE6UbqM37kSGJcosgLiCznKjhsbyBPEFPigXhnJeAtyXwiAXTZhsh890SmhIwThOF2omUaQroD7zDQ-8-IrQsWxALhFsQU0dIP+KcLLR37IufnP+SOwbYXPADGDHW49SwYLJd0vQpqnrVY4To5WC6PkVUIPRTE9sQ+IYBDjLIAAGURZTjVFmQHiZOUkA0SWJRCJCVQpw6rjPBFQDcYeK047iixI0Txb+KSBHiBwJ4+hXePfEgQYl4S+8d2JsX2LHF8S-xfAjCWCSvF9EugNuVQnhtsEAEl0UBNLFLEwJps8ECxKgmmx4QYHEpVGPMnfyOAtSq6I91wWKJcQ4S7xRNMDGoTDYGE7cCxOnRfY8F9C7RVMzyWUTsE1Elhj0umXPCwx1IA1pot1E6iKFJCi4ucMjFPQClpsNCVQCGXTBXh50QyIUpATYzPYrqNUF+NfmJYBF2y54ZSIDgSpwljyiiUsqDRt07Y7QjRZ23WXrcdl5sUmSS1aDbMgQ6UFGk2ibgfdwQZGAFRQorouEmZSw8FVai9IuJW4wUrRUCriG7LWo7WXnsiGHiX8hqGy1bs-B+VXRlloodcQ6HLHQLIxEeGsXKChkLSx2Q+UMTzw+DBBH+EEmyYKoCUvyEJb8oXvNJYUBKGVC4tmSIqpBVigQZSkCUsRlX7Tzw97AlMTgXEEqhIa1RpU9BxDgT7lbSp6MisKClRDVEpAVSatajFlDIO0L+QYC8YaqnJCSgVTqrV7-Tsa1ZVdLysCD0KqZ647RV5JJaajGQbwN5AArqRsLyQwvelSPLyWyr1ew2BVS7ACXATcQoExNWqpoWJBXVAalWDy3ej6rWolq6pYJJtUKAzVsQC1d0BaXEBK1dqvsJZMEmZxnVea4nLJPNht9I53q20n-1kkSIFxIqoifkqZXPyZVDclRQOsEkjrUQP3P-sOtVUrke0i6gVXOucAWw-V-K+5YGqLEbq357CklifDuWir3gjIaxU+OHGjiJx4APyJeoHHXrXxTih1QKrbXToT1tE28edimjggMQjHFdarWEBrQCFnkmWNuoDWKsg1MauVQIE-WeKL1KS2xQ4rvXkhrFyGxxYyBbXoCA48GnJT+pDn-qZBqQDNm0i0QrNdUFCK9iipgWI8HMPqmEnhhAhvAKNKIOjcApGBUawFSCZjfQFY1xt2NhlRqfRvnqihSNuIYKPxtR5LomVz1LjYt2wqSb9YgmwMVVJE3-YeN3UFIFJup4ybAxwmsBTUDECNw1oWirjYZTU1gLU+pPQpCpuEpy03QlmwUXxvwDuSWN+sEdNSr2VMrxN5G3VO5pRBLBHpgtU2M7BY2ubWFVCXjXQB02kqdNBi2IAiq0XYUAtpgOLR5qwQ-I-UXmwlcugtWP4RA1VJLbqJvLhbqgYrf7JJoi30xtNHm4FXbB80Z0lNKZZrXG3R72jhOLsN2P0GpjXLtwxWihUliY1abDAUmmraNoy31aaVkEBoAHCq3uTNNrWygEQiW2psst0EHLTxBzj5bzuFkAbatwIbaaItFWtHEnBMD8A8KtgwMZJhUFp1C2LAYtq6yXg89rN6fF8gGim3ebTwfNA5YMuMyKRTlikLJfeyBTqRmA7xIFLDVe0x9bNTvc4fvNfIsDZGnIvOjmCNFnzqaNaMlGRPNqQNPIeVXLr8Sy3ghodGfR7nZUdGSBnRUYm2XihRid1Nt22-gBCFJ2x89t-y9bjeVZ1vkeJKoqlCNrwYpUgQAAThOCVb2ItMHVUYAsE8EJdfUHVcfUBhqw7MZNWIMLxtpPxVd1Q12VXxMz41OJWuooIQz6j6AxuY3CyGgEt3VrtdqqI6YUGN1FCRgHwNXisAd0K7p4-uVCZhAfSOwPIY5DISjPt1y72kByj3ZTW4A3BixDu5ZZ0BQVoLmcJ2PlZ9sJWGVNtsGfLbHr6jx6-y7OwFGsqRUytkFWeg9BuFcUNos+iK1bm+BY78BVwZAY+Pkg27UKwVjIfXsXwR7Udq9pUfDkcA6Wxr1UoMUgA3t+bhNVILiPylpEN0O6IQnkLyFn3IWrcXY3emlBI0tYhhp9IPQFccEyE66IgDEV8Nqvv4sBH+wGqUK0CTUxAZ1wUodeurXW7rJs5+jIa+EH3D62ko+oEKCV+FZFlpsQafeCFn346FxggU-aIAAOeRfIO+23U0N7XTA-9YBryOtwvDqiC48B1fftLd0hxzlBy45V3XZpkw1qm+wbYLLB2aDoErQeHQYDR2BwvGPcBLftrW5SwjFVOkxVGOzgOSE5tpbCkIEMD2R-c1QUqCGqpCtBW9xCrPliL+78H+APevvbBriGJj6DAPRg-BWMVS62Dykrbjx1kpBad+okOyEZlJF4dNh5AKSP+ELSVcfOle8BCQYh2wqDmYlXCh5UoNI7p0tBnnkZugQfb8VIK-pb9vQn-bcD68HCetrV20aFD7h8MpYeU6psMdfYSnQnBYMGruRtgYIyoriPU7EjXc34vmPp1-IigjO9PcztXz4AruokegzeXCMXCsAFerRWN3FH6Az5AAHSwATrLlXUe-jIGCCqx6dWjYpnKGgjm7RIL+-6ovxODVH1ltR-cfUeNFNGWjA0iFB0fS5YiHKvAVcM-B6A7QVjoAAAF6bgYgTRs1q0bWjtHOjiOno9seC7vQBj4IIY8YEKhQQGosJbg7wenC1HDj8xk43wza4wNjDFkFgNVWUDVVTukwMbk6DwBjHBtrxuY8ccWOfGMe1VP422UBOPcrjvkIAA')">function negate(args, frame_stream) {
    return stream_flatmap(
              frame =>
	         is_null(evaluate_query(negated_query(args),
                                        singleton_stream(frame)))
	         ? singleton_stream(frame)
		 : null,
	      frame_stream);
}
put("not", "evaluate_query", negate);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p12' class='permalink'></a><p>
      
      
	<span style="color:green"><kbd>Lisp-value</kbd></span>
	<span style="color:blue">
	  The function
	  <kbd>javascript_value</kbd>
	</span>
      
      is a filter similar to <kbd>not</kbd>.  Each frame in
      the stream is used to instantiate the variables in the pattern, the
      indicated predicate is applied, and the frames for which the predicate
      returns false are filtered out of the input stream.  An error results
      if there are unbound pattern variables.
      
	
        
	<table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (lisp-value call frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (execute
          (instantiate
           call
           frame
           (lambda (v f)
             (error "Unknown pat var - - LISP-VALUE" v))))
              (singleton-stream frame)
              the-empty-stream))
        frame-stream))

        (put 'lisp-value 'qeval lisp-value)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtyPkCcgFAYDQSBEBgKjYchfC7Nker62oGEMUkixiQL3VSdJMiMPE-SKUohv64RRuJJ4Q2aBChn6QZDAWtCJyeQEAD5qUoFq2o64gupWrtLv6NrMMOwydO3e61rG-lzka8xqi0UgOHIHNiG6gjhv2waIdW9beMm-i3VFWawIWkNlphkaxs2lZtqXOZ5usI6+xOgFzoBshgdB8HetW-RPvWp5ife2JSfO5qnrIg7JidCK-pcDnWoYGResoG5sWRbgwgmi8EjdEWqC0RhBYUIxHqF8X9El6kfoay4WIVygldG9XVZV+HZYE5GMjA03FpKUAUa2906EBqmwc+-RDIJ83memNnQEN42VbVq6ubt3XpED-XnEMQP5CUKA4EQZB0DxNA8QuFE3OIFCqGIfRcgUQh6FuyhuFunN4am0UQUBzpC8UEuald+2luBah68bFCC6L5uy7b1ZprSVre6b0vW+k0p8sIUbfAUFh8G7qijHnxfG3wGQR4UMfi4nygiZaOgq+k5pRQ6kFuVRRu95bg+p8EQhCDYXx9Fz-N861mOcuIAAPQhAhuGcDffurcK7HyJm9Ios4QKbwYD3Qw+hyCkDEAwP+ADiBAKNCA-eh9K6TCwFBM+qQsqUGCAwIuLBqjZToDgu+g9YilHfuuT+pDyGUOobFMh7Un6XxoXQge4CT7+mIRQ+gbFUQNz7rgh+zCxEiE7s4KR4875CIYWGYevUF7CHIGg-+gDDDAOkfQh+iUwb8xnK1FgOiGCLgoDvQGc8F5L0QcYwRUC+xaOsboxewhX5uLAUfYRBpRHGHaGXagPxpGGOvgE++-omFrlGm0AsrtImNmiYo+gAjAn4NPsPYgxdKC4g+PnHerscnxINIGD8apaj5NFOwDwXhKnqN0i0JJTTlAtLiWohpqRAomzKWXVpsikmDNKVocpYJelBLaaI801AxB0GmaMhJHSfiLOWas2ZeSiHD35uDZQvVKrZLidYXCoBCExESR-LQX9s45QqMcpg+B5GlNdkcrI5y+kiOHs8k5-DzljJ+AC5BQKVFl1+SElopBTKVIstZWyDkBa+FduQX+HkvLMI6FoQqfNv4uAvq-bWyCxDSz-K+UUADqAKEUdTCxyJfwKimsS2xpBaX0vMYSh53AyVhBovhQi7phRvlSNI8owseVMotjEc8gCMhlRxZ-Q5viSUOEgSzUMf8lZrUrnBegqyPEs0OXY0egNEFMr9lqlY-LrU2oaIc-V8gVkjJlYeQoNcBmI0YD3UYNI2BVNDKUQZPd5FKzBAqwNbTYjNE7BqZYQqTwKhMsEXlokkV2UctHR5LhikkCxY-Z+vhCqxHOAS3NHcPgMDgQgt+-9DBqJlpbN0msyVnQ2Sw+5ZK1EVwbbzLOyZO3yIkUo75kLXZNuIl6pgpB+CqFfsq+5bxR30B+BgtiV9d6gIPmomNtyu1jwUZIjJRoUkjJ+XMxSxk87LvEVkugmzA1kEfTQUGrS1HhUHSxORYTUk0CiePGJRiJ3lzmTLc8VRSDVo+AoECPdGRQKXQXKDMHmBTIvaBom+C-JUu9XLX1K9UMgVg-BqizKVhTWIybOD8CqJ+STUREMU1kNGCCF1SZhTMO30ETh8k5bv1uRgTWreDgtlfkfTvClAUfWCQ0PoST8VzpQjE0A5ZtQ4TcEUwKs4gnzCGG5IwfA-AvngtRK4rDMsZ1-oiYBvewGzlYcUqUG6IgjCGZrSZsFpz3hazgmh4ZFTzmapZgZoQnmQLeZoYg4wK6hkYaC1hghoZRFRdiU54NVawRpaqoYNeS9WkxuaCjL9etK1yK6T00DU7yTnjVYySrDA1WtL8uePcccgRhaM15kwgLzP6DVR6lQxUyiPrU+qDrWWRNijG4Y9Tgx2tDZY7eguaq+26rQcfA1rqKntftQ66Cqm5sTe4Mag7DR8EDrK0OuREz0NccSzxyd4Hp2ybMQwUNK8PGscGeggxIGnu7rmVd-mw7xM7Oqy92rI2ENAlY+DsudH1xgz+5gwxjnAd4IgX5cTTj15I4LEg8b0y8cFcvT3T9MmCO5no7p67P6kk5YxzumrhRcd5eccvZH9Netmdy-l8dmPTvndY0zwjyO9EYKwbQn5Z30KXb8lNeNpW8D8zjnIRQEAYDwCQKgDOaBiR6eSKkOuLlBc7otjO9IC8yCtJiAAH3t4pUUzVqhiDt6AR3zvUiLyXv0GXlmvcvhmjbD3DunfB5mxUOpgxzlftB6bigXPCfnMiIUKnAk4mldB6KZgYgJBrRgQi9kfR7hiEt7J6lS5U8ADIa+9D2nb4SQJKCl7z9nwlw9FN29e9T3P5B88jSL7M8Ein8VG+pAL6b3fU+94EgTCMwWO+VvPsT7jFurOV9SHngvDBh+Q-BAj124-QdH5IwLnvGe3QL7rLtEYi+ku61P2vz5YbUfS8v562TN-bQP8x5HHPVIMXT-WIGdHfIfUEYvcEEsIQSLXnHzeET3CPf0fvQfQvSAkfPMDlB0UzBA8IIPFA7fAfXfffQHCyQ5MXE-TvMXUnc3XBCaKaH-LIJgwrJ-ag+AmhAnFHfRNHAHDfP8RgxvCMP-C3AAzvWuKxGxd-dHAPTHBgrfMvEgjAg-LxKQng6XKgytVQ3RM1BxMgWgizOQgQt7eTDnfHOBRTbgFg4LAdBPSQnxfAPxEAltFwFgkQ3BMQlffDZUeLB7GZSzYwvvIgtAvfZQsg0SO7QLLSWwzvX7dQmQ5wwQ+-W-JfOnQAkdB9ZRIwq-Y3RQiAucEfFdTIxsaQ5wRAggg0VApQgog-Iok9Xw6ZTQodOosddlWoagLdRI2TYTQIGQYvBaePTvFotdU9VMcJR7fg5YKaHoyoYvUkQYytYYx9RsToQGV9agd9WfKY7o0ED7WY2ZHQEHcQ1IGzNJOzEuBzWQ-g-8f8HI4ecA9Amo8I8EU4gDU9ezB9Jog2fzEje7CHbI0A7-IQlIpLBYodWLcRBo9fegwI+fYE3-EE--I4rwprLkKrAEwEoIvIx4-w54yrL4tyRrZrLYr-anaw0EtI44nhZ+DoiFDElw+44g-I3ElnUSC+Wk1EAk8wJ1eIvgmE7Ysk+Eug+hGIytMlSXf7bBEkhGQU5IhE20GwlXWQQldXBOLXZOXXNOSwCfXPOdVvV+X+CvLE33YGWhQ0q5TLX+a9WFeFX+CyE0-3Fof+EwLQYQAIEwYgDY2oRocfenNyd7CxXQyQMgRtUANbKHUkgSIvaA8eSVfmcEfbaYIMi1bgcMvjX6KkiVLqRlI0q2YI6osEGQCyLMtaeM0UodU1cFPQ6DLWXMt0GYvoos0AAY3TUHVVRwklOstEXY3orWbgeY1szvJ1LbF1VZGQLsqbXspsw45fIdd7T7bnN4CNCc6MhcgsBM4bV2AeMEliUUNcguHuCcqo5k-QCnCIn1Lgrklwfc8NEZQ8zfWUwYCMQ85Em7RwL4QxOgVBZ1Q1EZfBB8gSCMdMv07kn44WexAuf8ufa-RvYC88VvFHIpXEH8nbMqErCfAMiC1eTnUMhBCcnaMwlxSiZHHTDMytOQUeAwrWCC54dPSMmCkYCinecsg2CCrgy1GitPWIO4iMJi6iSk8rX+DbFC1ZQi3UYi0MlgdYFHCBAC+s26MQVvbC9eaWZvYEBSpStcJYTLHaTC0eZSoimnXUQ+KS4wTbYJGFDgL8pSsS6WAAHnUustUFPM6G0r7CYThTTXBAABU5I5M6BfBBAUFeBpk44aReFqBvTRJQAABqC0rVV3L8oUV+Wy8IOKjc8EWK+K0LS6N3ZKly4ymNDRVNacHyvymQYgeyIKsQEKsuMKrEGkqKzKuKuXWIRKsQfK1KrKjKrK1qmIdq-KrSzwodGeWgrggytgVnRMTvSuPfOSbEKCkMUHLrCa3C1y2VPiLElGVaoq6YJhY+OaogL2A7W6Y5fAT878kc38ipS7Vq5oMSlSIEH2AXNylmWYRvIavq0Ae6wzfQTCF6w+Z89aobeMEMV8SuR6kvRCzQZCq61Cjai7Ty6cMSxFOgRecoR2UeUtI8AiZNPsSDCCxkajPit+bHQyKaFaviqivikLB1KmutGmkGstfjO42a9EBasmitIddnKfP1FGoyqamIUHNm+a0mquZtaaytFa2yiShGooK3UPVK41fanMQ67EPq06j8t3cy7bVZW69Ce6gXSG56nC3a9uUiAmLS4is2oeFa-60260W0IapmvCbKoocG4+SGhCtBJCnW0cgeCWxG+FfmqyNG4zEQTGneQtM-bG+iY8JjfGkbPiomsCkmvjPsCm36qm2y6i0eWmm1emqiDivOl2-yUG+ilwEWo64CqONXeOTXJOHXVOfXbAEC3ImlOlN9blXNB5auBQh40IucbWcEDurlK8ngDlTur0hgWlZ+Pw-hJleQx8v62-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-mftaflHmZ2Tf3v1SGBGH9uc-4wS-4-m-nvznGzlPsVtPsjZHR-h2DtFv6c5E+msb-j7zDTP8c+VfLHkAI-7rxWmU-Q-q-3JRDZGMIqdbt3ir4S1pib9UvpPk5zvdC+a-eMPHRwGyYa+LNX9m5HzRAdCA5XHaGH2q7ftgOzsEqmBwzQ2Qs0ldXkuYFoHj0lydVQPteyrxwQi+AYe8FkCYG4wbSaadBKjWRTZovuKnegBGmwZwc3I2vTSFVG4Qy92owgCoIMGb6odaBwgybloK0gFcBgl-GftoJyjNZjBX7RvIIK2a59a+1wW4GDCoQKIvyLlRTlwCMobhr2O0djhBECH8VD2LEbwWxC-J0Z-BA2aoDEPLzXsCY0Qt3CW3MBpDYhfqLIckJMG35chGQlwLkJnqMASaoQjgNwBprXsqwngCoQEJpoFc9WbmeocRQLBVDOKqHXSp4KayJC3cfgmTgEMPIdC867g3IlgWEES98yJ5eQaJGG4aD-oqzWApEnuSzC+K3ABwOjS6hYEGA6gEQBwFIAWxQcuQQgJe3oGB0MBbXCYdgOIgrA6sfQr8g1geGoI+Wadf+CMOYrj9Nq47eNAkJ8Hl5WqNSLYWtB2F7DhABwjgTTTurDZThfwpIeNUKGl10BrfRgZ3wuEFsdoJwyTqu3oGHwsRoPXPkiLIG3DvhboSgbGBZoFt8RYfMYU6Q2xCh3koIO8tJ1HCsQqAHwyLtDnha5Cnh-w0oeBX0qtD44owu4u+Gjxeg4R6Qmbs0MGBCidEYGKEWtw4hrEGA6DLiCUJyHPDD48ojkQsJcDKiX0qoqgFxA4jcAdRwo5ite2TqTcZAdYWoJlWq7ghbRewe0WwPaANxTRbIg+Ja0YQWj-gn7GQaKAmEcRwg1XGUTPS3iUgmRFST0eaMVH1dseS4EMc13ryiDpw8o8PpOCNiGi1RzlCMCGMT4GgIwGYwsTBEVg5jjRzlfflQAV5HMCYJYr1uhEZrOwnRdolXrSLUAmAvA7URgBYOAR9j6A3ARfuyNAD19qhxEc8LmL2IBoyoBopIEaM4jOVhxYGAcXQGFxHMJwY4miorhMKLjpxiqGzs6I4Aq9quTsGQQh0kBIdTY3ESsfuOjS0jeAZlRIX-GdY1iRBJxBniDxDF6jxAA4EON0DZDdBxoE4kbJNnSg4hAJfgAcgWzFGfguw4QUoCjEc6GBaRz43+AwCJCbxXx3okCfC26CMhqxYbUUakAmHdAEJcwzKs0G6DhtJAoAbygAAkfmDAAAILgBwAPzAAEreVIAAAeRBbIAgQ6Fe9hVT3GrjEEc4tcX6InKPiwYaE7CWsUzHpRShFQf9jYI0j9YJJWPJSZ0BWK2DzMBXbSZkHah6TY4J0VDgxKYmsT2JXE3ifxIMkDg0Js-Eydgk0nXslJIcNCRhKzBYTNJWvZyXQHcgqxfSbZRIcZPUmmSJJuo69irGFiixNYUCeUSFTOhnZOx3SHsWFLTDAJEp5kLMWsV1HucRJagDKXYN8yRSpJV2CNnEAyBgxcgDgQGIyAAAMJwe9jUHsgfZqpbfEPjlGoCDBLcHU2qVuVICMg9eNU8OvVLip4gdx1OEaWIjqlkACu72VqXEMGEDDWRM0qPrFB6n4UlwU3DcjtHWkRUupjAHqWb3qE8xaRgQRTMtIdCpBqg2QaqRbHlQdSNpVUHqYyCWkHSaSR0mer1L8ig5HoYMeyJ0BaSODKMCha4cBx9EyRFplVa6X8A4GfTNur030IZFESoj6BhkUoDtABkMAgZbAFpCwNxGljr6gQQGcDIJEwDUZTpQgAxh4qkzcZ5MkaT+IqCdRQgNaePu8Jpz+CopxEf6fTLxkgy5arfa4RRhfCioUkDcIUY6HRGki80c6YgF8Ljq40E60EOrLyPhGvCsKDQ7ccahnS-CWAMLLjraMIiNjww-M8mRqJXgGzS6oNf8OgJJEugFCjA0MehFKA4yBZIPaWY7nZDmz8ZFMvPn2GaDGzjAissuszQLbuzyZNI9Vn+3pFbwLihieGUKLXA8yuRVIHkUCBKGazBRLIsIY0PJCvgymsEmPJKK-KizHZ1OBwMlQXHqjnhCIrUeuI3EpypJqrfjGQOFnIICqv4B1HgEhB9yQw9w-4erO1rZzC+zc-OWDOpxFyOwtSCUYUI8Q1Jq5uY1aRBEbENBLZ3OQocTNDDxiJwxkISk62TmdBdRDGduaKhZn6sSEtCZuUKMZpp5e5-cyeQJFbEuj2xbc5WRcJYwHyWhucyoQLRblUCJ8VciTjXOcqEAFwd4ccXcWtGqQjxroiQS-OPEADY0LQd0VkHAWtNSQ1XPis7CDGdzwFLsrjuGIZEJzqA8MjBTwEgU0VcFJE-BeNDDHfy1oJC86onMeCEA7wFC6oaAAfmQgaFtiJMQtBTGJixB7CzMcAtxDLz8xr0B1PmNJDbzYg4i0BV+OkUbjpg+-ORWvP9DNiZBiC+0ahIGTVSic4U+gOVwHqNd-JFkEaQIPoDHJHxwCJmSkOpZMyihVUjgE1g7L3Tmw749rgSIjDOLMxSvNgEDN8Db55ZI3GQW4Vvz+LaRbKXRCNM8UBDlxeU0cRbwFGWjcJVIY5P7nakMggQl0yivUNum0ImZrWEbIoqjRlQ3oii5eUkpfTyKKQNi9cAkSyXhYmZ9SwoFuJFEFtylmCA8TaLbHIKbkjsG2GwJWxC8yAr8GacSVNI5K+QhYi8WQmVjXielM4yOJVIskMAOJlkAADI-MBJwyzIM1LbKSAipI08SeWKSCpzulT4j8L-HkkvpFJDk25SNDOX3KkgWkgcDpNmWIIXFhkxsK8onIbKtluy8APZJAiOS1ory1yahxikmtJWfYdydeM8mYS+ivkzReCBGmBTTY8IdzoiqugQh8BGK6qViqugG8YlLLb5W8sklQKYupsWKVQHinbgRpHaM7LEtmUJLWmFy6lTRQKknK8GUKrlbqJ-GGJi4bisXubwmX8Lsxlyv0SbCugTkYphsRldMGtHnRDIsKx1ndExiDBjUaoNSZlOwS1KZVNNQsQHDZSvKjV3Kkuvamzp2xaRyGcZSLzF4ci5VT0R6SNlaBjMgQ4E0wS73BAOqxesdBksXIlGeqNUM3EVXPUdWvxnVsq82NaTDUB4tyrgl3ravlX6LlJf8B0NhPK7tUvxNY7rsPAmGEThq8HMhIEGKmbTjptyoxQaroAWxW+aE7NauPLkNK8JfgRkMiu8l9EW1oc88AZzhSI5Vxrq1qOS3eh4qnoOIPycYoClBTS6pUKdWyX8kkqnoCZQyDjwsUGAzGA6y6SBGHXmw0BxIwBctXLVgwZpfLOSQ4oyUlQuVjIN4LYoSIlKC5oqUUE2vIVcrW1hodtYFSBBdrcQPkj9X2pGw7rEcM0lWGOp0gTrWoi6olRwBXWtQg1hQBdd0EsXEqgpirfadVO4ABwQNnyMDRHFPkfziIAme9tYNmU1pSAla-sf5PK7xKW1UM9pGRro00bnYZG1cbWpKkuK2N-kjjaiAtgfBggYMYdReprW9q05AgJePqpKmTYNlVkzidxL4mgryQsmtifJtsn7KN1M67DWY0k1UajQS2WTOCAxD5d12LEJjYYqvXkgBNFa89dWpUkJKhsUUNgJCuqkybGJmynZXsr8hArPNGmpcCNO00dpdNZygzdTiM1eATN1A8wOW3wB3TW2KIUMmmrdXeL+22bHlPFo9aZiktrUZ2DFrumbsMtlACzHQAXYn85cAai3n5lnZpbK2hWsrZcgLpsUD1pWBdYfhEAZUKtEyjcnlvrVHLqC87WLbQkHZtsXV5sFLb7WG091JtmW08SMsDGDT3YNMSGPCu1RjLxV1Gabdlm3YJbD42WniJBAaABxB2g2-1HO0MClb6Y22zLQdpNRNaCNumVrWrwsidaL2UDAbdUCdAtTiAJ7btMf1G12xopdKpVfJigSqrrkrYEPHNBe2vxj2p7aNXzzK2qKSIbuRDksvxWM1bADWh2AsqvHo7qFNxRzijBu1Ig7t6ah7fwAhAa8Ota2i3huVh1aBPtk4jFFuxCgwMgQAAThOCg5oGfUEdWbCOH9bWdvOmKZ3FtwfAtMQsl9ZDttifqy0Z8gwC4DUoNS5ahQHna-BZ4s8LIaAbXYhrl1EbDIaukHh8GfD+g1dfOmeoDFDicxMIQOFwF5BbIUjy6sQM3SLst2hkbg6EtXT+M6DBLQlhOJZHZECD-b5VVo0nU9C-StafdfUP3cQGp13IwYgavlEEuj2zoNwzU88NUFKh+8ikjIcEAAEULeLsUqD6T62Vp6+wgDlKDEo3s0zJ4movfwEZCZ8ikb4QHiZib2aAhsrfbapnv4Cy6Yghu8EJ5GxS3pgg7IErpwlqBYpmGh6-XXcI9WMhF+SAtwK+Ph4t7So3VI4GSpDAD6h9XkCvV6SGns169AgXfdPtDmG7Be4q1oCbvdqiph1ugoTQYKlDX6VdsQczW4vITsbuNM69xU4Rf2hzVd7EWmBCGYn+TBAT+0QGQi9HkAwy0lNALrtdqz7QwO+0-SkomUXgZxccU-Z5AyoIGigLu68VAhinKrtwYO96Jfsq2EJLk6kAlgBnuStAOR2GnMNwAD2CazGVcWsTEGh2i8pYKOy8WjsnVYdzpIYBiB0tSX76q9atNNqDSi36il9qQcVT3rAxV7F4MScXnXtaAL7Ulz-FfYFyUMb6t9goUVCofOoXNBuQIF4i6OPxy0UDXkZ-mgYvbH6YgQ+3yAxov2A80eV+44IxGJEMRXw9+t5HoOsHP6+94BlzR-so1f6DBemxgM1n-1g1jDZAVQ2YecaiRDEVlaIjLP71AG+oEIVA6uLCOT7sDrh+2QxHtnb6cjr8QfagbF4YHFUWB4o6XQIP4r1VdKkgxODIMswKDEylbVqhoPLDP4DBv0UwaqHsHNwxqbg0MZx0CHoNQhm-SRuf7w6WeFgpBAYIMQzg36AAIU7hsQDB+vCyJsdug4rNF0CN+uAHXA7xSAOYPYPsdQbggOJPUiQBlQ4n4ABgOK5ssrsmCa60jVh6IicEWPirljek-QP0yg4bG+G2xygLsfBGx6DjRxw+CcejJ9xAOpADKvZGoAAAvZBCrx5jfHLDGRwqACcq1An1JRgToMglfjRlIT0J24+CEON0B3jAANgaksnPjeJ9I2XHqhEmejJJtMKsYr0B9oy9EvTj4FRMWRmJL8NwOQAyqwB3j0ZaAFYg5TCAnjFkAALLmhQAzE0GBuQADsAADlxMWQOT1h-4-IaWMrHQTLAcE1I2FPdIyAGVCUyEsMDSmLIspw+EiabgomMqmfMQPYkuMG9rA7J344SbNOAmVjzpk5JSbfq2nRTDpyU86ZlPvGUArJtk0aeDNOhuTIvXk5pGlAVRrj7gacEKZFP2nxT8Zl06JDdPcAqTOxnqTCYyr0mAzQZgk59szPq6Vj1g9Y9GQABiLpDKtAEuaiQAAInKbfoKmF4SplU3ceYlSYMq4AAGdEW4CHEvjaZ5s6aaz4KHiTFpsE92d7MWR+zGVYc+6bfrInAY3p+QL6daj+nDTPx1c1gFbP6BszYICMxSetMQgezpgPswOfBCHnFzAAVlZPLmbznJjM6Gc3PAnwqZAfM2mh3Mfm9zX5n83cepO1naTDZ68-ieAvNT7zj5-k52bfreV7I-QLwJ3AyrbLCkGVP5keYhPnVFlxPLY5Awshzn84zx14zif7KkhAL6Fk03edAs8mtzVp6MvhcIvEWLIpFhQORZHN8MTzJZ0SFoDUB0AOikSBk2heNN-HuL6580+BfJMi8BLBF24MJdEiiXxLh8YkP+ZZMcWVLIZ9S2GfAtYhILKQaC3hd0tEXNeBlsixZAotVmtjNZvY7CdEioXzL6ZzCzxazPtm1jgpt+hxP6DuAagYpgy8ZhSASWpG5x2qlcZuO+XoysASUBlW8qkzmLbxw+Hqc+OBmVzGFtS8vw0uknLTr5+41FdLixXwQ2y+K+oM8uSXPTp5iyD6b9PSXwQc3SULHuUuBWyraOCq3yefPaWIrtVmKyRaavvGdAKZgK7eawvhnbLqVgs9VcivrA6r013gAlcos2niz9Vx01KcTMDXbzQ1twCNZzMQXVrDliE95brNwmlLLVqRgAHVkELAXgN0mwYWQeJIIKvY2ZKtcXzrG53i8CY7PhW+Gb10gB9a+sZVfrB+xKxCHAAEXMgmCDgAOYEtEAMq9E-oJJAsgvH8rp10q0teBNVXoyUNmG14G+uiR4b-1vaxCAGB0p5LzUaPvaSWRom+gBEAG0Ba4sk3STY1qM5DfeufWqbcNv6-acPh4hTLZl4qzzdUvA3LrYIcG8vujLgAxWckSc+CB+Yy8nrdxl65ghovPWkb6gPxCRaED9XuAeIIq02eJvBW2zpN7c2cfVv4BNb2t+E0bcPz6cxpbuDKmoEioyAMqrnMabAW5ucXVLfN0a1pcFtJXnbrtnW+8Z1PS2Frttqy2Bf5srWoLhZp2-IBdu+Wtb8d+m+CApsi3qb4IWmxLeTtA2I7OZ5W4gnlMxROxLl+41Bx16F2JTuoQ23cYhYWRhTVx7E7OfnPvG8QjJom7zbtsPm+L1V6AA3b6BN2XjMvOqIXaDt1SfbRpn-qDCmuj3w7497CwLansz3JAzFhewuebKFWZbNtse6ndBvp28z9lrO3w2nuVjD7+Nlu4vY9tq2c7cd+E5XflvV2lbYVlW2-WYk2wDzxAF653BPuq2Ljdl1G7Rb4Y8T5L9AWc+6MCDvHfzW9yy+VesuVXHbfDYB--QsiDmwHEDxG4fmEBM3QQCBadaCBDsYOQLV9kK5pcjPVX8HbAUB+A6NjvGTLAF2W2HcwfDXsHo1jO3fZYcgPCHxDzh4XeLuw2fr4t1E3Q6CsMP7bpJjzMIDeRk3jzbV7q+iaxMhBSHUl+q51cvMV3eHFl+h1g7Tt8nVH6j3B1IwMdonMT-dwu-Y4siyXVA8l5QIpdDtmPFHFj6+1Y-CxqOGAGj1q8XC9MdXzzXV+Rx7ZceiQjHCgf0644oB9XvHg1hW4I5zPWPgntjhm+Q+qCUPWbS6wxB8kgeR88nzNubpyTZtiAObxALmwo4nzUYhAhgAi9OCUPur4WmhoEIvvXO6GC4+h9Kpvpv0E1R4k2SY7wa-Ko6+dCmG2DfoVpzQ+Kr1duKPnwByZFxbuaA1JH-BxoPD1vRQ0sLOL0HT+jFCCifwMDMHA4Yxn8eAN-7jU7UcagHaeAppA64pIOneYTTJiKQ-4AHe5P0cOcFwvqNz9PnEgR27aIK9S08qMeSknUkakLhjTalDqKD9RVALmYWmapUGGt4IIF3-3XLX9Ms0x6Z7vJkFE7FIe2gdK1uxeXlntNOrrdwEpeHkjlYFZp604ntuY97FUaK3ygUBjTD49LleK1DGnZNdA81wM06DwBLW2XUd51iGUHGCBuXdU3lyK1T7p8-UAruqUK7ms8O8TJh4wL5CAA')">function javascript_value(args, frame_stream) {
  return stream_flatmap(
           frame =>
           execute(instantiate(
                     javascript_component(args), frame,
                     (v, f) =>
                       error(v, 
                             "Unknown pat var -- " +
			     "javascript_value")))
           ? singleton_stream(frame)
           : null,
           frame_stream);
}
put("javascript_value", "evaluate_query", javascript_value);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p13' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	  <kbd>Execute</kbd>,
	  which applies the predicate to the arguments, must
	  <kbd>eval</kbd>
	  the predicate expression to get the procedure
	  to apply. However, it must not evaluate the arguments, since they are
	  already the actual arguments, not expressions whose evaluation
	  (in Lisp) will produce the arguments.
	  Note that
	  <kbd>execute</kbd> is implemented using
	  
	  <kbd>eval</kbd>
	  and <kbd>apply</kbd> from the
	  underlying Lisp system.
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  The function <kbd>execute</kbd>
	  uses <kbd>evaluate</kbd>
	  from section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF> and thus
	  can apply primitive functions to constants and instantiated
	  variables.
	</span></td></tr></table>
      <span class='comment'>
	The original is more restrictive here. We think that allowing
	primitive functions to be applied is at the same simpler and
	more powerful. (We could do away with the syntax functions
	<kbd>predicate</kbd> and
	<kbd>args</kbd>.)
      </span>
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (execute exp)
  (apply (eval (predicate exp) user-initial-environment)
         (args exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHR0lVVRdSeRpiIbiEpKLi0DmF2sUJNvklQQoVx1EAD1VLOjoVtZGDMf1nya2UlzpyHr7I9roikkjAA5hdrrd7rRATF1j4XoZfABIczTJzUVSidzkaiMRwxBqULLCVawp7vZLBQ6yY6KDFY+S4-GsQnE8442bzRbLWiPfKjPQTD5pDLM4gAE1cKw8ZP5my2VMiYslJJleQSCPlU1F0myDXFknBN1Edweso2FKCoBYknKokcpxJil1jQNjlUwOyVixNXqTWkMPV8Mtwo+Lv1hqa4v25vhgq1KTRNVEAEd2lpKOEyfcnbHEiHttTk2mEpmWtmpby8894wWRTNRLFyLUauRjjktHyLcLgiRxaJ8ETROK60mGqVSOUuwUe2IlePqJPpzpa8Kk5ZrLZW+2EsuE5S5+ENzZiNuFB3yMvNaPRZJTSDiBe93XFeE7-cH0+89eUfWnI7zn7UhdWxM0g0SX9zCwX9XxpBRFAA2hHCAloORUeg2y0ZDRGAvdrzXUUUM9XNwP3K0iyI0Cq3A-CPnSLFmEYK9QAAIgAVWIcpiGoAB3Ow6i0SRLlAABaETDzg0QWIMABuLAAF8BBIM4RF2aR9kEXRgRBOgjFMfxKHwUBFBmG5KBYKVxHtRDVkEAw9IpY9bB2LkWzMiyqCsh1lKdTSdlBXS5P8eSxADUR7CMkynDJPtvKEB47IclJ0O+UBbkIaRyFAABeCS5HgmzHCjDSSDeUNyqKK4FAlC59EoZhH13OsKtDQqPXcHI3EBOztGalqPm0uhev6kb-EK8Z6toJ9EtkxyrBPUUnNPf4lHSzKyJSYIltaKIxWqy81vzCr0j7Ach3FILzBC0QwpMCkGNxBCSF0djOO4viCB8lZQGbTFRPEtTamky7QEUxSsBskIHB+XodoBA5riG+M7uSJbrTmIFQRygA+PLaW0zUxkR2bwchot0JVaVpGY8Ykv8NGZnIRhCHIAALfZqXy3IJUrLIWmNSUlng6tNQ2-xYK5zwedVctoVTdNLxF1cCM52kKd5t9MqxNkrLw+M5NJr6RCLOh5dLLMvBzMDhn5TUUf8FKssHRhvlbFgfhWnLQD68xVYK+rXe+HdOxF2mQYi4yZm2laEIDn5vnduHRHs+2UjR53A-IROVvD67bv0oo0b9jocNocUz0bXdQ9eXOFKU+KRC+GG+hId9KAfYdFAGE06YsebnJtVQu69HHWIAKlb+94nFMeWN0bvArriGjf4pZT2oFnsOA4iVkDG2NlTtL+7sGZTZLDMLeGK3qP3mdZ12TRxUUOg156TfKJ5ehY5d+O23PKvSJlVGuYF+kh17vxwiBT+gJTYUwrl+QBYtUSEUgTvG+cIjqzibooD+JJfRdGptWJBIpiAZWkAbeuKk7BFgXEub8yMC7mEdqAYqXtaHlCKtQaMe5w7MInDIBguVQHgJ+Lg3eihiqzQCMwyeH5p6CKhq7WGsj27T2dIuARUj6bHzxvBYqRNqrlwmg1J8-CAzDWAZYooKiO7iiRj7Kx5VaYk0oSSCSjhtpB3-iHGiDDJhoxtHaDxx8k6KAcbo1aISrjGlNOgp4osKHLwbtQpUbdPwANviuWmh9mGe1ysXIEU8LxJyNJCa2GCaxh0mGk08nR-ShJqcUupzQ9YrU1OHNGOcl5kyVGIuJts-EBBqfg+pMc+m1L9C0pW4SPgFPGSU6JZT+kbAsY44UziOk6NOoOaeiS8A2QYPgZgbAoBwEQMgdAfAABMrjvozFCAyQhpFD4M0yIQRoWI9zmAAD7fOaqfJmRIQRfNAL8-5TgmjNFEGAr5YLQwzFIdIJ5mSjD+DhcKGY2zzo8LrpDB57gWgx2rCYAI-idF5kSZDRmkgQQgmHM4aGzE2b2jbCCXuR9NwnycB6eqXyABkfLQCs2hU-Yl2VxU-WFY4VllKV6im7l8xhHKFrUtpfS7B9CWLd2Bt0uVzSWiwwVcSpVaNhWSCfm2SgyKKkuKSVQ28RSMkVJeTo1VdLy4at8SxRpCQdWKUhj6rC+rFVks5UKkVihLXUzNRayQVq9z2RcQGx1WEVqlJNFCUkzyTU6JjZGuN1Mo0JttVSpw4yQ0BFedKml7qGXfGYixR2YDRGoKosQaSoK-nwqcKy2tnrMkvSkIwTM457TjI7eij4br1WMs1YVcdSa5XzODcawopqI1FrzUWoh9kKGQ3mWmxZGbylPFTuu81+b43bsQbK5JOo9RuiPbErNKKz2up7TWmd9bNXhkfRCY9tA-V2rcb+w07UvRuBGc0PezrGEBIxvq34-QvS6C3QW4te65Wgc4dw1d2iw1oavehndt77VRxCV4yuPjX1wffdWtVHrZ1es8X-Kj5AgOQ22k+zNFa+4EY3cRwBpG3EzHVjLXjfGVUfoY3WxWXqxNU3Tc+idXaMXSb7UxgdrEFO0HCJRi8HG5U6b5u6Swgs1bZrXTopuwT8DMR4Iuu9xmLb0DNtR2DVmw02csHZ+hVzHP2ucy0GQbgda5Bo55ha3mBzMQAMwlrlafNzVBL7qGvi+2DSIkShqk-RjT36vVnwVmWZkV9eaGbvRnX+wc5MRfwwtQj1qngBbcbAsu8CnWnto-xi9Rbr0ot3bqu9Mx2ESeVc5adjGCtaZYuwir9r2E4ZjJZytuaBPxqIcJu5Tg1KUCFieuUb6w2Tdkw23b+3AMte+uNf9z6JPntjRtoTuK5XaSU5mmDXXIvOUa5eprcpBvg32SvQ5xz2BnK4JctAsXbkiEZszNm+xLjsqrZC6Q0LVjI+9qGYIlxmr0UYIxRQlwXpo4x2Ia4OEFDil0JYUgohKBWXFKkIDwHvqBOsivRQ4HOpYiRvowZ9XnLYMbV4WKNk54zJ596F2ugBdVP9Yl6KYuao2QQijujvav2XnwC9GKquV7zbcW1T0vOXbq5dV56GtmEK6Ac5hyrK8lsW5zVb12PnbegH8w7+1406omN3PgDXbufge916AeLW2RAc+CZy0J6F9rB6i4yli0c2hSV0AnjYPuRNODT1ERQK0k8TfU9rwv6eXr5-aEb76Vf7RZ87EXy3DX1vUyLwlu9mhgLUHuMQMExipq7mya7haRaFds5EFVh0HUlDD5yz9iN4-mHMouE2FsA-GpaC9oi8hsO7Ax6OV6Z+kzzGgBWrpZvzkeVMX1Ujc-V3J8z6gwGBCM+9KktWz1p+h+cgP7sD-+0c-V-L0d-fwefOwItAAjve1KqR+WqcQSaTfS8W-XQSIfnO8e0OfT-KLTQEENmY-AhC-cVXKdHPvfAtA4hYIa-RQA-GfAg-0O-TROXDA+A4hdIUgvA1meg6DIwAAHhCFwPIM0R9ipEJ0ehYgABUyh0ZiBah-IQR3kEgGA6AqgFhKBhx0gWJQAABqbHKxb4YdPvQyfYW-IwXQueViHQvQyxAwoFYw8vAMeyH2AnInSQ6Q-AUQHieQxQrQZQ1QlwDQyw3QmZZIWwow-AEwk-C-cwl6KwkIgIMIkEewig6AkDMoSoaoRDGOfVO2JVMmfQZwMoIeLAooSGYRbg0-Cgw+LYKtHfCo3SeI0AKkAo0oDEMJNZPQbvXvfvf3QfTsZxRo9IfVHKCVPNUwxo7YPNCgiYkUcootUw3QItFI8OAIRSLYQyYycYEY3KFfRsVQZseAxAi8dlLYB6G-E-F6DiJoPsUAbVLRFIPOU2aoooZhAAr2KfAAg4GuPqNGcogA5-bqN-VZRxf4oAqA+45INY4KcAwUQoto8fCfOwYZLI9PCo1AmQXIyYfI8QOE4o14Z48wMoteeo9Exwgk1GOjOo8YkaZonE1ooeCYrvUobow4gPfo14YhZIIYk-bY8NC9ak0aYIU2H4KYgRUkzkxMUAOY9DBYn6dDZYkMEKEMDYr48QXk3YtfVkvoxIckgIM4tE1iK4jeCUW4keMSHYFNdjCE1Y0KJ4pVLYV4mfd4uOafI-KpcqX44k-42-YA3-YEqxUE9PQEkA606E1YmE8YXE1U21YHZJUHVgcHTgC5XgDAPfUUdySyTnZJJ6YgXuKtLXKbHXZ6ViDMzyKSP-UAUsxne0cyBYNjT+HMvMtbXrdDRKRJZhKsryA5L2bBS0EXGNCw-wGNCqIBZIEXKNQc8wKNEc-08wEXa-ScysuNRgGcvslPJuRcpuVcooEXBFMhCwvcpFYUUcgIEXSUOgBYSQIGXQc8y8uQj4E8-wEXM4ycs48qR8uclPG0NmWYBoOgOeb81mX8hgLYD8xRS8FibQxc-wYnXQWoIwbKXGYSXQ+8sCkXESaC8wWC0AeC0eYScSVC2c8CxQFiWeXQFIbC3CxC0AYSMeHC8wNClPYATC4yEnHChCpC0AMAQitc+tFiAAUhYsoo4potAH4votAEYr4uIOguErwt5PgqIpFwAEJxVZK2KqLOLVLcpFLeKILeChKNKRLhJ+DzBdKdyU9eDspMK5LqKTLcp2KlKU9sZDK4LjLQBcYzKpKILsZrLyKAhbLOLfKvKnK+LlKWLRKAhqLzBlL-BkdLRZoOzh0PJqy4oqEAScoQxB5FAY1dBOysyqFF4krzJMy0q8FqAGgAArKnQRLKjGQQUeec5KzMiw37GaIi5IfKsq3eWaLAYqlKryJtXwnsxlEXLFaeCw8a4cMCjop8lPSAYgHZVwa88wBapa5sGa2a4iliQCxwWASASc3a-aza2akXXagAUUXIupOo6JFwADlJA7qWKHq7qJTLFEroQsouqhr44ojMqthsrSBR481SAaxvrPrm0irPrKzmqyyxQg5U0gz-qihAbgbW9lB7I8rYbUqfrF5ESXI9hTMSq4a1c-JtIm5i8kTXJHAiRHBTpGB1IgVHBKrJApAX5h19j2j+ouraz0cLwGyeoZlyboZZJkght7VhSqgtSkDFBKaKdDFpanxwkH4JRudsauyncUDrDLFwaMJm0ASbqhl5hH41bibUrCoKrqqKB7E1ldaEaPYgzDb-ANT9j19eikDbV0csoV8QRSgGhwgN8LwvZJbqhA7dxerS1V9XaxRKqudokL8R8S9+gyEEZVBF5FdKsXT0JY6hBU6E6YS8146Kzbgfhs6fJAQi7L8ID0Mi6c9tso6Djzyc6qE865bDzqZa6XtM6f5kIHBm7LxK7E67BC7iY66RAS7e66B+6K7iYq65T41O6M77V4gQRjhy4SxGAOZZ6h6+Sn5F78aWa2bSAObS7wJW6SUwDsCF8L197cAwBuyjkEzTkkzuBMA0yE93AKBHASxvhzgbRGApwh0R10c263kPkmJfsgHJBR1E0QxghfsljgRgHk4U5zDHAtDdDEj7DIGkHoGQGnCth0gcHh08GUGx67AYgbRkxwNqdn5AU+986r6kTSBSB3kMpaRn4tIWGRKGBdCgQWHeSWItDgghGRQLCMGdhuGOqWohHdBEj078aSB2pTY6HDCQQtIAoNGwQlHgRTY9JssmGpT6GQQrCWISKrDKHDRTYaHO5sq3sdGXZRAtHdIzDWIDAWJyHQAHHTZpUsQWBMY2U5726AmNoRGd8WIQwkxsFtIjABU6wopk6kU-sQmjBfld7kmYmjBtLWJAhpI4HjI80YnBHcnmpggP7JAv6f68F-6pwYn8dI4dsuQ9sGyim4mKoEUj8bsYkeNMnKDWJzHdDvGWU-GcqI1BoUnXGfYtCJHENDVOmnduMHhMm4iKppmrChnfHGB-HftxnemzCpn3H6mhmSKNytHdANm3AWACHtRTJlyQn8njmWIFzdBsFCnQQawi1MnzniBlHhmtmNokxEj7mFRWIAByCR7SUx8FyJoxtR+wmJzxjZje-YZF0BxJ6mHIcB0Zi9VF6R0aEXMBcUcR3EcR7idjF6d8LEcl1iZmdHaSa5zaLxn53RpQPNXF+e6mdli5vxgFpl357Fp+dlotLl5lxx7+9oTe1I76Q+u8Y+ygfYkpG4RcDNVOtF87Bs6JUJ7a9VkkCwrppZVYTVvF5IbKmV9m+Vh23aJV+nO4Zx1Vhlrk+VN064LVkXXJuRk-JDBVTV3l6JKPOwZF0zZVu4VVw+FUmYHVh4H15414zWnk3KEMWZvoBVfVgDQ1l10MpK4N02cuQaL2bKwN61jNO1n1lY8bf-ONghQRhc-J6gvNItu4elQaGsX7BtnN2YAKWBwhz6ZJZ-QRjc2t5gG19twaGFwqYY4g1iM1uVhVlaCJkF6g8di48JU11m2Vk+xVod4t+Qme1QLt7URdyt-0LG7Nptzt3OW08KcNzIZ1vdk48t7a91qUz1uZwYUtyYR48Ke0h9v1j98WtxX6WfF1oJ7lO5zV-JkevdmF-U6JS4t6XiahW7TNH6WoTEGvEQBvcgXdtF6g8DkFsfF16DsQpiWDw0+Dj6RZjD2gfaf8qV1SRtxgPBDkBoe0c1fsPe4DnewD0Nyd71Bj9jTxtj2Yfj84YqUNnekG6jpQ+1vZMAekNtatUdPKlmHYE0ulcgO+pgBM0gVmOYNwCPYyWBNxWLaHaHXwfG98RcRQO0WoWnUuRgOxNFuounXERz0ppl-sHZYcep+WDwGz1DCNPNFzhzlxiU+BiNYLtz46C0ugKz-zjlxQSLlx-19GIJNsUdWWnJaGsxRT9HEavisedL9HWeCEvFdIqoaz0QFsHgXQGzxwfzck5hFQhoIr8KXKSz0gSr6rxY9DHL1rwbdYyKTFCUM6NRZr-r+9tOLZEbrzi6RUy93Uh2aGyLr2Drrr+rnr+Ncb0hgb0MKtKap+SLt6g8A7wYhLo7stq6P9gIKlVzRj9bmr0AOrq5Uk9oSb0AJrwgFr0h1bu4OLqrxwR7otPrnb0M8wa9ummb7FbbmB97hIqwateNEHpTmY6g7BOrx76g5717lB41-qYHjRVCUHsH0GBb795KZb+z8UX72Lzr7HhLmH-By75ICHg7xLqnlOb9yCUIhH+Yr71r3qbnnWu5rHgHl7s-dPJ20aPn772H2abnz9xblIYUxH6mSLnHkn8MrYKEq7m7pdBwD0cgHTmg97gJft8r1QedlqEoC38JdINgXjokU2Rjq3-qYIJ3qlkIlwx6FgODriBD0AeTz+f6OU0dHVLXoXOwW8+QHT9s6GoPpjn73KGPVr2WuSZhdTr2BP9kUhk5i3nVDslT3KbPpCVPliD3l3iOuVGPVkSUPvcvEhpTiXqIOW6gqBpvovTx2vpm9v9HCRIkOvwJiTiNbvvvCs0fsEGOCfuWotafrvgfpm2mz43vpxpgEAuetblf3QKAzx2A1Wrf5v9obft-Oe6gmvhf+vg-ovY-kAlLmYIdcTmEk7bBUjliXJujk+PWi+eCUjgA7564mqEOkcC6cJQ6ORgOykhgqBVAW9PduSQh4P9o25PZIMwgn5sIL+YIJfnQV-5v5mehjYbp52xTT9GivYYgAAPLhACQB4oMAanRv6-4zuUA-YBP1CTT8SeivCHrhwzZK8H21BBgQK3taZ4MQ+wAjne1YFk8fiOiX9tr2u6R8Pugg1VilwMLQoWAnITEDVH7C6hagncOgI93UFXl6UdABrjvWCbaCtWugzQeXAMGy0YWdbCNCYLx4wUeGTMJQSoLgJmCtBTg7IKr2fgOZ7BW1ZIG4IsH+YKyRINwOjlZpjoboegp+NoJvKRDzBNQQwU-zeRJMTB+TAIQkKsHdsbB-JHweEky7UUQhWIMIV5ACE4I4h+gq5LLV8Ghh8huMRQZ4PmIOZAcaZeocoPwC6gs49VYsowxkHtD5A1UVsJYGyCqNnB2VPyMly7q+4OhAw1oSMOyBOcU6rQrVjvhhaFCGa0KEoeUKfh9QxiHgq5nj1qEEBphmgQYUoLmHKD5iewxNClz37lxDI8NaGLuAP4GgVwUBLLhhBYToC0BPMPvDTVPDL9cGTfHfkkMh4EC1ERAnHPLRNrPD5AtA5OPU0N6hZHA35Y3kwKn7oCawLwuER-yXLkAkRKIrgobxvKwi1+v+Oem8V474AC0w4LQvkxYhUirUNI6DmmA8BEjQALwowPkzeJQRu29-YENznkCciQWtwmmn0BSiPDOwbIrEaSPhG8jQOvKQ3rE0FS3NeUHI2tv0O1jIiY+XBItIqOqEfAi0HI-UVsERGaiCRfAvUTMVGh5ojRVokaOCRhb0jqRRLBQUCi9pIRZhWOHetQTYqHCd8OInTjhA4RgJhOzvJ0JS0Y4rBdAhbEkYGzeFKpmEBI4JCoUyhexTRW4c0TGJXARiSQugO0SNDjE4CYSSYw6IIwZHo4iW+TFYd226LujakewmgtqOTEZREgKXQgD4wH5XABROpIwU4CBb1tBROI9TqcOGE2dHuNnRIdImhoKJ1OXXccVV29wgi2eF+YIDvlmJ38RulwRwHV16Ddj2UzCGzl7AHGtiQRD-GzkYBEa5MRQNnRJF7VAASEAAEudUcAABBcAOAHOoAAlCQpAAADyd1ZALlB3xyR8aHhI3kBRzHiJ0xxAbEXPXbE1lNx3Y0LFq2HGdjLgTbETtCCQnaxeWw4mQMFkwn0BPGeEpFKGKpbiI5aj458W+I-Hfi-xAE4iQjzQkYSwxUEjUbYDlrDjZhaE7cQD13HQSawfHVibQBEitDWckMHZLm0ImAhoJsEneq0IdAdDsqDiF4e8hxghFAxk4WYKeEgm8hVJvvXEaFmxG+CwJOnMiZGKwmySZRzQrAHeNpb15jS+nXKAAAYQJkMeIDxA8QZRWOTTC7KeEoBPwUc3k5kCQCclpRgpKgUKViCsI8BNkYaeySFK0BYhPGMeDya0Eb598D+CUyNkhACmt87mb-CwtQWym+TP4NNGnAlxX7XD-2teTQF6HSnIMnARIRLt5P3HLdgpOU-ydTyAmeEvJ6OFQdyDwQBS0+WJOVE4PtA8QZAU4TVuSSrQIDgOfUYIKlN6kr8aB4U-qZ1PKmckkwHAqDuVCoJ3NxpjgSadICnCQdMajRI6SdKnDCD92Ksa4LXEMZXSppLUkBil37CqC7EPQdNqoHRIZTV+8Y0aXememnSDg73eAfyJQZcCVSvnNvICPRxjBOeMyNGEzHaC4DgoYgkaCgO+GD8-hrpN9tiPRlTdjsTgNng0GO4gsqRYUO0ekBBlTg0RqJcmZr2hJIhFeSAvAfKJI5Ci3eP0SwBNJemF0U4aTOmckxQYzJ0gVM02Mzx16gwYSIszVjcMuAK17haWe4Blyv4YlrJ7w1KKgNyhMDMBR+A-sCICAqlYq+A0bp3BYGzTpuxhLUeBP74-DJ+jMjEXmL8HmBIghM7WmwKG5OAH+kQTnmsjwBjxg5IYFAV8L1noC8ZAI6QITJDBowzZpMqHuCIxHhISBts80Vv3zHJAGZBeafsaPKhQE7eUI-fvDNX4ezrJF7G6E8RVIfTH46IVYOXKNlv538QckOTUR0ROjGRLoj9pjMLgSClZ0I0uaSVjnhlDYd6EgOnO1Hc5Me4vQGYYwpESpO5FY13geCXlMju2sM6eXlX8xciZ8qw32fyNUAOZta5EAeTVBVk941ZffI+dvOxH7z0p3OBrvkxFEXzTQGXVQOLxvlayuKYAYOWPHvnUEj5So9MiLx3kgsJ5ERO2cb11G5C1kuo-zPnICAQKWw5o+trArdkpB62CCrOR8AdHds153cseWRjzzeTCkwk3MiBzyxl5dJMEmlt5PQ4UNaAwEdsQ8Hsly1fsbC4usFLE5sLKFdRPrOhk4WusU8MgSabUB7TMxyyMLBBoItak2SA01NQ0PZNemr8sxRk0AIWPX4JjoawEDHH1La5Hxu4DU0hk1NWBsLeE0NZBc2NTEJsKoVizMRKzcjsSYJWc9CMwp4y6KQxbCxBSkE0W-44pC0KxaWMpHOiV5VoasdqGLjissQ+wBKWJ08WnhvFMyWsVYA9ENiglJoFsTZLvFUTHAn4tiAABlzqgE24mQjclypTJQFeyTJOcVySYS8Ev4f2EuDYSOJ+TVCZuPpTVKWluZGFiRJaBdKKyfS-RYCEolPi8lhS4pYxJ+DMTy4XSgSXPQUkq1thLULiQ2J4k7i7MAknxckFTzeTRJew6SL4NWVDD-GhUyvHsrEnyLXs1NOZbUq1nyS9hik+QMpJaj2TR4IRQGLMH0UqK8qdyqAiZKsBmTbleI7WNiJxH3BYg-U5FooDUWgqZRI4q5gsseV9DOhDJLYBSNxh9RFlxtNQVsK5otRJJ5kkkICFhW2BjJMyQ4Z8q6WkraF4JDqt6SuE3D-gxwaJZvRhWOK4RCKtqR8JTANVcos47juyxYhRLkW4fGQebNm4wq7I7nCFXWVZUosOV8KpYfU15UkApYNHdlTEprAMqTlOImYGhNz6KjKF-YiNIqNSbfJRQD-Y8VcrvTfBcQrHQiXjLQlkLyJtAdlBDwNUZcaFSMh0tDUPG5R1lfEuzN6uZ7MJWGhOBIESvOCtDkawCY5WcPi5CTXVxAfZScrFUpBVALMLrhS0ImpqlBkucqNQRoW6BDh4aywFhBoVcqISbMv9kvVaw4hLA+ip1YhN4XaKPh0Er2G4tkA8ZzFkwD1ZuMNXOKfVLxP1VVy9iBqWw-EodaGp0U2By1oeYKTGuygTF41o4qrucvRx5rsg6azqlmsTX2St1LAAtaGGKneSS1IlMtZGoSlLDq1vcq7kQrcRCcEpTIGhS6oskULex3y71SfPFg7BxQsy0hd6phZCdX1IayYY+v-VRreQ36pVHasbWVraazqsDVOI+HNApJ5ChRLkpolfifx-48AOHCw3vicN9EkpUWsInnrR4aGqDfQAhJowWIFQDxuBu+hPrSFrayYHBvtAJTENLa1qRYtQ3SAAN6OTDWMvyVFL8NkwXJaJuKVpi7m9kijdRSo3VLaNHchjSl2zrUBmpZdIQEjB1VKC0WexA4lppbpGasOWrXTdkBhbqbmpE9EzYGGIDT0peepZlQoHlXfxXYJmqWA5sF5bVzNVzW1JmogqEtxGIqxxRYSs25lyld6JuhptWBN1y6nKpYZQoM0tg4t2ZVLdbWWFkJVhSU9YeEOwgaDO4DiELTErc2iI+6PkHBOVu03aqn8Sw7zckEOHRbrNJoMrVPXLqVa2t1W+rcAl83NCAtJFEli9GK2b0LCTWiLWmRXr4xNGSqq4UipOVPLUV+K1qE6UQrQQp0yQjus5vtDQrJt1OVzc222U2E3RqS+sSct9IoNkQHwIUsdpxCnazhhcrLCQjITdaxotWxlXXH61apqA1LYVVtvlUWFdtycSLfamnYbsY4g0BLbNoLi-FkVSkjGM1AxXNQrgOEFmEoCd6YQUs8EGYqDotalYMEATXSHCO2WF5t+HFO0fqXECuyMFr0f3h9EN4S8Vy5pDBtBEe0BAWIOO2dunnpZ9MUlt2hFedrYKlKkUxrXrRQk+0c7LW1eIbX9tFW6AJdScXqomKEiT07yXsAAJxyR90BvDQfzp6GEl9eF5HXQpNcCfJvg88cGT7PRZ0Nh1DxBbiqTsCTtnJcPfwLeQ0GKBQWoLF6GgG907qbSVcr9n1Fd1Xk+B3wXbsKCD0thjdbgc4V4ND3zxRIoAe3IqWkHmAI9CKmmtHqRg2gtxEenEaIqvISL2gJkB8Pash26ryRb2k5WLqzXeppAYiwvRnlYjDaVq+e8RdKkkWK7oaRIALUGybBewWIAARUcX2AfmLMFnMDrcSBtxQw6KyHiHpKZc21qUbvUXxhpqBLwy+n4EqybAQkIedRDfTbv8Ha7g9LEMSOJD9i4gfofjIkGvX+gYVb1-uxrtDRTBexC2W7ENvyw32mMZI9LZnhHpIqn7xI0+6siuXpIj6Att+sSL7pd1H79gSLRxTCrD0s9Iola5jqx3-WdwUwB+rYCxv6kvrCJQISDZWrE6YHmZqemAyRRfGES-17HH6NQHZHyBJALCDAmgCgNXQ71HwP-SfoAPiRkWR8FMVhwgOn7xGrBw-YbqvL86HECkl5f1ER3AI4DJWlnSbK-6Y6lAKYIncZEp32AS9lgESoiH1HN6YVcjG7WkrO3+jqpUgrYFPpn0+h591amqSIDbauaN9qBLEE0BzC4VF9WUZ-blFf3ZsBRjjEyKPqyjmFv9iBlUrPrcPLVQA2TFiPcFIJWlySnB0-avuHYaLh9n+2-cDB-VkGxDsB0Vj42hUkGZIpPB-cYBlkqkUD1AIqGgfY4IH3uOB+0HgfIUEH0Nya53EUeVKRQIjPeKIzEbiO+pndORu8v-oAMxdk11B4cIIbv3FG2ZMsmtVsCSPcG0jMSvgy2IYDcHIDJPNPbMKxWPLpDBKlbdjAmLyG2V+Y9Hc2kzDwQ1DMoktZoaDyjw9DMyAw9cd50mGzhZhxA2DBwCOHoVoLHMS0chDOgU8AAIVcCSh-1dLF6MCc0CHKcFp5FPOAFkA5BGACBJFI3pFyfiApdKcRp+OoDmpDliep3fZE92sR+jWgHVD8fgN-H+OigSqhVSBN8VQT5AcE1QMb0sRoT7aGsDgpFywhUdjAcRjxEoAAAvYEES0TQknYjjI8k7NEpMlbqTYY5+DIGBD7ARcTJlk5CdYgcmCTAANmcl6miTEpsk1aRAmym2V8pqlgCZVYi4HxFTO0PyZegvj1IdwSQOI1gAEmRc0APUMOnFDYmXoAAWXfCgAXxVkCwgAHYAAHOKZehGmKTb+pwL8f+N0mGgDJiCjacnBYhxGjp8RXQBdMvQ3TNYHk2oD5PiMlWIIDqMie52GmpTxprAKaf2Dmn7uOZkCCqZTxpm7TmZp0zmddMEmUA+pg09GerOxns2rmhs8gSqBYgECsXJiNadtMZmHTnZ3M6xHzMvMQTYJgKayfEZamozpJwc71TrPu7-jbHQEyLgABiVOcRtABWosQAAIu6ZTyenGg3p309tRfE5B-yL0cAONKtK6B4sxJgc-EaHPDsRziZ+k6efPMvRLz4jW8wWZTy8m3AJZ5gGWeyAVntzkpgCzKbjPAWaTTZ5UymZIpnmKAF5q89BZ-MABWfU3+Z3PoW5I+50c8-HHMomHAj0MC4RYgvEW7zjJtcxCbZNbnKLaFgYyacwsJmaTR5q0yngkI8RoU5QVwOIwKWNhxGl1GC4yZ7y3aLCqpq8uI0-PHAcTeJsU7oCuRBCDAVZ6i7WaEtUmQLyZkXBJaksyWXoclo9S9EUsrm+KcFuc6xAUA6diAe2TMJyb4sxmMLw54SwqZwtsqrLkl20LZdYj2WFLBJq5ORb1N+XdzNFsy3Kf+MqFMQjFqc3hckLhXpLP26K45Y4sQU1T65jU+yZhOoX-LglwK+ZZEv-rjzKeT8dCli7xB7TUVjeA4CKskVETihRi2ibUsp5YAQ4cRhIT5k6X8TNYcM0SaMv-mBLplmq6lZpNJnsrTVu8BoDassQClHV2js5YgquWNrpZ8s25ZYhMw408QcsolZMu0W0rSp0K41eavrXZL21gk7Fj7OXW5r117CwxcnPMX7ra11q09cICdWlLqZ2cxtazPOnuzlVpK98ZStmm0r31pi9OdXPMnSrPFiq7tZIoAB1YEA0EICTh3zrEX8S4Fn2VnZr0p6q0BaCsWnRLIbEXDjcYB42Cb4jYm8Aa6ssRwAkltE3QHRwrUrLGIcRg+OhSW8XouJia9Dautw36zFl7KwzaZvlBCbLEVm6TZBskVzUFkLywYU-jiNCQIIAU8Khuhk2qLH1qWweewu3WWzfFOW-jYVss2SbGZmsDwHisJWZrxtim7DYWvw26r0+sS3xXADH0ygz5liOdRY6cnMbLELGy1sAzh3wAunaMLJbATlk7c014yybc9vS2lroFhEwHeoBB2Q7GN7Viw0clApxGOndQvgHEYVNIpgkaU+9fdufXgrFt7K-7eYC522T+dsO6AFDPO267NZhuxafSsTmkbzdnO3ndDvs3rbzNl6MrYdu92dU81qm7VYVO03AQHp7EIGJ+24mWOlfcO46YDCqXw7T1F6DaZROinNLX5gkzwG1MS207i9xawqeWtr3tRVgHS9ve-OF3q7VAPvOI3NZWQAbN9+u6bboshXLbEFaAOveFSb2KqVLS+1NZdup3AH6ds28FcRtZWn74El+6Legc73tqLdwO+3fHsAOazC9jNFheXv1XfbEFF8fuRejXnRAWN1wO-ZFw9XkTqJjUyLl-FeXo7rEcACyMsAEnSLRDwC6Q+pv3dH7Keah0iigv0PGH7N9W0SGhhtpK7poe2kbf4uIO77Xtxu82eyuSPpA0jhh3iNis93Xb6jvu0A4RsZWfryNvino4MeyPVbEd3GzbcVsz3+TQjvcxY5pOvxxQVR8Ry5aLPwWXogpkUw53Zv7WELudo6+47nsBXNHGdhUz478dZ2AnsQYs8E+FNn3HHETl6B5dZheXSAPltR1VY9vxPkHFppJ8zRSd7XAnx1w68hYdvh2cnJZRC9E-EanWhwF10xyU5Id3AyHFTkMb46qeWWRF4oDW4o+1s5r7gqjxx-I81unXdWpOduPrdECG2PHE+67C6TAR0BJLTEffdrK8Mv7HFQbYdv4ZUaf6QjP+yYI6S9AKJnjRhvvHWP51mGAlSdOogAQaIgsvt6McCUCnoNtgImSIE6Pke23wHzj3-VQwFwvQfOawJOggLoZtUwF0JrDH-pxwjJba1pPtP2gHXdrHFKUWz+gLs4POq0QH3OPnLQC0gsBHJNYeXeDqpehSPKEeN60Zdmh4BrrJLpuxlZauUvqXcutdua050F5sgjkxl69YoumPujpsYGEAA')">function execute(exp) {
    return evaluate(exp, the_global_environment);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p14' class='permalink'></a><p>
      The
      
	<span style="color:green"><kbd>always-true</kbd> special form</span>
	<span style="color:blue">
	  <kbd>"always_true"</kbd> syntactic form
	</span>
      
      provides for a query that is always satisfied.  It ignores its contents
      (normally empty) and simply passes through all the frames in the input
      stream.
      
	<span style="color:green"><kbd>Always-true</kbd></span>
	<span style="color:blue">The <kbd>"always_true"</kbd>
	expression
	</span>
      
      is used by the
      
	<span style="color:green"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      selector (section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>)
      
      to provide bodies for rules that were defined without bodies (that is,
      rules whose bodies are always satisfied).
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (always-true ignore frame-stream) frame-stream)

(put 'always-true 'qeval always-true)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNA8QuFE3OIFCqGIfRcgUQh6GIOhKG4Gac14i8EjdUUQS0Cgsgmqaalmv1plKdaXMbFCxu26a9uk5pRTocgFDOxQdpmyh9pk-LCAYQxfAUFh8BOqijG+37G3wGQ0juh7Joul75roRarvdVINEIEFuVRcbHuh16ilKZG2F8fRhvzUb9CanLiAAD0IQI3GcDGod2mGWjh6w0PQ2cQNBhhTsMfRyFIMQGEp6niFpo16aevbYcW2woOu1IssoYIGAmlhqmyugJax6TSiJ9cScV5XVfV2KlYYPHqDRunzsZ1nmfh-15ZV+g2NRTotdtnWWjXZ2RGoN2tsxxnpex1ZEYYNg7pYYRyCFqmacMa2g+e0PYlKRLiAYMnNcjn6Y4YRcKHujbPqBv7eZtlO2Z0hpc+j2PfuEAnK6l+3U7DcPjHaZ7qB+c7E-RluXq9vXPraAtZt7xt+-9pOGartuEdFYhJsoXEPlG+7Zo9lOvc7OpHfD9gPC8HfLv9XWfeP5RT6HkOl9SQLPuYLQt7BIf29072fifjfX+es+c1F6H1FOaagYg6Bv0AZ-S+PwwEQKgXfRectw7ZwYBUZQkdKr0GgbhUAWAoKwP1loUmlxYoYP3PgX2G9ZroJMIHeercFqfydhQ-mGtoEjx9mw7BmskHMIRiZYIgCLLWVsg5FwX1ZrkAph5LyesOhaEKhFbOghCAowJsibg-MxBhCLO6YUb5UjU2oAoWeOZM7Z1IXQX8CpApqI0QXUgpjzGWLIXTLRggBZhBovhQiBj2zOyhuULO7icHIlsQ0c8NMMhlQUSTNBjdNEOFZoZGulMtAiCFnDOC9AoFpJromMJjBC4Qw2rzCJ1dCmhh0YYKp1SDRoIWrkyBACInPkKPY0UT9TqjBpGwYeE5Sg9Kor7TJYIYkDM-rEZo+9fHHiIgqIR05PFWRsnZRyjVinsl8CQORDj8aFViOcFR2yOYMC5jzQmVM6lt30TEexNxsQ6MBAAPm-sQsaOiQ7zRuU6U5g1zCjzeK7Zw7t+Es3uV01IlBSD8FUATeJJCQWz3oD8EWbE0aQ0lkzZh0yiGKIen7AO1Dx4AI-vfUMxkRrIpdqi26jZOgbVujQCx0CQ7hQGsmD5Y9u6Tz7pjAec8cUh3ueeKopAPjPwUCBU6jIClIrGhKqVf8V7kuTlLZhflXzdP4kkbmANlUgQ+DKg165HT3M6XqlwRrpWyqon5PxJ4Qz2MVUYIIWTVWII1TDLV5ITlcpYucrmDh4FfluvdPRxFHkaH0BG+K7yoShtphA2ocJuDxp8WcQNblDDckYPgfgdDMHsNRBXH1S1loCVFF3CeNABVQyFTgj+ilcbqJmoMPNQgLlFp4RrCpcEVUvzVdvD+qTqldoLb2+hpbmrupBc-Te6rGEvUmIpVhM7eGcNDIdUE+g+2xS+j9P60DpnNHSJkTlWBVGj2vrfH1oriLniSYyO9DAknQL8uePcLUgSTp7SBA9c6kmHhiOeZNidU2hEZMGsGEHwFfh-aBqtbo3VJN+Zk4Q2ScwtKgT++pDSa7wag7cgphGDR4qvTen2v9h3epXY+gK1rBK3EziM81+gyNuqfsLBOwqsYh3+TmoFPsw30ZFXcp9xVcxUUZG6sTz0zUFjjiLMWfCK0cvJGG0ux7-ocYU7Qo9wN2UyfNZpq1K0XCnSo9s0eQHm0Psk1plNjAjN-SU2Nezrmy4MJxXbMjFGaWec3RrDzKm+MOZXeO8jFGWbIfsXM7NDVs4tTkIoCAMB4BIFQH1NAxJhPJFSEdTa0CoXMZurwH6ZBSugAAD61cUjW2F1QxA1fq411Iv0-r9HU1FurDWXypAvb5rGhR2uDbFB+NUUoP6ctUcVn4vSP6REKExyzKgfU2cBYV+4YgJBYY5iI9kfRduVuhQXJcy2ABkV3ej9EGMt4SQJKAneYGILb3KboQ1K9G8rMLyB7dqBHPdSDwTxuUQV6kPmLlg3jT9tbAk5j6AjGOj7LFQEufE6N3763RRvf28DucoODNaSE6oknOnjPLZx4j+7yO6xDDpyjitkwyfbIp6dcLotE6Rb82V9bSOIzM6i-yAFn3UhefhxZ6t-3AcHZB458EJYhCAZC6ieE-WOu7YJ4d0HeZnEOmLVgjWGvxv+jxwDnXCuGOiTQV5iHqivOU5PdT5Y9jBcM497aMdovr3bKd5z3j3P+O230e7pnDPhd+d9377b4c675yD2pqXDy-va6B7rxXCfY5J553QB3Zyo751KcXMgzvdQp5Qy4J5gNdMw-BvdbgXuRu219-NovDd8BN0r+HkYQuGc+7R25XVlnF3-1HRWsPaf8cZ+txJ8EtGl2zQL3Hnj8dg+8+x275jzfT1D-MKKFFAdK9V-DjP+XRPFdH7BY2XPzhTcDfN7Lq3l+bdK7pSSr1z0V-cuv2ixsGKlsJMrusQ9i5ygQMgR2eIbOcef+DKpKfK78k+f4YBoIDAEBR2pIc22ycBcCAyZALK1AbKIBqe624BlQR2OgQmse4uvKdaU8QSU0TavWfOEQ-4-4COq0z+s+r+8+taPcDaTB9KP+LEtqX+E+fWKBO+Ee3uLO2BcexgC64hSBkh2+AuMhWQUeWMMeqiood6J+525+hOKh8+d6Ihbkb6H6JBpBtOfeA+chSWuhSM6iqMHC1hhhluPBJh0MFkFsVs9A5h5gTS6+ye7h0hdhshIu8h3KOiXOam5aqhoB4Rgw-ekR0e1BeAKWrU6WHUWW3UuWOgkOeOcKL2BMFMZ2aeXWHAQg+g5R+CO6oAFM66LQpApktRFkVRPWLQVMJgWgwgAQJgxARBtQjQEONBLEGcoS22+gJekgZAty6GTm0uboh27+wSWS2c4IBGBosx5S3Aixfq5wThjBhaGxxSpMFRuO3BF+YIMgFk50ISmxMB3KaCux8xFx-OAk5BkBdxoA0B0RohxS76XemilxXxaBGBvxWB2aqiTSOS8grS28MgYJKxEJFBvxVB++1erG6B1qHmGMs0KcnxqJc4C+eJp0WxG2hJe0AJw+j85JAMp0KJO2Rhh2p0Fk7GBYgRLgnJmcbw4y+gTJxJLgu+TJ1BN6jgXwicdAgszSCJUCzCwp94WQhx4xbktqcg32ipNOboSOqp54L2mcK8mguIcpeSz0jIw2Jwap1wOJmp90tewMtyPMzJk4cEjp5clE5qWaRx2y9pmcbmFe-pzwq2yxIpdOwZtJQRRcmcVywZK2sQnBLgEYkZjhtmFMmG2GuGACgZzpnQCx6wRpkKOpaIM0YgL2Hpuo4QT2wIZZFZa4SwDRCE3EdpMZlZeZVZ+xhZ2GZ6tZMpFZuZ4QAAPH2eWaoIKfmdMjELrK0cIuCAACpyQsZ0C+BeJiCVbPQtQ0guHUAjGiSgAADU9RE6zWMpQoBMg5h5okFkV5AWRQHwziZ5MgBMDZa6E4xks504C5S5MgxA9ka5G5s0W5WIKMu5wgzQ4It5DSD5LW557Z4QR5lJkFR5d5hQMFT5L5k54pZyckEk5e+JgZjGSItmcMEcck2I2pIYqik67ZXpUahk52w28FqFX8C0ZFRAnG5GM0mC+A0psp8J5p28eKLFzQgZKkQISOg5LF05d2Iwr50loAol+a9OD4PmYQ1otor5yG8YIYr4C04lx2Rpq8ppAliJL0lq0wyylZoidAv05QoA4O2lxyCyFlUS0m-pjIGpbZfqfY9iNF-p5eFSMZ0WhGAVcZwVTleE-qSZ9s7FFFLMWJTICG+FvShFpmRFRScebF6I8Vi0rlWyChyluZdFlaKwjFGQYEalU5JQsVOVnFhS3FUpLWWZ8pACwl6EolPmBlklVVqFpQpESODZXp1VSkNFmEVVGlWQWlfk8Yx5DQelcMBlhpQsxlLVgl5lxEKwVlaVaydlIgDlEM+yJORyR4BEzqfY4qMZnlg6IE-phMCVDFzG-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-MbfNHnf5fwZIlG2ffK-0-rvAM3vkVjEr3hipP7pn3g-YP62zZvfBMKPQP3AL-KlKpYXl-IPY-SR62CHrGGiostP+RnRKg+X6AKA9OJALJBUFNpdg2Q8Aw2kDkMCkh4eQbTIEYGgIwdkBvgVAcSCeCicuudOQwNAX24GA+WsKKATAN6Z4Cuw1Au6GRDIE2duGRQegVhjQFt4q+hJPJv0EoYcDsB3ADgZ9HQEk9MBYEHAZ+xEFoCiB3nKWmRxYEUCumvdaoBtGqICCCIKAwYDIMIGsDQwKg95JAKYGYRoCOhbZMYOgEyBI4lAGvJ4mZYACBI1gqgJkmfiBA7omrGgXYJSbUhuBceZwZQFcGWDPBd0XTkxUsFhthsonNQWQA0GZxBBhkSSowJ4h7NDBjUGwUEOSEhDoBmEZIazkSo9MskQoahKCAASJ9WIVAczsFTFTSZJ+QIP3rPzbLlCF+jgrgjk0-BShV+DRQoYMHKExwgEB-KlJOECEEEGATtLiH7zd6n87Y-Qqob9USocRmUYwqgFxA4jCDKhDfV0h5Ta4yA6wtQSCjB3BC7C9g+wtHu0HdhrCKh5lGDh5RiDRDUgI-DiOEBg49CSaYMSkKUO3iXDZhmw+4RdndJPDQAN2cOM2X6FhtFhow8YeOQjBPCKBBoCMGCLhEwQXBkIlYeOW65UB9B5GJHIiIUo6RgyEHI4XsNo4QCWsZzHKMELqKp8lw49NIcNgU6-4+gN8c2IwFF7s8cEbI1ENwGq4bCouKfckOeChG4l+kZUCEfqihHkc5OCTDYZyOcDcA8ROkPkcFT8gxpOIntSZBlFUjHCOAtHGDlEPkF8VyRrmLIUKI1EMjVWj7Z3pTBmKYiMBbgzPhiNXSJV0obgqATiDZDdAxBAo6TL+nECSB3RmYXwNCRZbvgKg02TtOEFKDDYJWhgRKlaIpgMAiQoMG0RtW9EWNugjIR0fFjTwj9ugkYivhK26BXozmoAecgAAlVGDAAAILgBwAqjAAErzlIAAAeV0bIAgQVpSHL+TVGS8NIZaFMcyjmEx8lSvAS0R+ApgDiCCYbF0fGL65S850YomxKJxdGdBGU84o0B6xXGZBexaYOdK6XLGViaxdYxsS2LbGbiBws48ruuPeCTikgrpF0cEPjGJiswyYxcXbHBCyj6A7kSwZX38HO8dx7Im8YuKHGGtjWyQrODYJrwFJ+hlWN5HeTUAmAvALIgCejBgnmRhhg4zYft27FqAUJC4lEUkBAkx4Sx7HDxg4A2iMgAADNaVUQ1B7I6BDINz1M6xRqAgwM7IxOdjkTtAQIUiZxN4FXk8QKo5jLxNyBcTSAHrSYnRIt4Uss+o4OIBxJbYsTfQevJcOCF+7NleJikqqKxKA6R98hLTblIEHjTSSHQqQaoNkEYmVpokCk5idpNNAOU-yDEjgDANcJKSUo5IVRNQMzj2ROgp8WXmVRzH8w4ehkdODiSkmR9y+mk2yTlFYlTk32ZPVHn2FKDNkvJDAHyWwFPhv9NwLFVKelNPgRgruhkYyFTEdQxVcpvkiyc2ESoVBYBoQC5FZ0ICURLeRE+5J5MCDeSKpoE1sDfweFBSLUD-IoHpXOFTUEWck-qQFnsSwoCwTXeiC5QGkrBn0U-dXoLEaFakiJM0g0OdmX4sBTGn7XYYRAVHhh2paUiqZMPP5-VgB-4P-vNNaE7ZEezw9CKUHKkZSyOFqdNs9PykM5HQAWZoPtOMAbSAaZU46XlM84FD4+RQsGEwUTh-BZJhvNcC1KkwT9T+S0l3v7yzhNDRphvFoTEFfA-1QxHQwYBf3yoJY6A55ZYWqJP7LT8S3veUWwJiDwzNhTTf1Nf0CQj81wv4QjHgEhDcyQwz6ZGfUNP5ozA+nQdaS6mYx4yOwU2L0JTJd6mN1+ZMiUYnwVENAzpHGGmcrKKCDDtwxUzDLDOD4MzsZV-M6v8FfA1SO0CsTWAzOaERUVsXMnmQFPWxEiThJI5mcbOJng9wZvQzGfrJFmMzIekOBwArLREzEFwd4fkSy22FajiRM3Gqk7J1ExyZkLQYaSHOgakgbhMZP4Y8OgIzsaqrw4oVDOoAwzCAocoiZnKCmEB0BLwz2W8ILi8VoZjwCudAzZDxlq6YAbmZCD+HNli5cbW7Lf3ghpzP2gc58uTK4gwjyBeImEaSCRFFAh5uICUd13Hl0zpg3XKeRrMaQRVROcc-YXGMfiMS+Y143TqyRjbXiOSjEgnvQEwSji6YpE23sQxvmx95Jzkj9DfLtFMVUi+wSyVx1m7Uc2APk3wDCjhT48IOu+CMPfPNFuRMm5sJyWNFIncipRF2EYYRNABKjQ+iMqkJgh6zQLGQRkiGCZL+BmTNYN8r9NJlnnCjYk8qCcKQolE8jEFdAaecWAvnrhe2GC7tDfPoUNAUFMfISetlIUajhW2o04Z+31FRtFUsnMgATF4lWFqijANhQFkNGSAKRWQ3haLFiTETJApYisQwHrGWQAAMqo3bEOUKqNEv0pIFwmkTeYwEzYSOLHEVAJxb4mDjOPHFA5zFt4pcfIK3GNgXFD8jxdAt5j7jNF2ivReAHPEgRLxvi1xa6UsG0CFmBSB8VkKfFJjICb49hUUAXyMTvxyQ+EPtziXuC-Waktjukp-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-lMBAFNDCvbttg6cj9AdMgADpYB617aLJGbBkDBA-Wj24OqfTlDQRQ9okd-bxSAUnB4j4yxI1L2SNsC0jGR2qUwCoQ5Hn2No90rwFXB2wegzZTo6AAABem4GIGkbmaZGsM2R3Iw4Z6CDGijOkEo+CDKPGBCoUEa9DwfeD8HpwiRsY80aziTGl6f7OWsYY6JIVlASFWjpMFg5Og8AVRjzVsaaMTG2j+xh2qSSOOiQWAJxs45x3mO+QgAA')">function always_true(ignore, frame_stream) {
    return frame_stream;
}
put("always_true", "evaluate_query", always_true);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p15' class='permalink'></a><p>
      The selectors that define the
      
	<span style="color:green">syntax</span>
	<span style="color:blue">structure</span>
      
      of <kbd>not</kbd>
      and
      
	<span style="color:green"><kbd>lisp-value</kbd></span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	</span>
      
      are given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.3' class='permalink'></a><h1>
    4.4.4.3&nbsp;&nbsp;&nbsp;Finding Assertions by Pattern Matching</h1></div>
    
    
    <div class='permalink'>
<a name='p16' class='permalink'></a><p>
      
      
      
	<span style="color:green"><kbd>Find-assertions</kbd>,
	</span>
	<span style="color:blue">
	  The function <kbd>find_assertions</kbd>,
	</span>
      
      called by
      
	<span style="color:green"><kbd>simple-query</kbd>
	</span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), takes as input a pattern
      and a frame. It returns a stream of frames, each extending the given one
      by a data-base match of the given pattern.  It uses
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) to get a stream of all the
      assertions in the data base that should be checked for a match against the
      pattern and the frame.  The reason for
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      here is that we can often apply simple tests that will eliminate many of
      the entries in the data base from the pool of candidates for a successful
      match. The system would still work if we eliminated
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      and simply checked a stream of all assertions in the data base, but
      the computation would be less efficient because we would need to make
      many more calls to the matcher.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (find-assertions pattern frame)
  (stream-flatmap (lambda (datum)
                    (check-an-assertion datum pattern frame))
                  (fetch-assertions pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNMdiHJgR0IOZSPIz1xhhFsmlFGgeL46QunqbpQDEWgmDExpiP9fcBBA4saPPCQOE0S9qjkMiWLY8S2zFawpNHWQNP7IEd1Aaz+IEI8UhCK87NklJelcXzjGQwYXiUhhwLo5R8OUCY53wViVMCNS6BM4TlKo7Sz3C0AGIA0QgNYxD2M4mRuMEXibOMoS31EwiGiU0h3ShGRGOYlK6gc5IrkiUQwN0nCfXCSJItAaLRFimE2vahpsqY3LTLM5J5MU5SavqRKNK009aOrfTDMawS5u8xoOK4qzSuk2z10barzgASHqOqGpqZK30SO7Jo6gaZE63qDOGmLWIm97GivfaUphRC3qMRbRCU+LAQezzLoEKL-oKpp-IWtYMdAQLkQEKwwlIOMZDYYV6gkp8MnSKiIP-dDMIgtyjA8OmMO4JmlUp6maZVELSEZ96PF50ZSA549RijSI2GUCCAFVCArQhKAAdxoJ1RldZEAFotaylKEMO0BsYp-HaEJuM4RwRL1ZdQs8pA59phY-wukS0N-Som3NepZ3abQtmDawRLfQ9x1nW9vLIOF0LA4LILHY4D0VXxwhgxkaKGHIVq-tGuKaop76M6zl6c7Gy3cZoJPBBVYMOCLlKZCrlPgzJ4wKdXJua8Q3oK9ATvU7r-7G+Trv4opq9+5b8v+hQyeOBVDhI3Yd965Lpe2DzkULKLTb05YTPs-X1jp8RIKmAADypWRV+9UumGUI-W6MAvPoTye94PkuRrGh+XQ37v7wzzPpffgQgOIcGImBfg4Eb73xUBSX+y8n6xmoL+SeIE54LyPh-Yut9H6GwpiVYc5VJ72VlApEBggcHZwEAgnGf9WLbkuBSRM1IsREyiMPauA9v7vlIQsOh+COThjABXWg9DowQBgPAJAqA0DyDQJoQBp9kQ7G6omOcMh6xsG4NQaByDCGdnwGwD0owtHRl0fxYYuhQAAB9bHbh2GCGu5idF6OsUYexjjrAejQu8QgrjLH6LsQ4po4o9iBPcaQGxnjQlHVOsQlykSrHRJPo+dRGtcq8OScEvQrgt6bBoNooJwxLZx1UdYKowZQxCG6vQHJwxLwxHdC3Me28OwcG+sUqJugABkvSly3G6SkkE1MsrNKqWU3u4pl4NOiW0wpHSqk1I4HU8CwzoEy0IMvQO8Je60AkCYyguVKC4BsLMjZHj87tNXFeS50SAHlMsNYbS5BgyEA3sMOZBj2k7GWT4NZcyZavPeZ8-mADe4go+dA3whzfEOHuT8xZtyjIosaoi8GaSUJQrBYPXOHAL7cGYCWQY3yFntjRQ4O5Fiel3ieR0kQxBxC21JYi8llkWkrMBfcmWalAz1UZcy72CEQneM5QCnqPLQAQVgcUJl+9hW6C8WEypLBqkSvqVKiCFc5VCsLLs+lgqFV2wOUchFNKRkqXbrcK8lLvmYo5L3I1LLqB4tigS8+RKmAkuoGSwi1q9QyCvNStxIy6XTOsOIExtCPVep9QEtl-rfmqvVbUyVFrNnSqjR6GNhLiW0EGAa3u2aY1hAYYmWFZraB+qSBTJkcg4XHI4Kc85G9lB2oxRCoByIS0sETpQAQEga1txuTaoyIaSkPMeRGjgEkaQUiYGC4dz9k3irTZqjNjTpVzvoAusFRbu00DnXm71BbfWJtraOwNE7aVTMPR078+NCyaIva2RZfy1VcvTaGzNEFH3kGfblE98aRXKviWu1Z37J28uoE+wYgFd0jH3V2lRRTYMAfg7lL1+MmIjGXesRZazZ28SBaAJwWKgr-sAxA1B05YpfNfSuwjYFiO4FIzoCjyIqOYa4KIVhropj4YpkR5gbGpV5jvahjpSkZzQKzrlbpBbCx+pujdAp7YP2psgxun9W6IIyfoxQQCimMPUAPVJkcDB6DzqQ9AoTV7ZA3rDZxmgSlH02cXXZxjBGKVjsak5-R4b707C9GWCs+GfMcv+eu9Zm7SAy1C8QCs5nHyJYrP2wdEWA2OaMhiyTj4dgFG6rh1lcWn6GIg9yuLwLeDFcVS5nGh7Y35tK7p+ZSbkV+fNW1u8kKGC12A2en89nOvXvHblsrQWpM7AzjIQlSKNMpq-fUwlMs3AGvpYTVhjIKTE0JgI+L9CkHsrJAwqmNNcDVGkBBUAioPDaquwIAW7kFIzk0ft+B8y7tHY3sYRUyprCzcJrob7F8r7zzOZA+gdmPu0MO4-f7HTvrA9AP0pHn04dkMclt0YbDducKvMDwGQMjBXkx8TknOOLA7Y4TcQNROxYk+MKucnjOmc-fyojh7UJrv5ZQgW1O4xSCurBBac+C2tjfXPsoY0oB5TTvvXGDM6XAxcBLCLUl2kNfUGULJhgekPt670o-eKiV2FxmI6RPjIEqd49p0bzpdCtehUGMoNn7OHdCLfe2c3URLd2A9mM7n4wnvfflIjgXwYhci9pCTfH-u+MK6k-gJS89Srny+hSCXzz+QuNXMDpPj53bmnYLpXCC4CJrESuIqi7sy8RWrBx9THLnICV0HKPYnNaB86CsnC+HBsKnMz+1qvqD-QLhAvnrPBDV2zYXO36V63OYLjKUL0AAAVAAEgAUQ4AAQXAOAbfAAldfkAADyAA5ZAVF5RdHpbgDYFvneFmrbbxB-8TtOVT33jPtusfMwhgbBp4iDnw+Av6DBv4sK44AGczF5zi5QQGoINbwH2Bq58yQEfjN40Bb674H5H6n4X7X4oHAG-7gHq4u6oLD6sLZ5AH1Si6l6-4D7bRD7-7AoUGFhawMFsAbYRiHriKRiSJQBwCIDIDoAKLyDKKPhMDfwLqkb8ATDlaroZIujdaTqwGAEqGATZKIrjgA6trvi6GNAsz+yYSVrwpurvimoWEtrbIbzfLKAKEaGcyFa1bkAlbnplbjgeBFZDoyExRyE6qDatbqGOGECKEU6AhEYtq8LVr7wDaeotZUGIphGKHOBvT6FezC4MA0YmIqjezfLeEKSyF4ZZENi5FVwRzC5cBuEeEJplapHOH6HcbUAvpeHGHFHGboaAbyHhFNEdK9rNanohE9JFEJwVxNTsA5p9plrLwVrWHHLVopHu4pCDG+KZYpEKR9F6HSZ0ZyZdFuJKYjEjJFH+G5QGb7EKY0pHGeE9aNE7E7CLrcCkB6SIaeYMbtEDhORnQ2QPE+KMThZGFfFnGJwAm9GKF-HEaFIeZLpAn1AeAgk7pVC2YfFtb3GND6E4peafHwmdGIEkqgrYlolbEQkZEdI6rOoFGIqQy3ZvQIklHvgUkZizSUA0Y-hVDDC6oOEkn9E7CUnKZwnkIgn8nHGZpOE7ESwNikZywKxKyqx0ASDDAsDnygA6x4mzgjAbaQq1ZDq4jKDxHNiETHTFTWBErkBsAYafATG4jXTJAUy+GdKZwWkUBWmHosh4gBj9YEiHTQywzGk7DdJDiLxuk2nIJGBrTeoB4gRnEamMlNbrG6lECGjs4pBg6gIErhERDUBLorEOQ6qzEbyJjVo2mREpmBAGmlllkBRNYKFZnQpfKhloze4cpzrZLEoB7OGOStn-RslUjgTtmJ5uQhCt4CA+kKQwzLTnCSmRB6nSryyKwqxkj3ovF8Cqm6y+GBzGC9B7L3rRFnKxFzaeq0CNFwx1rYjxEZDZAxlyHxGNGOFHmF4oQgktHbJqFRInnXLvqVIMB+hRB+EMnmLVzUbYbuFyGbFOGdn0kBF4YvldE-h7GomhE8lMLqlgXdE8Zzj8YumGENE8k97IggkXHDDya5G6I3H1HElOGm5j44wRDWb0BsD1S8IgRMzXl4aWb0XInvGxZ3FOGGz+nWDdm5w4h0X0GYhMWoxhkjqLIcViWMWWGGy+mTnkztJsVWHrhFBvGwkNF8VYzCLFosYtpEBQpzB2Heq0H1pmWXnSpQTGUEkuTwTKBmXen6X3q0BMTUiUB+i6rGqYHeaRY55EVGZXGHGmYUXqHbg+G8CgJyAeXNreUilUGyUwlEnqHJnvTuWq5eUCrMm+VUFuawYpWIW0qdn6GJXhWjFNAsw9TlXmHHL2ooV36uVSYglpbgnIKJQJkYIAkZZDqIqGyJTNQwwgSZWeUJW5UurDYJlNkoLsnfEmVNggR7kcB2UFrvJzBDUuXNk0BqWNwDqLhplFC1lRj1ngSbWVlVmAirVvIuTHm3aXVM4QX4U7UjRQmkhFU8XQY8lf4JxCWxQyAcy7XHqJHDG3FIVPXNXSGvVYnFUpIfmj5zXMVUS7Uw0SX4rBFg09KNGGxQp1VZJDyo143cm8LY3YF3zPV4k+WTXtXxS40LH43CW1X03cm5nGC7W1W8JDHxoOGs1NAQ3bXfGJIyTCJ8GoYCFRgxjCEyJiHyI5hSEoR-I-mkB-kyDi5f4hZ+KsABJq2RWgDnwoXTmq0Jaa2BgUJ8BkDSC1gZhMDkBTACBBBan3rjFukFkbCjB3UJnw0C2Ap-o0pBkVwQQXUfTlru3KCe14WOrBbWCBlFDWm0GabLbgS4AwZuL+2HopYoT5kKqFnu04i0EiYkbJ1kYoaPg6oJl51f4F1sZF1N49z3pBGZknVLq4D50saiY4jKASaQ0oS-XbyWGAV9mt31IQR-VMCB2zWD0NY7Cj17y5zx1LYaowL-Qyyj0Z1BSj29l2a8K0F2rb2PlnwkD-iR4ZkTB1lLpUWfnthXi6V10WaiWLwMJzZ9Ff6rg31Bw0XK3TBPEvEn1n3QIgRNX0rjGP3013WxG0HfSgMoy5wuW32l0MJ43FkMKEj5IC2rhCJwOZ0IMHkm55J-YC1XgYPy3ALg7HXZl2ZQM5we3Fhf3P2X1bDjCpzK0NpVqjJUSMPBjMMjSHhVWhCvwsAvjYKUPcMJB9w0Mn2lV-j8CcOcKgO6AAA8UjTDnCIjbkCJDAkskE6+aET4gYEgnpwYxi0C4ipEbh0gIQN2AA1PdUzs4qnBxEOnI6ANY+PVYzYyTnY8GA47PZuEOQpBo1KRBNo5QDjEwMrAY0Y8MCY5hNwN1OY9Ks4+40DJ49404y4zLIk7mSk7gEOiI-vT2qYdwHjf3fTV7dWS1eEasmhMyBfYqPsh5Sw-CmA3OIaUeBVl2HI+7giZU3TMyLzfwEypQMfWQ6dU-Wke7iEPTedoMoGp0+zruLcKo+zpMw0yDI2jDKI1eHk4bH5IqMaQodM5-QSjoj-SM2ClJckIbaU3OYQL4kOHLjsjNX5OObDCtCkIlEfCBMldgrpYCBTKNTiAg6A4C0gkHUCEfJYUg0gk81uXpQLQoVU06GM-kzvGtdSPTSU+s9A2U0YL3Ai708i3DOU4+AC8Iy0xc4EO0xEnM+1N0xMIi3049YfUMzXL-U3XZhBWLJM+s9M6uDS5NB4A9KuNw9A52S9gC2s6w7tA4Ns4qPJHs0VAc9zOMl-Sc3pGc7kkeFc1izc3c0GFZWqajZuT5C88pU0B82dlRN84-b8+ZIsgCxC8C4-GC4CBCzg8gzC1DHC9Je2Pi9U8i2UqLZmOLUIdIqIXIgotgPSjsGac6bbdMNaUmVaqutFtpknayNKrG5aWPSXShFm9hfPDouMGCgUTacm6Njlo1KGWUsHE6dm8GWLUtT1A8D7cuOPczrEECOlcYD7daO26TtUF25ET7Z1P23wxEEOy2z1LTGBGO2spO6sdO+EvYOPcu6II0N20YD7abLE5IOPTu2oBu8O9O9Of29OYCJu6BMPewn7p6LQIHTe1wB6OIvUJez7ZY2O8YEbaABICCNkCqdY-o6AG+9O1rJ+6kNLj+3+3raqT+0YCB8PY5SkN+7+9ZSqVBHB8B8e8PcAOB2mJB6h88CqWAEBwh+BBBAAKR4cofQcqkUeYdkeQTcyfs0dofTO-vYfkcACE1MLHBHtHoAPHVEHHU7w98j1H-HbHijRgIni7Yn6Q4HrHRHoA8jVEUHnHkEmQEnyghH-7oA2QMnjHEEmQCnyggQSnenJnhnGnEEXHeHMHrgzwRgXHxg4uDwiEtb5p9bOqoDGQio9ay4PodbBbYiHnNF+b8bDbmYzaHoAAVhmKQDXv59iLiNZSO8F-G+PXao2WCxF66WLYhO-XNXl9MHylE02-Uj7SOePSOZew9T7ZAIQHxABhIO24181y8XV5dT7Y+7AJAP2715AF11WT1xSH7tvmO4+9vsN2WT7ZfiwJfnh-N5fmK0zmF8Vxl58GV-Qes0l-UPWsQNZauMQKIyV2ybulE+t7+Gd9t5C35-t9iId88B2uNKEJt6V2Pvyi5fSg6Wd4mx6fEWsrQQ6QvDxGMBIKy7Fx8MWMQJnM8QDZNGd+abE9xaW0mS68YID2BJ0IEN3UFHVGYRq18rQYdUIET+BBzAUDFX901pQ6zTd595yXIxjwGNFVQjT6hjF-F2QHdfT+9+dxyWjbFASCz0c9-eq43eQ9YqvhsCqxwFHpQB6IBOTyNW2EU+Ty7DgEG6-hIpLWG7IpgBgMQ1xtQIwCwGQBwLJvQG6FiAwOFrAvPbsCYmYrvfvLgvlLAQs2Nv5kZA76JC4xwG49k0Oq75-CJFuPUCEKH+771ortGFiL4EwLMSMPqJnKnK0wLeb8QMYnYHIXIPqcQCd9ZeItYzIFn9MxBDdvdjdhYxk9Y1nzN00JX-iIwDXLA-SkQGWkpPSDXPqV6X37XJ3-vEpISGpgLZ44kxBJBIk9ogn0pMn3MPWvEStYQF33Agaf79KtoBBA1kP1Zk7KMHSPEY712Mf99hBPKM9skPoYCsf6jr0uOCabsJKFeMf0qrYjM5Ww4G-4J0Hutp72mFXB39lWEEdbLrW-Bm8LeVvO2Lb3Cxn8mgIQJ-kVlArKY7+-SNyDMnsJBEQa3NN-pBWlTT9rGe-VPImDpBACvSZffrODEyZAgbsQfdZs2jORmV3S0XDGgEh-7WM3IdAxJsQIP4MAyBXWSgcGDiJUDqBljLgdvxQq8DIIaycereW+Jr9Kgh-CPi9hjafR4B5CaQRBFHbKBAU5AluNKyEGvdeBSg-gbAX0KeMjB5-AAORuMLyLjWwRHlb72McmRg3fqv2H7TAjcMgI3CfwiQbxnekQVcL4JZ5NAfagYJ7DLAbCuMlY-MdgnzFcY-lxgCEFQckEHAeD9+dOWQCEL1iNQchJg0geYIUGeCshPg2KPrk2ZGR8hGQ1PL4IppQ9oo7lOHkL2mBEoywp6Q8twEd7IC6inQgAeENqLCoH4NZHAUNj6Es960DQmHs0MsKOl2hJYAftWnmypDAg+hZgfNm+w+11s+IBgbYVmTLDEchKCmg7jaHEAOh82eKAJRqKxMUBpKZYUSw+a08eWVERUBiz2FYCRhcaMYcsJ2azVruUYM4eriEAGkHY2IE4QCNPSLC+hMLCmD52eFB5R232b6PnghFAiuAXpURnalOGnpwCGIlYcEEayc8pmIA2QUiNRFKRgRXpRHHCLNQV8phTQ8gM8UsJX9AgHgb6DSPhQTDsQ9I2HoyJaFzDARd1A0tCKKHsinhZqILvMIpHojhBM1JStsCKiYD3w9wt5sJmnbbCFSZqRgQYWhGKVTWRLCmEcL0o7kpMK5ZUZ6kd7fQNhuJV+haMOEBNIgq2G5guXlJsCsoEgPgGvRN6vAomfQ9WqaU+jWjyE19O0ZH38aaMnRMpF0TtVGGUZTexjR2lJiQI+xWSpiLgAIBECyALh9DGgGaL9EgCX8O-SOkmIzHoFtc1IcutmLJrHd4xvon4Xj1UTsl+UWcPDE6KPjKAiAerIQBnA4DxhBA4wBgMgl7j1huAfhC0USyMBXDZsKoo8J1RHipwME842uFghtaeoP8x8NpquhHJcJm4q3NId8S7GDwcifYgQAOM6Hri9xqwlBKOJ3GstskpCT1kbH1FXCrRFoilgLS6ROgQ+twZYcoBHFDoQxXQ+aIEHlFvM7SqlT1L8K9a7MBa-4voTL3Uh2APuRARMCBAAAM9+XuPxGVizokJ1wurHbHICyADEeE+sChNGAgQkhyE1UIk3kAz5FkVEmjORIYANYE42Eo8e72oQlxGJPQiOERIgafRQB49b6DxMGGETkYuQmVm7zBhTZHwzAMyhxJSjWAVQ3YJCR1RoqiSbhdReeJpFvxhNcJ4wfCbcNdRETNergXuLkGmDKw5w4WKsSpS-JHi-RR4DwGxP0mwJzxJgPCbxPElit9Cr4roc5PHaRBLJHAayaIHCy2igJoQ4wCFLCnhZAJ4MI8JOEgnesmMV9ZgFZJsmqSRIFNEQIUCbDNoAkTo2BBePigWSMpoUrKZvEKgnRHJ+UCcYEH2ZvYpJYfOBPVLAkNBx4P5JgFBJAn6iOpq0Gih6EXHcJlx1IH5heN6n2TFsK-IWrIA9CXjcSl2CcrzQ8gVS4pt4nhEPAWmPjdmN0UCZuIclWiQcArLKOtKymv1RI9iM6UwEynhSg0RkTnJNBCDLSlIvU7GMbHaSxSqpFoimqTwhydIhmBaN8FxNvgjRSpNUOcaNJGnNw08D9WZCVI5wzVjSLnIhGVCSQPiGpFMIgA4xpzEw5494pcaI15qBBwZSMjoEk3lFTj94s9aqCmQdBQRGZioKGc3BhmssVxCMucJNMVAUxUZCSdGXMFIQcx0huM33KDPvgkzAgBM7aUTOimutkGHMZKVfHFnYtyZWMZ8UVDymgJrAvqMmYjMfgoMGZTM6aVsGDy851ZS0LGRBOVmIyyZXuWFiaMfA4ycmeMzhNwFwjcBfouDMmp8xAGXYecoeXEmbMDkvY6M72D2ToG+xHxEcM2Gme7JOlClKEYCM5GRWBnjAvoEci8THMBxxyVgoOJOQDNTnkAQZnsn0LhBNygAjZUEbOY7muDxz7+6OOuZHNxLOy9IYswnE4DlmuBCcOgLucYFbmuzSh8cvuQ5Hzy9zJZDQA2Vzn9kh4ixjshWoJSQll8OCgwR3qm1v4rydc26JCV6LQyH0U8pKKiTvUEFHzc269PCeXSPn+jn+VKcbI1FPn9Dp2c4ayRIG-KxQEIiOO1J5DUmyTsUOpLgAZPfBUTdc5Qg3NAQsAgLRgxuZBtRTmpMotagCyifwGXiKS3wykgJEfIGo0UB5A5UOG5AHliyTh4CvEJLO-BMoD556fxIAsb5AhPcyDeie2BwWRlrcfsx7CyKODh4wxalS3qAuynTBy68C1XEfNCGR5o86LWPEwqtwPIEJG+HfBwGPyywAAMtvhvxy49gmE+uk-j9xUSoCvICBUjK-wp5pgv+agjAW+zF4yCQgHRaYosBFDUCuUaxWfORD2LAF1aWgrgXkVKKVFJBeqJYtcU2LCAtBbgtcJipMxi83BYqOnmYJ6RWCxCmhYCBHpISuCtIBCBj3CWx4hJK9JJdwRSEU0HS1i9-AYpzEog8gi8DEPWiZhUTrKjOB0n2iol8L+oeij0s6yZiP4OE-iwpQbIpoFoi2Xg3hUQqaXriS8pML-MEp5AVL6gvs7IEeGCVU8igmoBHu1D4jAjN5w2AZawgvGhDZc+SpCdWnWW44LxdXR1gaD+kMkeFUCsoVAqGXcF1Jc1KcKl1rwbAg0Ho98DkIgjcKjcxrNKS3h+JJJ7lSZXWj0pR7nL9cly-XNcoNAoV-l9RH0YlzBUccOcwylFh0l-wNwUcxSpxM4LThT4HkISDpLNhxW-z8e2RaYMmLhkmLkxyCK4aipBmUqKWiUCfFRCYKD42MlK3qYlGz4aMYUZK7gvdxJzpKBQC4eIeWOSWogvlgQEOLpGFWUFCAoqvIIHSPDfRkxMuaDpyvkn1QeVtoPUZbJqjbl6U9ABsNMEYkLwTFV8yGeF2IUgQyFo0MYZgrWDUr08aKuJfSpoqMqXgoBaJYwICWPiOV5gdVYAuGV8qgYAqi0EKu3njA5V7AcVa4ElVhrElEanJbl0+jAK0wqqv1TCkYk3K5R-U40cbyLCljGJ5RZMcvIwLUBHe9SylUkyOB6grFS8ylYjhrVliZVJa8sU4vzUrLS17A1ZcggNXMAm1hE6kBSu7VYK5qxyDteWJryyK8Ch+E-GfivzgBDYHi-ArOqIKqKlVqylVdZTHX9rICM1CmBBHQhzyfuBapeWarWC9qjVeEk1enj4UzVrYogWteMEnUeKFFyihdWsBfVeK11yapCZuueDbqdFe69pAeuSwU1HiarNkrFzdKEoM+PrDlF2Bg1traKVmeqN+Cg2IhOhsG75TQEint9e4xKVDdQHQ089MNtBQCXhqjrHNniekU2MRuUyIbr5CGh8g1mSq0aZ4pGl+j+OY3Fi5J3qAVFYDo1LCHyX+cjUhv4jBgF0QgbwQxuKW4akNPImYfcg414MjA1YrjdwHb70o0NlAFSWhpnh3VjlqIR3uL0g1uk9NiIHhuQkM15BEc2mlSQRtM0WbAKgm+Ja4A+W8Lkq5msgM5v033AaS7OazdKEeSSqIIEQ1xu5qgXj07NgSjRVJlo06aAkbGizRCqM3XyTNSWzMD8AE2+aw8ewGOaqHeCfAFlrFM5d4NY3ZaMNGWxLqI0C2kxXoyQWXPFvs18bhAFWkjVVpF5YB-NSyoFlqo5AhbohMsCLfrn3YCaEthXLCUwAk14YKyiKm5aMtpBlKKQEy8Fpa0yBdaGga7ObKVt4XibJNIKodBvxHkeMa4Yi4ZSC3-hbhutjkURRsBjwCgEcqmTmPKHq2BBatACELbEPC07bItTlKbQugm33oL4GYP0OaK6Ff5dqToo5gryV5AZJep1ZFQpr5H91Zt72sSP80W3jLsQ24KZduGB3Z88MvMQXi2PfC5kkdTIpTUdo5wjz04D8P9v0wdG06q1VZKMXKRoCEw-oSYNUlYy61PbXAEEcnS0JSH4DbtwucRQ9oVkIC1F9gIOu9stghbBdzIobT9pG3KBFd29e-GbmVKtazYh7KiAAE4ugTqAmGoHO1YbCRj4A9pIGGXzxEwZQJyhSyuEdNcVHUqmUVBoDKs0J744wFbqHTWDrBMsNAEHujVbkc1gIX3aUPoDAT6gvum3QBjMTBKQY0SJyrB3IxytUpKgE3dbuCXx7Igd1LEOfB127tf2eS0QC-LfnvgbqhqlLUKC-y1b5dfoSCM-MkAV7vt0FPpb9oDBl6W9lQbqYDqkzYiSwB2yJSHCiijBfESmVDuaruUgRwRUozPJkJVAhxJ+HQXJfaqKhTAGAE+lrr-xpgFpGG4KBqRHogg6xdYg+8REbheDL61yYHHHoqAj0mDvBU4WEE+J1XYxjSZK6ommJrVzBn9FLRtYWpyLFrG1ZK8un-t6nGlN92+l4rvulT77oEIqAaT7qz1DoT9p+9cqsoDAZjpAN+0-QbFf0Tl9AH0sPSkGP3oG1Sl+3BeInIM6wQ9RgWPREpmWLaVteZNbSsUf28KSZRO5sXISnDriZcEwOndZTSKhDhtQ6Pg3QFO13bxdFoeXA6l2bzygoyVQMLQGVhmIl9foW5b+CnCz7QFAojoWvxH1+gV9a+1wBa2XiTqxDPg-EFIbF3na5DDC+DREiPiWb9xF-EJr7hrifYWAjMG6MORqEd7QV3B4irwfbS3AXDojJnS3WENEruQycHdVQU6UwLilYy8pdjochw5jEl5RnEriSxcBqQxazI9LD4aDKkZGPNpc-lWW6KNlSM4LeSOH3WCX8MgB6qAAAA6WACtWzyEDVFcADYOkC9p-Y6dqB7UAPdKigNDMc2XQc-Q0aaMtH2jnR-KZUFZK9H+Bmea4PgCiiiNFw30DY6AAABer3No4cDmXdHljfRpnYuAOOiQgYoxmVOPomOBw3oeAe+iobUORBGjXRpY4vHOMEddBT81xh6FcbEBXGT2GENYMQgOhpj3gj44sZ6M-GdOfx4ej4YSxAmQTKQ24wbCAA')">function find_assertions(pattern, frame) {
    return stream_flatmap(
              datum =>
                 check_an_assertion(datum, pattern, frame),
              fetch_assertions(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p17' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Check-an-assertion</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>check_an_assertion</kbd>
	</span>
      
      takes as arguments a pattern, a data object (assertion), and a frame and
      returns either a one-element stream containing the extended frame or
      
	<span style="color:green"><kbd>the-empty-stream</kbd>
	</span>
	<span style="color:blue"><kbd>null</kbd>
	</span>
      
      if the match fails.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (check-an-assertion assertion query-pat query-frame)
  (let ((match-result
         (pattern-match query-pat assertion query-frame)))
    (if (eq? match-result 'failed)
        the-empty-stream
        (singleton-stream match-result))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06Lne8wUbR4QGCFBhKVBYg6DBGHgeEKhafxwtiPPT7GU+tnGDhqngbpvyRvfCo1SlT6-QDFpUe5wY+ax1jBbxv6+UU5oOK0JIGBuTjVFu7brpx22Tu4AXKCFo36ekEHEaNPHFAgGB4CQVA0DxNBiQZ5N3VSEFzc6fRcgUQh6G5yhwf25JUnSBQWDIePFCTmoefCUAAB8S8U0UPl6zq88T5Oi5iMuK9SFg5I4IRa4LlPwibl9M4yLIE67hvYl7-0lc-KUh-r1PXvOtFqFjxtps7mfnkKALiZUfOZ9et7I9FZgxAkVnZzBafC9d9k+nuHbCb2gTRVJi-u9AAAyN-en6QYX4b4SgUoDfI+e955RzSEbVel806P1SEfE+DAz6QJThZOgRtCoRVAYYXw2d8CNnwDIcB-0kEN2IiNQ6EZf6pw9qA0U5pqBiDoP9HmxDU730VrA8gx9agINBCwiydCGFMK0vTUBAjGEpwYFgnBg8d5QLYVvchdYhjf30BQ2R3dJgiO9i4MRQj7YFgYCjQggQ3DOBYdAg6KiIxqLrlA-kGDtFgIqMoNgE1sp0HMfI9OYC4HcMQZQiyJYhAgWca4yq9B4Sl3Ln3W+8D-HqJ5hZXWLVQluNRJEseBpD6cLibwgJol54MFSeEug6D94sWKe4yR2DW4yNsa-P8ZCrFKMUbaShmitGMyCiYMJVTpqGORsY4gpj6CeMaQo5ptobHDyodQxxopXHZwFgMoZIyPHtMJuw2Jfi8kJKvmJP6LBllGJMYYZwZTQGLKOeQBgi5hbm2qdIwwYzlgjRuNiKRtSGD4MIbjVpdSZmaLno4q5yzW7CF8C82ITSRjWKUe0+xEcWKikCpI5gWghFQqJt47JXDT67PqYk0SqKPhUGIEIi5jjUUnOGWc0ZGzxneP+eYuZXSwFvDYqiOODLN44o4Xinhc58ngg5YvZwPwaVrIydE8e-LclCr2YE+gnLxWNlJRilOlK2Wiq5Y2IZbFuRaCxQ-N0Z8GCBBkHw0AeJOmRx1aqjmRo2gFmYTy6FW8zUWqtaSYF2rlVivoD8To5tUE0BzADN12KBKesqFanQrKD6pGMO0FOfVGzTzOaiMZ-5-y8pgds-FCrCX7OTS6mgPwM0BtKbaliVRSAfDRWSzFkaTUuGZQi31kdjAcsbRq11eyhowsGHCtpA7EXlLcqKdgHgvDGtbT4nJOyi0zIstO5QXgtWRzXV4Vq+AIVzqHao+FY6QHzNSBoQgIJDVmJbVs3xhbz6KtEheq97jN21u0Ss05N6B2bImbC49xbEWiNICtSVdL3jGsPSOgFa9x00NSD1fQRiLEZwLYKsERiLLFDKRO8wZsyCMCtlxDizsDZ0y8QJOGKkgTghkHWWo4JQAhlKHRhjwhtLTGMu0OOpH9asJY4bf6sQQzNFFEhji4RBPM21mzAhnMPgp30Hxl2bswaibAaTST79P5PyXC7dWJRJyUBDZbKgXEIySbQjpIoEYDPWZs7EAjFtiM20OlZwyjnpiHXs55rzRQ6aGdiM0NjexGOnrZWczqHBKA5Srv0BQ+hkaodGtOZG3AniAgAHygHSJkD2eB56GF9koKAcBEDIHQKHPESKkYoTJVa7mOZB1bwWYvFysGoHSVKDHDr+iI0DukmJzOED2nddkvJQgjyvkr0+bg75BDUFEPadwJrQXVhgJfdQa99LBv+lKC+yFxB6tGsKeBn9QHVt0Gaw57cZqfnTWeRNMDgzv1GnMVd5rtgoLDe+RVKgwRHXZ2qO48x43jv5ga1lWLpAgeLSqbFhgW2dvrIHZ99bwX2X+t1WD-bLQ1yOqWjj-Ja2htgNBTc87u2gPjeaj9bRM5DnLLuUbB5c3dQfb832Cnu790rZaNdjHYYwGltTRWnemaLuAvBwT0XPM01A6TpL6ngL0dk9FOSzQuJ1XkqU2NvHnY6j+l+9u3HBpSgQ8bKbkngv1epBJei3X-aad48t+a4mvanePuLWr43m3TGCL13t83+Og0B-Ec7ldAvmtYB+2AwplSs3tNwsxqCFuTsAwTz0pg+BCekp5kUnpH3o9C9AL9xPUu14y5+BXlXM9fcGmMqQUyVqrI2Tso5akvgebkGRh5LyluOhaFw6Iwgl7IXIm4M9sIhNXxP16goMV4b6ddP0MiX8CoRqHduQvpfLV55r4cFP0DYQaL4UIu6YUb5UjT3KCv5Mh+6Ab4aOeExGQyqD4a4U8FE+HDWFu-5oUDJiIIYtdnBPQJilzo5oUizv9ObM8uvgAYAQ0NPkgcgUiJ+k1uARHmCOvs+IUFsqiivG-mwKnJ5qUEQVRITmjGCCQWQROM0IbmfseERAqCZMEI-hZNZLZA5C4KApQL4CQP3oIGPmwL4IVLEOcA4myvdgQo9shoMoYOjvfPOu8voM9tlqHuuA1s9ujqtooQmixG7vaoGp1sgiXpRm6IfKQPwKoEdhnnnETg6vqttg1vzmtqXrpFoUPgNk4aYXns6kHpdiXibN4W4djg6sGoRq5OGsXmthFpHG7nLuWumhLlWo1oLvfOeHWg2h8AoCBNNIyH5p-qdnBLkY7s2mjvEeSHPvbh7ivDkSBHkQUYNLtAQVvI0Wivkf1n5OfieCGCNCUQDN2sqp7pUZdtUfGLNHhgvA2j8g4GIlKEtsMilmocsZoVCAseHrUHCNwMsaftMZgtyIwPgPwIXi4mks4M8i2vOpXIEfLuLnXMrqji7njhetrEYMcd8mcbXpBp0TruMYCv-lAYUIYF8acSEj0pce9iMSAQCUEUCZ4eXlCSUmbiHogr8dNrgiyqEXlmwAkUYQTtbk+mtlkcVKAD-hLFyDuj-uYn5OeHuMVkCGCUIN8ZCRcSUs8j-oeDEOeFsWcgwrUEycCKCAtmKKgtsYMIyTyfOkMZtHuj0MAazFgfIDgTOA2EoSCegYUPyfQuqEocxtqV5h4QSXVj8A7k2gifXhYaQlvHTpQQ7FznKdSq9rSpXlAujoYWaY2LolaZfMoaLOSYUUCHKb6QXv0lTi8ariXn5GIlicvDdGGU0TUtifztNOjgrFvNNKaUzATr8Rkc1vfHGezv1voJiezsXlqQ0HKZiRGa6WspzkadMCaXmm6EwdMYVtosVnIH7GVoHJViHJYLVuYNYbYZCslpYWhq3Lgv0B4hOYpKUMjKEewWlqum3LOZrCQKYLUAECYMQNQOGsII0CPo4nTgfrAZIGQAaT-gGa2bMWCCKjvHfvPOCGgTBG4nAVedwDeTGbNAhorqcSAQfjIClrivKrgUqnXM+dou+m5DAR+ZefWmviljGpajINwDap2h+l0rzhPihaKV6uhaAD6n+Y4mdmAaqZiiBZOSKQ2oRdwPGjmS4PafUTdG8DQfhXOOCA6QWK+dvDzN3FhZOnUenKWdNKBXKkurzFRBZDxcQLBeYHJdQUpuJTRcyuJV6UzI4F8FFmBhRRAUpqSbad4hGNUQjGyp0TLEZXeV-CMGZUVO8AIIAi1JrgIaATmNgUIoyHiScDMYJOTD9MLEYCmbqNjAWDPsZQJKTOzgaY9jWnBcLPGQgcLOvCJu0UyiovLKRRZYlfIRRhEBvOlQJBGFldIYkVrCASqQZcwjFdjNeesC5ZkZFaatzGIIAsFU8uEP-MCK1e1WuEsKGKUKTGeUFbVQNLqP-hSQ1e5UiT1Z1O1TFeEAADxzVtU2z9WeExAW7N4cHggAAqck-ldAvgggoGvAQixWNIoh1AtQIWoAAA1IaV5lXMtEKJCotQ9aJBZJ9VWTEC9Z1G9eNBNZtWXi0DtdOPtYdTIMQPZKdWIOdSnJdViJejdUeaJD9f5v9WIIDR9Y9XxUxo9b9dSJQNXNjTIJChtZpWiHJBJPGaWezreRgWyk1ggnJNiNZSsEcR3GNRtSoXxHymkAPB1bUgNTZhbtdqzUQPoETTENzC4vgLpe5Z5YZYLiDUZF3tIjRrZYMItUTbMCohtUTc0CyR4phCFWENaLaJTX5FMa2Ffk1lrc5YYonG5VVTgW0c2eDcLbglwXQK3OULlmgjKfGCwXzS-uSdRkCJZUFZMaGCNCbWvolTFYne7G+dBHDP1sle7MHZIeSAxIMRLeiOzYLkxUyHqXTbNiFdjIzYmI4izUXchk1SGFzR4jzZ0BFYZFsnid7RNVAeLTmJLdiL9XLTpVdG7Zih4VAcbSFVrYdLrWLf2CBIdP1djGrRtgnWbZ1ZbVkNbSGNqCGK+A7d1U7a5biOPQ0oZCuT3b7f7SIIHcJp5GXYHjzBIUeARP0X2NkcLIyNHRArHf6PHccSnf9ElcA3yGnduBnXlSlTnXhHnTZfXWzY3c1nvJ2V0t2fIKVgHBVsHKHNgH5fPtQIvmGvvgzuvn+gLfehhpwaJMYkQ3vgpSTLviQ2zInBwEIqDuQ4ygJMyngXvOeHQ8QweaQ+g4yIgs6IguCHMHxbEHMBOMCdMJIxyDIzEByPI0gZIwhCo6luoxI7wmJKCNo2fLo4o-o6KHiXxeYwPP6Aow0JI8FJeuQOIc7OxK4idQaLY0UJIyuSoyuX2J44UJI1bKoEjiwIYK+cE6E8VisAE7EJI-ddo7EEltwL4F1Tln3o9e47EzEJI+5IkzEMk6AKk5oX3l5Fkxo-o7sdMIU8UwCOk6AJCEUzENk7RQ+cAPkwYOlkU2k6AH3mAOU3o1xQAKQdM1M9N95DNNOgAtOSP-yJNjMlNa2pMVNcUACEwk8zXTtT9T6zQIyzgzD5S1ozWz4zoAK1MQ+zpjXFS1AI+TCzdTvTZzQI3TKzD5WWxzKTpzOWFzMz+jWWtz3ARQ9z9T-zPzrzEIqzHTjzhQDzMQqzsQyWzoToAjzDwj9+sUMVgIIYahcw3Agje+6LVxyL5J+LLDhS+ALAAAViYJQEydixoI-poZo6i+Gnxbw3-puIZKS2i0Vk6A5VSNy8vkEjzMKYgpI4bnxYbi00aZI5AHQGqIvM4zEHKwqwIdK9qUE1QCE7AJACo5Ezq+q+gZq4AgwAAKLaOROmuGvIGSMABy5AtrHT9rtra9OkxLjlPALLLUwryZTyWLKwahygmhh0ygk1gr3rxUwSBxKL9DLDPrmd-r0wgbwbkyg8m4nrsbaLPrBxfl2+4bhLoyk+cNZ8KW2+304opAYhV0lL5AeYYJvUmg0t6E+bRDl6XunDf+EDRQz2JbRwRQhxjiwEWIStlFSmKWSpI71VYIXO7x6M+bhSY1Mt+b8bi1XbsQs7gw87n6FL1LpgBpS7XreezA4ZVEFtXOJ9LtZ9+l7te8MW18LUYgXwLAEq17XlzJ-EU259zCfLaDyYGDvZ2DQcmAGAw5Lg7FFApgDAKaHwVUNwpAs6ySElgt2cuc6lE0mMjoGO+tAGUySiiHcoeNDABNxNpNgNaHQM2EGOzQ5HGHwGjiCcNwkixALOWgOtJNy0HdRVkMygyg51GQDWRgU+PHPTxWj16hPHWt4ITGrGTGIW31j15Awna7BoUn3AWNBx5lkcDgdyxgRg7HnUx+YgBpz24pOnIsuaXHLgWNn14IEIn1DHNyxgLHUoahJn2nE0xghnEwNn1g4IQl5g7n9aLU5siWz2SH3dYXgm4IFjGmbWc4YXOm0k1+gtmQR6toYXPcJc2taXWQGXoAuzokOGWHBgh0CX3V4IOGC5-FJNinIE0HsUcHs6kXoYzQyXyOoOCXH8nm5jECZ29ZEG6hoGmiVXtnxHgXxgTAZAiWpXJ+g3O0BHT1oYTGxHJZPyyxj+yYX6bpoyeXhNE4y3n143wXU3yiOHuXs3GXBHnm8InGjeZQdAZneUhjhn3AR3k3pAPEVHmmS4zX0wgYD3HnAM4IWj3AiCM3O029c36bb3IXX3lc+nXUv3Mk4IAA5MRxoXjWjxpljYDWF-5yqAD0F1BwWKQJCimqT+F0Lf9Ch9OIdOT5cxq-o0IBxhZMEPjXZFpPwm4GmPjTYRwPCJMIJkd6d4MPT5NRGGL694TxN7DxpsL3TyT8s-eFkJL-d2Z8T2QKk6XTW3W8oA2y0TjDvh4LSgoYQEh+11mihoJpIxb+crTJgf12Yihsp-5diDr+sHr9QJoP1kb8oLSl56b8NysL9ut1bxrJIzhmpyFWKaH4MoL8H5uaXfT77ybyhvfLUUjtdSjoHx7dkZ+uzkUUBNH2t71w76sgNyhjnSi8b9z6zNPoyGocn8YjX8Z7N5XzbfOguzPeV1o4JqTO5vIH77X0jifpNcys30P8YHX6P-H1xl7DhQX+V2fLd0UENYP7StwtPhpl35reV+7-W17wb7xX30uDv7Ui72ofv5797-0hP-73Dc8pX196TGfz7Z6y35v6P70aHRn7H2bx7SNAj58VVui2P+nHxlJ9FWCLoLeEYl6IDs2UAhEgIHxop6YxoYfP7tl3QHq0r6WGUSNwQ7wuBIy7IQQvJXirmB2KiNZAc1TQykwsBq-ZXoHw0w4DBkvtHgp3iIEUCRWJ5NlOaDTBVREcOcJHMIAqCDA0+1A4gUgLT7ldeBdUfHoIGEFI5uemkKqLSTEE2UQ29AGgo-3AGl11Ix7ctEalwFwwpet9VmD1AYDqARAHAUgLtFAS5BCAR2OPmHUvzthro04Svs4MNAetxYQISWN9CsosChMM0PsFskNyOx7oVZf7qYLcEWDme1g03mpmNiOZmg9gyFJLBXhqxYGjEH-lflQHuDwBng91N4mfhEBIUh0SvtwFSE5cc+WQyAYUKjRuhYBe9eBpZ23gODA+pdeLH9Ez4kAQCFQNxl2DZD9CnG3CQwKSBQH9xUuhgG1IJmGG+BRhxIJ4Bpn74qJph1rQoJlgeZdCFAPQ2THMK7Ak0EsZENYS7ybKsQCIIw1mGMLo5spqg5sduMvn2E60hhFw+YVcPGHiCrGUwmYRrCeGSJFhz-JcHPRtQu9NhOWO4WQAeEpJXhUoP4WMKeCnCDQYIkjkcMwg2p4Mg7Q4d0JkCuJKAahItpxyKFUZcRaMNFIED+h6dyROw-EUfmpA3DI4OIqgKSO2GUiEslPKYViJ4iCY8SsXASpW36CPCYRgwQyHPU5HrDkRjIkzNzDJEJZWR3QzCGKIxFspeAE3dqCjGUxUAkOWNEXhqKoSl10oMoikd0DZDdAPh5Ic8MKXSg4gTRfgEiq0Ingqwda4QUoHiVBqGBdBH4ZGAwCJD4JdRu0c8N0EZDuZNRmZAWkhm6DOjCusnUAN0FvaSBQAe1AABKmsGAAAQXADgBTWAAJT2qQAAA8ra2QBAgfKoHEGJIDUCKCNIqIZ5M5joCJCUsKolqGqORi6iQ0xXA0c2M35KDqxrYwjF9wNGdAfS3Yq4nIIHGZBKxfA97CliTEpj0xmYnMfmMLGjiBwnYuvsOPey1iUsBolkc2O9FZhfRm4rnlWOcDuRth3Ahke1AnHKCNxTIwjPWJorbCfouItQn5hdjnVssIJNQCYB3SskZBWaN8eZGMwhp6xynaGtbCvE9jax9Yj2Hez54RsHA5sRkAAAZfKoCGoPZHNQZAWotvHKNQEGAPQsJjqBCdoCBBwSiJfIz6niFDECQyJuQYiaQDkF050JbgjDrLD1hkScJjAPCSllJgVc+KpMDiVnyqR4TIe+HKmheGWIsSHQqQaoNkCwn+jySgklGijjZimhcsMNTCRwB6GvpYoeElKOSH4KBAWo9kToLOjUErAtkSGNPoZFKBMSNJySBIXEEImcTVJm1X7LQLj42TUsqiIyQwBMlsBZ05Q8AYiNUa+T-Js6UyuALcmJ8WhRIt0IcOMmmS5JzYUuhUF6GhBvkHiXAcknvHERDJxARKQFOQwe0YgGfKyc-hfD20eMO9dDv1EdD1Cigj0GwsQA770RQ6xET+uSRYASxjonUKWIFT-r1jWpBoUIR+EdGbRXWGA+jIRBlqg0EpfkpKekJugsB8CBoc4P+DqEdT+a+aWgVJnQilB5p4UnUfVLLjsgwpSU0yrP23DNBppxgYaQxHzpbxDpSUlDKXQnbswlcZyDaDlPGq5TzRXU3qWIB6l3Qvo0sIKj9KyqCgr88LB0V6HCHzdnBI0BwG9TMzWx4ZpZNWNwFmlFA1wQ0xbtkPfr-AypE0IGr+EAJ4BIQlMkMGLEBnAy7Y-g8GZ0CGkDEt4MMjsGNLhlqwuc-3FGa5jYlcBsZRQJaQ7ExmCykQKVLnMZAqo6xapwMXGUEIgE5CDAaU7WKkFGTyyIZMDSIKAAplUyLJW8ULBwA4zf9CZiMmAdLP5nV0FZcAsqixGRnk1UZJGBcHeHyo2VI6qkejGFg4xRdPZRslfhtmdS8ZnZxXOGLF0QwkzCANqfGUZnekEJPp1ADaJHLxYuyJZCfcTBHPGHSZpZcmW5ArS+mPBCAd4JOQrJiC6zIQYc25EuEjnhAP433MaIXOK72zcQfMyzCCJlqWZSQIUnUnQF5nmY3MKiauV3OgjuZO5YszmjAw0yGzws8AxNJpIBh-jnASHKhoggXn0BZKWExhvxRcQqizEcElLMyj3lkCXAZE2knvImEpcsgMGZKZh2t5M82AJk3wLAmanwgNMzKCMIfPEnb4bkcE6+dwCb63ikgf8xXgNIJiBkPWLiWcnPMZCBBJJySGSR4j3n0lySTc93DSFIKF8+wKCvmf-KlGALBZbwbeQNwgWsk95Q8ooMn0hlxSCeKMugpJ19mMZuRA8JgRng16k9r5uFeOO3EYCkKoCulGLHFk5H6AUFdBcdHexnEMAsxlkAADKmsixuWAeKhLIrliQmcEmsQArrElzxBjYqWBUBbGbjBMHYz0dwlUW9ikg-YgcIOLnnPIj54gCxeOJMXTjkxEi6RbIuXEgRVxVi0xU-gfGcjdh6MPzNuMEW7ifRlqQ8YLO4pYTTxnI+EMp0CVUiIQkfYlJErPFKjI42+ExVBM0U2VHxkol8duDgmaEQSX8ueb-KAl3iFZoE5RZ4syWBZOhrbLSfT30A4LgJQQw0TxB8VUinxVAPJdMEjo5ZDIj4jdoXgGHCj0IaoNccePezNLyldMU4ciPSVYTnk0ywBQrOlYZ1th4koYqwrJ6K9EhbShSR61aDIhGQVoxAQDFV7ggtl9PV+g0LQxhCjlf+KrmcjYYtRGl9PPZRstCIPLUcAlEVk0sV6TV1lYo3QfAt0UOg-R587UcGKoRRIwESGaFakpYgfBgg2E9cVxPRW6L1CaK3aBn2bHgrV5T+EqfxSpCBigQwS-cZagJVZDzwvHZvBIgJVtLE2NmOJbKO6BHjJxdAKJVSJuVFBSoOIdldeM5Vniu2pMAlRlh6a0qYFIEBlRssVmmziIUhPysisCBzz+pzY6+QcoFbqLGQBC9cAN0QU1FchoKlGOCs3FEqAxfgRkOStxAHj1F1K8kpKokRkTthTKnSCyqNHbAklHALlQlh5WFA+VbKr1cQB9V-RXyXLJcHBPFWaFHVBeZ1YqJNkX4FVM8liAMFZhkTAcBKrFZMu8WfD7cWErNRyr2kYDU1JSqlRphLWZqqVcgitWioLWCrdoyq1FdmrVWei61qIGUlFDYATKOVwpcRXOOzG5iCx4APyH2ozEDrFxci0VWiqjUPNcE3awVQcVaHggMQfnbKmkoUE-yz5xERtaqu+jqqDVXgqkHOqsWMhxFkimRcOvJBnqXFk6iNVhJnU5Zj1qimUiNGXUboQVztLXITkpYM4jEhI25WAm7p-qbFnRN4D+pRCm9-186IKYQA05+UTEIEMDfNG0GwaUskU1DXII1yXsikKQcDQ-mA3nygNBhOQZ0WCh4bMMBhNSiomA1yCENOGwwORpQ1QbHoSiGjWupYg1AxAZKVmI0oI3iCYNcG0BFf314AVL4kG1KjEHUHUbiNyatyGBvwCySkNKIA0kCqpFIdT636hnEpr3Yhyk6nIjTPJtkl0btNtLRwoxvWHVkWFjS0DfQHI1mbkNwJFPP5lU1siPYfK8EMz3xpXLFefFQzU-kUVsoyNCmjxGRuQ0fKxR58jTaFtXzRadNjCzILyPuECjoRIypthOG82a818ZREJLhvmhllctymwFXprU2QQGgyIoLUZuGQ5aGNyG-LTVsK2lboCxW1za9Hc1s8LIGW0nnxQq3+bSxnGnQifnC1qaOlRw3JQyz8x9LY8WSSYVkE62Qp+trHbZXNzPZnC+wfCyQAIviWBZvsIedbbFkYAsi6YseQCM0DxKNbxZRsfZa1v4AQgOeXmqzT5r2LEAuNWgPlqAhRgmB+AAMcyVQrCKGDAhTtR9hSxfYeVR2RcbXrWw94iaV4qBVpRsqLDx1fFY2oeqGEm2hgPtvHI1HoOCR9QjURNYTYf1E1KZp8RWo2GQu6i0w0ms0q+jmCxmra28bAkmFQAGikBhCBNY7U5vBAE6b+VEAXp4VKB7bNtsoo7S13kWZAIGLmv6PTHc3c6j+8lDrQ9s158VZd-WPlueBuBeiHGbjRkAAE4TgoCLXU4zaVGBbBjiQ3drl8XtZpwHwPYkSt-5C0PgFUtqabNfAuBuqSEolYUHN36AUeKPCyGgAD1+rJC7UwyN7tFGrSVg5utpWzHNhyidhCoyai4C8iYVmhttWIFHsfFW7BO-lTXa4ycafz75TjJ+QWDfAMIUVQ2tkTRUl0KBrtD5ToA-OL3y7RIc2vivXqL1MBmpb2xxHfzcBLbqgpUVcGQFbiZpimYCqkK0EZBN91+bgDUUFzfAPd+ANnI4ALz8ivhw0pAYfYq3y6qQzkHAF+kSu93ghPIXkHvcVnp7ugF9AgfvHkwRDRz09eeyFG9zeXHACZiahiK+AZUCDsJwgqUK0Cd3dsN1hEjNbWprXNraSf+rIWvqH0K0t9BXcELvs1Se779IUNxhCGP2P0CV8gkQdfuP2+RX9J4B6SHsj0P60D6BryOfroLFYyDnkIPTEAz2CKBlvinpZA2-p1NfqT+xXmlsALY6HiRqVoIkIyy06QYPTL7KcLm1NK1Oy0fhQdsEV4kOkNs0sZ0SECGB7IucfvfwE1UCAJ9QIKfS31n26d1DAgPGsvtWlf0jYwpcQ-wepBSGNtMh+JXIZfWtYZtYDUWsjzsj+VrYy0fjOQCkj-hGC0vV5ZwZ4MGDzl3AQ6HDAtoGAhD1FB5l9lLpfj10SORgJWunWgAcFQCzXiApFj-SPWrmVBe-kZC1jHZNsdI0yA5V07VtBoChSlWolug8jtC8rvQu9kaweRCfQXXYdlH1Hhk7+NzdPtSCNKUef4-QE2QAA6WAH+UMsRwyBggiWM7UU0+ZyhoIfu0SOvuH2kCTgp+pbYMe7HDGjSYxiY2PlkxTGZjGosaLwFXCTUegpMc46AAABe6bUAGMe7aHGQCxxj7hTvmN3HNEjmZY+CFWMK11jU25jEofeCqHpwgxl46zDeOJYtmoPJnvjRYD41lA+NDjJMBR5Og8AmxgY5MdzzTH3jsJ1phCB8OrokTKJgXr8d8hAA')">function check_an_assertion(assertion, query_pat, query_frame) {
    const match_result = pattern_match(query_pat, assertion, 
                                       query_frame);
    return match_result === "failed"
        ? null
        : singleton_stream(match_result);
}
</pre></div></div></td></tr></table>
      The basic pattern matcher returns either the
      
	<span style="color:green">symbol <kbd>failed</kbd></span>
	<span style="color:blue">string <kbd>"failed"</kbd>
	</span>
      
      or an extension of the given frame.  The basic idea of the matcher is to
      check the pattern against the data, element by element, accumulating
      bindings for the pattern variables.  If the pattern and the data
      object are the same, the match succeeds and we return the frame of
      bindings accumulated so far.  Otherwise, if the pattern is a variable
      we extend the current frame by binding the variable to the data, so
      long as this is consistent with the bindings already in the frame.  If
      the pattern and the data are both pairs, we (recursively) match the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern against the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the data to produce a frame; in this frame we then match the
      
	<span style="color:green"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the pattern against the
      
	<span style="color:green"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the data.  If none of these cases are applicable, the match fails and
      we return the
      
	<span style="color:green">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (pattern-match pat dat frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? pat dat) frame)
        ((var? pat) (extend-if-consistent pat dat frame))
        ((and (pair? pat) (pair? dat))
         (pattern-match (cdr pat)
                        (cdr dat)
                        (pattern-match (car pat)
                                       (car dat)
                                       frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06Lne8wUbR4QGCFBhKVBYg6DBGHgeEKhafxwtiPPT7GU+tnGDhqngbpvyRvfCo1SlT6-QDFpUe5wY+ax1jBbxv6+UU5oOK0JIGBuTjVFu7brpx22Tu4AXKCFo36ekEHEaNPHFAgGB4CQVA0DxNBiQZ5N3VSEFzc6fRcgUQh6G5yhwf25JUnSBQWDIePFCTmoefCUAAB8S8U0UPl6zq88T5Oi5iMuK9SFg5I4IRa4LlPwibl9M4yLIE67hvYl7-0lc-KUh-r1PXvOtFqFjxtps7mfnkKALiZUfOZ9et7I9FZgxAkVnZzBafC9d9k+nuHbCb2gTRVJi-u9AAAyN-en6QYX4b4SgUoDfI+e955RzSEbVel806P1SEfE+DAz6QJThZOgRtCoRVAYYXw2d8CNnwDIcB-0kEN2IiNQ6EZf6pw9qA0U5pqBiDoP9HmxDU730VrA8gx9agINBCwiydCGFMK0vTUBAjGEpwYFgnBg8d5QLYVvchdYhjf30BQ2R3dJgiO9i4MRQj7YFgYCjQggQ3DOBYdAg6KiIxqLrlA-kGDtFgIqMoNgE1sp0HMfI9OYC4HcMQZQiyJYhAgWca4yq9B4Sl3Ln3W+8D-HqJ5hZXWLVQluNRJEseBpD6cLibwgJol54MFSeEug6D94sWKe4yR2DW4yNsa-P8ZCrFKMUbaShmitGMyCiYMJVTpqGORsY4gpj6CeMaQo5ptobHDyodQxxopXHZwFgMoZIyPHtMJuw2Jfi8kJKvmJP6LBllGJMYYZwZTQGLKOeQBgi5hbm2qdIwwYzlgjRuNiKRtSGD4MIbjVpdSZmaLno4q5yzW7CF8C82ITSRjWKUe0+xEcWKikCpI5gWghFQqJt47JXDT67PqYk0SqKPhUGIEIi5jjUUnOGWc0ZGzxneP+eYuZXSwFvDYqiOODLN44o4Xinhc58ngg5YvZwPwaVrIydE8e-LclCr2YE+gnLxWNlJRilOlK2Wiq5Y2IZbFuRaCxQ-N0Z8GCBBkHw0AeJOmRx1aqjmRo2gFmYTy6FW8zUWqtaSYF2rlVivoD8To5tUE0BzADN12KBKesqFanQrKD6pGMO0FOfVGzTzOaiMZ-5-y8pgds-FCrCX7OTS6mgPwM0BtKbaliVRSAfDRWSzFkaTUuGZQi31kdjAcsbRq11eyhowsGHCtpA7EXlLcqKdgHgvDGtbT4nJOyi0zIstO5QXgtWRzXV4Vq+AIVzqHao+FY6QHzNSBoQgIJDVmJbVs3xhbz6KtEheq97jN21u0Ss05N6B2bImbC49xbEWiNICtSVdL3jGsPSOgFa9x00NSD1fQRiLEZwLYKsERiLLFDKZ7eehhfZKCgHARAyB0ChzxEipGKEyVWu5jmQdW8FmLxcrBqB0lSgx1Y-oiNA7pLNFFKgoh7SOOyXkoQR5XyV6fNwd8ghQneNAe4PR9WRkwEvuoNe+lfH-SlBfZC4gNGjWFPAz+pTLQ6AMbQuhM1PzprPImmBwZ36jTmOU5ZyYWAoICdSFlSgwRHXZ2qO48xonDP5lo35gLCdFpVP8wwDTWn1kDvcwx-j7L-W6tC7ploa5HVLSy-klT6WFmHOOc52lZnAWieaj9bRM4ys3LuUbB5MndRucMtuUFNzwWQvaal1TSlK7OtTRWnemaqtrzC3l0to303jarW5izaX-Q+cMYnSguJ1XkpTtlg0gYPwqzqKtsB269sa3C42M7RWPMldSCS9FO3+1Aemz8B7Tbds3ZWwaNbujPs6f27loNpjBH-eLQNrzYYwGFMqVm9puFQCQ90kD9ctGYc9KYPgfLpKeZFJ6Ut4rJ3RSw8m+xnLl28cuLSaT5By3BurBaKQUyVqrI2Tso5akvgebkGRh5Lyl2OhaFw6Iwgl7IXIm4I5sIhNXxP16goMV4a6tdP0MiX8CoRr6dufLxXLV56q4cJL0DYQaL4UIu6YUb5UjT3KMr5MBu6Dq4aOeExGQyoC7R5+3rDvrDWZ0v6Zm2tDGWbgvQTFnX-eJk-c1-65tnlq795H0MUvE9J4NCZkP8hxHMLV8+QoWzUUr1d2wVOnXSiF6ovltGYJi+l4nM0TsGplhm5PAqEywQHcWWsrZByLhQGbZIHzwQou2C+EKrEc4Di2W2YIfZ5DgzDADfvvO95+hHOAgAHwo8FwDRzA3lML4TSxCn9rA1sdpyprx+bKCkH4KoAzRneMFYdfqzTtH+t0-pyUbf7-MsOspCNs9oChDqGMZI-nnM-mfgliXmQKGtQOGgTh5qemyhTrNjzGmoFknBNtpuDnTvfOeHWg2h8AoCBNNIyBHh7sZnBEQY9s2ilipn5LLvdsTDxqrtQSBMQaQYNLtPnlvIQRwZQCQTxn5C3kRCGCNJQQDN2sqr2k9o+kpgweSJPlRuYDPmKKgiDl+AptLqQlvKvgppvqJJCA4GIrUHCNwNoUfm5IYNyIwPgPwJTr0qiM8i2vOsNimugWNnXNgcli9qGHpqLtrEYLYd8g4STq5vwbIXQUBr7hHg0DYUIKESEj0tTq5tISIFEWDoCp5qAU4ikSUudhrIguEYwG1iyibKAOkJkMgZHBTtdk+pfqLMVKAL1hLFyDut7u0n5OeHuARkCAkXYWEfke4s8r1oeDEOeCYZobUH0cCKCHJuoaYYML0eMfOpIZtHuj0IHhkfRqHtnmCL0anmnv7lMWcgwjMdwHEccSsCplYUzHlu9n2vISungbod4rVhXg7HEesdShVmsogQxncS4BTn9kATPEvk0e8AIGQUCOsaCVwTjF+pVjgcAXTn5GIpJrJivPCZiefkXNjAWANgrFvNNDUcfnliUXRh5vfBiW1qwSUbiUtlcTceAQyf0qZiiWvEcdcbELccSd4o3nvHgPhoRv7CRkHORpYCoWhjfnfpCsjKhqdm3P0B4gqYjv4aAMjBUe3tOMjKusqUIJrCQKYLUAECYMQPAbUI0MLo4rVvrjHpIGQIvi0ZsRCXmqarwiKjvLbvPOCNyTBG4rHk6dwL1kSbNAhpgfYRkfrjIIqbivKmCDIEqnXD6dou+m5IUg6XHqroqTGpakmdajWhmV7psTmVfh6Q2l6gWT6uGY4hnjmHsZirGeWQvJWbGgWfGmSU1OTOaiwSvG8NXrmZ6Z8QWH6dvDzN3J2siswenKwdNHGXKkurzFRBZCOcQOmeYGuVXrtvOS2V-ABraPOUCRZi4vgGcp1MHg2Vnpio0e6S4BGIoQjGypETLLebwUyioo+UVFCdfC1OSpoLiLsdeSnIyFUWwCcBOtcD2TLG1s6fZoqaTLBQScMkWeYHDLifHsLOvLEHefuYMPLLWc+cLDxphe7JEBvO+QJBGARVPrUVrDsZnmHrtkhQNLqCGesH+dSW8dGtzGIIAkYDUrgtLv-MCLxfxWuEsBqaTHacLAJU8tjGEOxcYJeV-rEM0BwJ1PxbBeEAADyiWaU2wSWqXf46kQgAAqckgkQgvgggoGvAQiBGNII+1AVpokoAAA1OqUnlXMtEKJCtpR5aJBZIFcyYUD5Z1H5eNLqDkX2MZEzh3uCBZfgCDMQPZLZWIPZSnI5ViJei5cIM0OCCFWnuFWIJFQFZ5WOYVZ5aFbECVZFUZceflBJnSdJoJWwG6UiI4vRggnJNiG+dMJgrYXJbUnBZ0DoYZFsmBcNUJcZYDt1eiNiDVYUNzKeeeWBoxfschh5rNSsM0G1ipECIdNpUtcjodEZSdXtUNZhG1YpfeFkA1X5PGCGK+PRgdb+etgBZeY2Q0oZKZW1l3nQK3OUJUWgqsfGMeGIX2AQcLIyC+bJYoX2CNAMarsRbBSje7P6dBOhXPnTGDRPkobhfNb1VtQxl2eYLSW1awf9axR1VHigZZj1UQCTTwXTV2kNSxUZcvnxHymkAPNNdFVcaUETUzUtStV8GtV9cBcwrcVcXtW1W9UdTdTtTJKRGdWNdjMrUpMjddU8r7ndVFRMI9RPl5Q0C9ZZm9YAn+RtoBRtUIizQ0H9W1QDUDSICDf9EPvCePkeARK3lDc0XDLDewT9PDUgRNVvMjehWjXTJjduNjVRKRWDHjXhATZRW6MLX1aHRFMKdogRnIH7MRoHGRiHBgNKWAsYtQArmGnrvVmrn+jzfehhp3qJOXZXZaRuSTDrlXWzInBwEIiFrXYygJMyrnnvOeC3brnbs4YyIgs6IguCHMGObEHMBOLEdMHPRyIvTEByCvUcXPQhJvaNKQDvbPZ6WfAfWfMfWvZ6YJgPGOTfZkP6KvQ0HPcFJeuQGPs7OxK4jZQaE-UUHPTqZvTqX2H-YUHPVbKoAliwIYH6RA1AwRisKA7EHPe5QfbEPoHqaAL4OEACFvrzp5T-UgzEHPe5GgzEBg9wNg4Ybzl5IQ7vZ6eYdMBQ1gzg3g6AJCFgzEEQ3MXOOCMAGQwYJg1Q7g5qaAGAHQyfbwwAKQCPMPCNsNSOcOgDcNz3-xoNyOsOiMiXYP0O8MACEwk6jQjmjvOBjQIOjkjYI4IOlsjxj1DoAelMQFjV9vDOlAIZDGj9jbjTjKjnpG+tjlDJjoAW+PjujVjG+7j3ARQnjIjvOEToTljEIejAjojhQIjMQejsQCpzoToY9ndlpk9VUsFgIIYq+cw3A49Xd+GuTzRlTBThS+ALAAAViYJQH0aUxoA7oYXvfk+GmOcPQ4JojHTwL09XV0ibjgHkxXRPUEjzLMYgnPY3mOY3twzycQ56ZAHQGqIvB-TEJs9s5tqs2s+A1QJA7AJAJvXA+c0czySc4AgwAAKIH1wMPM3PXFz0ABy5AHzAjXzHzmt-uNTP5dTSuszHBN1JTKwq+yghhh0ygetILLUYLEzUzrdoLxUwSJFkL0w0LsLkyg8m4Iz0zXdyLTokFOiI+uIiLhToyEu6VZ8ipWu304opAo+V0TT5AeYNhvUmg+gVx1LFdl6ch-dgzwzhQjmDLRwRQs05L-YCQEmQFTFzCip2xrMirm1cRF6QR1LhSLFJ1RLaLSLGLuO2lYrMQWr6MOrn6jTLTpgzp+r1LYLJFbzhQltH1m2ktSrs8MrHAAgbrYgXwLAEqttIF-R-ECrIbyrEF2d4zopBdpGwcmApdA5FApgDAKaHwVUNwpAs6ySC5vN2cuczKebMVMkzKEYJb4QFVDAVV1IN+vlMgkKxbE0mMjoX+zQzbQM2EU5bkCcNwkixAzWWggwJV41qdOiygyg9lGQtGRgkuk7mjBGnla+k7b14IhVpQ67oABVwVnl5AC7ZrKw673Ao7qFKodAdyxgRg9bnURuYgzpjm6hl7Isua47db1cYggV4IEIgVfbNyxgQ7Uoq+j7Dgz7d7EwX71g4IPb5goHE0yl5sCga+oG+bU1jmX+m7YF2k0wa2iC6H78b80kVuvNmQR6to6HPcJceFZHWQFHoAZjokOGGHBgh0+HIl4IOGikpQKb+7IEGbsU2bs66HFRxHiWIW+HH8nWgmECJmfxEGyHO0pbGs37tbcH9aLUiHyiIwUuCnmiRVfYhVtbdJPyCmDuyYSJ-xdH1VE4hngVanCHZASHzKOnFHco7lnW8I2HP2ZQF78HAMYkoIY5e+Pnz7TAjnSnDOT8S4wnGs9n-n+93AiCrHKH1o5HKHetcXYXpAPEIYa2JVunIYm7AA5LW+vhVSV7l++w25CuhzB+e6FymqQJCo11Q9xW6PfVkP9IW9OIdC1y611p6UIMIJVcEJVXZFpPwm4GmJVbfhwPCBF7EAds+1p4MH16l1kGtyF351lzl7tVt+pyt-oJtxGJt5l312TS4By1y8oDywiQYsYh4LSvPoQPm2J1mihoVzw1Y29+crTJ+hyR4ihoe6vld+sDd9QJoDxtro924OB895opV9J0Qh90UZ6Thie5TSZxAihu20aRd6AC19D8oE9yhvfEwQls5UlvDyzQQZ+vtUCCGMZ-JjJ-93J2Yjj0bXkzD8YKzFLoyKvoTw98T7D+lc8hzxrnwXT-Lex-vZ96TIdEL7StwlLnrcyor1N7z8bgj3t7q9L6pGfXL-IMLzzwlsbpV7r9Imu6D9yxD3d+uXL0uBb7UsD509b+D5D-0urw+8btT7j6TE77ghU0b0r5r-e6saIRbu2L8tT1zSNHPej5ztIgsaZ+L+DT7ZDUUBIYMiITK-3r4CQPD3uVF2NCj9MLMJ+YMrj6ZVhqJN3uzsCWz+YAPuuWe+OdXmL5X0X6kKTKXzJA+ZX5V9X4MgDT3hzgD231lTaWyuaGmFVPFjnAlsIBUIMKT21-efnwDKT+xzP3VHV4IEvwllN5pFVN7qv7hXC-QO39T-j+pMwJ4UajX3DNwA4C7azD1AwOoCIBwKQLtKArkIQAZk77ERBQluUUEhhx5c1nczRcWECEljfRXyw-Q2GDCNougmMHYQ7F6Edj3QaqB2V-tdFIAf8hu3-Z7m7DBg1Vmg--SFJLBXhqwk6jECGpH2I499K+9tTPlvGfhEAm2FfF7nrUoE0dfeKA+gen0gFsDvERiQQQxAYgjQ+BKGfHlXH6AKAKeJADIhUG-pdg2Qqg9+twkMCkgu+JHMCDak+6aDfA2g4kE8Eq7y8VEhgG1IeyeCGF5Bf0JQUHmMFdgb8CgsiNYP65rMigLg1mDoOAzzIJyrLfoErl8FGANBBELQX4N0Fr8wEU1TwUYMiEmDoh5gvbpYJGCeDbBmjaoObHbihCkhUoXwZIjMFeDQwdgkRg4MUGYQbU8GRxJUJ+iuJBCnTOlmO3dTeIZAjQtGGikCB-Rr2PQxQavhaEBDnynQ7mN0IUF9CFBqHPmpUOY5gVEeQQvISkgKGDBDIR1NwX9BdblCt8HQqgF0MqGTDHBmEDYTxFqFso1qvrHKAcLVKxDSYmDbYZUQHjHk1AJgHdIkR35ZoPhzgbgILwNiE86Y+BZolbDUC9kaQJeRkGbFgKWwqAXEX4VfC+H0BLi3gicP8Kwr8kBIwIyBrXjXYyA6wtQLzkUFKDzC9uFwyQFcJOFkxrYoIt3MeV4DKV2oKMfQBxHzb5cFeVAM4ZHHSjjDeh3QNkN0BiHkhzwsxdKDiD5F+Aayb7CeEdiMDhAiRA8bdtSBv4fhkYDAIkPgiZHsjARP5boIyDZHetJRiGCaDiFlGMdCqzQboHvF9agAzKAACQeYMAAAguAHAAPMAASmZUgAAB5D5sgCBBgUIKoCGQJIBBEIjIMkIpIKQJFi4U6RLUBkcjA1GUAQ0zHLkXGOV5H9nCCYpMZVy5GdBGwoYwwHvxzGZBD+GkDMYqVtH2inRLo90V6J9GFiBwqY3numOcDPJwxjuPclyIOFxjVRWYdUW2L1rghQx7kSoVP0jhqgmxpYlsZmNgKRjFS9Q3YU0MWrbgXY9lTfMyReHroEsjAUMfoBXHmRJwiYmcUgL5BmsgxVI-MdOIjHHjx0Vo2bkawcDmxGQAABgDGOIag9kc1BkBag-cco1AQYA9C-GOoHx2gIEHeKAlBDAqeIdEW6DAm5BgJpAPfrVnfH4DW2ssPWGBJ-GMA-xCFJcBxzHKkwMJlPKpH+PW5oS22+PQIAphQkOhUg1QbIF+N2gu5AJmEtmKaEqKpVPxHAJQa+lih-iUo5IfvIEBaj2ROgs6M-isC2TgDO+hkUoEhI4nJISBcQZiURN4m+hDIa2ZgS9xkmH1VEQkhgCJLYCzpDoOPQ9q6z0kGTZ0-fHgTtWMjZ8U6bQqiuZNEn0Tmw+PCoMoNCDfJAeiA5JLOPviCTiAwk5yVGNbCgDDR04R0CIJAEGBnUccXyS0CdzQRHot+YgIILT7m5gBZ4aARLGOgXl4B8NWcWlO5r5pG8m0AFhrFxGER9WCotwUFMMlYCVoNAvPAaHOD-gI+mU1ATzR77hBBa7IJyfVOMlygy4fUwKfpOckPkFuJ2SqcYAkH2So0boWqWNPqmyDc+XVeiqzHZhYEzkG0eKWuD8mQkqQMAlorlK+jSxZK8UgitFP0CZMpRmA2gSIJGgOA-K0I62A1NYJqwkRyIvadeKlZKEGB5PJDGuF-DHE8AkIMGSGDFgnScpd0U6cHQgTfTLpxUt0DdPQHKw7pJ0gFgdmemYiyJpkicNQJugfTqpDQOmHEVsksxcZNNH6X9OEGvh3J2sXzB4m+kXSsK68UGeDIklbxwQuIvYPiJEIMCOpaxdaZTIRloiCatFFiE9MbYvSuIhABcHeABGxCA67HHmRwGG6fduZeI9WXt1ilZA5ZFTUkJ9zhiI9wpTIm1CbUJGawWYbMAhFtOoAbR9ZPABWVhRNn4CmRugz7qqxtm3Izy20x4IQDvCOyARYjMAGDMhCuzSYcs8IB-DLpLgA5zHKWbiBxkRgo5eMooCnNJBpzCgicmWTbAV42DiZ-oBXpnMLnp5WZlXTWbzOG4397sX4tfM2PoD5sG6eHBuXQFXJfj2645FxHSLMR3jFSzKPua3zAne4+5egqajBhclttPuc9ToCJN8CwIUp8ISruWyUSDzjyWuG5HeMnk-CCwTXW5HsKPGoiyKB0gQC4hVKcT4oF4KicklokeI+53RZojnOxEM8JwOcnGXCJDRZyoBjgdcPJzPmJE+5X8ooEfOQHRi6Az05+apFVn4jPuxInDj-i0Dptd5kKYeaWX-mMBAFVxUkf5lKIUin5wyGkR7CtEViGAroyyAABkHmvox4dUVLpniQRd41sQfKvGKzox9I5UZeMdyfcUxyo7hIws4W48ixjYfha3yEUXznk5Yu0aQooVUL6xIERseIoEV7l6hFrVYduE7EUjuxaoy1P2KAWFBwQd44cScPhBmsNF-QiEAnwMVfijF-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-N0OO+QgAA')">function pattern_match(pat, dat, frame) {
    return frame === "failed" 
        ? "failed"
        : equal(pat, dat) 
        ? frame   
        : is_var(pat) 
        ? extend_if_consistent(pat, dat, frame)
        : is_pair(pat) && is_pair(dat)
        ? pattern_match(tail(pat),
                        tail(dat),
                        pattern_match(head(pat),
                                      head(dat),
                                      frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p18' class='permalink'></a><p>
      Here is the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that extends a frame by adding a new binding, if this is consistent with
      the bindings already in the frame:
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-consistent var dat frame)
  (let ((binding (binding-in-frame var frame)))
    (if binding
        (pattern-match (binding-value binding) dat frame)
        (extend var dat frame))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06cDwc73jxxQIBgeAkFQNA8W5i53vMYgUKoAHcgUQh6GIOhKG4SWcyGkbRRBLQKCyUXxZqKW-WmUolZcxtpv0NWJc16TmlFOg-pFxR1clygtZk-LCAYQxfAUFh8H1m6Xbdj2GHwGQ0ktw3reNu2ZboOXTfdVINEIEFuVRYOxdD+2ilKWO2F8fRBfzYX9CZhgUcIQI3GcJObc18O5bQ9DZxA-3rpxwx9Amlai5LwxnGbo2NbDloI8mLAoLN1IssoYIGFFxbsrocuU+k0oc-XPOx4nqfqhnph8AYDPqATsue9t6wq9T1Zo8n+g2NRTo5970-YkXtcL6W6-VZD3uT6jxW-pYYRyEL5GxdiCl3oLfI+C9BLkx+ojUBbAf5-wYIufGkgyDO1du7XUYDK6GW3HAt2CD3bCCzofSu-dI7+hHs7NoBYpZ9UbEbTuicSF2wgUvKh7RbZ0IvsnRhB935H0-hQ8+xAxaUFxB8YW-0pZYJYf6QMH41S1C-qkdgHgvAyPvjER+PxVHKHUcwwRBpKGBWdswLQUiwTMM0bpFoT8TESPMbbGRhiViUPNNQMQdALEaNYU-dxnjvEGLIbYYe58C4VGUHAyqoCrG4VAEPLRtjc5aHzjAxgET9zbxLEIECGSNEuOmJQjJE0Z4+LkUkxsxTomzyCbLaxxlSCmWcaJaytkHIuBdlLcgyMPJeSXh0LQhUIpM0EIQOOWdkTcFbmEQmr5RTF2oAoagNAcwtSZqkugv4FQjQzriBZSyVlrLSRsqZpAxBhBovhQi7phRvlSEbco0D+az2RFsho54S4ZDKv0vOBdCETIcMfHBOkUZo2EIXCOcF6DeOBTpRMaTEElP+srZurya5wonNM9FGLQwF1llCrxTjXnPkKArVIJiDafLYLIvspQKVUWfmjMEVKaWhmaJ2DUywrkngVCZYIJyWk2Tso5EGaT2S+BIL00Z4zCqxHOMMsVdc-YB2ms3IuhgT6EyJvtFwNxsSt0BAAPgqQMgGrcT4y0ARc2ab1kwVOflfZwN9akDy1WSpgpB+CqCzj8lJbxHX0B+EAtiCcrbJzvifaxNjfVWxfk6+hRpqFOKsQUwpJq87+uWfGne1KyAW0Ofk4Jr1bUsTYcYDhtCfgMKzTE-hUtNXEXPFUUgHxTEKBAtNRkwKY35zgq2hxIjk11rDnUvyczyXE0bgWXtLaQIfHbVOx0WrSXExBn2udlAF3TT8tyoiIYRo9uMP60xkih3hoEaO8k8q+Z2qVQ3Bw-ivwW3+jM4iI09X6GffFY1UIH2l08bUOE3Av3WoVc86k3JGD4H4AwKpM9u7DvBjq8+5aaE0CrSHXhtbz0m1DOnMZktBiGEg37GDcHUSovXSexx0irFApxcRoQpHckmCifBowQQRDUcHbRxDg82Xn3I3wnDrKAzAlBPoITOVvYYI0VG5o6RMjFpGWw3R+jh0NvJOef5jI1OtXwEQjRflzx7kMIyRjUGyOsZKRRzaBnfCHhiOeP9ncAOhEZHegOLmPFflM45vaAke3-MtWCiFOYCXeNM9inFOLvNuY1fEmLSWYh1PpiWpGdjJ0DsCRp4JbrV3NQYPSnG+hYU9pMe3YBndsMVz7ql5TYq2GPpyyJzThp3gCE7UCHtzXbaLoAUAkBNTEMnz8o+tBPtPYld61LCbsmU0DRxqNgKq7t02pU0-KTw3Wt5eIuNmTvsDZbbmx7QtsKDQ9uO9NAbHdhO1fo8li7A9-MjQ5cWxmaSzNyFZlAOAiBkDoB5sSG9LFFbLL1ho-LyHza8DdmQSHoAAA+iPFKig+L1TqCPkeo5UXJDgQhIfY5fKkRTb8RPhFiET-074KiKMGFY16IzdYq0XZDiIhQVvIeYQ18DopmBiAkOCuuzTKB9HuDtKHAl5lLisaAAAZHL3o-R6eIZUkCUXLV+c87tebIOsu32rr5+QAXtQGDC6CeCL9QyQduQO42BuX62ec4EodCMdHteg5jv+wlvHyeS7dEbk3QuJMW5m1pemIyw8nbJ-d-3LhXd1iGMr-Qbu+P8gRuBqP13KtDadyu5DCfbSp-J+nm35hRRbbz7Ed1-PBdm5D7l8E2TZtbfhEjlHxPxd1-N43mGfxYPWeqW3qnBpA-d4bzt8E4TB8z2tyM47duq8BYOsniMheY8p0mBHsVV2GU5+q9t2Pf4Rrr5T4nujaWRnf3wf-ffd2U6Exr8b8fc4Ld4N-rfwBt36Bz8VfA-+SClsys0eCGfux+BWGgRg6CvsDuls3Ap+F+jOf+N++mhm+uywJ+q+iexe92pe6W5eE6Oq3GLWR+GBhuqQtepuPek+9iZiPG4eSB4GFWX+VW9+d8j+q6CBfGHubkoomar8S+y+yQFBz+VBE+tWFk-B2ad+P+4QI+rYIhQe9er+jeUhgajY2Wtsv+4GahFsjYwae8Gaqu4ByGSqgQMgzSeI2+Ohl8Naehz8qGZ6pB1eq6ZhlQzSpIjBdquhPwnQys+a1AqyS+I0bhFhQSOgl+YqaOSalaCaPCdhbO-4-4zuAeihL+lijejhsR3C4sWGdA2hdqza-adBJBD+JhLuWBto7us0IyR6l8xBThZRZBBelRWQOBm+kRvOKiXI6mYBKRwhXeYhKhk+amBRC0PRqBxCxh-RSuIw7Rd8nROuMcYy8cpS6BLh0OaRQxGRk+u8+8shXhLEeKLBue6x2qFRcx5+3BNRYqrcN2rBRowRnBrRZ+VRae72sgn2LMSgv2HMAO3MlgZeAxlAnqouWcyMSGUuuOHs-Qs8EJiW5SyMikDSTSyMFk7sMJQgLQgCJgWgwgAQJgxAgRtQjQ1u+BuqUC6ygByKZACWwWu2MxwuTeIcjyTM4I0W-o1JKCLa3A9Jl6GeSxOR0GXG6yMgkJqRgxwec4MgkhLJIpaSYxbkBcXJKK+c4paIoIRW7hMpoAVhhxSpCK-yapce4mra5h+c3AnhNx4GeKkK8gPuYIYpJpoRFpugixLEhWxW06bwTK6pppYI4IXpxA7JKg9Avp+pBBWpRBBs00fpY+2x40S2okQZip5gQZjKTisZJpp+sZ7pSMjgXwncnUYWEWTidSJpEY-J5Ja6s6P0yC2crqBuLRIwVZ54GuhcoiuI+K9pFijIpOJw1ZhWcMUBk2CWqqfppMduY5VEoG1ZcMIB+cyCzwHO+eFxgwdMEZLg85qqi5lsy5sQMxEYG562jWqMhGJZPZTiU52MdJ6wLU5ZTZAkHAnUouI5GCMywkQIz5Ygr5a4SweGo0ZklJ9Z15i2YQvJd5YW8mwIksP5qgb5HsMyAAPDBS+fBX+VGoknytOOCAACpySQJ0C+CCBnKw62xmY0grHUAkmiSgAADUCJGK6Oy0QoWcU54QDFIZ4I9FjFcKzFnUrFiZEwOCKJ-KeFBFMgxA9kJFYgZFUsFFWIcc1FwgzQ3FDF52RQ-FYggl7FPFXFPFGlhQWlglGFeZ5gjs0erOdubW8K4GssZuck2ID5IYtRkGCFuoN5u0Kw7qpO7l-5cKi8EcDlRApWyWkskS+ARZbcdp0KZZz2hloAzQduausxRG0BuomFBoswyeGFCVYYEGBOmE6V4F94WQplfk8YIYr4ssKV7ZIimgXZMVDpXl0w2F7lFk1k7s5QoAVu-m8Yx4e6fYTayCjIRRIEw5l6fYI0Fmu5-0C5dMHJOk25M5s1joFVcqV6Mx9l6ITlA8PB5g+26VVl6V2MNlMQKmQVO1DZcsy6tldqM1oFGFt1Lo5BaQGQYExVmVD8ZCwV2IeV4VhZV03ZsV0iqW52SV6VKVh07FhlpQpEh0f52MX1Z8M1RVo5x8pVQlJKRQ2oVVtyNVn57IYu9VYiF5INdsz1RQbV1lgqXVIgPVlsUqYesqR4BEPKQ1xUeMjNQIY1dZQck1oY01bl85U5q1D2SWy1TcYtfVG1lVq5bo21jl11aWH2zyX28gPx7M-2XMPM2A1Z8yvUByxJTyyYGy8sr1lBUpjpDgFk+yWaqyqZJMht9tLUiycc9BpSryHBzZgwR5gKaW54dthyJtFGHmEmzoTJcwIZsQcwE44thQTJHI0dMQHIcdHJTJCEydgFadEdEmYkoIWddcOd0wTJMOmQIZZdbA-o8dsQTJwUcc5AvgIZ9dcCxFBoNdMQTJ2Fyd2FfYHd-pEINwouO8LAhg7JQ9qgI9ZmKw-dTJdFWdsQ+gaJoADmRqoAPSDFbds9ed7kC9MQS93Aq9AIxqPSXkW96dedQG0wB9K94Qx969oAkIK9MQ29c44IwAe9Bgy9R9J9oAYA59udb9AApJ-TfT-Q-UA8-aAK-QGZ+QvWA3fb-YTQ5hfW-QAITCTwPf2IMP0YNAgoOAMBlIWgPYNr09IoUxAEMl151IUAh70INkOgC0OUMwMQiGokOH04M9LGosOoMBmGp0PcBFAMP33cNAi318MQhoOf0P2FD30xBoOxAQnOhOiB3O3B0FxTmAghgfpzDcBB3G1MzWpqOLIu0h1VT4AsAABWuJZmAIOjkByIa9Gd6jxJIZp+xK-dRQBjqy5jRoToRUHWPArjvjzelAdjA9TJHKIZHKXjj2A94IkAdAaoyyTdQjSTKTYicTj2TJE9DAsAkAydeTBT2TyWuTVAk9AAolnXk5U6U0lkyQAHLkCNOf3NONPI06SqOc0+MtRhMgHaMrAfrKBr2HTKAY29MOHMDyXdNBOTP9OqqDPTDDOjMvHjMTMhN9PFQ5LWrVm7KIKbN+MvI20yV1x+n7PfTiikCZxXRWPkB5jEa9SaChXQSTNu0cAWKe2AqLUrCtxnNHBFAnngbARYhk0OlPAmmgrnnA3guwqxyEb6CTOaPFXcB5UxDzPbOzbsU-MNDwvoxIsIqWM2OmAJZovBOmPB0LMzn1OxB1WdlgsWJpYcACDtliBfAsA-Awu9lAggtOxctOIBOq3Jjq0-Za2cyYAYBAmhlSwUCmAMAcIfBVQ3CkDqJ97Ngmkw5w7Tg5kTSYyOj3zZWXFF6J5qv6t6UMBqXUggksUyBZw6tAzYT3zND2t6ul4jKiw3BUKAF4lGDWudSvozHkDKDKCw4ZB5xGBTLBs4NmYMUtzBspXgjcWlCJuJWiQWQ8VBvjM4t9iJvcBaWzkjIOBILGC+sY5iCnLnIVtih0DFuFgRDJHy0dJ+tiB6UQg8Uev-zGDetSgfp3FFsTTGAVsTB6XWDgibllA1sDua5kAKAtxnJxkk7vVzs7QhjJuk7aRppg5zitzhAK7SR3JvWZCvFZA7tyGI6pXHvLtyh4OiTFDwirsGCHQ7sJt3uKSlA+mysgQKuxTKvqI7vIntg7xUX7GzzPt7sTi67-QbLJj3G56ntRrJttsMX9strTukCztPtnLNzwcGUTjcWWt27KqBxQfHGDYH5XscW8UGj4c8UofGBMAztJ5GsntYcUdyh0U4LwgbtGITu1t5QF0VvcB0doc8ROvnykz-tibCcQiZ3cDC6Yc7TWi2intCeTuocMfodido7NtXsPvggADklrBqnFhnIYSVzbglO747wn8rBYpAWcHC9nC7h7WQ-0WrTHgwjnVD8TTJQgwgXFwQXFdkWkFk5oaYXFnqHA8I-G2svHU7Hn+gXnGNEYSXqntbGnPEZncXqHCXqXmNeXNnSX+1LgdzDzygTzHaDKxcHgVW2cgCznexpSRcBrCTjXqIIZpH3+s8zX2bhQH6pX6w5X1Amg-W1XygVWQ7dXhAW+WXkHAMzXD7TJd7ebR1sBUHzXYnRcxXoAXnBzNXbgU3u046QHSlIHh3LVTaCKyVQIIYhHa3AMnXDx3X9XMtaj+3xg4K0yjIH6u3Y3E3MlaqL361I0yLk2CbmdD7pMh0f3bgpu0yGNp+MPH3O8WHM3rioqzy0eCbdc3HacwT73cPWHWXoPGCCbA3jzw3lXOMuPJQgF0HsU1lsK-X9zg3FXo38g43bgk3G3YnpMJPHs+jHPVWhP5y-mu6NygHjuG3t1IRedy31Iq3AcUvQPV6A1Mvq6W3m1YGdqYiJAh3GrqQpMC3Ymh0xvaabVRcHVQq7S2JZHbkuvwZ1h3hYZ5F+vj5EpRv9XD7lZXv6PFvgCVvbSIqMhLgPp5FZJkesPmkVU48rULUAwFQgwzXFZEq839XCbYXdU47CfO8UfsURpyf7v8eyeYf8l5323ooPUbvMx8ZVtU3Fkd7ZlKYEilaKSlvXN-0qndN4KPUDA6gIgHApAu07rRAPq6fxEgotylfE053lN7WVIn0umx0xZ30E1AfHfM0U1r1HKt020nT31Dg3f10pAfffng-9fG-+-+VuQhAWcn0rOn02N-VbN-wx3nv03LVL1yGpMN-dryeG33AX-pex57rU8IavCfnxGQya9Ywm1RtqGVv6Hdtu6OfoAoBO7nkKgrdLsGyAwGN1TchgUkAbxc5GArCD7HAb4DwHEgngWXKHsnkMBWFeui9aNiCRQFoCuMZArsMwL+hkQ6BNLeJkUHYHgp8BbrKIlLDID45fGAg4gdwAEHOwCBRfc+L5R4GkCCIuAwQZQN55Lhoa9A2FBC3vrVBlY4glqJIJkH4CngDAvsLoONTICuBmEKwngVqKcDUBMgOBJukcYnMA2cA5wVQDRimJAgf0UtiwI-STJqQwgm0i4J8HWDZ2kQ5zooMcEtdScs3UQdc36ASCVB5AwYIZGhpxDeulgkGOEMli+CUBAQmwYnmiH2CxUHEfwgwCHpcQOI0gqgLTCXImk4YCbGQHWFqDcU9ObQvYB0Ky7UIb4dQ1iFQHCAPsWhMQWbqkCr4cQRhYmKFlxiFAOFQQTiQYX-GliX8JhiKMaNMPlyK5pcY0VYS10qF5pqhVALiBGGmHmD-QEYA4ZcINBHCkgJwziPBWh7DDbhSWQ6DcLJboQ6YYnKfO0P85IDlozLaTI4KXoTklwy9XIaTib4qA+geiHeIwEz6JwkRzgbgL9waE7c7OuIOmFqnPA1DJ6LKRkPcMYD4jEuWIxFGsJRH0BUWfAicLt2PJwD8RWpGkNSlaH-Cae31BIejyirAjGAkQsmE8OZFfIYRvAeju1BRiIthhhArSgl2mEwj0ohQ-wd0DZDdA5BWmTmhE3Sg4gVRfgK0nAJpyfguw4QUoKTlTaGAK+H4ZGAwCJD+xJRFNRtJzW6CMgXhdsPyO6ir7dBjRt7bis0G6DFpmWoAXCgAAlKmDAAAILgBwAlTAAEq4VIAAAeUabIAgQ-ZKVpJUFFUj3gdo-wo0L3ImlRRrtS0dmLzQtcFR4o5GHDzz5dxixSQMTgqM6CNhMx5o60nanrGZBc+GkWzH6WDGhiIxUY2MQmKTHjsyxloysZ2OrHEi-SCo-keWOtFZhbRk40LlWPoDuRIhEfMVGqE+7LisxxI3MQTHkGRCfoLgj9MClWGw4jUGlNQCYC8AIiOxaYMuGePMiThKAOYy-uYPTFqA7x0fR4ruMv5MtJAcQDIFswcDKxGQAABgHIjIag9kIrEBJO6rFYo1AQYA9Dgm5AQJ2gIEJF2AlJCeKeIN0auiwkXx0JpAcdoVmgnH89WVMYGIRLa5VQkJ4IsaOCHl6kwaJwHTeEhKU5lVdWT4coUwUliWwKJDoVINUGyBATdoHyOCbRJyhIS+yUlWCRwHgmGFEJyEvyCMmYEtR7InQdRIX33SvUq+yfQyKUDIlyTTWF-Viad3Ym+hDIlCd-phVKCkx1JDATSWwHUSm8XubwlOoEA0laTgBL3TCsZEAQ7pDyXkpyT5KwkwiKgJAEQKPGe6EBKIDrXGDiOIhqSQpzk7SZ-wl4Ht9JbyF8PjXaA3xTWMsHKduEeiepiAoAnGuAPOzaYl+d0L6IwAmp7jN+0Ed1DvxYBX88ebQwiF8PDCpSfJ9-A2O1Jlr0Qh44vCAV-yhKbDpwhYc7KUEclpSEuS6ZHOyD6kuTgBMXbcM0C6nGAKpDEBiKVOIDeS1pzXbbnMPBQLDcincDaIVMWxNTxJnNRfkCHv6r96yN0hkbEFfCKMDRdOXfidAymvY6ArFR4VxAGk3RH+NI2kWuDukAtVeL-TKdP2nBrhfwSWPAJCDRkhhtMy-Ftk9KxkMAXpQcKGZfwqkjQvpHYBRF6F+n3RYU8iIGaSMKlfCGgoMkrODIZlFA6YsKAKWCiolYxbpRM2GdclfCRTCMMUxMvFL1Z3TlyqM9Gd5VXR-CehAI-mezUgGBYzy6MG6YTPel4QgWdqBwLTNOHwVCAC4O8ElJmItDCacsjgP5y6Hsi+h+UrIIbP0akhRhyCDYVMKsJUdvqZ0vGQHEunUANoDsngMbKXKuyZ+hAAgQ+y9kXTIqV0x4GHP0ZsgcRf9MAGjMhAbDSYhs3drsMN5Lgw5LXXWba2BnwVzh2gpLOcNJAeTCg+c3EKSOh4lzaRDQaHuXNZkGgfhWXC2R0Ir7kogJLcbcc50trKEwQmYiyFhMdrStIkoosuOFOzIvFwpTvFiIRKNJTz5BldS9hGFnktdfObATSb4AoJlT726PU-GvLEm8S7U+zf+FhNEk8z0RL4vNGiPJEmz5+AgSJLCXknxQLwX6QSX8GEmzxwpxmTmlXKFGsibuE4ABaSOvk5jWZbwceeR2flMZwpFchoPSKXL4TkMACwkebO6GWyORiSLkebyFhaBbOZALOAvPsyGx8cjAeBedh5GSAQRfg2dmguATCj-xAgHsQwGjGWQAAMpU2TE9V3qkEjcZIE-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-YPvs4XgWR4TMfS-qN1P6hdku-kc0uiXPbtwr2jFHPqIV1aYsX2nJH1BSStAmpXKmHSDBwZyxeBKWRPVcrza9bx4-WnxdCK3xBTg1SpKjEIEMD2R4cVe-gDKoECtBS95IpHpKJy5cGBAnFWvdjWGqWwImLWgg-jrG38iGDKCyab5Thj+UZIlufAJAieHLQhhzAKSP+HZRqd6OJSnA63wBiyHDoqhjGuDpINr0yDp01WedIDiUglh0iG6asLum4iHpWM2qdtEhXDk3pyCmvmTNpwUzH+Zys6dzNxgeH1hAmYkYXMpkrRBpWMjGjEePIRRM9JS-TkiP0C0iAAOlgFjWtLwUsfGQMEFnak6V6nDOUNBD12iQr9kVR3icEyPqbsjefXI3wIKNFGopJR7eGUfQ6SixovAVcBjR6CkxhjoAAAF6bgYgBRooNYq3g-RyjNhnoNMZqM6Q6j4IBo8YEKhQQGorB94BwenDZHijix-o7O2-pyc865ALiiwC4rKAuK-nSYPpydB4AWjmBk4z0bOPLHLjrXW4-ccePRdNjvkIAA')">function extend_if_consistent(variable, dat, frame) {
    const binding = binding_in_frame(variable, frame);
    return is_undefined(binding)
           ? extend(variable, dat, frame)
           : pattern_match(binding_value(binding), dat, frame);
}
</pre></div></div></td></tr></table>
      If there is no binding for the variable in the frame, we simply add
      the binding of the variable to the data.  Otherwise we match, in the
      frame, the data against the value of the variable in the frame.  If
      the stored value contains only constants, as it must if it was stored
      during pattern matching by
      
	<span style="color:green"><kbd>extend-if-consistent</kbd>,</span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>,
	</span>
      
      then the match simply tests whether the stored and new values are the
      same.  If so, it returns the unmodified frame; if not, it returns a failure
      indication.  The stored value may, however, contain pattern variables
      if it was stored during unification (see
      section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>). The recursive match of the
      stored pattern against the new data will add or check bindings for the
      variables in this pattern.  For example, suppose we have a frame in which
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is unbound, and we wish to augment this frame by a binding of
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>(f b)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>.
	</span>
      
      We look up
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and find that it is bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      This leads us to match
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      against the proposed new value
      
	<span style="color:green"><kbd>(f b)</kbd></span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>
	</span>
      
      in the same frame.  Eventually this match extends the frame by adding a
      binding of
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      to
      
	<span style="color:green"><kbd>b</kbd>.</span>
	<span style="color:blue"><kbd>"b"</kbd>.</span>
      
      
	<span style="color:green"><kbd>?X</kbd></span>
	<span style="color:blue">The variable <kbd>x</kbd>
	</span>
      
      remains bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      We never modify a stored binding and we never store more than one binding
      for a given variable.
    </p></div>

    <div class='permalink'>
<a name='p19' class='permalink'></a><p>
      The
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      used by
      
	<span style="color:green"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue">
	<kbd>extend_if_consistent</kbd></span>
      
      to manipulate bindings are defined in
      section&nbsp;<REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	
      <div class='permalink'>
        <a name='h7' class='permalink'></a><h2>
    
	  Patterns with dotted tails
	</h2></div>

	
	<div class='permalink'>
<a name='p20' class='permalink'></a><p>
	  If a pattern contains a dot followed by a pattern variable, the
	  pattern variable matches the rest of the data list (rather than the
	  next element of the data list), just as one would expect with the
	  dotted-tail notation described in
	  exercise&nbsp;<REF NAME="ex:dotted-arglist"><a class="superscript" id="4.4.4-ex-link-2.20" href="./2.2.1.html#ex_2.20">2.20</a></REF>. Although the pattern
	  matcher we have just implemented doesn't look for dots, it does
	  behave as we want.  This is because the Lisp
	  <kbd>read</kbd> primitive, which is used by
	  <kbd>query-driver-loop</kbd> to read the query
	  and represent it as a list structure, treats dots in a special way.
	</p></div>

	<div class='permalink'>
<a name='p21' class='permalink'></a><p>
	  
	  
	  When <kbd>read</kbd> sees a dot, instead of making
	  the next item be the
	  next element of a list (the <kbd>car</kbd> of a
	  <kbd>cons</kbd> whose
	  <kbd>cdr</kbd> will be the rest of the list) it
	  makes the next item be the <kbd>cdr</kbd> of the
	  list structure.  For example, the list structure produced by
	  <kbd>read</kbd> for the pattern
	  <kbd>(computer ?type)</kbd> could be constructed
	  by evaluating the expression
	  <kbd>(cons 'computer (cons '?type '()))</kbd>,
	  and that for <kbd>(computer ?type)</kbd> could be
	  constructed by evaluating the expression
	  <kbd>(cons 'computer '?type)</kbd>.
	</p></div>

	<div class='permalink'>
<a name='p22' class='permalink'></a><p>
	  Thus, as <kbd>pattern-match</kbd> recursively
	  compares <kbd>car</kbd>s and
	  <kbd>cdr</kbd>s of a data list and a pattern that
	  had a dot, it eventually matches the variable after the dot (which is
	  a <kbd>cdr</kbd> of the pattern) against a sublist
	  of the data list, binding the variable to that list.  For example,
	  matching the pattern <kbd>(computer ?type)</kbd>
	  against <kbd>(computer programmer trainee)</kbd>
	  will match <kbd>?type</kbd> against the list
	  <kbd>(programmer trainee)</kbd>.
	  
	  
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<span class='comment'>
	  Dotted tail notation is unnecessary in the JavaScript edition. We
	  simply use the <kbd>pair</kbd> constructor
	  rather than the <kbd>list</kbd> constructor
	  when we want to refer to the rest of a list, as shown in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  See also section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
	</span>
      </span></td></tr></table>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.4' class='permalink'></a><h1>
    4.4.4.4&nbsp;&nbsp;&nbsp;Rules and Unification</h1></div>
    
    
    <div class='permalink'>
<a name='p23' class='permalink'></a><p>
      
      
	<span style="color:green"><kbd>Apply-rules</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_rules</kbd>
	</span>
      
      is the rule analog of
      
	<span style="color:green"><kbd>find-assertions</kbd></span>
	<span style="color:blue"><kbd>find_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>).  It takes as input a
      pattern and a frame, and it forms a stream of extension frames by applying
      rules from the data base.
      
	<span style="color:green"><kbd>Stream-flatmap</kbd></span>
	<span style="color:blue">
	  The function <kbd>stream_flatmap</kbd>
	</span>
      
      maps
      
	<span style="color:green"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      down the stream of possibly applicable rules (selected by
      
	<span style="color:green"><kbd>fetch-rules</kbd>,</span>
	<span style="color:blue"><kbd>fetch_rules</kbd>,
	</span>
      
      section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) and combines the resulting
      streams of frames.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-rules pattern frame)
  (stream-flatmap (lambda (rule)
                    (apply-a-rule rule pattern frame))
                  (fetch-rules pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=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-fJ86ezgCxP+BCHbf-SgP03lk6UjbyXaxS0Q7N-TkHFuMeqTJwPpzMuACECFd1zFh4r4dhB221qxD5qI4Pe+VKD7D5Q3vGht6Fw90AbmLMG5lzsdpSkYT6AM64a8Cab+Ki76vnvL2+-UgH0eUQ7enP4poOPyTTu92w8i1ACIHn0ZApF81xy30aED3OxXyfwcn00vxSGH3i0nXehJ0Z3e3s3f13ycwj0L22HE05zr2sCNh3yH3x3Pz0FAGv1vyHSmm5mqGkEXDHTwMszoOSlr0EAwLwzuw-xYMvCFmANwAXzAOX24HzW4AE2Hx+3LAHwyCSw9yhCYMVA8AYKUIEAi3qBNXwA3nELXB0BUN30VEBReRkHENuXqA8E4Prxqkgmb17D0NCCkIoOMIQnaUkIsNlFQJJwTFsKbwGjeUkLXHzWkOoLABvwTVcJ2HXHMK8h8miO0wMMsKALn2ENAKXzrgcHMIQIM0PA8JyM0yEJEIyNamyMgMRVKJ0AKMQPqGH1dzyzUPGA0OrzrAGiOwdD3DBAtHemp3LHXHemUGNFAHlEDR6msBHBkCWlfUGF6I8V7jEUmP6mmOoByhHACWGRxhhnwAvmJXGFmMsQaT9RJThwAk3FCV2I7y-wQnlEyNuJmVz2SPjVAiOQkB7m10KlcNrmvWONGK2ijFrUdgmJHGUBkQYFrW8yoRBJUjBMtypyRlLRhlYGpBHEzH4FijewmWsBVAuKc1LSKMgTXVEEdBC3tXxMX181BPBIpEhPKNcE2OUh2MRIZXWT2OqIM0pNhNt3ay2HxO+jsGJIUMYI0MMPlFcKYBejbg4EpIuJCUoArlQkYhZLPDZMUxIg6OpC6PYBkF5INn5JaUMW2OmAOw+jMIpH2IQiIiOxT1NMLhaORGZXNC1NlQ-W9SLU72NwfBC2ZRrRdIkCIW5Jj0nziF0DlD2Dy1oDtKGBEHeg4FzWqhtLDVxgLW9S9FKLNLHW3XaVlRDOphXDy1lQMgdFAAABUAAJAAUQ4AACUSsAAZcs5AELeUP0FRDYLlJUpOCE0YPEHAmQnk1BKZaMm0qheojwB04096HwEcTs6k7s+okIB00Cd+ac0bCOQxRc+wDstIKHKaMsysms+s8AR7Oscc09ScoQFcrsiwc0zU-IXgOvGQC9B028iTM82M0DeMq8wgGjGoxcEcerW8wqFUwIZ82kDbFcVY50AC2kQqUlNldWB8dlZ8V8OARAZAdAb8eQCVInCUkYfufgCYWCbdOSOGfOdSfCKLNeeSd+IPDqfCEw0ZG6Ci0AObbNBOQ6UHFSdOCWKqGqRijqZQAi+oowEwzZPhOixoDwMcSucUhzNuFkMpKpc+KefRQSwgQi4C+oCBLOHWJOdsSpfJC+WpVSyddS3PDTEwqbUgRVHMZ8Z7RJCShoKw3C1SKymy8CeyycayrcHccSkyoS+ihCMhGKMisGZi2S+RF7N+fCsywKnYKOR2QylSiRGCZi4NEqGQBK2PfHeOcWQ6YylKn8morK84gS0ywiuK6waRThORWyliRRN2fRcKpSXwDhWRbhBRY+RqwqtSiqgFBCdubgUgWtIeT+LRRy5IoMyqkJRtVxCarwiKma5xOa9Jcq4SvLZuZqUxcapqySydFqweKoMarBVagK-q3qH6J6E6wq5qihS63aa6guXq5wCyhCHmTWPmZK2xMzffDTZyuSvC964xZtSgWy3GBlTDTWG6Z66aj6-rBGXapy-ahSOGhy062K-q0YQrA+MrCrKrUqCQYYFgd6UARrZG5SNuUeG2aShS5QfSlVCaY-VyDsNgY+T4DK3ESg84eCaS-+Fmtm6YDm1kd1CpAkHFVgo-cTZeY6YSJHdWBSrm5ILjQk4k8mnQwG9WWU+UzmzSy-awt6dSiIagDuWkwEHmGOWKD0JOHW02poem3Wmom8TWgio2h6zKTmkPaPBCFuIPPkok9a4wDwH287MGqkTKP21KoEEIIM8Ww-GdLGxVWm6mXGyrarJ24ZYavgUmpraS1rUAXoexYZbSmqXS95WgZ6s5VObEfSjIbICK9W1SfS56wSz6MWgQwxRa4KjeKmISvsmPRgOlKIGSlysiKKpBPm6QLJYBHqtagO-6imvCruyK6qnames6zGkepergIk7suMWhMqoSyM8m1qmRYYWqnhLqhGlKiu4tUtVRdRegNgTDHWL0C9eu+S++zDUazRR69SRQQ+tYJmyBZyTi1ST+mkJ+0BxWlIeCcBx+5+87FguOqXCJd+vC1BExb+sxVSgB1wAu7CgCYundGKe6uYUZBmgM+sbEUZWu6mBNIgR6XtVNZQch345EWgWMakN0SG4Gz6mpNxbdFes+jq+qy+pipoKS+8rgjh5k7h3meG62iIB+o6n+8RWxIqxFGRrhuleR+GJODBl+ba3+sGB4866wVGvym6iRli-eCx+MPKhiaJY1YYvYI+xaoJGKwi+E43UJM3WarWsJfRMdUtBjT0ugThqqHRux-h0JXE43Bh0h5VONDGXi4hxhuYUJpzeCNBj7OUn1fWl2p8N2zKnDcu22mohJ5aXtcu-fR2upoSthmgRaw64eVep6tavuqhpsYB0kUBx8gjHJ-dEBpK7q2xZ6xp4+xh7B6+jp2+43F+kLQZqZ56EOkZq+sZtasdRh9iyqIPZZ-GBx0KyiLAinTZyhnWNxlq6J9ZySG+tYbZw5vp65nZo5zCTfOptW+S55nWJSgpAS8p+oBpjMqaGOy8a8EqRCjlFC98dCr8UVAhpeN4weyuHozpxxeiRiGQVF3VUAd6ZxhOyIAY6mOiBiJE1AvgMgaQeVYgJgcgKYAQIIKmoWdK+Wi2uOUYGp0JO5q4+NCSWWkqVcDLNljYDl5QLls5tc4ZaWlifl+W3Ac0npeaXAZ+GVooAVk4usc2pmdltRHEc0hhaBZVosDV7kTW84+Vzpg1nEZQf0yVkhPJQ2opjuC1nc8BFJ-Ba1vlCZ4NYOsHHGMO-V-eP8ranWVcUhagAN48qGX1ri79NFlJPuHWVYkN87dYkhGNl0CNrRON11opQ4+WajNxkgSNNogyx142rRXu3Ngla6ABu1gCcB1-KtyhuFMymsUtUKXWCCYag2iYV21aVZVxhF5EdKq3Q5mp3S809ccdk5g2E1skfHF562igi-YwFt24YfKNhd9E0u6Qqgtdq4w8Td9u4ZAp8t4pmdu7TlvqXWMyy1-gYiUKbi-KkEYKcYI7J9pSHVax2nFgbp1-S9r9hIE3G93tgOkId9x95fcd3QAAHhYofc-c9wDsy3y2xsXGLPoiocIAkBFuInwFWgfDXUyWkBCEXALFqcQMtOInn2fYYhVULDDfI8LHKOo9o6A5Q7ywJY20w8oBvBDDw4I+giI+zW3HIFI+pgo9Y8YBIlo5g4o6Y6k5qLY+ELfwJAmdYu4Beb6cOe5b2Q7vUrmnomZGbdqMMS0bo7YywIocBG3RuJg63ysMM+i2ZFNv4Bhib1e0KYrdGgaa3xCEOfkJC1agc5qI8FaiA-KIC84duJg5XQcA47t1xUVGV3UqC5ClskGp7e87dsV1cG490+TsIDomEmGNijzvHWQbuTvvxy9Ebat1wft2Sgs4HyXZxAoIdqaFa93YoM-zazwcoYIqM-JQ6TbZPZIQeYzhopgMK531M-09Pec+M9G68ZQfTpIQs8A+Q6jwiS4klFC4Iyc4mGG9c8QPc5La8-PY7j89owC6m-S5C6m+-bdyMUwwi89ywM48CGi4ZVi6e+A8PES+L0o+SFS4mHS87bem7drRy9Wjy+MAK6m9K2K7dEZRobJv2bWj6-M0jzW7pONzkJC3q7qka8aHgha8XfHfa6p068aG6-O2Xap2x-zrc0G6W5G7rZwHBYQsfGQqgFQo-AwowGHZjy+nIFZpoUFrlaICIod08VSUslxByjF4l7pYKnndCH5sl4TAgnGFWkSU5plh0XzYcA9p62NxV4FrlrKTCfmgeHjT8jDeMD8iBA0fjWtCd6MGtFd+qPjQXE99CGBR9-t6DYygD4ymD5SHjT29EDDZj8aDd6Dc6zUDDeT8kAT996DYJc94JcBET8skXEXyiC4C7FoFXCL5L4fHqHz8ykXHzAD+MCxeUAkBBGyBJsLFw9ABr423qwb9SCJZb9oZJqa07+78TT74FQH9b9xdAATVAFH8z4L+AAn6b-n+n5JrAAX5D4L4AFIV+p+h-QAd-5+jAx-gsG-V-B-ngSbgs1-F-a-R8goL+D-r-QBH+QsW-7+NtYP9-m-1-QB4ORgT-tv1r6wd0gffS-v-zAFACx+mQX-mv0P7ZAYBX-RcJkHAHKBAgkAxASFjv4gCNso+CfjP1cDPAjA4+IwD0QeAXhFsWvNXtbzvBLsMgioNOH5DXA0D2aCFKgRbzYFS9FKlALsAACshUnpJgdiFxC0M-e3AsNrXA9oaNAglvbXhCwvBjYuB4vK3nMghq29948aIMmGyDKyCPmNjAvpAEIA9o14EgJ3sYNMHDV9BHzeNBX1gCQBPe9gyADYLqZ2CKQxfcsgHwr7llXBjteNAADkWAAQifkEICFfcDMnApMvINoHqCDmT3RgfUDTjEBaGrUYgMBxiGfA4hpANutQNUHa9shoDYQUkOxApDngc8GEKwPyGxDw0GgpQULF5qZCeBd4JOvpQyjmleaFufVGMAkCvZ+BHwPqMQA7BDV+mBGJoTr23CqMDeMvWnnh3aEdBAg43ACBhjYqw8tE5pM9n2ydZaIrMBQB8uMJ5iXtaS4wwoXF12FSNZABwzWnwMEFkAamxw7gWDSHj4xJ2tPSHllxh5XdKIhZDYBl2mDERI0XYU+F8OGBegVhWnNYaNCUHc8bevPF8PzxhafhMAIvcNsMDhhkApSKkegPGCxAMBXEqOBVuqiQgoRa4BI0xskHC5RJAex4EzApw4DMcUQsnVTqSJpEiZ5yjqWQNSIFwGINiz4LEK1QtojB9QHYI7DZy9osBiAxAAjnYHkpyA6ako6fg+ELCTFJR6XRcOR1ULkcyOOUCjhKPSGzDkg6o-EDJ1FEa8iAMcVBPSBIh01RaNoypOaPbCoJCQQiK4tRwU4bYKO4EfkagkFFzA04+lYhhaMFz01z8jHbQMwUJwAQHRaiaYB6DpD6VCRuwSUAmMMK5Q9gmhFICYXmgJi4i+EWXEmOsTXQExV8DkbcWLFv8ksgyQwtaRzG39lwGYpGv63RGYYZE2IvcLiNcQpimgIQfMWJV+g5jvI9qcUHVDyTOxlKRsYsXPWpgejCw0YgcnGJrGi1JiFSc8Ep0BDkcGRjzLOIxVHEhwdi5YljkCA3EUc5xsY0YHSFrj01lxDkVcfmHtSFQGxWhFIkGI2xh87RygU8ZUHPHkjvuCEdcF2K8KniNs-vZQPNFagJj4u14yoc+MdFniGA-mKIlVRNGkQAJFI6mAAHIGRNdRjphNcIqdK4CYrdjBJjGYjRglcSkomJuL5RiRkQVqBRINENAniggJjoqiY6VY1oi0JYttkgrjBYKo5YiZaLonQlP+gmGQPRIElwSEJT4oCUJLIkA9ro4kz8RRKPr9C2wHDYYQg3ux81nE58d5ImL7FGxQUjxINgZLDjo5naY4gpJ0lp5pxVJgwjSaA20k0t+odopOOikQnZxVIRkrwvGggp0ApuqTRivCjFKfQj6HJL6DpP6h6SkYQDUyXpJ-R31NagXEkopgCnbiRxFkvcb9HhR25qBkU1BEIHppeg044Up8M5JqZXicp3NKaIcPu51j-ehhdcKUTKnnwfAIYi1CbzMItSlihU0WnaifG1SJYaosPo1O6kFSuAotVwoNMOhqi7J6k8gENVAaPijg64aaQxBsnYg5pQwhaZpNegRTyprk+KeyNWlJSkemvfKW1L6lINI8QDIKTch-T0Ig2fkrcXxRJ73Trp+BKXNk1Cms9C6JCTOl5JuTxtY81wbyWhLhQ3IxSBWROnzkXAp18a5LapDQABlpsAI-rYTtFOrai848kM5ImilxmZi0OMMz6Mjzxpp01mqIsOmXwmZTE0sVKUGshC4ACARAqeIGVjJCgSA+A0UusbTLWhES9QhUriZOHOKnJ2ZaQrNsMDcnvSlhS8cGsIzwp84B8H4lHrLX7AcBuUggcYAwEcg-xyUMlNmSlylpy4QU90nbqiPoAm4H8IWc3C-ga4kycCSXQINuiDKwEvsEQo4EQBK5FA1ZGsgQFrPeQf5-O4bbgJXGgJg5p8jsiWgQXgwgyTZ3AaBmTyuxkZXQIc60vCmUApzK4+M+OZ7TwZVdbOU0bFMXlZ5XFM5ektxmgTry+EnhGMbNqyNuwOxSAH+bxkmW7zWzV8iOV-OQTZyUNf8Z6KfKvinHWFuCp2RuYHO7GB9eQFgdIr5jDlcUN8KgCkHwRlnIgvyM8sQkvMXlNzey7MwnoKXULkdUxihJostIuCTpTUWRTeY3M8JoS5CRgDye4TNIg9AgVhSuUUAbwoJa5o0bzAsE3nIEnxCRa4N5l0DeQ-xZGa+Y1NnLTzySy+PImaQYnJBDw18hBXIKgXUgYF1pYBSgoMytRkFALM2r11cKNEmCR9LlMYmCTMleZ-YoWYMChJkTY828jknu3dJJkYFBJfkl6DXkYLwpm8qhSsWfkGDGgTCigsC2ShsKI6ao4+coWSKiknxpbdUo6TpDiLdS-tH4Y6D3IcAAAguAHADlkqyxZSAAAHkAhjZFxvYBbK5I2yxfPhfeGHLdlm57Mw0oORNJfl+Jp5aMm1JoX8NXFrhDcu-BsURlIxJ5DYNvX8VeLbF5pDRdot0X6KjFJioie4o+ieLUsAYGclPO-KdNQKAoCcu+VrSfk0FwHRcDYugqogmWuSA7FwHCVpLISO8yhreSRwYg04F6RuQR1rq5YyFLiLgNSBsU-AKQBHUjOko-yddcAViypSksGDVL7FOBCZgNF17TBpSPCwZbvkUU3laQDSikE0tqK1dngdyepXsKKCahRhiKHtILPGX8NFlNS4fLMKGK80VyFyqZXUTZKtdbyEzHJqRLBJiThJ7eFZS3ItloIxBXpDYG1E5mqRxJi4N5ZSQq7OypMe6f5TLxxazLJh7y8iV8uWUvLnGcKhGq8ElmfK5J3yl5UfR2ATl1swC4GdR0wVmkSxJ+K5GmVtIrzSo1lZgGMuWLUgLcE5RYmcoyXFogGxKt5DYoTklpjcsqL0DkrjLQJ+VjshEuYGYD4wbFiixIZfiyUWhzU1MYpYBWZ5LY303qTiZypKV5BBWgIf8eEsGLT8pRBWPaHKpeW4F85bWetq0UZXTBNwbKs8jiV+WOgvyXoektsV+gzIx0PKs8iSoKWK5S0wqkLKKo-LQJXFkq43GaplWYZNwt5BVQZiVVOltVA8KCuqsdmaqa0PEpgHqvYAGqmg64YEgKlNXSq9oCa20B9LYK2qURAspUlVAYDMq6ZE48JYmImL8qBFgdd1MzKVIcqWV7I+tT0olVBLkQQ68Jf2pbVcq1g9ARVKOHCWI52VI6-HkmQYinKWVYTKJTor0UGLjFR5NYFupiW7qTFnCsjDYpNW0M11za1JVk3oIxYIxdqsdb2qBIkokYs6plU6tZUurfVLCi2VeunJegNFB5BsmOiA11kGyp664CWqGL-rnQbdK4ouHvWErrAHwsGvwPlp6wxRu3dVJKEw0a9wGOMdDYiDLrmkIZ3ANuo+poDfRMMhG7qFLPI3mls5FGpuChuh7CArARGloXhuBk3E8NRE8Bp5k42ZRuNYs24HxtHVUaDYkNDjXRpI2dMmNGvIMMRDbhCBpSIm9dorHE2UbQAW0hyfFDk37t75VxMjcxptiEbKA2JWjYiBqbPKDQwM1DVZpaGOach-E2zaiFcLmbsS1GtDbJuc0EgGJEK4STiCUY0bqAQm0ekJv83qYDBbmoUI3GzVFLmJOUQLWRLDaebvyFi4ZIJos1MRBNdG-FXZvZk7BUNeWspD8Bk3Wb+JsiwmSqA9DvBPghyt+i5WRXBa1E0m2gOFtK13DgOsW6UIkB+rAhaG2WrzVJvY0dbZNXWlzf1sQK9b-Md0BLaxOS3NbIVCwDjTlvqGGIlN8le2misK11K1lPITZUCEJ6ZBotbaHDQ4BS0fKttQolre1PwVAh5FGwTomBTqIvUkaT26yhqVe0uFBEeWeUNNsCCzb5tdKDbOxKY5XbzBLDJgMppGAbbT2k5KUQrINlXFBmfOSHgCL4HAithPnKSPSp00DD5pi0vZraN22ogZw5PA7Y0uxA0QTtNEJJUjtUgpY8YXCPCuUV007S6qBca8f5t3zYK+w6OVvm52hmRAJg7zQRUYDhnlZU684CkPzmzqSc7xgiAbYuA53E7U2-Uvap9pe0Ch-5-VAHbTsp4GgawCWtXbtIKhLaAa8y4SWGzN1QM-QpaLEDGTT64cQsAATi6AeYrA24SQIorkA6zDELuxRQmA9BlAWGiuW6dxHoACq85N08TDQFv7eh4eRgF3TIHQnoScoaALPRV1j2fS7kqekLnSsBBB76lVFSIPUqMwwQWGpNY1pHJLnGAS9aysvXKKobO7vdagGmaIBeJIsmdQ0OdQVvJ2dNZtJu0HUUq72SAe9EO5bTbrprj7XilQbXPDpIT7Tz4LWlUJqqoyjA6IvCQfnMyTJoIvQpU-KaaRjGvlNVCnDoLBT9XiYpgDAbfWYIrEhZFwA0d9ljw1yp7FwjWJrCvv6igBKSLwc-dnV76dAu1Ke9vZIG1KEAgxLWtBLCHzrIMXMMuOVd5UZkCy5gsBxXPWs3A2Vh1vauVecQwOOyZct++-cNUf1SIlCwwYmHjwb3gHK4n+r-TnXCU9qWZQBr-etHgO48S8Nq5IB-sYNk1-9EdB8Pwcaw57aDXmNQH7t2VrKjtxy7ZadsQJKSgtttZnRDU7B4U0E7eQYmLpvDT9CKfg-LtPrIliT8QapZ7d9oFAjFmMtam2OAwZS0BgwKEdfXSkTJ-LD9wkpybpJfHOHHQjHS-Z7Rq6xQwmkOkw3QDMNfa-dVh0RRchuID5nuaE3KHxxgUkQt5LACLPwmjpQHYJa+uWaztBUdTZAcR4DgLt0O0N9DR9W5XBrsUWAHF+2hkIdpp2IoUSOyzTLzUBLOgLiAyy5R1wvQjKl8W5L8h-ni1jSWt6E3mTIAl0AAdLAB2ouGVBQauARVHSAB3z8-+5+AjBnupgkGm86vLoD-usDSkxjQsiY4IumOzGuc8xpHEsdNLXB8AVGYDj6nXB3HQAAAL2gmgBpjgQfZUIG8qLH4JJRn1G8fWOaZNjNMLfTsYFgaY8AIWrpQ4ZQhjG5jvx64wP1AkmSmOXYJjsQCY4aEYQ6Ei8NeH2OjHvjlxv43SBROGDa+aRnKBiexjYnYKoJ9aEAA')">function apply_rules(pattern, frame) {
    return stream_flatmap(
              rule => 
                 apply_a_rule(rule, pattern, frame),
              fetch_rules(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p24' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Apply-a-rule</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_a_rule</kbd>
	</span>
      
      applies rules using the method outlined in
      section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  It first augments its
      argument frame by unifying the rule conclusion with the pattern in the
      given frame.  If this succeeds, it evaluates the rule body in this new
      frame.
    </p></div>

    <div class='permalink'>
<a name='p25' class='permalink'></a><p>
      Before any of this happens, however, the program renames all the variables
      in the rule with unique new names.  The reason for this is to prevent the
      variables for different rule applications from becoming confused with each
      other.  For instance, if two rules both use a variable 
      
	<span style="color:green">named&nbsp;<kbd>?x</kbd>,</span>
	<span style="color:blue">named&nbsp;<kbd>x</kbd>,</span>
      
      then each one may add a binding for
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to the frame when it is applied.  These two
      
	<span style="color:green"><kbd>?x</kbd>'s</span>
	<span style="color:blue"><kbd>x</kbd>'s</span>
      
      have nothing to do with each other, and we should not be fooled into
      thinking that the two bindings must be consistent.  Rather than rename
      variables, we could devise a more clever environment structure; however,
      the renaming approach we have chosen here is the most straightforward,
      even if not the most efficient.  (See
      exercise&nbsp;<REF NAME="ex:query-local-names"><a class="superscript" id="4.4.4-ex-link-4.89" href="./4.4.4.html#ex_4.89">4.89</a></REF>.)  Here is the
      
	<span style="color:green"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      
	<span style="color:green">procedure:</span>
	<span style="color:blue">function:</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-a-rule rule query-pattern query-frame)
 (let ((clean-rule (rename-variables-in rule)))
       (let ((unify-result
             (unify-match query-pattern
                          (conclusion clean-rule)
                          query-frame)))
   (if (eq? unify-result 'failed)
       the-empty-stream
       (qeval (rule-body clean-rule)
              (singleton-stream unify-result))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlKqu8kt0CYpi+EwmmYLK1CAFxK9KAwyAk8iw9D8-pJAeYAD6o4G+LGQg6EHIMADmCNOSIBhCMoHRmKxFkheVotAI8gYxN+-xRVJp2Le0Nw3xJ7PJvk5XNpb0YOnwfGEkn0iMFBi2e2eHxYX0oWVwZHwrNJKOMvmpoPBoHlyMIW2iT3iLzeCwJBPwOner0IusF8wAFtZ7UCWm0IW8Rj0zWSjAAycOgb3yOUC81GNhJ0CEb2Ue2W5U2yEMeQJHWh-VGgO29PyB1Ol2493miq9XP53qKrBRK2xZ4HACesMZlFofCheYL8bDJmLYPaMf0C2E-LZCebrazYlL8gOB2EBIY+aYNdHzRBJch9sdztU1cLhDra43W53hCbSutK5vm+3ZMoXZ7c71QoP5mNSd8FjPQZyWKdQMWPdAQ2Rc232cRXzvD9NW1Sh8AAD0UVp13iaC-3HE0ILAyDZ3w2DM2fQNKElahcGyOoxHIsd-QnaiT0rc83UvOs6AYXFmUIGj8DohiZibSkMVFMUywrM9XXwutilWKhaPokhGIYCSRWk49y1PKtuJHJg62XWY1LE+JHxbeDngsjSZk-bt6R-BUWIAktiKgryyMvWC4LM0B7M0jUvjQzDsPwXCmL89y-DY6NgOnKCSL8zYbNs7M3no2EdHkdCsJwjcYuMgjDwSvS5MMxTQF6HK8jygrIuirSAqo0B6sazoNPzVwnO-A5mP-QDEiUPQvxcvsBwbfAKh81yFza9sbU6-L6R0TshsxEbEpAkjUtKiiMsCyERs-BZmHvLbypNSqDK4mrejOgTLrJayokCs6IqKvDYuGzyktIhawzgzKV0hPidGEGYvmum72juziFJ42rIeh+J1W+qLitayTqS5RH5IvUreLEKGYdwc6NHwe93rB8Q0YpyhIqh6Zh3nfdtpLLjZClGrPCWhDTTJ9GxHVPiDnwABHbVdz+rmEp51o+Bqu5BeeRmMcpr5XFzEQMnZ38-Q8xXXV5lWUYAZlBk63klmWyVySn5Q3GYhoASHdwiEbtfSkeJjmTNq+3ZZEcWBVdqz1ZtaUSFxKnXrlw64p2+byOjldJchhOabJOH4qIwH9qgtKbfaulcFoahknzgufdk+7kZJ2qCir5I6cC1vq8odbNvl1jC72kvDrL5bwbeSZajd-uTdu32qoelHekn6Yo6fMfxDMpqfpKwOytnoCh98kf16F7ICW37H4kGme6-ENODr3o6l3Lt5ij0CLjYP9i-aJt0IrrIMUeQtWgzVCiUNYbwZRjCsF-YW-FiDjBXiFXQDh0iyCsBMZQUwUH6GbL4QKeJ8DWCkF8Gun84pYh2pCd+FD8Zcn6KAJIqQoTSHASpHUADKhYJqKvLQugDD0JpAALlLMGD+WFBHSQsIw8RRCSFkL0BBT+BgyhCOkeYeRlBSG4BriRFRUiNGiIij4CwUQB7tC0TomuwRQY7FoIoNUjkFhrGGGQYgzIdCgEdIQLAOw+AnDONQT0ShXCgEtqAcaIlniWzQLE62jwN6gBvFXPQqROwVFaHQEgOgDhwOoTyCgSwsm0ByXk9RMjQASilDKJ0FTzDGJlrDdJc1AYQRKWU2C9TKntJEqU3JhijHJPXKklpKYoIdIGcA54zCfSlB1HAiWxBK7qEpi4ggDgHq9AAFTrPwNs6yBD2qV1oMkMgig0n4E7JQTwFR0mUDVpQ3wSzQAHDIHkPZDgUnUEudc254yyIrPVHs9KophB8EiZCap0pZTjXeSCuBoodrQtqToUxNIIigHwLgSWTyuQvMmV8kZPz7l3HmFBN5Hz5mgo0QUygKLYWTMGRorEjCGV1JZVyURJEmXoqxOYsx1ITr8RYG6e5-zSUVFQusPF5gXmUs+Rwb5vybnksBVXYF1L8EEwhXoKFDBJQwqdHCqlawNiyqxJLISJEgVrPmWozlopxEPXFcMLoPRJWgGlRsB1jqNE2o1Xas1NKMVYpxfgC1zzDiIL6TkolBxRlXIeWqpYCqtV8rBbq-VhrUVjFjY0RFoB3aiitWWMiabXFYGLX6rk4jxGeu9b6mtLKSIVoIEdat5hMXYtxf+TlpaeX5qlWFdYGauQCoxdSCdux2pQwOJ0QgwS9AJELd-Jh7Bkx1QZGcxQvRum+EYScnd+6LCiLOEmDgvQZSSxIA+E9B6Xgitvfe09WKSAnB6AkOsABVBgyQGC0CkOIBxTibQAFowPjLWIcwVFjxBzoXcEy0LyQMOXqIqphKQ5lrEMLwF5PiHCoZCnsvoR7znWReYodxhHHFoa0CRq9T6HzNnpphlheQZRQ0JMsCB5QvUjvySWcRyl7X8a1KOmyndOMygviJnDHGDUycEwlCCCmuMEgzuINTMnQrib0NpwkymTQkQMxp0+zxTPaFmAEocPGOEVBs-mIz7RlVyb445iTH12qYWYAauzonpUOZ6jKvtO1xGzJ7tJ7jbnZpie1Ko44Q5pk2klI4g1bwmJcJi0FpLlDCGtAUboj+q6XhZrftkYrJXfDgsidLMgsNstYvNX2llO08TajHaGntEaWsaJeXkBwlmZSUA8x-HLTnOvSTpey-QeRmXNvMIwvgXxJYvtFNygr2jFGWelfpkN0koju27eGyN8NqLiJlWtxhVjFHKPNeiFMm3rFA0q2t0Ry3w2TendOtrT3FGf0okknzAJnTguZrQXCOHGuanGyF6k-WosEkG4jqzI3gv+dcYlib1Iat6AAISlhm-pxHzX1HIoYOC65SRF2emJ4pwkuntR0-UwltbLKYdY9HaAKdYbcW45oRVzUzWFu+B2Ns8X6iEf06RxwIb1n0cc489qmkO0CfZpqbC0z83pFsop3wKnGgl3ZbZyynbI7mdKabSLrkSuX3GIwr5-Q0Oviw+V6AY7fPdWpZBxllkHPGtK6aKAMXEukUll6Mt2cTpeh8o9z1snJZgd+ed7gV3sfjrtUYJTyg1Ol2KH+YoMlnPnOb2Cxuy9keCA6D3aKRhEfFjR-UY0+rSx8-DDVuopbwWm+lnfvnownesUO5B9oAcfxIeFDbx0Ivtv1u94q4Xgfteh+O9H+DifOpC-DH+Ur8wIftk98hHWgWoBIxiPdXoRfg+s-65z4b2nJF+9W4W4-tWz-m034NzTpRgMn8m5rRBIvu-tbqKIHj3vXlHtXoDkLBuISAQIQFoLiK0HmHoBhCXh0BfhhBUIYOwAAHwSBFLJbjwYKFA3iirxDoGEzVRkG3rxB1jBAdztR8R0RkA4wwLtqUKpxFwTKwKabcK9zsFw5wali8hLDFxkS2IbCD5bJfCkKdh2jkD4BNg94Pw8HtrpStj+JURHABKnDnBwCIDIDoC3CeCJJCz4CoTUw1QAgZBfx0qqgaTAyAj1KHrQxqiUy7Z+T1KiI5i2ZeE64dTbrnL9STS7YTS9j9iDj5jkQVA2Ha6+A+ETzYJTy-SHQuHJLYKbQWFhRWFbxYwtQxFYoMC2HAEaI8yRHSqDTnyXwtQ3yHSxHFFSHVqJF9i0YaClI2CwgyiaTkTpHZFahWFEYIEkCdEKbEa0A8I4LTz1FFG2HeGliaxixOHkh9Gag2CKYUzWGNHzGQirQ1FsH+HSSMIRZmR6B7HdRDh9ThE4oxH-5ch7ECF+QNFzHSItEhyOzhxsiRy7xGyrHqjvFMBOydHj6iwshPGzHxGvqQg0yKCEDXIvS5xJxPzpEzY7FvBdw1yHHL79E9wrKYnNxxFom8xsQ5xXRYkMJYprHPQXSIlGR7zPGQkNKri4TIRIm-EBE4lITvhskegQlVpMmQhbzBTTFPydrc7VqML9H1bMB6BCkiRrITFLKCTCR0SFGEmvGljCmpHIkclrFak-G8nqnSTGLvqlKPS-r-qAbiBdhMDyAYSgAQaUk5HMB0ysaTCbQxAVDnx5JxT85Bg5AJDowGwjZUSymMCk4q4ljunMwBlBnWCnGenJIkAEh5Lopx6laQpvDygSghkbxhkMARlYgEpRQUDEAcBSm5FUQ9y0AbT5mqJ3HSJJ7Og2HdBiBXQNmcpbwXG9QsCDQxD1kgGcremlGDlHIbzoTFGtncluj9n7ZrqnQBiM46g4SlmMkPpnTSrrG+Zugrm4ArGcqiIzZpm87x40gsAfr5k-p-oAZAYzpJJwmOIOmQbukwbu4Z5JLlEDiVESKKAHAMlPI7RJAXLnx4FOkDEynnwMmxFYSpnvnmFrGLG5jLH-mhZHgKHuKehZGWEymIXqgsxTyGwKgMlrmgCSnYXDgbFazrEAl0lGwMndLGLkXEiUVLETB7ksB6zCAGxqmNHQHPA4k0VAkuyglbG2GUIvKxzxy4gJBCTSoOD3oVkymSVCQIlkn1FxF8p+nEnghLmyndBSWEAyVLmFmRkJTKXnRGXSqx4nkWo7SKU6hZxkykl5xPEaVTpwUqhmyRGMBcnGozQ+moUJRAV6AzSgU7I+UsmygHIVD+VEHWnqCzD0BCT6n8S1x0qCWfEgkinskBHVAg7jQJV9juIqnqSaR9n6UqU0lqVPwDki4HCFVJUlWWSHBRLZyqUuUjwkUtEpW9EaKuHVgpUhGMjpwMUEF8h8U2g4kYmiWLLRqgC9yDZ4nVm1l+R8ovK2pHAcD1XMhFXJXynNWpW9xu4vIRW3iyibUdReUDinVvjGobVu52VMW9zQWr4tknDTlnGBp-kdmjk3VbhOh-nc6jmDlxFxVgXaWBDOU8m1gQmcElgRYbnm4vr2V5okn5EHEzGg0TUricmRXVW-goXw5zVyXllMVcn3hLn7Hal0UQl8pclDUeHm7k0fjXGFGBa03eziBWUeWTV6n7V0ZgkEmNGUL03XG6WDWs3gk-VgXSk6iDWbno3U1EXS3SRY2c1VIGoa5OiWhaEbw6GBL6GXBGE3BxJmHPDHjkCpibRoFw0VTokMhMgsg23dKMIYSjXnlmlYEtwO3ATiARTRJOiZIiT4BcVOjCKumBQnGhndlEC9kVDPWw2BUmhbLZkGq5kIRDBrYx2uCA0J1uVeZJIQwCg5kJmUHzyNzVh8Ckxsgl1USMFJJdkMQ9lxyynoFKx8xV1eB8FbwCF8Bt1mzKyykVBqzmYxxVlvVtl5x9223J0D0d0VDWzY2jQsKI16Z8Tbn93VhPSLnSpDDwIb2j3EGr1M7eoz31wcR-zLDib0E70jr10gK33iZbl5yn1J2HzJRkTepg0Ah0QQ46YT0fVxFn3iD6K8WSbtTmWjZANv33yAz51YAvKpjWAwlwkTkZBTn3hoJFK8CsYnHo7XGA2VHoHiIEPDriawUF1CweYM19nBZB4WDq0QRK6H2l5DhLm0O5YGgMPCEkTMM8043D5p0ANXSkNia51rjIPC0wMdQAgEipjjTOSMg+kXoyOEjyOajlJ9UYGjB4O2aiMaMJZ5ASNoNdWqNyO04ENGAAA8Zj6jK2JFi2b6F5vQAAKgyJhgwJ2EmQSDCGSEcG8skWHbVKAB4A2UgTJpTgowNEYB4Hvb0CE0DdbuE4SJEwYw46ACac4247QLsNIN4740wP4+cjUEE-E6EyAckwSJE5Ywk3Ewk2E3iBE-rlfXkmDWRooAzbpdcYTWOeYcUe8AyBctA+ooFNtSyPo-Y6dvOYUnyFEy5JowtpKf0ychcj9T-ZXLARfMI3nKDf-qItceXrtPoJYw2YwhBAYw2fswlS9pYymi03ObBjqrVsUYc0g+hL8Kg9s0WCyh7T0N07VL+vSBKBIEOK+fyjZb1jSBJWXhwJA+jm5a1iWGM7KcFjQyi0liOX6tQ9+YHl9u5cITYQMw4h-GAy-EkqLYo4zXpv8xzsM70-xcs4MyS2JZC3eTAdcxMzilVmdiIUUnM0o+k5UoSys3oHces3-Qzl8--I0YK0yQcyoxBCc4s68kQJQOcytmQ7K6+si62pS3knc2k19okzSLjjYa82mCg9clK9y+YL8-y6ngCwwECwaiC-mE+cMmdbTG7r4Omay1Gggpzg4HC7Zgi7Ski9c9QwQ+i05pi46tiyOhw05t64812urcK0y-A34mAGZPrXoVAAYVcMYRgGbVlDGcIIGfrPGaGf2SnGhQ3P7DOYwHWNhOW3Gffc8C2xW6HdoL8AQPeD0TW-9CptwWRLOchnNZ23GenTMBdQ9EIlslOHvRYFOJyrVViFsmBEu5oosKu8AVssGFu9o6wCymu74FslxIe1xLu-OwpFejM7gHvTmEUtIqexYFsghvRJ2HvR+-IF49JK++YFsr81u78ye3u7e9Tp6BMHkAcEMJB9B0cKKAB5dVvW4IexYKgRUJ2ImPgfaR4H+8h1smBuh+YJh6ANh6BfaZBgR+B1vdFVyGRxR2wLh6ANsuR+YIR7e8ACR5El7Uxyx2ADRze1vQAKQ8eMc4egD2kifsegCcdb0XrocSeUeHPYe0dui9B45JhKd8eSf2laccBqfCcadWPie6cqc2PmBGf3G3tWNsAkfKfMdSegB2dWfycae4FmdYd6egD4Fufqd9C4H2cVBYiOcsdBf+fGd9B448fOe+BOfmAE7mBoFCLNiUaxmVvTv1AEPsDqLBVTjDAZfds5tpcTtFfBlby0B5AABW0Sm1eXY0MQoF+75XShrSR8Sws5yHWIk7mXJXOD6XrbmXSphTmyCkWyM2e9M23XwNKHGnkADAMK0MX7IXC3S3cJM3wNWy8HsAkAW7O3kAm3o523GgUHAAooe-B2d0d4OVsgAHLyB3c8cPd3das1qlcBu9fdsjcqV6u5eijBXUCgUQTUAJZffBk-ewWDddsQ-RrKmVH-dciA-A8jvfA+odCtfUULCFMsaBTRng9Vt5mJnnxcToHRnDbVIkC4Cdg6bVfyBZD1U5Cwmis1oE89sqC0kDvhmxtYgk+uiKhYj8PWn+AdNSs4HSNNloMYN5wvp5V+Zs9byiMdls8-c0M3cWBy-6AK9VlVe1dCCA3K+Y+q9EM88WBvOWtS-vX3igzwEphpgEiVxGOUxSsOBWrBFi8sa60IS5tnD5tG3XCYAlsrjr0aRCCUAOy4j1BJAkA1wxZl1Qgwhwg9Bpxx9SHL6qGf0rBaoxO1SUBlOvKNMpPNMp9Z-BqQmiIl+8brB8E-BJCfj4AXHMDHOF8plk-UDUAwgUBWHjRent+SdHAeB6DyDt+HO9DxN17xOiJ1MeDD+g+m-SRj8VCVMUOsaMDdSSzjQt9enJmA3VFr-ZCSxNBezCGVO1N9AJO1-5SSyN-GrBV78MDr+xbenmqxMGAx7gNJL79xw+gsAJBD-Jnx9RC--DTIPnrBFIa8XKUsA9HPgRhww9SPVPexewwCjAD2NOMgNAAGdaoQCQfD-hAgwDR+gwF2vvVD5CQI+jkaPjXBgGjUEBkxFIkxHwGRgT0vhaInkUKhXx6BAAtPgEV6Dn8PAX-SWOmF-64D9A3pYAbBHqacp4m+fMWpERmj5kEIVNDgRphz4nopBCTfgT-xIB-80BO-MQeILcCqC3+o1DQaRldB71IKGtR-oIK0FcCRE5+UYFQOXwmDegB7CoA9AggwC7myAioBoOsErpD8dsFvmINAEAByfPiBViZhCe8lTSJjAJYaWCD+1gB2CQE2jJCKO0jJ9rM3zCwh4QEENIer05QyEDUcTUpHEwAwPhrw64UVHEwYJdInBD-RIcIL0D5C7mLQhId-z8Hl92hG-PIdqBSEJYSIbQ3wfkKXqgA6eDPagEz1kojoYyVcbGD+Xj7II3Yn8aQreyWFWQHM49NgQUU-jz9MMFycYWuEmHCBYSlNbCHMPXDb8UyCw2wViBaJyCVhy+LZIMCX6UspoURThJIi6EmIheoANIbMOoDzCKEfaLSusMyxfC8UElKsvK2NaWo3hsg2zKwOahsEVEY6dLhcMljOhvSDgYKv8POGAjLh3jQaKiPoQ7RFelLUfge0HziJACJwAkZiImA78EsacfEdjErDP9bhCRNlo5HlaboL21IukWyKxE78e85I78KP0OGM8Th0w8TBAJpCyIL8YolyHsOCqSjjhpwzcqyMJGiCDEPecREqMZCFcMR7IpkdZW6wZkaBDwiEb1h2jPC96Mg6aCGy+FmiTsNoxPFhHTxkshYD5T4YoHj4XZJEg+ZRIGLnx2suEvQC0jeT9rbCcYKYTsI4nbY2h16fjBYcA3sE9BHhFJfRCGMgFhisIV5S0reUVrB8xA25WDmDRoLOIJicICYDoElD6BgR6tH0amJUbLwqht6d-pQ2eCxgsR7YxyAIUbHCEQepYlMSSK9Hm0EEgkXIDKS4QeYfBTrWwM6GKBqtPEBAEgHAkCh0BFAWRSRBai0q0JrR+6KXOpmRzS5UcUDfMcXkmzCF1cRqWbCTn-y65nWS47ICuINRrifyruPZsLG3EW4Gcu2LXMmy7Q2UtKAYv0TazvhHtiQv44MeBIqBbjNo2Y8CUBPdwQt90dlD0eom+zq0EJCw0YUgWAgJAeEI+SUJ+2NQHB-kpE39pWAOCPIMhiAiiZCUYRUTOwNEu4IYD1EX5FWAsPYTgSc4ES8wxEtOixPIlEJBJraHiSrQWwiTnQtEjQqxhlCuAmQwZGSeNEonYpqJskuierUyGpoBYg+GSZ+HYldCaRgMRibxMk6KSWAyk6wKpMMm0TDAew6RHxPwICSiJEk5+EH2tJiSiJfAeiIZUa5NtXk6BPyRoF8znRkCf-NyXfguSJlWm8Q0KYQHCluTN+kUwAXyzclMSxquAQ-GEBsnCQyJ+gfdIqx8k3cXJuwfyclJ8mpTCJZaVNKVPkmsZJeYOCWK6Bfql8+MeUK8MXnEpzVTMp49TOeIVwdTYsfDG8eKE1p3i-xIArRk2QxydSNAX4oZAul1h35v8ZuPTFrgqBdS08vwlaRxTWl55FpQUY6bvmkYeZR+leaPLCIfQQEq8cou4ViiaSt5jpXUpfBSQunmAAh4CS-BoHenyiV8I+FqYcDam7gF02006XQ2+l1o-pp+KMEfgvxvTqRYUg6bngfxQQF0BQ6RCRDelOSnUKMyGmjKaGYy8ZIBCCLjKkksowCc+O6dHlGHBIRIyQCYLMErF4RWZYgCoHiOOn-CzpRNANmjN5hvI9yDgfaYTPvzNC+h1ycGR63IIcybps3aSDzLoZ8pAK9+QWaWUukN5q8g+UQtEJkzwFEC1UgWbuXJCjDWC1gTjJhF+n7xpmEUmTMTL+lg0fEEUwib8glRXJtJ-rXEK8gcA+I3ZdyD2Q9TrZE4fSjCUQhk1eSjDLZGESgPcn7DWzZqAbdJA4EAJ-SVZdbd+OkiMB15BgEc9JJaFt4uMAAEmd0oAABBcAOADO4AAlFxpAAADyd3ZABwFEI4NAofAIgMEgmB9jr41s3WK7jTHmyrMkoDCH3I4pZTnZ0c9kT3JaqiyCyPeZ2V8G1gzz+I8QxeXyG7k3oZ24vdWsXNLkVyq5tchuU3LXmqsp5vYreb3LnnoFnZKU6ObHKTTxzr5lQy+WIDAxuSI6EDTjJvNlmpU55A86RtFMSnBV70XUmEHgTZwMzu4O1dmSyDAVfoMCSUjiq7nn4dyacP82grPIJkMBXcNvIgKAD3mUBq536AADJndm52UtuRA07lQdggg0f+T1OkZDzo5Y8wIBPLPma0MIlYOhawvnlz515lMHhXwQEUkEooO84QoQuIVkLwAp8oSOfNEX0LsF6BaKZrxZ6cpb51U++XHJVjPyVaT0KwO-J8lNh5+GiyKX0BeG1RgghiyKU2ArGZEFFvCgBerSAX+SQFjqYIKBTZzRl8owQQQm6iQWBAUF96NBV3J4UMLcWvwjcL2ySGSyJZLAKWdgthwuy8wyinySNlcVjQRmMLfAvuhUXKASJGk1iUVJrQwoL5v8waFzICU4Li8Tk8qdGR4WVL+5xebrpG1KmjD7K4fWJWkKSWZTepAbKWE1w4B+zmxbQ3oB0rSFgtpsk03NAMvDJEColHPTpfEriUpCelpU0arMsFp2BCmKytTpzmSUroo5UCThfMgTlpicQQQ1OeSBQGoh58yfX-I7PwnDEqgK81HCwtgVwItK0c05R8pKwvJk5HALRY-JVgfLJsLyDvu+g-CwKDliPBbKYtdljI2xr8hgNYsIlgtfAVGMVFchfm-zUVeYTOiynESwLsCknCFaAiEjQrMpbuX1u5S7E2hcQpSawOMGGwsLbEfS72XPIcDMEtQbBWxJpTKzDzMIpy6+X8rmoArH0I8h+dciflKKwVc1MlR+HGBuTYVzaeFSgURVWKP5KEzFb8noIGKP5PPcRMEBJWgUFVTAURQcv2w0qfWvwnsRao6KwKh+K8+Pr4o+XyzHGdq11c6p7x2rHVoKj-mfDrEYK3YbqvtAytaDBr6gLKzhU6uRXHU5qjIMpZgv4gOBCFB8muXXMbkyLqQaayuRmuPkUKiVK8k1U50TWRrDgQchKL0FOSdi3SQa3xWyrDXPKLV0akeYIXjUBsy1dC1NSXKIWkLyFfKSRf2sLUX5jVkSSTl2qsCwVhC1a9uEcveawlrkfEarqGQigBUdJiAtdd3QqrrEV17YH8uuqHFwMYKfBHCEJGXVPBiRJ6tMUhJX62wF1qDOdHuoQgHr0pszLdQlJ3VPqngr6tMbBLvXtQz1NEV4M+sIBXrfy6BW9XwUkAEhqYzoNIb+ukb-q+CaoqYcCUFCIbDQR6kCB+t+HLraA0CC9e2EBqtK0p5yt4BbyI0vqqNYGrKaRsIk958N0CIDTRrqIMBQN+rE3OMtiXmUaNzFDjfWTFIgF6NKS0GDquXjFC6w3G+JXvSY0FkqFSSJ9QRrgUgbL1aysjfRIfXXJv1eZHTfryym6y58VkqnsBBUmFLjUClcikspSF6U44yVVTfur020b1NhEwTTSHKlKbmNUUezQcA416AnNnGoTVi1RZUqtg4m0oVJqs0TLtpIG5Tbj3agwarCw5fZb0sAVpLgFmSuNtkv5JgpN1UW2JYlqb7WbNoz-UmYOU2YGzZgKUwPIIiC2VIKtRAQ2WYttyewI5ohNREFpE2HKbI4m8oXE2k0pC96hWiTE1K4Ud8Zxu4iXkxS4RvMHeVXTGJOSt5hhRhqG6UbpWS1dbjYO0FxRoDcXSILpzHbpJhBEjuIdQ16bHmHBlINlVtpwy8MAP1ac4ytpHDIA5hw5rNTSPQF7e6sHIRjryVpRBfxlYCOkymVaVrb4F6A3aZR2oWxSRUYQNaECVW6qbPg1Ltbukm2sLe4j6CQ6ly-W-LTJoqDY7vUA3OakkBjk-svGHAAAJy8BAo5Og5eNA3GzpXgKgX9gcu0CuBN+MVErFpSAG4gTK4Lc0bjnEAqNOAEE8nXoBCEhC6waAGXeirMRoSWU4ukqQ8xpB07opbhP5mktbTkgYqDpLunixtW+A1daSjXT30wxk7mdn7CsbgDkLoUztW4RlS5pSVpiutGOjTrIV-Z27cdzpGJfjuSQ27Pd6YRQvFqSRai3gCGmUJiqlQsB6QrsdIXzO9lSwHAeIwUeuF+nf89UD-ajLE24C2L+VkSA2CQFj3LcMBm6DcAQCYASRWW4u3oBBkgxh6-hksx9JivMB17Hw328XcMK6WbBUJ5o4wNOlxzQqECPcKoHWONRSx+dvgT1ZggdUryh+Qa6FQIQn0oTcche4vXCVL2Xpy9b0MXZbt-Z9A69jpWBckjH1eJD9EGdvb62+wK6uQNe8-ZBjSF+AhZYGp8ufrl3mBjdZi3JWkr21ZahwEC63F3uWXS1ztU4qwlLFhzYEvt09JzrYSxky1qYxW5oUv31mNbEdZi0Qv5E9FeTdgO65kAcCkDwhI97iROYnuT2SyAR8wx-pnpb05689Ce4gB5guoDbUhKBuAmgfp2YHK1c8BPrMyYNZT6wOTNGTJhOkLA907sQ8g0I6ER7JxgJcA+130D8GoDr20CnAdGHeLRFfixvfEuZiJLtDKQtHJwwYOmhHaoihwKAjYYxZjl7atanNU-zqzhZHAE9PYaJmNLkFKtblawV+imHbET2rEErKSzpyEo9hk2ZrMgIPSH0hm3MXjps3jBHiPh2BE5Ph1NbXZIRksnuUalh6kDIQysXoAVmgAAAOlgFdX5K06w+vgKUj-7tbyO3nc1H6il21Q19EOJQs2CyMIacjfYvIwrKKMlG0szoco5Ud+mjAyAUqBLBkigkjHQAAAL3R6FH8YmvdMBMQqNaCigWHCoDMbqPNoGjvQJo5LGsjVpogeB-iIQZ6A5HSj-RpY4Mb45uC1hcTPIHE2oBxNq8GwEIc2B2BtHYlZxvo4sZGxXG1jc3PoPIDuMPGnjti7Y4+CAA')">function apply_a_rule(rule, query_pattern, query_frame) {
    const clean_rule = rename_variables_in(rule);
    const unify_result = 
             unify_match(query_pattern,
                         conclusion(clean_rule),
                         query_frame);
    return unify_result === "failed"
        ? null
        : evaluate_query(rule_body(clean_rule),
                singleton_stream(unify_result));
}
</pre></div></div></td></tr></table>
      The selectors
      
	<span style="color:green"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      and <kbd>conclusion</kbd> that extract parts
      of a rule are defined in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p26' class='permalink'></a><p>
      We generate unique variable names by associating a unique identifier
      (such as a number) with each rule application and combining this
      identifier with the original variable names.  For example, if the
      rule-application identifier is 7, we might change each
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in the rule to
      
	<span style="color:green"><kbd>?x-7</kbd></span>
	<span style="color:blue"><kbd>x_7</kbd></span>
      
      and each
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      in the rule to
      
	<span style="color:green"><kbd>?y-7</kbd>.</span>
	<span style="color:blue"><kbd>y_7</kbd>.</span>
      
      
	<span style="color:green">(<kbd>Make-new-variable</kbd></span>
	<span style="color:blue">(The functions
	<kbd>make_new_variable</kbd>
      </span>
      and
      
	<span style="color:green"><kbd>new-rule-application\?id</kbd></span>
	<span style="color:blue"><kbd>new_rule_application_id</kbd>
	</span>
      
      are included with the syntax
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.)
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rename-variables-in rule)
  (let ((rule-application-id (new-rule-application-id)))
    (define (tree-walk exp)
      (cond ((var? exp)
             (make-new-variable exp rule-application-id))
            ((pair? exp)
             (cons (tree-walk (car exp))
                   (tree-walk (cdr exp))))
            (else exp)))
    (tree-walk rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlKqu8kt0CYpi+EwmmYLK1CAFxK9KAwyAk8iw9D8-pJAeYAD6o4G+LGQg6EHIMADmCNOSIBhCMoHRmKxFkheVotAI8gYxN+-xRVJp2Le0Nw3xJ7PJvk5XNpb0YOnwfGEkn0iMFBi2e2eHxYX0oWVwZHwrNJKOMvmpoPBoHlyMIW2iT3iLzeCwJBPwOner0IusF8wAFtZ7UCWm0IW8Rj0zWSjAAycOgb3yOUC81GNhJ0CEb2Ue2W5U2yEMeQJHWh-VGgO29PyB1Ol2493miq9XP53qKrBRK2xZ4HACesMZlFofCheYL8bDJmLYPaMf0C2E-LZCebrazYlL8gOB2EBIY+aYNdHzRBJch9sdztU1cLhDra43W53hCbSutK5vm+3ZMoXZ7c71QoP5mNSd8FjPQZyWKdQMWPdAQ2Rc232cRXzvD9NW1Sh8AAD0UVp13iaC-3HE0ILAyDZ3w2DM2fQNKElahcGyOoxHIsd-QnaiT0rc83UvOs6AYXFmUIGj8DohiZibSkMVFMUywrM9XXwutilWKhaPokhGIYCSRWk49y1PKtuJHJg62XWY1LE+JHxbeDngsjSZk-bt6R-BUWIAktiKgryyMvWC4LM0B7M0jUvjQzDsPwXCmL89y-DY6NgOnKCSL8zYbNs7M3no2EdHkdCsJwjcYuMgjDwSvS5MMxTQF6HK8jygrIuirSAqo0B6sazoNPzVwnO-A5mP-QDEiUPQvxcvsBwbfAKh81yFza9sbU6-L6R0TshsxEbEpAkjUtKiiMsCyERs-BZmHvLbypNSqDK4mrejOgTLrJayokCs6IqKvDYuGzyktIhawzgzKV0hPidGEGYvmum72juziFJ42rIeh+J1W+qLitayTqS5RH5IvUreLEKGYdwc6NHwe93rB8Q0YpyhIqh6Zh3nfdtpLLjZClGrPCWhDTTJ9GxHVPiDnwABHbVdz+rmEp51o+Bqu5BeeRmMcpr5XFzEQMnZ38-Q8xXXV5lWUYAZlBk63klmWyVySn5Q3GYhoASHdwiEbtfSkeJjmTNq+3ZZEcWBVdqz1ZtaUSFxKnXrlw64p2+byOjldJchhOabJOH4qIwH9qgtKbfaulcFoahknzgufdk+7kZJ2qCir5I6cC1vq8odbNvl1jC72kvDrL5bwbeSZajd-uTdu32qoelHekn6Yo6fMfxDMpqfpKwOytnoCh98kf16F7ICW37H4kGme6-ENODr3o6l3Lt5ij0CLjYP9i-aJt0IrrIMUGOwzJHD4CcM4UA4CIGQOgW4nhHgb1APgVC1MaoAgyF-HakJVQaWBoCfGWJ+gdWhmqSmqFDYKkIb4AAXKWGa5FqEWGIZXWgyQyCKH6pNCh41nK9n7IOfM5EKgYIMEw8wdDIQr00ow6SoBiGTE2igsKaCt5YxasI5BDBMFlHEdJHmAiKGDXPpfFqN9DoiO0RsLA7sJGlloIoNUhBaAkBsLCGUMi-J6OIcorUaCHFOJcW4vIHjHLOImMoKYniLFaMwXoyRbxNZi3weSbxyDNQ2AYOTLW6CrHxNLKtUxONZHSWIUkVIlAzJ6EKd1IcfUJqMnMU-XRcjWlYkKb3TRoj8k4mlqHJ2bi-iR13kbNJvjPx9MduHNkwyWR+UsXEuRCT0K-EIJ2HOV0vFyOIRKKUMonQ9LeF3GuWzSnpPVMc3JizpLLOehdXOScn5jIyXc6mmzm7dKWauXCyFHmjO2ec7WPz3x-I9LEsRtjQDLK3sFaeh1IXmBseYHxqDmB6BhSJSm4SJYLCYMJOiXS8lfMhLC36h1nnqlJSMsFnybnIJICcEMzdegAFUGDJAYLQKQ4guxMHkBhUAABaQVgKyDUzpvTUAij0WMAqOfA4X9hB8FAHoSE2FhAJHRgbSpVEZUMA2HFeGiFInrPVZq-W1gqkxDlSQAkCqfDmAiMg3AksXjKtVYkgUEodUbz1Qa-8FgcV+AOBQYgHBfFirRVvTpMQDAtLaQm3wmFmBZPQto7oYgrp6MTXIretTeosEGrG+NObS1SttQcEtZbE1qPTScEFbpY3pRpNgt4Z0eE4VDWIhNxD21hRCGIFNbpO24FSQmuhuzpSygdaAJ1+AXX4ENeYFgjK9V1jZRyrlm92prMcUKkVijrIWCiC-JBBiBxGI-lhSt4Kl07SSIoPQ592AAD5RVoPPgsuNyDr2jyFuMpJuYUlfsNa29M5BUxKNRcOLJosgPM1aKzNB8zwXdoBRG5DIsmYS0maChMX7s10Iw2iwD6odYsD1sIA2hLMGUSQeMkOUznYRzg1cr+wt+LEFjvHXECQhIUIcNmiwxGdTcaEi9B5RlmmiJnW6lVp0AyhS1KJ7oPHCB8aU9qf1TCdpifOhpihsm50LqXUa99aKs5kw2XneZMnqQnsQULc9lBGBIVlHoGaCrQMlgfR5ocr7aoACpXPAqdIFoYEghz2uOu1A46hZj0CElS-itcwOMaYAMl2rHTlnOqACfQcXmR9jIElzFllDjotU+J+57yn5xqE6KQrCWSv4vUppQalnU0Sdq0baxrTlnJZKWch6yWuGMnToRiQFBcB0f-Rky5KNRGGqDb3Bwxye60A2uRWTQbK7qBdQ4JrxXSuiQctfPQvdmy+CDSF28sojgcGc7dt8TpqlVy+NFge7QRMXc252ERGEU3OgwRmhtb39uVoa9WxNz2txOhvVD6HbTRF-ueOM15icpO-hAwG+9KRrB9uU3oRHP2vqFSvtS-DqHZto4yW5nrNKrHLcOMQAT4boNPuBfeTT1h1HFJQ3Z3wbmxvkP7Zzu73OGkpO-RQr9smdqGZi-RjJg3FtM4DcLqXPO9Cjal5oxH0kfujYoUUslzSDdlpR-Lksk79k6EtCAqiYCIHnGgVcOBaBLaOeeMeCDnpNoYXY2B+kjJgIskD6AbNxCMKTZXS4vQGE6wh6ZOICKIlmA6AqK0ag+AqNOhoRKwK5TLW6vzUQQtFRe44+9uIB6vR5TerMkMA3ZfXA3qr+C0+PvPVskb7qvgQejzz0btWPgpNe+pqbxnbdG9mYMQLXHdFg-Tbx2VuiioAsu8xyohtrbA-vMr6EmvsfoA1Zb5XLWjIoOrr79x9zM2x+KjWxpzaYvvM2La74kO5fJo6+E+1BFl-mGOftRP-jqBQj-vXBxH-MsMpnWGAR3O1GAZkkOrAVpgfoPMlGRBAajjaACHRLQBuISGmlfvWldEtnfglCRHZh9O1HpuAkOB-OrjXrtPoDQVgEGqmLzqsusiDmQWSA4LyDNt7q-vjpUj1DqFLjekYpAeIMGLwgNBUDISAccEOCLkWhIU0IaF9vfIDAwfmNPqofmDzhoUOFoRYCwSRPoesC-iuMmvliQdfnnFIUoR9pXmuLzswToR1ACASKmAoS5F5kmI9r4f4ZqAqlHh0F0D0G-tYQEY0q4S6t+nkB4SQWhnSgQISP4VIUYAADw+FZGeiwERE9r0qrq9AAAqDIoASQDAnY5aBIMIZIRwIakSwg+etUoAHgFuvguI+IBISqm0ORXRtUdYIxPRFgfRMoAxfAm04RfWbSRGDK8elR1RfA0gDRTRTALRHCNQHRvQ4xSOoAUxhIgx8RSRIxEWBx3RRxJxMxcxH26Up6TmDI7CnCWuPCUu1evggUGC7wDIj6FBTCgUTW5x0hjxpmLaQ+UI02YJ6RpaPi2i-xDixORxy6sQlcRBF8fBmaecKOExdCUu7AyYEEORExyKrBxR8JZahJ8WQMcJ8wUE8xV2XIUQooSqKqGCxJHAXBKyigayjh-BRYyOyxPQXxtUbK9IEokWjYLJNIxmrqAaooQa1hDg9BEhTBtGQmO0oJ1h6h6KmhVaSOepl61hzarJ9mLBfxrCgJVithiEwKIu2u4pmo3xFgvxSJNpmp7GPxsWdJLhoA8xkJWIYGQhcJBuiJGQyJj65J+BmJ0xgpuJu4+JpahJfCuA3JlJZJ1axCksQkEE4RiR1J46xxdJJEORjJ2BjxcpWITqTCHJmpmZvJNM-JvBdaSZ+8ciceYp6Z66DAUpWSMpi6wqUqXOb0NZvgCpi6SpXIKpEhapVW4hjBgurSOpdJepUhBpZhRp0OJp-aphBhE5x6lp3h1pAJ3pDuYAoCxwpwrulwsCNwGAIh48CGGqWqJevqsaKc0J0B1U1qtUZq75iBSCgFFq2gvwBA94MiX5-0CUacTaloQaoFeePqCED2JC1Y1CdeU4EWFgU4Ca9WXIdeYEuF5gYEBFO5GFbovQwYpFUR3QFFWFCkdUrodFXEjFRFzFOY02EW3FfIcihFNIdeUMBwKg8gnYEWIlYl9R0kgl7SzF3ZpF3ZbSclvgdeSQqYEweQBwQwGlnoWlRwooqlFgdebgdFFgCeFQnYiYb6AqHgMlxl5gdegq5l5glloA1lAWAqIqDllFde4WFQNI7lnlbAtloAgWHl5gjlVFfQwArlKqieHlNloAAqYAvlTF1YvQAApPFcFclQKllZFaANFXXsEeZXlV5ZmdZX5cxQAIRJjlWJUhVhX1UcDVUZXUW5G5VNX5WgD5HmDtWcWZW5FsCuUVWhUpV9UcBJU1WZUvrdVWW9VvoDUlXMUvqjWBW+DjVhXrUrWzXUW1XxWTW+ATXmC1UWCB7ULNhIU5DmooVbxSHsBMK+ZTjDC3XvmoUzDRY3VvlgVby0B5AABW6eD2z1Y0MQAWdeyFBsEW8FjAsElFWI0NH5aFzYHBLOHQ71YFOKgk6FD0detusoEWhNTo0VaJalzFkADAU60MElgVVNNNayZN5NTlzFellAsAkApF7NnNzNLN6lGg+lAAonRezULXzeTXXgAHLyBS3xUy1S3Fks1RW8A-V3Xao414qPVsBg2PrUABYQTUDfrI2ZICTbHXUY0m2a38b7lPWii+b60TVpxG3G1Y0oXW3RaSqKKvnq0o1uz-nnxcSyFSomraCzC7IkC4CdgJmA3yBZBxY5D8mok5om0aoqCSbQXw2I2iiB2uiKhYhK5Cx5kcKJlg7B32Gpo4lg6I55ZZJ6Am0PXpkI5olW0s6CTqES1C7KD5b11u3ar-VA0g0VDknmCt2cbt0yHZ00jNk8Gl33igwEDEC8kEiVwpGUxV33iHb+CcIb15xo2O4bzO63lQL3nXCYDPkMyDoaRCCUAOy4j1BJAkA1zKSlDrAYH1zQiwjwhpwv1rCwRMLEIPxMkrCv2wSXGUDXHHF4jTFnE-0gN-0LE0h0JwMlAIMqE-BJATK1IZ7jTQOEheaUEmjyDUDUAwgUBoLjRyokPJVHAeBPokOZm9AHHEJMNQqjGdEeDENG1T1tJMMVB3HRa0FIKMDdSSy4P9E2p2qSMuYMCiNv3GBezeF3GXF9AjEYP5SSzYOva+YmIiPZCSySMKpGAeBNi9AqF6Nxw+gsAJBPq2rB18VLDnxK3yK1RCG9BMLLIPROOgCRh6Ieowl8j0lONGDoiUkkTBOgCtW1RAIAMqoQTePBHRPuOtLEJf7X1CR32OSP01xOOTb+PSJuzeO+MJo5iMFqLk4aLBPOPMK1SqMeAWOSzpjWN6DxMVq2MEhgM3G8McPHHplTSCKiY75854QRNdOtIHGQMNNWMkA2NpzyrtP+RdENamOTZTN9BcQRafqgBTNNMzOINYjLLyG5Oig7KyP6M6g0XRERYPStMdOVmON2Pfo7OuAJDOPLJ3ELOxO9AADkkDz6JjvzHjUD-RZxTj5jZzljt92oJAm0DsML9jPIsJ+YX9PQEEcLg1ytdezIOgVxLiVxnKD41464LAhLtUwQTY+zvgpzcjLTgM6L36JE9LFQzz1jbz2zELYjaL0L1VKYUETL7LcjULLA1l9poAsd8d1AidNtymCGVc2MV6igCLESNQq8TEn8sTWLbRqrWkFQ5TzUxSn8PDvgvm4ra4krwg-JPOsrOe64hjCr-9ooyyDC6rJzMVAwEWWuAizrWElLFgRGWEor6L1r8rn8hqDZUiWrMin8PpHGuIuwO+RJHATCnr00ZTQzFTBrPrR5N1crxLzo8qDgvmQb2EubN68z0bsm388bs+ibyYlz3QyTXIxC8hEEJbNrks+bFa36acbb2MlY8qDrXIdCjd34jDGzsTvbebEwFaQLI7LkjDprCdFr0rABE70ReqCEIuRrFgJrcdZrUrVrk7ZbbT0bbL8hc7jIb1pb-bXbRmzqrq4bPIy5WbpmO0degw-DfTXrz7irNZU5r7JYEURmhdzwu6OoobhD9c8hLrTblJMHSDZR8eACEp7KnK3KP6+rNoYHwFQsQB2x9r791E0HPrsT1BJHjriHPQyHrKqHW6GHO8l9dg2xhe7UN4JL9Q4ScIEwOgkobBPrhHKYnYjiBHiTy8xLJAD4KhsY+b4njknSEHLBhtg6zR9rwCYAASZ2WgCwawwwJWUqg5johAWAICLu1AnoSgrgoAlsKqWczwlsnunuYiXt64VcegqQ-2fgdAJAOgBDLBDjYwIkLiPn1TFJJNOgseMssM7nc0gMEE2eQXRjIXNTcXgX3nJRixo5Bwrn0XvLZE8XaXTxF9NRYh2nhQ7Gu272WKr9Dg-lpX+A4WNZgUrCbxbn+A6yngFQ7nlAaswZQaIaeQdXDgN42XbXlAHXuXSwe26odX5pNIj7MjkoU6r2-XM3MbUJCUYXlbx69705QmQa+XOgQ3Ln1ArX6ydw9z40ZAA3oDR563c8C3ey7mB3SXrrYXBJE3AXXnjQW3jqJ57p5c-EJLp3Y3nXo353gZ-aa3sbxAK31XHAw3J3XX43JEU3VXaD9Z7qkIYXl313CDwZvRRAZYZEqPZYOnI98hD0SPww67XX4POB27CaKPlXpPBAR0oo-7M5NI+3qXh38Px3wP4P5ZV3q3P32ImP4oWSj3r2z3MbCKWIeZRPSwsPZPcv0O8h8htPiRWmDPpaQvuPrP6UcvHPBuCvJEB3WvNhQmbJFpk51IgUUlGgZnegrzwZ96Y7rxHCjbpRzXHCiOdCZwonMoksEnXviaxCQfJLFuSxq6CQfZm66HGnmk+6vLawR6x53hDvhAZniFGNifYScPxXFSdXhgqtGNhnDgefHHr96zHvig1kSFenHAlfWn1fvQEfIfaNReYhISsGhIywqD5QEPymwd8hv9g-EBKhPfUMxBY-OoU-0xwdEE8-hIhhy-F8PCa-wdJEm-k-Mo0-F8MoS5Qis-urmhAnCP-fKks0RhlvQj-6gOPdJ-Q-2op-ZhAn8hb+a-l-r9Fv36ZporQfXFGHDRTIdrCzLfsrYGdDFBKA5nLJAQBIDsZAodARQEon46c85M-jd+NG3x6BoMaa-NbHvwTKH84ioAzQqL28JY9JeS3fQJvwmKnMByUA7IDAOxbwCFWr-Awu92QGbQ1+2uTfrd1nQ7cMBaqddtgPQHeF5CXA2liBGjYVBJBZHX9vwON5tIdoQHJhNb1+7eFJBn8UVn0WAgJBlWDhSUPRE7DLdxuRg8SpWAOA9dIO1EMMgcAFixNzBJg50FYMMBAsW2gMewZ3Qso0M8QeggwamicHLc-BeYRXuNAFg69laFgIIS4LViGEZQrgJkNqhiHhCKgMQz8NYL86ItAmXgxwfOgsGxC3BFHDwSBC8E69DAAWBISwCSHWAUh6Q1wd4LaQVCJqug0IeWQFiFdJUrQ-QXwHojqZwasqY4sHV6EaAU050VoHmHEb+DfM-5IxioRGGEAxh3QqYXmCVZ2CQhrzWJkISBZVDI6wEZIfkOcHJ05EpJDYZ3WaFvoFhSwjYSsP0HlkzhnQ34g-1TRKpTaroPOE-zyhXgb+5XPAYQMJAEDe+B-WYHESf7-8shD3agRdn+EdNIiFdfQJ8I0DsD1gk2ToIsIoyUANKTvHgRvxhHfovhyI3AiuDRG6xMRjvIomiLSFIifhAnVUqJz4CLAnQBxL5gyNnBMigWfSWGJSKCgaAjAsTVUoigo6Qh34aIvka63hHaABwEsd4buG5EEifhOwoMOu1FE+Mowwg0YF8OcbNtRhGIrEUURIiijIhooEiJqKNFcgSRuo8kVIP0CGiR6ZaCCKaLtGlozSbLXoKyIIA4sdB0xReloGWER4bB9FHoIlQuFTY+QRIhmN6G7hFY2OEnEZrJ3iAVBi21IoNmaWZycZiuWffSiOjDRRF0RgQMkZmL0BJjvhMYmYMPSiEJoUxZAlgnqN5ghpR0jDd0eyNdbbCKOWJH0bMGWG1jsx4Y7Zo0z36YR66vIgTjiDwZEhW2vI3sYZ3GF6DTu43dzpkOuwY10KhnOcaD07Bn4IR2PLzMQiEJsMDgAAyXhhEoBdd+wQ4zstD1ADucHAE48kNbgqhvxsgp3IwCw0GBsN3OloReqAAqIAAJIWpQAACC4AcAELQABKFRSAAAHkpayADgEIV4CSp1imYiYPGIqwWjAghIgTmQH7FHjzxusLUaAGnEDiMI-bVCSlnQn6ogW04r4ECmD5fUVC1EvkChLonnZg6v4-8UBJAngSoJMEhiYT2ImkSWJaEnUYEGDrTjlhxEk8aNzPEUTv0YnISQwEFTdCWOSCKdDJwUmDQKJmEgMd0MqR9DfMUOL4TCFfQW4zOIkZIBMFmCli8IRk2PrmN1iEiGeSEszsxPY7CS8xDAQkb2MlCOIskbwNVlhFcID9r+qYgNIFD8HWApAXwGuPIwx7yZHxVHbTG0gbKcilgT-dYFD1FA7Q8Q2ocgdt3nSKkDcK2QEfvzDpH9wOhIvKXd3rjY88gL3FJrsA+z4AnRdCCKZQCim4Aa4OIsXHVP4G293YSg1ctCWg5iic0xCNqR1JrgQQMpkkFMK0EinRT6SGUg3MOyami91Bs6SwvNPamLTtBIHPAs8OdCvChkG4NYN-x05D9tJ1IFbDCJKlECQRGpMEdWN8ANlzqlAxbnbmhFAikpXIHaIwEGIFjsRMI3gXiPLEVjXSPw7gJHknKCD5u78TUP6jRI7BAsKMphDdKBF3TiCxAx6V8Eqk6YSwb0iXh9Pcy0Cxp7LAGXqPOnlAnRNIbqUTk35mjWkZpP3j+iBxUzr+EM8ETDIKmLoGyPk-LP5JZAQynpZhLQsjNRlZSSwboxkZ6PsyCD0BKgw6ezMSJ4zbezxZ4P9NmKAyKR43RQOD1CksE6RdbJsTixZEyzQ+tCZBJFyWCKBdZasfkRIUVGhQegts0aTSB8SHTJRzMQgqdMKC2zhg+szQk7JFE9dYmEo46T7OEBnS9ZwwcbqmNADizAsTs9XgLFVGlh1e9s17gwAplWiDREQu0QaLViMyLAms9ZJTNbb5yKxXIVtkXJpm5pNCrok2WY32kvlgg4uNyfqhHHD5-YboayWIHgJWAcOGsMQHRGwl4Rggi-IuFBAnmGFxgnSCeV3ICZLBi4eXKwIO3dlusvgUUzsHaHID4AmwQLIBqvIN69jva+UNucEETHcs58Hkq+cK3Km-D0xdEMPLICsAOBWgM0Z2VfzeAygxga8nbBjVLl1jQ0gmBNEAspnFiHJdcviKPP5wp5X5rPYuViCrFmF7xJoIBdmMbHmyth02DkdBiFYws-5VATpM-KKwTzIh7YogL6JuEYKooXaBekQG-F-jKAoEllAABkhasE0McIUQlEAXJwQTSSJM8k0iAx2E6wMRLwkUYCJREo8ZWAEWSLRJVEwnjRIQVRQS+NkQKIxMpjyK2JzC1hRwvAB8ShIAk50PItkkCddJtdfQFDnEk3DJJp4lWLJKQW+AnoVgJSRsKbAM9bFEwmxu6wHkEB3FPiilqK29pmKhFV0pRhsL0kaADJiaYIAFgtxnzVFRC6-lpJ+FOS+FWYqwIItvk-DexG4CCtYHRZFjr5aSjcmcIsVRKFhsSrkHSLfRCZLF3dQIYcNewG41Jrk2MRVkgUUZHJBuEMaEuyUlL75ZShuYjXKU+LexImAhbC25bIiZxqwtMXGylgQ0OAq4sDkMvhZ1gpl6LNPlW3elS99Ayy+GpEQKXp1plGyjzuMr0FJc6ERyuZMp3w78srlqwgAT-KPHV8VRAY0cf0WtHniDUoTYUU+NvGPDYsziVoB0sciH8JFfczuQGnm7ETq+MKn6VzwxrXiOA9i6SSrCRWi8g0pDBlB+BhXzKA+5JbxbOJy7ySO5gSvQbsqRolZTuRLBSVSrzDN42kRzMiRUBDF4qP5QkQld0Nm4CCeZhqBzCCTBUE4rAZUiRQvIDRIUhFDgGBVqGKQTzZM8K95dHKEXIqsQQaNFS8CPFST1kMk9VTioxpcqPw4wboXbWhykrJh5K4IEyoSA0rfAigOlTarcXKSjW8hS+SqmSomq8UZqh4Xe0FUBoHMXtHjqor7CuIYV7czpbCohFtykV0M2DtJ2SVIqgWSayNdio0WsdQ16asiexlxAuIqgZEiVbhIzVLj0xjIdSR3PQrsTAJwEsCRBOgmGLqQNazifWp4lcK2VCkjlclQrUQrr4NZHaL0DYTNy7+zwJNRfLXmGp814K8YFCtwlKrrpufXAKYuyUOAa1+izhbJnXXsLOFDgD1VYG7UBZe1AigdVLOHWvK+SApPiIDV1QRRfOFA7IUsDvWGE9M16p4Aq3vVmZppv6FQjhCEhvr2wg0Z9QJ3kGCNJUkIFsgKREo3rfUwGr5Y+o-UvrFy0G99XBsU6Axn1v6qKElleAwahAQG39CBqgiYbM1SCSQASGpjOhilaG7wt+sUBgbAoi7c1pa0vCIaTA2hL9Rhp-UtzGOgNWgL-IA34a5lfKxeZBvWSCa4UDAPDYQHS4bznlCQIFtev40sg-1mSaTeYik1PAFUZo7Zdy0qxxx-1YgaTcSE02Ab6sqvY0hISJWdCnV1FbFlcV03CtACRm5TZ33ajQblNOuXDVpuE0VL4Nl69ZCht9RBb8NBE1sUOx1WJD9htQlpdYsTSObCFemELW6GS3aab+1m3RBZpDEebf5qm1LV5oODqbzNlmtQnyrgi2a+geLLZfgp2VpDcNrmhCYFHI0foK0vmiZZUp8XRL+hMZGtPOVCpIp2SCGhLZtGa0Z5zlA7ZxdWkoXOJOxNwl0RCjOTTbqFPirchwM9hsMhCmWmkPJvK10r6wtAUlr0GG0RZRtlvSVJhBEglZwOaAq0hzmQ7L1V6mMdsg2l7FMaD2PCeVG1uuXuQdSVS-SWNGzR1Ls0F20hmikAGCRcgaKEem9uXaDJBQ7TNLWAJHpFBdWNlJ0d2RR0JqKxNHePnIQ0AQ9WAI5a4jYnW0uKYdlrChBSyS65lvRVC2bStuZn9ZuFPDHbVsAq29BydK7fedVpUTMBplEWTnTzjRpBokgx4qSsYIcAABOXgPb1eDSUiV40RAe5rl3GCiV2gVwLgwqAxr2S4vJebgw1XcyTMDZcQIk04CZTohKu8SnoG+bfM6waAe3Q6vykmYxBFu0SsYN+W4h+VoocXeJTV2kIxSUS+4d+nEAipN8agv7uYB93rJdJ-uyhsVzF2W6RWPGqVLgG3m7ztQqqLcAWq+0LKAx8mtnXtq3niV093O2qMdrlSp7i94GLTI1vahHtzlMoWzUoRYD0hXYnlaVRjSlgOBi2JwdtkOMsaqpZGenExtwGCXUgGyBsEgK3tpqRM62G4TIg+Ch5R6+gwqEVEe1ADosdVtm8wKvsfBY6sQy+nZsUqlibABVzujaQ2UJWccqgPHV7Cfqh7jrxVQSdNdmqLWdJ79ovCfS3sIIz6omvQefeORwGR7E9K+1fQejIlSpb9h3MA8Kj30c8Npg0mkMvt6AwGRUm+7MUcFQMuV+BUehXQ0qiU1Let-mfrUjiP16aaZ4OjLGgiljIiOVGQVHQFkwSNDl0NWvTTQeOK06ZtCuoQv5GA7qyY4i5ZkAcCkDwhG9JWR+Usu72lLe98rGlmIeIAj6x9ZauNtYXQrDaix-DTg8ttnE8HT1D4vXaoYIn7aMxZnaYjyIWDuN3YE6DlkUr02UHgBOodgxBEMN0GGDE1Jg6Kw-lqFZ+bylJRIeIDjACm9QXQIIWkBhqgjWgXQOot9JIIJpu0m7ZLP0NYD+OQmMpGIXSBfzq+yHQI5G0hWNAhMhzEQeRwanyE4jnU35TIImJlGa48g9eXSlUG29vC1Rvw5aHr3FLvmpYvQBWIAA6WAONU0udDhI+ALiGxpto8qLUDUOaW3bVEn2t795zYNo3po6OycujUQ3o-0d8mDHaAlSEY0ONGBkAlC36DzvIQOOgAAAXhsECq9GsQVi9MNseGMzNMdHnC45MbLTTHegsxwgvMd4CQpoggh-iCIZ6AdGBjdxnY48aaoVAsWVxPIFcWoBXEcWGwb5s2B2CLHhW1u240Md2MQnN50J2E-CYpbvHHwQAA')">function rename_variables_in(rule) {
    const rule_application_id = new_rule_application_id();
    function tree_walk(exp) {
        return is_var(exp) 
            ? make_new_variable(exp, rule_application_id)
            : is_pair(exp)
            ? pair(tree_walk(head(exp)),
                   tree_walk(tail(exp)))
            : exp;
    }
    return tree_walk(rule);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    <div class='permalink'>
<a name='p27' class='permalink'></a><p>
      
      
      The unification algorithm is implemented as a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that takes as inputs two patterns and a frame and returns either the
      extended frame or the
      
	<span style="color:green">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      The unifier is like the pattern matcher except that it is
      symmetrical—variables are allowed on both sides of the match.
      
	<span style="color:green"><kbd>Unify-match</kbd></span>
	<span style="color:blue">The function <kbd>unify_match</kbd>
	</span>
      
      is basically the same as
      
	<span style="color:green"><kbd>pattern-match</kbd>,</span>
	<span style="color:blue"><kbd>pattern_match</kbd>,
	</span>
      
      except that there is extra code (marked
      <QUOTE><kbd>***</kbd></QUOTE> below) to handle
      the case where the object on the right side of the match is a variable.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (unify-match p1 p2 frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? p1 p2) frame)
        ((var? p1) (extend-if-possible p1 p2 frame))
        ((var? p2) (extend-if-possible p2 p1 frame))  
        ((and (pair? p1) (pair? p2))
         (unify-match (cdr p1)
                      (cdr p2)
                      (unify-match (car p1)
                                   (car p2)
                                   frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06cDwc73jxxQIBgeAkFQNA8TQYkLne8xRRBLQKCyXIFEIehiDoShwf25JUnSBQWDIfRxclmoZfCUAAB8dcU0UPl6zq1cUDXpdlmI9YN1IWDkjghFNiWpa13X9ZfRWMjFs2Xct2JrY9sUPzVKV1d9+mmeBagRZ+aanfN12IkKALiZUH3NcoV63uTd1UmYMQJGEBhZzBMOM52Pp7h2wm9oE0VSbLi3wgAMmb3p+kGRvXeEoFKEr-Os8j0U6D+gGu8t4iRtFfPC+L0F499iyR-+wqIsjwxfGV-BG3wGQ0lHheM7lgTDojcf+TXxHBdSc1qDEOh-plw+m5rqe8-IAvajnudx4s2-78flpCOV8XD-wfhbBgG8t7e2dkfV+qdT51iGB3fQZ905N0mMAgWoC3B33ATLa6OMGAo0IIEXB9Bn6JxTvLduIwIxoNgRg+m2cWKigqMoNgE1sp0EoRPahdd36fyLiXXhFkSxCBAuwzhlV6DwjdjbKus8RG-1EjDP4DApFcNRHIgO-pp4fyUfPFR4ImYaJMNI7hq8WFuU0TIxgUC7YwITnw2II1EG2ncU48OmDXqR1sdwwhBZiHI1IcQchPDz6EzcSg+hSDz4X35jnIWf0WDCHIME0J4TeFDTfoor+yj0Eywspw5WaSMlkMMM4KxkcSmpPSYufGkgyCQM3o4ww2SompxuNiBx28GC733v9bgnjskJJqSkspdthC+A6X+aJdCkEMOcT42a1jr4MECpA5gWhAGzOWLkme+SjGFMoBZTZHwqDEEAdUkBtckjlLCZUihkS5kIJiXEk5CS1kKwYG8NiqJOh7MKAcgxRyf4nLEfQf5zgfgkIqVU8IuiDT6KEd-UuELRJ-OjjCxsFydkWxudgtOS0AWNlCWxbkWggVExoSXDZlRRGgDxFgnOWLSW-KNG0AsT8Xn7NTnSwIMhGWkl8bctlOKGCdBFiPGgOYx6fM6bS0E9KhUqJ0MwoeqRjDtAtn1RsYdKmolmf+f8-C3QosMeCxhRTRLau5TQH4BrsWyJZSxKopAPhbMubs3lri3kLNtPE0VRLjB-K9finlCrXk0JGUs7xGrbminYB4Lw1KaUCLycI451rTmiWTcoLwhKc75q8K1fA0y013JcCMoNqzNWSsIIQEElLnBppBaigpOa-6NubZY11blTFwsea2316aDrvMDZ8-t5gJorSHeE9po6q20MGLEydOaVmXyJaKHq+gSHH3NYIy1YISEWWKFY75rFiAkBEKkChp6BpAyxnjUeu1I6UECC1eynRU2FmIoKYUb5Ui7sdDXVsgGuWArUc+0D-7QyPVIAWPysZjxEUMoad4AgWCMk+gwb6cM9200aYebcuTOyDBYH6HSsRSgyE6MYdD-pwyfoYN+tgqbcNx0oyRg05x-z4UImBviND65LkLIxmIpQP3EC-T+5BIxQN63ZCxtjqaIyOgk6AZodHCLIdiAxBiCGZOsbk-uwetyUZoyLkKBgktcEbWg7jNcRHX013PJ9HDx1Op4cYARxzLmwZ+VfAAQlzkHCoIcKNeZ2rtYFqcHBClxDcTiqhbrbUCQDT61huCab7M5l9gXQDkgE3qV8O6JrjTYL+ajhQ8CQnqyGdz0XPN3S+r5xplWAszRWCNUL74ItejSydCTgY6CJYYMlri-nct9k4zdLLaEasrDphJ4yqNpaDH8wNNgXWeMlf+K+CoN7Qj9J4flrbdNnigDqw1nrqcTF1lqOCPy+2hNjpcJZjbVNgb5bpi91ZjMQGGBZkoKAcBEDIHQDzPEiSWLEBQpcxl0scw5NTkLaOLkvFH2kqUYWmOMvZOks0YeB9z449kvJQgLToEE96TvPey95Ubu4MjqjRkwsaCbdQFtzzPnk852wGZ8P8yI8HSE+FvPmctDoCjxb0E6UDOmu02dDyF3ZJZzLyYWAoLE7vRVKgwQOXK2qNwwn-pSjC-XIjrKlBDfi0WgE23Dauc84iZ8jXKOidhfFfQQFZPzctDXByklOKkea698k0p6T51PLdxu8nzUfogJnBM+pXD-oi2p209XM2Vi1MmeWmZ58Pds6UobLlurHU+0NSOvnAfLeQIrzLPVRu7POrj8skvEfUhXM0LiPFVyLZm4NKNgbwYmNhZLcPgMgefhT5Uaz7v9L5bhsH5G+P9eg-nO2Wv9FXbpee4n6KMBPq68j9n42E-Q+F-h512F0x-ijXn1wkVqCFuEdUof+Ypg+Bg8XIIVIurgfqXqsGFo-rXhvufg3uAZLs4l3hPiZMEIylZDZHZI5NSL4DLOQMjB5F5Jbh0FoBepHALjMsiNwLOmEITGVqkKQtQAoNinKkntgvoMiL+AqCNCQbZr1PQbKi1EzCwQ4OQaQGIGEDRK9tQa3vgOUEwcmAIXQGwQ0OeGQhkGVPgaLiAmWhWqwXLktg0J9iIMQjLnBPQLsrntBKYg0qPCLO0toWYduBQTobocthocjsYfgmCKwc+HFiJqkJsnHMoWwLLOhqUH4VRMHmjGCAEUEROM0ORmIahkJogdOGQaJNZLZA5C4O+r4CQLgYID2r4IVPpnWrcgrnvErnuiEoYCXmBiNN0voLOoCAAHwX4EEAyzol4s6VEJpEoN4+4jxY4WzVGTxo55yIZ9xC4f7yoh6+5kqBAUqI7F7AEgElAtELFQrt5V6pg6rr6d7AGKTGSTGmzTH9GSqBFkAyrUBypAGs7mY9FB52qV76rV7t5h4o5ubFQgxwSeofAKAgTTSMiMZqGf5fEgQD6n7M43HkgSGhE4wsEglbK-EZYKHCYCTurfGUCInTQvYJFwbvarFUqhpQqr7gmd6QnxjFFEqlFBxgJSiM6UHDE0J1GM5NGiSQgOA0nCBwjcB0ndE5yGDciMBSGSLmJaLOCLpRpmo-IPHN5V7Ow16wHhyKSlCc5fb8lCD9L8BmIcKilGhwkeqgk74kneKOHbhqmCmakwHvBGBBAGFgnX5TrLGxC65akWJP5n7n4iKWlZ7byjL7GgDpCZC3E5wN7z4Yqs7vGYagBTK+A4ZcilrRnZJ+Tnh7jA5AhmkanCnal2LtLRk8bnjsm4L3y1CplRyeoDIFmVJFmDApk8YjRAmZaF6dFWaGE5huG7IpkmlOHoQVl4LFk5ZdlOGs68lw5b7EzEn2n77hkMkCSJ4wkFj6ASb1mjAr4x4QG7FDlBkjk-BX47GLzAERlUj-FAhLk7l-FhGrkKlHwl5+RgLemNhxynl3lAHTTXmSnbZIYUnBlB6WmvG7S3l04E5el05AF2GxBLlenTSq6x454DkGgblvlxEA6yBA4g5szg6cxQ6WCw5uTTxjGqAzLIwHo-J2zbz9A8KEVFahilDIx+lJH6DIwWQkUOwfYhImBaDCABAmDECXG1CNBEG3KJ78GWEZ5kBVFRmNn7nTlugiLghhzSFMzgidkwTp5NIercDRmvkIzbqpByUGH8EyBEVhaHJZpzgyCQrOzyUgJFpuoaHCWqU2GGUCoMpmVMrTqZEaEJkGXwJKqeqCosHcAiqzSRyDpGHyDuEsGOXKp+UuXqqblNTkzL7KgE5vARGRVzjghznECKXEqpXBpJK+FjlxzTSGUWpgpggvmiSZXWVuSZXhFD7FXeUnwTpZDFXDlIyOBfCVLeauFhW7JTlvnqaa55VurwkEb9XeFNUKZDWzTnh9wtS96UC4g9UmEWyMgBlsAnCXqCUdZ05iVK6GWky7XYwFiiFBW3Jwx3k2HEaRDJwTXjojB-ZnVEoXXlF0w3WxADVIKPVbrBnrYGHLXhVHXbZiUsDrDzWa6NXSXSxiB9xGCtLbyUE9zAjQ2w1rhLBUWjRmQJUEZA1o3ZZRlg0tmOlhjI2dSw27XhAAA8pNMNqWeNwRLQpApkEIAAKnJIJEIDGbOrwIAsDjSD2tQLxaJKAAANSUVLZGzLSJZw3QKUFi3ZXgii3i01aS2dTS143E1OmM3M3ghs34AgzED2SCDCE80Wx81Yhc5C2K1i12Gq1iDS0U1K0K1K220fpS0yAzIa1xXmD5RU4AVxx05DHkiRzI7FxyTYjjXTDrwCky1tLYz0mGS5LrWx0I2a0z6h3ojYigXS4cL4BdVzqhUrVPxDm57NB04qRAiHQU12GzAoL026Fl0x2YTw26j40Rhe0hgMQAYGDI4V3siVwLVLWF3uGxbTB0WB2pF0B2zlD+mjyFFHgEQniGTnhwyMhokgRjXTV9gjRmksGNKXV72vpKXmH72vXEY8bkmX1+o0IZ3h17rTU-UsT-kt204t3YxB1IgWYy5h1ED31vG4kgy3K72430aj0ugjFpBewp2t2aYW7f2Z0LlLbSy5350tltlD4l3oRl0t191V0t3o06SlCkSHRo3Yxp3s673N2y1t1IId0oYhivi91I1zXEISyLVoO9UvwAOFDj1v2T3T0iCz3-S5Gnnz30Q4nL0fGr1Ajr0-QdZknwapy70XW7WH1gzH3bgvVURXWvoX1FFX14m32-2QkRSA7YLA5yCsxg4cyQ7cwYDYXrK0E8E8UyFGqsGKoZrGVopyEWROMMFZVuU8DcH+N4YSwcCAKm7uPRqTWrpfUOBfLnh+O8GuNimMgiLOgyVzDZWxBzATjZYZPzzggcjZMxAch5MmkyUIQlOY3lMFPpUlzVMly1PTAyXDxezZVtOZD+j5MtOFPBRNrkAFHcD9OcIxkGg9MNAyVJElNJF9gTNFAyXJaqCSosCGCKVLMrPA4rDzOFAyUi3VOxD0XcC+DhAAjNE4Fi1jM7OxAyXuQHMxBHOgAnMsk4FeRXMVOFNcnTCPPPNnOgA4GQhPMxDXMxAyXAD3MGAMVPOnPnPXZAugAgullgjggACkELPzML-zoAKL8LiLMlPcBzGLLzfdJzHz6VwWwkhLULvzsLFLQIpLdTyLlN6L1LmLOB1NMQDLvT6VlNAI9zRLfz7LQI0LZLyLjRLLxzbLoAzRnLeLhTjRfL3ARQArsLCrsrorEIwWELWLhQfzMQoWMQhFzoToiTwTyTpiu1gIIYdRcw3ASTLjTMp1prdBITpi+ALAAAVmxamdaxoHISyZU2azxdlSMp4Yi0UPa4wY606EVJGZGy1OIjLCWSIjJeRtleRuG7BTJZAHQGqNHEMzEDm3m4tZmwOYs1QMs7AJACUxs1W6W12eW33AwAAKLVMbPNv1tOEyUABy5A3bELvb3b5DNWJrHx8bf+zABClrAIvr2IygLJh0yg+N47iblATrY7QbjBq7GWPrKwdR87fzNam4QTLryTq7p1l6nB47+lghxtYgJchlnB304opAguV0Hr5AeY-JvUmgiD0E47dBTau+kT8TGjRQs6D7RwRQn5LEwEWIHDRdYIhl+hRcANph0EKp6M17GhQNoFK7xUEil1nbsQmHgw2H2C-Snr3r-Zuh+HmGhH+1YHsQLDg9CHI9WcHAAgLD977rsKw9gCjIcHVOaHQ+MbZjyYFj8goO7MEOXMmADjLgKVFApgDAOqHwVUNwpAqajmJVnsysqsIyOnWuM+satDE0mMjo4Q8tDA1t1IbtatHt8msTtoRnyxzQhn5nT4gT4sNwjelh7FRg9nIhj7ygygPNGQiORg5BoXmLwOYt9RoXfd4IitpQyXWmokFkSt5AMXTHBoyX3Adtp1WlOcDgDSxggXxsYgQhIh1XQcZXf6pqd1LgdtTtEIStPn6Sxg-nUodRKupXE0xg1XEwTt1gz2T1JXdA9XTAZACg9RwhunkDmQc3O0IYqX612k0wzpIis6Lczc0kQGi3WQEYO3iKOsK6qCSCJ3oAdLok56yxpQTny3pzqk56SpOVynIEansUmnqaO3fpB3Au3OpuO3oArc6GJO-0chyYUFraJ3mtqXbXYt-XHqLUIss3h0FBT3coNtE4ittnAFAyjOUPsUF5PCV3OPfYePStyPxg03pA6PzVy3yu83mCot6G8IG3BosRk3A3AMYkoI2V7RZQPPKPdPPEbnYWpMf3M+NPfPVT3AIiGP831otoJ33AsvYvEvhsQXT3q3okAA5LZw0fLYbyGGXUF9LTt8NW5BrzqqQDMnb881JT8snf9Pp9OIdI78RxODJUIMIArcEArXZFpH-G4GmArYhhwPCMZ9MKNvV4917yr1kIn8L1N2jxL7LwnwWPbzQ7aCn7b9nyc97S4B+1+8oD+2eUQqQh4I8hUYQAt4D67nX-d0ixCI35YrTC4eLsOveiEt7xzdiKX+sOX9QJoBllwTX24EN83zH+zhDwDPunrzJeegVy-YTwfPuhLyQsX6AI7xP8oLX-ujXBIe30apv0JivThzg0CCGATwzgfGLpktBZv3pqa5P8YEXBQYyHUXv9Xwf1P3e3aQv92CqcC1tf1UhVM9epMQ6H-0eRfwKC+NEZLALD6f9hCEwCXmAOgRJcGmUA+QP-w-6So0BZvQBhR3LpI1wQQ-b9qP0r4FhOeRQUoKTEwGOJcuA-fQJQJH5j9IKyAsSpj034S9GBV-aBHazwFwDUBwXbEovQOyAZ5+M-ITCNGX7ZU7+gyBfn3z2wSNwGN9EJP9kfpuRFqJAZvpDR+SkxF+JnFBCYM27a0kCD6FAukXQKk92Q2RAJtb3MApUzaBg53pLzEx989e6mbwSsGMhM0rBISCyGkTQIsUn+bkVwUm34pEpzQaYKqE7hViSphAFQQYEfw8F6CVB9fJLnELqjODQEKQyVGH00hVQEy6Qt8ou3oAREgBqgnfupEnYOoqUD6OGOrynpSEDCPUBgOoBEAcBSAb6MVEQCFx983s7oaQcBgqzn9uGsQJrK1hazpZ8M8jYIQVm6yKMfC4WT8FKCyy55RsAjIuJ0O6HCBehdfXbKXTTiEAZkc2WEllj0Z4QEiEhYwaoJGFNdMapsc4Y9037cBcgbw3wfXy8JFBXsUwwxloM7rFY3yXwoYfXx35Gx+gCgZ3BtjMSjMuwbICoIiKLiGBSQhgsLMnUMDMo9eKIwZl-HRFPBiB0AlBDiP75PAWS0Iv6HCIML4jfAXYaTDSMwjMoWBsFWIPSMJGkhAm1QEWA7EYKcjBgOI4ZgRAJFoiMRHgzpmBFxEz5BRkCYkMSP8EvCq6rIiTJSL+a8iyA-IlqIKP0ByiiR-ff0OqOaLUjYRLIzdApzs6BAaRMgThBiT9YpEE6zw20VQDRhbJrRs3U0RNgdG3sJg+QkGHaLdGmiKuMIhbtiKZE8Q9e61YgZqNfb9ABRoohkYMEMhV0IxnbY0QGNdHSx3RMIkMcyKQSmiLRl6FDnhj3iUhQQ9VTzsDDSS5o3qxEGYdtDmFXQFhB8C7MRj8hkZg4g2LYRjRQ7fZn0NYk4aGGaAcRpU3olLENm8xcZos+NQccsLarmBRx5xccVxA4jDMqAu2TEdI1Uh0Y9gT2ZWvQNEi7iOA-vYgZBiyBrjWIVAcIHr1XoxAYx4w+CNeIPErESxNmcsR8CHyXi5xK2JUaJjGgcRdungsaDWJb5Lj7kk2VLBGEAlsiVgEYUCbBOmDgTGAkEx7jBOzrQRDoCEjCZo3PrECHse4-3lCOWicccowYiih4NJhQsMx61BcYpz6AFpJUjAXIUahYnOBuAv-Dcbv0L5yNXM9Yj4pBPpQ0hAijIZCSuNSycTc0bE+gDR3ZGhg9+j1Z4YJKiJJdjxT2KMV7GIH51SJ9iCMWTBSxCSVCdEsoLT3agox9AgEzEdr0q5oTrxxk9KDmL+g4g2Q3QCUeSHPAll0ozkzML4ECrPD+sGwoUeEFKDrV0uhgOoR+GRgMAiQu8Cyc+P4mRlugjIGAdeI7EQNd03QYKbd0VrNBugHHSQKABZoAAJZtgwAACC4AcAM2wABKLNSAAAHlu2yAIEOtU2rBVJAagIoRpFRDtJkJm4jwbwFMmRS4plAaVC3wclmTkY8A4oT1JGljTiBDkzoJfhmlil-Ri0zIF1PiG6lDKxU0qRVKqm1SGpTUtaQOEmnTTupYpOaecUMoOTgxk06KVmFinIT8a4IaSXQHcimiYhOcNUJ-xWm6k+p84zEV6JdH2is624GsTzSaK5Y1AJgUtOqTel6iqAPNO1lmKSC7ZcuMgDqcszem9TUZdAXbMwk45xAMgCbdoSLEZAAAGNqbchqD2QNkJM53L2lijUBBgD0BmbkAcDkygQkfUmZzO0Bi08QaUmhDzI5R8zSA-oxPLTOuhPoAYW2EWafyqgsyDqS4cECvxeHyyBaruPDBxXvAtUqx2EYyYEEZzSyLOqQaoNkBJm7QlCDMhWTlBZlrVDa9MjgIzKB7MzWZfkd9CplMzDCAGuSEDMMMMilBJZjsxzMcOJnOzbZjAJWYZGdIPD6+gcl4dJlkzsZ3hqgxCcpmMyqYLutoPgTHJaDAiDGy6JOSZhTk8zjJooHmfUT+nyErJR6MqlXIukyTKqJM6qi4PoAcJBpraMuZiJGRlzAmIshMt3MlGewlua6fYJbNn6HjfebAb9L4FGK0CJepnW0H3OMmcF0klcnmRxJ4kAyFJ11BKVSA4RkUnZ8UC8MbMcxmyeEZcpMh8QSwe1DJIkm-hOFvlJYqAXESSdKnTmKF2564aCofPVJlzP5RQXea+iFkCRn598jKDuMeyniZ80YpUfWVU6F8LZzshMn-MYAALNM2kyQGRL0ngKoiXyImbtIYDVTLIAAGWbbNT-SXsamc9SxnHzcZo084v1IQpDSKgyMK6UkHGmnTIpX8HmQwvmlKj1pjYPhSlHG4sQhF9CykR4KIUkLyF4AE6SBDOlFwRFz0oGRGNpHJjtwt0vSfdJilCpnpgCwoBlRJkfSIx8IXLtoo9EQg1ZxijgKYo9HR8d+nBFRXjOYXPDgZdouooxh5kslcsa84+cgtxgAy6YGMuhS4sYVoz5xxkypGExaiO99A78phcsMck8Q1FHon6J4r9YhhpGzRQyF6NI4IixRf7TRu1E2klDdSiSyJSEs0wZjnFJM9pJUvxlRLOyKjNMTvwQXxLHeXWFJVbI+KtBkQjILyZkISWF8XpHSwvmI2XQBTIsCS1gm9xiVAdEFZAB3oX26WFi-S-ShwEcWqEjLll+NVpR6PLkXy2FDoEaQtztq2TZYp3MLLuhSlXKoRtuQIGUuZlRzhpb03aBIUmmnL3lYDYlFSCSlAhdFj0oVO8r0wxBzwYXJmhAjekpKrWS2SxbmO6Ch9G570z6TcJ4D8AcQyKraairMVgcpe1c7gBmMhVGyQIMKwsWoMkE1xzgxXWDo8pagizvok0wJb0rjZ4zGQbwDudBSvlQkxhPmE5RtGem-LzwAK90JFIem4gnpeM9FRCsSCkrj5sKmdvCoHDBikVzcuxWirBUYr0w2wdVcQHsUwjFKhkUmJvIMCYsSVECEWRSokGCZiINKy0QMGUUMzDcCM95bXICVuq9ejqj1dXIl7erXVvq-0f6urkNycVu0D4MEBagwqmVbywNe5I+LbxfpKKkskQv2k1S6pjU+ReSFTWVT01R0yhQSpRVErMWia55WKVrL3YMQY3WlW5G9UbzLZNcCNU8sZWvK2FLK6+ZGVLV8LGQMishRQr8i9q5FokpcKaozFdr6lFamhOCCrV1Ce8bDXEG8A9bJ4SETo6+hmmTorrAmsjRdfNDr6rq8Sh0Tdf6LIQgQd1KIGoYQH3VFykER6sRThTnV94NEKQJdcwU3XuqN1XRf0bI2CgvrTAe6wyoes-V3rzAJ6p9YYF-Vrt-1mIn4UV0vQ1AxAlyIuPErfUeDANl6wJuwIr6SEM4UGpOB9WeFobYNl6RdfgHNlnrTAYlA5aGPdWsdyNbpOgBBoIYyQqNf0YgSRvNmga6N4pBjfNDCCITxlyyvUp6jo1HFGN+TF-LoRY3i8s4pUNviIAVoCb7e2VdjfIRoU5wf1pGnhD+t41rK0xNG+dWBog2tptN56lvnAosGxjtRhSpMcUtDCKbSC8JEzX+qc1rt9l+9QsZBAaAZiNNHGsJJImfW8a9RAW0zZ5pqxSaEksm6daQAU2TEllSm4Zs+s00xtI48GxHA4WSWFi0lMIjJVQC8W4TR4UMiTYKBHlZB7N+gVLexTi0zIEBhi6jFgtty6SrFl2WwEVpozUgSJ2CxrbmJWwmp0u61ULUiHc1tLZokW4PjFpFxaAqt2VCrTNGLFTSwuTQn2W+SXIPpuOXwUGo2BE5awd+mG6gQTnS3haiwO9dRSDLy3+gclikFGCYH4AAx6hEiPqFSjsK7ax+48Jnm5tHiALuotMGFtnToo5hZJ7ImwWEMnACAeouRa2trl61GLntNAgJpPNj7tbOoOklJWoz5B+l+tikcLa9Ei0w6Ms42q3JNsd7ZVcdxVTaueBuBRSRmgzRkAAE4TgfidiKMxR1XqGdIUJnV6IxzTgPg3JX5RIXDHIlxGVK18C4CRoUzflhQKnTMn1768LIaAOXZMvjDqDQwkux7h8D+ErBJdKSvDCLDzFmiCxssbkh5FcpaqDM5ITXRzp11iUKdYGgZkXxg61qZ5gzeebdvviRrdNhyrcUNo9HY7MVr0x3XPKYCIYsqFkezYL393O7kttybgVVrfCTd+Aq4MgHbENRO941kZVoIyF-4iC3AcUlHrHtKhO0jgji3lQYDlSkAk9+ba7qpEqQcAZYciABirvBCeQvI3A7icsrFX57cCdzBEC+I5GM7Bm+gAvoJtaDHBGIOJBiK+BhWJCo1KQqUMPt+V1rnVpAMtRQmDUorNCDvdXbEFfCl7y9i1SvUCHBDV6CU4u3vWzv72N6m9XkN6YIBn2iBL9nkXyKPqpURADMSuhoA3vv1eRHeF4YSWu072X6Fdp+23SjryXqKzt+W4RmczMKD77etmpbHdplJUpWgXWIlf9pBiYsUchosrcgcR33tOtKO2iSsnJI6DzAsjIQIYHsiqxqgpUVlVSHT1AhM97-HPeV2oP8AC9RejDFSDhgllsDBXDrQ1oINew-hSdKBtwZb7gg7IHNFLMtCvHMApI-4bnlN3iUIHGhAMHA4dDEOoHvtLJTAzv3AWoTCAC4O8HWLfLbiD9akmBQjoIkni6BoBc8RZKMMt84YD46WQ4ZvHp0-q1mPeHZkqSCqjDQ4izY+IskYi9eb47w3nV8OPBCAd4Qw5uOuxgB6skIFw6TEMNAT-x8EUkHr30OvyoJSCVI4YugmkhDF2RicTANVFyTpgMAoozhINCXZ8JFh6tTgGj3xL9eLE-QHJIAA6WASuQUqdwyBggs3frU80lZyhoIMu1RInrzpOCsAzRpBa0ZmntH2RXRno42nhF9GBjcUsaLwFXD40egpMbY6AAABex7UAF0fA6rGDC6x+nl9uGNHHWe1GcY+CB31THCoUEBqPCXIOUHpwrRi40XCuOzdqWCvQpuQAVosAFaygBWv70mD68nQeAWY4Jp+PHYf8P0DY4Cdb6vTQT4JyE9H0eO+QgAA')">function unify_match(p1, p2, frame) {
    return frame === "failed"
        ? "failed"
        : equal(p1, p2)
        ? frame
        : is_var(p1) 
        ? extend_if_possible(p1, p2, frame)
        : is_var(p2) 
        ? extend_if_possible(p2, p1, frame)  // ***
        : is_pair(p1) && is_pair(p2)
        ? unify_match(tail(p1),
                      tail(p2),
                      unify_match(head(p1),
                                  head(p2),
                                  frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p28' class='permalink'></a><p>
      In unification, as in one-sided pattern matching, we want to accept a
      proposed extension of the frame only if it is consistent with existing
      bindings.  The
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>extend-if-possible</kbd></span>
	<span style="color:blue"><kbd>extend_if_possible</kbd>
	</span>
      
      used in unification is the same as the
      
	<span style="color:green"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>
	</span>
      
      used in pattern matching except for two special checks, marked
      <QUOTE><kbd>***</kbd></QUOTE> in the program below.  In
      the first case, if the variable we are trying to match is not bound, but
      the value we are trying to match it with is itself a (different) variable,
      it is necessary to check to see if the value is bound, and if so, to match
      its value.  If both parties to the match are unbound, we may bind either
      to the other.
    </p></div>

    <div class='permalink'>
<a name='p29' class='permalink'></a><p>
      The second check deals with attempts to bind a variable to a pattern
      that includes that variable.  Such a situation can occur whenever a
      variable is repeated in both patterns.  Consider, for example,
      unifying the two patterns
      
	<span style="color:green"><kbd>(?x ?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:green"><kbd>(?y ^expression involving^ ?y)</kbd>
	</span>
	<span style="color:blue">
	  <kbd>list(y,</kbd>
	  $\textit{expression involving}$
	  <kbd>y)</kbd>
	</span>
      
      in a frame where both
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      are unbound.  First
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against
      
	<span style="color:green"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      making a binding of
      
	<span style="color:green">
	<kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Next, the same
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against the given expression involving
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Since
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is already bound to
      
	<span style="color:green"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      this results in matching
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      against the expression. If we think of the unifier as finding a set of
      values for the pattern variables that make the patterns the same, then
      these patterns imply instructions to find a
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      such that
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is equal to the
      
	<span style="color:green"><kbd>^expression involving^ ?y</kbd>.</span>
	<span style="color:blue">$\textit{expression involving}$
	<kbd>y</kbd>.</span>
      
      There is no general method for solving such equations, so we reject such
      bindings; these cases are recognized by the predicate 
      <span style="color:green"><kbd>depends-on?</kbd></span><span style="color:blue"><kbd>depends_on</kbd></span>.<a class='superscript' id='footnote-link-1' href='#footnote-1'>[1]</a>
      On the other hand, we do not want to reject attempts
      to bind a variable to itself.  For example, consider unifying
      
	<span style="color:green"><kbd>(?x~?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:green"><kbd>(?y~?y)</kbd>.</span>
	<span style="color:blue"><kbd>list(y, y)</kbd>.</span>
      
      The second attempt to bind
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      matches
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:green">(the stored value of <kbd>?x</kbd></span>
	<span style="color:blue">(the stored value of
	<kbd>x</kbd></span>
	)
      against
      
	<span style="color:green">
	<kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:green">(the new value of <kbd>?x</kbd>).</span>
	<span style="color:blue">(the new value of
	<kbd>x</kbd></span>).
      
      This is taken care of by the
      
	<span style="color:green"><kbd>equal?</kbd></span>
	<span style="color:blue"><kbd>equal</kbd></span>
      
      clause of
      
	<span style="color:green"><kbd>unify-match</kbd>.</span>
	<span style="color:blue"><kbd>unify_match</kbd>.
	</span>
      
	
	
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-possible var val frame)
  (let ((binding (binding-in-frame var frame)))
    (cond (binding
           (unify-match
            (binding-value binding) val frame))
          ((var? val)                      
           (let ((binding (binding-in-frame val frame)))
             (if binding
                 (unify-match
                  var (binding-value binding) frame)
                 (extend var val frame))))
          ((depends-on? val var frame)     
           'failed)
          (else (extend var val frame)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06cDwc73jxxQIBgeAkFQNA8TQYkLne8xRRBLQKCyXIFEIehiDoShwf25JUnSBQWDIfRxclmoZfCUAAB8dcU0UPl6zq1cUDXpdlmI9YN1IWDkjghFNiWpa13X9ZfRWMjFs2Xct2JrY9sUPzVKV1d9+mmeBagRZ+aanfN12IkKALiZUH3NcoV63uTd1UmYMQJGEBhZzBMOM52Pp7h2wm9oE0VSbLi3wgAMmb3p+kGRvXeEoFKEr-Os8j0U6D+gGu8t4iRtFfPC+L0F499iyR-+wqIsjwxfGV-BG3wGQ0lHheM7lgTDojcf+TXxHBdSc1qDEOh-plw+m5rqe8-IAvajnudx4s2-78flpCOV8XD-wfhbBgG8t7e2dkfV+qdT51iGB3fQZ905N0mMAgWoC3B33ATLa6OMGAo0IIEXB9Bn6JxTvLduIwIxoNgRg+m2cWKigqMoNgE1sp0EoRPahdd36fyLiXXhFkSxCBAuwzhlV6DwjdjbKus8RG-1EjDP4DApFcNRHIgO-pp4fyUfPFR4ImYaJMNI7hq8WFuU0TIxgUC7YwITnw2II1EG2ncU48OmDXqR1sdwwhBZiHI1IcQchPDz6EzcSg+hSDz4X35jnIWf0WDCHIME0J4TeFDTfoor+yj0Eywspw5WaSMlkMMM4KxkcSmpPSYufGkgyCQM3o4ww2SompxuNiBx28GC733v9bgnjskJJqSkspdthC+A6X+aJdCkEMOcT42a1jr4MECpA5gWhAGzOWLkme+SjGFMoBZTZHwqDEEAdUkBtckjlLCZUihkS5kIJiXEk5CS1kKwYG8NiqJOh7MKAcgxRyf4nLEfQf5zgfgkIqVU8IuiDT6KEd-UuELRJ-OjjCxsFydkWxudgtOS0AWNlCWxbkWggVExoSXDZlRRGgDxFgnOWLSW-KNG0AsT8Xn7NTnSwIMhGWkl8bctlOKGCdBFiPGgOYx6fM6bS0E9KhUqJ0MwoeqRjDtAtn1RsYdKmolmf+f8-C3QosMeCxhRTRLau5TQH4BrsWyJZSxKopAPhbMubs3lri3kLNtPE0VRLjB-K9finlCrXk0JGUs7xGrbminYB4Lw1KaUCLycI451rTmiWTcoLwhKc75q8K1fA0y013JcCMoNqzNWSsIIQEElLnBppBaigpOa-6NubZY11blTFwsea2316aDrvMDZ8-t5gJorSHeE9po6q20MGLEydOaVmXyJaKHq+gSHH3NYIy1YISEWWKFY75rFiAkBEKkChp6BpAyxnjUeu1I6UECC1eynRU2FmIoKYUb5Ui7sdDXVsgGuWArUc+0D-7QyPVIAWPysZjxEUMoad4AgWCMk+gwb6cM9200aYebcuTOyDBYH6HSsRSgyE6MYdD-pwyfoYN+tgqbcNx0oyRg05x-z4UImBviND65LkLIxmIpQP3EC-T+5BIxQN63ZCxtjqaIyOgk6AZodHCLIdiAxBiCGZOsbk-urOjMQGGBZkoKAcBEDIHQDzPEiSWLEBQpcxl0scw5NTkLaOLkvFH2kqUYWAXAnyo3dJZow8D7n2C7JeShAWnQPC0YVpfSBnLwi8s7gXmqNGVzg2pt1AW3PM+fFjQTaZlufzB5wdIT4VlY3blug3m0LoTpQM6a7TZ0PIXdklr3nbBQWi3eiqVBggcuVtUbh2T4s1fXB5rKlBJvi0WgElbRXe1GvPoN-LSlRTivoICuL-pSgLY5SSnFnnWv7dWIV2pZT51PIieVs7glyY-RATOCZ9SuH-RFsltpA3NP+ke+kqZMzdstFu1FwrdrdWOp9oakdb2DTnbXJArliP9XI+da95rMPvNw9FFczQuI8VXItnN975GSe2y5Km076OWiY5LTd4nTHCvnO2VTyNkX3sXZ5966nKi8v08lbggBou0cBlZz8MBPqMXi5G4V0x-idufNwqALAUEMe1aper8xTB8CXYuQQqRA2id3diKNsxHCtGo4Fyzi7GunfOL23DkywRGVWRsnZRy1JfAy3IMjDyXkFsdC0BeyOlW2AzORNwWdYRCavnrr1BQ2K5VfewfoZEv4FQjTj7iUh1BM+ypakzPPDgk+kDEGEGiAm9Rp9SGHcoOfkzV7oAXho54yEZDKpHurICy0Vvz+16jBoUZoyLl5uC9Bdmg50qYhpo8RbtPH0v9CyeJ+T9DIO1r8-8Fgnz8+YFvnUibLjv3tgst0OlCv1RS7aMwQ37vxOZo5HG+oaE976cifRJrJbIHIXB31fASBw9BAe1fBCp9M61blOs95us90QlDA9swMRpul9BZ1AQAA+eXRbKlWdPbXLVAhNIlC7I7EeQLC2dAyeC-JgRDPuardzKlKgn4clErDzaHPLG3GjAgqPeVK7Y7XHVMHVfnHLa3RSYyVgoQ6FEQyVW-MgGVagOVK3PLQeW5C7BHGWPVKbSWFHJrD3a3Guc8d1T1D4BQECaaRkRjIfQ3OCCw3nJXZrDQ8kFveleWVLcwkCSw6wwaXac-GhHwrZKw8LPyJvNDFYEaewgGUNKFcNPndFVw27CI+AolRAoOMBKULLFPegmhLArLPA0SSEBwbI4QOEbgXI8gnOQwbkRgfAfge3CxVERdKNM1H5HQh1XHZ2QwgnZZRSUoSraWQYOooQfpJot3I0PPRw3w5wmXDdawXfaCMYhoyY8xR3aY+IkQRIlw5ZSYaQwrKY-o8OQYqOOcY4oHbeUZQ49ITITQigtnRnDnXac8SHHDRnUfKHT5Pyc8PcKzIEVYiYyRDYuxdpSHHjc8MoqXdUAE84kCAZaEype+KUf4njGI2QzactHoafEY4hQ-eQY-GcBsNArfPfBoJEvBWoNAnXckukmIXgh4nOIXYmXYhY4wvLeBAoz7R-HGfQCTWI0YLw57d3cOPbGo1zTHRXdkxeEw4ic8GwoEQU6UghaaPrF7dQ1I8kMBK4xsOOFU3w9LGgrWbGAsPbPyEaaaJkyUn4Y4l4muHU3pPUm6S4p0q3MkwoQUy4tUkUowsUj0vsRkjosoYOL0czWQSzazNmOzTmRzSwFzNyaeJg1QGZZGA9H5O2befoHhNM2k97ZGQ4v-fQZGCyTMh2FwEhEwLQYQAIEwYgVQ2oRoGPW5ZqDvI1VfAHMgGkyHOg4MkRcENvHYpmcEZY-0DsppD1bgHs63YNJJVvH2dvKvGQdMwrQ5LNOcGQSFZ2RckBItN1Efcc9fPPFcgVBlTcpladUAkfSHY8rkgSU8oVc8kVWaSOA-HMI-XZZcu8t0B8vPbgdVa0pqHk1kuON4F-E8+ecEXkgsEc4lcC2c1hS-ECm6aaFci1MFMEaaM5ZCnGPctyaClqMC6nVC786tCdLIVCiUpGRwL4SpTqfE98wk3ZTk-IgSdTLUhGIlEIgjFi4Mw6Nw84c8PuFqMnSgXEOfJii2RkO4tgE4S9VsgjJ0mk7rFc0mJS00sJS8l9f6XUjfYjSIZOIIk+FBOmBCgdRpcLPS19Ay2IYMiMUy9I5k1GPEiShfandSgaXUKc9YES27Ui4EaWMQPuNLaBFPHuAKzqYKtcJYUMUoUmBSxpEKtpbGMIby4wBivgsMCKoK1QJK7eFPAAHmyqivo0yv4KLPBAABU5IPs6BfBBA69eBAErMaQe1qBGzRJQAABqPMyfI2ZaIUGZJS8IHq2C8Ebq3q6jfqzqQa8aXUA4j-FoUgUyCEaq-AEGYgeyBqsQJqi2FqrEYrDq8anqj06asQWa4aiasaia06j9AamQGZaKr5GpOSCSXU1LJ03spELQ1rYuOSbEXilYdeeovKryzyvIwyXJGS0GmK6jc7X69EbEAMmHDhfAOiudAktyp+XgrfZoJ0lSIEQ6Yaj02YFBJ6j0vGkGzCI01K+8Ci0qnjeMEMV8LzAm9kSuUS8SzG4-QI6YIsz6wAugO2coUALLWAo8AiE8QyMwxpRkbixKtwvsEaVYvPCypS1W19Uc5fCy5AumRmuApmoyt0LzP6ogPdDihMmdGE96uOAWtcL6xMH6nMU2gGvyuDGIYGx2Dyp6oTF0Bg6G4m9CeG52xG-kvfaWVG9Ghij86nHG9CPGo0tmommmsq6YUoUiQ6aK7GVOgrFW6m0KpYumuaiYPTPCSagDAwVm8K4S4hCWMS6OySqhQM5an3AWv3YWkQUW0eSAg08W+iH-d2ikYqbS+KEGWYn6BWrUpW1OFWuGXSjWsGLW9COe3W4jfWvCckQzVOE20OgShmCM7BKzOQVmWzDmBzbmDAS2n5UvcvBsts1tfPRVDNNctFLvCyG+rPYgPC8wD+ivPDCWDgQBWbR+6NYygNLIU-LOc8X+u+pmOEkRZ0fsuYWC2IOYCcJYxByCjkFBmIDkdB0c-shCHB0aUgfBzBucMSUEYhkuMh6Yfs4eL2WChhzIf0DBuhyC4KJtcgGA7gThzheqg0Nhhofsv-HBv-PsIRoofsm4PuSVFgQwEcmR1QORqzFYSRwofsrq4h2IYs7gXwcIAEfAsPHqgR9R2Ifs9ybRmIXR0AfR4osPLyUxghyCyo6YGxuxwx0AMPSEWxmIMxmIfs4AKxgwEs2xgxox0AMAJx8hsEcEAAUmCfcfCa8dADid8dAH8fhIhB7m0aSfsbZv0ecYoYAEJhJcnQmPGInSmgRCmYmIQCrEmKnkmw8iqYhan2GKGCqAQrG8nPGWmgQwminYncDGm9HmnQB8C2nMn+zcDunuAihemInZmpmhmIRingmUnChPGYhinYg0znQnRoGM9P776colLAQQwsC5huAYHs84HDnh7bnK8R98AWAAArKsgEy5jQLvYowh45ivWCkZU-TJooJ50594J0IqTDHgAFu+8RGWeB+efs8jWC8jUF+kgJyCyAOgNUaOHhmIHFvFsSjFzF6RqgZR2ASAHBpRhgKl0l+k8l2RgAUWIdpeZYZbpP7IADlyBuXgneXuWc7J8HmYXwWEXDTQqLmVgsDlBijDplBC7xXioJEG9oWqRlXMMJFLLpXphZX5XyK1ZNxYWy8TmJW1XL1i8GBwWlya9tqS4VyrXvpxRSB48ro3nyA8w6jepNAw7oJwWy8m0kjgGHBOXChZ0HWjgihHKWJgIsQG6sawQVzcSdjXKiSJNhj0YbWR8PKAzNXzdJW2kw2YhM3Bhs3sF+l3nPnuA824Xs8JXLLi32aRK66ubGLE3mEOABAa6xAvgWBYVubAFGQ42ks03dkoWLND6ozT77MuZMAr64KKBTAGAdUPgqobhSBU1oM-1gyGHlZVYRlt3MEQxSbwHUEkEj25RRqGBjrqQ7qZqHr5NV0L2JpMZHQbdmhD3X2nwtLxYbgsdV9qyjB7369HXlBlAmqMgPMjAk9wPkmrMersDwO2bwRxrShUOtNRILIJryA4Ol6JxUPuAzq1XOKc4HAGljBgPjYxBa969aOg4KO-1TUjaXAzqrqIQJq-30ljBAOpQsDetyOJpjBaOJgrrrBwQzLzBBOPUWoRYFBsC680LPZMgFOdoT3RIZLtJpg7cRFZ0W5m5pIgM0gvZz3bQ9PEUdYV1TOshzPQBqnRJz0bdSgn3VODHVJz0ziwKl2QJV3YoN3U09PDijO48uCjU9PQBW50MYt-ou9kx1TW1zOyr0OOOerpP0q5OXPk9XOr3y6Vhxrb2nT+k94stYvYpfSeFbOTqCPOrUu6BGOmAyB5ORksvEuRr0N4QtODRP86uhOAZKGPhYLiCQz6u5OFrtPCtSZAu5c0u+uiHuARFDo9PrQzPFPC6ZuGvSAeIQw7czrXP1PwQAByW9nA0ao77bu96j2avTyTlUHrmTldgsUgGZHVJ7pT4zlT-6fd6cQ6F79pzFrJ8EIQYQMa4IMauyLSP+NwNMMaxDDgeEMbmSGblz37wuiMFH7gdb0b87pHn7x7wpou9H4b3rh7sgfRwC8wD1r15QH1-wohUhDwR5FAwgN7kL0rHhfddT-s1nyxWmEfcrpnptrAyn9Yan6gTQcLa1+QZQR5ETgXhHg7RWA+DnuXfs89Ijo0orwZAGfdD9loEJcnlwX7yXhntwAXmuDw7no1HXoTMwnNxOoEEMQrzLA+erTJDUnXvTI5k34wIuZPRkLAo3+n6XtwWXj3wvVOUxfG8K8EIh9T0mQ6IPx5L+ZPQukZRPqH33uvCYXXyP+31SEuTrooOKqXpPzP+vc73P6BFD4X71sX2nmCuPpcSvxxfDooIXz1kXmniX9PmkrLnX3X0mZv7eG5kvjPyVLPnjSI90QDaL7XkJHvIoEaVX2Cp34rpX+fyfge8PmhEhNIrdHOMSkgM31iw9a1sTef9T-ii-lYYyFu6cB9P3YAwPcr9kcAr+39+gF-dpfdfy0TMaZXtOkXQAEFYiyD-IAgHgrINZh05gIioi2bJEpzQaYKqJthViSphAFQQYD-xP4uBD+c-Znih0QF1QbuggdAZLg0ixQbyWAviiglgGUBv+G-A3u6C1a6EPMD6OGBjyFqNEdiPUBgOoBEAcBSAb6MVEQGqzz9fa0-dsNdHv4b9xBGGKkJ9BwzHR6K+GBWiEiIyvpS6i-BguRlujbRhWRfEMh3SLg8C+BwgAQUz3UFgxcaacQgDMk4w3RPoZ+IoFPw8Kkxreg9FjiQ1Ni2CXOOvbgLkB8HqYN+69RiFv2no799eIYAzMGQCGiDmejAo2P0AUBFY8SFQfhl2DZBpDuGX8QwKSF-7KcwIzKdTlkN8A5DiQTwc7vHxQSGBmUrfQoE8GKKJC-oKQnYiUK7DSZmhmEWocjT3xtCi4uQsZImhlhkAHY2ePoUYEyEERsh-QvIdgMKwB0ihcuPoZAnKED8lwRNbodBAaGeNqgIsUYS1HGHLDchTwOoROG2H4EmhyQroZugXaXCfonCSgFgQAIQ1PBMgB4WjC2SBA-oVHJIQwCeF2sS6L5W5G8KoAfDLhPwv6G9wDodCtucuGSud12EjD+gYwqYaUMGCGQiaMIzlucJBjvDpYnwpIRCKuFIJLhNwy9CmyLhCgzcoIYit+2BhpJc0dMUwsPQUFAhcMKgg+Nu0sEzRPB74CoCHAoxKC1OsVPXjPipj0iqA3Isqs0A4jSo-hVALiPYL5KODeGkokelRR-qgjlC8oziLlQ4iqjGR+lOYXDBQ50Y9gtQcavtzNEcBge53SDFkH1GsQqA4QdTiaJiAIjgME0fQBxBdFy4KReGPeJSBpFPxHRDIqUR6LP5jQfREXNuH-2nAMinOk4SgHKJkZcQIwPo04aGAjAJjMxY5LUfclTG5UE+zo3MfSUOg5ieh24PWudxMR1gLRCQ5aF2zOYwjiyqlJcKExxEyUNRLgNQCYFLTjFCBYXKHppGcDcBA+aoo3kyPlLD1Cx9KGkLfkZCyjtRhY-QOONzSDjRxuXf7isEnHEYLSXSBUcozfymi6xtouEV7HO7o0mx9iFsbOLfzdiyg6VdqCjG9HOj8hnw5aC5x9EPj0oBI74d0DZDdBZh5Ic8HCXSg4hAJfgZ8ryI7ChkvwKeUoDJUw6GBGBz45GAwCJC7xXxLiWIOeG6CMhixssfcSJk9GIQ-A4QdDuekw7dAs4XbUAJVQAASzLBgAAEFwA4AZlgACVKqkAAAPLctkAQIGSnJVfKSA1AZApAdMSXFJApR-lXgE+I-DIxsJ0qRMb+LQnJ9hxrRZScoV16-jOgjYDcUaGIF6TMgEkkcdMRXKMTmJbEjidxL4kCTjJA4dSb700nOB2k0k7vP5V-Hgi0JGErMFhI8mF1Aerk+gO5EuHwCc4aoFyeQLcnaSZJ6o-yncJBGPCfmjGBkU1TwKg5exBaSVIwEMk8J0p5kJMdKilGZiZAYk5RvlPcn5i6AUoztpIDiAZBCKXAkWIyAAAMIk25DUHsgbImpW2ULlVGoCDAHofU3IA4FalAhYezU8adoB6p4hiJAkKaRyhmmkBiBrZbqVILfbijn0S0y3oNN9D+VSY4INXl4N2ltU2eeGGskXUvYPjAgWWTaQ6FSDVBsgTU14sPTOnFYLpQ06SptV6kcB+pX04aX5HfQqZTMYgwerkhAxiDDIpQdab9O3YWDGp-0vaTlCGmp07cbg6-iKNJjSZZM7GXwRv1LGxBcZJmfGUEOZ7y8b+evQgGkU8EkzVML05sIwIcCDUdRXEQgAuDvBTjgyJo6PtaItFWjTxhfe7PaO9GczExcMCMbug5m+jAB-oqkQYUqQbQOZNzLmcRillejCAeQ9TvLL3iKzqAysu8CrISmRMwAkIc2RGNJgyyYxE3JcFrMTEsyHqbM3KumM2Hkl0xpIImUUEdm4gVxCfN2duIaAJ9PZlYg0NWKpm1jzRwPVCZfianYEQpnkuYehXXJgh8pZyJqd-R7H0AOE8k1tFNJXIjJ85WlJaTeXznvjoaa6fYK9Mpn8EuebAb9L4DziIZ3+53WNEgiLkPirW6SKaYzNxhriSpoAXcdZWnEwsOE2ZP6aPTumjwHpfwJ6Twnzm-Fh6PsucQPlsIThl5K4-ucoS9nFhs564DUmPPGL5yd5DQIeWDAWluhl5x4vmULPU7wiqZsREnk917lfE1Y5ZCeU22pCNjJAzYr4fJyvlhIB8XyOiVZIYCcTLIAAGWZaCTRaXsTqVxQqkTzqpyY7eQlLmHySWoaEuKd3nU5qTFJX8KacgpUnncTJjYQhSlCBFEpSFSChoXMNAXgKoF4ARySBGck0LApiUmES0PRHbhvJLY3yZhKFSBST5RQKCk1LCkwj4QmY3hX-IhAnTRFHAcRX-Ph6MCrW5CjybJLmFJSHhWBRjFNOKKg4u5E83uTcxqmlTGM5U3UWwtMXqiHxlSABi1F+6ri8eZ-FBfFLnqkiOFf8+4VQB0VA1ZanjQyHcNLZmJ0h3C6CFFLMlaSt5bi4jKWJxGqKmp7SaJbVJsVa13FWIxgY-McW-duRf4niMyJhatBkQjIcCbgKcWk8gpWSvHn3WXR8jPwUoIpaGzOJ2Kg2T857nj1yWkjDijS17MMMRblLXunSjJTG0TJzyKgyMB0NhLe67dCJcoJTDui9GzLbFK2QIJEsGmMAsF+U3aB4TQmTKtlvNGIHhL8CMh+F-koVFss0HngIOy1CBPlLyW6tqM0iwkd0Eh4xTQp4UkIaVBxCvLJJdARRUkJHKGRJuCc7gDiOuV3SQIdy0kZv0lpRE4CpHWNispahLTvoWCsuSPI1Y1TGQbwHORqQXnuEZ+YylGJMsCkHLiUVIfCUCFOW4gApNUkIVcsSAQqJ59ygEGSSeX-jtgokKaf8r+g1LCgXyl5VyrEXhS6hpMKaaCuSbgqIES06FRETCHwqF2AwIuEtMmz5T45byxObu1jmPAtlW43SCQOVVxytl53JVWsooQXLKFOcU1Wqt1XEQPgwQFqHctRWKT1VvyyEsPW3jRTflcJUBTZK4k8T+JTC8kL6vYn+r7JMC4FRqolXFFPVZqyFhfJcDggMQEnS1SxFNU9z0V5Ie1aspRUbKXV+KuQQIFjWELGQ9CyBdAr8hlrGFi4pcOKoMDJNi1iS9EqnCTWFoY5tdcnJdjebfYSELwv1CRPe5ZBe1WlEIm8G7UogmefasdGRQUxkFiBZCECGOvmj0DCAU65dOTJI6XpScrbDRCkHHWd5h15ckzsOuIEhFgo+6k9GQX8pX9V1xcsJJIj3XLrJ1K5DdVpRqBiBLkRcRxYermE3rN1kcGvqL3F7jxn1Nld0Z4L-UPix1+AZ6UupRA0l0lf8t7pzS7XfY4NpgWGjJEQ1JDzu0G56QutQ3wbTYdAC9alSXxVLSeMxD1IuvoAXriNpGjBtrnJLYbIRzCL5YDxEBjUKNT3WCnhu7zwKc456mDQVMfXwahlSG98ShvPXfZpN8GxMffPG6IjXWyIg4aiKlB2FZCbSqjZ6lk2mB9AumugYXRY08RIIDQHEUJvw33rd1hgUjfptE0YbGNe+YzQknY2g8LI3GglhZv40Lt31HmHfCPTyUrktFPi1KVWP8W4FdcyKAoXuk02OLfN1ZLTSn2EV9Vv5K2G8TIr1rDYWcV4n+elsJF0xdcgEZoDJVM1FBnNr0djeDy42xbqlVRYgB+q0BQtI4KMEwPwDwHJtMSD6Htn2wHbtseajAwDV331JZ9xNSQ3iMrU4XJTfF-oXmRFtDAtaIOVKdSMwBYFUoPSg2uvvoV9iqdaa7Aj0t1FpjhNkaRZHMDW0DkxBH+EApMY+kgLHVCtTG8EBtvF7TR4eSXL+Z1GvF5KF6fIW4l7Fb7lbZo7Gp7fXy-ruaatpPWCsDvCxQtzwNwdCXw24aMgAAnCcD8TsR+GX2tdWjpCgY67h-macB8CqJkqPC0Ihfv3VhUSD9ALgcKm1LJWFAEdMyA7gdwshoBWdfK-TPKv9AM6XOHwJwSsAZ15K8MIsIkWRF51VEPIF5TQdEPp3o7uGgu-HTBw+zw7ZdZPEZTOnrncMm5BYN8PfAdWjbIR-lYzRVv4AQhOgDcrXaDtEgebBuGuxuYwQ3ACaWIPfLTdUFKirgyAdsQ1HYwxUCBWgjIQPqP2qkyc3wdXfgFdSODKKCVBgOVKQE934s7OqkSpBwBlhyJB63O8EJ5C8g99B5ePJgaVBiCZ7fIeq7net2yXHBQhFOiIAxFfB3KUBjq9AQ0rJ1FB01fU1VQnOwKkC7lN5VoHztiCvgY9cesSgnqBDggk9BKOnbEHT2Z7PITIX5QatqDh5p9ReqflXs3qc6igU+6fV5F+4Xh5xdAxfUvpCEC7wRgSzhdNrC3d1DGZJUvXjz9Z0lltEiPqFSlaDcjQVp2kGMkyGyliPNq4ojqlt-mEiuxKyJmvvzdTj0hAhgeyKrFd38A3phS-3c4p76vjg9MBgQKNQj1OCZao8OEj-pf3vbe2uWr7UAYTXzCTOcMTDQYPBB2QPsuo5aE6OYBSR-w3Xero4of2raAYeBw6OQcLoHaP9xRIbJkuco7EFZaNJWY8C5GeUNFIElkUKMUF3QvojAAjBIYcoV19AuzOpQKN0EnQyVI0DeYeK0P0UuMQowuqHJiD211RUbNfRTo8K7o1wv4OkngHNmQgQwbxWQ2yKFF4ZFDiVcwyoeEwCR1DsE-kV6AMPCjtwgYOgKzJXFcjTDMQJUdrpVExH1REmYyEIcGASGfDe4qw4JlfAVAb0oQfpDwnMPKG16BlRwxbOiItr+Z0crI1LQqMRCxR6RzoFKL344Bndjig7oOP0CByAAOlgB7nBLNsMgYIPJxK22MxmcoaCMztUQe60a7-E4G0dv0dHNJXR7cb0f6ONo8Sgx4Y6+LGi8BVwhdHoKTD2OgAAAXsa1AC9Hm9GxnYlsc268GegZxiYzpCmPggB9sxwqFBAajgH3gUB6cB0euNFxbj8nCpvN0grkAxqLAMasoDGrA9JgB3J0HgAWOUb-jeRk3D9G2MgmAe4J0slCZhPw8XjvkIAA')">function extend_if_possible(variable, val, frame) {
    const binding = binding_in_frame(variable, frame);
    if (! is_undefined(binding)) {
        return unify_match(binding_value(binding), 
                            val, frame); 
    } else if (is_var(val)) {                      // ***
        const binding = binding_in_frame(val, frame);
        return ! is_undefined(binding)
               ? unify_match(variable,
                             binding_value(binding),
                             frame)
               : extend(variable, val, frame);
    } else if (depends_on(val, variable, frame)) { // ***
        return "failed";
    } else {
        return extend(variable, val, frame);
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p30' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Depends-on?</kbd></span>
	<span style="color:blue">The function <kbd>depends_on</kbd>
	</span>
      
      is a predicate that tests whether an expression proposed to be the value
      of a pattern variable depends on the variable. This must be done relative
      to the current frame because the expression may contain occurrences of a
      variable that already has a value that depends on our test variable.
      The structure of
      
	<span style="color:green"><kbd>depends-on?</kbd></span>
	<span style="color:blue"><kbd>depends_on</kbd></span>
      
      is a simple recursive tree walk in which we substitute for the values of
      variables whenever necessary.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (depends-on? exp var frame)
  (define (tree-walk e)
    (cond ((var? e)
           (if (equal? var e)
                true
                (let ((b (binding-in-frame e frame)))
                  (if b
                      (tree-walk (binding-value b))
                      false))))
          ((pair? e)
           (or (tree-walk (car e))
               (tree-walk (cdr e))))
          (else false)))
        (tree-walk exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuTLiQA0oOQAFvKS51GGJoGW1rb2SSaJSURj3VYAMghoDeSm6u16oAAvCjnm8PhcDkJjqI7OUlCwlgiVkkfuY-ttAZ8ri0bmFweQngAiYgE+RM-pDbEicagOgATxc2Uk1HwklZhIZ3w2FIBsO650oVQ8JP0nMOo1xgKUdDolCixEJeilxhlWwBZwuNLpd2Jj1ATJ1eoNRvIHKxmt5Tv1hsSoUFmWVNVVpt+5rs8tUirUkejUrV6qOPLE3pdfvm0kWknkAA9NJZdeMTWSzLKI7kFSC1HG7V41Vikyc8VI2qRpEplLji2b-s2MZdrrJ6bXGQ6NPRznpJK3253xhzfP5Gk1+9ah7aVfamfMIkpnDlp-I2x2lLiFw1l5aB7T1wzmZ7aIfj3PaO6uQ+7DOT7j-UKg3tSVSMsYQrKMq1UWNwJHBNEw-UAvxfYg5gWd5c3zeRC1obtyXDEC4TApUCP-Xp6y5RstRCdsXBaJRszzAs9Sw6DQ1LXCrzXW47wdKjnBouj0Mw4g32GOCeL44FlEJKZf0DOhsNY3tQBYJRNFUAU-xFMUJXkJ5IMI6DSJEnFeTE2jMhafl5M2RS9OrKDNzrRNyN5EIy1Cc4FFdKzgPYwdOJHZk3LCU95FdYTnLENy0IYotmJLYDbPjBs4JCccWjkcYVCs6zKV8m9-Ic0cmTSjLaBUfiYtfYol2XKkrT84dCuZErcXK4LPMScK4JazKZnQ9LSBC7zcPXSRLHwLieFg4yxB6sqZnHOh5AAR0WY04qAkbbjG9ouP4abkx2Wh0tamYVCmVkqFmIlCulHDFNG8auIAZiclKpCW1bEkocqET1Ls4oASEBntcqkakGo3YMt0+taqF+jx-vnA6mwIUEwnckKvI2+7KUSgyPRmuwlrSzGOvW26WJyuVQLjGtbsM7lUYyaRqFIABrbKfPB+r8sa6G9GZfc2fZrqidAYWOckczLJx3Gafw+mBYMN7xZCFTNFkQaAcp+K2J568bS4x1NE1yhteRwnDoIImKowxj8jl6ny0V+zlcZuCOyiO3BLkp2Etp8ClYAhNkrVqQd1UNC7vlvsIb5u40OZAB+cLcDAahNEUU9xgxfcdNATRCHIUA8haUArnIdOmFYUBSBeFSplAZ7QDUo8tWetBO9epmtSdNnVHZ+R+SeSwNEYFo6BjhSwfFQhKlUMfqAnqeNlKZPQFadpOhaNe0gALlAFbCCyoeR7w7pIyXleEz39eL8Xo9l8n-Q74P0vdQHs+njja+X9V62ykh55xyKoaeddaBhFAKzQaMxzj52RNAziTIABU8CcgoLfIEUSWR2aEFUmfSQPAniEP2lTIIi0S50EIM4dB8hEH91IIPYeRCf7gRgeVOhpFGiUHwK3EIW8OgJG6NQ2he4chqnIY0YCgid4DEaIMI+0glpSNKJQzY49y5Ig-nQL+LD+BsMIqIrhnJaozwtM0YgbQhFdEfpo1+ZjGgb1kcIt+ZjD6-yfhPUxpRhiBD8eYFK9BFB3EIcQ0ApCngZkWOAwI6jjHiPodoxhzD+SsOeOwtmnDEncNKLw-hljrE7zUjQkxqi0hLXIBiQiHC4GJIeG4xxwJQSqFvGEp4zSwSRNANE+QaoGmOMGRkmpWS6n51Dm-RR8hlH0JLMudRf8GGfyYd0uMCTxk+Nqvk1QAirHb2EXY5+ki5lmEBo0Sp1S1DrJyA0s5QzGidNUI87pvT9ADPuUMtZpScmkTuWYKZMzynLguZ4zRUSUKbOXAEtI0LQCwrgulOgwJyD11UCwWJsclLIlREyVm1A8GaCZI0oIG88UEuJYEQ+bAUTaKZJEJajA3QUpJeIYJjLmWUqPowZgYIWDMgAKrEHZsQagAB3Owmds5agALTSoyfnLB5hYXAURci+uDZ1GSsQiApJSklDALoWAgY6jK6IK1TnR8hrcW4PwW+dRRcS7aPNT+K19KQlvginYIB7xnCRHStEVQO4fr53BZmPp5DgKPKDfUnpEKrao19VYyI3to351UIm-1XwI24UjBm5NKMtR5uiMhMN6a-X5uzYpOMRavjxsLeW4tkRJD4EkksVNNymBsnAcBFJ7aC4tq7XW3kuYFBWMDR2YNHbelPAHYSbtuFHneulg2mIfbQ0xJna2pyeAPwMBbbXKAcBEDIHQHwHgvdh3RKGgFI+xBZjT25jcKYWVoKNNJXIbOMxelSkaYffEkpX21VJTazQMlhTfvUoGTS4o2RSieLoe9v7tSmy1hax2t032lxQ5ZeQV6FCqA-D7B2cHb33veR80aooS2LDkl7Ij4w-a3Xg3etUWA7l-qkM65ekhqiJrQz+oDR88NLC44wHjrA+MuuoJIDWqGdbu2Y4h2qHHxNJtOgJ5cG9cMIzU71LiCGHHLhU6ZejTEMOCaXR+VpBJeK0QkmyaSkHsiMYUxyxxJmZYkYM0hkIsNvoIxqEjMz7tMPaZmH5vQP0FqI1KuhhTpHDONBU6FTQ5A0ntVCokDTTjN57JsbvZTgJJac0A5poT5Viv6ZYz5qQQUPKZYpiFwTYWdq9jJg1qGAFFOJdKCp1MvpGsh1CxmGThY0yDdqN1tjZgVOEYQvx6CfzQDTdAFp4TBHbYzg+NJyheQqkzi89VwrIR5vyaG81kbp3YpNQS0hxQPLjaCuFWK4m-I9BKBzKAWV5XMwhTTp7bDG3iBPC9lPKm2yQj5koCwDK11m1EyB8cvePbsNAgiDDq67wrPCBB4wKIU95H-KUSoiHUgEStHh4dRHGKFkYXno6n7J98OEc88IN5bn7kjt0LSBDoJaBeQ5x8swhH7NSUUHJNn5GhdDNB1L6XjjCO8+YANu4bPclhkUq5cM1GlgFnpz1srblemqdHXcPX0gDDMsPi4rohO4XE9mXve7y8gcCqFSK8VNtrZpazl9uVsn+SKrhWRUS20qO9LkmhOg3WpHAWUqpL2yIAB8jOhpe26-BvMBOQ-ixa3NVkxESQx7mY+8IxcXg4fW-n8q-VzbXqYwlg3aQ1sLHr7p+aqmIudd6FN9xqf8PV7OhbxQl1KDXUO-esO1sWtd6i+JwLsWqv3vIeojojAMZhBYFU3piCOVhaZ0sNfG-6vYyYwZu34g+E7Nq9r79R+qmb+3xCjF5i7D3-clvnXF+AUqJOZi-fQ0JMx07Wp+Cm5+GwwwGo4slGYoJA-Wti2kYOJeuE8eqg2kyeDoKCcBY2wimCTwiBACqMdAg0SE1AxcT4s4aGLmIclas8s+AW2gQWcW52gmGs3OakJBIo5BV2kCBG6MD+J+WWBkcu9yxBeQXB+2R4lBuIckQBViIBQhDMTeQQKmPBzBvQxK769IahYGheRQyhnKFQ0gU+qMLWlWN6BmK+kCJcMsiCxW0s1AFkUoF+6itSDA2iYhpB3BUh34DG6ajh-IkK6i2Bzowi7hSCGMVGIRPotibhkKwEAB+GMsmeo6POd6fOKurSoy0egu8uy40RBoXQ0ey2eRpRgQBmhBWoLWdWWMihysxeoMAIS6RuKEqgbmiRuu2u0U9s128WFRJhVRI2-WoBXWCWVhE4saYaiCHRqgwx6YKEpm6hqo3WF+-WuhOusxOBrouhJG06CWF+wEvSAxl65UahS+4CaxTmX6rROhVxJGuRaQMxOhxu3RgkcGDxQy-RjRdgNuLQDYO6RMe6zAbAh6nAJ6vAXcF6pw4MjA5elkOY86muUgmQ2QuQ+QCJJRgmOYxKh8zuYIOYQsWQOQeQR8eY7cXQo8R48gY+XQ+8-24slmCOouVg4uTwyRYxyBD0yC5O8hH4TIIhtUzJUwxR7J4BRk1sqUHgFO2OiJs88cRs+AzUUpvJRMYs1sIuJ4Yu6+BGspAIj0u0ipoAU0Q6YgLOAROptBep20T0hp+0Jpb+tsSu-OWW+AupEw1pBpTwr0xxYgzRt+rR44pubpERdwTILRYa-JECegRQ9pgI4Ziw46YawZeURsexYZ-pEZBavI8Z7wgZWWrylpLslYhErylRw6ZArMeoxaTpmRlhnJlIcYYpnqaM6+VSs6SwdZ3xD8TZ6irwqEcQaW2Y6RyuroiCRhAwzZlmraakAYzm66GEwZjyVxxREeWZpprauhEuW6aw5gXZkY7Za5b+G5EeBG25Rg6wGuDZ4EB5PpdgXO8hNZXky5oaIpOoqELGhZ0CugUQrwM5f4YONKX50Qv5GYq8ZiG8i6+qWO05z5kxU8bJb5Q5SmhWOQwFLwf5skhgAAPEBT+ehaBQYSyniaoEyAACpZB6rED8ilx45OCJAMDUIoaUC0kOigAADUmJ8uYQEQ0QvClky5hgHFkZTI7FnF0u3FyafFiZU8hFnKxFZFFF+A8goqNFUQdFegDF+CZsLFIlHFHxfI4Qkl+A-Fs5yiglDozIol+lElvFxl0ljMzZZK+C6xEGplDR2Cued6MgWQqknZjQcEnhGFc5cFL+QQj6RhQVZlDxWmXleKqk+lZgugbY1AVZ3sj5WWFRDxh8Vx2K2ikYAl+lG8kYBF+l2VJBREkV8FwyagBFkK-ib82yCGuVaI-ZqWaS6Vqwf+jx3KLuVxbumQrQoA2kQeQQP+jujiq+raiC7+7ZUcLGF+0iuEgV7Zm5p5XaApQuK1J5B5dVSqEBXZCG3lmcc1k+Oe1slxplGxfVkx7lgSnlswR1vlH5XVXuRB5VsFBFQKl5Fic8C8BVHyMVD1cVbReRSVlZyaSFGRXkmVHy2VplzV+VplYFQuG8FyxVKgK5KgslSWfI5VaySNby1V9lu1RODVV+TVgFfZ2YA57Vw5zpnVFKxF11TIgqA1ViQ1bIfuOiPoYUJN9u0yv+FKk1nN2iM1054BjiwEy1G5y5a1c6G1HyW1KEW5XafNsKyquEh1wNTZ1cu6NcIJHAx63AfA2AzZkO6OsOWOCObOVMpevMCpJAzIUOGONJapqMztltkg0OmsHW-GNtesNkgchEauGq1hhcFtmOlOTY4Rt4d8t4TI8okZ5g8ogy7OpQ8d0YSdZg0YqdAp8dnSWdhcIIjAudcdyC64hd64pd6dyC5Q880gkZddlQtUadaQ8dqq7YgeTwHdSg1Fy4rdQQ8deJWdeJjiA9gQ8dykrwMmzgdA-JU9LwM9DAjQ495g8dbFhd5gqgBJoAgRGBn2HFfdq9Zg8d0qm9Zg29Twe9SIKen2cqR9edyCeBpQl9u9hgN9oAn2KCu9Zgx9IZJFwA59rcO919t9oAYAD9Zd9ITIAApEA6-aA5-aADAz-aAH-fHTSpvQg+-WA4BYEY-dAwAIQohYMgM4NIPEPaL4NQOhlYXwNkP72gA4VmDUM13QNYVIjn3YOMMcMsPoPIJJ70NX3kOfYp58MEOhlJ6cNPBBDcMf2iPaJv0SMkWENANIOBAf1mCEPmAIl3ycj2oR00lR0-jLnIhvyoHygdKGNw67r6Nh0e2R2EbUDOAABW7c7h5jKkQOGB+d1j7IukQdagauf9QQDjRjtjE5Bj0Ontu2GliCt48dvxkZvxITZRa9yCkAxAQicgXdZgmT2TaWqTaT-9TIC9kgsAkAWdZTFTRTaTk9p4i9AAooXWU407U2UfHQAHJKCdNAPdOdPY2lF2MTFhNw6xMP5I1mONCoGkAYGRikCE2jO5nWF7bZ5RMu1jMrNTgR5TOlAzNzOBPqD9Lh3ROR3jPZ7NkB5o6nPhPW2O2qXrjBlXNNpbyMDSD8gQ0uNKDzDEERCpYg33JLNe1xA5Cuh+0kDtOBBeyPN9BBBnVEFbCgYdV3DBn3lpGzBQ1ZZuZsFjpAuEawUJVAvjObmQtmA4vdB4u2zONuMUDFGEt+Od6ThP5hrwVuZU0paDnItOQ5AlxU1RCszODlTIuIKVLOXItGo4AAmHRAkHqG1cCYAYBQlHR6DKAUCSBfRhC5zKSMCcx9rJkOBOCuBgiJR6usY5aJRximvmVMiSC6UGU8VRBSUmsTo-IGGHzOu7gbKxnVDKShDyD2YKAiKGXRBIFdlKCkCkBODzxDRqQg4RvkMMAcWzERvNVMgiUbxpugCHzCWiXhsLMK2DJptPA2X46Hm5YSRLRqTBtRC47461uSAkAVvhpGAgzfXEzVuiVMgkWiU+u0RLQBu2KoF0aNsdhLS1syWdv6BMixkjvr7vBTAsCzF476u-VqBewGEZtGFEo42UScTrugBQiNLX6rsVXrvVQPxxhnugCUMOipwbutyRj7uAVMipyaFRnhDhtVIas-jauczrs4kFIyZMUWxYT7uHuDL-qH6On0Q9GgfLtmuCZdt2uztLQfCKCLuPt460bwfmXMoiV2tXHQbaRA5NiLFLtfC4eFusUcUofzvocQSHOg7kcwTsV4dTsAe0ckUV21tPC0doeMDopuuAiPL-s5acdMgF1PC3iYdfCGJrvwe8fEBNv8fopvwqYlvMdvwZsADkdrieQlunan9rRllk67M7Sno77wX0jAlk1ne99ZP1EVhILgbgkYdnpL7myCZcwly8wlIqbozITo7qgU887It8YnFnc7DH+E7ncnqgsX5blnKnQnnHbniwNnhNcYCXfH7nt5oAXzPzpAfzzLWY+YbM9sUceYK7smdeXY0cWnJTNXIHQkM60HAkxG0cBbQQqBBXOoRXlAqWOuaO5Xuo47lXmg4XvWgIxH9XOW8dqcxbl1VGM3VXQnaEeXdnw3pAFX0c5CpOQHZszX43SOaQq+tsOV2ib8hHy3sGiuMHbx0cu1BjI3S0tIoOiCqBm3ZX23o3qlkeq3C1zsr1Jj8Nz7BdDXjykY339s1woOhNiU0PuosPWHk378+LoPOKFdEPzAP3r3MmWHRn6Pf4qbvXvzA3JX7IEPxdJHIPf4XXgQPX3zfXxXQ3iPxRTHj3QnjyRPgYVjL3yPpb3+Dul+gHK3E3GKwE83kZ13WksGj3QvAt41YVmteY3+8LWoPuHZVXn5kO1Ps398kY+v78xFScDoT2Hud593Dszw-IWcbtWoeZGlx3OvUgjyRvLKjZVXRnJveYbuz2nurx1vjv5Ac9ZZKYSPjKuc5A0mrgMmLQbQ3Qu3Dndgmvzvz7QXjK07744scIb3EfP4nmSfe5oEwf-34veX9KTLP0+Gpv7ZinbNtIO4kgDcViOQjA4C3UmcOG2vL1+3kcj3X15g6iNadhK6XtSEs1tfW6gPaQj6vxZaSa0Qgz98JADfyEYmLfLQbf43m6XaWVECmglkNaGxNa6uo1wv+3bvq3g-r+RdLSGgh-0Xifq3TwD-lknv4vatwvL1bbpJmgM-weeqr-zf7Hc8u3FXICwAO7c5DwndWxHQHCRtBYBtIOgGQmT7Td66akKaA10QG91rgKAsBEZ0h6gR4BHnMBBgXAEEgoB8hHAfyDgHhAIBlyTAR52KaBAaBeA-aGW0iBTBiScONgSIgQHTJcByA1AV2SbpXIsBOWPgaEH4AECcaRA-CCQPp5b1yGXAxQDwPeB8DVAUg-AcwOXBkCP6FAyAWsimgOUAq9AygfgHbDkBUCOOPkMGUsGnhR07kSwASCrYuDIBNg+5jJVjIODyATgwwW4IgErsIqhg+9kYSM6qC3muQXgYINoHdAKU+Vcweinp76CU8vg-wUkMCGUC1kSQiZFAWnw5hUiXtMUItFuD5kXWIaeCKeF35zpxiUCEftomP5NpZqa6TtHOgOL6wG2eWYpKfzfZotx0nrDtDRFHAHkAOyKC6JICnqopj+36U-t3WqFtC+keXcYSPkmGnhUUyKeYSMLPJdl2yqbfAFWC6AiUGuTIA4UqCOHe9VoWUTYVUKSANc9hZgCIRHA7BPJTwhgBrmi2KGd4yhxoG4cMJqF9InhQIansikMBQhhO1PYYfexWG2A1hKKdCnGFBFKCzEcYKEciMFKODVhUw9ClDzeHoi0mkYNEQlUVpbohOpww4S0Cz75CiCyaHlo+ACEYk0BjyHeqkKGr10w+OwN4FLHEIZ8uwvI8YE8C+4LDNuB5OoSXGxE7RqEFuRBDCKQjYj4u6XNJDcP5G0AngxIj5CKOn5dkJR5uR1DijOE5BKRDXcITjVSp0ikIAQnUXTgtwcjN4qHP1LmFeGARf+vmatk-ydGmDxYlcZwRANSThIz4IguJGHXCKVw-RJCYeHaVEGFJ9kcAwwBvCMJZs+QFfPZDmEkCEJRQHosUREmHiIJcRBgDoUiXX6pI4xt7ESofDPgNgeWoAUigAAlGmkgAAILgBwAjTAAEqkVIAAAeU6bIBtE45JVgQCsD1xRsDKGQk6IugAjgyhAe0SmPHEj5723oh0TmFh758-CsooTt6JUBnRVxkCWMpuMqAjiQkfhYMrWPrFNiWx7YrsT2L3FWBx+bQZcXn1HFrjMRtgYMt6ICFLi0xLCDMeuMC47jiA0qQwfSXVJ+pDxkfXgrKMnGflDBzaKwagQ5TDCnAyeQXPXCPDswZMSEFUfkEQl8oi6fgkfJOORFKV4RYEscZBMWEOUqxsJA8BoBIBNxtEAABgnJwQEgoqMaKFwO5yZc4lAboN2g4m0ToyJdbRNROWZ0TFAolHgAWMpAiTxMYkxgLGSXSsT1+k6NtBUI7QySmuaGL2i0EXLU8X2kZR5BpOA5aSeJcXK1nl0sDaRlJiSKQJEEXihdwECyDiZpJ-A8SxyyldiQeBcncTeJF+OCPQPeCioVAnMIvotULH99teFKDeIpI8l9od+FgZycZNck6SKUKmK-hNyil38wQAUyQEFOkCcxDeL-B4jlLymcwP+qPIzH-zV6-8SpwU+yRIjy6fDeEQIFKnqDTStCMwUEuZMPxXSj9F+3sZodOVaE3kNg2ybRrsiKQHJT+oVGRMQD4pwjphY-WYSukJrqjAgnUiibCwgIX8r8IQSOBmGORlE8AKCE6W-B6n9S+pmacfs2iGkqBJxAA4CONOjH5YF+maZfmYGcRzTjKC0-CmpJ0hrTAgMw1onMIBmBIt0bmXEoUPYIdS7pm07aYrxF5aD-W3OTjPkA2nDTSRawY6adLCmUhyR5wykQr0BQvUEiUMsdDDOkD3T9q1IrUCQHmnyjNA4STQAYgomfk9hz7A0RcJyz4zDR27KbsfGuFMz9o9w1tECMjiMz3hOWJqWKEYJtTQEjMjpCzNGE7tnhYIZmZLPvjSyWphYNNMzI6ThJRR4DMACdJQRAjHkEsg9tCF14tJ1ZDXOmd9PlGIipo+ItIIiP2guygg9stJPKKh7OzQZpQKHu7P9lpAdqRnHmUcIr61ZQumxJ8bQBXbylbwWEkLjkHt68hxwbYacUWBEnBlEo2cstjJM8zZyXeJ7OmOBDzn3t46KgIKfyBhKLAOQRnC1mXIcmejzqqOWiCJPqkFwhR+E2wIKMVE3Su0WYtsGiU8m6pLJbIayfnFsn5Bs5LhMOl7MlH05d8gyBefKO7kTi1p6czMMRmHniFs5Hs0oJqMHRdkF5uo-YRSL5nN42RlQb3sJnVaKjO5DhJwrvKQj7yOcZoqwPSMyGnzrRKsSsVYGrF1jJArY-lAABlGmvY6+cYQHHEThxIkuSORNFFoDpx7wJcXONfENdFxKY64PAvQXEANxt4rcaPLkhlt9xMwXBSeKAUgLwF4AG8VUiXE4LQuCCl8fguglJCqB8QoZO+MyGfj0xE0X8WtLDKhdAJSQjkMiO4XuCSKC3B0CJJEXuCOQtoq5rgsQU7Df+ME3wfBKGQiSMCguK5u3OjkiSOkLCwiRylgWL1lFxiiibaL1AgsrOD89eQRMWE+iCQwZdRXBK8Zvx2ZKeClDBPJYwChBALIZEIkfFHjeCDi3uRRPxGsilFTChUYoCVGWKdqG1FaqEMal3y7OcSmzgCOcXoosxy0YQIglDGp8EuTIDovfPiUjU5+3Qg5PkohZvsbFPtcpTZ0yXnwUluQgDrUvQzRkneCXNpe4NtEhAlxiSTMWgNdEOt3RoI89ntJeF5iW5RBaPpYFIncSkIaCrCeAn25DK00ay0KuojPiIJeF34iaGsoAHqJI23KP0FhJyW7NpcEi30d-AdBYS5FEAkaoEAdSpI-xscgCUBPp4id-xTwVkWcsslVJLloQyFGNXISQFmyYQZeO8BklNo0FRc7qfYxYWIIt5mcrCLPNGm7Tp5944ZeuJ2Vh09l2iA5Wkh-EsK+apymwECtHlXKkQHxW5a4PuVCKcgTygkC8vMBvKmVsi75RSkMmhd-l5DQFX6BkmgqiZgteqjTK9Dx8aV3GLCTHNCWsLRlUc0BGsrEqBAN4ufUefKvAn4KjOmquVccuz7nVpVBq-8eAmhWLLLl8K2cYaqDETFsgISnVeEVPGNjmxbYjsd2NoUbAXV5491VeMgW-LPlAqjAg6qWWQJ4iuEJkPiipGXNpVHcxFRsAtWwqOJ1q+8Z3KCJh1Q18CxBC6uoUQKL8uasBRAplHU9DFrcchlmqYURrFIUa0WJHOpptVVMLjBHFHmCEYDW1Pg-gk2pxDjdQ2v-QqZoGzzilUYBYKpOOGbUiAy+fazFB-yHVm0pAHLNJIignVNhe1baheB2qNWox38y6nta2s-IDq51cEUddOAkArqQ+a6z8rOrLYJAogIUWkBkv3VoDD1ZbUnv10G4jhL155Xcv2tAibrJVs0WgC42oB2Tx1OIYon0qCHFzF13aqnGBsnX3tINBIIzuOpA0zyMIY6oDeBvcDEBz1rLaXGUoyXv54NFAHDXhvZxLZSiSGwTg2DeWOgrEwlQjYqMjKobIgnIZssurQ1aCz14G7JaEOg001T1dAc9UWF3UIbjR9dCIYJPUH+K4hgSsxExviV8FWyQm89dxuE3gbCa1GijWkFZGca7JJ6sTbS3U3kbbkeRbTYmDo2+dmQimmzpGX034LmJ4sW9Wniw58bchbC9wbBNPCaLBkXilbHkgNYbr0lD8lzYGyaWmcUeB80oh-Oj4WjMhO1V+JRvVV8haRn8+LZItGHAxExRhMzUEG01Yg6N-nRjSFoqX4F5Ad6hQOxrgi5gjwxcLXhN0-IzFTefLAVkKzpoq5bRb6lnt+llxOL+NZIKWuwo0UeKzE-mhTcuMjb4ZK+e2avksH0rdbye8+ACORyqp199KgaGdDg2JHEVZgaolgYEBZru4XseE2NCXW+y6U2M2Ww7YtsG69IFF2NVGmlri05K5agIvvLluJQFauQdG27RTxK2t4FAEWyMn9p1zsb1EykVMT3WoraIAAnAMARQSBNYvdV7dOuFzixodOSr2lMCrb4FQq+3EISrCBTgrtkdgQCgxNCqsCkdndVQNp207Mg0AjO9lUTgRk-9zA0O90WEDP6NBMdMEj9GCBgk5DCadgOVMaUmT7UqdSKTuljv52xs9UUO6nb3UUXSBq5tcpYD6BhXub+lbMmWkkMK3FwSKVc3umroB2-YgddnSMkbprkfBYSSwgcWzwi07IlOxcKJIoEyD-R7OGwdRMtEQRfcceFXJtk7odSds+gCii-NsmuiMB3dOTa9jij1CoU3QoVDnUyFlRyo2eoAOzqymD1+4z6-QNVezsV2WQcu9i+sPzWJmwptkly6PtLHeC59bEy0E7qUE1UyTZV-42Yiav-FPzbO3O4IFfkj3R60sse2lPHs6iU6C9Uu3uiRVT3fYsJpcePl0Bz2p73QZe3-OrW-5vxk90+77Jnt1EMAt9sqZnfBEL2vafF7C3zUEqmo30PixepTeqJm2RYhoy0AEf8r20EByG96ZgbZts7FtntX8yRUYRghq8ANb+LtXkDoCio3AkQB1I5LDo+7tEful7q8Ki5QHi4IesPV7rDrtlwiX++Lj-uiDmjXtAB6tbPAipYH72LIagHqnhHJpbhSgIlIDGtyRdUOGS+-fDHwxP6H4ZBl-VtowIf68ubQLOFYlRnxSMZg8uZP5MsCBS6pzbMmoB376N6tk5NK4TVT+nwYFDgyYCGXnkAAD-E6+j5MP0ukQ1BpcvKmR8iqWTTbEzgd6WVgOEzJiRHiSQ7lLqlAzS0VhvmvVUBjgq2dt-a2WCHDQc4N4tU-Ke6L6TnsgjZU8CKEY5yHxbDS0AAerS7LhHQBZEB3Rku068jVAB20AAAB0sAHcvxdXvwDLxF2uW3esI0kT3J6dDofvSlTC4DBUjD89I-n0yMHbcj+R02NAMKPFHXhLSQgFEkJrnxHkfR0AAAC9jmORteAUekxFGBOm2so6MYTDy4qj24N3bUbfB3IRgoB+gBAbBDpGOj8hLo7MZAZScvOwlZwMJVIDCVKRaobTpyDwANGlNexwQ7SEOOLtjjjXM4xcauMKLlj7oIAA')">function depends_on(exp, variable, frame) {
    function tree_walk(e) {
        if (is_var(e)) {
            if (equal(variable, e)) {
                return true;
            } else {
                const b = binding_in_frame(e, frame);
                return is_undefined(b)
                       ? false
                       : tree_walk(binding_value(b));
            }
	} else {
            return is_pair(e) 
                ? tree_walk(head(e)) || tree_walk(tail(e))
                : false;
        }
    }
    return tree_walk(exp);
}
</pre></div></div></td></tr></table>
      
      
    </p></div>

  

  
      <div class='permalink'>
        <a name='sec4.4.4.5' class='permalink'></a><h1>
    4.4.4.5&nbsp;&nbsp;&nbsp;Maintaining the Data Base</h1></div>
    
    
    
    <div class='permalink'>
<a name='p31' class='permalink'></a><p>
      
      One important problem in designing logic programming languages is that
      of arranging things so that as few irrelevant data-base entries as
      possible will be examined in checking a given pattern.  In our
      system, in addition to storing all assertions in one big stream,
      we store all assertions whose
      
	<span style="color:green"><kbd>car</kbd>s</span>
	<span style="color:blue"><kbd>head</kbd>s</span>
      
      are
      
	<span style="color:green">constant symbols</span>
	<span style="color:blue">strings</span>
      
      in separate streams, in a table indexed by the
      
	<span style="color:green">symbol.</span>
	<span style="color:blue">string.</span>
      
      To fetch an assertion that may match a pattern, we first check
      to see if the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      If so, we return (to be tested using
      the matcher) all the stored assertions that have the same
      
	<span style="color:green"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      If the pattern's
      <span style="color:green"><kbd>car</kbd></span>
      <span style="color:blue"><kbd>head</kbd></span>
      
      is not a
      
	<span style="color:green">constant symbol,</span>
	<span style="color:blue">string,</span>
      
      we return all the stored assertions.  Cleverer
      methods could also take advantage of information in the frame, or try also
      to optimize the case where the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is not a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      We avoid building our criteria
      for indexing (using the
      
	<span style="color:green"><kbd>car</kbd>,</span>
	<span style="color:blue"><kbd>head</kbd>,</span>
      
      handling only the case of
      
	<span style="color:green">constant symbols)</span>
	<span style="color:blue">strings)</span>
      
      into the program; instead
      we call on predicates and selectors that embody our criteria.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-ASSERTIONS the-empty-stream)

(define (fetch-assertions pattern frame)
  (if (use-index? pattern)
      (get-indexed-assertions pattern)
      (get-all-assertions)))

(define (get-all-assertions) THE-ASSERTIONS)

(define (get-indexed-assertions pattern)
  (get-stream (index-key-of pattern) 'assertion-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCyyiYRA4K0Ia2yEs1JjEKMesnkikWJtWbB1mwsu08jBtXykIvRIJl-Cqcr5-KVKvFkoRWrpvr6DsGRqWpvNIM+8dmC2Nyxdtszkh2gOBb0mcdmVl6lakDPKSlFDhJfJ5oDDfgAbkd8FqfZt-UEo5qgyG-pyW8XVVjPDjvNr85I9QaVDnU4ZBzHrT144xSPCVWqNTGfPOC-5ldJVcT5Yqz+QL23QJ3PN2TMfT5mJwfp1a548PQwvTxLdfX7Pp3jYYdfmvcNQAnddcV-eNF24Q0VxdcZSw6Td8wASEeHc9zGeDvGPPD302AQ7yMKiHyfF833Igs4MtDc5zIyR-0A3tTwIicQQ7LstTdX1qwrFFRNAWs8jYZQBFIRJuFiIVNntAZQHifFNNAUlmVZXhSRPTYFl0tlDNmHYNK00lWEYaRSAMxiFhsxszM2HYHBiC9Yj8UkAFVCDqQhKAAdxoOwHCcCoAFootgmNaWE0AJNUx0ZLoOTEnMKwsFA8LHDrGc8UJGE4U1JFzFA8IgkJPLIpcMqdMoFk2QSnK0SCAJqtsex8ucQqyWcuzWrwSE6zCORVHUfRYnlFsTkFbjUVFAcZSq2beSaQVEpSpM0LNNcRAWYZRlAHY6Cy6wwCktFJJieIoDgRBkHQLk0H5CEyjyQ1PHIVJHDGNpYl4agGEIYRFp20BDWGWJ3AcbhAeBs0wZEUAAB80dcw01A0QhtERkGUckDGsZUdwmu8EIEbiJHQfBkmkKGEYAZpwnwakBnfVQlN0IJ5HhAu66mV+iLpzohhqaBtnul6FFIb5umLpGz6KkNNxNHCNgmB+tRJdpsGAT0eFNGUyRIcNSiLwVomADIbbOK49elgktNII31aVoWoaGfhYgl63weAhM1LV-gNbWbWrwDnzCF9hhWuyr26EaWHKGnShcCYWO-ad-nTeDx0Xm4CcA7nRPRq+lRgzochNEIP2wdzun8-NlR1c1yPdej7Tq9r+u6YT5XGR+PuG93ZPU5ZqW84h-pC8dici5L1m85MMErC93u67HphxaYLheFkKpnCbomg8hpflTGZfp+bsuPuHw0OGITx+F66hT8DuW56TduI51kk3dST9hCLuZ+r936EFpOjTGjNjYdwAZ-HynYNAxiYOAt+dVoGcy+KHcOWtEFAKFugt4ECsHryHmNDBkDVAp3JlPfWX8pAXwXlfS4Fwb6MLXhQr21C6q70EvvTgh8GDHw-qXbiLCOFsM4dLe+lDK7a19u4Ng-AhEiLEYQT+ptW7wP-lHFedMfKv1hqo9RR8a7UEHl7ExKi1ECEcH7P6tDJ50G0ZIn+6lkjZDoWnJgGcs5xz8JfFUpd742OUWY8mbBGjuOAlIwwE5ZGrwoQo1WKgdqTUEAwMecSHi6L-gQgxt8DbaUyWobJY9rEVwqJkg+FiT4SPiZ4kJDC5GexqUmEUMk6xHDyb0ApYcEHFMYT5bpv1nDYnqaIyxUCRA4N1G3IZ+iu6GNKcA6gPTJnTgqakKpPDOlLS2dQbEIiZLqlSP0s2niAFMFkLgJBoAuQHJVjQcZvTpz+n2N2RuTT8k3OJHc5Yjytrgi9u87ZTAjh-VjhQds-s1lMOuYmIkaggUPO7ukVJXtsbfLpuQbEBMa51jiThHC38UV4OGaskppAfKMAOPiwlrNiXOGqa8ySd40W7JyXTK5BcaCtO0S84eORNlZL2Xyv5zCWmsJVMku+2LDmGi8DUOo-KBXez0UUmloztKquIHUdlw8DV1CYNE2J0qZUoqFWEjpHLDTJF4D9C5jTEU6M8VSlZgDEU+SdS68hgtDnEOmZo-lCTi5sLtWCw5b9NDmJmc4NxVrNVCoVSjeROKVAoO4AfFunqln4M7iSA+Pk5iDzSfWDgnAmB8gzkYJFkhQInBlEXOS5ZNWGhzScQ62ly2nVbE0JWUROl0FunECAMB4BIFQGgV6XIH5jQYHRbJjzQbtg9ZSlQP0-p9NLmZYyIt-oCOfAi2lGY3JauzmerhB6MRNT0i4+hJ7uw+Mnv4zO17tF+HXRe8yWr-XkFdeI91d7-WxOXV2VdIbhENJA+en9hAN0MXIrcgJ4s3FxoTZo5N7rEMbuKGRHYhpaqkHaEwQG7hWB1W0XeyDz5V2kfI5R6jBUyNQt4M6oDNHS74b-TMYjKgIUnLaXnOjT4KObImSJtdSH+PfG+pEtRobZm0d9AsEqzAhaqiU0wBxcdnET3obhhDrl3y2KiZQGJ37dhybMoJ1QeKwYEs+Sy6TWj93qd2BJhlPyKDMqlqy+DXC+P2a1TklICoeW5M818bMPN9phZVWqdVsXHgLHo+alLsmN1JYyT-CVvLfmga85l8pbhJXFdpaF30Dmt79yq7e0rEn6sxd9bZ3LRGtXEL4SS0u7FQBYDIhlldlyeukNcJQSTy1QEkJfjZ39eW5tkL6yVuL3nsS9bddVjr8mpDuWkJ5R5fkApBVCqAZOYN+CcFADFDbDHUgVs3pxzwsTSh+DjV0biyELYaFiBM+FTBtOlGwrMSG4G9N-YB1pzp3B3vBGkJoLowlOLeh+0J1mxogew5B-nJt7U+jik8F1ejhwxudPNVZt7RAhAocYr6LgqR2D7yQ3eaguSzP0-pBT-TTiHBuJB3Trn8ZPtC+F18ENrOYgNZJLjjtyKQ75cTC+iWR8RjCE5wsTJe8RRM5JGr4ne2BNOlzPtFHnpvRB0kB5docOiA+X8oFEKNAvakEaPYW7sVwOtSkFYcuHK0OZww7m4RdA+OLU1TCdkcaCQAD57tk4lnGvjP7Q9Ko5Zl4TsdRNGN27PLdrhpCBB0BB0bCL2DudObIc5q7eO7aN-MBPtepMfOm75qVeHduuXcmX6mFfW-QocLC8g8KFtyftcPTL7fnMBeBkFjz7Xf2LVAisaQ3LSCxF3OLGUnOm9ja5ePCrRWfUId-YldHQLlfizhwfyam+Veg5Up41f6-7-i0SqjoCJ5Iak9XWK5n0WHep+4+4k4IlaqKu4ASRA9W5o16X258niUe3A16ce2k5I0Bx8dcawNIfgcB6eoq6oLglAgQy2mCdYJmXC+eiujmjKM+rmgW7mamXmTqoMa4hB-iJBW2aIN+a+h+lSQBXCtOu+swdA7BxBYCpCZBSa2QpYABR+bW569w8YDmXBC+56rkh6usqhT6acwq3eoAx0ngE+S6EmpqOW+coEFqMopqlO1mpciUoEX4Y6hIohIQHBEhL8Uh3BFqHaoEGBNcWBnQMogeyYMBhgThHaP+veFqqeTOWs66bOMuk46oXoYu4u9O-hfcawYeg26ReRv6+BJh2I5W-BjWbM4eCBKKmml+AwKu3Awhv+lydSsGiawW0sfGhReQmWrWAh5ReeQcoE2+hIjRSemBMuKu2GqmdeZ+KI9WOhYsgk3APRYM8xNm4sfG20ni7+YBXsmWqh5hi0cxRmfi1+2hxxOeKMfgwhXwIx3A2he8Km22IW1xjEBRmxKKe0aww6V0o64690U6T0s6r06Qi6ii6gxesSnA+aBe5Mac+gWiUJuRXmnA+hNuF4nAPksJlMNAB8bwqQbALQbwDAI+awWwT2hy1R2mvOcg-OfgMR-RFKakiCGyUsWOQspIaRXw1Jf0OR9JMxG8yqGOrJzOwO0J1BhSxacOYymOIpnSxqY0xC3J-OcOYpjoty9yUpTyIqCpFOFqKpVBapgKGpuAfgoKApHKku7YiRuSuAqpwsaKxpfgWKxheQ1R2uixuuzcBp9pJIpI7pp6HJS0eu2pii-pr64sdpWqEpiC6xZSBW4s8peQYZzAnpjcEZ3pDs0iKoEZnRFQoML8lANceMLOVp0uuSS+lRakE4-J4BL+u40QccuacmGZRcNZoEbszAEWbuJZ1pdMMohh5g4BlJjiEs5xORGGkZlsb6xmAkp6yOMaFpI58xAuI5MsUgjJ88FwDZfsIZFQ25zAwe+5a5kgG5NAE4R5LpeZnAcRPZZZfKY5s5vJwYnZzZlZapoMmgbs05acX2mkhI3geMX5T4XQGht4XksIWmI535qRj4RwXQdJz5JZDeA6AFn5Og0FX2AAPBiB+UBXBchY3miWSAACpNReKECNAI6aD4BjxjrigvbkCknaSgAADUSJXOOMWgeosSY5IgbFgZpIrF7F9OnFeM3F3AwFShmYB2R2pIpFlAkkDAwUVFNFdMdFbIXGTFglbFLxvQolmg4lvFQlAlQlulUg+l4lkluZTID6bI8xdR5xFRKIuxSG2sTU7IFZJ4SchBGFj5eOT+BehhGFBFRkHWbldg9R+RJAmIRZ8aCRd5jcBRZlZ0vingLshIRcvFZljeRckl2VA6rhWicEqV8FcU2Z+F8uvuJ4yE666VsERsXZCo8V7OXpVumwRFjl2k-k5MxoBhccPu7oFuX+mYK+I5ModZQOUFMxmYkMhVcOS5Y581ccQheRt0ccKuK5y1lVHEoBAyni664VHlIB-uw8RxqVDlqVs5Tl3OGerlzIR1G6EeNYhyc1D5sFXo-lYOBaWczMwV1xGWd17lkVXO+ZMVWgt5LViVcmIV+2F2qVdVmVJVMNTwF2E0uVcFs5yNsNc1xVritOZVYwVliUVYwlvQNVSGdVHZ+8QM3ZzVMun1MwHVl1XVhAPVoQKBd2yx9k21SUQ1T1swo1cc41t++5TZG6xNAVakc1+5y5S1O5nJ5EMth5q5PNEkyU+1gNEVNZkQPxryY60QE6D006z0c6GAoJ6SkO5A-2cKMOryduhAm64pyyOqsu9u2kh8Vt0OiZFQHt1tJJLAQM3gY8NGIOHiNqcqYwuOSsoEvt0O2OetwRV484zJLwgZUgLwBYK1swzJxYadkgxYmdaRzJlsedYFhdydV4OkxIpdAC5dmwzJ0MzMgZjdJ0XwWdMwzJaUzq-AjQgZXdr8lFbdRdldaJedaJmY7dvQzJMIbsUK7gdAHJM9Ogc9Y6jwk9UgzJLFpdUg3AGJoAjQIg+I8eN2bFg969kgzJUU29kgu9fgB9qBN2sUZ9w9usFI19WQe999R9oAN25I+9kg59EBZIwA79t9+9h9x9oAYAz9Fdr9AApKA5-RAz-aAHA--aAIA8yX+dvWA1-ZA3+eAy-b6QAISaQ4NIMP2gCkOEgH1ENkiYWIN33IM3bYWSC0OwO+mYX4jX24PMOgBcNsOYOV2x6MPgOUPx6CN0Okix7cN+AzC8PiOEiEMcNkjEPv0oO9Df2SDENSBQnzhggx1Q423x2MjLkEgnhIEvB+Cx3GNCzzmGOe22MU6UDuAABWeJzhFj3ipQqBxdRjJJgZQqcuCtUgNj-tdjYIbUy0-g-jgOICYMzhQDzJnxbAgZKTgDq1F9ldkAhApov0vdcjOTeTbuGTmT09ggy9sAkAedS9TAVTpTq15Ts9AAoqXbU80w03kcyQAHL8DdPv29PdNY3kQGME5hNxPtSzZjnmOPBIHECoFFzED43jMpmTMJOjPRMrNt5uArEYYzObBzMLMR0IyvgxOOP+3xOkDzngEQ5bPA5u1xoAKRkQ6sDJgcDSCvbg2uP8CdiiEaApDA2nhbNW3OrH4h004hOzCPPEhmAzA7EvX9C8AQ1JGRmM6sHIsc7vgsHsB8CxO22mNvX5VnN+0TMzYrG8WQu9DYuGB3PONuMeNXHpFbOXMbWdO9BU2NUYvNxKzeBBBU2aCYjuBTJS6Q1dQ7h2V025KRMjoJ0G3-GPQzqYBm3gG66OBkBMCMpqB9QwjSDqooIEoIQZmN2wzwxCr6usR7bPDHMTjmsITWj8VMDaUXbqBcW4CxJmtvwGuzhSX-oeuoJ2tBocqAwwiOb6b4nZAut4zwGnnBDEDEA0UjCrrZAfZxvINjpsVLFxt1WkiCULA5sDomVsX8CpuUu+g5t+D6XznmnDxEAOKMARu4yaAfaI45FYa1tvyMDdDkp7Uor6XGVkhCXBtqKMBhvmhIFtuEB1u+BUV3DGVCCkiBs1uTsdvMB-QzRxqRkt1jAbsnh5uGEOSXrfRXgbugB2xmQoRMyjCRoqgbvzJoyZmJJsK3tUNWTlqWtZBFwnsEOkjlqgWqvFu7iasFQ6vqo7vKFLgcZcbAZaIntnsFjQyNkwYaKqa3vIV5sDtsXttr6rsOAzSfsttLGI5rymUFiCVOvnEfqBI5xIdwYwdEd8Wk2PBkdCVYeMCuC4fsKPs3sEeod8Wc60gHtfA7CscSxV1qCBnJ6LBTvsfSBKR7YOZTlgehUidkgl1+CIL4cmwRjbv0d+AicydKQngOb6WEcmy7vaQADkTrMe-FVnRnzrjb4lG7i7Y0+njK0gsS7n99b5SYQVfsJrF4RcXnbLp4zJIQqTPk7QAlQU9kfqVQjYAlRe3gtIPrMw8WU7nH3AwX2nWX3YHn+N+na78nUnK7mX2XBNuXDgtDJX2HGreXB9l5NA3zvzxA-zW+gih8NQMyIevAm7VcDF0HPX77YXA3WCfgNHrRWieapbkgSBzXwYrX5AKQExnXxAMyzbSOQ3qXCmPsOcea5nzJ5aFb51ASX6eaxXB8jXoAXnkOXXVQQ3i0F+gGg353T1K+FO5xO++EJ3n6iHFOjxH853Ethjd3jAWsn2MoSBN3q363M7W3EtkMxCn337Jd5nU5baMQa38X4PLb+NQqMP2PUKuP23sNSP8N37ACgnaXMToPEcn29nZPk82b83fzS37XAZaP549tBLl1whc3PzC3bXK3mPsPn2W3xXU5jP9C1jIvhPn2Han+UM+oF7VHEsr3bVkMh3gZFHp3jZQP4kfNGv+1wiH+8LHKbu9gD3PnWqU5+36WD7Q39nRFpaLNTu52APZ57u8cu5by1AeubieaRrKgtvwi771ZofTvh2tuLvJ2bvOJLRmiQZal5JHK1cjYfU7GcMUKbAHAhggf1vFvavof2bafQ0LneQBg4P8XdkfUep+fMbizfval8PZvw81RVGFeeMElnrR471L4GZU5trJEffQkC5JqrAMkxZQ-EsHfk-JsLZjss-WgPvoAS-U-ixa-8-BfbCm-K-m-LALgot0-43q5GZ1ccox-a1O55fV5cR3f-rw-sZR5A-XP7fE-Wg9-Xr07EZJ-y1V3NkOzfzJchd77k9OrNYgszhQRMAkg7AbwNIHzjgo7AEGYvm1QXDK8u0b8LbvzRmCWF3+eMawngPjSvNRaIA1chLS+oF4Um3AXfmZXixs0tYUAmAWwDgE9df+O5ZKqiF4CxJ9+1+XfqrT5oX4Q+vXBmj2zUhTk2gXAzLudz8ASDYk4fYQfwIAiW4zMP+E3ieDVoxtZBQ3K7jjGmiQd0WHAAeuaDoAthDBPdCOHQAWjW8t22QZ5OZzMGNALB-IJEPZ3R6OwTBIXG+mmymi+x9BzOBwcYJ8GxBCItgzwZk16ABCtYlg8JMqjBgOBKYgOSIbYL8CRDVAVgmNjYI8H2CAI5gqIc4Il5c9MqzyGblkGQasA-oCQ5gEkNSGWCkQJQ30EiFQK6DfBcEZ5JmhepBCgcr8DfN4zdrRtRBjoXAN0KZyTRZAvsBtnoKQLw47gN-F3MMNBijDpoEw32H1x+pXtmhhne3oYXs7lD4h+gRITkMcGGAzMmVIIWy0aHf0hhggEYRsOWHBC4IZw9oRnmvLos9QbeYkHykv6qI6UV-HsAMQJyb8CBnfIgYfygqX8LyGQ5cAlnNA0D4wGWF4Tiy+GCA2BWofQnJBhRMAZ6CkHgRv0IH41vhKI6ymeFIAYisR6FOSCkORG-DIy+5bNrgCvhrBBK5nUkPSKBCMineBwPpBSNADfCRA5nWkSeUeAOYc07aRjoRQRFaw3h-oD4Y3G5EEjqROw4Plz1FF2wbeXPXkZzxJFD5MRggBSBOHbT1DHgE4XkYaIojXDtRZIzLgaKJbkQi4Jom0e+CPLFcWRDI1JjoK0C8tqAiw8YYiWt5Tk96Fw+PIYSJGJA3gZqNwqXxJSRjnAfgaHlSJu7P9-h0TMkUCiJxdR0RFo3UehTjE-Dox1ARluEMzAJiyBMbFMQbmqhWRWR3gVJuZ22FCiLsHouQF6NuFljRE6uIkaaCr62RyCDaGFISIzIbCuhggJArvm+E0U48LxUMYaihQuA8xWiMcd5GJF9jqRM3XAHIESBQpq+PYjMYoEJGpJeWMgEYKsyIB-QZQAABkHJewzQwUO5EeMg4BoCo5AQwC3DvFtATxaQQkEl2PFxDpAQlLkO8TUhfjJM746QLMK8RwhrxAiB-hLEv5ATnu-CJ8ZOS54-tAyU5OCaN0fEEkKu0-NeFd1kDXooJX-FQKwHGBHiLCBOdCVBwQkQRCQkEyiQ+L6hPjyozlQ5FNGYDBQjg6qevnaG+o5pA+ZmDTBBSzhKVCJMYVgYeO8D3juMmEgigpy55284RYFYuLIHYmcSpBofMIeyxUlMAOJngdVPILXhmZ3IagqsDGzYk6S1JX4okRwHsDsAVAgPYRAJGgn9ig4rubSbpK4kM0L8fEx-FzGV7fI+kl-WMNgJ4kopwSDAcgTMEV6oCvglhIEXPwP6TU9ehIyKaFOoJUD3AwzLMJJDgoMAbRRYdyWpJxGnpqBiEESENmikqDvqtvPkeRAWDmSPJUg60BjFgiFS9J17MYLGGuI7B6RgESKRoIGFnk2pXE0PldzRbM43hc+GuLiE-698nwLklELgOBHxTwaxAsET31xApSUQyEHRtzGdD7RqBeIhmpDCIDcUdR8kdCsVNfS78Cx4Q+adSNMDCVFe3kzAU+E3DpEbA5IL6SeCWlz8VpxZNaY2XukQi0pjoXaVCP2kwi8RwheLGdMtHH8HRMwK6TPzxGmj4wR5YQsZLv6X9gZJYkmkoLxDIQbJrBeyVonungiVaYgKBmAC+nkhv8niF0WyLdEG8CZ2A1QdjI2mP8jgW00ySdVc6EA4ZWYvgC2F4AwRExMbWkd+yrHsj7ejM6sVT2+ABSxgvAEWYKH5EjlFRUE4WbVNCrjTJRmcKaeQBmkqzrGYs1cprJFELRzOeslgAbMLLTTEQos6xi2Gf7UzQAtMzWVORVkiBVRFsZUWrPt6nS3W50vUWwm9loypA+owUBHMkBByFQlottMUMRlfA200c5OY8CdH2c5ZjI--hkiPFLEtxzgVYdGWPaFz8xZSI8d7V97RV6AJ8KyQvyzLAgyJK-ICXqXrnWDL218GRGwiskk9G8YXTwBxMaBtwi83vezmmh7nNyiREONRF+NInD8cxy44sctWXwE4X48JW8dKE-Ggx1q0-YiVoiskOECccc1Meri+6ZgT5loxeUPhjm9ARQL8WueImxKbytQt8qQMvOv4xsT55Yuka6IVlSAjozMJ3mXjq5Vd55zAPUuvLcJWT6hsVT0S4FuHfy2xhufcXIFADEUAAEs0yYAAAlXyAABlmmyAWiczEvHBp1xy9L8W4h3GEAFpg02gGxwn5cBexQ+d9lVAP7VoI4VClhYoGK7sKjg04bhSv34WjAX5biSMpguwV4LCF4AMCewqYWcAuFR46heaN4UDjOh1LQFvGHYW3CFFtaTkPWhoWaSvgfpI8VFA2G0gZuOioIWSCO4VzvA5ioISlyu4Q5uFNCuhdailqdCrhPQ9kLvi-GoEXiM8l+eAusaqLaFK43fGuIuliKeFESp0e6MDrMAvOlXDznpnCUojvRSkdRWMOCE+KRxGcsat-TMyDjqWJCIwccMVoT9Nx3Y6QtfN3GRLyIgY4IC9gVDcL6l8SlWpyRlobCiRIxUBR51SWnAelZw1edEz2A+NCQa0QvkMvxqkh+lXnAagrkdB7TTc5oCZTTlAo1wklAyzzvV0yW9L9CGyhfHEISazKDlZw3ORwq4BiTRRHc0YR-zbTGA72WqHNE8uEBEi1A7QZgHOMSkKKC5tS6gPnAvwKKxJc43yTgIJwtpCQeiutA8nBWRTQI8bQ7HTBqXp9mxQQ-ZvTmsW5L5QcXQFYQEcW5KllMwTqHip7hlzCVFiylop0pV+BmlyK-CbuF+W9KFehvUAtWzGhfLZAL8v5UsB4DtzFpYzcJTKHvnPhVMh87aegP3nVpbl4SiFXfKhVNAZQsKgxQ8iMWIq15CgJlbyo2FYrGIOKpYf8HsUMAiV00Elb0DJXGrTFDi6lWZjQlHj6VyDRlaiqAmsqP87K3mebRoCV9eV5GOcQCvRUO0g+IS8FWKNAALBfVc88FfZ19UBqEVY-MaHGspWBqa+QKxaNyp+WUq+V1aVNXWF8IE404XYoNYk0kVMAAAguAHADNMcFxFSAAAHlumsilEGWsrXVra1DaptTKFpUEqnVqBItWirTWihIiDMlkAu0TUV8c+ISwVXpTIw8qgJrzf5ZKsVXRMB1VCmUGWukVELEom6ghUQu7Vc8vxfa7+muuUUjqUUpIMdVcs5YihXGsOA+P0M8UrLO5PXKtrWVvy3rRor6yMq2TTxgSj4u4T9WUAD5p4My8gt9VmmpqRZ0EygO9XbQfWrCgqCGsCRNTShwayA36huXnz-UTrakoiMBLBtGggbeAj65ZWeTYTIbcNNAM0JoGyRawUlCGrDd+rAks9Fuy3AOJhtECyx6Fv6kjSGOoCuNKAJEoDWQByIjLclqwm9QJthwiarm77cTdNHs63qhNB8-DdNnQ1XM+8Gm+CrpQWX1ceCaKWTVpqI1CEBs4uBTSsNSRkrSQ4XASnpqq6BllNrASJrwlg0qa7ihG4DRcok0hrOWaG2HP5uA3vs6xh7H8ZUPKW5CtFDOEBSktQ2eaMNgW0TfjQs1KRSIswZpWhvc0AaYNdAbTR5ty0ma0tXOFLffGs1RcfI9mjzn3Tc3OayFHKGjaulFy-CslkZQcfku8RRKilseIbLghfWVbYkDW-ErstM46bCxBYOBU2IQU2KnRhGdbBNrIxTbcVGMslAOkMJFb6QC1S5eCGs0xc7NMW+roGUG2j9wCXAN4IECL69cMytxF3vy0FbCtSyorIkaxqF7X4mtJW3sLNW8XdCClvoSWd1vjCnb42lyAAaAgJSXJ8qz2tnpJlpQjbktI5GORJXG4QMbRRFdsLdPCGx8zsNAOSLBV-F3ZtKQ2Fbb0FJCQ7luCZQyYpPm0Yqlt5s8DmttcglaLo1m0nez27B7aoMqQXZYGRZ0P5ByoEGEDWn7o90ZQAATnMCub0oA9LJdkAQGHIhdUWToUegja4EvJ0qtYURA+XYDnpyvGgAQzPEiCpA8u7gBZws4+Q0A5ui1b7k9XxgjdpwsqV8Hl1ZKWAf0O4SELUD40aAsUZ5P1N2qG7ZIUuwcUrpyIC6ct3dBrq3yTWDye6I819H3G+XebpoNIzbbkqZ2BAyQRwIeTHvjgVb9tDmj7FHuHmF4XwdW4eATxUApLWAnUDsA4HJjEpvOQq8ZTKGh6y8VF2HFCJO0CDGVTAziqVVkHhTSBa9+TF9oSFJA1wAK3NbAUbtJAxRYoZe67vVyhgd6ggnuK+rCxPBG63O+mvYNqF5qszRAEkZCL8sz4-Kc+6yhVVICjV3j-VKa5NQStsKed7dZNZXv3sH1u5h92kMfQPAN2SAp9M+zmpSuCCn6IIf+mKAlF31cR99LMiA+vv9090yQIB2KF50Jzq4x0CB1fZFMd23CSlnQn7aeD+3ZVN9YCh0SDpnyXI9gKI+lWjskjIMCM9Q-rVlwraNiFt0u4MbhI5XerOUvBGcXQGCjwxK9gQciY3sJDN7QeRgNvfwaCD8Vu99uwWn7ESb0HyDDYvGPApYPMx7duiIKvuRAqyygoXiC6VoB5GCB+ABkHCMJ2Xa1cK9ZLIARLEUNFwtD+NRHdQdQIEYeWaC1tVWprV1rG1xCgwqQo4PRKNxc4lRVqIaXiz6F9AZgP8qMXmd5F-KunpSuCMwo+FE0ARYOvIJyKUjoioI40Ot7uH21XhptRkd3AKL4jBKxI6wozKGrxhqqhUIYvlX4qg1Zq32BWjL3DaLOkY7gIWIAA6WAaNZxnRbsZcA7QGaGtv3pMNrQ74U3dpBf2Flve5gVoykvaNbjOj4Qno30dslaxBjwx6iBeHwAdh8apwKcnsdAAAAvU5qAB6MzAylWx2To4dOBnGJjjEKY6SBmOMBWoZEPALfhCA8H4Y7R-o8zhuMzRP66nSusYcxICViAAlVJiYAs5ggbACx-TX8Y2OTYgc2x4E0Axs0CV3AEJqEyl2eMJQgAA')">let THE_ASSERTIONS = null;

function fetch_assertions(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_assertions(pattern)
        : get_all_assertions;
}
function get_all_assertions() {
    return THE_ASSERTIONS;
}
function get_indexed_assertions(pattern) {
    return get_stream(index_key_of(pattern), "assertion-stream");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p32' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Get-stream</kbd></span>
	<span style="color:blue">The function <kbd>get_stream</kbd>
	</span>
      
      looks up a stream in the table and returns an empty stream if nothing is
      stored there.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (get-stream key1 key2)
  (let ((s (get key1 key2)))
    (if s s the-empty-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNA8QuFE3OIFCqGIfRcgUQh6GIOhKG4Gac14i8EjdUUQS0Cgsgmqaalmv1plKdaXMbFCxu26a9uk5pRTocgFDOxQdpmyh9pk-LCAYQxfAUFh8BOqijG+37G3wGQ0juh7Joul75roRarvdVINEIEFuVRcbHuh16ilKZG2F8fRhvzUb9CanLiAAD0IQI3GcDGod2mGWjh6w0PQ2cQNBhhTsMfRyFIMQGEp6niFpo16aevbYcW2woOu1IssoYIGAmlhqmyugJax6TSiJ9cScV5XVfV2KlYYPHqDRunzsZ1nmfh-15ZV+g2NRTotdtnWWjXZ2RGoN2tsxxnpex1ZEYYNg7pYYRyCFqmacMa2g+e0PYlKRLiAYMnNcjn6Y4YRcKHujbPqBv7eZtlO2Z0hpc+j2PfuEAnK6l+3U7DcPjHaZ7qB+c7E-RluXq9vXPraAtZt7xt+-9pOGartuEdFYhJsoXEPlG+7Zo9lOvc7OpHfD9gPC8HfLv9XWfeP5RT6HkOl9SQLPuYLQt7BIf29072fifjfX+es+c1F6H1FOaagYg6Bv0AZ-S+PwwEQKgXfRectw7ZwYBUZQkdKr0GgbhUAWAoKwP1loUmlxYoYP3PgX2G9ZroJMIHeercFqfydhQ-mGtoEjx9mw7BmskHMIRiZYIgCLLWVsg5FwX1ZrkAph5LyesOhaEKhFbOghCAowJsibg-MxBhCLO6YUb5UjU2oAoWeOZM7Z1IXQX8CpApqI0QXUgpjzGWLIXTLRggBZhBovhQiBj2zOyhuULO7icHIlsQ0c8NMMhlQUSTNBjdNEOFZoZGulMtAiCFnDOC9AoFpJromMJjBC4Qw2rzCJ1dCmhh0YYKp1SDRoIWrkyBACInPkKPY0UT9TqjBpGwYeE5Sg9Kor7TJYIYkDM-rEZo+9fHHiIgqIR05PFWRsnZRyjVinsl8CQORDj8aFViOcFR2yOYMC5jzQmVM6lt30TEexNxsQ6MBAAPm-sQsaOiQ7zRuU6U5g1zCjzeK7Zw7t+Es3uV01IlBSD8FUATeJJCQWz3oD8EWbE0aQ0lkzZh0yiGKIen7AO1Dx4AI-vfUMxkRrIpdqi26jZOgbVujQCx0CQ7hQGsmD5Y9u6Tz7pjAec8cUh3ueeKopAPjPwUCBU6jIClIrGhKqVf8V7kuTlLZhflXzdP4kkbmANlUgQ+DKg165HT3M6XqlwRrpWyqon5PxJ4Qz2MVUYIIWTVWII1TDLV5ITlcpYucrmDh4FfluvdPRxFHkaH0BG+K7yoShtphA2ocJuDxp8WcQNblDDckYPgfgdDMHsNRBXH1S1loCVFF3CeNABVQyFTgj+ilcbqJmoMPNQgLlFp4RrCpcEVUvzVdvD+qTqldoLb2+hpbmrupBc-Te6rGEvUmIpVhM7eGcNDIdUE+g+2xS+j9P60DpnNHSJkTlWBVGj2vrfH1oriLniSYyO9DAknQL8uePcLUgSTp7SBA9c6kmHhiOeZNidU2hEZMGsGEHwFfh-aBqtbo3VJN+Zk4Q2ScwtKgT++pDSa7wag7cgphGDR4qvTen2v9h3epXY+gK1rBK3EziM81+gyNuqfsLBOwqsYh3+TmoFPsw30ZFXcp9xVcxUUZG6sTz0zUFjjiLMWfCK0cvJGG0ux7-ocYU7Qo9wN2UyfNZpq1K0XCnSo9s0eQHm0Psk1plNjAjN-SU2Nezrmy4MJxXbMjFGaWec3RrDzKm+MOZXeO8jFGWbIfsXM7NDVs4tTkIoCAMB4BIFQH1NAxJhPJFSEdTa0CoXMZurwH6ZBSugAAD61cUjW2F1QxA1fq411Iv0-r9HU1FurDWXypAvb5rGhR2uDbFB+NUUoP6ctUcVn4vSP6REKExyzKgfU2cBYV+4YgJBYY5iI9kfRduVuhQXJcy2ABkV3ej9EGMt4SQJKAneYGILb3KboQ1K9G8rMLyB7dqBHPdSDwTxuUQV6kPmLlg3jT9tbAk5j6AjGOj7LFQEufE6N3763RRvf28DucoODNaSE6oknOnjPLZx4j+7yO6xDDpyjitkwyfbIp6dcLotE6Rb82V9bSOIzM6i-yAFn3UhefhxZ6t-3AcHZB458EJYhCAZC6ieE-WOu7YJ4d0HeZnEOmLVgjWGvxv+jxwDnXCuGOiTQV5iHqivOU5PdT5Y9jBcM497aMdovr3bKd5z3j3P+O230e7pnDPhd+d9377b4c675yD2pqXDy-va6B7rxXCfY5J553QB3Zyo751KcXMgzvdQp5Qy4J5gNdMw-BvdbgXuRu219-NovDd8BN0r+HkYQuGc+7R25XVlnF3-1HRWsPaf8cZ+txJ8EtGl2zQL3Hnj8dg+8+x275jzfT1D-MKKFFAdK9V-DjP+XRPFdH7BY2XPzhTcDfN7Lq3l+bdK7pSSr1z0V-cuv2ixsGKlsJMrusQ9i5ygQMgR2eIbOcef+DKpKfK78k+f4YBoIDAEBR2pIc22ycBcCAyZALK1AbKIBqe624BlQR2OgQmse4uvKdaU8QSU0TavWfOEQ-4-4COq0z+s+r+8+taPcDaTB9KP+LEtqX+E+fWKBO+Ee3uLO2BcexgC64hSBkh2+AuMhWQUeWMMeqiood6J+525+hOKh8+d6Ihbkb6H6JBpBtOfeA+chSWuhSM6iqMHC1hhhluPBJh0MFkFsVs9A5h5gTS6+ye7h0hdhshIu8h3KOiXOam5aqhoB4Rgw-ekR0e1BeAKWrU6WHUWW3UuWOgkOeOcKL2BMFMZ2aeXWHAQg+g5R+CO6oAFM66LQpApktRFkVRPWLQVMJgWgwgAQJgxARBtQjQEONBLEGcoS22+gJekgZAty6GTm0uboh27+wSWS2c4IBGBosx5S3Aixfq5wThjBhaGxxSpMFRuO3BF+YIMgFk50ISmxMB3KaCux8xFx-OAk5BkBdxoA0B0RohxS76XemilxXxaBGBvxWB2aqiTSOS8grS28MgYJKxEJFBvxVB++1erG6B1qHmGMs0KcnxqJc4C+eJp0WxG2hJe0AJw+j85JAMp0KJO2Rhh2p0Fk7GBYgRLgnJmcbw4y+gTJxJLgu+TJ1BN6jgXwicdAgszSCJUCzCwp94WQhx4xbktqcg32ipNOboSOqp54L2mcK8mguIcpeSz0jIw2Jwap1wOJmp90tewMtyPMzJk4cEjp5clE5qWaRx2y9pmcbmFe-pzwq2yxIpdOwZtJQRRcmcVywZK2sQnBLgEYkZjhtmFMmG2GuGACgZzpnQCx6wRpkKOpaIM0YgL2Hpuo4QT2wIZZFZa4SwDRCE3EdpMZlZeZVZ+xhZ2GZ6tZMpFZuZ4QAAPH2eWaoIKfmdMjELrK0cIuCAACpyQsZ0C+BeJiCVbPQtQ0guHUAjGiSgAADU9RE6zWMpQoBMg5h5okFkV5AWRQHwziZ5MgBMDZa6E4xks504C5S5MgxA9ka5G5s0W5WIKMu5wgzQ4It5DSD5LW557Z4QR5lJkFR5d5hQMFT5L5k54pZyckEk5e+JgZjGSItmcMEcck2I2pIYqik67ZXpUahk52w28FqFX8C0ZFRAnG5GM0mC+A0psp8J5p28eKLFzQgZKkQISOg5LF05d2Iwr50loAol+a9OD4PmYQ1otor5yG8YIYr4C04lx2Rpq8ppAliJL0lq0wyylZoidAv05QoA4O2lxyCyFlUS0m-pjIGpbZfqfY9iNF-p5eFSMZ0WhGAVcZwVTleE-qSZ9s7FFFLMWJTICG+FvShFpmRFRScebF6I8Vi0rlWyChyluZdFlaKwjFGQYEalU5JQsVOVnFhS3FUpLWWZ8pACwl6EolPmBlklVVqFpQpESODZXp1VSkNFmEVVGlWQWlfk8Yx5DQelcMBlhpQsxlLVgl5lxEKwVlaVaydlIgDlEM+yJORyR4BEzqfY4qMZnlg6IE-phMCVDFzG-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-MbfNHnf5fwZIlG2ffK-0-rvAM3vkVjEr3hipP7pn3g-YP62zZvfBMKPQP3AL-KlKpYXl-IPY-SR62CHrGGiostP+RnRKg+X6AKA9OJALJBUFNpdg2Q8Aw2kDkMCkh4eQbTIEYGgIwdkBvgVAcSCeCicuudOQwNAX24GA+WsKKATAN6Z4Cuw1Au6GRDIE2duGRQegVhjQFt4q+hJPJv0EoYcDsB3ADgZ9HQEk9MBYEHAZ+xEFoCiB3nKWmRxYEUCumvdaoBtGqICCCIKAwYDIMIGsDQwKg95JAKYGYRoCOhbZMYOgEyBI4lAGvJ4mZYACBI1gqgJkmfiBA7omrGgXYJSbUhuBceZwZQFcGWDPBd0XTkxUsFhthsonNQWQA0GZxBBhkSSowJ4h7NDBjUGwUEOSEhDoBmEZIazkSo9MskQoahKCAASJ9WIVAczsFTFTSZJ+QIP3rPzbLlCF+jgrgjk0-BShV+DRQoYMHKExwgEB-KlJOECEEEGATtLiH7zd6n87Y-Qqob9USocRmUYwqgFxA4jCDKhDfV0h5Ta4yA6wtQSCjB3BC7C9g+wtHu0HdhrCKh5lGDh5RiDRDUgI-DiOEBg49CSaYMSkKUO3iXDZhmw+4RdndJPDQAN2cOM2X6FhtFhow8YeOQjBPCKBBoCMGCLhEwQXBkIlYeOW65UB9B5GJHIiIUo6RgyEHI4XsNo4QCWsZzHKMELqKp8lw49NIcNgU6-4+gN8c2IwFF7s8cEbI1ENwGq4bCouKfckOeChG4l+kZUCEfqihHkc5OCTDYZyOcDcA8ROkPkcFT8gxpOIntSZBlFUjHCOAtHGDlEPkF8VyRrmLIUKI1EMjVWj7Z3pTBmKYiMBbgzPhiNXSJUrRFMBgESFBg2iNqAo6TN0EZCOj4saeEft0HCBit82ErboFejOagB5yAACVUYMAAAguAHACqMAASvOUgAAB5XRsgCBBWlIcv5NUZLw0hlpPRzKOYTHyVK8BLRH4CmGWIIJht0o-vCoBTD65S850YomxKJybGdBGU7Yo0B6x7GZBixaYOdK6VjHxikxKY9MVmJzGDiBwLotsSWI7EoikgrpJscEJdFuiswHozsXbHBCyj6A7kSwZX38HO8Rx7I94PWKSAVjDWxrZIVnBsE14Ck-QyrG8jvJqATAXgFkRePRivjzIww8sZsP26Fi1Av4lcSMJvGbDTmkgOIBkA8YOANojIAAAzWlVENQeyOgXgkwDXCsUagIMDOzYTcgiE7QECHY4ITeBV5PECqOYzkTnYJE0gB60mIYSLeFLLPqODgkcAcJQBPCb6D15LhwQv3ZsnRJba8SgOkffIS025SBB40rEh0KkGqDZB4JlaaJNhNElVR8JlpP8lhK4nqSco+ElKOSFUTUDM49kToKfFl5lVAx-MOHoZHTg4kWJkfcviJNM68Spyb7Mnqjz7ClBmyJkhgGZLYCnw3+m4Fin5ICmnwIwV3QyMZCpiOoYqYU8yUpObCJUKgsA0IBcis6EBKIlvW8d322QJTAphMVLjEGH42SLUD-IoHpXOFTUEWHE8qQFnsSwoCwTXeiC5QqkrBn0U-dXoLEaFalcpLUg0OdmX4sBTGn7XYYRAVHhhAgpkxKZMPP5-VgB-4P-u1NaE7ZEezw9CKUAKlBS6cFqdNttK-5FTRpzQcacYAGkA14p00-yYlPAFSSWIrw4oUwUTh-B2JhvNcLlJqET9T+XUl3v7yzhNDaphvFoSVMMQ-13wFQabIMAv75UEsdAc8ssLVEn9up+Jb3vKLYExB3pmwppv6mv6BIR+a4X8IRjwCQgSZIYZ9N9PqGn8-pgfToP1JdTMYwZHYKbF6CRku9TG6-eGRKMT4KiGgc0jjKjJ5lFBBh24GKZhlenB9MZwMq-mdX+CvhUpHaBWJrExnNCIqK2YmaTKsnrYiRJwkkTjJlkwzwe8fBZuUMlnKjIekOBwJzLREzEFwd4fkSy22FajiRM3GqtrJ1EuyZkLQaqTbOgakgbhMZP4Y8OgIzsaqD0sGE9OoAvTCAts3KYHJsmEB0BLwo2Vhkem8VnpjwBOdAzZDxlq6YAEmZCD+HNlo5cbW7Lf3gh+zP2ls58gjK4gwjyBeImEaSCRFFAq5uICUd13rnozpg3XJuYLMaQRVRObs-Yc6MfjwS+Y-YmxHaNZIxsJ5HJeCQT3oCYJqxdMcibb2IarzY+nEzOB+lXl2imKqRfYMpK46zdqObAMyb4BhRwp8eEHXfBGA3nmi3ImTc2DpLGjkTuRUoi7JBLoDvyyAuIe2bEHPCYIesL8xkDJIhhyS-gCkzWKvK-TSZW5wo2JPKgnDwKJRPIr+c3OLCLz1wvbIBd2lXkYKGgSo+YTFXgUajhW2o04Z+31FRtFUsnX+UlO3kglxo1RRgPgoCyGjJAFIrIaQtFixIY8UYicQwFTGWQAAMqo1zEOUKqaEv0pIDAnkTeYnYj6YR2rGZwXR14rsZ+ybGLisM8i9RRByHGNhdFm8gxS-N5jji4xQi0ReIvnEgRtFpivRUqUsG0CFmBSDcVkK3HujICe4ghUUAXzwTjxyQ+EPtzcXuC-Wgktjv4pPHmC48T83RYos2GOKHxAQ58duHImJ07yT82OORIYXQNVx384CQUlAnqj4JCivJblIfnmBE4k0Lifh0lG-zP5QEgKhEMSWhLHxVAFJdMG2HvJDITi+ZlhgSGfVzxh4q8WgsaXvUAsaQ2JSUrqW4cGlBBcpdsSaV5CChQWOhbhxmU9AlloSlSdJlaC4MgQ6UZHHjw2X7jaF+HE6jYTaHL89lKSCtlUrJprK8OUo28W4KgG9kbl6makpQF5gCctlbykec2MpgOhPRunJVmRyeFptas4cEfv6IqWSIlYgQcCfpMYBqLhllaN7i6OBVoripaXAQL6KBAeKdxkBNFQNMAWJAZJIEYZa8ruj2NCkISqATiGY7LijxUSgaaVEZWiRhlAS0JVsUMjvtZ5lAxOuy1aKKYqVEQ4Hm1PNnUUEVbGbCdkzUW7ypMFjTsYyDeBLze2MC8kBitrHAq9xOK88PivdC1jtxuIXcXksv5kqRVtCOiZYNpU1x6VHg7oHPI4DcqoBFyooOyqdWiRyJrqu6Lyr7DCT4J3ANIcKopUvzqVL7F7vrOIgBobSLgCXnROVjDLx5zKyeeIJfkprRx9ADaRTwTVjy0VonCXsmpJUwl2cwgcrhPMzWXjK0HwYINzwnl-TUVE85DFFDYAVrU1v6aMRYqnFpiMx2Y8AH5EEU9qZx-axkPytTXBrs6f0dtVmveABitZGId1qWpiXlqM1iq8kLWsRV0T5VtYhhS2ukzTrTFjIQRcIrEUDryQJ6qxRIsDXB80hh6+RfOoEjghF1AKw5riDeBoNziwsBwZcp2xMVv1m821B+rITacf1p+N-j6TjUXgpUwGlEEr0IBgbGpDOADR62XirVgon66YgBr3nBsUNy6l4jdXQQpBMNpgUDWvJGB4bfSq+UWIBmI1kJ4NiG5jJFL+QesagYgUaFhlqXYbCOEGzeWt0c7Och4ZGhMncJZa8bEqH6-AIpNg3rMXlzS9NW+t9gkbB49AZTY2Qp5-K7oonSTYpJpggQZN3ygkmpqxExAzlUo0mIRoM1Gb6NqSPBA0k02Rqks7Kg8SICQpmbf5lJHTTYmkVx4MNUmzWBhvo1ya8hdoxTYFumLhb1mkQiqtEN4FxC6ECAwYAqlWW1LbUkWsEOlvUoN8I1tmhoGkL826aaNRGwwGpv3R0a4NuWwpA5t9zOb6OFkdzbh2NrEb-NsTbZGxpJi1Jgt2ylpTQOSWxpClV1SugQgNCa1CYKW8ze1r6KPKQ26lPuduA4VKxjRoSt6r9TXR2aaqC2rhctoP7sEJWw2SCA0Gq2cpnNjHNzeNo80ZpiA7GrQK1qyqtj2WdfAfjFTdT18LmVzG5qZROaJV+NJ3XpJ1uy3yb6gflJJU+P62hgulikSmCYH4BjRq+KuXuCQgUo-aNuJxRmDNtz4xkfFgpczqHQVFWUcwaMruWsix4uAOIMmaWp5ClYEJdthQcEMjuc4UkxuBofqmSM4VLaGVwsi9pIsyCzMjt2aZzfTs27496t52xrdwEF0eYaGgomRMVoNqrkgQAAThOCO52IptCNUYDym+bVdhtCNSTQ2iMsM0OKt7uENXT5U-+r4FwDWWQk4rCgJtQ2voFg6wcLIaAF3e6tmrRrDIdu1-qQKdGe7td68B8f7GqxOLchdsFwF5H+IhgLptu-3brqD3ThbkNwV0V7rhWCAz5htS+QWDfAQI61XWt5UqQc3Hb+AEIToOfMz3C7RIDWoRmnrL1MAr5t27lEN1SC1LqgpUVcGQF+gDwCO3oixq0EZDVcHubgG0de1b38BTWRwTjtqkMQWJSAnewRjm1UiJwOAy+HFV7ohCeQvITe0APhyNWlQYgG+3yCHNiBr6ZOtS1oMcGln+IIgDEV8FSs57c9y1Uoc-TirzVcSk1laotQ2o-TP6Bpr4GfXPrXgL6gQ4IJfd-ht3H7-d6+jfV5GGWCBH9ogaA55EP3LSAakqlYGvvBCIGvIO+jUS1CwMx1L+Xu9XT0ofEdLtwEO6pKfvM08y4dtfMaK0FvHBqCdjUbOjLDhFV7yOirVnYtvV30jJJOlfPkEUI1CBDA9karKPq9Hj8qQfeoEAPtK7D6NWEh8fZPp73pcYynajgwwepDcGttDKvgzRIxpMV-S6mmSGDnwAsY1RLWK4eQCkj-hL23rFvdEzoOcGM2K2yNHbGx0sHE6MsRKg6r9bdA2Q3QMQaodLCMhDlARzML4GhIstwZHQztCGO51a1RKV6JvdNtg6cj9A6MgADpYBslfSpgFQhkDBA-W+24OqfTlDQQndokf-bxWvknBUjtS9I1L0yNsCcjeR9tFkjNhFHn2No90rwFXB2wegzZfo6AAABem4GIDkbmYdGsMXR4o54Z6DjGKjOkKo+CBqPGBCoUEa9MIfeBiHpw6RmYwUazjzGl6f7OWjYY6JIVlASFWjpMFg5Og8ADR8zQcbSlHHujfrU4w7VJIXHRILAK4zcc46rHfIQAA')">function get_stream(key1, key2) {
    const s = get(key1, key2);
    return is_undefined(s) ? null : s;
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p33' class='permalink'></a><p>
      Rules are stored similarly, using the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the rule conclusion.  Rule conclusions are arbitrary patterns, however,
      so they differ from assertions in that they can contain variables.
      A pattern whose
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      can match rules whose conclusions start with a
      variable as well as rules whose conclusions have the same
      
	<span style="color:green"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      Thus, when fetching rules that might match a pattern whose
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      we fetch all rules whose conclusions start with a
      variable as well as those whose conclusions have the same
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      as the pattern.  For this purpose we store all rules whose conclusions
      start with a variable in a separate stream in our table, indexed by the
      
	<span style="color:green">symbol <kbd>?</kbd>.</span>
	<span style="color:blue">string <kbd>"?"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-RULES the-empty-stream)

(define (fetch-rules pattern frame)
  (if (use-index? pattern)
      (get-indexed-rules pattern)
      (get-all-rules)))

(define (get-all-rules) THE-RULES)

(define (get-indexed-rules pattern)
  (stream-append
   (get-stream (index-key-of pattern) 'rule-stream)
   (get-stream '? 'rule-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCyyiYRA4K0Ia2yEs1JjEKMesnkikWJtWbB1mwsu08jBtXykIvRIJl-Cqcr5-KVKvFkoRWrpvr6DsGRqWpvNIM+8dmC2Nyxdtszkh2gOBb0mcdmVl6lakDPKSlFDhJfJ5oDDfgAbkd8FqfZt-UEo5qgyG-pyW8XVVjPDjvNr85I9QaVDnU4ZBzHrT144xSPCVWqNTGfPOC-5ldJVcT5Yqz+QL23QJ3PN2TMfT5mJwfp1a548PQwvTxLdfX7Pp3jYYdfmvcNQAnddcV-eNF24Q0VxdcZSw6Td8wASEeHc9zGeDvGPPD302AQ7yMKiHyfF833Igs4MtDc5zIyR-0A3tTwIicQQ7LstTdX1qwrFFRNAWs8jYZQBFIRJuFiIVNntAZQHifFNNAUlmVZXhSRPTYFl0tlDNmHYNK00lWEYaRSAMxiFhsxszM2HYHBiC9Yj8UkAFVCDqQhKAAdxoOwHCcCoAFootgmNaWE0AJNUx0ZLoOTEnMKwsFA8LHDrGc8UJGE4U1JFzFA8IgkJPLIpcMqdMoFk2QSnK0SCAJqtsex8ucQqyWcuzWrwSE6zCORVHUfRYnlFsTkFbjUVFAcZSq2beSaQVEpSpM0LNNcRAWYZRlAHY6Cy6wwCktFJJieIoDgRBkHQLk0H5CEyjyQ1PHIVJHDGNpYl4agGEIYRFp20BDWGWJ3AcbhAeBs0wZEUAAB80dcw01A0QhtERkGUckDGsZUdwmu8EIEbiJHQfBkmkKGEYAZpwnwakBnfVQlN0IJ5HhAu66mV+iLpzohhqaBtnul6FFIb5umLpGz6KkNNxNHCNgmB+tRJdpsGAT0eFNGUyRIcNSiLwVomADIbbOK49elgktNII31aVoWoaGfhYgl63weAhM1LV-gNbWbWrwDnzCF9hhWuyr26EaWHKGnShcCYWO-ad-nTeDx0Xm4CcA7nRPRq+lRgzochNEIP2wdzun8-NlR1c1yPdej7Tq9r+u6YT5XGR+PuG93ZPU5ZqW84h-pC8dici5L1m85MMErC93u67HphxaYLheFkKpnCbomg8hpflTGZfp+bsuPuHw0OGITx+F66hT8DuW56TduI51kk3dST9hCLuZ+r936EFpOjTGjNjYdwAZ-HynYNAxiYOAt+dVoGcy+KHcOWtEFAKFugt4ECsHryHmNDBkDVAp3JlPfWX8pAXwXlfS4Fwb6MLXhQr21C6q70EvvTgh8GDHw-qXbiLCOFsM4dLe+lDK7a19u4Ng-AhEiLEYQT+ptW7wP-lHFedMfKv1hqo9RR8a7UEHl7ExKi1ECEcH7P6tDJ50G0ZIn+6lkjZDoWnJgGcs5xz8JfFUpd742OUWY8mbBGjuOAlIwwE5ZGrwoQo1WKgdqTUEAwMecSHi6L-gQgxt8DbaUyWobJY9rEVwqJkg+FiT4SPiZ4kJDC5GexqUmEUMk6xHDyb0ApYcEHFMYT5bpv1nDYnqaIyxUCRA4N1G3IZ+iu6GNKcA6gPTJnTgqakKpPDOlLS2dQbEIiZLqlSP0s2niAFMFkLgJBoAuQHJVjQcZvTpz+n2N2RuTT8k3OJHc5Yjytrgi9u87ZTAjh-VjhQds-s1lMOuYmIkaggUPO7ukVJXtsbfLpuQbEBMa51jiThHC38UV4OGaskppAfKMAOPiwlrNiXOGqa8ySd40W7JyXTK5BcaCtO0S84eORNlZL2Xyv5zCWmsJVMku+2LDmGi8DUOo-KBXez0UUmloztKquIHUdlw8DV1CYNE2J0qZUoqFWEjpHLDTJF4D9C5jTEU6M8VSlZgDEU+SdS68hgtDnEOmZo-lCTi5sLtWCw5b9NDmJmc4NxVrNVCoVSjeROKVAoO4AfFunqln4M7iSA+Pk5iDzSfWDgnAmB8gzkYJFkhQInBlEXOS5ZNWGhzScQ62ly2nVbE0JWUROl0FunECAMB4BIFQGgV6XIH5jQYHRbJjzQbtg9ZSlQP0-p9NLmZYyIt-oCOfAi2lGY3JauzmerhB6MRNT0i4+hJ7uw+Mnv4zO17tF+HXRe8yWr-XkFdeI91d7-WxOXV2VdIbhENJA+en9hAN0MXIrcgJ4s3FxoTZo5N7rEMbuKGRHYhpaqkHaEwQG7hWB1W0XeyDz5V2kfI5R6jBUyNQt4M6oDNHS74b-TMYjKgIUnLaXnOjT4KObImSJtdSH+PfG+pEtRobZm0d9AsEqzAhaqiU0wBxcdnET3obhhDrl3y2KiZQGJ37dhybMoJ1QeKwYEs+Sy6TWj93qd2BJhlPyKDMqlqy+DXC+P2a1TklICoeW5M818bMPN9phZVWqdVsXHgLHo+alLsmN1JYyT-CVvLfmga85l8pbhJXFdpaF30Dmt79yq7e0rEn6sxd9bZ3LRGtXEL4SS0u7FQBYDIhlldlyeukNcJQSTy1QEkJfjZ39eW5tkL6yVuL3nsS9bddVjr8mpDuWkJ5R5fkApBVCqAZOYN+CcFADFDbDHUgVs3pxzwsTSh+DjV0biyELYaFiBM+FTBtOlGwrMSG4G9N-YB1pzp3B3vBGkJoLowlOLeh+0J1mxogew5B-nJt7U+jik8F1ejhwxudPNVZt7RAhAocYr6LgqR2D7yQ3eaguSzP0-pBT-TTiHBuJB3Trn8ZPtC+F18ENrOYgNZJLjjtyKQ75cTC+iWR8RjCE5wsTJe8RRM5JGr4ne2BNOlzPtFHnpvRB0kB5docOiA+X8oFEKNAvakEaPYW7sVwOtSkFYcuHK0OZww7m4RdA+OLU1TCdkcaCQAD57tk4lnGvjP7Q9Ko5Zl4TsdRNGN27PLdrhpCBB0BB0bCL2DudObIc5q7eO7aN-MBPtepMfOm75qVeHduuXcmX6mFfW-QocLC8g8KFtyftcPTL7fnMBeBkFjz7Xf2LVAisaQ3LSCxF3OLGUnOm9ja5ePCrRWfUId-YldHQLlfizhwfyam+Veg5Up41f6-7-i0SqjoCJ5Iak9XWK5n0WHep+4+4k4IlaqKu4ASRA9W5o16X258niUe3A16ce2k5I0Bx8dcawNIfgcB6eoq6oLglAgQy2mCdYJmXC+eiujmjKM+rmgW7mamXmTqoMa4hB-iJBW2aIN+a+h+lSQBXCtOu+swdA7BxBYCpCZBSa2QpYABR+bW569w8YDmXBC+56rkh6usqhT6acwq3eoAx0ngE+S6EmpqOW+coEFqMopqlO1mpciUoEX4Y6hIohIQHBEhL8Uh3BFqHaoEGBNcWBnQMogeyYMBhgThHaP+veFqqeTOWs66bOMuk46oXoYu4u9O-hfcawYeg26ReRv6+BJh2I5W-BjWbM4eCBKKmml+AwKu3Awhv+lydSsGiawW0sfGhReQmWrWAh5ReeQcoE2+hIjRSemBMuKu2GqmdeZ+KI9WOhYsgk3APRYM8xNm4sfG20ni7+YBXsmWqh5hi0cxRmfi1+2hxxOeKMfgwhXwIx3A2he8Km22IW1xjEBRmxKKe0aww6V0o64690U6T0s6r06Qi6ii6gxesSnA+aBe5Mac+gWiUJuRXmnA+hNuF4nAPksJlMNAB8bwqQbALQbwDAI+awWwT2hy1R2mvOcg-OfgMR-RFKakiCGyUsWOQspIaRXw1Jf0OR9JMxG8yqGOrJzOwO0J1BhSxacOYymOIpnSxqY0xC3J-OcOYpjoty9yUpTyIqCpFOFqKpVBapgKGpuAfgoKApHKku7YiRuSuAqpwsaKxpfgWKxheQ1R2uixuuzcBp9pJIpI7pp6HJS0eu2pii-pr64sdpWqEpiC6xZSBW4s8peQYZzAnpjcEZ3pDs0iKoEZnRFQoML8lANceMLOVp0uuSS+lRakE4-J4BL+u40QccuacmGZRcNZoEbszAEWbuJZ1pdMMohh5g4BlJjiEs5xORGGkZlsb6xmAkp6yOMaFpI58xAuI5MsUgjJ88FwDZfsIZFQ25zAwe+5a5kgG5NAE4R5LpeZnAcRPZZZfKY5s5vJwYnZzZlZapoMmgbs05acX2mkhI3geMX5T4XQGht4XksIWmI535qRj4RwXQdJz5JZDeA6AFn5Og0FX2AAPBiB+UBXBchY3miWSAACpNReKECNAI6aD4BjxjrigvbkCknaSgAADUSJXOOMWgeosSY5IgbFgZpIrF7F9OnFeM3F3AwFShmYB2R2pIpFlAkkDAwUVFNFdMdFbIXGTFglbFLxvQolmg4lvFQlAlQlulUg+l4lkluZTID6bI8xdR5xFRKIuxSG2sTU7IFZJ4SchBGFj5eOT+BehhGFBFRkHWbldg9R+RJAmIRZ8aCRd5jcBRZlZ0vingLshIRcvFZljeRckl2VA6rhWicEqV8FcU2Z+F8uvuJ4yE666VsERsXZCo8V7OXpVumwRFjl2k-k5MxoBhccPu7oFuX+mYK+I5ModZQOUFMxmYkMhVcOS5Y581ccQheRt0ccKuK5y1lVHEoBAyni664VHlIB-uw8RxqVDlqVs5Tl3OGerlzIR1G6EeNYhyc1D5sFXo-lYOBaWczMwV1xGWd17lkVXO+ZMVWgt5LViVcmIV+2F2qVdVmVJVMNTwF2E0uVcFs5yNsNc1xVritOZVYwVliUVYwlvQNVSGdVHZ+8QM3ZzVMun1MwHVl1XVhAPVoQKBd2yx9k21SUQ1T1swo1cc41t++5TZG6xNAVakc1+5y5S1O5nJ5EMth5q5PNEkyU+1gNEVNZkQPxryY60QE6D006z0c6GAoJ6SkO5A-2cKMOryduhAm64pyyOqsu9u2kh8Vt0OiZFQHt1tJJLAQM3gY8NGIOHiNqcqYwuOSsoEvt0O2OetwRV484zJLwgZUgLwBYK1swzJxYadkgxYmdaRzJlsedYFhdydV4OkxIpdAC5dmwzJ0MzMgZjdJ0XwWdMwzJaUzq-AjQgZXdr8lFbdRdldaJedaJmY7dvQzJMIbsUK7gdAHJM9Ogc9Y6jwk9UgzJLFpdUg3AGJoAjQIg+I8eN2bFg969kgzJUU29kgu9fgB9qBN2sUZ9w9usFI19WQe999R9oAN25I+9kg59EBZIwA79t9+9h9x9oAYAz9Fdr9AApKA5-RAz-aAHA--aAIA8yX+dvWA1-ZA3+eAy-b6QAISaQ4NIMP2gCkOEgH1ENkiYWIN33IM3bYWSC0OwO+mYX4jX24PMOgBcNsOYOV2x6MPgOUPx6CN0Okix7cN+AzC8PiOEiEMcNkjEPv0oO9Df2SDENSBQnzhggx1Q423x2MjLkEgnhIEvB+Cx3GNCzzmGOe22MU6UDuAABWeJzhFj3ipQqBxdRjJJgZQqcuCtUgNj-tdjYIbUy0-g-jgOICYMzhQDzJnxbAgZKTgDq1F9ldkAhApov0vdcjOTeTbuGTmT09ggy9sAkAedS9TAVTpTq15Ts9AAoqXbU80w03kcyQAHL8DdPv29PdNY3kQGME5hNxPtSzZjnmOPBIHECoFFzED43jMpmTMJOjPRMrNt5uArEYYzObBzMLMR0IyvgxOOP+3xOkDzngEQ5bPA5u1xoAKRkQ6sDJgcDSCvbg2uP8CdiiEaApDA2nhbNW3OrH4h004hOzCPPEhmAzA7EvX9C8AQ1JGRmM6sHIsc7vgsHsB8CxO22mNvX5VnN+0TMzYrG8WQu9DYuGB3PONuMeNXHpFbOXMbWdO9BU2NUYvNxKzeBBBU2aCYjuBTJS6Q1dQ7h2V025KRMjoJ0G3-GPQzqYBm3gG66OBkBMCMpqB9QwjSDqooIEoIQZmN2wzwxCr6usR7bPDHMTjmsITWj8VMDaUXbqBcW4CxJmtvwGuzhSX-oeuoJ2tBocqAwwiOb6b4nZAut4zwGnnBDEDEA0UjCrrZAfZxvINjpsVLFxt1WkiCULA5sDomVsX8CpuUu+g5t+D6XznmnDxEAOKMARu4yaAfaI45FYa1tvyMDdDkp7Uor6XGVkhCXBtqKMBhvmhIFtuEB1u+BUV3DGVCCkiBs1uTsdvMB-QzRxqRkt1jAbsnh5uGEOSXrfRXgbugB2xmQoRMyjCRoqgbvzJoyZmJJsK3tUNWTlqWtZBFwnsEOkjlqgWqvFu7iasFQ6vqo7vKFLgcZcbAZaIntnsFjQyNkwYaKqa3vIV5sDtsXttr6rsOAzSfsttLGI5rymUFiCVOvnEfqBI5xIdwYwdEd8Wk2PBkdCVYeMCuC4fsKPs3sEeod8Wc60gHtfA7CscSxV1qCBnJ6LBTvsfSBKR7YOZTlgehUidkgl1+CIL4cmwRjbv0d+AicydKQngOb6WEcmy7vaQADkTrMe-FVnRnzrjb4lG7i7Y0+njK0gsS7n99b5SYQVfsJrF4RcXnbLp4zJIQqTPk7QAlQU9kfqVQjYAlRe3gtIPrMw8WU7nH3AwX2nWX3YHn+N+na78nUnK7mX2XBNuXDgtDJX2HGreXB9l5NA3zvzxA-zW+gih8NQMyIevAm7VcDF0HPX77YXA3WCfgNHrRWieapbkgSBzXwYrX5AKQExnXxAMyzbSOQ3qXCmPsOcea5nzJ5aFb51ASX6eaxXB8jXoAXnkOXXVQQ3i0F+gGg353T1K+FO5xO++EJ3n6iHFOjxH853Ethjd3jAWsn2MoSBN3q363M7W3EtkMxCn337Jd5nU5baMQa38X4PLb+NQqMP2PUKuP23sNSP8N37ACgnaXMToPEcn29nZPk82b83fzS37XAZaP549tBLl1whc3PzC3bXK3mPsPn2W3xXU5jP9C1jIvhPn2Han+UM+oF7VHEsr3bVkMh3gZFHp3jZQP4kfNGv+1wiH+8LHKbu9gD3PnWqU5+36WD7Q39nRFpaLNTu52APZ57u8cu5by1AeubieaRrKgtvwi771ZofTvh2tuLvJ2bvOJLRmiQZal5JHK1cjYfU7GcMUKbAHAhggf1vFvavof2bafQ0LneQBg4P8XdkfUep+fMbizfval8PZvw81RVGFeeMElnrR471L4GZU5trJEffQkC5JqrAMkxZQ-EsHfk-JsLZjss-WgPvoAS-U-ixa-8-BfbCm-K-m-LALgot0-43q5GZ1ccox-a1O55fV5cR3f-rw-sZR5A-XP7fE-Wg9-Xr07EZJ-y1V3NkOzfzJchd77k9OrNYgszhQRMAkg7AbwNIHzjgo7AEGYvm1QXDK8u0b8LbvzRmCWF3+eMawngPjSvNRaIA1chLS+oF4Um3AXfmZXixs0tYUAmAWwDgE9df+O5ZKqiF4CxJ9+1+XfqrT5oX4Q+vXBmj2zUhTk2gXAzLudz8ASDYk4fYQfwIAiW4zMP+E3ieDVoxtZBQ3K7jjGmiQd0WHAAeuaDoAthDBPdCOHQAWjW8t22QZ5OZzMGNALB-IJEPZ3R6OwTBIXG+mmymi+x9BzOBwcYJ8GxBCItgzwZk16ABCtYlg8JMqjBgOBKYgOSIbYL8CRDVAVgmNjYI8H2CAI5gqIc4Il5c9MqzyGblkGQasA-oCQ5gEkNSGWCkQJQ30EiFQK6DfBcEZ5JmhepBCgcr8DfN4zdrRtRBjoXAN0KZyTRZAvsBtnoKQLw47gN-F3MMNBijDpoEw32H1x+pXtmhhne3oYXs7lD4h+gRITkMcGGAzMmVIIWy0aHf0hhggEYRsOWHBC4IZw9oRnmvLos9QbeYkHykv6qI6UV-HsAMQJyb8CBnfIgYfygqX8LyGQ5cAlnNA0D4wGWF4Tiy+GCA2BWofQnJBhRMAZ6CkHgRv0IH41vhKI6ymeFIAYisR6FOSCkORG-DIy+5bNrgCvhrBBK5nUkPSKBCMineBwPpBSNADfCRA5nWkSeUeAOYc07aRjoRQRFaw3h-oD4Y3G5EEjqROw4Plz1FF2wbeXPXkZzxJFD5MRggBSBOHbT1DHgE4XkYaIojXDtRZIzLgaKJbkQi4Jom0e+CPLFcWRDI1JjoK0C8tqAiw8YYiWt5Tk96Fw+PIYSJGJA3gZqNwqXxJSRjnAfgaHlSJu7P9-h0TMkUCiJxdR0RFo3UehTjE-Dox1ARluEMzAJiyBMbFMQbmqhWRWR3gVJuZ22FCiLsHouQF6NuFljRE6uVJLy1ADEUAAEs0yYAABBcAOAGaYAAlYipAAADy3TZAISAHLm0XccgRIFCmr7kEG0MKQkRmXoDMAJ+XANcUPnfZVQD+1aOniuOkIZjFAxXQ8UcGnB5jRQsw8aLuGvHLjbIq4yMj2L7GDjhxY4ycdOPvGHidxnAE8S+LPHmiLxGZQ8bcIAm1pOQ9ac8Q7Ti7ATqAUUDYSn2Himgq+iE0UHuMUAbjreGwroYICQK75vhNFOPC8VDGGooULgW8XcUEA0VrGoEwgISJm64BFxy9W8W4jgmEiOxcgGQCMFWZEA-oMoAAAyDkvYZoYKHcn4mQcA0BUcgIYBbjSS2ggktIISCS4CS4h0gISlyHeJqR1JkmFSdIHvHVEJJAiB-hLEv76Tnu-CeSZOS54-tAyU5KyaNzkkEkKu0-NeFd1kDXozJX-FQKwHGD8SLCBOZyVBxskQRZxSlKSd4BkncZXJ5UZyocimjMBgoRwdVPXztDfUc0gfMzBpggpZwop0-VgXxJinWTXJBFBTlzzt5wiwKxcWQClLSlSDQ+YQ9lvVKYCpTPA6qeQWvDMzuQ1BVYGNslPamNT1JRIjgPYHYAqBAewiASOZNwmJTzebUjqelIZoX5spj+LmMr2+R9JL+sYbAZlJRTgkGA5AmYIr1QFfBLCQIufgf0mp69CRJ0g6dQSoHuBhmWYSSHBQYA2iiwS0xqTiNPTUDEIIkIbGdJUHfVbefI8iAsCGnLSpB1oDGLBB+mdTr2YwWMNcR2D0jAIJ0jQQMLPKIz0pofK7mi2ZxvC58NcXEJ-175Ph5pvQXAcCKung1iBYInvriHukohkIOjbmM6H2jUC8RDNSGEQG4o6j5I6FP6a+l34FjwhVM6kaYGEqK81pmAp8JuHSI2ByQqsk8LTLn70ziyjMxslLIhGPTHQHMqEVzJhF4jhC8WQWZaOP4OiZgosmfniNNHxgjywhPqXf0v56ySxJNJQXiGQjjTWCU0rRFLPBEq0xAUDMAKrPJDf5PELotkW6IN7ezsBqgt2czMf5HBWZA0k6q50ICWysxfAFsLwBgiJiY2tI79lWPZH28Y51Yqnt8G2ljBeA+cwUPyJHKKizJeciGaFSJmSjM4pM8gOTPrnWNC5q5FuSKIWjmdO5LAbuYWTJmIgC51jFsM-zDmgAI5LcqcvXJECqiLYyoxufbwFlushZeothGvMdlSB9RgoY+ZIF3kKhLRbaYoTbK+Btoz5d8x4E6Ps6VzGR--DJPxKWKnjqAqw6Msex-lMSyk-E72r72ir0AT4o0hflmWBBBSV++kvUlAusGXtr4MiNhKNJJ6N4wungVKY0DbhF5ve9nNNOgrgVEiIcaidSYFOH45j1x13errdJ3LL4CcL8eEtFKKh9AfJ0-fyVolGkOECcl81Meri+6ZgBFlomhUPnPk0zqAL8CBeImxJsKWpXwYsX-xjYCLyxdI10dXKkBHRmYTvMvHVyq5ULmAepFhW4VGn1DYqnolwLcLUVtjDcZCl7AqHUmcTGJ1M61FLU6FXCeh7IXfOpNQIvFyFbCoxQxK1E4TqRLEtiWwpcWhKgFTo90YHWYBedKuHnPTK4t+HeilIGZfCV4qInPyxq39MzPhOpYkIjBxwxWhP2fHp9uC4isJUeXqGBjggjiqJckoVBcTqRGTGWhsKJEjEDFHnFpSiIyXBTomewHxoSDWiF8Wl+NUkD0q84DUFcjoTmabnNAjKacoFGuAkt6Wed6uAyrpfoRWUL44hCTSZTsrOEfyjxXAGMA2lWEmc20xgO9lqhzS3LhARItQO0GYC3ibpAE7+ZhPzgX4AJly28RtJwEE4W0hIKCXWgeSAqTpoEeNodjpiVKa+zYoIfs3pwQSgh8oBCVUsIDISghcymYJ1AxU9xAFOKsYbEA5JmZFOgCvwA0thXeTHxgCwZQr0N6gFq2Y0V5bIDYWfKlgPAJBSiBjqMSZQIoGRapl4Vsz0B3C6tJcrglAqpF0TUFVDG5XQSFQsExiTzRhUKA6VnKjYSisYhorSVhKv0vxJJXTQ8VvQAlf8GAXeBjVvsclZmCcn8TqVyDWlfCv0ldKmVCcoOH7nnHBAc+nK8jDRMBVB8glga8zpX2DWALiuYagNRGvvFRrAF3yrFfnHZXvKGVrzL5VCr5UE404GErFYk3fEDihxo48cVOPACJR81n4otT+JnG1Tbxjq1AtmoRXkFIi0clkAuzH5jQw1lC3lXpTIwcr9Jaa7lUYt8JZrPAWsZxTKHzUjjfIAAGWaalqUQk6mdXOplD2rh+DShtc4ubUopSQras5ZyxFCuNYcB8foe4oWUoKeuVbWsrfgPWjQL1kZVsmnnvFHxdwN6soAHzTwZl5Bl6rNNTUizoJlAh6u2setWFBVgN94iamlEA1kA710CvPo+vbVJlREYCADaNHfW8AT18ys8mwjA0IaKgZoTQNki1hJLgNsGu9feJZ6LdluAcGDaIFlg4yHeOGzOXkAPWUAApr6sgDkU6VnCg1+66gFBtWyEB+NIFe3lxtJX2cWNAU59dNiE194hNiivfIkvq48E0U7Gn1IJtQ1CEBs4uUTdNHkQErSQ4XASjMvq6BkJNDtMSYckg2satEkG1DSctJWrDOWtmu2s5o43vs6xh7TSZUJKW5DAW8YYzYYog0oaygdxYLW5vs26bSIswBpVZsk1Ib-1dAGTa5quaabhcOmlYRQn01RcfIAWjzn3QA3WbIm4khgARsuSi50lXSrJZ4u6G5KCwJc2PENlwTnrctsSfDYRs2Wmd4KT8gsJYqbHWL0VTowjOtl61kZ+t+q52WSgHSGEotMwdLUpAuj6aYuRm-RbMtwIlbskRWw5FwDeCBAi+vXDMrcRd78tBWwrUsqKyJEUahe1+crXNuUizVqthE7xK5Hq2uRtt8bS5AANAQEpLk+VS7Wz0ky0pOt+NUAflQkrjcIGNooiu2AlnhDY+Z2GgHJFgpaS7s2lIbJNt6Ckg-ty3BMj1JqkjakV42oeeB2m3PaFqpy8EPpqx3s9uwy2qDKkE2WBkqdD+QcqBBhA1p+6PdGUAAE5zAvCWSAPQyXZAEBlm-nT3QyUsA-oEbXAqtPFVrCiIzy7AXLOV40ACGwkkQVIA52xILOFnHyGgD12mrfczKzMJrsy5qBAZXwTXeLqPR3CQhZu3Ardi1JYzdqGu0XVFk6HW6cibOhLd3Qa6t8O1OCnuvgtfR9w3lEWlYRmTm0LbAgZII4LgqD3xwctK2kzR9gD14LC8L4CzRygJ4qAklrATqB2AcDkxiU3nTNcMplDQ9ZeLi7DihEnaBBjKpgFLufmV7wppARe-Ji+0JCkga4AFbmtgJN2kgYosUbPXQqq4KrOokgQfQlDFE8jXd3ANzkpr2DaheaHqiSMhA+WZ93lOfZZTKqkCdrpJ-q+NXGswm2FPO5usms3sL2Fl291DbSN3oHjq7JA-ewfZzUAU+rc+nuZ-VPrOlq0jdmwJ-c-tihedCc6uMdAAZigG7H9ruwXYUs6G1bTwL24XPPsMUOjPtM+S5HsBRHUrodkkZBgRnqEtasuFbRsaNsF3BjPJLK71RNRCB0Bgo8MPPYECGXog9g5e+hdnqMDV76DQQfig3vN2C0-YiTAgxgYbF4wrFpB5mObt0RBV9ywm0KqSCCheJhZWgHkYIH4AGQcIwnZdrV1z1ksgBEsIQ0XGkP40wdOB1AgRh5a8TF1s66tXONrKRLnF2E2Jaf2t5bjzlPAaVeZ3-HcqI49h9w-WKvGjBmlK-fw9OHsNvjexTAKdVYb-ETQAJ3h-idEphSRkilnGVgn5t9B6qlh4KmCQ8mlWSKpAhqq1ShM8EZHxhDknyOpOtVkq9NlejrRZ0jHcBCxAAHSwCULil7GXAO0BmjTb96TDa0O+B13aQW9Re73uYGz21H6jTRlo1-LaNTYOjsnaiBeHwAdh8apwKcksdAAAAvU5qAGaMzAZjQOTo8YdOBbG+jjEAY6SCGOFkRjjWwbFQdFC0GLwdRlI8znaOHHP66nSuqocxICViAAlVJiYAs5ggbAYxpJU8YmlaxXj8x940AwM0CV3APxv4yl3OMJQgAA')">let THE_RULES = null;

function fetch_rules(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_rules(pattern)
        : get_all_rules();
}
function get_all_rules() {
    return THE_RULES;
}
function get_indexed_rules(pattern) {
    return stream_append(
              get_stream(index_key_of(pattern),
                         "rule-stream"),
              get_stream("?", "rule-stream"));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p34' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Add-rule-or-assertion!</kbd></span>
	<span style="color:blue">The function
	<kbd>add_rule_or_assertion</kbd></span>
      
      is used by
      
	<span style="color:green"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      to add assertions and rules to the data base.  Each item is stored in the
      index, if appropriate, and in a stream of all assertions or rules in
      the data base.
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-rule-or-assertion! assertion)
  (if (rule? assertion)
      (add-rule! assertion)
      (add-assertion! assertion)))

(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (let ((old-assertions THE-ASSERTIONS))
    (set! THE-ASSERTIONS
          (cons-stream assertion old-assertions))
          'ok))

(define (add-rule! rule)
  (store-rule-in-index rule)
  (let ((old-rules THE-RULES))
    (set! THE-RULES (cons-stream rule old-rules))
    'ok))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuTLiQA0oOQAFvKS51GGJoGW1rb2SSaJSURj3VYAMghoDeSm6u16oAAvCjnm8PhcDkJjqI7OUlCwlgiVkkfuY-ttAZ8ri0bmFweQngAiYgE+RM-pDbEicagOgATxc2Uk1HwklZhIZ3w2FIBsO650oVQ8JP0nMOo1xgKUdDolCixEJeilxhlWwBZwuNLpd2Jj1ATJ1eoNRvIHKxmt5Tv1hsSoUFmWVNVVpt+5rs8tUirUkejUrV6qOPLE3pdfvm0kWknkAA9NJZdeMTWSzLKI7kFSC1HG7V41Vikyc8VI2qRpEplLji2b-s2MZdrrJ6bXGQ6NPRznpJK3253xhzfP5Gk1+9ah7aVfamfMIkpnDlp-I2x2lLiFw1l5aB7T1wzmZ7aIfj3PaO6uQ+7DOT7j-UKg3tSVSMsYQrKMq1UWNwJHBNEw-UAvxfYg5gWd5c3zeRC1obtyXDEC4TApUCP-Xp6y5RstRCdsXBaJRszzAs9Sw6DQ1LXCrzXW47wdKjnBouj0Mw4g32GOCeL44FlEJKZf0DOhsNY3tQBYJRNFUAU-xFMUJXkJ5IMI6DSJEnFeTE2jMhafl5M2RS9OrKDNzrRNyN5EIy1Cc4FFdKzgPYwdOJHZk3LCU95FdYTnLENy0IYotmJLYDbPjBs4JCccWjkcYVCs6zKV8m9-Ic0cmTSjLaBUfiYtfYol2XKkrT84dCuZErcXK4LPMScK4JazKZnQ9LSBC7zcPXSRLHwLieFg4yxB6sqZnHOh5AAR0WY04qAkbbjG9ouP4abkx2Wh0tamYVCmVkqFmIlCulHDFNG8auIAZiclKpCW1bEkocqET1Ls4oASEBntcqkakGo3YMt0+taqF+jx-vnA6mwIUEwnckKvI2+7KUSgyPRmuwlrSzGOvW26WJyuVQLjGtbsM7lUYyaRqFIABrbKfPB+r8sa6G9GZfc2fZrqidAYWOckczLJx3Gafw+mBYMN7xZCFTNFkQaAcp+K2J568bS4x1NE1yhteRwnDoIImKowxj8jl6ny0V+zlcZuCOyiO3BLkp2Etp8ClYAhNkrVqRGEIHJVCdRRcTu+W+whvm7ljxhcUCqP2RRrVxzbQgHdUSOcgThS8cDwji-kD3xar6XqAsous9L53AQqOzCLjKuEw2QIAH5QFvR1pAAdyUflwcj7Pe-MAAuPDK078Du8Z3AwGoTRFFPcYMX3HTQE0QhyFAPIWlAK5yDXphWFAUgXhUqZQGe0A1KPLVnrQD-XqZrUnTZ1R2byH5E8SwGhGAtDoC3bm4oo5qFAdQcBkCZ5BAHq0donQWjIMCPPFahAsqAOAQvCCoF4GIJ7rVcwA9IykIgfoLBQR55-1IAAoBTwu5HgQbQ1W1tlKAN3tHFui1j6s0GjMc4e9kSD04kyAAVOInIMi3yBFElkdmhBVIEMkDwJ4mj9pUyCEIvkhBnDyPkJIphLD+RaLYeBER5VTGkUaJQfAL8QhoI6AkbodBjEOJbo0YC7iMEDEaIMUA8hpBLX0Y0QxNDzG6n-romxhFvEmL3CXTkFDW5uOIG0DxXQi4cPAXQzJpRUE5PQZ4+htV57sLAS0DJpRhiBCaeYFK9A46WOsaARJoAMyLD8eYQxKTTFxLoAkoBXS4x2LEWk6uDS0jONcc0cpeSvE+NmWqKJpQlrkAxIRaZ-CdJVIocCUEqhbyaO0QfEEYIel9LmQ8Y5JSzBTLZvYjZjjGlhIiWYksy4YmFLPkiE+8TmE9LjMMj5wSKGLNUNk3JGCCl1M2X8swgNGg7L2WoSFe9HnoueY0U5YIiWdP4E8e5+hHkEoJRC9Ze9Q5YHxWYUJ4TImoooZi2pnDyUoXmcuFpaQBWgCFXBdKdBgTkDvqoFgAyy4AjYCiYFTJWbUDUZoJkTzKGD1UeozVZh54KtREySIS104aupaAAeJq456rnmExgzAwQsGZAAVWIOzYg1AR52A3lvLUABaf1zxZlKPMEK4CYqJV3wbIY31iFDmSN4e8UxqhOSGIvpIuN29HwpuVTq9VabaBhAPkfTNm9425utWazkEU+w7lUGhKB+tVyQwbXmZkfdwq1sBJENoOZZmqAlU2xSIQwgRGiMQ-CQ7qqAnrZGadYdra9tzJITRopB2nkEUW4+BDJHzs3dCuVdaOyWMMAPJknbQDzwIYu1GF93KWAJJYq5BC9F-KGZIi+z6dFAP2oerJyyEWeLUme0A7cr18lvVqMICD3hpx-JESQy6cwx11HHcYLdYUhGQwO+DGHZW323d0oBkjkOromeuvDtA+WBEMaQGwlgpxUaQmO3ICrbVBHvaxp9BDmTMf9dxlgoa0iHzuLxh0-HBNMipScm5qHTUZxfoYJEAA+W+DG-TMYfWxz5zLvlso2MMIy1sYOWDGlnJDSFkNNxLvowxEqLqSLzpmQu3d-1YakDhveG7yAXRRVgwxu7gVkbXRNBzihiA0cGUR+jDq-R10E8iDjgQuPhDY5YzOOQBNpYJMJoIomMsOirtlx9QmZO1RJVXJ4qbkRqdi4x3ZCWcsyr5Syn5+ijM-15AXd41mh36OgWOyIMR90qwbDkY+AAVAAEgAUUkAAQXAOAWbAAlSbkAADyAA5ZAwL24DG7fgKwd9JDMbkuF2wTx8CSWrgN3CPXLN9p835rBA973IeuOdl7EXimlHnvelQZ00Pp3GHQK2d6rBncqGdkHuI5LDspDN+bS2Vvra27tiHWoPvlJzF9uHYOfu2ERwCVLpW4W4-I1Y9dl3It8YJ7QErbGu0TdAMjyQq2XUABlZt7bA7Aw7cFjuSpeOZnIF3TwXWu7dkndhHt9cl79t758oefdpFXCXvmleNAB1DoHYuMKpqx7yQHMONc1b+cBdnnOefgGN2IHHfbrjm9p7LvkzWzum10N0PVZP0shYo2FxXxPysWqCEyYrUnKW+6h4J1QF7pNFazkz3Lq88AfgYDdm+UA4CIGQOgPgPAutiHkH0oaAUwnEFmKXaBkwt7EVVFUgedfpjIUzDdd2VT574klNBJv2rVXqJksKe5akAzClFOKNkUoni6Gr137UpstbZsdrdfvGtpCWVLwsIaH4faF2grPqv0ew+jUn-cuSXt9+E8P5X6vdD8Xd6kFm8gCDJDVGcJEFfUp+-b8zENF-N-D-L-H8V-T3M2C2JiW6I-efapQEOaVkBvIoX-DMd-Y6UqRAriOfP7HXQEUya-KAzvWqAeJNSQD8c5AkXiWiCSNkaSdSWSGfZLZcfAmWGfO-HA-7QEWGb6BGGoJGQgkOFAtqXBHghaRGDAtg7AhfEIUKTQcgKxdqUKRIH-Yg0AQJSpOAlmEWFQ5cAeP-aWERTmCvKQzQiOcMMmJQimIg3QsJVAoKDySwqGACGAjgtIJ-WHZ0X0KwwQ1Q-Q1MLwpw2oFwxlfVQEPfBCb-aCJlUAEIy1WwnfBQVQcIo8MRagNAicPIXZGcSQ4-aQlsFI78WKNfXw1AiInWZWYIuAxQR1Y2N1D1L1YmfkPQJQHMUAQNeI--BQLtT2JfSyYQJ4L2SBKmDzIECIFgDKa6MgomJIkgfzNIYCDfKxfMSgcYq6d4cg-ok+RgKISBQ9NrSJEYhEVoKYw6GYyLAZAFbxaQY+YFP-PBRIvfVg4QE-MPChXMBQHJbMKvUEWgLyJg6lPfGgqSRQOSZ40PV4ihQY8EiE5cPfOfH4gIs4hleY5tNyUfAsKOAwTVAeNElCdIj4u4DE641w3A9QroPY-TX5GeaohBM411d1T1b1G2a2eQzeNooNRY4TTrbtM-MUC-NtTQOgFwqJYCZSVSL2WrDo+4pYL2Fw2fPMXYsiOCfQhArKYw4-e7EdSeI+F4LfMvRI1UvqSwAacvaA9gkklBKU00nJDAhGdpL6bw3oSoqo-Um6G006aHC6bea6HI6vKDXkfQ7gvQH6MQvgiQ9U6vOzIjDoRgDGMIFgXZe5SRPVO43fdGXZRQ7GaA7A9zFxOFMw3sNvRYJI9M9yBMosuZLZI9NGWMjM8gcs+5f9fYqk-xXCVMxIkmY6CwrM92B4HMwzJU8WXkyQEgfw-JbSIYy3XCMU1QbSSU2RUcwsA0LoRRJ4Cc7hVGOgQaJCagI+J8WcFfP2XWUGC0D6EQ4M3g7Qfg1fawmwjWb3NSbckUPcsownGMuMhwnskOF4sPLcvIZ8rIgoxCOSTsz4zM5QgyC07BQEV8gQ3oY5ZvTiWCljcfJAusY5eeA7Qc62fQyWIwpqdgqMicCWBufkSRPC+uRuaCf9QxaZBgYFP8ncl8oCw81QGWPlQxRczwroeiqRDGSfLin0fJOivlYCdspYGWeUj42keE5gREui6EmEsPQS5ciBJ4f4pSwIbAjcrUfQ+wrGCCgi7AzUykUg3E9vVQW1cSgpQs6Ke2Io3s80-0kvVA-wr8oIwi99IjJM2410+TH0V0Csggm8kOFw-9fw4fGYUfNyv0eg7INg+5MKk8uwRs7C1GfQ5CrAjUv5CKuKqKlCVQZCyKtgjSrSvyoq+5YKxgzS2qbS-9AJFZIJMidPImTPZgNgHPTgfPXgT+YvJOSOV4SyHMN3DILIHIPIVQYamIihAeHMDC+1GonMIWMa3IOwNCN+LoEBI8eQSga6FoWebo8WUg8goEqwEEp4SSzy5Kviu4YqDwY4j8aTDjU6qYIUkiiyJK4zZmKQI4z4jYkag2DiekfAZqe6v6omMWa2QEk8YE2MpIt3R6XaEG0AKae3OwR40i+GkygERGiaZGv9d8cWOE74uSryfABG7aJ6ZG16ZyuwMy8w0fccAkim+kCPBmlCRPJmooNGwEcy4silbGpOXmI2RKordm9vSG1GPm94Lm40AWqcmyCuNQClHSgMsgVmPUaIL42YBEryYyhWykOMfsr6rUd83ZG7affW66yMY2rAQxV4VCOIeQ7W3WxISRLC7tY627MfP8N6i-N3ElPKv2lCRUk23kC2wkSK0EmXNYcwa20CCO6uHmxOis6Otkb4dYMMRSOMRO1WkvHMaSl20m5QoOnlCJC6nUVCbK66nIaIV4H22SZTVEWuqIeujMJBGa65M5L26fUu3pFQSBCupabWqCu1Fu+uoOwwAAHkHl0FbpeFUHbtHv7gWtpKZEmyyCUjyDIq9icESAYG8SX0oC6HniZFAAAGppqIShtohnFLJJ6L6HRmRH7Sqb6og77F6B61RNUcEHU16N7qACB5AR4tiog969AD71EzYT6HQX6YS36P6H7L7E8z7L7X7whhsP6l686Jh81IqKyG7shhS-llSq8ZAshVIrbGg4JGLCHy7+6IkCMs6wYYFKg6GO6w89CyGVVVJSqzBdA2xqBNbvZZLfjlDtL-j548rkRURIxJ7SqqFQIl7SqpHtyiJ2HKVg1CJsH-1mksFYU58ZHgUHbswnarFRGAimHzAaSwQ8r6TMhWgwM2Q8tmlKSqyDFozbtJEzayDvb+zMlgJaGU6g6kiZdFKLUU7+Tc6otmUBzmGAQ59yGN4G1j9aaQVPD8HR87GGHiGNhSHZgknKHq7qHxZaG+6l73H4m+x24NGOMuGCmeHLKISBGNbhsi6xHjQJHqUpHUKjGiF5HOG+QodIx26y7l7cDaGIVULB6tHlav6YnhUr6Fk8zDHFU0RHa5DzGSaOnAJMkbG6H7HdycknHCR2T0mArOoFnmzKnotiLE7vHSzE6Um-SnlAm1HgnpnQn07wmATbtU6vnCRdMgghVw02zuGKHnmnIWrDo2rs8OA89uA+BsBu0QhljVjdr1jpjniqZoFk4jZNimQ0WJjs4eaiW1ikM4gchXRv9sW9ZFbXZCJninJ7MxjiWTimxeLbxkEh55RE9zB5QSkfzAgh5ow+WXkqxBXFKh4iUxWu7GBJXuXpF1xZX1wFXSgh5yhYFE9NXKhaohXzAh5I12x+RE8jXx49WpXpEbGxWbHMl9WzAh5lJXgztnA6BpMnXRc9wGBGh7Wbr49z7ZXzBJqnh+RlM1NWjL6yLQBfWh5-VA2zBg3QBQ3JTWig0o2Y3pFVzShE3k3VNQBWiZEk2zAM3WbgB42X4lqk2w383QAwB03LXWaABSctnN6t1oxtot6Nht26xVQN1tlNvp0N7t+PAAQhRD7crdzfDdADHeBSHcVdZqnpbcnbbdABnrMHnfVekSnqRHjf7bzdaJ3Y3ZLdupU2XZDdXbU2PeHaZBU13aeCCH3enbvevYXdupHfLZrcCDzbMBHfMGGuQULWIrJYxfZZ-CDqS0aBnPlCeBA8mIzyA+LTg8xcOhFGcAACs356KsEZzhBJTpXWW1jE9EomXfX8tCPQOEPDsWWVi2WhFMjOXOIh4ySWhE8WOyOaq-WmRIBiAPE5ATWH2eO+P5COOarHXTxRdYBIAxWPXJApPRPNLxPnXZtZXZPZsFOlKh5tslBtty3tPttxmYTEPj5kP0jgopwIOkQcOVJ1BJTIxSBNHTP6OIHjOD4KPJjnPEyQ7IPSgZzSA7Olb1A1RYP3OZbt0GOa0ejNYljQuwOixNivZ1w3dFjLMRzylGBN82n0OlB5gtyIg5CmmCVTOVjNZHCaXZifnShEvbh+ggg0roMthNB2nES3d3jvdmu-iCV7yclB1Yu98+6+GnPwuLPpmNPzBuvuhTO99qAMOsP1KlKhuMipx-bKuggTHZDnaLHXQnJWcTGohWZnByotu3aGLGuOvlCa1oWOXr4Or4WuBMAMA+rCM9BlAKBJAvowgd5lJGBOYdwfp6VBa24nBXAwREo-uPkoLFGGWO45ndx6VNlkHJBUH3dx1378BLIweOx-v0koL55Me4f0kebqhlJQh5AaCFAvEMHohJzrqlBSB6MWAo4ho1IBj6fq2GBL6Y56e+mmQz7z0z7T7n7L66eHPVuKFeeng37Q7u0SAJIlo1IqeogBjti3qr9ZeOwlpvgQYqmUfhtH6mR49H7ifaIlpyf8kZy1fiA5f95BiEeHR9AmQeb1fYzk1FAWAY5tiAbWG1AvZIeHR25zVODKJOJffQAoQql8zvf1HfeZ1EoY+Z2jVO0-fJ1uhQ+1mE8ELnvwg6fdkPufxvvOZff5rI+N9zZv9Q-w+Ske8lg4T6J7KsIY-xnz1DfL7nfh6ph3fIxBiPevg7fNUz7ke8rNIp9JRa+BJC54+0GSkB-H62-XfGBO-Avu-G-DBz7++Hf5q5-49lXlele1CreNf5+WssF3CSUi-Ggylrf48ZWnhbwu-PekkffPfNG5+Pg3fceuDFee+-emQAByZHiUsg3-4n9det9dHt-yd4H8Xe73RYIwEshfQ4BXvGpoSBcBuBIwCAzdpxyHinwUGCCFBp6jdD04FMKDKuByG-oX99+V-dAbAKHazNVAGAl-lAPb7v8QBW-agYoFoFxgGBTwV-gwLSbZdcupAfLl53byjE2Y9sAUl71L6QF8gjaZXNgKPoyDE8Y-SqLILzBjczAM5AQTqCEGUA5CQVfMOIN1C785IjacgUHwcCW11B8g6RJ2kl6oVh+2kSQR-zQhpMMBYg0gBIMbT6IRi0g7-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-t4UQU7oAOIIwNU76cM7adAosopSWpNVDMD-JanXNT5YIDMCiiUp4AZEWigLOwr9EfyVRVopCDaJUA-ysEwEQRYFNWQ1jLRwCuIiQAkU5Sw5uKI6UEGkXFkUpLi5RDLltTTzpKTi+UTkzFlNlhxL8ded7i3mf0WF-dXeTLLWCaLtFrZRSGdJqkXTDMr8xJZSDCnMLTFejVedbHsXo9JFUqTQFck0BkoxZRUrxiVPOnjDLSySgmbUugr1S1AJS2DvtGVyJ0xpXUqaHIq1R0KxQDCygN5laUHxylo03AiEC6l6IepBddrvQqEaMLo4ZS2Dlci9G1swAWimRGNJJQlLDAU05BYOnaUUCClViRxUtOIlKUlp+0IeUEBOVFKF686C5ajLSDzprlni6hjLg-71LypaTFLrRCrjLz-pNA74TDL+lAzgVIMthcRTbCrUDckiSOZHTVGxzl5HFIjHcqpnJkSkdyxxYjKlwuLnMBcWKONSQjdwblpQdGS6OuroqMIuM6pSksaVao1JgI10jAI4HLzKKssYlQbm-F8grpVgG6aJOpWQzrJ7I3ogbk1yizIVc8g8bJI5nPIq4kpZLH8oNyAqRZEWaKYxIlmi4XcweMFdE0umUt3gGA+gcCulnBMDJgPGVezJs5YJipamJ5H+K9yfFqJHGWmR4V+lyRcV6qsWRtKMkpdzcXqq7DLPCbmrSspI8SqyrgEmqOBHYsyTKgTnHxloeHYFF+kZHcCHQEajAXln-lAZ8kSa2Ypnz1CGrI18AmgbGpUkUJ54+a1fHBIgbRrEB5agySGKkAbcrE44dDtMTQgCS55d4gUtLyFyll21OIPtVqNAhdqc4vIAsLsiHUiAER3a6shPP7XhxTGmzacBIA7WnFx1SIhwFhPHXJ1SyYqDdRQBHWA8B5S662FOrXV0Aj1xIk9czMXUTqxACQKICFFpDGqt1zMs9Y+rsBDDdB+gkcHeszpzyv1aTdtdQEiDuBiAN6t6qGp0zbqV1ztGdU2Eg3Qa-esGgkCALA0QbL1SG29bhsHpMFM1NAksrWXSI3qUNOIAjdERhLoaWsDYArI6ByQoMiNHAzmrQHQ7gbIs6s62Ies42FV11lGxtWGvg2tqr1N6osIeso1+8mVQfc2ZRIAloTCuezFlcap8aSaRA-G69VJqE06Y8UaQIybxuw0YQsiAm2dZptQ16bXitGxmAxrwHMgWNcA01uus42RcNZ8gF9YkShLpS41buK1aeDlUlI7VsRUoL2oc2WRn1r6ktT3wI3PLMkpM-leTKfTRMH8NheLa-kS3u9RpwMCDO3Es1eKo5ikrEAxoIHMaVNNAxPBFoUCuacKeOejBGKzHMzrKkYvbgdyO7bNLG-A+YcMP0HRUVeOmgkAnECZcTrVvDChEFreK1aj4SwUMZkR+iJFSqv6xYQBtt4diyVCbWYNdjDZ7T9mG23pZpSZC4iGi0M6JWc1QaMpstgQJkItpGEVkyBTfXldEDJlxqAWnYytfzkqCrdrNRWo+PHmu09aOa9msraxqeB-bRhGUu2kRmUg5gr1msc1sCgACcAwUVBIFh0KFRJ86loVqDNZo7gJcgNwGEDXInyRxO65SSrHcbKK8ydgNZirKsZmBsdqgX-r-2ZBoAWdLjIcXcJuZ06UdxrWcWEFgVBBsdcapDFMDEmsyIUBgNcm0RRpXNZ5XO8VMayF147bGTwKHTDuNakiVAY8CeB8CnhwoDQsGfrfGuZm0bvtt1TXePG1LshAdCRI1eVoGKjwLdOuxUU922FSBjVkQUTOSkUCZB-oybdycWmWiSJ0hywiXC7wpyiZ9efQMgbmRfjXRGAPu-jgnyVR6ha6boAjPTqZCBog0ru8FRwPEBW9S07JONrVywT07eBxG5aPWEWYc6jAQqWFFpjAJUiOReauYlVxpHay3830jke6tByPhWClehZrCjj0J75CSeh0Cnsuac74I3O8ePHiz3tFmMJ8GkV0CL1Z73Q1e9rLXrSU17S9M+yyJnvn1BoMBmwSGQwEP2Bo2dcu1Hc9odUe4Atzycba8XL1sqjpM2i8okWWirbY9m2yUvfg2lhb6BkvPlelue0vTkSYaTKejVLJ5A6AI8NwB7qPhbpiKge4FMHsSEbow9CB4+Mgyj1Asght2XigAc-0Pb9uCW0A7AiBbQIamidDhhMP96AMcpevFyUoA1SAx54z+qNW-vDFLBiDkYGg5o0Xo-6829+X5e3rrid6uRP03vZFng0ArmMhgZXN3rkNciP+3ervSoZ5pqHJD8h-RKZjgxcjUu1meQzRSIzZA6ZHqyROzlRxrYNsO2O3BsCsPLYbDGOPnGfy5HVZq2ZhnvfDlEq4QmQqqVkWHRTBiGs4KK3Q6-jMx1xEM1mNzKDNMPSB1cWcXitbm5y85-0KR23JIkqxZwPDkpLwxrl8NJKAj9GkPVFt-7wZVAqMgADpYA5DTq2kGAXwAIJ3euWpNhe02QEomdDoYfUIxJZYBXdZRio9UdqOhH-xjR5oxujOSEByUmjQhCSmmOgAAAXsFzMA1GggYxtIk0YX6CG2jSxhMK8S6PbhvdvRt8PihGDQH6AcBsEOUfqMfBNjExydrf2kQsGhYKDUgCg1Y5qhf+nIPAAMeNU3GN5DR+49sceNccXjDoZwG8Y+NkDDj7oIAA')">function add_rule_or_assertion(assertion) {
    return is_rule(assertion) 
        ? add_rule(assertion)
        : add_assertion(assertion);
}
function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    const old_assertions = THE_ASSERTIONS;
    THE_ASSERTIONS = pair(assertion, () => old_assertions);
    return "ok";
}
function add_rule(rule) {
    store_rule_in_index(rule);
    const old_rules = THE_RULES;
    THE_RULES = pair(rule, () => old_rules);
    return "ok";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p35' class='permalink'></a><p>  
      To actually store an assertion or a rule, we check to see if it can be
      indexed.  If so, we store it in the appropriate stream.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (store-assertion-in-index assertion)
  (if (indexable? assertion)
      (let ((key (index-key-of assertion)))
        (let ((current-assertion-stream
          (get-stream key 'assertion-stream)))
      (put key
           'assertion-stream
           (cons-stream assertion
                        current-assertion-stream))))))

(define (store-rule-in-index rule)
  (let ((pattern (conclusion rule)))
    (if (indexable? pattern)
        (let ((key (index-key-of pattern)))
          (let ((current-rule-stream
            (get-stream key 'rule-stream)))
        (put key
             'rule-stream
             (cons-stream rule
                          current-rule-stream)))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNBiQuFE3NFEEtAoLJcgUQh6GIOhKF4mJAvdVJ0gUFgyH0CappqWbwlAAAfPbFNFD5SGqMQNsULaZrmmIDqO1IWDkjghAuybpp2-bDpfZaMnGy73pu2I7u+sUPzVKVNoBp1zia8wRpcxsUOIV6ro+iJCgC-i3Uh7bKHCgbkyW+4xAkYQGFnMEceunY+mJ+aLwSN1RQQlGodAAAydnen6QYqY+4SgUoWnmDEfGsFh5JlvIBRkb5m7iMW0URdJ8nQVZ3GLLoaXiEKiKJepXxVvwRt8BkNJtfV676cWuZ9AjOX+T1y4WNFc1qDEOgZdmy20cxxnJeJlWKZ9ygLLdj2va06Hxedtzw8966GEMQ3Hr+t7cetrGXFtiMc7rEPJkdmPBvMePI4YJGGGIAAPQhAjcZwC6LBas+5kYI3t-6M6L4vCdFCplDYchKvoJuFdbpXyBJ2pVbnOWLJLIQQIHoeR7oeFPvuwOZ+D+fRLzU6HQYFfh+y9fwmB-1J+nsnd676nRIl4+TFXs-dd7liT7XpOU+NsflhtjzO2+c862gdoXfG+sv5nwrlRKutd66GEbg7ZugD27507unK2Pd9bDWliwYQ5B4F12IA3UeKC-yK1SMrHeas95iXwYQ4hiDnDv31kPVaTDFwUBlqNH+RtdT-1iItG42Jk4CIYKbc2MtuCgLTqjOaRd2GMKIY9YQvghEt39m3QYHd87gOjh-IaqRApJ2YFoSOmiGYCWvkHOh99ZoWVMR8KgxBI5sNjuYUxNcSFkLoFYtBuj9EOMUWLXBqQ3hsVRJ0Kx1imbUKnnYueISF70Cic4H4PiWH0A3pfA0tjaHJKwY40SkTqDRMbC4ix10PElxcGUipDASFsW5FoAJrcKYMECDIEO3A8TR31g0jJjZKRtALN7ChACOmgi6ZUXpoBSSQM8fUtJ5ThkME6KNLWNAcyyxCfNRanTunzJ0IY8JScxnXWoD8SGSDURj3-P+P2NiEk31npTFJoljDtCuTc-6dzWEDOWY1OCHwzGuMsZM4Rrc5EFyBXU-skTwXVImfs1BMKgF6LAfsnBwLRTsA8F4WJVDt633scU0OokCXKC8LUwm1KvAMDURoqF0LtGwvAWEvFqQNCEBBK05BaLKET1eUkj5FKw6ED5dQAVOT4WEyflk0hSDyFCqmeyzFwSKVKOBcPMQzDlXNXaRq9BtpMEKIgWcAmLtUgH30D4zO2iClkrnD4iyxR35GPMKKaoFRq4On0BxR1LyzGnToOdW2QaL57SJnayNVBcUIt9TXBgRJTaBoTc3FQxVQDdEZPGuafkSV2u6OEUo4IPWgGaN0LlCL0qhv6AoHEbJuikizeeFqQJ0rNszL4RZzz4mgwqODQYYRdKgHSJkKt1Ja19xMRkZG5o0zOGDYOmhLqwRLs0s4JxC66UsTeIPXgKr-GkAXau7OmrbRnuwkshFN7iBMvwOo7I56s0ksnVkLF+xz2TBDKUYO4JOj2XIL4ahZ6dZ+iUrCiMD7LURTwBLFqchFAQBgPAJAqA0C9TxNatyxAUKuPmTNHMByRWq1GjEh20kAPlIRrA9ceztXSWaKKLWMsC40dkvJQg-DU4MYLEYX+JszbsaYxa7gJGoNGSJry-lZ9OP+lKHJjRBH8xEcVQgw1qrtWSboKRtC6FOlSKRoYfQeqDV+LMw7PTpHbBQVY6kLKlBggMAmiwaoCnqNKZaIRtpznXPuc87FFzGypXyfuTZlo+npNKVFEM+gVH9lcbUyM1ZFTiMxZY0TDhBCiFKr8Ypg0pREqPoljOFRTTT68LIHx421n9mGZ0g0XLTDmUF1s7F1YRNvnjJoH8t6AKdMWpS2uC5PzZrXLS4NtZw2oadey6KNxmhcRVLcddIrAYyhgy9Ith6XIiXeeK75n4DLMukb27M-2yL1uouYz51LV3lQ3chZ8qTl2y4baO1tx7n27sKIWw5omT9oGRf2bhUAWAoKlFSx0NpIOX5MHwG54qS9n6Dw69Fi7-pHPo9fmD+7x3Hug8FRKrHXXYjGVIKZeZVkbJ2UcgbWa5Bq4eS8rD1xnr9Yqf0Mibgeqx1-lfMzU6Cg1m7IYOV5Ev4FSLRU000X4uyvLN5w4fnpAxBhBovhQi7phRvgif9cokuVfS-pjEc89cMhlQ5-D5ZT6X3S6a81lYNctAiCrvpuC9BLGGRd4me33DtajTM07v3-vBAa8MM7iPKxFVe-kAnb2ZvDyFBJaYpGowaRsDmn70oGe4FvHd2CK3OeKdKU7BqZYOuTwKhMsEVXdALLWVsg5Fw+tKC+BIGzwQ4XfCFViOcJ2CLjNm1M-a2u0fydZriS4UR5mNeAgAHwnfXERvVnXJOT7OcCx7CWtbyIBp1995HKBnqFqpvzeyRCzYPwr2oMqiNRak+XmIMOr8XRv400ZE3xUSfJ4pMZB-vvj8JsmQNstQLspjlJrOixI9r1r8tNlNENv4nvFJu2jmlUKQGCh8AoCBEjIyOHrbsjFgTgeYrdn-vNjAeSMLiYlnAJiQaCiBLgfgVRDLisItKQcwZQHgQwX5DXkRCGItMQUYEEB7mtq9rptQfGFal6miDMlIg4PHFKGJoLgOnPhoPoGJsvqJJCEoQ3B7LUHCNwKoTvgioYNyIwPgPwHjqfKiA1tqifk6qkAgZNgNsgbfptltryjNKOpYZIjYSTkaLzkwS9l9jijHtuBYUIAEcvC-HYUasYEihIeEdqn+qGLjkEagclqGLRnOFkXVoft3IAROr9LAfhmNmdmgTFhge8AIMyoyAyg7iyvsn5OeHuJ2tSP4dYXEYPAkcEcyqntmnUdtsoaEIyKPqDGMTOA2FruoavnDsjMylvu7mTCRt7knmCB0ZEbHuhPoUgoYaENwOHrsa7jFmYYTI9s4uQZIQDtPuPNoqVk9kkAwfoCcSId4lpoVs-uceUeYL9gYZsedvTOeAQUCCIX9qwYxpZietATFn5PHIUa8ZCYUZjkjJ1kWq3EjH8S4MTvEWvMCVmoieIvxpngUSSX-FFicQaCIQUZXAVrCTZtSTpC-pidopXmLIhssshm1Ghp1Jhj1JYHht6uBvwKoBotXBekTI9MbP0P4pKZDrkaANXCUfXtONXBZDKc9LibXCYFoMIAECYMQJAbUI0FzsCk8eVkHjVtgdwMsfcfMYBpDMbhLOCDsTBNVpIGQFPvadQTDNyijm9C6ablKc6u8rzqkkGR7q6fKixE-NaV6dgbzlKUcnMjIH0rGW5E-O1jICmTMscumQspmeYPHjmBsZYrmU4QJKmT0oWacjiYJLcI+gXoxp-sXnmXOOCC2QWG6cMe2XenOs8YwJnkjKGaKoUmCOiaJN2ZBgOSxDOSjrNBtqOVWW6LCqORcXAY4F8EguGp7mWYnpYugQ8QJBGH6XISCtgSBHIBbMefMbbOeeeELI+stp3vueWddIyJ+icBeZaTwsjBSbqJRIxmoWnq3CzIBVPqZsWe3v+YUaHv+c8BjGBSaoMDeTLDBa1NrAwQhdrEhbEPMRGOhdRLIfrG7r4e+YeRtpBcBT6esC+TUSeW6BwOGkLEJgImOgLMCDNGIGxWuEsEqSzH+RbDRbmJ0GEHafRfua-tOixbxaoOxanGOgADzcWsUKX8UyVv4tDU4N7ggAAqckjZdAvgkeYgvAkcLUNI4W1AppokoAAA1Iqf7idGdEKBopBeEE5b2eCI5c5S7q5eGu5foJpVpdOmqRCIZfgI1MQPZGZRZddFZViNKnZb5U5cyYUIFWIMFZ5X5T5X5RlbEFlcFaFQ2flLxoBa8YBcfsRGRfpuTHJNiHeXHsCtEf4qJZpTPnxM4WkL9IpfVmFTJCRg1UQG8bsTNIPPgLufqusVRd7C-oVc0IBSpECLbJ5YVdpbbJpRtdOm1cAg+MJhJfeFkKVSGAxIKPriRiteyLTK+biLNT7lbF1Q0BFdVaJNZI9OUBOtrAPkeARLXn2OeMRYyFwZLv+favCYZItHtcRfBbzohe6dBLDePsRc+PROSAxMIfVeiE1ZDcPoTMScJlVcJsBTVeSHVTmCNbjaRs9Y1K1ZYf1UBWJbqObt1SGp+ozQJdBDDtjY1WNS7hNTuWdJRY9fNecdSUtcJtdWtYdYNSUP2CBFteJcBXLZTl0S9JhLLdaLaKdbGP5UUK+FdVxc+VXJNG+Q9ZsazS9bpdOG9XTp9SIN9TLD3pCb9fRMeIIYDZgf+SDaEcRRDaRn5Bwa3DDXBZBfDXhYjduMjVRLhRhUMTIYnWygJMNTjQHYYlyXUjyahh1Bht1NhhgMKQHHXNQGLjssrnUo3mRj1euuGXzqJCXWXSafum5I3UrgwKXXyhQQptLuiqhftVkGbmLOeG3eXSblnRMWrM6IBnML2bEHMBONYJEYBhyHPTEByIvcvWrOCAhGvZOHBJvdPdvRTHvRTIfdMIBmxr9L2VfVOgaEvUfZ2cFHyqBr2c-UPKZffVvZ2WqWvWqX2A-RfdvTcELBsiwIYG6SA6oGAy1CsIAy1tvQ5XvbEPoBqaAL4OEACCvqzk5Z-fA0UIBu5MgzEKg9wBgzoazl5Hg9-WCFCMQwYGg+Q1g8qaAJCOgzEPg4UIBsAPQ6Q+g5g9g6AGANQ4-bQwAKS8OMMCMsNiPsOgCcOxCAYCzIN8NMOCNcUYM0MQgACEwkKjUjFDoAujQImjojEIylkjZD0jrOqlMQpjQDnZylAIxDqj1joATjdjCjMQgGS+lj-DhjK+njWj4IS+zj3ARQrjATQI-DwT2j9DLDhQzDMQ2jsQkpzoToI9iuY9T8kFgIIY8+cw3Ao9Jp49yYcxmTpd7dT8+ALAAAVnqZ2vk5ociDoYBsU7sr2bCinlHTwFkyU0hk6EVCMe04+ovLNJ0cHIBpXr2ZXl46cYo9vZAHQGqOUv3uE0sys53nM-M8CMA1QNA7AJAGvVAwwIc9s-M4BicwAKJ73XPnOnGAYABy5Ajz9Dzzjzqt6EGTOaIzi5Lis08FeTKw8+ygOhtsygS9vTlTY9YzlA5TPzfTEusLOFQL0wILYLV640m4ULTdSLqO4zgz3OfeCu0L-TpuauZlFMUp8u1QQ6ZAbAvgwttT5AeYFhp0mg-N24vzndHAkcPdDg9zDQeqVLRwRQpFrV-EvGFtliUp5FHu0rG2JxPhIggaiLFdyY8FxxsevzyLnlPTsQyrgwvz1TdTDTWrEeOr+LUJBYElJxJtd1ItltYsHAAgJtYgXwLAmSCeotZUwEWIjrMrP5mdZTrUOd6GXUWGmARdfZFApgDAPyHwVUNwpARKB81yfwY5vVq06065w86b2EFOswmLA9IVebT4co3lDAaV1IZ+blMgGiubh8Gb6R0wzQjb+bjoc5bkE0NwFyQe+pRgtb4aoFydbo5AygygFlGQRGRg-OE70jLUTl5mE7114Ivl5avlzQ+VTl47EL+rBoa73AWVcx-pCKDg3Cxgg7YaYg6umut7oMF7hYEQTyKFAkWVeVEIflPbRCxg-bUo8+Fm57w8xgt7EweV1g4IXb5gQH2Bj6o0TaeqmbHNiH-6okn62krbOWasiHHM7M0kBuvVmQJbiH0aOixHGucoxjokHqhbBgtsOHXFFaGHx2ResbIECbsUybRKKHGR7YYW0qsq-iOHnMfubGFsmmvisJJHMl5an7TlMHxgTAZATa9HUeC+YghcBVE4vl1blVUiYmjeGrDJjcJHWnfYOnflCncHynQwxbAu6nhcXlfu8IzHKwzQVneUoIvZG+22j7SnpAPEFOuOLMPH0wgYdAj7EIu93AwcqnGn2tWQJH3AVn-nPEIYuOWVDnqH4IAA5NW3qnlXl+lzW9e8FYh1ByqBF8B4+j8qQBorV+Q0xQHBzTLNm9OLbA14K9BIBkIMID5cED5XZFpGHG4GmD5Q+vCC2zJB5x1wWHV5CxGJ18l1V7B6l0F759V7ZyMEt8dfoDtyl51w2cy6y8oOy9a4+nXB4MqhPoQJm3Jo-vcg6qhz1zZYJ72RJ9kv4g6vu42diMd+sKd9QJoAwQrld24KBzd4XMV2Jxxk91toBh6ke0Tfp7ebXFN0pD4g2Q16D8oNdw6lmrQfxxFo3A6qzUDfbstUCCGHp6JuJ-bsZ6PKT0HcMVSJd7j6N2TALoyPPtj2z8qhD0z7Lq3Dk1LYx7vahyzJGvIOz8YJz1HpC7CnzxzxsvL+j91iLwIquyfRL9L8qjPALsVxr6nKu-92y0D+d65-LSzEb8bD9-Pqb4D8D5XEr1PvZ6T+t9bxTyTb02D7Lyr5rkMQIXrnxwZ6T11YctvYjwbBIij7D2j4Hx7eH63JjxjeKwip3iQJD6ucXUuHD2F2R3nzJhFW6u9fTm3i0F8SeuyF3rOVaoMvQMXmZvj010TCzIX0UKUGeWj8V8X7XM3mX4zgzyskueM+aQiluiFsjmtBssIBUIMM34RTX1n4xxP5B3X7qrPxsqN9ujlO1gv6+2uUAkXolZD5uW5E8R5jfuGqW02xwMBRuNn-vdOGm6OMzRuBV6AJf2xHuS-38PoF-2dClK2wAB4aTCiAP1SZ5wBUpCMFAI-7gCO6jAf2r-zv5YUMKj-KsJ4GQFcBUBJFU9pcWrirEb+Hbe-tgNRqP8hKTZJlL6jOhEDX+o5bgKjQbLqRmAbhNpCX2IrLcHaZMA+AwHUAiAOApAemPX0ICqY0etNQnnajD7EQVg54cAY0WoF7laW-tdgYhWZ4uhyMlef-goI06FVwuXA2BKQF4G9cBBN3BgYhUWrZoRBWgq-hAKojWDv+GnBOoPkT6E82+8fWmgfxcAsxcgVgh8vH24A+CNEXfW7mjSKBB9pBbNN0Cn1jCp9PBlg0QbdwbInRG0-HCihUA-pdg2Q6Q0DDPEMBtoW+t9MCP0lQ7ZDfAuQ4kE8GK6S8gEhgfpD9yeA6Fkh0sVIR7lKFdgz8KQzCHUJ2qx42hZMPITqiTRLlSAz0CXH0KMBZCCIOQ-ofkPmKFCJhtHPoUnAqEe8lwa1bodBAaHMNqgo0UYY+nGFLC8hTwH7v6C2Er4mhCgMiLUPgzRsLhkuIeDwWaYUsR2WiASDIAeHu4G00sK9ikPnz10JgH-d4VQE+EXCfh0sJDn1QuG0dP00PYYXsOfgZDBghkNah0PBE9MzhjUD4TNC+FNo7hmEVEYFzP7-ECBFFIUH81BDLky2EEViFQDMF4VaiVIOQUCHgFKDwaWAukRhTZIhpNBUAxSDDhJEqt2RNIylKjRKIcQtkDAEBlxHgGQDtBkLQhCKNUFp9CY4o8ApKKoBcQOI3ABURyKfbzFgajHGQHWFqC+VsuRovYCaJ77tAYkWo4UeEFQ7A0Yg0PW1MPAzQ3RUOcrMmGSMpAUjvYtonUTgPW7MwlwQaXDq3yXAKjaOqol4lKIUoRgg0JwlYBGEjGJjpg0YxgLGK25GsE0qY-3LbBTE9D0IqNdbuCHNEcA+uSQs6C6xyigiFSLfFmGgwxGfoiR9SPoDSg2SMAJ+JnbfqiG4C89aRoAbHmQOIjnhYxsybPGVHTHqjOIClfsZSi7H0BzWOzUMEOKVFxCxxpeDKKpDLGWitsMItztSCrGSAaxBI7iBqOgabiWxZQRTsmmrhujM2mXAtD3BdagB9KAACSuYMAAAguAHABXMAASvpUgAAB5R5sgCBDflo2MgSQGoC34aR7CborZLqKlLHpH0t4xCeAVo71pbx+vHsUanTHrd60nQRsAuPeAf8iJmQOCcumCJSl3xn4n8X+MAkgSwJ5EgcDhM554TgiBEx-vWlBG3jU0WYdNARJG7wTnA7kC4WPwVS+oqJO-d4BhKSDITH+dwoEY8OxDh4FRFlZfMyTUAmBGUMRUifoA0nmRJwlAJCYGP3bQSZxMkhCemOQmGIXxD6FHA4FGiMgAADD+X1g1B7IXSBdETwe5VRqAgwa2L5NyDOTtAQIRyaFOGF+U8QXIt0JFOsLDCP+TxLyQYI7a0DqRjk+7oJw7q+hyBS4JjkUyXBZTXuMCQKQlwykFsGygQMTGlIdCpBqgr6ZsAyIEAlSBOZU00BOlio+SOAfknKYFJSjk1gUHQx9CBjYBEp9+kQgOJILEGGQSslA1KVgNMFxBfJ2UjqVpWC659u+fYUoCzBGkMAxpRKPwSENzH7TDpJbd3oZGMi1x+ChFQIKNM6BEo4MDZCoCQBEBOYvuffMSrf1IGIUs0Hee6QdMen2orawfAjpIPYIvhLq1ok6lSJQGOgPBU09kBBjUFhDE+EQ-0LIPkE2CEBYNW8shNRnB0eqPIz5jJCNGERCx4YQGedJlF2CWAoQmIf+HCFQ1yMbfe0ehE77UzgZD5OUAdGRnEAHp40i6Wr147kzjAqMhiJjVbhnTgZDqBsp6I7pmxkCSCP-kKLXCKSRxOaJkZ-20G4ykBcM36XhT8ivgUm74YdF6HsGADQZi0BwO5WnHSjdZsomwZC0LFFB1ZgY0VhjRcH65RQdqNcL+Fjx4BIQwckMLIO0HYyHBestkZ0AJlCFW4psjsDti-C8jua22O2ZmPZGuyigtM1slANzH+hRR0Ea6YQLVkxyPZXs-6v8FfCvTfCH00tmwEog-S7JkQIRmAGDmQg452iUscaIrEVzdcGM2fBXxLkGzSa5cmQvjRYi2z629shSoQAXB3hhx+on2oaJ7mW9Yg5aHcX1ytEdAsgc8opqSAdH-lnRBgwNP0n1ry0FZZI5WdQD-57yeAC88wQeN9mujCAbaD0QKK9FKypqKsx4K-KKZsgyBrc1hiHKfmpAWYc88IJzHDFwRA0B8rbFPNxCZj4xGwiPPGNJD5yYgCCmeVmNPlddY8kadBVnINDFjiu3ci0b3InlxxiWRCB9E1OwFzizJq4+kZrJGKDw5SPU+KBeFqlYCGpp6c9G0RzRYLNxhBCcFgszEMLwCGCw0NuWPTIJtSHCvBX2CYWcj5iQi0hNblXaby152lfcZh2ILxs5uGiRye1jYUxE4MJw6atWMYCgi1FE458ZIFfEfiGA-4yyAABkrm4E0opkA8nApLJsEh9GZlsmBjH+qEhAX6nkl0AsJbEj8NXBngBKIlhEgcMRI4VmZMKFExsPEtolOKXF7i8AKxJAjsSUlCSpSQSJaFIjtwvE08fxLTQ9JhJWcrsgunEkEj4Q+7SpYEG+GFTpyjSiSYmgJrEt4lQSxeXEOUkPD584eB9DoWZLy4aFC6OhUVNMmSLzJ4ePxReIXSBLgRiy4sZWMmi9SGue3QxVVgWUKScBOIqUiMqoBjK48y8lfIZDuGGsER0wzlhODVAcTRJwRCRcctRonCMR8ueJR8qbyBjtmsNKEfLKvwGKyA9XQxbqNOUtTBxLTLtJIDthL8du4IfRQ1zdqDyzZn4KUK0Glx8jDxOymroYv2UQroVUIkoriocBtkT+O3YFQSKvEDAyYjk1zAZNImZtaFbK8+evMECb8OVnEyJcV0ZXWTuxbyyJR-yFWsr+V9MD4MEEfSkTcZ6EtlQIpGLGxXl1E94IyDonfjfxAEoCaBLyXkgtVDE3VcxM8Uhd+V3ADEaquFVGghii0cEBiDX54CWIQq2hXBizQyrAgHChVTEroVDEoobAJlWss1XZK3FHivyFqpyUeLGQLMB9JaukbWqAldq1uA6tpRMDUgDrN4LUxVw+IXhmKn6ER1zWYVQaWa52DdzzWBJy1mFeuCBFLUogm+2+R-sEJPYXklsZtXEMFGzWV0i1j-eYUWsBGhFO1ZantS32Oktr9YNa4+CkC7WmAG1hACtdLPzj9r1+CKGoGIFcRkw9lI6+8kAmXXOq3IDvM7oGQURVqW5BFOIWOqvFZr8AjUutbOrJX0re1Ga9tYuRnVg46Ab6rmmTLDoEjiu16xqZOrvVwtP8n6xRYUDRXEqS19AN9SBudi2sIcEeOle0sC5ixSoEIXrj5Qg0Qrey-6sVdG07U3r-EQ6+tQ+uQ2ZsHWxG5MIZOnVwboRv0WEbsP6BjCphZQ8pROCw11cQiV5KdYYBg2Ua4WkLJDY2gfoIaDA0jAjQBtITLwaN9a6jbxto2QR-cQm8EdHDQ0OrSAmGsFeiu1HTrCNhLYFGuvXxR5SNwmkpchvuEXLNCyy65VDnyQFqsgHGjRIZv1LgrONAuMDfM0sXHjrFp44sfZmOxeaXMPm5DRHQwpQ5AIzQT9IpqKDKaeI+MNTUN003qYtArmtZl1PXVaB9NCKGuCYH4DIxJprwqIR-hL5usPWXrA8j6yvGHrzeyJYzScqhFFhoapSlSZcoLk2bQwOWydm0mYFLxrkbSHatVuB5yx1OR1DgTtRCoMCBGhYiKjmCXE7M6creRnBxG+k940q4WhDeCEG0W8oeSpQLSeJC2FyccXihuYpFi2qb+AEILbQwSS1r4Ut2m0AFdtHI-lRxLOHjS-VMpAgAAnCcCgTsQP6OIowEIOBTv1QMOIjuqNEHYmFQZhPDmh8Ehnu1K5YMlwFxVcmgzCgIOjRDlxy4WQ0AuOjFfGHRmGQMdOCuHU4IaAY6wddGW2qUvxGQsXAXkfpBLNiGxAKddwqnbO0bLVw3tH9BlWwBAxgYmAEGN8B7FlUmbwRj-WLfFou1AY+doGUUjrAsiObvOsugXWfnf7RsXeqWt8BF34CrgyAj0O5I13JDnhWgjIXnrrzcAZpYO2u0qHlSOCTdjZ+uXZKQAN2rMjGqkJBCxSji01id4ITyF5Bd6DjDF7oHXQIDZxEMEQXKmIMToO7ErWgxwRiOjIYivh5VoWafoypxXw6igrq3ySyv5XmZN+8q9rPHrJ1gzndruzvO7qBDghPdNSNHSzr+2gYIQ-uzyEyHVU8q5+4e-3b5ET2I6IgkswnSsF90t7W9DXC8BOJagj7PI+OhvSFH+2gjblpS1rdHXa0u5Y9EKp5f7h62sDkYrQXUZatm2NRpGdmE4Y5r25HsjxQWgHc2MtTjyoJoRIQIYHsjrRqgpUEEjmlN1AhzdvvK3Ze1f38A7dDu43d7W1idEz9e+w8eGisXX7fooQj9H1WIpfqO+aHaKrGLOjCjyAUkf8O5xW6Kc9l2+-rG0ggO2xEDkLCbUfp0J2YkhLmL1fKtpaKqpVBPH2bwr9QBo2VoM88HmiBDVLBJPSJVaHJzSTtqciceVRcNRbNY2ljaHECJPVVNLkNM+mIGhu6AyHZJchxtG6UMjmrRV8anQkIZqkgRRD9KhPn3tT77rzAnq5sr5PoO+r3VLC1nhsrdBAhD064WEs9JoLMGwlNcANARI4M5ouDIev1AJNxBCSHDeGmQYIcSD6HvVYhgEBtUkPfDlDXSjgGoelgKGeAF2xIw0uSMSSemsahdDoeYZ6HE4jkqEcYf7mmGcAmuvZTlwn76BlxAAHSwAcqpUFFULDIGCBNoot6DKxnKGgjY794+uqarXyqPEqajPYuozs0aPNG3pZMNox0YzQwLeAq4SFj0BZhLHQAAAL2xagBGj2elox7jmMBdyDPQLY70Z0j9HwQ5eoY4VCgjiwH97wZ-dOBqP7HZjyOdo0ccYYxdt6mBzUj5WUA+U+ukwHLk6DwAjGN9zxmY0jklzzHPjuzTsj8apR-GATk3C475CAA')">function store_assertion_in_index(assertion) {
    if (is_indexable(assertion)) {
        const key = index_key_of(assertion);
        const current_assertion_stream =
                    get_stream(key, "assertion-stream");
        put(key, "assertion-stream",
            pair(assertion, () => current_assertion_stream));
    } else {
    }
}
function store_rule_in_index(rule) {
    const pattern = conclusion(rule);
    if (is_indexable(pattern)) {
        const key = index_key_of(pattern);
        const current_rule_stream =
                    get_stream(key, "rule-stream");
        put(key, "rule-stream",
            pair(rule, () => current_rule_stream));
    } else {
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p36' class='permalink'></a><p>
      The following
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      define how the data-base index is used.  A pattern (an assertion or a rule
      conclusion) will be stored in the table if it starts with a variable or a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (indexable? pat)
  (or (constant-symbol? (car pat))
      (var? (car pat))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuTLiQA0oOQAFvKS51GGJoGW1rb2SSaJSURj3VYAMghoDeSm6u16oAAvCjnm8PhcDkJjqI7OUlCwlgiVkkfuY-ttAZ8ri0bmFweQngAiYgE+RM-pDbEicagOgATxc2Uk1HwklZhIZ3w2FIBsO650oVQ8JP0nMOo1xgKUdDolCixEJeilxhlWwBZwuNLpd2Jj1ATJ1eoNRvIHKxmt5Tv1hsSoUFmWVNVVpt+5rs8tUirUkejUrV6qOPLE3pdfvm0kWknkAA9NJZdeMTWSzLKI7kFSC1HG7V41Vikyc8VI2qRpEplLji2b-s2MZdrrJ6bXGQ6NPRznpJK3253xhzfP5Gk1+9ah7aVfamfMIkpnDlp-I2x2lLiFw1l5aB7T1wzmZ7aIfj3PaO6uQ+7DOT7j-UKg3tSVSMsYQrKMq1UWNwJHBNEw-UAvxfYg5gWd5c3zeRC1obtyXDEC4TApUCP-Xp6y5RstRCdsXBaJRszzAs9Sw6DQ1LXCrzXW47wdKjnBouj0Mw4g32GOCeL44FlEJKZf0DOhsNY3tQBYJRNFUAU-xFMUJXkJ5IMI6DSJEnFeTE2jMhafl5M2RS9OrKDNzrRNyN5EIy1Cc4FFdKzgPYwdOJHZk3LCU95FdYTnLENy0IYotmJLYDbPjBs4JCccWjkcYVCs6zKV8m9-Ic0cmTSjLaBUfiYtfYol2XKkrT84dCuZErcXK4LPMScK4JazKZnQ9LSBC7zcPXSRLHwLieFg4yxB6sqZnHOh5AAR0WY04qAkbbjG9ouP4abkx2Wh0tamYVCmVkqFmIlCulHDFNG8auIAZiclKpCW1bEkocqET1Ls4oASEBntcqkakGo3YMt0+taqF+jx-vnA6mwIUEwnckKvI2+7KUSgyPRmuwlrSzGOvW26WJyuVQLjGtbsM7lUYyaRqFIABrbKfPB+r8sa6G9GZfc2fZrqidAYWOckczLJx3Gafw+mBYMN7xZCFTNFkQaAcp+K2J568bS4x1NE1yhteRwnDoIImKowxj8jl6ny0V+zlcZuCOyiO3BLkp2Etp8ClYAhNkrVqQd1UNC7vlvsIb5u40OZAB+cLcDAD8GHwZg2CgOBEGQdA+B4JmtXkDNCCGgLQF0WYY+dwFJkULLoI2NJk9AJvpmQzMbvdtuggALkBbSpQHwIO9Z6h2cITQZOFCulnUwNNPFNkpSeWv9HH8xh-V02tdPWLbp3swO416RLPLhYho-H2HY3mviDrh5T+XUbRR7xY5K9+-xj926m9n5qiwIDMwe8pDUE0M3cg1BGCSGqM4SIR8mIn1qh3a+mYhpQJgXAhBrAkGXXGB8agkgL7mxQY7QBT865vwgfg4gJ1epj3QTXDMDCmHzS4lvOhjcCS8VotFe2x9+6sOUuzd4H5VCmSBCeKSih57SAAe7V+tU1FBBkTLR+PDar0Nht9BGNQkaoNEcuDB7D9F6B+gtRGpUqEqJodvXRgJQqaHIPyMmoVEgsLMaAVo7ROgtF4SzEWPjGjmPKpLTm1cdHLnoUFDyXiKamPCWw8qCSsbeJicA4JUhUy+mSSHN+ESzqFjTIU2oQDaFgNAPQu+CFKFShqWYUBZ80lYIUKoepR4ZiwIYcFKcM5tE5OcSEBpOsUmlBKU+WcjTsm0OcYoZgYJq5MgAKrEHZsQagAB3Ym-I9BKBzKAAAtCc9plcFBp09gfSywgnhezoPXSg+BQCqBCPmSgLAMrXUkFI4Qaoqax1ABfDxnzvlXUkUTLpJAHmMCiE8gY5hBg1yUfIcQrz3lSARK0P50KAX13MItcgmw6CEGkCSpEFzb62y0QC1R6jGWBFzAoRh2Zn6gloF5N+TLap3wkmyKYcl6U8t5Y0R5DKxVirvrXTlBS7gEs5GkbmO1exfyWAWclBhRWgA7m5ReDDWV3E1RSpx6jh7+I6AkFoSKzAovkGioFZgllwJhcQZkGytm7LsHBdx0DTnnNBW+ZFZFRLbU-ovOSaE6BVMJQ3ZSqkvbIgAHzUs6V7WNm88yItDeLTBHC7Etyao4oFKrwiEFeFfCuVdjqFr6pYAaNaHFbzNb4zBlybqMLrf0lacNhkLMWdWzpc1WRnQpYoIh11+2q2tvmyx8MbFGLsdw4BQLiVo0YBjMILByDquRKAHVaalgdE3bu9qSSoYhweFvW1ZgXlvNcuGdVXT0ZnvIDu9VgKSxBGAierd77d2L1vaAe1jrv1hkUu2oaJNjqeOxoAm9GxhganFh-MUJB8ldFUNpJ5pbcIJuw2yFNDoABUGGynWpI0yJ4OGZ2ozoINJC1AK0zO-P-Lm+tQi9oMYu7Qxj7FFLUefU2uhugMbyCKFj4z2N-rfZkipqp9CSqleJpjUmelsdoHJGDbLz3wfdiAtR9DpMmME6w28JmkLL2yPGHlw8KjSDDrO9hUSV11zXVpklMt91ROltQCyUpgPrtZoNJR+7VOSd3ZZuSMslVEs8341kFGugMCpWhyQ5HnTWukWzFQOaIOUig50mWWbWW0llcweVOXQsxsPVKplmWfQpaeHV+r6iW1OdRvmjJ5NL2VJLd+4C4j3j6pQqoOrRWNVPqEYJaddGy7sPyfpgCsaPMTlAIvfdk3VBLfTChP+pneixuA-kxRz7dtTms8RVUTxF7HdBgCIDubnPlUs25wlp2rvPss4ox+rXGjbZ+wambD9oLKba7VDrD27CWsCQ2PAmcmCsHYPnLgRc0DPVLi5cGjAK0vEsjmQlKrMjZFyPkQnB6hOgBzHZmujBlmqBzELLIOQ8g1zzEeBQLQniWFIPISg10WiD2ueLYbeLDqqAFfIzdTwSsDeh53TixUPC4o-NR1rUurCKBjRLfz-J7tGWtqlFXbL-lE84-HI2+Bmom9pGrlGWp+VyK15urp5uHrbSetb0AU0raozvnS93lJHq7W9-tP3jvbYVa5d4-AQeAQh4mt716nWtRi9G73dwegih4Y9-SJkGfFjUdAOOI1Dvsequ2M+xe8e468yNndh0hf2Tl8ik+g1pfvE19z3jQOhEa-zd5LoNs1A9TRHZbMOVXkt494BHGRDhv-evr+ZJJYM-Bu4UjAvrA67XioTiO4ifU-Ej7ocwMCKdgxfZ3XldnXkba+gGBKCNSAZsh35QjmxfjvV+KOFav746wBWCs3Q1+hIrePqP+kaXS-+aw5gCucYoB8gg+YgLKomR+lWXkt+t2eWsuOoqEq6G+D0ugUQrwL+f4uGKIaWxBpBGYTyPKHcT+YIV+q+ZBsk2BSiSmEseBE+rajQw8OQ0QpBt+hgAAPJ3NQS8KoLQbwW2vTq6kyAACpZBKR5D8ggrwpOCJAMBkoHyUBdDDxMigAADUlOEOYQEQ0QLylkwhxhDozIth-2gQ5hkQUQVhUheWhm5qdODOihyh+A8gOy6hUQmheg2hs8Zs+hDoDhEOfI4QLhbhNhJhxehhJhjh5gzhlh+Alk0hyBEwWQM8c8X2i8rB2Qq236cEtcMgWQqk6+O8cEqmJRSi7BuG4GpQKqDmjRdBbWGCz8VRUC42MRzqZArMY+3s0eVWLaaRw8V2yIqIkYwhaRbSkY0hixtSfIjGREnRnBcYORwGgQwwjQ96Ucz8sxVKe+2YB+Hi4xrocapQLqYIV2HqxAmQrQoA2kwapQoGS0TqpQ66iB+6smK+68iG6iwEDRiBv+0BbISmqx5gEJUBiBpEjQBxIaQBdglRU8NRwCqeXoFGZ2xRjxG2KgZRGwFRvRmJxx7mrRZg9RGxWBRJHBPxyqnGHRCxYqPRswfRqkixw+IxLh6BMexokxYq0xr+0gpxeEYmYpXRUqHcS0u6yxOBDJMhjK0xGxcYwhTwOxHhcWaQKKO8RxtcEp5xrih+1xOe1JQQ9xjRTxLxjCbxRGZyIKFGYUupQQXx6KlpgQfxq+AJy+iBlJbpjQYJGxEJt+UJYB4ObW8JH+EZSBQZqJiZCkhW5J1RgZ8OGcRMWcOcKOnAhcvAGAWOpwUg4KPyUKEuAKVMZa9et49yDopZkKYs1sDZAu7wXymsF6jSlZesNkfeagBKDY66LZvyiOaWnE48t4TI8oxe5g8ojKMJpQk50YM5Zg0Y85UZiu+ejBK5j+IIjA65E5Su64O564B5i5Su5Q5K0gxel5lQtUC5aQk56UdAmsSg-Ixez5r5ahy4D5GiSu9xK59x6iv5gQk5ykrwZCzgdA1G4FLwkFDAjQIF5gk5RhO55gjOTw-IhgSIqaxyJh35SFZgk5JyaFZgGFoAWFxGxy5yBFG5k5VGTwaQ5FlFOF1OoAJGFFZghFm5dwTIwApFbyTOFF2FuFoAYAtFh5+eAApAJcxSJWxVJZxaANxZOZQWhXJVRRKVhXRUrgAIQojqVCUsWiX6VUraWSW8UiGyVGXyXHJiFmDmXnn54iFIikUaWsV2VUrCU6X57JrWWYW2WgCpoOUqVK7JquWMWBDuWiXhUhU+W8W6UCVsWBCsVmC6XmCE7jychDkRAQqtni5Ni-7Ig7wEbyhPDDnllNg5o5VfJlkFU-jUDOAABWnOqWJVKkbqxGk5FVxeiUiqG5QQFV9V-8nIO+CWQ1xKeQ5AqWPF0iSusO1qxeC1XQ3FgxoFSukAxAVqcg75jFm1217iq1a1RFSusFkgsAkAK5Z1F1R1x1YFp4cFAAojuWdY9bdWtZOQAHJKCfUCXfWfUqnHVcUDA1V5W-KTWXbSnFWNAEakDEaRikCcETWeZTXVXjW5V1UQ2AYf7Q2lCw3w19nqBqjlUY2Qr9KTjTWjU3Kaxgqk35X-KwpBHrgP6gqSCRAZaMKKCXz8lNVKDzAMYRBuIDG8pDXtk5CuhdkkDvVBBezM19BBDPb0ZbBzzmnGgP6oFsqq13B1YayiaS500jm2z0mwnI0ThTW-7S3mC62ML621Vk13yNUtUUA64m0G3vBY3qpPIDWlAmmXECnypOQ5AkrnFRCszODlRa3hbK3+1eSjUI5ZlI65wcAFzcCYBFlHR6DKAUCSBfRhDELKSMCcw7g-T7hIGz59iOAuBuCJTF17g5AJg7wdyJTam7il0Ji2FMiSApGxEWGuFZEQSE211t2eFpDDw10dgl313gEl6sDKRcYCpc5qRxHRAtEK5KCkCkBODkpDRqQPIb3yUMAmE7Yb0SlMiGEdxn1rHJG2Hr2I3e2Mpn1PAZEIrT0kASRLRL291woIrf0c3v1l1GAgxok90uEd2qDd3VBz1LQL1YYEa-xv0dhLTf1PKGBJH6BMgR68gIObrvBTAsA7bwoP63lqBeyA26oOgOZMg7z0K3ikOgBQhvxYrihXmbGkPVSSmsOEOGCmUOipxkMdwD34R0OUG8NUNU6l5Z27q50-gF2cykO05MPkIWxYR0MMOMr4iSgyr0TCIqNcNkPmAX3gO2HYNLQfCKD4ORiPIENfCAqpEP1REmFfafyjxaMCQPxsPRHqKGHd0mO4PmOCOViERWNsO2M6ochiPOK+PgPHnf1PC+NmOMAsAj1DyAiMHWP8OJb-3gPblPC3iWOENangRsNxPED-0JNJPUOAjP3pON0OgADk3dSaSRDTlTz9bhpDmDYg8TX0jAlkPTlFhBYMzDlQqghIVdYIkY-TltjKk5eQLQyRcCyR2ybozIToigKzTe5KLeyTE8mTiDSwkziwvT2x4EUzJTZTeDZDFqpT+zATqgZzzwpzRz2lezODOdzzuRoAvN-NpAgt2NvcQIzAfOuoUceYRDeSuhyj+Q0ctTszkLlCxerjlU0LYL99QQBG3zOovzlAbi6qgLbM9syDoLmgDdfBI8wJYLsLSuqcT9Ypq8o80cVz7OmgOJYg-T+LwLUaYLQKRx+8ZsULxLX6A8fxRtYp+6O8TjWk68SLOjKLJLCZOVBLuo1wjy+6BG7L+YSrOuVjjLexDcd8MxIjTI25tTaTkYmrnLKr8KXtHDcYFr9sVrL9Ozu8Nsh0iip9x5prQLDrtIjylTBrYrRrmLAtOL-zRepre5bqhVjxdWGLfNWLfzeL9ruoRLjLTLaTAbf4JNWrjr+WyKqK3xvLDgFL8rPxwEk5NLfIdLzjJbSJ+bDq3xrRwEaEwGyG6dzw-I0Cgr5dqTkbMLqSW+lLZL1pScDonq2yeyzLyLHb0CTZqMneoR3bgzFoJZfbQ7UyjzhE-bpQw8I7eYTxXqk7IOvIC701Iu1sazjAP4fSrgZCLQbQ3Q0cPbfqa+3LRrl7bonTdgcIvryrV7xCWiT7y7Ls8ItARqXL8rGZoAOCiEGIpd5VFaIK9pVw5A6cidJeLwKkUwoAz0byJMWoz0GOGO28F+zpdAbMqgEi+umwGgjALQq9wDxDqgvOcC9H+jbSy1QSRmNcq0WUVHukoEkYLHdHKD7HBjHDwnbHOqw8ToFH-Hm7agknKDrLl+SgEicHOQqghKwWuWvSdd6KY5+eJG5wpdVGbpok+Rs8lH8gHiPATwVHkg+0TJM962ZKzgJnOQ+6snpA1ntnhThEIW5UHn8Zerd6mKIQnHakhA7n+nQroJuEnHoXIGBbnpoq66knXnuocnNnjn-nagbnwXdbtUKqkXknYnqSnHUxCnzHR4rHCZdqSGpJas9A6zvnkgdnoADn-A7BiwtxZg66BX+nmX5HPnDnHXcYgXenw9SXRbHNbQVqWGg3w9znThVgGIAXunGnOkqxaTt4Y35VkbXXPX8ZaLvKE3m3hXRX7pKXK38W62GXVK3nbX3X1XS3U9SX6Q4XzQnNC33QZXtxzSQQ8p63+X0XwXr8gPbWaTaTR3DJvXp39WGpYPsXpEgPHpt3aQwPcYknx39X7pO8KJDXgQcEn5p4pAkhSTznQ2HrlnmgETjKk8tPdWw8bARrkQS0V79PTKHc7P6z-2u7chTBB7E7dgMHlCAajzpdHxRPwKpP5A5Pg5CWYv17Q3VKYuwXWnINCWKH+6yvxCGvTIU8BRb4Q5iHVKevj4BvvPnPVNouan7whC6U0Q7hrdOQuPPbaTQ9bvcPSBX7EskQTv3sXvSwjvLhD+kYof0Q09kfQfY2MfD+cY8ffvMfbNSEAZwfTwiJPbT3GfTA0JfvGt3QufjeWfwHu5z+YuMfLvk9OkPvnBiJKn4gZtViQ0o7iBJTdptIO4kgmHjCOQjAhK3UUCV83Llps3kcjLGPLnYQ-vXa0QPmAf-J7NAZbf-+H3wKEXP3gSqg8faRHcJAnfyE8CvfLQ-fxLmf-+VXGgmglkKfxR8feP6Ps3aTk-XpwKaT1-lkg78rTwn-mxabSXdHm-2TIAgW2BPRrsAz-7RxG+5hXICwDIQiY2UbQdsPyEW4ddkBb5a4HQCc5l8mOdAKaLUwwGoDaQ2ArTpUzNagR8B0zN5AfXCBwCEB0CJAQ6kwFiY6BBIEHmpCmgI8gaQQIgVgP2jT1IgUwVnL8j4FiZ0BzA4gaEBwEK48BBA1JGIOkFkCyWFA-CFQO4E0DiMQgrmrkFEGSCsMig0gdQNqhadiMsA9gRqSmiMxSO5g+AfgHbDvoOqdZBjsCnsGnhWU7kSwASE-r0CCMzgj2OLDcHkAPBtgnwQSHBbDN8ubAipqkgcyVNtBjAEQe8DEHC1ao8xaIdLVMGsUghIQ6IWEPgEakMh1giojmDKxs0xQi0W4F3gnr6cngNEUcKXw2DroY+C-Oft7GX4sFc+DfWQd93m7b9d+VOQvtX1qHwRTwF-aErTmBDBCJ0kgcCuTx36L9x89-RYV8DqFjC8+YBRvlMIuizCyekhKYWsIaEwEy+-xI1vgCrBdBDCtTJkOcKVCXDKmvaLKAcNGFJBam-xFpGSxCCRwphhgWpoX3KH9IqhxoZ4fUPGFgF4hq7Z-D8PobQgPkkbeoRk22EzC5hkhO1qeGMGNA4wCIjQcuCRG2Bdh8vSQua3RE4jBikYbEbCWlT-4mWNwi4fMxgEuEg6j4UIRTjL5pMhKWQ1NA5k+bk8jw7MMhEhA-ZFghRtAJ4Bq3WHstGh3pBLCiJ2hkoKU+6PEUhBRH3NnmsiUcCKPdSmEeBaiSUWvwVyyiTUlKVELSLuHzNamcQslqMSZFWY8hhojCFqk+aEBTGAfXMJLnRE9sQg1TYkSrEb4odPBcA3zh1yo4yDpRrnfdChyDH2cbO4eHoXNwCTZZcMHcBzGsToCN9XROYSQA51FDujAIYYmflR33Q+i3SKqSOFR0MAX1U4axKjg2CDqgAFCAACUeqSAAAguAHACPUAASgoUgAAB5T6sgCpRn522-hQkWQj-a4g5ISosEQAwVzOi2ynNHMLmIugZN-RGYlVhOPYxKimW-olQKUg56Ti-eu4yoOOIPHsYH8jY5sW2I7Hdi+xA4o8Wt3XG-szxWmZcROgfz+jQhGYrMTlxzHbjVmm42gCclsHnsl8bKTUVOPcEToZxD+WwX8gcEEZD09QpwCmn+y8ipYEmTUaoGQksADu0w2wDBO4Gjjyep49ZluKgkESNhIXMiHWNxwHgNAJAbDlSgAAM5+OCAkB2RjQtmDAw+D+EoDdAic3Ehidnn3JUo6J7tZjCJNsI8BgMwEcSfgkYmKA-eYuDiUfxr7DD4OFgbiUo0oRs0WgD+NJkyErZpN5JOkvidzmq7B9Q4itLUJYG0hqT9OUgSIMxy2bacEspk+FuZNPwBEuJB4MycQn4ma8mu1sOge8B2QqBOYQHHeKWI7DdtRUHcFST5OD7n8tJfkzyQFP0mip6EL-ddqwjSahTJA4U6QJzG-7E00iBUoqZzHnxgtnWo9Zlq23gKWAwpEUlyfXUb5tBGB9HEUHK2wKu9a+UouEuLAqktTZxhxL7kfyjhxc1EhpXjmoFz7xkp+wDctPIHX52obuwAoIM0NaGB9U+QJSUP1P1FioSuW-bLM4HK5U5zhaKSkcPGGnFSFhbQ59GdLx77FQEQA0VCqhf6-D2SzwJqYVJalb5AUfgH6fIGal3T58tUuJAQDywrTwBL0pab9MqmCtG+-wl5ECFHx6hS6Gk73hmBglrYZ+LQqlCnw6Hrwuhh04IJinSqb8+hp0lYVNOZKKQSAVhAkfMLv5x9aZLWHUQyRgny0kMN3cfrFIzBfpBieAEjKLJ3jNCVh20pfmn06HEkqJePYCJTN6EJisMAw7noliZkqiM+lItIKzMzzx9SR6iREsz3ZxlYsZtfHGfLNbZ8zMUHU0TJAnyCWzSZ0JAAiLLFnBlcIponIPSN5kNtUuHsyDKUL1rF85Z3Ql6ShmtiMysizM-YR100AvcBpIAiAkRjOF0iueuzL2fcOHazTJccc-aG8NXwQiJpmgKaNqKCAYIg5bKVGXxgxmacS55VBOZf0+ERxYp8cr6RuxRliga5lATGfHPKodcs+YlMAKLJIxFzoepcqEL2yhH5yKuxATWXsM2IlyMRQQO1vtENmBAo5HiFUeay4E6y0hoENuevN5SIkaRtw72RgxskV5xJO2QCcQAiGW5aGt8wKFsznZahxwbYZ0UWHEnh9Ca386evJK0TfzPRDgFhnTHAh-yMmszaQOFP5A44i8TLZuuAtcnFDxYrNWiNfPElii1R040AHqOhJ4ySUbYMnL5IM6bB7JwfJyfkG-lBYEsm8uUVqnFaMo6FKo8UfhPdR7z35mYUHKziQjfyj5QQPBZsLnFzzo5Ro0+mfKzkbtLRO7I9O80UCWQAFeudQDwpIXGDrRVgZkXkLoVGjrBdYy8ZIE7FrIAAMo9UHFvErybEwIVYBIniTIJbC3GWX3nGp82gS47cbUzXGLjrgtit8bYB3Frc9xJCuSNPWPEzBvFF4psQYuMWmKHxu6J8YEp8V3ye2cE62t0EPSfi8h347MRNH-F7yC8WzYCdEI5DcD0lXg-BkZOSLiSClpSjkJ81ZreKcFichuHBKCGISmU4k4jP9jQUkLWptfBpf-iInWK4K9SiiVqJPkMi4gB4fpqqPkXqiLoM4gMeEKSXRD4Jp4VpaUFOGppRUySxAbSBSGtYrUz4sia+NYVzL5ZOIzkSCluTxKTl0E+WatTDIZDkZQ6d4FMv6bzLbBbk9bMtGEARirAUYTtksAeZMhJsci3ptLwbhUyVZ3Qb5VLXoJ8gxaLy55tMt6bvKMhtOGFVQmzyLsHmDy0pZ8zCBwJ3gmo3aRmJvkvjEl36WbhmP05kqjld8vrtPxJSFiqUmS38RNE1F4910m9enH6GJW2Dca9WEpYGPk6Ohb5VSuAeCsCCaAK0vnACeSvFUEh1c6iNJpqKeAXLuVdk3dHyqKHWy-ZQKNtvUVgSWASFJKxcT0s+Uz8lR+6ThZ-KwjUKNgVKxcTSu3EMr10zKpvi4p-EeI-xIyzlQlg1V+h5J-KpEIsSFXeCRVlSkCXj2lV3AI1+SkCadxMlbM1V8lANVOCDU6rfZYGRrhHNRg-sTVeCLCRyuAXdLi1tTfNdfI5WVN81Ra2+dPRrW3zaV-7WgISgJXGriV7NUlRypoXrZsghy5tfQH3T6LrxXYnsf2PADAZh17Y0dXeLMUqqn5mg1in2tIkDq82Sch0NPAvlf4vQ97bpUAu-RtqRs3EztWavtX5iSUy62xUOoiWGKTFE6jYPotvWmLFRkbTBYutTSXqtma6huEyE3XpipAppDxOOCarQpo0EQjomBr96AlgNOIYli4PXXf9P8pHAsLuhg0iAIO8GhuNVM0BIb3oFxNxB4mfIgaJcYGktRBuzTT1ASRG2DaRrL6Ib-5GEKLBIGI3O04NCfcCJBvfDiwEgUQEKLSCmW0aFc9Gv3sG2xa4sRwbG2Ah8OBTCbL5s0WgE1WoDOS0NztVFXipLWAaGELGnWMQG00yl24VEhZSwEqbAalNVCxjVppxAAJdNVm5eSCqmXQaFNsGlTZTQh5A1cVcA6wTGvAZzNki9m55sXlM2RBbe1sIjWZuwnMarNamzzRpr9rUaJc8W52hk2kV1SEhSQw8CgKwyHp-N8il9KemnCRaRAEWugHpvr4-4PlbmoIBcrC3OSUNBWkrVZuK2lbKt9WDzeEMTDebf1jAPzc8tBW7V4IzGszSFtRg8ahoEqQzR8qWWlKVljg7kkyg2WtJDiICkZjlt6bYZ5AvGrnH1usZe095vKdRbAltGlK4yDdSHrswO2aLjtxs4GGsQcwta4S5Wx5VyE63LMetN8BQH1uLyjaFAw2suDmCPAVpX2JLHtttlHYh0w6EdDlBgSKCN9RNibYouNra2U8yQYJZZS0o6o8oFtaiXMADs6Ts8KaP0TpKsTh2ht8EysHbWVrZD8KpCmfESpSOtKzAOZnM9ZJshF67kSUO4CXikVAQ3bAgTIEnbi0Xg1KxOcpRkRoqO2BjjZ3HO7Zjse14qsQnWgXWG3ZDMhVt-WpXZ+nPzrplImYz8igP3QABOAYCTwkBfkjNakQfuLD11vkjNbNKYEvRowMrZurJFWM5yf6Yo7AIjZiQysCDW7LIdTOpsyDQDB7JV9bbNeoj913MwgV3RoH7tt1yA3AcEwoZwTsDnJfcsMpMgNpfIoD499unXDrvq1flal0Ct8nAqWA+hCV0WxZScLl1wCFdMqx0CXtgUfBccKuh0GruLwqAYFZe37byGTZSAplkQGNbdkUCZB-oAzJoQlmWj7oNW3rEFlkyH2IckifQGpcBiOLXRGAY+naqAB4ZMg9QAhN0Aysj1Mgzk5yfvbgueZN8Y1ZgU-e6DLm+7TdKA1QN0yRXLR6wyXPVUYEJ4Yo3kxKm9kSvvZYY39DKitdxMLWNqG15KvzAFmAMzdMUG+rfe4h30mj99nUH3eYGP2n6nSmokFIAZaABosDd+oAd-remx7H9b5cBlgadL9NSUWqBgFQbOSh6zAce0IVsuWVrL5tvpHCosRf25adZ+OqaoTsBUzi1VjOggPJTrjGC1d9zJ+mLsO3m7uR1k8OSOOXx5A6AOyNwIvrzF3cZ+0+qlLPq1buicG7yUpkvodAr6ruPpNkDNWkPLRZD0QG0QoavJXd2iLDRAvpvLkUNqAKhQkaA3qFKAqGgMa5mU0H3N94YnSOwxw3cOcEad4h4jJIf-XOLcwzqj0bgI+jL0YgxY9hl8NilZGGw-e7bXUw-aqAdRAAHSwCVqdlJCP5HAnwZ3aKKAVQFLykD0OgEDo+FvAMAKNTKijE4kozwPKOVHOp1R-ALUfdHP5CAt2TgtRzSYTHQAAAL2JpmByjMtKo30hGOJNYj1HBY00alQtHtwo+9o2+BqQjBVD9ADQ2CCKOrHSE6x-BkZVyZK4AjQsZIqQGSLzM1QdTTkHgC6NIrLjQxtY6MbuOzVHQyRZwM8deM1K9j7oIAA')">function is_indexable(pat) {
    return is_string(head(pat)) || is_var(head(pat));
}
</pre></div></div></td></tr></table>
      The key under which a pattern is stored in the table is either
      
	<span style="color:green"><kbd>?</kbd></span>
	<span style="color:blue"><kbd>"?"</kbd></span>
      
      (if it starts with a variable) or the
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      with which it starts.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (index-key-of pat)
  (let ((key (car pat)))
    (if (var? key) '? key)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuTLiQA0oOQAFvKS51GGJoGW1rb2SSaJSURj3VYAMghoDeSm6u16oAAvCjnm8PhcDkJjqI7OUlCwlgiVkkfuY-ttAZ8ri0bmFweQngAiYgE+RM-pDbEicagOgATxc2Uk1HwklZhIZ3w2FIBsO650oVQ8JP0nMOo1xgKUdDolCixEJeilxhlWwBZwuNLpd2Jj1ATJ1eoNRvIHKxmt5Tv1hsSoUFmWVNVVpt+5rs8tUirUkejUrV6qOPLE3pdfvm0kWknkAA9NJZdeMTWSzLKI7kFSC1HG7V41Vikyc8VI2qRpEplLji2b-s2MZdrrJ6bXGQ6NPRznpJK3253xhzfP5Gk1+9ah7aVfamfMIkpnDlp-I2x2lLiFw1l5aB7T1wzmZ7aIfj3PaO6uQ+7DOT7j-UKg3tSVSMsYQrKMq1UWNwJHBNEw-UAvxfYg5gWd5c3zeRC1obtyXDEC4TApUCP-Xp6y5RstRCdsXBaJRszzAs9Sw6DQ1LXCrzXW47wdKjnBouj0Mw4g32GOCeL44FlEJKZf0DOhsNY3tQBYJRNFUAU-xFMUJXkJ5IMI6DSJEnFeTE2jMhafl5M2RS9OrKDNzrRNyN5EIy1Cc4FFdKzgPYwdOJHZk3LCU95FdYTnLENy0IYotmJLYDbPjBs4JCccWjkcYVCs6zKV8m9-Ic0cmTSjLaBUfiYtfYol2XKkrT84dCuZErcXK4LPMScK4JazKZnQ9LSBC7zcPXSRLHwLieFg4yxB6sqZnHOh5AAR0WY04qAkbbjG9ouP4abkx2Wh0tamYVCmVkqFmIlCulHDFNG8auIAZiclKpCW1bEkocqET1Ls4oASEBntcqkakGo3YMt0+taqF+jx-vnA6mwIUEwnckKvI2+7KUSgyPRmuwlrSzGOvW26WJyuVQLjGtbsM7lUYyaRqFIABrbKfPB+r8sa6G9GZfc2fZrqidAYWOckczLJx3Gafw+mBYMN7xZCFTNFkQaAcp+K2J568bS4x1NE1yhteRwnDoIImKowxj8jl6ny0V+zlcZuCOyiO3BLkp2Etp8ClYAhNkrVqQd1UNC7vlvsIb5u40OZAB+cLcDAD8GHwZg2CgOBEGQdA+B4JmtXkDNCCGgLQF0WYY+dwFJkULLoI2NJk9AJvpmQzMbvdtuggALkBbSpQHwIO9Z6h2cITQZOFCulnUwNNPFNkpSeWv9HH8xh-V02tdPWLbp3swO416RLPLhYho-H2HY3mviDrh5T+XUbRR7xY5K9+-xj926m9n5qiwIDMwe8pDUE0M3cg1BGCSGqM4SIR8mIn1qh3a+mYhpQJgXAhBrAkGXXGB8agkgL7mxQY7QBT865vwgfg4gJ1epj3QTXDMDCmHzS4lvOhjcCS8VotFe2x9+6sOUuzd4H5VCmSBCeKSih57SAAe7V+tU1FBBkTLR+PDar0Nht9BGNQkaoNEcuDB7D9F6B+gtRGpUqEqJodvXRgJQqaHIPyMmoVEgsLMaAVo7ROgtF4SzEWPjGjmPKpLTm1cdHLnoUFDyXiKamPCWw8qCSsbeJicA4JUhUy+mSSHN+ESzqFjTIU2oQDaFgNAPQu+CFKFShqWYUBZ80lYIUKoepR4ZiwIYcFKcM5tE5OcSEBpOsUmlBKU+WcjTsm0OcYoZgYJq5MgAKrEHZsQagAB3Ym-I9BKBzKAAAtCc9plcFBp09gfSywgnhezoPXSg+BQCqBCPmSgLAMrXUkFI4Qaoqax1ABfDxnzvlXUkUTLpJAHmMCiE8gY5hBg1yUfIcQrz3lSARK0P50KAX13MItcgmw6CEGkCSpEFzb62y0QC1R6jGWBFzAoRh2Zn6gloF5N+TLap3wkmyKYcl6U8t5Y0R5DKxVirvrXTlBS7gEs5GkbmO1exfyWAWclBhRWgA7m5ReDDWV3E1RSpx6jh7+I6AkFoSKzAovkGioFZgllwJhcQZkGytm7LsHBdx0DTnnNBW+ZFZFRLbU-ovOSaE6BVMJQ3ZSqkvbIgAHzUs6V7WNm88yItDeLTBHC7Etyao4oFKrwiEFeFfCuVdjqFr6pYAaNaHFbzNb4zBlybqMLrf0lacNhkLMWdWzpc1WRnQpYoIh11+2q2tvmyx8MbFGLsdw4BQLiVo0YBjMILByDquRKAHVaalgdE3bu9qSSoYhweFvW1ZgXlvNcuGdVXT0ZnvIDu9VgKSxBGAierd77d2L1vaAe1jrv1hkUu2oaJNjqeOxoAm9GxhganFh-MUJB8ldFUNpJ5pbcIJuw2yFNDoABUGGynWpI0yJ4OGZ2ozoINJC1AK0zO-P-Lm+tQi9oMYu7Qxj7FFLUefU2uhugMbyCKFj4z2N-rfZkipqp9CSqleJpjUmelsdoHJGDbLz3wfdiAtR9DpMmME6w28JmkLL2yPGHlw8KjSDDrO9hUSV11zXVpklMt91ROltQCyUpgPrtZoNJR+7VOSd3ZZuSMslVEs8341kFGugMCpWhyQ5HnTWukWzFQOaIOUig50mWWbWW0llcweVOXQsxsPVKplmWfQpaeHV+r6iW1OdRvmjJ5NL2VJLd+4C4j3j6pQqoOrRWNVPqEYJaddGy7sPyfpgCsaPMTlAIvfdk3VBLfTChP+pneixuA-kxRz7dtTms8RVUTxF7HdBgCIDubnPlUs25wlp2rvPss4ox+rXGjbZ+wambD9oLKba7VDrD27CWsCQ2PAmcmCsHYPnLgRc0DPVLi5cGjAK0vEsjmQlKrMjZFyPkQnB6hOgBzHZmujBlmqBzELLIOQ8g1zzEeBQLQniWFIPISg10WiD2ueLYbeLDqqAFfIzdTwSsDeh53TixUPC4o-NR1rUurCKBjRLfz-J7tGWtqlFXbL-lE84-HI2+Bmom9pGrlGWp+VyK15urp5uHrbSetb0AU0raozvnS93lJHq7W9-tP3jvbYVa5d4-AQeAQh4mt716nWtRi9G73dwegih4Y9-SJkGfFjUdAOOI1Dvsequ2M+xe8e468yNndh0hf2Tl8ik+g1pfvE19z3jQOhEa-zd5LoNs1A9TRHZbMOVXkt494BHGRDhv-evr+ZJJYM-Bu4UjAvrA67XioTiO4ifU-Ej7ocwMCKdgxfZ3XldnXkba+gGBKCNSAZsh35QjmxfjvV+KOFav746wBWCs3Q1+hIrePqP+kaXS-+aw5gCucYoB8gg+YgLKomR+lWXkt+t2eWsuOoqEq6G+D0ugUQrwL+f4uGKIaWxBpBGYTyPKHcT+YIV+q+ZBsk2BSiSmEseBE+rajQw8OQ0QpBt+hgAAPJ3NQS8KoLQbwW2vTq6kyAACpZBKR5D8ggrwpOCJAMBkoHyUBdDDxMigAADUlOEOYQEQ0QLylkwhxhDozIth-2gQ5hkQUQVhUheWhm5qdODOihyh+A8gOy6hUQmheg2hs8Zs+hDoDhEOfI4QLhbhNhJhxehhJhjh5gzhlh+Alk0hyBEwWQM8c8X2i8rB2Qq236cEtcMgWQqk6+O8cEqmJRSi7BuG4GpQKqDmjRdBbWGCz8VRUC42MRzqZArMY+3s0eVWLaaRw8V2yIqIkYwhaRbSkY0hixtSfIjGREnRnBcYORwGgQwwjQ96Ucz8sxVKe+2YB+Hi4xrocapQLqYIV2HqxAmQrQoA2kwapQoGS0TqpQ66iB+6smK+68iG6iwEDRiBv+0BbISmqx5gEJUBiBpEjQBxIaQBdglRU8NRwCqeXoFGZ2xRjxG2KgZRGwFRvRmJxx7mrRZg9RGxWBRJHBPxyqnGHRCxYqPRswfRqkixw+IxLh6BMexokxYq0xr+0gpxeEYmYpXRUqHcS0u6yxOBDJMhjK0xGxcYwhTwOxHhcWaQKKO8RxtcEp5xrih+1xOe1JQQ9xjRTxLxjCbxRGZyIKFGYUupQQXx6KlpgQfxq+AJy+iBlJbpjQYJGxEJt+UJYB4ObW8JH+EZSBQZqJiZCkhW5J1RgZ8OGcRMWcOcKOnAhcvAGAWOpwUg4KPyUKEuAKVMZa9et49yDopZkKYs1sDZAu7wXymsF6jSlZesNkfeagBKDY66LZvyiOaWnE48t4TI8oxe5g8ojKMJpQk50YM5Zg0Y85UZiu+ejBK5j+IIjA65E5Su64O564B5i5Su5Q5K0gxel5lQtUC5aQk56UdAmsSg-Ixez5r5ahy4D5GiSu9xK59x6iv5gQk5ykrwZCzgdA1G4FLwkFDAjQIF5gk5RhO55gjOTw-IhgSIqaxyJh35SFZgk5JyaFZgGFoAWFxGxy5yBFG5k5VGTwaQ5FlFOF1OoAJGFFZghFm5dwTIwApFbyTOFF2FuFoAYAtFh5+eAApAJcxSJWxVJZxaANxZOZQWhXJVRRKVhXRUrgAIQojqVCUsWiX6VUraWSW8UiGyVGXyXHJiFmDmXnn54iFIikUaWsV2VUrCU6X57JrWWYW2WgCpoOUqVK7JquWMWBDuWiXhUhU+W8W6UCVsWBCsVmC6XmCE7jychDkRAQqtni5Ni-7Ig7wEbyhPDDnllNg5o5VfJlkFU-jUDOAABWnOqWJVKkbqxGk5FVxeiUiqG5QQFV9V-8nIO+CWQ1xKeQ5AqWPF0iSusO1qxeC1XQ3FgxoFSukAxAVqcg75jFm1217iq1a1RFSusFkgsAkAK5Z1F1R1x1YFp4cFAAojuWdY9bdWtZOQAHJKCfUCXfWfUqnHVcUDA1V5W-KTWXbSnFWNAEakDEaRikCcETWeZTXVXjW5V1UQ2AYf7Q2lCw3w19nqBqjlUY2Qr9KTjTWjU3Kaxgqk35X-KwpBHrgP6gqSCRAZaMKKCXz8lNVKDzAMYRBuIDG8pDXtk5CuhdkkDvVBBezM19BBDPb0ZbBzzmnGgP6oFsqq13B1YayiaS500jm2z0mwnI0ThTW-7S3mC62ML621Vk13yNUtUUA64m0G3vBY3qpPIDWlAmmXECnypOQ5AkrnFRCszODlRa3hbK3+1eSjUI5ZlI65wcAFzcCYBFlHR6DKAUCSBfRhDELKSMCcw7g-T7hIGz59iOAuBuCJTF17g5AJg7wdyJTam7il0Ji2FMiSApGxEWGuFZEQSE211t2eFpDDw10dgl313gEl6sDKRcYCpc5qRxHRAtEK5KCkCkBODkpDRqQPIb3yUMAmE7Yb0SlMiGEdxn1rHJG2Hr2I3e2Mpn1PAZEIrT0kASRLRL291woIrf0c3v1l1GAgxok90uEd2qDd3VBz1LQL1YYEa-xv0dhLTf1PKGBJH6BMgR68gIObrvBTAsA7bwoP63lqBeyA26oOgOZMg7z0K3ikOgBQhvxYrihXmbGkPVSSmsOEOGCmUOipxkMdwD34R0OUG8NUNU6l5Z27q50-gF2cykO05MPkIWxYR0MMOMr4iSgyr0TCIqNcNkPmAX3gO2HYNLQfCKD4ORiPIENfCAqpEP1REmFfafyjxaMCQPxsPRHqKGHd0mO4PmOCOViERWNsO2M6ochiPOK+PgPHnf1PC+NmOMAsAj1DyAiMHWP8OJb-3gPblPC3iWOENangRsNxPED-0JNJPUOAjP3pON0OgADk3dSaSRDTlTz9bhpDmDYg8TX0jAlkPTlFhBYMzDlQqghIVdYIkY-TltjKk5eQLQyRcCyR2ybozIToigKzTe5KLeyTE8mTiDSwkziwvT2x4EUzJTZTeDZDFqpT+zATqgZzzwpzRz2lezODOdzzuRoAvN-NpAgt2NvcQIzAfOuoUceYRDeSuhyj+Q0ctTszkLlCxerjlU0LYL99QQBG3zOovzlAbi6qgLbM9syDoLmgDdfBI8wJYLsLSuqcT9Ypq8o80cVz7OmgOJYg-T+LwLUaYLQKRx+8ZsULxLX6A8fxRtYp+6O8TjWk68SLOjKLJLCZOVBLuo1wjy+6BG7L+YSrOuVjjLexDcd8MxIjTI25tTaTkYmrnLKr8KXtHDcYFr9sVrL9Ozu8Nsh0iip9x5prQLDrtIjylTBrYrRrmLAtOL-zRepre5bqhVjxdWGLfNWLfzeL9ruoRLjLTLaTAbf4JNWrjr+WyKqK3xvLDgFL8rPxwEk5NLfIdLzjJbSJ+bDq3xrRwEaEwGyG6dzw-I0Cgr5dqTkbMLqSW+lLZL1pScDonq2yeyzLyLHb0CTZqMneoR3bgzFoJZfbQ7UyjzhE-bpQw8I7eYTxXqk7IOvIC701Iu1sazjAP4fSrgZCLQbQ3Q0cPbfqa+3LRrl7bonTdgcIvryrV7xCWiT7y7Ls8ItARqXL8rGZoAOCiEGIpd5VFaIK9pVw5A6cidJeLwKkUwoAz0byJMWoz0GOGO28F+zpdAbMqgEi+umwGgjALQq9wDxDqgvOcC9H+jbSy1QSRmNcq0WUVHukoEkYLHdHKD7HBjHDwnbHOqw8ToFH-Hm7agknKDrLl+SgEicHOQqghKwWuWvSdd6KY5+eJG5wpdVGbpok+Rs8lH8gHiPATwVHkg+0TJM962ZKzgJnOQ+6snpA1ntnhThEIW5UHn8Zerd6mKIQnHakhA7n+nQroJuEnHoXIGBbnpoq66knXnuocnNnjn-nagbnwXdbtUKqkXknYnqSnHUxCnzHR4rHCZdqSGpJas9A6zvnkgdnoADn-A7BiwtxZg66BX+nmX5HPnDnHXcYgXenw9SXRbHNbQVqWGg3w9znThVgGIAXunGnOkqxaTt4Y35VkbXXPX8ZaLvKE3m3hXRX7pKXK38W62GXVK3nbX3X1XS3U9SX6Q4XzQnNC33QZXtxzSQQ8p63+X0XwXr8gPbWaTaTR3DJvXp39WGpYPsXpEgPHpt3aQwPcYknx39X7pO8KJDXgQcEn5p4pAkhSTznQ2HrlnmgETjKk8tPdWw8bARrkQS0V79PTKHc7P6z-2u7chTBB7E7dgMHlCAajzpdHxRPwKpP5A5Pg5CWYv17Q3VKYuwXWnINCWKH+6yvxCGvTIU8BRb4Q5iHVKevj4BvvPnPVNouan7whC6U0Q7hrdOQuPPbaTQ9bvcPSBX7EskQTv3sXvSwjvLhD+kYof0Q09kfQfY2MfD+cY8ffvMfbNSEAZwfTwiJPbT3GfTA0JfvGt3QufjeWfwHu5z+YuMfLvk9OkPvnBiJKn4gZtViQ0o7iBJTdptIO4kgmHjCOQjAhK3UUCV83Llps3kcjLGPLnYQ-vXa0QPmAf-J7NAZbf-+H3wKEXP3gSqg8faRHcJAnfyE8CvfLQ-fxLmf-+VXGgmglkKfxR8feP6Ps3aTk-XpwKaT1-lkg78rTwn-mxabSXdHm-2TIAgW2BPRrsAz-7RxG+5hXICwDIQiY2UbQdsPyEW4ddkBb5a4HQCc5l8mOdAKaLUwwGoDaQ2ArTpUzNagR8B0zN5AfXCBwCEB0CJAQ6kwFiY6BBIEHmpCmgI8gaQQIgVgP2jT1IgUwVnL8j4FiZ0BzA4gaEBwEK48BBA1JGIOkFkCyWFA-CFQO4E0DiMQgrmrkFEGSCsMig0gdQNqhadiMsA9gRqSmiMxSO5g+AfgHbDvoOqdZBjsCnsGnhWU7kSwASE-r0CCMzgj2OLDcHkAPBtgnwQSHBbDN8ubAipqkgcyVNtBjAEQe8DEHC1ao8xaIdLVMGsUghIQ6IWEPgEakMh1giojmDKxs0xQi0W4F3gnr6cngNEUcKXw2DroY+C-Oft7GX4sFc+DfWQd93m7b9d+VOQvtX1qHwRTwF-aErTmBDBCJ0kgcCuTx36L9x89-RYV8DqFjC8+YBRvlMIuizCyekhKYWsIaEwEy+-xI1vgCrBdBDCtTJkOcKVCXDKmvaLKAcNGFJBam-xFpGSxCCRwphhgWpoX3KH9IqhxoZ4fUPGFgF4hq7Z-D8PobQgPkkbeoRk22EzC5hkhO1qeGMGNA4wCIjQcuCRG2Bdh8vSQua3RE4jBikYbEbCWlT-4mWNwi4fMxgEuEg6j4UIRTjL5pMhKWQ1NA5k+bk8jw7MMhEhA-ZFghRtAJ4Bq3WHstGh3pBLCiJ2hkoKU+6PEUhBRH3NnmsiUcCKPdSmEeBaiSUWvwVyyiTUlKVELSLuHzNamcQslqMSZFWY8hhojCFqk+aEBTGAfXMJLnRE9sQg1TYkSrEb4odPBcA3zh1yo4yDpRrnfdChyDH2cbO4eHoXNwCTZZcMHcBzGsToANgg6oABQgAAlHqkgAAILgBwAj1AAEoKFIAAAeU+rIAqUZ+dtv4UJFkI-2uIOSEqLBEAMFczotspzRzDujphtgDJv6NdE5gVWTY9jEqKZb+iVApSDns2L96TjKgjYmcexgfzZjcxBYosaWIrFVi5xa3IcSOKXFaZexF0B-P6NCFDjJADnUUEeInScFHQo42gCclsHnsl8bKTUS2PcETo2xD+WwX8gcEEZD09QpwCmn+y8ipYEmTUaoEAksADufYrUYiW4H1jyei49ZmOI-G2AvxgdKwBYC2b4ISA2HKlAAAZz8cEBIDsjGg4SlGlCNmt0CJw4SNAeExQPulxwHh6J2efciYR4DAZgIzE92sxjYl+8xcpEo-jX2GHwdsJB4SiT+EoAtAH8aTJkJWzSY8SGBh8KSdzmq7B9Q4itLUJYG0jCT9OUgSIMxy2bacEsSkyScQmkmn4Ai5EiSfC1Uma8mu1sOge8B2QqBOYQHHeCqgn7ctRUHcQSdZOD7n9xJ7wcyY+Gknld6EL-ddqwjSbOTJArk6QJzG-7E00icUhKZzHnxgtnWo9Zlq23gKWAXJbkoyfXUb5tBGB9HEUHK2wKu9a+UouEuLDSlFT2xhxL7kfyjhxc1EhpXjmoFz7xkp+wDctPIHX52obuwAoIM0NaGB9U+QJSULVP1FioSuW-bLM4HK5U5zhaKSkcPEamJSFhbQ59CtLx77FQEQA0VCqhf6-D2SzwAqfFKKlb5AUfgK6fIEKk7T582UuJAQDyxDTwBR0gaddPSmCtG+-wl5ECFHx6hS6ok73hmC-FrYZ+LQqlCnw6Hrwuh804IJinSqb8+hy0lYR1OZKKQSAVhAkfMLv5x9sZLWHUQyS-Hy0kMN3cfh2HcLSAv0gxPACRhZk7xmhKwyaUvzT6dDiSGw33p5NwjozehCYrDAMO56JYCZKojPpSLSDEzM88fUkeokRLM92cZWCGbXyhl8y3ST-TFGVNEyQJ8gms5GdCQALMzWZwZXCKaJyD0jqZDbVLhbMgylC9axfXmd0KOkoZrY+MrIoTP2EddNAL3OqSAIgJEYzhdIrnrsytn3Dh23UyXH7P2hvDV8EItqZoCmjaiggGCJ2WymBl8YwZmnFOeVQDmX9PhEcOmf7IukbsgZYoHOZQHBn+zyqHXLPmJTAAsySMSc6HqnKhC9soR8cirsQEll7DNiKcjEUEDtb7RFZgQL2R4hVHmsuBMstIaBDLnjzeUiJGkbcOtkYMtJFeHiTtnvHEAIhluWhrvMChbM52WoccG2GdFFgeJ4fQmtfOnpKStE18z0Q4BYZ0xwId8jJrM2kCuT+QOOIvEy2brvzjJxQ8WKzVojbyeJYotUa2NAB6joSMMklG2DJw2SDOmwXScHwMn5Br5QWBLJPLlFapxWjKPBSqPFGwSl5402gBfNBys4kI188hYEDgWbCOxfc72UaNPpryo5G7S0TuyPTvNFAlkB+XrnUA0KUFxg60VYGZF5C8FRo6wRmNXGSBixayAADKPVqxbxK8sRMCFWAkJPE98WQq1k9tOxqfNoD2PHG1NBx3Y64LouvH9jKm84mYNYunr2KUFckFcTmIUXKLVFO43dHuNpDWLxxPbH8dbW6CHpTxeQ88ZeImjjj6F5gAvFs0fHRCOQ3AsJV4PwbyTkiPEhJako5CfNWa-itCXBOOEK4fxQQ-8Uyh4nEZ-sYClBcVNr4wL4Jh6RCXBXyX6KV5DIuIAeH6aqj+F6oi6G2IDHhDAl0Q38aeDKWlBThqaUVEEsQG0gUhrWK1L+wPH0BulvTXpZ+K1k4jORIKW5C4pWVgoClGEgamGQyGAyh07wLpf036W2CTJ62ZaMIAjFWAownbJYA8yZCTY+FvTaXg3AxkizugdyqWvQT5Bi1zlzzPZVcoyG05-lVCbPIuwebHLUlnzEIEOP069iIh3oheeiPYZfC6ZPokBdbDCBwIQpu86aUOJ3lLLCUs3ZFeDM1E4yKF62KjvugiU5crxNKpLuuk3r04-QmogZaz0WIpLAx8nO8UsqyVwCvlgQTQBWl86rNd5IqgkOrnURpNNRTwLZRyp0m7puV1y7WaNMa5f5eQBKywCgpJXdjalNymfkqP3TnzMwD8bBRsEpXdiUV44vrtPxJQMqqUTKjxFePHFsqEsqqv0EpNsG416s-K7wYKsyVPi8eEqu4KGviVPjTuikrZsqvkq+qpw-qooa221Xuz22P7Q1Xgggk0rn5NS-NbU2zXbyaVlTbNXmt3nT0K1u8slShNoCEp9VRKpZUapMV1r-2DanBetmyCLL619AfdPIvXEliyxlY8AMBkHWFjh1W4tRYqqPmaDWKPa5CR2voBulgITIaeBvN1Uph72NSp+d+ibWGr2apKm1WGJn6LrdFA69xYopUVjqNg8i69aosVGRtIF861NOeq2Z5sg5DoDdY3xCCmkPE44JqtCmjQRCOiIGv3oCUA04hiWLgr9d-0-ykcCwu6KDSIAg6waG4mUzQAhvegXE3EHiZ8kBolwgaC1YG7NNPUBIEboNxGsvvBvvkYQosEgQjc7Rg0J9wI4G98OLASBRAQotILpdRoVy0a-ewbbFrixHAsbYCHw4FIJs3mzRaATVagIZJQ3O1wVCKgtf+oYRMadYxATTTKXbh8yeVlTQDQpqwX0aNNOIABNpvM3Dz3lXSyDXJug1KbKaEPIGvCrgHWDI14DOZskRs3PNi8RmyILb2tgEbjNkExjeZpU1ua1NftSjRLhi3O0Mm3CnKQkKSGHgUBWGQ9D5v4UvpT004MLSIFC10AdN9fH-Ncuc1BAtlwWwyUhty2FbzNBWorWVvqyubwhiYDzeusYDeazlHy3avBEY3GbAtqMLjUNAlT6brlQy1JSMscHckmUEy1pIcRfkjNMtvTbDPIG41c5ut1jL2nPN5TiLYEto1JXGQbqQ9dmu2yRQduVnAw1iDmRrXCRK0nKuQbW5Zp1pvgKButxeIbQoAG1lxhxm9TpB5OAbbZR2IdMOhHQ5QYEigjfYTYm2KIjbmtlPMkGCWGWlKOqPKWbWolzBHgK0SwdnhTR+idJViUO0NvgmVibbitbIchVIUz4iVKR1pWYGTPJnrJNkIvXciSh3AS8UioCS7YECZCE7cWi8HJWJzlKMiJF+2wMcrO47XbUdd2hFViDa286w27IZkEtp63y7P05+ddMpBzA1avy+6AAJwDASeEgL8jyrUiD9xYn5FATyrZpTAl6NGJ1bN1ZIqxnOOst5HYBEYESnVgQC3W+VUB1M6mzINAIHrFX1swMoqb3V-0oG+iw9Ruy3T+LkBuAfxhQzgnYHOS+5vpSZXrS+Vj3DL49DxJ4Jru10oDcl38t8n-Ox0GhCVEWwZScOl1wDZdkqx0CXt-kfBcciuh0MruLwqAf5Zer7byGTZSAulkQSNbdkUCZB-oAzJoQlmWj7oNW3rEFlkyH2IckifQHJcBiOLXRGAY+naqAB4ZMg9QAhN0E6vD3gMzk5yfvbAueZN9I1ZgU-e6DTle6Y9Pu7pqCuWj1hkuds4wITwxRvJuVN7EKfeywyv6nVJanCbmtrU1qW1WiIAzN0xQb6t97iHfSaP32dRPd5gY-UyFP1OlNRIKAAy0ADSYG79QAr-SdMaDoHMDTpfpqSi1QMByDZyYPWYHD0m6plwysZTNt9I4VFiz+rLTLJx1TU8dLytscqrp0EB5KdcYwcrvuZP1hde2k3dyM0mZrSOgJPIHQB2RuBF9gEU9SSmn1UpZ9Wrd0Tg3eSlMl9DoFfVdx9JsgZqEh5aFIeiA2jZDV5K7u0RYaIFdN6cihtQBUKEjQG9QpQFQ0BjXMymg+5vvDE6TWGOGLhzgpTpEPEYxDv67sReOZVRKPR36ddK6o4Y-CuJnGSOFR0MAX1U4axKjg2H70ba6mH7VQDqIAA6WAUtTMpIR-I4E+Da7RRQCqApeU-uh0HAdHwt4BgxRrpaUabHlGeBVRmo+VLqP4AGj7o5-IQFuycFqOaTaY6AAABexNMwFUZlq1G+k4xxJlEeo7LHWjUqdo9uFH1dG3wNSEYMvmUOqGwQpRjY6Qi2P4MjKuTJXL4aFjJFSAyReZmqDqacg8AvR0FTcdGObGJjjx2ao6GSLOA3jHxnJYcfdBAA')">function index_key_of(pat) {
    const key = head(pat);
    return is_var(key) ? "?" : key;
}
</pre></div></div></td></tr></table>
      The index will be used to retrieve items that might match a pattern if
      the pattern starts with a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (use-index? pat)
  (constant-symbol? (car pat)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHR0lVVRdSeRpiIbiEpKLi0DmF2sUJNvklQQoVx1EAD1VLOjoVtZGDMf1nya2UlzpyHr7I9roikkjAA5hdrrd7rRATF1j4XoZfABIczTJzUVSidzkaiMRwxBqULLCVawp7vZLBQ6yY6KDFY+S4-GsQnE8442bzRbLWiPfKjPQTD5pDLM4gAE1cKw8ZP5my2VMiYslJJleQSCPlU1F0myDXFknBN1Edweso2FKCoBYknKokcpxJil1jQNjlUwOyVixNXqTWkMPV8Mtwo+Lv1hqa4v25vhgq1KTRNVEAEd2lpKOEyfcnbHEiHttTk2mEpmWtmpby8894wWRTNRLFyLUauRjjktHyLcLgiRxaJ8ETROK60mGqVSOUuwUe2IlePqJPpzpa8Kk5ZrLZW+2EsuE5S5+ENzZiNuFB3yMvNaPRZJTSDiBe93XFeE7-cH0+89eUfWnI7zn7UhdWxM0g0SX9zCwX9XxpBRFAA2hHCAloORUeg2y0ZDRGAvdrzXUUUM9XNwP3K0iyI0Cq3A-CPnSLFmEYK9QAAIgAVWIcpiGoAB3Ow6i0SRLlAABaETDzg0QWIMABuLAAF8BBIM4RF2aR9kEXRgRBOgjFMfxKHwUBFBmG5KBYKVxHtRDVkEAw9IpY9bB2LkWzMiyqCsh1lKdTSdlBXS5P8eSxADUR7CMkynDJPtvKEB47IclJ0O+UBbkIaRyFAABeCS5HgmzHCjDSSDeUNyqKK4FAlC59EoZhH13OsKtDQqPXcHI3EBOztGalqPm0uhev6kb-EK8Z6toJ9EtkxyrBPUUnNPf4lHSzKyJSYIltaKIxWqy81vzCr0j7Ach3FILzBC0QwpMCkGNxBCSF0djOO4viCB8lZQGbTFRPEtTamky7QEUxSsBskIHB+XodoBA5riG+M7uSJbrTmIFQRygA+PLaW0zUxkR2bwchot0JVaVpGY8Ykv8NGZnIRhCHIAALfZqXy3IJUrLIWmNSUlng6tNQ2-xYK5zwedVctoVTdNLxF1cCM52kKd5t9MqxNkrLw+M5NJr6RCLOh5dLLMvBzMDhn5TUUf8FKssHRhvlbFgfhWnLQD68xVYK+rXe+HdOxF2mQYi4yZm2laEIDn5vnduHRHs+2UjR53A-IROVvD67bv0oo0b9jocNocUz0bXdQ9eXOFKU+KRC+GG+hId9KAfYdFAGE06YsebnJtVQu69HHWIAKlb+94nFMeWN0bvArriGjf4pZT2oFnsOA4iVkDG2NlTtL+7sGZTZLDMLeGK3qP3mdZ12TRxUUOg156TfKJ5ehY5d+O23PKvSJlVGuYF+kh17vxwiBT+gJTYUwrl+QBYtUSEUgTvG+cIjqzibooD+JJfRdGptWJBIpiAZWkAbeuKk7BFgXEub8yMC7mEdqAYqXtaHlCKtQaMe5w7MInDIBguVQHgJ+Lg3eihiqzQCMwyeH5p6CKhq7WGsj27T2dIuARUj6bHzxvBYqRNqrlwmg1J8-CAzDWAZYooKiO7iiRj7Kx5VaYk0oSSCSjhtpB3-iHGiDDJhoxtHaDxx8k6KAcbo1aISrjGlNOgp4osKHLwbtQpUbdPwANviuWmh9mGe1ysXIEU8LxJyNJCa2GCaxh0mGk08nR-ShJqcUupzQ9YrU1OHNGOcl5kyVGIuJts-EBBqfg+pMc+m1L9C0pW4SPgFPGSU6JZT+kbAsY44UziOk6NOoOaeiS8A2QYPgZgbAoBwEQMgdAfAABMrjvozFCAyQhpFD4M0yIQRoWI9zmAAD7fOaqfJmRIQRfNAL8-5TgmjNFEGAr5YLQwzFIdIJ5mSjD+DhcKGY2zzo8LrpDB57gWgx2rCYAI-idF5kSZDRmkgQQgmHM4aGzE2b2jbCCXuR9NwnycB6eqXyABkfLQCs2hU-Yl2VxU-WFY4VllKV6im7l8xhHKFrUtpfS7B9CWLd2Bt0uVzSWiwwVcSpVaNhWSCfm2SgyKKkuKSVQ28RSMkVJeTo1VdLy4at8SxRpCQdWKUhj6rC+rFVks5UKkVihLXUzNRayQVq9z2RcQGx1WEVqlJNFCUkzyTU6JjZGuN1Mo0JttVSpw4yQ0BFedKml7qGXfGYixR2YDRGoKosQaSoK-nwqcKy2tnrMkvSkIwTM457TjI7eij4br1WMs1YVcdSa5XzODcawopqI1FrzUWoh9kKGQ3mWmxZGbylPFTuu81+b43bsQbK5JOo9RuiPbErNKKz2up7TWmd9bNXhkfRCY9tA-V2rcb+w07UvRuBGc0PezrGEBIxvq34-QvS6C3QW4te65Wgc4dw1d2iw1oavehndt77VRxCV4yuPjX1wffdWtVHrZ1es8X-Kj5AgOQ22k+zNFa+4EY3cRwBpG3EzHVjLXjfGVUfoY3WxWXqxNU3Tc+idXaMXSb7UxgdrEFO0HCJRi8HG5U6b5u6Swgs1bZrXTopuwT8DMR4Iuu9xmLb0DNtR2DVmw02csHZ+hVzHP2ucy0GQbgda5Bo55ha3mBzMQAMwlrlafNzVBL7qGvi+2DSIkShqk-RjT36vVnwVmWZkV9eaGbvRnX+wc5MRfwwtQj1qngBbcbAsu8CnWnto-xi9Rbr0ot3bqu9Mx2ESeVc5adjGCtaZYuwir9r2E4ZjJZytuaBPxqIcJu5Tg1KUCFieuUb6w2Tdkw23b+3AMte+uNf9z6JPntjRtoTuK5XaSU5mmDXXIvOUa5eprcpBvg32SvQ5xz2BnK4JctAsXbkiEZszNm+xLjsqrZC6Q0LVjI+9qGYIlxmr0UYIxRQlwXpo4x2Ia4OEFDil0JYUgohKBWXFKkIDwHvqBOsivRQ4HOpYiRvowZ9XnLYMbV4WKNk54zJ596F2ugBdVP9Yl6KYuao2QQijujvav2XnwC9GKquV7zbcW1T0vOXbq5dV56GtmEK6Ac5hyrK8lsW5zVb12PnbegH8w7+1406omN3PgDXbufge916AeLW2RAc+CZy0J6F9rB6i4yli0c2hSV0AnjYPuRNODT1ERQK0k8TfU9rwv6eXr5-aEb76Vf7RZ87EXy3DX1vUyLwlu9mhgLUHuMQMExipq7mya7haRaFds5EFVh0HUlDD5yz9iN4-mHMouE2FsA-GpaC9oi8hsO7Ax6OV6Z+kzzGgBWrpZvzkeVMX1Ujc-V3J8z6gwGBCM+9KktWz1p+h+cgP7sD-+0c-V-L0d-fwefOwItAAjve1KqR+WqcQSaTfS8W-XQSIfnO8e0OfT-KLTQEENmY-AhC-cVXKdHPvfAtA4hYIa-RQA-GfAg-0O-TROXDA+A4hdIUgvA1meg6DIwAAHhCFwPIM0R9ipEJ0ehYgABUyh0ZiBah-IQR3kEgGA6AqgFhKBhx0gWJQAABqbHKxb4YdPvQyfYW-IwXQueViHQvQyxAwoFYw8vAMeyH2AnInSQ6Q-AUQHieQxQrQZQ1QlwDQyw3QmZZIWwow-AEwk-C-cwl6KwkIgIMIkEewig6AkDMoSoaoRDGOfVO2JVMmfQZwMoIeLAooSGYRbg0-Cgw+LYKtHfCo3SeI0AKkAo0oDEMJNZPQbvXvfvf3QfTsZxRo9IfVHKCVPNUwxo7YPNCgiYkUcootUw3QItFI8OAIRSLYQyYycYEY3KFfRsVQZseAxAi8dlLYB6G-E-F6DiJoPsUAbVLRFIPOU2aoooZhAAr2KfAAg4GuPqNGcogA5-bqN-VZRxf4oAqA+45INY4KcAwUQoto8fCfOwYZLI9PCo1AmQXIyYfI8QOE4o14Z48wMoteeo9Exwgk1GOjOo8YkaZonE1ooeCYrvUobow4gPfo14YhZIIYk-bY8NC9ak0aYIU2H4KYgRUkzkxMUAOY9DBYn6dDZYkMEKEMDYr48QXk3YtfVkvoxIckgIM4tE1iK4jeCUW4keMSHYFNdjCE1Y0KJ4pVLYV4mfd4uOafI-KpcqX44k-42-YA3-YEqxUE9PQEkA606E1YmE8YXE1U21YHZJUHVgcHTgC5XgDAPfUUdySyTnZJJ6YgXuKtLXKbHXZ6ViDMzyKSP-UAUsxne0cyBYNjT+HMvMtbXrdDRKRJZhKsryA5L2bBS0EXGNCw-wGNCqIBZIEXKNQc8wKNEc-08wEXa-ScysuNRgGcvslPJuRcpuVcooEXBFMhCwvcpFYUUcgIEXSUOgBYSQIGXQc8y8uQj4E8-wEXM4ycs48qR8uclPG0NmWYBoOgOeb81mX8hgLYD8xRS8FibQxc-wYnXQWoIwbKXGYSXQ+8sCkXESaC8wWC0AeC0eYScSVC2c8CxQFiWeXQFIbC3CxC0AYSMeHC8wNClPYATC4yEnHChCpC0AMAQitc+tFiAAUhYsoo4potAH4votAEYr4uIOguErwt5PgqIpFwAEJxVZK2KqLOLVLcpFLeKILeChKNKRLhJ+DzBdKdyU9eDspMK5LqKTLcp2KlKU9sZDK4LjLQBcYzKpKILsZrLyKAhbLOLfKvKnK+LlKWLRKAhqLzBlL-BkdLRZoOzh0PJqy4oqEAScoQxB5FAY1dBOysyqFF4krzJMy0q8FqAGgAArKnQRLKjGQQUeec5KzMiw37GaIi5IfKsq3eWaLAYqlKryJtXwnsxlEXLFaeCw8a4cMCjop8lPSAYgHZVwa88wBapa5sGa2a4iliQCxwWASASc3a-aza2akXXagAUUXIupOo6JFwADlJA7qWKHq7qJTLFEroQsouqhr44ojMqthsrSBR481SAaxvrPrm0irPrKzmqyyxQg5U0gz-qihAbgbW9lB7I8rYbUqfrF5ESXI9hTMSq4a1c-JtIm5i8kTXJHAiRHBTpGB1IgVHBKrJApAX5h19j2j+ouraz0cLwGyeoZlyboZZJkght7VhSqgtSkDFBKaKdDFpanxwkH4JRudsauyncUDrDLFwaMJm0ASbqhl5hH41bibUrCoKrqqKB7E1ldaEaPYgzDb-ANT9j19eikDbV0csoV8QRSgGhwgN8LwvZJbqhA7dxerYzCqmAEzTkkzuBMA0yE93AKBHASxvhzgbRGApwh0R10c5a9yPkmJfsc7JBR1E0QxghfsljgRc7k4U5zDHAtDdDEj7Di6a7S686nCth0g27h0O666c9voYgbRkxwNqdn5AU+8L8R9nJJBSBSB3kMpaRn4tJ56RKGBdCgR57eSWItDghd6RQLCm6dg16OqWpd7dBEjF5Fc70SB2pTYJ7DCQQtIAoX6wQ77gRTY9JstsDnJEirCWISKrDh7DRTYx7O5sq3sP6XZRA37dIzDWIDAWJB6RBoHTZpUsQWBMY2VL8uV+gyFsGNp96d8WIQwkxsFtIjABU6wop8GkU-tCGjBfk+THtqZKGjBtLWJAhpIK7jI81KGd7uHmpggk656fg068FM6pxKH8dI4dsuQ9sGyBHqGKoEUj8bsYkeN2HKDWIgHdC0GWVMGcqI1BpGGEGfYtDj7ENDV1GnduMHh2G4iKpLGrCDGMHGAsHftTHtGzCLGkHZGDGSKNy37dA3G3AWAu7tRTJlzCHeHAmWIFzdBsF+HQQawi12HQniB77DGPGNokxEjYmFRWIAByY+7SAB0pshqUyepIiIwhlBuwNxksRgfYZp3CmevBuonIQu4xi9Npp2iqEXMBcUI+3EI+7idjF6d8LESZ1iZmdHaSSJzaUAQJvNfpxY9DdZlZrJz+nJiJqp1ZiNLZotLZpp9oFp1I76Fmtm0gDmh23aG4RcDNBGVQfO+RtQi7VYaJIh7a87T+CwjRpZL564AZ9GIea5u8W5ygfYkpR5+nO4OBl58u7u+VN0kF3hkXbhy+k-JDBVb5vJinVQKPOwNp0zJ5u4JFw+FUmYP5p0fF5414zWnk3KEMaxvoBVQFgDYF150MpK8l02cuQaL2bK0luFjNRF-FlY8bf-JlghHehc3h6gvNMVu4elQaGsX7FVgV2YAKZF7UQqYY4g1iDcxV5geF7VwaKpg15liVFiCF9m6F+56vRVmJ61ghM+lIbK+1qFmFtNLViVkFpZrkpc3lN1-0LG-ltV3V3OW08KalzINFnl54tGTFiwtl5DQYSVyYR48Ke06Vwl2uQ2O9X6WfEF3B9MmJ753hvNKtlF-U6JS4t6XiahW7TNH6WoTEGvEQBvcgQEb58t6J3lWtooYIMfdFutsQpiBtw0ptj6ex7t2gfaf8y51SVVxgPBDkBoe0c1fsJ+ftjp9tzESlo171Nd9jBpnYcUQVs984YqSlg9kGxdpQpFmMsAekNtatUdPKlmHYE0ulcgXAMAI5BM0gVmOYNwCPYyWBNxWLaHaHXwfG98RcRQO0WoWnUuRgOxN5uh6mOnXELD4R7Z-sHZYcWR+WDwVD1DCNPNPDzD+BiUyuiNWjgj46C0ugZDyjuU+NZj+B4l9GIJNsUdWWnJaGsxT99HEaviseQT9HWeCEvFdIqoFD0QFsHgXQVDxwfzck5hFQhoGT8KXKJD0gZT1TjZ+NMT-TwbdYyKTFCUM6NRXTyzk4wuLZOzkji6RU2N3Uh2aG5jr2IzkzzTsz6mRz-uqz0MKtKap+Zjt6g8KLwYrj3DjD8UUMq6bNrExLVzddwLtT0ADTq5Uk9oZzphaG0L0dfzu4DjlTxwXLotCzsL1LiOWhqL5+QgPThr7zkBKwatczjRVCfuj10Mag7BDT3L6g-Lwruuwb-qOrvr8TuuxrnNzr0AZhPzwzyr4zibxL1r9rsuxrgIeNumtz7FGL5zyCUI7r+Ytr-T3qc7nWmJ8b6rgrs-dPUFmbmU67hr2ac7pbvN4UYUnrpLlQTDyb-bsMooKEtLgIfdBwD0cgUDmg4r-NtgE91ojI0h-qEoRT1QcJdIFH21okU2ddjHmk+wLLgD0aFwx6FgRtriZt0Ad9z+f6OU0dHVcM3+uwW8+QUD9s6Gxnjd-u4V20Flfu2WuSZhf9r2fn9kUXliNHqoHVDsn93KaXpCfTkiwnmZnVfGmPVkSUPvcvPur9l7qIOW6gku43ovC9vXpmi39HCRIkfXnBh9iNG3vvCst3sEGOT3uWotH363x3pm2mz4u32BpgEA8tgL0P3QKAi92A1W6Pk39oGPt-ct6g3XwPg3xPovFPkAvjmYIde9mEk7bBadlibhldk+PWi+eCadgAzJ64mqIdRwMDiUdHRgdlSGFQVQDmMtv7prgv4EF95b5hT3thTPsEYPuguvt-KVtOOjFrn3xo3sYgRv8uZv1v8Udvl53P3-BL7v-YT30JH3xbrzw76g+l-vjnkNpiA-3pvdwNzPDEfYMdnl0-m6O0n4nRaJOf0GdL6-u-t8z44GFoULATkJiBqj9hdQtQTuHQFy5QCry9KOgFpwPaHkQuDmXhggJgHlxkBstKpkqwjRwDQWwnaiiAOyDgC4CWA2AUzFAGA9n4DmabltRSBUCcB-mCskSDcDo5WaY6G6IgKfhwCbyvA7ATUBQHF83k9DIgZgKEFICrkeAlFgQP5IMDwkJA3GBwKxBcCvILAnBNINYGy1GB5UFQdU0sDkD5iDmQHGmTIFgD8AuoLOPVWLLT0YS1g+QNVFbDGCsGlgxwNlT8i8cXslWGwS4MsGP1QB2HKkjQOyA-Md8VTNQQzWhSaCdBXNYUGMTCERNpuhgpweQACHJCghJgmUskMTR8d4+5cQyPDWhi7hE+BoFcFARE4YQWEE-cfjzD7w01TwIfdusb1j5iCjuxHbFEvxxzy0Ta5Q+QLv2TiyM4eoWTwdzy4JH9veE-GsBUKGGV8lyGQ7WOMPh5cE4eN5QYeH1-zls3iJ7fAAWmHBaFeGLEfYVakOFVNyO1MdYaAAqFGBeGbxKCCi0H5MQ4edwopoUJpp9AUopQzsNcLmFbDhhTw7lA93kBUNBUg7JiLcJdZLCtw35BHkWleH6DhQRaW4UiI+CjDlhcIrgsq1BFoi1keaVETMVGjgkqmJwg4SM2AFAovaSEQIVjgPbUE2KhgnfAsNA44QOEYCWYDe15DTN12KwXQKK02GksqhSqZhFiOCQqFMoXsDEbCImGKABRK4HkSSF0BEjRoQo2fjCTFGHQd6pw9HCM14aRCUW3RakbUiyGaiTQGURIHx3-auDQBJnXLqh1EHSJSuXsf9naPU4qdvcHQlrhfmCA75Zi+fOzpcEcAadeg3OUEdUNSiocvYOIy0R0ML6ocjA+9bhiKFQ6JIvaoACQgAAlzqjgAAILgBwA51AAEoSFIAAAeTurIBcoO+OSPjQ8KrDORRPEkICGlHEB5h5bQgOg0d5XAwxMI3Mrw2tHdjLgarLkV-FbEEtrRMgYLKOLoAXtJxSKRsTM3ERy0sxOY-MYWJLHljKxc47rkOJHFNjxE448ttaMCFDjgx1XUMeOKmajiRIlg1nJDB2TXsDx0IXsaFnbEHsPB6Q7Kg4gqHvIcYIRVkZOFmCnhFRDwX8TT0WFviARAzesaB0XG8iXxrY+YZ7SsBpQMo9eY0hB1ygAAGWsZDHiA8QPE6E8AdyDwSUAn4KOYiSoBIBYS0J6OZkDRKxBWEeAmyMNPMwwmMTGAF7GPARNaBG97eifdiSRMUZkSUuafGJuXwsLUEhJtLc4OROC6G9a6+Q8Wm4ksDdw+JtdJwESEUDsT2Uq3YibJKQjkTt8nhIifRMMmnhyJYvDLsW0sD2geIMgKcPuxDBVpC+-bPqMEB4mmTQ+O-OiduwUafMaaKXPqEmAv7jteh1BGgfZMcn38X2eIqcnZMcAOTpAU4V-nqxVjXBa41-KKUlJim6S+O-YCAXYh6Dct0S-EsPsKJsn2ocpyUpyUj0O5uSU4V-AyJFEuGKSBuYgJqTMjRhMx2gv-G0h-1zYzJR+9Qp3k0NdKZt5h-UlzsdicCL9YuRTfYWFBVHpAapMUqYaiQaDhdhQikJEL9y-6zT3QlbN4Zjx+iJTapsUuup2jOmiBopKUhhnXRmTpAlppsX-pDz-7ZTzpMUoASpO+gfDihaWe4EJ2z4YloJEYrKGP1yhH8p+R+RPu0IO6RRYqtnLoWohP7kk0YJAYwisIR4bSC8PvZUUwPMCRApp2tJbg1KH6RAmpayPAGPFpkhhR+dQqGRP3GktDpAU0lyToiRlzTjuqMmYeEhX5YysR7Ur9iqJSC4z2gDvBoWynimtQ38uPPoQn1aHo5SS7MgabdBVKFTH46IVYMTJe7lTkJJKGmXTJqI6IyRZwikdmy8798i4lwQxMLOVkm9VZ0JItvakxkRFsZawsbs90qnX9dhtrHUecKKZmzdRJPSUm1NUBeyfmABKIU4EL4RyTpyzf6X0EBmUAhOEcvKt7LllAi+J3OLTrwyTnuge8QM+3qoGe7pywZXFMALTLHgxyjpvKeOaAAFQVt65-mOJsQEFmyiERSgtZAiP8wyz-AbslsELOVbdzCZKQZVn3NFnCgSRKLYOYcPz5550JhSZ8bmQHal5Cyy8pcbQErzoSu2dgdCMBE7EPBdJ5bX7LpIrJCS72J81AeIMLToYi058n5kM2kAOTagPaZmOWSqZV10Mj8vjoDFmBmTVo6E-keczcjODtYICrEC2B9k+cahwEDHIAq9hqSvQGk-ulpNWD5TJgMidue7K1EssKog8j2XKNAVHS+x-c5IAfNkA8Z4FHI3SeQoCBqi8+MJQhXgv9nkjQ5B4A0dqGLip1QFOk4iXexoWng6FMyI0VYBpFZCWF5o9aChKyirjHARYtiAABlzqVY24mQjwlypYJQFdiS2PAW2B3xzCrsYGNfHawfmg4wMfSl0WmLbAE47rlOMAWAgKy84loNYpXHZiFFyi1RTuJ+B7jy41io8R+OSEUDVaDiE8VkLPEhi7MV4qeannQm3jkh0kfQeErcEkUsWczeJXePMGIdqaAS-RW2LBlBK3BDoGwd+JajsTR4IRf+YaHYn8KHZSE6CfoO0WOKbFBS8EpSNiD0S2mxCqBaQqgnek8h5bT8aUoxghhdhuMPqB4JVrlwtBMyR8fBObE9KWmfSiBY0pmSGD-51i+Uf0rfwzUBlbghYTwu6VtMhhNo8IeDNAApgGquUV0SWyWWKVWIRy0BWzyFx4MWuVy0qIR3uCdL7Qxy0BacssFsFLlggKWEu3uU1h9lwQheU0P7CXBRerwtea4KBSxTXhTDb5KKEL4xjslZRHEJYAWVyTLJJi0CbQHZSHchxovYlbmSR7MIoxuUSJReLsyUrGuzCBeoTgSD4qJFbg5GsAhSW2jOOp7FeQkrcEvKUgqgFmCZ2vGCq7x03agpSt0CGDWVakn4JSrOURMIS+08MjfQlq4r7QQk2mkOLqXJwLlrYr2JQqPm8hMFCMuRjCquDwr8lXUh0tDVpVk9YV54lsJePtW-8WVNgJVYAtVXcrRovK7IBKoyXo4hVoAkVZ1XFX8r2J4a7IJLnKjSTgFxkESoqvZVCTAV6qq2elxdluId2fqpkJSs3kITV5N8wBcWpJAJyDw+a2pUyqqb5qi1TKi9g2tHEVqVg7Kb4LiG3ajjxpBqptVgr57SAnxW8+gF7HkXrjixpYiseAHDjjqCxk6rcWotlWjj5VIlZoMOpLWLxr+LECoMg18H2oa1S86+ZME7V4q9VhK2FYaohLMJ11jisdR4sUUqKZ1kweRY+tUVSiYm7E1daPFvW6KISaMHdeUD3W5rtsq+V2mKEqpc5okDg6-mgJebX06xLpdCJBqEDwa5aNbYmBe1uA-BkNPkPtsTHLav8ENpaMDQcXPIoaqEaGxFXUWg0Vkp85GnyFRpd4XpaNWGk0KIgcAUbe2TGmEkRorLxAQQxwcuN0to2nzF8mG-dW4m9Z3NSsGCJjR-leUsM0NfHZDdQG0m4ahASMSFecrLV7EDiGmyjQZt7ZRyn8lgqpqpu0nYaINeGqWFxt0jxSnlUC7+K7CM22a8NbwO7gGVM15DbUYqiCsMyPqOaWmFhCzbmU0V3pyNam1YAxs00ArBlumzUjFso1JbjN+oshFEK0DqDYhPA6AZ3AcRBaNILpFLTgk43ua4tBy27hRREqRbLN7G5CKVs00la6AdmjzV5pQWZqKEfmkimMxegFaLCNWsLWmQE34xX6AI1VXLWGXyAylFUcZdBCnS3yDg-wY4Lwqc3DbqcK2lptg3s1Tz+oYinECaNSXglkQHwIUlSPEUHbbRUBaCCiHSA75KtyQbTRE063iqtU1AWZixD63zxRAgmhQL1TJjDiF6tfPvhGSW1A7VAixKVL7QqoB13axxPjtJsdYNJRtj2umL8WCVfjRlsskeIhWahXAcILMJQIT0wgpZ4IMxBHTCzzBbaIVM+chYXhj4cUVR+pcQATLHmvQ6eH0OHnrOZ5N1rtd3O1qzUhYyaVoizHRnts5WXas5BEO7c1BR3PaIK5Op1hnkeWg7flzy3QArqTi9VRRQkerReWgFewAAnHJBh566ryqq5+J3yXSw9oBqqmmm4Anrzx6pNnBbd8AdUQ8z+kUOwEa2wlI8Agt5aAYoGKbFMXoaAUPZGrVmf9yo-uq8rFNd1g9zA0elsB4NcCfIPB8xAUHYHEj25FS--fwIntt0p6b8ugG0EGMT0LCZAr89+RLNURdrytwQnYd5rcFy6SKFeq8lXqV0faVdG2laq3rfnSoP5f2uVFq270mQsmLMVAliCaA5h2mA6moSmC9iiszWzzbJqPr80AMZIizcOCqSsiMAp9y1UAJwxYj3BSCVpckonpIpiRxIWrS5aArJ5r7-oGFUWiGHP1nMnNKYXdKDCtnvSVSKqzdtuyvadx39SPQ9fRMLWtqW1K853EAd-7b7J9PeffYfuP2+pfdee63THpYiX7zSlKy9ruwf2X7gYn+waSYHekaqig5+jA5gfEhtMj4Eo3tngfwONd89gQyZcEum0tRZtViV-ZttFlE7m0mYeCCmCGHyrmdBAESoiDREFa5Rl9M7ftvN3MjlJmqtMlPjAR0AeInyIkH5r0nQ159uURffyzDEwNV9P7cwhvu2krdoaABBRJIcENSkZD4u4NfIdYm5Y6ilhn5q9vRirCgUNw+QJIFIZIgToOzGBiPt4M18lANhvNK4eEP07R4iIPjp2JrImKEVZagplit81L67gI+4poqMUCEyAAOlgFrXG0aoHIfALiCwZ3acKblFOP1GD2sQd9U+8snJGH3dKsjZ7HI0wPyOFGip0qagA6DKNhjeUhAVAjWDQ439FAQx0AAAC9Ma5gfI8kGmU9G+jHjOnZUamOJpLEtRliPUZ7yNG5t3sZQ-QDUNMQsjRR8uCUf6MaUkmKeXw6TiPqkAj6IzeyMU1mh4BmjfCk490fOPLHLjvzI+g0DuMPHFmmx4GEAA')">function use_index(pat) {
    return is_string(head(pat));
}
</pre></div></div></td></tr></table>
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.80" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.80">Exercise 4.80 </a></b> 
  
      What is the purpose of the
      
	<span style="color:green"><kbd>let</kbd> bindings</span>
	<span style="color:blue">constant declarations</span>
      
      in the
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green"><kbd>add-assertion!</kbd></span>
	<span style="color:blue"><kbd>add_assertion</kbd>
	</span>
      
      and
      
	<span style="color:green"><kbd>add-rule!</kbd>?</span>
	<span style="color:blue"><kbd>add_rule</kbd>?</span>
      
      What would be wrong with the following implementation of
      
	<span style="color:green"><kbd>add-assertion!</kbd>?</span>
	<span style="color:blue"><kbd>add_assertion</kbd>?
	</span>
      
      Hint: Recall the definition of the infinite stream of ones in
      section&nbsp;<REF NAME="sec:infinite-streams"><a class="superscript" id="4.4.4-sec-link-3.5.2" href="./3.5.2.html">3.5.2</a></REF>:
      
	<span style="color:green">
	  <kbd>(define ones (cons-stream 1 ones))</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>const ones = pair(1, () => ones);</kbd>.
	</span>
	
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (set! THE-ASSERTIONS
        (cons-stream assertion THE-ASSERTIONS))
  'ok)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNBiQuFE3NFEEtAoLJcgUQh6GIOhKF4mJAvdVJ0gUFgyH0CappqWbwlAAAfPbFNFD5SGqMQNsULaZrmmIDqO1IWDkjghAuybpp2-bDpfZaMnGy73pu2I7u+sUPzVKVNoBp1zia8wRpcxsUOIV6ro+iJCgC-i3Uh7bKHCgbkyW+4xAkYQGFnMEceunY+mJ+aLwSN1RQQlGodAAAydnen6QYqY+4SgUoWnmDEfGsFh5JlvIBRkb5m7iMW0URdJ8nQVZ3GLLoaXiEKiKJepXxVvwRt8BkNJtfV676cWuZ9AjOX+T1y4WNFc1qDEOgZdmy20cxxnJeJlWKZ9ygLLdj2va06Hxedtzw8966GEMQ3Hr+t7cetrGXFtiMc7rEPJkdmPBvMePI4YJGGGIAAPQhAjcZwC6LBas+5kYI3t-6M6L4vCdFCplDYchKvoJuFdbpXyBJ2pVbnOWLJLIQQIHoeR7oeFPvuwOZ+D+fRLzU6HQYFfh+y9fwmB-1J+nsnd676nRIl4+TFXs-dd7liT7XpOU+NsflhtjzO2+c862gdoXfG+sv5nwrlRKutd66GEbg7ZugD27507unK2Pd9bDWliwYQ5B4F12IA3UeKC-yK1SMrHeas95iXwYQ4hiDnDv31kPVaTDFwUBlqNH+RtdT-1iItG42Jk4CIYKbc2MtuCgLTqjOaRd2GMKIY9YQvghEt39m3QYHd87gOjh-IaqRApJ2YFoSOmiGYCWvkHOh99ZoWVMR8KgxBI5sNjuYUxNcSFkLoFYtBuj9EOMUWLXBqQ3hsVRJ0Kx1imbUKnnYueISF70Cic4H4PiWH0A3pfA0tjaHJKwY40SkTqDRMbC4ix10PElxcGUipDASFsW5FoAJrcKYMECDIEO3A8TR31g0jJjZKRtALN7ChACOmgi6ZUXpoBSSQM8fUtJ5ThkME6KNLWNAcyyxCfNRanTunzJ0IY8JScxnXWoD8SGSDURj3-P+P2NiEk31npTFJoljDtCuTc-6dzWEDOWY1OCHwzGuMsZM4Rrc5EFyBXU-skTwXVImfs1BMKgF6LAfsnBwLRTsA8F4WJVDt633scU0OokCXKC8LUwm1KvAMDURoqF0LtGwvAWEvFqQNCEBBK05BaLKET1eUkj5FKw6ED5dQAVOT4WEyflk0hSDyFCqmeyzFwSKVKOBcPMQzDlXNXaRq9BtpMEKIgWcAmLtUgH30D4zO2iClkrnD4iyxR35GPMKKaoFRq4On0BxR1LyzGnToOdW2QaL57SJnayNVBcUIt9TXBgRJTaBoTc3FQxVQDdEZPGuafkSV2u6OEUo4IPWgGaN0LlCL0qhv6AoHEbJuikizeeFqQJ0rNszL4RZzz4mgwqODQYYRdKgHSJkKt1Ja19xMRkZG5o0zOGDYOmhLqwRLs0s4JxC66UsTeIPXgKr-GkAXau7OmrbRnuwkshFN7iBMvwOo7I56s0ksnVkLF+xz2TBDKUYO4JOj2XIL4ahZ6dZ+iUrCiMD7LVOwRR8YIj6t2xWqAwZN1d9CoZXVm18PqPz+r+Nhtwy76C-hDOePNQJMOpqzOmnD5G-KGneAIZQiRAizQ2aR7dOUTqNsBIZFY9b+PSxxGHHjqJ3KiYUIVGC-BxOiUY3QaTlBAjS3BGhf0LNlPcCeICAAfCoDjidlMNuls+PCx4iLknODDYFSHAhdIXRhxgmHX3NnbTmjiWzGSHvXCejz1FyT4dSJhgNPmyB0AoysKjfhGS0bTT0yLSRDwNHPOx0gnGQIPvM0JIT0wRNqcbYp8ED7VPqdk2loopVSvlZk5pwyLMH16fCACIzmXsvOY4HlyzjFrNZrs9atyx7H3uaDe+kVoazpDCAVGsWHABAABUAASABRBgABBcA4A1sACUluQAAPIADlkBAk-ScL1LgZCSDUNxjSqJDAZsoFs7gchtYXrKMYVzfqXtbKgyUcQA5MMz2U89lL0WQzNHrZ0Rs4O72E1h5kB7ZH3j6fHto1bG3tu7YO8ds7iOWL1tB2TcH-2otfaK5Vt8hG6O4nTZD6wEnHvOAq42z1eAJYtTkIoCAMB4BIFQGgXqeJhvmGIChVx8yZo5gOVN+GY0C7SQA+UhGsD1x7O1dJZoootYy2V-6ADckJL8NThrgsRhf4mzNvrrXFruCy8B0pV2Ur+Vn0NwaUovK2AaMl-maXiqEGGtVdqx3dA5daegp0qRSNnt6oNX457Dtw9y9sFBXXqQsqUGCAwCaLBqge4dirloUu2nZ9z-nwvsUc8bLdzKov+zU-O9WETIZ9AYnF6N6Xv5Ig1kd-kQDZvOuiYcIIUQpVfjPcBkErcR9EsZwqKaafXhZAzfG2T03grfYx9MOZQXYf-pM8XJ+bNa5Iz-n9-8V3r3PfKmXLP38t6ALQ8O5aBHlvsRj9uM0LiKpbjrpp9phAwwYvQR98UuQiUb8Z9-dGwGUZcP9wCTEs5kUADUVtdu9YDZl-ZUDIVPknckCHt3YE50CLUS8sCy5AC94CCM8iYn5oF7kHZcJQAsAoJShYCOg2l6CX4mB8A89iol5n5B4D9385dCCGDBUMDb8sCJDX8h9RDP8wwWgstgh5krIbI7JHIDZZpyBq4PIvIODXFPV9YfcNFkRuA9Ux0-xQsmlToFA1ldkGAF9kQYsihFpTDbDqB7Cdl59ll9BzDBBSAxAwgaJ8JCJ3RhQ3wIl-pygnC-CXD6YYhzx64MgypDCuDlkn0X0XCo8dIDQa4tARAq4I84J6BLFt88jGpMjuFtZRpnsciKi8jLDcjKj-RFUSj5ASCwQEjqstEQ1TEkZRgaQ2A5ohNSgBi4E3hCiwQUiRjFDW9OwNRlgwiTwFQTJVCAj1DbIHIbtgVKBfASB9DBA3dfA5M8IrVrtgQZlY8qJnsfFDBm8s04kXBRFsMgjDM79ODF0gjm9Hda4QiLj9YsD28tZB8NYFDJsnVwN+BVA-cy89k+9GlmkG82kU8FD5jx10iET0kB9+DUxT9xU38CDQxjJ4SLpET1lNkotXJdkRCndZ0WIsDvlxkaAn8poX9r98CP8vNWMQVSAwUPgFAQIkZGQCssT-DQUQJ-88Cw96SQtIjRQJjNcJT+SpTKAhSLdHQni2UBIqhVSzENSkY-IVibMVhFpxTjAkVpSqCm85T4xATgUY8zYHB44pQ7crCB0XiNB9A7cPioQXSG4PZag4RuB3SzkHNuRGB8B+AhDX4ntiUptmTfkL9n8r8gDgDjiSARAjBIzJEYzZD0c9SBTzE0DCSoZmdGjYhDBczozl4X5T54zLS0lcCbTtU-0SSiYCz0yZJg4Cz18wTsFFJmhLsHSEUsD4DqDuTiJzxmVGQGUsiWV9k-Jzw9xO1qQaz8z6y15ntmVqtzwAykEgzQhGQnTQZXTBhVzqtzSyTmU-jCiyZZdSiuiZwGwHjKzWjpgDziDagHiWCPz-yYgndwyxy1xsDlQWzSD5CndISBJEpH0lTLdt9xTvFg8p80SgKGS3IKDAznzJy5ceSqQRSgRxTKCuNK5J9At0KP8-J45+zNSSNDyuj+yRCkZm8i1W4jTRzCYZCtzG8JUITiJaLxFzdBi+zhK-40T3yihxS+zyLULKKt8AL-QMLPSyhQD1QxYudlkec2p+dOohcepLBxcA41MYSNFq4vt8Unp+h-ELK-zu9q4hzlDTJ9Bq4LJHpjYbKWha4TAtBhAAgTBiBqBdlhBGhjDgU4K4i6kM0eFJAyBfzbyBLVLANIZYiJZGt0IajV9+TuBEq5T7Mk1oi3o0r4jLLRVClujUliqij0r5UWIn4sq4r+T-Cvsjk5kZA+k6q3In598ZBWqZljkOqFkurzB2icwnzLE+qYK3Q2qekhrTlMLrg58wKkh6KpirZpq0Q1YysUCkZNNs1ZorYidjEVrGBBikYyrSV3l9BWLRIELINjqvFdrJj6BpibqqIvtYULrgLuLHAvgkFw1ijxrOjLFoLMcBIIx8rLiiyQIPsDcwbVLbYobzwhZH0f99igaJrrpGQRzLjIq4bkZxLdRKJNcPTChFoWYibfy48RqbtYr+z6jYrngMZyaMURgCbabWptZNTGbPtIgWadS3QIwObFqXACiZoHyOiyjACqaSaEr1g0apzkqZoxAhYrcBEx0BZgQVa1a1wlhQxSgWZ8bYr1bU5qbOgwhcqFagaMTmgOBw01aqbwgAAebWh21Qd63UDEmIdglQ6ccEJbOSWfOgXwQIsQXgSOFqGkevWoZocEUAAAanssqJOjOiFA0SdsTtEgsizqkupDUzTpkA0T1vbL7GMj9ohEDvwEamIHsjDojuuijqxGlVjtElzo-NTvDXTtNo33CCTv2vjqTrzs7rEG7pLp+pYnykIDosGKJseOIiBIj3JjkmxARpWH1mrJelltzAtsSL4ihLSF+h7q9vfPYKXvRGxDzsAr+vwABv1UfJBsAKAvfOaCJpUiBFtidrztmCARLrztfsjOAQfGt0tvvCyHHuY1iAYkFEiNl3fvZFpnRtxAfult9j7HWOnDntEmskenKAnW1jOPogG2IlixzQJsZBhqcJNrtNDEWk3v8QJoZv8KZpaLyMYbj2Yc+16Kgds1Utl2XqIHtWoq4pYiEut3oqwbXHnvJEXpzAEdXqVvXojK3pAblr3pdCm0-WPv1ugjPrkYvv0CkpmkHlvrOkxsfu9mfvQlfut3gc-pAe9pklIltj1pJscaUnoaAbAgcetFtAgZDG1BDFfDga1tRqrkmgxpQa6PUekorqwfUNwZEHwZliONIqjkgaswIlWL7HPHIaBEoYJqEblwybcNbk8cYaps4ZlgrKUvYduKqcdBKYYgYnNPPpXqKcMS0rqR0r5w6kF26hFwwGMqJjri8IcN8OipcPRQPvXWus2NGe8OCoeqtX1gWfGYw0mg4Ejg9ymeFRNSCVtASLFnPDWZ8KiuTDXODmdEAzmH2tiDmAnBqYaEAw5DuZiA5EedYcAwQjecnDgk+eue2opl+YpgBemEAz11+n2shanQNCeaKEA2Cj5VA32qRaHlDrha+e2owbeYwb7HhcKEAxuCFg2RYEME02JdUFJZahWAJdiEAwTt+diFcu4F8DayMz0KToxbpZiEA3ciZZiBZdADZY+L0K8m5axbnChAFYMDcuFfZdAD0MhGFZiB5auKleABlaFZFfa0VdADAAlcBalYAFItW5WdWOXQBjWVXQA1XAMBYmXtWFW9Cta2XJWwRwQABCYSR181510Ab1oEN1o1j152s11l-112mIYN8F7a52gEAVp10V0AeN6Nu17agzcN+V5NozNN91iEAzBN7gIoJN3VvQwtvNkNiET1mVvVwoXVmIT12ICy50J0E5uw9Zp+KmwTFYV4uYbgU5pZ85p7Nt7zDts5p+fAFgAAK18s7RDFeORA+O+fHaWf2thR6NYZq1XccO5ydCKl5MHccMXlmkubVkA0WP2sWLVaUt5e2sgDoDVHKVOOLYfaff2JvdvaJaoCpdgEgDecpYYD-c-aUu-ZJbW1+cA7WxA4AsAxO3IBOxlfg5O3cbyNHcPZ3cfRPalJAZ7emFeOUA+NtmUGZx4Ew7xJcVPfQ6pCPaw4ELItuLw4aAI6I6vXGk3DI7GbOew4BMuI8No+HcbgCL1Qpi+w8PQ3FFIF9zMenfIDzGrNOk0EMcyvI68L5VLJ2YcBg6KBE9BARCKBEbcmAixHMdQbBC+3FqKKifKOgl5QlsDXI67dUeTsqIE+w4Zu09iDs+zIE8nZnbne4Cvrc-o+FNuM8-ecQYieQaluiYW0kAQcfTEC+BYEyRi8jkZGM+nus8AP3a6Yudal6YFy6mF0wGGamIoFMAYB+Q+CqhuFICJQPmuT+EupWjWmnC+uHia+wk-x-tNS-Xzka6fDlH7oYEHvzrDVHqLtmz6-esPma9LqMh0S8dm668aZWeBQmhuAuRqL8qMALvDTJsFpcHIGUHYwUAyGlyMAsNO4VZaiTuw1O-gfBHjvLXjrjpzqTpO5I63e3Ge+4BHoBIKsJgcG4WMD24m4sKCN-ITxB+HmMGeCeVZu0RHqzvBAhCzs26IWMB26lFeJh7oFB64DDomFR+sHBEepVAJ7h8fVGibT1Ra6Pvp--VEk-W0mmGP2Dnp45nZmkiiMPsyGW-p+jSW4jCF4DdUg9R64MFti561orTZ9v3K5O5Amq9ijq6JSZ47L559xRMbi585iEz1wtiD18UCyF4xPLXR6Tth-5Jp7ICbRl6h7eLEELnbr7HjrG6JskVt2N8yIor16COG5c4NA96zpt5+1p+m4OayEsOd8Lj7qE3hAV5WGaHD+RjElBH2r1W4DT6YHt4W5d1SB00D+Z7T4hB+e4GDkd5d98Zj8D9I9z9p8-2PxHrj+Z-BAAHIxu9VUeu-odxvC6NF6eKe1LCequCxSANEflJ+GeBeZZVp1pbZp+Y2v3tqhBhAB7ggB67ItIWc0wB6H14QC+gcy+l+J+3WwH9Bl+G+qfbe8-SAeJ+-T+gFr-a+r-z+b+x-r-RbQBZP5PlBFOoXTXLYQ8DKp7UtcS6jr1lT+IHUzPQDFALfjvY-e8lRuA6h+7MdvSf-dYAAOoCaBNSIA5QMqkh7BFwBhAQuP3yN7w0IBcA7ah6n+7iMpEduUgcfy-zeVCAP-ZfgQLAEOo8MCpHlPXmgHMC96uTTIm-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-Ps5-zOgJk40gNlfAVBc5kifxP-IgVcN+apC8hYwoEgtTrpbw+MD3P3oCQ2RPC6EdIt4YIZgedALhTlMDQLg7w-E1SvZKBDaL3JN0mfM4rakRDWBXkrIIQFsVS8CaQU10TYrCkwFxFRRSKeyR-mPBfFA7OxUzUCV2pCAbacKWErJgRLv51AYjEkoHZsg6R+rMAGQshCBKWYvi8IKlO3nwRSQpfSxUXVQW5T84pSoRdHIaWkgmlsQBwFYq2mRp+kbS7cJGlaUHS2iTNZqa1Ock-8PCRCB9EFm4CzTXsUWGZQtPsUsYqQg8GyuTMZkzQVZnXB0GrMznLkc0HS2petNFIThDluIbhbMreyDL-Mx6ZBM9EYBwZelhQI6QwtTlnLXpIxJ7qMtcUZk7pmwrEuPx2lBYFyG0e5eTJqkPTJA3UmnO8vWmYz4u2OBgHtksgAAZNbOdgnS-RiZwKFGfdgfQQ4EZdAX6U2NGy-Ya4FOVLMzxJyEYZ4+KilVDhcHI5GwdKzmkyvJnPYvsiK5FWivAAj9qVfqWlQugJVzLUsf06cWOOzIFZqcJWRLPRmSyEqapIferNOPhAFTpVYmSWXdQXTs4NMAE0RicXZX0riVqlf6VQEBnbgH0HxRohMvJnTLJwIqolRjORl3Y1pQqo1RjKzlIJNmj6ZfttMn7L4HVGk3rGKsqxOEAZ3pEMHkyMyGRSx3nCsc+KlAVE1QZOSTEakuXzKnVFRGiR4TpXprEZHqrdhU3wk-8AVvq5fkGuYkEUBArQJdl2kkB2xphfqi-uCFLXn9CGzxImPaJrVadFIpQL1ep0BWT8m1Fa-CU5W7WcljhlAZ7K-3im9Zxlnw3LLnmhnKZLqUyldVgp9qCAF1C6BimjgyEDAU1rOUeCupH4Hqvpx61NeRizSOYUMl6tzPer+wnryQUUNgIerRxrlEVuOfbIdlOy8ryQn6nbN+oJwYqdMd61rB8WNhvrvhAJE6eCAxBvDZhccbdY8DgzXqc8TmXLOhncxwZ9lvJSDeysZBcrUV6KvyERp5WMhmsC6cDbq3w34qryrcODbSlFGpAkGeJadn4XuKHjSBgPaGpKTY3OxuN2IkYJxpH71wQIbwdjSiDuL-ESR+cETe8LnThNf8x8FIJJuTCCacJP0AXvJsQ2jU+NwUNTWCE43dCI5PG-WGJpU2GBDN0mwgBBI7WpizNwKGoGIFcRkxfVxmpsaZs5oJDAB-BClBpvRixB-hwmmTT-wk34Bqg5JazSOsqyXVWNEmvwglqk3+L6aMmfvuFsi0WaktpgTfHQGs2KrPiriQdWYT43ZaPkeW52JbVYK3si1sWwxLViAwiAB6ranaftQy3RZsVCKAzRFv8QGbKtMWxtHFqi6WbDNjcPrcltum-QiJD4jcaRITWDAxS8JYrSqTBTjbTAGU1TZVtI61bBtkEBoDRO62ZbSEy8TbVJo21Watte2yojtoszRwGtW-CyC1sn6otVNPW-diTOIAua2kzRWdZWqbGmrQJl9bcFGuq2tgtNWQJ7Romc2ubltBQp5XkUhU54npPUpqenlvyI7oVJWERY8mnSfortSIVLcWqtQNad+zWpbcv32rQ6tA724FDXBMD8AnhZA7oeKR2FhMkuU7VLsDTM5ZyfNoQ+ij9pu08QiwdDcVdBMB3kSDQIO0MHTvYxtIxRS8a5G0jzq868BcsZ3qA2lF50bq72dlg1OGE5hAuC42IFsU0IuAOIhco4oPVYI47Cg4IFXWEMgwsCigfazqVCuR004RFHZPHYpEF13aFMduuTtgN817VHt5OttdwHt2al9254G4NXEs3ItQ6QIAAJwnAoE7EdFgxLVHAo0WoGPLBhlGh7dQy1cvgfzzwmuEiGmY4oT6XgYEyoxsQHPRog74d8LIaAVve2r0WV7N59e9PaBgTEfBV5i4nvX-nFVq5MG4qzCHNFDIeRQA-Se+Tw0KAN689o+q7rPjj0N6s5wGUDNCWRjEFkMA27CXZMJ2VZ8YDWzfWBiYAQYydAeLQMVqz5sAQM5+juTToRQpC3Ay26oKVFXBkBHodyEVoApmmMgNBeQglbb1pylRUeRwI-n5FfC7JSAP+59uLycVIJ7aUcRBaxCH0QhPIXkV-S1GX7ugCe-AGIFgd8gbr0DIUdFvoFz5lrjgGY8IhEAYivhzhfBS4QeqlCtBy9OnZDY+iXV3rsMnwszPvnYPpiYD3+0xvsUQNfJ3Js0DeF3piAN7MDWBryMpi3U3D9CihkgxvOab6KGg8h8EIoc8jzSdpF4C6S1H0OeR293e8g7nswkxrxV5q6CFLsqJUHz+Euj8vLolHIxWgGkvTAbsagKs08UcyHVf3+6u6kdcEoaZantLmL6qfGoQIYHsjrQP9-AemOeFaCAGFpOBmKmDySMCB+6kBvrLk1iprkgjXh6kKEcx1iYIj7MkNFowJo6MZI4IOyKdLUBnRfJzAKSP+FT638fsvq9w6yTaSlHbYdR0jtrr8MfE0886qDVNLvX0wb156+9WSqwxPrCgAGvHD+rOwUalw00miasaA2-r6N2iRjQhpwA4HltHfVDPoCN0AAdLAGuqlTjja8MgYIE2jx3CsI2coaCM3v3iiHjAhUU476vOOSZLjC4m43cfLG8EnCzxjNOlN4CrhSOPQFmLCdAAAAvDjqABuM6d7jRRR41Cd8M9BUTHxnSF8fBCwGf9yzKCOLFiPvAEj04c41ibJg4mH+2rSvmvwHosAB6ygAehv0mAd8nQeAf4y4bpPgnGTTac1iyalbkA2THJrk0f2JO+QgAA')">function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    THE_ASSERTIONS = pair(assertion, () => THE_ASSERTIONS);
    return "ok";
}
</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_1_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_1_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

    

  

  
      <div class='permalink'>
        <a name='sec4.4.4.6' class='permalink'></a><h1>
    4.4.4.6&nbsp;&nbsp;&nbsp;Stream Operations</h1></div>
    
    
    
    <div class='permalink'>
<a name='p37' class='permalink'></a><p>
      The query system uses a few stream operations that were not presented
      in chapter&nbsp;3.
    </p></div>

    <div class='permalink'>
<a name='p38' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Stream-append-delayed</kbd></span>
	<span style="color:blue">The functions
	<kbd>stream_append_delayed</kbd></span>
      
      and
      
	<span style="color:green"><kbd>interleave-delayed</kbd></span>
	<span style="color:blue"><kbd>interleave_delayed</kbd>
	</span>
      
      are just like
      
	<span style="color:green"><kbd>stream\?append</kbd></span>
	<span style="color:blue"><kbd>stream_append</kbd>
	</span>
      
      and
      <kbd>interleave</kbd>
      (section&nbsp;<REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>),
      except that they take a delayed argument (like the
      <kbd>integral</kbd>
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      in section&nbsp;<REF NAME="sec:streams-and-delayed-evaluation"><a class="superscript" id="4.4.4-sec-link-3.5.4" href="./3.5.4.html">3.5.4</a></REF>).
      This postpones looping in some cases (see
      exercise&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.81" href="./4.4.4.html#ex_4.81">4.81</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-append-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (stream-append-delayed (stream-cdr s1) delayed-s2))))

(define (interleave-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (interleave-delayed (force delayed-s2)
                           (delay (stream-cdr s1))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHR0lVVRdSeRpiIbiEpKLi0DmF2sUJNvklQQoVx1EAD1VLOjoVtZGDMf1nya2UlzpyHr7I9roikkjAA5hdrrd7rRATF1j4XoZfABIczTJzUVSidzkaiMRwxBqULLCVawp7vZLBQ6yY6KDFY+S4-GsQnE8442bzRbLWiPfKjPQTD5pDLM4gAE1cKw8ZP5my2VMiYslJJleQSCPlU1F0myDXFknBN1Edweso2FKCoBYknKokcpxJil1jQNjlUwOyVixNXqTWkMPV8Mtwo+Lv1hqa4v25vhgq1KTRNVEAEd2lpKOEyfcnbHEiHttTk2mEpmWtmpby8894wWRTNRLFyLUauRjjktHyLcLgiRxaJ8ETROK60mGqVSOUuwUe2IlePqJPpzpa8Kk5ZrLZW+2EsuE5S5+ENzZiNuFB3yMvNaPRZJTSDiBe93XFeE7-cH0+89eUfWnI7zn7UhdWxM0g0SX9zCwX9XxpBRFAA2hHCAloORUeg2y0ZDRGAvdrzXUUUM9XNwP3K0iyI0Cq3A-CPnSLFmEYK9QAAIgAVWIcpiGoAB3Ow6i0SRLlAABaETDzg0QWIMABuLAAF8BBIM4RF2aR9kEXRgRBOgjFMfxKHwUBFBmG5KBYKVxHtRDVkEAw9IpY9bB2LkWzMiyqCsh1lKdTSdlBXS5P8eSxADUR7CMkynDJPtvKEB47IclJ0O+UBbkIaRyFAABeCS5HgmzHCjDSSDeUNyqKK4FAlC59EoZhH13OsKtDQqPXcHI3EBOztGalqPm0uhev6kb-EK8Z6toJ9EtkxyrBPUUnNPf4lHSzKyJSYIltaKIxWqy81vzCr0j7Ach3FILzBC0QwpMCkGNxBCSF0djOO4viCB8lZQGbTFRPEtTamky7QEUxSsBskIHB+XodoBA5riG+M7uSJbrTmIFQRygA+PLaW0zUxkR2bwchot0JVaVpGY8Ykv8NGZnIRhCHIAALfZqXy3IJUrLIWmNSUlng6tNQ2-xYK5zwedVctoVTdNLxF1cCM52kKd5t9MqxNkrLw+M5NJr6RCLOh5dLLMvBzMDhn5TUUf8FKssHRhvlbFgfhWnLQD68xVYK+rXe+HdOxF2mQYi4yZm2laEIDn5vnduHRHs+2UjR53A-IROVvD67bv0oo0b9jocNocUz0bXdQ9eXOFKU+KRC+GG+hId9KAfYdFAGE06YsebnJtVQu69HHWIAKlb+94nFMeWN0bvArriGjf4pZT2oFnsOA4iVkDG2NlTtL+7sGZTZLDMLeGK3qP3mdZ12TRxUUOg156TfKJ5ehY5d+O23PKvSJlVGuYF+kh17vxwiBT+gJTYUwrl+QBYtUSEUgTvG+cIjqzibooD+JJfRdGptWJBIpiAZWkAbeuKk7BFgXEub8yMC7mEdqAYqXtaHlCKtQaMe5w7MInDIBguVQHgJ+Lg3eihiqzQCMwyeH5p6CKhq7WGsj27T2dIuARUj6bHzxvBYqRNqrlwmg1J8-CAzDWAZYooKiO7iiRj7Kx5VaYk0oSSCSjhtpB3-iHGiDDJhoxtHaDxx8k6KAcbo1aISrjGlNOgp4osKHLwbtQpUbdPwANviuWmh9mGe1ysXIEU8LxJyNJCa2GCaxh0mGk08nR-ShJqcUupzQ9YrU1OHNGOcl5kyVGIuJts-EBBqfg+pMc+m1L9C0pW4SPgFPGSU6JZT+kbAsY44UziOk6NOoOaeiS8A2QYPgZgbAoBwEQMgdAfAABMrjvozFCAyQhpFD4M0yIQRoWI9zmAAD7fOaqfJmRIQRfNAL8-5TgmjNFEGAr5YLQwzFIdIJ5mSjD+DhcKGY2zzo8LrpDB57gWgx2rCYAI-idF5kSZDRmkgQQgmHM4aGzE2b2jbCCXuR9NwnycB6eqXyABkfLQCs2hU-Yl2VxU-WFY4VllKV6im7l8xhHKFrUtpfS7B9CWLd2Bt0uVzSWiwwVcSpVaNhWSCfm2SgyKKkuKSVQ28RSMkVJeTo1VdLy4at8SxRpCQdWKUhj6rC+rFVks5UKkVihLXUzNRayQVq9z2RcQGx1WEVqlJNFCUkzyTU6JjZGuN1Mo0JttVSpw4yQ0BFedKml7qGXfGYixR2YDRGoKosQaSoK-nwqcKy2tnrMkvSkIwTM457TjI7eij4br1WMs1YVcdSa5XzODcawopqI1FrzUWoh9kKGQ3mWmxZGbylPFTuu81+b43bsQbK5JOo9RuiPbErNKKz2up7TWmd9bNXhkfRCY9tA-V2rcb+w07UvRuBGc0PezrGEBIxvq34-QvS6C3QW4te65Wgc4dw1d2iw1oavehndt77VRxCV4yuPjX1wffdWtVHrZ1es8X-Kj5AgOQ22k+zNFa+4EY3cRwBpG3EzHVjLXjfGVUfoY3WxWXqxNU3Tc+idXaMXSb7UxgdrEFO0HCJRi8HG5U6b5u6Swgs1bZrXTopuwT8DMR4Iuu9xmLb0DNtR2DVmw02csHZ+hVzHP2ucy0GQbgda5Bo55ha3mBzMQAMwlrlafNzVBL7qGvi+2DSIkShqk-RjT36vVnwVmWZkV9eaGbvRnX+wc5MRfwwtQj1qngBbcbAsu8CnWnto-xi9Rbr0ot3bqu9Mx2ESeVc5adjGCtaZYuwir9r2E4ZjJZytuaBPxqIcJu5Tg1KUCFieuUb6w2Tdkw23b+3AMte+uNf9z6JPntjRtoTuK5XaSU5mmDXXIvOUa5eprcpBvg32SvQ5xz2BnK4JctAsXbkiEZszNm+xLjsqrZC6Q0LVjI+9qGYIlxmr0UYIxRQlwXpo4x2Ia4OEFDil0JYUgohKBWXFKkIDwHvqBOsivRQ4HOpYiRvowZ9XnLYMbV4WKNk54zJ596F2ugBdVP9Yl6KYuao2QQijujvav2XnwC9GKquV7zbcW1T0vOXbq5dV56GtmEK6Ac5hyrK8lsW5zVb12PnbegH8w7+1406omN3PgDXbufge916AeLW2RAc+CZy0J6F9rB6i4yli0c2hSV0AnjYPuRNODT1ERQK0k8TfU9rwv6eXr5-aEb76Vf7RZ87EXy3DX1vUyLwlu9mhgLUHuMQMExipq7mya7haRaFds5EFVh0HUlDD5yz9iN4-mHMouE2FsA-GpaC9oi8hsO7Ax6OV6Z+kzzGgBWrpZvzkeVMX1Ujc-V3J8z6gwGBCM+9KktWz1p+h+cgP7sD-+0c-V-L0d-fwefOwItAAjve1KqR+WqcQSaTfS8W-XQSIfnO8e0OfT-KLTQEENmY-AhC-cVXKdHPvfAtA4hYIa-RQA-GfAg-0O-TROXDA+A4hdIUgvA1meg6DIwAAHhCFwPIM0R9ipEJ0ehYgABUyh0ZiBah-IQR3kEgGA6AqgFhKBhx0gWJQAABqbHKxb4YdPvQyfYW-IwXQueViHQvQyxAwoFYw8vAMeyH2AnInSQ6Q-AUQHieQxQrQZQ1QlwDQyw3QmZZIWwow-AEwk-C-cwl6KwkIgIMIkEewig6AkDMoSoaoRDGOfVO2JVMmfQZwMoIeLAooSGYRbg0-Cgw+LYKtHfCo3SeI0AKkAo0oDEMJNZPQbvXvfvf3QfTsZxRo9IfVHKCVPNUwxo7YPNCgiYkUcootUw3QItFI8OAIRSLYQyYycYEY3KFfRsVQZseAxAi8dlLYB6G-E-F6DiJoPsUAbVLRFIPOU2aoooZhAAr2KfAAg4GuPqNGcogA5-bqN-VZRxf4oAqA+45INY4KcAwUQoto8fCfOwYZLI9PCo1AmQXIyYfI8QOE4o14Z48wMoteeo9Exwgk1GOjOo8YkaZonE1ooeCYrvUobow4gPfo14YhZIIYk-bY8NC9ak0aYIU2H4KYgRUkzkxMUAOY9DBYn6dDZYkMEKEMDYr48QXk3YtfVkvoxIckgIM4tE1iK4jeCUW4keMSHYFNdjCE1Y0KJ4pVLYV4mfd4uOafI-KpcqX44k-42-YA3-YEqxUE9PQEkA606E1YmE8YXE1U21YHZJUHVgcHTgC5XgDAPfUUdySyTnZJJ6YgXuKtLXKbHXZ6ViDMzyKSP-UAUsxne0cyBYNjT+HMvMtbXrdDRKRJZhKsryA5L2bBS0EXGNCw-wGNCqIBZIEXKNQc8wKNEc-08wEXa-ScysuNRgGcvslPJuRcpuVcooEXBFMhCwvcpFYUUcgIEXSUOgBYSQIGXQc8y8uQj4E8-wEXM4ycs48qR8uclPG0NmWYBoOgOeb81mX8hgLYD8xRS8FibQxc-wYnXQWoIwbKXGYSXQ+8sCkXESaC8wWC0AeC0eYScSVC2c8CxQFiWeXQFIbC3CxC0AYSMeHC8wNClPYATC4yEnHChCpC0AMAQitc+tFiAAUhYsoo4potAH4votAEYr4uIOguErwt5PgqIpFwAEJxVZK2KqLOLVLcpFLeKILeChKNKRLhJ+DzBdKdyU9eDspMK5LqKTLcp2KlKU9sZDK4LjLQBcYzKpKILsZrLyKAhbLOLfKvKnK+LlKWLRKAhqLzBlL-BkdLRZoOzh0PJqy4oqEAScoQxB5FAY1dBOysyqFF4krzJMy0q8FqAGgAArKnQRLKjGQQUeec5KzMiw37GaIi5IfKsq3eWaLAYqlKryJtXwnsxlEXLFaeCw8a4cMCjop8lPSAYgHZVwa88wBapa5sGa2a4iliQCxwWASASc3a-aza2akXXagAUUXIupOo6JFwADlJA7qWKHq7qJTLFEroQsouqhr44ojMqthsrSBR481SAaxvrPrm0irPrKzmqyyxQg5U0gz-qihAbgbW9lB7I8rYbUqfrF5ESXI9hTMSq4a1c-JtIm5i8kTXJHAiRHBTpGB1IgVHBKrJApAX5h19j2j+ouraz0cLwGyeoZlyboZZJkght7VhSqgtSkDFBKaKdDFpanxwkH4JRudsauyncUDrDLFwaMJm0ASbqhl5hH41bibUrCoKrqqKB7E1ldaEaPYgzDb-ANT9j19eikDbV0csoV8QRSgGhwgN8LwvZJbqhA7dxerYzCqmAEzTkkzuBMA0yE93AKBHASxvhzgbRGApwh0R10c5a9yPkmJfsc7JBR1E0QxghfsljgRc7k4U5zDHAtDdDEj7Di6a7S686nCth0g27h0O666c9voYgbRkxwNqdn5AU+8L8R9nJJBSBSB3kMpaRn4tJ56RKGBdCgR57eSWItDghd6RQLCm6dg16OqWpd7dBEjF5Fc70SB2pTYJ7DCQQtIAoX6wQ77gRTY9JstsDnJEirCWISKrDh7DRTYx7O5sq3sP6XZRA37dIzDWIDAWJB6RBoHTZpUsQWBMY2VL8uV+gyFsGNp96d8WIQwkxsFtIjABU6wop8GkU-tCGjBfk+THtqZKGjBtLWJAhpIK7jI81KGd7uHmpggk656fg068FM6pxKH8dI4dsuQ9sGyBHqGKoEUj8bsYkeN2HKDWIgHdC0GWVMGcqI1BpGGEGfYtDj7ENDV1GnduMHh2G4iKpLGrCDGMHGAsHftTHtGzCLGkHZGDGSKNy37dA3G3AWAu7tRTJlzCHeHAmWIFzdBsF+HQQawi12HQniB77DGPGNokxEjYmFRWIAByY+7SAB0pshqUyepIiIwhlBuwNxksRgfYZp3CmevBuonIQu4xi9Npp2iqEXMBcUI+3EI+7idjF6d8LESZ1iZmdHaSSJzaUAQJvNfpxY9DdZlZrJz+nJiJqp1ZiNLZotLZpp9oFp1I76Fmtm0gDmh23aG4RcDNBGVQfO+RtQi7VYaJIh7a87T+CwjRpZL564AZ9GIea5u8W5ygfYkpR5+nO4OBl58u7u+VN0kF3hkXbhy+k-JDBVb5vJinVQKPOwNp0zJ5u4JFw+FUmYP5p0fF5414zWnk3KEMaxvoBVQFgDYF150MpK8l02cuQaL2bK0luFjNRF-FlY8bf-JlghHehc3h6gvNMVu4elQaGsX7FVgV2YAKZF7UQqYY4g1iDcxV5geF7VwaKpg15liVFiCF9m6F+56vRVmJ61ghM+lIbK+1qFmFtNLViVkFpZrkpc3lN1-0LG-ltV3V3OW08KalzINFnl54tGTFiwtl5DQYSVyYR48Ke06Vwl2uQ2O9X6WfEF3B9MmJ753hvNKtlF-U6JS4t6XiahW7TNH6WoTEGvEQBvcgQEb58t6J3lWtooYIMfdFutsQpiBtw0ptj6ex7t2gfaf8y51SVVxgPBDkBoe0c1fsJ+ftjp9tzESlo171Nd9jBpnYcUQVs984YqSlg9kGxdpQpFmMsAekNtatUdPKlmHYE0ulcgXAMAI5BM0gVmOYNwCPYyWBNxWLaHaHXwfG98RcRQO0WoWnUuRgOxN5uh6mOnXELD4R7Z-sHZYcWR+WDwVD1DCNPNPDzD+BiUyuiNWjgj46C0ugZDyjuU+NZj+B4l9GIJNsUdWWnJaGsxT99HEaviseQT9HWeCEvFdIqoFD0QFsHgXQVDxwfzck5hFQhoGT8KXKJD0gZT1TjZ+NMT-TwbdYyKTFCUM6NRXTyzk4wuLZOzkji6RU2N3Uh2aG5jr2IzkzzTsz6mRz-uqz0MKtKap+Zjt6g8KLwYrj3DjD8UUMq6bNrExLVzddwLtT0ADTq5Uk9oZzphaG0L0dfzu4DjlTxwXLotCzsL1LiOWhqL5+QgPThr7zkBKwatczjRVCfuj10Mag7BDT3L6g-Lwruuwb-qOrvr8TuuxrnNzr0AZhPzwzyr4zibxL1r9rsuxrgIeNumtz7FGL5zyCUI7r+Ytr-T3qc7nWmJ8b6rgrs-dPUFmbmU67hr2ac7pbvN4UYUnrpLlQTDyb-bsMooKEtLgIfdBwD0cgUDmg4r-NtgE91ojI0h-qEoRT1QcJdIFH21okU2ddjHmk+wLLgD0aFwx6FgRtriZt0Ad9z+f6OU0dHVcM3+uwW8+QUD9s6Gxnjd-u4V20Flfu2WuSZhf9r2fn9kUXliNHqoHVDsn93KaXpCfTkiwnmZnVfGmPVkSUPvcvPur9l7qIOW6gku43ovC9vXpmi39HCRIkfXnBh9iNG3vvCst3sEGOT3uWotH363x3pm2mz4u32BpgEA8tgL0P3QKAi92A1W6Pk39oGPt-ct6g3XwPg3xPovFPkAvjmYIde9mEk7bBadlibhldk+PWi+eCadgAzJ64mqIdRwMDiUdHRgdlSGFQVQDmMtv7prgv4EF95b5hT3thTPsEYPuguvt-KVtOOjFrn3xo3sYgRv8uZv1v8Udvl53P3-BL7v-YT30JH3xbrzw76g+l-vjnkNpiA-3pvdwNzPDEfYMdnl0-m6O0n4nRaJOf0GdL6-u-t8z44GFoULAB0LqCzj1Viy09GEvgAgHVRWwlgbII-VAGOBsqfkXji9kqzwDNAiA0ASgOyDYcqSTMUAT8x3xVMiQbgdHKzTHQ3QryncPqGMRIGEDpuwnainAPkAICQByA7gWAPmLMCImgONMvH3LiGR4a0MXcInwNArgoCInDCCwgn7j8eYfeGmqeBD7t1jesfYvk4EX4T8dGIgw3rXRvLyBd+ycWRnD1CxoDueXBI-t7z0HGCZBs-cWm4gsHawrB8PLgnDwcGmC5abxE9vgALTDgtCvDFiAEKtRBCqm5HamF4NADSCjAvDN4lBBRaD8mIcPeIUUxEE00+gKUCQZ2BiHSCfBFA7lA93kBUNBUg7JiHEJdbkBLB35BHkWjSHTdyoRaOIU0KG6cC3BdQrgsq1KFtDZqeaVoTMVGjgkqmoQwISM2AFAovaSEXgcTjN4xM2KbA3GDvkr4rdhUk4WYKeGmbrsHGN7WgLoFFYmDQApLWQUqmYRdDgkKhTKF7FcFbguhigQ4SuG2EkhdAQw0aCcKcHX8Lhh0HemEPRwjNeG5AlFt0WmG1IBBNBawZcIyiJA+OhAdBo7yuDc5ShA7JwAUx6GJBVh-7PAcgNQ65dUOWnM4aVy9j-sTOeIlTt7m0FHdiO2KC-MEB3yzF8+dnS4I4A069AkROpQkfINQ5ex0REJKtIX1Q5GB963DEUKh0SRe1QAEhAABLnVHAAAQXADgBzqAAJQkKQAAA8ndWQC5Qd8ckfGh4Q8GzA9hX8W4cQB8Hls4RNZJkeyNCw-MsRCIy4Gq2NGAhTRBLLETIGCzOiL27opFEaKJ4khAQctaUbKIVFKjVRGorUd6O64OinR-o8RK6PLZYjZhDolkdVzZGuipmxokSLwNZyQwdk17OMdCBtHaxzRB7XgeAPkDZUHE0g95DjBCKgccIHCMBH6JmYPAaxNPJcjUJLHh8-SDiA0aBxbE7CixponwZ7SsBpQMo9eY0hB1ygAAGPUZDHiA8QPEk4zkB80-g00n4KOVcSoBIAziJx6OZkHuKxBWEeAmyMNPMynHHjGAF7GPEuNaBG97eifS8WuO5B4JKAKXNPjE3L4WFqCL42lucA-HBdDBX3PjpYG7gPja6TgIkIoEvHspVuq4gCUhA-Hb5PCK4w8UhNPAfixeGXYtpYHtA8QZAU4fdiGH5FD9+2fUYIHeLQmh8d+B47dgo0+abjOSSYC-uOxxw39I0+ExwIROkBTga2j-RoiQIIlESGG+LFiQW3-5C4IC3E3iVODgl8d+wmICUOiG5bolHxYfU4bhPtTCSeJok5OOSUO6F866y3FUlEJAnG8TJV-FzmGiZjtBf+NpD-rmxmSj8lBTvVQa6UzY+CHJNk3LIv1i5FMAhYUN4ekF0lySHeygr3qiQaDhdhQikJEL9y-7HZihQ7dIZjx+iyTRJNbFOMwzCmiSx8QbcqOkCCmmxf+kPP-tfzyl8SkWfHTIWILSz3AhO2fDEj2IMmcjUoY-XKEfyn5H5E+Wgg7pFFiq2dqRaiE-uSTRgkBjC7ghHrYOin2Dtas1SIN5O1pLcjJQ-SICnGMBrI8AY8XaSGFH6KCupE-DyeoOkDeTSJOiIaToOO6jS9B4SFflNPuHR83hKQWaQXh959CWoUBXHvLRNrNSzprUiEqtMihKTH4qkhwupKMGAz38O0vaTUR0RjDwhEw7Nl5375FxLghiCyejlJLnTwyRbe1JNIiLTTPBY3Z7lpOv5+DbWfwiIUU0Rn-CSekpcyaoFJk-MACRQh8dzgcwLTxYv0mqPVJ7yNT7ezMvKmTLfzszC+qgLTrwzql9AGplAITpLLyq5dZBXFMALtLHjszqCzMsoRW15SSyfmhMlsPcIaEOZPpKQBof5jNnJBDZxM+-pzLe7AJlWlsl6cKBGEos6ZQQ-PnnknGFJCxuZFEXljLzPCVgleScV2zsDoRgIcIh4HBPLa-Y4JFZF8Xe1jkHtDyhadDEWgTk-Mhm0gQibUB7TMxyyVTKuuhizl8dAYswdCatEnEHDzmbkDobYFrlYgWw5MnzvIOAgY4q5XscCV6Egn91oJqwBSZMBkTEAppPwllhVBtn3DHhoWK2S8VoBRyeMHc5sXBLnkpAPhefGEjbPHlUzxhDMg8ECO1DFxU6dc2CauLvbLzTwq8mZCCKsAzDwR28k0NCKEFYAJRwYxwMqLYgAAZc6tqNuJkIFxcqfsUBUvEuiG5ZowGRaPhHWjXRvDe0UyPpSgLixtgN0d1w9FVzAxUYn4OgqQVBiZRH87+b-KwWqD+wjo8uEgoTFliBBa4k2g4iTHgiUxrIuzBmJdmp5Jx2YgQdJDaH0KkBWDH8aHPRwcLeFizcudTQoXgLSxMJcsRwMgEMkWol40eCEQrmGhLxZ87GZ2NnmAy2hwCjBcgogXglJhsQQ8W0weF1z3QEi1qdiIibltpFEAqsVsD8G4w+o5YlWuXH7C6hagDAkaPmMHEBjTFzc8xV2MblaKZkSwgmupF0Uzzux4JDqt6QEGrDj5JitpqYKsXwToaKYBqrlBJElt-FFzF6Ikrrls9pJooFrhktKiEd7gRi+0EkrrkpLeBbBY4YIClhLtclilSxfUq9kkKrgovNIQHLRERo0hTDb5KKEL68jVh3wXENu2NEeSHRvs1sbQHZSHcHRovYOQsqR7MJuRuURhWmLsyrLcyv-ZhAvUJwJBfF5wXgcjWAQ8L8BnHU9n7KEWgCilKQVQCzBM6Zi7lOY6btQT2W6AwlRy8CdgumX1KgZqM9LjfQlo4hLAVcmZdaJTnDzoapor2JHNkA8Yh5A0uRl0suA9LwFm0-adDU2Vk9SFqYlsOmOxUHLoafyk5S+POXZQJiVynESpwEWiB7l2QR5Z1ReU3LLxzKlgJLnKh-ia5xkEShSqwhUr4lwKpyYfDBhpkd2UKpkHsrmVDj-Zqc72fbz2VpTlm0q1RaqqqbSq5Vqqi9jquNHyqSQ7KCZZCr2XQrSFRqlYBCWYTNACx8y+gF7HfmhiVRaozUeAHDjOrFRrqiMX-K+XGiflIlO1acuhB8iEZFQZBlgPtQaqfZsKhIhCvtAvjaasy1FW3NSjBrQFTq-BZ-J-kerJg78nNb-JuExNLxga0eBmsnGLxr+LECNZ0r2IHF0IlVLnNEhgHX805Lza+vqJdKNqfIHauWgJNUCdrOMJoH4D2qEB9tiY5bV-kOqVyr5XayEBwE2uzItqiBBDFdReynznkl1FAPtXHMXzEwL2twURIup8gTrB1vvdDOuqjVuJ4gIIY4OXBMUrq91F6K9WCrcTes7mpWDBLuq2lgFr+A6ztfjUbXUAYJY662nUviUBz61LYMDSRGIDbre2rMp-LwKqbAaYJR6sUAhsDDwbT1DsiJCfObnfxXYsGqWFhreB3cAyyG0VYkmeUQVhmR9Apc3IsJob9laZLdSBtWBbrT1EG3hdh2g0Lq6ACGtsSevHVkCyEFArQFiGoFeR3F9Ap+A4kY0tMiNx6wTb2q42iaeNpA27hRRErsb0NI6gTVhpwQibra5Gyjb3KBUUJaNJFMZvkv+DHACNLTCwnptY341b1+MV+u0sg1ULeFFY2RVzXKiOLoIU6N5PQ0U37B3N1ORzfsHVZrz9CUwu+WCN4W+kFuwWoprfJxBJb8B30rLCQjITabkgcS3jVZpeVapqAszFiOFosKRbk4gCzvI6IXq18++EZezU1tUCLEpUvtCqgHXdrHE+OH6x1g0k81FbSB9sX4tQpkX2LXZTpRCs1CuA4QWYSgQnphBSzwQZiA2mFnmGwa6RTBcWwvDHw4pvD9S4gV4VtQCCvQ6eH0OHi9xXLmkm60EXLedo21OtyyhU5ZhlvvnJbvpoYdIDvkG4jbCBJWiCs9qTgMbWt1SwpboBB1W8cA5woSAJrvJewAAnHJBh4XkPFVi5+J3yXSw8Md5Y1wJ8m+Dzwkeh3YgTiq2DAzjIdgI1rOKR4BBbyHixQMU2KYvQ0AbO1lY5Pzh9QGdV5O2d8FikfAedLYfHW4AIF8CZSAoOwOJHtyKkpJ5gIXVYppqi6kYNoZkULtWEyA85Bc9oCZAfCTLNNhA8tgDpYBA6SKmuq8trozysQqtWkXORbulSFzeqkMLVtFpMhZMWYqBLEE0BzDtM4V8glMF7FFZmtnm2TN3bRoAYyQRFkwFUlZEYDe7lqoAThixHuCkErS5JIXSRTEjiQtWxwuuWT3D3-QMKotEMBnrOaEaUwu6UGKjPKkqlzVm7bdle07gV6keMaw8bKsNUGq-ZzuZvb-xj1e6e8CepPSnt9R07-AGeliFnvNJ7LL2u7QvVnuBhV7xVxgcqYlK2Dj7J95pNpkfCuG9s598+xrgrtmHOLqFU2r6TNuxgTEy9Sml6ctubSZh4IKYXbcZBO0EARKiIT6eFoeGX0EtmWzHSsMTSFs0yU+MBHQB4ifIiQtGtJf7sD1mKtWSImBmHp-bmFI9Aux0l6AUSf7H9UpH-Z9vwH-7zxuWOogAQaK0zuI6MDwUCliHyBJApDJECdB2YwNXdt+mvkoCwN5piDNYfba-tHiIhgB1C1xdhA8Wdw6AuXWTZ4vLh0ACRlIqkg5l4ZiH6Ukh2WlUyVYRoRDoLMJS4uNo1R5DT8csfMVNkuzgEOhmoP5grKUCpN0KGTXQPEPPxRD1hhQ1IbbWhaQushopsYcUMEsVD-JAw-1DCXmGGalh2gUIafjuGrkstOLQFXXrUL9DABpeC7pMXFNnhigM7aAAAA6WATVVofLgch8AuILBn9pwpuUU4-UFnaxFj3e7yyckeI6fMSNntkjZ29I5keUnZHqADoPI0iN5SEBUCNYNDpxK6OgAAAXpjXMDpHkgAhnI+0Zf29GhjxR0aKUZYjlGe8lRtLRDBdIgGwDTERI1kelStHcjHjSikkxTw0HScR9UgEfRGb2Rims0PANUcI1bHmjOxto-sY0qHG+Kxx1iA0FOPnHFm8x4GEAA')">function stream_append_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => stream_append_delayed(stream_tail(s1),
                                           delayed_s2));
}
function interleave_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => interleave_delayed(delayed_s2(),
                         () => stream_tail(s1)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p39' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Stream-flatmap</kbd>,</span>
	<span style="color:blue">The function
	<kbd>stream_flatmap</kbd>,</span>
      
      which is used throughout the query evaluator to map a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      over a stream of frames and combine the resulting streams of frames,
      is the stream analog of the <kbd>flatmap</kbd>
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      introduced for ordinary lists in
      section&nbsp;<REF NAME="sec:nested-mappings"><a class="superscript" id="4.4.4-sec-link-2.2.3" href="./2.2.3.html">2.2.3</a></REF>. Unlike ordinary
      <kbd>flatmap</kbd>, however, we accumulate the streams
      with an interleaving process, rather than simply appending them (see
      exercises&nbsp;<REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.82" href="./4.4.4.html#ex_4.82">4.82</a></REF>
      and&nbsp;<REF NAME="ex:q-why-delay"><a class="superscript" id="4.4.4-ex-link-4.83" href="./4.4.4.html#ex_4.83">4.83</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-flatmap proc s)
  (flatten-stream (stream-map proc s)))

(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave-delayed
       (stream-car stream)
       (delay (flatten-stream (stream-cdr stream))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9LAgUAEEgUai0JEMShsCAweBIVBoeSEnDIgbUUBMCYsUT4FgjGTELHcaj8UjKfgTXQGYymcyWayicgjBjUhlMlnDAINDyC4XUjhUmlMMVsZmEVlS+ohHaEdjKxmqiWkTUpGWUSgAa3w3F8EjYACNKKIFdT8MraHbHc7KLgbHqVWqNezCJyHhdttYCoLiHTBgGjSbkh4oxIZJTXXTlaTUYQOEwAB7cZi0Whxg2ByXBzl1IGuQX0Dg+l1K2gyFgMADmecLxdLaPj6srFJDMKwAEgjNrrJQ+CLSJQGBwDfbyLqcwONWGjB50zTMzIZ6M6Qul1iV2vBpVKFxeNHY9QN0OOYnAlPT4IhYNReWE1vQDvFXfARP2ob9xUHNlh1DRo33EB0BBYbsiyYEsy3AzdGg8NgWAtaZszjOD7QQjgwhFNgNlGW0HSdVsfwggFayaQjiMdARUzooMoJfYII18JgAEc3WGch5R-Ut1w4yU-wA+VaAEoSKFE8VxLQw16Krbjwx2JhVVICRfCqEZyOGR9jWk0AiBEXBV2kP833tURKGIC1TM07cKUAhynJcyTIOfOzeN5CwDMzYzSFc8zdw4ILc3oULWVMjSAp2FhUI7QgwoizCPPlVLS3SzLfKSidQDffDqGKYhxDnVSK2NEqjHHdzd1pelytzEQqqvd84uGSqHF8hIuOS6xOuq+9CCy6UcudMb2wmxLhpgikGExSIitAAAiABVQgLUISgAHcaA9YYWHzUAAFpLpm1qmE2zoehJfoc1AFMZGRZR2w7WguSSchcFAGQdiLcg2E-T52o+ogYVWZIYre299NB8GKEhl640+t7O1+rpjG6ClRDk7ZAeB6wf0sjgoeRWHuUCRlCHodZaDsUgMlu-d2o4VjUxpmtGKBAsRiKDkImoTK-wF+oudIvVhVbPnJal5JvtofnlaBLnRcxDKEpp2FzgRnYYubN0ZGLVm3KOE3FTdd9hfCi3RDMoEQksphrPVAQ8aMAmxGJunXFGNbocIZQdr2g7jqRDHyT0vgrpulMHp90BenhdrQHrUhG19W2ULTQs1a4uHXAR7DuDbTsMmyFr92+jT2SLx6M9jmgooZ4CczAtTWQ00ujCN6xGHwUgolTOv6U7kDdWdZDgJjKf0KfEcrf-Dml4-bvnQZuTBISwakqaEJJ-1agu6-Z1qWFC8plcjS4WelFBhmvj9+EpTDRUh8NufAfQF3mzayDAGz0DYDnfO7MlZGFPh9CIoDDI6QPsvY0ihnypxJkDY2Gw+SmyzPAnOYCIGuiYLTMMCNgEIPAXgjBfsiZMH-mXHBWxYFyU7iFIyyDe6VnQWsdOT8yQ0GzrnDgRA8rkHSnMXU5Ffr-3LjwGQ0iGHPE2gAKjEWlL2qjNrKCUbjJ6fRn7kloDGXMlBR79XmjmWiKC-pMM2PyN+CkRI72UjPKa00Cj8DiKYxsFi5o1X7JQwhiDCq2IYsrExLAzH+KYFVKxgxWxsPPhwpBJlBqjmPrxAJC1BqSxlFYcKOScxUS9K5NeIRbD2EfoYwRr8vLOUWn-QOAC0Rsx5uzBpFpuaUDYq5DBgCs5OWpOidIdBfHmJzsUxJMgeaPVcIMjR+UvajKzoUkRSyJFexkI5GMRN5k8mYe3W2+4eZN2FkIbW4sEq7JGerDWDyjCbMkQIYu0DHlNGfC3ARr0oomzipw9JKD+4tPkbhaKRy8EyHeRvZUJsCzIVQj-WxGlvm1N+YBcRBUuF1RBWsQZkCxmwKxbrPq+ckK9lqgmB+awSWlKdFCklYV6UDRRaAfONL7F8nZSQmpmcorTORdwvyI5-50o9NRZ0+cfhxPGiUiVZTD6gBhQ0WBgrczkoRZSoVdUIkfPqF8jBCN3ae2kDUxE7V0S4ExNiKAcBEDIHQESTQPyX47FlEeVlwq7GHIcbxWwDpRiuSMAAHxDZLHYYJVwdmDaAMNEbrCOidKwSag043hqaDqPYsbQ0ZsaDsE1NlZCDUfpnD1IopUkODXoVwawEa+T5W3XiVQOwdh8NnRaY9pgtp9YPI5vErjrVsaAAAZCO0AMQWDFuHekWdoAu2VBYB2RtRjHFKOrXW-tOwW1tqEB2jam0lEpwMZnBVDKmzrrTaC-tk7ZCQi9bqtFmcUqaLCd6uRW7h5Lt3RwfdwKtpMtZMe3omdAN9TPQ+hMH6-W3pkPem4U64PVHKQbEDTawPEKVBSlCfZU3DuvTB248H4MZKfU2nY6qN1cq2Nu797bCmLU2oA6JUzZUJOoA9dNCbF2tvo-QRjVIGAiQctMdVnH42Zq-bxvdDGD1czE98zO6qWVUb7YRxD8HYMkfCah9FL9lOap7Dhql9EB4Iy08h7T3rdN6fJO69gRFEJauMzqqDgch48Z-X+4V4dmJOaM0iwgwHbNCIc8RWW5FhQspse+9z-aK5yE9Oe30SjlAWahCh0tTa-M9L6VepI5miOWeQ6RlddTsEONSW+3VZnP2eb4+FA9-zQlAcU02+FAXcOqfWOpu9JXwlldejsae29us9e5bR6Tv7ZP-qY+fGe8pnOBfE3mhok2vMzZ81tEbl8qutay6u1pW9dvz3IIvM+sWCv9uEcwXAi0nAHbqTt0CrjGbyRxW5q7fqbse0WjoR7r1nuzy4M7UYt8Ls1bi999Zt3FoAGYyOHcje9j+riv7uKvWOMcm6-XrYa4xvezjP7Mm-kFtrh3gl7aBZd313L0uQfouTupySigArSY1-DX26dFYy1Zx9iPyuJt2T5Tn1HHE7vxwerpwXM5dNy+xUXtOtj0-KYNt1kZbxndyYr8bNGpMbf4weqMWucwy6bVrTrJmNS1d60hjLGSAcv2+thwLMXIdc+VzzhwfOEw2YtW3K1NqcT2vxE6tAcPXV2eHgwUe48ZD5l7brxxSb3iTQT8qpoHh8ySxPqtBc8fw4p5TRSQscSRgCGUMwYgTByBTAEEEYLIXQDYXBVDCLFEQHKDOSXAj3KO1zcNJTdqOiVXt-ll33pEgaVoaR+TcUQ+24fUTx5iXMn+O4HDhTIow+mevRlvNSLowFbL+uzD37G-QAPaepnLmPMl-Qb72fu7F--vX-N23PMIYxakvCrgE-0OGxYcL8Ec1dyQW9pgbYq0GYHZ-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-pzm-pKT-pckCZzywQ11eJNzjEibHWgR1H9At0RS60CcIemk2mMeWJsZAW7S8bydVjSccegQWPQdhIvVaY-yWw6c7BQa+MaAmc+P6ZqOFG8ZVxGc6ZQfGeceqbWeVHEsKWQIbjcY8Y2a6dfAHSKMSZyfOdsaOYEuUA7Vg0CZ7Iy06eUEOc8YYDYE0jfCOLufqBEYAHJ0Hvp-jwWwmMHo0TjAnXGfn94GBUxkXIqjD-Vs1yIwG8m0X17AR+9okBBdiFxdiDpSBdi8pRgKXw4Y9xgHormjhDncW3QUWhp4M8Xvn3HHnfn-mYXmXYNOX51kMhWkXWWfKITQBs6qQTF87V7I6nIcNC5uA-Gbw6nF44wEUgnCXNcNWONlA2ntVJotXpHkgEtpXc65W8EFXq8Sx7HlWYGYWWnyIHX7n+8sm5GQzpmXWtWAWS9uBJW0WbWlWtX-5hyUpdWFpfXZyjSAbdCoF6gpmUsZmEa5nNXCwPT6ZybMRbW5IhBVZ2YEsg2ixFW7XxjWxfXzyKE43JVBGBL7mTDYMS3c2fBVYhoVdm2cNW2cZHWtQY4EbKy51jn6BQmQWYbS282uAcYYX+742qzNoLXZXyA5C8FR3TQhLIhZ3JVTXAhzWc6l2V3yVO2y2RnfW-WTCt2vQwac2u382e3aFdyGFw3-GRCM3lSk9VKcqPW6AvXk2fW32H3-YGE8SP2EVaF67Dt45lRQ2MWQZbmtX7nYMEO+3jLlX1TI4jp25Lc44JA+BSCntqAHYK2M2aDIL4OM37m+CKOUPVSEV0P9pMP-WjWUCnjG9QMSxqXLx5xuZpgp0RBZAYPPz51cPoOSP52qWGAKXXG+OuAOPJPLw79BOnCbbCOniHW0VERDxAlcwqgRMwbR43pVy21SAEQwBrUgLiAogeBhRQA4cgY2FXo4dw9w9nAgySwnIZBcIp91hGQGBXlVXCSq8Fx-OCjGaBBqn5JRQvO0tbhYMgu-OHHzi4Hbh4uQvXZNzaAPPovhWMtUuHHJXNDdPxg0gWlBlblnQivlFP21FKvtF+yy0oTrRPOmB9IlBQAvOOAVgQOjBBkWZ7RKv2Y8osuWuOA2v4NyvF0CHzyjBn206rIi05B8B+uyHkHZz4Z+0wvpu05H21us3DafPgvBv3PiBmv9JNAPmaglvKvM3GgPMwvzY4lgu9bjAPAwvmSQh4NUvXzvS3y1hn03tJPTvRvlAOvzueUlR32evoa+uBuxkhuTuOuxvkMJvrvvuZvSYC107TU4gruVuyFAQGzF0MsUeVud3GgTCO1EewbbnQfwy3QYQyfaxxvhkKu8ebuBydvuu9umZUujvMuEeRuwfBTcepulZZv7uvv32GpDiNgifLvlu9Omol7bmTDafwf6fGepZheFfyHHppf9TgOVVCfPvHu-O6e3ClZ3yBy+E-um1dK6RLOZB-ndvy5BH-ToS12gQzRLRrQYUQhsR53Vw5JJPPfawPAg-qWDjc8Q42B6Oo4aAtOJoNzKvj1funD7fSBLPyLobE+SlYeRjwVKv-AuhBljP2Zc+uOVucr3frRj0KKDOxkK+Koi-NoI+Q+w7M5NDzxgI2DTjSG9P1fdGMWTD8HxhzeKHYjVwe+uxR-lRu-o1W7YN5+2CJ-l+Z+q01-W74NN-XG1+U7cxSjZ+DWfCMX4e++hNSeMRHTXHQie6j-B-j-HTSON2necJpg1-z+kHx-H-3TJWdhBMHWz-PHPgTQ6ZM2O5GB2h-HpB0cr+5ELlpqSKCCYOAVnQQOMAYCJ5M4jIbgBPBI5c9ZuAA6NlzwWTQ01+nSKfkWVTqlEYBQRLbk4Ux7zdtkm-Zkq90IAIChASAlAQIDQGgCgi73VpNgNmTkC2CUKTfmj225AdMEsTEwoQLTL9oTCWA1MEhzfbKAFBCTM9ltwN67cnCYHMUjbycKqCtWkrW-kIABg9RCkVBfvmPxUB0gf+Q-fFCQKEEdgyBH4YQZQLNL38aBQnegR7AW5MDM8bdbxJ-0v4IRIIvArJGEFIA3wOAVlR3nv2lSb8FgNg2ARb1biHYIhUQmIU0QiGJDQhJ-ITsaXna4Bqg0gBYvc02hFCoQJQmFpFwcDZDrBxoJZkcGNKNQ+2--dsL3TpC6B7mxglOr6F3jmCTIdQkIbYL9ZwdrgEQ3QGOhubXAQhQTdIWDmiEO8mi8GCYZr0aDwZZhawhoPMOCiZC8mqwoegLFgybDDhjEIIn63KHFDiWkrWkvvQqhgg8g8eVuiYUKpPBsgqhYIuSEs5xJuk0SWTsH3XASccwygYtkkKDZBF-4gyTIRChZjOx2YOw3MHsNBGQQgRgwReizVrDgj7CRqeLEsJhGsxBGFQ8YMS3uaqEYWtwjYPcPKDeNoRTsY0JK3wA1Ep+BYDoQ0Ng7WAgWTbToZ8JoDGcDI4Ibxl5za5ecuu9g-bqsmM6ndhRLXV-HQOsD3dZEHgVQiyT-7p18wHADrj6FZGJ5BkXndmFyPpFeDrAAArzroBEZZMLiXnPehsFAADEAAEnLQ4AABBcAOADloAAlAYpAAADyatZAGMlULqEb8GwSzv8M479gERIw5-oyJwpqjWRN8IJnyOZH5hW2cnaxPGLBx+s+R1IK+GmMSSuNsx9gMMfJ37Ct17Rjol0W6M9E+i-RBY2XsmNTEAiZkCI1unyIeHsBgYaojUSNy1Etjw4qI6gJdHbFsBwBFOKfsWPTGRjkhrdYcVTHECkAEs7yEIZMRrgHFvhzkLgLmAHGTRlxsfQopELBwjDNetxTPo5W3Gtgpx5w60WzDpYUEVyNnMZAAAYgxTadUIdGih2BeOkbEpOQFkDL5Pxp4IgA+JMAATGQQE0YJ8XkA4i-Ut4wCa8AYCuNNCb4l0BfxExBCB+sE43Hq1zC-jnhtzTaN+xMKYTvxl4X8Rd3Qm69JWzAJRChKQbWBVw5sT8TqOhrET1WE0FOgIBUJ3EPx4wNVneB-F-iMEmcXINMEOjUgXISnC8nVgIEkclYWEN-jYG4mz9QBrE-iaRIEA9E3w0g6jv4JMIiSOAYk0QC5CUEqt8WrgfSYZJchUdTJmk-1uBycIWTxJjE4BpKxECFBXkjYY1oWAqKoSrBEIlpMJOYCiSnJdgiUhj2NHtDVuRA4wMORqEUSmA7IfHoxARgjwmAtA-GJzxVSDJ7Qzg6fvvxPI+sRh6U9brjnlFY9fBz3EkkUPoSHCPuQUgyU5LiEb92enpccJoOilqYEKJEeDl0KzLzp6plkvJqt2SaOSjJagxllkmqlyQNBeg-wv1KYDBSxphgiDnUh6GmCScpYNCff0VBRjSuDglwU4LGR783B-oDwdiLWDDk3q3g7HoIIOlJSSp3KIgBsUWGnjbpeU+IY4KGinDXAO06cbXT4Q7d8B7Qlsg4UeSIhVEEMsMNlMcG5SKBB-dwdSCKnkJ+0V0sqQwLmB+Cw+bjZ6XsKP7fTXATUpUG9IX5bDNY9hP3gELv6WCEp4PJGW+UBmkw3J3iacJNF+lnSXyvhcGZDKtJ+pLhlQ64QDIkFc8EYxg+KeGTpnelUhdSJ6aCRemO9uAbXbgGD38n5DDyhQq4aHyOB8ziRms8MHFIVlg0dA9zVwk6wimRAFZvU9dmtN9AbTyAaEg2aEGVnkzWhZs3uisG6H5h2660mkptOK5KywabXCEaVTAAQzVEps7qeMKcBRNph5so2WOxln6Q9hKwpwKTMCArCdAqc1wAnLllNEm2Kc-GfUCbYZyC5GJewhcKJElC-+1gW8W2DzHUBVWq+abPxm3G0tPx+HQHNQCqiMi4wt4xfl7mcnINXGsEu-L3KAH+Ns0xGZDL3ImnuRCWogMSRIGjwkE-W8DKeUxJsygYI6iEGubeJBHitupB4iwHvNGD6QVZxA-blVBTQ8Squ1EvULRJW70TJovcgZNDWzl0iE2gIbOUiP3mRjvpDMLuV1kvl-De5mc5IFiOv5Cc35KEAkerP5m6z3IZIlDichGBf1xWA8+XAyFTzXyzJFI+cLFGpEyAoFsI40Gin3q2iHRHAd0dtAAAyctf0dqT2AviKcIYxyreIvF0gb4u0yBUyLjEtj7mSYtUT4DYUZiLAWY2XjmOvmtgJ+hY50MIrLEUKqFtC8AHWJzgNihAwilsc-1nFT1C6TQNsQQuTHdj9IvYjhZmNAWBAECn4ocdSIeia99FAor9rsVvHWKBRDLSVsnQ0WmKj504rRdSLnF0hFxtYW8VFQOLJ1t5n4gedT0Plhxpxx4lhZIpEUxKrxK016KWFVC8S0WMgZEZwuSH8i8gM4vxbgHnGBLS565Z4ErG0W8AwivwWQCqk9j5s65jMLJT-K8VJL7CWwt4YjFeL6RhF2Sw8dOIJp2lqRPI2FKgpPnNKT5tgvJewGYn7d+ImNMZJKKg4TK2W4cU+GMpRap85p10hbvMphgFE0leFDZai3FZTLhxdRPZXhleBU0Vl3VXJecqrn78RA+YKvhMLHn8jo0+w7keml4gACDRG8huvOGYATjSJOEuMduMTyzdkxVfCFZDyOxMw9RYyQxZqLuwQqtugyVhqtFZAgqqRAo82hrHsWPDsum0bcS4ryBbLkg3AUeKd37GNKyV7AEfICBMItygYxVTFdRJzjbjpl-zfsu1Jt6KMX49ABcBAQAmp1kxA82ZUzARHsx-5NILrM-IunhSnlBYV5a0vunc82YiKl4M8qMW5xElYgjFeYA5XXzuV+K5WISo7HErnFw4ilYTWpVWqrFNqsnkRM-HKBOl7K7FbBPOW8rMpv3KWa9Bk6wSTw242uU2PrnvKa5EKxoS9zegCB1FESiFTCxk4hq0Vb+Q7MmsaWhrwxhARPEKuBVcqxV4Kxpf2UGROgGlYaxmOzHLHOjXRHor0b6OUVrBq1lYutTWPoXMrGlbq4qmWpxWMx+yCMTaJaBcZpq6kgaiJaPJaR5qRVvEwtc8olUvz9uPathVWoUU0K6FGCatYoroXwjbmu81lVFSXWfj9EThQdRaGHX+r1cE5OQvpAZhI1F8CKVMnKLiYOAH1E-SnLepejKtH1c0kyQoybzFgc4H6lEMR24DfrOpvBZDK+tcbaRJyGlO9aui-UBds0UGkdXvmPJwbP1r65-r+on4AbhAVgeDWQBA1gaP21kv9ZnHVAdhMwQgTJVhoxY4bXGi7POsu0A0oJENvhYwEJwY0pKX4t6ygAxKA1Eazlwy95VvRvXUBCNEkCTS9HyJjshlAomFnxoYl4bBNpAGxIQEk3dkgS6yzJe+uk0ogxQGmmTfcGl6PJ5N+StFFSrUpEtdiOm8VsgSU05qmFdSODfxp3EEaZNwmgUaqzE34baAkmuMBhuA1BNEFRDF4MKHeCfAaluixoHZvGWU4gtZAH4B5uC1eb8liQUzfuueCublNKEKZClqI3Jb-NxmjLc6W0LcrdMVmnKqSzWXILpgaLHSgRrc0d9XxTAKjfSFVhpaZlvigUf4oXEKJ3kBQzIErxSCKU0wdW45Yoja3UbJtbbcxd8WjR3D8FDi84c4Ey0xrcFuKx4bwKxwXFVCpWwIOZpmWPwqth6SgDSy2hxbNluiabSMBa2HYCwcSUeKJxVbP9YEMAw+sfUWz0lpyhoi9eSCY1WtpUnW+5SJrpiXlClxSgbU0CG2SxHtrDekEHxDqKR6QfJQHSxtPDCofG3ZZIeYtOIGtfKhw1DhMHREYijAEcBjtHAiE8oGAG5PYuOF22uAF2+7ZjYexIQMs149ZRbZSOW3bbnZy0fbZLCO3-MTt1K5nTK1Z2r1bNE2hrcoHR1s6Ie6hKEedD816V2YAATi6BKYrAelblXIAwF28ddagblSnWFBlBdEcK2boSXoDqr6ZEg4cjQCrKPi4VrgXSmoBkCgtQW4cNAD7ttV276EWg4wG7skB5MbdYg13UbskAm6hQQaWcYKVQTakrol+MQVbyt7B79Is4mPZEGLjYR1R6ekZdSAXlLzlQWyYVV1ud4Ythdou6zfPMkDF7pdGYFBbLrei17F5lQGPBbybzHtrAmS1cFZv0KjBHQ4kdFmKKZj8R2YxbG9iWA6EDNOxVm-4h0DcWKqgYUwBgEPq5qjUh2pYZIhSzhXp6cq10G6N3tABosXg8+xOCFU6DRqjA++sVuMv4iwhxBAevQFb2HJcruO9oXjnGrmAP64VY63icGszUZqK1GC3-Vt2HKr719ekTfWMk2jb7Wsgem-ZHtTCbRD910DLtmtjX8cL9h+lOE-oDip7fVKQffagbQM3RT9dI9EGQeuh+6g9yBvXRUr8UlLawsOh5HfpRYxaNYSOljCJHpD8RbBbqknUiGKqcgzJV21FnI2514K9dHwmBuB3+0eFjy0SWgIdCDR97R4kqtmOPrGST6J2M+1RuobZg7FF97PA8nqFWTiGslkhtgktpkN7B2e6ZeJq4Vk3rsztIxU8dGnqEsBQmY4N2NywGaTbuDUA5UPwZSa3kcd+O4Q1FVEM3DIdASjGrHToCt0ilpi3nR2NnEJYsY+XVDVYXnHCw9d5y95dbuGWki9gTreCZFtEwlA5gSsDksMrJ6dKUjB4tI94zj3IZvVlmqfT3rQWgsgRMgMnaAAAA6WASNVUqKDcdcAC4bxvtu8oHVYYjEL3VtEgM0l0KXQbvZNt6Npj+jZO4Y6MfcndRJjfzDodcHwD6Eho3nEwqcdAAAAvBnkYGGOBAp6BxqY5Ee863H5jUsRY5tGWNyRj0JUPAEocZiqHIgvRsY0IAmMvGhqLzMSt4cLy7FiAuxYljCFBaPREQ6xzJaCf2MQmjjUJ6rrCa2j2h4TiJhll8ZThAA')">function stream_flatmap(fun, s) {
    return flatten_stream(stream_map(fun, s));
}
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave_delayed(
            head(stream),
            () => flatten_stream(stream_tail(stream)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p40' class='permalink'></a><p>
      The evaluator also uses the following simple
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      to generate a stream consisting of a single element:
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (singleton-stream x)
  (cons-stream x the-empty-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHR0lVVRdSeRpiIbiEpKLi0DmF2sUJNvklQQoVx1EAD1VLOjoVtZGDMf1nya2UlzpyHr7I9roikkjAA5hdrrd7rRATF1j4XoZfABIczTJzUVSidzkaiMRwxBqULLCVawp7vZLBQ6yY6KDFY+S4-GsQnE8442bzRbLWiPfKjPQTD5pDLM4gAE1cKw8ZP5my2VMiYslJJleQSCPlU1F0myDXFknBN1Edweso2FKCoBYknKokcpxJil1jQNjlUwOyVixNXqTWkMPV8Mtwo+Lv1hqa4v25vhgq1KTRNVEAEd2lpKOEyfcnbHEiHttTk2mEpmWtmpby8894wWRTNRLFyLUauRjjktHyLcLgiRxaJ8ETROK60mGqVSOUuwUe2IlePqJPpzpa8Kk5ZrLZW+2EsuE5S5+ENzZiNuFB3yMvNaPRZJTSDiBe93XFeE7-cH0+89eUfWnI7zn7UhdWxM0g0SX9zCwX9XxpBRFAA2hHCAloORUeg2y0ZDRGAvdrzXUUUM9XNwP3K0iyI0Cq3A-CPnSLFmEYK9QAAIgAVWIcpiGoAB3Ow6i0SRLlAABaETDzg0QWIMABuLAAF8BBIM4RF2aR9kEXRgRBOgjFMfxKHwUBFBmG5KBYKVxHtRDVkEAw9IpY9bB2LkWzMiyqCsh1lKdTSdlBXS5P8eSxADUR7CMkynDJPtvKEB47IclJ0O+UBbkIaRyFAABeCS5HgmzHCjDSSDeUNyqKK4FAlC59EoZhH13OsKtDQqPXcHI3EBOztGalqPm0uhev6kb-EK8Z6toJ9EtkxyrBPUUnNPf4lHSzKyJSYIltaKIxWqy81vzCr0j7Ach3FILzBC0QwpMCkGNxBCSF0djOO4viCB8lZQGbTFRPEtTamky7QEUxSsBskIHB+XodoBA5riG+M7uSJbrTmIFQRygA+PLaW0zUxkR2bwchot0JVaVpGY8Ykv8NGZnIRhCHIAALfZqXy3IJUrLIWmNSUlng6tNQ2-xYK5zwedVctoVTdNLxF1cCM52kKd5t9MqxNkrLw+M5NJr6RCLOh5dLLMvBzMDhn5TUUf8FKssHRhvlbFgfhWnLQD68xVYK+rXe+HdOxF2mQYi4yZm2laEIDn5vnduHRHs+2UjR53A-IROVvD67bv0oo0b9jocNocUz0bXdQ9eXOFKU+KRC+GG+hId9KAfYdFAGE06YsebnJtVQu69HHWIAKlb+94nFMeWN0bvArriGjf4pZT2oFnsOA4iVkDG2NlTtL+7sGZTZLDMLeGK3qP3mdZ12TRxUUOg156TfKJ5ehY5d+O23PKvSJlVGuYF+kh17vxwiBT+gJTYUwrl+QBYtUSEUgTvG+cIjqzibooD+JJfRdGptWJBIpiAZWkAbeuKk7BFgXEub8yMC7mEdqAYqXtaHlCKtQaMe5w7MInDIBguVQHgJ+Lg3eihiqzQCMwyeH5p6CKhq7WGsj27T2dIuARUj6bHzxvBYqRNqrlwmg1J8-CAzDWAZYooKiO7iiRj7Kx5VaYk0oSSCSjhtpB3-iHGiDDJhoxtHaDxx8k6KAcbo1aISrjGlNOgp4osKHLwbtQpUbdPwANviuWmh9mGe1ysXIEU8LxJyNJCa2GCaxh0mGk08nR-ShJqcUupzQ9YrU1OHNGOcl5kyVGIuJts-EBBqfg+pMc+m1L9C0pW4SPgFPGSU6JZT+kbAsY44UziOk6NOoOaeiS8A2QYPgZgbAoBwEQMgdAfAABMrjvozFCAyQhpFD4M0yIQRoWI9zmAAD7fOaqfJmRIQRfNAL8-5TgmjNFEGAr5YLQwzFIdIJ5mSjD+DhcKGY2zzo8LrpDB57gWgx2rCYAI-idF5kSZDRmkgQQgmHM4aGzE2b2jbCCXuR9NwnycB6eqXyABkfLQCs2hU-Yl2VxU-WFY4VllKV6im7l8xhHKFrUtpfS7B9CWLd2Bt0uVzSWiwwVcSpVaNhWSCfm2SgyKKkuKSVQ28RSMkVJeTo1VdLy4at8SxRpCQdWKUhj6rC+rFVks5UKkVihLXUzNRayQVq9z2RcQGx1WEVqlJNFCUkzyTU6JjZGuN1Mo0JttVSpw4yQ0BFedKml7qGXfGYixR2YDRGoKosQaSoK-nwqcKy2tnrMkvSkIwTM457TjI7eij4br1WMs1YVcdSa5XzODcawopqI1FrzUWoh9kKGQ3mWmxZGbylPFTuu81+b43bsQbK5JOo9RuiPbErNKKz2up7TWmd9bNXhkfRCY9tA-V2rcb+w07UvRuBGc0PezrGEBIxvq34-QvS6C3QW4te65Wgc4dw1d2iw1oavehndt77VRxCV4yuPjX1wffdWtVHrZ1es8X-Kj5AgOQ22k+zNFa+4EY3cRwBpG3EzHVjLXjfGVUfoY3WxWXqxNU3Tc+idXaMXSb7UxgdrEFO0HCJRi8HG5U6b5u6Swgs1bZrXTopuwT8DMR4Iuu9xmLb0DNtR2DVmw02csHZ+hVzHP2ucy0GQbgda5Bo55ha3mBzMQAMwlrlafNzVBL7qGvi+2DSIkShqk-RjT36vVnwVmWZkV9eaGbvRnX+wc5MRfwwtQj1qngBbcbAsu8CnWnto-xi9Rbr0ot3bqu9Mx2ESeVc5adjGCtaZYuwir9r2E4ZjJZytuaBPxqIcJu5Tg1KUCFieuUb6w2Tdkw23b+3AMte+uNf9z6JPntjRtoTuK5XaSU5mmDXXIvOUa5eprcpBvg32SvQ5xz2BnK4JctAsXbkiEZszNm+xLjsqrZC6Q0LVjI+9qGYIlxmr0UYIxRQlwXpo4x2Ia4OEFDil0JYUgohKBWXFKkIDwHvqBOsivRQ4HOpYiRvowZ9XnLYMbV4WKNk54zJ596F2ugBdVP9Yl6KYuao2QQijujvav2XnwC9GKquV7zbcW1T0vOXbq5dV56GtmEK6Ac5hyrK8lsW5zVb12PnbegH8w7+1406omN3PgDXbufge916AeLW2RAc+CZy0J6F9rB6i4yli0c2hSV0AnjYPuRNODT1ERQK0k8TfU9rwv6eXr5-aEb76Vf7RZ87EXy3DX1vUyLwlu9mhgLUHuMQMExipq7mya7haRaFds5EFVh0HUlDD5yz9iN4-mHMouE2FsA-GpaC9oi8hsO7Ax6OV6Z+kzzGgBWrpZvzkeVMX1Ujc-V3J8z6gwGBCM+9KktWz1p+h+cgP7sD-+0c-V-L0d-fwefOwItAAjve1KqR+WqcQSaTfS8W-XQSIfnO8e0OfT-KLTQEENmY-AhC-cVXKdHPvfAtA4hYIa-RQA-GfAg-0O-TROXDA+A4hdIUgvA1meg6DIwAAHhCFwPIM0R9ipEJ0ehYgABUyh0ZiBah-IQR3kEgGA6AqgFhKBhx0gWJQAABqbHKxb4YdPvQyfYW-IwXQueViHQvQyxAwoFYw8vAMeyH2AnInSQ6Q-AUQHieQxQrQZQ1QlwDQyw3QmZZIWwow-AEwk-C-cwl6KwkIgIMIkEewig6AkDMoSoaoRDGOfVO2JVMmfQZwMoIeLAooSGYRbg0-Cgw+LYKtHfCo3SeI0AKkAo0oDEMJNZPQbvXvfvf3QfTsZxRo9IfVHKCVPNUwxo7YPNCgiYkUcootUw3QItFI8OAIRSLYQyYycYEY3KFfRsVQZseAxAi8dlLYB6G-E-F6DiJoPsUAbVLRFIPOU2aoooZhAAr2KfAAg4GuPqNGcogA5-bqN-VZRxf4oAqA+45INY4KcAwUQoto8fCfOwYZLI9PCo1AmQXIyYfI8QOE4o14Z48wMoteeo9Exwgk1GOjOo8YkaZonE1ooeCYrvUobow4gPfo14YhZIIYk-bY8NC9ak0aYIU2H4KYgRUkzkxMUAOY9DBYn6dDZYkMEKEMDYr48QXk3YtfVkvoxIckgIM4tE1iK4jeCUW4keMSHYFNdjCE1Y0KJ4pVLYV4mfd4uOafI-KpcqX44k-42-YA3-YEqxUE9PQEkA606E1YmE8YXE1U21YHZJUHVgcHTgC5XgDAPfUUdySyTnZJJ6YgXuKtLXKbHXZ6ViDMzyKSP-UAUsxne0cyBYNjT+HMvMtbXrdDRKRJZhKsryA5L2bBS0EXGNCw-wGNCqIBZIEXKNQc8wKNEc-08wEXa-ScysuNRgGcvslPJuRcpuVcooEXBFMhCwvcpFYUUcgIEXSUOgBYSQIGXQc8y8uQj4E8-wEXM4ycs48qR8uclPG0NmWYBoOgOeb81mX8hgLYD8xRS8FibQxc-wYnXQWoIwbKXGYSXQ+8sCkXESaC8wWC0AeC0eYScSVC2c8CxQFiWeXQFIbC3CxC0AYSMeHC8wNClPYATC4yEnHChCpC0AMAQitc+tFiAAUhYsoo4potAH4votAEYr4uIOguErwt5PgqIpFwAEJxVZK2KqLOLVLcpFLeKILeChKNKRLhJ+DzBdKdyU9eDspMK5LqKTLcp2KlKU9sZDK4LjLQBcYzKpKILsZrLyKAhbLOLfKvKnK+LlKWLRKAhqLzBlL-BkdLRZoOzh0PJqy4oqEAScoQxB5FAY1dBOysyqFF4krzJMy0q8FqAGgAArKnQRLKjGQQUeec5KzMiw37GaIi5IfKsq3eWaLAYqlKryJtXwnsxlEXLFaeCw8a4cMCjop8lPSAYgHZVwa88wBapa5sGa2a4iliQCxwWASASc3a-aza2akXXagAUUXIupOo6JFwADlJA7qWKHq7qJTLFEroQsouqhr44ojMqthsrSBR481SAaxvrPrm0irPrKzmqyyxQg5U0gz-qihAbgbW9lB7I8rYbUqfrF5ESXI9hTMSq4a1c-JtIm5i8kTXJHAiRHBTpGB1IgVHBKrJApAX5h19j2j+ouraz0cLwGyeoZlyboZZJkght7VhSqgtSkDFBKaKdDFpanxwkH4JRudsauyncUDrDLFwaMJm0ASbqhl5hH41bibUrCoKrqqKB7E1ldaEaPYgzDb-ANT9j19eikDbV0csoV8QRSgGhwgN8LwvZJbqhA7dxerYzCqmAEzTkkzuBMA0yE93AKBHASxvhzgbRGApwh0R10c5a9yPkmJfsc7JBR1E0QxghfsljgRc7k4U5zDHAtDdDEj7Di6a7S686nCth0g27h0O666c9voYgbRkxwNqdn5AU+8L8R9nJJBSBSB3kMpaRn4tJ56RKGBdCgR57eSWItDghd6RQLCm6dg16OqWpd7dBEjF5Fc70SB2pTYJ7DCQQtIAoX6wQ77gRTY9JstsDnJEirCWISKrDh7DRTYx7O5sq3sP6XZRA37dIzDWIDAWJB6RBoHTZpUsQWBMY2VL8uV+gyFsGNp96d8WIQwkxsFtIjABU6wop8GkU-tCGjBfk+THtqZKGjBtLWJAhpIK7jI81KGd7uHmpggk656fg068FM6pxKH8dI4dsuQ9sGyBHqGKoEUj8bsYkeN2HKDWIgHdC0GWVMGcqI1BpGGEGfYtDj7ENDV1GnduMHh2G4iKpLGrCDGMHGAsHftTHtGzCLGkHZGDGSKNy37dA3G3AWAu7tRTJlzCHeHAmWIFzdBsF+HQQawi12HQniB77DGPGNokxEjYmFRWIAByY+7SAB0pshqUyepIiIwhlBuwNxksRgfYZp3CmevBuonIQu4xi9Npp2iqEXMBcUI+3EI+7idjF6d8LESZ1iZmdHaSSJzaUAQJvNfpxY9DdZlZrJz+nJiJqp1ZiNLZotLZpp9oFp1I76Fmtm0gDmh23aG4RcDNBGVQfO+RtQi7VYaJIh7a87T+CwjRpZL564AZ9GIea5u8W5ygfYkpR5+nO4OBl58u7u+VN0kF3hkXbhy+k-JDBVb5vJinVQKPOwNp0zJ5u4JFw+FUmYP5p0fF5414zWnk3KEMaxvoBVQFgDYF150MpK8l02cuQaL2bK0luFjNRF-FlY8bf-JlghHehc3h6gvNMVu4elQaGsX7FVgV2YAKZF7UQqYY4g1iDcxV5geF7VwaKpg15liVFiCF9m6F+56vRVmJ61ghM+lIbK+1qFmFtNLViVkFpZrkpc3lN1-0LG-ltV3V3OW08KalzINFnl54tGTFiwtl5DQYSVyYR48Ke06Vwl2uQ2O9X6WfEF3B9MmJ753hvNKtlF-U6JS4t6XiahW7TNH6WoTEGvEQBvcgQEb58t6J3lWtooYIMfdFutsQpiBtw0ptj6ex7t2gfaf8y51SVVxgPBDkBoe0c1fsJ+ftjp9tzESlo171Nd9jBpnYcUQVs984YqSlg9kGxdpQpFmMsAekNtatUdPKlmHYE0ulcgXAMAI5BM0gVmOYNwCPYyWBNxWLaHaHXwfG98RcRQO0WoWnUuRgOxN5uh6mOnXELD4R7Z-sHZYcWR+WDwVD1DCNPNPDzD+BiUyuiNWjgj46C0ugZDyjuU+NZj+B4l9GIJNsUdWWnJaGsxT99HEaviseQT9HWeCEvFdIqoFD0QFsHgXQVDxwfzck5hFQhoGT8KXKJD0gZT1TjZ+NMT-TwbdYyKTFCUM6NRXTyzk4wuLZOzkji6RU2N3Uh2aG5jr2IzkzzTsz6mRz-uqz0MKtKap+Zjt6g8KLwYrj3DjD8UUMq6bNrExLVzddwLtT0ADTq5Uk9oZzphaG0L0dfzu4DjlTxwXLotCzsL1LiOWhqL5+QgPThr7zkBKwatczjRVCfuj10Mag7BDT3L6g-Lwruuwb-qOrvr8TuuxrnNzr0AZhPzwzyr4zibxL1r9rsuxrgIeNumtz7FGL5zyCUI7r+Ytr-T3qc7nWmJ8b6rgrs-dPUFmbmU67hr2ac7pbvN4UYUnrpLlQTDyb-bsMooKEtLgIfdBwD0cgUDmg4r-NtgE91ojI0h-qEoRT1QcJdIFH21okU2ddjHmk+wLLgD0aFwx6FgRtriZt0Ad9z+f6OU0dHVcM3+uwW8+QUD9s6Gxnjd-u4V20Flfu2WuSZhf9r2fn9kUXliNHqoHVDsn93KaXpCfTkiwnmZnVfGmPVkSUPvcvPur9l7qIOW6gku43ovC9vXpmi39HCRIkfXnBh9iNG3vvCst3sEGOT3uWotH363x3pm2mz4u32BpgEA8tgL0P3QKAi92A1W6Pk39oGPt-ct6g3XwPg3xPovFPkAvjmYIde9mEk7bBadlibhldk+PWi+eCadgAzJ64mqIdRwMDiUdHRgdlSGFQVQDmMtv7prgv4EF95b5hT3thTPsEYPuguvt-KVtOOjFrn3xo3sYgRv8uZv1v8Udvl53P3-BL7v-YT30JH3xbrzw76g+l-vjnkNpiA-3pvdwNzPDEfYMdnl0-m6O0n4nRaJOf0GdL6-u-t8z44GFoULATkJiBqj9hdQtQTuHQFy5QCry9KOgFpwPaHkQuDmXhggJgHlxkBstKpkqwjRwDQWwnaiiAOyDgC4CWA2AUzFAGA9n4DmabltRSBUCcB-mCskSDcDo5WaY6G6IgKfhwCbyvA7ATUBQHF83k9DIgZgKEFICrkeAlFgQP5IMDwkJA3GBwKxBcCvILAnBNINYGy1GB5UFQdU0sDkD5iDmQHGmTIFgD8AuoLOPVWLLT0YS1g+QNVFbDGCsGlgxwNlT8i8cXslWGwS4MsGP1QB2HKkjQOyA-Md8VTNQQzWhSaCdBXNYUGMTCERNpuhgpweQACHJCghJgmUskMTR8d4+5cQyPDWhi7hE+BoFcFARE4YQWEE-cfjzD7w01TwIfdusb1j5iCjuxHbFEvxxzy0Ta5Q+QLv2TiyM4eoWTwdzy4JH9veE-GsBUKGGV8lyGQ7WOMPh5cE4eN5QYeH1-zls3iJ7fAAWmHBaFeGLEfYVakOFVNyO1MdYaAAqFGBeGbxKCCi0H5MQ4edwopoUJpp9AUopQzsNcLmFbDhhTw7lA93kBUNBUg7JiLcJdZLCtw35BHkWleH6DhQRaW4UiI+CjDlhcIrgsq1BFoi1keaVETMVGjgkqmJwg4SMz46gccIHCMBLMBva8hpm67FYLoFFabDSWVQpVMwixHBIVCmUL2BiNhETDFArIlcIyJJC6AiRo0dkbPxhLcjDoO9U4ejhGa8NIhKLbol7SQiBC5RJoDKIkD46EB0GjvK4NzlBEDsnABTHEYkAWH-tXBoAkzrl1Q6iDpEpXL2P+3tHqcVO3uDoS1wvzBAd8sxfPnZ0uCOANOvQE0TqU5HQ1UOXsS0RCSrSF9UORgfetwxFCodEkXtUABIQAAS51RwAAEFwA4Ac6gACUJCkAAAPJ3VkAuUHfHJHxoeFVhdIoniSEBACjiA8w8tgaJrJBjwxoWH5jaKNGXA1W9Ir+G2IJY2iZAwWEcXQAvYTikUTYmZuIjlrZjcxBYosaWIrFVjZx3XQccOObHiIxx5bG0YEMHEhjquYYscVMxHEiRLBrOSGDsmvb7joQvY7WB2IPYeD0h2VBxBUPeQ4wQiVIycLMFPBiiHgP4mnosNCzzD9BDY0DguKZHPi2x8wz2lYDSgZR68xpCDrlAAAMdYyGPEB4geI0J4A7kHgkoBPwUcRElQCQEwmoT0czIaiViCsI8BNkYaeZuhIYmMAL2MefCa0CN729E+bE4iYo1Ikpc0+MTcvhYWoKCTaW5wMicF0N6118h4tNxJYG7i8Ta6TgIkIoDYnspVuREmSUhDInb5PChEuiQZNPBkSxeGXYtpYHtA8QZAU4fdiGHjFD9+2fUYINxJMmh8d+tE7dgo0+Y00UufUJMBf3Ha9DqCNAuyQ5Pv4vs8RU5WyY4HsnSApwr-PVirGuC1xr+kUxKdFJ0l8d+wEAuxD0G5bok+JYfDkdZPtTZSkpjkpHod0L511luKpS4QpIG5iAU4V-FzmGiZjtBf+NpD-rmxmSj96hTvJoa6UzbzC+pXU3LIv1i5FN9hYUSUekGqnRSphqJBoOF2FCKQkQv3L-sdmBFDs3hmPH6AlJqkxTGpzDFaclIYZ10Zk6QBaabF-6Q8-+WU06dFKAHKTvoHw4oWlnuBCds+GJAEbpOhpj9coR-KfkfkT7tCDukUWKrZy6FqIT+5JNGCQGMIrCEea0gvD7wlFMDzAkQSadrSW71Sh+kQDqWsjwBjxKZIYUfnULBkT8xpLQ6QJNOck6I4ZTgRfjMPCQr80ZWI1qV+0lEpBMZ7QB3g0LZRxTWob+XHn0IT6tD0cpJZmf1NugqkCpj8dEKsHxkvcypSEklBTKpk1EdEZIs4RSOzZed++RcS4IYj5lyyTeCs6EkW3tSoyIi6MtYWN2e4VTr+uw21oqPOFFNDZSoknpKRamqBXZPzAAlEKcCF9g5R05Zt9L6C-TKAQnYOXlTdmSygRvE7nFp14axz3QPeP6fb1UDPck5QM8wLrLHjhz3QD3BzKAAFQVteUBcn5o7JbC8yERSgtZAiP8ziz-Ajc52TFKjmdyWoyrDuQLOFAkiUWfsw4fnzzxoTCkT43MmaLyxl4QJtASvGhK7Z2B0IwEA0Q8B0nltfsOkisoJLvY7zUB4gwtOhiLT7yfmQzaQPZNqA9pmY5ZKplXXQyXy+OgMWYKZNWhoSWR5zNyM4NfGgBpREfSMTUOAgY5P5XsVSV6HUn91NJqwPKZMBkTEA0Z8ollhVG7m8yRRkE4eRvNkA8YwFtInSf3ICBALf8LEhaN3NQVezyRAcg8KqO1DFxU6v87SURLvYELTwRCmZOqKsCaishlCnUetGQlZQVxjgYsWxAAAy51asbcTIS4S5UMEoCmxNbH-zbAb4mEl2KaH9hLgL42wP2J3FBj6USinRbmSqZziWgRiismYs-mAhlxOY0RRIqkXbifgu48uEYsPHvjkhFA1Wg4mPFZDTxoYuzJeOHmp40JN45IdJH0G+K3BJFLFnM1CW3jzBiHamm4pUXtji5HitwQ6BsFfiWobE0eCEXfmGg2JLC62YhKBnQSrAsElJTCLSXglgBvNe0G02FG-yK5NSoYbaPCHlsPx2SjGCGF2G4w+oHglWuXC0EzIHxcElsc0qxB-y2l5SmZIYPflGKsFAC8Eh1W9J5CCh-wY4EwumVTKWm7SywcDJqEpgGquUN0SWz2WKVWIjCtpmzyFx4MWuJy0qIR3uCxA6JTStpgcryGyMnlWaLQM+y2brK3BCwmYIONF6vD55FoiNK8KYbfJRQhfWMQsO+C4ht2I4saYOJnmLjaA7KQ7mCqE5LzcySPZhNGNyj+LzxdmAlY12YQL1CcCQCZecEsHI1gEUSu0Zx1Pazywlbgu5SkFUAswTOV4jlbeOm7UECVugQwTStUk-ACVHSiJhCV2nhkb6EtHEJYE-noqexx8xBdDTbFexcFW83kAgphlyNNFVwcFako6nUyoxKnL2GSpbAXizVv-alTYElWqrGV2UCYiyuyD8q4l6OTlaAO5WdU+VbKtib6uyCS5yoUk7+cZBEoSq6Vgkw5XKtNnpd7ZbiHdqqqZAErMV8EueSfM-mZqSQ0cg8KmuKWUqqmqajNZSovZlqRxealYOymRUqrpVtNDFRWs1U1Dmgj4rFfQC9giK1xJYssZWPADhwe1hYvtZuOkUiqRxYqkSu2vpXQg4xBsioMg18H2oi108jVQkWVX2hBJTa9VWhIhLMIZ1Si7tXYrEWSLB1kwERaeqkX8iYmbEqdaPEPVoTF41-FiIusnmr5XaYoSqlzmiQODr+aAl5tfXrEul0I36oQIBrlo1tiYF7W4D8FA0+Q+2xMctq-yA2loP1Bxc8mBqoQQb55dRX9RWSnyYafIOGl3henw0waTQoiBwFht7YkaYSKGisvEBBDHBy4TS-DbvMXzQbl1bib1nc1KwYISNH+e5Swwg2UjaAlVagFpPg1CAkYQK4IfPL2IHFpN2G5Tb21DlP5LBVTUDZJvgWUav1CGqWDRt0hxSblzCqfKpsM0Ia3gd3AMhpryG2peVEFYZkfVM3TKLC2mokL1Rh50AJNWkojTJq+XAqFNmpfzdhtC1qaVRZCKIf8piHcDsI0AzuA4lc0tNv4rscLTgmo1WbAtwQ27hRREqYadN2kvTeFsBAlbrNtm6BfGooSOaSKYzF6MlpWoFbPNciu9Exvxiv0ARMquWt0vkA5KKo-S6CFOlPkHAtlCgHZSlra3U5xt+wdVsQuATcKcQtSLIeCWRAfAhSQKDUUtuiVQFoIKIdIDvly3JA5N4Q6rXyq1TUBZmLEBrRYUm3JwWtMBIcQvVr598Iyo20tqoEWJSpfaFVAOu7WOJ8deNjrBpB1uO0RN7YvxTxZ+N6USyR4iFZqFcBwgswlAhPTCClnggzFAdMLPMNg2M0Aj+5heGPhxUlH6lxAOM3GTOzp4fQ4ems5nk3V213c7WrNSFnxpWiLMdGC23hdttTkEQDtzUUHS4hq2M6bmLO9PC5re3TaLCmOp1ndpwBcihIyEWHtAK9gABOOSN5rvIyrn4nfJdIrqvIyqaabgCevPDqk2dht3wc1VsCJmRQ7ARrLCUjwCC3loBigYpsUxehoB3d-qxWZ-3KiO6ryMU83WD3MC+6WwHg1wJ8g8HzEBQdgcSPbkVL-9-Awe-XWHpvy6AbQwY4PQsJkC3z75ws1RCiuy2dKD2oO07U5pvlXkc9Gea5eLtuVaQy9d86VA-K81yotW02kyFkxZioEsQTQHMO01bWpQUwXsUVma2ebZM29jmgBjJEWbhwVSVkRgN3uWqgBOGLEe4KQStLklg9JFMSOJC1aALf5ZPcff9Awqi0QwG+s5rspTC7pQYps56SqWlWbtt2V7TuBfqR6rq6J6a6tVWtnnO5n9v-GfV3p7wL6l9K+31PboT2679gLELfeaQJWXtd2h+rfcDCv0DSTAz0+VUUA32QGoD4kNpkfF5G9t4DCBxronsCGDLPFfWlqANqsRn6UtAslHc2kzDwQUwQwsVaToIAiVEQaIhrcKMvobaeFW2u0TvkTRyrPpk+F0mAjoA8RPkRIRzUcv72D6WlWrE0TAzH0-tzCk+zaSt2hoAEFEXBpg1KV4OLbNdgh+dftJw6+ke4xw7iOjFWFAobh8gSQKQyRAnQdmMDVvXQZr5KA9DeabQzWAJ1sHR4iIepX3k22a6scB7agmxUMGCHEkLeppcUzFGKBcZAAHSwDFrjaNUDkPgFxBYMDtOFNyinH6iu7WIs+7veWTkixHmF8Rs9okaYEpG0jhU6VNQAdDZGTRvKQgKgRrBocb+igdo6AAABemNcwCkeSDDLGjzRjxn4a6MDGCjo0IoyxBKM94yjg272FPnEOSGmI8R9I+XEyMtGNKSTFPA4dJxH1SAR9EZvZGKazQ8AFR3ZZsYaM7GJjex35kfQaDHHTjizOY8DCAA')">function singleton_stream(x) {
    return pair(x, () => null);
}
</pre></div></div></td></tr></table>
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.7' class='permalink'></a><h1>
    4.4.4.7&nbsp;&nbsp;&nbsp;
      Query 
      
	<span style="color:green">Syntax Procedures</span>
	<span style="color:blue">Functions</span>
      
    </h1></div>
    
    
    
    <div class='permalink'>
<a name='p41' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, used by
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), specify that a
      
	<span style="color:green">special form</span>
	<span style="color:blue">syntactic form</span>
      
      is identified by
      
	<span style="color:green">the symbol in its <kbd>car</kbd>.</span>
	<span style="color:blue">string in its <kbd>head</kbd>.
	</span>
      
      They are the same as the
      
	<span style="color:green"><kbd>type-tag</kbd></span>
	<span style="color:blue"><kbd>type_tag</kbd>
	</span>
      
      and <kbd>contents</kbd>
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      in section&nbsp;<REF NAME="sec:manifest-types"><a class="superscript" id="4.4.4-sec-link-2.4.2" href="./2.4.2.html">2.4.2</a></REF>, except for the
      error message.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (type exp)
  (if (pair? exp)
      (car exp)
      (error "Unknown expression TYPE" exp)))

(define (contents exp)
  (if (pair? exp)
      (cdr exp)
      (error "Unknown expression CONTENTS" exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuTLiQA0oOQAFvKS51GGJoGW1rb2SSaJSURj3VYAMghoDeSm6u16oAAvCjnm8PhcDkJjqI7OUlCwlgiVkkfuY-ttAZ8ri0bmFweQngAiYgE+RM-pDbEicagOgATxc2Uk1HwklZhIZ3w2FIBsO650oVQ8JP0nMOo1xgKUdDolCixEJeilxhlWwBZwuNLpd2Jj1ATJ1eoNRvIHKxmt5Tv1hsSoUFmWVNVVpt+5rs8tUirUkejUrV6qOPLE3pdfvm0kWknkAA9NJZdeMTWSzLKI7kFSC1HG7V41Vikyc8VI2qRpEplLji2b-s2MZdrrJ6bXGQ6NPRznpJK3253xhzfP5Gk1+9ah7aVfamfMIkpnDlp-I2x2lLiFw1l5aB7T1wzmZ7aIfj3PaO6uQ+7DOT7j-UKg3tSVSMsYQrKMq1UWNwJHBNEw-UAvxfYg5gWd5c3zeRC1obtyXDEC4TApUCP-Xp6y5RstRCdsXBaJRszzAs9Sw6DQ1LXCrzXW47wdKjnBouj0Mw4g32GOCeL44FlEJKZf0DOhsNY3tQBYJRNFUAU-xFMUJXkJ5IMI6DSJEnFeTE2jMhafl5M2RS9OrKDNzrRNyN5EIy1Cc4FFdKzgPYwdOJHZk3LCU95FdYTnLENy0IYotmJLYDbPjBs4JCccWjkcYVCs6zKV8m9-Ic0cmTSjLaBUfiYtfYol2XKkrT84dCuZErcXK4LPMScK4JazKZnQ9LSBC7zcPXSRLHwLieFg4yxB6sqZnHOh5AAR0WY04qAkbbjG9ouP4abkx2Wh0tamYVCmVkqFmIlCulHDFNG8auIAZiclKpCW1bEkocqET1Ls4oASEBntcqkakGo3YMt0+taqF+jx-vnA6mwIUEwnckKvI2+7KUSgyPRmuwlrSzGOvW26WJyuVQLjGtbsM7lUYyaRqFIABrbKfPB+r8sa6G9GZfc2fZrqidAYWOckczLJx3Gafw+mBYMN7xZCFTNFkQaAcp+K2J568bS4x1NE1yhteRwnDoIImKowxj8jl6ny0V+zlcZuCOyiO3BLkp2Etp8ClYAhMGzwD8GHwZg2CgOBEGQdA+B4JmtXkDNCCGgLQF0WY7oUsGbimLLoI2NIAH5QEmRRyvTm73dLoIAC5AW0qUG8CCvWeodnCE0GThVrtSA2FUVxTZKUnhz-R2-MZv1dNrXT1i26Z7MCuNekSy04WIaPx9h2J+z4hc4eVfl1G0fa7kr39-GP3bsn4+1SwQGzDnqRqE0avyGoRhJGqZwkQl5MRXrVCu29MxDU-t-X+-9WCAMuuMD41BJAb3NsAx2D8j65zPu-OBxATq9TbmA7OGZ8GEPmlxKeuDASmVviA+uJDlLs3eB+VQdCJJsmkupWSE8z61TSHQmWh9qG1TwbDb6CMahIwYSHM+4CyESL0D9BaiNSqYPdo-HBYjAShU0OQfkZNQqJGIcuCurR2idBaDQlmItTGNAUeVSWnMs6iOXHgoKHljEU0YWY0h5VPFYxMa4p+NipCpl9D4uRJCIGoMLGmKJtQtHT1fqAPBe8EIYKlKkswL817+MgQoVQGSjwzB-vg4KU4ZwiNCTokImSda+IcQUp8s4skhO0e47OjBmBgizkyAAqsQdmxBqAAHdib8j0EoHMoAAC0cyCkZwUOFCKdgN6WWEE8L2dA87iHwKAVQIR8yUBYBla6kg2HCDVFTeW6yF6GJOWcq6rCibFJINsxgURdkDHMIMbO0glr7MOalDwrRLlvOuXs8wi1yCbDoIQaQcKkRLN3rbYR1zT4COxaUXMCgCHZmPqCWgXl+E4tqnvThUlFByUxWS8ljQdlYoZSyswe8c7EsiXcKFnI0jcx2r2ZCmYlgFkRQYelFc3K13wfiu4oqkXTxxc3CxHQEgtF+WYf58hAXyFuWYRQvT3nEGZEMkZ4y7BwQMV-eZiyNlvj+WRUS21L4oTkmhOgyS9XAWUqpL2yIAB8qKile2SZPPMPzHXi1iXNVkxESSepLM7KkjBCCvC3unTOx11HlX6ugop0FkmKpiRm-NWbToVJWnDGpnSukQOWTdAh2azpIsUIg661bVbW1iUo+GqjpHqKoU-W5sK0aMAxmEFg5AhWLGRKAelQalgdDHVO9q3ioYhweFPDVZhKAHKOVIKVKFinoxXeQSd075A3MTWGRSS7x1nqnbXbdoAtU6r1XchdakjzHSMdjB+W6NjDA1OLC+YoSARK6KobSuzbnepUlBtkAaHQACpwPxLVchpkTxoOdtRnQQaSFqCptad+O+XN9ahErZIvt2gZEaOiSQjWuhuj4byCKYjDSyN3tPUExJqp9DMtZXyAj7Gp2cdoHJEmP7V1-vds-AReDxP0d6PwzunElP9zjUUItXSKjSGSlGshzjB252HRJuFMtZ3OOltQCyUpn0jtZoNQFs7WOEY46U0jEnVAy15TC8zoA0POjVQwFFoHJBBZ9JBpzKgI03spHWoaMsw34tpBy5gXL2Fs1i4JoTeWgiRYNF0D1c78tlcCFPXDqcyGBPJuupJ2DoVwZYQK7YF7VDzs-VFei9tl6aMa1V3ksSImyYAgmjYI7a6zsS8G9DroL30OU6qZJz6ImafayNv0PDsiH1rit0GAIn2Rq7WQpTJnoVre2zMQeGmruH068uGbSwNPSuir12RvRcvldxU-Pz+cAQqqsWHMAEcmCsHYHHLgic0DPRTi5cGKa02qBzE1ijmRsi5HyCj0rJCcz8Obga3+yOhZZByHkbOeYjwKBaE8SwpB5CUGui0Ruqy4LMNeYdVQVKrA0qeMlxrsGtr0mKmCglH4sMPe51MEr-OANGWtqCmo4Krmo8UnlI2+Bmqi9pOLlGWpKUnmpWO4pqvKSPV2pr0AU0raoz3hi03AJzcTUt-tG3+vbbpZJSY-ADuJjbSepb16Bnrbs9a7Ydr45ZW+8rpxJkh7hVYdAJHoobv4dh6QoPWu0f1e3j2w6ePiwxbWwL+8ZPxos+C5soHQiWfBtiF0G2agepoiEtmJyryU9K+UjjHLtZo6MZR3Hp3xNAd8K95Ha8VCcQDGt-b4kWdemBh99D4PyUV2StX2j8CUEQ8-wb9dXr3kq-3jr+KZJS9axzAHZdt0Y-h+xDH4vbS8-3x1jxYBHGO-wfUZ4uY7PjLXk6+TwGYMuOoqEQ6I+I0ugUQrwu+skhgKIYW0BsBIBOmzS2+YIK+5+cB2Q++gKAmEsYBreaBpQzcOQ0QsB6+hgAAPJXMgS8KoKgRKt0oakyAACpZBKR5D8igBexOCJAMAIoLyUBdDNxMigAADUOOeWYQEQ0Qu6lkVBkhDozIyhD2QQshkQUQChjBsW8m2KBOPSRO7BnB+A8gYyvBXy-BegghvcZsohDoahZWmh8h+Aihw8+Byhie4hUh6hgQLh2hbhuh+BdeEwWQPcfcV27WV242gQcEOcMgWQqkw+M8cEbmOBgKwBeh76fKFGemGRuyfhoA4Cx8iRn8HW32DerMze3snumWlWRRzcV2yIqIkYVBRR+SkYTBZWTRBGREBRBBcYqBf2QQwwjQu6hyOcLRKKk+2Y0+hidRro0KjQhOYIMRDoQymQrQoA2k9qpQr6QK16pQI6x+s63Gly2BAG2KwE6Rj+p+d+X2eWj+V8Z+bIpEjQYxDq7+dgCRXcyRT83+Wol2Hh0RHhWR0gsR5g8RpRfxqgKRjQaRfRQBoAqBORQQ-K+R7RLKJRswZRqkHRVRTeWh-+XuxoDRLKTRHh0xeELGHhhRQmFcS0U6XROWKJKgJBSqwmeQ-RVBTwQxehIxgQ-yM8ExcJx81JsxeiM+ixRQaJFWRhaxYJGxxAWxBCOxiGCyvBc2nUgpfyAKhxZKJx5+ZxJ6FxQ+AJZKNxfRdxdJrxhIAmHRcR5+T+dpl6upmqgG1+2CeJYpucwONsh0kc0cEOnACcvAGAcOpwUgTy5yHOTYRqey-KEMfM3KHyDoMZLyReqMGZjO7wpymsa6WS1yVMo+lYhEUKDYI6OZFyoOYWnE7ct4TI8oie5g8oOKDppQjZ0YLZZg0Y7ZjxMewuGBPZoAGB-ZDZse64I56445nZse5QiK0gieC5lQtUHZgise6UdAmsSg-IieW5O5PBy465QQjZqxPZqx2KJ5gQjZykrwqCzgdAWGd5LwD5DAjQ155gjZEhI55gxOoA-ICBgasyUhR5n5ZgjZcyv5Zg-5gFSGsyiyYFA5jZmGTwaQsFQFoAsyyGAFZg4Fg5dwTIwA0FhyOYTwcFSIwFoAYASFE5wuAApCRRhfBaAPRbhaAPhY2Ygb+cxZRVhdSYBchbHgAIQog8VkUAWYWzKiUoqCV0WEXUFMUSUUVUW0FmByVznC7UFIjQW8WqUoqSVCXC7+pKXkVSWgCBrqWcWx7+o6VoWBB6X8W2VWVGWEXCUkX8WBB8VmDCXmAo7tychVkRDPK5kQqHSaahYzw+oQQVhPDVlxm4gRpBWnKxlhVNgijOAABWVOkVjQ0VwgSGjZ8VieiUPKA5QQ8VaViVnIWAyVIVFysKeQ5AoWBF7CsegOaqieHVXQ+F32X5sekAxAqqcge5aFg1w1BivVfVrVTIL5kgsAkAPZc1C1U1fVt5p4r5AAoiOXNZtatd9o2QAHJKCHUkXHWHUcnTUcUDB1WpWNVTjr7IhRXwakBIaRikAEGVX3XNWBUBZfXmZNVP5PV5UvVvXV5VBqhxXBV3UA02E1WewPJAjQ0vJVVFhbKWFRDrjR4bKSCRARYEKKCbzEmZVKDzD4YRD6IVEMqVX5k5CuhFkkD7VBBexY19BBDHZ4ZbB9wynGjR6-4Eo813CdZMYEJc7I2hV7zImOmjni0NWw0rp0lM3mAi3dCVV7zUBZU5VPDS3-UTiA2b7lWlCSnzEklcpOQ5BwqzGY0a3lSC2uZc2m1eQ1XhxExBng6xyhncCYCRlHR6DKAUCSBfRhBILKSMCcw7g-T7gX6QFq4OBOCuBgiJQR17g5AJgzwVyJT8m7hR0JheGSA+F8jhBaE6FJ0diR2p36FpDNyl3Z0V2p6zSsDKSUacLU5qRF3RAwYx2UhKCkCkBOCIpDRqTbK92YUMBSGqA92vWIEOjiEVxMjiFiGqFSGT1K3Ljz1PABERry6owkASRLRt1yFRCfLfLH34173R0gzfGF2H1eGqAF3VBN1LQt2QbRU3y70dhLTH27KGBSEchMj112Dv1jrvBTAsAT1fLZ5x2VDgNfDp0Oh6ZMgzx4K3heyGBQhnz7riiLn9GoPVQ0k4MQOGAyUOhlwchwMxX4SoPUlMikOqZJ60DhA91TpB0-ih2cyoP44grhLCEWxYRUPoM4r4iSjso9aCQwNp0CJz133KFANLQfCKBgORg7LiM3K+E4riEF1RGjytwiMCQHy4NOHYoaMyPEDn3yOMCKPg0wPXyEOqP0p-2cOyNLBMhTnH1PBOPmMsCV1NyAgYHiNwNON33DlPC3hKMQN8ngS4PuOmMf0gMKOXVpKAgBH+PNJMgADkBdfqv9GTSD19xdQRqDADgWMTwDgdiwjAlkX0FTkDWD0DhILgbgkYVTGl01jZeQLQ3hv83hoybozIToigvT+eiK7IEjpQ5iJT+9TT5Tglzw4EzTBBHjoDCTyqEzSwUzigMzcY8z0TZj8zgJvIJNZNpAFNj6KESNbM9scJeYNTaCvD+QaECTamwutzGCieujlU9z1zhtaQ0VhzOoxzlA+iC2+YFzuoX9VzmgozVdLcQ+1zcDjZpDG9IJ2jsLkLyzFOmg+zYgzT5z9OuoEL0Kop88ZsdzBLyx9DE4AZ6VzRKKM8WjWk487z72nzaLz6ZgQVoLS0tIOys60VOLILeLJWyjDzupwEktVJ09TIw5cDfjkYAr9s1wOyBBiU8ruoirXy396L4rf41DU5MrzAgr6r3yuT2rgY1Dfz5NgLpzCeMrIIYIpr2Q3zQQvzpN-zJzwLBr9s4LIr6LfjDrEJMtnLRrcWep2qQKRLDgqLV6DcwECLie9LY8koIrz6BxuqRxwEaEKbHNQJarjAP45SrgqCLQbQ3QDzXeH+-IX8BL1D-Teb-9744scI3LubP4wiZbXdCs8IDDAhZL-p0CiEGIUdcVqavBapVw5AuAIOwZpALwKkUwoAz0hyJMWoz0MOMO08feTobMqgLC-ItO36jALQndXpK5agdOv8R7CT5g4zbQqqXQnDlaWUu7ukoEkY57h7mrzBb7B7l79KzcW7pAO78ge7szhE77l7oRXBLW5wUdqg0Kjm2WZSKduqdZwuyGMHOQmGIxok4RvcQHhiPATwu7kg+0aJI6CKzgGHKHWpdA27xHhHoHagMWSHOd7pwKmD3VLGhAlHyH0b1xuEnHbLobb6RxaQI64Hs6AH+HJHEThEFHVH7xAi-KnHqg4HV7JCnHjRjHqnP7bHnxHpcRas9AAz0nDHxH-A4Jiw5L7LAW8nyHknuodHwHkgDHcYzHg7ddIpe6IQKndnrHcp5gTJGIhE7nVHTrtUfjt49HcVdr0nFnbJwqkN0tgQbniHHnbpen+pabhpAWEnKKUn5nsnagfnnn2KEb+Nt7ViOnGgh7fHQQOSGhVgwXxX3HYXeS5WfjfjhXCXVn4XQmcYJXGXAwDXqbAXaQQXcY4Hlnl6QnaQ+noxnphn1sB5p4M7qgXjaJ3quruHmgiDDKncO3nWzcbAkrkQS0db6hFcZ3Az6hhhhqLAJqwyoyEyoA-bGCNqszUdexBnH6K35AM7lZAWb3+b9nKKoeVHcHN1AW47s6wPSCEPLjO3b4VZI7KKcPj4CP13db8N4soeCC6U0QuhtdOkPX0dXpfjydQ7pP9+dg+PxJlPOQPmkQBPXw5bN+TPja0QNPEszP9PR6dPXPbP2nAvXwRTIvuNSEx+RP5dJPd+QvUnDPsvL+RT-N3Qiv03TwcvHbdgfjePvPhP6v1Pmvyv2baeO41b2vdUhst4aEzIpDkHZ3k48MRStvTAbI0TqptIO4kgs7BCOQjA0K3Un8W81zaJ5X5vIrY3FLYQPPnPUQVm+v3seNUvrvX+lpFGKnIv6nfiJAnvyEf8vvLQ-vELxvbxWnGgmglk4vg8WfmXYbuq5Xfjkfon6JuEfjFflkkYIrTwHf-RPrs3L6WXUfGbeYA-8383wEvfDzWLxM4QuQLAqCpsf+bQ7Y-IkGdADHK-u51wdApHlvp7akU0cDW-a-tIu-cHuTsroEG-q9hyo9c-BIi-X8BKJ-6-D-C-A3U0fXV1gQr-Z-+03PSIFMDJwXI-+h-J4H-1CB78T2UDYrkf2aSQDz+vrWLm0S-6dY4OSGIAYTVyCgDtU2-boIgP4Bwdv+AiDAXxVkLz9muh-UOKbzEAUDH++AdsGengzo1j2V9RgaeHxTuRLABIA+pQPypplv6RTDgeQC4H0CwG4gmppiXf6PMdii5XJlgMYAgD3gYAslG0RkHhcyBgaEQWIPf58DH+A3GQYzD7yq9caYoRaLcBMSG8aIo4LXhNgCwi8E+cfCXmaUlCG80+V9HzgTTvbdAs+dDVXtL2Q4QDTwpfe0pw2BCiDW0kgO8mt2r789E+BBGwaEJm60CdenAqITEIYIRDghtgl-EL1OKSt8AVYLoOITgZMgihSoEobk0fZqBsh8EU8IYDganFckjQPBObwiGNDmkpg3dBUksHGg6hSQt3mENaG+NYuHQ0AFCFGE74bBsgiIRdGiGrcGCcYDoSQOXBxgZhqwxoHMIyGLCKGqtBoZsLKyRgNhyXBlHfnRblDihHTGfnyC0IW1Hw4g5HFvli4SUtBcgyoJBxnZHh2YqCJCLWy7D-DxgTwfliENAA4s7BgQEdJkJ2gIokUs6bYeHkyGqAQRo4QEbQG1o-9sU4Ik3lfWhHypkUqIS4ZUI6ZwM9MuTGovcKQiPC8RGEMVJB0IByNmeuYLnA0KF4hBkmcrBoZB3HbcD5++HMzsB2gGQjbOs6cdvyKI6CiRiynbwVVxgwVw9MiTOgDcKZE5hJAxHUUCyMAjCjKWu7WdJyIMDPp+U5vXdoYDnqkNEmu7BsBbVABsEAAEptUkAABBcAOAE2oAAlNgpAAADyh1ZACikXw+0CAVgGdnEnO6JVNRF0ZIdHgZF5kCaOYCMa2lkE8iVRirFtmRgRHEB0WPIlQGdDTESYim2YyoKGIGZkZo8doh0c6NdEejvRvogsU1xTHNswx6Y9IbYGjw8jHhKotUc5w1EZiCCjoPMcQDmTiDWc4sVVI2JLHeYMxUYoXuIMuRMDoq86GwU4ADTqEvhUsNjGiPyBLiHuo5FscaiGGXpv+Zhf7q+U3FyQpxB44wdaJTQHgNAJAediigAAMS+OCAkDGRjRhmT-ReD+EoDdAmsn4u8XoEUCzobxpeIjEBMYDKEeAho3CKBLgT3jFARTUPG+Pz4y9AhVPOCS8x-EtBnhO+Ghonj8aYSeGGCXGjTm06K8aBwGYvLoDZCoTkOUgSIKp2Gbwdcun4rCUgl-EL5zCH4g8OxMfC-jIeGwS1JYHeBjIVAnMdtjPCNEdhq2ZKCuMhO4mK8S+FgNicROwnZ9EmxyWLg8zkm7id8c-USeJL2FktDhzwESZIDEnSBOYPea5t4xGGZtFuH6AyRZKMmgTIObQZ-kexFAsssixPacYmmEnyBDJVkuEtZ3Y4hAI+dXWqKKRqHoScgk8KKTimAjhBFgA-IUkPxb6NAR0zgJwSzxcEp8oxaU0oNKMq5qofMGkyRgQFizyBkuzcZyZZM5hxDhU5UtjkKRfijdMpH6LSTvgvwPYK49UoyV3xuR+AzJQUlySFJ7x2SFMVUnVGP0cn-Y7AA0kKdP1SEU5UsZgoEE3j1CwdDeGYfyfYMpaOCUU4vZPtgXcE4jgge6Xyl4NKmQZa+m3ATsQAUILCTxHPPKTXwSEYif+e0y8WzUAxD9w+MkjMFenKx4BkM4MmeNlMT65TiSp08eD9I8HFTcI105oDKLKl+D9uxTZ6UiPV6nCggTUxYG9K0K39yUd+I7mtOYxxSSeCMi6ZqgBl7oPJzGD+PkB+nnS3ir+MGRDMaDAQiROQa4f9Pr4PTFIAQ3aSoEKmekqJO9J6W4RelrdNADHTQPFwhEfoChhIioXzL25jMHQ6sqofZNWhZR5ZcVfaE0PPwKCpA7QqaNISCDgIcw60nobRm2mM9DZo5JWS-jNn58ucpHOBt0LFAOzKAsHRWXFQY5y9qKYAcGchndmddLZkw7qWCEVmyCSA2M3YcsLQHlZlh+0UyeYETkyykRcrVOZiKCBysM5eM5cOcNya8yShyog9MMwnoDiamyZI2JuMCjDMsyWoccG2AZFFg3JQvRKG5O55wThE3c-frAP6KTdmJU0-JG02kBiT+QCOQvOi0zrgQ+5kHHGrRFAlMT4pYI6ZkCD3HAjt5ysmzpSzbCY4eJ1HSwNpDolR0GJ+QNyQ5gCzZzDE+I2dPSgfmyyGCKIyMXjPbmZgD4x8tjG5MzlBBsRbxGCYpFflPzChVwzWeXHeHSBqhJad4M0w3nvBhEf8pCAAoewUirADwvQeAtpEKpzaVgG0faMkBuiBkAAGU2p+jYFL40ccGNfKgTzxu8y8ULxjES82g8Y3sXA2TFxjrgjChMa2NyaFiZg-C7nsItPlyQyxJCshZQvAB1ip0DYiRQIszEzj3+T-SmfOnbF6DOx6oiaL2MAWBA48wzIce-w5Df8tFPAsBvhObk5ATFlijkCvMRr8KLxB8pNLOJEELjyUoEpDOoVXmnzkFMXSIbYCjFHj6FSilxS-kg56g4gB4JBR-NbTJDeRBIaPO4vnHwZUixpPimSlnEq1Dwq-SDA9jHHFi82ZGeJcEsvGrC3hONfhWUv3HnDyqdxGQTcKexlMNmyI6ZokskFmZKWy0AqiijFFWolg2zB0C0uabfck0N0yxGVN6WM06G0Sgsq0oqbtKNmnSmQZwxmWYIgJNhZZdU1WWWKHe18jhch01E1MORoEDoXgwikyT9RxgtIj-EsDFKfxSEFUbXKbG0BCW3nQ5bmGOWbjEp2omPrqJRQ6LuxE0X5QPxHR90ekfoTcUkpO4dELFfI59g6E3F2L5+4ywIJoFTT4c+mA41FQSAlzYo-GTcu-khkhXnyp0MKyQSMQ6kSy+8YQX+O8Dgl40XlQ8g6THwzGzpv5ncrCLfI2DlcVRxy3sWFJHSArxAcYrsYYh7F7i2OEKmwOStPmwrgaeWBFbwKRVGLbFw4tjpiruBqrQJeKlgASoESEThmTwN4WSr9BwSqVKbDKbSs3bFsFVsCTca8onEqLh5-i35VbI7i8F7V6835bkybaPKiwYKhttbADVOqPViaelQ8phXMq4xzqkpe8rvmUtsg44hNfQFnTlinRLo90Z6J9FyKNgmaysTmprHUKiVA401ZhRTWBqJMUo3CEyG7j1tt6QJH1TXNZX+F7ljKz8bGo4XIKRiI6KtYwozXSKKFVC59JmpkVUL4RsXUCRWqQwDrhmIbBaQ6AbVVy5i+iQxOOEypvJ3UUg7BjuuEGmlN1OICFmwI-Rd9w0-cjCFOiPUiA3UF6oXjZM0Bb0+8IQKUoYi3JbrOcO6tkSPP3UhrbcppD9ceu-WW9z1T6y9RjCA23qT10eR9c+tfHyAogIUWkEgpA1ekwN8G8WBawBZAsRwMGy-C0LPWgQ-1kstubQEyrUBGJN6igCVkaX7Kf1a6mfNRp1jEBP1NG2QXRvn65NN1lGm+VevwRsbmq7gVjTiF2SHDRl0zY9MugE3HrmNYm9rt9k43JKnI2qu+u028ISaNmieHjZEBx7LcJAFGxiVBpo17L5+NTN9dOAM1vJjNP1UkfIJGGKDlBeS-AVTWxSaall5xGzaoBs1iaDxsKh0g1xgqYUP1vGnTpBqs3QafNAW-LEpq8aJhVN9axgBpoQWLLRq8EAzbxr02owEgSG4NBq1M3JLVFliucaeE8U4oCh-qBTWkAP7ubLIOW5DalusYky+qWCn+FSL0HnCUkfiVrTgssWukUkr8ZuHplPiBa-NkgrEAlp6bJad4CgVLYnnq0KAstqcHMEeFTRLBJJV9J7MpKtqsxnAttIlAARTyrTsN7rQeEyjG0yCWINxNRR4vSUCIKt-CXMKtqKSO8mqP0IpI6RO1Ws4EysJrckMAWMFNeQFZLqsUB2eq+qgyJ7ual3FwodwH3Hwi-GBhBAmQX2oFrXAcXZ9GSdw7Be1r61kzppw2-hLFvi1YqUdrrS1mjpQjTbCkiC6ZonlR3WsrOS+KETMks3blV+s6AAJwDA4IB5VfrCrUiB9xYfO3crCtxpTA262GMKeV2kF-LhO4bPdHYGnqPiwpv-CQIeVUBpM0mzINALrvRXy7su2KEXZ32v4qwipZgY3WLrkBuBZxhgggnYEWTW4Z44-DYJbtnHW61iTwZSKqON0rzp5u5OeUsB9AMqCtG3S3rFom2k6VAM8wPdTvrRzbtk-u2eR8BTQpC+8qrKQEgsiDargCigTIP9DgqJoR0y0WdPy09b4tz6RyUxiO1-p9AHFz6UUtdEYD56RqoAYhkyD1DkE3QYU43XfQWSLIM9W8jZmKu1VmB+97ocHRbvV2r9VAHjOJfWEH6CyjA83UUjCoLbvAm2kGZaHLrMABq4JjqgcRPXtUwrhE2+tjo3rz1EkDEbewkZ3p1JR9e9TIfvZqU3HeqS2NqZ-RPo6nj8bVjQR-c-s1LNN4UYqBgAAYWT66p97O0XY8OyVqKytpMzJZVvyxz7JNpw17coiGjLR-thyWYEDqQy5wSZtW5ERvWx1taBdemGCFm1I1H5TSeQOgGMjcDZ7U0LEnpaXu3kZ6WRwDKvaPtr3162VcKY-C1SINYHbh0QSkeQcXKKcl1B-QQ7IJZDUAuCJ4rQvUPOCINAYKzXZpJvQPO8hlL7fCLIdNW4GCAmFAgzcMGUW8YBO8nqXC2aRgb0WoO13pDrNQvc3sgkZ4JWxGZFMy8QmjbV1OjLaSbDWsx9fYYVLKSnDz3H4qIwdgUtZUT5FTeXsz2Sa0m-w1QD-wAA6WAX1UvwJTlJ8Av8MBsNoApmUbkDKbXQ6Cb357PDWADPY1uSMttUjV1DI1kc8nIJLk+RlkTvkIDAECCIHPxl0dAAAAvSGmYAyPM1sjtIXI+0aMMgchjJR1lGUe3CX6lob4VJCMFoP0AGDYIZI+MdaN5GLGsFEJrHiUDeFnA3hUgN4Q6Zqg0mnIPADUaQXbGWjkx-Y8pUOPPMTjZxi4w4oWPuggAA')">function type(exp) {
    return is_pair(exp)
        ? head(exp)
        : error(exp, "Unknown expression type");
}
function contents(exp) {
    return is_pair(exp)
        ? tail(exp)
        : error(exp, "Unknown expression contents");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p42' class='permalink'></a><p>
      The following
      
	<span style="color:green">procedures,</span>
	<span style="color:blue">functions,</span>
      
      used by
      
	<span style="color:green"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      (in section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>), specify
      that rules and assertions are added to the data base by expressions of
      the form
      
	<span style="color:green">
	<kbd>(assert! ^rule-or-assertion^)</kbd>:</span>
	<span style="color:blue">
	  <kbd>assert(</kbd>
	  $\textit{rule-or-assertion}$
	  <kbd>)</kbd>:
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (assertion-to-be-added? exp)
  (eq? (type exp) 'assert!))

(define (add-assertion-body exp)
  (car (contents exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuTLiQA0oOQAFvKS51GGJoGW1rb2SSaJSURj3VYAMghoDeSm6u16oAAvCjnm8PhcDkJjqI7OUlCwlgiVkkfuY-ttAZ8ri0bmFweQngAiYgE+RM-pDbEicagOgATxc2Uk1HwklZhIZ3w2FIBsO650oVQ8JP0nMOo1xgKUdDolCixEJeilxhlWwBZwuNLpd2Jj1ATJ1eoNRvIHKxmt5Tv1hsSoUFmWVNVVpt+5rs8tUirUkejUrV6qOPLE3pdfvm0kWknkAA9NJZdeMTWSzLKI7kFSC1HG7V41Vikyc8VI2qRpEplLji2b-s2MZdrrJ6bXGQ6NPRznpJK3253xhzfP5Gk1+9ah7aVfamfMIkpnDlp-I2x2lLiFw1l5aB7T1wzmZ7aIfj3PaO6uQ+7DOT7j-UKg3tSVSMsYQrKMq1UWNwJHBNEw-UAvxfYg5gWd5c3zeRC1obtyXDEC4TApUCP-Xp6y5RstRCdsXBaJRszzAs9Sw6DQ1LXCrzXW47wdKjnBouj0Mw4g32GOCeL44FlEJKZf0DOhsNY3tQBYJRNFUAU-xFMUJXkJ5IMI6DSJEnFeTE2jMhafl5M2RS9OrKDNzrRNyN5EIy1Cc4FFdKzgPYwdOJHZk3LCU95FdYTnLENy0IYotmJLYDbPjBs4JCccWjkcYVCs6zKV8m9-Ic0cmTSjLaBUfiYtfYol2XKkrT84dCuZErcXK4LPMScK4JazKZnQ9LSBC7zcPXSRLHwLieFg4yxB6sqZnHOh5AAR0WY04qAkbbjG9ouP4abkx2Wh0tamYVCmVkqFmIlCulHDFNG8auIAZiclKpCW1bEkocqET1Ls4oASEBntcqkakGo3YMt0+taqF+jx-vnA6mwIUEwnckKvI2+7KUSgyPRmuwlrSzGOvW26WJyuVQLjGtbsM7lUYyaRqFIABrbKfPB+r8sa6G9GZfc2fZrqidAYWOckczLJx3Gafw+mBYMN7xZCFTNFkQaAcp+K2J568bS4x1NE1yhteRwnDoIImKowxj8jl6ny0V+zlcZuCOyiO3BLkp2Etp8ClYAhNkvF8h+U0JY0Lu+W+2BUFVBjjZAgAfjw7pk8aAAuUBFGYME0OZABVYh2eIagAHc7Gi+3eQjqOxet8cFD0OSY6p53AQTwu830FPzHTuMs9KXP8+oXvNBLsuK+rvP6Lr2baFb8g6HC3AwA-Bh8GYNgoDgRBkHQPgeCZrV5AzQghoCvPiFmWOu8ouRFCy6CB7T0BJhfmZL5u933-MLnfEko361XTqzag7NCCaBksKX+akAzClFOKNkUoni6HvgAswQCpAay1qeWKt0sGgHTngyyF8FhDQ-D7B2aDb73weMQxoo1kG-zkl7Gh4w-a3XQXfNUWBAbYMBNQKOnYJ6SGqM4SIBCmJELAXnS+Q0REv3IOIyR0ifyqMkHg82MjHY8Pof3WqOCJHHVKqyYiqpiHpwoQtMxp0uIYKMcuExplOGyP-vI5S7N3gflUG4iSbJpLqVkmgphtUghuJlnQpxxCTGw2+gjGoSMPEh2sQotqK04Y-Tsck8xMS+FxMBKFTQEcyahUSFKdJrR2idBaEUlmIsqnyNsdLVmHNHGFOMYCIKHkKkU08cuGxGYdq9nKdjJqhiGm4MLGmAZaSWkjNTL6eZtReGYMEaAEx1CEJ6KlJsswAizDDMoQoVQOyjwzC0YtSc5AnyWKKOs5xOdAS7J1oMxoJyZhvMIcrJ5RTx5ghvkyUu5cq7E35HoJQOZQAAFpYUZMzCFdentTbSEssIJ4Xs6AP0oPgUAqgQj5koCwDK11JB+OEGqTuClKRkKBBEUlV1fFE3OSQLFjAog4oGOYQYedpBLXEPiwlUgEStApayqlD9zA3M2HQQg0hyDIkRVfM51DolUsYRE7VpRcyt1pBg0EtAvLhJ1cuahgSpKKDkpq01ZrSjYq1fa51ZhqGGuYCsu4UrORpG5qM7YyFMxLALAqgwpr05uV-qYvQlSQ2Kued0mpHQEgtB5WYPl8gBXyBpXnRgBc2XEGnmCuecEG7ZvhaAMhb5eVkVEttVhKF255joE8mlwFlKqS9siAAfCqoaXsnnoObara2rS5oWM6ffTufrwiEFeOQxRZzx3lX6ropdBinEJtKF81VN1iAnV6tGhJqzVT-IiWPRde6D3zW0YqxQl1KDXQKffMOo6RnHvhrk7QKT9F-MMZ3WVHRGAYzCCwO5v9lV2tsbu856M7ntX6VDEODwnFprMHiglrlwyBsWLB4D8HyBgZw-IalJYgjASAyBwj4GUJodABmrNObaUAmg0NEmx1xmVOgihvhdHhganFiwsUJBlldFUNpHF07cIdvE2yHtDoABUInZkpoU0yJ4EmR2ozoINJC1A533O-Fwrm+tQhZMSV+6gP7mnyI1roboOm8gigMz82gNq4OcZPUUfQTqXV8l085u5rn6BqSPBxhDEz3b8PPa8y5RnUm9CYeAziwXYEPLrEw3OFRpCvtRq0yWnMb5OIA25pVMtlUFeltQCyUo6OyvaSoBgSJ-NOf00FuLiE5Iyx9TK0roBlPOhTU1z+9bhOshU2JhrAqevMZrpe1QMsh36uzHfI1nr-Fs0a75vzO2ggDZ9F0FtoA7W7YiZu3L58Rm9KxlxyZxWyPtqUD4-1thiOqBO6xs5UUF6CWfYzCKc3yrLMiwBVtZHZUQea59pYwP0woXcb+5Dhi6PLLS292HU4QnZDob-J5dHgK-wu7yVpwXJ3StR1jn+KFVCpcp3Qk7y5oc0463o4jCOwmne1ed0GAIk11IbHgLeTBWDsAPlwY+aBnpnxcuDRgc6XiWRzNKv1mRsi5HyEr47ET045ky7m-NOYhZZByHkeeUcKBdCeJYUg8hH1dGzii8W3iWWHVUJaqw1qniLf-Q9ra9JioeHFR+dTDP3dTCO971D741aisD-uiVrv8DK9MxDPmXrmpx9pMHlGWoLUnitcB85yeHrbSevgJ4U0rao3VdVjFxfKSPV2uX0A+0q+59tu641lSk9SZLxjMvTxXpE7EM7l7SF4EtyKL3hvnEmSRpQup0Ak+vBt5l2Pt7v968WgNhxekuOHTz6DU3VGh+szL7uJv6fCtKyEU31p8+ZBWZ6miCt2Ya2vL3Z53YYevHo-W0o3cjvKgp-mGDZKBFHsMLKq8KhHEGUp3p6sqtlgMADkpE9r4pJEsJTkdmwlvnYD3Agn+NgY2jnryEAYSGljahgd8OsKAXjKBGQSRqvmIAwcRpQWyNQeYF-s8OBAwffsTjmMtvAV5FgU8BmBHjqKhHwlfhMLoFEK8AQbJIYCiM1jkNEPIWIVumkOnPgaPgwQodkEQdNl7hIa-poUELnKoXIS8PodNqAAADyfyyHqGNZmFaH64TyqBMgAAqWQqBxA-IlanKTgiQDA8qaKlA9uDooAAA1FrrtmEBENEHipZFgYYLEYvkyDEXETtgkZEFEMkaoBoa4eYe4WCN4b4fgPIJXIEVEMEW3HyNAmbJEZkbEQzkELkUkfgCkYgrYekcyFkW0YEB0fkV0YUS4XwWIBAlAjApTm9pTmDhsHBBgjIFkKpCAaUHBI5vkCIaABoUxuRqZtljYTioMSQvQisSIu9pzrfG2FZnka-u-pUpuqcbnJTsiKiJGKkaccchnGMdNt8Vsi1vkHGKkU8HGEUXRoEMMI0BhknHfO8c1tAdmLAfyA8R6q6NKo0ICjYdPJkK0KANpNWqUAxoKmRo0IBhgcqgARShgXCS+uEsBFsechgRQcyewdtrtiwWwmyYSKRI0NCTWrQSxnfBcWsb-gJtbBTj0XMT0aISoAsYEEsSKRAmKVOmSeYJsbpscXKbYeqb6ocQqmoF8c6jYsqasVcTtroLcc-t7EIU8XwsUaPHyD0Qib8caS6unEtHcpGGITqY6S8kySCT0TimCeBBCQAnygArCRgq6UiSUnAatuiVPnqUENifMQ6KXHifugSXJhWhjm6DNkECSdmimYEBSXJs1tSXoVHtqoyVqSwVgTySRhyTtlyY2k2XycSRsAKbNucSqXSU5ILkTNvLvKLpwEfLwBgNLqcFIMSkynbgnk2AWg-DOrzEbJig6HOWSuyCQWIFucypICSprIhnslSlTAHK7IRFKg2LKvuQuULioZxO-LeEyPKIvuYPKDqj5s+bPtGO+WYNGF+S2SNv7j3P+aAD3EBT+f7uuOBeuFBaUC+eUIaYvshZULVN+YhbPulHQJrEoPyIvjhXhQEcuJhWkC+YCv+YCtqmRZErPspK8Nos4GvA8AxS8ExQwI0LRYEC+dEeBeYKoIbqAPyEob2jCrESRdxeYC+bCvxWYIJU8CJfJjCgipJcBS+Wpk8GkApcJaJaADCgpsJWYFJWYC+cAHJQSkJUpUiGJaAGAGpdBXcEyAAKQWU6XWW2XOVGWgAmUgVOXKH8XuV6UwrKG6XqWz4ACEKIgVVlwVoAUVzWIl4V-udhblsVyl9h5gSVjlnhdhSIclQVGVeVZg2VWF-u3aaVilcVvaJVvlL53a+VWlgQhVNl+loADVtVyVTlEVFlbVgQrVZgEV5gSu78nIt5jK25i5P4WByIACMm8oTwd55KW8Y1fWS1LuTYIozgAAVkeKvLNY0DJsIPJi+etYvolN6sBUEOtVNVwpyFgONSSpNTcnkPtY+fSC+Xzimovl9V0L5dcdJbPpAMQMmnIARVpcDaDRHP9QDX5Z4WxZILAJAP+QjUjTDQDS+QjQAKLgXY3o3XEvkABySghNFlxNhN-pp2q1E4EFE1B5L1mOwZB1pQMmpA8mkYpAPmtNT19NpWr13KD1a1dNC5DNNGQaTWc1Kk6g7Ngc+kaoi1wt5KotAtKB9KN1lK7KNR64uBlaaKqJkQkgNSjA6K9x21Sg8wOmEQpSFpZqN1R5OQrop5JA+NQQXs2tfQQQta4sXp0CaJXexoOteq9mft62J2dm+6buitG101wZTwAJ3N85StfNjNhBLt5g4d3Q6tts1AO1e1R28dN1otrBadAF6I8ZqJdpK+ZEOQSqSJUQrMzg5UldSqzWPtMCzdqg91Q5h0I5Iu+8453AmA05R0egygFAkgX0YQ4wkgykjAnMO4P0+4JG0hgIjgLgbgiUC9e4OQCYAC6ciU4JHYi9O91K6RkgLRfI4QeRBRm9R929JG0WTpt9u4S9Hs4s1QykZmgSCgDmV90QkmvuikSgpApATgCqQ0akWKIDelDAsRqgwDbNoVTImR6cyDgJGRWRCDJdjQyDTwwxAtRk1sJAEkS0akf9UQHKXKlDhtxAJDy9RgIMQpxM5DWRTInhWRH9tES039YmMmHCxDHYS0lDOKaRDo+gTITBdgAjwG7wUwLA8DnKOtaFagXsrhqD2WTIACrinEqjoAUIxCIq4ohpRECjXw1UvxcYqjhgCVDoqcHIe9BKkYujSDdjSWS+y8Y9dyk9P4s9nMqjeuhjOiFsWEuj+jOqwCSwbqP2tCVj-pqD7DsR0jS0Hwig8jTjnK7Cijp92RtUmRF9sxyC2kBam1tcv2VjAxOqeTWRSTsjqTEEstKjGTpjMEMRpqHImjMWNTnhsFlDTwNTKTjALAj9aQJi+B-jny-WtDgjSwTIYFTwt46TXwoZhEVjfTUzMjAzQzWjgIwxzTDjTIAA5BfV2ukUc9s8MQUao5I5M3QxPYsIwJZF9A80ow4MY4SOvWCJGE86VbDS+XkC0BkRPBkRXG6MyE6IoKCwfgqjucM0EOnF018-c0ldwYRN81zf03I64bnAi6BGi8s2oHizc9M3c4oCJcPnYGbRbaQFbWLVmPmGzPbEnH3CverOEcE-kCPG4X82y3oovlEwJLQjHFdSzVLZSzqNS5QKUmzvSzbrqMI0y5oLvS8hEwq2o3DUyHY3g9KYU8AX3Fi2buS6AN8wygy7qKq53LCay2bOy6q5ie4zTdQm8c1gAgU1pKgvy5VBy3q5Cfa2ELTaa0tLSNisqjJsazK-bPKzHIWb2Y6y6Ug2BQ4-gZGOG7qNcNilzYlCm4G9ohk0q06bG3+K6UyLBYm8wLK9m9itswW4GEW2K5bZK7S+yImyCGCNW9kMK2kDJnWxK1K1Glm5G3q-q-gW29IArQG2m7m3xvyoKpaw4Lq4q3a8BC+Zq86RpDq5KFG1O5mqSQPMBGhHxmRHgMoohBiEvYtXOpWtmVcOQBvMLmwKQC8CpFMKAM9ASiTFqM9JLpLv3KrbqGzKoD4vyFbmFowC0AA1wco6oNbhPGB3E5M20Mml0HrlkllIB7pKBJGNB6ByI5TWcZhyB7B6arnE6P+2hyi2oFh7BxMXYKPucEvZ3SVjTVNqezkMqhpXRzkGpoWaJFkNMQB-IKiTwE8IB5IPtPsbKvKs4Bx9ms1iR6QPx4J-ixtoNFcvfZ2WkLOzQwh3UmpIQFJ2p3a-qYpL9amhGdOyWeErKpR8qnJwp6J0p5J9J+p8uH6iZ1BwR7h24SZy8eR+5xoKB9G4KUF66mrPQBC3Z0J6ACJ-wDqYsIZ760qo5-fTZ3+-JyJ5F3GMx054F+hsKiEG50l6-fF0MVYBiIRFl-fR2xEvgbeOl4tS23ZzF7sShPLfHYEJl5tqp0Vzl-RuZ-sWWX1tZ7J6l41w53p9lz6xp3l80PurUimn5zB6RgPAcu0aVyCeN5V0cpzvgfgdF7F82W16UOt-p91wMCt8Wf16UF6WVxRwR-tz11CRGd2YseLERaeA+6oEM-se2kW1MdAh02auArx9AidrnGwEg5EEtIwG6G0enJDxC20WPHmh4SwEWrPHYMe3onCgitJ0SemlwW9+QA+zeX1pj5osl81rR-fZ3QMLKte8qmT9PdJ908D5oG+LeRe81oz4+Mz0yPD9D2+CgaPlIvunkWMS-TkPdyvfgVvWe810GruXYCL+lC-rLzkAtpECr18CvZGMr3kYrxLJr-cfAnr9EDrXGKb18Nc5b4eUhHoWrzpEwOwSvbZw708Lwdc0HRHW7-L4sO71QdLw18L0b9EOL8fY75vv7+wYayEDuOa4A2DKuJDAq8yHY9R+IBOK9T9GckXE74SGs1mbSDuJII+-ujkIwNKt1CIuQsyymZp3H1G5d2YLKpbxViH97AbdWXmFH7yZNwcYpPl7N4h90Jb553C5M4X8hIwCX-8+Xyn3nyRj5xoJoJZDbyb+3851CX15p-gY36WXHBBQ18v5ZJGFG08MfyY1Gz1xd-v72fu09490w+4yv6q4awkbkCwNoqbMHW0O2PyGJnQEi6-98K1wOgGJwT7b4jGlQNSFNAcbAD-+tIMAZ3W2ZJtQIgA7Bgx1arv8CQX-KOPHngEADwgH-G7jAOwaw1zABAxAftAN6RApgJuclJQJgFPBKBoQcARB1ebQD0BcAzNCAKoHICXkqA-COgKq7NU9KtAxQPQPeCMCWBSAsgcuEwG9psBn-EElNH+ybEiBOA-AO2EIxS0Ny4HJ-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-F2DvxZqOifJjaI-zoFrC+rsApuHQTqxLI6FqotKVITURcQA8N825GAL0lLJJQR4vcGfjTwOSjYp7N7ThJPF3-fAQELEwM5k0O4uccZmwX3oylDOcIakqqVNLSWQCyCfCKuoNlQhhrJhY0u+YNDTRBIbSX1mWjHVmsdostIsuebMgtlSLPHo-C5nlDugRy52m4z1D1L3g2ypFrsraV65Hl+iGNG3HOXIt1lFg9PiEHbHU8Hh2IkIAaNAiHDzGsfaMWGISHWwwgE8d4OvMhntil5Ey2gNKk05gr6O689qaUFlQhjms-is8f6MJV99ZUoDPNH6HRVKDmafmaJWaLI6OhrxiSj-jcsCCaA50CnK8dipvF3iRBYza8U8HCG0rlJdyBlfEK3ZmznuhDbTKoksDQKMV3o1hQcppr7jlUeC-eVhCQVwzSZ+KwuWooPHxcSVAnZVOStRL+i9F1KvrJKr9BsTGVSIb4iyrMFsq6JnKgkNyvMC8q7gnqsJcKvCSSToW4qvSo6qnDOrZVpsndo9znlegWgtINieInXlYrnxOKy+UUsJV4zB4laJNdmuXnbM4Q4yjNfkCpV-5UYJauCV2BzVkYUVKq9FQbUxUVqgxSqbIKWvgnDZ7FK4-MYWJLHgA6MPanMX2vXGyLRVgq8NfJg7U1q7qLEgEEyEgSzzVaBav+VpM7gNr3gbE5teqoNVtrQAM6lRcqnsUSLpFg6jYCescXjqGu-8glHpUPVVLCywERdaLBj5SBy60abaqyjQj6CD+kHH9Qb2pLjgv1IgBVr+t7JRTNABDFAgWDuTAacQTaKDeb3AgAbrmIQD9ThRA1LkANWao4qhsrW54PMmGnEGBqPngFh01zWDdOAkBYbV4pGleolKQ3XMEgUQEKLSEaU4bsRkG6DXBG7Y0tTEysejUYBoIH9uNhI2gNtWoAaT4NIgI7ECucFZqP1MmpcsptXhqt5NBIbZsBqk2IKMIcGiTQhvcDEBaNIZQYlctJZ4YMYqmozSZu-IrdTsGmoZk5H9WeF-mGRczQ80XzabIg91OCJhp0004aNCGz5aEMU0olqNdAWjUWGI2ya1WDCkZhnzoF+CpBwy7oFBkvTMKMURGoLaBpi0UAQyC-PZUM0YT2a718mfzRpKo15a6N1W0zaVrNSObGYLmxdYwHc0ZbvmhFGjTpt83iwWN-aDJiFuBUr0slX4qWnammE2UtupQf9e1qRbiZ5ArGn+pltMambBROqHhUqL4XRD4R-cerT8Q22qIttMS3ggIkERZZDSJWtII1qxDNaQWbW05G8uuUaYFtIUHraOhzBHg500cWvlwSZy5866DdJuomX9rhjPpWoPjQ23RwDbCtbSliIyQ6XZKxtESCbd2iYS5hPtZySHrcmz5LAASEOqViOBW1c0GCwSglLMHd6iU2u2JcnbmuuIgoZ44KdkcVOx5RFoip2+zUyHx2NtklcHA7cqOO3pzuk2WKrtdq5DNaudxGe7UigUCZbF8EuzfMgVlTKQfRRFP-sqgACcAwPzRIGIpFa1IlfV7jrr-5FbDyUwMhhphqmkyjiYQIlWkAu6wk7AoVLCcVwoFG78KqgA5gc2ZBoAfdvq9NH11v7wQ3dJ-NAUIvCSq78KJu5+GCA-FxCuadgBFJXgf7Bcg9uFY3R+Oj2QNUCKu4PSksfn4UX5SwH0KisG0KbsRjmm7XysdD57n5HwOXOyEuWzbSWi+FQE-ML1vbUYWbZbZEH9WiFFAmQf6EpXAV+tloyqMNmW0ZZ0NCUtDC9ukT6DJK6MsJa6IwAH1g14qqIJkHqFUIFl9iEeyyEyHhQIos2RrJFhn39VmBD97oWnanuIqqB+m2y+sL1xVlGAXpsJdFVolcDaIk1YmZaLbtdqrqiJqa68fAwLXorokv+nrkvv713EI46+5rJvuWF6AFwgevfZ4UP15lrx+atoC0Gx7oGr9N-F6TtMaCoGD96BhFN8zlShoGAZB+FH7pv3p7oh-Sjpd0oa29Lvi9+ubYdyx1Z8hoy0BoeKpp095Wq98MgR5seZ4NFRh2vXQSIUnxrKx1JPIHQErhuAe9c6TVSPrH3NKJ9ZrKfaoaVRz6F9IMvrAwWGxiHuREh6ILwukOGlnOfqI4iYbVYshqAqBYYXkU2FKBNGgMbFus2SaNLuDegHHeYd+IOGBDFO+TCIe-nXiPg1AaWGiu-2Zwft6UyON9sVZFsqRy6z2KAaiPRJ7JXBDmsvBCK2sGwXexpQcypGqBBRAAHSwCLyM60RilBPHkbC7hKVValPai90Ohl9A+ncgMBKNzayj-Yio+QOqO1HBltILRPgEaO6jE4hAUQlzSA7BS79TwAAF7y0zA1R12mMfqOTHBmhRRSisYTA7YOj24aA0tDfCbIRgHmRQ8obBBlGtjExqY1ZXmaz4PDQsDIqQAyIAs1QBzTkHgD6MWa7jeU7Y48f2PqtXjDoZwO8c+PJLjj7oIAA')">function assertion_to_be_added(exp) {
    return type(exp) === "assert";
}
function add_assertion_body(exp) {
    return head(contents(exp));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p43' class='permalink'></a><p>
      Here are the syntax definitions for the <kbd>and</kbd>,
      <kbd>or</kbd>, <kbd>not</kbd>, and
      
	<span style="color:green">
	  <kbd>lisp-value</kbd> special forms
	</span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	  syntactic forms
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>):
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (empty-conjunction? exps) (null? exps))
(define (first-conjunct exps) (car exps))
(define (rest-conjuncts exps) (cdr exps))

(define (empty-disjunction? exps) (null? exps))
(define (first-disjunct exps) (car exps))
(define (rest-disjuncts exps) (cdr exps))

(define (negated-query exps) (car exps))

(define (predicate exps) (car exps))
(define (args exps) (cdr exps))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHR0lVVRdSeRpiIbiEpKLi0DmF2sUJNvklQQoVx1EAD1VLOjoVtZGDMf1nya2UlzpyHr7I9roikkjAA5hdrrd7rRATF1j4XoZfABIczTJzUVSidzkaiMRwxBqULLCVawp7vZLBQ6yY6KDFY+S4-GsQnE8442bzRbLWiPfKjPQTD5pDLM4gAE1cKw8ZP5my2VMiYslJJleQSCPlU1F0myDXFknBN1Edweso2FKCoBYknKokcpxJil1jQNjlUwOyVixNXqTWkMPV8Mtwo+Lv1hqa4v25vhgq1KTRNVEAEd2lpKOEyfcnbHEiHttTk2mEpmWtmpby8894wWRTNRLFyLUauRjjktHyLcLgiRxaJ8ETROK60mGqVSOUuwUe2IlePqJPpzpa8Kk5ZrLZW+2EsuE5S5+ENzZiNuFB3yMvNaPRZJTSDiBe93XFeE7-cH0+89eUfWnI7zn7UhdWxM0g0SX9zCwX9XxpBRFAA2hHCAloORUeg2y0ZDRGAvdrzXUUUM9XNwP3K0iyI0Cq3A-CPnSLFmEYK9QAAIgAVWIcpiGoAB3Ow6i0SRLlAABaETDzg0QWIMABuLAAF8BBIM4RF2aR9kEXRgRBOgjFMfxKHwUBFBmG5KBYKVxHtRDVkEAw9IpY9bB2LkWzMiyqCsh1lKdTSdlBXS5P8eSxADUR7CMkynDJPtvKEB47IclJ0O+UBbkIaRyFAABeCS5HgmzHCjDSSDeUNyqKK4FAlC59EoZhH13OsKtDQqPXcHI3EBOztGalqPm0uhev6kb-EK8Z6toJ9EtkxyrBPUUnNPf4lHSzKyJSYIltaKIxWqy81vzCr0j7Ach3FILzBC0QwpMCkGNxBCSF0djOO4viCB8lZQGbTFRPEtTamky7QEUxSsBskIHB+XodoBA5riG+M7uSJbrTmIFQRygA+PLaW0zUxkR2bwchot0JVaVpGY8Ykv8NGZnIRhCHIAALfZqXy3IJUrLIWmNSUlng6tNQ2-xYK5zwedVctoVTdNLxF1cCM52kKd5t9MqxNkrLw+M5NJr6RCLOh5dLLMvBzMDhn5TUUf8FKssHRhvlbFgfhWnLQD68xVYK+rXe+HdOxF2mQYi4yZm2laEIDn5vnduHRHs+2UjR53A-IROVvD67bv0oo0b9jocNocUz0bXdQ9eXOFKU+KRC+GG+hId9KAfYdFAGE06YsebnJtVQu69HHWIAKlb+94nFMeWN0bvArriGjf4pZT2oFnsOA4iVkDG2NlTtL+7sGZTZLDMLeGK3qP3mdZ12TRxUUOg156TfKJ5ehY5d+O23PKvSJlVGuYF+kh17vxwiBT+gJTYUwrl+QBYtUSEUgTvG+cIjqzibooD+JJfRdGptWJBIpiAZWkAbeuKk7BFgXEub8yMC7mEdqAYqXtaHlCKtQaMe5w7MInDIBguVQHgJ+Lg3eihiqzQCMwyeH5p6CKhq7WGsj27T2dIuARUj6bHzxvBYqRNqrlwmg1J8-CAzDWAZYooKiO7iiRj7Kx5VaYk0oSSCSjhtpB3-iHGiDDJhoxtHaDxx8k6KAcbo1aISrjGlNOgp4osKHLwbtQpUbdPwANviuWmh9mGe1ysXIEU8LxJyNJCa2GCaxh0mGk08nR-ShJqcUupzQ9YrU1OHNGOcl5kyVGIuJts-EBBqfg+pMc+m1L9C0pW4SPgFPGSU6JZT+kbAsY44UziOk6NOoOaeiS8A2QYPgZgbAoBwEQMgdAfAABMrjvozFCAyQhpFD4M0yIQRoWI9zmAAD7fOaqfJmRIQRfNAL8-5TgmjNFEGAr5YLQwzFIdIJ5mSjD+DhcKGY2zzo8LrpDB57gWgx2rCYAI-idF5kSZDRmkgQQgmHM4aGzE2b2jbCCXuR9NwnycB6eqXyABkfLQCs2hU-Yl2VxU-WFY4VllKV6im7l8xhHKFrUtpfS7B9CWLd2Bt0uVzSWiwwVcSpVaNhWSCfm2SgyKKkuKSVQ28RSMkVJeTo1VdLy4at8SxRpCQdWKUhj6rC+rFVks5UKkVihLXUzNRayQVq9z2RcQGx1WEVqlJNFCUkzyTU6JjZGuN1Mo0JttVSpw4yQ0BFedKml7qGXfGYixR2YDRGoKosQaSoK-nwqcKy2tnrMkvSkIwTM457TjI7eij4br1WMs1YVcdSa5XzODcawopqI1FrzUWoh9kKGQ3mWmxZGbylPFTuu81+b43bsQbK5JOo9RuiPbErNKKz2up7TWmd9bNXhkfRCY9tA-V2rcb+w07UvRuBGc0PezrGEBIxvq34-QvS6C3QW4te65Wgc4dw1d2iw1oavehndt77VRxCV4yuPjX1wffdWtVHrZ1es8X-Kj5AgOQ22k+zNFa+4EY3cRwBpG3EzHVjLXjfGVUfoY3WxWXqxNU3Tc+idXaMXSb7UxgdrEFO0HCJRi8HG5U6b5u6Swgs1bZrXTopuwT8DMR4Iuu9xmLb0DNtR2DVmw02csHZ+hVzHP2ucy0GQbgda5Bo55ha3mBzMQAMwlrlafNzVBL7qGvi+2DSIkShqk-RjT36vVnwVmWZkV9eaGbvRnX+wc5MRfwwtQj1qngBbcbAsu8CnWnto-xi9Rbr0ot3bqu9Mx2ESeVc5adjGCtaZYuwir9r2E4ZjJZytuaBPxqIcJu5Tg1KUCFieuUb6w2Tdkw23b+3AMte+uNf9z6JPntjRtoTuK5XaSU5mmDXXIvOUa5eprcpBvg32SvQ5xz2BnK4JctAsXbkiEZszNm+xLjsqrZC6Q0LVjI+9qGYIlxmr0UYIxRQlwXpo4x2Ia4OEFDil0JYUgohKBWXFKkIDwHvqBOsivRQ4HOpYiRvowZ9XnLYMbV4WKNk54zJ596F2ugBdVP9Yl6KYuao2QQijujvav2XnwC9GKquV7zbcW1T0vOXbq5dV56GtmEK6Ac5hyrK8lsW5zVb12PnbegH8w7+1406omN3PgDXbufge916AeLW2RAc+CZy0J6F9rB6i4yli0c2hSV0AnjYPuRNODT1ERQK0k8TfU9rwv6eXr5-aEb76Vf7RZ87EXy3DX1vUyLwlu9mhgLUHuMQMExipq7mya7haRaFds5EFVh0HUlDD5yz9iN4-mHMouE2FsA-GpaC9oi8hsO7Ax6OV6Z+kzzGgBWrpZvzkeVMX1Ujc-V3J8z6gwGBCM+9KktWz1p+h+cgP7sD-+0c-V-L0d-fwefOwItAAjve1KqR+WqcQSaTfS8W-XQSIfnO8e0OfT-KLTQEENmY-AhC-cVXKdHPvfAtA4hYIa-RQA-GfAg-0O-TROXDA+A4hdIUgvA1meg6DIwAAHhCFwPIM0R9ipEJ0ehYgABUyh0ZiBah-IQR3kEgGA6AqgFhKBhx0gWJQAABqbHKxb4YdPvQyfYW-IwXQueViHQvQyxAwoFYw8vAMeyH2AnInSQ6Q-AUQHieQxQrQZQ1QlwDQyw3QmZZIWwow-AEwk-C-cwl6KwkIgIMIkEewig6AkDMoSoaoRDGOfVO2JVMmfQZwMoIeLAooSGYRbg0-Cgw+LYKtHfCo3SeI0AKkAo0oDEMJNZPQbvXvfvf3QfTsZxRo9IfVHKCVPNUwxo7YPNCgiYkUcootUw3QItFI8OAIRSLYQyYycYEY3KFfRsVQZseAxAi8dlLYB6G-E-F6DiJoPsUAbVLRFIPOU2aoooZhAAr2KfAAg4GuPqNGcogA5-bqN-VZRxf4oAqA+45INY4KcAwUQoto8fCfOwYZLI9PCo1AmQXIyYfI8QOE4o14Z48wMoteeo9Exwgk1GOjOo8YkaZonE1ooeCYrvUobow4gPfo14YhZIIYk-bY8NC9ak0aYIU2H4KYgRUkzkxMUAOY9DBYn6dDZYkMEKEMDYr48QXk3YtfVkvoxIckgIM4tE1iK4jeCUW4keMSHYFNdjCE1Y0KJ4pVLYV4mfd4uOafI-KpcqX44k-42-YA3-YEqxUE9PQEkA606E1YmE8YXE1U21YHZJUHVgcHTgC5XgDAPfUUdySyTnZJJ6YgXuKtLXKbHXZ6ViDMzyKSP-UAUsxne0cyBYNjT+HMvMtbXrdDRKRJZhKsryA5L2bBS0EXGNCw-wGNCqIBZIEXKNQc8wKNEc-08wEXa-ScysuNRgGcvslPJuRcpuVcooEXBFMhCwvcpFYUUcgIEXSUOgBYSQIGXQc8y8uQj4E8-wEXM4ycs48qR8uclPG0NmWYBoOgOeb81mX8hgLYD8xRS8FibQxc-wYnXQWoIwbKXGYSXQ+8sCkXESaC8wWC0AeC0eYScSVC2c8CxQFiWeXQFIbC3CxC0AYSMeHC8wNClPYATC4yEnHChCpC0AMAQitc+tFiAAUhYsoo4potAH4votAEYr4uIOguErwt5PgqIpFwAEJxVZK2KqLOLVLcpFLeKILeChKNKRLhJ+DzBdKdyU9eDspMK5LqKTLcp2KlKU9sZDK4LjLQBcYzKpKILsZrLyKAhbLOLfKvKnK+LlKWLRKAhqLzBlL-BkdLRZoOzh0PJqy4oqEAScoQxB5FAY1dBOysyqFF4krzJMy0q8FqAGgAArKnQRLKjGQQUeec5KzMiw37GaIi5IfKsq3eWaLAYqlKryJtXwnsxlEXLFaeCw8a4cMCjop8lPSAYgHZVwa88wBapa5sGa2a4iliQCxwWASASc3a-aza2akXXagAUUXIupOo6JFwADlJA7qWKHq7qJTLFEroQsouqhr44ojMqthsrSBR481SAaxvrPrm0irPrKzmqyyxQg5U0gz-qihAbgbW9lB7I8rYbUqfrF5ESXI9hTMSq4a1c-JtIm5i8kTXJHAiRHBTpGB1IgVHBKrJApAX5h19j2j+ouraz0cLwGyeoZlyboZZJkght7VhSqgtSkDFBKaKdDFpanxwkH4JRudsauyncUDrDLFwaMJm0ASbqhl5hH41bibUrCoKrqqKB7E1ldaEaPYgzDb-ANT9j19eikDbV0csoV8QRSgGhwgN8LwvZJbqhA7dxerYzCqmAEzTkkzuBMA0yE93AKBHASxvhzgbRGApwh0R10c5a9yPkmJfsc7JBR1E0QxghfsljgRc7k4U5zDHAtDdDEj7Di6a7S686nCth0g27h0O666c9voYgbRkxwNqdn5AU+8L8R9nJJBSBSB3kMpaRn4tJ56RKGBdCgR57eSWItDghd6RQLCm6dg16OqWpd7dBEjF5Fc70SB2pTYJ7DCQQtIAoX6wQ77gRTY9JstsDnJEirCWISKrDh7DRTYx7O5sq3sP6XZRA37dIzDWIDAWJB6RBoHTZpUsQWBMY2VL8uV+gyFsGNp96d8WIQwkxsFtIjABU6wop8GkU-tCGjBfk+THtqZKGjBtLWJAhpIK7jI81KGd7uHmpggk656fg068FM6pxKH8dI4dsuQ9sGyBHqGKoEUj8bsYkeN2HKDWIgHdC0GWVMGcqI1BpGGEGfYtDj7ENDV1GnduMHh2G4iKpLGrCDGMHGAsHftTHtGzCLGkHZGDGSKNy37dA3G3AWAu7tRTJlzCHeHAmWIFzdBsF+HQQawi12HQniB77DGPGNokxEjYmFRWIAByY+7SAB0pshqUyepIiIwhlBuwNxksRgfYZp3CmevBuonIQu4xi9Npp2iqEXMBcUI+3EI+7idjF6d8LESZ1iZmdHaSSJzaUAQJvNfpxY9DdZlZrJz+nJiJqp1ZiNLZotLZpp9oFp1I76Fmtm0gDmh23aG4RcDNBGVQfO+RtQi7VYaJIh7a87T+CwjRpZL564AZ9GIea5u8W5ygfYkpR5+nO4OBl58u7u+VN0kF3hkXbhy+k-JDBVb5vJinVQKPOwNp0zJ5u4JFw+FUmYP5p0fF5414zWnk3KEMaxvoBVQFgDYF150MpK8l02cuQaL2bK0luFjNRF-FlY8bf-JlghHehc3h6gvNMVu4elQaGsX7FVgV2YAKZF7UQqYY4g1iDcxV5geF7VwaKpg15liVFiCF9m6F+56vRVmJ61ghM+lIbK+1qFmFtNLViVkFpZrkpc3lN1-0LG-ltV3V3OW08KalzINFnl54tGTFiwtl5DQYSVyYR48Ke06Vwl2uQ2O9X6WfEF3B9MmJ753hvNKtlF-U6JS4t6XiahW7TNH6WoTEGvEQBvcgQEb58t6J3lWtooYIMfdFutsQpiBtw0ptj6ex7t2gfaf8y51SVVxgPBDkBoe0c1fsJ+ftjp9tzESlo171Nd9jBpnYcUQVs984YqSlg9kGxdpQpFmMsAekNtatUdPKlmHYE0ulcgXAMAI5BM0gVmOYNwCPYyWBNxWLaHaHXwfG98RcRQO0WoWnUuRgOxN5uh6mOnXELD4R7Z-sHZYcWR+WDwVD1DCNPNPDzD+BiUyuiNWjgj46C0ugZDyjuU+NZj+B4l9GIJNsUdWWnJaGsxT99HEaviseQT9HWeCEvFdIqoFD0QFsHgXQVDxwfzck5hFQhoGT8KXKJD0gZT1TjZ+NMT-TwbdYyKTFCUM6NRXTyzk4wuLZOzkji6RU2N3Uh2aG5jr2IzkzzTsz6mRz-uqz0MKtKap+Zjt6g8KLwYrj3DjD8UUMq6bNrExLVzddwLtT0ADTq5Uk9oZzphaG0L0dfzu4DjlTxwXLotCzsL1LiOWhqL5+QgPThr7zkBKwatczjRVCfuj10Mag7BDT3L6g-Lwruuwb-qOrvr8TuuxrnNzr0AZhPzwzyr4zibxL1r9rsuxrgIeNumtz7FGL5zyCUI7r+Ytr-T3qc7nWmJ8b6rgrs-dPUFmbmU67hr2ac7pbvN4UYUnrpLlQTDyb-bsMooKEtLgIfdBwD0cgUDmg4r-NtgE91ojI0h-qEoRT1QcJdIFH21okU2ddjHmk+wLLgD0aFwx6FgRtriZt0Ad9z+f6OU0dHVcM3+uwW8+QUD9s6Gxnjd-u4V20Flfu2WuSZhf9r2fn9kUXliNHqoHVDsn93KaXpCfTkiwnmZnVfGmPVkSUPvcvPur9l7qIOW6gku43ovC9vXpmi39HCRIkfXnBh9iNG3vvCst3sEGOT3uWotH363x3pm2mz4u32BpgEA8tgL0P3QKAi92A1W6Pk39oGPt-ct6g3XwPg3xPovFPkAvjmYIde9mEk7bBadlibhldk+PWi+eCadgAzJ64mqIdRwMDiUdHRgdlSGFQVQDmMtv7prgv4EF95b5hT3thTPsEYPuguvt-KVtOOjFrn3xo3sYgRv8uZv1v8Udvl53P3-BL7v-YT30JH3xbrzw76g+l-vjnkNpiA-3pvdwNzPDEfYMdnl0-m6O0n4nRaJOf0GdL6-u-t8z44GFoULATkJiBqj9hdQtQTuHQFy5QCry9KOgFpwPaHkQuDmXhggJgHlxkBstKpkqwjRwDQWwnaiiAOyDgC4CWA2AUzFAGA9n4DmabltRSBUCcB-mCskSDcDo5WaY6G6IgKfhwCbyvA7ATUBQHF83k9DIgZgKEFICrkeAlFgQP5IMDwkJA3GBwKxBcCvILAnBNINYGy1GB5UFQdU0sDkD5iDmQHGmTIFgD8AuoLOPVWLLT0YS1g+QNVFbDGCsGlgxwNlT8i8cXslWGwS4MsGP1QB2HKkjQOyA-Md8VTNQQzWhSaCdBXNYUGMTCERNpuhgpweQACHJCghJgmUskMTR8d4+5cQyPDWhi7hE+BoFcFARE4YQWEE-cfjzD7w01TwIfdusb1j5iCjuxHbFEvxxzy0Ta5Q+QLv2TiyM4eoWTwdzy4JH9veE-GsBUKGGV8lyGQ7WOMPh5cE4eN5QYeH1-zls3iJ7fAAWmHBaFeGLEfYVakOFVNyO1MdYaAAqFGBeGbxKCCi0H5MQ4edwopoUJpp9AUopQzsNcLmFbDhhTw7lA93kBUNBUg7JiLcJdZLCtw35BHkWleH6DhQRaW4UiI+CjDlhcIrgsq1BFoi1keaVETMVGjgkqmJwg4SM2AFAovaSEQIVjgPbUE2KhgnfAsNA44QOEYCWYDe15DTN12KwXQKK02GksqhSqZhFiOCQqFMoXsDEbCImGKABRK4HkSSF0BEjRoQo2fjCTFGHQd6pw9HCM14aRCUW3RakbUiyGaiTQGURIHx0IDoNHeVwbnKCIHZOACmOIxIAsP-auDQBJnXLqh1EHSJSuXsf9l6PU4qdvcHQlrhfmCA75Zi+fOzpcEcAadeg9onUiKOhqocvYLoiElWkL6ocjA+9bhiKFQ6JIvaoACQgAAlzqjgAAILgBwA51AAEoSFIAAAeTurIBcoO+OSPjQ8KrDORRPEkICGlHEB5h5ba0TWVjFJjQsPzd0baMuBqsuRX8QcQS3dEyBgs84ugBe2XFIpexMzcRHLTLEVjqxtYhsc2NbEbjuuM4ucX2PESLjy27owITOPjHVdExi4qZvOJEiWDWckMHZNeyvHQgJx2sYcQew8HpDsqDiCoe8hxghFWRk4WYKeEVEPBwJNPRYaFnmH6DuxoHbcbyL-GDj5hntKwGlAyj15jSEHXKAAAZOxkMeIDxA8SETwB3IPBJQCfgo5aJKgEgCRIIno5mQbErEFYR4CbIw08zIidxMYAXsY8VE1oEb3t6J9BJdExRgxJS5p8Ym5fCwtQRkm0tzgjE4Lob1rr5DxabiSwN3Akm10nARIRQIJPZSrdaJ6kpCIxO3yeEaJnE6yaeEYli8MuxbSwPaB4gyApw+7EMFmKH79s+owQMSfZND478OJ27BRp8xpopc+oSYC-uO16HUEaBnk7yffxfZ4ipyHkxwF5OkBThX+erFWNcFrjX8UpOUtKeZL479gIBdiHoNy3RKSSw+wotyfajKm5SfJSPQ7oXzrrLcVSlw7SQNzEApwr+LnMNEzHaC-8bSH-XNjMlH71CneTQ10pm3mGTTRpuWRfrFyKb7CwoKo9IG1LSlTDUSDQcLsKEUhIhfuX-Y7MCKHZvDMeP0bKe1PSk9TmG+0vKQwzrozJ0g2002L-0h5-9SpD0tKUAL0nfQPhxQtLPcCE7Z8MSAIiydDTH65Qj+U-I-In3aEHdIosVWzl0LUQn9ySaMEgMYRWEI9DpBeH3sqKYHmBIgK07Wkty6lD9Igw0tZHgDHgsyQwo-OoYjIn6LSWh0gFaX5J0SYynAi-GYeEhX6EysRA0r9iqJSAkz2gDvBoWykymtQ38uPPoQn1aHo5SSfMqabdBVLVTH46IVYFTJe6NTcJJKZmazJqI6IyRZwikdmy8798i4lwQxJLM1km9tZ0JItvagJkREiZawsbs92anX9dhtrHUecKKY2zdRJPSUv1NUAByfmABKIU4EL5xzbpyzMGX0AhmUAhOccvKoHJVlAiJJ3OLTrwwznuge8kM+3qoGe65zYZ5gC2WPCTnugHuDmUAAKgra8pq5PzH2S2AlkIilBayBEf5iVn+Ae5fs9KanJHktRlWw86WcKBJEotI5hw-PnnkImFJfxuZR0XljLzwTaAleQiV2zsDoRgI1oh4OZPLa-ZzJFZGSXe3PmoDxBhadDEWivk-Mhm0gLybUB7TMxyyVTKuuhhfl8dAYswByatEIn8jzmbkZwQBNABqiI+KYmocBAxwgKvYBkr0EZP7omTVglUyYDImICEytRLLCqGPIlnyiUJc84+bIB4yIKOR5kqeQEFgW-5+JC0MeQQtDnkjo5B4A0dqGLip0IFZk2iXe2oWnhaFMyI0VYBpFZCWF5o9aHhKyj7jHAdYtiAABlzqbY24mQgolyp0JQFQSQOKgW2BAJMJUcU0P7CXB-xtgKceeNjH0pdF5i3MlU03EtBbFFZRxSAsBB7jyxCi5RaorPE-ALx5cWxTeKAnJCKBqtBxHeKyEPiExdmF8XPNTyET3xyQ6SPoIiVuCSKWLOZgko-HmDEO1NQJfoqHF1zglbgh0DYNAktRBJo8EIkAsNCCT+FbsnCbDLQlWAMJ+SmEYUvBKUjYgnEtpnKIgXNz2lQwj0eEPLbASylGMEMLsNxh9QPBKtcuFoJmTfjMJ-YvpViEgWDKmlMyQwUAtsWkLoF4JDqt6TyEFD-gxwXhWstWUtMhllguGTUJTANVcogYktpcsUqsQeFbTNnkLjwYtd7lpUQjvcG6X2helbTa5XkNka-Ks0WgZ9lsyOVuCFhMwGcaL1eFbznREaV4Uw2+SihC+GYhYd8FxDbt5xi0mcevJ3G0B2Uh3RFUJ13m5kkezCNMblCiVPi7M1KxrswgXqE4Egyy84JYORrAJUlnozjqew3mJK3BnylIKoBZgmdXxwqj8dN2oLUrdAhg9lQZJ+DUrhlETCEhdPDI30JaOISwCAqJXji75OC6GoOK9gULT5vIbBejLkYmKrgSKgpcNLZmpiVOXsRlS2GfGOrf+bKmwCqoNU8rsoExfldkClWZL0cIq0AWKs6qSrBVgkiNdkElzlRVJYC4yCJWVWcqZJNyzVQ7PS5ey3EO7A1UyGpUkqsJm8++SApLUkg05B4AtXUpZVVMC1xallRe0bXzjK1KwdlHiv1VqraaxK5tSapqHNAfxpK+gF7HkWHj6xjYlseAHDjjqaxk6k8WovlXzjFVIlIdVyuhCZjrZFQZBr4PtS1q15xqhInqvtAyTe1RqwiRCWYTrrdFY6zxYopUUzrJg8ih9aoqlExNBJq60eDesImLxr+LEHdXx3QiVVqApk4DT5CRiwrghW8vYgcXA3Zl4N1tBOU-ksFVNgNoGrBSaB+CIbe2UsSqhBre6+xTlCgc5S02-iuwcNeGgjbdy2pQbwhtqCVRBWGZH13lECiwuhqJC9UYedAEDaZPPL4ahAkGlDXkJg2al+NXOcTYJoiFkIohUKmIdwOwjQDO4DiVjRcqnySaKAOCBwAJqQ2gq4VNG5IIYP40YazJWG5CNpog1aaeN1G6CAGWE1wqXEjGkimMxeiqaWmFhYzZxs0V3p4gIIfGK-QBHqq5aYy+QOUoqhTLbN6xB+QcGI1Aq+Fvm44OXF6Xqs6FwCMRTiBNFpLwSyID4EKSpHiLMtnoqAtBBRDpAd8Bm6HvZuCEUInNWqagLMxYhuaVqCWhQFxrlRXAcILMUtq83LYFJp2PtP2gHXdrHE+O3rO5g0gC10aIm9sX4iEpAkTLlZI8RCs1A60L14IhPTCClnggzExtjrUrBgmwa6QhhU8wvDHw4oqj9S4gcmRTJnZ08PocPE2czybola7udrVmpC3G0rRFmOjdLRIqy0FyCI5W5qFNsc2Sq3tNzT7enhY2xbSNK1Xbb61e6djRRQkczReWgFewAAnHJG413l1Vz8Tvkulh7QD1VNNNwBPXnidSbO0W74E6q2C0zIodgI1qRKR4BBby0AxQMU2KYvQ0APOqNTrM-7lQ2dV5dKTTrB7mAhdLYDwa4E+QeD5iAoOwOJHtyKl-+-gCXSTul035dANoOMRLoWEyAP5X8uWaonxV6boNB7KbTVrB366ryhujPG8ph0fKtI78m3dKm-lta70WrWHSZCyYsxUCWIJoDmHaYDrUoKYL2KKzNbPNsm3uxjQAxkiLNw4KpKyIwAD3LVQAnDFiPcFIJWlySEukimJHEhasYFECsnjHv+gYVRaIYXPWcwuUphd0oMB2X9JVJqrN227K9p3Fr1I8D1nEotW2tbUbzncHe3-onv9095U96ezPb6hZ2q6idwuliPnvNLUrL2u7MvfnuBj17ppJgP6VqqKC56598+8SG0yPgSje2K+1fY1zV2BCZlISsLS1Ai1WJq9ZG6WRtubSZh4IKYY7cZCu0EARKiINEU1rlGX18tGWvHcyN0naq0yU+MBHQB4ifIiQjG25SHrD39KtW9omBtHp-bmE49J0lbtDQAIKJ-97+qUkAb+2ejQDTCkvDh19I9xjh3EdGKsKBQ3D5AkgUhkiBOg7MYGXu5-TXyUCEG80eBmsKdu-2jxEQK81fK7TFA6a6WxMLeXUWiTX0uxLpSjXIblo1tiYF7W4NhtoCSG+20hg9q-3kOloxDBxDTVIdUAODr+aAl5gYa0UukTDVhlQ4vjUN7r9JZmkwzobMO+90Myhi9i1vpS9LlDF8xwx4Yvbw7NDmSewySjALX9VDwRpeJ7t6XFNFRigCmQAB0sAda42jVA5D4BcQWDcrThTcopx+oXO1iEnoD3lk5I8RvhYkbPbJGmBaRjIzVOlTUAHQuR+0bykICoEawaHG-ooE6OgAAAXpjXMBpHkgcy5o60Y8aCGejQxoo6NBKMsQyjPeCo5FohgukoDMBpiIkcyPlxsjbRjSkkxTzMHScR9UgEfRGb2Rims0PAFUYuXbGmjexqYwcd+ZH0Ggpx844swWPAwgAA')">function is_empty_conjunction(exps) {
    return is_null(exps);
}
function first_conjunct(exps) {
    return head(exps);
}
function rest_conjuncts(exps) {
    return tail(exps);
}
function is_empty_disjunction(exps) {
    return is_null(exps);
}
function first_disjunct(exps) {
    return head(exps);
}
function rest_disjuncts(exps) {
    return tail(exps);
}
function negated_query(exps) {
    return head(exps);
}
function javascript_component(exps) {    
    return head(exps);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p44' class='permalink'></a><p>
      The following three
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      define the syntax of rules:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rule? statement)
  (tagged-list? statement 'rule))

(define (conclusion rule) (cadr rule))

(define (rule-body rule)
  (if (null? (cddr rule))
      '(always-true)
      (caddr rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuTLiQA0oOQAFvKS51GGJoGW1rb2SSaJSURj3VYAMghoDeSm6u16oAAvCjnm8PhcDkJjqI7OUlCwlgiVkkfuY-ttAZ8ri0bmFweQngAiYgE+RM-pDbEicagOgATxc2Uk1HwklZhIZ3w2FIBsO650oVQ8JP0nMOo1xgKUdDolCixEJeilxhlWwBZwuNLpd2Jj1ATJ1eoNRvIHKxmt5Tv1hsSoUFmWVNVVpt+5rs8tUirUkejUrV6qOPLE3pdfvm0kWknkAA9NJZdeMTWSzLKI7kFSC1HG7V41Vikyc8VI2qRpEplLji2b-s2MZdrrJ6bXGQ6NPRznpJK3253xhzfP5Gk1+9ah7aVfamfMIkpnDlp-I2x2lLiFw1l5aB7T1wzmZ7aIfj3PaO6uQ+7DOT7j-UKg3tSVSMsYQrKMq1UWNwJHBNEw-UAvxfYg5gWd5c3zeRC1obtyXDEC4TApUCP-Xp6y5RstRCdsXBaJRszzAs9Sw6DQ1LXCrzXW47wdKjnBouj0Mw4g32GOCeL44FlEJKZf0DOhsNY3tQBYJRNFUAU-xFMUJXkJ5IMI6DSJEnFeTE2jMhafl5M2RS9OrKDNzrRNyN5EIy1Cc4FFdKzgPYwdOJHZk3LCU95FdYTnLENy0IYotmJLYDbPjBs4JCccWjkcYVCs6zKV8m9-Ic0cmTSjLaBUfiYtfYol2XKkrT84dCuZErcXK4LPMScK4JazKZnQ9LSBC7zcPXSRLHwLieFg4yxB6sqZnHOh5AAR0WY04qAkbbjG9ouP4abkx2Wh0tamYVCmVkqFmIlCulHDFNG8auIAZiclKpCW1bEkocqET1Ls4oASEBntcqkakGo3YMt0+taqF+jx-vnA6mwIUEwnckKvI2+7KUSgyPRmuwlrSzGOvW26WJyuVQLjGtbsM7lUYyaRqFIABrbKfPB+r8sa6G9GZfc2fZrqidAYWOckczLJx3Gafw+mBYMN7xZCFTNFkQaAcp+K2J568bS4x1NE1yhteRwnDoIImKowxj8jl6ny0V+zlcZuCOyiO3BLkp2Etp8ClYAhMGzwD8GHwZg2CgOBEGQdA+B4JmtXkDNCCGgLQF0WY7oUsGbimLLoI2NIAH5QEmRRyvTm73dLoIAC5AW0qUG8CCvWeodnCE0GThVrtSA2FUVxTZKUnhz-R2-MZv1dNrXT1i26Z7MCuNekSy04WIaPx9h2J+z4hc4eVfl1G0fa7kr39-GP3bsn4+1SwQGzDnqRqE0avyGoRhJGqZwkQl5MRXrVCu29MxDU-t-X+-9WCAMuuMD41BJAb3NsAx2D8j65zPu-OBxATq9TbmA7OGZ8GEPmlxKeuDASmVviA+uJDlLs3eB+VQdCJJsmkupWSE8z61TSHQmWh9qG1TwbDb6CMahIwYSHM+4CyESL0D9BaiNSqYPdo-HBYjAShU0OQfkZNQqJGIcuCurR2idBaDQlmItTGNAUeVSWnMs6iOXHgoKHljEU0YWY0h5VPFYxMa4p+NipCpl9D4uRJCIGoMLGmKJtQtHT1fqAPBe8EIYKlKkswL817+MgQoVQGSjwzB-vg4KU4ZwiNCTokImSda+IcQUp8s4skhO0e47OjBmBgizkyAAqsQdmxBqAAHdib8j0EoHMoAAC0cyCkZwUOFCKdgN6WWEE8L2dA87iHwKAVQIR8yUBYBla6kg2HCDVFTeW6yF6GJOWcq6rCibFJINsxgURdkDHMIMbO0glr7MOalDwrRLlvOuXs8wi1yCbDoIQaQcKkRLN3rbYR1zT4COxaUXMCgCHZmPqCWgXl+E4tqnvThUlFByUxWS8ljQdlYoZSyswe8c7EsiXcKFnI0jcx2r2ZCmYlgFkRQYelFc3K13wfiu4oqkXTxxc3CxHQEgtF+WYf58hAXyFuWYRQvT3nEGZEMkZ4y7BwQMV-eZiyNlvj+WRUS21L4oTkmhOgyS9XAWUqpL2yIAB8qKile2SZPPMPzHXi1iXNVkxESSepLM7KkjBCCvC3unTOx11HlX6ugop0FkmKpiRm-NWbToVJWnDGpnSukQOWTdAh2azpIsUIg661bVbW1iUo+GqjpHqKoU-W5sK0aMAxmEFg5AhWLGRKAelQalgdDHVO9q3ioYhweFPDVZhKAHKOVIKVKFinoxXeQSd075A3MTWGRSS7x1nqnbXbdoAtU6r1XchdakjzHSMdjB+W6NjDA1OLC+YoSARK6KobSuzbnepUlBtkAaHQACpwPxLVchpkTxoOdtRnQQaSFqCptad+O+XN9ahErZIvt2gZEaOiSQjWuhuj4byCKYjDSyN3tPUExJqp9DMtZXyAj7Gp2cdoHJEmP7V1-vds-AReDxP0d6PwzunElP9zjUUItXSKjSGSlGshzjB252HRJuFMtZ3OOltQCyUpn0jtZoNQFs7WOEY46U0jEnVAy15TC8zoA0POjVQwFFoHJBBZ9JBpzKgI03spHWoaMsw34tpBy5gXL2Fs1i4JoTeWgiRYNF0D1c78tlcCFPXDqcyGBPJuupJ2DoVwZYQK7YF7VDzs-VFei9tl6aMa1V3ksSImyYAgmjYI7a6zsS8G9DroL30OU6qZJz6ImafayNv0PDsiH1rit0GAIn2Rq7WQpTJnoVre2zMQeGmruH068uGbSwNPSuir12RvRcvldxU-Pz+cAQqqsWHMAEcmCsHYHHLgic0DPRTi5cGKa02qBzE1ijmRsi5HyCj0rJCcz8Obga3+yOhZZByHkbOeYjwKBaE8SwpB5CUGui0Ruqy4LMNeYdVQVKrA0qeMlxrsGtr0mKmCglH4sMPe51MEr-OANGWtqCmo4Krmo8UnlI2+Bmqi9pOLlGWpKUnmpWO4pqvKSPV2pr0AU0raoz3hi03AJzcTUt-tG3+vbbpZJSY-ADuJjbSepb16Bnrbs9a7Ydr45ZW+8rpxJkh7hVYdAJHoobv4dh6QoPWu0f1e3j2w6ePiwxbWwL+8ZPxos+C5soHQiWfBtiF0G2agepoiEtmJyryU9K+UjjHLtZo6MZR3Hp3xNAd8K95Ha8VCcQDGt-b4kWdemBh99D4PyUV2StX2j8CUEQ8-wb9dXr3kq-3jr+KZJS9axzAHZdt0Y-h+xDH4vbS8-3x1jxYBHGO-wfUZ4uY7PjLXk6+TwGYMuOoqEQ6I+I0ugUQrwu+skhgKIYW0BsBIBOmzS2+YIK+5+cB2Q++gKAmEsYBreaBpQzcOQ0QsB6+hgAAPJXMgS8KoKgRKt0oakyAACpZBKR5D8igBexOCJAMAIoLyUBdDNxMigAADUOOeWYQEQ0Qu6lkVBkhDozIyhD2QQshkQUQChjBsW8m2KBOPSRO7BnB+A8gYyvBXy-BegghvcZsohDoahZWmh8h+Aihw8+Byhie4hUh6hgQLh2hbhuh+BdeEwWQPcfcV27WV242gQcEOcMgWQqkw+M8cEbmOBgKwBeh76fKFGemGRuyfhoA4Cx8iRn8HW32DerMze3snumWlWRRzcV2yIqIkYVBRR+SkYTBZWTRBGREBRBBcYqBf2QQwwjQu6hyOcLRKKk+2Y0+hidRro0KjQhOYIMRDoQymQrQoA2k9qpQr6QK16pQI6x+s63Gly2BAG2KwE6Rj+p+d+X2eWj+V8Z+bIpEjQYxDq7+dgCRXcyRT83+Wol2Hh0RHhWR0gsR5g8RpRfxqgKRjQaRfRQBoAqBORQQ-K+R7RLKJRswZRqkHRVRTeWh-+XuxoDRLKTRHh0xeELGHhhRQmFcS0U6XROWKJKgJBSqwmeQ-RVBTwQxehIxgQ-yM8ExcJx81JsxeiM+ixRQaJFWRhaxYJGxxAWxBCOxiGCyvBc2nUgpfyAKhxZKJx5+ZxJ6FxQ+AJZKNxfRdxdJrxhIAmHRcR5+T+dpl6upmqgG1+2CeJYpucwONsh0kc0cEOnACcvAGAcOpwUgTy5yHOTYRqey-KEMfM3KHyDoMZLyReqMGZjO7wpymsa6WS1yVMo+lYhEUKDYI6OZFyoOYWnE7ct4TI8oie5g8oOKDppQjZ0YLZZg0Y7ZjxMewuGBPZoAGB-ZDZse64I56445nZse5QiK0gieC5lQtUHZgise6UdAmsSg-IieW5O5PBy465QQjZqxPZqx2KJ5gQjZykrwqCzgdAWGd5LwD5DAjQ155gjZEhI55gxOoA-ICBgasyUhR5n5ZgjZcyv5Zg-5gFSGsyiyYFA5jZmGTwaQsFQFoAsyyGAFZg4Fg5dwTIwA0FhyOYTwcFSIwFoAYASFE5wuAApCRRhfBaAPRbhaAPhY2Ygb+cxZRVhdSYBchbHgAIQog8VkUAWYWzKiUoqCV0WEXUFMUSUUVUW0FmByVznC7UFIjQW8WqUoqSVCXC7+pKXkVSWgCBrqWcWx7+o6VoWBB6X8W2VWVGWEXCUkX8WBB8VmDCXmAo7tychVkRDPK5kQqHSaahYzw+oQQVhPDVlxm4gRpBWnKxlhVNgijOAABWVOkVjQ0VwgSGjZ8VieiUPKA5QQ8VaViVnIWAyVIVFysKeQ5AoWBF7CsegOaqieHVXQ+F32X5sekAxAqqcge5aFg1w1BivVfVrVTIL5kgsAkAPZc1C1U1fVt5p4r5AAoiOXNZtatd9o2QAHJKCHUkXHWHUcnTUcUDB1WpWNVTjr7IhRXwakBIaRikAEGVX3XNWBUBZfXmZNVP5PV5UvVvXV5VBqhxXBV3UA02E1WewPJAjQ0vJVVFhbKWFRDrjR4bKSCRARYEKKCbzEmZVKDzD4YRD6IVEMqVX5k5CuhFkkD7VBBexY19BBDHZ4ZbB9wynGjR6-4Eo813CdZMYEJc7I2hV7zImOmjni0NWw0rp0lM3mAi3dCVV7zUBZU5VPDS3-UTiA2b7lWlCSnzEklcpOQ5BwqzGY0a3lSC2uZc2m1eQ1XhxExBng6xyhncCYCRlHR6DKAUCSBfRhBILKSMCcw7g-T7gX6QFq4OBOCuBgiJQR17g5AJgzwVyJT8m7hR0JheGSA+F8jhBaE6FJ0diR2p36FpDNyl3Z0V2p6zSsDKSUacLU5qRF3RAwYx2UhKCkCkBOCIpDRqTbK92YUMBSGqA92vWIEOjiEVxMjiFiGqFSGT1K3Ljz1PABERry6owkASRLRt1yFRCfLfLH34173R0gzfGF2H1eGqAF3VBN1LQt2QbRU3y70dhLTH27KGBSEchMj112Dv1jrvBTAsAT1fLZ5x2VDgNfDp0Oh6ZMgzx4K3heyGBQhnz7riiLn9GoPVQ0k4MQOGAyUOhlwchwMxX4SoPUlMikOqZJ60DhA91TpB0-ih2cyoP44grhLCEWxYRUPoM4r4iSjso9aCQwNp0CJz133KFANLQfCKBgORg7LiM3K+E4riEF1RGjytwiMCQHy4NOHYoaMyPEDn3yOMCKPg0wPXyEOqP0p-2cOyNLBMhTnH1PBOPmMsCV1NyAgYHiNwNON33DlPC3hKMQN8ngS4PuOmMf0gMKOXVpKAgBH+PNJMgADkBdfqv9GTSD19xdQRqDADgWMTwDgdiwjAlkX0FTkDWD0DhILgbgkYVTGl01jZeQLQ3hv83hoybozIToigvT+eiK7IEjpQ5iJT+9TT5Tglzw4EzTBBHjoDCTyqEzSwUzigMzcY8z0TZj8zgJvIJNZNpAFNj6KESNbM9scJeYNTaCvD+QaECTamwutzGCieujlU9z1zhtaQ0VhzOoxzlA+iC2+YFzuoX9VzmgozVdLcQ+1zcDjZpDG9IJ2jsLkLyzFOmg+zYgzT5z9OuoEL0Kop88ZsdzBLyx9DE4AZ6VzRKKM8WjWk487z72nzaLz6ZgQVoLS0tIOys60VOLILeLJWyjDzupwEktVJ09TIw5cDfjkYAr9s1wOyBBiU8ruoirXy396L4rf41DU5MrzAgr6r3yuT2rgY1Dfz5NgLpzCeMrIIYIpr2Q3zQQvzpN-zJzwLBr9s4LIr6LfjDrEJMtnLRrcWep2qQKRLDgqLV6DcwECLie9LY8koIrz6BxuqRxwEaEKbHNWoVqSwDzXeFo0ZdrBLcDkYDzuTqxELJqwyoyEyGLHzzw-IX8WZWoZezVBLBbfYfj5bzSPecLjQhhhqaE1bZqdbb2gkFLsqT5oRWpS0jAP45SrgqCLQbQ3Q+bXdH+Tbeb1z1D-T87-9744scI3Lar87SCwi67Xp71DDAhZL-p0CiEGIUdcVqavBapVw5AuAIOwZpALwKkUwoAz0hyJMWoz0MOMO08feTobMqgLC-ItO36jALQndXpK5agdOv8yHCT5g4zbQqqXQnDlaWUcHukoEkYGHSHmrzB5HiHWH9Kzc0HpAsH8g8HszhEFHWHM7oe5wUdqg0Kjm2WZSKduqdZwuyGPHOQmGIxok4RvczHhiPATwcHkg+0aJI6CKzgEnIns7MHyninbHagMWQnOd7pwKmD3VLGhAmnwn0b1xuEFnbLobb6RxaQI6HHs6jH8nKnEThEGnWn7xAi-KFnqgHH2HJCFnjRBnIXtHpnnxHpcRas9AAzXn+nyn-A4Jiw5L7LAWfnwnHnuounLHkg+ncYRnT7ddIpe6IQwXuXJncp5gTJGIhEZXWnTrtUfjt4encVxbaXGXbpbX5KpXgn5XbpsX+pabhpAW7nKKnnvXUXtXFX2KEb+NeHVi0XGgSHtnQQOSGhVgTXagC3OkeS5Wfjfjc3WeA3rKcYh3ocx3mq439XaQjXcYHHfXpnQpM8cXL6GwcEB5p4v7qgXjaJ3qursnmgiDDKncYPnWzcbAkrkQc7bo6hFcCPAz6hg7ROLAI7tbdgD7GCNqszUdex8XH6f35Av7lZAWePC7eXKK3HwnfHN1AWH7s61PSCWnd9XcERb4VZr7KKbPj4HPTIqP+78N4soeCC6U0QuhtdOkbJwqW+xbydz78vmXRTkvxJyvOQPmkQUvXwnb+DGv0Q9+dgRv3sg8Zv0ecYlv6vuvxJeNx+Mv5dcvd+BvnnWvLvL+RT-N3QHvfXTwrvG7dgfjEvdv0vfvqvl6AfXv2baeO4HbQfdUhst4w7JDrOiXlS8MRSqfx+0TqptIO4kgf7BCOQjA0K3Un8W8O7LnZnIQ8fIrj3FLYQEsYfUQVmrfuNSEjvOfMfdnsdK3liaqOvjaxvRR4z+fyEf8xfLQpfVbTAbxkXGgmglkZv7WlvY3Ybuqy33b1zWX6JuEfjS-lkZbu-TwR--RPrjn93m-jfGbeYV-33H3V95-DzWLxM4QuQLAqCpsf+bQ7Y-IkGOgPpz-67lrgdAVTonzQ5qQpocDEAQANpDgC+OuTWVqBCAGr1Dko9D-gSG-5fwCUcAwAVgK-7Xcpol3K6uYHwEID9oJvcQHoEJq5ALkFA6AU8AoGhAIBqHKBgdxgHNIWBiA31sWzaIkDOsfHJDJECmBk4GB2qUAd0B4H8A+OpA2qMIL4qyFP++3aAbd2AzWxlB2A-AO2DPTwZ0aKHK+joNPD4p3IlgAkAfRUH5U0y39IpsYPICmCtBYDJwTU0xKEDHmOxRcrk1EF0DSa7wRgWSjaLuC2uigwNPYMcGEDLB2A67u4MZh94feuNMUItFuAmII+NEUcIHwmwBYze7fEft7Ad7YEI+X+dgQP3w7dBLedDH3k72E7MDTw0fBfgplHImDW0kgO8gD1X4W9W+BBdIfUPtJv8mhDgloW0IYLAhRwPQ+fvaQN6nFJW+AKsF0HEJwMmQswpUPMIrarQsoow2oUkDganFckA7QEPH1GGGA4GCQ3dBUhSHGhNh8EOoRMMvTeCi2O+I4aAChC+Ni26QjwaMIuitD-uDBOMEcPkGNA4w7wgEaUE+FDCfhFDVWqeHQHfZIwwI6Wiyjvzoslhcwjpv0JqIW1HwTg5HIrx3wSVQhngyoDO1-ZHh2YqCJCHuy7CUjxgTwfljcJxaZDAgI6YYTtARRIpZ0YI8PMMNUB0jRw1I2gNrTIHYoGRvfD9CyPlTIpUQKIlYR0zgZ6ZcmGIqwFiMiHiiMIYqGdoQDka69cwXOaEQbxCDJM5W0Imdh+zMGf95OqXFjmwKZE5dZ0H7C0UpytEjEguBNMoWpEMAVw9MiTOgP0O1E5hJAynUULqMAg2jKWcHWdEaIMDPp+U8fODh6LT6JM4ODYC2qADYIAAJTapIAACC4AcAJtQABKbBSAAAHlDqyAFFIvh9oEArAv7OJIjzIycjjUtw6PJqLzIE0cwwYi6B4NNF+jFWp7RKp2NbTotTRKgM6P2LvhFMRxlQOsQMzIzR50xmYnMXmMLEliyxk4vbr2JPb1jvMjY6PKaOxF+iAxRXIMbuL6bjjaAcyJwen2tiqotxs4ncc0NsC9Do6XpJwZcl0HRV506QpwAGnUIkipYbGfkfkG-FY8BhF0Z8avTMLk9XyQEuSI2Ignm0rAFgYZnAhIAAcUUAABiXxwQEgYyMaChJeY-hKA3QJrChI0BoTFAs6FNAeHIm0DGAyhHgNGNwjUTS8RGOiUU1Dy4TJ+zvaoSrxYk4DF4REloLiLBA0NE8fjfiYRKQTESfOagD3uoKrGWBtI3E4TlIEiAhdhm-HKbgRJ4YYJcaLQBfOYXwkHgpJj4YiYzx+7iwP+7wMZCoE5iXtGgMYjsB2zJQVxOJRkj3nP0km6ShJYXN+K8J3w9tJGTQnfNZMkC2TpAnME-mixBHPBLANkuyRf135+TEmmbT0lfTCkRTOYLEmdm0FwHIcRQLLLIrLwgm3JLU8U8KYlJfHjEquUgevlt1qiikiOcksujUOzgNScUwEcIIsAf5CkHuNfRoCOmcC5C9enfM0kmwgm9TSgLo1bkP2cApTgpswnVAiObiZTEpHQo9PNPe4OpAYqbW-hRm7bHDsScU+QAlMimQi4SNyPwCdLOmcwe83jAwgQFizyAH+X3L7l1IqlZSCW-Q04WKFox6heOEfDMKVMTRDTW+I0+3l30KGtSVexQ9IHul8rVdXRa3dfsD3s7EAFC3w6CcP1GmdC8hBBBEUEGBnNi2agGB7st3j4Zgr05WPAMhjpkzwwZeQiGS3gKHjxiZcM6abhERnNBkZc0roZ1nGaYzuRfvQmUEA2nCocZWhGETijvww8KcqWXiTkHBKTSyZN-UUnlOYwfx8gxMooS-lfy0z6Zjk3CNKJyBojVZznGeHfwVlAyVAKsj7hoJ3oYy3CWMgHpoH06aB0uzYqYcaRmGoiIeYzB0MsNNn+zoWzUrnO7P2g7Dz89wyfuHKOkBzfpQIJvADO15uy4qns2WfsLr7OSPZ8c8uPLL-xnD-plAXjh7Lir6dXe1FMAHTOQwxzTuU0Z4dCGOTFtc5ATJ2YYm5F-DBB5WP4ftFinmASAQsiEXK27lCiggcrPuaLOXBIjcmJs+Yf0Jxq0QWJGkpWaAF5HgS150zcadVP8yUs2wmOYydpyUlsgVJUdNSfkBykOYAsg852RKNnT0ob5HciEevNbT9ygg44NsJqNihk4kIOUt+YEBFFvEmJikR+ayLFTUMg5qw5pPKP2FPYymGzFee8GET7y2Mf8h7IqJ-hIRsRoCiUXEJTELjJA+YgZAABlNq5YwkfpirFQTaxLEuCY+KbGMiP0rYzvm0A7G7i4GPY9sdcFoWDjbAw4vbqOMPlyRqBU4mYDwvnEZjCFJCsheuKnSbihFvC4gNHjfEq0qa2KfcZEMPGBiJop40WXHmGaXjCBHIS7hovMFgMxJgUAxVeLiEI1NYhiHhfBK9mJ83x9gz8eShYlIZ1Ci8w+Ygu66DCnxzYy7tQtfIOL6FCE9EbTXeDNMeRW8xxXcXcEG8XFH4+DKkR9mBoyUKin-ngMkHwC1FMs3XjOLPbeYX5ASh4g9gJE40eFJShhXrPKrxKzFM7OBdEuabPizRBILSZS2WgFUUU9o3NjEo2YEEmQTS6ZsTyTRIzZpkGLpYzToZ6g4gB4ZpdM1aUuDOGUyzBLQJsL9LqmSy9wb6PPmsKGeTwyAR9HboxBIxV0nwAcOclnKZ2YQX+O8CAljS-RE9c8UotuTLc-RDPICR1NDHN9wxKKLRceImhfKH+I6Puj0j9APKnBwNPLKYvNEkcHQQEwxWYtGWBBNAqaeTmeO3HEAkVn-CXNij8ZASngBIsFUpKnSQrYhKbfqZ6W3pahbllgQ+Y8vbGIKOlzfRsbOg-mZgD4l8jYO8vbEHL6F3y3eb8pY6zoAVhiE8QKpBUBYSVfofiVCqRAdFYVFg+FfopyA4qCQKK8wGiruAqqWJ6qlgHioEQSThmRKzCjKqnByqKV5sg0vbKrHHsGVsCICc8qxU1Nl5Xy6QkEHXgrsfFXy3JvaqdXArD21sf1S8udX3jXliaOlfcpeWMrWFYaopUoqvmUtsgd4hNS1QIVLiCxRY0seAGfQZrcxWa1ceQoJUvLTVSGFNYUuqrALKQTIbuAexpVehvVy8nKbcijUMq8aTy7lT8rhQVraFs6AhUQtIW5qNgA66RcWuLYsSy1fFXtcMxDb-Y7Ata0WLsrmL6JDE44TKm8ndSuDsGW6uwaaXXU4gIWhgj9NFK3p94CwU6A9SIDdThore4EXdUGuZhSApShiLchus5xbr9RHAo9dQPOJvrD1n6xPqeuoEXrpwEgd9RQBvWaBj186qLg+obViAEgUQEKLSGiWAar2oEeDX3gtYAsgWI4H9Zfj2EnrMNt6-oeuuoDqSr1kG7ZQ0q-UrqZ8VGnWMQAg0-Uo5J8pwbk3I3qTQNjG++MxpxC7IQRwyhBecUY3uB+N16h0jtzKz1LP+cQ7VXfXabeFhNFTRPFxsTVVi31FG4CeBoE00a5NdGl9WBroAsaiw-6yTXKK8FZy6J4g-wTksgzzoVNmyU0uZooCqBXNP1fTe0tPjSaMBSGLTdxowhiZdN169zSFsg1Sb8ssm9pYmAU21rGAymktFEpGXMDwN2msXtbCQ1DQmUtwtpUD2cWED3xp4NxTLLSV3c0gUApzVBnkDIbqc8CiptY2lnfYMFyosxa6TTq+acOfILQpiKwWRDZZwMRJnph81pBotXjLEHFp6aJad4CgeraNR2I1aQoGWn-DmCPCppt2kLA3k9jn5W1WYzgW2kSgAIp5Y+YgHDe60Hg5axtecG4oVtcUpKBE0w-1PwlzBraikCPScFnyWCOkztVrOBMrEa3Pi35jBAPkBQRGVtZggooUYMhrbmoBhbJeiZqR8IvxBtgQJkD9qBa1wOQD0-OS1r61tbM5OiYbfwiu0Tb0VaO11pawx0oRpthSZLRs0Tzo7rWavHAMyJmTGbDys6AAJwDBfuEgQ8nlvdFlTxYB5f-nltxpTA262GPfstzcGCrr+b6UUnYGnoYS9+gQEXbuVUBpM0mzINALrs1Xy6bVAidXcf1QEqwppZgY3WLrkBuA3xMQggnYEWTW5Pu6U8gXztF1vjrdaxJ4MpH9HG6Z2KgWyfyARyLAjkBoO5V5vy1ekxtpOwigHt3LB72QzIJzYnjj1B6PgKaS9NhPFiqspA0SyINquAKKBMg-0OCqDICzLRZ0-LT1vi3PpHJTGr7X+n0Cx3PpRS10RgMXpGqgBiGTIPUOQTdB79jdd9BZIshz2byNmNA7VWYGH3ugPVaut3Rro8bNL6wL6fqV91FIPLF29yldpMrl28Em1KEx1aGpDVYqbMdmZaAFwq17o29HegxF3qlG96dSjfQfUyGH2akgJe+1djalf0z69pRgN6VSsaDP7X9mpZpvCjFQMBgDCyfXfBHn2GJsRGSwrSVvJSPaOii+6ZnkvyzvamqP0IpMtEB2HIIdBATCrnBhFVa8D3W6IL1oF16YYIWbB2frlNJ5A6AYyNwPntTQsq4UFelFFXs5a6jgGdeyfY3ub1ZDKWx+FqmQY3o9alReO80TQedF5FsGYhjwSyGoBcFoJWha4ecEQaAwVmuzdA1geURDRyDkYJQ0SsIM+4kMJB5dW6peU1NkyRsQlUMxyAtteQHKr+VhBbVAarGOUkDShOESeGSh+ROmOBB8MeC2m0gQPQnrIb7DM6IRzSfJur2570DaTSkaoDIEAAdLAG6qyW0hyk+AX+GA2G0AUzKNyBlNrodDX6m8IzAYDnrm2a7UjGRrI8Mwno5HkElyAo7qJ3yEBgCBBVjn426OgAAAXpDTMCZHmarRvIx0cIOsdhjpR1lOUe3BF6qjb4VJCMEYP0AWDYIFIxMZQT5GLGsFEJrHiUDeFnA3hUgN4Q6Zqg0mnIPALUeiXbH8pbRvY2A2UqHHnmJxs4xcax0LH3QQAA')">function is_rule(assertion) {
    return is_tagged_list(assertion, "rule");
}
function conclusion(rule) {
    return head(tail(rule));
}
function rule_body(rule) {
    return is_null(tail(tail(rule)))
        ? list("always_true")
        : head(tail(tail(rule)));
}
</pre></div></div></td></tr></table>
    </p></div>
    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	<div class='permalink'>
<a name='p45' class='permalink'></a><p>
	  
	  
	  <kbd>Query-driver-loop</kbd>
	  (section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query-syntax-process</kbd>
	  to transform pattern variables in the expression, which
	  have the form <kbd>?symbol</kbd>,
	  into the internal format <kbd>(? symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>(job ?x ?y)</kbd> is actually represented
	  internally by the system as
	  <kbd>(job (? x) (? y))</kbd>. This increases the
	  efficiency of query processing, since it means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>car</kbd> of the expression is the
	  symbol <kbd>?</kbd>, rather than having to extract
	  characters from the symbol. The syntax transformation is accomplished
	  by the following procedure:<a class='superscript' id='footnote-link-2' href='#footnote-2'style="color:green">[2]</a>
          
	  <div class='snippet' id='javascript_95_38_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (query-syntax-process exp)
  (map-over-symbols expand-question-mark exp))

(define (map-over-symbols proc exp)
  (cond ((pair? exp)
         (cons (map-over-symbols proc (car exp))
               (map-over-symbols proc (cdr exp))))
        ((symbol? exp) (proc exp))
        (else exp)))

(define (expand-question-mark symbol)
  (let ((chars (symbol->string symbol)))
    (if (string=? (substring chars 0 1) "?")
        (list '?
              (string->symbol
               (substring chars 1 (string-length chars))))
        symbol)))</pre></div></div>
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<div class='permalink'>
<a name='p46' class='permalink'></a><p>
	  
	  
	  The function <kbd>query_driver_loop</kbd>
	  (section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query_process</kbd>
	  to transform the tagged list representation of the query
	  formed by
	  <kbd>parse</kbd>
	  to a more concise tagged list
	  representation, where the tags represent the kinds
	  of queries described in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  Along the way, pattern variables in the expression, which
	  are identified using  <kbd>is_name</kbd>,
	  are converted into the internal format
	  <kbd>list("?", symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>job(x, y)</kbd> is actually represented
	  internally by the system as
	  <kbd>list("job", list("?", "x"), list("?", "y")))</kbd>.
	  This means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>head</kbd> of the expression is the
	  string <kbd>"?"</kbd>.
	  The syntax transformation is accomplished
	  by the following function:
	  <div class='snippet' id='javascript_95_39_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuTLiQA0oOQAFvKS51GGJoGW1rb2SSaJSURj3VYAMghoDeSm6u16oAAvCjnm8PhcDkJjqI7OUlCwlgiVkkfuY-ttAZ8ri0bmFweQngAiYgE+RM-pDbEicagOgATxc2Uk1HwklZhIZ3w2FIBsO650oVQ8JP0nMOo1xgKUdDolCixEJeilxhlWwBZwuNLpd2Jj1ATJ1eoNRvIHKxmt5Tv1hsSoUFmWVNVVpt+5rs8tUirUkejUrV6qOPLE3pdfvm0kWknkAA9NJZdeMTWSzLKI7kFSC1HG7V41Vikyc8VI2qRpEplLji2b-s2MZdrrJ6bXGQ6NPRznpJK3253xhzfP5Gk1+9ah7aVfamfMIkpnDlp-I2x2lLiFw1l5aB7T1wzmZ7aIfj3PaO6uQ+7DOT7j-UKg3tSVSMsYQrKMq1UWNwJHBNEw-UAvxfYg5gWd5c3zeRC1obtyXDEC4TApUCP-Xp6y5RstRCdsXBaJRszzAs9Sw6DQ1LXCrzXW47wdKjnBouj0Mw4g32GOCeL44FlEJKZf0DOhsNY3tQBYJRNFUAU-xFMUJXkJ5IMI6DSJEnFeTE2jMhafl5M2RS9OrKDNzrRNyN5EIy1Cc4FFdKzgPYwdOJHZk3LCU95FdYTnLENy0IYotmJLYDbPjBs4JCccWjkcYVCs6zKV8m9-Ic0cmTSjLaBUfiYtfYol2XKkrT84dCuZErcXK4LPMScK4JazKZnQ9LSBC7zcPXSRLHwLieFg4yxB6sqZnHOh5AAR0WY04qAkbbjG9ouP4abkx2Wh0tamYVCmVkqFmIlCulHDFNG8auIAZiclKpCW1bEkocqET1Ls4oASEBntcqkakGo3YMt0+taqF+jx-vnA6mwIUEwnckKvI2+7KUSgyPRmuwlrSzGOvW26WJyuVQLjGtbsM7lUYyaRqFIABrbKfPB+r8sa6G9GZfc2fZrqidAYWOckczLJx3Gafw+mBYMN7xZCFTNFkQaAcp+K2J568bS4x1NE1yhteRwnDoIImKowxj8jl6ny0V+zlcZuCOyiO3BLkp2Etp8ClYAhNkvFgArJR5joUgIk0chkMzd58zZ+3VDQu75b7DWtdPIsM42QIAH5QFvE2zYt18ng-H2HfTvN9AeQvauU1TI+j2PKHjxOsxT0h7aeL25IztVm7MAAuQFtPrzR9DH0AS7LoumSedTA008U2Rn0fGkntCGzwD8GHwZg2CgOBEGQdA+B4JmtXkDNCCGgLQF0WZM+dwFJkULLoPnsxF5yB-jMR+N13b-1AJPfEko-61UXlkdmhBNAyWFKAtSAZhSik3jA26Tw35z1qlAqQOdzZ5yYrdCBJcc6WQfgsIaNdor21irg1+xB35N1qo0UaWDQFyS9rXcYfsWH4LnoDCegJqCaB-uQagjBJDVGcJEMhjsKFwNfo-IakjpGyPkawRRl1xgfGoJIEhlcVHuzwWwghy4iG6OICdXqUpKHqIRvY0qrJiIkkse-CBtjTICPIeAtRyl2bvA-KofxEk2TSTXtkIRFiIGcKCP4mWUpvHWN3oCWG30EY1CRoEkOzjaEzGyXoH6C1EbuLSawnxhDAShXjvyMmoVEhOLUa0donQWi+MBJLTmsDlwl2KdLVmHMuL4J6a5cMzTsaqMGS4mYQUPItIpsrdJkziGFjTKswpajhmpl9Ds2o6yxGQMBDXBCyipSnLMFgU5QyNEKFUBco8MwZF2OClOGc1SJl1JCJcnWQT5nDIBcwtZNSMmlD3owZgYIX5MgAKrEHZsQagAB3Ym-I9BKBzKAAAtHihZT8FDhQinYahzySCD0YFEOgH9KD4FAKoEI+ZKAsAytdSQ4ThBqiplnUA1CgQRHZVdMJRNKXEGpbSzk5hBiv2kEtcQjLmVSARK0Ll4qeUf3MItcgmw6CEGkHqpERL6G21STyjhSTrWBFzAoex2Y2GgloF5RJNrlw1yiVJRQclLVuvdaUIeVqA0BoYU65ghy7haplUEbmO1ew9yWAWQ1Bh-UlzcqAux9q7jJqNZCmxoAOkdASC0AYsr5WKpLOYRQsKJXMiRSi9Fdg4LkH5FI-FhLqFvllWRUS20eEoWHnmOg6S+Wf1bqoL2yIAB8pqnle3SXg4dqtrbDLmh48ZVi+VxvCIQV4NDHk3TcadIVXRSFPOguk-NaQHl0IvcddxrjSlQxDuszhe9D3uGPb1ExRrFAGOuj8qxYdV0ZlCCtOG5TdF5KqS-fBfLdVo0YBjMILAE6gORKAf1c6lgdGQwndqKyX29AePgstwRlVTITWgvDKHyBocTbyqtYZFK0YI-R9DKFyNmDlfIBV8gx38uKcSpYJNjozNaZesjGxhganFtwsUJADldFUNpOl27cITu0jOh0AAqJTWyS26ZXqANTK7UYxzyCKPdT5ZzKPiSHDTikQjPqg39WDcz5ka10N0SzSFqA2dBbQX16N2NY0kwzYNIa-PWYTkF+gakjzicI7M92O8-ktled+MFuy1G3niygzxRRr1BEnhUaQIHUbDL6Zu9+CHgt6plphvp0tqAWSlNx0AiHRkqAYCamLAW4tZcQnJGWMazCIYM86EtfXS79sU6yQzKmesKvG5-YTQ0ZZLvtbSN+zrI0RLZr1qLIbTtpCmz6LoI6sNndu2kERlX75gaWeFo5XiIVOcpCE94GaUKqGwzh1QUV6JMIKSRiF5mnvlQOalgCo6q2IYwyajb87DOukTQE8xr6IWdYOYVxNk60d+liUVrwTxQHpM68BUBj3eQguG1cuDW6q145JwTgrJPqkA+XCjpYBXM2MMEmk7nIaHugwBEWrpB8wBHyYKwdgF8uDXzQM9O+LlwaMD3S8SyOZtVxsyNkXI+Rdc3bUTmRJ0La05iFlkHIeRX55iPAoFoTxLD90oNdFo49SVwW+xqw6qgvVWB9U8LbH2q3ATLmqh1H4V7c6D1Ma7YfpNGWtqlDw6ruV6-1quSGzzmoZ5j0TMW1tPUnm9ch552eHrbSevgJ4U0raoxrha6vlJHq7Xr6AfaTetRhtmPtry+A28Ag7xNLvr1adiD979pOX7s0j4mJxJks-FgmfHAv3v6v43bAJ6AxfdVDa3gpw6Vf7IUZajP1m1p+-PsK0rIRffkO6dkFZnqaIjqB8Rq8vBiPuE4wp5kpIYYwnxby-7i4uzdCAGIavCoRxCtqf6D6JCYblYDBAF+6gGSgk7Xa8IH7AigjoJ-g4GDoX68iYHvDYHPKSTyDfDrAsZ4ygTkGkFiDkGJq+rUG0HmAQHPDgRMFT52B2o+aIHf6tLYHk7HYSw6ioTM7cE5DRCvCEGySGAogmpyFRAKEZh0qJIlz4FggYHUGKFxLiGrah5SGf4laBCTxqEKHYGGAAA8pcug6hLwqgmhFhQQQyMKsiqgTIAAKlkEpHkPyAKjSk4IkAwAaqbLIF0JPEyKAAANSm5nZhARDRAMqWS2EJEOjMhZEi6BApGRBRDpGuG9bpbvqvxeFgh+EBH4DyBoohFRBhF6ARFIJmwxEOi5F3YFFpH4AZEYKrZZEmZxGJF5HmDdFFG9ElGrbP5iCszUCILIJs5oIk7w4bBwRvwyBZCqTgGNBwR+aGEKrGHqbMalBxrlYHFaFnZDJsKbGSL-Z3ZmC6BtjUDv7ex7YiHGgiKjGTwk7IioiRi2GjEAJ4TdBuFAlnL7Fxi2FPBxhuFraBDDCNAMpMpvx-EmqwHZjwFNLvEupFCCb3aVEHH1rECZCtCmZsjdqlC8b8b4lBCIbkGYZsZcoGHSZJLAT7GsGUFMEnZnasG8JUFsikSNCIk9r0EAgbFzHbHAa9riys79EE4rGgAZirGBDrE3GSnpwyG7Hiz7FiFKmlG0lil9jnGAkBrXGzC3GqRAlPFv6FHCG4mfFWLuFQp8j9FokgkXHOmNAlxLQJyRiaHGFekumQngTQk8GP6lHwnlrzzImamzDukYkNIIE4mRraqNA1reGKmIokkBb2LkmEgdoCpE56CUlpDUmVpur0nUGMmhbMlgHSlsm4QcnUGFbsGCk8mnZ8mDoCmEhClUkybcESlbFxlOSHxEzHynwK6cBXy8AYBq6nBSCsoioe5ioB48pUw7q8xGzCDMhLkcrn5b5iB7miqSBsqaxEZXLrl6w2SByERaoNiIbHkrn+5Niza3hjxlzygmbmDyjWqNwfnL7RjflmDRh-kdlly6HAWgC6FgUAX0hMjrhQXriwWlBlzlCGrSAmboWVC1T-moXL7pR0CaxKD8gmaEXEXBHLh4VpBlwZmMDAV0VJLUXJLL7KSvAmLOB0ArxsUvAcUMCNDMWBBlzxFQXmCqDW6gD8jKGzq4qJGUWCXmBlx4qiVmDiVPBSU6a4qEryXgXL7GZPBpBqWSXSWgC4q6aSVmAKVmBlzAAqVMoSUaVIgyWgBgA6VwV3BMgACkdlRljlzlnlFloAVlc28FKholvlJluKKhxlul8FAAhCiOFQ5ZFaAAlSalJbFR5XYT5clZpaAA4WYBle5T4XYUiCpRFXlaVYVcFWXNOjlepSlbOtVZlT4dOmVQZYEBVU5aZaAG1c1cVUyHFXZT1YEN1WYHFeYLrmPJyI+cKvuS+T+NgciPPBOvKE8E+ZykfDNQ1tBXNSeTXNQM4OHE7n1itSpBKjphBXtSuSZolNGh2UEBtaua+ZyFgLNWyvNbqnkOQG+ZxGXJLiWiZgDV0MFQ8UJcvpAMQMWnIKRQZZDdDa2qDWDdZaxaeLxbAJAMBTxZIBjUjcjWXNjQAKJQVE141g1lwABySgFNdlVNFNQZt221E4u1H1J5X1U4S1SIZ1qkpAOmkYpAjcLNy5nK7NP1TNYQQtn1DW31bBy1jQE6vN3V+Mao6111It0tzRr1nsURTST1C1RYO5DR64B+gqkQkgHSjA0g-Idp7cOonc8c9x7qetZ5OQrol5JAZNQQXsxtfQQQMp1svpSC9pB2B+ghDqKZrq7q3m9igeatz1i1-R124JktbNGtBGidnt5g0d3QetB1R1J1TwydetotbBmdIF6ISZ2J4aDpBgDYOQeqGJUQrMzg5UEdyB-WWwyCbdxor1Y5h0E58u58053AmA85R0egygFAkgX0YQhiykjAnMO4P0+4NBd+xpTgrgYIiUS9e4OQCY88JciUsJHYy9e9vKiRTIkgwxfI4QhRxR29J9u9NBZRpWHpx9u4K9Hs4s1Qyk4GUSzuakt90Qxx3BSgpApATghqQ0akg84DJlDAiRk64D7pTIcRJcqDZyQxWRYDAtD1NqqDq8QD0qh5dgJAEkS0gDqRUQUq12-CZDHYS03wIMRpN9VDgxPhWRP9tES0-9KmE6dDxA5DOkDRdKhgF9+gTIJDhagjDD7wUwLAk6NKB+2FagXsFh6D5WTI88finEajoAUIECKq4oGFREijXw1Ub94EajhgaVDoy86jTKkYej0VTIy82hXWtA4QYDCcM9P489nMajFuTK6sUR56RYejBj1q0CuGtsgudc1jXp6DHDiR9DyGcjigCjTjNKfCSj59SRtUcR19bOWC08DCIOQu1jnRSShTWRqTS0HwGTEEt5qj2TZjMECR-qHIWj5RdTSwCFtwJmC60jQjDTjALAL9lhgIuhbTB9wzsjPhkFTwt4WTXwMJVjuTTwvToz4z2jWSRDMz3pDoAA5NfVOhfSc7s+McUWo1I1s19IwJZPcxpX-s5g4CY4SC4G4JGE82XUkmXHkC0EMbIkMaim6MyE6IoGC6foaufhM+YCXL000-hD82s4RCi3M2k9sxYZPIi984sA84LXGOi3c-i1Jfwc8G2ksBnGvVMyCGCAXIc5GAyy6XRTPMSY2hig7gJA7BS1IiXqjBvuEdvDSyynS9vLMwAQ3Ls6y2hOy6ipy3E7yIK80T7rKbqJC4Yu8q4CYi0G0FAQ3DS62lIsKy4xC4wG6FI3CLSGaz+KktSy8wwfhMqz9dvKOWAFoohBiCvetXugKnmVcOQLgDLpOaQC8CpFMKAM9EyiTFqM9CrirnPEAU6GzKoKEvyK7klowC0CAywyo0Dpm9m4k9I20MWl0EExBllGm7pKBJGG7rIoW3C6UIfaBHW1m5cUkpPMm6QKm-IOm+GWoK2w2+S37ucCvaoNqt1kdm8k-ZhmXLpqOzkMZmtqJAgkgj200jwE8Gm5IPtLSYhgas4AuwJial2+u5IJu-24doNNO5-VGWYLGSEMDb5oQIe0-Uxm6sBE+51giRWgJicWkIhoO5hqe9u-wKi2oAe0e32bVHGk+-mxoFmwzTesW50iWt8Ze4O3e6ACKTxmsWrPQJC2exe6B8YYsGmTqjtZBzOye7qCm9uxe3GCtl62fd+xRsE80PYqhyplR7e4aWMVYBiIREx0e3g0ktM7ePR+tWKyR-qUnCrcnYEIx1O8x8-Vh+WX+5WTtUBzR3QHR72zu+B2pC+1B1h+kJRhxyW10vB-W++2kDckEL6YJxB8Z0-U3PZ2dtM9MzJ-vqJ7dlCS57e5yPZ+p3x2kI53GIO6RzQax2WfPDh9h3h9bORaeKG6oOM7ScBGwC43MQsd0zavAvMUggDpPFl6iEyJEEtOa3l+6iXBV5CyLpbt4SwHK02qAB68ooWUe6WQlyw8l+QKGw+Tte1z+Ee5hiO0-eOwMIhgG5hsN5qxNwhau5oG+I+b6yanN4+Eez4XV1V1reLH7voulNECUR-TkFF3gWKzvd67J2R1I4d3aVdzkKoPd9EAfpGC918Hd5EEd97Ggh9wfnGP91924h-mbeQSd6fcI0wTS6e491DxwVI2HaCY-ddyftDw6wCNMwd994URD65zdzQdXAj-7czFIDuMKxj32BDHzHcLK3Y6q2nhON9T9E8nT+QZszmeqjuJIGG-YjkIwNqt1JIjQga-+0qux8hPSw3ORwBztR981jj6D0hOD2z8T42a8+bZx6W90P96MQi5zw6tz7zy0Pz2y0wIKehxoJoJZB9wTv92p7++L0Y9MyPKF5-NM1b5ZEy9L08J76YyPA73xhWer5SPvHFwOSw37xnOSykbkCwCYqbEIW0O2PyNxxe8nyRdcHQLu5T1PCY3QFNLMxn6n7SNn+O7s9MwCVNL551fA+EHHwn1Ig6sX9x-XwSE52pNXwp7di36X-tMwXiHoIoHbpyr35308L36EDn9wXmwXw45P2X9i9BWK1X78+OzppEFMCP+8GPwv-wOOzX9auv91bH+31CVNIzEAaf-H-gO2PRudYbTm-yrf6ePau5JYASJQw3xOo-1-aXnf2-2v5f8CQyjN5pUGAE7NDm5WXZpv2H65BR+fGTPt0DdQAk2+4zGvsf1nQv9yAgAtARAI77X9Q4JPe+DmB2ynkxQi0W4DfhR5nd4Ip4InoKXqzM15eJqW3mDwMJw8GBvZKnDnjg669OEQyUgT5jx7XcaIo4JgkE2BA4D-0kgNiql1t5-dFeqzOgeIOJ5yZrYUgi6LIJS4uEpBE-egeb17I0sGSLjfAFWC6BxFZmTIMwUqAsHStVoWUPQSoMMCzMGStyTJCEHJ5SCXBhzJHuQI+RUDjQTgsQVwJoIwDFyYrbwfo2hCisCCYghxpoJkFyCXCcYbwYf04Rxh4h6Q2qIkNsDaD+uLhSMGkO742pIwWQkodaiYJL9rB5gwFjH0KL11HwQAk3Ln2mYSVMBpmDCjMR2BvApYVmG1uE3VbmtxgTwJ5kCAMFjD0eGwRDMkJ2gGojUmGXIUhGSGqAxhTggYbQELrI13UkwtXvylmG5pjUZXGwTkEBazNoBmSV4o0KQhACDhGEFNN0MLT1NvuuYQPKeFAHv9ceRQ94Y8IDbv84+67Yjr22n6BB92mGANoCK3bAi1ssHLXlZ3UwlxysEJcli8JzCSBt2ooN4YBFBE7U02mGb4bXRn5k8Ow67QwOg2XhnI02ddKwKAF8IAAJQmpIAACC4AcAITQABKvhSAAAHkKayAE1KgTHoEArAobExEMNxByQlhoQg-IQGeGcccwWIi6A4z+GojrgGwhLEsKX5-CVAZ0cUYIikbajKgYoyrhKPX6596RjIlkWyM5E8i+RBogTqqOtZ6jgsio-9Afj+FADUR6I-TpiM1HgtnRxAPFNfwZ7N5vuxojVi6KlGGDV6ufa-lyjv4TpsMYgpwDOhFyhsjw7MExEhHVGqBkxzXZftINsDSj0htRAoeGOGGRjX+-6aUU5HroWAYWuiEgBGxNQAAGNAnBASBooxoDY0xMolPLdA9cDYjQE2MUCYZNcB4YcUP0YBZEeAPAxSOOPeCTipgUjP3J2Ml6Q8RBtAhcY31zg-hKALQC7gQVcYmZpm243sXuJdyXs4eRA9QajEsDaR1xT9KQJECBwwsJ2WnHsaEzMT9iUCdRbsQeHPGGJ9xk3RLqjHr7vA0UKgTmPa3nhxpye1LN1CXFXF-i4eZvM8V+L7H7igytiF3lKySQ6ExW4EyQJBOkCcxves8X5op0sAQSoJ-vaXthK5adZ4uwEIiSRM5gLjHhbQJvtmxFD5A6enA6MYL3FisTaJMYmMuZ0l7pxbOnCWMhWzUACTn6bvFhrunkAxcggIXMXo0EQzOAFeIPb2OwLALSi1JjQWEZZxLTPckO8yMwfxgU6TwRJpE57koLt7QdlwwwQGBpI-Y54XePgmrs8GonETaJTLXlH4D8nyAaJDkgAo2wLTWSloak+LsxP-z+S2J28cln4IZRAgXieoMdgJOVKCSmBEtFgRLCckGTJQAkvghsFjITVH2cI8yfbwy64QSA6RfIfIKcmKC9JgtCoWYFyl8F8mIXB9sSLBAZgmMDxPALpjGnzxtJSg3ST91PLK8OBKgIybBNwhVSLOXHHXkoMsn68mpKwzgZ1LMAKC-s-3bITagkHuo94QgmOjlIWmCSmJjvWMlxJ8xSAsIuUsqRwVoKjTxpJk3CDUNsF1CZMjvMXsBCR6bjhG3UvYbh1vFahGpvRZqboIvaaAwOeU3PiYOOG1DquHhB0CcLsGZI5JgeeGftFcHUFwhkkzQFNHybFwHcZA9KdoELBjtSZ61RGadJdKeCSRCMnychzSligaZWUp7gjPWoXtoeLlMAGNN0zEzPOZMqELSwIJszZm0MppCsNSFd8HiqQ-aMdPOzEBtpOgpFjnSVnbDGgRQ1WXtLSBVDdmP004ZI2IHb4FxhOE0eMA+HU8jY6owKDC35ZahxwbYWUUWA4k0tEoHEgfvWIPCpJvZufPNnTHAh+yHG-zaQJBP5Aa418S-I+uHLfGX9tamsJpLRGtkLjRhpLcYYWMlSgBdhjAhHDtTbBG5-xx7TYA+Lh7Pj8gHEzrJNg1kwzDhmGf1HLNhmrCc5Uokoe7MzB1xS5VmDiWrMaCFzuB3BNuc3NMFozzhGFaVoemnqktXxgctrLLDtxIRB53OK4VYCaF4Dx59wvNLWJpEWjJA7IhFAABlCa-IzoZUHbHixSxoohcZKKrFFikZY8uUW0AVGajZmKo+UdcAfmujbAWogTjqPLlyR-ZhoxZDC1AU0sj5J88+eAHtEJxHRIC-+cQAPxxjs6jtJJB6LwFeiMRE0P0SUJXwwsgxaAjkOkOwUf8FGx452TkBIWUKOQjwwVH-KjFTCWGcY7AYmJtQLidMIuQVBnJhaLzhGLCjgiWJFG8VmFT8-OVUPqFxADwTzDuYoF1qSLQh-wkATS3YUJjzq88EwbOjdToLE+zfRASX0wWVCwx6ouSGsOUWCTjpHQphZAoUUPNc5F0GsQ9U5JoDHhvOeeYoocV9s3FlC98czWWjCBwRVgKMJSx8WC0mQnip5t11MlrTVhPKdxnqFkXvB5FTzFRYQKCZBKSA8+IVuiz8Vx9HhIQVERNyiEhyPo+zAkcFJ8CAhyeVSx4WEFkTvB1Rs02ae-JtkRjUFfKfqW0tzATd1R0k2XszTxEmpcFPoiaAMrUmIYIGMKP0C0uv5y0zsFCgEVWwdDqi6FcfbroEE0B7p12-o22bQA2UEg48YnMVk7KZQmUZl94hOPMvcVrYPJCJd8DqRkSWBy5rS1EYIoCUS0lhmGHuZ7Kwh1yKpEkkpXTMkWDK6SuI3tphjGVNJfRYKqZSXJsDXK3lCyrmrdmWWf9VlRC2hcGKw47K7gWKhcUcpYAnLOEp4mFk8A6FXK-Q24wgfcoBkDlIZXoXVm8p0Q5iBlIrKQNbI5WzMrW5cjpRWNQW7M+V7KgMf7JFUBiBVuIbVI0teUtKzaHyyZdMKG7SAnRBy+gJhiPlWiORXI3kfAo2BarWROq20ZfOmbnKOh2QNVZ0rpRzjKQTIeYhbNTyow+Vmct8XyllU-YGxCq+UZ8vrkqraQD8zVQyOPlnyL5nWGBaGtNViss5FynTJapAUwjvpDqlEVIErp2Jw44qNCE-wUhgxjG4ArNf7KZLjgM1IgGeNms-jkSbVTy62AWATjFqcQQ6TQOWpYngQC1UjEIGmsIolqmwZaj4ecTbXVrQx+GacBIG7W09l0Ps0CAOqdWX4MIcWUdQ2t7WGtW1y6KRgkCiAhRaQ8igtZOvwjTqgCttGOHHDrWFQl1RgOgvykrWPDi11AF8fWpEDXYClai8pZiUaTprxU96igO22Q5PqWAuzG9S+NrXvqH1X6MdXSiHnRKF5Ra2gGOtA0Nr-y7nW7L+sv74qfCALIYpBsUXr4YNt61BTfKS6jrcNuYhdQ+oyXuLOVr6hAl2vFTUaH1DjC4czKnHb9DwKfFTNhkw0PNnktZWjRQGI10AwNgtZDW50MomUu1RGoDTxpdaSbwNdyJDS2TpVYhUN9q+isyA42w14IhGyIHt2tjrqhoQaaMaovS6xi0B8Y08JwsqHVknKsmpEmALUBqbVM8gDdc7i8Wcah4lE5GpvJkQ3C8BVQ0RPMk83bzKFPZMIcDDOTlZhNQQZDYpt2UshqAULKJXPJiVPBdNCgbTVVhzBHg90VLUXoOU-R09G6zdVutXVTLktD19tTjHPn03IaWI7JEzRwq0WcIdFiSXMJlqeQVdJw8MJ5OCTK3HroMAEMxuBujFDyxKswauNJQU6stRt5M5GtmQ5Z2ApB+pacQSg6LxE7koWwIEyB61dwKt8cqKfCz5ANCt53moLUzILThbEkUWrkEpq23dxQEGGxLaSxMw3adt0XHADMJxQjqiKKfTDAAE4BgcEciin0M1qQhJBGr7SRUM2nkpggDZLTLyd6z8VYtJPqcqjsDRUWxcOwIIDpIqqAjmRzZkGgAJ1bLy0QfDTkkix1e9QIYQFyY0HJ2Q6gEYIOMVCQMDJb8UoARvOH0eWY6JAFFOndDuuzKQ0R5OxhdHJIpxylgPoJpWRv8XGD5NaA6LR5RUAxyxd92u9Kkse2DwRdscj4Jrle1AE+49sFzZZEiD4rycigTIP9GebKrAlmGNYcwH7i6g3haTZlII19YX0+gDCzrLGWuiMBzdMNVKmVz1ByE3QcO8nT4QJSEp9duoAuaS3EAu69UHaZSv0Gm1mBQ9JLbxctHrDYcAZ8XWMi0q1bNLdWKmDPXDpdUNi2VkqiVeqtaztZi9akr3WbpeJ+7bGTIQPZ1Ax3mBQ9TIcPctvVECpC9LQBPeHvdBZ6SdxgeKQypp3c6U+Ye7vYSieb6oU0DAWfQSiJ0p6p9EOoAXopM3maTplm6dECTT2cbu+7W5nkNGWihDKVU24fDpnfiUT7N5+g7dEGuHA7ysMEJiZbJYK1k8gdANFG4GN17ovleqZaDbs7l2604QjZ3fisGLu6XJVZNkLNnv2rxDtXml-V0MTUa9zi5Bb9RjNi2BEChhRFQUoC0aAwcWMjTFvIpP1lIz91bfCFgcFquExtN+lOeLFt2pwHdMEszhL0AlYRXeJxekrbF+Imp54xTLSFvDKbct840vVjrNTYNLRrW2TMbudVYP27aGrTEeKx2Ag1xBDZXSCrM0r6gRI9chkxNk0FqJRDDaokw1FMnhaG3S2XAZnobAPqt5DtKXZjYb-AoNntiadGRTOmZuHAw2QidJ4czSGGaGrrJfr4YEP9FVashiw8Q3+mj6el08Xg83EjzL5l4q8eUiUzAJSH4jNJE4kDLzDv7Dghhw3TjptaqA9ZoAAADpYBuVBi2kO8nwCyIFG4WySg1V5Tuo8dDob3eboPJYASj8io5uUcqM1G6j3EoxFymaNvCCChAcnILT7bTNZjoAAAF4q0zANRr2vUYmNNGxmDBtoysYTBnYuj24BvUtDfCnIRgX++gL-rBBDGtjjRqYw5SWbL4iDQsIYqQCGKAs1QRzTkHgAGMLy7j4xh47saeMhUFdQxZwO8c+MMLjj7oIAA')">function query_process(exp) {
    if (is_application(exp)) {
      const function_symbol = 
        symbol_of_name(function_expression(exp));
      const processed_args = map(query_process, args(exp));
      return function_symbol === "pair"
        ? pair(head(processed_args), head(tail(processed_args)))
        : function_symbol === "list"
        ? processed_args
        : function_symbol === "javascript_value"
        ? pair(function_symbol,
               map(javascript_value_process, args(exp)))
        : pair(function_symbol, processed_args);
    } else if (is_name(exp)) {
      return list("?", symbol_of_name(exp));
    } else {
      return exp;
    }
}
</pre></div></div>
	  Exceptions to this processing are
	  <kbd>javascript_value</kbd>
	  syntactic forms. Since the instantiated
	  
	    <span style="color:green">syntax</span>
	    <span style="color:blue">tagged list representation</span>
	  
	  of the argument of
	  such a special form is passed to the
	  <kbd>evaluate</kbd>
	  function of section&nbsp;<REF NAME="sec:core-of-evaluator"><a class="superscript" id="4.4.4-sec-link-4.1.1" href="./4.1.1.html">4.1.1</a></REF>,
	  its applications and self-evaluating expressions remain intact,
	  and only its names are converted to pattern variables.
	  <div class='snippet' id='javascript_95_40_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuTLiQA0oOQAFvKS51GGJoGW1rb2SSaJSURj3VYAMghoDeSm6u16oAAvCjnm8PhcDkJjqI7OUlCwlgiVkkfuY-ttAZ8ri0bmFweQngAiYgE+RM-pDbEicagOgATxc2Uk1HwklZhIZ3w2FIBsO650oVQ8JP0nMOo1xgKUdDolCixEJeilxhlWwBZwuNLpd2Jj1ATJ1eoNRvIHKxmt5Tv1hsSoUFmWVNVVpt+5rs8tUirUkejUrV6qOPLE3pdfvm0kWknkAA9NJZdeMTWSzLKI7kFSC1HG7V41Vikyc8VI2qRpEplLji2b-s2MZdrrJ6bXGQ6NPRznpJK3253xhzfP5Gk1+9ah7aVfamfMIkpnDlp-I2x2lLiFw1l5aB7T1wzmZ7aIfj3PaO6uQ+7DOT7j-UKg3tSVSMsYQrKMq1UWNwJHBNEw-UAvxfYg5gWd5c3zeRC1obtyXDEC4TApUCP-Xp6y5RstRCdsXBaJRszzAs9Sw6DQ1LXCrzXW47wdKjnBouj0Mw4g32GOCeL44FlEJKZf0DOhsNY3tQBYJRNFUAU-xFMUJXkJ5IMI6DSJEnFeTE2jMhafl5M2RS9OrKDNzrRNyN5EIy1Cc4FFdKzgPYwdOJHZk3LCU95FdYTnLENy0IYotmJLYDbPjBs4JCccWjkcYVCs6zKV8m9-Ic0cmTSjLaBUfiYtfYol2XKkrT84dCuZErcXK4LPMScK4JazKZnQ9LSBC7zcPXSRLHwLieFg4yxB6sqZnHOh5AAR0WY04qAkbbjG9ouP4abkx2Wh0tamYVCmVkqFmIlCulHDFNG8auIAZiclKpCW1bEkocqET1Ls4oASEBntcqkakGo3YMt0+taqF+jx-vnA6mwIUEwnckKvI2+7KUSgyPRmuwlrSzGOvW26WJyuVQLjGtbsM7lUYyaRqFIABrbKfPB+r8sa6G9GZfc2fZrqidAYWOckczLJx3Gafw+mBYMN7xZCFTNFkQaAcp+K2J568bS4x1NE1yhteRwnDoIImKowxj8jl6ny0V+zlcZuCOyiO3BLkp2Etp8ClYAhMGzwD8GHwZg2CgOBEGQdA+B4JmtXkDNCCGgLQF0WY7oUsGbimLLoI2NIAH5QEmRRyvTm73dLoIAC5AW0qUG8CCvWeodnCE0GThVrtSA2FUVxTZKUnhz-R2-MZv1dNrXT1i26Z7MCuNekSy04WIaPx9h2J+z4hc4eVfl1G0fa7kr39-GP3bsn4+1SwQGzDnqRqE0avyGoRhJGqZwkQl5MRXrVCu29MxDU-t-X+-9WCAMuuMD41BJAb3NsAx2D8j65zPu-OBxATq9TbmA7OGZ8GEPmlxKeuDASmVviA+uJDlLs3eB+VQdCJJsmkupWSE8z61TSHQmWh9qG1TwbDb6CMahIwYSHM+4CyESL0D9BaiNSqYPdo-HBYjAShU0OQfkZNQqJGIcuCurR2idBaDQlmItTGNAUeVSWnMs6iOXHgoKHljEU0YWY0h5VPFYxMa4p+NipCpl9D4uRJCIGoMLGmKJtQtHT1fqAPBe8EIYKlKkswL817+MgQoVQGSjwzB-vg4KU4ZwiNCTokImSda+IcQUp8s4skhO0e47OjBmBgizkyAAqsQdmxBqAAHdib8j0EoHMoAAC0cyCkZwUOFCKdgN6WWEE8L2dA87iHwKAVQIR8yUBYBla6kg2HCDVFTeW6yF6GJOWcq6rCibFJINsxgURdkDHMIMbO0glr7MOalDwrRLlvOuXs8wi1yCbDoIQaQcKkRLN3rbYR1zT4COxaUXMCgCHZmPqCWgXl+E4tqnvThUlFByUxWS8ljQdlYoZSyswe8c7EsiXcKFnI0jcx2r2ZCmYlgFkRQYelFc3K13wfiu4oqkXTxxc3CxHQEgtF+WYf58hAXyFuWYRQvT3nEGZEMkZ4y7BwQMV-eZiyNlvj+WRUS21L4oTkmhOgyS9XAWUqpL2yIAB8qKile2SZPPMPzHXi1iXNVkxESSepLM7KkjBCCvC3unTOx11HlX6ugop0FkmKpiRm-NWbToVJWnDGpnSukQOWTdAh2azpIsUIg661bVbW1iUo+GqjpHqKoU-W5sK0aMAxmEFg5AhWLGRKAelQalgdDHVO9q3ioYhweFPDVZhKAHKOVIKVKFinoxXeQSd075A3MTWGRSS7x1nqnbXbdoAtU6r1XchdakjzHSMdjB+W6NjDA1OLC+YoSARK6KobSuzbnepUlBtkAaHQACpwPxLVchpkTxoOdtRnQQaSFqCptad+O+XN9ahErZIvt2gZEaOiSQjWuhuj4byCKYjDSyN3tPUExJqp9DMtZXyAj7Gp2cdoHJEmP7V1-vds-AReDxP0d6PwzunElP9zjUUItXSKjSGSlGshzjB252HRJuFMtZ3OOltQCyUpn0jtZoNQFs7WOEY46U0jEnVAy15TC8zoA0POjVQwFFoHJBBZ9JBpzKgI03spHWoaMsw34tpBy5gXL2Fs1i4JoTeWgiRYNF0D1c78tlcCFPXDqcyGBPJuupJ2DoVwZYQK7YF7VDzs-VFei9tl6aMa1V3ksSImyYAgmjYI7a6zsS8G9DroL30OU6qZJz6ImafayNv0PDsiH1rit0GAIn2Rq7WQpTJnoVre2zMQeGmruH068uGbSwNPSuir12RvRcvldxU-Pz+cAQqqsWHMAEcmCsHYHHLgic0DPRTi5cGKa02qBzE1ijmRsi5HyCj0rJCcz8Obga3+yOhZZByHkbOeYjwKBaE8SwpB5CUGui0Ruqy4LMNeYdVQVKrA0qeMlxrsGtr0mKmCglH4sMPe51MEr-OANGWtqCmo4Krmo8UnlI2+Bmqi9pOLlGWpKUnmpWO4pqvKSPV2pr0AU0raoz3hi03AJzcTUt-tG3+vbbpZJSY-ADuJjbSepb16Bnrbs9a7Ydr45ZW+8rpxJkh7hVYdAJHoobv4dh6QoPWu0f1e3j2w6ePiwxbWwL+8ZPxos+C5soHQiWfBtiF0G2agepoiEtmJyryU9K+UjjHLtZo6MZR3Hp3xNAd8K95Ha8VCcQDGt-b4kWdemBh99D4PyUV2StX2j8CUEQ8-wb9dXr3kq-3jr+KZJS9axzAHZdt0Y-h+xDH4vbS8-3x1jxYBHGO-wfUZ4uY7PjLXk6+TwGYMuOoqEQ6I+I0ugUQrwu+skhgKIYW0BsBIBOmzS2+YIK+5+cB2Q++gKAmEsYBreaBpQzcOQ0QsB6+hgAAPJXMgS8KoKgRKt0oakyAACpZBKR5D8igBexOCJAMAIoLyUBdDNxMigAADUOOeWYQEQ0Qu6lkVBkhDozIyhD2QQshkQUQChjBsW8m2KBOPSRO7BnB+A8gYyvBXy-BegghvcZsohDoahZWmh8h+Aihw8+Byhie4hUh6hgQLh2hbhuh+BdeEwWQPcfcV27WV242gQcEOcMgWQqkw+M8cEbmOBgKwBeh76fKFGemGRuyfhoA4Cx8iRn8HW32DerMze3snumWlWRRzcV2yIqIkYVBRR+SkYTBZWTRBGREBRBBcYqBf2QQwwjQu6hyOcLRKKk+2Y0+hidRro0KjQhOYIMRDoQymQrQoA2k9qpQr6QK16pQI6x+s63Gly2BAG2KwE6Rj+p+d+X2eWj+V8Z+bIpEjQYxDq7+dgCRXcyRT83+Wol2Hh0RHhWR0gsR5g8RpRfxqgKRjQaRfRQBoAqBORQQ-K+R7RLKJRswZRqkHRVRTeWh-+XuxoDRLKTRHh0xeELGHhhRQmFcS0U6XROWKJKgJBSqwmeQ-RVBTwQxehIxgQ-yM8ExcJx81JsxeiM+ixRQaJFWRhaxYJGxxAWxBCOxiGCyvBc2nUgpfyAKhxZKJx5+ZxJ6FxQ+AJZKNxfRdxdJrxhIAmHRcR5+T+dpl6upmqgG1+2CeJYpucwONsh0kc0cEOnACcvAGAcOpwUgTy5yHOTYRqey-KEMfM3KHyDoMZLyReqMGZjO7wpymsa6WS1yVMo+lYhEUKDYI6OZFyoOYWnE7ct4TI8oie5g8oOKDppQjZ0YLZZg0Y7ZjxMewuGBPZoAGB-ZDZse64I56445nZse5QiK0gieC5lQtUHZgise6UdAmsSg-IieW5O5PBy465QQjZqxPZqx2KJ5gQjZykrwqCzgdAWGd5LwD5DAjQ155gjZEhI55gxOoA-ICBgasyUhR5n5ZgjZcyv5Zg-5gFSGsyiyYFA5jZmGTwaQsFQFoAsyyGAFZg4Fg5dwTIwA0FhyOYTwcFSIwFoAYASFE5wuAApCRRhfBaAPRbhaAPhY2Ygb+cxZRVhdSYBchbHgAIQog8VkUAWYWzKiUoqCV0WEXUFMUSUUVUW0FmByVznC7UFIjQW8WqUoqSVCXC7+pKXkVSWgCBrqWcWx7+o6VoWBB6X8W2VWVGWEXCUkX8WBB8VmDCXmAo7tychVkRDPK5kQqHSaahYzw+oQQVhPDVlxm4gRpBWnKxlhVNgijOAABWVOkVjQ0VwgSGjZ8VieiUPKA5QQ8VaViVnIWAyVIVFysKeQ5AoWBF7CsegOaqieHVXQ+F32X5sekAxAqqcge5aFg1w1BivVfVrVTIL5kgsAkAPZc1C1U1fVt5p4r5AAoiOXNZtatd9o2QAHJKCHUkXHWHUcnTUcUDB1WpWNVTjr7IhRXwakBIaRikAEGVX3XNWBUBZfXmZNVP5PV5UvVvXV5VBqhxXBV3UA02E1WewPJAjQ0vJVVFhbKWFRDrjR4bKSCRARYEKKCbzEmZVKDzD4YRD6IVEMqVX5k5CuhFkkD7VBBexY19BBDHZ4ZbB9wynGjR6-4Eo813CdZMYEJc7I2hV7zImOmjni0NWw0rp0lM3mAi3dCVV7zUBZU5VPDS3-UTiA2b7lWlCSnzEklcpOQ5BwqzGY0a3lSC2uZc2m1eQ1XhxExBng6xyhncCYCRlHR6DKAUCSBfRhBILKSMCcw7g-T7gX6QFq4OBOCuBgiJQR17g5AJgzwVyJT8m7hR0JheGSA+F8jhBaE6FJ0diR2p36FpDNyl3Z0V2p6zSsDKSUacLU5qRF3RAwYx2UhKCkCkBOCIpDRqTbK92YUMBSGqA92vWIEOjiEVxMjiFiGqFSGT1K3Ljz1PABERry6owkASRLRt1yFRCfLfLH34173R0gzfGF2H1eGqAF3VBN1LQt2QbRU3y70dhLTH27KGBSEchMj112Dv1jrvBTAsAT1fLZ5x2VDgNfDp0Oh6ZMgzx4K3heyGBQhnz7riiLn9GoPVQ0k4MQOGAyUOhlwchwMxX4SoPUlMikOqZJ60DhA91TpB0-ih2cyoP44grhLCEWxYRUPoM4r4iSjso9aCQwNp0CJz133KFANLQfCKBgORg7LiM3K+E4riEF1RGjytwiMCQHy4NOHYoaMyPEDn3yOMCKPg0wPXyEOqP0p-2cOyNLBMhTnH1PBOPmMsCV1NyAgYHiNwNON33DlPC3hKMQN8ngS4PuOmMf0gMKOXVpKAgBH+PNJMgADkBdfqv9GTSD19xdQRqDADgWMTwDgdiwjAlkX0FTkDWD0DhILgbgkYVTGl01jZeQLQ3hv83hoybozIToigvT+eiK7IEjpQ5iJT+9TT5Tglzw4EzTBBHjoDCTyqEzSwUzigMzcY8z0TZj8zgJvIzTSNbM9scJeY0Kop88ZsvD+QaEV6DcJxtszRKKM8WjWk48ujlUNzZzupQVxzuo1wOys60Vhz+YfzJWyjtzupwEktVJ09TIw5cDfjkYoL9O-ztIOyBBiUKL9sALXy39yzAZ6VTzqILjtwiD6BzAqLS06LeLuTMLf41DJNZNpAFNj6KE5LYzo5IIYI9LgYhtaQ0VTLOoLLlA+iC22LuoX9pzmgozVdXLO+vL2QUNYLuL3yIxBxuqFzDgQ+3z76wEjZpDG9IJ2jOrMr6r+puqRxwEaEz6QGPtzw-IX80rNTfjtzcDkYbrjQhhhqaEJqwyoyEyFOejvIVqIzRTZezVzrXeFo0Z3LzrcDPeZzuTqx0rfrZqgbb2gk9DegAhrO4s-TjAP45SrgqCLQbQ3Qtz0bdgobUbcLBbboRTcI6L-zhbSCwilbXdCs8IDDAhzrTkeA0CiEGIUdcVqavBapVw5AuAIOwZpALwKkUwoAz0hyJMWoz0MOMO08feTobMqgLC-ItO36jALQndXpK5agdOv8J7CT5g4zbQqqXQnDlaWU+7ukoEkYl7x7+LzBH7R7179KzcO7pAe78gB7szhEn717oRXBLW5wUdqg0Kjm2WZSKduqdZwuyGcHOQmGIxok4RvcIHhiPATw+7kg+0aJI6CKzgWHaHWpdAu7pHxH4HagMWKHOd7pwKmD3VLGhA1HqHdz1xuE3Hz6QpFrcp-mE4mwGgx7s6QHhHZHEThEVHNH7xAi-K3HqgkHN7JC3HjRzHmnf7HHnxHpcRas9AAz8nTHpH-A4JiwyxEnYQfIvHNHsnuoDHoHkgTHcYrHw7ddIpe6IQGnyn-H9naQTJGIhEPnNH-LAifjt4jHcVcb1ntnbpMXDK3nyHvnbpRnYnRxaQI6kHrn9HwHyX+nwX7HInpQWr+N97ViBn0nLQAnQQOSGhVgEXag5XOQp8LXeWfjfjpXWeaXQmcYnX2XAwLXGr4nYXbXcYkHKXHHQpM8xnL6GwcEB5p4c7qgXjaJ3q1DXcERHLOKnc+HmgnWzcbAcLkQS0hbh35KFcV3Az6h3rROLAabAbdgg7GCNqszUdexJnH6635Ac7lZAWn3RbqHQLSgsHqHCHN1AWk7s6YPSCNHd9+3vcb4VZY7KKSPj4KPTID3N38N4soeCC6U0QuhtdOkbJwqW+cbydI71PdnRTpPxJ9POQPmkQZPXwVb+DLP0Q9+dgfP3sg8Qv0ecYovzPnPxJeNx+FP5dVPd+PPcnbPCvL+RT-N3QKvKXTwivnbdgfjJPUv5PWvjPl6OvavHNFEUgO4UbevdUhst4vrJDebCuetyiQ0Tvx+0TqptIO4kg87BCOQjA0K3Un8W8ZzaJ1XNvkLU32bjnQvVmRv3sMvlxeY5vbxlXuRsdNXliaqHPja-PRR4zPvyEf8AfLQQfqbTAbxenGgmglkQv7WovOX2qQK1XrrureX6JuEfjdflkHr3zTwff-RkLLfb6XfV9NrS3npV9w-tz+zYgshuQLAqCpsf+bQ7Y-IkGdATHG-u51wdA5Hdv57akU0cDe-W-tIh-CHuTSLoEO-q9hyo94Qy-q-X8BKF-2-L-BI7Xp-j-V1ZgT-lf32gC9xAObRgGTguRADT+TwIAaECP5nsoGHXM-s0jgHX8CWd-fCA-yG4wVMKkQKYJAPeDQC0B-ABDjgIEQIckMS-H-iNymiMw+81AlfvgHbBnp4M6NU9lfWYGnh8U7kSwASAPqv98qaZb+kUy4HkAeBjAgQQSBqaYlv+XjOBnplyb4DCauQKAdqn37dAyUbROQUzUoF8UxBEguQVIJX4jcdB9A+IjmFSy40xQi0W4CYhN40RRwuvCbAFgT4opG+KfceCby-yICc+D7boKLzoYa85eqHWAaeHT72lOGwIcQa2kkB3lNujfEXknwIKOCIhl6Bfvr24GxD4hDBaIWEKcEv4eepxOFvgCrBdBxCcDJkKUKVDlDk2q0LKHkPginhDAcDU4rki9aAgbe0Qloc0g17WCKkdg40I0NSHV9IhHQ45HG26GgAoQvjONo4ISYVxohF0OIRtwYJxhuh5A5cHGHmGbDGgSw7IasIoaq1mhuwsrJGB2HS0WUd+AllULKEdMMhfILQhbUfCSDscdvPxhJT0GBo9M0HOdkeHZioIkI9bIsMCNoBPAQW4Q0AIc2cGBAR0OQnaAiiRSzp9h4eHIaoAhGjhQRxqaQgAOXDQiLeV9eEfKmRQktqhOQDpgoMXK5MaizwpCJIKJEYQxU0HQgHI0565guczQnniEGSbItmh0HSdrwOX6EcrOoHBAbCICwtVJ2wokjqKJGLqcCa-gtSIYArh6ZEmdAB4WyJzCSBSOooDkYBHFGSd92s6XkQYGfT8obe+7ZUc70Sb7sGwFtUAGwQAASm1SQAAEFwA4ATagACU2CkAAAPKHVkAKKRfPazMJA9XyWIuSCiOxEwiP0LIvMgTRzB6iLoCw0AAKM1EAsW2iVZMa2gJYCiVAZ0LMXfCKb5jKgcSa7tmOjxOiXR7oz0T6P9GBiSxbXDMc2wrFkZox0eAUZIM1HaiPOuojsX0yLG0A5kjAl3rbk57liBm7YrIbYDSHR5GBlyFgdFXnSOCnAAadQn8KlhsYsRqgVca9y5YxDZxows3vOjDFztJxrbbzNGLnHm0rAFgYZnAhICLsUUAABiXxwQEgYyMaA+LQTXNca3QJrA+I0BPjFAs6FNAeGAngDlCPAM0bhHAml4iM4AopqHk-Gl95eIQhnvBLf6LwfwlARrjzz8Y0NE8fjLCb+IwT-jFOagFXqHEt68hLA2kNCahykCRBNOwzRDgFlIk8NyJeEhfOYW-EHgyJuEgCc+ktSWB3gYyFQJzA7YzxzRHYKNmSgrgoS+JKvKvpxKubcTGuZKPBB3xlYKT5WYIF-uJMklHC+2pw54GJMkASTpAnMRNma205vwg2trL0oZMsnGT4J0HNoO-xPYigvmmgLIpTznG3JRJ8gIydZLhKhdOOIQaPk11qiiln2VEsuqEOzgxScUwEcIIsEz6jFcuD2EdM4ET4F9k+SEWXqrwz4PZ5RtXPPs4HsnYoK4pQnVJcObguSrJnMRIUeiqkLcHUgMSbhPw-QTCd8F+B7BXCanGSPWNyPwOZJCmuSwpPebxgYQICxZ5AmU5bstzSkWTmpzrB4X0N3RAgm8eoeDibwzCBTE0uUpPvlK5640ip2BbwQSOCB7pfKgXBUXV2b47chOxABQisPDH59zpSQgqQQUuFBBDpx4-oDiMm5R85JGYK9OVjwDIYYZM8E6QVLOnS9LpXglQHOMynAR7pzQR6ZVOSGdZxm70tEVr3+lBBWpwqL6VoX-44o78Z3CnKlgwlddqeaMwDGJ1FKeTmMH8fIIDOulvFX80M2GY0GAi3Cah9w5ma30tYyTcIwQg6ajKBlOTgM1sEgATMOGaAmOmgGzkDKKHGkShdw27h3AdBkjahHQ+KVzlVn7RWh5+JQdbzkkqyehnLLaWKFox7T2eKsuKurOpnjCrZYINWbbPLi0y-820x2ZQHg5qy4qTHRXtRTAAwzkMlsoEJMKmjTDoQfUr2WbOaSKy3CH0zbusKmhmTzA6w-aDnLMBpzDEaI5FtnOJnLhkW+c8uQiRfw3CDZIs+WczAPTDMJ6Q44gDU2TJGwsRgUYZlmS1Djg2wLIosO5J56JR3JoArCcIhHnH8kB-RWbmxNmm3sZqKgCSfyARyF4CWmdcCOPOg441aI8E1iQzIxEXRwR0zM0vaTMySc2wmOfibR3olshGJUdZifkHckOYAsRchEWKlnT0oP5aI4+a2gLkGjB5B8a+WxncmALzA+I0qVfQ-nEjqG9c3WUvMUFGyS07wZpofPeDCJQFSEcBQ9hpFWAXhRg2BYyIVS3i4U1YyQF6IGQAAZTakGJ2KLl3x4sM8a+XglRiZxMYwoXb3jEXS2gSYjsXA3TGJjrgbCnMbYDzFtcCxt8uSKANLEzBRFVY50ZQpoV0KmxU6FsdIrEXtyeeC4lWlTWxRdijBPYnURNAHHEy48wzEcXII5A4DDFfAsBkRJ7k5ArF9ijkLvMRqiLrxGsu3guLEHLjyU8EpDOoT3m3yMFiXQ8ZwreI4CWFmirxdcIeF6g4gB4dBf-KPF3EdBOiuQYuNPD+LSgxQwNGSl0Vr8P+6gy-voqpkTjIx6Is+XEpfybCvhvBDxcMzkipLIl9pXqukvsXQcnsZTDZtUo2ZpDBR0gy+Y52WgFUUUUomttswdA9Lmmf3JNA9IqmQYxljNOhokoLK9KKm-SipoMsYH2Tm4KyzBDmxsLbKZmnS5ftBxCCaiYeUwmebwK0ImTuheDKKXJJNHmDxYYQX+O8CxEXTeF7IrEecwC7Py+FMPAFRFJHRGiUUxivsRNABWZSR0fdHpH6B+WMDgaeWOxUKNfYOgsRLi5fvMsCCaBU0hHQcW2OHGji0ufjbuU-yQyIr6JU6FFWYNtbZTFu29LUJ8ssC3zflmojBexMk7RjZ0A8zMAfFfkbBqu1y4ORwpSkGjHOkKsAXwt7GGJ+xkq+FQFlpV+gsJqKpEB0QxX8CsVFi5xaOI46Eq7geq+CbioJAS5sUJE4Zk8AaVqqpwGqxlaLPH6elG5QJMtpytgQ7iAVXI5uezx9VwMm2oSgFbkyDXeq25oAsNW3NbmkrtFiadld8rblcrExMaqcbQBGIjpsgrYtNfQFnQULax3o30QGPADPp81HowtQ2PoWUq25tqzClmovHVVYJikJkN3H-rvh82Hqg+dPI2AJrOVeNblSKulVwp61bCvNUoqoW0KS1GwChROroXIi428E2tUhhHXNK5RuEFtaLA1FSApShiccJlTeTuoZB2DQ9aINNJ7qcQ0rDgR+gH6aAt6feAsFOnPUiA3U4aMXuBBPXtqFc26k2luX3Wc5D1vq2pmoA-Wsqj8ppX9ReoA128b1d6uCA+unASA-1FAF9berfWEQQNfeBIFEBCi0h0FUGr0jBtAFCtyaorR9YVEvWv4r8V9QjQ8L3XUAWJT65DbsoyV3Kd1+CJDTrGIAcb6SnLc5QSFyZ0aWJ8GxjZGxE27JThsy6ZsemXTsaL1Ymh0j13yx8avGTkY1XfXabeFJNGzRPIJvblMLrYv6+jfkAg3PrmNXSwDWxpM3xkrNP1SkZUCUHgDCBh4TfpBnnRaatl5xGzbuMQ04hxNx4oZV4267oVMKhmoTRhDEw+bn13mugNxoU1KbnSeyxMGppbWMBNNqCzZaNXgiIajNRPa2FhqGhMp-NeyzJfYuyWsD8S5KfJXknGKzz3NlkfLdTgy3WNKZ32fBT-DpFGDrhKSPxG1sIX2LXSKSV+M3D0xBaggympLUSpZDUBBmTIOrYnga3pD7WuYI8KmiWDSTJ+qCqvlbVZjOBbaRKAAinloliBiNIrMVoPEK3jaWINxLJX4vgz8IqtAiZbX3SKRXdJw8MIpI6RO2ss4EysZrWkILmMEdeQFS4Sm1mDa1cRypdNpkLhQ7hvuPhF+MDCCBMgvtpGi9G4vsmMknhBCjrf1vdk6IRt92hLToKxDJaUdZ29lsyDm1PAydbLGnkvjhEzIEN25TfrOgACcAwNbhIEPIBalRQU8WAeU34BbcaUwNuthginVdZBUqvUmLM452Bp6L4iKYEAF27lVAaTNJsyDQCa78V0ul1dimV3997+KsTKUrq52C6FxcgNwAuNMEEE7Aiya3NP0W4m7mdu5IXRbrWJPBlIWo-XbvOkCrz15SwH0F8rM0XLNZD8xgSTsm0rzdy-utLTvAUAZbE8UeteR8BTSLbaqAWSIMaqObT5Z0TIAAIrTMwBxqlnPptRiHMWgEQa6H-FhK8rHOmerHjLS0B3B69U6UFtPhGIS7sGLeqXYANN0q6mQCyRZDNl-jPAFGQCanDaigrmsZdXfEdMtFnQgtKWJzc+kclMZjtf6fQNxZlP1131B9iyCvbmUYCVwkiResdnvqn3b6+9lkDxiktU5pBRSPy4tt8rLbLKe9zNTtQ+K9XRqo1samzHZmWh37lwO+pkK6Lbm8EX9LQZ4NQCaHnBCCS0NANrs1TMqBEwB8-YsmabwoxUDANA1BWZCIGgg+unnfOgXG5LKtWs-1H4Rv1SaEd6QN3u9qWDLR-thyMHeIANBfLMKucf-nVvREb0sd7WnnT8JokfEZ45eyvYoB9Lqsjt+vJfbqCa0t7gCigTIP9DgrHSAs8+lFIvrBYcjgGq+41V4U32AHRSVepQyNVADEMmQeocgm6AimoHNSErBgBgZb1mBB97oHEU7sPKqAqDfSgA8DO6nLcH9Sap-aW3Lboi39QarCV-tjUT0PVPy4RD4cylGHFDRJAxGYZJaWGdSsfWw4Pro45rwD5bSfS4d8O5dlpyBtIFkeyMYHiR2BtA-gcIOSDClWS0g1TPIMdEvDWy-6a9qao-QikjB48bapYM+4kMnBzYdwd6O9acdQowQ4AbtZYB7DTWtJvW2iMV6TmjZAAEJyB0oZbHIN4VWO6AbF1c-qsLnACZhCQjANvJUHZAhNY8XovCVcG8JejqAcIGxVbgV1qh1dDodI3oDfBzH0FCxrMaoEyoa02qwudY+QE2MV9LjDoXY0JD+lXVGyuwVbaluZBjJKAAALw7AdMEw7xiwzUK+OcgfjUmv4xWLUgqAOwlkNYxsbwkQmdjexgggADYXxjJ149ic+PWGl8BJvpUSYs5NsGIwJwio6J7osIkTDoV0ZvF1BKBvCsAZ442WgAEhnAEQFoHceZAABZJ0KAFdHXRE8AAdgAAcWJ5kKye+MyGpAvxxY4CecB8m76ApjmIoG8Kim15dACU8yClMEF4TWgRE94VBZRBJIpx9HSydxNsnZjxp+Y4scdOzhyTsea00KbtNinHTkp54ygCZPMmDTAZo02CxDP-GhCigNvPRzBCNkoztp5kPafFPxnXTseUE+Ce2PMhoTfplM1YbfBBn0zpp-4zyZWOx4AAYlTm8LQBMtTIAACLSnY8splwAqaVMzVXRhIJ8syHACGTrDTwV6G8brM6kBgHJrZVycLYAmgTjZTsxQG7O9mBzZZ4XAiamCenmA3pgkL6f1MfHUz+J4M82eJNhmyTlppkDuZm09nvCB5+cwAFYmTi568-WdvNNnCToZ3uNmYkBE5tzXZ5kO+eZCfmZqFZqk1WahO0m-zOJgC+ybvPAWWzZbXk42TYJjJcg7MOQN4WoWhRvC21Q84RVWNN52tieNY7uW8IzmQo9xx45iaeD8AQB+gf0+hcbNUsMzxJ808+fwuEXiLzIUiywHIuDmjz7pk88yAUBzs3ppAH6DCdQuGnALfF+8xZ0fNbK8LBFqHqJYdDiXJLBBfgD+cZOqWbzK5zC5yZAtfwzj4FvM7HmEv6WZtRl5kBRauMgnKTWxyE0yBrNXm0Ly5nAKucsjrm7grZ3UM+a9G5B6OCQYU0yGoVEYJAUlwiscf4L2WLjdF2PLAE6DeE2CYkli08YII6nXjXFpc3iastAWbL-xwS42Wis6gdA8VxK4QGSuUW76x5ws+mTPM+nOrTIRhp0BGYWWeLIV1XaGdJM6XrjMVxqyRaStPkCCz0JM0NaCsjWwrakUC-ZdzNRWprcVmay1bmueX+Tgp3q8WbjPOnaz-5oK7xftj8WtL61nMxBfLPeXqT1Z2kwdbvoAB1DsM4EIAcwpzDoP0bICr3nXArFV4K9ZbXOLGIrckRsp9cYDfXfr3hAG4fpSt31wABFi43QByCZa8Ln8bwo6NyCaBCrmJgK2pcqsaWsLAlrc7Hlhvw32Yf1pkEjaBttXHQLQM5G9NkIYJvCgCKIN4TGRvBtUwN0m1ddkOaWNz2liM8Lhps-W6biNwG7aYII8AzL5lsqxddBvC2TTFN7kzhbbNHGWWWQMc0yE2quAYTb1pkO9fC2vhTb4AedhZBIt5ARmTwHgKVe4vLXwboVs01Td1vMBqABto269eXm91EJVAaIN4TnYiF8A3hSekHaaqC3LL6tm62LfGsS3Uretn275b9sm3QAWppW0tdBsrXbLYFza42XACp3fbxtlG2ba+vS36bjN+W7ncDPx3Rb4V7W5FZlOdg-hM2h4wnTnPjnKgnyoSKbdOrMgBTZxjE4xdnPPGeAdJkm3Hfzs1XPbhFaAO3beCd2NaAzCu1HafFaFvCJG66DtZnvDW3bo1zM0nefNL3VhVgFi93cnslXlbLtvO0fdWtZmNrD14XOffDGX3mQXd9e8zZLve2y7KFlWyDYbtz3iTUN5866MXIfn5A71uQD3eLsnGwLmV0236LemW2HQ4AeoZYGeNfmD7rtqqxDfnsWnGykDyoNA9gfiCN7rNyILcEQiR3CwlSaw-XbTPk3qrD50+yQ6gewWYHcD546Zd-NAOhboD263ZfuuOXhcpDpctw4ofwPqbVdhG8yFrupa8Hat4RxuZEwtAUEtV2PB1fison0Tx7Cu7o9PM+2eryj5h+peutN31AbGTR5IG0fSW4gHp5E2ibHvM3jHclo8C8EUvKXY7PFxu5rfUe2OtHC99qzJd6temzHRj8J-FcicXner-VhIINcEdx2AnbDizho5CfEPY8cINm7Q85skrbgMd5m7k5occ2zwQsfULzf5tLkVHDduCOcTyB0ACLYIbvSMrhTqGoRNS409of3pOGN9W+lwZJ2PwtVRjvB6ILSIEOLlADGJbBiM9TFTauC4YrQjAYlMvwVmuzKTZ0fd49G32+EeZ-0aB1DH3l1sGneKx6frbep3DdSV2E9acs2mXEip4Sx-CZsD4tzcgYK1JrCtvt0qew1K1H4xzW4dz32Qa0TyvMx4koSFsmzzDJRTSTTlp6NdFri2ucNKMEbwRYBB2CCZz87Ri6fEWUl2i1ri5yDwD52kXp9uy7Fe2S4uvA1Or5yRvJ1kyCQQd-FwtYEfYnjDTeMNkAA')">function javascript_value_process(exp) {
    return is_application(exp)
        ? list("application", function_expression(exp),
               map(javascript_value_process, args(exp)))
        : is_name(exp)
        ? list("?", symbol_of_name(exp))
        : exp;
}
</pre></div></div>
	</p></div>
      </span></td></tr></table>

    <div class='permalink'>
<a name='p47' class='permalink'></a><p>
      Once the variables are transformed in this way, the variables in a
      pattern are lists starting with
      
	<span style="color:green">
	  <kbd>?</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>"?"</kbd>
	</span>
      
      and the
      
	<span style="color:green">constant symbols</span>
	<span style="color:blue">strings</span>
      
      (which need to be recognized for
      data-base indexing, section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) are
      just
      
	<span style="color:green">
	  the symbols.
	</span>
	<span style="color:blue">
	  the strings.
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (var? exp)
  (tagged-list? exp '?))

(define (constant-symbol? exp) (symbol? exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuTLiQA0oOQAFvKS51GGJoGW1rb2SSaJSURj3VYAMghoDeSm6u16oAAvCjnm8PhcDkJjqI7OUlCwlgiVkkfuY-ttAZ8ri0bmFweQngAiYgE+RM-pDbEicagOgATxc2Uk1HwklZhIZ3w2FIBsO650oVQ8JP0nMOo1xgKUdDolCixEJeilxhlWwBZwuNLpd2Jj1ATJ1eoNRvIHKxmt5Tv1hsSoUFmWVNVVpt+5rs8tUirUkejUrV6qOPLE3pdfvm0kWknkAA9NJZdeMTWSzLKI7kFSC1HG7V41Vikyc8VI2qRpEplLji2b-s2MZdrrJ6bXGQ6NPRznpJK3253xhzfP5Gk1+9ah7aVfamfMIkpnDlp-I2x2lLiFw1l5aB7T1wzmZ7aIfj3PaO6uQ+7DOT7j-UKg3tSVSMsYQrKMq1UWNwJHBNEw-UAvxfYg5gWd5c3zeRC1obtyXDEC4TApUCP-Xp6y5RstRCdsXBaJRszzAs9Sw6DQ1LXCrzXW47wdKjnBouj0Mw4g32GOCeL44FlEJKZf0DOhsNY3tQBYJRNFUAU-xFMUJXkJ5IMI6DSJEnFeTE2jMhafl5M2RS9OrKDNzrRNyN5EIy1Cc4FFdKzgPYwdOJHZk3LCU95FdYTnLENy0IYotmJLYDbPjBs4JCccWjkcYVCs6zKV8m9-Ic0cmTSjLaBUfiYtfYol2XKkrT84dCuZErcXK4LPMScK4JazKZnQ9LSBC7zcPXSRLHwLieFg4yxB6sqZnHOh5AAR0WY04qAkbbjG9ouP4abkx2Wh0tamYVCmVkqFmIlCulHDFNG8auIAZiclKpCW1bEkocqET1Ls4oASEBntcqkakGo3YMt0+taqF+jx-vnA6mwIUEwnckKvI2+7KUSgyPRmuwlrSzGOvW26WJyuVQLjGtbsM7lUYyaRqFIABrbKfPB+r8sa6G9GZfc2fZrqidAYWOckczLJx3Gafw+mBYMN7xZCFTNFkQaAcp+K2J568bS4x1NE1yhteRwnDoIImKowxj8jl6ny0V+zlcZuCOyiO3BLkp2Etp8ClYAhMGzwD8GHwZg2CgOBEGQdA+B4JmtXkDNCCGgLQF0WY7oUsGbimLLoI2NIAH5QEmRRyvTm73dLoIAC5AW0qUG8CCvWeodnCE0GThVrtSA2FUVxTZKUnhz-R2-MZv1dNrXT1i26Z7MCuNekSy04WIaPx9h2J+z4hc4eVfl1G0fa7kr39-GP3bsn4+1SwQGzDnqRqE0avyGoRhJGqZwkQl5MRXrVCu29MxDU-t-X+-9WCAMuuMD41BJAb3NsAx2D8j65zPu-OBxATq9TbmA7OGZ8GEPmlxKeuDASmVviA+uJDlLs3eB+VQdCJJsmkupWSE8z61TSHQmWh9qG1TwbDb6CMahIwYSHM+4CyESL0D9BaiNSqYPdo-HBYjAShU0OQfkZNQqJGIcuCurR2idBaDQlmItTGNAUeVSWnMs6iOXHgoKHljEU0YWY0h5VPFYxMa4p+NipCpl9D4uRJCIGoMLGmKJtQtHT1fqAPBe8EIYKlKkswL817+MgQoVQGSjwzB-vg4KU4ZwiNCTokImSda+IcQUp8s4skhO0e47OjBmBgizkyAAqsQdmxBqAAHdib8j0EoHMoAAC0cyCkZwUOFCKdgN6WWEE8L2dA87iHwKAVQIR8yUBYBla6kg2HCDVFTeW6yF6GJOWcq6rCibFJINsxgURdkDHMIMbO0glr7MOalDwrRLlvOuXs8wi1yCbDoIQaQcKkRLN3rbYR1zT4COxaUXMCgCHZmPqCWgXl+E4tqnvThUlFByUxWS8ljQdlYoZSyswe8c7EsiXcKFnI0jcx2r2ZCmYlgFkRQYelFc3K13wfiu4oqkXTxxc3CxHQEgtF+WYf58hAXyFuWYRQvT3nEGZEMkZ4y7BwQMV-eZiyNlvj+WRUS21L4oTkmhOgyS9XAWUqpL2yIAB8qKile2SZPPMPzHXi1iXNVkxESSepLM7KkjBCCvC3unTOx11HlX6ugop0FkmKpiRm-NWbToVJWnDGpnSukQOWTdAh2azpIsUIg661bVbW1iUo+GqjpHqKoU-W5sK0aMAxmEFg5AhWLGRKAelQalgdDHVO9q3ioYhweFPDVZhKAHKOVIKVKFinoxXeQSd075A3MTWGRSS7x1nqnbXbdoAtU6r1XchdakjzHSMdjB+W6NjDA1OLC+YoSARK6KobSuzbnepUlBtkAaHQACpwPxLVchpkTxoOdtRnQQaSFqCptad+O+XN9ahErZIvt2gZEaOiSQjWuhuj4byCKYjDSyN3tPUExJqp9DMtZXyAj7Gp2cdoHJEmP7V1-vds-AReDxP0d6PwzunElP9zjUUItXSKjSGSlGshzjB252HRJuFMtZ3OOltQCyUpn0jtZoNQFs7WOEY46U0jEnVAy15TC8zoA0POjVQwFFoHJBBZ9JBpzKgI03spHWoaMsw34tpBy5gXL2Fs1i4JoTeWgiRYNF0D1c78tlcCFPXDqcyGBPJuupJ2DoVwZYQK7YF7VDzs-VFei9tl6aMa1V3ksSImyYAgmjYI7a6zsS8G9DroL30OU6qZJz6ImafayNv0PDsiH1rit0GAIn2Rq7WQpTJnoVre2zMQeGmruH068uGbSwNPSuir12RvRcvldxU-Pz+cAQqqsWHMAEcmCsHYHHLgic0DPRTi5cGKa02qBzE1ijmRsi5HyCj0rJCcz8Obga3+yOhZZByHkbOeYjwKBaE8SwpB5CUGui0Ruqy4LMNeYdVQVKrA0qeMlxrsGtr0mKmCglH4sMPe51MEr-OANGWtqCmo4Krmo8UnlI2+Bmqi9pOLlGWpKUnmpWO4pqvKSPV2pr0AU0raoz3hi03AJzcTUt-tG3+vbbpZJSY-ADuJjbSepb16Bnrbs9a7Ydr45ZW+8rpxJkh7hVYdAJHoobv4dh6QoPWu0f1e3j2w6ePiwxbWwL+8ZPxos+C5soHQiWfBtiF0G2agepoiEtmJyryU9K+UjjHLtZo6MZR3Hp3xNAd8K95Ha8VCcQDGt-b4kWdemBh99D4PyUV2StX2j8CUEQ8-wb9dXr3kq-3jr+KZJS9axzAHZdt0Y-h+xDH4vbS8-3x1jxYBHGO-wfUZ4uY7PjLXk6+TwGYMuOoqEQ6I+I0ugUQrwu+skhgKIYW0BsBIBOmzS2+YIK+5+cB2Q++gKAmEsYBreaBpQzcOQ0QsB6+hgAAPJXMgS8KoKgRKt0oakyAACpZBKR5D8igBexOCJAMAIoLyUBdDNxMigAADUOOeWYQEQ0Qu6lkVBkhDozIyhD2QQshkQUQChjBsW8m2KBOPSRO7BnB+A8gYyvBXy-BegghvcZsohDoahZWmh8h+Aihw8+Byhie4hUh6hgQLh2hbhuh+BdeEwWQPcfcV27WV242gQcEOcMgWQqkw+M8cEbmOBgKwBeh76fKFGemGRuyfhoA4Cx8iRn8HW32DerMze3snumWlWRRzcV2yIqIkYVBRR+SkYTBZWTRBGREBRBBcYqBf2QQwwjQu6hyOcLRKKk+2Y0+hidRro0KjQhOYIMRDoQymQrQoA2k9qpQr6QK16pQI6x+s63Gly2BAG2KwE6Rj+p+d+X2eWj+V8Z+bIpEjQYxDq7+dgCRXcyRT83+Wol2Hh0RHhWR0gsR5g8RpRfxqgKRjQaRfRQBoAqBORQQ-K+R7RLKJRswZRqkHRVRTeWh-+XuxoDRLKTRHh0xeELGHhhRQmFcS0U6XROWKJKgJBSqwmeQ-RVBTwQxehIxgQ-yM8ExcJx81JsxeiM+ixRQaJFWRhaxYJGxxAWxBCOxiGCyvBc2nUgpfyAKhxZKJx5+ZxJ6FxQ+AJZKNxfRdxdJrxhIAmHRcR5+T+dpl6upmqgG1+2CeJYpucwONsh0kc0cEOnACcvAGAcOpwUgTy5yHOTYRqey-KEMfM3KHyDoMZLyReqMGZjO7wpymsa6WS1yVMo+lYhEUKDYI6OZFyoOYWnE7ct4TI8oie5g8oOKDppQjZ0YLZZg0Y7ZjxMewuGBPZoAGB-ZDZse64I56445nZse5QiK0gieC5lQtUHZgise6UdAmsSg-IieW5O5PBy465QQjZqxPZqx2KJ5gQjZykrwqCzgdAWGd5LwD5DAjQ155gjZEhI55gxOoA-ICBgasyUhR5n5ZgjZcyv5Zg-5gFSGsyiyYFA5jZmGTwaQsFQFoAsyyGAFZg4Fg5dwTIwA0FhyOYTwcFSIwFoAYASFE5wuAApCRRhfBaAPRbhaAPhY2Ygb+cxZRVhdSYBchbHgAIQog8VkUAWYWzKiUoqCV0WEXUFMUSUUVUW0FmByVznC7UFIjQW8WqUoqSVCXC7+pKXkVSWgCBrqWcWx7+o6VoWBB6X8W2VWVGWEXCUkX8WBB8VmDCXmAo7tychVkRDPK5kQqHSaahYzw+oQQVhPDVlxm4gRpBWnKxlhVNgijOAABWVOkVjQ0VwgSGjZ8VieiUPKA5QQ8VaViVnIWAyVIVFysKeQ5AoWBF7CsegOaqieHVXQ+F32X5sekAxAqqcge5aFg1w1BivVfVrVTIL5kgsAkAPZc1C1U1fVt5p4r5AAoiOXNZtatd9o2QAHJKCHUkXHWHUcnTUcUDB1WpWNVTjr7IhRXwakBIaRikAEGVX3XNWBUBZfXmZNVP5PV5UvVvXV5VBqhxXBV3UA02E1WewPJAjQ0vJVVFhbKWFRDrjR4bKSCRARYEKKCbzEmZVKDzD4YRD6IVEMqVX5k5CuhFkkD7VBBexY19BBDHZ4ZbB9wynGjR6-4Eo813CdZMYEJc7I2hV7zImOmjni0NWw0rp0lM3mAi3dCVV7zUBZU5VPDS3-UTiA2b7lWlCSnzEklcpOQ5BwqzGY0a3lSC2uZc2m1eQ1XhxExBng6xyhncCYCRlHR6DKAUCSBfRhBILKSMCcw7g-T7gX6QFq4OBOCuBgiJQR17g5AJgzwVyJT8m7hR0JheGSA+F8jhBaE6FJ0diR2p36FpDNyl3Z0V2p6zSsDKSUacLU5qRF3RAwYx2UhKCkCkBOCIpDRqTbK92YUMBSGqA92vWIEOjiEVxMjiFiGqFSGT1K3Ljz1PABERry6owkASRLRt1yFRCfLfLH34173R0gzfGF2H1eGqAF3VBN1LQt2QbRU3y70dhLTH27KGBSEchMj112Dv1jrvBTAsAT1fLZ5x2VDgNfDp0Oh6ZMgzx4K3heyGBQhnz7riiLn9GoPVQ0k4MQOGAyUOhlwchwMxX4SoPUlMikOqZJ60DhA91TpB0-ih2cyoP44grhLCEWxYRUPoM4r4iSjso9aCQwNp0CJz133KFANLQfCKBgORg7LiM3K+E4riEF1RGjytwiMCQHy4NOHYoaMyPEDn3yOMCKPg0wPXyEOqP0p-2cOyNLBMhTnH1PBOPmMsCV1NyAgYHiNwNON33DlPC3hKMQN8ngS4PuOmMf0gMKOXVpKAgBH+PNJMgADkBdfqv9GTSD19xdQRqDADgWMTwDgdiwjAlkX0FTkDWD0DhILgbgkYVTGl01jZeQLQ3hv83hoybozIToigvT+eiK7IEjpQ5iJT+9TT5Tglzw4EzTBBHjoDCTyqEzSwUzigMzcY8z0TZj8zgJvIJNZNpAFNj6KESNbM9scJeYNTaCvD+QaECTamwutzGCieujlU9z1zhtaQ0VhzOoxzlA+iC2+YFzuoX9VzmgozVdLcQ+1zcDjZpDG9IJ2jsLkLyzFOmg+zYgzT5z9OuoEL0Kop88ZsdzBLyx9DE4AZ6VzRKKM8WjWk487z72nzaLz6ZgQVoLS0tIOys60VOLILeLJWyjDzupwEktVJ09TIw5cDfjkYAr9s1wOyBBiU8ruoirXy396L4rf41DU5MrzAgr6r3yuT2rgY1Dfz5NgLpzCeMrIIYIpr2Q3zQQvzpN-zJzwLBr9s4LIr6LfjDrEJMtnLRrcWep2qQKRLDgqLV6DcwECLie9LY8koIrz6BxuqRxwEaEKbHNWoVqSwDzXeFo0ZdrBLcDkYDzuTqxELJqwyoyEyGLHzzw-IX8WZWoZezVBLBbfYfj5bzSPecLjQhhhqaE1bZqdbb2gkFLsqT5oRWpS0jAP45SrgqCLQbQ3Q+bXdH+Tbeb1z1D-T87-9744scI3Lar87SCwi67Xp71DDAhZL-p0CiEGIUdcVqavBapVw5AuAIOwZpALwKkUwoAz0hyJMWoz0MOMO08feTobMqgLC-ItO36jALQndXpK5agdOv8yHCT5g4zbQqqXQnDlaWUcHukoEkYGHSHmrzB5HiHWH9Kzc0HpAsH8g8HszhEFHWHM7oe5wUdqg0Kjm2WZSKduqdZwuyGPHOQmGIxok4RvczHhiPATwcHkg+0aJI6CKzgEnIns7MHyninbHagMWQnOd7pwKmD3VLGhAmnwn0b1xuEFnbLobb6RxaQI6HHs6jH8nKnEThEGnWn7xAi-KFnqgHH2HJCFnjRBnIXtHpnnxHpcRas9AAzXn+nyn-A4Jiw5L7LAWfnwnHnuounLHkg+ncYRnT7ddIpe6IQwXuXJncp5gTJGIhEZXWnTrtUfjt4encVxbaXGXbpbX5KpXgn5XbpsX+pabhpAW7nKKnnvXUXtXFX2KEb+NeHVi0XGgSHtnQQOSGhVgTXagC3OkeS5Wfjfjc3WeA3rKcYh3ocx3mq439XaQjXcYHHfXpnQpM8cXL6GwcEB5p4v7qgXjaJ3qursnmgiDDKncYPnWzcbAkrkQc7bo6hFcCPAz6hg7ROLAI7tbdgD7GCNqszUdex8XH6f35Av7lZAWePC7eXKK3HwnfHN1AWH7s61PSCWnd9XcERb4VZr7KKbPj4HPTIqP+78N4soeCC6U0QuhtdOkbJwqW+xbydz78vmXRTkvxJyvOQPmkQUvXwnb+DGv0Q9+dgRv3sg8Zv0ecYlv6vuvxJeNx+Mv5dcvd+BvnnWvLvL+RT-N3QHvfXTwrvG7dgfjEvdv0vfvqvl6AfXv2bLketyiQ0w7TAbI0TqptIO4kgf7BCOQjA0K3Un8W8O7LnZnIQO4ZLj3FLYQEsYfUQVmNfuNSEjvSfX+lpFGwXlvRR4zafyEf8WfLQOfVbyf9pkXGgmglkZv7WlvY3Ybuqy33b1zWX6JuEfjo-lkZbC-Twq--RPrjn93M-FfGbeYu-33H3V9W-DzWLxM4QuQLAqCpsf+bQ7Y-IkGdA+nj-u51wdAqnQfLc2Dr-jz8EbVB-1pBf8+OuTWVqBH-6XdDko9a-gSDv5fwCU7-Z-ixjgG39ruU0aAVdTMDIDP++0E3uID0CE1cgFyXASxjf5ACUBoQb-qhygYHcpocDMgdQLAEDtRyxbNopgM6x8ckMkQKYGTlIGUDIMTA0AavQETcC+KshG-vtzUhTRGYfeSQfAPwDtgz08GdGihyvpKDTw+KdyJYAJAH0pB+VNMt-SKaaDyA2ghQWAwsE1NMSaAgAXplya8DiBpNd4GQKpq1Q2itgtruIMDSmDzBaA-QfAOu62C5B8RHMKllxpihFotwExBHxoijhA+E2ALGbzr6NoW8DvbAhHxb5X1quBNfDt0A76SMKcqWJ3sJyeBxDo+bxThsCDMGtpJAd5AHhPwt418CC5Qofpekv5sCah4eeoQwWqFlDTwFQ+0gb1OKSt8AVYLoOITgZMgxhSoCYRW1WhZQ+h8EU8IYDganFckrA0vh2C5wrDpCQQcBGEL-y7oKk0Q40EsNaF34HBRbHfNULQbQhjkxbOIQAOqEXQ6h-3BgnGFuFYDGgcYJ4d8NKAvDahPQihqrRWH-D8skYP4dLRZR350W0w8YR0w6E1ELaj4CwcjkV474JK3gnYouRna-sjw7MVBEhD3ZdgSR4wJ4PywGGgAcWCQwICOh6E7QEUSKWdICO6HvDVAlI0cGSNoDa1sB2KGkTHyvoMj5UyKVEPCNmEdM4G9g1gciKsCoj-BwojCGKhnaEA5GuvXMDsMAjZCPo7dGIHKxWEzsP2Ogm-vJ1S4scaBdInLrOg-amilO5okYkF1yFrcYMFcPTIkzoAdD1ROYSQMp1FCaj+OAWODrOn1EGBn0-KMvnB0MBz1SGiTODg2AtqgA2CAACU2qSAAAguAHACbUAASmwUgAAB5Q6sgBRSL4faBAKwL+ziSI8yMrI41G0Ojyqi8yBNHMJqIugACjRXoxVqe0SqtjW06LI0SoDOjdi74RTAcZUCrEDMyM0eZMamIzFZjcxBYosaOL26diT21Y7zLWOjxGi0RXon0UVz9Gbi+mw42gHMgsGs5xYqqNcZOI3FaDW0gw6Ol6QsGXJlB0VedHEKcABp1C+IqWGxm5H5B3xWPToRdHvGr0zC5PV8n+Lki1iQJ5tKwBYGGZwISAAHFFAAAYl8cEBIGMjGgISXmP4SgN0CawISNASExQLOhTQHhiJRAxgMoR4BhjcI5E0vERiolFNQ8mEnvs7xKEq8GJCAxeHhJaAYiwQNDRPH424m4SkE+EnzmoA963dgMxeXQGyHYnCcpAkQELsMwDGUtRJPDDBLjRaAL5zC2Eg8GJMfD4TGeP3cWNf3eBjIVAnMS9o0HDHbD82ZKCuKxP0ke9B+mkkltpPwlhc34vjYtj20KF+MLJkgKydIE5jr80W4I4KaFM5h9s0WPkxJpm09JX1op1k1SanQ6FtBEByHEUCyyyKy8QJtyS1JYEslpSHx4xKrlIDL5ukK+opIjlJLLqlDs4W3clMBHCCLBj+QpB7sX0aAjpnAKQvXg3zNJJsQJnU0oI6NW5qofMCUwoWMJ1TQjm4qUsKTr1SHm8j0zgALrVGGCAxU2B-CjN21WHYlngJUkKWlLLY3I-Ax0+QKVOWk95vGBhAgLFnkDH8vuX3NqSdJikEsOhPvCIUCCbx6heOEfDMIVMTR9Sa+A0+3o3wyGNSVeWQ4IHul8o5DJpkGKfsD3s7EAFCbw8CStMGlNDVpBBaEUEGBn1i2agGB7stzL4Zgr05WPAMhjpkzwwZq0iGWkKhnjxiZcM3IopERnNAnRU0goeSnGaYzgRfvQmUEEaHrTmh4IilC-hh5FDmMnEnIOCVGlkz9+opLKcxg-j5BiZmQl-K-lpn0y7JuEcUTkEREqznOM8Q-sUKBkqBlZH3WSTvQxluEsZAPTQPp00Dpd6xww40qMIREQ8xmDoGYSbL9nQt6pXON2ftDWHn4rhPfMOYdP9k-TjhtGAGdr1dlxUPZlwzYVVO2Huy455cOWQSkTn-TKAvHd2XFX06u9qKYAOmchmjmncpooAKEH5JuERzmkJAIWeyM+GcDysnw-aFLLMBtynZwIuVl3L5FBA5Wvc0WcuFhG5NjZEwz0QemGYT1jxxAGpsmSNh-jAowzFtryHHBthVRRYBidHkSiHyCB3E4RIfIN5od+iL3NSfdJw4zUVAVk-kAjkLzotM64EE+TOxxq0QGJ6UuXpyOAnUjpmw08qf5kpZthMcBk7TpYG0iKSo6yk-IIfIcwBYB5hiEUbOnpSoLnZDBABXeNFm7zMwB8CBWxkPl9zAgAot4nRMUhYL0FPsiUcHP2E4jKgFbEtO8GaZ-ybMdmYhUhFIUPZZRP8JCGiJoVKiFUsEuFDOMkDZiBkAAGU2rFimF+mMsWBMrEMSoJt42wCDK9KNiG+bQFsZuLgYdjmx1wVRb2NsD9i9ug4qBXJAIFjiZgJi6cSmMkUyK5Fy4qdKuKsWmKV5BvJ8SrTcECJtx-g3cb6ImiHjRZceYZqeLQEchLuAS3QWAyEmbycgkSuJRyC-mI0TF0Ez2T-yfGmDXxrU4ZkhnULfyoFf87rl0LrEPF50yi18hkvUUVLdZSI2mmwumYcjgFmSu4rYO8VoDnxp4PJaUBGGBoyUPi+-kgMEHdAHsl4icWe28y4KNF9YrAdiJxomLZl9St4r1Q6VxKZ2T2Mphs1aUbN7xxogkOpKr7LQCqKKG0bmz2XVNmQ2y5psTyTRIzLEU005YzToZ6g4gB4dhc0wOVWDOGLyzBEQJsJXKZmGym-jOxCBeiGetwy+TqMPogj-ReDLYYnVAi3CZ2YQX+O8D-FDSvRS89cV4sTTLdIVvHP8S1KCAjogxKKIJfuImgkrj+I6Puj0j9BYqLBwNPLLEpNEkcHQf45JTf3uWBBNAqaeTkeLxU8qCQEubFH4w3kwCkMDKmBVOmZXBCU23Uz0tvS1DorLAUC7Fc2L-nHK4UtY2dAQv3lYQkFGwQlc2KhV1LSVloylhSsIG6K9xhiA8ZarpUBZZVfobiSyqRAdF2VegzleEqSVnjTOAqu4H6oYmiqWA4qgRCJOGZPBsRbqqcB6sVVmyDSdsssce01WwI-xuK68fitoElKSVewjuLwRXb5rl56LdNVmtpWHtrYFa5edmumW5r-CP8DVVirxo4qq11qqvtkCvENqWqEiucTmLzGFjwAz6ftZmMHWLj5Fkq5ebGswrdqpl1VKhZSCZDdwD2qqr0CWt-kXzE06q94NxLbXaqTVnauFPOtUWzoJFUi2RSOo2AXrnFU64tgxNnVIZT1wzENv9jsArrRY88uYvokMTjhMqbyd1NYOwZAaTBppf9TiAhbqCP0EUren3gLBToINIgN1OGit7gRQN1a5mFIClKGItyAGznEBphW1M1AGG9dQ-lNJ4bINhGn-rBtPkYQxMEgfDRQBQ2aBoN76qLqRr7wJAogIUWkOwuo1XtQInGuCBawBZAsRwUG1-Ffivq0aOh-66gCpKQ3MaflnSn-iEBw34ImNOsYgFpvpL+zQVBIXJvJpUkIbNNOIe+DpvM2iDzAtylpecSU0bhLNyGh0jtzKwGavGTkYNXfXabeFbNGzRPMZpXnoTxYeGhTf+MY3maVNmyojRpso2c44tzGuwYuQcFUT+BLgsZX4tqh+aKmx6ZdNOAi0iBVACWn6lFrBWnxXN0qviqFpM30b8tdAXTUVoK2Jbyt+WdzYzC80rrGAvm1hTsoqb7lGNYWsXtbG41DQmUbQw5UD2yXdLcl8GKpd7P9R3c0gV87LZZBG3U5etlkJVmQqEz8L5RcS10mnQq33zdtgi-wZcOBiJM9MLWoIG1qxAdaem3WneAoA22J41t7QssbmCPCppt2kLA3k9kH5W1WYzgW2kSgAIp5Y+YgUTe60Hhja2tLEG4tNpfGzaBEAy-hJ9r7pFIEek4eGEUkdJQ6rWcCZWNYwILH4+5jBAPkBWhGVtZgvIvkYMhrbmpOhbJaiZqR8IvwLtgQJkPjqBa1xUlPkxkloRRGnb9tGcnRFdv4S3auQHW7nda0Lw3Ketdyp4DLovQ1V6RMyOrYeVnQABOAYL9wkCHkJtakPPiFv11P8JtuNKYG3WwyL9luNgq1U53DZ7o7A09FCYv0CAHkn+qgNJmk2ZBoA-dfKh3RN2xQe7dy8KsIJtOXAh7DET4uQG4CfFBCCCdgRZNbk+7JTzAUe83bHrWJPBlI3oqPV-OkBPyX5SwH0BitK1HKvZCkiwXdsFWOhC9u5YvY9sKTNL-N2yevc-I+App3tfeVVlIHYWRBg1wBRQJkH+hwVQZAWZaLOn5aet8W59I5KY1fa-0+gqS59KKWuiMAR9I1UAMQyZB6hyCboRflHrvoLJFkveoBRs0IHBqzAJ+90IWvT2m7Q9HjL5fWBfTdSvuopLFYu0xUrtIMy0e3WYHTXcTM1da2tXis4WVMI96QPdOvs30GJt9YovfTqQr5H6mQJ+zUn+OLWrsbUaB2-btKMCvTlVjQFA2gc1LNN4UYqBgCQYWQB6cBD+6Pf4KGXdK+l5KVHflif0tLCZWOpqj9CKTLR7xsamnQQEwq5xrNK2jkRvUF1yjhdJovTDBCzb2z9cppPIHQDGRuAB9qaXVdSKn1tKZ9ai4BvPqv1L6V9iQylsfhapiG+DfISQwIsN2yGHReRbBmYYAEshqAXBcCVoWWHnBEGgMFZrsxaVcGE+vB0jvhCcMCGKdSGEQ9+uqlF881a828EnyEmebdDG2r3SSNUDYCAAOlgF-kq1kElyX+GAyu0AUzKNyBlD7odAwGm8IzAYL3pSNpM0jmR7I4vNyPlJ8ABRnYTvkIDAECCrHPxl0dAAAAvSGmYCyPM0RltIVo+0cEOschjpR1lOUe3DD6qjb4VJCMCUP0BVDYIeo+MbyNtGLGsFEJrHiUDeFnA3hUgN4Q6Zqg0mnIPALUfYXbHspux9o8pUOPPMTjZxi46koWPuggAA')">function is_var(exp) {
    return is_tagged_list(exp, "?");
}
</pre></div></div></td></tr></table>
    </p></div>
    
    <div class='permalink'>
<a name='p48' class='permalink'></a><p>
      Unique variables are constructed during rule application
      (in section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) by means of
      the following
      
	<span style="color:green">procedures.</span>
	<span style="color:blue">functions.</span>
      
      The unique identifier for a rule application is a number, which is
      incremented each time a rule is applied.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define rule-counter 0)

(define (new-rule-application-id)
  (set! rule-counter (+ 1 rule-counter))
  rule-counter)

(define (make-new-variable var rule-application-id)
  (cons '? (cons rule-application-id (cdr var))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHR0lVVRdSeRpiIbiEpKLi0DmF2sUJNvklQQoVx1EAD1VLOjoVtZGDMf1nya2UlzpyHr7I9roikkjAA5hdrrd7rRATF1j4XoZfABIczTJzUVSidzkaiMRwxBqULLCVawp7vZLBQ6yY6KDFY+S4-GsQnE8442bzRbLWiPfKjPQTD5pDLM4gAE1cKw8ZP5my2VMiYslJJleQSCPlU1F0myDXFknBN1Edweso2FKCoBYknKokcpxJil1jQNjlUwOyVixNXqTWkMPV8Mtwo+Lv1hqa4v25vhgq1KTRNVEAEd2lpKOEyfcnbHEiHttTk2mEpmWtmpby8894wWRTNRLFyLUauRjjktHyLcLgiRxaJ8ETROK60mGqVSOUuwUe2IlePqJPpzpa8Kk5ZrLZW+2EsuE5S5+ENzZiNuFB3yMvNaPRZJTSDiBe93XFeE7-cH0+89eUfWnI7zn7UhdWxM0g0SX9zCwX9XxpBRFAA2hHCAloORUeg2y0ZDRGAvdrzXUUUM9XNwP3K0iyI0Cq3A-CPnSLFmEYK9QAAIgAVWIcpiGoAB3Ow6i0SRLlAABaETDzg0QWIMABuLAAF8BBIM4RF2aR9kEXRgRBOgjFMfxKHwUBFBmG5KBYKVxHtRDVkEAw9IpY9bB2LkWzMiyqCsh1lKdTSdlBXS5P8eSxADUR7CMkynDJPtvKEB47IclJ0O+UBbkIaRyFAABeCS5HgmzHCjDSSDeUNyqKK4FAlC59EoZhH13OsKtDQqPXcHI3EBOztGalqPm0uhev6kb-EK8Z6toJ9EtkxyrBPUUnNPf4lHSzKyJSYIltaKIxWqy81vzCr0j7Ach3FILzBC0QwpMCkGNxBCSF0djOO4viCB8lZQGbTFRPEtTamky7QEUxSsBskIHB+XodoBA5riG+M7uSJbrTmIFQRygA+PLaW0zUxkR2bwchot0JVaVpGY8Ykv8NGZnIRhCHIAALfZqXy3IJUrLIWmNSUlng6tNQ2-xYK5zwedVctoVTdNLxF1cCM52kKd5t9MqxNkrLw+M5NJr6RCLOh5dLLMvBzMDhn5TUUf8FKssHRhvlbFgfhWnLQD68xVYK+rXe+HdOxF2mQYi4yZm2laEIDn5vnduHRHs+2UjR53A-IROVvD67bv0oo0b9jocNocUz0bXdQ9eXOFKU+KRC+GG+hId9KAfYdFAGE06YsebnJtVQu69HHWIAKlb+94nFMeWN0bvArriGjf4pZT2oFnsOA4iVkDG2NlTtL+7sGZTZLDMLeGK3qP3mdZ12TRxUUOg156TfKJ5ehY5d+O23PKvSJlVGuYF+kh17vxwiBT+gJTYUwrl+QBYtUSEUgTvG+cIjqzibooD+JJfRdGptWJBIpiAZWkAbeuKk7BFgXEub8yMC7mEdqAYqXtaHlCKtQaMe5w7MInDIBguVQHgJ+Lg3eihiqzQCMwyeH5p6CKhq7WGsj27T2dIuARUj6bHzxvBYqRNqrlwmg1J8-CAzDWAZYooKiO7iiRj7Kx5VaYk0oSSCSjhtpB3-iHGiDDJhoxtHaDxx8k6KAcbo1aISrjGlNOgp4osKHLwbtQpUbdPwANviuWmh9mGe1ysXIEU8LxJyNJCa2GCaxh0mGk08nR-ShJqcUupzQ9YrU1OHNGOcl5kyVGIuJts-EBBqfg+pMc+m1L9C0pW4SPgFPGSU6JZT+kbAsY44UziOk6NOoOaeiS8A2QYPgZgbAoBwEQMgdAfAABMrjvozFCAyQhpFD4M0yIQRoWI9zmAAD7fOaqfJmRIQRfNAL8-5TgmjNFEGAr5YLQwzFIdIJ5mSjD+DhcKGY2zzo8LrpDB57gWgx2rCYAI-idF5kSZDRmkgQQgmHM4aGzE2b2jbCCXuR9NwnycB6eqXyABkfLQCs2hU-Yl2VxU-WFY4VllKV6im7l8xhHKFrUtpfS7B9CWLd2Bt0uVzSWiwwVcSpVaNhWSCfm2SgyKKkuKSVQ28RSMkVJeTo1VdLy4at8SxRpCQdWKUhj6rC+rFVks5UKkVihLXUzNRayQVq9z2RcQGx1WEVqlJNFCUkzyTU6JjZGuN1Mo0JttVSpw4yQ0BFedKml7qGXfGYixR2YDRGoKosQaSoK-nwqcKy2tnrMkvSkIwTM457TjI7eij4br1WMs1YVcdSa5XzODcawopqI1FrzUWoh9kKGQ3mWmxZGbylPFTuu81+b43bsQbK5JOo9RuiPbErNKKz2up7TWmd9bNXhkfRCY9tA-V2rcb+w07UvRuBGc0PezrGEBIxvq34-QvS6C3QW4te65Wgc4dw1d2iw1oavehndt77VRxCV4yuPjX1wffdWtVHrZ1es8X-Kj5AgOQ22k+zNFa+4EY3cRwBpG3EzHVjLXjfGVUfoY3WxWXqxNU3Tc+idXaMXSb7UxgdrEFO0HCJRi8HG5U6b5u6Swgs1bZrXTopuwT8DMR4Iuu9xmLb0DNtR2DVmw02csHZ+hVzHP2ucy0GQbgda5Bo55ha3mBzMQAMwlrlafNzVBL7qGvi+2DSIkShqk-RjT36vVnwVmWZkV9eaGbvRnX+wc5MRfwwtQj1qngBbcbAsu8CnWnto-xi9Rbr0ot3bqu9Mx2ESeVc5adjGCtaZYuwir9r2E4ZjJZytuaBPxqIcJu5Tg1KUCFieuUb6w2Tdkw23b+3AMte+uNf9z6JPntjRtoTuK5XaSU5mmDXXIvOUa5eprcpBvg32SvQ5xz2BnK4JctAsXbkiEZszNm+xLjsqrZC6Q0LVjI+9qGYIlxmr0UYIxRQlwXpo4x2Ia4OEFDil0JYUgohKBWXFKkIDwHvqBOsivRQ4HOpYiRvowZ9XnLYMbV4WKNk54zJ596F2ugBdVP9Yl6KYuao2QQijujvav2XnwC9GKquV7zbcW1T0vOXbq5dV56GtmEK6Ac5hyrK8lsW5zVb12PnbegH8w7+1406omN3PgDXbufge916AeLW2RAc+CZy0J6F9rB6i4yli0c2hSV0AnjYPuRNODT1ERQK0k8TfU9rwv6eXr5-aEb76Vf7RZ87EXy3DX1vUyLwlu9mhgLUHuMQMExipq7mya7haRaFds5EFVh0HUlDD5yz9iN4-mHMouE2FsA-GpaC9oi8hsO7Ax6OV6Z+kzzGgBWrpZvzkeVMX1Ujc-V3J8z6gwGBCM+9KktWz1p+h+cgP7sD-+0c-V-L0d-fwefOwItAAjve1KqR+WqcQSaTfS8W-XQSIfnO8e0OfT-KLTQEENmY-AhC-cVXKdHPvfAtA4hYIa-RQA-GfAg-0O-TROXDA+A4hdIUgvA1meg6DIwAAHhCFwPIM0R9ipEJ0ehYgABUyh0ZiBah-IQR3kEgGA6AqgFhKBhx0gWJQAABqbHKxb4YdPvQyfYW-IwXQueViHQvQyxAwoFYw8vAMeyH2AnInSQ6Q-AUQHieQxQrQZQ1QlwDQyw3QmZZIWwow-AEwk-C-cwl6KwkIgIMIkEewig6AkDMoSoaoRDGOfVO2JVMmfQZwMoIeLAooSGYRbg0-Cgw+LYKtHfCo3SeI0AKkAo0oDEMJNZPQbvXvfvf3QfTsZxRo9IfVHKCVPNUwxo7YPNCgiYkUcootUw3QItFI8OAIRSLYQyYycYEY3KFfRsVQZseAxAi8dlLYB6G-E-F6DiJoPsUAbVLRFIPOU2aoooZhAAr2KfAAg4GuPqNGcogA5-bqN-VZRxf4oAqA+45INY4KcAwUQoto8fCfOwYZLI9PCo1AmQXIyYfI8QOE4o14Z48wMoteeo9Exwgk1GOjOo8YkaZonE1ooeCYrvUobow4gPfo14YhZIIYk-bY8NC9ak0aYIU2H4KYgRUkzkxMUAOY9DBYn6dDZYkMEKEMDYr48QXk3YtfVkvoxIckgIM4tE1iK4jeCUW4keMSHYFNdjCE1Y0KJ4pVLYV4mfd4uOafI-KpcqX44k-42-YA3-YEqxUE9PQEkA606E1YmE8YXE1U21YHZJUHVgcHTgC5XgDAPfUUdySyTnZJJ6YgXuKtLXKbHXZ6ViDMzyKSP-UAUsxne0cyBYNjT+HMvMtbXrdDRKRJZhKsryA5L2bBS0EXGNCw-wGNCqIBZIEXKNQc8wKNEc-08wEXa-ScysuNRgGcvslPJuRcpuVcooEXBFMhCwvcpFYUUcgIEXSUOgBYSQIGXQc8y8uQj4E8-wEXM4ycs48qR8uclPG0NmWYBoOgOeb81mX8hgLYD8xRS8FibQxc-wYnXQWoIwbKXGYSXQ+8sCkXESaC8wWC0AeC0eYScSVC2c8CxQFiWeXQFIbC3CxC0AYSMeHC8wNClPYATC4yEnHChCpC0AMAQitc+tFiAAUhYsoo4potAH4votAEYr4uIOguErwt5PgqIpFwAEJxVZK2KqLOLVLcpFLeKILeChKNKRLhJ+DzBdKdyU9eDspMK5LqKTLcp2KlKU9sZDK4LjLQBcYzKpKILsZrLyKAhbLOLfKvKnK+LlKWLRKAhqLzBlL-BkdLRZoOzh0PJqy4oqEAScoQxB5FAY1dBOysyqFF4krzJMy0q8FqAGgAArKnQRLKjGQQUeec5KzMiw37GaIi5IfKsq3eWaLAYqlKryJtXwnsxlEXLFaeCw8a4cMCjop8lPSAYgHZVwa88wBapa5sGa2a4iliQCxwWASASc3a-aza2akXXagAUUXIupOo6JFwADlJA7qWKHq7qJTLFEroQsouqhr44ojMqthsrSBR481SAaxvrPrm0irPrKzmqyyxQg5U0gz-qihAbgbW9lB7I8rYbUqfrF5ESXI9hTMSq4a1c-JtIm5i8kTXJHAiRHBTpGB1IgVHBKrJApAX5h19j2j+ouraz0cLwGyeoZlyboZZJkght7VhSqgtSkDFBKaKdDFpanxwkH4JRudsauyncUDrDLFwaMJm0ASbqhl5hH41bibUrCoKrqqKB7E1ldaEaPYgzDb-ANT9j19eikDbV0csoV8QRSgGhwgN8LwvZJbqhA7dxerYzCqmAEzTkkzuBMA0yE93AKBHASxvhzgbRGApwh0R10c5a9yPkmJfsc7JBR1E0QxghfsljgRc7k4U5zDHAtDdDEj7Di6a7S686nCth0g27h0O666c9voYgbRkxwNqdn5AU+8L8R9nJJBSBSB3kMpaRn4tJ56RKGBdCgR57eSWItDghd6RQLCm6dg16OqWpd7dBEjF5Fc70SB2pTYJ7DCQQtIAoX6wQ77gRTY9JstsDnJEirCWISKrDh7DRTYx7O5sq3sP6XZRA37dIzDWIDAWJB6RBoHTZpUsQWBMY2VL8uV+gyFsGNp96d8WIQwkxsFtIjABU6wop8GkU-tCGjBfk+THtqZKGjBtLWJAhpIK7jI81KGd7uHmpggk656fg068FM6pxKH8dI4dsuQ9sGyBHqGKoEUj8bsYkeN2HKDWIgHdC0GWVMGcqI1BpGGEGfYtDj7ENDV1GnduMHh2G4iKpLGrCDGMHGAsHftTHtGzCLGkHZGDGSKNy37dA3G3AWAu7tRTJlzCHeHAmWIFzdBsF+HQQawi12HQniB77DGPGNokxEjYmFRWIAByY+7SAB0pshqUyepIiIwhlBuwNxksRgfYZp3CmevBuonIQu4xi9Npp2iqEXMBcUI+3EI+7idjF6d8LESZ1iZmdHaSSJzaUAQJvNfpxY9DdZlZrJz+nJiJqp1ZiNLZotLZpp9oFp1I76Fmtm0gDmh23aG4RcDNBGVQfO+RtQi7VYaJIh7a87T+CwjRpZL564AZ9GIea5u8W5ygfYkpR5+nO4OBl58u7u+VN0kF3hkXbhy+k-JDBVb5vJinVQKPOwNp0zJ5u4JFw+FUmYP5p0fF5414zWnk3KEMaxvoBVQFgDYF150MpK8l02cuQaL2bK0luFjNRF-FlY8bf-JlghHehc3h6gvNMVu4elQaGsX7FVgV2YAKZF7UQqYY4g1iDcxV5geF7VwaKpg15liVFiCF9m6F+56vRVmJ61ghM+lIbK+1qFmFtNLViVkFpZrkpc3lN1-0LG-ltV3V3OW08KalzINFnl54tGTFiwtl5DQYSVyYR48Ke06Vwl2uQ2O9X6WfEF3B9MmJ753hvNKtlF-U6JS4t6XiahW7TNH6WoTEGvEQBvcgQEb58t6J3lWtooYIMfdFutsQpiBtw0ptj6ex7t2gfaf8y51SVVxgPBDkBoe0c1fsJ+ftjp9tzESlo171Nd9jBpnYcUQVs984YqSlg9kGxdpQpFmMsAekNtatUdPKlmHYE0ulcgXAMAI5BM0gVmOYNwCPYyWBNxWLaHaHXwfG98RcRQO0WoWnUuRgOxN5uh6mOnXELD4R7Z-sHZYcWR+WDwVD1DCNPNPDzD+BiUyuiNWjgj46C0ugZDyjuU+NZj+B4l9GIJNsUdWWnJaGsxT99HEaviseQT9HWeCEvFdIqoFD0QFsHgXQVDxwfzck5hFQhoGT8KXKJD0gZT1TjZ+NMT-TwbdYyKTFCUM6NRXTyzk4wuLZOzkji6RU2N3Uh2aG5jr2IzkzzTsz6mRz-uqz0MKtKap+Zjt6g8KLwYrj3DjD8UUMq6bNrExLVzddwLtT0ADTq5Uk9oZzphaG0L0dfzu4DjlTxwXLotCzsL1LiOWhqL5+QgPThr7zkBKwatczjRVCfuj10Mag7BDT3L6g-Lwruuwb-qOrvr8TuuxrnNzr0AZhPzwzyr4zibxL1r9rsuxrgIeNumtz7FGL5zyCUI7r+Ytr-T3qc7nWmJ8b6rgrs-dPUFmbmU67hr2ac7pbvN4UYUnrpLlQTDyb-bsMooKEtLgIfdBwD0cgUDmg4r-NtgE91ojI0h-qEoRT1QcJdIFH21okU2ddjHmk+wLLgD0aFwx6FgRtriZt0Ad9z+f6OU0dHVcM3+uwW8+QUD9s6Gxnjd-u4V20Flfu2WuSZhf9r2fn9kUXliNHqoHVDsn93KaXpCfTkiwnmZnVfGmPVkSUPvcvPur9l7qIOW6gku43ovC9vXpmi39HCRIkfXnBh9iNG3vvCst3sEGOT3uWotH363x3pm2mz4u32BpgEA8tgL0P3QKAi92A1W6Pk39oGPt-ct6g3XwPg3xPovFPkAvjmYIde9mEk7bBadlibhldk+PWi+eCadgAzJ64mqIdRwMDiUdHRgdlSGFQVQDmMtv7prgv4EF95b5hT3thTPsEYPuguvt-KVtOOjFrn3xo3sYgRv8uZv1v8Udvl53P3-BL7v-YT30JH3xbrzw76g+l-vjnkNpiA-3pvdwNzPDEfYMdnl0-m6O0n4nRaJOf0GdL6-u-t8z44GFoULATkJiBqj9hdQtQTuHQFy5QCry9KOgFpwPaHkQuDmXhggJgHlxkBstKpkqwjRwDQWwnaiiAOyDgC4CWA2AUzFAGA9n4DmabltRSBUCcB-mCskSDcDo5WaY6G6IgKfhwCbyvA7ATUBQHF83k9DIgZgKEFICrkeAlFgQP5IMDwkJA3GBwKxBcCvILAnBNINYGy1GB5UFQdU0sDkD5iDmQHGmTIFgD8AuoLOPVWLLT0YS1g+QNVFbDGCsGlgxwNlT8i8cXslWGwS4MsGP1QB2HKkjQOyA-Md8VTNQQzWhSaCdBXNYUGMTCERNpuhgpweQACHJCghJgmUskMTR8d4+5cQyPDWhi7hE+BoFcFARE4YQWEE-cfjzD7w01TwIfdusb1j5iCjuxHbFEvxxzy0Ta5Q+QLv2TiyM4eoWTwdzy4JH9veE-GsBUKGGV8lyGQ7WOMPh5cE4eN5QYeH1-zls3iJ7fAAWmHBaFeGLEfYVakOFVNyO1MdYaAAqFGBeGbxKCCi0H5MQ4edwopoUJpp9AUopQzsNcLmFbDhhTw7lA93kBUNBUg7JiLcJdZLCtw35BHkWleH6DhQRaW4UiI+CjDlhcIrgsq1BFoi1keaVETMVGjgkqmJwg4SM2AFAovaSEQIVjgPbUE2KhgnfAsNA44QOEYCWYDe15DTN12KwXQKK02GksqhSqZhFiOCQqFMoXsDEbCImGKABRK4HkSSF0BEjRoQo2fjCTFGHQd6pw9HCM14aRCUW3RakbUiyGaiTQGURIHx0IDoNHeVwbnKCIHZOACmOIxIAsP-auDQBJnXLqh1EHSJSuXsf9l6PU4qdvcHQlrhfmCA75Zi+fOzpcEcAadeg9onUiKOhqocvYLoiElWkL6ocjA+9bhiKFQ6JIvaoACQgAAlzqjgAAILgBwA51AAEoSFIAAAeTurIBcoO+OSPjQ8KrDORRPEkICGlHEB5h5ba0TWVjFJjQsPzd0baMuBqsuRX8QcQS3dEyBgs84ugBe2XFIpexMzcRHLTLEVjqxtYhsc2NbEbjuuM4ucX2PESLjy27owITOPjHVdExi4qZvOJEiWDWckMHZNeyvHQgJx2sYcQew8HpDsqDiCoe8hxghFWRk4WYKeEVEPBwJNPRYaFnmH6DuxoHbcbyL-GDj5hCwywN3FaBG90cTgIkIoHmbJxqhqUcieAO5B4JKA4obfJ4Q8QZRt2CjT5jTSfjyc5UNA+0DxBkBTh92IYLMUP37Z9RggMeeIDxEIm10d+aUFiTRMUZ0SUufUJMBf3Ha9DqCPExwHxOkBTga2j-RolpJ0lThX+erFWNcFrjX8jJ-EsiSxIWH9gIBdiHoNy3RJESw+wojLsW0sC8SbJFE-vod0L511luKpS4Yb1rpjAU4V-FzmGiZjtBf+NpD-rmxmSj96hTvJoa6UzbzD4p0U3LIv1i5FN9hYUFUekGsm6SHeDQr3qiQaDhdhQikJEL9y-7HZgRQ7N4Zjx+jeTtJNkmtinGYalSTJ6GOujMnSCFTTYv-SHn-yskdTjJSLAoZcAVrFC0s9wITtnwxIAj2Uo-OoblCP5T8j8ifdoQd0iixVbOXQtRCf3JJowSAxhFYQjymFVSZhyopgeYEiBZTtaS3AKUP0iCRS1keAMeL9JDAbSKpqUoPs0LoLPS1pv-NGEdKcCL8Zh4SFfldKxFhSBuKolILdILw+88R5UKArjz6EJ9Wh6OUkllOzZn9IoDkx+OiFWBgy9pb+d-D9L+k1EdEZIs4RSOJmJTzp3-Oaf0Pxlh8wZ+06EkW3tSXSIi10tYWN2e4eTr+uw21jqPOFFMmZuoknpKVCmqAxZPzAAlEKcCF8VZrU5Zh8IWk94lp9vFWXlXFlv4NZhE7nFp14Z6y+gi0ygEJ1UDPdjZa08wHTLHjmzqC2s0AAKgra8pHZPzIWS2ERkIilBayBEf5kxkBBA5Is+-tzlDmPSUgyrCOSjOFAkiUW8sw4fnzzwsTCkv43Mo6Lyxl54JtASvCxK7Z2B0IwEa0Q8HIly1fstcistRLva1yC5dRPrOhgbk-Mhm0gPibUB7TMxyyVTKuh3LsnmDEO1NQ0ORNskEzQA8olCbPPOYtgJZPnGocBAxzMSJOuUfCV6Gkn90SJqwWubwmhrRytRLLCqNHMRlzyAJKcyubIB4xryORtcyOSkDVF58YSJ880ZKL2HkjFZB4A0dqGLip1F508+0Hewfmngn5MyI0VYBpFZCP5Eo10UWKsAljyxjgOsWxAAAy51NsbcTISdivxVgDCeRIHHOCAJLsg9qOKaH9hLg-42wFOPPGxj6UxC2hbmSqabiWgzCisuwo3kmhhOB7fcWgswXYKzxPwC8eXGYU3igJyQigarQcR3ishD4hMXZhfEpzU8LE98ckOkj6D5FbgkilizmbqKPxY8gNNTQkWkLbAgEmEsBJsGgSWo5E0eCEUBizAeFICvKuYqHFrS0JhCoCmYphEeLwSlI2IOjiAVYhWmi890O4qGEejwh5baxfIFsWlEnS1FPqB4JVrlwtBMyb8ZhP7FyjwlOEzxTMkMFOLmFV8ixWtJmrek8hBQ-4McBCUtNcloSqJZYPWnQ0UwDVXKIGJLYNKLmL0QBW0zZ5C48GLXNpaVEI73Agl9oNpt0rQ4Ajol+zUMOkBGVZotAz7LZpUrcELCZgM40Xq8ILnOiI0rwpht8lFCF8MxCw74LiG3bzj0pM43OTuNoDspDu2yoTsXNzJI9mEaY3KIoqfF2ZXljXZhAvUJwJBsl5wSwcjWAQ6LPRnHU9nnI0VuCBlKQVQCzBM6vjYVH46btQVeW6BDBgK-CT8FeVzKapoMLzkqjBj40LllgHhTcvHEtyUxNQwcV7FvnVzeQh8yYE8tjE7L3FkU-6amJU5exvlLYZ8Vyt-4AqbAeKqlWCuygTFIV2QFFQYvRxwrQBCKzqsiuhXkTFV2QSXOVGoLkTsVIlXFcCuonNKISDU8MgLLcQ7sqVTIV5Xcqwn5zUB2c+3n8u1pWhLVU8v5VU0tU2q-lF7L1fONtUkh2UFKq5XnOpXUKA1KwCEswmaA-j7l9AL2AIsPH1jGxLY8AOHETU1jk1J4nBZivnF6rR4MakFdCEzGMyKgyDXwfajdU5zaVkwYNVStpq3LWVfomoYWuIUJrUF6CrBWmsmACLO12CqUTE11XGQRKraliYvGv4sQy1Wc1fK7TFCVUuc0SBwdfzQEvNr6XYl0uhHnVCBV1dcxfMTAva3Afgm6nyH22JjltX+a60tDOoOLnkt1VCHda3IIaLqKyU+W9T5AfUu8L0z6g9SaFEQOA71vbD9TCQvUVl4gIIY4OXCmXPry2+k1QJerlTes7mpWDBB+o-yDKWGO6vjpuuoCkTj1QgJGOsuCEFy9iBxPDferI29s1ZT+SwVU2w2kTD1c6k9VLAA26RMZfS4BVPgo3MaT1bwO7gGWo15DbUSKiCsMyPrsbQlFhOjbmXwVLp-1OG1YG+vw1NK8hxGzUopvvXqbKN+oshFEJWUxDuB2EaAZ3AcTib6lr6-9e+s02sbZlzS27hRREq3r5NZE39chAs34acEbm62rxv407zjVFCYTSRTGa9KalCgOpStUc1EheqkMMDfjFfo2aVNUitwQ6BsUYwHEuw7GNBCnTiDqYpm-YDFupxhbsGrGlOf1GgU4gTRui8EsiA+BCkqRMCirZ6OxlZYSEZCOzckEI3hD-NyKrVNQFmYsRctFhfLcnBk2d5ZxC9Wvn3wjIhbS2qgRYlKl9oVUA67tY4nx0Q2OsGkcWjrRE3ti-FpFIE1La1CSUZbQwVwHCCzCUCE9MIKWeCDMTW0ws8wRWmsPXxmKF4Y+HFFUfqXEAPSE5r0Onh9Dh4vcVy5pJutBGa0BA7WrNSFkhpWiLMdGZW2BZVrNkLLcFSKQbltpcQBaIdNzaHenjE3TawtFhO7U62G04BRRQkVzReWgFewAAnHJBh6U6rycy5+J31k0M6WwHg1wJ8m+Dzwkeh3UIdyq2BvTIodgI1gAAYkeAQW8tAMUDFNimL0NAAruVUJT84fUKXVeVjnfAiVWwNXezukWc6b80i+YgKDsDiR7cipf-v4B11zKaabgFeujDjE66FhMgXuf3PaAmQHwly5TRsp2ECa3BXWkTT3KvKu6M8rEAbVpED19zpUA8qLXKi1aFaiQwm1AliCaA5h2mkwZhCmC9iiszWzzbJiZCyY-tzCMkRZuHBVJWRGAKe5aqAE4YsR7gpBK0uSR10kUxI4kLVgvNCVk9hN5gFvcDBdWW7Ye0us5qErlG7piVbM4wONJVIErN227K9p3BTAC6igVa4Jdav9V+rQ1d7BfY1zL3J6e8VemvXXt9QS7+9bO5vS3oBjzjL2u7f6Oft72-dxppqooE3pYjn7zSbTI+AgoYCv6xISuk-XeSZ0pLpFCSlqOlomJD76lKMy7c2kzDwQUwQw7FV9oIAiVEQaI3LXKMvp1bytTO5kfkPS7mrrsLpMBHQB4ifIE9LMFpTUMz25Rs9-Le0TA3z1d6i9Je9PdDQAIKI0DcBqUpgYR2eicDmyJqTh19I9xjh3EdGKsKBQ3D5AkgUhkiBOg7MYG8e6vtdqUCcG80bBmsK9qQOjxEQSCrKNRJUAkAIOuUUXSNvtSSSqVtLc4PRL4X+J5JBhvTV7H0PGkIOuhHgPwYWhOHDDWIC9hJKYmh8kZxvaiZYaQj0SzeMTcvhYR1XyTgjp4eicFwCOd0hNOeu4IVuKaKjFAj0gADpYB3VxtGqByHwC4gsGO+OCm5RTj9Q5drEcvSnvLJyQ49UytI2ewyNMDsjuRxydKmoAOgij9o3lIQFQI1gZl1BPo6AAABemNcwNkeSBpKOjXRjxpoZmVjHyjo0SoyxGqM95ajmW72FPiIMkGmIaRvI+XAKPdGNKSTFPNIdJxH1SAR9EZvZGKazQ8A9R4BfsfaNHG5jJx35kfQaCXHrjizFY8DCAA')">let rule_counter = 0;

function new_rule_application_id() {
    rule_counter = rule_counter + 1;
    return rule_counter;
}
function make_new_variable(variable, rule_application_id) {
    return pair("?", pair(rule_application_id, tail(variable)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p49' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	  When <kbd>query-driver-loop</kbd> instantiates the
	  query to print the answer, it converts any unbound pattern variables
	  back to the right form for printing, using
	  <div class='snippet' id='javascript_95_43_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (contract-question-mark variable)
  (string->symbol
   (string-append "?" 
     (if (number? (cadr variable))
         (string-append (symbol->string (caddr variable))
                                     "-"
                                     (number->string (cadr variable)))
         (symbol->string (cadr variable))))))</pre></div></div>
	  
	  
	  
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  After <kbd>query_driver_loop</kbd>
	  instantiates the query in order to print the answer, it converts it to a
	  string using <kbd>unparse_query</kbd>, following
	  the syntax described in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  The function <kbd>unparse_term</kbd>
	  formats unbound pattern variables using
	  <kbd>contract_question_mark</kbd>.
	  Note that it needs to distinguish genuine lists from pairs
	  whose tail is a pattern variable (and therefore technically a list).
	  <div class='snippet' id='javascript_95_44_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuTLiQA0oOQAFvKS51GGJoGW1rb2SSaJSURj3VYAMghoDeSm6u16oAAvCjnm8PhcDkJjqI7OUlCwlgiVkkfuY-ttAZ8ri0bmFweQngAiYgE+RM-pDbEicagOgATxc2Uk1HwklZhIZ3w2FIBsO650oVQ8JP0nMOo1xgKUdDolCixEJeilxhlWwBZwuNLpd2Jj1ATJ1eoNRvIHKxmt5Tv1hsSoUFmWVNVVpt+5rs8tUirUkejUrV6qOPLE3pdfvm0kWknkAA9NJZdeMTWSzLKI7kFSC1HG7V41Vikyc8VI2qRpEplLji2b-s2MZdrrJ6bXGQ6NPRznpJK3253xhzfP5Gk1+9ah7aVfamfMIkpnDlp-I2x2lLiFw1l5aB7T1wzmZ7aIfj3PaO6uQ+7DOT7j-UKg3tSVSMsYQrKMq1UWNwJHBNEw-UAvxfYg5gWd5c3zeRC1obtyXDEC4TApUCP-Xp6y5RstRCdsXBaJRszzAs9Sw6DQ1LXCrzXW47wdKjnBouj0Mw4g32GOCeL44FlEJKZf0DOhsNY3tQBYJRNFUAU-xFMUJXkJ5IMI6DSJEnFeTE2jMhafl5M2RS9OrKDNzrRNyN5EIy1Cc4FFdKzgPYwdOJHZk3LCU95FdYTnLENy0IYotmJLYDbPjBs4JCccWjkcYVCs6zKV8m9-Ic0cmTSjLaBUfiYtfYol2XKkrT84dCuZErcXK4LPMScK4JazKZnQ9LSBC7zcPXSRLHwLieFg4yxB6sqZnHOh5AAR0WY04qAkbbjG9ouP4abkx2Wh0tamYVCmVkqFmIlCulHDFNG8auIAZiclKpCW1bEkocqET1Ls4oASEBntcqkakGo3YMt0+taqF+jx-vnA6mwIUEwnckKvI2+7KUSgyPRmuwlrSzGOvW26WJyuVQLjGtbsM7lUYyaRqFIABrbKfPB+r8sa6G9GZfc2fZrqidAYWOckczLJx3Gafw+mBYMN7xZCFTNFkQaAcp+K2J568bS4x1NE1yhteRwnDoIImKowxj8jl6ny0V+zlcZuCOyiO3BLkp2Etp8ClYAhMGzwD8GHwZg2CgOBEGQdA+B4JmtXkDNCCGgLQF0WY7oUsGbimLLoI2NIAH5QEmRRyvTm73dLoIAC5AW0qUG8CCvWeodnCE0GThVrtSA2FUVxTZKUnhz-R2-MZv1dNrXT1i26Z7MCuNekSy04WIaPx9h2J+z4hc4eVfl1G0fa7kr39-GP3bsn4+1SwQGzDnqRqE0avyGoRhJGqZwkQl5MRXrVCu29MxDU-t-X+-9WCAMuuMD41BJAb3NsAx2D8j65zPu-OBxATq9TbmA7OGZ8GEPmlxKeuDASmVviA+uJDlLs3eB+VQdCJJsmkupWSE8z61TSHQmWh9qG1TwbDb6CMahIwYSHM+4CyESL0D9BaiNSqYPdo-HBYjAShU0OQfkZNQqJGIcuCurR2idBaDQlmItTGNAUeVSWnMs6iOXHgoKHljEU0YWY0h5VPFYxMa4p+NipCpl9D4uRJCIGoMLGmKJtQtHT1fqAPBe8EIYKlKkswL817+MgQoVQGSjwzB-vg4KU4ZwiNCTokImSda+IcQUp8s4skhO0e47OjBmBgizkyAAqsQdmxBqAAHdib8j0EoHMoAAC0cyCkZwUOFCKdgN6WWEE8L2dA87iHwKAVQIR8yUBYBla6kg2HCDVFTeW6yF6GJOWcq6rCibFJINsxgURdkDHMIMbO0glr7MOalDwrRLlvOuXs8wi1yCbDoIQaQcKkRLN3rbYR1zT4COxaUXMCgCHZmPqCWgXl+E4tqnvThUlFByUxWS8ljQdlYoZSyswe8c7EsiXcKFnI0jcx2r2ZCmYlgFkRQYelFc3K13wfiu4oqkXTxxc3CxHQEgtF+WYf58hAXyFuWYRQvT3nEGZEMkZ4y7BwQMV-eZiyNlvj+WRUS21L4oTkmhOgyS9XAWUqpL2yIAB8qKile2SZPPMPzHXi1iXNVkxESSepLM7KkjBCCvC3unTOx11HlX6ugop0FkmKpiRm-NWbToVJWnDGpnSukQOWTdAh2azpIsUIg661bVbW1iUo+GqjpHqKoU-W5sK0aMAxmEFg5AhWLGRKAelQalgdDHVO9q3ioYhweFPDVZhKAHKOVIKVKFinoxXeQSd075A3MTWGRSS7x1nqnbXbdoAtU6r1XchdakjzHSMdjB+W6NjDA1OLC+YoSARK6KobSuzbnepUlBtkAaHQACpwPxLVchpkTxoOdtRnQQaSFqCptad+O+XN9ahErZIvt2gZEaOiSQjWuhuj4byCKYjDSyN3tPUExJqp9DMtZXyAj7Gp2cdoHJEmP7V1-vds-AReDxP0d6PwzunElP9zjUUItXSKjSGSlGshzjB252HRJuFMtZ3OOltQCyUpn0jtZoNQFs7WOEY46U0jEnVAy15TC8zoA0POjVQwFFoHJBBZ9JBpzKgI03spHWoaMsw34tpBy5gXL2Fs1i4JoTeWgiRYNF0D1c78tlcCFPXDqcyGBPJuupJ2DoVwZYQK7YF7VDzs-VFei9tl6aMa1V3ksSImyYAgmjYI7a6zsS8G9DroL30OU6qZJz6ImafayNv0PDsiH1rit0GAIn2Rq7WQpTJnoVre2zMQeGmruH068uGbSwNPSuir12RvRcvldxU-Pz+cAQqqsWHMAEcmCsHYHHLgic0DPRTi5cGKa02qBzE1ijmRsi5HyCj0rJCcz8Obga3+yOhZZByHkbOeYjwKBaE8SwpB5CUGui0Ruqy4LMNeYdVQVKrA0qeMlxrsGtr0mKmCglH4sMPe51MEr-OANGWtqCmo4Krmo8UnlI2+Bmqi9pOLlGWpKUnmpWO4pqvKSPV2pr0AU0raoz3hi03AJzcTUt-tG3+vbbpZJSY-ADuJjbSepb16Bnrbs9a7Ydr45ZW+8rpxJkh7hVYdAJHoobv4dh6QoPWu0f1e3j2w6ePiwxbWwL+8ZPxos+C5soHQiWfBtiF0G2agepoiEtmJyryU9K+UjjHLtZo6MZR3Hp3xNAd8K95Ha8VCcQDGt-b4kWdemBh99D4PyUV2StX2j8CUEQ8-wb9dXr3kq-3jr+KZJS9axzAHZdt0Y-h+xDH4vbS8-3x1jxYBHGO-wfUZ4uY7PjLXk6+TwGYMuOoqEQ6I+I0ugUQrwu+skhgKIYW0BsBIBOmzS2+YIK+5+cB2Q++gKAmEsYBreaBpQzcOQ0QsB6+hgAAPJXMgS8KoKgRKt0oakyAACpZBKR5D8igBexOCJAMAIoLyUBdDNxMigAADUOOeWYQEQ0Qu6lkVBkhDozIyhD2QQshkQUQChjBsW8m2KBOPSRO7BnB+A8gYyvBXy-BegghvcZsohDoahZWmh8h+Aihw8+Byhie4hUh6hgQLh2hbhuh+BdeEwWQPcfcV27WV242gQcEOcMgWQqkw+M8cEbmOBgKwBeh76fKFGemGRuyfhoA4Cx8iRn8HW32DerMze3snumWlWRRzcV2yIqIkYVBRR+SkYTBZWTRBGREBRBBcYqBf2QQwwjQu6hyOcLRKKk+2Y0+hidRro0KjQhOYIMRDoQymQrQoA2k9qpQr6QK16pQI6x+s63Gly2BAG2KwE6Rj+p+d+X2eWj+V8Z+bIpEjQYxDq7+dgCRXcyRT83+Wol2Hh0RHhWR0gsR5g8RpRfxqgKRjQaRfRQBoAqBORQQ-K+R7RLKJRswZRqkHRVRTeWh-+XuxoDRLKTRHh0xeELGHhhRQmFcS0U6XROWKJKgJBSqwmeQ-RVBTwQxehIxgQ-yM8ExcJx81JsxeiM+ixRQaJFWRhaxYJGxxAWxBCOxiGCyvBc2nUgpfyAKhxZKJx5+ZxJ6FxQ+AJZKNxfRdxdJrxhIAmHRcR5+T+dpl6upmqgG1+2CeJYpucwONsh0kc0cEOnACcvAGAcOpwUgTy5yHOTYRqey-KEMfM3KHyDoMZLyReqMGZjO7wpymsa6WS1yVMo+lYhEUKDYI6OZFyoOYWnE7ct4TI8oie5g8oOKDppQjZ0YLZZg0Y7ZjxMewuGBPZoAGB-ZDZse64I56445nZse5QiK0gieC5lQtUHZgise6UdAmsSg-IieW5O5PBy465QQjZqxPZqx2KJ5gQjZykrwqCzgdAWGd5LwD5DAjQ155gjZEhI55gxOoA-ICBgasyUhR5n5ZgjZcyv5Zg-5gFSGsyiyYFA5jZmGTwaQsFQFoAsyyGAFZg4Fg5dwTIwA0FhyOYTwcFSIwFoAYASFE5wuAApCRRhfBaAPRbhaAPhY2Ygb+cxZRVhdSYBchbHgAIQog8VkUAWYWzKiUoqCV0WEXUFMUSUUVUW0FmByVznC7UFIjQW8WqUoqSVCXC7+pKXkVSWgCBrqWcWx7+o6VoWBB6X8W2VWVGWEXCUkX8WBB8VmDCXmAo7tychVkRDPK5kQqHSaahYzw+oQQVhPDVlxm4gRpBWnKxlhVNgijOAABWVOkVjQ0VwgSGjZ8VieiUPKA5QQ8VaViVnIWAyVIVFysKeQ5AoWBF7CsegOaqieHVXQ+F32X5sekAxAqqcge5aFg1w1BivVfVrVTIL5kgsAkAPZc1C1U1fVt5p4r5AAoiOXNZtatd9o2QAHJKCHUkXHWHUcnTUcUDB1WpWNVTjr7IhRXwakBIaRikAEGVX3XNWBUBZfXmZNVP5PV5UvVvXV5VBqhxXBV3UA02E1WewPJAjQ0vJVVFhbKWFRDrjR4bKSCRARYEKKCbzEmZVKDzD4YRD6IVEMqVX5k5CuhFkkD7VBBexY19BBDHZ4ZbB9wynGjR6-4Eo813CdZMYEJc7I2hV7zImOmjni0NWw0rp0lM3mAi3dCVV7zUBZU5VPDS3-UTiA2b7lWlCSnzEklcpOQ5BwqzGY0a3lSC2uZc2m1eQ1XhxExBng6xyhncCYCRl2Ak1k2kAU2PooRI1sz2xwl5jZ7hLCEWxYRoSXXFEzVoIx1CRPDso9aCTh2aBK1mDRV+06gB2UD6ILb5ih26ifLfKZ0Jgzx4Ktxx0zxqbC5lyJ5RGjy10R3x0E55iAm8hfSMCPLMD066iV23KinzxmzJ2V3LFJ4BaS1Ukoozwt1aTjxp0CQHxx26lBWl1LS0g7KzrRW9391b3l1urt3Pr-YWq2zNGIHpkgiMBMj12jm30xX4Ql2D3b2oJfK7K6Tg1i1b3XA7JV2NDNyz1-jUlMhTkP2v32z-2f3V0BnpVX2ohMh53k2F1B0J6QNP0gOBiG1pC52k352B3F0D32zH2T0d2P077YPZBQ1-072f0jEHG6qj0OBD7t3vrASNlN1PCL1jySjr3PpMMcO4RoSCMc1ahWpLBx1d4WjRlP113NKRgKOkEsFE5oQmrDKjITIU6r28iSNZlahl7NXD2QFq5yM77KPlzPDgSWNNyqNgjqPKlmraNvaCTT16ACGs7ixOiKA-jlKuCoItBtDdDSOmPd78hfzD3X2Oi6i+NMip4phBNxJLSMA-jCKhNenvW0Cyon1Z1OR4DQKIQYj7g6Sjmpq8FqlXDkC4Ag7BmkAvAqRTCgDPSHIkxajPQw4w7Tx95OhsyqAsL8i07fqMAtAwZhOyPiiLmqB06-yjPx3mDmIE2qpdD47ZyrRZQDPf34SRgzMjO7L6ECIVw7PDNzP0rNy9OkD9PyCDPWOES7NzOhFcEtbnAlOqDQqObZZlJ7g5CzooUvM5CYYjGiThG9xXOGI8BPADOSD7RokjoIrOD-O6oooXNguSAQu3NqAxZfMlPvGlAsP41tDLMsaEAIvfNulykfrdXqozxCNHFpAjr3OzootQv8B8ngTwuIu4u1T8pUvTMnPzMkJUuNEYt8saAjPukvqelxFqz0C+OovossvgmLBT1mBwskuItMu6h9NQvotxhYvFM5BctlB7ohC8sctktXpkpMkYiET6uIu4MCIYFtX0g6txVP2KtsnCqQ3S2BB6ufMGtukSu0uGkBaMvItauXMetxjms4sSvpAmvNBLNWKiuzOWtpA5IaFWA2tqAxs5CnwZt5ZOtOsetZ4Ot5bRvqsWukQZvBssrWtxj3NKuXpn37E0tStQniwHmnj1OqAsAqtJpsDRNdwRH30MqdwguaCdbNyDtIORApNujqEVxzu+PqGGGGosAaPON2CFMYI2rWMlN7EenfHwQSDAjkD1OVkBY7t+Nkt71KDPNktvM3UBZVOzrXtIKIuqDgMTtvhVnlMorvuPiftMjLupNvjL73vvAILpTRC6G7glNNtb5P07g-QIeevKsJN2DQfEkoePvYfRDR6Rj4dfCYcSyRAwfeyDzEfR5xjUekfEe41ITH5weod5tMBvEyPrIRssdkup0v6kf83dC4dod5536ceUOYGQfSzkdaE8cicoQEFf7iNp47gmNek56cSONMhN2PNzuTjwxFKOPH5PAkCqm0g7iSANMEI5CMDQrdSfxbwR1on4uqfr0UuqsBbEdWYyct543MdGf8eWkUa8vUdFGLNmfIR-xWctA2eZ18dvHCsaCaCWQMdUc+dfBBv6nMMJtAjyPsN0vom4ROtJeWRKPt1PAlf9Hr2ZfaoGnXEiNd1ttClemVdx3d1iCyG5AsCoKmx-5tDtj8iQZ0Dov9e7nXB0AwvjN9iYlTQP2jeDe0gTdvNwNOttFTRlt-mYWdcEg9dfwErzdDfhBdfZtqTrc+v5YHeLf7T354geOMBk4XKXendPCXehCTfqcOBTPDfx0VyvdLcUOregTfcbcwWYWRBTAPfvBPd-f8BvMg8CJvNIbbfdfRtTSMx97I+XLthnrwbo1jNen4DY-4ruSWAEhqRHc7f5Vpn7OkeE+njE-I-k+k99vicrk5sU99sP16ZwPg+E25CPfapjfdBkptEc9M2I98V0-kAM8c9M-HfRti-o-xE5ipa41iiLS3AmLCdsc0SjhieJojpecooMd+fYHa+lNKfHumtJtqo+bpcCsJ2Cdyc6+njxf2mrNnsXSSB3k9updHrUcveu-sf2ntd2Ce+tre-dsMFnuB968v7ienHRP4BVhdDiEP1MjJ9Kip9wOVpZQx-wSniGAP2nG5JAOAiqdntF-NKCdq8VKa-Gj5+69u+Xo8-mNgiV+gBQiAhOu68-eP3S8R8+8MFxiV-w-Lhxi99j+NDh-h5D-P2q2F9T9laRiT-nfkp34UMZ8p8tDxPKcddaEW2PiM-Y5TcSf-kS+Bp6aPP1NHjsyoJIQ+OpNFiP+4hPAH25ejjv-68TYBZD87QIpIpZ0M-JCHP3f758X+4wbWldRxRf9Aux7P-vKmRRINM+OQHflz0XJwMaih-JCIzwQEYQxUjzQgEtEY5tAcwXOQvqzw+jhBZOkYSvo8yqYk8uuYLBVtc3e6BA4Ws6KpswMhasCRiPLG3kN0MAVw9MaSPkKH3EAE0cwkgKFqKHIGAR2BAWAZrOloGF9n0-KVTgMyEEOgm6oggZg2AtqgA2CAACU2qSAAAguAHACbUAASmwUgAAB5Q6sgBRSL4faBAKwPU2Sa+MyMwA5vtHiIF5lJBcgi6H3wYHkdcw-9WJk-28zACKGDAlQGdCiGJVSO8QyoF4OiH0BEep-YwaYIsFWDbBDgpwSkKzbhCcwkQ+dj4Pp6tpo8DAxnqUOkHXNNIwQ6ocyAgG0A5kyPLxtbFVQ70khlQgfrYD8HidMeUvaKvOl15OAA06hG-lLDYxtD8gEwjdv3wuh+CQeZhc9q+XmFyRfBwfN0voKsAWBEUpeIjHd1nQAAGJfHBASBjIxoRw3bovB-CUBugTWO4RoBIBNMUUKaA8G8NOFSEeAag3CF8OOHvDFApHUPNcMi6sclg5vWnHcKToYJcaLQJDjvm06J4nWQI+4XmiQRPC2WNeDsFCNDh787AlgbSJCLJZSBIg0zI4e81DZwjo6CIp4QvnMK3CDw8Ix4c8OfSWpLA7wMZCoE5gZNGg6gjsMPTJQVxwRzI83nF0OGsj6R7Ih3qIOOR5cs6oos-kdx5F8j5+k9Jfs8G5GSBeR0gTmD3nbryjO6mgMRsezVF6iNRQIx5m0D26jMRQ+QRxjCN2F2dxYlo-UfyP7YudhR5LArvG0mLrM1ALov0Q9mAjhBFgLbNILWwZSG9vOjaXzkx0uJ+Coxy4fgYS2TbOB5RhzAgLFnkA+tm4HojUX72FQ+YjWHxF+DGO5YUYnWF+B7BXCLEGjNR5LPwDqPkDqimxPeA5pyWT46pUxnxI9h+kbH8iI64gmvruiBBN49QrzF0RmCGEG9PO6XeMRR0Y5mlJQLoy3sED3S+VreGY23tR37bAQSAChSPhsLt4JjKO-ve3lAOgFzjXRbNQDFl2BT7pIuwRK9OVjwDIYvxM8Q3kuON7pdVxzHO8ZuNyKKQdxibPcZBlC5jtAsxAE8XPxhFr9AgJYxYOeIo7Z0GUd+KdhTlSzO9SmwEuAXqVq7ZdDkdo5jB-HyB3iNxL+V-J+O-GCjcIW-LPjv0EZPiCuwEJ3rOJUApjPSwGa2MeLcKnie2mgdFpoFZauiE+xpJPtv1HalAK4TE1AbJLSAE4gxXOUSftGL7n5W+r4kSVXzkk4S-8E42jNOJyBqS4q4krCWXxCAV8YWD9ccWKGMmUBXmYkuKuizE7UUwAX45DNpKLZTRO+0IRUTvjEl98BJhiOfiPzO7lYR++0bUeYFClCSGCtAyKdALSC0CYpSEhEjRLgYKTU+4g1yEcNUDzDI6q4SGIVL6G0BAoRwgxryHHBtgiBRYG0eJ0Sg2ibu0oqDrZksiNTT+bPfog22pHdiO4idaQLyP5AI5C8FDRKH1MNZK9vGiNWiECKpFscwBVQwYaAFgEccFxE4JPGTiQhAjZ0JItkGSJKYUj8gNohzAFnimIDZ09KeKaAMWB90P+KwtfrVMzAHw2wmOFkZelilBB1pIfL0pdPwGADpJzEpSUEGEEYCy+T2SQAfUWntS7M70tjDaLH5YCrAR-WXgDIAEqx9hcKHIZIGsEDIAAMptWcE7FFylw8WOsM8FAjthK041BJNP4BCSBuYZobYFCElDJB1wamSzOIBxCs2CQz6XJFampCZgXM6PLjPxlEzwAxQqdKUM5lHCaZAwnmcMI567dmMVNbFLUNl71CZBE0WId9MCBx4jhHQjnhyBB6azmeX7bhvniNmdCZp1sHGlzJ2Hf9j2Iw7HmMPJR7S+K6hHGvNIKlAi3Wis1YfOkpmvlHZtMvwY8z1BxADwMM5aYHN2GMCCQ0eV2aeHdmlBE+gaK1irJVqHgBukGB7D0PSGJVVAcclYa6LH4X9eCiNLmaXNbQRzyqdxMXmOJLTvBY590m5o3OZ40itpy0Aqiii4GSMS57cggkyChkH1D2SaXcZYlt69zGaqmPkLTVbntyh5igDuc6WR4O9m4s8zBB4xsIry+6indeU3KJGAhShj7Dvt1KoFyEYgKglWIuHL7Cjb5dsvDD-EsBFzsRSEUoWVIqG0BoU+LM+a8yKn9sR0SglFNrMaGyCipqYkdKQBsAkip08wxOYOw6LmymBmzB0PMONnM8J5gQTQKmjBatDypxALBV1wlzYonW8wp4JXNgU9I-QiCjeYwzYm8SMer894BiLxpfyupP-LacANnQvT6pWEM6RsH-mSDz5tMtNscUUHXNZ04CwxLINiHQKAsNC+BZ9KQXA08sqCsnugsNk5ASFBIHBeYDwV3BtFQIvRSwDIWOsn6-sw5JhWUV+gMRDC1icRNuRAY3BcIWkBiNgTzDv53g3+ZQM+k+KMhekqxu4oCVFS4GoS7xVAvfDeMkmUSohdCjCC-x3giCjhUEOiUKCtp2QXoT-PoCzpcZeQmwXYMcFSyNgBSywUUsKEkyKFRCqhZhWyXvyJMfAxid3F37y5UYoShaVwv8KsLVFaS0gbDJGIjoGl1M-JSYLxmEziZz6cWZMuqVWKjhdSpDCMvlnNLFITIVpXlKkBSlDE44TKm8ndTFT8iBy2nqaV2U4hM6+PY9mV00ARp2lWoAsFOjOUiBcmlyocTY3DStSQg2y6cBID2Wc4Dl-io5R8pOXLofldAP5RQAuWEdQIxymJcXgwhiZflOIF5TR3eU3LWpCQKICFFpAwyAVp-a5bcr7woMC6RdEcFCsvyl8P0BK6-rQEyrUBKRTyigCVk7lddip3yxlTrGIAQqfqmkw6cjzga7L6Vp0hFfgm5X3wuVyKjCeYDHnLzziHK9wBKueUOkC2+WFlUnKchGKv2eQHfsyBlWrzE8gqyIPDU7a-KhVqgLcmKub5IK2VJtC1W8jtVKr0BlQHnnd0h65yhe6sgRHqr7rHpQVDqyFf6p+pWqN5+bdCphQtVmqHlYKsVeaqRVKrQ1TxI+V3MTCar1ld9XVS3Ohntz9ypqo1eTOtiYqhoTKBORvOVnM8seqc+DMHKkn+o8k4xT7pUDhKZqYZha6nFmtXmFSGG+soTCjJ-g4DZeG-FJH4l7VoyLZWE4GKIL0wJqnSfK4+cMFTWjI3QGaneAoHbV91E8ra5tm4IiGwLDOTnU-k9ilFW1WYzgW2kSgAIp4T5xKohoPGLVqqWeZIG4irNGFVqBEGc-hDutTRLA9OTVH6EUkdLXq0GcCZWJ2u+SHy2Q30xgqnSAo+tViUG6QldUGSaNzU-fNkowD3Y+EX4E6g2YBqLq1wOQA0qxiOv7VjqX8qzKdfwnvUpr8FyDAhqgzw0oRvC3q0aqAFw3oMMOOAEdMpCkEHkBus6AAJwDA4IvG3ckgrUhujrYImwxJjzkBuAwg2Gb0Tl0xJ3yCuQjUUnYGvpnD+2gQKTaoAADkem5kGgGM0GLNUTC7FLptF7ljSgUmpBbjSmBy8duCvAgnYEWTW4muXxcwLZpk0OaSs3GsFYeUeYqARpY079QaGSXBqxekk2dczyxCprgtu5ULUxubXZrtkw0xLR8BTRbq+8UDXUGussiRAjFwBRQJkH+hwVNpYQNabOjAEkMh6EkJaEcmIBGKvCfQAjc+lFLXRGApWkaqABkoOg9Q5BN0P2101MgFkiyXLQwAPoSDmtNqKCv0AQ06bT2A3VQCQHq1LyO1y0esC+jYkDjnxiC-xikqCaQZNt-bTpXcK8VELCpcSohTZjswnbUxHWkrUSQMS9akGA2nUu5xPbbllto2sbbaiIW8EjtLQWbWNvdDbbnFRgXbVWKCAja-tmpKbYgIYBw6Fkpmr7YeTE1Zzy1ac9fjWo6KraOwxAmGedx-XKIhoy0ZvlQtmDQakMucKVcxpLk8MD+qMkjUwKv6EjmufE23KaTyB0AxkbgQramm7mVblo1W9uSHTfrkCx036preUykLxM2t3Cyrcfhar07ydC86INgLE1s6ARZjSZo2uV198WQ1ALghsK0IF9zg99QGMqia0E71tPqknQZyWBq7IwBuyndTr4q07xBkeZQBQHbVhAkEykRgJzHN6HKnArgMEIlBD2EbOiP9fkvB2mmGA5dkgHwnyGoGuFSuP9KPRNMz34iq2pHaoMpEoycJqcTPLQq8vPq8FSAsClgIiiGhqRtkVerbsoUKlV6wG4heSeITEKqEpCSgRvfrKZDN009YG0jvjql2l7ogx9cuvjTW3fAQYLsofV4S-bKEC9tEJaMXsgzRUb4o+paMfRuRy79AbSvvNvveBTAWAoG0PY2q9iG69MoMwIHglvBX7-JZ8F8fkTjBX7qoNJfou-te0opURffTUY-uiZN1553u3vVOi+j+7HwgezmFftWYvi2Rz-L5IYChD0p8QkoFepVHyDv6He8kpfVIWP0fBFAZ+yMDsnP176FtjQcQint4atwMD72LA0gcT0UHSgVB5QgQdP2ai39n9Mg3vvpQchb9yk2CWtq-ZTly6JnG3VLsIOMA+2FDQKWCFgPNJj9X7Yck8FvAkGkDuItQO-vENrapDnPKyVfNk4KH9JTIPTSnr9Ry6zDmAofToSv0j6JDhO5eQfQv1qBCQLgNwJGGcPdr+qwubVd4V-jeFF13hF-t4SBEEaQpDhpYJ4eHmaH95glIQ7br0MUMlD0R1eYMXAheGEjkh5ww2Am35b9NL-VQNAIAA6WABaTnPKT4Bf4Z+qdQBTMo3IGUhmh0J1tK3shOQeRmGXpsKMlGyjBUioygiqPSHyBO+QgMAQII3MnWox0AAAC9IaZgUo8zV64EpKj1R+DTc1mMNHWUTR7cE9qWhvhUkIwbnfQD51ggujSx2kCsaGPKVVDseJQN4WcDeFSA3hHfmqD02cg8AHR5eWcftHIJLkqx644nXuOPHnjBG7Y+6CAA')">function unparse_query(query) {
    return unparse(head(query), 
                  tail(query), 
                  is_null(member(head(query),
                                 list("and", "or", "not", 
                                      "assert", "rule")))
                  ? unparse_term
                  : unparse_query);
}
function is_list(xs) { return is_null(xs) || is_list(tail(xs)); }		  
function unparse_term(arg) {
    return is_null(arg)
        ? "null"
        : is_list(arg) && head(arg) === "?"
	? contract_question_mark(arg)
	: is_list(arg) &&        // exclude pair(.., pair("?", null))
          (is_null(tail(arg)) || head(tail(arg)) !== "?")
        ? unparse("list", arg, unparse_term))
        : is_pair(arg)
        ? unparse("pair", list(head(arg), tail(arg)), unparse_term)
	: is_string(arg)
        ? "'" + arg + "'"
	: stringify(arg);
}
function unparse(string, args, unparse_arg) {	
    return string + "(" + comma_separated(map(unparse_arg, args)) + ")";
}
function comma_separated(strings) {
    return accumulate((s, acc) => s + (acc === "" ? "" : ", " + acc),
                      "", strings);
}
function contract_question_mark(variable) {
    return is_number(head(tail(variable)))
        ? head(tail(tail(variable))) + 
          "_" + stringify(head(tail(variable)))
        : head(tail(variable));
}
</pre></div></div>
	</span></td></tr></table>
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.8' class='permalink'></a><h1>
    4.4.4.8&nbsp;&nbsp;&nbsp;Frames and Bindings</h1></div>
    

    <div class='permalink'>
<a name='p50' class='permalink'></a><p>
      
      
      Frames are represented as lists of bindings, which are
      variable-value pairs:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (make-binding variable value)
  (cons variable value))

(define (binding-variable binding)
  (car binding))

(define (binding-value binding)
  (cdr binding))

(define (binding-in-frame variable frame)
  (assoc variable frame))

(define (extend variable value frame)
  (cons (make-binding variable value) frame))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNA8QuFE3OIFCqGIfRcgUQh6GIOhKG4Gac14i8EjdUUQS0Cgsgmqaalmv1plKdaXMbFCxu26a9uk5pRTocgFDOxQdpmyh9pk-LCAYQxfAUFh8BOqijG+37G3wGQ0juh7Joul75roRarvdVINEIEFuVRcbHuh16ilKZG2F8fRhvzUb9CanLiAAD0IQI3GcDGod2mGWjh6w0PQ2cQNBhhTsMfRyFIMQGEp6niFpo16aevbYcW2woOu1IssoYIGAmlhqmyugJax6TSiJ9cScV5XVfV2KlYYPHqDRunzsZ1nmfh-15ZV+g2NRTotdtnWWjXZ2RGoN2tsxxnpex1ZEYYNg7pYYRyCFqmacMa2g+e0PYlKRLiAYMnNcjn6Y4YRcKHujbPqBv7eZtlO2Z0hpc+j2PfuEAnK6l+3U7DcPjHaZ7qB+c7E-RluXq9vXPraAtZt7xt+-9pOGartuEdFYhJsoXEPlG+7Zo9lOvc7OpHfD9gPC8HfLv9XWfeP5RT6HkOl9SQLPuYLQt7BIf29072fifjfX+es+c1F6H1FOaagYg6Bv0AZ-S+PwwEQKgXfRectw7ZwYBUZQkdKr0GgbhUAWAoKwP1loUmlxYoYP3PgX2G9ZroJMIHeercFqfydhQ-mGtoEjx9mw7BmskHMIRiZYIgCLLWVsg5FwX1ZrkAph5LyesOhaEKhFbOghCAowJsibg-MxBhCLO6YUb5UjU2oAoWeOZM7Z1IXQX8CpApqI0QXUgpjzGWLIXTLRggBZhBovhQiBj2zOyhuULO7icHIlsQ0c8NMMhlQUSTNBjdNEOFZoZGulMtAiCFnDOC9AoFpJromMJjBC4Qw2rzCJ1dCmhh0YYKp1SDRoIWrkyBACInPkKPY0UT9TqjBpGwYeE5Sg9Kor7TJYIYkDM-rEZo+9fHHiIgqIR05PFWRsnZRyjVinsl8CQORDj8aFViOcFR2yOYMC5jzQmVM6lt30TEexNxsQ6MBAAPm-sQsaOiQ7zRuU6U5g1zCjzeK7Zw7t+Es3uV01IlBSD8FUATeJJCQWz3oD8EWbE0aQ0lkzZh0yiGKIen7AO1Dx4AI-vfUMxkRrIpdqi26jZOgbVujQCx0CQ7hQGsmD5Y9u6Tz7pjAec8cUh3ueeKopAPjPwUCBU6jIClIrGhKqVf8V7kuTlLZhflXzdP4kkbmANlUgQ+DKg165HT3M6XqlwRrpWyqon5PxJ4Qz2MVUYIIWTVWII1TDLV5ITlcpYucrmDh4FfluvdPRxFHkaH0BG+K7yoShtphA2ocJuDxp8WcQNblDDckYPgfgdDMHsNRBXH1S1loCVFF3CeNABVQyFTgj+ilcbqJmoMPNQgLlFp4RrCpcEVUvzVdvD+qTqldoLb2+hpbmrupBc-Te6rGEvUmIpVhM7eGcNDIdUE+g+2xS+j9P60DpnNHSJkTlWBVGj2vrfH1oriLniSYyO9DAknQL8uePcLUgSTp7SBA9c6kmHhiOeZNidU2hEZMGsGEHwFfh-aBqtbo3VJN+Zk4Q2ScwtKgT++pDSa7wag7cgphGDR4qvTen2v9h3epXY+gK1rBK3EziM81+gyNuqfsLBOwqsYh3+TmoFPsw30ZFXcp9xVcxUUZG6sTz0zUFjjiLMWfCK0cvJGG0ux7-ocYU7Qo9wN2UyfNZpq1K0XCnSo9s0eQHm0Psk1plNjAjN-SU2Nezrmy4MJxXbMjFGaWec3RrDzKm+MOZXeO8jFGWbIfsXM7NDVs4tTkIoCAMB4BIFQH1NAxJhPJFSEdTa0CoXMZurwH6ZBSugAAD61cUjW2F1QxA1fq411Iv0-r9HU1FurDWXypAvb5rGhR2uDbFB+NUUoP6ctUcVn4vSP6REKExyzKgfU2cBYV+4YgJBYY5iI9kfRduVuhQXJcy2ABkV3ej9EGMt4SQJKAneYGILb3KboQ1K9G8rMLyB7dqBHPdSDwTxuUQV6kPmLlg3jT9tbAk5j6AjGOj7LFQEufE6N3763RRvf28DucoODNaSE6oknOnjPLZx4j+7yO6xDDpyjitkwyfbIp6dcLotE6Rb82V9bSOIzM6i-yAFn3UhefhxZ6t-3AcHZB458EJYhCAZC6ieE-WOu7YJ4d0HeZnEOmLVgjWGvxv+jxwDnXCuGOiTQV5iHqivOU5PdT5Y9jBcM497aMdovr3bKd5z3j3P+O230e7pnDPhd+d9377b4c675yD2pqXDy-va6B7rxXCfY5J553QB3Zyo751KcXMgzvdQp5Qy4J5gNdMw-BvdbgXuRu219-NovDd8BN0r+HkYQuGc+7R25XVlnF3-1HRWsPaf8cZ+txJ8EtGl2zQL3Hnj8dg+8+x275jzfT1D-MKKFFAdK9V-DjP+XRPFdH7BY2XPzhTcDfN7Lq3l+bdK7pSSr1z0V-cuv2ixsGKlsJMrusQ9i5ygQMgR2eIbOcef+DKpKfK78k+f4YBoIDAEBR2pIc22ycBcCAyZALK1AbKIBqe624BlQR2OgQmse4uvKdaU8QSU0TavWfOEQ-4-4COq0z+s+r+8+taPcDaTB9KP+LEtqX+E+fWKBO+Ee3uLO2BcexgC64hSBkh2+AuMhWQUeWMMeqiood6J+525+hOKh8+d6Ihbkb6H6JBpBtOfeA+chSWuhSM6iqMHC1hhhluPBJh0MFkFsVs9A5h5gTS6+ye7h0hdhshIu8h3KOiXOam5aqhoB4Rgw-ekR0e1BeAKWrU6WHUWW3UuWOgkOeOcKL2BMFMZ2aeXWHAQg+g5R+CO6oAFM66LQpApktRFkVRPWLQVMJgWgwgAQJgxARBtQjQEONBLEGcoS22+gJekgZAty6GTm0uboh27+wSWS2c4IBGBosx5S3Aixfq5wThjBhaGxxSpMFRuO3BF+YIMgFk50ISmxMB3KaCux8xFx-OAk5BkBdxoA0B0RohxS76XemilxXxaBGBvxWB2aqiTSOS8grS28MgYJKxEJFBvxVB++1erG6B1qHmGMs0KcnxqJc4C+eJp0WxG2hJe0AJw+j85JAMp0KJO2Rhh2p0Fk7GBYgRLgnJmcbw4y+gTJxJLgu+TJ1BN6jgXwicdAgszSCJUCzCwp94WQhx4xbktqcg32ipNOboSOqp54L2mcK8mguIcpeSz0jIw2Jwap1wOJmp90tewMtyPMzJk4cEjp5clE5qWaRx2y9pmcbmFe-pzwq2yxIpdOwZtJQRRcmcVywZK2sQnBLgEYkZjhtmFMmG2GuGACgZzpnQCx6wRpkKOpaIM0YgL2Hpuo4QT2wIZZFZa4SwDRCE3EdpMZlZeZVZ+xhZ2GZ6tZMpFZuZ4QAAPH2eWaoIKfmdMjELrK0cIuCAACpyQsZ0C+BeJiCVbPQtQ0guHUAjGiSgAADU9RE6zWMpQoBMg5h5okFkV5AWRQHwziZ5MgBMDZa6E4xks504C5S5MgxA9ka5G5s0W5WIKMu5wgzQ4It5DSD5LW557Z4QR5lJkFR5d5hQMFT5L5k54pZyckEk5e+JgZjGSItmcMEcck2I2pIYqik67ZXpUahk52w28FqFX8C0ZFRAnG5GM0mC+A0psp8J5p28eKLFzQgZKkQISOg5LF05d2Iwr50loAol+a9OD4PmYQ1otor5yG8YIYr4C04lx2Rpq8ppAliJL0lq0wyylZoidAv05QoA4O2lxyCyFlUS0m-pjIGpbZfqfY9iNF-p5eFSMZ0WhGAVcZwVTleE-qSZ9s7FFFLMWJTICG+FvShFpmRFRScebF6I8Vi0rlWyChyluZdFlaKwjFGQYEalU5JQsVOVnFhS3FUpLWWZ8pACwl6EolPmBlklVVqFpQpESODZXp1VSkNFmEVVGlWQWlfk8Yx5DQelcMBlhpQsxlLVgl5lxEKwVlaVaydlIgDlEM+yJORyR4BEzqfY4qMZnlg6IE-phMCVDFzG-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-M1vNHdvOvwZIlG2zvsfQfzVvScfLWf1s1Z1-wb3iPYX+VLLzZTvBMKPQP3A9fKlKpYXkVjELl3vRQrqVMTXUVOlLLLfRniVD5-QCgenJAWSFQptXYbIM-htQOhgpI8PQbmQRg0BMHC-vgS-xITwonXXdOhg0B+3BgfLsK4-k-vT2-XYF-d0ZEx-Nn3DRQN-WGy-be+vhJeT-QlDr-G-3Ar-T6CvxJ5r8wIm-T9oAOX779vOUtMjo-1P5dNe61QDaNUV-4ERF+gwSAXvyf6hhEB7yMfvf0wjQEdC2yAgRPxkCRxKANeTxMyySLrYKBVATJM-ECB3RNWl-agSk2pAf848DAygEwLIFsC7ounJimQLDbDZROyAsgKgMzh-9DIklO-jxD2Z4DGolA-gQoMEET9MICg1nIlR6ZZIhQ1CUEAAnRYQRWIVAczsFTFTSZi+AfIEDYMFjZM7qJgjgBYN+p+RzsMfewfim6KYYJyRLFwWYKATZ8qUk4PgQQQYBO0uI9g-El4IAHmDTe90BTtyg4jMoIhVALiBxDiFBDLBhHDym1xkB1hagkFGDuCAKF7AihaPdoO7EyGBDwgMHDyjEAkGpA1eHEOoZ+z0FYYDBlIIwdvBqExxshv1JoRdndKtDQAN2cOM2X6FhsUh4QyIeOQjCtDT+BoCMFMKWEwRGBsw9IeOW65UAcB5GJHKsIUo6RgyEHUoYUNo6j8WsZzHKAILqKEdmy49ZQcNiSEsQ1AJgLwObEYCi92eOCb4aiG4DVd4hUXeMlJgsZzDcS-SMqDMP1RzDyOcnBJvEL+HOBuARwnSMCOCruDmM4IyZBlFUhlCOAtHGDuIJgF8VrhrmdQdiNFixIXhbkXgI+yD6UwZiuw1fswJaxkdWhNI8wOlGYHj8cQbIboMAPJDnhf04gSQHyMzC+BoSLLd8BUGmydpwgpQYbBK0MAq8PwFMBgESFBhMiNqQo6TN0EZA7CXomIjGmr26AKjdeErboFejOagB5yAACVUYMAAAguAHACqMAASvOUgAAB5XRsgCBBWlIcv5TiJ7SRHixoRdAVwYkKVJ0jM4DIimNqOZRhtuR8YvrlLznQRiIO3IzoIynTFGgPW2YzIJLw0hloumhHe0Y6JdFujPRPov0QWIHCpjyueY94ImIIKuluRAg+MRqKzBajMxzHEsc4HchkC9ePAoPsWLTAZiNhSQKMYa2NYKCs4lAmvAUn6GVY3kd5N4TfE+HjifhmsFceZFCHMoZxT-YMWoG3GliIxR405pIDiAZAPGDgDaIyAAAM1pVRDUHsjoFbxk-VwrFGoCDAzsn43IPeO0BAh2Od4r-leTxDGiBIoE52EBNIAetJib4g1P4LGjOCuAN4jgF+KAI-jfQSpZsuCF+7NkYJLbHCUBzQk6CWm3KQIPGmQkUtUg1QbILeMrTRJPxJEqqL+MtJ-kPxmEtiTlF-EpRyQqiC-pnHsidBT4svMqmnk97C9DI6cHEkhLQk69iJpnHCVOTfZk9UefYUoM2WEkMBRJbAU+I303AsVdJ+k0+BGCu6GRjIffaKiy1MliTGJzYRKhUCn6hALkVnQgJRBQlHj7kQkwICJIcmzjWwhiVXvzEJiRIXwhiceO7DQnzQIp24exLCgLD99-qXfALM+kD7+8HBYfbykeJSmSSMang0xp+wKGERUR4YfyXpIcnRCi+pfLUAQhB4186BMuYYdOELABZSg9kgyWRwtTpsup5khnI6ACzNBSpxgFKQDRir9TPOugjMr0wMFMFE4fwPwRSy9I+TQRVIewZlPj6h8s4bZWKQkOojkhXwP9GUZ+ClBeDUuNhN0A4HPJpCQx+fLKTEIL4yl-Mz-GIGuDykztGpHvMKWuF-CEY8AkIIGSGGfTPSxAW05qo4L2mdA8pLqZjCdI7BTYvQD0+PqYyT63TYRsU1EQ0BqkAxYh2MooMEO3DWTfB+0j6QdOB6vdDELkjtArE1jkz9pJwlbIDOBkFSBIZw8oRcP9RpS2ZqGWaQszJkwyKZjqSiaqzoAYythMxBcHeBBExU8heI84TNxqocyCRSsmZC0CqFZBCA0ssNv6SGEtDoCM7Gqh0JJpgwFp1AJadrOgYyzgq+ssKYQBX4wcTZ803iotMeAOzoGbIeMtXTABAzIQQw5strLja3ZSeIw0kDBxunPk7pXEBYSfyOELDSQawooJHNxCwjuucct6dMG66JyCZjSCKqJxVlFCVej8W8XzGbG6dWSMbZsRyVvEE96AmCOkXTFAmuld8zclVm5Bgkfpm5LIpiqkX2BMSuOs3ajmwFEm+AYUcKfHhB13wRg25nIlwJk3NjcSxooEgEfCIuxhDpxoAdEb9SsEWNMEPWJeYyGokQxaJDoeiZrGblfppMKciEbEnlQTgb5sIwERvMjEEy3gDc3tvvO7TNyk50wbeYkKgnXTxZUcnEcK3xEVDP2xIqNoqlk5kACYnckEuNGqKMAf5AWUkZIBuHqCb5OImPDaIrEMB3RlkAADKqN-RDlCqi+L9KSBTxoE3mBeIpkxj6Rao1sUkGTENi1RQOWhSwpsSidCxjYLhe3K5EDgcxS83mK6XwWEKSF4AesSBEbGiLuFrpMgVfwWYFIOx6grsZqMgJ9iCZC+W8UOIUHwh9uailgX6wIlsc9Fw4kgXHgXlcL6Fssllkot4FLiEpt4xOneQXmxxQJjk9CXYveoFITxntWxVOMjEUy551IKpth3hFwi4F68w8QdJ5FCClSjixcbGiopXVe6hkJRfMywyyDPqY4sMS2OflxLgySw5QTYtvG8wilBBS8dsQCqiDdBQWWBbh2iW4cZxCSniLvKpCtBcGQIdKMjjx4tKB6okGBfhxOpXSdsMfbpSkgraJxJomE-DoMraWiDmiUy9TNSUoCVL4RdsOpdoOLmh8KgFMB0NqN05Kt2RuwtNrVnDhq9DRVi7lB8GCDc9mxO0+MWXIHH0BK0b3eMUcoKXxSKQeovwIyA0U9jICPylKeeHZatFFMBS9pfY0KTGLeR3QfsROPoD6KTFYyooKVBxBIqdxqK8flsUMjvtq5Z-ROhCuokgRoVogymeX3uQBpqKSsQIEvOeXMLu560kqMEsZDvz1wvbS+UdJCnnyDlRyzMZdLS4CB9RQIIFbiF7HBKO+4KxIGSsZVkDYVNceFawMRWiRQJuKu6OisKCYq1VuijgJqoUD4q+wRE28dwGUGkrFMMEylS92pXEQA0NpeecICwwwTlYBS15cipsQsivFPyo2WnEEDOql5HqncRBwl7urQVMJdnIGvDXlz7k9yhldCuyYvKI1hoCxn9CbFvL3gjIfBVWI9FejfR0i8kDmtdF5raxZCwlZmvNXZ101Z46hoApcDggMQ7rSNdYsDVeKWV5IeNWxk-FJrmVTEq+WmrYAuqKl2ah0QQuIWkK-IEiideWqXArziVvdGtbQvizMZG1XgZtVDzpIrUTSvsNBucWFi0DxlRHYNgesEU2obqu6shNp0PWn5G+PpR1ReClRvA91KIJXoQBvWJTBpfyD1svFWrBQX1yYa9cIJPXfqW1LxC9f+qvWnqlSd6s9Y+sAwpAANGyoDUqQsmgbfSceGoGIFGhYYFl0GwjrBo9ZrdHOznIeChoiChlmpupOnKesSrPr8ADE59WQluQ7KTFunQ5riCY3TEuN6zXWS9TIGid6NDEmmCBB43IaxN6lVCiMqiW2oxNBJJDZJrwQNJWN4-GPJivBA0ckK0muBZSSE02JKFcef9Qxt3GIbmNSy7QSyI43oJTN0xSDa+rEEVUJBX-aQXQln6DAFUjShZbajs2mB90Nm3jeZrY2QQGgygozcJtFgIbDACmvzVFuY2pIlN0EFTUIKEzqb6OFkbTbh2NqIbjNsTbZFhpJi1JAtqmpJfOKcWpLtweQ15AQgNCa1CYnmqJflr6JNKCY-XX+dBSuEYLyRJit6r9TXQJb-V6CpWF1t5HZ92CErYbMFsJn8bdl2adTYxy031adNGaYgNhq0C5asqFMEwPwCF46dumQWHXhcyuY3NTKJzRKsRpO69JCt8S0QUWD8qlaUl2IRSJVsUiUwttJCA3irl7gkIFK52jbicUZght1KB0trQYBzDmdQ6qIqymDr9XkY1kWPFwBxBkzS1PIUrAhGNsKDghftznCkmNwND9UOtQ29pT1sSHNEJtT26bWxs5Tqasdm3fHulsW2ZbuANOjzDQ3PA3B1RJtQ2oyAACcJwR3OxFNpE6b1-OkKILqUX+xqsHwDNMKre4iDV0+Vb6YYhcA1lHxwqwoJzoJiwdYOFkNALru1XOU7VhkDXXANXT5TYgGu9pSTQ2gaCH+TMFwF5H+IhgJp6ugXYbUt0S7pwtydndZtF2G0wlnQUeePILBvgIEDyorYktyEU7x+VO-gBCAD2G0g9dO4ZQzqEaCAR5CepgBPPW3JCHubgZrW+C9b8BVwZAX6APAI66iLGrQRkNV1z10Kd2Be0qKayOCcdtUhiCxKQFL2CMc2qkROBwGXzCrjd4ITyF5CG4tR8O7oQvQIDkQx0EQMO1iK7oJgycFlrQY4J3ztUMRXw0Kzntz2dVSgV9wqiXq6tIC1rfh0ap5R+n30pTXw7ezvWvG71AhwQve7-GrvN0L6IQw+lHQUoDW89p9w+3yGvv8QRAAaPM6YIPo-0o7x9OIlqOAc8j66YgFugQZkvnHOLEt6SqrdUiX1RLsZH2o3mNFaAzjzV0O5EonRlhLCMteHRVgTswXdbnhFEnSpuqCIXqhAhgeyNVmqClRmJ0mKvUCBr2lcmR17dg-wCb0t6K96XGMiKPIPkdKDMpMkUTtoP1rj16-f0o2Qp5g58ALGEMS1kCHkApI-4S9t6wWU4H60JCfAxm2J2iw7YgpcHSQduUTEcS9g5aaOFMwbg8JS4QWeajg24yUJKMkvjBrpxeCPWuMjjF4NQ0M4AjYGliNEKhnfZGZOQmKlWE8CxG3BERoaPzMGDuGCwa0mKs2UmIOGMjfIWGRFFH357YOfw-QG9IAA6WAH1e2iyRmwZAwQP1hNuDqn05Q0EbXaJBv28VJ5JwYowstKNS9yjz-KozUdclMAqEDR59kyPdK8BVwdsHoM2VmOgAAAXpuBiBVG5mtRrDPUcaNWGWjKx1nIUg6PggujxgQqFBGvRMH3grB6cKUa2PjGs4uxpen+zlo6GOiSFZQEhVo6TBYOToPAH0aiV3GxjOxqY88Ydqkk3jokFgB8a+OcdjjvkIAA')">function make_binding(variable, value) {
    return pair(variable, value);
}
function binding_variable(binding) {
    return head(binding);
}
function binding_value(binding) {
    return tail(binding);
}
function binding_in_frame(variable, frame) {
    return assoc(variable, frame);
}
function extend(variable, value, frame) {
    return pair(make_binding(variable, value), frame);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.81" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.81">Exercise 4.81 </a></b> 
  
      Louis Reasoner wonders why the
      
	<span style="color:green"><kbd>simple-query</kbd></span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      and <kbd>disjoin</kbd>
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>) are implemented using
      
	<span style="color:green">
	  explicit <kbd>delay</kbd>
	  operations, 
	</span>
	<span style="color:blue">delayed expressions</span>
      
      rather than being defined as follows:
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append (find-assertions query-pattern frame)
                    (apply-rules query-pattern frame)))
   frame-stream))

(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave
       (qeval (first-disjunct disjuncts) frame-stream)
       (disjoin (rest-disjuncts disjuncts) frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
              frame =>
                 stream_append(find_assertions(query_pattern, frame),
                               apply_rules(query_pattern, frame)),
              frame_stream);
}
function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave(evaluate_query(first_disjunct(disjuncts), 
                                    frame_stream),
                     disjoin(rest_disjuncts(disjuncts), frame_stream));
}</pre></div></div></td></tr></table>
      Can you give examples of queries where these simpler definitions would
      lead to undesirable behavior?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_2_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_2_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.82" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.82">Exercise 4.82 </a></b> 
  
      Why do <kbd>disjoin</kbd> and
      
	<span style="color:green"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      interleave the streams rather than simply append them?  Give examples that
      illustrate why interleaving works better.  (Hint: Why did we use
      <kbd>interleave</kbd> in
      section&nbsp;<REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>?)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_3_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_3_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.83" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.83">Exercise 4.83 </a></b> 
  
    Why does
    
      <span style="color:green"><kbd>flatten-stream</kbd></span>
      <span style="color:blue"><kbd>flatten_stream</kbd>
      </span>
    
    use
    
      <span style="color:green"><kbd>delay</kbd> explicitly?</span>
      <span style="color:blue">a delayed expression in its body?</span>
    
    What would be wrong with defining it as follows:
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave
       (stream-car stream)
       (flatten-stream (stream-cdr stream)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave(head(stream),
                     flatten_stream(stream_tail(stream)));
}</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_4_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_4_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.84" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.84">Exercise 4.84 </a></b> 
  
      
      Alyssa P. Hacker proposes to use a simpler version of
      
	<span style="color:green"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      in <kbd>negate</kbd>,
      
	<span style="color:green"><kbd>lisp-value</kbd>,</span>
	<span style="color:blue"><kbd>javascript_value</kbd>,
	</span>
      
      and
      
	<span style="color:green"><kbd>find-assertions</kbd>.</span>
	<span style="color:blue"><kbd>find_assertions</kbd>.
	</span>
      
      She observes that the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that is mapped over the frame stream in these cases always produces either
      the empty stream or a singleton stream, so no interleaving is needed when
      combining these streams.
      <OL type="a">
	<LI>
          Fill in the missing expressions in Alyssa's program.
          <kbd class='snippet'>function simple_stream_flatmap(fun, s) {
    return simple_flatten(stream_map(fun, s));
}
function simple_flatten(stream) {
    return stream_map($\langle ?? \rangle$,
                      stream_filter($\langle ?? \rangle$, stream));
}</kbd>
	</LI>
	<LI>
          Does the query system's behavior change if we change it in this
	  way?
	</LI>
      </OL>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_5_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_5_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.85" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.85">Exercise 4.85 </a></b> 
  
      
      
      
      Implement for the query language a
      
	<span style="color:green">new special form called
	<kbd>unique</kbd>.</span>
	<span style="color:blue">syntactic form called
	<kbd>unique</kbd>.</span>
      
      
	<span style="color:green">
	  <kbd>Unique</kbd>
	</span>
	<span style="color:blue">
	  Applictions of <kbd>unique</kbd>
	</span>
      
      should succeed if there is precisely one item in the data base satisfying
      a specified query.  For example,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "wizard")))</pre></div></div></td></tr></table>
      should print the one-item stream
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job (Bitdiddle Ben) (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(list("Bitdiddle", "Ben"), list("computer", "wizard")))</pre></div></div></td></tr></table>
      since Ben is the only computer wizard, and
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer programmer)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "programmer")))</pre></div></div></td></tr></table>
      should print the empty stream, since there is more than one computer
      programmer.  Moreover,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(and (job ?x ?j) (unique (job ?anyone ?j)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
and(job(x, j), unique(job(anyone, j)))</pre></div></div></td></tr></table>
      should list all the jobs that are filled by only one person, and the
      people who fill them.
      <p></p>
      There are two parts to implementing <kbd>unique</kbd>.
      The first is to write a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that handles this
      
	<span style="color:green">special</span>
	<span style="color:blue">syntactic</span>
      
      form, and the second is to make
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      dispatch to that
      
	<span style="color:green">procedure.</span>
	<span style="color:blue">function.</span>
      
      The second part is trivial, since
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      does its dispatching in a data-directed way.  If your
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      is called
      
	<span style="color:green"><kbd>uniquely-asserted</kbd>,</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>,
	</span>
      
      all you need to do is
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'unique 'qeval uniquely-asserted)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
put("unique", "evaluate_query", uniquely_asserted);</pre></div></div></td></tr></table>
      and
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      will dispatch to this
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      for every query whose
      <kbd>type</kbd>
      
	<span style="color:green">(<kbd>car</kbd>)</span>
	<span style="color:blue">(<kbd>head</kbd>)</span>
      
      is the
      
	<span style="color:green">symbol</span>
	<span style="color:blue">string</span>
      
      
	<span style="color:green"><kbd>unique</kbd></span>
	<span style="color:blue"><kbd>"unique"</kbd></span>
      
      <p></p>
      The real problem is to write the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>uniquely-asserted</kbd>.</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>.
	</span>
      
      This should take as input the <kbd>contents</kbd>
      
	<span style="color:green">(<kbd>cdr</kbd>)</span>
	<span style="color:blue">(<kbd>tail</kbd>)</span>
      
      of the <kbd>unique</kbd> query, together with a stream
      of frames.  For each frame in the stream, it should use
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to find the stream of all extensions to the frame that satisfy the given
      query.  Any stream that does not have exactly one item in it should be
      eliminated.  The remaining streams should be passed back to be accumulated
      into one big stream that is the result of the
      <kbd>unique</kbd> query.  This is similar to the
      implementation of the <kbd>not</kbd>
      
	<span style="color:green">special</span>
	<span style="color:blue">syntactic</span>
      
      form.
      <p></p>
      Test your implementation by forming a query that lists all people who
      supervise precisely one person.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_6_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_6_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.86" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.86">Exercise 4.86 </a></b> 
  
      
      
      
      Our implementation of <kbd>and</kbd> as a series
      combination of queries
      
	<span style="color:green">
	  (figure&nbsp;<REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>)
	</span>
	<span style="color:blue">
	  (figure&nbsp;<REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.10" href="./4.4.2.html#fig_4.10">4.10</a></REF>)
	</span>
      
      is
      elegant, but it is inefficient because in processing the second query of
      the <kbd>and</kbd> we must scan the data base for each
      frame produced by the first query.  If the data base has
      $N$ elements, and a typical query produces a
      number of output frames proportional to $N$
      (say $N/k$), then scanning the data base for
      each frame produced by the first query will require
      $N^{2}/k$ calls to the pattern matcher.
      Another approach would be to process the two clauses of the
      <kbd>and</kbd> separately, then look for all pairs of
      output frames that are compatible.  If each query produces
      $N/k$ output frames, then this means that we
      must perform $N^{2}/k^{2}$ compatibility
      checks—a factor of $k$ fewer than the
      number of matches required in our current  method.
      <p></p>
      Devise an implementation of <kbd>and</kbd> that uses
      this strategy.  You  must implement a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that takes two frames as inputs, checks whether the bindings in the
      frames are compatible, and, if so, produces a frame that merges the two
      sets of bindings.  This operation is similar to unification.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_7_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_7_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.87" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.87">Exercise 4.87 </a></b> 
  
      
      
      
      
      
      In section&nbsp;<REF NAME="sec:math-logic"><a class="superscript" id="4.4.4-sec-link-4.4.3" href="./4.4.3.html">4.4.3</a></REF> we saw that
      <kbd>not</kbd> and
      
	<span style="color:green"><kbd>lisp-value</kbd></span>
	<span style="color:blue"><kbd>javascript_value</kbd>
	</span>
      
      can cause the query language to give <QUOTE>wrong</QUOTE> answers if
      these filtering operations are applied to frames in which variables
      are unbound.  Devise a way to fix this shortcoming.  One idea is to
      perform the filtering in a <QUOTE>delayed</QUOTE> manner by appending to
      the frame a <QUOTE>promise</QUOTE> to filter that is fulfilled only when
      enough variables have been bound to make the operation possible.  We could
      wait to perform filtering until all other operations have been performed.
      However, for efficiency's sake, we would like to perform filtering
      as soon as possible so as to cut down on the number of intermediate frames
      generated.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_8_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_8_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.88" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.88">Exercise 4.88 </a></b> 
  
      
      Redesign the query language as a nondeterministic program to be
      implemented using the evaluator of
      section&nbsp;<REF NAME="sec:nondeterministic-evaluation"><a class="superscript" id="4.4.4-sec-link-4.3" href="./4.3.html">4.3</a></REF>, rather than as a stream
      process.  In this approach, each query will produce a single answer
      (rather than the stream of all answers) and the user can type
      
	<span style="color:green"><kbd>try-again</kbd></span>
	<span style="color:blue"><kbd>try_again</kbd>
	</span>
      
      to see more answers.  You should find that much of the mechanism we built
      in this section is subsumed by nondeterministic search and backtracking.
      You will probably also find, however, that your new query language has
      subtle differences in behavior from the one implemented here.  Can you
      find examples that illustrate this difference?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_9_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_9_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>



    
    <div class="permalink">
    <a name="ex_4.89" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.89">Exercise 4.89 </a></b> 
  
      
      
      When we implemented the
      
	<span style="color:green">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator in section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF>, we saw how to use
      local environments to avoid name conflicts between the parameters of
      
	<span style="color:green">procedures.</span>
	<span style="color:blue">functions.</span>
      
      For example, in evaluating
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (square x)
  (* x x))

(define (sum-of-squares x y)
  (+ (square x) (square y)))

(sum-of-squares 3 4)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM4CO+AhgE4CmAFAB4CUoA3llDDQ7UvhY0uoAFSguAbiwBfPETJUatfAFsA+pVx6GzdrW4AaUAE8+gkaLbjJdRq069QAalenOtpVVtfUNjNzMOAGYrFB4FIA')">function square(x) {
    return x * x;
}
function sum_of_squares(x, y) {
    return square(x) + square(y);
}
sum_of_squares(3, 4);
</pre></div></div></td></tr></table>
      there is no confusion between the <kbd>x</kbd> in
      <kbd>square</kbd> and the <kbd>x</kbd>
      in
      
	<span style="color:green"><kbd>sum-of-squares</kbd>,</span>
	<span style="color:blue"><kbd>sum_of_squares</kbd>,
	</span>
      
      because we evaluate the body of each
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      in an environment that is specially constructed to contain
      bindings for the local
      
	<span style="color:green">variables.</span>
	<span style="color:blue">names.</span>
      
      In the query system, we used a
      different strategy to avoid name conflicts in applying rules.  Each
      time we apply a rule we rename the variables with new names that are
      guaranteed to be unique.  The analogous strategy for the
      
	<span style="color:green">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator would be to do away with local environments and simply
      rename the variables in the body of a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      each time we apply the
      
	<span style="color:green">procedure.</span>
	<span style="color:blue">function.</span>
      
      <p></p>
      
      
      
      
      Implement for the query language a rule-application method that uses
      environments rather than renaming.  See if you can build on your
      environment structure to create constructs in the query language for
      dealing with large systems, such as the rule analog of
      block-structured
      
	<span style="color:green">procedures.</span>
      <span style="color:blue">functions.</span>
      Can you relate any of this to the problem of making deductions in a
      context (e.g., <QUOTE>If I supposed that $P$
      were true, then I would be able to deduce $A$
      and $B$.</QUOTE>) as a method of problem
      solving?  (This problem is open-ended.  A good answer is probably worth
      a Ph.D.)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_10_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_10_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

  
<hr>

    <div class='footnote'>
      <a class='footnote-number' id='footnote-1' href='#footnote-link-1' >[1] </a>
    <FOOTNOTE>
    In general,
      unifying
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      with an expression involving
      
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      would require our being able to find a fixed point of the equation
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $ = \textit{expression involving}$
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      It is sometimes possible to syntactically form an expression that appears
      to be the solution.  For example,
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $=$
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      seems to have the fixed point
      
	<span style="color:green"><kbd>(f (f (f </kbd>…
	<kbd>)))</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>list("f", list("f", list("f",</kbd>
	  …
	  <kbd>)))</kbd>,
	</span>
      
      which we can produce by beginning with the expression
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and repeatedly substituting
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      for
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Unfortunately, not every such equation has a meaningful fixed point.  The
      issues that arise here are similar to the issues of manipulating 
      
      infinite series in mathematics.  For example, we know that 2 is the
      solution to the equation $y = 1 + y/2$.
      Beginning with the expression $1 + y/2$ and
      repeatedly substituting $1 + y/2$ for
      $y$ gives
      
        \[ 2 = y = 1 + y/2 = 1 + (1+y/2)/2 = 1 + 1/2 + y/4 =\cdots, \]
      
      which leads to
      
        \[ 2 = 1 + 1/2 + 1/4 + 1/8 +\cdots. \]
      
      However, if we try the same manipulation beginning with the
      observation that $-1$ is the solution to the
      equation $y = 1 + 2y$, we obtain
      
        \[ -1 = y = 1 + 2y = 1 + 2(1 + 2y) = 1 + 2 + 4y = \cdots, \]
      
      which leads to 
      
        \[ -1 = 1 + 2 + 4 + 8 +\cdots. \]
      
      Although the formal manipulations used in deriving these two equations
      are identical, the first result is a valid assertion about infinite
      series but the second is not.  Similarly, for our unification results,
      reasoning with an arbitrary syntactically constructed expression may
      lead to errors.
    </FOOTNOTE></div>
    
    
    <div class='footnote'><span style="color:green">
      <a class='footnote-number' id='footnote-2' href='#footnote-link-2' style="color:green">[2] </a>
    <FOOTNOTE>
    Most Lisp systems give the user
	  the ability to modify the ordinary <kbd>read</kbd>
	  procedure to perform such transformations by defining 
	  
	  
	  
	  
	  <EM>reader macro characters</EM>.  Quoted
	  expressions are already handled in this way: The reader automatically
	  translates <kbd>'expression</kbd> into
	  <kbd>(quote expression)</kbd> before the
	  evaluator sees it.  We could arrange for
	  <kbd>?expression</kbd> to be transformed into
	  <kbd>(? expression)</kbd> in the same way; however,
	  for the sake of clarity we have included the transformation
	  procedure here explicitly.
	  <p></p>
	  
	  <kbd>Expand-question-mark</kbd> and
	  <kbd>contract-question-mark</kbd> use several
	  procedures with <kbd>string</kbd> in their names.
	  These are Scheme primitives.
    </FOOTNOTE></span></div>
    
    
</div></div>

    <div class='nav'>
  
        <a class='btn btn-secondary btn-nav' href='./4.4.3.html'>&lt; Previous</a>
    
    <div style='flex-grow: 1;'></div>
  
        <a class='btn btn-secondary btn-nav' id='97' href='./5.html'>Next &gt;</a>
      </div>
    <div class='chapter_sign'>
      4.4.4&nbsp;&nbsp;
    Implementing the Query System
  
    </div>
    <script> var chapter_id = 96; </script>
    <script> var chapter_path = "chapters/4.4.4.html"; </script>
    <div class='next-page'></div>
    </div>
    </div> <!-- /.container -->
    </body></html>