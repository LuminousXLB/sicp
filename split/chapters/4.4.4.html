<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <!-- Global site tag (gtag.js) - Google Analytics - START -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-156801664-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-156801664-1');
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics - END -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="description" content="4.4.4&nbsp;&nbsp;
    Implementing the Query System
  " />
    <title>
      4.4.4&nbsp;&nbsp;
    Implementing the Query System
  
    </title>
    
  <meta name="csrf-param" content="authenticity_token" />
  <meta name="csrf-token" content="EMTEijVc2kiiKUH4nYH0lQG3pLPfMowQ/Stg//t6DCo0e5pWMQwamnTvIdmVZqY/MqSx2IYYE+2bpNV6UNSMwQ==" />

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    -->
    <link href="https://fonts.googleapis.com/css?family=Inconsolata&display?swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans|Droid+Serif" rel="stylesheet">
    <link rel="stylesheet" media="all" href="../assets/stylesheet.css" />

   <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon.ico" />

<!--    <link rel="shortcut icon" type="image/png" href="../images/lambda.png" /> -->

    <!-- for support of progressive web app, see github README, DISABLED!
    <link rel="manifest" href="../static/manifest.json">
    -->

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" 
		     	  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	          crossorigin="anonymous">
    </script> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script> -->
    <script type="text/javascript" 
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script>
   <!--  <script type="text/javascript" 
      src="../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script> -->
  
    <script src="../assets/application.js"></script>
  
    <!-- Rendering inline LaTeX -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true,
          jax: ["input/TeX","output/HTML-CSS"]
        }
      });
    </script>
    <!--<script src="/mathjax/MathJax.js?config=TeX-AMS_HTML-full.js" type="text/javascript"></script>-->
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body>

    
    <!-- support for progressive web app, see README, DISABLED
    <script>
      if ('serviceWorker' in navigator && !navigator.serviceWorker.controller) {
          navigator.serviceWorker.register("../sw.js").then(function(reg) {
              console.log("Service worker has been registered for scope: " + reg.scope);
          });
      }
    </script>
    -->

     <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top justify-content-between">
       <button id="btn" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#nav-sidebar" aria-controls="nav-sidebar" aria-expanded="false" aria-label="Toggle navigation" title="navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <span class="navbar-brand-short"><a title="Go back to front page" href="../index.html" class="gray">SICP &mdash; Scheme/JS</a></span>
       <span class="navbar-brand-long" ><a title="Go back to front page" href="../index.html" class="gray">Structure and Interpretation of Computer Programs &mdash; Comparison Edition</a></span>

       <!-- edit the search engine by visiting: 
	    https://cse.google.com/cse/setup/basic?cx=015760785273492757659:nc_tznrzlsg 
	       -->
       <form class="form-inline ml-auto" id="xxx">
         <div id="search-box">
	         <script>
	           (function() {
	               var cx = "015760785273492757659:nc_tznrzlsg";
	               var gcse = document.createElement("script");
	               gcse.type = "text/javascript";
	               gcse.async = true;
	               gcse.src = "https://cse.google.com/cse.js?cx=" + cx;
	               var s = document.getElementsByTagName("script")[0];
	               s.parentNode.insertBefore(gcse, s);
	           })();
	           window.onload = function()
	           { 
	               var searchBox =  document.getElementById("gsc-i-id1");
	               searchBox.placeholder= "search web edition";
	               searchBox.title= "search web edition";
	           }
	         </script>
	         <gcse:search></gcse:search>
         </div>
       </form>
       <span class="navbar-brand-short">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">S</a>
       </span>
       <span class="navbar-brand-long">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">Source</a>
       </span>
     </nav>
     
     <div class="container scroll">

            
        <div class="collapse" id="nav-sidebar" role="tablist" aria-multiselectable="true">
        <!-- insert a dummy entry, to give one extra line of space -->
        <a class="navbar-brand" href="index.html">&nbsp;</a>
    
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-1">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-1" aria-expanded="false" aria-controls="sidebar-collapse-1">
                <a href="./foreword.html"> 
        Foreword
    </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-2">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-2" aria-expanded="false" aria-controls="sidebar-collapse-2">
                <a href="./prefaces.html"> 
        Prefaces
    </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-3">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-3" aria-expanded="false" aria-controls="sidebar-collapse-3">
                <a href="./acknowledgements.html"> 
Acknowledgments
    </a>
              </span>
            </h5>
          </div>
        </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-4">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.html">1 
    Building Abstractions with 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-4" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-5">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.1.html">1.1 The Elements of Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-5" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-6">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-6" aria-expanded="false" aria-controls="sidebar-collapse-6">
                <a href="./1.1.1.html"> 1.1.1 Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-7">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-7" aria-expanded="false" aria-controls="sidebar-collapse-7">
                <a href="./1.1.2.html"> 1.1.2 Naming and the Environment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-8">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-8" aria-expanded="false" aria-controls="sidebar-collapse-8">
                <a href="./1.1.3.html"> 1.1.3 
    Evaluating
    
      <span style="color:green">Combinations</span>
      <span style="color:blue">Operator Combinations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-9">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-9" aria-expanded="false" aria-controls="sidebar-collapse-9">
                <a href="./1.1.4.html"> 1.1.4 
    Compound <span style="color:green">Procedures</span>
    <span style="color:blue">Functions</span>
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-10">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-10" aria-expanded="false" aria-controls="sidebar-collapse-10">
                <a href="./1.1.5.html"> 1.1.5 
    The Substitution Model for 
    
      <span style="color:green">
        Procedure
      </span>
      <span style="color:blue">
        Function
      </span>
    
    Application
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-11">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-11" aria-expanded="false" aria-controls="sidebar-collapse-11">
                <a href="./1.1.6.html"> 1.1.6 
    Conditional Expressions and Predicates
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-12">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-12" aria-expanded="false" aria-controls="sidebar-collapse-12">
                <a href="./1.1.7.html"> 1.1.7 Example: Square Roots by Newton's Method</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-13">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-13" aria-expanded="false" aria-controls="sidebar-collapse-13">
                <a href="./1.1.8.html"> 1.1.8 
    
      <span style="color:green">
        Procedures
      </span>
      <span style="color:blue">
        Functions
      </span>
    
    as Black-Box Abstractions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-14">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.2.html">1.2 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    and the Processes They Generate
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-14" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-15">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-15" aria-expanded="false" aria-controls="sidebar-collapse-15">
                <a href="./1.2.1.html"> 1.2.1 Linear Recursion and Iteration</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-16">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-16" aria-expanded="false" aria-controls="sidebar-collapse-16">
                <a href="./1.2.2.html"> 1.2.2 Tree Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-17">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-17" aria-expanded="false" aria-controls="sidebar-collapse-17">
                <a href="./1.2.3.html"> 1.2.3 Orders of Growth</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-18">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-18" aria-expanded="false" aria-controls="sidebar-collapse-18">
                <a href="./1.2.4.html"> 1.2.4 Exponentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-19">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-19" aria-expanded="false" aria-controls="sidebar-collapse-19">
                <a href="./1.2.5.html"> 1.2.5 Greatest Common Divisors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-20">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-20" aria-expanded="false" aria-controls="sidebar-collapse-20">
                <a href="./1.2.6.html"> 1.2.6 Example: Testing for Primality</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-21">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.3.html">1.3 
        Formulating Abstractions with Higher-Order 
        
	  <span style="color:green">Procedures</span>
	  <span style="color:blue">Functions</span>
	
      </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-21" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-22">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-22" aria-expanded="false" aria-controls="sidebar-collapse-22">
                <a href="./1.3.1.html"> 1.3.1 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    as Arguments
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-23">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-23" aria-expanded="false" aria-controls="sidebar-collapse-23">
                <a href="./1.3.2.html"> 1.3.2 
    
      <span style="color:green">Constructing Procedures using Lambda</span>
      <span style="color:blue">Constructing Functions using Lambda Expressions
      </span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-24">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-24" aria-expanded="false" aria-controls="sidebar-collapse-24">
                <a href="./1.3.3.html"> 1.3.3 
    
      <span style="color:green">Procedures</span>
    <span style="color:blue">Functions</span>
    as General Methods
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-25">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-25" aria-expanded="false" aria-controls="sidebar-collapse-25">
                <a href="./1.3.4.html"> 1.3.4 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    as Returned Values
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-26">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.html">2 Building Abstractions with Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-26" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-27">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.1.html">2.1 Introduction to Data Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-27" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-28">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-28" aria-expanded="false" aria-controls="sidebar-collapse-28">
                <a href="./2.1.1.html"> 2.1.1 
    Example: Arithmetic Operations for Rational Numbers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-29">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-29" aria-expanded="false" aria-controls="sidebar-collapse-29">
                <a href="./2.1.2.html"> 2.1.2 
    Abstraction Barriers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-30">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-30" aria-expanded="false" aria-controls="sidebar-collapse-30">
                <a href="./2.1.3.html"> 2.1.3 
    What Is Meant by Data?
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-31">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-31" aria-expanded="false" aria-controls="sidebar-collapse-31">
                <a href="./2.1.4.html"> 2.1.4 
    Extended Exercise: Interval Arithmetic
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-32">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.2.html">2.2 Hierarchical Data and the Closure Property</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-32" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-33">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-33" aria-expanded="false" aria-controls="sidebar-collapse-33">
                <a href="./2.2.1.html"> 2.2.1 
    Representing Sequences
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-34">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-34" aria-expanded="false" aria-controls="sidebar-collapse-34">
                <a href="./2.2.2.html"> 2.2.2 
    Hierarchical Structures
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-35">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-35" aria-expanded="false" aria-controls="sidebar-collapse-35">
                <a href="./2.2.3.html"> 2.2.3 
    Sequences as Conventional Interfaces
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-36">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-36" aria-expanded="false" aria-controls="sidebar-collapse-36">
                <a href="./2.2.4.html"> 2.2.4 
    Example: A Picture Language
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-37">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.3.html">2.3 Symbolic Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-37" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-38">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-38" aria-expanded="false" aria-controls="sidebar-collapse-38">
                <a href="./2.3.1.html"> 2.3.1 
    
      <span style="color:green">Quotation</span>
      <span style="color:blue">Strings</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-39">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-39" aria-expanded="false" aria-controls="sidebar-collapse-39">
                <a href="./2.3.2.html"> 2.3.2 
    Example: Symbolic Differentiation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-40">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-40" aria-expanded="false" aria-controls="sidebar-collapse-40">
                <a href="./2.3.3.html"> 2.3.3 
    Example: Representing Sets
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-41">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-41" aria-expanded="false" aria-controls="sidebar-collapse-41">
                <a href="./2.3.4.html"> 2.3.4 
    Example: Huffman Encoding Trees
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-42">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.4.html">2.4 Multiple Representations for Abstract Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-42" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-43">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-43" aria-expanded="false" aria-controls="sidebar-collapse-43">
                <a href="./2.4.1.html"> 2.4.1 
    Representations for Complex Numbers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-44">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-44" aria-expanded="false" aria-controls="sidebar-collapse-44">
                <a href="./2.4.2.html"> 2.4.2 
    Tagged data
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-45">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-45" aria-expanded="false" aria-controls="sidebar-collapse-45">
                <a href="./2.4.3.html"> 2.4.3 
    Data-Directed Programming and Additivity
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-46">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.5.html">2.5 Systems with Generic Operations</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-46" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-47">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-47" aria-expanded="false" aria-controls="sidebar-collapse-47">
                <a href="./2.5.1.html"> 2.5.1 
    Generic Arithmetic Operations
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-48">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-48" aria-expanded="false" aria-controls="sidebar-collapse-48">
                <a href="./2.5.2.html"> 2.5.2 
    Combining Data of Different Types
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-49">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-49" aria-expanded="false" aria-controls="sidebar-collapse-49">
                <a href="./2.5.3.html"> 2.5.3 
    Example: Symbolic Algebra
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-50">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.html">3 Modularity, Objects, and State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-50" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-51">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.1.html">3.1 Assignment and Local State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-51" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-52">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-52" aria-expanded="false" aria-controls="sidebar-collapse-52">
                <a href="./3.1.1.html"> 3.1.1 
    Local State Variables
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-53">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-53" aria-expanded="false" aria-controls="sidebar-collapse-53">
                <a href="./3.1.2.html"> 3.1.2 
    The Benefits of Introducing Assignment
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-54">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-54" aria-expanded="false" aria-controls="sidebar-collapse-54">
                <a href="./3.1.3.html"> 3.1.3 
    The Costs of Introducing Assignment
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-55">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.2.html">3.2 The Environment Model of Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-55" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-56">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-56" aria-expanded="false" aria-controls="sidebar-collapse-56">
                <a href="./3.2.1.html"> 3.2.1 
    The Rules for Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-57">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-57" aria-expanded="false" aria-controls="sidebar-collapse-57">
                <a href="./3.2.2.html"> 3.2.2 
    Applying Simple
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-58">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-58" aria-expanded="false" aria-controls="sidebar-collapse-58">
                <a href="./3.2.3.html"> 3.2.3 
    Frames as the Repository of Local State
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-59">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-59" aria-expanded="false" aria-controls="sidebar-collapse-59">
                <a href="./3.2.4.html"> 3.2.4 
    Internal
    
      <span style="color:green">Definitions</span>
      <span style="color:blue">Declarations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-60">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.3.html">3.3 Modeling with Mutable Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-60" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-61">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-61" aria-expanded="false" aria-controls="sidebar-collapse-61">
                <a href="./3.3.1.html"> 3.3.1 
    Mutable List Structure
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-62">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-62" aria-expanded="false" aria-controls="sidebar-collapse-62">
                <a href="./3.3.2.html"> 3.3.2 
    Representing Queues
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-63">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-63" aria-expanded="false" aria-controls="sidebar-collapse-63">
                <a href="./3.3.3.html"> 3.3.3 
    Representing Tables
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-64">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-64" aria-expanded="false" aria-controls="sidebar-collapse-64">
                <a href="./3.3.4.html"> 3.3.4 
    A Simulator for Digital Circuits
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-65">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-65" aria-expanded="false" aria-controls="sidebar-collapse-65">
                <a href="./3.3.5.html"> 3.3.5 
    Propagation of Constraints
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-66">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.4.html">3.4 Concurrency: Time Is of the Essence</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-66" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-67">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-67" aria-expanded="false" aria-controls="sidebar-collapse-67">
                <a href="./3.4.1.html"> 3.4.1 
    The Nature of Time in Concurrent Systems
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-68">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-68" aria-expanded="false" aria-controls="sidebar-collapse-68">
                <a href="./3.4.2.html"> 3.4.2 
    Mechanisms for Controlling Concurrency
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-69">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.5.html">3.5 Streams</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-69" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-70">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-70" aria-expanded="false" aria-controls="sidebar-collapse-70">
                <a href="./3.5.1.html"> 3.5.1 
    Streams Are Delayed Lists
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-71">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-71" aria-expanded="false" aria-controls="sidebar-collapse-71">
                <a href="./3.5.2.html"> 3.5.2 
    Infinite Streams
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-72">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-72" aria-expanded="false" aria-controls="sidebar-collapse-72">
                <a href="./3.5.3.html"> 3.5.3 
    Exploiting the Stream Paradigm
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-73">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-73" aria-expanded="false" aria-controls="sidebar-collapse-73">
                <a href="./3.5.4.html"> 3.5.4 
    Streams and Delayed Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-74">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-74" aria-expanded="false" aria-controls="sidebar-collapse-74">
                <a href="./3.5.5.html"> 3.5.5 
    Modularity of Functional Programs and Modularity of Objects
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-75">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.html">4 Metalinguistic Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-75" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-76">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.1.html">4.1 The Metacircular Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-76" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-77">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-77" aria-expanded="false" aria-controls="sidebar-collapse-77">
                <a href="./4.1.1.html"> 4.1.1 
    The Core of the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-78">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-78" aria-expanded="false" aria-controls="sidebar-collapse-78">
                <a href="./4.1.2.html"> 4.1.2 
    Representing
    
      <span style="color:green">Expressions</span>
      <span style="color:blue">Components</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-79">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-79" aria-expanded="false" aria-controls="sidebar-collapse-79">
                <a href="./4.1.3.html"> 4.1.3 
    Evaluator Data Structures
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-80">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-80" aria-expanded="false" aria-controls="sidebar-collapse-80">
                <a href="./4.1.4.html"> 4.1.4 
    Running the Evaluator as a Program
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-81">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-81" aria-expanded="false" aria-controls="sidebar-collapse-81">
                <a href="./4.1.5.html"> 4.1.5 
    Data as Programs
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-82">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-82" aria-expanded="false" aria-controls="sidebar-collapse-82">
                <a href="./4.1.6.html"> 4.1.6 
    Internal
    
      <span style="color:green">Definitions</span>
      <span style="color:blue">Declarations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-83">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-83" aria-expanded="false" aria-controls="sidebar-collapse-83">
                <a href="./4.1.7.html"> 4.1.7 
    Separating Syntactic Analysis from Execution
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-84">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.2.html">4.2 
    
      <span style="color:green">Variations on a Scheme:</span>
    
    Lazy Evaluation
</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-84" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-85">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-85" aria-expanded="false" aria-controls="sidebar-collapse-85">
                <a href="./4.2.1.html"> 4.2.1 
    Normal Order and Applicative Order
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-86">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-86" aria-expanded="false" aria-controls="sidebar-collapse-86">
                <a href="./4.2.2.html"> 4.2.2 
    An Interpreter with Lazy Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-87">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-87" aria-expanded="false" aria-controls="sidebar-collapse-87">
                <a href="./4.2.3.html"> 4.2.3 
    Streams as Lazy Lists
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-88">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.3.html">4.3 
    
      <span style="color:green">Variations on a Scheme:</span>
    
    Nondeterministic Computing
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-88" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-89">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-89" aria-expanded="false" aria-controls="sidebar-collapse-89">
                <a href="./4.3.1.html"> 4.3.1 
    
      <span style="color:green">Amb and Search</span>
      <span style="color:blue">Search and amb</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-90">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-90" aria-expanded="false" aria-controls="sidebar-collapse-90">
                <a href="./4.3.2.html"> 4.3.2 
    Examples of Nondeterministic Programs
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-91">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-91" aria-expanded="false" aria-controls="sidebar-collapse-91">
                <a href="./4.3.3.html"> 4.3.3 
    Implementing the
    
      <span style="color:green">Amb</span>
      <span style="color:blue">amb</span>
    
    Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-92">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.4.html">4.4 Logic Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-92" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-93">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-93" aria-expanded="false" aria-controls="sidebar-collapse-93">
                <a href="./4.4.1.html"> 4.4.1 
    Deductive Information Retrieval
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-94">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-94" aria-expanded="false" aria-controls="sidebar-collapse-94">
                <a href="./4.4.2.html"> 4.4.2 
    How the Query System Works
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-95">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-95" aria-expanded="false" aria-controls="sidebar-collapse-95">
                <a href="./4.4.3.html"> 4.4.3 
    Is Logic Programming Mathematical Logic?
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-96">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-96" aria-expanded="false" aria-controls="sidebar-collapse-96">
                <a href="./4.4.4.html"> 4.4.4 
    Implementing the Query System
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-97">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.html">5 Computing with Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-97" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-98">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.1.html">5.1 Designing Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-98" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-99">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-99" aria-expanded="false" aria-controls="sidebar-collapse-99">
                <a href="./5.1.1.html"> 5.1.1 
    A Language for Describing Register Machines
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-100">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-100" aria-expanded="false" aria-controls="sidebar-collapse-100">
                <a href="./5.1.2.html"> 5.1.2 
    Abstraction in Machine Design
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-101">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-101" aria-expanded="false" aria-controls="sidebar-collapse-101">
                <a href="./5.1.3.html"> 5.1.3 
    Subroutines
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-102">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-102" aria-expanded="false" aria-controls="sidebar-collapse-102">
                <a href="./5.1.4.html"> 5.1.4 
    Using a Stack to Implement Recursion
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-103">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-103" aria-expanded="false" aria-controls="sidebar-collapse-103">
                <a href="./5.1.5.html"> 5.1.5 
    Instruction Summary
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-104">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.2.html">5.2 A Register-Machine Simulator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-104" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-105">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-105" aria-expanded="false" aria-controls="sidebar-collapse-105">
                <a href="./5.2.1.html"> 5.2.1 
    The Machine Model
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-106">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-106" aria-expanded="false" aria-controls="sidebar-collapse-106">
                <a href="./5.2.2.html"> 5.2.2 
    The Assembler
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-107">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-107" aria-expanded="false" aria-controls="sidebar-collapse-107">
                <a href="./5.2.3.html"> 5.2.3 
    Generating Execution
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    for Instructions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-108">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-108" aria-expanded="false" aria-controls="sidebar-collapse-108">
                <a href="./5.2.4.html"> 5.2.4 
    Monitoring Machine Performance
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-109">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.3.html">5.3 Storage Allocation and Garbage Collection</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-109" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-110">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-110" aria-expanded="false" aria-controls="sidebar-collapse-110">
                <a href="./5.3.1.html"> 5.3.1 
    Memory as Vectors
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-111">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-111" aria-expanded="false" aria-controls="sidebar-collapse-111">
                <a href="./5.3.2.html"> 5.3.2 
    Maintaining the Illusion of Infinite Memory
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-112">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.4.html">5.4 The Explicit-Control Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-112" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-113">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-113" aria-expanded="false" aria-controls="sidebar-collapse-113">
                <a href="./5.4.1.html"> 5.4.1 
    The Core of the Explicit-Control Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-114">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-114" aria-expanded="false" aria-controls="sidebar-collapse-114">
                <a href="./5.4.2.html"> 5.4.2 
    Sequence Evaluation and Tail Recursion
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-115">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-115" aria-expanded="false" aria-controls="sidebar-collapse-115">
                <a href="./5.4.3.html"> 5.4.3 
    Conditionals, Assignments, and <span style="color:green">Definitions</span><span style="color:blue">Declarations and Blocks</span>
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-116">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-116" aria-expanded="false" aria-controls="sidebar-collapse-116">
                <a href="./5.4.4.html"> 5.4.4 
    Running the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-117">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.5.html">5.5 Compilation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-117" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-118">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-118" aria-expanded="false" aria-controls="sidebar-collapse-118">
                <a href="./5.5.1.html"> 5.5.1 
    Structure of the Compiler
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-119">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-119" aria-expanded="false" aria-controls="sidebar-collapse-119">
                <a href="./5.5.2.html"> 5.5.2 
    Compiling
    
      <span style="color:blue">Statements and</span>
    
    Expressions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-120">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-120" aria-expanded="false" aria-controls="sidebar-collapse-120">
                <a href="./5.5.3.html"> 5.5.3 
    Compiling
    
      <span style="color:green">
	Combinations
      </span>
      <span style="color:blue">
	Applications
      </span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-121">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-121" aria-expanded="false" aria-controls="sidebar-collapse-121">
                <a href="./5.5.4.html"> 5.5.4 
    Combining Instruction Sequences
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-122">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-122" aria-expanded="false" aria-controls="sidebar-collapse-122">
                <a href="./5.5.5.html"> 5.5.5 
    An Example of Compiled Code
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-123">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-123" aria-expanded="false" aria-controls="sidebar-collapse-123">
                <a href="./5.5.6.html"> 5.5.6 
    Lexical Addressing
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-124">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-124" aria-expanded="false" aria-controls="sidebar-collapse-124">
                <a href="./5.5.7.html"> 5.5.7 
    Interfacing Compiled Code to the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-125">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-125" aria-expanded="false" aria-controls="sidebar-collapse-125">
                <a href="./references.html"> References</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-126">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-126" aria-expanded="false" aria-controls="sidebar-collapse-126">
                <a href="./making-of.html"> About the SICP JS Project</a>
              </span>
            </h5>
          </div>
        </div>
        </div>
<div id='permalink-msg'>
<div class='screen'>
  <div class='alert alert-success'>
    <strong>Permalink copied!</strong>
  </div>
</div>
</div>
<div class='chapter-content'>

      <div class='chapter-title'>
        <div class='permalink'>
        <a name='top' class='permalink'> 
    4.4.4&nbsp;&nbsp;
    Implementing the Query System
  
        </a>
        </div>
      </div>
      <div class='chapter-text'>
        <div class='SECTION'>
    

  
  <div class='permalink'>
<a name='p1' class='permalink'></a><p>
    Section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF> described how the query
    system works. Now we fill in the details by presenting a complete
    implementation of the system.
  </p></div>

  
      <div class='permalink'>
        <a name='sec4.4.4.1' class='permalink'></a><h1>
    4.4.4.1&nbsp;&nbsp;&nbsp;The Driver Loop and Instantiation</h1></div>
    

    <div class='permalink'>
<a name='p2' class='permalink'></a><p>
      
      
      The driver loop for the query system repeatedly reads input
      expressions.  If the expression is a rule or assertion to be added to
      the data base, then the information is added.  Otherwise the
      expression is assumed to be a query.  The driver passes this query to
      the evaluator
      <span style="color:green"><kbd>qeval</kbd></span>
      <span style="color:blue"><kbd>evaluate_query</kbd>
      </span>
      
      together with an initial frame stream consisting of a single empty frame.
      The result of the evaluation is a stream of frames generated by satisfying
      the query with variable values found in the data base.  These frames are
      used to form a new stream consisting of copies of the original query in
      which the variables are instantiated with values supplied by the stream of
      frames, and this final stream is
      
	<span style="color:green">printed at the terminal:</span>
	<span style="color:blue">printed:</span>
      
      
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define input-prompt ";;; Query input:")
(define output-prompt ";;; Query results:")

(define (query-driver-loop)
  (prompt-for-input input-prompt)
  (let ((q (query-syntax-process (read))))
    (cond ((assertion-to-be-added? q)
           (add-rule-or-assertion! (add-assertion-body q))
           (newline)
           (display "Assertion added to data base.")
           (query-driver-loop))
          (else
           (newline)
           (display output-prompt)
           (display-stream
            (stream-map
             (lambda (frame)
              (instantiate q
               frame
               (lambda (v f)
                 (contract-question-mark v))))
             (qeval q (singleton-stream '()))))
  (query-driver-loop)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6ShyQHrhwo4lpL7dW2lMEK8RrxK3XaG7qUiN1zUE3OScqRLpAkrsCNBYChZi6EsJaXrPdUhrfW3tTbRlFBcbMsKMa7i0m+cwhmli6kjL91QVnoUIpdB59ean5HsVhisXYsKlsDuyeC4p0CfAF6vBN9L8rmqwrlWmUrxZNvxchste72Vgfzk5Kt5hQV02w3p9tdByIaXmltIeXH5Y4cK-dBjY55Ozb2TumeC0JsRfg2z3bjP1EHNMJ4oD+01FHJAdr+O5rZ3xQSyzOe0Gkl2+wANQyf10g-0rT83E04QDnx0nQtFKAeGxRcl8QTCpkgMwmg1rx6iey+WtXQILzsCHWwOEQQOoE1Fkn-BHyaV5UXT835FVTwJyGWW2ikVNQhxwh8W3wSEtipVfDrzsHTxH0EzmTGm9l2wwLsAYM3C9TEO6SHgEKYEFEOWaAshHxAloIGygOXSYNEFnxH0GjUMFA0KuzoMwNXV0LgKjVUk-hQO4KdlAzkLomrzuB6UuE-0L00EeEehEI4V2y9xCC8J8MiGAn0mCGkMUCEOtVkMWXUSGQaFcJckBnSHD2xR8NkKMAAB5Ai0iHpf84jk5vhA9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgJPHcUAAAaj92gTzUeHAnk0cKMA6JzW3HaM6Mcm6N6PyMcW4QLGKiD0UDKIqPwFEGPBqLqOPgaO5xaOGI6MiX8HGPwD6NEIGJ3HKhGN2JgVugTQmJCNc0UNKAqCqBUM5XPy9T2QCAJn0GcDKFmgIO2E9THl8NUNiMcQNm2CVRxwyN2O+E+PuNmnOJeTIEQITTsPcl0gBl2PSC9TEmNQ+36PhOCCHRuPhMxIBLw36NlVXRuKcRSA-G2GFnGGxO911TJCvk4K31RIXnIWiWKMBOkHKn3CaFYlADdWpOSCjjIWSikV0MtlwOENdn7Cmi0TWF0KeKMJyDhnhP8BVPEJbHUNFMjnzkILBC+OoB+JznWWEVGS9UmVeNAEiDeK1NIJhO+OGncK5MdMnSVN5KcIkKDiowhLxOsmhPEBNLhOCTIKQKnC4I5KBHROskxNA0ZO12U0hMcmCE1GHEJPUWBOmOSBJNJTJKOIpPXSpNznMBojdkYgZICPYNZJRM6U3m5JKltIqkFNhGFMFBvDvHbXdW2HFNBKKClJHxlJAXZDlPNIVIbi9JVNkN1OMOeUcm1PkLnPVP1LzgNLMMj2dNNNdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIhbxQi13myFzPQAh3BghvMTyAKjXfIIkcFglLGSV5wfNh3ex104U8kFSkR-NvObyLgsWdUlAzT7RzX8D7SUg1IHCYW3BHRQvMBHXQoXIzWkNwtAGkIIsQqwpLhIpLnIswtv0pRfhzQYr4SlAwpSAzThDoFLEkFqBzU4u4uqIhDYuSAzVmMYFwrEv7GEoCAzWZEeiLAaDoH7jkoegUoYG2Gkv8AzTaJIv8EUBD1AFqENSWivA6MEs0vMAzWvF0vMH0t0CMtbivDvHMsIqwr7l0BSDssMuMtACvDbkMvMAsr33mOABssggMoctEhMtADABcootvwAFIwqvLIroqEqArQAgqM0vddKUqfLPdjUjLXLb8ABCI1XKiK-K0AMq8SIq+KoEbcTI5Kyqxy0AbI8wOquihqzI0SGyvK1qnqjqrKrChaZq+yqqpaIa4qhqhaXqjygIfqqK3y0AWaqa+q+YkqsK5agIJa8wEq-we3SUM+KC68385yWQsSCMATPtXQaCxPWC2eY67eUi06mC5yagBoAAK2jw0SuqbkEFbiItes-LEzAtKiIQXOSDuoQgeuOC2iwBOvwhgsvXWPEmdQzUZUyhzUxp7iCqiREqwsgGIF5lcF4o8qJpJvqjxvxq0qwpUscFgEgFwvpsZupppuCu3HpoAFESLua2aaaM0AA5SQQWsK4WwW3MxyJ6+gESaGtkFGjtUQy67YATCCJaodfAIZOWmre0Y+aW-ibWhWww5WooVW1uaA1vLW4GmGhW+GttVqHCbWjPV8ycEuXfbCP8jMVKRgP8ZEz6yQKQWBPCRmXJAybW-88PQEIChSVBV2vqF8ZIC0z0yKaoaMzpRQXfGw9SNOhMN+D+WETPa2u8ouVU3QTUw27eK9VU-mgIfOr+J2keHoL6n6su-GiumWqu8Qmu-wWsxmNk1yewxIQVcPESU1R4UoBI8LdkzpPeFO+shMM+XAMAD5JgY835U87gTAa3J-dwCgRwc0IcG5ZkRgX0D9SgL9cPXfBihFTcC2s+i+vQ1CCMAksG6De+79IhEY7cRwbY3NS47FCYu+5Yc+j+p+64ZMhXfIz9UB9fOwGIZkImLjGPO+LFCid20gUgeFISFaUmQCDBnyhgDouaDBpM7cYY4IMhgsIYkYyQfByG5SMh3QbohQnqEgEyTUFBhNMiCibhxwNh5YTUECAASCNO6K-vmJGPgdJE1CQbsQE1V34ZFFEG4Zli-oMG3FgdAEUYoLcBYFWkeCvvh04UnH9AoapW3AjEJCYRMc1Q1XzBFhx2gxMaMFRQgdx2cequNW3ECCfGfsgiHRsYCO8Ysfd1AB3toeHAPrbGPt9BMf0nSBFl-B52Ihsa1WTitUGGl2Y3nWccBgoYkY6O0flWFD0YCbsn0c-p2KUmGN-utJ9WtSyeTXIw8aqf7BqZGKKbNRKZgzBqAgqcqeTifBCf9y0eIHYaUG3Cou4d0E6d0bAamELAiLie2GCCKfmOIt0GdTKYMeLOMfIlQhmbGYEeKcYBYH9A1H-pxWWa+B3AAHJf75pBj7nLG-7UGJiTHNHOnzRGAlRvmHLJDCwcccgb6enlM-nu6lIM1tFZghig8hijxyAhi-hhREXyo7pw8nx5nURRnxnQWv5wXdnFACWcXjmunTnzmSWlG8WiX2gfmhloNiWvnaWjLj8o1-bA7SBg6ukohcIQw+lhpKRDGucmjxduwRpTGOaknRXiAc1GnC0BXVAIXG5Zp2W7hOXKBGZbkqQ+X7gVGFWiEXmMmlBxW-GM0fGmGhN6nBhxWKWRpWX4k-mxkLxyReXLR7h9XF5GJS0xdecbWBypTG6sTxIIw6m+hfU5WWM1gbXc4TqdXNQ2IgJLYBNHXzx7QXXtW3Wxo+no30IG5zrEygniK-GIih0M2+lJUgIhkLay37gK27IDXwH825lSGqLi3mBM262KIXmm2OFSHVWg6NXuX2hhnsWIie3mh6GUgBN+31XNXUMa2s3ymbWKWx3A3QNbr23y2E363dZSEGI6ZMh8DBXGzmd9ssLzXc1LWw2j3FXRT+z3T5ZKQBFNM9p6pGoPWAXoIVVNwTWVm3Hf2FmxKFX+TKoTxI9sn+kTUGpVsB8wCLtxWPD3MIiAPsWsDBWXmgORoQPDwwONomm9o4OKYU821a3GA2xyBqBZI2Qg15gv4EOAW33jXBXSHkWyONGvso0aOixSO2x596OjSh1CPRQc23kwBTTIVyOH7br7osJ2yJVyAl7V62BSAHpiw3BQARtIJNQo0RtLdLdfBFC-gQxFBWRag48Fgg9wkhWcd49LPQjQmcbZh4mxAdQPBTPQblMh1bPGArOsWaw3HvOrPk50gjPSATPRAzOTVV1AuZZ7W08WR5UH6M7JFnqHFqNv1LYM0257Rv0+5RS2UyhKhZpTPHAeBdASu2sBzzApE6BCAGgcvw9LZQvwucIyuov100uGvH6yz92RZHPSY6uuvA5Jyq1HOev73JTnrAumv7hjOKvCXav6uH7iERvHd+vAvJbwpHOMT2vOENvxvDT3iS16AUWWvSvyuIvHAgVgT2gT3qvnrFuuuZu6A5vLu2voNOvlu1yaYvWnB+vHuvuqvkgMzqMOuQxwguvJ3pQIjnUSu2uIj5u7TukDnNSAgPvweWghuVuigJv+wpFpvxJmvEe8NBuvueuAgl4+HYQ0omUv4NuT2hHtgQeSelvv0JRGe27v3M8ufEeA4ofoEWesez4Ofyy933SpRmfouLOfObu9Dyf1ycfDuPSo1+L5AVPIi7vT3MI2Agn7iiuR2GEQhCuqg350gdevGMpNQ2OglghLeUWgkA8SoWBsOqo7BxPWEuyovv1eyFfSc7BVfyAVPILnr3ftl0vGvxJNsuuM7XwpF5PLZQ-JPv15i9eqh3UoKZPxJE+blo-tw7e2PF6epNsGgMo4RsUoGQHw9Zfd8Ij36q+keogB8S-DpkC6+lBm+y+DHEO3GO+E0m-S-kScle-sVd9oNh+DHNHx-PaxzrU2-dBLDu-mu5+lD1TNGs6v5l+-8F+AWIji+B-y-N-kf5-1C4v68P0P2jSnyf8sOdwfGrCtMO6tBz7mwb-dDDm2y2IP1HBVPYRw9GBN4eoKgVQA2GY7i9euMwc-n6zAHGJnq4-WRPvynAZQZ+1rSkMf2MLy8-ehYfruP024BhRmH-VoIwG-7Qs-+wHFfnoR25AClQU-IfggOx40k92lPZDseyB6blSKXPKgdSxta6BOBaHW9t9wFh5Ro4fpKtHawjC0lfeWvOBqaRAGKtT+Z4W6CShYDCtbC8wJYLUDsR0A2uagnipKjoCVdP2RjUmOVj8Y6CNBbEfQRnReYltl0WgpVslyWqYolBKg9SGYM0GKDsgoPMDOVn57s0igbgiwW1hfyX4faJKGGgEOMG6AAhNQAwZfyMF2DTBeUXQYEKsHgMbBKZHwW-AcFLQMobgcPAHR-RJDzBzCIoXoKBQZ1fB-YbIa82cF4ZystxT1B4OUH4AlgGsf6qRFzS74Wh8gNSHaEsDZAUGzg1Wh0Ni4cd4k3Q8gL0KcEDDphZzbvsxW8z9CzmfjKlIaxCH5DwhpQr+MlA+xNCa61QiYVMKaGDDPBamJYfrkULr8-yfQPiH1HALAMpOoAEkKCG36TApEcA8SFPyQG6EK+jwywisiozYC6BYRDaF4l+Fs8nh8gNAeqWc78hJhGMRwHJXV40Dz8OAqIVCPIH389ocI7rIiLV55E4R6Il4eoW77Skgm+AAdD3GGJ+NtwFI0NFSIw6udOEhIyEeqj8bSlzAhrJwOfzhFGA-GVw8CDVjuFvAWRzw6ERQPAZftVUvI2xosy57PCJWOIhEUiLyLQZeRlQqUNBgVEaiIQSo2MCqOpbqjUeBkIdNqONFOQ9SLzWkZSJhbyDc0CaEejJFmH6Ua+XPAytUKpRYiRAKnBYPIm0TccreKTHjscF0COsWRjrV4TAJlqNxA+qlRKJbD1EZgDRYYjEax1WCt0-BSkCMSfyNIqjmstXYSKQzpHh4YWKwl+C80jKOi2ExwvMYlC9F2BCAFBUvhSG57qpDBfQhNIaPkANDhE8nPoUoJa5tdTOsQqMfxAsTydBxF3WoGvjiFU95gvMTQUYGCBUoCwdAO0c2JdYldegrYzeFIlM6WxS23YgEQLnP6mclxt-YYukFM7D0rAoAUogAAkuajgAAILgBwAXNAAEqlFIAAAeUFrIBxIfBa3EsVjEBiUWcNVsd1nFG75GxbIDcZBIxgSs+xG4itsGKASJiKWfYmQC0DTFw1NGWEvhGBLI4QTd8D4p8a+PfFfjfx-4-CVYE9rzByQqEwMRBIwnd8+xzojcY4C3ElYMJ5UXCbQGvCzDiOUuUvkRNngITbA0E7vrMPZCtCBMj8Z4fCkWhBIfRPoIsBmH4lrBFJzvdgfCMkmYjKhIElTmJJYk9CMY0EgjCPQEhCR5aE8EIZbAAAM-BHqPEGPBFYbJwrMsGH0oBfxFUHklQCQHU7iR0WtkwKcKBGI8BjxfmEKbFDCmMBNGm2VyYQMr5KBl+MUqVt5NmCujVUwTW6lz3Sk+s2wPkwlm3wuE9RLANcZKQ-ScAZRgoNk3cVNw8kZSipswXgssXcnh5PJyTG5D5Jj6TAeoigtkMeBkC+h+OYJKjJAOY7JQmQCXfoO1Lb5kCCpIrTKdwihDMDFW009gaqkGmOBhp0gX0MQWPY6ie6lgIaSNNxzLtkoiMJ9kr0wE7S9pvoEKfWKeGiBGosIJwGK1QFI9oG9fSMcr3iT3TzpehIHpT0gHDcKUVZJkeCPr6P1WBXMBuD7lEAYDBB+saAYOVgHwCW+iAjMD8OUaYjkZbAhlNTwXFfwGguA7FhSPyio90ggM-aYoBRFBQyZAgg0kI1x5ywqMyHPkUGRNSnTdp504gtxFca0zfQWBPzv2HSCUzNQB3DcloUwK8yHp+rO0QKL6DqAaQyfQ-nyUxEpdoxHw6RAgOn4-Dl+-wyYMLDgE1VRm842npr25jEBeieI2MfTP1m0CsZQyc0f4HtL4zRi-ZUGcsEmIcx8aeANuEHIjDvCEBmMzvgbOEIezjZ40qtGbONTbdDeJAO2QaLn5uyGZ7QR2S7PZ5CMOelhK6aCM-jQy8Z0cnMZHEYGMR5gb08JD0DWAeyjZepHlIHODmxy-M1o+kbaJIRCCJSrczCOv2LnAloJz7a3MnIOL2z1eqgeHtdy1kAsyRXjYsQyL-btySxBvD0C5zkDMip5ErXQlyMIGZ5ysoxcKMrL5DkEHgyfSebdWnn5zJR3I32aoEq78jPEthQUarLPnh5M808i+VrJipgAg5bcXeREUnlGAtUco6UW1j8ajycIBotUZkPxpqi2sx05IJAvHl5FS2sCzMUUFLYIK3ZfxS0eA2XlUj1xTgEKXfHRxCtv8gWOrOjjRY2SvyHWWgIsEbG0gnp3fC2k9IHwxT58LC9sY41XTQZ2FErKFtIGGm1BRUtuXxuAwtr8L6pPYydB7VJAkKQpoY5lsqj0llRQA2Y4wtrP4iLAI8HUgqMFM0DKE2+NUtYE9JUTPVkF8Y4NkpGQXJiVFiYxBejMRJMKHk+QjME9KcUpBNFq-I0lYtnBCQRI5Im0avLwGrDwGNsfesyzqmdT58ui-0Z4tQSVirATo44f4oLEbwbxIkMiY4A-G7gAAMlzQAnCkX4zkqXFYGMkhTRQjimeX4qbHU9yQEk1NH42QkNLJUVSppZhLonYT9FooAfARNTA2S+l3fHJXksKXgBaJw4FCWxA6WsSAWMkuuqHX7DsTjhnE7iZ0q8XJA78NkwSU0KfCVCVlSw+Yhe22Xh5dlSwzFnaI9qzKzJ+kv6ZgJkkTD5JykEKa3CCTyL9FMSvGTUssKGSKlcYoZU0osl2iHgsQTqX8xpbChHaty9RTOT2HSSmhsk+QM8qKBkiloyUBZSWFUFbCllSkXmAmzQn0BIVPzVRVBIMmoJqh1ywFSmLUUWTIacK84UrJegKAolUK4lZFwZVKCGp0YrUADXEgTjGO7KoZNuEiV-MfemAomZbKri8quIII0FQBVZU-N2V4o-sdkGSIaLBAF+eKKKGJacq1VRC+iRSCS4yj2x3RLsRvHvSFhz+h4zJUnSjRDgg81HQldP3gmaTN4lPDcUlzdWa89xEXS2Gssu7bi3VPXKRJg3XAzpNJqqnXucUOUDj3OO4TSecqUHiqoa90FrnxMJVJrsgZefsEs0JW6BqhYaiqcOEjWzD6BKM4QQaUAyekKOlgfRS6oaVfLuVBtGFZbBhCMLyM5ik2b90NXkhjVMK8GSkF9XVFxIAanCNuIwkhrnqRamdDFNmEm1HIsagYfGtOWiAs1LAFNQEFUBpqV1IU9dTmuh75SbJBanyjOq0D1qy1d7MXoaRfY-hZgMyjyUHhMndg3V8w4hTZKmTMTaAXMm5lxxIVuqXmXHTSZ+vAnfrNGQGwlSBuInfqDYDqutZGqQGurCVopKRM0AJVfr6AlsHJRRM-Hfi-xEyyYNhrfG4bqJxSvNRhpPWtw0Nz6+gKKSmjbgKg7HatZx3vWfLuFkwODVkg8mIbG1Xa0cSJGo1VKsNj43JQUqKX8xRlYmsjUevr7VDBNQyujQ3AY3lAmNl5cHHWRhCfUR4CrX0oTKMEjQWGIk32JpqIg6bd8h00aBwpwQHQtNQgYTptFH6roDNL+dTX3TmAOBbNRcMzW+v6AvwzNmjJ7JxU82xkHNrC5dM5s0Y-Z3NdAYLfZss3d8+BhmydPEEeAOg2IEK5zWFuUwRa7V9C4gJ9WoC1STNdmlVWWp80cEbN2m4rRQHs43M9VLAF5ppsK1mLrN1W-BG1q1iRJRV0Sp7G1ovyxaNSIvfGvVtuLbqGq0LIYt1qhWP5aABWjKIXyAwebmtzCDzURDGgjbytdZILdpu212aJW4ShZrkOFAbDCh6guxI-Cm1KrAtq2oQCtpi1rahkI29np5R8pBbltUW3bTVru0Dbnt0CEbZujG3zE4W5US7WTSeFLb5tZS5LaIFS3NggIpW+FfMsRVPKm4j8NFVgCG3JAFhw0ZlWyAhUpa0tiqpUJW02US8HRKS6sUcssJP1Md4UZJRR0p0Dj85ucnhC-F+3vEDCZa2JIDtdTUBUWO4UHTmgJ0KAFt8BRiZgxf6gCjS+SG-mPQnrhAc6mwO0TOy5aTJ4d5AqNbLEVLI65JqO6UOjulAUgFg90JQJb11pUAVo8JbZlrHIGbLf88-YyqjyA7iAMxGCiqDh2qhwjvpnvbYhjpZ0BBtwKuwdoAQbb+d6dqSqneoWc5UooeI27nWmsD0B01Wqu72JNtx1E6c0Qeudsj34JSJmQLrfiuoMtgABOV8D1EL08Uo1pMAAYtq4rqCo1f5NwHfAHia9KeEJC1WAO9mMQ7AARByZrwCAV6lQtzW5uVDQBj7N11Ea9f2EH3Ushw5a7YIPob2uBEUMktTEMjsB3hys0syQYvpknL6ZCugfPdFoErPSZAIisRZnMriOqEd5w0kZzqaHx7xtwinihftWwg709YqwCM-tEVmpbcou78pu3uBE6oIYze6IsmFBNAHgVNbRSJC1CWwU2tQZ1q635a4sMoY2r+s+EuXdrIICERgJAdJqeNxI24B4KkURaa8Z924W8HeAXYaLmW9gUAyJC7LWUE6EYGfUyzZVagvIFashBIJ+6QRI1FHKjkWHvV2JODmvP9Y+qIHAaINGGhnL83n1gRGIuB-A-VEIPLZ6RWgO9GjPMAUGqDzUTSVhBEOtS9Dt4dqNwZMC8HzDYA3QyYdoNQqIoGShgCYdMMCDd9xwjFYipRUWjOyUVc4uwaVXGizdV6Z-koC1DiiC1LuggD5UMBKtloLKiFWEftHYoqxVez0QhirU4AF2wB25mmMUAYKAAOlgH-VYr1Igh-AEHj0Yx7DK41biAZBH3qHSD7qLIxCpyM8c8jmYwo8UerlmpKO5R05tz1VSEBFkQySLhESGOgAAAXgc3MCFHkgddHo+yAqP27qjkxz+o5HqPEGNDZBqHVGiezaI6Ax4RFGgfujNrYD8BlRam0vDIH3WqBhgxgawP8byBFiUHUSyYbk6GdqRl+OWvBJ+bdCtW7FrzpjEqcE0rIyQBYyEbpB-DSoII0-xWiJGNaI+G3csc1qtwYjwfaMcceHDasr4lsbcH83oNjbk8Oxh1iotmB4RcDoZZLs0meqYmEx3yEOpid5ZXxRSbevzZicHXJAbDd4BWEHhNQlMMoaWpgymrZlDrnqcB8SAgaQMLtueVLWk4MUwMKGdDDgASvMT0NPDyT4U2EgSZk4mGJ9SpuvTxUUBQmiWip3rgIco4NBqORhk0-3v8ASHOpT66Q6xsjXz4xDyMig8+MJWGHaOJqagKCekSuE0Aepqw8lC5NUG7DPzBw4EqcPOGhiwZgfcqfr3OjH4Mkrw3iuHK+HHIxpv3RT0f4W7mwiRt-jgd0COBojKPayC8cSPh7GdAwtI6acsMBBHWZJxPEQNhJ9SMjWAJsxqdbMulF6eAfE5idSAiM8A8xso0sYiqbMsKYJ0PEMVIBDEYWT9fs3QcSh0BUginUc70aWNVGoWQxBoLOfnP7LJWu5-c+VAXO+ARzJRtiGOf6M7mhkGaPcxegPN3mpzx5x86ecxbrnLzCxvo3ox3Mznnzt+Oc++YAvjbXzO4ICzuDPOfnuj1538y+ZnOPmQL8xBc5OdvzTmdwD58C0+fPNgANzixm8-BYwsnnILh57c4RepzEXtwZ5oAA')">const input_prompt = "query input:";
const output_prompt = "query results:";

function query_driver_loop() {
    const input = prompt(input_prompt);
    const q = query_syntax_process(parse(input + ";"));
    if (assertion_to_be_added(q)) {
        add_rule_or_assertion(add_assertion_body(q));
        display("Assertion added to data base.");
    } else {
        display(output_prompt);
        display_stream(
          stream_map(
            frame =>
              unparse_query(
                instantiate(q, frame, (v, _) => v)),
            evaluate_query(q, singleton_stream(null))));
    }
    query_driver_loop();
}
</pre></div></div></td></tr></table>
      
      
      
    </p></div>

    <div class='permalink'>
<a name='p3' class='permalink'></a><p>
      
      Here, as in the other evaluators in this chapter, we use an abstract
      syntax for the expressions of the query language.
      The implementation of the expression syntax, including the predicate
      
	<span style="color:green">
	  <kbd>assertion-to-be-added?</kbd>
	</span>
	<span style="color:blue">
	  <kbd>assertion_to_be_added</kbd>
	</span>
      
      and the selector
      
	<span style="color:green">
	  <kbd>add-assertion-body</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>add_assertion_body</kbd>,
	</span>
      
      is given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
	<span style="color:green">
	  <kbd>Add\?rule\?or-assertion!</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>add_rule_or_assertion</kbd>
	</span>
      
      is defined in section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p4' class='permalink'></a><p>
      Before doing any processing on an input expression, the driver loop
      transforms it syntactically into a form that makes the processing more
      
	<span style="color:green">efficient.</span>
	<span style="color:blue">convenient.</span>
      
      <span class='comment'>
	In the JavaScript adaptation, there is no need to precede variable
	names with <QUOTE>?</QUOTE>, see comment in section 4.4.1. We are
	using the same internal representation as in the Scheme version, because
	this way, we can distinguish the name
	<kbd>my_name</kbd> from the data log list
	<kbd>list("name", "my_name")</kbd>.
	The original authors were saying <QUOTE>efficient</QUOTE> because
	of the string manipulations that would be required at runtime.
      </span>
      This involves changing the 
      
      
      representation of pattern variables.  When the query is instantiated, any
      variables that remain unbound are transformed back to the input
      representation before being printed.  These transformations are performed
      by the two
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green">
	  <kbd>query-syntax\?process</kbd>
	</span>
	<span style="color:blue">
	  <kbd>query_syntax_process</kbd>
	</span>
      
      and
      
	<span style="color:green">
	  <kbd>contract-question-mark</kbd>
	</span>
	<span style="color:blue">
	  <kbd>contract_question_mark</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>).
    </p></div>

    <div class='permalink'>
<a name='p5' class='permalink'></a><p>
      
      To instantiate an expression, we copy it, replacing any variables in
      the expression by their values in a given frame.  The values are
      themselves instantiated, since they could contain variables (for
      example, if
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in <kbd>exp</kbd> is bound to
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      as the result of unification and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is in turn bound to&nbsp;5).  The action to take if a variable cannot be
      instantiated is given by a
      
	<span style="color:green">procedural</span>
	<span style="color:blue">functional</span>
      
      argument to
      <kbd>instantiate</kbd>.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (instantiate exp frame unbound-var-handler)
(define (copy exp)
  (cond ((var? exp)
         (let ((binding (binding-in-frame exp frame)))
           (if binding
               (copy (binding-value binding))
               (unbound-var-handler exp frame))))
        ((pair? exp)
         (cons (copy (car exp)) (copy (cdr exp))))
        (else exp)))
  (copy exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06cDwc73jxxQIBgeAkFQNA8TQYkLne8xRRBLQKCyXIFEIehiDoShwf25JUnSBQWDIfRxclmoZfCUAAB8dcU0UPl6zq1cUDXpdlmI9YN1IWDkjghFNiWpa13X9ZfRWMjFs2Xct2JrY9sUPzVKV1d9+mmeBagRZ+aanfN12IkKALiZUH3NcoV63uTd1UmYMQJGEBhZzBD4FEoHY+nuHbCb2gTRVJsvLYAMmb3p+kGJvwmEoFKCr-Os8j0U6D+gGw4zuX67z8gC9qYvQXj32LJH-7CoRgWXEMXxlfwRt8BkNJR8Xifa5Gw6I3Hi3+QiyPmoYc1qDEOh-ploxKGNsRuBRwhAjcZxJ7dCXCED8n4vy0twI2y0v7Ix-sQP+9AI6I0FqkEBz8LbHyvqfVOop86F3nnOS+MsLKoLAWvbOLESEWwYFvHe3tnYn2ImfDu+gIznzrBgrWkxEEbyZI-NBMtro4wYN-X+hhnAcMtow1ObDbQX3Tlfa+-Mc6igqMoNgE1sp0DfuXABCtq54KAU3CyJYhAgVUeoyq9B4RuxtvouehjKDlwsjDP4DBzEaNRNY6268c7uMsYwGhdswKOMkcsJhIxWHMMwiErh3DfEmAsZowRBZhEwNEeIruhNwmDAjNEnRijyFuSFn9FgwhyCpNgfArRmS-wjRwTPAxC8jGiXUcrMpFT0lWLiSxVppTymLnxpIMghhtGhNiCNG42JAm7wYPvQ+-1uAyOCfk7pblentLtsIXwoyhrZJYewvJssClD1SIFahzAtBgJ2Vk7B09Z5FwcU40SZyPhUGIKQ1Z5gzkiLgWI+g1zanSKiewru9NCnIIYG8NiqJOgApTvLXOdiHlNJCcY+g0LnA-B+VUrx7t-T1Pufg0uqLRJQujpixsrzLkWzIZHMlMLGywLYtyLQcLxmpxLgwQIMhRncDxJ8lw9KKWQqNG0Asr8alhI5aCLllReWgFJK9Ol6LyX0B+J0EWI8aA5gBpK9lCLOXcvlToMFJzqFiulsoXVMSbkIoJY0uczTwTGHaJa4gtKkEuDvi68VVrRlhFtQJIBzqLWOHdRAkJYQlWev7K6sN5y3lgJGTU2IUqEVLJ2QKkGcEPgJupRKyNuygUjCblG2akdf4gSpe8i2ybC2BrdIcstPiWKineZoXEPq3X+qLXaz2mQe3Rp4cU3N1armlt7VPNIXt9kPkLaamNop2AeC8Gy-VU7cH2JRU88Ey7lBeA9TwvdXhWr4C2Wuom6bgVzvyYPRdKDCCEBBCyjJNrAV9qRUS+V4INBPuoC+rpQ6c5Mw6b819OiG0uAzaCoDFDSArWxX894F69m5JBTE4597rrTm-roxFm7kVzm-hZYoZDpAg09YYFmSgoBwEQMgdAPM8RKJYsQFCbyJFfzoDmSdbohbRxcnQhOstpKlGFoJ5JY95Fa2ks0YeR9CEif9GJuSElqHbyCZJowGmZlzJXlJ+hV8uM8dk4ivxmiJF+mmKUNjPxzOok4y0bjVmjKIsoa-RTLmig2bXPfP+oD0GKeM151YiKhVqqE+HUTLRfPhZHpFjOwXTPFLaeUxD4jPPRbvkzGcJT2kDNHiLEZnm0I6WmOs8pmztklacyZ-0cnUhdrDZZ6LtnKWhr9U1q1eaa0y2K9J2WSX6uIuPS15TMWfijaC7VkLsQGuyvlj1q5mXxttYW8qJbgWBtDYNPN39z6LMrYNKUfb2y2sdFZSB9L-yavSx46V6CnK5nTRGRNBDaSwNGks8F2bYYWikFMo5qyNk7KOWpL4GW5BkYeS8udt5ZHI6nf0Mibgb2A1-lfA3XqChyU6p+p65HDhfwKhGqdhgP9qA4+1S1HLKPBDwbLbEfChF3TCjfKkMO5R8cb0J3QYnDRzy-wyGVOHl3PWnvPciawD2ysrBRmjIud24L0CuYZWXiZxcFf+kV3n0u1fq-p2IQwMuDcrCu9x5X-CwRS+fIUOppziZaaF2wJTfZShnOmiKmW6Dneu9DM0TsGpljM5PAqEywRecWWsrZByLhI6UF8CQGHghH1sF8IVJns1wVohlc9qiIzv7G5m7XOubpJn6De4CAAfBN9cHG3vBegYQZtLGkaxZVQyxzd28M4NIPwVQZ32Osriz8Jl-6OO3ec79mIPn8wT478KykoawST7q8N0XUmloMvvi7sgWrqA6u+zNu9PC1tdeteXIv3fa6Y9SO2hP5q42dfnSX9dbpA9+RD-8W-xd1hVoub1sSpfvzqGCNBvsjjmv-omughOpwN3p-seERCGOeFUKQKOiEpJoyIZOAagegdAQWsAXAc5n5IKGzqKB7jdLgf-uXJJiAf6CNFQecjQdNCQUzoga-i6KnGfh1gDPrkTHgfmpQHWoQfASGAxOcDfDGk9gfA4KglKPpujvCgJOXgwNXqJJCLIf5uqHCNwAoQujwoYNyIwPgPwG4gkh4s4P1oZonOSD-ufpZrtIaO8KWJGoyOfptn1pZqwZelOvfp2jwT2nwaUOkJkHwWsI+tLJ3EYbMqYfZpYRAWgVAYIT2nrqbjEIYUIDEWYuYf4iMnwRON6gEZWh4UISkbboxOwcRHbrcmYWohYTdgNtPjPlHHOHETlNMglgooZM0CEWwJ-lnpHGtlNttsXsROeFVoyMehLtVo0X5OeHuFRkCBkcYbETkZoiMlVoeDEOeJoWIk-LUIsS0SBHMrsXwlKAsVsaXi4OAVVtAgrsIhbvIFbjOA2MbvkWkQ0KcfsaENwO8R8YUN3voTnGti8gActiMdflIginfBQTjPoHweAd8h9lUkfoCSfsCb5u5ivhCc5rXOeNNIyOAViZJqBiiavpcaguprQlpsSR0UftNMFn5CNCwQMTGmtm0VotNpCeSJSR0VphyVSUEt9iGOAQKZ7tdpyY0Y3iKcQVnozJRtRmzHRpzIxpYK3hCu-AWPoMjD3rbPbP0FojqaAIpKUNDj3OyH3v8IpMZADhHsjBZHbLvAaS0DAiYFoMIAECYMQAfrUI0AjjGtlgTlrkMmgdwLcaMUoYAgvOCJziINzsmOCCbv6MGUVmGWej0KIS2kUhzj7FzrTrqZ+kAjIGis7HmZ6oesBprhotrsMsjnhoanKsWaAPyrBm5CBlVnWVggajKkak2YquWjGubjmJblcjIPWT2Y2dwCauiSxDCY7nHG8GjGMm-jnnOOCLCQWImWnN7lrK2RChuQDNNAWQRl+gyc8vOVRBWSxAeV7kueNDjHhhmkeUCaxo4F8GIp1A8cOU8VctydUQihGJmdntmokT9IMvoH+Sue3CMEBYMW+fgMYK1NsnDMFpEMnP+QJKTChcfrNOeH3C1H4V+SORbIyL0ScMBdluBR0UXi9nho3DprqNjAWC3pHHDIKbvCMnTGhamhhQdMwnTHuXHoMpJpxYMs8OhVBRGAJayafqjJEURT+TAQxTRZ0EXiwOsARbiVCUGtLGIH3NprQgGuaRwJ1PpWuEsKGKUKTJRUfNRdjGEGGRpV+U0c0CZXpaoAZUEgGgADzAi6VmWqVNHNHh7TjggAAqckgkQgvghuvASa1IWIf6vpokoAAA1MaQbpAp1EKNstReEOlVueCGlRlerllWIDlfeRMGrjaYDuFZFTIMQPZLFfFTSKntQMlUVelX8bEGVRVXlcVYVcVd1eke-MtBVeZZhjwvlIQOxY2HHB0ahcRHBTmMXHJNiJBQ0JHMsZ5RxfZY4XxB+r0TtbqEFdZrVqtUQPCWkZau+VdEropa-ICd1c0B0SpECIdHlcNbpNBYMBNV9S9UYbOmBMpdLveFkBNZcfGCGK+Hdm9eyFXIRfdSrpglUdMCFcdVHnQHbOUKAPphnkeARKHn2CgYMoyIwXDBBbKX2CNNtWxdRcjmJUmTpGxS9gzaPOUVDZzVBXdhdetbKZITwryQxVpgtQNGwIteSMtbzZTTxhwRRgYYDXZWLYodTTUUdZ9ehDZtxtLcNTdQhXdY8cjY9VPvkS9QxXDR9SDX8aUKRIdOZdjKdUpNtZhCDdaLaBDd4RUdDWzrDeafhcIhLA-kjVbvtQ0OjaLcDtjSILjaPMnlifjfRJUYZCTbHUCOTeBaIarQirTcJfTXTEzehCzfnmzWDJDZnlzT4W6DzeiHzTxlnPKRvFRnIKzLRhzAxtzBgOqXohTlTj6fGQ5lLpBvhg0lunOHTuCD3bju6lmpPdTgwJTk+oARZoPe+gJBmjblnOeLPX3UzIcUAs6MGnMFubEHMBOKkQ0MGhyMfTEByGfUmcGghNfaNKQHfQfdGSXE-SXK-eVtGcPF7FuX-ZkP6OfUUMGsFE+uQOntwOA+ojFQaCA4UMGiFdfSFX2Ag7EMGjcH3PfCwIYImVg6oDg1RisOgzEMGqlU-bENqdwL4N3DXtDulXA6Q0cRCO5JQzENQ6ALQ2odDl5Ew-fdGTodMJw9wwCPQ6AJCFwzEMw8GsAOwwYPaVw3Q6ANDmAPw2-WuQAKTyMiPKPQ6aNSOgAyPRk9yUO6M8Nw20MCNrkACEwkZjijoj4jdjQIVjGjYI4I3lOjjjejoAvlMQbjP9a53lAI7D5jYjKjfjQISj1jHjVe3jNDvjNeATxja5VeoT3ARQ4T4j6TKTsTEINj8jkThQETMQNjsQOpzoToW92OU9-dVU1FgIIY5ecw3A29eOu91TxUPAtTc9IG+ALAAAVm6Ysc0xoLzmoQ-b0z6VuevUTpuIZO0zTpRk6EVM4T05TnUyYn1oyEAsGoHluYHsw-8Sw+CJAHQGqNHFAzEOc5cwnsc-8Zg1QIQ7AJANfQQwwK8w8x8U89gwAKJP0fN-PfNpHBoABy5AYL8jELYLjtZWXT6zSzXuryAijTAIYz2IwoETh0Y5bT0zeO2zQhCLVISLhLIlTTKw5eWLNe69m4GzvdBLxUpiZawFZOSLtODgqO8GJceGZO304opAaeV0gz5AeYhhvUmgV10ESLC9HAYCy9ROBd0wb2PLRwRQMlOcwEWIClRtYIeG8u8lwdqu0Ev6kR+g7L4uStX19LWzTLqLrtfBpr6MFrG8syQzIzvxpupLdrIEtFSrRQ-tiNhtIdWcHAAg-tYgXw6ljYRrJFSx-EM1sbr8qzDdyYTd8gNG7M9GXMmAXd25785ApgDArqHwVUNwpAq6LizYXZU6SsKs04T5E0mMjos2sw16WQEYVbLbA1DAnV1Io12VMg2yjbQM2Es2zQI7zbiiyqCgNw5qBW7pb8H8KtUFhbygcVGQHGRgqOygygyjVG6VFeu7cN4IRVpQp7oAzQg16Va7ILoYp7Eay7WaDgAyxgS7UChuReb2Qcr7hYEQ-4kZm8A7YgA1EIxV4sc7xgC7Uo5e37L7E0xgXLRucoBV1g4IglZQdAv7TAZACgFe8GBZR1b2rbokvR2k0w82QCxHoArc0k7O06A6EYxH4QesP1QN+HO04QLjokpGJHQwzC1H5p4IpGJp+bFARbJbsU5bq6xH1p7Y98bVAGWi1HtHE48m-0vOyYpJSGHHXCon4IYH6V8HaBLUIseHh0aOunKHJV97KV6VfJemR8V2yJOnzHQ1E4RVfbxniFZn-HES7ClnzHKHau8I5Hu2mHv7eUoIW5DeEXCHpnuHkwIY82pMsnAYcXJnEIj93AQCFnBHbtWQzH3A3nCXpAPEyXiKZVunIY57AA5H25XgVfVxV71UO7pxhyV8WwWKQNsq6j14RzOv9MrKrIdH14E489GUIMIIVcEIVXZOAqJOaGmIVX3hwPCEl+lyV354MGN6DRGLt8V1h-Fzh2V+Oxl2+6N911Y2DfoAd+dy1LtzOW5CK2K8oBK761ROTvIFam4BBTAgWftuPg5rhjV6c4D0p1uc55Ujp7hv64UOXi9+sG99QJoCST-B4L8khwXv9xtxR4ivpn94QCR8GqRhAsLY5xp7hmd9-E9+YGN+ppDsjF9xj797hjfmQQ+n+kp4T3QbECgZa+bUCCGA5wfAT1D50lolT6wTUyz8YEXGjoyOXvT1vIz8zz91+wzjz2XQwQL7Qie4-aD6TIdOj+r3PGjqDRmib78mbwznpysM0CBq9UJx-Yb999b-LwzhV474L6pIj+Kyjx9zjGF95s-Zp7FAtXwQj6K0j+92j2724Fj1r2d1hbr0Eni7Lzb8hwgYTd-hz-MgDFT6-iNCT1uSL-n1r9nyzqjWATAv0QLTnAniQDzzW3xqkKTCD+l4dB33j+jcRqJNHqDtcS525I39PRh4ubWs39pa3+TkuN3zJIBf9xV73zApjTHmDhKfm7Wv6YLW4GmFVJQPgK1C1AMBUIMGz9Py4KP830J0t3VBh6f35hpLFB2Rf4B2xxP54VLxqyxEbP0AoApxIBxkKgsDLsGyBAGQM54hgUkC3z0Tq1+UoPCAb4CgHEgngFXI3swkMD8o4eVDfdu-H-6AD5KSArsPgL+hkQsBd7E5kUGIFFxoB07RdN7kFb9A8cNAowOAIIiQDaBMAy-vjxnQUDEBHA5AVwLQH29Q+H1bAXwSeBqFqgIsB2CwMEFSgaB1CVAZQL7BSCImf-MgZhH5STVNWpAgATIHUSOJxmdOFdpXTjxGC0Y5yQIH9CXYECqWnLakPQJ4SGCqAVgzQXhw8EDcB0Xg0Hr0Qq4yCyAcglqKwMMgfV9Bd7dQTXlcGUB3B+guwVoPQw2CeIug1jHJTjJChkWoIdBF22gZUBaYYlPEt00+iTFjon5b6BTVyF4x2aTJGooHlujbQmiNmdIb9Sbb9QykFcaoWDDk4cRNUDALBlxE+haZPooNDoQUJqE-83IvQvfP0KoBcQOIeQzoVxR4FwwT2MgOsLUCKqg9wQ6wvYJsOX7tBYUCw1iFQHCCg9VhMQAIakB6jmtThNnEPgawyEHxKQ2Q1+McLGFdC+QVw2fmNA4jhBW4iKUmB0JI7TCkgswziB5QjB-CcBoYCMMCJhHJk3BMwgYR5WN6nCERaRQ6PCOtaF0xKZ3HYRsOm609N4y0MNu0XiFGkeBpMRRlENxpewXybkNQCYBPSZE7+DmNkc4G4D09jh9PZYeSHPAojZUNIF3IyFBGMAURt3K7rP06Ecj6AnrKgaGF5FiVah0JOYYQ19xrDCRwfEoHSNCKiCPykbSQOSOSFkwIRQo4XAyPMC8BEK7UFGLcOXLmDKuwHbbvaNSFuR0o1g--jiDZDdBuB-I7pocXSjejMwvgfsrxT0T1CA0wRL2Je2pDEj3QH4JnkSH3iuiih6zboIyDRGywVRU6G4d0HCDntSMsY7oKG0kCgAwqAACT+YMAAAguAHAB-MAASmFUgAAB5MFsgCBBkU82DVM0bKOQxijxhBMHgdaJai2jkY9ozVCRw9Hjizee-TSPETFFncPRnQRsP2MMAYcVxmQJ-vvy+x4ZKx1YusQ2ObFtiOxm4gcLOPl7zjUQIyJcbAPEADgPBb4RMQwGTE8olxxCa8c4HcgeCd+wGdqDuIXFfZBxnwvDB4J+hGDy8+uDoXFWrzvEmR+6e+IwH7H6AYJ5kScLEL3xDi+QMI3sWoEAk3jJxWE0CWCjDZxAMgLUXIA4BFiMgAADORUjg1B7IXKCiYAIOyxRqAgwB6KxKomMDGQq3SiSYT4npU8QOYt0AJJFTUSyAGHO+ExOwzNsqYwMCSeDySScS6KS4YTluVJjKTFOqkj0jdy7ZcJ4xgQfTPJIdCpBqg2QCibtEFysSVJHE00LjUaosSOAbEoHlVE4kpRJaMafAS1HsidBV0b-FYPbmwzN9DIpQWSc5K7aE8Agdk3SQ5KCopc5+S-N3KH18kMB-JbAVdF3xx4YjYg6UzKaukX5E9ce6+WvuSAYiPRAgfkgKVZObDxiKgQA0ILMkl6r8Boo7XGHyKRA+TqpGU2qX+29rycbhjoOWqQQMBipYUVQkaajXoKpxNSxAT2vGCTroRxipQu6F9EYAU1Opyo-IiFPqEsA4W6XdYYRBxHhhephUhoVdDjgHSy69ELAP+C-yjSoKDcOfmcM1oWliANUrKS6JGmscCptUwCqVInAO9VKC0sQhVPf7-TvpuGeMY8KLiZDJYf8DaFULXDYSbJxQsoSByBBDCKh4FKodJTGmXTOooAbjkczlojQHAOVcEYMMxnDDMZoNHEUUFRmgS1WFU9gj-huFrhfwpuPAJCD5nIEMZ60tadtHnqbS8ZnQNGZ7RGglDSZwcL0OFMw5UyJRuQxmTECGHXT6ZkEf8FBDpjdEXSCuRSVjDFqSy2ZOfVnAYEamRFUg-yZmfjLxFoVeZ-M4KanAJF7CiRpsqviGBr4GyUZEslmRDPr4sRKZQ7amR5UIALg7wXUqCqsKE67COA03bYXHP2GiCJpWQcOW01JDnDBk3wm4eHLelnU4Z89A+IjLEQbR05PASOWJRzkTRzWMA0HoXIRkIVS5jwQgHeHLlcVQAjsyEN8NJh5yaObcF6b8Mzmbc6ASstUexzzl5SA27CVuaoJWDBzcQEo43hIIVENBjepIKebiPZr4ik57swOdmRcnWp8CDoq4sPUJQOJj5FkASVeUZH0A1E1o8RAJMfLts6pjoDDhJI7JPz7xgDDtgcnYRPygZOo4NJ0H8m+A84lpeEBVwzQRgAFlolwGTnKQCTX5XIqUSBKVHs00xVINRAaUPn8TpYo8MyX8AslaIn5cxbpgvPNEiiheE4ChRKO5FIikgm8gXHfPXA6dsFmRJ+UwqKDoKwYYklUKPJDkajY5WovwV7GX5D4HuV3V+dMTVgOxGAnC-IgaLJEBJ4hFC33AUjIkHiGAjYyyAABk-mnY3UX0R7GSB8JAk28QwroBoz7xo40WRUAnFLjQeM4xMXPHMVESkgy4gcKuMPkjIs0W4xsG4v3FVjtFeigxeeJAiXifF7ivnPePAlOtBg+uD0U+PHGviswKYj8arPXIUSfx+g+EDCKSXxDNJV87Jb+LdHmAycbikCVHMdHgSYhUE7cAJLULvEEFh85BRhM1RozcJpi9URRIsWYTGFJE+MWIgliuSxukosgLiCqW50IhsS-QRBKoD1LpgMcmvIZDiURFgBCghJYXQAnrjxlPXaUR0tAkYjaRFS3pXssmWWK0ZxzOmhENhkSKuuEy85dhM9F-R0Z6zVoMiEZBBjr+d3cEBvgeU9cE6p898BUBDg7cpconYZYvQBW9cruzy3wf7lAAfKHApsHcqUTu43LkhcCxFOOIdCpieBhsZ0VmLlCsdRQNw4ldio+DBAT+X4nKN9HHEV5aVMS4iD-lxUbR+xvPJwlSAzFAgUlb4xlc-3-ie1zw67AHFQn7EvKhIw1ApSaO6CfjBV9AHJckKBWFBSoOIeVbuLoBKr-+iZRZkuH7HcBaRoqkySBAlVeDLij04iBIWApUrAgh80WXYrtFfyxi3TMUYyDeD3ydOpC2wnnzZUtzLFnKvnt0x5UJj7FqS3EOkoDXCrumxqqhBJI8EUtZcMqr0XKueQlLclt0ngPwHVVpqOA2qv6Lqr7DaSKJhq5RrGoETxqIhFq5aZnn3nlLhARcCScEAIniIOV3805BRIFWar85MkR-kgo5UVdH+KEjlQ-wbUtr-kba4iLappUKrGA9KxMV2qAl84yF6zXeFeNnWHEtFR4psS2PbHgA-IW6+sTutPGGLUuTK0tWoTXXjr3glxEaOCAxDocBygtMdUgudXkhp19q+dfYtfmXEoobARtb0sZBaKdF+i-deSGA2hLT1S4ASReoiZXrzFt6l2Q+vjFtpA6uIN4IMwJyF5vBWQbDRh0YIYb5ohPMwafJynN4s0xRQjSiGx7kb7xxUlilhkIrBRMNPObDe2oY64aYEDGlwZATcQpAWNpgYjc-JgpcaKNcCMxPxvmg0aSNj0dhHhqfU5wagYgN5EXDGVsaeBZGlvMBQw34BLJVG0wEXkxX-8CyhFfTQ5jM0WUzqRmv6BVx02WTKN9AATaUQs1zzYg-ysZQRsc1EaXNkEf4tZpSFZw1VP6EQIVXc1Xctydm5dXm2Y26atEzGqTfCpmUEq78aGvjYYCc3iJ4t1Gkjv4NEGBCmBorEIZsqlZ9gwtjyxgllsE2VaiWiWrFb5qybKMYt9m8TWlqc0jJqtDle6ern82KIgts3CyGVsBXQN+NsW1ZoxOIDKbWUaOWrcZtmXJD5lxg7EPrmWVdbWw-aXDfcrGVKaVNMKjjp1tXnpFSRRolRSaLphJdcIMkJRcdslUl0vh2s2Mb0Xq1IhplWK16EFvm6hbNt4W3QhNreRja2SyMEwPwAL7-d7x4BPvhGyjZYpg2YCbFX72R6o84402z4ZKt4g005ldS8ZopBW2hgUYQO1lOpGYAyw+orKL6nl2Q7YSuF3UWmHQxxHo0cw8oqgcDnX4kwqA7U5PJ1Xun3bCg4IeHbH2mjrcmh1II7YfxO1ejdZiKx7djpe3Ga3t2a3ndH396I7LyA2r7RMq3J86A+tBcigKKhxpaIGMVIEAAE4TgkcGBpAxu0kazd7EWBpKvnoiw34uhUOubPo7q0jkctR6a+BcDmlaJzuwoObu2S1dauFkNAKHpVVsEzZM06gTbsgYuiPgHNaYAHrt0CZpw4E6JKDRcBeQWy4MiuqxBj2do5lKe7dlFSZ4B7sVICyBuAq1J8JqVM215feP81y6PGFesBUwAgWq658WgGFTFzYCgKq9M0YClbzcC7bqgpUVcGQDthiJ7mmCgQK0EZDK8IczAJnkPosWZdR9-AAakcHW5+RXwOqUgJPquYkzVIYiEylpGd0B7WGnkHprLyRVXcExpUGIJ5DYYIh7h-u-PfoE65jLWgxwCopHoYivgJVh-Y-vfAbVShv9zuvtaxObXDqx1EqjsuAc9q76J9+tBPEfqBDOo9hMsaxFHrf0hRYGl+p-UyE1WCBQDogJ-U-t8i-6q+4hGtQ0Av3ghyDV+sbheGFFCEYcjB8PTECT1PjVlcyxZduBx2y5P9UixmYTtMQk6AYrQSnQYAZ0gxlGPGVzYNt64QIRdxor0b0ViR18exvGoQIYHsiqx19J888HPqBAL7VeK+24Wvqw4b6CqW+8oinX+iHElDt3FQ51GUU3aNDiGw6jOjhiWaZI4IOyFFQhHLQThzAKSP+ADxHcTOI+5wuIY4xSG2Ovh0GtTrkNqEFDKG2I8To4x99sKDgKOkXB6gMB1AIgDgKQF2jKpCAZ2UHVHo5k1zC+OBoNesxKHYzaZuMo+DkZ2lZ0p0+0+md1UDBY0hJBRiaEUam6lGYpoE56mnEqNEyVoGs9aQnrwjsy8+7fHHk9MdGkxcg0xsjXS02PbJipRksQrQYNA19CAntcQu-12M89At8fVIGMtq5sj9AVAgADpYB+16youEAZkDBA8Oj2rhokzlDQRg9okPfZPrH5YAV9u2+49eMeMnMXjbxpqUwCP5fGyutwsaLwFXCg0egpMdE6AAABedLUAC8aKDxLETP0b4ykZ6D4mATOkIE+CBBMIUwTUEBqDofeD6Hpw9x946SeRN4dHGOXSboVRYCFVlAhVabpMFq5Og8AEJu4ySc+PkneTYPAU0KZFPrdaTvkIAA')">function instantiate(exp, frame, unbound_var_handler) {
    function copy(exp) {
        if (is_var(exp)) {
            const binding = binding_in_frame(exp, frame);
            return is_undefined(binding)
                   ? unbound_var_handler(exp, frame)
                   : copy(binding_value(binding));
        } else if (is_pair(exp)) {
            return pair(copy(head(exp)), copy(tail(exp)));
        } else {
            return exp;
        }
    }
    return copy(exp);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p6' class='permalink'></a><p>
      The
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      that manipulate bindings are defined in
      section&nbsp;<REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.2' class='permalink'></a><h1>
    4.4.4.2&nbsp;&nbsp;&nbsp;The Evaluator</h1></div>
    

    <div class='permalink'>
<a name='p7' class='permalink'></a><p>
      
      The
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      
	<span style="color:green">procedure,</span>
	<span style="color:blue">function,</span>
	
      called by the
      
	<span style="color:green">
	  <kbd>query-driver-loop</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>query_driver_loop</kbd>,
	</span>
      
      is the basic evaluator of the query system.  It takes as inputs a query
      and a stream of frames, and it returns a stream of extended frames.
      It identifies special forms by a 
      
      data-directed dispatch using <kbd>get</kbd> and
      <kbd>put</kbd>, just as we did in implementing generic
      operations in chapter&nbsp;2.  Any query that is not identified as a
      special form is assumed to be a simple query, to be processed by
      
	<span style="color:green">
	  <kbd>simple-query</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (qeval query frame-stream)
  (let ((qproc (get (type query) 'qeval)))
    (if qproc
        (qproc (contents query) frame-stream)
        (simple-query query frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtyPkCcgFAYDQSBEBgKjYchfC7Nker62oGEMUkixiQL3VSdJMiMPE-SKUohv64RRuJJ4Q2aBChn6QZDAWtCJyeQEAD5qUoFq2o64gupWrtLv6NrMMOwydO3e61rG-lzka8xqi0UgOHIHNiG6gjhv2waIdW9beMm-i3VFWawIWkNlphkaxs2lZtqXOZ5usI6+xOgFzoBshgdB8HetW-RPvWp5ife2JSfO5qnrIg7JidCK-pcDnWoYGResoG5sWRbgwgmi8EjdEWqC0RhBYUIxHqF8X9El6kfoay4WIVygldG9XVZV+HZYE5GMjA03FpKUAUa2906EBqmwc+-RDIJ83memNnQEN42VbVq6ubt3W9ZRNzErBlhqjYugxH0PNSGoUdcyoi2pp21P04gzP12os4o+TUB45EaoxAYPOHX0CvE7EbPEZcAmG6r3nS5Y9uk5rqj64TjuZamiMe6b8Ku7cseGGqYWKAUYgU-INOM7kVrC2Iqaq08WuC7XhfO-5loAA8lcGXeOEoovuH3jeApbyc4O42448HpOl5XguUL5G-5+Lvn9ZuWIKfW6a0hQMEpKCW6YIL5cFYlQX+68LbnjHoyaes9b4f3zpfQOf9DwIzlskDsH41RSjHvbGSwCz5YIzsIBBuCkGKTxkbMgjAbicVUAPSuvdv5cMbkTeBlBEEHwntIQOgCjS4MUBAGA8AkCoDQHiNAxILjR3+qkEEgNOj6FyAoQg9BoHN0IdNNIvAFAsDIDoxQ+iaiu3CKAAAPg4xSopmpVysXogxdiYhOJcakFgclgZ0A8TYwxjjnEvhmjbEJXjKD2J8RE-074KikMGLo0JdiJ5H00S5RsvD0mxOeIUe+xiCm2MoKIo+opmBiAkGtWcYIPgKCEeyPo9wm7DwfqKHaTS4mgAAGT9N6HtNWzTwjCSBJQNpNTKkSKIWkdeMTylGKtqkGpdSGANKWdAiydB16FV+nM6kvhzH4EbPgGQCyF7bO8ZvB+BMIxlMMZ3Se1wX7tTcNQMQdAF6u1DlXbgwDCCBE+fQFZbotngnNF8n50DwRS0ugCk+wLiCgroIfI5opoXfN+WCJ5tySmrPaRsrZ+KWlQs+TiuFGK1EuGxbC12o0TkBKyGS8FrcRkRgeXWG5cSeZZKOfS3Ffci4MCBSCwwzheXsuGSMCMjzrGFMjlU1IFRlC9UqvQUZfS7nGOqeQWpI0tm9IsiWIQIE1UauynQeE4S-HEqNaCbVFlYHg3Vcva1trfGHNpaxEwVrYqGGZWc7V8MprcttBG22Yz+UlyPpaj1sVv5iuPiitFoaJrhs5TyzCYs+UvJVZs1qLA6EprTZKrVvSw1dLWQaklTqTWiV6uY0t4rUUVptTSsuzaS3kAYIuP+gNDAZr-FNTWQbTnnMuXshe3Ao2ht1tk4tpaAnCF8CO5YWa5U5p5VW5VmLUiBRNlQYguKN2xCmvqw19SG15oskej4J7cUHNeS4I9bb01Vszfc7ND4837t9aKN4bFUTaK-bqol6zHVzkbeCYD1BQONg-R2r1iSDRXvrTBu9ol4OIePVoZ9XaWK4ecD8FFbFuRaHPQQgSDSGCBBkM60AC0BW+pI-QH4lI2gFj+eBzdD86MMaY6SVjZd2N7MbJ0QGeyaCg2o5bCFoJ6OVCYzoAtB7RrcdusoRefGL01odTerDzSLLGHaNp4gL6j6x00+Zxwum83S1HQJp14IzM8Z0-Ci6zSwiiZYu5iz+HT3QOHeB2I-HjHzr3X5tyVRSAfCC2e3pTmIsCR9o5ojbkQUgUfQRkL2qUv6eMbmnzmX1Fir0ZQXEAX7MFerXqqJc1ktlfmb1BLuXgu8Yy9+hrpi5olcoBMWZgH-Fci8PJhT8yoNGcadh8E7APBeCs0chbygvAMFXeuvTRW0u-ujXy4bZcsWEEICCSjUrtuTZMdNzZt6TOiQ6mdz1LXxG0rLRKi7-6eu7e3X+mNMXzDL2rsh5woWvvOci3t-QA3Y0AJG33acQKZUYeg2CIFFligvtfZOFhSQGDsK4hxbgdCWm3xlbfFSQJwQyDrLUcEoB0aiRp3sOnztuPaKJ4I8IjOKcxGdqKVO+gOLc4DCfM+M9LmQI+NAoX9CSfCL5Pz1IO1hcDKGd0pcJOKExFKBxaT+OqBcQjMLv270Ixa9NzpPXrCDccN2iME3b0WYNAJhbp3zukR4O16AZo1PafCHBId-zVcOCUByiHY+MqdrH24AHFG6m2N9DW+1Rg5o0xSrT5pZw3BzOkFxJz3PuIycy3PAT1QymaRsDKtbvHZf9CF-7fQzPqJuDu497EBvZO-JjsN+XkFGQMqqWZxwAPjOna42pCHyQ4fTbPw4RXgfCey68GMDPD8x9Zc6sJUjVIbj34E2F0vli6UTZXRxGybo41iLnkMIydK5-My+BE9v+ZnZ9rhFKCjH31Ig9uQTsAhgIkC5TfZBYqUAboRkA-KgfBK7AXZeHED-USTHb-boURUPUAAAFQAAkABRBgAAQXAHABwIACUMDIAAB5AAOWQCBBRhOGxxkEkDUA+Q0lRGHRrzoAVxlRXzBn-w304O91KBP34JGmb1B032k292aBP06EkzcHTyNABxcFkMyFYMUPeBOggzdGwLwMIOILIMoJoOUPEAHFELWnEKNEkNYRlRPxDn4MAKzGAMEIsksLoHchVixyPjVAsIUKzysM4O4M6WMRVmFlFk1idxJzMTOjbxUCT3WyEHUP8OCSiPMhx2k24MtwaCYPnzcI4MVlYW4JeXQNIAyDBlyAcEBkZAAAYGCj4ah7J6Myj2oTsntYpqBBhs5miKjXZtAgRSiOAIF8BKjtAABqZjbvB+AY8o4Y3o0gEwmzBohHbBReWBAIZox7agc7HKDoqPJccETHbgHaaYlo07LY61GeYQa0W0WBWHVRMuQIGdMGWBVIaobIMo0A94AQE4zY7YxgDoxkJYn41o849ozovyI+R6MGeyTocbJHGWQoS9VIQXeEwyUoRY4gRo2BfQdHOIDYkEv4y473VYExHaJHNEx+acKEhgGEtgcbAmJHImWImIak2k8bCMRk4k2IYyVNPyBiEeQIaE2E945sX-cwCoTqUIBgLVXEtYhhA+GWSEwUmk4Uu+VsYUN8ZE+Ax0BE6YV8dnLIOUnU4iPsAUgsPyWMY8IiNvFBNBN+auDBP+HE7gi00MJEsUEhL0euLkicUoGnQiZkpSVk4U6eXhFgZ8WiLAf8fCQiXUl0AzMkkXaCUoYMuk+3QYHUpxdkZUtk6HHlR0NvZof04wV0vCckfkh+VMuE1NI-IBEBLqcBfRT5P4GhL+ToII6-MA1BIEdBRgTBOUrvckV8VBAAQhEjfwtkRIfgcCFFxDr1DP7nIVb3bwaDXBdIZ3jCtPdA1LgOnDXF-HbzwEhGPJDBQXtLtO4QdL7KdLXPlOLhWCmlHPHM9ODD7EDDoFnNty4jWMDOmAXKLj4Q7kgn-CgjJ0Mh5OoTlNvMHM3IIj1FfAlNAVSC1VvIHK90iFACPJPIfIfj9xZwDz5K3JNJ2zdCoVAVbJwWgrwT5JLmxxnJkDnN7yFwXDvGL20JcApwmSZ3920mmFKDwpH14qMhaHaA5xYqELvKVwR2YqTMoXrLAUuSbMlRbMIBYu4KksF0IHGkZzIobMUvwGbMeC0qOLZGL0wrAGPMhCkpVwWjV1JKXC0okvosYrt2N1enb2N1JCyInGcq-M4QP3cpXP9APy8t-O3DJ2kO4vwsD1osLWmLVifTCXYuuzrVRwSry1dnvTKOWzY3oHVRXylWmJlXnSKpexOM2xFLVJIvmRRjzNtAjFKokshU6BhN8DWVKMs0ivnQao+IAzLke1xD7XiumJzwLDz0b1xy4NAE7zwRLzAPVX6EYGmMZEePXmWIdFeOCSKr8nPF8v7yr0ZDel8rrwb0CLCsNEcHXA7R0SCSaObG8ughmqQUmOMT2tRQH0pyisErHxtjZxQhPQYEL0qo23wDXRusWrup-jb0lSTlDxnzPzesrwO1ovQN0IYBIMsgABkcDaDHYbY6ijkciWDpj8jJqOyX8yhV9+DrCkgJKRD18RoSaab0VnZVDGwmaXs2bIbh0ZU0aMbsbwATD6aKhj5GayjSapDgiBJQiboRAvZtw7DZ8HCgDGMXDzrYhwRpiPDTZ4QHrYhFaz8DivNNayjtarp4RazAdWjcQmbAi7yZVQjDYIjtxlqyYNz0IBr2pIbKqjiCikhMincia+9xbmaiixSBZqA9FBigbTq-aprb5T8noHbTYwiqBnbphOLzpDIZaTtQEaZIZ5boIfCkj2D68xr8846A70IA5PambY6yb7amSVgE7zZw72RfASAcSaypad9G8n5yTRcGSay2dSBTIu7CALJrJbIHIXAQdzAqsSAcqxN6AlZBtx7kdlclwB6+L7wsht7hKTJghx7J6bI7JHJkUPtzA3hV7DAsc8B+Zb85BpEoA4BEBkB0AlE8R7iWJiB-qqMyVAU6Acx6siUckKBWVFVllpJSgwGfh8lIHDFpJmhkZFk2VoHZJ5JCAmVJ0RUCwjBg0p0rlF42VAHgGkGTEE1NVgk0H-RShf6fhKHrVeVSGuTkHUghUZcaGDQ6G1xWCYUz0AGWggHWGTFxNtEuHRd6HGwxGIHPFykWHyHRQe1W1U1L7qGEG7F0GbN+YZxl0+0B114h1pU9btxlG+0KqSGhGyH-Q2HbMPNiGNG4l0GpG7GLMjAtN7NEt8tLHbprGDRbHVtxsJGd6XHAnmGrGRHRQH1mAMq8VHGuSeGfhonEq-lBHfHIn2GCSmHgmZIBqcS-7F5+Z3t20pUfHhGTGig6MLlcHUV9Agdim0Vh0yngGRHD7pxBGrJT6Z7jlXZyBj4PIvIpGOgtAvDBVratYHBuAgdCsYhXxuk04FAENqBqYdHkRfwFQt5rb+0FmlmVm5kJmprpn8EYz4KdzUgClyhhZ9m1nJyVAwD9qyohmT0DnkwQawa1mKn0JdK1pfG4J6Az11bQwimDGF4jGPnAX-RpnPmWYinfn5AGUwQbmYCaNe6j1eEHmfSddJsamhjei-kMW3pmg38aITnrSGg2mDmT7p7z7ISO7-hPJBBrbCpYhzg4du0lNqnv5h0gVDAWGESe9sQgczoWgCm6nSAxAWHAVU1fNYqjkXGZHwn0me6ptSipl10nn-76AQNSNGxyNQSHG5HDEWGfTEn1xnmZHcWas4nDW7EFHQxjJRWLWpNWFXI5NmnLbZ7eGasdMCs+XiI5nUhT1NBqsPGfXmtbmUWVQXzahCK4L-gA2i12sYnOtZtSsI2igpoNXCm4Ik2UnU3BsiZ0nY3YziKYhzw4sk3mkanDq+ws2tYc2ctk2ksMtOAi2QwE20X+4K3G2q3v51nTSH5u2TZe2qJSzGIiLDJM2vXQ3F429ssvHXYwdStW3hGx2GJWXv63IqnLkHB6UpQniZnI3BINB9AGBhWoRd3KV1Q4RuAD2PXqRuRGBhiLV-VE0JC2UZYE3vWDWMk+U4y7mvjvNBtGRv2F2162Ux33Sg2qtXHatmt3dP9froI1hc65bDBH3pT+A3UA0JCh2Otm203oWgIMPn3sO32rCIXYgbNv3Rhc3Yml2C3Y1YKS2Qx3TGHURpUKStl2OqoJ0WVpVMXmh6DyzZXfVQmxtFXhG5rAPNs0Exs3n10IPyRzw9xb8gR0PEjSOeOrDNsYDdq9kr3ag1PgQOWd2DPJVvkpRVOYCp38xnnNspXxc4X-mZdVOiOgrChL2LP1ReX3aPP3p0n72XHknYnJPgHlXj27hO2AL3c6331VGSmtV3WgveGOHUnHG-XlOwDv5GQ620uQJk0571GbW4kWG-J6VsGWUam6mr3hU+OQ1LHv4yuKbv426XHtPivf3MvCgKv6u8l+4OvKuGv4nLc63BvCuEv013XRvV3aL765lH75AlAX65F37FFLBN3ytLo8HI8IvRQAkzlFr9BdvFJSh+muLtv-gmEWhR6j6Y9RIDuglkUTAtAriLwdNlnahGhRnfVtH9mQXJAyBfOHOImIvIULmup+Z4U28Aeh1uAQe22fUjtznFVLnVmN7DNbs5wZBTVUfIe5kl6DY5lG9B0getYZVBMVMcfmMXsimKqZAKelMhNqfn8keie3tnOEXyewemeqfuA1M26bNou8Hr6kqKbIVhfLNuBRfMk40NNJel4i4MebstkmvRJJfCessW4cWZeYEs4Iv50+2gvLqDKq4xUgG-muelXkqOTZu2fYsG255FlreKaGS7fsdtMvhV8WB11b4-XikpzjEdo-eImJ5zwpkwZoPcROfcVAT8bNuXBtGnS+vfOuW9in4U+r4CwZX7fzAW6CHh02KA-qrZVBhBzc+OK-4anC-ZqIhi+j2Ixy+E+xc86Y+ZdM-C5gf1hI+pPkqOAk4pl8HJ1pYuL++xBB+1wlhQxdclwk-FkO-J+BEWBu-ze-H-HgRbpx-OEU-wgAAeDfgfzhRft6Oh276ccEDAuSY9ugXwQQcVsxELakLEM4r70SUAcYsKvfMQWcofllaWcY42u-z87vQv+P-Rfpi2-wUsL+V-JgvZDv5iAH+i7J-iCVf704P+HuUAQxV-5nJ-+okCyEAM-6Iok4YAzoENlE7do5IEkIbv1wAp9duuiYOVkA02RyRsQLvZukcg07BIF+pA9NoHyJS1Ud+gZOhkwPRDYh1anvU3r3Db5-JAugZZoH10+o+wC+EAweiMmP4e55Bj7OqmBGUHXFDSPA5Fiy3bYalfGn1CPhVmDar9LeuKXgbEApZ0DRI1kAJOUEdj7JDBeECdn2HLZ-xGQQ7TBG2wHYhEtB+fYflrDwTudsiVfLlmEKQTuD-I8YCmr42YFEAcS7vbHL1wIbVcHBt5NgQwLE4iCWBqQ8LqW1exlxOB2A3UFfEPYGh3SAg5QW3mEE5hkhYg53BIJhrA4Le8LM9LIPQjyCCGigkZIIPeilBSIBMSflfBUEklyhmEXQbvUV5kDLSxggwKYIu5tIo+VgroWL1rZn8KhJ9ZwSIFcELwBmTIfhtSjXaeCzwYBTioHEd7+DZugQ6WsEKr4p8YhB8CIUUATrRCIqa7ETnwNIoFCUhiPHAPN1pSLdn6siN+goiUTYBsc8zSOrszBirMHAIDXuirydTaxwQwKeEbJk6omEsRizHETPCjopsmGazb7G6HnQ3NRE54fEQiKuagjGQWyZ0JCjmBeZYgcwCcE3QaCQoOQbIlknWE5Gm5IUCEPkZSUFHMjXMDSUUQ0nFHTBIU1sTIF5gVFsB-QXIypq5mCinY+oXmTUbTFVFCjXMbTPkW0z7BqjCgkKdhOXlYC31OAlo9qCwFvwrAzRsQSFKMVFGsx7uvgcZOdH6bjFb+oAZ0TEEhTuR3RMQY7twC9HCt+mXkf0YGJM5zgoQoYgwJ6O9GgB+mkIUALGINEJjgASY8MZmNTH9MwAWYiUQmIACkeYlMVGNABljMxMQOMZCgmTuj8xkYt2udxEhejsxYIcEGOQBDNiqxbY0AL2ILFdiIQu-SsRGMLGgB9+MQTsaWO7G78+x3AIoC2KnGLjZxDY1zKdAnEFjqx50DcaOPBCnQlxDQVcXuKBAjj5xEIEckmLTFFA3aMQEcrEEjzOgnQNInZoSKKYp9AQIYTWHMCOIfjPu9I5MDK3fHYigJRTfACwAABWL3NTr+JPbIhhWwowCaDC8yUjkRm4QyLSM-ELcnQRUQDjhKAlmokBQILZJCjfxeYJy7wicJCkgB0A1QCGXwGyPomMSqscY-zhaKoDl5YAkAPkXaN4kcSPOXEqZAwBwKii7ROBISUFUhRUFyAVBJMXJKoKTCdIb4sAkROpgkScsBfH8SsE1jCg3aBMBngBPAmaTio5qUCepNQkzEvi5qavrpOmD6ThWlIzcDwGsmWtmAi7fCUfE9oaTER1zSZvAIaQypPas8cUEDF8Bm9oJIMdYMoDTiaBC624PyUSNOwkiOO4LD2uK2ClHAig5A-zPxCwbSCwQMqb5hsJc5-J3cstQYMlK-EF9lyHuZKVpOoFhBPmVUoXO5MgkwS4J9U53I1PMmMo0+nzcwesKKnFFJArSMGGIC+DL8kMnQ8qWVGAhYgypXPfCSCJAlSJluEI+RJgAwDN9r6FAUwIDWz6xQbgpAcbLcT25RJzEliQ3svBWI8xGc3VHlLcTlAACGAaAi6GnGIFYDbpn8bCF1ShwvSTCuiG4JpgMavd-kScaoVvGUDKAzEGQZ5kYCmawzUxt+cYnU1hmfVwQ9OfivTl9z4Dxi5AFGTRNEheYv+OfOinQAHTGBIZEreAb53qYOBqZG8f8BTS-5ADwQEIIASDL7TGBwZUoTWIzKpnLxjAUzcVhMA5nWAYqFfMoMLPixgxAYqsIHBj1qrKzGc4IFGEJSUhKMnUystXNJE1J9YsgEYZWeECzLzpTZQ41SJjgkrpkxWHSLikbVO4AdLoRMkCOZg+BVRTp42NWfa3bCnE2iGecVuEEGRvQUG1yWFpN2uqmyTWokLmeMSZkiyFZZAVWATGmb2yeYBAicPTg+l9dpS06RZJHPLRBym44QdAX2BzlADE58spgCnLtkmzxZGczOaMTejwgtZ0wIlnLJpliRQQXmIHNwGrmr5FZkwaykuF9k71B5i8TEVOC8xbI05wcvQU3IHldzk5pAHiFJS-4Zz1ZAAcg+lCsABu852JgPXTKyTCk8o6WQHXSF4VZ0SBeNdOnAExr5JM80a5iEAB4LIwQY2nZC0iuE-CP89XtlQemi5J5dsp+XMLAXnzh5zsEBY-PLoCIIwECleRfLzz3topeYdDvFIK5URtmHgdtOvUukBzQSUqfektHjHdjfinqG+MTyK7r1PmmsNBbFMwU4tgUuCtwGLLEDcsayI8ifOHMXgkKHYkKQ4schwbVMni69SKkCjboN4g0vTY+Dgp0xuB8F-rM5oQr+LiLdS5bYngoKBAhg85oiwudQqjnEKuFrpd8awuMAWFxZjITWNIt8CyL5F7adhZwsIARkS+tUydFjJFGM4doB+eQAoosXtRxZAiedCwv8ViEgl3CjuaUMDT9DHZUo7xX4vbThKOFzsdxSyixkMKMF1ATQDU3bmxAZ+T8NJWcjoUntMlcU7JVgtFShLHF9M8RZFWD5aKCGAE8xckplbMdTm-ssRYyV1JTRBFZMzIfouuSMli2J4DZg-EkUic2WLENwkwHwAbYwYAwCoBmW7o286W+Cx2c3mlnpDhAvhNglVAqrwlkqBMXXs4r6osR1InkmgM81xIh8HA+wtaKnAYDqARAHAUgBbCPi5BCA6rFZUsMNkokuF-7C6lSG7Llx7Sa+J3kMtTQulJ2BmN-IBSTgqT8lss+5QjieVvzXlx9e2nILuZfL4V1cMMvaVcXtL42KiskgCpKF-CXAO0T5euiHouKBENK7QXUvOFxtAVJfCZbGF+El9GVSONuqKH4J1xVcyVVxEQOThQE-2WZXcnbMPxt0PgwQBZX-KqizxqabhC2AmwFUtlVV6bc8BASBDK0nCjGVVWO3PBwzR60CEurx1NgOT3oBtJ6DiF-l7L6AZtJ6My2mClR7VD2RVU6s8J60dobhWPKmNNWPEQIMy82DAVJYywN2R8OVYEEhrgrqaRVaTlSE4KMg3g+Va6ttSHIqKNVRlOOv22LBgFdVLsEWo4VxDOE81xq+aokGDVxqVY1qnSLatageqTaHAZ1a1FdUNB3V3QLKq2p9XYSlwI1AwIGurXmqTiYakZWSyMFTK3IiyuNcEAtVapVVBC+KkusZyzqV1XqlmhPlnVuEaujq9FCYR3Wbq91GhC2DGoVX7r416+E9ckT05gEzkuyjQsZzRr6FSC5BagoLXJAvqiCb6owrjT9WbqA1wrB9QuveA2dcKGILZT5J2Xe1E1xEc9XGuVXXrM1QKgQCBpJqMg+aWNHGn5Cw0C1GQxxMokBrdrobxa4G4xOCEg18rA2lWXEG8Ggn7MeWN8uaExpMJDt6N+scetDJ-QjBWNcvX1POw40ohnF3G4rPmWlYvZRQ6w4KAxtpRcbmNe9CTWxsd4ybONTGg3iMj40yz52qm4TfJoi4cklN-GsuDUDEAno1oQNdTUcs01Gbp1V9egNBPwBvEhNpgXzi3TtgEL1hLmjjt5qn4713NV0Z2PRqc1bVUUIEXzVYjoCybXN0klYFm2QW+9He3myLdFoLaQQPOAWpOi8ndVQoRAxteLYXi8zBbqg3ko5DJpC30wUgqWtzc8I83CqaNlg3TcmEq2GBqtElcfFEophAx+g1MT2E7gK3l1628WC1FVs41Na0td5ROq1CZK4RWYqY8rW8R02ja9N42lqVGWdyZbptncHLZ-IsgDbL5OoqrSFtK2+pTNzzKFpNvNgRdHa4RE9oHR8Fkx1trYRrHvQKYJb9AZ217u9qObPygIU+MPMrFnwRVbAs20he0LhqA6z8YFECt-hRjpaPhtWq6Ntv4AQhv5+Wt7YVtvbEAzNWgE7WXGAQmB+AfCn5ZSpFZ2cqMuJcwVNKgk-BRpbdMpUwt4QXbNtPEIsFNBu1p07tQLB7adEUgE64ZVGC5eanThUYwq88jhQIj95hUU4N8b0eIJ2E5gep-nTptSypVUBM4pAY4WgKjIw7Cg4IBnRUtyVALaGk+WGtPkh12qwKfsuHYpBZ3I7uxBunJd-HR3k6wYmO0AI7sqUbgGCpePpt1HYh6igQAAThODxoA9fUKbWbHeVlbw91WFOghksQfBb26bBNgIL-YlCI1r4FwFxWqK2CYguovqPoG3nbyLIaAMvR2qKARqKVsQAvbSsGHI0+wteyPTPEBihxOYuaARC4C8gsYQw67ckE3tCIJ7pwvnG4HItr33sWqfUdqngxhTyqFcke8nIjqegTwctk+tqkwA6ou6zWWgBLX3LYCtVp9xcbHNUrcDvbqgpUVcGQACSSp2JSagQK0EZC2L7FJ+-IvLLfBUz+AHMo4BbT8ivhQYpAa-UxKtlU5JU-fLSOm1r0QhPIXkF-dNXLouxSoMQaA75GAGFBID58mOscHHasqIgDEV8DMrDzzL2oOyqUK0HzUNB11zRedbuqPWXqKqZBuIX-qv2m8qswB0SKAepRsr89seqA9Aa8huFBAJB0QHwc8goGq967C4Q0EgPggRDXkQvBeCRq35ZDIYuIQPtnzZ0U66dcKjzt-IYHBtgLIXa7BF2LxWgCuWPIrsDipiWm0LfbXnnrxSx-t8NO1fHiY5Trm+Q7IQIYHsiWJz9-AT4lSAf1Agn9zAORS-tlxv7fDAgAAd-tcXeD14xnWw1fIcNm6Adkej7TbFcW1Dokt8PzTJA1n4Bj2HCKuIInIBSR-wnc5mWftslGHnmph0vq8NRQCIZdlh4Vi0za4Y7BtheefVds7KAdWgSEoEPfgXomG4Fe2jowdvI1Eo4V-R5Ec7MlTEj3tXRy7XbGu4zH1GeLNemArt2iIX9727ec3n0D+dQAAAHSwArrUOa0QgzIGCCqw4dmYycXKGggl7RI-+6-biKwC7Gga+xv+Ycf86nHzjkpWZcLBuOy4n4vAVcAIh6A7RwToAAAF6uSTjAoKqUCeuNrzmjPQeE48Z0jPHwQrxgyu8aggNRHenh7w9OH2MXGUTIJz0dwGarG0WAxtZQMbQDyTBt5ToPAJ8cG3knATVxqkxGJpOvy6TDJpkxbRxO+QgAA')">function evaluate_query(query, frame_stream) {
    const qfun = get(type(query), "evaluate_query");
    return is_undefined(qfun)
           ? simple_query(query, frame_stream)
           : qfun(contents(query), frame_stream);
}
</pre></div></div></td></tr></table>
      
	<span style="color:green"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, defined in
      section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>, implement the abstract
      syntax of the
      
	<span style="color:green">special forms.</span>
	<span style="color:blue">expressions.</span>
	
    </p></div>

    
      <div class='permalink'>
        <a name='h3' class='permalink'></a><h2>
    
      Simple queries
    </h2></div>

    
    <div class='permalink'>
<a name='p8' class='permalink'></a><p>
      The
      
	<span style="color:green">
	  <kbd>simple-query</kbd>
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>
	</span>
      
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      handles simple queries.  It takes as arguments a simple query (a pattern)
      together with a stream of frames, and it returns the stream formed by
      extending each frame by all data-base matches of the query.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append-delayed
      (find-assertions query-pattern frame)
      (delay (apply-rules query-pattern frame))))
   frame-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNMdiHJgR0IOZSPIz1xhhFsmlFGgeL46QunqbpQDEWgmDExpiP9fcBBA4saPPCQOE0S9qjkMiWLY8S2zFawpNHWQNP7IEd1Aaz+IEI8UhCK87NklJelcXzjGQwYXiUhhwLo5R8OUCY53wViVMCNS6BM4TlKo7Sz3C0AGIA0QgNYxD2M4mRuMEXibOMoS31EwiGiU0h3ShGRGOYlK6gc5IrkiUQwN0nCfXCSJItAaLRFimE2vahpsqY3LTLM5J5MU5SavqRKNK009aOrfTDMawS5u8xoOK4qzSuk2z10barzgASHqOqGpqZK30SO7Jo6gaZE63qDOGmLWIm97GivfaUphRC3qMRbRCU+LAQezzLoEKL-oKpp-IWtYMdAQLkQEKwwlIOMZDYYV6gkp8MnSKiIP-dDMIgtyjA8OmMO4JmlUp6maZVELSEZ96PF50ZSA549RijSI2GUCCAFVCArQhKAAdxoJ1RldZEAFotaylKEMO0BsYp-HaEJuM4RwRL1ZdQs8pA59phY-wukS0N-Som3NepZ3abQtmDawRLfQ9x1nW9vLIOF0LA4LILHY4D0VXxwhgxkaKGHIVq-tGuKaop76M6zl6c7Gy3cZoJPBBVYMOCLlKZCrlPgzJ4wKdXJua8Q3oK9ATvU7r-7G+Trv4opq9+5b8v+hQyeOBVDhI3Yd965Lpe2DzkULKLTb05YTPs-X1jp8RIKmAADypWRV+9UumGUI-W6MAvPoTye94PkuRrGh+XQ37v7wzzPpffgQgOIcGImBfg4Eb73xUBSX+y8n6xmoL+SeIE54LyPh-Yut9H6GwpiVYc5VJ72VlApEBggcHZwEAgnGf9WLbkuBSRM1IsREyiMPauA9v7vlIQsOh+COThjABXWg9DowQBgPAJAqA0DyDQJoQBp9kQ7G6omOcMh6xsG4NQaByDCGdnwGwD0owtHRl0fxYYuhQAAB9bHbh2GCGu5idF6OsUYexjjrAejQu8QgrjLH6LsQ4po4o9iBPcaQGxnjQlHVOsQlykSrHRJPo+dRGtcq8OScEvQrgt6bBoNooJwxLZx1UdYKowZQxCG6vQMobBSCXhiO6FuY9t4dg4N9egjTdAADI+lLluD06JVMqKkBaVUspvdxTLxyR4-OHSdhVJqRwOp4FilRJloQZegce5AORLQCQJjKC5UoLgGwczNkpIMR01cV5rn6IAeUmgCdtLkGDIQDewx6Q12UBfbgzASyDFuYU0C9SILvM+d8-m+JGB-IoYCpgwLqAAJmdYKFXzoHzNGYssFyyWDVJ8OsnFMtMUwr2S86iHysXDF8Mc3xDhHkLIKe2e5Rl2WNWZdE8GaSULkugYPXOHAAVAtoIMHFoK2W3CvA8ixUTeXCPRcUYg4hbYSpGVKyyrTVkkpGTLNSgZ6oiFVfvb2CEQneJ1cSnq+rQAQVgSqtV5rdBeP2SomgJrnV2yOScm0vSVLtxlRy4Ne1MQ8rvL3L1Zq7a8JFefJFKKAmasDXc0NDgQbhsVfCZV4gTG0PjYm8V1AGm4qSIY61tTbXhplnmj0BbRXIuLYQSlvc60FrCAwxMtBS1PwpkyOQDLTkcHOZcjeyhOX+ojXyoK7aWCJ0oAICQvbU1gsnTITNvS7xUp2BJGkFImAwpXYRCtKybX1LtRBPd9AD0UrRQcmge7G1JuPeWtNeoN1GU1c85V358aFk0SmvF7YCVEqrRemt9q-3kAA7lZ9zaLVeLCZUwlurq2NINdQf9gxAI3pGHemdyJoOwa6cwfGTERivrbh09ZHBmC4FLcoJwhGilYZgzh3KxFpyxR+UBt9YLaP0cY6AHQLGUHVxI3OVhrophUefjRsCdHeLCbzNMh9nSlIzn4MQd8fHqP4pQ2BtZ6Gmn2s0zxnTrb1MJ3M9p3T4bmwnoUxC2zJAmAQThY0gkYnXM6f3fh6BPagPGH49Kj9m6eViZHAweg-nD3YpGY50LWxVyJfvR69YsW8PxeGEFhzfaOkRe8xyZVh7uCkD0r5+zXmCsGd2JKNLYm1HFnqtlo9aXV0gaMZKIr27lVejLBWOT8m6tnvA+BS9A3iAVisxlqbFYF1LuG+sNd6be0-vUzsAo3UKMaqzZ17VY3jMQYw-a7b5BdvUFm4+CuhaxV7YDU51b4Wv1ZvS4+fetd4ODDy495LNB10Rezcox8OwM4yABVqywhm0P1IBTLNwlKqWE1YYyCkxNCYCNM4-dpYKj5jPtbgao0gIKgEVB4CCROoQk8VJOGcmjMfwNGeT+hy8Qv1GVNYcHhNdAs4vlfeeFzIH0GxYz2h2OGFkIuJ076PPQADJl59cXUvmahBYaMNh6POFXh54DIGRgrzK71-rlHGu0ccJuB+3XYt9fGFXEbm3tvWf-xV5zSnxOBAQTUxl8VqdxikGoOadgMhz5Q7V9cc+yhjSgHlBtjLcYMwLcDFwEsIsJXaTT9QZQWmGB6UZznvSOOaqJXYXGJTpFRCh1NxYc3xMC9dLoRn0KgxlCO6d-XoRrYwWl6iOXuwHtqaE49wLch8pad0Brv7wPYILQ9775XuPj58BKXnqVc+X0KRh6cfC1OlvZA88Xyhd2Qe6QLlwguAiaxEriKou7XS5-qyidZdq5yAldByj2JzWg3vQdr44Nhc5DfMtVwRKBcECVcHnAhJZLnfeXSd-e1RHTmBcMpf3UAAAFQAAkABRDgAAQXAHACwIACU0DIAAB5AAOWQConlC6CpVwA2DLyb0LB7WrzxGd03i73bGX2mGTgviANYVdw8GPz4PPh8GYJ+wEI11dxCGPznFygkNQTEzkPsBTz5kkLD0wJwPwMIJIPIKoOUI2FXxEDEKEEUJ-CkIsDD2Pxn2D1EP-22kALYISDO1T2b2oC1lsLYCR17j4jMLcJYMsPYKL2fxoC8MXgxAHSZnF2MQyEyBtwT2my4GpHMJ+ApGMX6l5AsEQX-mN3qAYI4TUMzwsLYJyPyhQI2BMDsGmHrCIETBAgAAY6De5+JlY6NqiuBeAdsI5yBZADEOjajVQQIGABjKA6jRhQAABqUAeQKAsFEY8YCBMY1UMTBOVoweT+cYahEuBY6Yc7S7akXosPb6CCRHfqa4XYzo7gbou2Xo3aBwWBYHKlZgHZDeDY3BZFVfbsao5BNaDo-YnozSGgpgNoy4gE24vow2XuXIaYZWOcIbSHOGfTLrDYiHBNXnQEDwNYkE94hueHKoxY8Et0I4o8TnBva4SHI8Dwb6GEjgOE0QIbVcSHQ0d6Wk+kobK8Zk13YIRFQ2Y2QrZgWE+E74kSH-FCEQQoJsEdAJfE2BMo5BaEwUuk4UzglIY6YqGAyIfKJE5IdU7jTROUhSa6SaceEYpgQ2OSBSGGZaMWRKD0DBEeAeLBBhCHeUi08yOrV-WQD0bkhyDwIna0tvHktk4UuebJH0tGRoXoG6aGWGFaFICtb6OKMWDwEMhkvfCHUSexLKJU9kz9RqfKMWEIAMpSd0qGLGUInMpgIU9MyHMU4BAXcBXRYFN8bY2+EaeU+KO0x04MB07hWuZ0uZQ0zvYwdU9BAAQkHy9OQS4K2CIA4j0h7y4WbiFVimXK7lbydxSA7I4M6DJz8itNhnVLB1gJGmqi3IdCgivMVG7P7L7JXMHI3j3lEDdMVApgnKnLOhsipKckIAXNr04TlKDOSDDKHn4SwBukgqMEflJIoSvjbLgR3JHKhkPOUnVIlNAWsBLR3OHMl0JFAEvOvPJg6Xd2p09z5NQp1JW3bH51AQQpRhfN3L5KVXU3nNwEXK1y+lwm4F+hCNnLJAYQJ1IvGE9xZ2Eppw5wUnpwcG4G4p0BZyPnHxPMiFkoxPIVoqKCbMoBbK2Nkp9F4slyUs1K+hWD50oTAQuWbPFVbJ4p9FwhxwIrACvKgiMvJJUqcHl0GR2Fl3kvqEHD-PYoAvzJkqcDyPah1x0DCocjYo4otwgNCuAqBAgMisSsBEfhkKHzIq9xYoy13WqLKFvVyUrNA1hwmyqAC2GBll2OuxQm-FVWXwlV2LD3XSavexQkuN8SWyatxxRK7FlSMlaqEPBXAkhVEDhIkEqTNIQnH0BwGp+L63U22z0nnV2JFLgXr1KNAA70ly7NQX9FVVYGpF2OGP4GXlxLfGsBVDWsjPE1-Bivn1DjcnuqXI2vV2yNSqMDqtGmbS0X8XaJEiismm2qQTmO4ICr0iBX7yEqpxEpH2SA-3sHHyYG-gPQ4ALzWsW2XQOuTyasBuSF92DCn2pC8JkHushoX2eVQK0I4CINlgABksDqCY89hmj1MCiy9djWC3rgidrgM5yV9RCgihqRC18fBOahbx8VDcpxa2qgopb-rkUPxKzqbaaGbwBDD6pRCxbqiuasjCAw9wiCg6KmYbDaRio-8ACGNnC8aHIr1qjPDaQEIbajBTaBRTiPN7VdiHbUQEJD8golqFbdbWFOy+awjaQIiKQoiHJjrngbcA6Vr8rdjMjg7dznacZGDe9xbNr0qykIwH1xFIxJEoA4BEBkB0AFF5AQcUJkaYoD1SUFJCAJhasUSMkXQmV5UblxwWYYNMlVz3xuVfSyTXj+6O79Eu7UJ6ZuB6U-U+7B0Z7R1h7JV-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-I9TRd5NBPnOJNp1tAXqw1A3exfeGj-Tf5OhhO5TbTFz1J7O9amFPFemAMCAhBXOBOVLKAOAq7hbgk-YCmgKLbBU++OHe4pf3miBBsYrgPUo3QJzi8RUOidlggL6Z1tXApXR-ps0IC+IhwMeXZIM1OaUUj2IBYDvjioi2smetPQEBTB-44gdeSvGQUgk6YpAj4fdfXnhQjZ+RKyr-OmB-zZ4O9qUnyO-rPXYE7lP+z-X5o3UgE6CnOR7XuNIPV7-8WBNvcJA1iwGTRL6Fg7QdAP1ywCSeA8JgUemY5FkLGfqDAcMlcGCw6ARhVcBHwYooDpc0gkGKANIGT8+BKFRUNQImC0CWkkvfwUVUBBsCvOMseWFwKDDD1Dm+gvpicx8gCCjw6rQSqIIZ5x85k4XSQR0mkHKC5Bj8RQckGUGW81BiobGPyTBRaD3+EOXQSIhxj50JEsXaRKXTkQKJsAO6awOE0iaNdpggTIgM3UOyoZz0-TVkPahWH+N3MD3UIL4yOHzwdE4wGFPvSCYHZjeL2RqJkzKTBwzhUTdYVMKogkoHgJKCCMuA9p25YgQIXzgNwgjWh-hBuaoECLyI-DOo4I6PlCO+E9RaYYEOEesgREpAfhzg0QB7SxGNBgRPw02NcUkAe1CRagPEdCKRFrNwRazQEPiKRHsJe8noWgB5gZFcAPQ4ieoHSIhSTE4RxgMrqADg4vMbG0xWvqAC5EjUtYvI1IJHgFEghsgNjXWKKPFGQRc2KQfkYKOeA2MoIAoowMqIgjAApRaYGURqPlEEUdRYoikRCgACkho9UXKNAA2MrR5ovUdzF5F2ihRBOODpaJGqTl0gbo40faJsa+jZR3oyCNn1tEBiPRufIwF6MREQps+fo5QIEHdGajQACYmMXqMyARjlAJoh0aAGyAZjQxEETIImOSApjTRJYwsXGJ9GGi8xrgZ4EYHHLGBQ8DwRCC8IibnDbsSvDIIqAHTLgfQrwtYekyi5tjgOhwt4cOMzAjoPQAAKxq435ex2IXEC8xhGDipgHtddAMxtrjihxYiRCEHDHFriaie1I1GBxJQ-CvSHtact0Icg-DIAhAPiDBgkD-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-mIWmkLLDlVPPVviUin-gPQMUkKcwPnnSTFFyi7JJ9p21iQpB4dP7diG3CA7twF8DMH6HfAzKjU8yv1k7jDl8Kyilc9OA-DlGpVSuEwbyfDo4EJKaAhMP6EmDsYd88dwOiCDoqvno9+FoDTHUjuJoo7DK3M5mvYDxo7aydfoSCLbr0UqK7tVOgvB7X92C7UYdBEvNY2EAEwyRVEAAJxdAo0seyQNjvGnJ6zYagE-PPETBlA82dbIVl2HoDtr+BqrdUjQAK4NFHBRgUkZIBkDJzk5MsNAM3pjUHtbFZymvSnuXSpZIsR4WvZVnDo91Ig4RTNC4RoC6xmMuKjQa4H73Z6h980sBiAv711KxqkgSamuRpTGr+tVKqnjVp90jU5w41dfRD3tT3bnx7jVfRNVS5lw9BkimHSqBDhRRRgvicVO+OpX+gpwIEIhcAtAWsKN8Xch-X6CP4dBfaTaoqFMAYAv6nxFMkReKj978w62-eyCDrF1iSKtq5Kl4CHCMAoGDYu-TvZnrr35yRVU4WEOCsPbYx1S9SgPE0q4AtK5gJButsRo6Jnqv1-S+pQBwYPmt1SEBqAxVhgM0w4D0CC1B3pUBd7kDKBo5hGoDB0HNIEhnWLgY9aDCah9QJAxBDkO6wC8mWfvOInUOSiwVs+kmkeHCL-aHI0u23EQaW0fVFdcyuulOA11ph9dOMe0U3UOkVNg9xB-EIjoDwu6BQsedFeWQCXchGhgYWgMrDMSAHgC5y1Tp-qojf6SFv+jec7IiPAHQDtG-0EfDA5n6+5nhv3M7ux1+GrO0OfGRkaGoQQlYYDDhDXCZwsBGYN0EIBYdzzm0b0NhyjHYZJmyASjUeRw+92eAuHbO4qIVTDtep61t9iqn7eLsiKS78i9Q7IEYfDqWSvgpQMWH4X-UWFhjKdLoWLGjwB1xa6xjXPKQ-He7hEd+9GsnOYIyBDdAAHSwCrUFj1B3AA2DpDygcxOYtWe1Eb32oeD2lY4V0BOMiqzjARC4-DuuO3GXJRQe448Y3zXB8AUUFwouG+gwnQAAAL1YmgBrjgQO440oeOWytdAo5QCidEhAwPjDqZ-d8cDhvQ8AwRn8GEciBnGwTQgCEzieNEhykRNR8rkP2IBD9PcMIZOYhAdB-GltdJyUg0sXiQnmTIItk-ag9AcmuTvtYkwbCAA')">function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
        frame => 
            stream_append_delayed(
                find_assertions(query_pattern, frame),
                () => apply_rules(query_pattern, frame)),
        frame_stream);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p9' class='permalink'></a><p>
      For each frame in the input stream, we use
      
	<span style="color:green">
	  <kbd>find-assertions</kbd>
	</span>
	<span style="color:blue">
	  <kbd>find_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>) to match the pattern
      against all assertions in the data base, producing a stream of extended
      frames, and we use
      
	<span style="color:green">
	  <kbd>apply-rules</kbd>
	</span>
	<span style="color:blue">
	  <kbd>apply_rules</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) to apply
      all possible rules, producing another stream of extended frames.
      These two streams are combined (using
      
	<span style="color:green">
	  <kbd>stream\?append\?delayed</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>stream_append_delayed</kbd>,
	</span>
      
      section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to make a stream of all
      the ways that the given pattern can be satisfied consistent with the
      original frame (see exercise&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>).
      The streams for the individual input frames are combined using
      
	<span style="color:green">
	  <kbd>stream-flatmap</kbd>
	</span>
	<span style="color:blue">
	  <kbd>stream_flatmap</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to form one large stream
      of all the ways that any of the frames in the original input stream can be
      extended to produce a match with the given pattern.
      
    </p></div>

    
      <div class='permalink'>
        <a name='h4' class='permalink'></a><h2>
    
      Compound queries
    </h2></div>

    
    <div class='permalink'>
<a name='p10' class='permalink'></a><p>
      
      <kbd>And</kbd> queries are handled as illustrated in
      
	<span style="color:green">
	  figure&nbsp;<REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>
	</span>
	<span style="color:blue">
	  figure&nbsp;<REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.10" href="./4.4.2.html#fig_4.10">4.10</a></REF>
	</span>
      
      by the
      <kbd>conjoin</kbd>
      
	<span style="color:green">procedure. <kbd>Conjoin</kbd></span>
        <span style="color:blue">function, which</span>
      
      takes as inputs the conjuncts and the frame stream and returns the stream
      of extended frames.  First, <kbd>conjoin</kbd> processes
      the stream of frames to find the stream of all possible frame extensions
      that satisfy the first query in the conjunction.  Then, using this as the
      new frame stream, it recursively applies
      <kbd>conjoin</kbd> to the rest of the queries.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (conjoin conjuncts frame-stream)
  (if (empty-conjunction? conjuncts)
      frame-stream
      (conjoin (rest-conjuncts conjuncts)
               (qeval (first-conjunct conjuncts)
                      frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function conjoin(conjuncts, frame_stream) {
    return is_empty_conjunction(conjuncts)
        ? frame_stream
        : conjoin(rest_conjuncts(conjuncts),
                  evaluate_query(first_conjunct(conjuncts),
	                         frame_stream));
}</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p11' class='permalink'></a><p>
      The
      
	<span style="color:green">expression</span>
	<span style="color:blue">statement</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'and 'qeval conjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzRWIBRNFxN4ACtLlRfRiAAD0IMIixiQL3VSdJMl6gawnChrurcqpSA+BhOu6qbBt4kb+LdOZ1pms45pRNzAmW1aUUMPbNovBI3QjfqNtmxrzGa1rKFxYKuqO+hLuG66BNFCasnu-bzielxFuWj61uBq7Rt2mHHvm8wTpAqHzp+4jRru6anVBpGXBqMQqFqBh2jIXwMYC7aXHhnHZsO5MVHoDr8GqfQztMQxuDkcgFGIBgPkCXnYepsaGBatqVuZ-H2el86-SKUoeb5gXKCFhQQ2aTrWboUZTrlznZboT7OesND0OIFDidJgtSApiGQI5sEnbCSCdJWZX+cF-oeNxnA8DBwxQDkRQIBgeAkFQNA8Wji4vpcS382J2XWvoYg6Eobh05zTbRtFEEtAoLJclTmoM4VmSC5cxsUOIFPCDT8vpOaAHebrkuG7LygK8V2T5MIAXfAUFh8BrqijCHkfG3wGQ0jb+vG+7rO6Bz5uxYqZQ2HISrvo7xee5KFo1wYDet533W9675fV-9FvUnNagxDoPmM4XruD9iUpE8bB+n5f53FCd3TpnFoK8P5hjFm8NiqJOhv2AeA3SR8fhQOoDA4ugDF7XwQXfBgW9h7CHIOLAaJ1DDODgU3f0pREr8zBjOXmLACEMEXBQPmhcLqX3gebd2RQ8EMMISPYQFMOHlywWvUUxgyaOHbhg9+0kv7HwkQWKRRg2hKOUF7ZgWh-7sJkZw0BN8DQ4PYB4Lw5Du5yKQY2YxyhTHCJAdnbBYtAqq2Jv-MxCD5E-GcR8VxwCzGiNvmLDQhAQTch6nYjxghCAhIpt-DoWh9BgyIYQEhZCIlYK4duWcIEZ4MFrhdbeYhkmpKNO4rBjiTLBH8aJaytkHIuEML4DO5A+oeS8nE4mhUIpgyiTExJDhuCFKGn+V8ooUnUAUKg6gOYaEy2RL+BUo1glsFxOMyZNAZkMFociQZpAxD7ViPhQi7phRvlSHvcoWy5kOAWQ0c8J0MhlQ6QkpJAj7Y3Mydwho-UtAiHFivOC9A3GGS+TEJJzC25sP6XQM2ILQVDM+aC6YSTs6Aufn4+Zz5Ch51SM42uetHkIM-n9JIeSqJSwzn4h5bBzETmaJ2DUywjkngVJU6cOyak2Tso5YO+N2S+BIG03pKzCqHIOgzFi2SGC5PyXtLBv0SUuBuNiQpgIAB8lj4l10KRklodNxU9O-hS6BzhYF2PlZjUWoo1b8FULEq2CSUFoKYYENiYTpGlz0Q4olnj1zJydaaxslJVF+PSfoolxkHXSJEFM+gPxOiFzoK5GZZTw300NQokNyiPgKEoFzcNv1RmpAlm9AWWb1FGEoLmiYCrYijQZX5Zl-wi24PWCBHxWi-E5rzbc0Mo1nl1wdi4ztr9u2uwcY248REQzniHd2sl654qgEMgOxJcFlodpal2qtPbOATpDC2vF48507oXRuK6KxRontzWe4gfl4xTtrS6UWRrFHpwrXCraG7NFbozhdMdZt92xnJOcbpfKpW5IcL-L8Sa+bDKpjdJVGh9AMHVaJSEUG3CP3VHCbgsHiAgzjozQw3JGD4H4CfEwZ9srvHcYW054jy0eqAeXC9sRzxjsZG+qRw7f15vcfeutVri2vVxNxitAHP2lEBp+tY0T06DBI0IaVFHT7bxoxdE9vjR07omIinSSmyOqao+p1EF1P0TmoWWyRFaUa8e0ZW6tkwsWMUfcRbFwnKOb1M2k3RFDQylGyfoNT59B7D1Hu4oloBmiA0bQavlRrrG2L8-YsBv1zxvMZElhgbyBPknPHuIOQJDMqdRiZ8+F03mHhiOeTDpCn61CK8CUE0rZ51ew1KQr1XFWauTm8rOfVfnCH+TmNFbjCv6aRdBdrDXQjcAs1N75YC-YSrcka7xP63HmoLZaxDglbj8yPYu-Qn7V3OPuiUi+KWzbhpWxm+NWG-6hpSxa-LxVcxUUZKu6D-9b3FII6Q3e12sF+Wg2Fqet79A-eAeDiLYba4g4QwJWu6aEvHxCzR6pDjfpg8aeFsex2MexTx1PMpIZV1E6qrXf7WGgeepEeG-T+6IoB3xkHEOSgoBwEQMgdAMdiREZYvnVB1c6O7f+uNXgw8yB0dAAAHzl4pcRatqhiFlwrpXqQR6j36Fd+n3d5eK5fJLyaETCga+N2KD8aopQRMRvHZrhcfj4rNxEQoSO3R2NRw7615AxASGG0F7tOw+j3DECLPbYylzdvCAAMlj70foimd3hGEkCSgofmBiG94zVufMxce+SKkLPAfcGgmqeCfDXTVvmBJ6PVrc98+u8L4nkYEYIl3b5VZ6HOnSCq4GykgHzgI8CSC+CHvWluCC373qwftOYX29z-fR76LX7N485H4vfvS9Be2+Plf-9q89In7D9B+uR87ST-oCMu12-Xec4vliJ-qcXaH3TljBvxeX7b3Wa-v+O+d4+6pCU7fQx6-Q4ph477l7B6iQlhCBlbebnzwiG6a6QEkxB47oWR5h94OhebUaojIEa54wO4gGMB15gQp7DRwxX4340G-4x4P4HQ9KkF-av7z6Oaf7LDUE-62iYQp78hgZAGtr4KEJsGA66xgF-gQEl7oHQGYGiS8KMJiHOBH7gb0KMIQqsJkD-qUFSGizKoTz44N74bcC370H8F+w9KKH8L4CCIcG5yixmG8HmG5qMGCFL4MAbbaZgiSFcGeYyGB5yG5oWReEjpaSWF8rnbEJv4SG6F+F7ZOEUGuGAEeEBpxpJGcEb4S5oGBFzgwHghpFJqNjKH0CEFG7+i+7+6yF5HyEFH0AmrpH2bAKqEO6FE-CD5urJy+FCZ7ZSqBAyAcHcB4gRGtH1GxpFEUrcY+FxE9Gj4tb9GDGgCkiP5uRtE-w0pkBJobJ1zdFbS9HzGVCLE6ApFC6pDiY7EzF7HZEBFl41HBGiTnEtGMxWbnEcHwazFuhj6PFT66YjHEZMZNF-r2GRCxDxECSJH2F-EsRaZhFvEOEJFX4AYrHIwEbtqbbAI6FOZUGix8FObIlF7iyibWZqIXFYl6Gb5pAZAZGEY9L5xtqAnTFklglugAxUl-4Pi-EnFNRa5cimK7FXEslb5VG5GMkgLghJZPEsTZa5b8k9YQkME56nEMDLLUBhJkL8nSHb7VGikWQqlqmlFQkLT4w07iHAnkngl0EcnJH4mCB7ImnOCYmZECk0yWlZC4ndwCH+yyBs7BzyCc7hw85Rwxw6CC7clMCkAFj6B9QX4Ena4cBCBRnhCKSlCtJp7sgRn-CKTGSkCmRRkWRxm66z4mBaDCABAmDEDTK1CNDV415IZ3C0KaGSDaHcD9Y7Yt5j4XJ-JgzgiTbTCNlsItm2E9DM61mQIYKXLbIxliw3FBYyAWSdnDbdmGnmDgrqZaFLSJJTl9GHFzmgDDE2mvJDmbngGizbkDG7nLFMF8oooAryCr5ggyBbkHHnncDHGKluRWZHaRlvC-JOnOnNZzjghfnEA9lMyUrlw2mijAX6C1xTmVFQFzgI6iTAWSnHTUx-Y-l+KwUnkIk8FZCwVcnmDvpfCkJ0BFKop3luLY5f4uB3RgIHnrogSey9RpY0Wt6DAjmGqOAkX8wsD2wsJcA7bu5ZFugISJICWI7nDngZ78wlq4gUVArAKMixahnXAHZbICWGFTz5r5JTliXkE6VUQ0nXkCWn6aYCXPDCUfEukjCezLngymWyp2UgmgkiW0W-52XvlEWDYKYjZjZdqTyjyGW6gtnrCyWsXtnpxiAZ5aVBWp4iQcBkUxVrhLABaThwTcTqXMUGWUS6g3YsBhUjYRrAhRUxUGXhAAA8JVSVqgMFnQqVfYX8OZVS4IAAKnJPtnQL4LaWIFLhidSFiCEtQFWaJKAAANTLqgrT5kVCgUzlXjWiQWQLULaFDTViCzV1V5VRbRYtDNXThtUdUyDED2Q9V9V-oDXRIggjXgjLVTUq4zUyBzWBV5ULWgU3UTUrWxBrUbUpWemjn5QDzkGQ7kGvZIgJYry4JyTYjUUhg9KGaxUhUfYvXuZ8QUmAwI0NU6RfwQ3ojYifWFDEX4CkXkW3mKWvzeqfXNDkEqRAi7TlX42IK7S-UM1U2kbslgTPWuz3j4X1UubxgHqnLZw03sih5yV+WUXwJPpFBsoI0WTWQjzlCgBV7dYPoEQsp9izoCWMhDrMVAZ9qizw2exmXiVtywqLZG1OUWUq1ir81uX6KQ1EAsU5xeUuC47PXA3PW5Wg2Jjg05gO3Q0RUex8rw05VI3vH61o1sn03oTY1+240nZfKE3E3i1k1ggU3oRU3PXC102c3bW9ykRM31W5V52rDUhs2YS53Wi2i-XW14STXTCvhC1pkyWEmSwKX3lsbfJ7Wy2coK0iBK1txCoT6ipHhq3Toa3vaeza2MUaXzx63+ijSG2mUGUm18xm1TYW1GWr2OiCZ4QgYt7Zz+1O0ras7xzs5+lhzc6Rx84YCqUElrJTKbLbI3LYkUkznl4crggP3bGoXmDf2VkMATIhJ8aY7zKv0Wl4XQp-Xnj-1P0+lAhBbOhj5zCgWxBzATjr08Ll7ggcioMxAcgYOIpj4IR4PpWkCENIPYPZKkPZIUPTBj6smZCgWMNsD+iYOFBj7BQhLkC+CgVcNbzdUGjsOxBj5sp4Nsp9jCMxBj43AZ7KksCGA9myOqDyNBwrBSMAVgjghjWkOxB5mgC+Cp4aqtITWCMaNj7uS6MxD6OGNoatJeRmNEPYO4bTA2NGOgCtKQgGMxDmPYPABWMGB9TcC2MAjGOgBgCOOUOAUACkATbjdjoA0T3joAvjgFaeuj8ToTHjwthjTjgFAAhMJBk0EwY+460oU0CLk1E1oxVXEyUyE2E1VTEFU-Q9gxVQCFY5k400CKU3k1o2qnU8E2U6ABqs06k-0x09wEUF09k2qj0y0w0GPvkwE9k4UFkzEPk7ENGc6E6DA33usgA0kgZYCCGAYXMNwLA7Mmfbs+9pc1cvHNKiwB1MWUVqc8hsiGhsQ-s4-SBaYa6VA5uIZHc4HE6EVO8CVN89sZMcwOdQg+XmPgyqBQyho4ttI9g5AHQGqKgrw1Mxi1i29Ci6izI1QCo7AJAHg8owwGS4S4tsS3IwAKKkOUv0s0tTZj4ABy5A7LATnL7LJdOkNz4LPAkLADcBGcZlJzKwBhwoWTu0j5FzIrmyYrPaqUtzir-Myrt6rzUr7zaGEJj5N2dzyr+0o5yyqy6r9zyY0KuyYg2SU5ZrgDjA4opAKyquDAHU5AeYJGfemgCd0EdzQDHA-8oDHyFmhSdrRwRQ8WDuwEWIKd95TwOFAkPyvl7dwK0EwSCm+gwLxpodDNwrEyPz0L8BZlrLhQmbIg2bFrSS+ATzLz82SKRrxUJbulvZRQLdYtab8C9MHAAgLdtrtbPwXbGcXG-EA8w7YIoLp9yY59ocXOEcvOGAt9o5P5FApgNsqJVUNwpApi2B1AT4SbgplJ0u04EJe7T4kwIYsw-zEY57fwzmr1DA711I9161j1Qw-zd72EH8zQZ728+7979lTMCgNwZaEKJZlafeZF4d-55AygygUuGQycRggy8H7jQcE1UO8Hwt4IN1pQuHO1b1C1cHygZb-ouHPxUH+yQHDgzCxgkHM+CKPVVudHhYEQ-4Lea1r1EIC1JcoHxg4HUoBhhSLH28xgNrNaE18I4INptHYn-MhcCgUOeycFJuWQhSH8+HgM2k0wOCQWGnoA8e0kZylJk0EYGn4QCu7F7Nyn4e4QFTokxQ8IV7Bgu0BnaZ4ITnyZYFascHIEZMHwW728piGnWZ7Yypl1qpmOBnRnE4eeg6xpJRusFnPqokPHE1cnS0CnZASnbneyBSKncoH1E4N1z7QNuS+G0KyY9p30Fnt1fYpXC1mXxgTAOXH7kDQytnzm4QY1IK0nYXzXdcYkoIoFOqZQdArHrXpAvsmsYsYloXAY43rHEIJD3AQWeX4eVd6nhX3Ag3U3PEs3yuVHXXLn4IAA5M+6qlJxd7N99e+xp7JxN-Jxu3bPoGTHbKp6Z1kHzCe+14MO9ws7S9g0IMIG9cEG9XZJPqJOaGmG9RGRwPCJe4t4N39297bLk9zWj+TDdnt4pz+0t-J6jwDzdhGMT7t091ly94Yy7aAB6168oD6yBNTikh4ADutJ93qZjvdJp5oxCJzwQdzIl9Eewdz224UAYXT+sAz9QJoH9iz+om4BJ+z0j7p2LJV9zy52Pk51Pu7RV3PQNCr0ZLPjTwD4PM0n1C6qz24Oz-RuF-z2Qtz2xrOrm1nUCCGOV7PJVyisL6aY74Jns1b8YMNkMoyAYab40ub5bwr-mp1374sqLEc676pCQy52JbtPLwDiTEMjdhCRn24Fn-l85rN4n-jjh9Q6n-INHwX-ssXy76Xx55L96zL0z1RDpzJGJSX1PGL7EBL561L4z3L5XwDkr47-jx33X138K4H9Xwcoco+i2urwb2xqNFr6BR743nXHH6rccijf2gNHFu4SxG9CQDb2xVHhlRr4t7TIQPjzLfdHLVyvUrPpdvyiQL-S4JhUCdz4e-fUuJf9MKUGxg39Zud-AaA-zqQ8okuPnDEjWWPz59NIVUSgPgByz8wBgFQDigbx-6v9N+mAjzjDzqg2k0BypeAbFFyzf82Ku0T-vxjj6H8Py6lFgNUDYhkU6qOBCCEjQ3BYCxKX7QSrBRtIMCY0ZFMlKwMeD8CmB4eLAbtFEGq4gOUgwQfilkHiC2KEYBQTIMYFutqgs9fPNwO5gWUsBVYTwNoN9Km0bSKbStoYKQrOU2KYlKzAoJYEAcOAuVVCEYLXo09RQ2BU-i3ngral1oFkJzoRRTA+IM4+7BJPf2cGCUHAfdYbNgQYDqARAHAUgFdB6S5BCAsSTASjRiAtp3BjvKWoaCFYKCssagwQRoN1pgCwhtdIoBAQZT6AVBn1QMHQEiFCCYhIPeIT4LKGU0mYKQ6oYUKKTyDuhfNOfmPROThcxK2Q9IRUNFhiVkhFMa-puA6EUwgBjBWMG5kMh79CAu9fyLbWspzD2eNPb2LzAi4kA-kFQARl2DZDHCeGJMQwKSCwEsMjAwxFzucN8CXDiQTwWbmn0RLDFu+1jdDmrB9gHDfKjwrsL8P2GYRPh+bUFICOGxXDPStJSlC636CbJIRdw7gJCIFjXCz+anO4Tz1RFXDXhKwZoO8JGCGAwR0ERNlk2qCFx4yiIgiBcMGA4iXhZHPsGSI1R7CFAZEYkW4Tvovt1YWyLeFWneYDJqQU5GQHyN+Sqx1YkHP4dK0FETADyoo9OOKJ9iSjhYNwzEayJ54yZ8R7oOEVSP5hIjDIdNYETxDF7Mjg48osgkaOVFsi+C6sTkaOVMHDYhQkxUEFhX-ajhWIVAHQabXSzvZ8hQIBQY600F1xDBnlTwR2GtxeguhAg8PN5wdF2D3RBCEBHZTC4cRE0DAWRlxADG9DoxN2RMV6JcHRtGYqYzYumKoBcQOIKIz0WUKwFT0POMgOsLUBuqnd6xewRsSAPaCwIKxHog3C5ynoxBDuqQdwRxCTKLcHRgDWeJSBdGvwuxeYtoVqPP7wQqAceBPAuOCxLjU+VANMRmNqoRhhxXw-0BGETGMj-QxY0lNuNR57jwR0EXaEeP3Eb0ras3cEC2I4Cg9dhquXtjlFZGJlOBS4EpqaMBj+CVAfQGxMqUYD4Ceo4E5wNwFN5djTelgt7EK23GeECMjyRkKeMYDniYJVYyCfQAbaosJwcEiyn5FGhITqUGUVSM+LbGLdNRqvYmh+ItESjSJKEmlIBN4AtdGB-UbNkuNVHijVcF4pcYBPSiKjeYOINkN0HREISqQTWdKKJMzC+BLydtd8BUBtyKZwg0mKkjtUMCuCPwFvIkDPC4l-kwKVIboIyHT5LjiJnmdwd0DUmOcbqzQboD20kCgBWqAACXpYMAAAguAHAD0sAASq1UgAAB5dlsgCBAqVRyR1TiCoxwm0Z0J+Ytji3jYn8wOJfUAyYmh55CSUpWfEgQ6TSmbF8eQkzoD-BylGgbShUzIMQI0hmZE2bFVye5K8k+T-JQUkKWVIHBZTg+JU2KZuPylYChJX4lKQwD0kDF0JN2ffFVOcDuRWRsA68owMqlphcpcU6sWxVZG8iqABhOFImKlzqoFsagEwF4FAlzSEB30TaeZEnCUBE08UxkZFLUCHTqpi0uyitl7ZxAMgGrcjHCMZAAAGE4KORqD2RPCL0g4aEhoyANBgsMAGbkAcCFxGQ8PV6ZDO0ATU8QFkvbDDKlhwzSANpKzL9KEH2DgxbotgSjPt45RqAvoH8RlU86gUxKBMyLvqUYDEytu8YwDoBMCD4ZsZDoVIGzBhlXR7kAMwmbTNNBK1jq-0jgIDKi6xRiZKUckD0l+H8x7InQUxOQJDAQEshmAwyFQnUpYzuBrQqmUNRpkgyosOCEYQb1VlkNr8gQGWXLNR6O87xsQaWQwFllsBTECww3oYmN7707ats+2aYk5k08Kghw0INKl1ihCQxug4iFLLNl2yLZCU1sAxkHHbxeovaCooLQ7E81hBglR0DkNRoCQbUd6QyE2gzl3JfRBQ6MYGN1qXT1hl6TzFUJYD8sABwceqsQHBHhhw5nsqMWIMhzVzyh-Nf8HnLGGKTUgIwkcdBEAHNyLZ8MOUFZw9kWy7ozsvsM0HrGER1hDEBiFjBHkOydhhYliGOKdENwsMfwBmQ4KRqXSfReQ7oUXLbnFDNKwc4weSFfD5CHOyLKWvWjoCzVSxUU1uW62zFiCbsV4woGuDLn1066gwzIXHLXC-gkUeASEJApnS+jT5-o7oSXMvmdAy5is0WHfJEgMpjZDgF+eeO0E-zQAWY8eCoMgj-goIyY2eXqiGz7yeBSCsoZOiAWnJfZCmVIN9D-kfZU5l0yyhAqgUVy9sT4hsa+JAzLCeFybHymYLxkHzWFoY-mrQPMBYLHqr88sQuDvDwS7atYiifwrb69w+FrY0Hu2I6BZBCASinnp7AHFCDs2wxABb3C3mzwd5pCPeYYoubKKLKpiocdcJc7WKmERNOxY8EIB3gHF1Y8JmAEgWQhTFYlQxcuLm5LhfFPPORbiHPG7iSRoKXcaSGtlFBYlCi2qun0SX4SGg6fFJXgo9gPitR2il8TJw3lhkYZlabwp93fo1FvCIRF6e-zAqbw2JZCTmRIP+acygOKM3LO0oxFfcbOEYLpTzzHydBZZvgYvBmWc5aiISQyl6XaOPyXVcQhCSpTDOgno8mE3UpIOsvJhBiuZ72TeLriFlLpmZbcVmX8HZm6xvZkkgQOkrImMgQU6SzCRsrik-y3gLS00ocuUyczUl0wQidfLtp3LmJ5EoECUqom1yaJRvAdFT2yAAzcsXyxgD8osx0TJAn4y0UCppAsTHpTkuqQwF8mWQAAMvS1ClK0qS30npNdJUYwyLo90kOYlPYk6S8pSQDKW1J0kkxqVTKmFLN3KmNgOVQHHlccouhTlcV+KoleAFakgR2pgqzlVORWkVtBgcKPqZaIGlDSZVvyhoEBRemTSjR8IL4UqolHkyGlHAbVerER408HWHK2ld6OWlGjVp-IvGtuBhloYFsDrFZS9NhUHyrVa9L4ZSulVeqd65S2vIG35gA8sedsTZedM2LxThJPELAStJFFrTkMsNLWlk0Mhyr5MRwmkU8IVXoQ1QHU8aaUiwmRrtlZQu8aaItUvSLoRai6WUJRZG11RNPaFaGoB7Rr1Rx8qkK0A+ZAgZJx-OuGT1EhNr0eI9f8kpM-BShO1NybzqQlajCzm16PVtUaOKoTqrs4FfjP2vrWLrXBlyioH1AdAGTPua1fiR6UNxix3BZkj0rsKQGBBbpVUDQSlKhydSroLaFKXupikJyKQ72EyUCBVVZh9Jb69YeeAQ45kYcMUmNZK24T6qlR3QXUp1JNU+xh1RQUqDiBg0Fq6AcG3mD2SBZLgYp3AU0UBuZkgRQN6o7rD3P3rEFiMV6w7ADLvWMq+lNys6YmkZDvL1wppa5YKBjmOsd1e6kaZ3SMkCAv12ondYNN-XDStlC+aBUK3w0w4UZrI8De7Eg0iToNyFLVVNPKFIalNmq41VNLF6UyXpuG9xlJvFYybF1JGoRWKhkWu1hAw2FGcEBvW1dH1PEypW+ssWHwiBTmx9bNyIExSH1qGoDl5s6k+b5p9AK6B8GCCoDOpgY+9f+vo2jx81QW94IyFxUNS-JAU4KeKvJBJbvJKW5qSSvm6dT9NaGWLXZveDdZRo4IDEGUvI1P4rNxyj1VHK+qUbjlkW2jfMr8hRQ2A1mytYlrcl4rCVxKvyCKr625alwaygwO4yK3UrStoscrV4Eq1ciPoOsYLCkBNh5oF1toniWLTRhWsttPaFzpCqUgUiyAuoyjCcJzUThB15MNdEtFRjLa1oO2rmhuttFuxpm7jBbRzNRInxbt6Me7bClwg6RHtPsT0khvK2kA3qF2u2Hw2W06xQWPSQmMnCY4A6VRNqnkQmvtV+s+wtYtVFgD+1FBbh4OimHDpLIwrs+6q0MCiqQEMSlRD02wDjsPjk60VEo5MSQp2qAxntSIZepuoOjA7IeYOqNFT1AqE7qIXI-qCYH4A4Cb+WA1dKEP7ZfACqxRUmh3Rp6N9pesvfFAjo53rbTwi9W1ajvWmhhMdikEXQhwSTqQYWNAZOAzQ24PaJKDNGCtzCMbgiZaOYPCTkqsiP8eUHENhUKnerY7mdhQcEMroH61xEeqXenZTpElkLAkrOxSIjp4izRgdge5vrel51JwtA-O7gIntV1URQW54G4Bb34Y8NGQAAThODMF2IAjGNUYESF8oC9YmW1SLmnAfA8MvGhflHWPVjC85r4FwGmQ+m8bCgte-QGdzO4WQ0Ao+hDdv3VqhgB9ho-oQ0Fr0xrAGhcK0eyKXhK0PIe5coUvPJDz6VpDelDvtnz3l6eGgEsZTw0mWRlsMYWtbYDprEa6fY8e-gHzzYDjLz9vzAdXzoB6jdn9Z+8MhuHJV8o8+qQUNdUFKirgyAI8UhAS3bUCBWgjIcPk0mYAW9ADXErLm+Am78BXqRwM1TfNOQzJSAEB7FqAAc7ghSEiVcIlLQH3ghPIXkQA6AAB7ajSoMQag75Bc2xAB9e3ZtccFcyDCIgDEV8KBqQEoDlSVm8de+vLY1abNpAYrVDhq2gbcsrQWfUMJgrgGiahB4g6QeaJ962DR+imFQeoNeQYpggEQ6IH0OeQWDPcpeWZrn06GIQphryPQbIlBw7DljcoTvstFprbVeu6CAbq+QcH0e6O0FKbvgLBC+18U3Dc7uDjuMc4x43rGnubVT53xqK8PUpwAmLDzNXIodEIEMD2QZcIB-gPsqFawGgQ8ByPsgeW55GBAUnLAy5k1ptwms+Ot7gkbIr0TK9qRpGdkXRqexMaWiuyPtiimq5ux5AKSP+HpQU8WuwB8FsEeTitA-mtlASlzTt2RG0M0R+mMDpB4p6-UcRoddwG1jVBQWgBmFWd3An6AclAAHSwBOaM1w2QQzIGCApGqSwTIZnKGgjD7RIeBiAyBSdAHHQ1RxkgScfwnnHLjfspgMgNuPTcuJGVXgKuBuw9AxKUJ0AAAC9ZhoAc40UHlUgmtkdxxYz0CRPPGdIrx8EO8aJqfGTgUEBqDPSyM5HpwRxq4xibBNKd6ma3YHm9RYBvVlAb1UHpMDO5Og8A3x-wzSeBM3GsTjJ3nuPhZNsmOTiPAk75CAA')">put("and", "evaluate_query", conjoin);
</pre></div></div></td></tr></table>
      sets up
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to dispatch to <kbd>conjoin</kbd> when an
      <kbd>and</kbd>
      
	<span style="color:green">form</span>
      
      is encountered.
    </p></div>

    <div class='permalink'>
<a name='p12' class='permalink'></a><p>
      
      
	<span style="color:green">
	  <kbd>Or</kbd> queries are handled
	</span>
	<span style="color:blue">
	  We handle <kbd>or</kbd> queries
	</span>
      
      similarly, as shown in
      
	<span style="color:green">
      figure&nbsp;<REF NAME="fig:query-or_scheme"><a class="superscript" id="4.4.4-fig-link-4.11" href="./4.4.2.html#fig_4.11">4.11</a></REF>.
	</span>
	<span style="color:blue">
      figure&nbsp;<REF NAME="fig:query-or"><a class="superscript" id="4.4.4-fig-link-4.12" href="./4.4.2.html#fig_4.12">4.12</a></REF>.
	</span>
      
      The output streams for the various disjuncts of the
      <kbd>or</kbd> are computed separately and merged using
      the
      
	<span style="color:green">
	  <kbd>interleave-delayed</kbd>
	</span>
	<span style="color:blue">
	  <kbd>interleave_delayed</kbd>
	</span>
      
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      from section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>.
      (See exercises&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>
      and&nbsp;<REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.80" href="./4.4.4.html#ex_4.80">4.80</a></REF>.)
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave-delayed
       (qeval (first-disjunct disjuncts) frame-stream)
       (delay (disjoin (rest-disjuncts disjuncts)
                       frame-stream)))))

(put 'or 'qeval disjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzRWIBRNFxN4ACtLlRfRiAAD0IMIixiQL3VSdJMl6gawnChrurcqpSA+BhOu6qbBt4kb+LdOZ1pms45pRNzAmW1aUUMPbNovBI3QjfqNtmxrzGa1rKFxYKuqO+hLuG66BNFCasnu-bzielxFuWj61uBq7Rt2mHHvm8wTpAqHzp+4jRru6anVBpGXBqMQqFqBh2jIXwMYC7aXHhnHZsO5NqUoQJyAUBgNBIEQGAqNhyF8Ls2R5vmScMUlftGgGMjAvE-SKUohf54QGFFp4Q2aBChn6QZDBltCJyeQEAD4mZZtmOeILmFa7Zn+jZzDdcMnTtytpXRf5PGvpTLRSA4cgc2IbmCOF7XBaDxXlbFzHqbGtIpaMGWQ3lsOReJVWVnVpddp16w9b7A2AWN6pvd9-3A95xX9BdiOnlzp3Ynz42PlNsjs-dnA8DBwxQDkRQIBgeAkFQNA8WHi5PZaFDif0XJWvoC3KG4C2c02iXUhBb3OmnxRCDnuhKFlmT15cxsUOILfZ5qPeD6UgHWbPmed8v-fpNKfLCGV3wFBYfAT6ooxP+-o2fAMg0h33Po-eeOcWh0GXtJZoooKjKF5pVb6D9d7P39KUYga5A5IPICgug4D0GLxgdfVYMdzTUDEHQBQ88iFPzIbELBODKHUNoXveh88SGwP9PA1Ibw2Kok3mghhL8J4-AEdQIRWQRFcOgTwg0fCGC8y-sIcgDB7onUMM4ThV8xGJQDmDGcrMWBqIYIuCgtDvYXVkVfWudcYgqNMeo7+wgKa2P3twxhYYY7GDJo4e+290HeN0uIxsfiCwBKMG0SJygA4fGJuwygNigkMK8XAmO7APBeF0Rgg0zCfhZOUDkjx6TeEx0CsrZgWgkm5JCQUxslSEk1LoaU+RISlEcxBNyHqHj6mCEIIQNgFNsH5inmDDRA0tE6L6V4+xfZZwgWAQwU+F18FiEmYQaZRo6leI6S0UgplckWWsrZByLhDC+D3uQPqHkvKjPXMTQqEUwYDKGRTZE3B1lDT-K+UUWzqAKCkdQUuRjkS-gVKNLpuIAVApoKC-G+hPmCFIGIfasR8KEXdMKN8-CgnlAYGChwEKGjnhOhkMqDyOhaCRfjBgriPnEvmQ42I-UtBcyXnBegtTHYsomRYu+1jaV0Bzryhx3zmUsqKBMzl8gaF0PBc+Qoq8GCVNPqMGkbA8mhlKGqqiK16DsrBOSrVITYjNE7BqZYmKTwKhMsEYVJybJ2Uct3fG7JfAkDuW84ZhUMUHQZixRZDBlmrL2l436f03Q3GxOso2YTqVn3WXMlodMA2vIeQakQwL6DCNSXIpesNo6imZvwVQIzJ40skdI8xgQ2I9MCRfSBezFINMTVvbNNbKQxNafmux7TFLGUrYEztzgfidG9nQVy-tdntPphmnBESLZxKMJQBQySI3ET+akFqbVlY9qiR8ddExI2xFGpavyNr-jbuUesECzSWp0KPckkloZRpUvGXBZaD7anPrCJwQtl7jxERDOeCG9610gVPoyQyH6aXgaqYkp9kH-2AZDDevV64z4IefSsqir7-SjRw5BvDWG-LxmA6el00dM1LqiWKi837qmPr3hdP9Oc0OxnJOcF57rg3LIcKwr8U7aE-KpjdFwMb9AMHjVCQTbgqHqjhNwETxAQZj0ZoYbkjB8D8Fwcg7K7w6m-RvXRldfSrqGneKWFDjIzPxOY0klJTar7kbPcWndr1cT2dXces1JRQCAzFWsQZFttbaZDXpxBBnUQXWI0hjh7HRVSpiFpoQkXUYmBi84C6DG+wGP3f4ldKNEMtNY75l9kxDx4Uo8RZVHn9P4MM3Uwyr9QSVyy012Klyv4-zqf55ogNL3pvdZmopJS+0L3ab9c8DLGTjfpfgNxdS-Lnj3F3IEaWdNRc6wQi6DLqsqGKmUKdCnqG1A28CUEIaQHye0edwY63DvvuHfoBli8+rsqVrK7ldD1uSpSxOO7imLvcDy4DwohbcYaZYpmppjne0uam4W8W0cCuYYLPoMVcGz6VM0Wp7RqDJtQKh-O0bLCzvyo4W0lHxFzzQaBDj-QQmkmkYLJs7ZhDZlzvJEJj+vXf5YeZ5T1nPXAGztPl4vyo1T5k-Hpm6LXWZmTc3bzyn-PAFs7PorghGu+uzJDEznXhmtcc4J8rpHJPSHMrQxFDu+Mu49yUFAOAiBkDoBHsSGHTU15SOPsZqOEmY7pC-mQYzoAAA+EfFKiibtUMQ4eo8x9SN-H+-QufE8j9Hl840459MKEnnPYoPxqilH0xG48j4UEF5j-PERCjiYEh4uXjMS3kDEBIJWiyKs7D6PcMQRag--KXM+8IAAyMfvQtYVfCMJIElA+-MDEC3lit9aEB8b26NvHeSbd7aeCVTzzA1uTFz-G7oD19183zTafEYLMr7cgVlnyHSDx4+1s839BB8CW7+CZ-e9wRuA486AxB39OdodXlRR-8wQr96sh9Ugl9O9lF2t99oCj9XloC9cZFM9A8BJdoIx8C6x+s24MCRd55Td8cFMidLdUcg9CDbQ79ic25j9npUhjcepR9aD-oED28kDu9n0LISwhBMs8ECF4Qs9k9+8+D2sBDRI8xX8HRGsxDwgk8PZGZ2CqpT8wJIMV5o56Csh9CZ8qsK91DdsTdT4zcqDCFOC-w4Zb8iDMIdDmDIC14TEzFKDCdrCdDhoVVEDd8ZDIMLInF3CplP86B0C+M3D1EBUrEyA2NvDbC0cNB-4Bdz9VNuBDDR8SDIjVEXElsKYbDlg7CRgIxHD11jCRtx5RR4cEswRCj3N4CpD-C5xZDwQaiystIID3U8dQirCZ8fC9D7CHwnCH9WCs1BEx1tDyiuCt8eCd8u8Aj11BD6AJjc1GwPDnBxDC9-Rt9pCWjAjRJq1JjSsWNOiTCWIji1ja1ahqAG1+jEig9g1AgZAe9QAZZzi3JLip1Gxu1-E6iEiijo4njKhXjSQPjzAvjx0tUyAp14Uz56itpHjrtnjXidBocWDkhUgfMESo1MSmiFj9iljRJ7MIjx4CtsSUNdCkS5xwQSSgDKTwSLkD04kTinN7jYhAS6Chipj94ujx54sOiKsxMGi8Dp92NGTGMINaj4i-MBig8yiX0JSXo90KTZSHjuDY5JpxSDoXDb0mNaihSqSNTAZ9AFSJhRi8Txt7jr8Y4-CCT-iiTwRxtSTGYFsGVrS4DRSSiiCsiLSKFBlulmscTfDeDmiHSps-8AzbjDMXSWIZVejPCPTESvTBgFTsjx51lLDPCZT945SUzTSHCfSnD0T7dPZHd5Bnd+43ch4R4dBvcxjS0z4+pv9ZjFs08hB9BmzQBW1QBbk592RSACxuzQxjJDkHU+oLJU9fYXB7oTAtBhAAgTBiAQVahGgj8MTBJbhDFEUYjJA4juB3tptcC3Rf80ECUwZACGNdzrEDz8ipcdT3VRQzyuYwUWy8S7TkC5wZBljZ5zz8ZYyFo6Vry4ikU3yrtloUTvy3i+TGYJl3SZAwLgSXioKwSHz+S6UfsqcwQEKZi0RkSQSoK0S-T0dqYtcO0jVEL2s2jSLT5ACjs95IElTUgMcz5T4wLdiwz9BJdRIWKALkYaL9U3gjUuL8NcKp9vTbQ2L0SM1HAvhtEQCNEYEuUsLepSExK7pSEJSEM5AwFacbT4ZNK0LGZl05KA4WAPlLEuAjyG9PS3QNYdLaF7zzhzwF8A5d03pFKcxlKklGQht6zJMtzCVLKUjAFDBKIsNhSRS7KR8AEf4wrcwqJ1NXkHL4lYrdQkVLLngbKoqb8RgUqYK4zLKtc4tMrIhsrkzboiD8q-S2UwtPLvKn00r4q1x4qWB1g3K1Ljy0QLYxAF8Qq4rZ8RIOAQC+qWqzVSgNYCsUr+rdRwr-1QA2rjBPKzVmhhrerVAZqhoAAeYEHq0azoJYCcLBMc6ccEAAFTkk3LoF8BRTEF4Cc2pCxCGWoFXNElAAAGphyHFgCxAhQCimrwhPq6LwQPqvq64fq-qRLdRJhHZRyjlzrLqZBiB7Jbr7r54u4aQozXqQbPrwdYgIaZB-qBchogaLJQa8bUtmZ49IaxrpK+M5IJIsCyKtDVckRRsYFlE5JsQ9KVhXkttNq5rLM+JGiTStDDqnYsEOb0RsQKbWVZL8B5KNlMLakoc8bmgtCVIgQs4AbZbZhp8xrZb1btMCyHwAbrRJKDqlUigGJBQcUl5Nb2Q+93LcRlbIEqMih7VpwWbRJrJv5yhAs74-UjwCJbU+wwNLLGRtLgrOM31o5+aUqsCSq75ksUsE6w18rDt4xuMbSl5OaiBVLl4-S+ctDma0rwrWbEx2acw87ubOqQw+bjaxbBb3bbK8TRadb0JJbq7pascHETKFb496q5UVbSF-NyENb+ztbiax65Z+wQJdoWrwqZ7x7jbMIzb7wshaa3Mat0M7aYEHbXKNEvMh7fsr4W7WUTqZqnU-aRAA7aFvU0DM6MVatDJw675I6v0QJpqY7CM47jaE6xaMrk6Adtw07EqgHaEras7oGcr5Ea6C6SzZAHdu4Ky+5XdB4PcMB-KY5YVgUEVPZhUjTWyPzu9kVwRcG4S+KXAKGVyGBAUhlTjmtwU8ydpuTCH0TzwaH8HkxLtu9nRf85g6LYg5gJwU6ihf8OQhGYgORRH5lf8EIpHJw4JZH+GqLFlFHFkVHphf9JZMg6LdG2B-QxHChf9gohk+Y6KzHy4jG5GqLPapHPa+xjHYhf8bgF92YWBDBAC3HVAPGu4VhnHHEqL3rFH64JzQBfBZ9jZblPqbrQBAnwKwRwR3JQmYhOzuBIn41bkvI4mEnf9lNph0mImonezQBIQImYg8mqLgBUmDBwnMmC5SmwBcnbGaSABSWpophp6J0ANpip+J1ppJufUJrpkpvskSSJwZiEAAQmEhGfqbGdAFmaBEmdUZpK2s6YWaydAB2piFWe0aoq2oBFSdGe2aOb2aqZpMNk2YycWeNguamfBENmOe4CKFOcaduWeYebWaSemdqdKcKEaZiGmdiGbOdCdE4dfzhVoYmTFsBBDCkzmG4C4e3LLIheOxRcJTpXwBYA6jnI2wReSORHjXkahbweIDosMMVQSaKExc7idCKmsx4DJbhKzQSVY0ZG71-0tTostRpYh1-0gDoDVCkV8CEaFZFben5cB1caoF8dgEgCkZ8YYAVelZS1lfcYAFFFHlXNW1WpVf8AA5cgQ12p41w15enSdFplzFoQveRO+FlYKTYURp3aBC5Fll2hu1xUxlqkW14qYQ4qx16YZ1+NKlzcZlwFcltl5gVjBljAgMmFT17hnqZFdZRZMC6FOhxgcUH2XwQejqP2dYZQV-TQXu6CTF+hjgJJJhplBjdN0EBEIoSozTfid+V2jhMC2qjlJS4euhMVc2EQfQOlulJusGuuf16zQNsW-V2IQdwYEdz2ENXF-FsHKVSd9lqDRK2d6Rp24+jt-eemDgAQQ+sQL4Nq9Y3t0+sqYCLEE+lShl0snhlB3uF3Aed3DALBjcoSigUwUmAsD4KqG4UgHJeQ6gJ8MSyWUPacQwsDp8GGgMcS1Mwsi2hQv4KrUG8EBgHGk2amwmzWCSze-BcD9DhD6YZoWD4j+DiUmeG4fdAVec1dV-EAyKiqlwcgZQZQe6jIKeIwL5TjkpruT65nTjh28EEG0ocT0AZoYG0Gjj5QHdlYcT+k5jtFAqtyBwCxYwJjt-W6+KzMzT-BYwZ4f8G0n6zDiEUG2j9RYwBjqUKTAzugLTqy75OUIG6wcECUwzpaAOb2BQZnVFdi3PSadZRhSTwGbScjmObvUL0ACfaSXFTUrICMULlQiPJDk2rIVLpZ1SYoeEROAwXaWL-s8EPLnsn9jjkCMmQDnKYDnJULwddsdmKMnpHRWL+LicNfbDDChMtrwLsj-JUSSzz67zpavzgjwYb5ALgfNz8dg0EGnDku5ZVTYVZMLMvrmb8micBb0G0b3zsgfzwwqb1Ltzx2eESLxRE7ZzvKUEOi5NK7oz-b0gHiRhJRDWBrxDvbiEBR7gbvIrwL82rL-r7gPbpgA7173xKmkA6bsL0SAAchw7jSBoR7Vlw5AMhtC686c8e--fJn0DJlIEya6uDzjloWg4m-x4LEJ8U9DF-yEGEGBuCGBrsi0gsnNDTGBsHI4HhAG9nq+92gJ8mY3sp-JigVB784h-5+n0F6gQjBl5B+x589x+p79MLbzC01La3aw1rQ8AJ3WiC+a+eta++nulh7p5a5jO4HjI-z6NN5AcKCkzV+Lc19Ny2V17cC+VRQulN95-IS6-14K9-zy6ALSrSN0oGl9-NVTUID9MF4-muT6h17iTcH15MxxSgIt56h99PTA1HbSpgyAlD+W7AWt85316fshfd+MCVm+UZCkzj8uQT6T4J097RXL7cyIzz4FzE4UYK41l2jd+T+r-Zi96gUMMH4JxJlc8j58Vhfz5K-Ub7-kCH6n699R7n+75K6d41+oE0C1wu9nvsq78AXt9iEd6LZ3734sIn4970-L4h6P6Xe9pv+H9c6AxDuvXT-GnD8IAI1gaD7opLcQEK3H3u-yxR1ZcS0fYbLxnHhvQSAqfYnsPjggB9EOtMX-qj09rrQnUZyV1BsXMBwCKW6nCEoanRoICbSSA6cKbwK7Yx0B6cA5EcnujYCXUM5XrsQIYqsZ1ypBDSLFEoD4B6UAcAYBUEGCm91KnqM+CIJK7s86oEpQQezDcBpgqo7pEQcT12hCVSBoAltixAKwsBqgbEaHnBwggJUsMYFDWAYI4DhUNwEpHQdmgUpmCz41gvQQPjEq7QHB8eIgS4FcG2C-4ngpwcTwjA+D3BC1XQYPWqBBUwEdgq3qVWJ5VhPAEQlBsnQlLdtBgcQ7ivlTEqTVAqPgkSmh3MFGDUI8QyBn6VFDyEyBrdW0qGXtJYDRIeXOmlUSnZ7xwONKRgQUKsoOAb6SseQgwHUAiAOApAK6K8lyCEARkEfd2jehKHZ8IBpKY7D4PmzBCFKoQ7+gNEiEJDDIKqS1G9jmED48agYOgO0LwykAuh9PXoVUPypq0jsQwjYTYI2TqoAhT9GrB-2xRNcNYEw1YdHA1iDCKYaAiNh8My739t6jEF+n2HfQDR-hDEBiKNB+Gm8-STcW2ISl5hroiWDgIAmBRkDwj2UVSU2Ex1hHOskR1IdMrBTREWwMRtsLEazAN6i0bYZIgrkFjoFFwyAJcAOC7HLb+gs4lIniPbwbjdxCRjAGEazFJF2wiypsCojAOMqfY6qQoNlqCDoRxC1EU2NIXTmmGbDZhVw7NmEPXxxDqq5AjsCXi9CXDHB41VNF9myEkdchso5YZA0a4cRJ0DANxlxB8FkUAh3AM0S0NqGMwrRMJG0VQC4gcQnRVAc0YWGJ4pUxOMgOsLUBBoFdwQIYvYGGIwHtBN4Po1iFQHCAFcgxMQVHsUPwTDskxc3JhIaPFEgJKQUojhAmOdGnDaRqQDWBxHHyT4KBlcJMX3yoDWjbRG1CMFWNP6hgIwsomnjBEbEejmxFPNsbLR0i7Qux7YwHBnVR6RjQxDPaEfHmPY5ReR-nLssTw1jhNORgMV0RcT6DFJ2YjAKQT1H3HOBuAcfBMXH3lHkhzwzY1VGpgpSMh3RSQT0ZxA2oni-RTIBQfQDXYQ4JwZ4zKtLiSJPjrxmqDKKpCjEcAGe1IqWKj0VrzieRbI7iF6N8YmpD2mgjTktV0H9QsxuZRAViSh4J4B+SYzcW5HSjEi+R3QNkN0EjgXjjsl2dKDiHIl+BUKZQ98BUFLzaxwgpQQGNJ2pBFCPwifIkMAkwlXRzw3QRkPhOQlMTUgJQ7oOxOqEg1mg3QI9pIFABnUAAEpqwYAABBcAOAE1YAAlM6pAAADyhrZAECD8obkkaAEw8TsnvF0B-RYFXgGhN4mYTJ0sPYiehL6hT95BmkHLC5JhIQ9iJnQRsNZPeASlApmQOQdwN8lgVVJ6krSTpP0lGSTJYUgcB5K8lRSbJvYpIGBWImLi3wvEhgPxJeK2SoEf+byaiHciLjOB7qNUDX3Km+TbJ9ksSouLhFUApMvKWUfdSNh5Y1AJgLwLuMinvjCEnU8yJOEoCTp7J7YyyWoEGk+TMp40mEvZPRLHs4gGQAOLkAcDexGQAABhOAbkag9kVVGtMN6BlYo1AQYLDGOkbSGKpARkFz3Wm6YbpoNPEH+KDz3SDUm0sgBKQKwHT9hJo1ilR0MHvSuk0ZM6b6HSFLhSudFDWMDMz5VRzpgPY0fB0In8VVMf0h0KkGqDZA1pQk47LDKN4m5zpvlZGkdI4AnTQZ8Mi6X5FeQ2wA49kToDkmUEhgVU4wkYa1k3J3BfpdgqofjNOmUyBsODJcFQL7ATUlwtMhgPTLYA5Ivh3Y6RoEDpkMzfhPvAWfdGGxlDxZksnJPdJRlBRiAnMUICGkITNCNRUQ8kDTPlkSzFZAY3ek13GF-9WwdtOMURxyFWVHQ59ajPKUHLEB-hFGB4ZMINCzZlRjg1Ud-Xsk+zhaGpdYSwEtbTBSgIYwiEOK4kazFZ9om4VAy1BYB-wV6d2ZANrGFgGMpQZOVLIp5uyo8A5YgArOLl3QZ+l3eOcYFBHZ11ZFszWfrxqpiiuYEoneApj+BIzDBa4JqQqKZYzCgQ9ohYcFRNkrDbaBgGYcsxOwsSvQQtNjidj+qPi7Rmwh0ZsKgSJyig-cl0UcHHbZyxhmYtcL+ClR4BIQF80DIqKuFByQhjAaarvM1ErBRoM8kSJanZkOAV5-YiIdvJiCpzvBm8yCP+CghliRyeYodikM6BhzuMlGV8BUH1mpBvou8ieZAyyrnzL5z86OFOOjEziYFfs5mTRnbnJDAZuQx+b+OzoiiWIn8wmqvI2qEAFwd4c8WUKDEldQJMYxDtgrAkH9yEMSeMQwth4pV0xkkzMfQuTGIckhdDEBF3O0Q9z6FyLRhZlSEX7Dh2YsArhIs7kK0ZFjwQgHeDkUuiYg6CyEEosrEyw4uNYisUuB0Ww9qFuIfsa2IdhSpWxpIMcdMBsW0KBxDir8dMAH7OLf5BoCcXQM4VhiihzFNaaulqIG8SGARWohZHulUN6KSCRyTom1nOC2G2swIe9PdIpLsJSXX4RGHSVm8qKnQemb4AQJez8udAwwvkpxnOF3UWbdRPdOxm5CXxC0pIMeKp64gmFsQc8EgnTykz4oF4NGXYMxmEJtZq2Y7G4qQkF8+wbi-sS0omm-y3giSxMr0vSzayXFBoH8ZPNgaTKbxWqYMdOO4W5iaRUXHHMrwpiZL8i08acv0pp7QTJAC4uCbsqAnMEVpsUhgLpMsgAAZTVqZMCxSw9pyVSQDNPukXRGp+i4no5IDgeS-J2Ugru5N4kkxQVsKkVKj3CmNI1pF0QIeiv6VYqxK7yz5T8vAApSQIaUpWMipKnNS2RhvMLMyNDC5S4JHkwqVmAEklSNlSne6ZVLZHwh2xDKzEVDNiVrSuVpsHnkXUTa4qUVA8sztStRFtTkivKe6fGjyz1L+lTSqyuCvypTTgViEzFZKpdE6zqQVbAOILxF6E9zEWUuyS0JIk8QqVzcWVQiJlq80I6jTQyC1PnZlxg4dKvsLVNmmxZTVMKC1ZNIYycis2yK+ZYtP1XMoAGbIg1WcpNWC9-R1q3GUy1aDEsgQtEggf6tKlxqOlQdJecxM-BShU1xKHstolahkz41HSxNYuJWqgBi1GedgckizXVqY1IS7NhUD6gOhBJkHHCapwHEESs8McEoWJNqXjwPgwQAQfVJyihCYVIUq6Deg8ldq51i8+ilSBElAgmVRU4XBlJFT-CeliQQIPaxCnWrg2TsPlSSO6Bs8p1dAYVbbDzW0t+AOIK9TutvWsxLyfYd7teu4CciuOhycgseprWHZs5xEHjBuXHWBB+lqomFdkqok2sLVjIJZeuETJjLyQC63iV2pKkrrhJfgRkJupZXFSLVdw1dQIF-WHqQI70xcaep0jnrSJ2wHikKqqlEbSoT6+jRwFfUKB31oYGGWtO-UlNSN5BCjTGqA2Aj-UlCtyLIPenBBfVbXa9Qb0aVzqcxMQUoBJrCVzrUesgkKduqGmBCNN16rTXNJFS-RwNk6ndVBuclzrxlTLH+HVJ3WXZ3l8UvSQZOMnEryQ9m7SY5qSl-LP1O63jfGms3SajQz2LBRiE85GUWIKmx4DBsKDGbINM65yShqsxUh-NoKxkASu+W-K-IaWolXeKXD3TfNjTZLZiqC1B5wQIWv0p1HwBYyzopgeKtGqFE9qj6e6arb0noCfQatAioqouNR4VasZJWZrSkjoBtaX07KnNXjwQzNaO0Q2-9JnIhx1bbYzBZjX-hEDA1RthPOij1t3XYNCYU8CVFaprW2rYR9q9qaA2dWGwZtrYYLkDGHTnL9A22+cjdtc7sqSIc4h5bBMxEZ1bAuEGSPct4FvaSRpw4BVxMBiQQGgc2skbNEW0s8Vt12wXnRTu3URsG-UEwPwHEEjDieTOZoae3PY-AD2Bq7fiW135a9Mcu2sHTatPCjQWpR2+VaGBYVnbQwSOrjjSnUixsaAU8WWv9zU7+intaTHMFbyiaJzMBvOxTVKisjOpzkY0hKrdM8hvV3qmcwHYUHBD46XetFKrKWpe2-brVEDPkI12B2KRSd0ORbUrsJ378LIq2sVtwCN1X98Me0y8Tcm5jsRrGQIAAJwnBXkVjPmJrtY5upx47u7zNSr9xe0pshm-2TegpH2zn6Dw18C4H7LbSV1hQX3foDh5w8LIaAVPfet9ngDDICe1kenIaC+7rVdDb2PyJbieJAsHkaCg3JgYxB89LUgPXx03KJ9fdBq4pXzDKWY5FME6ltfVsDGda2REOx9X-jYAlK29FLU3TDtzVfIh9repgF7PjbuoX+N26oKVFXBkBv42iKVjNmOytBGQDfK5MwET4v8sxPnfKaVEw5HBRVqGnFP7FIBr7RWOXIELSWjEAEV1Ce5JtLpf51qOl7oJzvwBiCeQUmTbEMAntB7xrjgAIv2QxFfDHreB-A9mMICEH49w9MQCLQHCk2abdNpm90q0Fz2PCuKq+gem9Hv3Ekn9nRHOa-v-3S6QpggeA7UDuQUHfI4B8AWCJE156HdfMCEBQel2C9GMFKLuJwc8jp7YgNeuCa6upXHboItOimiAY6Veq64zO4Qo0LPitAudBgIXThUabLwaeZu-HkAXV2PLMRG4iolnTE3mAEMQgQwPZDDxL7+AyaqkNvqBC76m+h+67tYYEBA1z9VtN+qJkZDaHlDhqkAjBM12GHXpxpOOClXFoyQD8+ATck+PjyJjmAUkf8BakV5LUTV8hhoVPD8NutLK81LinzvjSaG-SH0SrcNJSBTau982hrc7Xt2GAhtOiNGO1ogmZB0xN0hkR6ori8ptDCGBo2CB6PzV9dIOt5iU2KO9a1MqMMo91Auh9HRUX29CProN0D6meY+sZFoHOWWMyjJRhlgvpNVw99x+gLxQAB0sA8m0LFzBgMyBgg-nYHRE1uZyhoIyeuQvgeMCFRtjMh3Y+VP2NfijjJx-WUwD4EXHnuWY5AbwFXBQIegGsEE6AAABeEbUAEcaKDurzjlxvIzcehMYcnYDx8ENfrX2ECTgUEBqJ-V3EWGw8ux040rCROAn6mv3IpcDRYDA1lAwNBnpMDh5Og8ArxvHqSd+MUmlxGTakzSXIC0n6TjJnnpid8hAA')">function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave_delayed(
              evaluate_query(first_disjunct(disjuncts), frame_stream),
	      () => disjoin(rest_disjuncts(disjuncts),
	                    frame_stream));
}
put("or", "evaluate_query", disjoin);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p13' class='permalink'></a><p>
      The predicates and selectors for the syntax of conjuncts and disjuncts
      are given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    
      <div class='permalink'>
        <a name='h5' class='permalink'></a><h2>
    
      Filters
    </h2></div>

    <div class='permalink'>
<a name='p14' class='permalink'></a><p>
      
      
	<span style="color:green">
	  <kbd>Not</kbd> is
	</span>
	<span style="color:blue">
	  Queries formed with <kbd>not</kbd> are
	</span>
      
      handled by the method outlined in
      section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  We attempt to extend
      each frame in the input stream to satisfy the query being negated, and we
      include a given frame in the output stream only if it cannot be extended.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (negate operands frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (stream-null? (qeval (negated-query operands)
                              (singleton-stream frame)))
         (singleton-stream frame)
         the-empty-stream))
   frame-stream))

(put 'not 'qeval negate)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtyPkCcgFAYDQSBEBgKjYchfC7Nker62oGEMUkixiQL3VSdJMiMPE-SKUohv64RRuJJ4Q2aBChn6QZDAWtCJyeQEAD5qUoFq2o64gupWrtLv6NrMMOwydO3e61rG-lzka8xqi0UgOHIHNiG6gjhv2waIdW9beMm-i3VFWawIWkNlphkaxs2lZtqXOZ5usI6+xOgFzoBshgdB8HetW-RPvWp5ife2JSfO5qnrIg7JidCK-pcDnWoYGResoG5sWRbgwgmi8EjdEWqC0RhBYUIxHqF8X9El6kfoay4WIVygldG9XVZV+HZYE5GMjA03FpKUAUa2906EBqmwc+-RDIJ83memNnQEN42VbVq6ubt3W9ZRJrqjEDhKBykOAA8Lamnak+4AOUd5nA8H5wxA-kJQoDgRBkHQPE0DxC5o-MYgUKoYh9FyBRCHoW7KG4W6c3hqbRRBQHOmbxQ25qV37aW4FqEHxsUKblvR47ifVmmtJWvnkf2-H6TSnywhRt8BQWHwWeqKMQ-j8bfAZDXhQN9brfKCJlo6B76TmlFCplF6yr6GHh+x5Px3i0Nc4Nv7kF-nQf+i9XZd1fsvWIH9UjmmoGIOgd9XbQMfggmIpR64-BQWgjBYIF6PzgW-f0SCGBvDYqiIepDAE4N0iAn4NDp7OHoZvQB5CmFUN6kfYQ5AGDECToQQIbhnBYMYcAxKYN+YzlaiwQRDBFwUDvoDQwUil5+xZsCRRyjj7CF8Fo8ePD36r2MO0W6yh74wKAf6PBoDLEFkcE3Zx1iwYfEbsQzRDDtEvwoQaKh7APBeBMfYg0jifghOUGEvxsCAm8NXoFE23iO7hKYVExsKSvFaGIeEsxlDV4dRBNyVEGTgElOMfg9cjctb6yqiIsRxAJF-3iU-HhOjQyzhAtfBgc9NEQLEMI0R4jDDOF8Vw-x3dJjmJMsEApolrK2QcgLXwrtyBJw8l5GpHQtCFT5g08wVT6l0G4EM6Wf5XyijEdQBQ7DqbyORL+BUU0qkqNIHch5cijlQO1hcw8jFjz-GuakUh5Rha-NOS8ho55xEZDKrsup-MGCGOMc8rpuiYgiKVmtbucF6D5LelilFqj14aOhZirFhQLlUupTEFF+L5DoPSc858hQ+6pBSXPUYNI2ARNDKUblVFqH0CVmCeF-KmGILKB+NUtQaL4UIjLbFpBTKnIsssuyjlA6-PZL4Eg2zBCEEIGwXwhVYjnEObXNEoIGB9IGfoJphgeEqqmprIZZ0WG1K0PoIZnSWiiLCOFGuyZvWipEOw+gnCAEd1dcRTlTBSD8FUNUhuvq2F0MbM0tiZTbHYJ4dKrJeyN6RqzRG9xmD2nPxmYpYy6bS20I4Y2TogM6CuVBhknhIao5hpqaNNoLibFqwUJQF1iSZaguEa3SguJK3Do+KOiYKrYhTU7BqckSq9RTt6h8VJeT0mLrHTC0MU0kW+qqKQPduTiD5KPWETgMy-JbqIiGc8l7r1ixAnPRkhlz1Nw-SBG9d6v0PqfSGKdwr1wAbgp+0d-SqInv9FNQDJt4Nzz8vGYFK6XSIxcP2+dTdiUI0-Wk12mj71E3A7GTdZxQ0sR6fam+DhCFfnbXfS5AU8OCQ0PoBgXqoQsYkWg2ocJuDsZaTnXtLFDDckYPgfgYCf7ZXeBkydwo3ypEIxki2hp3illA4yQj+7b0d0mbG8emHV3cdFLezQc7B0eJHce4jpQnbQTWCa26+05P2sU1-ZTqJNGoeA4e0Dm5iMGlk0IPzIEAsQJU5oyLfZZEDqsa43lQHmAHvI85iY7KgUERPCGRN8XIEVL7LvUE9MTCBaqoYC+J8dOGWaCjZ9dHpNuX7TEuJUyEkzJlueNFjIeuovwEYjJflzx7gLkCaL8n-O1YS0F-QaLAUqGKrK1jtRZtTz3X0oT4yRODBm+ts9DbVvjZ6Di7zwjX4EpZZgmbdL6WhkO6g9U47kuvcKDMqT-Nw05Oy6ZqtfXO4ToTdx1LUGCxe2gv+0YctGBNLGZI6thae0A-7ax-J7T43knPD+oECOccdwQ9BkZzTWlQPR4kvyrGD5HxPuT2HpPXaM8vl23MVFu1caR9z6DmO9X9rKypxZA3iIM4a0z0+0GavgMgRzpr6OQwI9F7FOelPUdtLBzW+BXTwMRTzr8guchFAQBgPAJAqAq5oGJPRty-dp4uSyNWmWib0hHzIGp0AAAfX3ilRTNVjj7-3gfUjHxPv0Gnuu-cB5fDNG2PuYhh4T2KOVXpJt0YBwPF3LP82MMiIUPnAl2lC5tavZgYgJBrR6c5nYfR7hiFTjZ1IO0j3hAAGSd96HtZz4RhJAkoI3qv5ew3I3XmpyH-PRRV5rwwOvePRISYOZ18w0vL5MdvgXpe7vuMEwjNW-7erUts7BMHugYgu6jJaeM+gLf+d1-BGf8EUtLqx2v1Tu-dAc4A9FGfqfEvJGVIOfEaRfMHCyF-X-PVM-JXV3WPafASA-OsXaEYQ-XXHmENAHWAzXFHW-NHBAoAlwZA20dAizJ+SOP-VIdXSRDvPfGfEA8gavMA6rI9CyEsIQOLJbSBeEOPcPJvefOvNg0SPMT5B0JTZbZwXgsPX6PVGgxORrW2UdXuffPvCMEgpQig3WAHeQxgXAm-anfvCaKaDQ-QTCL9TAjrKghffRIRPAwwugv8RNUA2vVgr9CyfhJROwgw7-VfHPWwlRBLdRMgCjCw4wqHXjDfZnPpCTbgUwjvbQvVTwgxK7Iwpw1QtAlA8w5QygvVUUIHMjc-MI9IhggQlgucYQ8EAonLLSaAivFJew7-NI5YEwtQlAhIsfFiUUTNZtZojlVvMo1wio9w0SHo6NRsRoqQ8IVPf0WfJgwQtw0ddg+gJtcYkzYhPwvVMY9tbNQIXNOpRwlo7jRjQIGQevUABaLArYlYqNHYitRzTBQ46zR-O1U4840kK4ivbYghflMgdtGgTtJ4hGF4vdN44QnQY-CvIPB4hdYoo40olwhfRY8HcEQjTYivVLbTSjcIkEsEVEmE4gV-C6JdOosNYzULXLRw2IeEpAtoh8Cw0kg2WDLLQovLFQ-nH2cLT4sNcRFkmo0IkknEgSbI49bkro1IOzWdNLIdNxcLIU4AtIJPSjMUx3VIXdPkkHIowUkoq2RPOaEUiYTo1U1FLkMJIE4E3UwYpE4YpY0SHrdEsNUbNFPo542kzI+knIo0-6ZBE1UpMXc05w+Y8orUlEkpagMpKYlU8wRlHw2guE10t0eIhkqMlwIZLXfAo0F0y2RMukrIEUywo3WQE3Quc3EuK3cuW3HQB3b0pNWHFOegy0yPYGKBesxSUoLZQfdkZNf4OtFoNVBZDOO0uSZswNEgUwWoAIEwYgagUGYQRoVfNfFwVLeRMlYIq9bgNFfHfo3EiEcFLqfmV-SLVcyQEIjcq7XnWQqEsFTeCFJ5B-S0xEuvGQZYh+W835B0g2X5QItRE8q9LWe8t0E4yoLWbgS47PPVFFZ0mQAC21UE4C580AD48CivRle7ZlfJaChswC14+C7gCEr0pc24MGGHUtcVGCvbPEkiokt4MilM5JPDfPfQOeciuY5goYsEOeCyKixktyEiiNcVJixDLC4g3MwS6DXIivaxL4cZS-O7HMB7fJCXIg+8LIQ3RcwOZk4WH8p1eBYS3vEYNSrHRwaSsGFgdFH8+NYvbcgSHaOQdeC8oqfTdkRvSU3EJlQlDuRkNraswiu4Oyu+c+GXcdAZci9vRQ4KqiYNZCsNfyzxcKrWH854KyhMkSkYWKni6Mn8-PYLRKovak6yt0CMdKgiwNXFOShSw9cKyiXUDc9YMGJSgqtEW6MQYfQKy+aWTsjgS-VqtcJYQVScOCbiIirSyfKImqgXB9UAFgOquS6VZoLqlq1QNqk+aWAAHmBGap6s6D6sqz7PVXBAABU5IeM6BfBBBSAxBeAfFqQsRTVqBahmhwRQAABqUAb7WIC-MQIUYxMa6WV6okp61696mIT676sSiYN6Yyfs6cQ646mQYgeyc6y666mkX0+6uc0SF6t6rFUGmQH68K8If6iyLG4Gi6T5S-MG3qiSsNPeOAxisarcxMYXV+BfOSbEBq6YAHebZa8aqmnDIoD3JUgm96vBFm9EbEUm7FYy-AGS4Zdyx7MEP7d65oMalSIEH2YWrFWYPvKm0mlWuTMw9ogm60W0Km9beMCDDTbuNW5y+qmdNytCjy8efm37aGnmzVOgY+coR2deC1I8IrV9Psd9H8xkVDWKnSnuKzXDfnbm2KuAnK9eImSWhlLKx1dK82y1WjRqgJVmogCOyEsNKXRQ+mxQ6qxmhlZmnMXO9m3S4iJEPVbm366qzjPsQWuaX66VSebuauuHFmKSmW2Ocq9C9JJW9CFWxQm2jWoKzumSUiAmXq6qmepSbmzCY2lS8GgrLDS2gwa2zs4fO2+zIep2p+F22IeZacBmpZT2hTEQH2u+I1KAqOwrZVOu4sTbWK0OzS8O6jU9bjWOrK36hKxOl7PsOOtOxKjOvCLOlKnO8W-OntY3G1U3IuC3Uua3CuDAHy1eW5e5AEn5G1aFeU5IRgti60sEbWcEHB75D8tyKhvBhgO5U1TUsXZ5Ih-SwYIqhwSOc8Ohmc-B5MXbOvZ0J-OYIk2IOYCcJO6YJ-DkMRmIDkSRnRJ-BCORga0gRR4R6rMSUEVRnpDR6RrR62TIIkoxtgf0KRhoJ-YKU1PqIk6x2mcxpRrR8+uR8+vsCxooJ-G4YfdqFgQwV-bx1QXxguFYDxwoJ-Z61R1mQc3wAfc6LZV6s60AMJ2IJ-dyKJmIfQGJuJ0ALZLyJJlJmIJ-MTf2bJr1LZSEUAAppxuccEYADJgwMpsmXJ0AMAapzR2pgAUgaaye4FifKdAE6aqZiEKYoohEHyid6aqZyY7JEliZqbxIAEJhJJmmn4nQBlmgR5mOm8TVqem1mWn1qYhtmDHanVqAQMmpn+nmmtlznjnRmn9Tp9m+mZnQBzp7mFmIRToLnuAigrnXnvmPmdmIRFmGmWnChmmYhFnYgU5nQnQeHPlcG+HIUbV47AQQxNY5huBeHHkTd4XNscX+HYp8AWAAArEwMddFlYTWZEL1ZRxF6huI0StlUZooQllFgRp0Ryqkdljg8jRkOvJ-ddIk9dVln7J-SAOgNUaec1X5yV6V2dMV17LxqgIJ2ASAORwJhgdVpV+lFVnxgAUVUa1YNd1epSfwADlyALWGmrWLWl73p8WnLeXipOC0WAQMXeNhRmmCZoLsWGX6G+XRTuWSoA3kWg3sqqXpgaWvVTDoLn4XX9NOCor1L3l2WnkHBzkLqelyL3lqh08KggZfBB7SWQZ1hlBPlNBe7tx2XGGOBiEWGuGQHYghkc2jgigrCG7+J955b8lyKbsupe30liMboRB9B02vym7sasVE2vF2cO7m3jVOpBgJ3UWSXyXTAvtqVZ3mB2cQrF397p1D6h3LMOt45baGA44SWfgT2ypgIsQj6FaUpc4iykGSzi5Lcy4bdMAsGaKKBTAGArEPgqobhSAwlRDqAnw9LrYvdpxTCIOnxZkAx2HDbSCUCEO-geYsbwQGBAaybY4wb4OIFIPMOkPphmgiOxDSO6KW4bgB0yUtB9p39L8W6YHyBlBlArqMg6kjBzkOOcmC5Xq-UOObbwQnrSgxPQBHribXr2PlAzX-QxO39yaxAorLyw0HBVFjBQ4P8kbx00zNOIFjBnh-xlLPrsOIQsbaOhFjAGOpQPULr08tOuA9O5R-rrBwQ6LDOr0wZAZVYhkWK9SsgAv0Zl8bZtJyPV468AvQBu9pJNNFT9SUCAvpjfcUOIwUuNnVJih4RQvUDBgYvOzwQcu2yNtXZ-2QIgPYpQOwkQvQxmgEuwyIy-4Yu4uJwJ8AqYyv9JEUui1RJLPXrvPjAmAyBVYCYLk-ULqsOgaJwnq8Oxqt8JNTlkx0zDDMuZu+w5usahvfPRv8vUPguLrBkpvpu3p4QIuglZVnO8odGs2r8rujPdvSAeIEEqEdo6vphAw6BrvKGpwiS69xupuTbDvm9n4duRvnvXuLFmOxBJvm9QvwQAByPDz1f65H52XG4xALrz77x7wDgsUgYxKxQnwLxLrIO+WD-b4nk58VrRoQYQAG4IAGuyLSSAtwNMAG5NDgeEMjmSHbqngn+Z9e6nsH3HnziHniZ2fngmEX4H-QWXh78XkXkq0tvMWTSt79EVMRDwW-J1URUnprsXJpBBKrWpw31EIkrr7XKBY3xdzWVX8tjX-PD5HXtwO7zRY33npSDrpuY30Lp-HLqWYumIyfT352JpEq6ng+DZJOF3mxNwPXwgC2Kdc3yRT3ldd9SdieoEEMBbkPzrr8yYv+T3qzBF134wNaC5RkTWKPhrGPuP2-d3xPze7MlwFFVWorlR0LnaAmbX+Piv9qI75+Uwvv2-EaAFL3ledv7P1SHpC7yeUf9nyvo752afmXUTh39X6gTQfPefh2WyrPmXO33jTfit7fzXinRf-To75vyfmVA-1Fy+q-8fof59bDKdJb9P1+qaAPokvPm+T-vr3WwvoV0Z6URO1mtRhpZ0JAZvtBzbxLg-eyHAmIgMi7n1E+HtFZDqiL4uBoBhJDKi4BopmZYBiBBUjtBQEyQIw5ApSGgKaQYDtU+GWMuYEIHkYFy2BdnppCqgJxUUYMAYBUEGDG89KuA2AUV3NAc86KvA9qOwNijOkBBJA1KoMGYFjpb+JVVLCwGqBsRL8glKjhwGqobg9KO0DDjoIFwbg6KagyNLJUMFNwzBGg5vHpQJjWDY4+AqauoMHo8oHBl+cihGHcHN5TBLg2Svm3DqWDuA6VPSlWE8BBDC4idOigO0GARDOKkQu+KFSXCqC-BsPOIYhmCGJUSqooUQsQOUqsUFic4WgaJBy4F0uiSbV2JB19TFDYq3ABwF7S6iiEGA6gEQBwFIAWwAcuQQgNUn1780p0uQr-oZCGypCRsqQhhowG-qiJMhUQwyImnXSrZUhDrB2PUJvprQmhLQ4QG0PQEJC+QytDbN0IWHmDhkbgxYZA2frboNMNyBAUANPoWk3QO0LocYmQFADuAjwg7rfzOEgDX60dASBHxDAMQGIU0N4cbxKoxCGGN8SkKCHSQRDBE4OEIcRGGFHDRhRw8YSNQCoRDiq+QjsBni-DeC+uMQrQSRyMGwjphiQ3shxDbQMBvGXEbwYxTxHcASROwsobQ0Vh-EqRVALiBxAZFUBSRhYOQTsNE4yA6wtQJ6gjyFF7ARR4fdoEPC5GsQqA4QULh-RiDOwchECcdvKOnYyQwRQoCtFCMwSyjGR6VFUfAMGocQu8PeK4YNVhEm9JwRsNkdSKWoRgzRi7A0BGGtEuiYIrIpIOyM4hLVe+8oj0VigJjujk60EdOs7HBDiiOADPEqmoBMBeB2ojAUQRwJa5SDnA3AKPrKKj7wiCcm2B0QwElRlQKR9ojkUtUzE8imQaYdMZqJ+yhhsxWQ5SvmMLGCjhRDPULu5ki6y144icU2ENV9EFiWkCKZkeYF4DDd1BIidUSfX5FB4Ye+3M0cOJcDpQTYV0HEGyG6DjQERm2XbOlFXGZhfASFbOu+AqDyp9o4QNzDbCk7UhshH4WPkSGviTiLY54boIyH9FPw-IiaXId0DPElCnqzQboD2nPYHUAAEgawYAABBcAOAANYAAlA6pAAADyFrZAECG8rqV4a-Y5MStmLFJBeR5FUcWDHHFJxJxbaG0UuMInj80xmZbCT-mdhLjOgLaSie8Dop0TMgkgjSCtnIrATQJEEqCbBIQlITmJA4ciZX0YmaJqJ5FJcSHEIkMA7xZxcSWz3YnOB3IKsVgRBXUFsSqxVEr0WciZF6UVYwsUWJrGJSwirqZ0ZLHGNiSJiNJKYqBCZPMi2i20uE5tuhLUDWSsJ2k3CVJnPZc8wYuQBwIDEZAAAGE4OpRqD2QCxGQHgWjWa6MBqAgwVOJFNFT+TtAQIHyUlNdjaBXqeId8dxjSl+SMppAOiqljCkIZtBTcCIWlNT45Q4pSQwasVyJI7RKp0UlTAw2EBy9LBBZLBoEAkylSiRLScYdkEimPjNsTUu6jFNaleUEaEUjgO1GamxQ4pz7euhXkehgx7InQMJLIJKwDEBhvQwyKUGKlTTLB2w0aX6Xmm+gWs2Da4Unz2lqMzCgQVaetP26e9AxXZYgA9LYBhJKBQAzusZHAHQM7hOA+6QwDWkfTBpzYEqhUGXapBi+Uw7nGVNwkywAcK04GY9L5Hb0EuAwpDAaFfCDoh4EQx0LcIFrcZLoBYJ+lhgDqEy9MVIFgMiJsGojv6uEsmXxFKLzCWASwz7oHG2rEBk64YIGSDLCS0i3BLfeiFgH-BfDZhAxMgQqPQilBkZ-Mp6XKH9yvT3pn0lAo6EizNAhRhEJ+gCOUpyzUZ+vUEUnDKo6i24EiP4ISNHAC4EZm4pyt4NpmD0Ah2lDEQ2MFAaZ7ZmzWVMeK9C6YYGDgb6j6JpFjCThRw5+KGMKBrhGZNYkAf0LVFrhfw1KPAJCGTlvpNs9soELSKdmT5I5TIp+lNA9kiR10N0-2XjUDlLUgh4c5wSiJDk2Ck6-4euSnUToXSCR6QtgIzM3Tv8NMkM7zNDKgQ5yXZidJKknJTkrApokY1sZ5w7kUzvhrfUqt5ktkQRrZuc2jJAJYglzcQDo8dguDvA5js6H9IrlGMlHIdx5EotsbjBaDSisghAbeTaNirGjSpW86WRzO1E3wzZ4yC2dfOxY7zEq983IYQHGihcX5KiGWu-MeD-zsWbIEIa0zADJzIQ98naNfPNGXTTRpIULuvLLnvDEFL02IE6NJDYKYg6Czeb31ei1iVgvfPBZXJWDhjz5J86MZPNXnGkfJasQoqT0fJuFCiXFSKTQyYH0Bv4o4yRD5PIqmFBFTgtKc6UEVwCye7wiMCIptFP5Oga03wCAW7K5dz5phGRUNOposR3kQiJhT5IzGC9AidonCaAHrGJ1Bsm2b+NHmmnxQLwPUywakGqBgzqIuYpyugubE58JwhC0sfL0MXUT8FemPhU0SsUxZBFAS2IGYsSE5T+c7iwcfyhbGny9+sQc8ZkHD4Np8eZAYxGItSIhLGAYSyLF2MkA9iVxsSvlBQQAmSBQAXEhgNBMsgAAZA1shMdg2wQpAOFyUEx8liSPJuk-kfhPGEVAiJ4k0LmRJvEjROlxEv4lDxYnZJIpmiJwdMpsVzK9K1S2pQ0vACCSQIwkxZRMqSDkV9Jo7QYMSkkm9jpJsknZT-nCUxAqikU5SabHhDNtjlK4+qZwo4C3KroPPEqu8nGX+KelZnU2AZKoBGTtwPkr1Mlh0U2LnF2LbpelWcmSBXJ3y6FRAxKrjJW4M06nr4syVGLHJOw5cU9D2X-LDYQKzmiHWaaGR9lXmO6JjEOXoQ1QIkxSZmXLHGKdJMKyLAHC+WzKMVhPLFX8U8ldI465sUEekvRXU9eRuK1qMNKcqtBaWQIHcUIIV7gh-0GSwnn7QBmrx5hUqrhqVxRVMMlVRPQXqKvNi9kNVMeDKblgV78q7Y2QxxTeIdAPjJFn1OcfKNS6rxchr4rRU1ATiBA3JVUfNoRL9SMTk+lw61QMttWYTnAWMqmQIGfFAhTlWYe8WGvvxP1zwnHNVGTgTXKxTYUbd6I8qeg4gFJmkugG8qegqq2W-APNaJHTVFrWoh5PsO90YmZwcmKa7qSBHTViqXub-aeSvPUofBggxFRKb6pvHOKJVPLbSYyDeBBKBFQ0vyFOkIm2rxJvsmIE+L8CMhY1uIe8eJKTWWLEgzamxW2qzU6Qc1rUctdcteUqSzhpUY9T5KrUKAa1oYRqZFIbVeom1ZONKebGAHYZiIVqLBhILSnBBvVqY+lT-kkVML01T8mSD+sin+rANUPCQemqg0FqnBsGxifBpskWwe1Xq1tQOoGUobUQ62KKGwDpUFrds1SniTBLgmIT1l5IEjZBLI38SmldawDY+uaYnxCNNkqKtnXBAYh6FqbYQGtD0VDSZY6GvtTNKw0TjBFU2TbCxsWWMgVl9SxpX5Fk1rLGQ96owQHCk2dKzs3GTjV4G43qVbM9tCNKSyhTOpSeKMRPmpzQmaU3gRmlEOZqEV94TNdFXkoZv1ge8g0ngtWe5ror6bD6wUGzcmDs2SKzNjm6KkySvRxYUg-mxWu5rsEOavNoW3ii0gi2GAotbmwgKx1VVfT0tTgmoGIEbhrR0VJm2LQZXi0MKeFdAUlvgCcXWbXNBqu2JItcouaCGNWlEDtRkgWqrozsazVVqgTOaWtm7YeBVtc0Kcigiq9Fahn60kJ6AqWuuT9g614qpMF65-CIABpjbBe1FabT1q5Y6FItPW+mJFtq04rzYDWgzX5qhRnbWtNojsUZBdhux+g1MT2MSjW2ZKtYmlC7aYH20pbhtdWq6LNr+Y5M-Ne25ze9qUEg6H0os3RPNvFU5wltTPCyM9uVUMjdt1QbbcLiTgmB+AvvXofyIRzFDD2V7aahMUdoK0FxoAU-k7x5S0ojt9W08FNH0mEreMikfeadEUgiIMdvqdSLuxoB1JSagPVTs-FqGk0mKwQuJsnTQE5huAlCq5VqlWS2i4ZRqQGqLIbmFBwQ5O8-rvx5harY43YjNSuKNH1dmlmQOlFDp4gholtaunfnPFW1Cr1t3AC3RfxME4BzwNwWPvYz6iMgAAnCcB20hRaYbaowB0LkLsQ-d+k53BfXBxAaZ5H-JUhQX5oxyNMLgTsoFIXVFA3dxiRHojwshoBs9Ja8mS-UMhp79uHwYWanuD19Q21DDQGKHE5jmFn4LgLyGBRowW1CgaeivWHt448ZXdZe2Jp8rYCKLlFsOD7L2p+14q9KJus3WWufx96+oA+wkvDpt2ZKiSCimfbWRcXqUr+uqt8N934CrgyAx8cZIqwsWSrGQtfdZMwFj5X91RPnLfaVGw5HAPl5IV8KDFID76ZWWXIEKiQlGuxeCM8wveCE8heQr+piwXi7Fv3bJ0mCIGsS3u736Bwewq44OcKIgMRXwrargSwB4G8apQrQCNS21427q-1cGpDYBrGwTZsDZwp-XvoHqzp39okcZF1VqKEy-9ABzyJWJsmCBMDogZg55F8iIHIgAIj9SGCYNcHgDmSi8GUoLhcHuDZw1vSHDJX-KiV24ZncDTgOC9q2WKTnZwSqFNxWgvIzOBLsDg5Me4I27FAvsJ7y8pY2uopbrtzXZxLCFtMrW300pCBDA9kb3NUFKjDqBArQE-YYrr7n6G+Cfa7u4f4B36H9kanYbtgR1E8LDl+HXf7tsPRLLSZm2Km1snjgg7IPGX0bHDlHMApI-4ZoCoZe0aHKhdSHQyhxSPPxhdBhr1EYZKq5a6kVOk3firDgM6JaihklSztwgNBTGTqUw8YnqOMdN9AKS5dMEKUJxrDR69OrYC6OTwxjxS3NUaIbmtYbYkEBoE0Yn14kWe1u-MI3F1VEkBja+jfeisR6YT9ApCgADpYAQNFKtaFwJkDBBVYKMPpi8zlDQRM9IhSg8YEKhHHVDJxqQWcdrGXHrjy7JgPgGFgPH1Rg1XgKuGfg9Ado0J0AAAC9NwMQS40UAOWgnwTz3Koz0GROvGdI7x8EM-v314CTgUEBqE4feCuHpwJxm45ifuPYmYm3AeRQDRYAA1lAANBnpMER5Og8APxl7bSZBN3GITTJsZs-lZPsnOTPPQk75CAA')">function negate(args, frame_stream) {
    return stream_flatmap(
              frame =>
	         is_null(evaluate_query(negated_query(args),
                               singleton_stream(frame)))
	         ? singleton_stream(frame)
		 : null,
	      frame_stream);
}
put("not", "evaluate_query", negate);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p15' class='permalink'></a><p>
      
      
	<span style="color:green"><kbd>Lisp-value</kbd></span>
	<span style="color:blue">
	  The function
	  <kbd>javascript_value</kbd>
	</span>
      
      is a filter similar to <kbd>not</kbd>.  Each frame in
      the stream is used to instantiate the variables in the pattern, the
      indicated predicate is applied, and the frames for which the predicate
      returns false are filtered out of the input stream.  An error results
      if there are unbound pattern variables.
      
	
        
	<table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (lisp-value call frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (execute
          (instantiate
           call
           frame
           (lambda (v f)
             (error "Unknown pat var - - LISP-VALUE" v))))
              (singleton-stream frame)
              the-empty-stream))
        frame-stream))

        (put 'lisp-value 'qeval lisp-value)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtyPkCcgFAYDQSBEBgKjYchfC7Nker62oGEMUkixiQL3VSdJMiMPE-SKUohv64RRuJJ4Q2aBChn6QZDAWtCJyeQEAD5qUoFq2o64gupWrtLv6NrMMOwydO3e61rG-lzka8xqi0UgOHIHNiG6gjhv2waIdW9beMm-i3VFWawIWkNlphkaxs2lZtqXOZ5usI6+xOgFzoBshgdB8HetW-RPvWp5ife2JSfO5qnrIg7JidCK-pcDnWoYGResoG5sWRbgwgmi8EjdEWqC0RhBYUIxHqF8X9El6kfoay4WIVygldG9XVZV+HZYE5GMjA03FpKUAUa2906EBqmwc+-RDIJ83memNnQEN42VbVq6ubt3XpED-XnEMQP5CUKA4EQZB0DxNA8QuFE3OIFCqGIfRcgUQh6FuyhuFunN4am0UQUBzpC8UEuald+2luBah68bFCC6L5uy7b1ZprSVre6b0vW+k0p8sIUbfAUFh8G7qijHnxfG3wGQR4UMfi4nygiZaOgq+k5pRQqZResq+hG73luD6nlo13By-yGvuhb-712K+PwfYjP1I5pqBiDoDvV2n995-xiKUXOPwgEgLAWCPu+8f4n39AAhgbw2Kogbsg++UDdJPx+FgzuzhcHj3vqgghGDeoL2EOQBgxAAAehBAhuGcBA-Bj9Epg35jOVqLB6EMEXBQHegNDCcIHn7FmwIBFCMXsIXwkjW5UNPsPYw7RbrKF3l-B+-oYHPw0QWRwBcjFaLBh8fOiCJF4KkUfNBBoMHsA8F4ZReiDQGJ+M45QrjbHf3sdQ4egUTZWLLm4ghnjGzBMsVoRBbjVHoOHh1EE3JUThMfskpRsD1z5y1jHHKzDWHEHYTfPxB8qHSNDLOECm8GA9wkW-MQjCWFsMMLHcJVDAkmWCPE0S1lbIOQFr4V25AmEeS8tkjoWhCp83yS4TJeS6DcEadLP8r5RSsOoAoUh1M+HIl-AqKamThGkC2Ts3hczFnLNIGIMINF8KEXdMKN8qRkHlGFpc-ZFsYjnjYRkMqkzcn8wYAopR+zKkyJiMwpWa1K5wXoHEt6kLgUiNHuIxZRMkUyJWRCyFSI5mMOPvC0BYSvmHkKDXVIwSe6jBpGwdxoZSjUqopg+gSswR-PpQQ-+ZQPxqlqPc48REFTdOnNrKyNk7KOWjtncwlBfAkHGYIQghA2C+EKrEc4szZVolBAwWp9T9CFMMFQmWls3Sa0aWdIhOStD6EaRUloLC7lnCzsmG1rKRCkPoOQu+ZdTXEUpUwUg-BVBZLznakhODGxFLYqknRkDOmKUiVMseXro2erMeAsph9K7cuMhGtN2CyGNk6IDOgrlQYdICeFN1LFsmjTaMY7RasFCUBNQEmW6zUjEGLvKxtmiTGtvbQclYU1OwanJA8vU3aGC9Q+CE2JYSPhtomGavicsXCArtVUUgC6Ym9uXWLEdnA81+WncKlY55d37uPXUqijJDLboLjekCB64krpPWekMs7mXrhfXBW9bb73-tHaGKar6TbAZ7n5eMQr10ukRluwxTbzFe3Qmwt9zAl2uwkZ+sIp7f6wc1VO11esdUdwXbUhw8CvwVp3qsgKSHBIaH0Awa1UIaPsJAbUOE3B6PFN5nWpq3JGD4H4C-K+2V3jhK7c80UWaW05u+bEc8+HGSKYsdhw9uHwnEYRpu4evbNC4k08OpY0FShO2gmsFVt19qif1RJi+UnUQSMg++o9q7NxYoNIYRz4mQIubftJiRvm+w8IHc2gumHF06fbeZnm5LGLweIhS5j58TCuY4Tmwy09QT0yyyF2Khg15L3Cdy0AzQUbnrI-zD13jfEUP9Z24i55QWMkayC-Aii9PknPHuOOQJ-NCCc0For78JGguS+eLjbSeOhEZNU-VW85vAK-IN5LU1n36FBRXJhMLCU5mJXEwbuK8UTjWwtjt4WLtFDzUJ8j7qG3RO03EspAamOGci3+gs6Htw7eCYU1pOXmsqICY9+rDbaPvbB+XVr-Xiq5gfUCHbMOy4gYLM0opJSP45qoX5Wjc8F5L0xwXdHrtifr2rT3AnX2BIwbq3Mj1wX369LzTLInpWSfL3-YV1+78qflfxyGHbrPpNk+xyD0pcPc2-0qd+iKeB+ZxzkIoCAMB4BIFQBnNAxJhP-VSHXFyWQc0yyDekBeZBZOgAAD628Ugpy61QxA2-t471Ii8l79Dx7Lu3DuXwzRtjbmI7vA9ij5V6Prv1mfG4oLzv7ZuIiFHp26MptanssVFMwMQEg1rVOHTsPo9wxAWyDTtT94QABkVfeh7WHeEYSQJKDF5zxn+ryNR6ycDRl1IOe89zoKx90SAmZmZ6amVjeW8BPd9Ty4AmEZlPt+Z5FinYJmou-2zjtp9Ay-MYL+CNf4IpbO7oGILf0u6BCY74A7jJLs1+574Z7P5Bc8jQL8Pw-d-EFj-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-k33QdvtwdKVfvgc-ssSxZoeAfvuEDF2OkuBSXYfIfmA1BiD5xrSaKkBZIfsgfKXkcOXMImD8AFyFINuFqEdF5gw7vIs-DNutypVNQu6bs5QhzlnwdENLhZMBwoxJmyApngOJya4pw66YAOVvCXTkCmAMCaIfBVQ3CkCuJsHUBPggfWxW7Tg8VvwWd-A8zoz+FK1xEQHmdPhyj3UMCPUXSnJXUY27TmlT32eed-zNB2fsGOeEMkUKA3CNqordmhwu7Ecal6fKDbUZC5JGDLLKDKA5NxxnX2p5e63gjHWlBldVaiQWTQ3pdquhhlcn7+e3IxcOAiLGDJdn7XK3LdcR7teFgRD-jAGvVI0QjQ1FzxfGCJdSiWo3J9dvzGDddrr3XWDggQdtcLdgyAyqyNJ3tl1ZC7fOfggozaTTA0IFa7egA17SQvL7eue2i7fhD24ucRiPdTOqTFDwjOdBeDCXc1ngifeVk6cUD6eGexQmeuKHehjNC3fJKelpKXfXcTid47yLLJgRmIH2o3JOeMqiRjdnUbd7pbdkCqwEwrJY+l5ecw0NdQ1nUI0+Ez7QWlGY9vdPUTjHW+eE8aXbc-f3cHc3INLY88ynVvTwineOK8r9d5SgjEUOqS+bdMAk+t24zDw7RQ-TCBh0BS-ggSPcAF5k-Y+T0U8Btc-E+kA8TOxO7NfG9HcADkvnVq919vzs6NSiu363WvCvdHSi3ve3zNO8NnvPvvS7fYB+QgwgD1wQD1dkWkFk5oaYD1IaHA8IyvGv8vRPQfBY9Hh8EYwf6f3PSvzspvmfZAgzoH+gefpvBnWfgTon5gabeY-mWbIEcBrCHgCBhHe3cPqSHCXHznYfHpPfth3ATP2+vfLC9XsQmsDfGbzfkubf2ibgS3nfqfRkw8M+ffAYaTn3UsSdtSG-E-4XTqhAdfLg3vc8IyTCJy7fbgnfcm7YNp+1Q-H8XHKm16BKYtQIIY9P+-Xeo-l+K-YjACxv7GA1oKyRkJrHP6lZL+1-Rfh2nJ6v9iMEGD-h3X+4SNnOO0AmAvwQIjQVkh8cQtgLcC4CBeOPM7nnW7brxSu8jDAfIDgHEDbkzsYFqgNUgz8m+1ATQGTnF7twDKKAnnCH2n7ps2BHA1vrQIQLL9X+R-HgU+TNqEDQB7UEgeengyzoD+hAMDBHW37EUf+0+BSof0UH21L0RQbbCwlqzap3U8qEgHfxk6q8lwm-NPsx1UHOxFqhSCyP0ilQdkx+cqBVAQwg46dcSlg4AhshsET9nOZHBwSrycEsIXBkqQZMf0vwkUcKuGEctAQ0ixRKA+AEFGDAGAVBBgXHEDuYM44T9Su8fOqBByyHtQiBmkKqMaVyFWCCYvg3TIgKrYsRIsLAaoGxDPycUouHAbyhuBA47QPOEEXKhuAg6tCvUwlAYY8FGHtDS8THevFMJdwxd5h4wleEsJmFWCIwqwxYW0P5oJtnKnQhzt0P8pv0QOVYTwBML8IpUcOOcdKu23OE9CLhwVPoUuBaHbCOhdwoYXyBH7BVT+w8Ngv4PUF0UXSvHUSJ9z4pZ5TKVBCznamcFHC-CDgfemtDYIMB1AIgDgKQAtj1ZcghABjqoNzqzo-hr-XOoaFMq9VXhYgTrGSNIaMA9hMIy4Q-SLITpdsZIg1oQnhHiYuoSIlEcIDRHAjIqItEitiKZFjCmkNKTYb-QvRPIH+O0QkZvUMHMYdoWIpRPYIDaKi+eK-cUefXpGANjBIYBiAxCmiqiuOPwxtl1CFCZpQQYSd4fQnhyRUZY7WMkRSOFFUjb6qPd4XSIAZOlGRmwysiaMGBWiqAXw+Kg2UnBGwXiDAOxlxFWFYVNh3Aa0YGLfo-COI5acMVQC4gcRYxAY2EQhSvr-cZAdYWoMdSO55i9gBYxwe0AbjpjWIVAcIM5yvqEkVeooP4RxBrFb9fRpDLeJSAtHgJKxcYrMZb1SA7RmxV3WvIEOarWi-4pQJMWGIjEzUIwzYkPgaAjDjiFxMERWNONTEzUsB1YlcZCgJjLi+26EEOs7HBDFiOAEfH4WoBMBeB2ojAYoQjwqGohuA5-Ssef1tFtYkcM4yisUn+SMgpxSQFMZxBmrPjMxd45wL2zZbbhXx3w4Ap+M5QZRVIp40sVv2sxkChKO7SQJJ1NgtVAJX4ulAfB+G8ANKbQ5hFOWrFWdASp+V3FuISI-D0oJsK6DiDZDdBxo74kkSw3SiMTMwvgCCgCI7CR4vw0sKzDbCq6GAfhxEq-kSE3ikToyrEqkN0EZDUStspdP4d0HCAVdPuVXboBnk3agAlqAACQVYMAAAguAHAAKsAASktUgAAB5DVsgCBD2U-KMgSQGoHKEpD2kf4pZFmJA6ESwY4k6SeWgnHiABw4k3AQ+I8lrikgR-OiZ0FLThSjQEHGKZkDclph2kCFfSYZJMlmTLJNkuyYlJCkfgmEYU9yUaACkvEEKdEkOOJIYCSTdinkw+F-hKl0B3IKsJIczjVBgD4pMmTyfGIG7DdTYwsUWJrCRTWjtqZ0cLJeJ8Q3iUplQm+KNPMghjy0vUyfgDRwmgTSpPUrMRu0kBxAMgwbBwIDEZAAAGE4H5RqD2RKKe0x-naVijUBBgZeK6bkAOnaAgQSffaThWkZnU8QfkKaG9NZTPTSAEHSLOdPvRdCC47wv6d3wlx3SPKS4AHsRR2iQzB+0MnsuX3OHBFTBuHW6AFXOGpBqg2QPaRbF+RXSoZt000I7EBqXSOA10+HlVDukpRyQ9WR6GDHsidBXENQkMEGgJGFC8sjlMGCDPOHAikZT-FGZVgwTSjghfYScUuGZkMBWZbAVxMqJWlFBZZ8s1xKENIGJJCktWdQarLZkEzmwPwioJ1FCD6oX+kQ5HGDOWkywmZgQFmfrL6mth5MqQAkWoINCvgm0Dcd4Y6CJGM03Ql0AsDPTgz6DfZDQdrI6OmHOiaRy0oOX7NzJeiWRDsPMYRAPHhg7Zcs-WVGNFHPhaIWAf8BKNlG8THCzVQsL5lKB6yFZvPH2c9wrnqyICjoNuoHG6rEAZ6eopKunLVmd9jRNwtaGaJLjsI-g+w0cLlWtmySBAqwiOTsOpHtU3R0EwUM8gnnTNeUFQflL6Fzrjo6A11ACZGMpGijmR4EiCSPKzEVsp0Sg52aDNmq-g8UeASELfJDD2jhRk84SrsJnmdAY5nM5jIvJEgTpeZDgLeTOKHkQQDxsQLOSsP3l5z-wUEPkX2GMg9zAFhwtcO-ODmPJXwxs+zKkBviILLZBwh4fFRCo3y75Y6ZjCePzHnjT5Ic2UUYJhTwK-CWC90XhCaFuQ-5GNbeTNUIALg7wb44AjmIQmkKuBDsEhSWIj5liOgWQdhZC1JC1iXy-Yi+ewpbFp82xfc9Sm0kHniKeAnC4KjIqbHjRnOiireP3JUWPBCAd4NRbaNAAELIQMiwcQtGHHWDmqxioKcwtxAAK5xr0PFHONJA7jCgTi1hbzzkVeLoIWAzxcAv9BHiVegis8Wt0YUUU3pasKkntwvJkE3sLWPIntJYrmA3gl8QiRwjemftguBsx0BBz+nGlcl5Eu7moQgK5LV+7cMPmwFZm+A+8dZL7ir3EIRgqlYItyMcgYSxK3pT4mvo4VDFJA+lpfF0Y7NUxI5L4PuKmfFAvACZQZOCvGR-FyV+RZsm8lhXBMfSXY1lzijcRX36U9SQlmS9cJj0mWjZclASooFBPio-TmMPijZbmL4XOcUJa-Z9NX1L4FLusvWU5YwHOW+Y0JEnZWFhLuXfiuU20gQBlIYDmTLIAAGQVb2THYNsU6fVmck4S3pEiTaVwvUG+SqRFQJhGVKinOc6JoUtaGivxVX5nYSUqJHtIkQxdKV0ymlSBwhVQrYV4AfKSBGJX0qyVCFFWI-3sw5t-QlUrCdVNqlcqLlhQVJRwBammx4QS7QVQxPhkWQ3pUqq6Cnx+HHJSVGKx4VYJ5WGxhp24N6danCxdLplBSyFpFK8mRUl2KK1yRqvNXLSOl5gNpMXGpne89lIyzVQFXNggcdVQ01jCGBzHnRDIPKttmtE9i+YOpM0tzG6vo4DKlpWYhcQHHVXUro1uID1T-UqTP07YxowtG8vo4prep9Ep6ETKRytBsWQIDifkJTUNTXl3vW2iR2HiMjS1RLSsk6vIa5qfeNfAtebGDFNrfcCQhLHn0zVXQHVuZcSQ6Gkl7dXqfi6sU91ty-C3406midEoFhpDAgkaumYwH8nrSr89-W7mOsHnbq3ZxIuSX4EZDCqswUkw9TPXPAZcmyGObdYWtahesWYcqp6DiDj5dTlVT0OtUUFKjvrRI26r9a1A3J9g1eXU7gAHFvWBBKcD682MlgLmkYKOK64IGDD+kJt-JpSseYtJeKMgjl2Sm+MsvJCzp91Ri81UevGUkj5JQIc9biCkn1Tr1EyxINBqQpXSVYz696K+taj-qJVxAIDQoB-WFA-13QRVXtL40gbQwiMvaRBpyZQaMcf0uDXoMeTEQtUDlMoX9OCDrqb4h6spbEu03Oc1Ne0+1F1KP5lDt1RmpqTF1M1dTzNqU3fDLA+AobNNm65zbips2zSr8KypHEvE6lNSWGEKrKRZKsm2TWV5IfzaZMC25T4VYGpqdJutTeanNLqdQeCAxBRKkNggYQCSsM2YbyQDmtdWhpc0kTCNx6gQPFrRWMgmVMKuFX5Aq0srfxS4XpQYByalbqVSkwzMlq8CpbtO9AFFvgHxkAcZ2Xau2GUsvbdbLk-WkdFIs9WmxnYV7XrUsr-aeoYOM7bCktpPS3Ya1NfLWC+1G0ogVt+sAjHnLZZDqi1j2P9YfhEAPUNtpfYirNuqDntmc0HObfTBSCraO0x21qHtwNr4cUG32ibchJtiW8Pp7sGmJDH5UGgrteayDL9ue2GBXth8d7TxEggNAA4j2-GXhxe37aYdcOpHSzAR26wztUfCyBDt5asQXtc2+7RRio65IcUsIx9TxG9UDTdVfq7cAGsO2th72RqHNa6qp3dl21FPA7YfMKD-KMJgKhiSHVsC4QZIwutIaLrfV8jIFVXFGDjqRA+1zYtaM7TH0u1c6a+xFHndRBwDngbgV-Ixn1EZAABOE4NIXYi0w6dRgDEQ9ut19Q6dpDQGGrH4zG1JRt3Zmh8HI1n0Q5r4FwDWSOke7CgJupRLb1t4WQ0A0egTZqk1Ghgw9vPH3b-VD2O7TMA0zuNbh5XqFD4LgLyAcV1GkZU9IUG3Tysz3TgO0Ru7qGnpHWCA6lfURpX9nWwobBtw6kDgjvV38AIQnQepY3qIpE7td125ZPXoaV5l9dlLAQNUFKjX8+0jIcEN7xdilRhySK5nOf2ECnJQYpAGuidCw1T7+Av4hONmz30gQ2+faZLMoODzH7fdpOkvX1AhCeQJkEaYIOyBJ7VAaO4yaJvBvj1hyS1jIKAcMmYBX9ZBpEjPsfqRpHBVVIYRPeCAf1eR19+DaRpzUX377YDn+meonqr6urWgOcooK+AfVpCMh7UDLVKGwMh7YgBm6mRprM1Wampnyn3jgZWDQGjJXU9LdkPZD-VrR5AXqgVTQCx6-dSmwyNAdQNeQF9cEuOMIeiYWQ+DRQMPbbqRQ8q9V0EVne9EwObaIFgoCEa7ChEFxWgvUiDTmG4AMAcmVcZWTalTR87dD1IcTiLtt2KdgisYEMGvo31kBt98G5dYGxAF87j9q4MgIvDaSCs7Rv+oEP-pgHAGpeYB+6hAZwOvhN9fhnlu9yBCokSxrsOgrKKEOeQPDcA0AAvrAMf7fI1PGQ2nv0CqH3lpBitgXIYh4GupTAdISwEyHEHBgpB3OhQbBhUHrNNB2zYwGNJlG561FXww3XlQJGoSyRwoqHJv36MlEMB2A0yE6OsHagH+h-fkYqPkKBDjBoo1MemOiGQV7aBY4sd-qyGQ4QagaYoZZ3O0yYqNEo3muAXqQzWNAXJJYecr6GR+xhnzOhGJ0V8pY1hmXbYZthJYTBOAWQXztt53j7UGW1pDOGXIAAhTuGxAy3J8LIkJ26DKrSbgB1wO8UgMdkyD97RI5ku6RIFADmT8AAwYiniGD2TBI9wxmqoUROCAnXVwJh8foB60sAITKJaE5QFhPcjsT4IRE3QGRMH4+4HHUgA9XsjUAAAXm-Aj48wKTSRqk4VFpObb6TKQowJ0DfhKID8bJjk-CdEg8nkTAANiOkGmyT0ptpLKYpbyn3liptMKCfX0d8D8ekvTj4CFMWQjJaqNwOQAeqwA+Ty5aAAIlOTCAJAD1AALLmhQARk0GMRQADsAADilMWQTTZcOU6ILcBAmQTTJlk503tM+IyAD1F0w0sMDumLInpw+PyabiCmHqbfMQKInRMp9rAxpkY4mc8N0mQT+Zq+GqeXKZnHTOZ10-mY9PImUAhpo03GfrNOhzTeay05pGlAVRjs7gacHaYdPZnnT3Zgs6JCLN68oTMJu6ZyYeo6nYzlJhM2aaTOpAmzDJrIeCYPwAAxLsg9WgAk7wQAAES9MokfTC8P0wGedMMYIAzM2ProF3Myn9zNJw8ymYZNpmLzV5iyDeYeoPnizy5AU4DHLPyBKzrUas7+fjMpGRzgF480qZbOqn0zEIS86YGvO3moLKFAAKyGnyTQ500wBcbMKnmzWIMgNOZ6SgWCL4Foi4+c6YanNzWp7k0iZQvDnTpo58PSCdPO2nlyS1eyP0C8CdwHq0K3tA9SVbQXWT6lGXdudN3gBtMBJokxH24DEhSQFFvc2heotwCgLSpkC2JYku3BpLFkWS-xosgKW1zKJWCwudEhaA1Am85QBZ15N8WqLWAQS-oHHPr4VTeag-OJcktWXRINl+S8ieJBkWDT+lv84Zd8sYXaLDJmkFOZSBMXzLYV78+CEit2X2LEITi3Ca5M7n4rqF6kwCeSsWnhLYJ0SyiXMn9B3ANQJ0xFfEwpACr4IVE6DQxN7BuLsASULpLtmaXiT3AKM2SdrOUX-zSVmi9VeAvItcL4IBq+sFLgtXcrbVpxopc6ZOXVrFZqs85fBC6dJQBDMq-xemvGXMLVp7C8FeXJLWmr+16FeteRM6ABzJ1ny35YCuTmGLGV2czdcasrWZLj1zaxCA7P7Xczbp3s95amtnWECJly6-RZ6szmFrRVrcwid4sOXOmAAdTfgsBeAPiJxhZGskghN9NZusz5ehvJmLrE5kS7fwPxY3SAONvGw9UJsIGOr4ACS1icMAcBbzK1QgKAD0n9BebhJ4k5DcSvvXUz812m9jdxteB8bokZm8TaBuH5hA2yTec1FoKtlgEwpvoARBJuTXRbVVsc82aCttmUSdNhmzLaZtE3szh8PELFbisTWDLFV8m0eZStKnqbEiA-OAEzZyQ3zokBVnUa8vo2IQGNv9sP1EjgB1AiiUANCqEDYnSTItiq2LbmvMnPb3t-AL7fBD+20baTdLuyJoBn4HqagA6jIAeq52DpVBXW47YbPnXXbl142wta9vyB07XJrO4HdAARm7br1qa0nawvw3GLP1lEo3Z9st2A7HVs29Ldlvgh5b1tru4leduw2qbtVmm96ZiiXicrhJuo3VEVsundQKliyBqz5tvw2CogdS3bO-N4hdTCd6uzDcptggzLT51e30HXvIsE+itsu1oYLtxnM2+DZq5XYSuJ2DbQl1K-XYPzQBH7kgB6hvdfvcA8QY1+26Te7uAP-LdF9K4jdAfgPn7m9wokHc6tp2M7rdv++Vfqg92rT7tha0ZJtiQXiAGNzuNg5RNomvrWJpm5vPMDgByxgQYiiRavvoWZrht5O+Q8ocWQ7z1D2hx1YGAq3QQXBOMyYHiCqnCHp1khxOausm3OmFDtRkI5EdGxorndh2--evsU3a7Sjvu99YEfqPRIwjmh1o8Vvj3GbBNq20Ke4cCWkHH1xzMIHSH32trpZuCxZBFPimQgHV7a-BfTt7WHHs9gB7w6AdKnXH7jiWzBa8f7XfHEpgJ-E9WuuXVA7lzy-I7JuKOkEo2NxwwA8cQhAnODBCyE+SfFwyzJT4J0hf2uHWagx13R0Q4PMRPkHDJ6JwU9icolxH1QSR+rahIyPJAcjt+8rZ6dq3UQD1VoWIC1vEAdbjjhypBiECGAJL04K-YEZJGtA-9-S6AYAdgEd9wjWvffZEcgPFbYRLDd45Yel2YSGJdhm5UWWZrOUGqMkY7v9RnEu4qxzAKSP+GaCXGlENxyEfce4C2sXyPVais8etQmGfhrA7+8IJXg068dRYT2ozt9W11QlZx06IpDY4Zc7UfzrQ7km5oG8Wueh7mqC8DhBMDxi1AwwUbZYSoBk0qDiJbKVSPUIFku0SFC7n49wazLar41c7l2aLoeCKzIOdjx2d7OmbL9gS3yoha78w+cdtcRTFcwvQMSKm+os+WfIP22yjqci4XoDLIFAedw+PK4ld85Woed0AOdGevkXazToPAGLfVf12KoTVnV3q+4AGusKxrg6aa90AvXdHsR9St4KAA')">function javascript_value(args, frame_stream) {
  return stream_flatmap(
           frame =>
           execute(instantiate(
                     head(args), frame,
                     (v, f) =>
                       error(v, 
                             "Unknown pat var -- " +
			     "javascript_value")))
           ? singleton_stream(frame)
           : null,
           frame_stream);
}
put("javascript_value", "evaluate_query", javascript_value);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p16' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	  <kbd>Execute</kbd>,
	  which applies the predicate to the arguments, must
	  <kbd>eval</kbd>
	  the predicate expression to get the procedure
	  to apply. However, it must not evaluate the arguments, since they are
	  already the actual arguments, not expressions whose evaluation
	  (in Lisp) will produce the arguments.
	  Note that
	  <kbd>execute</kbd> is implemented using
	  
	  <kbd>eval</kbd>
	  and <kbd>apply</kbd> from the
	  underlying Lisp system.
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  The function <kbd>execute</kbd>
	  uses <kbd>evaluate</kbd>
	  from section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF> and thus
	  can apply primitive functions to constants and instantiated
	  variables.
	</span></td></tr></table>
      <span class='comment'>
	The original is more restrictive here. We think that allowing
	primitive functions to be applied is at the same simpler and
	more powerful. (We could do away with the syntax functions
	<kbd>predicate</kbd> and
	<kbd>args</kbd>.)
      </span>
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (execute exp)
  (apply (eval (predicate exp) user-initial-environment)
         (args exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6ShyQHrhwo4lpL7dW2lMEK8RrxK3XaG7qUiN1zUE3OScqRLpAkrsCNBYChZi6EsJaXrPdUhrfW3tTbRlFBcbMsKMa7i0m+cwhmli6kjL91QVnoUIpdB59ean5HsVhisXYsKlsDuyeC4p0CfAF6vBN9L8rmqwrlWmUrxZNvxchste72Vgfzk5Kt5hQV02w3p9tdByIaXmltIeXH5Y4cK-dBjY55Ozb2TumeC0JsRfg2z3bjP1EHNMJ4oD+01FHJAdr+O5rZ3xQSyzOe0Gkl2+wANQyf10g-0rT83E04QDnx0nQtFKAeGxRcl8QTCpkgMwmg1rx6iey+WtXQILzsCHWwOEQQOoE1Fkn-BHyaV5UXT835FVTwJyGWW2ikVNQhxwh8W3wSEtipVfDrzsHTxH0EzmTGm9l2wwLsAYM3C9TEO6SHgEKYEFEOWaAshHxAloIGygOXSYNEFnxH0GjUMFA0KuzoMwNXV0LgKjVUk-hQO4KdlAzkLomrzuB6UuE-0L00EeEehEI4V2y9xCC8J8MiGAn0mCGkMUCEOtVkMWXUSGQaFcJckBnSHD2xR8NkKMAAB5Ai0iHpf84jk5vhA9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgJPHcUAAAaj92gTzUeHAnk0cKMA6JzW3HaM6Mcm6N6PyMcW4QLGKiD0UDKIqPwFEGPBqLqOPgaO5xaOGI6MiX8HGPwD6NEIGJ3HKhGN2JgVugTQmJCNc0UNKAqCqBUM5XPy9T2QCAJn0GcDKFmgIO2E9THl8NUNiMcQNm2CVRxwyN2O+E+PuNmnOJeTIEQITTsPcl0gBl2PSC9TEmNQ+36PhOCCHRuPhMxIBLw36NlVXRuKcRSA-G2GFnGGxO911TJCvk4K31RIXnIWiWKMBOkHKn3CaFYlADdWpOSCjjIWSikV0MtlwOENdn7Cmi0TWF0KeKMJyDhnhP8BVPEJbHUNFMjnzkILBC+OoB+JznWWEVGS9UmVeNAEiDeK1NIJhO+OGncK5MdMnSVN5KcIkKDiowhLxOsmhPEBNLhOCTIKQKnC4I5KBHROskxNA0ZO12U0hMcmCE1GHEJPUWBOmOSBJNJTJKOIpPXSpNznMBojdkYgZICPYNZJRM6U3m5JKltIqkFNhGFMFBvDvHbXdW2HFNBKKClJHxlJAXZDlPNIVIbi9JVNkN1OMOeUcm1PkLnPVP1LzgNLMMj2dNNNdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIhbxQi13myFzPQAh3BghvMTyAKjXfIIkcFglLGSV5wfNh3ex104U8kFSkR-NvObyLgsWdUlAzT7RzX8D7SUg1IHCYW3BHRQvMBHXQoXIzWkNwtAGkIIsQqwpLhIpLnIswtv0pRfhzQYr4SlAwpSAzThDoFLEkFqBzU4u4uqIhDYuSAzVmMYFwrEv7GEoCAzWZEeiLAaDoH7jkoegUoYG2Gkv8AzTaJIv8EUBD1AFqENSWivA6MEs0vMAzWvF0vMH0t0CMtbivDvHMsIqwr7l0BSDssMuMtACvDbkMvMAsr33mOABssggMoctEhMtADABcootvwAFIwqvLIroqEqArQAgqM0vddKUqfLPdjUjLXLb8ABCI1XKiK-K0AMq8SIq+KoEbcTI5Kyqxy0AbI8wOquihqzI0SGyvK1qnqjqrKrChaZq+yqqpaIa4qhqhaXqjygIfqqK3y0AWaqa+q+YkqsK5agIJa8wEq-we3SUM+KC68385yWQsSCMATPtXQaCxPWC2eY67eUi06mC5yagBoAAK2jw0SuqbkEFbiItes-LEzAtKiIQXOSDuoQgeuOC2iwBOvwhgsvXWPEmdQzUZUyhzUxp7iCqiREqwsgGIF5lcF4o8qJpJvqjxvxq0qwpUscFgEgFwvpsZupppuCu3HpoAFESLua2aaaM0AA5SQQWsK4WwW3MxyJ6+gESaGtkFGjtUQy67YATCCJaodfAIZOWmre0Y+aW-ibWhWww5WooVW1uaA1vLW4GmGhW+GttVqHCbWjPV8ycEuXfbCP8jMVKRgP8ZEz6yQKQWBPCRmXJAybW-88PQEIChSVBV2vqF8ZIC0z0yKaoaMzpRQXfGw9SNOhMN+D+WETPa2u8ouVU3QTUw27eK9VU-mgIfOr+J2keHoL6n6su-GiumWqu8Qmu-wWsxmNk1yewxIQVcPESU1R4UoBI8LdkzpPeFO+shMM+RQy+Pug6T6keYaTaXfZizhEaBQnA0cmENeoQDe0aXfYgze9fOwH7VeoiUUXe3fLAi+r7IjcHOszio+ouE+30zcwsHHe+y+ggUc9+oiL+s+5df+5++Ja+4BoQO+zejwuwR+0+gB+IR4B0Nic0RgBseByQ5Mr+CBt5MAD5JgY835U87gTAa3J-dwCgRwc0IcG5ZkRgX0D9SgL9cPLeuFBFTcC21h9hvQ1CCMAksG6DPh79IhEY7cRwbY3NS47FCY3h5YNh8RwR64PB3HMRjhgfGIZkImLjGPO+LFCid20gUgeFISFaUmQCUxnyhgDouaUxpM7cYY4IZxgsIYkYyQGxyG5SZx3Qbove4REgEyTUQxhNMiCiCJxwYJ5YTUECAASCNO6MkfmJGJ0dJE1H0bsQE1VxiZFFEAiZlkkYMG3AAbyYoLcBYFWkeE4f6Bfmqf9FcapW3AjEJCYUnCMC1XzBFhx2gw6aMFRXUb6fIm4hqp3ECCfCEcgiHQ6acYmbCNAGoa8eHHobbCYd9A6f0nSBFl-B52Ilma6aUitUGGl2Y3nX6cBlcdSY6PKflWFCqZmbsgae4h2KUmGJketJ9WtVOeTXI36bOLedaJueIBCbucYAebBqAmeZeeTifBaYRlAFufmKooid0FubNXudUamELAiM2e2GCCRe3GIt0GdUeZqeLM4X6bRZBdibBZYH9A1DkZxTxa+B3AAHIZH5pBiOXWnZGjGJiOmymaX8m6H2gsHFBMGHLcHt7IjHQGhEUh1JXu6lIM1tFZghig8hijxyAhi-hhQdXyo7pw8nwsXUREXhXQnFWxWiqTVV0lXqXQWMXwWGXzXQWYNl17XbX11PX0WlXj8o1-bA7SBg6ukohcIQw+kT7andnxduwRpGmOaY3b1dAfnC0o2fGUgBNA27hg3KBGZbkqQI37hCmo3TW8zf78DKQE2M0Jn-GhMvnBh42XWRp-X4lJWxkLxyRw3LR7go3F5GJS0xdecm2BypTG6sTxIIxPm+hfVU2WM1gm3c4Tqi3NQ2IgJLYBN23zx7Qu3C2e2xooXF30IG5zrEyAiiWVVxKpmIih092+lJUgIhkLa737gH27IiFeXT25knGqLr3mB9232KJP3x2z3jVtxs2g683Q32h4XWWIiv2OEM3kgs2A6c2Q2C3-2+kS2m2XX4OQO5lbrMPX21333dZSEGI6ZMhK3VBA4Ugpoa2jt62Z3qPiFI5yP3T5ZKQBFNM9p6pGo+3pWnAIj42pnz6aPeWxKT7+TKoTxI8zn+kTUGpVttG4oM4BOjToJL2o2pmkHm2eSRppPDxZONpfm9owDj4U821X3GA2xyBqBZI2Qg15h8Gq2EHFP+P42nG9WbPSnIG9onOixrO2x59PPcGh1zP8Ej3CHQBTTIVbP+Hbr7osJ2yJVyBcAiGTdSAHpiw3BQARtIJNQo0RtLdLdfBFC-gQxFBWRag48Fgg9wlamcd496vQj3dzX5heYe4tmxAdQPBqvQblMh1mvGAGuy2IRhHlNhuGvk50gKvSAqvRAauvXOEpuZZW208WR5V+GM7JFnqHFqNv1LYM0257Rv0+5RS2UyhKhZpqvHAeBdBbu2sBzzApE6BCAGhTvw9LY5uFucJ7vlv7EQxwhPuBGyyKORYcb9V3uQfaO5YG5Iewf+z3SUgpEpvvv7hKvHuKXSZof+HWO4eBdIfsEVARvJbwpIeMSAepu1zyzDT3iS16B9Xfu7uHvFvHAgVgT2hGz-BXvcfDvxIfvbv-voN9uYeafweGVYQ0omUoePu8fueUgMzqN11ReEv4SIjnUhfbqtOse7TulUIkODIRegeWgxfxekfJTnq0eBeMf5vde8M+etGweAgl5ompfOuv5qfuf4ntgleHe5fv0JQfe26tOIjdeA5DfHJ-ezfXxg-yz2PUE-fV0pvOe9Dnf1yihaSM-zAep+L5AsvIiFfmc-M2Bz37jrvYOlISgruqg350hS+wOMpNQfOglggm-9WgkA8SoWBDOqo7BYvWEuzbXv1ezs-i-MI8-yAsvILnqB-tkDuvvxJNsQeM7XwpFUvLY5-4vv1kWa-VB3UoKkvxIt+bkV-tx2+fPF6epNsGgMo4RsV8jP1A+9eohd8IjNGCmX+ueAHb-DpkCP-FAv-e-jUzc5DogBCaAfOAP-7n4oBIA3BtBlgGQC7+yJDKGOWtQf8U26hNzj9wwFKF1SADLOl-FwF-5LCbnCIjf2QEP9iB+vTAcYXW714P06nH+k+R-wGdxmlnBnhLC0BsNmwbA3QtSzbJsQP0jgbLrCHDyMBN4PUFQKoGwY0dnuEvJwIwJHbI8t4MtaRJQMeCyINBntNAY20pC0D8BfpQnu7xl6ACNBZPAMOa0EGtBGAIgtVuIKk54C9ClPaQUqFgGTJEB5vcjq72E5Vsi+P9CIq4PdbKYm2ugIIbp3x40kE+k5KtC2wjBZ9aeP9IIfG3oFnhboJKFgFzkajqR5gSwWoHYjoD-dchPFSVHQCe6Cc6mCOQoQm2KH5C2IZQjOryxvbLpqhkfWyrY3SHZAshthWoQUM6GZC8M5WNoezWSC9D6hbWF-Jfh9okoYaYw0mEULyglDxhjXeptUKmZjCagQKRoWo2aEpkhhb8HbktQyhuBw8AdH9IsLqHMILhpQrYcq2lCHClomKDIcrzAzlZbinqfoeyCWAax-qpEXNLvnwDfC1IdoSwNkEMbPDVafwtbn5w3xAjNAIIjIeCOyArCqh-QhNlSl5bHDhQpw2YdcK-jJQPsaIw3g8IIBwi2E-QpEQMLuygj6W7w0gp4lsLgQasfUcAkowS6gASQoIUgc0meqwCtBf-KcKgN0KP9lG4eAwWnw05OAieiAhZoQJFHsjOR4o5IqRXkDdZHAclAvu4JySIDdAiopwVYXiT8hyAaojUXkSNG6j5ASotztKXPb4AB0PcYYlM23B2jQ0DoiTr104TmiOR8gIwFM2lLmBMRig5YJnh9GjFwohAv8n0D4gsi3gXovUZYUDHKpVURozptqk06qpORCbI0SaPz55FoMKY4YRCGgyZjCx2wbMRjHVG5jgh9dH0aWKiRDoSxmpayJYRdbOj7R6rVIbmgTQj0ZITwsEa7lwYREDKJIqlAaLM66ofQRYDMN532ZBdjgugdtl6PbbcjJgUiU0c1je7CRLY5Y2MKaIlbWtlUoIGcfOLDEjCIQy49Qisn4y5iNxQkESLaPbGV9jQGItRpGR7HkiaRkRG8YlDHEiBCAFBO-hSBDHqoKh3RascBLpGTpUuCIsEdV3+7Vdyhq456hYlS6-d4Ji3NfJKLd4ddTBu2YIFSgLB0BOxgErtrd16AQTduag6rpbFvY+irxAuRgdVyMCuMJmBYarsPSsCgBSiAACS5qOAAAguAHABc0AASqUUgAAB5QWsgHEh8FrcSxKfqpWPFAIdxZUfUW53-FsgSJwE7rAm2gkkSH2c4lSaqIxgutoJMgFoMpPoAANzJfCQLs31ng7dcGPEviYJOEliTJJ0kmyVYE9rzByQhkhyXDR0mmS3O0EvsVUxImOAyJJWVSUMkbSBTaA14cKRwMnS8w12Rk+gMFNsBWjcG4Ur4fIAEyPxOR8KRaEEiy4LB5E2ieyfq1pDFSe+Ko40RjCVFtCFJWXaqTZyCmqSlRBGEegJCEjy0J4Uwy2AAAZ+CPUeIMeCKz9SshZYefpQC-iKpppKgEgLl3EhGsBpK04UCMR4D0S-M602KJtMYAANNsE0mwaKKUC4D9pSbNsPNLf5adtwtbFUaqiulDsbpseAHh-31yKFLANcM6fwycAZRgo-UzeKj2mnXSbk803gssSmnh4ZpezCGQtP5g9R0hbIY8DIF9Chdz4VGJQa52ShMhNu-QaGQALYEvSmisbDMLdOShQhfB4nBhE9M3AozHAaM6QL6DE4G9dijM5mb6AiHcJEYXHOnloUwKWBUZ6MoGRw07HzBsh4SHoAu30F68n+Yo9SeQmRnCymZosvQvINd5KDYe9KKsh6PlHP8BG8gsEg3B9yiB0+8fPKNHFQRSIGg-I4AToOFGf9LCFsihMYJwlVwGgFgs1naPyhNj0gnM0WVqJgGRCIQH4eJhbxiGO5hOvooMialVlczwJRswZoHJZm44BGqCdIL7M1CI8BZpORBgnPVlVtOxEYpkeoBpA79qBfJJWUhLUF8jxI7goUcIVwEuzJgwsPkWM0h5F9uYxAXopWMUlmCBRHg8wa3TPEv8lRz4UYv2S1nBjIgHMfGngDbhLyIwtsjQfbJQEZhhR9pfUWDymgdzjUFPOmSQD7l7iMBTY-wMHKCg6isA8TW+Tn3UJUyNoXiA2YrO3mty2OVsgqMLElmfwnA3YbeS3L1I8pF5y8k2VWjbGuiOxJCT+fIM47Pyq5E8w0jxz-G9yDi-cgvqoH+6qAOeNcn+jaLA4ujw86rJ0YQrdFqNrQHgTBbdTax+iR8iYxgZgtjmstS5fQcuQ8B35ULSKOChMWoxmAMKnuUzFhXyHILsLw8meHBZwtIExUwAS8tuImIiKMLNUaYoTqHxoX4tzWJ8qsfmP2H418xbWOsQEGPloK9xt7HRWPJSC3t9F58wyHqV5YQKiFvnZBe5nWl3x0ctTb-IFjqzo5DW-Ur8h1loCLB-xtIdaWAyczJ9gZA+fafPhCVucZWuGcJVo2rZYUZAaM2oKKltyTM1GFtaDCEsglRoPapIFxetIXEHiupoAC8cYUon8RFgEeGGQVDWmaBlCH-AGWsBCUqJnqRinCIlEtjJxOl6CvIouJMnZTrFMIQJeRhqVVSQlBilIBUsME-0+l3Sh8ZAqfHhQXx2LG2KK2FBKgolcmZQKcIzBTLE+3YqwL2IpELLZwd424r1JcmOARJu4AADJc0ZJwpF+GNKlxWA2p600UGUpXHzKAJUvckFlNTRTN9JAKyVF8qBVmSfJFkupaKAHy2TUw-UuFW5xuV3LHl4AbycOAMlsQIVsUtznlLrqh1+wYUikZFOimQrplyQO-P1KSn9CnwbQklZ+IelDF1ptKmkSa07Ee1cVQytSb8sFlpCaR+Un4WGSUjrTW4QSApXUrFmf8fl6hFqR8tUrcrGp2U-Ub+LPAR02QkrfcVssPHdZxRME+lvis+GAiCpTcCMDaKWjJQCVJYHoXiKJVKQ0p7UxyYMuVW8q5VqCEkVyqRXaqsGuqpqaqshozk0RJcl6AoE2XitJW+q8KSDOepagAa4kVCXxyUCettwGyyVqP3zmFgiecariAsweCxBYZWqyNU4INXKic1AyS-Bdk9ZBqaRaqwsCRO24pjYly8JluBJTEDNkUhYRgbRI3idihwQeRzhlJ0HaSrJm8V3g2p36jqi+UiaieJDJVs9yJo6sHlIjMbrgZ0Vkg1SbUciMrER-XHcFZLZUZCM1UNe6L93KgHrkphvXFhlN0AkjV1P04cBuujWilI5ecQDJ6Ts6WA6lw6gFdKpjVqDVJlsUZbIHIxtK25A7FpX5MbU8qdZqg-iLOvsAAqopC6mKTBuXXPV71M6faeFK3U2Qd1sExbj4vDyHrsgx6gIKoFPV7rqVxGy9clAiLFLIIPlTDVoG-XPqyOMC8hAXHK6zAcV00oPE6tpCjrm1UqoTVMwC4uLR1vLALlZKmQJSi0MIlXDxoE3dghN5CftV+o3WoCR1GU0UlImaDpS5NFiG5W5NEniSpJGKyYMZqEmmbPJzy69XJtvU+V9Nym+gKKSmjbgKgji7jbxrEUxK1Nn6rJNNK02-qwNxiWftIB82zhLYqKh5U8v5gxb0V24rTgxpJHOavlbmhuB5vKBebFCh9agIDMPq30o1aI4TRwRvot5CtsDBNjWoyG8s8tgM6+pVooALhiAH9dmHWLTXWtgEvsJrSkloBtatYN8kYTVuREEYKNDVNVkMU61bLH8-W-LfJsULv15tzCBwANuK21rStb9VbevRgbNb0RL8TEVMJxHnC8hdiR+NNvFZPZdtQIa7VrBLXRqg+nlHyktoa04I5g222BitroADaNScfGyCNtpGxJxt8xTVuVAu1k0ORq2+bVf2ESoMVoQEdbRkN3x5STVwq+1TYs7JRUhtdJeHDvVDWaqutcOmPOGqVCPtKVUoN8Sco-GIiWxvgP7caEp12dqdYIhMXfPSBUpHtyQAHZumB2upqABrHcODpzRE6JRihCDrm3zY5IEd92krZzEVLGrvhhU6UBav0gUgFg90JQE311pUAVo8JMlndv4Hwlf8KbYyk2Mk7iBR5Y8iqEZ2qhGj5ZQ-bYjfLvkBBwOqHSDpLu6QmtLmXY7FO+INUrlnBCLDnfpG51A7T1ruoNuh29hTb8dJOnNOLqj369+Ca4y8O9q4p5DLYAATlfC58HAAlf3d-Q9JRp+KeQg1X+TcB3wB4RfV3hCQ3jyDp5jEOwAEWGn+D-AJeniooDZZstyoaAXvWRuojRDpQ7epUISNDnbBh9Ze1wIijylqYhkdgO8OVlzkbk29ee0vXlKn0yFdAzILtsPrrUpKeK6S9oFBGeADrEdyI60QYXClh6Jt0gVJYftWxg7Y96awCLfoP1mpbci9KRBlHG3hsr4lsbcJK0Q3jbk8byydO21mB4QEItg2Ek5Nrn8Rv9R-F6moCBAIHhwhbK+KKRr31NUDsGgIMPvmK3g7wCsIPCanuYZR0GXZayi+sH0o9Y1lsLdrUE7bdtI2brVA5I2fAcqIw+B7cIQbvAQHE8jAEIN8SANJdeDVBsHvgd9ZdatQY+sCIxA3V2cHORYHjXYhkOt7zA4mvjbYJk3Sah18+NQ67O4P8SMpWEFQ7MBNTUBvR9oaRK4TQD97LZ+sFQXgdX0d6eDYh8pdawiibiKYlB3g0MXsOjCXDOEcKejohB5SldBkFXY5CkNbK9IzummB3W4ErQtQ4o29RbtACOAfKhgO4ctDDVFr-Gxypnf7tHEIY+yEYcA5AeFChlV+SC63C+ycBarUDiyYUE0AeBU0qlIkLUPQYPHbtU99RkMfkygggskugxDg6HOFhQHWjpNaqmBweCpEdWRfbg4QaQP7sPDWykQyJEoPtRTx5gSQxawJ2xGDDAsDjQkPB4KH7O8rZQ85wla4H-Amh2Gfxp0NKaN1+h2QzTEYiTHyC0xsZtuDmMpZjZK+9Pa4fcNWTTDznXw7eG2NI9Tjr6lIEsfcOAHEoDAMQ5CfF4T6QjVqz4REacjDksdwSGI+K3Pla6r0PA5NakcgjpHNarcbI4WPB0SsCjvuqncUZfhEIX1gieoyTs70zi5oPGzsPYiwoAAhVwHCB43GtyoApzQPSo5rgBZAOQRgK5D4QP6dwIk+aRKlAAiTqAQaHNDwBb2oRu9y2V0VoHdQcmtVbLbk59Q+r8nb8Qp8gCKdmBimdwEp4gFKaLxqANd4lcqMeEoAAAvZYOqyIT6nfjhphY6+BNNdazTQXUmDIGWBKgM0Npu0w6e3BOmpTAANmGnpndTgZv40acXphnYjEZhyTyYgORsM03ErxqyA9M7h+Jf4e4JICGKwAXTWFaALKDwizAJUQxAALJ-BQA-EhCDmgADsAADgDPlRszIZrAHmfFYFmmeFphoFaYaplmfQwoIYtWbSV0A6z5UBs0MldOxB3TQxQto8FMhymvdWZ4M8aaI4NHwz3J9c4cFjNYVFzFZlczWfXP1mpTKADM5mdHNnmz4k5pUNOZs449Go8phwHMVLPlnlz5UVc7WdfPbnBTwp+afaaVNJnJTI5g0-MfdQTmLznJ-80CCc58mM0AAMWjxDFoAEO7cAABFGzt+Zs40FbPtnILOQBgOABRkC6xsepr8+hZ-NYXTT5py04ReIvlRSLQxSi7BdvynA9z5UA80eeXOoWgznF0M9xavORmbzMZ+c-MSIsUASLZFkS4fgACsGZ9i2hZSwKWV22F681UGFCuQ6AoFrChpYF3bghL5UHSxzXjMIXEzyZ2S2OYwu-muTkZvCyWawqlFjwJKcoK4CGL3LHQQxHmqJYaoCnyCTOoYgKZ4oQA046pzU+q10BAoJhBgU8-JcwumWeLkZ2c2pbKLBWWQYV8qBFZYBRWqLDVcS24CGIKAsuvc0gGw2dOeXvzJl-dmZeUvRnxWGaIKyFYqs7gqrNVoZECn0vpnDLcl4y-le6uFXCzb3IC1ZZsu35Br5V+y6NfKjRWSWcF2025aQseXprXl3M4pfzPcn-LvbDNCJJJTWX4glZ7cPcongOBar8xGU3UWAuKn6zTKLicLLStandAg53UzlY4uzWfLOFxQMVeuu3WNAD1p64QBesxX5i9ViC2+WYCHnsgx58qLdBVTxBlOx1zq3Nb6Q9XFrfVu87fhut3BYb4V560pSGQjYPzBNvK+DfMvLWQLm4aG1Tfus02EbdN3a7fgfOo3twUFl85uZPOg2cz-BFm8pYsvAXrLHNvawmcOsoX+bDVAAOrLAGghAH0EpXKgSSXAUB8W0Zcls4BpbhZy66KAzQa3GAWtnW0MX1sCHXr24cAMFcVN0Bw8ZF8oqoFADcSSU3tjU1qY6vM2zrU53i3Oatua3tb5QXWzuAduG2kbmaWYHBF7mYpk2O4W-o8CGLHhdUeUI2zNZNtm2meKl-q1hWtu23o79tg2zJd0A8BJrU1kG8bfHNE37gJNpnhbZKvgBg2ZQeizuC5ryt2rqt+YmrZwR-pyo4AbLoqFAD3LtESpnU0HbBsh2-zYdju13eoA93twfdlW4m1MaDSqA2KIYll2aL4BdWO9laVejzsnWurxNha0XbJsr3mAa9pC5vYHugB+zddpmwvYKtKXFrstlawrdvyd2H7695+07bLtR2Y724OOzJY-sm3m7l58635d5MBXqLKwcqfZY1PytL+g94W3wn7XOnyogtH28sA-TmHmLwsgXTwBTPz2C7i93y4WahtNnUHuqdBx9X1ZO2vGy07gfvdHO5sEI3N6h+OcLsAXi75NhqtACYdWAhiGDth0Mh4BA367uVz+-Ne-tF3f77Nkq+I9zGSPyo0jrB9KdXvAP+7F9wm3A9bsAX27GafiYxScuiA1brgBY9g-etymFTiZiSb3JEDgBeulgHNLpYEfnmv7CD+h3xawpWO+Ewl2x-Y-YdJ2MofUVhEMUK7RgYzxj4OwE9Du9XbzJV0J9IHCd2PjRUpiawZYbv53BHtDiG0tcsvqPLH1jncORYid5OE7YDu23rarviU-Hp11J0vcjM-xZg9nBh2JbdMNXPTPpv007ZRsPWpLmN6B0U8vumOb7AF7p70+Cf9PdzgzncF6d9MjdRnAzoW01YegtW2ryT2a7M5UfzOqpPTxwH07qvbPxn6N6S60+wdjP9ztzyZw9ZxtMp8b0zkx0I5SRnPFn4d5JdE5Ts43Vg8ThYIk6wZRPk7sTtO9TieBZ2c72Ttp6AajRPZtEdAYK5uBwMdHyl3RnVb0d3YXmBjoTNg6Mc4Nha1BuhCxHSZSM+7x6TJkIyUd2nt4cclLhNnzsbiKSE0VhuszfPSAEmlQxJpI82Bpca0R8d243QQCyN5L4kausxrwNc64N8kbAsehPXCA51NgFqUcmi4xdcmC6IjzPDnloCAQWAu9oZAnqg6TJsgu9lanl0Zs5Wz4eAFm3q7vtAW7rxr017oHNce6goVrlaTa4ZuFPAznxzUO1CAA')">function execute(exp) {
    return evaluate(exp, the_global_environment);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p17' class='permalink'></a><p>
      The
      
	<span style="color:green"><kbd>always-true</kbd> special form</span>
	<span style="color:blue">
	  <kbd>"always_true"</kbd> expression
	</span>
      
      provides for a query that is always satisfied.  It ignores its contents
      (normally empty) and simply passes through all the frames in the input
      stream.
      
	<span style="color:green"><kbd>Always-true</kbd></span>
	<span style="color:blue">The <kbd>"always_true"</kbd>
	expression
	</span>
      
      is used by the
      
	<span style="color:green"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      selector (section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>)
      
      to provide bodies for rules that were defined without bodies (that is,
      rules whose bodies are always satisfied).
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (always-true ignore frame-stream) frame-stream)

(put 'always-true 'qeval always-true)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNA8QuFE3OIFCqGIfRcgUQh6GIOhKG4Gac14i8EjdUUQS0Cgsgmqaalmv1plKdaXMbFCxu26a9uk5pRTocgFDOxQdpmyh9pk-LCAYQxfAUFh8BOqijG+37G3wGQ0juh7Joul75roRarvdVIKmUNhyEq+hxse6HXqKUphp+ZHUfRuhMah3a5paOGcdWRGGHNagxDoe7ZtJp7Lv9PG1zptwGaZ57Weh2H4f9a7UjeNjUU6AXyep2JOZ+cXqElrasfJoXZbDWnUZ+4RyAYYgAA9CECHmMfOmXpNKRLiAYJqMe1lhdYYRcKHujbDGl57rDQnTpgdp3fuEXxPb29WEdFYx2hm5RIbZl7LZaLnI4LRwxuT6ObY+UbmcoD3za9sORdp9gPC8EP445xOfhL5Qy-z2bC4NUWGECz7mC0HPy413Sq8bVus47-n64phbu+bjRCBBblUS7hOJ7YYP8fXUb9DtxhDeN4hTZJ4fvcpxafeg2cQNBhhTo9tGxH1o2TcMZqu-VseWlIUzy4s6zbIclwvtm8gDY8ryS8OhaEKhFNeghCCT2Dsibgl8whFndMKN8qRjbUAUEragOYbZr1Xg4X8CpAoQKgc7UgaCMFYNtpcGeMDBCkDEGEGi+FCKIPbAwc65RKGDQxsifBDRzwmwyGVIBK814MEDtAvBh9fYrENloEQ+s4ZwXoJ3Qy0jExUKqi7CG7tcF0G9qotRtD6FSMMSsURC0lF8xZjw58hRCGilbqdUYNI2AVz7KURxVE2H0DkWCARrju6xGaJ2DUywmEngVCZYIuj342Tso5RqGjzCUF8CQABRCF6FViOcMBSS0SggYKfc++gN6GHVggmIhCbjYkvoCAAfL3YBY1L7q3mkbBhZwBrJl7t4kQGD6BS2HuU4i9jUiUFIPwVQi8RpaExn05WJDajUGnrHbGj9FLy2XrMxWCzKRtBTmCXejcm6NJXjs5wPxOgbVujQLBD995OlyVwlwS9Pr7IzkYSgChc7DPJK+UUxBJopLeVHVOnzvkTAqXY-iboQl+XCf8f5qRUYfDbtnfmHwIW8NDIQ4RsyqikFRQPQFGKvm529qPeFx4iIhnPASolZKz5UUZIZPFY16UgWJZ3TF5LOCUpDEiluMLGBOI5W3b5TL1yOihXxFaLgxU8slQWPy8ZqUypdMKnp6cwUGMqVvTl7cSWzQ9jysIfKqYquyeSHJXSWLH0KWDBw9NGZSluvdeBIzNXVP0AwepolIROp5i64QcJuBuq3o821blDDckYPgfgDBCZo2yu8LuFTBXapjl3JaFJirUjJS1IEmbM6GpznnVWXtLV6rlbTQFmhcTFvBeS3VpR0iZF1WsSBM1BgxqEIUhNSbiYewVaW0lWL9GmJiL2uNA6TBExTR7XVE5rYgpTlmk2Br0XGqbRMWxjE1XEWhTW0Ug6U2z3ccCUE+hT2xS+j9P62bDLNDbWweFnSsDgNeTXOuFaG4PIqeecRjJv1iPwEHLuflzx7kLdSWN-aQI3vvuIw8MRzyBrvsGmD9rT7od5lKaDKHloCTZfocRbS5HCAUTmSxndoMmMnehXDmHuBLoY0UUekaP15J6f3UdLMhn-s9TWldnipX6F1SR1uG9b7OHuRx8KUbzCvOdVYw5v6R5UwA3m06jISMqZzkqm20mt53zNupve-LCgqc+kDP6hn9D6eejZ+9KsyYF1zFRdWflCGnQU1x55PTENmbc3+0eFTrN3uBvZoLjBIsPqOSGEjMXDPX03tvOTVN6MPL83gNeLU5CKAgDAeASBUB9TQMSRTyRkVK2OmmoTAkbq8B+mQNNoAAA+7XFIR3GdUMQbXOvddSL9P6-Qd7mY611l8qQX1tZiIN6bYoPxqilLvBT4CjqbXs7vSIhQAqauHn58BopmBiAkJR4+Tadh9HuGIHNoznZLh5eEAAZC93o-Qe1kvCMJIElAbunaO9xm6EN6v7ePWM8gZ3agMEuwJ8E4bQH+e6XFkGYNw1g6PQJOY+gIy704+AldjmWYfFIXQMQbS0umb0RUwhl3wTE60twUnfXKcyfoJG47qRGeY9iA90753YdXvh4zpH4DGfOeBrz6t2PPu47rEMOXePzOTE59xiXp1Uvs-GyFl6tPNU44jMr3XqugcBZPXO5NM9nv64h7dwXl2eUWRLEIBDlvibwkm0N+3MPHdkosnmUhDpE3u5TZ7wb5xwHJdR02pahDDcK4Tw+b7pvOlR9D7FTXxn0s27-PHpXCvMIp4J8D5Fd1HZ62z9T2PCD+dQ4d1ep3ol-aV5viZ5wYvuMt8e67SQZATXfdr16jQgMXMOvBvdbgSewLF-W138vAcwPB1z8sfPIwjcK+e-yJ53SHHCrRYPEng+8+apO-X33jf-eiV41urSauAtSbbzn4-q+DcF+T987fVXabnIGTPz-tujWkO0OF2l+3yzu9AEsFyjYVeHe4QC2-oZ+IBQuc4Te4Iv+t0jYXKz0neAWGBPwm8bEKyNeJ+Na9qgQMgV2oAeI9+3S+BjYeyoKYIK+fOmq5BlQVBpIc+eBkB-SmBdMriZANymCacL+rBZBBSFBVBOgJe5uqQjaLBMuq0wBDeqBV+4IxauB3SK6ChBacebBV6Gh7yqc4IzOeh3BKOxhMcB+RqucJBsQr+Na0+setBLEI6t+O6+hThcupqrhbkG6NhZanhQ+NaReWKFhLEAKQKDaVhohWKIRQBaQGQ-+5KERbka06wm6h+zBehCRyhSRmQ8uH+5Kshu+w2XIZcihSh1WPuoBah4Bok36WhLEIG4iJB4Osu6+m+KeZuZRdMkCU8Z6VRdeyBfuDRDOAxyyYefh5g5iT+1ewxb+XRxRX+4udCWu7eRo7R4hnRgwG+KxX+DUeWrUhWHUJW3U5WOg3+J2EyY0Bs92p+w2ckHAQg+g9xoAGyoA-8v27ItxHxoYxkL80SBsFkI2LxLyRsJgWgwgAQJgxAIhwgjQSOyOLEK6OCWibs-e3AZGgmHRbo9O7C8ia8phS6GJfehK2JS+Xmaepe3iUMHCOCMgDxduAuF+c4MgEB9JRJeSzRbkoiZJOiTJgB+JkhHBHJ1BMx8qeSoG4GQpDWIpqKUh4pXBNJAW5iii8gqmq8zJAk7BlB4pMhvRqJtwNsomBYcyviOpCpYI4IZpxAphKgPilaqpfRdp+gp0VpNRrJdRYIp0FkdpvJ5gdpvSvi7pVEnpH2yxWQHppRLE0cXwd85OVGNG-MYW8pLgEY-Kke3GYqcgoOaZeJLgOOWZKJQ0jgCZNsLA0Cvewye2WOboCEq8NZ2WnS54-2Rm0RyZmpOcjIL6JwpZ1wJptsveo+wMZSHmUqHqhZk4cEo5f04558kprUEMku85TZEMzwdZOxboOOeZ90S5e5NsxSh5m5Dh9ZGZCuJ5RpQ0BsFGXZyiGKtmuolEz5oALA6wRmmm6ZwIM0Yg-2c5uoP2IkHA5O-5a4SwoYpQjZaJI5qOC5nQZqb5H5VGgSzQIFf5qgAF8CAAPD+aBZheBYEjEHjECdOOCAACpySCRCC+BGLNbPQtQ0iTG1DNDgigAADU-xaiLO5OQoy+T58CnFDpbFnFrGhQPFYgfFYZgFRFoAgJr8FFVFMgxA9kdFZa1IWIk81ALFokHFXF0iElUlcF4QQlFkelYlsQhlMgwchFsZbk70q5-0YmqOvySI3GC0sOck2IBZZi3G06WFL5U5fYD2s2xlFleMcMnlRA4mk68Z+AiZV8Fi3ZqZVMslRk1IT5KkQIOOYVhiswcuhFFlms-lmEAle8EYtlVa-krYSCC0WV7IN2dawKSVD5e06q7GpFAFsSv05QoAiOhGqqBEESfYdKvejIuZI5lmOKmq-lh5jlw6veE6k6c1x5i1A1Vq8Y05Hl6I3lFq764uQasWT59mLlE5rl6iAW21XlJSX5IY4C-lcFgVOaKwIVyRWFaVxF+8UV2IRVcVCV95WpHGS6zQqO9VOVZVYlpQpEOO4FL5H1QSsGrxpVLmiFFVCFe6qqAqtVcM9V7Z+snZLVqmz10wUS04p1VkdAPVIgfVEM6Sou61eEB6hko1tNQIE1+Ze1wVM1sa659081vNfIWW6EK1VEC1G5DN1VG125LykVO1N1i0OWsgeS+WbURWnUpWPUGA1xKCpC6Cty2CeSuiXhiR3pKBYINC4IqCetIhgZLgVt5CNsaCk8thZ6PCeRRZ7+WQNifm549t+tnCyYWGV6zo9OcwDpsQcwE4S1RQ9OHI4dMQHIUd9G9OCE8dM5pASdIdhhx8adx8mdfshhTWmQDpRdbA-o0dhQ9OwUk85AvgDp1dqMtFBoFdsQ9OpN8dpNfYLdMQ9ONw-2dMLAhgphfdqgA9LUKw3dl6c44I7FadsQbx3AvgP2DS-8nFTdk99O7kc9MQC9oAS9fq-8Xk69ydhhoa0wu9+9AIK9oAkIe9MQG9hhwA29BgIJe9y9XxoAYAx9Wd09AApM-Rfe-f-L-XfaAA-dPb9nPYAwffVUvSfdPQAITCRQOv2X3X1INAhwM-02nYUAOoNAOgC4UxBYMF3T3YUAjb3QNX0f3kPEPgM2l1J4OL0EMNJ0PwMMMUPcBFBUPX11JAhv3sMQgIPP0f2FDUMxAIOxD3HOhOi+260O0B23oCWAghjepzDcB+0iGKPNSyN5qaMUKiL4AsAABWUJhaqjI+yIfqKd8j+tDpzhNik9RQ+jBtzyHSRU7wJUtjWjLuxqjIl29OISDpISTjbG9OkAdAaoSsddXDETUTKSoTDGvdVAo9sAkA8dI9DAaTiTk6yT-dAAomnZk-kzk6YvTgAHLkDlPP2VPlPw3oS6OeM8DeMUK+OcrKMAgWPYjCjUO7l7wuO9JZzGqNNUgDNtOGbmMrDeo9MNIOObjNNkL+1tPuPi4DG4gDOMkOCwJ0LHwRnzy4jVBLYVCkALx9YMDGPkB5gxqkKaAxXQQDNO0cA5yu2SJLqXy7NHBFD7V+X8QfSE2dwRmyLdoA0qLQQTzdr6AbPSmPX6XSJjPFSu7zWlOxDgsiCQstOuPJiFImNmMsamLwueOIuLlC0NB41NW4j-POkRQcACB41iBfDvkwEamtVlTARYggv8xOhHHK0nHtTFZdRlaYDf5vDjLkCmAMBRwfBVQ3CkBlyB7UBPjCk1HpAtbTjOHytPiTAhj5VRlFHRlowKt-Cq56XggMAiX5pk6SXWWK66satGtasrDNDqsGuatpHmATQ3BvJaLQmfKWtBXS2CDKDKDNYZArxGCwJBvv0tScUOZBv1XghsWlAJtyWiRmWcVivKDIsGgJtmF+tLkOAuzGC+us5GLjmXxLaFuFgRD-jTkSUmsQh6Uet6zGDetSjerlsFtozGDbP0JyhCXWDghusqh0CVtMBkAKAOZ0IRml2Tt3bauiQvraTTDNyXaXyvYvbSTIIFFZARhrvwHtaRl7EK57ugAYOiTFDwjzs2uDBrvxsXufEisUDiuSuxQytlxruKTNBbvzxTEzy3tvaqIg73S6JYuwEYx7uBJJsNucWduEo2wbQTs45wKzvGuiUThsXmuo7j4Y5zFU6yYntod9gYd6WwfGBjukCIee2zsXxTuoeqLwhLsnKkdjRiSggOktJlAjtdvwfjsOvLu0yNkfsBiceVsQip3cCXZIdTvWi2h7vcDMfkc8QhjNwSUofzvggADk5rtSQlWnynFrfWUla7Q7In3HErBYpAwcUcln07M2b190qr17+g1nJDYThhQgwgwlwQwldkTOok5oaYwlEyHA8IfHMkzHTnLn5VCuUX8nXHcHinsswS8XRbOOsX94WQ6XCnUX155gFzVzygNzIEmuxsHgJmJSRstn-RWl08smG8ssh07nkxtX9ADpuH2uFXhAWb1F2I+X6whX1AmgKWpXMcbgPbHs9XYXSkQHY09X879OF7zOx1p8GOk3+nG8uXLgLnNmv8BsJCZXbgnXOagqP7LXJMk3MqdK0LmVQIIYWHK3oO7Xmx53lX61cjB3xglGcCjI3q23P8zAe3I3Jm43R361hCoioNPxltU4jHuM6dTnQPbgMOcCe8zhiPn3dMdCu6+nEPN3qkOd876PyPWPOP13Lm8bfX1zg3xXVEsPJQ8PuPLmJLRQ3qlPA3Q3JX8go3ZbWPoPSXDPZPwMGjXPJmxPvbVKQ1iKSCM3oPMqdOhhi3GVY+D3wHk3EvzCh6RGboG31q3zAWKSJAR3SrAnS4c3wnxZlX63nVG8sSn8CSYHGZqS9pS5IrDFRv35oojZZvB0GXR3Vvr8NvokH88SEJeH7rTpxqyJB1GksUlA+AYiNsAwFQgw9XxvBvs3lX8bAXdUJnSf3MMfVUbRqf35OOrv26avev2hQ5LA1QbE5OYZQeEEE5G4xvjZdrHAL5G4JnNffSSZ7fY0Pfdfd2xvOOg-fWS5Y-ffAMk-w-35EYM-E-tfZzhzh5DfhrHfy5+5xvVYng-f3AV5LpcZt5ELe-zfXAm-Vb050F1fS-9fp-Hp+-i1m3tMge7v05SBqhYIgf4IF7dl5g6kzAWaAq1mSB9DycXKmpRkDwMB1AIgDgKQBzTgJcghAReJn014xBBUr-C7mgNzRNMZ+wGW-lfBX6TUjYj-DclVXPK0wQkpGAgfU0+oOAIBTKUgNAI85wDOupA-chZWaBIDg4M-ezAvwloIoWEW7L3q93aoUDGy3ApzpN24CSDMyr3AQUzS5o1odesYXXhQMkH1dn+pOfoAoGq7AsKgjdLsGyAMG10YchgUkMbxnaGAaC87Ewb4DMHEgng+nRsjlRoLM9CgTwP1NoLuh6D5EdgrsOMh0FkRrB3XNjLEH8GUZzBqxYHLNDIAvEKEEQowMYIIimDIhFgj3nZ0KIhDbBKQ+wWkKcGOt4erg7rp4OobVANo8Qm2IkIiGfRHBoQg0KUIaTeDdBmEGgocXuqBCfBMgVGF8ksZbNqQEZboVQDkRtxAgd0X1kEOmb9CJgJnIYZQBGHNCJhd0KrqFU6FKdhOL6fTuULiH9AEhuQqUIZByprDSmjQxqD0IWFrClhLQ7omMJ4jtD3Kx-eREKEGagh+Yp-XWBTBPJaZcBBA-Ab30IGMBV+p-A-hQPfAVAVsgwBfp8SBZot3hVAdgXyE-aTh5hQhBgH3S4i8CnEC-bgB8IRF-87aww1EeiMwocQcR8Ii-oMLGpQ8ZAdYWoGxXU40i9gdI9bu0ClikjWIVAcIPO0PJnl+OooV-hxC5HCcYRlGZ4ZSFeEsx2RuIikVsJQRLhBRoAN7Cb1nIfCGuyI65GiKoBcQIwgo9wX2AjCqi9RoYDiBqOJEI9ORRohjDjkNFFVfYJ5fnuCEZEcBPOWgvrDSxyiLD3i35Rsq-VOEvp8RKgPoLXDpiMBs+f7JHppGcDcBtu7I7bl8OIjnhiRQqFxGVBNFEitRmFGMeSLDFRjYWYQg0HGKf7Tkkx-iDKKpCdHMiNhyRfTglXdGxZLhJYreIIgDG8AyOtfQ2JC05GWD5CvWevjjkFEBj0oownQTiDZDdB0h5Ic8DBnSijjMwvgFUqCI7DLYvQRgcIK2mSIptDAz-dsXtyJCgxOxeuBMXmm6CMh+xnI7zI8UYE4g1x57Nis0G6B+YaWoAcigAAl8mDAAAILgBwA+TAAErkVIAAAeXKbIAgQfZb-MpU4ij0cxWxNMUkDxHG9WxjtD8AbAPHXI1RQ4nccjwjGogPYcEvRPpyHGdBGwME94CZyImZB8+aYe+BGVfHvivxP4-8UBJAnkSBwWEr7jhPvj4SIyQ4xYTuIYB7jKC3EiyKRPcjNCo+OZWvlRMjGwTCR8Eikcb2aG2weh3qAxB8Oaz1JWMagEwF4BDHSSZ46k8yOqKEJ4ijRkEtQPpK4lyS6AeIzjE+OC42xcgDgDaIyAAAM-ZcBDUHsgtwMgifZrimgYDUBBg92Xyd4mcnaAgQDksKbEIzqcU8QF4mtFFKckxSTOK6LyYwPX5jRT+UU07gFKCkRlGyP-B0o2Ryn+TYoQUmTvq0b7YQAxgQcNBlIdCpBqg2QXyTmn4ShTcp5U00H1RUo+SOA1XQYl1JSjkhwEgQm2PZE6Blxi+IYB7JgMz6GQrYQ5dKf3zYFxAOpZUqqPlKfTKjpw3vSuI2TGkMAJpbAMuBby671CE6gQcaZNL1Z89tpKgqWtUV+LEBrpJ0lqc2Gf4VASAIgVIBjED7AjFqFSUaVdKOk3TL+NVVhJgOxSIFaqrIqqZlPmjQyJwhCcZMqkMiCDsBKwQDH8KH6BTARk1PEeQNlSJEqBLAWgXDxpGERbRmsQ6cdLLiYjp+GNLUFgH-AYzDID2L3kKOgilBaZN04snKE6zPTXpZcTMlNz7DNBKZxgKqgxAYgoyQZdMo7s-xFGBSwYU0HmH8DX6jgzqCko8T8P+E4zl++M0HADLIF-IkEeAs9iE3aqEIHAfFTUVBOoH-C+BNAvFvmLXCEzYWggjAWjGkq-hTEeASEIHNpR5o8BQIXgUQONmdBCZM0zVBbJEghIFpnHO2WaL37UzCgDMsTNiJZn-goIJ5e6Y8MGD38o5FI9XnqFfBfTu0v0kmO7I8zVTz+9o3bAHKDkvVNUjo2kS6OtSKDiZ2vAuZrKb41yQRVqHfCxFtnWV7ZXEQgAuDvDxjpyPI6ke3Lp5yxRIFYzziyI6BZBJ5GjUkNyN7yyirxk8rmTJGVnPC1Zd8DWZvJ4DTzFqe8gURYPnbHzVZ8VM+Y8EIB3gL5Xwz+mAEDmQg95jZA+YqPeye95R284TqPNxBmidRbg6mTqNJCWjpgYC8eZhX7FQL8x0wfsbArTmhh7R+nNuUyI7nDz0iqQByZ8lvxVdTafuW-P6V8m21HS5ZVsbJgckRlnCjCpclFLaKMLux27W6RGBYVqj6cnQCab4DGS3FL2hQ5wjwtan3CAs+zOmH1LGgOToxFndZtZMUVkBcQM8w0E0xRhjY5FjIOqSuX75NSSYjCyDHmgQWliWUE4BBWaKzEoj4JmC2hSjHoVmxwScii6dMELGmyKB5ipsa4njYrzF5n1TYYULZTmc1F70yskvnGiuLGFcC2sZIA9GXCfFKYw4k+LokMBfxlkAADL5NQJfVZIh5JzKSALJDkvCSop1nTkkJeMioKhO4nztMJKEmHKUrQlCF+eFEvuL5I9hLl2lcirpcb3SWZKcl4AViSBHYm9KWlSQCMkpNRaDADEvEy4fxMEkTK9EcC7Ng5LElrD4QRo+ZbcIhCK9bSvkjZbcNC7P8ZFzS-CQhO-JKS5hqk7cA5L9SsYZFesYhQouMnySTyZk4paPXOXlL7RroyaP1Jc7OclFj2OxTZIv7DjlhiktYcpKoC3Lpgc8hpIZGmVdo-B+w2ZcLSkmkSPYti65KZKXSnCzlnS4FWotBV4qKRTjOas0IDGhKgVLnBEZCp4jfCqQrQKxkCBnHp8SVNnCyLSqUVZIA2YIz8FKFZV4JPid8AFTbDpVKKGV1KpESKvGyxDt06XKlccO3FGKalDoA8VV1U5niXo+7F-j7N1VSKUccfQIJZJyiHMdxDmTiRznTTS91VhsTVaRKRmaKqQJ4oEIsqzD7jnVVVc8MGxfhOZSJjKlRmoh2UjjugIkm1XQCOU6D+VDQUqDiEjUF96AMau6CST7CCco13AU4f6rqkgQg11KwjGzM2rZkAsHwYIKaVCmWqUJEStqXo2smMg3gTi6vCYrNmsIdxmq7icTVQzHi-AjIT1biH3HcTfVeaXNU5iinNCQ10iMNeMIjXX5Dl4kiWgmrnUHKOAqahQOmuNFLhXlOaxIHmrkWMq90xaoed-jz5RTgg5qkmM6s4XELr187M9b5OtXJqCJhQvPqRKfXUSOcufYQBxOfUfqZJNOYiOWrNVBrq1NS-9aiEIxRQ2Av6z9e8EZDpKGJf4gCcBOGXkhEN345DcxLyWZrn12a9+n9Fg0AaOkFA8EBiEHaH83ID6x4BwqA2mrK1-UsDR2NbWuqBAhG3pQhrfEZLsluSvyAMp404bt1vk-DX6nY2lLCMhCMjV4Ao0EL-+qQclr0mMaG1SkKwt6iptmFwRUUbwJTSiE67+snpZ0jpKWu6QBFtNVCCbu0gjJyDCARmgcjUQU3BQdNyYPTapsKLqbKNsxTTQhhSBOav+lmkfnLnc3GaWIARRzeZpc1p8FcQWuzT1LECjRKMQKlTQFpGDRaYt2m-AM1LM0ohxyKq24VVwU1ZbnNhW5tMJ1y06D9O6W5qaZvoC+by0dAWrRdN5XhKxUxWuZA1sghsYytywzjAmoZwiBhKTWyzg6Uq16JClAWRzRlpJhhbstMq44Zwoc0+bDa020wBBR97BK+RMUyoSHkMEYqJwg26BF5sTSLbdNy23lBCupUdbuG79CbVVv1RHbDAtW69MdpW36JcIOkLrXcIUy9bvOPKmZJKr5U4ifNk2rlp5OIBxbZkcCWbXluhW3DYVvQn6tuERUsyDQM7fbfoBqDg6YcQKlHqsu3DxK4+9Y3ZfaNsBva4e+OxJUTuvk5yU2L6S7UiF7yHqvt-ACEL5wG1-awlQ2sNGDtGgg6HhJgfgBny67G8SMgfOlgyx+CUs9oz-NnkV3syQ7ztc208IQmuUqSR8ikJHaGENj87ZkAA13MALGi2ipOvbBEbjvno5h9+y9NOaTXdKuz8xFNO3gSIECB50kIlbOaTvBAy7qehmULpB2pBuiElhOkcXnIBL5LMgzPD7ZGl62e6OetPX7fmFGgc6YmoAaPTTylRctExf8e7TXVopAgAAnCcCjzsRG6jK1cUDO4wN1a6jKwKRtE+Rhpu1QgqwXqvapeykELgH4q5Pr2FAK9wcDThpwshoAB9caooMev9Dd6nOHwJmQ0G71V7asZNGFUXj3guAvINBaWWoPCFF7K9Sk2feG2op7du9AY9HonrfAjt+Aq4MgL9DvgJNmVAgVoIyD+6+Bdu+3bnp2Lg7H7SoJrI4CcrbXulz98VaJqe1Uh3wQKd+dqmPvBCeQvI6PUAC53dAn6BAACLegiDzHr6QojdfQNlyUXOdjg+6SXpEAYivgg1cfBPnTB-XCqXVKLH9QeovXvq31UamUlZ0n1CCsEpAC-f-rPYaEmRs0T3JjJQPZ6IQEBzyEyDg2CBSDogAQ55F8g4GNeMsruVPo33BxwD4h6A0oovApiWo4hiQxLWn2LDkVMK+FYjqpF1IiqGB8JZgt11ACV4rQE3QYHN2NR36i0UIWjqsN+7ycdYkvf6NTwlqIJh2oQIYHsitZqgpUOtU01v1Ah79j+9Hi-qLaBH+AH+r-axov4wYnDzOf3QTvcPJE90r1QooeVW0yQEc+AailBL6wcjmAUkf8Ml1HZArzDNASw1Pjlw5G94Nuuw36gcOnK2Agi4ReaV5gVqodOgykSuWaFM6bSAi2up0ftJx6tk-2tRex3aOjGmAtxLlofqBUacwx+gfMQAB0sAt61FZRiIMyBggE7WnXvWYZyhoIfe0SMwYv3O8TgSxzAysZwlrGwhmx7Y99N2Px99jFHTsbOV4Crg94PQRsj8dAAAAveZqAE2NFAZlTAd4wcaaM9AQTpxnSOcfBCXH4q1x5HR8TFS+H-D04FYzsahO2wYTqDCTu52EosBhKygYSp50mAacnQeAW4+EtxOvH8THxidkSanrDHST5Jyk6FyRO+QgAA')">function always_true(ignore, frame_stream) {
    return frame_stream;
}
put("always_true", "evaluate_query", always_true);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p18' class='permalink'></a><p>
      The selectors that define the syntax of <kbd>not</kbd>
      and
      
	<span style="color:green"><kbd>lisp-value</kbd></span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	</span>
      
      are given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.3' class='permalink'></a><h1>
    4.4.4.3&nbsp;&nbsp;&nbsp;Finding Assertions by Pattern Matching</h1></div>
    
    
    <div class='permalink'>
<a name='p19' class='permalink'></a><p>
      
      
      
	<span style="color:green"><kbd>Find-assertions</kbd>,
	</span>
	<span style="color:blue">
	  The function <kbd>find_assertions</kbd>,
	</span>
      
      called by
      
	<span style="color:green"><kbd>simple-query</kbd>
	</span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), takes as input a pattern
      and a frame. It returns a stream of frames, each extending the given one
      by a data-base match of the given pattern.  It uses
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) to get a stream of all the
      assertions in the data base that should be checked for a match against the
      pattern and the frame.  The reason for
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      here is that we can often apply simple tests that will eliminate many of
      the entries in the data base from the pool of candidates for a successful
      match. The system would still work if we eliminated
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      and simply checked a stream of all assertions in the data base, but
      the computation would be less efficient because we would need to make
      many more calls to the matcher.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (find-assertions pattern frame)
  (stream-flatmap (lambda (datum)
                    (check-an-assertion datum pattern frame))
                  (fetch-assertions pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNMdiHJgR0IOZSPIz1xhhFsmlFGgeL46QunqbpQDEWgmDExpiP9fcBBA4saPPCQOE0S9qjkMiWLY8S2zFawpNHWQNP7IEd1Aaz+IEI8UhCK87NklJelcXzjGQwYXiUhhwLo5R8OUCY53wViVMCNS6BM4TlKo7Sz3C0AGIA0QgNYxD2M4mRuMEXibOMoS31EwiGiU0h3ShGRGOYlK6gc5IrkiUQwN0nCfXCSJItAaLRFimE2vahpsqY3LTLM5J5MU5SavqRKNK009aOrfTDMawS5u8xoOK4qzSuk2z10barzgASHqOqGpqZK30SO7Jo6gaZE63qDOGmLWIm97GivfaUphRC3qMRbRCU+LAQezzLoEKL-oKpp-IWtYMdAQLkQEKwwlIOMZDYYV6gkp8MnSKiIP-dDMIgtyjA8OmMO4JmlUp6maZVELSEZ96PF50ZSA549RijSI2GUCCAFVCArQhKAAdxoJ1RldZEAFotaylKEMO0BsYp-HaEJuM4RwRL1ZdQs8pA59phY-wukS0N-Som3NepZ3abQtmDawRLfQ9x1nW9vLIOF0LA4LILHY4D0VXxwhgxkaKGHIVq-tGuKaop76M6zl6c7Gy3cZoJPBBVYMOCLlKZCrlPgzJ4wKdXJua8Q3oK9ATvU7r-7G+Trv4opq9+5b8v+hQyeOBVDhI3Yd965Lpe2DzkULKLTb05YTPs-X1jp8RIKmAADypWRV+9UumGUI-W6MAvPoTye94PkuRrGh+XQ37v7wzzPpffgQgOIcGImBfg4Eb73xUBSX+y8n6xmoL+SeIE54LyPh-Yut9H6GwpiVYc5VJ72VlApEBggcHZwEAgnGf9WLbkuBSRM1IsREyiMPauA9v7vlIQsOh+COThjABXWg9DowQBgPAJAqA0DyDQJoQBp9kQ7G6omOcMh6xsG4NQaByDCGdnwGwD0owtHRl0fxYYuhQAAB9bHbh2GCGu5idF6OsUYexjjrAejQu8QgrjLH6LsQ4po4o9iBPcaQGxnjQlHVOsQlykSrHRJPo+dRGtcq8OScEvQrgt6bBoNooJwxLZx1UdYKowZQxCG6vQMobBSCXhiO6FuY9t4dg4N9egjTdAADI+lLluD06JVMqKkBaVUspvdxTLxyR4-OHSdhVJqRwOp4FilRJloQZegce5AORLQCQJjKC5UoLgGwczNkpIMR01cV5rn6IAeUmgCdtLkGDIQDewx6Q12UBfbgzASyDFuYU0C9SILvM+d8-m+JGB-IoYCpgwLqAAJmdYKFXzoHzNGYssFyyWDVJ8OsnFMtMUwr2S86iHysXDF8Mc3xDhHkLIKe2e5Rl2WNWZdE8GaSULkugYPXOHAAVAtoIMHFoK2W3CvA8ixUTeXCPRcUYg4hbYSpGVKyyrTVkkpGTLNSgZ6oiFVfvb2CEQneJ1cSnq+rQAQVgSqtV5rdBeP2SomgJrnV2yOScm0vSVLtxlRy4Ne1MQ8rvL3L1Zq7a8JFefJFKKAmasDXc0NDgQbhsVfCZV4gTG0PjYm8V1AGm4qSIY61tTbXhplnmj0BbRXIuLYQSlvc60FrCAwxMtBS1PwpkyOQDLTkcHOZcjeyhOX+ojXyoK7aWCJ0oAICQvbU1gsnTITNvS7xUp2BJGkFImAwpXYRCtKybX1LtRBPd9AD0UrRQcmge7G1JuPeWtNeoN1GU1c85V358aFk0SmvF7YCVEqrRemt9q-3kAA7lZ9zaLVeLCZUwlurq2NINdQf9gxAI3pGHemdyJoOwa6cwfGTERivrbh09ZHBmC4FLcoJwhGilYZgzh3KxFpyxR+UBt9YLaP0cY6AHQLGUHVxI3OVhrophUefjRsCdHeLCbzNMh9nSlIzn4MQd8fHqP4pQ2BtZ6Gmn2s0zxnTrb1MJ3M9p3T4bmwnoUxC2zJAmAQThY0gkYnXM6f3fh6BPagPGH49Kj9m6eViZHAweg-nD3YpGY50LWxVyJfvR69YsW8PxeGEFhzfaOkRe8xyZVh7uCkD0r5+zXmCsGd2JKNLYm1HFnqtlo9aXV0gaMZKIr27lVejLBWOT8m6tnvA+BS9A3iAVisxlqbFYF1LuG+sNd6be0-vUzsAo3UKMaqzZ17VY3jMQYw-a7b5BdvUFm4+CuhaxV7YDU51b4Wv1ZvS4+fetd4ODDy495LNB10Rezcox8OwM4yABVqywhm0P1IBTLNwlKqWE1YYyCkxNCYCNM4-dpYKj5jPtbgao0gIKgEVB4CCROoQk8VJOGcmjMfwNGeT+hy8Qv1GVNYcHhNdAs4vlfeeFzIH0GxYz2h2OGFkIuJ076PPQADJl59cXUvmahBYaMNh6POFXh54DIGRgrzK71-rlHGu0ccJuB+3XYt9fGFXEbm3tvWf-xV5zSnxOBAQTUxl8VqdxikGoOadgMhz5Q7V9cc+yhjSgHlBtjLcYMwLcDFwEsIsJXaTT9QZQWmGB6UZznvSOOaqJXYXGJTpFRCh1NxYc3xMC9dLoRn0KgxlCO6d-XoRrYwWl6iOXuwHtqaE49wLch8pad0Brv7wPYILQ9775XuPj58BKXnqVc+X0KRh6cfC1OlvZA88Xyhd2Qe6QLlwguAiaxEriKou7XS5-qyidZdq5yAldByj2JzWg3vQdr44Nhc5DfMtVwRKBcECVcHnAhJZLnfeXSd-e1RHTmBcMpf3UAAAFQAAkABRDgAAQXAHACwIACU0DIAAB5AAOWQConlC6CpVwA2DLyb0LB7WrzxGd03i73bGX2mGTgviANYVdw8GPz4PPh8GYJ+wEI11dxCGPznFygkNQTEzkPsBTz5kkLD0wJwPwMIJIPIKoOUI2FXxEDEKEEUJ-CkIsDD2Pxn2D1EP-22kALYISDO1T2b2oC1lsLYCRwjAfXEUjEkSgDgEQGQHQAUXkBBxQiYG-gPVJQUkIAmFqy62Mw0SZXlRuXHBZhg0ySFViklXHE5zHXfG5Vd1V1ZkwnpT9VyN0yHTOQuR2Q3klX+QSNKM5h2GjXVRLRKMyIUhGidRjQlW5WaMSIKM6QFR+W6MaA8GiMAnGI2XSOgWGNaMKOIw43yKmN6MAlWOoE0SGPiJGMaEKLnTuybUGIWOsR6ITgrianYHrXnU7WXm7SaLbxSGON8SWxKKWNGKcW4zs3WIHE2Nyiq3TC0zczixhR7U+P2OWM6Xm3+PqGmL6LhL2P4AOIaEKOvSqACwmPOOiR6JmNykxNvWxRRJaO+IxV4B229nhPIW22XQJNnEo1u2+y6NxJcNRMNEmlo1HV4R7U+xOKTUhLZKWJhIlgbDiLlgViVlVjoAkGGBYHPlAB1kBMZPc0PyCjpJZHYM+yS2MGOmKmsEBXIDYHY0+GuNxGumSApjpNI2NNNOmHNNZADAYGDGK2MGhlhn1J2E2SHEXgfS1MtISlQXUmRX7xAgZNiNu3eOXQtONyd2MH51ARFQSIiGoCPReIcluweI3ieNjIzKBB1LjPjMCGZJTKjFpXAgtPmn02SL3WySBX71aMcjrP+ggWoCpHAgbIXzchCFfwEEOg9OWnODFMiFxBlnlkVhVjJHUwqz4CVN1jpMDndKVXU25IuV5IhwTVoCWLhn7WxE+wyGyAjMo0+yWP+S3PVORAJLbIkzWNJMSNx2SMYD9CiHpJiMo22J2VyiRXI1iKhI5KbMRJij-LYxIy41BPmLcRuS+KaEnHfOKNAo4y4Erw1xkwQqgv0SWJ-yiL6OBMSx3Jqi9OsDKwq18F+Lc1LU3DhhrK2D7MNkHO2CKmayyyxJywm3y2QXJg6WPPfGixYuJN43y0UA5PooUhhiHNWmDJxgiBYsaWqJAiPB4pxBkta1YvayEpEsVCIqU0KWqOUpi1Urkt4UDMaApj4sMvql4UNj8jEthhWhSApmvOBLFiBVUoEtIF+w8oSE0rkixhXIyzXI4CIExTmAaORTDwHQ4EPPtSgmCuBU+WkHgmUDCuKxzXU1oCYmpEoD9H6M6IsJKPim0uBJKM4q-CksSxAiq3BMC0lWspouhxFR0VIrwvyw5g-3sA5hCAKFATkEypHRyo6O9h7XMuqsEpq05KdwyuT2yuNQzG9UkPzOSBs3Ip0zXH4uxI8sovBjRihlsokocugNyupMmKaCyPqUGp9VqMlSbM5loL8rSoy2vORNxIIqvykujIwUYgW2jNqrep-H9Gahhkqr6pmqOpYMbkXQkB2vE1-DivFQSqbBAkCrhppTmEBrdPqpVNiOjPPIF1RNTIrKahym3MWvjJRoRu3LJ2LPjIAuwrPj6KJI2riI5MfK2AThbNzhkA5iUqfQTXu1ZIwusRFLpqvL6LmOZpaPikSl4XDPgpkDmOqIFObSaOhMNkxUqMZT0oVt9UZRVt4SwufxoCsv8sfGvIurOMFtMxZpqnVp1uHWyXNunyus+MVCUsdupDjRZICX-JaKLM0vtFET8IkRjCCJkVCPkRzEiKCmWQYDyND1Zoat8VOVYACXju3A8EVO5iyljuUiYQUgYElhDxliTv8URQzBGGRnWB03ICmAECCCR17iuP9OzI2FGEppxuhITvBXAggh9KKArg8zFhbu7WUA7v9p3WsD7qEHNK3xh3PUrMwzcV9IHvexQizLNRzLbpxDD0E2U1wCY1XqCijMhu3q7t3oY33pE0Pu5AfWTImAJqPVwB3sUyE0vtUxNpQnZu3j0u-A7OfohQ5tig83Ez-qa2sEAZXlRi7tA1hxgX+hlggeuxQggZvI7L3lzjD3XWMsvJoG03-F9y+zLLTOxWtsNr1kanHt7hGuwVIa4JS1uEofUzwcoBXw9BjIYQIvyToZoG+iPgNt6ESgmWmBIr0nxvLJhRAjuqpSuIYUHT9Upt5LD26VqIUf+lSvoIYQ1tOWGsl30C4cxtXCEXdRu00Y3KL30ZG3bCvCMajqvMoSEDEeId4xUZRhhlHuLGEcluAy2HGFTgmTkcZWbCzt8eDH8ZGkPFOvDylhYBfGwTtrcZzgJHcZXw5LzpCf8fiebAAB4-x+BQnOFwmbrQBpiC7xSII0C0InxAwJBnTgxjFAskpKTyBpAQhScABqKm23ZxVODiZdTJ3QDp4B9pzp-Xbp4MXp9BzcHs-Owu8pyphg5WWp+p3LRp7gbqFp+1UADpjMsZiZ-prZ+1GWA5nZnfcZ3AZdQpnB1CembgLRrJIeeJ161wXuVEtZNCZkWhlIXuKa5NFxxJ0qq0w6rsfptvaYhIt5p0Lm4s5hghu+h+khloop5IEIeJgnVLFRpF8hVcQpjMlFzKz9PaDF3aBwS5uqqGLSoqVEgnIRxq8rURohisgFwIEcgJ05ccwgXxIcGPXZaGmypaaioiKS-HKiah2Rny8yMFH5nETRzJ6VpBIsyaI+aonRpBXl5cvyMh15umD5lokWneeG6keJvSx5nOJ5gKJh8F7ViHLxxUb5-FzJ1x3UiV5I4FjFsWMFiYCF5kF4mFmuOF8RhFxIzFr-WotF4ZN1oGDwB6bFucVR0QYN48KVkGIl8hkl2N6smyiltMKlrOmlkR-1px4ApoFlk1yUzloMMK+c6laFaBJcnyPagVoM-6jgkCUVuZcV0yjpKVpV2Vx+BV9qJVsxyXNV8ljV7h-Yr161xIspXwj1fwqMEO6REIuRBRbACe20k0igM0-0i0g7Bqo7ElMc+1I0zdmutUsTE9+0+eHRcYGFak3dp7MLWQaxogbdYOTOU97dudpGnqB4ElCCZcYBu3WIIECa4wf960IDg3aoUDuM-9zqKDqJ2Dv9nqWmMCRD9ZZD141D8JewYB3D0QRoMDowf902NZyQYBsjtQIjuD1DkcqDkcwEYj7uyCdhXvT0WgDzNjrgD0cReoZj-9tpxD4wIu0AKG6KxUjpmp0AAT1DrWYT1ISPMTkEbIRU3WaT2TiFJKlIUT8T54RUqCMTowTTnu4ABTtMJTvT1T0AMADT2jiFAAUnM905U9AEVIc6M5k-s57u5mE5c4k4Jyhu88ggAEJqY-PLPXPFSwuqIguUOIUsnnPIuAucmjA4vsOEv0gFP-P9PQAsmqJlPguIJMgkvlArO3PQBsg0uTPIJMgsvlBAgcvrO6vquiuQvzOKvXBngjAQvjBQ8HhEJ327St2HTb7MmMhFQB1lwfQP2r2xFBupLL2Ru-SPUR0PQAArcum-Sb7EXEaK+D2bkb4B9dKs5jwIJbs9lbzMYrIORbw7y7w1FZqiElf9vs4Bvss76mljiCSAQgPiGDCQID37-7irT76m-97j2ASAKDyHyAMH4siHikXvLAxD7jrA+H+M-9iglgCg8z7HighN9qBb5ti7z4R71rFRib+oAdTiZ4Qxlw0n6Ycn4rIbz9pn4Mo1ZVqnlIGn6Kk78aUIe7snjn3LRCKlG0xnq7wsLU5QT7dZMPG0heHiMYCQP19bj4YsYgTOcrKF9qSX40tZti+919-t5IOXsCToQID+oKOqCoxxwmsPRMooe39M9qbqqhSX27B1kZk3IX9n-6zn-p031wd3-fP3qXt0SgDbrb1veMyX8n5VjH4wPNpq+l++gN6xFAjYLKFpYMf8D0QCF36BSqtsW5ovn5MX2d674OqRYI2RTADAWx1jYYF0MgDgLTegN0LEBgIbWBWe3YExMxLB-eXBfKIQoZF7RqK8Pv0SQZjgYZ3Z85vfAltNz+ESLcDnCf59oyGfsTbRLEMih4iu35VOJ1yxrYFgYgYgYxOwWIuQWXq-1z8RDp+Wq-gnCCUnCnUnVpo5jpy-4gJPg0A-5wpM4p-a+pJEICdolIJ-YMLLxdKU1+SRAKAXnBuhkMxmBzCCJBAOb7950SkI-nMAHSIDIB+8JSHANdKz97U2gL3CVnUxICSBTsUYHSE+z98uwzAlnBBHlAj5kWnSElMwPlx9JxwBperBmiMjMDXUtiLfiv3loulRIMXBAghBZzL8+BWdCCIjnTogNW+9UDvnbG75DY2BsFE6FwCaaXYAkfAgZG5FmSNFmSfNU4iWjEGAV7UWAjpnQJiwMCGAdIVcDqWkEtwKBbkUnAv1qIjp6icyawUWnTwyCBmPvIAZs2cHEDXBlQRgcvyvBeD7BAzPwVQLzouDoBaHegMA1PJOQ4hK+RMKTBkKK5rg+g8hFkPfAQQEOygElJ4JkHEtvBAvKoQkPcGlDt8oAtOBUOSAU4AA5MMwPKDMBh4+RfsumYFiZWhBeGQAXhYERIN4g-SIKuFmHB8HI-7QMJ7hlgNghmSsWFK4T5hDNY64wBCBv0qGFD3wyw2KLnhcJXgVhBQ5AW0NJjj4qhy-O4bcKuFBd7h9A9vh8Kubq9ooGVbXpZVbKAoywTaTctwH77nYTBEI8fusOMHmoH4t9L2rCNWFGAB0-wzXkCMVqgidMJYMgT2khynDuBlg98JDhZz-tEc+IQIaOjCqwjShAKPVqAHrxHJ5S58UjGCJLCwjCqTFCkmswuzUkiR1FRKF71DZURFQRrWkSEORE2CX0RIuqu+05FKQzC8Ah2NiBZFykqg7I3EU2gJH0i6qZlMbmKMHw1CBoXAwIB4G+gQEoweI5UVwHgEuF10Oo1PCqPIHEjAgIQUUX6nf7rJzRRwZ0XaJ1Lj4vRjKd-piMBHkBys1RP0Y5F4ZGi-UaIqpsyHDFa9IxwI4VAGL1FEjShcY1biawDHiEHRolfltpTpFCj7KFMSkcA0lHBDGi8orGA2wrHcUE09Fa3siFnJkiE0-fb6OSIRKSDex7kGZuKXhz2oJy0pXBrKObRZQJAfAJBkFF-o1VIc0DQ0p9AHG9DU2sI8fCyxHGSlJyMpL2iA0CwN11M5hSoJQETjTA9QIgWQEuO8Y0AOx3IlQcwWoHGN+UAgMwm4Ttg-VbxZDVcAuNyz6i2xQwG9MMCziUYRxfDAoeWyEAZwOA8YQQOMAYDIJe49YbgPSS7GNttK4OcsUeESjoIqImCakDQwTSIJ-4ZLQIBWj7JcJm4hPYplBOypFBYJ8EgQIhIhGkTGE+uEIKhOXRzxskpCEdkbAbbaUexXYpluO2+jcTl+RI5QJJKvDZjyJDFeyoCzBSMjFQ2MY2B0kkmQ4s+6kOwOzyICJgQIAABjoK9x+IysOjHpKMH8iTB88WQAYisn1gDJowECEcP0mqgDm8gKAmCjcltlnJDAMTAnHMmDw1+kDUKbWCsnQiI45AAQEo0+iqDgG30XyVFLtgxSmhM-K5swDCohTR+1gFUN2D0nII1okUhEalM0g0EmAFk5KaVLdAxSXYSEGcswGmDKw5wQ2H8VxTqzYSMJR4DwEFMqk5SG4I46qTZOimxSjwhRESZCJ6lRMN0TUjgC1NEBDZVw0ktvLkGamtSpB2Y8aYilbHjs1p80jaW5KuYiBCgTYEdAEhHGwJ2JyExqUwHWmLSIcTLLCbAXyiNtXA+pbjJoiukKQTKQIceDnXIl8txKb0lIHhIwQjwB4WCMVtdMBkHU6sVEj0LRKOBE5xKi1DyHNIWlDZeJQ8RGQJI1Y3RFJR4CtD2N5yTQPA+0zGVJNEj2Js6d0g6Q9LknujAQno2NkwAUl+U9pGMjadpKAkUIBc4CXRMCjfDUIv4c4a6VLXeoQzgw4M7hLXChlzJvpnePUkVHQRyCPujbCmEQF6a15OE2MzmvwiiHFkRoMMn3gxWemRARo1UeMg6Cgi2zFQeEqWTLObir5F4sjY2RwQEkUxVZg+PstNK1nnMdZIs70KTSMB6y8i-CLADdCjlGBH420p3tfBH7Zx3ZSs3aiWKKgnTQE1gEtO7MVnDs9GNsu2R1PbDu5qcnuYscDKUkrZ2w8coOXAmTmS5WxD1JfIQG1k94vouEbgL9CLxkNhWJoqnOME9zsD+5NOTfp9IcDcAO5OgFnEfHHxg5YCE80meQnjmC4ukLDcVMLInk+gu5kuWeTAUiCdzF5645eQLLXnkAN5v0TeR7KMAFyoIu8hvNcAXn8Cyh+8qeX2P9l6Q25OuJwImJSA64dAP85IO-MDkQFv5IchoBAX-lgL6gj8UoSXIHkvim+nSNyWUHcr98D21adyggz0lziiM1AVVMvglRHSu666I6eAJMBWSfqRCu8Z0i7CyojIpCuEahznAtSJAlSHOgoM36A56FhUvrCeMpJ6R50yCtydng+EN5eQFgERaMELy6Ni8UlVVCnUsmUR1g2U2BHlICRHTDYiUIBV2VDhuQgFbc+vGwQAWSUSAo0ZWvIuTxHTjFKQDvA3LIbaLQyled-sPMHl9ix8o8+Cj8KkUFTxgi2ZdBYupBWKxYBDKfIa1pAyAHFFeSLMIlQJaEOARBWWAABksC1BGPHsFMnqYGCHCRRciksLsFu547HgsYX4LOEWcIhNfD4DcmsF1cVhcfCoUJJ6Se0ZC+pTkqaVd04lCS5JeAEML1RRClSxpXkrDxeFrJPVJmDYXCX2EACDGZwtYuSBXo9JnhWkAhDRHjKBQCUrBeMEWWogThTIm0lUryXizqFwynkAOiZhuToqNuG0oIr0k+K4ERij2WiKyVl59l9ymBUyPFQ3tpg0wwxTUvyUysDQXdY5RiFOXQKGEFy+GLSBGVFBNQuvTMsnDUKZ4LCPy8RX8vlZixo8eygZcitYTXSzuPbA0EyJ4peLc8Mwj4exJPxFSpKU4Pbrfg2AboZx74O4RBCJUF4625-BqlROpWvt1BHyw3sSuXQF5yVXhJsiEC5Xe12yNVO4fitRBXMdgohBuHLmoWdCXEEBTfOIM6Tg5VV0SpuShHoANhLxn42qdSFELy1DVqKHkYYPlXCzzCv0kAlJTAJURJljhBjDavImJRr+BdQVKeK8Lc8gYqyi0AuDJRmrCAWyvIGyvO5+hdIQa9Qh4S8KD1AQ30cwlHlc4eqsp9Ub1baHLl2V7qVKPVcwByUuyTVVCv6r+DYIgRvw+C5WhorWDaUrV4wQZUy1ALVgQITqvSE4V+UCT3V5gNNQWp9XpAXi-q4PIGvtRuTQ17AcNa4BDhRqR1CyuNcHySl6Tk10VVNYKl8nCroahMjVjqo1LviC1DYBFe4VMHBr++yCm1YbNVxXiclpqmNYQFKGXrzC16xFWQvvXBrH1h65BHmoNU3rC1a+N9YWGhrWxRAH4m9TfnQLYE8CBBYgqQUoLdK1gcSnQlBv0KpLE1wapdc8FOTAbEVGNdlfanQgILe4l6oRYVPiifqC1C8ItYVM0VSUMNrSkCB0qSUpLDY9GrpSBAXW3xo8NGqpdDQpgQQ8NTInYPm2-Drd-SAKM-lXO1RdhRNZCkakJpngQixNQaD9FJrEyuUbywmxEISIvJd05JF5MBrS1Iqmx1NmYeTXMMlDKaaBGWEaoZrk1SbiFDDXTRZsfCqbrNGmkzdpqMjmbXxQUfiMGAPRCBphtm6hctIc3brcFhAdbpQHymyaNNQqgFUquIqp81N-paLWQAibkJpVeQcfEJsi3qLkU9UFLZtQK1JNHcLKj4fpViwFbzE4WmeMVshjxkMt0oZ5FOshSCAhmpWqRcA2y0qgxeUaKwBFvykubUtsWmVcuP016RBt0vCbWlvXHuLBxKoRMO8E+AwqmY7WklVZr61yaptLhBraTFejJBo8hmnLWtWNQbbXNW2vbfrh213hmt2wmWKtsB4LA+tOWnreph82xFCyHBClYCshUnLsQTMYVpkEjkNACOEOTxdMLe0V1+V3g4rV92SAhKNg0+cJTAucB1aLRE+P3AjrCUChY50ckIPKAu3PN-lMqy2M1t2FtawdHw4BhDuPiIKL4GYP0J2MhFd0lKI4mlnnyj6F8GWMKP4RrwjFRjskH2q7WJAphAqKQIKxoADu3B07r+lGXmFUFAmxEMyDQ8gexNmVpgJgD8FTotRZYa7z18ZXceOLVz+gM4VbdppHOjmuAIIKY7EbwhOEOD4dAeLHRaFjkGD8d24K7STsjVW7edqY-nf9HJ3AURg-K4BtbrTHVExeJeBUsIAJjUcqIAATi6C9azYagE-HIBukZYqOkgE-PPETBlBkqT03kcILKC2r3SQkoqDQCzpGSxJxgTPcuj6F9CZYaAJvROtL38tK5rgWvcv3oAZsUgte7PdkUiDDLM0LhGgLrGYxqSOZNemPVnuGUD77+VTdkbXqubMLJAbCvIjSn1XDahQXdHbZ7p7or7WFlQdhXdop0dbZeogFhWvpp3I4bRTaKHSqBDhRRRgvicVKDwlnNspwIEDUWyI5G2iN8rg4qJAL9AYCOgOymtUVCmAMAX9APUAHIIgjipfG-MJlp3ogg6xdYAY5kR8JeAhwjAaBg2Hrs71TCytU4WEIJLb3Yx9Sp4gPBeK4Dvi5gJBploRqsn7qH1L679T9QYPkT9SkB6AxVlgMmiEDtbavUYBQNoHlS5hAMHQc0hiGdY+BxSepMbGKhRDMhzA1Isyz95xEMh2QwJL71eFYVtUSFeLszJgqsgLxIg94tJpy6jUYExlarvV2a7oqQbH+fdpmH4hJ8mO1PbHkVRbrEFI1QMLQGVhmIH9foSlR-q-2iLWRWo3-eCOQGAGcDgzUA9WRFEMJQNLhqcG4Yx2O7PDewashWi7BHxptaOjgZQCqYcIa4TOFgIzBui9lzh9+gPgrsozpHJBBRlwunAcPPAg2TIviJhsPXVKUVhytAT9uBV-aHI4uYxIeRtwJ5psXAakA+rGPSwjdOKh5f9sYLsdg1fRpY28uEQBiodfQ5gjIFh2gAAAOlgFPW8Aky1B3AA2DpD46xOZXcGJNAb32oeDLDc9lgB2PTC9jn4g47DpONnHTpZ4xeNcY3zXB8AUUFwouG+hgnQAAALwF7HHDgofQE1cfcFtG7jsJh40DCeMOpn9rxwOG9DwAqUZjARsxHsfONFBLjwJyznUKYVDMPQQzYgEM09wwg+hiEB0B8bK1kmATlJ1E9Se+6VHi6DJpkycOxMGwgAA')">function find_assertions(pattern, frame) {
    return stream_flatmap(
              datum =>
                 check_an_assertion(datum, pattern, frame),
              fetch_assertions(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p20' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Check-an-assertion</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>check_an_assertion</kbd>
	</span>
      
      takes as arguments a pattern, a data object (assertion), and a frame and
      returns either a one-element stream containing the extended frame or
      
	<span style="color:green"><kbd>the-empty-stream</kbd>
	</span>
	<span style="color:blue"><kbd>null</kbd>
	</span>
      
      if the match fails.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (check-an-assertion assertion query-pat query-frame)
  (let ((match-result
         (pattern-match query-pat assertion query-frame)))
    (if (eq? match-result 'failed)
        the-empty-stream
        (singleton-stream match-result))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06Lne8wUbR4QGCFBhKVBYg6DBGHgeEKhafxwtiPPT7GU+tnGDhqngbpvyRvfCo1SlT6-QDFpUe5wY+ax1jBbxv6+UU5oOK0JIGBuTjVFu7brpx22Tu4AXKCFo36ekEHEaNPHFAgGB4CQVA0DxNBiQZ5N3VSEFzc6fRcgUQh6G5yhwf25JUnSBQWDIePFCTmoefCUAAB8S8U0UPl6zq88T5Oi5iMuK9SFg5I4IRa4LlPwibl9M4yLIE67hvYl7-0lc-KUh-r1PXvOtFqFjxtps7mfnkKALiZUfOZ9et7I9FZgxAkVnZzBD4FFd9k+nuHbCb2gTRVJi-U9AAAyN-en6QYX-CYSgUoDfI+e955RzSEbVehdX7EUVqkI+J8GBn0gSnCydAjaFQRozFwhhfDZ3wI2fAMhwH-WQQ3GBW9DoRmnlA-kEVQHNQYOaagYg6D-R5kYSg1cxDcBRoQQIbhnBpwEkg8ETCWFsK0twKuy0eHIz4cQAR9B6agNFGI1hKdSHQM3unMB8DaiINBJoiyaiJEYP3ixExKcGA4LwYPHeND74jUoXWIY399BUPsd3SYyjvYuEsTze2BYGC8P4YYZwmihEHTcRGDxdcaG0IjixUUFRlBsAmtlOgHDL6RIzrfBBSCX4WRLEIECKS0mVXoPCUu5c+55P0QUygl8LK6xamU9JqIqlN0wZHNpFTGA2NbmBRpWjYhOOiS45xD5hneJ8Vg1iJhykZMCS1EJCiwn0CySMomOjJlZEwtMhJ5i3KijSdnAWwS5GhPCb-QmsC6mn0MYU0SpyWDnNWYougZjQEvPOYuYW5tDCbKGiNG42IBn4IYIQ4huNdlAoSd8v6rzyCtXwMIXwQLbkUPGbafZ2TDkqNSIFaxzAtASIxX+O5eiHlzieeCIlHwqDEFMbMyORL3nrMyTcilWKRi4tTh7AlHN6BsVRHHLl2jH5wPIMfepjzhlFOFYvZwPx2XOE6TU8eUqZXUvPvK0SbwRXKsbAy0lKcvm+O3ktUVjZ5FsW5FoclywRpnwYIEGQmzuB4hZSxA1Sr6A-EpG0As7DxWjK3i6t1HrQCkjnha311rGFsHNmgmgOYAahu2cI0ErrKhRp0AKi1lcg3c2UOm6ZmKdGH2lfkuVTTRLGHaCW4g5q5kMIbcG0tmywgVqzXOcE7am3gikcMsIsa5kDscC1E1TKU6Aq5bEJ1PLBh8vhRaqopAPjEsZWSl+3buU7Lcbu71bl+EgWnRIudI7gVbz5aO2agqmWaFxBOztR6e1ulFOkTIXbj3mBOesM9JKZ0hqve+3JX69kuKPQWuZop2AeC8I6wolLq2yppXq8E8HlBeBbZHLDXgUVoqQ2Gg9vKoMHJAYW1IGhCAgntdc8t+7JX3IMehutojCC0eoPRypv6XDzwufIj5xGH5RLI1MvFY7I4TRWqqo0ImxnicgxJ-lMGD6pB6voXhOTdGoZ1VpuRFlihmKOeYM2ZBGBWy4hxZ2Bs6aOK3nDFSQJwQyDrLUcEoAQylFc+54Q2lpjGXaHHGz+tX7ecNv9BdKxmiik0xxcIEXmbazZkQzmHwNGhZdm7MGIZYupFJgl9+n8n5LhdurEok5KDJstlQLiEYEtoR0kUCM5WmvNdiOZi2VmbaHUa4ZDr0xDptYG4NoodMKuxGaL5vYHnKPjuWhwSgOUq79AUPoZGOnSbI24E8QEAA+UAEGPZ4HnoYX2SgoBwEQMgdAoc8SJKRihRlRiWh0BzNeyt0dF4uTsXE7u0lSgx1+8siJ0l8vQrB-6IHckJLWNwYM0H4KCFELQSQ6h3ceHvcm6sMBvSMlQ4NKUYga4GD49RK97mH3wdgP8WCDHRdActFJ3Tyn2OaeinjUawnGsScBsVdatn1P-QQ5+ciuTmSGepyZww+eM5EW-PSf9AFET2tjeBAr5FrciNS+sFj4XBoIcvoBrrpnfPjXFsnUYS3pat2mp5oC3X+ucdTbAfhnn0xiek-d1L53HPCXEzt8B+nnjGfQ+Zz8elQGyW+7ewbmLtPON0YJ6b8PNG2DovNx0B1AmJeq7j3r0bhQXVQumoCmTgmrnyadwXl3YYWikFMq9qyNk7KOWpL4Hm5BkYeS8lnxlJnQHp-RcibgMm93LFfE-XqCglVpp+r4-QyJfwKhGsPhgfDqCz9TS1OXo-BCkDEHe2I+FCLumFG+VI09ygL6wUvhwK+Gjnn4RkMq-ec++MIyPh-av1exGSyIMEu9nBPQGSkXh1gJn8kbCrsvr-n-kUOPnAfAYmJ-lTiAeouwsvs+MhlvKKESivC-kmnXpVvgVREKjzBooQdLhOM0J2BqMsKfieAqCZMEPfnQBZNZLZA5PxhapQL4CQL3oIEnr4IVCfrNKZgvJuqXlRICrwoYM7vfKJi4KCvoDJgdhHuuC9jJs7rIoQHenQhaubuQYav6n9sPFfFTjpofKQPwKoJns9g6lzqYRvoEHai9jXpYcQbpBodnibgLkauQROiHv9kXH7qGMZA4X4VagEZ0Mmq5GmvnpYfNpHEYcbl2gocRFPqkI+nwdYjbmWpfBMIoSRgJHQX5Iwf8FkYggBkHjulertCsCNO-gDOupuuehokepwEkeSBUcUTEOeK0YBpfMsoyIZM0UvnBG0dHh0Vel0djn5IKBfngYHivIMcSsMdNI-qGCNGsS-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-y3N-MPOgBPN5P-wLNAurMZ3+nnN9oACEwk0L7zwLnzoAyLQI8LvzYI4ImNgLaLsL2NMQOLJTeTmNAIuzMLRzGLlLpLELfa+2hLyz6LPeh2DLCLeL+2VL3ARQNLtzPLnLuLEIiLrzGLhQtLMQiLsQm2zoTogTM+rjAmU1gIIYKhcw3AQTDjITqId6irRjwTAm+ALAAAViYJQK6eqxoGweoRk0qzvr5bClgZs0UNq-Pmdk6EVO8CVA6zq8Ug7oyEgiInQb5XQa68gSIpAHQGqIvE0zENG7G3wRG-AYM1QMM7AJAMkxM5mym3-mm4AgwAAKJZMTNFt5vq4iIABy5AVbrzNbVb6DOkCrQZ7rLUAbZ6-1arKwKhwotLh0VlWrfr8+Hb+rrbw77bxUJSh13b0wvb6hzrm4PAE7gRzADuXrQ+whLhhrOre+NjStZ8Om6+304opAGeV0pr5AeYUJvUmgQD0EbbbjtGweXjP+4BMmh7RwRQx9LEwEWI5DEDYIOmN1AHSdReNGDJj7Krft7Ng2j7Hbi9FbsQEH6MUHn+Jr5rpg1FMd8HU7ASM1kjhQpDTdoHrde8S218LUYgXwr1jYLdKceJ-Ett9H7CXrL5WCb58gl2AcN2wcmAY1blFApgDAjaHwVUNwpAiGLSQlWcOc04qVE0mMjoLuudSmxduDinT4coBtDARtptXCYtCnQM2ELuzQRnSnq6cyCcNweRUBWgP8ZtnUE+H9kMygygtNGQL2RgY+bn6L52bNqhbnGd4InmPmnm02AtbN5AvnhH-oIXw6XCS1FqDgfyxgHCXCY+h+1FFeKXE0xgzw-4u9+ny0fN4IEIfN1nyKxgdnUoKhOXdAqXuM4+2nok1g4ITj5guXG6LU5s62MmMnA8qhh+KnokEGAWRkYCSC-XxW0kl+aQg3EY-XPcJcmdy6LiS3mLqkxmI3riIw03sF4IxmikpQgn0XIEonsUEniG-XiFc36e3GBO03H8A2n6ECuerZwmS3XhPm5XbNXXDVvXu3gw4+Q3O0LXA2nmenx5UKnxbByYt5HKoP4PE4kPfN-3PXZA62sKIPX34QLNEPbXiF6PeUBTmX3CwZjXTAmPkweWYCpMN3GsxP4ImT3ASCh0-XODWQS33A6PVPpAPEtPlcjnXUDPnuokAA5Hp2oQbZL7T7rTIOiv1x1yqA13ly1I2qQOihrys59eBoN-9NnLnIdNr0hxOCIkIP5hZMEIbXZJIqJOaGmIbTYRwPCDT4z6r910D-oCb5z97wWJr2Xbz716ZxT2r17z7+XX72QPC6H91yJ-7-6Q5S4Je9e8oLeyBDeXwh4GsgZoQEJfdzxpktphFub+rYX75e90Joj9prFzECoSn+sGn9QJoOOVn6Wm4GT7IXIt4oL5nBAsXxrCIsZlIo9ZCqjv393yH7wkn6ANr-Dl3sjC4dn24Ln7tFUQXwTtpliQMZ-unUCCGND+PyQpX1XkX5PwcYq8v8YKzOPoyCoXPzggv0v+39l1l6v1vTsbv7Awd5kxFqTH1vIBf76Jmu3AWFG3zWTACsuPfBPNB1sTBcz443IoKUHAFuBIBR+WnrAMGTBcG+N7ZvhnyoiIDKsHVL-rYlr7jVsQOApvi30z6AC1knfd-iH2IEyVaGKA6-owigHlEFSVRWHlv2KLOo8mw-DvAuRh4T88+CZXoiPUTJyIjSBhOZHwRICr9QquSUmAPzF6HRVBE3Durwm7pcF28EudkPwUcbGUrO9Adyl3zz5KC6eS4DQUgMj42DccWgwzHQ1bzcFMKp-PyrOhIpzIHemkKqMtlagtQBgFQaqt30sHyCAY2mYLj4K0jK9BAwgG-qgN8E5RtKkQ3XqtzzgUFCSW-GfupDXY0AXs2gyLLjAcAMNWYPUBgOoBEAcBSAu0UBLkEICZ5QhkgtEksQ0wTR3+VDbEkGXFhAhJY30cqk4MupCMvsYoD8CrEGBqww6wZUoddFIAVCLe1Q3PjlmNgdZmg9Q9FJLBXhqwt6eELga0NkpjReBzQooCNFJjrCveW-bgOcOKqT8dh8pAiEwWGECRp++DR4i5xcDnDtMM-VbH9EYT0lACFQVpl2DZCAjGm+iQwKSEsGVMwIXqCLKCN8DgjiQTwWnv-0PReoyBe2Wlj8IUB-CSAAIgiGCIc6BBfhmEdETHTGzwjERlnA+BQTPb9B58lIn+CCIJEIjWYEIgbiHVhEaxGR1iJEYwKXDwMyR0ETEYdmqDmx24DIlkVKB5EQingZA-0CKP05rYyIhgL1PigtTYifoaSRpDa33zOdFGIMbUWjGJTEj1smo3tvuwmCxCZARo7mCaLWzpc1sHIoZKaJG40kE8YosgBKNaRSjBghkeBpwidGEdFRNoqgMaOxGOiSR5GV0eqLmS8AGq7UFGPoCKxpCheXCL3glitouB0o9ov6DiDZDdBIRosIMuGXSj5jMwvgIyu8LAR0EjA4QakgPFABp0chH4RfkSEITJiqAu0c8N0EZB9Yux65EYZpm6D1jRIxmJsaAG6DkdJAoAUmgAAki2DAAAILgBwARbAAEqk1IAAAeSrbIAgQo1XivLWtiMJEherTsdVgszLCdM8YlqImORgXjk0I3HMfeOAFni2SXWOgCHxzGdBGw0QpErEJ-GZBTxGkc8TpnnGLiVxa4zcTuL3GASBwr4hIaBI-FhiLMOmHMRGPvEMB2x7qT8WXVETvj6A7kbEV4MjhqgkJaYFCZeKSDXjLBmo0MTqOxCjYXYtNA7HyTUAmACMHpf8RshYnmQqsyaa8bX2PFqAQJlE+TJ+OvEewKOzvSdg4HNiMgAADCcF4o1B7IrqDIIELL5LJqAgwB6JpKFTyTtAQIWSYZNpF808Qg4gSKZNyBGTSAsQhhGpNmFKdZYesUyRv1ii6TZqY0Q7r5VJjuTtJnk4QL72k6xjWU3MBei0lSDVBsgmk7sUGQClcZC+bMU0EdgVoaSOAuI5PEFJSjkhQEgYlqPZE6CIZUhIYO5JpkiGGRSgjk9KS0iWFxADJHkqqF5MMgQ4VB3fKqRDXcSBBCpxUi4ZP3lGxACpDAIqWwEQw3CxB+pTCkaWrHDTRpiGWSVmPmR4jQgkKM-oQEojGdcYG1PKbwR6kjS+pIsQhvsIqlbFx4F+INHHBaQ8IzpE4R6PBWJJD0HhxxdCGLAljHQcq-QqeteMel8QRhtYlgE2zF5uZCI5I8MPtPmmOwcqWwuRlqCwD-gJBJxIOgcOnCFhwCpQOaX1PUFygy4cFYgL1LGnqcsgjoaBiDHhrEAq6bwg0ZjMJlfCf2SMLWIAXZhJwBEG0a6a-VonFifWNFD6WIHel3Qvo0saGuzKGGxBXw4sLFsGWVheg26I0BwNzVqzWwoZK0LYbzLLrkiiga4H6bB3uFn4qimmNcL+HVx4BIQpskMGLF5n8y7YX0iBFrKKF3CRoEskSHQU6nyyFeisriNdI1kxBNhN0NWJBH-BQQ6YrUzWCzFcm4w7Zos3Yc9PPwGAKgK01IBsjtkiy9q68E2WbMaJbwZsHAfzJwJjnHCmijMnWJp2BiRy9qMgsam7NxA9ZkxC4O8DtOrFOYDubmWbP5gizZyPMtPS6VkEIB1yRucMXvrMNrmJZecRc1LBvnqphINovcrVvXL2qDz4skIpLGPOZmTzqA08u8DPPtkxB05kIQeYVi9TFYrBY0QgKSAixVyPZNsBrEKLGwNZSQg0ooBfJrl9Yb5xZIoH1nvneyDQE2Wnh3Nzn0y-0hKTSRwkrIeUUMljBpKAosiyTcMPqegKknjHhJFplg2FItLioGTtKyC1McHWUy4LYpJnEvnk06BFTfAcCeCvCFp6woIwaCpaevmRSyT8FuMOfpJNn4J8fox1LmVSFSRgUMp8UC8J8WckOhopmSRaX5HPAXyqCoxCcE-Lqw2xmFqEmid7LeAILEe3Cj0otIfnTA5+UckkhIoUSv5guLcnOYQL-pHYB4XcyIvH2j6MKHSaixgBovALZVqOkgFbIGLzF6KaQRBaSTOIgkMB1xlkAADJFt9xZizICpNKqSBRJskwFCwobkGjbxUsCoA+LwkRYXxrY-RNEsfFoTaeQExsJkqkq5LeFgKcCQuL8WBLgl8EkCIhKKVZKkgOmTUShz9HbgMJbi9bFhJwm1KvxmihoHSk0nETWl8IWvi0tNEQhBBvSjgP0tNGu8Z+6+TJbEo4VFd6J2olQqNlknqE+SdC3hYwq1YKL2C9s4SZEuGZzLdlUk74VvmfZWLNeUfTXrJWol7LRGrS+pa0q1FUAVlXtcerS0MgNL-hrMRkfeykbtQxJSQ94NctxDzLl64BRUbMs0mAp5FdyqSUgQeWuiZ+zRS5VrwT7LDcxPEK0kGVaDIhGQZY8IaCvwmorteohA0RPHGHe9l8x3akOcsyna9QVmK7ESjVn7IgMhZg4lcyseU5DhFSSh0BeKEoi0MxXY5bmAk0z9j+U3w5bIECBWeTGA941QoRK-H3wqi94gVTxK-Ft0exfgRkO0qzAdjNVdw88O50bxWJNVWK2ds1mGUOjugxiZVZMrWzkqGgpUHEPauQlESSJhHensqt2zotTVgQAJBapZXiDOGO9bpL+xlUtRTJ30RVVgsHLczPxjIZReuER6iLyQaq1sQKrwnaqgyvYoEPqtxAdi8JxJE1YkEDX6UDJ2Iq1TpBtV5i7V0VPpSRLuGuqG14y4gI6r+isU+w-kzSX6vUIBqrEpkkNXnLPzERzgsg6TPEN4WQo5hmqpVR6pVXYKtlRqnWZViCErrlVIfDdfOqNWxCd1yqhdeJKXXkgPgwQQIcqqliJKkxe6hNVSHwQUTgV4ZXxVBI3Fbjdx4APyC+tXFvrYJISn1Yuv7W0sH1cqpEgmRGjggMQ7XYwVOtZgML41hQM9bKpjUKrWxjChMlFDYBwaYVjIXxf4qCWfryQeG8pf+qXCySgNh2EDdEvA1ZyoNvKxuk+nIKmtF8chZ0bnyS5zI1ibwZjSiHY0pU3ErG2IZcW43zRzB+os6i4Amkcb1MDG3IsFB43Jg+NUInBXxutF8MycKQBTWCFY0oKBNciaTSxEuLybRNSmtIVJqko1AxAjKVmIyp01pD1B+mpadxvwAxSRNKIaikiqdHKbZNuINzYpr82Wt+5K1bEbT2c0xThN9ALTciToBRbTe1DSxYyq42Rb5oGQ2LZBGQKea-ohyV1aIhECG1SVCfXymFq-HhKLU8mlzZkmM3ubuVro7zWQyq2KaGtgWiLO6MCzuhaR3o+EkCKaUTgCt1itYk1v0BNaEaRQrFYXlwiLN0W5W8LQolKSaaTNw28bYNky08R6YOW63hZD62a9fK02krWNUs1aEsuNWrzWkKWWvKbWo2JuftnhkGhoRWmBLQn30AHb7OaK0HgjS-lFAnFS2VxSMomy2AJttgr7S4v6StLZG8MwCAaQHjpbxswWnlbNBy2298tD26Pr5We0zReKKMEwPwAiFNCiu4xQoQ3Wo4msVU4DCyktMoHp9FyR20bSyqLCz1nlDEt5f6Cu2KRMd7nB1LkJKR9QHUJtdnlAOWHdKDAOYWmMC3JEd1hda6+Ai3l0EkwqAA0UgIISNrg6Ad4ICnXgOWSu9vudKzqN9pB2-b554RUJWwEkYra1t-ACEGruoEEDNtyO7bdwEt34DkqKk88DcEX71NWmjIAAJwnBQE7uxplirrH3xfdLTf3ZqJ+zTgPgoJNutwMG4fBbpT0vWRfhcCwVFJ79WIH7vRTi9xeFkNALnudVFBEZfYDPV7zj13DCgGerFWzHNiRicR+yMui4C8jqVXhCjGIBXrD3V7qKrujTSFFaa0K2AJCshYBXzLnrjtWWywStteg5biFjTQfc2ht35hGUaK3ytPtIVMB4KG7C1KwNe3VBSoq4MgK3DCTJscV3M1oIyAf6d5mAi-VgZ2M9477+ApXI4NMozUX400pAA-XG024uYwk31LSG3WL3ghPIXkVgawuj7tbSoMQQA75El2t6Q96KXnoytaDHBdZJ4BiK+AtX+Cc4jCeIVKEQNt0N1pk4IKBo2QHrF1DpXA8SVfCv739fBT-fWlmw8wqkxw8vbAYhCAGWGmquIcEN7xsGoDEghiIXumD-62DLDbXheE8WWtuDPBu4W3tB1fLnlTOqRh8uu2DZ4Dj2jWZzp5jc6AYrQAXULpF3qEPscWnwovoQNSJFswOgPcdm8QVyjx6moQIYHsi5w79Hlc8KfqBDn6n+1+xrm+Aa736Daj+uUtw3+jhkttWvMwzrosMRirDVksKvN2-RwwwaYvcEHZHGrWwSuLscgFJH-C0EPeDVRlRofyEOodD6QhI2XW6j6HaWhhmfhxOwyMJGAu631SAZuWhZtFCyw0NzJ6w5pxDjIT8ZfNBW3Kx8jRj7X2FaPuwYjyhWRV0YMXNy-MJimIA2MyBy9zDy2PXQ6M6NUEPYW+xleL2iH6BiyAAHSwAMLGlTAfAD9GCDrYIMyzVlnKGgjZ7RIVB+qkYK2OPadjZ4vYzmUOPHGflpx84-z07FjReAq4Muj0FJhAnQAAALyXagBDjCBH4-4JkAXHyjBzbgFCduM6R7j4IR48YEKhQQGodh94I4enA7H4TZxxE-8feas8iFhtFgIbWUCG1-MkwcXk6DwAvHrFJJlab8fJPrZKTWzPFpkYsi0mikDJ13pid8hAA')">function check_an_assertion(assertion, query_pat, query_frame) {
    const match_result = pattern_match(query_pat, assertion, 
                                       query_frame);
    return match_result === "failed"
        ? null
        : singleton_stream(match_result);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p21' class='permalink'></a><p>
      The basic pattern matcher returns either the
      
	<span style="color:green">symbol <kbd>failed</kbd></span>
	<span style="color:blue">string <kbd>"failed"</kbd>
	</span>
      
      or an extension of the given frame.  The basic idea of the matcher is to
      check the pattern against the data, element by element, accumulating
      bindings for the pattern variables.  If the pattern and the data
      object are the same, the match succeeds and we return the frame of
      bindings accumulated so far.  Otherwise, if the pattern is a variable
      we extend the current frame by binding the variable to the data, so
      long as this is consistent with the bindings already in the frame.  If
      the pattern and the data are both pairs, we (recursively) match the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern against the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the data to produce a frame; in this frame we then match the
      
	<span style="color:green"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the pattern against the
      
	<span style="color:green"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the data.  If none of these cases are applicable, the match fails and
      we return the
      
	<span style="color:green">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (pattern-match pat dat frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? pat dat) frame)
        ((var? pat) (extend-if-consistent pat dat frame))
        ((and (pair? pat) (pair? dat))
         (pattern-match (cdr pat)
                        (cdr dat)
                        (pattern-match (car pat)
                                       (car dat)
                                       frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06Lne8wUbR4QGCFBhKVBYg6DBGHgeEKhafxwtiPPT7GU+tnGDhqngbpvyRvfCo1SlT6-QDFpUe5wY+ax1jBbxv6+UU5oOK0JIGBuTjVFu7brpx22Tu4AXKCFo36ekEHEaNPHFAgGB4CQVA0DxNBiQZ5N3VSEFzc6fRcgUQh6G5yhwf25JUnSBQWDIePFCTmoefCUAAB8S8U0UPl6zq88T5Oi5iMuK9SFg5I4IRa4LlPwibl9M4yLIE67hvYl7-0lc-KUh-r1PXvOtFqFjxtps7mfnkKALiZUfOZ9et7I9FZgxAkVnZzBD4FFd9k+nuHbCb2gTRVJi-U9AAAyN-en6QYX-CYSgUoDfI+e955RzSEbVehdX7EUVqkI+J8GBn0gSnCydAjaFQRozFwhhfDZ3wI2fAMhwH-WQQ3GBW9DoRmnlA-kEVQHNQYOaagYg6D-R5kYSg1cxDcBRoQQIbhnBpwEkg8ETCWFsK0twKuy0eHIz4cQAR9B6agNFGI1hKdSHQM3unMB8DaiINBJoiyaiJEYP3ixExKcGA4LwYPHeND74jUoXWIY399BUPsd3SYyjvYuEsTze2BYGC8P4YYZwmihEHTcRGDxdcaG0IjixUUFRlBsAmtlOgHDL6RIzrfBBSCX4WRLEIECKS0mVXoPCUu5c+55P0QUygl8LK6xamU9JqIqlN0wZHNpFTGA2NbmBRpWjYhOOiS45xD5hneJ8Vg1iJhykZMCS1EJCiwn0CySMomOjJlZEwtMhJ5i3KijSdnAWwS5GhPCb-QmsC6mn0MYU0SpyWDnNWYougZjQEvPOYuYW5tDCbKGiNG42IBn4IYIQ4huNdlAoSd8v6rzyCtXwMIXwQLbkUPGbafZ2TDkqNSIFaxzAtASIxX+O5eiHlzieeCIlHwqDEFMbMyORL3nrMyTcilWKRi4tTh7AlHN6BsVRHHLl2jH5wPIMfepjzhlFOFYvZwPx2XOE6TU8eUqZXUvPvK0SbwRXKsbAy0lKcvm+O3ktUVjZ5FsW5FoclywRpnwYIEGQmzuB4hZSxA1Sr6A-EpG0As7DxWjK3i6t1HrQCkjnha311rGFsHNmgmgOYAahu2cI0ErrKhRp0AKi1lcg3c2UOm6ZmKdGH2lfkuVTTRLGHaCW4g5q5kMIbcG0tmywgVqzXOcE7am3gikcMsIsa5kDscC1E1TKU6Aq5bEJ1PLBh8vhRaqopAPjEsZWSl+3buU7Lcbu71bl+EgWnRIudI7gVbz5aO2agqmWaFxBOztR6e1ulFOkTIXbj3mBOesM9JKZ0hqve+3JX69kuKPQWuZop2AeC8I6wolLq2yppXq8E8HlBeBbZHLDXgUVoqQ2Gg9vKoMHJAYW1IGhCAgntdc8t+7JX3IMehutojCC0eoPRypv6XDzwufIj5xGH5RLI1MvFY7I4TRWqqo0ImxnicgxJ-lMGD6pB6voXhOTdGoZ1VpuRFlihmM9vPQwvslBQDgIgZA6BQ54kSUjFCjKjEtDoDma9lbo6LxcnYuJ3dpKlBjr55ZETpLNE-RA6hAX-RBbkhJaxuDBmhfBQQohaCSHRaLjw9z6sjJgN6RksLsWWhrgYIV1ErnuYefC2A-xYIsup0C6Vn49Wqu5dq6KeNRrisGlKMQMr3X-V+eHlfareWlL-rOciuTmTGsTZKIJcmP1fEzkRb89J-0AURLQjpaYPzkWtyI-NnLNX-QRdSC+gG83msDZ+FdowxbJ1btNTzQFJ23NnYNBd1qXJEM3ZK3dxs+H2tfZWD9+lQGyUA76y1xskPt0aMa6dhbsQfs0bo0VmHGsMfoqBx0B1AnZs7c+9YXb0EXVQumoCmTgmrnyY++N1HYYWikFMq5qyNk7KOWpL4Hm5BkYeS8vjxlJnQG4-0MibgMm93LFfE-XqCglVppW1gyXDhfwKhGrjhgfDqBK9TS1ee6u6DS9IGIO9sR8KEXdMKN8qRp7lFV8mE3muGjnn4RkMqIvCe+MI+i5EZPDJ7eZtrYJ7m4L0DJcHvbiY-d-KNttwP5PY+hhlyn1PBoicR-kOo9hgfnzIa3qKIlK9PdJuZ4t0vVEhU8w0eXprE5midg1Msa3J4FQmWCCbiy1lbIOX4xaygvgSBC8EJxtgvhCpW9mkc8wlOiHU4M4QQwKP76iZcKC-QMnAQAD44cE4BjJlHsiV9qZYkD2vhrhug504fUg-BVB4+cw6obaCbWBDtS5xnuXK+6QP9-oqgmoGo2uwj-mDuDgAa-kAUaomsmq5GmiTuNpRnMpfg9rumvsRPLqkI+sPtYk9q+lertEXjoi3n5O3v8NgYggBi9sBrqpfBMOvnxDoj7gDOupuuehokepwMgeSBQUwTEOeOwYBpfMsoyIZKwZLnBBwVDlwVejwbln5IKHbiXsTKFsIcSqIdNG7qGCNBoS-MskoVbseERIZCNGgQQQDDHkTDIYjm9j+goR5kYXhHwbPt8tmlCg4GolKBlgojplvgwHvqJJCF4QIiwrUHCNwL4XenQhaoYNyIwPgPwOVgsu0s4O9p4mQuSFQQ9vNsQbEOeLuoyFdrQRehEs4RvmArgc+pYT+tYaUBBtYWsJxtrEYAkZCskRVukVIRuoBnYfQZQBMBnntvEUIB0aUqkX0oCtYROG2rUaeqUbOj+t4uQSYQIZUckpMVjpkY3qGEFoYl0TlKlhEn-qAM0BBuQW4RapfiDsjqTvfGLKir4BLH9v7uUeSOeHuOZkCKMYkZ0VsaiICkdr4IeIIcVGUGgmEeqN8cCB4UQqEWEuEYMF8aCZUZIcCbIizOHjmJHnnmCF8cMZnjpAicwtCdwDMUSdMEzigZHJfgjq9g1jsZgRKm6AwtXg7NYZIWypcmsuEuAfitcWVm1nceNg8eCdNIyJIfVssnTryRsvyX5GoolrYqFtKccR9tNCjgrFvNNDSRfmVocXNkyfccREqalqFoacqYMjtiGJIZadNLKcJvyYSbwRFHgGZhZv7NZkHHZpYI5n+nAg-gDMjHfi3G3P0JkiGaAIpKUILv-OyEGdGaGMZGzt3sjBZK3PghGZrCQKYLUAECYMQNQGmsII0GLhagwsbgnltmQKvqABiSaSyQvH2o7iIM7h0oSTBJtpILWdwA2a6XPrkq2azMbjIKGSxkgjIAqnXE7vPLhixAJtWT2RupLjphGrmlOaAF6lJguX7sCauY4uGtmpGpuTGvemun7tVriWSmOYeTouue6pufmnqU1MtuyQWHnHXlkSQb2mCHSmodNEOpamjLPOebBoSgBTdNoXecxlSqxrzFRBZO+c2nxhvjKW8CBeNDjDprCtoefkjI4F8GEp1NideRoqKeQjohGAOaAhoTLBRU2V-CMDRdcYRfgMYK1AHsLJgRvD+W6KTHDFqbNOeIAisonHgVebnhIoyBcf6ZvstjLKlnWdTjps-ElvgspVRDEYOYbP9FaRpZLsLOvAunxS4IdPLGBZHHDMsoCnTJELxSRgJBGBZbEagVrG2ZJVHlwepbqNjHWSwOsCsrljBW6BwJ1IAkYD5d2vGWFWIBFWuEsHsaNGZApcLJFbYppbqGTvWYFdiX-s0LFRFUpeEAADzAjcxxU2wJWnH-5d7TjggAAqckS2dAzxMmvAF61IWIXGtQzQ4IoAAA1EmantIp1EKOisVYNaJBZFNRSYUKNWIONVhRMMHimezo1c1TIMQPZIIObh1bOl1RPtQL1aJLNZngtUtZNUNUBf1UNXNbEBdTIOitVfhfPvFliPpcvDdKlsyUiKxTmIgnJNiAxSsKAr8elYMplbLn2HchBhDRpTVTJNVoDUQPoPdYUCWkRVdJ5XiVpr-vdc0KlipECIdMVejf-odNVeTYTQke4lBlFdlRGC9RUQxMoQYNVsTdfGJU+qRVJd3OsRjamdOD9aJNZK3OUKAL4dPkeARB3n2EIcLIyHRWlbwTDVvODdZUpYZe7J2dBNZUvnTKifGK4aZZ9ijcDYoVcXMmaT5Slj5djL9XHqge5ubXjR5usWDbTUpX5fkS6MXv3N+mTehP1i7eiNiOjZjexdjTnl5ewkzjMYTT5ZzaTQzXNaUKRJTZ0JlYjasNSLTZhAzdaLaMzSGNqCGK+BzfGaJcEuJbiDjRIr7UUHVfDWwL3nQOLSIJLUbGPvVtLfRGscRCsArd3UCMrRAqrboerbTZrVFdrWDLrduPrVpXPY6CzSbY5W6MjWHW7R7O6b4uZnIH7FZoHLZiHBgHJWAnrgbsWUbqtoHmBrptqvBT3qJFfcrihTuW5G-YbmzInBwBIkVvfUxmJsui4gXnvOeN-Tfe2ekYyEgs6CInMEBbEHMBOEHvtoYuCByMgzEByGg8MSIghDg8lfgwg5g2fMQ2fKQxg32p+gPEBXQ5kP6Ogw0CIsFLRuQFPs7OxGks8QaCw0UCInVTg3VX2AI4UCIlbKoIwiwIYEOlIzI+ZisOI7ECIgNcQ7EPoOmaACCUEYLkNXwyozECIu5BozEFo9wLowCPvoLl5IYwQ5g5EdMBYzo3-DY6AJCDozEEY7CX2sAGYwYNo1Y+42APY2Q32gAKQBMuPBOgCC4RNeOgA+MiL-waMxNuNxOc0gkON9oACEwkaTQTGTgu+TQI2T4Tf5JV0TRTejoAZVMQ5TNDlTAIZj6TtTJVQIrjOTf5u+1TljxToA++DTyTmDu+LT3ARQbT1jmTYzwz3TEIuTATmThQ0zMQuTsQIZzoTokDiu79MDRxUVgIIYW+cw3AUDKuZm2z4J5zt9WCkKLAAAViYIMUcysFvsiEEYQ7s4bkBbCgXj40UDc-s+8E6EVO8CVN89A8Um9nA4YiIi3kBS3gC5ScY5g5AHQGqIvFwzEOi5i8Psiyi5I1QNI7AJADgwo6SwS5SUS4AgwAAKLEMKN0tUtEkiIABy5AbLATHLbLOdOkVz4LPAkLKu0LZ6hzAIxzGgkuQR5l2VQLord6Oz+uezorNlrz0w7zMr2KWQY5crwrLUCroL4uE+uIQLo5DgZuYgZ8OmOu304opAk+V0Dz5AeY8RvUmgaN6EQL+utGdBgDGuC9RQMm1rRwRQVtkcwEH19dGiOmoeHlMduN1hNGrRZrfu3tw1qe8rxUJSn1YQgbsQyb6Mqbdz+AjzzzdZ5NQryrP9qrKl+buDN81RvNsdoFEUHAAg1dVrpbKqCb0lPx-EhAzbuNoLe9WCB98glmAcNmwcmAF9GFFApgDAjaHwVUNwpAiGLS45WcOc04uFE0mMjoqOsw2rdNxd+7T4co11DAt11InCy0S1e7QM2EqOzQj7B7q6cyCcNw+BCeWgP8d7nU0NG9fiygygHVGQLmRg0uoHGT5mQ12+oHnN4I-VpQyHZx01p1Q15AMH9bKwyHw6XC2loCDgfyxgHCXClrdZtOJHE0xgzw-4jFC1U14IEIU1X7yKxgv7UoW+1HdApHuMMul7ok1g4In95gNHG6LU5sCg2+5uW7A8snO0IYqHEG2k0wP2SCMm4QH80k9uaQCnEYWnPcJcTFoDtoRnoApTokxmR7Bgh0WnSHxmMZwFC7IEy7sUa7iGWnJs7YjCR1PGmSDnOnE4kWJCROPJwmRnf+qHrHQ1EnHF0nriIwMuin3iZ1fY-VN75pUKvhJuyYjpHKqX4Qd1E4mXU18XUnZAMnsKKXUXxXwe8Ian32EJ-HeUoIQFx+LXtHlXpAPEL7l9S43nGsFXEIRD3ASC9ncnRdWQRn3AFXTAVX-XlcAHXUQ30wqHAA5DezvtdVtyGITSt0tVp2JyqHx910uwWKQOio2ld-J9+v9NnLnIdDd40yi743+UIMIDdcEDdXZJIqJOaGmDdQ-hwPCJMMp115J0l4MC94zS4rD3N2d5Jwt71-1yN895d9k-eFkAj5DxxbDy+eYM6668oO6yBA6Xwh4GssvuORjtxkVtphDyInTwF0BeF0JoV9prh1vsT+sKT9QJoDKZT6Wm4JRzT+D5AaFwDIzxrCIsZlIrbTl+PXIhL+pzmYTy4C94lvzsjLrvICL4CtpvfFQSzwzyr-kUIWm0nUCCGNl+lhAuz-TpktpkbZalSML2svojLoyFvlrzgjr3r1T6L7tRbuL0YXoVb7Ykh0QxD6TIdB724F7+bnm6Z6e1kAn8YKzIJ6r-lgJkTfGWJO17H-r571n8n-t17Hc-n6pLz26wL+T1RE10UKUAJZH4Mtz1K7X-z4LxTyX8Hyly7-1631X-bUK0H5n4wsn6ifwVQbly70wc6pg-L7ziqUryQi76sbLaYX7SwXIpca5ZHMPiQDTyFbkqTDL+t6nxf-ls3bwm3f3jzrNuyCPh-ZZT6vQCBYbyr6fwN2NNf839jxp4V9b+hmUWlzgHw5knewFWdOWWtqJ9NIVUSgPgFagtQBgFQQYEb0opOUX+J-AvoDzqgndBAwgLPvANij7lMBjFQ6BhSWIb9w2SScFiUj6gOo7+ulXGA4A7qsweoDAdQCIA4CkBdooCXIIQDxzf9B6sQKgppnn5iD3c4JcWECEljfR6KoAiymrS8xigPwKsQYGrHuqBh26SRNslwJ4HCA+By+N2GDAJrbxhBjsEiivDViu88IaxKguf3N4C1gOyVPOFYMOgu9uAQg9FNRXN72DGIA9MwlvF4Rr1japtXwTTw163tAgf0PziQDbIVBeGXYNkMkM4b6JDApIH-owzAheoIe6Q3wJkOJBPAK+cfQ9F6lw5PAgiVcfoAoASFh5ChXYThHULIiGBKhlbTPE0NZhZCP2B8OvA636Aq5uhRgNIQRAyE9DshWAj9AHTyG2duh1iEoUPyXCk0Oh0EaodM2qDmx24ww8YUUMGALCshTwXDv6A2H75ah8QzCF6gFLjoWh8QmQGkkaRSspc1IHTA8KoBoxiUcQmThcPqHvMLWrw1Cu8MoCfDfh5HOoXdyGTfDbOjRSXgMJ2GtI9hUoQyKTTuE8RA2ZwkGI8NBFojwRlw8jNCJuERtlo7bI4riKjLTCSYS4bRpiIgyvUXAagEwARjGL4DKsrI5wNwC14cRORmPH6EZTFKCsrYagHNDSCTSMgzYZARgEKJthciDY7I+gOSTe7bgteKgtwdKJFFe4kOMgOsLUCb6LZYRavYila0kBkjvhZMa2BqIrwxDeAHFdqCjH0AcRxyC1aHg6KoBEiWI6UL4XUJxBshugUwj4uCRhLpQfRmYXwGeVNoTxNBRgcIA0QHjodDAMQu0bryJCEJXRWyMEoK26CMh4+bo7UmoM0zdAYx1nfqs0G6B7x22oABqgAAk6WDAAAILgBwAdLAAEoNVIAAAeTZbIAgQslHSltQtHyj3gaY5NGYJFiMUbRLUJMcOMlG2dPRSYr3qQO6ISikg-XT0Z0EbCDiExb-NyGuMyCMJFx8mHTNWNrENimxrYjsV2MIFziPwyMBcRpEBLTiVxP-T0WCKTEMAUx7qZcXQGyqiIDxdAdyL8NgFWV2o+4+8UuI+GSjRxOmX4T9EeFb4Y8LsDqnvgpKMjsMjCRgIOP0CITzIk4EEZBNYEssYg-Y4UZuMfGm4CJHsCsSDwNb6DzYjIAAAwnAdKNQeyK6gyCoD-OSyagIMAejsShUDgOiUCGon8SBhU1PEHmIEjCTcgAksgIQIYQsTroT7AGC0gCB8TTesUbiapSXDghl+pMYSepKqjcTpussZ9jEMCC+FFJB7VINUGyDsTdoHuNSZxI0mmhJa21NiRwASGY5nJKUckKAhaEtR7InQRDBQJWB3JJB3-QyKUHkluSWkpguII5K4wBc2YvoQyD9mcGEBTiLfJcP5IYCBS2AiGLwebxOGxAcpeUxDP4Iyk59muYQ9epmjdClSgptk5sDEIqCJDQgkKZ3qAJUkET74fkwIAFMaljjWwKhDTBNC0w6Fx4duINHHG6mOhXBO-JykGQqLxhgh6EMWBLGOgkVFBKtKCctOYLMYW8m0Plpf21GEROh4YfqblMamSxbBheA0OcH-D8FpBRQO5Of3CAzFSgDU-KS6LmllwEyxAAad9OopVS+wzQU6cYHCEz5TaX04KSrxiFxtWY7MJOAIg2jdS1wUEgUVSDkH1lNpX0aWGlW6mqiYgr4cWFZyRbrERoDgcapbCoBcQbpN0NWIqKVEDRW6BE0NnwUcEjTFJWFX8ESTwCQgBZIYMWLjI2l3Q8ZfIiBOjLZkhgRopMkSC3kikQlqZ0okyVwE6GxB6ZDsRmVgH-C6yiJRlVKZrBZiqyHa0slaVv1twGBWp2sVIBsilmEyjK68fmYLNClbxwQ2ovYLqM3425np5hdyjrHPbAwpZRM-yAfxYhUynqNM62A6IXB3g7KlI1gVqJ1FfcIe7s5OXqLRwtB2gccQgLHNs5wwK+ooTTLnPekawEZbMIhMjLCQbRc5ZzOOQbMl6jT4I2QiHuXKRnsVq5jwQgHeFrk9TQAzsyEIXNSCkwS578T+E-CXDdzbOEc3ECrIjAlzipRQeeaSEXmFAZ5UcriPHzWHMyGg8fFeerP9CG0K+acz2V90TGEp2JHCfouOTgoNJ+iSFdifOTchvBUkNo8JNRJwonsP5qFYSfuQ-k5DZhafIBd-Ns7M82AgU3wIGQLDwgK+sKCMCApiE65kU1EpqbjFlF4SkgPIsgLiHjkBjBWqSCMu5PigXgLJLSayZkg-l+Rzw68hvOIQnDryVZ6CkcQfJfnrhCuBCsYh-NXkNAVRRlCSW6BoUKJNRBfD2RwBTkawDRN-F-C1Be6oK3iHCxgFwpmJGjSR-SXEYItFH8pyxkgSsTWIYDNjLIAAGTpbdjJaA8JibRUkDCjqJgKL8RjITkTipYFQZGGRNnEDh5xrMGxa4or67j4c7EwFKhV8VEKAlP-Y8foqMUmKrx7im8foi8VfjoJaIhoejBjwvjcRb4j8a4u4VFA6U7EgCWiPhD1tUlZonScD1yWAT3RbkHXHEogmYKepCcmCcCPgnbhqJQRCkkgqIWoKzmNS8iXTHrbETpG1SjBT0sdkxCwkf9GRZj30BML8JmtNEQku+GwSqATS6YHDFaV9gYJhbVmCMJmJqgSBYE+TNMtqW9KZimIqpf4qmW8i7FFEwkrMuhHwzpFF3bBRcuwWjivRf0eyeCVaAfMgQwYo-gDFx7ghWCjyq7n3Q2IdgNBXoKZYHmc5jLfWwK67pj1eW-D8qoAL5Q4E-Kf9nlt3JFXMvPlOKUYDoNMU6JW4ujHRxnMBJphzFaK6BbkD4MEFQF-ipY+KlxYON2hUEkxhK1lY3XPBZigQ6SrMKmNZUVFzwYHNnFYkHFvKhI6NIpd6O6DGI-xeS74aCsKClQcQ8q-Zf+MAmBtSYg47gJiNFXmSQIEq5FdP1Wkz5ukLEOlYECIVMqpx-80WNc26WMhWFb8jZJQuyJcyOVNc7pRNIpDgleV7oG8e+IFWfifVwq8EgaqsTCTfh6rPbDKr+hqrRI1ExVXUOVWxBVVcqpNWUvyXaqlw1EvVRk0jUBJo1cy01RbOIjnAw5lS4gTauCCgS0w4SVlQAo6VNqIeaAltX+P67trMJQq7ceYG7V-jt8na++FaoZUarbVN4odRqtRJRQ2AeyhtT7CBBhLTxLYtsZ2PAB+Rl1jY1dReNMU6q-xBaoIvgnnUICjQqJEaOCAxCic+1fiGtSgvtXkhR1Nq76HarslULwSx64JYyDCUGLjFG68kD+oiV7q817Ew9dM0-U2Lz1bsq9XiqbZvAHmq2XhEBzqngYFOSGoEdIRAjwb5oy+ZDZUUKln5CBCxbDSiC-5n4f+FUojlRhro81goCGtXOhubVw10NhAjQnRpw2MaE5BGqjXMgWLsbSNuGnTJRtQo1AxAjKVmLIs42UC3ELGmleYHg34AbJJG0wHWVuUQjm1cG+gPRpdzKbBi+c4WJKor4KabJxGrTfNAyJ0BtNemxeUCtkUaFdNn5KzXmx1lvc1N7yj2KqtEQiAbqtmzHkBWM3fiLFFqOjYpsyT8aVNOK6ERptrrlYUgVm8JOFr00Q9JFk2eEUMMREpDBgMeXzU8rY1xacNiWlPm5vREubJmGTELSZoUSlJ8tAmwrUHlwg6RitCSTzT9wsg5aQV3DQwA81C1GsLUomlzOnlYGSr5lrQxpVKxjyrLrGpW6YLkK0wPLZF-Wv9vCsU7Oad5D1EkSaLUVmjDatgBrQAJUWbbJVK9XbYBHOIDxIIDQJra9E81-cfN82vzVEWIBiatAvWtyiYH4DS9RBjFSQiwM7ZfAAqjYaNkXBiFd8yeqpZPpFvU2ngRoDSuCeNtDCTbd8ikFGO9odTqRmAPMJgVYUzyTcLc2VQSuTW6i0w3GnQ5ujmCZnMzOcD-KkQIB6hj5bqOsvWYUHBCg76+yyMHtF2pAbakBW270XTB84QYF6V22aJ5tZ099G+bW+7dgqApi6G+2FJieeBuC692GvDRkAAE4TgoCFXZwyO14atdPDHXTBJ8zC0r4349YrPwU4fBfV5sm3K+BcDxl6JjdQoNrvRQbcNuFkNAJ7rTUODy1hkF3S6Kt2BDndBu59IkuN14j6h+ybKi4C8jblS6tU1iCHslVsxzYUHJbMrpD30jBA4CzhlAoBikl6VkO95T-2K3Xb+AEIToBArz13b8wjKeFR1xz2QKmAQZV7ZHAz7LbqgpUVcGQFbhhJ8WmMgQK0EZB+8+czAXXhn1dFQ9O9-AZjkcDB5+RXwaaUgL3qxaWdVIYSMKlpEbr+7wQnkLyBn1RWY9A1pUGIHvt8gZsig-u+brItaDHAgh5ahiK+AlVICUBjCYgVKFv2N121wkutT2prUSr9yn+ioovp71R1h8a+oEP2k9k8wqkz04PSFF4YQg99nkJkAutvXoChcyB8-U9IYhPSQwO+5AygZe4XhNF5mQg55G92J6EDhu3EYZBgnLLF6itKbanmv2TL1Z6OxgS5laCji9V5OkGBkw8yETYg7W67lIm52mjvRdIlYq4SrXmANCQgQwPZFzjT70xbvQfcPt5H+8x9gfA3pPrI4qHZ98+vBVSDhgwkRDUysQ51FUVHapD-C1Dd+lMO2dwQdkJbNbGWj6xmAUkf8M3iR749JlHBzHVwe4DmVhYKfInfwaCKCGYhX4jeTbG5EeH7FjFSbapFEW6iL9i2E+WIozks5pp6fA2C7FLknTFaMQIedzMdHpHYg-Wf2RXNrxhIPgGieIy7CgmlGR5boseb-2nAFHY+3S2I0AsdFZKSpLiAowMZiAxGVZVKoQyi0OjDGD5E4I+ZAUyNezZ87e2RRt1ZH6BmZAAHSwAoLNlTAZATIGCAydBdOjfpnKGgju7RIS+3va-xWOTK1jpAjY0qO2O7GWibZF-Ycd66uixovAVcNlR6CkxfjoAAAF6bgYg2xoNm8dZgfGjj4RnoKCfOM6RLj4Ia4+xVf5QQGomG9CYodzhrGoT+xn6LCaCbjdMG5AG6iwBurKAbqX3SYBtydB4A7jTyvE21IJOfGZOxJ97hXvJOUnqTYPZE75CAA')">function pattern_match(pat, dat, frame) {
    return frame === "failed" 
        ? "failed"
        : equal(pat, dat) 
        ? frame   
        : is_var(pat) 
        ? extend_if_consistent(pat, dat, frame)
        : is_pair(pat) && is_pair(dat)
        ? pattern_match(tail(pat),
                        tail(dat),
                        pattern_match(head(pat),
                                      head(dat),
                                      frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p22' class='permalink'></a><p>
      Here is the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that extends a frame by adding a new binding, if this is consistent with
      the bindings already in the frame:
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-consistent var dat frame)
  (let ((binding (binding-in-frame var frame)))
    (if binding
        (pattern-match (binding-value binding) dat frame)
        (extend var dat frame))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06cDwc73jxxQIBgeAkFQNA8W5i53vMYgUKoAHcgUQh6GIOhKG4SWcyGkbRRBLQKCyUXxZqKW-WmUolZcxtpv0NWJc16TmlFOg-pFxR1clygtZk-LCAYQxfAUFh8H1m6Xbdj2GHwGQ0ktw3reNu2ZboOXTfdVIKmUNgJuyuhg7F0P7aKUpBZ+WP48q+hk5tqXw8j-0zdSc1qDEOh-ql-PU+kjO1wYcvK+rsEjY16WWgjtPVmjhg3jY1FOlrjue9iBufgH6gh9VkOO6Lsewz7+O3eEcgGBRwhAjcZwR9txfdME8mfsRvOV5YNeGEXfHJDIQw981tCdOmc-L-d4RfAfsOu+Lg1S+dtoBZHBWxTqPeuLRG7GHaJLZQAMoFANgc7ZgWhW733bvvBeUdRTsA8F4L+B8J6NhwcoPB6DC4-wPv-QKSDhat3weAzOjZqEfFobbL+mCS59w0IQEE3JUT0P9KUbhbBP6MI6FofQTMN7Iy3sQHeecyHf1ltYJ+0FZwgX9tdHG98JorU3tvQwzg0FzwwRQyhLRSCmXYaJaytkHIuBdlLcgyMPJeTEcLQqEUmaCEIDwz+yJuC6LCITV8oot7UAUNPagOYWpM0kQ4X8CoRrCNxOEyJNAYkn35knAJghSBiDCDRfChF3TCjfKkI25QsnJniXQRJDRzzbwyGVdxEipHv38Qk1Rz8VgozRsIDeEc4L0DoYZHpiZT6MGvpbZW99kQqLGeMvJBTulLJWFI2Wwyq5sPmc+QoCtUjUINk0tgdsxmlCOVRfu9A0ZghOWciczROwamWMUk8CoTLBFqRZWxdlHIg0meyXwJBXE+L8YVWI5wvGAvUX7AO0176b0MAvQmRN9ouBuNiXRgIAB8ED8zC30LoheMsZGFNmm9ZM+LGxTxntY5RqKDlMFIPwVQoihYSNpc4H4si2J8JAQXJR3cD6H1aVbJaM9rmpmgTXRRKiKGKWMhy8Vg9uWNk6MrC2GSBWpwXq9SlLFGEAJlbAowlAFCUGRRQ1FoTUjEDFpQXE8CYFwPNZa+pfF0VlA-GqWofk3n-FtQweOHwaEoLYR8C1ExUUrBGmKyRcFQ0sPDTXSN7rODKP9ceIiIZzxVFIEmt1WiCyMkMvG-NhbWGprdWEDN3c-KCjKaKS5OME0FpAmm4tjoY2eoEhWjtRbpoNshdmntLpibUuNQggGiyiaVpTZas1UaVGZpDAxKFfMqWws0Q4ZuX4Lb-WCcREamL9AMFxaJSEu6d6V1qHCbgB65H0wNW5Qw3JGD4H4AwbOCdUTGNAfvG1TbUjOuAfg3ahp3ilhrYyUDiDk32ttv+wVh5x1etFPazQTrAEuqXe62dpR0iZFnWsXxktBhvqEH7L9P7c7vDbfOxD1bl0LLWTESjH6aMmBzone+s6JzNSnbh7eA6q2LrTRMPZjFR3EX2RO0UtHE4CNDDrUE+hFOxW9u7WeAHNYitAM0IjbB-UUu8Ua4hpCTHkIZcRc8HTGQWdavgD++C-Lnj3IYWD77qMgQ00YzaznfCoZUMVb1e7aieaBNugO17DG3sGB54LcblUBY-qS-pgycxbLoR51ZbH0KxYruqK1-H8tFGUc+szjdmHIKY23KzncbMBQnYJltBZ9CzvjdQ-RcjDEKIa-Kir+qqs-D3XQxRKLbOhemoyeNY3bZdukbI+RSc5V6vJHu52rttNdqJTe7ZUsts+x0yh7GBZ1tya9UO0zgKjV+f67pxr3dUWba077A293GBvZO7qkM8bPuLZ6yt-BJK-v1opYzSZnm5CsygHARAyB0A82JJuliitp563wYy+TqR0huzIFj0AAAfInilRQfF6p1QnJOyepHdh7foq2BvE9Jy+XHGQfuj0KDTtnYofVelc7NbxusVa7blZEQozWvWKOG4C0UzAxASAGeovDOw+j3B2tj9DqRSZpvCAAMn170foFG3XhGEkCSg6uFey+yX3R9WPj04410r4NamJuiUfZ4l95hvtwsDv9R3UuBKHQjHKyrgLBPzerZTsQpLlt9bqVrgSKvwTR60twCny148GOcPTbxop09B8uwJeX5BFe1Dd3OD3af9ut29949PR3tPF9iCNUPdYhgm-0GHgbkx8+Aqb9NJbueHsoeTwdbvEZe+Pf77bqlCnuO-t3nrifyRUgK9dyrtNFkSxCF80vuj8IWe05d5X7fbqLIwz+N+w-idj804RnbgH328PywnR320n+wJm7n0LwFAOw+QOieb+hM7eU+nemEv+Eeduisf0F868wBK+ZuYBzum+5+amO+okr8iBMio+dADeMK8Bl80y-0syoBf4J6GgRg22vsmij63A3+b+-IT+W6xB68HSFByw4BIw0+neeuLBqObkzaxMYadWXBbeaB5eW+mBl+okNWYmhBdu3WeBvWyBFq7+XqTBAh8+aOFS9Aqq9Aw8q+Tu2uZ+yushFqu+BhUSRhjYSB9AD+rO-oZeFeFhc4WB4IXKdhYh9eA+du3hFsjYvK1A-KEhaKKeoIDAgQMgquoAeI-hVKgRk8RoOGzGdsqBXqsKMRcRpIr03iyR6qpyZAWq0SrqGhmRkRoaORWBOgMBC+IGaRpqJh3BUhbhVeYInhcGxAShVKgm3ReGR6rRWRam4I3R4ImeNaiRLE3RvhSGFBsQwxIeEBD4v++RgK-acx6RQxkhWh3eEm0xbkImWx4mUxlRboUBy66xsBdqDq2GJq5R7q5x6+aQHOgxhx5gcBjGdCBxzx9ubxlx7q9RehrUXIeCLRJeborhMhHhch4IFmvRC0YJTmLmEJuxyxvB-BaxN2NxTcvivCSmaJe0peG+0hGBsJVhokwioR9+HxLgGyqhwORJPBgwgJghje+SI+ahRo4RxJk+mJtobJgh0gAK2S0O8gSgcOHMiO3MlgQhnxG+LKAMyM4MZh9OHAQg+gKpoAikpQLiFu7ISpOpoYxkliXyyMFk6pjOLQMiJgWgwgAQJgxAZRwgjQ3uPuGKx8cSpBt8Ba3AHSk2weboqelSIg1SqIEx-GPpsy-pgW62rBIJoZAycSMgqpJJ5hHRki1hKcVSTMiJbkUi0Zd8kiaZwZURORMg3ACR1xVK7SgWJZa+wI5ZlQWZoAeR-+duGyQy8gB2YIqZjZ2RLZlZugwJTUx8bW4qtypZaIoxE5ExIWUs+8NZIJE540OM05fc6B7hYI00Fkc5dJfJjAw+bwtya5G4jZTB00wpZmjgXwhinUmW2WbCTWkJLgEYq6CZBZiaIEcM+gL56J-JgwH5HpXccc+AxgrU-iN8k2kur5o004cM8ZRUUG7I6umGjqj5PZrcjIRmJwIFgmv532VqCKG5uutBuoZ2T6y5BZN8zeHscyN8zwsFAFLgh0dM1F5gcMXaDFlsTFixcFEY7FOJVKfS5GmFIyEa5FxFnQVqLA6wLU-5ERwZksYgVuNBx2wSBpHAnUala4SwKm8FZMdwhFUl2MtaoAclEFyiiqwIKlalRF4QAAPLZTpaoGufpX2BnGadOOCAACpyRHx0C+DLK8CoLUhYg8LUC1DNDgigAADUxp4yWenUQon8Dl8VokFkGVpWhQyVYgqV7lkwYyppViflAVMgxA9kIVYVNI+JUVrpok2VSyeVBV6VCV85sVCVOVsQLVMgn8el15MKckEkdFnsra32gZSIt2Ecwack2IilRQ3iHG6l2m0luoEGvaUJ7OmQK19F+m2sP8s1RAHWbGMCd5V0myWFz5wq3VzQ32KkQIh0Dl3VMQsw3eA1L1Bm1I76Pe-BUl8qEYA1wW8YIYr4ssD1qFCldx4lvZG1DQny04E1NidA7s5QoAXuwNI6BE7yfYeaN8jImxv5q6fYI0y1XFRFkijFeWOkXFCKlNvFmNeE5IDEcaM16I814O0Kdur25Fu2SNa4k1EydussR1HNcsY6opVKy1RFZlcNRQTKRmu161-GGcbNc1J1PSZ14FF13ZElNcFW-Gd15FENT1-1OVpQpEh0el2M+1Sky1mE-11otoQNw6eEiVDQYNEcENVuUNWGMNrccthQCNStPyKNn6Ig6NlsoK6eEKR42NOauNoWcMBN35P0N8f54OJNE6ZNtFFNdM1N6EtNVEPFYMjN-kINcFIt7NGdcs+qkOYpLMkp7MCOXMPM2AIFYSvU6SZR4Zu88yfx0J5JfZDgFkaSUSMS+Z5gY92qDAESPCdWSm-dlBH+KxWQuy+q5409PdTMkWTZc4zoqecw85sQcwE4rGDQqeHIx9MQHIZ9eWqeCE198Fd9B9ox6iT96iL9L8ox5sHO85v9mQ-o59RQqewUPC5Avg85YD8cwVBowDhQqeCN19CNfY8DsQqeNwVuTcLAhgExmDqg2DnmKwaDMQqecVT9sQWp3AQWF6LiCVsDJDe9YI4I7kFDMQVDoANDAIeKLiXkDD99ox960wHDXDPDoAkInDMQjDqewAbDBgFpnD5uYjYA-Dr9c44IAApHIyI0o6AC4ho5I6ANI6MRbhQzo7QxDUFgI+owAITCRmMKOiN6OgB2NAhWNqPMOOXaOOO6MuLOUxDuPf3qOOUAhsPmPcPOMhMBPGPqM4rePUO+OgB4rRPWPMM4qhPcBFDhNiPpMpMeMQg2NyPOOFARMxA2OxAqnOhOib1d3j2xKTKjWRYhinpzDcBb2ZI73VOhbtP1PZJ+wsAABWdpTTKwp6yIF6D9tT2q85TBuyjDRQPTvdRoToyFVIize+Usu9Kuqezy85zy8zZWqekAdAao08kDmTxzpzjqBz+WGDVABDsAkA19+DDAjzNzbGdzWDAAok-S818+82sqngAHLkBAtyMgtAu23PxdMoXrPFT76NOAjNPUHCgRNsXypwtQb77ko1MRJ1NSosKHYIpIujMosXqzObg8BTM90bPup4WN74mpLUsdOTLfLLLqIbkpKz2MDiikAiJXQDPkB5hvq9SaAa3biLNz0cCtyL1dL8a6IctHBFDCUzH8ROyXV61ggbmiVhkau9nit9jcLkb6CLNSIy3u09KYuEsdqO2zpGvoymsNP4CDPDPcCfVUt4sz20vcUAuxA+0bzQ16sB36ocACD+tiBfByX2G629mwZqv+1sIrP13Jjimw7N2cyYAYDykuAnkUCmAMDQIfBVQ3CkB4LX7NiNm-347TiXkTSYyOhjxvUClZCA11tPhyjtUMCdXUiUCx4FW1tAzYRjzNADv1vsmAqiw3AALTL2lmqx47EsWCDKDKChUZCEpGCBLLu6OeYJVErLsQ3gixWlCHtfUdUZXkBbsF0TiHuTHzsHkODXzGBzvZ7LJWq6J86PuFgRD-hBkOK9vLQZXggQgZWTvrzGAztSinrvsPsTTGCBL5LRrtXWDggcUqh0CftMBkAKBEr5IbkANZC6KNue5-0hj-wq6EegCG7STlKvE7URiEfhAk7G7Ns4c7ThCuOiTFDwghilBd4jAUcGnghce6kLm9sXsgSFuxQlt4KEc2U0fUl8K7wUdUcTjmxBwMkJ5Ke4dFUGVAfdswcFotTKzYeHRBKsf95NV9ixXdt+70HqcNMOFJwMeWehjWcZUGcQXGd8esmd5mcMcdtjLwjaScIecAxiSgjznEreoYfGc6fTD-ykyycBjRewdheP3cAq6me4dO0EfafcCheYekA8Skd9x5Xmc8eiQADk3b2K7V1XJXvVn8hHqHKXhnBbBYpAn80CnXeH21WQ-01b3n+g3XgThzoxQgwgHVwQHVdkGeVJbgaYHVLKHA8IcXMkoXQ3I3ANneW3+X6HqXhXxXKwTy+3hnm3HXVj94WQu3rXEFW3uhbkgrwrygorIEw+W8HgvWf5MivXeJkVinecm8RHqeCn9+tMDnjJIBQPV7RQp6T36wL31Amgi2H3sCbg8HBS33hA-eJXangeQPFXqeXHmevNdn+PP3w7NphAD35gI3W2TiyMV88gaPiKP3QG7Yf3BJ-CQPG1eaDT91QIIYtnAcDuGn+BWPUmMQNTn3C3AyQSjIp6dPjizAjPqPvWGPrP2PmNI0Zrxtgnj9FXpMh0avsvTcCH8qTBJvxgcv5va3Skuvx2B779hvzPvWleQSJXDv2mB78PIrSPb3VEwXMkpMXvHsMPhQcPQrCPr3KPrv6Pr7EvdvvcIf-P5FbTcf1vZvBSwWAapSHPDuPPPaI0RP85wvAeAMPPWa8dRfE6m8JmXNVKjqJAEvlbOuS4BPyXh0Hf8XFiVim8oddi-yjnQKJAk9ObNy8xQPrfV87fP3FX75c-x3vfXy-fyNg-Lgw-J5SG7pjeC3mkVUlA+ArULUAwFQQFbPphAkTfFfbPgn5oi3LXp-Tce-sUnBU-l-gFwci5mzifNPLxPULfD-i8S3KZlV+QnHfnLixZSw+oEiVfohW9So0wyPUBgOoBEAcBSAu0AokQFEQX9QawGa6NOEL6yZiwoWT6A5mOgPlvoRNGRLTEYqu15azuZ5LdG2hQsSgCA8OgMmQGoDhA6ArHrQN4q3UQshAT+J9F2yfRJeWNEpEGlJhEDDII0UmLkGEFDcee3ARQZ-AX5a8y6ufYgWhgEh1810zNX9kIJwHY8-+PbQIH9D+5iUKgMDLsGyBsEQNK8hgUkNP0VqGAEiFXBwb4CcHEgngJXI3vsQSLh9KG27Xtv0AUBWCwyXgrsGEMsGYQgh7rJZNEIGTODx2sBRcny36CZJkhRgewQREcEpCXBQA-4jtXcFEdkhzsXwZTwCEjAyhwQ9hro2qDKwNS2Q-Id4MGAVDnBTweoaGCeAXoKc4QsiGUMGp24BhlgmQPHHNQosR61IDchMKoBowkEFg7DmMIiFjMZhEwFrvMMoCLDVhc7cIb9zcGxCjuB1IzLjwyEtCWoOQwyE9WOEAs+hETbYbsOOH7C4hWJZYX-gb4sQOImqBgJgy4gcRuAa8TuHTEbLJ1BOMgOsLUFioVdwQkIvYNCJK6AJh4gI1iFQHCAVdk6MQXHqkAAEcQMRyXHVgMiFAEtQQbCVEcCP4FgwcRM-MaPiMo5G4wkS4YEURx+ElE-hVALiBGHxE9CDQEYFkbyJggLD2R-wtysb3RGCilkh0AUYkOgh0xKecIqEZNzMH3kI2kgHKHsO1LFDSYCjB4XiiMyjlzAagEwF4CbiMB7++-POBaNRDcA6eqIunqCKmwoVRR0RORM0kZBsikgHIziG5TtFUBAkL-ZwG6zKzbgHRdAowS6PuQHt4RHASbhVzOFL9VRobDUS8MjFujTkholUBBXagowTW6I6fmV3FF2xMx4gAcHsO6BshugRQ8kOeF3rpQcQlYvwO2TgrvgKgvqCjOEEIwc4vqhgMwTmMZ5Eh-YeYjIk6KpDdBGQRYpLM7gAHdBOxnHWKs0G6AhtJAoAXygAAkvmDAAAILgBwAXzAAEq+VIAAAeSBbIAgQuFbNiDEkBqBn+GkP9MOM1RUiv2Rg3gNmI-DIxHxJRIjulG5YVBkY7vQMTyU9F1ISuv4zoOqiAnvAWu4EzIHeLTD+YNy64zcTuL3GHiTxZ4mCQOH7GAT7x-mECRuV-F7D+xDAQcbEQIkWRrRzgdyKsIgGdl2o8Ey0fRhAnPiNyqwn6JMNPSLJgRoVXFKVmNEkIzRjE-hDxPMiTgdhJRVifUIqo+jhJ+E4UUkFYnPpQ2cQDIC1FyAOBlYjIAAAz0tAUNQeyNETUmc8aSsUagIMAejGSNJGQxkMt3Unh0tJCVPEH5BGh2TrkmksgC10EwGSCB9bKmMDDcmg8zJvoRsqTHAFtMlwgUuqgD0YDmScu-kodmYMCCPpfJDoVINUGyBqTdojSYyUFKqjmScKlVIyRwBMkxTZ6FkvyN4jCEtR7InQPBO-xDBMoABU-QyKUG8lFTy2N-QgAEFynRTE45U-TAl1n7Y9WphlaqQwFqlsA8EXfCnpKMNLEAapdU36raB56DSqeJmASoEEWlTTMpzYMwRUBIAiBUggPGgQNEHa4xHR5IKqVtImlLSXxrYfAc1I9QuEykyIrIJ1JljPSJwj0JUvQPjAyZ+MdmcgXdC+iMAiarEv6ZtReJMCWArAg6pCMIiJDwwN0yaXglEEGxYZZdEGv+G0FyDncMggkdBFKDjTUZyguUExxJlLT3ySfE0iDBkrEB6B66IwZTJ2lA8zBRI2egHHFg7wNoH0gaGwFYmoo7MFAsQMDO2jcs06QcPmUJUbQGAyBHHfZhLRGgOBUq3oriOjJujiDgxIY-mRDIta58g0AAtcL+DWR4BIQ5s3NKQJFliyroVA9OgLTxi8V6BI0eWSJGeSjSVZfVNWW5Q+myiYgGs1tFrKwD-gQ5MQOmIZGMioxjWfMh2TLMkF6hXwB08jMdKTgOzpZjFJimbItmxoJ0iohEcqOZoAyc5XqIkQlNxixzwxINL4W5E9m4hRRJrBcHeEulwVwRqkGMYiOS55zYxQfJSG9IbltNSQmIm+DSLxEJELWbAjmSSO5mGINohARuaxJHkTQTWLgirpPK5ngUZ5jwQgHeDnmCzQAWcyEDSNJhzyDcjItvnSMHnJda53s5aVkBPlzS-Wnebeb6wNDXz65xvBITrOmDG9SQD87cPKJK5dzoRfYw5GpLNRiZfuIAi-GJj3JqSx+C5OOG+N3h2SNyTBFBQeTcmcEUFrggEpAU7zoLge43NgLVN8CKkCw3HJfkwQjAEKzBXLdeHZN2m4w-REkxSaADDG8UhZoWOOIzmKnxQLwKUzqelKTgoK3MoWa+VGMF4Tg35nI30Rdxn4sK6Af8yDIgpALcKqMKCpRbEHYVgwXJE6cRemIyhtylRPctgQmJ75ip2uZAT+JgvrJqLGAGi-jEmPVFfYXh+imkBmOUkrjkJDAfcZZAAAyXzc8ejQ5x6TOyN4ghnZPvgsTHZBMYoW+Jaj9ivxSQH8dhI-GV5IlSS0CUv1glMI1J98A8jkt4X5LGy3i3xQEvABYSQIOEgZBkoImNl2J9rQYIsiIkvCSJZEzJS-Nc52SaJxw+EPUJaXLCIQxPeQmpJ6XLDVutCxlkUsyWCzih7E7YVxO3B2SL0pWOhbwsYURSFFUkxZDJNvG1KFJiimJY6BVFSsWoI3YbnIuiXk07h9S44RxKoCLLpg4IvFIZAaVkYohbQqUPxjVBy8oJ98ZhU+KOWdKDAujLlhkoBWSSgV8za5R8PZnKpLFnXC5VYufFLCDhnClCq0HGZAh6x1-JFT1wsgWKRusdJStDP5xfhMVCSEToYjFglTzlI3FFasJFTNAKVTOb-ouhu4wqDhICv8SjAdDDjfuhY7vPiMY5E4+4AAycSWI+DBAT+UEiWYkqon0BdoQafsXyoVV1I5a54ccUCDaVZghxaqsuueBXaWIFsaq1FX9BJY9IBl4QnEJRKgljLwhxKhZvwBtXzc8J9Ae1X9EjJ9hEuUE7gHqJUCJBkpIEU1Yypz5FzIUHZKWof0CC8K5VH4xhdlO6YHLGQbwFRcgqyl+RlVH4vlQRI1WhYtV7oD8aRN1XkSDlBqrhYGoWxuTVhFq5+Far+gurwQ3S2iWXVKiNrm1vS8PqTDsl+rdGRqoNbGtDVV8SkxEDdCBSf5uTggckq0VBN+4ML9V488eIIGEA1KwF+qkrk-zVV7Y3VdSR-iuunVOdZ1qKKVTGtNXfR5Vs60RShQ9i-Kd1u9bxahIPFHjTxFS8kA+t3FPqMJQSn1Tut7UXob1B68lHBXBAYgUOkaliBOrAXYLiIJ6lqG5PPXxqRFNY0LABsiWMhSl-iwJX5Aw3lKPRkUtSX+oiaoa8lU4r1CBq8Bgbq5CpANn7TeADNWWSKQ4W8UY1bDU6dG+aFjwXYkrmO5-QgOSk-LmBji7GlEJry42HkrunGg8hhmhrBR6N2SSTTgp2osbwNX5dtN+hSBybTACm4oTNL40YK5EvmDTfNFE0bkNB-GkCjUDEDCwBk5yxjReW7zKaqN4-OgAM3wAZThNpgK1Jyr+i-d0KuIDzfwgC0eUZI3mhQCVzo1ubhFBmqVJpsXRBbgVMQQlRdwYwgQAtX-WLbWmDllZQtwpNtWnhEAdUktVi+chFuqArNvEsmyLepiM0iaGVNy4odJr9qybWWzWkTURzMVGRC1zQrIVcM+VNLtwRWxFZsVa1aaRt6aI5Wap4iQQGg-qyrRlOOJjb74i2hZLhBpq507h9MPLdNwJXwqiVQIjTZFvK36TiAVmiREEjq0fDblyw+5VMOxA7L8a3DLLa2D65-ldtyWyzdZoRVNdzemioCMtGTEuLBl8o2wKtvTjUh-tziybfTWpGhzDMHOabYtXW2wrZoeW2boVre3FaH0J24WEduFoASV2sA3AZXRSyr9w2kbH4EGyXIqtHuUfP3sjwNjnaJtjKosKTTuULLqCikZ5YpBRgmB+AAMdSMwGgGEpPqWXbPs+L-ndRaYSjRIcHRzDaydZVkGyH8hJhUAzpoKTqsHNDmFBwQvvRHvTsD448DKTiw-oDutXhzaZRmGHjlteh5bddMfaaOjoJRaAvt85O3f7y7QrNzwNwRntAwgaMgAAnCcAq3sQYGUOsTcHpCih72JGORGp3CTw6C8+NHI4V9P+nV9XwLgA0tpMDqxBfdn8SrpVwshoAi9jq1PSOsMi56huHwCQQ0Fz2TbZ6ysV4REKgLyoXAXkasgYIro56Q9EDOvTHo3ZHwfd3eoLLQuIUQMyF-OyuNKou1orihoWm3c6rTyj7SFzKchTtqd1nKLukXJfePtx1UoreX2t8Oh34CrgyA7sQxNc3RVUhWgjIJXr4AZ5M8ZeUS1LoftKiAcjgEy8kK+BiSkAz9ZzFxqpEMTaUtIctCvSw08hUtH9bCi7oWtf2uJWGCIRdTEAr0Fc6VxwaTNXwiAMRXwpqw-sfybgrqpQrQFPbEEg0lSp1W6zdbKs4JEGy6X+0-drUdT-6gQYxBEVLGPwJ7CgoBzyNwaZAITzAp-WoHAe4O+R0DI69dOGpr1D6IQ3BngyNwvDuLLUQh4Q2XVr17DXldyx5f-Ie04oXqKB5LbKIF374YBAMVoOLoMBy6QYujOWMCsG1ddM8EOk3VDoNF-4q5V4zYkIEMD2QCc1QUqImoxU365FyvZxA-pZ55izuPh-gG-o-2QYqQcMXerYeG72HOoAOpwxzikwK03icRojuCDshHwfRAHYEeQCkj-gTuGHc5YYaF0SJTDPG6HU+j9UWH+yETaw+zKjlhkSRlIMkTXD5mUigVl+gQGQKBCiC7ZUsttsDDjncbWxn4KUOIJE6lzuj-ooFTZRAk3yA57WLWWiJBHhiIo++85ZV2tH6AdZAAHSwDzr3lAyXAzIGCDYdLdnDBJnKGggF7RI3+s-T0SdA7Hktexl-gcZDHHHTjh0840f0uNFc8xY0XgKuHlQ9BSYYJ0AAAC9KWoAY40UEaVMBATVxyXbcdhMWdn4jx8EM8fAqvGTgUEBqKnQ8NeHpwexs4yiZ+honHGGXcbh1RYAdVlAHVSbpMEq5Og8A7xqxfoApP-GqTQJ7DrSaYYQgijlpJkyydW44nfIQAA')">function extend_if_consistent(variable, dat, frame) {
    const binding = binding_in_frame(variable, frame);
    return is_undefined(binding)
           ? extend(variable, dat, frame)
           : pattern_match(binding_value(binding), dat, frame);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p23' class='permalink'></a><p>
      If there is no binding for the variable in the frame, we simply add
      the binding of the variable to the data.  Otherwise we match, in the
      frame, the data against the value of the variable in the frame.  If
      the stored value contains only constants, as it must if it was stored
      during pattern matching by
      
	<span style="color:green"><kbd>extend-if-consistent</kbd>,</span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>,
	</span>
      
      then the match simply tests whether the stored and new values are the
      same.  If so, it returns the unmodified frame; if not, it returns a failure
      indication.  The stored value may, however, contain pattern variables
      if it was stored during unification (see
      section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>). The recursive match of the
      stored pattern against the new data will add or check bindings for the
      variables in this pattern.  For example, suppose we have a frame in which
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is unbound, and we wish to augment this frame by a binding of
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>(f b)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>.
	</span>
      
      We look up
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and find that it is bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      This leads us to match
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      against the proposed new value
      
	<span style="color:green"><kbd>(f b)</kbd></span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>
	</span>
      
      in the same frame.  Eventually this match extends the frame by adding a
      binding of
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      to
      
	<span style="color:green"><kbd>b</kbd>.</span>
	<span style="color:blue"><kbd>"b"</kbd>.</span>
      
      
	<span style="color:green"><kbd>?X</kbd></span>
	<span style="color:blue">The variable <kbd>x</kbd>
	</span>
      
      remains bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      We never modify a stored binding and we never store more than one binding
      for a given variable.
    </p></div>

    <div class='permalink'>
<a name='p24' class='permalink'></a><p>
      The
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      used by
      
	<span style="color:green"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue">
	<kbd>extend_if_consistent</kbd></span>
      
      to manipulate bindings are defined in
      section&nbsp;<REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	
      <div class='permalink'>
        <a name='h7' class='permalink'></a><h2>
    
	  Patterns with dotted tails
	</h2></div>

	
	<div class='permalink'>
<a name='p25' class='permalink'></a><p>
	  If a pattern contains a dot followed by a pattern variable, the
	  pattern variable matches the rest of the data list (rather than the
	  next element of the data list), just as one would expect with the
	  dotted-tail notation described in
	  exercise&nbsp;<REF NAME="ex:dotted-arglist"><a class="superscript" id="4.4.4-ex-link-2.20" href="./2.2.1.html#ex_2.20">2.20</a></REF>. Although the pattern
	  matcher we have just implemented doesn't look for dots, it does
	  behave as we want.  This is because the Lisp
	  <kbd>read</kbd> primitive, which is used by
	  <kbd>query-driver-loop</kbd> to read the query
	  and represent it as a list structure, treats dots in a special way.
	</p></div>

	<div class='permalink'>
<a name='p26' class='permalink'></a><p>
	  
	  
	  When <kbd>read</kbd> sees a dot, instead of making
	  the next item be the
	  next element of a list (the <kbd>car</kbd> of a
	  <kbd>cons</kbd> whose
	  <kbd>cdr</kbd> will be the rest of the list) it
	  makes the next item be the <kbd>cdr</kbd> of the
	  list structure.  For example, the list structure produced by
	  <kbd>read</kbd> for the pattern
	  <kbd>(computer ?type)</kbd> could be constructed
	  by evaluating the expression
	  <kbd>(cons 'computer (cons '?type '()))</kbd>,
	  and that for <kbd>(computer ?type)</kbd> could be
	  constructed by evaluating the expression
	  <kbd>(cons 'computer '?type)</kbd>.
	</p></div>

	<div class='permalink'>
<a name='p27' class='permalink'></a><p>
	  Thus, as <kbd>pattern-match</kbd> recursively
	  compares <kbd>car</kbd>s and
	  <kbd>cdr</kbd>s of a data list and a pattern that
	  had a dot, it eventually matches the variable after the dot (which is
	  a <kbd>cdr</kbd> of the pattern) against a sublist
	  of the data list, binding the variable to that list.  For example,
	  matching the pattern <kbd>(computer ?type)</kbd>
	  against <kbd>(computer programmer trainee)</kbd>
	  will match <kbd>?type</kbd> against the list
	  <kbd>(programmer trainee)</kbd>.
	  
	  
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<span class='comment'>
	  Dotted tail notation is unnecessary in the JavaScript edition. We
	  simply use the <kbd>pair</kbd> constructor
	  rather than the <kbd>list</kbd> constructor
	  when we want to refer to the rest of a list, as shown in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  See also section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
	</span>
      </span></td></tr></table>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.4' class='permalink'></a><h1>
    4.4.4.4&nbsp;&nbsp;&nbsp;Rules and Unification</h1></div>
    
    
    <div class='permalink'>
<a name='p28' class='permalink'></a><p>
      
      
	<span style="color:green"><kbd>Apply-rules</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_rules</kbd>
	</span>
      
      is the rule analog of
      
	<span style="color:green"><kbd>find-assertions</kbd></span>
	<span style="color:blue"><kbd>find_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>).  It takes as input a
      pattern and a frame, and it forms a stream of extension frames by applying
      rules from the data base.
      
	<span style="color:green"><kbd>Stream-flatmap</kbd></span>
	<span style="color:blue">
	  The function <kbd>stream_flatmap</kbd>
	</span>
      
      maps
      
	<span style="color:green"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      down the stream of possibly applicable rules (selected by
      
	<span style="color:green"><kbd>fetch-rules</kbd>,</span>
	<span style="color:blue"><kbd>fetch_rules</kbd>,
	</span>
      
      section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) and combines the resulting
      streams of frames.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-rules pattern frame)
  (stream-flatmap (lambda (rule)
                    (apply-a-rule rule pattern frame))
                  (fetch-rules pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nw8akEx2abEShEEYMDKgAAMXU5SJohCYAHcOAxnVxeKJyMQKYMOORZMLiRHXe7Rl7w+MOGnVaAANSgeRdYkbUlO7O5j1w-2DUBYgDW0yDoYmLAY5BYACNxjI2x3u+NlFnpgVo7GAwmBMnjKKaFdIgAiNyL5QLmQjyPccdx6hT5TWvvtzs9pgwzocrAgUC4rmEWg3hiUNgQGDwJCoNDyNCaHC3gPbNY0YeiwDiumw3DUPwpAzkYc6AbsbBdqMMjgZBQbDLooAAD7YdqRg7GCKoAOaoc+6HQVhuH4QhXaUJQ7yEGREFQZhOF4U04p7MxFFscY1GcdYRAiLgKpzGhrEwTW-51sBoygRwbaiPgTA8ZJhKuCKZZbBJGGkDWtbIjsVTEcRPjRvQZRsKQB4xJULDEbB6ybJY1jrvQ1m6AAZF5oC6vqnkZOk6SgKQdkmQZMlGdYhDsKpumUaspYuQhJlmUIFmkGpenKIusVsEwi4Xr0UU0LQEhIQxHCULgNhxdliVErO2k0P5MiHglmHFX+-QAY2o60LQ5DEYQBXDPSJHKEwAAe3DMINgxOfBmUyIuLALSNY2kKuKKTaAM1zUwC3UN1pUIetQ2bdBDVsU1cEtalDnpRwK2dTZoBrRto3QUV0m9XWF3Dd9wy+BVdFgeR6lJc1KVtYecPVDdMHnn9iIA19W2KaBKkcAd81DdQSNLQ9CNQu1iNvSjl5nTsIjEOIDC7kxHkwdD90pcZT3mVYWUs7lrr3lUIN0wzTNFexNGc6Z3OWXzH39ie2Yi+2Yu6NRJX-ciyuM5O5WVTagV3fBpMOCbVnI3ahk0NrTNY8p0x40dBPM5irNGyTtyHoeLNU-CNNAewXYCCwuOzfjgzm7B8FS89K1y4u4hIcHoeHcdhC-RyZ2J0HIdhIzBUerQkds-BTJyGDVU1XVBXKGbPuW1ngfJ3RAgSMX7uw57iPe67vs9Wj0Vhi1NIUkwW3t0k0fWGlMu867uVziPIxbRnGsDzQi+O2nE8w+Wde991VsIQLAjkAGoE77vYrT1zGU8+b-PUKf5+iCn4fUOLAmNDHs8Px9J9n0GApego8V6nU1jQABL8OCHVPhOVSPsS4PUykPXAf8nCozvKAKBQDX4C1oEwAAjipcaiCO7lhQcwNBcsdCYIAjg6gClQIelihQKYl9nIUJ5qgv+ABmQ+-tfBEJIcQBBvckEcxvtLO+st54fQIcQ-gojV5H36kIxRJAxHWQJBIrhllFwKJEYVfErsCR0LrIYpR0wQHL2gkXMhxhJ4ez1OTMm9dzHcgiPQJeY9rosx0eQrYbV-HgPXusbxNjfHDHsaYqOD0e7aNCVgnYY9uCkAkOoox5sAlOMkbsSUISPGuReutUgPjx4hN0dffJDgEmkAJAIiBtFRCUGIA2DhnDqkzxkXPayuUeytIbCos6Ay2kcBbm3MhWlO4uLqZbI+OwxwxiZhwqe9lpEvXvvHJZE5BjDKaaVN+TsI5TKvq1LubiD5FNAO2YiRy04xMNrkveFzamI3ro0sJOx+wyAOsTPJ3TNmWQOrlFcnysHMHytMBWg4joJiYiOJy+DHSbh2bbRMXoWxhgjGiyciZ-AlmMGdXI0xgygXaX8tmgQ1k-MpTRUAHg1FYphaeX5s1hw4qjMsvF056XKjcuESIfz6UeHXCSjgZLRDtLan8w0QJXDisle0w8sqZSNBCAdQlRhejJXLIq8lG5nSH2vJQPgOt4xVFPGufAjoWCCFAGZUgV4wC4CfC+YgUQeAelALw0AcgmBYN4WgIN-D+5YIuq0mQTYJDDgDZQBgAgcm6uqfKDccaE0Ehoh4YSTBRJBgEDRDVxCL7RtrrcNqzBXQZvPPShlflbiVvjYmtV6qbmDUjaW0KiNG3VvBX1FgTZ7KsqRdQegoAWmxlfpa8YXoVqLgAFTTqYPOjOrgs70QbPgZk0aOBKFADulYd1AjIroPgLsS6vQRuIFGpgGS92HgnQpJd7J6jkFwH6nYOa81zFoGe59Tl6jwS-WJAQWrAjdH2qIAhVL6gnp7QIS97br0HoPO8v9sKX1NDWcB-Naaq28vlYEbNghc0gdrckEIh54MXnqDq4wdGjA03vKMLKO690odAEpFSAHjAnt-ee2FiHaAdtvbu1DZNH1TowzRlIb6P1CRI9+uI6HTwwhgykAhZSH2tKfbCuohHAjrhWmxtcgqb0ZM0MoLjZ45UGZSNpydQ7xhU1o5B6DR7YOjpRemhDIUr3mY4JZrtbiVPOZk9-d9MhP2KZA3hptamPOgAAJD1E0-ZELAmrVYBS3ZwzZn1wces7Z3L9RvahZsxeHL2q3NMHU40NLVGfNWexmeMDtHFQMdAJ1s6p9aBhFIB6mQbAePs3LC+YKIUE4bq3YucjdaWmUE3dwObIRxvBQ+iqAhDBtpzaMB4TbLHdtKn2gwJ8kQ2C5QAKqEAbIQSgwYaCmvkgBAAtC9rtp5V30emeWXr-WPUGRPU981e4L0hTUUuglWAT2Oq9MD22kOpuLZmxeE93AbVw7NQj2Fq0DvbYzqogd0wuwqlPoQUiLKhycZa-88s65KdMGa-bJJAESeCBIljAcrK2dk8clS42tweckRZ3WIX5O7YqRkGLvnR74KHmlyL5E0v4UcFdfVBnyg1cFVp1sfzGvHxxUVzQGaVJZD6+s5r-OZ5+cPXXGo6XR4udU6K5bw3kUmkiEKIm6qTEQXU6d4zg32uqXEuYKSg11vEsEUi989svyEv0rk784tDh9c2bqw0OX4YmBtZSBBsQ7ndsnq7F6ZXKpVdW9+a77XufGjYZi7hrsLaSseFwKBAhR2KOhTDxKg1yvrNS8w40XoSX89Qdq1H6lD0djrmt7tjw+qpU3Bcen3C3emDh6XyqmEu2Qht-H7XrraxOtZ4373pffz3dhJN-wIQb6YGUAWqy83oFq+R7WMX0nJFS9f-F+XrXqk+uAB4W2wkW0uoAAAhOtjhtICNp0jQEQG+hkliANlEFLr-ncgPgrsoJ3o0EpG-p0KAMfjVqAfJpzkeKIAliVsYNePOnQYqJ-uzuTj-kwXcv-pXvgUHq1oqPBOAVASFDAQWoCMRkgYyBSINhrrgSkP3i1ugawfcElooYxlbs3ikBqtNKbo7orIHpwcAWBmPtBknp7rftYITJwUASoRpLQfQYBg9IuG3lCNIIuPoSQZPvBDfoIFoXptTqIAQfodTE0ogbgMgeIWgdwHutwEFsATbilAAUFJNg4eMAILNvUB4PYdUE4YqEWvgBfOEWuDoIqK3lblkQhD8uEboIUftBobfgmLVJBE-r2HkaEFESoSUbHpEJERUakVUabrUQ-g0apJEWuHutEaANYfOm0QKtcOUaAD5AhOuJ0ZUUESEaga4g4OUfptQYeJ0ZsSVssWIasW1BsVIfKkcToLsdQY0MAaoUYCEOkY4ckVflgkNOTg6HuGCBaNNDrvOGZtNMoMaKAPKH2nWDsCOGUKAo1D9l0rfECnPBCcMAvM6PsmEgLPTPgM7Ias5jES8rMt2kakbhWMTpQK3Jie-smsUqml7HiWFjcfNvfGtKIGShINPNnkVCUWbFRvicCciGOBkiHGCSOMoIogwBkv1iwkKSpCKRXoblSievTKwNSCOJmPwHFJztodYCqKSSASevsfNHYI6CFLWvsSgYNsKaKRSOKSca4KicpBifKXatis5hcdQWadKTXlCQgYQKIXqaIAaetvcUkSkbKICXsCUUwFxqPBwGaaSeMsSW3PaYqUas6fViRG8dSB8ewDILqUdPqfMmdOidMKTjNDIP1t8QhEROTsvrIKWdyTQI6uaJmdGuxreoeh-l5nQF6I6uZs2RILQh6QhIIXILoHKHsMdrQE8QBEWdNBwDujVCWRSCOoLPurel6EcQuWBjSnHtGsOR9CuMdtGgZA6KAAACoAASAAohwAAEqXYAAy55yAIU8ofoZ0uAGwHqjpR085vIFgBB2JWwBZ8KIg0035LCtJHg9ZU5PgI4RcYpowhAtJIQ9ZoEr8MFUOa8WCyF9gn5RcZZZ5l5N5954A1ykFJG000FzosFFp8FZZGZ+QvAt+Mg5G9ZdFUWZFM5omc5cFFgxW1Bi4I4L2dFRUyZKQLFtIq0K4iJ4wgltIRUxqLqECD4rqz4r4cAiAyA6A348gYaAE4Z2Mo8SMU0hAEwcSeSckjMEMLEektJe246Z88kr8A+lM+E-K1c8UkM1l+EHgC2S2oM+sEuCCFcr8VcUKRMRlJlLlCENsAYRMXl+0SkxQ9MKsMVb04VNlx2iyGM10zljQHgelr8gMV040qV+0xl6VrlDCsUllvEMEcV+VOYT8gCjC1VkkaVkVOw2cycW8dpHllEcVaipUMgnVucKsBcowRclMIluWw1sZJJk1pVEVrahEwiVisVuV8VwCK1mi-qGioi5SdiYVC15VzSgya1DQeVCVoy7SJV-Ai1DQrli8kS48OV51G1qFw8T12VvVCJR17V1guKEcL13RvJvyEZIwLI689yPVVllEaVU1DQKCVc1mRctyUNgwE131MEaVx1owZ2hlH012t292ZUEgwwLA00oAb2b1ORIwKiR8INuIygtySa0eZBc05AbAgCnwg1uICeyQ8EvJMCHYnNbC0wPNrINyDAxEZiSQBhtWSeOwEkwkquECENfNx67ZPpBp1NBlhyEyat8N1BHhQgt1EQ1A48VpgIhyeccUhcBtltTQzNhtlxjGECuMxlZtwMWUvNQ+ZyCEi8A+Wt6VxgHgAdLWDVrw40QdtaIQghWqct6muN8aENV2N2d2D2N4TS6SfAlN72vJX2R+fsTSiNtUyNbK3AtAaVMGpc2ItyGQ2Q+VNNqktycNVRFdtZb1Edz8uC+Nt1ZZxk4YYUbcjdBllVCksC3K7lMNmE2NWaOt4NY9eCo6W1WU81fdha897l7O0CzC8FcY7Ca9ZVE5dY9Vli21-iVdR6Ct1gqS6SmSq1IScBQGDe0gLhBe8tMeAcESVQtipCsScB5Jm9OIXiZSn1f9iSigfdb94+GeJ6okDA391kAVXo9KI94N8D398JvS9SCQUDio19Q8LkAVwDCDoDrsAV6tdeD0GDZDSD1mh+Cdk+gDp9W1oiTFBm80ZDWDjyODkDR9HWx+ARYSJdHARAhVuGUKLNo2WwZcHA9dH086YjX00gK6ygkjHdtAsY1IboZS0V6NRMVKBDZ9bDlMcBfGpiXoxj1iP9US9SRMh+ayt9GSVj2SwdRw8oK2NyDFnhmjDpOjiVosAYRcND+14DODvFuWvj2jNqATyV+jDtrgaiLjnDoTdjj9vtjDPB0+1gejhMQNr1K0uT6ZQVRMbjIQz5gjRd1+l1E611mNl9bZS5EypetTs18ZmN2p7ZkmD4IUUT1UMTRTRcEynTS5Sjl0+aPTdl3iVcYzQMcw3TIB7hYNqkEyU01RRQptT4XtQ1OmUGztLtTQszI00gldRBBzLtfdHd9Vj1Njz19TR1-5NAaiYd9s7D8qaDqkm8YcxyeTHT2Nx9yI9V4jdz0970fdsp7Z1mXoHzMgwL0EAVaNvzoLCQR1YG4jfl4MxDcLIMes4Mh1FuqL-Z9DQjWC9VRTvdZVVK6LuLVUA+RTGLDEYVioML9L1miLTEh9JlIleD8I14pUSlbqql74GlX4waOlIJLJkuXxjztE9EjEMg0rc9FNE23eKkZzraSdkQfxH0dEDECpbdAaIwAgsaoi5AUwAgQQdNZ0A1qtNtY1CDygqzDzsuyC9JStRQpUq4u2drGw41jrcZaV1yitkMytPN-dUisc98uAj8LEobECyJWC1to1vrCDOIZZlCuaOIygGCmcBybt+tuA6b3CVCWboAfZGFAEhymz5t10hbMrGbaC0bPqHdzzw8Tl1AVIbs-Zc6LzKkO0AsnbBJoJbbshRWMrP8PSFBKkC8I79sCbAEvbLoHb10Y7LrMysgh4RWVzJALSLxdy1b2z4La7eqiMPLR8ITABvylLx7QStwZ7Z0Siu7xObcABl9mkgD64r7hLvQJ6YUDsEEd9B7W0mKewL5TSA1leNLezPhKkUj8BoQZmUHpzyNBJABDLUGOIKh+g77ftbUehubYSaHZd0RegOH0jNAh4+HVTpL6zJtHtWzFSQVyH7ejr60Ds173b-AxEYU5c+sOiKr4w5OPHSkmaTQoqZmEH9USHTOBIrHBC7td19146XHPHSHugAAPMp0J2gSJ243Wpq6tMefRPWHahIJLcRPgFtA+L+lytIHcQWOqyVhWcREgbx+DDooWDtIuA5ycc5657p3pxqqdsnYuEZ5QDeCGOZ5Z3YqerZxax9D55cX58EW5wxB5x9LlIl9Qcl23AFwCzQD5Vuuh8Q1Bw02uk0rdS9PRMyEe4qGdFE6l9B7pxnoA1xAUkx3p8kHlcZVV6am85cY+4-hzkB9dJc7gSEFB-EfWi4mpycR4G1LpycRN1o2sY17J8Fqnu3r7a4J1q4EnrdVN3+7jABxkiN7dKg8F5EKVwTYQHRMJICXFAXeBq4fSnA1bl6Be5Xng4CPBA12h0h5h4bvs00ERy1sE5YQw4I8wz1wtjV-w9RwBNS0FSV0FUzmV0ShVzD9V1eyZRnvVyt9Jz4XB7YXkqmrNwZt1xML18yFIYN3uwp57ePGNwZhN0FVN8Eh153h4Glgtyxz4Z18EHQCt97B1+Jpt1Btt-Ro54EPt8ZYd3ZE4wzwx5CYCAZ9d4uNdnd-alCrnW2uM2Agwy94CG93FB9yA26apN91hg9H91buh+D0Dw7aD-bA79riATt1D37ZV7Dzj-JZnevAKypVAGpR+JpRgOK4POzSLWa2LarbzVUsUoCitIzR9FH1zYVASWn6LQmBBOMFtCsvH4EucriWTD7YDu2VnzHyrQH7OvfA8HOv5DtMYP5ECBE3OtaE30YNaK38mXOguJ3whxED3-X-SZlAP5lMPykHOm16IDtDP40G3-SX9moDtMv5IAv73-SZq535q4CIv-oigVEFwF2LQKuIf8fw+PUPv1lIuPmAP8YAq8oBICCNkBTYWGZ6ANf6tC9vf6kNq8--IwprvYP+X-BdL-z9T-8X+oACmvOlAAgDN++iYAOAMf5wCoBFNMAPAJH76IAApMgMgGADQA2AuAUYFAETZ7+KAgAc8GVbrZn+CAm-vwXIH4CqBkBGgaAPU54Cn+aA0AJpyMC0CsBN-dTukF-4UCuBgg3gaAMyAcDUBBA7IOILoGrRMgQg5QIEBEEyCQoqA+QYuAgLgDoBgQZ4EYAgLGAviDwVHBX2Frp9q+d4e3hkEVBlx-Ia4cwdn35amClylfbmm7UoBdgAAVoax6a2DsQuIeRn30cEx8doZsH2hE0MwhD3BAfC8NDjMEc0LByKO1PUlr6WQ50ghHaIIUiHnMpmN-SAIQDzRnwJATfAoUUPSQ5Dzmc6c-rAEgCd8ahkASoQc2qEUgj+55Afuf3PJNCXac6AAHIsBeh4A-ob0IF52YXBY6NwUu0FgpDrB6QfwcyHfTPA8OKLSYRHRATRJxhjoVYckJBjI0bB9QMuIsOyDhCYQDgxIdnx2E4MwOYSQWqsPFp4hzOmUMsoLXLw5oxgEgDnF4I+DrRiAHYNJP1yBCrCOa24WxgXyIDdDXAtyJ4R0ECAksAImmIrmdyyhlljaSvGtuNDmwFBGKdwt2oTytLbCvMMwtTsDy8Ze4Sy0Q2PpDU8E+CyApzfERSLWFCwykKHEkUd0V5IjD4R5I7sRBaRdgFISIyxmWG4BojtmcQvlopUfBB83w6lT8JgAj6QIO2jMMgFGVg6TgsQDAdpAznDaIRkIkQM2FqJ3zdEOSiMA0boE84cBvOhYHLlWVW6mj2SryLwqpgJLgQsQQiG2kawmjk44OAtYgMQEs52ADKcgJmr6KgEPhCwsLX0VN0XDec0i3nO4pl0LAsAQxJIlINGJMQdgvRBJIgHnAISejiITNKWqc1RrZj2wBCQkEln7LOcHOi4VaA5xdEhwCE7ouYGXGLGEAcxgeZmmpk87aBnCBHLBCWIQbTAPQdIW5NqNTSjjKieUPYEGS7wdV74o42Yl5HwhRYYo3EQ8KOLVjYRpuG7RGBuJYGTYwUlRG0QuJVbLgZx3RAdkqLKSKJ6A8YdUe0gnFNAQgK4rcDuBioLifItacUPVCrbfNt4G44OmkVrGFgBx8nYcceMLGwspa54LLk0G86Wi6AyPEKj+LdrdUI4e4wsLWngkOdQJQ40YHSDNjM0oJjkGCfmCwk9iN6uE1aGPwLH5jQAuEyoPhMNFqF5iZmR8cGSomLh++ygFaG1FHFi9iJpw+iW2NLF4SGAw2SYvyBIiCTJxAAcgQl11PO8kkotaNHHXIGJ0ZM0mOO4gFQkIKENqFpJTGNA50dqZIrlHjRec7s20XKBdBYxecRwclcCsJPbE2jDJG3GQG5IYnDjEKzk0Sa5MlK0D3JnkkSYOJVGjBn++XUAF8LbCaM-hzI8OnNFaROxy62ogGoTGFTdETJXKXZB-E1yoS-xGJP5CSLLjRSfhcUhFolNESDRaJRcVVJJNCoZTgyc6SSohP8rISCoKUnyZqjhF1hXS5UMmtOUqnJTKUV9T+q+O5QRxZU6mOBriLZ6GlUsSE2qKFV-GpxCps0SXmjifBVSCEQgZml6DLh9TSaVQQaVtKdg1TOpueeCIckm6nj++lRdcEcVOmDQfAnYstCX3WJPSdpXAQsTWnqB75Zp+sKMWP3umfSXphYkotdLmn+lSpsU8gGkgCrnijgn7AGeDGKnYgYZvwuGfFPthC0kp1U8zrVPWnMSu8yMyGtdyGnPTdpP06BoYTGkNSiZ6mZaPSRalQdqoS0+qLKhpkT5zg7hWaP4QR51hs6lvdaeOymJCp1plRGVBLL+knY8afuDXmnWJpt134FHCQHwHnZ1gB2B1Eaf2RnxmZGpXXdyQbMCBBc5Z7KG7kTQzpoTkQWs6JFayaS2TtsFqSgOMlHACARAsgHWYAyFkpSoxjs7aNcj1C7TnpTsvcPrS9m4dbgtsuxpzJ6lGRphwwTsODT9xfsiAWvIQP2A4CepBA4wBgE5DOiuhuAw9EWZPgIa0oGZTDXjO2XAIhQy81IS9inJUKH5WuCmESLFgVy4FiM6cznFnNMm5zy6BBcbtglNRtwZCrzBXO7yl7v1SCL42fBXPpTwR1whctuFLO4BCTl5q3VVIb2nmVzyObdSHh70AYbzL8cc43LRz6L4IeYK7Y8N4WDjvQSOjTMdDXNAB1yLejoqnPhxbmiMX6sgDuWJx6KMV9cd8weU+IQ4-lqQJpNAmPMlzYEVAFIPwqfLAUsIDig2frAsHgVcEyycRU8YkScLS8jgAZTIjLOES5EMFd8rosGTiJGBJJZRBcvgpDoAKig9+S+fQGuhoK4F981ojLL1nTE6FcxHhZEHIX3TqKFgFBWgW2ILkjJ9mRGOQqkXJBuKEC0IjaNLJyKSsbUWRQkyBDXESihCx4ogo9QBoGwXAakP7PQkhyAwEpcKTAgwWukH51pdspAqHi-pfSXoBRWIo8kBTrF70UxdQBwK5D5Utipuf2UcVa0oxuC5IpUQ8Yyy92aZBsnSBCU5lfSnIjYCeQvIcAAAguAHADnkryx5SAAAHlehj5EMvYGuGJt3yR-HxfeFArwU-yN7BAvJynI1KeKlRUisBRenmL9GCinyVhQKqdLR0JFDYFwGwpVLcKMrfChkqyU5K8lhS4in2IAhtKZoHSrbEE2aUIUZWYlAUFOQ4oZIuKIihCjZP6WEAZKqIe2YR1JxcAjlVFcBXUsrG0hVcGIMuORjvmWd66R2AxWMgdJVKfgFISzqZhuWYLgeb5VApcpWVdL9lBBDRsCOzCaTPFCit-HEtor3KeQTy+oNguyD0o6KW4GopqABFW0LloyjxVYvhWArdsAJQWmhVdIkrriIlf7gaEikfMwpIpIlSKQRV0VFyY6QhIEJChdkfZbkxcIyrNJPd68bc3DFyvBFz0houfaYLCvClsqDQG9cVRy2XbRIWVgUulaiA7o7ApyOOUsqLKkmVk1yyMdiKUTjxGq8yTSegPGgGhgq9w5eJpVUqcgEMdVrKR1WY3bLRovQ2y2cmgkdWH45S5gSFGUiqVxL9hJWTZRaE7SfRbVxyoSpPKMDo5WMt6Q5TGpOV5AvWgIdcFUv+JQC-Rp2eFiGvZUgFMmHvCthYlIDWrPyKuJpYighauD9lXoG0uiQjiIowMzqsirqv2WUMNaS5T1SFG9WcU0E3S-1e2TzVBqq1dFMNblgjWNlk1H0ASnGsPyJrzMUlJgGmvYAZqmg64QUn6lzWBr4Wm4ItVzKpS9ABZPJd2VWvjSgqWMZimNdqLBKOr6FtlIOZ+VhZHKfJL675X6vmUAwL1X699VSitXMBr1oc6kParIpvq71YGIHKIGDkxrJmEyzJdktyUFKilYGRDVMpQ2zLXFbEo5TmvkYMQ4NN60dIszsKLZexZa89UIAFJGpANFa4DZuHA3AUtS0G9soRpwpegJlhFB8uhrSXcbil2650PhueDsaYKpGlKIuHI2RSUkJ3COl4NVoHRvR2TGpOXRlqUayQ5vAWPJsRCqayyq8tTUfBSZabeohM9ujKxVSzQDNgiRXr1m013hdN+q1NIptQ7m9bNvUBzfUu3G6brkKTNzYiFM1KaUoFm9utciDDERR4QgaMs5plb6aO6WmygJqWM3+b5Vmq-VYryS32aMtODSohqryAlF4tmpIzdQDs12MstsnTvIKoCkkNvEWWsiIQBK3laqsLtXLdKEPjLq1oggLzpVvCn9titCWhCmUoAi2b+tPwKwA1pS1Cg0tsmvzfZpm3ZbuiUSliSqA9DvBPguK8jN1uZUhM5to22gA1pRYtbhsiQJrcCHkbDbCtR0XRmNpM27b9tx26godstjtaLJuUTbSUIWBjb+tcQs6GFoMpO0uCiKmVlipRXYhyM6K7LA0Bn6g19KIwJlW3F+1Gs4dxE8rf4sCAxKNg7xcStcWcAnajg6OitemSx2tElC5TPYPdsCCPaaw7WqyV1uWZw6doCO7gkfCWV+jk5Jc-sjCz9zcjeR-I+juiKkiIKMZ5UgfP9se3QxfuyKx5aDpB7vcsgNEFnTalUibYmRSc1SCcT4k-S38qiv1BME1wv9LaBnXXU+pdoKzLZPxR0P2F16WjssShVwIuCF1YyEZv09avjsx0ChgCG9eUIbUp0ch2tDu+GdZlp0w6ZVAUnaP7uxncY-QJ6LENOTX5mcQoAATi6A9YrA24SQHEqHIh4PcqetQHEoTAegygajOAgQzJ7GrJ8CdJPDQBVbegAGxgOPTIFkmyTcoaAFvU9x25G8mg9e4JMjGbl16c96erFfZSu73Ke4KLGgO9hzbtZD5fevrLnsH0F7TmMe4QP3oimILQITJSVkrpGjWqJt0oGVodqp02pVo6+yQJvqD3KRIyQqpmoyVP2VBs832ppBTOsDRkVQiaqzKMDohDQKhdazlV6EOkDTcZ20+coOLYqJrqxHQOSm2sixTAGAn+4ofuPkSOFhg4sSfPXsXBvZ3sT+0AGaReBgHc6P-QgoqHr0aSqthCWEF1lcKdYk8Iaita7K4Duy5gZBuAi+s3BXqv1f6o5W0w8mS9WafYD-UN3SQIGDESB7aLXqMBoGMDVNKpTcgYMIZJDb2X6BQZ3mdYS1KQCQ-IewMBTwk+pB8PIYUPxqVAK+jPZivuWorCM4O6giQfCl4qSsyulIaro8la6ddeu+RiZQhHGA3tjhugKmQx2E6BQQJFzN9jPUabSGxi2gMGBQiv6bUHKx0IQj-2eL+px0wA8lJclRHHQnnCA77RN4FRJmnhwhPiB8ME6M9ARjcsptTQAFROwZPKOF0gXf475LAWbElljohT5OL+hORQAMr5GvNFRlFn2BcPPA3DkUilZRTWW3LAGwOqXTT3lRKlngR2QWvyWdCkl-l4pUlfKmBUfk0K1KiHpeCf1I7ZJ-smQKjoAA6WAB9d4yEC0HcA8aOkF7rgGcC1MhGJvfLH4MEIM4ux6MvsfMWHH-FJxs417kqAuyrj4k+ctcHwBWYUWMaQfpEDBOgAAAXkJNAAnHAgWIooJceuN9G7jcJmCblieOLgYDn+jPl0Byx4BzedqcIyhH2PnGATqudE--x4n0kGj-SLzsQC87JEYQski8NeHeNVbKT-xtE8CbpN5Dj9XnLsMydZNyVcTv0IAA')">function apply_rules(pattern, frame) {
    return stream_flatmap(
              rule => 
                 apply_a_rule(rule, pattern, frame),
              fetch_rules(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p29' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Apply-a-rule</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_a_rule</kbd>
	</span>
      
      applies rules using the method outlined in
      section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  It first augments its
      argument frame by unifying the rule conclusion with the pattern in the
      given frame.  If this succeeds, it evaluates the rule body in this new
      frame.
    </p></div>

    <div class='permalink'>
<a name='p30' class='permalink'></a><p>
      Before any of this happens, however, the program renames all the variables
      in the rule with unique new names.  The reason for this is to prevent the
      variables for different rule applications from becoming confused with each
      other.  For instance, if two rules both use a variable named
      
	<span style="color:green"><kbd>?x</kbd>,</span>
	<span style="color:blue"><kbd>x</kbd>,</span>
      
      then each one may add a binding for
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to the frame when it is applied.  These two
      
	<span style="color:green"><kbd>?x</kbd>'s</span>
	<span style="color:blue"><kbd>x</kbd>'s</span>
      
      have nothing to do with each other, and we should not be fooled into
      thinking that the two bindings must be consistent.  Rather than rename
      variables, we could devise a more clever environment structure; however,
      the renaming approach we have chosen here is the most straightforward,
      even if not the most efficient.  (See
      exercise&nbsp;<REF NAME="ex:query-local-names"><a class="superscript" id="4.4.4-ex-link-4.87" href="./4.4.4.html#ex_4.87">4.87</a></REF>.)  Here is the
      
	<span style="color:green"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      
	<span style="color:green">procedure:</span>
	<span style="color:blue">function:</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-a-rule rule query-pattern query-frame)
 (let ((clean-rule (rename-variables-in rule)))
       (let ((unify-result
             (unify-match query-pattern
                          (conclusion clean-rule)
                          query-frame)))
   (if (eq? unify-result 'failed)
       the-empty-stream
       (qeval (rule-body clean-rule)
              (singleton-stream unify-result))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlKqu8kt0CYpi+EwmmYLK1CAFxK9KAwyAk8iw9D8-pJAeYAD6o4G+LGQg6EHIMADmCNOSIBhCMoHRmKxFkheVotAI8gYxN+-xRVJp2Le0Nw3xJ7PJvk5XNpb0YOnwfGEkn0iMFBi2e2eHxYX0oWVwZHwrNJKOMvmpoPBoHlyMIW2iT3iLzeCwJBPwOner0IelxCUI8wAFtZ7UCWm0IW8Rj0PUKAGQR0C++T6cNGNhJ0CEX2Ue2W5U2yEMeQJHVmskBkFB23p+QOp0u3G6wUVXq5-O9RVYKJZsSgA4AT1hjMotD4ULzBYF5uL5mN7Vj+gWwn5bLHLaiVtizySqQmBwOwgJDHzTHdeJlBIq+AAHopWlv4uO-GD2qoa715Nfd-vCENO0fCaeL1ft2IS4rvswabtub5krWY4mEapaQvajrOo+bqFkw9YvuBe5ks2SrWh2GE7lhTCUN2vbznqQrNCW97iNOeizksdEMVBRYbEB7biAREHEZq2qUOel74NeYgsfqsE0TG+BxvRiwyXOonkpsraPKu2ZvJK1C4NkdQiQmMGBhJ8EVoh1ZuuG9Z0AwuLMoQlAaVpJA6QwzaUhiopiuWlZIa6h6evWxSrFQ9naTMLlUm2eHiMFjkzCRPb0kselUXeJpMbJaXyQmbG4apHbRU5GpfHxAn-vEvmUZik60VJM6ycxWVAcBzyQlpsI6PI-F-kJAEskllVwXaxlVsh5X1q1eTtZ1gnCc57GRaA42TZ0jn5q4BzleOVWgEkijuvFfYDkO+YVBliWEJ62XKRxC15hNHX0joXYbfpE6lqdclnRdSnLtdkJVSRCzMO+z3JVtRleaZo2gL0-3WUD2FzblQRBlNpW6edFXUalNUfRtjW-W8lk6MIMxfCD4kmuDJkjeZ0NEyT8TqiV3XxGFbnuWWCHDT5tO9PTpO4ADGj4O+OFXfN-OM4LgnE9MOp9VjD6urIUpQ54iMgaaYjEwLNhWfgACO2oHgrr0SchKt8FDdwa88ktiOqXyuLmIgZPLGObaWFutFbtMAMz4-NOKG8b1DuxdL0pe0VPczWvMHCHAJh2LEVI9tKTWAnRtJ+HhAHJ75s+b0Weh-gn7hvnOWayXOdC-DTDrUlFj9RJ71ZVXzzSiQuJ1yLkEVwX2PSQPHc2letlw33DflfnkdbfVGOV+LaeQiLiiEF2JGJ7Euez6DA1QhQn157banvC+E+A1PZmL4P0c8kfuMD4HK9vAUtDUMk5MGZTg0QzTGN6zv0-inJqNpgHJEoA9J6pszZD1qplD2L9NaQkmLUGY384H308tTHmgDoZoOmKzU+HYOKoxZujCO+9W44wXl9Ue+ESAEnITNRuHs55vVoXVWSDVMxBzeMUPQAlbxgz-rgmsAl6yDGQc8VojZrABVKEJbQLJgi3ksriSoExlBTAKroBw6RZBWG0TUIhWhdCGB8BYa6eJ8DWCkF8L+wjI5YlEYVHozjqSin6OnDchjFFrCEReCo4xCF6MaF4rkAAuMsoYgmKAMJEmkPi4m2PsY4vQdFhEGDKEkjm5g0mUAcbgL+zFsmJPyaAGJAkrHmCiD-dohTilfzUZaHYtBFBqligsNYwwyDEGZDoUAjpCBYB2HwE4ZxqDeiUK4UAftQDunwJrP2aBVkBxUprDCH89CpC7CE5ZtASA6D3hTbBvIlitDoMc-OeSLA+IlFKGUTo7nmGqUbMmeyTo4zolco5Jy2KvPuZJaSfybkVMqTE7Z1Bdn4H2SmWSYKAUyJtOuP0SjDAuI0cQXAH91Q9IIA4EavQABUBL8AkrFr4a6uLaDJDILtPZlBPAVCZTbFxvhsWdjIHkclDhoWws3iyhF8lcXqEFuSpSophB8EWZCR50pZTuh5ZK28ootoKueToWpWIIigHwLgBOHKuRcqRfyrcOy2XzB4SqpRUr8luM1UqpFELKlYgeQwSUiqXluppDE5iLqdW+HqRYEN5hfr6xIG6JlwqrWgF4usY15guUHFtWsc1BxLVwuZda0VeKJV2pbNK2Veh5WeqeUq1NvLC1JqxAnWyzExX4qUbk31XI4kjRjcMLoPQ40Jo2K2ttHNG35vLGsS6oo9UGqNcldyprDnHIzVmzedxc2JTTQQe1HMZVyvFOW71+gXVqtAAASFFPW8smUN34FyWeodNI4lxL7UVdYg7735Pqtey6d66n6sNfgWt56iCXsuQunQFR+1Bq5GG3V1IYPXWJgcTohBpl6ASMerBiR2DJl6LS+lihehAt8D4vDDKiMWBiWcJMHBegygTlGwj96fF0ZYKM+91SSAnB6AkesABVBgyQGC0CkOIDpXSbQAFoJMIrWFS0NZyoqvGQ9My0XKxMxXqHyjgaKx2FBbFykZDh1MFXJX0UjBH9OHGIIofpRnOkaa0KZ2jkaPwtjAR2HTeQZTE0JMsEovT40vpEaWOJATyiBa1OsBh4gvOeuPO4wKOpYs+YJMFmh0lkvHhITF7z8WE16Ey4SNLJpmKFdS9F0AZWVGUAmcOPziWKi1fzMV9oAqws3uOMObL+qzzME9fVltEXtSNZWom2dW04medy759rEGgsja63wtOkpOmereCJSRgX-Phaa2N6kNjWjpJKUIjDLwS2QkEesU7vgd1CI+UsWb+qNiAa5PPcg+AoM0inf+l7NIuV5AcFVmUNXRtCIW81z77lHX7q1QV1177zA+L4F8BO5GOb+sO0UjJVX8t5C3e5KIJ7vszqI24uJia0eI5TJj5pmScZXdctTuxWPjtlI2JTqpuwUcfbyTBmDb3me0+EUtzW54+vOhlZQP415AmPc1ODvbnKrOVemwSQHqvqu7YGwF3bRbaQlrK6AAAhMmJ1TpTsaoYDKzeSQUPegKxr3HqucmgA55U+XnWIeu+DX+o1t2LvZGWLgZ7BoEfmB2CSyPeT-uq-V3FwkmvQce915DrahuTccDNzoIjHrreUFt6h2bbv3I45fQ7+PqXb0nrvbroj1TesAn0HLr4Cu9e-unQB27K3G-rZZB7x7uumigAj1H9VpZejI7nE6XoOricAdnQ08QYvG-a-C8n0bbfQBRB+vNRgeeC-28UMKxQq7PeK8VuIXb2GaOT4IDoRjXIfET8WNPvJ7yyBkyP8MG2eSkejbf2WIIkfkYL-j1uLtoIONLtuIEl-h0KfrXqKDEgHj0CfiAd4mAY3hAVLrQDLoUCfsMMKrruHmAJHiSgAZCI+urKAFGLEj2noKgaAXvnwDbhoKhsxMAW+gjuwTbJwe+kwSwXbnTtJBwcXkOnRKgbwWHu5IPgAc-lPvfiLs8NuISAQIQFoLiK0HmHoGeC1uIHEmeBUJimwAAHwSBHwoodh-RWCHjCzvi6GcxDTeRxxXzvj1jBCgLXSWSaRkA9RjBWD2HvRqLdbjDQJ+GbouJuIXK4wBr+Hs7oHEpfAOJdh2jvbNgAHvQxGbrfTbBgAcRHATKnDnBwCIDIDoC3CeCbLPD4C8TCwKSngMAZB3ygSqiOTkQKivIkYkxqiCz5aoTkivJIE8h1Z9Hw7JILQMj4ZxRkSFSRZ7TTGHTyIKQu4AiNEDFlj5QYIjEdH6qah2TLIOROR1H6oNGjFYiDFgSETAxbEcw+LVGOyvhEQoSjhkj1GrHo5lj2y5htFjjbF3GCyfFkx9GvGnG+DnGLQdTMwzRLHbE6YcR6DglS7aSrQsDrQjGSFh4ImhFonHFvHuTnE1w7zQk3E7HqgElhxLLZw7y9zvionPGAjAlrF0hipfzXHuS3G7EQJHErEgkUZliwwuGQSsnoF-Eqw0TUmCl0leg4k8lvJlhhKbGSkymgA+KTBPR-Ef7MB6BkKQm+HYncnon5IWyHQJrrTZDMI6nxC0kLhFjAlKkcZcZHG9D8aCbCbiDdhMDyBnigBSYklajCygLuacQ6JPQxAVBmmnL667pS45AJAMxuw1aRRamMAh6RJbSqnRnCCxmuzWBwmhmgDhlt5z5nZRnygSgJlIxJkMApl-bK5XgUDEAcDqm1FkKhExA5KiH5LL6er8QNHdBiDAwdm+pkLLTDhrSVntlSFurhkGmTnUqRQ9kZB9mPHjn46YZ8koz5Z1m4D9Fuo+L-QJp6x9Zuhbk7mQqgBZ61JFkL76qcZHKVl8YCZCYia7DzQbydLenSaqlyZb7KSBkLTKzGkvrrQCQHDAkcpbQ7R6BmnsCmFNmalmnAm-iKBLw75pwikAnfEvHSkREHx4j9Lehqk1GakYXRlOjoIjjWn0nSlKnKm+kakjhxa6waLbxPGUXkgMn5LVJEUMU6xSwTDbksAuzCBuxLHAmKE2gilkm7xgWzr+5vBrwbxbyUnknPy1qW5epaqz6+6d7nZvBaQ9yTzAyqXXk0hbRwU6hdwGUCkmy3xlDclaUd61pcqWWXyegzHagOBEbmVandBWW2H9y2X2V5JyWingjuUWW+WuW2T9rXYX67CRUAxuUJqQ5Xmk6liSXbzkkc7jzinTwDx2UnEpVwa-k0oAWDiMBcRKryIRlxWQWUAwXQwkoVUPFOiUoVDVUWFunqCzD0C2QbGWlLEuIhVSVLGnYpqLwOBSW5V5xLGp4HwKWbwjUDyU4+IXKU5QrKAr4HDdX9j9J7GaQhQDUuXTUzwDqDkWDbXMi7V9X7GHWHB6DnU0g6YjU5WGVkhsKej5wTqhraVqUHz9UiRClsn-k1gA2zCkQJSjV15mF8iz4lXzQimclAnYWzr-a0CPSA7MlQLo1PQjE6pcpNqGqTU7W9X7UHEzDrTQKb5crNWYROhHAcBGnlW5gtX6CE1LyL50W1HQK-jgErFLnAzs0zmzluq02ET00VCPWTncmdW+mhWBAnXI3ck4USQ6b7ll6U7eX-QWmA2Km2niUdgimVVXGSkyXUhcoJoODeXG1kjhUsK6l63Sk6qVVTEJThVQUPHviu2MiiVDYdZBWc3JXw1oW7Fg1cknEuIu0Q19j5Zg3e2YX0l5LeVx0Hk60sh6knEGlBXLjjKRT5GTJFGXClE3BrKVFnx4U6g6Eq2-zY2MhSQshV1Ao+JenUbU4eVAr2l3kGHQz0h13Mg9adJCBOgHJhzCVOhRIBnXSwmJkjnIndwVA80o0KYg1uh8wChlkcRDAc6z1EAokL041iXLwoKEzr3dm5n2ExxOFuh8AWSn3Oib3dbDlIm73dxan2Heyqw31eCP3zmtnv3Kw+xakVA2wVbam9knDLl8D-09yANf0BwG2JAZzy2zC9FiBHnQOr3q2RafiWToMVZ-Qbll79rV3YJcxX1B7DbQxYPageHzTUMhBoOQTEPjacLSTMQxUIPHGaQ4Hxb80QPAzK0sMSRlKFVH2dwJVa6CPL1ZKiOpyi6xC4oJxQIhmjYyWGic1xK7aH1RBcqpjWALULkC1kgGJHy8B-mwmg7R2GpzaRY1VrlxJWOgV+0oV-m7bx3rREGh7mDSM4wp5iM2huMmlakb4mDqNxXMR+OoWi4N7dl8P9n9z7TWMRZON5Avj6MR1CMmgECEiphzEJSzyt3ZMEi5Oai3L5IpJ0EWN1aOM2P5wL1pMLk0UxJFO5OONGAAA8C0AIxT9upTNFVOLADpvQAAKgyOnAwF2PmUwjCO9dyjosIOPdDKAB4IORoceNbnk4yLPB4J+L0Ms97mHms4SBs30-05zoM3eSM2M3wNIFMwSDMw3HMzUIs3sys1IUcwSBs20-s7s-s6s9+J88wUHl9Zw+ZvHe7VY2bXOWhQ0e8AyLtFI6KNdJdb1Ik043079lHKBFEW06IbcbC7SrtI9UnIo7w+A-EweDLaITElY9fiCvGGi2c+gXRH04OTS91U-Iy2usC6ufJsWosisXS3o-xL8IpXE48bFeYBc2GIkw+fSBKBIMON+bqr9SZViM5aNg4MdZI6I5UltCi8E8OO44a81sLUOaNuFR4xvpvsGsVZzSsXCx0kIrI2XfhA8eC-lpCxFlC9YgjQS-C8640bWsixyzU8k5K1i2WDi4yxzvixkI60S2HiSzwwnuKwIycUy7KbS63XRLi++j4heiyyjjY5m7yQa-VFyyKg9ijry7+sFSWoK63cKwY2m0WJi9K5s7gHK7YEMvIh+fmZ7QjClaq0Rhq8OFqxI6DgHQ6qWAa2444ya6+lLYE0BYu7Wz+ba-a-6069nTkS+UjPnYUVAMUVcGURgK66BJeJmXGTmYmW2RwoZGIrHNfYwPWFe1mWPbQ2nO+ze9oL8AQO+Icfe9QvArjG2Y1Fyj+9meWSBAzSvQ9VyMStOJ+BYNOG6hOTSMSgxChwUosOh+icSqGDhx0D2vh0ksSshMR8hGR4h0XDmEfJ+PR3yBzBh1iMSohioPIF2J+Bx1pJM+5Kx74MStKzh9K5UoJxYMSrbt6BMHkAcEMNJ7J0cKKBJ+YMSm4MRxYNoRUF2ImKYV6R4Px6p-B70BJpp+YNp6ALpw1V6dJkZwR0XG1VyJZ9ZyYaAF6SSlZ+YMZ8SsAOZ4st3a5-p8Pl56AD50XAAKT+cud6fuegARehfhdPjUaacxc2d0u6cOdPgZ6peBexdekZ5WdJer3tPRd5fpedPmCZfkdFztNsDmdpdudel1dVfFd9DGFlc6f5egCmGtdZer3GH1cVBYiNfBeDd9c1fZf+dxe+BufmBG4WA6FJKWZWTWYxm-tkKOPsB5KQXTjDDrfQd5EreaJQdj0wexS0B5AABWyyec23ookFMQDVhHB3n73ybDsk4HxnWIp38ZR3ZjkHr38Z2KNkcHI0xKWen4We33ItJnkADAiqJM3Hw38PiPG8MPItUnGgMnsAkAOHinuPGPs5WPqYlAAAosR4p2T0T5OcSgAHLyB0-+cM90+ltDrHdrfXvQcg-ERbdsA7dKBakNV0RQP7dc9nc88ny8CA-i-A9WY2SWv3dciPfC9cLyRQMu6-cMOreg9ubXTpla-ndlR5lmnIT2HpnA6PIkC4BdjxZXfyBZDbU5DrwIdtqG+ZkqDXxAfJlmtYim+uiKhYjB3Vz+CKCGP8OQT2FdnOitsHiU7VAr6G+bdouS2TmG+S-uM08WAJ-9ZJ-zmXc3dCBOPnXp-y88RAVZ8FJpgtvksSuWiqEphpgEi4qpOCyx8Nmdih-h8Utuhua50HvHBHsXAlHXCYAXtaxMCORCCUDZy4j1BJAkBfztYX0PywjwjvTL9xGP70vRGySb9GA7OUCvNfj4iAtPQb8rCFo8kxIX-bZXYVY-BJBbwjnMDxgAt2ORvyDUDUAwgUC1Huhhlv+sXI4B4Cgrf86WvQPZk-j2YxJfmHgL-tQEr6ihIBFQD5i42uiMBloCcQ8KfzDJMInGZpSgJgOyAJwmgJ6Zeh8x+Z9B9mj-DqAnBf5Og0MgvQgcQO7gdYCyB-aGAYBnz+MOwrApRq4ASBQUmEK-Q+HyGEGpZQCDYBjuQT0o+QzSRgKMK8lLQPxxBzEBQUYHRA791BIgowIVwGBpF0CQhfQAoIgGDAm6E-PEF-1siz9YoC-L+AoI7pRl5SZUUwUoLdQ5g6s2pLqFCQ0E0Un81AjwPwL9AsAhBdEcMhILYh-M3UezY-lY37CDhFi3g6aL4Q0HRDKksQ-ZsEPTChDjBuMCIX4IP7kZmwD+PEueQYBYCdQuGV0J+AQrlDKhOQkgOhmv60FRgjg9AsEL6BEcKgI0cISIO5YaCKg2QwQS0JxAAtIhUggAOTH9oKOzaYQAQ+YbMFBFWbIdnBIBPQ1h1nTJuckfj5g1+PQOiJsKQGGki4gyXZkcl2ZCYPw6ELcKxl2buFAUHQioSQJ1CHDtQ6wl3MxCOFDDnhbAxoehgAKdC3hLATLlWz0DfD6hLwmfu8N06cN7ejvagM72iovpoyH8bqPElEEuCNsF4Hkp0SfBYjnIjWecmnQxG+8LAkFeES+ERHCB14dtS8GiK3B4CCQwFHEVvz9RRs6swiUAsSkGCoDEmCQo6DqGyQAEakwfZ4JsLigekzwqIsOFuAxFDVdKJiXRBgmyTGpnK85bNgcxpDxCFiXg4kT4N8LZIoMgPBkQnGdDhkHAkFCUe6QWDSj6RsoggfgIxE2tI2yfMiBAKI6gE4k4hE4A6KrAFl3uCCJYPaO6j+j8Bjw6JPuxAjx0IBlHL0b6NDHmj8BABN0QlAgGUineNI5Edgy9F0FUxjIMkeYApEO8qRSIukQmMZF3MWRCSNkWcRI6jB8xXbDoBWLNETBwxDlH7CFUWKqjryW0HkeXH5G6j8wzojsSTlMrpULwcNKJs8DfJCicRJDS9nQS5HMt6cOIkUbeQ8TBJoYzpJ8kvgNE2hZxX7TWLg3eryjthi40YMuO35lI1xiBG8g6U2xOlHyrpAemjHEAniG4k9eaBhFYyaZaAUCKoDoElD6BnE54lMF2E6TyjW6z4W4QxgqxxhzRsE2KKEVAk+NpIH4makaLFHZgdeTAXIJqU2xaNyh8rbssUEoAzJPUBAEgLeE8IdI1S84tViFUuysjMWMeCvHHhSyJ5ORW4vxnqwPhZ5y8KWNnlTkYAkTnQZEiiToConxJW81LLWIoCeil5ZiZWddkWRCrk4WJarDRnQToAKS8h2SCoLpKeg3iaxLo9vD9i0lxVRRk6O1nFSMkYjOGGhKSAkBMSYFJQfHRgQcGFTuSuOVYA4OyjAlMdEo6sUAj5K7B+S7ghgAAt6JxheSkBRhUwk5LzCuTuyYUzybYmSn1R1YhY2Hr4DSnOh-J2RCNK4CZDxl8p7obyQal8kFSApy9IKRVNxGgB8pJESKS0JinDxsplOBKS8DCClTrA5U5qf5MMA5SOY3UpKS5KymXRpxNocaTVi0jnRBeeZD-ltD4DzS+sAMTQkINmmPdX2nYIqfNFWkaB1p40nAc5NEE4sMpAI9AmtTvEygSpUkMqVVPCn6AiMubS6TT26mHTCAx0y6adMyk8J3p2RP8tHywIaJXQTDS-gFnahSlPG5tZXIbg4BA5ZgWuAfBvh1TQ4NKSqFSRYOj6r4Os0M2SZxRI7fTBK+eVgvbiUnahBJWWCoATLPyy1kMzsMmYIWQy0yNAreBcWfggG35p8Wo91NDB5n34RR92eguzKakaA0C2-K-N41ukCJA8yGSWWMRBmS4wZuISCKzPFkwyN8sgxEqMAVnUFowFBOgtDMamMzSZB+XGArJGmihmIJs62e2iOnmzyZeQq2VLV9R0Q7Zbst1DITvFyE78PA6aR2GmTLJIEV1H8VGlcFIT4gFQCURrIlGwylcq3dOHbhVipptyDgM2QrQtmxyxZ4cmYKn1ymVJ45aM5egflTn1luZL+IWddKPgLDjwqhdQr9LLknlZaPhawN5nPCizMYcVMYafxdkSzZaIyDac5MFSxo4UtUxOZojg4jJR5rKceZvgxkVpPJRgVakfE5wHBOGHc6UUygHBdz1EyuPZA4HEISz0ZB8QRHshXnQxBgnOPZPXyICgBhmAACTJ6UAAAguAHABk8AASsM0gAAB5OnsgA4AXIzG10G5inLzkDVM5DADmWBLbkqJJQZ4Luc7EalDyt5-oqOfdWgUtCh5XwQWJAsOAVZcFfIMCL+Pur2En5L89+Z-J-n-zAFRC4DOgsQn0YKayCwSvYSHknSt5lAHeVbGwU3CWF8QCTONK-FpxFUzCshVZDYWBBYFFAy6XNI0CQU0c0MmEDBTdzBzP4EwWYAQpZAqKeMxM52K3kLHgLpkpCiOVgsdkyL6ZjUBvpQsoBfzeMAAGTJ5AKYauAUBQdKICmLgg60aBbIs5rwKt50iqsqATQXlozwVYHxcEpwXAY8FRiAgOtG6zELBYUSihc-PsVOKXFDC2yEwviVCRolnM2aTnxem+pOFv07hbwuiX2yuQMMKwMIsunNhCxZSzaX0F5FUM6lIioGfr2DJ5LfFlimBfTMKXyKvpSi31MEAapu50yHUYIGEQ6x+L6ZxirxTJyiXzLB8jkj3lQE2HgiYRiJEmVYvnbvShlm0hRQtMTZcgr8bnIjEUs2qpSnpjAjnOIrMWsKc5eygZbrhGndT0yUSl5YYusUGkDlm02WuZWhEgjtlIIhXMPLzD7yk5BsJ7hwBnmziwVHw+sMCs2HKtF5B6cEW2QsHbh-21gLZZsIhXjSmmoAWFYwGJB2Bp4EIgFWdM3lvAt5GKfWYFLeAfN+5ikRnMgTZVdL5ouII5FUEwWzBgcQSnRbeBCoMrAkIqsagfLhQOAKl2aXeSKshxcof+nGW2joshVUYOyzSkeV8gIQCr6lm05Vr4BszRo4UAiyRQauclb1KkcSHRYYVi4qq5EtkdVcSs3ypVbWcjJQmoVaB5LqsQStRFimVzQKHAXhLUL4VaTUgxV4Sxlf0urImppVkzDgHKs3i7zsFSq5XI6ttrjBxpSvd9Nqq0K6ralBAS1XmCNUWATVgqNwh0oaW+84kwQe1Q1UzXERs1gM0cfPmKqBzOIQE31UcieWRzBFgETmVYUKAiq+ZxGfMt2pmUiqACCEvtSJEVW8Cu1Ei8xSyFHWzpeVPq9VUKvCUe0B1VZfGsrkZDLqKaDgOxdQu-m-yAF4AHVGeo-kXq6Fri21QKobVucj1c6qyAvPHx0oA5f5WdTMoDXrrvV1gcYNusQWzLqah63AM6B8Wnr0lDi5xdeupB2L4NLijOXQXrWLJYub6nxZ+oki9Bv1dKkVuvE3iWQruiZECudMfgUbQGCVUjU8HiTLTWGIEi8OgLoZCRbIdG1cNWMY3CNZI1GxdWWAMaIYyNFZCjUOtUFLB+NnqgJglWE30axNYErJCxuCLsa7IrwETUXwY32ETJrGtOJIAJDCxnQWyhTWhOY3IVZapG2gDKApUaa84RKw5cyqI2KVONIEGzU8DKZSyLW40gApZus05UXNM1ALXU2LyoqYRPlbuBxrEC2a3NXG9sj+knI0qoVjUCtc+E9S7NQtIInBlFqs37rx+wmnLXoDk1cb7NgK8TU5s3hFbXNlWk+KARumRi7pLAPqXsQ8klK3UGW9YeFp7jVbCt6m9zS7kS3oZb0NIbqflr82qbqt60CbXFrDwDbsiKWi4Siu4ogr1hPHdTTlr17zR9NtRacmfg1X2FZpIywXmjguXGEsA8W7kGIMk1LatlW21-stqegBivZdaeuUQEbktLB8iSc7eOuULN9Xt4NX6bXmryc4LkQ2rELNq2Aparh6W67TCM-C3aos4-c8Msn6RziEknM7yptmFbN9LuTMWvnYThEljMxtI-LDttm0vR9Wwy+aaMo5gnagUSOn-pqTowLA8JtRQcn0OZH9bVGg5IoI1j07EsNxPOsdSLSfEulnyyGLbP21eZnagdvgXoBmOpHE6X0zYWsdvx+0Nz-t727WUTJB1ApwdykFLfLrLEJpodRUYWPds-CG6sx4VNzFyiSDSjeOXHBwAAE5eACGJTHxw1XugaJ80B3YtXkVdEwwUpKsrWi7GPxcQcar7L9VuziBW6nACNr7r0CTDJh9YNAKnrLXmSxx+SBPW9PXZ5T3dXHDVdoFcB-SJpAMl3OIGkzqwiqm7CwL7sL0B6AB6ce3fnthHYT8IuAJIikSpmEQ+VJWs6ZzIG0Q7+kfQRIlxy71lxFtpu5gObrDId6x96Yd7Btu-Ytj7tpaCof0ggwsB6Q24dHoGphUOBrRXYKUTKPRGVC19Jqn5twGV06pbsbsEgNvqR7G4cM24bJq5lrQJ7TOPpEMVuFJUwiepF+j8mZ0D55IE9qwsLQbE2Bb5VWMGW7OqrUIASJgQExgRAdOx-rjEvanRVBW7XqrQiKByHLfq308MN4T+mjC-oRiYsP9UmKgwOz3UTrgJgBqgzhCgOOVjAfOEdqKEoNUGfSmwvwGnLu5cHGDZkpqS3s91XL5F1O81uOxMIdkwDoKqWkzpsj4SdQBsBXIYQyC86GqjRY4e1o2GoCXtahDXSPIuRsQ3Vbey-AlWZAHApA8IGUCauhWaIDYB+nZTaM9In65RZ+2w7Zh2ZX78cY7fMHBx0Pgi9DKhP7Z7uMO4aa6URXbB5rGINhaAyc6ZMeE1nyBCMJ6GJLIY60KGWdmpFQzv2iMu5BdUDTQ9yrThTK8lsymOTsvmXFyuse+zRJpHrp5KHAciI1u1npWqJ-CB6pOfwXLnpyOA5GHo9nKqP9LqlNZBRj4TKgNGrqaiUY1iBqMQ5l6PRk8pXPkKlD+ZdW9kYEZCI40EQTIWYDMY5xq7QjJ0pY0JHrJAzv9bwLZZMLzl6BC5AAHSwBTqblzoeA3wCORCCQdVnLrs9jbTJ7oYd+7fWXBbCXHV9NxpCXcdymPHnjq2V4-+PeNNDRZowMgBBhdzwo4kKJ0AAAC8B05gR437xePph4THxwXfChxO-H70-x3oICZwLAneAd6aIBYasjWGegNxwk28ZJOBcehpw3ZnkF2bUBdm9+DYJMJbA7BQT1x4pUSZqycmdO3J-Ebyf5OCnldVJnCEAA')">function apply_a_rule(rule, query_pattern, query_frame) {
    const clean_rule = rename_variables_in(rule);
    const unify_result = 
             unify_match(query_pattern,
                         conclusion(clean_rule),
                         query_frame);
    return unify_result === "failed"
        ? null
        : evaluate_query(rule_body(clean_rule),
                singleton_stream(unify_result));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p31' class='permalink'></a><p>
      The selectors
      
	<span style="color:green"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      and <kbd>conclusion</kbd> that extract parts
      of a rule are defined in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p32' class='permalink'></a><p>
      We generate unique variable names by associating a unique identifier
      (such as a number) with each rule application and combining this
      identifier with the original variable names.  For example, if the
      rule-application identifier is 7, we might change each
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in the rule to
      
	<span style="color:green"><kbd>?x-7</kbd></span>
	<span style="color:blue"><kbd>x_7</kbd></span>
      
      and each
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      in the rule to
      
	<span style="color:green"><kbd>?y-7</kbd>.</span>
	<span style="color:blue"><kbd>y_7</kbd>.</span>
      
      
	<span style="color:green">(<kbd>Make-new-variable</kbd></span>
	<span style="color:blue">(The functions
	<kbd>make_new_variable</kbd>
      </span>
      and
      
	<span style="color:green"><kbd>new-rule-application\?id</kbd></span>
	<span style="color:blue"><kbd>new_rule_application_id</kbd>
	</span>
      
      are included with the syntax
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.)
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rename-variables-in rule)
  (let ((rule-application-id (new-rule-application-id)))
    (define (tree-walk exp)
      (cond ((var? exp)
             (make-new-variable exp rule-application-id))
            ((pair? exp)
             (cons (tree-walk (car exp))
                   (tree-walk (cdr exp))))
            (else exp)))
    (tree-walk rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlKqu8kt0CYpi+EwmmYLK1CAFxK9KAwyAk8iw9D8-pJAeYAD6o4G+LGQg6EHIMADmCNOSIBhCMoHRmKxFkheVotAI8gYxN+-xRVJp2Le0Nw3xJ7PJvk5XNpb0YOnwfGEkn0iMFBi2e2eHxYX0oWVwZHwrNJKOMvmpoPBoHlyMIW2iT3iLzeCwJBPwOner0IelxCUI8wAFtZ7UCWm0IW8Rj0PUKAGQR0C++T6cNGNhJ0CEX2Ue2W5U2yEMeQJHVmskBkFB23p+QOp0u3G6wUVXq5-O9RVYKJZsSgA4AT1hjMotD4ULzBYF5uL5mN7Vj+gWwn5bLHLaiVtizySqQmBwOwgJDHzTHdeJlBIq+AAHopWlv4uO-GD2qoa715Nfd-vCENO0fCaeL1ft2IS4rvswabtub5krWY4mEapaQvajrOo+bqFkw9YvuBe5ks2SrWh2GE7lhTCUN2vbznqQrNCW97iNOeizksdEMVBRYbEB7biAREHEZq2qUOel74NeYgsfqsE0TG+BxvRiwyXOonkpsraPKu2ZvJK1C4NkdQiQmMGBhJ8EVoh1ZuuG9Z0AwuLMoQlAaVpJA6QwzaUhiopiuWlZIa6h6evWxSrFQ9naTMLlUm2eHiMFjkzCRPb0kselUXeJpMbJaXyQmbG4apHbRU5GpfHxAn-vEvmUZik60VJM6ycxWVAcBzyQlpsI6PI-F-kJAEskllVwXaxlVsh5X1q1eTtZ1gnCc57GRaA42TZ0jn5q4BzleOVWgEkijuvFfYDkO+YVBliWEJ62XKRxC15hNHX0joXYbfpE6lqdclnRdSnLtdkJVSRCzMO+z3JVtRleaZo2gL0-3WUD2FzblQRBlNpW6edFXUalNUfRtjW-W8lk6MIMxfCD4kmuDJkjeZ0NEyT8TqiV3XxGFbnuWWCHDT5tO9PTpO4ADGj4O+OFXfN-OM4LgnE9MOp9VjD6urIUpQ54iMgaaYjEwLNhWfgACO2oHgrr0SchKt8FDdwa88ktiOqXyuLmIgZPLGObaWFutFbtMAMz4-NOKG8b1DuxdL0pe0VPczWvMHCHAJh2LEVI9tKTWAnRtJ+HhAHJ75s+b0Weh-gn7hvnOWayXOdC-DTDrUlFj9RJ71ZVXzzSiQuJ1yLkEVwX2PSQPHc2letlw33DflfnkdbfVGOV+LaeQiLiiEF2JGJ7Euez6DA1QhQn157banvC+E+A1PZmL4P0c8kfuMD4HK9vAUtDUMk5MGZTg0QzTGN6zv0-inJqNpgHJEoA9J6pszZD1qplD2L9NaQkmLUGY384H308tTHmgDoZoOmKzU+HYOKoxZujCO+9W44wXl9Ue+ESAEnITNRuHs55vVoXVWSDVMxBzeMUPQAlbxgz-rgmsAl6yDEajsDiRw+AnDOFAOAiBkDoFuJ4FSmt8C8WFgpU8DAMh31AqqRy5EFTUhpP0BaJM1SC14iOBcRZLFYgAFxlkbI4iiBgXG+GsbgBkyQyCKDimRQqWp5b7UFodTxCkDAGKMb4iw7jIT5QwahckSTzDWJ0eqNJZUMkJJ8RzFJbwuJERQqOZxHMcmajAoRYGhTQAAkSSUss9tczmLHFk0AtT1QdLJk0lpxT3KlPPm1DqzMZpxJ6dY9c1gOJ6EWh1Zaw41pxLKD0jmNJllQNoI9DZzTDEjNFGMmuO8Zk1OaXU85Yd3TbzDr3d860MnxKOa00ZZYIGXPcn0wW3yhnHJ6WM2GV9GlVMBLM656pQXC3BU4tC7yTlcjGYQpyPzRTWMmE9XJWo9FkKmT1Q5wzNnbK5BbQ6Dj1rZGYYS+ILyIXkiKcimk7iWAnB6E03oABVBgyQGC0CkOIbsTB5BnlAAAWgldCvFzBQFgPwsoXAT0YgVBpXvTEwg+CgD0JCS8wgEgMzdpQRZMQNiR0VpxJVm99WGtdgsyKehVWgHVS2CwERmm4ATi8bVurCYCglCax1ZrbzmEsriPwBwKDEA4Lisg+LIp7IOWa0lZK02+HPMwBgzoWndDEMDLZ6b3JkNWatFg60U2FqLVydVqbq3VoJYYvNFSnWMEujSURKsaLhO1GMIS0aWWYqjrMBxess1uivAOqt7iJRShlE6Hw5gPX4C9fgC15h2W0B6M6nlfKBVCt2PNDeig11SpddasW7rlIKvEBSwcVKhEXgOEU9dW0dp6BpewAAfDK+NzAP1MKKb+RQS8frzVxXrHWUt9FIotZ2vEZBUw4t0f+gZ0tWiyz0a85lWy-l-pHNmhmDtBbhu3pUhFTKkVbLZShgjUHiMTFwM7OobtiXHL4WnCDtzd4vuSj6nVq9fgby3tnC5z912WtALO6UspF1Ls9d6rVAm3haR7pPYG4m+Oii2nG-F3Q1Ngv7rfMowy5OgGXauiTYbDjEC7gZz0Pa10cELbp-9dnL5wqM56fOJn2NJKU36rt4JHNOv05fBzDjzVaa5FtdzAMItFXwGZ3wFnvXRY7aWLjDydRVpLAZzz08B6+aMclq9KXr3XTvZQRg5SnR6E8Rqn+7R32UG-dDAAVDV18sp2ufga8g54Bx1CzHoLZfJhw4kWoC8HUTdzXmhosOG4gFcHDcaeWSBlFG3UxYPmvYT3GZ6Dt+RII+uXQDuOqACeMw3+yIbsvgTSIV6Whe7h5+uN9vMbDrfW3wQ3mS3bGw9hyTl1pnbTfMkTpc+35fe2wz77b3UKbXel4dZZxssleYW-xPl0ehISnEo7biTt8jM1EMDnG6kAsZbx6kS3QDQIcBApNT1XlmbpwE9QXrVs3dG-dx7MVnvQO29ZqyxAuuYSdEcDgVXxeETqxzr4S8mviFczqaBv4s05qbScFtCuvXfZ+4b3wsvdyS4qGDo37lhkDZtBB2F72YPDLg6WCH-0HF6DO6rvt3a6UiWw0im3HYIPlPhRRGnvg6cOIcF7kPZJHMsKJf70z1Jyl477O72PxFSL4-9w4opZmtoOI49oup6PHfHItan7P6fEt6Fx9XrpRYDcWC97j0dvuMeMreSSpJyflyyMivIxR5wVFXHUWgP2Wjmp2nIDqM8IiD70kZFJFk8-QC4dAOKpMHAENruo80kgHK9BniAQyJkKuLwPeYDoCorQw7CDdjoVx8rroQ8WaWog5aKjq9g3xraI0+YA1s0g0kYhgwcP81pv99kux89l4UF-U2RA1TUF9DIxFY43Q+ALIgDnQOJQFroS1tIy1u4nUUCTRvZVZMCvASFxAyFoESDndC4e4fYnUKgbYGEaDE1c0ddgY+BSClYmCKCKgA5i81wM4gtAgQtLJx0+Db0i43dEtPwpCix2Cyx5CIllgIkZDOYhpvIaw89oY1DtQ8D5pDCQgxBx0NDtQtD3pItA8VdYgAltxCR+Jtd81IInc-9SxmI+8b1dgwsTUVodQPCKYpwcYfDrok5HDrA8gVVAjeNDRlcOguht04ikUtg6dUxrA9tN4uC3CmAHBeRcBeBfC39Ai9oyJn1QAqUtDQxyiEpKjqiVCFFhw08vUnVAimgEjJM6Jmj8xqDjgWiH1ej1gTAuisFxBmJhi7DmkzxNcXCMhm0NMokGjFdv8XwsiK9PDzYAQCRUw6jGRZ5t8Fodi9jNR84N9ajSjhx9j9cqjFc3k8h1j5jCdkljjCQ9iG9Z4AAeN43Y70DQ84tNHJQ-LdPoAAFQZHTgYC7BdSYRhA207GCRqCdHcV6FAA8At1+2-AJC1RgWWKMA8E-DRIxMt1xHxBxL4CejOI2GnQPyP16AhNoF2GkFhIJHhIbkRKVWEBROhnRPX1JOxNxJuNnkJPrD5MxIsDJOPCFOpOmICVoCCRCQbxCwb3DwsAiMMXeAZF2mCNFGuj+16mWIqGpKsyxE7UKOFJeKuRaS1NoF2glIzQcNoCcNpVcJbWtwlPcQb3YGTDok+KtO2WsTompIdPO07GGyfnxPmFkllNKyXX819RaR9J3zTGyPmMWKLFNIzRBLDCiXrF5XpAlAkGHEvS5FS2R0LTp2GIcDi2GKET8zJS2gNPaJaM+JbL6Obx+2GMcwrQ6OFyxCiHK0SJtPlJ1L83J01iryiRVLzLuNwDVPMA1IyFtLHKMVNP1IjM+ONPuKzMkxzEfn9LBxyU1NHI9yN0iOdOPHTO4PcOOQDKJ29KOL9PxMxOsQTlsmDNWLnPvNZXDOZEjIqLeWYljKSQ9QTJ1STKOMyP4iExyLdPfAWxpE3VzLInzIYELOzWLPzElWlUzw-H7JSyR13JFwjWrI4FrLKOT0bNLGbO7LbKmM7PrW7KGL7LjPM2pEHMkxHO1PrJK2vQHyRiH1OBH0uDURuAwCnzPltSNQdSRlbQYGMW0P-h8h3WkvtWMLTjUof2sANRUGvnRTNQ4RoWkkmLbUajpy0uNTkQcBGl8QAOnE-AsGnDTXiTsqLgYkcvMAYhcs7IANDE8qSO6B8rcqfGQgCuQmCvJSLn3L5E-BitwA5lcqiqfGJgOBUHkC7E-FSvSphPciSp2SLmQs8uQrJXyqxAAKSFTAmDyAOCGEqu9GqqOFFDKt8AALcACosGPwqC7ETB-XFQ8FypaosAAIlQ6vMC6tAB6ra3FWlUGt8qLl6wqBpAmqmrYD6tAHa0mvMCGvMAAOADGp1RP0mt6s31ADADmpCrdF6AAFIDqVqTrxVrqtrQAdqbEnxt8Or7rprkzjr5qnwABCJMT6o61a9awGjgHqv6q6r4u6kGh60AH48wSGy6voL4tgMar6ta06tGpG16gAr9WG7q+Gn9XGqGvoL9dGpa3wTG9aim0mlG3of6g6063wLG8wf6iwefXxFsCynIO1bSkAkCVoqXJJd9acYYPmmSwWmYJeXmg1KWshWgPIAAKyvxFtFHfRiDaz8slvUpOi4XkhDVeqxEstkpAiXiwDlv5uNSWxsilzerdAAOk3nR0E-GdtlGNst1aqLkgAYBkxJkyqWt9v9o3k9q9t2qLnqsoFgEgE8qjpjrDvDoqo0AaoAFEAqo7U7E6vaACAA5eQXOg6-O3On8w3HmmzDoXWgW22rPZY9gUWpQJ1NrHot5U2vWayBucu0XSu+W+1duhYHiRLdWrkTW5ug2pYXg1uqum2mzO2lsXw7FSgNu01RgNVJhZCLQxemUarbNFgZVK85W+QLIIbHIdeM8otNu3Sggd8AyttRi0UGlDe7gLECread84Ja8vIt0LQzNK7T+ltM7S7bNPQZexNLc-ky3NumuieKMwB5QK7EB6es22KJW1WoQSo0Mnu62sw0XGyHs7OiwaCtM3IipRqAgYgaCgkAJR4wWEh98VbfwEJOhyCeegS8244YS5RUS64TASSjsKQxyIQSgbOXEeoJIEgL+AKUoEYrY3+Q+WEeEGwlYaRtiJJIM8e3GKRtYNiPk3oSgYkr8ckoUpRkobRmk05SSEymM5RsxlQn4JILeVZa-Q8ckxrSTeQagagGECgPRd0NVTxk6o4DwD9Txn63oNE6xcJsMokvkjx6gAh9ycJioKUwkUDXwxgZaBOFx48NegkSomlHezJmRgASBCOFWxN0b6D5PsY6gTicbq3fQKYyeyATlyfzgJOhgMF6BUOae7j9BYASAAwJC0PiqGcJ0icKN6CSTGRGhpSMCjB6UCwtOYjmaMHREsYQSWFWdAHBuhmkTUZ1TojmbCcGA3wEY8dshEdinEa-jmf30CzRQwWOYWbTRzGuIJS6mmVWYDMiaqY8F6YTnTAGb0COaYWpSYR0ZJLJTRIMeVJiXec4M+aJW2ahe2Rhb5IBf6ZIEGfenVTGcharWbCme2RnQYCKb6DCtyYqExaBexfMZRTLFqLuaHUxb6H8oqBGlBeGejPklWepbJZaaxYSEJzOWxLGYOd6AAHIDHP1CTpXpnDHpTKSxmemBW+nhHtQSAnps4tWRmH4+Q9B8wFGeg6IdXkbw7hqi5mRXb6wt0iSBUPx0ItwWBHWDCrBmx6WrEpM1WsnTXNXIaUxZIzW3kaXXBhWFXWW-WWAA3mJg3+WimNXo3pjD7j7qBT7bJR1LwP5upH1FA9WJguSiERJhEDmADHnWYKgPnpoiVhF76aR30U2Xw03hB1548s2w4tw2nc3VGLG3n8xu3S2i5Bhknpz4X+3hERWZjFARCbQzW4pRUzwl6TgO31phEptfVUFC30UJ2JMqywGokHAkk4XBxYkq20YWQJ3Stebs3nXnR1UHB3052RUFhF323uou3L2XFYt92yIwn-KDnai6I33b2JgwW3l3pgOE472wPPWicyFHzkxegwqAPl3uoqx1UFX4OD2jjehG2T6W2M2FCAPkj5KhbVSzsG2j6m30223UPO3WTV2Lwe2GXaisPULK6b2oPQO8n+zyz+Mlnrid3ot-8h3y5R2T3BOmPeOiLhPMsLxSdX605j0gimOGC5HaiS2h06JNOGXkLc20L+VBUL9q2bRlONLNYlDp413ZHsENOmODnvD7OLG9PJFoZeVDOD0O8tY7AG4X95oMIXX6hCBaAoEqgdBJR9BrOymUwuwT1u2wmAuSAPwVC4w73nWkv6g6CovEi6JLO85u2ZEwA7S1RYoFg1hhhEMXVMLHRCAsBZFh9qBvQlBXBQA-YdUE5NY-YJ8J8fEF6twP49BUgYC-A6ASAdA3HxiPFH478t1xufnvXJQZMnR98Q4yYhv9bpI6IZuxv2mfz1HpJtu5vaSMIBv1vA35JDv2mZ2OwIcyvChbx2cP51Q7unMHa+h2sXvet+zKtAlglBv8BN5PAKghvKAbZTS6co08gXuHATvqB-vAeeWlg9dyxbHwLAt3a6tIeXuotC0toMedA2K+OUcI8K7DuYf+u4eQe7hEf3QyAoeVGCKdtUCd7FuXa+1RvGgJTrF8fPTzulhDvGf4yhz1Sg59Ykv4fKAgfQAqftzNDweK6sfpHyeDhTuAfJeafkfsfBf+PIR8faf6ezHiLOwiByx5JNfpG63tlaiRoQepfaiZe5yrCEmyVmJzezHteifKzSeHtZvlfVfN5qe+f9ete2LfBptxRd6lv9ABeFtinRR3zTfEo6eXvNk4+vbaj7e1fA-ItLfDd6pk+GeWw0-5MV00swcE-mJDvZerDQ+ysyyOLqRrpsqNBGvDXELUczgcP5TFTiX01-FfvFAzt3FO-EOZQE4kve+i1rEx+XWLc2UczDWDP91xBiuBcOwz0XvSyhfJNm-CBGvLQ6dV+CpoeOBbvpHDBeA6cauHAj-Svz+kOB+xYLLKuOBb+gv7+Z+J-57X8xC8gZRiZCQywUxuUEd4yNoutRLRiAMiwqE-+hGZwpALVz-9jw1hHGLAIAHDMYBSA+AbXjQHIC1O7QZiLgMJD9EiBzCbenWQQGVsOi+AziBTyAGBR8AVA4cP0V-rANKBoApgX0RoGBUegEOUgfQIt6gC3kUxa7hCFwZMBcg-6VzsMX5YYVnQxQSgE12zQEASAt4a6HQEUA4pVOKOcPoVB6BCcve3dUgYziwFkDZgdZaQR0Vr6TddekfNnqQNLpYhue6FWwPIOyCKDrWKg-TgMT6K88NBT0UgSFgcEe8iKuguznm3b6JFai-gkFmESk4VAYhjnCISENL4VlqKEkASITwb6JEYhwiUQYYykgJAC2J6YApKC0hdhMeUvMoRlSrAHAweNnUCBaQODqwDm1Qioc6DqGGAFWgHHGM0Od6GA2sZJQocUL-ptDMeeIYYfVHVi58LWXIMYR0Jtj9EZQrgJkManmHugqhK6GoQsPzZNCWhQ6eYSRDuBdCLGPQ4eNMLOwDCsaywvelJDWFbD2hdeB4bUOOHO8OYVwn9EMLzCJ8Nhl0CcoNgmHfC+AWkc6I3WdQTdUcwIjQFmgBitA8wLjYYZrVXqdhvovhKEYQBhFfDBmWI3YQeUBHhsh0hRBVjcJICrDrA6wwtH6XxHZ0PhuwEEZiPxEIjvhC8OEcK1RG+FWBzoLVO3VdCQR2B7UL0D4LAEk8jBpgkwXALMEBFri7AkQdF1sGs9ZQegBwRvk5ECDyuoAAUZwPWD75OgGIlgLMEqqt9Ah7uBwRUE1FCjpiuo52JQENH-FdRZojQFqK0JkVEOfARYE6DRISs3Rc4D0Qq1W5LB7RGojQEYAObVlzAxIgRNkBAbBiIGXrTkdoEHDhpeRB4QMeaKmIRil6JHXUfM2jB6oSOAo8ZkkT1ESFbRuMbMTMO2TMQCxFYjmFaP1E2iW+-xIDsGJrHh06I1YzBg2j7IKteg3oggK7XyEulyGWgLEcfhqIkcjqtIwotMUa4PZIE-2RLk83S4zAKgc7QMXOymIWo6ctolWFGiYwOA6xJYxsXoDXGOiXUy4+IOblmHpoNxVg6LjuMnT7icOfY30YSNOwWMhxRAEcYyIfH9omM0xMgIC3-7nhoxmMPcm8BSZEhmxikfITV1hGFD4eUvIbvUNpwK8HANXRCcDwB5sE5REfBUZjyMDWJCiYZA4PkOAmLsQeA4UCQ9wrpDcHA0E-sp2kERDdCJezNEu4iG6WhyGoAMEgAAlU6lAAAILgBwAqdAAEpglIAAAeVzrIAOAhRYovgSICNcwIgXCbIeIYBOjuBgEnSrvTPCgTnYhYuCeRPQ4Xj1J0I-UZOzglfBBYi4+lCoWsl8hVJGXCbFoT4kCThJokiSdJNkkOSTeJktLuPxloGTLJ3AuCaOPImUBKJVsDSW8mfBmSGAEqLEX5zTgyZApakqyCFMCBaSGhBQoESCPfS5YBRMIb9BblnGfwJgswOySJGKkJBhgFk7KRaIrF8BlJDVaqZlI0lOjpikoEoeN37AXsLw25YAYwItEWproEw6wFIC+BfxhRXIXQYInWCRDaQiZI2GTHYGLSjeiRXfNYPMwycwcdOPIOKPQHaBzBlFJ0TtMSLyi50iovII4KHRujV0nY9xBNMoBTTcAX8Y0TgKUhkoogxTT3ukPU4kcRiR5FMK0EmnTTYh0kDaesxelvSv43hWDmSncQPSE4WQ4XpN1hkQy8hinbRLMT-rci-g14NYGqKgFfAcpqE0URKKOlXlyBZRGUXeLD6+pjBuzfHu3zx4MBcSDYvfv8U+nqFTRsY2YZqHOkCy+O80qMZqCixe0dg7WGWUkgOliiOAgQ2mdKLJkWi2KW0ZmcmB55kpnBnM0sZQM7EWBeZvaU0VgGKbmzFyHRQtGyjxlsCbGpM+cmrI4qhDfUPUq7G8BEhCy7iw0rqaMWlmyztMpYXse6IHHOzUhppHTLbP0DsCvZso8rP8JtCMA9Zx4xQHb0D6bjcpLojgMHJ9Gu0vRIcyfkTn9EgM05hY4YhmMESpyQxQ6eMQTOdLbhiZqc4YOnKtm9tIxPQRQGDwOa1zBwhMhuYUE7nDApem4s6mABlntYMxGfdWKACjCMssxNsA5knMpJczW+zEKua2JpBrybYG8rEEvM3iligOFw68aKCA7bzDZHMKYpOxzn9jumOM6fLICsCHgCsYEmwWgV0I3xn59YYIOZzthiBNIgEsqMEBQFWMLuVgVEddHGB0EgF3A0ZsxEr5gLEZFgbHE+C+BTSuwM+IwpO3ejwKCAfwvhlahUCbwOowQMYFYFXH+tMxxYzSaAFvHMCtxFdTSCvgfkEAHArQTxHoIYFvAZQpC3BWzgrp7zdx0aQ9mmgEWljTxVCneVyEsj-zE85+ZhesEkU0haFfRAvKWAEWPiY0roguQcyJHOdaMibLVjwuiLQEEQcioBa2M-HBdZgo49RX+JgnXpuJ7kygGJO5QAAZVOnJOJxFF8FzJbmfIvWidTRpuUnSSdMlD6TYpBzYyXpKrDBAAlDUhSgq0cmCxYlF-OAs8CSX+KBhuUpxS4vcXgA-JtkAKZktincCsRIw4BrlnCmMjIp0UrKQpUUVYgYYVgJKfiObAViqlrIvoMOzdYEAWlrIj1vkMXopLAlGc6LmUvRGFT00wQNrBbkXrELH5wQeqRIqam5YWpfi4ZfEq6mDir61gM1ieIoUjLAi8EvMFoXGUFTG6SSMij+kLRlKgGzoCkQ2n-7OTgp4i52E6NbG0ihlVgdaK8v1FdTGKdFakfkNVwGLtW-rLUccuFb0Lu6BsLWhwAwnKd9lSbesCCrNZb9UcV0qPieLNQb5twvwKgHsrNYQqcR++WFYwGJA+d8ucbIUZCumKQhyJ5-bMTAoglisGJazVEGWEERsrBxwXVoM8vqDb1yJH6BKbeF0EMriZ7UnHqKDpx0SOANStXlRMlVsU6cXjQ-HHnamQr66RuDpQhLO7xSgp8QPpYUPRW+BFAiGeHk6wNViAjVeYMAmSiZYJSKgtI1VWwtsgaqcR0ncOXxjJy+FcQW6awOMEFV6SjFNE7uhpIcDSKtQRKIBWZjFV6TGV8SqVVItokA8HA8qzeFRNinKqGFAQV1fIs1VsAHSOq+EXquCA2qEgJqiwGardClrmlyU3PrUUWU6oTqLquPOMA9Wk49p8cnxal3zVbp+VIkSVcyvkXCqrVClAWX4hdThcR1kqhVr2vamjqMp-RedQlMXUuTx1fGP1Xyo1VBqwla6mYP2UP64B0p66+2k4s8niTJJMk-JdSHPUiTL1PkzxQ6rHVOqTqjIE9TLUYlByFSt81OJOWnUkLoFm63lQGqsAnTQlIEmNRTIjTvr-FDgHJW4o8VmYENeSg8SRybW0jYNsSr9RJF6A-qyJbwNMpZGVqOoBIEI80o-DI39E4sxGp4Lm3I2cIoZT6fouPD1gkbVwjHEDFoSSFpMCYMFdeJvFSrsaQI9G3EQayo1NF-CQmujVRu4HadmNKhVjdJo42ibuBPG-opIAJDCxnQey2TblPk1cb8hxG2gNwto0cbiV1I4dURrEDCb0kNmp4ICS5DWJAVrIhVsZu4WsazN6DClbZp8yYlUV-rF7D3C82VIGAvm1ysXy9oubCh7I6tX0GtZEkAt0bRQjZpM0KVFJ80ITWlrryvBfNFm1kfmzTLKaRNxWk+DovfEMsSRZI+7OULqy5YkthiuLKVpy0HBwt+WmLan2WonUstHmoSGNly0OaWtbWs2Ubmi0nKgIcWvDSQES36K0VZo3LWlu-7zRNNeiWtDSpxGlL8RJqc5faXTRXKRtooUZg1qegrbr8oKoZn5uPm-Zjww46xYyMvk+JItTgzsDdq-F3bOl6Yi2e4kKKdasQY24VlsEm0OsZtRUYWKCr6z4AtNzAJbZxjPAPZEMKnPNtwK9yudKG1DJmPBWUJ3ybQeHZtq2wzxgt2tJyl6E2S20TKLl2yfbdsnPDw7-0Y-AeiID0ShkuWPmIUQ0qKCVteqnYvThkCvFXbd0HncQLqO9k4VeSbgM2RbN8C4cqO+HfHQoWY7HZLF34j7a3LaQ-atk-2ibeaul2psaODiEHbKl2X+tPwuOvXYlnnrbixUdkV4DlQcAABOXgE3xt3lDIV7oNQZlud0ZVIV2gVwIeAqAbq0eozXEEmppCizfU4gI4pwCWnmBsq5QvQJK0lb1g0AyeytSX0szE8LAsejKpDPjD2KyUWezeGUtsRhgttC8N5OIGlTqw0ZdfGPZ7sL1bbi9fjdOIuwL3TFUFGVDBTqEIj+qidUKzOUcqxGA7td7e9BemFnwG78M4OtVLgDQWd6YdmsSDudplDVrjSLAekNuFDrQqI0BsBwE+y7ALsl2nHaMX011RktKuhJbgAMupABY3YJAdfQHR2aIdtwBAJgC5BRwF6+gUqaVJBxoX+sXgZ+4gDhVGqKgJ1meuvXoBpaErNgu0r1ZxXMABYNVwXULhMHC51YDYIerEL2vGD9qF1K6sdczhPHfS5pvqW-ffo3iP7s5z+hGEbw-29Av9Z6dqVOoi5AGv9OEGA+nrgPsGy+ooWg-QbPRmtI00aI4HwalSp6NRde13Tcq22TKi0VOw3JAcC2Gz6dNkSQTqANhainVvO3YCdSMRvDjtJ45Jq9qsWu7pxCOeMgnNIT+FmQBwKQPCGX2IZQ12+3fRQufZW7IOx+rJvYeIAX6r9Io0ioEXtr6H1DL2wkLdpMNHwiDr8w+Aa2GKOavWDYJkraOPBBiFgUzYpqSwTZ7LlDEgvRMEZ6IBG3kHO7Q21l0P5C2Fgxe2UJBOkhqt9xAcYOWy0C6ACi0gfNQ0dmC6BUlvgcaWDNelYztBSSJiVGLXZY504G4dIBwvP6ud6jW7WKLoHvJjJwh95axLUUxnvSc9BXSRasfhmyQJ28xqdgpy2k9G4ZIay0Ivr2WStFxegY+QAB0sAJCu5emBC58At0gzH7ZNSJrmoi0ie6GKQedJlwWwZxwLRceXFXHrxtx+4-A2AJIHnj2LaMaMDIDGk3kw3WogidAAAAvL7OYFuOYHITzoaEy8aKPDcMTnx+tN8d6C-GE4YsNPtECsNWRbDPQC47iceMmoCTINDllayJJ5AiS1AIkq7Q2CSsWwOwQE9G3j0PH8TsJtk292fCcnuTvJj1mSZwhAA')">function rename_variables_in(rule) {
    const rule_application_id = new_rule_application_id();
    function tree_walk(exp) {
        return is_var(exp) 
            ? make_new_variable(exp, rule_application_id)
            : is_pair(exp)
            ? pair(tree_walk(head(exp)),
                   tree_walk(tail(exp)))
            : exp;
    }
    return tree_walk(rule);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    <div class='permalink'>
<a name='p33' class='permalink'></a><p>
      
      
      The unification algorithm is implemented as a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that takes as inputs two patterns and a frame and returns either the
      extended frame or the
      
	<span style="color:green">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      The unifier is like the pattern matcher except that it is
      symmetrical—variables are allowed on both sides of the match.
      
	<span style="color:green"><kbd>Unify-match</kbd></span>
	<span style="color:blue">The function <kbd>unify_match</kbd>
	</span>
      
      is basically the same as
      
	<span style="color:green"><kbd>pattern-match</kbd>,</span>
	<span style="color:blue"><kbd>pattern_match</kbd>,
	</span>
      
      except that there is extra code (marked
      <QUOTE><kbd>***</kbd></QUOTE> below) to handle
      the case where the object on the right side of the match is a variable.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (unify-match p1 p2 frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? p1 p2) frame)
        ((var? p1) (extend-if-possible p1 p2 frame))
        ((var? p2) (extend-if-possible p2 p1 frame))  
        ((and (pair? p1) (pair? p2))
         (unify-match (cdr p1)
                      (cdr p2)
                      (unify-match (car p1)
                                   (car p2)
                                   frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06cDwc73jxxQIBgeAkFQNA8TQYkLne8xRRBLQKCyXIFEIehiDoShwf25JUnSBQWDIfRxclmoZfCUAAB8dcU0UPl6zq1cUDXpdlmI9YN1IWDkjghFNiWpa13X9ZfRWMjFs2Xct2JrY9sUPzVKV1d9+mmeBagRZ+aanfN12IkKALiZUH3NcoV63uTd1UmYMQJGEBhZzBD4FEoHY+nuHbCb2gTRVJsvLYAMmb3p+kGJvwmEoFKCr-Os8j0U6D+gGw4zuX67z8gC9qYvQXj32LJH-7CoRgWXEMXxlfwRt8BkNJR8Xifa5Gw6I3Hi3+QiyPmoYc1qDEOh-ploxKGNsRuBRwhAjcZxJ7dCXCED8n4vy0twI2y0v7Ix-sQP+9AI6I0FqkEBz8LbHyvqfVOop86F3nnOS+MsLKoLAWvbOLESEWwYFvHe3tnYn2ImfDu+gIznzrBgrWkxEEbyZI-NBMtro4wYN-X+hhnAcMtow1ObDbQX3Tlfa+-Mc6igqMoNgE1sp0DfuXABCtq54KAU3CyJYhAgVUeoyq9B4RuxtvouehjKDlwsjDP4DBzEaNRNY6268c7uMsYwGhdswKOMkcsJhIxWHMMwiErh3DfEmAsZowRBZhEwNEeIruhNwmDAjNEnRijyFuSFn9FgwhyCpNgfArRmS-wjRwTPAxC8jGiXUcrMpFT0lWLiSxVppTymLnxpIMghhtGhNiCNG42JAm7wYPvQ+-1uAyOCfk7pblentLtsIXwoyhrZJYewvJssClD1SIFahzAtBgJ2Vk7B09Z5FwcU40SZyPhUGIKQ1Z5gzkiLgWI+g1zanSKiewru9NCnIIYG8NiqJOgApTvLXOdiHlNJCcY+g0LnA-B+VUrx7t-T1Pufg0uqLRJQujpixsrzLkWzIZHMlMLGywLYtyLQcLxmpxLgwQIMhRncDxJ8lw9KKWQqNG0Asr8alhI5aCLllReWgFJK9Ol6LyX0B+J0EWI8aA5gBpK9lCLOXcvlToMFJzqFiulsoXVMSbkIoJY0uczTwTGHaJa4gtKkEuDvi68VVrRlhFtQJIBzqLWOHdRAkJYQlWev7K6sN5y3lgJGTU2IUqEVLJ2QKkGcEPgJupRKyNuygUjCblG2akdf4gSpe8i2ybC2BrdIcstPiWKineZoXEPq3X+qLXaz2mQe3Rp4cU3N1armlt7VPNIXt9kPkLaamNop2AeC8Gy-VU7cH2JRU88Ey7lBeA9TwvdXhWr4C2Wuom6bgVzvyYPRdKDCCEBBCyjJNrAV9qRUS+V4INBPuoC+rpQ6c5Mw6b819OiG0uAzaCoDFDSArWxX894F69m5JBTE4597rrTm-roxFm7kVzm-hZYoZDwVBWICQEQqR-nEYGkDLGeNR67Uju-YgLV7KdFXYWYigphRvlSD1fQjpa6tn42K2FLjGMid46GR6pACx+VjMeIihlDTvAECwRkn0GDfThsJ2mgzDzbjqR2YOXpNp+h0rEUoMhOjGDU-6cMgQONcduttZJAMWDPlolgf8+FCKib4h+0mhZHMxFKGx1zbBV2HRE3rdkLmGCcZi7OrIjpwugGaHZwiSnYgMQYvJ9jyW3O4bvTwlGaMi5CgYJLP+G0pO4zXIZ5jtdzyfW08dTqunGD6cay1sGflXwdYAIQiU7L6ILl6BIOCFLiG4nFVDuaunHT61huCZb7M1pjg3QDkgC3qV8oohNrl-NZwoeBIRXZDO1rrYhOt3S+r1wZ402ADZmisEao3xvmeDH2QMdA5sMAW1xfrm2DQ6dW3d9bfn-xQTpoZYyqNpaDH6wNN7O2Pv5ZU+6fjFQqOhFmVo7baO6bPFAJd67n3U7gjs3sWo4I-IHdU9ThFlWUdU2BttumTPZrSBBp6wwLMlBQDgIgZA6AeZ4iUSxYgKE3kSK-nQHMk63RC2ji5OhCdZbSVKMLTXnmJFWaMoileY95Fa117JeShBqHbyCYb6Ze8D5m6N0rlX0lmgqISR48RhCdf+lKHLn4fjNGK5aMr43SlRSUNfv7qPJQWhrnvn-UB6D-fu4T7EL3qQhVqq1+HK3wfGx55HgXjOmfPeIvWeUxDfuLcB4NKUO+TMZwlPaQM0eIsRnx7QudooNfT3nt7xHj3TnEVdrDUbovyfJ9+rny1Mdta3ej6z2GRFx7p+B6Tz8TfGfV9V9FC8i5Na48N7X7pHfjZj+JvTw3yv4+Y+PufWH+PVvf1sG2cXjorKQN1-+SPtLCrn3tBJynMtNCMhNAhmkmBkaCvkAZMFXiZMEOHlZDZHZI5NSL4DLOQMjB5F5N-m8mRpHB-tssiNwFAQGn+EdqkD-NQAoOSjqj9J6voMiL+AqCNKQbVr1Awdqi1K3uQYIPBmWtjgRIdvxqKGHOUMwRvKwQ4OwQ0OeL-BkGVIQb-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-0I1PEdpAOH3jX+jgP92iRQNGkiCwP-Q5EoXwP0Rsl9goOjxoN4k-QvYkmiMIo4PEN4N0yEPQQs1USkNgxWN4SUOc3UPr2j30Mq5ZxSUbxC5yCsyi4cwS7cwYBKV6J0G8FuUyHJg2Gq56IEZfopF1OMHupZqdN8G6YSwcBgJh5sGQZ-U5LsJeFZzni9MNNMx7lALOjBpzCzWxBzATh2ENDBocgrMxAcjrNiXBoIQ7Na37OLOhUlzHMlynPTDBrDxeyzV3OZD+gbMD6hXBRPrkD5HcDvPqIjkGgvOFDBpJE7NJF9gAuxDBoLaqD3wsCGBRVQswtC4rDgsxDBqh3HOxAWXcBrkql4Hh1-Mov7lgjgjuQYsxBYugA4sAhNF4FeQEsHOhVanTAUtUs0ugCQiUsxCEvBrABksGCWWUvdxstgD0tnNzjggACkfLLLQroAeBErnLoA3LoVPcGLMruLf9a5DL4rY2AIarArrLcroAurgr2rxLVt0rBrsreBNtMQWrYr5rer3ARQ6r1LRrVtQIprDrEIDRlr2L1roATRdryr4rDRTrDQrrbLYbwbZrEII2fLRrhQbrMQI2sQalzoTo0zPBXTjTsUuNgIIYipcw3AMzTBczmbg5pb-BGh+ALAAAVg5bOYW7UciCqYc9m3wbNRml4YS0UFW7m84GWkVJuf2yYjLPMwvMGhNrNRNr21+cGpAHQGqNHF8zEIu8uy8XO6+ZC1QNC7AJADswi-u1u84Tu33AwAAKLHMIsXsnv2HBoABy5AD7fLT7D7Rj52FbI7HbDTY7VaItBbOZLbKpDNr9o7xUpiZaWb9BObf7JDgH0wipwobr3bm4PAP7TBf7Q7JBeR3BMHfTAhDgFB8GJceGXB304opAn+V0db5AeY+pvUmgcj0E-b9BT6-Jwz2hmWUBpHRwRQ4pep-EtuyjVyeG+hRcIn6C4Wv6HO-bIGQjL54HGmpilNy9d7sQMn6McnNb9bjbG29hSnryAi+NSTRQDjgDknWsWcHAAgDjYgXwLAWKB9HhjpQnzjD5To-OczMl5T4uXMmANTc1FApgDArqHwVUNwpAq6jW6V06ysqsGaMXWd0wN9ESBy7CSX4QCdDA1d1Ird0dMg2yiXE0mMjoWezQxXDGjosGbk4sNw5qnejlb8H8Ijv15AygygftGQCuRgFBHXsrQu4ddRHXf94ISdpQY3WWokFkyd7Xyg6nBoY3EaLXWaDgAyxgzXUCxdH5UBQc63PG-4VDm8+X92CdEIyddX5SxgjXUoipu3a3E0xgxHYgnxCd1gjOTNOcD30JLUIsCgdR8GsXi9UBWeE37Z2k0wOeX6IPoArc0kAm4jWQEYIP4QCWGaKPxrqkpGoPBgh0MPBl4IpGikpQo1wXIEYXsUkXq6IPikzQCPH+-6YeMPcPE4w8R8f+sFSGAPO0yXTeok534d33Rtf3QwzClB3PXCzdE4SduXHFcyruHPlSXPGPNd0vIdgvdA+3TAZA-36PwhEvkvodam8IEPJlW5+3eUoIs1bR5vj3v3OvvP0etBS4NPAYtvP3EIRz3AQCePgP5jWQKP3AQv9vpAPEIYUPadEvIYE3AA5Ll-UQnXH+H3lx-DHSDzV+YMH6FwWKQNsq6rn0DzOv9PF9OIdPn-a1+US8AiIIncEInXZOAqJOaGmInQphwPCI74nsH6LyMOX6-RGH30H5r3b9r6H+V+7xt2Xzn1q2-foIPxPy1H3-1eYLR-R8oIxyBOET-B4L8uUYQLFwzwBlorhtH1Xz+hXUf7NYr50sfzAgt17diKv+sOv9QJoHhdv1am4M9yMrhp39nqbkfBP5u9g0pGCBCw3l6AC7+4-b+MvxcDl87cOBZGNwR35uA9+u0R4ofzDy-8gsaJDQmfSBAhg5eLudnhoWEpoCrGWbFAcYCLiUFGQipeAVvEQHIDP+O3fXr-zywjR5OGjAnkc1P6kxDoH-X5HPEoKv0M0ggtwMIOEJcJk+XA2hKNwuZ8D5ALAyQS9xkF4DuBqkJ-gx1f6b8dqfApcLIKCSmdCgipLQS-zf5b8lBvyb-uQPH7Q11BtCEtlYIkE0CpBpZQLI8VdzYDZMI0EAbNSIHzIAY7Av4ogx8GpwYBlDRhixBeIkA0B0tRFKFjv6n84sSQlYDnRQJ0ZUiGBFwMJXZBZFumGfQVPQDGo-87+8QhuEuCAEpdZ+VQk3OA0yHWQ0imBXIYdXHaeUeEzfTSFVEoD4BWoLUAYBUEGC4Z4hMQoIWUIJ6dCtIhQwQMIBoESCuhOUCcsMJOpQZmErQossEKiFFJlOMsPqKyjoww0ty0DAwj1AYDqARAHAUgCxhjS5BCAX+MoaA0eJCZvBhkW7I9geweY9MUTGBO9gyZFBTMQcCoCHEGBrYzCAOY4UXFOHnDhAlwvfr8JPppw7hy2brFDkezeF4w-xCQs7zGgvCYmAkUmLcKK7MJf+3AQkU-V-5-CEioDbJjkJgSf0smv1MkWVgE45wjY-QBQPfFDIGEKgvzLsGyB5GfM54hgUkOUP7RgR+Up-AUb4CFHEgngyffgcwkMD8pjBmLAbmxj+iciCcJpXkZ3HVEcjMIyorev3ilEyjFEQ8SIlR36BMETRncfkQREFFFxhRhfCRhKLd42jqEsouwUuEvqGjoITwFUtUBFgOxrR9o6UYMHdHCingKovsP6LdZsiNRBoksiyJYjxiORMgdRI4hbZEdqQeGdMVQDRjnJAgf0ZruyOBxZi6AECM0TGjzGUACxqYksX9GdHBIixYfN3u2WT6BiyAwYlqDaOY7+hL6eou9rGKaI1i6xeohsfqPQwtikxWw8wOJ10wHxKQoII6iV36hlIK4mOXaG8O2gfCroXwo+KTiMw0UxGE2ZETtGJ52UqsnORjOuPhGhhmgHETVGWMWxnjDca2b5lQF+GwDJwtYo4s+K4gcQPxG4tmisMxyjc6cHAYQEnVP6046wDOZPhJiyCATWIVAcIKfzhgc1IeiKITBxDQlu95xNWJcR8HQTITbxm4jsdiPgioTYebcCoWNHXE49Hxf4kHEtgjC4Tox-oCMAxI4kxV8xzEqgFxAEGoSeJ9hQ6NxKNHbgycyfWCfTignfi96NnJsuOJ0qgTSYArYcW2S9id1BUfQfdPfEYCTDxEhk+gNwHgHIT4BIEjCpuRYmyoaQQRRkExKSD-ilsZkz8UyDTDOB9OlfPsBZKPFHcvai2WySoXAlwSoJp-dsWkOpDLRFJASccTZOiLaSygRtdqCjH0C4TRRhY5aD30GC4TEp6UQseyJxBshugIo4iOeD3LpQipmYXwIqn8nvggRFmANAGS9hTdDA34lKUgKJD7w0p1EsqYOW6CMghJssY8R+iEzdBwgE3UjFN26DWdJAoAN2gAAkL2DAAAILgBwAF7AAEpu1IAAAeQfbIAgQGNQLgXUCnGTkMjkisZuPiG8BkpH4ZGD1N-FJAce+UjqcIPmHLlLp4-fKZ0EbDnS2pn3FiD9MyAp4NIy5PDItOWlrSNp20vaQdOmGvT7p70sGYO0emao8M+U+sR1IYBdSeUX04hB9OcDuRUx7Q4DO1FBkeS4Cl034fENTE-QMxipRzOuL9qNFNsagEwCegjLnT9AzM8yD+M1S-Doxp0tQBTIWEXS+JSQX4WChs5xAMgB1bxiLEZAAAGTGpHBqD2QuUcszUS-lijUBBgD0LWbkAcCKygQbfeWcbO0Dh08QI0gSGbJFQWzSA0wu+OrOwyldrxuMO2ZgN1mTZVJS4QnrNVJieyL+SSPWf73dkzjAugQM3K7IdCpBqg2QOWVuMHJBy-0R-XTKaDbKF1NZHAbWYz29kpRyQrGJLClm4wPCQwAI54WULrJe07gLsxrHCNlk5yvZVUPWY7Sh6JD9+1c0mFFhKypYUh+-e-oUB7klzyRUAtuXZUIC84aRiWYrCPLNmJSj8cst+LCVcbul8MDSLdI6gJJEJnkcs3aixDeBqJbp4ieefEIzTzys0dsicqfNAmPMke6XW0BfJx7BpOgnGXwHnAUzdNk+GaCME-O-FcFykZshOYxlclPSrpvk1rH1M3JqItK2c+KBeGjmNY45WieeX5HPCzZCuQU+yQQInAYL5sAklydP1qwSyKxEkw+euC54wKIy88kSSsAgWDZ-JeCrBRlFUgQT4JbYr2AhImKL9p+wCimKuTVgOxGANCzLApMkBKSWx+gJhQlOllzTIZDATaZZAAAyF7Q6ZpMyCqzqxkgEWWbJGTUzrpoE26S1A6loyjiL0gcG9KLi6LTFz05PsDOvxyyRkWaexXAqcXxD5FiilReAARkWKkZVixxTYtsK0y9RmojnI5kxnjjsZuMwJYPMW5mziZeo+ENGIiWSL-ZFkeJSTMwwdDcO1i-RZZOnl0yaxjMkzHLJVKbYAFcCvhSWxIWCzHMws6FrkpqWbjEpYiAZjwrIB58iFeS+JoOOCUtj6ZVAYpS4VQZutDIdMzTkXF7GZY1QcwlGXAVAUCzNxPEjSVwWsULKjiUs6Krg0HHfjli2fDpXP2n7vYCpjYgcpuVaCtsgQlU0YYco6Wv1wQey8voEzXn1TPwUoC5fIQvGtL2O+y3Prctz7HLUxJtUAB8pErFDl88-bZdOPanIKKgyMB0I9Ni6R8hpcoBLMdgmjZTEVLSnoYEFFm6zGAJi86egKxE9Y4VCKolXPVRL9S-AjIKJVmG6lEq3S54TrmZSoTnSTlQkZMiksKndACZcyugAkpbHPLCgpUHEHyspkCqSZxg0mOdO4AaSWVUckCOyqBXrkqRkQ96h8GCAtQ7Z30ExTfKslUhLpjIchcfP+SoLyQjxDqQiq+mUqNyVIAaUCDpW4hupX0plYOQVVUI7ZqYhDtZm5XFjeVu8jgIKvZHCrYgoqgNeCAyWJLpVS4M2XKtlYeqBEXqwcaquCaFFZxLgAYXAtmSkA8VRkwmQggylAKiVKdGzDMP8WPAiVyfLNdzMZWAy3INagtVohLXERNVuK9lbqvul1Em165KKGwFmUSq9y8i6GVtJ2n7TvF5IYdetNHVwy1FMqptfGpVK7wB1YskQr9XBAYgPuLaBtbMMqX6rCgba7VVrM7Vwq+FvawcsutcWMgPFyi1RX5BvVeKHJsauWYurdaXrdFZ5GnJuphWOMvSbwOtiwW-itdpsC9GdEBvyoRN-180PfsBrXn9yyaMaXklBpRClDOieGV6hUQWqpBAGwUADbIXA0ZTF64G6YQyVw3QaCNoE+DZfLgRmIUgeG0wKhtg2PR2ExG+teYBqBiA3kRccvjBrwxUbvx-6-APHOQ0MbAVvS2+dhueK4gRNqIPYvRsTLoSelLY5PoJvjlIb6A8m80nQE02xLmibyX5WQUg0aboNMmg2n5i-JQr2RBSUVT+hr4WRHl0-WaqptsKaKeEuGoTVojI0oaxN04jKThro0sEvNDGnHhFKwmdjLRdHHsaGKlCOYHNBy0jQFpRA8zEtwWnzVZsggRtZW7mtTTRrcQpaiyQWxMhlvOyWbGx9MGzXX3s3cKDNs1bLS5sC4caFcjhTHByrwyFKGZtROpSMoaLmbWwYo4TNVp42NbHKBm7nmZu8kHrop4i2KZIrJy2BcIMkMRT0Jm2FSEccOKbu2WK1IglNVm16DZob6J04tufWasNpmjvUUYJgfgGMP37xDdidGOzg5yc53lgGVnZMW5DMEb8yKwhNLactPDYMQlRSzraGAwnUtFIF2zrqynUjMBdhCubMr7xe6v0Ya2ZbqLTCFZb1wGOYLyd5KyHpEfx9GHItXVhwLbRIH2nQZ5g76LFdGU25bRyvwbMZae6it7IpFK08Q9t-ACEKTosE7UqtF5LQDVu4Cc7dBOMTzueBuBICfmnzRkAAE4TgkcCXZ2nHGwa5d7EX5hyt0wiw342pW1Z4JnQfBaSQTRBq+BcAGUlZtqwoPLv0Ax8Y+FkNALbtDWslQhhkC3QOPRHTB5daujXNODpnRJX6LgLyPynpEUNzdKuz5h7o10fkxdeWkKL80SmvzPmH8gsG+CfhaqftPEeISzrZ3Es4978pgJ-MO2DbHNFBNgG-IT1nbI44g1IDxuqClRVwZAO2GIk3ZnKqQrQRkAwOwLMAkBFenqR72r38BG6RwDvkNn4w6pSA9eldpjyBDOp6cMsaxKAwt0ktPI6HKgSCun7uhNefe-AqSwRClqYgFurPjxtaDHBGIyJBiK+HZU9C+h98WYe8v11FAs1ds4IHmv+SNr+VmhOfq7piCvgR9Y+l4hPtEhiIVaWkM3bEHn2eQwD7ksWeWtqCb6wDvkY-aEIKxpqGgoBsA4vvL4Xg7JApGA7Ab+Hu76xYykJUMskndbky++3hUaKh2mI9hAMVoO9jlWY6QYsrBCjxKO158IE1OiRYVPbKxJOyJ0iJkIEMD2RVYve1eeeBb1Ag29TArvRbxEP97B9BqgQHDD3KsG5+7BzqDFNp3cHP1H6RekoZx7gg7IAUtQMtBQnMApI-4ZoGQYOWUGYdrKWg2Mzp3-QDaBgBgx1TdYIVvxTCliWlIXB3h8lv1EHawtCmm8igE3NhWFMimISfDJbUkIptHgUTsMPhvCdUIIkHw6sYiDaIQF8N3iwtgmDFYQBFGn9UjtWXehkceAFGS2bINmhTjABXZIQCR0mFkfCCtwEhS4Aozjy8MEKn6TR2hUPPYTtHejsQToy+IEG+iJtRQAQaSEGPEGyG0k8I1upwAV7RtMfSYfoG8kAAdLAMWq5FFwL9MgYIP9022Ut-WcoaCNbtEjf7d6BQrAEsZ40rGPpaxyvpse2Nai9jBxnqWNF4CrhX6PQUmF8dAAAAvNDqAE2N36djTAXofsdD4o7jjgJyXtZnOPghLjxgQqFBAaj8H3gQh6cCsfBNvHoTBrb3qFXICJ0WAidZQInSgmTAY+ToPALcd4U4nXjkJ94wSbP7EmrKZJikx30RO+QgAA')">function unify_match(p1, p2, frame) {
    return frame === "failed"
        ? "failed"
        : equal(p1, p2)
        ? frame
        : is_var(p1) 
        ? extend_if_possible(p1, p2, frame)
        : is_var(p2) 
        ? extend_if_possible(p2, p1, frame)  // ***
        : is_pair(p1) && is_pair(p2)
        ? unify_match(tail(p1),
                      tail(p2),
                      unify_match(head(p1),
                                  head(p2),
                                  frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p34' class='permalink'></a><p>
      In unification, as in one-sided pattern matching, we want to accept a
      proposed extension of the frame only if it is consistent with existing
      bindings.  The
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>extend-if-possible</kbd></span>
	<span style="color:blue"><kbd>extend_if_possible</kbd>
	</span>
      
      used in unification is the same as the
      
	<span style="color:green"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>
	</span>
      
      used in pattern matching except for two special checks, marked
      <QUOTE><kbd>***</kbd></QUOTE> in the program below.  In
      the first case, if the variable we are trying to match is not bound, but
      the value we are trying to match it with is itself a (different) variable,
      it is necessary to check to see if the value is bound, and if so, to match
      its value.  If both parties to the match are unbound, we may bind either
      to the other.
    </p></div>

    <div class='permalink'>
<a name='p35' class='permalink'></a><p>
      The second check deals with attempts to bind a variable to a pattern
      that includes that variable.  Such a situation can occur whenever a
      variable is repeated in both patterns.  Consider, for example,
      unifying the two patterns
      
	<span style="color:green"><kbd>(?x ?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:green"><kbd>(?y ^expression involving^ ?y)</kbd>
	</span>
	<span style="color:blue">
	  <kbd>list(y,</kbd>
	  $\textit{expression involving}$
	  <kbd>y)</kbd>
	</span>
      
      in a frame where both
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      are unbound.  First
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against
      
	<span style="color:green"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      making a binding of
      
	<span style="color:green">
	<kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Next, the same
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against the given expression involving
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Since
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is already bound to
      
	<span style="color:green"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      this results in matching
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      against the expression. If we think of the unifier as finding a set of
      values for the pattern variables that make the patterns the same, then
      these patterns imply instructions to find a
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      such that
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is equal to the
      
	<span style="color:green"><kbd>^expression involving^ ?y</kbd>.</span>
	<span style="color:blue">$\textit{expression involving}$
	<kbd>y</kbd>.</span>
      
      There is no general method for solving such equations, so we reject such
      bindings; these cases are recognized by the predicate 
      <span style="color:green"><kbd>depends-on?</kbd></span><span style="color:blue"><kbd>depends_on</kbd></span>.<a class='superscript' id='footnote-link-1' href='#footnote-1'>[1]</a>
      On the other hand, we do not want to reject attempts
      to bind a variable to itself.  For example, consider unifying
      
	<span style="color:green"><kbd>(?x~?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:green"><kbd>(?y~?y)</kbd>.</span>
	<span style="color:blue"><kbd>list(y, y)</kbd>.</span>
      
      The second attempt to bind
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      matches
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:green">(the stored value of <kbd>?x</kbd></span>
	<span style="color:blue">(the stored value of
	<kbd>x</kbd></span>
	)
      against
      
	<span style="color:green">
	<kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:green">(the new value of <kbd>?x</kbd>).</span>
	<span style="color:blue">(the new value of
	<kbd>x</kbd></span>).
      
      This is taken care of by the
      
	<span style="color:green"><kbd>equal?</kbd></span>
	<span style="color:blue"><kbd>equal</kbd></span>
      
      clause of
      
	<span style="color:green"><kbd>unify-match</kbd>.</span>
	<span style="color:blue"><kbd>unify_match</kbd>.
	</span>
      
	
	
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-possible var val frame)
  (let ((binding (binding-in-frame var frame)))
    (cond (binding
           (unify-match
            (binding-value binding) val frame))
          ((var? val)                      
           (let ((binding (binding-in-frame val frame)))
             (if binding
                 (unify-match
                  var (binding-value binding) frame)
                 (extend var val frame))))
          ((depends-on? val var frame)     
           'failed)
          (else (extend var val frame)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06cDwc73jxxQIBgeAkFQNA8TQYkLne8xRRBLQKCyXIFEIehiDoShwf25JUnSBQWDIfRxclmoZfCUAAB8dcU0UPl6zq1cUDXpdlmI9YN1IWDkjghFNiWpa13X9ZfRWMjFs2Xct2JrY9sUPzVKV1d9+mmeBagRZ+aanfN12IkKALiZUH3NcoV63uTd1UmYMQJGEBhZzBD4FEoHY+nuHbCb2gTRVJsvLYAMmb3p+kGJvwmEoFKCr-Os8j0U6D+gGw4zuX67z8gC9qYvQXj32LJH-7CoRgWXEMXxlfwRt8BkNJR8Xifa5Gw6I3Hi3+QiyPmoYc1qDEOh-ploxKGNsRuBRwhAjcZxJ7dCXCED8n4vy0twI2y0v7Ix-sQP+9AI6I0FqkEBz8LbHyvqfVOop86F3nnOS+MsLKoLAWvbOLESEWwYFvHe3tnYn2ImfDu+gIznzrBgrWkxEEbyZI-NBMtro4wYN-X+hhnAcMtow1ObDbQX3Tlfa+-Mc6igqMoNgE1sp0DfuXABCtq54KAU3CyJYhAgVUeoyq9B4RuxtvouehjKDlwsjDP4DBzEaNRNY6268c7uMsYwGhdswKOMkcsJhIxWHMMwiErh3DfEmAsZowRBZhEwNEeIruhNwmDAjNEnRijyFuSFn9FgwhyCpNgfArRmS-wjRwTPAxC8jGiXUcrMpFT0lWLiSxVppTymLnxpIMghhtGhNiCNG42JAm7wYPvQ+-1uAyOCfk7pblentLtsIXwoyhrZJYewvJssClD1SIFahzAtBgJ2Vk7B09Z5FwcU40SZyPhUGIKQ1Z5gzkiLgWI+g1zanSKiewru9NCnIIYG8NiqJOgApTvLXOdiHlNJCcY+g0LnA-B+VUrx7t-T1Pufg0uqLRJQujpixsrzLkWzIZHMlMLGywLYtyLQcLxmpxLgwQIMhRncDxJ8lw9KKWQqNG0Asr8alhI5aCLllReWgFJK9Ol6LyX0B+J0EWI8aA5gBpK9lCLOXcvlToMFJzqFiulsoXVMSbkIoJY0uczTwTGHaJa4gtKkEuDvi68VVrRlhFtQJIBzqLWOHdRAkJYQlWev7K6sN5y3lgJGTU2IUqEVLJ2QKkGcEPgJupRKyNuygUjCblG2akdf4gSpe8i2ybC2BrdIcstPiWKineZoXEPq3X+qLXaz2mQe3Rp4cU3N1armlt7VPNIXt9kPkLaamNop2AeC8Gy-VU7cH2JRU88Ey7lBeA9TwvdXhWr4C2Wuom6bgVzvyYPRdKDCCEBBCyjJNrAV9qRUS+V4INBPuoC+rpQ6c5Mw6b819OiG0uAzaCoDFDSArWxX894F69m5JBTE4597rrTm-roxFm7kVzm-hZYoZDwVBWICQEQqR-nEYGkDLGeNR67Uju-YgLV7KdFXYWYigphRvlSD1fQjpa6tn42K2FLjGMid46GR6pACx+VjMeIihlDTvAECwRkn0GDfThsJ2mgzDzbjqR2YOXpNp+h0rEUoMhOjGDU-6cMgQONcduttZJAMWDPlolgf8+FCKib4h+0mhZHMxFKGx1zbBV2HRE3rdkLmGCcZi7OrIjpwugGaHZwiSnYgMQYvJ9jyW3O4azozT1hgWZKCgHARAyB0A8zxEolixAUJvIkV-OgOZJ1uiFtHFydCE6y2kqUYWg3PMSKs0ZRFK8x7yK1qN2S8lCDUO3kEyb0y94Hzm1NrrPXpLNBUQkjx4jCEjf9KUNrPw-GaM6y0br02lKikoa-c7T2SgtDXPfP+oD0Hnf2x92IR3UhCrVUN8OS3ruNjByPCHGdAeHcRes8piGzsLYuwaUod8mYzhKe0gZo8RYjPe2hazDQUenvPaTh7B2nOIq7WGqbUPvuM79WzlqY7a17dp0DsMiLj3M8u19n4guAe86R6KF5Fya1vYx3z3SIvGzS8Tf9jHiP6cvcfc+u772lu-rYNs6HHRWUgbR-8mn0setk+gpyuZ00RkTQQ2ksDRoedW8mEjkywR7tWRsnZRy1JfAy3IMjDyXljdvLI5HA32zkTcCdwGv8r4G69QUOSnVP1PX6GRL+BUI1Y8MB-tQdP2qWq4-j4IeDZb8sqfdPx0UYdyhZ43jnhweeGjnl-hkMqkfTeeqp3H9vNvyfTBRmjIuVu4L0CuZl6zIHCf-WJ23ug1gR+j4NIn9fG-phm+69P-hYJc8+fXX105xNJvd7YJj0MpQznTRFTLdBV+b-087BqZYAWTwKm99OSvfvbIHIXBWNfASBw9BBtdfBCp8tZpyMo5c17cqIRlv5DBAdRMJkNB9AndAQAA+JXE3AGJ3QHaBQgZtFrJGb7WHWFcXD3LBD9d+fgVQI3drVlKgxlQIZlDrS3R7BXRXPvebJaBlR-RnMEbgunenfg02QQ4VDVMgLVagHVd3R7O9HhaHc1ONdnSNNA4iFPVIdtSgTtUNTQ8uCYILS9ASd-PyL-f4XQ4udYKtGXcdedMwooEaSQqoUgUdRw9BCdTgD3KwuvWTGIc8Dwrw8uTzRkQydwnNBw1XAtEwtffwkMWw+-G6UIhw8I6aDvOTVOdI85TIqiPLPCQIwyNw1nIwgGTLStPNWXSgOtBIvw5QkMArWAyOO3A+BwVBKUObJPeFASSZfQBgXA0SSETo37dUOEbgHohdHhQwbkRgfAfgNxE7fxEneXWuWwjnKbXadTKkUtRkDnGopNKbIouuM-YRCWAw9Q31a1BI8LUodITIcLNYR9aWTueY2ZJY27VEEZPIrneIuozcOfaYOYoQT4sxFYzREZYE-0b1Co0YLwuIuontLhAIgib-FYUzZYtRU7C3eXQyMbBeb4qqLbbYwyZoR4tgKw1omNNQsXdXXnWuc8TZXwbTLkE9Fkk48kc8PcKrIEUEhYr4yEn4zaM9XwYzNODTMoEecY2oPk+AkCOZMYsRJ+KUXkiUso-MDrFk6BCfYRffeQQ-GcBsVAmEnfQoZUvhOU7gM080mID3GYnONQlXfNUQhk2gqRBFO+VInGfQcLSQ75F3KpJQnrR01rb7V7N0+hC2bQ7k4qAaHGRkSQyMzzUDYMsQiU1BNbWhSbFM0kmnaaQHPyEaaaFQp077YkvE6MohRk4iLMrbSbSsgJdbXePbEMSQps1M83LRDM7fXncrWQSrarNmOrTmRrSwcgiFBggGZGPDJde2foLRWc0ARSUoMPHuRLAsFc0MYyUgUyfQZGCyO2XeRcloGBEwLQYQAIEwYgBQ2oRoaPGNHHbPRfIZTw7gHU2svowBBecEJvEQFvZMcEPsmCDRJfYZD8sUos8tLDf8ouCvOcu5B1I-NFZ2ZvJmQ9YDAfV85fGQPDQ1OVGQPlLNEDTkvCugoNGVI1IihVEigfKfQ0q5ciz0yi3Nai7gE1Mslib0i-OON4NGMZU-NEX8n0gsYCyUgSrNKXXim6LIii84gjL9Qs55GSnGTCliUSlqfi9BOSlig6a9LILIsMpGRwL4MRTqfUnMA-K5D078lwCMJIltNyPI-TWywoPZRyuAy1MyimOPQZbQ5Ody1OUmOGaC84c8PuFqfQ3EBimfC2RkSkk4OAnHQZIwFs3UbGAsXooKhFRudK1AhMrKkiwZbMoJX4ozSIQKoS9uEYOmWDZykqh3HPCqpOVNHKgSCMOqmk1Q1GN4yy6ynw-K7GAqlgdYKKx7eStEaWMQPuNK2hANDcjgTqWatcJYW-UaMycmH6VKrbAq1atfUAUa4wSy3g5oJama1QOasq8IAAHmBGmpWvs14IixaD3J93BAABU5JBIhBWSndeAk1qQsQ-17zRJQAABqbc0fSBTqIUbZXa8ISG8S8ECGqG8nGGsQOG8aXUT3CcXc-cz676mQYgeyKvMQAG2tIG7XagUGlGyG20jGrGhG1G5G1Ghm9+ZaLG-a4y8wfKVbBsuOLbWMpEWk7rYuOSbENy3fGNAUq63ePap6lw9q84ykuWnGmEq7MW9EbEW0+00y-AcyhDA0uK1+B0mE5oLbFSIEQ6BG202YZhfa20i2+YtLNWsIa0W0bm04hiPjAwK3K29kKuaK-qxizBIIooX-NWiyayO2coUAObaAo8dE1TPsEIwZRkFy1KpIvsEaWWuGUq+W5q5jEC6CfOpqumCU+MckQrVOK3cWogYTJom+GNes9KzbdK7GYWxMUWnMeuyWia8OyOWW3a4anY4LKdVW229CTW3u7Wv00fbyg2q6WKo0s29CC29KgOm2-K56mSUiQ6Va7GXepSWWzCHej2wyp6yu2vZI8TbrAOyKi4jtEOk2wS-0SOoW0SGOxYkQeO0ecAyMxO+iEo1O+MuGDOmI7ao+bOnIhFPOkq3aousGEu7cMupApBx0b26uuy2nPuxunrAckGIcuQVmWrDmBrbmDAScvRYvUvO8wC1EFfXrPRRSoBf-WhjPd1LNDhsvXTCWDgMBO7XPSDGqnJdhY-LOc8Hh+hpmeUoBZ0YNOYcS2IOYCcNfBR38jkZRmIDkNR7fYNBCbRjavRjRucMSUEIxkuEx6YYNYeL2cSuxzIf0dRmx384KJ9cgKA7gdx9RVkg0FxinX83-bR3-PsAJooYNG4Pue+FgQwYCqJ1QGJqrFYcJwoYNcGox2IA87gcU4YsPSGvx1J2IYNdyTJmIbJ0AXJgEPAsPLyQp-R38yY6YCpqpmp0ASESpmIIpmIYNYAMpgwQ8yp7uNpsAep0xsEcEAAUn6ZaeGdADD0mc6dAG6YVIhB7kydmbyYDvFIabMYAEJhINnBnWn5nQADmgQdnxmIQbqZnjm5mw87qYhLnXGzGbqAQynNnqnTm3mnmVng0cDbmcn7nQA8DfndmJmcD3nuAihPm2nIWwWrnwQ9n+nTnCgvmYg9nYhZznQnQpG09OGGGST8rAQQwBi5huBpHM9ZHcX4zKXy8B98AWAAArC8vk0lzA5EYYgx-FsvcSjNY-FZooOlwlo0J0IqKU4VkxGWORheYNd-cS9-QVu01Z8ESAOgNUaOLxmINVjVgwpVu0yJqgRJ2ASAbRhJhgE1-V80w16JgAUSMfNdtatZ32DQADlyBXX+n3XXXj7rMaWJWeX6GpWq1iWAR2XsRhQvnDo8KKXA3M9g2y08WS8CXg3PM2WVgBjI28D+XNweA42tLipTEy04DC9hWK8HAE94MS48NC9vpxRSBDcromXyA8w5jepNB57oJhWS8n1aihHh9Msndq2jgihuqc5gIsQX6jS8Nx8+qV7Z9oJf03j9Ay2B8R60bydJXC2BEEaUHCgl30ZV2N5ZlmXWWbSd8t2NNTE03nXYhH7g752r4s4OABBH6xAvhRrGxH2ZYDj+JVtv2wQxWKsN4qsSGat2Z6suZMBqGJKKBTAGBXUPgqobhSBV0pMeMcG7HlZVYM10OuEQx7aIkDl2E8O5QkaGA6bqQObYaZBtlcOJpMZHQgdmh6OGNMGYKeFxYbhzVCdLy34P5srqryBlBlAAaMgOsjAE8RO5mqtIasCROA7wQUbSglOstRILJUbhPlBb2DQlOI0BOs0HABljB+OoEyaCqncg5jOeN-wcGMaWaIRUauPyljBeOpQBjLOjOJpjBK2xBTCkbrBwR6rzAvPPCWoRYFAsD4NELp0B0ncgcVPKTtJpgQcv14vQBW5pIBNYusgIx4vwgEsM18uznVJSMEuDBDp0uNzwRSNVzYPhOQJEPYoUPV14vFJmhsuDd-07t0vMuJxh4j4zcgykMoudpcbhdwRHPIbQvjqIuhhmFE9RuuE2aJwUbKOGy5ldshvKkRviv6bVuwbpu6BrOmAyBIuivq8lvlvwa1N4RkuDRmgZuAZzGPhxKiDpSTuIvxuZsG4lw2uAwPvvPnvDHuAgFKvouL6rvuAnvTvSAeIQxUuMaluCPRIABySj7ApG9HhHqjj+LG+L4LlUY7oHhDgsUgbZV1cnmL1W-6bD6cQ6Sn555V4NIQYQZG4IZGuycBUSc0NMZGhTDgeEb7ooQMYnsL+bkYRng6iMKX6HsX2bs75jwH8XhnsnnZ+8LIWX5X46qXrityZt1t5QdtkCB-H+DwX5YTGBGLrrgDLRXDFHln6m238S7bzpO3q3vd2IAYg39YI36gTQVMs3q1NwXz5Aq34X1YWbaBq3h3380jCBNuzb6PwgCP4HM8wgPX8wRntbEPZGIveQYPsPlPjYhvB9P9W3y3lPsekItdzeoEEMDbnbQb+i4b8RXDa+vF83twOeRPRkAY7PreXP-Prvizy79vvLEaEDS26rwxlH0mQ6IP35Hv6vA6jNRf7vouRPfDlYbLWv2hRTkue7kXvNkf5fvznHqfuv1SH3tt-3k3qiI-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-QC-O2ntyF564Ebr-LBKGzu5hQLCcxhBkWFjZTc6BapEInOyZIJEmgSwRaiM8n5FMMUmrAdiMBMFmWW8ZIHvHai4FL+ApKdJKkMBnJlkAADK2tvJb4zIHdJjR7TEm-0kKemLfnhSIRkU3TLVKalJA4pA4BKUXCkXKLV8OPPKcrnOkjIs0ui-+QYtIE8K+Fgi8ANVLUW1S54mi1KRNOpEHtBgjmVqdqPamdStF9c-0OCH+n9Snh8IN-q4v1EQgUBPi86X4v1FC875kBYxVovGkQjJpGomaSZnOnDE5898-+TQopYyKwpdMXaZIH2l2KclKYj8WIn4ZUK1eCCj+UdPzoii8MiS2kckt3wFi8ChkSaU4uWKLDnF6ENUJv16mNTEFchHaZllfGF5NFgy2RRXT7K1KVRkw-gqTzIAU81eYYniZKPAlSlWgnLIEKJKIEAwte4IeZYzyAasTEUaQzZe3jq5lLe2Cy8nlUsWUrK6lEY85T2XoACURkWvGZfqI-GigVJDoDSWKPYmtyOxBXHWIiiEy6TSlCgwIAdJyjfRopqE3aLYV+UbQEVY9YIvGW0lAh3FWYdSQitOI-zEgRMkCKhNWVCQzSQS3id0B6kNT6AES6YccsKClQcQ1KoKbSoGl7tSYqE7gK+NE57kqEJKupVgJAYwEnK5gD4MEBahgy4VSi7eUJKpChTGQKCpef8jAXkgkVtUv5alLRWSkqQmK90LVI6k4qupOSnoTqoEC8qiV-80lSS1HwUqORVK55OEoGmmqmVDqsJRwDpV-RgKhkTGedO5VzMLVVCMGYKpgEYkRVMHAwWDOCAwqtECKsUY-LjUo9I1o8hFTjwMFrS8VOUihMID6U0rY1-ShBLXHFXQqSV0qioMjCwIFrV84C+MrvFzWsrmYQIHhWVJcluTPJli8kM2scmtrKpwizlVWv9XDE61MamvNVXBAYhB5oqlwMmseCyrCgxayVc9LLVMTVV9o4dVIsZBmKBFQivyFuosWwSlw-0wdV83XX6K9JCKcdQemUl6FLiuIN4Ey2zwoFqeM6J9XyMgb3r5olfQTgMKgxtCYEZBCtHAhAgfqUQRfb9Scv4GkEpKN65+sFAfWt4n1Yo1Wq+qzXOVIGcGz9YhohEqyANMaaohhtA1fq8MkG3DTwhqBiA3kRcahVhrMF-qoNkw+9fgHJkgbTABVT5dMJi7B0WNjDbjWtWmC2YEGTwnHoxvJnVFeNUheDaxq8X2lKFNyuPO+voCSa3SdAJTe7T8zKt2NkosFEyp-QiBkahytXuJRE3VqYOcGpjVogI2saHlKosUcHUs2MN7NfGshV7BlG-D5RnS0EZ2z7AGbFlOedDSkCU3rSAt80d2raNJXqNcIWTOZmZtE1Aa3EwWwjY5oi2j5NNBo16Dpo54WQfN5PcSjFpM1wFyNHWLfGFrqUOL9RU0ukTrR7n-1qm6m1sFsOEyybqFhWy8nJtG5qaMJRQFhQoMonBKK6tgSLcf261sK+tUc-8IBApJexIIDQVLfTB01c99NTWwzVMWIAUatAYrSOCjBMD8AAYpg0YZIToxvsP2WKY2ofg-E38-eAfOOMVtm1Fhc61IpJZgUUg2ycCikLbaJ1ZTqRmAdgjrLaXB5+cDqoVW0t1FpjDM3hkdHMOhM630CxBHEejOATpp+ZxtRQcEBdu-7TQhevBUoMNt628S6YEYykig1m3pb+AEINHXf08yLatSWgOTeJXJ1XbBoSVc8DcDz4+NPGjIAAJwnBI4bOztNqPA0872IvjUlbphFhvwpi2quAVCKOQuFsBr4FwBuWunarCgvO-QKj1R4WQ0AWuhlbXj6FhDYgqu5UdUOmC86RdA2acJNOiQHUXAXkflMMJgIq6hdnjM3WLoKos74tIUXxh+M6Cnzz5BYN8E-AlXWavlpA1LSTomY+7PGfu8NKJGy1atI9Z8pgBfI20xp1+qQahdUFKirgyAdsMRHq3WVUhWgjIAfsHmYB58097Y8Xpnv4As0jgUStVfxh1SkBc9mrErkCGdTFiZY1icOqrvBCeQvIae0AIz31WlQYg-e3yBu0d2e7PG+gGHtQtaDHBGIgRBiK+BJUKClB98HNVKAX3aqZ1LUaNRmpzUxrB8CC43TEFfBN6W9BhNvaJDERLUtIyug3U7u2R97+9XkVCYIC32iA39nkCfdgIiAFZhVDQXvT-q8jD6X8VWUA6U1NWm6HxbS6kU0uq3-QFpo+OfZUtPFfbTE9gvZWGO5WQ6QYczUMoSLj0IKIE5E1hbjo5GUlYk+AvyZAyECGB7IqsavSxPPBF6gQJeofhXus5vhjuNepGnXpPxp1R48pEg60DIOdQKJpK-QNQfPUT0Z0cMJzcf3BB2QfqiE5aPWPIBSR-wj3eXhUt82YGftrKcQ6IwwahaQdBB4YqGTmUJyg5ReZOdQA2jBi1w8SuVREOdFOiPMemVKsGK6q+1yhYgG-YqxcIjQ4FFc+MTdCqFQ7lWLhvMSO2rq1DS+BktcL+B3xZyc5KwZko6KBA6ZvDR8WI34fHpuhPoQR8zMGD7Ci9y5u4-GVwHbkOjnRk2KI0jqgj46+wxkBOTUc7pxGEjfQ18BUDuE0YtEsR3w+eMqrpHIQIYEaP3OvE9HAsvM3ARPk6MJkUxtBrAGnra2o9dB+gTrQAB0sACauYUXHX0yBggkXQnZUyBZyhoIGu0SJfoNqsC1jv-NwBsa2O7H9jKaw40wEUEnG4e7YsaLwFXAHUegpMAE6AAABeubUAHsaKAdLjjpxiwz0AhNXGdINx8EHceMCFQoIDUeg+8CYPThNjnxuE78eOag9fyWho8sjWUDI02ekwVHk6DwDrHqFBJu4V8Z+jwmSTKrck6JBYCUnqTQvVE75CAA')">function extend_if_possible(variable, val, frame) {
    const binding = binding_in_frame(variable, frame);
    if (binding !== undefined) {
        return unify_match(binding_value(binding), 
                            val, frame); 
    } else if (is_var(val)) {                      // ***
        const binding = binding_in_frame(val, frame);
        return binding !== undefined
            ? unify_match(variable,
                          binding_value(binding),
			  frame)
            : extend(variable, val, frame);
    } else if (depends_on(val, variable, frame)) { // ***
        return "failed";
    } else {
        return extend(variable, val, frame);
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p36' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Depends-on?</kbd></span>
	<span style="color:blue">The function <kbd>depends_on</kbd>
	</span>
      
      is a predicate that tests whether an expression proposed to be the value
      of a pattern variable depends on the variable. This must be done relative
      to the current frame because the expression may contain occurrences of a
      variable that already has a value that depends on our test variable.
      The structure of
      
	<span style="color:green"><kbd>depends-on?</kbd></span>
	<span style="color:blue"><kbd>depends_on</kbd></span>
      
      is a simple recursive tree walk in which we substitute for the values of
      variables whenever necessary.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (depends-on? exp var frame)
  (define (tree-walk e)
    (cond ((var? e)
           (if (equal? var e)
                true
                (let ((b (binding-in-frame e frame)))
                  (if b
                      (tree-walk (binding-value b))
                      false))))
          ((pair? e)
           (or (tree-walk (car e))
               (tree-walk (cdr e))))
          (else false)))
        (tree-walk exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+zjwKgaok5k5XKPV4vTqsgA-NjuBgNQmiKJRaHnBB8gvJohDkKAeQtKAVzkLvTCsItbxF1MoBg6A9zyAtYNoH-EN-YD1NMHVQRpBQvEsBoRgLQzYZhXpba2UDqAwNJhsUom9QCtHaJ0Fo6C0gAC5QCE0auAhy7EOzINQQOfBGC2LZyobA-QtDCHXxAaQMB8gIGvHwow0m+d7Z40+CfHIqhl7nSvkHdaMwRHyFAKiXSyUWQACpZHKK0oEHSQdqAGkIJZcBkgeAvAMS9ZiQQJECkIM4WR8i2F0FAQYoxPCiJSN6rInijRKD4C-iEbBHQEjIise45ejQZJ+NwQMRogxiHSAumYxoFjGG2L9A4rhkh+AvC4kE8COQPHDQQZIcJATVCMOYfkxomCildBYfkohvZSmRNKMMQIzTzBQ3oIoO4jjjFpIyaAeYNF5AhPMBYug2TT7JPYZwg2TjeyuJkTkoZ3JPHeNUL44gbR-FdHuOM3Jwy0gXUVnM4ObjFlPBqeU0E4JVAAW6aAK5EITEvAGYsfs5zykfOcWoeZ2JT4DkaWkaJ8hYlyPgQk2gYRNjQNvgolJHCnlfJ2dYxZeThpeJ8c0DZODimlOGQASEaIc7EQVdlnywASz5jQHmqGpQil5Qz3mUs+Vk5FfyeIUrMECkF8T8lEvqT-FBLRnnjmWfk1pgKNjioIIzOqdBQTkFIG8VQLB9mVzYOiBRLJtG6M0CyC5QRMHar0fqwIRD1UYhZJEC6jAgwmoNeIDpNq7WmuIYwZgEIWCsgAKrEANMQagAB3Ow+9D66gALRhp4afDR5gpUyVlfKxV24LEhtQsQX5ORbFCIzUsbkFj762NTUfdNsjVBaqyDqrSFiL5XwUUWgkOay1Ws6VpOe2bnCRDqtEVQoFKBnP6SKsxMlqW9v7fSluoAO0bMiEPUdp9VBTq7T8IdpVs6LpnRO9d0RqKLAXZ2jdK6Nb4S3T8fuuoT2SEiJIfAhklhzpyC8G9HJl4yThT2o8fbT6PtvROx0CgNnvrAl+gdgzv3PsPdSal7b93dvvWfEDrywMkhCngJCDAb3PygHARAyB0B8B4EA3U8gXkbQ3Hoe0xBZiS2RlISYh9Gx7AMBcw1ch6M7tJOqIoFyiFEmlGRpjw1DUVr0ehBs7GrIYTFBKKUHGmxFAo1R7jwIKInn42Un8mDiO9RU4xfjCn1ONB44mV0pZrRqeY8QgZkgRypj08QyjBnShGckO9Rq5nBOWd6q5hjtR9NKYEsSFSIkCoaT7BZ7NSEbmBf0jBIyigTJqcZUyxoHlU7UG8n2Pzw1nNU2NmFjzWmZi5fht-I28Mlbs0y-ZxT2XgTJ1Du5jTnmZj1bTFln8zm0pRRdgWTjXgLOFZBouCrtm+tAV0DVjrwJ66l2LflprM2fKFcIBtJCw8JJVYm-oJLlKdq2XpSZQe63xgJbG9t6r-YlOKHdW14CPq-WBrsEKPQSgHSgAjc1lbCgd46UW6oYQLxB5wNSOitZUhnSUBYPVP617qr-ZIP2Hlr7i7SANhDqHv1PiRYB9fRgURZaxpiXE0HIQyStFhwLeHxBEdgsWhCq+Lora1s+6ttuacqfbedUyv9uh6QTfBLQGKXPktmDWwZDkxkOc7ZF+UoH0uZfDTW-z5gNY7jCH+fgmSIQIr0pKdOJnjmms6-HC52g-67iM+kAJ8pRCqktABVyuJtPrsoKp9631-qg3SvtvrA+73I2LZjaAYYVV7Z7YlAd9emg6D6fieZIuqhB7yIAHws4UInvH+mIzR4EQtQb3nbtbYgx7KQ4RL5vCWyR9P3mQSWDWqRs7+nDdpE01Xjj06ppnQhczMzjeLv6qIcthvHflrWat4oH6lA-qbYc9uHSg3ismxjxdsxJOpCZU0PrQ2RMbY05YWErFWz7eSqJ3ItfMgTSK2djFX2qqFzUiH+noWTtus34lk8LbALg+n55WYCxz+r9nJ2NbETVH8lgACRtXZTZttP8WFz9jdBl-twQX9Hh2M99ykZIICUR2Mv8Wkf9ac0gZIF8e8SthcFZIDTZd8P9Z8WEpUQ9CN+Rw9Cl2QTNikZNgd78gQLJVBJAU9gJlESBqwuh1EXh2Dc9dQ6B1p01qBL4oIf43xi1Ts5NZQNhz9F8+xVVRk6ZbFF8KClDGNRVCCaNdZN8DZ1DfYudMEKhpAuciF65ed7gpCxRZCdMIUkDhZAC2ZUxb95cRdJC8hnDFZXD6BVBhdyls11DyDr8VZd8Nc8DgUnd99jDgj5sPMAJgjRNsgNCTUiFrCv96C55BtWs7Mi94ELE05bF6s0sMs1Mv8LF5kGAFF-DpCXD5CYICQTI05DC6cnwsEWD-QAlGjFERZbJBDWDtkGjuiiC28F10tuEecNk6JKMBdVcbkTlYlfCFcRcxiBiuhl8witjSgttxD+RBsusvDe9lDxsHNi9cZDRPgEDd0ucwC9dhsQsNtEsLsTixBBsbNLjGNY8yj6cEM5EFEXi-jFZ6VjtZxPjYDAhqxMiZhdcITESqt6V9Mv8ZJ6U59GZBsUiSibj4EEShRJNdcMiSSGxMsWEXiMioT3jdM+8ttNjYDDhUNqp0NmA2AsNOBcNeB-4GCdYy8lgHQX1jDMhshch8gRTQB9VME3sNVXhGBFgZTalXUbsHRY4sgcg8hiEnQf4FAhUoV5Ap8ugCEftGYIs4dxc4thYXg05ASPRWIAIJoPByckJgxhdrSrB4s7S5iMS5YA4pAydFjsdRT4pS9Ep5Jkp8AHxXSQzqpE5GYxdYtvThZ-swztpgYnoYzQBDoz1+Q1t2d8AMyKZFZsyXgXp8yxAldliVcYpizbjhiyzQYcyIYcTBF7ihtthxNHxzcSyJglFHiaYei+yqzswhz31Bl+yq4ozGR0TgIhzEz7YhzTc9BUxx1GyApx1vi7A4Yg4zRt1ldBdUxSjHTqRewWS54ICn1pRTzOCs5uhLz58yB9zPhnAfIbz4NSj1h7z7kwQIRPz-ThgLF3gJw9YDYjzVdbE8iBS7j8ZPyJMGxl8DtpzqUKTshkLxxbYrzb1ESTJPzfgfzM56FugCKxymAOR2N8Kf01guZfzewyLeJ58HR-0+dazjzbprINiQNl9nATQJxCSzyvRdAoh3hEKMLDAFSchogxKBk0F8lMEoNOyEL0LuK5Lzs+KLoljJsptpLRKlVVKzYAAeXSES2SlQeS8pTTN1V3FkAAFSyD1DyEFFxyiCcBVksRR0oFNOAlAAAGoVSFdQwZ0vF04uKzYArgxfKAqDjzBgrohQrJz+E7VB8bKIR7LHL8B5AA1XL3K9AGAxkvKfKWR-LAqZd4qohErDLDBIrWRSrYqzAKrEr1KdzdJhNNBETxNVKHTNFcTKMZAshLI7zSgdJmjxK1KLK79iLPZrZqrYrNN+rtFLIGrzA9zqADyh5IKYpjjYqiFVL5EMQOw5qtjMEOx1KVq9qpCc5xrSZMl8IWrcDY04DVkJsDqFFQKTCt8tqihf8ggXcIRuq7tiBMhWhQAZMg8ghHdQUTV-9b1bFrzb1F4aCMDLwxrPy8L-sf1NimV0bI8CLuiWlJUhLdzFrBqkaqN2zgEBjOrddAaBkeq2k+rZgBr95ybVVRqrrDLhVYkpqcJwzJQvYbrm8CtSbWaGq1qNrtKVjtqHNhapt9qFSjrwq5aPMiUzqLLuaVb5arquJla7qiIHraCyqygXrKM3rMQwLTCpa6yfqCC-q0rxr3cQaNkwaOR-c7FkwsoCbCcEjobylYa3aFEEaOQ2bHqjDWI0bcLDLMbn1sbKVcasKY7kNvbOUibfyJsWahqaDWSwA0Mn4uSOAcNuA+BsA54Qh0docsc4d1d3YI5Iz2occWQK7MclyFpm6TTL04gchAw5sa7x5qQAp1cQpq0IgMcO686FEAJaFnSlQorzAlQPlOdShnSuw56zAuxF7fDnSHk16-zwRN7p6lF8xd78wD7l6lEZrpAorL7hol60hnSE1DxBQorH6lAXKfw76ghnT-q17-rylP7AhnT9R3hrNnA6BgxgG3hQGGBGgAHzBnS-Ld7zBVANTQBBRJLU83sAr364GzBnSw0kGzAUGXh0G+C3tI0cGt6lERDShiG0GMHQA3tlE0GzBcGmyy1gBCGv5UHSHURMHQAwBKHD6fQABSLhuh3h-hkRlh0ANh50jVJBiRhh+UjEdBqhn0AAQnREUZ4eUdAC0YUTUeEbuBZCMvEd0bIdABMrMCMfPp9CMtREIaUcsYcZsbkaUWT3MZIb0dTzcfUZMeT0cZeCCGcb4cYdAECb8eMbLQ0a4fCcCDCbMA0fMBFNoTzWBPbphzW0MvkRYW4KVHPlHsrop3jFlhHsh2KbW2oGcAACt9TGi8mE9hA+Dt6imW7yEe58Ih62GghMmq6BZZYsBymx6YcJE8hTZbEAJnS7coq7cenDj4GlFIBiB-E5Bn7gnlnVn9Z5mFn2GWRIHJBYBIA16DmjmdmFmgHYIoGABRXeg56585w450gAOSUGea4deeea1sOPSd6L6dXPSlrBydREacsm8TCY7GLMKYqcxwBefGgIGGGeKbGdrAO1ycaG4PBdT0HreXuTaY7pRYRdguvhRzR3xayerpIEBzx3zGnMW0vXTWwUYFRxnUkBqaUHmEkIiE31CKZX+chxLh617oRzjrSEHlpb6CCCYsZkORE2+utGnIWLYtmGltTC53sIA3+eyfCpeBWrxZhYJfp3GbwsefMA1e6C1bbmqbqYoH2MOP+cJaotNfXqxA3y+vYtVxChyCvg+qiCDj4pmHleZ1lY6qDbEQGEfjzowwLuwy4EwAwGJd7OUAoEkFhjCCon1EYFDjg2nM9hcDcC3I-RRUuwqRIuut7BzcR0iskBKoCqavwB8kLaAz2TlqISbc-T2XIuqH1AJnFwNJtBnQ4OIqUFIFICcCtg2nuEB1HYYYYACsT1HfNpZBKswWXdACISitrevhndFfyWXdpjDGwp0hIAMgugHbtFcuXyOxPaPAul+DxWJoFHCBnVKpZDLVKu7ZEguj7e2W4OveIFPfgyByreAn0BZHIpveFmEUUBYAz2XXgS10QTUEHjltXesL1UMwdmShQ9ADhAuTBwFutl7BQ+KB8DLeI7x0RwMeAm3lQ6-g7Bw4VJZG3llJHOTcVjTYbUzdDhQ4HwxWsy8qblnBw7w4+V43ALbnpOE8o5LY8zfa3cg60qmFg4Y7x0Oxk5quNp-BKq3dUqkzsmlCVzElCxI-qo+R09KsU+g8YBU8niIiBzg5In8rtS5Aw9qys7LWPupfDD6MA6+Bg9k9YXLv-Mc5YUqQA9vaWCbv-KioAlU5+H1uQ5k5eCs-85s9beBAqtC9LZZAAHIt2k9Ir8uWE9rn2EqG3HOIOIuoPU3FhGAfJYZ6vc2kPlVMpXAIQOxGvbHdm9mb5N2UFN3-UgxixTQW1UorZOQaFS2PPOu6u1HEUuvztUvlOMuZv2JFvEvVANvfPIvavFB0HKbdR2XOXSBuXISTdnRg5xIo9muBOG4hP8gl4wvevBPi0oqjP1INsl5d3zBuDjuTRTvKBN92Na8rvTRvOTIl5AughnMZMbvnvnTt4QwuL9O4eoeSvdTNBDv+Quu6wXsHRQf4ZTQbvV9VlC5XuTwoeeV-824FatO4qUfbI4ePv+pHunRUURkMnmAieLp6Qgcs0E9cfntzgCfLueeIebvvbMDaeuKl2d7nvqUOwxfxJrhgOOmVwiJlfRu+e1OpunNvd4xESl3j6FfueVedf8cMftWMIl3-uuWgfzvBk3OW896AKZeMIfuzA-uOWAezuQeter21PJeMvqVreGxCmwfefrNdf8if9z80f2fhkZJEeoq9OmeQ6ofY-fakdLxJx8jpWfdBQD4SeEPjDqUnvS2OwK-9f-qo93cHsvcpO7BfdJuu2zcYil5Gzgvrlq+XeLz2eMfa-Jx6-PddzjOJIRyVZzT7Y-ROkqJyBqBU5jQWg2hHz2fGyW+SemPZ+bVwOAyB4V-rNRubUqJ2dO-S+J5s5eyO-E-sfTgnxxm+109h+KKSQUvgaZDFjQJJBX4NkchGBl4OkDQJoCWzr87a5+BeFTztqBByiMGKIJUTgEMtr0iNF-oxRRr807ce6adNEG+bTcP+5Ob-r-xaD-86+r-IZLtTpwgCsBS6cTCeg57xFuU5+cvon1+q-lqUwAxtuxCh4vAOB11KHinW-zZ9oBxFPPrQTTrEVeBS8O-k9nCC5AWAd3XnHISfrbI6ATiNoMoPpB0BTEF-C2IR0wiHRnu6gt+tcC0FiIMeivaWIdE95fxZ2sg4kAoMWJGDBQKguwfIK4hWC9WWxJwSYJegTpIgUwbUjDm8HIg1BwKYwZoO0GPtL69wAwaW2CGhB+AZgzDhYOziqDnWNgvgv4MUCBDPgwQ1QPENMHpDhoYiPgqGDkHEp9BGuUPAtDKH2D8Ah4KEE0ypYChpy9Q2CP+kiiWBiQNocoZi2aH8JyKbQ8gB0NqGwdRht3awj0OJB0drCGPLIcy1yBBCwhzg7oCaiOquDHmJQsJkMJGGuCphbg6eF0JVSzxmKrFS9BKHOi3B1yRbYDMJCAgEUzEsA7AfAIUQXor0CFODEhiGSYljCmAugaxyVaAYO28GO4V8O+ZEJ5U30SQMA0VTUDWWuuOgS8FBFkDWqkIifNCNgiwj5USI2CGCMbKfkl2+AVcF0BKrPcWQRI1UCSMH7XRGo2I0AHcMMDPcCRZgOYVIAXjypGRpbJVucIBZXDrQdI5EQRVZEggQuHI3DvCG74QgGRCvdoeiJhFKpewHI6wT+F7AMjlRVKWUbYAxEKolUSvWCEUMOIdg1Rng+Oj+gy7kjiRLQPftUIkIzpvWaEUYSg1QohdUGWw1PNYVaqKof4BoazOmh34nh-R4wF4LjzpG48HhQJXovKJBhjIrctiNEVqPlFbc5uIooCIGNoC6seunyMMT+h+GsQoxluWtBagpE5ArRz3WYZhw2r2j00jo-MfritytVCAWlTtI6BpT6iu+UgLLnqL7gF8Fo98ToXIOmROJwEkQmAcCSGL3xBxPSQUJWSiGYpNkuCe4IYCsJex12AoaQQ6jaAE8DE4oVsemA2AWJwEtiLsVMWMILxwES4mjiVSITgJtw3rUAHZQAAS1zSQAAEFwA4Aa5gACU7KkAAAPLPNkACiGCleSsCKoj+1qDoruO+h4idBQIRsZ8GbEOgoJE+Ojn2MQmq9j+kE+MdTgx59iVAn0TCSdnIp4TKg4Eufm4WnKPjnxb4j8d+L-EATiJVgBlpuIwkQSTsyE2wNOT7GOjEJkgbcftGwnnZfQhE2gGGlGHT8Fo-iPniJJCLYSYJj7UYdegaHcFnUdwpwCnjCJeiU4ARNMfkDUmeo-ywwifGCM95ZUdRZEk-m4TkkoivWVgCwBN1NwkB34CiAAAwRsdICQANLtAckzZG4xaS9N0BfQOSNATkxQLYiVKQQQpa5RgKVR4C5jqQEUz4FFKmDkVs0nkscM2zvQ3CH09kyCL5Ie4BTnR1yZjlFWpSJS7us2BtJQENIVtspSyVqpYBkwZTgRUgSICUgm7iJgS5U-Kf5OqnQVsq3kvKRTyojVTw2GwHSLIM+ABoVAocc-kkX5qQD1+JqTBGlIGlwZSB3U4aWhGqm4DnMzAzQLgMUohdJpkgaadIFDhV9E+6o9epYCmkzS+BifXaZj3z70Vbpp0+6YlNarcivEIIdamaHnSfCQM8k0cb0RPQIDnhSAj4XVLBFf5QcYM6jnM1+oH5Qq2o2ERegRFwDzsJowIPTRRGSsT82fCAUeEnI05DieAZRBTJYRPCl04Mmge8MRq4y0BpQGSPDIxB25lpfRFGYmM+HYzJ0iAjGc8M5x4phZouH9DkV1KsUgRY6FQDDIJmMDVkbQA+BsikCzhcZgM-GmsHJmUzQkl4C0ZSKtFZ9uUdtIgixQcKAzGZOYomjaP5AkAuZmIpVJoCcSaA+k4Yx9gSKY7FiqROXT2aWMw4kI1Ajs8+C9CZG3phR7Iw6PTzMCaZTZixH6doFdDzpA59yF2WLMw4hB2RpiZ7t9IlDxz-poiZ2efCcQPCBGYACmcomFHUpHZsICUeDlFHBy8BdsnUddSrnXTAgiol6K3PMC2yG2qM3UexBbm8zGgSvDuYPJGpmiMeesksdaOJba4JukIC4nuN-KrxZyNcBeeNxyCt1jotAA8I2MYifTNydnNQJ9InTlT2c+82CdmEmG9h6kHU6HoEBYw+gVA00wUKXiVKTcMeAUG+S23XH0sRIiU9qTlJDGajiAwY5Ma7JBmQoDwkpQaaCU2BNS4MrU-IJ9LqLAlu5BsAsSAQ+RoLe5SY-bimOgnYzHwO8j4tqXTSfTO5QQbMc+nilwTiAKMjBR7MtHO97U5Ymvm3j271cAFb5OYuoFIUwKihlYqwA6L2HYKCxs8O8VRMkCfivUAAGWuaASwaXsdyUmVAlQNEpJkayeAuIrwTmJLYwSc9zQlYoHQ1wdRRxJwmYcSJMwUxROksUwKTIlEp8VItkXyLGJisdCfSFMWCTGyik81ryw+TcS9hvE-iWYoNGNAWQiUsSa4K5Ce8AlRwstEjwXITdIlRwrkK1XpaeLgFwM4iopKGEqTPkiUvgmEV-kwKuF58TJSiNMmqK7FZisEa1TNBd1PgXXXBfV3wXGSyB-Y6Yd4tcFKTYIeSseYHVTwmofFxcRQXkOFxSSLJkEoBUZNsAmThcbokliXHQUTcTI0y6CTZM2Lo1xh64sAhwoa5zcvhHSlVI8OBKXRmmCiCcZv224shdlXXCGoh2YLzjikZyhHKx3qWCs9lzS7hFso2F8cXl+Qa-vlS+XnYflRw1qiEEQmLJdxt3Tsf3P1Gkd54xM48XUoX6WBJlI09NIhMTwyTl45+SFfOl0noFSgB4rhLYiCVpIdxhKsOj0UgU2BGpisXSUcvRYy5YlA4shHXBknJK5BENQIDWmmQjc2Jok8Sbu2pS6SXgCysdm6kSDorhFYK7olDTMT0FRqqKh4g5KvRYrz5+4jJsAtsREKaIG2ZBaoTJ6ILNxUKwSZoWBKHiFE5Kg2DuMEnUqLEkq+lTAqZUgsFcrK7oeyvCVJLxJAgvlV6oiXCqTUZUibuKoYZOrpV5U8YfKvwJWziWSIDxQ5JQQyr8ghK9sSUrTXPcE1GanFRj2zW6TsVgq6nORXzUyTC15E6nGYjCAoJjQMkpAViqpVarei2QaSUWqGKSKaJX4n8f+PABf4O174rtfRIUWiqZJYavgi2pTUE5iKLIHRNPN+yH9-5mqwINWrRXlT1VRirhd0RTTSBE1OQdtY4ukVyLe1GwSRYevkVxiQuiUsdWEwnXqKTxrEGdQnHXEhA3WBsR8DUzhyTgh2fNXQZMK-UToIC76-EFHm-WVxLpOeciuQSA0iBIeToUDTJH74Qb9+u4dfOBSggSAP1lOf9emr-VwaANyBIIhhuA3YaL5Zbf9ZBunCEa6AmG21iBunKIaj2jMBIFEAyj0gmlJGx9uBuwpzx311ANqdBttaHLxh6a19auRo2qZaA4myyi71BVyCMevGtqVBsk34hTsxAKTaEtuVzd3CIsATb1jU0qahZPXWTdMJCh8rfQGyTdppv25RUFNxa4lrKhqZ8a9JRGmDUJo2Eia0NDmuHF5pg0zCvYcw6KTkKUHhC-F5SKzZwogI+aKA+QlzbaxBVR0Nh5yDlMgwYYOanNeuEWFFsoJZbbq5KBXMZuOG4gzNA3VkOFvWb0iMNTm7kHPGY0bQ5c7S4TaRpyXKSE8zqd2cnjy2eIWuZW1QLVoNKfK1eo8uKnaKEXVi9h+NZhMlvtSCKF+Y2uJUKJFm5EvYSWtIAVtjBmahulm9hXctELyAWNCgarcxR-iXwlgc09OjMRf6+t-WvUINq1Tt6A9geyJNTm5rBXngZIzW3pa1vyTtb9UjoY7enitTwsn+SwFavF1upkCKFPaR9Bg08G19ZgGYzMWYBZD3ZR+hkgdDFI+y1tyUIswICyHu1+96UqS75pghm2yqBxQo1UtYVFZraitl8MtPjod7sYttCwDKHsqioM7HtIqCNhYn1AE9X6LlBRAAE4BgOkfnUcsXFmJRdEgEuG-SOWXopgkIUQqqnj6C0wgRKwFHH1WR2AFSLk3mhVrlRP1VAuXXLqyDQBm6eVPtI2San50ERpY3Y8pGLsUmsYAa3S8qOdjsCRo8yYgwmoEEd3dLndU7Jynzul1P00l0gZ+a-N3TJga1L2uQa0IS1HDadJjJ+W-Uj3Dkbl22ublFRT0vyvgb8w7YzAD6fLIgNaZ5IoEyBmhtmJy3opdFsRC9BQ+PQntd0A5rIAOl8V9n0FSWwzVkf0RgBXrWb6MLUZoaSkGFVQ26WQEaSNAH1ABdcHUNaMwJPvLCRz9dMunyKlyaWXQtwggo2VKlByMqF+S-azCv22Sb7VU2a8qcmoLWlqi11RBrvQOCA97y961AfdRxZDD65orA8wOPsn0fZdJ18Y-bfB-0Rol9CqowHQVjWNBv9QBmfXN02AxiJmQB4AwIL91xKhl3SvpZ8h+0K519Wmk0YDsf4bRLoXw8VfDoIAMMqMRQnrUQYFAjbZt4uj0XESerWzqyBG30XQADRuAS9l8TqTXrr3Jjher2JvcTxb1cGr4kVTvRzwDokghiVBkMLQbJ3dCGDNCy+YLU-LSb7UbIagE5R1Evs7hSgPVHiltzVctKTS-A3oGB1bd1eSdacOdih1kG+CFB9cYrN5wqy2emgYVJlKyWi5GYJ0s6bNOV3GqMpi8dXT+FBz+ypZwGJZJ-vDrnk351KhgYkSZTlFaZrLemRn1llMoHlfw3AQpQIAWV5AngupG9L8Nwjt0CI+-RKjxSgGTUDy8vpyMpSYJfD90qvojj8CKl5Ad086XwLvmqkiRIKalXQUfZNGujUg3iEXqaW5d-RqgRHQAB0sA-881l8EX74AUEsHKnWg28aI5KUJu4CL3or2t8sA4xrTZMcwnTHMxcxhYyMsWIH6VjNnVsdckIDPJzs3CalI8dAAAAvXFqADmNBBFjNx1Y3Ye4SfGtjyWHYyBCf0XQtIFKEYKwbyDsG3Akxq4-SH+N3GeGLwZ0vodjibtSAm7K0f2Fy7cg8ARx-bkbr+PLGATaJ3rpu2cDYncTqSsE+WCAA')">function depends_on(exp, variable, frame) {
    function tree_walk(e) {
        if (is_var(e)) {
            if (equal(variable, e)) {
                return true;
            } else {
                const b = binding_in_frame(e, frame);
                return is_undefined(b)
                       ? false
                       : tree_walk(binding_value(b));
            }
	} else {
            return is_pair(e) 
                ? tree_walk(head(e)) || tree_walk(tail(e))
                : false;
        }
    }
    return tree_walk(exp);
}
</pre></div></div></td></tr></table>
      
      
    </p></div>

  

  
      <div class='permalink'>
        <a name='sec4.4.4.5' class='permalink'></a><h1>
    4.4.4.5&nbsp;&nbsp;&nbsp;Maintaining the Data Base</h1></div>
    
    
    
    <div class='permalink'>
<a name='p37' class='permalink'></a><p>
      
      One important problem in designing logic programming languages is that
      of arranging things so that as few irrelevant data-base entries as
      possible will be examined in checking a given pattern.  In our
      system, in addition to storing all assertions in one big stream,
      we store all assertions whose
      
	<span style="color:green"><kbd>car</kbd>s</span>
	<span style="color:blue"><kbd>head</kbd>s</span>
      
      are
      
	<span style="color:green">constant symbols</span>
	<span style="color:blue">strings</span>
      
      in separate streams, in a table indexed by the
      
	<span style="color:green">symbol.</span>
	<span style="color:blue">string.</span>
      
      To fetch an assertion that may match a pattern, we first check
      to see if the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      If so, we return (to be tested using
      the matcher) all the stored assertions that have the same
      
	<span style="color:green"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      If the pattern's
      <span style="color:green"><kbd>car</kbd></span>
      <span style="color:blue"><kbd>head</kbd></span>
      
      is not a
      
	<span style="color:green">constant symbol,</span>
	<span style="color:blue">string,</span>
      
      we return all the stored assertions.  Cleverer
      methods could also take advantage of information in the frame, or try also
      to optimize the case where the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is not a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      We avoid building our criteria
      for indexing (using the
      
	<span style="color:green"><kbd>car</kbd>,</span>
	<span style="color:blue"><kbd>head</kbd>,</span>
      
      handling only the case of
      
	<span style="color:green">constant symbols)</span>
	<span style="color:blue">strings)</span>
      
      into the program; instead
      we call on predicates and selectors that embody our criteria.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-ASSERTIONS the-empty-stream)

(define (fetch-assertions pattern frame)
  (if (use-index? pattern)
      (get-indexed-assertions pattern)
      (get-all-assertions)))

(define (get-all-assertions) THE-ASSERTIONS)

(define (get-indexed-assertions pattern)
  (get-stream (index-key-of pattern) 'assertion-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCyyiYRA4K0Ia2yEs1JjEKMesnkikWJtWbB1mwsu08jBtXykIvRIJl-Cqcr5-KVKvFkoRWrpvr6DsGRqWpvNIM+8dmC2Nyxdtszkh2gOBb0mcdmVl6lakDPKSlFDhJfJ5oDDfgAbkd8FqfZt-UEo5qgyG-pyW8XVVjPDjvNr85I9QaVDnU4ZBzHrT144xSPCVWqNTGfPOC-5ldJVcT5Yqz+QL23QJ3PN2TMfT5mJwfp1a548PQwvTxLdfX7Pp3jYYdfmvcNQAnddcV-eNF24Q0VxdcZSw6Td8wASEeHc9zGeDvGPPD302AQ7yMKiHyfF833Igs4MtDc5zIyR-0A3tTwIicQQ7LstTdX1qwrFFRNAWs8jYZQBFIRJuFiIVNntAZQHifFNNAUlmVZXhSRPTYFl0tlDNmHYNK00lWEYaRSAMxiFhsxszM2HYHBiC9Yj8UkAFVCDqQhKAAdxoOwHCcCoAFootgmNaWE0AJNUx0ZLoOTEnMKwsFA8LHDrGc8UJGE4U1JFzFA8IgkJPLIpcMqdMoFk2QSnK0SCAJqtsex8ucQqyWcuzWrwSE6zCORVHUfRYnlFsTkFbjUVFAcZSq2beSaQVEpSpM0LNNcRAWYZRlAHY6Cy6wwCktFJJieIoDgRBkHQLk0H5CEyjyQ1PHIVJHDGNpYl4agGEIYRFp20BDWGWJ3AcbhAeBs0wZEUAAB80dcw01A0QhtERkGUckDGsZUdwmu8EIEbiJHQfBkmkKGEYAZpwnwakBnfVQlN0IJ5HhAu66mV+iLpzohhqaBtnul6FFIb5umLpGz6KkNNxNHCNgmB+tRslIWJSABPR4U0ZTJEhw1KIvNQDZEAAyO2ziuPXbYJLTSGN9WlaFqGhn4WIJYVongITNS1f4DW1m1q8g8N7TCH9hhWqsH26EaWHKGnShcCYBOA8l2ng7l-pHRebgJ1judsp9krmGDOhyE0QgA7BvXcc0PwuF4WQqmcM3Q8dHWSVJevG+bunST8HGtE7zhu4YXvqDBFPRq+lRR6bluSUriGS6TdXNej3XY58jfx7B5PlcZH4x631R0-Jlmpf5-vIbLid3+VJ-C+EExl6vsaZ877iyYF3HuDdqAF2lrvRMTsLgTgrqzF+VcPrX0NBwYgnh+C9UgTbcGIcLYqAPlHIeLs46kn7CEXcGCsE4MILSdGmNGYm0PqQvBPlOwaBjEwGh2C6oMJJivFWNBeF0PvhnIi+t8EPDfs7D+civ5kL-v-H2oi6pMBAWAheEDCBKO4rI+Bii4JSL-t7VeqsVBYNhmwfgoC57gOcHo4ChCWEkKvOw7SVj3A2LsfPRe9CVHmKZP7bxtiBCOADn9OgTiZF73UskbID9M5MGzrnROfhP6RhMSgn2XifHkzYI0GJUgDGGAQYovBpjwQALXkwHak1BAMC3sU82cTw6Ry1mwqRPl6lqEaVvS+Pt6laP8S0geNBMmSNtv-GpFimAihknWI4Yzxm+1cZ09x3TtILN+s4bEIydECKYVzIhEdWGbINj5HZSzpx9NSAMwJwilqLL2dOeeMl1SpDGZDIedTlhkL8FyR519rmvPmWifY3ZW6VP0XE35shcAAtAFtcEPtQXUGxEcP6CcKDtgljC5xcLiR-MRR49IMyfbY0haDYg+KTGwtge085usPGkkYAcGlSdgVjVrqoalJA6UGy6AytSpC2X8tpZPUAeCuiCyCdKiVzA7lNLptEglUhYmwMmUo7leQVjSDUA0+5dMyHCsJVq52MrdUVB7ruZVW81VSLNZqtSxihXWqTE0lICp2VQtpaas2LjjpTNILK1F8rvrBjtW4Y10KnWBraUzUY5cKnxopRGsmao6grJccQjZLKtmki8DUOogz5XFuIHUJgBSikEuLhawxWTplmKeYaZIvAfqfMcXWkpib1lHxJKy9tnb+EeskkE3xDjcH0vNWpbVlSx3YM0JO7RzhHWu1naXBRKo3W-3Ta2lQnDuBd1fn2vNA7j1zx8nMS+sz6wcE4EwPk2cjDSN6KBE4Moy5yXLKsw0R6TiHW0je06rYmhKyiEEugt04gQBgPAJAqA0CvS5KgsaDA6KNKgfzTuhB2wJsZZYkW-1sN0wzEZIkf1sTi1IyjMyOxoaJ1o8IMyxkmp6XEY-DRglEkSJSTnPOgckFkdw-h+jay1F1mY+RrMuwnw8LeLQuqzHRMyZmAx9evdN4msrqxuTmKtPn23sJsGqnxOGnRQnb+0s9MYexJZ5ZJ9dh4bU98SN1jbEHMcbp30CxeVC1VCEnx4TE5ROkwxRimw8m2JreF5zYnfQab5RygV0nbPyd9Zy7IiqjUqrBtEyuZnEtrIrdmnzXwFh2enKVlT8XXNSCS70mNeXjPPzI+l7ETX+k6ZM3HUGCWvhJeHeQLtkDyuPAWMOopVXDhfKFiu0ZhW6sRffL81J4tolLoWzogrvWhCqfq4WXY0hPK1b8gFIKoVpWNDBvwTgoAYr6efI029PspvcFKH4JdzqpDIUthoWIuy8VMAC6UbCsxIZTaYN3cggPcXMFB0QL70hNBhqkJxb0f2VAE2NCDoJH2iDg5mKBHuIwuozaw-N2LYOVuRceFwVI7BQF4bvNQZprk6f0gnSFyJDhok0455zyQ33adC8ePN-rrOjME8IFUiHfb6k0dJ54FjBYFiK8EuCsGJrleq8zDsPaaxhIY6AvmDy7QZc+X8oFEKNAfakEaPYB7sUputXR9U3JxL1uCWiV3OgqnFqrJhOyJdBIAB8T3ZsSyXap2evAw3V3lVVrXLyMXWZw3VmBYciHSECDoabmGvkObebID5WGlv9fuPGSrhehPsF2WnrXmXW4V5c65dytfqb15uUwLFDgcXkDxXFyvLbr7J+b-6mVAeQ5Y9AUDB3yW-WCtDUT+XsDDeunEp6TH+oUKWKjbl5pVr+52jiRTubd5DX2pNVanwI+t8AW9CHd97VJKX+jQbbjz4iqgA5+fiW+qV+zWR+8ad+LmiUvQs+Gu3+H27+k0n+4sq+XwkMgBH+u44sEB6O2+pumYkM4+iq3AguvaQB3W+WAaYB+GmBHE4kHu8qa2OcRAZ85ogmP2vasCwe3ATA4e2k5IjBhmawNIfgLB+618dA6oLglAgQCmmCfCdYu2bWRckBu+VKKW-qlcJ+for+MqMoE+SqwBqq0mVBf6KgXqC+uhAaRBoAR0zMlhOw7aoMa44hKSUhkma6sBBq0apBg6aaoukWYhIQzh1CimshbhlhBYvK5htqh+Bhx+iEHE2BgebB2e0hSmUm42FWRIusrh1AnGmc0mh2DWoAwaiUVgieTyyeNWTmlei0oENaMopW1alAhShhKIoEX40GhI-hEhLhwRdC0SNav6oEfBDcTcawHRmRu4qSwxY85o7Rv6eBneNas8jOWskuMQ0u7RvhYu5E0xoxnQfgYR2xswleIh6G8mXWsarWP80+9aakvK0B3YhB74-+GEiY223me2B2o+ZxBmIx0uVRLmNRr+4sMoLxQCdMX+3Y7xY2nxdWiUZ8uRYsPG4JYMiJcW4sqm20cSGBtB5R8m2RuiAJ+Gi0CJacfGNGBJaJhWJ4LxlJmi9iq6MJChwgseNJ4B1SkGwi0G0QsGD0CGz0yGBQaGtS6gjxnAp6hGjRmc+gui4pv+1eoA92mkhIopeI7ex2p2nAPk5M0pIQuwc8bwqQbALQbwDAg+awWwr28q-m+OPOcgfOfgSxmeBCRKusFCrMuOQsk8YRdpUSjpTRpw9+QiaC2OHpTOoOEpyR56pCuAVyYZWsXpY682vpfOH2kZg8xKCKH2gKSZE61O6ZwshqWZsZyKuZwizO7YUuzSuABZExJK2ZGQpxeQ9xe8kJdejOb6SRGZbpDxScfgIoHZY6hovZ3AiBWejoTKbiusGJ2kvZZaTyvZWuHZo5gktZ2qiBTZFQNKmIDceMFZVZJq1RLpsCE4QZd6b+HhIOESEsR5txW6FwZ5Ps25lAjA1aRS0Q6SzpssvQkMVsH215mJ4IoEHszAphCoaxbOdMMoxRwp0IsICO15vGj8-uj4PutZf5ZJyFAk3+Ce55H5AciJ-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-Q0VXeQBgAvY3dkfUsWm-TXEyzsA5Bh3PBfzZ8F1arAMkeMK5HbJEqF3+6F7vubR4X-L4Q-hUHcAv85af-XENwBAH148Ya5Z2FANf6mwgBNAeAWAJ4woCYBW-RROgMQFt8xo2AlgC4AjrgDP+bFUvvXDlDECwObFJAfqRWLv9e2YHGcqQKv6n1FIT-bAfQP-6IEfuxFAnvWHtYUAsMo-W6J+SIAe0tYnCJgEkHYDeBpA-cNFHYGmyU9EaC4ZQoemwRw9haL+GZtgPqKgC9yDLCOsIOoHR0+0G+SAfoNNhtVswkNSQkzkkHSC2AsguviILJonVUQvAIpPgJozYD06AdLiLPj-KJ8VBItOJH+TaCeCNOG-TPv2UUHUcxgdPf2vEUDpaCs6ePC2jQTIqwIIhSgh7nwPfbTRe8FVLihwH-rmg6ALYUod-Sjh0AFoLA1DtkCBRMcqhjQGofyCRC48VelqIFKK16BIhuCOMQoWawUxlC1wU0f2IREaHddNmkgFoW0JyQRptczLfQMDjmFrhKhAEaoVrFqHd9VqFQlHqADWGqB2hofd3pdR6GWF+h4jVgH9EpirDNhrQwwEcNqFIhehBYK4RHkGETC4IQKHqqnHGGxAQcWCfWD0yRzSpayuAYEYzkmiyB-YbcQobCzBF3AaBkIwQNCK+EzQMRuwsWliKY7BpceNwhwHcOYBrDeWXwS6gCM+YfDJIUI0GDCOmjwjvhqaWESF3Yq0CuKeoJvMSBNSUC-ANiOOMwNaKv5dBhIfAYYMQq8jXBVFLIckXMG+DOOSrO6rW1xB8jBAPAhiuqTkjYomA0DBSN4LQGWCdK-I9UWTXyFaj+8OowQApDkiqiBRxFUvqHSsi4Av4awRKkx1JDOigQro3HpCmWQ2jDhxgZKq7ylGkUcO-6DQT+iDFPB2RTOTkf6G5Gtx-RxoqURlxUB-lIxDsMvlRH5EHDzRigS0fJBsoTgf0bw+MBOBzGljfQeYlwLqJsrfpjAlY7YmXArEPVIsbFULh6JdH9d8h+1b1jkQxE4Mf+VEXBtSODRsjEgbwKtAEX35SYZxzgPwET39FE9BR2g9ELWL+TigVcMoasQWIUiLi1RPwBftQBtYzD4wy43gW+3XG64N2no7wP1zxE2Eh+0qLQH2JcADirxC8MnGyNNAn9bIchV9NihNE9gWBGIoEYIA4JEF+RPlcPIcQnGVpe8LgOcZAigneQzwpAQCSmNLEFVCxveU-v+OrFASeq3rGQCMGYBtAiAf0GUAAAZzA55M0MFDqSkSihAVMTiwEMCvwmJ5EpYTKEm5kS7BlEsKlyCxKwJeJ4KCiQ4BoG8p6J3GD-hLElGiSaeBUcgGwCHG5V0erAhSZ91YnKTEulAqpAzTGiyBBMMkhgSoFYDjBSJ-cEnExMUl9RlJ0FQqoxO8DMSXudk9iYlHtyyBmAwUI4Nmkv4ngXER6Tfhzj8xP9pJlAlwZpJYnqJlJ11JLEEMH4Kk-yU0byb5KiFw9GxUgFKUwB8meBs0A-GXnFPSGZC0h2U3Kdml4lsiOA9gdgCoEgTCDJRK4jmk8jKlpTgJVtJcDJOPRIFdQ1tA4MsklGxhUhy1R0KqSMJVgEaYRWonoOgHLpxRGNQieNJUhmCeY+0SAcC0r7OjAIrYo7K1LykWDZpg1dwH4LEg4Rs+IQmUc1x75UQewEtWCF5JylpSy4Q0yjntPymKJYwYRHYFtMYAZDM6E7V1A9PKkA98hiolgDnGBi9wIBkop8IRKBI6DLBM0hAQQPRr5xGpF4pQlkF0H0d1mwtSGEQGiq7ibK+omAr4JPGbNYZKYyVg-gCFqCupT4TcGLhsDkgWZJ4WoojNFGWCUZRAo4ItIClxJsZWkDfCFMWCEzaxnAlUTtN6AkzHiZMrADhAVmSA2KHOdyJwDoEwzeZVMmmTviyDVSHCdU3RJTPRkMUZYzM1maflgSdivR3Y7WUHRGkT91Zyoz-pTJMGfUDJeQAmZ1SJl8AWwvAGCE1IBmOhHRhIK2XeJd7RjQ53op8b6LGC8BfZgoJjpRQJHqCLwcckQExzBmcjIZDcCAXHJqb+ziKycrqX7PTmV9M5EMl8jnMRB+yamLYUgZIzAAszyQRc9MUCgI6OxLY7vEuUx09kKhxZxYi4WLmLGChMpMwXud7O-SDzTxswb9CPKlnxh2xuPSOTbPdlzJeJesLwt32jKbIvCPSUifOXb4kBnw-3SqaX21SVSx0ok2LKfPqEtd4h98i+QcN66eAfJjQHPN2EY5Pjq2iiR+fkKhy2J15vEhcUdx77oT+8wChwAqADlLR0QmCGUk5J-xGTE4JkmMGZN0SVTEoQxQgITOvHM8Cw488WfuLAWKBR5SNI+fQG8yUwXAlU0hbMHPEMVhJakcebgqdFdjw5UgawqMB9G1402R3Cyc5NixwKAiNCsIr2LkD9iAR3AZhZ+JVxES5AoAZygAAlnmTAAAEq+QAAMs82QCEgYKeFOQIkAQXRICJKY0vvQGYAv8uAAE-vAcKqgECH0UcXicYrRE2Lcedio4NOCcXlRcBeQdxaMCMX9CWBSilReoq0XgAaBdiyxZwEcWkTnFxC2XKX1AlmsyRvoOxQOKiVPpOQL6asdMKPa8SooGI2kKWLSWSL2OE3UiQUoBHTc-5z3BUF4pMXQKY6AIsCSCPZBEFeJ3BQ4v-IQX8KwODS4ilhIMVIN6lLikhSmLZENwB6zABrtwCIUYTcalIxJc0tRGtKUlNYa8p0szBJLihTOUkWER-G4S-xbhOZeAswlhFqRUOLxScrGXtitiCylkWyP-y8LIFsyo7kBPpH+wrJr+PYL00JBrRt+ryyBTpVJBPKGucNQObtFWnmgflhOTjpMsFbPK6ugKuru8txFCdQAMKwkh3wMK7d7l00NkYaCiUxhX03fVKulJ-QUc0YayI9PWN-g9il+sgQ5UeJcAMsola7PCX3Cp50yiVEApCbLmdowKggn6QkBkufSIo+VSQwVQkAUBGTdwfKj5RpAeolKWR8oUbkcuoCVKWR4KsZoEFVXaQ+Vmq6aN6UzDhcOVx4rILo2nYnYIS8qrEVn0mluzzyagdoMwFEmsqlgPAG+UKLBajKaAhIEUJggoWQIMFKIWfDyurm+qepmhGZsKqhgerMlCobJZGqMKgQrVsqhBQquxaRZlVDI-4LOQqWFLJVnUPVaSHyWFLehf5IBRau4JpqISoku1bHxSEhxSiibY-hmvaBMqz+FnM1Qktvk9KJVUYjhcEDX79qe1oXNtXyvZXqrZcNAidT2qnXMr+4zqxlfKvdUPoF1Xamdd6vRCZxfxzK8YsEqYAABBcAOAGeaqLnKkAAAPLfNwlKIQ9SerPUXrr1t67ce7z5V+BqRu6ztZM0YWOhSQLIaDj4oqBtrAFlkxaMutdVMS11VikNauKCDfqnFMoQ9aEu0WJQUNmi7RW+qohVqv1ngLWE4vmJxIANpafIYaABoig2m+OP3NiOTQ0aURcBSjaNHu7jtVkz0ueOe3lRREmNZQaXqxshgFTONB6e2gvjShUb66NG0vg0Po3Aa7ccBMTcxsk0sD2N8eS+QvGoTKBxNZAPjbWUE1jozQmgRpFrBmVKa32Km3CueUo2UBzJPG7TaisWV9qKN1ALTWkWc2jRlKm0uOhiNx5WbzJ3Gtzbxq7wuaTatVUFXwrRq2bjMhAYLRvXYhi48VnymZMWpHjsAEqYWyBVKl81brzyYm6zbogU28b7NDyqTSYVdY8JNN+OArdpoOH4inxhI5YRyxJEPDzQRBdLUirRpVaSQnWk2lKIVWxbZg1I3LX5vU3la6AwW7gN1v6104EtIXC6MlsG4+Q2tBzQ4Zpry1TMfYBmrDCLl61YillLIlpRBNPCh0w88sr4NJp4UzLNtRpRFUUk160LtwL48RW+MkXtjigcW4MWIqX7PaVVysxWTsGDSkRZgM2-+MluG5paLtR3KVFdqornkuAbwQIDv0Vad5hBvrTEEJWnAqsUY+Q+3qD3B40ZttwO3sE0v20rLDtvoY7a5Dh3TsvkNkNwGDDzZfJWx8XVHDpUor3bRyP3ThlLNr7thyZmzc7A3xoByRUKZ9R7NVXlmKzegpIHHf73FjTdFOz4vGK+IVVp11SAO1yMDrm26rpdvvB3njsEjg6uwjSG7VKhl2O82yUzUCDCEfR-1v6MoAAJzmBVEskf+irtY3O70oru0CcRj1hCEBV8fHEb-GFrZ9kIfqrSFRIFW9BbdRSPLnlx8hoAE92qiaU2o5zR70pagE6TMGj0KqWAf0RkYCOMQ6UaAsUIFH9PdxR6Xd39HPT7pQrW7RtX9Y7g-xA0vzv678iWGPBdVFb8VDorzQCK13Dwjgr8tvYbueypATdX2FvW-NcC54YdPsQPioBmWsBOoHYBwOTAbgnN4Z6IPYDKBF43Y3ApPc3s4vg4oQQOgQT9qYGqWhrd8eKaQGvv2Z0crIDcIyvZAFVp7SQMUWKPPoxVHc41nUSQB-oSiDrZhleopIdxeV7BtQSUBGhJGQjyql+K-XvGv2hVRrhcI60SR2snVzrp1jRZohAclXIQb9d+h3A-pDlP6J4keqQG-o-2PY+Vw69fs7moOAHzplNB1ZsCoPUHYoDXPoJuNDQMHGDkq7PQOI5ygSydR2jZYQwepgGkV882nVQgZ0Sw9gQEz9bzski6N8M3XJbbMqniPavtKuscXLndyry5Nl5EIHQGCjwwl9gQL5TM232Ehd9YvefUYGP2WGgg8VC-eTRDrXlximhxQ4rppZPa9DzMcmqLWTSUUPNFGUkEFHiSFitAAYtwAZBwgG41ur5RfYa3p1YZfDFFLwzpQ52qHuC6hr1vIofWnrz1l6m9ToqKLMxaJPsbCYYr5VxL5l9olgeYvsVWKclTHSJR6o149qGjrip8X4unD1GIlE0DxT+rcK1lijT6so7euGO7gol3R6db0cUC1kc1cI0VVksRQ5K1VzKw1f7FvTz6bt3APLjOO4CniAAOlgHXnDD4DuAdoDNAB14NQm1od8HHu0iEGXyrfA4zMuON4TTjMwi41cZ2Vawbjdx6iBeHwAdgdKpwP8hCdAAAAvAlqAAuMzBrjy-W48F1yOnAETzxxiK8dJDvHGArUMiHgDgKmHzDF4Y40CdcBonQTojWLlvX4AJV3ACVYgAlX64mA8uYIGwF8b4WUmapwJmkxibpNbNGT2pFk2yem54mEoQAA')">let THE_ASSERTIONS = null;

function fetch_assertions(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_assertions(pattern)
        : get_all_assertions;
}
function get_all_assertions() {
    return THE_ASSERTIONS;
}
function get_indexed_assertions(pattern) {
    return get_stream(index_key_of(pattern), "assertion-stream");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p38' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Get-stream</kbd></span>
	<span style="color:blue">The function <kbd>get_stream</kbd>
	</span>
      
      looks up a stream in the table and returns an empty stream if nothing is
      stored there.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (get-stream key1 key2)
  (let ((s (get key1 key2)))
    (if s s the-empty-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNA8QuFE3OIFCqGIfRcgUQh6GIOhKG4Gac14i8EjdUUQS0Cgsgmqaalmv1plKdaXMbFCxu26a9uk5pRTocgFDOxQdpmyh9pk-LCAYQxfAUFh8BOqijG+37G3wGQ0juh7Joul75roRarvdVIKmUNhyEq+hxse6HXqKUphp+ZHUfRuhMah3a5paOGcdWRGGHNagxDoe7ZtJp7Lv9PG1zptwGaZ57Weh2H4f9a7UjeNjUU6AXyep2JOZ+cXqElrasfJoXZbDWnUZ+4RyAYYgAA9CECHmMfOmXpNKRLiAYJqMe1lhdYYRcKHujbDGl57rDQnTpgdp3fuEXxPb29WEdFYx2hm5RIbZl7LZaLnI4LRwxuT6ObY+UbmcoD3za9sORdp9gPC8EP445xOfhL5Qy-z2bC4NUWGECz7mC0HPy413Sq8bVus47-n64phbu+bjRCBBblUS7hOJ7YYP8fXUb9DtxhDeN4hTZJ4fvcpxafeg2cQNBhhTo9tGxH1o2TcMZqu-VseWlIUzy4s6zbIclwvtm8gDY8ryS8OhaEKhFNeghCCT2Dsibgl8whFndMKN8qRjbUAUEragOYbZr1Xg4X8CpAoQKgc7UgaCMFYNtpcGeMDBCkDEGEGi+FCKIPbAwc65RKGDQxsifBDRzwmwyGVIBK814MEDtAvBh9fYrENloEQ+s4ZwXoJ3Qy0jExUKqi7CG7tcF0G9qotRtD6FSMMSsURC0lF8xZjw58hRCGilbqdUYNI2AVz7KURxVE2H0DkWCARrju6xGaJ2DUywmEngVCZYIuj342Tso5RqGjzCUF8CQABRCF6FViOcMBSS0SggYKfc++gN6GHVggmIhCbjYkvoCAAfL3YBY1L7q3mkbBhZwBrJl7t4kQGD6BS2HuU4i9jUiUFIPwVQi8RpaExn05WJDajUGnrHbGj9FLy2XrMxWCzKRtBTmCXejcm6NJXjs5wPxOgbVujQLBD995OlyVwlwS9Pr7IzkYSgChc7DPJK+UUxBJopLeVHVOnzvkTAqXY-iboQl+XCf8f5qRUYfDbtnfmHwIW8NDIQ4RsyqikFRQPQFGKvm529qPeFx4iIhnPASolZKz5UUZIZPFY16UgWJZ3TF5LOCUpDEiluMLGBOI5W3b5TL1yOihXxFaLgxU8slQWPy8ZqUypdMKnp6cwUGMqVvTl7cSWzQ9jysIfKqYquyeSHJXSWLH0KWDBw9NGZSluvdeBIzNXVP0AwepolIROp5i64QcJuBuq3o821blDDckYPgfgDBCZo2yu8LuFTBXapjl3JaFJirUjJS1IEmbM6GpznnVWXtLV6rlbTQFmhcTFvBeS3VpR0iZF1WsSBM1BgxqEIUhNSbiYewVaW0lWL9GmJiL2uNA6TBExTR7XVE5rYgpTlmk2Br0XGqbRMWxjE1XEWhTW0Ug6U2z3ccCUE+hT2xS+j9P62bDLNDbWweFnSsDgNeTXOuFaG4PIqeecRjJv1iPwEHLuflzx7kLdSWN-aQI3vvuIw8MRzyBrvsGmD9rT7od5lKaDKHloCTZfocRbS5HCAUTmSxndoMmMnehXDmHuBLoY0UUekaP15J6f3UdLMhn-s9TWldnipX6F1SR1uG9b7OHuRx8KUbzCvOdVYw5v6R5UwA3m06jISMqZzkqm20mt53zNupve-LCgqc+kDP6hn9D6eejZ+9KsyYF1zFRdWflCGnQU1x55PTENmbc3+0eFTrN3uBvZoLjBIsPqOSGEjMXDPX03tvOTVN6MPL83gNeLU5CKAgDAeASBUB9TQMSRTyRkVK2OmmoTAkbq8B+mQNNoAAA+7XFIR3GdUMQbXOvddSL9P6-Qd7mY611l8qQX1tZiIN6bYoPxqilLvBT4CjqbXs7vSIhQAqauHn58BopmBiAkJR4+Tadh9HuGIHNoznZLh5eEAAZC93o-Qe1kvCMJIElAbunaO9xm6EN6v7ePWM8gZ3agMEuwJ8E4bQH+e6XFkGYNw1g6PQJOY+gIy704+AldjmWYfFIXQMQbS0umb0RUwhl3wTE60twUnfXKcyfoJG47qRGeY9iA90753YdXvh4zpH4DGfOeBrz6t2PPu47rEMOXePzOTE59xiXp1Uvs-GyFl6tPNU44jMr3XqugcBZPXO5NM9nv64h7dwXl2eUWRLEIBDlvibwkm0N+3MPHdkosnmUhDpE3u5TZ7wb5xwHJdR02pahDDcK4Tw+b7pvOlR9D7FTXxn0s27-PHpXCvMIp4J8D5Fd1HZ62z9T2PCD+dQ4d1ep3ol-aV5viZ5wYvuMt8e67SQZATXfdr16jQgMXMOvBvdbgSewLF-W138vAcwPB1z8sfPIwjcK+e-yJ53SHHCrRYPEng+8+apO-X33jf-eiV41urSauAtSbbzn4-q+DcF+T987fVXabnIGTPz-tujWkO0OF2l+3yzu9AEsFyjYVeHe4QC2-oZ+IBQuc4Te4Iv+t0jYXKz0neAWGBPwm8bEKyNeJ+Na9qgQMgV2oAeI9+3S+BjYeyoKYIK+fOmq5BlQVBpIc+eBkB-SmBdMriZANymCacL+rBZBBSFBVBOgJe5uqQjaLBMuq0wBDeqBV+4IxauB3SK6ChBacebBV6Gh7yqc4IzOeh3BKOxhMcB+RqucJBsQr+Na0+setBLEI6t+O6+hThcupqrhbkG6NhZanhQ+NaReWKFhLEAKQKDaVhohWKIRQBaQGQ-+5KERbka06wm6h+zBehCRyhSRmQ8uH+5Kshu+w2XIZcihSh1WPuoBah4Bok36WhLEIG4iJB4Osu6+m+KeZuZRdMkCU8Z6VRdeyBfuDRDOAxyyYefh5g5iT+1ewxb+XRxRX+4udCWu7eRo7R4hnRgwG+KxX+DUeWrUhWHUJW3U5WOg3+J2EyY0Bs92p+w2ckHAQg+g9xoAGyoA-8v27ItxHxoYxkL80SBsFkI2LxLyRsJgWgwgAQJgxAIhwgjQSOyOLEK6OCWibs-e3AZGgmHRbo9O7C8ia8phS6GJfehK2JS+Xmaepe3iUMHCOCMgDxduAuF+c4MgEB9JRJeSzRbkoiZJOiTJgB+JkhHBHJ1BMx8qeSoG4GQpDWIpqKUh4pXBNJAW5iii8gqmq8zJAk7BlB4pMhvRqJtwNsomBYcyviOpCpYI4IZpxAphKgPilaqpfRdp+gp0VpNRrJdRYIp0FkdpvJ5gdpvSvi7pVEnpH2yxWQHppRLE0cXwd85OVGNG-MYW8pLgEY-Kke3GYqcgoOaZeJLgOOWZKJQ0jgCZNsLA0Cvewye2WOboCEq8NZ2WnS54-2Rm0RyZmpOcjIL6JwpZ1wJptsveo+wMZSHmUqHqhZk4cEo5f04558kprUEMku85TZEMzwdZOxboOOeZ90S5e5NsxSh5m5Dh9ZGZCuJ5RpQ0BsFGXZyiGKtmuolEz5oALA6wRmmm6ZwIM0Yg-2c5uoP2IkHA5O-5a4SwoYpQjZaJI5qOC5nQZqb5H5VGgSzQIFf5qgAF8CAAPD+aBZheBYEjEHjECdOOCAACpySCRCC+BGLNbPQtQ0iTG1DNDgigAADU-xaiLO5OQoy+T58CnFDpbFnFrGhQPFYgfFYZgFRFoAgJr8FFVFMgxA9kdFZa1IWIk81ALFokHFXF0iElUlcF4QQlFkelYlsQhlMgwchFsZbk70q5-0YmqOvySI3GC0sOck2IBZZi3G06WFL5U5fYD2s2xlFleMcMnlRA4mk68Z+AiZV8Fi3ZqZVMslRk1IT5KkQIOOYVhiswcuhFFlms-lmEAle8EYtlVa-krYSCC0WV7IN2dawKSVD5e06q7GpFAFsSv05QoAiOhGqqBEESfYdKvejIuZI5lmOKmq-lh5jlw6veE6k6c1x5i1A1Vq8Y05Hl6I3lFq764uQasWT59mLlE5rl6iAW21XlJSX5IY4C-lcFgVOaKwIVyRWFaVxF+8UV2IRVcVCV95WpHGS6zQqO9VOVZVYlpQpEOO4FL5H1QSsGrxpVLmiFFVCFe6qqAqtVcM9V7Z+snZLVqmz10wUS04p1VkdAPVIgfVEM6Sou61eEB6hko1tNQIE1+Ze1wVM1sa659081vNfIWW6EK1VEC1G5DN1VG125LykVO1N1i0OWsgeS+WbURWnUpWPUGA1xKCpC6Cty2CeSuiXhiR3pKBYINC4IqCetIhgZLgVt5CNsaCk8thZ6PCeRRZ7+WQNifm549t+tnCyYWGV6zo9OcwDpsQcwE4S1RQ9OHI4dMQHIUd9G9OCE8dM5pASdIdhhx8adx8mdfshhTWmQDpRdbA-o0dhQ9OwUk85AvgDp1dqMtFBoFdsQ9OpN8dpNfYLdMQ9ONw-2dMLAhgphfdqgA9LUKw3dl6c44I7FadsQbx3AvgP2DS-8nFTdk99O7kc9MQC9oAS9fq-8Xk69ydhhoa0wu9+9AIK9oAkIe9MQG9hhwA29BgIJe9y9XxoAYAx9Wd09AApM-Rfe-f-L-XfaAA-dPb9nPYAwffVUvSfdPQAITCRQOv2X3X1INAhwM-02nYUAOoNAOgC4UxBYMF3T3YUAjb3QNX0f3kPEPgM2l1J4OL0EMNJ0PwMMMUPcBFBUPX11JAhv3sMQgIPP0f2FDUMxAIOxD3HOhOi+260O0B23oCWAghjepzDcB+0iGKPNSyN5qaMUKiL4AsAABWUJhaqjI+yIfqKd8j+tDpzhNik9RQ+jBtzyHSRU7wJUtjWjLuxqjIl29OISDpISTjbG9OkAdAaoSsddXDETUTKSoTDGvdVAo9sAkA8dI9DAaTiTk6yT-dAAomnZk-kzk6YvTgAHLkDlPP2VPlPw3oS6OeM8DeMUK+OcrKMAgWPYjCjUO7l7wuO9JZzGqNNUgDNtOGbmMrDeo9MNIOObjNNkL+1tPuPi4DG4gDOMkOCwJ0LHwRnzy4jVBLYVCkALx9YMDGPkB5gxqkKaAxXQQDNO0cA5yu2SJLqXy7NHBFD7V+X8QfSE2dwRmyLdoA0qLQQTzdr6AbPSmPX6XSJjPFSu7zWlOxDgsiCQstOuPJiFImNmMsamLwueOIuLlC0NB41NW4j-POkRQcACB41iBfDvkwEamtVlTARYggv8xOhHHK0nHtTFZdRlaYDf5vDjLkCmAMBRwfBVQ3CkBlyB7UBPjCk1HpAtbTjOHytPiTAhj5VRlFHRlowKt-Cq56XggMAiX5pk6SXWWK66satGtasrDNDqsGuatpHmATQ3BvJaLQmfKWtBXS2CDKDKDNYZArxGCwJBvv0tScUOZBv1XghsWlAJtyWiRmWcVivKDIsGgJtmF+tLkOAuzGC+us5GLjmXxLaFuFgRD-jTkSUmsQh6Uet6zGDetSjerlsFtozGDbP0JyhCXWDghusqh0CVtMBkAKAOZ0IRml2Tt3bauiQvraTTDNyXaXyvYvbSTIIFFZARhrvwHtaRl7EK57ugAYOiTFDwjzs2uDBrvxsXufEisUDiuSuxQytlxruKTNBbvzxTEzy3tvaqIg73S6JYuwEYx7uBJJsNucWduEo2wbQTs45wKzvGuiUThsXmuo7j4Y5zFU6yYntod9gYd6WwfGBjukCIee2zsXxTuoeqLwhLsnKkdjRiSggOktJlAjtdvwfjsOvLu0yNkfsBiceVsQip3cCXZIdTvWi2h7vcDMfkc8QhjNwSUofzvggADk5rtSQlWnynFrfWUla7Q7In3HErBYpAwcUcln07M2b190qr17+g1nJDYThhQgwgwlwQwldkTOok5oaYwlEyHA8IfHMkzHTnLn5VCuUX8nXHcHinsswS8XRbOOsX94WQ6XCnUX155gFzVzygNzIEmuxsHgJmJSRstn-RWl08smG8ssh07nkxtX9ADpuH2uFXhAWb1F2I+X6whX1AmgKWpXMcbgPbHs9XYXSkQHY09X879OF7zOx1p8GOk3+nG8uXLgLnNmv8BsJCZXbgnXOagqP7LXJMk3MqdK0LmVQIIYWHK3oO7Xmx53lX61cjB3xglGcCjI3q23P8zAe3I3Jm43R361hCoioNPxltU4jHuM6dTnQPbgMOcCe8zhiPn3dMdCu6+nEPN3qkOd876PyPWPOP13Lm8bfX1zg3xXVEsPJQ8PuPLmJLRQ3qlPA3Q3JX8go3ZbWPoPSXDPZPwMGjXPJmxPvbVKQ1iKSCM3oPMqdOhhi3GVY+D3wHk3EvzCh6RGboG31q3zAWKSJAR3SrAnS4c3wnxZlX63nVG8sSn8CSYHGZqS9pS5IrDFRv35oojZZvB0GXR3Vvr8NvokH88SEJeH7rTpxqyJB1GksUlA+AYiNsAwFQgw9XxvBvs3lX8bAXdUJnSf3MMfVUbRqf35OOrv26avev2hQ5LA1QbE5OYZQeEEE5G4xvjZdrHAL5G4JnNffSSZ7fY0Pfdfd2xvOOg-fWS5Y-ffAMk-w-35EYM-E-tfZzhzh5DfhrHfy5+5xvVYng-f3AV5LpcZt5ELe-zfXAm-Vb050F1fS-9fp-Hp+-i1m3tMge7v05SBqhYIgf4IF7dl5g6kzAWaAq1mSB9DycXKmpRkDwMB1AIgDgKQBzTgJcghAReJn014xBBUr-C7mgNzRNMZ+wGW-lfBX6TUjYj-DclVXPK0wQkpGAgfU0+oOAIBTKUgNAI85wDOupA-chZWaBIDg4M-ezAvwloIoWEW7L3q93aoUDGy3ApzpN24CSDMyr3AQUzS5o1odesYXXhQMkH1dn+pOfoAoGq7AsKgjdLsGyAMG10YchgUkMbxnaGAaC87Ewb4DMHEgng+nRsjlRoLM9CgTwP1NoLuh6D5EdgrsOMh0FkRrB3XNjLEH8GUZzBqxYHLNDIAvEKEEQowMYIIimDIhFgj3nZ0KIhDbBKQ+wWkKcGOt4erg7rp4OobVANo8Qm2IkIiGfRHBoQg0KUIaTeDdBmEGgocXuqBCfBMgVGF8ksZbNqQEZboVQDkRtxAgd0X1kEOmb9CJgJnIYZQBGHNCJhd0KrqFU6FKdhOL6fTuULiH9AEhuQqUIZByprDSmjQxqD0IWFrClhLQ7omMJ4jtD3Kx-eREKEGagh+Yp-XWBTBPJaZcBBA-Ab30IGMBV+p-A-hQPfAVAVsgwBfp8SBZot3hVAdgXyE-aTh5hQhBgH3S4i8CnEC-bgB8IRF-87aww1EeiMwocQcR8Ii-oMLGpQ8ZAdYWoGxXU40i9gdI9bu0ClikjWIVAcIPO0PJnl+OooV-hxC5HCcYRlGZ4ZSFeEsx2RuIikVsJQRLhBRoAN7Cb1nIfCGuyI65GiKoBcQIwgo9wX2AjCqi9RoYDiBqOJEI9ORRohjDjkNFFVfYJ5fnuCEZEcBPOWgvrDSxyiLD3i35Rsq-VOEvp8RKgPoLXDpiMBs+f7JHppGcDcBtu7I7bl8OIjnhiRQqFxGVBNFEitRmFGMeSLDFRjYWYQg0HGKf7Tkkx-iDKKpCdHMiNhyRfTglXdGxZLhJYreIIgDG8AyOtfQ2JC05GWD5CvWevjjkFEBj2xe3IkKDE7F64ExeaboIyH7GcjvMjxRgTiHCBJsL2KbboH5hpagByKAACXyYMAAAguAHAD5MAASuRUgAAB5cpsgCBB9lv8ylTiKPRzFbE0xSQPEcb1bGO0PwBsMcdcjVHpQGAQ45HhGNRAewXxeifTv+M6CNgnx7wEzpBMyD580w98CMtuN3EHijxp4i8VeLgkDhAJX3YCffDAkRl-xiwocQwBHGUEiJFkGCe5GaFR8cytfRCZGOfGEjXxFI43s0Ntg9DvUBiD4c1nqSsY1AJgLwCGKYkzw+J5kdUUITxFGj7xagMSYRNYl0A8RnGDccFxti5AHAG0RkAAAZ+y4CGoPZBbgZBE+zXFNABMGD3YTJ3iLSdoCBDqSbJsQjOpxTxBzia0DkzSU5JM4rpDJjA9fmNFP4OTTu5k6gL6Fb5Lgf+DpRskFLMmxRQpMnfVo32wgBjAg4aPyQ6FSDVBsgJknNPwmsnBS4ppoPqipWMkcBqugxQqSlHJDgJAhNseyJ0DLjF8QwD2TAZn0MhWwhyvk-vmwLiD5TYpVUUKURWbgiCuu7U+HrVIYD1S2AZcC3l13qEJ1AgdUhqXqz55PoWgRsN9BQImlTSy46kgMRUBIAiBUgGMQPsCMWoVIapi0yactMv41VWEmA7FIgVqqsjEp-k+aI9InCEJxkyqQyIIOwErBAMfwofgBMBGTU8R5A2VIkSoEsBaBcPGkYRFtGaxtpy0zEdPwxpagsA-4P6YZAexe8hR0EUoMjOmlSC5QnWX4sQCWnEzMyU3PsM0HhnGAqqDEBiF9Kuk7Sjuz-EUQBLBhTQeYfwNfqODOrsSJxPw-4UDOX6gzQcZ0sgX8iQR4Cz2ITdqoQgcB8VNRD46gf8L4E0C8W+YtcODNhaCCMBaMaSr+FMR4BIQ5s2lHmjwFAheBRAyWZ0HBnNTNUcskSCEjGnKzrKqsriHv0RmFBUZYmbEZjP-BQQTya0kUfzKb66yKR6vPUK+AOndpjpJMKOVLP3KbkzZFsl6pqkdG0iXR1qRQZDO16PDBg9-B2dHN1474WIHs3EGaMIALg7w8Y6cjyOpE5y6ecsUSBWM84siOgWQWuRo1JDcje8sohcbXPxkyROZzwnmXfD5m9yeA9cxakPIFEWD52487mfFSnmPBCAd4GeV8M-pgBzZkIIeY2RHmKj3snveUf3OE5VyvZmFHUW4MRk6jSQlo6YFfLNH9i75+Y6YP2Mfm+zQw9o-TtnKZG5yK56RVIOpM+S34quptP3Lfn9ImTbajpcsq2Nkx7SR+VHPaUuQcltEUFGQ7ditIjDoK1R9OToPVN8BjJbil7Qoc4XwU5T7hAWfZnTFKljR1J0YizusyUksKyAuIBuYaCaYowxsjCxkKlJXL99MpJMPaZBjzRXzSxLKCcC-IzHOdWFj2FEa+J-kIKUYSCs2OCUYXzTpghY6WRQKkVNjXE8bDua3M+qbDChbKczpwuyllS2ifCvtHtKfm1jJAHoy4YYpTGHENxqEhgMeMsgAAZfJteL6rJF9JOZSQPJPUmgT2FQs6ch+JBkVBvxRE+dv+LwmMLolyi8CYUPgl9wTJHsJcjkvSWeDvyPivxYEvAA4SQIaSqJT+KEIRlOJqLQYAYhImXCyJFE2pUkB0UNBbSJk2iWsPhBGiWltwiEIrx6UcA+ltw0Ls-3oU1KwJb478pxLmE8Ttw6kv1KxnoV6wwFzCqSWxJPKySIlo9WZTEvtGujJoZUlzgos4VKLrkCI0YToPqVrCuJVAZZdMCbkNJDIDSrtH4P2FNLhajEmCR7CzGZKZJS6U4TMryWXLLO1y6SRSKcZzVmhAYqxRcpc63KEV3wqkK0CsZAh0ouOJ3pCrgaiQkVrCrJAGzBGfgpQmKvBJ8TvhnKbYyK1haiuOFIjKV42WIdunS7wrjhz-UUEOIdBjiquqnGcS9H3Yv8jZQq2hSjjj6BAFJOUQ5kOIcwESOc6aaXqIsSV8qYJH0nhVSCnFAg2lWYUcRqqqrnhg2L8JzDBLuV3QVGaiIZToJxDUTFVdACZToJJUNBSodq-zg6qdV3QSSfYQTg6u4CnCTVqUkCOaoRWEZsZm1bMgFg+DBBTS1kuVV+NsW3TYgvtJSYyDeDqLq84imWawl5XTylJmqlNZOL8CMg9VuIUcURKNV5og1TmByc0KtXSIbV4w7oLAvGV0SJabqltdfl6V0T3B0UkyQGvfo1rZojCi1XcJjk0pI13+PPg5OCAyqSYGq7sYwoVUF8lV87GdSZJXVISOc+nPPjBK3XMS9EufYQPhNXULqHVOaGNdKvNUJrElB61EIRiihsBT12694IyB8XoSTxZ4y8RUvJAfrDxX6rCcEr9VnrB1fqP6C+sPUdIKB4IDEIO0P5uQN1jwbBeSCvVxqypt6jsdmq1UCAIN6S99TuN8UBKglfkUpcRuA1LhtlpwvDVEsIyEJYNXgeDcAv-6pByWvSYxobVKQrC3qXG2YXBFRRvAONKITrv62qKHsRNGC-VOxqoQTd2kEZOQYQA6RRq+ibG4KEJuTASal1s2XjQhtmL8aEMKQdTV-zk2oKRgOm5TSxACJqaZNmmufgrnM0DkXANQMQKNEowXKuNpmlPnJuf6Cb8AWUwTTJsZW3CqubGgLc8jmRGaIKPvTlbcP06+aspARMLaYHLR0BIt80olTYrFRJa1MqWmTfolwimIYt9yzjG6oZwiBhKGWyzg6Xi1Hrv8amvzSTGs0ohxyRW5YUutU2GbDaTW5LWqIsV8inJlQkPIYN+UThKt0CfTYmk63CbutvKC-mOvy0NBTh9WhLVJpm0ew1tC26RK1vHWdJSt3nCyGNvrqGaGtXLAycQBc2zI4EQW+5RxMeVLKR8BiN5ZjINAzsxt+gZza5usWWdqOXS0MC4rj71jhl9o2wAVrh7-a3FQO+ecHJTYvpIIDQbbZGlK2+cKtMyOlcSrDTnbRop2h4SYH4AZ8uuxvEjIHzpYMsfglLPaM-zZ5Fd7MV2ubWitPCEJFl3Eh7b-KpF1JFIhsXHbMgAGu5gBY0W0VJ17YIin53DHMPv2Xq+zSa7pbWfmIpp28CRAgQPOkhEpBzQd4IKndT0MyhdIO1IN0a4sB22rQ5AJEJZkGZ4I6FMpWjXRz1p4HbUdX2mJqACt008pUXLRMX-Em0hRG6jIAAJwnAo87ERumOqMAIDuMDdWumOoAkbRPkYaYmugJVW4KPghaxmpLyEEuAfiOk2PUUDD3BwNOGnCyGgAL0uqigEa0MNnqc6J6JahQbPRHtqxk1HlRePeC4C8g0FGZag8IQHvD2cTa94baint2z0BjiFtdMheaV5ixrrtbW78ttot38AIQg+0hUwHIW278wo0e3exzYAkLh91Eb-Oj3t1vgR2-AVcGQF+h3wEm6KgQK0EZB-dfAu3fbtz07Fwc99pUE1kcCmU5r3SR++KtE1PaqQ74IFO-O1TL3ghPIXkdHqABc7uh99AgABFvQRB5j29nu2uvoGy6sLnOxwfdCnoiAMRXw5quPgnzpgnqKVSewQCetHVzr91e6h1TKSs7oy49BgLBKQGP1f6z2GhJkbNE9z-T4DNdYOEAeANeQYJxB5PtAeAO+R0DGvJmfnIaCAHeDnkMA6wovApiWo0hzyEXqr0d6G0lwj5Y8peXbgntaiZAzYp-k86gBK8VoMLroPi6-Ui0UIW9tMO67ycdYoPf6NTxTrHNjUCbUIEMD2RWs1QUqLlLzQX6gQV+m-ej3v1FsfD-AZ-a-pw0X8YMNh5nHroB2OHkie6V6oUUPJRaZICOfANRQfF9YORzAKSP+GS6jsLlRhmgCYanxy50je8aXY1HfpWHn+Taidt0DZDdB0h5Ic8DBhxUtHMwvgFUqCI7DLYvQwenuC+hTaGA-MO+i5RpzDH6B8xAAHSwBgLGlTAePjIGCATtYde9ZhnKGgh57RI9B4-c7xOBTGUDMx4CXMbCGLHljXyyjLgfWMUdOxs5XgKuD3g9BGyLx0AAAC95moARY0UBWP3GNjtRnoD8d2M6R9j4IQ4-FWOPPaPiYqDw14enAzHbjqx22MCdQYSd3OwlFgMJWUDCVPOkwDTk6DwCnGbFKJw6XcbWMYnF6WJ6euQBxN4mCToXSE75CAA')">function get_stream(key1, key2) {
    const s = get(key1, key2);
    return is_undefined(s) ? null : s;
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p39' class='permalink'></a><p>
      Rules are stored similarly, using the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the rule conclusion.  Rule conclusions are arbitrary patterns, however,
      so they differ from assertions in that they can contain variables.
      A pattern whose
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      can match rules whose conclusions start with a
      variable as well as rules whose conclusions have the same
      
	<span style="color:green"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      Thus, when fetching rules that might match a pattern whose
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      we fetch all rules whose conclusions start with a
      variable as well as those whose conclusions have the same
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      as the pattern.  For this purpose we store all rules whose conclusions
      start with a variable in a separate stream in our table, indexed by the
      
	<span style="color:green">symbol <kbd>?</kbd>.</span>
	<span style="color:blue">string <kbd>"?"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-RULES the-empty-stream)

(define (fetch-rules pattern frame)
  (if (use-index? pattern)
      (get-indexed-rules pattern)
      (get-all-rules)))

(define (get-all-rules) THE-RULES)

(define (get-indexed-rules pattern)
  (stream-append
   (get-stream (index-key-of pattern) 'rule-stream)
   (get-stream '? 'rule-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCyyiYRA4K0Ia2yEs1JjEKMesnkikWJtWbB1mwsu08jBtXykIvRIJl-Cqcr5-KVKvFkoRWrpvr6DsGRqWpvNIM+8dmC2Nyxdtszkh2gOBb0mcdmVl6lakDPKSlFDhJfJ5oDDfgAbkd8FqfZt-UEo5qgyG-pyW8XVVjPDjvNr85I9QaVDnU4ZBzHrT144xSPCVWqNTGfPOC-5ldJVcT5Yqz+QL23QJ3PN2TMfT5mJwfp1a548PQwvTxLdfX7Pp3jYYdfmvcNQAnddcV-eNF24Q0VxdcZSw6Td8wASEeHc9zGeDvGPPD302AQ7yMKiHyfF833Igs4MtDc5zIyR-0A3tTwIicQQ7LstTdX1qwrFFRNAWs8jYZQBFIRJuFiIVNntAZQHifFNNAUlmVZXhSRPTYFl0tlDNmHYNK00lWEYaRSAMxiFhsxszM2HYHBiC9Yj8UkAFVCDqQhKAAdxoOwHCcCoAFootgmNaWE0AJNUx0ZLoOTEnMKwsFA8LHDrGc8UJGE4U1JFzFA8IgkJPLIpcMqdMoFk2QSnK0SCAJqtsex8ucQqyWcuzWrwSE6zCORVHUfRYnlFsTkFbjUVFAcZSq2beSaQVEpSpM0LNNcRAWYZRlAHY6Cy6wwCktFJJieIoDgRBkHQLk0H5CEyjyQ1PHIVJHDGNpYl4agGEIYRFp20BDWGWJ3AcbhAeBs0wZEUAAB80dcw01A0QhtERkGUckDGsZUdwmu8EIEbiJHQfBkmkKGEYAZpwnwakBnfVQlN0IJ5HhAu66mV+iLpzohhqaBtnul6FFIb5umLpGz6KkNNxNHCNgmB+tRslIWJSABPR4U0ZTJEhw1KIvNQDZEAAyO2ziuPXbYJLTSGN9WlaFqGhn4WIJYVongITNS1f4DW1m1q8g8N7TCH9hhWqsH26EaWHKGnShcCYBOA8l2ng7l-pHRebgJ1judsp9krmGDOhyE0QgA7BvXcc0PwuF4WQqmcM3Q8dHWSVJevG+bunST8HGtE7zhu4YXvqDBFPRq+lRR6bluSUriGS6TdXNej3XY58jfx7B5PlcZH4x631R0-Jlmpf5-vIbLid3+VJ-C+EExl6vsaZ877iyYF3HuDdqAF2lrvRMTsLgTgrqzF+VcPrX0NBwYgnh+C9UgTbcGIcLYqAPlHIeLs46kn7CEXcGCsE4MILSdGmNGYm0PqQvBPlOwaBjEwGh2C6oMJJivFWNBeF0PvhnIi+t8EPDfs7D+civ5kL-v-H2oi6pMBAWAheEDCBKO4rI+Bii4JSL-t7VeqsVBYNhmwfgoC57gOcHo4ChCWEkKvOw7SVj3A2LsfPRe9CVHmKZP7bxtiBCOADn9OgTiZF73UskbID9M5MGzrnROfhP6RhMSgn2XifHkzYI0GJUgDGGAQYovBpjwQALXkwHak1BAMC3sU82cTw6Ry1mwqRPl6lqEaVvS+Pt6laP8S0geNBMmSNtv-GpFimAihknWI4Yzxm+1cZ09x3TtILN+s4bEIydECKYVzIhEdWGbINj5HZSzpx9NSAMwJwilqLL2dOeeMl1SpDGZDIedTlhkL8FyR519rmvPmWifY3ZW6VP0XE35shcAAtAFtcEPtQXUGxEcP6CcKDtgljC5xcLiR-MRR49IMyfbY0haDYg+KTGwtge085usPGkkYAcGlSdgVjVrqoalJA6UGy6AytSpC2X8tpZPUAeCuiCyCdKiVzA7lNLptEglUhYmwMmUo7leQVjSDUA0+5dMyHCsJVq52MrdUVB7ruZVW81VSLNZqtSxihXWqTE0lICp2VQtpaas2LjjpTNILK1F8rvrBjtW4Y10KnWBraUzUY5cKnxopRGsmao6grJccQjZLKtmki8DUOogz5XFuIHUJgBSikEuLhawxWTplmKeYaZIvAfqfMcXWkpib1lHxJKy9tnb+EeskkE3xDjcH0vNWpbVlSx3YM0JO7RzhHWu1naXBRKo3W-3Ta2lQnDuBd1fn2vNA7j1zx8nMS+sz6wcE4EwPk2cjDSN6KBE4Moy5yXLKsw0R6TiHW0je06rYmhKyiEEugt04gQBgPAJAqA0CvS5KgsaDA6KNKgfzTuhB2wJsZZYkW-1sN0wzEZIkf1sTi1IyjMyOxoaJ1o8IMyxkmp6XEY-DRglEkSJSTnPOgckFkdw-h+jay1F1mY+RrMuwnw8LeLQuqzHRMyZmAx9evdN4msrqxuTmKtPn23sJsGqnxOGnRQnb+0s9MYexJZ5ZJ9dh4bU98SN1jbEHMcbp30CxeVC1VCEnx4TE5ROkwxRimw8m2JreF5zYnfQab5RygV0nbPyd9Zy7IiqjUqrBtEyuZnEtrIrdmnzXwFh2enKVlT8XXNSCS70mNeXjPPzI+l7ETX+k6ZM3HUGCWvhJeHeQLtkDyuPAWMOopVXDhfKFiu0ZhW6sRffL81J4tolLoWzogrvWhCqfq4WXY0hPK1b8gFIKoVpWNDBvwTgoAYr6efI029PspvcFKH4JdzqpDIUthoWIuy8VMAC6UbCsxIZTaYN3cggPcXMFB0QL70hNBhqkJxb0f2VAE2NCDoJH2iDg5mKBHuIwuozaw-N2LYOVuRceFwVI7BQF4bvNQZprk6f0gnSFyJDhok0455zyQ33adC8ePN-rrOjME8IFUiHfb6k0dJ54FjBYFiK8EuCsGJrleq8zDsPaaxhIY6AvmDy7QZc+X8oFEKNAfakEaPYB7sUputXR9U3JxL1uCWiV3OgqnFqrJhOyJdBIAB8T3ZsSyXap2evAw3V3lVVrXLyMXWZw3VmBYciHSECDoabmGvkObebID5WGlv9fuPGSrhehPsF2WnrXmXW4V5c65dytfqb15uUwLFDgcXkDxXFyvLbr7J+b-6mVAeQ5Y9AUDB3yW-WCtDUT+XsDDeunEp6TH+oUKWKjbl5pVr+52jiRTubd5DX2pNVanwI+t8AW9CHd97VJKX+jQbbjz4iqgA5+fiW+qV+zWR+8ad+LmiUvQs+Gu3+H27+k0n+4sq+XwkMgBH+u44sEB6O2+pumYkM4+iq3AguvaQB3W+WAaYB+GmBHE4kHu8qa2OcRAZ85ogmP2vasCwe3ATA4e2k5IjBhmawNIfgLB+618dA6oLglAgQCmmCfCdYu2bWRckBu+VKKW-qlcJ+for+MqMoE+SqwBqq0mVBf6KgXqC+uhAaRBoAR0zMlhOw7aoMa44hKSUhkma6sBBq0apBg6aaoukWYhIQzh1CimshbhlhBYvK5htqh+Bhx+iEHE2BgebB2e0hSmUm42FWRIusrh1AnGmc0mh2DWoAwaiUVgieTyyeNWTmlei0oENaMopW1alAhShhKIoEX40GhI-hEhLhwRdC0SNav6oEfBDcTcawHRmRu4qSwxY85o7Rv6eBneNas8jOWskuMQ0u7RvhYu5E0xoxnQfgYR2xswleIh6G8mXWsarWP80+9aakvK0B3YhB74-+GEiY223me2B2o+ZxBmIx0uVRLmNRr+4sMoLxQCdMX+3Y7xY2nxdWiUZ8uRYsPG4JYMiJcW4sqm20cSGBtB5R8m2RuiAJ+Gi0CJacfGNGBJaJhWJ4LxlJmi9iq6MJChwgseNJ4B1SkGwi0G0QsGD0CGz0yGBQaGtS6gjxnAp6hGjRmc+gui4pv+1eoA92mkhIopeI7ex2p2nAPk5M0pIQuwc8bwqQbALQbwDAg+awWwr28q-m+OPOcgfOfgSxmeBCRKusFCrMuOQsk8YRdpUSjpTRpw9+QiaC2OHpTOoOEpyR56pCuAVyYZWsXpY682vpfOH2kZg8xKCKH2gKSZE61O6ZwshqWZsZyKuZwizO7YUuzSuABZExJK2ZGQpxeQ9xe8kJdejOb6SRGZbpDxScfgIoHZY6hovZ3AiBWejoTKbiusGJ2kvZZaTyvZWuHZo5gktZ2qiBTZFQNKmIDceMFZVZJq1RLpsCE4QZd6b+HhIOESEsR5txW6FwZ5Ps25lAjA1aRS0Q6SzpssvQkMVsH215mJ4IoEHszAphCoaxbOdMMoxRwp0IsICO15vGj8-uj4PutZf5ZJyFAk3+Ce55H5AciJ-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-Q0VXeQBgAvY3dkfUsWm-TXEyzsA5Bh3PBfzZ8F1arAMkeMK5HbJEqF3+6F7vubR4X-L4Q-hUHcAv85af-XENwBAH148Ya5Z2FANf6mwgBNAeAWAJ4woCYBW-RROgMQFt8xo2AlgC4AjrgDP+bFUvvXDlDECwObFJAfqRWLv9e2YHGcqQKv6n1FIT-bAfQP-6IEfuxFAnvWHtYUAsMo-W6J+SIAe0tYnCJgEkHYDeBpA-cNFHYGmyU9EaC4ZQoemwRw9haL+GZtgPqKgC9yDLCOsIOoHR0+0G+SAfoNNhtVswkNSQkzkkHSC2AsguviILJonVUQvAIpPgJozYD06AdLiLPj-KJ8VBItOJH+TaCeCNOG-TPv2UUHUcxgdPf2vEUDpaCs6ePC2jQTIqwIIhSgh7nwPfbTRe8FVLihwH-rmg6ALYUod-Sjh0AFoLA1DtkCBRMcqhjQGofyCRC48VelqIFKK16BIhuCOMQoWawUxlC1wU0f2IREaHddNmkgFoW0JyQRptczLfQMDjmFrhKhAEaoVrFqHd9VqFQlHqADWGqB2hofd3pdR6GWF+h4jVgH9EpirDNhrQwwEcNqFIhehBYK4RHkGETC4IQKHqqnHGGxAQcWCfWD0yRzSpayuAYEYzkmiyB-YbcQobCzBF3AaBkIwQNCK+EzQMRuwsWliKY7BpceNwhwHcOYBrDeWXwS6gCM+YfDJIUI0GDCOmjwjvhqaWESF3Yq0CuKeoJvMSBNSUC-ANiOOMwNaKv5dBhIfAYYMQq8jXBVFLIckXMG+DOOSrO6rW1xB8jBAPAhiuqTkjYomA0DBSN4LQGWCdK-I9UWTXyFaj+8OowQApDkiqiBRxFUvqHSsi4Av4awRKkx1JDOigQro3HpCmWQ2jDhxgZKq7ylGkUcO-6DQT+iDFPB2RTOTkf6G5Gtx-RxoqURlxUB-lIxDsMvlRH5EHDzRigS0fJBsoTgf0bw+MBOBzGljfQeYlwLqJsrfpjAlY7YmXArEPVIsbFULh6JdH9d8h+1b1jkQxE4Mf+VEXBtSODRsjEgbwKtAEX35SYZxzgPwET39FE9BR2g9ELWL+TigVcMoasQWIUiLi1RPwBftQBtYzD4wy43gW+3XG64N2no7wP1zxE2Eh+0qLQH2JcADirxC8MnDMm9agBnKAACWeZMAAAguAHADPMAASs5UgAAB5b5sgEJAwU8KcgRIL3lP5yFX02KE0T2BYH0BmAL-LgBhP7wHCqoBAh9BrzQluFqxoXEiUcGnBzi0QNAmiaMFQm2R0JtZf8YBJAlgTIJMEuCYxImj4TOA5E1iZRLRFETS+JEgcYJKfScgX0VE0biJOoBRQMRs-a+KaBP6KTRQhExQFhNrIYigRggDgkQX5E+Vw8hxCcZWl7wuB6JuiEyd5DPCkBMJKY0sQVULEsSjxWk6sbpO-FyAZAIwZgG0CIB-QZQAABnMDnkzQwUOpP5KKEBUxOLAQwK-BimBSlhMoSbgFLsHBSwqXILErAnSngogpDgGgbykincYP+EsSUflJp4FRyAbAIcblXR6sCqpn3eKbVMS6UCqkDNMaLIEExlSGBKgVgOMH8n9wScMU6qX1FqnQVCq0U7wLFJe4TTEpiUe3LIGYDBQjg2aS-ieBcRHpN+HOPzE-1KmUCXBzUuKeolqnXUksQQwfgqT-JTRVp60qIXD0bFSA7pTANaZ4GzQD8ZeF09IZkLSGvT3p2adKWyI4D2B2AKgSBMIMlEriOaTyAGQ9OwlW0lwZU49EgV1DW0DgyySUbGFSHLVHQqpIwlWARphFaieg6AcunFEY1dJhMlSGYJ5j7RIBwLSvs6MAitijs8Mj6RYPJmDV3AfgsSDhGz4hCZRzXHvlRB7AS1YIK0t6Q9LLg4zKOHMz6YoljBhEdgLMxgBkMzoTtXUUswGQD3yGKiWAOcYGL3AgGSinwukoEjoMsFkyEBBA9GvnGhkXilCWQXQfR3WbC1IYRAaKruJsr6iYCvgk8Zs3NkpjJWD+AIWoJRlPhNwYuGwOSDjknhai1s0UZYLtlECjg1MraXEldlaQN8e0xYN7NrGcCVRbM3oH7MeIBysAOEKuZIDYoc53InAOgWbPTkhyw5O+LIKDIcIQzdEwcx2QxRlixz45p+WBJ2K9HdjW5QdPGRP0bnKjP+wckwZ9S6l5AvZnVH2XwBbC8AYIMMrWY6EdGEgR5d4l3tGP3neinxvosYLwHXmCgmOlFAkeoIvAXyRATHA2ZyONkNwIBF8mppvOIq3yUZG8x+ZX2flGyXyb8xEBvJqYthSBkjMAHHPJA-z0xQKAjo7Etju8-5THZeQqELnFiLhYuYsYKGekzB0Fq879NgtPGzBv0eCkufGHbG49j5Y8xeXMnSl6wvC3faMpsi8I9J-J85dviQGfD-dgZpfbVMDLHT5TYs-C+oS13iGSKhFBw3rp4DWmNAc83YRjk+OraKJpF+QqHLYkYXpSFxR3Hvo5P7y6KHACoLeUtHRCYIZSM0n-D1MTh9SYwA03RMDMShDFCA3s68czwLCELC5+4gxTpMoVLRME9AbzJTBcDAz8Fmwc8QxVylqRCF7ip0V2MPlSBrCowH0bXjTZHchps02LBYoCJhKwivYuQP2IBHcBYln4lXH8PlRQ50p0SLySmNL76TURII9kEQXSncFDimiqxZkrA61K2KLk5CUg2qXaSqWKYtkQ3AHrMAGu3AHxU5NxqUj6lAIgyU0rJH0hrybSzMPpOGGkiwi6k9yWfzRBTK9FPS4io2OpFVL-J0SaZYYpGVbFZlLItkf-nSXGKDlxirCfSP9gjTX8ewXpoSDWjb9nli3HyA8oa5w1t5u0emeaC+WE5OOYywVo8rq7-LTgty6aOtR2CQrCSHfAwrtyRXvL8hhoQSTGFfTd9Uqj0n9BRzRhrIj09Y3+D2KX6yBdlNUlwIJLXYUSl4VPCOfiogE2S0ZmhGZp+kJDSTn0iKLlUYVAjTsTsEJGyW8o0gPVJJxS-4NpBsnKSARIKsZoEHlAKSPJSqlkd6UzDhcWVwy6kWKp6m7hJVWIrPsTIXnnk1A7QZgPlIZZMqxFQosFmJMdCEgRQgSvhcNMSiz4OVoCl1bLmdpmKggfKqGEsEfSCqhlSQoNQkAUDGqrFUq7FpFllUsj1Vs5fyVqumgqregnUVNaSHSkZr-YOq+MH+R0VZBdGRqiEvlLNWx8UhIcUoom2P7xr2g9KxxFytL7Dl-JzKzSf-IoyNrGFXK3Ho2psldqPJi6Nfi2os76r+41qulZKvtVhqR1ey2XM4tfyZwNJHk8YhxOAmgSIJUE2CeAEShbquJu63ifBNYE2S-A1ItdROtFDzE4kpIFkNB1wFH9x12i4aYtBnW2qYp86h9F0sGKrrPAWsapTKC3XgTfIAAGWeYHqUQoGiDVBu3Hu9S1V6wDVYrRxpCH1paXFSYVdZa42m+OP3NiOTQEaURcBEUHhrKD3dx2qyWWXPHPbyooiZG0aNLyo2QwvpdGg9PbQXxpRyNjISjYRoSG0akycBbjaND40CLnYxG59TagXjUJlAPG0NGJpYFsax0ZoTQI0i1iTKCN4mh8oJvyFkbKAg0xjWUBQrYqlI7a7DQ7SM28arNK+a+XHQxG499Ng0hjdQHk27ZCAbm6YZHkaRwr3ypG1zaJps0m1K5mzUzT1RzUjx2ACVIFUdylRObl1ibbjQZtslyamNryrEeZs40KgRN9dHLWQGUqV98RT4wkcsI5YkiHh5oIgjFqeVo08tJIOrSbSlFSqN67EbBroyS3OaZNPCVLcZu4ANaWtnOMLf-Ai2DdAVaS4FXyLk3JapmPsVTVhhFxNaMtLAhpcCKMmnhQ6YeELbqAkXVb4Vc2o0r5qS7BbSF7VF8YUrfHFL2xxQVrcGIKVL8LtKa2udXJ2DBpSIswMLRdAi3Ddot422LUIQYBqbUgM2pPEJOnZfJNpwsjip3mEG+tMQQlacCqxRj5D7eoPcHjRgW1hbewMdBZY0rW2+gNtrkLgG8ECASwbIbgMGHmy+Stj4uqOHSpRXCXUN2wP3ThiXNr5M6oxRxc7A3xoByRUKZ9R7NVUrnVzegpIFHf73FjTdFOz4vGK+KlVp11Sr21yB9vBARaxdjvNsj9q7A+aJtoANXWjtXLhTQIMIR9H-W-oygAAnOYFUSyR-6cuqjdbvSi279JxGPWEIUDXx8cRv8YWtn2Qg0A5KIUwNb0FN1FI8ueXHyGgAj1Zr-BT+DnMHselqA+ZMwYPVKpYB-RGRgI4xDpRoCxQgUGs93EHpt3f0U9LulCsbu62O7v6bIo4PIsUWk6m4Nq9LXMpYGmbPtaqkeHIu-q17Ndz2VIL5qlTV7O9rgXPFRXPKB8VAky1gJ1A7AOByYDcE5pbPRB7AZQIvG7G4FJ7m8al9nFCCB0CCftTA03b1bvjxTSBZ9+zOjlZAbhGV7IgauPaSBiixQx9oABrqGs6iSB79CUDnbMML1FJDuTyvYNqCSgI0JIyESVUvxX6941+EK7lcLlfUxTm1w6odfqsaLNF-9Ua5CMftP0O5z9e8y-RPED1SBb99+x7DZOCCQGIIRBmKB-sFmU0LVmwQgxQaf1Hc+gm40NM7goNR6v9Fen1MUo5z6S8d621ZYQweq-74VlCsnVQkp0Sw9gWEy9ezprLcF8M3XXbfVynhnb7tcuscXLndz0K7ccBEIHQGCjwxJ9gQD5TMyX2EgV9YvMfUYHg7b7X98VffeTRDrXlxiyhqZaoZl3naNDzMcmqLWTSUUCtFGUkEFHiSFitAAYtwAZBwgG41ur5CfYawp1YZpDVHAIzpVHLM6FDPVH8bBsg1nrEJPsVyShMGVHKGKpfXCaRIIlUSmOJEwSVHGKP+rqJE0WiahvKhSaaATE6cIMvYkASmAYG3I-xN3C1GgN5yyNfMpZGxSHCyyr4MmoZECrZJiKeSf4rzXpqVJTrGY3CPY4TcVjyq8LRvsO15cZx3AU8QAB0sA-a4oUzjAO4B2gM0V7Xg1CbWh3wYe7SBgZfKt8x9+xw4ycbOOdrhhVxm49RAvD4AOwOlU4H+WBOgAAAXgS1ACnGZgfx5ftceC7pH7jUJ3TpFmeOkhXjjAVqGRDwB6HRQhhi8AcYuNax-jyJ0RrFy3r8AEq7gBKsQASr9cTAeXMEDYA+OTKSTYMsk4iYBOUmtmNJ7UvScZPTdMTCUIAA')">let THE_RULES = null;

function fetch_rules(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_rules(pattern)
        : get_all_rules();
}
function get_all_rules() {
    return THE_RULES;
}
function get_indexed_rules(pattern) {
    return stream_append(
              get_stream(index_key_of(pattern),
                         "rule-stream"),
              get_stream("?", "rule-stream"));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p40' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Add-rule-or-assertion!</kbd></span>
	<span style="color:blue">The function
	<kbd>add_rule_or_assertion</kbd></span>
      
      is used by
      
	<span style="color:green"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      to add assertions and rules to the data base.  Each item is stored in the
      index, if appropriate, and in a stream of all assertions or rules in
      the data base.
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-rule-or-assertion! assertion)
  (if (rule? assertion)
      (add-rule! assertion)
      (add-assertion! assertion)))

(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (let ((old-assertions THE-ASSERTIONS))
    (set! THE-ASSERTIONS
          (cons-stream assertion old-assertions))
          'ok))

(define (add-rule! rule)
  (store-rule-in-index rule)
  (let ((old-rules THE-RULES))
    (set! THE-RULES (cons-stream rule old-rules))
    'ok))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+zjwKMFbCNs0UzGVyj1eQsveipYvieM4+B6EBJqgLzkZOVwFp-yH7OlX6n1DeSfi-nzJnvW72vZXwOGyBAA-LpyVfTSAAO5KEFFIcIiwuQ-3MAALjYj3KeREv6zzwNQTQihKJoXOBBeQLxNCEHIKAPILRQBXHILgMA+BmBsFIG8IuUxQBg1APceQC0wZoA4RDf2A9TTB1UEaQULxLAaEYC0M2GY16W2tiI6gYjSYwKCP-Vo7ROgtEUYEeBhNGqCIcuxDssj5Hf2GuYf+Bi2FyPEfoDRQR4F+n4bo14+FDFWPzvbPGnwcE5FUOfc6RCg7rRmF4+QoBUQAJ9AAKmCRErSgQdJB2oAaQgllBGSB4C8VJL1V6BD8QKQgzhgmhOIXw0gAj5AG3SU4oiATerBJ4o0Sg+AWEhBUR0BIyJ8l1PPo0GSrS1EDEaIMUA8hpAXWyaUXJLiin2NKZkl4XFOngTPtyExUjJB9PaSfCxYjrGrNKMo4gbQ2ldBscNeBn9tktBWaUYYgRbnmChvQRQdxUmVLmaAeYNFr7jLMLkugizcHTJKWUip8z8I1KCUs6+1y0iNOac0Q5qjNn-IKVC-sPyggXUVr2CF2JcFPFOSY0E4JVAAVefgsEEJ3mfMWP2Aley9k4uDrUtF9SbnDNGSEyRjRJmXKBXQBx5TJD8DBUFAFyyBkmLhaoFpiLjndBcei7loAACQjQsXYjFai-FWA1UMsaMSiEhqQXCpeDS6+9L9UMoWdq5Z3I9VmCGSMsZyrhoaouaIloZrxwwp-PctI-rQCBp0nVOgoJyB0NUCwbpmc9ShIxCyBJSTNAskJX-XSWRk1prgXG9EYSWSRAuowIM2b02FueaWnNihmAQhYKyAAqsQA0xBqDALsOgzBuoAC0XanG4NieYQNMlQ3hroduXJHbULEDxTkIpHiZ1LG5Lk8hRTJ1YOncE1QibM3JK0rkghRCwlroJAurd5bi1aTniEUCqhJwv2RhAxK8lkqTlZL-bGV6pCRDaA6KFqhw33vilIUMkQYgdgA8UHwwIb3gdgrPR5P7JCpPFP+uDq9cmCKKbBgwkqcJAbHFS8phh-4snfaAeBgjtw6XIZFSwxIQVvPKVkyRfyinkIYxkpjvrX4IqOWo+4xHQAVGkORgUVHGZhDkcaU0zyqKREkN+x0qg-SyZjKvaVIRFO-twcpmTxa3Qxt+bQMIoBMNhK00hoVKGVP6ZjLhoIuTSA2EsLWGzJ7Qy5DYKiStQQaMefo4430emCRdv8ywAdaQD0guLMF8YoXwieeDGm41bnxgvB8aEgAfItZziRJCpbQmFtljqOUuo2MMO2C1JOWF2ovBT06tNPzPuh4zRDw3fSKQfGix8v72Y01+xF2nvHtcUMQJVGiMPlKKRZ5D+0Ru2F9Tk1rOXGAucVnfMLoSfOBD8wlgL5Sd45Hi3R8Li3zBRcC1fY7iXLXDWNVfdLhhUTZac6tvLG29vRt9U6zlq8Ks8N1EfT4jWAOrx47R0DBF2IQe3DkIhAAVAAEgAUUkAAQXAOAZHAAleHkAADyAA5ZAYThMDDnvgKwdD8uxeM6h8g30XjUI5IB6kQP6s-vp99XZ+yyFWA546a4BX6Bc9GzztI8CaMqE+rT+g-ddRS8qDTotBITKs6BEj1HGOse44J8T+X-IaNaaF7Lky82xtg8vLtk7MrBuWYNih83+gYsq7i2Fj9cPQCa8kNj+tAAZZHJOhNe3JzpSnEa3i1ZyGb2CjOmAs8t6xdnIPY9i40f-I3g3rhXxjwztPjRJf8+l1H6cPiDdiEVzMHPGXJEyW977gP4By92Ezz+7Pi9c-c8T9SML+Xi66G6KW63nnbeIdm6Lhbt2rVpBZFd93zuh-87C1u99h35DXeJFyEKeAkIMGoawdgcBEDIHQHwHgAP+TyBpRtDc29hnEFmJLB9NwpiNVvwYU5-9JiYJmOavspz4EiRpR39xdeck1kl0IGxqJFgrIMIxQJQpRSR1Qih7QH9QCJdgQKITwQDP9hlPkoI2E3x100xUDH8ADgQRxUwcDhp-4r9epKDrR39SD0DbFgR3o39kCvBcC6CzpaA6oppGw9ggJdAyCzkHZiQVIRICoNJ-8aC9RDRPgkJSUJD9IYIjJFATIQCp9p8ggPJ75H4tD79RCfxADgNmZjZZCfxaD8CqYLDbD4YlZ2Y+xmDyDA545LDGhrDepk5Q4mCjCWDNF542xHCqDOCP85CeCQZFwQjGCwiXCxDC5i5S5iDqCrDiEkifIeDCANokJh5j5DCRCF8dCdpbJzUTJB48jxhNCwjnd-CAiq1Vs5ESDgJG1m1W07AhQ9AlAHRQAe08CFgMoP0dJ65pAfJhAXhB4JFUh+sQQIgWB6o-pJAlDhBxs0gZIRiDZnRKB5jfpFDqpVBxjiFGAohZZB1SsQkZiyRWglj9iViY1eV-lpBD1+iaIci2404DiSAiidCTFHQFBDk6IH9wRaAYpttp9ciDIORjJPixttCfjhpJi4T4TGhciRDgSaw7g7iztwcIo-8XQrZwjVl-5cTxxJBHx-i7h8Snj6jWCNkuhcMfsys0hq0mjDiWRWiW020CBGZ9YMFeje0NiIt-s54SiJQyjb0nQ6BmDslzIi5lNjissXjsiFB5Twx-CIxNBbYL8xBIj2DBDahpTa9n9IF3hMjr8VS9TZiuhG4b8ajmCaSzAvDXiLS+DuoPoyTjNzCCw7T-DCUtFzSkDDk3T6CnjRtKI-pnD-DxN7ZIj7CTYpT-D1MmkZUpBMpNB9ZDYiYbZVjShek5V+lytzjxBkyBITRFZnYYpfZDMggZIsicjwQnYooXYa4tYnhCj7NGSuUJtlshZGzHhoCQkwk006yVTezyymzKyJY2y0D7N0gSzwpgi-8xzIp+zzUczhoZJlyUQBzZyzjnUuzVlaybDzD4ZVAfMFYYjTZszpzH9dzHVyteJ4lgZbISBqwuhVBECpiFxqQLJVBJBFSWQIlXzXQLQugYkXhPy3Eqt1pp1qBCECCDwYJVc5xJEZi4y+xqy-k6Yik4zLzqimwig7y1k0yMz0LfZK1-5hNK07F+9Dl7gYKxR4KsCqiDiGzxyt4WzTY6UwS0g6AGK4LFZmK6ceKfx510KLyKyVZsyBwOyizXU1khL8hUi5CAJFLIDsgMK014EycHyqoYz8CfDmjCiWsnxQA04ikfD9CfIQD7NckIUGAwk+K8hGLBLCCkKWK05fVclgL-R2kHLwlFYXz2QQLNl7LuNLwRylg04Ix-j6Q0TmAMTSVmVRkkTkTp8fLkwugEyRK0rzBCioLdRIi0oJzQiCK79jKjTWJ50SSvkzz9VIqtlojpD8ifT8royFpIiGDvSyrhC0CTKTNzUikGquqBzKjZwCiZyNhqx1Lf9xxdNfLRwhQMJIzzVmD7MZJzV2rCr8DFKjK+rJFpqlqoC-81KjqNKtCNEGq1LzUxqlLWq0DUr2zeId9qo98aFD9OAT9eBOFtSI4F4lgHR1dsxMhshch8hAbQBCV-4ei81Xh-rIaTEtFGiIQHRY4sgcg8hhknQ2EFAvVNh4ZKA-oWhYEhjGZ50lDIT1DhYXhorEzKrtpAEriASkIksrVKarANCaaH4hEoy5YA4pAmb6Rligaq5n1GR8AHwPBriWaW5uSBYQQ1CObhYDiRbHpQYJbQBDpm85b4wrKVbu8KZ1t1aXgXptbUSgSEqYp8BVbgYnoNaIYtr+RqrFy5rySV56bDat0aqoEXg3avBtaQhvalg1yDaI4n12pVrgIg6957Yg6PS9BUwQ6Pas4VwiI1yCrL8yAg4zRohATZh0SYoKqPQNZ8InrKtdRlzmdpQi7vzFR2Iy6544Zs7PhnAxjDI8E6b1ha67BjUq6O6G7cl3gJw9YDZ4qQTEgikdK55yb27YCGwEyyiRbjUzqUqPlxwtSw926ZqTI+7fgu7Y0Oxd6zat7xTd61guZu6qk1Aj7HzGY-iB886C7UwV6F6VAEznATQJx9ri7tpdAoh3g57sgzZYachogAHPkFETF-5jUZ6ORAHV6IHaiP6Lo86HTRNQH-63h4GzYAAeXSP+8Bt+tBx04ZZGrdeHLIeQ4gQUI4qIJwFWPJJIygLoeBFkUAAAagRvhJA2iEaXTmslGUME4eDGAg4a4Z+J4aiD4dUEQeIdExZIhBZAoeoAIHkGAVofob0AYH+SYZYdEc4ZyskekZfqEeAlZDEcMfCFA2kdkcdvch3U0BmoHPgcNI2B0hEJkCyEshrtKB0icskgEdfsEYxUvrfkwkCbkbSFoIf08fQTqrSqbuoBzqHjHsSvyp4vgRXvjTCQ7BMZyrMXYkQZysyZgpzmwdqN7FsY0UDTnJYREOycxGHvTNHotvHtlGHLIZXobWIEyFaCEw5AiyCE7JCfMFyT7qKUrtnqesPMvH8YOK3pfvmZZ1SqtT7oHJ3vbuKyGYfMvo8YSW8cmr0t4V8qcb-y6bXukFcbiTvpif2dvW-pRIk1KZfu9WCfktCekXCYwkgf1WidmFicshEsSeScfsttTHSatUyYEYadyYibBP-g1Q7AgdecicCLma4gidFTUCqcGXEbKGTPqdhqHt1madBbafTA6ZrRcZaJ6bgsOX6ZJH5OKQWrmiIuGfedGZ7PbombYqWKmcmpmdYjmbWcWd3pWf1TWdPs2bO3vLuR-qBD2a8fudvOeqoVeqYAPygCPy4FPwwF+uBC2J2MJr2IFhhKf3w0jjFsxJIFZENYWM5Flrtd2IUziByEDGIJWPdhTrKbuPHWWydeNZuIFn8oAkUQAhZCVBEfMCVD2W+N0MAS7CjbMC7FjaRPDcNSTdAENVTbDcAXzEzfzBzdKHDbCZEbCeGjjcCHDZHUPEFBEZrbAQrbTcAQUaTYUdWUrfMHDf1HeHy2cDoGDB7cj3AgYEaE7bMHDfYczfMFUFRtAEFCe2yx6M4ZodAHHYCq3S7WnbMFnZeAXcVJ6N7VXfXfDfAtKF3fncXdAB6IiXnbMBPcAWAG3ZYTnf3ee2vdADAGPebZ9AAFJn2L232l3QBf27212f27gWQ81p3AOr2YaMQF2IOt0ABCdEGD19uD0AVDsJRD3Nn0HBgDjDg90APBswXD4twBHB1Ebd2D4jqjsjh9n0TLQjvdzD7LBjpDlkTLajl4IIWj99no7jjjvDyD5D59j9wId9swZD8wQGxRJdf1uY+1oN3Wl+rbRoX8pUfBJT513fBT0ygNxY3I6gZwAAKxxoco0V-OEEVPTZ0+NZEYCixPFbMEM5NfjFliwH3Xs8WL8TyFNiKQAnDbpJaBEZC-Xdyq7cAUgGIDaTkDrd45i7i-1gi8i43ZZCHckFgEgCTcy+y9S8i+7dgkj2R0zcy+RwK9yvDcJyUEJ2fZq8J1Ren305Mzc-jvSlrDU+8w07lKaXfcPtqLa7860Za7ax88+GG8VjKPU9KGs8VKc7pSzfG-a+fC4tD0Zg2NmO2OU+WJtdofzBFs2-kxUUYFGNA0kFM6UHmD4oiHTPiYZTa+2JLmbI9a+Jc6CEHgO76CCFvvtixQgNSZihFvvoBMB9TErXrgH3-WW9yJebxZ0KG9a38+3sq8CEh7ora+M7M4s5eByqW+2+dcm-WdR-MGJZIpafzrBf9t4k92JaiCDg-pmDB70Bwq2EceZ7uG5EoR1tVw1bYC1c+u4EwH1fJOUAoEkFhjCCon1EYFDlAkoDRVDuBEcBcDcACnl9ZXqIKcQSIkqaPAV9wQHDEZZEkDYc4aMfwB8nV-18140XgWt7AkN9luqH1AJkhNxptFAy-NjSUFICcxYCtg2nuAmL96vYYE4eUz94aZZDYZIzYdYfMc4d99IBJ5-Bj9pjDA3sZhIAMguk97tFoYTIqJz6PAul+BVXlY6KseiGN63TEZd5Egund-fN-OL+IFz47smPRWEf0BZG1pL+Fk8UUBYFVJFrCdH-T2AmE1TQLwdmSkHlhBhFORTMlC9jKYX8gwQVTrUA36w4TXfS15YQ7AX+j-fShsWloHCF98Vkl5PRl9DgX79PhT7wbiblnBP7hGzSAKWFRLEhkI37QYkY6+nDAfigymAj9j+xxcoscSN4GM9kbDM3gKAEbwE7I0oX-upGPi784BqyBAWI1AFD9GAEAyeEREmKj9YB2aLkDPzEL4Ct0+bCYscReD4Cvgw-fsHbwNaUoJ+nhUADQJZAZsXgAESAT8CxZkDGB7fUvgQOjRsDoY1fGII-y4EsgAA5IgMHjG8lBbAi3j5AX798xBg-CXosEYA+RYYBgsfp8yjSZRXAEIDsEYPI5pdw2JCERiyDkQOCW0QYF3M8gcFXwt8h-GgVYP0GIcr6qgawbUSYHgD6i8CHwexCCHCCoh3AnQSgyCF2M7Al3a7qQFu5TdSSzoYOOJAlKaATBL-ZIieDvST87BTDN-ppCZxtxmqjEO9O93MC-lkhJoVIZQHTKjVMh8MU0PQJOI5DjEpQUwqgKWBFCuB4bVfEgLgK2REC3QsIVjU0CJDQA1gusF0QdCzEshpoboUmWf4jEbShQp0OuU5amVYe0LIcuqmQHjC4G6A-qPkDvRnZvOKwi6PSEmJzo5S8wzoucCWFtDxInQkyFcN3Kbk24WTWGrwMpRUComWbDgeBmYDtC7h+WKAbUQCjvCZM9wmEawNn4HCMI0ffNpP3hFQjJibA1EQ2Gj4NCbuzQ9IV8mBFKJQRJKPEdkFqFmB6hV3RoWkNaEQiPhhfSYVMN7p-CBG2nW4ULhhGyV9yxZZ-hMKuHjIZIwwkRivRQHCidh32OSjAlrJOgOyv3BaLyQGE7CleIQY1IMN5wdhtRGBBRjkO6ZtEuSVQsQKqJjoLQ-aV5O9BqKkBaidhk-XsHqNYIGjX0NLY0XYFNE7BL+KsUmvbGFxfBqAqcY0C0DaDdAbRydV4IKAwRrCARbmPvnzQHihjlcqmadB8QjGV8t+7gBOlo0mGzD50zgb9JDg174oLmtKJXsahLE5BXmtKbWoWKDK50qxUVIsdEBFodh6xdUVsXWJbFDw-8HY0DCLV7D9iuxiY3UMOKHjyY+6MjG3qWLPqRiZk04x3tWPjwkhZaIPboE2JrEd05xmYmBgoVTg9jFxBvZcWuSZybNZhhaVbgrxVJui+6og3pgCVAiSB6EhyHIIwHPg6QNAmgTIuqPkozEb0IojlkZlMrjiLKPY+rHyzga3jzxaacHCF1UDjimupiWIQ+PpBPiXxLQN8YaJXHXwMmF-b8QhPAl9iexWzO5EWRmL2jch1ZS+sai-FW966Mo32ugh8hOiZRMrINHKMFbUhJwbLHZrGjondDZhvedHvSDaC1t3ydASpGJLATXA6AzGTMeP0kmH9pJgoWSfwB8RsDjUuTQ6DSJYRh9PsL-B+ipIkkGSuIOkvHsiWMn0g5JN8AuAnVO65BFiVk+4FJJGQyTrJ8kj5qv2thKTJ+Vk0IOpPZFgjpY5k-VBlnfaRApgGNJyW5NUndB-JcknxLpOGjhTssveMyTJWVG6he8+AQ8FCF657dveeGakLlNTzTpl8veazoVNsn2xSpeecqZ9htCeY8hwmJqcSEP5UVZ+kUxQNFM+DOS00uTT7Kj1SkEA8p-xWjCPnSnTwTsmUo5oVQdCxUFMEoc6LcETozjlxwkICDuKWwgSexYEhsROOnRTjNxOE8KvhngmITz+64o8VCheCbSzxLOJ-ubkkA9tI0445xohLumwQHpq42Yc9NelYNw0X0raZsyV7jMAR+AVcF0DYaT8WQkM1UNDLYHaI1AQM0AJtMMCT9xmZgKQVIBvSg5J+64pae11WnWhUZ9006TjIVokpQccIdgSSnRmYjU8tgF6bBEjS9gAMyUxoL2HRmczSg-01mVg2wyp9IuHYHmRZIlbSs2BcMqGaFyEmgY4chWRqRDUjHGo52I04TBnTEB0I2EBofLNOmFzzVUxLweYajPmHbS9hJmAGSDEeLPF+ZEeQIX4IVpARhcuPNLgyjNkwTL6VsqkoegTTwycgoXSfp1N6ECh5ZVgRWTbm9nTgCSmswWN+hTG2YRc5uH6d8kjE5S8pv5UtJtKcBZZts2slOM5QNnZy60oIvPLYBTmp9w81OYXJ3lGwVyQonuO+BoBICMIwkAABnW72wEgwCEvPkK2FyZugL8OrM3PslFIm5dLRhJwx4DrVLw48luYoG1rzpu5BGY8cHXWkd074mwsoQpiuQViOBpGERvdjqxbz10O84QU2Nmn6sXMHIFeVCgGxNZU5GwSZMfNKGnzKApCUnGo17knyT078svG4x5KWBPgoCaQKHAzE9Jn8AE9UWmn-hLyv5TY7CZvNfm-yrkWlOmRCGdFcDjUCWYBSoFDi6jGJPFHBZIBAWhxWJVE4hlokVF8TipQIYhaQofmxy0Z8gDBIcikCzg3RJ082WYB0j0K8Ft6asv+KPACLqJwQAltdEagnToUIzNYpeEgTyAiKZEgUUBIczLZnA+0zsYdMgnV0K5ii3Ms-gulISQRkMzlBZPORAKSF-C96X2NIk3JdU7LWCc-i1EYyrU-8PhaAqhzZxpFfgOGvIFwUeKnRyI-VPAhMUXReJcrS+u4rAU7DZhhMxpCCCSZmgdMJ0z5BXP6pEJQJYSd6ZONnpcLPZYilhKBOw6xC+M7SasnmT4Ysz7Z1iuap9Ph65VUlp077oWQFFCKIQnyJVGlTwARIel3ZXaQdI0XncclcDRpTfQgWsQilGIELjAtiGVKAZN0nVG7JqW1VPpuqFVHql3poLrpKSlQLopaW-ZpUbQVheIjFD5BGleSlnHvW6W9Lxl1IaWQjNln7KmS+i1iNsvXmvM9lcrOafyBIBzKBZ-6SpJoBFSnSwZ3LCGTLLJHpp7lAcyFVWgkUozAVL0TGe3Upl4zDo9SkhnEolDaBXQOmTQIiormorhFQKlxbzixUJLcVw2YFfirSWfswAPSiJJTONT4rF+6C-9Eiq4G-LLeVStmfhBZW8zAg7Ml6AKvMBcqDY8y8DKFLdmlBwMwq8WcNF3pTDoV0M2YZtxEhXwH5xsx2cnLmGOzuFF-UygeDBol4x5ugG+U2Pvm9Yn5y2MVdbIJJFJs0tq+ZSbKZnEARVqirOkfEYhGrnKX8d1YEA9ks4Z5SeYgJUp9nR9-ZiMrgcHP1EBk9BigHyHfA+I+rp0fqnzMkwVkNSbctqn2fBg24ZES8tc8uSCrTkGS6pmchlFfEVLbY1VJeTVaXLjxitS0VcyPNXh1WKq5ZrrT4NYIdkJqnZjahZkNKV7pzYIFa3xmCuyxpphJtFUSbFPfI+Y2k9w03L2oMH9q65p05KSNM27V4XVZct1adIi4ishpsSuNT2usEpyJp7U9JXMJs5hJ2Mqoldf4JZCRV41BgwZnBPzKbJLoKxc-maC7WvrDBfgi9UVif7fqSA2YikiZBiFHqZpF41MiPXjqmd9ik4IqWslakobZay5R8EhpEA5DUN3ccMZKVloXlsN+IL4URqV7kKs+-NElhmVDQ4b4weGlqWvww1m1eW9G-EExqV4ELNSxG6cIJQkAMbrRFGyMVRtloJAogGUekD2ow3caGJvG2YdhuoCRBsxQmhMjBuam2jaNBsUjaa100UAfmxiwdSdjYFKaVNJG2gGptU1kbhZeVU9X4NYrCxFY+m70sQDU0L4HUaVDTe1JChRZfQhyBwS+usEiMzNY2TuQtHo3Kb8gHGkQOpuM2abIxIQcnlBEE37EYtBmjqV7CkH2TepBBcSYPgZRBaHNy5dLXcFK2kxgNQ0glJ5p3ZXtIt5m-jSlroBWbytHm+Et5q+y4g-NTg1kEVoTX1tBNUWrnjpAk0bRESOEy9dGmHVlqM5cpZtROt1Q-hx+fWgwR+XkCSbcaAG1UhVvlW8Uw55ACOSPkVXWIat6aDNeHKzVHbNmay0TMJmq1pAOtsYPzS4MC32b+tEFdbRlGG130HQbCQhGqNyFK8Gqboungz16gc8mFhIpoS0L-zjbHt54GSCOvymAsTE4MzLISkFxOYVSl4-zteKWA5VBBFWnCe6pkZM5F2Fkg0bMFdnSr3RnJHurBDXqMAmWZvNZTVpZBQ7GR5qLwb+v22Hb6MmyxGsHkqAudHtXWwhFug53EiByr2gYgoAA0iNJdMOn1OTlyT6glhDbGhmEgACcAwENBIBLhgJJtAmVeHrrDS1tJtCmKYJCAgqCL5y3kpyLsKUUHLkydgWGm3NEVmANdqgBQQoNZBoB-dgzJ3c8uGhe7BptitIBrot1yA3AU0oKAYAgq9FNa7EwNIGkj295o9EIBMmrqa0G6F2qqkBGAggT-UZUFoKTJVpmmgqb5YWMXZBxUCgJwEXwf6jLudLdq-BIjOvYXsb21j9WWIrbZEAPRmpFAmQM0Cl2vWXQikzwwUIsOWGQjUMg-W3AemN59At8fWZMn9EYDD74ue-fNGaFAZBhqyXulkD2l7RYjdVCa8QO30IRmBj95YDFWjP121tVATAs9VuA4nKLA00qAMQduDH5ZQx75S6I7vMBIh6Qd8ORAnJPDAHwDVED4gAfYnSp19m+-WNvuAi765oMi+-WbrASbtj9ApWXMQj-2kIcDPaW-eyxT2cTSgh+og72msGbAbZDAKg1u3Ylp7GpU6gyWOoZRo6RKz+hzeLJx16A8dgQlOelip0EAr2j+WzStsMEhhedl2+jBrMylfL9Wy5PIHQGARuB+9hCXxMtnH1hJJ90+rEXPrz4aGiEwjZfVszGbt1-KkhwQ6HOiCZqjd8h4NRbHt1LMSQhm8kWyBUYAzQMaM2CEoFTQqpwhcQ1vQmttwdcqAG0S6Homzh90idpO0Q4qXEOqrkxoBxgFAff6y48hGq4XKSpBGQHsjmRtgZAYNk5HtaxR2XIbMTnnxqs0mV3GhHkyNZSj1q0ytkCXV1H6ARSb3Nrhxx44icTeDYF0cxw9G9cQeFLLLkeyKlWj6R+gGdLuWJIEx5dKsCkcXiMLV4NR3uQ0cGyMLbKy2KYznk6Mo4fc-uQPPZnrzHHRjHAh7HpMmPSAQDHeWY0CEcEJxtwventQoLcyqBpVAAHSwDZGZ1gYpYnIhH53b52rHdFPql93AQEDSTB1gMFeMOb3jwWT427J+N-HjlAJ-AECdQwkpCAZqWojzWNS4nQAAAL0W6gAfjH3f49-sxOED4jPNUk+CenyQmQIQ+mE1pD1QjBeWKhtQxCHeNUmgxNJkfq+34GAJ-DscBwaQAcGhd+wCg7kHgHhOhG+T6J6k1ieFPpcxTwEZwBKalNb5mT5YIAA')">function add_rule_or_assertion(assertion) {
    return is_rule(assertion) 
        ? add_rule(assertion)
        : add_assertion(assertion);
}
function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    const old_assertions = THE_ASSERTIONS;
    THE_ASSERTIONS = pair(assertion, () => old_assertions);
    return "ok";
}
function add_rule(rule) {
    store_rule_in_index(rule);
    const old_rules = THE_RULES;
    THE_RULES = pair(rule, () => old_rules);
    return "ok";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p41' class='permalink'></a><p>  
      To actually store an assertion or a rule, we check to see if it can be
      indexed.  If so, we store it in the appropriate stream.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (store-assertion-in-index assertion)
  (if (indexable? assertion)
      (let ((key (index-key-of assertion)))
        (let ((current-assertion-stream
          (get-stream key 'assertion-stream)))
      (put key
           'assertion-stream
           (cons-stream assertion
                        current-assertion-stream))))))

(define (store-rule-in-index rule)
  (let ((pattern (conclusion rule)))
    (if (indexable? pattern)
        (let ((key (index-key-of pattern)))
          (let ((current-rule-stream
            (get-stream key 'rule-stream)))
        (put key
             'rule-stream
             (cons-stream rule
                          current-rule-stream)))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNBiQuFE3NFEEtAoLJcgUQh6GIOhKF4mJAvdVJ0gUFgyH0CappqWbwlAAAfPbFNFD5SGqMQNsULaZrmmIDqO1IWDkjghAuybpp2-bDpfZaMnGy73pu2I7u+sUPzVKVNoBp1zia8wRpcxsUOIV6ro+iJCgC-i3Uh7bKHCgbkyW+4xAkYQGFnMEPgUSgdj6Yn5ovBI3VFBCjEoanwgAMk53p+kGKmbuEoFKDp5gxHxrBYeSZbyAUZGceuhnFtFMXSfJ0EUYBiy6Fl4hCphy4WMMXxVvwRt8BkNJdc13Glaxlw5n0CMFZ26GCZYxLiAYc1qDEOg5dmtnTroMRuGIAAPQhAjcZw7aZtENfBH2-YDrTuBOs6w8j6PDFj-GpaJ5P-eum3FaLBb7aJ1XanVucXZp0Si9T-XJcNtym+uhhjdNv63tt8vGYEx2I2HutS9d-kDcG8wO9mhgkYYCOo+IGP6HHm7iMW0fbWd-7bcn92htSCplDYchKrXgW44ElXyBJmuKbZ6mLJLIQQJPs+L7oeFPvu4m1cfgLCyeZToOgYB-c+2Vv7hDulPQmECv5dxNo9MC7MN7LC3nzJ2Y9t6oI5pMN2BcEFQPnlRRe2cV650vmg+amCRgRkwjQg+rdp7S3JrLFgwhyDkOXqvOgT90GxGVqkauZNAFoIsmfVaXCeE52cC3AuUjOHcMXBQOWo1DACNoZXG42Ju4oIYBbK2ctuC4K0QfRRHCZGPWEL4LR5c6GDAYWPK+zCC6ikCl3ZgWhU72L-MI-+D8NZANEp4j4VBiDN0IW3cwnil5yOoRzBxlczGuIlu41Ibw2Kok6H4zG8cq53wAcEiRoksnUByY2eJlD5EwK+v6W+98xElOfmU+g2TnA-HCT466CiYkuHKZUhgy82Lci0HkoRlcKYMECDIAR3A8TRNYSodpFTOmNkpG0Asgcr7JIKdM2Z8zQCknzv0lZIg1n0B+J0UaOsaA5mRrs-xUzQQzMqEcnQbsWGE2OlsmayhHk0L2TfERRSglzhCeCYw7R-l6yWYTT2Xc-mOEBdTMIwK3SPyhcigF4J05oLCKc5Z0LtkAq8RE1OminmxAwSkrBjD8FEsJlUUgHxyU9J2QS7RBTHYC0JWcb5LFo4gW6ZE66VKuUYpcAyyg-K4EsVFJEzQuISWwoEei55BTRTpEyOq+FCrUhnzZaK3xfLuUgrSL9bBD4uVfIyQwdgHgvATMmVq0FTTa6U1KeCR1ygvB9OWb6rwDr8C2JdRXHl9KXFMPSWc0UGhCAgjGc4cNATRGeqOUnQgibqDJvoAG5l-TZE1MSYIiNQ8o02sZQKgu58xDFr4RKpJmqK30LHjKghsblmihAfoJe19mbuuKXOJeFligt0FUfBg1QKjhwdPoDiA62EZxDkMLBi66lE17Y7DdXafkfnDgwIkFsF1UAZuebojId1nr8gE3t3RwilHBOO0AzRuh7pYulLxgRZY4jZN0UkA9zwtSBOlP9mZfAnPyRazs-NH2gB1WwV91IP1TtIBkQFFKy6b0ro04dXqsOzQsuhjgBaWJvFPrwKh-CSOFhw5GtttpaMWLObRkNYbmMDwCYh61WQIzMcmCGUoWLOj2XIL4ER6G4UhmaGY-jGHO0CoalLFqchFAQBgPAJAqA0C9TxIfcwxAUIRPXmHOgOZzWDvVqNXJ9c-TTGExUhGpD1zyz3oraSzRtXWzs9JYTckJJIJ7i5gsRhkFm0MZbHWct17WDMxZzzRNiGoli35loa5wEmE-lA0zLRzP2aMoXGOKcS6+f9KUIz1zivF0DvXeLBWlKikGes1L5X0s-Ga1c3uqMG4zQS-6LzhqrHcOqXw1rBpSiIqljOYbwzIHqLIJouzaEdLTCUdY0Ndjlt5f6waQbSKYUovGwGdrjZVVHfO2Sk14rYv1cS6KINx2HOnYdVyZ1dWdsNdWETMJ3ixW1fcztNLlXGy-cI2CD7fWvuxH2wmpNOWysTcENmtgdiQcdHGVLBt1HbufZW9BaZRikaaLrdj5quOofQ7DC0UgplctWRsnZRy1JfCzXIOHDyXl0cRInbWlHdjkTcDrRq5Yr4WanQUGsh5DBpvIl-AqRacPcRR2oJL+5XtZcOCF6QMQ-LYj4UIu6YUb5Mn-XKDL-p+g5cMxiOeaOGQyrc8x0WmxAuHBxcMqtiOWgRCL3M3BegvjPercTEW1RusNFW-d-jkPoZhcx9jwaLHfWA81bBNbw8hQAmeKRqMGkbA5qe9KDnshbwfdgntwXqn33YM0QNyeBUJlghR7oBZaytkHIuALpQXwJBOfI8Tb4Qq+ulOKNeUTqimil6GHqwPQebpdH6DrYCAAfKdjHyM631azoQOVBmXAg4YJ1nW3Wtafa47hyT-BVBo+M+M4-PwRm5pM9tynikKt37cxcoZmzDsQ8B3NHdqGMZJ-hdN-ust7AXmQHctQA8hTvlqhoZhlpdqirKrPsRGLqkEqj3gdqSqgRMHPq6gJLXuSPXv8Jgewsan9qaraoQS6JXE7sjCylQeDnqpwFDn5GQXQeclSMwSKmgiFvFKAIZIwVbnBCwRyl6minFhwSGBQSXq5mIayvwdTIIfLn2ItHwV4qoUjH5PGMeERIZItIfigfoMHhXBIf9rKmwbIbGKQaPmcoTpbA4EXFKNFivEuoJBoPoAwKvqJJCC4dVrUHCNwO4XvpOuYIYNyIwPgPwJlqfJAqiEtgAQzBQaYXZjbrEMBgSoyCgeylYckX3IrHoUQVZtgSqjivgdXkUKUIhuYWsNmjNPzNEYYnEcluTloddpytIR7onrEFEUIK0e-FlokeTuYROIiqYcKvkZSnqopvoQRA3isAEu0WvIjm1o-KsYwPombLFtUchohpwQ4csofo9pDvlkBsVKAK7oyEGuxltikX5OeHuCBtSC0bEcMQkV-Joq7pnjwQIIEbnH7LUK8U4aDK4YMC8X8cYaAa7lnD7mTCnvIGnjOA2DPuMX0dMICb7OqDPsIZiX0ZTogQfhlmDpIbllDhfgUoigoaFuYaIXEhQmNq-vlnamcofrPP-kUURufsROeEjIyKIZyYIWTmsSkfVn5EXEFgYrnsKTsafrbJRK5hKdBm6LoccYTIflsRSRccRFKfKYIfoFsdKbsctiGKIcaQvKNjjiyRZgnjELIRFHgCpq1Oph1Fpt1LppYPvlXFJvoOHJ4Q9k9P0PwgGfiW1hzkLOyFJuGXtjTnTuHBZI9GbCGS0JHCYFoMIAECYMQLAbUI0LzmclNpbuHgtqytwHCbyaqQnHOOCJDOblLHiuMaWZIIthWZtiqfKlOvWb7rLoGUOuCuni-Gbr2f0mRm5Fji2ZHjIJ4Qcu8jIAsvqhOS7ptlbrOa8ocgucckueYMnv7sib4jOVSQJHOXMluZ8sSV4XcLSV-uXuubWTeXiucneUygam8vHIaUjP2YEs0nOEjMRvbIIeObEoBQvGXiXF+ceW6GYl+WyScY4F8LnCHH7jmKnr4pSfRgJBGI6REV3uISBHINbBhdWbzCMDhQXP8ohV7CwALmolwLyRjFnpXKzIRSYp9vjOeCLF7OUShWhddIyIcT6VNnRWFj3HicTp4azPKeJZPjuV3nRSabqFbnRc8IxaUQ7FgqxdRDWmclpYIZolpapTSkxQUhGIZZed7k0bxQeSXNJUqXiSwOsNxbqSRRwCHCLKJSguilGW5WIB5WuEsKGKUKzMJdbHZbmJ0GEBWU5ShdUc0L5R5dJeEAADzAgzR+WqD6ABX7G6TxnN7ggAAqckXhdAvgggOuvAlK1IWIOa+ZokoAAA1LGatiumIEKHYklY1aJBZF1RiYUK1e1VlZFYJhOMZLTvlUVfgI1MQPZOVWIJVeKtVSjtQHVeCL1YngNTIB1eFrqOEE1U+WtU1X1f0ZQMHG1VtUNbtXBYTPlIQIpYafKegeSBReZuTHJNiMRSsAXAMfwuFdldwSZRajxklcdRVq9eiNiMdYUJRfgEhfWkiYHiXG-iHs0PKSpECLyjtYFbHrMFgtlVDchj9bxp5WbFFfeFkNlX8fGHIcbn1ujeyHTDxQjWnpkQ0E3tOI9aJNZI9OUAhrrMPkeIsYYX2OeFpYyFoVpX2ggUYZXETXpdJcpbrL0ZiXpcTorXLM+PRPYYDW6H1m9UQFLRZpefqTtQ9TtUqU9UiOyeDe9YbazY1GckTX9cNQDepUTMDVjTlbEGDTmPrZDbHjDXDdZYjYHMjdBKjTtfTZjWJV7SUP2CBI7AFUqbHTDm8S9JhJ7daLaJTSUXhM1YKLTeZvTVxYvJNDgczanPbdDeNRzebVzXQDzSIHzXLP3pyQLfRAYa7bblcWLUCBLSJbYaGItHLQpQrYZfaTpKrZPurY6Lnf5NTTrQfjbQbThcpv0qpm1Bpp1Npj1BgD6eLqrlLhrpbnLlKoUh6o-ILqJCrmrnmcBS4DfUfdOpNBwKnDlqfS2tBZWlkNbhLOeI-erhbqwqCRrM6FinME+bEHMBOMrUUFihyJAzEByDA-aVighIg5OHBCg2A4nBTBgxTNg2tonNqr9E+SQ5kP6LA4UFisFImuJk+bQ2fGVQaFQ7EFiuzYg+zX2KwzEFijcCLN7CwIYHivw6oIIy1CsDw8CInA1Rg7EP6dwL4OEACGvhzk1cw1I1iu5HIzEAo6AEo34Rzl5Bo6g4nCEdMHowYyo6ABzpCPozEJo4nMADowYImfo8o6o6AGACYzg7WQAKQuOWMeM2OgB+P2OgCOO1lCxyNBOGP01KOmO1kACEwkMTbjVjnjKTQICTvjYI4IyVgT6TwTHOqVMQOTRDtZyVAIOjsT1jJTQI7jiTeTK+hTijxToAa+ZTkTzT1T3ARQtTnjK+DT5TDQWKSTLjIThQ1jMQSTsQAZzoTo-9EuT9WO0lgIIYi+cw3AADeZQDyY-KSzh9gDWO+ALAAAVhmSBhs94ciH4Wg8s+rk+WYhnhPYUDs9Lipk6EVO8CVA87s6-LNCA3OFirBk+bBlIwSbw4nJAHQGqBUkPn0zC3Cz3hC5C3w1QGI7AJAIg6IwwFi6iwSeiwIwAKIYO4vEsEuYlYoABy5A1LLjtL1LKd6EizVx7zXsALIqWN6zKwi+wo1jjsM52zfz0unLBzbLIrHLxUb8+lPL0wfLfhzzm4PAkrR+0rgLXzfOg+wyqrmurec1FMnhSu06jA4opAqOZ0DAZz5AeYURp0mgZh6E7Lz9iaVh790e4xdahrRwRQGpRs-Ed1FdJcnhllvuQbgc5hCaTRC6urRa4VBNKrRz-z6rXLMdrzDQUbIgMbSbHzRapzFzpgeJCbzrnL+llLhQJdTN+5Idc0EsHAAgJdYgXwjlVS1baeuRAbwdKJXzzp69rp7UmmXUOmmAPpZeFApgDAMKHwVUNwpAzqIC1AT4UFbCK0a004MF58i7fwBCQmpFTi7aY8C7T4co+1DAh11Ip1Z0g1G7oC27I10wsm39Q1t72Er5bkE0NwSK4emZQcZ0Iui9ggygyglVGQJmRgQuQHwTLUTVS+QH9N4Ia1T6a1zQB1XV5AkH6bfYCH+KZ1e+BcDgqixgv7Ic2uuupHoMhHdG-4JFrVXV4IEIXVH73Cxg37Uoi+pOBH58xgpHBB+11g4Ib75gnHrKXso0CgS+Ou35PGda0OT6iG2kD7RMj8MnoA3M0kJulquqEYMnm6ZiOnoAWTok46snBgjsKnUZz6CnSOY76HIEU7sUs7zqMnikzQGncOz+KWKnanE43mMWyeTJOOOn1RT6DHTVwnxgTAZA4nZnOuJOknJ7+dKwa157BpRi7hLeyYop-C+nR1E4yXXV4XonUXa6jGWQwuEnYgBCe1nu8IVnKwzQhXeUoIT5W+ZQdAlHkXpAPE0O+2rMznJ2jX4I6D3Aj8MXlXWdZX8X3AhXnXPEMmRMrVFXJn4IAA5Oe8vvtWt-N5tXYjJ4JyqO11x17DCqQHYidwY5hVZjxnLKtOtI7Od+W9uCJiIAdcEAdXZGnI3G4GmAdbRvCPezJI1-dwWKd3FuTfoA99N4dyJ7Nz1215RyV4MJD+D8jzNw95eda7a8oPayBAvFHB4JQn2pHN+e53mvwv2ruyJstWT0+f57wjjv2ph4UIvpj+sNj9QJoCKfjwCm4Dx0T4QDu-V+7URcT5T4nOOunKbWlyLwL3D0vJeed0gmzoetz4T-2gPBQaTzlv2pkaLXG5HUCCGKl1FtbHTwkuT8T1Tf8SqwT992TMLoyIvor8bMrzq7b3ieVzryUZofrz3PB+g7u6zDuvIDz8YPb7F2D2Yqr3b97BHwD0pKswb6pHg4HyH5QjXMLvN4n37xZ6z3axz7j1RHV3HSxb7ygkz7ECzza2zzj1z2n7z3NVPpb3D6X6wopcK+7xnxH5wZ3RQelzr4QYtFihLyzsFtLzFl76QZ3cROWrrZHEcRFN3r3sjOr5d2wqzBTydo7Jv4p+zfz23ozp3mmfT25D3iQPfc+TdqvyRSzEuDvzJNhaL0L3v6OvXR3sztae+-QOXsI9dSxOaGmCqiUB8ADqL2AMAqCDBr+AHM-iv2J7wcABdUfboIGED29vumkKqK7n56eFHY4FQFlgL-5uREULAGdGdGfZbsOASpDcMu0wbTgj2EECKq5jkrXESByFOgY8GIEXIQ42ArBBwLYhcCkBvAy1rnkEFcDqBEYEQZVwEEsD601QGXCJTYH0VDK1AqsJ4AUHcBzKOlE4uHARJkDRwDAgsOoJUrUCQqtwaitIN0H0CvyhgpWpeXUjMBZoi7cZK-y0pQ9G6ZMEBAwHUAiAOApABmAXFyCEA0ccAmfrEAoK9oB+IQhoOeAkG3FpBJrOQTL2sEa056AHd8BUHBiDAJBzLGIIGAbqxFfcHgrwcIB8H79WoStY6s0ACF2IJBhpLIVbzzpC0jc7YObHBHwFd158D9JcFUMR74DuA3Qx-rL3qGMRp+MtApPLxDAMQGIi0bof2kvInR+gCgb2I0V9wVAmGXYNkKsPEw1xDAgGNfu7StSGBFku7TYb4G2HEgng83IPlgkOGPddGUHU6gsKWEkAVhBELYfzAeGywyINwivpCyKAnCzhLGbtLNDIDPRpc-w-mBsNeGnCyYOwqTgcKOEnZwRXcc4S3yXC8pFkPwgwME2qCjRQRXscEUaShFnCngmI-0E8D8LzDPhmERZG4kdofDFhMgM+OzBuZa5qQnhRkVQB9zfoFhQcR4Xy1ZETAkBHIygFyMpHicxRcI3VBKN3Z1EheOIkEf0DBFEjBghkXlPSPLbkjrGwo0UfSN5FUjo0P6brgQMMzaCrKQoNVu8FBAQVN2egrhA3CUF8kriMQoEDUNkGS01BZQ5ITfw7BgwvQ+gLIe-jTI6CPRdopIXyBc6TgRR0BBgPwy4g1DhB0gsHqGM9HaVF+ZyDiLchjFUAuIHEbgMmIdEkVe6qkGQHWFqBrVd24IEsXsDLHzctkuSXMaxDPSJcchKY4yopx7TnxT0N0XdqGzJjmjKQVowOA2PzEqV5ut-VoYulU48xxx04O0SZwzHRjYxmVCMIulJErAIwc4tcdMAXFJAsxnETKtekAIJt0IjsTcceOgiGU4elY0scIAE5+s3IcNetjlDFH+lJKS4NxpqLXyIZjRAyPoH6m9iMAEBnnNAaiG4CK8GxivAsYaB+ZeF9xbyfPGVB3GMAlxEPEHsrioBC4QJzgbgOeOgiQSVKt6HRNmLEaV4MoxYm8cX29oIZfo23M6E+O2K6ilx8Eh3D+LKARcZ0EcLsd+UW6HjmE9bUAAVQAASxLBgAAEFwA4AYlgACUCqkAAAPLUtkAQIQSrhWmpwSgJ5OJCWGM8JUYvYHE8OF2NuQmcv0+kjPlhKNCGToCcPL9J0EbAaSjQSAmyZkG9jmT3g5IvYUJJEniTJJMk+SYpMckDhTJqAjSEkUslJBPCX6F8fpKPRZgT0SEsHknFcnuQxRhZZZGqGCmACLJWklMZ4TFEy4mRi+YPHaMqqr4MSagEwMGkGL2T+ExU8yJGNuTaSfhMgSQGoBckhTNJnI6AtpK+T8S2MuQBwKNEZAAAGE4KpJqD2QZkGGJ4fDlijUBBgSsKaf1OBGkBGQfU-IYNKap4hCJBSNaQNLIBIDEU400hC+2Rgei2MWvWab6GMFLhLO2zJcOdOp4kI5pE3CwdhFYmBB3Cx08gSvBNbZAFMlxGCQ9JzRk9p0poBDDNUmkcBppHnKqHNJSjPUzkDwr2GJjYDOooBfEN1MdKwHNiaiV5L2EdIUGlCgZM02Gb6EMi9c7+T-IKjQKdiBBkZnQZ1Nv0t5bjoyxAemajOJo699ixkeftrTdpIyGAKM51MxkvIVBnhoQQxBb0ICUQTp2kgeN3jpmCyGZfae2mEM7GOh2hr4OsRTRtH0CNZkQg0ItFOoFgUh+uEYehGiGxDOBMgxgJLUUEETxiASWDP6OyG4ySxhEY8eGEVlCz-RcQ4QZrQNDnB-wXBA2akNSAb9wg4xUoALJ9nb85QB0VmezOdTYV4+fYZoO7OMBz1JhJFGOcrNmH3iTRCJadJbCmgxw-gr0+imuDlmOiYJzo5gdbPiHujdZFAnKX5FfAxDDO4LbgotAcDtU9xcYv2VRF9nWyweuE2IFXNbnNUuCas2gZ0F-B9E8AkIJeSGGiHSCrZfAm2QkJiwTyNByxSuB3JEiwZDIuQvuShLUFjz4xQ8rIZBH-BQRDK5MoMdGw9E7yHZCxQ3K+DFlNFUga8CeR6MvGRAvGYAJeZCBDCLRrx1Y28T30aEGzjCporNs-M6DaSF+PpXuVtX7mZVCAC4O8FBLdpFigQ4CjgLeIrFVjCFlE6nNrIXRYKTOWlMcakF7SYLI5J2XscXOGSw1c45czBds2wWji5RdCzsYQEAw9i4FfYkuWwuoAcK7wnCnKTEEXnLzeFLQ+CIsinFExWYAikzqgtxAoSVxGIhNiuNJAszYgGi9BT0IYUGLtwO6fRWPK+oqUrxJCsscbX5zexIZyMWjGBLQlzYoxSQNxWQFxA4Lu6ME0+CGWcWrSZousL6Q6FSDVA-pzYJ4lcSMWkTGQnuIxShPAmdSvFuEijOuBtLPRGAzGMxYUHwk2CSK8SleA7ng52KiFJ2WUbv0-yTs0J0S6iquUCWDE8l4xR8ZIGfG6iSlCEviZIAEnCSGAUkyyAABliWSk6iZkFGkFxmpcE2jJomyl+KOhbEvSQejCl0BjJgUg9DXDmVrLrJA4Wyc4s0RMCnJoODDEcuoGeTBlIysZQFJAhBTDluy6gXlMzYqjtwkU3UdFOPRzJ4p+S2IOCFozJT6R8IH4e8sNEQgR+-yjDICsNH-cHF2rHZQsqMF7C8pwowqduFox+EMSxrbhLRgaV3TPF+rcesHhmWtSEVaSwlTYrmGq5XWdSnxahJ8UeKGpKY7kbLFyn0j8pVANFdMF7pr5DIzy5YWTAJHjF0pbUzKW5NSUErGp4xT8QPlRwPKJVTKy8RPXlrqiLKtS87vStO5hiWVPEAGVSFaC3NQMkgJ2Mv01UJNRIjBWlad3bpLK0hn4KUAavdyBjc4L9Y7vUvO7arpRwBUAI6v4S4DrCyPFVYaNYngDnFhiUgKKvQFrxqp35XFTGpxmlBQ1ca1yXD1DXVSl8KapAWmtckZr2p9ABmB8GCBgDXJ8Q-SbmrFV-EoobADKVGveCMhLl3k6SbJIUngA-IDaiSU2r8njK+urk7gDKrNg1qki0JSuOCAxB3iuyM8FAc4oaUFrgBgQMNbILLUizyQVasmHMvrUDKhloy1teSEuVbqxljIVmK4qxF+EB1hy4dQUlHX+pbBWBMuriDeBnNLc0+SUVkGfVCj8KFox9SiH57-s3aTM3fEwOmIPrDYTfADWILHhvrNBPyW9cqnAQpAv1yYH9S+qQ3vrlCcGwwAhrBDPrqB-6vDqxhXjvx4NIGpDeBttCQaJ1LgGoGIAiRkwNV2GvYbhtYkPr8AUS4DSiDxJBqFh35HimxsQ28bZU1C0evSPm7MaolQG+gJhuSJ0BJNtw6GuqvqVaF+NYBGTZBEhacbWVXyUqBCCEC3iLIlq87k+VE3rKplZyYKGcxY01SiN7Gz1eqOoGKo716GzDSmjM0gaTO1SwrPKPNaKj8Ryox1hOH00KaP1Lm79cFsLZg91NPEVTf02CZmaLNeeQjRhuI2haBNUW1bBFoPhabR1pAA6gFp8UMN4NFmzVmcio0mZ48zKiUU8vZWorvCxKuiqVNwgNByGr6+TXSpK2ZkrVu3CPr8qAh0SOlDEsFZeNsANbcZ7S4Af1p5H3zb5BxX6KlsTBCbg1+MTLR9xy0tbrVoRYgNRq0BFatBJgfgLAIF7UDRCr-Rts2x+Dhta2BclwHn3Z6c9ZSsXGzcGqLDD0qtBUmraGB5WKQI4u28ZHYLfiODkYBNMbmTRcEE0sq6gjxseL345gcJvwv5e3iZydCBAICfvIdSwC3zht4Ia7bXyRj-dgu1IXrWNp1Uz04qEytgJh3S2Lb+AEILHQXyAp6bVtCLUADTtu1UQvm54G4IekYbiZGQAAThOBEJ2ITDInb+piAC6QoQuvKU5g5oNx1l3BPvgcLmj21p5xuFwFGSGlV1YgXOuxCtxW4WQ0A+um1W-KWKhgtdPQj4AHJWBa6dV06UaHqMWGMIweLgLyIsizl8yYgVuyXbbrxIc70NdDJRsbTYBiYJMTAP0jiSLUPauN1AiLZTryaiZxMV+PWPTvzARIOtLXQPfHpD0bgTNyyaPqkA1XVBSoq4MgI9Fzgos9VAgVoIyGd6s5mAKvevvMqO5vh2u-AOjkcFhXkhXwDyUgCXvhYGdVIucNylpHtqm7wQnkLyLnp9VoT3QzegQJzm0YIgcZputHu6uODDDoFDEV8NVKYAgC1o3sFAQ6vULTAk1U04IJGs85Tqt9mA1oBbtCHG4u9PenvH3vwUD7ekGu93YLvEwQgx9nkJkGKuQEQC59Y+3yGvsNwRBJh5s6YCPu-0-7zuF4BCS1GgOeRDdmuj-Sql1F8r2VXK7cB9tjzL66V5437Q4JMytAwxfa6HY1GCYWZZN6+FPRqpIP46Q49Eond+PmIj40xaUj9UIEMD2R1oBe-gOeiuKV6gQ1e13rntPQicm9pUVve3ugm8E6KrxXLadwh7pwCdnSsFSwe2lA0rUWlbGjJHBB2RYJagM6I2OYBSR-wDXaHhF3z0-M-txB0xJpXkNg8wdFBvwlQbmFzri1eaxgIutWXxqMCxuUUPpPnQxr7aF6PwIyE+WxS5kMaueueGA605O4W+sUXK1WygqeR3QCyNVOhULDkDMQLTRka+5eHsjssJsn2B7VeG+1wTeIx9JAhJH1RfxEOfYQo0Xsi1C67w6ss4w1yqQSExkJkqowppl1BdZoUEY4XkrD9UQq4peiBCRHcQcUsY7EauLVHO4bGZIwCChppHf0BRyFRwGKMKBcjPAKnVsYBUpSmeR6jDJUb8JLG54Kx+o1AtANNGcAuejrfoBW5AT9AsOgADpYA41Aq7fTLmCDidEMijNpnKGgi67RI9+2GnChOBPGNVrxkCe8d+FfGfj4sv4zIABOnpWhvAVcGDx6CsxsToAAAF7KtQAXxooC8rRMYnyDPQYk6CZ0jgnwQkJ4wIVCgiSxOD7wHg9OFeO-HgB-xrrpYxG6JxyAB1FgAdWUAHVbxkwFbk6DwCwn6l3J1E7yfRP8n0mgp2ssKaTJimJT-3Bk75CAA')">function store_assertion_in_index(assertion) {
    if (is_indexable(assertion)) {
        const key = index_key_of(assertion);
        const current_assertion_stream =
                    get_stream(key, "assertion-stream");
        put(key, "assertion-stream",
            pair(assertion, () => current_assertion_stream));
    } else {
    }
}
function store_rule_in_index(rule) {
    const pattern = conclusion(rule);
    if (is_indexable(pattern)) {
        const key = index_key_of(pattern);
        const current_rule_stream =
                    get_stream(key, "rule-stream");
        put(key, "rule-stream",
            pair(rule, () => current_rule_stream));
    } else {
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p42' class='permalink'></a><p>
      The following
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      define how the data-base index is used.  A pattern (an assertion or a rule
      conclusion) will be stored in the table if it starts with a variable or a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (indexable? pat)
  (or (constant-symbol? (car pat))
      (var? (car pat))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+zjwKgaok5k5XKPV4vTqsgA-NjuBgEhDD4MwbBQHAiDIOgfA8P7C3yPMNEbRuej2sQsyS8jUiTIojWPwYGxpJvuk5BfxmHfRYfY-5BAAFzAilKSdURQIGBAAUHagBpCCaHQg2aiYChQYTFBKWBfZn6v0QeYaBe55AHhgieH++hSFmAAbfXqFEaHwKfqAXQJDhrkMTK6Us1paH0NAIwu+kgRyph-sQuh3DgTvW-mw3+w0RG9TkY2PYQFOHSJ-DwmQxIVIiQKhpcBSi9SGk+EhVQHkQQwSMooEytCnhCOGmkKxaciEcJfloxoOiqbG2MT+ZRMxfHw3uMzY2St2buM0UInRydQ6CJMUwmYcS0xSJicCNKUUXYFgUV40ogSQaLgiRIhRaSZGF2LqXSis4EkBNAPXaQPkkmEA2khYeEkomeMcc40oO1bKgOnKoQe7Txj2NyVIvJaRoGKGYBCSRwEACqxADTEGoAAdzsEKPQSgHSgAALR7I4aAjKO8dINJ8sIF4g8zYZkoPgUAqgQjOkoCweqf1JAWOEP2Zimd6mVINs815v1zHVVUJc+pjAoiy3MIMDh0gLriHuY8qQZJWgfNBV85eZhzrkE2HQK2uLURHIWK0tubivndJ6VSwIjoFDEHpJw8EtAYpOOpT+NpBkOTGTBSQfQlK2UCohVC-lgrqVtMZcwGsdxMXcjSDJEIEUBmqBdASyZjQAGKvHJIR8dK7gqukIonp0DWjtE6C0AYMK4UIozOYGZ1AITgpZEslZ6zW7231poeQ+zDnnK0jC3iOk+kSgGSZScdApE-MrhZIZkLQCogAHzEvvgoGN4YPGvwjJoW219dRJO1bQOqU01G1AjTa+VUhwiEHeE045KbVEgksGtB+4z039icYElpdaC3dQ+vm+gYSclNiKGUmRzTm30p7b1L6igfqUD+p01+24dJ5uCSbcNrafl3IeSETKmh9aGyJjbb5NqFzUhNR0BI5qNiwvkPCr1W7kW6KdlkmKvssWlBkmOlNQtn1s1TL7J4miLWWtvda0hOKCDgmfY8bBXqiWsq-UsH9itnavoloBzxwG0gPoVW2WDYKoMoecrB49rKZLIcijBgZWGgg3rvZGj9l4V1hJCay1sv6xamyPRhxdpDhiBGGFVe2QbJAkGrF0VQsCbkelYtGyQcbE0sgAFRib4ZepTwZQBSfzvbOg61iBiirVBShb5qn0DnDanDUhV19nfdi2gYQBR0zjUzI28Nil6DGUOrwNHT0eykLu-dNnfZsYYVpr2oXQDQPrroZE+nDOKxYaMgjwsiN-tdqbfsIrRVmD03kBLxmqGoXM5FqleNPg2YVh5rjb6eICatV6k9vyKFFbM-4kxAEktoVwQ2WzrLoEVGkDRwTOb+R5pSfMzRPyINpxc3E1O1BvJ9hoxBoO614UubywZ6gRmuvmbTrK8wEHVP+kvQwIlImTvJgk2tlQ0LfmIdUGnCMdKGUvyZVKyxwc7vZZy390AV2LRdHXaV-7jRNE6ZvqIzJ6XB3qNLTJ6k5XCnbHw5Fx7+UxJGIca2yHubRHiIEaUjdNqIMDJc49wnisBkjJqS2oDGxqyYNFEqqnzPi3NheAMqRNGZLUYDYzPNe3Ukk8Z2p9n+G9vs6IaQx7UuaeGI6TjzRv2zAM8OHgfeTBWDsFPlwC+aAwajZ1pWpYDpl7loW9kXI+RzegHbaAXZ6IiWm-t846ZjBZmqAdLHLIOQ8gcKdJQhQLQXiWHhnOrokDTmM2RxYzltjhYvGe6LvzExkoTQ8GipCwZSsJ6sHY5Pi3BQ87lgHFFWf6XooFmCi378-xr3wA+Sv9Ic8twIG3fP3L8B19Yo9UGTfQCHX7rqNp5Le-bWBk9QfL0R-8nFe9yVMUe8-Jkv3-ag+IZLtj2YlHth8M6qKKvh6GfNU0RpotWgur2+4aKUqgZE--MN-kslbnwEz+LETvLPDNPD-Wgf8fhPD3PhA-njmNmQEHGaNEHRIvsyqmFNmWpeL2OrnPBRofByIvJ4oAdSB2CgcuhAdQBdKnBcoZPIKWusGnqAKCOCGCqQaXsMBBu8BOHrAbBKnAXoC5oNgMHPHHqQVZBhOuiGo-nYNQRCD1tkIIeONmjpOgSSOziZLIfIL8BQb8h2Ioe3oobBgoaQcoVzJQb2OodvvbLSrFjAbMB9q+tZPClzj9qAM4CaBOFgYgX3roFEO8PwQ2GbM7rpK4e4XfKTA7qIaoLwRgeIdYaAP4XynYQ4WYWqlAj4dEO4WEWbAADwJFuFvCqCRFsaMKe72qqAsgAAqWQpixAgoQqTgKsAo6CDcUewEoAAA1G7n9qGJEFEHcunFYWbE0ZpiyI0c0Tlq0dEB0VkXdm2lSh7l7kUSUfgPIGshUezNUZUpQHUX0U0aDoEEMe0fgJ0QIYYD0ayP0RseYFsSMZEWAe5FkGghgmEfhmEQjoEPgbMDIFkJZAgaQjpFth4RITYfCnZkEJboNt8X8ccYwi-C8dQJZMcTSgQVAUPGwZ9hDscdAmEXGhiB2MkXEdSgAh2Nkf9iifpjnMCaTC8L2Ocb5v6o0A+pwmiS7liIFqwbAVKv8TSnkWIVYayEspkK0FphyH6qUHRmBj0hBooS5mgXwQzj0jJF8ZockbQRyHytCY8aQVofKSSHVgKdeojkCJwhCW8ZhgLvbEzrcUqvcRESoA8eYE8XqZga-AxmYJ8YSckb8dJlKfXkCZiaVmCc8SglCX9nDJAW0WYRYfAZ4lid4gKFYbSWxNnJ6aKgAhdIrLibYXfOGdogKISVxF0VEWSWMYdmkLCqQtSS-NGUwbrHuoyeYUvkfk1mkHauyRhJycQNyfSrySSN6vUmpllPmbRg1vaUECKaQWKYRh8hKQaW6axDKSqXKeoaroKpoSGmqUoT2QJlqZQbqb6baSFJrtVAfEfLrpwOfLwBgMbtmICm8iCjXl8u7BHIlC-oyI6uecCl-vbE+ZHpIC8iXNkm1teePDgZPERJituBBm+e8lrhdslIggBCyEqJpuYEqFSoqb0hnl2HBWYF2IhartBaIWhVQWCIwJhVBRnvmLhfmIRchT6J7JUJplRdIMNEhS4hnnVHQCXEoIKJpsxaxeUT+AxUENBfWWhfWT0rxYENBfqO8GIs4HQMGOJW8JJQwI0CJeYNBQ0bheYN7i8IKIYAmo7v0dxUpWYNBXsmpWYBpaAFpQprpYcvpVhRnhpi8GkGZRZTpbskpuZWYAZYAj6MACZQ8j7uZdpYmrsmADZURT6AAKS+VOWBW6XhXuWgCeXQXO5qXRWWVO4YhaW2U+gACE6IKV-lzlQVoAuVRKmVYVdwLIKRUVBVMVuyaRZgZVFFFVKRqIJlqVLloALVDViVGe8a1VmltVoAia3VWVFV8arVDlgQ7VRV41I15VBR2VvlulgQOlZg2V5g5uiC3IIFEQQK75bSyRcapC0aSoLwoFl58YssO1LyF51e8YYozgAAVsHudsdUXDynYDpdhbtReZpgFDKnOYEOdXdQSLLFgNdXte8jinkKbC5gBNBeemappojZep5WDqJRnpAMQBenIOxQ5VjTjfrGjejYZRnrJZILAJAGheTZTcTSTWJbBHJQAKK4Xk1M103o3QUABySgXNvlPNXNaZYO21DmuKwN0NtYh1qIb1lk9yOlahUR4totMNV1otVBP1wKfa6UtYIaR1jQ0actia-1WW6tN1mtEtmW3BZy-yDaZt+1GKJAVykK+YwhfyJcBskQom9KigjSQZj1Sg8wemEQe6qgeeGt75n5OQgYP5vKgNpQg8LtfQQQhpC0iZ6CwZ1Z1ortJhVeCJLKbKMW9KqgwNB1XRLwSpptkNnwFt8hHNgQhd3QJdbc1AT1L15dYOStT4MNWhdd5gZZDJGd7BBg24OQuKZZUQQc9hMwediQm2WwGCM9Wd3BO5Ase5OuJ8h53AmAp5l+egygFAkgsMYQVE+ojAocoElA4EOQrtnsLgbgAUF9V9y5WJOJAF3sREj9EEz9-RLIkgaxTmYYIxD9R4l9X9A4pC0CwDYEYD7e1Q+oBMnKIeNobRrpvySgpApATgVsG09wVyGDMVDATRQyGD0ZLIfRACZDUWwEhxTR6DpAvdP4ZDtMYY0hjMJABkF0yDdoQq66wy7DR4F0vwAAkNqZsuEG0T-QUf0XAyJBdIgxJtGnw8QBw2QTw98j0foCyHPmIPw8LJ8FMCwKmjfZbNbIPC-cBINiyBAw7MlGY6AHCEIo+kCb2GY8UD4DGSuERK48VRiCyNvOYwROxHY94X41Y84gAjqvvYrEfQSJIKfaHGY04tAo+g0o3G1nYw41SkSNKOKljh0q40LRQ1I00bo0QQY4E9nNckY+owMcNH0f-bcbZIQrk+pPk5CjU2xvU-0aU-o4oIYwFFUwU-sZ05o0kwDsowI0sCyCRU7Wmj018H0+MaUDokEYk+quMyowUThS8ABB2GY6SfhK4y8PMwY1iT4uI9EEY6QhQwAOT-2Dw-13PWOnE7FGPaN2DzOwyMA+RfMWXOEWyShezBGZSuAQgdi-MMM9LQV5AtC9H2q9GrJBjFimiKBIvv5WycjgPrM9MVPdAQsHNET4sbOTMLOMAsBnPEt6O4uqBEu9hEufOLDfMXF2D+2B2kDB3U5arOjBziTryaDGNiLLFNyzhLzXNeUVWpPCuaQvAtP9T5BLxx1BDRqssmjsuUB7qwYNo8umizOhpOhYvLMwIYGivrPQXbwhhWH4J2TShLwUuThGELS-N1jbIOhavwymh8vLxWaCsNxSuevvoiltyonwaNCNMEIYGysdzyv6srm72ObcvusXT0jXIubRpOtbLnCusJviS6v+sUnkZBtRkhM4VitBEdjZsovJuQokkeNEkVtJtiLVsGtTId4Czs6kMkWlvMCJvXDXLWOl0YSkMqtB3qucvn5hP5J4U0EDsNiKuBDKsB2qscuav1u5u2sUtBEzvZBnXdviS9tNvDZ9neuEK2sMZr4Z7muRl4JNPGsxuHugaNYQKfpOjDYp26gepLBLzYFP5BEmuTu4H6vWP1l8tNkuobKB6tP8gfsvkLR-5cZfv-M-v4WetivIGAcRnAeTigerLgeK5vRX4qwx5GkouMCxPkDUCpzGgtBtDdAIeiOvCCieqeukN+iotaNl4DzUdiIkexNuJ0eUEdhwd6v8vblgCQlfxkdP1nVVr1KtlXDkC7za5sCkBvBFxTCgBgwPIXQLRgyG6G50Jzx+jByqBGgl6bAaCMAtCoM4TxQmNqDh72pWeFPjNtAXpdBjOEyNSmcOTsQdgOeWekxLPhO1v+dOdsbRamjGfeevD4SheBcOu6jI7nBf2qDLyrbfYzDJc5Bw12VZfyAaY9mBpXHoImfyAGw8AvCmeSAvT9kQb4rOB5cuZGekClflcEtqC3aZdP0anYZIohAo0Sb1d5ekYTlnre1udXqNCCmPvClq2hdNeRctdVf8Dtf3CEANfdextyr14DfdChdC3YvjdmrIkxdET7cUlmD8aUlWkFz9qketeSAVegDLe-GLD-F1freNdErNcPdPe9idfYgwMXeIrbrNBHeXprcbcwP9mbFWDYhEQA95dzs-hBEARVdPdBEvfmnn5ZYV2BD-cZeA-X09e9kPsw9HZzeUKOcLd0BRdlfVerdDebfA-pB9dg+udmrKpU+WcjdBBCOhtw9cSfdSdYD88d3IeY-08rfY9vfI+CpC9Q-E-chi+Xd9m1k-iJnw-2fc+h4y9KEs-XcFlrk3f2ycWwQqfBH-HmQdvFeaATtUrIK2+RbQJsAhORAXSkf2-YniB3cKeCqTH5EsDYeuqgDifFYdl5f8mXf0dm-kAqfAVq1h9mZE9wamL4x5epcDAQbycuZJ+ScpfTO29aQgUydEp59UQZ8sju9sfcg8G77OCRB1SXOf05CvdKHfsiHIct+qMP7vN2GN9Bnd9PYD-RCu0dgN8Tqj998T9N9DxKoz9tGu29gL9T8ce6gr9Dye2KGjHQOt9MAKkd+dm08tfd8ys6F9853dCn969n8H+Ied80HI4b87+gN78P63-qkJf8Rd16CX0ppYf78SQxzZsjtirygRJAqnelDkEYDLwdIGgTQE0n1b9lvWC8U9ur0CAzYR+UQObFgI-IGZt+AAwwmRh27g8JMG-A7pOxIAtl6Q4AyAS0GgEgdABShE7vAJ8gb98M5ArbqAGm4g9H0v7GNuTxs7UggirA6lraxeCiC0OInLgTwPQEPYX2fGY3kIKBCiCl4X-MQKGFyAsAfWphNoIeEFCDcnuegtitcDoA1d7+MCIFnQEOhitjBBg+kGYNS7WMy20sQ6HLweQENwgWgnQVXjsGDcvBxILXvcDcF48-sfghwS9Bvx6AfauQd5OEOCEvBwhoQcwfR1orBDzGSQxwRu2Q4YkQhbKVLpZUiBTB-ccQ29CYO6CZD+AqXdwcNAKE6VNBgQriIdFnifEAh2g-AIeChDvVwU1nSuB0Ngh0pIolgYkDaG8EG1HaAoP2DIU6GDCGhhjOYQKw9JtDzGg2axkUJiEB1Pg8Q1lBiWWFzs6hiafoeQFmFtDRhjQ6eMMPJYtDBcDoV7B+QlDnRbgqYa-sJCAjqFpsatDfjgMn6b98BfBa-kQMoL9dSB3QcgQ7kv4v8pOoAV4R-2YHu48KxwmdHE3N6ZF2B8-LAVERhFMDmWCI76MiLj6ZFQQQELEe8IsGikQm+AVcF0D6JisWQlI1UNSKA7XRGoRIxIbBEMBitRSZgNYVIAXhEiOR6zS-vcK1pPDrQrI6EbBFhEUsnkEvdkfY3hAyiaCrw8xkSLxHiULevYfkTUMaC9hlR2o0oKqKRHqjMi5bdkfqL+wdg9RoQsVDoQpZ0iqRsLdQZsjaKj1uspwu3BYKCL+UDh4WSoDiJU6UIDQYiAzKx1I6MRQxBIF4E63FFOtSRGwCDMaJBj4oDULmQ0fvmNE0tGWAKSUUf1RbjB26JNalLGPP70dEx+qQlL43pE5BYWYrVYRGThKuiDMcw4IiiKTGqonRAOIgo30dDF05RFg6GBcxiCmi+4b7fkPJyGFaDWuT3UzikIwFq1zsoAeTlOMq5ldZ8qQ9nqagh5mwAEg2KhnQA7HdjXWVXcUL2PTDxi1apnFzMOJ7KW4F4pnQwBQ23hUNTOI9KwKAEKIAAJJmpIAACC4AcAEzQABKhRSAAAHkuayAIlFwR3qzECR3HD3qDVPHfQpRh-QgF2O9oOgkJM6cxuOMPG9seOyWNMcQApbjiVAn0AiQ5j76kTKg8EvMQ5gKEWDPx34v8QBOAlgSIJVEuHnhOTYUTzMRE12uOObGHjJAx4-aPxORYITxgeyOYURwWgXoeJkk+iURJQkWC5hHyTodGlCyvCnACmUHAGJTj5YIxjEbSUH1xEzopRcvWCSp1olhilJAw8ydiJCij0LAGLfNCQHU5EoAADFbUZgJA1ku0VyZK2T6UBugFuVyRoHcmKAXMjAcKaAPU5NEeAvOS8DFMggRTohjAPvsjj8ljhd+Swa-ilONBCtgpLQV2kEVCZnVkOBUn1lUliYhTVu3fAcB2MsCwIcpr-acHgOVQYs0uc3QKUVNqktBOCcxAKZBCCn9TM+GwHSF4M+BrIVAocfjoxls45TmOrKABFlKGlD8ABVU0aVRBCkHcVmyHP9iYiCJTTJAM06QKHAA4idzRJ0s6aHCkHNt0y9rJQZXBumzTOp19DsW0E9T0opAIrDeOaVykqSJpjMV6edMXj-EUBR4cGSyWCBIpPOaga-suUEEAkkCMU+QAb1V5k85BaQGbN8Nn54DRyxrKURjJRmLTduT2CgSYkpF3o8e0CUGaHDRHjgKZXA1ckI1kHEDFpv7AUWygAT0yxB3yPwK8EsDTS3pyBILhMQIB3Z0Zig1cvoWFmnS3pag0cWICFF3IQQhBM0Cl2v53wgZc4p8P3x+F4ygyW-f4SAyhGAjYZDyL4SVRc6biugVvS8CQA6L4iLejM8-MPx+FRFrR5gHWdiKTrXoj2bPJaamV0J-Y8ASmCOeBk+FYCjZ0BE2RgV9kWzturEa2RiF24rTxmzsjMaf29luywE5AxxEIyLkOkdC-WQPK9khFf1fixMgOWTwfRfTYsv0-IL7IBG2i1g4cyOY0Bkj2iGRjo2ufRnV7PsK52si0n7K1JCYFoTsnYi7MJEY9pecYyguSMrEOiveSCYCFWMZEYdmRagTQHPPMaKEeRS03edzP-jlzTCas7QK6BS67yzq880uRGRCB8iauYrVWRKEvmaycgxdaXjfOxFmAO5SmQ+UEWPnyjgQQCl6GKynkGwMxmovIf9k1EvRzR5gSBTPOpbHzEF1Kctggu9mNB1CdojeX3Inm7hwoGLSELDgFaRx7yNcWHKlAxYwdjotAA8GhMYgFSx+b9d6cuT75VS3ELCw-mkN7C9gWF4stedC2kAzTBQFaNGVyGsYBQBFXU64UaRtoiQCp7CqMVmOsSIjbAqixQAbAXkU99ZB4G3MNNT7NSOQrUp+lIEiDsKeyx2YgM7PLEuY2MyCjMdGPsmaLrRj4RhUrn9wGYWF6CwIMWIVJJTWIyC+xRSJXm1iIsGHWtJ8F+bsKFsS2Axfll8WlYGxVgN0ZcNUAhLpwqqJyW+KYmSBAJCyAADJM1IJvoobDBKsDWSCpJkZSb-IsFoTPgh4rCbYBwlcSMJ1wGpS0uInWNqJMwLpe3j6VGKTIrtfJYUpKXgBOJisbicMu6Wu01JDdUOtSkEmnDhJokuZX4vMAsgCp0ktoVyDl4rKMl5U9FjkF2WXCuQOI85LMrqW6LlBYjS4epNgiaTqUBUyyqDiuVKKSFBUiqRouIAWTQsVkuSl0puW2iOxZoOIJBFiUuLflsIiccSHmVtDHlXQv0qUHJGJpWUCy4uLoLKH2CllbKeSTZMQnQrkJ2ImoT6KuVdLiVDk3BXOVlLLCOxiGQ+lmMzHaLYVCwj4frMujCAXMS4j9iyqZashGVvzKPivA3ETcaWXyB3OCq-JMrtF-KsznSsuFC1oEXKkgO4GiGeZ5VURRVVoJxFhB7UxoXiQTOaVGSYwm6IOYeKfpDJeJvPHGReLK4uY1l9PE8aauInA8IMmDT3IkEJVUQ5hetHLIcsnHRdfQvEs5VoJFVA0q0rXCSXROIBhriQueHpKs14kvAfRnq5qYrFdVwqrh97AeePLnj6rLARi41RhKsUcr42riz6rvU8XMKupNGb1pauvmVrbVA5e1eUSJROqDYJ4-ie6rVrprvVVUv1dLT+yBqRhwanZTJK4GaAo146jFvGpYCJrnEQRb5R4Msr9rawg65YT2XZmrlCFVYLjlVPtQ+rZwrqgVsotPW1M15SIekOeptXWNr1x6-IKer74PrXV1qxScRJ+SFrDVH6ktW0EwnPrzx+s7IApNjULj8lLEoCSBPAmTKNgEG-8VBvYllLk1H61NTFRA2Pr7sdy4CKgnY52xOON6r5V1K-Xkci1VUz2s0pYUrZE+0gQjTkHA1fiClxS0pTRjGXMbkNlUjFmhssoYaalN4y8CyFw0HiAsLBPtI9VBRhpFhQLSTX3woyPhxNIgPlr0O7i0cnQrDe2FVnk34hhOympAvhBk1r9+IImislBAkAKb4wSmqTdbAM34bR8I5ZiuZruCSbD+l09TQtCqwObtNlmw-lILc26gEgUQDKPSFiXOaLBrm-0bQEerUBLFWmkQOuh1XwreFxm-dLFos2pbMsnI6cm0Osbybot+QTTZFq83paSSGxIVcyrk2FbFNxWxUirzBwJac1vEadRK3pS9Eyt2izTLlsiC18dIDmvLaoE81xa2VywpLeWX3QDaLN42jLeszrGGt1hjAEoVsJxUSZQsbW75ilhFiTb+tZm7Tdqqy1KrC5jlGKr1ssUebttcWrbXQEc0lbatAqerX7Ca0FF4Wgq6JbKu+YcUzNeW7rb5PkCBaU01yIbUqsP5qSjhzyqlGitF4-g0hq2nyAFqC2vafI1ySFgKlSXkcmxpw3BXQhu1ryUd6SyceoVF788BsXsA7UEDu24gHtbIagGixZDQ7NMsOhQF9uMIOhKEVaT9kgIsGPYAB49Ser1EXrD1lZLLRdiOw1as5q2AO3VeeGlKIqQd71JxODucSOgWdKad3s+CoAbQlSezJtrCPQVZEZWgVPHsB1mAFjCxZgJ1Mshw6d9cUoEDsmsQJ03aWQw7NViLvHAXLnOOOtHRkvx3wjBsirMnTyAp2O7l2AyVrS9uFUvBA9o7EjNwQTE7JTNLFfQS5gACcAwHrRIC4rZr7gsAxmJxX0HZqPyUwSEC8E-Xq9j2VgzUP2R4EPpPqGITyTDLMA562KqgG5jc1ZBoA29EakDHmp6QN6fIuwkno0B7156gEYhRFeVCiJ2BDkw+GWYb2hFp7c9ak4fbg1MSuse9ly0RWxQkVgJkwBq8XYlrJF7atB5OqNb6HX3iKvgki57SSgUDw7NMKgMRZvv1471628Ox5MoyrRc5FAmQM0ETXLW4pLoLmdNoKBdZuteWmzSIE1p-p9ALl9apFH9EYBf7caPjIlCyDNA5A9An4dXj3oKIHJDk9bUAL8x94QHvUxlfoJevMBYGGWcqy6FuG4Fq8ruZgB9FmvI6UcxE1HCTNQf+IPrD1jAR9UMi45Zq3EHB4Hg+jgMIH9YSB4CKgbmjIysDLIHAwclzG2S7A16roMQZwPlhaDWM+g5oa72lBZD8hhQwQfLEMADDByDvfXrn1sUM9GKxFaDptEchdJf2Sg2ttCEq6Yaf-JYJdG10PIjdBAGKq-CR3Q6aWIYF0Wko92TjBsJEV9nurEAUY8gdANZG4HANVpupnKgA2oozax762vYqlskdxQ9EoDJPQchyAXFBGvDAoUI6joz2RH+Ni0oEooQCLrNKdpiAkRI1eFKArGQjY1BMz0Yv63Dv-DaOUbUKkEa2uuvw5ZQCPCa8B-6q1fyJG1bFUF7ItxvPChnXiQoz+2JTcwjGqATdoAAADpYBz1WKqvMwfwD2pDGPu8ygNW+RsoW9wEUQ4QUxYDANjzKrYzxx2Mm6DjRx76fSFOPnHexNBQgFziiJmcgiQJ0AAAC8Ta+xv+A3S+AUczjZLMY2ZyhM3HBUdxkCJ-seNaQxeIwEcvEcSMQgtjxx34wif+MFUdmGeDo7HF6KkBeisLfsDc25B4AXjcq4kz8fhMfJyTmlSkz6GpPARnAtJ+kxcoxPlggAA')">function is_indexable(pat) {
    return is_string(head(pat)) || is_var(head(pat));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p43' class='permalink'></a><p>
      The key under which a pattern is stored in the table is either
      
	<span style="color:green"><kbd>?</kbd></span>
	<span style="color:blue"><kbd>"?"</kbd></span>
      
      (if it starts with a variable) or the
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      with which it starts.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (index-key-of pat)
  (let ((key (car pat)))
    (if (var? key) '? key)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+zjwKgaok5k5XKPV4vTqsgA-NjuBgEhDD4MwbBQHAiDIOgfA8P7C3yPMNEbRuej2sQsyS8jUiTIojWPwYGxpJvuk5BfxmHfRYfY-5BAAFzAilKSdURQIGBAAUHagBpCCaHQg2aiYChQYTFBKWBfZn6v0QeYaBe55AHhgieH++hSFmAAbfXqFEaHwKfqAXQJDhrkMTK6Us1paH0NAIwu+kgRyph-sQuh3DgTvW-mw3+w0RG9TkY2PYQFOHSJ-DwmQxIVIiQKhpcBSi9SGk+EhVQHkQQwSMooEytCnhCOGmkKxaciEcJfloxoOiqbG2MT+ZRMxfHw3uMzY2St2buM0UInRydQ6CJMUwmYcS0xSJicCNKUUXYFgUV40ogSQaLgiRIhRaSZGF2LqXSis4EkBNAPXaQPkkmEA2khYeEkomeMcc40oO1bKgOnKoQe7Txj2NyVIvJaRoGKGYBCSRwEACqxADTEGoAAdzsEKPQSgHSgAALR7I4aAjKO8dINJ8sIF4g8zYZkoPgUAqgQjOkoCweqf1JAWOEP2Zimd6mVINs815v1zHVVUJc+pjAoiy3MIMDh0gLriHuY8qQZJWgfNBV85eZhzrkE2HQK2uLURHIWK0tubivndJ6VSwIjoFDEHpJw8EtAYpOOpT+NpBkOTGTBSQfQlK2UCohVC-lgrqVtMZcwGsdxMXcjSDJEIEUBmqBdASyZjQAGKvHJIR8dK7gqukIonp0DWjtE6C0AYMK4UIozOYGZ1AITgpZEslZ6zW7231poeQ+zDnnK0jC3iOk+kSgGSZScdApE-MrhZIZkLQCogAHzEvvgoGN4YPGvwjJoW219dRJO1bQOqU01G1AjTa+VUhwiEHeE045KbVEgksGtB+4z039icYElpdaC3dQ+vm+gYSclNiKGUmRzTm30p7b1L6igfqUD+p01+24dJ5uCSbcNrafl3IeSETKmh9aGyJjbb5NqFzUhNR0BI5qNiwvkPCr1W7kW6KdlkmKvssWlBkmOlNQtn1s1TL7J4miLWWtvda0hOKCDgmfY8bBXqiWsq-UsH9itnavoloBzxwG0gPoVW2WDYKoMoecrB49rKZLIcijBgZWGgg3rvZGj9l4V1hJCay1sv6xamyPRhxdpDhiBGGFVe2QbJAkGrF0VQsCbkelYtGyQcbE0sgAFRib4ZepTwZQBSfzvbOg61iBiirVBShb5qn0DnDanDUhV19nfdi2gYQBR0zjUzI28Nil6DGUOrwNHT0eykLu-dNnfZsYYVpr2oXQDQPrroZE+nDOKxYaMgjwsiN-tdqbfsIrRVmD03kBLxmqGoXM5FqleNPg2YVh5rjb6eICatV6k9vyKFFbM-4kxAEktoVwQ2WzrLoEVGkDRwTOb+R5pSfMzRPyINpxc3E1O1BvJ9hoxBoO614UubywZ6gRmuvmbTrK8wEHVP+kvQwIlImTvJgk2tlQ0LfmIdUGnCMdKGUvyZVKyxwc7vZZy390AV2LRdHXaV-7jRNE6ZvqIzJ6XB3qNLTJ6k5XCnbHw5Fx7+UxJGIca2yHubRHiIEaUjdNqIMDJc49wnisBkjJqS2oDGxqyYNFEqqnzPi3NheAMqRNGZLUYDYzPNe3Ukk8Z2p9n+G9vs6IaQx7UuaeGI6TjzRv2zAM8OHgfeTBWDsFPlwC+aAwajZ1pWpYDpl7loW9kXI+RzegHbaAXZ6IiWm-t846ZjBZmqAdLHLIOQ8gcKdJQhQLQXiWHhnOrokDTmM2RxYzltjhYvGe6LvzExkoTQ8GipCwZSsJ6sHY5Pi3BQ87lgHFFWf6XooFmCi378-xr3wA+Sv9Ic8twIG3fP3L8B19Yo9UGTfQCHX7rqNp5Le-bWBk9QfL0R-8nFe9yVMUe8-Jkv3-ag+IZLtj2YlHth8M6qKKvh6GfNU0RpotWgur2+4aKUqgZE--MN-kslbnwEz+LETvLPDNPD-Wgf8fhPD3PhA-njmNmQEHGaNEHRIvsyqmFNmWpeL2OrnPBRofByIvJ4oAdSB2CgcuhAdQBdKnBcoZPIKWusGnqAKCOCGCqQaXsMBBu8BOHrAbBKnAXoC5oNgMHPHHqQVZBhOuiGo-nYNQRCD1tkIIeONmjpOgSSOziZLIfIL8BQb8h2Ioe3oobBgoaQcoVzJQb2OodvvbLSrFjAbMB9q+tZPClzj9qAM4CaBOFgYgX3roFEO8PwQ2GbM7rpK4e4XfKTA7qIaoLwRgeIdYaAP4XynYQ4WYWqlAj4dEO4WEWbAADwJFuFvCqCRFsaMKe72qqAsgAAqWQpixAgoQqTgKsAo6CDcUewEoAAA1G7n9qGJEFEHcunFYWbE0ZpiyI0c0Tlq0dEB0VkXdm2lSh7l7kUSUfgPIGshUezNUZUpQHUX0U0aDoEEMe0fgJ0QIYYD0ayP0RseYFsSMZEWAe5FkGghgmEfhmEQjoEPgbMDIFkJZAgaQjpFth4RITYfCnZkEJboNt8X8ccYwi-C8dQJZMcTSgQVAUPGwZ9hDscdAmEXGhiB2MkXEdSgAh2Nkf9iifpjnMCaTC8L2Ocb5v6o0A+pwmiS7liIFqwbAVKv8TSnkWIVYayEspkK0FphyH6qUHRmBj0hBooS5mgXwQzj0jJF8ZockbQRyHytCY8aQVofKSSHVgKdeojkCJwhCW8ZhgLvbEzrcUqvcRESoA8eYE8XqZga-AxmYJ8YSckb8dJlKfXkCZiaVmCc8SglCX9nDJAW0WYRYfAZ4lid4gKFYbSWxNnJ6aKgAhdIrLibYXfOGdogKISVxF0VEWSWMYdmkLCqQtSS-NGUwbrHuoyeYUvkfk1mkHauyRhJycQNyfSrySSN6vUmpllPmbRg1vaUECKaQWKYRh8hKQaW6axDKSqXKeoaroKpoSGmqUoT2QJlqZQbqb6baSFJrtVAfEfLrpwOfLwBgMbtmICm8iCjXl8u7BHIlC-oyI6uecCl-vbE+ZHpIC8iXNkm1teePDgZPERJituBBm+e8lrhdslIggBCyEqJpuYEqFSoqb0hnl2HBWYF2IhartBaIWhVQWCIwJhVBRnvmLhfmIRchT6J7JUJplRdIMNEhS4hnnVHQCXEoIKJpsxaxeUT+AxUENBfWWhfWT0rxYENBfqO8GIs4HQMGOJW8JJQwI0CJeYNBQ0bheYN7i8IKIYAmo7v0dxUpWYNBXsmpWYBpaAFpQprpYcvpVhRnhpi8GkGZRZTpbskpuZWYAZYAj6MACZQ8j7uZdpYmrsmADZURT6AAKS+VOWBW6XhXuWgCeXQXO5qXRWWVO4YhaW2U+gACE6IKV-lzlQVoAuVRKmVYVdwLIKRUVBVMVuyaRZgZVFFFVKRqIJlqVLloALVDViVGe8a1VmltVoAia3VWVFV8arVDlgQ7VRV41I15VBR2VvlulgQOlZg2V5g5uiC3IIFEQQK75bSyRcapC0aSoLwoFl58YssO1LyF51e8YYozgAAVsHudsdUXDynYDpdhbtReZpgFDKnOYEOdXdQSLLFgNdXte8jinkKbC5gBNBeemappojZep5WDqJRnpAMQBenIOxQ5VjTjfrGjejYZRnrJZILAJAGheTZTcTSTWJbBHJQAKK4Xk1M103o3QUABySgXNvlPNXNaZYO21DmuKwN0NtYh1qIb1lk9yOlahUR4totMNV1otVBP1wKfa6UtYIaR1jQ0actia-1WW6tN1mtEtmW3BZy-yDaZt+1GKJAVykK+YwhfyJcBskQom9KigjSQZj1Sg8wemEQe6qgeeGt75n5OQgYP5vKgNpQg8LtfQQQhpC0iZ6CwZ1Z1ortJhVeCJLKbKMW9KqgwNB1XRLwSpptkNnwFt8hHNgQhd3QJdbc1AT1L15dYOStT4MNWhdd5gZZDJGd7BBg24OQuKZZUQQc9hMwediQm2WwGCM9Wd3BO5Ase5OuJ8h53AmAp5l+egygFAkgsMYQVE+ojAocoElA4EOQrtnsLgbgAUF9V9y5WJOJAF3sREj9EEz9-RLIkgaxTmYYIxD9R4l9X9A4pC0CwDYEYD7e1Q+oBMnKIeNobRrpvySgpApATgVsG09wVyGDMVDATRQyGD0ZLIfRACZDUWwEhxTR6DpAvdP4ZDtMYY0hjMJABkF0yDdoQq66wy7DR4F0vwAAkNqZsuEG0T-QUf0XAyJBdIgxJtGnw8QBw2QTw98j0foCyHPmIPw8LJ8FMCwKmjfZbNbIPC-cBINiyBAw7MlGY6AHCEIo+kCb2GY8UD4DGSuERK48VRiCyNvOYwROxHY94X41Y84gAjqvvYrEfQSJIKfaHGY04tAo+g0o3G1nYw41SkSNKOKljh0q40LRQ1I00bo0QQY4E9nNckY+owMcNH0f-bcbZIQrk+pPk5CjU2xvU-0aU-o4oIYwFFUwU-sZ05o0kwDsowI0sCyCRU7Wmj018H0+MaUDokEYk+quMyowUThS8ABB2GY6SfhK4y8PMwY1iT4uI9EEY6QhQwAOT-2Dw-13PWOnE7FGPaN2DzOwyMA+RfMWXOEWyShezBGZSuAQgdi-MMM9LQV5AtC9H2q9GrJBjFimiKBIvv5WycjgPrM9MVPdAQsHNET4sbOTMLOMAsBnPEt6O4uqBEu9hEufOLDfMXF2D+2B2kDB3U5arOjBziTryaDGNiLLFNyzhLzXNeUVWpPCuaQvAtP9T5BLxx1BDRqssmjsuUB7qwYNo8umizOhpOhYvLMwIYGivrPQXbwhhWH4J2TShLwUuThGELS-N1jbIOhavwymh8vLxWaCsNxSuevvoiltyonwaNCNMEIYGysdzyv6srm72ObcvusXT0jXIubRpOtbLnCusJviS6v+sUnkZBtRkhM4VitBEdjZsovJuQokkeNEkVtJtiLVsGtTId4Czs6kMkWlvMCJvXDXLWOl0YSkMqtB3qucvn5hP5J4U0EDsNiKuBDKsB2qscuav1u5u2sUtBEzvZBnXdviS9tNvDZ9neuEK2sMZr4Z7muRl4JNPGsxuHugaNYQKfpOjDYp26gepLBLzYFP5BEmuTu4H6vWP1l8tNkuobKB6tP8gfsvkLR-5cZfv-M-v4WetivIGAcRnAeTigerLgeK5vRX4qwx5GkouMCxPkDUCpzGgtBtDdAIeiOvCCieqeukN+iotaNl4DzUdiIkexNuJ0eUEdhwd6v8vblgCQlfxkdP1nVVr1KtlXDkC7za5sCkBvBFxTCgBgwPIXQLRgyG6G50Jzx+jByqBGgl6bAaCMAtCoM4TxQmNqDh72pWeFPjNtAXpdBjOEyNSmcOTsQdgOeWekxLPhO1v+dOdsbRamjGfeevD4SheBcOu6jI7nBf2qDLyrbfYzDJc5Bw12VZfyAaY9mBpXHoImfyAGw8AvCmeSAvT9kQb4rOB5cuZGekClflcEtqC3aZdP0anYZIohAo0Sb1d5ekYTlnre1udXqNCCmPvClq2hdNeRctdVf8Dtf3CEANfdextyr14DfdChdC3YvjdmrIkxdET7cUlmD8aUlWkFz9qketeSAVegDLe-GLD-F1freNdErNcPdPe9idfYgwMXeIrbrNBHeXprcbcwP9mbFWDYhEQA95dzs-hBEARVdPdBEvfmnn5ZYV2BD-cZeA-X09e9kPsw9HZzeUKOcLd0BRdlfVerdDebfA-pB9dg+udmrKpU+WcjdBBCOhtw9cSfdSdYD88d3IeY-08rfY9vfI+CpC9Q-E-chi+Xd9m1k-iJnw-2fc+h4y9KEs-XcFlrk3f2ycWwQqfBH-HmQdvFeaATtUrIK2+RbQJsAhORAXSkf2-YniB3cKeCqTH5EsDYeuqgDifFYdl5f8mXf0dm-kAqfAVq1h9mZE9wamL4x5epcDAQbycuZJ+ScpfTO29aQgUydEp59UQZ8sju9sfcg8G77OCRB1SXOf05CvdKHfsiHIct+qMP7vN2GN9Bnd9PYD-RCu0dgN8Tqj998T9N9DxKoz9tGu29gL9T8ce6gr9Dye2KGjHQOt9MAKkd+dm08tfd8ys6F9853dCn969n8H+Ied80HI4b87+gN78P63-qkJf8Rd16CX0ppYf78SQxzZsjtirygRJAqnelDkEYDLwdIGgTQE0n1b9lvWC8U9ur0CAzYR+UQObFgI-IGZt+AAwwmRh27g8JMG-A7pOxIAtl6Q4AyAS0GgEgdABShE7vAJ8gb98M5ArbqAGm4g9H0v7GNuTxs7UggirA6lraxeCiC0OInLgTwPQEPYX2fGY3kIKBCiCl4X-MQKGFyAsAfWphNoIeEFCDcnuegtitcDoA1d7+MCIFnQEOhitjBBg+kGYNS7WMy20sQ6HLweQENwgWgnQVXjsGDcvBxILXvcDcF48-sfghwS9Bvx6AfauQd5OEOCEvBwhoQcwfR1orBDzGSQxwRu2Q4YkQhbKVLpZUiBTB-ccQ29CYO6CZD+AqXdwcNAKE6VNBgQriIdFnifEAh2g-AIeChDvVwU1nSuB0Ngh0pIolgYkDaG8EG1HaAoP2DIU6GDCGhhjOYQKw9JtDzGg2axkUJiEB1Pg8Q1lBiWWFzs6hiafoeQFmFtDRhjQ6eMMPJYtDBcDoV7B+QlDnRbgqYa-sJCAjqFpsatDfjgMn6b98BfBa-kQMoL9dSB3QcgQ7kv4v8pOoAV4R-2YHu48KxwmdHE3N6ZF2B8-LAVERhFMDmWCI76MiLj6ZFQQQELEe8IsGikQm+AVcF0D6JisWQlI1UNSKA7XRGoRIxIbBEMBitRSZgNYVIAXhEiOR6zS-vcK1pPDrQrI6EbBFhEUsnkEvdkfY3hAyiaCrw8xkSLxHiULevYfkTUMaC9hlR2o0oKqKRHqjMi5bdkfqL+wdg9RoQsVDoQpZ0iqRsLdQZsjaKj1uspwu3BYKCL+UDh4WSoDiJU6UIDQYiAzKx1I6MRQxBIF4E63FFOtSRGwCDMaJBj4oDULmQ0fvmNE0tGWAKSUUf1RbjB26JNalLGPP70dEx+qQlL43pE5BYWYrVYRGThKuiDMcw4IiiKTGqonRAOIgo30dDF05RFg6GBcxiCmi+4b7fkPJyGFaDWuT3UzikIwFq1zsoAeTlOMq5ldZ8qQ9nqagh5mwAEg2KhnQBHpWBQAhRAABJM1JAAAQXADgAmaAAJUKKQAAA8lzWQBEouCO9WYgSO44e9QavYxEbYClGH9CAXY72g6F-HfRzG447sQ6F7Y8dksaY4gBS3HEqBPosEhzH3yQmVAvxeYhzAUIsEnizxl468XeMfHPj0JcPKCTBO-FwSBhM6V2uOObFQTJAVXcUGBNonIsqJtAPZHMKI4LQL0ybVCeZngkASLBcwj5J0OjShZXhTgBTKDgDEpx8sEYxiFJKD64iZ0UouXh+JU5YSwxOEoSdiJCij0LAGLfNCQHU5EoAADFbUZgJA1ku0YyZK2T6UBugFuYyRoFMmKAXMjAVyaAPU5NEeAvOS8F5MghuTohjAPvsjhsljhd+Swa-kFONBCtHJLQV2kEVCZnVkOcUn1lUliZOTVu3fAcB2MsCwIopr-acHgOVQYs0uc3eyQlOyktBOCcxOyZBAcm1TM+GwHSF4M+BrIVAocfjoxls5RTmOrKABBFIalD8ABGU5qVRCckHcVmyHP9iYiCIdTJAXU6QKHAA4idzRS0laaHCkHNt0y9rJQZXC2ndTyp19DsW0E9T0opAIrDeOaWinCS2pjMY6atMXj-EUBR4V6SyWCBIpPOaga-suUEEAkkCXk+QAb1V5k85BaQGbN8Nn54DRyxrKUWDKBn9TduT2CgSYkpF3o8e0CZ6aHDRHjg0ZXA1ckI1kHED+pv7AUWygAS4yxB3yPwK8EsCdSTpyBILhMQIB3ZQZig1cvoUZnLSTpag0cWICFF3IQQhBM0Cl2v53wHpc4p8P3x+EwygyW-f4SAyhGAjvpDyL4SVRc6biugVvS8CQA6L4iLe+M8-MPx+FRFrR5gKWdiKTrXoj2bPAaamV0J-Y8ASmN2eBk+FYCFZ0BJWRgWtlqzturETWRiF25DTxmhsjMaf0tkmywE5AxxEIwTkOkdC-WQPK9khFf1fiiMu2WTwfQXTYs10-INbIBG2i1grs92Y0Bkj2iGRjo7OfRnV7Ps05ksi0jbK1JCYFoBsnYkbMJEY9pecYyguSMrEOiveSCYCFWMZEYdmRagTQD3PMaKEeRA06eZTP-ipzTCIs7QK6BS7Tyzqvc5ORGRCB8iauYrYWRKHXniycgxdaXlvOxFmAy5SmeeUEUXnyjgQD8l6GKw7kGwMxmovIf9k1EvRzR5gd+V3OpaLz-51Kctn-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-RGAD+3Gj4yJQsgzQOQPQJ+HV7N6WQByQ5PW1AC-Mfef+71MZX6BnrzAzehlvysuhbhuBavK7mYAfQZryOlHMRNRwkyEH-i+G4yfuudVDIuOGatxHQeB4PoQDYB-WBAeAjQG5ogMhA0gYOS5j0N9SGg3VJEMHJywxBiGaQbkON729o+-QQUWkOHI0D5YhgOoawPA8O9zYiFYcpBU2iOQMkv7PgYW2hCZdMNP-ksEujK6HkWuggDFVfiQ6gdNLEMCjph0J7BsJEV9turEAUY8gdANZG4F-1VpKpVKt-SIozah762vYqluEdxQ9EADJPQchyAXHuH7DAoLww7sMa+HuN-UoEooQCLrMidpiAkRI1eFKArGQjY1BMz0ZX7rDv-DaNkbUKkEa2qu5w5ZVcP8aQJTEx1RMr7HxjbVZXFzNqocUAsF4pnQwBQ23hUNTO24S-d4puYRjVAOu0AAAB0sAJ6qFVXkoP4B7U+RnHeZQGrfI2U1e4CNwcIKYsBgyx4lasZ47rGdd2x3Y5dPpAHGjjvYmgoQC5xREzOQRX46AAABeJtLY3-AbpfAKOhxsll0bM6gnzjgqS4yBHv03GtIYvEYCOWCOhGIQqxvYx8ehNfGCqOzDPDUdji9FSAvRWFv2Bubcg8A9x-lXifeNQmPkRJzSiSZ9BkngIzgCk1Sc2XInywQAA')">function index_key_of(pat) {
    const key = head(pat);
    return is_var(key) ? "?" : key;
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p44' class='permalink'></a><p>
      The index will be used to retrieve items that might match a pattern if
      the pattern starts with a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (use-index? pat)
  (constant-symbol? (car pat)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6ShyQHrhwo4lpL7dW2lMEK8RrxK3XaG7qUiN1zUE3OScqRLpAkrsCNBYChZi6EsJaXrPdUhrfW3tTbRlFBcbMsKMa7i0m+cwhmli6kjL91QVnoUIpdB59ean5HsVhisXYsKlsDuyeC4p0CfAF6vBN9L8rmqwrlWmUrxZNvxchste72Vgfzk5Kt5hQV02w3p9tdByIaXmltIeXH5Y4cK-dBjY55Ozb2TumeC0JsRfg2z3bjP1EHNMJ4oD+01FHJAdr+O5rZ3xQSyzOe0Gkl2+wANQyf10g-0rT83E04QDnx0nQtFKAeGxRcl8QTCpkgMwmg1rx6iey+WtXQILzsCHWwOEQQOoE1Fkn-BHyaV5UXT835FVTwJyGWW2ikVNQhxwh8W3wSEtipVfDrzsHTxH0EzmTGm9l2wwLsAYM3C9TEO6SHgEKYEFEOWaAshHxAloIGygOXSYNEFnxH0GjUMFA0KuzoMwNXV0LgKjVUk-hQO4KdlAzkLomrzuB6UuE-0L00EeEehEI4V2y9xCC8J8MiGAn0mCGkMUCEOtVkMWXUSGQaFcJckBnSHD2xR8NkKMAAB5Ai0iHpf84jk5vhA9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgJPHcUAAAaj92gTzUeHAnk0cKMA6JzW3HaM6Mcm6N6PyMcW4QLGKiD0UDKIqPwFEGPBqLqOPgaO5xaOGI6MiX8HGPwD6NEIGJ3HKhGN2JgVugTQmJCNc0UNKAqCqBUM5XPy9T2QCAJn0GcDKFmgIO2E9THl8NUNiMcQNm2CVRxwyN2O+E+PuNmnOJeTIEQITTsPcl0gBl2PSC9TEmNQ+36PhOCCHRuPhMxIBLw36NlVXRuKcRSA-G2GFnGGxO911TJCvk4K31RIXnIWiWKMBOkHKn3CaFYlADdWpOSCjjIWSikV0MtlwOENdn7Cmi0TWF0KeKMJyDhnhP8BVPEJbHUNFMjnzkILBC+OoB+JznWWEVGS9UmVeNAEiDeK1NIJhO+OGncK5MdMnSVN5KcIkKDiowhLxOsmhPEBNLhOCTIKQKnC4I5KBHROskxNA0ZO12U0hMcmCE1GHEJPUWBOmOSBJNJTJKOIpPXSpNznMBojdkYgZICPYNZJRM6U3m5JKltIqkFNhGFMFBvDvHbXdW2HFNBKKClJHxlJAXZDlPNIVIbi9JVNkN1OMOeUcm1PkLnPVP1LzgNLMMj2dNNNdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIhbxQi13myFzPQAh3BghvMTyAKjXfIIkcFglLGSV5wfNh3ex104U8kFSkR-NvObyLgsWdUlAzT7RzX8D7SUg1IHCYW3BHRQvMBHXQoXIzWkNwtAGkIIsQqwpLhIpLnIswtv0pRfhzQYr4SlAwpSAzThDoFLEkFqBzU4u4uqIhDYuSAzVmMYFwrEv7GEoCAzWZEeiLAaDoH7jkoegUoYG2Gkv8AzTaJIv8EUBD1AFqENSWivA6MEs0vMAzWvF0vMH0t0CMtbivDvHMsIqwr7l0BSDssMuMtACvDbkMvMAsr33mOABssggMoctEhMtADABcootvwAFIwqvLIroqEqArQAgqM0vddKUqfLPdjUjLXLb8ABCI1XKiK-K0AMq8SIq+KoEbcTI5Kyqxy0AbI8wOquihqzI0SGyvK1qnqjqrKrChaZq+yqqpaIa4qhqhaXqjygIfqqK3y0AWaqa+q+YkqsK5agIJa8wEq-we3SUM+KC68385yWQsSCMATPtXQaCxPWC2eY67eUi06mC5yagBoAAK2jw0SuqbkEFbiItes-LEzAtKiIQXOSDuoQgeuOC2iwBOvwhgsvXWPEmdQzUZUyhzUxp7iCqiREqwsgGIF5lcF4o8qJpJvqjxvxq0qwpUscFgEgFwvpsZupppuCu3HpoAFESLua2aaaM0AA5SQQWsK4WwW3MxyJ6+gESaGtkFGjtUQy67YATCCJaodfAIZOWmre0Y+aW-ibWhWww5WooVW1uaA1vLW4GmGhW+GttVqHCbWjPV8ycEuXfbCP8jMVKRgP8ZEz6yQKQWBPCRmXJAybW-88PQEIChSVBV2vqF8ZIC0z0yKaoaMzpRQXfGw9SNOhMN+D+WETPa2u8ouVU3QTUw27eK9VU-mgIfOr+J2keHoL6n6su-GiumWqu8Qmu-wWsxmNk1yewxIQVcPESU1R4UoBI8LdkzpPeFO+shMM+XAMAD5JgY835U87gTAa3J-dwCgRwc0IcG5ZkRgX0D9SgL9cPXfBihFTcC2s+i+vQ1CCMAksG6De+79IhEY7cRwbY3NS47FCYu+5Yc+j+p+64ZMhXfIz9UB9fOwGIZkImLjGPO+LFCid20gUgeFISFaUmQCDBnyhgDouaDBpM7cYY4IMhgsIYkYyQfByG5SMh3QbohQnqEgEyTUFBhNMiCibhxwNh5YTUECAASCNO6K-vmJGPgdJE1CQbsQE1V34ZFFEG4Zli-oMG3FgdAEUYoLcBYFWkeCvvh04UnH9AoapW3AjEJCYRMc1Q1XzBFhx2gxMaMFRQgdx2cequNW3ECCfGfsgiHRsYCO8Ysfd1AB3toeHAPrbGPt9BMf0nSBFl-B52Ihsa1WTitUGGl2Y3nWccBgoYkY6O0flWFD0YCbsn0c-p2KUmGN-utJ9WtSyeTXIw8aqf7BqZGKKbNRKZgzBqAgqcqeTifBCf9y0eIHYaUG3Cou4d0E6d0bAamELAiLie2GCCKfmOIt0GdTKYMeLOMfIlQhmbGYEeKcYBYH9A1H-pxWWa+B3AAHJf75pBj7nLG-7UGJiTHNHOnzRGAlRvmHLJDCwcccgb6enlM-nu6lIM1tFZghig8hijxyAhi-hhREXyo7pw8nx5nURRnxnQWv5wXdnFACWcXjmunTnzmSWlG8WiX2gfmhloNiWvnaWjLj8o1-bA7SBg6ukohcIQw+lhpKRDGucmjxduwRpTGOaknRXiAc1GnC0BXVAIXG5Zp2W7hOXKBGZbkqQ+X7gVGFWiEXmMmlBxW-GM0fGmGhN6nBhxWKWRpWX4k-mxkLxyReXLR7h9XF5GJS0xdecbWBypTG6sTxIIw6m+hfU5WWM1gbXc4TqdXNQ2IgJLYBNHXzx7QXXtW3Wxo+no30IG5zrEygniK-GIih0M2+lJUgIhkLay37gK27IDXwH825lSGqLi3mBM262KIXmm2OFSHVWg6NXuX2hhnsWIie3mh6GUgBN+31XNXUMa2s3ymbWKWx3A3QNbr23y2E363dZSEGI6ZMh8DBXGzmd9ssLzXc1LWw2j3FXRT+z3T5ZKQBFNM9p6pGoPWAXoIVVNwTWVm3Hf2FmxKFX+TKoTxI9sn+kTUGpVsB8wCLtxWPD3MIiAPsWsDBWXmgORoQPDwwONomm9o4OKYU821a3GA2xyBqBZI2Qg15gv4EOAW33jXBXSHkWyONGvso0aOixSO2x596OjSh1CPRQc23kwBTTIVyOH7br7osJ2yJVyAl7V62BSAHpiw3BQARtIJNQo0RtLdLdfBFC-gQxFBWRag48Fgg9wkhWcd49LPQjQmcbZh4mxAdQPBTPQblMh1bPGArOsWaw3HvOrPk50gjPSATPRAzOTVV1AuZZ7W08WR5UH6M7JFnqHFqNv1LYM0257Rv0+5RS2UyhKhZpTPHAeBdASu2sBzzApE6BCAGgcvw9LZQvwucIyuov100uGvH6yz92RZHPSY6uuvA5Jyq1HOev73JTnrAumv7hjOKvCXav6uH7iERvHd+vAvJbwpHOMT2vOENvxvDT3iS16AUWWvSvyuIvHAgVgT2gT3qvnrFuuuZu6A5vLu2voNOvlu1yaYvWnB+vHuvuqvkgMzqMOuQxwguvJ3pQIjnUSu2uIj5u7TukDnNSAgPvweWghuVuigJv+wpFpvxJmvEe8NBuvueuAgl4+HYQ0omUv4NuT2hHtgQeSelvv0JRGe27v3M8ufEeA4ofoEWesez4Ofyy933SpRmfouLOfObu9Dyf1ycfDuPSo1+L5AVPIi7vT3MI2Agn7iiuR2GEQhCuqg350gdevGMpNQ2OglghLeUWgkA8SoWBsOqo7BxPWEuyovv1eyFfSc7BVfyAVPILnr3ftl0vGvxJNsuuM7XwpF5PLZQ-JPv15i9eqh3UoKZPxJE+blo-tw7e2PF6epNsGgMo4RsUoGQHw9Zfd8Ij36q+keogB8S-DpkC6+lBm+y+DHEO3GO+E0m-S-kScle-sVd9oNh+DHNHx-PaxzrU2-dBLDu-mu5+lD1TNGs6v5l+-8F+AWIji+B-y-N-kf5-1C4v68P0P2jSnyf8sOdwfGrCtMO6tBz7mwb-dDDm2y2IP1HBVPYRw9GBN4eoKgVQA2GY7i9euMwc-n6zAHGJnq4-WRPvynAZQZ+1rSkMf2MLy8-ehYfruP024BhRmH-VoIwG-7Qs-+wHFfnoR25AClQU-IfggOx40k92lPZDseyB6blSKXPKgdSxta6BOBaHW9t9wFh5Ro4fpKtHawjC0lfeWvOBqaRAGKtT+Z4W6CShYDCtbC8wJYLUDsR0A2uagnipKjoCVdP2RjUmOVj8Y6CNBbEfQRnReYltl0WgpVslyWqYolBKg9SGYM0GKDsgoPMDOVn57s0igbgiwW1hfyX4faJKGGgEOMG6AAhNQAwZfyMF2DTBeUXQYEKsHgMbBKZHwW-AcFLQMobgcPAHR-RJDzBzCIoXoKBQZ1fB-YbIa82cF4ZystxT1B4OUH4AlgGsf6qRFzS74Wh8gNSHaEsDZAUGzg1Wh0Ni4cd4k3Q8gL0KcEDDphZzbvsxW8z9CzmfjKlIaxCH5DwhpQr+MlA+xNCa61QiYVMKaGDDPBamJYfrkULr8-yfQPiH1HALAMpOoAEkKCG36TApEcA8SFPyQG6EK+jwywisiozYC6BYRDaF4l+Fs8nh8gNAeqWc78hJhGMRwHJXV40Dz8OAqIVCPIH389ocI7rIiLV55E4R6Il4eoW77Skgm+AAdD3GGJ+NtwFI0NFSIw6udOEhIyEeqj8bSlzAhrJwOfzhFGA-GVw8CDVjuFvAWRzw6ERQPAZftVUvI2xosy57PCJWOIhEUiLyLQZeRlQqUNBgVEaiIQSo2MCqOpbqjUeBkIdNqONFOQ9SLzWkZSJhbyDc0CaEejJFmH6Ua+XPAytUKpRYiRAKnBYPIm0TccreKTHjscF0COsWRjrV4TAJlqNxA+qlRKJbD1EZgDRYYjEax1WCt0-BSkCMSfyNIqjmstXYSKQzpHh4YWKwl+C80jKOi2ExwvMYlC9F2B5OfQpQS1za6mdYhUY-iBYnk4tiLutQNfHEKp7zBeYmgowMECpQFg6Ado0vhSEcAldeg3PdVM0meqmdLYpbeQKKSVTn9TOo42-sMXSCmdh6VgUAKUQAASXNRwAAEFwA4ALmgACVSikAAAPKC1kA4kPgtbiWKxiAxKLOGguO6zijd8hACgtOPJB-iMYErRsSBIrbBigEiYilo2JkAtA0xcNTRghL4TfiyOv43fKePPFXibx94p8S+NQlWBPa8wckNBMDG-i4J3fRsc6JAmzjLu84uCeVGQm0Brwsw4jlLlL4YTZ4YE2wABO76zD2QrQgTI-GeHwpFoQSH0T6CLAZhWJawcSc73YHwj+JmIyoZ+JU48SqJPQjGABIIwj0BIQkeWhPBCGWwAADPwR6jxBjwRWIycKzLBh9KAX8RVHZJUAkB1O4kdFsZPcnCgRiPAAEVWi8mxQfJjATRptmsmEDK+SgZfkFKlaOTZgro1VME1upc9YpPrNsE5MJZt8LhPUSwDXEikP0nAGUYKEZM3j487JcUjKbMF4LLFbJ4eeyckxuROSY+kwHqIoLZDHgZAvofjmCSoyQDmOyUJkAl36C1S2+ZAtKSK3incIoQzAxVoNPYGqp2pjgTqdIF9DEFj2OonupYA6ldTccy7ZKIjCfZK9MBS0lab6C8n1inhogRqLCCcBitUBSPaBvX0jHK94kp03aXoSB6U9IBw3ClFWSZHgj6+j9VgVzAbg+5RAGAwQfrGgGDlYB8AlvogIzA-DlGmIyGWwIZTU9hxX8BoLgOxYUj8oqPdIO9NWmKAURQUHGQIINJCNcecsKjMhz5FBkTU205abtOILcRXGxM30FgT879h0g+MzUAdw3JaFMCzMs6fqztECi+g6gGkMn0P58lMRKXaMR8OkQIDp+Pw5fv8MmDCw4BNVUZkONp6a9uYxAXoniNjGkzVZtAhGUMnNH+B7SqM0Yv2W+nLBJiHMfGngDbgeyIw7whAfDM75qzhCdszWb1KrQ6zjU23Q3iQBNkGi5+Nssme0HNlWz2eQjDnpYQOmgjP4gMlGYHJzGRxGBjEeYDdPCQ9A1gdsjWXqR5TuzPZwcvzNaPpG2iSEQgiUtXMwjr9M5wJACc+2tyRyDips9XqoHh7XcFZALMkV42LEMi-2tcksQbw9Auc5AzIgeRK10JcjCBmecrKMXCiSy+Q5BB4Mn37m3VB5qcyUdyOdmqBKu-IzxLYUFHSyd54eTPIPL3kKyYqYAD2W3GXkRF+5RgLVHKOlFtY-G3cnCAaLVGZD8aaotrJtOSD-ze5eRUtsAszFFBS2YCm2X8UtHgNJ5VIqcU4C8l3x0cQrb-IFjqzo40WRkr8h1loCLAgJtIC6d3wtoXSB8QU+fFQsMH9AX4uOaDLQolZQtpAnU2oKKlty+NwGFtNhaVIaGWkHaRYOqUoC8mhjmWyqFSWVFADZjjCis-iIsAjwSLLYeU5Qm3yKlrALpKiZ6pAvjHBslIkC5MTIsTHgLYZiJChQ8nyEZgLplilIIotX5GlDFs4ISCJHJE2jp5eA1YeAxtj71mWJU+qfPlUX+iHFqCSsVYCdHHC3FBYjeIeJEg4THAt43cAABkuar44Ui-EslS4rAmkryaKAsVDzXFwE6nqBLgl+NIJ5SyVIUr4mpoXmaE1MEZNFAD4mlEi1pd32SWpKMl4AYicOCglsQ6l1EgFkJLrqh1+wtE44fRLnElZmJ5ou-EZPYlNCnwlQqZUsPmIXtFl4eZZUsMxZ2iPawynSapJemYChJEw0ScpC8mtwgkHtUkFgqkXKT-xakx+BpLjEtL6leku0Q8FiD1S-mNLYUI7WOXyKZyewwSU0OEnyBLlRQMkUtGShjKSwqgrYRMqUi8wE2ME+gACp+ayLnllhHUdUMOUfKUxcivSZDVBXnCJZL0BQIEsBVYrIu5KpQWVOepagAa4kbsYxzpVDJtwASv5j70wEYz9ZVcFlVxBBE-KAKNKn5nSvFFNjsgyRBRYIAvzxRRQxLBlbKowWkSKQSXGUUwu6KGj1xLjZFIWHP5riElSdKNEOCDzUcMV0-ECVMkom0BN4lPECUl3km-SUgUiFceJBmWMSSsrqnrlIkwbrgZ08kmVTr3OLrLmx7nHcPJN2VKC+VUNe6C1xYkYrY12QMvP2CWYYrdA1QwNXlOHAhrZh9AqGcIINKAZPSFHSwBIptXlLgln0pcdGMTGWwYQ5C8jHoq1m-cNV5ILVcCrdVbxoxnq+wOUoYk4QmJPa-1c9VzUzogpswk2o5AjUDCo12y0QKmpYDxqAgqgRNYuq8krr010PVKUZOzU+VJ1WgKtYWrvZi9DSL7H8LMCGV2Sg8Wk7sK6vmGYKjJdqn8Q6vXl4CuOWC11S8y47yS31mEh1Zo3-UYrANqwTeBasrUhqkBtqv1W8JD7SB0V9q+gJbGSV4S7xD458X0smDobrxmGwiVkszUobD1rcZoMhvfX0ANxDcbcBUHY5lrOON6iRbWsg0Vqskdk2DTWrbUdiRI5GjpWhrPEpL0lmS-mN0uE1Eb919faoXxsKXUaq0tG8oPRsvLg46yMIT6iPAVa+l0ZRgkaCwy4m+w1NRETTbvnWmjQ6FOCA6OpqEDCdNoo-VdLppfwqa+6cwBwFZqLjGbn1zChHA5s0ZPZOKbm2MrZuoXLofNYwvaD9hc10AAtNmszd3z4F6bJ08QR4A6DYj-KHNwW5TKFqvXSDiAn1agMVMM3WbpVhazzRwUs0abCtFAezjc1VUsAXmam-Lboos2Vb8ELWrWJEh5VBKnsLWi-NFo1Ii98atW24huoarQshinWwFY-loB5aMohfIDK5sa3MJXNREMaENtK11l-NGmzbdZolZ+KFmuQ4UBsMKHqC7Ej8CbZKr83LahAS2qLStqGRDb2enlHyv5sW0RbttVWm7X1se3QIhtm6EbfMThblRztZNJ4Qttm25LEtogZLc2CAjFawVoyiFRcqbivLhyUVLAANuSALDhoVKtkP8qS0paJVSoSto4ulBRKKO1YjZZYSfoY7woZOmJZTvULo7Ge6QKlN9veIGFC1sSf7a6moCosdwwOnNPjoUBzb4C5EzBi-1AFGl8kN-MehPXCA51Ngdomdly0mSw7yBoa2WIqUR0iTkd0oWFfpApALB7oSgS3rrSoArR4S2zLWOQJJ2-55+xlVHkB3EAZi4FFUHDtVDhGPTPe2xJnRju3DK7B2gBBtv5zp0U7mxh8kZqzv0hDaudia-3QHTVYq7vY42nHYTpzQB652yPfglImZAut+K6gy2AAE5XwPUfPTxVDWkwAB82riuoNDV-k3Ad8AeJr0p4QkN4QPR2YxDsABEzJmvAIGXqVC3Nbm5UNACPrXXUQL1-YfvdSyHBFrtg-euva4ERRCS1MQyOwHeHKyCzJB8+oSYvpkK6Bc9kWgSpdJkDcLeF8cyuJarh3nDSRHOpobHtG1cKeKZ+1bEDtT28rAIj+nhWaltwi7vym7e4ITqghjN7oiyYUE0AeBU1lFIkLUJbBTa1BnWrrflriwygjav6z4fZe2sggIRGA4B0mp43EjbgHgqRRFpryn3bhbwd4BdgouZaDrUDXZaygnQjBT6mWtKrUF5GLVkIJBP3SCCGoo5UciwN6uxGwc17fq71RAgDaBpQ0M5fms+sCIxGwO4H6o+B5bPSK0B3oYZ5gMgxQeajySsIgh6qdodvDtQODJgLgyYbAFaHDD1BwFRFHiUMBDDRhgQdvuOHwqIV0Ki0Z2TR3BIWDkq40abqvTP8lAWocUdmud0EAfKhgJVstGpX-Lgj9o7FFWIr2eiEMpaj8aOW0R0BjwiKFA-dCZXRiYD4kOAwgYXbc8qWORkSIMXQNFqhygoCxMDqJZMMHR0SsPQMOSMBTHcOOXQtVuxY86YxKnBNKyMkAWMhG6QHw0qH8NP8VocRjWiPmt127wjrcSI3aKAlshbV2qgcbqpNXDb-9Tgf5bczTGKA4FAAHSwA-rEV6kPg-gCDx6NWdhlcatxAMhD6dwCh8gjB1fALtAD+xnjocczEnGzjhcs1JRyuOnNueqqQgIsiGSRcIi4J0AAAC8Dm5gE48kDrqAn2Q1x+Y5F3hMPGbITx7cC8c1DuoOe3UdI-QCyObh9j5xtiJcfRMRVNmWFIY6HiGKkAhiMLVCLczPh4APjexlE9SZBO0nJWQxBoEyZZOYtcT7UIAA')">function use_index(pat) {
    return is_string(head(pat));
}
</pre></div></div></td></tr></table>
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.78" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.78">Exercise 4.78 </a></b> 
  
      What is the purpose of the
      
	<span style="color:green"><kbd>let</kbd> bindings</span>
	<span style="color:blue">constant declarations</span>
      
      in the
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green"><kbd>add-assertion!</kbd></span>
	<span style="color:blue"><kbd>add_assertion</kbd>
	</span>
      
      and
      
	<span style="color:green"><kbd>add-rule!</kbd>?</span>
	<span style="color:blue"><kbd>add_rule</kbd>?</span>
      
      What would be wrong with the following implementation of
      
	<span style="color:green"><kbd>add-assertion!</kbd>?</span>
	<span style="color:blue"><kbd>add_assertion</kbd>?
	</span>
      
      Hint: Recall the definition of the infinite stream of ones in
      section&nbsp;<REF NAME="sec:infinite-streams"><a class="superscript" id="4.4.4-sec-link-3.5.2" href="./3.5.2.html">3.5.2</a></REF>:
      
	<span style="color:green">
	  <kbd>(define ones (cons-stream 1 ones))</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>const ones = pair(1, () => ones);</kbd>.
	</span>
	
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (set! THE-ASSERTIONS
        (cons-stream assertion THE-ASSERTIONS))
  'ok)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNBiQuFE3NFEEtAoLJcgUQh6GIOhKF4mJAvdVJ0gUFgyH0CappqWbwlAAAfPbFNFD5SGqMQNsULaZrmmIDqO1IWDkjghAuybpp2-bDpfZaMnGy73pu2I7u+sUPzVKVNoBp1zia8wRpcxsUOIV6ro+iJCgC-i3Uh7bKHCgbkyW+4xAkYQGFnMEPgUSgdj6Yn5ovBI3VFBCjEoanwgAMk53p+kGKmbuEoFKDp5gxHxrBYeSZbyAUZGceuhnFtFMXSfJ0EUYBiy6Fl4hCphy4WMMXxVvwRt8BkNJdc13Glaxlw5n0CMFZ26GCZYxLiAYc1qDEOg5dmtnTroMRuGIAAPQhAjcZw7aZtENfBH2-YDrTuBOs6w8j6PDFj-GpaJ5P-eum3FaLBb7aJ1XanVucXZp0Si9T-XJcNtym+uhhjdNv63tt8vGYEx2I2HutS9d-kDcG8wO9mhgkYYCOo+IGP6HHm7iMW0fbWd-7bcn92htSCplDYchKrXgW44ElXyBJmuKbZ6mLJLIQQJPs+L7oeFPvu4m1cfgLCyeZToOgYB-c+2Vv7hDulPQmECv5dxNo9MC7MN7LC3nzJ2Y9t6oI5pMN2BcEFQPnlRRe2cV650vmg+amCRgRkwjQg+rdp7S3JrLFgwhyDkOXqvOgT90GxGVqkauZNAFoIsmfVaXCeE52cC3AuUjOHcMXBQOWo1DACNoZXG42Ju4oIYBbK2ctuC4K0QfRRHCZGPWEL4LR5c6GDAYWPK+zCC6ikCl3ZgWhU72L-MI-+D8NZANEp4j4VBiDN0IW3cwnil5yOoRzBxlczGuIlu41Ibw2Kok6H4zG8cq53wAcEiRoksnUByY2eJlD5EwK+v6W+98xElOfmU+g2TnA-HCT466CiYkuHKZUhgy82Lci0HkoRlcKYMECDIAR3A8TRNYSodpFTOmNkpG0Asgcr7JIKdM2Z8zQCknzv0lZIg1n0B+J0UaOsaA5mRrs-xUzQQzMqEcnQbsWGE2OlsmayhHk0L2TfERRSglzhCeCYw7R-l6yWYTT2Xc-mOEBdTMIwK3SPyhcigF4J05oLCKc5Z0LtkAq8RE1OminmxAwSkrBjD8FEsJlUUgHxyU9J2QS7RBTHYC0JWcb5LFo4gW6ZE66VKuUYpcAyyg-K4EsVFJEzQuISWwoEei55BTRTpEyOq+FCrUhnzZaK3xfLuUgrSL9bBD4uVfIyQwdgHgvATMmVq0FTTa6U1KeCR1ygvB9OWb6rwDr8C2JdRXHl9KXFMPSWc0UGhCAgjGc4cNATRGeqOUnQgibqDJvoAG5l-TZE1MSYIiNQ8o02sZQKgu58xDFr4RKpJmqK30LHjKghsblmihAfoJe19mbuuKXOJeFligt0FUfBg1QKjhwdPoDiA62EZxDkMLBi66lE17Y7DdXafkfnDgwIkFsF1UAZuebojId1nr8gE3t3RwilHBOO0AzRuh7pYulLxgRZY4jZN0UkA9zwtSBOlP9mZfAnPyRazs-NH2gB1WwV91IP1TtIBkQFFKy6b0ro04dXqsOzQsuhjgBaWJvFPrwKh-CSOFhw5GtttpaMWLObRkNYbmMDwCYh61WQIzMcmCGUoWLOj2XIL4ER6G4UhmaGY-jGHO0CsneYD4wQvbmjTFVao06D36A05pWOA9XyihnRHed+nUS-hDBevwjJTOHuPXMizedrPFRUIkQIc9nM5ROv0IShkVhft87+7oFlvN0HcsFhQhUYL8BxGFtwmn6CRcoD+6LaF-Ss3C9wJ4gIAB87nSCeZAuF79fnnx4WPERck5x5VuVU4EGZGGdM6dndkBTQG3McVuYyCj65qPtebH5YzqR7Pzu62QOgVmVg2d8HZg9R6swnom0kQ8DRzzKA853NjUXAQBemEF1Lfn4uhIwyltLMXpilRO+CWj52-N4sMqzWjOXwgAgK5tor23mtRYq4xKrA9auH3MFRr29nT1lvLYO79Z010jF3UpjgAgAAqAAJAAogwAAguAcA6OABKyPIAAHkAByyAgSIZOMplwMhJBqG9olgzRoIe3O4HIXWS6yjGFaxHVnk2-RFFKF++zNdwuaJW1NmT4gBydEbOLpln7ZeZEZxpVEmiudo8xzjvHhOSfk8V25EXB6xdM-V-z1bXHK6HbS2+BbjmLdTYS2r5w93ZYTrwFLFqchFAQBgPAJAqA0C9TxMDlwxAUIRPXmHOgOZzXQ-hmNdeguZKJ5+EjZP0lmjautvXFPQvZLyUIEgnupD1yPOQWbQxlsdZy2TzHuPWeibENRJn-0pQI8-Bbym+uDf8+rELjHFOJc8-SQ72uVXvti6B17y0WP-fYjZ8yasypbeDTj5+IM9Z0e5+N-9Ev9h0juHVL4WvgMglbheyljOKxKjIHqLIJovPGWdINCUdY0Ndjn+74X2GImqqUUz9pgN9GwACAUjAcUvYTVxV68f8m9RQg0gCZJO9GxEDZ8Zo98DQD8wlvExUZ895FYx8WgJ8cDCMwR0D594DUgE0k0oEkCC8aC7EUCOhxkpYG0Btv8MDrAX9txpkjEkZNE612DmpYCuDf9kMTJggd8rIbI7JHJqRfBZpyBw4PIvJmCIkJ1a1s02A7FkRuA60NVlgRthlToFA1kHkGBr9kRpsihFpGCTDqAzD7kr9+l9A9DBBSAxB+VYh8JCJ3RhQ3xl83pyhLDXDrCGYYhzxo4Mgyp1DWCi0bFdCHBuD9t0II4tARBF5Y84J6BfFUjX9Goi1VFdYNE3DkieCCj-QDCKjKiVg2CMCcjp8wRwi1tXULVPEM9oi2A5oAtSgOiyE3gMiwQuieiJxmhYMaJfCTwFRJDpx3CZDbIHJaczlKBfASBVDBBtDfBLt-IIpFFXl+CqJNEl5DA+8B5B43RdE9NPD8tiD8wo860+8s5CA5Uw87iNkV9t8KC48rc3UmB0MRYmDI9xkt8rlGwRlc0o9OD59xDdJ3iWD5ZPiwSGBNkYV8C+5FY+9FJjJgTESLkhkblJtXIHlRD59UNzAUCkU0TwC+UzjiJjClVViqTSVUVZUbCXRK4JiasAdjCjURVcDTVbVzi+ICk4jkYWVjUBSS4zVOAuC-IpjqsZs3MJT+TqYy8CxGRDIxS3C4JJSyC9VZSySQxjD+jy8dTWVVSQIkZ2SDRFoVSvE1SkY-J4wAdiIVhFpKSwDkZ8jhV2U8DZUDS5SQwGIgcadgQDjLYHAi4pRa8V4ucriGBbioQoyh91Q4RuBYzXiwzDBuRGB8B+BwETBP4oEn8CC0ZyRjCvTk8IjYhgMCVGQvS-TKVk9nS2jodGSVVIC9VUjShENUi1hs0Zp+ZczDECzu8Wd7ToDOU0VNx8igIRz8z34izIFzc5zQxEUqzfSpyAyzVFMXSCJpj3TcNj5lyv56DU8NZxzGB9EzZqzDJmgqcaslMC5KS0CyyG4uDOt3gBBEjGQg12Mv93zWjzw9wQNqQFyxzTySz9BEjgK3MUzc4-ZagwK+DIydZUypRQLWiPTcSYLP8s4MiyYGj5AmiZwGxTi1zaiGgEKp9kLuBKKqLCgxDyTw8SD7YmyR93y6ToNLjL83l451TvToJtS4kKFT9oS487UzlKTZ5yCuKf8vyqQkZGRtTZLBLhC14JLWii4S8DEM81Kbze5UY5pKJy8+9b1K4nTnzpKJ8ryd9PziIdLDLBL9ArzdLbzn8QxtS3KF4T8OCgKnivKjSIpPd+lvc2o-dOpA8epLA3iVYpN9Bw4ucECnp+h+EkrQBFJSgVChZ2QpNMrQxjIispDw4LJHozY0qWhI4TAtBhAAgTBiBqAHlhBGhNCzlEVr9iiH9WVuBEjuLChFosVIYQipZHt0IurJBH9er8Kf9DdzBRRhrMirDkqh1wVmiX5-oRr+kyM3I2CJrSiZAucDl3kZAFl9VdqEjP83CjrXlDlTrjlzrzB6jsiSLfFDrfiBJjq5l7rPkWKL87hTSCwLpZpsMeKE45xbt2KkY8VzkhjHq2FAbkZrSProd01H4kZiMoaqIdrYksby8UT6Ahj9Bkb6NW0nEx5rSpLll-kvhc4Q4sicxGjfEHKwb7wsggy6snrdSQIOc68WaBq6URgOawyab8AecWBdC1EuAFL0YaUBaClWZebpbhbzwRYvYOyGambrpGRHywyOqpajBK9dRTKCxDD5aBJWZDLTjcwjj4bWpdZ3LdQ3CpbngMZza3RHYla7albBLNEvbIg3a2zpUx4va-r0ihzNbXrpSjbra1xraWB1h1b58Ua0QZoxARZDae50VcqOAQ4M647YTShWZ9brYrbTKwherE6GbYTmhc707VBM6UF0UAAeYENO-OzoJYCcDvYq6ccEZHOSC-OgObOtXgSlakLEHNWoZocEUAAAagKsqJXTECFDsStvCAXphtnoXoYupFSzOlXuJs7sEzGJaF7ohAHvwEamIHsg8LEDHvFQnu0OoGntEnnsXoKOXsPvXvfq3vft3q-pkDsQLqpsJnymL2coz0Mv6sTGktj3JjkmxH5umALhzJejLptt1BrI5L+J43Xsoo73gfRGxF3piFFrpvrWItyJLjEMouaEMpUiBF5RjthPb15hGALt3vodzN40brNgrrZqPqwdaPjGNICIwMYfZDpg1qoaaOwaKFmL4bYAsmskenKAQ11h2KKAVOFPW2VKlsZHtKVr7SNL7EWjQf4R9qtuds5xqJ0h9oEJsblj+1EdcaDt3wQaIBMbjz+qcqNpcugcwZgZiBfKIcQe8fkdQZ4YwYLt0dsOPMtV1XwfQkIZzE8ZIcqPIbOkjuocDlofQnoaNskeYaztYZklIkdjjtMrKaUgsd4fXutFtBAdbMqzEYMAkdyrVsXkmiZNkdTnkaYvPsCZkLUZEA0blg2Nkq0f3L8LdOLH0d1kMe5ssINqDLMcrjqasZjqcb5DsfQgcaOJ2ZcZ8KfPdvDzCa8eFoai91al9w6gD26mDwwDitSCjkcPMJcNYTKKmylUKQ9UfnmLeacKarhTmpcCBY+enUmg4FTjoOsN+bMXCIlnPAhecNCNYRQo1mdCxTmBhtiDmAnBSOmCxQ5DxZiA5EJZqKxQQjJcnDgkpexcTgplpYpgZeJcTm1V+hhs5cyH9CJbf0TmCkTXExhqFbPjmwNH5aKCxVmLJdmL7ClcKCxRuBFm9hYEMDxRVdUDVZahWEVdiCxTntpdiESu4F8DewKxUIXolf1ZiCxXcmNZiFNdAHNduJUK8htapcTnTOmGdddfe1ABUMhBdZiFtfDIhuAEdYMFKpdYtcDdADAE9cZYhoAFIo2-W42VCU2Q3QAw2sUhZjWM23XJHzWvWIaABCYSQtmN-1y10AStoEUt5NsEcEZu9NmtzN0AVumIJt9liG5ugER1otgNlQgdntvNxOPLdts1ztgrcdstltvLQd7gIoYdutpd+d5tiEctqN+NwoANmIct2IJK50J0FF0wyFtgq2vbFYK4uYbgVFkF9F5Mflc995tFtg-AFgAAKxqpAxDCuORFuOpYvecJhsReSNnL7EfYsK9ydCKm-J4FA6fdflmkxbnCxVgxhtgzDcYoNcTkgDoDVAqW2JXcI+I9WNw7w-DZba1YYFgEgDJbo4Y6o7w+VaoG1fR1pbo-R1Y8YqxVJ3IFJyjcE9JxqdfzPa62Q4sNQ5FRjpvemEA9uM9u4KQ-fZQ+Kjflfak-U5k807ngEIU4aCU4DcRc3DU+Bb0+-K0-g60MTVxBg8+eTG+f0M8Ipi53sO03FFIB0Oye-fIDzBzNOk0H0HyMc6hcTX9LhfKPyLrXc6OCKGsuJX4mLz6ZLi53DsyLS8DlSITSHIXWk6c9igwdIfC9k8dorty8HJEAK906K6qi-d-dMGttK8K4Jus4M9tr2YaC6ZkZetybmgliRyka9jEC+ATqqX66aIbJS5ydIvg9Coxdufan9y6iD0wDeMGIoFMAYBhQ+CqhuFIGdRAWoCfBTqJhWjWmnDMRO6fBPuAPYfJp3gpvPlO7+AIV-oYG3r3uDhXqAbhye6yFu-e-u6Mke94eB+wjBZWQUBuCRWKNqqDjOjNvcfIGUE2wUAyCjyMH0PR7jZagXr03R8kfBFnqfVnpnosnfrR+UD49DFJ-xV+9eILgcFUWMCR5Dlc68K59BjZ7o3-FZuXt-ohHfomjh+MAR6lCuKENZ-PmMC54mF-usHBGh9l9ZS9lGgUGuLEBWsSayDrQXyfUQ20mmAP0fgN9AG5mkkCL194YN83TMXt-rdUnHUN4MEdgt9yufRN-X1hu25Aj29ikO+dQN+xPbG9mfrzX4Qt6t4nBzzr3qLEoG3t8LtEhF4XrV55014B+18EM8I+53onFnu++cqMVjO+eTA0uj-z43o-v9GL-fsz417IC18d88Lz514L4C3hB95WHGLoD57ylBBhseLKAH7l+b9IB4gXwPyy3z6EzH8H-BBpe4Efg9-z8af15r+4Cb6YBb5n--33tXVD-P3BAAHJvu61f6L-pdAG7EDfVfx-1fduCxSA7EYU3-deeM5ZVp1pHYP-e21HETCIC3rBAt6dkNOI3DNxb1aM8IUHgXib458ABqnCMMgJ35P8s++-aXIgP-6v9S2gjNAYvwn4v8yA5rP6v50C7KBguVpMhFHA8CUI+0kcXXjQUhKt5+0C-ETJHygQw1E+vCAbP2m65FAriFA9YFQOoCaB1KdAgFG4AV6MDCABCaXPH2RjsDz8WKcdOnH8Zl9rY-aA-kvD+oACkEShQ9FIIYH9ojMAReNFwLYFMCay54K9kUyBAhhS+Nea2LwIST8IdBrZc9vQMSxkwDCjIK4gYONhGCTCPg62gYTkHHM7SRaBhl7xpYL9WYO6eQNIOMB+D2+qnMxCYN8Hex0h8AgfPYJ7gk9mWCQ5IZQjFzt9pcBQlBCTxEFBdxBNA8vL3xKB0s5iMQo2oIMKDCCAuog6gZINKEyC76xxGwQf0VptCe4D7foakJyFeFWiOjYwuXx0HClBqicdQQoVLxaC+aNg+Uq6QVAelI48pJLoTFWIkBIh53FmEuBUEPdHYlwsHoo1HSiRrIixeQn5TcjHDQWNaM5IMRgJmDSa0OVmDcILwRgARA+O4ZHBUayEliVVPgW5C+Foc2qyyUrJQHwAOp1MwgCoIMB+Gs03hpwr3hZhV4fCERaI1XElkYCJFThvwh2FglhEBlPBhwj2HxRYAzpYckPaWiTVZqswWRJtaiASMJiMiLk9NFkTBSZEhwucjsPkWxBFHQ9xR2TDPNKJFHncIwconXlKOFH1ptMxjTkfbWcbncqwngTUaHR5EsRMugwTURjS1F0Z2RS4RFEqKPqgIIImDVCOaNAYKoOuNAKPPcKVroDRmZMEBAwHUAiAOApABmAXFyCEAmCTAuJsYV7SLC5mejRDkqL-KqiWsxjD0S7RabxM-isGIUfyJ14EMx+3o0hKQD9FCBhAgYuQezhdp0MVkYY7MRKPrSyjVRxzSrAeX+DGF-hNguJmcxaEXQax1wmwdwFDF2IgRww9MTo1jEZiBIeg4Mqc3caDjIhf1KLBHxICZEKg4rLsGyFXHiYa4hgQDBSIu5WpDAiyBfpuN8DbjiQTwaXIkKwSHi6eJrfHkdllhLiI6J4rsA+IUBkQbxHQ6jg0BfFkwdxLGbtCDR879ALCv4owBuIIhbi-xu41mjyzAhHjz8v4ruOeJGFLheUiyL8U6zjbVBRoz0UCZBNPGDAkJO4p4JhNDC5YA2i4zCIsjcRnJFxMgM+OzA0AudqQXOBiVQAyJlZf0i4wDg4HTgATmUjEziVFiDjlYzhP0JJm+Ld59k++7oICXhK9hgTDIvKKSR0IokFZ2JlAYSW+NEmPjGEaWRTHsWkrhxCK06S2JSFBAlxNRXCBuP7WIjngExQIJUcmINr6i0xsEjsGDC9C1izoqfY0baLe4cBuANkisZzjD6S4GAKrLiM5IbE5jVOIUp0X9QilRSG6HEYKVQFCnai9xStEnjIDrC1BZ6C-cEHlL2AFTpcWyXJGlNYhno6+zQnKTEEUGpBe0i6WqbEA7wmSI6QodrrnA+AlwqpCUr2o1OGRLgWp3MImKzBslu9kpVALiBGEXRkSDQEYSaQtJggcTJskUmaQ3WvQmVSG6ER2MtN2nQQvaB-YqflOED4ijJxKM6Ejh8w6SMqe41mDG3UkIZfozomEX0D9TexGA4WPTGbmcDcADBVUgwXZPJDngUpbyGkN0UZDTTOIDdQGRlKZAkj6K34icMDPcldjwZIxXKWdKaFtSXpmQW-tdMkC3TbcmMleDETelc1Mi4uR3JlItFdj6JjEq4vthslj18sc5NQCYGDRCBiRzOfhKzPMiTgtJk2OmbeOvqwzeZ5uSXKLK+TDc2MuQBwKNEZAAAGanAXBqD2QmsHAJcbQVijUBBgSsZrArKAmMh5Z+ZE2QvTxAWUCkZsxWWQGh6IoNZhYwKUjVe6jg4gzWFgVH2nS+hzurMb3g+yXBsYvZJCfWZvwCl3dKZLgTzA7RZGjYaMHWeyW5mDlWCtMpoBDDfS1nqZU5OUfWSlHJAFwjsXsMTGwGdSYijyfxaMRGMMilBHZmcwUfcJTk5pvZ+s1hrPwuFMCa53YouQwBLnOo+x8gsWUUB7l9zeGOgtuVCIOFdiR5nQZ1Mxj+oVBlxoQQxB4LBE207RQUp0QPELmBBi5s8vtPIyjHnwD5AzWIK+AqlA83Z9ox0J2JFICRUsBYdMTM0PLQQHJiYnMS5O0Giyn5d86HFmJYDidz8eUwiLtPDC7ze5+8mKVRBgpNjtGWAf8GOMMgBJ-h4QfIqUBnmlyc+N8g6HlWIB7zMFQIvIYVUaid1iAo4mcVDmlTgLR5-aMOh1MyJdSpoMcP4BHPtFrhRZilH8qqPfl1jP5deNyZzmGwBEExDbMfhUHBi+zxxi0BwKvQ2mwyfJAo6BUqNU6HTCg7CxKXXzmEWCmpx8tcL+Cop4BIQRi1zPGO4VOSkx6o1yZ0G-khhFoIikSLBi7kyKgGciriJyNUWgAoFZpZRZBH-BQRBpfYYyPQpNFXzN56ig0c-NbEBFF5Q5VIGvHUUCLnGrtQxcYorkCRTppU86dsJbFxM9hhFVhWEusWJSnyl0wmM4txApSF0C4O8CDK7E5SveJUjgOdKKmNKypski+VUofakgF+StIac1MWStSYg7U0yYwrFq5wWFhAapaLL6XHzCAgGBfsaLMnDIxl1ACZXeEmUcKE2YAIxZCCGmsxJlXMHmOcLggLpul5+cpa4obpzSMJpDOaaSBWlFALllSndDcpRnTAd09yjxXURdonTWlWSuke3C2Lews5g2aWvDOFlJAAZeAlZpzk4UqBnojAWjKbJmixzQlK8HTKCrgqIcLlWMxwROCeWbT9A4KtnKor6xUYe8CKrOUPP9BozBFrNHFeTKhkNKcZC-GSab3hIRISBb-UFQBQ2iUrmMC0ihjdOvI6SGVkMuaLLMkCgAtcDAfHJZAAAy6OCnPjLYBqyzkdOCWbRglxrTIVW8vcaDl5zhxHcbvY3LOhrharjV0uL9HLizka5oe1qlXBas1wY5ZVCqpVfaoHCi4yYFqyXFzkXF5cau+2G3MdnsyLZcQy2HVU7lUW3YzsUWeEJhODW-oA5p2DgG7miy0SERQKn1ZGo4V7jGZVAZmduCRUBs5y9hbhLRlBWByIVdAUWZhI1UM5s11amWQuMcKRcuV7-aFdLPNFcSeI53fNUxIyYoMDGJavsP6uq5kwlJ+zGdJLJELEqRZTohac9PsIWq51uq46XYysZSSw6uJdtUSrwF0ye156NzK0CA6gZJATsNYsjEIHggxS7arRgEizEnrkiWVakK2u1kAC91pAg9b9jD5Pr+E1IzRIQM3UGTfGRItjMEBnVrxwsuvCtdBsGVwkBg3qjDL9Jdz0AD+iGyDdHz+loboeGGn6XBuIgNZ1M2GxgNpnBzQa-IUUNgH4JI1gUZVOuAnETjJzgA-I9G3HIxv1zKqssJG17LcTNg0bUN7wbCpXHBAYgLpYZDDRWs4yEakRjWNjGRt0zzzQZbmfjbasZAyq5ViqljeSA01uquNQcjDLxoDaqatVwmgpKJv9R-VFUPTXEG8G-auETiX-K1I5uh72k7NhsOQSj0oXg8XNhotyL6Xc0oghhLxLnMOJC3Q9rNyqcBCkHs1fNHN4k23r5s5q05lmwUWLaYE82iisESWsMr6TS2GxgtXmi4sHVtA5b1ZxAMQBEjJgfr4te4geVmRDH0Bv2+AaoMDXS2ypv1UkhLRrUC3OdetbJHpVLR7XS47NLWmjCvBAj9bSydAdrZV1fy3qP1bmprR5qm0pFcIVFYDeVi+TXYk4IAiyAtrwEw1Rt1QWzmcjS1jbXKMWgrZ1oMndabN0WwwO1pTT5agt0k36IoPkkgTFJBEqUPtgO2kDzSbKF7RluB1skbt5WSCA0GennbWteWq7UFsu2PaCta2yopttlgHwdtYA-bTuoAGisYtY207cshqCVbxk1Rbtb9j7VvjLCTM5iftnqV5Z4FBoOCX2hx14D9AxOqrbuoMLUroIQq4mSKttzHTbA62gvHzqREC7jsg0vxchkQyQ6igaOniPjB20QCt6-2t-jDQ51aBCdhMCOCYH4DKCIxe47UvcK6Zjcv2PwbLoNwBXmBahYgiQfpXb7g70dRYcxlTs0mFr-Q9OxSLrs2zjJ1IzAWaKd3GS711+MwumQ8pNY5h2cFrXaYoyj3wbaiCxOQuCyoDryNi29eBdLsKDghbdvQ6GgoNDClAxdJMyXZWOIWy7FICut2Dttz31DBKqu1naQJhq177dVEeDmDOUIPbhWc2IEAAE4TgRCdiOKx7VGBgxZ2ofeJh7XTpRobMDMofO0W28PgNpSJf4QMAuBcqys0+TEDFbiZ9AZ-M-hZDQBH7pmPhHYX2B312IVJsCwoBfqn0VJ1oVE6NKpxcBeRFk5Ctxtvon0qoqd9+6cNbRuCHoL9UcwQGwDEwSZ-iQNKfGpid29rspQ2qLErrixJxQD4mSTAWAb33EtAd6-QigfAMPzuRYZLIakA-XVBSoq4MgI9FziUc4VrQRkEEMULMBjBkw09OrztylRf6RwOAUIoMAPJSAlBkjs7yBBQpSps0H+OOIv0QhPIXkIg6AAAFyT2DqhB1giHg0SHd+H61oMcH+w5KIgDEV8IiORFrRvYaIqUBofkaSbmsEG-DUSNKxkjTD6Y18Lwf4OrFBDokXOLnS0hb7WIX+yQ1Ia8jhZBAxh0QL4c8i+QtDszEMmfumASHwQwRryHIZGItRYjSh9MbfpEmGQeJtO-ZsOoZ2VE1DbOw6f7rfhB6r14eng9HtuKSUFpau9-unCJni6R9iGAhLMOt0paLSX0wwPZHWikH+AR6xDrQaBD0GQhRBlg+z26MCBN6nBv7HYKlpgVqjRK2oyHGFUNHXpZmi1DxiVpd0Hu4IOyBflhlnRqpzAKSP+H7589d1hRwPVHlaCmIsEGx1TsTXKMBtJKoGgTSSJQ0kiGYRGzDS1nI0kbWibG3XExvJzQylw2WAwHG3+McbmNqxt0BZvE1YAiDu6s-hZn0AoyAAOlgFg3jqmAyImQMEC16y6XWM7OUNBAP2iRHDYtd4QiY-VImzcKJ78eicxNLzsTlhPE6ehOW8BVwqnHoKzA5OgAAAXuZ1ADomigAasmEiJZNT97jhJ-kx91fyknwQ5J4wIVCgiSxlmQgDo+tCRNYnxTuJyUzW1X6JxyAW9FgFvWUBb1zpkwM-k6DwBUm2dWppkzqdZP6maOEII02VVNPmm4B8p3yEAA')">function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    THE_ASSERTIONS = pair(assertion, () => THE_ASSERTIONS);
    return "ok";
}
</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_1_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_1_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

    

  

  
      <div class='permalink'>
        <a name='sec4.4.4.6' class='permalink'></a><h1>
    4.4.4.6&nbsp;&nbsp;&nbsp;Stream Operations</h1></div>
    
    
    
    <div class='permalink'>
<a name='p45' class='permalink'></a><p>
      The query system uses a few stream operations that were not presented
      in chapter&nbsp;3.
    </p></div>

    <div class='permalink'>
<a name='p46' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Stream-append-delayed</kbd></span>
	<span style="color:blue">The functions
	<kbd>stream_append_delayed</kbd></span>
      
      and
      
	<span style="color:green"><kbd>interleave-delayed</kbd></span>
	<span style="color:blue"><kbd>interleave_delayed</kbd>
	</span>
      
      are just like
      
	<span style="color:green"><kbd>stream\?append</kbd></span>
	<span style="color:blue"><kbd>stream_append</kbd>
	</span>
      
      and
      <kbd>interleave</kbd>
      (section&nbsp;<REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>),
      except that they take a delayed argument (like the
      <kbd>integral</kbd>
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      in section&nbsp;<REF NAME="sec:streams-and-delayed-evaluation"><a class="superscript" id="4.4.4-sec-link-3.5.4" href="./3.5.4.html">3.5.4</a></REF>).
      This postpones looping in some cases (see
      exercise&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-append-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (stream-append-delayed (stream-cdr s1) delayed-s2))))

(define (interleave-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (interleave-delayed (force delayed-s2)
                           (delay (stream-cdr s1))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6ShyQHrhwo4lpL7dW2lMEK8RrxK3XaG7qUiN1zUE3OScqRLpAkrsCNBYChZi6EsJaXrPdUhrfW3tTbRlFBcbMsKMa7i0m+cwhmli6kjL91QVnoUIpdB59ean5HsVhisXYsKlsDuyeC4p0CfAF6vBN9L8rmqwrlWmUrxZNvxchste72Vgfzk5Kt5hQV02w3p9tdByIaXmltIeXH5Y4cK-dBjY55Ozb2TumeC0JsRfg2z3bjP1EHNMJ4oD+01FHJAdr+O5rZ3xQSyzOe0Gkl2+wANQyf10g-0rT83E04QDnx0nQtFKAeGxRcl8QTCpkgMwmg1rx6iey+WtXQILzsCHWwOEQQOoE1Fkn-BHyaV5UXT835FVTwJyGWW2ikVNQhxwh8W3wSEtipVfDrzsHTxH0EzmTGm9l2wwLsAYM3C9TEO6SHgEKYEFEOWaAshHxAloIGygOXSYNEFnxH0GjUMFA0KuzoMwNXV0LgKjVUk-hQO4KdlAzkLomrzuB6UuE-0L00EeEehEI4V2y9xCC8J8MiGAn0mCGkMUCEOtVkMWXUSGQaFcJckBnSHD2xR8NkKMAAB5Ai0iHpf84jk5vhA9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgJPHcUAAAaj92gTzUeHAnk0cKMA6JzW3HaM6Mcm6N6PyMcW4QLGKiD0UDKIqPwFEGPBqLqOPgaO5xaOGI6MiX8HGPwD6NEIGJ3HKhGN2JgVugTQmJCNc0UNKAqCqBUM5XPy9T2QCAJn0GcDKFmgIO2E9THl8NUNiMcQNm2CVRxwyN2O+E+PuNmnOJeTIEQITTsPcl0gBl2PSC9TEmNQ+36PhOCCHRuPhMxIBLw36NlVXRuKcRSA-G2GFnGGxO911TJCvk4K31RIXnIWiWKMBOkHKn3CaFYlADdWpOSCjjIWSikV0MtlwOENdn7Cmi0TWF0KeKMJyDhnhP8BVPEJbHUNFMjnzkILBC+OoB+JznWWEVGS9UmVeNAEiDeK1NIJhO+OGncK5MdMnSVN5KcIkKDiowhLxOsmhPEBNLhOCTIKQKnC4I5KBHROskxNA0ZO12U0hMcmCE1GHEJPUWBOmOSBJNJTJKOIpPXSpNznMBojdkYgZICPYNZJRM6U3m5JKltIqkFNhGFMFBvDvHbXdW2HFNBKKClJHxlJAXZDlPNIVIbi9JVNkN1OMOeUcm1PkLnPVP1LzgNLMMj2dNNNdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIhbxQi13myFzPQAh3BghvMTyAKjXfIIkcFglLGSV5wfNh3ex104U8kFSkR-NvObyLgsWdUlAzT7RzX8D7SUg1IHCYW3BHRQvMBHXQoXIzWkNwtAGkIIsQqwpLhIpLnIswtv0pRfhzQYr4SlAwpSAzThDoFLEkFqBzU4u4uqIhDYuSAzVmMYFwrEv7GEoCAzWZEeiLAaDoH7jkoegUoYG2Gkv8AzTaJIv8EUBD1AFqENSWivA6MEs0vMAzWvF0vMH0t0CMtbivDvHMsIqwr7l0BSDssMuMtACvDbkMvMAsr33mOABssggMoctEhMtADABcootvwAFIwqvLIroqEqArQAgqM0vddKUqfLPdjUjLXLb8ABCI1XKiK-K0AMq8SIq+KoEbcTI5Kyqxy0AbI8wOquihqzI0SGyvK1qnqjqrKrChaZq+yqqpaIa4qhqhaXqjygIfqqK3y0AWaqa+q+YkqsK5agIJa8wEq-we3SUM+KC68385yWQsSCMATPtXQaCxPWC2eY67eUi06mC5yagBoAAK2jw0SuqbkEFbiItes-LEzAtKiIQXOSDuoQgeuOC2iwBOvwhgsvXWPEmdQzUZUyhzUxp7iCqiREqwsgGIF5lcF4o8qJpJvqjxvxq0qwpUscFgEgFwvpsZupppuCu3HpoAFESLua2aaaM0AA5SQQWsK4WwW3MxyJ6+gESaGtkFGjtUQy67YATCCJaodfAIZOWmre0Y+aW-ibWhWww5WooVW1uaA1vLW4GmGhW+GttVqHCbWjPV8ycEuXfbCP8jMVKRgP8ZEz6yQKQWBPCRmXJAybW-88PQEIChSVBV2vqF8ZIC0z0yKaoaMzpRQXfGw9SNOhMN+D+WETPa2u8ouVU3QTUw27eK9VU-mgIfOr+J2keHoL6n6su-GiumWqu8Qmu-wWsxmNk1yewxIQVcPESU1R4UoBI8LdkzpPeFO+shMM+XAMAD5JgY835U87gTAa3J-dwCgRwc0IcG5ZkRgX0D9SgL9cPXfBihFTcC2s+i+vQ1CCMAksG6De+79IhEY7cRwbY3NS47FCYu+5Yc+j+p+64ZMhXfIz9UB9fOwGIZkImLjGPO+LFCid20gUgeFISFaUmQCDBnyhgDouaDBpM7cYY4IMhgsIYkYyQfByG5SMh3QbohQnqEgEyTUFBhNMiCibhxwNh5YTUECAASCNO6K-vmJGPgdJE1CQbsQE1V34ZFFEG4Zli-oMG3FgdAEUYoLcBYFWkeCvvh04UnH9AoapW3AjEJCYRMc1Q1XzBFhx2gxMaMFRQgdx2cequNW3ECCfGfsgiHRsYCO8Ysfd1AB3toeHAPrbGPt9BMf0nSBFl-B52Ihsa1WTitUGGl2Y3nWccBgoYkY6O0flWFD0YCbsn0c-p2KUmGN-utJ9WtSyeTXIw8aqf7BqZGKKbNRKZgzBqAgqcqeTifBCf9y0eIHYaUG3Cou4d0E6d0bAamELAiLie2GCCKfmOIt0GdTKYMeLOMfIlQhmbGYEeKcYBYH9A1H-pxWWa+B3AAHJf75pBj7nLG-7UGJiTHNHOnzRGAlRvmHLJDCwcccgb6enlM-nu6lIM1tFZghig8hijxyAhi-hhREXyo7pw8nx5nURRnxnQWv5wXdnFACWcXjmunTnzmSWlG8WiX2gfmhloNiWvnaWjLj8o1-bA7SBg6ukohcIQw+lhpKRDGucmjxduwRpTGOaknRXiAc1GnC0BXVAIXG5Zp2W7hOXKBGZbkqQ+X7gVGFWiEXmMmlBxW-GM0fGmGhN6nBhxWKWRpWX4k-mxkLxyReXLR7h9XF5GJS0xdecbWBypTG6sTxIIw6m+hfU5WWM1gbXc4TqdXNQ2IgJLYBNHXzx7QXXtW3Wxo+no30IG5zrEygniK-GIih0M2+lJUgIhkLay37gK27IDXwH825lSGqLi3mBM262KIXmm2OFSHVWg6NXuX2hhnsWIie3mh6GUgBN+31XNXUMa2s3ymbWKWx3A3QNbr23y2E363dZSEGI6ZMh8DBXGzmd9ssLzXc1LWw2j3FXRT+z3T5ZKQBFNM9p6pGoPWAXoIVVNwTWVm3Hf2FmxKFX+TKoTxI9sn+kTUGpVsB8wCLtxWPD3MIiAPsWsDBWXmgORoQPDwwONomm9o4OKYU821a3GA2xyBqBZI2Qg15gv4EOAW33jXBXSHkWyONGvso0aOixSO2x596OjSh1CPRQc23kwBTTIVyOH7br7osJ2yJVyAl7V62BSAHpiw3BQARtIJNQo0RtLdLdfBFC-gQxFBWRag48Fgg9wkhWcd49LPQjQmcbZh4mxAdQPBTPQblMh1bPGArOsWaw3HvOrPk50gjPSATPRAzOTVV1AuZZ7W08WR5UH6M7JFnqHFqNv1LYM0257Rv0+5RS2UyhKhZpTPHAeBdASu2sBzzApE6BCAGgcvw9LZQvwucIyuov100uGvH6yz92RZHPSY6uuvA5Jyq1HOev73JTnrAumv7hjOKvCXav6uH7iERvHd+vAvJbwpHOMT2vOENvxvDT3iS16AUWWvSvyuIvHAgVgT2gT3qvnrFuuuZu6A5vLu2voNOvlu1yaYvWnB+vHuvuqvkgMzqMOuQxwguvJ3pQIjnUSu2uIj5u7TukDnNSAgPvweWghuVuigJv+wpFpvxJmvEe8NBuvueuAgl4+HYQ0omUv4NuT2hHtgQeSelvv0JRGe27v3M8ufEeA4ofoEWesez4Ofyy933SpRmfouLOfObu9Dyf1ycfDuPSo1+L5AVPIi7vT3MI2Agn7iiuR2GEQhCuqg350gdevGMpNQ2OglghLeUWgkA8SoWBsOqo7BxPWEuyovv1eyFfSc7BVfyAVPILnr3ftl0vGvxJNsuuM7XwpF5PLZQ-JPv15i9eqh3UoKZPxJE+blo-tw7e2PF6epNsGgMo4RsUoGQHw9Zfd8Ij36q+keogB8S-DpkC6+lBm+y+DHEO3GO+E0m-S-kScle-sVd9oNh+DHNHx-PaxzrU2-dBLDu-mu5+lD1TNGs6v5l+-8F+AWIji+B-y-N-kf5-1C4v68P0P2jSnyf8sOdwfGrCtMO6tBz7mwb-dDDm2y2IP1HBVPYRw9GBN4eoKgVQA2GY7i9euMwc-n6zAHGJnq4-WRPvynAZQZ+1rSkMf2MLy8-ehYfruP024BhRmH-VoIwG-7Qs-+wHFfnoR25AClQU-IfggOx40k92lPZDseyB6blSKXPKgdSxta6BOBaHW9t9wFh5Ro4fpKtHawjC0lfeWvOBqaRAGKtT+Z4W6CShYDsglgGsf6qRFzS758AqgtSHaEsDZAUGSgxwKrQ0GxcOO8SbQfIF0GYolBhg7INZxfh2CzmfjKlIa0vw+0SUMNeYEsFqB2JkoH2RQfYP57Jclqlg8gNYMCF6MbB2QUHt5n0FnNbiBMTxLYXAg1Y+o4BYBlJ1AAkhQQ2-SYFIjgHiQp+SA3QhXyyGWEVkVGbAXQLCIbQvEZQtntkPkBoD1SznfkOEIxjGC1eeRGgefhwG6AchLQuXknW-JWDOhcldXu0IGHNDyBWg4ckE3wADoe4wxPxtuEWGhplhGHVzpwimFND1UfjaUuYENZOBz+7QowH43X5-k+gfEdIW8F2GDDZhxw5VKqjOG2NFmXPHIRK3aHdYuhgfPItBjOH89+w0GT4UCOh5jDYwEwvIqW3kBKsaaQ6UEajwMiWEKWawpYTC3kG5oE0I9GSNEL0au4d+XPAyiEKWhUp7+BHXVD6CLAZhWOKTHjscF0COtdhjrPITAJlqNw-hzWWrsJEtjfDxh3QmlsKEdozDaRDI0YuzWlAsiT+RpKEVyKEgiQFh6Ig3uFFcHgNIyOIthJEMiLdC5RoUTEYQAoKl8KQ3PdVJ+2XiXNqWZw8kSIHk56DbBpnNrqZ0q7NIHulseTi10dERc18l-P7tT15h2JdswQKlAWDoCYijRLrErr0BNGbwpEpnS2DCKHo+jCBLXIwBQx8YFhTOw9KwKAFKIAAJLmo4AACC4AcAFzQABKpRSAAAHlBayAcSHwWtxLFORoooBHyNsBDDd8BotkOGJNHdYJWto8MRW3pGtiIRqaF5raJkAtAWx9ATRhOL4Tccres8ZLgCzzEFjixpYisdWNrGzirAnteYOSCHGLi4avYjGLvltF4ioI1PCMZdyjFtjU05UacdeDxHEcpcpfBcSi2PF3iOx3fPESoPkACZH4OQ+FItCCQqcFg8ibRO+LI60ggJzvdgR0PbGzCwRTYlTlBKXFfjZhBGEegJCEjy0J47gy2AAAZ+CPUeIMeCKy4ThWZYMPpQC-iKpKJKgEgOp3Ejos8JTE4UCMR4CVCq0rE2KOxMYCaNNsZEwgZXyUDL9eJUrGibMBr5c9gmt1LnhJJ9ZthaJhLNvvrkUKWAa4Ikh+k4AyjBRcJMYqbpRMknKTZgvBZYhRPDxUTkmNyWiTH0mA9RFBbIY8DIF9D8cwSVGSAcx2ShMgEu-QCyW3zIGKSRWUk7hFCGYGKsfJ7A1VE5McAuTpAvoYgsezBHJBYp8U30HwIbYIw8OAiNgWlNcn6TL6mI+YI1FhBOAxWqApHtA3r6sjle8SfKQlOGia9KekA4bhSirLbCGh9fR+qwK5gNwfcogDAYIP1jQDBysA+AS30QEZhShyjWYUNLYEMo-RtPRQA0FwHYtFh+UVHukAam+hehQUVaQIINJCNcecsKjMh3OFBkTUlgZyQVOILcRXGO03HI-VQTpANpmoA7huS0KYFrpcUgqeK0xGXDUh6gGkMn0P58lZhKXdkYUOkQIDp+pQ5fhUMmDCw4BNVUZvMH9HSSge3MYgL0V+Hq89p7QFaXQNboSjzA9pOaaMX7ItTlgkxDmPjTwBtxGZEYAoQgImmd84ZwhcmYjI8lVoUZxqbbobxIC4yoRXU5RkiPMAEz2+xMrAEI1lnmBLCyURGMkILpgyOxu7IQQVGFglTP45UtYOTIRl6keUDMpmTzL8xoiNhGIkhBrKxkNx1+os4EmrMNIvsRAQsg4njLyKqB4e13CGQC2lKKiLZyovAebPDwwsthcgHYV7Ila6Enhpw8rOKLwGAy+gwMh4Mn09m3VvZCs8BhAJpmqBKuFw5WWxCBnkEU54eTPN7LTkQyYqYARmW3CeERFPZRgLVO8JeFtY-GrsnCCLIBHlYUpRQAEW1h7kpB257sy0d3PFkQhS2-cseX8T1IvNg5ywsMU4FYl3x0cQrb-IFjqzo40WuEr8h1loCLADRtIVibvgtpHyB8vE+fEfO77MVVMq6aDKfIlZQtpALk2oKKlty+NwGFtO+QZMSGWkHaRYSyUoFYmMjmWyqBCWVFABSjjCkM-iIsAjwALLYmk5Qm310lrAj5KiZ6kPMSiWxk4Q8kWUyNHEDztgMIfeeRlgWQSj5hCooJAtX5GlMFs4eUaQ3WEhzA5T8F+BhxegKB96zLQqWyHnxkKMwFC1BOqKsC4itRdC7kRvCzEiRVxjgMsbuAAAyXNOscKRfgkSpcVgVCaxNFAYTapmArsXuONF3j+xu4wcWxC0UnjbAFLOcamFwmigB81igBXYu74yK5Fii8ADuOHCmLHFFi1ND+MiHCtP4odfsOeK1HhjHAkYkrEYsoUpA78uEp8ZEKfBgiQl8Q+Yhe1iXh54l8QzFpiI9rmKdF6hPxfEL-FqCwySkVia3CCQe1SQS8oBfBO6wdjkJGi1SnkoIWYTMRDwWIFZL+aCifmoC+peQLtH2DClRgsIQBOnmdklqyUX8XXX2A+C-B1kXmAm2HH0AelwosBQ0tQQkiWo9YbxfgvWWYTIaM5SIdaMjwcK2Q3Sv5kMMGVnNoFIkLUADXEjujGOqyoZNuBthcKhRPvTAYtPRnLT7lXEWoR0oAofKfmqyq5XiOSIQLBAF+eKKKGJZHL4hJywsOGKS6vCzReghNJaNhEuNkUhYc-gmJ-mekKOlgNCbZIzA9jpxm8SniiuT6UrNesYiLpbDCURKpkR42gAIKkSYN1wM6acdcpNqORkl9oiLg+OWWZKlBXyqGvdBa4iq2VxAMVdkDLz9glmyy3QFsq5WaThwvKiFXezF5OzFCQ4IPFkkolICexl8l0eyLvGWxiFsgcjGgqRm-cDF5IVFaOLakpAGV1RcSMypvGRKXVPXTlTYA1UAK+Vokc4oKoMHuczMcS58QINUBSqI16S0QPKpYCKrwRqqWpWqoDUzpeJ2q9WSNL1WGdZgZiyiUHlJXdhKVV8xebhNZUfj2V8cnYFxyXmUqXmXHacdWugnsrNGLa5ZW2tWCbwDVJK3lSaqvE9rjgopKRM0CWWyqLEMi9ceWMrE1j3FkwGdSWLnVbjlFyq2Vaqp8oTrS19AUUlNG3AVB2OgGSdA2qrVmrJg-ao1VZKHX7ieFY6kPtICLXh5p1+Y2RQoqUX8wXFH69dQpNwlbrW4O6rRfuobiHrygx6y8uDjrIwhPqI8BVr6QWlGN4Ns+UcjBqIjIbu+SU0aGfJwQHRYNQgYTptFH6roRoLDTnBwTmAOB8NRcDDeipxykaUNvsTitRtjJEbMNy6BjZox+yUa6ALGwjdhu758CyNk6eII8AdBsRulDG9jcpk40jDd5xAT6tQD0loaCN4K45RWpZJ908NcGlTRQHs43MEVSgl5jBqU2oLcNum-BBZq1iRJ3l3Sp7BZovx8aNSIvfGoZvsEEZY1DVaFkMVs3MtH8tARTRlEL5AYqNpm5hFRqIhjQ3NNy9FRRuY1wb4tBGiVqqIWYZQ3A4eAOj+jyg8V5lSkXzUKOARMaItQgcLbxsi1DJotzmzyj5WY1hbuNiWvTaVqc3s9gklWzdJ5vmJwtyo+Wn5nxVC1Ba1FIm0QGJubBAQ1NiK4ZTENGVNxH4fshaDLIhDXzhoZykFUqFE3ibVt+jazaTOB7YiRFmolJSiN8AubjQwiijgdtsEKy5Z6QKlC1uSCVbYkHW11NQFRY7getZNYUsNodDBb4CB4zBi-1AFGl8kN-MehPXCA51NgmImdly0mRjaBlEKiaIqX8XTbSlEIObfpApALB7oSgS3rrSoArR4S2zLWOQOiWQRxA8-YyqjyA7k661+NCqDh2qjtCqpnvbYjLLlkBBtw0OwdoASykQh0ye287dcpXIUDspt2-SA9u2hPaudc7bpD5pW1-Mc00uodsMIRrPVmQLrfij4MtgABOV8D1E108UhdCGuqXtAN04RfxrgRFEOAHjNSHVEJDeEDypmMQ7AARQiZrwCBm7FAtzW5uVDQB+6JVkcXVf2E90BD6BEIM3dcr-JuAnBsQu+EMjsB3hysH0yQRHot3R6xo6unjQJSRUyBn5r8wmZXENXjalBcw5QniMe1SrM0T8nivntWzdb5dfmwCNXpflmpbcP278pu3uCbaMonmxZMKCaAPAqatyiBZbBTa1BnWrrflrix70ydBiz4bJfarJ397yCpNTxuJG3APBUiiLTXp7u3C3g7wC7CBcy3sBjMZOXZaygnQjCe6mWBWrUF5GGnRwJBP3SCLyoo5UciwhauxHfs15nqrJJa1tV2tlUM5fmYeinoxAQiMAB9q+1GRvo2FaA70o08wLvv33NRpxWET-WZJQO3h2oD+shE-twNA9kDWBo-UKIigSKGAWB7AwINT1aipl-isZciPmHzbgkN+0FUiNx1Xpn+SgLUEMNVU07NarcQwHCPe1EsmGAu0RSkrJEIYDSzsuwE9m0R0BjwiKGfaaPyHPUtQo+kBam0vCT73W0+0-SJDn0L62R-EXQhYhEM8GsR2KDUULqkPcTHcOOMwxK2e0ciVOCaPYZIAsZCN0grBpUBwaf4rRLDGtEfMTt-wU7BDhKqNNMpLC2FvBOW-VG1ziO+C2IdAZ0UmIhLlY-GSRyVKkYzovMS2y6OgKPIMhbLojpUtiNkf1T+K8MxRnbQZEqM1A2sL+dwRlq8HZbkjpMRI+0ZyNpHEN-QRwUUYlYNHcjK7Lnh9lqNKQtlaW4UK0ay1zKv4wxoFBnVJ0LUCG1RuDOVluILtNttzWkYoB20AAdLAI2piPqQ39+AIPHo1u2GVxq3EAyD7p3AQGB9MHV8Nse6W7GeO+x0mUcZOPlGzUlHC46c256qpCAiyIZJFwiKgnQAAALwObmAjjyQGZeccuNhGbjMJz+o5AePbgnj5BF4wtqtjyH6AShzcLsdONsRkTQJiKpsywqeHQ8QxUgEMRhaoRbmZ8PAG8e4Wkm-jFJ-EfZWpO35aTO4BoPScZOYssT7UIAA')">function stream_append_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => stream_append_delayed(stream_tail(s1),
                                           delayed_s2));
}
function interleave_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => interleave_delayed(delayed_s2(),
                         () => stream_tail(s1)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p47' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Stream-flatmap</kbd>,</span>
	<span style="color:blue">The function
	<kbd>stream_flatmap</kbd>,</span>
      
      which is used throughout the query evaluator to map a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      over a stream of frames and combine the resulting streams of frames,
      is the stream analog of the <kbd>flatmap</kbd>
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      introduced for ordinary lists in
      section&nbsp;<REF NAME="sec:nested-mappings"><a class="superscript" id="4.4.4-sec-link-2.2.3" href="./2.2.3.html">2.2.3</a></REF>. Unlike ordinary
      <kbd>flatmap</kbd>, however, we accumulate the streams
      with an interleaving process, rather than simply appending them (see
      exercises&nbsp;<REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.80" href="./4.4.4.html#ex_4.80">4.80</a></REF>
      and&nbsp;<REF NAME="ex:q-why-delay"><a class="superscript" id="4.4.4-ex-link-4.81" href="./4.4.4.html#ex_4.81">4.81</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-flatmap proc s)
  (flatten-stream (stream-map proc s)))

(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave-delayed
       (stream-car stream)
       (delay (flatten-stream (stream-cdr stream))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9LAgUAEEgUai0JEMShsCAweBIVBoeSEnDIgbUUBMCYsUT4FgjGTELHcaj8UjKfgTXQGYymcyWayicgjBjUhlMlnDAINDyC4XUjhUmlMMVsZmEVlS+ohHaEdjKxmqiWkTUpGWUSgAa3w3F8EjYACNKKIFdT8MraHbHc7KLgbHqVWqNezCJyHhdttYRMRxCLUYQA0aTckPJT5VGY3TBgn1cNg6HGtrrCxaLRyABzQhsVnZjVhowpxVcEvlyvVg2B3MUkNJwKFjiMwRCwai9uJuugBvygcCIfUEfinNsrv5hp98QOgQsDhMAAe3GYzeoNcl448bBYFumpLjMnX9s3HDCIqrwtox+NdSBgLvD8dAgk74JMuPbBBGvhMAAjm6JD6gutaNJOzq0JB0HEO6KH8GhvhVCMVbDG+o6LkBHIgeGOz2qIlDEBagGnhSjYUVRNGEayeakUYfa8hY2F0kweGkLRCH0fKXGEDxuFtnBnYkeOfYFIKxCZkeLEnkJ8kAamNK8TI16DNue4HqWylSR+wGfl+RiCvQHA+i6SpviwDBlvp+5MIehAESZxHduxoAhKMmKRCpS4AEQAKqEBahCUAA7jQHrDCwO6gAAtClwlaSMIWdD0JL9HGoDqTpRDKI5Za0FySTkLgoAyDs+7kGwQ6fLpR7IjCqzJKJhW8KIEiPgwjXNVe+VZsipVORVXTGN0FKiMh2w1XV1ijkQQitfG7WVckA70OstB2KQGQZbS9IbRwf4Ae15kWYCu4jEUHIRNQ-EyOOt31OdT56q+xWEACH23WVtA3YDgLnU9mKtsMf0wjlXUbHyYGiXZboyAeh2+cYHgo4qbr9tQD0CRjojGu9HGgGtTC4OQ6oCNNRizWIC3coEAWUJE42gOFkXRXFSKjeSpASHwqXpep2UM6AvTwhtoBWaQNm+njbkyLu3Ag8BnWuN157cDIZUZNkmmncqZVseye5TblfQooMGUE4Ocbzoai5sdrRjdTsjD4KQUQaXj2nTrOurOq5M6KfSwXeZyWOIabYpO8Ozq7RhMPR2x73+YHUfUDOzvOtSwq6hQUyAWxcJ5Xb5KaeBUGYe6pBsKQmskR7i21TsfHcMLdeoY3zcVdtKTdVTNN01L0tzQt1WdwKxaK-QvGvfQg8dazjTdSb2k0ww1lLxJMOry3CQkZPTPzUw7euLtR27-vTeKyrx3k9vZ0RA-y-VsfFWKGfYaz2WhwXGrplT30Xo-VGTB17k26uA7CzcoGT1cBfFmsDEZbFrsheuME3q3QPBAr++Eyhrz-t2ZBM01gyyrmSGgCslYcCIMWUsFY5i6irBVduuseAyA4EbbmAAqJhzZWECAESFZQ7C3I5VloLeKikxKUF9sUaMjklIeUAu3QBOxsH90AsPHaaIjo-2Orohu4k+Ksk8q7DUFDPYYP5NuVUvczG4J-ljI4th7Dk3DAUfgcQFE2WUemNRcY3zwIPpYo+j8h6gzBrQQJSjFYhNjIMN8PiLLnkvH3Bu6M3KEMPi3EhJ84bn2nlfDegQvaRiYKo1JxkbGqSaDKKwAkUnqNtA6J0+jyYhC8aIc+Ns5a10YtRd87tKm31AJdY6oyLQXUoP+QCk8pmUUUvNUxiTgm1IzGEmQl14bGCmcIlhdN0TpHlq0hhJyWxzDWdSa2OsHEnW0pdS2D0hCQxetWe5804lgwBTc0RmsMkAqaCRGRNCCq1xRpE16wUJlrG4dkkBSo8FfjfsqFG6tDJZgzsBSFttaEO2YS2eFJlEU3yMaAZ+FzMUGxEdDJ+oCXK4oaR2Uy-9XCkorJ0r0UCGWnP4ny7p+KVYVyRc8lWlciXQsbO0m8CKtaVJ5WJD0XTnQqx+Ds0Jel1VenLmGelCq9Iq1ZW5Iy8Z8UkX+cBGViINrolwJibEUA4CIGQOgIkmgoX2x2LKUYLsOUGPWJsRxtgHSjE0aAAAPjG96OjGC0zLNGuNCbrCOidKwK1XlY3xqaDqPY0ajBpoLdYMetM5jR0rnLANIpNWgM0XoVwkqw2gGCjKuW3sWBljLD4BWxTlB+2mFUMsIbqmPnCJEY+ugABks7QAxBYHER+IJ0gXOHZUHtna5FgSkU21tSNu29v7a08Z3MpGS1ynLfVToGH7ujlw55S7ZCQgcNHQlcssnTFVSvJNhAyyW1cu5cdzyB0hV-ayCRORBoAaA2y-6Nbd07Eg+nXNlSJ2jr7UIAdSqIOMv4le3octUOL09KK9Dh6tgvpkG+m4y7aPVH0bCa9u7SNQPNe5A9Ty200bo3Rj9n7kM1Lqeo4poG23HuwxwAdx9lAhVviwYYKjdmDGynm9NW6T04bPXJ7mVJBosAotME11B1NpuI7u0zaryM1FXR7bqfGmNOahOJ0prHq40GsxxnFFqswzoc8+24-GmMzpY7IzzYEfxbl81xgLG9MM9uk7Jx+8noucctUR2V9t0vfRfKMN88WkjcP1re70vopHKBc3Z5u7nLORfS5dcTgXePBaY3RsLQnIs7FhThKJAkis8meVJ099BB3c160Q0gWW5bYoMn5o8g37GtYYx11dXXiU7GDgXZrGHhvWCw6NgbqXubbeThltTuhS2NBGzpsbemFN5xDvKOFUHIVyzO3OMOzAI7aSW6GpG9DmC4HG04JDkXPuh0dq447tWWuA6ucD8bOhwfEsh-KIuowS7kDLv97qQPqbjYAMwbYKjotOaFdvFf21p5LumTshVcWhGbu7v05LcTEgx+Oz2M4p0waD7jUcFSZ9MV7xD4vGGpyt19oX1tC-thEvrf617w+o7cQXHniUEIsfxQrnPVc0DW2veX5Iu7OP6iL4pnCEs0-6Vb97wmZMLx19-fXNvJPWDt0bkpO7usZrWTRf7AOti3Zk-T5u8m5ks8i3MhZSyg+Oba65sLvvNtFl6uQSO-n7Pu6PQdpLR3xsQYz1nszDvIsQ3m3FnPUukbVbcybmgZULtoip0N6XjHXPe7qzgB1cinUupxO6-EXq0BE99abg7DA0Y7gk3nhZWalMyFn6Ad6Hhkrro3dPq+WcKQMECsvyP5p3g0HVrUkYAhlDMDQjj6QQQsvZfJGzjaMg8sbAK8oN5yqqN0J56tIoG0EioKoQai+We8n+iyEgEq9WaeBMhoa0HAL+uAc+Ie+e2mYeY2uA8m-+60ci0exKX0oB7+e8OkKBv+1kSOWBoAYOmuBU50TWyBT6baBOIOVBKOtBCuci24IYz0TKpBTBCOFBhOVBJOqeBUbOqKaMA4RMZBlyY2IUkh-Oyg0htiHBk+wCDiAqKsshoeA64qE2mhKs+BBUihjsRMMg2hAhauq2TG2hpO9smElEpYAG3BEwvBr0bce2badG-8MBdBH8iszq-onhP+i6twvhj+p+JATh0w9oV0z4TAEyLaPGSMVwnMCR0BWAUym63cvcXyTKx0-SXQkRoAz+CRcgtmmsKs1uoRaRFRGqVRoC1sfhCuCRIq80OkCRXIyR7edetwQRVY5eBBbR1RnReo3RkuKRWwdGAx0CYhDhO4Hyrh7h38lRygioms9oxY0wIRUxdC-AZYfs9RXonCm+8sBxRxGxccIB1wZR-oZWjR80QEWxyErhWMIQ4wAGRxDxugAAPOcV8VEBYQ8h4hOHvgfiFAACrmilFKYSCFROT4C650DWjcCCh37cygAADUq+YKYIya1UAEPx2J3M8mJJwBgQ+JAGhJwJTxoJ-k++HMMgUJMJuATAMUCJZYSJViKJGeGJIU5JeJ-6ZYNJxJOJ0GApOJFJrgVJIpuAAEVx9h5IlElo1o7RAqZWlKxgwyIYMm5o+suxKQN6CixxTojxNRgIE6duPx0pYJHIeplA+stprgjhlAzhzk+RHhPktpIQZWGQ66YRDGNpYKHgNGVxzpfkdAJpHWlRQEdGipdi0sACS0HI-pG6MQTiPc-UnpGo18KQ7M06tm8mEUjoa0oAl6hyyQqCFS5MUysxx08Csxas5C6CbaCSS+sx7R4SXRtqt0nZoxsxLG9QvQKCoR9pKpBpLZEWxKqq6pWqmpNK1IWpRgOpEwDpk5nIeZK5u67Z8YDx6xIJW5VStuRawZFkKYupE56KgMrp7pyxUMXpscwBvptmaZgZcQsZ0pHgyEisYZDyB5ogoJvYUZS+MZDRcZthIJlZgQs0yZtUqZZxOR5u953ykoR5LpjJhZGqxZhApZgg5ZeoYshUBGb2iZ1Z6FRy1K9ZFyjZ5RXKTQ3Uu5YxVYXZzF0CvZFk-ZTRbFQ5KQI5lCexy465zZnI9qYAjqGIWIQ+eInqhIGAE+jiDUTUpcI0nmsMBuYEh2d2AkXMIUSlw0xh9s+lKlHAjUaJ-WYm7UGl9eW0MqUyxlt+iB-ex0A6Dw4GL60GxgL6QIAMgQ4Gb6nlRgb6Pl-y4GaRgVNxDAIVblPOCsEVCs0VKQ4Gha9g0GKVogjQvlrg4GM4tAaJkg0GuV+V8JDQWVxg4GBZgVBZgIZVlkPO54fsXA9otAEiDVUQTV6I9QtVchAkIUWJEVxgh+oAEgII2QyUOJJV3V4GKUA1qQO4ygI1-CyU6Uk1oVPO4iygyQQ1i1zwyUAiw1RgU1POwAs1tU81w1o1oAyUYAq1MV8hAApKddtZdclPdQdaAEdfIZvgNc9UtW+SNWtfIQAITro-XnU7VjWgAg0XIA13W9W-FPXg0vWgD-FGCw1JU86-HpCzW-W7Uo0XIXWA29WZCI0LXI3ZBo2fXE3Y2bWuC42Q2ZAE3o3JDgZA2nVXWBDPBGBA3GCz4PA5T2WDTKWOXnQPEZBhh6z0aX6hBC3DROWebWyC1DQmXnSUD2gABW5+5yEtPCyI-CYVstKl0GNlRAcMHFRgDlLU-eOUWR1Klt0wim+ELlZ64GFadM0Gbt0g3VYKflPOkAhA48QoEgnl-tgdws3tPt5V9VdI7VsAkAgVbVHAcdEdkdPVzJidAAohFZnSnZHeBgAHIsD52nWF351AWAwC122G2OWO1kYNHi31CS01TPA0bIHKD23Q5VD4SV0eRHQd211QLa2N2638I2Uwjt3V2fC13WwlHqQDTK0i1yJ-QTRlgKyyFz20yMKCBvASDJocDq0fDFjECDQ9zXlAgd1mXjD8SWWm3m2BBlRr0dCBBDI7mIw2g5kwyyH3T+IoV8Ggp+KCCv6T2qW0JdnKARky0L1T1GJKZ10nG53cq8D+JANQMgNxg2Qa1a3gM+390wPKbVEIPGBIVZm-38SErjBHSbqr1q3ygf1HQXI-lql0P+DFF94K2SWuq4geoEiYAKXtqEwihkAcD1z0B6TngMA0QGbkBGbjA6Ge5In2hRr15SMyPQIwhhihlJ4ODxmOTSPGZwwkkhQcCSkwYEnylS2d4OAqP6PqNajvmWPAmGY2ON78NsDnjgTfQX5lCwblTr3EDEBIl2DaRyClT+OXXog4kGz+NvkhQCkeCxORkSkkksBhN32NCxPKCynNElFEBPjITePJor2azN65OOTIRcgACQoRsphjzJJJBo7jyEnjcwktJThAeTiRnJQ8hj2gIULjpTe8I6owbABsTkcjuw9gozY6GjF6ewIUYYa4Z6ZUc6s644QCXuTGyzV2Ma9jdGWzUNAZIUbg2UMzFjyzMTxza+-DwwgjisIj6D4jNEyzu+QC8kmeYm5z86PiOo-olewGlqUzcMVzIUdTOJAzrxwoIzNGwMgLHUUpQIApJjZW96vzXBsWAL+z8LgIiLJJ4LQzDAULWjUzDkYzBjWJPi2U8zTQIQeLzJcVK9ygeLlQwztjKQfYdRzz9QHgtLelU60GA60LYzQ6mzpLjL7TZT+LbApEfYspgLMzIUAA5CY4bOKUqws6Y9SeY8s-0+K4M8I26AwABPXIa+M3blWJGpEDRsa8zaneBkpgIBKRzBKdFNNvJswqMK6xNnYPzkC1y5TLq-k1awawDaAHRta0BEy5C9K-6x0xY+G8K65vGzGxK-q6MCNfMeSAfVSAkifcykqANFRBamrHuOM286XvGOrKRC0vIWW+otBn8whsW9wIQ0YJLVm0fbmxxvuIWyWEU02762y3usESWzM+Bsc5k7Zii1WP29G+rBmzQNa7aIlDuAW2hCWP21oktChiXmJpWyGkYHWVwX6RcmGMi7ZPug2wthWyW9BQe1XT28hEIMDMdJLYuwlFUCu922u8U5NDOxQnAke6+WcbyxEFS6aJFRY1+xaj4MDEBPXlByWDB5NAO8kCEKLUB4c3FTMwh4+1wJNOq+hxqjE+2zm+QD3FAmB8mBB4R16Gk62zwiR8fWR3m-jDh323u9G3UTR06BPQ+0h742UszFfNop7sO82-u8HuQb1eO3QJO+e2J7xYzOUnmVvHuIMtOQVMLHwBu14fPnUZWzMzRgZ3YwWU2zhVFLFKflXpaqGyLD6y4yocQpW1YYpVOv2zMz4SOyZ5hWZ9zBFBZ-zOi-bI5y3A-iRohwwOg6QJQBdD+gICILIM57p9MXZxu8B+65F302oU3vF02MhJF3pE1kl6ETRiF2+Hu2JaAI6YGlF6o+3b7IVPhX2qQAiOJYPsQFEDwMKKAETrVMhMSkTmPmPs4LPSWFRDIJeFAesIyAwAIBab0agRMw4NfhzHN9cZ7QILvihKKJN1VrcDRit7N0PKCZowxod2tz4iEMwuN7t6G0xud0PPO7CdklUMZmkJMtSr8lusZs7fIQIq9+MOItBbWuaFaPrJNxwEoKABDysJUlSr3SifaAD1fBctd8QBN0wP1FD3Rl98j4p4ECJ1vSIOPHMAdEj6ozApac8ht2Rcp3DykFMud8dGjxj-1JoAmzUPgOT8462fPht3kjNwIOXUcBtz6Xd65ud7ewJdL9ud1h5B66z5D8oDDwBW6BJ3ewj2T8j8z2N+jxD9j0xrjxT1L0YIT-z1r8bxRUYD+Vuq5kb8ZnRykHUQOvr+3W5yr4uUqOPRA64Dj1RPKHj-jygnT7WdSkz6j7r4r+z+L5z9z7IybwT1u+WtvST7IJLxJxU-UDbx1lz8j4kJnzg253UR79oY7xZDn3H2ozlAX0p0J1b5SRsLb8t7Uqt6r3MeTPxVWVQmsHLEVXSB1zIFK0ebrDEyqWD5R4CGaKqdwKCiENiMB7TPl9NhSR4Ivx6xSQyQfmwOZ3zDQNV-UjQGlHd8ZleqOYJX36QB13ZdSvvx0trxcmzsjyw7bQj818dLf7V29yFGP9aFevZQ1xcg-56Qn+IUNfplxtpfoLwsRWmDOAAyOM9G4wNvrITqLWNEBnvNXi43tAwC96qA5UFgMHAAZZCNGfAbALHSYDsBLhLVCQOTSyE6M1AwgeQIIHORN6TZXAcoEHIudiKtAcbmwIxDjEXG39QBrwP0IcDkuNAOomznoEpphBoCICIOSe47ADMOnUIroTPTqx5MxzJUkMCXjDBpG9IdQXwKrBis8KQgAzBwE66CBxgDAENB9kdIaQS2R5QnkoL3b18pkUg2ZBQOYFiQmyBg+Qbz0W788pBwvbGP6xMEugGA5g+1lYN86DkxejIbgABCkECoghCfcioT3043t6+3UOovEIAhGcb2yhOwQ4w46086+9PBGG2jnZhhO+SZQSrkP7ZPdBBQgaqNDlaTVheBm4JcKILWBuDPBHgpgaZW8HlFeBfgwSjsECGeDriTQ+AXVxUB0h2BXRXfGEFIDFwOADVAfkkKoGTCFg8wwwe3w05GU6Qqw9YUCWWE7CuhXRTgdRUOa4Bqg0gAUvK1uFQh7h6rbbg4DOFzDjQuJcDvWSMDqtFBjkV-HSF0AzMmhplX0LtDaEwwPhnQhYeMX+HWA6iywlZmBDqKdCq2IBFYVjjWH98gSdGZEWX3qB0Z0RhIp3kcOxEnDIOwI0kQChowkifenFLotGxChPDxgDrJ7u6QobUBsI4IEZivjEEQdzqTwbIP0i0HtoYg1ELgGJAy43gZRgwZQIuw+GLtuh8PPaCcI0IHRSYx0ZYccNxEyBFRuwuUdQGwap0vwyoropPG4SX92qJMehjcLuEOsZm-SdVpyI2DciwQeQQfriI1GYwnu+AV4jAN3BAivhAoxND4ypHGgxRzXHkZ6Mm5Q9JusPHodSnOSgBmurPeMZj3YJjDk+xPStHEF0AeB+kkZWgAoO3orsIePoYMSGimSTdjoNGZEZaJpxKDJuBY7mMc0jKTcZUFDUAJCQAASGdDgAAEFwA4ADOgACVISkAAAPL51kAFyIonwzZLWi8uHrNJMGOLhwjBinA-0dMEDE7h1xWODEdGL3EwcIueyHUYePVbRjqQhcM8WkhcbXj7AK4grq3lkJ9iBxw40cROOnGziHxjfE8U+zvGt4LxFgWQtGI9HsA6oZYjgBWJBwgT-obrICYQBSgQS2AYXXdOPEAlL81x8EzcdAk4GoTEC4gJuDwgySdCkSRsCkh11qTzIlMz4m8ORO36YiNxewltkuI670ScJ5IiwHhPCw4Bux0+cYATCIDdcLkAABmKJyx1QMUYBN6y4A7t0G5AWQOOjkmMgRJowY6IJIdpKJXgUVHEvIEbFtotJwk3SS4zZzSTwhCA5ULwOMm1tFJQvTgXUSObQY6itkhSXpCUkc8ZhNjMUcwCkSWTVG1gWmOjG9bViw+ckuyR5IECFF2SskoSZFO5FKTn+rgOWLkGmAxRqQNEYrvUAnTOCHB5MM8FAJsCxTcBvnNyWiXeb2SPE7LNzsZ2aQQc0pHADKaIBoj5DxONIxqc1JoiedxO1UikGp276CVOpmUkKbIye4iBCgc3GyNe24AHknGaAlUdqV3TDSWpasdXh3CATODKeBaFMlBFFC8C1G9fIadvkTLB8yhwBNwf0NIGDDECdFXiadJHg05AhwQqjrcMvg+8QgK0miJsMbT2gg+fFLABU3IrlDjyHuSdNcHwnAEPAX0ixodLjShtmA6UkaT4VZZfg0ODyJgGRUGkLdDciMpqSNMraNDFiP9FocyGbBvcZBogXie3F6FMCrpe9FgcMN0azDRhxgQBO4Ohr+tcxdMdaaPEICEkcR1o-ZJ4OSHbDvhpoz3vdPFlTw6+TgwEYqHXg+1EQAiFWWGFpmkD6ZLhRmf6EVD3Sww3UDmQGVF6T9-WAsykWwIZFGAfpaKIIfnwqYF9YhgIfyMTKEHMyHeks1iYJ0vgbSJp-iawEeF1mLl5pnTQct0WVmqycpzyFkQ6Ky5nTvZIM1Th8m8loDA5rMxmC-UixEAzZeo7gFD24DR9Fpy2JGNcIuTRznhjov1mXLZET9QIbw1-HnJ0AzNZiCI8IfXJBF+swRpMt0qWDe65z26BcxYXYwBGRB857c8Dp3N9Bkye54wV-NHz7msSjA4cgRC3KRFOBQA86VEUX0bl+ss58pQWQP3xFOAaRRDJjKPOPlGBd5-USkfWKPmWyGg9YnQOfKBChz1WVc+4QoOsBaSygU2cZlpQwLHYps8mLSYZXJADhow-orMFpKIFEsoFQxEwnJKaxQLOB6VBxnRlgUYi7WogDKRICnxugTmdjevGgtCl8TZ6vUfqFuC-laSFRwbSdFiJ4mgBzR4xGmdSmjDZo4pKPdYP5NwFBT4wUClZNSkvk+itRJ7IEIIspEGi6FhAJ+ZRWiIQLlIJ+dhS2yaCMLBihkpGIIttExNWRLwv1s6JM45xpg1rUabEUgIMgFFUCsvq6Oi5qpygIzDRW5ExjkMNgPY-sRwDHFhQAAMhnTnHlk9gkkjCRsA4laS3wuEheQKJ3GDCRA+4+CUeP-FlifAwSg8aBKvGN8bx7Ct8HAvtiPjnQiSt8a4vcVeLwAf4xWABPSVJL-oBE2xfJMmln1Gg4E2xVBKiUwTMeSscpUovSZaSUJti7KHR3qW8jmSMnBQt6y6W8jsoYoueoktCWFzJOMGPIERLpCS0MkWk-hBSTnoULvWxit3pIt4l0d2JNo71iEu4lSLWJYo0sKqCElGKJFLEzsqhNkKETcAxExZZ9ASIrLAQhEgBkIF+CyBgCmEzia3iuVY4dlwBYUT1DRL9RElAK+haHNtQ3LbFYozFKm0Nb6jg2eEmMewDCkI8IIetC5GmK07Kgk2IUBFda1P44ywI-PLFabSuZnLzKiKo1iir2FoqpWu+ClTmleDEIk2sK3kWKJ2B7jVGVY5BdYFlb1jgR2zMCEoOFWRiOR0XZgH8rEib09xgqVcdQBDSE9eVb3I0f9HWk1jMex0Pcc0v6iViNVCfKZAE33yshZVjKhumDD6WxjMeiE7CdQBGV5ASVyQbgL7FZ72qlVyE1CUAUBAcskJygEFaar8mKwNVjK-HsDO74tFyQ9ADmNMGMnyqyxxijFXtHgnHQwFNIAFnwrWCqqyxfKmJVqupS1iLkeq2CW0sTImrzAIa9hZavSDOkbVkE27kMvGBOr2ALqwIG6oEhNrOlPqu+q5O9aBrLqwa81cZNuXQVI1o5A4eSGXRCBjJHMWVYqpfEVLQxn8jZUaullHAZ17CxdXGGjZbqNVO6wYJkunW5cD166ypLGplVhrE1USw9cqv4UI8nQWEr1SmPfFDiRx44ycTOKKVrA31n4z9T+J8X+qHVxykFU+tlWPJSVIUS0Fl2jU5dZ1GypBReulXxq5JN6oMdmtVFHRwNwS46G+oKXeLJ4+Gzxd4u1FucqFtUS6jhoOXQVuo0Gi0LBr4Zm4SGA4dWkvXVjzci5i3O3BxuPU0B4ErG-KE2040zK2p2TWbPkkdhsaUQ5XK2LQKYy8aXGzG3uLlWk20JhNprItIpuy5IgAiwgKwGpoEi8bOBYmvjftGSQGb8osmjWPJtczaa4N5ZJgGWF4hCAjFxmgUaZqe6sbKAwUwTTJtRW3KBVmZXuH5vU2haT4TctoqhPVbebgp2ucLZ5EICGbf40pIlcGx0h6bwticZLfcBr4+1OVeQEhZ2uZL2sJSaWtNtBli2IY+GqmnzfGFU1WaAtcKoLbkX6gNa1K7WsgBVCdF7B-huk94J8C+W1KGg5WpFfAk61tJLNMmuQVFrhX58tql1WrXFsk0Ta3wq23LQCgK3orIUxW6DQwDK0GLaVhVAzXVogG7p1Qzm+kMDCa1crKlvI+ZSRKdJfhqKmQQGQ0BQWjaAIF2lzbSuJbtKLIVi90Q0tDnOA8tgQb8smi5E2L+lsQ+2ZGX6TzbAgW2qVpXF20usDtroXiEdskRObeIZ2yLLuFqS+xlQ2U0lfSgMFUNKIWxZ0HQzFGMdO2Wqa7QysC2sxGKVSh5QstIlNAXt70QnQE3pCL8u6FAbSBGUFa+M8J58iwuwNGo+9TOEwE0RLL868xLOmIoOURUlKAy4drgEKPTuY4UcUOfrQHdDs9GOyCwvi+wObWR07b3VOuw+qR3I5GF5Mn26DLrod2yDiiUyc8CuyKpqBjoAATi6C98rAxVRlXIBsFWZg9agRlaZWFBlBJE60wntaUjFHk0hS0GgGcTEnrTXAPuyQDIAVYKt5MaAIve2rjloJAQOevIerklXkwK90eoUFGkIlrYgIh-agqkOxlGBa9hE+vdOmUBe79NeVNQOMqwWSBcFyoFsHGpu2Farhs23kajpt3UhsFo+jHZlEMXBtoMC+kfZUG3z47iUOHX7bTE7XrFRgjoUsOHWYWYrjob7CQMu1XZFtY2B+hruKQ6BjLJ4gCKYAwBP1B0Dmpc0sJ8WmzrSK9zJNKOlBw4MLg2LwTtUYGAOSwN1xgQA0y0uWwgZZ8cmoYAjDXRdYuXAeLnMAgjbTkgW6udRELPWnqkJceI1v9NN5LR39n+4WN-u5i-63s9fQAyFGANH8NVhUbA9FNYNpQYDwMmoROpSDMHuD6Ua1vtEOjohhDM1BPp3oaXkxCJTyxkYRSyDOkED6WhkYLtgZ6D8VEu2qPLqRCXVY4ZfT7fqMyaQ63RxuyCaKPcyTrFxempTLQBihRoH9IYpMRfouRX6b9OHIEYMygmQGn9L+1w3tFmIpjjDEEUwwBih2h6rDai7jUWmCMYiQo0UWEtaOTSfCWA8zCpjSwDar602UEnQcLvpBhH7G8RwNXocYLPBY4Uq+7Rzse3L06AshGow9FD3yHdaJUeo2ZsaP8BmjzWldUt28aFaet3iIef1smAmYSgcwcmDRluV30QVnRiwyM0b2y4uVRWzEN+1+0KsZRMgRXQAB0sAX8j5ZUBi64AOYIzBHcNTJodQLIBe-TMfrdL2csAe+oxRsbPFbGJZux-Y0gyKAYHjjBLIEdcHwDrEgIU3OogCdAAAAvcekYF2P31PjQgb4ycal3nHwTBjQGNcZCjUG7jV6AvngDsMeRHDkQDY7CcOOIEET4NZQHawlL2gJSxACUg6xhAKscoiIR4+lsJOTTiTPxvkQtXJM850jkeak7SbGVonJYQAA')">function stream_flatmap(fun, s) {
    return flatten_stream(stream_map(fun, s));
}
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave_delayed(
            head(stream),
            () => flatten_stream(stream_tail(stream)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p48' class='permalink'></a><p>
      The evaluator also uses the following simple
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      to generate a stream consisting of a single element:
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (singleton-stream x)
  (cons-stream x the-empty-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6ShyQHrhwo4lpL7dW2lMEK8RrxK3XaG7qUiN1zUE3OScqRLpAkrsCNBYChZi6EsJaXrPdUhrfW3tTbRlFBcbMsKMa7i0m+cwhmli6kjL91QVnoUIpdB59ean5HsVhisXYsKlsDuyeC4p0CfAF6vBN9L8rmqwrlWmUrxZNvxchste72Vgfzk5Kt5hQV02w3p9tdByIaXmltIeXH5Y4cK-dBjY55Ozb2TumeC0JsRfg2z3bjP1EHNMJ4oD+01FHJAdr+O5rZ3xQSyzOe0Gkl2+wANQyf10g-0rT83E04QDnx0nQtFKAeGxRcl8QTCpkgMwmg1rx6iey+WtXQILzsCHWwOEQQOoE1Fkn-BHyaV5UXT835FVTwJyGWW2ikVNQhxwh8W3wSEtipVfDrzsHTxH0EzmTGm9l2wwLsAYM3C9TEO6SHgEKYEFEOWaAshHxAloIGygOXSYNEFnxH0GjUMFA0KuzoMwNXV0LgKjVUk-hQO4KdlAzkLomrzuB6UuE-0L00EeEehEI4V2y9xCC8J8MiGAn0mCGkMUCEOtVkMWXUSGQaFcJckBnSHD2xR8NkKMAAB5Ai0iHpf84jk5vhA9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgJPHcUAAAaj92gTzUeHAnk0cKMA6JzW3HaM6Mcm6N6PyMcW4QLGKiD0UDKIqPwFEGPBqLqOPgaO5xaOGI6MiX8HGPwD6NEIGJ3HKhGN2JgVugTQmJCNc0UNKAqCqBUM5XPy9T2QCAJn0GcDKFmgIO2E9THl8NUNiMcQNm2CVRxwyN2O+E+PuNmnOJeTIEQITTsPcl0gBl2PSC9TEmNQ+36PhOCCHRuPhMxIBLw36NlVXRuKcRSA-G2GFnGGxO911TJCvk4K31RIXnIWiWKMBOkHKn3CaFYlADdWpOSCjjIWSikV0MtlwOENdn7Cmi0TWF0KeKMJyDhnhP8BVPEJbHUNFMjnzkILBC+OoB+JznWWEVGS9UmVeNAEiDeK1NIJhO+OGncK5MdMnSVN5KcIkKDiowhLxOsmhPEBNLhOCTIKQKnC4I5KBHROskxNA0ZO12U0hMcmCE1GHEJPUWBOmOSBJNJTJKOIpPXSpNznMBojdkYgZICPYNZJRM6U3m5JKltIqkFNhGFMFBvDvHbXdW2HFNBKKClJHxlJAXZDlPNIVIbi9JVNkN1OMOeUcm1PkLnPVP1LzgNLMMj2dNNNdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIhbxQi13myFzPQAh3BghvMTyAKjXfIIkcFglLGSV5wfNh3ex104U8kFSkR-NvObyLgsWdUlAzT7RzX8D7SUg1IHCYW3BHRQvMBHXQoXIzWkNwtAGkIIsQqwpLhIpLnIswtv0pRfhzQYr4SlAwpSAzThDoFLEkFqBzU4u4uqIhDYuSAzVmMYFwrEv7GEoCAzWZEeiLAaDoH7jkoegUoYG2Gkv8AzTaJIv8EUBD1AFqENSWivA6MEs0vMAzWvF0vMH0t0CMtbivDvHMsIqwr7l0BSDssMuMtACvDbkMvMAsr33mOABssggMoctEhMtADABcootvwAFIwqvLIroqEqArQAgqM0vddKUqfLPdjUjLXLb8ABCI1XKiK-K0AMq8SIq+KoEbcTI5Kyqxy0AbI8wOquihqzI0SGyvK1qnqjqrKrChaZq+yqqpaIa4qhqhaXqjygIfqqK3y0AWaqa+q+YkqsK5agIJa8wEq-we3SUM+KC68385yWQsSCMATPtXQaCxPWC2eY67eUi06mC5yagBoAAK2jw0SuqbkEFbiItes-LEzAtKiIQXOSDuoQgeuOC2iwBOvwhgsvXWPEmdQzUZUyhzUxp7iCqiREqwsgGIF5lcF4o8qJpJvqjxvxq0qwpUscFgEgFwvpsZupppuCu3HpoAFESLua2aaaM0AA5SQQWsK4WwW3MxyJ6+gESaGtkFGjtUQy67YATCCJaodfAIZOWmre0Y+aW-ibWhWww5WooVW1uaA1vLW4GmGhW+GttVqHCbWjPV8ycEuXfbCP8jMVKRgP8ZEz6yQKQWBPCRmXJAybW-88PQEIChSVBV2vqF8ZIC0z0yKaoaMzpRQXfGw9SNOhMN+D+WETPa2u8ouVU3QTUw27eK9VU-mgIfOr+J2keHoL6n6su-GiumWqu8Qmu-wWsxmNk1yewxIQVcPESU1R4UoBI8LdkzpPeFO+shMM+XAMAD5JgY835U87gTAa3J-dwCgRwc0IcG5ZkRgX0D9SgL9cPXfBihFTcC2s+i+vQ1CCMAksG6De+79IhEY7cRwbY3NS47FCYu+5Yc+j+p+64ZMhXfIz9UB9fOwGIZkImLjGPO+LFCid20gUgeFISFaUmQCDBnyhgDouaDBpM7cYY4IMhgsIYkYyQfByG5SMh3QbohQnqEgEyTUFBhNMiCibhxwNh5YTUECAASCNO6K-vmJGPgdJE1CQbsQE1V34ZFFEG4Zli-oMG3FgdAEUYoLcBYFWkeCvvh04UnH9AoapW3AjEJCYRMc1Q1XzBFhx2gxMaMFRQgdx2cequNW3ECCfGfsgiHRsYCO8Ysfd1AB3toeHAPrbGPt9BMf0nSBFl-B52Ihsa1WTitUGGl2Y3nWccBgoYkY6O0flWFD0YCbsn0c-p2KUmGN-utJ9WtSyeTXIw8aqf7BqZGKKbNRKZgzBqAgqcqeTifBCf9y0eIHYaUG3Cou4d0E6d0bAamELAiLie2GCCKfmOIt0GdTKYMeLOMfIlQhmbGYEeKcYBYH9A1H-pxWWa+B3AAHJf75pBj7nLG-7UGJiTHNHOnzRGAlRvmHLJDCwcccgb6enlM-nu6lIM1tFZghig8hijxyAhi-hhREXyo7pw8nx5nURRnxnQWv5wXdnFACWcXjmunTnzmSWlG8WiX2gfmhloNiWvnaWjLj8o1-bA7SBg6ukohcIQw+lhpKRDGucmjxduwRpTGOaknRXiAc1GnC0BXVAIXG5Zp2W7hOXKBGZbkqQ+X7gVGFWiEXmMmlBxW-GM0fGmGhN6nBhxWKWRpWX4k-mxkLxyReXLR7h9XF5GJS0xdecbWBypTG6sTxIIw6m+hfU5WWM1gbXc4TqdXNQ2IgJLYBNHXzx7QXXtW3Wxo+no30IG5zrEygniK-GIih0M2+lJUgIhkLay37gK27IDXwH825lSGqLi3mBM262KIXmm2OFSHVWg6NXuX2hhnsWIie3mh6GUgBN+31XNXUMa2s3ymbWKWx3A3QNbr23y2E363dZSEGI6ZMh8DBXGzmd9ssLzXc1LWw2j3FXRT+z3T5ZKQBFNM9p6pGoPWAXoIVVNwTWVm3Hf2FmxKFX+TKoTxI9sn+kTUGpVsB8wCLtxWPD3MIiAPsWsDBWXmgORoQPDwwONomm9o4OKYU821a3GA2xyBqBZI2Qg15gv4EOAW33jXBXSHkWyONGvso0aOixSO2x596OjSh1CPRQc23kwBTTIVyOH7br7osJ2yJVyAl7V62BSAHpiw3BQARtIJNQo0RtLdLdfBFC-gQxFBWRag48Fgg9wkhWcd49LPQjQmcbZh4mxAdQPBTPQblMh1bPGArOsWaw3HvOrPk50gjPSATPRAzOTVV1AuZZ7W08WR5UH6M7JFnqHFqNv1LYM0257Rv0+5RS2UyhKhZpTPHAeBdASu2sBzzApE6BCAGgcvw9LZQvwucIyuov100uGvH6yz92RZHPSY6uuvA5Jyq1HOev73JTnrAumv7hjOKvCXav6uH7iERvHd+vAvJbwpHOMT2vOENvxvDT3iS16AUWWvSvyuIvHAgVgT2gT3qvnrFuuuZu6A5vLu2voNOvlu1yaYvWnB+vHuvuqvkgMzqMOuQxwguvJ3pQIjnUSu2uIj5u7TukDnNSAgPvweWghuVuigJv+wpFpvxJmvEe8NBuvueuAgl4+HYQ0omUv4NuT2hHtgQeSelvv0JRGe27v3M8ufEeA4ofoEWesez4Ofyy933SpRmfouLOfObu9Dyf1ycfDuPSo1+L5AVPIi7vT3MI2Agn7iiuR2GEQhCuqg350gdevGMpNQ2OglghLeUWgkA8SoWBsOqo7BxPWEuyovv1eyFfSc7BVfyAVPILnr3ftl0vGvxJNsuuM7XwpF5PLZQ-JPv15i9eqh3UoKZPxJE+blo-tw7e2PF6epNsGgMo4RsUoGQHw9Zfd8Ij36q+keogB8S-DpkC6+lBm+y+DHEO3GO+E0m-S-kScle-sVd9oNh+DHNHx-PaxzrU2-dBLDu-mu5+lD1TNGs6v5l+-8F+AWIji+B-y-N-kf5-1C4v68P0P2jSnyf8sOdwfGrCtMO6tBz7mwb-dDDm2y2IP1HBVPYRw9GBN4eoKgVQA2GY7i9euMwc-n6zAHGJnq4-WRPvynAZQZ+1rSkMf2MLy8-ehYfruP024BhRmH-VoIwG-7Qs-+wHFfnoR25AClQU-IfggOx40k92lPZDseyB6blSKXPKgdSxta6BOBaHW9t9wFh5Ro4fpKtHawjC0lfeWvOBqaRAGKtT+Z4W6CShYDCtbC8wJYLUDsR0A2uagnipKjoCVdP2RjUmOVj8Y6CNBbEfQRnReYltl0WgpVslyWqYolBKg9SGYM0GKDsgoPMDOVn57s0igbgiwW1hfyX4faJKGGgEOMG6AAhNQAwZfyMF2DTBeUXQYEKsHgMbBKZHwW-AcFLQMobgcPAHR-RJDzBzCIoXoKBQZ1fB-YbIa82cF4ZystxT1B4OUH4AlgGsf6qRFzS74Wh8gNSHaEsDZAUGzg1Wh0Ni4cd4k3Q8gL0KcEDDphZzbvsxW8z9CzmfjKlIaxCH5DwhpQr+MlA+xNCa61QiYVMKaGDDPBamJYfrkULr8-yfQPiH1HALAMpOoAEkKCG36TApEcA8SFPyQG6EK+jwywisiozYC6BYRDaF4l+Fs8nh8gNAeqWc78hJhGMRwHJXV40Dz8OAqIVCPIH389ocI7rIiLV55E4R6Il4eoW77Skgm+AAdD3GGJ+NtwFI0NFSIw6udOEhIyEeqj8bSlzAhrJwOfzhFGA-GVw8CDVjuFvAWRzw6ERQPAZftVUvI2xosy57PCJWOIhEUiLyLQZeRlQqUNBgVEaiIQSo2MCqOpbqjUeBkIdNqONFOQ9SLzWkZSJhbyCwmuqH0EWAzCscUmPHY4LoEdYsjHWrwmATLUbiB9VKiUS2HqIzAGjPRGIl0e6NGJ+CpQ3ok-kaRVHNZauwkUhnSPDwwsVhL8F5pGRHoyRZhkRfEUmKEhD0k6UaQgBQVL4Uhue6qQwX0ITSGj5ADQ4RPJz6FKCWubXUzrEN9H8QLE8ndsRd1qBr44hVPeYLzE0FGBggVKAsHQDtGViXWJXXoNWM3hSJTOlsUto2IBEC5z+pnCcbf2GLpBTOw9KwKAFKIAAJLmo4AACC4AcAFzQABKpRSAAAHlBayAcSHwWtxLEAx3HK3rPGrHdZxRu+csWyDnH-iMYErFsXOIrZuigEIYili2JkAtBIx84TRghL4Q-iUWcNZLgCzPEXjrxt4h8c+NfGoSrAnteYOSGgm-isJcE7vi2PzFzjHAC4krHBPKjITiA14WYcRylyl8MJZHaiT0IxiATu+sw9kK0IEyPxnh8KRaEEhU4LB5E2iXicREknO92B8I2wIBMqFfiVOik-iWpLKiYiCMI9ASEJHloTwQhlsAAAz8Eeo8QY8EVhMnCsywYfSgF-EVQOSVAJAdTuJHRamTPJwoEYjwE3F+YfJsUPyYwE0abZbJhAyvkoGX4hSpWzk2YDXy57BNbqXPeKT6zbAuTCWbfC4T1EsA1xopD9JwBlGCgmTlxU3ByQlKymzBeCyxeyeHkcnJMbkLkmPpMB6iKC2Qx4GQL6H45gkqMkA5jslCZAJd+g9UtvmQIykitEp3CKEMwMVbDT2BqqTqY4G6nSBfQxBY9jqJ7qWAupPU3HMu2SiIwn2SvTAStLWm+gfJWIkQPMEaiwgnAYrVAUj2gb18fRyveJOdP2l6EgelPSAcNwpRVkmR4I+vo-VYFcwG4PuUQBgMEH6xoBg5WAfAJb6ICMwPw5RpiOhlsCGU1PMcV-AaC4DsWFI-KKj3SCfT1pigFEUFDxkCCDSQjXHnLCozIc+RQZE1LtNWn7TiC3EVxqTN9BYE-O-YdIITM1AHcNyWhTAqzIun6s7RAovoOoBpDJ9D+fJTESlz9EfDpECA6fj8OX7-DJgwsOATVVGajjaemvbmMQF6J4iAx5M9WbQKRlDJzR-ge0ujNGL9lfpywSYhzHxp4A24XsiMO8IQGIzO+Gs4Qg7O1n9Sq0es41Nt0N4kAzZBoufnbIpntBLZNs9nkIw56WEjpoIz+MDLRnBz4xkcRgYxFumfwHpawB2VrL1I8pPZ3s0OX5mtH0jbRJCIQRKRrmYR1+2c4EoBOfbW5o5Bxc2er1UDw9ruSsgFmSK8ZpiGRf7OuemIN4egXOcgZkYPIla6EuRhAzPOVmjF4DpZfIcgg8GT4DzbqQ89OZKO5GuzVAlXfkZ4lsKCjZZu88PJniHn7ylZMVMAF7LbgryIiA8owFqjlHSi2sfjHuThANFqjMh+NNUW1m2nJAAFfcvIqWxAUxiigpbcBXbL+KWjwGU8qkbOKcA+S746OIVt-kCx1Z0caLEyV+Q6y0BFg5Y2kFdO74W0rpA+EKfPmoW1jHGq6aDHQolZQtpA3U2oKKlty+NwGFtNheVKbGToPapIbBT5I9HMtlUekqRcKBwhvT7ufoxYBHgakFRvJmgZQm3xKlrArpKiZ6lAqDHBslIUCsMdIpDEQL4ZiJShQ8nyEZgrplilIHGPQFGlDFs4YsamJtEzy8Bqw8BjbH3rMsypjU+fCooUkOLUEOYqwHmOOFuLkxG8I8SJFwmOA7xu4AADJc03xwpF+NZKlxWBtJPk0UBYuHmuKKx1PckGBNsAQTSJUEtiAUoqWpoXmaE1MCZNFAD4mlai1pd3ySUpL0l4AEicOBqUdL6lu+ESXXVDr9g6JxwhiUxOGWOLkgd+EyRxKaFPhKhkypYfMQvYLLw8SypYZiztEe06lRSxRVIJqGeCJh4k5SD5NbhBIxFaioJWjKOXqFNJeSwMS0vqWATrpZ4COmyD+Y0t5FMigCeQNbHZARlTQ0SfIAuVFAyRS0ZKKMpLCqCth4ypSLzATYwT6Afyn5gCsEmYidR1Qg5W8vDGyKDJkNGcnsKlkvQFAAS+RRisi6krzhys-iFqABriQ+xjHGlUMm3D+K-mPvTAVjMNlVwmVXEEEQ8FiCNTflfzcUcCuWEIxQAgqgZJfguzEs6VSgz5YWDnFJcZRtY7og2I3j3pCw5-dcfEtLGnYKOlgHSTJCQGgS2Jm8SnuquT7WrNeK4iLpbGmWXdFx1qnrlIkwbrgZ0bEqVSbUchrK2x7nHcGxJ2VKCeVUNe6C11Ylorw12QMvP2CWZordA1Q71QVOHB+rZh9AmGcIINKAZPSpqrJA5MtVlL7lFUv0SGMtgwgKF5GPRTrN+5kSKQGqgSZUsdXPVVx4kV1ThEXFwTPVz1dNTOhCmzCA1NkINQMJDVbLRA8algJGoCCqBo1k6nyTOsTXQ90pJk1NT5UHVaA1FUqnNXTPLLGq9oXHEKUHnNVrBrV8wrBSZKmRUTaATMm5iepvXWqXmXHNibeswn3rNGb6tFR+r4n3qDYQ4IPNRzRXT8rVaK0UlImaCoq719AS2Ekvwn3jHxL4vpZMAQ03ikNREzJcmtg2brW40G89VtDYHbgKg7HAtZx1mC1Kb1TCyYEBrNUhTS15E8tfor9EEaCl8G88ckrSUZL+Y3S7jdhvXX19qhbGlpaKSmgkbygZGy8uDjrIwhPqI8BVr6UxlGCRoLDbib7Dk1ERFNu+TaaNHoU4IDo8moQMJ02ij9V0qml-DJr7pzAHARmouNpqvX9AX42mzRk9k4p2bYypmmhcugs2aMfsNmugB5pM16bu+fAtTZOniCPAHQbEX5RZu83KZfNR6kQHJuoClTNNxmyVdmsc0cFDNCm9LRQHs43NlV2QF5iltKn+b8t+CSrVrEiRcrAlT2SrRfiC0akRe+NYrWcwIwLqGq0LIYnVvkWP5aAn1VLUWmtzubhtzCWzURDGjtahWOW9zQpvm3GaJWvihZrkOFAbDCh6guxI-D60-NgEvsRbRQAm2BaptQyGbez08o+Uxt5WgzYdvwR3aatrW6yDNs3Rdb5icLcqLtrJpPDbNw2wvsIki0rQgImWvYcJLBXnKm4j8aFVgCe0U8VNFKn5YEsB0x4qVe2ytnMol4JpcxbCY4ZYSfqw68BkSijjjvWXpzU5PCF+BduSAzbYkb211NQFRY7gvtOaZHXL2twUgFg90Jjoq2775Ib+Y9CeuEBzqbA7RM7LlpMmB1AqstnMRUuDrEmQ7pQ0O6UBzswbNhLeutKgCtHhLbMtY5AuZb-nn7GVUeQHcQK3XgU7h9wOHaqHCOeme9tiMO8nQEG3Bi7B2gBBtv5yJ3RLSd6hZzlSih407todOl3XO26S9aEdqO77cHqHZs6Eaz1ZkC634rqDLYAATlfA9RE9PFKVaTAAFAYHAAlKVX+TcB3wB4mvSnhCV1VgDnZjEOwAEQsma8AgGepULc1ublQ0AbeuddRDF7JRG91LIcDmu2CN6C9rgRFCJLUxDI7Ad4crMLMkGD6RJw+mQroHj0BaBKqqmQNwt4WJzK4wGkHfSpHkGFZhtO6NZmi4U8UN9q2T7eHu5WAQT9PCs1Lbn+2ToF2EeqCGM3uiLJhQTQB4FTQZUiQtQlsFNrUGdaut+WuLDKF1q-rPg9lDayCAhEYCf7SanjcSNuAeCpFEWmvHvduFvB3gF2sq5lvYFf0iQuy1lBOhGB71MtqVWoLyLmrIQSCfukEP1RRyo5FhKNdiSg5ryfWNSz176n9bBoZy-N+9YERiLAfgP1REDy2ekVoDvRwzzAGBrA81DYlYQWDtUuQ7eHajUGTAtB9Q2ANkMqHcD8iiKHEoYAqHVDAg2fccNhVgrIVFozslFXOLkG9txo9XVemf5KAtQ4o1NaboIA+VDASrZaJSvFVMMsdUSknW2KpREI72SWuwE9m0R0BjwiKMA-dArWMr-90i1NpeGAPutQDBBiA1Ae7HGwR8FiL7US0CPYpsdWesI2Jv9LObdChW7FvTv9EqcE0rIyQBYyEbpB7DSoJw0-xWhuG3GNRoZAbq8OtwfDdoz3SEYGGu4d+XPAytULCOCon9vy25i6MUDwKAAOlgGwV10zUlHfAEHj0Z+7DK41biAZBb07hhD5BGDq+AWOBKljPHFYzGPWObH4V6kRg7sdObc9VUhARZEMki4REvjoAAAF4HNzA6x5IFsdeN7HBjkXIE8cZsinHtw5xzUO6g57dRRyMRuI5uCWPPG2IEJ94xFU2ZYUWjoeIYqQCGIwtUItzM+HgGuPUqsTd0nEzschP4nJWQxBoCSbJOYt4T7UIAA')">function singleton_stream(x) {
    return pair(x, () => null);
}
</pre></div></div></td></tr></table>
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.7' class='permalink'></a><h1>
    4.4.4.7&nbsp;&nbsp;&nbsp;
      Query Syntax
      
	<span style="color:green">Procedures</span>
	<span style="color:blue">Functions</span>
      
    </h1></div>
    
    
    
    <div class='permalink'>
<a name='p49' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, used by
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), specify that a
      
	<span style="color:green">special form</span>
	<span style="color:blue">query expression</span>
      
      is identified by
      
	<span style="color:green">the symbol in its <kbd>car</kbd>.</span>
	<span style="color:blue">string in its <kbd>head</kbd>.
	</span>
      
      They are the same as the
      
	<span style="color:green"><kbd>type-tag</kbd></span>
	<span style="color:blue"><kbd>type_tag</kbd>
	</span>
      
      and <kbd>contents</kbd>
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      in section&nbsp;<REF NAME="sec:manifest-types"><a class="superscript" id="4.4.4-sec-link-2.4.2" href="./2.4.2.html">2.4.2</a></REF>, except for the
      error message.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (type exp)
  (if (pair? exp)
      (car exp)
      (error "Unknown expression TYPE" exp)))

(define (contents exp)
  (if (pair? exp)
      (cdr exp)
      (error "Unknown expression CONTENTS" exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+7gYBIQw+DMGwUBwIgyDoHwPD+wt8jzDRG0bno9rELMkvI1IkyKI1R8GBsaQAPy6XI18zPvix9vfQQAFzAlKpLqiKF-QIT8g7UANIQTQ6EGzUQ-kKDCYoJT-z7CfM+wDzC-z3PIA8METy330OgswT8969QongwBx9QC6DQcNTBiZXSlmtPgwhoBiH70kCOVMt9UEENocCd6N8KF32Gmw3qAjGx7CAtQ3hP46EyGJCpESBUNKfxEXqQ0nwkKqA8iCGCRlFAmXwU8Fhw00g6LTigqhp8ZGNDkVTY2qifyiJmPY+G9xmbGyVuzSx0iWFyOTqHZhaiSEzACWmHhfjgRpSii7AsQibGlGcSDRcXiuFCIiXwwuxdS6UVnEEpxoB67SB8iEwgG0kLDwkj46xxjTGlB2rZd+05VCD0qeMQx8SeEJLSL-RQzAITcOAgAVWIAaYg1AADudghR6CUA6UAABaBZVD34ZWxjjQp2SfLCBeIPM2GZKD4FAKoEIzpKAsHqn9SQWjhD9mYpnTZJcDZnIub9TR1VVA7MKYwKIstzCDCodIC64gjknKkGSVo1yPm3LJuYc65BNh0Ctgi1EKyFjlLbhY25tS6m4sCI6BQxB6TUPBLQGKJi8U-gqQZDkxlPkkH0DiylzLvm-KZSyvFFSSXMBrHcGF3I0gyRCBFJpqgXTIu6Y0J+IrxySEfISu44rpDCLqb-Vo7ROgtAGP8wFwKMzmD6dQCEXyWQjLGZM1u9t9aaHkIs5ZRTBRaX+bxHSDSJRNJMpOOgPD7mVwsi0n5oBUQAD40UHwUAG8MViz4Rk0LbHeuoQlytoHVKaEjag+v1UKqQ4RCDvBKasiN4iQSWDWofTp0b+wmOcWUotKbuofWTfQDxcSmxFAyXw0p5aiUNt6l9RQP1KB-WqWfbcOkk2uJNt6yt9zDnHJCJlTQ+tDZExtnc-VC5qTqo6AkLVGwAXyCBbaudYL5FOxiTFX2sLGgyS7RGoW562apl9k8aR2qdWHr1eg+FBBwTnseLA21qKKV3qWA+xWztL0S1fdY99aQT3CrbIBz5f6IPOUA+uilMlwORQA00uDQQD1Ht9aUW97DJ2qApa2R9YtTZrpg6O9BwxAjDCqvbN1kgSDVi6Kof++yPSsX9ZIINoaWQACouMMN3WJ4MoA+P53tnQdaxAxR5qgtgt8uT6Bzn1QhqQFH8HXrhbQMIAo6ZBqZkbeGqS9AdLbV4Ajm6PZSEXcuijvsqNELk17TzoBf7110MiZTqnFZkPaSh4WaGn2u1Nv2dlHKzBKbyCF9TODULad87ivGnwKMKxs3Rq9PEWO6ttRuh5WC0taccWogCYW0LwIbH2SVPTvOVAI6xhN-Ik1hMGdI+5P604WYCanag3k+wEZ-UHdaQKLNJZU9QNTdXtNpwFcZp8oBJP+l3QwVFHHNvJh41NlQfyHmgdUGnCMhLiWn1Jby7RwdjvxYS89jb7IpNdGnZll7jRpEKd3uw6J0XW2SMzQJ6k2XknbGQ75s7+UxIqKMZWv7ib2GcKYekmd+qf1NIs2dtHismltLyRWt9GxqzQNFKK-HFP03NheE0nhBGZL4ZdYzJNS3wmY7J1JmnyGls05Qegs7-PCfKKqYj6RT2zCk8OHgBeTBWDsDXlwTeaAwadZ1rmpYDpYXZpG9kXI+QdegGraAeZ6JUVa5N6Y3pjB+mqAdLHLIOQ8hUKdNghQLQXiWHhkOro391k6Qh1oml+jhYvAu1zpzExkoTQ8JCpCwZMuh6sAYiPo3BSM7lgHcF8eiVQoFp83XF8-zV0+Q+PP9JE8twIG3FPdL8DF9Yo9UG+AXiHX7rqCpWKm-bWBk9NvoAXqd-5Fym7PKYqN-uTJFv+1B8QzHYzCHMqaIAL0EUafD1Y8r8WLJ+VRQR86x30sJpvfnOl-kslBnwFj+J3lkhwn+-rSn83xPHu+FT-I662QIOZpoh0XHzJVTD6yzUvF7Blw2RwyXg5FUBALB0VHYggPHR-2oAulTm2UMnkEzXWGj1AFBHBE+UwKz2GB-XeAnD1gNm5SAL0AswqGkAGA2WD0wKsgwmnQ9TPzsHwIhAa2yDYPHHjR0mgJJBpxMiEPkF+BwIeQ7DEJrzEMA1EMwIkK5lwN7BkMX3tgJUCwANmFu0vWsiBXp0e1AGcBNAnGsVf22l0CiHeBYIbDNgt10isJsP3lJlNy4NUCYJgJ4IMNABcMZWMNMO0Oa0CF-hyGiBsO8LNgAB5HDwi3hVA-CqNiE7cjVVAWQAAVLIdRYgQUVlJwFWAUSBBuf3YCUAAAamt2e1DEiCiEOXTn0LNgqNkxZHKMqIS2qOiDqISOOyrVxVt3twyKyPwHkAmTyPZkKOyUoBKJaIqK+0CA6NqPwHqNYMMCaNZFaLmPMAWK6L8K-3ciyAgSgW8OQ28NB0CGQNmBkCyEsjgMaB0jm1sN4MMKBSM0FRLzoMeJeM2OIVPiuOoEsk2PxRQL-yHioLu1+02N-m8KDQxA7EiOCNxSfg7ESJeyhOUxzk+NJheF7F2Mc2dUaBPWoRhMtyxFc0oMAN5VeKCENW4P0NZBGUyFaDkw5CdVKCIy-TqR-TEIsygOYNJzqRkgeLkMiMII5EZUBPOMwPkNFJJCKzZP3XgLsGoT+JuNg1Z3tnJ2ONFVON8JUDOPMAuJVNgPMLKzMHuPRMiOeP4wFPeK9kxIRMSWjSNMBLhl-xqO0N0OAOsQdJa2hIcLhIaJ9MdIukVmRKMP3iDN9PRK4kDOxI-x6NWzSABXQUJNPmJMxHIKXXJJ0Inw31NOpJSNpIwnpOIEZKJWZJJDtUKSkyykTMIxKxIzSC5MwJ5NQ2uT5LVJtNYiFKlJFJkKlxZTkI9RlPELrJYwVNwOVLAVVMY1l3nmqkXmXiV04A3l4AwA12zBeUuXeUL1uXdgjkSkv0ZBNS3LeTv3tlPL90kHORLliSqz3PHmpAChhW3B-UvKuXl122SmAQAhZCVFk3MCVFxXFPqVjy7AArMC7GAql1-K4IgrwLBEYGgp-Nj3zHgvzGQtAp9E9kqFkxwukGGhArMVjzqjoBLiUEdReFIvItyJ-CIqCF-JpIgppLqXosCF-P1HeA4WcDoGDE4reG4oYEaDYvMF-LKPgvMAdxeEFEMBDTN1aNopErMF-IWQkrMCktABkpE3kuWUUpgtjxkxeDSA0q0rkvmTE00rMCUufh9GADUuOUd00tktDXmTAD0pQp9AAFJ7KTLnL5LPLLLQBrLfyLcJLfLtLzcMQZL9KfQABCdEMKxy0yly0AeK1FaKjyu4FkKInypKvy+ZGIswDKrCrKqI1ENS8Ksy0AMqoq4K2PYNXK6S-K0AUNWqmKrK4NcqoywISqlKzqtqzKtI2K+y+SwIOSswWK8wHXYBbkN8iIV5K8ipSIoNdBf1JUF4d8nc+MWWOa85bcgveMMUZwAAKw9x21WqLnpTsDktgvmu3Nk2fIZTiwpU2oOoJFliwF2oWquXhTyFNgswAl-O3U1Vk2Bt3Wsu+3Ytj0gGIB3TkEorMBhrhv1ghshuUtj34skFgEgAgsxuxtRrRo4tggEoAFF4LMaSaCbIbfyAA5JQGm+yummmyMhLWakzBFV6362sZa1EC6yyI5OS6Q-wzm9mv6na9mvAu6t5JtdKWsD1Faxof1AW0NZ8uLSWva6Wrm2LBgnSB1EtDWxa6FEgXZH5fMDgx5Ypa8lTdVRgYpd046pQeYJTCIJdSjZlV6m8nIQMe8hlAcxoQeM2voIIdUhaEMyBD03M60c2zQ-PME8lSlALIlVQV6pahol4CU9W76z4LWkQqmwIRO7oFOtuagE6s69O77EWp8P6+QvO8wMg3WLMiO6ggwbcHIBFeuqIIOEwmYOOxIWbLYKBXuqOhguXBchXFeDgdebgTADcxaWgcIJQCgSQWGMIKifURgUOUCSgcCHIc2z2FwNwAKLene0c4IpEyeIiHEo8beiCU+1olkSQGYszMMLoo+6+k+gcdBX+N+sCW+v2HSaofUAmGlT3G0Go60h5Re0gJwK2Dae4XZUgUgPyhgColpRB9MlkFop+TBvzYCdYioqB2un8TB2mMMAQxmEgAyC6MBu0VladVpSho8C6X4AASEVOfpqPvrSNaMAZEguhAZ439QYeICoawLobuSaP0BZEPzsEYeFk+CmBYEjT3stmtkHjPuAjoJZC-odmSnUdADhBYVPQ+N7HUeKB8DYnfyIjMdSoxBZAfi5HQSfgInYn0YcPse0dMSfnlWUCXpXoJEkHXtDnUZMV-lPSKUbiq30cMdxSJGlC5XhyqTMZ9Owe4YqLkbQMUZcezj2WUYkbaOGhaKfuONsmQQSfUiSZ+XyaoyKdaIyYUcUCUYClyeSdWJqakdCde1EbSLQpNqjXqa+Ead6NKDkXcJCalS6aYaWBZDgpeAAg7HUbjOsaqf8IGcUeCLsXCBqOUaceAgAHIn7B576DmdHtiljlGZHJn5Hl7FhGAfJYY7mVHJQ7SSQD6IQOwHniq0abKsq8gWhmijVmjxkgxixTRFAQWb8rZORP6Jn6nsnuhPn-DexEWXg1mhmdG4WPnbnorXh8IUWrm0DEX1CFoHanbSAXaCdZVnRg5xJYCnQnmImm5ZxJwNHfzGWtNZNyn+p8gWW-a0h-VSWTRyXKAl1AMS0aXTQ+nPV6XhmWs4mlgWXdnfyHGQx9DEE7JpQWWNm3dNBiXdRPm6xZkHRxX4ZTQ6XNBYU9MOFJimWeWZWSMuS24-SCn5i1XSmYCuWO47WLWxy571tqXTWLp6Q9kLN-UDWZlzhjWA3xIpXzW5TcDU6MIMG4Ldn3COxo2wXg2fksTLGVwiIM2g2OFs2YWRna8BYacMG0LU3mBA3rg9kdHE2GwMHBXnaRXKXV9PHHT3DG3sg+WggBXHahWKWxWC3Y2tXtXu2nW6TJaJXC29k6z2Tj1QV5W42jMZ9Y8VWBQ3WkEYCtX2sGyytb0nR2sQ7dQ-RwWqJyBqBU5jQWg2hugWWLCgRrUFX6WMHz3GAgxLmkRg2wXP2qILFH3QC39ugn86M93eI8B-jr4Anzhb6Nq81ClyyrhyA55x7Fo3gi4phQAwZjkLoFowY1c1cCENk-Rg5VAjRM9NgNBGAWgIGcJ4pVG1AfcjU6OUnXs2gd0uhOnCZGpKOHJ2IOwWPaPSZZW1EhPsFWPXC+jqy6ByP+PcWiJhO2O9jcYNFsRb7VBYVJsHsZg4OcgAaDL9P5AZM6zXUDjIEKP5ADYeAXhKPJAXpGy-XTMkVnBjOLMyPSArObOlm1Ajs9OP7fWzArWwaeNXPjPMMuyt0iUNVd08SzBF2nPAgf1lOPPTR5PrOHPfP7hCA3PAv4ugg9dQvuhlOWaggn5ivITFPmPJPaOgvQBmN8SDSC5m1P3vPJBbPQB7P+BnjFgqSf1wuT60u5OvP7POvex-ONPd76uQuYuuPkRcuIuqT5irBsQiJJvjO+3hp3CAIxuNrEL2uevdTV9nrvnqv7tpspvT6CvEv8zkuJbUvUVPPDvsvBu-76v0hl3mg5vNUxVauWhIuggWHGgQy1vMJFuT7jFgeK6Dv3DuvevxCtuOUuIIf3vuRoeEuD3MtQfexlOEePumukyJzmv7ZqLYJSB4iWAqTzJK2LPNBO3ETdI6ffNf42B3HIgLpP2Ge8Un4OfwWvt+jUiWASzzUplQBoP0sqzjPWSEv2GyfyAKfXyJaJetMrvQ31PjOtOBgf0UOLMVfYOT6em6etI3zEPUV9fL3DeWQ+eufuRGD1PnBIg6pohujf6ch8en3OCDvj74Pju+vLnHee1-8fechzsneajzaOxA-nefgA-w-g-xww+g+fhPfzvo+I+4-k+rb2yYCQ+xGZDU-nu8+Xg1Ds9d4HQrtXeb73e-f8-FDU-3CId0+Xfi-a--DS+2MFoQhQI43U+UYy9JxWQHHVPxAq69Bt6I1B+mB7JXsyz6RQJJBMOiUchGBYUAH-iSk338yrWe+tWku1tTNm+oght4+h5Igc-NWnQS-FCCvcCQhiuk+Y+yuQFZ+Ft88F+l+WgV-zXr+xSquNBNAPkI-shiP7xt6yn6JdvOikDuE9+d3B5O4QAE+QOwWrF4IgIxLjsbuWPKLkCEnA3dieDHakGgJZZ6t+QoYXICwGtY2p88bQQ8IKDC6dcaBFFa4HQEc7AcLYzza2HQEOi7NGBdA+kCwK046M020sQ6Ej3UrINwg5AygVoV4FhdJBxIMHvcFEEZ0Xssg-gS9BryRApgLuK5GoKUFUVD0TA9QU8w+JcCNGag0IPwEEG2IEKBBOEsoMpRadtKWgxQDoM+B6CLBAgohqYicFyUyBCgriIdFnj3F5BFA-AIeChCXUvk9HSuOENgiEpIolgYkDaCkFK1jaAof+ozDiHkAEh-gpRnkJMF2kChuzOgjoxcG21cgugwwXwLdqmI4SoQvOr4NDTZDchoQlIQEOnhJCqewQtnBXy0KHIZatwVMK32EhAQC+WOCWkfxP5Z9z+YhKvpD2n6ykmcJeB-qANNwx1ugIw2CL-1lKdNQQOQgdIE3J7xFgBoqUAVRW2GLDxCJAsQPsO+hHCFe8RfYRcLGH182BQIbku43wCrgugLRXZiyG+GqhfhOjXjmoGeGgBRhhgXZtyTMBlCpAPffYVCImYbDryEoc6EMOtDgjRhOw8QnCN0QEFERBjeEKcgO6QjU28Qw4ZxQp4YlERYg4aL2EhF0ifwdwykccPhbJ1YI3gyGh2EZEqDKUMhbVgCJ+H-Mbh0yGom3XqxtDjc7wr3gQUcpNDWs0gEfhT2wQGgOEKmD9ieE1HjAXgBrcEQa3GEbAf0VIgSkqhRQIUDhtgB4dSL1GXDtRtAcumdzqQGib+7DE0SDCRTKoMGgInIP8xKE+YbBIJCUSpjyEeFjhHoiVKKI2xoEnejoDkemHYbQwtmLvdNpyJH4odEh5A7zp10o6sCjREtHbKABQ7Zi7O1nYfImO+6cdfuZsJ+HQVwZ0AoxsY41vZ3FDxjtOEtSjhZlTEt0KxY4CEJR0MDYMHGuDSjq3SsCgB0iAACRJqSAAAguAHAAk0AASukUgAAB5GmsgFRR0EdaWQqwBTw4R-t3q8Y76DiPNqEAYxMXB0CeIHQaMMxTYutkePCwsjbA2rDMSoE+hPiTMlzd8ZUEPGc9jx5tKcTOPnGLiVx64zcT+NW4Pjf2AE58RSNfGp8MxoYpsZIBbH7QXxxAfwr6C-HEAFkeQwPFkKd7-iL2JmG8bYDPGp88h1yCIf6k8yjCnAImL7CqJTjJZ7R+QBicLwtGnirhRDYYo8JIn-syJmEs8SFDboWAoWyaEgNh1RQAAGXcfbASATJdokk9lgE0oDdBdckkjQNJMUAWZGA2kt-thwqI8BlhrEAyZBB0nr5GAlzCHEpL7HV8T879X3hZONA2tVeGk82u4Q8b7cCCrkygTknUle5zuefAcFGMsD-wHJJ9KQJEDFRQt2x62fyWpKogaTaCIxFSZBGSloQNJWvDYDpEkGfAJkKgUOEB3QR65d+b7ClE-DsnpS8+P-CSZlPclBSgyozA7oqzqRPx3CBUyQEVOkChxkBMrJkXXUsCFTip6AmVi1J1YnsVCI0nqWNNckj82gVAujmKG9aGE3edfMUvcnymzTepJUqkjvyPCwFAew0QktdEait9Ry+-N4hrAMnyBb+H6YjHAKbKTDphMfbPnMM2lLDMsRXH7runOzP9HS3wo9CoN-jdS9pj-d0mcLAGNBhgLDW7lhhLwwCkRlKJ+ODLGnIC7kfgV4LtLGngExOqqAgMdnulMZ8BlcdGX1LjZRiURAw7QK6E06t994lEiYetimGopgBsw5gq31L6fdjkUwtKhx1i5dBqel4EgHUWtEnDT+IA0-v4T5GBAmZvEoOvugbKHSIQEZJQs9jwBiZtZ36SYafzenulOZufPUorLKmXh+ZGISrh1NeziyTR8w+DnLOMJSyzhMsqHiw2h4yEKUvSPoUnUZkmyeZj04FCeiWmBYpAs4BWdzMUISEtZOsm9JeCFFAiRRysiAU5yPaV8-Z0gM8Se0766gxZSxCWcnU66aAjuhohNi2S+HCjueL-BOb6KrkYIqE50sEUXJejQjMCeIhEYdBdbmBiEPs+kLTNQJmhNOmgZuWePblHTi5KMx+G7iuyoiQQA8ygEPKO7DzKJoAGOWJjxHuFh5sIYkdANh4tzYWxAW2WyN7BbyhpQQE+S9DPmBA85BsO2emwcFOi0g6bS+Y7LuJRydGNc34Y2PChQtIQQOJ5pHCPI1wgcqUKFueQWiPgDwF4xiAtNT4BQFpNefyRYlgUyi-4dpXsLj3ikEzu5PzNIioCKmCgc0d0xxjYICiYLpuI-PWiJFclxSa+toy0cQF1HYsL+4hfrBLQPCG4MpQGTYJFLz4xT8gC0ibBLRvkRivRwGXFCIrtn0LTxcsyBTRHFwu4VMC0q+WkBdFikzJ0XcWWaO9GVz-RlQEEYWk+CfNaFnwCxBwuSzKLse4oqwJKK6GqARFZo2eOJOAmSAlxQyAADIk0txiohSQtH4kHjXJJkESbxNT4XjPgTY8iVhN2b3irx1wQJZErfGrcPxXCkyDXl-EzB4lQE6ca4o8VeKoJisGCSkoSVUTQh0gpOp5mQltDUJ6EhJSoqCAshXJ+E0IVyDEGVK7FPkyFjkCaVdCuQlCrZEUuCWlyHk1E7IXRLxSuTtKX2KhVwpMX7cGFZ4sQf4tNFQsglCExhbxJH5mg4gkEYxdIoHQ4jMxxIc2iMtomXV0Enw0NBSmokF11MtAnjJlh3SwTSJ2mPZRRN4lMiFReteJa8vWUCiBywpBodTMMU3NFA9zbFgcoKFsL1sl0YQBZmLEvtVA+LFkKBhBV3MZelce-n9J4wwqGUpuLZbeVRVgrQVEKhoZ0xxX5AwOJkfFgCq6Ej8QgTYw3oSNQVJiww7IxEeY2BA99uxPQxTFe0sCCT1JKmCJexMtZfcrabQB0IbxFX9cOx1nCzNUsy6tiRVBXH9NAztyJABVVEPIQrQSxtKsxCnHCXBNoDdLyB6KwIJoDzTedQWRqvCQRK25jNcJLwBUWqoimKx2Jhy7ofuxTn6oOsIQo1J8H8nn8IlKC-Mf6zWUWY5F0C2cIIo2BWsGVQ8tZSdKCA-pOxqKBVQbFbGYT6uqqmwK6q4UeqdVHKPVckINWNKCJ9XC1XcFLVQsTVxIJPHUncKuSnVflF1Rqv8kFCF2WA51DnKrB3t81RqTVbOBFV98f5ofYdbsx-YzKRVOjSdexJaS4Sa8s63CfOptWwowg-qwdUKq3USqV1zyusj+myBPKhJ9ACzC4tAnLjVxG48AARjPULiL1EE7xQ6ptXNrtKh6zdSdgIFAgWQ4CaRmXzPZ9qaFIa+YnyoDWSSg1V4kxfuuV7SB6QgS09dkrcWeLr1GwFxYhq8UWZG1ULF9XJTfWBK6yMkb9QnG-kN1l0j4Y6h8i9SFDrYlGy5jhjI34hzWMQ7uA+ydDkN7YeWejSIGlZxpza4BVjZoJcwUEoIEgcjYXko0jqOBagGjX+tHxtlSKomigIxsj6IF+NlzPLPJvxDcamNYBfCNJrtgLQEgUQDKPSGMXibUFA0njVGLI3UBYpnGigNOhpXkCnmZJJtApvITEA3N0nIGb2VCE6NrNsUjjbQE83uAPNmmrkdLmBXGK6NQWhjXZtixQ9vmjmo5SFErV4KiUzRFFZ8z3xBabNWE3xbqHk25bVAGmrjSStpUSaXNJW+MMVpE1ha9F0gModZLcG3KjBtQupJluxYRYRYVWu4D1pzZJaqeCWoIAqMK0BbpwoWWrVxpq10BPN4pDHoOR820rYwqW79YwAy2RbsWsmUbXltnqGaNoeyMrU5pKVdCaJsEMZbiguVYB5tZQJjrAQ22greM8gIzZ7kJWRosSr8+YtYqvYhi2hAoghNdpf5BibFP2uxZ7Pdm4M6CQ2yUhyA9XLbLVbIagBC2RX3a0VLwPbQoDt7joHQ2CPNK+wtap8zsU-Dul3V6hD0exPasQC22Faisqc2bQ7UcvPCClSloys5aYku2mJHQOOiNBz2fBUANoEpBZsWxxF1KEiJfZyioJpKi6u5kNU1KMnGRi99hupJCkslKJlErt4OwICyCp3DsmkvS9jkDu+0eqRyPpX+JDpMQDa4dWVbXW20Azrb0UCgQlbJmt007xwdvY0XMmE1kVaBFmAAJwDAdI1FWgUbpiEB6JANFD1deSmCQg0dB0sVaYM1BOdEuJ6a6hiFknLdzAgeiiqoD2Z7NWQaAfPWasDmlYKUmepAdLD7gl6w9Qe6iS-G4KlLyo-hOwMsg7ykzxygQUvRHtr3wN1ExrUvZQukAEKiFH8ZMP6vp1U9U+A23ECtvwUUUh9NMYCB1tBWyYZ9hCr4HdMx2MwC2r2yIJWvpyKBMgZoFGlCtMyXQLM4bQUEaxNa0tumO+xDk0T6C9KCMJ6P6IwAP3w1bGqKFkGaDCJBgqSpetIksmWQFtQAnzUfpWrMCAHyw0uiEVXqz0DNdlW4Brge0a7BdQU7qq9jew4R3tsVSa-OgBskkDq51S6m1SNjGyXQYZwQUFC-rf36wP9wEb-XNGukwGvdWelkIAZV3sTCk2BloHanYNQHbuKBpA96vQT-62D7B5ZKAbNEMBxDSyQvWYA72hirlpS87ZynLnBpAS8BzrXyJ51-UJ+SwS6MLuOSzAxd2lM+FyMX13NEVIYL7bYqzF0ESI2c2ejhjyB0AJkbgW-QmPu7Qqz9zCiNh7oLYcj5GJyERnfuAgP6wBzZDkIWIsP3NrD0QYMUbvsP4bbS1sMQl5qnkI71EjwzhqMKUDaMWGaqERlM231j8+dEaAw7mxHI5spdU+OSmYajEIrSpd-XeQQXamOkLN2rSXVP1l2i8lSiTfkC+3AXHR56KsXvsypaMQg2jU8vjRaxBGFl6pPR+XX0YqZvQRjtmdZFvuMV7NNRqgJ0QAB0sANCm5RgfwBGolGkOzSk1TuSUpc9wEag6gWhYDBNjnW7Y0eN2NncDjRx4uFoRONnGORBBQgPTn8JUd3CgJ0AAAC81aoAA40EGOPXtTjjAJRsYcuMQmBwCWW4yBH30PGtI0PEYG2RcNuGIQ2x74-nl+OImTKczWPHkdjjNFSAzRf5v2D2bcg8Azxh7cSeWlfB4TfxpKpSZ9DUngIzgWk-Sd6UYnywQAA')">function type(exp) {
    return is_pair(exp)
        ? head(exp)
        : error(exp, "Unknown expression type");
}
function contents(exp) {
    return is_pair(exp)
        ? tail(exp)
        : error(exp, "Unknown expression contents");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p50' class='permalink'></a><p>
      The following
      
	<span style="color:green">procedures,</span>
	<span style="color:blue">functions,</span>
      
      used by
      
	<span style="color:green"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      (in section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>), specify
      that rules and assertions are added to the data base by expressions of
      the form
      
	<span style="color:green">
	<kbd>(assert! ^rule-or-assertion^)</kbd>:</span>
	<span style="color:blue">
	  <kbd>assert(</kbd>
	  $\textit{rule-or-assertion}$
	  <kbd>)</kbd>:
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (assertion-to-be-added? exp)
  (eq? (type exp) 'assert!))

(define (add-assertion-body exp)
  (car (contents exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+zjryCpoSyTmTlchKC4KqMvGyBAA-Gx2db40ABcoCKMwEKTqyACqxAGsQ1AAO52AVGnz4vieM4+Ch6CZy-MavUh14XydPobe5g969kPqUE+Z9qDAM0NfW+98n6nzEq-L+Ktsa4DAEhBg+BmBsCgHARAyB0B8B4P7Ba8h5g0Q2huPQ9piCzElsjKQkxFCNXoQYMBu9dJyA4TMGhiw+w8PMCfIk0ouGgOGnvIO1ADSEE0OhBs1FhFCgwmKCUUpSTqiKIw5hoizDiKkBRE8UjDGgD3tQ3qpjGJcP0dIn8xjJAjlTOYmRp8aEuNdKWa09jT5MMccfYE71OG6K8BYqxXjQmNj2EBXQBjhrOI8sPCSIiPF40+EhVQKSDIcmMn2J4FjhppBSWnQpATElOOBFTY26SfxROmszOptT4ZK3ZhUhJQToHAmTqHdxDTPG9T6WmBxFjnFpSii7As4TuEeOsTMSZbM3GzLGUk4E9dS6UVnAMxoe9Nk+QWYQDaSFUl2NmfoBxRSSmlB2rZIR05VCDzObQEyUiHHdLSDAxg59RnARvnfR+dghR6CUA6UAABaCFQzaEKCwTpA5qhhAvEHmbDMlB8CgFUGvCILB6p-UkNk4Q-Z-44VYgckEuL8VZOqkikgKLGBRFluYQYp9pAXXEJi7FUgyStEJbS4lK8zDnXIJsOgVtRWohhcchQdKBap2oN5OVlzik3NKI6b+9IEngloDFVVaqfynLyUZRQJliXXINZawIqKLVWqtac7VzAax3EFdyNIMkQgRQeaoF0ErPl7PDqoz4GDrS+ukHMm5J9WjtE6C0AYLK2UcozOYWBEJkX-KQUCggjN9aL0hdCg5WkWW8R0nciUDzf5OjoA40l5ki5PMZaAVEAA+aVG1B5XNQZoW2lDdQLMkDEv5XT-4eqkOEQg7xDlCLobQOqU0VqWDWjOpsejKn9mKY02FOjiBzuWgO15zSZkrq8Gs9ZRyZ07u6h9Fx4bFA-UoH9TpgTtw6X7a0k21a13-wxVikImVND60NkTG2JLk0LmpNGjoCQ40bFZfIdl8hOW-rYSaRWzsYq+yFaUGS57ZVCydlMjDEsnhdPjQm+DSbREioIOCAjjwg1NtAKq3DSx8NocI6mX2JHn2iJ-dykGi4g1Ito+x+jDzQOqpkmxyKYnxxkbSHBhDpLsOXjfc0+Gqh9UXgI8sn+IHuPMPk0EYYgRhhVXtmWyQJBqxdFUNotFHpWIWVUJIJtraWQACprM+Ogx54MoB7P53tnQdaxAxQTqgvIA8MECRvIud+rl0N1M6OPZqZTwrXmiplox997SVZ9iM+Bj2Uh-2AffSBrTliAte0qyfeuuhkShfC4rWxrzhPC3Y7pmuWsVV2tKCFvIzXIvRdQvQTTfXhqZKA9TH105Oti1NiBgcRnFOUcaKO4bb5tn5F2YMgCrWwvqIbH2f1XzquVBWyWxm-aRn+OHcm6jadGN9IVUqqRRnqNB3WuynLTXqARYOyZNObrzDUe8-6aDDApWWfB8mWzX2VDMszm22VacIyarokwnVzqcnB0R7aibhPzCw4tF0T9lWic-i6UFqhXilkLaHYEkdl4ptevHONg1LHZuCZfmk95a6ad9q8a4vxqyv0Pcy6AB5jGuci8Vg8l5O2LkOKM9WZRopvVy-V7E3oLwHkq8c9SB5L7rteIO4z5h-81dHY1+zg72vCmiK5-bhXvPzmpcuWugngRSO8TwLgpgrB2DEK4GQtAYNe38THYwYRDoV4bcyNkXI+Q49MZKXvcF6IpXjsQ8U75vyHSxyyDkPIXaosKBaC8Sw8MH1dCPvCxmU3snGqsKal4aPxeG4pncCaHg+VIWDBTlvxl2+KsFAbu2C0Qi8p3fygWSL4+sL-NXJFD4++z4Hy3bN8rh+moX8z1ij1Qb4BeIdfuupTnlPwIvw-wMnon9AC9c--IHVY6dTFa-B-tp3+Py8CGJv7ZWc2whMQ10wu8JhkoWQ2caIaZFpaBv4DBn8dZoDhFxMv9itl95Jkp9dgIUDOQt88D909BUw0Dk1u4VwiJxNBd+Q4Yg4zRohMdZhscYp7twDXh8JfdJ8L8RNCVDIl4mcyDSoD4eMuCaCyA6DPhnAfJ8F7Jxd1gis7AgEkU+CJ8sBqN3gJw9YDZHVdVEhGMKhpABg54m8+CrIMJP0K0b9qQlCbd2U9dxwe0dIZCSRtczU+Dfh5DkcOxnD5At8fCg03COQPCuYFD2CiIfDqCxANUGtGDmDONrI7Cpd8dQBnATQJwBC2Cchoh3gzCGwzYs9dJdAogciaFSYN1QAlCTCORcjsgLDEdPdUiLpGDTtAgT4sjii3gaj2VDAAAeQo7Izo0olooIKxH5OBVQFkAAFSyD1DyEFFAEHicBVgFEUQbjr2AlAAAGo09CdQxIgogMV04EizZtj-MWQtidiJs9johDjVAhjhjWjT4xiIQpiZj8B5AH4FjGUlif4Vji5ZB1jzjtiKcghriDj8AjjzDDBTjWQLiQTAgwTbj7iACFo5EFElFbChNbCa1k1X0mEZAshLJWDGgdIBtJJjj7Duj0sggNsDCuiyiJsrF8S5FLJ4SghaDqB6Ch4dCcdqc2ST5bCm0MQOxbCGTCc94Owhi2SjEBRQsc56TPdexkTRETNSg+MEkhTs8sRSttC39dDZRmNniujEFMhWgAsOQi1ShVtEMwNShqMfDGNpMfDN4eMbkZIyTlCORXDPSSRetKcmAvSK0fTfCQcFNYM2CEkCTqAiSRDI9hwfNtcsSEjKScSNg8TZgoyYzLdbSzBSS5TRTKSHM3Sl86TRSHi0gmSMyWSOc+sOSuTYj39Uw+SrUBSEjNT95kRjjyzSg94LpFZJTkiaFuyzsPSuIuyXglT6jQzjNLiyguUNSCiNDdYANdSmDGyDSblU1jSM1TSd1zSSR80FifMsppzTNE0bTVV7S+DHSeDnTfdizWIPT-DRTgy-TKd-CgyIjTzi1TMIzmTCSXTDM-ccFqo8ECFg9OBSFeAMA4zsxnRKA8VfoaV59iV3YI5EosDGR00WR4LELa8P57ZcLqVJAEKS5plttlU0KOz5TBVtxqMiKkK594woc+FGQeEAIWQlR-NzAlQ1U3zAgOKuxuKzAuw+LvczAOKgFhKKiwRGAxL2LID8xpL8x5LblIDPZKh-MNLpBhp+LzAOK6o6AS4lBBR-NDLjL5ifw9KJLIDU1hLU0blrLWKe99R3gXFnA6BgxXK3h3KGBGgnKOLNjpLzBVBC9QBBRDAW1QBwVtjLKArICIVgqzBQqXgIq3NorIVwqzB4qfQ-MXg0gUrwrIrW1wUPMsrQAcqe9gAkqsUwq0qorwUwA4rxLnKJiABSGqwq+qkq0ANq8qyqiYrPYKrq4qjKgoiKlqjigAQnRGGrqtGvBRmqlQmoUp9B6M6vmvSvBT6LMBWrUrWtRCSpGq2tAB6KlSKsmsgObQ2tSoWtAFbV2oGpZGbUOvysCGOoavuvOr2tKUgKmpqoysCCirMCmvMDjx4W5HoqpUYtOVFKbVEWcyVBeAYtryYti0hslxRoJVOWoGcAACty8ocEb61hB0rJLob8KHJJ5wiSABwWqggsbkLmLuQ1DMaKaCURU8hTZGMAIOLINY1-N+boMnL-T9LIDIBiAoM5BTL8qJapb9YRbRbWqWRvLJBYBIBhLVb1bFbRaOLVaABRaSg2nW-0jigAOSUDNpqotrNuHImwxqfAqPZuDUyy5tcPhsaGc0xSiu8M90ZqIPSh-gdrCCdoQuIs5trArQ9tKC9vSoCmvz9udoDufFNhZoRX+INn9qJXpS+KiHzCsKBApUiCsx3UUGkEFH2MkDxqUHmBCwiAAxrLVX9tIpyEDAovNQp0Hnzr6CCCu2Cy2CUR5JigLufgdAxyHtTEq3qx3VUCzrbgLNnL639ojrQ3HKnuLga1nqTpxvxsJpeGlLMGXtdsjocJNsCCXJ1IbP1MQN4hyFFSXLztxt6gnr0BywHqvpxxZv91AsD0IQ4BIW4EwFgrgL0GUAoEkFhjCCon1EYFDlAkoHAhyBHuBEcBcDcACngcQZDJaIlOpu9koKPAQYgmwYuJZEkCBIFHCH2NuIwcIawYHFERPlobAmIb9h0mqH1AJjyQrxtH2KLORyUFIFICcCtg2nuBRSEdGoYG2KeSEfbJZHOL3gUdABPjOIuMEdIDPuGgUdpjDEcMZhIAMgul4btFzs-WeUMaPAul+AAEg2CwTSGJiLiOGRILpuHbNnMLHiAjH5AGUmUSVTj9AWQkC7BLHhZPgpgWAG0fh0Dsw6TB4cHgIDCWRGGHZkoEnQA4QLF+M6TewEnigfBqK8nGUSUlrgId4uRRE94CJ2IMmCiWQKnyiv4wHFZIGCRJAYHQ4Em89kMXF-jG4KKMmsm1UJFWM243dZx8nyylGnHtiwmmjImans5UVomBw4S1VziKHMTbJtE5V4xFdVnoTF7GhNmLj5mInFAomAoVmpnoT9UuQUmSko1vGrGlgWQlK-GXhzmvhLn11gk15ZLVmqnQBzmJipKXgAIOwEmJz8J8mvmXnwmfnGAWAWjnEwSgWA0WQAByChweUhnF1JxEiE1ZkJkFhFpo2GRgHySltKwQ+KS2a2EkNBiEDsGlrRtVDivIFoM4uBM4++IMYsU0RQAV3Aq2fAv5nsslnxpZ7oNlmFoiOVqV15pFlF1J0F1lxYKlxU-CRV75tllE3Uau2u0geu+XccSlYOcSTeEBWJjZfppuWcKBCs5WzZAZuCF4B1NBNJZeemmO+tI1k0E1ygADINC1+GU0PxytTQBh-5hwaop1kY5WipkMBIzROyaUZeVFrtA1-kGlusUFB0MNq1v+ZNPjQue1iizN5Te0+etsqVURbZrRaoz19Sb1kBb8qGy1oV+kVFRjZzPNkFc4Qt50Lt8xxlKNnid1S8WGutjEHC2Sx5yVpQjsEd8Ni6Ht8dz3AKVd8Sa4VFGNnpGdjCeRpS4Fnd7tlxcd1Jo9hseRgNuu4Ns1mAxd51pQm97IX1tIZze9oNkNhXc9sdpla16NiVs7N92tjCZG5gNdvdzdlbc8pDHJ+N9t5TGSDi5NgUVNnZ5DkD+DijC8qd1iScS7Q4PAaMjhdp84Yh5GidBYvcq4cgbBX+xaN4IuKYUAMGLFC6BaMGcPcPUBOeP0YOVQI0cfTYDQRgFofhslC2SUL2WbCTqT6ZsltoKDLoHpwmRqUTqm7ODsavOBJT0DjxPTqLAzsUp5o8ugYT7TsItQfTyT0mSI3GQ0CJrB1QFeT7PHGYKjnIHmyAjzHz+QPzac0tLIdEkT+QA2HgF4UTyQF6ak6jcVZwQLxjIT0gCLqL+VtQBHbz+h78swMt5oUutT5EQgZLvL6k0IoWroQrcjJTHMoIajezloVL00azyLuLrL+4MrwLydkpDbar7oZru2xNwb-k2zhTgz-L0AVUswWb7fKfegYVjLyQaL0AWL-gSkxYLDDLR2pLlLqVNLlbtb3sHL7EVh6bwrku1T2Nbr8ri7yr8wPs7EIiM7wLz9kpJQgCWLtbpQjbrbkMj7y1U7rz87pBvrhTBDhrwIJr0zyT1rqz9L-7ib-bvL2rtIK7wbybyTiTNIGxxoZ7riHrrBopfHynJQv7jrzbpImA9lq1In+78H7kMnubqHinQn-CZrgH6b38xoeb+bnScy2CUgTolF6k8yE9sLxRF9m5WRKXzQWrPUeRyIC6RgIMEEveFX4VkE-PcYlgRBQFFBcj0bQ8wLy0ubtgoX8gEXuiyXY37bMHxDKVKbQL9zgYajBjxje3yjtz95+XrSei2jqVb3qiV3lkLXtXrSYwlz1OSIOqaIO4uh6jmn7b21pQzB5P8TUl5wOPyujPnIVQHPy9aIZBjsIv+Pn4bP3Phg71cv-Y5B3sOvkvqv4voeYu50-P3xgM3021o7zvj19w0l6Ime-vlPrviItPwFqbJvmIUf8TAfoInNnWUCYD5BlGFfS+cphvAOJ8LmhB2VTfnw+F3c+kUCSQVjndHIRgFedh6Mw5G1hrq7lfqt6H0HSXGf57avtvsLO8p0Bf309HjSSXxY8Z+I3XhCQBP5jhGA5-Lllf2A7-9fC43DQJoB8gz8hMoA6btaUQ4AsN4L-STJeCULICfIHYTNi8CIHylM2mAtng+WpDEcVS4ZUIuQOXhL9gU4QXICwD6aLxZ8bQQ8IKFsx0A1uPAkytcDoDxc6WsnUsodGBZCC+B9IUQe51SbLtpYh0IHiFSkZsDiQnAmIjIP4EaCOBXEFQQfUpw6C5BL0LfJECmAl4CUJg+4IIPgzCDTBa-BlphCkEBoTBoQfgAoOCRKDs4Agunu53SoWCy6uQawfYNkGqB3B8gunsNACFRVQw7Al7i4OWx90Fo8QzQfgEPBQgSaOdaTpXAyGwRv4kUSwMSBtAJCvaOQthozHyHkBChaQqJnUKcFydrYDQ4FgYVSZBDGAVgz4DYNVQik9BZ9WIa2mqG1C9BpQzQeVGKEotZ4r6MejEQxQB1bgJBJPjkBeDCQgIE-CXI7Q-5So0B7fUwqPwiJGYBuxXW7qAPKLD9ugo-NYQgPLInxQQNQu9B02F6dE0BtfL-p7muHd9fCLAmSg8NsBPDrenRe4asNgg3DbWDpepvgFXBdBziwLFkFCNVAwjUmmnNQMCNABrDDAwLB0mYHaFSAV+9wzEQGguEkUJQ50RYdaDRGfCIiuIkEICwJGZN4QOAiEBiLPYFDHhrlEXvKQJGqCSkvYDETyOGj3DvoAIzkSu1gjRDKcHYfkUYPtTuEs28I6Edyx+Fck76aEOoaFWQZKEwqgw87NICc4scosBoFxGFj9DCtGIpotXuMBeB5s0RebDYRsGowcifKYaSVL8OFFOjVANo0EZZzNG0B96StA1HaMH5sEnRIMcVOGnkYIicg3LVoTVmCQqirAao0YaGJdH6jCATROPo6FnrijbW0MKhgnzFF9wUhuoBjkUPYEZc1uonMQQ6MlwsUGOFYmLpFyfxsEQgWPM2HvAMIqMBQPwzMYW1i7ihsxYBGHpLlE6MZCx05DbCv1E6GAlGFTLsaJ23B31QAkxAABL61JAAAQXADgB9aAAJUmKQAAA8mbWQBSoDCRhJwlYBF7eJVesWQcd9DBHiCgQ6Yz4L2PvF3pEmpY3sXuyFaWi2sQoj8ak1LEqBPov42LKS2AmVAbxvosbMg1XHritxO4-cUeJPEQSrAJFUug6B-G3jxgJkACbYGQalj1RvYyQP2P2j4TiAnuX0GBPGAQo6h2-BaFBh7Y0T-xbI2wI+PsZ6DCUmQ5zFpjWFOA3MIJEXoaONHQS-x+QfifrzdF3obhPI94oCLEl3iKJNwkKEuJjyQQNAJAdjlKgAAMF4xmAkAfi7QxWnArZO00oDdB48JkzScQTkpSp1JLtLSYoAuI8Ajhl4ByfuicmMBSWU2QyVAKIYF9R+Hk11g6zCwWTNRgLBpv5iULBSK25kyvBN077JDzMC0SwNon8lYMpAkQH1GKw86S5YpDcUKSRRa5niPixkyCCFId4WS3eaZHNJYE+APwVAocEtqIknFHhV+xzZ1r5LKmd94BFgEyZVPindlnEShBNgGiUJsCGpTUmVqvwlEiV6pkgRqdIFDiQJ22w07NgwORyTTFp00hyfqLaBcCpOYofIJvwOHuF-4OkbaUtOak7dsBeI9qSGUe4Fd5y10RqKP0emv9CO1IHPIALPL4cnpjXd-p-1b4YTeC8bG4b9JUz0truMaaDIXzAGSsoRCGGUSfCunTTXh7OZwBDx-DDAbGWAz6QAlpG4DCRlqCBAtOukzTHpfgV4OTOmmQIjOkaAgIjnkCAD+ebBNGctNX4-DiR8w7QK6GIaJ8WGKwmnhxOHFbCv+wMivqDI77LDx+wY9IFyg-5lNBut0mSCQEOIiiXhX-dAe8P9EBiRZXw-oLOSwFP92pQ5YIoTjwAeZrZVGd-hLJ2Hay9h1RGhBDNamXglZGIMbrLzJYayPR-fGUeYAxkwFC+usrADY3Dm5l3CqqGBLMJH6yyUyhsvDkpj4wHSGsUgWcC7KSJCy5ZQRDwlbJtnrZLwCoxEUqNgzUCoZtA2OZcPjkGzDh4ZFKbqHVkQlNZs9X7tT3tGhEIRc7KMUiMxY9yYxwSFEa3ORovQsRfBGkfiMOidSqsPMiUHzLNACzNAbcm4RPPamaB4uwLWeSCE5ILyC+685Gmtwn6gB85HmGkRTynlwhgQFPUeQGibkGwPRvYJeXNPPr4R15z84nMQF9nPCZpT8gURNhXYvQ-5fWL8qk2LnRjgmxYqPOVIRhdZGhkcTCjXC6ypQxWBFBaI+APDpjGIe021gFD2kEETJ5SbBU+LibydewvYPBYk05bSBGpgoaPIsEqbBIAo5C3KdMMZgUoRIDknKcLK9F-DiA1ozVgbA7lv9HaB4ZPNAsYxpTAyssrKfkD2kfZJcd8sMRKkYz6pFFHonhQ+IDkgMMFfOEvGFj2lALGgQYxfmwUUUujIxiomXrwjaGDzp0CgCBgIq4WSEx86gPRdAuiEJjyASYyYaoDMXTg-UqkqwMuLXGSBdxV8AADL61Txuo-SfbHknXiHJeEtiXwsNm2sXxGEtoA6HfEETgWX4zCdcESXZLKJQE9CSBOgUmQt8kExZGKwqW2t4JoSiJVErQmKxvx9IQpRROQZ1CtBM9LTERNGEkSyJRS9+UECgJis6JegrkDyL6U+KopyCnIOMsmFch9RFKdpcktFnI4ul1Q3iQagcnpUQS7C6BU4uRprLDZckq8c6JqVFKVJyolup8BpaeiBFtI3hQgLLHEhOlXErZfWlEQQjW0qqLpdPXpA9D7UcfRSbhIeWKBM6JyiIn-J1ErLLlGimSYbJFrPl+h3MuxXcscU0sXlDQ-+NRkuik0pU9Y3NEsEVYsgWMDiiFeb0JlY98VtNcomaDiCQR7lWKr4a8tVYWdaVSuYgnpkVYorJh+okIL2Lc70jiFNSfMTEHHEFNgQK-SVcqK8WWBQVaEYum+ItEEgV4V3IVQLNVVuhbp1GUcVKgGUdcBx2qmMIAOozCMfkiQRVYdj0HR0+s0y8sTZ2ok4TaACy9gVSsCCaAJ0GXQVi6uIBuriQg+G5EoRNUpKdRFqtKYrFDVsrsZ+M+uXPDCBwJPgHk5VZhKcV5THaFExjOgpohpI5FGwDVZhOFXJLcedpEcZF0YyGqDYA4jpWaslwRqrVHkuoXartQOqShTqhyQGpYAerzAXqu4B2rGX0SgeMUsVi8HDU2BI10CmNdOTjW-kG5VYFoG0pMlwJrVTyFiZRNzHhQxWa6v1STOdZIgl1BfUNVmwPWrrj1pLU9aGp3UwSV4iahVdGtTWZLr14k6ctRmyDMS-VLFepYhL3EHjjx4AIzN+u3G-qUJ0SkNeurHWjV311qpHDJyBAsh5EEC0QsOEXWHKiFGwO9cmpMmPqsx+asWSHWg2JLGM9SsJZEoA0bASNjSsDYCwcmQb0qhGmpROKLmIaexJWLQkQTxq0pJwuQ2kvJ241+EeCj4TjSIGA48ahC3QfjaSwVgcb8QUbMTRrA4JVpzBbGlclBAkDCb4womxoXSUk1yw4lPBQyhpruD8acF7EXTchrsDSbDNsmrTba1Wndot8CQKIBlHpD3KTNoqkgUpp+FCbqA2UoTbJuxX9DN1y5QDP5vnxhaKA5nRNnyvYGpMfN2U6TRFsWxJbSYhi8lfcukxJb3AxAIzalrDlK0YtbykKH2omJcszi6WgRf5ni2UTYlC0Qzb5oknqaAtrKnFaKr-TsbrN8+TrZFsSY2KekHQroZFl4G2YtMFWiFe1hFjda7gU21LS1v6Gk8Cqo1erQlrmxqa6AuWiIU1pEB5aWedqQrVMNxAlaENjAcreiopVUszK6mhrWnQMnyBnNsqG1HNv5W2tNlPEr5Qah+X5bGg2lTeGdvuVOaXN52nyPu0MVqpPF3i8sV+VAS7bE24Om1T4upERyT4BhBbUEH22xgjt-LU7QsAyhA7-MAOhQDdvtiOgosE6JeA-wjLoq+pD9IOKkRmAv0b686sQD+1NZCZHt6O88O6Q+VvbWSJST7SUhJ3CNZUKvFOvvyWAH0oWm7BAaDuSqzAPWxVGUVuTl3TyicLIAFMgkUKwQs5h5IEmHIjmBAWQLOx9kGiWXKc4dbK18j0xR3FJ0dh271YbprqBtWdDybHVujx0vAjdf7ccCzUdFgo1tFlRjAAE4BggvCQBZQt25DQ9RlXgWypIpTBIQLwDdY-0SzODIQpayHv9L4x2ACiOk26YEHMq8DVAWLLFqyDQBl6e1rPf6QTIL0mUZpYQbGY0Br0Gwul-CCEF0vKie47A0KM-PQN57mAm9se1veI1mKFsm9yy6hSZToVLBkwSawLc9tFX7a7dPeFQDQqn2u6ZUGKylSign20KvgMeb4cAwA5A7sU3jCdHrkUCZAzQCtXFZLkuiMYB2goAtkW1NDZjwmJ+vtaQz6BLKjMfGP6IwEv3S1QAZTFkGaCyJBhbpTeiYlCmhQAdQANLcQKftFT5pEqRs0RJAb1aYqtwM3KHvNz4zRqvFqcY0IutsyXR09QQU9R5JXVXrL16617NSwb3BAuUf+gA-rCANztQDc0AGZAZZDQGoUPo8SQsWIMtdeDUKcsNgar389y5aQbgyIehTwGXRDAWQygcAED71RfyridsstT86JsGB8bQHJF178Nol0aXVimV2f4oqzCaIWNqpaeiQw+xVUfDvLEGESIJHYBtJjyB0AH4bgSIH2ozUh079UqB-U-oA6v7jGPh2jqcS-3YyryHIFitYepZ2HogDhi3c4aY3Qy6SPhKLbwjZDUBZigI-YuiNghKAUmNjZ5j42P0GG9AYu2w9RUyOe47i8u9KpYZ+H4HqAhBlxEIY6miriVHU+pqqqQ2CdUN0a8pC1NCIdhQCE7YrdB3EjH6sWqq1QPrIAA6WAThQCq+BtH8AcCKJijvCq3USUlqEvcBGYOcl8CAwI-fcrmNgSFjAY5Y6sY3qz4CDmx5FtmI3iEA9cnuMTkoTeOgAAAXv2HyrLHyD9x+kI8a2MNHdjvxtZn1kOMgQL9JxrSGTxGA8EPDXhiEHMeBPrHCUYJuqhC0gLFHY4ZxUgGcW5b9gsW3IPAOcccXonDpmJp41ExxMuszizgQk8SaWUwnywQAA')">function assertion_to_be_added(exp) {
    return type(exp) === "assert";
}
function add_assertion_body(exp) {
    return head(contents(exp));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p51' class='permalink'></a><p>
      Here are the syntax definitions for the <kbd>and</kbd>,
      <kbd>or</kbd>, <kbd>not</kbd>, and
      
	<span style="color:green">
	  <kbd>lisp-value</kbd> special forms
	</span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	  query expressions
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>):
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (empty-conjunction? exps) (null? exps))
(define (first-conjunct exps) (car exps))
(define (rest-conjuncts exps) (cdr exps))

(define (empty-disjunction? exps) (null? exps))
(define (first-disjunct exps) (car exps))
(define (rest-disjuncts exps) (cdr exps))

(define (negated-query exps) (car exps))

(define (predicate exps) (car exps))
(define (args exps) (cdr exps))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6ShyQHrhwo4lpL7dW2lMEK8RrxK3XaG7qUiN1zUE3OScqRLpAkrsCNBYChZi6EsJaXrPdUhrfW3tTbRlFBcbMsKMa7i0m+cwhmli6kjL91QVnoUIpdB59ean5HsVhisXYsKlsDuyeC4p0CfAF6vBN9L8rmqwrlWmUrxZNvxchste72Vgfzk5Kt5hQV02w3p9tdByIaXmltIeXH5Y4cK-dBjY55Ozb2TumeC0JsRfg2z3bjP1EHNMJ4oD+01FHJAdr+O5rZ3xQSyzOe0Gkl2+wANQyf10g-0rT83E04QDnx0nQtFKAeGxRcl8QTCpkgMwmg1rx6iey+WtXQILzsCHWwOEQQOoE1Fkn-BHyaV5UXT835FVTwJyGWW2ikVNQhxwh8W3wSEtipVfDrzsHTxH0EzmTGm9l2wwLsAYM3C9TEO6SHgEKYEFEOWaAshHxAloIGygOXSYNEFnxH0GjUMFA0KuzoMwNXV0LgKjVUk-hQO4KdlAzkLomrzuB6UuE-0L00EeEehEI4V2y9xCC8J8MiGAn0mCGkMUCEOtVkMWXUSGQaFcJckBnSHD2xR8NkKMAAB5Ai0iHpf84jk5vhA9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgJPHcUAAAaj92gTzUeHAnk0cKMA6JzW3HaM6Mcm6N6PyMcW4QLGKiD0UDKIqPwFEGPBqLqOPgaO5xaOGI6MiX8HGPwD6NEIGJ3HKhGN2JgVugTQmJCNc0UNKAqCqBUM5XPy9T2QCAJn0GcDKFmgIO2E9THl8NUNiMcQNm2CVRxwyN2O+E+PuNmnOJeTIEQITTsPcl0gBl2PSC9TEmNQ+36PhOCCHRuPhMxIBLw36NlVXRuKcRSA-G2GFnGGxO911TJCvk4K31RIXnIWiWKMBOkHKn3CaFYlADdWpOSCjjIWSikV0MtlwOENdn7Cmi0TWF0KeKMJyDhnhP8BVPEJbHUNFMjnzkILBC+OoB+JznWWEVGS9UmVeNAEiDeK1NIJhO+OGncK5MdMnSVN5KcIkKDiowhLxOsmhPEBNLhOCTIKQKnC4I5KBHROskxNA0ZO12U0hMcmCE1GHEJPUWBOmOSBJNJTJKOIpPXSpNznMBojdkYgZICPYNZJRM6U3m5JKltIqkFNhGFMFBvDvHbXdW2HFNBKKClJHxlJAXZDlPNIVIbi9JVNkN1OMOeUcm1PkLnPVP1LzgNLMMj2dNNNdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIhbxQi13myFzPQAh3BghvMTyAKjXfIIkcFglLGSV5wfNh3ex104U8kFSkR-NvObyLgsWdUlAzT7RzX8D7SUg1IHCYW3BHRQvMBHXQoXIzWkNwtAGkIIsQqwpLhIpLnIswtv0pRfhzQYr4SlAwpSAzThDoFLEkFqBzU4u4uqIhDYuSAzVmMYFwrEv7GEoCAzWZEeiLAaDoH7jkoegUoYG2Gkv8AzTaJIv8EUBD1AFqENSWivA6MEs0vMAzWvF0vMH0t0CMtbivDvHMsIqwr7l0BSDssMuMtACvDbkMvMAsr33mOABssggMoctEhMtADABcootvwAFIwqvLIroqEqArQAgqM0vddKUqfLPdjUjLXLb8ABCI1XKiK-K0AMq8SIq+KoEbcTI5Kyqxy0AbI8wOquihqzI0SGyvK1qnqjqrKrChaZq+yqqpaIa4qhqhaXqjygIfqqK3y0AWaqa+q+YkqsK5agIJa8wEq-we3SUM+KC68385yWQsSCMATPtXQaCxPWC2eY67eUi06mC5yagBoAAK2jw0SuqbkEFbiItes-LEzAtKiIQXOSDuoQgeuOC2iwBOvwhgsvXWPEmdQzUZUyhzUxp7iCqiREqwsgGIF5lcF4o8qJpJvqjxvxq0qwpUscFgEgFwvpsZupppuCu3HpoAFESLua2aaaM0AA5SQQWsK4WwW3MxyJ6+gESaGtkFGjtUQy67YATCCJaodfAIZOWmre0Y+aW-ibWhWww5WooVW1uaA1vLW4GmGhW+GttVqHCbWjPV8ycEuXfbCP8jMVKRgP8ZEz6yQKQWBPCRmXJAybW-88PQEIChSVBV2vqF8ZIC0z0yKaoaMzpRQXfGw9SNOhMN+D+WETPa2u8ouVU3QTUw27eK9VU-mgIfOr+J2keHoL6n6su-GiumWqu8Qmu-wWsxmNk1yewxIQVcPESU1R4UoBI8LdkzpPeFO+shMM+XAMAD5JgY835U87gTAa3J-dwCgRwc0IcG5ZkRgX0D9SgL9cPXfBihFTcC2s+i+vQ1CCMAksG6De+79IhEY7cRwbY3NS47FCYu+5Yc+j+p+64ZMhXfIz9UB9fOwGIZkImLjGPO+LFCid20gUgeFISFaUmQCDBnyhgDouaDBpM7cYY4IMhgsIYkYyQfByG5SMh3QbohQnqEgEyTUFBhNMiCibhxwNh5YTUECAASCNO6K-vmJGPgdJE1CQbsQE1V34ZFFEG4Zli-oMG3FgdAEUYoLcBYFWkeCvvh04UnH9AoapW3AjEJCYRMc1Q1XzBFhx2gxMaMFRQgdx2cequNW3ECCfGfsgiHRsYCO8Ysfd1AB3toeHAPrbGPt9BMf0nSBFl-B52Ihsa1WTitUGGl2Y3nWccBgoYkY6O0flWFD0YCbsn0c-p2KUmGN-utJ9WtSyeTXIw8aqf7BqZGKKbNRKZgzBqAgqcqeTifBCf9y0eIHYaUG3Cou4d0E6d0bAamELAiLie2GCCKfmOIt0GdTKYMeLOMfIlQhmbGYEeKcYBYH9A1H-pxWWa+B3AAHJf75pBj7nLG-7UGJiTHNHOnzRGAlRvmHLJDCwcccgb6enlM-nu6lIM1tFZghig8hijxyAhi-hhREXyo7pw8nx5nURRnxnQWv5wXdnFACWcXjmunTnzmSWlG8WiX2gfmhloNiWvnaWjLj8o1-bA7SBg6ukohcIQw+lhpKRDGucmjxduwRpTGOaknRXiAc1GnC0BXVAIXG5Zp2W7hOXKBGZbkqQ+X7gVGFWiEXmMmlBxW-GM0fGmGhN6nBhxWKWRpWX4k-mxkLxyReXLR7h9XF5GJS0xdecbWBypTG6sTxIIw6m+hfU5WWM1gbXc4TqdXNQ2IgJLYBNHXzx7QXXtW3Wxo+no30IG5zrEygniK-GIih0M2+lJUgIhkLay37gK27IDXwH825lSGqLi3mBM262KIXmm2OFSHVWg6NXuX2hhnsWIie3mh6GUgBN+31XNXUMa2s3ymbWKWx3A3QNbr23y2E363dZSEGI6ZMh8DBXGzmd9ssLzXc1LWw2j3FXRT+z3T5ZKQBFNM9p6pGoPWAXoIVVNwTWVm3Hf2FmxKFX+TKoTxI9sn+kTUGpVsB8wCLtxWPD3MIiAPsWsDBWXmgORoQPDwwONomm9o4OKYU821a3GA2xyBqBZI2Qg15gv4EOAW33jXBXSHkWyONGvso0aOixSO2x596OjSh1CPRQc23kwBTTIVyOH7br7osJ2yJVyAl7V62BSAHpiw3BQARtIJNQo0RtLdLdfBFC-gQxFBWRag48Fgg9wkhWcd49LPQjQmcbZh4mxAdQPBTPQblMh1bPGArOsWaw3HvOrPk50gjPSATPRAzOTVV1AuZZ7W08WR5UH6M7JFnqHFqNv1LYM0257Rv0+5RS2UyhKhZpTPHAeBdASu2sBzzApE6BCAGgcvw9LZQvwucIyuov100uGvH6yz92RZHPSY6uuvA5Jyq1HOev73JTnrAumv7hjOKvCXav6uH7iERvHd+vAvJbwpHOMT2vOENvxvDT3iS16AUWWvSvyuIvHAgVgT2gT3qvnrFuuuZu6A5vLu2voNOvlu1yaYvWnB+vHuvuqvkgMzqMOuQxwguvJ3pQIjnUSu2uIj5u7TukDnNSAgPvweWghuVuigJv+wpFpvxJmvEe8NBuvueuAgl4+HYQ0omUv4NuT2hHtgQeSelvv0JRGe27v3M8ufEeA4ofoEWesez4Ofyy933SpRmfouLOfObu9Dyf1ycfDuPSo1+L5AVPIi7vT3MI2Agn7iiuR2GEQhCuqg350gdevGMpNQ2OglghLeUWgkA8SoWBsOqo7BxPWEuyovv1eyFfSc7BVfyAVPILnr3ftl0vGvxJNsuuM7XwpF5PLZQ-JPv15i9eqh3UoKZPxJE+blo-tw7e2PF6epNsGgMo4RsUoGQHw9Zfd8Ij36q+keogB8S-DpkC6+lBm+y+DHEO3GO+E0m-S-kScle-sVd9oNh+DHNHx-PaxzrU2-dBLDu-mu5+lD1TNGs6v5l+-8F+AWIji+B-y-N-kf5-1C4v68P0P2jSnyf8sOdwfGrCtMO6tBz7mwb-dDDm2y2IP1HBVPYRw9GBN4eoKgVQA2GY7i9euMwc-n6zAHGJnq4-WRPvynAZQZ+1rSkMf2MLy8-ehYfruP024BhRmH-VoIwG-7Qs-+wHFfnoR25AClQU-IfggOx40k92lPZDseyB6blSKXPKgdSxta6BOBaHW9t9wFh5Ro4fpKtHawjC0lfeWvOBqaRAGKtT+Z4W6CShYDCtbC8wJYLUDsR0A2uagnipKjoCVdP2RjUmOVj8Y6CNBbEfQRnReYltl0WgpVslyWqYolBKg9SGYM0GKDsgoPMDOVn57s0igbgiwW1hfyX4faJKGGgEOMG6AAhNQAwZfyMF2DTBeUXQYEKsHgMbBKZHwW-AcFLQMobgcPAHR-RJDzBzCIoXoKBQZ1fB-YbIa82cF4ZystxT1B4OUH4AlgGsf6qRFzS74Wh8gNSHaEsDZAUGzg1Wh0Ni4cd4k3Q8gL0KcEDDphZzbvsxW8z9CzmfjKlIaxCH5DwhpQr+MlA+xNCa61QiYVMKaGDDPBamJYfrkULr8-yfQPiH1HALAMpOoAEkKCG36TApEcA8SFPyQG6EK+jwywisiozYC6BYRDaF4l+Fs8nh8gNAeqWc78hJhGMRwHJXV40Dz8OAqIVCPIH389ocI7rIiLV55E4R6Il4eoW77Skgm+AAdD3GGJ+NtwFI0NFSIw6udOEhIyEeqj8bSlzAhrJwOfzhFGA-GVw8CDVjuFvAWRzw6ERQPAZftVUvI2xosy57PCJWOIhEUiLyLQZeRlQqUNBgVEaiIQSo2MCqOpbqjUeBkIdNqONFOQ9SLzWkZSJhbyDc0CaEejJFmH6Ua+XPAytUKpRYiRAKnBYPIm0TccreKTHjscF0COsWRjrV4TAJlqNxA+qlRKJbD1EZgDRYYjEax1WCt0-BSkCMSfyNIqjmstXYSKQzpHh4YWKwl+C80jKOi2ExwvMYlC9F2BCAFBUvhSG57qpDBfQhNIaPkANDhE8nPoUoJa5tdTOsQqMfxAsTydBxF3WoGvjiFU95gvMTQUYGCBUoCwdAO0c2JdYldegrYzeFIlM6WxS23YgEQLnP6mclxt-YYukFM7D0rAoAUogAAkuajgAAILgBwAXNAAEqlFIAAAeUFrIBxIfBa3EsVjEBiUWcNVsd1nFG75GxbIDcZBIxgSs+xG4itsGKASJiKWfYmQC0DTFw1NGWEvhGBLI4QTd8D4p8a+PfFfjfx-4-CVYE9rzByQqEwMRBIwnd8+xzojcY4C3ElYMJ5UXCbQGvCzDiOUuUvkRNngITbA0E7vrMPZCtCBMj8Z4fCkWhBIfRPoIsBmH4lrBFJzvdgfCMkmYjKhIElTmJJYk9CMY0EgjCPQEhCR5aE8EIZbAAAM-BHqPEGPBFYbJwrMsGH0oBfxFUHklQCQHU7iR0WtkwKcKBGI8BjxfmEKbFDCmMBNGm2VyYQMr5KBl+MUqVt5NmCujVUwTW6lz3Sk+s2wPkwlm3wuE9RLANcZKQ-ScAZRgoNk3cVNw8kZSipswXgssXcnh5PJyTG5D5Jj6TAeoigtkMeBkC+h+OYJKjJAOY7JQmQCXfoO1Lb5kCCpIrTKdwihDMDFW009gaqkGmOBhp0gX0MQWPY6ie6lgIaSNNxzLtkoiMJ9kr0wE7S9pvoEKfWKeGiBGosIJwGK1QFI9oG9fSMcr3iT3TzpehIHpT0gHDcKUVZJkeCPr6P1WBXMBuD7lEAYDBB+saAYOVgHwCW+iAjMD8OUaYjkZbAhlNTwXFfwGguA7FhSPyio90ggM-aYoBRFBQyZAgg0kI1x5ywqMyHPkUGRNSnTdp504gtxFca0zfQWBPzv2HSCUzNQB3DcloUwK8yHp+rO0QKL6DqAaQyfQ-nyUxEpdoxHw6RAgOn4-Dl+-wyYMLDgE1VRm842npr25jEBeieI2MfTP1m0CsZQyc0f4HtL4zRi-ZUGcsEmIcx8aeANuEHIjDvCEBmMzvgbOEIezjZ40qtGbONTbdDeJAO2QaLn5uyGZ7QR2S7PZ5CMOelhK6aCM-jQy8Z0cnMZHEYGMR5gb08JD0DWAeyjZepHlIHODmxy-M1o+kbaJIRCCJSrczCOv2LnAloJz7a3MnIOL2z1eqgeHtdy1kAsyRXjYsQyL-btySxBvD0C5zkDMip5ErXQlyMIGZ5ysoxcKMrL5DkEHgyfSebdWnn5zJR3I32aoEq78jPEthQUarLPnh5M808i+VrJipgAg5bcXeREUnlGAtUco6UW1j8ajycIBotUZkPxpqi2sx05IJAvHl5FS2sCzMUUFLYIK3ZfxS0eA2XlUj1xTgEKXfHRxCtv8gWOrOjjRY2SvyHWWgIsEbG0gnp3fC2k9IHwxT58LC9sY41XTQZ2FErKFtIGGm1BRUtuXxuAwtr8L6pPYydB7VJAkKQpoY5lsqj0llRQA2Y4wtrP4iLAI8HUgqMFM0DKE2+NUtYE9JUTPVkF8Y4NkpGQXJiVFiYxBejMRJMKHk+QjME9KcUpBNFq-I0lYtnBCQRI5Im0avLwGrDwGNsfesyzqmdT58ui-0Z4tQSVirATo44f4oLEbwbxIkMiY4A-G7gAAMlzQAnCkX4zkqXFYGMkhTRQjimeX4qbHU9yQEk1NH42QkNLJUVSppZhLonYT9FooAfARNTA2S+l3fHJXksKXgBaJw4FCWxA6WsSAWMkuuqHX7DsTjhnE7iZ0q8XJA78NkwSU0KfCVCVlSw+Yhe22Xh5dlSwzFnaI9qzKzJ+kv6ZgJkkTD5JykEKa3CCTyL9FMSvGTUssKGSKlcYoZU0osl2iHgsQTqX8xpbChHaty9RTOT2HSSmhsk+QM8qKBkiloyUBZSWFUFbCllSkXmAmzQn0BIVPzVRVBIMmoJqh1ywFSmLUUWTIacK84UrJegKAolUK4lZFwZVKCGp0YrUADXEgTjGO7KoZNuEiV-MfemAomZbKri8quIII0FQBVZU-N2V4o-sdkGSIaLBAF+eKKKGJacq1VRC+iRSCS4yj2x3RLsRvHvSFhz+h4zJUnSjRDgg81HQldP3gmaTN4lPDcUlzdWa89xEXS2Gssu7bi3VPXKRJg3XAzpNJqqnXucUOUDj3OO4TSecqUHiqoa90FrnxMJVJrsgZefsEs0JW6BqhYaiqcOEjWzD6BKM4QQaUAyekKOlgfRS6oaVfLuVBtGFZbBhCMLyM5ik2b90NXkhjVMK8GSkF9XVFxIAanCNuIwkhrnqRamdDFNmEm1HIsagYfGtOWiAs1LAFNQEFUBpqV1IU9dTmuh75SbJBanyjOq0D1qy1d7MXoaRfY-hZgMyjyUHhMndg3V8w4hTZKmTMTaAXMm5lxxIVuqXmXHTSZ+vAnfrNGQGwlSBuInfqDYDqutZGqQGurCVopKRM0AJVfr6AlsHJRRM-Hfi-xEyyYNhrfG4bqJxSvNRhpPWtw0Nz6+gKKSmjbgKg7HatZx3vWfLuFkwODVkg8mIbG1Xa0cSJGo1VKsNj43JQUqKX8xRlYmsjUevr7VDBNQyujQ3AY3lAmN29WgJ9WoC1SYQn1IiGND1VzD2xHBA6DppbzabdN28gwrMJebabNNZinBMZt00X4TNFALWJElFXRKnsZmoQE5vM3s8-B+m24tuoarQshi7mqFY-nU22bC+QGBwBptqmcVnNFMFVWWrfUsk+6cwWLSPGYSZahA9nG5uEoWa5DhQGwwoeoLsSPwwtSqp7AlqIjZa6AiWrWOQKjUakReelHyglts3YJTYNW3LXVoa0tbgkAWzdEFvmJwtyolWsmk8Ni1Raylk6eII8BWhARkt8K+ZYiqeVNxH4aKrAK1uSALDhozKtkBCvm0Og2IEKytpsol4OiUl1Yo5ZYSfo7bwoySijjdoHH5zc5PCF+H5uSABbYkI211NQFRY7gJtOaY7QoGi3wFGJmDF-qAKNL5Ib+Y9CeuEBzqbA7RM7LlpMiW1NaUtnMRUmtrkkbbpQW26UBSAWD3QlAlvXWlQBWjwltmjWt-vCV-zz9jKqPIDuIAzEYKKoOHaqHCO+me9ti2297QEG3Bo7B2gBBtv5ye2pLbt6hZzlSih4-btof2kXXO26ShaDtiqybcrqHZy8cAUiZkC634rqDLYAATlfA9RDdPFKNaTAAExauK6gqNX+TcB3wB4mvSnhCQtVgDvZjEOwAEQcma8AgFupULc1ublQ0AYezddRGvX9hA91LIcOWu2CB6HdrgRFDJLUxDI7Ad4crNLMkGJ6ZJyemQroH10Za7dPFZ6TIBEViLM5lcR1ctvOGkjLNTQ37WmszTCKeKle1bONvV1irAIre0RWaltzg7vym7e4BrqghjN7oiyYUE0AeBU1tFIkLUJbBTa1BnWrrflriwyhBav6z4S5d2sggIRGA0+0mp43EjbgHgqRRFprxj3bhbwd4BdhouZb2Bx9IkLstZQToRgY9TLNlVqC8gVqyEEgn7pBEjUUcqORYe9XYm-2a8-1j6ogcBog0YaGcvzePWBEYj77D99UY-ctnpFaA70aM8wFfpv3NRNJWEMA61IIO3h2ov+kwP-soNgD8DZB+-VCoigZKGAZB8gwINz3HCMViKlFRaM7JRVzin+pVcaIp1Xpn+SgLUOKILVs6CAPlQwEq2WgsqIVEh+0diirFW7PRCGKtcBNHLaI6Ax4RFBvvujNr59i+lRam0vCr73W6+p-Vvp338byBFiCbUSyYZXbnt6hl+OWvBIvwVytcGkUeBjEqcE0rIyQBYyEbpBBDSoEQ0-xWjKGNaI+RrYzpkOtw5DBqozV5qLgKtfShMowSNBYYiTfY6R2MptF3yHTRoHC+zYUeE7FHu+fAvI5OkvjpaetGR3I9Z28MtHNG1WnLRQEyMlHl07RsYXtB+zF6GtPRmo6un6PMb4koOyVBCpaOsK+jxRwVAu1H23M0xigDBQAB0sA-6rFepGAP4Ag8ejOXYZXGrcQDIIencKgfIIwdXwyxiFasZ47rHMxWxnY9XLNSUcDjpzbnqqkICLIhkkXCIr8dAAAAvA5uYC2PJA667x9kIccSORdQTZxmyBce3BXHNQ7qDnt1B0P0B9Dm4VY7sbYj7HYTEVTZlhRCOh4hipAIYjC1Qi3Mz4eAO49ErxNvHCTXx4k5KyGINAKTVJzFsifahAA')">function is_empty_conjunction(exps) {
    return is_null(exps);
}
function first_conjunct(exps) {
    return head(exps);
}
function rest_conjuncts(exps) {
    return tail(exps);
}
function is_empty_disjunction(exps) {
    return is_null(exps);
}
function first_disjunct(exps) {
    return head(exps);
}
function rest_disjuncts(exps) {
    return tail(exps);
}
function negated_query(exps) {
    return head(exps);
}
</pre></div></div></td></tr></table>
      <span class='comment'>
	We use 
	<kbd>argmnts</kbd>
	because 
	<kbd>args</kbd> is already
	taken, see section 4.1.2, and 
	<kbd>arguments</kbd> is reserved
	in JavaScript.
      </span>
    </p></div>

    <div class='permalink'>
<a name='p52' class='permalink'></a><p>
      The following three
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      define the syntax of rules:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rule? statement)
  (tagged-list? statement 'rule))

(define (conclusion rule) (cadr rule))

(define (rule-body rule)
  (if (null? (cddr rule))
      '(always-true)
      (caddr rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+7gYBIQw+DMGwUBwIgyDoHwPD+wt8jzDRG0bno9rELMkvI1IkyKI1R8GBsaQAPy6XI18zPvix9vfQQAFzAlKpLqiKF-QIT8g7UANIQTQ6EGzUQ-kKDCYoJT-z7CfM+wDzC-z3PIA8METy330OgswT8969QongwBx9QC6DQcNTBiZXSlmtPgwhoBiH70kCOVMt9UEENocCd6N8KF32Gmw3qAjGx7CAtQ3hP46EyGJCpESBUNKfxEXqQ0nwkKqA8iCGCRlFAmXwU8Fhw00g6LTigqhp8ZGNDkVTY2qifyiJmPY+G9xmbGyVuzSx0iWFyOTqHZhaiSEzACWmHhfjgRpSii7AsQibGlGcSDRcXiuFCIiXwwuxdS6UVnEEpxoB67SB8iEwgG0kLDwkj46xxjTGlB2rZd+05VCD0qeMQx8SeEJLSL-RQzAITcOAgAVWIAaYg1AADudghR6CUA6UAABaBZVD34ZWxjjQp2SfLCBeIPM2GZKD4FAKoEIzpKAsHqn9SQWjhD9mYpnTZJcDZnIub9TR1VVA7MKYwKIstzCDCodIC64gjknKkGSVo1yPm3LJuYc65BNh0Ctgi1EKyFjlLbhY25tS6m4sCI6BQxB6TUPBLQGKJi8U-gqQZDkxlPkkH0DiylzLvm-KZSyvFFSSXMBrHcGF3I0gyRCBFJpqgXTIu6Y0J+IrxySEfISu44rpDCLqb-Vo7ROgtAGP8wFwKMzmD6dQCEXyWQjLGZM1u9t9aaHkIs5ZRTBRaX+bxHSDSJRNJMpOOgPD7mVwsi0n5oBUQAD40UHwUAG8MViz4Rk0LbHeuoQlytoHVKaEjag+v1UKqQ4RCDvBKasiN4iQSWDWofTp0b+wmOcWUotKbuofWTfQDxcSmxFAyXw0p5aiUNt6l9RQP1KB-WqWfbcOkk2uJNt6yt9zDnHJCJlTQ+tDZExtnc-VC5qTqo6AkLVGwAXyCBbaudYL5FOxiTFX2sLGgyS7RGoW562apl9k8aR2qdWHr1eg+FBBwTnseLA21qKKV3qWA+xWztL0S1fdY99aQT3CrbIBz5f6IPOUA+uilMlwORQA00uDQQD1Ht9aUW97DJ2qApa2R9YtTZrpg6O9BwxAjDCqvbN1kgSDVi6Kof++yPSsX9ZIINoaWQACouMMN3WJ4MoA+P53tnQdaxAxR5qgtgt8uT6Bzn1QhqQFH8HXrhbQMIAo6ZBqZkbeGqS9AdLbV4Ajm6PZSEXcuijvsqNELk17TzoBf7110MiZTqnFZkPaSh4WaGn2u1Nv2dlHKzBKbyCF9TODULad87ivGnwKMKxs3Rq9PEWO6ttRuh5WC0taccWogCYW0LwIbH2SVPTvOVAI6xhN-Ik1hMGdI+5P604WYCanag3k+wEZ-UHdaQKLNJZU9QNTdXtNpwFcZp8oBJP+l3QwVFHHNvJh41NlQfyHmgdUGnCMhLiWn1Jby7RwdjvxYS89jb7IpNdGnZll7jRpEKd3uw6J0XW2SMzQJ6k2XknbGQ75s7+UxIqKMZWv7ib2GcKYekmd+qf1NIs2dtHismltLyRWt9GxqzQNFKK-HFP03NheE0nhBGZL4ZdYzJNS3wmY7J1JmnyGls05Qegs7-PCfKKqYj6RT2zCk8OHgBeTBWDsDXlwTeaAwadZ1rmpYDpYXZpG9kXI+QdegGraAeZ6JUVa5N6Y3pjB+mqAdLHLIOQ8hUKdNghQLQXiWHhkOro391k6Qh1oml+jhYvAu1zpzExkoTQ8JCpCwZMuh6sAYiPo3BSM7lgHcF8eiVQoFp83XF8-zV0+Q+PP9JE8twIG3FPdL8DF9Yo9UG+AXiHX7rqCpWKm-bWBk9NvoAXqd-5Fym7PKYqN-uTJFv+1B8QzHYzCHMqaIAL0EUafD1Y8r8WLJ+VRQR86x30sJpvfnOl-kslBnwFj+J3lkhwn+-rSn83xPHu+FT-I662QIOZpoh0XHzJVTD6yzUvF7Blw2RwyXg5FUBALB0VHYggPHR-2oAulTm2UMnkEzXWGj1AFBHBE+UwKz2GB-XeAnD1gNm5SAL0AswqGkAGA2WD0wKsgwmnQ9TPzsHwIhAa2yDYPHHjR0mgJJBpxMiEPkF+BwIeQ7DEJrzEMA1EMwIkK5lwN7BkMX3tgJUCwANmFu0vWsiBXp0e1AGcBNAnGsVf22l0CiHeBYIbDNgt10isJsP3lJlNy4NUCYJgJ4IMNABcMZWMNMO0Oa0CF-hyGiBsO8LNgAB5HDwi3hVA-CqNiE7cjVVAWQAAVLIdRYgQUVlJwFWAUSBBuf3YCUAAAamt2e1DEiCiEOXTn0LNgqNkxZHKMqIS2qOiDqISOOyrVxVt3twyKyPwHkAmTyPZkKOyUoBKJaIqK+0CA6NqPwHqNYMMCaNZFaLmPMAWK6L8K-3ciyAgSgW8OQ28NB0CGQNmBkCyEsjgMaB0jm1sN4MMKBSM0FRLzoMeJeM2OIVPiuOoEsk2PxRQL-yHioLu1+02N-m8KDQxA7EiOCNxSfg7ESJeyhOUxzk+NJheF7F2Mc2dUaBPWoRhMtyxFc0oMAN5VeKCENW4P0NZBGUyFaDkw5CdVKCIy-TqR-TEIsygOYNJzqRkgeLkMiMII5EZUBPOMwPkNFJJCKzZP3XgLsGoT+JuNg1Z3tnJ2ONFVON8JUDOPMAuJVNgPMLKzMHuPRMiOeP4wFPeK9kxIRMSWjSNMBLhl-xqO0N0OAOsQdJa2hIcLhIaJ9MdIukVmRKMP3iDN9PRK4kDOxI-x6NWzSABXQUJNPmJMxHIKXXJJ0Inw31NOpJSNpIwnpOIEZKJWZJJDtUKSkyykTMIxKxIzSC5MwJ5NQ2uT5LVJtNYiFKlJFJkKlxZTkI9RlPELrJYwVNwOVLAVVMY1l3nmqkXmXiV04A3l4AwA12zBeUuXeUL1uXdgjkSkv0ZBNS3LeTv3tlPL90kHORLliSqz3PHmpAChhW3B-UvKuXl122SmAQAhZCVFk3MCVFxXFPqVjy7AArMC7GAql1-K4IgrwLBEYGgp-Nj3zHgvzGQtAp9E9kqFkxwukGGhArMVjzqjoBLiUEdReFIvItyJ-CIqCF-JpIgppLqXosCF-P1HeA4WcDoGDE4reG4oYEaDYvMF-LKPgvMAdxeEFEMBDTN1aNopErMF-IWQkrMCktABkpE3kuWUUpgtjxkxeDSA0q0rkvmTE00rMCUufh9GADUuOUd00tktDXmTAD0pQp9AAFJ7KTLnL5LPLLLQBrLfyLcJLfLtLzcMQZL9KfQABCdEMKxy0yly0AeK1FaKjyu4FkKInypKvy+ZGIswDKrCrKqI1ENS8Ksy0AMqoq4K2PYNXK6S-K0AUNWqmKrK4NcqoywISqlKzqtqzKtI2K+y+SwIOSswWK8wHXYBbkN8iIV5K8ipSIoNdBf1JUF4d8nc+MWWOa85bcgveMMUZwAAKw9x21WqLnpTsDktgvmu3Nk2fIZTiwpU2oOoJFliwF2oWquXhTyFNgswAl-O3U1Vk2Bt3Wsu+3Ytj0gGIB3TkEorMBhrhv1ghshuUtj34skFgEgAgsxuxtRrRo4tggEoAFF4LMaSaCbIbfyAA5JQGm+yummmyMhLWakzBFV6362sZa1EC6yyI5OS6Q-wzm9mv6na9mvAu6t5JtdKWsD1Faxof1AW0NZ8uLSWva6Wrm2LBgnSB1EtDWxa6FEgXZH5fMDgx5Ypa8lTdVRgYpd046pQeYJTCIJdSjZlV6m8nIQMe8hlAcxoQeM2voIIdUhaEMyBD03M60c2zQ-PME8lSlALIlVQV6pahol4CU9W76z4LWkQqmwIRO7oFOtuagE6s69O77EWp8P6+QvO8wMg3WLMiO6ggwbcHIBFeuqIIOEwmYOOxIWbLYKBXuqOhguXBchXFeDgdebgTADcxaWgcIJQCgSQWGMIKifURgUOUCSgcCHIc2z2FwNwAKLene0c4IpEyeIiHEo8beiCU+1olkSQGYszMMLoo+6+k+gcdBX+N+sCW+v2HSaofUAmGlT3G0Go60h5Re0gJwK2Dae4XZUgUgPyhgColpRB9MlkFop+TBvzYCdYioqB2un8TB2mMMAQxmEgAyC6MBu0VladVpSho8C6X4AASEVOfpqPvrSNaMAZEguhAZ439QYeICoawLobuSaP0BZEPzsEYeFk+CmBYEjT3stmtkHjPuAjoJZC-odmSnUdADhBYVPQ+N7HUeKB8DYnfyIjMdSoxBZAfi5HQSfgInYn0YcPse0dMSfnlWUCXpXoJEkHXtDnUZMV-lPSKUbiq30cMdxSJGlC5XhyqTMZ9Owe4YqLkbQMUZcezj2WUYkbaOGhaKfuONsmQQSfUiSZ+XyaoyKdaIyYUcUCUYClyeSdWJqakdCde1EbSLQpNqjXqa+Ead6NKDkXcJCalS6aYaWBZDgpeAAg7HUbjOsaqf8IGcUeCLsXCBqOUaceAgAHIn7B576DmdHtiljlGZHJn5Hl7FhGAfJYY7mVHJQ7SSQD6IQOwHniq0abKsq8gWhmijVmjxkgxixTRFAQWb8rZORP6Jn6nsnuhPn-DexEWXg1mhmdG4WPnbnorXh8IUWrm0DEX1CFoHanbSAXaCdZVnRg5xJYCnQnmImm5ZxJwNHfzGWtNZNyn+p8gWW-a0h-VSWTRyXKAl1AMS0aXTQ+nPV6XhmWs4mlgWXdnfyHGQx9DEE7JpQWWNm3dNBiXdRPm6xZkHRxX4ZTQ6XNBYU9MOFJimWeWZWSMuS24-SCn5i1XSmYCuWO47WLWxy571tqXTWLp6Q9kLN-UDWZlzhjWA3xIpXzW5TcDU6MIMG4Ldn3COxo2wXg2fksTLGVwiIM2g2OFs2YWRna8BYacMG0LU3mBA3rg9kdHE2GwMHBXnaRXKXV9PHHT3DG3sg+WggBXHahWKWxWC3Y2tXtXu2nW6TJaJXC29k6z2Tj1QV5W42jMZ9Y8VWBQ3WkEYCtX2sGyytb0nR2sQ7dRrUFX6WLDz93DFWJmOxb3S2aTzWSzzUpkdXuXXhBQbVzyFon86MWWr3NzEK43dnwD6WdGn3JwX3xk32xc3p56VZA9GY-RwWqJyBqBU5jQWg2hugAPQCNYv2L2LWMGUPGAgxLmkRg2wWyOqILE8P2GOw-3pWfXtw8B-jr4Anzhb6Nq81ClyyrhyA55x7Fo3gi4phQAwZjkLoFowY1c1cCENk-Rg5VAjRM9NgNBGAWgIGcJ4pVG1AfcjUtOUnXs2gd0uhOnCZGpVOHJ2IOwDPNPSZZW1E7PsFDPXC+jqy6BlPrPcWiJ7OjO9jcYNFsRb7VBYVJsHsZguOcgAaDLov5AZM6zXUDjIEVP5ADYeAXhVPJAXpGy-XTMkVnB4uLMlPSA0uMulm1AjsouP7fWzArWwaeNCv4vMMuyt0iUNVd08SzBF28vAgf1-OSvTRvP0ucvKv7hCAivavuugg9dGvuh-OWaggn55vITfP9PXPNO6vQBmN8SDSC5m0yPyvJBMvQBsv+BnjFgqSf1muT6huvOyvsvTvexquQvd7tuGuOuzPkRJuWuqT5irBsQiJXv4u+3hp3CAInuNrgPzvLvRywe8UXvIu3vT6Zvev8z+uJbBvUVSvjuLv1uJupu-7tv0hl3mgvvNUxVNuWhWuggWHGgQygfMJfuT7jF6eK7gP3DYfdTV8iHmUuIWfifuR2eeuD3MtGfex-O4eSe9ukyJz9v7ZqLYJSB4iWAqTzJK2UvNBO3ETdItffNf42B3HIgLoyOde8Un4TfwWvt+jUiWBoOLVQB2P0sqz4vWSev2GlfyAVfXyJbnetMUfQ3gv4uwuBgf0BOLN-fOOT6emtetI3zePUUo+0OY+WQrezfuRGDgvnBIg6pohujf6chpfAOEKCDj7uOeervLmc+e1-9y+chztc+ajzaOwa+8+fhq+m+6-xxG-a+fgS-ew2-m-O+++rb2yYD6+xGZCS-cfJ+Xg1Ds9d4HQrsC+b6i-K+p-FCS-3CIch-8+5+N--CF+2MFoQhQI42S+UYy8oPgIHHAvxAq69Bt6I0b+xDUXSyFt89QJJBROiUchGBYUADf4iUkvb5krW5-LVn1zWymY9+UQIbF3yHiRBx+mrJ0PP0UIzdcCIQebr33b5LcQEr2MsvSG-6-8Wg--Z9kwDFJrcNAmgHyLAOQywD429ZT9Eu3nRSAb29rDHg8ncLUCfI97GVi8B4EYlx2aPMXm1yBCTg0e8vHTtSEEEss9W-IUMLkBYDWsbU+eNoIeEFBNdTu6giitcDoC5d8OFsZ5tbDoCHRdmOgzQfSH0FhcdGabaWIdAR7qVkG4QJQSoK0IWCmuLg4kEz3uAOCM6L2DwVYJeg15IgUwF3FckCG+CqKh6XQUEKeYfFTBGjQIaEH4A2DbEpfd5vYL55hdtKoQxQOEM+CRDkh1gvnsNByFyVFB3griIdFnj3EvByg-AIeChCXUvk2nSuI0NgiEpIolgYkDaFcFK1jaAof+ozA6HkAuhlQpRhMPiF2kphuzOgjozyG21cgEQmIZYLdqmI4S9QvOuUNDSjDxh9QvoVUOng9C1etQtnMvy0KHIZatwVMAf2EhARp+WOCWrAPgGj8kBYhVfqzwoGykmcJebAQwNNwx1ugdw2CGgMoE24EKYwgdIE2V7xE6BoqBgVRVBHfDxC8gsQKCChG2AYR3veIhiKREPCt+hgoENyXcb4BVwXQForsxZBkjVQFIiDtdEah4jQA9wwwLs25JmAFhUgc-hiNZETMgR15CUOdBuHWgmR9wsEbKU5G6ICCPIgxvCFOTAcWRqbTodCM4oq8MSPIxwcNF7AsjNRP4DEd9GxFqj02sEUod9g7A6j-BlKGQtq2pHkj-maI6ZDUTbr1YDhxuIkZwWA6OUdhrWaQPfxV7YIDQHCFTKRxPAhjxgLwA1kyINaPCNgP6VUQJSVQopIRBo+MaoEjHIiwxtAcut81xTRj0B7DeMSDCRTKoMGNInIP8zmE+Z0hIJZ0SpgmEeFYRRYiVA6I2xoFc+joZOiaMv76Ytm+fY0X3FPb8gBO3QpQeV1O6qcDBsYiWjtlAACcxxWXdLsPnYZYCKeu6e4IYCfh0FcGdAFse2ONbZdxQnY9MFOPWyqcLM-YusnrnP6qcNxt-For-FU6t0rAoAdIgAAkSakgAAILgBwAJNAAErpFIAAAeRprIBUUdBHWiMKsAq8OE1Hd6keO+jijxCJfQgG2I64OgEJA6DRsOL3F1s4J4WfUVhJ0bDiVAn0fCSZkuYkTKgsE03vBPNpviPx3438QBOAmgTKJgPXCVR1okETlRtgc2sOPrF7jJAB4-aIRL4mgtuJtABZBMKQ72wd0XE1DiZkwm2AkJ5tCYdciaH+pPM9wpwCJi+z+iU4yWTMfkB0n29kxA6VSY4OGI4iaJik7TGJOICqSQobdCwFC2TQkBxOqKAAAyQT7YCQCZLtDcnssAmlAboLrjckaAPJigCzIwAimf9xOFRHgL8NYixTIIkU9fIwEuYQ5-JY4QvifnfoV9UpxoG1gH1Cnm13CHjaHgQSKkqCckIUr3AT0n4DgWxlgf+LlLX7TgraYqKFuFyx5BSSp9U2giMUCmQRgpVEUKaHw2A6QXBnwCZCoFDj0cb0JeCAZewpRPxspw0yfuQJqljS0IZUilKM2A4Ps1E7hGaZIDmnSBQ4fAn1rqLrqWBZp80oQTKyDK9Jj2UgyuGdIumhwip9-NoKoK05ihvWhhPKapPuTTT7p50x6chLAFk9cpsBWnsNEJIMi1AB-UclALeIaxYp8gDAR+mIycCmyzw14e3zH4fDN+YpHGRjKMH-C8BjpMkUen8G-xPpj0+ET32cCMDGgwwFhujywwl4b2vIylE-CZmXT4W8M8xq8AhlfShBTnVVAQGOzYymM70mSELIWn0sWx-Iq4doFdChcD++8UGU8PWwvDUUdA94cwQP4L9SexyF4WlRM6dcug6vS8CQDqKGi4RCA+gQgP8KWjAguslEf0AKa9dwBR4bor6KULPY8AYmcOd+meEICiZ7pE2RPz1I+yZuMkK2RiFW51IVuxAJ2amLn6ezjCrshEe7LZ4sN2eMhA6W7hX46yE55s3GcChPR-TAsUgWcN7LNmKEJCYciOUtNYi2jaR9o-dKINIyXggRnwivt7Orke8T+uoR2UsWdnJ1TumgfHjGITYtlSRdo83vgO7nli15GCKhMjNnkbUXobIzApKO5GHQXW5gYhBcPzwazUCZoULpoDnkLzFCx8wOfPP5mPxy5lwiUJrNvkN955G1U7tP1ADtyxMko9wvfNhByi2BnPA+bC0znTzUxvYcBbdKCCIKXoyCwIFPINipj02fgnMY0HTZoLc5dxVuTow3kUiWxetESEVO6nr90xmIxyaADzFil+sEtA8IbhGlAZNgbUyflIEiA0LURJ40zJgqbEljgMuKYRamLoWITPZj4A8KhMYhsLksP09BWkCYU-D2GwixMaWNXmVjKgEHQtJ8E+b8KRsY2RRSpmUXi8nRVgF0ScNUCaLpwEqZyc+IYmSA-xQyAADIk0wJPo3yQtGskwSipJkByXrI0VoS2gGEhydhI4noTrggS5ScQG1ZUSZgcSmvEko4UmR6J741xR4q8XsTFYnE9JfErUn1C3BSdTzAJIOFCSRJRSlRUEBZBFTpJ9QrkI4IqW2LKpkLHII0pOFch7+etOJcEp9kl91JowrSXiiKnaUvslCjhfwuh70LLJnmfxQmKhZBLeJDC60S2LNBxBIIRiqRRZJREjjiQxSk4RpNgijLSgJI0NBSnUkF11MGgnjJlnkm2SaOSk3ZSpJ9m6jvRfS5ZWmOxa6I5lPsiGsKS2FqyDFNzRQPc2xZISDlavFhetkujCALMc489j8vBX+EWQoGMFXc3d6VwVxpnSnvCoZSm5Nlt5TFRCvBVQrZhEIglfkCY4orHmFK4FYOJ1h7iY+Mo90cCAWIiyeRYss-oHIvH38wgRqY0ORJUxIC9xLSEVZa1hksrQuxkhGUEB-RnjUUVS0boeLlUzcf00DO3IkCeUBMJhCtBLK0tHE+dfQIqrpUoOxWBBNAeacrhJLsnmriQSeOpGMxFUvBvRWq1qYrGMnQrGB3M8cnbFDrodLAHCsfuKp+mwrTMDkizLIpohVIfpBGK1jKt-mrL5VmPU8elwswqqDYh4yJRqtYU2BPVIa-VbzWexGrehJqhpTJO27Wq7gFaqFg6pYBOrTE7hIqW6r8oeqdVNUqYQu37njzZ6lHENUal1WMQ5V3Y6ZaOt2YDrqFcqnRgOuMkSrJJCSijth2HWzhR1+qQVcGu9Vir0JC6uyXWR-TZAFJzy+gBZhcVMT-xgEkCeAAIznqfxl61id4pdWLq212lI9auvoCXjLwLIcBNI0X66gp1ULfhbCk3WfAapO68JcBomx+9pA9IQJWeqyVuLPFN6jYC4qQ1eKLMLaqFq+rkrvrAlX6rub+t3EuYKCTaY6h8i9TTDrYlGy5jhkfDkaRA5rNod3Fw5OhyG9sPLPRvxDMdmNYBfCDRv-X8QSNjdUigxvjBMaqNagATQGq7xtlRN+ICTSX2unsaFoeWeTSIB43m0wOcaGvAkCiAZR6QRiyjUpsQJsa-RtAY6tQD4VcaNNDKk4U8zJJkaPkNmigO51pm9l6hOjejVZvyCcaLN3G9wMQDE2xZkFGKoxXRv82MaXNIWrACL2+xAr7NIUGtWkT+bNEwt2LPfBZp82Z8dIomnzaoHU2ua7NSghzaRsK0nhytbm9+fMPSGLCChty2IesLqTpbwVEWEWOVoK0SBgtObBLSVrZ7GU-KeWvhWpq60BbKt4pOLcyl62HLYwyWn9YwDS2grPmsmIbUutnp6aNoeyYrYcqGUlKRll1BZcvODSxafw+FWAktuxa8Z5A+mz3KSsjRYkiF8xKxehzrEHDrRBCSbfgJrHWLXtti0ucXNwZ0F+tQQabWr1xBzbgWi29FAoFJWyYNtCgHLecOwR5oiO0dAxeQI7pd1eoQ9FukyrsAtthWorKnNm220wq5QgpPbZpIO2mILlJiR0MjojQm9nwVADaBKQWbFskJtShIvP2cr+Cn2swbMXgtNSjIYOHohFKBCrIzFYtAOwICyAJ3DsmkPS4zt9pe3QqRyPpX+EDpMSg7ZtNquXYO1bZE7xwUO8NIYoy0vB5dbbDDAwTjFzIoIEgGihZgACcAwXLQ7o0Fq62hbusih7vUkvxuCQEBJXlytYJDNQeXf2aCmuoYgvJ-3cwNRQ0GqA9mezVkGgFT2Wqa5pWClPHoooiywg7M0oNnoNh+6pghw5QeVH8J2BlkHeBWeOUCCF7oV15EvdOn1DGtC9vS6QHNMFA5osZJyC0EKtJ3m1Qd4OvXSoE73d7d8rIFrVit2Qd6KK4+gRRsgLZ3bIgNa+nIoEyBmgUaEahFJdAszhtBQRrE1rS26Yr7eOTRPoD0oTWgo-ojADffDVsaooWQZoMIkGCpKF60iSyZZAW0YXYsH+NaswJ-vLBnyzA7+gZjsq3A7cD2u3erqCm9XodMOHCbDjxkuiprzAgGyCEOvnVzqRVJi+5vnpgPHIb9d+-WA-uAjP65o6M5ke7pz0shP9SyTznZMKRIGWgdqOg0AfR7QHIDzAvLu-toN0HlknzRFMigYD8Glk6ekA9QaL0HCrlJSs5ZyiO2AkwDl2y0Uzr+rP8lgl0TnYQZ53aUz4pQqffcxDDPabFo4ugiRBPYTzR8bZPIHQAmRuBT9x4tNaZl32op99h+gtp2PkYnIRGZ+4CBfsYHNkOQM4gw2mKMPRBaxauswwRqMEfExCVW5bpo2oDqIcRnDe4UoG0YsM1UIjKZsvsf4s6I0mh3NiORzbc6CAflPQ8RumWQY8yy4nNIeXajVHKE9SqFj+2Oi0A5FcanqSZqsb6cepNeGqRYnDXsqztvYSXn0dZax5R9c+r4FjMcbpCAoYx97klprbiQ7tezEMaoDwUAAdLANOuLhaF4D+AI1EoyB2aUmqdySlMnuAhEHUC0LAYEvqMXrG4JmxnMTsb2P-SvgGHI44wCUbuFCA9Ofwmpz+MvAAAXmrVAA7GggNyw48cdKNqcwTFxllFcZAjr7bjWkdniMGsP0A7DEIdY-sfzwwmfjJlOZpMeaLOBmipAZov837B7NuQeAB45drxMfHCTSjJKiSZ9DpHY4FJqkz0uRPlggAA')">function is_rule(statement) {
    return is_tagged_list(statement, "rule");
}
function conclusion(rule) {
    return head(tail(rule));
}
function rule_body(rule) {
    return is_null(tail(tail(rule)))
        ? list("always_true")
        : head(tail(tail(rule)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	<div class='permalink'>
<a name='p53' class='permalink'></a><p>
	  
	  
	  <kbd>Query-driver-loop</kbd>
	  (section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query-syntax-process</kbd>
	  to transform pattern variables in the expression, which
	  have the form <kbd>?symbol</kbd>,
	  into the internal format <kbd>(? symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>(job ?x ?y)</kbd> is actually represented
	  internally by the system as
	  <kbd>(job (? x) (? y))</kbd>. This increases the
	  efficiency of query processing, since it means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>car</kbd> of the expression is the
	  symbol <kbd>?</kbd>, rather than having to extract
	  characters from the symbol. The syntax transformation is accomplished
	  by the following procedure:<a class='superscript' id='footnote-link-2' href='#footnote-2'style="color:green">[2]</a>
          
	  <div class='snippet' id='javascript_95_38_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (query-syntax-process exp)
  (map-over-symbols expand-question-mark exp))

(define (map-over-symbols proc exp)
  (cond ((pair? exp)
         (cons (map-over-symbols proc (car exp))
               (map-over-symbols proc (cdr exp))))
        ((symbol? exp) (proc exp))
        (else exp)))

(define (expand-question-mark symbol)
  (let ((chars (symbol->string symbol)))
    (if (string=? (substring chars 0 1) "?")
        (list '?
              (string->symbol
               (substring chars 1 (string-length chars))))
        symbol)))</pre></div></div>
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<div class='permalink'>
<a name='p54' class='permalink'></a><p>
	  
	  
	  The function <kbd>query_driver_loop</kbd>
	  (section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query_syntax_process</kbd>
	  to transform the syntax of the query to a tagged list
	  representation, where the tags represent the kinds
	  of queries described in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  Along the way, pattern variables in the expression, which
	  are identified using  <kbd>is_name</kbd>,
	  are converted into the internal format
	  <kbd>list("?", symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>job(x, y)</kbd> is actually represented
	  internally by the system as
	  <kbd>list("job", list("?", x), list("?", y)))</kbd>.
	  This means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>head</kbd> of the expression is the
	  string <kbd>"?"</kbd>.
	  The syntax transformation is accomplished
	  by the following function:
	  <div class='snippet' id='javascript_95_39_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+zjoAAFZKPMdCkBEmiK-MNGfM6wfiaok5k5XhfF6XlGzgfGyBAA-LpyW+ifjdn5pLxIcPEn706+hPJfw0Waoi-L1XpQde1FaI73hqaF4g8TIH37D-MwAAuYEUolgX0aDfACLIr7BgFNZGYtkUEf00HAxoSDJzbjwEhBg+BmBsCgHARAyB0B8B4P7Ba8hN6EA2huPQ9piCzElsjKQkxFCNR4QYeB5gMFyFETMThpJ1RFEkYg5BHI+zKNABgrIBpCCaHQg2UB-08FiglIQ8RX9QC6AERopBe55AHhgiecxGib4cN6hRJxijeGWP4foGxwIRypmccNVxm9JCBOtOIvh1jhq2KkO9MRXiJEhMsWEhJjY9hASsX42JDtiQqREgVDS6iUl40+EhVQHkQQwSMooEy5jv7DSaUEKpac+zRJyT+OJhsiYlJ-KE6azNjb3CGfDJW7N2k+JiV04EydQ7BP6ak3qcy0wdP8SENKUUXYFiSZ09BSyZibLZkEpJazcnHwbk3WcCz9n12kD5NxNENqvyKe-BpUyv4aMaDtWy8iTKDzfuMepuyOl7NKGQxgzAIRROAgAVWIAaYg1AADudghR6CUA6UAABabFByuEKGxnPO5PlhBQMYFEM2GZKD4FAKoEIzpKAsHqn9SQFThD9mYpnUAJKQQRGZb9cp1VVBkp5RS2W5hBiWOkBdcQtL6XxI8K0NlwqOWHzMOdcgmw6BWy1aifFzy25tI5Y05pZrAiOgUMQekVjwS0Bil881P5X4GQ5MZEVJBPlOu9eYaBpqfVOpefwu1NY7hqu5GkGSGy2yGNUC6XVYLFkRXkZIR8Vq7jxukMk5pSDWjtE6C0AYkrpWyozOYRQUKPXEFZPCxFKLW7231poeQOK8Ukq0pK3iOkfkSj+UQugHSuWVz-oPUAqIAB8BqFCqEHh0iMmhbZsN1I81NtA6pTQybUQdZao1SHCIQd4DzOHcLXd1D6fKuiP2ne87Jia0gDKede09G7V30CGTspsRQzm5MeQShR1qz29S+ooH6lA-qTOyduHSK6qbDJltujYNK6UhEyuvA2sH4Y205WWhc1I80dASIWjYUr5AypbUhhVMgTSK2djFX26rSgyV-c88ETstl0Ylk8SDxGS0tpw+YTVBBWM0ecoYsdoBHXMenULNjxzXamy-txxoFHo2LljTJkTjxDHYcdTJDTkUtPyKLaUEjZGh2McvDB0ZSxHWtlk2LU2WGuO+OM2kYYgRhhVXtj2yQJBqxdFUCgqlHpWJ-0kGOydLIABUfnXQWi6FFnBQX872xXnkMUB6oL2LfE-YFn7ZSIfldDazfYGMatoGEAUdNxMYc+LRlWfZXNBF3brNDPTqZYds2YG+FRpBddAEg+uuhkTrWIBlxWHigUiuE+M1M9H-UBvMGlsb1BMuTYq6ofrZqynteGQrWbehR4KYHE10zpbJEtfW-kG5iyAJXf0dkUrjqkG9dO12xmK6VkwuyVywTadxNzNTtQbyjWNiCaDutGVNXRvjayw41C9BVBpwjQJirWrYv+kIwwfVPmMfJgCxDlQEruVSaWGnCMVqbXBuYKGypwcicLcW0zsweP4stAHRJ5nXOzC3qgx9sJRyHOrI+Vy8yhpPjJvHJtp1pO40xteYxG9viUvsLCREj9mSEOBEE-I8Tsv1eGMBdckFHymvVge3IqXBuhQYUmfIjpTWZJGfe-bFdV3hc-bLebm3Bj5GqHuz7x7DTJGy-uymhXxv8sGDnSHlzvFKHVWobQ9gDCuDMLQGDJd-E92MEWKoB0h8WuZGyLkfIBfOcpKxeifV+6W1fIhZWh0scsg5DyJYp09iFAtBeJYeGYGugIKJTpHbFTXW1OFi8cnIud0PTvmSZVSFgxbbH1YOpk-geCgd3LAOiqagL9VYXoRf5q4iofEq61KqBaJ0Zi6mpq-hYisP6xR6oN8AvEOv3XUr9jVP+2sDJ6b+oAL0n+-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-7RHn737Bs-ACLmEhABHbDNHKRIQHHcuO7LQftELDdjHLQ0p5H-7NHcFoAWnUMb6lbQnGHWHP7kgInoALB5ZeH4nhH+qxHX7pHonFHvULHNHKmzQynBa9wVnkndZOJVg2IREhOUHRDt9zSHRAE9n2lBh2HNZiw-YIX3qvYgXVHNDf5z5Zm5Z2uFN-HNngn0X5HzHknqXaQrn9H+ahGcnR7rHQQTjjQU5-nYnEnfbWANXXOHRHReXpB8Xi2XEXnPDPELXsFnpGXpQdXf7L7u7MX0RRX8ZkiWnOnjMblsEE7nRx55kajbZqH7z5qWiKHui-WSCbAbTkQF0lbW3TqN8x3YrCJMbEILA8b9aoAXbCOd58H7p8FKRi35AE7AlFNT3T8yX4mO28HYHSdFNw74mf3PbRDPzRJmgWkglA7+qkPWb0PLIl3p3Qtw+wHzgkQdU0QCx3DOQk37hHRhDfbZn44MROPAG-BZPOQSOuPdx7hHY1PePPwMTrPPZfunP0Q7hvYPP7P2+C0AvrFY235dPYT6Rxb95dA67EvL8iRMTM93Q8vFPW8CvEZ0vHRO2AvBPVDRPavsXGvoRZru4UgoEZbTbNrx+lBjIbrwE2CgHhIT4EtmD069vURyLzpF+oEkgk71qOQjAh8fD-JDyVr5ZJXFvsCPnqOgdAvAOjP-Bdd35HvivumR+snAvinDrJA3v9Ivv-vLQgfRCxv0RanGgmgPkIv3PifOz033HtHlGdrn8x5KRHRFfPkHYsCLwHfmpsCmnQ36frE5Cs3xGrjMDlfQbpv-IoYuQLA4Sxc2RbQh4goTHZHy-zl1wdAOHVv2YjZh0jToAG-q-9I2-YHuTHRCph0XXqVij4Qc-C-zaF+x-TH9-xI9X9w1-59zOL-p-L0MRkQKYK3lZS-9P+LwX-qEB37j8rKn-XFhALP6atL+0sL-k6jA7lVABjdXICANIyb9ug8A-gGBxv7NI0BWVWfu-y4iHQCSlZN-vP3wCHgoQzNUVGIxwisQ6BsEK1JFEsDEgbQD-KOhXQFC8Mb89AjgWQKSaiD92zLcQYf16y5MMBjAYAZ8FAGOoFSNA3eiQMnRsDyAIgmgTwPIHTwuBGLKga7gdCU5WKEoc6LcFTCq9hIQEKXmWj+y18E+NPIeMnycKq90ijuDPu53K5Z8OmyvPXsFyP6wRS+ftJBKCC0EgZJAIVZbtXylxZ9wBwQ2Iib1Hq6hwh30KIUt3mLhCEhtgxItL19JtN8Aq4LoG8UP4sgihqoEobkwvZqBshQQpIIf19JmBZB5vI8MvVgiGBD+yvMwa+jNBhBUwdQmwSEJaEhsIQ4Q2EPCAZQ6V-cHQw-mkMiHRD5ivYcYUQOGi9gbBXLYaPMNsAZCvu8xDsCsO-5OoOwGw1YVGUSKatyhxQvltPzECilX6aEUQfnhJ7TDeq6g10l7Cd6LQPgKcdLHW0Yj-DaALwOltUiAggi7BYOCmosJBg6os04mbYWNkWGqAQRdQwEdWj2YG1Sg4ItPikWhGZo9UdTCoTkD5bSCvYpLO4g8KzI6C8R04BNLcLsCEBBiuPR0O0PTDQCpA2LA4R0K+HDtOBc-ITmR03ZQDMugdbHKAGHYCijOgoYAuyNK4qd7ghgHrF7G0Z0B6R4gBug6EkDodxQrI8DhTU3biYuRBgTwYywt6btFRDvN4kgk3Yv0rAoADYgAAk7akgAAILgBwAdtAAEobFIAAAeTdrIB9UdhOeKCT2HhJRWlbKbAiJCHS9GRnwZkQ6FZHfRcWvIhMdcDREmQERmrXkSoE+gRiCQqooXrqBzGVBwxJ3AsWgN372inRro90V6J9H+jwAMTVMRqPTH5iox7AkDO4V5FPCExWo4zjqKzEityx4wbFKILTb2wCMtbdsRtmjFJDoi0vUQWynoF-wusNgpwBFgRITt7EBocJGNjREzDrAd3bShENsAhCiBoYidmWMzazjOxZ4+cbPFfoWBJWq6EgNO31QAAGAYHPASDIpdoL4u5FeioiUBugheF8RoDfGKBxMueSCBBPQK6UriPAE0dSBglX0ryUwGJjtl-FjhCeJBVhuT1QmP9T4uNECS8IML1Nia0wwiYBLGasVu85HCXidhSH8hLAKCHCfr2nCi840krPUYHWomjN-uIE2wmCX-GQQaJgk0CU1h0j39PgyKFQKHEbYXYj8UfK1o6hvhYSRJEvEvs+LEkCSSJCnZ7MCGb7EI1JkXCEDJMkByTpAocLvi3zOHmALJVk0OOIRb6KcyEToN7CkUcnyTuJ2DNUW0Cf7s4xQ+Qe3u4LyFlppJlgWST5IXER8isrQiEMQxj5mAjS10RqKrySnDdI0l4WvNNw3IvkeO3qP7E4LZ6i82UAZEIXlIsyMtM+2fFJEULIzf8kE3k6yQz2cGxpnAPEZpMMCcYN8spR8W1tMIXFbYb4LUmyYoU5R+BXgUUyyT5PEKPsPmBAInPIHr5j8vJM0pyVP2YliBuhNKEECKTNCgdVem8GMfYIprx99UIvVwWojCkRkmsFGePodS1YMcC0q3djsQAeK7CYhtfDqbXwsRHDAgJ0h8cPR4wFTG+IQC3nOSSJM48AUWOGZIgcHOCSpPZa6dKCBkeClJrER6RiA46mSSAn0pEfLwBnFEfpNfZwZ8icaUzCyiRQyf4OOn5lgZoMszBRgCnDYpAs4IGbdNCJhFYZ8M-8peCuGVCbhTM18tVOpB0z8JBvdGTiM7TpldQ+MlEl9KyFkdNApnCESkQKGEjrhZ3cNoLOJE6zo2liNKbUJVkvRGhmhEYRb00CHQMRriEwdkT2naBXQoHa2cTTVk0zSEwIK2Thy6H2yL8jsg6ZQBdmmdXZD4swLzKiwjC2uNsuEEZOmGqzcWCsg2EiOWEoDmcywl6PZKCBJylZurZemnMxFpADhmc4mY0FjK5M9ZJQtURsklaQg5MbI6TlRTagKR2MzICVjkD9bHRaAB4RkYxFQnM9J4REfuTEUIltJ+50vGAb2D-Y8SFp3WQ2r6GkByTBQOeXApq3Ib4Rh5Xw3lCJFQm+SwmKIu8eiOxGa8zpgdA8KXlEktp9UrEuIhLykCRA95cZQTDnPxHiZbMOcpEQfNPHVoAZj4HuW8lbxjZ+5WcrESa3Kl3Tx+L82kXCMKHazSRlQaocegUCIMTWe8oHCDnPnpZgFW2e4VYEeE6CoFsIvuLxCfGOjnRno2FAABk7agYj4ZUG-E6RLx0VVCZmMPmnTIFTIjUUmK7GH8WxbQB0NcBYXcLbA2YvzrmMvkmQYiJYw5JK0kXS8yFkgChdQqbFFj+QfCx0IItkXCLiA7hJcfvQ7pNIexOgvsdqP2hDiAZLIVCWOJoFcgiBRigwZ9WwSpRJW1igwVyC3kl0JF2i9hSkSXGaDVx5qVCeVQRLbzL5e8yid-PPFdYmFXiucbGTVFmg4gkEOlsiLAVxLAi4gxcTQOXGwQAl9JD8llUdR6LF+z-HASfwMXNIpx14yMRti-nfQol3qd4byiEV1KQMIQpWkBVUFqjScKCxQLSxNal8+RxIXiZVkujCBxMEo0tvqxZA9K6Wb3AaXKI85jLPUHTRJexV6U0tUlfSwZVIMWnLLrsKbQNvq06UGCvhIQBMdD3GETyOR7jfHkaMmmVMIZbQ+5V8LCBrFjQM4sbHXQTEzpPlh8ErhctA5oiqu3pfUT+3EwmKBx+0YFdN0EySNIUiQapbjVEEZ0A09i-kVezrifLXFc-eZYEE0AHohOw4m8cQBxXEgl8oXaYWiJeDvD4VrExWGiKGWGDTsg-DzKoruHZtLAl8sqT8vHmnzKsCI8TH-Jojvx+590+KaL34WXLD5IKoIIJgNH6pIVBsQcTKthUU06ViKwiSitRCCl0V3AzFZYpcXjiaOBKu4AaqsXjiuuHRVCTSqmoarawWq1QXGT6lj85ZVYfNtyrWJIqARfy65WEuBW2yeUHq3ecCtyY1tvVs4GFeyrsDhqDxAastG8q5WMrvlXCqNSKMqzZBpxI4irOJgUVuiPR3ov0QGKax5q6xhaxsfCKpWfLbV5VTNRGvoBxkZILIFDtE2jVBr6Qu8vlRsETUS4XxKa-hY-KayCY61LC3NTWKUU0KS146qhTQsrUGEbVdKKaiOtkWNqBZLa6uVIAfqvp54wqScMwIWUck91MRfTI+B3UiB+0A87OEepib7ZT1+IGBE6H3UyQXJC6AAZuosJQQJAZ6siker9WHrH1x6mbA5W-V3Bf1VY2ya+pvXTgJsX6+9Reul4vrTGjMBIFEAyj0gUlYG8fhBsXRzxT11AB+XepEAc4Tlc-YNlusI1kUKNCmc2XEVEG5M8ND829bQBA3ApiALGzYeWiQWfAUlJ65jfiDQLsbv4A3LnCRuGUhRTVn1Xlq8VmUms8CzG-DTooYULcv1Cm-3LBqI07LVBfqrdcBuFS6aiNuLGQZ7LkEKCssK-ALF1hk19LpswsGDXQBA1qb7N96ixKJoxZCaGqU1YDapv2z6aKAJkXzQpnc3gUMlTq3EBJubWMBpNXGjZVrSP4qbIgmPZDfIFQ3To-U84plbouyX+Lma0SgpeOma4-gYBVmzZShrQ0xbtm2pUuTiQpF4KqRDi2Mn4mE3htcF2bOrfyPSLNcauL2L2EFsCCubYw4WoVlFoWAZQYtSWZLRlES3GD7EB6S1sQml6y57e79IOCURmAAMvhLdFeGvA3hW5xUmm05eeGDJZaVxOWppAUPy1NINFkjadMd2fBUANoSpOFuKhc1GElSzBF+P1W-6nl3tGI5nCyFrQJs9CsECnrpVxS6NOtTWlkJtrbo7at47ixZgKBq2tamVIFMvotN6zxd+tYWwlVDqXit1tthiYbY+m42yaXg0OgnaQW-GCZ9Qmotyiv3EwABOAYDpDp3OUUd+6lnRIHcpMrWKUwSEC8B0V1kSujZTUHWQb4UY7ADRD8a33MCs6fIeLPFqyDQDK68VaXUWcNDl15ywgXUppHLp50yIvC2S8qBYjsB4oP8o-NlYED11LiDdsjHYrTq50r8t5i85yivKWDJh3l+20jfkJC0GDsdiVFQEvLd1E6-0Y2qBC7uXlfBc8U3aBuAnEjlbIgpq3wooEyBmg9av2CmpdHEwgj0U5wTUXHtNDtCdWiegdi8T6DuLxVdKP6IwFT2a1am+qFkGaDGJBhjymulkLijxQF6GAdLdUaarMAd7ywGIzXca2s2XQtw2nIblpwoyMrs2ubcJPmwCxj7jy4awiV6rjUerGVbSJfdNwozV7a9+sevcBCb1zRkpcWxyiv0+od6wdaI9tV0FbRX7B9fUubqytKBt6r9YOnvfiIYDv7cUquswNbp0FFLsleS81OdsFIj7NlRw27a7w2iXRS+NK2YB9vKoCIONxW2liGCR34KHFvWEiG9jdViB9MeQOgMijcAl6G5sfUZdnrAW57MUfKXeIXu+ZkHPG5enXeVkDpRExRaB5ERgeiCUiUdOB1dYyw5IcHcWbIagDsT2EeMbBSgHJk40+ZqsUl0BvQG7yWBwGqmIhhA0gayooG1ROewUBinz3MAIED6+bWWhK7iSTw0ffjD6VXrDl9UkiI5qYhOZtwk2QbJ8pjXoMXRa24qQHszT0MGG6DxhyuiYdYPcpX4spNpppTmHTCDhRh8SOmOe3Xt2CRELvQkcpTsNPZ4Ruw3U0MpzC4jorbw5SlyZZGMIajcncAlh24FojBhEow2FWF-xyjICFNF3uCNuHEB0w2o9kGJr5GvD4SZ7SyrBnC7ZCLfczDJEwROLcEGEExHZGlDtsRZhU+ssPw8muqcAXe8rXizraqBC5AAHSwAhqSl9IWffgDWJJMMdpVX6pyidSK7gIe+kUoxQGBrGUlGx-MVscxG7H9jgUr4Dm2OPot2hBhQgL4QsRbsOiAJ0AAAC84uZgXY0EH3pfG2UJxn7VuwhOXGfU1xkCCnruNaQWuIwGbEQZIMQgNjBxuEz8aSa7UYWd8GQ7HFeKkBXifLfsHi25B4BHjqCwk58aOMImyT88yk8BGcDUnaT7itE+WCAA')">function query_syntax_process(exp) {
    if (is_application(exp)) {
      const function_symbol = 
        symbol_of_name(function_expression(exp));
      const processed_args = map(query_syntax_process, args(exp));
      return function_symbol === "pair"
        ? pair(head(processed_args), head(tail(processed_args)))
        : function_symbol === "list"
        ? processed_args
        : function_symbol === "javascript_value"
        ? pair(function_symbol,
               map(javascript_value_process, args(exp)))
        : pair(function_symbol, processed_args);
    } else if (is_name(exp)) {
      return list("?", symbol_of_name(exp));
    } else {
      return exp;
    }
}
</pre></div></div>
	  Exceptions to this processing are
	  <kbd>javascript_value</kbd>
	  queries. Since the instantiated syntax of the argument of
	  such a query is passed to the
	  <kbd>evaluate</kbd>
	  function of section&nbsp;<REF NAME="sec:core-of-evaluator"><a class="superscript" id="4.4.4-sec-link-4.1.1" href="./4.1.1.html">4.1.1</a></REF>,
	  its applications and self-evaluating expressions remain intact,
	  and only its names are converted to pattern variables.
	  <div class='snippet' id='javascript_95_40_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+7gYBIQw+DMGwUBwIgyDoHwPD+wt8jzDRG0bno9rELMkvI1IkyKI1R8GBsaQAPy6XI18zPvix9vfQQAFzAlKpLqiKF-QIT8g7UANIQTQ6EGzUQ-kKDCYoJT-z7CfM+wDzC-z3PIA8METy330OgswT8969QongwBx9QC6DQcNTBiZXSlmtPgwhoBiH70kCOVMt9UEENocCd6N8KF32Gmw3qAjGx7CAtQ3hP46EyGJCpESBUNKfxEXqQ0nwkKqA8iCGCRlFAmXwU8Fhw00g6LTigqhp8ZGNDkVTY2qifyiJmPY+G9xmbGyVuzSx0iWFyOTqHZhaiSEzACWmHhfjgRpSii7AsQibGlGcSDRcXiuFCIiXwwuxdS6UVnEEpxoB67SB8iEwgG0kLDwkj46xxjTGlB2rZd+05VCD0qeMQx8SeEJLSL-RQzAITcOAgAVWIAaYg1AADudghR6CUA6UAABaBZVD34ZWxjjQp2SfLCBeIPM2GZKD4FAKoEIzpKAsHqn9SQWjhD9mYpnTZJcDZnIub9TR1VVA7MKYwKIstzCDCodIC64gjknKkGSVo1yPm3LJuYc65BNh0Ctgi1EKyFjlLbhY25tS6m4sCI6BQxB6TUPBLQGKJi8U-gqQZDkxlPkkH0DiylzLvm-KZSyvFFSSXMBrHcGF3I0gyRCBFJpqgXTIu6Y0J+IrxySEfISu44rpDCLqb-Vo7ROgtAGP8wFwKMzmD6dQCEXyWQjLGZM1u9t9aaHkIs5ZRTBRaX+bxHSDSJRNJMpOOgPD7mVwsi0n5oBUQAD40UHwUAG8MViz4Rk0LbHeuoQlytoHVKaEjag+v1UKqQ4RCDvBKasiN4iQSWDWofTp0b+wmOcWUotKbuofWTfQDxcSmxFAyXw0p5aiUNt6l9RQP1KB-WqWfbcOkk2uJNt6yt9zDnHJCJlTQ+tDZExtnc-VC5qTqo6AkLVGwAXyCBbaudYL5FOxiTFX2sLGgyS7RGoW562apl9k8aR2qdWHr1eg+FBBwTnseLA21qKKV3qWA+xWztL0S1fdY99aQT3CrbIBz5f6IPOUA+uilMlwORQA00uDQQD1Ht9aUW97DJ2qApa2R9YtTZrpg6O9BwxAjDCqvbN1kgSDVi6Kof++yPSsX9ZIINoaWQACouMMN3WJ4MoA+P53tnQdaxAxR5qgtgt8uT6Bzn1QhqQFH8HXrhbQMIAo6ZBqZkbeGqS9AdLbV4Ajm6PZSEXcuijvsqNELk17TzoBf7110MiZTqnFZkPaSh4WaGn2u1Nv2dlHKzBKbyCF9TODULad87ivGnwKMKxs3Rq9PEWO6ttRuh5WC0taccWogCYW0LwIbH2SVPTvOVAI6xhN-Ik1hMGdI+5P604WYCanag3k+wEZ-UHdaQKLNJZU9QNTdXtNpwFcZp8oBJP+l3QwVFHHNvJh41NlQfyHmgdUGnCMhLiWn1Jby7RwdjvxYS89jb7IpNdGnZll7jRpEKd3uw6J0XW2SMzQJ6k2XknbGQ75s7+UxIqKMZWv7ib2GcKYekmd+qf1NIs2dtHismltLyRWt9GxqzQNFKK-HFP03NheE0nhBGZL4ZdYzJNS3wmY7J1JmnyGls05Qegs7-PCfKKqYj6RT2zCk8OHgBeTBWDsDXlwTeaAwadZ1rmpYDpYXZpG9kXI+QdegGraAeZ6JUVa5N6Y3pjB+mqAdLHLIOQ8hUKdNghQLQXiWHhkOro391k6Qh1oml+jhYvAu1zpzExkoTQ8JCpCwZMuh6sAYiPo3BSM7lgHcF8eiVQoFp83XF8-zV0+Q+PP9JE8twIG3FPdL8DF9Yo9UG+AXiHX7rqCpWKm-bWBk9NvoAXqd-5Fym7PKYqN-uTJFv+1B8QzHYzCHMqaIAL0EUafD1Y8r8WLJ+VRQR86x30sJpvfnOl-kslBnwFj+J3lkhwn+-rSn83xPHu+FT-I662QIOZpoh0XHzJVTD6yzUvF7Blw2RwyXg5FUBALB0VHYggPHR-2oAulTm2UMnkEzXWGj1AFBHBE+UwKz2GB-XeAnD1gNm5SAL0AswqGkAGA2WD0wKsgwmnQ9TPzsHwIhAa2yDYPHHjR0mgJJBpxMiEPkF+BwIeQ7DEJrzEMA1EMwIkK5lwN7BkMX3tgJUCwANmFu0vWsiBXp0e1AGcBNAnGsVf22l0CiHeBYIbDNgt10isJsP3lJlNy4NUCYJgJ4IMNABcMZWMNMO0Oa0CF-hyGiBsO8LNgAB5HDwi3hVA-CqNiE7cjVVAWQAAVLIdRYgQUVlJwFWAUSBBuf3YCUAAAamt2e1DEiCiEOXTn0LNgqNkxZHKMqIS2qOiDqISOOyrVxVt3twyKyPwHkAmTyPZkKOyUoBKJaIqK+0CA6NqPwHqNYMMCaNZFaLmPMAWK6L8K-3ciyAgSgW8OQ28NB0CGQNmBkCyEsjgMaB0jm1sN4MMKBSM0FRLzoMeJeM2OIVPiuOoEsk2PxRQL-yHioLu1+02N-m8KDQxA7EiOCNxSfg7ESJeyhOUxzk+NJheF7F2Mc2dUaBPWoRhMtyxFc0oMAN5VeKCENW4P0NZBGUyFaDkw5CdVKCIy-TqR-TEIsygOYNJzqRkgeLkMiMII5EZUBPOMwPkNFJJCKzZP3XgLsGoT+JuNg1Z3tnJ2ONFVON8JUDOPMAuJVNgPMLKzMHuPRMiOeP4wFPeK9kxIRMSWjSNMBLhl-xqO0N0OAOsQdJa2hIcLhIaJ9MdIukVmRKMP3iDN9PRK4kDOxI-x6NWzSABXQUJNPmJMxHIKXXJJ0Inw31NOpJSNpIwnpOIEZKJWZJJDtUKSkyykTMIxKxIzSC5MwJ5NQ2uT5LVJtNYiFKlJFJkKlxZTkI9RlPELrJYwVNwOVLAVVMY1l3nmqkXmXiV04A3l4AwA12zBeUuXeUL1uXdgjkSkv0ZBNS3LeTv3tlPL90kHORLliSqz3PHmpAChhW3B-UvKuXl122SmAQAhZCVFk3MCVFxXFPqVjy7AArMC7GAql1-K4IgrwLBEYGgp-Nj3zHgvzGQtAp9E9kqFkxwukGGhArMVjzqjoBLiUEdReFIvItyJ-CIqCF-JpIgppLqXosCF-P1HeA4WcDoGDE4reG4oYEaDYvMF-LKPgvMAdxeEFEMBDTN1aNopErMF-IWQkrMCktABkpE3kuWUUpgtjxkxeDSA0q0rkvmTE00rMCUufh9GADUuOUd00tktDXmTAD0pQp9AAFJ7KTLnL5LPLLLQBrLfyLcJLfLtLzcMQZL9KfQABCdEMKxy0yly0AeK1FaKjyu4FkKInypKvy+ZGIswDKrCrKqI1ENS8Ksy0AMqoq4K2PYNXK6S-K0AUNWqmKrK4NcqoywISqlKzqtqzKtI2K+y+SwIOSswWK8wHXYBbkN8iIV5K8ipSIoNdBf1JUF4d8nc+MWWOa85bcgveMMUZwAAKw9x21WqLnpTsDktgvmu3Nk2fIZTiwpU2oOoJFliwF2oWquXhTyFNgswAl-O3U1Vk2Bt3Wsu+3Ytj0gGIB3TkEorMBhrhv1ghshuUtj34skFgEgAgsxuxtRrRo4tggEoAFF4LMaSaCbIbfyAA5JQGm+yummmyMhLWakzBFV6362sZa1EC6yyI5OS6Q-wzm9mv6na9mvAu6t5JtdKWsD1Faxof1AW0NZ8uLSWva6Wrm2LBgnSB1EtDWxa6FEgXZH5fMDgx5Ypa8lTdVRgYpd046pQeYJTCIJdSjZlV6m8nIQMe8hlAcxoQeM2voIIdUhaEMyBD03M60c2zQ-PME8lSlALIlVQV6pahol4CU9W76z4LWkQqmwIRO7oFOtuagE6s69O77EWp8P6+QvO8wMg3WLMiO6ggwbcHIBFeuqIIOEwmYOOxIWbLYKBXuqOhguXBchXFeDgdebgTADcxaWgcIJQCgSQWGMIKifURgUOUCSgcCHIc2z2FwNwAKLene0c4IpEyeIiHEo8beiCU+1olkSQGYszMMLoo+6+k+gcdBX+N+sCW+v2HSaofUAmGlT3G0Go60h5Re0gJwK2Dae4XZUgUgPyhgColpRB9MlkFop+TBvzYCdYioqB2un8TB2mMMAQxmEgAyC6MBu0VladVpSho8C6X4AASEVOfpqPvrSNaMAZEguhAZ439QYeICoawLobuSaP0BZEPzsEYeFk+CmBYEjT3stmtkHjPuAjoJZC-odmSnUdADhBYVPQ+N7HUeKB8DYnfyIjMdSoxBZAfi5HQSfgInYn0YcPse0dMSfnlWUCXpXoJEkHXtDnUZMV-lPSKUbiq30cMdxSJGlC5XhyqTMZ9Owe4YqLkbQMUZcezj2WUYkbaOGhaKfuONsmQQSfUiSZ+XyaoyKdaIyYUcUCUYClyeSdWJqakdCde1EbSLQpNqjXqa+Ead6NKDkXcJCalS6aYaWBZDgpeAAg7HUbjOsaqf8IGcUeCLsXCBqOUaceAgAHIn7B576DmdHtiljlGZHJn5Hl7FhGAfJYY7mVHJQ7SSQD6IQOwHniq0abKsq8gWhmijVmjxkgxixTRFAQWb8rZORP6Jn6nsnuhPn-DexEWXg1mhmdG4WPnbnorXh8IUWrm0DEX1CFpPm6xZkHQS1g5xJYCnRYU9MOFJim5ZxJxMMmyJbU6MILN0ESmkEYDyn+p8gWWxy571tnQqWwX6Q9kLN-VSWZlzgKWxX4ZTQ+nPVaXhXsM24-S7G4Ldn3COxFXxJrg9l-CAoDWJWOEflSZhmWsOWGwMG0LdXmAlWLpJXLWdHbXsgMGHanbSAXaCdxxPHHT3CPXpA-a0h-VvWTRfXKAl1ANKXnWVWaXNAYWRmEKCCQ2NqnXDXXXfk6z2Tj1QU4mlghWSMZ9Y8HGQx9DEE7JpQhX2sGyytb0nR2sQ7dRrVi3aWLDz93CWXdmOxe3bEqFCyk2SzzUpk3cKn+R23zyFon86MWWu3NzEKk2NHwDaWdGaSR3hlRlxlx2xc3p56VZA9GY-RwWqJyBqBU5jQWg2hugF3QCNZBQbUV2MHT3GAgxLmkRJWwX32qILF732GOw53VXk2Qo8B-jr4Anzhb6Nq81ClyyrhyA55x7Fo3gi4phQAwZjkLoFowY1c1cCENk-Rg5VAjRM9NgNBGAWgIGcJ4pVG1AfcjVqOUnXs2gd0uhOnCZGoyOHJ2IOxGOqOrXIzz7s4BPmOqN-NTQSOePcWiIxOrXiXdQIdoOchVBYVJsHsZgVOgMfm0ixNtOZM6zXUDjIFSP5ADYeAXgyPJAXpGyRXTMkVnBtOLNiPSAzOLOlm1AjstOP7hWzB6WwaeNHPtPWXTEZJAu91Gh827PAgf0xOXOpO3PrP+BPP7hCAnPfO8S3i6POMiUNVd0xVsEmOWaggn4IvITZOGOiuqO-PQBmN8SDSC5m1333PJBLPQBkvnjFgqSf1guT6Eu6BpPzO2vUvvPsQ-7auAu8v2PkR0uQuqT5irBsQiIxvtOw3TF3CAJrP2v3DOvdTV9nrvnKv7tptxvd65SkyG2KU4vquWgBuhuDYUvju+uJusuyhC3mhpvNVCvKOWhQvAgWHGgQzlvMI5uT7jFAeK7l3dvhunvT91uEsuIweJvuRIezBov8ygelvewxOuvxC3vxyouJzGv7ZqLYJSB4iWAqTzJ7WTPNBA3ETdI6ffNf42B3HIgLp32Ge8Un4OfwWvt+jUiWBR3d27AIP0sqztPWT0f2GyfyAKfXyJbxetMzudPlOT61OBgf1EOLNleoONeWQwFDitI3y4PUU9fz2De+eufuRGCNFU5Ig6pohujf6cg8fzb3Dj6YP9vuvLnnBHf3SvfVP-ee1ohzaOwQ+nefg-eA--9RVI+ajzbewE+w+Y-Q+h5Ih2yYCg+xGZDF3qzBu3Oc+Xg1Ds9d4HQrsXeb63effc-FD8-3CIcU+Yhi-a--DS+2MFoQhQIX2H2LYL92pJxWQHG9jCQq69Bt6I0h+mB7JXsyz6RQJJA0OiUchGBYUAH-iSlO38z6We+S3Me1tTNm+htY+M+VMxCt3S+uz++IvztT+SuQE5+Ft89F-l+WhV-L-FCKuNBNAfJm-kNm+F3esp+gLbzopAPbNVjFweTuEf+PkftmqxeCwCMSQrWrhjywyXhJwb3erjL1wJICWWinfkKGFyAsAGWNqfPG0EPCCggu7XCgRRWuB0BbOffc-B8ToCHRdmtAqgfSAYFqcdGeraWIdAR6SVkG4QYgaQK0IcCguIg4kCD3uACCM6L2CQVwJeg15IgUwF3FckUGyCqKh6OgUoKeYsC2BEzRQaEH4A8DB2fA7OKwKIbHI-KqgxQOoM+CaDjB3A6wcNDU7aUiB0griIdFnj3EpBJA-AIeChCXUvkNHSuIENgiEpIolgYkDaFEFK1jaAof+ozAiHkAohngpRhkP0F2kshuzOgjozsG21cgGgnQZwLdqmI4S-gvOu4LkqpD0h-guIV4OngxCqevgtnBXy0KHIZatwVMK32EhAQ8+WOCWsf1RT-9M+F-Vvlf3Kyfc2O33QAabhjrdA+hsEEvl-xtwIU0hA6QJuT3iL-94+9-KiisJn6ykCBYgUEJsNsDbD5e8Rc4YcIGH18mBgsFsu43wCrgugLRXZiyFeGqh3hG7a6I1FuGgB+hhgXZtyTMAFCpAPfc4SCImaLDryEoc6D0OtCAj+hqwsUhCN0QEFoRBjeEKcmXbAjdWkQrYZxQp4YloRgg0xL2GBEUjho5w76FcNJH6tYIrg77B2GpHyDKUMhDZsBG+E5B-mpw6ZDUTbr1YGhxuR4WmwhCOUahoaOgqP1Q7YIDQHCFTG+xPAqjxgLwUloCNJaDCNgP6EkQJSVQooNh9I-UaoE1FHC1RtAcukdzqTajFCTOS8PqJBhIplUGDXkb8Imb5DB2IJYUSpgyEeEdhzoiVAKI2xoFHejoZOsyPz7QwtmzvJkX3Fbb8hEO0Q4ge53a5kdGBuoiWjtlACIc0xVnczsPnYYhBb+ZsJ+HQVwZ0AQx4YiltZ3FCRj0wWY9bGRwszxi6yeuHvmR0MDYMHGuDMjq3SsCgB0iAACRJqSAAAguAHAAk0AASukUgAAB5GmsgFRR0EdaKQqwBTw4Q-t3qDY76GiNlL59CAYYvLg6D3EDoNGyYmsUax3HhY6RF4nRsmJUCfRbxJmS5k+MqDbjOeu482iOLHGTjpxc4xccuPfFLdrx37b8XeKJG2BzayY-0TWMkB1j9o94mCaC0gm0AFkGQ49vbB3QQSz2Jmc8bYAPHiF8+GQ65EEP9SeZ+hTgETF9gp4KilRX4-CfkGonC9jRA6YiUQ2GLXCmJv7AiShOICcSQobdCwFC2TQkAMOqKAAAzrj7YCQCZLtDEkRMmWKmSgN0F1xiSNAEkxQBZkYCaTn+GHCojwAdGsQ9JkELSevkYCXMIc8kscK7xPzv1veZk40IyxV5qSPey7DxhtWXbOTSBOSAJmpNS458BwIYywP-DsnV9pwVtMVFC3U4S1fJyktyXd1XEjFFJkERKQFPUkEYdIIgz4BMhUChwAON6EvHv07YUon4Nk1KTny3YJTXJmUoMqM2XYDsvGEozsJYDykFT4WK7FkZBXamSB8p0gUOGu1A4NSJ2LbFQn1IGmhxnJcotoGQOo5ihBWToQwvZM4n3Icpk0zqSRJ34fc7JsBf7j+EJL-C1ArfUclAOy7UgtcBPD9MRgP5st1szgE-unytpZ9a2nE66RdPPy39nAD-R0q8KPTyDf4uU-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-KCAWKL2fohoVyIITHbSuAoIUZYqe3WKZCR2wHr-DoITbJSnCrIbiBm3At5t6KBQIttkyXaTZGyR0NgjzQdtk2+fM7NPw7pd1eoQ9Ful-LsCRtnaMbf1s7I20HKsh54QUjtoomXUTEB2kxIjugYRoOez4KgBtAlILNLW7fIghKQSIl9nK8gzdrMGtE2jTUO7C1BsN1JIUlkpRMon9re0sgCd0bWNk0i6UscHtOq2Ib9vWGA7advZIFTyBm2K6-WgGSHeGlBXYtZMRuonRhgYJ6i5kQ2sipQIswABOAYDpGoqUDIV9wdfozA90UVIV15KYJCBeDiqdpYA55tbDCDJqbpwKE9NdQxBSSFu5gP3T5D2Z7NWQaATPeapj2lYKUKerqVHtq6BAU9Ael+NwUGXlR-CdgZZB3iYxEygREgGiqXqD3Tp9QFLFPWQukC4L8FH8ZMJus21HL8+cWsHVat9Bd6KKPemmMBGa0I0cFE+r4AQtt4-pIgVaylnrAswshPm4gERnmgDyySSWuyloBED+iMAjSYa0zCvrN6S0tAdwS-YrDFZ6w6y9LD4nfuj1mB89LIJZMsjvRGpXgjTSIAZrtSqUu1IAuzj+kugWZZWgoclvG2pbdM7999PoF0re4f6v9yyI-X7iQrTlt9VaoA0smz3v7G9lAmxSIymbXbLokM4IKCk9UXsr2HCG9jxgoNJ6zAAGyCAOrnWzrt1FiJgx9Ib2O6KKaRccWKsKQMG7uF7IEbBCUABELoaAAg4HNAN3S+DNFNImgel1b7DRDAVQ-gdZByHi9RB-3f6M8xkS9tnKS5XMQGbbK-t6QcfqzojSXRiJLqoXaAEkB+Uz4rgmfWaJDCfbHtXu2USFLr1KLD9x+xQGfpbY5z+QZrKQNsrv305FAmQM0CjWhWmYIDqKKAzAciORj5GJyHfQiiaJIGgBJ6E-fEfhq2NUULIM0GESDBUlUD0uyI-QuxY4G4OQB8sB3MIP8GfIFh0LTwfkO3TsBIKY5DQcvauB6Dt7M0W-pEP0hfJ7BsVS0mXWeruDlBnmcciKOoESj-M8oz8L0CfhFDNRr-QX2YkTGugeB-A-0B6N6o+jPqtILsb2PqH1FyqTQ1obkMl7DDdSYwzTuZR07nsnRgxSUpezM6-qk-JYPYeNmOG+d2lNw6fI8PAn1d321MX4e9W8RIj12vZiqNmNH7qWv5AAEJyA6oN7HIM0UxO6BGlunFkOABogkhGAOhSoFPpZAzi1JVwUADOOoBIhZMPARPf2HT3AQKjc0AYEie2UomdxqgY6iXW0Sx5sT5AXE+-xpOEnNI-hX8rsGR1zbWQEySgAAC8jw-zAcJyY2OVGtIfJ0LQKe-H3AVAR4HyFiZxNqSpTBJok-4QABsUkh0+ye1PcmtjtvfUz8cNPgs0TUYUUz6GHGL0jQSp4COOOKSmglAzRWAMSd-LQAFEEQFoFcGaIABZP0KAHHF-RZMAAdgAAcWp1kC6aqO8ms2poZE6ieFPOBfTWVf0yHEUDNEQzeCugOGdZCRm5TseBU1MGaJisoghkCk6rudObGCzWAd08Ss9MtcGzb4M07HirOBnazoZhsxGeJMoBHTTpvM-2b1NFmojBp1E0ihtSUmJAqRX8lOZrOsg6zYZ+cy2Z9DinJT+J1kDKd7MrndTbp9cyWcFNfsfTv5AAGIe5mi0ABGiyAAAiUZ2PDGZcBxmEzx5kkAwHAC5SIWEMDk-eZ5ODmnz-J0syKY-NfnWQP55ogBfPNZU2zR54CJ2e7M1nczXJ1c9yCHOp6tzJp4lWhYoDfnfz2Fl4GDAACsjpuC6RYfOFnxWG5j01ucgSKAdCg3CELRYhYshMLrIRiyScvOWnrzwEW8yRZ1MIXEL3F580adfMYnY86RCZLkANByBmirizKM0TJo4W0imJ1Ao9oJMUUIAMSRk8yf+YvB+Ayg-QH2c4vKXnWqlr02WYrNpEtLOlvS6yAMv1rWQxluZq2a0CKnmiCgCnjbNIDb1ZT7FxS66a4vuXkLgpsc6ae8sZFtLhofy8BECtGXiT-AViw6YSv5m1zKl1K0ae3MCW9zwlzS9ld0uiX8rwVwCxeYtN4npTNp0q2RYYIUXVAI5u4OpdNCZWZxuQQbgkCDMshXFC2CQK1aypkn8iu56kxGc6BDj2ptllky8CzPsnnL8FpK25fEgeWWuXl38qNZNA6BJr01wgLNZMtx44gEV1kIReJA9nWQC9ToNC26uuW+rA140+OZGtjWLr+lma7xX8Jgwlzn1hC99b4s7nBL+52PGdfGv4WprwNua2kUPOTWTzc5ps3eY4tKWobaV-i7uaEuZXpLHV607KdCs+gAA6keGcCEAQ4vFVkAuNkAn6cbiVgcwdeLOVWvTQ1kyL+RpuMA6bDN5oszcwOo3ST2l6k3QByC-nMimgUAMONyDy2mTLJhS2VfItIXNzgpk67HgFtC2DQjN4CKLdZu3WkQFyG2aGC0zNF-eUQZohMg+CHo2b6t5K4de5ujnqLE56m7TfpsG2RbLN4i+3mKslXdruN-a5zZ4vDnUTvNzK+AF9ZZAwLwEEmq4ApskmqbKmgaKyHABodvIoAVxXkCn1sm1bPV8O0dbuA62fQsd5gNQATssgk7Npym780QYGSaizRCnlMXwDNEoGBkv6k7eLv42qrHtmO3Hers0m67KdjM0HYhv7X+7Xp6q0TbhsV3h7Ndse+Lb1s+3DbLIY28Ransc2Z7LXaO9GePD0TRLTJ1wDbwbuCHKgG6zSKyBpoK2jwoEO7lBfakQseAtpou19c1u8XtbqFoC0fY+An2S64LcW13Ykkt28z0bP6BNd7uf2KrWtge39cPs7CrAzRU+8A-8I8Btrwdly5Da-uR2CbMN2q5legD-2UHrINB+fZJOV347o95OzA7xt4PKLL5m9m+djzjivYWF+QFTbkBVGL7pJ8kzVeWtM2bZYgcAP8MsCyZmLH93B3A+-tGny7WVdh7hQktcOeHIDloObduDpZmiOHAEKafofT3GH-Vqi4g7YccOVH3DtIYVcnsh32b5VlK-A9nuE3YbdVn0Eo+kCcPLHvD1O97eFtM3-bc26R2Hb3sFhksLQS9go7SJ4XJrKp9U1R3FvROOzzALs89e3u2PnbJdt26E5UzhPJAkTu61WqRuxONTCT8K+2devYI3gMVuKwY93tGOfrwWXJ-k8SePXknRFwJ3w5acEW2nqTya29YSAfX0nxdzJ445a6NOInv9n0GbciBaOrbeZ7BHo7ubqPNHltuCLHHNB22HbHjoJxzcEJtk8gdAbSxCFf1JGEUKR+owYrJbytYDw1+AzkcQPIGoNCKMQjmKhNeHogvo3w17CAF64PiLzjRmyGoDqJrhnDfoeGaO1qpSD1zaIzYcBOeHLG3Qf56CYICuG2h9sK3crtlQZGip0wvyZExPDNTH4JJjKR+BL5tx92zLWljSIjaO0o2xuwnJEcTYoCMRyCQl+9t-IVsBQVbUpjASFYbtm2LqfZ-QCOfGOk66V4lTufGu7IWABk-whi+J0fxiQBklqph3BvOXuQeAKG2K8HuSurRhSGVxJLle0vCdmLknQa5oKhowbbF2xysYujlggAA')">function javascript_value_process(exp) {
    return is_application(exp)
        ? list("application", function_expression(exp),
               map(javascript_value_process, args(exp)))
        : is_name(exp)
        ? list("?", symbol_of_name(exp))
        : exp;
}
</pre></div></div>
	</p></div>
      </span></td></tr></table>

    <div class='permalink'>
<a name='p55' class='permalink'></a><p>
      Once the variables are transformed in this way, the variables in a
      pattern are lists starting with
      
	<span style="color:green">
	  <kbd>?</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>"?"</kbd>
	</span>
      
      and the
      
	<span style="color:green">constant symbols</span>
	<span style="color:blue">strings</span>
      
      (which need to be recognized for
      data-base indexing, section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) are
      just
      
	<span style="color:green">
	  the symbols.
	</span>
	<span style="color:blue">
	  the strings.
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (var? exp)
  (tagged-list? exp '?))

(define (constant-symbol? exp) (symbol? exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+7gYBIQw+DMGwUBwIgyDoHwPD+wt8jzDRG0bno9rELMkvI1IkyKI1R8GBsaQAPy6XI18zPvix9vfQQAFzAlKpLqiKF-QIT8g7UANIQTQ6EGzUQ-kKDCYoJT-z7CfM+wDzC-z3PIA8METy330OgswT8969QongwBx9QC6DQcNTBiZXSlmtPgwhoBiH70kCOVMt9UEENocCd6N8KF32Gmw3qAjGx7CAtQ3hP46EyGJCpESBUNKfxEXqQ0nwkKqA8iCGCRlFAmXwU8Fhw00g6LTigqhp8ZGNDkVTY2qifyiJmPY+G9xmbGyVuzSx0iWFyOTqHZhaiSEzACWmHhfjgRpSii7AsQibGlGcSDRcXiuFCIiXwwuxdS6UVnEEpxoB67SB8iEwgG0kLDwkj46xxjTGlB2rZd+05VCD0qeMQx8SeEJLSL-RQzAITcOAgAVWIAaYg1AADudghR6CUA6UAABaBZVD34ZWxjjQp2SfLCBeIPM2GZKD4FAKoEIzpKAsHqn9SQWjhD9mYpnTZJcDZnIub9TR1VVA7MKYwKIstzCDCodIC64gjknKkGSVo1yPm3LJuYc65BNh0Ctgi1EKyFjlLbhY25tS6m4sCI6BQxB6TUPBLQGKJi8U-gqQZDkxlPkkH0DiylzLvm-KZSyvFFSSXMBrHcGF3I0gyRCBFJpqgXTIu6Y0J+IrxySEfISu44rpDCLqb-Vo7ROgtAGP8wFwKMzmD6dQCEXyWQjLGZM1u9t9aaHkIs5ZRTBRaX+bxHSDSJRNJMpOOgPD7mVwsi0n5oBUQAD40UHwUAG8MViz4Rk0LbHeuoQlytoHVKaEjag+v1UKqQ4RCDvBKasiN4iQSWDWofTp0b+wmOcWUotKbuofWTfQDxcSmxFAyXw0p5aiUNt6l9RQP1KB-WqWfbcOkk2uJNt6yt9zDnHJCJlTQ+tDZExtnc-VC5qTqo6AkLVGwAXyCBbaudYL5FOxiTFX2sLGgyS7RGoW562apl9k8aR2qdWHr1eg+FBBwTnseLA21qKKV3qWA+xWztL0S1fdY99aQT3CrbIBz5f6IPOUA+uilMlwORQA00uDQQD1Ht9aUW97DJ2qApa2R9YtTZrpg6O9BwxAjDCqvbN1kgSDVi6Kof++yPSsX9ZIINoaWQACouMMN3WJ4MoA+P53tnQdaxAxR5qgtgt8uT6Bzn1QhqQFH8HXrhbQMIAo6ZBqZkbeGqS9AdLbV4Ajm6PZSEXcuijvsqNELk17TzoBf7110MiZTqnFZkPaSh4WaGn2u1Nv2dlHKzBKbyCF9TODULad87ivGnwKMKxs3Rq9PEWO6ttRuh5WC0taccWogCYW0LwIbH2SVPTvOVAI6xhN-Ik1hMGdI+5P604WYCanag3k+wEZ-UHdaQKLNJZU9QNTdXtNpwFcZp8oBJP+l3QwVFHHNvJh41NlQfyHmgdUGnCMhLiWn1Jby7RwdjvxYS89jb7IpNdGnZll7jRpEKd3uw6J0XW2SMzQJ6k2XknbGQ75s7+UxIqKMZWv7ib2GcKYekmd+qf1NIs2dtHismltLyRWt9GxqzQNFKK-HFP03NheE0nhBGZL4ZdYzJNS3wmY7J1JmnyGls05Qegs7-PCfKKqYj6RT2zCk8OHgBeTBWDsDXlwTeaAwadZ1rmpYDpYXZpG9kXI+QdegGraAeZ6JUVa5N6Y3pjB+mqAdLHLIOQ8hUKdNghQLQXiWHhkOro391k6Qh1oml+jhYvAu1zpzExkoTQ8JCpCwZMuh6sAYiPo3BSM7lgHcF8eiVQoFp83XF8-zV0+Q+PP9JE8twIG3FPdL8DF9Yo9UG+AXiHX7rqCpWKm-bWBk9NvoAXqd-5Fym7PKYqN-uTJFv+1B8QzHYzCHMqaIAL0EUafD1Y8r8WLJ+VRQR86x30sJpvfnOl-kslBnwFj+J3lkhwn+-rSn83xPHu+FT-I662QIOZpoh0XHzJVTD6yzUvF7Blw2RwyXg5FUBALB0VHYggPHR-2oAulTm2UMnkEzXWGj1AFBHBE+UwKz2GB-XeAnD1gNm5SAL0AswqGkAGA2WD0wKsgwmnQ9TPzsHwIhAa2yDYPHHjR0mgJJBpxMiEPkF+BwIeQ7DEJrzEMA1EMwIkK5lwN7BkMX3tgJUCwANmFu0vWsiBXp0e1AGcBNAnGsVf22l0CiHeBYIbDNgt10isJsP3lJlNy4NUCYJgJ4IMNABcMZWMNMO0Oa0CF-hyGiBsO8LNgAB5HDwi3hVA-CqNiE7cjVVAWQAAVLIdRYgQUVlJwFWAUSBBuf3YCUAAAamt2e1DEiCiEOXTn0LNgqNkxZHKMqIS2qOiDqISOOyrVxVt3twyKyPwHkAmTyPZkKOyUoBKJaIqK+0CA6NqPwHqNYMMCaNZFaLmPMAWK6L8K-3ciyAgSgW8OQ28NB0CGQNmBkCyEsjgMaB0jm1sN4MMKBSM0FRLzoMeJeM2OIVPiuOoEsk2PxRQL-yHioLu1+02N-m8KDQxA7EiOCNxSfg7ESJeyhOUxzk+NJheF7F2Mc2dUaBPWoRhMtyxFc0oMAN5VeKCENW4P0NZBGUyFaDkw5CdVKCIy-TqR-TEIsygOYNJzqRkgeLkMiMII5EZUBPOMwPkNFJJCKzZP3XgLsGoT+JuNg1Z3tnJ2ONFVON8JUDOPMAuJVNgPMLKzMHuPRMiOeP4wFPeK9kxIRMSWjSNMBLhl-xqO0N0OAOsQdJa2hIcLhIaJ9MdIukVmRKMP3iDN9PRK4kDOxI-x6NWzSABXQUJNPmJMxHIKXXJJ0Inw31NOpJSNpIwnpOIEZKJWZJJDtUKSkyykTMIxKxIzSC5MwJ5NQ2uT5LVJtNYiFKlJFJkKlxZTkI9RlPELrJYwVNwOVLAVVMY1l3nmqkXmXiV04A3l4AwA12zBeUuXeUL1uXdgjkSkv0ZBNS3LeTv3tlPL90kHORLliSqz3PHmpAChhW3B-UvKuXl122SmAQAhZCVFk3MCVFxXFPqVjy7AArMC7GAql1-K4IgrwLBEYGgp-Nj3zHgvzGQtAp9E9kqFkxwukGGhArMVjzqjoBLiUEdReFIvItyJ-CIqCF-JpIgppLqXosCF-P1HeA4WcDoGDE4reG4oYEaDYvMF-LKPgvMAdxeEFEMBDTN1aNopErMF-IWQkrMCktABkpE3kuWUUpgtjxkxeDSA0q0rkvmTE00rMCUufh9GADUuOUd00tktDXmTAD0pQp9AAFJ7KTLnL5LPLLLQBrLfyLcJLfLtLzcMQZL9KfQABCdEMKxy0yly0AeK1FaKjyu4FkKInypKvy+ZGIswDKrCrKqI1ENS8Ksy0AMqoq4K2PYNXK6S-K0AUNWqmKrK4NcqoywISqlKzqtqzKtI2K+y+SwIOSswWK8wHXYBbkN8iIV5K8ipSIoNdBf1JUF4d8nc+MWWOa85bcgveMMUZwAAKw9x21WqLnpTsDktgvmu3Nk2fIZTiwpU2oOoJFliwF2oWquXhTyFNgswAl-O3U1Vk2Bt3Wsu+3Ytj0gGIB3TkEorMBhrhv1ghshuUtj34skFgEgAgsxuxtRrRo4tggEoAFF4LMaSaCbIbfyAA5JQGm+yummmyMhLWakzBFV6362sZa1EC6yyI5OS6Q-wzm9mv6na9mvAu6t5JtdKWsD1Faxof1AW0NZ8uLSWva6Wrm2LBgnSB1EtDWxa6FEgXZH5fMDgx5Ypa8lTdVRgYpd046pQeYJTCIJdSjZlV6m8nIQMe8hlAcxoQeM2voIIdUhaEMyBD03M60c2zQ-PME8lSlALIlVQV6pahol4CU9W76z4LWkQqmwIRO7oFOtuagE6s69O77EWp8P6+QvO8wMg3WLMiO6ggwbcHIBFeuqIIOEwmYOOxIWbLYKBXuqOhguXBchXFeDgdebgTADcxaWgcIJQCgSQWGMIKifURgUOUCSgcCHIc2z2FwNwAKLene0c4IpEyeIiHEo8beiCU+1olkSQGYszMMLoo+6+k+gcdBX+N+sCW+v2HSaofUAmGlT3G0Go60h5Re0gJwK2Dae4XZUgUgPyhgColpRB9MlkFop+TBvzYCdYioqB2un8TB2mMMAQxmEgAyC6MBu0VladVpSho8C6X4AASEVOfpqPvrSNaMAZEguhAZ439QYeICoawLobuSaP0BZEPzsEYeFk+CmBYEjT3stmtkHjPuAjoJZC-odmSnUdADhBYVPQ+N7HUeKB8DYnfyIjMdSoxBZAfi5HQSfgInYn0YcPse0dMSfnlWUCXpXoJEkHXtDnUZMV-lPSKUbiq30cMdxSJGlC5XhyqTMZ9Owe4YqLkbQMUZcezj2WUYkbaOGhaKfuONsmQQSfUiSZ+XyaoyKdaIyYUcUCUYClyeSdWJqakdCde1EbSLQpNqjXqa+Ead6NKDkXcJCalS6aYaWBZDgpeAAg7HUbjOsaqf8IGcUeCLsXCBqOUaceAgAHIn7B576DmdHtiljlGZHJn5Hl7FhGAfJYY7mVHJQ7SSQD6IQOwHniq0abKsq8gWhmijVmjxkgxixTRFAQWb8rZORP6Jn6nsnuhPn-DexEWXg1mhmdG4WPnbnorXh8IUWrm0DEX1CFoHanbSAXaCdZVnRg5xJYCnQnmImm5ZxJwNHfzGWtNZNyn+p8gWW-a0h-VSWTRyXKAl1AMS0aXTQ+nPV6XhmWs4mlgWXdnfyHGQx9DEE7JpQWWNm3dNBiXdRPm6xZkHRxX4ZTQ6XNBYU9MOFJimWeWZWSMuS24-SCn5i1XSmYCuWO47WLWxy571tqXTWLp6Q9kLN-UDWZlzhjWA3xIpXzW5TcDU6MIMG4Ldn3COxo2wXg2fksTLGVwiIM2g2OFs2YWRna8BYacMG0LU3mBA3rg9kdHE2GwMHBXnaRXKXV9PHHT3DG3sg+WggBXHahWKWxWC3Y2tXtXu2nW6TJaJXC29k6z2Tj1QV5W42jMZ9Y8VWBQ3WkEYCtX2sGyytb0nR2sQ7dRrUFX6WLDz93DFWJmOxb3S2aTzWSzzUpkdXuXXhBQbVzyFon86MWWr3NzEK43dnwD6WdGn3JwX3xk32xc3p56VZA9GY-RwWqJyBqBU5jQWg2hugAPQCNYv2L2LWMGUPGAgxLmkRg2wWyOqILE8P2GOw-3pWfXtw8B-jr4Anzhb6Nq81ClyyrhyA55x7Fo3gi4phQAwZjkLoFowY1c1cCENk-Rg5VAjRM9NgNBGAWgIGcJ4pVG1AfcjUtOUnXs2gd0uhOnCZGpVOHJ2IOwDPNPSZZW1E7PsFDPXC+jqy6BlPrPcWiJ7OjO9jcYNFsRb7VBYVJsHsZguOcgAaDLov5AZM6zXUDjIEVP5ADYeAXhVPJAXpGy-XTMkVnB4uLMlPSA0uMulm1AjsouP7fWzArWwaeNCv4vMMuyt0iUNVd08SzBF28vAgf1-OSvTRvP0ucvKv7hCAivavuugg9dGvuh-OWaggn55vITfP9PXPNO6vQBmN8SDSC5m0yPyvJBMvQBsv+BnjFgqSf1muT6huvOyvsvTvexquQvd7tuGuOuzPkRJuWuqT5irBsQiJXv4u+3hp3CAInuNrgPzvLvRywe8UXvIu3vT6Zvev8z+uJbBvUVSvjuLv1uJupu-7tv0hl3mgvvNUxVNuWhWuggWHGgQygfMJfuT7jF6eK7gP3DYfdTV8iHmUuIWfifuR2eeuD3MtGfex-O4eSe9ukyJz9v7ZqLYJSB4iWAqTzJK2UvNBO3ETdItffNf42B3HIgLoyOde8Un4TfwWvt+jUiWBoOLVQB2P0sqz4vWSev2GlfyAVfXyJbnetMUfQ3gv4uwuBgf0BOLN-fOOT6emtetI3zePUUo+0OY+WQrezfuRGDgvnBIg6pohujf6chpfAOEKCDj7uOeervLmc+e1-9y+chztc+ajzaOwa+8+fhq+m+6-xxG-a+fgS-ew2-m-O+++rb2yYD6+xGZCS-cfJ+Xg1Ds9d4HQrsC+b6i-K+p-FCS-3CIch-8+5+N--CF+2MFoTfnwqANooOmB7JXsyz6RQJJBROiUchGBYUAH-iSlL38yrXQJV2+u1tTMe-KIENi75DxIg4-TVk6Hn6KEZuuBEIPN177t8luICW-gtnzwP8n+LQF-s+2v6yk1uGgTQD5CAHIYgB8besp+iXbzopAN7e1hjweTuECBPke9jKxeCMCMS47NHmLza5AhJwaPeXjp2pBsCWWerfkKGFyAsBrWNqfPG0EPCCgmup3GQRRWuB0Bcu+HC2M82th0BDouzRQXIPpAqCwuOjNNtLEOgI91KyDcIOIMkFaFdBTXSwcSCZ73BTBGdF7LYP0EvQa8kQKYC7iuRuCnBVFQ9EoPcFPMPiWgjRm4NCD8BDBtiUvu8xMF88wu2lLwYoB8GfA-BEQgwXz2GiJC5KYghwVxEOizx7i9giQfgEPBQhLqXybTpXDKGwRCUkUSwMSBtBWClaxtAUP-UZi1DyA9QvIUo16EhC7S-Q3ZnQR0bJDbauQXwYEL0Fu1TEcJEoXnRyGhouhPQkoc0PyHTxGhavIoWzmX5aFDkMtW4KmAP7CQgI0-LHBLSAEgDR+4AsQqv1Z64DxCTOEvAgNIGm4Y63QY4bBGgFilOmoIboQOkCbK94ixA0VKQKopfCHhgXBCv8NsCAjve8RP4eCNOFb81BQIbku43wCrgugLRXZiyExGqhsREHa6I1ERGgAThhgXZtyTMCjCpAv-P4RSImbvDryEoc6IcOtCkiTh3wvATENOSc9YIsIeELyIILkjU2dQgEZxRV4Yl6RZg4aL2HJEyifwfw76HCMlHpt+RCo77B2HlEuDKUMhbVniKxH-MRBYgEEm3XqyrDjcqIzgsB0cqLDWs0gKESr2wQGgOEKmUjieHdHjAXgBrUkQazOEbAf0EogSkqhRTQjlRQY1QD6IhGejaA5db5rij9EwD2GQYkGEimVQYN8ROQf5sMJ8wxDTRVgc0ZsI8JAjUxEqY0bIzQK59HQydfkSX2hhbN8+aovuKe35ACcGh4g8rqd1U6qCAxEtHbKAAE6disu6XYfOw3gEU9d09wQwE-DoK4M6A5Y8QB12NbZdxQNY9ML2PWyqcLMTYusnrl-6qdpxwEBxrg1U6t0rAoAdIgAAkSakgAAILgBwAJNAAErpFIAAAeRprIBUUdBHWp0KsAq8OE1Hd6muO+hcjxCJfQgJWKXEgSB0GjNsVWIdB1sgJ4WJUbBJ0ZtiVAn0ZCSZkuYYTKggE03sBPNpXibx94x8S+PfGfjcJgPBCUhMIkoSxRtgc2m2N6EnIlxkgFcftFQlMTQW9E2gAsl6FId7YO6KjnxO0zcTiAYE82r0OuTlD-UnmE4U4BExfYnRKcZLDGPyCKT7eYYgdFJLMHDF4RBE1DiZhgm2ApJIUNuhYChbJoSA4nVFAAAZfx9sBIBMl2jWT2WATSgN0F1zWSNAtkxQBZkYC+S0B4nCojwCeGsQgpkEPyevkYCXMIcLkscIXxPzv0K+UU40DawD5eTza7hDxtDwILpTJBOSTyV7gJ6T8BwC4ywP-CSlr9pwVtMVFC3C5Y93JmUkqbQRGJuTIIHkqiF5ND4bAdIlgz4BMhUChx6ON6EvL-wA4Uon4CUjqZPxwGFTupaEbKRSlGbAcH2aidwoNMkDDTpAocZgT6w1GQVLAQ0kaewJlZBlekx7fgZXG2m7TQ46UqEW0CkFacxQ3rQwslKkn3IBpJ0naWdPAnf8yeSU2ArT2GiEliRagA-qOX-5vENYQU+QLAI-TEY6BTZC4VcPb5j9bhm-MUojNhnqCXhyAx0piKPQuDf4d0s6SCJ77OAyBjQYYCw3R5YYS8N7BkZSifjky9p8LEGeY1eC-T7p7ApzqqgIDHYEZTGG6TJHZmjT6WC4pkfsO0CuhQuB-feF9POHrZLhqKYgTcOYIH8F+pPY5JcLSomdOuXQdXpeBIB1EVRwI0ASQNAH+EdRgQJWZCKDr7oGyP-I8N0QdFKFnseAMTD7O-QXDQB6M90prIn56lHZ6CGSPrIxCrc6kK3YgObIjFz87ZxhK2aCJtls8WG7PGQqtLdwr9FZocnWUjOBQnpnpgWKQLOAdnazFCEhb2b7PGmsQDRBIo0c7IoF5cj2uc1KevwdkFyPeJ-XUGbKWIWzk6p3TQPj39EJsWyGIw0ebxQENysx08jBFQghlDyNqL0SkZgRpHAzNAh0F1uYGIS7D88ss1AmaFC5byV5UkjeXSNy67MZZEoOWcfIb4jyNqp3afqABrliYN57hLeQKOBCfzV5sLOOQPIjG9gv5R0wIMApeigLzA-cg2BGPTbOD4xjQdNhAqTl3Eq5OjWediIXHCooWkIIHE80jhHka4QOVKFCx-bHRaAB4SCYxEekl8Aoj0mvIVIsQ0KrRf8O0r2El6NSBZu8n5mkRUDDTBQOaeGY4xiEBQOF73KEXrREjpSGp6-KMTCMkmgBExYpfrBLQPCG5OpQGTYNVMn5SBIgMix4RuNMzQLSx6Y4DLimMURi5FoEu2Y+EoXi4XcKmR6ZAqCBKLZSEU9rubJDEZip5OYyoBB0LSfBPm+ikbGNjUXJYnF4vGomaJUysTjFIY2eJZJImSAnxQyAADIk0vx9opyQtAMkAT0pJkCScrPYaQTPgCE0ycQDgk0Slx1wfJeUu1Z4SZgtSmvA0o0UmRiJ145JWkoyXUTFYtE+kLUoknSSSh1gpOp5hYmrCEJHE0bquMGXOLAgLIdKQJJKFcgzB4yosXlMhY5AllmwrkBIq2StLylRS3AjJK6HyS8U6U7Sl9kkUaL9F0PeRXpM8y5LgxULApYxIUV6iFxZoOIJBCCVWLdJDw9scSCGWbDZJsEM5aUHRGhoKUMkguuplkE8ZMsIkoyTRxMl-KzJkIhUXaL1q1K0V7yquQOWFLzDpZASm5ooHubYswJgKtXiovWyXRhAFmQcee0jHYt-CLIUDKSrubu9K4440zpTzpUMpTcXy28hyvJVkrKVQwm3IouEDuB18tmZlWSqP69kiVLYnWAhJj70i6x+mBsTEB3HcyQgv-XVZ8vQ6WBkVnklTGUo0mWsgZaq0Lpauu4S0txqKSZZxJaTYSKlM3H9NAztyJBTVVEXoQrQSxrKOxPnX0G6u2XiCuVgQTQHmnK68TjJxAcNcSCTx1Ixmbql4HaK9VVTFYGkqlWQIZnjk7YodY1Z8EKngCylzCwxRzTeUWZbFNEKpI9IIxWsbVD8t5aDKCA-pHVi4toMuOmVcTW1Hq1RTYCzUaKqVAajlEGqaEhrFlgk7btGruBTqoWialgMmtMTuF0p6avypmp9WFT+hC7Lgc6l7lVhsOI6o1L6tnCWrNVNyi9bs0o5Xq3V2rW9RpNdViSa8j6t1c+vjWwowgRqY0G6rH4Wr71E2P3tIFEnxr+xSSsic+NfEfjwABGCDQ+Kg2UTMlqasSRuu0rZBQNKK+gLuMvAshwE0jRfrqFvXSKK18xYtSOrLXQSG1lap3iBtaUWYklKS9JbBo2CMaulyG4DuuuOR+UMNrSnDfXPw1YKXMFBJtMdQ+ReoBh1sCTZcxwyPgxNIgc1tUO7i4cnQ5De2Hljk34hmOSmsAvhGk2Eb+IwmxuqRXk3xhFNkmtQPpsLVd42yJm-EOZtoWIFVNDC6cKFgkCmb-2zmgfnpuc2XMEgUQDKPSCCUSbHN2cKzbPTk3UA9FmmkQNOkJWbCnmZJUTR8hi0UB3ORMpVZsJ0aRa9FGm2gB5o6TEACtWQ6XCSqCWyb8t9m1LbFjZ7fN4t4g2eHOt4VEpmi7Kz5nvny1Rb3Vs9EzV1tUB2bYt4q+YZeqS0DazNY22LL4ukCjDYpqQuFUEJmF1I2t2LCLCLAm39b3NWmxVRyFzW1aggdo3rbltc1QRNtsWjbXQGK17aOU9WoFbGCa14bGArWsrdi1kyHbutGyfzRtD2RDaEtJfE5XJMuqPKJ5waLACL3gx6dYCz2slbxnkABbPcIqyNFiRQXzEolBYmJasL1EEIwdy3AUKjvQ7o6ixWcjObgzoJXaDSmWhrbiHu3Asnt6KBQCKtkyfaFAmfcdIhOgYRoxpp2AJTgI7pd1eoQ9FuiqrsAtthWorKnNmx+0NbzwgpYZacsB2mJIVJiR0NgjzRLAz+f1behGglILNi2YE5xQkXn7OUXBT7WYHGIQWmpRkMHa0QilAhVkZioO4nfMpF3Dsmkuy4zvmPx1UqRyPpX+KTpMQ3a1eVOmNSyGd1ttAMtO8NIEpe0vBQ9Yu8cJn0DFzITtZFWQRZgACcAwHSNRVkFe7qhWeiQDRSpXXkpgkIF4BUry5WtQhmoPLr1xPTXUMQ9k-7uYGz0UVVAezPZqyDQBd7I1hc0rBShb1MDpYzYupAPqL0vxuCwy8qP4TsDLIO8os8coEFH0yTx98DdRMawH0SLpA-CwRR-GTA-rJdQKkvgHqD2-Mt9FFHfTTGAjLayVsmPhefq+DwyWdjMAtgjsiBzr6cigTIGaBRo0rTMl0CzOG0FBGsTWtLbpm-t45NE+guyxtaCj+iMAv98NWxqihZBmgwiQYKkgPrSJLJlkBbRRdi0XFzqzA2B8sDvLMCYGBmvyrcDtwPa7d6uoKHNeh0w4cJsOPGS6G2vzrHrCpp6p9W+rEkhL7mNM4ILAc-2oFEDBslAwSL0CfgUZZIgvbIKwPYH7UbqwpCwZaB2pFDJB9HrQeoMtz8ymBlkIoaWR4GyViKZFAwEMNLIe9ZBuQxRS93Qrhl4KzlMDsBIUGVtOo9XXoE11LBLoeu45KboIB+Uz4WQ6-Xc0jEhg8dhYjsXQRIgntD1YgHDHkDoATI3A4B9cZj1pUAHsWhrSNiAbNZgGRGEB4CFAbIHNkOQ-YkI-c3CPRBolXu6I-xvUEfExC6Wx+Jo2oDqJ4RnDE4UoG0YsM1UIjKZq-qrqeGNoPh3NiORzYG6Aj2lII0JuBmc6BB5+Ahe1Cv4eMQoL+oJXs3dGqAEFAAHSwDSLYVjB-AEaiUak7NKTVO5JSg73AQ4DX+6FgMHWMrbNjQE7Y-GL2MHHi4WhI4ycZrEEFCA9Ofwmp3cL-HQAAALzVqgA9jQQQ4xh2OOMAlG-htTuCcuMsprjIEEQxdC0js8RgbZRI8kYhCbHPj+eb4-CZMpzNY83R2OM0VIDNF-m-YPZtyDwCPHodhJl6V8FhM-Gkq5Jn0JSeAjOBqTtJ3ZWifLBAA')">function is_var(exp) {
    return is_tagged_list(exp, "?");
}
</pre></div></div></td></tr></table>
    </p></div>
    
    <div class='permalink'>
<a name='p56' class='permalink'></a><p>
      Unique variables are constructed during rule application
      (in section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) by means of
      the following
      
	<span style="color:green">procedures.</span>
	<span style="color:blue">functions.</span>
      
      The unique identifier for a rule application is a number, which is
      incremented each time a rule is applied.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define rule-counter 0)

(define (new-rule-application-id)
  (set! rule-counter (+ 1 rule-counter))
  rule-counter)

(define (make-new-variable var rule-application-id)
  (cons '? (cons rule-application-id (cdr var))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6ShyQHrhwo4lpL7dW2lMEK8RrxK3XaG7qUiN1zUE3OScqRLpAkrsCNBYChZi6EsJaXrPdUhrfW3tTbRlFBcbMsKMa7i0m+cwhmli6kjL91QVnoUIpdB59ean5HsVhisXYsKlsDuyeC4p0CfAF6vBN9L8rmqwrlWmUrxZNvxchste72Vgfzk5Kt5hQV02w3p9tdByIaXmltIeXH5Y4cK-dBjY55Ozb2TumeC0JsRfg2z3bjP1EHNMJ4oD+01FHJAdr+O5rZ3xQSyzOe0Gkl2+wANQyf10g-0rT83E04QDnx0nQtFKAeGxRcl8QTCpkgMwmg1rx6iey+WtXQILzsCHWwOEQQOoE1Fkn-BHyaV5UXT835FVTwJyGWW2ikVNQhxwh8W3wSEtipVfDrzsHTxH0EzmTGm9l2wwLsAYM3C9TEO6SHgEKYEFEOWaAshHxAloIGygOXSYNEFnxH0GjUMFA0KuzoMwNXV0LgKjVUk-hQO4KdlAzkLomrzuB6UuE-0L00EeEehEI4V2y9xCC8J8MiGAn0mCGkMUCEOtVkMWXUSGQaFcJckBnSHD2xR8NkKMAAB5Ai0iHpf84jk5vhA9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgJPHcUAAAaj92gTzUeHAnk0cKMA6JzW3HaM6Mcm6N6PyMcW4QLGKiD0UDKIqPwFEGPBqLqOPgaO5xaOGI6MiX8HGPwD6NEIGJ3HKhGN2JgVugTQmJCNc0UNKAqCqBUM5XPy9T2QCAJn0GcDKFmgIO2E9THl8NUNiMcQNm2CVRxwyN2O+E+PuNmnOJeTIEQITTsPcl0gBl2PSC9TEmNQ+36PhOCCHRuPhMxIBLw36NlVXRuKcRSA-G2GFnGGxO911TJCvk4K31RIXnIWiWKMBOkHKn3CaFYlADdWpOSCjjIWSikV0MtlwOENdn7Cmi0TWF0KeKMJyDhnhP8BVPEJbHUNFMjnzkILBC+OoB+JznWWEVGS9UmVeNAEiDeK1NIJhO+OGncK5MdMnSVN5KcIkKDiowhLxOsmhPEBNLhOCTIKQKnC4I5KBHROskxNA0ZO12U0hMcmCE1GHEJPUWBOmOSBJNJTJKOIpPXSpNznMBojdkYgZICPYNZJRM6U3m5JKltIqkFNhGFMFBvDvHbXdW2HFNBKKClJHxlJAXZDlPNIVIbi9JVNkN1OMOeUcm1PkLnPVP1LzgNLMMj2dNNNdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIhbxQi13myFzPQAh3BghvMTyAKjXfIIkcFglLGSV5wfNh3ex104U8kFSkR-NvObyLgsWdUlAzT7RzX8D7SUg1IHCYW3BHRQvMBHXQoXIzWkNwtAGkIIsQqwpLhIpLnIswtv0pRfhzQYr4SlAwpSAzThDoFLEkFqBzU4u4uqIhDYuSAzVmMYFwrEv7GEoCAzWZEeiLAaDoH7jkoegUoYG2Gkv8AzTaJIv8EUBD1AFqENSWivA6MEs0vMAzWvF0vMH0t0CMtbivDvHMsIqwr7l0BSDssMuMtACvDbkMvMAsr33mOABssggMoctEhMtADABcootvwAFIwqvLIroqEqArQAgqM0vddKUqfLPdjUjLXLb8ABCI1XKiK-K0AMq8SIq+KoEbcTI5Kyqxy0AbI8wOquihqzI0SGyvK1qnqjqrKrChaZq+yqqpaIa4qhqhaXqjygIfqqK3y0AWaqa+q+YkqsK5agIJa8wEq-we3SUM+KC68385yWQsSCMATPtXQaCxPWC2eY67eUi06mC5yagBoAAK2jw0SuqbkEFbiItes-LEzAtKiIQXOSDuoQgeuOC2iwBOvwhgsvXWPEmdQzUZUyhzUxp7iCqiREqwsgGIF5lcF4o8qJpJvqjxvxq0qwpUscFgEgFwvpsZupppuCu3HpoAFESLua2aaaM0AA5SQQWsK4WwW3MxyJ6+gESaGtkFGjtUQy67YATCCJaodfAIZOWmre0Y+aW-ibWhWww5WooVW1uaA1vLW4GmGhW+GttVqHCbWjPV8ycEuXfbCP8jMVKRgP8ZEz6yQKQWBPCRmXJAybW-88PQEIChSVBV2vqF8ZIC0z0yKaoaMzpRQXfGw9SNOhMN+D+WETPa2u8ouVU3QTUw27eK9VU-mgIfOr+J2keHoL6n6su-GiumWqu8Qmu-wWsxmNk1yewxIQVcPESU1R4UoBI8LdkzpPeFO+shMM+XAMAD5JgY835U87gTAa3J-dwCgRwc0IcG5ZkRgX0D9SgL9cPXfBihFTcC2s+i+vQ1CCMAksG6De+79IhEY7cRwbY3NS47FCYu+5Yc+j+p+64ZMhXfIz9UB9fOwGIZkImLjGPO+LFCid20gUgeFISFaUmQCDBnyhgDouaDBpM7cYY4IMhgsIYkYyQfByG5SMh3QbohQnqEgEyTUFBhNMiCibhxwNh5YTUECAASCNO6K-vmJGPgdJE1CQbsQE1V34ZFFEG4Zli-oMG3FgdAEUYoLcBYFWkeCvvh04UnH9AoapW3AjEJCYRMc1Q1XzBFhx2gxMaMFRQgdx2cequNW3ECCfGfsgiHRsYCO8Ysfd1AB3toeHAPrbGPt9BMf0nSBFl-B52Ihsa1WTitUGGl2Y3nWccBgoYkY6O0flWFD0YCbsn0c-p2KUmGN-utJ9WtSyeTXIw8aqf7BqZGKKbNRKZgzBqAgqcqeTifBCf9y0eIHYaUG3Cou4d0E6d0bAamELAiLie2GCCKfmOIt0GdTKYMeLOMfIlQhmbGYEeKcYBYH9A1H-pxWWa+B3AAHJf75pBj7nLG-7UGJiTHNHOnzRGAlRvmHLJDCwcccgb6enlM-nu6lIM1tFZghig8hijxyAhi-hhREXyo7pw8nx5nURRnxnQWv5wXdnFACWcXjmunTnzmSWlG8WiX2gfmhloNiWvnaWjLj8o1-bA7SBg6ukohcIQw+lhpKRDGucmjxduwRpTGOaknRXiAc1GnC0BXVAIXG5Zp2W7hOXKBGZbkqQ+X7gVGFWiEXmMmlBxW-GM0fGmGhN6nBhxWKWRpWX4k-mxkLxyReXLR7h9XF5GJS0xdecbWBypTG6sTxIIw6m+hfU5WWM1gbXc4TqdXNQ2IgJLYBNHXzx7QXXtW3Wxo+no30IG5zrEygniK-GIih0M2+lJUgIhkLay37gK27IDXwH825lSGqLi3mBM262KIXmm2OFSHVWg6NXuX2hhnsWIie3mh6GUgBN+31XNXUMa2s3ymbWKWx3A3QNbr23y2E363dZSEGI6ZMh8DBXGzmd9ssLzXc1LWw2j3FXRT+z3T5ZKQBFNM9p6pGoPWAXoIVVNwTWVm3Hf2FmxKFX+TKoTxI9sn+kTUGpVsB8wCLtxWPD3MIiAPsWsDBWXmgORoQPDwwONomm9o4OKYU821a3GA2xyBqBZI2Qg15gv4EOAW33jXBXSHkWyONGvso0aOixSO2x596OjSh1CPRQc23kwBTTIVyOH7br7osJ2yJVyAl7V62BSAHpiw3BQARtIJNQo0RtLdLdfBFC-gQxFBWRag48Fgg9wkhWcd49LPQjQmcbZh4mxAdQPBTPQblMh1bPGArOsWaw3HvOrPk50gjPSATPRAzOTVV1AuZZ7W08WR5UH6M7JFnqHFqNv1LYM0257Rv0+5RS2UyhKhZpTPHAeBdASu2sBzzApE6BCAGgcvw9LZQvwucIyuov100uGvH6yz92RZHPSY6uuvA5Jyq1HOev73JTnrAumv7hjOKvCXav6uH7iERvHd+vAvJbwpHOMT2vOENvxvDT3iS16AUWWvSvyuIvHAgVgT2gT3qvnrFuuuZu6A5vLu2voNOvlu1yaYvWnB+vHuvuqvkgMzqMOuQxwguvJ3pQIjnUSu2uIj5u7TukDnNSAgPvweWghuVuigJv+wpFpvxJmvEe8NBuvueuAgl4+HYQ0omUv4NuT2hHtgQeSelvv0JRGe27v3M8ufEeA4ofoEWesez4Ofyy933SpRmfouLOfObu9Dyf1ycfDuPSo1+L5AVPIi7vT3MI2Agn7iiuR2GEQhCuqg350gdevGMpNQ2OglghLeUWgkA8SoWBsOqo7BxPWEuyovv1eyFfSc7BVfyAVPILnr3ftl0vGvxJNsuuM7XwpF5PLZQ-JPv15i9eqh3UoKZPxJE+blo-tw7e2PF6epNsGgMo4RsUoGQHw9Zfd8Ij36q+keogB8S-DpkC6+lBm+y+DHEO3GO+E0m-S-kScle-sVd9oNh+DHNHx-PaxzrU2-dBLDu-mu5+lD1TNGs6v5l+-8F+AWIji+B-y-N-kf5-1C4v68P0P2jSnyf8sOdwfGrCtMO6tBz7mwb-dDDm2y2IP1HBVPYRw9GBN4eoKgVQA2GY7i9euMwc-n6zAHGJnq4-WRPvynAZQZ+1rSkMf2MLy8-ehYfruP024BhRmH-VoIwG-7Qs-+wHFfnoR25AClQU-IfggOx40k92lPZDseyB6blSKXPKgdSxta6BOBaHW9t9wFh5Ro4fpKtHawjC0lfeWvOBqaRAGKtT+Z4W6CShYDCtbC8wJYLUDsR0A2uagnipKjoCVdP2RjUmOVj8Y6CNBbEfQRnReYltl0WgpVslyWqYolBKg9SGYM0GKDsgoPMDOVn57s0igbgiwW1hfyX4faJKGGgEOMG6AAhNQAwZfyMF2DTBeUXQYEKsHgMbBKZHwW-AcFLQMobgcPAHR-RJDzBzCIoXoKBQZ1fB-YbIa82cF4ZystxT1B4OUH4AlgGsf6qRFzS74Wh8gNSHaEsDZAUGzg1Wh0Ni4cd4k3Q8gL0KcEDDphZzbvsxW8z9CzmfjKlIaxCH5DwhpQr+MlA+xNCa61QiYVMKaGDDPBamJYfrkULr8-yfQPiH1HALAMpOoAEkKCG36TApEcA8SFPyQG6EK+jwywisiozYC6BYRDaF4l+Fs8nh8gNAeqWc78hJhGMRwHJXV40Dz8OAqIVCPIH389ocI7rIiLV55E4R6Il4eoW77Skgm+AAdD3GGJ+NtwFI0NFSIw6udOEhIyEeqj8bSlzAhrJwOfzhFGA-GVw8CDVjuFvAWRzw6ERQPAZftVUvI2xosy57PCJWOIhEUiLyLQZeRlQqUNBgVEaiIQSo2MCqOpbqjUeBkIdNqONFOQ9SLzWkZSJhbyDc0CaEejJFmH6Ua+XPAytUKpRYiRAKnBYPIm0TccreKTHjscF0COsWRjrV4TAJlqNxA+qlRKJbD1EZgDRYYjEax1WCt0-BSkCMSfyNIqjmstXYSKQzpHh4YWKwl+C80jKOi2ExwvMYlC9F2BCAFBUvhSG57qpDBfQhNIaPkANDhE8nPoUoJa5tdTOsQqMfxAsTydBxF3WoGvjiFU95gvMTQUYGCBUoCwdAO0c2JdYldegrYzeFIlM6WxS23YgEQLnP6mclxt-YYukFM7D0rAoAUogAAkuajgAAILgBwAXNAAEqlFIAAAeUFrIBxIfBa3EsVjEBiUWcNVsd1nFG75GxbIDcZBIxgSs+xG4itsGKASJiKWfYmQC0DTFw1NGWEvhGBLI4QTd8D4p8a+PfFfjfx-4-CVYE9rzByQqEwMRBIwnd8+xzojcY4C3ElYMJ5UXCbQGvCzDiOUuUvkRNngITbA0E7vrMPZCtCBMj8Z4fCkWhBIfRPoIsBmH4lrBFJzvdgfCMkmYjKhIElTmJJYk9CMY0E+sRFBriEDK+s4T2sFCEh6EUu0Y9FtRx9ZthKAswXgssSKyOThWZYMPp5Jj6TAeoigtkMeBkC+h+OYJKjJAOY7JQmQCXfoD5Lb5kDXJ-k5Jjck8ncIoQzAxVglPYGqowpjgCKdIF9DEFj2OonupYHCmRTccy7ZKIjCfZK9MBxU0qb6FcmWT5gjUWEE4DFaoCke0DevpGOV7xI2pdUpyWAMp6QDhuFKKskyPBH19H6rArmA3B9yiAMBgg-WNAMHKwD4BLfRARmB+HKNMRm0tgQymp4Liv4DQXAdiwpH5RUe6QcaWVMUAoigoN0gQQaSEa485YVGZDnyKDImoapJUuqcQW4iuNnpvoLAn537DpB7pmoA7huS0KYFgZ7U-VnaIFF9B1ANIZPofz5KYjnJ-ED4dIgQHT8fhy-f4ZMGFhwCaqozecbT017cxiAvRPEbGNemkzaBB0oZOaP8D2lTpoxfstNOWCTEOY+NPAG3AlkRh3hCA-aZ3zJnCE+ZlMmKVWhpnGptuhvEgCzINFz8eZb09oOzK5ns8hGHPSwo1NBGfxFpJ0xWTmMjiMDGI3Uz+H1LWB8yKZepHlOLMlnKy-M1o+kbaJIRCCJSXszCOv0tnAloJz7a3JrIOKsz1eqgeHtdwJkAsyRXjYsQyL-Y+ySxBvD0C5zkDMj45ErXQlyMIGZ5ysoxcKJjL5DkEHgyfOObdQTmmzJR3I4WaoEq78jPEthQUdjOrnh5M8Cc2uQTJipgAJZbcIuRETjlGAtUco6UW1j8ZRycIBotUZkPxpqi2sVU5IHPJjl5FS2S8zMUUFLaryeZfxS0eAwzlUj1xTgVyXfHRxCtv8gWOrOjjRaOSvyHWWgIsEbG0hOp3fC2p1IHzpT58n89sY41XTQYf5ErKFtIAim1BRUtuXxuAwtogLHJFw+2vWCLC+Se5rk0Mcy2VR6SyooAbMcYUJkiRFgEeNBQVHEiWBrJbfJwBlAcmX0VEz1DefGODZKQN5yYrBYmLXm7TES78h5PkIzCdTOFKQfBavyNKMLZwQkESOSJtFZy8Bqw8BjbH3rMtaFbIefMQv9ECLUElYqwE6OOFiKCxG8G8SJDImOAPxu4AADJc0AJwpF+PwRwJWBjJrk0UBwsTmiKmx1PckBJNTR+NkJ7iyVI4s8WYS6J2E0haKAHwETUwjk0Jd32MWmKLF4AWicOBQlsR-FrEgFjJLrqh1+w7E44ZxO4kBLBFyQO-I5MElNCnwlQ7JUsPmIXsil4eEpUsMxZ2iPaKSsyfpJGmYCZJEw+ScpFcmtwgkHtUkJfIwW6SoJBkx+EZLjGRLPFFku0Q8FiDh5FFwoX5uwpaW4KZyew6SU0NknyAulRQMkUtGSjpKSwqgrYZkqUi8wE2aE+gDS0WXYKRllhHUdUKaWTKUxOCiyZDTWXnCMZL0BQAsp+bXKfm4o-sdkF3HPUtQANcSBOMY7-KiqO4BRX8x96YCLp9MquGCq4ggjZlAFX5UssWWArZhyRPBYIAvzxRRQxLD5UoMskzANxSXGUe2O6JdiN496QsOf0PEGKk6UaIcEHmo6XLp+8EzSZvEp5Urk+fKzXnuIi6Wxcll3bcXyp65SJMG64GdJpKBU69ziFSgce5x3CaS6lSghFVDXugtc+JlyrVdkDLz9glmly3QNULlUULhwiqvFXezF6GlAMnpCjpYFIU8r3FyikFdGMTGWwYQb88jJ1P5gCr3F1KlZbNJSCirqi4kCVThG3EYSZVz1K1TOnSmzCTajkVVQMPVU1LRARqlgDqoCCqA9VWa1ybmpNXQ8ueQyy1TYGtVuq7Vu7AOQbALiGdZgySvyUHhMndg+V8wi+Y5KmTMTaAAMm5lx0vl8qXmXHTSX2vAkDrNG46y5ZOuIkDqDYHK11YqqQG8rLlopKRM0AuX9r6AlsYxRRM-Hfi-x8SyYAerfFHrqJVis1buotU+Vt1Ha+gKKSmjbgKg7HJ1ZxxbWkLPVS6l1Vkj8lrqPVgat4SH2kCtrw8FiGJeYssX8woNcShMRWscl3rW4D6xxc+obivryg76y8uDjrIwhPqI8BVr6XOlGCRoLDESb7Hw1EQiNu+CqaNF-k4IDoBGoQMJ02ij9V0ZGl-Lhr7pzAHAzGouDRu7X9AX4NGzRk9k4r8bYybGr+cuk42aMfsvGugJJtY30bu+fA8jZOniCPAHQbEP5oJoBZ0aFCihfDdQBoVUaWNuK9Ze2I4JMbCN5migPZxuZkrsgLzEzTQoU32b8EnmrWJEjhVKKnsnmi-Mpo1Ii98azms5gRkLUNVoWQxPzYssfy0BPqpmotNbgk3JbmEfGoiGNHC1CsbNEmwjflpY0Ss5FCzXIcKA2GFD1BdiR+HFr+XibMtQgDLUpqy1DIct7PTyj5TS3ubGNhWhzU1uC3tboEOWzdFFvmJwtyotWsmk8L43JbC+wiLTStCAiWbzhGypYVsraFhkzlw5KKlgFC3JAFhw0b5WyD00LaY8WK-Rj5t3kBAtFFHasZUssJP09t4UG7Tovu3qFdtjPdIFSkG3vEDCeK2JKNtdTUBUWsKo7VipzSna5e1uCkAsHuhMdFW3ffJDfzHoT1wgOdTYHaJnZctJkS28gUqtliKlNlnSpuPpD2X6QYdmDZsJb11pUAVo8JbZlrHIEFLf88-YyqjyA7iAMxu8iqDh2qhwjBpnvbYh9r23bgsdg7QAg2384va7tA4huSM2+2k6-tewgHXqtF0B01W2O72LFrB3wrdAYuudsj34JSJmQLrfiuoMtgABOV8D1DN08UlVpMAAUBgcACUlVf5NwHfAHia9KeEJBlWAMFmMQ7AARAAAya8AgtupULc1ublQ0AMe-NdRAdX9hw91LIcPQIhDh7XdrgRFDJLUxDI7Ad4crIjMkHp6ZJmemQroBN2KaBKlkmQJAugX6zK4nK5beStJFK6lhKu6LRAp4p17VsE2nXcyxzQ16u9ZqW3HNsnQLtztGUKLYsmFBNAHgVNQhXgstgptagzrV1vy1xaT6ZOgxZ8A0qpmMQEIjAWfaTU8biRtwDwVIoi015J7twt4O8AuzwXMt7AYzGTl2WsoJ0IwSeplosqJZeQtp0cCQT90giKqKOVHIsC2rsRahw1yQYdW2qIETrZ1u6hnL81T0U999M+8gsftpln76RWgO9DtPMDX7b9zUTSVhHANeSiDt4dqH-rIQAHqDQPQgxQYf2LKIo+ihgBQcoMCDi9xwg5Zsp2UWjOyO24JF-r+XGjqdV6Z-koC1DiiLVnOggD5UMBKtloPyvTVIftHYoqx9uz0QhgNIvsN8o5bRHQGPCIpN9bYkDdGK1BL6sFqbS8GvvdYb7n9IkbfbvtHHGwR8FiSbUSyYYOjtFMugYVoePGO4ccuhRzdiyB0xiVOCaVkZIAsZCN0gwhpUGIaf4rRVDGtNw0MhZ1yHW4ChwxQJD8kqASA6ncSEHtsXzafJ6UqVoFK-iKo8jE8EIZbHSn5G6jHRHgAEcwgNHajbgTRptniDHgbJSXZfuUfclZTZgro1VME1uqIb5lFRjybHl26WyLh4+vTbczTGKBd5AAHSwAjqjl6kEA-gCDx6NvthlcatxAMhR6dwB+2fTB1fCLGlFyxnjqsczEbGtjPUtiLsf2Pc9VUhARZEMki4REvjoAAAF4HNzAGx6A9sdeOUc9jpzDI5FyBMnGbIZx7cBcfIJXHdtnIp7AYaMObhlj4Js1JCfeMRVNmWFaI6HiGKkAhiMLVCLczPh4Abj3+nEy8bxPsgCT9lIk7fhJM7gGgZJik5i0RPtQgAA')">let rule_counter = 0;

function new_rule_application_id() {
    rule_counter = rule_counter + 1;
    return rule_counter;
}
function make_new_variable(variable, rule_application_id) {
    return pair("?", pair(rule_application_id, tail(variable)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p57' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	  When <kbd>query-driver-loop</kbd> instantiates the
	  query to print the answer, it converts any unbound pattern variables
	  back to the right form for printing, using
	  <div class='snippet' id='javascript_95_43_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (contract-question-mark variable)
  (string->symbol
   (string-append "?" 
     (if (number? (cadr variable))
         (string-append (symbol->string (caddr variable))
                                     "-"
                                     (number->string (cadr variable)))
         (symbol->string (cadr variable))))))</pre></div></div>
	  
	  
	  
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  After <kbd>query_driver_loop</kbd>
	  instantiates the query, it converts it to a string
	  using <kbd>unparse_query</kbd>, following
	  the syntax described in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  The function <kbd>unparse_term</kbd>
	  formats unbound pattern variables using
	  <kbd>contract_question_mark</kbd>.
	  Note that it needs to distinguish genuine lists from pairs
	  whose tail is a pattern variable (and therefore technically a list).
	  <div class='snippet' id='javascript_95_44_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+7gYBIQw+DMGwUBwIgyDoHwPD+wt8jzDRG0bno9rELMkvI1IkyKI1R8GBsaQAPy6XI18zPvix9vfQQAFzAlKpLqiKF-QIT8g7UANIQTQ6EGzUQ-kKDCYoJT-z7CfM+wDzC-z3PIA8METy330OgswT8969QongwBx9QC6DQcNTBiZXSlmtPgwhoBiH70kCOVMt9UEENocCd6N8KF32Gmw3qAjGx7CAtQ3hP46EyGJCpESBUNKfxEXqQ0nwkKqA8iCGCRlFAmXwU8Fhw00g6LTigqhp8ZGNDkVTY2qifyiJmPY+G9xmbGyVuzSx0iWFyOTqHZhaiSEzACWmHhfjgRpSii7AsQibGlGcSDRcXiuFCIiXwwuxdS6UVnEEpxoB67SB8iEwgG0kLDwkj46xxjTGlB2rZd+05VCD0qeMQx8SeEJLSL-RQzAITcOAgAVWIAaYg1AADudghR6CUA6UAABaBZVD34ZWxjjQp2SfLCBeIPM2GZKD4FAKoEIzpKAsHqn9SQWjhD9mYpnTZJcDZnIub9TR1VVA7MKYwKIstzCDCodIC64gjknKkGSVo1yPm3LJuYc65BNh0Ctgi1EKyFjlLbhY25tS6m4sCI6BQxB6TUPBLQGKJi8U-gqQZDkxlPkkH0DiylzLvm-KZSyvFFSSXMBrHcGF3I0gyRCBFJpqgXTIu6Y0J+IrxySEfISu44rpDCLqb-Vo7ROgtAGP8wFwKMzmD6dQCEXyWQjLGZM1u9t9aaHkIs5ZRTBRaX+bxHSDSJRNJMpOOgPD7mVwsi0n5oBUQAD40UHwUAG8MViz4Rk0LbHeuoQlytoHVKaEjag+v1UKqQ4RCDvBKasiN4iQSWDWofTp0b+wmOcWUotKbuofWTfQDxcSmxFAyXw0p5aiUNt6l9RQP1KB-WqWfbcOkk2uJNt6yt9zDnHJCJlTQ+tDZExtnc-VC5qTqo6AkLVGwAXyCBbaudYL5FOxiTFX2sLGgyS7RGoW562apl9k8aR2qdWHr1eg+FBBwTnseLA21qKKV3qWA+xWztL0S1fdY99aQT3CrbIBz5f6IPOUA+uilMlwORQA00uDQQD1Ht9aUW97DJ2qApa2R9YtTZrpg6O9BwxAjDCqvbN1kgSDVi6Kof++yPSsX9ZIINoaWQACouMMN3WJ4MoA+P53tnQdaxAxR5qgtgt8uT6Bzn1QhqQFH8HXrhbQMIAo6ZBqZkbeGqS9AdLbV4Ajm6PZSEXcuijvsqNELk17TzoBf7110MiZTqnFZkPaSh4WaGn2u1Nv2dlHKzBKbyCF9TODULad87ivGnwKMKxs3Rq9PEWO6ttRuh5WC0taccWogCYW0LwIbH2SVPTvOVAI6xhN-Ik1hMGdI+5P604WYCanag3k+wEZ-UHdaQKLNJZU9QNTdXtNpwFcZp8oBJP+l3QwVFHHNvJh41NlQfyHmgdUGnCMhLiWn1Jby7RwdjvxYS89jb7IpNdGnZll7jRpEKd3uw6J0XW2SMzQJ6k2XknbGQ75s7+UxIqKMZWv7ib2GcKYekmd+qf1NIs2dtHismltLyRWt9GxqzQNFKK-HFP03NheE0nhBGZL4ZdYzJNS3wmY7J1JmnyGls05Qegs7-PCfKKqYj6RT2zCk8OHgBeTBWDsDXlwTeaAwadZ1rmpYDpYXZpG9kXI+QdegGraAeZ6JUVa5N6Y3pjB+mqAdLHLIOQ8hUKdNghQLQXiWHhkOro391k6Qh1oml+jhYvAu1zpzExkoTQ8JCpCwZMuh6sAYiPo3BSM7lgHcF8eiVQoFp83XF8-zV0+Q+PP9JE8twIG3FPdL8DF9Yo9UG+AXiHX7rqCpWKm-bWBk9NvoAXqd-5Fym7PKYqN-uTJFv+1B8QzHYzCHMqaIAL0EUafD1Y8r8WLJ+VRQR86x30sJpvfnOl-kslBnwFj+J3lkhwn+-rSn83xPHu+FT-I662QIOZpoh0XHzJVTD6yzUvF7Blw2RwyXg5FUBALB0VHYggPHR-2oAulTm2UMnkEzXWGj1AFBHBE+UwKz2GB-XeAnD1gNm5SAL0AswqGkAGA2WD0wKsgwmnQ9TPzsHwIhAa2yDYPHHjR0mgJJBpxMiEPkF+BwIeQ7DEJrzEMA1EMwIkK5lwN7BkMX3tgJUCwANmFu0vWsiBXp0e1AGcBNAnGsVf22l0CiHeBYIbDNgt10isJsP3lJlNy4NUCYJgJ4IMNABcMZWMNMO0Oa0CF-hyGiBsO8LNgAB5HDwi3hVA-CqNiE7cjVVAWQAAVLIdRYgQUVlJwFWAUSBBuf3YCUAAAamt2e1DEiCiEOXTn0LNgqNkxZHKMqIS2qOiDqISOOyrVxVt3twyKyPwHkAmTyPZkKOyUoBKJaIqK+0CA6NqPwHqNYMMCaNZFaLmPMAWK6L8K-3ciyAgSgW8OQ28NB0CGQNmBkCyEsjgMaB0jm1sN4MMKBSM0FRLzoMeJeM2OIVPiuOoEsk2PxRQL-yHioLu1+02N-m8KDQxA7EiOCNxSfg7ESJeyhOUxzk+NJheF7F2Mc2dUaBPWoRhMtyxFc0oMAN5VeKCENW4P0NZBGUyFaDkw5CdVKCIy-TqR-TEIsygOYNJzqRkgeLkMiMII5EZUBPOMwPkNFJJCKzZP3XgLsGoT+JuNg1Z3tnJ2ONFVON8JUDOPMAuJVNgPMLKzMHuPRMiOeP4wFPeK9kxIRMSWjSNMBLhl-xqO0N0OAOsQdJa2hIcLhIaJ9MdIukVmRKMP3iDN9PRK4kDOxI-x6NWzSABXQUJNPmJMxHIKXXJJ0Inw31NOpJSNpIwnpOIEZKJWZJJDtUKSkyykTMIxKxIzSC5MwJ5NQ2uT5LVJtNYiFKlJFJkKlxZTkI9RlPELrJYwVNwOVLAVVMY1l3nmqkXmXiV04A3l4AwA12zBeUuXeUL1uXdgjkSkv0ZBNS3LeTv3tlPL90kHORLliSqz3PHmpAChhW3B-UvKuXl122SmAQAhZCVFk3MCVFxXFPqVjy7AArMC7GAql1-K4IgrwLBEYGgp-Nj3zHgvzGQtAp9E9kqFkxwukGGhArMVjzqjoBLiUEdReFIvItyJ-CIqCF-JpIgppLqXosCF-P1HeA4WcDoGDE4reG4oYEaDYvMF-LKPgvMAdxeEFEMBDTN1aNopErMF-IWQkrMCktABkpE3kuWUUpgtjxkxeDSA0q0rkvmTE00rMCUufh9GADUuOUd00tktDXmTAD0pQp9AAFJ7KTLnL5LPLLLQBrLfyLcJLfLtLzcMQZL9KfQABCdEMKxy0yly0AeK1FaKjyu4FkKInypKvy+ZGIswDKrCrKqI1ENS8Ksy0AMqoq4K2PYNXK6S-K0AUNWqmKrK4NcqoywISqlKzqtqzKtI2K+y+SwIOSswWK8wHXYBbkN8iIV5K8ipSIoNdBf1JUF4d8nc+MWWOa85bcgveMMUZwAAKw9x21WqLnpTsDktgvmu3Nk2fIZTiwpU2oOoJFliwF2oWquXhTyFNgswAl-O3U1Vk2Bt3Wsu+3Ytj0gGIB3TkEorMBhrhv1ghshuUtj34skFgEgAgsxuxtRrRo4tggEoAFF4LMaSaCbIbfyAA5JQGm+yummmyMhLWakzBFV6362sZa1EC6yyI5OS6Q-wzm9mv6na9mvAu6t5JtdKWsD1Faxof1AW0NZ8uLSWva6Wrm2LBgnSB1EtDWxa6FEgXZH5fMDgx5Ypa8lTdVRgYpd046pQeYJTCIJdSjZlV6m8nIQMe8hlAcxoQeM2voIIdUhaEMyBD03M60c2zQ-PME8lSlALIlVQV6pahol4CU9W76z4LWkQqmwIRO7oFOtuagE6s69O77EWp8P6+QvO8wMg3WLMiO6ggwbcHIBFeuqIIOEwmYOOxIWbLYKBXuqOhguXBchXFeDgdebgTADc0AB2p20gF2gnWVZ0YOcSWAp0c2rJBuJuWcScYI0BWPIpRuLTWTLleHKpfev2tIf1eek0ReygJdQDEtNe00E235DezQAcdBORZBfe9BQ+n0B+WTY42yP+ze4I3pJ0dQhaWGRgA2GZc4B0F++GU0T+2FPTDhSY3e-IfeozLktuP0tooIUBpBGA8+9SS+iBvEua1+i6ekPZCzf1OBhBwUWZZB1e1B6dPZdBscyuVOjCdMlkOCgBhCggjsTh8Sa4PZfwgKSR00aRn5UmXo0oX+ARhsIRtC0R+R+hjhJRn+2vAWGnIRu+52x+5e1fFkbRxCq6w6043zW+x2++pe5+nR9+z1CByBsR41QhukyWuhxR35Os9k49UFIkaUPBkjGfWPYBkMfQxBOyCJ6h-dBssrW9aBhUtjBaa1JYfeiw8-dw-+qVNibOIp1RqhQsz+ks81KZN3Sh-kHJ88haJ-OjPJ0A+KKQQpze0R8A7p2xCp+3Scap8ZWpsXN6WgBVXivYuwP0RQAkL4agVOY0FoNoboNpxU14QUG1dBoR2ZxgIMQ-GZlZjhBR-ZqiCxdZ3AjsFpjxr+kKPAf46+eZ84CCLAvAvNQpcsq4cgOecexaN4IuKYUAMGY5C6BaMGNXNXAhDZP0YOVQI0TPTYDQRgFoa08rS2a2H3I1VFn0p+MGroExXpa6RqBFhydiDsLFlF5RyMpE9iSlnFqjfzU0OF0l14fCel5RmB3UCHF5nIVQWFSbB7GYXloDGyrKsTEVmTOs11A4yBeF+QA2HgF4BFyQF6RsxaCWpFZwEVizWF0geVxVuMoiI7YV8CHIOU+DMJ5oIlDVXde4QgbVs10c9V3A-FvdRoEJl1tbUzel3V5l-VlV-gI1zCB1kVi1n8PXN1sVbBbFlmoIPFm1ndAlhLX+XselvhswZjfEg0guZtfZg1yQJV0AQN54xYKkn9LVnV1FPVgtot3sE17EV58N9IK1zjRNzVe1x1ptqk+YqwbEY1oVxtnIa+0xdwgCFVot9wkt3U1fZ6tGyC-CBtsN5tj9YjfMwIH9X16t-1gtoNtloKUNp1ldy1+da1toJN7odNozAASEaBDP7ZDa7eHawFvYrpsanYVdVdLfEJHYSy4kPe7e5FfczdScy3vbTZjZRe-YzcIyYwnJzftmotglIHiJYCpPMk0dlc0CscpVASw981-jYAcJZEiAun2Zw+ZSflI7ma+36NSJYGGYtVAEefSyrJFdZMzY2aQ-IBQ9fIlpY60yHdFZ5adf5YGB-W+YswE+edE5ZDAUOK0jfI+dRWk6ohFbSOo-I+5EYI0VTkiDqmiG6LAleeg-yc4JsdAkoCdeg8OeMP0-dMs9E+cHs+iHNo7Gc57Vc9s484M6HlFR85qPNt7AC68+zwWhC6HkiHbJgMc5M6YDFLM+rLoDhdi+Hfi9lNs5ju6FS7eevxkMS-cIhwi6M6s7i9PxeDUJDt3CkFAh2faYtgv3aiGeAmAemfECrr0Cs4jWa7EJeBIDLPpFAkkABaJRyEYFhR0g0E0BKU3vVcwdq8ifXe9YRQi6Gxc8i5UzEKqfS-ELxLeI6bbfPY7Yi7jZAVewG7HEYGG7yBaDG+25kMhI1em-O3W+QxO5g89cwa6bua9ZwlYncKm58g7DwZeEB4xLwY+9A67OpEnD29ACzc49wLB-3q5f5FDFyBYCwZtXzzaEPEFB4zoCLdx4ouuDoDVfq-Pw+MJ4PtAGJ-x-pDJ-5YMfcLhMOl-ckr8vR+JCx60Lp4J-CAx4ffuDZ4zpez54Z5ehr0iCmBdyuXF+F6osPRJ4l63oxcwkOlEfF9CH4CZ-6ZZ+lhF8pX5e0ul8UFl8+Hl618Z9rrqWN7kq58x64kOlnnuIF+5-wEPChEuq+TRb++pA99gkJUiksGJBtEF6VuNoFD9kEM96D4d7D+JFV8lDtId5p7oIMdN9ttyDl6V-p7dtMThLd7Q9-bt9DQD-IDj6L4T8d+nhD7Q5d7ZwdCu2vIlHOluFTBy6otggq8UP6wltW9RQi6tui+lE7527rMjfbbtZO9Nyy5K+s9p+7-H8JYQor4HUkE4pQ5e8878-HG398-8OEiAkq6yd1FBDX9sA3+Q-iPP67+P974p8FhbOI-wFXC6BaNEZZFf9VHf4McJkalv6L8kgojbkmYAz41cjwydWCIYFEZZcW+MtdvtaEAFH8e+YpcAbogILn9YQ8IU5DYyP409z+30K-jx3iK9gsB7PUxL2HwEUDhohA9fpv3iISNoBNAyGh2GoGi9KUMhLxl-zf4tAWQqPMQCCTbr1Yq+xuR-t4w0ql9Ws0gNrih2wQGgOEKmPZieGUHjAXgLDXREBA0H5cscEtBgSDCRTKoLMdAy-gwNUAaDABqg2gOXXna4ptBihJnJeH0FKoUUGIHgT-z4GiN0+-TIQVYBEF18PC1-AwRKgEF2BCAaBfTo6CgHpgNm0McIDUQIjsQsBbXb5sHwx4Gsi2CLcnhsArYWZvmGQ5Vgq2HyxCz2trAnoYCfh0E-MAoUIe1zaDIMVW4oaIQKwloIsLMTAluiUMu4GsKhLXFor-ARat0rAoAdIgAAkSakgAAILgBwAJNAAErpFIAAAeRprIBUUdBHWozGGIkCTmZHd6tEO+ioDZSiXcIZ8EiEOgDhA6GnqkPOHSNTm+wkwcQC8apCVAn0e4e0ls4vDKguwuZuFnNpjCJh0w2YQsOWGrDPhfbW4Qw3eEmZLhtgc2qkPj7nDJAjQ-aI8P8K+hoRxABZA70DxbD9OPws5jCMeFHDxCiXB3tck97+pPMR-JwCJi+xyCU4yWKwfkBpEMdV+hw8fhQO2EocCRDwwPgOhJGzw26FgK2NnQWzr4kKqKAAAybD7YCQCZLtFFFY8ck8zSgN0F1xKiNAJAIFqikYCajxRQLCojwEcGsQ9RkELURKNs4Q55Rl3UrnyzH5mjjQ2DQTmqPNruEWQsTCQY6OVEn1VRXufdmoBy4Dhahlgf+LaKdZSBIgYqUUS0PWzejj6ODa8i0FoIjFFRkEBMS6PVEEYdIAvT4BMhUChxLmpGEvAt1m4Uon41o1MTl227xjnRfooMnIm+5Bkn47hXMZIHzHSBQ4wPCBiwLrqWA8xBY8Hp4wpRQNNA7WDZm2I7GhxHRbXNoNj1RZihcGToQwsZzS46CNgOY-se2MHGkj8y83SAc6yW5mBCSxLQMUeDtFvNDxmWGSFrjh7FZP0pWTLANjW479h+W3N5pV2ZST8ju0-U7o6Vf5HpReqbLcVOP34Oc9+zgY9rB2vaesjxlcXAQQVJGZYn4k4wccDzuR+BXgIEwceARUZ4o1Gx2eQHDwR7w8Jx2Ezseg1qFwDDkIIVAmaFebz8yuepcfn33WwD87Or4qLltzH6fjggoKVbmlVew-iug6HS8CQDqLECt+Q-fzut38IcDAg+8QUUHRSYPiQUp7boRGSULPY8AYmXSd+n77rcXxvnN8cwUUnj84eMkASRiDdbljXsEkswZ33kkcTjJMknfuKWvYeSzSihEcW7iuyMS0uZk3iSB1Ukno5xgWKQLODMk8TFCEhHSXpJvSXh3BOQPge1ih7FjWIc-MfoFIcGZNZ64kpYpJJv6Ts92643AtyRf68CKOj8YCN-2SlVSf4VCU8cnWKk08xC6A2rpoEOjEMzu1EiUNoFdAMTOpG1Eqd5P6YhAOparWAU3y0I0T+p9EvlpoD3ZDSWJoAOKWJnQHuFOp2A4EJtJeiiN8pBsMwWQMN4vYyBL0XsUEAOmFTEh2cLaRdOZQSNzpTku4jFIMZJT3+tQ4VKKMhBA4k+kcI8jXCBypRRRTTY6LQAPDhDGIM4xLgFBnE15vRFiaGeIPwoYk02MYvCfGzFZpEVA+YwUDmj1GcgvGAUNGeawb4aktkHCNMUsEdHqDFg8DTQRyPsEJddB62A8IbipkWZQxHIcMa80jH5AZxE2CWldJcEWYqMV0swRYP5G2B7pTZcGTRHFwu4VMM4mWUECZkZcNmws6cMiiEa1Tf+xTbweU1AySAWG0YyCBYjZnJZlZYHGosIJUzx9NZhgvuLxGFEAjJAcwoZAABkSaaw6QbKIWjciBKjokyMSJYniDThVteobCKeGiMbhNrB0NcCDlRznhfbV4VTJMg14vhMwROf8PGFuzPZ3s8EYrEhFpyk5ZIovjzyTqeYERVfJESiKTkqzAgLIR0diKL5cgKB1cgIR6OaLNycRZMgeBTMTkhzSpDyckeXypF4pHR2lL7HrREiOjTZbzIeYoS5FWAeRg8qWcQEFFtczQcQSCCbMlkX8N5O3NIYnzLl18KRsEceaUHKmhoKU5Iguupjx48ZMsO6KEXsPCz7yOR-ZTLFIL1qJyP5Ao8fhDWFJF82uRsveXTMRbAK6+sY0zJdGEB5CrAnYLZksBYboiwFECjjvBNKEXtzBtyU3NvNvLGyIF5giBSSOPlocV+cCkgO4HXy2YSFigaKkfNT6fS+Z9Q0TlgMS5xCwwN0wutAOKA+BgQtXDoX3N1BhAjUxoTEcP3OEtJMRGDVtucNE7MjMMjQH9G0NRS1zP2TQpRXDx-SkAbAoYxWMyPIUK0EsHc9IaywxFvzaALcuvpgsCCaA80BrYsJiJsUY8k8dSdwsyJeBSC9FduRILyKoip9gmaUzjnbFDrkBxFVMqRXHPnkwKOa68izI+AhlVIBZGwTBgosGnrzlFpQVRQqwswaKDYTQtEToolq+KDFUSh3iYo5RmLQ+Finua3Jg4OK7gdS0Ua4uJDuLR2NjGmccj8plL-F3ooJalNUn6oOsMLY5t6KNQBLZwSizheFG+kzLRGSIekHPKUUGMllUy-INorC66h1lzImRVYqeH3IxFlgDZdEsjlbKN2-HaQK-N+EmYLMrsoEfMMWErDwABGB5TMKeWgifZnizEd4r8rZAblhI+gBP0SngJ+B2yqsOMu+lIyNgxyz4N6Ki7SLUlly9bACrTn3Lc57sr2a8o2CuysV3s4wV0tFF-LtKaKoOSCtYgsgwVLChusukfDHUPkXqJPh8SZW2ccM9K-EJ-V96VxuxcaeGdOEVgcqRAtzblTePwisqIVOsMklBAkAMrC8TK2Zcn2tgSqwlXeNsqRTlUUAuVbnRAk6AEL34RYGq-ECKqC7iq9VNeBIFEAyj0gTZCq8QbyvjQbJ6V1AKMUKooDTooFGPJPtKrdXkJiAmq2LCAN7JF8DGzqqMXll9UdJ-Vxqm3vikLSfATZ7K2gAGpoUBqsSL7edp6sT4hQml2MolM0XQUMK98yal1U8L9m6gNVpa1QEauFVkLU+iq6VTWvjDVrZVMarwT5jGkSjzeD85XvnzqSFr4GEWQ1a2pEAtq6Aaa-wlmuL4ZqggUgyteGoFUyrx1xqsdROuMTAdBywa6BbGFzVUrGABa+NUQqLVUVZVpa7TjpEtUbQ9kdakBafMF5jzLqnma+TOtKAoyB1PkS9Z7iPWDqZGDcn8L4IiV2yq+XAghBusxkAb-B6Qh7p5N-h0F11aQKdTuscVshqAQYVkO+tkyfrdus9R0NgjzS5NZu4gs7M1w7pd1eoQ9Toaf35CmMH6T9KnEoxvXQLzwgpcuQ+oBKmJn1piXDXoojSkdnwVADaBKQ7C-qduKshIhV2cqi8aS4m7qWjVNSjIRm5nBFKBCrIzEX2nkxuTRpcZNIuQGM4MjbL8FAaAhD3G3NIJHaIbcQu6rTeY0AwHr0UCgb9QjWs10bxw2nH9PqGQbUU8eFmAAJwDAdIXmiiuQvuATdGYgWhBuXJfjcEgIhyvca2yp6ah1Wn3UFNdQxBSie25gcLaoAADk2W1kGgAK12LV2HJUxFlsL5QTAg4W8hdeSmDV8heYQfwnYGWQd44O45SrRIBorVaot9wF4B5qXU0U2uOMiivjI-jJhxFjGr1YlynWWbkNQ2vGV8AJl2bw0CajBbsmkC4yRt2GjZDo0c0nJiATS+nIoEyBmgUarE2BRZg0GIM5kKDdegZAuh7amlrRfgbpoIwno-ojAY7fDVSpuCzQYRIMFSSy0sglkyyHRqABYbtdHtdqVSv0Fk1mAstJAO7StoYXmCtw8PVJiRJPRGKIlSzDhCsx4yXRslaQdZRMqu57LdlkiixATpg5vajtqBL7YJJZC-a5ov3Wnh1rx5pFgdSyJLrcqOarModwO8sGjuGUkTYJ6CQHZzq53g6XBDACXUsiK1w62dQW+PrfPLmXzOUz-YNICQR1Hg0CJsjgXxr+pdcUFJI7xbMAk3aUz4sasNLWiR2DrLoIYAzYBuC10ESI44qjWIBwx5A6AEyNwJECaVxKwdF2iBXWHYY3a0GiOh7R8yaJ9AXtOQiWmIR2zW6Mou2+3QKEd2QbQ+LuilQ1w+IJ6aeKG9RCQJqJAClAVja9mqn2067bdPkA3Z1w2ip7pCmBLEscjN0EA-Klu2ofKmUAUAj1YQKiPqEYChwgxiqxwC4DcABQgxem8wLS3fxEQcS54o9nciaKSAZiZmMMF0Qn0L7AOBjTfauNHK2dqg+oAmDSk9w2gaioqy8EoFIB6KWAVsDaD1sKTX7OerRFpNfqEYtEn4LIfocBHWIVEr9pAK3WkC-20www+q+2NruFgIwww7jd+m20R2-Br2GzBYk9rSKtFD9IkC6Cfp4z+pWkEBi6O4yX3AR9A4K1VfyDwOfApgLASNMyrtKDx89dBeqSEQdjJQ6DoAOECwlPQfFewdB-hSUxXBEQeD321FF3Jp48LqDQjYBqbi71X7FYsMPvWhAH2hw6DK-U9BmJUE-JsBVGcJmBjbhjNplGhqfZjJZCoGKi5Br4IoCoPCalG1Bwg1RhaKr7SGiTHQ0Yz0ObKDDGxXFPYdaJmHKDYh7g9YZ4NL67DxBlfuQbSJoV36fXSvZAfMOMB6+G0mxsoeKZhHhGiFWTABCsM-Bg2NhqI4jtiMUKxp+meIYZySOOkWQ2W1fYPCe0VGDG2xJYtQds5mHwFDCmg9bBJBj6IQHYVBX+tEpH181rII1M0XGRoa649w7uSDO-rJHoj92roxAv8K9hujr2PI5Qa8ZhHZjLR7I4saaNzHtwO2k2dluUGqBbBoAAADpYAVlxcLQtjvwBGoqDcGzSk1TuSUo8twEd7cdsJkDA9jxCg4-cKOO2CzjFx+cQs2uS3GoBBBQgPTn8KIt3CEJ0AAAC81apx++PfOuOgnW9iLBE08ZZQvGQItOi6FpFfYjA2yXun3RCAOOXH88qJuIyZReC-lS9scZoqQGaJ8D+w2W7kHgC+PI7yTQJqk1QaSq0mj6zRZwIyeZO6acT5YIAA')">function unparse_query(query) {
    return unparse(head(query), 
                  tail(query), 
                  is_null(member(head(query),
                          list("and", "or", "not", "assert", "rule")))
                  ? unparse_term
                  : unparse_query);
}
function unparse_term(arg) {
    return is_null(arg)
        ? "null"
        : is_list(arg) && head(arg) === "?"
	? contract_question_mark(arg)
	: is_list(arg) && 
          (is_null(tail(arg)) || head(tail(arg)) !== "?")
        ? unparse("list", arg, unparse_term))
        : is_pair(arg)
        ? unparse("pair", list(head(arg), tail(arg)), unparse_term)
	: is_string(arg)
        ? "'" + arg + "'"
	: stringify(arg);
}
function unparse(string, args, unparse_arg) {	
    return string + "(" + comma_separated(map(unparse_arg, args)) + ")";
}
function comma_separated(strings) {
    return accumulate((s, acc) => s + (acc === "" ? "" : ", " + acc),
                      "", strings);
}
function contract_question_mark(variable) {
    return is_number(head(tail(variable)))
        ? head(tail(tail(variable))) + 
          "_" + stringify(head(tail(variable)))
        : head(tail(variable));
}
</pre></div></div>
	</span></td></tr></table>
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.8' class='permalink'></a><h1>
    4.4.4.8&nbsp;&nbsp;&nbsp;Frames and Bindings</h1></div>
    

    <div class='permalink'>
<a name='p58' class='permalink'></a><p>
      
      
      Frames are represented as lists of bindings, which are
      variable-value pairs:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (make-binding variable value)
  (cons variable value))

(define (binding-variable binding)
  (car binding))

(define (binding-value binding)
  (cdr binding))

(define (binding-in-frame variable frame)
  (assoc variable frame))

(define (extend variable value frame)
  (cons (make-binding variable value) frame))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNA8QuFE3OIFCqGIfRcgUQh6GIOhKG4Gac14i8EjdUUQS0Cgsgmqaalmv1plKdaXMbFCxu26a9uk5pRTocgFDOxQdpmyh9pk-LCAYQxfAUFh8BOqijG+37G3wGQ0juh7Joul75roRarvdVIKmUNhyEq+hxse6HXqKUphp+ZHUfRuhMah3a5paOGcdWRGGHNagxDoe7ZtJp7Lv9PG1zptwGaZ57Weh2H4f9a7UjeNjUU6AXyep2JOZ+cXqElrasfJoXZbDWnUZ+4RyAYYgAA9CECHmMfOmXpNKRLiAYJqMe1lhdYYRcKHujbDGl57rDQnTpgdp3fuEXxPb29WEdFYx2hm5RIbZl7LZaLnI4LRwxuT6ObY+UbmcoD3za9sORdp9gPC8EP445xOfhL5Qy-z2bC4NUWGECz7mC0HPy413Sq8bVus47-n64phbu+bjRCBBblUS7hOJ7YYP8fXUb9DtxhDeN4hTZJ4fvcpxafeg2cQNBhhTo9tGxH1o2TcMZqu-VseWlIUzy4s6zbIclwvtm8gDY8ryS8OhaEKhFNeghCCT2Dsibgl8whFndMKN8qRjbUAUEragOYbZr1Xg4X8CpAoQKgc7UgaCMFYNtpcGeMDBCkDEGEGi+FCKIPbAwc65RKGDQxsifBDRzwmwyGVIBK814MEDtAvBh9fYrENloEQ+s4ZwXoJ3Qy0jExUKqi7CG7tcF0G9qotRtD6FSMMSsURC0lF8xZjw58hRCGilbqdUYNI2AVz7KURxVE2H0DkWCARrju6xGaJ2DUywmEngVCZYIuj342Tso5RqGjzCUF8CQABRCF6FViOcMBSS0SggYKfc++gN6GHVggmIhCbjYkvoCAAfL3YBY1L7q3mkbBhZwBrJl7t4kQGD6BS2HuU4i9jUiUFIPwVQi8RpaExn05WJDajUGnrHbGj9FLy2XrMxWCzKRtBTmCXejcm6NJXjs5wPxOgbVujQLBD995OlyVwlwS9Pr7IzkYSgChc7DPJK+UUxBJopLeVHVOnzvkTAqXY-iboQl+XCf8f5qRUYfDbtnfmHwIW8NDIQ4RsyqikFRQPQFGKvm529qPeFx4iIhnPASolZKz5UUZIZPFY16UgWJZ3TF5LOCUpDEiluMLGBOI5W3b5TL1yOihXxFaLgxU8slQWPy8ZqUypdMKnp6cwUGMqVvTl7cSWzQ9jysIfKqYquyeSHJXSWLH0KWDBw9NGZSluvdeBIzNXVP0AwepolIROp5i64QcJuBuq3o821blDDckYPgfgDBCZo2yu8LuFTBXapjl3JaFJirUjJS1IEmbM6GpznnVWXtLV6rlbTQFmhcTFvBeS3VpR0iZF1WsSBM1BgxqEIUhNSbiYewVaW0lWL9GmJiL2uNA6TBExTR7XVE5rYgpTlmk2Br0XGqbRMWxjE1XEWhTW0Ug6U2z3ccCUE+hT2xS+j9P62bDLNDbWweFnSsDgNeTXOuFaG4PIqeecRjJv1iPwEHLuflzx7kLdSWN-aQI3vvuIw8MRzyBrvsGmD9rT7od5lKaDKHloCTZfocRbS5HCAUTmSxndoMmMnehXDmHuBLoY0UUekaP15J6f3UdLMhn-s9TWldnipX6F1SR1uG9b7OHuRx8KUbzCvOdVYw5v6R5UwA3m06jISMqZzkqm20mt53zNupve-LCgqc+kDP6hn9D6eejZ+9KsyYF1zFRdWflCGnQU1x55PTENmbc3+0eFTrN3uBvZoLjBIsPqOSGEjMXDPX03tvOTVN6MPL83gNeLU5CKAgDAeASBUB9TQMSRTyRkVK2OmmoTAkbq8B+mQNNoAAA+7XFIR3GdUMQbXOvddSL9P6-Qd7mY611l8qQX1tZiIN6bYoPxqilLvBT4CjqbXs7vSIhQAqauHn58BopmBiAkJR4+Tadh9HuGIHNoznZLh5eEAAZC93o-Qe1kvCMJIElAbunaO9xm6EN6v7ePWM8gZ3agMEuwJ8E4bQH+e6XFkGYNw1g6PQJOY+gIy704+AldjmWYfFIXQMQbS0umb0RUwhl3wTE60twUnfXKcyfoJG47qRGeY9iA90753YdXvh4zpH4DGfOeBrz6t2PPu47rEMOXePzOTE59xiXp1Uvs-GyFl6tPNU44jMr3XqugcBZPXO5NM9nv64h7dwXl2eUWRLEIBDlvibwkm0N+3MPHdkosnmUhDpE3u5TZ7wb5xwHJdR02pahDDcK4Tw+b7pvOlR9D7FTXxn0s27-PHpXCvMIp4J8D5Fd1HZ62z9T2PCD+dQ4d1ep3ol-aV5viZ5wYvuMt8e67SQZATXfdr16jQgMXMOvBvdbgSewLF-W138vAcwPB1z8sfPIwjcK+e-yJ53SHHCrRYPEng+8+apO-X33jf-eiV41urSauAtSbbzn4-q+DcF+T987fVXabnIGTPz-tujWkO0OF2l+3yzu9AEsFyjYVeHe4QC2-oZ+IBQuc4Te4Iv+t0jYXKz0neAWGBPwm8bEKyNeJ+Na9qgQMgV2oAeI9+3S+BjYeyoKYIK+fOmq5BlQVBpIc+eBkB-SmBdMriZANymCacL+rBZBBSFBVBOgJe5uqQjaLBMuq0wBDeqBV+4IxauB3SK6ChBacebBV6Gh7yqc4IzOeh3BKOxhMcB+RqucJBsQr+Na0+setBLEI6t+O6+hThcupqrhbkG6NhZanhQ+NaReWKFhLEAKQKDaVhohWKIRQBaQGQ-+5KERbka06wm6h+zBehCRyhSRmQ8uH+5Kshu+w2XIZcihSh1WPuoBah4Bok36WhLEIG4iJB4Osu6+m+KeZuZRdMkCU8Z6VRdeyBfuDRDOAxyyYefh5g5iT+1ewxb+XRxRX+4udCWu7eRo7R4hnRgwG+KxX+DUeWrUhWHUJW3U5WOg3+J2EyY0Bs92p+w2ckHAQg+g9xoAGyoA-8v27ItxHxoYxkL80SBsFkI2LxLyRsJgWgwgAQJgxAIhwgjQSOyOLEK6OCWibs-e3AZGgmHRbo9O7C8ia8phS6GJfehK2JS+Xmaepe3iUMHCOCMgDxduAuF+c4MgEB9JRJeSzRbkoiZJOiTJgB+JkhHBHJ1BMx8qeSoG4GQpDWIpqKUh4pXBNJAW5iii8gqmq8zJAk7BlB4pMhvRqJtwNsomBYcyviOpCpYI4IZpxAphKgPilaqpfRdp+gp0VpNRrJdRYIp0FkdpvJ5gdpvSvi7pVEnpH2yxWQHppRLE0cXwd85OVGNG-MYW8pLgEY-Kke3GYqcgoOaZeJLgOOWZKJQ0jgCZNsLA0Cvewye2WOboCEq8NZ2WnS54-2Rm0RyZmpOcjIL6JwpZ1wJptsveo+wMZSHmUqHqhZk4cEo5f04558kprUEMku85TZEMzwdZOxboOOeZ90S5e5NsxSh5m5Dh9ZGZCuJ5RpQ0BsFGXZyiGKtmuolEz5oALA6wRmmm6ZwIM0Yg-2c5uoP2IkHA5O-5a4SwoYpQjZaJI5qOC5nQZqb5H5VGgSzQIFf5qgAF8CAAPD+aBZheBYEjEHjECdOOCAACpySCRCC+BGLNbPQtQ0iTG1DNDgigAADU-xaiLO5OQoy+T58CnFDpbFnFrGhQPFYgfFYZgFRFoAgJr8FFVFMgxA9kdFZa1IWIk81ALFokHFXF0iElUlcF4QQlFkelYlsQhlMgwchFsZbk70q5-0YmqOvySI3GC0sOck2IBZZi3G06WFL5U5fYD2s2xlFleMcMnlRA4mk68Z+AiZV8Fi3ZqZVMslRk1IT5KkQIOOYVhiswcuhFFlms-lmEAle8EYtlVa-krYSCC0WV7IN2dawKSVD5e06q7GpFAFsSv05QoAiOhGqqBEESfYdKvejIuZI5lmOKmq-lh5jlw6veE6k6c1x5i1A1Vq8Y05Hl6I3lFq764uQasWT59mLlE5rl6iAW21XlJSX5IY4C-lcFgVOaKwIVyRWFaVxF+8UV2IRVcVCV95WpHGS6zQqO9VOVZVYlpQpEOO4FL5H1QSsGrxpVLmiFFVCFe6qqAqtVcM9V7Z+snZLVqmz10wUS04p1VkdAPVIgfVEM6Sou61eEB6hko1tNQIE1+Ze1wVM1sa659081vNfIWW6EK1VEC1G5DN1VG125LykVO1N1i0OWsgeS+WbURWnUpWPUGA1xKCpC6Cty2CeSuiXhiR3pKBYINC4IqCetIhgZLgVt5CNsaCk8thZ6PCeRRZ7+WQNifm549t+tnCyYWGV6zo9OcwDpsQcwE4S1RQ9OHI4dMQHIUd9G9OCE8dM5pASdIdhhx8adx8mdfshhTWmQDpRdbA-o0dhQ9OwUk85AvgDp1dqMtFBoFdsQ9OpN8dpNfYLdMQ9ONw-2dMLAhgphfdqgA9LUKw3dl6c44I7FadsQbx3AvgP2DS-8nFTdk99O7kc9MQC9oAS9fq-8Xk69ydhhoa0wu9+9AIK9oAkIe9MQG9hhwA29BgIJe9y9XxoAYAx9Wd09AApM-Rfe-f-L-XfaAA-dPb9nPYAwffVUvSfdPQAITCRQOv2X3X1INAhwM-02nYUAOoNAOgC4UxBYMF3T3YUAjb3QNX0f3kPEPgM2l1J4OL0EMNJ0PwMMMUPcBFBUPX11JAhv3sMQgIPP0f2FDUMxAIOxD3HOhOi+260O0B23oCWAghjepzDcB+0iGKPNSyN5qaMUKiL4AsAABWUJhaqjI+yIfqKd8j+tDpzhNik9RQ+jBtzyHSRU7wJUtjWjLuxqjIl29OISDpISTjbG9OkAdAaoSsddXDETUTKSoTDGvdVAo9sAkA8dI9DAaTiTk6yT-dAAomnZk-kzk6YvTgAHLkDlPP2VPlPw3oS6OeM8DeMUK+OcrKMAgWPYjCjUO7l7wuO9JZzGqNNUgDNtOGbmMrDeo9MNIOObjNNkL+1tPuPi4DG4gDOMkOCwJ0LHwRnzy4jVBLYVCkALx9YMDGPkB5gxqkKaAxXQQDNO0cA5yu2SJLqXy7NHBFD7V+X8QfSE2dwRmyLdoA0qLQQTzdr6AbPSmPX6XSJjPFSu7zWlOxDgsiCQstOuPJiFImNmMsamLwueOIuLlC0NB41NW4j-POkRQcACB41iBfDvkwEamtVlTARYggv8xOhHHK0nHtTFZdRlaYDf5vDjLkCmAMBRwfBVQ3CkBlyB7UBPjCk1HpAtbTjOHytPiTAhj5VRlFHRlowKt-Cq56XggMAiX5pk6SXWWK66satGtasrDNDqsGuatpHmATQ3BvJaLQmfKWtBXS2CDKDKDNYZArxGCwJBvv0tScUOZBv1XghsWlAJtyWiRmWcVivKDIsGgJtmF+tLkOAuzGC+us5GLjmXxLaFuFgRD-jTkSUmsQh6Uet6zGDetSjerlsFtozGDbP0JyhCXWDghusqh0CVtMBkAKAOZ0IRml2Tt3bauiQvraTTDNyXaXyvYvbSTIIFFZARhrvwHtaRl7EK57ugAYOiTFDwjzs2uDBrvxsXufEisUDiuSuxQytlxruKTNBbvzxTEzy3tvaqIg73S6JYuwEYx7uBJJsNucWduEo2wbQTs45wKzvGuiUThsXmuo7j4Y5zFU6yYntod9gYd6WwfGBjukCIee2zsXxTuoeqLwhLsnKkdjRiSggOktJlAjtdvwfjsOvLu0yNkfsBiceVsQip3cCXZIdTvWi2h7vcDMfkc8QhjNwSUofzvggADk5rtSQlWnynFrfWUla7Q7In3HErBYpAwcUcln07M2b190qr17+g1nJDYThhQgwgwlwQwldkTOok5oaYwlEyHA8IfHMkzHTnLn5VCuUX8nXHcHinsswS8XRbOOsX94WQ6XCnUX155gFzVzygNzIEmuxsHgJmJSRstn-RWl08smG8ssh07nkxtX9ADpuH2uFXhAWb1F2I+X6whX1AmgKWpXMcbgPbHs9XYXSkQHY09X879OF7zOx1p8GOk3+nG8uXLgLnNmv8BsJCZXbgnXOagqP7LXJMk3MqdK0LmVQIIYWHK3oO7Xmx53lX61cjB3xglGcCjI3q23P8zAe3I3Jm43R361hCoioNPxltU4jHuM6dTnQPbgMOcCe8zhiPn3dMdCu6+nEPN3qkOd876PyPWPOP13Lm8bfX1zg3xXVEsPJQ8PuPLmJLRQ3qlPA3Q3JX8go3ZbWPoPSXDPZPwMGjXPJmxPvbVKQ1iKSCM3oPMqdOhhi3GVY+D3wHk3EvzCh6RGboG31q3zAWKSJAR3SrAnS4c3wnxZlX63nVG8sSn8CSYHGZqS9pS5IrDFRv35oojZZvB0GXR3Vvr8NvokH88SEJeH7rTpxqyJB1GksUlA+AYiNsAwFQgw9XxvBvs3lX8bAXdUJnSf3MMfVUbRqf35OOrv26avevfRge7v05SBqhYIgf4IF7dl5g6kzAs0Crsygfh5cXVNlGgeDA6gIgHApAOa4CuQhAi8mfmvMQgq1fF3M-uaTTLA1QbE5OwGq-Zzhzh5nX3AV5hkD2ISpGm-5O9Tn1DgffTKpAg-HnI-u-y5+5FlzQE-wcK-fSSZTib-a-d2EtCKLCW7XvV7u1XPLw8X+TnSbtwDAGZlXuv-JmlzRrQ69YwuvEAWAPq6bcLW-QBQNV2BYVBG6XYNkLgNrow5DApIY3jO0MA0F52hA3wMQOJBPB9OjZHKjQWZ6FAngfqUnJgOwHyJqBXYcZJwMwjMCiqk6HgZRhIGrFgcs0MgC8QoQiCjABAgiEQNEGkCPednQohQIa6sQFBNApQfQMdbw8mB3XNgdQ2qAbRpBNsWQSIM+h0Duu-oIwQ0g4F3QyI6gw4vdT4GOCZAqML5JYy2bUgIyHgqgHIjbiBA7ovrTgdMx8ETATO-gygIEIcETs4hVXUKm4KU7CcX0+nEwVIP6AyCtBUoQyDlWSGlM7BjUTwbEOSGhDHBReYITxBcHuVbywLIUIM1BD8w7WHAbgLrApgnktMy-E-mIA37v8r42-Eci0K4AP9qItfDsMti9DH9+hkHFoHULRbDC2hVAPfotU-aTgYhQhBgH3S4hf8zmn-HoXvHaErCNy6AjiNci2FUAuIHEJYR0MWrG9Dy8bGQHWFqBsV1OTwvYC8PW7tApY1w1iFQHCDzsHhMQdIakGr4cQARwnIFvIgaGUgmhLMX4UcNGH89PeS4cEaADewm9Zy7QjQWcM2HbDMKEYcESwL7ARhsRxI0MLiKSAXDOImFHHESKEE6QccZIhkcLTWr6dwQ7wjgJ53QEJUaWOUOIW8QjKNlX6RQl9C3xcBqATAXgOmIwGz5-skemkZwNwG26-DtunQ4iOeHxFCoXEZUSkYwHxHOcLO6zZYUyDTBKjYWbGf0GqMWreZh8NI7UYIkeHPDPO87NIXoN5GSB+RZQrUf4hejoDeAZHVfobEhb-CyB8hXrOTgR7-DxR4gAcAKO6Bshugyg8kOeBgzpQcQiYvwCqRAHvgKgK2HtOEFbTJEU2hgdAUGL25EhQYIYvXBqLzTdBGQdI-4baLtzV9ughY89mxWaDdA-MNLUAORQAAS+TBgAAEFwA4AfJgACVyKkAAAPLlNkAQIPst-mUr2i5R98PUccP3LG8AxjtD8AbGrHXINB6UBgOWOR4KjUQHsPUfz2PGdBGwa4o0CZxvGZB8+ZorYhGQHFDjRx44qcbOPnGPiBwp4r7uePXEBChCEZY8QKPLEMBKxlBK8RZHvF0B3IcQqPjmVX4vjFRWxDcUiON5xDbYng71AYnaHNZ6krGSUbXBlHoSZ4RE8yOsOuSbjBaBiFcWoEokgSNhSQeiYcV7HBcbYuQBwBtEZAAAGfsuAhqD2QW4GQRPs1xTQnjBg92CSd4j4naAgQ3EhSZIIzqcU8QzYgSCpN4lqSTOK6USVf0NaPBFhcQeSad2knUBfQxvRsk3wdKNkVJFk2KFZJk76sg89rGMYEHDRGSHQqQaoNkAkk5p+E5kqSc5NNB9UVK4kjgNV0GJhSUo5IcBHwJtj2ROgZcYviGAezz9M+hkK2EOUMnDD7+jk0KVVCslEVm4gArrjlPh5JSGAKUtgGXAt5dcbBsQGqXVLLjQCmpZUuYYQDfQgDWpqUgKc2HQEVASAIgVIBjED6mT1RCU7jP1PqklJias-aXqCLRgLTFpRQV8PsilimTpUi-F6pqnGTKpDIf-PacWDzQsA+h3-E8YwB34jD9+6EQ-pMK-AsAz+cPJ4YRBZHhhAgyUgabsI-4AwXpEtTav+BOkH9Hij2WcoWCXSlA5pDUuXNKk6y-FiAP0+aZmSm59hmg704wFVQYgMRCEsMo7ugKhGUYGhU0HmH8DDLuTWhZ1bCbWO6H9DLpW-G6UMJdYQQkRfkV8H9N6FnsQm7VQhA4D4rUidhPQ+zFzL3gsiiga4DiZ82tRqo5+q0tcL+FMR4BIQqs2lOdJ6GMykygw0HFLPZkZTNUXM09iJBCRVSBZ1lIWQRVZmtCJZMQLmaLIOGQR-wUEE8k+jmEUZKZxkkYXrPunZI5ZSCEad2nGkkw9ZU0tarthVlqz9pNaDkc6MHayzJefMzVMTM9mjgaZvsvCJXxYjmzcQBowgAuDvDTSQBDwqHpyM+HCdY5Hwl0XoK2lZB85GjUkICN7wgir+kLGghaLljuz6hYMMmXfApn1yeAhc1YXoNFBgjSB87YmSeJ7nxU+5jwQgHeAHmdDP6YAVWZCBbmNl8567TEfBEbnCcc5lsvVm3OalFBCRpIckSsH3kGi6Rggy0SsDpFnzbZBoE8vz0rlcj45O+SIqkG4mfJb8VXU2n7lvz+kJJttR0uWQDGyZuJEZZwpAqXIqS2ikCsMdu0PkRgYFGg+nJ0BSm+AxktxS9noOcIoLApNQgLPszphRSxo3E5UUaMexsS6AlCsgLiCLmxBzwKMMbGQsZBeSVywwvySTEgWQY80+830SygnCXzLhmFFUaBPYm2y3gKMcBWbHBJkLj50wa0ScOnICKt4jo0uXHNdHJF1uMyG2C50GmVkl840eRZAvPnUg+sfI2LGULUU6jOJkgPsYOIYATjLIAAGXyYLi+qyRYSTmUkDMTuJl4iRbQtpmqLAxe4g8WBPnbHjAJZCwJTQuvEDhbxsS+KdmQCxPi+4Ekj2O+KcUuL3F4Af8SBBiUBKIlSQCMrhNRaDADEEEsoVBJgklK9E5i7NtxKQnJD4Q5I6pVUIhCK9bSEklpVUNC7oCSFxSrCYwuqIYD3B+EkfAYm4l+pWMJCvWN-IoW0ShCHE8kUxNHrDKglHEmMXfEmjRSDF4imhfRKCGYCylyQvCVQAIlmIxq1DQyOUq7TcCchlS4WmhIQkexDldEpEeYqKFDLMlho+hdQs+XPyssc1BIUTL0Xmd6F-yyzscoSFdCqQrQKxkCHTHp9oVcDUSGykhWWcskAbXMZ+ClCIq8EnxXZc7SxVWcjRsKgoWsMJXjZJB26dLqCoKFljuFFQA2A6GrFVdVOjYl6Pu1pjV9uVRClHHH0CAsScohzcsQ5mAkc500y066ayvZUITsUfCOsX4EZC1KswVYxVVVWYWJAvJIEBCScrugqM1EHSzATiHglSrEJyEiWqVHNX+dLVfSzASST7CCdLV3AIocGxfhOYDVCQwjKDM2qpKhVwQU0vJPFXhKEFdM0ZkEsZDSL1w1eXhX8llXlj2VV49aeeHrFAh1VuIKsVeO1V5pPVeqshYaqEhFVTVIQ7oEAo4COq7oOKhoLaorXX5elyElgQ5Iknur36BapzCpN9Xq9hqVqD+W5Dz4qTggoqkmIqsQXfzx187IdRJMlUF8Oc+nPPghLnWvi9EufYQEBPnVjrLVOaD4MGtHXXS5VwYrVSmLzR-RN1q6mDB+JHFjjJx04ucfkvJDXqvxd638Z4tdVbr21fqc9aOo6QgDwQGId+QORcAzrHgEa8kHupFUqSw1rKwxYRiihsBKMASxkNetyUeK-IqGtxR4sZCtrqZRQn9QEsIyEIANXgIDcBtrSdk3gxjQ2qUkSFvVaNUQuCKiio1UJOu-rMZY1I6SBqWIARFjSiAm7tIIyHUrjeRqiL1pE0KQajc8jY10bCiDGl0m4SY0IZJNrG2jcb042wL9UEmwwFJtMACbCA7GrXheVtDybuNbkGoGIFGiUYDFamkvvDME3oCqN+AfyXxr02UqqhVXclr0l00zxXNzaYToyqqH6cnN-k3jfQB83lo6AEW4+ZioMVio-NcyaLZBDYyBbTlnGW1QzhEDCVYtRoh0iFrXXf5goxjZzSTCK1UJxyqWu6J5s7JlbpNtWvTRoLdH8cMhJzLIeYKeV3M+wOWqFWKnq1gg+tiFSrTxGS3cN36RWkrc4mU06byt16FTfxv0S4QdIQ2r-Blu84WRut2KtoZJpK1csRJxASzbMjgTubTlOE85dEKuUTgS5dSLAIto2mqCsgG24OBZqs1krqOiivsB6Lj7WLOlz82wLdvp6favRP21Yc7JTYvoRtSIXvMWsjQZbfO2WiFS5wdLPatAu22oSYH4AZ8uuxvEjIHzpYMsfglLPaOgLZ5Fd7MR20YdDqLCEJcJ52qZaGCu2KRDY6O2ZG31dyd8xoQgqTr23omNLWBOYPfsvRZGk13SeLW+UHziRfx1hHmDOp5F0rsUbtoOwoOCBJ3U9DMoXWYYDu+1mrXZAJLxZkGZ7LaFMGWlXRz1p7raEduW7gCbpp5SouWmov+Npprq0UgQAAThOBR52IjdYtUYDH7cYG6tdYtSeI2ifIw060wVEkKVVFA-+r4FwD8QEnrTCg-u4OBpw04WQ0A6e2tVHrgGhgk9TnD4BjWmBJ7A9tWMmucqLx7wXAXkGgjjOQGxAi9uEkveG2op7ck9MYjBbXWwXmleYwa47VVvuFQ64hRu-gBCHb1YKmAOC83fmFGhkr2ObATBZ3rGHkb0er26oKVFXBkBfod8BJvCoECtBGQf3XwLt327c8QxcHN8CO34AmsjgAyxNQYCwSkBN90TY2UCA0IfDZonuRfrnvBCeQvI6PUAC53dAX6BAACLegiA7kxBc92XI0c52OD7pE5EQBiK+ANVx8E+dMDdQSsj1WYN1RakdcuqXWWqZSVnAvUtLv0b74qT+s9q-pAp35gBdez3bXQhA-7ZdCEwQOgdEBMHPIvkOAxr1xnZ6GgX+jg15AAO+iWogh0A1VXr1lC7l5yi7duAZ1qIoDUKiWazo74rxWgPOu-QLr9SLQbBj25zszksWeitdIQsUangDXLilNMowwPZFayr7+AQUvNHvqBAH6j96PU-UWzsMCAhK1+vdCzXdS6YLdUK9QxYvJxWLvdphrSfkVmyHkIKPvBHPgGoo0i+sfw5gFJH-DJdR2BilQzQDUNT45cMRveCLsajv0dD6AldFzNTlsyPSNkpcKZI9Imd7ZBUsWeprlxiyGjIs-YTMLT4K42jCmtyPbJ1nAcw5G5Y3lWE8DDH9yJnFOXUc8whKQB0FIchUZmO27pZ76ZfQYo05yj9At8gADpYBJ1DyyjCgZkDBAJ24OveswzlDQRU9oke-Zvud4nB1j0BzY+eO2OWi9jBx0aUcfj4nGKOIY2crwFXB7wegjZQE6AAABe8zUAHsaKAVKmAPx040UZ6CQmrjOkG4+CDuPxUHjN24EWKiEDWHWsmxw4-CdtiInUGEndzsJRYDCVlAwlTzpMA05Og8ATxqFUSa+MknfjE7ck1PRtLkAqTNJuk6F3RO+QgAA')">function make_binding(variable, value) {
    return pair(variable, value);
}
function binding_variable(binding) {
    return head(binding);
}
function binding_value(binding) {
    return tail(binding);
}
function binding_in_frame(variable, frame) {
    return assoc(variable, frame);
}
function extend(variable, value, frame) {
    return pair(make_binding(variable, value), frame);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.79" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.79">Exercise 4.79 </a></b> 
  
      Louis Reasoner wonders why the
      
	<span style="color:green"><kbd>simple-query</kbd></span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      and <kbd>disjoin</kbd>
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>) are implemented using
      explicit
      
	<span style="color:green"><kbd>delay</kbd>
	</span><span style="color:blue">delay</span>
      
      operations, rather than being defined as follows:
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append (find-assertions query-pattern frame)
                    (apply-rules query-pattern frame)))
   frame-stream))

(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave
       (qeval (first-disjunct disjuncts) frame-stream)
       (disjoin (rest-disjuncts disjuncts) frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
              frame =>
                 stream_append(find_assertions(query_pattern, frame),
                               apply_rules(query_pattern, frame)),
              frame_stream);
}
function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave(evaluate_query(first_disjunct(disjuncts), 
                                    frame_stream),
                     disjoin(rest_disjuncts(disjuncts), frame_stream));
}</pre></div></div></td></tr></table>
      Can you give examples of queries where these simpler definitions would
      lead to undesirable behavior?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_2_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_2_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.80" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.80">Exercise 4.80 </a></b> 
  
      Why do <kbd>disjoin</kbd> and
      
	<span style="color:green"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      interleave the streams rather than simply append them?  Give examples that
      illustrate why interleaving works better.  (Hint: Why did we use
      <kbd>interleave</kbd> in
      section&nbsp;<REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>?)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_3_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_3_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.81" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.81">Exercise 4.81 </a></b> 
  
    Why does
    
      <span style="color:green"><kbd>flatten-stream</kbd></span>
      <span style="color:blue"><kbd>flatten_stream</kbd>
      </span>
    
    use
    
      <span style="color:green"><kbd>delay</kbd> explicitly?</span>
      <span style="color:blue">a lambda expression in its body?</span>
    
    What would be wrong with defining it as follows:
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave
       (stream-car stream)
       (flatten-stream (stream-cdr stream)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave(head(stream),
                     flatten_stream(stream_tail(stream)));
}</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_4_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_4_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.82" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.82">Exercise 4.82 </a></b> 
  
      
      Alyssa P. Hacker proposes to use a simpler version of
      
	<span style="color:green"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      in <kbd>negate</kbd>,
      
	<span style="color:green"><kbd>lisp-value</kbd>,</span>
	<span style="color:blue"><kbd>javascript_value</kbd>,
	</span>
      
      and
      
	<span style="color:green"><kbd>find-assertions</kbd>.</span>
	<span style="color:blue"><kbd>find_assertions</kbd>.
	</span>
      
      She observes that the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that is mapped over the frame stream in these cases always produces either
      the empty stream or a singleton stream, so no interleaving is needed when
      combining these streams.
      <OL type="a">
	<LI>
          Fill in the missing expressions in Alyssa's program.
          <kbd class='snippet'>function simple_stream_flatmap(fun, s) {
    return simple_flatten(stream_map(fun, s));
}
function simple_flatten(stream) {
    return stream_map($\langle ?? \rangle$,
                      stream_filter($\langle ?? \rangle$, stream));
}</kbd>
	</LI>
	<LI>
          Does the query system's behavior change if we change it in this
	  way?
	</LI>
      </OL>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_5_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_5_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.83" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.83">Exercise 4.83 </a></b> 
  
      
      
      
      Implement for the query language a
      
	<span style="color:green">new special form called
	<kbd>unique</kbd>.</span>
	<span style="color:blue">query expression called
	<kbd>unique</kbd>.</span>
      
      
	<span style="color:green">
	  <kbd>Unique</kbd>
	</span>
	<span style="color:blue">
	  Applictions of <kbd>unique</kbd>
	</span>
      
      should succeed if there is precisely one item in the data base satisfying
      a specified query.  For example,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "wizard")))</pre></div></div></td></tr></table>
      should print the one-item stream
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job (Bitdiddle Ben) (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(list("Bitdiddle", "Ben"), list("computer", "wizard")))</pre></div></div></td></tr></table>
      since Ben is the only computer wizard, and
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer programmer)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "programmer")))</pre></div></div></td></tr></table>
      should print the empty stream, since there is more than one computer
      programmer.  Moreover,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(and (job ?x ?j) (unique (job ?anyone ?j)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
and(job(x, j), unique(job(anyone, j)))</pre></div></div></td></tr></table>
      should list all the jobs that are filled by only one person, and the
      people who fill them.
      <p></p>
      There are two parts to implementing <kbd>unique</kbd>.
      The first is to write a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that handles this special form, and the second is to make
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      dispatch to that
      
	<span style="color:green">procedure.</span>
	<span style="color:blue">function.</span>
      
      The second part is trivial, since
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      does its dispatching in a data-directed way.  If your
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      is called
      
	<span style="color:green"><kbd>uniquely-asserted</kbd>,</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>,
	</span>
      
      all you need to do is
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'unique 'qeval uniquely-asserted)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
put("unique", "evaluate_query", uniquely_asserted);</pre></div></div></td></tr></table>
      and
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      will dispatch to this
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      for every query whose
      <kbd>type</kbd>
      
	<span style="color:green">(<kbd>car</kbd>)</span>
	<span style="color:blue">(<kbd>head</kbd>)</span>
      
      is the
      
	<span style="color:green">symbol</span>
	<span style="color:blue">string</span>
      
      
	<span style="color:green"><kbd>unique</kbd></span>
	<span style="color:blue"><kbd>"unique"</kbd></span>
      
      <p></p>
      The real problem is to write the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>uniquely-asserted</kbd>.</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>.
	</span>
      
      This should take as input the <kbd>contents</kbd>
      
	<span style="color:green">(<kbd>cdr</kbd>)</span>
	<span style="color:blue">(<kbd>tail</kbd>)</span>
      
      of the <kbd>unique</kbd> query, together with a stream
      of frames.  For each frame in the stream, it should use
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to find the stream of all extensions to the frame that satisfy the given
      query.  Any stream that does not have exactly one item in it should be
      eliminated.  The remaining streams should be passed back to be accumulated
      into one big stream that is the result of the
      <kbd>unique</kbd> query.  This is similar to the
      implementation of the <kbd>not</kbd> special form.
      <p></p>
      Test your implementation by forming a query that lists all people who
      supervise precisely one person.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_6_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_6_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.84" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.84">Exercise 4.84 </a></b> 
  
      
      
      
      Our implementation of <kbd>and</kbd> as a series
      combination of queries
      
	<span style="color:green">
	  (figure&nbsp;<REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>)
	</span>
	<span style="color:blue">
	  (figure&nbsp;<REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.10" href="./4.4.2.html#fig_4.10">4.10</a></REF>)
	</span>
      
      is
      elegant, but it is inefficient because in processing the second query of
      the <kbd>and</kbd> we must scan the data base for each
      frame produced by the first query.  If the data base has
      $N$ elements, and a typical query produces a
      number of output frames proportional to $N$
      (say $N/k$), then scanning the data base for
      each frame produced by the first query will require
      $N^{2}/k$ calls to the pattern matcher.
      Another approach would be to process the two clauses of the
      <kbd>and</kbd> separately, then look for all pairs of
      output frames that are compatible.  If each query produces
      $N/k$ output frames, then this means that we
      must perform $N^{2}/k^{2}$ compatibility
      checks—a factor of $k$ fewer than the
      number of matches required in our current  method.
      <p></p>
      Devise an implementation of <kbd>and</kbd> that uses
      this strategy.  You  must implement a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that takes two frames as inputs, checks whether the bindings in the
      frames are compatible, and, if so, produces a frame that merges the two
      sets of bindings.  This operation is similar to unification.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_7_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_7_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.85" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.85">Exercise 4.85 </a></b> 
  
      
      
      
      
      
      In section&nbsp;<REF NAME="sec:math-logic"><a class="superscript" id="4.4.4-sec-link-4.4.3" href="./4.4.3.html">4.4.3</a></REF> we saw that
      <kbd>not</kbd> and
      
	<span style="color:green"><kbd>lisp-value</kbd></span>
	<span style="color:blue"><kbd>javascript_value</kbd>
	</span>
      
      can cause the query language to give <QUOTE>wrong</QUOTE> answers if
      these filtering operations are applied to frames in which variables
      are unbound.  Devise a way to fix this shortcoming.  One idea is to
      perform the filtering in a <QUOTE>delayed</QUOTE> manner by appending to
      the frame a <QUOTE>promise</QUOTE> to filter that is fulfilled only when
      enough variables have been bound to make the operation possible.  We could
      wait to perform filtering until all other operations have been performed.
      However, for efficiency's sake, we would like to perform filtering
      as soon as possible so as to cut down on the number of intermediate frames
      generated.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_8_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_8_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.86" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.86">Exercise 4.86 </a></b> 
  
      
      Redesign the query language as a nondeterministic program to be
      implemented using the evaluator of
      section&nbsp;<REF NAME="sec:nondeterministic-evaluation"><a class="superscript" id="4.4.4-sec-link-4.3" href="./4.3.html">4.3</a></REF>, rather than as a stream
      process.  In this approach, each query will produce a single answer
      (rather than the stream of all answers) and the user can type
      
	<span style="color:green"><kbd>try-again</kbd></span>
	<span style="color:blue"><kbd>try again</kbd>
	</span>
      
      to see more answers.  You should find that much of the mechanism we built
      in this section is subsumed by nondeterministic search and backtracking.
      You will probably also find, however, that your new query language has
      subtle differences in behavior from the one implemented here.  Can you
      find examples that illustrate this difference?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_9_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_9_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>



    
    <div class="permalink">
    <a name="ex_4.87" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.87">Exercise 4.87 </a></b> 
  
      
      
      When we implemented the
      
	<span style="color:green">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator in section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF>, we saw how to use
      local environments to avoid name conflicts between the parameters of
      
	<span style="color:green">procedures.</span>
	<span style="color:blue">functions.</span>
      
      For example, in evaluating
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (square x)
  (* x x))

(define (sum-of-squares x y)
  (+ (square x) (square y)))

(sum-of-squares 3 4)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM4CO+AhgE4CmAFAB4CUoA3llDDQ7UvhY0uoAFSguAbiwBfPETJUatfAFsA+pVx6GzdrW4AaUAE8+gkaLbjJdRq069QAalenOtpVVtfUNjNzMOAGYrFB4FIA')">function square(x) {
    return x * x;
}
function sum_of_squares(x, y) {
    return square(x) + square(y);
}
sum_of_squares(3, 4);
</pre></div></div></td></tr></table>
      there is no confusion between the <kbd>x</kbd> in
      <kbd>square</kbd> and the <kbd>x</kbd>
      in
      
	<span style="color:green"><kbd>sum-of-squares</kbd>,</span>
	<span style="color:blue"><kbd>sum_of_squares</kbd>,
	</span>
      
      because we evaluate the body of each
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      in an environment that is specially constructed to contain
      bindings for the local
      
	<span style="color:green">variables.</span>
	<span style="color:blue">names.</span>
      
      In the query system, we used a
      different strategy to avoid name conflicts in applying rules.  Each
      time we apply a rule we rename the variables with new names that are
      guaranteed to be unique.  The analogous strategy for the
      
	<span style="color:green">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator would be to do away with local environments and simply
      rename the variables in the body of a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      each time we apply the
      
	<span style="color:green">procedure.</span>
	<span style="color:blue">function.</span>
      
      <p></p>
      
      
      
      
      Implement for the query language a rule-application method that uses
      environments rather than renaming.  See if you can build on your
      environment structure to create constructs in the query language for
      dealing with large systems, such as the rule analog of
      block-structured
      
	<span style="color:green">procedures.</span>
      <span style="color:blue">functions.</span>
      Can you relate any of this to the problem of making deductions in a
      context (e.g., <QUOTE>If I supposed that $P$
      were true, then I would be able to deduce $A$
      and $B$.</QUOTE>) as a method of problem
      solving?  (This problem is open-ended.  A good answer is probably worth
      a Ph.D.)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_10_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_10_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

  
<hr>

    <div class='footnote'>
      <a class='footnote-number' id='footnote-1' href='#footnote-link-1' >[1] </a>
    <FOOTNOTE>
    In general,
      unifying
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      with an expression involving
      
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      would require our being able to find a fixed point of the equation
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $ = \textit{expression involving}$
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      It is sometimes possible to syntactically form an expression that appears
      to be the solution.  For example,
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $=$
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      seems to have the fixed point
      
	<span style="color:green"><kbd>(f (f (f </kbd>…
	<kbd>)))</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>list("f", list("f", list("f",</kbd>
	  …
	  <kbd>)))</kbd>,
	</span>
      
      which we can produce by beginning with the expression
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and repeatedly substituting
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      for
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Unfortunately, not every such equation has a meaningful fixed point.  The
      issues that arise here are similar to the issues of manipulating 
      
      infinite series in mathematics.  For example, we know that 2 is the
      solution to the equation $y = 1 + y/2$.
      Beginning with the expression $1 + y/2$ and
      repeatedly substituting $1 + y/2$ for
      $y$ gives
      
        \[ 2 = y = 1 + y/2 = 1 + (1+y/2)/2 = 1 + 1/2 + y/4 =\cdots, \]
      
      which leads to
      
        \[ 2 = 1 + 1/2 + 1/4 + 1/8 +\cdots. \]
      
      However, if we try the same manipulation beginning with the
      observation that $-1$ is the solution to the
      equation $y = 1 + 2y$, we obtain
      
        \[ -1 = y = 1 + 2y = 1 + 2(1 + 2y) = 1 + 2 + 4y = \cdots, \]
      
      which leads to 
      
        \[ -1 = 1 + 2 + 4 + 8 +\cdots. \]
      
      Although the formal manipulations used in deriving these two equations
      are identical, the first result is a valid assertion about infinite
      series but the second is not.  Similarly, for our unification results,
      reasoning with an arbitrary syntactically constructed expression may
      lead to errors.
    </FOOTNOTE></div>
    
    
    <div class='footnote'><span style="color:green">
      <a class='footnote-number' id='footnote-2' href='#footnote-link-2' style="color:green">[2] </a>
    <FOOTNOTE>
    Most Lisp systems give the user
	  the ability to modify the ordinary <kbd>read</kbd>
	  procedure to perform such transformations by defining 
	  
	  
	  
	  
	  <EM>reader macro characters</EM>.  Quoted
	  expressions are already handled in this way: The reader automatically
	  translates <kbd>'expression</kbd> into
	  <kbd>(quote expression)</kbd> before the
	  evaluator sees it.  We could arrange for
	  <kbd>?expression</kbd> to be transformed into
	  <kbd>(? expression)</kbd> in the same way; however,
	  for the sake of clarity we have included the transformation
	  procedure here explicitly.
	  <p></p>
	  
	  <kbd>Expand-question-mark</kbd> and
	  <kbd>contract-question-mark</kbd> use several
	  procedures with <kbd>string</kbd> in their names.
	  These are Scheme primitives.
    </FOOTNOTE></span></div>
    
    
</div></div>

    <div class='nav'>
  
        <a class='btn btn-secondary btn-nav' href='./4.4.3.html'>&lt; Previous</a>
    
    <div style='flex-grow: 1;'></div>
  
        <a class='btn btn-secondary btn-nav' id='97' href='./5.html'>Next &gt;</a>
      </div>
    <div class='chapter_sign'>
      4.4.4&nbsp;&nbsp;
    Implementing the Query System
  
    </div>
    <script> var chapter_id = 96; </script>
    <script> var chapter_path = "chapters/4.4.4.html"; </script>
    <div class='next-page'></div>
    </div>
    </div> <!-- /.container -->
    </body></html>