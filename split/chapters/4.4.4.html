<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <!-- Global site tag (gtag.js) - Google Analytics - START -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-156801664-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-156801664-1');
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics - END -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="description" content="4.4.4  Implementing the Query System" />
    <title>
      4.4.4  Implementing the Query System
    </title>
    
  <meta name="csrf-param" content="authenticity_token" />
  <meta name="csrf-token" content="EMTEijVc2kiiKUH4nYH0lQG3pLPfMowQ/Stg//t6DCo0e5pWMQwamnTvIdmVZqY/MqSx2IYYE+2bpNV6UNSMwQ==" />

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    -->
    <link href="https://fonts.googleapis.com/css?family=Inconsolata&display?swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans|Droid+Serif" rel="stylesheet">
    <link rel="stylesheet" media="all" href="../assets/stylesheet.css" />

   <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon.ico" />

<!--    <link rel="shortcut icon" type="image/png" href="../images/lambda.png" /> -->

    <!-- for support of progressive web app, see github README, DISABLED!
    <link rel="manifest" href="../static/manifest.json">
    -->

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" 
		     	  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	          crossorigin="anonymous">
    </script> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script> -->
    <script type="text/javascript" 
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script>
   <!--  <script type="text/javascript" 
      src="../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script> -->
  
    <script src="../assets/application.js"></script>
  
    <!-- Rendering inline LaTeX -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true,
          jax: ["input/TeX","output/HTML-CSS"]
        }
      });
    </script>
    <!--<script src="/mathjax/MathJax.js?config=TeX-AMS_HTML-full.js" type="text/javascript"></script>-->
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body>

    
    <!-- support for progressive web app, see README, DISABLED
    <script>
      if ('serviceWorker' in navigator && !navigator.serviceWorker.controller) {
          navigator.serviceWorker.register("../sw.js").then(function(reg) {
              console.log("Service worker has been registered for scope: " + reg.scope);
          });
      }
    </script>
    -->

     <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top justify-content-between">
       <button id="btn" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#nav-sidebar" aria-controls="nav-sidebar" aria-expanded="false" aria-label="Toggle navigation" title="navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <span class="navbar-brand-short"><a title="Go back to front page" href="../index.html" class="gray">SICP &mdash; Scheme/JS</a></span>
       <span class="navbar-brand-long" ><a title="Go back to front page" href="../index.html" class="gray">Structure and Interpretation of Computer Programs &mdash; Comparison Edition</a></span>

       <!-- edit the search engine by visiting: 
	    https://cse.google.com/cse/setup/basic?cx=015760785273492757659:nc_tznrzlsg 
	       -->
       <form class="form-inline ml-auto" id="xxx">
         <div id="search-box">
	         <script>
	           (function() {
	               var cx = "015760785273492757659:nc_tznrzlsg";
	               var gcse = document.createElement("script");
	               gcse.type = "text/javascript";
	               gcse.async = true;
	               gcse.src = "https://cse.google.com/cse.js?cx=" + cx;
	               var s = document.getElementsByTagName("script")[0];
	               s.parentNode.insertBefore(gcse, s);
	           })();
	           window.onload = function()
	           { 
	               var searchBox =  document.getElementById("gsc-i-id1");
	               searchBox.placeholder= "search web edition";
	               searchBox.title= "search web edition";
	           }
	         </script>
	         <gcse:search></gcse:search>
         </div>
       </form>
       <span class="navbar-brand-short">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">S</a>
       </span>
       <span class="navbar-brand-long">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">Source</a>
       </span>
     </nav>
     
     <div class="container scroll">

            
        <div class="collapse" id="nav-sidebar" role="tablist" aria-multiselectable="true">
        <!-- insert a dummy entry, to give one extra line of space -->
        <a class="navbar-brand" href="index.html">&nbsp;</a>
    
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-1">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-1" aria-expanded="false" aria-controls="sidebar-collapse-1">
                <a href="./foreword.html">  Foreword</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-2">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-2" aria-expanded="false" aria-controls="sidebar-collapse-2">
                <a href="./prefaces.html">  Prefaces</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-3">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-3" aria-expanded="false" aria-controls="sidebar-collapse-3">
                <a href="./acknowledgements.html">  Acknowledgments from Second Edition of SICP, 1996</a>
              </span>
            </h5>
          </div>
        </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-4">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.html">1  Building Abstractions with <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span></a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-4" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-5">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.1.html">1.1  The Elements of Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-5" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-6">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-6" aria-expanded="false" aria-controls="sidebar-collapse-6">
                <a href="./1.1.1.html"> 1.1.1  Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-7">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-7" aria-expanded="false" aria-controls="sidebar-collapse-7">
                <a href="./1.1.2.html"> 1.1.2  Naming and the Environment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-8">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-8" aria-expanded="false" aria-controls="sidebar-collapse-8">
                <a href="./1.1.3.html"> 1.1.3  Evaluating <span style="color:green"> Combinations </span> <span style="color:blue"> Operator Combinations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-9">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-9" aria-expanded="false" aria-controls="sidebar-collapse-9">
                <a href="./1.1.4.html"> 1.1.4  Compound <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-10">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-10" aria-expanded="false" aria-controls="sidebar-collapse-10">
                <a href="./1.1.5.html"> 1.1.5  The Substitution Model for <span style="color:green"> Procedure </span> <span style="color:blue"> Function </span> Application</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-11">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-11" aria-expanded="false" aria-controls="sidebar-collapse-11">
                <a href="./1.1.6.html"> 1.1.6  Conditional Expressions and Predicates</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-12">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-12" aria-expanded="false" aria-controls="sidebar-collapse-12">
                <a href="./1.1.7.html"> 1.1.7  Example: Square Roots by Newton s Method</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-13">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-13" aria-expanded="false" aria-controls="sidebar-collapse-13">
                <a href="./1.1.8.html"> 1.1.8  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> as Black-Box Abstractions</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-14">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.2.html">1.2  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> and the Processes They Generate</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-14" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-15">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-15" aria-expanded="false" aria-controls="sidebar-collapse-15">
                <a href="./1.2.1.html"> 1.2.1  Linear Recursion and Iteration</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-16">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-16" aria-expanded="false" aria-controls="sidebar-collapse-16">
                <a href="./1.2.2.html"> 1.2.2  Tree Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-17">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-17" aria-expanded="false" aria-controls="sidebar-collapse-17">
                <a href="./1.2.3.html"> 1.2.3  Orders of Growth</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-18">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-18" aria-expanded="false" aria-controls="sidebar-collapse-18">
                <a href="./1.2.4.html"> 1.2.4  Exponentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-19">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-19" aria-expanded="false" aria-controls="sidebar-collapse-19">
                <a href="./1.2.5.html"> 1.2.5  Greatest Common Divisors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-20">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-20" aria-expanded="false" aria-controls="sidebar-collapse-20">
                <a href="./1.2.6.html"> 1.2.6  Example: Testing for Primality</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-21">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.3.html">1.3  Formulating Abstractions with Higher-Order <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span></a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-21" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-22">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-22" aria-expanded="false" aria-controls="sidebar-collapse-22">
                <a href="./1.3.1.html"> 1.3.1  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> as Arguments</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-23">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-23" aria-expanded="false" aria-controls="sidebar-collapse-23">
                <a href="./1.3.2.html"> 1.3.2  <span style="color:green"> Constructing Procedures using Lambda </span> <span style="color:blue"> Constructing Functions using Lambda Expressions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-24">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-24" aria-expanded="false" aria-controls="sidebar-collapse-24">
                <a href="./1.3.3.html"> 1.3.3  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> as General Methods</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-25">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-25" aria-expanded="false" aria-controls="sidebar-collapse-25">
                <a href="./1.3.4.html"> 1.3.4  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> as Returned Values</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-26">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.html">2  Building Abstractions with Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-26" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-27">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.1.html">2.1  Introduction to Data Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-27" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-28">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-28" aria-expanded="false" aria-controls="sidebar-collapse-28">
                <a href="./2.1.1.html"> 2.1.1  Example: Arithmetic Operations for Rational Numbers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-29">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-29" aria-expanded="false" aria-controls="sidebar-collapse-29">
                <a href="./2.1.2.html"> 2.1.2  Abstraction Barriers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-30">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-30" aria-expanded="false" aria-controls="sidebar-collapse-30">
                <a href="./2.1.3.html"> 2.1.3  What Is Meant by Data?</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-31">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-31" aria-expanded="false" aria-controls="sidebar-collapse-31">
                <a href="./2.1.4.html"> 2.1.4  Extended Exercise: Interval Arithmetic</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-32">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.2.html">2.2  Hierarchical Data and the Closure Property</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-32" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-33">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-33" aria-expanded="false" aria-controls="sidebar-collapse-33">
                <a href="./2.2.1.html"> 2.2.1  Representing Sequences</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-34">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-34" aria-expanded="false" aria-controls="sidebar-collapse-34">
                <a href="./2.2.2.html"> 2.2.2  Hierarchical Structures</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-35">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-35" aria-expanded="false" aria-controls="sidebar-collapse-35">
                <a href="./2.2.3.html"> 2.2.3  Sequences as Conventional Interfaces</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-36">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-36" aria-expanded="false" aria-controls="sidebar-collapse-36">
                <a href="./2.2.4.html"> 2.2.4  Example: A Picture Language</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-37">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.3.html">2.3  Symbolic Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-37" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-38">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-38" aria-expanded="false" aria-controls="sidebar-collapse-38">
                <a href="./2.3.1.html"> 2.3.1  <span style="color:green"> Quotation </span> <span style="color:blue"> Strings </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-39">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-39" aria-expanded="false" aria-controls="sidebar-collapse-39">
                <a href="./2.3.2.html"> 2.3.2  Example: Symbolic Differentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-40">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-40" aria-expanded="false" aria-controls="sidebar-collapse-40">
                <a href="./2.3.3.html"> 2.3.3  Example: Representing Sets</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-41">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-41" aria-expanded="false" aria-controls="sidebar-collapse-41">
                <a href="./2.3.4.html"> 2.3.4  Example: Huffman Encoding Trees</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-42">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.4.html">2.4  Multiple Representations for Abstract Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-42" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-43">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-43" aria-expanded="false" aria-controls="sidebar-collapse-43">
                <a href="./2.4.1.html"> 2.4.1  Representations for Complex Numbers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-44">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-44" aria-expanded="false" aria-controls="sidebar-collapse-44">
                <a href="./2.4.2.html"> 2.4.2  Tagged data</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-45">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-45" aria-expanded="false" aria-controls="sidebar-collapse-45">
                <a href="./2.4.3.html"> 2.4.3  Data-Directed Programming and Additivity</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-46">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.5.html">2.5  Systems with Generic Operations</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-46" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-47">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-47" aria-expanded="false" aria-controls="sidebar-collapse-47">
                <a href="./2.5.1.html"> 2.5.1  Generic Arithmetic Operations</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-48">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-48" aria-expanded="false" aria-controls="sidebar-collapse-48">
                <a href="./2.5.2.html"> 2.5.2  Combining Data of Different Types</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-49">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-49" aria-expanded="false" aria-controls="sidebar-collapse-49">
                <a href="./2.5.3.html"> 2.5.3  Example: Symbolic Algebra</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-50">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.html">3  Modularity, Objects, and State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-50" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-51">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.1.html">3.1  Assignment and Local State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-51" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-52">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-52" aria-expanded="false" aria-controls="sidebar-collapse-52">
                <a href="./3.1.1.html"> 3.1.1  Local State Variables</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-53">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-53" aria-expanded="false" aria-controls="sidebar-collapse-53">
                <a href="./3.1.2.html"> 3.1.2  The Benefits of Introducing Assignment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-54">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-54" aria-expanded="false" aria-controls="sidebar-collapse-54">
                <a href="./3.1.3.html"> 3.1.3  The Costs of Introducing Assignment</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-55">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.2.html">3.2  The Environment Model of Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-55" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-56">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-56" aria-expanded="false" aria-controls="sidebar-collapse-56">
                <a href="./3.2.1.html"> 3.2.1  The Rules for Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-57">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-57" aria-expanded="false" aria-controls="sidebar-collapse-57">
                <a href="./3.2.2.html"> 3.2.2  Applying Simple <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-58">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-58" aria-expanded="false" aria-controls="sidebar-collapse-58">
                <a href="./3.2.3.html"> 3.2.3  Frames as the Repository of Local State</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-59">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-59" aria-expanded="false" aria-controls="sidebar-collapse-59">
                <a href="./3.2.4.html"> 3.2.4  Internal <span style="color:green"> Definitions </span> <span style="color:blue"> Declarations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-60">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.3.html">3.3  Modeling with Mutable Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-60" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-61">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-61" aria-expanded="false" aria-controls="sidebar-collapse-61">
                <a href="./3.3.1.html"> 3.3.1  Mutable List Structure</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-62">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-62" aria-expanded="false" aria-controls="sidebar-collapse-62">
                <a href="./3.3.2.html"> 3.3.2  Representing Queues</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-63">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-63" aria-expanded="false" aria-controls="sidebar-collapse-63">
                <a href="./3.3.3.html"> 3.3.3  Representing Tables</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-64">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-64" aria-expanded="false" aria-controls="sidebar-collapse-64">
                <a href="./3.3.4.html"> 3.3.4  A Simulator for Digital Circuits</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-65">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-65" aria-expanded="false" aria-controls="sidebar-collapse-65">
                <a href="./3.3.5.html"> 3.3.5  Propagation of Constraints</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-66">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.4.html">3.4  Concurrency: Time Is of the Essence</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-66" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-67">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-67" aria-expanded="false" aria-controls="sidebar-collapse-67">
                <a href="./3.4.1.html"> 3.4.1  The Nature of Time in Concurrent Systems</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-68">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-68" aria-expanded="false" aria-controls="sidebar-collapse-68">
                <a href="./3.4.2.html"> 3.4.2  Mechanisms for Controlling Concurrency</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-69">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.5.html">3.5  Streams</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-69" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-70">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-70" aria-expanded="false" aria-controls="sidebar-collapse-70">
                <a href="./3.5.1.html"> 3.5.1  Streams Are Delayed Lists</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-71">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-71" aria-expanded="false" aria-controls="sidebar-collapse-71">
                <a href="./3.5.2.html"> 3.5.2  Infinite Streams</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-72">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-72" aria-expanded="false" aria-controls="sidebar-collapse-72">
                <a href="./3.5.3.html"> 3.5.3  Exploiting the Stream Paradigm</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-73">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-73" aria-expanded="false" aria-controls="sidebar-collapse-73">
                <a href="./3.5.4.html"> 3.5.4  Streams and Delayed Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-74">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-74" aria-expanded="false" aria-controls="sidebar-collapse-74">
                <a href="./3.5.5.html"> 3.5.5  Modularity of Functional Programs and Modularity of Objects</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-75">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.html">4  Metalinguistic Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-75" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-76">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.1.html">4.1  The Metacircular Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-76" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-77">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-77" aria-expanded="false" aria-controls="sidebar-collapse-77">
                <a href="./4.1.1.html"> 4.1.1  The Core of the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-78">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-78" aria-expanded="false" aria-controls="sidebar-collapse-78">
                <a href="./4.1.2.html"> 4.1.2  Representing <span style="color:green"> Expressions </span> <span style="color:blue"> Statements and Expressions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-79">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-79" aria-expanded="false" aria-controls="sidebar-collapse-79">
                <a href="./4.1.3.html"> 4.1.3  Evaluator Data Structures</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-80">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-80" aria-expanded="false" aria-controls="sidebar-collapse-80">
                <a href="./4.1.4.html"> 4.1.4  Running the Evaluator as a Program</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-81">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-81" aria-expanded="false" aria-controls="sidebar-collapse-81">
                <a href="./4.1.5.html"> 4.1.5  Data as Programs</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-82">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-82" aria-expanded="false" aria-controls="sidebar-collapse-82">
                <a href="./4.1.6.html"> 4.1.6  Internal <span style="color:green"> Definitions </span> <span style="color:blue"> Declarations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-83">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-83" aria-expanded="false" aria-controls="sidebar-collapse-83">
                <a href="./4.1.7.html"> 4.1.7  Separating Syntactic Analysis from Execution</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-84">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.2.html">4.2  <span style="color:green"> Variations on a Scheme: </span> Lazy Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-84" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-85">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-85" aria-expanded="false" aria-controls="sidebar-collapse-85">
                <a href="./4.2.1.html"> 4.2.1  Normal Order and Applicative Order</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-86">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-86" aria-expanded="false" aria-controls="sidebar-collapse-86">
                <a href="./4.2.2.html"> 4.2.2  An Interpreter with Lazy Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-87">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-87" aria-expanded="false" aria-controls="sidebar-collapse-87">
                <a href="./4.2.3.html"> 4.2.3  Streams as Lazy Lists</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-88">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.3.html">4.3  <span style="color:green"> Variations on a Scheme: </span> Nondeterministic Computing</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-88" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-89">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-89" aria-expanded="false" aria-controls="sidebar-collapse-89">
                <a href="./4.3.1.html"> 4.3.1  <span style="color:green"> Amb and Search </span> <span style="color:blue"> Search and amb </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-90">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-90" aria-expanded="false" aria-controls="sidebar-collapse-90">
                <a href="./4.3.2.html"> 4.3.2  Examples of Nondeterministic Programs</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-91">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-91" aria-expanded="false" aria-controls="sidebar-collapse-91">
                <a href="./4.3.3.html"> 4.3.3  Implementing the <span style="color:green"> Amb </span> <span style="color:blue"> amb </span> Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-92">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.4.html">4.4  Logic Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-92" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-93">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-93" aria-expanded="false" aria-controls="sidebar-collapse-93">
                <a href="./4.4.1.html"> 4.4.1  Deductive Information Retrieval</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-94">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-94" aria-expanded="false" aria-controls="sidebar-collapse-94">
                <a href="./4.4.2.html"> 4.4.2  How the Query System Works</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-95">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-95" aria-expanded="false" aria-controls="sidebar-collapse-95">
                <a href="./4.4.3.html"> 4.4.3  Is Logic Programming Mathematical Logic?</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-96">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-96" aria-expanded="false" aria-controls="sidebar-collapse-96">
                <a href="./4.4.4.html"> 4.4.4  Implementing the Query System</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-97">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.html">5  Computing with Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-97" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-98">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.1.html">5.1  Designing Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-98" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-99">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-99" aria-expanded="false" aria-controls="sidebar-collapse-99">
                <a href="./5.1.1.html"> 5.1.1  A Language for Describing Register Machines</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-100">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-100" aria-expanded="false" aria-controls="sidebar-collapse-100">
                <a href="./5.1.2.html"> 5.1.2  Abstraction in Machine Design</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-101">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-101" aria-expanded="false" aria-controls="sidebar-collapse-101">
                <a href="./5.1.3.html"> 5.1.3  Subroutines</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-102">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-102" aria-expanded="false" aria-controls="sidebar-collapse-102">
                <a href="./5.1.4.html"> 5.1.4  Using a Stack to Implement Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-103">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-103" aria-expanded="false" aria-controls="sidebar-collapse-103">
                <a href="./5.1.5.html"> 5.1.5  Instruction Summary</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-104">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.2.html">5.2  A Register-Machine Simulator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-104" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-105">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-105" aria-expanded="false" aria-controls="sidebar-collapse-105">
                <a href="./5.2.1.html"> 5.2.1  The Machine Model</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-106">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-106" aria-expanded="false" aria-controls="sidebar-collapse-106">
                <a href="./5.2.2.html"> 5.2.2  The Assembler</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-107">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-107" aria-expanded="false" aria-controls="sidebar-collapse-107">
                <a href="./5.2.3.html"> 5.2.3  Generating Execution <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> for Instructions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-108">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-108" aria-expanded="false" aria-controls="sidebar-collapse-108">
                <a href="./5.2.4.html"> 5.2.4  Monitoring Machine Performance</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-109">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.3.html">5.3  Storage Allocation and Garbage Collection</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-109" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-110">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-110" aria-expanded="false" aria-controls="sidebar-collapse-110">
                <a href="./5.3.1.html"> 5.3.1  Memory as Vectors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-111">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-111" aria-expanded="false" aria-controls="sidebar-collapse-111">
                <a href="./5.3.2.html"> 5.3.2  Maintaining the Illusion of Infinite Memory</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-112">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.4.html">5.4  The Explicit-Control Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-112" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-113">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-113" aria-expanded="false" aria-controls="sidebar-collapse-113">
                <a href="./5.4.1.html"> 5.4.1  The Core of the Explicit-Control Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-114">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-114" aria-expanded="false" aria-controls="sidebar-collapse-114">
                <a href="./5.4.2.html"> 5.4.2  Sequence Evaluation and Tail Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-115">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-115" aria-expanded="false" aria-controls="sidebar-collapse-115">
                <a href="./5.4.3.html"> 5.4.3  Conditionals, Assignments, and <span style="color:green"> Definitions </span> <span style="color:blue"> Declarations and Blocks </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-116">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-116" aria-expanded="false" aria-controls="sidebar-collapse-116">
                <a href="./5.4.4.html"> 5.4.4  Running the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-117">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.5.html">5.5  Compilation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-117" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-118">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-118" aria-expanded="false" aria-controls="sidebar-collapse-118">
                <a href="./5.5.1.html"> 5.5.1  Structure of the Compiler</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-119">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-119" aria-expanded="false" aria-controls="sidebar-collapse-119">
                <a href="./5.5.2.html"> 5.5.2  Compiling <span style="color:blue"> Statements and </span> Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-120">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-120" aria-expanded="false" aria-controls="sidebar-collapse-120">
                <a href="./5.5.3.html"> 5.5.3  Compiling <span style="color:green"> Combinations </span> <span style="color:blue"> Applications </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-121">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-121" aria-expanded="false" aria-controls="sidebar-collapse-121">
                <a href="./5.5.4.html"> 5.5.4  Combining Instruction Sequences</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-122">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-122" aria-expanded="false" aria-controls="sidebar-collapse-122">
                <a href="./5.5.5.html"> 5.5.5  An Example of Compiled Code</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-123">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-123" aria-expanded="false" aria-controls="sidebar-collapse-123">
                <a href="./5.5.6.html"> 5.5.6  Lexical Addressing</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-124">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-124" aria-expanded="false" aria-controls="sidebar-collapse-124">
                <a href="./5.5.7.html"> 5.5.7  Interfacing Compiled Code to the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-125">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-125" aria-expanded="false" aria-controls="sidebar-collapse-125">
                <a href="./references.html">  References</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-126">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-126" aria-expanded="false" aria-controls="sidebar-collapse-126">
                <a href="./making-of.html">  Making of the JavaScript Adaptation</a>
              </span>
            </h5>
          </div>
        </div>
        </div>
<div id='permalink-msg'>
<div class='screen'>
  <div class='alert alert-success'>
    <strong>Permalink copied!</strong>
  </div>
</div>
</div>
<div class='chapter-content'>

      <div class='chapter-title'>
        <div class='permalink'>
        <a name='top' class='permalink'> 
    4.4.4  Implementing the Query System
        </a>
        </div>
      </div>
      <div class='chapter-text'>
        <div class='SECTION'><SECTION>
    

  
  <div class='permalink'>
<a name='p1' class='permalink'></a><p>
    Section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF> described how the query
    system works. Now we fill in the details by presenting a complete
    implementation of the system.
  </p></div>

  
      <div class='permalink'>
        <a name='sec4.4.4.1' class='permalink'></a><h1>
    4.4.4.1 The Driver Loop and Instantiation</h1></div>
    

    <div class='permalink'>
<a name='p2' class='permalink'></a><p>
      
      
      The driver loop for the query system repeatedly reads input
      expressions.  If the expression is a rule or assertion to be added to
      the data base, then the information is added.  Otherwise the
      expression is assumed to be a query.  The driver passes this query to
      the evaluator
      <span style="color:green"><kbd>qeval</kbd></span>
      <span style="color:blue"><kbd>evaluate_query</kbd>
      </span>
      
      together with an initial frame stream consisting of a single empty frame.
      The result of the evaluation is a stream of frames generated by satisfying
      the query with variable values found in the data base.  These frames are
      used to form a new stream consisting of copies of the original query in
      which the variables are instantiated with values supplied by the stream of
      frames, and this final stream is printed at the terminal:
      
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define input-prompt ";;; Query input:")
(define output-prompt ";;; Query results:")

(define (query-driver-loop)
  (prompt-for-input input-prompt)
  (let ((q (query-syntax-process (read))))
    (cond ((assertion-to-be-added? q)
           (add-rule-or-assertion! (add-assertion-body q))
           (newline)
           (display "Assertion added to data base.")
           (query-driver-loop))
          (else
           (newline)
           (display output-prompt)
           (display-stream
            (stream-map
             (lambda (frame)
              (instantiate q
               frame
               (lambda (v f)
                 (contract-question-mark v))))
             (qeval q (singleton-stream '()))))
  (query-driver-loop)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaWH8XqexNtsyy4io6xlurbU5qj6ipUUKc3Etz1GXJeoKMp2cXprIBt8CxeiARXySVDfZaQbl2LuVHP5-xEnAmeQ4pZywTZQqsYC2FFydy3WqcYEO7FjDrNrmzBR4jrFAubLoe+ZFClwvuUS6hNi6zgpeQih0FTUa0phROdFs5MWmhxTgPAfkGD4GYGwKAcBEDIHQHwAATB41mT9HDOBRoVbwbwKXCNsDtMoB4UTGAAD56psk-RGKrdWgANUauw5QKiiGGLqi1Zpu67TNfqw1jq7Dy0KtjN43zj4I0kJ4TwxVNZmN8eQAAFvcLYng35JTAX0Q6x41UADJk2gEjZINBarlI5tABGqNAbfUbPAZqgeurpYaujUGkS41Txt36tXUajKGhNDLWqit2cM1oI3vCtoPS5UiAuI83Zfh76VoDdWkNKhTzDpGA2oCo1Z3mzqEyu+fMlpdsUD2xQm7t2vxCo24+S77ntsiBu213bx59z3XKA9vTi19HZSSqRcox1dzsFW4NtbfEnifail4878WeL-ZIiczby1ns7RerdV6d3QZvX2u9QHWYgeUVpLlo711QczTBzeuHe1+CQ6NC4yKAWgcWWuyD8b-WBq-aG4ZJ5SMcvmIB0aTHn1gZXQRt+56cPbt3bB-d-a2NXH+cx9DbgYGYao7WdN8HYMIcI-25Dg67AWglPM6cEHQGyZo5O79DH1MYwWbQVjx8jOOQHgaIBPGxntmUFxp6pakiaAE3h-dTNRpGZ0tpkw2HL14cU4RZTxG7ADP9pbV9WHqMfonXR6dP7wvFzLGZh9czwZadPTp0ibnuMhb9SI4GnJjOZaizJ0ien4vEL2V7Dyv6yQgwSFyDLkNUsEppnSLGWayvZbrnI6s+V8Q8GE8fDrJNklZb8-Gx6ph8D4mlSNh9Y26bVek713JoxZv4gAMz5YfQq8WXNJtxt07F2jNb6M1ZPNAtrnjxmMLzlbN902zHXY5uGRen9YGLYJdAjhJd22BHK1YXLGjPPHyTv9kdsFnuyc3VbcHaX2GDMAZLWHpFFOlMPftiBAkoHvZfiQ9HJae4EaxwugrmsYSEM4Wj6Lp3NXOsx0hlTJbvG+amwzz9F2EsMe8bd1m932fHaWrWk8-PNA+uxwS4JPnjsnZy-J9zt6i0EqHR2LsPY8Ii-fbYbnU7VsNXAt2YEAuRB+RK5DDnvGAt5cRwSz6Ov42g6C0R4+K1PrUG+rZmLjPe6KC9+T1nBACGrW8IHn3cPoMR-t54wuYejQR+J3m2DMfD4CrakKkV7BxVcClWgbbA6S2IxitSWNS0Xw5tUiX0Qqu7vKhwsWxQlnnKGk0FUkZ62xf8UEsJUSxbF7LJb2YFy7fQlFHedLzxFwe9CRMv32u+Fy+6-17W-ADVZ9978mbqwFvh-WaX+q7OM3Bvr9AMN2PrMLc+fwMvl7y4ttn4W5f83bUXANMClZW-R-7+bdP5oXbOvQXBvAbMBGlWgDKO-WTMXSZSTT7dKMsH7afMLCOe5OOH-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-KwHkcgDqHwME6CNaex-kqxvWgwXecRn0sxmhjKk4-hiUBwIR7GFmqu5xifOYg2GhnQE8CximswUWA0FgB5ZiXB+IZ1TcBKLR0nE8dhi4WtNJ0AVNX0DWJk7dNJvQA1Dh5U0p0AXavA4IH8IeZCTdPJgok8OpmyUIJByR0YNBicTBlMNJimQWaEDXE3PCPJgphcbuMtC3TTK3Up5orR7x7YkJvXA8BJpptaRJmNSSeEhcDY+hjM1cNuOqWuS3RkKp3Z+0fZk4lZ+JuDMhvuT6eZvQTYlhH8LJs0A6AsGxk8FSxxwm75iieJ4h4UBNeSrZ9JmJ6xm0Ii+Sz7WtDZmNec2DUpgF2JoFtZhKF0MxiFhpk8AAcnoc3BocJfYaRJuJtDSeiZWbDEYBtFpeqpsNwr9z7iSHwfubQQZaMYXDF2GDGFhMcoamvHIFhKxAPBFYaiRjuB-BBcShCY5cUC5eRbwyVahbicxfYflc3VVe3VVZpY9DpbRJEDbo7tIC7tGBekoiTAhi+mScxBGa10ZG5Ehd5YddN00BmZayddpG5amPsxNZhDNcoBFlSita9FhEcfWnyDYeWBJGOedYabFzqcl0cyOaEJ9axcXvyFTKsAZeKCfGpDDZtedYpTDmGZWMdcOGdbNNAFdLfz7JXMuNTdbRaE9anCt2rZATRutdhGDRgk9hZrzYfALaLYjbCdtZAuINamLThXUdhfMg+Z6FCBUM3TpB7YcBEhghulBzXfDY3YTxjdBYtz7NzV+bkUXbleYD3b7bWnYePa4znYDc7uDYtbgIaZUPvfsX-PDv9fbsDfNdDd3YhkjYnczY-frazKA97c3bWnfLvLLecyUGrfpNF1e2TZPmbcQ4nbcX4RQ+zm5DcUnuPg6i6lte4JLRUITZIc3So9Becq+iPKvFvCsFmdZhI7It4drYgJ+LI6ZYo-Bdo8Sm3UE7zHo+5EY+ahY69ZEAQMAUA2DzFcYAnHIGoG0nuEzQmDQRLb47zU6iQ59bncU5FeiY08xF7aU5UR820-cajxw1k64Ww-TzAC9wPFhS2H+EJqwTIlPKDXIGgrgrYFIHDXbANFAG22QgcAJW2wLwL38AU9hCTEUBVFCdMAGEYE6TtaZNS5GIy-adAAVrGEGY5hkCS9EFCc3U3Wy-S53kGIqaq9y4XGQQS9IFK9Ce3Xq4Nhzb9YYXc7uHnopUiSTAxF6+6lUjF0nhG4XnfK82yDyBJOS9sB4E0AW4W3vI-j+NKBG89ixES4W6W5TzwxaT13+SXJ6HVg2624KIK5rerNkwK41LtgqmdPtA-nq+2+a9a9sGlWVYcUIE25O8ndXJ4je6u5Mnyi9TGBu4-Oznu-ujvMETNCWna8mBy8B6iFjPR+VjSGI3oHFc+-25W4cMoLW-Jou-+Xe7oF27K8W5+8UCO5G9O6B4i7+8u9zWu-vMRLMGO8O6G8qBG+-ftBUNrT28JvBcJ4rI9F5utvEtg3p4B7R-h5dPJpB8vKp4om+4O9+-+54Ye6CHVhB7Z7B4VkVvpP3h6FHO561-56wDN+DJUJUPF7jgF5BL3RZ-l--Ft8e9Vg5-N65+R7S7GCJ5qDR7AqjKx4pIfUsvkCC7oSh6WjYBaYxLm4vZkST4KGmViAT9PcKgcCU5T5MWsFx6U4uKeNqhYAk+Y9ABc6BQvJG5vM1LCNIij-ICC+YvJur7c-J9UnuxG-nv-A-l889g7+U-+QyrT-yAbRYq89UmH5UV75PBz-FYbRMJANKEKnJC8C4csXkIl98PI7kqOlIyD8l+ibX+BhYNIxSXX5VQXs3TP435jVP+v4v8kyv-P5jX3+3Xv5v6f-f-rrrFfJH8mAwRffjtxa5ADIi0TGIhvSAG4FIi+-Coqv2f7eBYBlBD1u4S64kYZgvHGzsy1XxmJxOtTeTjjwlpUBTohAnwm0mPJz4RIOiWwMFxMh3BGAsaUaAMHyDDgDOCPB+EMx+ATsfexgAJMgKCTID-+dET0rSHQHBFde62b-l4HUYFd6y+XagX3joEMCxgTAhjsAMDLLJYgbAm0LIP5JRwDBjPdHrhwQ6UcM2-AqdioT0EKtq2mgWwcJwzYK9cOXAmWPGgI4Vxw+62Wwc6y65XFbULAe1l1HnwTBpgRQb1PtzCFmVg0dAVbjp10rKBhsDTaIREJEhxD56mrcFvDmGzO9gaSjRGIEOCGxFUh3qQoYkEt5JDfW0vQIKUPSELZOOhUA0HcHboApwhkQzQHUPsDxDcBJOZ1HQGSEkMuhGQsDtkOgwDDfW-XMak0IPAtDaIdQxQMMOlTz08hC4KYYlQCEVC90w2FnE2nKFBD8A0wVQPZkYhiNG+u+I4cZGLCmBEgtjIoRHRICS43cD6Q4fICuGbCEmHwzLv0P2GQtSc2TEYLMNtTzDHAMQtBPdHhy-C8h6wggJcM6DXDAhdwrYYJl+G7C+kS9efIhHFpyIrIQA8UNDHgEHJyaBg4QX-wbqACWGO-SAb0NAAkjQeEwY3oVxIbQC0EeI+QJIO0Gxs5K1jA8HWE8ox8DB9yYwZ0PZFaDfCXXXUDyKLD8i+ikokUQSPcL783SLTfAFemKgbE8WqozeOqPYbFc+4co0APiL0ANM3SeKLkVgOPCSjjRzIjESJCxEyQcRyIA0fiI5G+Fsmdge3vID0CpowWR0I0e+zeG8jbAMo5UlaNWFmht0Ro8MUSElEGg+R0fPoquy9HRiDam6KMffQ8jAV2GJ4LUXcH5b+CVU39WxPsKioL0VC7VGEaTiNZ8NI0yYTEHWCM7nNzOLwTQHmwNF5tCR-icmjKIGx-FFInsWMUGJDFtjRRjY2gHvRqELgOxGAmkT2KyhztcxOokhv8K5F8kixDKEsXON5AKRgERHB9IQAcD-8Jg1IZvF6P37GowSCrK0dWNAC+cERtw5LgTzK49Cgg63T2L51a5Piigz+Gkd-EN4MiIefoUnM4joCYCwehbBbo0FPF7kBB5NZLp7CTG7jzhfQHRK1z0BaM6mziZLmsm-qgAxiAACTtq2AAAguAHAB20AASmMUgAAB5V2sgFUhGFUK+AMwEFzM659aEg4ywK6IXoHiqK4E6CXGMhZ3j1+NIPts2LwSCTeRmbO8TIEqBjj6A0TWSb3HYnitJJC9AiURNInkSqJtE+iUpK56iTqQ4kjiZJK4nEAF6d4j4ShHAm2BIJc2cyTdBPAKTXwHw4gRDnX6qSLOyScyTxP34fC6IRwlmk4nxELEaqFxILpMByD1ivJeEUKeX25FxieJ4YliS3wCoKSjQvksUSzlwlSs46JAULqpAAAMxhUaEVBvDVgFI6nN1hOEoBoJy8VU0kAVIPCew8pTUwEQpW2I8APk8aNqQMGamMBom92cqT8G35b9-kmgNqcbkrZ1g6pZY8Fq00+wqEppNUlRHVNp5EMbxpgNuKNP+R2BCosUKqbGle6NTppsKOqYYQ+KVT9EZ02qfVNtijRCh9wG8DIBTDWdlgGqVCSW3uiKgQCI0y-oQJWkVtzpkPJBL6OPAicSGKhJ6bYBenSAUwNHDNimMCAwy4ZKYJwdG1lbOgs2hHZCajNemHTWGXXCYCEM6QrgFghAiAYqOliPTTAz0gmXvzcEIcvp8ce0GuXdAlcgBvhKHh9Ozg15pBZUVwcsgCSkiH+og18lSJnEFxs4pQeQUbwh7ylQgqo1WPKViD4z4Zb-MWUYJMGOkbeivb0gzko7WjbIoQdWQjLEKSRymZs5UtzJ0EEASkteLwaHynbWy-Be4hgraPrrOBBIDIf4ONI84Vk-JRIgOnSNpEiDyRVRKmVILSDqwSRNTdnm4KWgkBDiwYhMZrPbJGDkBN0DMVEGqA8TfwjbeDo-DsCoTqgUsZWngEnhVzHYxIoQapEFERyy0ec7KQ9yWhxz-x4PRWD9KUEpyQxR-HOcYEFGZz3+d0XeGPOMCREwZLI-2XcCD75zlYZgniCTNQR2BDgzcqOYGQ8KVzq5vM+NDmLVH5iF5T3e8sbFtEzyd+zc6kVXHvQEpk5txVOWlObz7d8gGvTschOVGntFx-LTUQfPz5aIxAHM-Uc-IWwmi5C7o3gfkGGyNsWQLIr2TqF5Jwg-ZkCwmq-PcLgLUJL842YlFgVYifZiCvri-MJr7d4B3VMAFXMnjgL7eUCn0ahHBaYKGmd8iiCGO3SQLqh6QFhQtmRlRBGFD8mPqu1yEDyPgq7ThYIpLLuFM2+87UYfJvnIFrp3oZLKaXPF4UqsPgBRdDHwJVSiCGwKYAeMZB5Tb+SuPuPos45tSfM+ipRSy2VLtcjpWMlkLy2kAvSigH6JGBx3YYu5YMxim8XXQlB5TCZO-EcVKPqigBpxIA4ObJCmC2o6weU1qZ0AHi7T-g+0hYPooiTk0eF841SCwh4XDiDWpdQMdxIHnaLZAVuCJZQn0VcKegISwMj1Lu7EAU56Sz+b-IaYri6OrKe4Ayz8UhIwkJSqJUdJTFrizAxYm4QkzSXbj4oX9MwHhMIm2AKJZ4AADJ20GJLiXuKVIhysSAqeUzKXkqCVvz1sfEo8TSCkmWBhJhk8CcGg2WHKLJ7DZSZUHOWcdrlcio0BpKmUzL5l4AAyaMCMlnKqpmywJQvQCnr1wRBkKySWKMl2TqeUExyeUvSAaK7grk-YT+HDHAqhlGVdDjCtEBwqhlMrLrnXXOVZSdlcZe8PsMCnyBgpBkaJWNQuLeK5Ffi0XoEuSlOJUpbE3FVsp4k3i4QAkfRO0oCVJSxR94lgH8qJWvDjhnJMRQPEer3R-lp9UIaCLSE90FwCsTdhJOSTcreR9KjyDCJxXfLFWOSnUCyuylK0-SXwrrlTFQY5LtVB4UJoat+EDdyaroQQO+LMBbo9O5qw1g1BNUMt6+U7O1SQDlkASu5JDdlTRVNUWqXVlq78r8PYbeqFg9nI0KqytVDKbxFwIyaPytEWLyW3gRCZbL1QoTsBmatlSp1MCxS1ps0gSQpNjQIdk1fsstVDw-jwTVIoK+yQ8iVUWSHuH8aRoeDLBFrBlgQ9Oj5CRWIjkuRuZtRisCGeqgg+QLBK1yHWmTaAI6xIIPkF7gsFJmgGEe2u2kfRm1fKkwfrJjJT5WYKgEYhMkakN0jJfi46eTXMmexCluiw4MkpjnFz9l1IFNVstZk9Ba1ZXT2A2vBUOSX1ra8mmus7VtSPhvajyP2ofFldJWVUudSwDHWBAJ1eIQdXgTynQaF1ZoZaVVJXWdUAN4iIDaiJw7HzpY7iBTmMBEhtSRiXahYGWosW+KqNDTUzjRubWZtTOCkptTOpbV7qwIJGijaxrUm0BY0B6wtQpNEGnqy1KSgOhUEVVsackmkkiWRMonUS6JbytIDJu0nya9JiylQsuuQidUJNFGrHMhJPC5AomHG2ulxt8XmLpYAmo9fohPUCS71r49vtIFI3fLPYMml5Qstthua5lCygceCzymYbHqumjZe+SWiGacgxmmRfKlxyGkgYtNNqF9DOHrZEhs0TjpDg2BxahACWgxThhS3RN486W3CFG0S0ErNeWW6JkLHfrGUMti+FLRYqZK5aTNIeV2FVtwhZb9+iM73HlvYQtahARWhehjKDxlTRAngBsCJHaW1adOHWoPMHnS3UADpBW3ra6K3UWKtysW+LQttvqQt41gQ9hrNoOn5baA1Whzhtq4RsKZkbSs1WlsO2taTtP0G3tL222JAWc8GjKny1hLuqcl8BQ7XNvY3B4qtP2xYTYCO08xHt-KlbZVqB3xaetm2ppSPHNEdS5hbQsEXKqJAfaQ1kOaHXiEx0-ReVXwk0J7xyqdV-t+27rZDt62A66AwO0eSCVB1IYXthmxgO9taXBq6WFlIHT9qLru5htp0LyLjutU6cApQq0lfKqfIJV7tywZLczvaVFQRtwjFnZS1g5QqzQ-SlThuORXAV-ABOlkCru7W3DJ5482IKTnx3pBadTMencKyZ1uAGw8uz7DLobCc6H0Yk6RqjHengVWlmg3+v-SpBANcQN4p9kGxDZRxedtO2GJ+UFVBT7MNkZUfFRshO6sESgHPmIjIGox96iLHHZQP3rmIPW+VDMfR3EATjJxeBC8ExxaiSjsyCld8ECVeZjyCdJ4f3QBxegysFmJ8QsQMrV2IjJ5nzJZdIGd6m7q49O+vS+1SiW6vwCgG3ZoEH2B7KCxhD+EqELaWVwhnsAAJz-hRoC+synyuUAsDj46+iiAFIpA6oVAmgCyfeQQ61lCM95IuchCsAFEipPM2oTYCsqKB8W+LBqGgHf2wbBZBG+6LvoVYqAdZPQXfXyvroGgkRQQm9DdCsAfgL8Ts3dUECAP77QDPMOfeMEf3hCvFDisys4pijNxD1S2r4UqPDVDKzdk65yZgacV64XFI+0cOPrIjkHsD4o1ClBzsDtLCo8GhwgeHKBwgXGYSpSK6E9hDtHwWwQtswdPGGgE9xAeDTQ1-BYr71yEbCIwC4Oa1qmp7OEK0RFZQ9f9mVSvcweCU5LC+UhnqFlXHqmhf9+rENa6BChe9KoGPdWEJpU5qdMQJG7GJYah70bGp5Gljcxs3U+ZXDD3dWAoaUMdQVDqka7NqLnT37jAWh98DEcvK8bTNmnIwzEf6jWGBEGPHdekGiMxHK9DLJKH2MZrZHkjaPBAyWIlVErhdBkaPfKXMN0sUduxRPdsGuCoxXQroldfnoICdVdA1QtHbUZaMt6vA64zfVWOCyEdhozB+Xc-qM6KBJxAAHSwA0apVIkBw-gBGIJMjdVVPKpJFsiv68CahlLKxHGPtL8WUx2Y-MaqkPJFjeuVTiscYAJMVChABwjdFCb3HNAAALxzqgA5jUQAFVcboirGs9Gx0AO8a2M+QdjYR9Q8v34Kh5hgdAG8DqjYNYJz1Adfg6pEEMjtRDjkBwDZKkMwkZDJgx8gPByQ9H6WkuVvarqGO7QTBjJZ1D4RZLDk8C14P1mlJVSGj5AkgLJrvC+bosJjDRkYE0aUB9HvCchHHQCe-xjUujbfAOgidGBrs8cnsE8LkelPRBjNwePNmMF+AKHCy-XXgwYen4U1WA3daU1azxzvkz9zqaU6+syNoGzKGVWIyjBGJ5o1mhUUbUYc9UZGHytqgQzquHbCHR2my8Q9ia864nZDywLI5XvVOkUFKHJXU0pEKOf7DR1pm0DUfpYAHuBPG7yXWAcOlB1OzhzlpaY+DuH9Enh5tQ8i41CbfDqZqIFoeInNqyIuZvNG8XxGSBaRqRNAPGfdOhnEztpwo3oYtV5GdxDAQo++FhLxn4DiZzfU4gCkVGRdYqsXawmTPWRx5CEAunydOh9HKB8hzQLYE6NS9bIxJxVqSYGNt6KTvcYLAr1NBqmNTB4LU3B0PiXnIzN54wngEVOSGsE0QNxngB+PLH-jW1JeK9nZMNRSgsJUgLCX5YPFnz+hrKHQGiD+cvz1x-4+sd5awkgLG+UCwiptoAW8CKFvAiBYahgX-An5y49+duN09-z6FsXNhd-RoWboSFwC8BeosEWwAcFv4yRdotYXyLr2XC3gTAt-n+qmF8XPRbwsytYLRF+C6xbIt0XULNFoyhxb4vIXBL3F4S4RdJm-GbjCTNiwJdQtCXIDu0Xi4dX4uUWuLJ4fC0AA')">const input_prompt = "query input:";
const output_prompt = "query results:";

function query_driver_loop() {
    const input = prompt(input_prompt);
    const q = query_syntax_process(parse(input + ";"));
    if (assertion_to_be_added(q)) {
        add_rule_or_assertion(add_assertion_body(q));
        display("Assertion added to data base.");
    } else {
        display(output_prompt);
        display_stream(
          stream_map(
            frame =>
              pretty_query(
                instantiate(q, frame, (v, _) => v)),
            evaluate_query(q, singleton_stream(null))));
    }
    query_driver_loop();
}
</pre></div></div></td></tr></table>
      
      
      
    </p></div>

    <div class='permalink'>
<a name='p3' class='permalink'></a><p>
      
      Here, as in the other evaluators in this chapter, we use an abstract
      syntax for the expressions of the query language.
      The implementation of the expression syntax, including the predicate
      
	<span style="color:green">
	  <kbd>assertion-to-be-added?</kbd>
	</span>
	<span style="color:blue">
	  <kbd>assertion_to_be_added</kbd>
	</span>
      
      and the selector
      
	<span style="color:green">
	  <kbd>add-assertion-body</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>add_assertion_body</kbd>,
	</span>
      
      is given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
	<span style="color:green">
	  <kbd>Add\?rule\?or-assertion!</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>add_rule_or_assertion</kbd>
	</span>
      
      is defined in section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p4' class='permalink'></a><p>
      Before doing any processing on an input expression, the driver loop
      transforms it syntactically into a form that makes the processing more
      
	<span style="color:green">efficient.</span>
	<span style="color:blue">convenient.</span>
      
      <span class='comment'>
	In the JavaScript adaptation, there is no need to precede variable
	names with <QUOTE>?</QUOTE>, see comment in section 4.4.1. We are
	using the same internal representation as in the Scheme version, because
	this way, we can distinguish the name
	<kbd>my_name</kbd> from the data log list
	<kbd>list("name", "my_name")</kbd>.
	The original authors were saying <QUOTE>efficient</QUOTE> because
	of the string manipulations that would be required at runtime.
      </span>
      This involves changing the 
      
      
      representation of pattern variables.  When the query is instantiated, any
      variables that remain unbound are transformed back to the input
      representation before being printed.  These transformations are performed
      by the two
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green">
	  <kbd>query-syntax\?process</kbd>
	</span>
	<span style="color:blue">
	  <kbd>query_syntax_process</kbd>
	</span>
      
      and
      
	<span style="color:green">
	  <kbd>contract-question-mark</kbd>
	</span>
	<span style="color:blue">
	  <kbd>contract_question_mark</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>).
    </p></div>

    <div class='permalink'>
<a name='p5' class='permalink'></a><p>
      
      To instantiate an expression, we copy it, replacing any variables in
      the expression by their values in a given frame.  The values are
      themselves instantiated, since they could contain variables (for
      example, if
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in <kbd>exp</kbd> is bound to
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      as the result of unification and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is in turn bound to&nbsp;5).  The action to take if a variable cannot be
      instantiated is given by a
      
	<span style="color:green">procedural</span>
	<span style="color:blue">functional</span>
      
      argument to
      <kbd>instantiate</kbd>.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (instantiate exp frame unbound-var-handler)
(define (copy exp)
  (cond ((var? exp)
         (let ((binding (binding-in-frame exp frame)))
           (if binding
               (copy (binding-value binding))
               (unbound-var-handler exp frame))))
        ((pair? exp)
         (cons (copy (car exp)) (copy (cdr exp))))
        (else exp)))
  (copy exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPE0GJWqC1AFIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKBl8JQAAHy14zBY+LqpfV2WYh1vXUhYfB8A4IQ1Y17Xdb9QX0kyO2TdiM2ndSMcNTd2nDoV+4xAkYQGG3MFpcoHY+iDuWE0FrDI-CAAyZPen6QYk5HdkY+YMR7ph-nnY+r6s4G4GBdSPOQ7D0E3asugS5qyaGfMQxfGV62GHwUXG8+v2caC7aiON-kIoDyuGAtagxDoT66Aj0eqKCwXq9qWud0jqzp9n+edP2ied7n4gF6FjvLf-JfXyHjP9BvYekz9yYD9bkG3Bn4-T-Rgfr4rh+7RHhrMefNOKC2NEIGcFRlBsB+llOgP9lgryruQYO69w711AOCcBp8oEwLKvQZuhdOLYMgSYPBcCz6d0vvbX+8t04jHvrfQBstn73QniQhguDYGxW-mXRBf8mGP2Yaw6GE9Bbgw4Jwsh3DnAINiEgoONd0Fb0wRIxqXD8F0EIRPNRUjoEyOyu3KhciYg3wYY-f+1CWHAJ0T9Mm6jpGaNOn1ExuMEyWLvo-JOwCiEeUFjA5WwhyBi3hoQQI796CuIUWvUOyjjZWQCSwIJISwnEAiVol+sM0QfSScE9cWNJBkEMFEiuNxsRGIvt3XuJduAeO8Zk-miTkmW2EL4EpdCPHCJ8WI1IIkhbMC0Hvdp8dkGoNiXXFR4I+kfCoMQPe2jX5uKSCk8JhhZF8PkQI8xdpvEFx6QwN43FUQ-ARqk9JwzAyrxQUoiZ8TQDGSKFg+gRznAnNCas5wCyskqGeSshgqTM5X34XQ8ODBAgyAwXiBpxDfmnNIAc+gxSNmmIrqC8FGDSRsMWYcv5nRF40OBQmNFlQME6H9os-WbRayOFLkCzZdCrljI3viqOmDjDtBPsoYgXz+aE3ZdSrlbswjL1RXXcE-LOXcu4JHMIWLvkSppf02Ze8kVX1iISragidmj2hR5KopAPhKsGSfFlwraHuNvjK3V5hwkzhmcaheqqZZmo1S4ZhsrREUtSHMzQuIFWCqtSKhlisMhWI9S3b5-j1h2oGXMk1QqhIKJdlkd13SvVNS5F4VxSzA4xOZRg8E7APBeB5ZxQmRblBZuRTm4EYqK0lulaPOV-N61NXwK07NZjBhdL2emjQhAQTclRBc3N1y0G3JltvQgA7qBDs+dalwAcVlpLWZE6tXbPHaqAc2ziP0xBOpNuazV2yU1eJ1Qu0ADkp6kH3foIgLr6UjLSKGu9hBw2+PMPqw1e7X0PpRR02+96L22uvbeoDQaEw3iA72yNqROr6FOXHS5oybk7lOVZYohC6YByZnIFmUA4CIGQOgbmeIQEeXFjWWZGCT6VkTRXSlIsxYSxoEbDWylSjUmNspZoxd+5Jw48CK20lKGVN4efLuPc0glz9twWjUwVi8dSBwjRcC-aCcowuFTji1MqPkzxyeujVPDoE86UomnTqo0kcZ9Zdz9POiU1Pd+u942mcVOZ08Tm1kuYXjRugdGDNgOedQY5C44Urts+xszLRPOHJC68sL7yItrrs-5hTJlJ5NOCeF85bmVilEJgHLcOTkn5JLloA1smHlXiy22jtSd8J6WmPZxUjn-W0qi+5mLPx2tGCpZKo1cbHWyZaGlwLFtM3qeixZ+tfmAsOcntM2NQy8vyW6wuJbyrXOpfm61ye-bB26dHoJg7bTNMdC0PoJdOXV3wIa6NujjW0Kgqk+jYpe6D1Uwe5MAzZlggFtsvZJyLh24L3IPDLyPlzuzKw4fadbA2nIm4B9oSA4E5dQUPFysjUivIkmDjf9CZTv-Ix1jnHr8rsOGRzej1OZnz-DR8pxQhB8DlDehTvH60YjvjSRkYq0PLtLpaYjhwVNquxgRkjUOtGDz0CGeLtCS6yufQq8UvHT2mvTA+xrzXRRrv+dl5-MEnOgL+gY704GzjayjBpGwWW1XSh9PRgihe8bwl8-S3tn2oZlgURfIaP7m4keYMBw5Zy9NvmUF8CQSHgh4e+BqjmaGH60SgiqVbtJCHQmGDk2lgnQUr0faz2+z3JRL2hrks0LCAuvpfpnD+05YRc+PYV7Ww1r2GLFJA0XxvX35Pku+RZuLoXl25Z20h3NpBrc1-0DiuFJPagjf78ZDzVHLtz-eS7z7zfS9NHWxdr6G+wlTzt0vtLMH+YWd6zKnfONGdiwUL6oW-WaUJq54+wM3vNTkj9wz4U+go1DV7UhtTV8coIVggoZ869BsVtjYm95MAp6cCdYhGxoDI4M9GQHkoCDwgDltttnUqYECVx78nczo0DjYM8wCHkgpyCZYM8mJChf9kDhIK4r8X9BVW8QNgCVUE1OAiCswf9k8J4XtRYHAj5F8+40kJ9J5k19BJClh8ty9MgVwq8NwIRIQxDnMNQ4RuARCGBNDvNfYbx5DWEyJ7lx5FlDBuRGBWdSF9FNFPs79-9KUOVX9vFmCfl3gBAZVGR2sYCTVPsGCP9A4fUo9n9XCA04Dd8ihShk0Hk1hp0T5M5rDu5+A9FyFUQ1ccCY0ttfMrUxdddqQUjbD0iDF3gBJbhGpetW9NcuC8Dht8jHxQAmDwDgjJ5tN7CjtOtot0EOiMjyoKlrYn54jDM7FxRSjNEptVwFI64jMdNYpBirEfsrxmhk0AohDFkZtJs9M88oJGxhdGRW1hc-YmJGxuw9RfDii0ibNEVlp21fBTdudEUBADCP5agmYgQ9DXjZ5F9zjac2iZ9hcddnRJckixYDd5AjdbxuQ9RuBviNQc9vsB9L9PNNsHUWVb9y46FCZSCXEFcZ8+kbtItZZgS9J+8L9OILMj5YDJ1vscZGx0ZGQZ9qSTUM8z86MmIj5RMu5v4WTT5FiRt0Yd8mIgp0YKSKNPM5jOiTNx8cYuTFi2SpT+jDEJMljSSZ8lSyi2T7t5N1Tz8zh1UJ4h9niIEJiujWV5M5StDuSFxv4+itSBSGsVwZ97SnFeFR4d89SOTk88AcNmYlACN2ZiMuZLByNzBV4p8vp4ZpCIdxJ2RIzxTrhKj2csl9BldCkDVuAgS6SsSiUxVchH9WcRAUyCxwRST0JYEVciksz7jhTPVYMEVCy2dcdpDGVUNjcrICyWdmzX5S09VX5-lKyMy1dpDiUIUZBuAoUd1+ysk6tEdRy090UJzQBMV6z+Z9dKxDchkZAFzDUlzuAyVEzRJkzcTrc3gkZD1yQgp0EplLd0YyzPCLyL1BZTyvp0ZWyUNx0dwhTMFXy+ybU7yGIXcLzvpKZB4tlu1H53zkTKTHAvg1k2pwTNzIShlLTczAwbwiCI11zsi3oCkENdiryIKCLvTsLYLoF8BjAmpEcClMTCgiK6EsJIY6zzhGxKAY5QjcQZcUKTVGQ1iwzjy7hIYjBVTES3tpDE5RLepax30J5IYbS1cClnh6K4wAMRgaZpzP0CkM9FKS5lL1VVLINH4NKNjB9EYwTuK5dXMpKKZESWB1hGo0KGKiUT4xB2KRKqFhU4yOA2p3LTwFDosCZkzhLFixLOgm9QB7KqKWs9sfK3LVAPKL5hUAAeYEVyvy8K6ImIloUgcyCEAAFStlABuDoF8EEBvV4BVSbHh2oFqGaHBFAAAGp7lCiDY5ohQ2lQrwhmqHyGrmqajCg2q2oOrQKJhqtTJcr-twRCr8B-piBHJyqxBKqAjqqZ06rMEmqWrdchqxARqurNrerNqBrYgdqRr-K01vk8obTtTVTMTyQjT-Mw4rZsQnKVgJ4rDbZQreo-1nQk0X0urjrzNHr0RsRjrChOV4KTpLKoTl9NdmhFjs5toAbCjZhb5zqwbQB4brDN1-xRKvsbxzrHjWJiD-9aNs52LHLH8wjoa9538GhA9ErrYrJbJLZyhL0m4ibGCkDWiGhUCClGRoDhL+C-QgoPr4F5LQqrslLyzFdtK3spa9LOak9GDnLAxaMnqiASKYKPJ5TVSbqqFeo7qkRNjgbnqtaPD3rsavrbK6azdg1n1XZka0IgbKwNbQbdcIbKKoaISrLfNYa0J4bVTEbLU8aBrSh4Jtp-Leosq9sxacbGa9R8aoLMqlbyItqGgBwya4yKaH8n8aaTVbbwbJrNxFjma6BWaRB2bPpY8+T94gi07Ix-dYw+aS4BbcKhb9TYxRbsaJbRKFbAYZarx5L5aaZU7mjBDDK1bTbNasKcBfTX5cN5AAy2YiNOZuZsAU9J4wlqBMcaBscSzh08cINkNFEvzjcqdMFt7d7qBsd-yXAr6ycGAd6B0QC1Mj6j0XAPFOcC5CpSc97ycskPi28wR0wby5gHzYg5hVwCiGgbyOQIGYgORoHgSbyMIEGeANxkHQGxVw50Hw4sHpgbznZQ0HziHMhnQYGigbzuJDAB1yAE9uAaG6GyrFRKHCgbzA8EHA9Yw2HYgbybh2Kp4WBDAyyBHVAhGmYVheGYgbzGr0HYh9B4ZuAHjAQAA+UACHZqlh6R4BiETyeRmIRR5R8IAEdRiHHybRlBsVHQ6YIx0AFR0xjR0ASEexmIHRm84AAxgwJR+xkxsx0AMASx7BnccEAAUi8bsYcf8dCdcdAHcbFXEnkcib8acbjIeKsZCYAEJJQkmfGomnHsmgR0ngmwRwRkqIm8mUmIdUqYhinCGxVkqAQDHkm1GnHGnan4mQnVGKnjHWmId1GOmMnSnVGmnuAigWnHH+mgRfGhmIRMmvGnHChHGYhMnYhoz0wCpnieA-6b6AGCwFLAQVwykhgM5uAH7-6D7GZNmvDtmd7H6l18AWAAArEwSgD4o5jQSnFwRx1BnZ2+2pLVLIE3Qe256+-enDNMSKLZ853ZrfZgR1RkdBG8r-B8r-HRwoqhsVSAOgb0ELBhmIbF3FqPdFjFvhsVMRhgWASABBilqlkl0l3R8EClgAUXQZZfpdJZvIADlyAuWvGeWuWY6MXrmqQYX96OFQrDmVhjnhRHHtodyzm-nGoSEPVf67mLmOE3spXpgZXWmv6LxQXH6VXIW4cB1cQxW9nD6L691mVpDidXo1RSAEcTonnyBqwrCupNB9BW8LWn7H8OA9437RcQXCgbXw4EQihTL+ZpwsQkKtz41pDQTiz87fMFd+0ki0ylXLmVTPLuAMbDWNWTT+S8aQ2Yh03kZfWHnnnXnET83fXNXO8OXCgc7OK42eKF5aYOABAc6xAvh7KwsfajdfD4xCA23fawRIX57AH-TWZCMOZMAMABLHyKBTAGAOUPhyobhSAs01EPzn1lZVYPFd3li1tOlk6rMHxurMEGA+quNDZdqZA2kj2xi-hn4VD6FIK7Rj3NKXACybhn8ystBAV72fqa1yBlBlBKqMhqMjBkcIOUmmZmr9BwPlBs5wQGrSh0PMbMErJNqUOm3nR0PG0QOL1UlKAo81Z73qd91qOF9yOVGIhoJVaQdKB72DqIRNq-3gljBAPF9jmbWyOo9qOJgDrrBwQf3tnJAwiKsFBkOb093ZC91ojMPk1dIMt-E64lPQBU5lIACQ1XYbwlPwgdYP346jPQBCnMFMNlODBtotO4zwRMMV9l3wOZx13Yot2s0lPjJmg9Op4aq51IktOdPVw+Na8ByiSgv5OT2utwQOPmrBPcQZOTmRgi8jOr3qsGrb2FSpNJCvn9nIv4FzP+rVwsvNrEumAyBZOPE0vov8dGrMuxOfPJP6PcpQQHy91FWpOkuquYu98E41DvPFDEuIQ0HdC647P5ObQ7QjOuv6PKvSBBJ339ZWO5o5O1oVxMOAByW9vdA6nb9906x99b0j+IMIjlUgNpC7hj5jmQl9T6A9zcbaa7gj1cG8oQYQXq4IXqhyHSbeNwYsXqqfDgeEPrsvEb572sS7pOu0F7ub6T3r99iH2+OHv8fQVHirl7o80AV1915QT1mcZ3MJDwFdYvPdg7WdNTRDTbxlinwLrRamCLpLc5RDUt4qz53H9YfH6gTQDPEnEntwYTsnsH2IRzPL6nxQm8zDaVPW3LmTRDaI0yUJbH67s+MHeGfnrlNwMnpwgwQWOnqn0JKg3mrZpdBGoEFcHL6pfua7Zn27YXoI3+gX4wUOD7eKT51X0HZgDX4nrXxEnvI3pWmggc839SNBmnrCbaX3lddeFHAFk9TN532PmnN9xTCPfZ0PiSXBiP+QP35P-dd9s3oOhzznj1nnwnhiNTmYDBg8fLhY26hXY50v7n3non3PldIXhXxXmvoPEP267ZpP13lPxAxuv-PXxWeXwP5A68sVaX6kWX63r6BXkfyiVoyA5XwQiwyPaPJfo38C+26vI3mn7aCXjLBm9DEPOyMPFwQr9kHfu+x8gInX9CwOQ-wgGzzCo-tP8-0JMuoHcPW-ueQCKw5FkFoYsOVEoD4AmojUAYBUEGCIZ9+kGHfjrwc5gDqoEnWAV5nAHZRjiCAl-qZyAHDZl+UbTiAbH6AKB-OJAYshUBgS+BF8hgNkDQPobrxDApIRASfVkIMCbOTAugaHFYFPAkeahJGlCjZ5PBWmZAj6JQLBI8D6BrHcgQhCMAiD82hRGQXwNJDPlXcTrfoPvVUGKDGGkYZgWoIU7-UoUNPVQULGJACC0+kfS1EoLQhiDHG1QCrDbB0EGDeB+gcwfwNe5+gHB6jCQRQKIhQoLq0bOQZIJkAwJ1YnzYPKBxoIRCkY-SQIB9Eo7yCZWF9CYBJ3CFUB4h-g5IR9GMGO1QhS3RQnETT5OCyALghxLQMXwPIkahQptr4P+hxCT4CQ8gbkICFnpEhgkYIZSXMrFkhQW+UEPGjUSMMqA1MJSvSS2bPRDixMF6IwGErDDMYelEUhXCmFxkv8NPJNoMAWFBJWUNMQQeRzICMABG-EZ6GyWehfYdhYwpYSQI8i8QKsRw0KAlV4gjDdh4w-AZDDQ4yAkwtQBqjT3BBfC9gPw99lSk6BplRhXEKgOEBp4fCYgy3ODD9DBEmwNhvQ0OP0MpCDDfMzwiEa8L0pwjBytfXiCnDTgDda+OwmzncMOEMBjhCVG8ISLZ6KgbwZI+kRWQOHLJqRKXQYHSOUFoRtoTI7kUPSUrd9-h3wz7tjwQq9tJAhiQoYowkpqEfGDQ5NNrXMBqATAXgKeIwDQHDpNRzgbgKryxGq8aYEwm5tSLBS847cjICkWyMeHo8oe5rcEdqPoB5sGWaEA0UpWWHYlHhpo23OlHUgAiOAn3GniUIyziiu2UozoRUT4jiN3cduJUaqCootQEYiIvdjtQ5FJjYx4gSQC0KSHdA2Q3QNgXsS2ZAM0oOIXMX4FXKT0Qc2cL-PpCUJsBsOhgbHgmI15Ege4SYo0VSG6CMgo+kI90U+ngzdBwgmHTDNh26AFwu2oAfKgAAlmWDAAAILgBwAzLAAEr5VIAAAeS5bIAgQ-FTejIEkBqAsB2kRmIiPuFXDsY+A3gPGJlDwwTxhwmzmlCfrXjY+API8bcUtF0Bu+D4zoAuAdHvAJOX4zIIeMyJiD8BU4mcfOMXErj1xm4-8ZmKbHPitIwE98dIQfE5CmxDAFsRCmQn-dEJzgTyP4JAHfJvQrvF8UhKyGHCzx-UW7v4LegRDjm4uHYZVTUY1EVRladUUBNkSMTLIGDVkXQEomvc9xkYjiW+PIlJB+JnbSQHEAyDKsiyFWRkAAAYTgm9GoI5DBTSTKBh2WKNQEGBXR1JuQBwHJKBDA8ZJBk7QM1TxC9jAwxkhFKZNIASdCYKkyzPYlJh-RrJBvLSZBFu5YRHOD5LCG5IC4UJtJ03LIMe3TGBBJCTk8UKkGqDZBpJ60d8OpPcnlRtJfFeampMkRJTso2k5KPdUWRyDGojkToFmjwErgFE8GBAQ8gKzJlHJaiYvAEESkBSPJQrbDiSM3Cn9AqahfKQwEKlsAs0J-QPsyMQaBACpRU+Ol3xGKnJ1iFY+MsQBGm9TYpHAdMRUCoGhBu48CC-gsMNFQQJ4XUnqcVNtr35ypxvJ2KTXaCgiFhD4DwhAQrisdaw9dViNzVbz7FphF0WYXhXl78T7p10uhCwCrHgRxwYNUoF8KjBg1mgu00aacO-gsAmiAhaCC0WoLm58RbUqEQRFKDgz5pJ-fHCZ3RlZpMKIvBbMDOMD3S2It3HGWT2x6bCn6osFnO-D+AuS0YnQfie2IECrDIqMwx8e9P7ibS3R5IAcFMMs5osPCQUBwB1SpHWjIZZ0c4U6OdExBTwn09Os0SQKHSERp4MAhizwCQhNZK4fYjMJemrQOZ8wxmYsMBj3Sgo-MsCMGABmxhSgIsx9mLMjH0ylw-Itma9LOEzCxc0ET2XmCUoTSURjsjGHLONlQwuao-AWP-mWlJFUgkSQOdzMVqRAAmYATWZCFKkVxhRgI0UT-kenfSEwmw-2YbSDlE1zgW-fmLbNxDsjCAe4X8FtNu4fCHOfooEYoTTn+iq+e+EEVkArlnNSQ0IgpHiPgwVyUZa2Smf0JplrI6ZHcngFXJ9mlD4RmENgciKlxUz-klFUeY8EIC-hx5hohOc4y1nTykZaZKFNp2JGpAsIa8mzqXPtn8RaRdgworSNJCDTCg589kVH2vkyyGgUfO+c7LeqCj32Tcn4Y2N6TSS1YuRS8tNLbJn0gF6JKyMZIf5vBoEl42RMZOkIeJEFwGdSccUQXsDA4shG8LRDin4yax73NgIVN8BVxIy8Id9meztAoL0xxOYJMZIWkYw9RokviaAFdF6VmZKgG2IwGMmMhwpJcSKX8GinwJEFpxLZufOjHFRqsj860Uwt4n3yTecFeBZEmgT9BuFcU+RUUDYUmzbu4is0T6Ikj1yAxxQivN-xYyNRruDCucrPi4XpS+Q9IkMZKMYA5DdF3onxOOLAkMAlx1kAADLMstxtYpSXJX3FRjpJxSd8UzIvFXiKgN45CTTwfHwTQ4xksJcws-GZjvxti4pBegAkbZQlIE27h4q8W+LwAsEmcAkoyW3ikg0hGieW0GDi5UJ0o9CZhIqUfiNFhQKZNJPwmFD4QpbepeGJ8lQKOlBE7oTrXjzlLwlBczBXe3kGZDIh7tVcDwscY1FaFtihhWc2YX8TS2gkg8UkuaXiSxRz9SRBYtkWnig5WYwSJMpokzL6JX81uostjDVLEi1AtwdUIIjEThJ5RY5RRILn0iGhxOHZZ8rEkFz0WEtOoRTLMVrtbRNosgD0BBWdD4pWzVoMiEZDFio8JAKFdDysg14IV0KxPG0URUOA-plsjUDTzWT+tzFkK67pRLOXd98V8CQgW83RXpNTl-g9MYLCbFLRCRkylbve1TGEjjOWsUYk91vh8qxRkAwIO8o5lNjkOpE5wOtHvzsq6Zv446Qoo7F+BGQjS8sK2KVX3TGwkHXKqyV-FnLtWTWXpa0O6A4TsBdATpZ0NxUNAioOIC1a+KtUESQWWEX8dwAaF6rwp9eGVWGPIFNF4ZKtMih5A+DBBGo1k16FKowUFibm74xkLArPD28RFvM5wkIuiUcqUlttRsJ2KBAarcQrY5CTqq2ZerWS1k-wcar0imrsx2wX8oMq6Vj17V5q2tRwGtXkCyyDyPydJI9UpMS1p8MtXUMLlZyk8xc3dMIESXqTgg7y6VbhPoB7t6FSqhWWXkwHzrfVH499pgN-HTrLVF6Ddauq3VOr1ooa8VYasjXXj91qIImlFDYAkSZ17wRkB4ognLjVxG44peSAfULin10E-xW6tXXdrWm1sG9Zav+KE5Aw4IDEOJzXKjrx1jwaNeSCPXhr1Jp66JQwsvVbMANGS+9dOM8U+K-FTEApThu-VqFjJf6xxuhqSVE0goYGktP-NzphE3gTzCnL3i5X6csgveDIbhXo2PRi8MQ4imxsg0eQQMnGlEMUiY34DP+JeCToLFbY0MGNqZUTbdzIasbs8F6aAjJq43ybpp-UiTfxoAqGo1Nwm7jdIXE2yVFkNQMQLMlDgWKNNbRLTe+k3r0b8AMUoTaYERKwr-VzG2jbiGc3DpvNAVavm5o+jvsHNMUwTfQFk0ubZ8YWx6E3gGpYqLF0BbzZFroDha3mHs50QFq6EFx7V4ID7r1Ti22iHywWj8YEsWQybHN8CfTS5qpUsqPN0mlICls4n1botNnIMSpAFiaCKhUiKobUqvD5boVV2XCpVrBBDaIqGWtLeMxSZlaQtaSSBE1oM0jbxtTWMbftGy3fdMV4K67g+Sm3Fal2Zm6jNrmZV1CLlhQ2iVQGuWrha5qjLAGYSKCKaEMG2yFXtqA7YrLu63GLa-MGpzRQxTi6UaPVsA3ay8DiyAT9vDF7CvZqxUNChAaBjb7o2W37nloe04ruAT2qGJvQRgmB+Au-d-pMpnwX8e2fbE5IO1prY9m+BPNkgdrG2ThRaJ2q5Z82MiXbjI6OyDpdk0jwsaA1GDGpN33RfZmKGNDqNTD8bKCGalYaWa-JshX9gcPEsaKQFjx9VrtXstpaTvL4Z5QeQrcOl9scVnL+6fIZrsmkHow7oY2WpXa30r7ra185KpHTjzdZc8yd75JSY2BuAa8mGtAxkAAE4TgE8Z3fQy12gdPdPEWgWcqfoVY1YyOg6amodqXxlVD00OQOG+ZSh5JhdWIF7raRbctuVkNABnttXR7V+DyZPamI+AwzpgyewPSFlVg0SR4X2FwD5CnIrgSZhQYvTRNL0l1uAjuzhP7voY0KiF9DUhdbg-hhrqtR294dpX8Gw7+AEIToMQp71SpMEfWy7h1y70kKmAkZE1osmj5uAXtbSaoEVBPBkBLYayYlhwtaCMhPevgdXpr1J75JjAABOgEVAOpHBQeTEAcNjlIB768WFndSGsh8r7wPCee8EN5B8hr6mY13drbfshz6MI2K4PPZjwpXHBFZociICxAHCGrIB0AqeGOsXytAo9obMdbYu7jwpN1u629VYswNj0n9u+r2lHnf0SRP9JqeEFdKT3t62kf+--T5F-GCB0DogFg95H8hwHV+bEIdQ0F-1cGfIwBiRUzGEPgH7pDe6UQ8honnaBRtyq7brmgP9buRrOiBN1EuytBKJHqkXf9BSZ0ZvB++WZBvvR7SoNdwOrXYqJERBql20BIQIYEciqwt9-AeFTcyP1AgT9Z+wA2CINRfQXDAgHqvfqaIt1PoQDWfVd3MNtRvtVh0NE0T+quxIYfm7KuCAcjs9Ixc0bEeQFkjQQq8Z3XEBYvUMLxNDX0bQ6ZySNfZ+d+h1poYcbFeEND1GC-sxWlAV1Q4nUBgOoBEAcBSA60dhEQDOx78eaYc8fpZmF70GniNzVmacNehC1f+Bcr6W0VWEWz1QtQVvDbPLpFk2jP0Dox926N1SC5reZoLkEIBtIJZLic4WPSYL343+WB6YINDULHGn2t8BXtwEeNjTA+lxgQ4qHX6EBiZE9Nom8cQxZb2+6+ixVt01H6BX5AAHSwDzrHlocFAzIGCCyc9d9jYxvjjQhp7VE5B4wDVEAOmHwTpEyEzLJhNwmVpTAKAUicW5gja+vAE8F9h6BYQ6ToAAAF4GtQAMJooDUopNvRkTVRnoGyYxN6QsT4IZ-Xvu5RphUIB0XCg4acObhwT8Jnk1Sdk55NxuITbI1ZBYC9VlAvVT7pMC25pg8A+JsE9ycRN8nVTtPXqlqc7K6nQeIp-yEAA')">function instantiate(exp, frame, unbound_var_handler) {
    function copy(exp) {
        if (is_var(exp)) {
            const binding = binding_in_frame(exp, frame);
            return binding === undefined
                ? unbound_var_handler(exp, frame)
                : copy(binding_value(binding));
        } else if (is_pair(exp)) {
            return pair(copy(head(exp)), copy(tail(exp)));
        } else {
            return exp;
        }
    }
    return copy(exp);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p6' class='permalink'></a><p>
      The
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      that manipulate bindings are defined in
      section&nbsp;<REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.2' class='permalink'></a><h1>
    4.4.4.2 The Evaluator</h1></div>
    

    <div class='permalink'>
<a name='p7' class='permalink'></a><p>
      
      The
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      
	<span style="color:green">procedure,</span>
	<span style="color:blue">function,</span>
	
      called by the
      
	<span style="color:green">
	  <kbd>query-driver-loop</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>query_driver_loop</kbd>,
	</span>
      
      is the basic evaluator of the query system.  It takes as inputs a query
      and a stream of frames, and it returns a stream of extended frames.
      It identifies special forms by a 
      
      data-directed dispatch using <kbd>get</kbd> and
      <kbd>put</kbd>, just as we did in implementing generic
      operations in chapter&nbsp;2.  Any query that is not identified as a
      special form is assumed to be a simple query, to be processed by
      
	<span style="color:green">
	  <kbd>simple-query</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (qeval query frame-stream)
  (let ((qproc (get (type query) 'qeval)))
    (if qproc
        (qproc (contents query) frame-stream)
        (simple-query query frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyPkCcgFAYDQSBEBgKjYchfFqIw2U67ragYQxSSouJ40DFI0gyf88SmGYuMjQbhGG4knhXZosLmPrrHw1cnkBAA+alKEa5rWuIdqBp6wYGv6ZqiLmva9JeoprqGkb+XODiPOqLRSA4chK2IDqlpuvruHelbPrGoKpvSTIdpXUoodW9aVk2jchn6W6nuMwoDoBY6-rIQHgdBrrwdRkanme16YkJ467qahCdq+2qCxOs6GBkLrKBubFkW4MJYYmlxeaoLRGGZhQjFO+6GAF-QhepdmfvMCXKCl4b5aauWzqE8aEkm1IEf-XXBOR0AzY20ASYB-pyah-R8e2mXdvxxnQE17WZf1hWiItyY0wi9XRNuEGWGqbi6DEfRq1IahxXos86ygoKsITpPkKrBiQ6wMPQCjkRqjEBgs-FfRi5jsRDaC7bq9L-PC8b2Py4Yqvo6b0XjZcG9W9r8KC8uTiB4YaoeYoBRiHj8hE+T72p7T8kgrbTwK5zuQmsYs5h7q8xiAADylwYN6XXPU+4Lfp7rsWeCxhLI672PZ-nnPcL5K+l-zvfOaPk-x4yAYJSUEl0wRny4FxKgX9t6G0bAPRkY8J7XxnhAmBN8mJBQQeJIM6pahW3-pdU+c9s7n2ENAxesDba8X+owG4fFVCdxLm3D+TCa67SgZQdBO8Ip4DDoYReigIAwHgEgVAaA8RoGJBzTiU1jBsCAcQXC7kX4fAUJQW+vc7am14AoFgZA5bqPCKAAAPiY4ycjTql0MRomIZiLGpBYPgfAgM6A2PCPYv08MZruMKJ450U0xwancUPX+sjUjMDEBIFa24wRqK4eyPo9xa49wTFNLC8TwgADIsm9Bxr4nBlAkmRNCYXeG29fHpzvlNSJ0SGCxJsVZOg28arfRHvVXweiXEMHwEA5p09KkrzvttQORif5lNSBaagYg6DTzoHE-mtjXxwwieQKJQ0GnxKslMmZcydLN3aeYHZsywHDU6U482RiqL13yTeEZSZ3HByHoXY5ez26p0GbEG5IwbyjI0ezMJv1UjGiEDOCoyguplXoJ8mIKzkl1M2YsqyIL5mgwhXPLKdBWmAvMCisFJhIWYrOV0y5SzljfMGHc25DzMlPN3oXPFaLCWxVYZk65wzqV2j+XStp+9kipAgUyjFqIYVGzSas9ZMTQSNNAOCQV4LmXOGxYXeVBLhXlUMOclxoqKX6CpT8mlizg4HL5bnN+HAhVQsYKyo17KtH3K5YasZ4zDn8vqU1Fg5CGBH0IIENwzgdXVIlQi6VWzZVdT0V6n1frDBKpNZzCNnryAMHXEvf6hhA1aKVpqklPS+nb24A60lPKcVog9V6pxwhfCZoTEWvVTr-kutNVNESOsqDED2TWk28KNmhqRbK1tHx217OVa6sVSRvWH19cQf10K2XLI5Qau0tLSljqmm8biqIfjRpnbGudtqF1aJqWskNO4w340KOCDd1At0Lh3bOrF8bOIbsnb6lNgRboHvJXfWJDBAgyBlXNZ5Y6X3RuAfQDN87v1aN-f+mVpJgOmtA1O0gLU2ALKuYehMsHKgyp0E2zmci2i1kcDPKDXyg09qlWe-t4JjDtEusoYgo7TWP2GsRxjZHFkiyw4GBpdGOOkfBMLbjT76qCaY22rQezIMHtiNB2tnLi1iY1geD4UmO1gJsTxhTgY3aicQ5zP1M4h3SbAbJ9ROmKNaL+WEQz4TvUKE0LiejJGmPaaEnCs2Hn7NAvdep0zmn5kebteK6aiNbMAomQwdgHgvCivHW62pvaaPqKsrF5QXgWOczYxl+L5HYU-uleCPLwmTpGN8+YPLMX8BVoS7q7lBGHOtRBNyEVBXEvaKo-UvtaXZUteoG1uNlXxautfTGgNHWGsNrVmOueYgLNkus4ppdWRGsqZcA5FqpAFv6CIFZwrR6dGI32xt72amZzzb24QA7nXtqnZG+NdT82M2ndC4GG8D3d6lq6wnfQPrNFheS9RsEPqrLFGxT9mhZA6GhUYbxSGFCUGA8DCgkcsqZBJlqOCUAVtwSY72Nj22xHOj6AR5w8IVs0cxFtlNP7vFKcrFKIQ9qQpwPvFAcF8n5CEnI9p6kLCDPQA5K61hHn80iilGhxO+h-EbwM7pq9G84vFcvWl7Dhh2MRgK4vfTIo20Ve6717EZHEvVgY6x8IcEq7TWxtjhwSg2U-aHxRy4LCh9uBezNk1jyagTBeBaowC0xYA3B+0s4bgDHSC4nJ1H3EyOxqNll6oP9M6MjFXV4rOH+g48pooWH1E3AjfG5iLn5HmC77J9TzSdD6P8eW90vJa2M1bZ27EA7p3FsBJw+r+nn35heDGHHjKQ+ZOqCu66w1ax20Gf95cGlHWZ0cRsm6KNKCjYBFAjSsvssvgENDK0ZvsCwZxz6Wb5kUAzRDA28IyPhgRJelj6W7ERs3RGQz-HxXo77dDx+HCKUcECHS-UAboUJB3UAAAFQAAkABRBgAAQXAHABgIACUIDIAAB5AAOWQCBDNhOB+xkEkDUBajcBDwgyf1oW4Qn0HxBmjiPkoJhzN1iFKAX3oMPiGgL2cAzXV2YJiGaAX06AXC4Ig0e0EMyFIK0lRAzQn2gLgMQOQLQMwJwLEMkGHwqA4JWhEPeEYKSAnwXz9nYPv3LEf14O2TIPD3oE8hlkh0Lm9C0IsOkN0LoGoNSUDBlh5j5iVl1x510SOmLxUD6Ey0D0kPILcV8Msnvi1hh2oNV2mCIIYVCMsJ0PV2oJ-nANIAyBBlyAcH+kZAAAYCDC4ahHI-0siWpCBCBWsiVqBBg65yicj5ltAgRMiLVGi8iABqUAPEL-BMVo7I-AXIsgR7NjEon-UhVBEhBefoioqowbGoyCA-BMLCQAsrLCGYgbIbbKWom0O0CBEtH7QIfpEGCBVIaobILIuBCDE0cozYhYxkMYjYyo6o2KWo5KckQueWEGRyToeLAHMaOMb-P7f4-GUoUY4gUoiBf7KdAIW454+Y141MfGZodJLGAHUE++A8PVQIb434rXQYAHD2JXHEhgH4tgeLG8QkvgpoFoKdAKJYj7Eksk+LfoufRaNqUIHpNxMHM1CY1wqCT4pkvE5eFYAcOnOef7SYAE-sYUf7doUnNBFoKUqCWMIKU6WsJiLMZ8aMYveBRBZ+MuZBJef7agzUv0LBdHIJfBemUoTHKMAI2IZoL40kvEseVhFgR8ZiLAaCCiF8fGOFLCOsYvUoZ05k-EyUjxExdkIU8k+tO0B8YvZoO04wM08ickQKO+UM4UqdNklnFaNnQgfAf1P4V+Pki+fk8keBA0-U5hQ0xgFBUshecvckAcBBAAQmPzwUWJWCCgcCFFxGTzYVLneVrCHNjg4QdOdFPFNNx0KF9P+DFIFQlNPGVONzwEhA3JXCrNrJrJrmH0ngqWnMoQwRXCwWrI7NHHAnHAxL7JkAHOzzQUnOmDdI7gHg9mgg-LzG-mRNpJPkbPfk6FNPTO1LtllIqA5NSGhSPMVNN0iFAHXM3J7Lvnr0JytwChApVOW0DDzP-PPiPObLnO+0LlvPvM10ID3F-ATyqS0TRxwRQo4CtzxwJwYsbxUhaHlKyHIu4EIFJCpyXn5x-zJzmlnKbzzMARTSLNjRLK4p4Eou-Ixl+wlJ4sZ1EuPiIXEsLOLMeB4u4rZAT3grAA3MhAEsF2EpF1RKxOUqthIqz013lzxmN3l1JDiKvBssHJnwcpL2dBn2cqfKvFN1tnouxxvwc36LlmHTAQn2PUlR6xowivmSsn6Oy2fXoAhUHwDVZLcJcDrVZLOxmMrWrUyuorC281+QeVyupIUmK06B+N8AiUyOY2pOaDrVokuKizm2eNxGTTCv6Mj1rGjzz2iKSD6rIHj2-kT2uJUFcTKIZBaMum3nGPFDOLcVZKYkbBsr9XT0ZAvTcuz1z1SL8teFSrPD3TcQhX6EYFZJcoIjL2-l6MDA2rT1rzouYqJyZ3PzYGJ2US0AYDjwuItQKv0HOqEBms-mLzbw72li70epr3+TAMkEgNgIYBQOsgABkYDcCPqiix0EiSD+ieDJYYjjyRSsLVQh92DnDKrxA1D2Chp8bKbbZxCFx6azsmbQaZCsrEa4CUb0bwBVCZxaaVp6beDOaPCLoRAXYrwDCu8jCH8AMzDDrYhwR+jrCLZ4RrrChpal9VjEqsjVazp4Q2SWtcRhbCbhriaJ8PDNZvCrx+ijoRK0JjaWpQb-rIFUiLaNaTdiCU9TahqXCLa2TY0nMLU-r9qzb-aUFF97pLaLZPCqAbb4il57b8YxbKj1LnZi97CkinCw6-bYji8vYnb6bc6qCA64jI73YQqPJKBfASBoTCAoqBc0ScyrZtp0SFKzJgh66rJbJ7InIXB71Tr2Ra7GrHs3gpZKAM1-jiru1AyW73rKT56TIWhSBzJu7ZVe6HJnJaTp0H0VB6AJ7DBIc+FXUBE5AhEoA4BEBkB0BJE8QZEPIlEax20ZVLpKxPNKN5FFFvrrFMllJShyspBnQUTTYKk-7nQFJnFpJiULkRyyMtUFxek0gwGjVuA37qT+CutGUFV1V90jF-6WhTx2ch1UUcGrVX66B37lIQHFq-hLVMV3ECGn6FxVV0VyGw10HqGutXktNwHFRmciGeHgsOHKGMHgD116BN1nBt0UNd1JsjUmGiHr1b1xs5G8GElOHgGutE0o1ZGH1GGIHQA2Mw4txy1k1U1t5013FParwdHk1AbMkbHVxNHFQaHXNOMDH+HCGfh3HSMjAJMQZAsZNrGWhRGuGpo8tPH3rmGYsuR8t+0XGFKW0xYNNO0+HomiHB1mAzNhGEmwmtGpo7j2sFHDHjb-tvqZ4w5VH9HHHQn36nHChf0kGP4M0XsQn0GxHTJV6u6w0bI7It6XBNV5lyBD4vIfJmGOgtBbCOqqjq0VYXshJFz31qAFAb1qByYTHkRlTDRV5OrlnVmaANnXVlYHBuAFmwx5zQKDAJGnNBj2pNmHBtmGh3wnrioJmX6qnAatmGnnQxK36Dx6BO1FaGgqmLHp4rHvngWigXsfnVwqn-n5ATlgstnPTDswtW1WFNr0MxGWDEs4H2cJ7RhYacXMGrTNRlhLnMLO7NwVY+m+7t7PiR6xnBBOqaocwiKx0mmgEWn67DA0HRGASgots2mfUlgvGbZXHMTNx3mtBlYLtts45RWOF0GfmuW4GM1jMFWp6p0wh+X37cylHJG1n6AZHd7TqKH37OaakGrynn7ZXkM31p1P0jE9XJhjIBG7WZ4HXUNKR2n8mtGZWvXJHxs0MMMNFXWq6D4iHfH3N4k+W6nDYlmO1nN2MGM-G42nnpheyryNR0LIx9QlmuoAtsmgsw2JhpThI75A25XSBi34qy3dp0G83KJMKYhGwqha2TNFk4HtrYxq2O262cmG3OAm2VwlmMWO4B2u31E4HM3nQgop2dYZ2P5UzQBKX-Sq3o2AnJa0JNWgnzMPMR3RHV22IOXTU1WHBjlepjjbtOtvFEYb2qaJXl6VjIRL3-UZlag4RuAL3mkP3gkbxH3jgyJcdQ4x1DBuRGBBj8U2HMVFtE3ZSiM03Y2jVDYjr3gBA43GQY3AmS3gnMlV24Vk2a7U23MuNLMSXShn2tHxbbpIOel+B6GnDF393cmKOiT6YIOQboOmPuDu87gcOd2vLFQ928OD2M26U5yMLTzKNsG1V2GSm-Qqqdw5PYPYoc0LlHkfzxTzUQYyGGH0mlPgRpVWHFUncEGtOrxmh8D0yz2-4iHImRHLX19JqCrEE4mas6sCPKzJruw9RsP6OeP9OnCCqgIX9Jr33Y1P3QhGRf2r3Bg-O7MGSB6Kmq5at-Bi8-nKGAWkWwREvuBIvpkNR42OnI2Uufgsn62LWJ82MJ2Pkjdq3W1B75GXXgXSu7POIYmhGw3XWJqMOL5axGRq3uu4G-X36mJjkYHulWERuNPtVamP4I3kuBviAyvvGWGpi6HguWuNGBWoJJu5uNuPlTPcHpYLPHGVxq2TurVRvamVXLvj2zh5NC4YnVOzO3EnPDYDuEHRu3vTupvi04jq2-ububUXWE2gfHveFZBT7BElBL7REb6JFLAH7zBrXRyXdObRnCkGq1vjHjmwXJAyB42CreuZ60RitchbnygeZXVhNi9Cf01uBSeE3HsbnCyafNnG7usGkZBkVFAOf7m6eztQWMVwXiflYJ8cMAM+fuiRexsvmpfQRU8ZfuB99eVOZ4XsvEXO0ZAlf1M4NZf8M8eI5U9e5fuD7IrOb+M6vawytx7Iq2fUhbfJjU5ufgdYrwEGJEqUmP5kqPIXeCWtMP4J860Q-czHAvg29vVtfAWtN0HObKSofCD5WGyE-ye8kRhR2NfOvI+izI45ml4yfChlusIUElvzhGwikQZiPcQEW4-5kHiZpsbWNTeGzDv42WmJ8MkEHO+GIkuc+PIK7e-lZxqIgS-ASVtBhmzB+NYl51XR-YE4L5NJ+PsHkZ-UeB61L2p6-cujBe+U4Sf1ga+9vluOBY4il9+SURYcFz+xBL-TwxXDGsJjHjSO-D+OEWBj+Y+qG-Rmg7-L+HfcIAAB5gQl0e-owkf4ksz81LCEBAWcRGMhAvgQQDtl0TmYmw8JWoM0BxxdE-KU+WOP2Sv4XIRYXRMrDgIdovR8BYgQgVAOgFdM164IeAfgG9gQkUBYgNAfMgEQ0hMBwgbAaAFwF64qBhAoAfwNlRWRRBeAqxAQLvKzw9Q7Vc9lAyxAA9buCDMnh8THRv16kzibEOnxXCFwuOH3A-hfFvZIVv83mIAZOWZyUMtBRAITvTEYxR9hyu-TtB00nJX4EG6ON2L32gHvVtoUAvylfkg5xl-w3g3YlkFoEnsx2spN+ujmr6OYU2zgq3q2yKCwDDuPdOgE4nKDWwWkYXJ8Pmx1Kxh22SdIEIuzT6PdVSd8AwYv2ngA8M0yOWFonQWo8tTckQwiqvwHrWD0QOg5Pj9m+65pWUqg8sgmzGgvdOh2g-7KfxWD6Cgh7-YwWhyzaUZzB3g4MnUxsHYgnyDgosk4Nj579XBBEdwSSk8H5ILBL0UoPBD8GdA++bAHwebiqFERQhf4WQRMBPYUDBQ0QyhrEKSS18f+OXPZPMIaCpDBhfTTISIGyHTxmW3XNltqGk6FDJqtFc7J2wPIDJR2FQw-EEOH7X9qhYNLypHWaHfxchrEWzu0NWFdCJh43b7CfT5Rn15A8PERNfXESSJsAP2dJInAObrMQYDzOgB-W-we9eepzWVL6hWZrNgY-vcwIKLZHkwVmVRUtgwy2bvZsqSmE5lyJ-iFRWRwojkbDyBANJ0w-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-D4ZVIN-ECFlomEAMwa1do2AFmr1Tk3ymWIVJeha17oOIWhWEX1r3QoRDQIqHmv6yOFnAhapqPTyGlYxtCnuDcamqOKXYK1neA2ASPXaEUoVJ0YICDBmITwKaRVHzqxPDqMg3gaVc1qtRbJKr2CDq8OnO0ZX9dY1dsO-HLUprJrJqTa05DMUzXxT6YOavWN0F1ocAq1CgYtTJP4BlrlaetGwp7XWJZEG19tLdaih3VBwO1JqtMp8s5gwqZiwQf1a3NbVcjsZLtYNdPJiClAf1WRKWYBu4UwrtC0GqQs4DOxwbANCGsIobA+C9r-1+5INTBrWqTUXEDhRDRBkZByEECSBVAugWwJ81yQZGhQpRuUKY0sI9agwBuMI3-rjlpNWVBiEhW9DhAQtKDUOsKCYa-V-awNSPldoEioobAATRwHUlkaeaGNJiAprRoY1GQ968+F7HY340CRQUcEDxttXxCSObwbiccyVbAbvMSrR7IuxM0jxeWoffJFZr9mmpNWtmlEOYt5mZkHkTm7tVNG+GBjTNfKezRZp8Q+aU+iIgLXZvM0Z826OrPKjOjBQpBAtpgDzRPgNXaziixAMQO2hWh-VotiKxzXFrW4mb8A5xNzSlu4RR0mo3Pb4eVpFR1an+C0CuhbFtglbzirm+gMlsnpA1OtI8XVg6UDbIzRqNbdTHVp610Aut-WkDnrma3trQkpa8EGQrIGDa489vTraVq5Et9OYAWjbfoEi3ubKt7sYDf5qS3HN9tKWp9i3iSZNEHYQMPTmDF6i64VtWCkbYlsMBda9tp29zRwlm3R0UIDQL2Dtva0JaOoX2lLZ9ve19b3y9MX7dVvzgLbKFVkZ7aNVDFJaNtNUsdDUGy2ysYWxNKrYJFFqx1raiU3XLRUOjelFQyc5HdHn0BY6ctQ2mnQswaGrgIakgNtbmtNy2BptJQakKXEhr46sRXO2CNZxmj-aigsOwSEPAW3ULltFTBnaZO4B06tAGO01EfBMD8BHlDdTmtWx5JfSvgX-O9H9Md5zTzA4yvqZMqkUdxcdEu30EFCtpeESdfoMncZDV0CzZW6K0FEnFlZ+Uf5jS7hMzoZiVgr4M4xWrAKD1gbjcdLAZlETNTMscB3pT8pejN2GK-eHS96qzsdxQ0l84qrRmbA1o26pdl68EMnot3TKkdcu1bdwBL2rK84BBJPCM1B1BjKYjIAAJwnBC4YYymALtvYd6eIXejwjegMQfBFdUapZuYP+QMrLmA4FwDgnyJRrCgne7qPoGgXQKrIaAdfeeoVUFC-Qi+6tPplRbTBd9+O8eP9H9gsxA4HCFwD5CAwWqiRsQI-QPtP3xsbgPi3fUbTYC1V6qo5Irr2sO1BxOaEuwvY+JqrdQv9zGcvZ63l3XyP9oBpgA1RV2cx1l8upOXQCKgngyATiWNGbJc79dWgjIHJXkt8VyLU0xgFA0VGtlHBDaTEAcMDFICYGTJt49SLGnP77IGVu+iEN5B8jrLQAceFdeQbGaNiEQEe9g8IuG2tBjga7DCixAHDfLHcfylqPxt6jiGo1kGi1H+vg0obiNjAQGsodXY0GMDWwmuowYkjMGwE8IBlQvr71L7wQnB7yEyDCKCBFDogWw95H8iSHTlEQNiB+rehWGL5LhnyLwaxb8T-Dgh1dg-q7wp1Y6CdfysUPJ30xRDNO4Fh7vmRe6Z4rQf3QYHD1697a+rH5tTurTpHed9uNnVntzXe5JO7LL9ZxEXZCBDAjkAxNUCKhXFcD+BrBWckIPrKx8tbGeI0f4AUGqDw6qkCgnUn5Gc8wsPnSUYF3lH7qbqbzMMaprggHIiAhhKXE4TkBZI0ETaEAr+rJHMVsrQoylKXi6tMjwenI-IPs6QHMFo1P-QbD65UhWgwkrfJID1Sgr2F4IfI+eqCgPGHAlpHNtaSbxB1pRyBuPDcejq2xvjZ1S3iivYUF7vsSBv6tAoLz6BhOMQAADpYAwqtHH5TzGCCyw895YyCVKTQir7ZUtBzA6PSwDwmXtiJxwsiZRPonMTaddqHIZkC4mx8WJXgCeA4Q9AsInJ0AAAC8LwaJgUFiZZNsnw9PQQU0Sb0gkm5UBh4wDVFQgFx5WtR+o5uERNMmVoYpkBUeK-kFj1j6WMgcoDIFW5Jg0CtMHgCpPDaNTHJbE6yZ1Mti9TwBsgSwCNMmnDasp-yEAA')">function evaluate_query(query, frame_stream) {
    const qfun = get(type(query), "evaluate_query");
    return qfun === undefined
        ? simple_query(query, frame_stream)
        : qfun(contents(query), frame_stream);
}
</pre></div></div></td></tr></table>
      
	<span style="color:green"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, defined in
      section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>, implement the abstract
      syntax of the
      
	<span style="color:green">special forms.</span>
	<span style="color:blue">expressions.</span>
	
    </p></div>

    
      <div class='permalink'>
        <a name='h3' class='permalink'></a><h2>
    
      Simple queries
    </h2></div>

    
    <div class='permalink'>
<a name='p8' class='permalink'></a><p>
      The
      
	<span style="color:green">
	  <kbd>simple-query</kbd>
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>
	</span>
      
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      handles simple queries.  It takes as arguments a simple query (a pattern)
      together with a stream of frames, and it returns the stream formed by
      extending each frame by all data-base matches of the query.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append-delayed
      (find-assertions query-pattern frame)
      (delay (apply-rules query-pattern frame))))
   frame-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNNSPIz1KPSKihyYEdCGkYVAVFGhBOE6QunqbpQDEWgmBbJpiP9fcBBA4saPPCQOE0S9qjkMiWLYpoOLTDSMn40ApNHAQxKBIwJNswQhPs2SmnkxTlMIoEXKvDTEMBXo5LWULjGQwYXiUhhwLo5R8OUCY53wViVKI6gSJM3jlKo7SzwS0AGIA0QgNY4KUgs4yeLfayBLc6SHIyholNId0oRkRjmNyuonOSK5IlEMDdJwn1wkiJLQBS0Q0phPr+oaEqmLK0yzOSbzRCUlr6jU9Yb00-LT1o6t9MMzruLWzzGmqqz+Ia4d7Mc1wAEh6jajqahyt9EjexaBommRBtGgzptS1iFv+xor0u3KYUQv6jE27a-MBD7AvXRtkvByrGgijbwqQ-oUIEKwwlIOMZDYZ7AhcmN7tACD-3QzCIKPHdUJZ7h2ePembIglVYtINn-o8QXRlIHmLgUhgo0iNhlAggBVQgK0ISgAHcaCdUZXWRABafXityhDrtAfH1k2GhSdocm4zhHA9p1l1C3KkDn2mFj-C6PbQ39Kjnb16kvaZtCMO4U2sD231-cdZ0g-KyDxbiyOC2ij2OA9FVScIYMZBShhyF6sHZvSvyXOBgui5+ku5odqLkSzwQVWDDgq9ymQm5z4MaZc1cu5bxDegbmgB9ztvwc77PB5agKjLHnv6+J6KF44FUOEjdh33bmvN7YMuRTbLYCvLHfvVAPfWKXxFoqYAAPKlZDPphsdL5RL97o+aGBjOF-zlhC7FxmnNd+Lp95D3vMvZE99H5r1wBwYiYF+DgWfgsCkoCt40z2gvECq916X3-oA3eYCr6HytqAHBDM7IiQEIqDwMD+BPwAdXc+Ah0EXxIf2QIlwKSJmpFiCmUQp7N3HsA98C8EgqHYR-B24YwAj1oBw6MEAYDwCQKgNA8g0CaEgTfZEOwlKiHgUwYBrpc5lDYKQT+5DxT4DYB6UYFirFGAAD4uO3AYxgLcnG6FAG4jx1gPRoXeIQHxfj3HmU7HsMJxh-GRI4NQuY9BLEQLTvo6wVRgyhiEMNegTjLwxHdD3WeX8OwcGBsk5xAAyKpS5biVJBDZUghTMmyJHmUwgW8wnl1KTsTJ2SOC5PApUxWnT96R2HlAmgtAJD2MoGVSg8CxnvgaSU8hq4YaYisak9pOxtLkGDIQfewxulJBcn0lgWSfBDPyYzfZhzjnCwge0+5RzkG+FmUEm0KSMp91uFeDZRkGnw2vo+V5jyJ6l1OcYP5eoZBXk2Sku8aTLDWDUoGdqIhiDiBdoMaFzlekZMuQMm5IzGbouGMUbFACg4TJRbGLKVRKVYpxQnGZczvnOMIrC2QAL-lAq2fDZ5UyGU-iZZijMrLXZiPxZbdsgLOqIu2cKvRqKJ5EPGFSqVeLVncsJUUklI0yUQWflqmlhY6XtNNSy81bp2VfNlTy+FRkFWcqFaClC1rJW2uoJCtKjrSmuudRdQVyLdnWHEPYthHB77cGYCWHVgrfn6v6dco1WzFaRo9NG2N8baCDEtSKrN0awgkMTLQAN5CmRyE+fMjgiybBb2UEG4FKrHzFpYJnSgAgJCVvlfyxVAqkU7JFTsCSNIKRMEeX2sURKrk5PTZYxW476CTseYW1VcqLAxrvnGpgCbqAzpoC20NbTR1ouoKTQsgFc37vzYe3VZyU3ErTXkslUtyWXvINesqt6D2EA3Y+b8Qhc3lOYPqH5eryFDI4MwXAtynAeuisBndcaEFZSPaBegsGhK3J0Eh5EKHQNzmGUmqD7YYNwduXmM9m6DHTjSiQFZZGn02LnYat9GbGZKRnPwYgTBAMoQzjxxj-GnHNnI1sG5EERN8YE-iLZBICPTIY3JidIxHkVt1cYVj-a4VKrvO0kcDBsOro08g8Tz0nWVKUxydp8b2pmancgrTimrOlKVbZyZdHrBTu4KQPSsmmOWeTWx3YkobNtpQjscQpmqjmZOZF0L7ZbGSk82G89mdGIVllVutVqaF2caXYzL0ZYKyCfTiwF8pXiA5cfTC0p0mavlYUyk5TFDstdp7blp1BmR0+a4LwYaTFCyYYufOwZi7SCKwKMN2lUXooj1Q3mxNkHdNbBPUi9rADgyubWw19ZA6HB9YW8idWXAGC7ZkE6CT621Vdhu6dskERsM7eu9wW7B29OyEe+1hzF2ruPeS1sK8v2OT0p2AXGQsbrEpfY6+8CsbFZuDpfS8mfDGQUkpuTNB02OGYLWe2S+9VGa4GqNICCoA6Gk-JwIEWKRJwzjnEDdhbDnHU+J0YRUyprBQ-JroanDCigcXQz+JBJycdSLxx-bnZTgb89ADUuXgM2dcKOOj0Y-CsdCKvPzyGUMjBXlV-rg3Gvt0CMpquPXH6DfGFXMbm3tv8fgLV9LCCZOoQU9o4+fNudxikF9WCC0d9YdbGBnfZQxpQDyn60BmItWuDUm0hLPFye4qDGULxhgelJdZ70h-Fqe0LdRBw6RUQsczda8ETIPP5T2Fp8LMoR3Tva8yLIe2Yvpe7D+35h78YdPqfyll774M-vA+0iptrrv5fY8oXwEpNebk74s65e32d-JvFW4pBlzdftzTsF0rhBcBE1h7UUVRP2h-ErVnw2v6ZJPEmaTlHsJUdBvfRaXxwbCiyV9YMZXhasECLfKxM2c5XnABXSXQDwCCFHV-BcWRf3UAAAFQAAkABRDgAAQXAHADQIACUkDIAAB5AAOWQConlC6HpVwA2DjC4BLBTww0rwwXAUJy2Hn2mGznvhXz4VdyMA8D3y4Lvh8Ab0GArUrz4Nfz3znDKlEKyna2kPsHoKFjEI-Dv2QPQKwJwPwMINIPAAUI2EXxEGEKEDkJ-B4M11DxoD3yDwPyEK-1Oh-wkJmwYPT2oH1lsLYFRyM2zmUMYPMOYOdwPlbHIU8I3gxGrR5jZzsQyEyBtzjAzArETz8LcNCWiIVlCF4U1xYIhh5hoMERSMLHEKyIsByORUQIYDsGmHrCIETBAgAAYqD2kRINZYMqjBtuA5tXZyBZBe52iajVQQJKjNUBi6iABqUAeQUA0pYY6oygWo0YdrDOFo9VFhbeZhYuWYjorot0HoqwzI64GAiCcaa4LY2bcgEbXYgQc6BwZ+EFcHezfgLeVY3KawFUbsKov-MVEwdo84y431HokCFYs4obC4hOHo72ImTdXIaYDWOcHLGHHaL7dfKHREo8DwZYpgVo5+aHXdWsX40E-46kPYo8HnOva4GHdEg4yIGEjgOE0QHLVcGHQ0f6Wk+knLK8ZkyQ4IBSXdM2C2AKZgWE+Ej48YWfaKEQQoJsetUJJHMGDVF+IImmdpNkkU4IqqTiGQSHCAiqJE5IaqBjZnVBBSGEPUhoQUtKM2OSBSLaXyD9bBXBaecefBEhaHMoq0poFyD0B-RqeyZvUADwMnW0-0kIVUhk4RbuP1cRdaBoXoF6ZGO08SfVYGdKD9DwMMxk24XUtxYqIUukkUzkrcRaEIIMpSD0pGQmEI9sDM3E7gcU6BB+RhOBcpSgBNN8QhNY1+Mowvf-ShChJ01uF0rpY0tvVwaqHBAAQhskfxpirPYMIA4j0mLwjJbijJXNzkkX9PqBmndKp1cATO2E1O1MiBmlNL0Cd1AAdCgmvMVGwQHMdJEUHOpAIR3KVPLLy37MfNACnIenchoSpKIEXMx2r1QS3MCFXhlQkV+hej+hl0BEnEbMEA7KATnHdPChtO2mqklMYWsEPVfJHM4UJEvLAGvKgkVBcnd1pwgn5IwsTJSBciFyYQVK7LfMJnhHaUAtwCXO1yBlwm4FBgLx6XIWJwZkos9wH3qGgL7wp1l0NIcG4D4p0A5xIVl2PN4oF0kt5NgRF24FbPzXbIUp9AEs4VUvAMiH4o0tlC0qbJ0r0vIAMtBkMqVKMCvJvPqDJPlycEV1qR2HlyUs0s4u4ur11ycBN0Wl1x0DCv6kCuAst1uAUpZIvIaCt0irAsBA-kkJCDEv72ooeMy1mLKDXWQX2PGw41IyKuGGXSqIq0I2oGxXnzxVmP2KDSaqex+M1SCW6yarYPu2iQRSMlaskI8GkznDhIkAyUqIE0yrqX0yMkCk+J3zBSGz0k7QKtmMzzSmzzr15FKNAFb04R7O+OxVYGpFmKGKeP3heLfDeNCSarNj2hivjW7xAnZhiuXNr2YLSqMG-HqvvVCWOsDDaLFKiv+n2swWmPIUev3WetEukokqsqH3coUlMRGA4Dz1FOmE6t7QBtOs+JBpSBHzH2pE8JkChrL22QQI2A0IwLwKVgABk0DyDo89gmiRV8i6DZjiidq8RnKhL2wOCjDuCJDqdBCl8fBOaLCLBprFCyoJa2qZagb901C5yaBUCab6bGaDD2ohDxaqiubeCeqUQ8gOjGEZAeYbCJ97Dv94NnCvrGZZiPDaQEJ8bXALaBQjiqrxhHbUQEJ6yixlrFb9bsjeb1CwieRIinIzrngbdZsVrFaMbxpuayiXbIpaCS8JbAiMrZEIwplFFIxlEoA4BEBkB0AtF5BdFHwTFUpJ1bl+AJh3MwtDFjEUbvEGlxwPAchLFxwyTlkfF27OZw4PkOU1z7U60G1e6GllA67uTX8dgKUJVqVcUH1BV+6q6yp56zUl7QkyVp7u6ykvVF6g4+7Gh6EZorrNUbUt7a7CB66969kE0HkLM26T7kbAJwUn6uNd7GgyTgNv1Bgb1d0Vtl6UlV6z7f6f1ls71Vs8cv6GgySO1IH-1j6BwnwqtpgR4up2Bs1O1S0t5y0fEU6nIEGsaCG7aFIb6Z6ySgsxNn6UG17fBVNgtqHpgnNNMCHyHb7v6ylmtkHNL6GeGd6KG77rAV14tnNEsV6X76HRGKrSNitYGka9lCSj7aHNLY7ocUb3wls-0-r2Hp7CHAgYMG0xEK0ds9srEp6KHKGZY5ZbllZVZ1YtY6AJBhgWA75QBDZX7ZpJ1vCRV1HcRlAzHnpqpfLC42A-7PgMHcQzzzgXJY6wNyBwmKBImpkWQeagnroDyQmL02BdKhwN5UnonZzRVfwnry8QI17ZwRg0nMwute1omDGmhGKY0b6IhqBp0yHIopk68y1RgK0GnOmjAzHGmnJtHWmow3kTkincZkS1Vx0ZUymrF2YPB5nwZRcqRwJFmZ7pZH9MnaKkTRhbGAnGYVY1ZNYyQRUAs+APGjZY7I5jBeh2Ki0wJ614ETHazaBLH66doXJzszGPnuTn97BtQeEKTNGcQXt2o3tY0CQvnErAQjG3nwYK1-t-mYXJFp6-avHRcr1-7f1AGoHgGYGKHDa+lJqNHq7qmiNAGwMklBU4XtnT7KX3xqW0NiI9GhGmhJxwXWWGAuBy8OX6739b4z7mHxM4WWpsmY1cmAsGHeMmG3NimCVIbfSaEaKfJDy0wYtixHMxHp1IslXaZSlKma7jM4tZHLNFBp71XbSzS9ozXdXLEoyXrAQTXqmHX1NxG5HSBYXrXFQpXVmoUPXKkoyYmkzhLIWaQnWxF3yDzUZ6LjXRXGGxMP1-tWGXNLW-Wwp9y8rN1EWElOkH6aEZBllPtZmOlolS2hrmbgWkbgZoIiBXlpB4JlB83G2i25grwq3YREYqcnnN1aAmJqR5iF7tUMN6tjApWxXgU7X-8bMQJmHPW2GGl3ywDpX-NAtk3mNLFDxAQgWFR4KAxeBTbB3AaR3N6g5+nI302JGd35otzT3h2-QL2ijJ8XwxXBmE3zWEsfXLN7j9z9n43lW4dRdV1mVvUr7VGUGbkN7L62Va03VtnZ6zK1iX3oGkP+CsMUENi3w0PA8EOfEMPX9KC2KK6UJ+Hstr7vm-JsFu0JBcFOsSGV3T9-9uotoF2h361n24PX2saZmHrC381DlpBz8sPXmC2m3ZA2PbMVavGqnxE6ORnmm662nJnwJpPlB22hOaFPmOHFryOz6ZGf2qP9iM5A3-UpY3X3xx0dH0ORn6hMXhXoEz737b3iXqOWPvixEKnwXXP2oZVJ69OzZXkh6vk1y-PQv5l2GxE4WIb2wY3c3K6z6D6x3t7P6SW-IQvR6yoZUUufViaCPJ7FQrPkLcOeO3QAv6W9Ooq-X5Iud2l6HYOIOVH0uPPXAsuEO1ymvD7XZsvSGHOeXGUMU8PqRKuUk4WauKHs75Fc6lEYxC61ES7NEcwyPooyX-UQ9Db3GGZGBLTEuhM0GCnVUWdemTNlAsaJW+apMRoIJ6xcn5iigR5jiP1cH95y1zvFOgu7NMs7u8nHvCmSr4dCtwJcBFZfuHuhAnu2qltXuNg+mcR9jKNcNQfJjofumSHcBEeXmqMUfb9vNHwxmJhVPp1MfDakf4MUeaN9vKsXxzOWXqANmse8kII6fjjRVGf2sx0v41yxFAeDUEd-4357buexEaqaA6f1mLNefDag1eesW+N-wR8WmieJnp1p7DbOSpvvvN0PWCF1ervj0sytf8fyOSBFfMb6mSFLvXB1DgZL5YuOQ9pmlpg-NZWVPVfkEgSWbVvkQM4CFsvdOTH9iKkEPA-kXoeSFIutocQDrzydNZPVw28TfFtI-3nBKbfZOrwk+feaBlPxn2mn7Q-X5dOPRiwXeMv1Dxhc5mka0OVmwGYq-gwa+Zpd2X6f5Dv-ei+S5YWKEy-lftmQhG+a+A-dAAAeP8fgJvoRFvjD+hWWBsSCJAtCVBwgejnbOxFzOgTCTo8gaQLK0ACYh9rxXORc2vr5ZsCYtnynQ-p3MEFuU-mfjDycefyICCJfygC+LEgMS7Df4YRRUiUEnv0ZgH89ytuO-ify4pn95kF-RmIrBAFH9C4EA3tI-yc40BmYg9bLiPQQ6XcoSldG+oMjQjMh9eiodpI+ygFbRi+hrWTqlhqCh8iOgQehPgOZjMg0qCvVsquXd4F8TkmLZvCEGy4k5VwI-LcruFuAz8tyfAodsGloF19JEV4FAYqAthjlNSddEnM73XZu98+anKgcYEOYL9suisFWEEiHDR4t49zFIHGyPD2sSEIEXXq6SzaelSkZAy+FH36acJ7OKQZwWn0IqxtKy5bOugQKdDQ5jeOfaiAcgK7D0Au2AkuDgNcANcmBhAoIW1w8EioyBAfSgWaWoFRIIsdAtMhwwCEsDbcbApXpwLU6JCiy-UPgQhwEH1IchUMDwB9FXAt9X49A6WGQJhh0CbigvTcLG1AH6llBN9VQYUld56QShjybQUYF0GRB9BJzQgEYKDDLIbmoQx+sMDMEbRAOlg--CJQviRs9eWvcNu2CcGR8A+MfTBO4OSCeDkWJwl3D4Jzayd-BzAsodNwvizd8683VRMXQ0RaJsAEOawHGkSYRN0GhTIgA3RA4FZJseSY5hBD+FJNyAUwMXqEDCYAi14uTcYI8iPrRNgchvWap1CKayJo4iI5JoCNVSicbkDwaTMuDZ525YgQIeFkYGkzWhKRhuaoDSLCrSZBojI6kiyLJE3chkHIoZFyJSDSYaBbPGgY0FpFYdIINsTopIDZ5Si1AYo1kTd0mGMjJhgIcUdJgEQl5PQtAY4pqK4AehFE9QdUTdzGIcjjAMgCPKAAkAghsg7jCYvR1ADGjme+sM0akEtHWjYioAdxkbAdFOjwI0EV0WmHdE2ivRoAKCFaKMB+jIIwAQMRaOUAejng7jMAL6MVHM8AApLGODGej3GaYiMY6NTH+j7oZouMVaJDHbcbI1ogsZBB-LFisxiY78hWKjEQRR+mY+MWWNADj8jAlY7kcz1H7pBXRJYhMbaI7FURSxVYiCJkFbGljsxoAbIF2KbGZB+xygQIIOPbGLj5x44icoGNDGuBngRgCcsYBDwPBEI+I-4YSKO61MA+GQRUNWmXA+gCRsIokZmFsyniYRKTVVPWg9AAArDMD62vH1Bq0uIT0WyIfFwjm0R2NJvDBTrQikRCiRCFHH-wwTzx89EkSNGkyP42eM5M4UQxu6QBCAwkb9BIEpF4SCJAWcUUlWMAaiKQJeWAJAEZF6jaJ5EiiRKIgh6i0CHItiUxIonSYSCLAEgoGN4kkEWhi0E8YhNAlzExUw3K8ekBvHYhOIzwRPpIiQmPjQO4qF8WJLPEqSN6Jjf8SkEAmeig0mPJSeJNUkYpbM9KeJspPfGZg0mgTS7OCNXyyd4m68QSGMAkCrkvxHwYsMQELj+Yzai0KyZwRRFet0RwIkZjtgcmdBAg1PZEG1EwjK9ieFmfYnnxV5cDwIUsAoKbUCkXjeuXfMCtlI3oj9GmmUpCtlKWyUBvxv43TvlJMnaTw+jTNQcMISke9hgqSRAmoNHwVSb0mgx5AuzbDcBmpaUyEnImeHEi5uKiIuuokwAYAQh34RgCwDIBo00o9AN0FiAYA5Y7ipLKJPYkcSy8cOYpcockBEHYjjsRkO4qaUv4cBr+KIe-pAL2kKl4Ysue6WsUMwio7uWIBhrgxGD6hEBu2fYgtOIB2I7ANdOQIE2IDEAQxiiCYjIABkk4IIlOaApTiypwCJiAMriYCHhkKZfpXmNHKYACz0gW4dk3bETNpaUgPRegF6KHWP7BgQBEESCCAPemdolIX0uYNWgil7oyZRMzcLTO0C5Vk+yIDmbK0TB0gdsfPLsKLOpwQR5Q9OZIPAxGiizvK44LUlkNOmdRRZugHMkGnVkNiqIRxatjcDhQKzRKKObcB4DmkuhFpvGFab6jWk5YJZXLLVtYD+JH0FZNSdmOKC6TaMCWSDdWYy0Zj0yJigsvSMLINmyB-mvs+AUCEpzXTMB49T2d01s6HptZN-DGcAMDl4zg5owOkFrMuymNLsQqA-uzAQgyy62GcyCLyKJn3iNgQsrOYdO4TK5rg9sqykHMgjsjW2I0VcKLM6Hqyq5ZMyoLXNMob5zETco6YzAADk10nbLTInnD5qZp-UWe1iDlLTRgvaPPGLOiT7wdpkQVcGvOwnJARqggK-g2Cv7qxhYLhIWFf1mK+1q2LcneZtUrHGxOou8hEdXMzkMBqYsuW+bcGflXhn5S8teagNACeSUog7Xyf5zWZxoywd6Wsnz2dmjZKSmlEasowtTvwE53s3RjDkabVpgF3ksBVGTAxQKSwXMmBXXJ5Iez94MC6nNJhRz4hOuccihcyVkp8kYpNAWvDMlcZ3wCF-GEsDAslZHknZyCvFMySRL2tum-AqiIqFjlLJ45H4xObKV3QxlvqYkwhUpFMK5z3Y2INhS4yqCcLIF3C3TmiwUUzNgOWwJbOIv5jsjqcwMK3FGH0UiFc5kiINHorvT2K-ppC6WGYqqGiVeRVi2xS4rUW7ZZcnijlHDJwWgLyA-mKMiXPVyAxglXyLBdiDCU+SIl4C0uFwrvTEKuSn82JWIqiHOKGCASmTg832ZSte6wi+Ni5GoVs8pFjaBhUYptYoxYmxrZhTm37aPgrm74REgbwbmRAEFVlJkgotkov9ayBghxuc15J7p-0xUCQHwHhFzSM2XS9Qr5UBh9LR5nJQZUjUmEjKZhZzJxnIvZ4uZfGm6MwpUEoCZxpgeoEQLIEWWZ8ZlnShRXDIbx8yLJAgUwq4VdgkMbl5bVcPMr-4kLAFgscVEXGqZyl7erkOYUIALgcB4wggcYAwGVJvSnQvaL5X0MdnqoSFGQr8L2XvJUQ8Ez5OwXiVYr7CtglCacqqzHCLRBwswiHuqmhWBgBAcK7ZXBQqEMpuAvaCCpPAkTGLilGrKVimSMWYqTF38QGPWDZWhySFygUVb2nWV1lFFPK21kByNbkJY0Nwh5uoSlUwLAFVnZednhrz3yci++amIdV-BTggJF+DYPCjuV6qV5kiCCNqrzyrCPypqogD6Uej-lNK+aYKTqtXn6qgihq6as6v+oM8M2z85wZ4SxY7AhCHcBXN0s8S-TxV-ODWS4n3oQFgC+naKPQAbAXL3luxYkkvhhk5rqANMKVlGvbJmEw2KQPaAuBAhW1HC8Gcte+T2iAzZY7yE5Z4V0lQw3aFoBcOfP8Le08gjq1wDHF0i9rUi-a9gM90BDAwzCkeEMc2uYCUo21toBpXRQrL8zpkAeZgIrUXyC1l83VGjohJKI0AqIP1WaLozuprAS1S+aNUeorWZRvi1aqiLWr0hOFb1ja--POveRbF21Mk23F2oPw9r7aVRcdV4W5VGBh1gGlnsBs8KTqmgwMdammDnXmAF17Ub9cuvQoas-IjzEIZcu3UNhCiqeQtYQD54FVy1vQhgQGFeXx1y1suXDWYQLUqEi122KjfRrI1+RM1W6k5evCEIMb-C-Hf-PMjeWMafwIENWloVwIEFiCZBM2GJuwISbdCZBECNOqI2zrPRgmgjVlBmYUV0Izyl5FRrWqfEWoHG6YFsW435qL1rgJ2KICECc1RNmhWmgzX0JrAxNDmxmkpsBgIao86mzmlptKQQQdNAK3zDKz0jfgvxqTdFltPCwOB0W7WD1qFuJgAsZeWZXdDjMeLYZ4tiICtBFu6UyrUtmWJqTbDC3HdstSylWQC1i2RtCtCWkrQn2S0fY2q-2KrZlsS05ajIMW7Xo+BEjBhJ0QgdGjVu+V1acZ9KULZQHeIZayAunMNQaEi1NTxto2Oba31HlTbUQsuEbe8X+wLaZAC29GSkHtX3yIWJmdqHNq23UAitE2+4L2ydzLahQqSYdRBHpVX89tK8tnmtuI2s1N0hW0bWkSsBnafWBq8NTNuC3CAftqTJredsHx7BVKqod4J8E1D+SgQT23VR6zB3gQUdPfa7dKF+jJAo8n29bfukxQg7mtaOi7bbgx3UwIEd24+YrER1ESFgP2r7fBOaJMBut1TYZn6oB3dKw6ERbEHkWsFZAsAl2scmVpp0ltmdPW71TDIcV7zGghNDYOPgFAZVnAgujmLLoDzE0J8MuGCsRz2BY7AgZOinX6EginzHtmjb1Wzy62TpGdIqe+BmD9D3K6yhtErnKQ6n-hS+v6HqcVUAVJK8FMqNnfrpUguQudFICOo0BEpxEmmwhQGdU0BUYpgV74Lcp3Kl1BE95+cd+DaNYHDKJgTeZia4Hsa7LhV-oAuIsOv4C6tdue73SkqiWPSmg9QluETUNVXDWI24EIPKBdr66HYd2ivZEtF7U7TdDq5QF3tSV1xHY-+LEJwrlGSAQIAATi6DtIJ9gWCfGWyMBz6yYagQ1WvETBlBlAxGs0qUuiT0A71gQLJpqWPU2R6i4wlQKvskAyAx5Y8xWGgAf2Dr5VjSwEPPvFUH6wNgQefevu-SOIwimySRDQCNiIYFBvgowN-rCK-6phygMfcDtthqAsWo1SQBNX9RhCs1-26bd0rJ0d7Dd920QGNRQPyZGYNOtnkgfGqVBJqVuzdPkusDo0VQMcZKKMCCT5oyJxq-0FOBAhaKOF6SnhaWiUhalCAMcWmR0F9pmxqoUwBgMwcIk6zuMnuFYYazf0QRDYRsGg3tXvkvAhDNzF0VFMVBv7-5+2qcLCHNiAcLY1UE5QHnOVcBXlcwQw4a1w1bF8NrGljURrqY145VRgcQ0wfYEBYZDMmOQ08kFWX74D1+pQ8oduZEbKNVyrQ8odNjGHMNFsCwfUEUNhHPGeedYOTUUQpHDYT+8A1foX0CgjwYREPaMz53h7TcGciXV9Rj3DA49NeHIpHiz0XwQx9dHba4BF1Th8QdeuXeroFAx5-2aqtpShA9aBhaAGsRxPQb9BfETVnB++R8m4M0GTu-BiY-6Ev4iGYyVgreKJ3aOdG-c3RhvX0bi7r4uwl8RbRRqlkf9i8LcKXCwDZgvRLgFRug5JJqM10OjM1WQCcckSp6mjnolo4As9WdFpg6ND6keowOoh9iQezEDzvqBh7yN70WkCbSKBw6P0wkITf4QrTAmk6SpEZlHniYS0MTfCMouRPb3g4aDEuseQ3hkA57QAAAHSwCkbj2RQCw7gAbB0hW9VotsaaX6h37GYEh5g1NS6Ckn0a5J95ZSZz20n6TUpU5RvBZMs5rg+AZKJIkXDAx5ToAAAF7zQjAtJwICVKEBMmZTjRxcOqc5P-RuTJqLw0pEjh-Q8AkbEY2MciDkmGTups5cyffmDj25zPG44rA9BX9iAV-OnDCDHmIQHQgp-bQ6clN6nXT7o90-6M9MlYfTfp32qadNhAA')">function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
        frame => 
            stream_append_delayed(
                find_assertions(query_pattern, frame),
                () => apply_rules(query_pattern, frame)),
        frame_stream);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p9' class='permalink'></a><p>
      For each frame in the input stream, we use
      
	<span style="color:green">
	  <kbd>find-assertions</kbd>
	</span>
	<span style="color:blue">
	  <kbd>find_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>) to match the pattern
      against all assertions in the data base, producing a stream of extended
      frames, and we use
      
	<span style="color:green">
	  <kbd>apply-rules</kbd>
	</span>
	<span style="color:blue">
	  <kbd>apply_rules</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) to apply
      all possible rules, producing another stream of extended frames.
      These two streams are combined (using
      
	<span style="color:green">
	  <kbd>stream\?append\?delayed</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>stream_append_delayed</kbd>,
	</span>
      
      section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to make a stream of all
      the ways that the given pattern can be satisfied consistent with the
      original frame (see exercise&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>).
      The streams for the individual input frames are combined using
      
	<span style="color:green">
	  <kbd>stream-flatmap</kbd>
	</span>
	<span style="color:blue">
	  <kbd>stream_flatmap</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to form one large stream
      of all the ways that any of the frames in the original input stream can be
      extended to produce a match with the given pattern.
      
    </p></div>

    
      <div class='permalink'>
        <a name='h4' class='permalink'></a><h2>
    
      Compound queries
    </h2></div>

    
    <div class='permalink'>
<a name='p10' class='permalink'></a><p>
      
      <kbd>And</kbd> queries are handled as illustrated in
      
	<span style="color:green">
	  figure&nbsp;<REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.8" href="./4.4.2.html#fig_4.8">4.8</a></REF>
	</span>
	<span style="color:blue">
	  figure&nbsp;<REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>
	</span>
      
      by the
      <kbd>conjoin</kbd>
      
	<span style="color:green">procedure. <kbd>Conjoin</kbd></span>
        <span style="color:blue">function, which</span>
      
      takes as inputs the conjuncts and the frame stream and returns the stream
      of extended frames.  First, <kbd>conjoin</kbd> processes
      the stream of frames to find the stream of all possible frame extensions
      that satisfy the first query in the conjunction.  Then, using this as the
      new frame stream, it recursively applies
      <kbd>conjoin</kbd> to the rest of the queries.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (conjoin conjuncts frame-stream)
  (if (empty-conjunction? conjuncts)
      frame-stream
      (conjoin (rest-conjuncts conjuncts)
               (qeval (first-conjunct conjuncts)
                      frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function conjoin(conjuncts, frame_stream) {
    return is_empty_conjunction(conjuncts)
        ? frame_stream
        : conjoin(rest_conjuncts(conjuncts),
                  evaluate_query(first_conjunct(conjuncts),
	                         frame_stream));
}</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p11' class='permalink'></a><p>
      The
      
	<span style="color:green">expression</span>
	<span style="color:blue">statement</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'and 'qeval conjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyUgYYgFE0XE3gAK0uVF9GIAAPQgwiouJ40DBr0kybq+rCcKsA4jyqlID4GHazqJv6oShoSQM5lWqazhmzqPMCRblpRQwdvWoKb16tbptm8wGqalqGG4wwOrq+hzsGoLRoyLJrt2847pcebFpet7TE+qCgu2-600Bg7zCOmcwc6s7Ya+4aXCuya4f296XBqMQqFqBh2jIXxIfJaH+kGWHprxgsVHoNr8GqfQTtMQxuDkcgFGIBgPkCXmLsx0AHuayhWuZhG6HZ6XTqmGZQB5vmBcoIWFBXZp2tZ2WkaW+XObluhwcoMJ8II4hcOJ0na1ICmQZnDmwWd82sDIvSihV-nBf6QTcekZWZcMZX5CUKA4EQZB0DxNA8VqxmrZrYmjEoBRKG4Yg6ErITvtSYw2BkRrrZoOgxFT9PFfkmIPnT5TmlG3niArygq6VvKBd8BQWHwBdcObwwu57hd8CLugm5b6xM+ztumjF1JjSEZGTDYcgyo+2vW+U0ok4XRe6GX5RV-X2XN+nnP6-nhhq1IahxWele16y0+06350d9Pa+17vv4H6Pp+upnxaDPS+DULTUDEHQPmB9J7bxaJ-cBkDoFgiAVnC+zoG4L3oNxVEPxrpHUMM4WB794E-DeDg5weC+oEKIagkBGCr6r27sIcgjVqHEDcLQ1+s8SigASvzIGW5eYsBYQwdcFA+ZaAWpPC2nsihMJEawnuwgKabynsZNCaCeGxEwQLNotZHAD24XA3eeiyaGKMPorOygfbMC0Mgs6ajz7aJiLo9gHgvDEMVB-H47jlCeLoegxUuiRJq2JsgrxKwfELlCR8cJWcUGv2caA1IGhCAgm5IA4xJC0lsAprvDoWh9BAzYYQGhG9uHONkVebcM5R5fzPBw-Qa8xCOMqcAnOLjQCmVIOZFuVlbL2Sci4QeB9yA9S8j5ApxMaoRSBoIQg6SHYOG4C0gar4BwNTKdQBQ1AaCVgETLYpDhJiDRiEFXJuJtm7P2Yc-Gxy6CrNIK0oC5Fnz-E2Vg5q+BygMEEciU5UEYjvg4RkYq0yiklOUcsug6i5ENF6loEQjVs4HnoBEjRekSniKblIs6ALqnwsKGswlRK8wyxRZWNFUCEkPMmK8uMm1kipFCf3UYNI2Bv1jKUVlDEDYH1pUdMFXSdFBnVKGZYFEXyGjMsEB5Ay7IOWckHfG7JfAkEmQspZNUcx7QZpxWpDB6n9zRpNZxZygoOQYGs86clShjTYHJZoWEIXN0dta5550qmYtiIa41DEzr6xtbDZxAd5mmPIXsyhC58EcMIRU9O5qoaiwaurWs3US7N3IaU0gYjAiDCcR0yYxlomFKzdgnN-K2mV2SX6UymbjbCErZ0RJNai303DZ-Yw5ibEty5kWwanzGoS1xN2gxvbN4TDObEIKY4NQBXeWLYU+gGqr0WnE+xtLJ2Ao0UFV1xSDzrrsU1Ldr9zZaIXZGaVDZ6BUndZvBptZGQaP3fe49ETt2cAvSuIdvLGkHoWjOB9-cd2xiCm+9Oj7iBMUKFK6Mu7RamLHdY5uPrzkcKA++hJ1azZT2-Vmck5w5ky2BKCI1RcHCII1PocefN1lUxTakB1NGm5LCiaAB1WseAbghJCSjnDIG1DhNwP1FHx4CeozeWjHD6VHA9nq+ZhhuSMB+YfY+z8cPrSHchixaj1qvFvQISdjIdM2LCZug+mmYMzsY8Op6pmjHpzY36e1v0NFrEWVnAtymjX8D-up1E+LD2YfiTA7dcL4VKaEL5tTADnBnX4WY8dqGyWrn1huk9lm+30oZaAOD070NMqvvvWLJ9IneNIzuEr-m4vZUHt3Xuk8RXdKvjfH+HAatlbUT6hSoJ9BtfvhUf+J9O4Nf-Nw5rriOO-QCgpkjpi-EBKSQOqCjZoWMkWwwaFk8mKNm7HqEzPnVOdY0-oaFuXGz8cIYJ0IjJRMMCuxA6j+3dqMoTPu6FpLFSIq85S6lESXvcEezd-tWiw3zc-rErDYXltaIxkVxLf701of3aE2NnCE2ty+5bGe4PVWmKox+2HM9BqNn7oyfdhOElQZke28kVHRvDxp1Tg+jPGuFv7s4piQV+4dohz8Abv8hsBa4Ymlb9OJNs77gxfr39BuPxG-V4eMiVz7sFx14XtXGBssLVor736dQxH1R5CNhml4nayWLuHUEGdK97jT6rmvFdD3Z5U1XDbHcK+fjT3XM99cz3pngIGIc5CKAgDAeASBUBxzQMSBOnEGoFyLhC6o5c1Hw4TD9buZBJ4xAAD55+Mon9Wqfc+gAL0X1IPde79BfpXcvhe-Q-XGun2IFem+pDnbUHbc3VWpvIGICQTban9PZH0e4YgRZFa2Tx9PAAyOfvQaa5-EmP-mzAxB8770xie6fk3T9SBvofDAR9APBNJ2ZxvzB25HmPXf3CM9bWX0RCbW-GZgIk0T+vr484T+P6f5bcEFnHSXGeZYAqXXPH-UWbaG8GApMJrfkeGVVcAnXB-KAorOAu0F-SuRA+PeqLBd4ZgVnJ3Z+SA5YX-I-EmAAsXcET3YbZ+S-eZOgkXOrF3cbb-cg6A5-eAzA9g1uWTPaJgs3Ygr3WKVAjgmzDA7grA+AvTUAkjBqdXfmEgy3VuKiCggff-PrM-JQi3ZwRgkjXQlQ8qG-MgyQhMXgoYaQvgnLW6QwuXIXUQ8qcQtQ9Aiw6w-QbA-gvHd-VIBRURdHeNOvVwzgg-P-Kg7QwA-w1hQI-Q+Q1VaIsRJ+SRMgTTdQ0WG4bEG-cjNIJubgSwuQuwhI4RURbbPfUI9wkYG8LwgQ4jbfBgKHULVtEI8wkaQ-TQiIncM-RoizEAooxmNHdhDHYI3OLgqo2Q1-XvXw-lChegKhMpONUXFowrTPdowfTo5o7gNDUAWg7BKNOYmNIYoIgw1VbNfBPNbvco1otEMjQIGQUfPEeIxmM46hKtMwlYwMQ1O40fUkfoziF4spa1Tld4jaBML4yoUfHQHwhPfOKxXTNAioto8I4fSImghzE4xmRLBzbLdIorEfcEdE7gbdP4jyBzczTLM2SA2IRElwAoyYpAxmN9JonEtwp-EYYkwQkjdLaHSk7dXEhMLwgGK-ZlOzSWJLFDFkmkq+ZjDkhkmEk-dYELXoyU646U36TwiYpzXA4Uq+RbEE0EpEyglErowAxbDEziRLPUq4j4m4nccEM0ok7hEk8wTbMohEt7NkwYGo6E-A61RZDJUg60g0kUo0k-VEjOHY3JagTJOI504GClWIzHUYqQ8Yu0PTOMwQZ5NI1k2kjw70p4ziK1G1IgejVU5vLIEsgsuaYLD1cuSs-kz0-QSsjMoNLMpstaBsrGeA5svVIPYOUOMPCOSPaOGPHQPA+6Q-UgdNHqKfBMCZVfNNaDKYi024O5AsfQHFFIhabgT7cXD020sEXY75X5IGcEbHaYTcyQVInc-AFRLnTk+o3IY85Ff5Wcw0jo40sEGQKyJ8wgH5F8mWc0uaClS8vFYpN8g8hoiE780AR4jMqFW8h2CCyrGcb4mC34h8xkhM1FeQGlGBGQZC8E+4mCqEt-Fcu4JHctAVA+QivrcESis8pmai1uDMhqSi2XRpZC-vdYz8ji2sKyBiqsxGTGKDflJFMEEDR-XM1MrIEDH08waxL4QhMuP7XCiJa3BjIrK6APTCzid1b2bqEnffSo2mHSuUk3RwJS-mFgB2CRLgFbQoTShMLCb2e884RsSgcfR6MUtBf7BJRkB1E4HUxLAym-ftE1ZCrCMK+iRpIU+Zb2KXfFOy54Ry-cpfEYb2IS4GOyqDJKpuFK6ktKm8TKsik3HqJFJtXytSrdNg8KzoftFgdYfmDStKjgMuTyowWq8IVfNqsQDq08ZzCrLCEKuyzqsbOqvUKeUARq4wSlEVZoXqjqsK8IAAHmBCzj6tUA4sGpIVlU3HBAABV8B8A+EhBfBMyxBeAHEmx-TqBahmhwRQAABqUAbYooQWVPIUVRLq56nYqyX6t6woD6suL67a4tVcHpPpQ6465WYgRyC6q67DG69JO64QB6gGolYGsQUG5a36xix6l6wG2ILG0Gga7U+ZDubInXNgpNckcNbOE-Y67EFq6YRTZTMa4eCa0sv0X-GUrqomneBm9EbEImwoRS-AZSsQVS9FWlMHIm5oG-EcdKgtfmolWYZfMm0WlrKLWWIiLqm0O0Mm3LWDH9ZdNBJWzy5qkdaWvC5Y50Pajm3uBVHucoDjJuHVbURdIFI0QzUOJuRkfS0a-DHm0WHW4pHKsK8O-K88q8BKk1KOvmR8ViQjJywMNBRmogQynOUq8wW3Ngn3GmqsToWmpEebIWpmrO-TWINmoQR2vUGK7m50Xm9U5a7YwWysDOkW+FcWyWm29S3HbYhWtgpW7aVuz2UoeCbaAamKybOeMOvW8aqam8I26zN5U2gwc2hcry62qqmWmigrIoB2m-Z2-80QaTTVYAj2p8K9eDWMRsb2AOmsgy4Opu0O9mhKyOzKmO1cOOgNBOh8VevLFOtK9O4WyuwPWQfs0PcOCPKOaPWObAHUrZW+G5agA5P5I5AFTsq+UMkfZEKya5KNA5IC8wQh25BgHZdJCk0grBnM5WjUu0AFAOQqFBohtcwLO7PrdMfEuYRi2IOYVcCLeROijkPhmIDkQR0lfEjCMR7jA8SR7hui2pWR2pBR6YfE8sxi8s50IRwofEl6dJcgXwRigx1ec6xUXR31OivasRva2MSxmIfEm4Ty61FgQwM85x1QVxkOFYBxlCiEJ62R2IfQHqbgXwbqgAPlAAmRevMb8fxM8iCZiBCbCcieia8lADiakbouE2mBScybSYmUhEyZiHibouACSYMFCYKcBCiYmTACycUbtIAFJKn8nwnan0nmmSnQAym7TxIgn2nCmlbwnsm7SABCSUQZ6pjpgEOp0ASZoEUZppw8latpmZ4ZtamIZZ9RuilagEJJoZzpiZfZ7Zvpw8iJ9Z1J450AKJs5sZi5g57gIoI5uZ9JiJoEAph5iEcZyp9JwoN5mIcZ2IGc9MAqX2shtB9hkw2qwEFcTIqwgYbgSF9B4PcFwgngVh8hkpfAFgNqEwM2OFlYBF5ETp6RrFqFxiywphvxooFF6F29NMSKCFil9BkrEOIEEffErvYQRinl2l1LRxuiyAOgb0PZYx55kVsVyWAVwVpxqgLx2ASAMRzxhgJV2V1LeVlxgAUVkdVe1Y1bJXxIADlyBjXKnTXjXZ7PZ0WqR6Wq0iCgNYWAR4WNBilOntoCLkXWX+Z2XbWBB7XqsTUiXpgSWPWPCCKprA3hDcMgqwD-SrkfWMH7l8GLqwyPhkLLkKHGA1RSA8lU8GA2pyBqwlNb5NB9Btj7XKGOBkEaGTlv7iVnl02WKihlzST4xCA+7aVkKftkVd7baK20I0kvMNyk2SlorXqyVo3CDzdlqG2Yhh2RBR2dk2Hk2CwjU8WCX+0tbMWV3yGg2A1DXYhLbRTcR+3kEA4OABAT2xAvhGqY0cK97ippwsQu2YEmW+z8YQ8w5w9I4o9MAMBxyXA3h1ZyBTBbYMNyobhSBPElCuKmMrqWAc9LC4Pwbq5LDl6HCOB6U8aGACbqQS8QaZAKYUOsOHxtFmhSPb4SIMynybg9EcUtAC1COXkpLBBlBlArqMgU4jBVkOO0mQ4XrmkOOlbwRHrSgxOWt8bfqwPlAj3FQxPHTb4y44qSMFjKBJZU5lOxAnlWldOLiNOOmIhoJU6RkWO8aIRfq6PWFjBGPu8EWWkDPJZdOp0Xr4RwQMz1OxSpEFBmlnl4O0h1SWltEJOHVdITJGE+tgvQAF9lIV0EPxobxgvwgC96Gkv-PwhFmdjih4QVxShEXBhovV9wQcuS0mLQPwOyYPgoO15PFgvjJmh4u-SUaYyPpovYvVxG4+YHl13EzZZkuRUJPLOXqvPcQfOCu-PWlJucPCbVxHr8Psj6lpMevYo+vpvwhZvYx5vfrRumAyBfPLCbUBuNvMV3OGvMXJBNPJJQRGKWlvXLuxv9u0OVIr4sJ6v2NRuIQZGRM+ttpguDashkv7vDO9vSBBIuNi9tPpu8udiAByfDlpPG+HrjEm4j6bzz+IMUsme2fQbHoz0ztU8aPmbPTcbaPH+T2MfEoQXlqyYIfGhyHSKyC0YsfGqcjgeEZ7ooUoT7snu2UZv8XHvnqNzHx7sHiji7wzib8ngHwX8mYXh7iD+2eSlwItkt5QMtmcfuPNDwONVaALqM1r2Wa6EL-xoA26w3xikpNb43+d067EVX9YdX6gTQUSspHXtwFzvXzn1YaUieY3mH-EnLok-Opbv3vqb30Va6HOlwPHzuMZHqbXmxNwPXwdZdMBc30g43qu++ilRWoEFcRbu-brq3o4ohLP6zFh934wJtNZeKN12P0ZZgBPt3pP-tYNcP424MlVddvP9SGRmHrCbaFvuNEmNZKayw4ftwUfrM+lLjcd4e4r5Rgf+QVv6f1pOf3Phf9SB30t53zXhicLpWFyzfsbW3hFnfp3l3rXyftvtsrP8X4--GKXb1qvtf17HMRdIdZbrP6dIKQPxiwvrkW67l9CMXtQ0Huj6izY6ijMSWCQBT7GUkSLqcPjDxhjICVgkNOVNdAVRDJlUfXNVCQBIbAd6A4lU1IQAC5ICyBMPbGJQPQEtBekmAvqNgKVQuA8BIHbDJfh1LM9tI5USgPgC2z8wBgFQWmOHzY6wDm4xvUTlwJ0gZlBB1qKftwOyjbYJBCA6SoMDYFZYQB0A8itZWqDcQy4suajshCLqcU2OWEJQjFXPAZkWAuggtkoTOw2Cy4yFbaNYJECp4sq01BwVLTZQuC9Bk+UQfAR8FuCrBng7Nn8lGrmC-aidNjm2E8ARCSqulMqhVQMHtZ7KnOSIXWBUFyMLIq5LbJ4OSHigLBfIbmMlWj6tY148AgntxS0I7gsB2XDgfMk0iOs74RSWoa5WlAu1kUN8BgOoBEAcBSA60IQoQHyQiDvaMQIdDfC94H0DMGLQIWXA2whDqgYQsPoQGKH5VAGaVWYWICVo8s267Q0+l-FzQ9DhAfQ1aKsMTqD0mYQw+wa4JUreDPBSdWDJ-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-Tv6b3MjdwAzFUb9ZM4WjR+tyzHyU65la-Ehv5giy0NPqwtRkMgUYs3pjIN4Nis2UwryQQ6bDfkrQkDzphBGvwIyGI1+rXpxmijb7TE3U4RZtI+jXpEY3uTmNOxHmext5icbYg3G9zcGtjUCaNE6sz5QYDSb2bWcjm1tdJpBG6oHFudYQDqoZnBAUN-XMjQF3eUYayFXPQQIloLUYauMsg+SaRtY3kaEhCW0daVpK18bYUg0D4MEAEFkbQh6G9LbCoxa9xKtNWvyUKoOn1TGpLUu1eSB601S+tx0yVUJtK0ia0mHW1Le-xtI7EMQHncrS4FkHvLDl5IerchqU2MBRppc9TVSBm0KrGQ1qsVRKqYgnbbVjIELWAozGHaLVmU0WOCEW1lyUgLMNmCjFOjvrW1YG7yriA+3rl-tuGPSW5mjH8i4x2o5Ee6tXCXq+eAGUGK9pWiA7zY6Qndeog9jJM0mYMXWOymRgI7To4EvHZzDR3wp-1wsXGNxqe2kB8aMO8mCY1e26wmW8yQmCnBJQo6P1bHcGVQE7U-07KsM9HYKGOU06cezOpjpurH6Bq4IFErlcZK9VETbA-O2IBPSl28CZdbov8dIpawOoUIDQUnYJGmgU6Ge1OhlVeu4Ai7GInU3qCYH4DiCRhBPfdLUJvZ3s8Ej7W2nOIv4a9mcWZL7RGMnBBROdtorus6G7XGRLdnHIpI0KXjNCUs8KP7jPwHEYr+s3MSJgRIdqVgtiAymIDZEVTDJ5xRdUgJqgJruwNdhQcEO7r35QYOeg3akMru5VBjZFDCLXcZF13k7+AEIMvVfwP5WQhdErUAO3v36cUgqjYG4An1MZGNGQAAThODzJR9o6L1Q6On08QzGO6ihlIlTim68NX-FuvwQPr5YBwLgVfBTLw2cjF9RjfQLD1h5WQ0AV+nzeQsognzj9hgQxiR3JH8rYwM+5fXshzymiX8U1FwD5DgoQiC5MQd-aaM-2bh+0w+56CfvCaJqrlRjW5c3CewNbvdAGtjrrv12t6gCcBm5UwCnLEAjdycLQIytu7YGEDjOtTivzjSbrqgRUE8GQB7iEIZWe6qkK0EZAN9fA8fRPrr3ETGBvVRUPGkcATX6bl0ByUgAwfFYLN1IhCNqiAQPoz6IQ3kHyDf1AB48xYdAfg5MkSYIhstD+p-aOwV71rWgxwPLF7RYgDhaNvA-gdakS3d4jDeG1bcltzTFaitTW7bHYcAYDhRD4hyWJIYkjSGEk8IcecAegMKHFDPkeSblqEGaHFD-kEwxYrYixaGg8h8EGEe8gqG+eQ0MSSHFSPeQb9wUR-UvpzG9r013O2Orzrmai1du9aohRHoPhR7ce8egwGnuVhpNOkCE7vQ0er1lwjJO6mjL9FsKybOp7qIQIYEcg54aD-AM2furYPfLG+4yLg8nx4OIH1D-AAQ0IdM0CBvYfkjo60CJI17VdQYpiQ9rCLMYtjJvc-CdWXGp4fxzAWSNBGdQi9qDM7OoynF2P0MzjIm5owRU6adJ6YFO6ngQbPA2wTdTFN7WVqwA39N1sPKQfoAGUAAdLAJlv7VNpLDMgYIL5y12ZNUmpyNCBfp2JeGJa+BtMJCfrXQmZpsJpSQiaRMVyUTfAtE2DwvFgTeAJ4Kaj0CwjMnQAAALwvAxAETRQN1UwDpPonE9WJrkzh09h4nwQBJ4wDVFQgzQayIxsY5uGhPInBTfyYUzMx+52lyA+NFgPjWUD41eWkwWHmmDwAknYdKpmk2qfpM0SwmWpw8jqash6mfyhpjnpKf8hAA')">put("and", "evaluate_query", conjoin);
</pre></div></div></td></tr></table>
      sets up
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to dispatch to <kbd>conjoin</kbd> when an
      <kbd>and</kbd>
      
	<span style="color:green">form</span>
      
      is encountered.
    </p></div>

    <div class='permalink'>
<a name='p12' class='permalink'></a><p>
      
      
	<span style="color:green">
	  <kbd>Or</kbd> queries are handled
	</span>
	<span style="color:blue">
	  We handle <kbd>or</kbd> queries
	</span>
      
      similarly, as shown in
      
	<span style="color:green">
      figure&nbsp;<REF NAME="fig:query-or_scheme"><a class="superscript" id="4.4.4-fig-link-4.10" href="./4.4.2.html#fig_4.10">4.10</a></REF>.
	</span>
	<span style="color:blue">
      figure&nbsp;<REF NAME="fig:query-or"><a class="superscript" id="4.4.4-fig-link-4.11" href="./4.4.2.html#fig_4.11">4.11</a></REF>.
	</span>
      
      The output streams for the various disjuncts of the
      <kbd>or</kbd> are computed separately and merged using
      the
      
	<span style="color:green">
	  <kbd>interleave-delayed</kbd>
	</span>
	<span style="color:blue">
	  <kbd>interleave_delayed</kbd>
	</span>
      
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      from section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>.
      (See exercises&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>
      and&nbsp;<REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.80" href="./4.4.4.html#ex_4.80">4.80</a></REF>.)
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave-delayed
       (qeval (first-disjunct disjuncts) frame-stream)
       (delay (disjoin (rest-disjuncts disjuncts)
                       frame-stream)))))

(put 'or 'qeval disjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyUgYYgFE0XE3gAK0uVF9GIAAPQgwiouJ40DBr0kybq+rCcKsA4jyqlID4GHazqJv6oShoSQM5lWqazhmzqPMCRblpRQwdvWoKb16tbptm8wGqalqGG4wwOrq+hzsGoLRoyLJrt2847pcebFpet7TE+qCgu2-600Bg7zCOmcwc6s7Ya+4aXCuya4f296XBqMQqFqBh2jIXxIfJaH+kGWHprxgtqUoQJyAUBgNBIERnsjchfFqIw2QqNheZJwxSQxzbklSMb-zxKYZi4nm+eEBgxaeFdmiw7bDDl-DVyeQEAD4mZZtmOeILmhZFwYPlNhCBesPW9OdooreV1XSVxoHQGqLRSA4chK2IbnheVgXuDd0XxahzGfel36HZXUpI5VtX5aaHgNyGGmHadv0DYBY3fbIAOg5D639BTj2njzl2DHCQuTf6NmiLl-kIrwIHDFAORFAgGB4CQVA0DxEfasZ4hcOJoxKAUShuAtyshO+1JjDYGRGqnmg6DEGe5-ThWmbn5TmlG1niD3ygD6KBT8AxLFVd8BQWHwBdcIvwwn5fhd8A3uhz8vo7FodAl4nzjktegHwhDIxMMLMqH0Pj72UqUSePxjTQO5soOBWU6CXwXiA6+qxwHVlINQcUmDsFdUQVfZBLRTwMBIWQv4FDyDwNwdQ-BoDnSn1SBaagYg6AKAtmCahhDYgoPoXwgRQi6AiNnvPYBXDFQ8IgSIagqIfjXSOoYZwgDaGoIXG8biGiFxaOIG4XRHDFFiJiCo4Wz9hDkEan1bRlj5E2P0qABKwcgZblZiwRxDB1wUCEX7M6oja513sQEpxL9hAUwicZNCi8PEqOMGTRwH93H6Poek2smSjBtHycoYOUCtAyMoOE9xnDUngPYB4LwejnQSJ+PU5QjSrEpLAQ1ESqtmDlOEU0xULSFy9LKU1QZnSCHdN4YQQgIJuRUOyc0wQcy2AUwMR0LQ+ggbOMIK4hB1TrGRL9NuGcv8GEMTOqwsQVT941NqWZYIeDQA2Tsg5Zy1JfCyPID1LyPlNnExqhFb2HN1k7IcNwG5A1XwDgavs6gCh1HUDLr45EkxBoxCCmC3ECKkU0FRQjXByIoWkFuUBciz5-hwtSLkZq+BygMDRQ4DFUEYjvnMRkYqgLtm7LiRTdFJy9K9S0FzReB56AVP0EkvSuzgnnzCRCugjsZUEWhUKuuuzxXyEEYM9Fj5YgrwYL09+owaRsBoauUoJqGKqNFWCI6XKPGxGaGODUYYKIvkNE8zcJLXm2Xsk5YGRL2S+BIP81Z8zfA1RzHtBmnEzkMAue-NGk0amYqCg5dmZLU1rTkqUGWclNZZx5RfEGM4bnnRqRqhoibk1XLNRWnNVbrG43jR5AxqjjHOE0S48xOjDlz3TTHSW4Dma1m6lvC+Ri9mkCCYEG2RyUnOpGVs6d9AVZaNUXcq+NTjKmSnfoGdW7OhyPudY+m3tO15ItiUy+hhh3khpY1ZqlBcQ3oKdQiYmLDWxzdaGcknrqXCn0A1YWi1xlSq-aypJQVS07IPBB-pEzZH3sdikgKVKf3ssgQIctfS56XLPBKUAST4P4cg5M+RYROAYZXM+m1xGEMLRnNQoj551orCChR+R7HiBMUKEB7D-pY7XqKbei+qqsXmNY8hipO6aN0azIBuN3s60bwcFIjU+h-5CJhVTWOP1xq6fMWIgtv0NaZwPBCSEmmLECNqHCbg6mGB2Z0Q5wYN4TMTARGRUjIKQ2GG5IwBlMCsGsJwTu9az6P13tEZx2IjYv2Mli6UuTwiosCd-aOh6r733ic-dR51njC2xjWHMi2NtgtJv4CwthZ0ePEyg0VlVddqTVdC3VyLAlbilIK3eqTdckZ9KaxltDkwKWUsjF6rjhnaW4YwRUcLbChkrLOUehbsiuuxU-s-V+gDisqMYeQpblC3FIKvApUE+hjvMNOxFnbX99vxdVc0GWAVVMhs7W0jp8jH2vFw6AfljIfsMH5YApijZux6hSx12r936v6H5ZNlQgO3P8I1N3IELn0cedvNyPUKO4OHv5TWooIrKuNRARK3VqHocPulFp2oDPl2Xq+-QsZ6XUNTKXhLBM3jjWYz49K5Jh7elmIsYO3dg2Vis8+-jOhPwtPNaHdYwajZ36Mng8r4RwuIkXvJFpx+e234MX0Drrbu3v6APosRmpTEgrvzZwrztt2ODbfOwolJg0jdW9fsLt3wcEc4ON9bxJsvD2B499lU1+uUknLozqGI7bzCdvQVt4PSzVfe6gr7p7pumPp7C2d7Kfv-zVJXPBov0fGCx6XQQhPBD6adyJd3XuSgoBwEQMgdAo9iTj04g1NeG8eXVF3qIvnI147PzIIAmIAAfefxkh-MzH3P0Ai-l+pBfq-fo7D3Eb6X36Iz5f96FE38f1I-7F372d4zBqzAxASBVutqxlA+j3DEBdObQSs4T4AGT-69A5wT7iTsgf6P536D7SwAIT4joJgP7kBP4kyv5-avImbAop4uBl5Jp-ywEH7wFbQ5xETuJtrewNQW5npXxURGqP7P4MCoGq7giUGYGgr2a06sb55z6vjUwjA3jbQkH7wTa3QhqUF64EHLC8GeZJj6CCFXztwD71TzbvDMAZ6wIPae7Lw-50EoHXZWLgjV6Z7OCsEhqGHqFsKh7PYSHZYJgCEyF2F2jxYKHexmHLYh515n48GxwOFZByHCF7TkGpBR5GFS5aE5apA6Ev56FoHgjBHmE4ImEK5xFuGPYm7cGSHeHEH2FZGOGkHOEhrJEl615m5wEZGjo+GyEyFOFQFKEMH+KBIS4Dr76eFlEIERFIH0GMEKKST1FOKNHGFewhrRKBLyqhJkBRY0Gxw3DYg4EXImbcAVHVEBFDG9Fg74DxLpE2FEF8EyF+EKFYHgKc6jbc7WHSbhGf6dHRFMFHEDKyKJGMzi59qS7NHUFeHlE5Gn7yE1H3TKHdr0C9r7L9qaGTHnGREMFXEKKDYGEbrIr-GmJPFNH3GcTHouLzr8ylFbFoigiC4yAvJywiEK4on7LbqbFnEJiJqBC4lWKkgEmMxElzqnqkkbTknYmUkvI6BkEhpD79ZZItGYljodG6E7j6GpZIkeQC6pZoYgksk7jgiincDQa0mcSpYja3GVLcGxCtHbHSG5FCFKlzSIaybHFUH6b8naxFb6mIwyaqkobqnQbSmBhyEAwHG5ZPSSn2lvFtFpAJyKnLEK5gbrBGlqlSmelT7enjROn7GBFg5ci-Z8n8mIHIFRHCkxE-ZinXC9YxkNJMlBTrbghpkKnuKWkuCg7g4YlmkfEHbfFSzsxrLUCLLAmhk1lgldFWRgr1kJGDEK5aoImNlakuCLGkHFmCDNrlnMnamVF2h7FdmMxZrQr6BECmlklhkywLk3R+mMz4aVqLlhG2E5w7nDnDbzk7kOlYwyEHlxot74xt7yAd4Dzd7Dyjw6CKE-FMCkATo9Tf6jp-JgHjr8by6MwC6+KjGSDjHcCk5q6EFYmyl0qEAMpcxAzghk6FAgVhLgXrE9CJ4unzb0qMpopflektnXYyBWSwXwUqyIUzmcRyoRZjELQ7IEWBgUmVA7LcD4kbnUVEprEbEyCMXQUzhskkWgA0kcVzRcXaqSp6p8XAisksVCUcnVleKZmMYTpvD2rSV5kqXEBIWo6yLCJUW1FaU3YMTSWJmXE7jvxWRaXpkuBaV2qDLvzSUVGOWcku6OBfA6I7xU6Vg05So54GajpXRN6iXmD4ZyAAL+VxjvEjBYVXruX4DGBg4CohJcCQWFABUJhYThVCL257SNjv7ByPRvreW+XCKMjvYvmiSZnZUfz54M4prSVYRl71VXIGWhUpWWF6g7IpXPDpVRV7kjA1VtXAwdUprdXny9Wan9WOkyFDWKUU5irU46pQZ1W24M4sDrCFUEKT5ogWxiDv5GB1UNxSgcA7wHWnhLB+ilBYRAUpWHUm4tWE7gWbXeXOrNCnX7WqD3XfwDQAA8wIe151nQl1sYKCpA5kEIAAKnfEpXQL4COWILwPJk2HWbUM0OCKAAANSkZta2xj5CgJJHVY2vJWTE0y6FB407wE3GWE7FagCmTg3PLgjQ34A9zECOQI1I0ZYo3zLUBo2vJk242r5U0yCE0PXhDY06UY3Y3k2xCU1iDU0XVRlDF3zSSdV6757-axBxWVgMF3zYiRXTDexBZCDfWvyPVLnOhGqrnNV00KyLx61EAi5tbAJYIJVj4lXLWDLLqy3NBl4jjAEjC22y0xCzA5xK0h303tam1ERHU2h2hK0o6Cb0YgaLwB0FUvpPQSUcEJYNA+pm1sBWS2QvzlCgAYFJ05hYZspGiA41WMhhV3VKZ+hBQm3EodXNXjVCKtYu09yjUNpDUV3kQqbTUuAO3ogG3BUBYK554m4a0m625a15hfYgKO0T287V1L0K6t0F0W250ibnE21HWDYoIr3j3O3Oy3oeUe3Z1+UEJ222JfIm4B3axH3OylDwTbQXW2730urR24Kx3i3x1ZCJ1ZaUop0GBp2-kf5FW4g336XCaFD51l5F10Al0iBl3nwRosGD2gBCYb0Ui10pX12GlMqN3BWxgt3Bad2lJ1XUPd0u01V8YNY9U4NsQZWBhj363dST04BXkFg3l9yd6Dw94jwYCVXgJ4rIqEr4xKq7lhlEU7h+rgiSMEraXDU8CkL4oorByIrzK2k4KyOnmB06lZD6r0yFSaNSM+Kt6Mjrbph5lzA6WxBzCrj0OFB5kchOMxAciuORJ5kYReNWakC+P2PXaSSgiBNnIhPTB5kn46Un7OhuOxB5kvTzK8w6WpOhyJN+NhM+peM+qxhJMxB5k3Dv7swsCGBIWlOqDlPdwrBFMyWymY2BOxD6A9TcC+ANzGx-LY3w2gANN5meQtMxBtMdNdOgB-I+R9MDNhNObTCjOgCdNGwTOgCQiLMxAzOynADDMGDtOLPjN-JgDTM5OykACkOzCzSzjcfypz6z-TJzYI4I4kLTlzBzAdnTDzEIAAhJKC83s1c906AD80CB86E7Kb9Rc-828-9TEKCzE2E79QCMM688s38oi7C5s484bJC2M6i6AMbBi58+CIbEi9wEUCi9c-i0CPs0S18zsys4UI3DEF87EJ+emAVIDio9o0ylxc1YCCuNMdnAMNwFy9I-wxyyoRo4ilYzy-jEmiwG1CYJUvyysIK8iMs-45Y6ozpRUfqg00UKK9Y9eWmJFJy1q9y0Xljo02CHmdfjpdfvqz3cU2E5AHQN6OotGmS66+62+o606yU1QDU7AJAF49UwwMG36z3QG2UwAKKBNhsxuRsu15kABy5AKbOzabKbP9BEErVIhr26qhnBD1Kr0waryz20vFIr5rZclrebAgBb1eKapbDQ5bjcurF4UrWjtbm2lSJroKayuKNbRrBYSqpKYg4JHw0lOKDA1QrmMo-svgHtbUgc6wygpCmg59q4BbujHAFSBjgqg2Nyk7V8RwRQAFyp8YhAntklqG0lC1m6S1t7YIUm5sIg+gBbuyzV3AkdXbMr1ettyFMQb7gwn7XF+ACrSrDOv7jbvbTDSbsQGdMDN7Od9MHAAgGdYgXwG1piT7HBKWV7KHUqJrfDqIAjd5XeQ8mAYjBxalFApgpMtYHw5UNwpAjSgepl0+LAs+zlrCTCHAE2Scxjk5vhMhHHGKktDA0tJs+NotQrJjxlpCJEYizQvHSnfw+RhJigNwqsxA8qWgi6pCO8lt45Lg5AygygSNGQ08RgUKFn4z3c2N5uFnAd4IGNpQbnUdUtxN5nygCHiobnhZRn5Kw5gJlAb6M8wX47DOx7YXvrkQ0E7D2BwtYgxN4IEIxNdKOnxg+n-MgrsX8Qb60XEnry1g4IoXhXuIfsCg5uZKnH4ZWQNyZm6Bv0ukJk4C62TXoAgBykoG8cEZMhTX4Qi+wnN4Q3QL6kxQ8IQn8ntXX+rnU3xkpQdH5nM4ZMzH2UrHjSTX+6BgFBdZDZH0XXPXq4Z8QiSqBYs6QJR3dXkwS3ryGX2NcXVXZANX2085Q3EtONsYGN0nsxeB53PZgJzxc3JXMqv3xNz3TAr3s3Y3zan3Et4PZXu3z3uUET471bkgxV1Xd3KwKiWEO3Kw11lXEIATzm1273dXQDoPQCUPOPlmK+wXoPQn4IAA5NJzcml+z5ZvLdTU1xV1j7iGTKQBTML0s1BeAquUIjPpuNtGL-57GHmUIMIFLcEFLQ5DpG2W4MWFLe+RwPCLj-JBo4L7N-L9T2b8b+Fy96QIJJZqj3L7WCL0AjeBb1D-L4pSu9WEFhuzOO-POh4P2qtPV+2Yd7gtdM10rwdwkdwEDwcmH31Ar4K572uz73xv7yUm4NF0H4bypJLxFQn0J3mVNwqfnrgWkPn4QDnxnNdIpWL4-D8j1On4H+H4NM+iHwY+Hwlo2F+-noyCuP9+X4D+Jb2R9J31lhYwH9ryrNCvFBoPoHX5-A3035nwjbmgasucGnK-7WAcoxuG1wrFrDnPspP8YNPzmkAhUcfxn6f9muSlX0Qj30-Tv2cvvzfBoyfyTNCpZo-9-K58n979QE0B8ZX+JQIJhd1SLfwgOSlbEP-3XaADfetqK-v2iz6d8VOYAn-q-GrYf8z+IXQDFhmfQmZs+P6XMmE2L6P1v4ZfQgWPzwHTZowhoODH1A+xT1GYb6EgEHx2oSMS0BfInsJ3D6WZ8610FBoGk+T9FzArAtRsOTUpjYW+EveFFwMr5CdsYCgvHi0EZqbhBB-qd5EGhaAj8XAUg2RJU1cqMwLQxYcqJQHwBg5g4AwCoLTAT4cDxB7AnfiYOqjDlrB7MbXtpHKjg4ZBSXYTvoPVLUDmBnEAXCwGqDcQd4infjqlUcocCsIgeW3OeGHKhC1EXlQPEjjCFj4nKOcZIeEK-xJCMhqQs3DkMyH2CZCxQneOo3KETs52NVSIeKBj49UOBbYTwPEN7oTVhyD7OochCrAMQGhE1WIVnBCEFDd4rQxyn0K7qKUGoJCdgbIPaJJkT2q0KyFNyMGD4VC0CMhNsg0E1VuADgNBirBIQMB1AIgDgKQHWguEiAGyOwfg2fTTDO+CDRLIDiqEg5hhs7RgLUK2E9VQG+9BME8LALX5j60oPYZcjnRHDhAJwxYW0K7qDZmguQQgBTCqHC4qh6-SurQJ9ggY5B1mO4fgxHpgDYRFMGGAnyAR4iRO2fVhlXVgyiZGBK4NhjiOJHh9FKtsZuEymFizw5+fqEztxhZGio+kpsSLkyLVaQpqQmnTclyItg8jm4fI1mPVxtrMxm4zXUrO12Lj+x+gZcFOFuxWDmlTYSbAuMbBkCijGAjI1mJKJbhVFZRUo5Wi7h6iioVYQobdKCAcp8d6hXEKgOMLrBQRGwvwoHC8JqF3VWhc1Xwb8LAjBhxwQnToa0McQKIhqdvKgH7EYClN+ICI01EiIjgujIRjEC9h5F4ixiGA8Yr6rxBTGRjGhEvOujvxkBJhagGNFnmWL2AVj+B7QToB+1TERjwgQnOusnhUFTDWEjY6gqGKtGU5bRlIe0ahnzHOjCxE1BnqkCwi8RwggBTgdZmbFCcsxZAOMaFC+o3hpxUAxUDeGbGbj0IMY5cTmNXGzcNxv7AiNtB3Gni0IA9SzOCGrEcAVeDIsfOh1Lxmiaun5AYdZj2Y6iy6v0FYR5DUAmAvA7MRgM4K6igTnA3AOviOLr5DV1cgOXMYLnNTFQlxSQQ8XxC+pQTUx4E+gD+ydZoQYJnw3wQhMdQWpXOd42sTwIVG59PKWHSQC+N5HETOUFqP8eYF4CJUwhvUbsfV3lrHiqAFoxmGlHFFGjugbIboNHHJBJZGQaUHEKJL8AiUcRWOIMeqFqAlZfoUdQwJMJlCN8iQv8LiXBMlbdBGQ20acQ7h-zTDug4QDzlNyjrdA0OkgUAJDQAASMbBgAAEFwA4AGNgACVIakAAAPIptkAQICqgcRkCSA1A7grSGR27GxjXR0lNiToy0kxTlxzXQSRxJ6if8PB0UlCcqksyCTOgC4bCe8GHL5TMgkU0wZAgNgS8nJLk9yZ5J8n+TApJUyQK8IqAZTp+WU5wGdBynSVBJhomrulIYA6TcSPUrXlFOcCeR+pmBUKWEPKmeDKpOUuKRwP6nMiqAgrVVBGKRpGwZcAE9pMBLmldRNplkTOOF2XFxSgOYU9CQdK6nJSkgcUttOhziAZBg4uQBwH7EZAAAGE4AcRqCORjUz02srzVD6ztBgF0AGa9L0rBMgQevF6fBXenY08Qpk0dDDIgRvSyAw5AXL9OBFRCuhS4J6e7nb6xRqAkEXwVhHBBkCsIKMwmeVGJnU9xOLE2yhbHPjYzxQqQaoNkGenrR3wAM6mdlGJnlV2a-0gmVHyJmgymI3sWUcHEcidBGkPg2bOcVuF2CkkpQTGYLLSEaCqZIsmmamCST495BxWa6lnElkMBpZbARpASMr4K9Cgxs02Y0iUGCcysOgwgB9hxE2yZZHMgTopQqCcxQgSaePoQHojqc8ZsEqCBLMCBSz3Zbo8Bn12BHdQYMwEVOvWOAaOjuhD4e4cJFjh-kvhgmckQRA9HPCUh1Qt4Y3TinZzpgQUFgAHX+F1xSgZYqMCHWaBuyzZ6QwuYiOREZgsA0EPBhSPOJYQ6wAIpuebJzhpyRug8kkQ+GhE9xga-5ZTMnVdnhyTZkchPvNT7FcxbRcFCxH8FxnRDOgS090Y8OGEFzchrw0hgAj9GETBQIGJ4cCyDDKSSZ8shMA4AJpoSExLwpMcMKASXjCgp4Uud9ymyUQbhXY08Kyhdp4BIQ4ClcB6MPlAgERPos+bvLTE4MK5h8m+dXKurShn5uY7ebuMVCJiihH8lCNBFQhRjHZYYlOXjJ-mILMMqIgcN7MqypAPolC8+RNV6pgKIFD8wMLePLEPiaBlEfBgwOtHYKehhdKhSpiCEeQn5otF+XmL3C-gQ5vgksepHIkq8qx3CkAb-SKQNjCAsi5rjVQnGxztFLYngQ+1nYbwN5OiLedopFZyKeq+i6YYQHFi9jrRpioJAlQsWPAHFIrNkLBNABsLIQ+iqcXLG65AEMRmEUkEJ0kW4gsF643WL+3XGkgcFhQSJdIuPGxK8JioYyQkq-mKhrxKgrhTWJ4XiLXyMMmeMaXq4KM5ExpKys9Jsq6UsEbE3RDDKyE7E7QTS9RijPBxNKOBJ+EkbRE5n39xE1rCEJ0Glm+AIi75NRpZgqJ9KBO-EziDOycQlKYZkEx3rin3F3TQABE-ofvMlZYI98QskjIEBMwsy-gbM3BE0shxo46Az8kicVBlTJKsFmE06XdK-lvB6lTRI9AHEYBNLElDQLZRMN8HJLblZEtRUJyonV8p0jHcmB7ODjg49lQgA5VbJonPiDRr4-QECqYlfE40j0mqQwC8nWQAAMjGyCk-jMg3072JdIikwzup6yugHvMBXsSkpPUoTmlK0kkxqVt03KSoNKmjJnpZ0dRjyoOX8qOBuK-FUSvADNSZw6U9lXys5XSUVpIHdUYqD6lorBpw0uVb8qKDggYZk018fCCA4qreR5M3Xs9N1WmwDeilGdhysWmILlpr41aayOxCqoYZyzGXAsoOUwqRWtK86aqkpU1NrV3qxBQzOpC7tg4Yvefqst-zPK6VaYoSYJDtV2w9Ra0ufiuBLHGwkkCqirJbCVj8xBs3oDqeNMqlPLYpiCzcd+KtWyri1Z0oNSckYb9Tg1paKFSLwjXkxXRcarmYDlaDqsgQ0khwRb3BCNqxeMafkl2ocBVzwIIYngTomaju5w1YvNtfWssyjrcE-gs6BbzrWvjg1DUdKeKD0mzCeRa+YyXxOG7z5iEXYo9ViqKXJdggVgzqXzMYDpTzcd65VK33RFnK2pu6oqfHJroGS-AjINVeWF0lfqvhjYSzuDV1xFS41LbPSIaolHdAxpFUugGaubjDqGgRUHEAhvmlIappZOAns+u4DfiwNRyitM+vbUo5u5ydeGFvXMGBADlJ8x9V0p2X5taVjIN5WeA+UXKn0b61qb1F3U9S96jYQyUCAA24hdJPUkDYDiI264UZ-U6DQRFg3CTtgryHVVNJwbob4Nym01ThqSSUznpBG8ZlJq2wybN15G3ObGivWCBhAKsFGcEGulHdn19XEpV+r-lv83BTmhzZZjcFFSn1ha5VK4Ks12bcEzmqCB8BvWBb6NSU4DRJMByvwC1iGq1rirqneTfJAUiVeSES0eTktjUklXht836blmsWwLbtBxHggMQ5XEKmZwC1LLOZg0ULbRpRlzsGNnMy5ZK0K3UrGQoqwlcSqYidbxVjIXTXjO-Fta+VROWOKVq8DlaLN7UfAOzJOimAGcG6rUd0tSDIc5tXUNbSDQViLbm4lmabezOGwbaNsdAcGH2xwWDrVlzGY6PQBO1HaTtNGTuXhO23mj6Y6G5giIClrnbyYOlPbX5vEaExp46qWNfWoTVMik1jqpVSsDTUPaVgPSz7c2v+0Gcm1FMaFFbLQjIq6JqK3kQPVsB+Y3+6O8wZjolFRiiFUdGWChAaBPbBI00V7Rrw+2Qqh13ABHemIOK9QTA-AC+HLP5LwYNBmHbDpojw4VJg1sA1PqakB2U7fQLde1WDvWl+godfoVnZZ22SaQi2GwyTG1kp7kpXRmqm7DHy6anj86lYXCekpiBvJhBLgXiD0OCbeQBamNTuSTsKDghhd8A4AQ7JWT476JRO2xX6Dey-Qa04u6nfwAhBO6gB78OnTWGJhI6dKwehAcRhNaNgbgjfTJrzEZAABOE4N7CT3vo0VJnDPTxFDhxrZ2fsGeIzr3oECfS8hYTEJgHAuAwCH0veoUEz36BWerPKyGgDb2obWIZm50I3vNLtzXYee3mAXvUSz4VpJBIBC4B8jsVZ5saBvQPqz12xh9m4BnAnuehz7g1Iy3mOMonQY4b1C6zdRwMp0B7HmG+sZW+VrBh6zwEehnYIDYCjKt9zO72EgLcBI7QMdAIqCeDIAvwdE8XJjQIFaCMgF+3yZgI3yf00qFoF8aoEVDS5HALVXGgwEHFIBf6PWE3CSDolOo6Q96je8EN5B8igHNlqyn2G-v4AxAcD-kFzbPsMBpMKYbvC7a0GOC4Mq6LEAcJBvMGWD2YVm-mHQb3puaAZtm7zV5tI3g4uDXwgcAgaQNvoUDryNA8InhDpzgolB0OBCBwPW6iplmmwf8mUNkG8GbELvf3oUO8wlDyhnyGLyGhITu4Rh7yB3ooNUG41EOooCtJl1XiiGhcEOjQehWXjld6w6eK0C13wHddyzJeFbLh2i8FST4jHbYZlgTZyNGY0KiQyECGBHIs+SA-wA7WSt-9QIQA0v1AONjwDr+qA5LRgMGpu+KVK1sEfn6hGd4KKiI7+NG0H0E4NVTbW-3BAOQlK6EsfKOPICyRoImsSri-s8OyJVd5R4Tg0aAQ66e44zQI17JSBtQZtuCFGKdD31Lb91yHeY6O1WN9swVFmDsZDNLhB4c1gwVVGUfwzrHK40x1GEAnF3k7yW4zMGLMcbSr7XoqMU448dOgqpcdTh5mfWtxiva1eVkYIxk2mOzGTWoBl-az1An6BjdAAHSwBOas1KsVgzIGCA1cydizMZhijQgt7XkYhhKhIKwAgnw1YJrKRCfSXQnYTPspgBYMRM29Gx1mXgCeCAQ9AsIdJ0AAAC9O2oAaE0UBA4UmmUSJsYz0DZPom9ImJ2Ip-pxM1RUIM0OI+8ESObgwTcJnk1SbfEdNyespTo1ZBYBS1lAUtFXpMFZ5pg8A+Ji7fKfJMIm+T-zVU8fqlqanSKOpg3iKf8hAA')">function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave_delayed(
              evaluate_query(first_disjunct(disjuncts), frame_stream),
	      () => disjoin(rest_disjuncts(disjuncts),
	                    frame_stream));
}
put("or", "evaluate_query", disjoin);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p13' class='permalink'></a><p>
      The predicates and selectors for the syntax of conjuncts and disjuncts
      are given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    
      <div class='permalink'>
        <a name='h5' class='permalink'></a><h2>
    
      Filters
    </h2></div>

    <div class='permalink'>
<a name='p14' class='permalink'></a><p>
      
      
	<span style="color:green">
	  <kbd>Not</kbd> is
	</span>
	<span style="color:blue">
	  Queries formed with <kbd>not</kbd> are
	handled by the method outlined in
      section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  We attempt to extend
      each frame in the input stream to satisfy the query being negated, and we
      include a given frame in the output stream only if it cannot be extended.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (negate operands frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (stream-null? (qeval (negated-query operands)
                              (singleton-stream frame)))
         (singleton-stream frame)
         the-empty-stream))
   frame-stream))

(put 'not 'qeval negate)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyPkCcgFAYDQSBEBgKjYchfFqIw2U67ragYQxSSouJ40DFI0gyf88SmGYuMjQbhGG4knhXZosLmPrrHw1cnkBAA+alKEa5rWuIdqBp6wYGv6ZqiLmva9JeoprqGkb+XODiPOqLRSA4chK2IDqlpuvruHelbPrGoKpvSTIdpXUoodW9aVk2jchn6W6nuMwoDoBY6-rIQHgdBrrwdRkanme16YkJ467qahCdq+2qCxOs6GBkLrKBubFkW4MJYYmlxeaoLRGGZhQjFO+6GAF-QhepdmfvMCXKCl4b5aauWzqE8aEkm1IEf-XXBOR0AzY20ASYB-pyah-R8e2mXdvxxnQE17WZf1hWiItyY0wi9WXEMaoxA4Shsr9gAPQ2gqwuPuC9s2Q5wPAw8Mb35CUKA4EQZB0DxNA8Q5zjiFwqhiDlhRKG4S7KyEuHUmMNgZAYKua3cugxDryh5vkmIPnr5Tmnhpra9HwflIU-AMSxYbfAUFh8AXXDp5XteF3wTu6CngfdpaOhm-Hu3UmNIQZwqZQurK+gj7nlpTwYK+6Bvkx76yugB8b0+h4qQvgwaspBqDilBnfcgD9f4z0AUUUo3cN7QPAX8SB39UR-xPmfZ0E9UgWmoGIOgChLpgjgc-JBLU3CEOIaQrBTd4GrGAW8biqIfjEDjoQQI1DH7kOdIg1+LDqBsIXBwrhxAeGwP5g3bBjDYh4IYF1VewhyBd04dwiOvDpFyJiKUBKIMw5biaiwFRDB1wUBIf9QwR86b02BMY0xa9hC+BsfjK8DDz5TWMO0S6yhp7aIoa-bxtZHDTzaCEvxOsa4kI-tYuB-8cGKgUewDwXgn78Jfj8FJyg0kzwSTo0ACiRJRK0DEshASMmUOKR8aJdC8myM8fgwghAQTckwXwxUpRWpsBcUgjoWhlaXFimIjRzgbGyNsbGbcM494gIYtY6BYg4naPyQU0ypBzJYJsnZByzlqS+A-uQOOXkfJ9JrjVUOQyPLdJcSrRZItXwDimlw6gChhHUHJoY5EkwxoxCCjcsxYC3k0E+Vcx+dzSBLKAuRZ8-wnmX0UIQfA5QeZgt-t8w2MR3wSIyMVM5Ayw4MCcbchwHs7GFA4VLFaTcDz0DKS7cl0xCXmKnlYwZdAyWMqKPcyZ5LCU0vkLQj+7Lg5MT+WLYBxTN6jBpGwWeq5ShSoYm-egUswTcNxQU+RQZ1ShmWBRF8hozLBHZVZWy9knLizReyXwJATmCGaT0mqOYzgVw8tMhgszN7WLEYYfJvygoORapCn1nClidOtjNOSmMDz6HxbXKopAPjBv7r64+DDeUrA9V6+ZMqZz3LjWG9NACM5YDDpkhcQiRFqPEZI+hADRbG2SKkU6tY43VwGSwmtpBAW9XibIrVAie6dvoNS9RKr3jjI8X6UyHba5dpGS1OVU6AHhTdeYShwTfH+Prn62RY14VdwUJoXEW7QkDwmL82IQUxwagCrCu2wp9BTS6smmppS6nSMvVBFYQV43KwPG+5gH7hUzzCJwBh97IyGobPQKkiagP1zmWeCUoB8b-oQzOd9xB6Vgd2pBlch6lUoYA0mrD0jkPnkxdMIKmGdZIc3mKnMD6f00YlZu8J26GVoW4eR2psSL34dXSuNirqy3WuzZ3BwBCiG9QPiQh55JW7TURvJiRcjSg2wxjwLGUJpPUNk8IOE3BJMMH0xHQz+gbxqYmAiMiaHLl1XMIYbkjBkWfygTA5Z9dDaHrPX4o+1GsVwYEGBxk-mQbYbKd5weTHxVNuAThk9w1OPnrw-jTTUbYxrGaZdW6rnPX8HQdAn+1i6NRc-bui8bi4IFfc8VrzAlbiRdSwFmrdjeMlJw6QmLtnoUwug9GFcyn34eYwWMjpGTpn6FGw1n+y9V7r0C-jBRoDUEcDm+0ipCrgSgn0GtiBt9xux23ktuBWrtVmwCmJ8tlDsm5Okf6qCjZiWMnu0S-Azij5MUbN2PU4W6tFaOyV1E1jiX9ZUCF6UMmNQ5yBKZ8zNDep-bCExP9c79DEszdMSleWu6n1pUKsEKPuCI8M3uhhpbbuv2qcB7roHHv7qgkFfRDBiNtva-+4pIyJGaKkT57H7iS1rvE05lwlCYe4cZwwsajZN6Mn-ZL0hlGd2D3yUxGHC2d4q-0Erj+WuzsrKrAxdXSmJWMZu9ayhB20HA5gfW5uY1NeGFO8gkjNuNt2-my7xb5sBcrn-R7kGXvYrSv7RmgPwmdQxFF5zShs2Q8Telw2qCzvXc64T1-EH5Ufc71cSsf9mfPPzbD0biPBeo+Z1kGinOchFAQBgPAJAqAy5oGJOu5tKWO5dw7ZHI+jaEzw14KvMg-fQAAB9x-GS8adPvcCYiT+n6kNe69+j88HhPqffoh+I3n7ERf2-Ui3r7dokX5aprMDEBIFa036mUD6PcMQicJXPKxvPgAZO-3oON+-iXZA-y-M-a1SeEhfvZnF-FtcgK-IaW-RncENTC5WPTiXPdeT1feQ+efcAhLbaQOHzKnYA-BAzInMA5YZTS-a-RRPbepcEPXHSDOctWgg3P3DfV8IKHApMbGEYXAweUVV1BgogspHXTA0giVdgu0bg3gxzTmKaIvY7dfFuCAx-Cg2A+uKyWQ7PegRA8tdQmBJgkg69UQn-G8MQ5g4Oeg61HQkvBifQ+LBMEwqzDg87cwsXYBIPTbJPHzKiMgqA5QqguAtwxPTQ5wzmAIrPXQlA0wrwwwrgjg+wpw4IziUI4vUPaw4Qgw7AowjgiQ9mJA36VIJRExVRHnOtNI2wk2JQmAvw1Q0ASSBxIo9RXnZwLQiTOosxErSxMgGLBQhLJWCItAtIKebgOI7RNWFo5RVRYlGwo2OwzI8QxwkY-AlwqaWnfjcpTw1gxQ8gyoncaglYkDOgtdctbnBoko7RKIjImIu0c7IApYhFEQd5egdhE4vnKY7w6Am-KomRdrGoqtZwJ42tPnZolwhdcdcRW6M4jYhLD1QIGQLBOaQ4iw0dbtCdLo84hMaEyoLBUkBE4EpExdToNYlgkQqE0ENnTE+pHQRY6QtuVrVXbowfSA94ygnYuAiLIEzmVnCLQTNEwMabcENk4WL9BI+qWkrraLMA2IYkmYy40w4UjWQDPjfY7kyE6U8EqrHEzmTrCrATPDHklwbg1HPgggo9ZLLk3UlU8os2QTDUziF9dYRU+nQkxTdIhklTLIA0nI8-ZfLkB7dYs3BLC-Hw7Ywkqye7dkziVne7V4iVPksMwUnzG0jyd7SY0osolwYYvAm46klqR1agNpDwokl08orYj4lk6omg3M-MoIxMjWNFbtRorRP0os9M2Y2UmslwAtVMtg1shwq4hY9s62fAFNaxIgZ0tM4BK00cuU8WBUlNfQKcvU7-EYKcgczrAtBci0-UjglcsTLOGvXOevAuJvYuVvHQDvYBVtWuBOAfQMY5P-S8rMiM5rVFMXfQFlDopNbgLHJnf09EvbcEXIY9ZFdqMOcEQXIod8yQTor8z7HoAjb6Y0wCpFFFL5Z-AMxk3wncGQNQxFYClaUC6c72OsyCtlGQNCv85NGE5WbgeEo0lwwlSYsim8tEUkqi7C0AbEuizmflAnQVelJirAiimcNi7gSkx8jyVndnedVVUhci3k-8qSsCyHD+WSgc5YsWHXTeOSzvEs5ksETeKyRSwiqSidNVfbBibSpcwYG8LSqkyuRwL4COPufHSsQnelGXQSwMG8eC3I+UsjHmCxWuDy38wMbaHy27By-AYwIlW5QKp7QoEKlwLCOQQY2RNdRse-EGJLSgXEAVOlUhRkK7c81nFK0AiIvdb1SyrCcq+iFDQ0hC+iwKpgsrQK54BKuMC4wYUqxiLizibqlXFqqeNqyUjqhMG8bquyjyXHdqPK4gmq43PUL89YLKlPRK4ES6MQe-IwV3EWP-DgPuLa08cNDJLCEqwK7a33CqzocDUAFgZalyrVZofaza1QC6neEWAAHnWoOteqOou30haA2RNXBAABUF5QAbg6BfBBBIVh8esmxczahmhwRQAABqNDOxBqSOIUFxcq8IdGpSlG9G74ooLGvuHG8yvUSYNxdZTZUG8GmQYgRyGGsQOG2JBGlpagJGmotGjG+mMmsQCmvG3mwm3mkmwoAWimv6ya8wPKJgoQ13J7ckCKysRRBebEYKlYctFzIQN69eK6qmq9YSRQq0vG8WgGpuNWogbjOxXxRyyOFytyuhSnc25oCIkcKyvWqm823RT2v6n2wpakVzXs-8Ha4+Gy66x8ViQjJ9JuD2zKk0nKx2vi2So2ooY1TcCIs1OgNecoa2KeZ1bUFjfGRsbqxkOjbquNYTWMIKHW9FJq8q5WVq8C2Mfq71JuoaiHQoUTUawMS29EDWyvXyjsog+WsPRWhapWpEK3U+K2wex3VjPMa1Our2g2sc50ZTU2sO74xBWegem2vSO2qKh22a9yktb4t213D2t2bel6UoeCbaI62q-6poIO3WoiMOm0O0aWuLUAHUGOgwOO+8h-bK3K3i-Kj+ILdOoGzOie7ZXOkQfOkhe1Wgwup8QbNO14KHMuoECu86gjGuiVFe-qxuialuv0Nu3NCarul1buta-u9Wqu5uEXPcsXWvPOBvQuZvEuDAc855IFd5UFV875RcwMpk6bFWcEF5YFD5YgcMjyaRwRkGV5FpR0n+EVRc+wjFEXQqARkFAxfc+HPbdMPkuYJS2IOYVcTlIoPkjkcxmIDkKxyZPkjCexnTA8Jxkx-86ZNx6ZTx6YPknfNgJSoJ50axwoPk7iQwFpbqJSqJmJ6GxUcJ2IPkjO+xjO2MZJmIPkm4e-FqFgQwMC3J1QfJnOFYLJ3bHccEVGtx2IfQFOUAXwcIImUAY5dGxJipvkzyWphmBpppo6VpryRpmITp-84zaYep7gfplp45SEYZ0AUZqp4AHpgwPp5p46Y5MADp5x-8gAUhWcmcafWcGd2fmcWbBHBHElqcOemY2Y9qaZ2aqYAEJJRrm1mBnjkXmgQHmvGqmPqDn3mZnQAvqYgfmAn-yPqAQembnjnjlIXQXzmIRDoAWpnYXQBjoEXHmLnDooXuAigYWPn0WgQjmsWIQnmVnBnCgWmYgnnYgE50wCoodFH9GXyCxmrAQVwlY5huBmXZHWXQdGX3gBBeWhG2X8AWAAArEwSgOHTljQdlAZlxvR2RpSrR0larWMEVgxthtMSKJl5V8mUbOHSp4nf84-YQJS81iprlbJ-8yAOgb0YRXwcx+1x1nK61m1nJqgEp2ASAex4phgX1j1rlL1vJgAUTcYDbDeDcZT5IADlyA42VmE242X6XpBWqQtWUTmB9dyqOWVglZhQWntoyKeWDWQYjWM3hXy3s3r4Br83phC2BmtGLweAa3K2Thh6HUWlcQs2vkHBuBFk9LLKAVqgzMZQAZfAHaJWgZ1hlAwFNAD7NWa2VGOAyl1HvlyGYgh3pkEQihLcXDpwl5T66FLLprqVwHiD2sLoRA3ya3CV5qA623XklHa3c3P7r3ctb2+26zxWpXTA90n2s3ZtKqt2E7QHk6IHYsxNo5-8QYo5xX2FL2ylwt4xCBIPiDdXWGCx2HDzG8i4W9MBzy3hTpyBTAGAfEPhyobhSA0kg9LKh8R9Nx7D6PqaVhZgeyI6wESJ8aaiGAiauZsaZAXEWOUEePbZRPuO-hRjcSFAbgUsWUtBwSwE+517pjAwyPlBh8Mga59AjBB3lBlBjmc50bddDOPbwQUbShLPA7Rb0bNOY2-RLPBSVOoUBzxEtZcbZ8+5B2Q1fOxBe1PPnhoI1qBaRaIRebAL5PjBFPeolYh2POcr-PL0CbrBwR3P4gk7-pZZFkGPTYZpddIUNMaizZdITJgFptcvQBP9lJn18vEYbxcvwhJ9PbGuivwgvmajih4QrZODBgqu-9wRuvjJSgSOKByPKPYoaO0lcvjJmg6uczOaqzf4quavVwQCE06ziiXimvB0aiIv0bEvcRsu+vCulkzvg4xbVwUaBO+jZk1N2U2XtuxkmurvYwbveajumAyBZZ7CC1dv8a3F4Qyukk23JAcrcpQQlLFky3wfjufu2PyvX9Y1Zv2OwfPOIRXGTM9ttpcuv6sgmvYfPPvvSBLZtMZ9XOLurZwQAByATxZEWun22SW4Ti7jLuHij2sUgFxHxbnvLt0gSHDFgUfbaXnsFz1-8oQC1qyYIQmhyHSKyC0YsQm0gDIOR4OK2I707sX8OjgnXonrLhH22LX0Xrnh5v8fQfX9HpOnX8S8wGd6sFzBdmcTeQFDwXnQtQgfn7pPM9RsRYrvkn35bpS-lZ4sZf3rdpWB3ud53lXN3vxNwZLz3jX8n02Q+f3q2Pk7r4WdPe79PzhRHoBMRO3lwMX5eQ5OOePj3-3g9J9KaIPv3gv6jUuus92oEFcO79A0A0PgE8PpvpjXR93twIae5eKeVsvl3CvqvxPlm0NL3mh2jVvq+wb1xzXrGbaLhIf4wFae5Y+ewzfhP7f4clP8rh95f9SHxzX+QQ-kfkNW2M-33Cz6Pp36gTQFXEHhBdxzcB-neSP+V5-+dq-xd7KoD+vOJPv70L6v1kqS-X3GWy36383O5IA1HCjr5p9QCEAq9EFCz5KVO+AxdAf3yQHF1jaCWYvkgIPacwcqJAZPsxWARYQM+aPMKgX1tgZ1Pe2dC1Hsme7mBKB6vAciRx6zUDPKneOgUwLR7eURB5XFgWIjYG7JxcYfcwHwNiSIEu2SvbSOVBjhEoQYAwCoIMBr6CCbUVAmvoNxUE6QByWgqhFpFiiTFdBa1baAoJlbJ8ZaokZ8iwGqDcQ+45lKTkuAWrngaBWEIPLVXPADkXB9xZykHkxyuDI4llbaMELcFP4ghEQ0IdYRiGRCaBN4ZIX3EIrpCAuY7Suv4NzhDUaBbYTwHkImoDlz2Hg9bFwG8FVCJqvgrGJGQSH9w8hWlbgKUPIG2lUgoCAQWtTEaYUwQUgrrkoPPxCtr44CAZAMO6qk4c6eFOZD2nUAiAOApAQ2NoSIC9IC+adQ9F0IwGL0KQUOLIW9kaEMAch+DThK0Naq-1e6LgfYX-nNY71pQCDFaKAgYDzDhAiw1gfkJIRptA6uQQgC4iyE64shUdbug+kPTCD5+mDZsl-xmyrDTuEA7gD8JcRiD5+NDAbJRB2GXCWgnCX+j3UhEIjk+JfTEVSiOGdxKQoIOhHkJUQyJahz2PYY0IOEhDshjAXIWJ2QgfCeqGI64WBGDDjgrY5QikVQDOFDVjeksMgIwFyb8R-h0qQEZDAFFsjHBOmLWKKMVihRXqvEGUVSNao0CcG6kGQEmFqAo1qeuovYPqOYHtBOgb5WUZSPCBWwy6MeVPrMItEb5eRccIkUKBRJkjhUaoriLKImq2xkemEKgOEE-y0CsYVotfoqKSDKi+Ir1G8LxEc6xgbwVordoqF4j-QxRKo07nGOTHkptoSYp9gRGoa2xwQRojgBawJFqATAXgFqIwGMEvdh+qg+gNwDL5eiy+1I8kI2HFElMNUcqRkKmKVGdjLeZvNojIlrGNi+aNrWMK2POFrVOxZJWVOlB1F6iLWVsLTOVycpRxJAscC2E1mjFzjNUBI3gNFVcEcJHR-PAWpmMDHyi0oOsM6DiDZDdBRoNIoVtSEZBpQ7xZYXwJxQxFw4uRuqUQJlkyCB1DABI48ZXyJB7xTxsuKHN0EZAb9AxaORQl0O6DhBrO3XQOt0BFywcQaAACTDYMAAAguAHABhsAASiDUgAAB5ONsgCBBFUu2jNXcaOMnR9ikggoz4TQMPHKMZQccR0WmOK7XjQJI-esaDl4mii5EzQa8Z0AXBMTgJvVDyJJMyDmDiwzgaxJZRwl4TCJxEsiZROokDkBJ3EoSRYJUmiSkglla8X7FAkMBwJsJFiRykV7CTnAnkGWEMOtTegd+DkuDCZLoBsS6wegmWDzD5hKwaslI4fEdBJoVick1YpSQ2N-ghTLICotMT5PjHexJAagaKSJNslJTS0sHVXhtlyAOB-ojIAAAydty0NQRyGzjV6LdWk82agIMEThVT8pKlUgIyFykVtgKhU9GniAQkJY2pKqAqWQAHKs5ypswyoRUPFABAqpDfWKHVKqq6Zs+UIvqdNPKh1T8e406Tp6WtSBA1Mo08UKkGqDZA1ehsd8FNMrK1SzQ1sJmpVI2zLTsodU5KMrWtTywQYjkToGkmsG-pEJ0CagRlghrPkRpYQgYUtLOkzTUwK2EMbGnoF+hSgWEZ6QwFelsA0kjA+ftmIcaBAXpb0kOg4IuymQsRZAjEXDIRlpI2p8oioG1FCCepf4AwkoZqKgjlpCZmM3yQAwW5bCfk6Il0LHTNFZA8hD4CEcQLGqq9iAFw5jBg3ZkNAXs9I2IUcKZH4Mkpws-mYGBYAe1bh9MUoLqKjA+1mgDMxGeEIZEAigR2oLANBGQF8z1OQgrGHWDuHaykZP+XmS12tlYyHwF9b2NdSFkiZ8ZkIh2f7wJHntiRZiKKhHD+DrSvBp4JKVBOfHXDbqhw44YfBplDUmIA4fYZ1ytZp0b0dAHGlGIlGHCpRjQ4+PmKKChy5RRwccX-RBGoCHRp4NmeSjwCQha5K4F7HSKBD-CY5oBQuW0M+kJYk5v4iCL9IcAZyBx-g-OTEElFJDc5KEaCKhF9HZZCReWYOVULbnTjgRGDAcGTLyypBH4hcuOZ8Lao1y65HchMMWKXHpdCBos4bOxhdGzzmhnQOWWQKkKcQ+5wnTOaqL3C-g2xGI7URJBLEmi0eh840cuO0zhJzRhAF+cV26p+jOh304BdaLR6+y3RSKahEHOAU8tX5rVcBQ6MICjRnRrozuPAsDmPAMFPLNkLUNAC7zIQaCrCFAuq5f5-Rb5UkFbAfm4gBxsYvGOSljGkhUZhQBhU-MzEsKJx0wDfuwqHmKhCx2mX+aWOPl3y8i10-xKsX566VYCqxQymr3kbyD6Ad8Q8WMhJk0D7CJM4ylVMmJaK9BQTLGbRCOmQCSgJrCEJ0Fem+AW0gsnrtpnsKmKOAkhc8gClURtTDpXg5sSKNYmgApxBQp8VSDvhr5pFrUy6FPF2l-B9pv8EmT9ihxcLuxxUNxFwoHE+KIx3koeW8HUUvEQlQgaRclL9ABLPhPUhMIkpxQ9jBuX8-+cPFXFF850nPMgC4j6mTE8ljAEmcmPXHRwtxt48pfOJyJYTcJDAEidZAAAyYbGiZGkyClTXJqUrsWr2sSZS5RHEo8dxK8n8TJA0sioHHCGhtTFlvijlLbAUkLg9lD0hqpzGOXSLVJNA9ScMrGUTK9JmywSStFOW2TLK-km9oMBqzmTtxlk6yeso4UNBwQbUpyRbHhDkMflt4obirzV6gqzo8IeUQCleUHKw5fki2AFKoBBSrwbUgZiTXcXSKvFVQpZWQxqwMS0pyKjJVlIJERxj0G2MXoOKaXDjEpbIm8fdHeXorNYWKplIFVxWxgPlX7FaM7G+JuT0pxk9JcypJUEQvYSKhZQyu55MrRRWU3lCQyDg+yGl9KsXj5NZVNRjpUOVoMiFfGSArMtqWuFb3BDxpGl3PNBmbP8UGqbh4EHkWjxpWqNLVPPM3lqvdi2x9VDgaESpQExW8VVBsECTEu2XihIJRituN537hwSeCm+Vwt9JjWbTD2McQIKKrumMBQJuuDyRylr4GApooEsNUxLZn1zoJfgRkH8vLAQSi1v9RsFpw2TK4mJ2qsSD7UhX3QcQ9koyfQDhX3RrVhQIqO2pqJMTu1TUMCvjCwhMTU4xzOtdtPzTZqm1UdE2VBHODnLkCKakGH1LHaZrDF7YplgcsZDZKzwLxOJeSEPQFrEFBy4tbBmfEwSgQFa3EBBLeU1qoc065XH1JlgNsXoravWN0CUUcBh1CgXtbEH7U-qaiIK5yeBSwhtTJ1AzF9frjfVBwIci62+W4uEAvKqpwQNNSt2zX89PFRakuRYrMG4bsNtsMwUxKzWdqOUpg1DZhvI3KT6AhsD4MEE0FzrN1ay6tTuufHrx3JFG41rcs0mkTyJVE8AExD41ESBNOkyZeOuzXQaWmXGzDYaQxHggMQEi5QdRs8XbqJaa66RdLK2Unjj1WDTjWwDQ0cBeNQykZeMuE3khbl5miZb2KxhQaDAxzOTXsohxBQlNXgFTV2ymgQc3gErNFJ7zU6b0CuaaAcnRl81DIAtUQ22UWlXISIZw4WlEHP0C0SokR9VLzakAg5RM-Nr5NNDQOMUha5JflZNFloi25a9ByMtLUcTi0dQUg2WgDpFtSEcECtK6jyDUDEA1wVo9KsrTYOi2EA0tXbXzfgAOkJaAOHqoOHloy3Hok6I2zBDNuOoLRA190W2INoOmdY5tvqurTK0KWxALV9KsLfQE20bahk4GI2Ta0W06rS0-amgiIEJq7azeSlFbZRvPJZahtsU2rcdrG0GwJtidXECVtfJ-aAOxXOpa-Xthkxg8YMXqDVju1NLSMxW97SiH0AA6ttn2tlShAaBewXtq26rUjusQ46PY9mAsQ3QQ1rortsvKyNDqtWQxatr23Vrdh2Vadxh6wvQf+gGEJ0EOd1URMh1UrtCPIAA2PtKh5Qsr3Yk4WuhysCnytjIODQ6MZA4QmB+AtcTSDmxoC6cA6uPENMfEmEB19srQ9ZvmJYGVhuAQi2INsnYFJUqAxuFqd5B5qo0jZE8ooOCD51AD3+J-CNF0s3HSxtxU83BFMrYCC5ztgkEnfwAhCO63+m8W7eqvu3cAQ9wAlDLqw7FHIat0TSmIyAACcJwctPE0phNqjAyw61Jnu6hNqjh-0OWNwBzU7DD0ptWNTsJNkDgXAf+IqVA0KD56XENPGnlZDQAd7ANqImDH6Gb2ncPgBshoM3sL3CJR8-kwOMfBcA+RaKWYD2TEGH3+TR9mdbgDcEr7N7EVbAGxXYrbQ0ImNKOnVVqKJ1nRA9Fzaxd1G31yNydEeppdD033n6mAgs2ndalAFuBXVz6OgEVBPBkA14Ecd1uHKpCtBGQE-A5MwEr4v79lSaBXR-v4Ai0jgCKhOU+mBikAf9TrUAJ135LGiP48INOn3vBDeQfI4B-xWbztjQGBAJybpnuxXB96vuGq44KXNFksQBwja9QcLxaiobeorQS9dMEI3oae0ZG0jXOsmKcGURj6AwEgZQM5U0D6kCOPtToKmzcD+Bq3UxMEDsHRAih7yP5HoNoi2IRA6YAofUNEGml40ecTnHUMaGRDC+7cfjH8lcqrwUun2jQbN5LtXoiu0Ybp1aA+TU4Bu72Mc2bjbaKdPPYWJHG6Ue7bx6cXgnQ0kVFb807wRyKPmqBFRdVz4wA0CGANT9wDFoyA+-qKiwH4DHG+DIFWNYBHLeQRvuCEez3hHSllpArt1Xm2f94C+AP6dGMjjejmAskaCJtEy64h6Vrhj+GMNNVDEf8tR4+Nrp8MDM-DBItrbp0F3+72V3MTlRLrsM8qiYp2lYPluv3c99AUxpTm-t36AqpwwR93dnuoa2ACdFit3THFCNtrfRdu5oGbDR1FBZjJ+iEPL3D3DoQYYvJStsZ6pYBwDb+mnsYP0B8KAAOlgFw0CqmAQ5GQMEFlj3HGmqLH5GhDb01FxDUVHgb8ev685-jgJkE2CbV664IT6g6E6TwtGxpeAJ4Y+D0CwjknQAAAL1bagBQT3KQk1CZhOjGeg9JxE3pGRPghUTxgGqKhDLSzkhAhgOI5uABMsmeYbJvptjyqbkBCaLAQmsoEJoWtJgNPNMHgD+P0qJT5MyE1KZJMynLFNBBU0qZVMIqeT-kIAA')">function negate(args, frame_stream) {
    return stream_flatmap(
              frame =>
	         is_null(evaluate_query(negated_query(args),
                               singleton_stream(frame)))
	         ? singleton_stream(frame)
		 : null,
	      frame_stream);
}
put("not", "evaluate_query", negate);
</pre></div></div></td></tr></table>
    

    <div class='permalink'>
<a name='p15' class='permalink'></a><p>
      
      
	<span style="color:green"><kbd>Lisp-value</kbd></span>
	<span style="color:blue">
	  The function
	  <kbd>javascript_value</kbd>
	</span>
      
      is a filter similar to <kbd>not</kbd>.  Each frame in
      the stream is used to instantiate the variables in the pattern, the
      indicated predicate is applied, and the frames for which the predicate
      returns false are filtered out of the input stream.  An error results
      if there are unbound pattern variables.
      
	
        
	<table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (lisp-value call frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (execute
          (instantiate
           call
           frame
           (lambda (v f)
             (error "Unknown pat var - - LISP-VALUE" v))))
              (singleton-stream frame)
              the-empty-stream))
        frame-stream))

        (put 'lisp-value 'qeval lisp-value)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyPkCcgFAYDQSBEBgKjYchfFqIw2U67ragYQxSSouJ40DFI0gyf88SmGYuMjQbhGG4knhXZosLmPrrHw1cnkBAA+alKEa5rWuIdqBp6wYGv6ZqiLmva9JeoprqGkb+XODiPOqLRSA4chK2IDqlpuvruHelbPrGoKpvSTIdpXUoodW9aVk2jchn6W6nuMwoDoBY6-rIQHgdBrrwdRkanme16YkJ467qahCdq+2qCxOs6GBkLrKBubFkW4MJYYmlxeaoLRGGZhQjFO+6GAF-QhepdmfvMCXKCl4b5aauWzqE8aEkm1IEf-XXBOR0AzY20ASYB-pyah-R8e2mXdvxxnQE17WZf1hWiItyY0wivB1feb35CUKA4EQZB0DxNA8Q5zjiFwqhiDlhRKG4S7KyEuHUmMNgZAYNOa3cugxCzyh5vkmIPmz5TmnhprM8b2vlIU-AMSxYbfAUFh8AXXD24HoeF3wUu6DbmvdpaOh8+bu3UmNIQZwqZQurK+g567lpTwYNe6A3kxt6yuga9zxe65UleGGrUhqHFUGt-IHfL472+ilKcuR-f5+fxX7n1RFfBeS9nQt1SBaagYg6AKEumCL++8-4tTcLA+BiCwF52-qse+bxuKoh+MQAAHoQQI6Dd7IOdL-Q+BDqBEIXKQ8hxBKGf35jncBuDYhQIYF1QewhyBlzIRQwwzg940NAAlEG4ctxNRYIIhg64KAIP+oYOedN6bAnkYooewhfAaPxleHBy8prGHaJdZQ7cOHcJiLQn45jayOHbm0JxVidYZwQSfdRX9r4QMVLw9gHgvASMVPYhcQTlAhI7n42xoBeEiQ8VoLxSCbEoMPokj4nisExK4aY6BhBCAgm5KA6hYTBCFLYAYv+HQtDK0uLFZhojxG+K4Zo2M24ZxTwfgxdR78xA+JsbEuJplSDmTATZOyDlnLUl8CfcgJCvI+RqRnGqEVw4VKKQYlW-SRavgHFNch1AFAMOoOTWRyJJhjRiEFVqVSlFPxOTQc5DTxE7NIAMoC5Fnz-AOavRQhB8DlB5q83elzDYxHfKwjIxUVl1PDgwPR2yHAey0YUUhUsVp5wPPQFJLs0XTARcotuaj6l0FRQSoouz2looRdi+QmCT5kuDkxG5Yt76JNHqMGkbBO6rlKJyhiR96BSzBBQmFcSeFBnVKGZYFEXyGjMsEMlVlbL2ScuLUFLhKC+BIEszZVSao5jOCnDynSGDdNHuo5hhhYnXKCg5FqHzrVkKWOUm2ASeBYzhZnKopAPhOurja+eOCaUrHNZa3p3KZy7P0MG4Z4VTXmFQfQxhwiWFsOwTfUWxtkipFOrWON6c6kEPTaQB5vVWk4MleE2pmdS1NOFe8DReS-SmWLfW+gWKREtV5S2nBiasAbNQY4yx1js62q4WNP5ZcFCaFxKO5xNcJjXNiEFMcGoAo-LtsKfQU0uoBqycknJHCV1QRWEFH1ysDyHuYMeplHcwicAHeSeV0YVyNj9be7OPSzwSlAPjK9X6ZxHuIHix9u0X0rBnYKv917-UgY4b+88ELphBWAzrH9o9WU5m3eetD7KR2uLHfitCFDEPZO8cuyDN8cPkVfSaodWrgSggtaXBwMC4G9RnggvZ5JC7TURjx1h3DSgepMl6g8EJIQcfQVx4QcJuARvYzPOTGp9A3mExMBEZEAPrOY4YbkjAgWnzfh-QZ2dDYzsXVYueqHIX0CpI+xkNmQagZSRZ2udGjYJimmB+dw1iNLog-jMTM18ZrEKZdW6RmLX8GAe-C+6iMPuZPROi8Ri4KxZMwl8zAlbhuaC7ZzLWjyNJLA4gzz2mvnfMjAqi97KprH1MyAlpaTYwKVBPoZruWL790HsPOzEX76P0ARwXrpT2v8pYzuUbL9N6teyoYceg2v6SqlWbAKjHh2H0idEjhdqoKNiRYyPbiL8D6LnkxRs3Y9Quey-FhbiXUTqKRTVlQjmBCybEfJwwjJlMMG+xg3qt2whMUvR2-QSKw3TAxdFsui8cWMrBKD7gQPfsJu28x1BmS70VYfQdqdUEgrSIYLBwtJWr2JKaawsRVChklcVNWwdO2ficeR1m-OY1Gyj0ZFe9nKTkPjtrrEpi7P+sTyF-oAXiCJeraGVWBiov+Psuw1juqybD5zaAU9j+nPDbi+WwN-+cHtfjd131o3E9DErCvWbkGFvYpcqrTfGlL6dQxCYxrlwKbPvrwm217Oh3ySG5WybwtPXHflSt-LyzbvIeR7Ps98qzuFehpXO7nAYctV-bkIoCAMB4BIFQEnNAxIk15sCyXMuxbqjVy-jm3zpteCDzIHPGIAAfDvxkzGnTr+30AXee+pCHsPfo7DLOD+736eGM0B+d+n86KaG7K02JZ8xqazAxASBWp0sBlA+j3DEIbATWEG8ADJz+9Bxu38S7JD9b-X97++wn2-E8a-m8g2+hp79yeCYTayXunMMek808s8De7+ua1+IwgclmIcFe98MuBOk+r4AmW+O+fCXWf+SBOk8BGyOBcu5sKBywQU20N4ZBSYdmaszGBBqexBa67KFBdosBtc7MQBnETWfuJ8Ae9O9BbKUBm+X+GBv+hO4IieZmF8gBGy4hi20sYeb+JBjBN+5ByhlBa21Bz+Mhye2UdBtcVEpBqhzBahNiGhnMU09uPBE+ehqBH+R+whWBohFhUe9AUhzGThSeH8hBChDBUBTBWQfhVBeBbhAC82HhfWuhBcShMBlBLBLK6uZhqQ-CCiQiNOmaEBihAhn+3+u+DhQeoAkkOiKRIitOzgrhz+SRiixKqiZAnmkRUBSsIBbGaQbc3AAR6hiaGyFRQiSK3h-BCYARsRbBGyU0uOlGqSfBPmJsdhP+uRnC4Iox96uBHRzG1OxRaRNi+hURgwgxT+CRTahCzgxCaxdOVhdRTe0xORO4uSjOYhXapy9ARxGaJxZRnMDaPaLCt0GxNhUB5qgQMgYCc0yxmhXaZaTatRmxPxrGfxYCpIQJrxIJjanQ4x1hGRCYvxlQYCOg8B7Bv0RcRWwuZxUx6BMxVxohrmLxnEpOrm1GEJaJXW4I5Jwsp6QRz+rm5WHmb+sQqJgYbRJhcJnEKWeO4GzJtJPJN+EG-JHkZWqWVGEGop2qxh6Wkp5gfmc6OqgWFiwWIp3x5xZs1GypleB6FGixNJOpUxepLBEwuxHBI+XI+2ExkxlexJlxyJVke2FJHkpOe2vRjpM2YI4I7pTJlmBpoAZ2PR6RcYvhhhRBrB1puJLUlS1AJSgeKJPh5xzpmBpJeR4IdySZkhLJnMdKxxKZhJLgvJcBIZsaEZfRYp0RRhdo7RJqGyjqsaRAfGaZ5pc+bZBZApN6MaHy+g3Z8p0Bgw3ZIZZWrZhA7ZNZCpdoY5jG2e3uueUcBescxeCclgCBm+pAhaJCJ+7Kiyd+BaxAcZ1wBWIK3u+gVRkgNR3A0OROKukJO4txc6QK7U4c4IMODQ15aid5F2PQmewx-yr5wKFy+5mRFxmZYIMgVkuQIF75WqHpGsWqSiiW1R-qys4FdJAa0JMFoAgJTZzGCKPRMgWFgY6J-xeFsJhFz+dKiODKeKpFje5FUJGJeFWJp5ok555OnaJ8iCZFaI9JPFn5H2fFJ8PZ8ZPF+go8Al98GZe+o8VkwlEl5gPFTaoq0lDEslARMl2Jw6jgXwYiVcCOlYSOeKOCzFs5WQgFRFfZPMKimcFlkB-RN+Nlz+lihlIMLA2yDlh2hQj5CYWEcgLRXCiajYB+IM-m6p9KuKiCjIm2CBpOwVCCRgYek6VqslZ+aV9Ef6YONFhZDlhByWDlzw-lkZLlIwyVjE+VAphVVqysJVkQZVHZVlDVbcel2OJCmKJlZlOS2Viueod56wkV2azl5Fl0YgB+qVxuIsd+HAVcU1p4bqkiWESVDl01E86VnQT6oZw1JlkqzQ81k1qgG1w8IsAAPMCBNYtdtetvpC0GMsquCAACo9xSJCC+CCAfIt6VZNiJm1DNDgigAADUAGWiDUdeQoBiIBIsoNIlQNoNjORQENVcUNmleokwRioy4yL1b1MgxAjkX1YgP13if1RS1AAN+RINYN9MKNYgaNMN4QcNVk1NSNhQdNaNS1QxzGeUhBUuIBweSI2Oi8fCPc2ITlK4GyhmQgp1g1A105zoAmepjNbN91ecotRApGWiHl+ARlYgPVDFWC1aqtzQIBI4I5sty1r0swN+XNqtMQptRmGmahaV88N4XN72hQLEgou6ec5tEVs6AWMVyO9mRQSqm4At+RtkQ85Q1sbcRq2oeG+Mn6DljIGGVVcatG+MQU0tl8VVRVbVCCFKtKdVUaVVj4rEDG5VgY6t6I4tWd+mz+oexu-NYeOVgtsQ+llYGt9dXO+GeYBmTtMNOVCtioStc+KtBEv8ItddWtekOtetBtsVTKxtBEptYe5tbsrtbNpQ8E20S1OVd1TQ1ITtRErtNodoHt3mOoK4A4ftR5h+UVuIwdKSod6Kj1EdbdUddAMdIgcdCC+qOBCdT4dW76sYKdbcaddlGdUGfoOdTt+dMNhdfIX5q4+d9V5dntxqXtAVNdM9Ytmd+cg6i5BYy5+eMcRe8cpe2AOJKpqQRyTyZyMiWqzKw5gh2RUFKq+RDDpywMSFLgPDzyIMxyRS+Od6byKKw5AR4Kg6hUjyvDzDS5-2XW6Ye+4IcwIlsQcwq4xdhQajHImjMQHIOj7SajGEhjkmpAJjqj9JnSFjnS1j0wajs+mQIlLjbAzoujsQaj3EhgRS3UIlvj-jn1ioXjMQaj4dhj4dsYYTfpEINwB+LULAhgn5CTqgSTf2KwsTajwNFjsQ+gJC3Avg4QRMoAiyoNIT2T9JnkeTDMhToAxTR0ZTXkDTMQVTz5im0wBTRTJTx0iykIrToA7T-pwAtTBg9TjTpTiyYAlTpj9JAApGM90w07080-M4M8MxCOJHk8s5M30+bcU3M8+QAISSg7MTOrOLKnNAiHM2PPnnVLMXNNOLKXUxC3NOP0nnUAi1O7OXOgBfNvObPgiHSPM9PPOgDHSAtHP+mHTfPcBFC-PguwtQt3P+nHNjPNOFClMxDHOxB7npgFSfY8DyNCMXkFhFWAgrhKxzDcCCNMNksvaEvvACB0svLe4WosAABWJglAf2AIVLGgZKTTZjJLTDIl0jKKGWsYrLijpDaYkURLMrYJzApNQIe+ajK+wgIlmrsTlK4T9JkAdA3oDCvgmjhrxrOqurerajaTDAsAkAhjtr9rVrlKNrVA6TAAohY7ax6y6wSmowAHLkABtjNBsBtH0vRMtUhKs9Yw2UsrBKzCilPbSkW0uivkzNZ5VyPHIKPKv+5WrxvTCJtNPSMXjEs5ukuZvyv4GVK4hKsXIODcD9JQWyV3K4jVCA4ygAy+B14MCctAzrDKBPyaBz3SvpvCNzocApIXzMqoOFDNudIIhFDxGcTTh9wv1YKyVw7tQbtMolYXQiBXnjsMvR79X21rjHuxvn37tRaHv1soX4Bcs8uTrnvluMMZtcEzgZVztGOP1qnP30XL1eaMYcACAB1iBfAsDEKAfI4ubxiEBL0c7Vsb6pBP1NqcssPBqWUv5z7BohkYZvAYcohxquraWuWkfjmsIziEcNIupTmyU3h4c1Xxloe+NEcFgkf0fYfuOcd5XfS2UIYdQpDsdghYdjVlnkf0eUcBpse0e8cMeUFMf8fP41BiAZwrQWKkDVKkfYfbRKcIGkImD8COVkJbuQ7MI7CH4QePvQemWG3iWcXUh16gdLYWwFOZVYz1NexmzYkkMvaRzkOF5xwl6YAIFvCnTkCmAMAWIfDlQ3CkAhL26yWz6t6bg6UhF-DBxWwDGUFJdXJw0MAI1cyQ0yAGLpdPwkTcLNDldjYPghlwU3CBbEpaCfFPxVyj23LKDKAt4ZAZz6BGBNtderN-ag3S5dfm3ghA2lCTfxL5Es2g2RfKB+t+iTdMltefIhksJazQ195VxNvOr7f61beWuRDQS4MuB03U3ggQjU0NdCLGDNe9RKzNvHc9C7L5f5HWDgibfxDqn-Syz9LJfN6IyA9Wz-4zS6QSb7pdaA+gCX7KR7rA9ZA3iA-hBd4W0o8fJXLXP5HFDwhWzYwjCw937gh4-GSlDhcUBRcxexTxchKg9toGBTS5nJm7yw-w+ritwpVFlPHiKo81r5E3eg2vdMBkCyzbSxr8+s2rhA1FeNHdKv48-NJs9Y9M000rdU3C+-e4j-eE-bGUGS+q-5dGLwiQ+eqve5SggiX9JpuSB-di+Y0Yz3xYQM-1wW-gjmNKZdYS9Y8X1ZCo+2-bei+kCWxO+97rfS5Y9g8ADkRX-SV3sftsHNpXkfx+P3dvuImnBiWfQPgmWQCCqXev+gOfP7HS9JQgWrVkwQ8NDkOkVkFoxY8NO5HA8Ijvbv2vRfJff4xftYWn88Iv-3VXxLGfnfvfhz3fXfIvOfjn-b1Yhmw7X7Qq5CHgtOnHufLPM7zComcTOZiZrPdAIlSvJRu8W-pfSss-g7C-QuDyK-bgh3dHWXYfpss8W-VsajePwsYeTRr+W-Q-zCjnWffuPMhIQ38rEbgNftOl3TM89+m-Uzqhk-QoUzaQIFcPLzALc8UKqRE4mvywZyNb+xgFaLsniiCtABy2YAaANpz39sBOGdDIgI3ok9zGVsLaDfmX5gD8BgaHagERYG04ho73NvnfARRID1IdjRgfIFYE8DnUtsAQXQPUgX95+1ATQELjN4-xLGZKclgLRKzn8B2cghQaPHIF38iaD-PgcfSCq0DjcabPAeII26vpt0M6H-nANXRBR3+IlVAc0RSq-8t0oDBwYRjIRbZG6nMHVCQAgHidne3qUztl0k5-8P6nHVVFMg1QtBiy5gAIcQH4aiVRUD-bjvQ1CGEBt+jHMIU73DrRDv66qGZJgI8jhdKsgBWhi4Ab7aRyolAfAIihBgDAKggwLfthySEQCSeNQnSJWWEAEC3AxYcqD0TaHBDto5QqjO4JXaelzyLAaoNxCriaUKuyEAaueGw5YR7cOVc8CGVmEiBe29uKHHMLrxkcRgOw+YWn2Y7mBThewhiAcN2FVwFOdoK4fcO2GHDjKHbDOhsMjjtVsObYTwJ8PLohlt2gwT4YpS+FF01hWML0q8OrggitK3AAEVMLoY9JNwIw87nJSEIklROZCKyHjw6rP5NIKrGgH1ws5giuA0oX+itEfgMB1AIgDgKQENjSEiA2nbIauhiAzpH42A1kRSCJZPCxAp2aEQwHeHrUSRCI2MEFF5Hm1NWjOUoA4ApHIjqRFfOkYUPLqM5mguQQgAYl5FS5eRFdL2jYKgGZCpMv-LkdXQEZYx1RZXCIfPAtHO07Qv-LBrVkoj91-Q3gwgNfSrotUPsGotfo5yBGCjS4lIUEFgk+GCJOE5dbnDyOhH8i7h+tIUbPH+ElVwc7KCUXfilErBf4XVaLIsNq6QwqA8IkqrbF4j-RGACTfiFqK5Q6jcxYYxMYiLNFawyAJY0KCdV4hVj8x3w4IVVQm4yAkwtQIGmD27F7BextsVxJ0CvJ5iuIVAcIFbE7Ge4n+yIscXoSth+ihQYJIMUyhbETjqx7VW2Icixi8Rwgl+EIVJlDHb8ixDYxWE2NtFZB9xpfRUDeBPG3j0Iksc8aWJOrbQbxr7AiNtAfGfi0ImDW2OCAHEcAtWjnNQCYC8AtRGA3QvngMNqH0BuAgAjcYAPDFHYiWr4snNCl5SMgzxSQC8XxBOqITxx0E+Cerz1Z+hkJNY00e9XwkYSeU6UdSEBKHHpjrY4WJ3nrRc7Sw3O6E8VLyjxGcxeAxgQUTKBIQLjc+dNIvvuL4mcQ0oOsM6DiDZDdBRoqE5ltSEZBpR5JZYXwNRSol8swIwYccPdTNizdDAjnOYaQgYBEgp4okiMSpO6CMh3xk4pMRBQ5HdBwg03PHrN26CDpQOoAZ6gAAkPWDAAAILgBwAHrAAErPVIAAAeQDbIAgQCVKod7EkBqA0EWkF7AuOLFtjwRwQgScI2EmZSGx2-GSWZJIQ8DYJGUnCeSltgyTOgC4Yie8BDK1TMgaUwYY5gOjBD-JgUkKWFMikxS4pTUyQEJIqBlT+h6U5wOoiqmyUZJfsUqRZPLBWSpp9fCqc4E8gyxKhGyb0GNLanNoqp2UusMEJlg8w+YSsTLKGJbxHQkaYEqJJBNalwTL450yyF6nrFJB9py3PMClPSYNTJpz416aSLYI+Tm+IMXIA4H+iMgAADCcCSk1BHIZODIE0JgGxRqAgwE-PDOFSgztAQIIGejL4pWNQaeIJyQmGxkgzcZIZUnDDORG1dsx4oAIGjI35IzIIaIrCKTxEpYRsZ9M8qMjL97UzMu3NZ-IEGEyUzxQqQaoNkHhmGx3wdMxGZzLNDWwCacM8bBzOyjIzko5IDZPLBBiOROgISVEQ1mcnvwIBoWd6ncApn7CSR7M6WcrNTDDZdxRovIX6FKBYQNZDALWWwBCR6c4Bj4oxoEE1nayrx2A9bKZB8EeiZy7IH2S7L9lAypJHkCoG1FCAWpL4JIhMe2LVnMZnZrsnWaHXZEGyHwJol0L7XaCjjPhuc50XrITDHlvMeozwaXKNA8joxZwoSfZRf5vTK5BGKAiwElHgRxw9tUoN2KjD21mg6cv2eWJuEsBdR2oLANBDfR5zQ5tslEVOKnphziAvst2UX1zno8h5q8xjkYNjDNA+5xgd0TgyombydZpnX0ZmPagrjAU6CP4DzKXADU3pNkqkCmNDICi4xKVZOUXSYgDgJROPHVlyPXR0AoaeEssQKIrHQj54v4woKeBbmkTp52czcKeCuQRA0UeASEOgo-SRiYx9c3tu-MzgwL-p3mcUVGL-ldyNQRshwMAtfF3yuAUC1+TGO1EQKUI0EVCCqN3nxDMUNC9uoQusGeCBwsc6LKkF3gELP5Jc0AGgowVlzAwgEnsSBN4VOiVwl6C+cCIy73yCFoo41H4M4iULSuIC5sXuF-AoS0RnYknoxK1b9jZFSgvBCOOvEGLt+VVHcakA5GEA5opEkoBwvhxXzdaYiW+S4tpaGKCxc45xaNCXHKL-RSibxdQF8W-g-F-0mIBIshCOLUKUmFxQeKvxzyrypIK2DotxDUKbwqSr2YUHyWkhClsQHJXookl4wyJKwd8SUroUrB-xTvGRYOLkVaLJK8MuWGMVz7yUHCYxJSvDJSFvAt4Ak8RFHN07RkxZHAUwpxGxk9ExlwQnjjeFojiyd5sQTrM+U6BazfA+aHcskKH45c7QUcvmZzDbYtQFZmcIGQhLH6oUXpdAK5WQFxBGLXgRLLeOPnOWMgBZbcIWX8BFmXwo512IluUp4nFQjE5S6hYRNuWlLuRBlEZbvFeVCBzl702MBRPaqEzAwQKzCfRIkhmKrFayliZkGHEdpouY-SZV5X-LdZAYjAKObePYmSBXOckjFXRIBmSBfJAUhgOFOsgAAZD1vFPxVsAoZm0z6ecp+mQq4luUwSaVMKlJBipQ00qUNCBkirixQ-ZqQuAVWqzlOnMFVcKo6loiup7KrlTysGkzg5VK0NVVNOw5HSD2gwTLDNLc5zTLJ-xJaVAvmLwy1pFseED+1tVySWZ-SjgG6rOit9HOpys1b9LuViq0RR0zWKdKvBAymmSNU5UIiBmkraWoat6T+3xo0SQ1oqzBo5zESTsQYWfHvg8puVZTSRsk+6LJUjUnTBWktVOqU3xiWrb2K0Z2Izi2l3SMpEK0teXVvFexg18M9RJ2obFvTdWiDIOL6KJWFqs++08tU1AllEtWgyINSZIA0y6pM4XfcED6mJUPLgGvpBdQ4E7n6TyFzEvNaIy3Vaci1Wnade7Fth7rL44w3lhevH6jqDYpk35SNPFDWSFlRcXbtXAcmsEp8I2A2X+uOWrt6hgQdtZzMYCSqGpVmA0cNNIQfqYNodRsHZKBD2qFp-xGDd5kbDdcxksuBqTOrEj20vV90HEMtPGn0B-V90HdYUCKhkb8iDUqjU1E-L4wXeK0kiV7Fw0CyY07GziQbHezTyoI5wDVaBuCAgxsZHbSVfMvJCFRQ1jIIZWeCwH-LyQM6UqR+qmnIaiWqGu2MJPmm4hFpoah0aJSpBcbZc2MmWIWxegka9Y3QX1cQCY0KAaNsQOjbZvyJAyHNLG6VljEuUGBVmpm7guZqDgCak6ODNpeYGaHnKLU5aBqdLl4258k1MGtxXioi0Ja4ttsCLTFqw0XDqhfQiDWzzi1jQPgYmvLVBtK0jTYtFG8lACpUnDxtp90vlqyu6mhSIpUU2KeACYh6qepLW-qbyrY2VbuAXsWrSVrypUTwQGIb7tlsEC5ak10m9mmBvE1ozJNBU5Tc8pq1sBTV-axkHqo5Xcr2t5IbbQat63eb4ZA21ZkNoVXvYgoY2rwBNrC0uBCO+AUWTRxRCTpn1FajIYHXVLPaOO323lvYsKoyxbYD20WWVl+3qIwdSK9FBOpJUEd6AInbrHDto4exdMWiN7bOuxJ0acyIgeGpuqz4iVgdVWhAmx0e0PThOtHK9UHA+2scydl5WTi9u37iY749sMmA7jBi9RMsuOmHXZTp2mB9APOv7RToNgoQGgXsYnSDqo5CdDAIndRPzqfSTz6YaOwSPAUx3V8rInO7dZDGE4k7kOKnYgGpzqTUoy17sC1RbGOlUBo1aDOtYdHl3QYkeRaCuFoDPUGJVO6nJ3anzl3VL2aznOlXxtI2YNbAKO9xbSvqG+69YKolhbNzNjC6igiu5XfwAhC18cd0OjXXLP13VUFWKkm4CAKCaUxGQAAThOAbIc93UQjUYAZHMZi9C6U3QwjbwfBuA5KLkbYInr-rnR8C3dC4Dvzgy36sQSvfoGj7R8rIaAIfU5sdH1Y-Qvet2LGXxiV7CNgo-6P7BZiBx54LgHyARSzAhzgofjSmLPpr0R1uAWeyXcE2jnha2AWynZYWgwRibBd72jsQDotiJpMdmy7qOfuSFq7k9Wna3qfuf1MBdl8rRsNUCKg381SjIcEFnx01FRGgE2pKYAOEBPxgY5aWenOpUkAH+A2EqOCOxQMzhl+apd7E3sRiYHkFK4XveCG8jLJi0wQdkGL2qDqclkNTYLdXMwUqTWgjIEgXMmYAgCuB4A5RMYD3R0AioV3I4IGqIM8RKYEIUgz5FgNMMrGddcA6gfEN0HvMveqfiStaDjy2Ru6AjfUMaEtQ+hvUVQ93piApa0ZwQErdLly0Eaei+h1uTEGINBTeNU2loeyHwCbjyAu1YwGgBH2gBBN0+kQ91DEPyHQAYB4FX9nkPeR4anhwoDPr9iZYjpFuq8CYut0vRlDDyl2BHpdDMt14z8OpK0H2kDbKw3ABgKs3ziQ6D4DugtSoeFje6Q9penznEXX0rAYDcBsgD3VVmhaECnB1IIWswMngyAQ8MRCd2UlUhmDQIVg2QI6Njj-UmcTAwIaEM+0DA8Bvoya1AA48GSg4k+PCC5HEHSDxLPAYEbH6yGBAtB-yElpsO+GDEyR89VYa8N4YWIA4TQw0JYBNDdDgwfQ1yKMPjYTDmW8w7xvOyXYrDt9XdAsd1pLGVjYieargRnmb7gm-h7Yw1IcO1BaDpB444JrYghbpgWxgI0EcxUhHQjnhqI25wbWm64jluyBkTHtoXGDEv4gkZkb645HSReR+EUUalZoR1dlxyo1XA4k1GZowcATYxg6Nu7o+3Qsw7AdX5qMAAQgwm4h9CW+VkMU5dA9U79wAZ4BBKQFMqZBX9+RcKcjIkCgBwp+AAYCJTxBd7JgA+-ImCcQQ1R+ThawUxVP0CctH2W4ekhKcoBSnhAMp-InKYP7zw1GcFIqGQHhqORqAAAL3fhatg4pp1Y+CctOiDacApoU4YE6DvwDE4pyU8jLdManwQnphUwADZwZeZ40xGfNPrH5WVpklTafSnCnREjp58n5Mi4+BSA8NIKVUjcDkB4asABU2o2gDyIn4wgCQPDQACyFoUAEFL4bcAAA7AAA5wzVkIs0sSwClmUj5Z4sHaYdNqNazUSf01ZCbPbKEzbZjs-SV9PGcGzVkZfmIBUQqnW+1gQs2sbnMLnz1S57SEYETPnq1zdZzc-kW3Mtm9z88FAPmYLMzmbz0ZvAXGdtM0hSopldwJuFfMbnjzH55s7uasjtnvTTp1M9KYzNZnpzZpwCyWZjNuAQLFZ5oVWbUYAAxHlvDWgCmsrIAAEX3PPkuzg8Hs32a3O8YIAGsuvroEwuRmLTaYO8wYgfNgh7TLAas-6VIumByLlF-IjReQvPlDz-0eGqefPP+nOLs5oC6wPwvLmEz28ZM-SVEvsXwQFF+GlJe4A6AAArPmZNMAWozPF3C50bLPxmsQZACC8qhItkWrIBl6i7Rf9LOnXT7pzM-KeUvYWoZvFvvUKcIuin6Sz1RyP0C8AMJ4anKsDPDS9bSWvLutEPfDTFPdRWLGcXU-qcr6gBiQpICy1hassnBgr-Flc0JbUaRXorsVqyPFcc1WQkrXvGSwCiPPw0tAagIBcoGfhemirXF4s6VZsvqXHzmlpM8JYhDVXbgtV-IvVcSsKniQZlvM31ZUvWXgL1p+y+BZSDOWIrUVqa3pdmuNXPLEIby2md8sYXlrgVnAGVdCt9CiL9JcKf0HcA1BYL4ITlUChSBHXwQSpn6qqb2C+XYAcoXyT7JysGnuAE5401ecsvcXBra1uy7acEvjXwQD19YPQHfOvX3rKTZKxCFkto2FLTUC81ZAi5yg9lF1kq-OaGvrXQLz57S8+WRtPW0bb13gB9fng6A-zpN6G+TdhuLmNrjlra1BfuuPXUbL1xm8zeav+l1z9Zxs-BdbOIXLz15sm5zbUuU2KzYF3m5BcRsnW0L6V-y2LYhAAB1d+CwF4BRIUmVkaKSCHgNy2obA1q6xTbhsEXbr4V58gbdIBG2Tb8Nc21Ic+vgAor6pwwBwAku41CAoAPyf0GDt6mDTAVsm9dfhurn6SLtt214FNv5FPbltrGzmWEAnIgFDUSQm6VgQBm+gkYK28VY5sx2Vb1NxGwneNtJ2PbFtpS9wDxCLWlrkNkuzbcVuxnlby5sK+ALUbgAh2PcJi-kQ9aPGvTut8EHrao4uErI4AdQPolACcqhAGpo01HdLt23ubsdyq-ST7vyB8Ag98EMPZ1s79Fub5GgFXHhpqAKaMgeGsfdBnrxi7-V282vfvPxmK7vd-u7vYzMH3R7oAMc03fZs22y7Glhy79fVtv2d7e9r+59arvu2zbddhsyvbbuAPHz3d9RJ2ZihgS9Lepx49VHTtNm9QaVqyAGxDvvxH4ogcAGxcNPZmEHj9rm8-Y3uI3oA6DvoJg8faN907N9k+HXnhpyDgYz1++ytZhtK37bGl1+-SUYdNjJA8NLB2w4bvg3m78t1e7Q74s82QH21ui0w8kdWRpHODse9vYHuf2R7-Dy6+3bwud3kHjtnu-SSCkQ9qLxAPWwwlwK6PlTvN9Ux7aAXmBwAhcwICJRMvUPVLHd4R4+YRtqNrHrjWx-Y61ifWBgWd0EB-G4cmB4gSZox9HafvKOqbWlxG6E7YCGW7HDj+a3-ZbsP3-HpjwJ0gmAdOX+bz5LJzk4ieOOd+0Dmu7A69t+OcLSjkK7adizCAGhwTg861bktWRAzIZkIJ9ZxsvW8bCgC8y08EcBP17FZzp907jstW50bVgZ8GdDMjO+naNjq6oC6s9XknHNkx7ZdmfLn5nfbRZ-6VGfyX5AZ5-G-XZ36XOTz1zxSy9aJs1ASbhTgR7bbaflXTnPTjZZneqCxPc7ZphJ5ICSfsOAX2diLqiHhqzCxABd5edk6mcIEMMQgQwFFc3AEGn5AgYY3seLWkD2Degn6ZMd4P8G4aghiuhAxYtAhWT2fdkxBx91cnMgFdceojCqpW1lB-+Zw6+LrwuHZI0ETaNrzd3UnOHtJ1ojfnZfzxpKjJppsUZn5aCh28gxfnBkN2x7JwOdU3VGprV+gEjxkQzt1zqQiuiRdSc9j70+S5Hz20r72L00-EFD8jJxtFJMmKF1jFcVjbyJr0nlpHYg4IWQYq50EMRLz5PJzhycZd+w2FkCPlV+Vj0P749PrhV1f1HhJ6yjTukSr64TdaUBVdlNFxi5CuHtRr560qE9abYKAT788NN0q6lxNQT7ELXQGzavNpg8A11vNxXcLckSq3oMst-G4rdcp23J8Gt6zfMuFOgTxgfyEAA')">function javascript_value(args, frame_stream) {
  return stream_flatmap(
           frame =>
           execute(instantiate(
                     head(args), frame,
                     (v, f) =>
                       error(v, 
                             "Unknown pat var -- " +
			     "javascript_value")))
           ? singleton_stream(frame)
           : null,
           frame_stream);
}
put("javascript_value", "evaluate_query", javascript_value);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p16' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	  <kbd>Execute</kbd>,
	  which applies the predicate to the arguments, must
	  <kbd>eval</kbd>
	  the predicate expression to get the procedure
	  to apply. However, it must not evaluate the arguments, since they are
	  already the actual arguments, not expressions whose evaluation
	  (in Lisp) will produce the arguments.
	  Note that
	  <kbd>execute</kbd> is implemented using
	  
	  <kbd>eval</kbd>
	  and <kbd>apply</kbd> from the
	  underlying Lisp system.
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  The function <kbd>execute</kbd>
	  uses <kbd>evaluate</kbd>
	  from section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF> and thus
	  can apply primitive functions to constants and instantiated
	  variables.
	</span></td></tr></table>
      <span class='comment'>
	The original is more restrictive here. We think that allowing
	primitive functions to be applied is at the same simpler and
	more powerful. (We could do away with the syntax functions
	<kbd>predicate</kbd> and
	<kbd>args</kbd>.)
      </span>
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (execute exp)
  (apply (eval (predicate exp) user-initial-environment)
         (args exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaWH8XqexNtsyy4io6xlurbU5qj6ipUUKc3Etz1GXJeoKMp2cXprIBt8CxeiARXySVDfZaQbl2LuVHP5-xEnAmeQ4pZywTZQqsYC2FFydy3WqcYEO7FjDrNrmzBR4jrFAubLoe+ZFClwvuUS6hNi6zgpeQih0FTUa0phROdFs5MWmhxTgPAfkGD4GYGwKAcBEDIHQHwAATB41mT9HDOBRoVbwbwKXCNsDtMoB4UTGAAD56psk-RGKrdWgANUauw5QKiiGGLqi1Zpu67TNfqw1jq7Dy0KtjN43zj4I0kJ4TwxVNZmN8eQAAFvcLYng35JTAX0Q6x41UADJk2gEjZINBarlI5tABGqNAbfUbPAZqgeurpYaujUGkS41Txt36tXUajKGhNDLWqit2cM1oI3vCtoPS5UiAuI83Zfh76VoDdWkNKhTzDpGA2oCo1Z3mzqEyu+fMlpdsUD2xQm7t2vxCo24+S77ntsiBu213bx59z3XKA9vTi19HZSSqRcox1dzsFW4NtbfEnifail4878WeL-ZIiczby1ns7RerdV6d3QZvX2u9QHWYgeUVpLlo711QczTBzeuHe1+CQ6NC4yKAWgcWWuyD8b-WBq-aG4ZJ5SMcvmIB0aTHn1gZXQRt+56cPbt3bB-d-a2NXH+cx9DbgYGYao7WdN8HYMIcI-25Dg67AWglPM6cEHQGyZo5O79DH1MYwWbQVjx8jOOQHgaIBPGxntmUFxp6pakiaAE3h-dTNRpGZ0tpkw2HL14cU4RZTxG7ADP9pbV9WHqMfonXR6dP7wvFzLGZh9czwZadPTp0ibnuMhb9SI4GnJjOZaizJ0ien4vEL2V7Dyv6yQgwSFyDLkNUsEppnSLGWayvZbrnI6s+V8Q8GE8fDrJNklZb8-Gx6ph8D4mlSNh9Y26bVek713JoxZv4gAMz5YfQq8WXNJtxt07F2jNb6M1ZPNAtrnjxmMLzlbN902zHXY5uGRen9YGLYJdAjhJd22BHK1YXLGjPPHyTv9kdsFnuyc3VbcHaX2GDMAZLWHpFFOlMPftiBAkoHvZfiQ9HJae4EaxwugrmsYSEM4Wj6Lp3NXOsx0hlTJbvG+amwzz9F2EsMe8bd1m932fHaWrWk8-PNA+uxwS4JPnjsnZy-J9zt6i0EqHR2LsPY8Ii-fbYbnU7VsNXAt2YEAuRB+RK5DDnvGAt5cRwSz6Ov42g6C0R4+K1PrUG+rZmLjPe6KC9+T1nBACGrW8IHn3cPoMR-t54wuYejQR+J3m2DMfD4CrakKkV7BxVcClWgbbA6S2IxitSWNS0Xw5tUiX0Qqu7vKhwsWxQlnnKGk0FUkZ62xf8UEsJUSxbF7LJb2YFy7fQlFHedLzxFwe9CRMv32u+Fy+6-17W-ADVZ9978mbqwFvh-WaX+q7OM3Bvr9AMN2PrMLc+fwMvl7y4ttn4W5f83bUXANMClZW-R-7+bdP5oXbOvQXBvAbMBGlWgDKO-WTMXSZSTT7dKMsH7afMLCOe5OOH-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-a42w5Uq+ao4hmg7WhCYY-sWw-nc7qXfbbgJY6Va4-qH-PDrnfboXbbZXdY+Q8+g-fLZUJE4qClZI-Y+aeVn4W4hhecyUA-fpNF1e0PZPgA909Q7cS08EXQ4veVknuPg6i6h7YYdQiVb3cce4fyHPYtO5CPKvFvCsHRdZgc7IqiYQNR0fb9ZLRULc-w5rZ7ZCecq+l8+agC8nZEDC64UA2DyTcYAnHIGoG0nuEzQmDQQi6GfCM6j0+new5y4TcoeK8xCg9y5UR8zK5EZB2gwy83eUzwC9wPFhS2H+EJqwTIlPKDXIGgo0eifDXbANFAG22QgcAJW2wLwL38Gy9hCTEUBVAWdMAGEYE6V7aZL25GMO8BdAAVrGGhY5hkG29EAWc3U3RO4O53kGKeee7O4XGQU29IDu4We3Q+4Nkvfu0G7uHnopUiSTAxFB+6lUjF0nhh4XnfK82yDyBJJ29sB4E0Ax4W3vI-j+NKBh89ixC24x6x7i5aT13+SXJ6HVgJ6J4KMu8-erNk0u41LtgqmdPtA-g++J5+7+9sGlT1fc0IEJ+p7Q9XJ4l58Z5Mnyi9TGGZ4-OzjZ-ujvKs6JCWgB8mFO4l6iFjL19s4pP23oGTYF-J5x4cMoLx-Jvp-+T57oFJ-u8x+F77kp5h5p8l8W9F4Z9zSZ-vMRLMCp7wzd-+TE-tBUNrTJ8JqVYt4rI9F5utvEtgxD8id17V5dPJul8vMd4oiF7i9t8ifZ6CHVml999l4VkVvpP3h6FHKD4cW99D6wGr+DJUJUNj7jjD5BL3Qb9T--Gb459Vn95r8D61-27GEt5qF17AqjMN7zOPksvkFID6LlfvKWjYD+YxLR7w5MTGlR4KGmViHX9zRPEKgcFy+34MlCFP+TYuKeNqhYGS-89AD66BQvJh5vM1Pa9AAX-ICX+YvJpf4Dc7eqkEHv8nnr-gP443T2IALy5gDxWe-fIA2hYojdVIMAlRDDwyrX9z+EDB9ELkKjkgvA4TSxPITj6+EGGKhUjBP3j6UNSg+A9sqRhSR0CvA2DaDLQOBjMCaBTA-klHDYEECY0DDbdLwJVRRMhBLBBuq+UoFMBgiDDEnr90kGRFKGMRDepINwKRFyBSrPAewO8AqDKC47dwpexIwzAnOkXPoKvjMQ+d3mWXYjAXRGDXBUYFgnwm0mPJz4RIOiWwDNxMh3BGAsaUaAMHyAKNPO95Z9j8FQ5D9jAASLgUEi4H106wr5BwfoITjZxRBngYppd3rIXdnBfeNwR4LGBeCkuUgwMssliB+CbQyQ+5MkI9568tOwQ6LmezCHocVCJQnNh+00BNDt0Cndnun29KyYbOjpWfnGSsBNCh2l7K4rahYB9suo8+CYNMCKDepye0wsysGjoC48TBulZQMNi+YLDZhIkZYfPRCaEdoMdAYbJ32Bp5NEYYwiYbES2HepzhiQOvusJnaJ9Ag1wnYQtiiaFQDQdwdugChmFzDNALw+wCsPK7+tayGwxxgCN2GKclW8OY4dMnB5jUPhB4L4bRBeGKAIR0qeeicIXDwjEqowu4XumGws4m0tw8YfgGmCqB7MjEZJgMIIDkjjIxYUwIkA6YXCI6JASXG7gfRkj5A9IvEVs15FHdnU-Ir5qTlOYjAkRtqFEY4EWFoJ7o8OEkS-RxG0juRnQBkWMOZH4jBM8ookX0iXrz5EI4tORFZEkHihoYagg5OTWSFRCtBMQuiFUXkEJCv+lomXhMAr5XdHGSgtBMaPkB6Dgi+w5UUWE8pL9GB1ongVwJugmifRgZS9rqDaYHg6wgYvojGP+HeiChZAkwW6T+b4Ar0xUDYpayzGbwcxCXd0LdyTHf95AegL5m6TxTbs+gOiZvOWL-YsgPR9dZwDJENHIhSxEY1MeWxc5HQYxegVNIqyOgmiVWMYg0PGMX59Ft0-YrEWaG3QjjZxRIMcXGNsAJic2M4++h5E3QLjNxtkYCiExPD5i7g0bEYSqm-q2ISRUVBeioXaqKjScaJdLpGmTCYg6wtXRlk1xeCaBr2pY69maP8Tk0ExA2P4opE9jLiAxk43NgeFLopi3xtAPek8IXC-iHR62QCVlGw5HjCxjjEUTWL5LniGUl41CbyAUjAI7OD6QgA4BiETBqQ9YvcjSONRgl1x5Yh8VYHG6qimRO3c3vdyBFBB8enscbn904lFBn8wI+8KkPL7y8-QpOZxHQAMGy872GPRoDRNjQfwdunsIjuWI+S+46xO3PQGUw+bOIduayb+qADGIAAJO2rYAACC4AcAHbQABKYxSAAAHlXayAVSEYVQr4AzAS-Rrmf1oRgT6o3YhhuRKopySaJ44lVqxPwE0hoOH4vBOFLjHltWJMgSoLBPoCUNkpvcXycm3ikL0zJFk6ybZIcnOTXJGUwPtFOpCxS-J8UgKQvVYm8iUIck2wApLmy1SjccU2gK+F5FWCIc+A7Kc12SQBTIxaYkSb4wuFciKRnJAyCaIWI1ULiS-SYDkBfH9S8IM0h-nJVjGWBhp4bLyb-wCppSjQQ07sV-TMByQFIcdEgHN1UgAAGYwqNCKg3hqw50iYZrlhSUA0E5eZ6QMEukHhPYabC6WKIUrbEeAmk2TP9NJA-TGAlDe7A9J+DECiBofM6fomNxvs6w7068Uq3+afYVC4MlGW9PH5xd7GzEpKG3Dhn-I7AhUWKOdOUmZ9npeMicO9MMIfEnpyM0dgzI+m2xRo5w+4DeBkApg2uDJXXHWMfb3RFQIBWGQwIsG4y2ZKidGUgiHHHgYuZRFQtzNsC8zpAKYDzgn1YSqz1ZKYdoWe2lKUxaQbiUabrL5lUygml7CYJMM6QrgFgFg+0dIOlhczTAPMi2SNOWDBDhZ8ce0GuWLF9xJBvhRXssE15Ixa8qvSzssgCRWi+BNouIdtKL6Cz40pQMSS6Pl7ylQgWY1WPKViDmyNZwYuOTwMqF9Dd4XQs0Bqmi4ViPIoQfOZrLEKSRHmdc5UsHKKEEASkEcvodP3Q7NzhhpEhgrqJEj6jBIDIf4AjKG4VltpEPC0ZENUhlDxBdowJiQIUFpB1Ylot5n73V7ocSAhxVcRBLKGhitBN0XcUEGqCJy-2d5b2UYOqBSxlaeASeA-MdgzytBsc9sgvLLRnzux7PJaOvLL7pzFYosjIbvLXGUCT5oAA+ZJkLnCCTQu8WBcYEiLyyPR48u4BP0TmadOe2nNEaIFtl2BDgn8p2YGQ8L3zH5oc7OIeOzEnj0Fg-LecbEHnIKSBn8leVXHvQEod5txPeXtObzk98gefP8V-wzHH8MJ0bPMRQov77gA5XCwmgtkrFyFTmdgOsfkGGyNj8YzY4ebyThBjzFFUi7aXIpCE8Lq5sXVRc4BHkaKwePCwmuTzUHdUwAD8yeLotb5KLBxvY48Poq+ZsKKIa46cbCOVrTiFsi4noO4o4VBiiO3ihCekCI5+KwFJZdwuW3IUFjKFLC5AizO9DJZTSznPClVh8CpLoY+Bc6UQQ2BTByJjIf6SwK5aWzg5lDcGT5hKXpKA2ypAHtTMzbDkbaMgXmUUA-ThzPmNYl3LBhKXaiH0ddCUP9PKVfi82Oof0YFKQnOz-xAdKYLajrD-S-pnQAeGTP+AUyFgJSiJOTUCVoTVILCQJWuO-ETL-FHwApbICtxzLKEJSk5csCmVRjRpOyoiSBMzGiLhRI8GsVTA9ZQTylISMJJcoWXUz-FuEswBeMZFbNHlwEwjEZNOn5TbAdks8AABk7abklxL3DukQ5vJAVf6YdOOVBSTBIUyiTSASmWBIp5UuScGmxXEriASUwPilOSVGgommUyoJSrynmS4ViK5FWVNGAVSKV50nFZtOpUMNeRlwjek4nqmXiKpzUp3opLaknzcldwLqSSJ-CzjxVYKjKsZ3lWiBFVYKjNpezrqUqjpfC9bMKomks0nEiysahcUGXJKRlG08cdtNnG7SfJBq3FcBVPECR9EPrSCfI3GUCrhpbElfiYJNXkizV0SgeI9XujCr16IkVEcsgVhkcOp9Ab1dBL9Xdj-Fio-VXyuTW+r7Vx0-8n6X5GXtPlXqn1v6v5HTyA6roQQHxLMBbpKuyam6CeGLV5sP+6HKtSQDTly8AFjjOEB6vuAlq82Za+USE3bULAuuDaodWCuJkXAKpYA-sbUqdbeB1JhGc1HqlrFGDl1-S37Pl1MArTZZaMsKWlNjTBDZ1Y8o9YrxUn3dPYkqlqQ8kTW68P46TQ8GWD3Wgqxh6dHyKqrVE7d2p1Uzqd1N175AsEf3X9TlP-VKqThKhNKZoEVFPrTA4iNKQGsqHlzNSvDbdSMQmTPSG6FU8pTTIDoBTPYZyopYcE2WrzH46yqiXOomW+yegl62YqpBvXSrWp1G9no+osDwbNsz03kR+o8hfr2J93VNudO1VjDW1QQIDXiB-V4F-pwmxIIPnD5Kt-pMGzqnBpfXgz+R75FDYNH7meIGu4MkYq+oWBHralwyozV8103nS71f66lSEwa5pTLNYG6lfVzGAJqrN9mgaYKulgqAMNBmm0ThqPVbKA6FQFzQ5pySwrCp9kxyS5PAC2wwtNkiLSVJRVQbE1Smx6kFoM1Y4v+J4XIKswka11nNNqmpZ5p3WYb9E2GsKaRp4kADpAIkbFZ7FhXwqkV0WtIPVo5WJaFN50lLWNTS3Yr3yS0LLTkBy2JKUMtAWmtQEpmENBGk6sYb2ygYTbF8c2rhCqwLUkiQm6DMbRsvYQLajQW2x4dilZT9q820cUYAtrRgjaiGd0fvsGWW1TrlM4mjKlG1hLNqoJ8BEbetpwEEoaG62tETYFoZcIptiQGbe-QEaL5gdi2t5YghrGIjm6Eon4dKJ7qGR9tXyr1pDlB3fa6Av2n6KmKQ0wKKqnVT7ZTPjyg6jQROi7SCWu3Tb+0d2rLYwEe2I6fWFlH7W9vRUPopGp0LyFjvLVBqSRdEENfZicQZj4qTfD4GsKe1etWdCTJHS6zWi7aDIwK-LvhLVXAV-Al2lkHLrfVMiEFcC2IKThx12Rvy8opmFTvja063ADYSXZ9nF2+FmdBKXjou2XZRx2d5OgHbDE-Lc7TVfOs0ALpsgxT0mqMU-mIioCnR96OrTHY4P3rmJx2+VTcYl3EDwSwljUPzi1BjHZkFK74IEvy1gWXaTwtu6Ti9AzZYsT4Z4kFQrrVEILhWqK6QJ3yd1ytDdwG7PZJz47264CDUUXVrVAA57+OqUIWh-CVB3tLKMwz2AAE5-wo0fvWZQDXKAfB8-GwFZQDX10DQPgTQB5q1I6dayK6reZfJ4hWACi10kOc8Jn0zDFAVrK1g1DQBn7RNMZKOfaDH02g5RJcnoDfrn0UgdUwqm9DdCsAfgL8Fcfod-wP3j7hVz+pNJoF73jA-9sVPVdIDaUdKYozcDDf9sDWjTq9tew6q0rMrQGyKLeunS2ugiQG0DeucOd3vJqFRxNnbPHJ7BPA+trAxAcTdEBy3B5r2YwX4NhExhNk8NskYgygIpqsBu6HB0YMRzxzvlghTJXgzRvSA36Mq74D8CjBGJ5oCWhUGRj1Cyoaar9tG8mq6E9jwdHwWwO9rJxxWGglAvBzxr+F1WmhxDmVSQ9-yYO-SOSVB8TYoffAX7jA4h+todtdD36H4yERDfl0K6YhnN2MNw3vuMDmb9E+muzbZsTW-KbQARpOU4bAMZVLJiasiH4bGB5o3iJoyQOAtSJoBHDA-TOGaDMOSGLDlBrKAwEKOSHYSORoII-oalOJhVoavcU+QSoIkXD3ypvv3393bA7BSgV0MNJg2x7QAtgTqroEeGt7vWkuIvfLon33jgsnQ00AwasMsHiS4A2zkNpEC6HJdjU8TQ4QPDlA4Q-Tc0ZWo0NjKEO2hpDnoYcCbGRuMJYw5UPVjMHdjmtV5sfzhCtEE2ivAo2nt0NXs82thkboof6jKLYjJlQ-S0a9bRHcjAifXurC8MFdSgRXZI961ENRBgj9wUI4moeT5bENPmaIyvvMQ7G2yHUJ46pGuwFi50gR3-cCbMoSHCjl5BzUkZK72GHD49NXvr001VG4j5hmk8UaeWM0yjTJ9ntUcvGRrud9RgyF7pBKgmbQu4jo7YNOg9HUxfRyPY9WGP+LRj8ptXSXqZHTHkNh8dY16qta1cMTjB7tmLgABCFIckM5vTYNRTTnQZVTbXACyAkgjANgr3AwN4E7J70oNKADsnUBM0n2HgLvsIgn68CLxlLKxD1OHaDTH4xQKNtKCKAzTFp96bkPdMnhbTxAe093m4NYIDwsJG8JQAABeMwaNsFhDMknXjDaSM98ujN+TlAMgGYDaETPkBLTKZ2EumftMAA2a6d2aDNlmwzZJ4wlWa9Y1nTexXaUAmdeymTUmKoGnQ1EskQRYQkgWErAEzOvZoAiQUoL8DGBBpYSAAWSxCgBLJnNTQAAHYAAHKWYaj9m3j-4IczaBHO5dYzNNCc-1SnPJhczc5hc3QCXMNQVzN0LMwJBzOzm8CxHTwE5GdP56+zpJm81gDvNH7DT35p4I2cnPTmPzeBec+0u-PLn7TKAHs72avPQXKzzAajhsYfPlgCgB4Ngg72PBi43zM52EhhcXPYX-zr2c082eTPWm8C7Zy86GcItC04LZFo0+ObFwAAxBmrCWgBt6TwAAEVXP9V1zZQLczubnNJAGA4AbmSm3m48Xyz4Z288RYhikXDTcZl84dTEsUAJLUl2Syxf6o94gLsJUC+BdzPaXrzRFkjoZZjOIWGzJljKmZc0snhJLsJKywAQACsPZ4MwRYrMRn9LsIdy7Wb+JdQXTNgEYt5ZPC+WLLgVuS4dTYstnOLaZu085b4uDnordgfU4abHMmnXsYxG8LahyAUhYSCKxsLCQdrWWsrvJeXW2bMoQB-YPpv09G00DSo3hOgKC5Fb0tuXSrMZ4y2Liqs1W6rDUBqywCauZWMqtlg0LCQUBL9iA3Ya4BmYKsjXYLxV2K6b08tespr1V5ULNbwLzXFrN0aVKFe7PhXeLe1gSwhYouJXqLKV6a+db8tXWGozVpeKxaTNWnUz3Fh6zpYHM4BnrMZ8q7CBSt2TbUDvIqMBZPAIqhINgJayeEdPfFErbp5c16hMluyer-pzQGeaDNDWIrul-a2NajNGXnzYuOGzCFoBoXkbqN3yi1eWvZnVrDUBy4kAgsNREY48IqCF1BsuWorVN6swhfrMnXXs9NhG0zZRuEA0bN0bbHheFuFXKbJF8a3FdetUXkrdN+G4zaRvy3Fb-1186haRuMWsLv5yC+TfBvq2DLmto69raSs0WAb7FoG22fysm3DqAAdRmClBCAyYXyg1CcldhmD1tx6xTbtsxWHbj56G0aDFy+3GA-twO7CRDukUadbNjG9VbdN0A7gUliYvkFACmTbUhd30-6d2sU3IbtZya69kTvJ2cgQdvAmnbDuZ3M0GETa1cTHZ4FaBngPM5GkcDh2wbMFqu0dclvIX+qddgOw3dTuh2nLmgHgHdfutk2I7ttke7Hec3CXXs4AVttkGUt4E7acJna17Yyre33opmBqOABm7WhQACK4YO6cDMV3wba9vEDXf6rb3mA1APeyeAPue2WlaTOfB4F7sb5w0qxfAIm3-uXTtgg9kW6NY1vU2PLY9lK+-d3upmf7R90ACecXuq2nrB1mO+RYSs62Xbb9ne5-dQeH30bk9lO8HdnsZ3sHkd5+0JYqvyXngC0vy76bhPYDj7J4ec5xHasNRXaRdmYDohSPqW3ZmlngB2cfvD3cH8D6u7TbXMsPI0bDmmsm3Rs1MAHKqWEnx2wiI3oHathh8dfHuHVoAijswLCXYeqOboPAEm0veGuV2ZH4tjy07feti4THk4sxw1AsecOHTJDr+2g70d7Wo7JV2R6OY3tMPDqlk3aIFdEDe2KQbxrh5jedOuncrTkzayIHADFjTAn2YK1I9ctwPHHcj+M2LkifaUGo0lmJ3E7UdjB27ciIFFo8mAFgGzAT+x2LeHMS2kLKVkp9IGiexO2m9p262FeXtD28n9tkJ4+fiuUXnbnTqJ2U4qd9PM7lD6e9Q-TvNPV7DjtpzGYwRjACur9w6itaZv5mizB3dG-s6Rvc2WAEF3J6LfycbPazWznZ-I5ssc2DnhZ4syc+edI31r4aTa6QG2urOYLQTw64+fue2Bdn7NwC5zZAvMAwLPNuezbVOf2XoXjlz57MC9RC2hnMDiG+s-vOGmQXYLk8G3cKi1Ou7b2VtmYCaet3qnRLzuwBgag92+7ogAe1c+t2eJIcwwOgNVePAiGK1skdQ6pE0OIddD9Y-Q5caUjXGTDlWgOj4RyRqnxjXgPCVMd2iVDGSzqaVyqxPDXhZ2e0lVGWK2AnNd4Ird1l6plOB7UY8p7wnIUx0R6CAQxrddEUqm+6qugQkwSbAsG-1-6VIIBriBCyh52XnL+CxvUMfN4XIcEsiCwAAc3QO9TemoA8nDeXTQAiVZW4M6tasQ8Az1wN4g4SsI3oIcb00poCjcCcY3iQABwm-m4q2hn9x3kiF1-BAA')">function execute(exp) {
    return evaluate(exp, the_global_environment);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p17' class='permalink'></a><p>
      The
      
	<span style="color:green"><kbd>always-true</kbd> special form</span>
	<span style="color:blue">
	  <kbd>"always_true"</kbd> expression
	</span>
      
      provides for a query that is always satisfied.  It ignores its contents
      (normally empty) and simply passes through all the frames in the input
      stream.
      
	<span style="color:green"><kbd>Always-true</kbd></span>
	<span style="color:blue">The <kbd>"always_true"</kbd>
	expression
	</span>
      
      is used by the
      
	<span style="color:green"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      selector (section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>)
      
      to provide bodies for rules that were defined without bodies (that is,
      rules whose bodies are always satisfied).
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (always-true ignore frame-stream) frame-stream)

(put 'always-true 'qeval always-true)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPEuouFEPOIXCqGIIxKAUShuGIOhKyEoKUgYYw2BkBgBprdy6DEEaxqmFZSmpUapGdZo5rocgFGGj4tuUhT8AxLF5t8BQWHwBdcPOh6noXfAlpOs7NsoawJqm7aTNAObjSEGcKmUNhyDK+g-uBmYWlPBhwboSGTBhuG6D+wHpuUo7UmrUhqHFBgoaxrKcYu-6ruRn5idJv5ycx2GqdxlogYJ0HUgtagxDoM70YRumVoXPmBaFsEabxxGmh51H6G41EfmIAAPQhAjcZwRedUoxcVkRqBVhd1c14htfhmXOfxw6FZhx7hHIZaNa1wwdZpuWSlABLiAYer4YdlgnYYdcKDOrRSEMBH8L06Yg5Dp7hF8GPjLQybbcVQn5raWtHHO-avdifWUeMdpJuUc7c4rv2PiGqXo892Xubm9gPC8XXFRLn42+UDvrYzouYmzkT5uYLQpc7nb6YXUe64nybpf25u7bmjRCBBblUSn+TBEIDeU7FjotH0APGDNt2PcL2XY7Q7cZy+hhXuj2GxEb6+bcmbmzOCDmbLshyzlqS+HRuQNWXkfJHyGjVCKZ894H1Pg4bgr8whUQHHNTW1AFDG2oJWP2Z9EF0EmFRWIQV15sFxJg7BNA8H+0uNvZEyDSBvyAuRZ8-x0GpFyAoQg+Byh0L6vDZExCoIxHfBbDIxUoEnzPgwJOKdhG3zjrEdWWgRDLSmgeegk8056VkWHU6kgyDR0UbogiKClHKKKLIjOWjBaL0IZMVhcYEiBjmqPV6owaRsFpquUoHiGKGzUWCLWkih6rCDOqUMywKIvkND-TcjDQD-3sk5FwcDKC+BIBA+BFCao5jOL1AswJQQMEfs-fQZtDCyxIXEeMgYHIMBQZUjWSwu6gHSJkOSzQsLSOGlUKOM5X4tMIGEG+ZiYj3zKUtCpWshnMOjlUgGn80ywPof1FGbxlbOFVq7C27srbL0-iQ2aqRKCkFrJUwaJ8tku01qHQIgwm4rOMt3M8Q19C3Ivobd+W0V52z6Z8pWdzSBNJ8THT+4UimcQNmXPOlc-rVOOVBThy0eGZJzuXfOiKREriCmODUAV2Gg2FPoOaMMPhj3rg4mmExanTCCoCgZlL57EEnrSgGg8iWRjiQ2egVJmUzhpk-BijI05MoPCy8ebKaX7TGVylcqKAlnn6ZKoV+0RUqtxbGIKgqx5jU1bWJihRYnRjToy0u1dsUTLqVK6l6NfmUHlUDY1BSTWFKwHAqZj8HASw1PoH6FshJ1NcckVInSsiBrabvCNK4ekbghJCX12sBa1DhNwb1S1k3u1TYMG8UanFHDIqAD1cDDDckYHwjG0M2aokdcG1FcKa4I2Da8flAhaWMibfnKlC8HUI1dTEU5aLNC4m7QijladSixtjGsfek0nkVrKfwFmNbsYmLVb2mVwsOUAxtUUctQhl3VspnWgStxa5WoRfuuOcyt0NxxYW8kpr6VDvqWGn5zB0artPVfS6sYFKgiBe8L9J7a3lUMO9Z6La07Z0ZmTCm4HDn-r8SUnc8HmaIexvdR60HPbhIiRGgKpb1nmANr3fuRzB4kMbPIxkFG5H4GTgO8kjZux6i7UuqtP6kPvH0PI5xKh23Sj9bURqQJM0MGzfzf17GwhMQtatE+8jLHOlUQujRlY7GTzk9waTuakWD1WdCjZPw57SvZVRoGJz30+wvQwZVlyJmAtHhffZf7-qqb0kZqFnrSMuANn6yzY0alQUbK9RkgKguL0NQXP5kLyR+pwx9WL+hovfsg7h-8H9XqywU7Z16vm4EGwwxwHj2MObUagklzLKXPGlb9lhqmyW8PXxXIChr5XmueOeYPLzCqdQxD84IgLmz20Qy69vAe1nqspsYLV56qW0Zgewwt7Lfz2vXOGstyb5Uesfz6+1l1Hq6r+cas1JQUA4CIGQOgbqxITPmDmgtJa0jqgbU9jZ0NCt0iPTIAjGIAAfQHxlnvnPewD0AwPQepCes9fo1NC5Q5B36Y6GR1v-UKND1HqQCW1BY2skbCtmBiAkMIBg98OaUD6PcMQwbh1YU+wAMiZ70foTykfiXZDTknRX-M-cMQDqCw6Sdk4p0B624JA0wOG8Utb0y0iC8+8L2zcx9BEULsZ2XnE15zeC5j18IvyCk9qOLnckv0s6WM3Ay3LWMczVV+z9XSYhhO411tJ95wbd65i-traVEgpq5vO7-6-JCfFLBuN79TWptI8N7ZuaovTeU8lztmPzgZdwLT6zVbUH7cB8dyMG8QeXf4bD9rjy2e13dYYkL5Yge3cu5D57ivT2iawyZmV9PyGDf14T2c43YuU9HPBJ17vdBM-87Hzn5ra26+kML3ml3Je7Rl+t1PjvCGZ+xT973hf32V9ZGb+X1vH6E7Ozc5bRH-v4-fcT4P5PEuR-n5Be5+gk+icv4MRHYx8+33fZuGxHl0fkDW4EPxbXX0-1OmDmdnkT-xDQTHAOPy1zgXcXfXvVlRvz7zvwHxN3J2HxC2SXM3tStyhTgVcz2Sv3gIbyL1L01z5yJ0jyNhNlfyoOV2wITHvzwLNyXkIJtXBC2RwXoF2XNivw-2KS+VdgeXx3YP3wTCmUCBkA5jxEgIkOBW+UpGoNswUMqA5lJDIP50kPuU6F4L33-3kNKUUI5h0BQP52eyvTizMIQLcVwKHyf0IPBHHWIHEM4l9kxXhUcNQVvwsJ3E8IcPBG4A5QMKJy8IwP7WV1iA4MDHAPw2iOKT1VZX1yCKSJcDVyiMKXIItnVRIMdWyLkMDBD3kwKLsNSDZVHX8ObQ5QLxwLSHRxxTSJ11SApWKL7VMLKPMJcNaMyGd1XzlRP1QNhy5EoywJcU4NcMf3NxHwox8I8j8Ioy0O+0p3BGWMiMLg6I8gYzgNkPKNyMb1GI9wYIj15n3k3nZmOOcI-ST3wPcPGmSXIWoC3gz1UM4hsUoIOWvycJoKX3OND32PMGaXuKBJGKPzoI92+I8kaWaSIH6IeJ+zaORPhPMD1WGQxOaMQKdwxLBJcDvSRNGQd2+xvEJJO1kDOyankEuzahu06m6h0Ee0eIuWGjVnp1s3AS53OSNRIyJz8IIW-yMSjm4BU2RXJCCi2O4V4X4TPgiJtVFMjiRUlIG1PwVjlL4XUQIRkG5JaKeJ4NPism1IVP8xWKxP81DjZh-yjlPgNJCJnCsJkG4BUKJKamtLgP1K+ydIc10NdNAH0OqKJxsU0XkHsWFh9JV02MsIDO4BsMuN8Ps0c223oGCUdMDC2NTIiKE3RkXkxI-VTP0FekzMeIf2ePQwYishzMLIeNiyCQcVLN9OSLOKyFLNsKJwri+HdnWk020wcSq2lNsxvA1LgT1TkEFyHNmNbJGDHP527PwGMDkQUXDi4GRUKGHO+ywknLOjy0KUbGpz9jqIxVsQjKlkZCIzZLszuF3LeiyyRWfjLJ4ATTW0fIYiqK935zvLtxMTXOeE3JnNOJGDvLrJ-IqVAsiEApOL-FPn-KTP6jVjUXJzPO0RpTz3fL1AlPWGPJmy3PkMmjEGpyMAwvCC5w4HWmItPGjXaSwmFLXJIofPoj1GWRYBws0wI2aAoqItUEYo+lQQAB5gRCKqLOgaK9YWhSBzIIQAAVG6OzOgXwQQZhXgBuJsG46gWoZocEUAAAahLSsT2hJnWiFBTjfPCH0tzJ0v0pvViA+GMrEFMpLLEq-lXFMikt-nBDkvwCamIEcmUrEFUsXkahpA0q0uST0oMqsXsveycvMsiqssitspiBipMpkBTmovGP5zyjt1SzW1C3JGKymgpxumxGnOmDLQrT4uekwpRMVGHQjWqpYtsv1mKvRGxGSpUUcB7Pe37PPMHKBgIxWGaDWxHDZxGHMs6tmCd0ys6pGqqqIlIptDtEysE3dRWAHAzjGqPJHVPPDLQvRlbWmASSaqslsienKA6UMXyW1GJVESNGEzvMZAnIYoVR1Vs0PRxh-LfLgsMT3UMtiHAo-N+rOkfFYmfXwsDAzhKqIEqWO3D04hqzzzyrz2YoKqRAXLatKrhumlfU9JiKqrfOYrqpWAaraMmoIlasrBho6qsUXN7LED6oOrBCMxtRGrzzGryNIpvVKHgjV2ouYqGpUmpAWtLyWtgtWsHVAB1EVVJS2r5JpxPNxFQsjKcMVBOvyuSXOp1NEEDRyUtxuqfB5TNVjEbCeqBBeqnOO3eu+0+pBtrgwvtv+oBrpMMViz-L+rWrdW9oGICyxtho1OkHxoLHO3pNamuw6juwwGvIwRJmoVwXwX80cTxMGKNMpySXBCoRwTwUtJcCzpoT9iwQ3m3XHh1mERTuAuBKyGES10KjjuzsTpG3EzQzBHTC2LmFzNiDmFXGdqKC2I5E7piA5B7tUy2IwkHpfIPBHrbqA0klBAnvvmnvjlnrR0yFzNXrYGdF7sKC2O4kMA3nIF8FzL3oPqUsVG3tiC2ISUHoSVjAvsmVnpuGpyaRYEMAiKftUBfsahWHvpbohF0ontiH0DVm4F8DIoAD5QBwF9Kz7f6tjPJAGYhgHQGIGoGvJQBYHR7Z701phkGMHUHwFIQMGYg4HZ7gBEGDAQH8HARIHwEwBMGZ7QiABSChvBsBmhtBph4h0AUh0I8SQBthghsasBrB0IgAQklAEaofYYBFodAAkaBBEcYbBHBAEtYekaEaEpiCUeXtCIEoBEQcEY4fAX0e0d4ZUfAfUZQeMdAEgbMdEYsYMe4CKCMdkbQfAaBHwYcYhDEYobQcKDcZiDEdiC5PTAKmE3zoToEQLF-MBBXEANdwGG4EidoTPiqLrqwQbuidinwBYAACsTAnU4mVgEnkQOGx766C7czwCa7f6igUnG6Q60xIoInKmonltm7Kcti8dhBcyem6mXaH7QjIA6BvRjYj7nGRmxnMkBnBmtiP6GBYBIBB6FmlnZmXb5mqBP6ABRCehZ7Z9ZgGrYgAOXIGOYodOeOaFuUXCZAx4DadoR2zfOKemFKY4bV31OSYeb9g6duapAac-Qm2fheYaDebcZqYvHucyYLsBYdWaZtxuMoW+eybLqQQCp4OfPIVxGqCkxlFIAoV6ryfIGrHLRJk0H0GVORaLo4ClnZlMXMWYQxaOCKEFLl3jEICZtVqeBbICyQo0xVp0TQnXgXX0ABdkSJqiqsQBaeaWomWFZEFFeRdkVyYKdMCRU6qhfjseajxnCfK82mB2qVs5ali1w4AEB2rEC+DYtNn2tVq7XZeNYcWadOybrpJaiu3aluwwGjs1LeHOXIFMAYHLg+HKhuFIA7ga2fLRz+03HAMjdct3iQJd3jYsuSQYGsqMtivSsSarucpJhIiLmaDjc3z+HLyz0UBuBzgMS0A5wcrqrIWUGUFUoyA+SMGQUbdQcan0rS0bbGvBB0tKH7dAG0qskioDeUEOedH7d2LrbrPNkoEyRGgcqYTfhXekIXfYYiGgkhpcFSrEASohEiu4UreMGrfxwSdfnXcyRXbpUsusHBA9PnYxUjgUDS2YSjfDTaNfiLkHYjV0hBnJSA2-dABZ2UjJU-eGJvG-fCGB3Gtzeg-kfUmKHhBXFKBzbfbpz7eQ9eTzP9cDeDdijDY7m-eMmaHA6aQ0s+PhmA9A9XGOkF1+NEP+Iw6cRw-BEPf0qfdxBffQ+aWg9Td0R0ozeAO+gY+tMv2Y4Q5stXCE8iq46YDIFffAL4-facT0sE-vdI-uckEXbno+FzNfi+Z0+48U4TeFowQTRI+ni44hHHozSAzV2-eWqyGg6M43YU9IEEjjQVj3ZY9Q+SQAHIM3X4EqgvvO92nLv3H34gMVy5SAU44vN2d20ThizoY30PEvJ3VwtihBemrJggrKHIdIrILRiwrKLkOB4QzOihSgbO1dMvnP9AGvtP3OX3C2WvF36vax4vlkbxmv5PMuELzAiWSXlAyXdXAlNYPB9kRkP2KON4Pj2YzYf2-7wR3iqOJ9uBGPL54Zlv9XQWNB9ARv1gxvqBNAGypvK43Ab3ZvquIl6Pfplv-OtjkPIjkaQCpyNY7vYhTINYhuXBEv7pQE1YHlpu3BZuSFUV1uluvujqzbrTRqgQVwRPFdfptu38cZluva66wfjBycUF4pDvAfINgfQerukVmksfXVdUEeOaudM6Nx-2kYsI1dLv9lTcUFllwC2e3AOeFlWPhrg7YpEf1J74meav7nce+e35vPxW6f1JjvSWzuJuVVxfvYdzaest9uigEnFfTvzvXoyf9kbusf2uNeRs7cvmpf8f+fuVKJUVA1bv6UZTZ7XvgEssFdHeqfn07rDRGU-uIaEaPJMkSAIeYy5ibSDxZv-O1cnvBeTqzYzqAE0kWg-jg+slvC6y-Xgqw-kuLOo+4-d5RyvvvOE+NYk-UkgEJPK90zgqZdNTSvtJypKB8A5E-YBgKhBhlueX2QM+If6fG+dIPSO+mleem-so4Du-w-ZzBhs-+1veg-rh7MWBqhuJ1o83O91zmzp+86E0GtmLzwPSV+jY+yGt+NV-3tny1dj+1+6cj+L-T-a8b-L+e+bxn-1o6z3-GacW7yN-xQtv-yPfNsJ4H36u1QaHpdTAq1AG5YwBdYHfpPQsjL8H+G0aAQxGWSgV-uCsYmLnyArE4KyxpRPskmQ6dkI8IGCGKTBPiEC7yemOgBdXUTEwGA6gEQBwFIDBpy2hAQ+F9zxqopsBWPPGm2juZf96MyAhgD-1erl9YBXtYSLZiEFc4emNqUoA4DoHk4GBTA4QCwJGQAC-qbNITBwPP4n9GaniL-mDRNTEpUUvSWHvwJgpYRcgeg2PrD24C2CU4xfQgE+izC+8baCYM2FLTYjJcnBs3TAfZX6AKB5uGmCoDDF8AyE2Q4Qw+qbkMCkge+G9IwCoX84xDIh5OeIU8G84s8nchgFQtr0KDcs3GQQ06KEPURpCZC5yYIQhGSFZdBmRQCoRkNJB1lqgkcDgMS0ayRhYhTyaIV0PSHzQEh8ApIXkJW6NCBhWQwXjkImr5CJkRQyBq0LIDtDaEjQ-QGMMyF1DnQcwoytUKIgqEsqMRKoaUJkAwxRoh3JJPW1szHCqAaiMeIEFOhLtqhpTNFhMA9JXCF2k0W4cEIeGnQ5ujVEoV52ngzoAO+ZfFv0GWF9D8cacPIocMEgFCthbwm4f8O+EhCNcdwwSPsOKSQDycQoH5KCCbIlslwXEKgFoNBo0ZhMsg0AF-1EGMBf+oAjAcl1kFgRgw44fzliL-7IQiRrxUCtkOuFkBGAT9fiFSKMHIDlkTsLkfBVZacReIkcfkaFF4q8RuAYokkXAOS7m11IMgJMLUB0r+dwQGovYFqNL7tBOgorYkZyPCD+cnqQ2QXnNGwG8RzR08LEaIKWiUg8RwsBUZyOVHtd8+mEKgOEBZwKwsIYolbtKL5EMABRvFG8HaIKGxgbwQY6MX6BDFJAwxco9DlGI1YEQ1ccY9MWhFArtddRmo3poEPexmtsoSIrkj3ywhUMthEaEgZxDUAmAvATSRgIPx1gtj6A3AQHu6MB6QUwswmcMf6W8TFRExsoviLxU7Gmi2xdAbgNmLQjdiJRuA-saEh8R9s9RHAXpv5yBHC0GaJY+bDCPPSjiBxYSTAbwGXKr91YJotWsOl86s9fRtYjyGlE+H3DugbIboIMNYzCZm6aUHEC+L8DBlcB4mJkVElEDTp0cw7akJgLPEg8iQX0C8cGkbDdBGQN4-6PlhaLYDug4QQdshzAndBfMZrUADJQAAS2zBgAAEFwA4AbZgACUZKkAAAPLHNkAQIK8pqRkCSA1Ao-LSGemHGeie+J4wujKDVgXiZRK3B8ZBI55j8uJvIpIO1wfGdBxYEkhqB6VkmZAOJxYBqNy3gGETiJZEiidRLokMSlJkgakRUDVjiTOJ6k4cc+QfFIjIJDAaCUoUsklcFJ9ATyP8Pr7jlV+qk8fnxm4mSCe+-w-2CcISZmIxRqlGhvunrF9wmxXk7eKFMsgvl3hSQT0fGNYkHjJx0cXybmNwmSA4gGQH5jqUjiMgAADCcE1I1BHIDmPKfN1uKxRqAgwenFVNyAOBCpQICrvlOanaB9KeIFCQmDamKwOppAD0n4XKkip82fwdkYSL6nQ9apkEZLlhHBBu8sIU0yjs1jqmNcU2mAwIIGlGmb9Ug1QbIHlLgnCZlpC3DbqILNAdI-KlUsrNNPKh1TkohVfnFUL9iOROgHcKfnin7yjSIeU6G8n7BGln9CBJ0mqXdNTCwYAxCaQvhJSwjPSGAr0tgB3HsGuCNhsQWGfDI7guCBefoX7oQGIy4C0Zb0g6RwDvHmAKgJAEQKkF24SC6RgAqCBkkCAvTCZKojaqShtGwxKk2qVHHLSNHtkCR65B8FYOkEUkOSUtUwcbUFkUhyRwggwdSP9ivVPRoshlDILGryCrEpQDUVGGSrNACZCM-Qbf1SwsATB2oLANBBfT3UhZEfXpPaLQilAdZiMp3ALNg52zoSHM65sPCahiViAPgiGvjIZlwymZX3TAY6JxG8JtY401AWwB4m9jBByA6WfrLEGC4aZf1JiAOCEEKNIkEEI6r7WlCmVkxo4vWb1WFEGDlkM42IKeAVmStpaZg1me3k3CngREANPAJCGbkrhaMscoEFSITm-Ry5kgqWkFDTmASIIv0hwLnPDETSuApcoUU-xFEoRoIqEbkbOlT7IVx5aNXuT73FkDgyZC6SmTjB7lJzQaAFJuS3NJq2Z8x+owsevMojmzUSbIiOQrMD7XkR56VPOfxEIB7hfwPY1UWuRXEFi1excZJKuINHx8eZord+StzvLec2ZmEFQpXO9jBylooc92ONLfnJMP5-5SBbXNFYJDWRfLdRCHKXJILHghAX8Cgr8mgAj5kIDBZH2gV+jWc3orBStyfm4gx5kYmYQDUjGkh4xKwJhS-N4qs82F9QlYKz04WlyVguY7zmfLXEPtJRHkdxHlJGgkE5uadJ-CQRrJ5Tc6eZaGCeJ1htSr+bZImQ+A9J9S4CuixIRBxhJ2haIh077jEEAyhFOgr03wGcg5IodBeSbO0LooxGI1EWTSa6cNDakdjuulCKSVONABzi-qZIu5tDARx+LGQW0t2g1j2k4xdFTERsDwqXHFRdEPCseeOMSlTiZxbwLRcx2iVHpdFXC50OEvAHJd0lEiZcfT0AXrjAR6OUvltiDZBKDFjGZjCUsYBlKbU24yQKWL3E1LBxJ+PCVpIYCUTrIAAGW2aMSOk6OUqeOTYmf02pGUkJVHOqWniBJQkvkSJKMliTycqynZdJO87KTZ4eU6OHWTOV+LLlPfcZZMpmXgBDJM4A5TcuOVEJ-JMIsoYMDMTWS9xtk+ye8pRkrBwQbU1yTCPhDxi-laIiEG71BV5TwVaIqrpgKxZvLMptM5LgFLeHBSrwbUjhvulRXOw2pBi5JusskEpTllaKslVlJkXmB3YPCMrIlya5BKbSeS5UY+MEifK0RgUqgDioqrfy3GacAKfK3JwrCbU3ofHs5L4y5KZRyUm1FsNRVHKZVfIz0XU2+owiSZo2JTH7CZWJd2V-wo6Xc1aBlMgQX4kPsNGa7gg+kbSsgEfUExBRjVDgFWeBBZHTx6VxdG1fF2ZW2r9VGq7zo6pxhz8nU3qnrr6rRGaqFYkE8ULBLMW3CIcSE4hLBygWpjbxgQlvoEBil3TGAkEtLFKobQ1zjJ6saNZOM5kNB4JfgRkACvLAwSS1UtRsE2ykoxZJxHKkFnpGhVfDugTk8yS5LclSCeA-AHEF2rUk9qIVBQrCJOO4BbCG1W0oZFKo5Vg0zZD8stOmr9h9ScWOa0xdHP+YhLGQhSs8MxxSXkhUUUa5BSEtLWSy7mCEoEFWtxAwTLJda4TNOpix9T-hragiO2qfHbAiCCK3tVLSKiDrv1HARFcEKVKxglpeUydagyfXfoX1GqwTIuvdSL8XAI-PqcEEzXUc81sa4lSWtgX-yUN8iktd5xH6Tjc13aohMP2ECSqyNpG4dR8qggfBgg7fOdeuu2W1r3xdzZ6FRto3N1xlOkqiTRPolPLyQvG8ifxv0lzLx1UqyDRw043ob3g9q0+RiGkVfkic+Gx4JuvJAMaM1a67NdssPUCCqQsm1ZYyHuXTLZlTEUzY8sZDgbCRWwozRcoU3fZwQSmiCbUXRS4g3geTJOksljWNUlkrwzdJ5voQjILhB+B2a0jrJ3ogtKIRZBFtf4u5-NIZK4rtVxB70vNI2ELb8LaKJaVN6RTdGluC0+b4BSMz8pqTvQFaYtmW+LXaBy1lTiAYgIaOTiZVFbkuJWiNZ5vwD7TotarMNcELm5Gtut28QbeJW9jqq0R3nDrftKi30B0tarYDLNqdTArrVTKvVINvm30IxkJs+oWNr61a5-1a3EQFZWW1BLcyk28jdeTS2dacYFWnrbAPnWxqjWN22KSkAW0jb-5m4+WAsNBEdCWYEQyEVeGO22rT4+Wl7cFqe1jI7tBqlCA0C2GXaptRRcmKDsq3g690xaAiDtp+HGZ9tBXKyIDvi7H0XtV2+FvzhqANaT4FiSHRqq5XVDsVh3MxObXAZbaNq5iq5Nqs9UpxSdjW9nRh022CKD0xYgZbuJhW5jbAaO72P0pb5C6vh3IueWBIjTQ7rEa5edVCn21FcjtrSxLrmU51aBidXZUyU20oFcD4BgKQgRaytaqxbWJrTAXr3G6pYKdGOzlTGCChYqgpdOv0AzuMjqwTA-AYaJpFAwUDhonVRzvz2VHlKXGlYLbhA3TEnUI9uGl2ikkAS78BAxMHJNZRNmy7Cg4IG3cr1ixVcCMvNAXZLo5VO0tO8u4yA7qx0Dqs9xLE7rbtejq62dmu7gNnoN5oDSpjYG4CDxPoRDGQAAThOBwJu9h9YvXVUH08QIhHK0QZHBGjcA6NstAwMMNDx40X0A4FwFziKlZyGh4+w+voAC4BcrIaAQ-YbVYgeC-QQ+lONCKNkNBz9k+42P9gCka5lkLgHyO6RXC+DCgN+gKXfs3BIpO9iO-ehEIjU89UgTK6oEVBPBkAno7sGZpEqpCtBGQxPEBMwBB7AGTRUcX3XQCKgJUjgyKo9aSjwSkAoD4zRDhJHdgUUrceNc-RCG8g+RgDYSoJaDEwP8AYgNB-yHHuCgAGd9A3dpa0GOBVzxZEQFiAOGbUt82+TSSjfjl4Ob61NfsNDSRuI1zq4CUhqWgOAINEHMkJB5JGQcXjwgJZVB8EDQe8hMhaNggCQ6IEMPeQ2DZstiKfuv3b6U4Bhiw-QdtW2pJEjUCw5Yb7Wf69xQqr5XyqvAe6pWMXXEEyuzF+7yBHyVoKHoMCx6fSbjaaBsLx0JdIihewZTCprFuCCkSGpqJuiECGBHI-2MA-wENVwGEDLKknsgaN7g8w4xgMlEwYECWUcDYNM2muWbpJGmuKR9aDuOL0ZGepgxRqneTe22LkkDkOzKOPeycjyAskaCD0mCPc7wj6MAPR0bg720IdJZSPRwwSMoq2Aji5xZchkyMbetPwnvg7pV1V6HFh9PY94Vx0a6TtyCHY5caYAclmmwB7nQF0H76A+dAAHSwDYb506iUQzIGCCvt5dGDFBsQjQj77kkahpcpnxOCvGmV7xiSZ8cEU-G-j5M8nICeBMmio+vAE8Msh6BYQ8ToAAAF6QtQAPxooCKqYCt8gTnndY2CdJNqc44UJ0fJAdhM1RUInqXI+8AKObh3j-xzE7SexPSN7O9iqyiwCsrKArKvTSYAFzTB4AET7SgUxiZpP+wRToDMUyoymNWRJTppGU1V1ZP+QgAA')">function always_true(ignore, frame_stream) {
    return frame_stream;
}
put("always_true", "evaluate_query", always_true);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p18' class='permalink'></a><p>
      The selectors that define the syntax of <kbd>not</kbd>
      and
      
	<span style="color:green"><kbd>lisp-value</kbd></span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	</span>
      
      are given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.3' class='permalink'></a><h1>
    4.4.4.3 Finding Assertions by Pattern Matching</h1></div>
    
    
    <div class='permalink'>
<a name='p19' class='permalink'></a><p>
      
      
      
	<span style="color:green"><kbd>Find-assertions</kbd>,
	</span>
	<span style="color:blue">
	  The function <kbd>find_assertions</kbd>,
	</span>
      
      called by
      
	<span style="color:green"><kbd>simple-query</kbd>
	</span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), takes as input a pattern
      and a frame. It returns a stream of frames, each extending the given one
      by a data-base match of the given pattern.  It uses
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) to get a stream of all the
      assertions in the data base that should be checked for a match against the
      pattern and the frame.  The reason for
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      here is that we can often apply simple tests that will eliminate many of
      the entries in the data base from the pool of candidates for a successful
      match. The system would still work if we eliminated
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      and simply checked a stream of all assertions in the data base, but
      the computation would be less efficient because we would need to make
      many more calls to the matcher.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (find-assertions pattern frame)
  (stream-flatmap (lambda (datum)
                    (check-an-assertion datum pattern frame))
                  (fetch-assertions pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNNSPIz1KPSKihyYEdCGkYVAVFGhBOE6QunqbpQDEWgmBbJpiP9fcBBA4saPPCQOE0S9qjkMiWLYpoOLTDSMn40ApNHAQxKBIwJNswQhPs2SmnkxTlMIoEXKvDTEMBXo5LWULjGQwYXiUhhwLo5R8OUCY53wViVKI6gSJM3jlKo7SzwS0AGIA0QgNY4KUgs4yeLfayBLc6SHIyholNId0oRkRjmNyuonOSK5IlEMDdJwn1wkiJLQBS0Q0phPr+oaEqmLK0yzOSbzRCUlr6jU9Yb00-LT1o6t9MMzruLWzzGmqqz+Ia4d7Mc1wAEh6jajqahyt9EjexaBommRBtGgzptS1iFv+xor0u3KYUQv6jE27a-MBD7AvXRtkvByrGgijbwqQ-oUIEKwwlIOMZDYZ7AhcmN7tACD-3QzCIKPHdUJZ7h2ePembIglVYtINn-o8QXRlIHmLgUhgo0iNhlAggBVQgK0ISgAHcaCdUZXWRABafXityhDrtAfH1k2GhSdocm4zhHA9p1l1C3KkDn2mFj-C6PbQ39Kjnb16kvaZtCMO4U2sD231-cdZ0g-KyDxbiyOC2ij2OA9FVScIYMZBShhyF6sHZvSvyXOBgui5+ku5odqLkSzwQVWDDgq9ymQm5z4MaZc1cu5bxDegbmgB9ztvwc77PB5agKjLHnv6+J6KF44FUOEjdh33bmvN7YMuRTbLYCvLHfvVAPfWKXxFoqYAAPKlZDPphsdL5RL97o+aGBjOF-zlhC7FxmnNd+Lp95D3vMvZE99H5r1wBwYiYF+DgWfgsCkoCt40z2gvECq916X3-oA3eYCr6HytqAHBDM7IiQEIqDwMD+BPwAdXc+Ah0EXxIf2QIlwKSJmpFiCmUQp7N3HsA98C8EgqHYR-B24YwAj1oBw6MEAYDwCQKgNA8g0CaEgTfZEOwlKiHgUwYBrpc5lDYKQT+5DxT4DYB6UYFirFGAAD4uO3AYxgLcnG6FAG4jx1gPRoXeIQHxfj3HmU7HsMJxh-GRI4NQuY9BLEQLTvo6wVRgyhiEMNegTjLwxHdD3WeX8OwcGBsk5xAAyKpS5biVJBDZUghTMmyJHmUwgW8wnl1KTsTJ2SOC5PApUxWnT96R2HlAmgtAJD2MoGVSg8CxnvgaSU8hq4YaYisak9pOxtLkGDIQfewxulJBcn0lgWSfBDPyYzfZhzjnCwge0+5RzkG+FmUEm0KSMp91uFeDZRkGnw2vo+V5jyJ6l1OcYP5eoZBXk2Sku8aTLDWDUoGdqIhiDiBdoMaFzlekZMuQMm5IzGbouGMUbFACg4TJRbGLKVRKVYpxQnGZczvnOMIrC2QAL-lAq2fDZ5UyGU-iZZijMrLXZiPxZbdsgLOqIu2cKvRqKJ5EPGFSqVeLVncsJUUklI0yUQWflqmlhY6XtNNSy81bp2VfNlTy+FRkFWcqFaClC1rJW2uoJCtKjrSmuudRdQVyLdnWHEPYthHB77cGYCWHVgrfn6v6dco1WzFaRo9NG2N8baCDEtSKrN0awgkMTLQAN5CmRyE+fMjgiybBb2UEG4FKrHzFpYJnSgAgJCVvlfyxVAqkU7JFTsCSNIKRMEeX2sURKrk5PTZYxW476CTseYW1VcqLAxrvnGpgCbqAzpoC20NbTR1ouoKTQsgFc37vzYe3VZyU3ErTXkslUtyWXvINesqt6D2EA3Y+b8Qhc3lOYPqH5eryFDI4MwXAtynAeuisBndcaEFZSPaBegsGhK3J0Eh5EKHQNzmGUmqD7YYNwduXmM9m6DHTjSiQFZZGn02LnYat9GbGZKRnPwYgTBAMoQzjxxj-GnHNnI1sG5EERN8YE-iLZBICPTIY3JidIxHkVt1cYVj-a4VKrvO0kcDBsOro08g8Tz0nWVKUxydp8b2pmancgrTimrOlKVbZyZdHrBTu4KQPSsmmOWeTWx3YkobNtpQjscQpmqjmZOZF0L7ZbGSk82G89mdGIVllVutVqaF2caXYzL0ZYKyCfTiwF8pXiA5cfTC0p0mavlYUyk5TFDstdp7blp1BmR0+a4LwYaTFCyYYufOwZi7SCKwKMN2lUXooj1Q3mxNkHdNbBPUi9rADgyubWw19ZA6HB9YW8idWXAGC7ZkE6CT621Vdhu6dskERsM7eu9wW7B29OyEe+1hzF2ruPeS1sK8v2OT0p2AXGQsbrEpfY6+8CsbFZuDpfS8mfDGQUkpuTNB02OGYLWe2S+9VGa4GqNICCoA6Gk-JwIEWKRJwzjnEDdhbDnHU+J0YRUyprBQ-JroanDCigcXQz+JBJycdSLxx-bnZTgb89ADUuXgM2dcKOOj0Y-CsdCKvPzyGUMjBXlV-rg3Gvt0CMpquPXH6DfGFXMbm3tv8fgLV9LCCZOoQU9o4+fNudxikF9WCC0d9YdbGBnfZQxpQDyn60BmItWuDUm0hLPFye4qDGULxhgelJdZ70h-Fqe0LdRBw6RUQsczda8ETIPP5T2Fp8LMoR3Tva8yLIe2Yvpe7D+35h78YdPqfyll774M-vA+0iptrrv5fY8oXwEpNebk74s65e32d-JvFW4pBlzdftzTsF0rhBcBE1h7UUVRP2h-ErVnw2v6ZJPEmaTlHsJUdBvfRaXxwbCiyV9YMZXhasECLfKxM2c5XnABXSXQDwCCFHV-BcWRf3UAAAFQAAkABRDgAAQXAHADQIACUkDIAAB5AAOWQConlC6HpVwA2DjC4BLBTww0rwwXAUJy2Hn2mGznvhXz4VdyMA8D3y4Lvh8Ab0GArUrz4Nfz3znDKlEKyna2kPsHoKFjEI-Dv2QPQKwJwPwMINIPAAUI2EXxEGEKEDkJ-B4M11DxoD3yDwPyEK-1Oh-wkJmwYPT2oH1lsLYFRwjCmUUUjGUSgDgEQGQHQC0XkF0UfBMVSknVuX4AmHczC0MWMVMQoHMQaXHA8ByEsXHB50bX3h8QyM5nDg+Q5T9RWVrQWSWS6QaWUDiMkOPB2ApQlWpVxQfUFUKKiLKiaLNVaNCTJTqJyLKS9RaKDgKMaHoRmnVRYQ1G9V6NiMIHiMGL2QTQeQs3SPGIUkmPBTWK4wGMaFyOA2-UGBvV3RWzaJSQ6MmMOJ-WWzvVWzxz2IaFyI7VuP-TGIHCfCq2mBHi6nYGzU7VLS3nLR8RN1txeKCW6xqObxSEePqFyKCzE3WI+M6N8FU2CwROmCc00xBIUgWPqNfx2Ga3ePqAmMAiJP6LxKWOsBXXi2c0S3aI2JRJpLXR2OK1hIZzKVm3IBG3uPxI8Fm17U6NnBGBZFVVePvT6MFVqLxNBKaBgwbTEQrR2z2ysWlPiPxMnFlgbFuWVlVnVi1joAkGGBYDvlAENk2OiJGFRxeSG17VxGUGVOemqh2DjXIDYCOM+B+NxBhB2jywDFtLAzdI9O+KmVFIdMu1s2MGRmUmdIvTYG4EoCHA3lDO9JpiMD2njW7xAiFJiKWwhLtKIENCdyMCFxAwWIiGoGnWhIaCW0BP3mBO9NlKd2VKbNtyWziIrLeROVTNxi+3X3HRlUzJn3Zg8AHPBlFypHAiHKsXZhCEf2umjN9NGDljDMZhVjVk1jJBFQCz4DNKNgFMjijPB3aXlPgUVOh13VoDVLTJcnO2VIvI+3qOf3sG1B4WuBzJFOM1e0uwfIJGvNbOSFPLKIrX+3vNjT-NxPVPf1viuK-RuL-QlPmPiLYPywYH9Q-PfCI1OLAySSlMgq3CaFJNmhiKwrQ2IhxPZI5IwpkFIoYC4HLworxOgugUmIxPE2vJaljJjXjIC1RN43RLczTL7Mkkag8nCgUi2hjM4hkBi2LEc1pOnUiyEuSBcmoq-PkpZPpMsT-LqLNkXNRi-H-3UppEsTKJAiPDUpew0oS1I20oSF0sVC4rHKhWMsqTKJ9IMpUtKVcq2TKLNlcH0qPFUtYrRLEw-X+yxJc0s0UAcrCgCuPKLTAnrXgSIFeTmGWU+2Eo6WiQyskOfIVDhNCEBmglSpWJoXgmUCAtKvzUOTmCvFythERip3hHaVoCYmpETOaO1Qw3q2MC4rYuBV9PTP-xsxAgxPUzpNIBVN7NbDCz814oGrcyPHyqPBCAKEYTkHavrT9B6KDgrR8s0tsqmvmmrLasDG2q6p9XMOE1CvfGrKcgioUqiqUvWnNgkpRkVDANF1XWZVmNGKRI2JuW6JtV6JKIdWBVWqGOYVyl2tGwBsIqwxQWhrfFhrtQqJ8XxOCGjz2D0oSs3RRPJN2LxML3-3zNwU63zJ8TNj2m6i2jGq2s6tRow3zN7L2mqoORoXP0RuSoSU6TKrmFpsjKyuovzIAsCFLJjXLKjC7PAkFuUHZtqqbGvNnxgsAmZJsqQqsM+JfGcv9SlmovHQQt5LFsBDqJVpYsAm2K0oeOJr8j2jEWzJSPfCtvahlRqPwrNleTBrrRlRdu9rdVfjSmvNANKTEWYpoBROGO6slLZNtrWC9vtR9snijquv9pBMVGopTtBrdrwrqNlIcvki53aRROBr+rhqJuQr8gToqLKJosZQxSZupEToDozqdrrrFQbpBoThzpSX-IzqYvBx8NVT8KjBjECLURCM0RzAiOiwyTQvfBDxQtAFNIZkYDSnDu1pDNVRZzLVGCvIoW7UXDqKXuk3rHjMTKKBHgghNuMDrI2D3uUFFo9rs0yzPoTKTK9K1vGw43AlwEVjfovqECvqewvimTr13pMxxC1so1wz-tAEQxfs3TzMPqgZPqSqozgdv280fHbKlsrIs1wGgfQdgeUBozxsfAzl1swuoEnKIbyQgioevtFVofazHS-lrrES-vh0KyRrfkZkYZAaoYnIs04aXqDU4fNojpIH-BH0lomE7OnWPp6XISvALuoKso3hIWhzjtmu+20fiPaz4xkemA9DtJIQ4r0FcHUOBkvmDo5D2maWmHmr0g7OlseRAkoJnsqxfAIWbv3sVK1oqQqP8fBi82oJIX9v2s4X0Csd0Y21uDb2wZQkvmApxGicsZ0ziZoCvESa8egQfkYTkYUbWOCdfn3o9GLCcZ0ayvGFzmaRrQ5WbAZlqeDHqZmkPARp-i+M0eqNKZLggoqYX0ouSBCBafqb8d0AAB4-x+BWmhF2nMb+CZYVyIIkC0JPjCAJAAxLs7EXM6BMJuBhppAQhKcABqKnJ3MEFuDiXtCZ0Ac5phs5i523K53OG5-+LaAiwETUlZtZygC+JgDWbZ4MXZ4YRRUiIbcgY5xme555g3V54Md5u5h5xWWF06rxN53AXtBZyRoozCf22u5uixomfGhYwZNCZkJRxUVq9qhpr5EJz5oa2mfVLsCZ5vehMl5mZke63E7FSgWR1x-Bk5M25vEIZuknVcNlp3XcW4BZ6ssV2lmGYJyRK8HF-yo89iaSuIknRx7i-zFxvBmW5S8WrUyIIltcwgIJIcaPLeQ8lIQKwEPaYnKiYyghWKpoFyM60JFJvxtJzBG+xoFJ88j+GajVsNglchOI8lp0fR3F6u0ot2io1+Yl1wYuzlil2NplmlwMOl+ZBlzKxoL61l5Vj9DliYaN7l23Ix-lluIptxizEVxaMVioiV+pEtqGDwD6Vcdp1+RZkZugRVoFZV86BwNVxUeSRyrVhYnVwpZxutoV1fU2013N0QRWFWK1oMZZPc6iDm9dUNpGd63yI8J1khECV1rR91wt0pL1v1-eSJ29iGHl53aYYNzhfd82QmLJyCit2N2RIezMEegI1RYIjRLRbACHawV090igT0lMws4HfLF9Hh1ciCKD4MirZENDmDzg+M8YR5UY70hDupfTIyVM2RaOQuaD8gWD4ekCG5B4aTZcJhu3WIIEIs1waTa0Zjw3aoNj0E6TQabjoqiIPjhjkaJmMCIToZUTlIaTVLUQJh+Txodj4waTG2Q5yQJh9TtQZT-j8T5chsbjgzpMJoFTowaTAREvT0Wga+yzrgD0RReoMzxGyCU5oT4wGQCPUACQEEbIU085rZ0AZz6TfWdz1ILznzjIPzs07zowYL8TiqlITz5QSL54U0qCWLoLvT+h4AMLtMCL3z5e0AMAQL+L+hgAUjy+S+88K9NPK8y7K-Aggnunc+q9S+i4Zh8+y6a4AEJ+JWuCuouiu+uqIuuxP6HJmqvBu0vQBpmjAxvZPxPJn0gwu2vavZuqIavuvIJMgpuUv1vsh5vGuduVvlBAg1uhvTTMhNuFvALxOeu8uivXBngjAevjAQ8HhEIKOgzsPkyxS-GMhFRq1lwfRKPgy-uAOvv-8sPqOt7Mx60PQAArDMKawH+oatXEIbgTsH7DphoNHssWmHmjyHqg77qjz4Jormm5aTR-Jhx-Zz4sjj8TyAQgYSb9CQZjlntngLBnxn8z8Tuz2ASAbjwXyAXnvnizikEvNAoTuztA8Xxn6TEglgEgvL5Xkgvtg3KHsVUIHH2H768VSJtHlIDHob1cQh0Hn7-Xyn7X38In6YboxU435IU354fH+aXXq3in+usFxCelAUwM8nuH0be04FybegLWgP9eQSMYCQWtxHj4YsYgQufzGQD9e3teXDyagjwsgNsPoZToQIchlCNqfFwVmWtQr9iW8vqs-qdawQIGPX4n12PxpvYsjP7oiZgN+v2QDPpbSgJHlH-e+6jvn3120JhX1wXVudmv5BVJRA3V0fAfm9Q19xqiUv7gedivv3-9wsQDse4D9RTADAPJmgb8RgFgMgDgXjegN0LEBgHLZ+Lh3YexRxcR5G8YeGanINVVj-iqXQB5hwCeYIt3m7-DVP-1lxgDpihmEVGfSxColASIwfUIXFzgFs-Sl-YgHYjsAxE5ADpYgMQEK6KJzmMgDASTggiU5oClOE5qi3OYYDJ+jQcgQphQG7YQGe6SkLcwxbBhwyu2bgThXYGEgXo6hBFrCwgiQRYWcAztEpEQFzBq0O2PgQFm4GbgRB2gCCO1jYG8VEwdIHbM-y7DaDqcEEeUPTn7YxYRo2gxXFUnHAyUokaWIyNoN0BuJiOvKWwZdh9IjdGYKOPKmmFXBmCGYMBIwSSWYYugr+N-V2Pfxyx6CmgIQKwYNkObclRiZgmpOzHFBdJ2ypxO4oejsGY1oCYg85uoL0iaCbgcKe8pkLRZAhKcwAmug2mWSil4eRtDIS4IAFwsGBMLXIaYA0GjA6QQaYoQ0J9KnN2YCEfwRyTyGQQhkTDHbKDw2DtCGA1MSQrkWBgRDZQuvSYb2lQ4TQmGNybwS4JHYkCGhEw9gZUA6GzCykCLHYT3H0EAByJ5jthEGXDh8nA95toLUFtC9IeeGvGlGzw6Dok+8V-pEFXB556BQIaTIGDpyKxDOoySgMLBcJCxHmaFcYAhC+bJAPAwwv4e8K67GxOo-wvYVMOpiy5kRtwTEeiIcAEi8h1-VEbiwT4pQ2qKfcfqXDAxlg70D5Z-lyR5KHoYc1OIEZCxZEAZ34YDOoaEhhwBtq0FIpPtSLKJ0j+MJYRQYyIRHcIOkXSNkQEOkwo58QlQqovkRhxHDY0G9WvDMmNJ3xxRDImHJxWkp7JORoxDUb6SdZgNxWVERUM3R5rVDUhe6N4hqPVYUd6RDBUwhGXdjYgdRRpKoPqLjQej96YFXdK9QjZE5rRLbXwYJ2pzAwrcUYCUUpC9EsDm0R2RvsGJEIRkv+hVJbDaP5ijC4xiYu9FmN2yy48x0Y-mMKKpHkB-MZRQYRzBsZRiOUgo7ENWOT61iaRaUA0ZKOBYVoNRRwpsf9yTa69MxKYoWgex8jbATRnYeUWGKEouQlRTDe0VULnHcBXqDrZlpG13S40Wq25CQHwEZFL0XSgMBUYsNXBnj+2xnB8muz1KbkFIaQ-9MVAPECYQG5-KKkaOUZw46875MMdTlUZ-jCq14pHBaw3IGk+RzDFzNaRFRmFKglATONMD1AiBZAn49QjuXfBGjfBDeVQYgzBQCBTCrhV2JTVQlftVw74sFtKI3qCxxURcEUiBNsauQN2QgAuBwHjCCBxgDAGmO0nrDcBBSYYpllxShwWjPKgQbBNPFzi4JxJrcfBBe13QsFSE4kUpJQhsiP5S2jEwBuqlYnAiOJN459pr2PA8Te0q8GVBInfaLkuKwMYSUFVKTAxDJhQlCfOOUB2SAJ648MVGUPZMsq+O48dp+yyp2SYcCBDYCYDsAO8L6iYECAAAYqC7SESBrFgwhSYhc2V2OQFkC9wEp9YIgOFKoiwjQpmU0YLC3kAh1yEOU9DHlIYDtYM4sUqYh3FQTBTNUzIhOClMCbFVlRwnSICVIanJSBA2wp-jvkfDMBlk1Ut8NYBVDdgQpf+HXh1LNFdSPGgLeKfVOmlugUp3sElo+FyDTANYc4HLCRJSBfUhJ-E5apvRsBzTn4ukqabEK5FrwHIkNE8b+PXGHTgY60jgJtNEA5YLxjk5vE9Jek5YXJOYyIQ+O4C40v2X0raWNM-4b0RAhQJsPWn5FySwY4A+SVxO3LMANpoMg+JqzTCQ4ICFUTyX1S1ZM5R2f-Woh5XCoeZ566rDaB5JEm7RSakkkRNJOpButEZFMhoC5A9AP5RKNCaEh4DJySVoSIQEGa9OETdxa6HoNyQTBeibir2YWSyQLkWgeBBZb024DjIcGKzg0DgCqB+hCC8ylILMi2BbACgoznpaMsMRvQloi4EyCaN8IQmmLJs9JJNHXpQgoRSTF8PTfIrVLbyuBqoOCNwfTyZYuQiANzTHNXmMmTwJEbfPnsYBmjMymh5kmceqg+YeViyDoKCKnMVBiT6ZdMkWTJK6TRy9JLMtmVJNAC+zOZY4QEIOEIBBzi8Ns3qE+yMChyoU4crAC9BblGAZc3zB8Y-Brk1w85ns9yVOOqiQzGE1gQ9HnI9lvsYmKctOfUBcju5acOEgKlTM+qlJSy3c8+L3M4S7jT+rkKudriBi4RuAoMAvF+K2DOte888-QX3gpyy4GMzObgAfJ0Ac4SEsuLGZEHvlyzFh5s+BJbPzTWz75PoI+ZwhfngE35KwQXAU2Fzfz+Wv88YEDFBj-z7ZxXMAKnKgjAKfxb8pwOYOVzXBD5ngwOVi2DmUxdcTgPPskF1w6BSFgQfBXpGrlW4SFdchoFbgoUML6gIbWXHPM9x04qJ1JEKWUEOrP8Cs4fUjIdWXQhSMOZ-agNinnx4ocpWtINLIsEYJTKasi48dYOOxGRAo40mUUcCBGiBNpEgOemlAQiQD0xmiz-n1JQgB9O0OUsGS-FAC15mC9i1EW7PRmGUde2KVgNSBykgQBpW8IaeMBGmhJZF1Nf-NQunyxx2YYS6uQ4t4Sa5KFKQb8FIsQoeLzqsi+JckFbybz1CYS6cmQKvkD4AhQ+ICU7VJGjBe0JUymikq8XjS8+I+MfE3Qnw5L903eZFIgVQIYE8CSsAADJoFyC2NewNFJFQ0FBE80-dBYQsCIyl6HBIwtwQkLU5BCS+HwDlPEKxKLARwxQmVGWUrSkm0UDZaMorRa12lHATpT0v0K4SUICy4wkspCkrLeQaypep4RiEbUeYNhCfPYW-zwZnCdchhiFI8K0gEIN9V5QKD8GiLxgfy1EPCI3oB8tlji4+UINpAbwMQ1aHmN4ueA24rFoy2xeNDuV4g9JN9YZXQRhWrLcVIbDevmiz6lLs8bwspXXhxXyT981MB5Qip5DIrWFp7NFWjARU98vgpQD9MJAIkqEMMMSulXio-RR5oVNy6ldnlpV8JEZDPH1gaDNklLXheeelZ4Qmm-gpwmPC-BsHhQvipVaIiCBhUpUc9eyLkLVUQA5mPQuZAQ8lYc2mAqrURaqg0LLgtWhJyJU1A1ZIgVWohcWOwIQh3AVwny1UJw4Aj6QcGvz7Jv+XFvQAbCITCJS06kEIRIEJrqANMLigGutlmESZNMnXguBAjvLHC8GbNSzL2iYDZY7yWCZ4Wd7-QgVFoBcFCMYKEBwVeQO1gND9C6RG1bhZtZ4WvpHh5hqa3FVHnLUDT2oVa20HpSXnxUdlyIWNcwFGWuzk1Kiu2tD2JUgREls0RCsErWAZql8ga4lTmoSX-581VEQtXpCcIHrS1-+Ede8hKnVr0g0JOtQfgbX8Nflva99jHE7WvqwVvawnoDBymR5CuN6ylHeonXiUpxfkXoHuM3RISF1DYZQk2pTWCrCAz-GxdmqaFHBYNaGwdUcNg1mEkNTakBnhsHUEbu1NMOdfGuQ2Lql8pGwsKzX-zzIBVTarmkcuwK4ECCxBMgmbFY3aEONehECAOuQ2AahujGhDd2onF+kII6EHCTOqLD4TMVy6tYBRoXXrwl140kJTr1E3LKQIRyk5b0u42aE9NfS4GABrTCFctNNys1aUik3lZuFerXit+ER6hlwKnwyUC5vazGVHNxMX8nIuVmXlBG+6dqF5sRD9j-NS9FyWE3DT2a9INsJzdvRc2qLwsGs-zR5o0axbvNCW4NY4J81-ZAtwgKwHFrIChbHy4WoyO5vOXRQRIwYSdEIFeGZb1C70x8hvUc2UBRpwWorc6t9WJa527W0bL1o6aLCfVeQWXC1tGn-Z+t7dQrcdUoXGrXhnm6gFNsm3Ew-yzcyOUNulCpJP1EEYEY81m2oimGo2lDYMs3SxbWtoSdLSFs61ChutPFGLQVtDIXaitngopRyRVCJh3gnwTUGnych7aylOINLfdsRA-BAdT2q7dKF+jJAo8p2sbXlse2eq4dK2pqotHW0zCHYW2sEYzF+3Z4tOBWs7X7xilMBqtIpFss+wZVa1HlLK7EDzGdaZBVt7ENRdDmVWoiZAVWmrSatOErbI5yQOpRsHHwCgQ2zgJHUcB50B4Gl-OoBa3JCDygIdgQFHRAi23qxIRmOpnWUqYas6Rg+OkVPfAzB+gMJ-ErLdRRAmL9-wFTX9Kvzn4b12xoo32hGTB2MrPwnrZlUiqp1NAad24bXZgJFLUSMUtEu6k7k2Gpjn26StMBMHfi+ceW140PRhr566kwJ38CkPDO3ZnNm5rc1wBBCt2dj6xf0j4iLr50Wh25+xfpau23By60dHa9PYnxrF1ixEu2lXdjuUAZ7q9OMUnv-ixD6jtOkgECAAE4ug7SDvYFgnxoC+9ZMNQAyrXiJgygygFDQJPjmsttkTLOOWmBoAMwIpxrVwP3pkDnDzhisNALvrbWBApZzQEfZICjUR9326+4-QPoZDfpHEjyzZJIhoBGwEGcVcNioEv1j6b9ZrZQG3vy22w1AcbPRZIEMXvgOacau3VrRR1l6muc4fRcAdr2WkHV+2h0oAYMWVB56muzdEGKTHs6VQMcZKKMCCT5oeeDszVSBD9F6iexKykzCAcIAxwRBHQSFTuukpTAGAhB9nsXP5j5pamTyJlhvogiGwjYWBu9E4rKUvA6De5ULoX0VAb6SRKq2EG9Qg0WxqosEgPAhK4D4S5gU4Q9ckCw0JT4N+G4jVRsppaH321UFg2wYCwcGqIMmT3MMAQi4yjAfBgQ+aTMIBgNDmkZw4bFNgKHJK+gfWVOpSBOHPDIh7POsDLyo9PDXh99v3oZXfamgjy1lf1Dd225ZDzOp9t7uGC+6a88kyPFHsIZDd1SefLHb2inD4gW49S2IzHhBSExoNODDRoGFoAaxHEuBv0Bqv9BTgyDzi3UQGMoM70lIMlWg36HoOMHXAJ7LeFzWKPZG6A5R3nWLotBVGip34rsJfAG2IjGY6sT4oIhbhS4WAbMF6JcGeE4GO6mRmIqUey0rHJE+cMPQUYsWLZs4YmvfuMpJXpN4VDISnZWyBBs47EUXG3HGAzAVhE8DxvFF8YVhFURVH8fFbQSs6DrblsqvSZtuLElh2d5whvDIC52gAAAOlgDQ28BCmqh3AA2DpDS7vO+3H0v1G32MxzD-LV8V0CENInXhKJwiWia51YmcTUMuCRvEJMs5rg+AZKJIkXDAxeToAAAF4e9MThwblfia5NR7Fwopsk-9ApMmoCD1JyOH9DwD1GfwTRyICidxNFApT0wtrpVXE67HFYHoR5sQEeZ04YQ5wxCA6DpPWAGTkp+CQSYNMRcjT9DE0yVnNOWn4Rip02EAA')">function find_assertions(pattern, frame) {
    return stream_flatmap(
              datum =>
                 check_an_assertion(datum, pattern, frame),
              fetch_assertions(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p20' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Check-an-assertion</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>check_an_assertion</kbd>
	</span>
      
      takes as arguments a pattern, a data object (assertion), and a frame and
      returns either a one-element stream containing the extended frame or
      
	<span style="color:green"><kbd>the-empty-stream</kbd>
	</span>
	<span style="color:blue"><kbd>null</kbd>
	</span>
      
      if the match fails.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (check-an-assertion assertion query-pat query-frame)
  (let ((match-result
         (pattern-match query-pat assertion query-frame)))
    (if (eq? match-result 'failed)
        the-empty-stream
        (singleton-stream match-result))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9phgsWkR4gRAYIUGEpUEmbBcHyeEKhqax-ryUbZ7GWelnGEh0m-pppigpF8Sg3VWoV1KBGkcGbmMd5yh+Y+vkV2aXitCSBgbj41RztW06+stvbuG13XAfu6R-se5xDExxQIBgeAkFQNA8TQYlavplIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKET8JQAAH3z4yw4+Lr45zpOYkL4vUhYfB8A4IRs9zgui79MP0kyZvK9iav29SMcNW72nDtT+4xAkYQGG3MEE519k+nH5OEzDrC5-CAAyDfen6QZ15HBfGuYMRndH0AO714ecaCsPj8n6fQW7qy6D1mrJrd8xDF8DOG4YfAo5fp9K+A1gY7xGERCu-IIpnzDhaagYg6CfToLPSBVEb6pDvrUB+O455WTgQgpBOl9pn3wYgzm4dv513-Kg18QVto3noUmYekxiEfxBm4eBZDkHW1rMA5YdDd76BvBA3OUCQ6cTDsaIQM4KjKDYD9LKdA+GxHQePe+M8n6gHBFI7hsj5FlXoG-OmnEdEyJMPoxRFCf7UJbrQ0BjC7QOJsUnFh90z6mIYHohRsV0bKJiAI8BTCREuNYbDMemtPHmO8c4PxuMV4YPIBPLBGjcFaIiV4gxdAjFn3SVEzJViqGxICYMBhgjgksNCfTXJcjonZV8fvOxKcwElKCUw9eYjjEeTDvIjOvNo7w0IIEDh9AimgNvok9Rj9UmSQ+iwPpCNBnEGGVkypnEelzPIAwdcAtjaGFGU0m42Iv7WL-gAvW3AnHMNWR5dZfS67CF8PshMlzykdJgakES4dmBaEIU8wM4yklTxSRXKynyPhUGIIQ7JbC4kmwWUMwwMSGn8PsWUtpkCR4wskfQbiqIfjwqWYikZyKVFjISYC7BKDE7cGMkUbROLqB4oXAS5Z0KwkqBxf0wZWzAh7xoSippM8GCBBkJovE1zzBvCnvCtm9A9kkv8aAoVIrNGkjcTCqVXLSAME6FSyujSEzKsqJonQmL2UlzaLWRwX0FWwrHpgoFUyQVaOMO0JmyhiBsvpoTV1VqPXdzCGgpVj9wS+vdZ67gc8wjqvZWG61XyIWEPlTQ2IArnlortO0mN9MqikA+Amn5nMA1CWKcW7NnEhkznBYW5BybE6BoNYGYJ0bobvOjgoTQuI43+qjSWslaQMjOJbe-c1qR5H5urZCotvag1NI7oOoR6L61vKxbXLkXhYl2vPuSyZODnXgnYB4LwXrOKE0PcoDdtqgoaIPeu8EkbIHlumuupq+AHmbtLa80+q6dWEEICCbkqI-n2omckp11KtEaH-dQQDzgT0eVHlqwlSL+WkqaZcrNraYU-TEHW-VaatoZqyK8iVLgHI6tILh-QRAG0EbHp3LINHSP-QPPmnD1HCC0bQ+mkYTGn3mErRRqjTHZ0JhvHx6GnTzBh06voBZy9-k7rAzuBZVlihGKky4I2ZBGBm34rxe2fNMZ6wUy4SGB9wQyCTLUcEoAVZaKs3sGzBsWjtE6PoAzXEqDhHs+ZmILmZM-Q895uzKxVaM2ZqzdmHwi2eYdsZwGAXUhYV4pvbeq8Nz6G1lMGYPAqDG106FC2N5Uv4T0kUG82WyvldiNpk2emLbbVK7Smr0xtpVZa61ooNMctNAc9Z4Q4Jv2xrmhwSg2VS79AUPoeGpm8sHhm9wJ4gIAB8oAGO0zwKPD2cgvZQDgIgZA6BA54nER5GONYIWaKZpWPtc7UgRyjhds8cd2rr2UqUakFdlLNAvkA97zoFL12kgU3+9TKG-3-mkS+69uA3d6ypbdsr3jMF0XkxRw8PstFPMj8FaOamZOu3QW7P2kfVIsUBgHipVY4-J7UpRqT4ek9gRwgh07IFY+ezq1nXC9Vw+Jwjvr2LZpMqQ8szHgPsc-ClYy5w+KBkIpQxBpnzpftjtmfMhXyHiUc8l4TUeW4NebO2XrXZw9qtdeBEb1977YeddjCrxUavw6WvDRL6nUuFzdpta7+Nk6k3m5aAL5na6j3u7C57pq66ick9V0jsF3yp3IPD-JSPCfE3s+V8HuPsC-0AYx1TiPUG2CPOex0LQ+hEMsqJQzyB-PbsW9XEKqH6M9k4bw1TIPt3BerBaKQcymibJ2Qcs5akvhkHkHhl5HyZeIUaZIXnx5yJuDt6EgOVeXUFCy8rI1A3yJJg40VU04vuJBnUC3zQHfb02GV4cCvyjLaczPn+Ov1IuQO34HKNfsJt+6AH6gjEO+EshkMVLPhXohvckvg4FTPbs6GrEzNKsTgePQL8rAauIhibp9Gbvvo3pboIA-rgZblXkgfILzr-q4oaKop8r4kMiAT3rltQQxMjkjGCLQWwEnC1s0IPKGMsBRC+IaGZMEL-lZLZPZE5GZjCpQL4CQNPoIIvjVDmJJmfM3lHK3nJgMoYPXutFuuRu3uoZxvQfpOtoOnJIbJlmAV9LmmxpRvoWEFoYQSsCoTwksqMNYVRgsnYV3iuuylzjLqLtXkrvPPDtfP2pQKQLwhYfoJqjKosnyrnFoYYTEDTpdhXtEQrrjoHo7k7p7uXl9GkdyrqpkQLsNvTFzt7gGloTjK-u2p2i7m6tasWtodxoGNwZqOSHwS-sKPoN0usFWonr8r2k0cJKApEVYX0Rnsnr2pwPDgFM-ofrEI2GMV8onM4YyLSqMaxuMTWnqnYTMSuNUYwTbEsXPM4f-rSkFMcRXM4UxIUB0fMcMU0mUb7v6rAYJv7pzHhrscUSuGxEoTCk4Q4KQrUPoIAksnNvOl3KCUsBHgxi5lhFCICTzrUHCNwACS-EiS0naFCa4mRHZtAjCoYNyIwJ-mYgTooh3lUV0RavUT2hivcRyijl9vWoyN7gWknpQB3jcc0WPJCrUeUb2rSqULCbGGsH+ggUYESX-PwJEmSaiHspcRMTsReGgYUISUIFKaSRTu7AJLcI1OUSqXpG8f0R8Y0Y+KAHcQAdyUjh4hkgXrrn6ApI-DaejrFMcoUu0rSs7nToToXg6cCI-N6ZYm6Q3Mwp1s0AxgFH8T4Tjuepes6sEVBMLG+r4KLC+pAcPExI2N2HqCyZKSSTKVqXKstMmUBAsXKgIIiYiggrUB7ECGiUCYMNmY-laZEZAQ4dMPAczDdsgWQU2dwJWZwjWQkSUZxFzuntsTHnNoTIcbwvbpEZ8gETrvEQaUUPDmaqUTjqQgMfGQLjjI2OjIyJEVueQvUnXl4UxKQqDguL4sedwsGc4p3ujFobLKAujCOedrTj9GTI1LaZTjubdjjJefec4VLH8AWfTleebiuJEYGT4mdLDl4YQXsTqP5mfL4eWdIuBT6f+etEBRDteWdM6bKeVPeVBSsJEURYWYwKefEYhdBd8RFFtmwjtvIEoPtr7EdgHJYGdtJhguEV9LNiEU0lPgrGEbWO+dcLqd-gWMFjsmQJoaAG2V4UJYaiGu-oQJ-szKPPerAZgZIPJdwEpchZptaYoBpV-nvuCUpo6juDIFZOpZpVPNpcxhgQolgfJZXnNkaqKnZaAOKvxhIWEjbkvl5aCMKsar5WqlhuysQZWD2b8jIKFfmiqr5aahJaJFJTOXkfQCwUlWCOCFlfegyblQFfHsDCBejFZWosplzAxKCuVejPBgJg1UwW8Cwd9JTCpYRoEnaJVeuaOY4F8Iim1NHCQSgUWgmeSNdEwsZWfEsZLJNXGOhoIrNTCu6kNY1CwEvgLJUREIUFNaAlhJDM+dDI2JQIvLyVIaNXFaQYQoyBGTxRlXcJLPeQpa3nNmvPhW9QxMOiZZDFefKQLM8PtUtTxoMDLNFTmgLM4YDSZpECDVaTeBDfiT4RFogTdeNZMV9b1ApSwOsI1ItVaRwG1OdUYF9eEArMTWIKTaeNCZLgTFJS9djRTJ4XjcYNdYkaAM0FTaTa9eEAADzAhMzU0Wy02c1JF94D7ggAAq9coANwdAKZOGvASaTYee1AtQzQtmAA1KFq1qXHNEKI8nzaALrUVTrXrTVgbW1EbR1RMJwZLUITLXLTIMQI5PgWICrR8WrdBprVoqbZbeVtbWILbSbWbVZAHSuV9mXCHTII8mLf1TcsDliFeSBfebteSGhcTtPPXNiITQ0GfGqQzszWLfSaDYpgOl3HzQaarNneiNiFHTEOtfgMNfNN2bdRNQLuLSZGPtYgfNtNXV1rMIImLVHc0EXYupmuTTaL1Z0BMFyeRPsV0TdgfOdQTR2lde3Zjfhg7v3kIenVorZHXOUOtq-KWU+JGPwbGIsQLIyPNQLHJt8bGEFBPf9a9ZXkDe2VeP9WoT1gveae0QdY8XXbnY-bdulUyJwqneDtYr1BnUiGtSA0QGA0Ma7LGkSWTdYt9XqKg+XfRguoPWhLXZWDncgyuc3a3ddfFZ3d3rAePfhf3YIoQwRKUPBNtLTb1N3X1hPURNPX+HbWabcYHYKMvcTqvRdRvbiFvbzrg7EIIZuAfUPsfSIKfZ9LIbeUQv-RabSjfXrHfZsW9A-Xsc-aAq-dDe-TTF-egdDb-UDefaxIA3g13qQ3nQxTgExWEixXtj7Idv7IHNgCZRvuftvrvjfvvqJhXQ6pSsIVomfhftQDvk1VppviEyzB2hwIQhjuE42i4JcvvrTIVCk5fqE544yBoumDenMEVbEHMKuDAdMDehyNUzEByHU7gTehhM0-NqQG0xUyGjPF0zPL0w0yGhCWwEVWM86PUw0DetxIYP+uQL4EVXMwsymYqNM0UDevI80-I7GBs4UDembKoDqiwIYPekcycx7CsPs7EDetrV07EItqAL4BTWtlPrrWszczEDep5A8zEE8y86tqAFPj5J8+0yGiidMAC688C6AJCM8zEF8-6TuOCMAH8wYPDNwICwCG86AGAGC30yiwAKTovQtAtT5EsIugBIs3riQPNks4uwsKwvPgsosACEko9LmLzzMLU+HLQILLhL+V-NpL3L2LuLgtMQgrIzKL-NAIfzDLErQIPLrL+VK2orWLvLoAa2UrNLIaK28r3ARQirsLBrurqrEIbL6LsLhQjLMQbLsQs26YBU5ZPARTCTJTBYANgIK4hyQwu83AcTqT22LrjJQbxT0lsU+ALAAAViYByT6ysH68iECx0+64kxckRuQcqbGOGx65G+7GmJFK63m1fqYrWci2CDeq0UVa0Ui3gbcyGpAHQN6Iyks0a82621IfWw25WxCBc7AJAM0wO5AD2w24c1QMcwAKJdMXNTtjt4E3oABy5AS76LK7S7XD5WobVIpbjUHir1ib0wybQL20iVgb6b+7GFtaO7Age7uOqOM4reR7DQJ7jLeTF4brwTEb5bRbC+-6p+l7BbIyy+HtlKc2J+4sDAaopAJeJ0Mb5A1YhJXUmg+gulQH5+-67JWT0BVjhQOG4HRwRQUZ9M04Kd0jvyc2nZ6N1Dye9uUG4p97iGr1NKlu97B7099HYpyMTHbCf8sb8bCljd7H17T7P1C7hQa9NRm9Y1MjzsY2h8DAYgXweNzKsnd1QIZHhAVDHdyeRbHjBYXjbFPjfsmAGAj1xVFApgDAbqHw5UNwpAG6msVV6cmcm4lyznkw9mLyTCnn4QZtDAFtwdttHnX5JE9BzQoXqMHAYi7iigNwLuJuWgfKMdXGVp5AygygKtGQV2RgK+mXMLHsut+gGXygFmtmpQ4ItmWtEdutpXEnzoVXD6qXzGiylAUh2cMd9+uG3XPKkg3bkQ0EQDCYwdAd4IEIAd7+CXxgSXwJfrBHbXUh3XEwY31gQ2kNnEi3uIxs02OGLnC6e39m4IDGukPd3Sj8e3oAW8yk3RacC6N4e34QhczSk9WQj3oA-LWi6m9BpQ-rIwl3Cs4I6mxkpQbVVnM4tnsUDnG6h3fozQt3v60GsGIyl313q4f2lhfHi5Sij3nNlXE3utW3TAZA0220ehuPkdq4tmQX+Fpy0OQCVeWu4u73utLW1PAdRPO3f3mJb3D+JXlGFSptbPa3xkhs8QHXkkoIRVOGF7-X23JPXnKwzuWEsPqeW3EInTqJj8ZPAvM9vPa0nenPCvSWXyMd-Pa0R3AA5BbThmN9by5sF3Heb61+L7iG6qQI8u74CyAvdpXVkJ9BnFnNtF7w103iGkIINlZMEObQ5DpHgm4MWObeERwPCIr2r679z-oCH3r1n7WB74b678T6QIJHCRn8H3nyy-w9n263LzZxX4neYAh0h8oCh2J31Dyh4ISvoVVcXjBhjvJvZjer38j1ktTFj0zzXt33hzEH603+sC39QJoM4R3x6m4Mt932n4jhj934PyGuppGrT1DqCRvy5gshA17xQhPvDCv13-JpSQYLnkj-3wMmcQ0IsXx-eWsXBIf2cgz+P4suLnkz2NACJbeQKv2MBTx288UDQLnzIBdpx8zAa-oMk75r8PaeyIAVyQuIf8GGgPTpvZiwhNYwBhKLBKvkzY9UsgyA8ASQIfwsIXMzHHAepAGb4CiBCfSAQ-joHYC+6gPOfsh0X5t9awp3XLEdU4FUJp+8tGATwIX5L90YN-VAXoSAERdumv+L1gfUoHEC2BuGexncWqLH8gB8xa9HvyKrAUj+l8DAe0TmKWkgoZ-QBijXphSESA3fLqmPCwgD8I820VwT3Xkb6ERCw+cQgzAAE152Q0hT1Mxjaomk7+PveJFsnMIv97MN4DwYji8GqZD6vg0fNj2KofF582GBPtpHKjjYmojUAYBUEGARDhuTaYIY4MB4WhE+pVIodzi0ixR0ypQpxttDCG1oN+EDTSI+26gV5khx1aUMoynidQGA6gEQBwFIDrQ4uhAUvC-3pLVFZMegy0m-1dbyxFKxMF6BLCMYDJHYUMExk0nlhgRgw44WAqUAcCDDTo2qUYcIHGHeCEs+sAiM0FyDTDbYI1XxM9EEZP5L6nRB-slhiGEBX+foQaJlieGPJ3BL-TvCCNe4b9gBnwyiEsP9AjEBkWjRxlaUhHyYIGk2D6IjwQKRJ5EvgYEoYDZAVA8RWCQwKSCcFI4GMRgcVPZmJGLNSRxIJ4HCUywD1xUYg5bIy0xEKBsRzMOkfiJS5TYEI1I0Pr20KB8iGRsXLFMgjICNwr84oveESMjD0ip4ZI-blXRpER55R4cRkYoIIFMM2R9uDkWtmqDGxZRP5JUfyKywWiGRTwMQc6CNHR1BRREcVN4VI5hFBRMgeRDnBgGgc0uR+BMJ6PyxMxTeU2TroKOTZ35qQkomKl6KRghiPoYYj6GqOoSBAkx9mYUmd2lGwd+gco60YMFpQD13RSYqxg6MDHtdgxXIxMdyIgSpjBIroziLwHZotQEYwWHelaRLhhE5omfVLA3xcBpR4x02boGyG6DkjEyrrCtmlBxDDi-AUVJxrWUOFKxRAQpQdFzWpCdCZQ1-IkP-FbHrRGw3QRkE1m8wvlfesmboOEEq7qZVx3QeTpIFADS0AAElOwYAABBcAOACnYAAlaWpAAADyS7ZAECAep-VJAageocWG1J1Y6AOwubI2MajNj4YrYgrD93ECSBxYFQeGCQJyFylEJOmRQf2M6ALhqhuQuVKVXwmZAwJxE94MtkiGBgHxT418e+K-G-j-xpE1CfBMwkNCIJQYpIHNn7GVj4JDALcaKkgmd5wQRE1EJ5C5FZCYqLUCidhMgnQSKRXIt6F6L9adZtYKtVbGgTUAmAvAOqRgOJJiQaTLIeWcsUkGgnT9Xa5sOSVxLMlQS7hHSBTsnyvYOBjYjIAAAwnATKNQRyMKgyCFD1aI-FmIMCuj+TZUrk7QECGcnhSsxAdPEMeITDRTcgEU0gKVUJg+SLh35UCuTGinD9LE1ASCGUK0yZYgeRVLCLlMCn5ThAOfPzhA0CCglMp4oVINUGyD+TdxrrCqU-1igFT7qbtPyRwER755upIUpiGfHdGNRHInQDdM0OmCqIFhswwUuILuAZTNYtwzqUNPKgFTxayvP4eLVKBYRxpDASaWwA3Rgj-hIoyToEAmlTSoRCgz0v4MjJONDpx0jdM5N7FcRiAJAEQKkBGTJDNYikqCGNKulHSbpgsFYPMKCwPgy6LoZem5iyD-SWgAIq8NdH4r-0hGXw6GcsMZIsBRY6wqDgtWglozZpoCHGQrFaIrlSgVmKMCuWaDPSbpYsN4R8IzBYBoI2jPYVEJcE+YWG7IYGS9Mz5QznudMk6bdM36rhmgVM4wMiNuJFSeZxAa6cLPREkdRyaNFmFHA0ocI-g2UjGKeABlCwVh6w3GRdA2GGNL4CMiGiIwMAixPudbekkFAcBG1TYRWF4fNDeHrDO8jdBoDrIclEdzBGMiGZuFPD-5LceASEKHJXDCwDZQIMWK9ElhezzZxM-YQbOtngRjhsYU4XQAdkNYtZdo50AzLOjvCUI0EVCDTHunUds5FMQmb7MogDgKgX00IH-CUReyzZdjeGiHLDkrAgolmAbOt3RlwiVwVgtGuXLjlA1IytghsRnLjqOzzYHmPcL+BpgUjzMgPRzBwEGxHdl5zmJXq5g6AUDZ5yEyGCb1kyEBxUwjWIOFnViqytkLdRFJrKPmBs55QNA+UFkIDkj7M1HC+erOvmPBn5gbNkPPLxZgBQ5kIE3ilmPlbwkcKWUkPZntmTys5JWA0ZbhKykgc5RQaBbiCzlNZ4FootrIImfkXTysPWFzF3KcyDZOhHyfydnEVJVUomwKRUqCn8lJMGSciRsTEjekUjLkb05jNFPTKsKaJ+DLuMIiYQcLkJQ-NgJNN8B8UBBignznaCEUQNIOmyZya1PJgX8FJoAC-vPLHGMk5E-QRgM5MZD1S9YjUv4M1KURvTMyrrVBeFRpDsEv+sYSxVnJUXcSoJHskAYNWYUjJtF6pN6cgumDqKR5MsyxWwXSjqR15q8mEiYU3kWE6+cApRZtWTJRFG4uitqXaNbpjYJsRY6bIEuALsFHJt4uiQwA-HWQAAMlOwAnGFMgXkuaiBOObOS9kqijRQEqbEbicJPE+zP2PYlTxalLSv-C5jIkLgulzGPpf1JcJzZ8lhSkpeAFYkzgOlwyupU4rmzKSGOyMTrHxIyXdENxgk8sNuJEk+KGgBVfyZJIyXwhp+qy2sRCH35aJnJhy2sanzkWL5Zl3S3WXOIyUqSqAak5Gf5KBZoF5Fwy2JYGycUWTOsVk0CV0vqV2MMRmHAaV71gEe9ohdknYQOIWUvKyx7y6YIvLWy0pFl3HKePKLQ4ERvQkArCdqUcXwqHJdoh0ZBy6UkqCs0E+tm-QyXvSol0Kr3giq5HtTGSrQFNkCEnH2Cvo1fcEEyor4KErSnKhwAfHJkR5EU6TRqMyor6sqGVLmUVUojaEckYVlfelbWPelhx4JS0VLBSI7Fm9DxLiVuGTiCxGr6xHkD4MEEKFErsor0eCSV1tV-57+CPHVZrMMn0AkZFIV1vuKBACShJjqziZ6v-qNgsu-echB6sYBciX2ekU5aGO6Dx8g1dAa5VNmFUNAioOIRNeBPoApqPoOlXNplkjVLYYWYa+qTOEjWIqtBFgmwSZStWBBhlUHB1Twr1lhsnFjIN4Ewsn5mLyQ1RN1V-PmWoM9xfgRkP6q2XCT5lIa11qWvITRTo1AIFcnGoTEJrLlByqSTCLXD8BM1K6jgLmoUD5q-Q5U-ycWqBbTruEs6hlVWoxlQRzgY8jyHUOinBAbJKPJ1VVUUWRquZqee9eQvfUuY6hkawNdmr-y1DhAhKpNQBsonrQ61NqpNY2uaXvrzFjJBuKBsA0Vt8lDEz8d+L-GTLyQaGt8RhuYllKVeTq49YyyQ1Pr3g9jTuRiHW4jp6YX6x4M2tVLjZ610U+1c0u7WvBXWZG2pYyDGXFLSlTEPjRMsZCHryYDo7jf5ObL+jAw4IajaQuk64g3gMbG-B4WTG2EXKBjJTY9HU1sKVqGhThUshnBaaUQ6A-TRSPiH6bSqYcS6riDmbKaf8qm-VXdy7iqbSqSxOzdpsc28KXurmjbh5EEweaTNOm7zRZoMKlUagYgCFFPGhVeaZZZ036iZSU34AWpxm0wApQ1VTYqqNm5HPZpkqpaOSe88xhkpcxJaWpgmfLXsgq14KciEKaJR70ryab6AuWsEFVpQi9sMtSY2mBmrEkiBzagquAUVVK1AaLOdm5LUokC1pb5VmqpzQps8QpBmtRk+bY9Dpq5YMxW-LMWaNxHKi8Vq4frfVvc1LaUQWWQ7Wls7wdbBIbW41jC1G1lbDNc2wwM1r2QTaCtl2-BUVs1X7Rut0fKyHtvbbBQHtY2v9jCgi1XZ28U2zLUpORWqSYBQK2+jixZmKgxmcmWOFoDq2PIQdyXNHebzsIuLpgqSyQOkrOU9ZbAuJIoKw1GwE6o1aykuUXNXEMZXtsQc7Z9s3XHd8AcfLRL9qKoY6oYJlBGCYH4BfQZp0mlwJEWSFSdlO0bfFOp05jvTJBrfECmDruGIrJwL9KHW8ph1+h0VxkPnVlwrxdDpEPQr6FHR16aCdhuygwJWGpivMPZXgy3SfLwJD4xCo+XiGNB6beR-a2tFmbTsKDgg5dfA5wqnzx7UgKd42KnUToflw9ylbAL+kzvujda-d0ghiH1pR0yqhV3ABPfwJ52Ngbg1-FZniMZAABOE4GfDz2LMBxRgSYTClL1doXljKLOB8G4DOr4ROgghsavhHaCuiLgBWO5NkYxBq9+gS3pbyshoAR9aa1iNWtjD97CxTMooNXoHEsxjYVYoUR8E7wuAfI-lH4iiL708Q8R8+uvQo24A577tqzd6Z0DEUSKvonCa1eDqTELz3tU2OPSzrP2LML9yelIqnoG0r5RFL+pgPxSB3so1BbgLHdUCKgngyAdcRFAN00VUhWgjIC-l-Cv6yC5leaS-XQCKhjcjgtyntV0R3ykAIDbbD7upERTE0iE9JfveCG8g+RADHsL3ufDQP8AYglB-yPbv+2rMPMhfZlccHNIWCWIA4CtfkMzg6oQNwJVoF6vw4gaG1j6-9X+qdXBUs+M+gcLgfwNSFCDEkYg5zHhCYzWDeIiEJQfd2RrBAwh0QHoe8jMGLSbECfdMHIMmGfItBoJR7BsO-N112hsvZWMxUvLUV39OHSthXJE9oVLi-XcgkN1Z8zdFuq3UC27x2jftIR4PW1DSVh7QxG2CgtLNvXmAliQgQwI5CzggH+A7KmA3AYr6X9EBSB2SsYHWXoGzamBs0ro0+gVtojrQSNCHsJ2JHB0ZpVRFSMhgraydWiByOIPNhzQvMzAWSNBDF619oVgRmgFdgaMvdOjneDqOEcZbd4IGOki9PpPI3gbUQ3AElVscKMNLONjJBrFYpAIianFU8-iNsaZCAbWOWCv0H4pMwJTAwhxoJRZlCWCDuja27hk0YSMJinj2SpOM7GoNY7Le4k-QFgoAA6WAN9diqYD4A3owQabPTueaasD8aEIfWknAMt0QhJwQE9CuBNYTQTooiE1Cbrkwm4TxfYLAtl4AnhO8PQLCFSdAAAAvT9qAAhNFAllU8fITIHhPzGkTjJlhDVjRPgglDmJmqKhAOgGMMjWRzcMCehOcnuTYrLXii3IDm0WA5tZQObUGyTBLeaYPADiYr4D72TpJrk+SYVN9sxJKptUxqdT6Cn-IQAA')">function check_an_assertion(assertion, query_pat, query_frame) {
    const match_result = pattern_match(query_pat, assertion, 
                                       query_frame);
    return match_result === "failed"
        ? null
        : singleton_stream(match_result);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p21' class='permalink'></a><p>
      The basic pattern matcher returns either the
      
	<span style="color:green">symbol <kbd>failed</kbd></span>
	<span style="color:blue">string <kbd>"failed"</kbd>
	</span>
      
      or an extension of the given frame.  The basic idea of the matcher is to
      check the pattern against the data, element by element, accumulating
      bindings for the pattern variables.  If the pattern and the data
      object are the same, the match succeeds and we return the frame of
      bindings accumulated so far.  Otherwise, if the pattern is a variable
      we extend the current frame by binding the variable to the data, so
      long as this is consistent with the bindings already in the frame.  If
      the pattern and the data are both pairs, we (recursively) match the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern against the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the data to produce a frame; in this frame we then match the
      
	<span style="color:green"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the pattern against the
      
	<span style="color:green"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the data.  If none of these cases are applicable, the match fails and
      we return the
      
	<span style="color:green">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (pattern-match pat dat frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? pat dat) frame)
        ((var? pat) (extend-if-consistent pat dat frame))
        ((and (pair? pat) (pair? dat))
         (pattern-match (cdr pat)
                        (cdr dat)
                        (pattern-match (car pat)
                                       (car dat)
                                       frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9phgsWkR4gRAYIUGEpUEmbBcHyeEKhqax-ryUbZ7GWelnGEh0m-pppigpF8Sg3VWoV1KBGkcGbmMd5yh+Y+vkV2aXitCSBgbj41RztW06+stvbuG13XAfu6R-se5xDExxQIBgeAkFQNA8TQYlavplIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKET8JQAAH3z4yw4+Lr45zpOYkL4vUhYfB8A4IRs9zgui79MP0kyZvK9iav29SMcNW72nDtT+4xAkYQGG3MEE519k+nH5OEzDrC5-CAAyDfen6QZ15HBfGuYMRndH0AO714ecaCsPj8n6fQW7qy6D1mrJrd8xDF8DOG4YfAo5fp9K+A1gY7xGERCu-IIpnzDhaagYg6CfToLPSBVEb6pDvrUB+O455WTgQgpBOl9pn3wYgzm4dv513-Kg18QVto3noUmYekxiEfxBm4eBZDkHW1rMA5YdDd76BvBA3OUCQ6cTDsaIQM4KjKDYD9LKdA+GxHQePe+M8n6gHBFI7hsj5FlXoG-OmnEdEyJMPoxRFCf7UJbrQ0BjC7QOJsUnFh90z6mIYHohRsV0bKJiAI8BTCREuNYbDMemtPHmO8c4PxuMV4YPIBPLBGjcFaIiV4gxdAjFn3SVEzJViqGxICYMBhgjgksNCfTXJcjonZV8fvOxKcwElKCUw9eYjjEeTDvIjOvNo7w0IIEDh9AimgNvok9Rj9UmSQ+iwPpCNBnEGGVkypnEelzPIAwdcAtjaGFGU0m42Iv7WL-gAvW3AnHMNWR5dZfS67CF8PshMlzykdJgakES4dmBaEIU8wM4yklTxSRXKynyPhUGIIQ7JbC4kmwWUMwwMSGn8PsWUtpkCR4wskfQbiqIfjwqWYikZyKVFjISYC7BKDE7cGMkUbROLqB4oXAS5Z0KwkqBxf0wZWzAh7xoSippM8GCBBkJovE1zzBvCnvCtm9A9kkv8aAoVIrNGkjcTCqVXLSAME6FSyujSEzKsqJonQmL2UlzaLWRwX0FWwrHpgoFUyQVaOMO0JmyhiBsvpoTV1VqPXdzCGgpVj9wS+vdZ67gc8wjqvZWG61XyIWEPlTQ2IArnlortO0mN9MqikA+Amn5nMA1CWKcW7NnEhkznBYW5BybE6BoNYGYJ0bobvOjgoTQuI43+qjSWslaQMjOJbe-c1qR5H5urZCotvag1NI7oOoR6L61vKxbXLkXhYl2vPuSyZODnXgnYB4LwXrOKE0PcoDdtqgoaIPeu8EkbIHlumuupq+AHmbtLa80+q6dWEEICCbkqI-n2omckp11KtEaH-dQQDzgT0eVHlqwlSL+WkqaZcrNraYU-TEHW-VaatoZqyK8iVLgHI6tILh-QRAG0EbHp3LINHSP-QPPmnD1HCC0bQ+mkYTGn3mErRRqjTHZ0JhvHx6GnTzBh06voBZy9-k7rAzuBZVlihGJdqPD2cgvZQDgIgZA6BA54nER5GONYIWaKZpWPtc7UgRyjuZs8cd2rr2UqUakFdlLNAvkAtzzoFL12kgU3+9TKG-3-mkS+69uDWamCsHzqQPEZMUcPdzLRTyyveMwXReTUupLi957dp1UYcEiTUzJaWAsZZ+NUixQGCt0Bs0V2BHCCHTsgelpzOq2tcL1bFpr8WTLFalYy5w+KBkIpQ7nLrmXRtMqQ8sqzg2WtjtmfMybyHiWdeq4TUeW51ubO2XrXZw98J6WmLczZ9zHkxdpVeQrzpEvh0teGqripVaZe7Ta178bJ1JrOy0FbT3ivnsvTtj7NWFxg+W81kHYcwXfKncg97KxPs-ER4mjrEHHuKme1BgD+WIdo8EH+tgjynMdC0PoRDLKiVKJi0Dmz520JCsi+jPZOG8NUyZ5MIrZlgiaJsnZByzlqS+GQeQeGXkfKU4hRpkhZPHnIm4FzoSA5V5dQUGNysjV9vIkmDjRVTSCe4kGdQbXNBddvTYTThwqvKMtpzM+f4GukuKEIPgcoNuwl27oIbqCMR3xLIyMVOX1PEM3b91Te7sY1ZM2lU1g89Bfmx7Qoh47n1TsG5Zxd6YXPc956KLTpP8g+vR8fNxxTwrgY8K+kM0PQ3IefPRllpGYIG9sCTvd5og9QzLAoi+Q0AvNwq60bZeyTkXBn0oL4EgMvSf-t8DVHMkmz5s6jhzuTAzDADZs0boK5Gufb8403kooAGNyUNhuOTscI+sZnOxhZYQ98x4IhvuvezBPH+fzzuLZr6Zut5txtmVNsltGt98QE7MmBSBeFw8vpNUZVFk+Vc5X8z8ih0dnNqdEDJsstudX9jJTI78EDOUZVdVAc4tv12VutvsA1X8cY3d21O0Xs3VrVi11o4wmk+9NRyRB9XdhR9Bul1gq0kdfle0ODpggp4CacH8C1kc9UX9KDeCXcjdYhGxc0J0K469GRaVpCNCRCscUde1OAlCVhGCW8zp9CvlE468A9aUgorC5468mJCg+DVDhJQEaDft-U08NpNDDDKA8NFDBsXDV9XC18YUP8HBSFah9BAElkFN6MF14ilgSdL8EseAb8oRojetag4RuAoiX5ciWk7QUjXEyJQAIjY1uRGAvczEKtFFucGCBCLVWCe0MV3COVstPN61GRvs5CAd15Qjjd4kmDZ8WC-UbUK5Ui-RSh0i-Q1g-0E8jAai-5+Byt6t3YZC80DCa0FCLxfCihDBVi6iNjal3gBJbhGpaDDiLtBN-tOYgiKkAoVDA8q8x5ks8sGtidIcNFPiGjYpjlCl2laVns6tzjUdZjgRH5wT8kgSG5mFY9mgGMAoqjADMsYcID1phY31fBRYX0o8hihY5VPh5wPYgRjihA1j6jNi5VlpcSgI1CSTpQYjQhGRCjWTbxuQ9RGSRjAxpCbtC9nR49mZrNk9y9uw9RuAcjEUEFahd9ecADOJutMc9jYdEjQBCYLCbY09pDPk6dpsk4hS9J-8qD0SfhSExDnU4scZGx0ZGRpDLTyF6lIFX8mJSEQsFxfEnTuF4TnEed0Y3TyQgp0YzTlTMtYSiccdBscYPS-S68pY-gzi4Twt-TjTpDIyfEzpGc4t0yQizhU0z4gCSTpFkyoz54bSoI4zUyEz-jaTGA-SzsVxpC6zziEyczBs8ybNnY8AtNPYlA9NfZDMA5LBTNpMMFYCvp4YNTpcFZKBJywz6orifcCx9BM9JAyAFTBTedr5g0dx6UO0vdmZR571fD1zdluBtylCR1Q53dDzvd9cNSAVd0wQZArJch7zjy2F4NzAM8FEs9NyacNSjVRU3zQBxV+Np82FX130ZBgLQQa9QLuA1UsN2US9KxxTfk4LdzBUEKVUwLTVFzrhlztTeE3h294L9zSKI0uiKLILitqLvpKYcLRiHVKUmLaxQVa90YfyXBqK28i10YNTLkhKlSzNHAvhEU2po5S8U8i1KzgzQEbxrypNp9ZDJYFLOCeNBgVKiyJL8BjAmplcBZ6CIhChFKmksJIYgzzhGxKBF5IVmCxSy9CFGQUSxzRJlzJY-SFSOcNS15UzfKGJh1VLMY9ZPS9kaZIhzKtLCMRgZZUKc0BZP8acBZngYr3i-xUq9YxK4ZGZRTZLy8fLeotz1hGpNLMqOA2p7KjBArwgFYqqxAarTwZjIcCYvKBZarrEgqeTLyyqZK4cQdGqaqfLwgAAeYEJmJqi2Fq9AmYFoUgcyCEAAFXrk1KEDxJw14CTSbDJ2oFqGaHBFAAAGpKii9PMy4xAhRbs6qTqtErI7rbjYhS45prqmKJge8FqlrwRVr8B-piBHJBBKNtrHjdroMDqtFHrzqXq2o3rRq7r71IbTqnqYgYarqZBHlZrcq0QgssRPT2zUzTLyQ9LKxp565sQKqGgz5KSGdAqSqJCPDoCGMuqqFWqCJVYmsyaiB9AUbYh3VJKTpnK5KUd-8nrmg-SD5tpRrebZhBFZrebxaajF1M06qbQ7QsbhjQAWJBQBDrMD57LyqO1xiha+sGaigR8WaG4rJbI65ygL9X5eTWJXjaV1CBZGQrCNL8zYwgoabsrPoIq-a+RjSCJIYUqaZHbwjI7MrrMuaKb8zoFsNet8awtrFeoiakQYUY70Q47ICVxqalbiqKYuM-RVFmbpb2amdY6eai9+aDLBbCrflRaCJxbUzJbBFy69JSh4JtoWreo5qQdfaiJVasqNaVwdQVwBw9a5yHKjbcQTbCEzbCgLa-Tra6BbaRB7bPoF8fSiFNa3C3iGhXa9Z3b1LOrTCS7QFfbQ6fLA639zq8xkqt9w697eCLKEws7ya5N46cBey2FtN5AByfYDN-ZA5sBQrNcLcdc9dbcDdRNq82KNEx9wRzdLdqBddeKeAtcoGWYO0OBCFUtYHG0XBLkDdaZCosGrdoGwlyToSdx0wb05hEbYg5hVw76igb0OQmGYgORWGhSb0MIuHMiDxeH6GQ0Z5BGZ4RHLsQ151MhEbZG2BnQ2HCgb1uJDB-1yBl97YeJ5E8TFRlHYgb0R8uGR9YwDGYgb0zZVAdUWBDB70rGbGPYVhzHaGwRwRjrBHYh9B4ZuBfB6qAA+UAaXU6vRlxm9TyTxmIbx3xgJoJryUAUJvhkNfI6YaJhJ2J6XSEBJmIMJkNYASJgwHx9JwEQJ6XMARJ0R-cgAUgKbSb8ZKbiaqeydAFyf3PEk8bqYyYPj8aSf3IAEJJQOmin6mARSnQABmgQenKm3GxranhmumJqYgpnpH9yxqARInOmGnpc1mlnWm3H-G5mYmtnQBAndnen9n1nuAihNnRm4n-GgR0nzmIQ+mCm4nChbmYg+nYhpz0wCpmSUHsHEMfLAQVxDkhhd5uAAXKGVzUQW1yHIHoXEN8AWAAArEwQIkFlYMF5EBp-hihtBmikhhwFhYO2IKFglmF92NMSKf5-F63UxGhjRG9bgxG7glx++lRkNSAOgb0RlLRmIbl3l2fdljlixkNBx2ASALhiVyAEV0VyxqgaxgAUUEYcaVblY5ZvQADlyAtWCmdWtX+6OW-nujyX6WSzfTArMXphsWGnto4LIW6XGoGWTWqQzXnWLWZwOdrWGhbXbmSGLxMGEWKWXWThQrTceVg3rd9d7cgb5oZ4NSI3Xo1RSBycToUXyBqxjiupNBq60J3WcH-15CCHiXSWGgcNKUEQig0TOJpw8b56i0NSRTE8MKXKi008oNliC2gW6azrzqC2PFRqy3ChO3kZu3oLkW0XTAFTeag3UHzXstSy-Lh3YgDaxi56G7OZaYOABA12xAvgWB8VN3kE+j4xCABrMLG2w3f7qH+zvZ9M-ZMAMAPLaKKBTAGA3UPhyobhSAN1NYny05trM5NwRKfoyYHw5rZbAk7Qbx-3DdTrwQGAjrTq0a3rQPSsIODZmllasg4P6KPybgXtjstA+VLri6+SQZlBlBtqMhLMjBVcqPYmPZTr9ByAqOD5wQjrShOPQBDqHrTq2PlANW-ROOH0yPmNFlKBZ9s5LqHdcM5OeVJBhXIhoI37Aw0aEaIQ7qCPNljBiPYiwWK3JPZ85OJgEbrBwR6LjPcRjYFBWPKMAOB0u4cNIOtEGNdJhtulH4XPQAt5lJBDAOu4bwXPwhC5sPguHPwgJmtF1NXPwWRgfOFZwR1NjJShyK32ZxP3Yof2N0XPCCDBYE9rYMRkfO-PVxfMvpacwD6d7O1o+coTwQtPTrrOmAyA7Ptpj8QvwhkbVwjrkPxcTlIt4i-cCxFsauQuobYw+u7qWvbP4uSishOvIv4P7t4QPO8dMGlPHlJJQREacNHWtvWvSBBI5rnssI8uSdrOIQBGCjH4OuHO1bFvIuDupObO2vTvis0bavXPwQAByfrnDBG-7rD1DjG77qz+IcYt1UgR5aH+pqA0Y5mz6DOLObaOH4Tq8G9IQYQRG8EYIXHhyHSPBNwYsXH2AjgeEer+STb17+b-QdHx7+n2sGHnnWb97rDq7tH5nnprKhnmnqH7n7G0ADNrN5QHNr1hiHlDwQlE-RzgnGDVLeTFWVxiEeX4rrJamaCg0kZeTFdmIMFkX9YMX6gTQOvKXj1NwUz2XqnlSYrYbpXknG9dTSNGsoby+eTD7hZIilwOHihSXeGc3mX+TZogr1INXxXgZOww+5knt6xHQuCV3s5IBKrxZJbD30I8h6XknqeLneKDQJnsgLtCXZgAPwZLPhUn-SPiOrdWPqhDjgR5XrCbaMvi34wHPx3HnS5FvwlLBNXG3poV2MJT0jj8Rxv+QVv3vx3LD2vhuDjw37Nk3iXvqdbjAoR0faCletPA3zNo38Xs37vy3uNvZD3j7qyjfwmzB8vyf3DR2twxg+3qv1Q69ENZ3gbqhU5KLIBdP5QyMIfRm9+gZKiQTrspZ8JAWXixWrxYQHe1PbaNANt4W1VM4+EXFPgZip96c7IOfJ6mYzkVHi4AhHpAJvxwDV+ylSPlhwQEDJV6k+MXNrxcA4Da0CuROlpFiiUB8ATURqAMAqA6VI+EAlwKAK+jB8kuFoUnvRQ4E9YmB5UKPMH3wHENBEdAwItb297nxF2yCbqNTkQHWVpQ69KeJ1AYDqARAHAUgOtHcREAKc3Ag+ufBaKpBZMHvToq8GZLyxQAYsV6BpQoFhUnY9hUBPLDAjBhxwvhUoA4C0ElZdB2PAwSfkdj6xm6HKQgI8jFi+JnoleVwioUYJQDH+5g2Ki4Cwi5BohdPD3twCyGPISBhAVxGPWdre1PCgAseq-XSFRDTBRQxQaXH6AKBf0JAZmBUF0axFDAbINoZoywSGBSQPAu3guk6GuduhvgXocSCeAc8b8UtcVHrwMBMd5yjQ5oQnkiTtDSOSwoiLMNnbnVRh4wsRDAmQRkBG41uXYXvC6GRgehU8PoY5zLriplepw8OBMNP7TD26WwtCE8AabVBjYxwxqKcP0APC+hTwOYc6A+G3MGhH0BCEYHFQrpY0iwiETIHkQ5x8+Y+cjjX0RFIwvkgQD6DJyWHYtY2EweigiKoAYjwRdnUkTcKGFwjBIyveYrby+FHD+gJwi4WMMGC0opaVI4TqCMCZEipOTMTEY0JxEQiIEWIk7kLykr7tJA2UUkd438o34imXIi-IOiF5qATAXgHVIwCEHaQYkmo1ENwF968Q9R3PN6GlVtLMkzYagGvDSC7yMgjYZARgOaItj6i+YTIYsM4BpSis0IvvBKtUIdGWjQ8HHGQEmFqAr9z8tIgfuKJ3ZSiqRlxc2H6K7xC9eAhlFqAjDXJUBHOX3ZvmmKF5pR+R2I7oGyG6D9CoIjYGhmlBxAFi-AKFaoeSW8FKxRAcxQdLx2pCKDkxAfIkP-FTH4Y7B3RboIyEzFJxZY-aWTN0HCDcd1MTY7oM7B3agBlqAACSVYMAAAguAHABKsAASstUgAAB5LVsgCBDuVQqMgSQBaJ1FbFbRSQcIRqUTGNRWxnY42P7mV45jWxvfEnlqLpLniHxGRHMZ0AXCni5U9Fb8ZkDEGui6SGpOcQuOXGriNx243cQBMkDiwKg8MF8eIPfHEi7RGpHMdKNbEMB2xoqD8TznBB-i6AnkUkQwLQotRgJb4i4h+MvEDDSRb0REWC1jzaxtqJTQ4iqIvTqjKJQGFiZZEyK8iLxbgoOrHiPGxiiJeyGiUJI6TTjyeHrBwMbEZAAAGMNmfBqCORhUGQdgUV0sTUBBgV0TSbKnknaAgQskwyYcNIB3U8Qg4ppKZNyBGTSA9FQmGpJKzgdEy5MUyeH1ii6TZRB4CEK-ywgeTtJXk4QIzzg5C9Ag8RFyeKFSDVBsgmk7EsyUCnQZ1eLMM0BfgBoaSysnk8qLpOSjE0YUiwxqI5E6AbopBK4VRNYO4G0pSgTkjKZrDCFxADJ2U7KN5NBLFYUhRQ6qWvyESBAipJUnIVX2BGrtepDAYqWwA3SFCWEbUr3lUMyqFTRp-U2SULwqAtDQgf8JRIgM1i0SoIM+EaWNNKlm1GC1gqPu3F1rtBOgbkjGA+FsGSElKC5WlPvV8LCxRYxMF6BLDPqXjNaKwOWAfG4Io1SggYqMCjWaDzT9ptsaSnEISHagsA0ER6WUOgJQDwgfg9kHtP6mwDDcYXUGf1OUr99YwzQQGcYBfpR0KOKM4gH1PGmy9FBzbFmFHE9wcI-gl0tOlJNNHdEHBTg96ZfC2lSSmIA4EWNFzZadEgoDga6qbFCgWxYhZ0eIe6I9ExBTwn0vtuRCSGWCSsTFAPPfTwCQhNZK4YWK9JekXQ3pxozmZ0E+nlTPBus-meBF8Gxh-BdAEWQ6MZnbDYgEsm2FLJhnQRUINMaaflQ1hgc-ocs7mT-0ogDgVpCeVICMn9lczw60VDWVrO+mgJwQgYvYMGJeK-9owpsppM20ZkUwTZ4RYAfTGFkY1RZ5sNcnuF-BRVpBQkgMUGJx7K8E51ckMbEFMjnSsghAUua50hhYcZMP0EuUjJJzUzWYdMxFAzNbmQsy5aVTuVYO7mEB+hyvfubTIMpDzHg08yFmyCiqgAY5kICeVshvytzN428VeDvNJDK8C5uIe2TeF3lDSig580kJfMKAnyi5-EZvm8JlnTBm+N8x2c6HDpYc65ScnHi2I+SaTs4ARRzggydQBFQUmkjBm8DkSJiYkS0gYZciWnMZTJUeeBRXIUY4dMFSC1zljzYDFTfAE5WsPCCw4vImE2CxQRG02SyS4p5MJ0QJLoCGjC+hs7GMWOZJyJ+gjAWSYyAinhVNYMUpREtKYiNh75neYqPdnvn2y6F942+dHwkqwKRk7CqkktJkVFAvRaVayQmBEUh5rRSXRORwBrlpFB0ZA4gh+2540LGoUeRRZwvinAiIxkohstGK0VWiXEU4yQDOPnEMA1x1kAADJKs9xiozICpJhSiSLRskiSWhMEnly1OqoJMTKHhh3j0Jj4+Cc+KnhhKElSQD7oBIXBpLmMWSzKUsg+EVzwJninxX4rgkzgUl+S8JfQo1L0TR2rIq8JhOjHYTcJ6S-3CosKDghZJJEqkfCD15NKRRfksnppJ6UijKeFCpXFUraXbTolF1JYTyKYlXguFtzQ4pQvyXmLIWEShhVJL14hLrGaSySc-RrYeREUuDRqHDwL4w9t59C8IbmMEh0SqRDEqgIsumCQwGmtKOpUsVaHMjYivhb0Dn1fGwtLlZuLZZeOBEKiI2aSqRXaMvHstr6HIqmSYouVw9bl5IlmVSFaA4sgQZYvgcCoInwFTFhfFfJlUxUOBfplsjUMr1OVFtCVMPYFaio5FYdSVSiOQXsj57wqRRQvMOK2KWi8R0x85OaHTz5Whd84xWWTP2JhH0wPgwQdgYCpymMBbxRE9aIwR5UMylVZtRsL2KBAtLywHYpVZrUbDUdFq5CIiXcp9Z6QBlAo7oMTxQnETSJ1fNcPwBxA2qQJdq3pcO3O5yr6A3ABUUaoimP4vVDizlbf1KGr4bytbFgYEHyXiwEJKYtBcSVNZbLGQ0Cs8DV0EXkgVVcS3lVspOmyKqQWqpQYhJwm6q8JOag1WwsSD+ro1pI81QREtV5jtgWibpfas1pFRnVTakZaRI9U35ZJPq2Jn6vISmTyRIa1OTjHOB5zOIog0ycEG4najA1jnahUqoVmr8p1gCpVVh1EFETWO86kQcIABW2rt1tq9aNKqjWmrXoiqndQmqpANx91rqmhsUsgnrjNxO48AExAfUrin1ME-xZ6ttV9qGmN62dXKkdpBQ8ex6XdaksAXxrCgJ6xqKZPPVxLzFjtKKGwAg0cB71Hirxb4tfXkhilmGvxTaJ7WaS-1tzADWEuA3xyMQlnY5eOXXZZYUWtuX-AMIwW-5CRshN4PRpRAn5URpaFjYlQrRLIZw7Gx6Mfx3walChIVNtI5XGJqMONq5RjegsC5ZBeN4ahDLIRk2PQuNwlQRMptCqCZ1NKIETafgGHibmMNQMQBCingXL5Nsy2AaJsUHsb8AsUoTQZoZWcqmNqQKTbiGc2rlvNgRduclVJFYcHNsUwTL5r2RhaMe5tJFWYqsK+b9AEWlCB6I5WNCOkbawiSIFx4Eq4eiNYLf7iCXsoZNjmpRPpunauaUt7m2jSVp4kpBZNfmmkUYoyL0jU2jI34T8oaWrgstMWtTTVo01VaX8Qku5THgqJRNYmhWkLQJs8Q9aDN-wqbdOyG1F5ktH0MRGlvx5WROtRK7RoYBRZFbqWqk4gOZupwF4BtaKiufRIWX58RJbtUZjDMVDMbothfOIvtos20rHkauDpYqDsUsCg1Ao8OrYGG3n5PtUYwZZ7PdlNiGMiW4vAFoRXQw0thPTLfdph6I0zNEKXbZnSQnUc1BZg2ZdIUQF7sD2R7VtsLQHHUaXA8-Y3qb29KO4ytS2ycD7UeXnbsQxkN5ddr9AIwTA-AL6JpByw0BLMvNe7jf3CEqKOo1MAJtsItqVhpZL84XFQIyFUAxoFk7yEjTdnDbwQZOvfjxSmlQlAd327EZ7IWIBK2AZbRbYJHuhpa1di-OvPDosxaAXtiNc3RTvGhhtGwNwAPmow0Z4kgQAAThOBnw3dujO5UYCMEwo-dmjO5SzGNjZxuA-uTovf0pG5qnao6gcC4AViKTF6sQEPY8l+6-crIaAXPcSqfCjq0h6enRpozp4fAoZDQDPWHsZRZx6JECHnC4B8gQVKhxM4KOo3930Sa9m4BUi7sm3t7NGQvToPgsIWc6EEMq6nfcornG7TdTqwiXgs0Yj6rdWBc5dzz27z6CFMBc8PlvpgH9UgFy6oEVBPBkA64iKZTqwu6KtBGQvvL+P70D5uBUxeaTnXQCKgI0jg4yjNQIV1ykAT9fLcZupERRVUiEnRDPRCG8g+Rd9oAOHkoJf0y4ImVbFcCAZa7IrjgWtV4ixAHCmqWBbAnVHutiKtB49I7PddGpnVbrN1gamCrDwr0WCDAX+n-bPj-0SQADnMeEDdJiAgHwQYBxXURMEC4HRAnB7yP5FQOF62IoayvSXu278GfIUB0RR7EkNwHNaVe6UR8seUvKrwzO-xijSQNmLHZXO6RKoK+itBBdNBkXQ0xsyRaYg62ulYYepBzRIxOuuzgxmeKv0J1qmnYuqMMCOQs4B+-gAlIv1X6jRN+kvnfvCWP7BCz+-gK-vf3diqQkMGhpYdh6RpbD9igPY4fI1M0F0sRn7g5HWrmw5oXEKgOQFkjQRDYkPXEPvuUE87qc1h+1gLH63C7-osTMw4oI-EPyLYBo-I-PCiXVDmd6kPRcGOXXn4f5+ihuTECbkdAW5zo7WL3Op5vKYgW82THyoGOxBVY3smmXgQ5go52jDsKSVvKwiLGt47Um-FMcb5bLWjmCvle9qypTHLjLR+2RKsuNXhto1xj+auC-kZEhjycyTLvpe36BfuOo-QC-IAA6WARdV8qnhYGZAwQBw4Ol8YxNDcaEbPWkmP0GUsBJwb4xcr+OAqATMs4E6CdWlMBWBkJ47qmN8m8ATwPOHoFhDJOgAAAXoG1ADAmig9Sgk29ChP1GegdJ+E3pERPghaDKJmqKhAOiyEhAHhrOH8bBMsmiTdnYZrd33KFGrILAXHsoFx449Jgv3NMHgHRNmLxT+JiE2yZlMq9CJuPRU++RVOU8eT-kIAA')">function pattern_match(pat, dat, frame) {
    return frame === "failed" 
        ? "failed"
        : equal(pat, dat) 
        ? frame   
        : is_var(pat) 
        ? extend_if_consistent(pat, dat, frame)
        : is_pair(pat) && is_pair(dat)
        ? pattern_match(tail(pat),
                        tail(dat),
                        pattern_match(head(pat),
                                      head(dat),
                                      frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p22' class='permalink'></a><p>
      Here is the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that extends a frame by adding a new binding, if this is consistent with
      the bindings already in the frame:
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-consistent var dat frame)
  (let ((binding (binding-in-frame var frame)))
    (if binding
        (pattern-match (binding-value binding) dat frame)
        (extend var dat frame))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPEudqgsWlwqgvo+BRKG4Yg6ErISgpSBhjDYGQGGIAWaBJ4XKCmFZSmpSgReU5oZboD6hZ19XlIU-AMSxWXfAUFh8AXdGjBtu2F3wBXDc+owTaploJY1kzQBl40hBnCplDYH6sroL2Rf9mZ+Z+YO6FDkwI7K+gY9F33Jb1wPUnBjgGDDtOo8zuOilKJWfgLxri8j1FM7Fv3c5li1qDEOhPuTsuzYThc247ruwTVpuc+dfXUjebjUR+BHCECNxnB751K9PBgp+oGeFznhfDCXkfs-L1Y84YCPbeEchFfh+fiEXjO1aP2JSkJw7o7PlgL4YdcsckMhDDL-Celpjv0-nbYQvgAHGTQuLMeioJ6yzaLWRwxtY69yrguYw7RxbKCFog7BjUPiCyHv-B+o9H4xHgewDwXhl6KlXj8KhygaEHxgeQ0A8CRKy2YFoIetDNZ9wYJwwhPDxbDxNmQluqQNCEBBNyBuD9e7SLYBA9BHQtD6FflfG+d9o6kMPoAtC24Zxu1On1f+P0xAkO9mQthplSDmUbqAGydkHLOWpL4ZO5B4ZeR8qowWNUIqv0EIQGREDkTcAsWEKiA4Zbz2oAoTe1BKyNVfhohwkwcYxCCko3EcSEk0GSW9BmGdwmCFIJYoC5Fnz-BiZPRQhB8DlCKbDaOyIMlQRiO+W+GRip+PUZosBYT0kGKAbEBGSNhCKwlgeegvCoF6U0d-I2WhSD-zaSM0ZRRIkbM2bETRMCZmd1EWkugkxKlxjxskVInDHYLx6Wwp+uMVSmNrOvegSMwR3LYKbVczQxwajDBRF8hozLBBOVZWy9knIuCCZQXwJAfHBNCTVHM0MYZ8yMQwEx6N-5z0MGQzJQUHIMEifoPF5DSjpEyHJZoWE+lfSqKsmcFiyXXzCGQnZipMXYoYv-BezLym4rZT7VhtMgnoLebNLeWjd773EYfHG0tUiUFILWMlysvpTxlV-QIgw9GiuMvQs8gt9Bap3pKqxscJF+lMhq019BJnms6GIq1h97ros4hKzBSCcGZ3xQqqCtTFYKE0Lib1+C-XtJXEFf5oZyRApqcKfQMsI4fC4UQ45asJiZOmEFelGiDxpuEcQXhWaqasICtUnNnT6BUkZUWk2LyJSgCgfm+tM5i2lpNuyitK4g03LOu2rhIsm1RtjEFIdasm1MUKAm6t-pgYCPDcg-Q8zYj8vTSI5OlrKA9r9jO1Fs60VBO5QrBwA8NT6A9rfIGlyT5UqyNepY-CH0rlpRuCEkJz2Lw7rUOE3BT0MG-XvX9gwbxPrOUcMiLbAnFJcIYbkjBGkp3DvXRmZccZBuXb6h+61Xi1oEFmxk2GCHcJLaInd5yF13pliW0NCCsErrLVAylGQ2BQLWCE8WerENYv4EXVOaHa0FqZZu8j3cy1UzXdMBDQg+MoZLqif+hMSOrt2VeDdnaKORsg-GqtHT12LqDgRkOAnUPp10d7FjwJQT2veMwZOZnFPlUMM7e2ZcHnsJPjXJzQnLOoKvApWzPm64WetrbdzuG13NAfQFY9cGBGMOYfK1hONGyDMZElpq+BwFlyYo2bsepiO8eQ75iz-9BlUcbMB9uGomZAkAzV0Dt5uR6io3mu1gzOUrHGdxqZlZDm8MK-6prdWbHuvFWvIRZGu0iwJQNRdhMB19TU1efNnCd63z3vfax0nFSiomwliVF7ZtZ1S1BRs6NGT5pO6IptAC3XkgveFl293buOdcxF-81iKa1jIUxIK6NDstIESFwTFnHHnaez+xgn3XuOzB+ZqOL3Iu7Z63axHznsqO31X7TlvadQxA9R5CVScFN+ch37HGz24f23u2TsryPaffatSufNDPQvI5xz91h+P91orwK-JmcgWZQDgIgZA6BubEl5pxGWcsFZ9LmhhhbNHUjpFtmQDDoAAA+OvjLy5Vcrh+MQ9cG9SHbe2-R-Pq11-rv0Bs2Pa9N-b50MtY16u9sDvmMtmBiAkJMoxjjKB9HuGtRVRnUhYRNwAMhj70fonvY4jnZKHv33u5fq6Nir8kSqw8B9PrZg+4Jr0BOJ+YZnWL3bZ5N6rhM20iLezFQl1uMPTtS0j-n2ohedzF-ezpfaQT+8o5Z7b18QUG9JiGIn-QjfY66cmgl4f3Pk-j8XZPu0c-1b8lgyD4z9nTOc-kd7Kiee-cF6D8Xjn4Oo5l6CdfpHsVmc58M3ejfWR38eZ3+XlwD+seMBXzH2WAnxnxvC3wXx-28x+jJlrhv2P1X2AM73P270v3lXBExz8zvwSwwLC2f1r0QLf1AKn0-1w2-yCRwK5zOnwNf3ryIM3yn1IIzw8hTQ+g-kvk2x0RfyySQPIH9xQKLzQJAXYOvllXoCwJByEK-kjk+hWUo1P0Ww0Cdi+yrzSCNm4BIKb0HwS0kMGS4KeS2joKyHAO-0gJlmmwzQkxPzXzVy70DwELmycXMK3QH3uiCQ2xEK2zlQQJoIMJGGMKYPMH32nmcFng8M4OoO4JsOQLsN73lT23BA3mlQ4O2zoHEL5jNREJ1VqD0KCkxUCBkEcTxC0JBwyPngtRyMXTyMqEcVJFcIS1KNIBJW+QqLvSqIKIPh0Gbz31SFUwiP0KuVsJ7xdSznBBIzSM4hUzwSY27Q71aNs1GKmJwXBG4DLTqJBxIzE2IRV1iAINoL8IYKbzWL5knRm0zRmPkMIJGFWOhjcNvg7VOO3UjQuITC3zCCOMz2DXo16POOsITEd0yEjXeOYNSFTXuIsOGKiV+MDH+KMIOJFgmACIGKSz0P6JPmiKGMcXBCS3GPqluEamRL6NyPmOxJWK9xuISyy10L6NRI0Pn0RJPiUWoDkS8KAJ8IGPRNQIcPBEZOZLEOKOOLgxlU8J228MiL2LAzhO3yBPMFJUJPX0MNn0lIgKCWJVJSIEhN2OhPVyd3VP5M4iHRZV1OeN8MGF1OlJcA3TVMIA1LZL-H0DNIF1kDg2F3kCUDF3Zkly5ksFl2BKYFVS+nhlvQTG8XEnZH9PpJfjg30CWRkL-m4C6wDVz0qPmNyBDUaREGaQLGWL2xjN-lWXjJyx6AJ1MLqTTKaVSRkCDK1MGKDxkCslTIaXLLgxxPMEWWkLzLWSrLRFBEEWqLrNACKPNPphaWy1y0rIjzmLTXyI0W4FqPJJB32WmXkCOW7nHLr0DDaJnN0C6L5iW2Bnp3eVES7Jsx3HBGW1rGWJUEPOTj1N9PPK+nRmPN914Iv2CwYisnvJbItP3PRklQ+W+kpgnPFMVLtEfJ3M9UcC+D3jan60G2OShwuReKn2LKCSHUhjJSp3XJcG2hQqO0gvwGMCajCR-nm0KCTLvSwkhn+2hkbBD0ajozhVguXKHkZFix9OuDxLeh-iUJdn9RxWPOjzcz1F6lrDePnOOJ-hHzWR-meDIsQpNI0RkqHMhibWkqNlkp2PkpcBvBpnpN6wzIOWYszSEr4s6H9RYHWHoswvIoTA4DahDx4vtiiVDLsrEActPGfRXh4A-Rfm4uZ1Mra3jMsv6weWaFcocv8vCAAB5gRxY3LVAALPK-RK57EwVwQAAVC2UAG4OgXwMpMQXgYhJsEJEEWoZocEUAAAahbV2Q+C6jaiFAgUiqqqcSshar2yKDqrmkasSsmHmTsQcQyqypkGIEcnysKoo2KpkWoDKqcXatqqNwapkCapMvCGqsvIquqo6sKC6qWogQ8pMJPQtmkhH3u2Z3m3JHFQllPgtmxAQumCCVk10RMt6htL9DzwfUcra22v0mzhuqIFW12WwSgpOkMtmXgr9k8wDmZxT22kip+piFmBnwOoRq8yepAv-FWptFArMsfFYj7STRgRTzos+MYrBpXNZL9FBU3HOqcVsjtnKFAFLyo1nX0ygUbEhkZDQu4t7XHUXXRpUv8sUvUu6zQhUpxWFsBhZsPRlrFMDBgX+ruv513z5hpyErOqEt6guqRDwsrEVowslnnUesQy+oCreudA+qd3hoIkrmuvRGxARuBoItBqXPBu7gNQImaBhtDLhtWu2tKHgm2g8t6ihqaGpBNqIixrtIOulqqQJoMCJtDJJoYtxHJqHjw2mGpq+ohToAZpECZqNkRX7xRW1DZtjA5p-i5sLRnHQt5vev5pNsFpMslr5FFqvHFt5RbrxqPR7ttIVvtoNtpkF2dOZjdLZgl05m5mwBLJ1XiUSUKQrPSWNPZJfP4J3FKXBDyXnuIC-J4C6nySSUaniRkXE24SXjaWXoT32LtDaVpkKn3u3szKU0ZCD3TCD3BDmEvNiDmFXCk2AXmI5C-piA5F-p2XfowiAe8oPFAbfvmKMUgaMRgf-tPJhMvJhOdD-oaHfu4kMBkXIF8EvJwbwbysVEwaKHfupqAeptjDIcKHfpuBDxJRYEMGWIYdUCYaZhWFodiHfsqsgdiH0Hhm4F8HCABAAD5QBvFqqSHuGYh37PJ+GYhBHhHRGJHvEfIZGwH5j-1phlHQARHAQ1HQBIR9GYhZGTywRwRgBFGDAhH9HVHJHQAwBNHYHTyABSGxvRgx8Rxxtx0x0Acx9+8SfhrxhxkMqUERrR08gAQklBCbse8aMdiaBEidccsais8YSbCdABipiFSeQfSYBEUdCcMccaiqBHsaicsbEcyZUdKe8QkbycCfmLEaKe4CKBKZ8YaYqfyawfmOiZscccKB8ZiGidiEDPTAKgIz3rnoKRSUFP8sBBXBuGxDmG4C3rmafsZimfsxmYPoXsFPwBYAACsTBd0lmVgVmTlSnwGH65nLzP9b7zGigNnD6tna00xIppnXnCkyd6sLGtx5iPdLyPdnn1MeH5jIA6BvRN4CH2moWYW4UwXwWAXwQ2GGBYBIAgH0XMXkXwX6GqB2GABRSB9FolvF9Td+gAOXICpZsZpapdDqAR2apB+cagZ0WYBGWcUOFB8e2krPWbubeb+ZZYEDZYtQcxnBxQuemCud5YkceYvD2cfpFZOEgJyVnv2fmZaXBXyqGOPI1dejVFIGUROmOfIGrAQy6k0EBtXHFePo4CHlLnWT2wsX1aOCKHi3WPjEICYrdrBGPP0sdVdopttb9GkW42jKFYOZHP8u4FRuVc2Y5axukwjeRnFc0SOdOdMH9QTfFYZ34rbsKGTpDTJpDfTvdQ4AEBJrEC+Asu3nLdEWIx9b9dDc+eHpaRdNF3Ho5kwAwHYt-3eQoFMAYCwQ+HKhuFIBoRrifO1M103E-xnb6v4U-xvCXbWqcQYE2u1nqrEB6sXegJIkfmaAPdRg4DIPqMUBuAQSWS0E913fNtRPIGUGUEKoyBNSMAiRfYcaZmqv0GfeUBT3BAqtKGA68w2paoA4pedGA9JIfdvPMBvkoDhS9l3YiUFXQ-miQ6RciGghssDF2rEBavBAhBatTOveMFveyKubdew56EiQyXWusHBCHLo6YDIAUH-fKVnbSCdwsUflA4fV0gDhTVs349ADj2UmTW1IBJvH4-CD1yvolLtHk9AGSacWKHhBXFKGnxGHE9DPBE08NSvOTmHZnDHdiknZoX4+MmaGk5JRKqZNLnE8k9XANmz32TCJSK47WmXa8pI+3bY5WU4+2lJXk43fmQqu3crxMWvROQLCFM4NU62tXCi5aqC4490+U6yDC+47OSqsi+Y9s73skBQ8klBEvIsUFdK9xGC785UhPiwhs-4To4hAgYA1s1C+4+xpy7y+q+Q9q44+PZPkI584E6cQAHJt2LFiOpu30d3urlqxvWP4hGKsFSAIF1uDGsL70ndPp52sv9AtvoPVx36hBhANrggNqHIdIrILRiwNrVUOB4R6uK4SuBvDvjueujvawNufYMvSBBJ5vWvtovu7Swe2Pjv6TzXLXlBrWpWGIdUPAttWVCAeOeTS455xuzvHPeTUjqZBTkil4sei3YgrmYf1g4fqBNAm0kecE3BMOhU0fXvj53PPYsftPUXNOVj1bYvs8sfhu556StvrZPF4Y6eUesfMMk1W5cfMfr4x0KRpnNFvaaqZNefq9PZPPtFvOBeD177ke3Bu9Il4pFCRfXMxeJeGf8qmfu7USVehKgOIHOesJtp55DfjBJkGP1CFT3f6fPeSVBUzl5uHevsgP4GXf5B-fjfBUQ+FnHeDOKerXqeEe+phP45KL4+vtSeYhyeLXKf4fae-ettGfUfg+Vh30Dx4un9Na96PeY+KlK1Ix9Qg04uBec0iTTzuf3FlC+f2eFeqM50DM81r44sVbOI4USAy+gLqy6UFfOecL5+K+WhUrNw54c6oU3EifzBJ+d6EPB3k5tMpedvYkP0Of+Ebxz+A4s71+6aXFoUWgvOPI3gPkWHwKPJ7vtJypKB8AmpGoBgKggwY-vh20rwovoUvAzp-x0hDkABJKI3l-2yi6FgBWlJTnZlf5l93+gRfOD9Gn4n9lUq9GImCFv6Gcy8phA-MnG6jqJb+VFaUHnUmSdQGA6gEQBwFIDrR78RAFRAr3nRBpOoGA+dPhl2bPRMsxMF6IwFrrXxqYSlKBEFCEGhkPce2UoA4DoGnRGiTA4QCwNR6SD1Ke2ZoLkEIAQJno92Z6HbyqTN9E0BgU-lX3b4GZhIi6LCHoIgSL9me3ABwRjQwGx1QAQ-aQYuiF4rg2IIAq8voLL70k6q-QBQA5xIAZkKgEcXwNkUMBshoh+DbvIYFJAz8Bin1eIeN0SGxDJkKQp4MDw-Rw0iiOfAwD+xVRhCIhfWbIXEPKEfQEIRgYoQm12TVDchpIffoHEP4mt+ghSFoQ0O4AtDZYqQvAbxwBKZDOeAwvIcN1d4z5MhJQp4KU2qArIOAFrWAjEOyITDiQTwEoc6HmE+NQhdQoiEUUOoJZ9h4QmQBHB1g8sHAKxY8ucKoBIwuEgQD6KhwqFytrh1IC9guQuEPDThLwj6DxwyG1CgeL6NjPN0WFkBlhPQyMEkMGBQI4aQIilrsIkZ3DkO4sR4WEL+HhDG8TwwSMcJBy8QVkjABhvxF4j9CqAWg7GDt05oGcZASYWoBVU57ghaRewekfN0QSdBoy5IriFQHCCc9OaROZfjLF4G8ReR-CINgwCFAWpQQxyUkdyKzg0wwRUeD9CKIk7x5LBm4C+D8nkjeVURSQBgMSISo3gRR2wlYDeE1EndnQBIsgESNCgJU3ePIk0bsm2jmjHRmyGmMNyZF0iLuIQuaFW2yi-DAyaQqBpuDsZIimabGTAb-j6BMISUjAKAUvHjH0BuAIvWUSLxphpZpmBo3sjSG+SMgrReog0T9zIC5IuRiYugPGxRZoQ0xUglAVmK+TpR1IzIjgBd056vpl+0FWtpIH9FAiBIto7MfcnpK8BCKLUBGJyMppy0Bio3e0VKS9Z8w0o6I54d0DZDdAhh5IRsP8zSg4hlxfgOcigPqxgRgw44X6g+jRr0kRx4vIkG7DHHrRGw3QRkNOPayd5eB3QcIKB005eZuglbSQKAHSoAAJIlgwAACC4AcAESwABK6VSAAAHkqWyAIEGxUgIjU+I7DMsf-HzHljMY6lIMUOKPoyh4YY4wkeN3nHnjje8ApTAROtHDd5xnQfuGRMZhDlqJmQOAVpHInHk-xAE4CaBIgnQTYJDEyQBKLwmkSWJ6GdCceXnG-DzxDAS8QUVEl3c6J9ATyKcNIGoUWozE4sCJPuHWiKR-UAIacLegXCrma6TUYVUMYdU1AJgLwLGLUkIDo4xkyyDqMJHaSTuSEtQNZPInoSnJtMKtnEAyDst0yKyRkAAAY1WKpUaoIl8kRDZEyOagIMCugRTcgDgAKUCCe5+TEp2gaqniAByLoUpbyNKaQCHKEwagjkFQTAVJh-QcpGPWKDFIEofoSB6zD9BVLl5VThA33ddvSUCDXoSp4oVINUGyC+Sbx0zRqdNTx4SizQTNMKUNKinNTkol1BLOUMaiOROgNCZAbmifE4Cpe1mQqWFJriaCfJhcSqeVGqkcZGuZ-JfslWDGz5AgC0paYdwF6uj5pDARaWwBoSX8B+nmUyKP3jQBCHpT0mhClMjFcRiAkQ0IFimji38a4TknGLCiumPSbpOklYDwPWmK83chNdoByIhktBkZq4a6OGSgReCCI6WYQRdFEFcV+eTkg9BbUXQsAU88gzZKUFpFRgEazQH6TdMMGOwWAJg-GtBHxn10bCdKUUWhFKAsznpt0jJIp2FkvTkKLPG1P9DMrEAKZngr6SgIlnBDZxnqRGH1klENJF4fwMqWjE6CQyLs0zWQaAEMGvR0KGM3SuSAHBCD1OoLedDGjoCNV9Rto86KtCMEiCfYTQooKeHJlq9TBlERGZuFPDtJ1MeASEBHJXDpYRBRM92ebO4q+zMJgMBWTIJjl2zwI44azA4GdmFiIZ3smIGzLOjGCUI0EVCAqNjAfSJkes8mInKtms0zBgcJNBUGBmpAM4icy2TJVkrhzI5KwIKJ6JZHei9MDcmwaiSDbVyMYtcmsainH4eRs5y1F2chOjJ7hfw6YqkZXRpFej0+b3fuc2K3nHx2RWQQgMvPG6QxFRKgpeQLPjjiitZBFPeLrKPnrMV5MlM+cKNSGc9r5CsbWXfMeCEBfwD8pOXWCcZgAI5kIM+VhCPnhA48J0qvr-PG5zzcQhYo0Y0PUxGjSQro2IPAoXn8Q3eyCysSsDd5oL85iod0fNx3n0izx1yXyV7HBI8cOSAhcEh+V8m703g4cIcUvH+lBjP8-09oTlN0IcLhhn1MAlPm4XY95inQRab4GVT+ktOy-VdsIv6l4jVaJVXEJfBSl9TyYKYzSUkGTG-dcQq8tcdM3DjW5wpDIZKeLCNhdS-gPU6OP9PyzTNMF9YxkPMkwWFjNFuo8sfnJYVnhvORiuTP9PQVFBqx6lLKXegcXdJcxG8geXvMeRtjr+GqUdrovUX4lCypqZYYwH8V7YOxfo2HD2LCU5iZxEUbyexIYBgTrIAAGSJZwTwxmQEKQlhcnsMUpaErRRhP0UoCcJAkioPhNEmc9iJgkyZI0oolJAqJ-EmiSYtvgzTF8IORiQuAGVsT-xJS8pZUr4kzgSJ-S3yU0vcXHk9JabWEVeHEk9jJJ0kwZacgCWFAzyvkxSUCPhA599lOIiEN33OUcBLlOIl7vSQ1YDKPJACrZUCP0lUBDJGmXyaUw6oatVFVClKfVPcVOSc+9SsZRssclfKAZe8ENIXC25FiNuUhSFQAoXGCQgxeklEf8oerryJGUCbZVxiiHQichYbP0N6C97yT3gaKksZippjbCwx7y9ZQyoxXwr3RnKQWgiL0rxLUVW3bSdioGm7NWgyIRkJuN34MqfY4IelAkuLEl0JxoAcVQ4BpkZyNQnPJFSfQVUbcGVwq04cN1VXRwX+2mMHrypxEAyZY54paCqOGFTiZ8IohTjrigILtHVPIxFT-0CBuTDpjAc8f+zpXrQg0Nq3WWWKxkCCqQd4oEIcvLBXiw1CsxsK+3sR3Yyx2KmVkAluUYjugck4SQpKUkeCioOIHNepLzVXKi2TXOldwDDFJqOpzKOlSKsH5l1p5kBD4MEEag5TXo-q-hQYt2boTGQXithRnFsXWyZe1izpbauaXhrYgt4vwIyBjW4grxokhNYYsSC1qxlaarlpskzWLjtgjhC5fmoVmFrs1e6p5UpPLUNTfJVahxjWruw5TDVja4eV9JnkylhAaywuMEB9UZww1QYswlQu-Wc9YBaisNfN1gFliA1ua05DANfWfro436qCK2u9WprO1eE8DSWsg09qqQ9sWlRBv+bFLOJ4EyCTBPABMQ8NIEgjTxKqUVqINV60plhpg1iUUB4IDECx3EqcRANYK-qTjAQ3tqIpyGzpUkqqzTM6NjSxkMUtKUVLiN5IMTYsso0XryYYY4TessfF3omNXgFjc+oGIp1JUxzKMuSh-Uycsg5KZStXW02PRUej7EAiMCM2saPIG6N4DppRBM8LNi6V6daXaG0ZS2uIHBg5oLDmaARTuazZMuOImbvNZmvTTtycFiUgtnEDdKFsc1+agxrmqLZARqBiBBYkyVFeFoCGRaAZ9m-AL1Ps2PR-UFqsITxy02FadWFWnNifMkqnD5ueW3qXZvoA+bd0dmFreym2ryrUVQ6KrWCF60dboMuyErf8NpiFruSIgDal1t0WXkGt6GyAt5vy22SUg7Wg1QiP02k0vNy2qMnFuq2tjQRgozoZCNWEwiqV6OGsILF1VhIQtW2lEPoB227ofYw2wSChAaBhiFtjWu4kXBu05s7t32h7S9tGRPbv8Y2q7lZCm2Kr+hy2xbZ81Clpb1E2yLFYatxU-L8VihNdNSLEZYBBtgoAzeqnO1aBLtV6YgHDu7yorveRCzqr6K7E5K7l7o2wNjseRZLqd2KruljtggxY2MAOpELVr5XQwxtN3SbQKum3cBUtgsGHUdnhgmB+A4ArgTt3zS38a2dbWeI2xvLQ98+yfGno7AR1A7JwQUPFQZLR3UqiVxkBGFLvUSaRJWlAr6KjS64VJtJASjqNTFUZNCs6lYCsXgpiDOJN+LgXiGNFICIpNqbOwbeCCT5U9NdDEF7g8gDpU6f+NOjEeXPHjVK2AbdIHfdDG2h7C+6MQXfjsahbdLyGelPqOjVaNgbg4vIhjEMZAABOE4EEnL34MWdj7WvTxBiHYqJRKyL2CLozoxBW+VtbfPOjnQDgXAoZQKV3qKB16IEE3CblZDQAz6lVrEJtc6HH2HcPgnMwoOPtb2bwtcekxvD7BcA+RByfgpWbEHX16TN9NNbgKXq+24MYhAM8RfgykVqpasba1bZaqDFPa09-ACEHfskV+kLyYOoXRDsEBsAJFD+qGJAWL5uBCd1QIqCeDIB2w94OHI2WKsZDm8PEzAcXhAaaWrIvo0B-gMRyOCvKR1BgZJKQHgOws1O6kPeHZQHzzol94IbyD5EwMqrdFHQoqDEAYP+R-ZY+5vfgyjY1dCdrQY4J4P0wsQBwqan-n-xJSvrsigh0fexvfWNEwNoG+tboVkMKyBwJBsg3CgoMSQqDoieEPwOP08GIE9Bhgz5DLGCBpDogMw95E4ND82IC+7g9ft4OmGzDzB4sRtHyVMwbDthjwSfp7EkqflBK9usbs2SQ9El3si3SHCt1Hd7dxBp3aU0lgWi+4aiXPYktaArEY93Yu5Q+jOSD81ZHkA0u8Echa5cD44kzlSFaAoHdFovdA1bywPGBk0dANg+tQIN40K6Rsf5uDr1UZHqQWRuPc8NyPKa-iuOyGElW3kORsqtouaHKPICyRoItKVbriFRVRGKBJqXo-yx-jsp4j-0Bxkkb0oayMykoykNKO7gYzNRhsjDQIBNlmyxBCcw9hDCnnKrZBB49ULUHfmHHBg5xrkQnoa7oSsFCVQuStmLlyjyZaKTA4Tom5QD9AHugADpYAgNZKyZBIZkDBBOOD6YRiowyRoQp9TiTQwRT34nAITqKqE2RJhN4L4TiJ4GUwF-6onAenIqvrwBPA+wegWEJk6AAABeSrUAPCa2RImaTb0NE47v0bcAuT2JvSLifQJwGCTNUVCAdBM1CBDAJRzcFCf5MomhTCTDrqeTmNWQWAG1ZQBtQu6TAJuaYPAMScSWqnqT6p+k5qdRY6mnEep+soaZe6Sn-IQAA')">function extend_if_consistent(variable, dat, frame) {
    const binding = binding_in_frame(variable, frame);
    return binding === undefined
        ? extend(variable, dat, frame)
        : pattern_match(binding_value(binding), dat, frame);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p23' class='permalink'></a><p>
      If there is no binding for the variable in the frame, we simply add
      the binding of the variable to the data.  Otherwise we match, in the
      frame, the data against the value of the variable in the frame.  If
      the stored value contains only constants, as it must if it was stored
      during pattern matching by
      
	<span style="color:green"><kbd>extend-if-consistent</kbd>,</span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>,
	</span>
      
      then the match simply tests whether the stored and new values are the
      same.  If so, it returns the unmodified frame; if not, it returns a failure
      indication.  The stored value may, however, contain pattern variables
      if it was stored during unification (see
      section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>). The recursive match of the
      stored pattern against the new data will add or check bindings for the
      variables in this pattern.  For example, suppose we have a frame in which
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is unbound, and we wish to augment this frame by a binding of
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>(f b)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>.
	</span>
      
      We look up
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and find that it is bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      This leads us to match
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      against the proposed new value
      
	<span style="color:green"><kbd>(f b)</kbd></span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>
	</span>
      
      in the same frame.  Eventually this match extends the frame by adding a
      binding of
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      to
      
	<span style="color:green"><kbd>b</kbd>.</span>
	<span style="color:blue"><kbd>"b"</kbd>.</span>
      
      
	<span style="color:green"><kbd>?X</kbd></span>
	<span style="color:blue">The variable <kbd>x</kbd>
	</span>
      
      remains bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      We never modify a stored binding and we never store more than one binding
      for a given variable.
    </p></div>

    <div class='permalink'>
<a name='p24' class='permalink'></a><p>
      The
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      used by
      
	<span style="color:green"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue">
	<kbd>extend_if_consistent</kbd></span>
      
      to manipulate bindings are defined in
      section&nbsp;<REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	
      <div class='permalink'>
        <a name='h7' class='permalink'></a><h2>
    
	  Patterns with dotted tails
	</h2></div>

	
	<div class='permalink'>
<a name='p25' class='permalink'></a><p>
	  If a pattern contains a dot followed by a pattern variable, the
	  pattern variable matches the rest of the data list (rather than the
	  next element of the data list), just as one would expect with the
	  dotted-tail notation described in
	  exercise&nbsp;<REF NAME="ex:dotted-arglist"><a class="superscript" id="4.4.4-ex-link-2.20" href="./2.2.1.html#ex_2.20">2.20</a></REF>. Although the pattern
	  matcher we have just implemented doesn't look for dots, it does
	  behave as we want.  This is because the Lisp
	  <kbd>read</kbd> primitive, which is used by
	  <kbd>query-driver-loop</kbd> to read the query
	  and represent it as a list structure, treats dots in a special way.
	</p></div>

	<div class='permalink'>
<a name='p26' class='permalink'></a><p>
	  
	  
	  When <kbd>read</kbd> sees a dot, instead of making
	  the next item be the
	  next element of a list (the <kbd>car</kbd> of a
	  <kbd>cons</kbd> whose
	  <kbd>cdr</kbd> will be the rest of the list) it
	  makes the next item be the <kbd>cdr</kbd> of the
	  list structure.  For example, the list structure produced by
	  <kbd>read</kbd> for the pattern
	  <kbd>(computer ?type)</kbd> could be constructed
	  by evaluating the expression
	  <kbd>(cons 'computer (cons '?type '()))</kbd>,
	  and that for <kbd>(computer ?type)</kbd> could be
	  constructed by evaluating the expression
	  <kbd>(cons 'computer '?type)</kbd>.
	</p></div>

	<div class='permalink'>
<a name='p27' class='permalink'></a><p>
	  Thus, as <kbd>pattern-match</kbd> recursively
	  compares <kbd>car</kbd>s and
	  <kbd>cdr</kbd>s of a data list and a pattern that
	  had a dot, it eventually matches the variable after the dot (which is
	  a <kbd>cdr</kbd> of the pattern) against a sublist
	  of the data list, binding the variable to that list.  For example,
	  matching the pattern <kbd>(computer ?type)</kbd>
	  against <kbd>(computer programmer trainee)</kbd>
	  will match <kbd>?type</kbd> against the list
	  <kbd>(programmer trainee)</kbd>.
	  
	  
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<span class='comment'>
	  Dotted tail notation is unnecessary in the JavaScript edition. We
	  simply use the <kbd>pair</kbd> constructor
	  rather than the <kbd>list</kbd> constructor
	  when we want to refer to the rest of a list, as shown in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  See also section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
	</span>
      </span></td></tr></table>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.4' class='permalink'></a><h1>
    4.4.4.4 Rules and Unification</h1></div>
    
    
    <div class='permalink'>
<a name='p28' class='permalink'></a><p>
      
      
	<span style="color:green"><kbd>Apply-rules</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_rules</kbd>
	</span>
      
      is the rule analog of
      
	<span style="color:green"><kbd>find-assertions</kbd></span>
	<span style="color:blue"><kbd>find_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>).  It takes as input a
      pattern and a frame, and it forms a stream of extension frames by applying
      rules from the data base.
      
	<span style="color:green"><kbd>Stream-flatmap</kbd></span>
	<span style="color:blue">
	  The function <kbd>stream_flatmap</kbd>
	</span>
      
      maps
      
	<span style="color:green"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      down the stream of possibly applicable rules (selected by
      
	<span style="color:green"><kbd>fetch-rules</kbd>,</span>
	<span style="color:blue"><kbd>fetch_rules</kbd>,
	</span>
      
      section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) and combines the resulting
      streams of frames.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-rules pattern frame)
  (stream-flatmap (lambda (rule)
                    (apply-a-rule rule pattern frame))
                  (fetch-rules pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nw8akEx2abEShEEYMDKgAAMXU5SJohCYAHcOAxnVxeKJyMQKYMOORZMLiRHXe7Rl7w+MOGnVaAANSgeRdYkbUlO7O5j1w-2DUBYgDW0yDoYmLAY5BYACNxjI2x3u+NlFnpgVo7GAwmBMnjKKaFdIgAiNyL5QLmQjyPccdx6hT5TWvvtzs9pgwzocrAgUC4rmEWg3hiUNgQGDwJCoNDyNCaHC3gPbNYtBiLgHBMG2oj4HGhAAOZlGwpAzkYc6AbsbBdqM8GIUYAA+OHakYOxgiqcH0AhuigHhBGoV2lCUO8hBYboVFNOKexMa4LGNDsRAiLgKpzGRiE1rWyI7FUMEwT40b0FhB4xJULAwUh6ybJY1jrkJugAGTaaAur6uRGTpOkoCkApEkif+dbiuwTAcUSs5lmK1gSVJQgyaQcmgIuhB2YuF69NZyK0BI6H0RwlCgX5bD2Vpqylmp+m3IeWmBX+-QATsLC0LQ5AwYQsXDA5SQoeJSnuRwnneYuOV5QVRWkAFNbBTQdX5YV-CkL4YW0TaRmOap5YGTIh4jalmKIeeLWZXW7UNV1HAQfgcWTUhKHjdUo1bWl6WiepObUPQLDDMUxDiAwu6MfFg1la5FXSVYXlCcoi6uveVSnSI53tldzUcq1oDvcdX1MD9l2TqF4X9dht3OTQm1QjcerbUju3pYDwOfd130XVdS0sJBq0DaV8PJSjh4TeRdr7ah-YntmuO-QGJVOUl5WSY9skvT59ODhqYN4wG-1BbNyJ86eZ1C-GUN9azyFk4jDhK0x00A2LNAS4zgvM-Gy3E7DpNJSrVNTXtgM7OI6ECCwYEAB7cMwuWDPLQ0uYpnMeU9NVW12Nv247TDO9QIu077-thJdsUerQrsoUyci9RFUU2HZygq7tM2InW4e27RAgSHHispVtptq-CFvWHONIUkwjVF+z92e1V3s84u1fHSMjWh4D1dMA7Tt5dQDfDSXaNrebGuoe9AjkAGhMB4PLs3Ub5Yc5V1U89RgRvdQs-z6Ii9B0PhA91PM+LxwgeGYbbPlp5YZMLg3lOFnd5A3vl-AyPWwP8wz88x0G-ACF9+6Oy4KIZ6a0EoKySn-J+3kADMk9s5iSAkwAAjitEgBt1pk3XlzKBCFXrASwfwYgTAz6oJoI2aYpDsEUKwgSGBbsaDVUXPQ8hlD8STQJMAusnCcE1y7l1WON1jCry2BnCe-DuQRHoMIuuXUmF4ONrcISfD1bUPWAozuSjhhiN4ao8sptNGi20TsOu3BSASF8JghhBtmFw0brsSUGiMZT0tjlbqej67uJYXdVxDhTE01pjsHslBiANldqw1CblCE1QiVEqh79aEcCSdEled9f7e0XBk1cORyKyJoBk9JlAC4xI2mPGGoTK5bh3CzLJsC15Nw3q3Sar0xwxj+h47RrUj7B2utA5xo8KY7RkVo9+7YYKGJJtkhG1TUY1JpoDQglAuAMBmTISg3AnGSIOvKbZuzenv34gwBR0yjl7PmeTWQOyzG0ydt1aZsd7nGK2IeN5VlPHWH7DIMBKlAnxK9rJMBr0VwoPfswGK0wtZBwTIxEcKksYVlHFGbpk5ExehbGGCMXSJzxkTP4EsxhAa5GmMGQm0SAUsMCIEv5NLt4eDSTiuF-yHbDjxeigle5EwykaMqDS4RIgAqZaEYVo1mAUqpcjWQALDRAlcOSjglLRDRMPPK-lDQQhgJJUYXoiUTFSpVTKpFIlrw7NGPjKop41z4EdCdAQoApKkCvGAXAT4XzECiDwD0oBEGgDkGDACiC0ChuQRlbRdVIkyCbBIYcYNKAMAENcm5bFJTMFdMmgk1EPC8SfgJAQ1EdVYMJrGpg8bbmyo3Im7N55t6gA8CNTNSaU1au1aAaNxBy2VsPC2utkKAJpJtb2ZFR1HSiEiQvEdTAvTsIAFQzvnf9VwgNJ2UAbPgZkcaOBKFADulYg1AgotoPgLsM6vRdp7bug8W1J2xkPjO9k9RyC4EDae89-NjKmXzfxIM05aX1BQr+wterAjdFAGIYCgGUgov7U60yV6D23rRmep9F5ASvsDfB79oAQP-pUoCYDggC3-rA-UCDUHZ1HqI2TPttbpzkZSAa5jawWNGAtveUYXkd17uQ6AfWhHjAnrQ1+xDuUY28ZQw4e907+bPpSFhuQonTy4fw9IITyRgLdUPLJx9-M6iKuSOuaqUnxXXH44JhVRn6i6anfp08asKOQdENBmjsHx3rCzQhztEnu38dSip8YCnuJvprd5tTJG-0aZgwASHqNpxSqHP22qwPFmzxmJXrks4TFa1mMsNECyl4L7J0v6pc25htxhEv0e88oQTTHkjsfA2xtYgNZ60DCKQb1Mg2CadiS+EyplFzrs3dwRcVXG2gFG1uybIRBsmR8iqYCDAmqTaMB4Zb3H1tKkgwwJ8kQ2CvQAKqEAbGs4MNBLUQzrAAWlu2ZfmK7jDNZQh1rr3qRIouu9asT9YWBNkUqeYlWAUUuq9D9ycM6ZAjbomN-6KLuD2oh3wG7e5oeLi26t-6tM0ldhVLPWCR4By2oE7ls8tKULrjhfV8nJyAL48ECRAmJPeyM8J8pSnxcUbs5IvTusvPYIEyJjIQXnOj0oUPGL-nyIxcIo4B6uyxOGZMGUIr2KgKyZXpp4+OyMuaD9ypLIHX+s1dRwpxLsm648cE5IsrgzZOiYJF1xr752iRCFBTZFRiYKyes9Vy7i3bWp7KtVdS-rSmdgMphDB5ISn7Flp12efrQG6PhiYI18DFXqPrZRV2L0cuVQK-N-8s3evM+p6SvnobeGouFp28YDwuBCbAQb0YEIoeZVy-1qLkLDReixco65nPtGXHrgp+tjwne1XVuT5RHCZljVh6Wf8mE62QjN+H5n5rr209MGlTPgFbv36G-4EIV9V9KDO2BybwmZeNe0rz7b2CBfn8wXl+r+yOvP8YeMEpsXoAAAhItupgBu5s0lsEQK+rYliN1lEKLm-sLitAgUzrBM7m3g0BBPfmeB0KAGxtntsGFlHu2EeKIDHnoAVq4NePOjQYqE-qgTBK-gwR-iXlgYHr-skChAAcAT+nXv+mKlAbgDARSD1jThgckN3uTigRzvcLFnIRxubu2ikDqnbEbvbqTmwT-mBkPtBkph7mftYMPGwd-ooYSKANQbQZXuWIuM3lCNIIuNoQQeAbEqfoIOoUOI7tgRwaAL0BXFPIIcIXATINwHutwJoF4VzklJ-rhjYdUPYYqB4LEXYQIBNvUCWlBA4CEWuDoAkYHoqIKizsEU4HgfUB4K4efqBNwFfnlMDlkaEOEewfkXTCQWEboLkeUQmJUdUeQLUQ0XUT-kYBYfOk0TsOuCETpHpKMVljkaUbXtAYyCIfAYeOMYZpQY9kjK0asZQQEQsUESNCseIUCPsToFsWsY0D-koe3j5LYeMCkcfgBHlLBA6HuGCBaHbJrklOuHbMoMaKAPKIOjZFXM6GULXI1B8S0h7G0tzFUCIsMK9COCkiAtQOdPgCfBuM6OCVIoskivrqimUhUkipERCYcpTFtDiZcVNuwoTJShIK5OngFE0SbGSRibUlPGOLYrbCOOiR4WQgwLYl1h6HiKALybYgMUeiiudKwNSCOJmPwHZCzirtYCqNyTgWsCijsU7HYI6KZA2jsbAT1iKVfBSIKacWse9CiWiZKSdLisFqaZQYaVoSKGTBqUHFqTETcfEbMfKE0eBLlrXBwCKSqfiYXFadKRiXaQ0I8TBM8dSK8ewDIC6aepAqydoqidMATv3MERSJiQdMRETvsdmQCciC6uaPGXGnxhWoemqZ5g+KZC6j2hWRIEAk6UlLWSAXwdIFNvKLtrQPcTZCRnbBwDulFFmbfMJp5nGl6AWcJC2RCX8nGroIkSuLtnGiJA6KAAACoAASAAohwAAErHYAAyO5yApk8ofogMuAGw3qNpQco5Jp7BRJkBwECKIgdsD5owhAFJHgJZGZdsPgI4scApX5FJIQJZhMh8QFIO5i78EF9gd5scOZm5u5B5x5p5xSzqGwb5-cgFzowFxpoFz5NAcZ+QvAZ+MgVWJZpFMg-5Q5FakUz8IFFg+Wax7czot2pFAUEZyQ1FtIMOK48JHFXFoS14rUD4Hqz4r4cAiAyA6A348gkaJ+y0tc3k-AEw7yuZIEYEKlFAROWkBEHghSrqAqqEMKTEhl02cOW6PU0MSBcUSch8Kc5lWkyg6lFJVxOwWMJ0OMOsaOQy5Ellvph83loM4MV0alhAGlBEBRcKUsusw8BljQZREECp-M8V-lkV0Vpl2UzsC0xUSVDQKVC880nUBVHSkGUVHlu2Xle8c8gwC8YCS8iVa0QVqVM89V1AjVA8x8y8FV7lMVqEucAyaJhVsxaSrUMgw1kcdkMcTEPFGWw1+chcrlhxrgA1OV6CZCOCFlyVkGqVgijCh1dCMJ+ipAsyiEblVVg14S96mSrVe1wV6Sd1WV1VBRHcp1fiD1RV+1C8H1oJyiPMG1Ha2U3KEVY1sonaUYhcwVUEIwLI1CI1fV5EV1GlC19QD8Kc+sscLy81lVGlb1e2B2NUp252lAl2dAEgwwLAdsoA92v1kEtcoctM7JCNygLySEkeGkHYbA9Vnwk1uI5B5wKE7JV8PNfN0wAtrInamymiL2BBXNh0bAVRvECuGsCNQtyQcGrpkCXosNql-Sy1Gt6NiqHR6lEQ1A9ca1yQ-SM10cowscgtJtGWLyztNm-S5tT4ZVXkgtfeEBB01cPempyZDaHggd5Oh0rwxUwdiEDaIQoBeqOhI+gQowxNuIJ2Z2F2ZIIeEgfAdND27Jz2Phl4a6T0jF9lscYCtAqNhGKEayGyWyVdHlcoew2olwEq+t8NZyFymy7KxyNdbtRgmNoE2NNaPdjdDsBINdRZBu7VdVB8SNLVxC+NyF4k6e-yul9koCA8Ytgka009uaDNcNW9n8TVkdF1zuwNHandJ9RQZ9hMRCl1K9fZyIT1x1TCNdtKitViNidi21R1Ri-WxGfEoG+BVGhBgaXiuin1gNgDsedKZMN9OI8iPiMD5VCEU97ljh4DzhKK3dqDCE9lXo28SD+DiiX1GDCQWDioit4dIuZDQk9lmtTQKEDDk09l2+Th28KEb99iXClFNmTy5DoiKiig1DFGrWfh2iw9HARApVcwMKqa-tZl7EijP5fxrdaR5mS486cjeV-6y6ygMjej9U-6K+ajsIZWeBUj78tAsY1Ibovl4VAYF9X9RBW1Diqs8DJ6vCXox1wjBiTEmegSP9ti797iYq3pgIIQBQFFdj1pjjGVV0jtKDATj9BIrFRm8TDj9qSTLjvWAOdCfDO11tLDQcqDANgT7iTm8tODiogSoVTj0sS9sdgIHg1UjTeTMsjlqs28sVx46VTMmVENe11UcVQz+Mss9EvTiqIQF5kjSlAET1GSr1j+nmy1Bed1wZQT1ZH0VlD6tZdA9jkUuTEz+Ty13h6pfk+j0ghzxj1zpjcwemctNySDy1g9kGqhZ+YEUVFt3tU19m1dte8jKa09L9s9f18MaTqzluSUaSdDyBk2SDfcPVgy811t7lM9DNXA+jFDpAn94pnm+setm9MgpVjU9leN4jxgpVtlfUlL5Li0UzNStORMNdYGKE+s4L2L4zfl4N-VVVtKtLzLlLvLzj3T0M6L9QSDYrzT1IPerlK9EZ1DEGRgtMT1nTZzyN+LK9Qr+jdLEUPemrfLkMPTq10rpLxr4re4Cr+9SrioKrOAYlGsElnq0l74clX4YaizgJlQ697xxFoAtNNejAK03LE16tdtGwDtyg7zursL98uSroytboRQrUq462UbMcsb5SlajrdSybKtab6tuAq9rSCSuAr0hbqbQg6buJttv09t5yOIyF8Cz8lbRY9bGs2zpbgbbbOIygzZsFAEHtvzXt9cvbCbOSCi-8A7-qWL8LULRr1AVIY5yj7CCL3CH8UdM5w7vrm7pBeWgbBCIKXkpuPkm7iJdYm7kdq7h7QehqWJYySMVm3L5Ck6UZPzEwfz9c7lgbGqVVmFZDn+-ygrU7CyKM+bU877V+0wXYhcn+BLrgs5Ww64iHz9HIKK5k0woTX7P7XU2Kewl5U8E1JezLQL2NyFmkjlFH5ODyV55uBrrmOIih+gyHj7EHsgjpe73IjHo9Yp7HNyh43HPrr9Xzd9Y7ltgNNHrLQLXYOUOHYHKHbC-AME5kic0MzCNe4wsE6nEEOaTQHg1uhTxeSu5Hsnzu8nr5V9WjOnan8B5HugAAPNNqp3py3tVY3kTUmjDhuXRP9oQBIDLTBPgI1A+KeuitICEIuAWCUWsXmTBNARp31MwoWAUjF4WOIQl0l-p2vkCDqvtj54uH55QDeCGMF6F6InQFutuOQFFz5LF1l4wCREl457F+l412cdl0IaQRk9yzNtwEx5S8ywS8HtoupVVHRMyH+84YDNk8l-RLR65inmmtYIco523mUVFZNzsgI2cZVedFfszp7VJ8VJi23iEMy7hiNBt2cU2rcLl+IZd-Yyvo59Jr137S9jQ2Fupbhth2BMrb-Sd97St0YKnT5yNz5KdrRLxH8f5N4a4EnfA64Hg+bl6MByXtS40ChPN5-kx47YoR8-UHj-x6Ydvq1hx-jTt9N4ByXWyfqyKwq45ay6N6utB9t+ujTxpfA3Ny9+Z47kow0IEutzR554EFtxMNT3twVjB5+8D7+1VWL8EJTdDNd+oqLw3h4IliNPp6y0r4EM9ydK96L+97lwj-Ld94Gr9yGwpLh-L11KD955EJD4uNDzW3D7FPnb5qY93Ob+VnU4CKj3ZOj6kyB1j0L2TLj4x+Ryx3rkTykCT3R7Hxrn78XYj8p1T5z6Bxpeau6i64+FJVADJR+PJRgKJwdI7OQLzRQPzSW0QJpXEg9Ke2zT5JX9X+QFMFe8iG3xLQmMreMI1BFYLQEtzrIMJ-X3tIjuLTX5Lfn6ZNVA8OwgZAUsYAZECJk+wtaCv0YNaOv3aewguNv9o3v4v7kp5Ef55CfykOwumqIAUrf40Bv7ku9moAUi-5II--v7kuDwwNvz-4CE-1kiLhYCUQLgF2FoCrgQBYAh8PUEAFeRFw+YI-sYBkDfFQAEgEENkFpqFgguoAOATDluxIDUgqA9ARkEwF000BRgPAYuEMYpAUBygEgc8FprzoKBuAr-kAOACEDA0xAjAUG3MIsCqBAAUk4F0C0BPA2mgIP4FsD4BQ2JASIIYFkCa86AqQTDh4KyDuBpA3gTwVEHKDFwTnYQeoMYGgAXORgJQafyAFOd0ghAuQWIKMGmRtBZg+AZkH0H0CbB2QEwVQMyCWDlAgQawRoNpqeD3BOgwApwN4GuBngRgQAsYHeIPALwU-Kvr336TkcMgioBOAZDXDT8O+s-ahJojiHt9a+iNSgF2AABWwaWsikOxC4gNBB-DIZ33TiLJfamTQID3xn5q1shF4UHJ5maGZDz62MO5t7HYSgECkoBRoft2MDsJIAhAP9HPAkAr8JhUwmxCMNGHTZckUA2AJAG36rDIAiw0YewigE7kj+ew7Yft3YQAA5FgCcM4FnCTh+vArLEM6E1CXQ46Hyvj2SH1AE4b6Z4CNFLbpD4hLQxpjkPuG-DuhnTbGq8JSDvCNBKsUts7i6GfB-h7QwGKLVhFZC7wLfaZC3HoDIVRaRefNGMAkDM4ihHwHKMQA7DWJpeQIZEX323BnUh+9fD5uiM8idBAgdPbRNphsr29ioyFM2pJ3+aTZYmbhSkYkJk5xc1ilIzpm9z5HkUBRDw1oXeEijFDShygQ4mKKeGnRKOg9f7nbx5Fgk1yGwMyApGjKFDGq2ogjqZDZGDcORXkdoc62yEF8XwRfD1p+EwDl9t2jAFgGQADIrR6A8YLEAwGiRwoy2aEDCJEBVgBi8ukNJki+wGaOYY8aXDgBlxRAtceuoY6MSVjApVpDwYYzCsmyxB2IZqIwfUB2FgiC8RaxAYgKFzsCqU5A7NMsTwIfCFgyWZYmIjF0SIxdour0WLu6OIBHDGgi4ApAl3o5TxA4lIFas11gjs1ZaE49-MOIWH6BYsGfBLu1xhyxccxtsYCPmLmAJx0RM4ytBzV0BpdtADhSZABB3GVBRgdIaZIGMOSXjcivkPYKkWUJDVvYl40ALpAIi0U1u7EQ8JeOYgL4VYP4oAotmXAMlZi1aF8TXmAmH13oboj0WQm9F7hfR0SG8U0BCAfj6kGKF2C+LfFAhbIsUBGnKKaq9Vh4P4zzokWXGFhTxHoOkCNFxokTOugIGLgmJFbOUlcHtVFmiQAmZcgQjE2LpRPPHVpvxstMlpsnPD7iG0AUB8R2h3Ew5z+U49IRsF-pUTwxyQAouuGQmQ1pJi4Q-kY29g0SRJ73H8fJJHFniGAfWEYkBDHFwR1JyQRIgAHIEx0ydrvZKaLddC4l4zCqeMDIikrx7EWKOhEwgjRvJ8fDGrkkdTpck06XNZE1E6S5RuM6XBEvWlmLSTApK0Pks7kPBBTQgpgRSeePTHJTbgmUjKalKUFZSFJtibydy0JFtg7GpI7qPrDFqRJj4fdQMfigiqipZiVJMGsLDVzdtCJaLAFIPQThVTiRtU+yg1IoS5QpxldB2IlMfG4T7I7UyGuwkEoq96WLEvCfKh9IOxuWhpUKNTUHKOxGpuUZqW40gbWBWpLMeVDBjwbdsruOpBLI5XLrmU2JgcfqTNPN5T8jpwEIQC8i9AJxdpVNKoAdKfATSgWuNeVExlYa3THKMRQ-rkXXD7EQZx8HwBzTqHPtMiSM2KT9NlqzSVJN4aGarwgnn94ZmM76Q3VoBNEhRhMoCcNJqnkBrE9lSSeL20b4TTW0MQadiFpkkj6ZdUiOodNBlTTmpykg3izKpl9R0hX0lGTjOwbD4IGaE8yldPcwoRlp-Yx6etIWnvSZZlWTgog22kLNaYNiPgCdPA6oRx8M03IiNEWl4yf+fdDOmTQpp9ST4ZkXOpQlxLQSRGNKE2VMWuBWzmZGqc2Voxtm+5XemdcmgbnYl1h3ZBiZmoiNimrZ4wpAdZBhC4ACARAcqGaf+xdknSIJdUOKZhT1A-S45k4I2p7Iz4jQo551IWdy2WzYxOw8NX3OhyIAw8ig-YDgD6kEDjAGAKkTGDshhoZznCitBlO9OR7jk9mABUyIXmpBh8OU7BCvDcnHntkQG-BGzHmkIDNyhArc9uQIE7m2zGiNmEIK6G4CFxJCIuaXKnyR6K0zZ3AZhtjytwSpD5hcS2e9OUAPyV8mqThgHzKZJRdUioHfBn1flH4WRJ+cThUXPpPRlEOuG2DqzFK7N6AoAcefAsQJF4QOJhcvBnwXm8El50gdoiAvcIB4oFXhJosxWpD6l4CJ85AtLgWAUgvC3LYhbsR6xdYqF0C1jibOiIQSPSKREUczKSK3EmZyvBPJkWoUqBsyXCo4NETVZaNiCkQLrG0VmIdEL8wMcBcVEYXCLmFeucyUaWuAyLXxkxIVNcCgXqM6FpClfDIuCmBBDwBisxa4CMWLFq0pi0pkcVuCWKHFgIC4k0R4X2FuW3qMGA2C4DUhc58c4iUXMGDKBDSKih0iwtgWOhSFj8JMtqXFS8gLA9C+AmEqEUBKAwSopYUZgiVoLKeMSmOu6TiIpFciUTR8VGRjKlk6Q+SnWruxwDrltye5AAILgBwAO5fchuUgAAB5E4WeQ0b2BiOfSG8qAPSWDACKiSoUjAsp5pkcKH5Yheoz-IDkUZwSo6J+RYpNF4Kh8EZUdEwobKcWK2fJshQaUcBmlrS9pV0p6U7LsK-5JZfstGWrLvygbPigKDorDkmKhFFijFNuXUBOKtIGOVPD-SFyvl94e5RERNmkUFcGIBOFVigWhdSBO2bxVEj8V7LuMLsGFUdgSWPkf8bta8nAWRWBLgVxCrwlizyj99pgXk4qUaXGXYFKlyFcFTyChXE80ezwbeOCv5FCBNQ5I1xQTjxX5NUlVK9gh81+Ki1oKfKzFaYQjJ49SKWLG+p6NGCFwRS1KqVWsz2YYJKhdZDYKNCzmZTFwMqkUkXViSqqiAkWLBUWlmIkrqRsqvkjIAVWB4aVTRQ1YxArmxxMpkqg0NXKVIDl+Yo5QMQlzsWFl58zREMbcBkXErE5zAHlYSmpD-kyWyyh5UekVr-kvVWy78v1hRSTlTILyhiiOWTWp8JS5gaFM8ljWVKwRBWJ5RaDjSfKUV3ykSpniRw8YK0la-FT8tRAZtAQak2NT8R4Hlj9si0ZNTSu8JI8j0vhWmPQCTTTBNwReaNYSUJZ7NiFXoc0pBDRJmo1gCaz1bUXeUprvGE5CtF6EzW2IRycyzPHmp7WnRNwpFEtRljLVlkG1F7YSr8tT51qe0QlcYM2ryCtqmg64EcJ2o0HdqC1d5ftVrOTr6ogFAEAuf+qTQRqglQKwMVyRzWiKvOYG2DbGvTFgbk1Ma6DfnNTmQbGIcGo9KOvDV9rJ1A5dDVWu-JgZvsogQFaRsOZHKTlbSjpd0vABgZaNLS+ject6XtqgV3654PRCo34qXmyjRcBuiPE8c2oWGrktOrWD4bx1EYIje+RVKXNPMvGxCl6COWHkTyTGtYGpvQocaJUX6wNDwOU1AVvCKEITQ2BE0ujLEgPWxO9CKHq0m6x7T8ZKCbpAdUmtmzKH3RLGj9PNuJIRu5sRDTTjk-7LaC5uPG+tcOHWOzdQh82OagkPm1zechxhWAotZAGLSbKfnHJMKQjSLZlEC1eako-szLWFuRBBgYItcIQIGQc3pbbgoWmxkiUIBFDKAypfzWQCBaurUQgY3Di1pZjdaDOkNdrXkCaK2amtiKcppHRS2VzetPYlOpvUtUIc3N1ACbTICm2JArGZxAbdKD2iPraoggdLrquKkFJhtKoBEVPEi0jafgyW3LYqoNCxaItl26LTloC3qNSleMlUB6HeCfAOVVWfbXKuQaJbhA921LY9ta3O4NtfWVbckF+JnblS2WwHZXOB3nVZCaxMHTTG20RTXoP2vkm-2S0jaTt2iUrapVdq2qlVYK2kBCopAMqgQbCzIGlgaC38N6fpEYHNpkAE6CxzO1GS4tcDlKNgLxfihcWcBrajg3OxObGT52KE0s8WOZnsAh2BAUdNYbbVFL22za9VygVnaqXVYAVyx9c-uRnyQa+5-uho+TofEtFYsuZo0nvETpR0wIceZO+ldiGojU7qIuFLXfZBrk+U659kcQnpJmSg7zcVivsGrgwFrUbZEwTJVkuMAhz7Z84CkH7i94ZcJda2xcGbp5mMzcZZqkiBUpoo-5i0fS0QOjTl0chttyehmfrCV2M6yVB25QMXt5lO4-QKKLEIOXf5BdTIAATi6DtYrA24SQJUrkDdzTtnetQJUoTAegygquiPO4zi2Yj+sF8sLDQBrzehHeTemQLZNsmvQ0A6+-VYjy4aAgl9N3KaHPKMBN6h9c8TCOComjO4aAD2V+L-Ip7GAj94Kk-c72UAN6AdnWNQFi2pKSA6SyBDqGOuu0dbA2YO+Xfahhyf7aSfrFaGXsZpM6VdnaUQDSW-3q7AY-M4+MzpVB1r6sowWiHlFnEzq4FGCL0ADP2njSmpkcYCLRUIB1r2uHQAKN4SUxTAGA2B6YYBOGx5QdOTUfrEvsXD3YHsKB3KMKWKkvAqD+dAgUyMVBL7PJxU61bCB8JOFmsSmPtYnPSSjhU5cwDBDfMCCIaIwEGtDahqLVG11Dqfeg1gaO42IWDPkNg11ACgjzD9A+yQPgJ4MF1Y1naVQ06kcP3ZmoshnBjvm30pAuD7hh7CKR0RakHwAR0Q5nnv38UWVZOynYqkd2ijsp5UqQ9bTd3DAPd1q7Aj8VD03geBBND5pjvlX4gM9PO0XQKH+I1NgNdWusGQxOi0BgwmEdA-ajHQqrCDFKvaUDJIPHSyDruyg8jjS40G+8QfWKIcwKMZG6AxRkXT3vKMct8ETmhwJ-j602SfIayf7HARIiqKWAE2WLJcESNoGPo7u1ShgjRlcdzcU9QNNkd7bPACa3LYVfhRBVPlSdDIO3cyCqwylmVLtaGlwDvIqk1wG6rwtiqGWIV7jFxESHwesCBlbJ6SmQOHtAAAAdLALBqlFCAlDuAJNHSHlD0CXBMeIzKvt5gmHgI-0ME8zshNFzoT4e+E4ic9yVB1kqJ0yVmWuD4B6szuStOuEZOgAAAXjCG8HwnNDSJ6kwrjRMB60BygTk9iYyy4nFwDB7A67K6DpY8AqTWo-UciCQm+TKJwU8QJ0lADNjr0LsOl2IDpcUiMIWyReGvBEmITbK-k7SbpAanlhWp9LrqarYGnaDEp5qEAA')">function apply_rules(pattern, frame) {
    return stream_flatmap(
              rule => 
                 apply_a_rule(rule, pattern, frame),
              fetch_rules(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p29' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Apply-a-rule</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_a_rule</kbd>
	</span>
      
      applies rules using the method outlined in
      section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  It first augments its
      argument frame by unifying the rule conclusion with the pattern in the
      given frame.  If this succeeds, it evaluates the rule body in this new
      frame.
    </p></div>

    <div class='permalink'>
<a name='p30' class='permalink'></a><p>
      Before any of this happens, however, the program renames all the variables
      in the rule with unique new names.  The reason for this is to prevent the
      variables for different rule applications from becoming confused with each
      other.  For instance, if two rules both use a variable named
      
	<span style="color:green"><kbd>?x</kbd>,</span>
	<span style="color:blue"><kbd>x</kbd>,</span>
      
      then each one may add a binding for
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to the frame when it is applied.  These two
      
	<span style="color:green"><kbd>?x</kbd>'s</span>
	<span style="color:blue"><kbd>x</kbd>'s</span>
      
      have nothing to do with each other, and we should not be fooled into
      thinking that the two bindings must be consistent.  Rather than rename
      variables, we could devise a more clever environment structure; however,
      the renaming approach we have chosen here is the most straightforward,
      even if not the most efficient.  (See
      exercise&nbsp;<REF NAME="ex:query-local-names"><a class="superscript" id="4.4.4-ex-link-4.87" href="./4.4.4.html#ex_4.87">4.87</a></REF>.)  Here is the
      
	<span style="color:green"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      
	<span style="color:green">procedure:</span>
	<span style="color:blue">function:</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-a-rule rule query-pattern query-frame)
 (let ((clean-rule (rename-variables-in rule)))
       (let ((unify-result
             (unify-match query-pattern
                          (conclusion clean-rule)
                          query-frame)))
   (if (eq? unify-result 'failed)
       the-empty-stream
       (qeval (rule-body clean-rule)
              (singleton-stream unify-result))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlAf4uHyU+Fm4ZHUGABzPQHQgJQhNMwWVqEALiV6UBhkBJ5Fig8GQ8wAH2x0N8BMRYJywIxEKMoFx+IJFkReVotAI8gYZKxVJphLeyNwSzB5N87I5tLejB0+D4wkk+j5kK20Se8RebwWQKB+B0lFUYNZ8wAFtYVVCWm0EW8Rj0ZUYAGRW0D6+TSzFGNgu0CEfWUFVyvbPREMeQJfCso0wk1Kz3yVXqzWvQg60C9f2B3oGLY+xUHACeqMZlFo3yTQctJmpsPhdvwDr0C2EvKdqawUXlsV9b3kBwOwiBDEDTGDJdDcPaiJVao1WrjMoqvXbne7vcIKbTCrEoFnXZ7+CY72z9Lr-Oa5jL7Xt+hrS1P1cWwY2Dai6dX6-nW8IlD+ZCLToHR7Dl-PV9rG870eFtFUROgGDBZlXzFahcGyOoxH7Q8-CHU0IyjcdY3jXoIKg7dYPgkhEIYJdG2bfZxDwhYCPwOCEJmHcc33LEUOPcQ-2vTjAMtW9l1A1dqOgyhCIY+p30-A98XYisq3-f9eOAh90OKVYqFE4iZmQ6SwxHSMxxjbUpwTVTSmsDSSLI+8V3EUy1hEuiiJIpi920wdy24i9KzPa9FKUmzQDs9THLErQJLcn80NknzAIU+tgIo1tNQDPIdHkH4AA9FFaDt4gi1Dyz0zDDMnTFp3g1E0sy7L8FysQrMSxUKtS9LOmIwNXAOfKZKSRRQV3XN8yRAN8AqTygP4yjQGaqr6R0TNut-byAKWOLyU2cjGtXRF2PeBZmAXRaoqKgyJxw3aoIOl8GuUgrAmqnLOyQ4s2KWuTfPrb0AvAsQdGEGZ5FwB7aqelkXp047lX06MzuM6khV8XDfv++JAeBurSP8gSqN+h7KBqx0pPc9oJ1kcV408LGpogjV8CykgbEgo7y1J1o+HjO4qeeGm8cB0qicilnYzJ9njIAZgS26iXwABHD9Ykk1iIcKqHithsqEw+OWt2ofAboCpJUneWX5d11kDhDO7xDO3otdNvWKhlC3JueO2desS78AXLqXosZWT2WtbIS5xUJRIME9o0L2X3Ny2ZMvJ2Q9XHLX0973Y+-K23Q+iFnfIqW3i9xRCEzY3tYVjPXshpEKBYvPrOx8N4IjtOY8TzOZL9WuVtjyXvreApaGoZJ8qzk6Yew4zekH4f9cbw3rBnkfweJ63sOn3Ah+SIZQEtF3FSXyg5oWlfV+inveK+xvEUmWotNPsfVdOyeNZnZQpkspPxGU9HQeZgP3o8U+vnAK2QgQ+y-FXDygdrxBz4iAxuDBaATBIOAvQtBFAWw7rpLk3cMH1y2t-boEcwHoMwXHN6+h8Ffz8CQ1BXVqHYKiv+ahV8pqImKHoOmihLaPwws-bU3DpyDD7o3VohY3wrDMm8SUYwrC8OopUCY78771F0A4dIsgrDKJqNMNR+gGy+FuoQVo1gpCAxHtw3hxpq6cKsaAeGHJ+igAXkiaQkiShrC4VlCo4xb56K0LoAwjiaQAC5wzmm8TwkJBJnGRJMfgMxFi9CXisQYMoMSEbmASUk3AI9-xpOCVk8w4TuE+AsFEGx5YcmUHMXkuRBAEo7AwSwZyCw1jDDIMQZkOhQBqkIFgHYfAThnGoLqJQrhQBi1AKCOizwxZoAWRLECU1ZxDz0KkTMvi6K0BIDoLBKE+HciWK0OgeyLaZPMM40U4pJTqkuaAUpctAYbPwFs8+l5Tm7P2beB5Vzz5fPOUU4pjy1wdnWZs+Y15AU-NEVNVx7TCgKMOMQTe6ggaIvwA4G2AAqTFOKyJGICpvWgyQyB9U2ZQTwFRKWc0zgSRRBwyB5ExQ4NZ1BXml2pdnQCaK0aYo2kKYQfAZlMpZWZdgrobkSilNYjkMlpV3J0OUmkERQCfA+PSoUiiYVsvBRy2lUKeLMoFYY4pwqZm6pdBwRVsqtXFIVQwMUMr1QqoRmqjVWLDkgpkv+GFZqsmVI5EG8wIbdjfUgiwOMlLuWGsCoDD8crzCMpNRKjg7LOVUqNUsPlGKzKCo5Ba0Eqa1iSptU625drvUcg+K+f8uaIwdL+QjSJZ0Y3DC6D0ONEkNgZJBf2nlOah78vzQW1V6rcCaurTSHVOy9l6oOBCt5lA7jZuLeKtYY6EZFqtVKitLrGj2oAJBClrRGY1G7yhYBPQOoUkTIndoTesPtt6B0KRLY0jaN7Q0Tqnc2iwZ6-Vzp0BUHtbqhRht8GGsNt0-oHE6IQMZegEhJqzmca1CYSVksUL0f9oBnFYfJXh8J6HXS9ElB8Egi48P-Io1GmjoKWAnB6AkacABVBgyQkFSHEC0zSioAC0Ans5rEJRU0sYY4MIbGXKRRfG2lppcSkA0ZlDC8EUf0hw8nGKYr6IRnDDZFGKC6VpxQrSdOqfI5GqjZFCFKaNnkSUf1SRBVGvG-46x6UyUia50DT6aGOadZKIEHi1JBkC85oEvD47LQi8FgLTnguSI83oOLwJothn-GlqL+9VzZe0LMYZI1liePKMcEaGWooZt8+VwMNC6bMCdSVsLfmPMVCK3VrzYZImuOy81syrXE3tfausNhzwxRmadW8JCQj42lbcx1zzhzjGmNqckpbMSi0cOyFwjY9qaRFpNi8mr6xUNCl9eQfA4Hg2-q9TRxReQHD5clJQRbXDhsVeu1kmSj2MO2vua+3wzi+CAw+Axiw4Sal1JHvl8KeQt0QevR6ydd2fU4Pxp23bDjX3OKh8k1Je3cRulW9Dnup2aPhJByjr7oBoMSeYST9bWU4XPAa1uDUwr8a0Fyl4mrfwPudcOQ9xLwInsi5Cy9t7NXFsBpeCK1L4vQAAEI93OqVahx1wrS5JEQ7qBXQXgTJY-PryL6TseA6yfz2ro3zc-s9XLmZ22eh-D28YC3vgdg4q9zE4XBugRi79wV17I3li4AF6NmJP3Fcq-LWrqUfzrkMC15QHXSHfPg6FLDp9Jv4sZKPfn8wMu-mlIyo1-QfPAbh9l8jzVRaJvs+myyK30uRuu9AJ77352wy9BB7WdUvQ3U19R-KsMbOmsV7D9b6vm1bqMGT6nvXihuWKFXVPrrUVFtloTL3ggOhcNCmcT3xY-eYlPIBEsJfwxOYxOByN0-4ZOFL6MDf9Vpf2faG+IobnnYvGX46KvovIUcJJ3PQFfZ-A-V-MvD-LnHnQoFfYYblGXcwDvHFe-REe9SmUAG0CJTHMAl-OfPgbXDQJDf8J-F9d3QdUAzmcg93Agog3XFJZaMgjPW9S8MAmgigrJGXYFMJbfY-PfMbDMYLAgQgLQYkSsBIPQDKSrcsSJDKCoQwdgAAPgkFrhZzAjeGCAxCjgXBkOHCfgniMn2mjiYGnGCDnmpjEDgjID-mCD0I4hgUAjsJoXGGPgaQ2yqX0Jrh5B7j9XkQ2BfxtkBnMUzGVEuxTHv3Gj8M-SaTAGUiOGGVOHODgEQGQHQFuE8BWVZ3fCjnjC3AyAoWrg+C+B+ByJEFJEtEuWcV3kxEuWAK5GK0qKyQIwZGwxclzHCizGYjzALEaKdAqHyJ4I5HqMZnwhghCn42eidCqPVT+FGJonGPokmLBg1kGLqIfykXsgsnvmmOaNmLRlcwciWJIjyIYAKPWJvlymfD7CaIRmcV+DRifE3BuNWLOKGN4J+iCwBiBm4UejyluIgIeKBhphRjEDRl+JBn+NePOKyRGJmnSghIxmDBmNcWUj0HhIxxG06mDA4M4IxLcMtFxIoLWNhPDDdgrgBKcX2KBnJLNlpI9mMPTkJPVTeIuIHjRWXl2LuOpKPg5NOJhIRhGIukZLbi5MBLmOFJ0NFIhAGNZNJJvhUQCRWPJBmMmAWiBIBGYD0B-kRL-mZMGKJOKVJiGgki6jAQgXJFlIKPeIJFKRIGYxwg4y41oB413kzCYHkAylACE2pM1L1nUMfHfgWhiAqHNMti2zNByASBRgyGsDRJiFd0cRkjVPxijJjLjJsm1MYFDPoQDSHwdz0B+gSC-1FFe0zITLlVnSZVwGIA4A1NyJ-jcITMNMBzH1pjOO6DEEOhYIRh-jahGmxObJ7KFHNJbIoJ1I7JOGeLjArNl0Fi8N2nChygoEhGbWcUXKfUZkazjGXJrJtOGNAH+2VXxHzOrSY12SzIYHY04242-gChLjM29OEzVLE1pxn2JWFhNKfS6m4QOCtOsRkiQRQTQV-P3P+WOUyXCUiXrK1LDjoRBFAv-LHJpGNO+FNLGFqlfHNKiQtn-IDPECBMZj+m+N-ihJlJZIKPXxVk9Euy4TKKDB5l+NTPVBxIooCOKXuPor0EYvplGNYpJNJJgoYtxiYr5n4reMENXEIvpPNn-PpQjJ+GLJLjLntl7n2yziPMH1uwLMRGblThFJeNzkTLRyiiEu1OIX0qlMMsIFwsGK0vt2nVAEUTgv0ohCNyxQ4D+TMpcsjiumstsoks23lx2hNHcvMvDlctfB7TOzPh8plHcpp1PL+RkmkpNndj0BoxTl8pMJstjjKDspiTpybFulQsoEYCeJYsLAOXp2ouOT0CqrAucQgqAI6Ex16BxXKquKlAJQqFKs6rnClB7gas2G-QcWKoCgOHUFmHoEWKchmAtKVl8AUpkt4nUsZUxCOA4HpOyqZKdBp07kLiUtLhWo2rAqB1UJ5GLzXGUHZ1BCmrzC6SOLmviC6jioMv5hst7R7MmuZAetmtCiZlcRkuHP7SytbiYAWotngSg20scoOvmOEm2LItXJBQI2wiElomOMYi6Ncl4iuqdzCyeoBuRIHTRu1EOKRrEIGhYnYv7XCWOUH3fMbkIqXn5ORUgmIGPiew5KPloHmmDDdUUVzU2t3nupmqJuWK6mPll0UX6o3HVBFr6v9C6pYuFtlxSq4uPmQoJDbJ+EnK7JjmFoqDlu7AVrwskoIolNCvBo+rksOR6mUzJjQjCrwzMt2l1ORvSRBrYvwp5KeMOmMkGPpUUQkgcDMv9pfDCv1MCt8CePaKBnCgju3BxsZFYokn-LdRkgkgtp5IpomJOMDrePpTjpToTuzzzqxvqFLpxJiTMoruerCmz2joKMNIKrVXMDs0Ioxv+uWLZuLq6vjrCu7olucmrsJNrq4uHsptmE6P6LYtbsCqbCGRsgSJGWSMuDSJuEWSyI0JouN2kKovaC9IwxMQ-BztRMzP7I6hYD-NAC1rYsPrXm1CRmLNsA1GUiGBoyvqIBvoqHvrbrsyLJLKdTLOxm1PsPDFHEMJnOnDoFftLI-poT7IQmvvDnAcfummFjZm1IqEplyzvOxl5v5r4AgdZnJj4AqE5nwfDUIfyM7OnPQftrDDIfZgoamV9tcQ3JSwgm3NIfXi4Y-B3h4ZfBoRCudvCh7QwfHiwnJqfTMNCokgsOeAEZCDEG3ND0TQwfGmipzp1k3k7ENzoanMOiDqYeYWvAAduh8re1MZqoAX0EsYCj0e50XmDJGztt8DsfEEiUWwzvIkUXdGsCLmUqMYNqYA0Vrl4Ds1RJD1LtvtNIgciTicG1qiQZG3jtetbxME8c8IcKrBl2ocW3csyYq2yb9lycoIKaZqml1tCYYeSfc1vryHbCCaLrMZZi3CBHdH6mYiwQwwIGBG6b+AuQ4tatGBicaOpvidBzN2aY+D1oFMFOmk6e6biaMAAB5lnBm9dhmzrzrzyehegAAVBkJTBgTMNcVBFEF8I4JlFRdUcJXoUADwb6kxYLLXHpvcLBDwHeJ5l5zg4kd5wg0PKG5tO0h04505vgaQS5oEa5iG3eclGoB5hMZ523C3QF4ED5tZtF35tF15kkIED53Z32-TQezo6mu26kW6fIzUBkPqWxoUW6H6sGKZ1raqky2q7uNZjPe4s4uljBDKzg8wZxgxkLOpkxt4vZpZ0urfBOKZ6VvYy8XZns8JFli+BVtdElxKoKmZfIrfQJxS4uUuCVkR9S3wA5z5xka8+kUUCQEaV8gkJKkFZykbBwaxkPAqzl9odVopuJ7U1vbWkFIp9C7gnVqDLxiigVhlxenex8Ae0uqOyl9zKlolZm-lklGNyixy5lqaq1yddlmK+c9COqnlnHKNzNoV93UVpLU1vsQYxV3wNV6muV5aMtwHZxM9ZV0HVrRt200W5kDV3ps3f8bVwq9Fpa+XfVk+j0YJk1-W6cot9Ve0i80um1t++1wMJ8sFAahcR1mGhyv5V1kad1iy4PYrL1h1MMX19J-1mXIN4pEN78gNirOc8TCNip2lytgBwZOIle44JIqAFIq4dIjAON9CbKYQaMkQWM0ByiS8wo6iqBmRmc7MhMSD6D4QWMpRxUDD9M7QYsggBcE4hMphaBQBJYCs2TFFDoNMmDjM7GRW7CEJG2U8HeCwU8ftL2jkG2c8dj7JRYLjokm2c0fjsZ1gEFbjlC9eCcMTicITlj9eLuHkHeZT3ALJKTgkG2KTeCTMHeHT+QC5hGTT3wG2A5-jg5yT4T9eHXXUCYPIA4IYWz+zo4IUEziwG2NwMTiwKQioTMZ0FQr0jwIz9z8wG2ATbz8wXz0Afz5Q0AL04TEL6z5+nqjkaL2LtgQL0AHFGL8wULzB5+4ASLmZeQmLgL+L9vXL0AfLm2AAUmK-S-K69Nq6q5q-XmtW88a7i+PtdH8+S7jF6Bj069K4y6y5jzK-676HWYa5G6a9AE2fMD68U+fvWbYEi668y4q9W8W7a+fqUJm787m5UJ28m96CULW4qAJA26y-O5O+W4G6V2K4q98E2-MCVwsGkJCUMxo7w-o7g+xqmfYBiV6kYIdGGDo6w4Y8ojziMwh9g5-loDyAACs5lNrgelBLy4uRO4eHZz5-xZztbfvIf-uXqGwsBYeoP8Pu6mPtQbYjyd4jz8vhXTP15IAGAZV-o9PLu2eOeS4mfmewubONA7PYBIB+PnPRf+eBebZnOABRMTuXqX5nm2AAOXkBV+K7V5V77Yt2+45to8p7++HriaB6FBB5FU28vBIfB8N+J+p717BAN8w9g+HtNNN45HN7i-GhIbNyJ5d5RWgjzjsxTL96h60hDNhZKggZTJexuRIFwEzCSyR-kCyEmpyGLirYHVD4I5UBypI8YCV4JDASj+4AJGqddn8EUAWfocOggdqYXe7NvWqFuuz5-gaeHOz+N81bw2b6a1b5sjzGR9R4qA75x4Ru3ASYfbdFnaOur+MZEblBEOn+sCBE3maZ+Ib5fAcFrXJTn7CbjDJ+XsY4A7OCA43uuEwHA6crUeIiEEoG1jBHqCSBIBHlcwga7lRHRG0c2JiJfyiOvDf57YfmlAP5jUUJYfNv+82X5C1UgFhYNoDcSwgkCSDGx+yzAR0ISw5Znx5A1AagCiAoC5FQQoZHAeVyOAeA9A2A6gFvl6BPND8TzR5tODRYUDC+WSagY7DebAgCEt0GqIQBLgYhCWOZcBAIOYo8DYuxgI9JG0xb+4fmfQNFnA2QEfBUBLFEHsX24ElwBBUNXFgYAHwIIpoqg0uK4EkJgJ3+uCHwkYJfyJha4++A8rpWwhGCsCVoS5IWRMGrRrwRgowETnGhuDlcZGERC-lB76A7BGGAYFYO5I8Nb+r4B-oxGf4jwzBxScJE4J0QfwtIdgm0M2j9DFYdS9MSEkhDcHStD8MgjwHoM9AsBJCl4bCrkPxb9onmoAxNkNELCXlKIpFHIagiAETshQ1QtFkUIMH+Ce45QlobeGebNoUwIQlqnoL0yxgd4YCcHkQGUoGDaaHxM0JjliFUkxhvQUTr1WwhlCWha6NwdMJEHFCSAKGNAm8EkHkCWh5ggAOSgCwEuLK4ffkkEfMjB1DIodrBIALRXhogyNmp2Qxew0QPQS8B8OYH9ogiTqX5rsl+ZIJFw04WcFGl+bmFoBKw2ELwIBEfg3hI7a8ICL2GzCShYFKCkiIWgoiWAfXSgpiNo4zDS4gInOsn1T7UB0+UVTctlCHggwokxgxIaohmzM5Ai68fxJZHawD8PaHInhFPxB7Uj2wtI4QMXHcqpkmRHYdQSyPmH9t0hgYFkVyOfqDBHY1NHosNGVFpJ78ZScvoqA+E7gPSGUaUbrA7Asj5KwVNsIqROJpJ7UzlAfrK08qnpNRdQjIfyKyFIk0k12WHjKI+AahzSDgEHkaKzAmizRIMOUT6KTJhg2+LbIIaJxfyRI2CJwc0QGOAq4U8e14RkWmOjBhkFRTbGho0OdFkZZOSY1MSDDzH0J78cY5iFQNFFp8JR9IjzCMPOo+MnRlLPDCKJT5ii6RUonMZGNhY-lmcBYiHOJwaEA9mI4Pf0VWPATV5tKCleofaOrQyQbY6ot0t0XdE6iRx9lFHPahSpZRGa41RuA+SDD2J2mXhaCpyIgKpJrxB5S1rNl6BOlbyr+GqBjDdCZgzMOHQSGoxuaWiLxEHTHFYhfwFI7xvBB8T4gTDPiXSBFL0aDGv52AIaDUYPh2CjT1BRCR8KoDoDFAONmcGDU8ZaKCEwibM1DB0IGNQlUZ6gbhc8ZG0vDCMIa8onOhRgWK5AtSs2XxoeQYC2sQGxQSgOMidQEASAvCW6HQEUDqk8JjlBSnYhHHmsLAvuSLAHkixB4bGkEqpt63EDZYt8R5GjInm4kaheJ-EnQIJKiRV4Kc1-MSTnkNxw5xcCOCpAuOtEY5Rgy45Kt1kxyiSCRy0NJBUHclk4Rxb7O3HuMcqftDxhVakGGhkg+SrEOdcQgGB0Tv4xQunFigcG5QJTDO0YA4HSgAnhhS2lMF-KlMzDpS7ghge-MmLbaUwp+ihTbjFISBxSQG+UpKQklikKRyp3td3PVI1AZT4BgDMIEyFg7tTQQKUz4GlI6mZSvhzggaY1VADtT3gRU3EeOITgtTb0lUlQpKFcC9TzIQ0gqfoGmkZTDAU-LJMtLAESFz0vISmF1LszVTXs8EcEBjwj6YDi2uwa6Y1j2itAAwfA46ebzQ5Q1CmT0rcC9IkLvSAwrI0to1KOEQFmq1gnqZWD6mbSWKfyBOKDML6HS+Av02YNVMBk1S4or0lDOdJpZv4QGnOPCLGBjg1Y0ohAKvMHRo6aSOAz2QrCHhbyfZI21M1XJWgBxUk2y-WDpFNI0CmTRhGgVwLMAXyWSQs1kv3GbjJlV4c6CGAWSnmIKL4eZ3M8mWviymb4ghO+fvG0P+RH4+8e+PUc8gvwKyyZ4BKkpvg7otUQCCGY2TSHuL4yOc3wImWCBjgIYKgEsqfMcMck9BLZ9gnAqMCNlJj+ZLAQWXLJ7iWz9pQof8EbLDkchpZgc2WQwTYIaAgRAvS8JHNan9puC9+bWbvm0HHjqY+oYeBMFmDETkhFEmYBUCNHOzQARopAkLho4L4yY1ZWsq1R4GxyhZFchWcXPiAj8Bet6aua3kzphh65u5WsmRnVm6zwZtce4cISIBiFQZyGOWQ3JXK+0bC1gJzHTFAKJypGJw9gSCATnBwc6-Sf6W9M2Sxo3ko03wIygcD9JOUp8zMFQwkFaT90SqfDBdXU5qsmJFaU0ZSnzAbzFqckmjpsgcB7z1a6OThJsiMCH5BgoKTZIvyICgAjmAACVl6UAAAguAHACy8AASkc0gAAB5FXsgA4AM0r+0LXXBMFLkvVf5AsimVlJXkFYxQGUKhYHMmmHy15GUPMRQsOBMLAgc0w+YDCBidzDg1DPhTyHIWUZ5qihLKYguQVoKMF2CvBQQuEVEB6FdMDheIsoUxyeFGDQ+ejLYWUBv57MTRQwDNwzhOFDAATNVOQlWMnMYitCVwqMU0KJBoMq6RoBB7-oyZKIZQgxjGR0Rkghc2xZRKQgeLWMzc6hVPgfakKxkASiRQ4qnwJQl+0iygJgrYwAAZWXoQtflRMrGRAKJcEC6ixKa5kbOhWwu4XGKX8rCz+dGDyWlLeFyi-hVogIBdQaEIioGNUogaJLklaS8AEotfBsKqlVgfJQHK0VZTLpvffQP+h0Vzy9FBimpVHI5C9BggFi0GSmAfaTLsZfQdcQsqsBLLsZKYX2imWqUFKsmIy5xSjNcUY9-0wQOLgxhTLpQtCwQDtC3MCBV4IlOSuzocqGVXk4l0UqDrn3v6oj3hAKjHE8q+V+tEZGDS6Wcpul9QYkqslQn8lGU3U6psM8Za+hlTkT1FXC9uSCpeU0ZDpBygZXoGxVhLuChpMFdjN9pCV-lRIolQCvDxHyUMlM-XjLBiBXyiA1YT8UGFJG9AqVHwx1jJBZWMBH5ceNmdbN3i-KqAHw2lUSPpXVS5pgqlkPRNyqkjyVEhX2oiDYWqYvZWUokDvJ6GWz3B2IDYv8KYKJzfaYIXZFUDMVB4Slgi4xVaMdwyJP5qmO1cZQ5CKJAFHAaZcuh-muqaciiXAfaUjp2qGV7vC3GsoBmQoEwdqnZRIX3YWBjM0aN5NCLMWxqAwn9EFJEjtUKFyuga8RFhWtVyr5xh7CNggNdiiFWgDS1ebMBKV2EmVjvIxQ4AgjWFbC8iN1ApU1W-5PlbqmdAAreQOBvVpcH+UYv8kITHeeayOuMGqlhrAcEa4+cmoTCLLLFo6xNZyjMLbLLFhPTHA8pmS5qAg+aqtQyq3TOtxMuc54GRMPW7JoleUV1VvKrXkCzFVs2JGuGwn3rXV9+C9XaofWYrjFpE19V+tvWHILVlakNS9ltWPrBaNHRkBirsWQQHAiS2RVgpwX4Lul1IBDegqQ0KKMlWasxTmri7Qbr1hwEBVFF6Ckoc5wfV9fcvkT0pgN1gcYGBs-nuEZaUG3ABqDyXwakFSS1JekrdQdLuN2G7dVYDw2bcCNeS4jeWFI3bwmJh1Y1ozCR6ZlQKd6uqqBUKZnsII8mlsDhQga3jyE1DLKupqeDDjyE+EixllE4H9wjWylODBpvg6KadV40lTToOeA+VrNTwLTVo08lmaXCmFESK8Bs25U7NkbUCbpqc2KhJAQIKOBqClWBaKmOmghHZnU20BZEBmlsLfVVVAy71c7OTZmRS1CARmJs29qDPvyJbZE+msQP5q6i5bPqUc3lQCvCoRwqt3FcrYZq9qjVOC6WnGXKFXUzhQR04WrUSKEblaktv6q-tZuG16BXNqW2VeCvs2WbS4k2+Dgts+ov4IZHxKGSnw2mJTUV-afrW8Pq0wQ-NbmpbZmI62taaQh0sbaVp83HaJth21LWdvdynbgI3W8EX1vorUq3h+nPzcNrJ63RwtuRUctbiPUQrTl10txQOjhXXpt0Dm97VKv+1oCPtC0MMnMpBRisRCs89ZdwWCRtbzqaOmeWjLnlF4C89NWuHnhpCnatg3WyEb8121c8JA+ACLcwF+1ON2FuAtiRJMjZmVZshrVfoj3BKb8mAvtBseKMlGJ16E02ild+BkiQqwdFyx9m60y4PJVFbOoMMxOgisSgwPZLYXOPDwo6ZkGQdrAFxBqWsDdms4Vk+JvIwTm5c2bdn82vQF5EYwuvsYowRHck8dohAnZjtbwPISdPIZChTvIjdandTY9yjTth0Aqd4we0Xf5iiaKIkgpogzhcw4AABOXgLBleAqBDODK0EMJICiJ6GV2gVwBiAqD2rJJDkkGT2qdb2SZk4gDDJwCXaJ69AFwi4dODQBt741AUv9CCkb0IzbJNIfPZdP+johLpcUM3OIGEx4NQpH7CwAPucVD6LQFQePb5vgy6d9luAEImEWNwbhLVEutVRgw62U6ukfQYIoZ03248eV4egbaGXX2n696EeOzAOI7CI7CyDARNaBhYD0hOwfPetcQBlgOBQx7pBYKaMf2DLw4qu1-SZh+bcA9l7a+XLGRICf7Oe3gjgLbD7xMAUw6lRvb0CEzCYQDVcgFS8AgPEAnyEXVMGbsb0vC6tMsTYLTlhphoi0IajCWiAmDYSWK1B1DBevGBXqAN-661W4XYM04i08BxAyXGQOaw0Di4BvRnt059AcDPpO1S+pwkkGcDS4Wgw5Wgyw0YkWBuQz6Q+G0IVyRwHQ0Jg71TTpDWe9GQiucXg7b0kOigpQZpXe01dTADXUSt1367DdcXa0vtNp2uHxVwIdHZ7oBnHJbw0+M9aHDPbMgDgUgdEJKETXs1Hef+jgAAfDEgGN5YBl-YmtxbQGt0x7QMCLR8MyxHY08j3dnuCPiavCdVRbPlrFWJhaASmXXMFkVnyBcMR6PEeSOf1OGRAuRQo+fCqNm4igHhzbtaRzq3L71O64lYHPLlArClF8mjnBErCzArlHAcRCNFCzSICsTGyDfrzoKLyayDgZtDsbblAqHFrU5tf8D-jzHfqdhPXb4D7mMyKmOx4eVQLHmtiLATVSeS1R8OuE+aC0S44sfkT7T3dGOgGY8dqhLyEoIB5-RcOLl6Ae55gAADpYAtCYyz0Mgj4C7JJCxyPzodz2y3oW9JkD-S4zIiQmpV0J0ubCbhOInkTSKjUBhPROHCN5owMgKBjNzvJIkzJ0AAAC9e0CJ+GCibpMYmBjMXCoNydxOA58TvQYQ0SYbA3pogERyCNEZ6DQmaTqJ17IKZG4bDn6zR6cHkF+bUBfme+DYBcIbA7ASTdW5U5NlpNon1T2JgrgN21MJhdTsDA03solNLggAA')">function apply_a_rule(rule, query_pattern, query_frame) {
    const clean_rule = rename_variables_in(rule);
    const unify_result = 
             unify_match(query_pattern,
                         conclusion(clean_rule),
                         query_frame);
    return unify_result === "failed"
        ? null
        : evaluate_query(rule_body(clean_rule),
                singleton_stream(unify_result));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p31' class='permalink'></a><p>
      The selectors
      
	<span style="color:green"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      and <kbd>conclusion</kbd> that extract parts
      of a rule are defined in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p32' class='permalink'></a><p>
      We generate unique variable names by associating a unique identifier
      (such as a number) with each rule application and combining this
      identifier with the original variable names.  For example, if the
      rule-application identifier is 7, we might change each
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in the rule to
      
	<span style="color:green"><kbd>?x-7</kbd></span>
	<span style="color:blue"><kbd>x_7</kbd></span>
      
      and each
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      in the rule to
      
	<span style="color:green"><kbd>?y-7</kbd>.</span>
	<span style="color:blue"><kbd>y_7</kbd>.</span>
      
      
	<span style="color:green">(<kbd>Make-new-variable</kbd></span>
	<span style="color:blue">(The functions
	<kbd>make_new_variable</kbd>
      </span>
      and
      
	<span style="color:green"><kbd>new-rule-application\?id</kbd></span>
	<span style="color:blue"><kbd>new_rule_application_id</kbd>
	</span>
      
      are included with the syntax
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.)
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rename-variables-in rule)
  (let ((rule-application-id (new-rule-application-id)))
    (define (tree-walk exp)
      (cond ((var? exp)
             (make-new-variable exp rule-application-id))
            ((pair? exp)
             (cons (tree-walk (car exp))
                   (tree-walk (cdr exp))))
            (else exp)))
    (tree-walk rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlAf4uHyU+Fm4ZHUGABzPQHQgJQhNMwWVqEALiV6UBhkBJ5Fig8GQ8wAH2x0N8BMRYJywIxEKMoFx+IJFkReVotAI8gYZKxVJphLeyNwSzB5N87I5tLejB0+D4wkk+j5kK20Se8RebwWQKB+B0lFUYNZ8wAFtYVVCWm0EW8Rj0ZUYAGRW0D6+TSzFGNgu0CEfWUFVyvbPREMeQJfCso0wk1Kz3yVXqzWvQg60C9f2B3oGLY+xUHACeqMZlFo3yTQctJmpsPhdvwDr0C2EvKdqawUXlsV9b3kBwOwiBDEDTGDJdDcPaiJVao1WrjMoqvXbne7vcIKbTCrEoFnXZ7+CY72z9Lr-Oa5jL7Xt+hrS1P1cWwY2Dai6dX6-nW8IlD+ZCLToHR7Dl-PV9rG870eFtFUROgGDBZlXzFahcGyOoxH7Q8-CHU0IyjcdY3jXoIKg7dYPgkhEIYJdG2bfZxDwhYCPwOCEJmHcc33LEUOPcQ-2vTjAMtW9l1A1dqOgyhCIY+p30-A98XYisq3-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-bqz20MCO4vNdvEG4Npm-PfZG6kzHGSwaTNec47C1Pqmw-qD41yvEXmNIKSzrH8LZ3TWwjziyjF2eMhvO22xUHStRCbLdJFS9NGrJdWm4+DhD7H2DKVtNsLAZHA4Gj870Pee066sfUn5g01bY3OqfXguI5DWt92Njuuw0W6zk54+KOS0ZTLRWjIVbB3HKHnrioTupT-o4xtOXAUkVEsR0r7RLqeopGsPO8Leg6tOd2iy6lbb8c0mCSRlR5Suk2eWVHlXgXAoLocE5svL5isyda9SLpnigbhQb9uMXLEhUSXZaVmSEk5OKiRcLop980W8Lbz3pv4+rts4Gr373J6ENBnn6zsKC7m-aJX1HyIft5flOZyLqjleU0z6X03k-E-F-MWeUKJzN+F9b4z2yqPe+vNNjETZCRUjziyJXAKJoBizKJJSED0Z6AZS8IySqougcAQEfgj6rgHJHKNrnLhwVBe7n6lhhg2wxpxqig+rYxDB47oFEAXJYGPKZgD4ILsLRqnCEHlrEGUR+owEjajgTzah8DTgEHxosEzBzxTQNpnIUHhxsHJ54HCxsx+oVCUz7yrg-ya58DsFRSszkw8GgCcwKHfx5paKB6HQqGSFqHSEaEVASzIGJCp5kxoTX5LoviqFCzai9Dp4fg7wQTLo0Kpa2HhS5bGEqz8JcFxj94JiuF6w0JhGMzLrLDhaOEAIxRLC5bF7yaxCbydjAg-D9rVoxzBL+HtD-hf56oxaSIBK5HDZRSXiFHy6pG0AfBHyGrtSjTn5HbGhRRwYlGBi0FRBprujWC-aZEB4DoLgODS5gGKioGNH9TMSR58pxHiBwY94zE-o0IdEexL5dSrFNAtFnyXibE6HHAjTFYbGNFbF+ytHlj-h7HHYqK+7g4DEGFtzrEVB-CR55Dth9HK7lEsxbhAjuhTF7hYLwHTQ-F-EvGTZmIdDzZ6ATEBKLHPF65CpvF1HvIYoEDAh-GLFGAAA8wJ6JuoMRFstaSSJAEqfQAAKgyPssyJmJ2iiE1rvO4jUOqLYr0KAB4HjgSMSJKECGaifOsUYB4DvKyeyQXhYhAdybyQSRsLWqJiSWeuSZSXwNILSd7Aye-MIMyQmGyaAByb4FycCJKZidqUKdqbqRYPqTyXwAtGCckU1AyG4h4rPt4kvipr4NURkJqAyH1GUY4rdIbv8YyEsW7npqOiNlBgGW7maUkn0p6RgpnqKRYDrGkdyfcUMTkSKmabYj3uwK6AnPyWaeYOYpeGCQWbkrvGdhfPyfMNeDaW1u+slpGlojmQgR6P0foWmUwPZhyKehaC6QmDKvSKKBICNG+hyOVhTq8mmqsQ4MUZMUlrcjJP6ase3scSNPngmeYMudhpse7p1nuWfForGd6S3jHo3Jfr4s6cxPCbgK6fWrHjGS4seUnv5puQFP6XCTXsGS+QSLRuGZiXjtGR6Y+fGQXkmbUSme2dkX2EXnjlmUvs2efP+fjuYh8K+MWaHp+eCbclmRWQpFWdnIBLWY4iGo4uZk2UCb0T8LGlppBYOl2YXnKb2Vef2QwIOeWsOYGM+muKtguKOTSOOSGQSFOY0TOS5ocnOS3q8ouRWcuYsX6icXvh2luT+vJWubufWRpYLO0IecBYUVgD-tjH-qcAAZcPIjcBgGMdtGaB6nag6r6k6kwgEZwVhNwYwNONap6sIPakIc8B5bZdoLGgQAuMUg5VAvET3MOnKGmn5V6nZYZQ4GdFYjbKeDvBYKeFyuuQSDbOeKleYOeBlSvjbOaLlZCd0AVUlevBOCVROOVRyDbF3DyDvA1bgAkplb4DbH9AcCoPIJmDvJ1d1TSQjG1RYDbD2blT2a8sNeYDbEkO6BMHkAcEMLNbqPNUcEKFNfbnGL0G4CVRYFARUJmM6AAHygCqoeCDUbU2xqq7XmD7WgCHXsAnWqqaoXWFXrzrYVA0h3UPVsBPWgCLb3XmCXXrzAA3UWoZQHXHWnWgBgCvUVXOEACkYN31UNqqCNgNoAwNzh8Bu1KNj10NQJh1b1zhAAhC6LjRDfdajaAGTRwETfDVtVicjZTT9X9TieYPTXVevFiWwDdXjb9dDTzRzVjVtUdczZDfjaqidcLcTaLbzZ9b4PzX9UdRwFTbLX0CTWDdDb4ALeYCTRYNAVYg2NFTZbFQIXfgCewI4r1HoKeMMKbV5XFZRHnCbTav5T-LQHkAAFZ0QJZW1Cg20xD41FUO3eVjQwKATDobUEgxWO3m2HANhYCu2eXerU525nQ2wGY7o6A7xZ1SjR0bkjXryQAMCGb-S9WfUl1l0lwF2F2bV9DLWUCwCQC5WN3N212F0zUaArUACiJVjdPdHdG5NsAAcvICPWDWPSPVhXXcbdXrHanYFsJIsf7RyIHfjbsUKgvYupEtBC7fPaHTvfhDlj+qvTSOvQLeNCoVvYfYJlEnnHqm6tvfHSyP6mAiVHMfqioKXJKL1uWiwLgJmCmV7fIFkKdjkMXCBcWs-TaioHFiFUmopRyO-ROKmASNca7P4B4rRYdJ-aWncTgzHHVmDuWnoM-T-B+aWR0LfczpiUgwSCQ-oOQ3mp7T7UIJHlQ8-czrMfQ74JRW2VkXRXKAQMQJRUCJvG8fMoI8MQblg6mVBXGInQZc7ccMZTIqZdcJgJZTjEwMREIJQNrGCPUEkCQCPAUp-V3KiOiONOY9KQiuNP+LYwKQmJQMKbvOKQaVabbRHYkZUmsLeLNufI434wQNHnqjGkkMbI2swI6CSOAp-fINQNQCiBQDmqCMakk1DUcB4HoIk9QAhb0KyeYoU2WSaR4Hk0PQkoU47B4-E-sTVIQCXBiHE8avQq00CKxo0w9cYPtrgVFBacaX0NqRE+lB8NE2xjbe-Q0yXO03ZsaQYL0PU7CFpq4AkLk6ghY7gmNmAlhcU1Br0IE4iGdDs6ADaDkhZuGf+Ds0YLiEE9eNczTa6AMCmI4uYt41WCc0Cc8zcuYh4Xo6+IY4xCYyPDsyJupm2OqVSkhCc2c1yn6AEsyvTIstCxs3Y6UgmEMx4NM6XKs+8-oPhtc847WqyW47PkNPYoizVDsg8yKa8iS9qdi56CwGs+NAS6i86m4MSws2C9i30FVe0-bUQCs8y2izSI0nBqCwiry70MVRUGdJeDs9WYBNc4K100yyQAkFhZ8rU+s0CLswmAAORuNgLGlGuBMWmSk7NLNCulzawkALR2vdN9MBHhmBhWM9CXiOuVMYbrzMg53ThnpClIKLjTizgsAhuhFWApiisQm8uesfj2tCr-heuqvCsatavUM2t4t6ApsEVLC5uMteuWGgAgNgPUAQMn3hbupDwgwEY8J5HoSUrFLcL6s2xNuCEVCUvjJIQtu8MWA22lvtjlvCDFzFbVu6wdizN1sBNCiNL2ItuvP13POOxX7kulFZQxs2KIpZTFuOs7jKoZTju1stu3aRo3yQvNsbtdlTl5rZmRZChkv+KBgtqUSUY9tXt1km01sdjRgCoOA217tKoLCHvZTfuR74YtvqUFa3vwVfPFWLtwaXigcTsfAagmrh2AJLDIcgy-uBqbsWC2IUOwdPNVUIcnAoe4fgKBNEfMQFODvgMjuVtuEIdQk0d7h9vmADugNDsVtjvYeTudq-pXsZvtEwfMX8eocgZ5ztbk4RrgvDTPuQd6YyQ2yDAru+JruKcfveayf+aOY7veYYOKgPoMYbsNvhhwYLv2PLRWcciymklCIsXXq3q56rgmc+WKgeFNbTvmdWpQm2cQZ5vTuBM9l1vThXryriCuc6PLqLW2mPg-skCMSEDIJogTA6Bij6AntfH5GZiPo+dfNhtJeLN0HPAOhoeJeMSa7ZfOvhVedgrTuiJgAYIsDOQLBrDDDQ5rjsVqiED6VgCSLGXUC6hKCuCgBiwWofBTRiwgEgEhKP0dhDx6CpA0F+B0AkA6BDa1foThmtDrebcz2FmgB53qhgsmyAzLf4CreXiXh7dnoHf4fcbnx3cbeEkbrcUHBLcrdKtLAvcPfFsHLteFC8I64h5AxA8RZLuLYQ-rbu6fr2nuKXelyeAVAreUCcyCUvZkB5AQ8OCzhfdXeUAo9Beu4Rj+PqXmDmYHDY+49AkneNCCXnHtD091kmaHoTm3Jpp-d4+LfUBI-o8-egg09mQjq3Lmbc90--2Gbqj0UIwyQs8vICXfkOZhj-h-cU9lbEWGdunfSQThv8-E9o93DXkfiy9Y849mQ8+fd89o-E--ik8Q+i80hU-C9rAIX0+y96lEARiAQO9mQccchwZnS2-DBQlG8m-rDeuvL29g9k+hNO9la6cvJc90T3dW8E+lzG9BfU8W-k+s+EiRoS+uge96aHYcioU++8iu-lBYBl8JlwZwbh+fmm8B91oKTV+R8Nh1+gBK944V9q+p8bcR8a-7n8Xa93mNz9UaDDfQmy89QFMuIOkHN1rOII+KB1a2JnBfOSgfDFccnmI7-hscn2fykJDheyqRegAte05cUQ98U9-begBT+EDDdRXV7X9teW8cCA9mSGC8Bpq9cHAH-ZLr-16CL93EZEaKl1w4DAD6gEPPoIf2K6J1boByPIJKD+ikgCkw-cznBiwHN91g+xNAeWhTIFI9ARAjAXq3M6XhyB3JGhDQIyLhR6BlAnLuIH-BMC6B6AlMr-VWLLASgHXA4oGASa89eBakJolcQbg3E-cIg-3vgM7YnEcBUJVAZwMwEhMmiuWOQWuWLY78okuQDRI51WJh5WK-BYoJQBG7loCAJAXhLdDoCKB6UZnb8ndgqQ9AlOyvALJElABMD1cygjptwLnJZQNBgg-Pkz3ECeDJeYoaXjoAArHcjBRBEwWYJ0AWCwuAg9YLBVAA2CFoTApvOwI14CVHBlnK9ozzPhwZ0h2bSDhUBKEFFhO+fXvlJSqwGchQHWTSlnBKEtti2xISsAkAmDKA7iYoeCJmDYwHBievQnqtGAOAY8WBdibuIMP1bDD+hGoMYYYECaIdlo0wgPoYHxrtCAwXQx9MwVmEDCICHQyvqCEpit866FgPYfMM5heEwgTIb1BcOOEVALh7wcYY-2arHCZhnwEYZcMWGztSqHrFYScLqzrCBakoVwLcMKR9C2MTwhYVHwSTAiTqmwzoQpEphhM9UiIw5PBHBBKAW0jsT+nwExFlo9orQAMM00OGB03Ku8MJrdHxEaBCRiI0kQGE2ajY6wxIzVouygyHMbhlYO4Z8LmFQMEYCcA4YyN4bwjdgBIrcESI6EMikRH0VkfAlPKSC7iZqQTLGBjh4C0ohAAIesCrzuDQhHg7wdoFmA8C8BVxYIfqOIHAh3eUvbOou3wakN1RGgLUSJ1pEsBZgs1GfpkMYHeChUGop0cW06CNNXRlAd0fiQDGPDHRyQvESJS+Z8BFg6oVkou16Cxjaw8YkLnLAu5hin+GgIwIu2nLmBDm+SbIGQ2zE6kEUdojUMqLwiqi+wmY30ZGILH4woSAY60LaD86jANR+rAMa4DdHT98S-4ZsacI5D-gOxg4mkF2KDEhjs2A4qhh2kvAjiZxdaHcoEyTFxic6bQ7kiIy0D0joCCg0YJTVFFQZ4uVEfUMPAmCzAiuWkC8fEAqB7tMxe7TYjqLBBUkX+K1VdJmkhKBj7ok428RGKvFiAKgC4utPeJOKD4wwIYsmNTzXQFNkxBAHOuyOBx2dd4G4ogFuKFFrNwJb4o8cdzqLoC6YxYpWGaKJA6skO2YrCb10lEkiVuhvK7i8N8AvYHAvXJHtRMzDaFH++uYvtaKlCJJpsPIMsgcC0H-1D2aPfMPhJB7V4VuDgEibKFeGFiegK3IwMU0GBlkVuwjIgKADJIAAJHupQAACC4AcAD3QABKZJSAAAHkR6yADgKMSKJEBhuTSXfnDnHGBAnR5nMgDhMEn4Tux+rcibhIyi-tKu8QLqE5NbSBNyJgMIGH+Mgj7EwpPIeyeG0CnrCJhmk7SXpIMnGSzJFk6Kd718n+SHJCU4KZ-XIn0jfJlAYSezAKmhsApYgNVIiN1TUj0BcUpLvlJdHOTIx5ndETSKxF9R20GolEI9Q5LDc6IyQM8Y1K0i9Sz+H47sU6I45KkXxo05qZ+IYBOisJYoHYZtzzAshHOJo+QSmlugHDrAUgQGCPG1EOCz2skrhE9jF6Nl0xvjPgeUERSXTi0MkRAiVkV5J8O0quLwRaJ8FGi5yfovHDJDyBWjwhNo0UuYljG+YCytifaZQEOm4AR4no7fHkAT4NDa+NQhciNks45iO05iGGXDJHiVFnUtzPGUdJ7iR9UhEMj4NUPH5aVWBrQA6aTNaFGdVw5Y7QN8DjS5Q1g0g-gX8BckppVc3gr6RQMNHiUAk20zQapkjSeDaa0QkGfnUEry8GAvJYMb2LIEGivR30oVIBIsC8zIx3AUsWTnZ5ycLMnCP4Mmg3I7BFsVsxxALO+lCyuBv0sWYDH+kq8oo0sjiXLNO4M5ohysycVgO1mIyM87A65PtlDmbkTiXObdlILwG6zTRhs3zMbNWng43gSEXWeLMEFbFLZ1s12eWBXEpi1xOnI2d+X07RzVB15F2e+gVHPBGAvs1WYoGJ6KAs+D4iYdORjGrjl+T3PObBI7litEUN0shg3M5i5jGiDYzhPXOxlPdWZyojmZ2C5n1zhgTciOb8I4RFjG5E8wLlPPZm1FZ5hQRucMGJ4PiYaYAK2YtgbEN9KYpzVsWaCbFDyEUNcq0irJfE9xx5o4iwP2M5ivzzA980uJOKQ6AizhAo5aGvM-lcolxvwrufGK0HjorAGIRrJ2V85PwgisCxHNOGCAedBIYgOCG5LyjBBP640XBRESsD5oFouChBcyJ7hq8rAM7J7m21wCHTMwyoejC81+EONrwBCrCW6nSjBAxgVgG8Qm1LjBS+FLAUuM3OpBpo4IlYWYMEAcCtBCwTg0QW8ElA8LQm2uavN-IgkZoHAtadRd+P4WNjFpICtwVgr-gSL0cuCwxeYGAkSyzR6it8dBPbnwSeQIXNfAY34XKLF41BPjEyCkVULW+6RcRihNmD0jbFtUadAlBEbqStJlAQyVKgAAyPdSyTxNwC8AbJc04IEFJalLS2pEwtydYF8meTXR3k7KYJOjDpKClgQDNjFKBhlKaEVS2QFYC6if1kp0SuJQkqymvgcpGoMpQVPaloTth4OfkQkiKloTLUgk0qYTxEkVTAJLhKwDVLQkpgOOwy1kX0DU6RsCAcy1kdG2LZupulmSvmWxL6WdSba7aaRQLQ5KcL6lhQYIKHwMWRiZptk18Q0vKVZKdy64wKtYEdY5s9Fgi5IRRM1a9LWRGIjQMcqFCtyTqLydEYwwciQj9AeOQzBVzymHAvlwi-RVNLuV45RROyp5T+NuU7k98slNCVhLEyuLhFyK+1lqL+ViT3BMsIOhwEYkmcyVRNBMMSsdb38ZINKxgMDO3RShF2nYd5SSvtaMqKViIjNhypZD1cEsjKoVASrlFQLDRYoDKL-2bFkKLSU40iZSGxDhhOEUk1EX6RS6tB5pWgX+vksim8JHBvk3-qarN7iSruDgEqWVNyZVTW0+fcRQEFkV4YnVfys+j2iWVSjvuCYSKRso6H39fAigaHEj0qmIqGAQagMKQVeQSsnVFQUUckxJKN5IplK93OjP3SlcMw+qtPEQuNUeTSF-M+epkocAQRjFOCqhaVnNWCSlVmSx6UJRtU0kOA9qiZeVIbUurq8Ka91Zco9hoTvVHaX1ZRKu6oLZltUjXmGrjD+qZl6y2qbwzgzXKLUUNHtY3nGAirM170yudozXAZc+1eYBmJFMdVRqmR3C01QbMC7lc+1x6+KWIAzZXqj1pq-Yg+qdU3qmpd6l1GCDPRVBPVhahVW+pmDu400jIBFbesggOBmlqUoySZPMngBSskG-SdBoymJKE1UapNVDRA2GrII7uGSL0FcQlcJBZXPddwuLXUgv1Bq8YH+rwm4LVF7gzDekog1RKYl8SuDdSGaXMaElDgRdbwuXX416NDSnDWGDw3bw5V-RCCF7V9RgYyF4ZMDPsRiziangdbLbmaMqKEYIiuGRmBJpbBCdyE5nSoeQn2IaZqKpcTqlptYJSaJhbw2TTmsUJiVTNimizY-1U0GabNQQDTfZu01KbP6+mghLdEkBAgo4GoT5Y5pU02c1NxbcTbQCUUKbtNwqwlWQrE1iAzNWkGLew31YyqOhgTSLUopTiaangXUVLQllhGr5tUzAAVYajEqFa+MSW-LW2m74JkMtjIhKFOr6B+shSLK-he4SS1RbnVO60zT1r0Aeb2GcWuUQluM0iRXgyWvKENqK2OLoMy8rkaAwhFfDBlCMDraSpiwzbBtk22rSNo6F1avqUNfrTlvc07bPNM2ojLX1FKNbNWwEFrXhpIDtaXFrKx4ZNp63ICAo-mnNAKj22MiAVhwo5diPbRgqrtyWLZksHW2CqvtMTcrbq0u0ALOSyElLkEpGU7kQk9W3wChSR2oTllmxWvodily1wQ5NIG7XdvDWJhaAEbXoJDoroSB8AAW5gB9tIx+Tkmeg+wY-ycyOcxGEjUZNIwcLFt6Ow7Udp3jaa-KRV34RcocsxEgqEkIOn3HRGhxBhtB0EXQUGFLIKtA0Woz+UUE7bHUZxoXDIABIR3mBL0F-G9PMQ0A15WAGqLUpy1Dn1beggu3jhJGjaHduJ-izcSjtx1Lz1kUGehqTq2D3andjHYrE9tK0fLOtFQYPcLoXSJ000SQQ9v1T6EOAAAnLwFuhJ6eqfy0EFYICiZ6-sfS-6OiDBAVBW0glRwX+WDiCVchkacQECU4Ce9zhrwAanoANYGtpwaATvSGvjkVZXk+e7NmCBRkch89fy7QK4GlFHDB9pe9VF4ByE0yn+zevoaPqL0WgKgCeibV1T6EcK6FPVRhRlg3Dfrft-yluY0T+WB7ydgMehXvodjMrntketcDvoYV0ZTeKS26BJ1h2Sgp1zxFgPSE7A11HxxAGWA4EA6ZgD2R7DsMWPDhK6GAU640twC2WSyLU9qEgL-vLqPMOAtsFMUwBTCCV+9vQDVJqgk6gBHWLwGA112fTXU0GjifvYWzcUyxNgPfXTo0Mp6Rp01KXI+FUAy5sZ6DsvK9eMDPRYbcme69NZrh4P59zMyB1AyXHQOawsDi4RveYDwMEGbdkU3dZlwoMEGlwjBoucwe0MJzvySh5Q5qhINvijgRhjVN3sUOL6s99IiFX0pl3Fo5dBeWg6SoXHK6mAqunNlrqQO678anGVvjTq8NITgQnu7PYePgSdYq5ocMSsyAOBSB0Qn+6HFSqfFAGOAIBsAxJ0gMfBRlsBwUvAYT7CURoduQIzLEdjY6vdUo8I6BOrjhlVib3TuUgmfHDduSWYhYAc32ywZlmtrNxe4ZEA5pSj58Oo0Kh127AoanGYtrIsOIFJFFLIUjXROrzjB229QXQCMWkD7qljRq-QHD3vT0zYZjM9nTnOHDnST2gOKkkbHSDyLf+jnRYxe0Yi6A3dZZNsc4I3anG4MJM+GaUKvajj3jI8fTdQvWTcIZcj-H4+4ua3kcQYsOg1heL0AI6AAOlgDPXdDmC7BvgGejWZ+77qkNZ1HWnb0mQf9tRcIrwHf2fKoTlXGEwAvhOIm1pnoZBKiY1bFjRgZAZ4kKlW5wYmToAAAF4bBPq8JhhkiY1Aom0TIx1blyexM9pcTvQSQwSbIhl9ogMRyCPEZ6BQn+TNJw5EKZZpytfWQpPIEKWoBCkc6GwA1g2B2DEm3Fyp6k4KfpMaml28gbU7qf1PRsJTS4IAA')">function rename_variables_in(rule) {
    const rule_application_id = new_rule_application_id();
    function tree_walk(exp) {
        return is_var(exp) 
            ? make_new_variable(exp, rule_application_id)
            : is_pair(exp)
            ? pair(tree_walk(head(exp)),
                   tree_walk(tail(exp)))
            : exp;
    }
    return tree_walk(rule);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    <div class='permalink'>
<a name='p33' class='permalink'></a><p>
      
      
      The unification algorithm is implemented as a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that takes as inputs two patterns and a frame and returns either the
      extended frame or the
      
	<span style="color:green">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      The unifier is like the pattern matcher except that it is
      symmetrical—variables are allowed on both sides of the match.
      
	<span style="color:green"><kbd>Unify-match</kbd></span>
	<span style="color:blue">The function <kbd>unify_match</kbd>
	</span>
      
      is basically the same as
      
	<span style="color:green"><kbd>pattern-match</kbd>,</span>
	<span style="color:blue"><kbd>pattern_match</kbd>,
	</span>
      
      except that there is extra code (marked
      <QUOTE><kbd>***</kbd></QUOTE> below) to handle
      the case where the object on the right side of the match is a variable.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (unify-match p1 p2 frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? p1 p2) frame)
        ((var? p1) (extend-if-possible p1 p2 frame))
        ((var? p2) (extend-if-possible p2 p1 frame))  
        ((and (pair? p1) (pair? p2))
         (unify-match (cdr p1)
                      (cdr p2)
                      (unify-match (car p1)
                                   (car p2)
                                   frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPE0GJWqC1AFIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKBl8JQAAHy14zBY+LqpfV2WYh1vXUhYfB8A4IQ1Y17Xdb9QX0kyO2TdiM2ndSMcNTd2nDoV+4xAkYQGG3MFpcoHY+iDuWE0FrDI-CAAyZPen6QYk5HdkY+YMR7ph-nnY+r6s4G4GBdSPOQ7D0E3asugS5qyaGfMQxfGV62GHwUXG8+v2caC7aiON-kIoDyuGAtagxDoT66Aj0eqKCwXq9qWud0jqzp9n+edP2ied7n4gF6FjvLf-JfXyHjP9BvYekz9yYD9bkG3Bn4-T-Rgfr4rh+7RHhrMefNOKC2NEIGcFRlBsB+llOgP9lgryruQYO69w711AOCcBp8oEwLKvQZuhdOLYMgSYPBcCz6d0vvbX+8t04jHvrfQBstn73QniQhguDYGxW-mXRBf8mGP2Yaw6GE9Bbgw4Jwsh3DnAINiEgoONd0Fb0wRIxqXD8F0EIRPNRUjoEyOyu3KhciYg3wYY-f+1CWHAJ0T9Mm6jpGaNOn1ExuMEyWLvo-JOwCiEeUFjA5WwhyBi3hoQQI796CuIUWvUOyjjZWQCSwIJISwnEAiVol+sM0QfSScE9cWNJBkEMFEiuNxsRGIvt3XuJduAeO8Zk-miTkmW2EL4EpdCPHCJ8WI1IIkhbMC0Hvdp8dkGoNiXXFR4I+kfCoMQPe2jX5uKSCk8JhhZF8PkQI8xdpvEFx6QwN43FUQ-ARqk9JwzAyrxQUoiZ8TQDGSKFg+gRznAnNCas5wCyskqGeSshgqTM5X34XQ8ODBAgyAwXiBpxDfmnNIAc+gxSNmmIrqC8FGDSRsMWYcv5nRF40OBQmNFlQME6H9os-WbRayOFLkCzZdCrljI3viqOmDjDtBPsoYgXz+aE3ZdSrlbswjL1RXXcE-LOXcu4JHMIWLvkSppf02Ze8kVX1iISragidmj2hR5KopAPhKsGSfFlwraHuNvjK3V5hwkzhmcaheqqZZmo1S4ZhsrREUtSHMzQuIFWCqtSKhlisMhWI9S3b5-j1h2oGXMk1QqhIKJdlkd13SvVNS5F4VxSzA4xOZRg8E7APBeB5ZxQmRblBZuRTm4EYqK0lulaPOV-N61NXwK07NZjBhdL2emjQhAQTclRBc3N1y0G3JltvQgA7qBDs+dalwAcVlpLWZE6tXbPHaqAc2ziP0xBOpNuazV2yU1eJ1Qu0ADkp6kH3foIgLr6UjLSKGu9hBw2+PMPqw1e7X0PpRR02+96L22uvbeoDQaEw3iA72yNqROr6FOXHS5oybk7lOVZYohCP0uAqCQEQqRInobGqjcmNMcYT0oIERqjlOhZv6iuAc4ifoIcmDjFYA4qWdFJn9B8bG-TXVILWJiWZnzRgea8RFAgWCMmegwV6kMEPUwKUBNCQVpPiSDOqWo4n5L-U6MYHTKl2RUYYDRtgWbZPfxYI+ZiWBoIURfA8hRWE6yGf0sZ4g1HaNDFvrxnWHmvPmc3VkB8bnmgyH08QYTOZySBQrpRzzpnvOIZg-zBGSNQ5Cn+fgd+fxuNo06Epku61GzPRk8TF6jAFNqKK4DJiA4ysAEIwLBnHOtOMdCHBClxDcPiqhzqrWcbWAbe1uBudjKeWrjF7mFAc-8RjcHmOnlYxEPSRQ8CQk2yuUrFXysXUq29Ap302BTZU8JCuTWWtabqLGUoXWZA9dCv1mr43FSWbOs9KmdnoKoRpg80yiMT6DBqxTU7AVRMC2FPoXDQOCPwMm8R+xp3nigA21tlYQVwQRb2LUcE4PIyOYxxXdLQP8vkwRzTAK0M6YByZnIFmUA4CIGQOgbmeIQEeXFjWWZGCT6VkTRXSlIsxYSxoEbDWylSjUmNspZoxd+5J0l8CK20lKGVN4efLuPc0glz9twPnUwVhy9SBwjRcC-ZK65wuU3jjzcqIN7LyeuizfDsV86UoVvTokYcfozRvO6D88d4LI+Qy3eKg96eKe79d7xvtwHw3JlJ6HOoMchccKV3rNHpbyPyfU-LvOXHwPzpjdhxyck9PBes-u9AITAOW4y95NgZ9LQBq9evZWE04JLS2lJ3wmthoDvi+T39bSiX1fPcj6MFSyVRq42Or1y0ePQeLaZot+PyP9b-dF8VCX6ZsbQ9V-Dy0SPe-lWx7uYPnfk9+2Drt4flYpQb9tKtx0LQ+gl0V9XfA3vi-+d97QqCtrujMUnugelTL-pMI7mZMEAWrZPZE5C4O3AvOQPDF5D5C-rMlhofNOmwG0siNwKAUJAtv8l1AoCntQJWI1HXsiCtoaEFE-iQdQGQTQJQW9K-O-g4AQTeh6jmBDsQbkAoIQPgOUGwVkhwXQLQQ0O+GkhkMVBgW-kut3uIV9v3gPoDiIGLAHgePQEMu3s6EuvkiXC3sUjQf-qoUUKAWYeYbEB-lofIJ-GCDQTZv+k+n0t-OErIQnkfm4QxAigvPGh4WwLLOJs0D7KGMsHNnxtAZuPgZgnAQ5M5PTN8pQL4CQGgYIDgb4DVDFuPIsoAaLMAQhqEoYPrvHmxkFFeqAUUW+l4SUJeqGnJM0C5qLl9F+jOD+qcmEKUX-m5vkUNmkqMN+twdUV0RAeSt8p7rnq8mnu8hnmuhfmUeXMGkwIJl9PIV9DinCiQbUAvgbrUUUBHtzm-pse8n4WAd0fsasMfkcRsbCqcXirsfHqlpxBPtPjSkKhcTjMQT6ikULG8QGsbBMHxi4YGGEZqLFnwVDlGoavanPqapIfxsTi0e-geDCfvufs6lTAbvjpRFBBJu8AIG0f0jLP0YyA8usSiQajGmfgvAmpwNiQxlCb0sDP0ZSWiSSejAic6EFESZHP0dFuRBDnidMEFK8Ryu8W5iBrCSqnSQyVmLFtThPH0Q4EfDsX3GkkhoHMmvoOqUsA-vUZkCuE0RuBCJCCqdHhqHCNwMqY3BaTsTeLqawmRPcrkfKtyIwMIaQr7nAmAV8UyX8eKQCUAsCT8gSdLs6oyCPrPjKUnAKTWoLD8X6v8aPpQHqX6KUMmv9hkXhpnO6d3PwHouQqiCYaidSQ6vCSoaoYYHmZ6YWQYu8AJLcI1JPnoapmkmWXCQehMDZpEcKSCYHDbt6a7vfkfugoOUWeVBUtbE-FmUxt7nWX7mHrdrWjuM7rbrFFOVYpAVeM0MmlTq6WlhvqvoXiVpJqAN3jJpmm2h2rGeSI2N2HqJGTWQWS7ozMtO2r4GdqGVSOaWsrPLUEzECDaaqYMA+TwY+oGBSd3lYc6CThoXztoQ4beNyHqNwL+R-ABRceMYeT8KfuWVvpqTXk2WCiyd-IZhSX0p-pnhrDBXpHsc8ZzpHiHhiaygbjjI2OjIyBScxV-GdD-nKbEEfGrl3N-DxXaprlub1LWBcUxEFOjAxXDJHmuUOdRaxYseSEJZuaycpROYYhJW3isBSTpfWayfxfHrRQyTqDENhtcdbpJhAguXfpOhATjJpRJayeOSZZuQZdMBSZ5U4rwqPBcRZU8dTngLTszEoIzuzCzlzJYBzuYKvKsfoPDIRagRppRkJoqYsrXuwYYc3kUtwNBS5UsUSmKgIUISIQHOCLRehE3oUgakVR+TJZ6rBgioIcIRodQYRYyqho4VZBVZ1aHNVRegYfVcYe-oRcShCjINwFCjunqq-NeXgVNaCCRTNdwJiq1fzLYZWIhUMjIKtYauirNboNhWWsRT4S4m8EjIeuSEFOglMqRQxDVaGbdReoLFdcNpyYPILihuOquQxFZF9dysBs9X1H4bdcdueL9QBietDQ+ApS4Jyl8Gsm1JoXtfYUMmxaVYGDeJZTZUSQpjjfdVsoMATRPCjTlo1CwHgQUp8atuqh1gmFhJDC1ecI2JQDHImRjftSaoyHuQlaJMRQppuSURTLWH+v2TwCaWLVJRqQtZ+gUsJXqO-sppEIUKTXDYMJTttZxJDP0SYerYzdZczXjY-LrQeS8eoaHAhVjbHhJeLaeOLSwOsI1CTWbWiCfGIFzUYI7eEBphwG1L7c7ZcbEKUATCLUdnLRTKMa7cYBjWHTEM0EHT7f1mLeEAADzAje0h36ZJ3h0tCkDmQQgAAqVsRFdAvgggN6vAKqTYOB1AtQzQ4IoAAA1DNlWZRnNN1n7VQsKh3a9a3R3a2QbD3Q9sdhMCEUXSXeCOXfgP9MQI5DXWIHXSakzDSI3c3Zgu3Z3f3mPW1L3RnbvUPbvaPd3YfRPaHedR5HlCraZRJQzeSJTQHmHFbNiB7dMBPNWbbDHaHSGZ7ZPNqRne3h7q-eiNiK2TEFTWjfNHbTofGnse3s0JudnNtCA+YbMLfKHa2Sg+6cFn3RfKMTeNfXGSxIKFDnztnFze7YIb8fAw4e1r5cXTAZuVZLZJbOUJek3F+bNkKQ8o2JDIyETUdgJdyRXD-fAgbWLWrcVrVWhAbYUTTLwzFrNlrQmHzm-UQAhqFVbR5G5VQg-VQr1E-UiIspoxAzo-ziGd-fg3-fnQAxBVqS+hg2hGA5WFo5A6oTAydAw9jfHgXU0NSBJWg5av7a9qUPBNtM7b1IE0ZpIwQxnTaHaKQyuDqIyQYFQxldzXQ7iH4yakwwPiw5uGw3EXQJwyINw59OkWJdkdqPw7GIIwUsI6WYdrrmI4qEFAk9I47bI4DPI1eIowxEbcVio+RAqYAxY+-VY7TOFa-HTvIFFWzMzpzNzNgDZQnKQeQawdQQ4ALssXmugrEeCGEkwds6DYrS4Kc8wRQY1EwQOnCebjQRBset2hbXs7TIVFsywVQfM4yOgumI9XMK9bEHMKuJWUUI9RyCCzEByOCzBY9RhDCzLQePC4C2KuHMi+HGi9MI9c7KGq9fi5kM6BC4UI9dxIYAOuQFkdwBS1S9XYqKS7EI9dETC9EbGEyzEI9b1qoFPCwIYDVTy3y0zCsJyyuWCOCG3ci7ECldwJ+YCAAHygCoEd0MtiuPWeTSsxCyugDysAhKuoE+RqsItipWnTA6t6sGugCQi6sxDqtirABasGDwxysB1WtgDGvos7jggACkTrFrbryroAPrtroA9r3r4k0rAbirQbGmn5Jr3rzWAIUbLrurgbqBSbabCbErmd-rqblrQb2dMQ8bXrObyb3ARQ0b+rhbQIWbpbEICrebrrMbqBSrxb4bErCr5bDQVbVrXb7b2bEIjWTrQbhQ1bMQjWsQqV6YBUZ51z5zohBYKtgFK4ZSPmAw3A87Pzi7xZs7YZW7tzO75U+ALAAAViYKmYCKuxoOITG4i987c69R4k4WK0UAezs-M2mJFHOw+6wSQoBeK1uGKmCa9WCa+9Ycy2KpAHQN6CnjSzENB7BykeBxB4B+CEK7AJADCxh5AChxB9y1QLywAKLItCtEd4fWGPUABy5AVHTrNHVHcT-ee7VI77jUHCYtV7Kwa7wo1b20h1m7v77H9ljqLHAgbHZxzAvFfUK73HN7vHSrz7F4PAQnknECHqNlDBEnuzdAXB804chFDBr0aopAuBJ0p75A1Y1ZXUmg+gbmEn9zHAe8TzezAzFhN6zKCIRQ2V8q8YhAvN9ttJhFcFttdhCDtJhm-apO2nS1MdUDEnHH-tbngl060XqnS6J757pg4t8XqnHCwBFHsQNDYsuTAX4XssBcHAAgxXYgXwrtaeYXDhkZfnZXSFX7czWSCzDOyzHMmAGAQtb1FApgDAHKHw5UNwpAWaaiPVIaysqsHi0325umnSj8i34Qg9DAw90uhsYgvdC3diJElxzQ+33uNi2KigNwfxhhWggKO3UtNa5AygygddGQPORgBBT3gbTMHd+gj3yg2c4IrdpQgPoALdVku9f3hXiogPjad3F6qSlAKRasO3en4te62xiP8rEQ0E6jgYB9YgJ9EIu9Ahl3xg13Oxa76PCPKRqPrGg91geOetHk1PuILeCgv3N6M3z6rse6lxwPyaukie-idcvPoAqcyk+gRLp6dovP4Q-mHisvoAmb4ImGfPBg20ovGmKvgvR+N1Q3M4o3sUE3WavPxkzQkvqQN+s65uov4vq48urRS1VFkSsvBdwPRPHdLPTAZA7PGvwxrvZ9q4rdW3Wl2u6p4hS7zv8CivI9QfO9nv8QvxbP67bzMv-vnPz87d4m8IOvRuKnkgSPkkoIr1e6gnBfrPPvS3RmCcJppv+pLPEISL1pdcfva0yTWQsvZfmP3vpAgkRpw+F97Udfum4IAA5Ft3uifeP-3-j73bz5c-n93xyqQG0sv1j7j8467J9HN5uNtGv1D7GI9UIMIEPcEEPQ5DpNvG4MWEPYJhwPCFXwcYv0j3v7WCv+ATePv130n5X-3w36-2QHjZ-h9AX-Z-riH35I1QAFnKzsoBs4zh0YJBDwCumqJc8rec6QjKEjV5H9G66ArRNTCd6zFzkiGZLjEDXbQD1gsA6gJoH6KICuUbgVHigMf5XEHeKAlcApDFSYZpU7lMPu00wFHcWgoSSAWvzPjIF4YtA5AYhj9IGBg8OA83IhiYaCNYuITIECuFD7VJ+4H+QgV-kYHRYvmSA6-qHFALxQb2wgpAswDEFhJ9BaPYYvIOiw8klBVCAHkizYEotd+t8SwXQOMCGDuC4BDxB4JXTrxCCTA2IOFgcEXwAemLFwf4IMGgZDA-fJdKgy17kDrOVA+AS9SiEmkEhj9QzGQMs4UC4BNA6IdYNvTyD+BrNMIdbEE5WDAhPgnEvqGILh95BfGB6hwNepqCdc-cWwRCQJxiZzsdCU5PuQG4pESAKA2Gk+hcyYCXB20RDP32iLVF2GdkBIsjS0EeRhhFzJnuYBurr1RhuNQOBMMIBq98akwvPnMKIw2RFhCBAQWci-xvV16WBRZBaGLDlRKA+AJqI1AGAVByamAsYXjVSJrFvhWvR4dVAX4fCo8WkWKEoUkG7D6EgwLYfPi6F6NEqBJCBN1DfxEY2a0oCpqHE6gMB1AIgDgKQHWjsIiAz+b4X2UhzSDFsm4JoeSPxJUgysQIWTPJlEahIwcTmC7Ltg0xgk3Md2cpkNS9y4jj+BI+YZjGKxhYfkhANpO9hcSfYxmoASIsQX2FclOmFcLCLkElEp9GB3AdUW0iOEHDnCvBHoY42loDC0mEzJxhKNJEHDIBBsfoAoCnipcNCFQGBL4B2KGA2Qzo6luvEMCkgfhm-f8FChcGejXRocH0U8D-4ml0GUKEgQYC+4JYPoDonMlIhdFuj4x9ooiNGKgbmFgx3o0kB9X8Kmd+grBHMZnA9GRgvRoY30dCKl5GBAx+pEsULGJDhi8+WEKMQfyeAxtqgLeG2MWPLEhjocfY3MU8BjHOgOx1bW0QmIzEiJERiBNMW9BgTqx5OnBakIRRkALikY-SQIB9GR52iGAPHZcRMAX5riqAG4icezzPFc9gGaYtXpmTz5diyAPYhxCmMGAPJ0G14tzmOKVbHjEeJ8TcXaJ3GTiz0W4wSGmgmI205MosSkKCHjQg4gkrKMjFBB2z7Y9sg2ZkbrhBy61AGDIq7BBBcEhcycGMOCadgjE-jlkvWfiNKOGyfZaWVANkTOJlqkTGA5E-rLxBonwTjaG-UUdUy17Y4OAJ-Pek-yxxJhccsw9oFxlYlcQqA4QFwUI1NpC8qR+gXiNJP1IhcIJZxaCbSQklESuJfIfvjXwPCKSpJYvNOPpM3BwS1evEFvExKewEMlJI4lYDeHMn2TpglksgNZL6yai7JWYtCNtCcneTBmymfgUJJxwn8bRc0KroYjTEpVCKWEVNp+INJsAb6mwvoJWiniMAgRw6DKc4G4DCCJJwghCXeTPLMSSKNIIIoyFclkSbJuU2iUyCeH0AxsqHNCPlOUyyVSkT2EqbIQB68SRJ+pW8YnlgYRTGAZ4xsn1g6lBEkpqoBOi1ARiGS7qgDfWIP08lSSJp4gSQH+O3HdA2Q3QKsYVLDIAc0oOILaX4C2qANAKOE8cO5mTSg9qQkA6aWIKJA9xZpp5MMt0EZDbQlJrU5YvBm6DhBgemGa6d0Eq6SBQApdAABJEcGAAAQXADgAiOAAJVLqQAAA8lR2QBAhBahNSQGoDBF1SGyFU3TjpMIq8AppMoeGLNKslq80ocmUmYEOv7aQ3y+M-gVTM6ALgspiKBfszMyA4z6ZiKDsdCLBkQzoZsMhGcjNRkcy1pd02meCIZkni3JhFKmcNLukMAHpEKRmVf2ln0BPIZ4+4d8m9CGC6ZxZcmW5NOx+jtuu478Wux0xwS66ircbGoBMBeA0p3M4dNbMsgMSrJp2EgTICxm8s2ZeM2WUkGRxAyTQGQYTg4BbyMgAADCcBso1BHIYKUOYmNvyxRqAgwK6InNyDhztAQIO-mHILG708Qn0hMLnIRRZzSAC-QmHHK9z2ICJAQROWgIoSpyYpJpbXpuxNIlyG5Kc4QO3wInTiBugQdUtXPFCpBqg2QUOc9KpAdzZBXcgWkvQTmSJO55UVOclGfqLIEsgWOjGSJXAKJ4Mkgh5KUErlzy1EIoqeTOlwFyZUws5VIEqP3muC74JmMzFmmmF8DnJAWJLEFj1HPwsypotRoA3Xnvys0uclaZ9VDlqwaSc0i0b1QBqLxwFwNUOaWg8hvBoExM2REAtNkeIgFwGROUoTQXViQ0rsG8LRHHnBCYg7A71p0Boy+Aq4qxeEP3xW52hMFK0hgsElzljzyY1UxiTlLf64gCpdIgQNAn6CMBc5jIAeSXCHl-AR58CIBUxEbD3ZcQgRYqOJjkV7iqp3C-5AHN07+SkFZ4bQQIqEDzy+Qr8hoM1OKxFzQSdAbrGNPSjqRupJ-FwX1KMzrERu3CthTTQ-L6A9FQi8eSOIGmSBIpwE-QMooUU+IquIM8GQwDhnWQAAMkRzRkJSY5E8b2aNNznFJ8ZJs6EcTLuakyjZSQSmRLJpmhwUlOSiQv305kLgilF6MpQYuKSEUBZES6JbEvFkzhJZhS0Oako0WEUzxiY0nDpgVlRSlZKs4pQf2dBTJQ5WstMfCBIF9KAlrczBLnPGXASH+kAhgkUrSWEzTZXSi2Tex0zCLq242ZhQYtcVtzOFhMr2T7OqXFKg5PnfmGskEKSI1+IAtRWsukbXiNlc4rZV4y-rNM9lsYLpVFydGDiXxBEPWc7LfIcKPZpytzPFJWVtLHlgA9RScuUa0UXlwElaU4oeVr8ps60wSOxTPKtBkQjIA6WsLhXv8rI6K7hXU2lr4qHA2cbkfqVuUPNnFgAklT0BRV2j+B1K+BHCNTIsrwCbKj6MAskUVB4YS0JSabIWk7clpLCB2E7mYzvTlpNol4YEFBXZRXod037gbOcDrRiCd0paH7OVF8LQAr0oEAMvLCPT9VcZRsM92LomoVVQ0tMVx37zTL-x3QdWbjIWV2jKVb7fgDiDdU8y6AHqj6DVQeRYQ-Z3AeKdaoHntFNV-i9lV+V7IKkI0NypVY1BLlqrsluC3aaxw0WMhtFKCyJNIvJA6rSZoqjpYU2-ICBjVAsUmcrLNWqyOllqs8pGttUlyzxjqtbM6o2nbA5lYy7WXKKKi+qe1HAQNQoGDWxgsIuc8NYG2bWnxW114+NQ0xyIDdQRJc4IHao1UayJC4q3pKAv1UCS6iK63dTGpKV59QRfsjdbjIvRnrj1F6-1etA+DBB3hx66mdTOFW3rUQX5KKGwH1mbqAOdSoWfDMRkozwATEf9TDMA2iy4loa49VOpjbWwf1uM8CtLXBAYhGeSa3dMIFaWPBM1hQB9cqrTWMB1Vhaw1fBuqWMg6lkSmJSBvJAUaGlUG9uaHNg3VtSNKSr8pjlQ23TvUpXN4Ke3YKdFLxL6fjUeNaY8bHoIxQis-JqIL8QMomlEMUn42my9R76fZDzQpa8axCCmvBdzxCzFFRqrTNTWJs02cTJNymxZCBgM1ybxNimx+EJo2EuAagYgWZKHAeVGbAGJmlaTxvwCjzZN2XLFReO3UldfUfhdTQWA8X0AQtqZNXvyoUD99PNo8mTeFsejFIfNkW5yeSuZVEkUtYWugBFq6J2ZGp0WnxAOvBDH8h66Wlfq9Ti0SEEliyNTV5vgQWbfNOk7FVz1U0pAItsiRrZFvsUNE7xBYx8cmIrF2crw5WvAvpva1iautoxQrShB7aBs6t8W9spwgm2WaptX2Z0sCuVoXj9oxWs-mSpaJMqKttLdrfVq-YTwHNPOSws1v83QjNlC4y2QFJLi2yNtgofBSFgO0PKLtN3Q7W0kIJGKpw4UvxfaoCXKNbAL2wur4peHA7-xf2H7NdOTSzaighW+6MVov5laPtFK7gF9qhg2UEYJgfgP8IOGmyKSRGGrnVxOSNc94K05IZQOoGiVuCfm15TGC6bvL7t2yv0EI31bGQ8dz3N-JpCk40AecrZVvtNvpqtkOo1MN1lmLmGVgGpjU2IOcPgKJFeIxGdIsPW+wbbwQNOgoejAf5u9qQgOqHdir6a6S-Qu5UNAM2R3Qxit2u1If0XR03Eftr1W3XTvGgxzGwNwMQXSxdGMgAAnCcAnje7qWxu+7oHp4gujsVcmFvGrCx3lqGhLjaVeSIVFQ4XAGmSOeWsKBB62ko-UflZDQD56vVfDI0bSNiBZ7NRHwA0Q0Cz2R6U8qsLpSPHAIuAfI81M0b-NL3h7g9XS2vSU24Ce7ltlLF0UwrYCULqFw2D+I+sZ2orTZ0WlHT6pK3D7qWo+qVJglG0l8F9VClYueBq3fIihP2yXnQCKgngyAlsNZMh1xVhlWgjIUwb4FEHiC3Ahkg1F9GqBFQT6RwJZUWqhyUFSAJ+uDkr3UhrIg6+8EMmXvBDeQfIRQ0AGv2rUv60CmrLziuDL1e8MVxweUUKRYgDg-ZTAV4SrCniYadirQA1YJUw0GLu48Kc9des3XLUQBleikR1GP05Zf9yvAAyanhDGjgoA+6lhCDAPeRap-qwQHgdEDcHvI-kVA8XrYiLqq9HetpKAaEOQHuFG0UqZeyEPCG5R1e4aQ8i6UPaFG3yhVnoSQMuLvJ-OlETzlaBTZw1su-6IG35zDLRtIA6VIbtjXbjk0z8eNdcv1qtMhAhgRyKrGf38AJ5AgS-UCGv236ihD+4wPvpf2D039NmJpiXAA62HTDButqINON3OG2Nf1bTSbrTIzBMEDkIin1jmiSTmAskaCE0UT7gCXFRhheKiK+iJH+OBSUYhLssMxtrDkA5RcxMUl7hfwvCi0ZzpsXCS7F+pYKXxNz5XFOMWQQgF0ai0FI9JCkyY8pN0yqSssQhXLI8EmObtujymWY17kUm+i8J4E5YzljWR5ZCAv4dY+stRxgBNskIbY1hHmPGTJ4dx0kC4PaM2Sbw8x-7cANOPDKGgrxjye9MzHy6Vg700kJ8djDKN++wx3HAXF30PLR+GU-QECYAA6WAVhf8tDgvC3owQdngjt1autWMaEXPaonoPGAaosJlxfCYNmIn5dKJtE46IxOvCZA2JwyQZN4AnhwCPQLCGydAAAAvZTqABRMWF6TWBrE73yaM9A+TBJvSESfBBf6T96w1CAdA8PvBvDm4eE8KcxNMmxT+bZvuQqHosAh6ygIeif0mCj80weAck8yvVNJjNTzJnU2h3ID6nDTxph-jKf8hAA')">function unify_match(p1, p2, frame) {
    return frame === "failed"
        ? "failed"
        : equal(p1, p2)
        ? frame
        : is_var(p1) 
        ? extend_if_possible(p1, p2, frame)
        : is_var(p2) 
        ? extend_if_possible(p2, p1, frame)  // ***
        : is_pair(p1) && is_pair(p2)
        ? unify_match(tail(p1),
                      tail(p2),
                      unify_match(head(p1),
                                  head(p2),
                                  frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p34' class='permalink'></a><p>
      In unification, as in one-sided pattern matching, we want to accept a
      proposed extension of the frame only if it is consistent with existing
      bindings.  The
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>extend-if-possible</kbd></span>
	<span style="color:blue"><kbd>extend_if_possible</kbd>
	</span>
      
      used in unification is the same as the
      
	<span style="color:green"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>
	</span>
      
      used in pattern matching except for two special checks, marked
      <QUOTE><kbd>***</kbd></QUOTE> in the program below.  In
      the first case, if the variable we are trying to match is not bound, but
      the value we are trying to match it with is itself a (different) variable,
      it is necessary to check to see if the value is bound, and if so, to match
      its value.  If both parties to the match are unbound, we may bind either
      to the other.
    </p></div>

    <div class='permalink'>
<a name='p35' class='permalink'></a><p>
      The second check deals with attempts to bind a variable to a pattern
      that includes that variable.  Such a situation can occur whenever a
      variable is repeated in both patterns.  Consider, for example,
      unifying the two patterns
      
	<span style="color:green"><kbd>(?x ?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:green"><kbd>(?y ^expression involving^ ?y)</kbd>
	</span>
	<span style="color:blue">
	  <kbd>list(y,</kbd>
	  $\textit{expression involving}$
	  <kbd>y)</kbd>
	</span>
      
      in a frame where both
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      are unbound.  First
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against
      
	<span style="color:green"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      making a binding of
      
	<span style="color:green">
	<kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Next, the same
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against the given expression involving
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Since
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is already bound to
      
	<span style="color:green"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      this results in matching
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      against the expression. If we think of the unifier as finding a set of
      values for the pattern variables that make the patterns the same, then
      these patterns imply instructions to find a
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      such that
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is equal to the
      
	<span style="color:green"><kbd>^expression involving^ ?y</kbd>.</span>
	<span style="color:blue">$\textit{expression involving}$
	<kbd>y</kbd>.</span>
      
      There is no general method for solving such equations, so we reject such
      bindings; these cases are recognized by the predicate 
      <span style="color:green"><kbd>depends-on?</kbd></span><span style="color:blue"><kbd>depends_on</kbd></span>.<a class='superscript' id='footnote-link-1' href='#footnote-1'style="color:blue">[1]</a>
      On the other hand, we do not want to reject attempts
      to bind a variable to itself.  For example, consider unifying
      
	<span style="color:green"><kbd>(?x~?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:green"><kbd>(?y~?y)</kbd>.</span>
	<span style="color:blue"><kbd>list(y, y)</kbd>.</span>
      
      The second attempt to bind
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      matches
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:green">(the stored value of <kbd>?x</kbd></span>
	<span style="color:blue">(the stored value of
	<kbd>x</kbd></span>
	)
      against
      
	<span style="color:green">
	<kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:green">(the new value of <kbd>?x</kbd>).</span>
	<span style="color:blue">(the new value of
	<kbd>x</kbd></span>).
      
      This is taken care of by the
      
	<span style="color:green"><kbd>equal?</kbd></span>
	<span style="color:blue"><kbd>equal</kbd></span>
      
      clause of
      
	<span style="color:green"><kbd>unify-match</kbd>.</span>
	<span style="color:blue"><kbd>unify_match</kbd>.
	</span>
      
	
	
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-possible var val frame)
  (let ((binding (binding-in-frame var frame)))
    (cond (binding
           (unify-match
            (binding-value binding) val frame))
          ((var? val)                      
           (let ((binding (binding-in-frame val frame)))
             (if binding
                 (unify-match
                  var (binding-value binding) frame)
                 (extend var val frame))))
          ((depends-on? val var frame)     
           'failed)
          (else (extend var val frame)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPE0GJWqC1AFIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKBl8JQAAHy14zBY+LqpfV2WYh1vXUhYfB8A4IQ1Y17Xdb9QX0kyO2TdiM2ndSMcNTd2nDoV+4xAkYQGG3MFpcoHY+iDuWE0FrDI-CAAyZPen6QYk5HdkY+YMR7ph-nnY+r6s4G4GBdSPOQ7D0E3asugS5qyaGfMQxfGV62GHwUXG8+v2caC7aiON-kIoDyuGAtagxDoT66Aj0eqKCwXq9qWud0jqzp9n+edP2ied7n4gF6FjvLf-JfXyHjP9BvYekz9yYD9bkG3Bn4-T-Rgfr4rh+7RHhrMefNOKC2NEIGcFRlBsB+llOgP9lgryruQYO69w711AOCcBp8oEwLKvQZuhdOLYMgSYPBcCz6d0vvbX+8t04jHvrfQBstn73QniQhguDYGxW-mXRBf8mGP2Yaw6GE9Bbgw4Jwsh3DnAINiEgoONd0Fb0wRIxqXD8F0EIRPNRUjoEyOyu3KhciYg3wYY-f+1CWHAJ0T9Mm6jpGaNOn1ExuMEyWLvo-JOwCiEeUFjA5WwhyBi3hoQQI796CuIUWvUOyjjZWQCSwIJISwnEAiVol+sM0QfSScE9cWNJBkEMFEiuNxsRGIvt3XuJduAeO8Zk-miTkmW2EL4EpdCPHCJ8WI1IIkhbMC0Hvdp8dkGoNiXXFR4I+kfCoMQPe2jX5uKSCk8JhhZF8PkQI8xdpvEFx6QwN43FUQ-ARqk9JwzAyrxQUoiZ8TQDGSKFg+gRznAnNCas5wCyskqGeSshgqTM5X34XQ8ODBAgyAwXiBpxDfmnNIAc+gxSNmmIrqC8FGDSRsMWYcv5nRF40OBQmNFlQME6H9os-WbRayOFLkCzZdCrljI3viqOmDjDtBPsoYgXz+aE3ZdSrlbswjL1RXXcE-LOXcu4JHMIWLvkSppf02Ze8kVX1iISragidmj2hR5KopAPhKsGSfFlwraHuNvjK3V5hwkzhmcaheqqZZmo1S4ZhsrREUtSHMzQuIFWCqtSKhlisMhWI9S3b5-j1h2oGXMk1QqhIKJdlkd13SvVNS5F4VxSzA4xOZRg8E7APBeB5ZxQmRblBZuRTm4EYqK0lulaPOV-N61NXwK07NZjBhdL2emjQhAQTclRBc3N1y0G3JltvQgA7qBDs+dalwAcVlpLWZE6tXbPHaqAc2ziP0xBOpNuazV2yU1eJ1Qu0ADkp6kH3foIgLr6UjLSKGu9hBw2+PMPqw1e7X0PpRR02+96L22uvbeoDQaEw3iA72yNqROr6FOXHS5oybk7lOVZYohCP0uAqCQEQqRInobGqjcmNMcYT0oIERqjlOhZv6iuAc4ifoIcmDjFYA4qWdFJn9B8bG-TXVILWJiWZnzRgea8RFAgWCMmegwV6kMEPUwKUBNCQVpPiSDOqWo4n5L-U6MYHTKl2RUYYDRtgWbZPfxYI+ZiWBoIURfA8hRWE6yGf0sZ4g1HaNDFvrxnWHmvPmc3VkB8bnmgyH08QYTOZySBQrpRzzpnvOIYLngAOTM5AsygHARAyB0DczxCAjy4sayzIwSfSsiaK6UpFmLCWNAjYa2UqUakxtlLNGLv3JOzXgRW2kpQypvDz5dx7mkEuftuAVamCsDrqQOEaLgX7HrJWFzzccYtlRU32uT10Qt4d3XnSlBW6dEjDj9GaPK3QSr23BZHyGQdxUR3TxT3frveNm2rvTZMpPQ51BjkLjhSu9Zo9lvPd+-95d5yPvXedLNsOOTkmA6hyDw7oBCYBy3AjvJsDPpaANRNtzzomnBJaW0pO+E9LTC27Dye-raVNdR8dunRgqWSqNXGx1E2WifZuxbTNS3GfPfrZdmHio4fTNjfdlHj2WjPYl8q97dzqdi8nv2wdG3pcrFKGrtpK2OhaH0EupHq74Hk+55VinaFQWjfRsUvdB6qbm8mNtsywQC22Xsk5Fw7cF7kHhl5HyevZlYcPtOtgbTkTcHt0JRjqQwnUAUH96glZGoY+RKxqC-6Ew6-+V1RPNAU9vVfobhwUeb0epzKJgWwp9BgMUIQfA5Qi9ZJL3QDPhp3xpIyMVIPBul2k9b1TQnKwEZI1DhVg89AhnD79Eu-JJc8fFPT5byn0x7cr9X0UI3V3J+fzBOnmzWfkNguBs42sowaRsFluJ0ofT0YIoXvG8J3evsq59qGZYDmxMNFd5uSPmCPcHJnJ6ZvlKBfASAA9BAw9fAaoYtx5FlrdRZbcENQlDBJtPs2Mgor17cUC31X8ShL1Q05JmgXN6svov0Zwf1Tkwh0CLc3NECz80kL9KDy9cCaCndyVvljtwdXkAd3kgc10lcMDy5g0mBBMvpe8vocU4Vc9agucpt8CigntSsDdpD3kH8HdaDFDVhZcVCpDYV1C8V5DPsYN+YmdWcaUhUtCcZY8xYFBfUhYLCA1jYJg+Mj9VRwJxwAoq9bCYFDV7UOdTV29YwgpJDDcDx-DJdFdnUqYptvDIxHMGxJN-oIiY0ZZGDGQHkwiKD2cpcYjOA4iGMa9BY78zocjI5GDgj+MK5yjjZGDotyIq9M9phQjntmc3MQMAiVUE0CiTCVw2JoZsNa1DVRsHAj45C+40kkNA5k19BJilgtdCDMgVwSCNwIRIQxjXsNQ4RuAGDNi1lZ45Cbx5jWEyJ7l4D5VuRGBG9SFzs4EHcbDijUhmdvE3Cfl3gBAZVGQ6dciTUHcGia1BYfUwDHCOVLCrUHlShk0Hk1hp0T5M4rju5+A9FyFUQl9UjfiF4E0h9N9qRESbiUSDF3gBJbhGp2jcSrxOiojOcrURFCgv83iFE1s7j9tNcZd0FmTUTyoKlrYn4YSds7FxRCSLsHtYwFI65dt1tYoeSrFncrxmhk0ApBiJ5jthdod1pGxScZNM020O0k4mJGxuw9Rvj8TkS9tGZlp21fAVMYhGx9iP5agmYgQ9jG4ti5CjSK9H1AwwjScN9nRR94SxYd95A99bxuQ9RuB7TDjQgtDOCzC5dT8ujojWUptB5SlSST95ZGD9BDMwi+ljdgcNY-S9IFDTDOJjs7tkzrCoJGx0ZGQwjKyv4zozdCjCgj4Bsu5v5Gy7VhtZTepawtCmIgp0YyzitntJSWTCyUzhDyR2yZTsyJyuTDFeyCcR8yDuM-hhSKFeFR4tDizCidQYghjuDJMIEtzWTJ0nccY5zezszOSiSOy+yVwwj7ynEdyiynd9y+iIo0tX4Mt5AlBst2Y8suZLAitzBV5xD9B4ZpjQB-cNNKMhNlTFl0di959cciluBfSryRCiUxVch7DG8RBm8CxwRiz0IcdCkDUsKrTBzPVYMEVCKm809YLGVUN98rICKG9mLX5S09VX5-lKLF9DdYLiUIUZBuAoUd1+KsldSI9RLQQT9xLuBMV6L+Zt9Kxd8hkZAFLDV0UJLdA4yy0MzSiXE3gkZD1yQgp0EplT90YyL3iLKL0Si7Kzp0ZWKUNx0dx0YrJTLaw+KbVXK+oH8LLvpKY0yAMT0wrzwjLitHAvg1k2ogzNKQyhlUzcLAwbwDyhiciFN0qrKtlBhsqVT4r8BjAmoI8ClqzCgCq6EsJIY6LzhGxKAY5gTcQJ9UqTVGRFTwLRIMyFMZS0CKZaw-13CeA1jBr+ypjpLP0ClHyl9lNIgaq4xIrBgaYZrF05rkCyMIhlqvS3VH51rkKuDEZAyOqp93teyhrTwhqWB1hGp8qVqiUT4xAWqjArrwgNMOA2o3qbrtDYhSgCZ+qCl3qqFrr9NHc7ryrlcVdvrXrVBQaL5hUAAeYEF636iGm-FoUgcyCEAAFStjRyEF8EEBvV4BVSbDD2oFqGaHBFAAAGp7lcSDY5ohQycPqGbMErJOaZ8YgWa2o2awqJhxNTIca3dwQCb8B-piBHJSaxBya-jKaZ0abMEebmbKNWaZB2awbwhGaHK6bGbebWtDYxBBa-rYrzA8pHzsyZTqzyQSrKww4rZsRHrpgJ5DArjEbrZwa9R1oVgk0X1Br-rGcrsnaiAcyKTudoEyqTpzrQyFCZ9mgZTs5tog6jbZhb4-qjak7PaiIPqbQ7RzaASWJBQa8Kts4WqHr7CQS4694-aqcxbNxbaAC6BLZyhL0m4bTWImiHlGxIZGRcqQbWzqi6EPbbZIZ5rDdlNyK0IJ7trlMu76TYtaqEwKsw6XbvzeqmQP5rahsqFeo7akRFk170QN7Ks3j3bPbJqKZRrFQA7XY06CIjtQ7T6I7V9OUErY7gyLqsSE6CIk7eyU7LUPrh9Sh4Jtobrepg6Zs8TbY86daC6sgi7+imb+wy6rsK7Wrq72rv69966f9G6va2ArJbI26RAO7PpIDuzYDtQe7Yw+6CkB6MS8q+iQiK4x74EJ7Bqp6S4cTI656GIFreHF6Ysl6nrvSX7naENN66Z0tmZAK2ZctOZuZsAhiE488k9C808HAqtRC810F-9wR4989k9uUL1jHNHGoE8B1AjFt08INj1u1DqdHaZCoNGC9U8-zGR0F0wbK5gHLYg5hVw+GigbKOQAmYgORgm-SbKMIInxqDxonfGxVw54nw4knpgbLnZQ0HLsnMhnQQnCgbLuJDAB1yAYDuASmymSbFRCnYgbLf8Inf9Yw6mYgbKbgWqp4WBDAyKOnVAummYVhWnhiwRwR6b4nYhoLuBrTAQAA+OCzmmp4ZmyzyCZmIKZ0AGZgEeZ-3HyJZmJsVHY6YDZrZnZ0ASETZmIZZsVYANZgweGaZz6s5sAfZ5JnccEAAUjuZOaeYWY+cudAGufefEgmZ+bmYWY02tIOfeYAEJJRQWHnNnfn-c4WgQoW3nRnkbvnEXTmFnUaYh0XMmxVkaAQ1mwXtm8WgQkXoXRnZnsXHnwX-d5mCWgXaXSXuAihyWznZmqXCWGgbKYW7mFnCgKWYgYXYgYL0wCpkiLGPGSLpSrrAQVwykfMBhuBZXTH5XGZpWPieB3HNWl18AWAAArEwSgJ05VjQVvcF2J-VlPByjxA-YZooDVrRv8tMSKGVu1xqEhJ0kZrcMVd-YQByoN51yOtpsVSAOgb0P7CpmIKNmNsAsN8N9pqgfp2ASACJvphgDN5NyO1NzpgAUXiezcLbzYpJsoADlyBK27nq3K3oHcSdWqRXWfXTzT5BqlWVgVXhQKXtodL1XvWNDmBHVm2BBW3h2zzbcu3pge3wXHWLw9WE9LHJ3R2Tghic8J3tG6Ay95pw5YKc9Xo1RSBw8TpjXyBqwPaupNA36rwJ3rGOA947GdGZ6Gg91mUEQihjr+ZpwsRkqtL41YKAziLa741DN+14T9At2BLr6jal2THC8OEg7X22y4TkZoPZKjXTXTAhq4OJ2OFbdy3YhK67CHDQOF5aYOABASOxAvg7qAdcG95vj4xCB-3OqsSPXfysl-ystFGOZMAMAt7zKKBTAGAOUPhyobhSAs01EPLn1lZVYPFZO5TdNOlH5lPdbMEGADbjbNa2klPBS-hn4Vj6EnHC7DOOAbFsVFAbhHD58tBAUTbb6gpyBlBlByaMgysjAo83PfmmZGb9BXPlBs5wQ6bShQvQBabubGaguiPFRQvG0nPzH4gwC1YTbd2hr33UlKAk3IhoIV7Ax+axBObwQIROaCLbPjB7O5CVWsuUueho9NP4RwQNq9XJAQS8cFBAub05PZi91tDwvk1dJvt-E65+vQBU5lJa8Q1XYbx+vwh-MPF5vQBUXMFMMBuDBtpxuNNwRMNjJShhPXOZxxPYopOs1+vjJmhpup4qa51IlxvJvVxOtyCBKCz7ueuVOZdSudPsuOuyAuutvWD5vNPxM6adP5zRtJjW8CxIcTduu1oQfVwwfObfvcROvVWzOsgcDgfdbQfrBhuVdUfcpQQHK91B32u0f-vPumhJ4sILvFiiejGNwHL0FAe1pEH4fF3UemAqeTP9YNaSZ6fdNwQAByHTvdErsXkzorwW-r1r7njlUgNpRXmZjKmYl9T6BTzcbaFXuL2MGyoQYNqyYIfWhyHSbeNwYsfWwTDgeEanggonnX2sJXx3G8XX8nnLyn0gQSEzx32+d3v8fQAPhX53600c8wc9y95Qa9mce-MJDwFdXAuTtXWdRbRDFccU95lPu7rRamV7-g85RDFD2IFVyP9YaP6gTQRg3PBPtwDLpP+32IOHKH9PxYmyzDaVW8yH8bRDbQ0yUJcPlwFXs+X3eGGvrlNwJPx4gwW7W7tP0JKoiTXVpdZOoEFcCH6pfuI3AvuH3v6LNx2v4wUOe3eKK14fn3ZgMf+PifzL1gvfw0IKFfwBnbuJjPhJ7X2+a-lddeaPWpLVLIL-pb2P7l5jOMDJ-lQhC6pM3+gAo-qBkMAmdwBF8ELmXyvaV9Y+DEAnkoXf7Q8FW+9QzKXwvbl8Y+1fGAfX17599sBiA62IO0P4-8QB8RSiLYRb4L9661lMVB32pBd9N+EhFgQwMSL+gK4pyJUhcX5hgESAU-NXrTzWKt9VOvmBfiZ1-y4ESGdkIAi4De5upwCZjVruZT+ISCCugcFzPIMWJZUjB32RQURhsgqCvcLQHfh5B0GOoQ8iyC0MWHKiUB8ATURqAMAqBFUF+EVSDJoKn47dnB1UVrl4JexaRYoA+RDH4Mcb6B7B5rBvoPwFgfEIE3UA3ERgarSgyGocTqAwHUAiAOApAdaOwiIC65fBzRGILYXgy983iS-KkM9BkzEwXojAPKqEiUy8MAS4jFwA0I0xBs3MpQBwNkJOx5DDehQpQZjF4ZhYfkhANpJZjOjPRD8leBIv8FsKGDCAi-O+hXCwi5AZhGPBvtwB2FtITB6wxYY0WWG1D9qNgwgMXWXpdDphZQ9YUkINj9AFAN3PDKHAqAwJfAchQwGyE+HlN14hgUkDEPV4P0oUb-f4d8NDhAingvvNYqnShTF91mfnBLB9DeGBlIRPw1Ea8KIiIi4OuJTEdCNJDOVH8J7foIXkJFGA-hkYAEUSN66B1wRixQkULGJCwiYGWEBEXryeDgtqgeOG2BSJpFQj9AzImEXr2dDciKWzwtEbiJEQiDOIUo14TIBgTqwrW-+ZzjUWVFIx+kgQD6GlxeEMAe2peakFZ2+RKiqAWohUXqI+j0iH62IjbtCRga8iyA-IhxF8LkIPJU6dolDhKPmZmicuJ8bUS8KtE4iz0OowSGmhOpj45MosSkKCHjRqJKmVAdodjBrLJEehoAWTPJhBoJiJhgMIchXB6FgRgw44N-sB0GA5igkrKGmHCP9HLIOm-EOYS4gWGJiqxymJIbxDxyMB6xCNXiC2OTH0Y7h-dHbhFj2C1A6ab-cECOI4DBsFB7QLjL2K4hUBwgb-fukeUdFwZmMvEZcYsTLHRiNCcYrEguMrH9iKBCcNYluIm5pwzxB4YUUuOgHmiyAXY0KAjRvBbikRzoG8JWLFEUVaxT4viAjW2hvj8RaEbaF+PfH8MF6JnScUmDHFPC5oVHQxNiOgqwUsIiLH0UsTYAW0XAagEwF4CniMBghw6Qic4G4DD8Fxw-HauSEbDdiT8l+YqB2MfEGjnxQfUPoJVZTET6A3AYCWhAoltj9BRNf8bRO7whcpxY4t-g6O+yJVaOkgRCWGJJKCTn8V+LCWUHKotQEYUHJcSCNpwC92ogEpccpLSiBjdR3QNkN0GBGpjdWfrNKDiFMl+BVKdwp0kWK0yiAoSoaSLtSCSFqSx+RIHuBpMsp1CBA3QRkHpNlj5jRC8GboOEHC6YZ3J3QAuFR1AB40AAEoWwYAABBcAOAELYAAlPGpAAADylbZAECB6o5VJAagcIS4MRR+TOxJ4rSbwFUkyh4YNUx8Rt0MleSf+lvbSBaQYlJAKBhkzoAuA4nvBWuA0zIJVO6nVTYKyU1KRlKym5SCpRU0aZIDkxNTOpEQnqQ+L6laTDJloryQwB8kQpepbeC3htPoCeQFRjg00S1AmlokWpSQOqZIIVFvRlRKrHTJWPJpzNCcOEytPhNumyIPplkcar+JPFIiZA5U-psNOKTHSTxlHSQHEAyBtsHAeORkAAAZ12E8GoI5DBSIy3h6uWKNQEGBXRcZuQZGdoCBA28kZpIzmniDCkJhKZCKMmaQFa6EwsZJ2exBuXJgMzs+FCQmShLWK7cHKWEbmXPwJnCAOeGnJIYEEmLszxQqQaoNkERkalkiIsmdDnzkxmhL0MtHGZIh5lizko9tRZAlkCx0ZyhK4BRNUN8GQkiadwNmWonGGqz8Z5UPmfyWvGbgZBqOLCMbKSxBZtovfcCcRxMxmYs0xw0AX6H77XDbhlw72cHMVmWckhDgNmkxP-FQc9wv4SiYOMYbDiYJM4xYtBNHG5yzBc4gAWnI26Qw+eG4zCFClQYzAbBUYoUP8jKprI-gqc9VunOUwVyTsUHYEaWNOrEUG5Ded+C3MIC-hCAbIMjKADwCQhp5ncrCGPJThXi48540kG-0Tla1k5-EV8XiIpKvjSQAcooGvNxDdi9h88-eQREAl7zuJioGmBQPznTiWu37UBL0kRlqwFcFHLSWxS8qLw35rKKZIjICrYT6A0CBqbIkpmwUPEYC4DLjIHxgKP5M3U9AAkfiQKNuBvNgDRl8BVxxC8IEzmpztDIKkhOeYJJTLjkYwyJW0ndqAF4m8McYjYaBP0EYCUzGQ0skuLLL+Dyz4EYCg0skUPlCSr8mRVcDwuPlkKQZ3Et4MArh50KhAOsvkGfIaBUK8x-EnhYpPSjqRRJhc2uRJKMySExOofEhXJTiE2wGFSs8CVJIQmMBLRSirvEpLhkCAZpDAbKdZAAAyhbYqRhIxmLJwZCkxGdDPIWPTFFjUioM1OOltSVpHU0OJTJ8W-j+pK0wadIuKQXoxpC4CJdyMkF2KHFzi8AMtJnBhK4l90tvFpOekQdkYOmXaUhP2mHS8l34lYH-I4AXTsR8IJEaUrkmCzfKiMupWGLt4ELoCuSmGbmIHGXDnpfot6ZSURngtCchC6RSQvVa+K+lcXTxRVOSW9Kb5cE+wpIhV4sSyAuIJZXNQVGwVBlr0q1iuCHHzMHkhStDh8MFHuiCI3oY-l1LunCLapsy8CehJzzJKHlj42GcWS4Z2ikh2i9ZSr37FGTBINC5Iq0GRCMhrJYgr6AH3BB-LQ+NDMamCocDZw+hixNZKssaj-LQ+gK3ZSZyRXwJ4hxSAPt8rDHKTBYXkpaBeMkH88TaJ8-SQ7AFIf8RgW45SR8GCCeC7lzsxgF5MC6cr6A60WwhSpbnDSNhAU0AEFKBDlLywvkkVQCVoWJBpZlBPleYuxEztKcTSoMd0FOlVS6A7Sl4Qipdb8AcQ2qyabqsukoc6eyq7gOhPc440TU-02SS8JswMkoI5wCND+zcGBBpFq01aYEpIXKzdWx0xkGIrPBw9OF5IQVU1MpXkLRVsQRsBKuSGBKDp0qo6TGrlXJFbViq71QqLVV6QNVxk7YJgkpl6qPoBqwoEVGNVFq2l5qh5MLMRnWrfmma+1QzN2Vd0XVy9OUR5DCEMzggDq+BCKrgWTKB1b-btS-JFUmcwhw03lWdLbyhDhAtymddOp1XrQ2VXq4aT6p5WyqqJyRa2Aup1V+s7Fc0nKXlMKmZLyQh6zKcesWmuLLVM6hteC13V9rPSY1cEBiAfnurd086yZbAqgirrGoDM16DyvDVirH1ESxkGkqcUuKmIEGjJYyDrXkx0JoG7xV3SCivqS0nk71NgwfzGti81BG0SFlQIXocibwHDSiDYLgK5BeBVriBhI2PRikeGrSccPfT7I2qnCFIKRoLDkbB1sxPDa1xyIlMONYIBjZIL9mEbqNaSSBOxro1cbJBTGi9DUDECzJQ46y4TfxNE1UbH5dg+gMa3wAKzaNKIIaiSqdWDrWN+mzjWZvNZlydl2IkziRt00cKJN2G6TRZpoLD44Vmy8IgahnAWa4h2mujUPjOK4kjN1o2mBWvBCG99a7mpXg5Ts3VAPWE8ATfZuFFSaDNOKu0SZqw0Cbi8WWgzfaKIKOjSRLoqRG6MGA6YotEeDEjltMDJbDAgm9gsFsEgoQGg6ExLQrJAxVaEhHW1zYFtnrWbSV+0MLSbysjlaHKrW2dVvQU1lZ18fSoFXsuxEvSqAwy1cMcrsyKg8mIWMgjoo82TaHOW2pXvD1c3htpgpimSSqrkk3zbAPWgGtSHgmnagVPDQGHZlggKlQ0TWrfH1qdX3QwtZvSLZtpV4OUdtUMY8vDBMD8AeB6wrSWESIw0c6OJyRjiamUkoCK+VfLsuXjS2krJwQUfZYtsOWz4s5szYyAjFB0G5NII7GgGViNps96tVVI2h1GphPN8RigysFxKO2FBLBnuYArxGIyQEDaT2wLeCCR3ED7KYcmXCdrcFnagx1Y8ORhNfYNaBtRqgXYQNQEo6MBw2v7fCu4CC60BlRddtRL9xsbSmXwxkAAE4TgCWniF8Pu231zdhu8pkCrkx441Y3AfJRUOrwz94FasWNWcMYE14XAGmVGfgyKBVMvh+gEXiLyshoBI9ZapYZRFd2FBg95TPYR8FOFB6Lddu56X9lVjPSR4juFwD5Ckr9Eo5MQBPX6nm2Z6m63AG4GPxL3KTOg6CzBefg-jsr0dxmyQQ1q+0K6695TBvVKkwQjao8aC7vWIXPDuLvkMAvbW0mqBFQTwZAS2Gsly4WSqQrQRkOf18Cj9x+iffJMYFrx0AioJXI4J0ojU14U8pAOfbGxW7qQ1k31feG8RL0QhvIPkGAZQtD7JC99AeVZp+xXB36Q+Hm1oMcFAAuqWIA4ddW4I8FTx51chP-YHtHWSJe1U6ydcqv0VQGASA4E-WfrAIX6JIV+k1PCAuHF609bScEA-u8hMgdVggCA6IGIPeR-IABpomxDobTA79RBqg8-s2UbQ6JTMKg9QZEb4HbdpeuSacvm1LarwK2zfD-v23ATSdqQsrK0H7HWrmd-0X5pVjFHlag+0qW7eLvu3Jpn4bazTZ+gxJCBDAjkVWFPv4ABql9K+1iRf310wCNJBqL6KYYEB60D9NmBhiXD9aqHZDN2tqGYq0OhobM99LIJDAWLC8HIAktQHNEXHMBZI0EEgvVwn076ZkC8NIdCr-4jBgjjuOnYofBbKHflfc0OAPKbnUAW5OY08H4rFXpjMxLQ7MRZwxhHVS6BgBoat1DaMkK4gi5iY2PPzNia5R2so7MqOA9GGSVQ5jKeAzwUkp5M8pIrq0qNNCfVCmPo-UZaIFimhmBzTBBGtntGU5CYq+Z0a+jNi+deYDubGH75j5OZGMBY3xPpI+Ea8uGeEgRngR9GcxN8pahMchDmyK4d82CbFgYPCRBB+Rs4wfX6MdqcA4+9ZSL0In6BWdoAAADpYBiFRS0OKAZkDBAuuyaaZo81YxoRw9qiWfWVS0FYBQTui8E3cshOs7YT8J85UwHcHInveGkm8bwBPCO4egWEBk6AAABei7GEwKARNUm3oKJrIz0A5OYm9I2J8EGgbxM1RUIB0Aw+8GMObhwTlJpE-yZxa7ExU5AfWiwH1rKB9awbSYCLzTB4BCTHmhU+8N5M0muuKp-1uFo1NamdTdvUU-5CAA')">function extend_if_possible(variable, val, frame) {
    const binding = binding_in_frame(variable, frame);
    if (binding !== undefined) {
        return unify_match(binding_value(binding), 
                            val, frame); 
    } else if (is_var(val)) {                      // ***
        const binding = binding_in_frame(val, frame);
        return binding !== undefined
            ? unify_match(variable,
                          binding_value(binding),
			  frame)
            : extend(variable, val, frame);
    } else if (depends_on(val, variable, frame)) { // ***
        return "failed";
    } else {
        return extend(variable, val, frame);
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p36' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Depends-on?</kbd></span>
	<span style="color:blue">The function <kbd>depends_on</kbd>
	</span>
      
      is a predicate that tests whether an expression proposed to be the value
      of a pattern variable depends on the variable. This must be done relative
      to the current frame because the expression may contain occurrences of a
      variable that already has a value that depends on our test variable.
      The structure of
      
	<span style="color:green"><kbd>depends-on?</kbd></span>
	<span style="color:blue"><kbd>depends_on</kbd></span>
      
      is a simple recursive tree walk in which we substitute for the values of
      variables whenever necessary.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (depends-on? exp var frame)
  (define (tree-walk e)
    (cond ((var? e)
           (if (equal? var e)
                true
                (let ((b (binding-in-frame e frame)))
                  (if b
                      (tree-walk (binding-value b))
                      false))))
          ((pair? e)
           (or (tree-walk (car e))
               (tree-walk (cdr e))))
          (else false)))
        (tree-walk exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPMVq1IR56H1uwC7rp05TCi+FgA-MJuBgLX3jAUMyGzLshDkGqxB1KAozkLvTCsDV8yKdJjCgGtoAGE2qprWgP8bSy01ZSaz0M9bEsw7DRkYHUeuQJ5auGbnoCB1AoGfXyikTeoB6iNGaHUNBYQABcoBuaaDKKArSfZLRIJQXaPB6DC5UOgSYWhBC1ScmAWQuYwYGGfVVmbVQz0XjIT0MvScoANYhzKkfLIoA7hiN+gAKikTIeR1ZQgBQ1tQR6hAlKgMkDwWYujJq0zCKIughAPBKJkawug7CZCc30Zwgc4jkpKMItUSg+AP5mIsQBGRjwsFNGIC0Ze1R1wBJwR0aonQiFyFkMY6ooiGFWKAaQEBdjJD8FmDucxrimQFXCJ4xBTZkFXweLI8JQS6ghPyYLCpLRIk1OifIOJPoan40pIGBheTGm0O6KEPpNhYr0G8FMXRDjDGzA9Euap1hTE5N8bIlJaT7FZODM4yRAE3GFA8V4+ZyE-HlMvtgypMywiyDdIGdZgisjTGYW0-Yhw9C5TGSfA4PgJmgCmTIRkty2l-McWUK5uTukpCabEmQ8TCiJOKVA5JbDUkfOyT45CWz8k7KKZA0p-ijmBOCZCgAkNUc5LxYJ7JuVgQl-zqgPJ8DS5ZGTJmLm+b8ql-ykXAo6JS6wYKWl3JSMSzpMK6iMs9CCgqAzQVAglQQaqCU6D7HIKQeYegWCnPkgc+EGitG7DhHy0IGCtXaL1TYQhbAynwhiLIRgipjX6vEMM61tqTVEMYMwHwLBCwAFViCPXLgAd2cPvT8YgAC0IbOHIVUTYaV645UKqVWGURQbD4LNAOba5-wmSiJvlY5NmIM16DhIanVWaYzn1PufWReb0JKMLZakZ1Z27po8DEBKsQkI3M+Uy5e646Uds0l20VWc2QtsvjEHQC5jxCNHW21Yxj+59hneOoeoAl26AwkuPQa652tPXIGbdK7t2SBiJIfAkl-j9tmGepEPaIJLMvUwG9w6xB9WkpfPQD6vlXvPbe28dLm2tvHR+5Mr5j6Dumd+p9RE8AIQYGeh+UA4CIGQOgPgPAAGqhUIuBysItTKD7hBCIsgFBKCmamWIDI7kYPBn4O5hCfgkko-kg1GRtUgXxF85SHYCREiROUWYeGmH5Po1GMtcZzyoWDelA0VGiEekGmJxszYpO4eIPhujOx+0SeU6HJjBUMFYbKlpoCV4nyCY0xEZ0mp+TlFk4ZgO9EXQ2bM2poTBURMKbHaVVODEZPMbk8leKiV+jJUXiFXzxgBOuYsxLX4PFKJhdShF0wsn00ISeXF8SLYpIyX406mpBlXbUGMnl1l+TzPCZ2BDPmbnqgGfk9Vz+PMDpYwVHnUwUX1OVfVsbWz-n7N21U119zOxvJDGhs5vz+mAtlTGw5GWnkKsjcs7HYOumpt1bVKtkyhnNDST0CnRLFV+NENcyy1lrU1JfNkjndrJhOuMg094N10pvW+uoAG8G2J+SqCoqAMNM29t3RnmDQOcgTLCFmLdgW6KIi0UoCwYLygljpeEIySF64wec3h4jqgyPT16QOyQKHVcmbRpiXE2HomWC7GoPUAn3UifEHR602ZZbgRmLkJWwHOGU5uyZ-d-LBVX1aihHhw4tAnJC7aSnCSSIX6yTR+dsrBVbvK5V4UQ7amJfWamGj1FBcIh2U43RRWKW-kYON0yzzb6pim657VyrdS6gNNADyiFrOXUvch-CN7-rnABQ5rsCFAOsdRrd0RdRkweMboEgvGidAHvxPXOXUeslF6oOm8LZhhC6W7d553N03cM-3dO-h9XBXo9XaZbJEet34+9we7w6a9mgveaO2nFz+H52EfBIwTd+f9u9X6vVFoJ3BOO8KPV7DQ-Zphc83dh7fLCGD-+MP2iAcufj9cyDlvDXiG8w+kn1pVOlA045lzZr70iZqogs713buKcQtP5LMm42KYXR4ZClI65V8HcL61jjETNMIJg-u7t-jNCWB3BjG-sYLHlYnqn-ujFLO-gtsYJ9CATvrQqflbphMgbAW6F8iznquuPgZEHAV8g-v0k-hARsBBPZo1vliPNLDDLjJgfhlQdGlKpHtVJdooCQFZmPhpDAnQS5E3ErMIZPjYBgtntULnm8oWvIgIY5pUiorMHwZIMoXKJUsrJIaGFyqADwWDHQCHPOHTtODppiHdsYqfo1iOBAaYtTFYtVoAZTO0LQnAmfuzJzHYdTFIXQrITUoQoHKLgYKYQSGfNprOFYf-jAa4Z-j8tLjYCYTkBERYdEf0LJOmowRrqyswagawTfgbuAZ7u0qKKJiWOJiZslv4WEAajCJOFUZJsBDiB2CGHqh5sZs0aZhtjUvUVKF0ZYehK0aBCOLaoQsLGAUYXvslINl3iIuzm7FYi7PzgyA-qIusgwLIikWYZEdUTGFusVtiGKqIloRqC0FsXIpjGpGcTyGPpsWKr-mRvtm7BXuVlRG+mLtrswLrk8prOoInpgoiCoRcU3rvphvJnNhNgbGXr+pSOmrgZuk6n-nZB3jUW8WVhPuCWyPZlZmgZdLCcYqIl8lYn-nia6LHtvhwUCFZuxkZkynoOSdqCMZkCdl+rCQ-uuJQdMRCclIMRkWFPMcYrSSyfSZhPyWhG2KKaVoUH-hKVJpSQyA9hiaAV0PDAFK3opukZKdJpFoSa0iKSpGKZuo0UpgKfONKUqbQn-qadqQqZxkqbCSqVge8DBnpHBswGwIhpwChrwL-BhmyIMP3v8FRHCdsH9ualEEuNiWIGloTnLjlhjLMK8fqbAi1L9NGDTnTpfAzgeIDPlgmfYDJMmUcQ9s+lmJmbTvTqjmGVmPeJHFKPgIWJWdmVCAhKbNNLLtlkWRjAdrWVcW6GNAdrMJ1OWTKt1EViVvgP2StONE2aAJNGOVrsoDrk5NOT3stNHkOfORtDGc4AiZmJScWLbjOb9IiciLMMea6CukboeZxkQRuY3PWedMBp6IWOeR2aqOeTbjjA+bumZEjAOEQc3phmQBrFyOuuLj8U5IJo+dsIGKqWLJ2QAdeiSLBf+QTH2Ihe3G9OBRbBDuesfqEGmX+goahQOthaIgsEsGzBflBZLq6FYpMQGbGfwijuelxnqICddv2XSqKdxTXiuuRXSYrj+hYMRaIRFJuORUJeerHqJTeuJfDJJfBcGDJXuUQh8aLkoN8Qxc5kaQJbEsmRyDRa5nBfpFqDoAsJxZkDTOalkLoNZR6Jnv5v+mxaehxfxSKhgauiZTpcNiNg5VZcqvxWYAADxiKWVOUAm1F1Fe7IKFoAAqGQaaOQ2IaoVc7gMM4M2iccLQhCcIoAAA1IYbkTRtELoB4u7AZWYCVYDPCMVaVbkYYBVToFVa+Twsaivq6glXCMldQAQDIH6hlToFlZTDlatpQPlQ1SVUkdYC1eOu1aFY1fVYVbNWVQtZVfgCZM5SXO3MWnSYqUacfkCBqWpuMBkEpOhbQgFDsTZUZYOiITUp4cLPdS5WVgZudRokpHNTYLhdQBBROvRb8RPkkYQqKRqoTDVb9RgpaLtb9eDaYcrKFaskBTFWKv0tgYUnhhqtRV4XRbpbrqcqEM9glaKV6sQOkPUKABpOHmECUXqqIuRVYmQeRQvFgW0uuHdcJfxQdj+hiaysJddnzTehjVwZjSpc4HhhdbXOzdSX7NVIadxg6cdYOidWotVNLd9XLacrdUjV5Y9cTYbvAkrKFflp9coDLT9bkf9YDf5auTjKDayuDUaZDX2GbSrhgsSnDQCSKrFSNndTuDVajWULtWLdyk1SkOijjZGc8LRZzMDQqEbdYKTUcKrXCN6lTZfDTUiP9uGkyYqOHY-s0h7ozezszbIqzRxaqZzRBNzXJbzTJQLVSkLTXiLX8AbhLeLQXFrZdTrWGG6d1B6QhhwMhtwHwNgO3HDtELjpQPjqjiQARmIc+blD7nCDjkjsDszNNBvXjksAjkHB-qHGjhPJhd7GpYvVZKIrvXPSju6VYrlHgrlHCKaPVTYKaH8oLoUM-daG-dYNaJ-W8c-TSn-aADSoA0-b9OxKA+xBA9-b9ArKUPVYg3IPkl-SkM-XGkmNiPVVg6oOlQVOg2EM-anX-anW0kQ6EM-QpAsAHB4HQIDDQ-MHQwwNUJQzYM-UVaAzYHoFRLMMcTIgAHygB-YlUEPsPWDP0hrcPWC8P8NmB3DCN-bhriNAMKIyMfx8OgACOKMiOgDyLaPWASMDmFrAAaNyPaMKNKOgBgCqOQNShwgACk5jWjOj1jjjhjoAxjz9ZS3DFjbjej5qxxajDjAAhA8H4641Y3o+E7IsE-Y1MHCGFS4-I0I3oxFdYPE-Aw42FXcDI-49E39rk5k9479IIyk5Y2k39sIyUyE4k4I3k7MGEAU1U6AA07Uwk4WqExo3o6ELo9YKEzYKGXgqWlATffPXpCJTIrQgpEpKaCfDPZvbmVYaM4YGA4s3vcs+hNQB4AAFZfxbEzOKRM5pPAMbO331XaT67GNhDjN31D1MhYDX3nP462mXG5TP3O71XO43NlVUO-SQDECBKJQ4NNOAvAscy-N-OSO-RMOSCwCQB-1wsItQvQvUNaDMMACioDcLmLqLfzz9AAcqoISxo8S4S-7X86s+Wi80sLaVM3cEc0pJ4ro5aNOQswjks289S+s5y5s-S9dtM9ULMwdmk1cz8ry7Pa81qUzO3FjvVHy7fVs2FD7jnOdP2fKyelgowODuOpILs6oGoCYdEOzHoAWbS8ejTlkAqMfYvc3SkGq+xKiGEDyWyOctovbdBTjP2SLjmYnTjE6iEe+nc8qxaQZbML9ZK1y1qSJfizYEG60CGynDs-sxQICZGyGwK4Jfa6EHjfHZ63paYGGFkOfHjToBrB4KFoTQqM4SCLsAW78Y84PQeMPV6aPVwJgBgCxT1LQFEKoBQJIDzIYOhApIwNrP2v2QrJ4N4IOIBaHSBpso9ptuZMGBO+jnVZIGteVYtdtbO+fWjVOlkDQnIYXIGGu2OZmQpFzHLtJI1K1U9WUc4P26QO4IrDhgYFDqQKQNEwwCVYyV+xqnCIVRgkB6AAVYWI1c+3GwVEBw7PeyuvxOQBzL4K1STrnGh6PkhwI+YPiiRZSJtToCtYWo1Ze5RLIDe2PiK2q4hxzGh1-nVSYHCGOTR5zC-CwIyVXJOybWUDnLUSB8LLqie6RDCLx2cKcHcnoCg8rLx2YEEKe8GDJ6ALE-CNvHxx-JaKJ+anCNvHyhgseSmAO0O-mqO9rLx8vh-CtnHAnGmKJ+cMagxv8Idv1ElmFDJ5SyB8RyVSx8sN4Oxxp6Thx6sOu5HfkoVVu6KTHhpEzgeD5q55x7VSFzBzNes-YBfmx3u1BDxwF257VcaiiIJ5Vix4WtA2hws6l6x750u4UB5nSmZ5tkV+vW8vVblP56sCHYFxK952x7UR5gRx17QiBwAORbs5wrXDe0Lg1RA7smS8fMebAX48yMAmSLfYd4flHiFlB-DTs+CWgrfQdtLP05B1CrXIKrXlyKiFiygNrvmKx3RVd0JFe7dLhLel6Bh7dldYc+eMCqoTcpdYcZd6DvcAqA-PfBN-cLeg8gVsgGtGukAmuEHW60SaypQN5ccByTXWdhSLxqeHcY9zj1VOf8THbY85s2Aisw8chw+UDsyx71TI+ch0eo-3csIOeo8DcmPaf1URdqRRfY89eaW7AaUrc6g-ZUR0+3Scio82GFKWdrZXh8+QpM2TMQ2yK0Lc+8YkiE-hZY80Sd2QFrNI8S+yBQi3ZWIivC84ii-i+pSM98+cGkHK+u1acgPs90qWiG+pRjDQ7kL7tlAe+che+k7HvVfjkxcq+PBFqTAFcPfMBG+B+5y-cpzh+yJwgU-GvU8I+ejR9xV0pJ-HVOrk+GuU-w+0-++An158-8+5+O8dgLP0-G9p5irgGn68+6-VLrjP3bxAxGmRd8Z29So0Ge6-40RTEK1gxB7-DY-mU7B566-s+WjY+-ep0N4U3vafZoliAT+fkTi9usFT8YWNyz9Lzs8IVz8nvL8by+4+r+4C-a89v8gww7wBRXfWo1oVxeABx1ANCtD79rf0zYjB4peWnF-oqDHLXATeAfV-m2H5y-9JahcK8m4X75j9polqKcK+H2yX9yKswEgFnShBHhJAT8S+FkEYDLwAo0YXYDtl14QFT888BXqURMSLFAMugZYkwInQno2amAn9JwR-wQRt0GqZ3ObSBK4DJ0BAo7sQJX6PoO6+WQhOQJMhHpOMB6Ius3xl5SAj+xBWuqRUeSyCAefPS8rXBMin8l4evCOiXVoI90R+vSbgnAO0HY8NKLVbICwHR7B4cyDQbBmPjoAOJXB+DMYHQCMQH91ur1DwWpy8HYgfB-AYRL9zd7u1OopPWRj+yiAOCnB2lEIe4ISG-ASU9IGIZGzKopCoQvgkuEMhfhZBDWKENwTcE8HyBvBeQvwX-yFgIIgh7PXIdIHCFV8FChMLIVSmERpMYgRQ7IPjlyF6Amhvg4RLEJqRdDdG9g9ITuE6h7VbqaQxwfgCTBGBjmPuB9oLEWFaA30kQOwL8BQ6JCRWqwgoWjCWFbDJh7HM4Wj0CHzC1OgRFIPRgf46s+hpQqoWazaSExrhObcYcIw2FIctQ2whwXsKmH4QdhqqWYZrS0o5kPEC+SYL+QXZgYKIBJGSkSUYFjpmBsiI9OwI4oPp1KtQvgeagEGbZfWrQB9AiMgxSCT2CqF+POBoZKot0rAykgelmCkjJB3yDSpSO8DUitAtIhVEyK0Bkjvk0-CuhH3wDmgWghVdnnCBFF0gxRS-PaOoD0A8jQACIswOz2ZrWBfuEQeeAqhVGEiIRUIKEfWBhE2ZFRzImShqNUEKFtRYnGfgoWVGu9NhHIyQDSOVSBhtRowgqIGGVHujqUDooKM6IB5ujshVKS0F6KDH-IZK-PSUaKOO52Dx0JbKUvMN4a8UFCWjL4TTWbhQ86wiwLWAHHnAgCbOkAzELMGF6KjheSI1pKImdFtROc3OdkX6K5HKoSxfI6xCMn6ARtoWrKMsVwNqFVj7claYUdGOz52pbhLCQGvGItKJjexAkM3JmOcCEBZAx6I5FRAVFaA0efXd3quNnHXx7A-w3YaAnGR2IahoQUxFYhvjLIDx2IRcrUK2LYoGguKK+DIWbhgdwYGlVtH1EkC6JCQK4rsECFESgIrEG4otrUM1HJhlkZgEDtvGfGgJi29gUAIlQAASmLSQAAEFwA4ATFgACVEqkAAAPKEtkAsiZiu3HwD2AlUDmK1DETrHEB+R-ZecfvSXHfiqRanG+IuIaBUQvehYzIoxI5H88WJ6gMqPmJjBjk+JpQcia2IOL9kEJSE1CehKwm4T8JwkncW+PYkQCKJXEqif2RYlnDJOS4j8eki-EaTLunE2gCGjOFP80YraMSVAPoDcSnANE6fmcNPRLCRWtqBEe4CEZC4lUTYR6LmKslXg3JHqMBr6OoksjoOJExVMw0Ek2SqJNEqyCW1sC3cFMJAF+FYgAAMHQduEEj9S2REpYOeOMBEoCtAe0iU6MMlO8BWJ+8Z4UqQ8Mao8BOSEESqXS2zIvwxy6aLKZOlAxZBgMh7AdI1KcFy90IhU5MY8k56vJHkfUvKZj3nCFT2ua7LcXYA0gdSAIUgGIIglu4LEoCE0vHvmkKlMUhqOUs8JNIKlFSH8geOwEsD9TqBtYsAwoJ4VoFUC9UGCNqftP7QSCtpVnY6ZS2fFw4FCi-NpBgjpQJCLpV0nQW329H-1zpkgS6XIG1iGDg+lWReFMTgFAyoZIMxqVuKJHHpFAtOeiEIk-TqB7JFYlEbOhYGoi2B84NmtiO7GpBCkfA5Tj8wgJhJiAVVJ0Q2LpFkyGRrA0vGGJsAegaJbQELsoIs5zxQJHoFnH8zwDyIpZtCURHiNXT0jMRfGPmaFO4GCw6Zt445C0EelAkWZ-oy9DzPkEMlGRFKfFJSjNFtIV8eo7qZ1IHTKycR1BUweigaDODoEBIXIMrKpmi1xKks6WaEgghRjpRMYgfqYPoHD9Pi1sgCCKn5ncFkBqoEgLrLZm7AHEuwTJKFMFHnpAOUorIMdwlFZyZR5-OUX72TmTRVR56c0ZOgVGdREu0hTSp8Sxl7AAaXIIREnJPipzzZIfECbSiMTs9MZUInGU3K6kpyT4DiJETYzABSz5E5culEnLMDnAbRjyFOWp3jnbVWZEU5WDPPBm5tgwi8zeTYGXmcx-R7vDoR2IKju9Jou88MT+kjF5yg5scwMlIEam+B5s15afnrAbIcRn5-IG7lkG351haAiYecWmHRnT9tI6MldH1P5zAL-BWYV6oGE6TrTmedqQ7nIEunYg+8S4FEL9xXYDgwFW4+VpREfmNTixoPPYMFOIXeBOY5Y38ezkTDZB5wjUiqVqCRBLTkIK03IOjPWLs5951Ys3AgT+TcL-RTY34XZLDHFgAFacWhakXRkXzQgXYqDHAO4V9jM5g49niONCAr5niSwFbmtLPD85JF9C9ae6LHH2AExIIvQIounEO44psEqSZIAwmeoAAMpiwInpjSgGUgKOFLImNTZIMUtOdAswQLjlJtk5nOzxYnKSxg3i4JbxJ3H8SDpceFdCJNmy3dZIkkxCXYscXOLFJbocJVCEiUaSHJ8wpIe+ltRaTExykvSZzAMnBT9uoXRqaZPmEohYhpSsxaNK8i3d6lIIlEHgu2xxKfFZCvxdeMKU-CXJ-yBhboyFz4K4lOigdL4qbq2pPFzDPJf0ojGxirWWi0HiDwoWkLhFIUnmtcIKUginJWgEZZrgznjK2kjkhNhJjKGvCW6lkqKbJCEVUiaJ7otMfK0iVPKORsUjEnspBEYzNFg7DZSt35G7jVUyIqAjtGECnj7AVoAAf8CB5whV8gKihXTXXCQqSA-AnFDgnZ5cg1lyKpbpsqW4gqLhv3dFbkAQGMxCVYPX5Q4K3ERBlJAEb8WuKm6xBAJ6OOTp3IDGbi7B5AZBEsCimLjWJfURksZOZzS9hZQqqiIyqinqCoU7Of8bInKWfjxoMq1WaIhfauoKSAqs4UKw1zNKARHCGUKKo6UOC6aoQCtMsiMlqSTJZknNrV1FWzA0xGqhaUXlFWgriig-GOe3EMB8q4lgqoJVAuoVjNgpViMRRoDTgcKgQp+Blc3OqWnI-xdiKxEqv0njQNJaqmhY4BdV+qdVjLXIvqr3F2Jv5MgE1b8DNU2ALVhqupbar1R0oiFH8aJs6opJ9SLhTfT1ZjTvliBwBfq5BH5ILHWqxV-io3LdxFX9qdRU+NUF-ymUyrfuXaqKSOvEnM4wBk6udTKuMQ+q7AvatsCeiCWqqg1azTIKpIXWXFbFMkzCdhLwngAH8J6tCWevkkuL7V-ax1dEwPWbr6Ajxf2ZoiY7b1s4k6whetLXW8qN1fU7dQxMjXHj2cL67xVYlsX2KnFl6oEDBoyX3qFCdatMZBuSXvrbwcIT9a+KkD5tiwuzQnCXlfnccG8bcDxQAQI0YgyN-ZBfgnnAUCQ3QVGkQOnno3T9DB5G2ePjU5hypCNjOYjYOtI0l4lyABXjdRoE21C6NvcMciPDE0saaN7G4MMJu-VsggkOgByFCG0USa4BUmtuO3AI3UBVpzGtNsSv2WCbuNnmPjQeD0DGb+Ypc5hWcN+4GbVpI8WzbJDc01KU6AK7RWQVs02baAVm-mLcgMJlUaVvwPahaplCXxVqSKlbvVWc2Lru2SoiQLs0M25A5NJmlke6pI0WaMt-klLRiHepxU1FzqHod4GKH9DKhoQ1oLali0bKyCeWwYQVpY2l4wtqqYLSkDTG8a0tRSTGHltkj9bBcIWlug3WuF7hItp3QsHVpRVMiUtaWx5gFDU04Y1cWWi4QcsSHDLjm8ys5YIwpQFQpO02glUttvb4qZuQfGRQVGMW8qJxZiiMUwmG01yrtpigEWaNNnPjhYHWsIG1vG1nxC053GLd5tB71VjtrIpLX1CbBnxJ+VA-xX-kv5lsK2VbFcl635Bbi0+VPGnpxhW3fbVwXNIZc5K201IK6u2mpODpfb7ZUBcYdAf8F+qtcfKWA36h+ivRWNshy-ZQO2JPk2AM61-D7M4AVRdpX4AONaibJC2p8i+6fDHUyi6XudwYcYkxTdpe0-pzOH2vlN9rRCRa0dJfL5ADpnzrKZtoADXRn1jyPNKxv2c8BICDj4MrEAATg6ABQ8GPhRMWsLt3m7sGoK49C-F8CzAB1WNCVVcNlWgoaC6KZwOalSnJ1kt8qbBnoEG6DdCwaAOPWWpMHgozB1ge3QD0MDGCwg9ut3YlBnaOSLIpeZwOGlHKWCu6Kel3fg2z0e7ASCkMXvbrwUoL8G6C-4BqD5Wma-l6chzfMLV2-aZQDetBcsGDLa6NADkU7fVXUCoKm9C26qGX1O06SK0kybwOkC5CQtwVazHaFYgt7fYhgYvMviuIxjN7iAFaFam0C6UP50UyORgEvpBZKcI+XIByoXQgKp64QYacNGX1AArd7UR+vOtI2da0JU93nbRTtFDDF0k95gaVOigFW8rXY-Kr-mPiAOnIu1fUntSuuXVur+c8B1WefsX0A1r9ynP6NKP5Aohk94ei3SZGf0v786oqidd-2-0v6lQIBlpNKgZrVAn9FBgHB-r7EMA2DYaBPSQdd3aS9Ujkk5ZfNzqKM5qABjZUGIp38gqdgPfkY6rZ0EBom+GGpYduW5AxZd120FXoGFh2gm+rrZOAARyB0A-UM7GIBWg2lr6N9JCy3tvut6S8JIsgOfWfGP2n69158cipcTUNyGZdugccdod0OYbG4r1Tw2pwRADVnR46JUVoFUC6p8UueebpzG0XSGqAOGHaD71aChGFDTOtJioY0rOzRcUgHXrsEZQ9TCZp1aqCjOhnXTTkNA0Cd8jD3R1C5EcsDA0eIPIzgyqsh2aAfyyyzSZs6QVRwOjl5FeBmKu8dityIYIRR4KOaoQiqMgzDZmEDwBnsxr4pmDz1XvKQseQCjBB8xmGToPZUBA5gkM6o8rAaPSCCAAJGQKrKYO1C9j103XmGBn3aLBuIAvQBztAAAAdLAI-KuVQH8AyCdjh9u0byN0cVKGPc+GwOyBqwzxjZa8cLHvGOd3x347HG0r-HATK4x5IQEmSl4wEQUrE7MAABeErL4-lD+MVwAT33RnSCdADEmwTZWCE3CAv1L6t6lKD4EYfoCmGfArx1EzmXRNUnXG6hX6LEcNirVSAq1Y7oyEG5Mg8AsJihVHvJOnoMTgpjniKfhAeAxTEprpYyaVBAA')">function depends_on(exp, variable, frame) {
    function tree_walk(e) {
        if (is_var(e)) {
            if (equal(variable, e)) {
                return true;
            } else {
                const b = binding_in_frame(e, frame);
                return b === undefined
                    ? false
                    : tree_walk(binding_value(b));
            }
	} else {
            return is_pair(e) 
                ? tree_walk(head(e)) || tree_walk(tail(e))
                : false;
        }
    }
    return tree_walk(exp);
}
</pre></div></div></td></tr></table>
      
      
    </p></div>

  

  
      <div class='permalink'>
        <a name='sec4.4.4.5' class='permalink'></a><h1>
    4.4.4.5 Maintaining the Data Base</h1></div>
    
    
    
    <div class='permalink'>
<a name='p37' class='permalink'></a><p>
      
      One important problem in designing logic programming languages is that
      of arranging things so that as few irrelevant data-base entries as
      possible will be examined in checking a given pattern.  In our
      system, in addition to storing all assertions in one big stream,
      we store all assertions whose
      
	<span style="color:green"><kbd>car</kbd>s</span>
	<span style="color:blue"><kbd>head</kbd>s</span>
      
      are
      
	<span style="color:green">constant symbols</span>
	<span style="color:blue">strings</span>
      
      in separate streams, in a table indexed by the
      
	<span style="color:green">symbol.</span>
	<span style="color:blue">string.</span>
      
      To fetch an assertion that may match a pattern, we first check
      to see if the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      If so, we return (to be tested using
      the matcher) all the stored assertions that have the same
      
	<span style="color:green"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      If the pattern's
      <span style="color:green"><kbd>car</kbd></span>
      <span style="color:blue"><kbd>head</kbd></span>
      
      is not a
      
	<span style="color:green">constant symbol,</span>
	<span style="color:blue">string,</span>
      
      we return all the stored assertions.  Cleverer
      methods could also take advantage of information in the frame, or try also
      to optimize the case where the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is not a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      We avoid building our criteria
      for indexing (using the
      
	<span style="color:green"><kbd>car</kbd>,</span>
	<span style="color:blue"><kbd>head</kbd>,</span>
      
      handling only the case of
      
	<span style="color:green">constant symbols)</span>
	<span style="color:blue">strings)</span>
      
      into the program; instead
      we call on predicates and selectors that embody our criteria.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-ASSERTIONS the-empty-stream)

(define (fetch-assertions pattern frame)
  (if (use-index? pattern)
      (get-indexed-assertions pattern)
      (get-all-assertions)))

(define (get-all-assertions) THE-ASSERTIONS)

(define (get-indexed-assertions pattern)
  (get-stream (index-key-of pattern) 'assertion-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCy4slCLx+NNiw4K0IayFX0ksnkinNy1WbB1mwsu08jDEKOFaKCIJl-Cqcr5-KVKsNmu1vs2eqygdNhKIFpdNttvXtAydlrWbttHoYXrxPQzmf6jsBwLekzpGasjwbUibkgZ5SUoocJL5PNAYb8ADcjvgtT6-aKglHjUGQ39Ob2q6qsZ4cd4Y7r9dkJZqCWaU86rWx019GKR4Sq1RrjT5Y2WpAJyNJVcT5Yr-Mqn-3QEPPCOTDe7zvRdLxXaN13dT1vVLW0RXRRNZTnBVw1ARcp1xcDbXjcYaw6XdkyWXMjzHGYAEhHlPc8xjQ7wbzIwDHgfJ9GNfZCfz-AD6MA1Dt2NEwwToyRC2LYjAIoxcQUHYctXzL4WxmOS5LbPI2GUARSESbhYmPcsHRoeIk1AUlmVZXhSVvR4FmMtlzM2HZ9LNUlWEYaRSDMzjQAWJyuxsx4dgcGIn1iPxSQAVUIOpCEoAB3Gg7AcJwKgAWkSlDjVpGS5KzR0VLoNTEnMKwsFgoI4scdtVxNUAYThTUkXMYqwjkGVSoSlxaqMygWTZdKiv9fxAma+wyucCqyS8lyerwSF20as81FkfhYnlXsTkFETUQnUA6BlcJuyaFamkFGSspobaDP3QiPNAYZRlAHY6AK6wwCUtFQGiOIIBgeAkFQNAuTQfkITKPJlFUItcCYBg2KcQhtDUWJhHWk7QFB4ZYncBxslIBGRFAAAfPGfJRlR5q0LGcckAmidB9xOu8EJycRqmM1RkYqOxxGpGZzCVAul1GbBQqXsGeFNHCNgmE8F94dIAE9FF49kdB5iZZEAAyNWziuAW8JQ+W3E0R6puBipUcWhgdegvpdOJ0Xxcl6WOeCwhzZ6qxha2xp0coFdKAhl3Ygt1WkYrGgXm4VCOZjIXppBlRgzochNEIQPCBJYPoKVlQDftqW1EZ4KE6TlOGDTt3jcZH5i9Tuavdp9mKcz0OtYuRdw8jnG+Mej2i+TmumDYoOo5E5H2+VMYO+EaOgcr0HipCM8OGITx+GG6hLYeLO7bWB385l4L57Tpgl5XtfCHLj3D8Xt5T9a1Q659jepFH7W29f8eBa78FL-9Bfj5v1ed9B5PztM3MeKpJ5f3drHU2KghwaGNP-ZegD2wgOttmUGOcd553Tk7Qy8DyCIJPig5wF8YE0AIUQgBZ977ewbojJuNtwFjGYZ-aeHtKG4iQbfcqwCM6bzAe-CBH9VbTwrjNUGK90ZsH4JDTgvBZBVGcGgreWCJY4ILoZKR7gZFyIUQwJR1AyEmyZItHRsiBCOEDqkaQdAVHNxhOyOgD9fb+3Nn4VhojBbiLyNo3RtM2CNHsUwoRE8RFRzER7UGJ1VBuFSDXYJGDs78DFtgx2CNgoxLUIIBgNdjGVxiVwfRhjCCJMdJ4iJRsokqBFCpds2IimKMTuvfhz9m6YJSbndJstQBExmKSWp5B6krkaQY5p59vE-3YHo6QTB9GGFaaAm2OCmCyFwJorkkzyEbQlo0pgsEylMmJKs5Ymijrf22bUmZTAji4MbgI5Zxy1maPSN4nxsCwYHFLsQIe9y2k2w6ak9R3TgqMC+SQBg+SZrVWYGCkcELGZdBHs3DRpI4XfMhX4GWXRu7bPRRC2JOSa52IzlIB52YKmd1xSYt6j41CEviaXO5pAkWMIpdrbFWyaWKLmnE3JTKSUc1ZeSys4SEY4ouTS0GuSUgKnxT8xF6Yt43XoRK6BUqVAr3pdkxladFXIoBUMNmEcxUssidsmmao6hoPQY6QFXS954NJF4GodQoV5BhUwF1xBrWLNtUc-OzqrWkixVHalldvV1C9ZQQJNqX6t1NeajVNzeC8CluqVBfrVGdLSY6jJhlkhpvIBm0hXLK7CxmWM5RWbBEJsjJUyVldV6aEFX8pZ7K61hPrZ3MtM1Io3OkC27gdhhX-KSUwFVw7eBqveTQFYtizzNqnaO9t5TtYjt7XkHlA6h0boNdmRcG6qkWrgavbgRTFbtOSUC3eJIinBTmOXWdKMlicCYHyP2RgGEogaicGU4c1J1lXSLeB8oRALFJI+u6fYmhGyiOQ7a714hQDgIgZA6B-pchnjNKGw4cmaNLgOJVV6waeAhrh38MM4ZRx8gsLaHMfI7DNoHAWtGMSdRMrQ+uA8pLZBcUwP2E7zYCz8IRz4vlbZX24SQlpNHbQLAo-s3+R9iFnwI4QIjjHbacO8NJtTqs2OKZ08wVTrV1OadtEx+OSi+5MtY-J3YP4bk2ZLnq-euwNPidspJ6gdTnANPkU06tcmvgKac4M4ZlaSnma87MKzkszG6NGdFgzDnPXC1VIlixgDrEOFbcIDi7lNh+NkQEoJqtCtFZmGJrToN5W-OEIZpz9Xsj7HhT8hl-K075aEKJzztWVCRvs6Fxz2IhvuZq5Z22WS+UJNSyNxTM2iV2Ym-1qboNC3prM-NiywRU2eCCRRw4qRuAVuS+MkTHmiOVcAiswTg87HNp631ojsWZh+WkAFTRoVwqRRip7NO-BOCgGSqNyjqQn09320E0ofgnvpiwsrDQsQhnkAHMwDLpQTDrWA3ttNCoFHkBRxQdHTBMdEDh4OiVzZIJ4kRzUuIvBKApjJ+Q07RBsdW0kA1RRIwgiEiO-hitZX2eEF630u8XBUjTMI4+agCSJecQrZY82Ni7FY5u1VmYT3Nda6kGdjTcvXMkixxhMddqVAxOAbzzwjW7wLCt1JJTac7M27t2WHYfNDz5iElBWM-l2ii+CmFCK0U53bNII0ewIOUqbcaD1Zs4Jn13Yhg9898i6Ave0sjftT30-Tre1IBYKqbI7GYoLk7876VLqKV0LPuuvgp547+Ax2Fq9U-z3Xq7SbK6KYi-5kZgWq2yfzWJkOhrXDSBHOe6GJ2rl7PmZdsThenhg+OxbefgXnfPe70TPys+N++eubcpfnnj00sUy17FWf1r08hrEWVnz2sNbuDj83NAvd5hRL7unm5JHBl5WWzcyFU5z6WRgrwtir0AN1WZTrzEwylpzf25z6igNiQRmbxHBlD6QgNOzpWgK61gN63gPMjv0dxb1wIXTQLPEHlALLGRlQJlgwIYBkl6B-yQJmHAOazawxW4EV1AW1VmwFUVR8GIMbG-yTw9ibyIF7kPG4ADgMUvQn0nXkK6HMmLzZnMjLw-DJHJGkJczWBpD8CkJdn0MMEXBUK7gEl6RjhpToHVBcGZ2vmQTPh61vz-xJm4IRVEXYIamxRlHq062JQFhYPf1thlUjyfx4M5T6XUNGD6R2ELVLgWXsIE0CD01anVzwMCJWxAPFz1zsJCFSKcJ4WcDsU9Raz4K123R1QIPyzuDNzYK51CLnmU2KJk1KR2xGw0Sk1M3KmcToU-niO01XkIS4V6OCxxkV0shfGM3SL6JcUGMAh2BVQygkO2UU3GzwTHytgajKxlEjWjVjVVhkgahAjOi2hSMcLmNKO4DKyAw2nRD0MTmTjWHOOMJkLWCXHVC9HuM4LwxOzKwb0eClySMhkNxiGNy+KOEz0WA+M6CzzeQ9kW1DmyOANH083H2zE9TIOnz4JwMKSHxSyjiBPomX3P17ycxkLmy2IxJ2L6kHhlBwKpKZSYNPyIxkhkK4x9lZOZKPn6Prku0Hiz2OmbkHnJJwyc1mPGJHx6W2JRE5P5O5OASlOoTvkVPoTyM2BwJVOcKAV4wq27wb2II9EkGfT71aOuJlJvytgVP42AR6NVPmIGIq3MhwIdN1N4X1OJMNNdLPyT3gxMUQxiGQy+jQ1+n+nSGwzjkn2n04EUOzGBwMnUBHHFI9VhAxzZxV1y1sT8EBO70xMdFRTaAf2Z2mWFhDUqKzLkDy1zJjVOGNOfRaJLJZ0x3jIt23mBXzlwAPkZ1LIlnLM3QqGVxy2rNsVOzbIDTPGeW7NAE2XDRmmFzrPHILMnJOXWRnPOXVXLXITBIHCNwSVwAnKJHpWnL8FeVTOhHTJOV0lZJFGl2-R0mzFRRxMxQ2nvMHJFhfO4BoJXNtjUVvW-KkkyRRMHndQqBfOd3vMApbyPNYRoMRPWJIExETlhl3P3LszlMfNFRVAbI9lQOiGE0wtCPDlwsQuXkoEYC9RhysV8HzNEF6BRGRmYgIsDmFPBAalIHlnCIVFlwhJrhlBWKjMvLhBYqDhcRhIeyPJVnEskhbxnTwpoq5K9FOxou6AYqwrDm1lEo-LekUrT20rEHUtCMXG0ovJoBBJl3BPlxWxku-GhNzODGYCItx28Fhk4r4zoSRQMlcs0Hcp-FUIzAWGYnSxoo8vrgkuhN61AHcEct3JXykB2B8vcvVKRQAB4MRS5fKdBoKAqywFNPtA9SQAAVTqKqEIRoYIQdfAYlLaNkItNYHYUkUAAAal6XyPUC0D1HK3EpEFapDUMharaq11Jlhi6pyvuDvA+y+2KtKtwAYCikqs0GqoFVqv23IAaoGtasqJmBGs0DGpSt6sMmCkGu2t6F2rGv8p7xmisl4CUtZPVOtJRCRI00lk6nZGcpmA9gKI6NssuvYI0ttknQOtOqukI1ersF4L10kG+WQq0DQr4ows83iqm3VN1nDmBr12eG1kupBskHunsJNUjB6ojDGEuvuNYJIM3EI11k4qcofwiN4usrTm0i1IKqfAesMjClphTGuldnJppyLD9zLAalEplHwtCtEIzGRm+pUvNiUvV1UpJMAlEqYIVvNjNwps1tCLBuZHer9JsKbRczur4RcVksevpEQoHHBr1qI3YK+oJpStkpXVtGVWNQxvogUxet1shqqxhoorhsZshOX0qPuhcTRo5R6tOoWAonDn8tkuRokxltQmJtShVDJpCMEiGtmCwmpqTK4vpp4qsuNxZtmAD3ZtNs5sIG5tCHkJjyrlszLn5szsFpLD6RFporFqyNEvPT9LoObhlpVpStlsDk1KhpVv0tUqbtAAUkYubh1rep7vZP9OegQ10o+hQ2+nQz+gwCEpFkJ2JzRwzJMVF2Iwn3-I0Vh0Mn3tR3RzApoGvpJ2YCJzTQILMyx33TXU7RPreQagfsPtZ0DJlA0VvFRReH6qkBeDvFHt6FRSrHAckCrCgd11RUYngffEfCQZAZfCMmJDQZwUweK2wdZlGH6uIc8FtGgakFRRyjTX4Hjz8BoZXgqq+EockFRTLvgbLrLFYePJJFJBhE4puXcDoBDQEZ0CEe2keB4dRWarQakG4E4D8EaBEHxAAD5QBgdWrmHpHsHEo5HJAFGlGVH1HgcUptHkHsHDDNhDHQBlGCQTHQByRbHJAdHA1gB9GshFHbHjGNHQAwBzGsHA0ABSDxmxuxtR3xoJ5x0AVxvhpMORsJnxxMs0ZRixwNAAQlNASa8fCYccycJFScCb4dStCZyaSdAHSskEKcIcDVSvxH0cSfsd8bqaqdibJFUdKaMaaeB3UdabSb4dUfqb8BmEaYiZ6cJG8f6bJHSY8d8d6AickHSakDjNvDBF-uRxvqPsZHloJHMkcUuAMD8D-tJ2FglXWaJ02YAe2coHcAACs3gWVdnHh9nSgmmUGNnH7+rWFTceGZhjmtn2wJVepNp-nt83BusgGXxUVP82B+qYXfmoaqHsHIBCBLQhl6HJAUW0XI8EXEXeGyQxGmBYBIB4HCXiXcXEXUVCWABRNBmlilqG1FAAOX4CZY8ZZaZYTr1zWb6lBakxSqec2BeaafDkPKOY+f-qvjOd5YldJykwe0FdmGFYie+f-H8FleYClbBGfTjzmQ1audQUvubVvSPN1dYCYH3GkAOzhtuf4CHDsI0BSB9sAlBefu8Brjfo5yVu10HRNdMBmDWNsP6FusDoSSPIst2SLoV3okSPYD4H1YrUdqzqqz5YtIOu9akFjcMFBYrRufubIBhNxskFTYnD-kkozYQfzsf1DaZTeW8CCFpqYE0ExBipGSjaZX8ODfhqZpJG1YDMZCDPXtDJ+kwB3ufTvMcDICYC+TUBGhhGkGtWMyPNZnRkxjgpGN4gms2Cxq-sXCXexz6qYCatavOtwCCXXYQXQi3bixbjMI-n3fnLyGLJhDBhV1SAWQ6thmdv9WCGIGIGqpGHw2yDhz-Z8e2lau4H4D-d1lJCaogyasauOtaqg+IAZdtFg9DQ0C-Z0v0VIEjyxiw80EpxbWI71bkBxbEBIlnptl2sGtJDJEGufdkUYDfc+P2eNdw8j2I9fz6qEFJEfYqE44VBsSWmbWXaNVGEg8HRXwgxVTcm80kRfDE9AA1h8m4DIcJrGDE5EAJlvc06k80Gx3ycMkfRk6yHDmU4Mkg3k5Gwnag7PBnfKnnetTE73yyA2zWpLXXmU9U7vGY0gJ3PO2UW04TogwY9aqE9cAcCWgs47xC5OrvCauPc9joQEzcRYzO0JIu204S7LCS8Gsi5E4ObvZVDzxC96ol1pBs4kyE7JBwX6ubXFfI+E+i+vfe1tmYlc921q9JFQaMJfFi8M5JoM7VcK9a80Ntl2pG7UMMgAHJkvm06P5uJvT2gkxOBP777QIivlpAgkdu7GrZXbJPA5V2nxw59u0O7xUUQhYXgp2h+rSRIpXJC4qguwHup9vBaQ2vV9avzuRxduorFwLumu8OWvpAtIJvfvtZgfU6xgYfIuLuzLQBbX7XiBHXqCncFEagxl89xOU0i0vPSkL0ZvrvPPWp+rMvikLsL0K2yr2QUfgw0fyAUgmC9XseqhuPcfvuErAbCL5EzPUVH0sV+NBN5CueJuikkf9v75Ac30sefkqhce3D3P44yfUEL0WaRadzUbCRzJ1S0uhMMvAusvlENeQj1n2fGAJYnsZR9npfnFZe2eFeYS88zfYx6Dtew6rPUGZvmIAMYhned54cPFQl43Leg+qc+IJvE2veHJ6vfeA+xkI+W1o-Pe6EYOGeHXmeMeW9qufvtCY+6Faf9nM+meWfB4nexlOeNeV8tDHxRdtmOb5ek-rfI+ECW6UZ3DDeLYNe39kZBf+r9fRe+feAGjECmjwD5FViDaZpI97AlfDuSNy9+eZuSKV+JMy789g9fsw9dgTeKg5-IUdK7yhCL1fzlZtDifdtFwr-vNN-71K7Q9-sguKgT-utIdtkE4uwRpSBKAvVmADAHAQwGf0X42xD+SvKzl-wmgbdggbAa3q9xcgjQRcIA6jh2kMBv8WUXPJHp6ncCsAVIsMQCpexoh2UYKv5ZiMZlkp-gYBuA9gHDWMy3E8BWgWCtrBoH4DDO1AxgahWASsCmBv5RcDwNhg6UBBmgFgC4G7oUDdK6tX8gnDlASDTKjaHDJwGlyGAJBQpSQSPTIHaEcBnA7QKoKkhRV5BM-EGKWzTiEITsD-USn4CIDV0JY8CJgEkHYDeBpAx4H+LwEOz892Cd+UDL3yaKzBdiOg-YjoNEFk4Ja8iPwPIL7o2xhBusGFpUQWDWC+yPGWZA4LYBOCt+6grUCHVRBuCGBtArgbxmEEa0BawkO-Mv1H4l0OCzcZiG0ByFr9yhfgGoUEhv788ihzdYSL4MqE2xJe5kGegDUaG48ke80fQLEHx6gkOATDT4nQF7DjC6GO8OgGtFAHjogamyGbjMMaBzD+QSISHtoXRqbJaeSIJpkMMWijDpkawyYeoGGGURsgewotlDTOESx5h7CC1C7itb6BSc9w64QwyLCzCHhCw1Ae2WWFmd7hqgTYbX3QZncOUNw+iAcIiasAbE9Md4d8PWGGBgR8wpELT1tAwj1GRwkYahE2RXU8gOIsnCvGxjJAg8W0I8rgBJHS5YkC0JaESJeYU4KROlKkYIBpE4iCOwwvHkDQuGLQzOJeCTHCIcAIiTMSIz4n0nRq8itI3rLEW9GpGlxaRwwzkccMjh0ioEu9PfsoJYAQxYIxIOzBIJkQ9IDKdJTaNEMJDCDgh4gjdriHCGqURSUQgIedAIgugZuEbQgaMWIGGjbR6tbYXhwcAuABGGkC0dwJ0FRUvRGQhCjSjUg2IAxggDSGpAYaCBvRGgxYY6FFpWdcA48NYE1Rm6khMxQIbMRLwOBHAv0iYxGDN1FqmlBRp6JiMYGTar4I22o7fHqL1QJjQA4Y7ShNwv719AMKnTWN2KfCGizO0Y-0UwEDHZVFwgGDEY8EXBDjpxmwEcYoDHFxjsqAGYwPOK1zhw5xtwpXJPQm55isxsLQYVoHrbUBFRi0BRlJW0JeNZRKqSMZXESBvAo0hRKAaglfHOA-A0vNsdL2NE-o+o44k5OKFtwyhFxsY9SNlS-FJifg3-agH4B3GcQfxdo-4XpBXGAS+cMHfMd4FhYzcBR3mFCs2zkBniORAEt3PeIXJ4DnMzkQFl+hjHJjRwqY06FKOJGCB9miuQ0dVXsbbVHxPqG5C4HfHrx2JQUd8H6MUB0TLuc1cCZRJgmigaJ-osSXWyagfdNWpZGxDKAAAM5gZ9FaCiirIRgAAtXiNHICGBFYekpTEQFUmEglJZkl4YNS5D2jswVktoOZIcAwDPU2kpIR6ItgSCrJm2YtHfCMlXj6+1nI5toR8kGSzxRk4bvuzIlbpS4ctYzCoFYDjA9Jx4HnKZN8mE8WAbAASvNV0m6YMp-k4yTJA9gXDmAUUI4NahQGPAt43gjwTETKpwh3J9Ah-mFIJ6FSuW8WMoVyyCraFSpTAcqZ4GtR1D-wINPqQNOtTNDyhHUvfrwFWIA0xpFU5KWuCR4cB7A7AFQOvAf5yDVK60EqbIDKmLT6JlNFXkkPPS0EWYVNYsaTWtHECtQFQ6qc3GTLME+kjRSorsUCF5CRB5rburRQiH0RkY7gGIc6MPC40FgmY4sLjR2ALTBpuQtgayXcCtD5IWAEiK9MiHjpy8IgOIShH2n9TFpJFbHLp2hkTSP4d0rIeDMYAZ1p64heaTjPGkDDA2veJQaCT1BzIKKicXEO6OvAkCxJ60fwZ9I+lwzvpoVbaerRkhYRohxneFuwWRhEAuqy48CbDLoEFDQxcEvFr0B-BiT-W3+RAl4LPQ-hOcUNGwOSGNnmQ+ZbAgWXDSFnCYNZEYymQDICGSzgZaweqbLLPbyyNIFA+CZIGDHKzPp4uEiAHNbCqUhibovQZ4E1nayO+WEVaUkQ2mlIbZIskempSNkmyHpNsA8QWKPGRz2h5kSfsoM5k2juZts8QkYIqCuyFQ44vgL2F4DIRfxANdMQ5EwmFjdsGcrCXnx55tYSxvAauYKArE0UuxNYquZjN2yNiWZTOJRBzO7lHNa5wc6sadJrnDzt2mo5mRDHHnszEQNco5r2AMp+MwAxs8kAPLmTaFu56sfsSoGYgLyZu5c92ROI-gnyNxUgScYKAfmSBr5lcgDFCLVmPAAMz8r2V8G0pgjW52YpHtEj0lYwgCD5ZotegdS4IIFmSPSXfQ2jLx6AyiJScwK-poKdKVkkXGgvP4Scu0BCpaXdIF7YMjg5UxoNnCnxH8JurCcSClIJEVBdWsiJSUQs-H-cCcbIuSaAEQlSCTR6IZePoBcBKSZQsgeQh5ONCJTSkaCk4n1Gvlu4sCd4N+SuO4CQSRJhAF+b0BFDIKLsAiwomgo0VSAeFI9eyY6DkUGJ0JGYw8e3PmDXQNCG-A-NO3YVELDiQSXRUIpSkYj8Jp4lwByLMVASp4RsetqACKoAAJalkwAABKIUAADLUtkAhIQSs+gkmJA8preUCTzIYm0BKKeArgLJMUBmddoogjgJwB3hKS7EoEsEYUqOArgyldUBQXkCqWjBUldiI8qEvCVRLYl4AGAYUpyUlKJYtSipb+SJFZtnWGYQpRyN6XvpOQn6CpQYskCkglJiUHEbSArbjKpRZIIXoZEWXLKGFNAXVgMs4WiSIxQypiayNJHshFcwiiJttSYWpLWFwk2iRGIrbJLxGBytRfJOPEP5dM+3FRewqPnvKMh54rSCcrpHMTzloy+kB3WuVlhhlqaMYWKMMCVFLQ8AqiTcVUWPLtKGI2Ufsr0l2J0VXCgBQ3kHpSiYpFQCAo4ocB7d2FdEoFalL6h7BXmhIXaBHCjwWwYepIclftwTyhEGVRAIGamBBm7ZE4Xy5gD8v240qcRYI3laUgwF4r2FBgxSpKpAWSLilxoL9Hjym5rip4+MPGMMQhEXBAMpKxie0AAEIDyo5rXpZBzNXOBjwd+XpWqv4li4Khv6JoDKEmUfp1kjqqeg1H-afYWSjqoFYq3chrK6R8oF7qiuoBLKpR3K2YAED2inBSQjqqNXSIrJlhOu1q2CVkB8a+rRFi6DNT4pJX3FUZieLcjNDUAmrUlwQy1bgr4VBBQJMoLRb+AuzSKUQdq19GqoqXOq+of6QkO6umXrIKllMn1QoFzWVqcRQaziCGqVH-Atlek5NcMJjV-NAgYa2dd4HnWLRU1GYZiEpL8Cyic1LJKyZKqLXj8S5GowAZWvaBSTEB3nfNXjxYVer6xReWAf0rAVeqJu56x1VaojVi4YBH6-NV+uknHhy1sgK9eapcCWqvVMizaD7BRXSTzibSpgAAEFwA4AalhEqKqQAAA8kyy6UogENyG1Dehqw04aQJ2hR1bup8YwbQNpRX4s3FJAsh+O9SxhXALuU1qUQwG5gFZItWvoiF9xBqFRrKUygENHSuJTJGE0xK4lpG+vjuqzVNMBNuK2jenIY3Kr78j+EULczZy15uRxqLTTANQLqbponedBcAIzxYKDEZ4AzWUDsRaa+BJM0zTAOlQF1j4ygDTcfRs2ZKNOumpjXOiyI5RXNZAIzb+TqHyVtk26PzdNGs2mbbNOFezd5uugMBNAOSCWD8vc3IS9OXm0uTQHU2UAkplmgthKpJV4LVNERPLaglK25VZgYMxVVKIm7Zakp26crdwHK2XdegnKpxfpuoD+aSQzW2iGrOJVqi3kcaskDdwe5tbKV-VOrT+o1F+actpScLVZoK1qiit3FZzXQC63KJ5tBbfkXYoU4vCRR-8CYYisAhjbduFBelJtpJAXau8-Wrkb1pGY+MZt9W8zatq612Irt-srXDdr5HeIht9G6QKNocVcqGGLm2bdqw9hWhEtJ2HXICslUgrLhZy1icrShWqNkZXwTzYDqcUQ6ktFK07cHz-k7UTxhEgtaGoAXFArCMwaOoTt-7E6lRnYwOcsTZh3bIVctJVeCF+1PcAd-xUVewv6pY7UgYO9YiUv-bmCPBmSnAg-0bbNsbmDSdtszSR6l90ePJKnItq5HERpapykkYjttDpiUdGYLgG8ECAWwnI4LCgPhiLaDdrtNFF+d+XCHGMdxm-AcKrK-nzKQ8f2e+oIDsrSA66x7ZGYHN6CkgFd2fJgl91C5bQqdRE9ZZ2IzAM7RgStL7VpEei-bA95fKSJzvBzc7xtfgZPTnyoE4AGoMIN9IwzoYygAAnOYA9hF65U6y79hXtUhMMgVLAGxFjD8Bi5PBXfHkedNmBsEsINAAyGpPulSBK93AWbrN2ChoBx9i61gierLBD7JRiM3oJXob1DJMYRIyOFFRoApQ5yPQ6mYPrr10Ml9TemEgXtW20NlGSPMhXQ0oXT5i4JqlXXyN-Lx7E9y6xNZ4HIVX7XyHKjHZnuCCv7L9MZaSBqOb5VAcdQSVgHGsHAOBaYicCjrWu4Uyh7ejQR3kAfKWrxGA6nQgHGro6mAvuYszcOjmkBQH0WoAYzmigLGN12CQ+0kMlBSjIHuF7Cl9JgZjx6MzAj6yQEPoR5OK9g2oaeuPzkhYQA1v-f-jcjgGfEuDFQ89VZMvWfq-136lxSosRlYR8DhByPMQYciJxXKrkAfWwb31BIqD1B2PPmufVrAmD1B9KDwY76iAFI0+zYJQf0Og59ufQfxdtDsPJRJ9u+3KPXo5F9IGRZIpFcjtxocHKVEKqrMboXhmC2VdE3dY7reg+NXsGIk7XtyxTh6adF4u8V-ApqZbaUlBEIHQCiiYwwDgQOlZtD2DwG-lDvNwHL0T6K9LEaBgo0ED6rYGzc7dc2OcQSMqKkjsMbxUCrkJswzcR3MYKJQq0U7DIkUMquBK0DtjBA-AMyCRDLxbcFQPy0I6YPwx7AQ+FwQY1FRt0xGmmr2QJU1Hw0oa0NGG7DfEtsWjBNJeFOQCksdUoGAVdc0IvQCfo8aKlM3Hpa+iD75rbjMYypXIBuRNKbj3S349Uuo1ogDhmSg44RuOM4bATZ4XpR8e-VfH-RR5KdReL7UKgZlhysXOGuknrrYgT6ZAyAeH2vjuAzugADpYB71cK6ZIIdwDtAloKqJRkY2xz0RR9+CSAxRSP7mACTPy2bsSbJMUnX1VJiWDSbpNGB6++AQcFFVODMQJToAAAF5qtQA5J7XEKdcB-9aT4PLY6cAVPMn3IrJ0kEoY5M9Q6IeALIjkbyNPheTqpkU5qZyb9dA00x4KO4Ae7EAHusLEwLNzBA2BuTTiq02tOFPqnRTdp-Fomoe7OmD4bpr7vqfShAA')">let THE_ASSERTIONS = null;

function fetch_assertions(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_assertions(pattern)
        : get_all_assertions;
}
function get_all_assertions() {
    return THE_ASSERTIONS;
}
function get_indexed_assertions(pattern) {
    return get_stream(index_key_of(pattern), "assertion-stream");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p38' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Get-stream</kbd></span>
	<span style="color:blue">The function <kbd>get_stream</kbd>
	</span>
      
      looks up a stream in the table and returns an empty stream if nothing is
      stored there.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (get-stream key1 key2)
  (let ((s (get key1 key2)))
    (if s s the-empty-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPEuouFEPOIXCqGIIxKAUShuGIOhKyEoKUgYYw2BkBgBprdy6DEEaxqmFZSmpUapGdZo5rocgFGGj4tuUhT8AxLF5t8BQWHwBdcPOh6noXfAlpOs7NsoawJqm7aTNAObjSEGcKmUNhyDK+g-uBmYWlPBhwboSGTBhuG6D+wHpuUo7UmrUhqHFBgoaxrKcYu-6ruRn5idJv5ycx2GqdxlogYJ0HUgtagxDoM70YRumVoXPmBaFsEabxxGmh51H6G41EfmIAAPQhAjcZwRedUoxcVkRqBVhd1c14htfhmXOfxw6FZhx7hHIZaNa1wwdZpuWSlABLiAYer4YdlgnYYdcKDOrRSEMBH8L06Yg5Dp7hF8GPjLQybbcVQn5raWtHHO-avdifWUeMdpJuUc7c4rv2PiGqXo892Xubm9gPC8XXFRLn42+UDvrYzouYmzkT5uYLQpc7nb6YXUe64nybpf25u7bmjRCBBblUSn+TBEIDeU7FjotH0APGDNt2PcL2XY7Q7cZy+hhXuj2GxEb6+bcmbmzOCDmbLshyzlqS+HRuQNWXkfJHyGjVCKZ894H1Pg4bgr8whUQHHNTW1AFDG2oJWP2Z9EF0EmFRWIQV15sFxJg7BNA8H+0uNvZEyDSBvyAuRZ8-x0GpFyAoQg+Byh0L6vDZExCoIxHfBbDIxUoEnzPgwJOKdhG3zjrEdWWgRDLSmgeegk8056VkWHU6kgyDR0UbogiKClHKKKLIjOWjBaL0IZMVhcYEiBjmqPV6owaRsFpquUoHiGKGzUWCLWkih6rCDOqUMywKIvkND-TcjDQD-3sk5FwcDKC+BIBA+BFCao5jOL1AswJQQMEfs-fQZtDCyxIXEeMgYHIMBQZUjWSwu6gHSJkOSzQsLSOGlUKOM5X4tMIGEG+ZiYj3zKUtCpWshnMOjlUgGn80ywPof1FGbxlbOFVq7C27srbL0-iQ2aqRKCkFrJUwaJ8tku01qHQIgwm4rOMt3M8Q19C3Ivobd+W0V52z6Z8pWdzSBNJ8THT+4UimcQNmXPOlc-rVOOVBThy0eGZJzuXfOiKREriCmODUAV2Gg2FPoOaMMPhj3rg4mmExanTCCoCgZlL57EEnrSgGg8iWRjiQ2egVJmUzhpk-BijI05MoPCy8ebKaX7TGVylcqKAlnn6ZKoV+0RUqtxbGIKgqx5jU1bWJihRYnRjToy0u1dsUTLqVK6l6NfmUHlUDY1BSTWFKwHAqZj8HASw1PoH6FshJ1NcckVInSsiBrabvCNK4ekbghJCX12sBa1DhNwb1S1k3u1TYMG8UanFHDIqAD1cDDDckYHwjG0M2aokdcG1FcKa4I2Da8flAhaWMibfnKlC8HUI1dTEU5aLNC4m7QijladSixtjGsfek0nkVrKfwFmNbsYmLVb2mVwsOUAxtUUctQhl3VspnWgStxa5WoRfuuOcyt0NxxYW8kpr6VDvqWGn5zB0artPVfS6sYFKgiBe8L9J7a3lUMO9Z6La07Z0ZmTCm4HDn-r8SUnc8HmaIexvdR60HPbhIiRGgKpb1nmANr3fuRzB4kMbPIxkFG5H4GTgO8kjZux6i7UuqtP6kPvH0PI5xKh23Sj9bURqQJM0MGzfzf17GwhMQtatE+8jLHOlUQujRlY7GTzk9waTuakWD1WdCjZPw57SvZVRoGJz30+wvQwZVlyJmAtHhffZf7-qqb0kZqFnrSMuANn6yzY0alQUbK9RkgKguL0NQXP5kLyR+pwx9WL+hovfsg7h-8H9XqywU7Z16vm4EGwwxwHj2MObUagklzLKXPGlb9lhqmyW8PXxXIChr5XmueOeYPLzCqdQxD84IgLmz20Qy69vAe1nqspsYLV56qW0Zgewwt7Lfz2vXOGstyb5Uesfz6+1l1Hq6r+cas1JQUA4CIGQOgbqxITPmDmgtJa0jqgbU9jZ0NCt0iPTIAjGIAAfQHxlnvnPewD0AwPQepCes9fo1NC5Q5B36Y6GR1v-UKND1HqQCW1BY2skbCtmBiAkMIBg98OaUD6PcMQwbh1YU+wAMiZ70foTykfiXZDTknRX-M-cMQDqCw6Sdk4p0B624JA0wOG8Utb0y0iC8+8L2zcx9BEULsZ2XnE15zeC5j18IvyCk9qOLnckv0s6WM3Ay3LWMczVV+z9XSYhhO411tJ95wbd65i-traVEgpq5vO7-6-JCfFLBuN79TWptI8N7ZuaovTeU8lztmPzgZdwLT6zVbUH7cB8dyMG8QeXf4bD9rjy2e13dYYkL5Yge3cu5D57ivT2iawyZmV9PyGDf14T2c43YuU9HPBJ17vdBM-87Hzn5ra26+kML3ml3Je7Rl+t1PjvCGZ+xT973hf32V9ZGb+X1vH6E7Ozc5bRH-v4-fcT4P5PEuR-n5Be5+gk+icv4MRHYx8+33fZuGxHl0fkDW4EPxbXX0-1OmDmdnkT-xDQTHAOPy1zgXcXfXvVlRvz7zvwHxN3J2HxC2SXM3tStyhTgVcz2Sv3gIbyL1L01z5yJ0jyNhNlfyoOV2wITHvzwLNyXkIJtXBC2RwXoF2XNivw-2KS+VdgeXx3YP3wTCmUCBkA5jxEgIkOBW+UpGoNswUMqA5lJDIP50kPuU6F4L33-3kNKUUI5h0BQP52eyvTizMIQLcVwKHyf0IPBHHWIHEM4l9kxXhUcNQVvwsJ3E8IcPBG4A5QMKJy8IwP7WV1iA4MDHAPw2iOKT1VZX1yCKSJcDVyiMKXIItnVRIMdWyLkMDBD3kwKLsNSDZVHX8ObQ5QLxwLSHRxxTSJ11SApWKL7VMLKPMJcNaMyGd1XzlRP1QNhy5EoywJcU4NcMf3NxHwox8I8j8Ioy0O+0p3BGWMiMLg6I8gYzgNkPKNyMb1GI9wYIj15n3k3nZmOOcI-ST3wPcPGmSXIWoC3gz1UM4hsUoIOWvycJoKX3OND32PMGaXuKBJGKPzoI92+I8kaWaSIH6IeJ+zaORPhPMD1WGQxOaMQKdwxLBJcDvSRNGQd2+xvEJJO1kDOyankEuzahu06m6h0Ee0eIuWGjVnp1s3AS53OSNRIyJz8IIW-yMSjm4BU2RXJCCi2O4V4X4TPgiJtVFMjiRUlIG1PwVjlL4XUQIRkG5JaKeJ4NPism1IVP8xWKxP81DjZh-yjlPgNJCJnCsJkG4BUKJKamtLgP1K+ydIc10NdNAH0OqKJxsU0XkHsWFh9JV02MsIDO4BsMuN8Ps0c223oGCUdMDC2NTIiKE3RkXkxI-VTP0FekzMeIf2ePQwYishzMLIeNiyCQcVLN9OSLOKyFLNsKJwri+HdnWk020wcSq2lNsxvA1LgT1TkEFyHNmNbJGDHP527PwGMDkQUXDi4GRUKGHO+ywknLOjy0KUbGpz9jqIxVsQjKlkZCIzZLszuF3LeiyyRWfjLJ4ATTW0fIYiqK935zvLtxMTXOeE3JnNOJGDvLrJ-IqVAsiEApOL-FPn-KTP6jVjUXJzPO0RpTz3fL1AlPWGPJmy3PkMmjEGpyMAwvCC5w4HWmItPGjXaSwmFLXJIofPoj1GWRYBws0wI2aAoqItUEYo+lQQAB5gRCKqLOgaK9YWhSBzIIQAAVG6OzOgXwQQZhXgBuJsG46gWoZocEUAAAahLSsT2hJnWiFBTjfPCH0tzJ0v0pvViA+GMrEFMpLLEq-lXFMikt-nBDkvwCamIEcmUrEFUsXkahpA0q0uST0oMqsXsveycvMsiqssitspiBipMpkBTmovGP5zyjt1SzW1C3JGKymgpxumxGnOmDLQrT4uekwpRMVGHQjWqpYtsv1mKvRGxGSpUUcB7Pe37PPMHKBgIxWGaDWxHDZxGHMs6tmCd0ys6pGqqqIlIptDtEysE3dRWAHAzjGqPJHVPPDLQvRlbWmASSaqslsienKA6UMXyW1GJVESNGEzvMZAnIYoVR1Vs0PRxh-LfLgsMT3UMtiHAo-N+rOkfFYmfXwsDAzhKqIEqWO3D04hqzzzyrz2YoKqRAXLatKrhumlfU9JiKqrfOYrqpWAaraMmoIlasrBho6qsUXN7LED6oOrBCMxtRGrzzGryNIpvVKHgjV2ouYqGpUmpAWtLyWtgtWsHVAB1EVVJS2r5JpxPNxFQsjKcMVBOvyuSXOp1NEEDRyUtxuqfB5TNVjEbCeqBBeqnOO3eu+0+pBtrgwvtv+oBrpMMViz-L+rWrdW9oGICyxtho1OkHxoLHO3pNamuw6juwwGvIwRJmoVwXwX80cTxMGKNMpySXBCoRwTwUtJcCzpoT9iwQ3m3XHh1mERTuAuBKyGES10KjjuzsTpG3EzQzBHTC2LmFzNiDmFXGdqKC2I5E7piA5B7tUy2IwkHpfIPBHrbqA0klBAnvvmnvjlnrR0yFzNXrYGdF7sKC2O4kMA3nIF8FzL3oPqUsVG3tiC2ISUHoSVjAvsmVnpuGpyaRYEMAiKftUBfsahWHvpbohF0ontiH0DVm4F8DIoAD5QBwF9Kz7f6tjPJAGYhgHQGIGoGvJQBYHR7Z701phkGMHUHwFIQMGYg4HZ7gBEGDAQH8HARIHwEwBMGZ7QiABSChvBsBmhtBph4h0AUh0I8SQBthghsasBrB0IgAQklAEaofYYBFodAAkaBBEcYbBHBAEtYekaEaEpiCUeXtCIEoBEQcEY4fAX0e0d4ZUfAfUZQeMdAEgbMdEYsYMe4CKCMdkbQfAaBHwYcYhDEYobQcKDcZiDEdiC5PTAKmE3zoToEQLF-MBBXEANdwGG4EidoTPiqLrqwQbuidinwBYAACsTAnU4mVgEnkQOGx766C7czwCa7f6igUnG6Q60xIoInKmonltm7Kcti8dhBcyem6mXaH7QjIA6BvRjYj7nGRmxnMkBnBmtiP6GBYBIBB6FmlnZmXb5mqBP6ABRCehZ7Z9ZgGrYgAOXIGOYodOeOaFuUXCZAx4DadoR2zfOKemFKY4bV31OSYeb9g6duapAac-Qm2fheYaDebcZqYvHucyYLsBYdWaZtxuMoW+eybLqQQCp4OfPIVxGqCkxlFIAoV6ryfIGrHLRJk0H0GVORaLo4ClnZlMXMWYQxaOCKEFLl3jEICZtVqeBbICyQo0xVp0TQnXgXX0ABdkSJqiqsQBaeaWomWFZEFFeRdkVyYKdMCRU6qhfjseajxnCfK82mB2qVs5ali1w4AEB2rEC+DYtNn2tVq7XZeNYcWadOybrpJaiu3aluwwGjs1LeHOXIFMAYHLg+HKhuFIA7ga2fLRz+03HAMjdct3iQJd3jYsuSQYGsqMtivSsSarucpJhIiLmaDjc3z+HLyz0UBuBzgMS0A5wcrqrIWUGUFUoyA+SMGQUbdQcan0rS0bbGvBB0tKH7dAG0qskioDeUEOedH7d2LrbrPNkoEyRGgcqYTfhXekIXfYYiGgkhpcFSrEASohEiu4UreMGrfxwSdfnXcyRXbpUsusHBA9PnYxUjgUDS2YSjfDTaNfiLkHYjV0hBnJSA2-dABZ2UjJU-eGJvG-fCGB3Gtzeg-kfUmKHhBXFKBzbfbpz7eQ9eTzP9cDeDdijDY7m-eMmaHA6aQ0s+PhmA9A9XGOkF1+NEP+Iw6cRw-BEPf0qfdxBffQ+aWg9Td0R0ozeAO+gY+tMv2Y4Q5stXCE8iq46YDIFffAL4-facT0sE-vdI-uckEXbno+FzNfi+Z0+48U4TeFowQTRI+ni44hHHozSAzV2-eWqyGg6M43YU9IEEjjQVj3ZY9Q+SQAHIM3X4EqgvvO92nLv3H34gMVy5SAU44vN2d20ThizoY30PEvJ3VwtihBemrJggrKHIdIrILRiwrKLkOB4QzOihSgbO1dMvnP9AGvtP3OX3C2WvF36vax4vlkbxmv5PMuELzAiWSXlAyXdXAlNYPB9kRkP2KON4Pj2YzYf2-7wR3iqOJ9uBGPL54Zlv9XQWNB9ARv1gxvqBNAGypvK43Ab3ZvquIl6Pfplv-OtjkPIjkaQCpyNY7vYhTINYhuXBEv7pQE1YHlpu3BZuSFUV1uluvujqzbrTRqgQVwRPFdfptu38cZluva66wfjBycUF4pDvAfINgfQerukVmksfXVdUEeOaudM6Nx-2kYsI1dLv9lTcUFllwC2e3AOeFlWPhrg7YpEf1J74meav7nce+e35vPxW6f1JjvSWzuJuVVxfvYdzaest9uigEnFfTvzvXoyf9kbusf2uNeRs7cvmpf8f+fuVKJUVA1bv6UZTZ7XvgEssFdHeqfn07rDRGU-uIaEaPJMkSAIeYy5ibSDxZv-O1cnvBeTqzYzqAE0kWg-jg+slvC6y-Xgqw-kuLOo+4-d5RyvvvOE+NYk-UkgEJPK90zgqZdNTSvtJypKB8A5E-YBgKhBhlueX2QM+If6fG+dIPSO+mleem-so4Du-w-ZzBhs-+1veg-rh7MWBqhuJ1o83O91zmzp+86E0GtmLzwPSV+jY+yGt+NV-3tny1dj+1+6cj+L-T-a8b-L+e+bxn-1o6z3-GacW7yN-xQtv-yPfNsJ4H36u1QaHpdTAq1AG5YwBdYHfpPQsjL8H+G0aAQxGWSgV-uCsYmLnyArE4KyxpRPskmQ6dkI8IGCGKTBPiEC7yemOgBdXUTEwGA6gEQBwFIDBpy2hAQ+F9zxqopsBWPPGm2juZf96MyAhgD-1erl9YBXtYSLZiEFc4emNqUoA4DoHk4GBTA4QCwJGQAC-qbNITBwPP4n9GaniL-mDRNTEpUUvSWHvwJgpYRcgeg2PrD24C2CU4xfQgE+izC+8baCYM2FLTYjJcnBs3TAfZX6AKB5uGmCoDDF8AyE2Q4Qw+qbkMCkge+G9IwCoX84xDIh5OeIU8G84s8nchgFQtr0KDcs3GQQ06KEPURpCZC5yYIQhGSFZdBmRQCoRkNJB1lqgkcDgMS0ayRhYhTyaIV0PSHzQEh8ApIXkJW6NCBhWQwXjkImr5CJkRQyBq0LIDtDaEjQ-QGMMyF1DnQcwoytUKIgqEsqMRKoaUJkAwxRoh3JJPW1szHCqAaiMeIEFOhLtqhpTNFhMA9JXCF2k0W4cEIeGnQ5ujVEoV52ngzoAO+ZfFv0GWF9D8cacPIocMEgFCthbwm4f8O+EhCNcdwwSPsOKSQDycQoH5KCCbIlslwXEKgFoNBo0ZhMsg0AF-1EGMBf+oAjAcl1kFgRgw44fzliL-7IQiRrxUCtkOuFkBGAT9fiFSKMHIDlkTsLkfBVZacReIkcfkaFF4q8RuAYokkXAOS7m11IMgJMLUB0r+dwQGovYFqNL7tBOgorYkZyPCD+cnqQ2QXnNGwG8RzR08LEaIKWiUg8RwsBUZyOVHtd8+mEKgOEBZwKwsIYolbtKL5EMABRvFG8HaIKGxgbwQY6MX6BDFJAwxco9DlGI1YEQ1ccY9MWhFArtddRmo3poEPexmtsoSIrkj3ywhUMthEaEgZxDUAmAvATSRgIPx1gtj6A3AQHu6MB6QUwswmcMf6W8TFRExsoviLxU7Gmi2xdAbgNmLQjdiJRuA-saEh8R9s9RHAXpv5yBHC0GaJY+bDCPPSjiBxYSTAbwGXKr91YJotWsOl86s9fRtYjyGeJB5EgvoF44NI2G6CMgbx-0fLC0WwHdBwgg7ZDsO1ADdBfMZrUADJQAAS2zBgAAEFwA4AbZgACUZKkAAAPLHNkAQIK8pqRkCSA1Ao-LSGemHGeie+J4wujKDVgXiZRK3NKNSIqBqwOeY-IibyKSDtdaJnQcWExIagel2JmQAicWAajct4BkE6CXBIQnIS0JGEniZIDonqxGJhEwScOOfK0SkRD4hgE+KUJKSSuXE+gJ5H+H19xyq-fiePz4zETJBPff4f7BOEJMzEYo1SjQ33T1i+4TY4ydvDsmWQXy7wpIJ6PjG4SDxk46OGZNzGgTJAcQDID8x1KRxGQAABhOCakagjkBzOFPm63FYo1AQYPTmSm5AHAUUoEBVwik5TtA+lPEN+ITD5TFYhU0gB6T8IJSRU+bP4OyMJHlToeaUyCMlywjgg3eWEZqZR2azpTGuKbTAYEEDR1TN+qQaoNkHCmvjhMPUhbht1EFmgOkflJKWVhanlR0pyUQqvziqF+xHInQDuFPzxT946pEPKdDeT9i1Sz+hA2aalPWmphYMAYhNIXwkpYQdpDAPaWwA7j2DXBGw2IG9I+kdwXBAvP0L90IDEZcB-0-aZNI4B3jzAFQEgCIFSC7cJBdIwAVBAySBBdpUMlURtVJQ2jYYlSbVKjjlpGj2yBI9cg+CsHSCKSHJKWqYONpUyKQ5I4QQYOpH+xXqnoumQyhkFjV5BViUoBqKjDJVmgkMz6foNv6pYWAJg7UFgGggvp7q1MiPr0ntFoRSgosr6U7kpmwd1Z0JQmdc2HhNQxKxAHwRDQhmYz3p2Mr7pgMdE4jeE2sBqagLYAkTexgg5ASzIlliDBcqMv6kxAHBCCFGkSCCEdV9rShTKyY0ceLN6rCiDByyGcbEFPCczJW0tMwXjPbybhTwIiAGngEhA5yVwtGN2UCCpGezfoCcyQVLSCj+ymRUSOoABlDnpVw5-EffnHKFFP8RRKEaCKhG5GzpU+yFRqVv06CcyfeDMgcPDIXRIycYpc72aDQArZzc5pNWzPmP1GFih5lEBWaiTZGOzB57qRfqqDoBhzwxorPcL+B7Gqi1yK4gsWr2LjJJVxBo+PqTMPnJNSQFotct53xmYQVCSc72DbKWh2z3YDUwgEfM9Gvy05orBIayL5bqJbZS5P+Y8EIC-gAFJE0ALPMhDALI+78v0azm9GgKVuDgfeSmMjEzCAakY0kPGJWC4L65B81noQvqErBWeJCuOSsFzHedF5a4h9pKPvGpB8pI0EgnNzTpP4SCNZcKbnTzLQwTxOsfKVfzbLQyHwHpcqXAQkWJCIOMJO0LRCmnfcYggGUIp0D2m+AzkHJFDoLyTZ2gJFGIxGoiyaQrTho+Ujsd10oQsSpxoAOcX9TJF3NoYCOSxYyGGlu0Gs40nGBIqYiNhyFuIJccVF0RBKG5Y42xTaS8lTiZxbwURcxzcVHoJFpC50E4vAHJdwlIS8+UvMvkaKOk6OUvltiDa2LpFjGZjEksYApKbU24yQKWL3FZKJEPiE-GBJEkMBEJ1kAADLbNMJBSzIHFPHJ4TP6+UwKfYudmZLTxFEqiXyJokySHxpuEZdMtYnedeJs8cKdHDrKrLLFGynvm0o6XdLwA0kmcPMvJyLKlJFkmEWUMGBmIVJe4tSRpKWVEJUliocEPlL0kwj4Q8Y25WiIhBu9Xl4U95WiKq6YCsW2yx5eMtwGWS3hNkq8PlI4b7pQVzsLhdYs8kyifJZiPyfhLOVjLJBsM3dtSz9iJcmuUSoKWuU+E-CLlaIqyVQBhUVUz5bjNOJZPlbk4VhNqb0Pjx0l8ZxxMS9FQRC2GgrFl3KtFbiq8zfUYReKmeMfEJWlLEuyo8lYJBcVUhWgZTIEGlHVx99mu4IPpCUrIBH1BMQUZVQ4F5ngQWR08d2DwjKxErZVsA+Ve10NU4w5+TqYlbqvQFkr-hEquaA+PFAvjFFtwiHJ+OISwc35qY28YEJb6BBXJ60xgA+LSycqG0qc2SWrG9WTiiZDQN8X4EZD3Lywz4lNVLUbBNspKMWScfKpBZ6RvlXw7oNpIUm6T9JUgngPwBxBVqBJNaj5QUKwiTjuAWwgtcNKGScrbVgmeWYH01IfBggfscqTixjUKKXZ-zexYyHiVnhmO-i8kKii9X-z7FqapmXc3fFAgs1uIZ8UpLzXCZu1MWcqf8NLUERy19wytUQQBW1qpaRURtTeo4CArghSpWMN1PCmdrUGx679KevFUDqPBBSHeYIGECnLkpwQSNdRzjW+quFKaz+VfJH6wa413nEfpONjXVqiEw-UDZBpxhwaoII6iNcWonVTLc1rGYTM9A5UYbm6bSsSUhJQnoTDl5IGjfBLo2STel7azlV+o4YUacNVRXAeCAxBsKvyRORDeFOkXBoCNY65KcRvoniaAl5GtgGBo4DUaoJ7SrpT0qYh7L1N7GhNCiq2E8aRl+qheYJswFzQjWbwPJknSWS+rGqSyV4Zugs30IRkFwg-JrNaR1k70jmlEIsnc2v8XcdmkMlcV2q4g96lmkbM5t+FtEAtwm9IpulC1ObrN8A76Z+U1J3p4t3miLX5rtDRb4pxAMQENHJxErEtyXZLRKos34AJpXmtVnKvdW+rzN9AMLQWGAyNanUK3MVWiO87laJpnmhrfQmjhVbWtzyyVUNB1XxdT4Dm3rSiGa19a90xaQyu1uCEn4H1a3EQFZW1WJdcyXWzDdeVC0VacY6W6rTatq1DDai6KELSkBa06wDtrWjcYUutEgilhnQiIZCKvDrbSleqa7asIu0zaat4qlCA0C2G7butRRcmN9oy3XaxkssqxAtp+HGZltBXKyG9t1XH0Lte2+FvzhqD5aT4FiI7eKspXVDoVh3DFfSvAZQ6NqSiq5EpmlW6qA0eWgraNpTic8htq4WpS313E-LcxtgObd7FZ31KOd-5WWbBGaARp-t1iN1eKqhTLaiua24pRtu4CY6ho6OrsgxKbaUCuB8AwFIQItZWtVYtrE1pgL17jdUsOOmHQqpjBBQoV1konX6HNqk6-Qck1XcNE0igYKBw0Tqo5357KjmdSDSsFtwgbpiTqvu+DS7RSSAJd+AgYmDkmsqC65t4IQ3cr1ixVcCMvNYsXUvZ1fCu5dsEXcZFN1w6G1ce4lidyN2vQZdVOhnbmXj0G80BcUxsDcBB4n0IhjIAAJwnA4EDew+vKqMBsD+c7esdJcuNj-YPg8u4OSSgMDDDQ8eNF9AOBcBc5opI+woL3v0ABcAuVkNAGvsNqsRANzoRfdCOlkNBe98q0QZHGRE1CPgyyFwD5HdIrhfBC+niBEMP0D7NwSKOvaDv3oRCJV2iw+nosuQyZR1v2tEc+VN2S789n+3RUwH0WI7ZdtigzmwB0Xf7GI15HnqkCJXVAioJ4MgE9HdgzNFVAgVoIyGJ4gJmAIPJAyaKjhO66ARUBKkcGBXLrSUeCUgJgfGaIcJI7sCilbjxqL7wQ3kHyEgccW2LQYFB-gDEG4P+Rg9wUN-YfUVbGcGdTXY4MnIZkRAWIA4YtS3zb5NJQN+OVoBusKCiaysEGtDahr7VwEtDdagcPQcYOZJmDySVg4vHhCMzOD3B7yEyGbUuAO+tQCBI4dEPyy2IW+hoXfskNcHHDPkRLrakkSNQgj3kDfbfokN96fljKy5bSqvC27kqA3UpdmOd3kCPkrQL3QYCD0+k3G00DYUjrG3ZHqQqetnZ3prFuCgN15bEu8Ecj-ZUD-AaaXczwNAgCDpPEg2HGMBkpBDAgSytQbBpm01yzdYowl0iLlG+dXwqo6VMGKNU7y4lb2FLh8rhj3snI8gLJGgg9IYuuIFA2QPRiu6muYBJ3AseWQlk-dHDQo5gMvWvtugbIboIMLI13Nm6aqu42WF8DBlIVxq5kRqH0h9LN6I1XzEgZkMBdB++gGhaAAAA6WAWDfOnUSqGZAwQV9iLowYoNiEaEFfcknMNLlM+JwYE0StBNMTwTNC6E7CYRnk4ETSJk0VH14AnhlkPQLCLSdAAAAvSFlCYFDMqmArfRE553OOomWTanOOJidHwYGcTNUVCJ6k3RCBDADRzcKCbhMUnuTVJ6RvZy0VWUWAVlZQFZV6aTAAuaYPAPidKXynyTXJ-2MqdAaqmVGGxqyBqdNLamquwp-yEAA')">function get_stream(key1, key2) {
    const s = get(key1, key2);
    return s === undefined ? null : s;
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p39' class='permalink'></a><p>
      Rules are stored similarly, using the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the rule conclusion.  Rule conclusions are arbitrary patterns, however,
      so they differ from assertions in that they can contain variables.
      A pattern whose
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      can match rules whose conclusions start with a
      variable as well as rules whose conclusions have the same
      
	<span style="color:green"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      Thus, when fetching rules that might match a pattern whose
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      we fetch all rules whose conclusions start with a
      variable as well as those whose conclusions have the same
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      as the pattern.  For this purpose we store all rules whose conclusions
      start with a variable in a separate stream in our table, indexed by the
      
	<span style="color:green">symbol <kbd>?</kbd>.</span>
	<span style="color:blue">string <kbd>"?"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-RULES the-empty-stream)

(define (fetch-rules pattern frame)
  (if (use-index? pattern)
      (get-indexed-rules pattern)
      (get-all-rules)))

(define (get-all-rules) THE-RULES)

(define (get-indexed-rules pattern)
  (stream-append
   (get-stream (index-key-of pattern) 'rule-stream)
   (get-stream '? 'rule-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCy4slCLx+NNiw4K0IayFX0ksnkinNy1WbB1mwsu08jDEKOFaKCIJl-Cqcr5-KVKsNmu1vs2eqygdNhKIFpdNttvXtAydlrWbttHoYXrxPQzmf6jsBwLekzpGasjwbUibkgZ5SUoocJL5PNAYb8ADcjvgtT6-aKglHjUGQ39Ob2q6qsZ4cd4Y7r9dkJZqCWaU86rWx019GKR4Sq1RrjT5Y2WpAJyNJVcT5Yr-Mqn-3QEPPCOTDe7zvRdLxXaN13dT1vVLW0RXRRNZTnBVw1ARcp1xcDbXjcYaw6XdkyWXMjzHGYAEhHlPc8xjQ7wbzIwDHgfJ9GNfZCfz-AD6MA1Dt2NEwwToyRC2LYjAIoxcQUHYctXzL4WxmOS5LbPI2GUARSESbhYmPcsHRoeIk1AUlmVZXhSVvR4FmMtlzM2HZ9LNUlWEYaRSDMzjQAWJyuxsx4dgcGIn1iPxSQAVUIOpCEoAB3Gg7AcJwKgAWkSlDjVpGS5KzR0VLoNTEnMKwsFgoI4scdtVxNUAYThTUkXMYqwjkGVSoSlxaqMygWTZdKiv9fxAma+wyucCqyS8lyerwSF20as81FkfhYnlXsTkFETUQnUA6BlcJuyaFamkFGSspobaDP3QiPNAYZRlAHY6AK6wwCUtFQGiOIIBgeAkFQNAuTQfkITKPJlFUItcCYBg2KcQhtDUWJhHWk7QFB4ZYncBxslIBGRFAAAfPGfJRlR5q0LGcckAmidB9xOu8EJycRqmM1RkYqOxxGpGZzCVAul1GbBQqXsGeFNHCNgmE8F94dIAE9FF49kdB5iZZEAAyNWziuAW8JQ+W3E0R6puBipUcWhgdegvpdOJ0Xxcl6WOeCwhzZ6qxha2xp0coFdKAhl3Ygt1WkYrGgXm4VCOZjIXppBlRgzochNEIQPCBJYPoKVlQDftqW1EZ4KE6TlOGDTt3jcZH5i9Tuavdp9mKcz0OtYuRdw8jnG+Mej2i+TmumDYoOo5E5H2+VMYO+EaOgcr0HipCM8OGITx+GG6hLYeLO7bWB385l4L57Tpgl5XtfCHLj3D8Xt5T9a1Q659jepFH7W29f8eBa78FL-9Bfj5v1ed9B5PztM3MeKpJ5f3drHU2KghwaGNP-ZegD2wgOttmUGOcd553Tk7Qy8DyCIJPig5wF8YE0AIUQgBZ977ewbojJuNtwFjGYZ-aeHtKG4iQbfcqwCM6bzAe-CBH9VbTwrjNUGK90ZsH4JDTgvBZBVGcGgreWCJY4ILoZKR7gZFyIUQwJR1AyEmyZItHRsiBCOEDqkaQdAVHNxhOyOgD9fb+3Nn4VhojBbiLyNo3RtM2CNHsUwoRE8RFRzER7UGJ1VBuFSDXYJGDs78DFtgx2CNgoxLUIIBgNdjGVxiVwfRhjCCJMdJ4iJRsokqBFCpds2IimKMTuvfhz9m6YJSbndJstQBExmKSWp5B6krkaQY5p59vE-3YHo6QTB9GGFaaAm2OCmCyFwJorkkzyEbQlo0pgsEylMmJKs5Ymijrf22bUmZTAji4MbgI5Zxy1maPSN4nxsCwYHFLsQIe9y2k2w6ak9R3TgqMC+SQBg+SZrVWYGCkcELGZdBHs3DRpI4XfMhX4GWXRu7bPRRC2JOSa52IzlIB52YKmd1xSYt6j41CEviaXO5pAkWMIpdrbFWyaWKLmnE3JTKSUc1ZeSys4SEY4ouTS0GuSUgKnxT8xF6Yt43XoRK6BUqVAr3pdkxladFXIoBUMNmEcxUssidsmmao6hoPQY6QFXS954NJF4GodQoV5BhUwF1xBrWLNtUc-OzqrWkixVHalldvV1C9ZQQJNqX6t1NeajVNzeC8CluqVBfrVGdLSY6jJhlkhpvIBm0hXLK7CxmWM5RWbBEJsjJUyVldV6aEFX8pZ7K61hPrZ3MtM1Io3OkC27gdhhX-KSUwFVw7eBqveTQFYtizzNqnaO9t5TtYjt7XkHlA6h0boNdmRcG6qkWrgavbgRTFbtOSUC3eJIinBTmOXWdKMlicCYHyP2RgGEogaicGU4c1J1lXSLeB8oRALFJI+u6fYmhGyiOQ7a714hQDgIgZA6B-pchnjNKGw4cmaNLgOJVV6waeAhrh38MM4ZRx8gsLaHMfI7DNoHAWtGMSdRMrQ+uA8pLZBcUwP2E7zYCz8IRz4vlbZX24SQlpNHbQLAo-s3+R9iFnwI4QIjjHbacO8NJtTqs2OKZ08wVTrV1OadtEx+OSi+5MtY-J3YP4bk2ZLnq-euwNPidspJ6gdTnANPkU06tcmvgKac4M4ZlaSnma87MKzkszG6NGdFgzDnPXC1VIlixgDrEOFbcIDi7lNh+NkQEoJqtCtFZmGJrToN5W-OEIZpz9Xsj7HhT8hl-K075aEKJzztWVCRvs6Fxz2IhvuZq5Z22WS+UJNSyNxTM2iV2Ym-1qboNC3prM-NiywRU2eCCRRw4qRuAVuS+MkTHmiOVcAiswTg87HNp631ojsWZh+WkAFTRoVwqRRip7NO-BOCgGSqNyjqQn09320E0ofgnvpiwsrDQsQhnkAHMwDLpQTDrWA3ttNCoFHkBRxQdHTBMdEDh4OiVzZIJ4kRzUuIvBKApjJ+Q07RBsdW0kA1RRIwgiEiO-hitZX2eEF630u8XBUjTMI4+agCSJecQrZY82Ni7FY5u1VmYT3Nda6kGdjTcvXMkixxhMddqVAxOAbzzwjW7wLCt1JJTac7M27t2WHYfNDz5iElBWM-l2ii+CmFCK0U53bNII0ewIOUqbcaD1Zs4Jn13Yhg9898i6Ave0sjftT30-Tre1IBYKqbI7GYoLk7876VLqKV0LPuuvgp547+Ax2Fq9U-z3Xq7SbK6KYi-5kZgWq2yfzWJkOhrXDSBHOe6GJ2rl7PmZdsThenhg+OxbefgXnfPe70TPys+N++eubcpfnnj00sUy17FWf1r08hrEWVnz2sNbuDj83NAvd5hRL7unm5JHBl5WWzcyFU5z6WRgrwtir0AN1WZTrzEwylpzf25z6igNiQRmbxHBlD6QgNOzpWgK61gN63gPMjv0dxb1wIXTQLPEHlALLGRlQJlgwIYBkl6B-yQJmHAOazawxW4EV1AW1VmwFUVR8GIMbG-yTw9ibyIF7kPG4ADgMUvQn0nXkK6HMmLzZnMjLw-DJHJGkJczWBpD8CkJdn0MMEXBUK7gEl6RjhpToHVBcGZ2vmQTPh61vz-xJm4IRVEXYIamxRlHq062JQFhYPf1thlUjyfx4M5T6XUNGD6R2ELVLgWXsIE0CD01anVzwMCJWxAPFz1zsJCFSKcJ4WcDsU9Raz4K123R1QIPyzuDNzYK51CLnmU2KJk1KR2xGw0Sk1M3KmcToU-niO01XkIS4V6OCxxkV0shfGM3SL6JcUGMAh2BVQygkO2UU3GzwTHytgajKxlEjWjVjVVhkgahAjOi2hSMcLmNKO4DKyAw2nRD0MTmTjWHOOMJkLWCXHVC9HuM4LwxOzKwb0eClySMhkNxiGNy+KOEz0WA+M6CzzeQ9kW1DmyOANH083H2zE9TIOnz4JwMKSHxSyjiBPomX3P17ycxkLmy2IxJ2L6kHhlBwKpKZSYNPyIxkhkK4x9lZOZKPn6Prku0Hiz2OmbkHnJJwyc1mPGJHx6W2JRE5P5O5OASlOoTvkVPoTyM2BwJVOcKAV4wq27wb2II9EkGfT71aOuJlJvytgVP42AR6NVPmIGIq3MhwIdN1N4X1OJMNNdLPyT3gxMUQxiGQy+jQ1+n+nSGwzjkn2n04EUOzGBwMnUBHHFI9VhAxzZxV1y1sT8EBO70xMdFRTaAf2Z2mWFhDUqKzLkDy1zJjVOGNOfRaJLJZ0x3jIt23mBXzlwAPkZ1LIlnLM3QqGVxy2rNsVOzbIDTPGeW7NAE2XDRmmFzrPHILMnJOXWRnPOXVXLXITBIHCNwSVwAnKJHpWnL8FeVTOhHTJOV0lZJFGl2-R0mzFRRxMxQ2nvMHJFhfO4BoJXNtjUVvW-KkkyRRMHndQqBfOd3vMApbyPNYRoMRPWJIExETlhl3P3LszlMfNFRVAbI9lQOiGE0wtCPDlwsQuXkoEYC9RhysV8HzNEF6BRGRmYgIsDmFPBAalIHlnCIVFlwhJrhlBWKjMvLhBYqDhcRhIeyPJVnEskhbxnTwpoq5K9FOxou6AYqwrDm1lEo-LekUrT20rEHUtCMXG0ovJoBBJl3BPlxWxku-GhNzODGYCItx28Fhk4r4zoSRQMlcs0Hcp-FUIzAWGYnSxoo8vrgkuhN61AHcEct3JXykB2B8vcvVKRQAB4MRS5fKdBoKAqywFNPtA9SQAAVTqKqEIRoYIQdfAYlLaNkItNYHYUkUAAAal6XyPUC0D1HK3EpEFapDUMharaq11Jlhi6pyvuDvA+y+2KtKtwAYCikqs0GqoFVqv23IAaoGtasqJmBGs0DGpSt6sMmCkGu2t6F2rGv8p7xmisl4CUtZPVOtJRCRI00lk6nZGcpmA9gKI6NssuvYI0ttknQOtOqukI1ersF4L10kG+WQq0DQr4ows83iqm3VN1nDmBr12eG1kupBskHunsJNUjB6ojDGEuvuNYJIM3EI11k4qcofwiN4usrTm0i1IKqfAesMjClphTGuldnJppyLD9zLAalEplHwtCtEIzGRm+pUvNiUvV1UpJMAlEqYIVvNjNwps1tCLBuZHer9JsKbRczur4RcVksevpEQoHHBr1qI3YK+oJpStkpXVtGVWNQxvogUxet1shqqxhoorhsZshOX0qPuhcTRo5R6tOoWAonDn8tkuRokxltQmJtShVDJpCMEiGtmCwmpqTK4vpp4qsuNxZtmAD3ZtNs5sIG5tCHkJjyrlszLn5szsFpLD6RFporFqyNEvPT9LoObhlpVpStlsDk1KhpVv0tUqbtAAUkYubh1rep7vZP9OegQ10o+hQ2+nQz+gwCEpFkJ2JzRwzJMVF2Iwn3-I0Vh0Mn3tR3RzApoGvpJ2YCJzTQILMyx33TXU7RPreQagfsPtZ0DJlA0VvFRReH6qkBeDvFHt6FRSrHAckCrCgd11RUYngffEfCQZAZfCMmJDQZwUweK2wdZlGH6uIc8FtGgakFRRyjTX4Hjz8BoZXgqq+EockFRTLvgbLrLFYePJJFJBhE4puXcDoBDQEZ0CEe2keB4dRWarQakG4E4D8EaBEHxAAD5QBgdWrmHpHsHEo5HJAFGlGVH1HgcUptHkHsHDDNhDHQBlGCQTHQByRbHJAdHA1gB9GshFHbHjGNHQAwBzGsHA0ABSDxmxuxtR3xoJ5x0AVxvhpMORsJnxxMs0ZRixwNAAQlNASa8fCYccycJFScCb4dStCZyaSdAHSskEKcIcDVSvxH0cSfsd8bqaqdibJFUdKaMaaeB3UdabSb4dUfqb8BmEaYiZ6cJG8f6bJHSY8d8d6AickHSakDjNvDBF-uRxvqPsZHloJHMkcUuAMD8D-tJ2FglXWaJ02YAe2coHcAACs3gWVdnHh9nSgmmUGNnH7+rWFTceGZhjmtn2wJVepNp-nt83BusgGXxUVP82B+qYXfmoaqHsHIBCBLQhl6HJAUW0XI8EXEXeGyQxGmBYBIB4HCXiXcXEXUVCWABRNBmlilqG1FAAOX4CZY8ZZaZYTr1zWb6lBakxSqec2BeaafDkPKOY+f-qvjOd5YldJykwe0FdmGFYie+f-H8FleYClbBGfTjzmQ1audQUvubVvSPN1dYCYH3GkAOzhtuf4CHDsI0BSB9sAlBefu8Brjfo5yVu10HRNdMBmDWNsP6FusDoSSPIst2SLoV3okSPYD4H1YrUdqzqqz5YtIOu9akFjcMFBYrRufubIBhNxskFTYnD-kkozYQfzsf1DaZTeW8CCFpqYE0ExBipGSjaZX8ODfhqZpJG1YDMZCDPXtDJ+kwB3ufTvMcDICYC+TUBGhhGkGtWMyPNZnRkxjgpGN4gms2Cxq-sXCXexz6qYCatavOtwCCXXYQXQi3bixbjMI-n3fnLyGLJhDBhV1SAWQ6thmdv9WCGIGIGqpGHw2yDhz-Z8e2lau4H4D-d1lJCaogyasauOtaqg+IAZdtFg9DQ0C-Z0v0VIEjyxiw80EpxbWI71bkBxbEBIlnptl2sGtJDJEGufdkUYDfc+P2eNdw8j2I9fz6qEFJEfYqE44VBsSWmbWXaNVGEg8HRXwgxVTcm80kRfDE9AA1h8m4DIcJrGDE5EAJlvc06k80Gx3ycMkfRk6yHDmU4Mkg3k5Gwnag7PBnfKnnetTE73yyA2zWpLXXmU9U7vGY0gJ3PO2UW04TogwY9aqE9cAcCWgs47xC5OrvCauPc9joQEzcRYzO0JIu204S7LCS8Gsi5E4ObvZVDzxC96ol1pBs4kyE7JBwX6ubXFfI+E+i+vfe1tmYlc921q9JFQaMJfFi8M5JoM7VcK9a80Ntl2pG7UMMgAHJkvm06P5uJvT2gkxOBP777QIivlpAgkdu7GrZXbJPA5V2nxw59u0O7xUUQhYXgp2h+rSRIpXJC4qguwHup9vBaQ2vV9avzuRxduorFwLumu8OWvpAtIJvfvtZgfU6xgYfIuLuzLQBbX7XiBHXqCncFEagxl89xOU0i0vPSkL0ZvrvPPWp+rMvikLsL0K2yr2QUfgw0fyAUgmC9XseqhuPcfvuErAbCL5EzPUVH0sV+NBN5CueJuikkf9v75Ac30sefkqhce3D3P44yfUEL0WaRadzUbCRzJ1S0uhMMvAusvlENeQj1n2fGAJYnsZR9npfnFZe2eFeYS88zfYx6Dtew6rPUGZvmIAMYhned54cPFQl43Leg+qc+IJvE2veHJ6vfeA+xkI+W1o-Pe6EYOGeHXmeMeW9qufvtCY+6Faf9nM+meWfB4nexlOeNeV8tDHxRdtmOb5ek-rfI+ECW6UZ3DDeLYNe39kZBf+r9fRe+feAGjECmjwD5FViDaZpI97AlfDuSNy9+eZuSKV+JMy789g9fsw9dgTeKg5-IUdK7yhCL1fzlZtDifdtFwr-vNN-71K7Q9-sguKgT-utIdtkE4uwRpSBKAvVmADAHAQwGf0X42xD+SvKzl-wmgbdggbAa3q9xcgjQRcIA6jh2kMBv8WUXPJHp6ncCsAVIsMQCpexoh2UYKv5ZiMZlkp-gYBuA9gHDWMy3E8BWgWCtrBoH4DDO1AxgahWASsCmBv5RcDwNhg6UBBmgFgC4G7oUDdK6tX8gnDlASDTKjaHDJwGlyGAJBQpSQSPTIHaEcBnA7QKoKkhRV5BM-EGKWzTiEITsD-USn4CIDV0JY8CJgEkHYDeBpAx4H+LwEOz892Cd+UDL3yaKzBdiOg-YjoNEFk4Ja8iPwPIL7o2xhBusGFpUQWDWC+yPGWZA4LYBOCt+6grUCHVRBuCGBtArgbxmEEa0BawkO-Mv1H4l0OCzcZiG0ByFr9yhfgGoUEhv788ihzdYSL4MqE2xJe5kGegDUaG48ke80fQLEHx6gkOATDT4nQF7DjC6GO8OgGtFAHjogamyGbjMMaBzD+QSISHtoXRqbJaeSIJpkMMWijDpkawyYeoGGGURsgewotlDTOESx5h7CC1C7itb6BSc9w64QwyLCzCHhCw1Ae2WWFmd7hqgTYbX3QZncOUNw+iAcIiasAbE9Md4d8PWGGBgR8wpELT1tAwj1GRwkYahE2RXU8gOIsnCvGxjJAg8W0I8rgBJHS5YkC0JaESJeYU4KROlKkYIBpE4iCOwwvHkDQuGLQzOJeCTHCIcAIiTMSIz4n0nRq8itI3rLEW9GpGlxaRwwzkccMjh0ioEu9PfsoJYAQxYIxIOzBIJkQ9IDKdJTaNEMJDCDgh4gjdriHCGqURSUQgIedAIgugZuEbQgaMWIGGjbR6tbYXhwcAuABGGkC0dwJ0FRUvRGQhCjSjUg2IAxggDSGpAYaCBvRGgxYY6FFpWdcA48NYE1Rm6khMxQIbMRLwOBHAv0iYxGDN1FqmlBRp6JiMYGTar4I22o7fHqL1QJjQA4Y7ShNwv719AMKnTWN2KfCGizO0Y-0UwEDHZVFwgGDEY8EXBDjpxmwEcYoDHFxjsqAGYwPOK1zhw5xtwpXJPQm55isxsLQYVoHrbUBFRi0BRlJW0JeNZRKqSMZXESBvAo0hRKAaglfHOA-A0vNsdL2NE-o+o44k5OKFtwyhFxsY9SNlS-FJifg3-agH4B3GcQfxdo-4XpBXGAS+cMHfMd4FhYzcBR3mFCs2zkBniORAEt3HWyahFUAAEtSyYAABBcAOAGpYAAlIqpAAADyTLZAISEErPo5q4E5zM5EBZfoYxyY0cKmI-yUU8BXAISf6LM67RRBHATgEHwQGCTQJYIuSUcBXDvi0QMA9SaMH4kwTRQBwsSaAEonUS6JDE5iWxI4k6S5A8krgEpIEk3FVJv5OSRyMklvoP06yVSS90cnUBEoOIj-jSktDwDfJhk0CSJKPJEjWRpI9kIrkNHVV7G21R8T6huQuAtJpSeKUFHfB+jFAEUitrxMSD6TEBaIaSblIjFkSAwIwTVqWRsQygAADOYGfRWgooqyKqfjy2zlRyAhgRWG1LaBEBaphID7tVP6lpBWqXIe0dmCGlKYRp0gGAZ6malJCPRFsCQVNM2zFo74XUq8fX2s5HNtCq0tXiNC6nDd9294maLIHkKLTjQKgVgOMCqnHgecbUtaYTxYBsABK81VqbpiekbTupMkD2BcOYBRQjg1qFAY8C3jeCPBMRMqnCAWn0CH++0gnt9K5bxYyhXLIKtoX+lMBAZnga1HUP-Ag0MZWM61M0PKFIy9+vAVYgDQJlAzbpa4JHhwHsDsAVA68B-nINUrrQ-psgAGdTNEmU0VeSQ89LQRZhU1ixpNa0cQK1AVDQZzcZMswT6SNFKiuxQIXkJEHmtu6tFCIfRGRjuAYhzow8LjQWCZjiwuNHYFTOxm5C2BrJdwK0PkhYASI8syIeOnLwiA4hKETmZjOpkkVscunU2UTI-gSyshhsxgBnWnriFKZbswmQMMDa94lBoJPUHMgoqJxcQ7o68CQIinrR-ByspWRbNVmhVWZ6tGSFhGiHGd4W7BZGEQC6rLjwJ5sugQUNDFwS8WvQH8BFP9bf5ECXgs9D+E5xQ0bA5IXueZAzlsCs5cNHOcJibkRjg5WsgIcXN1lrBIZ5cs9pXI0gUD4JkgYMbXOVni4SIW81sKpSGJui9BngZua3I75YR6ZSRJmaUjHl5yR6alHuX3Klk2wDxBYo8cfPaHmRJ+yg5OTaNTnjzxCRgioPPIVDji+AvYXgMhF-EA10xDkTCYWN2xPysJefHnm1hLG8BQFgoCsTRS7E1iQFzs3bI2LjlM4lESc1BUc3AW7zqx-MsBbgu3aajY5EMQhYnMRBgKjmvYAyn4zAC9zyQWCuZNoVQXqx+xKgZiFQpm6ALF5E4j+Hwo3FSBJxgoKRZIFEXAKAMUIhuY8AAyyKV5XwbSmCPgXZike0SKqVjCAIPlmi16B1LgiMWZIqpd9DaMvHoDKIhpzAr+g4p0pTSRcDi8-hJy7ReKaZEsgXtgyOCAzGg2cKfEfwm6sJxId0gkRUF1ayIhpPiz8f9wJxsj-RCShwAqAgVSAGoy8fQC4CGkyhzpctYzNdNKQOKTifUURW7iwJ3gFFK47gJBJymEA5FvQEULYouzZLCiDippVIEQn5zkJiwCuZUozGHjEF8wa6BoQ34H5p2iSnxYcSCTtLcld0jEfhNPEuAORFSgxHziiU0BdWQ0uxOFIjG-kopJI-ZorjyURNtqMSj6RbCGm7SGleUxXAVPEa7LSpjS8qceIfy6Z9udSxJTwruUZDzxWkQ5VKOJGCATljwdMeoz6REis2-8CYYYEqLBSipgk+pcJIjEYjZROyqqXYhRUpLypDeQelKNOl5AICUytJd8rSUiSAV90vqHsFeaEhdoEcKPBbBh6kgSV+3BPKEVpVEAdZqYPWbtkTgfLmAXy-bpSpxFgiuVpSDAdisSUGDFKYqvRcUoUnGgv0ePKbmuKnj4w8YwxCERcEAxEqKgagdoAAOUmHSXA7kyDiauoDHg787k5VelMFl+C+of6QkO5PfSchP09q4OVkoUDnTF0lq1ZVKMVbuRXJUo+UD5IMn+SpRHK2YAED2inBSQ6UyNXSIrJlhOu-qvwLKP-afYWS6UqlfcXtmJ4tyM0Q1bICuXBDzV7ik0eiFAkygWlv4C7KUpRA2rX0yq1SRUN-RNAZQrqzyS8qnrers1R8KaTiKDWcQQ1dIsNYZCGlJrhh0av5oEAnWkgp1AU71sxBuVZAfGWa31WWrFX5rx+f8jUYALLXtAkVwXf1XjziX2r6xReWARLAvVnqJuh69KRatCk6VH1-q59QZOPAlrjVoU8ta+g-XFSxcZSzaD7BCkGTzipk2ifRKYksT2J4AGSJBvMkwarJnE8EQBvbAZqfGoGk9WiF+LNxSQLIfjgoLyCHq4llalEN+rLXmsK1d04DeiGw27KZQkGxiSFAAAy1LeDSiGY1saONIEvaVVMw1NMGNWKvDY-MI0Kr78j+EULczZy15uRxqOTTANQLSbponeRxcAIzwuKDEZ4FTWUDsRya+BfszTTAOlQF1j4ygGTcfQM3GSNOim4jUOSyI5RLNZANTb+TqHyVtk26JzdNH02abDNOFYzfZpoBWhNAOSCWF8us19L3N+qmgNJsoA3TdNBbUVYSo8WSaIiiW1BBltyqzADZcqqURNzi03Tt0WW7gFlsu69A2V0y5TdQGc0kgyttEBuQSrVFvJY1ZIG7g90q1pL+qhWoDRqKc3xaMpFmnzclrVGpbuK5mugLVuUTea9N-I8ZQpxeEijYVPw51hmE627cKC9KGbS5u21moRtXIhrSMx8b9ait2mibbVrsS7a68tsrXE1q5HeJWtBG6QB1smXsqGGFmgbdqw9ghb8MOuf5WKqBV0iQVMU1bbaAhU3bdQnimfP8SFXTKft77UlRtuD4aKdqJ4wiQGvHVaLigVhGYNHTR2-8MdSozsdvOWJsxDt9IPLWqMeiPanuL2mHYjoxbw7pIGo+yf+3MEeDjJOBB-o22bY3MGk7bZmkj1L7o8eSVOfbXyOIjS1gV0UsFWDo7pqMiYrOwIBbCcjgsKA+GItoNy7yWCi235cIcYx3Gb8Bw9clRZIB+xP976ggOytIDrrHtbZ283oKSGF3Z8mCX3ULltHx1ETQ1nYjMKTtGBK07tfI6nfOqd12tGeIu0CsFHW0Ytnd5ffQY1Iagwg30jDOhjKAACc5gD2CnrlShrv2We1SEwwBUsAbEWMPwGLk8Fd8eRDq+SG3M3A0ADIdUyWVIGz3cBZus3YKGgE72zrWCe6ssC3slHWzeg2eovUMkxhEjI4UVGgClDnI9DQ5zegvXQxH0l6YSSeibbQ2UZI8AldDYJdPmLhGrxdgK4yYHtiDB6+GW+oJTGVfKsrXtiShrp4ECU77mdz6ZvlUAZ3qdCAsawcA4FpiJwKOVaoIHsBlD29GgjvF-XstXiMB39saujqYC+4FzNw6OaQD-vRagBjOaKAsY3XYIt7SQyUFKGAdAD7cX00BmPHozMBXrJALehHtMr2Dahp64-OSFhFzW-9-+NyOAZ8RoMVDSNbU49U+rfW-qRcHB4OVhEQPIHI8qBhyInFcquQm9FBhfUEhwO4HY8-qm9WsBIO4H0odBjvqIAUi97Ng2BxQ6DkINu5toBh5KN3vn25RC9HIqFcCtl3K15dqjXGlQbJXwTVdC8MwcypEkZrjdb0Hxq9gxHR66lWKT3YTovF3iv4FNf+XOiyIhA6AUUTGKwFjXUrNogBwkMAdAOJ9FeliSA4kYGh9VYDZuduubHOKBG9gwR2GCsoBVyE2YZuI7mMFErZbcdhkSKGVXAlaB2xggfgGZBIhl4tuCoL5W4dMH4YyjenBo1FT12+Gmmr2I2PWxMlUSmALG9jahu4l4U5AhU55fsoyW456AT9f9apJm5yT3JO8DY8ksUBqTbJGkq5XYh0q6SVwzyo8txqWM2SzwRx29Vit7WA7LhWbUHV8DHVKju17qryacbFxdKzdS6qNZdz+MXidpk6qqdOsWhwGk8YBt-bN1fHcBTdAAHSwAXrU0oJZg7gHaBLQVUSjIxtjnojt78E3+iikf3MDImvlqJ5SeiZUVYmcTDMiWPicJNGB6++AQcFFVODMQeToAAAF5qtQAWJ7XLiemQcnweEx04CKbJPuQKTpIEQ9SZ6h0Q8AMR0UPEafConJT7Jv-gSZlM5N+ugaLo8FHcAPdiAD3WFiYFm5ggbAdJ6ZbqbZOuADTnJ40-iwTUPcLTB8a019yVPpQgAA')">let THE_RULES = null;

function fetch_rules(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_rules(pattern)
        : get_all_rules();
}
function get_all_rules() {
    return THE_RULES;
}
function get_indexed_rules(pattern) {
    return stream_append(
              get_stream(index_key_of(pattern),
                         "rule-stream"),
              get_stream("?", "rule-stream"));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p40' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Add-rule-or-assertion!</kbd></span>
	<span style="color:blue">The function
	<kbd>add_rule_or_assertion</kbd></span>
      
      is used by
      
	<span style="color:green"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      to add assertions and rules to the data base.  Each item is stored in the
      index, if appropriate, and in a stream of all assertions or rules in
      the data base.
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-rule-or-assertion! assertion)
  (if (rule? assertion)
      (add-rule! assertion)
      (add-assertion! assertion)))

(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (let ((old-assertions THE-ASSERTIONS))
    (set! THE-ASSERTIONS
          (cons-stream assertion old-assertions))
          'ok))

(define (add-rule! rule)
  (store-rule-in-index rule)
  (let ((old-rules THE-RULES))
    (set! THE-RULES (cons-stream rule old-rules))
    'ok))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPMVq1IjCK8uDkKgLuunTlUdL66hbz1kpvTcWiaEGnO8yCv-dIwOJ8lwFJ+u9Qxl6FftOr03SuBoGV+MvlNgAPygLlMo5AAHdVDYnBPPO639rAAC5C7v2DJ-KyeBa7eGAkMZCsxdiEHIGqYgdRQCjHILgMA+BmBsFIPMRS0lGCgDWqAAwTZVRrTQMwjaLJpqyk1noZ62JZh2GjIwOo9cgTy1cM3R+TZqCCM+lA0If96iNGaHUWRNhYHc00GUHhWk+yWn4VIoRdoVFyMLno6RJgjGqLVJyLhWi5gIMkWY1WZtVDPReMhPQK9Jz-01sldBWRQB3H-r9AAVH4mQwTqyhAChragj1CBKR4ZIHgsxEmTWfqELxdBCAeDCQEqxdAbEyE5skuxA4NYhzKmEwi1RKD4HoVknJAEAmPAUU0YgLQV7VHXK0pRHRqidFAPIWQ6TCheNMfgwJnDSDcKKZIfgswdzZKqUyAq4Q6kSIERMlpeDFHtLqJ01Zgsel7L6YcgZQyZAjNWeuD+Dj9mnNWd0fpQInk2FivQbwUxEklNSbMD0S4DnWEyUsppkzrHTO+Qs4M5TfEAWqYUWp9SQXIWaYE45HSrlhFkG6QMMLKkAWmBY1Z+xDh6FypC0AJKfC-NAP80+JhCWHKZTYXFPj8XIVHLI85chhk+gKmMu5eSpkzM5vM0p9JkVZHhasxFGz9GotAOi-ZIyACQ1RsUvFgpKzSWA1XMoKlSvQhqaV0oZUS-VoRFmNI5YRPV1huW8vNTYDVtzNl-MXKfB5BVXkpB9aAP1AUEp0H2OQChegWCAsFmwB4gS4QxLibsOETrQB-3jfE5NsDo2PDhDEWQjBFTJusH-XNnzC2gDUYwZgPgWCFgAKrEEeuXIBzgUGfjEAAWnbXY5CkSbB+vXEGkNFCwxeNbWg0FoBzZuKyB4joXjCF5LHZiad-w40ZATdWLxWCcGBKXehMJegc0fPzdWduEQjx6D6rsM+EE9aRylFewsP9hJnqkDEBoVEAJGq0DelykRoixEtCGxkiQAg7AvUBn9Tjprvr6pIRJhJv1diBF4nheTIOmC9aIhc1KilmD-nCZ95bQA8JnmDQh-7sgsBFT8opaS+WZLyYQmjKS6MrILgwGNiqdltJaCm0AwtiN0DI9NQwUiliyk+ehGIkhYNUT0JJ-N-QV6yoiHJr9inMQgb5RkmMOC0OBLk-B2ZiHNPKa9bpksNVHB2G1GZtshg7C-ACWWmwFHHNUZFYWezxB20ed+L2lI26vPwh835qIVHAZEsNT52YHiAkAD5rOVtdAHTkUmHMRd+NK-1gyeWXL5d0MWonyDidsgvWT845OPwXp4vTlKtDUOcIEg+Ghj61a9apt9OzP3uJDU17TsjUNFLyUZhD41+veGIOxlIXjSA2dS7ffz0bXPWHc1l6jti4Qn3C05lggWwjBa2zt5bUWmWGpPnFswdwkvzZS9qJbG2csOoKy8oiAUj5LGq8B5+2HHMxH0BhkuWAsg4IACoAAkACikgACC4BwBQ4AEpg8gAAeQAHLIECcLDo7d8D2AoWlvNmJZKTacLMUhSJf2Uk+5Vj9SGBuyL-hRuTYwfNk8a1N8x1RYEUfUGVDnWc2T89KMTjL9B4t8vXJDmH8PEco-R1j4XYhWc9fZ+lpTMZGfc9+xBdbe29BjZMxNrnTgGWhc15iXbkWrKg9ALLyQSPa0ABkofY4E83PHAUCehvmOVrInPyBNcp5JU+evbx0++2b6bzOCH2Hp31MYJ8g9M95-Ht0AuA8CVnczaaouyop6lyIiCjvndu-ACr5wauP3J4Xqn3X0uILLYDrHLUrQnUG888bzmiHyfTcZRagq22F424C2a-VXffiHufdvUfp3gd4AQgwUhrB2BwEQMgdAfAeDsNVCoRcDlYRamUH3W9215CKAPxoVMsQGRGL-uDPwRjYE-BJPf1Zqb13xJAviOlykOwCQiQkRyhZgT8ecCpX8ow9M4xzxUI210oDQH9BkPRBoYDGxmwEDj9iBT8X9wNkxXxkI4DMDQ4P8Co-5r8cNCD3x4DSDPJwC8CIhnRNR+RyhkDKDmCZZ6CcCID084pipEp+hkor0QoGIkDP8UDkp4pBDaBhD+pUoxDjAwCeDGCJZfgeJKIRCFCwoyDqg-4p0EIyV1DxIWwpIZJQDVtCgDI74H4GRB8h9qgGDVkoCuYeYDo2CJDKCIYvR1FeYsYFQ85TBlDcDnCdg7YPDyDJCypwinwnDICdhvIhhoZWDdDCgKDUDEjN4UjuCQj4imDY5g46D4hkDA45ATJr9NBpI9AU4tCKpQDBkeD7CLVWo1I6VZIc5AiLdwDeDCgK0q1pR61G1qBm1wZsR+RVAqJQBO0ojKi7oRNs4CiTJhBZgOiBYut6pKAWBBDlAlhDDhBBsUh1xSjOZaJNjtjdi9JqiSAViq4mY+08thl1jowWBdhqB6hJA9iSADiwgBUsk5Ad0Zij8U43YriB9LCwg+ppI8ElAcDDhaAnJwTqgU4JIkRqFZJ9imiHDqgOjMSsSUgajYTmAWCph9ict8ZG47J-86JFZTBzU-5KSPU0D+QcZqT-iej4ilUHkXsRlvB+jlj4RBim1nAAoOZdhLlpjjjAsis99RJJggCMIlxZIr06BgjOl1xy5R4lSaIZFIjhYVFYFDUKigTO5M8q5L1tSujGjC0WjFA2iJEu5bjzTe5VToN99UDpDSpU5FDLoGjT8I9G4oglxL1-kj9ep+p6oWh6juiLF0jD8qiwzaImTOjVSLE1EQz4zZoRCA5-ioyeD5i2QvDfD3DgZVTn51i2YOZXCbo+ZPpI1ukeNekXkHjLl1jJYyYkiKYLpazMUNgIIjSqj0YpYOyuDjBPpphwCvVuSdMbAvFBz2zjAFTLlAkiV+z-g5z-CcYiZxy8zZF1iGTMJ1zbhFzvjrkIJDy-BFyLN7iLkeyC5Cy3D3pC0R5pYYZcZtzT8rz7U3s-ZqobTJASBmDIyNJhFey-1hY9BgL2Tf5PdShZEDSDgfA4RgkAL6IeQWgIlZg-yUK5Q9llZILQw7VQB3tqo6AQ55w3jpwSDScdZ1jvCQxMVMlqY8lvCNzKZ2hZFsMKzOY6KiYiU-49SmVYFA528DAyKCRsFiDZxqLzysiuzGRcSLVSKchxLKKpL+hZIp06LETmVnzhzXyiZOVQgpyOLz8kypxJK0IdDxDDlU0YRJxYCgJl0cQOwQwiUXCkIaCqLvSoK9CgkpQPKUIvKHMVJOwv59VYFcdvyZSxBKCYici6srM3Y8kXYQSGQvUvE8VONwYxKKKLKEDZI3YZsZorNsKNQWgsqsLERULcLMqir1xVy9A3YFKCpIT28YTlA4TiSyU2UVTuNAKhEXT8yYqMjMxWKDZfSadtgp19ygzk0Gq7Jai047DtKJrXSCzUDODNz4rn4vE6U8kGrNrtR-87CJqvVmDf8yp-9DqyYQr6i6VVSsMII6UhrnBKCAq8qiifTwDn5zrnK9RFy9B3rHL0I-rMgLDHD0z-ggbaDl1jqDRVTmqJyuh4YApKD7KMC1KrKlCJqfrqqLqAb0bVLLL5xQbQrEbIa9BCaPrYaPVczT9Eadz3gl89IV8yF19OAt9eAWFoqsxAz-gqJJrnBJiuM+aXrJ0XELjupv0w80TZgmqcam9lpfpnjXj3iEIzsLUUSzCMY5b75eFTq88SJoCXi3joS9jBbw4zpcp8BCwVbTaoR1ah4CA9I9hTD7BzD8ALaVpxobbQBOoq9nbuobCliva5SxpqjZhJoA6CSOqiSnJPb-SfpMZw7faNoxbprRr-9iwoTkNQLKQAEZrkRZhs7XQnaIhC7AaPULa71zpK7PRt5M6PU95VRC6mSc666AVE6vYoIyhTU1qYqyANYuRdB2rOqnJvrFbKRAwkbitVR1yqcSQJ6S8CY+wZ7243oh6LYliw9SzzBQhl7KRDUF7NIDbugvEFglguLR647XQ8lIr24DCw8AC9Req2iLbDVSbX6PU24fcw8Lr0Sw81h9687EZNxj6nbj7FyAHqcLBgGC5AxwGxbWroST8x7NyQqv6eU5aORL6eCu7-4tQdAFhn7MgaYuMshdBiGPQdSJDDVH6QDP73UeULcPAcH2qfLQhYEKGiH5gSHmHQAAAeAhyh3h6hjhsICgytKRQ9MHDIcW4gbENUKudwGGcGeJOOFoWBOEUAAAaiIrxOsH+10FqXdgwbMD0cBnhF0f0YMaMZ0BMbrtrPNT6OkbhFkeoAIBkCASUZ0BUcpjUYKMoE0asb0fBLsYcc-vMfhELGsbCaiABwcbEf7v0m-12HxuOpCt3qBFRpwPGAyCUiXqRJIrIr4cwZAsOWw3AsidWwoNyZiSUm0o3uoGHp0GvvhJxmjLxNgVJoVUJjMfBL-ktDEfBO6ZKZ3DMahQHCSc-P9V3PWRPwVQvqUBeMrNQZvv5EjVCF5OkdJrrWIHSHqAEyRAOyMubNvKBXq2PryXnqfqRqZXXCUtyEgc-uqMAeaqH0gbtPAaKqMrexAderqfycvUZp5vyQ1HSdpt2dpXUCyaiWqhPzydrmBb9OnOsACkedKaYfKdPLAvEWqaH1qeUERYaYMaaZabaa6s6YtW6ZCt6b7HxYcL-g1SGfUEwfEfiIxfGY7DHPFUcbJPuLmfoQWZFueCvrWfaY2fOcGSkaOEyYFP2ftqOb+CmK7WupOevPyyldnLD2uZNI+NuZ3PuebxKeeYwdeep3eYtU+e-vNb+H5a-N+f+d9OJeRaQRIRZqYDXygA3y4G3wwFBYiFOK2KoB2I+MuP2Inj-XvHvRJOuPhCDfOObrZATZDa+xeKyAVFDgjYblAZ7tBOBy3WiGDcoFDeXzyVyigQAVNEsZsFNGZQnxSAAWtBresGtHrYUoASpRbYa0OHbcrd+nYm7fYj7asN+gVlKEsfHbkFWQbbCAAUHSTGxEsYXdARnY7d+m2cYBbc3aZVndCAAQUgWADg8DoEBkPf9xPAYGqD3ZsAAR0e7ZsD0ColmGxGuyS0mL0cUdABvesAAXbQfesCfZfbfdAEmK7S-Z-b8qmCQoA-oWfdAFfcS1A9AGCQQ+sEg4AWAFg6A4Q5A8mLAAg-XalDhAAFJsP4PEObtkOSO0Pv2iPoOY0H2cPKP32FVX36PD0ABCB4JjijvD0AbjwJdj-t4jgR8j4DpDyYoR6wYT0d0Tu4AD5j-jgRwJXDjjuEBLcT3DyT0AJLGTjD36BLBT2YMIJTnToz-T9Tzj2D5D0IKj6wTjmwAWqBJkQts41NsNoOz+lzaoBSJSU0TBIt84zzg8JmNz4t0tl26gDwAAK0YU41kT89BKQ87aC9Tcse0lJMg8OzS5LcltC6ZCwHC+C8JoqphAASVUsaVWy4Mbnd+kgGIDaUSiXZM4a6a45hq9q9vd+nPckFgEgBbd6-686666g8PV66h27Ym5G664AQx1UAx1g-m4x3Za69c-qxTby7MtgO87uES8UmqKQ8tE9sC-c629K-W6s029DapraJ88KCS7qSo8y-kspVy5u-QP5m92qmOI2Ii-y6vH5JznOgtt+5kwUUYDKIB0kBi9UDUFIuiHZj0ELWu7TaDk7Kza+MtZSGB-YlRDCGIrBmxR-3Fa6otuQahFJ4RItWErwSNXe4B5BowdmERNR+2+1Eiex9CFp9aDZ5Tmi7i4oF6tZ4Z-Z7dDfq55ZVFZWc5ip9LrDHtyWZ0A1lYbKjl-5GYpBDSfV6mEK+Zu6lZq9Y4E324EwFBezpTAoEkB5kMHQgUkYG1gCurrEU8G8EHAvl7oILhTCrSLgWDEDCd5AwsckG0b0fCfwBMm0kD44dgSj695tQDueIUi5hROkkagA1zlB9IHmxYEViPwMBWOz5A4YD0YU2z4VThG0YI20a0Zib0dUCL8l+H0sbsZ-uqn4mD3dnid0BuNzl74jM77WBVQPu2DsesbhEPWsaT8olkFT8jKS+B4745l7+7IsZMDhADqX85moWoxzmd9fjKD37jwRGbiTT4IlhhD37OFOCMSNzETfmDD37MCCD94HCf4E+zWfQ4b-nd83Cv640Ixn8JCFvBvm6Bt7Lp7e2sI-oclgR39W8ccBOGmCv7nBzUb+Nci7UWpICq4hiGyvCEn56Mt+ywbwNRktAdEFM2AoPjY0OTaNQ+oxQAmpA0igkDwXpMKO-1CbMoaB1jQgTv1-55syBT-IPuahRBAD4iW-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-SGkGZBLRhTIGYXILeJIGF-m4rCXT0JR8RJxbIBmZ+p+0uikJbwrCVySGxBZc8W1WZmvF6I7iZ8XIGLmALAR+E0AAxIsUkhJFdrTrOslQmCduMb0pRHWQggkATGossGZuIhljiLc6s6wB6CsVUCWJmrRRT4A9DaYuueAYJNMqGyXSbpOgUxdD0qVQ0YWMMmZnhKukNL7FuAtpRHw6WiN4+mi9WR4swiQzdUKqPVFzJgGDJsldPQpVYqbKsT1kwi9vGItyADLoWGik+t81gZTKZlaC28NrJxl6zHlmrJCUaIvHfSCUnYh5b80EWqhdlnMBWUahKS7AxUHsnSZjPjnAqORxiIFYTIiHEy9opM3YKismiUyw8NMqQBelJWBLfeTMxQHkq5B9YyVxcqlThiNRpJGZtyqELkuabMqZ0aKzBCUnOmgA-lwSdlYalpXX8BZ6ItFd0MRX7LxZbkrroGHlUMKbAiq5FUBhVXhyCoQGSaBqv1Saz08+K3WYWPhVOhFiAcbPPwpdklCTiMee1d4E5gYrLMgIxMNkHnAnw8kX8v4D-MDyVZ+FRVLxIqtjl5JzUWqgOTkIdWu14ZxAI1ZZkPhpxPVylK+ImpsCRy3xOksNdnP+IV8E5hKpOc3GJmQ1reDq-hcHUpqZTvVtWSWS00NnNTDcua32eVJ+7Wqi8RcmGfg1LnVSkuTqH1VRzLS-dKIJ8O1a3KmzFyO5hOf3J2qdV9z9Z6bJYJ4JjUuq41bc55k9h7WVS+1B3WRJjKSxEpbJIiqEIFOR4fN30jc9SquvcHrrJ17cwtEtN+5F4g58a4udl03VbSkGZaldZ4LRlrSEqgInaMICYz2ArQOY-4LkLhCrly1Lqg7OuGA0kA7FDZPZHHi5BLrYN7gm9frU-VUYY+oARDbkBLpsVchuG7LO+KkBX1iwMXS4sqUGniI6N0dPVtRoxBOl6p58TcIxtPHDwBIboFjSIDFHsbJ4wYLjbPTZCswZe54CQDRqlp0arRvgtjRAz1ZBoZNFARTRONXoWkA6I8FTRiEE0W0hJbfKeTIB0AOQoQK6uTQeLoW9wxa1G6gDEBrHEBVNjMf9QNPk3LN2YnMfjQeEc3OaaGKQRxX-WWzGC7NDmkeN5sZi+a9NBUmwDBpXXrkItUWgTWakIq1cyNEaKyMFhlB4JIhcWh1ZY1C3TZJ5Qi6TfZtyC6aBNrmrdQeIk2eapNdAZzWmAq1C9uhycsIK-l8mTTspoU89cyjy0urqiym6Taxua38wqtW0wlKlvoQgcVNZW+0vGGG0Cbcpi2lrZNoMbpaS4WW6IYWH63uDl2pWmIIVwCjtJTNVRHEthIA3bq2pZc-tcap1Y3ZdUBUSKbtpMgnazNmGxwTiIzXqo05pWJtZ5m+bmIpt0FBtenP+3T5qJFy4jMLDW1hANtaILLbENy0-r8tswN7dJCO3wsqITYbBBaNgkHiGq4YpXir2EKEkJWmGTJWIH5H1CAa52jbauAeY7qtAt21ZAeosRJ55sVRD8XGC-H-BwSmgzPmjKNWA1Kcb7RpjKxF1DK9VcIQUsMWcAhpPlKrEJuctS1whqdrIxcskNW5MtftGciHYA1TIwUilFieHcyCy3q7BRTdHbSjrg2zALdbI-sTgC8QKRzhK7RRoEgACcHQQNBICDigI1pBgCCdVDd1rTZM1CXwGjoUW3CFNhgbRQYpGXrJmsjwMeZsxsBu69AFgiwYWDQA571WokwxUynT3zSvFae33Yu1D2JQ3eG02CEEQExTE-aIk2ZlwusAh6W8leo4LMBd31a-dr7MWuoBARgJlgECI3DyHEzja8N+DdLQjuwSHp+9oCcBEuGR1xll1qOtUMAnn1D7Hd7cfEalA+1G5iA26P5N4HSBcgOuJSnBDtDySQixiQwc4TvquESRZA++7dOPzaDJDal9CHYowBP3NcP+saLkBQ0VCRp09cITtF2nv0MBPB4gA-dgmsBgGlQUu0vcGkXb090he+naKGGGW8o-UsqRMaVldgSY0xkZDA5GmuBQhb4UiK9awJLGJiQSJBmZrKi-0-6OYf++EAAddAogpWIBsAxKQLnOAyDfGHg52gQNTkklYk2RNwaEMEaHVwIX2QwCEPCHG9relqUeucks67tSIGuQY0qEVqVq3O-kLzpyFC7P9oupDqfhi0vajDqc3QI2oD2WzDKfaSncKT1Y5A6AQCN3jEG3SAaL9V+2NVCNv3CjOcGMf4J4dgMWM39OWbVkiCyqWGdoQMXXeDuoz2Hd5Pgg-rawEjdCEQHjBWQDg5laBVASaFVAaRcGcwV1+hqgEfjiOFxj6PLSXQnSo7mG+9JYigwNAdk+Z9+Y69o4gaLRqhmjC8R2STmUzGCyDVB3IO0YDojG2jfBleGJjsCjGtx1WcYyhnqyZB85gxmMHkkdzy5kcqOTHJXiBBbGEcOxpXB7hix8GrsSHVY6MbuIFwohJsCY30ZnRPw+UsxpYLfBkzVYr46VFY3IHIP15Nj0OJ3K7ndxeoy8wJ044-IXgXGqOVxlPHVQgh3GLVOACA3vosGaY9Aeq6wAAB0sAnRuyVCHwP4ApESR5uC+2A4gYLUWe58MfuaZzEsAKJldWiatwYnMTOJvEyeqTEfFiT36UlIQD+QW59ahqPk6AAABer3UADibCCKTCT3J5QGSdFN2g8SVJuEEwdpPVg9UHwFw-QHcM+A0T+Jzk0ScMHMd1BxHAo4bEiGkBIhEQxkBYKZB4AGTFavUxyZlNGmKOJp6DmafhAeALTVp5IcqaVBAA')">function add_rule_or_assertion(assertion) {
    return is_rule(assertion) 
        ? add_rule(assertion)
        : add_assertion(assertion);
}
function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    const old_assertions = THE_ASSERTIONS;
    THE_ASSERTIONS = pair(assertion, () => old_assertions);
    return "ok";
}
function add_rule(rule) {
    store_rule_in_index(rule);
    const old_rules = THE_RULES;
    THE_RULES = pair(rule, () => old_rules);
    return "ok";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p41' class='permalink'></a><p>  
      To actually store an assertion or a rule, we check to see if it can be
      indexed.  If so, we store it in the appropriate stream.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (store-assertion-in-index assertion)
  (if (indexable? assertion)
      (let ((key (index-key-of assertion)))
        (let ((current-assertion-stream
          (get-stream key 'assertion-stream)))
      (put key
           'assertion-stream
           (cons-stream assertion
                        current-assertion-stream))))))

(define (store-rule-in-index rule)
  (let ((pattern (conclusion rule)))
    (if (indexable? pattern)
        (let ((key (index-key-of pattern)))
          (let ((current-rule-stream
            (get-stream key 'rule-stream)))
        (put key
             'rule-stream
             (cons-stream rule
                          current-rule-stream)))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPE0GJC4UQ8lIGGMNgZAYYhcPcugxCMSgFEoIS4njQNBvSBQWDIGa5vCUAAB8duMwaPlIappo+LaYj2g7UhYfB8A4IRNvm3b9r9FaMn-WantiS7XtSMcNUetMIvq8xBuYMQJGEBhtzBM7KB2Pp7jEBagsGrC4fCAAyTHen6QYMZHdlEfB8K+oLUAVvIBRiEBqjFoSZbUnByHodBR6rLoKniBq84QZcQxfDWu6GHwUbOep2moKCuZ9CIz7+WBy5OMGi1qDEOhqboWH5ao1GmfICHalZnc4as1X1c1nSgawPmmTVjXiC1obBZuj7ztfaW8dlpMhi9uWtsma3bfNh2ndwmmCY9paXBlm9-fmhWyeV1JjSEGcKmUNhyDK+hJeWPWkZZmH2dAcFU6djOs5zugeZtpWPPL9OTCrrLGAFoW3aeqOGZjv2fdjn2McD0nbcbhhK+z1uGHDvPYk9kY48H+XE9twbq2O8Vx+byfUVnmIC+Zo3i9N0v1+oTeJ+r2vbbPi-t+r52O73+mEwHu0387wOg-r8xb7+LfM473KjPSO+do64wXj7eOw8zhJwGqkLOa1hDkDGgAD0IIENwzhn4HwNkXNmJ9JJUxYMgtBGDiBYPoNfH+aJiGkPXBQamWhSCGBweAm42J26uxFmLLm3AP6AxXjQ4EdCUE3WEL4NhPcIGDEXnaIe1s679VBqkESQ1mBaEtlIhMYM8FHwIZ9KyaiPhUGIJbahyiXBqOIOgzBhhsGgLnuAgRQ9SZKPJoNN43FUQ-BseQyhdBtGM0Lvok2hjQDGSKGXeg3jnC+NsRQ+xVDv6WJUDEshpAGDkPxjrbuCYYYMECDIEueIUnky8RkhglIglolBIUyoJdSQj2ERUvxmTOja3dmA6RBSiklx0Io1eqRjDtEdsoCOuTuk6P1obKGx9wnghGbWRw3MymcQSsQIabRlnjMemEXW4Di6LO2WM7m3A4ZhGaakpZpz1GmMtqwyOsQpmBhccvK55MqgsJnCYzRjtOmUH2Xk15XsLlrI8pgn5GizH-MeZ9IFLyXDx0ubAoZY0FCaFxDclZeyhIF3SJkXFHzk7Q3WFC+5-zcUHOkW9QlyLE7uJJewDwXhn4v2CYfOZBi5pWWZcoLwFjyYbIYHy1ljj96HLZuCUV4Jzny2JR5UVIr8ASLZfPWRS8A5uLRRoQgIJuS73Fey5IMz8FhJ5aXXV+rW6Cs4nzDJiSHGTKcdIt5WrUXCOzmIOFXSXWvz7naaBQjUkOQYF61hRAEV+uCQSrIkbwXmC+R8MNpBprxupf6kY8aFXmEhSm71+h03AqRT7bNsDGXwOntnfQfiUbgN0bM42YI-FWWKLXCtKiGDVAqKg8U+heJ1ppcMygx0pq+xGAO8Ie0KapHXuOwYk7tXCO7TYhgRJRb9qoAtRs3RGQywHUxAuc7ujhFKOCNtoBmjdCXaktK6jAhUxxGybopI6aNkakCNKT6yy+CaeSIKH6wLBnHPpUAsbL3UhvR41RGQJkUq1oO6ZISuVhPg-DUupBYO2obvQTOvAkmBMwxwRDILIF2iIw+HNVjYPKtVRRkjJq0jvW9oGn29HJgrgUlKzojlyC+CZph1ZK5mgCNorBmBEU6o0Mas1JQUA4CIGQOgbqeI4HmHGjWUxJdHaVjxfW4ZkZRoabPJNU68tlKlGpJ9ZSzRKYSwxhZ4Et1pKP24SAl2wtRZpC5oDbgOmpgrFsynegJiK731boDRzxmqkheYGFwB1dtN0F0zZmdVaN7-0vhFhzzpSjRb-hwABLdDXhP86llWWCLaUpy4qPLp4w2VdDgCvzyWAsmTS146gPiFxtMdbnGrKw6s-E691h1ASkspedEF0lSCUG9fGwN+SoBhV8y3KIrJk8mFkB9fNfCelpiIJIWIlVkiMZ7f20UMrU20vYt2YtmYLR6u3YjiclZdy-lax29YFrk3FTTdFZF3Lj2fgA5Pldv7aXjHQq0fdooQ2FxQ7QxNtrKk0tWuoAap1W1HNWskcZjoWh9D2vmwR3zLRWvnavAUrz4dWHhrJ-5lHTQWikHMiXGydkHLOWpL4LW5BUFeR8vj0x7bg6ED1ZI5E3Bw1CQHGjY6CguvUErJs1byJJh0wldI3HWSFdK5VwwNXDhpeppRTmZ8-w5fBYxfgcohuaFE4cBrqCMR3wUIyMVYXhP7XiMl07ynF2WioK0CIMayWDz0C0ZEvS9qGFc2Yaw9XAfA+xHDcnlPTUaFh8rBHprju6AwOEvp+pPcq1nhppgj3TOltqPDjFrWlLK9sHmtH5o-1QzLAoi+Q0Zlgj56srZeyTkXC20oL4EggvBDi7YL4GqOZy222p6NWnNb0GGB+wtY1YH8D5tYX4pYtWwPvTks0LCXuaZJpnF61fhAwgb-TysJfZfaysLzfT-f33ye6cGcI6LI24k9YJILalatZ0wHyCY1oTSE6tK2K661AM6tbV4lDA4mbQHpJtL15fYb7GSmRQE0wwEYJhrN4IG6ZQacTRbPZ7Ib50xW7oqYpbKjI4pgqb7RqqjgTjgBQW4UzCj6CDRZzJq-Iwpay4osFF7SLn5E4HgCHQ7Vbwrfb+acGRjd4NixZNRSFQpzTP4SgRKxgSGX7vZCEAp34KEri0G14MSSHfLqKaHhzO6RJBT6FwxaFMSFBd7Rj2HgIUGva7LR5OLSFoY7bGGtYuHz6uEL7CJP4OAhzwHiwUIMZpaxr6CxEH5LaxrCY8AbgQiQhRGNa1BwjcCRGcy5Eap2jJHDxkQRKKzXLciMC25NwJatxfY0E8GHTeETIBya6xDvrwqMjPYGEPKAwhFa5IZmL0GUFgqRKlBpGxhrDi6Oz4w1Eiz8BFZAIhaWH+EfZGEXi+HTCGCLF1ErHVysLCqUE7GB55qCEDHMGPigBuGdHDHBJjxZYlbY6xhcY7hPHhaxRcJ3SCKRLTYFabLPFY4t5XjvFgiAmHFTw-GfxIGo6xoBThGpLRag4gG6ZvqqG+6MhKq+6DHkiNjdh6i9H7HLHAlrG+5ARdGqE5H2Lqy1AfrAh1JeY0n2zwGElm6sEoEE40y+4P7TA2Ih5Qw6a55aLsncAsl0mhAb4-7In1aI6bHI5gHsK3CbLmHl76A7ESHWJAGk5nZnErCM5kEeTRYhww5onbqqHhyMgSGmn-JaEkGUkxAhyubCwzy2lOwwlk7hwb6HrgLhxGnqb1aQlkmBJg6gFQTOkwn2nBlfHlSel6kGl4H6AxkNGxQgLyz34rgmE6gxAdouB-6xZpxQkvHob+Z0yRkeYLgzyfGplxmVm+ZZlJk1nFbAIWFnZf7fZZnBHlpSaWIybyByZtSKadTdQ6BqaMYjq1j6CoLxEC7iTsiCYBmiQqn26WKbqMKSDbbcC8kdlKk9JSq5A25258yypnFx5bYsLbknY+keqpKeKKCEC26h5q7xENpmpggyBWSHmPnHk0LYaJpZ7nmbksJE7xG9INKfmgClJUaZ6WK0aS5gV1J9KQV-q8zCLE7h7yB54yCIXJrIXcADJLnLYrlqlTlvAh5dz-qSo7jgikVnJpIN4IYwWDR0XJkMSvmmqhIQkMRGLRxaH-lWJ8V17kWUq2F7mZolFZC2EynkxjJfD2JTTZ4imUpllSzgI3jZl5lqFWFyA+aqVUWupeyaW2xyX4DGAiqS4bnUERCFAGUJhYS6XUw3nnCNiUCIyjFj5KVYWWyMgInjnEV3COURyVnr5VgMRRqcnowhX0Tl4opoWpJBUul6hE4bnPC2VxiGUjBBUJoj4blaGJ6pWRDpWck3jZVEUCnzFeWR7VbRVhV6jbnrCbL6UZX5KOxiBuVGAhXhDzkcBTQdWngpGH5YQrYbmdUdyhUDWf4sCNXZ5wkxDNC9XtWqBjWuz7IAA8wIbV-VnQg1QOvem44IAAKrdMRXQL4IIKmrwA8k2NPtQLUM0OCKAAANQ6GB5HQnRCinZdXPWlxWQ-X6mFDvVTSfVsV6gcarimSs595HUnUyDECOQXViBXWwo3V6p3XCAPX-Up5A1iAg0wn7IvWyqlxY1vUjofUyCSKTUyWcR5RJX2kwnWXkgmXJbQy3TYjNXTC2x7EPT40xURXOj4rMb41zWH46as1EAakZ7k6ZxmUnRVV56M4A0QYwmEwyzC1K0xCzBeyTUa3K01Esb-hdU2h2hU1DG3GmE8E6aExuVNUYqeXCneX-KiGXZQ2bgM2ly2Q3TlBgZcxz7ahcEu5GiqFBWMj6FBU1rdmxgAb62JX40pVcydlS1NR5Ur7ZWOmsTkiBSeEs3ojs3dlVHkwVkdz02VkxWM1Ii-451s0R3omB15jCLc2hm1WTX3H+jF6JHq0ER5ZV0S0a2mUKViDy1aKK0ETNAq3zlq1dUA2lDwQywDUxUi3taN0G0rV3R35-ig0TBm06gW0GBW3zk210H22YXVUIat2FD7Wr1sAD50Be0iA+3UyT7ulWzb0B2RKNgh1Ahh2jUmFR3gLL2x0hXx3UyJ1S2JWp2pXp1hHQOcli25012KK9kFj9ktTybtRKZdQYD+Xy7UCK40AG5G4F4Zocp6IoYfnG6lwYK4P66rIwVUN4PK6bK4N6qGERbq7EO9xkZZDq6KKFR674Oq7SaMjFzphHJzBE2xBzCrigNFBHIcgSMxAcjSPJ5HIYQKMZEHjKOiNSowzqMwxaMHZSq0psBE3GPOgyOFBHLcSGB6p8ZE3WO2PnWKgWOxBHL7UKP7WxguMxBHI3BuVhosCGCyp+OqABONQrDeOMk0VPXqOxDTncC+DdUAB8oAAuL1TjkTRynksTMQ8ToAiTgIKTAuPkGTKjUq+R0weTBTAIRToAkI+TMQmTUqwAOTBgqCCTyTqToAYApT2jNFAApK01U50wLv0w06AE0zReJLE8M4U10-OYk2UzRQAISSgzPtP5MjOgCrNAiLN9NgjghrVDMbPVO1MbUxB7OGM0VrUAg5OzM1NdM3MXOTMHNJPHMdNzMC4pPPNLOvO3PcBFD3O1NJNAibO-MQjLOtNdOFAPMxDLOxAznpgFSqH0M0OrkFhJUforgcLzrcCosCPouogop8PUMEv2r4AsAABWJggKgI2LGg+eczqj-DjDRNAiPDkTRQ+LjDhLDUaYkUKLLLBujcDJxcRy7ewgRNErnLSdUTBzkAdA3oXWs+ALCrSrY+MrSdvjVAoTsAkACjITDAermrUt2r-jAAouo4a+ayaxnkcgAHLkD2utOOv2uL2B7IvvACDcvCuFkekhV0srA4vCgPMyw4V4tCubIiuetUg+tRt+szi06BvTDBtzPssXg8CRuYFxaAr8ti4S666ks8uEMm6D0wzxE67VAMBqikAz5y2UvkDVh7HHSaCS1oRxtdoYocCWxsP+5nFepNoIhFBInkzThYhD2UrxEVWh4O2n1gg7G6rzH9pZv2q82vWB4dtjzC18lFCLsiDLtFsENZ4UvUumChW62ZuHvxtetFm062uxCH0eW4iztNaKIcACCH1iBfDTU9Yn1Na9HxiEATvCH8tINEvJ2oNDkdSYBYNaXkUUCmAMCjIfDlQ3CkCsqAkcVMZrQbQCKYfg1LaiY+z4fhCE0MCPUvU40g14fZznx-CBzpE0cZbEY5VpIKA3BbJx5aA5KjreoVvKDKBXUZBaZGDS4CedONQvX6DkACeEzgiPVnqPUPV-UvUyfKD3uKjydyq8dxVaXkKUBj4zS8eluhUDv6cauRDQR2WBg40-XggQg-WHkcfGBcfwE4tmfxBj4mca6E3WDgh0Oee4jMIKDSeppYeJFepIFnqxq6TtZ8FsyRegDYzKS8GpCJE3iRdTo7QyIr2ZfbPqRtpRcGAyyJfznnqxeH7wcyczjIexRoesqRc4EGAqy3WY65yJfJerh2YX5Z4k7YKZci1noOcvXmdBdkAhclem6hfIw+frvOiPUUc87F1eaxH54Yt9ftdhekdzeafE0jeBdMDjfzq5dTcDekfR7wgVeBaZuSCGeSSghE1eoRu3djekCCRIHTZYSNeDY3cGeSLghqMFFsyTfIzG1ZCZfPd-eHdvcfc3Zk1jrfdLbggADki3XqdnqP6RVHFN03rHo3SHtYpAkioyRP4XzG1MOHm4MsJPlzsrRyQgkrVkwQRN4IDkOkZsbgxYLPFG8IBHD2o3x3NPn+N4QvkPnlwXsPAv1PhPizG9ovv3nlQvRFDbTbygLbibDEuuHgiSN+WH6ObXgStanGcrEI+vNq3AxOOp2CtaO7hQOLKv6wav1AmgWhWv4ybgJnuvfPzO3XuvxvRyba5ylZPC3mEstasPfiRFNPzsfOqCbvOvtazRzXqQZvu84fnRH9We49O3sQUZK3Pmlv-ipO4fIRfD2vnPUM4a8UDL0fAssf8fHviNe+6CNxDxI+WflZcnajxvWE+68g7vxglfpun+AiGC5fg-u+DH13q7nfZXujPf-fiSRs4a6RM-HccnDvzbzvGv5eV3yBDlHfHctvsQ9vjbjv6vrvY-A-nv4fkvmRa-rsEb4-y-w-ihlEtBq36fgdQUAfRNefvCYfFvunTuLf9PC6CREgXU4hj4SAuvcSsEjPwt9jeMsI3td0votoPanOYfEHiL4eRoBtDW8uUnoAUVm+hALDggNIHG8NKiA1Aa7Rvw30h83ODbi4BEqfZRcnqTntpHKiUAd860MNMIAqCDBE+alaRHgNgFlcLQXPGCgMEr4cDYouJIQdZ04aDAWBgKL3kRWFQsBu0J0Nisxy4B1VzwcAlwFhEBIxVzwMFTQSIDlqAl9AFg7iFNHiIyxbBJ0Vjk4MUozxXByMQwRvQ8EuCtBilKtuHRMHJ0E6XgtsJ4CCFlUCB5BYPEuyCHelghIDLwcNRXIeCdBdHJcPoL5AW9UqRFTSDm3PiE50BQVcUrfSfJQx14DAdQCIA4CkAFoo8IgHjhb6t1aCc6L-u-UxJ+CxA2JToV2kYDh0ihOQjwtIg8GEwJWZxUoA4DvrlDs4lQhnjULoEJC+QZxZoLkEICSIPB9pHwVA3NxKFLcLRVIOQLsJ-1pEWEVYZImQFADuAZwlerf1fq7Dz6sDcASuDYiKC0kaw3XkRSOj9AFAYaOYqHgqBZxfA8BQwGyABF8YjYhgV9MIKQwd1SkxvMEUCKhiQing6RXvqClKTH9cmEnEdN8N+EkB-hkYcETx1xFEQMRF7FPAiIhGkhWO1QZhPdANyUj8YoIwkYiKGhQjXhxjIwHCJ+6Mi2RKI67miJGAgiNOBgTprSLID0igSLI+AryOREijnQTwOZl8KpgIQuREmfysqJ+EyAs4s0BllLmpDxFtRVAEPPem+FGdcRwbChlvSiEeQjRBnR2KaMfSaiyehKZ0cb2mJxcG8tbfoAyOlGDBIkatHEVTFtaKiHmdok0ZqPNEqi5YD6d7tTWNIxDQ8QoTAqCFEq0dxQ3AZBOhmyoYkvWoAEYUCA2EBDRqEQwYS1UDAFigM6oWoMb2naDAghWY7IQnVRHGiyAjAPxvxA2HuDOhn+RsYsPjHmBeIzCdsaFGWq8RMxVAJsYkOhGBhP66kGQEmFqCPVje4IBcXsCXHpFtknQTdOhizHhBjeIdXMtdzXjVoB0OfTWkHkFJdpRolIVMcIXHFcRJx-Y9ImjEyJnjsYaWLCHuJ76tikgDADsctRvADpMRzoG8HuJAmKghxbY-8aOOO7ATyRaEGWOBIQlXg066RVcYuMlafCTo77bKJGJnJJDMiGzUMSk1jQDjmBfQflGGkYASDOB7XWQc4G4DR8Hx0fHMVBEbAAT6kNIZvIyCgl-iAJ+gZiU+NomohuAKEq8KxLLGclOJTedKPOMwl79YgUxY-NdwHq4S24QYkLjJPdzN5yJZQcyiulQQ7isOONOCVujfaSBQAh1AABLmsGAAAQXADgBzWAAJUOqQAAA8va2QBAg-KWlOGnxFCYiSGoO44cVOLrAzjVQBkmUEZL4kF5jed6QycvwYlrE4psPO9J0AXDBSQsMFDKZkAaxaQiWioyKVZNskOSnJrk9yV5PAC5TJAvQntMlMKkhS0pXgu9JGMMlrpywG6NKRzyan0BPImotgQlW7QFTiwzU38XQHCnxFNRhuHUTi18JZirqhTfUmoBMBeBqJo0uiYEkWmWQMi9opIFNMxEBS1Am0oqXFKmkWSTQNGXIA4GYSMgAADCcC0o1BHIhSGjKn3KjUBBgKMa6U+TulAgKMMWW6doBep4hfS0iQGTdK9EwVhUL09LOkJphBDAZH07KF9PiJYRyueLTIsjNa5TwvpYPNISRD0mBBYi8M8UKkGqDZBxMuYqkDjLRoG8u0ZoMDPDTemFYUZjAL6clCZrCIcRmyXjGwFZQKCVgR6atIn0mIBVNkcM6wegLpnWpYoaM-4p+MyIoC-QpQLCLzIYD8zWUFw0gfKIfaBA+ZnQVlFQN1mL1TITwmBm3wXLEBDZAsqmcRiIoVB8RoQEWIb3QT0RdBU0umKPgNmayjZNaZ2i0NFlHDXoltdoNuKCEPgHhYhBMJOWIBm1XCb9AiI2BYDdDLB-gvoT-SmkJzpgQUVOfOTGGB5SgC4qMBrWaAaytZNgnoe4Nb7agsA0EEAUMKQxn59xXda2bbO1lGUNc06Cuf7I0re8ZiTUHavHOeGZ1Xhvcu2bWnKqJioYyYx8lgj+CEzkIdVL2exI6HpyuhhYnocWJ8yliE6TEAcCMJ2ZBhqxkEFcEFAcCfUYJgUquRvM2E9ixJsrWIKeGzlzc7iQczcKeGdwZ48AkIP+SuBTmdC05dgwejvIlgvz+xZtPOUAuPmFzVZ0oK+QJJMHiSuxFhHwShGgioRsqisusUvIyEQLIhic+4QOCdnzFUgucCBXvJAZpVf5-84WeAgwnrisJmdJObnLAGCk8FegghVJPIgjtOIl8imtfP4iEA9wv4Nia8LnESQ1xHASViuOkUbjUB4crICIrxakgDxG5F8bOlPGlJzxoGOsdeKyRmV7Ei8lRTwDEWpVNF6WftK+lrEzyDF884xY8EIC-hTFOY7pmAD-mQhLFWEERVjBxiviDw1iorgItxACSgJZIjPEBNJAQSGgISoRctX3QRKn50wfdNEvEkrA0J13RhTIv858KPIOuFBBRntl6ChJ+0yaaAEkkhC15eYzOP0EYAUZGQJMrmGTL+AUzCM4mJiI2DiWyTGQ0eOJQJNKVhSUJbwPDKTlqVCBWZWQlCZUpAbgyEw3SnSXJKkUKT3RKk9rOfgJ5kBJEgM3EuMvqXiYIJakyQHhM0n6AFl3EhOG4nfalS7JLk6yAABlzWPko-JkCem2xjpoTCjKwnOn9ivB+GJhjFNCltiiuiUmKUbC+VAqkg6UuqZlMmWsJWOeUhHLBnhVeCbJtyh5U8tqkzgkpUMCFS1JKkzS92-oq8G1NOUdT10xSHqShNoqwYBpmk+EJiNJWxiIQgfDDLSsGkMp82M+OFZCvKXiLyx-MTSbNKoDzSrwDSh5vqQKWTLilWMspYdN8IfKeVPytOthK7abIaegkmXhtjlWLDHRgkLwTNLtGirOaG5OZpEkJV-CoYjIttqhJGnZT3gmqrZdqrCn9iIJJEqfAWwhWDK2xF09PLHU0l6SNlGqmnuFL1UWk8xrQZEIyC-SiD5e4IINTLz9pWzI1DgUYewQ1DG97EaqzZUT0dVE9Q1bo67imsCQqDWE8vf1bGL0nSDJlIsdpClMCT2qsORSxtbotKDVrm19a2HtWvtXSdO1Ug-gadP66dq6YHwYIJsntW9D6pNiXtX1ILydLVCd0GQbOoZJorypzktyZ5O8lMRV1jk9dVVO8m8TMi9q7gO6sXWDqQs6dIKOCAxC5L4qhdAdUUvowjruBgQGtVW0MnFL06UUNgLiuRWMhV1dyx5TVPJAAaMVzyrCBRhPWdMz1Xyy9QwpvW5DUgT7evJSwdwf4vBnIj-DBX0JvBUNKIG-PzS3w6zdOtsPNLhqVgkDCNQUE2SRuXRIa7auIaxnhoLAEaXRWQLDTaMTTqFx4KQZjc2jXwOCjKAmmCnmiY0UbWNXgmjaxxqBiBTEUMDVehpKnEa9JuG-AJTPI0ohQqFa74Vh2Q0aaWN+m3NuouaWaj0iqmymWRvoB8bWEhmu-ADQTVbL1iM4QzfoFs2dkKiKebTcGMURFRTeIgFng5qJ5E1zNc6-ykxrU3bTeNFGgtQGow30b6CYmtcolrPZFcPRqOcUd6MbZSjAR8BXwoFslzcbktYIIrevS82CQUIDQd1eFos0UJ04UWzTfoBK3ubA8ZWxOL5uvWkAAteBHNSq2CiGBKWEWvNsIhk1aY08uq50QaqFVGqGWCq01TU3rmKhMN3WjVSNu449bpudm5JYDRwnHKNJzKtOrYA83IEjl3AvbWaOwWYKIMsaCrUUFa2kx2tbPLrZpi0A9aiaq2xiP5RsQmB+ANMIWbAyTLoDP237XxH+0th6TN+TvF3m6VNwxbK1k4ADFNrmkza-Qn9JJsZC+2CdCceQtOAUJpi60QepWqyrrWTIW9km5Iy+pWEflbaOcDAowVQDCqkBJ8FHeuZdsKDggIdF-cOLz0G7Ugdtp2vVcAyWF+hmg124yHdtgTtaOd2-filZHy1E0pdUO9ik9I4n84eNNjQEYyAACcJwW2A40BEC7CNuuniPrpmldYNoHwbgEQzrrcFk+TGV0QnFbrvyeCLgecvdOdqFA9dfGfQMj2R5WQ0A-upNaxFYXOhPd5w0FJcsiSh69VXaZhFGJ+FyxP8LgHyNBVHmWy+tjjaPWbrdrcAbgcfUPVWrYC8Z+MTACAvbDHWw6dNXgsrfdv4Cm9C9fGATLWCe2oF1Via6XPXuL1xyhtqSK-oknW3VAioJ4MgDdHsQWdqlVIVoIyFr685mAcfXvW4HXLGBeCdAIqHZyOC88D5PBFXKQBH3Kt8uEkexL1Stit1Q9EIbyD5Hn2NQaeFMFffwBiDn7-Iui0-fj2DXHBbiAdFiAOAnXcCRU46-gfAVaAhyGg7amjMEHPUNqB1E63EoAe2ExABw2+3fWPn32lxD9-yeENHPT2Aiz95+nyPasED-7RAOB7yI-pAFsRg9RQU-eCCIM+Rr9skxqNQeyawHMDfGAXeaqFXGrUJc2tHRuwO4aqEJ2OrWLjsEnhST1lOpqJ02-wQT8twh3nVNHUkC6yJheefJANtHcahAhgRyBtAH38Bw1E+qfVqrr6z6G+3y7OEvu0MCBCa6+m4h-Q3IMlpDrQc5HzpOXMrFDcymNMxiCq7VkCrPfAMRUCknRHxzAWSNBFPy8GZey+0LDQC0wOGcunhz-CTvENzNv8nwl9eOvrWTqP1LaqCLQUMl9pG1ztHdH4EZDkqupxSRtWbUbCCdWcdpCdZqOTb7YmVZo7oL1LGn9SOVZtXzc0ctT1q6VsY08rGC+71qoNczKoyTKvzpHnRwA8g+cDvWcRR1r6wGe+sBVPrx93rCaYyBGVnhSc9GTfbbtyMmKJpQBikKoV3RAgSjuIbqYcYqOqFRjdpQGXUYBAa1Gjj6LozSo4C9HvhgewoJ0e2Bsr3jg023hBtgzDGHmtxp2PcYDVTH7hUEGYzgEv3rbkeIk-QMkoAA6WAZtZaqYA74ZAwQELtdvyYdMNcaEX3afGH1mV8B8JjVYidkHImn5aJjE87KxOG5cTm6QJbwBPCf4egWEdk6AAABeGbUAGid3aYmf9OJt7gkZ6D8miTekEk+CAQPkmaoqEG2GofeCaHNwiJkU9iZZMnMgeNFcgCzxYAs9lALPSVpMGR5pg8AlJ8IxqcZOintTCTXUwc31O8ojTJp3nrKf8hAA')">function store_assertion_in_index(assertion) {
    if (is_indexable(assertion)) {
        const key = index_key_of(assertion);
        const current_assertion_stream =
                    get_stream(key, "assertion-stream");
        put(key, "assertion-stream",
            pair(assertion, () => current_assertion_stream));
    } else {
    }
}
function store_rule_in_index(rule) {
    const pattern = conclusion(rule);
    if (is_indexable(pattern)) {
        const key = index_key_of(pattern);
        const current_rule_stream =
                    get_stream(key, "rule-stream");
        put(key, "rule-stream",
            pair(rule, () => current_rule_stream));
    } else {
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p42' class='permalink'></a><p>
      The following
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      define how the data-base index is used.  A pattern (an assertion or a rule
      conclusion) will be stored in the table if it starts with a variable or a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (indexable? pat)
  (or (constant-symbol? (car pat))
      (var? (car pat))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPMVq1IR56H1uwC7rp05TCi+FgA-MJuBgAhDD4MwbBQHAiDIOgfA8Cy00qIuDmwlqyh9xBESyAoSgepo2j6Ay+VhJv1hbh-1CAALiFkicowCbAAI1tQR6hBdggXxJ-L0KkypqQ0uUWYj8TBQOsGAuKMYpznlQp+MKv8CqgAAbfMqk44wkObGQ9KnkcF4NAAQueyZXzIQYbOK8FCCrUI9AuY8PCgL8JYcQJ+bCOEB3oi6fkkDKFCOSs6TUiinysMobI+KiV+jJUXiFBiBo2EqNocVPRtADH9VSsY4w2CpG4O0TsAyqc7GmFMaAc2kgEJ6FcRJJE0kMZYLYZQlIri3YhLCdEmwWiCqyIhnzJxgjQA0K5jzA6BhuY3RekMaGlMsGpMcTInYdslEpLSWUzRxTnERG8nkimF1knVDMW1P0WMZaSOkbUqQgdg6hwES0tUsc5AmRoV-f4KdDG2PIQaBxT9pihMKK1NSKDZI5zzqYeZjISneGYEcaOABVYgj1y4AHcsTYn5KoKioAAC0dzUmfwcjvAKfSTLCFmBsgWlB8CgD0BEWilAWB6OUEsXxwhGS0wLu8+qwLQXgr0noT5aoq5MxsJ0VJchZDiD+QCqMrBdjUHqD4pFkLl7WEnMCOgityCgDuE8u+0lkV6VdtQYyLLiAmEWTE6JfVpLEChI-Q4tAnJLN5TYFOASpIyU5dy8VErUW5x5Yq6JUypEivUVMclTIUjyykHZFBeg6K0uacoumGElyDVoAKqYJq5AeJiWA+ojRmh1A6BirFOKfSxMYPszlhZjmnOoBcgg1UOa7BkPcx57zqwYqIgFFZig1kLxonQbZ0LBbl1HrJRen08EAOFngsB+xDgL2ecy9GXcq6pt7tslVvKk2WoEsagSboNm1s+ts1WYM0m6NKm42Z9iilP2hfq5YjAlzlqZf8Xq-V6otEKTgs1hQzETL0HO2i1r6BLpqc48Z99N0DXmrup+M9e3CMSR9DNPrfn-NZiwdmnMr1EwpQXF1TRiAtA9Z6+QOK734vGByMmDTOnGE+m+vVEED2Vs7iBhyYH+bTBwT+6wmK-1Rp9aEKlVaQPGGbfS0ASyYOTLgx0nGRNkOONQ0UPFdTMzNuRWR24zaoVYcKOuXDkR8MoJo6EdD2LMNLPXGkq9CrwJS1AzDXGVGz1QO6PxhN1Um0kDUYujS9cgTjuFnoDTK7oGgCLdUEtBwfBwgAFSqfkV+uo5nAagBU4iazi7Ax6dDAASFCEpsGdAQ7zmJdORhc5NnLwA6-bJvMQyZpsFS4GhHEnkYKQyPjBcH1PvSTk3GSzC3NyWWAwOWobh+YJIQQLfD+iyS49LCj1NGQNtVeDYrAXeFoRjHobxYmGuqpHtVpLtXRxAgE96qB466GNiCxI+I2WHMwjG2V1r84cQdhDHlnYSF3ykIGSY3lMCYTrZQhN9CS3QIjgVWA4WNHuh+2qpUjWVtqmjp9VSt2hGXaROS0CKld31AMAZb5nIJX5tMNkm7XVMWiGgCs3KGzv2ZuYzUlDjUi7vvYrB-jSkJG9Bu3q3yqiAqhUauYFqvxmsfuzERzyFo6aR0l3bmk+pCGavDpwWOiC3jDWLn+OJzHdlpkVSiV10Iy7z032EWoxDN7PsQ5QYRzH4vXSMYZNsmjaikFlSNfL7Ux3MiFJQcrrTEFePedF8lfbLWmEP0cdC1X2v1ec70Gb8RR20EC5SJjx3m3MSK7mTTnHsTqNdHhgFPtRD6FO6HZdGn1vrNq8Y3N83wFbeu7CJj+P4f5xGqV77qBKGiJ4H3kwVg7BT5cAvmgNa18SLgknf8Kiy91y3IeAyqIS4RcPVUM9Ul3U9DSvsDJWY2Oo8+vXLlIqj7iWCq7weQG4nQC96CdTwfuexbTUIePklEL68v1XvrZFhZozr8nwhU200pUthlcE-AW-lqTDauNfAsxOpZzZCnSJV-Wc38xmNPfoBJrP+TqysKkTk5O-sPi1Lft-g-qABtG3myOzgxkasWLatfpSKPhzp6PZkga6EPDsOgVOigigaKDvpHFKHrl5AgZzifqqHgUsFgYogQR-hFN7MGAQT2jfGQBrFyLoEoITqKjjCzmAbeIGMvu3FxofBAgIQbgTH2CIcHhwdQLIK7B8pJJpEPl5hsBBKWj4OIX8Prt0FSgsEsGzBzDwcoJqgqIRhdpXnAR3uCiocpB2NTmsoQc4FoQ4XqE4Zzm3AFDoS9GgpVioWsOoQXJaL4Tgb4c2gEUiEEfDBoUIcGGEbAWIPyoVqYeYRRv4bMB6IvhyEYVboIagVqDoAsO4ZkDTE3g5kUSUdkfpv-HPqZu1rYT4vYbbp4ajgPrkaYbUaApUboCUa0WYAADy9HFHzAO4-bdF1F7LUBmYAAqGQXiOQ2ISq7gMM4MCCccLQYCcIoAAA1ERoLuDFEDEDoL8u7P4WYPsfZjsfsbPmEIYNELoGceMajpMT0dMXMQsfgDIGcisQqAwDSiMpQFsfCHsQcYLg8Scc8QMWCdcWCXcaEJCU8fgCZDUWwaqLAvAogrbormgpLqEHIcoOMBkEpJIdUAFP9ulJkaADUdFlBi5E3ErAMQiVQiOsSbXHoCyULvIVwToGkcAfwY4m8fEuDGgvSo8ITBcVyayZaDUdKWApScrAMbMIGGiSlmhlAgBo-OKc3s8MYZzEAXwfyJBinn6jMaUXIIGsQOkPUIZkiHGoUENkJtEjhioYRmIfYbntEuuIqREa0cioEX7g1hESmmEWjmEApvGnERjlIuyaSQHtdmDDbmgriR2FkeoPiZKjdrGbAvGY9lAhSX5haW0Zpt6dvoyfSFKYqtQjmSSZyYLm9JwScfyUaVMMurPgqWKRUZKY4cKauuDPYJILKWTjSeoH2SkAqUWTuBcSqSwRMeGfxuCSkFqVIjqU8EYY+iYYaVqiaULmaUcHifCMcjaYKnaX8NGmqNZn5Aub+oJnSWEK6UiO6WRr4QvAHmWbeL6SoWrlEX8PKocZKt+aGYETeRqYptGdsI-HGW+XJu8PnnpAfEfMXpwOfLwBgNYTZECiClQGClPleJChPAyfeCQdqiQIWFhQilQWyBRThUsMCkHI0qHARQ3IjMwQOOSmGFSjRZQLhQXgyrlMAqPqaPZjYKaDEv+eEr9NaCJdYNaOJUGaPloTJfUYcPJYJb9OxMpexGpcsr9ArKUPZvpXIJQhJWEKPglHQEHKoNiPZhZVZcsQVKZaEKPh8TJR8dEk5TYKPgpAsAHB4HQIDD5fMH5QwNUJ5dYKPrscpTYHoFRLMNiGYHcAAHygC3L7EOXhVw5TBwh3LRXWCxXxWJUpW3KPIZUKW-R2azApAFWgAJX0rFWgDma1XWCZWj7AB5X-JxW1VFWpWgBgBlXqVShwgACkHVNVdVyVvVw1zVoArVv0Te0V41PVjejwCV5VQ1AAhA8ItV1RNQ1VtQymtYNdlYMWNbtctaAMMdYEdbpUNYMXcHlUtfVb1fdddXNUNUlWdYVc9bcilW9etdlUlQ9VVaEE9ZNb9Qyt1QDXoHCBtR1b1aEJNdYBtTYHXsAkyFxdENhTxYit1D+fSlAgpEpKaLMNxbxQhRjRDmTbjQeASB4AAFZNiMwE3VBE2crPWKVY2UVaRIzsUkB2hBlhDU14UVZMhYCY3wq0XboNjM38Uwij4fpur2aK02aZUAXOW-SQDECfqJQ2VVVa060cxq3q0RW-RBWSCwCQAyXm2W3G0m3eVaDBUACiyl5tTtdt6to+AAcqoF7R1T7V7eOV1pTSWHPlzVLfHq0SzYUGzX8pNaEdymHZLTjdLVOEzBLdjbhfHmstHSkLHc9dpFfoncLXNkzO3LCsLRCmRUqudC4cMkHJzDEJIC6owKMs2fTaoGoL5tEOzPWRKsLfRVkAqExfzYLdUDnLXW0GEMbqqLIA4IgtuU5HXSkZPovTjOJgVoKj3uHSnSnK0bMNKUnZnbQaHlrjORvbHIVtvcneTXjdQAzUzdTofSXafW6M4WPSkIYUoJuQabwTuWGFkHSl-ToBrB4AYn-RYX9iCAvRAzjGLfBd1IhUXifChdwJgBhT1DaimBQJIDzIYOhApIwNrPtnXQrJ4N4IOLzWUCQzskMuZHOaIlkHaLCZIDcUcY8acSiZQ2xdQ1wgBHaFAmAtpDQ--pgywApFzAEtJI1Bw6WTCqQKQO4IrPfAYF8goz1QwPsXoKoAo2uXCDsQAvo+wvCIWGCTo6QB7WEvow7LIzgfxOQBzL4Bw18mii43yfY0bRYO5lIZSEiToLCTDWCQfhI7IFI4umzRPR49iG4xBrCSYHCKI2HfYCYUEiwNo1XKQ64M3Ok6sFAoY8LHCIIy4jCDnGYOcGwoBjpoGKU2YEEIXNUxk2YAdfCNvN0QAtw60KU3o9vKEgAkgdg26Hg17oQ9rKU6EmAoBn0vHKHF0+UzEj8CSFMjYvzjU8KYY4E-sVE8sN4Gk5aB2qs-CTEjsWwziRghAks-xCs404c9Esc2CVs6kx08rPs401CrseKiiIU2EiWpsI43CJpW46Tb85zKk7Q4ULIm4WM0MlEzDUpbMLlHsxk7OQODU0C8kyCzs90QkscbEFC-2XCAAORsM5ywlEtFN+PPGlOJNbM8yMAmS0t1UFFEEVntaOReA+CWgMuWONq-Q5B1DXEzHXHlyKiFiyjeAiteSKx3RgspAAIwuctLh0uJ2BhctosOMYuMAsBYtJPqtPOqtzDBj6s0uKsJVJHOAd1d2kA91v2c71SaypS1qZMBxAkJxpiLxtNZUw1TOutCSzAXNGJhTusf1hBs0WschWuUDszNp2u3ScgxOOsythCyKYLut5OetwjbxAwplnMkjuvauLxmugAMs6jXJUQxsOvuvQpha9Iuuhx5vRY4asq26EZQKnNEjnOAHLNpx5spaY32uchjAbKEZs3Fs4ilvltxtKq5o0SET0mUh71dmPBwhKVptuGWi0T9uyBQjfI808Pb2buDtooCPGZhp43NsVH-OTBfP9kbuxtbs5pFMLsdh6Nhvd2Rs2sYGrsNFPt6jBuhChud3hvWvRu3upTxt5vatuE-uZBAsHvbtHuXZepRrVvqQSEztvoj6-SZuikdgEjtu5voeIcYbRYiY0SXYz1sgRr-CVtMtZhuGpt0MyEztFMfG1pWnBqhp85pRzDYiRpUV1g2rSY0c+PMv0fMdDLCHifgupL7lsdHknLnLOBccTiCeUyvLVRiuMBe7kAVxeABx1ANCtDCcQX0y8fUczt6OaeKiJPXDbsDtafoSRLGchF9h0GMwJthh4C1zeDARDDISk2lZqinmjDkC7yF5sCkDzCKRBLQH-KyDTRrTl7l64Ll2ciax6DPTRPAjRiMB1ByPo7Ms6Z2A5d5drOQ6Cquo2bjOpJ7TqAZcyBZeWiWjFczGleJspLNdNitf5pOqXl0DpeZfItlAte5cQaFveJ+dZB6DLxfak5lSTdRpy1DXmYLd2bhmJoZBYn1ecw8CzCZeSCTT3mxaEAeALeEaygDcNeSC7cGsDgo4vDISzuFAAY0qncARrkq0tC7nvoVefrfryZIf3nYYQ4jd1DndpekDbcHdDcGAncLdPeUIAag8fe-durfdzvbCffupLJOlA8caTzBig+gURnyaDZAixT0DitQ83f7f8DpmegmnHdvfITg-9eQ-7c3eBj3fw-E8vdw-vcVFY-o8Dluhc9zcPdZB-sFRuG5Qc+k0NG0-09Lh1aH2hBi8hzzf8MI8RmA-sYpBUrI8MoXfs9Xd0+3f0j8+PfE+pB4qG+PBC-RaeaFBz0vCwSW+S9YBO+HFuFuGK+jkM9S+qo7ju8yADZe+gC4968FQu+Big9K+h-qkk-VCRlgVZlgx2VaCRftYmnyR6OYkILXsxIwKbcILiZgJsAXsxCyBaeF87biCU9ad3FgKscsDseKegDedMIXkLcOmp8FfOAZ-kCRecUQ6d++cC+LGd4LfTcdBUoheEZj-acAQw35+7DVhcWBcMqL-oTT9whV-ivVjtzeIeAxAJSxD7bx911uEX-+-K+JMn+CrNn7ZY6n8nF12WgP9n+rD3+v-cFGqf9v9GC2wQMAAN0A4FQBfJJuq+Rv5hEgBzgY3uMUYaqFEizMG+Hjivo38yCsA2jipR8DH9f++gTAZzkTooDEyq+EsHGFfDMoN4TAJEOTmtIT4oQR4IcnyyyCMBl4AUaMLsDGQWco+KHeePWyj7A9Q6EA17AQMkBQDPSNEP1oEUT4mdQAogwXqjyq7VlyuJ5JgcmBYGCo2BcnMIh2RmjcCX+j-P-vbggHa9FyxHFDmJyXjC91wbhLgSZEtB5tZgDg5WBB0T6R9hM0GMjqT3AoFxXB7rQtg8WyAsBnWkaSfA0CTDYhF0dAG7pEOspjA6Ah3HAUZQMCdQ028Q6IVCCSHTcima7PsLEO5b5UNGUQEIWENSKZCYhpQ34K73pCdRA+JtMIJUOyGTQcCMQIJFkE7ooQohMQuIfIASEtCnWOmQoRkP6FZDpA-AXISe3yGbhChDQ6bs9XaHeBOhuFZoXoGaETDpuDQyhAsMmrBCahO4TqLTgpLVDQh+AJMEYEUgBpwYddc4VoAFSRA7AvwJxmUNjrV0xuqA1UHcIcZahHhIQl4b8CGHZN9hWrNNkZmk5LDW62QVYWMMXRLJCYpwyxrsJSrfCHhIIgEaEIshPCtWxwm7OgMny-JpakwHGDfwoiR5sBUuEQQQLEHGDIB84aAXw3860C-yNGdcIoPt7KCWgabFeq0FJFaAZB0RPIfcO8DzgfKWfCAYxjMGzAyRAolkRRzED7AfhQUMUWMUVHSj+RzI0PnAM1F6N8A5oFoDsTTZwg9RdIA0Sx1q5lA1RoAMkWYDTa+FYiEIzhD4EVG2ihkPIiQYoHrDEjFEVomUZqO1aAoGiLos4BcEDFlobRX7JUaKMz5jFAwLo7YdUEDA2iExhQRUUEmjFD8xi67LQEUJNqWhkxqvCVGGSKbGj9R-LIIScUAZth0RdebUW4S6rIjDMzcdEhOEWBawA484KzmmC7G0BZgxbK0cWwpHCDDAixTMW1BpQOpCMaYkUZIBVF6B+xGonscQAPqNDeUg42QSJ2cAqjxxtKXUWWNr6hAcspQclpWPsDVjThjRMcfalMCFtCAihU-n1B7w5jtRr8HFvoGzGmAWxYgELn8OeGZcaeDXZIZSJHGw4Qu23ACdiD-ybjwYKPBoH9zB5HjjKCpQtg+LLb7dCQT4rsMBLpSZdCMH48MuOnniZczAhjbeMY0y4AN7AoAWYgAAknakgAAILgBwATtAAEqzFIAAAeS9rIAGUVhUQvYEi5yJq+mIWSNOKcCyitROAu8XRQq5URMJ6Yj1j+NQmDt7OokhSSKO1Y-j1AZUJcXQESbaTSgwk8VhVgWE4DaJ9EpiSxPYlcSeJBkwcipLs4iTTJ4krlNqJ-HojUJkgdCeNFcmJ0ZQak-oHchBHqcwYn6JySZLayuTJJddEET4guFs0FUZI9wPVTuKRcmwj0DscZIc5hRkprfeolGJimB9viY4vSRpIkn+irIgDWwFK2tQkAYuDKAAAwdB24X6M5LZFqnetgIlAVoPXlqnRh6p3gQjJOjPADT+QQ0-YjwFZEQQRpJ9QaYwESbeI2pIibhFNxv6zSwh-SL3D1Kv4NEM29mNwhtK6nbS6gMPGhl+OHhagkQK0gCFIBiDGopWM3EHp1NrYnTLCPxDqWeGOnoQepM-cnuGjsBLAzk6gbWM5wx6HhkwjrJcikiWkfTn+NAo6a9J+l1A+yELBogxzCRysGipQoGSDKebOCWSOMyQMDLkDaxJONg1Gakh8F+D++cwQGcTLxmzSLp1omQOELy4EhcgNAmAYEWhQBQiZJM0GSaX4GQzQ+wvLUhaMQGrTVCosvHuDLpmt4ceuvWfM9hpFf8JB9Iz0jFLkH49bwHgWCZVy5GC4AEeowTFyTAT8y8ZEo--uYMdKe9PBH5RuPR1dESoAEFs0mfjKhR1M3ZZM4MKLP0EmzZAHgsnvIO9mOtC27owkUSnojIRJZAEenjFOhTPZqRDKCUZIIgTczoiNGADKIOaYO8o+64EgGcVnExijBas--gQMTqFjQgHoLWdDNx7CyfAHoNjABTwDmY25UCJObSNVnNk05JIGuf6MT5sjqRuczkXUGmyFyUSxczMbHP85VyFB4g8ubSPlTuYV51gPQdEmb74jeRjIyXv7y1mDZAeAGBoGzKkBhR+5Gcv8kEVbntzqg64UsaaPLEHziO+c7wfjhnm7z+5KAxTGQNVATzOYc43YDd12Bm8hxBce0RexNFZB+WRoyBWaJPbZI6ugC0mpNDtEqEimEQeeIAudmysqZ+OD0XsAUJcgY5SCufCAsCLoKnRPeQ7tyK3n4Ko5RCqbsAtJo3dYBfVMAG3PMwUK9gQYzqCGJ2A+8UFQyP+VPKz5xj6hh9OMZNBTGhBhFc49duItXHVB12UiueeSRAoljYFj8n+WyDqRStfAjOY0i+OILnR9F+SSPHCFmn8dMGHBO8WmCZnajtITMnAhtMiT2KUhWTJWIGFj6PT2uBmUfOoGBnYhq8S4FEEU3oYDgnFzM2FJRFmkPTd5C4wqUWxNbNFoiiciHImGyDzhZpw0q6X8BunIQ7puQJmTRipTCLrxLbGJLIpLkJL0x0i-XrQETC2KwoGSgHEzLqVhB1xmc6CWUoEi7iIF+4sEblngUVolgDLOJRbHZQmQWlWSx6dsN5JVjFsF4npROM-GUS6UFkyQKxMOQAAZJ2rxKbGlAWpPhQScFVmliThRFU0BbTJknqyGg8kvyWm2UlySxgZy8qVyiKaGSyorynAp8s+kto66GyrZbsvAD2S3Qjkv5ecqjGxTTh5Qregqg8kXivJPkt5bmMoQWKpWwU04SiED4IrsRMNbDuiqyCYrsRKIKJSMk5ivLop-o7UXFO+GJTeU2SyancWiV-Lxl8vRJWEWKknKIVbymKczK5CPozwYympSKMkm-itWNKmFXSquEFk3STK6JHFM3pQg1hs+cKdlPUkirLlgZWfI2NhSvLNVy4yqYLT9KIjw5Iy3Bia3nEmsxVIIp6aHR2jCBCMYEqjlau8BrV4QJGC1W6t76CwHVJAfWfBLTYCqGKXqulq6rpY2rERRTP1bkDc6yR9WJq7Efyp052B1VP0+cKhO0aBTaAoWOjIUruXL8lxbGDuRDlwkMokVV3DCUWsT5UpFGfqBXEuPFW51VUuK-4YN3hBLjiVIQn1aEF2ClZtuorbNcQC7W-AZ80SSFkOtmCNi61dgbUI2ttXhl7Z8aFfLPRTVLANpTdTNW4uwkFT0xhGYsI0rTjFKgQKHVCcvz8mM9S1DXQjBWs5gYS-JNa9JY4FnVugNpII5tYqlbV-iGuhYWaSOpYA9qbAfaqYO2sJUyB-1Y6sJIdKlZTqeqM6hXG+sRGLqlZ38jBmqAM5-KCQx6IdVmuck5qjFrKotdDMPHoaoQsSotUU1s5pqwo1az4U6Aw1LjcNkUtyT6kMAzElgjazdXJKY05SuUJS0fnIAim8bYcGyqyWxI4ncSQVQIUTcxPE22T9lE6vDYasbGZAhNokgiRBDhBwIEmdGsQFRtiXbrESa6zDVxruXjLwyVKVTRCsIyAqdleymjLZuBVTiGis02Dc9Ss1nKNNt4LTSbBQlSB9S26emkijzRAilYIWxJlxmLBBaRAnad-kx17iJMR4UWjENO17jajyZ3hWeN-XSwWVotB4WLQRp0zhbdNzgLjLloxAFacBTgtNM4rbTngJAeW9ziFvS2+yatiTL9DoAchQgxlzWqrfFrbjtwot1Ae6clpEDU5E1IQp1gFtG35aZt-MVBddJBFFMht90pLbQEa2yQ5tXaBEp6rGWRb1tFWrbcvMaETbARVkYDV60FTXFdtJrTAutuG18a0NuWh7esIa0pbI1SagjQFvK3d4ftFAHrv2XBETl6+HQ6Ed0IGF90+U5qvbWRj+1TA4dXaTUeKuO1hBGxz21bXVoR2va6AG2lHcGW-ILq0QF2rTYwGu3Q7bt0ohrQ9rFoBQOt98DZB9sm2SrsR8UrQPSpiTgKkqnvAqKkJu1urdMMgTrdI1DUmQd2qixEqeJ06LK8VYZXBOHzqLzKzx0u-4XoNXnnZm4iyeXUjttVE7+1CIagBKzhB866W9mOndJBp14imwpWczkvG1GY4aBwDUBuAzMICljShbV9hGyjYa5XG2uxEauB9JSqEpMqsJJztCR9QrdzKKvlOCoFc5DiiLXOCQJULtKHcfrIqqr1Y7KAVxii+Thx1cJaBRyjAC8jcU96rzCoHu4DiglJVldFdUu8VQGUFHfMDllpUJKdq1a67sq5e99s2jJ0zoRd9mTvV7uIEtSqUCkMtnZSiGEYAAnB0ACjj7rKde-Lqe2mhz7n0MKxKBQ0MCzAWNmpPNSy0MDFrk+h8vFM4AqKNTheK+vQASwJaFg0At+wDWhhQ1hIL9CIm2SkBX3iqJBQSDEbUN8CJ1nAjyJ-L4KjI2B39cU9fUcFmCj76tllKIVErkCBLgl-wDUOxsZ2AjtRre9vV63gPWVEDPejQA5D71fJsDQSidHfzQ2gdOQIugFMQGA1ZFvA6QLkJ4yewQ4dohGUdlciGBlsKD5yjGEgZoOBcribQUlVnLxRgpGADB3WqAGaZ-RTR-IFEPeQv05UHkYdTdkkrdX19gN1gB5LlVRDEaQDEgeytvXRZUGdooYCPrrxT64p-kjanTq7A40GdF0phk0vptqkzFqNuQKjY2siROHE+AGMQxIY5hSGl2XILIHIfP0GGohMNbQ8oaXGkaWg0aaI0qHMPPzLDS6t-REespRHojjyBltSlpQMBsjDye-daIyOr68VSyOKezt5Sh7BcxrfnYWKj2UD74O0SSVOsz0EAeqT8VFcbvpZAxJd54vFcLDtCLr5RpWsjDkDoBnIKGMQYDXapHGsGGU7B8dtwafG8HqDmhwQ8IZ3W+FYcPR+cX0d0ALK69QxrzY3B0w7GPW+u0cZFxOLWitAqgQpu5h+bGGxljR-kDHv2OFwLjbR1Pc9S6N+bblfUc9c+PcWPCTiTzF0bUwCBrZIZ+E87cwDvZUGCWVnPQIooAA6WAcjZfUny2H8AMxNJsLHiqFUoUEqa-c+HoMKE7oHQbg0iZRPonMTeipVcsArh4nNWT4stIQCyKJ0subhTk6AAABedWawBibCBMncT+JlPbVVmCCmSTqqMk3CH8OUnqwTvD4OMfoBTGfAyJ7E1CHFNsndq8LXltcQ8DXFSA1xfloyAJZMg8ANJsZVqbZnMmfEEp-U+mweOGwTTZp0lfKaVBAA')">function is_indexable(pat) {
    return is_string(head(pat)) || is_var(head(pat));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p43' class='permalink'></a><p>
      The key under which a pattern is stored in the table is either
      
	<span style="color:green"><kbd>?</kbd></span>
	<span style="color:blue"><kbd>"?"</kbd></span>
      
      (if it starts with a variable) or the
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      with which it starts.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (index-key-of pat)
  (let ((key (car pat)))
    (if (var? key) '? key)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPMVq1IR56H1uwC7rp05TCi+FgA-MJuBgAhDD4MwbBQHAiDIOgfA8Cy00qIuDmwlqyh9xBESyAoSgepo2j6Ay+VhJv1hbh-1CAALiFkicowCbAAI1tQR6hBdggXxJ-L0KkypqQ0uUWYj8TBQOsGAuKMYpznlQp+MKv8CqgAAbfMqk44wkObGQ9KnkcF4NAAQueyZXzIQYbOK8FCCrUI9AuY8PCgL8JYcQJ+bCOEB3oi6fkkDKFCOSs6TUiinysMobI+KiV+jJUXiFBiBo2EqNocVPRtADH9VSsY4w2CpG4O0TsAyqc7GmFMaAc2kgEJ6FcRJJE0kMZYLYZQlIri3YhLCdEmwWiCqyIhnzJxgjQA0K5jzA6BhuY3RekMaGlMsGpMcTInYdslEpLSWUzRxTnERG8nkimF1knVDMW1P0WMZaSOkbUqQgdg6hwES0tUsc5AmRoV-f4KdDG2PIQaBxT9pihMKK1NSKDZI5zzqYeZjISneGYEcaOABVYgj1y4AHcsTYn5KoKioAAC0dzUmfwcjvAKfSTLCFmBsgWlB8CgD0BEWilAWB6OUEsXxwhGS0wLu8+qwLQXgr0noT5aoq5MxsJ0VJchZDiD+QCqMrBdjUHqD4pFkLl7WEnMCOgityCgDuE8u+0lkV6VdtQYyLLiAmEWTE6JfVpLEChI-Q4tAnJLN5TYFOASpIyU5dy8VErUW5x5Yq6JUypEivUVMclTIUjyykHZFBeg6K0uacoumGElyDVoAKqYJq5AeJiWA+ojRmh1A6BirFOKfSxMYPszlhZjmnOoBcgg1UOa7BkPcx57zqwYqIgFFZig1kLxonQbZ0LBbl1HrJRen08EAOFngsB+xDgL2ecy9GXcq6pt7tslVvKk2WoEsagSboNm1s+ts1WYM0m6NKm42Z9iilP2hfq5YjAlzlqZf8Xq-V6otEKTgs1hQzETL0HO2i1r6BLpqc48Z99N0DXmrup+M9e3CMSR9DNPrfn-NZiwdmnMr1EwpQXF1TRiAtA9Z6+QOK734vGByMmDTOnGE+m+vVEED2Vs7iBhyYH+bTBwT+6wmK-1Rp9aEKlVaQPGGbfS0ASyYOTLgx0nGRNkOONQ0UPFdTMzNuRWR24zaoVYcKOuXDkR8MoJo6EdD2LMNLPXGkq9CrwJS1AzDXGVGz1QO6PxhN1Um0kDUYujS9cgTjuFnoDTK7oGgCLdUEtBwfBwgAFSqfkV+uo5nAagBU4iazi7Ax6dDAASFCEpsGdAQ7zmJdORhc5NnLwA6-bJvMQyZpsFS4GhHEnkYKQyPjBcH1PvSTk3GSzC3NyWWAwOWobh+YJIQQLfD+iyS49LCj1NGQNtVeDYrAXeFoRjHobxYmGuqpHtVpLtXRxAgE96qB466GNiCxI+I2WHMwjG2V1r84cQdhDHlnYSF3ykIGSY3lMCYTrZQhN9CS3QIjgVWA4WNHuh+2qpUjWVtqmjp9VSt2hGXaROS0CKld31AMAZb5nIJX5tMNkm7XVMWiGgCs3KGzv2ZuYzUlDjUi7vvYrB-jSkJG9Bu3q3yqiAqhUauYFqvxmsfuzERzyFo6aR0l3bmk+pCGavDpwWOiC3jDWLn+OJzHdlpkVSiV10Iy7z032EWoxDN7PsQ5QYRzH4vXSMYZNsmjaikFlSNfL7Ux3MiFJQcrrTEFePedF8lfbLWmEP0cdC1X2v1ec70Gb8RR20EC5SJjx3m3MSK7mTTnHsTqNdHhgFPtRD6FO6HZdGn1vrNq8Y3N83wFbeu7CJj+P4f5xGqV77qBKGiJ4H3kwVg7BT5cAvmgNa18SLgknf8Kiy91y3IeAyqIS4RcPVUM9Ul3U9DSvsDJWY2Oo8+vXLlIqj7iWCq7weQG4nQC96CdTwfuexbTUIePklEL68v1XvrZFhZozr8nwhU200pUthlcE-AW-lqTDauNfAsxOpZzZCnSJV-Wc38xmNPfoBJrP+TqysKkTk5O-sPi1Lft-g-qABtG3myOzgxkasWLatfpSKPhzp6PZkga6EPDsOgVOigigaKDvpHFKHrl5AgZzifqqHgUsFgYogQR-hFN7MGAQT2jfGQBrFyLoEoITqKjjCzmAbeIGMvu3FxofBAgIQbgTH2CIcHhwdQLIK7B8pJJpEPl5hsBBKWj4OIX8Prt0FSgsEsGzBzDwcoJqgqIRhdpXnAR3uCiocpB2NTmsoQc4FoQ4XqE4Zzm3AFDoS9GgpVioWsOoQXJaL4Tgb4c2gEUiEEfDBoUIcGGEbAWIPyoVqYeYRRv4bMB6IvhyEYVboIagVqDoAsO4ZkDTE3g5kUSUdkfpv-HPqZu1rYT4vYbbp4ajgPrkaYbUaApUboCUa0WYAADy9HFHzAO4-bdF1F7LUBmYAAqGQXiOQ2ISq7gMM4MCCccLQYCcIoAAA1ERoLuDFEDEDoL8u7P4WYPsfZjsfsbPmEIYNELoGceMajpMT0dMXMQsfgDIGcisQqAwDSiMpQFsfCHsQcYLg8Scc8QMWCdcWCXcaEJCU8fgCZDUWwaqLAvAogrbormgpLqEHIcoOMBkEpJIdUAFP9ulJkaADUdFlBi5E3ErAMQiVQiOsSbXHoCyULvIVwToGkcAfwY4m8fEuDGgvSo8ITBcVyayZaDUdKWApScrAMbMIGGiSlmhlAgBo-OKc3s8MYZzEAXwfyJBinn6jMaUXIIGsQOkPUIZkiHGoUENkJtEjhioYRmIfYbntEuuIqREa0cioEX7g1hESmmEWjmEApvGnERjlIuyaSQHtdmDDbmgriR2FkeoPiZKjdrGbAvGY9lAhSX5haW0Zpt6dvoyfSFKYqtQjmSSZyYLm9JwScfyUaVMMurPgqWKRUZKY4cKauuDPYJILKWTjSeoH2SkAqUWTuBcSqSwRMeGfxuCSkFqVIjqU8EYY+iYYaVqiaULmaUcHifCMcjaYKnaX8NGmqNZn5Aub+oJnSWEK6UiO6WRr4QvAHmWbeL6SoWrlEX8PKocZKt+aGYETeRqYptGdsI-HGW+XJu8PnnpAfEfMXpwOfLwBgNYTZECiClQGClPleJChPAyfeCQdqiQIWFhQilQWyBRThUsMCkHI0qHARQ3IjMwQOOSmGFSjRZQLhQXgyrlMAqPqaPZjYKaDEv+eEr9NaCJdYNaOJUGaPloTJfUYcPJYJb9OxMpexGpcsr9ArKUPZvpXIJQhJWEKPglHQEHKoNiPZhZVZcsQVKZaEKPh8TJR8dEk5TYKPgpAsAHB4HQIDD5fMH5QwNUJ5dYKPrscpTYHoFRLMNiGYHcAAHygC3L7EOXhVw5TBwh3LRXWCxXxWJUpW3KPIZUKW-R2azApAFWgAJX0rFWgDma1XWCZWj7AB5X-JxW1VFWpWgBgBlXqVShwgACkHVNVdVyVvVw1zVoArVv0Te0V41PVjejwCV5VQ1AAhA8ItV1RNQ1VtQymtYNdlYMWNbtctaAMMdYEdbpUNYMXcHlUtfVb1fdddXNUNUlWdYVc9bcilW9etdlUlQ9VVaEE9ZNb9Qyt1QDXoHCBtR1b1aEJNdYBtTYHXsAkyFxdENhTxYit1D+fSlAgpEpKaLMNxbxQhRjRDmTbjQeASB4AAFZNiMwE3VBE2crPWKVY2UVaRIzsUkB2hBlhDU14UVZMhYCY3wq0XboNjM38Uwij4fpur2aK02aZUAXOW-SQDECfqJQ2VVVa060cxq3q0RW-RBWSCwCQAyXm2W3G0m3eVaDBUACiyl5tTtdt6to+AAcqoF7R1T7V7eOV1pTSWHPlzVLfHq0SzYUGzX8pNaEdymHZLTjdLVOEzBLdjbhfHmstHSkLHc9dpFfoncLXNkzO3LCsLRCmRUqudC4cMkHJzDEJIC6owKMs2fTaoGoL5tEOzPWRKsLfRVkAqExfzYLdUDnLXW0GEMbqqLIA4IgtuU5HXSkZPovTjOJgVoKj3uHSnSnK0bMNKUnZnbQaHlrjORvbHIVtvcneTXjdQAzUzdTofSXafW6M4WPSkIYUoJuQabwTuWGFkHSl-ToBrB4AYn-RYX9iCAvRAzjGLfBd1IhUXifChdwJgBhT1DaimBQJIDzIYOhApIwNrPtnXQrJ4N4IOLzWUCQzskMuZHOaIlkHaLCZIDcUcY8acSiZQ2xdQ1wgBHaFAmAtpDQ--pgywApFzAEtJI1Bw6WTCqQKQO4IrPfAYF8goz1QwPsXoKoAo2uXCDsQAvo+wvCIWGCTo6QB7WEvow7LIzgfxOQBzL4Bw18mii43yfY0bRYO5lIZSEiToLCTDWCQfhI7IFI4umzRPR49iG4xBrCSYHCKI2HfYCYUEiwNo1XKQ64M3Ok6sFAoY8LHCIIy4jCDnGYOcGwoBjpoGKU2YEEIXNUxk2YAdfCNvN0QAtw60KU3o9vKEgAkgdg26Hg17oQ9rKU6EmAoBn0vHKHF0+UzEj8CSFMjYvzjU8KYY4E-sVE8sN4Gk5aB2qs-CTEjsWwziRghAks-xCs404c9Esc2CVs6kx08rPs401CrseKiiIU2EiWpsI43CJpW46Tb85zKk7Q4ULIm4WM0MlEzDUpbMLlHsxk7OQODU0C8kyCzs90QkscbEFC-2XCAAORsM5ywlEtFN+PPGlOJNbM8yMAmS0t1UFFEEVntaOReA+CWgMuWONq-Q5B1DXEzHXHlyKiFiyjeAiteSKx3RgspAAIwuctLh0uJ2BhctosOMYuMAsBYtJPqtPOqtzDBj6s0uKsJVJHOAd1d2kA91v2c71SaypS1qZMBxAkJxpiLxtNZUw1TOutCSzAXNGJhTusf1hBs0WschWuUDszNp2u3ScgxOOsythCyKYLut5OetwjbxAwplnMkjuvauLxmugAMs6jXJUQxsOvuvQpha9Iuuhx5vRY4asq26EZQKnNEjnOAHLNpx5spaY32uchjAbKEZs3Fs4ilvltxtKq5o0SET0mUh71dmPBwhKVptuGWi0T9uyBQjfI808Pb2buDtooCPGZhp43NsVH-OTBfP9kbuxtbs5pFMLsdh6Nhvd2Rs2sYGrsNFPt6jBuhChud3hvWvRu3upTxt5vatuE-uZBAsHvbtHuXZepRrVvqQSEztvoj6-SZuikdgEjtu5voeIcYbRYiY0SXYz1sgRr-CVtMtZhuGpt0MyEztFMfG1pWnBqhp85pRzDYiRpUV1g2rSY0c+PMv0fMdDLCHifgupL7lsdHknLnLOBccTiCeUyvLVRiuMBe7kAVxeABx1ANCtDCcQX0y8fUczt6OaeKiJPXDbsDtafoSRLGchF9h0GMwJthh4C1zeDARDDISk2lZqinmjDkC7yF5sCkDzCKRBLQH-KyDTRrTl7l64Ll2ciax6DPTRPAjRiMB1ByPo7Ms6Z2A5d5drOQ6Cquo2bjOpJ7TqAZcyBZeWiWjFczGleJspLNdNitf5pOqXl0DpeZfItlAte5cQaFveJ+dZB6DLxfak5lSTdRpy1DXmYLd2bhmJoZBYn1ecw8CzCZeSCTT3mxaEAeALeEaygDcNeSC7cGsDgo4vDISzuFAAY0qncARrkq0tC7nvoVefrfryZIf3nYYQ4jd1DndpekDbcHdDcGAncLdPeUIAag8fe-durfdzvbCffupLJOlA8caTzBig+gURnyaDZAixT0DitQ83f7f8DpmegmnHdvfITg-9eQ-7c3eBj3fw-E8vdw-vcVFY-o8Dluhc9zcPdZB-sFRuG5Qc+k0NG0-09Lh1aH2hBi8hzzf8MI8RmA-sYpBUrI8MoXfs9Xd0+3f0j8+PfE+pB4qG+PBC-RaeaFBz0vCwSW+S9YBO+HFuFuGK+jkM9S+qo7ju8yADZe+gC4968FQu+Big9K+h-qkk-VCRlgVZlgx2VaCRftYmnyR6OYkILXsxIwKbcILiZgJsAXsxCyBaeF87biCU9ad3FgKscsDseKegDedMIXkLcOmp8FfOAZ-kCRecUQ6d++cC+LGd4LfTcdBUoheEZj-acAQw35+7DVhcWBcMqL-oTT9whV-ivVjtzeIeAxAJSxD7bx911uEX-+-K+JMn+CrNn7ZY6n8nF12WgP9n+rD3+v-cFGqf9v9GC2wQMAAN0A4FQBfJJuq+Rv5hEgBzgY3uMUYaqFEizMG+Hjivo38yCsA2jipR8DH9f++gTAZzkTooDEyq+EsHGFfDMoN4TAJEOTmtIT4oQR4IcnyyyCMBl4AUaMLsDGQWco+KHeePWyj7A9Q6EA17AQMkBQDPSNEP1oEUT4mdQAogwXqjyq7VlyuJ5JgcmBYGCo2BcnMIh2RmjcCX+j-P-vbggHa9FyxHFDmJyXjC91wbhLgSZEtB5tZgDg5WBB0T6R9hM0GMjqT3AoFxXB7rQtg8WyAsBnWkaSfA0CTDYhF0dAG7pEOspjA6Ah3HAUZQMCdQ028Q6IVCCSHTcima7PsLEO5b5UNGUQEIWENSKZCYhpQ34K73pCdRA+JtMIJUOyGTQcCMQIJFkE7ooQohMQuIfIASEtCnWOmQoRkP6FZDpA-AXISe3yGbhChDQ6bs9XaHeBOhuFZoXoGaETDpuDQyhAsMmrBCahO4TqLTgpLVDQh+AJMEYEUgBpwYddc4VoAFSRA7AvwJxmUNjrV0xuqA1UHcIcZahHhIQl4b8CGHZN9hWrNNkZmk5LDW62QVYWMMXRLJCYpwyxrsJSrfCHhIIgEaEIshPCtWxwm7OgMny-JpakwHGDfwoiR5sBUuEQQQLEHGDIB84aAXw3860C-yNGdcIoPt7KCWgabFeq0FJFaAZB0RPIfcO8DzgfKWfCAYxjMGzAyRAolkRRzED7AfhQUMUWMUVHSj+RzI0PnAM1F6N8A5oFoDsTTZwg9RdIA0Sx1q5lA1RoAMkWYDTa+FYiEIzhD4EVG2ihkPIiQYoHrDEjFEVomUZqO1aAoGiLos4BcEDFlobRX7JUaKMz5jFAwLo7YdUEDA2iExhQRUUEmjFD8xi67LQEUJNqWhkxqvCVGGSKbGj9R-LIIScUAZth0RdebUW4S6rIjDMzcdEhOEWBawA484KzmmC7G0BZgxbK0cWwpHCDDAixTMW1BpQOpCMaYkUZIBVF6B+xGonscQAPqNDeUg42QSJ2cAqjxxtKXUWWNr6hAcspQclpWPsDVjThjRMcfalMCFtCAihU-n1B7w5jtRr8HFvoGzGmAWxYgELn8OeGZcaeDXZIZSJHGw4Qu23ACdiD-ybjwYKPBoH9zB5HjjKCpABvYFACzEAAEk7UkAABBcAOACdoAAlWYpAAADyXtZAAyisKiF7AkXORNX0xCyRpxTgWUVqJwF3i6KFXKiE+KjEesfxD4qiIO3s4MTuJ6Y7Vj+PUBlQlxdARJuJNKB0TxWFWBYTgIwlYTcJ+EoiaRPIkyTBy-EwSfRMUlMSuU2on8eiP4mSB9uhIESSKMToyghJ-QO5CCPU5gxP0dnfSW1kMksS66IInxBcLZoKoyR7geqncUi5NhHoHY+SQ5zCgBTW+9RKMZ5MD7fExxUkqycxP9FWRAGtgKVtahIAxcGUAABg6Dtwv0ZyWyFlO9bARKArQevFlOjA5TvAhGSdGeFqn8h6p+xHgKyIgiNST6dUxgIk28TFSRE3CKbjfy6lhD+kXuSqVfwaIZt7MbhUaeVIml1AYeNDL8cPC1BIhBpAEKQDEGNRSsZuIPMqbW0WmWEfipUs8AtPQiVSZ+5PcNHYCWBnJ1A2sZzhj0PDJhHWS5FJP1NOnP8aB80o6ZdLqB9kIWDRBjmEjlYNFSh90x6U82cEslIZkgB6XIG1iScbBQM1JD4L8H985gd0hGdDK6mrTrRMgcIXlwJC5AaBMAwItCgCjwzEZT0k0vwLemh9heWpC0YgKGmqEmZePF6djNbw49des+Z7DSK-4SD6RnpTyXIPx63gPAsEyrlyMFwAI9RgmLkmAhpnQyJR--cwY6U96eCPyjcejq6IlQAJVZSMmGVCjqbGzkZwYJmfoMVmyAPBZPeQRbMdaFt3RhIolPRGQhsyAI9PTydCmezUiGUEoyQRAgpnREaMAGUQc0wd5R91wJAM4rOJjFGDhZ--AgYnULGhAPQ4sj6bjwZk+APQbGACngHMzFyoE-s2kULObLBySQmc-0YnzZHUio5nIuoNNjjkokE5mYr2f53TkKDxBKc2kfKncyDzrAeg6JM33xG8jGRkvf3uLMGyA8AMDQYmVIDCg1zQ5f5IIkXJLnVB1wpY00eWNnnEcY53g-HJ3Knk1yUBimMgaqFbmcw5xuwG7rsDN5DiC49oi9iaKyD8sjRb8s0Se2yR1c75pNSaHaJUJFMIg88O+QbNlboz8cHovYAoS5Cez-5c+R+YERAVOie8h3bkePJgXuz4FU3B+aTRu6wC+qYAYueZlQV7AgxnUEMTsB96AKhk189uVnzjH1DD6cYyaCmNCAMK5x67FhauOqDrt2F3c8kiBRLFfy95l8tkHUila+BGcxpF8cQXOgyL8kkeOEF1P46YMOCd4tMPjO1HaR8ZOBUaZEh0UpCsmSsQMLHz2ntcDMo+dQA9OxDV4lwKIIpvQwHD6KCZsKSiF1N2lTyFxcUotia2aLRE-ZEORMNkHnBdSGp60v4JtOQjbTcg+MmjFSgYXXiW2MSLhYnN8XpiOF+vWgImC0VhRQlAOfGdkrCDriw50E5JQJF3Gvz9xYI3LD-IrRLAGW3ii2OyhMiFLwle07YbySrGLYLxlSicZ+JQl0oVJkgAiYcgAAyTtCiU2NKCFSfCNE4Kl1MYnCjUpT8rGexJFkNAuJhk3iTpM4ljBllKUrlEU1kllQjlOBM5WdJbR11Rl4yqZeAG0luhdJUII5bsu1HeTN6rQBVCZIvFmSLJ40XZSUsKhdSHJpwlEIH1+XYiYa2HVRVKzBXYiUQ7ikZJzDeWrLlx-oj5acJ8laA-JvKCJZNTuIeLrlLS+Xn4rCIJTFl1ylZeSpAoVjH0Z4ZpZkpFEsTfxWrLFdiJxWXClIBZN0oSuiSfLL6EQ2Ed8sVQuSIpwk5lWssDKz5GxsKI5VKoxVhlBafpRES7MaW4MTW84k1qypBH7TQ6O0YQIRjAlUdtV3gNavCBIyarzVvfQWIapIAyz4JabLkAyqaVaqGWuqxEUU3tW5A3OskfVqquxEEyIg-E5fsGJMWPCTiTzF0bUwCBrY3pH43ET5h052AJVl0+cPxO0Z2TaAoWOjHEu2XL8lxbGUuRDky6EZ-lV3SyUWsT5UpFGfqBXEuLZW51VUUK-4YN3hBLiEVIQ21aEF2ClZtuorbNcQC7W-AZ80SSFkOtmCNi61dgbUI2r1XhkdZ8aFfLPRTVLBRpTdTNcYuAl0pDJhGYsHkrTgJKgQKHUNQgvRXFrqgVKMtQygrWcxLJuymtSEscCzq3Qo0kEc2sVStq-xDXQsKCscnE8+1UwdtXCqyAjqWAY6sJHNKlZTqeqM6hXO+sRGLr+ZF8jBmqAM7XKCQx6IdVmrclGSI1XiotR9MPHobXl0iotUU1s5pqwo1az4U6Aw1LjcNCknNdCkMAzElgjazdZxKY2RSuUiS0fnIFcnMb6AhGUZWpMInESyJjyoEGJrwkSbNJMyidXhtg3PVMgQm3jeigLhwg4ECTOjWICo1eLt1iJNdZhq43bKWl4ZKlGpupWibMJYyyZdMpox3KHNimhol1JU2TVrNyy8MtvJ02Fs0sJhYsPTSRR5ogRSsULYky4xBaMQnad-kx17iJMR40WkQNO17jaiUZ3hWeN-XSwWVgt3eULfIpZYRa9NzgLjLlpi0FacBTgtNAYrbTngJAeWigKlvy6CwMtOBL9DoAchQhmllW6CdVoS3yiNF9NagDtOS1NbPVQawrfqW3SNarwY2-mEAo2kgiimQWkbfErq3zbZIm23MbEg1XNKottAWbRukO0Ygu0nvRoYGpCG04gNXrQVNcStUMtMCh2tbWLQCi5a1t6whradom1XaptP9erXQFm1phytKWj1uCInL18Oh0I7oQML7p8o9tWqsrV9pECfbAdp2kgd+T1WLJw+xQ56u9p2kjwQdTW1HbNrO046ixmOpDWiBu3abGA92hHTaulENaXt8y6qB1vvgbIftgIjlWUO+F4qYkL8pKuduqCpCHtWq9ndI2tV0scmZ2vhYiVPE6c+l0KsMrgnJ0GYelZ4pXf8L0FDzzszcbHSkEu2Ajqd-ahENQAlZwgxdjOwzDIE63SRXteIpsKVnM5LxtRmOGgcA1AbgMzCApY0oW1fYRso2GuVxpqLZV4wfS2KvnVcNCSC7QkfUJ3cyir5TgqBXOQ4oi1zgY66B0pB3H6yKqq9WOygFcXLrhBBp2+io0cowAvI3FPeQ8wqAHuA4oIkVZXDXYrrZUBlBR3zWZZaRj2U6g1Ju7KvXvfbNp6dM6KXXrVACD6g9xAwqVSgUhls7KUQwjAAE4Ogb2iQPZTb0ta19llKIWyokFBJfAswfDZqTzUstDAl6x0nPLxTOAKieU4Xgvusp6ACWBLQsGgDf09rbyw2aJA-scEFChlSyH-XvsSgUNvJFkROs4EeRP5fBUZGwIAe8nAGjgswOfQDvsruK5Adihxf8A1Dsaud7KnAUbpYD96vW6B6ypgZH0aAHIY++zLYtIMTo7+aG0DpyDH0ApiAQGrIt4HSBchPGT2CHDtEIyjsrkQwMtowZWUYwsDrBwLlcTaBIrw5eKMFIwE4O61QAzTP6KaP5Aoh7yP+mGg8keQiH-F5q+vkBusA6GlQxG2A+vqiHb10WzBnaKGAj668U+uKf5I2p06uwONBnRdLYZNIGaspMxajbkCo2NrIkXhxPgBnkOKGOYyhpdlyCyDqH79Fhx-TlR0Mxoh1pGloNGmSOmHI+jhpdSkC0NJHkj+hultSlpQMBkjJh4nnAYvFLJvJ-O3lLHsFzGtzVcOw4knsoH3wdoLEqdYXoIA9Un4O2q3dLs6PgwFd546FcLDtCLrBtHcDGO2noBnIKGMQIDfqpHF8GGUAh8diIafFiGWDRhqQzIZ3WajYcgx+lkDFGNa7nhExnzeWR0y+Eeu+LcuKOMi4nFrRWgVQIU3cw-NrDzSto-yBT3zjd2rQO44nRz29Hnq-R-zZxPMmVrAVz4ng6HRvWFwXRHUhkvPEy5mBDG28YxplzDAiHmDBLKznoD4UAAdLAIRqFVQhXD+AGYmk2FjxVCqUKCVC-ufAcGFCd0DoHieaUEmhJRJ1caSfJPEzlgFcak5qyfFlpCAWRROllzcISnQAAALzqzWBSTYQL5UKZ8Q0nQTWXBU4ydVTMm4Q4Rtk9WCd4fAyMOQOgAsZ8AEmKTapkU2k12rwteW1xDwNcVIDXF+WjIAlkyDwCcmtVVpwU1SY1P2n027xw2C6bdNIq9TSoIAA')">function index_key_of(pat) {
    const key = head(pat);
    return is_var(key) ? "?" : key;
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p44' class='permalink'></a><p>
      The index will be used to retrieve items that might match a pattern if
      the pattern starts with a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (use-index? pat)
  (constant-symbol? (car pat)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaWH8XqexNtsyy4io6xlurbU5qj6ipUUKc3Etz1GXJeoKMp2cXprIBt8CxeiARXySVDfZaQbl2LuVHP5-xEnAmeQ4pZywTZQqsYC2FFydy3WqcYEO7FjDrNrmzBR4jrFAubLoe+ZFClwvuUS6hNi6zgpeQih0FTUa0phROdFs5MWmhxTgPAfkGD4GYGwKAcBEDIHQHwAATB41mT9HDOBRoVbwbwKXCNsDtMoB4UTGAAD56psk-RGKrdWgANUauw5QKiiGGLqi1Zpu67TNfqw1jq7Dy0KtjN43zj4I0kJ4TwxVNZmN8eQAAFvcLYng35JTAX0Q6x41UADJk2gEjZINBarlI5tABGqNAbfUbPAZqgeurpYaujUGkS41Txt36tXUajKGhNDLWqit2cM1oI3vCtoPS5UiAuI83Zfh76VoDdWkNKhTzDpGA2oCo1Z3mzqEyu+fMlpdsUD2xQm7t2vxCo24+S77ntsiBu213bx59z3XKA9vTi19HZSSqRcox1dzsFW4NtbfEnifail4878WeL-ZIiczby1ns7RerdV6d3QZvX2u9QHWYgeUVpLlo711QczTBzeuHe1+CQ6NC4yKAWgcWWuyD8b-WBq-aG4ZJ5SMcvmIB0aTHn1gZXQRt+56cPbt3bB-d-a2NXH+cx9DbgYGYao7WdN8HYMIcI-25Dg67AWglPM6cEHQGyZo5O79DH1MYwWbQVjx8jOOQHgaIBPGxntmUFxp6pakiaAE3h-dTNRpGZ0tpkw2HL14cU4RZTxG7ADP9pbV9WHqMfonXR6dP7wvFzLGZh9czwZadPTp0ibnuMhb9SI4GnJjOZaizJ0ien4vEL2V7Dyv6yQgwSFyDLkNUsEppnSLGWayvZbrnI6s+V8Q8GE8fDrJNklZb8-Gx6ph8D4mlSNh9Y26bVek713JoxZv4gAMz5YfQq8WXNJtxt07F2jNb6M1ZPNAtrnjxmMLzlbN902zHXY5uGRen9YGLYJdAjhJd22BHK1YXLGjPPHyTv9kdsFnuyc3VbcHaX2GDMAZLWHpFFOlMPftiBAkoHvZfiQ9HJae4EaxwugrmsYSEM4Wj6Lp3NXOsx0hlTJbvG+amwzz9F2EsMe8bd1m932fHaWrWk8-PNA+uxwS4JPnjsnZy-J9zt6i0EqHR2LsPY8Ii-fbYbnU7VsNXAt2YEAuRB+RK5DDnvGAt5cRwSz6Ov42g6C0R4+K1PrUG+rZmLjPe6KC9+T1nBACGrW8IHn3cPoMR-t54wuYejQR+J3m2DMfD4CrakKkV7BxVcClWgbbA6S2IxitSWNS0Xw5tUiX0Qqu7vKhwsWxQlnnKGk0FUkZ62xf8UEsJUSxbF7LJb2YFy7fQlFHedLzxFwe9CRMv32u+Fy+6-17W-ADVZ9978mbqwFvh-WaX+q7OM3Bvr9AMN2PrMLc+fwMvl7y4ttn4W5f83bUXANMClZW-R-7+bdP5oXbOvQXBvAbMBGlWgDKO-WTMXSZSTT7dKMsH7afMLCOe5OOH-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-KwHkcgDqHwME6CNaex-kqxvWgwXecRn0sxmhjKk4-hiUBwIR7GFmqu5xifOYg2GhnQE8CximswUWA0FgB5ZiXB+IZ1TcBKLR0nE8dhi4WtNJ0AVNX0DWJk7dNJvQA1Dh5U0p0AXavA4IH8IeZCTdPJgok8OpmyUIJByR0YNBicTBlMNJimQWaEDXE3PCPJgphcbuMtC3TTK3Up5orR7x7YkJvXA8BJpptaRJmNSSeEhcDY+hjM1cNuOqWuS3RkKp3Z+0fZk4lZ+JuDMhvuT6eZvQTYlhH8LJs0A6AsGxk8FSxxwm75iieJ4h4UBNeSrZ9JmJ6xm0Ii+Sz7WtDZmNec2DUpgF2JoFtZhKF0MxiFhpk8AAcnoc3BocJfYaRJuJtDSeiZWbDEYBtFpeqpsNwr9z7iSHwfubQQZaMYXDF2GDGFhMcoamvHIFhKxAPBFYaiRjuB-BBcShCY5cUC5eRbwyVahbicxfYflc3VVe3VVZpY9DpbRJEDbo7tIC7tGBekoiTAhi+mScxBGa10ZG5Ehd5YddN00BmZayddpG5amPsxNZhDNcoBFlSita9FhEcfWnyDYeWBJGOedYabFzqcl0cyOaEJ9axcXvyFTKsAZeKCfGpDDZtedYpTDmGZWMdcOGdbNNAFdLfz7JXMuNTdbRaE9anCt2rZATRutdhGDRgk9hZrzYfALaLYjbCdtZAuINamLThXUdhfMg+Z6FCBUM3TpB7YcBEhghulBzXfDY3YTxjdBYtz7NzV+bkUXbleYD3b7bWnYePa4znYDc7uDYtbgIaZUPvfsX-PDv9fbsDfNdDd3YhkjYnczY-frazKA97c3bWnfLvLLecyUGrfpNF1e2TZPmbcQ4nbcX4RQ+zm5DcUnuPg6i6lte4JLRUITZIc3So9Becq+iPKvFvCsFmdZhI7It4drYgJ+LI6ZYo-Bdo8Sm3UE7zHo+5EY+ahY69ZEAQMAUA2DzFcYAnHIGoG0nuEzQmDQRLb47zU6iQ59bncU5FeiY08xF7aU5UR820-cajxw1k64Ww-TzAC9wPFhS2H+EJqwTIlPKDXIGgrgrYFIHDXbANFAG22QgcAJW2wLwL38AU9hCTEUBVFCdMAGEYE6TtaZNS5GIy-adAAVrGEGY5hkCS9EFCc3U3Wy-S53kGIqaq9y4XGQQS9IFK9Ce3Xq4Nhzb9YYXc7uHnopUiSTAxF6+6lUjF0nhG4XnfK82yDyBJOS9sB4E0AW4W3vI-j+NKBG89ixES4W6W5TzwxaT13+SXJ6HVg2624KIK5rerNkwK41LtgqmdPtA-nq+2+a9a9sGlWVYcUIE25O8ndXJ4je6u5Mnyi9TGBu4-Oznu-ujvMETNCWna8mBy8B6iFjPR+VjSGI3oHFc+-25W4cMoLW-Jou-+Xe7oF27K8W5+8UCO5G9O6B4i7+8u9zWu-vMRLMGO8O6G8qBG+-ftBUNrT28JvBcJ4rI9F5utvEtg3p4B7R-h5dPJpB8vKp4om+4O9+-+54Ye6CHVhB7Z7B4VkVvpP3h6FHO561-56wDN+DJUJUPF7jgF5BL3RZ-l--Ft8e9Vg5-N65+R7S7GCJ5qDR7AqjKx4pIfUsvkCC7oSh6WjYBaYxLm4vZkST4KGmViAT9PcKgcCU5T5MWsFx6U4uKeNqhYAk+Y9ABc6BQvJG5vM1LCNIij-ICC+YvJur7c-J9UnuxG-nv-A-l889g7+U-+QyrT-yAbRYq89UmH5UV75PBz-FYbRMJANKEKnJC8C4csXkIl98PI7kqOlIyD8l+ibX+BhYNIxSXX5VQXs3TP435jVP+v4v8kyv-P5jX3+3Xv5v6f-f-rrrFfJH8mAwRffjtxa5ADIi0TGIhvSAG4FIi+-Coqv2f7eBYBlBD1u4S64kYZgvHGzsy1XxmJxOtTeTjjwlpUBTohAnwm0mPJz4RIOiWwMFxMh3BGAsaUaAMHyDDgDOCPB+EMx+ATsfexgAJMgKCTID-+dET0rSHQHBFde62b-l4HUYFd6y+XagX3joEMCxgTAhjsAMDLLJYgbAm0LIP5JRwDBjPdHrhwQ6UcM2-AqdioT0EKtq2mgWwcJwzYK9cOXAmWPGgI4Vxw+62Wwc6y65XFbULAe1l1HnwTBpgRQb1PtzCFmVg0dAVbjp10rKBhsDTaIREJEhxD56mrcFvDmGzO9gaSjRGIEOCGxFUh3qQoYkEt5JDfW0vQIKUPSELZOOhUA0HcHboApwhkQzQHUPsDxDcBJOZ1HQGSEkMuhGQsDtkOgwDDfW-XMak0IPAtDaIdQxQMMOlTz08hC4KYYlQCEVC90w2FnE2nKFBD8A0wVQPZkYhiNG+u+I4cZGLCmBEgtjIoRHRICS43cD6Q4fICuGbCEmHwzLv0P2GQtSc2TEYLMNtTzDHAMQtBPdHhy-C8h6wggJcM6DXDAhdwrYYJl+G7C+kS9efIhHFpyIrIQA8UNDHgEHJyaBg4QX-wbqACWGO-SAb0NAAkjQeEwY3oVxIbQC0EeI+QJIO0Gxs5K1jA8HWE8ox8DB9yYwZ0PZFaDfCXXXUDyKLD8i+ikokUQSPcL783SLTfAFemKgbE8WqozeOqPYbFc+4co0APiL0ANM3SeKLkVgOPCSjjRzIjESJCxEyQcRyIA0fiI5G+Fsmdge3vID0CpowWR0I0e+zeG8jbAMo5UlaNWFmht0Ro8MUSElEGg+R0fPoquy9HRiDam6KMffQ8jAV2GJ4LUXcH5b+CVU39WxPsKioL0VC7VGEaTiNZ8NI0yYTEHWCM7nNzOLwTQHmwNF5tCR-icmjKIGx-FFInsWMUGJDFtjRRjY2gHvRqELgOxGAmkT2KyhztcxOokhv8K5F8kixDKEsXON5AKRgERHB9L5wRG3DkuBPMrj0KCDrdPYvnVrieKKDP4aR38Q3gyIh5+hScziOgJgLB6FsFujQZvF6IG7k1kunsJMbuPOF9AdErXPQFozqbOJkuayb+qADGIAAJO2rYAACC4AcAHbQABKYxSAAAHlXayAVSEYVQr4AzAQXMzrn1oSDjLAroheoQAcD-8Jg1IX8VKOICQsDx6-GkH22bF4JWJcYzNgeJkCVAxx9AaJkJN7iUTxWfEhekhJQnoTMJOE-CYRPElc8uJ1IHiVRL4k0T2J+-A8R8JQifjbA34ubDpJugnhRJr4D4cQIhzr8pJFnZJDpLon78PhdEI4SzScT4iFiNVC4kF0mA5B6x9kvCF5PL7ci4xdE8MWRJb4BVRJRoJyWKJZzwSpWcdEgKF1UgAAGYwqNCKg3hqwCkdTm6wnCUA0E5efKaSFSkHhPYyU8qYCIUrbEeAHyeNNVIGAVTGA0Te7DlJ+Db8t+-yTQNVONyVs6wxUsseC1aafYVC-UwqSomKm08iG1YpKG3C6n-I7AhUWKPlNjSvcypA02FMVMMIfE8p+ibaUVJKm2xRohQ+4DeBkAphrOywDVOBJLb3RFQIBTqZf0IGTSK2O0yHkgl9HHgROJDFQudNsCXTpAKYGjhmxTGBBAZwMlME4OjaytnQWbQjqBKhlXS1prDLrhMBCGdIVwCwQgRAMVHSwzppgC6ajL35uCEO90+OPaDXLugSuQA3wlD1unZwa80gsqK4OWQBJSRD-UQa+SpEziC42cUoPIKN4Q95SoQVUarHlKxAUZIMt-tzKMEmDHSNvRXt6QZyUdrRtkUIDLNBliFJI5TbWcqQZk6CCAJSWvF4ND5TsDZfgvcQwVtH11nAgkBkP8B6kecKyzkokQHTpG0iRB5IqovjKkFpB1YJImpuzzcFLQSAhxYMQmLlntkjByAm6BmKiDVA6Jv4RtvB0fh2BwJ1QKWMrTwCTx85jsYkUINUiCjfZZaZOQlIe5LRg5j48HorEelKDI5IYo-onOMCCi457-O6LvG7nGBIi30lkS7LuBB8U5ysMwTxExmoI7AhwCuf7MDIeE85BcpmfGhzFqj8xo8p7veWNi2jB5O-CudSKrj3oCUEc24lHOinN59u+QDXp2NAnKjT2i4-lpqNXn58tEYgWmfqIvkLYTRchd0bwPyDDZG2LIFkfbJ1C8k4Qzsv+YTSvnuEf54Ey+RrMShAKsRjssBX10vmE19u8A7qmAHzmTwf59vf+T6NQjgs4FDTY+RRBDHbo-51Q9IJQoWwQyogZC0+TH1Xa5DW5HwVdnQrYUll3CmbFedqLXmHzkCB070MllNL79Ks2BHwKIuhj4F8pRBDYFMAYmMhkpt-JXH3BUWcdqpPmFReIpSb+5t07XdafDJZC8tpAl0ooB+iRgcd2GLuWDBovml10JQyUtGTvxHFsTWxBrCiNfPSTk0pgtqOsMlKqmdAB4S0-4CtIWAqKIk5NRhfONUgsJGFw4zxTqEDG0TW5Ci2QFbj8WUIVF9CnoNOIDmgSYl24-sSqKfkNMVxdHVlPcAZYuKQkYSLJQEvWkpi1xZgYsTcISZFK+xhGOCWYAQnITbAWEs8AABk7aRElxL3CykQ5yJAVZKXFJSX1QEp+-BiVRU-H8TeRHEtSZ+ODSzK1llgQSVz2EnCKjQnHCSZUB2WyT+lgykZeAFUmjB1J2y-KXMrYkL1XJ69cEQZH0klj1Jxk6nj+LMm5L0gsiu4FZP2E-hwxny9pRlXQ5ArRAIK9pTKy6510dl8U7xXGXvD7C3J8gDyQZECVjULiji4RS4tF7uKEpkU6ZUct2ULLgKBYgSPohqVuLwpYow8SwBeUYrXhxwzktwoHiPV7ory0+qENBFpCe6C4BWJu14nJIGVvIiKcshhFIrHlirJJSip4X-k-SXwrrlTFQaeKFVB4UJqqt+H-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-KkSBYfwAjEEmmuqqnlUki2Qb9eBCQ0wY47-goTNSmE82LhM1DETyJrGXrlU7onGACTFQoQAcI3RQmzJzQAAC8c6oARE1EDeV0m6IGJn46E25O4mfI+JxjF4YcANozeI0UPMMdGPHgYTKJwUwyYSZbUl4r2O4w1FKCwlSAsJfloRHxasQ8ApJrVSqdpNonhTmpm2jqbwJ6mN8hpmVpKf6hAA')">function use_index(pat) {
    return is_string(head(pat));
}
</pre></div></div></td></tr></table>
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.78" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.78">Exercise 4.78 </a></b> 
  
      What is the purpose of the
      
	<span style="color:green"><kbd>let</kbd> bindings</span>
	<span style="color:blue">constant declarations</span>
      
      in the
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green"><kbd>add-assertion!</kbd></span>
	<span style="color:blue"><kbd>add_assertion</kbd>
	</span>
      
      and
      
	<span style="color:green"><kbd>add-rule!</kbd>?</span>
	<span style="color:blue"><kbd>add_rule</kbd>?</span>
      
      What would be wrong with the following implementation of
      
	<span style="color:green"><kbd>add-assertion!</kbd>?</span>
	<span style="color:blue"><kbd>add_assertion</kbd>?
	</span>
      
      Hint: Recall the definition of the infinite stream of ones in
      section&nbsp;<REF NAME="sec:infinite-streams"><a class="superscript" id="4.4.4-sec-link-3.5.2" href="./3.5.2.html">3.5.2</a></REF>:
      
	<span style="color:green">
	  <kbd>(define ones (cons-stream 1 ones))</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>const ones = pair(1, () => ones);</kbd>.
	</span>
	
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (set! THE-ASSERTIONS
        (cons-stream assertion THE-ASSERTIONS))
  'ok)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPE0GJC4UQ8lIGGMNgZAYYhcPcugxCMSgFEoIS4njQNBvSBQWDIGa5vCUAAB8duMwaPlIappo+LaYj2g7UhYfB8A4IRNvm3b9r9FaMn-WantiS7XtSMcNUetMIvq8xBuYMQJGEBhtzBM7KB2Pp7jEBagsGrC4fCAAyTHen6QYMZHdlEfB8K+oLUAVvIBRiEBqjFoSZbUnByHodBR6rLoKniBq84QZcQxfDWu6GHwUbOep2moKCuZ9CIz7+WBy5OMGi1qDEOhqboWH5ao1GmfICHalZnc4as1X1c1nSgawPmmTVjXiC1obBZuj7ztfaW8dlpMhi9uWtsma3bfNh2ndwmmCY9paXBlm9-fmhWyeV1JjSEGcKmUNhyDK+hJeWPWkZZmH2dAcFU6djOs5zugeZtpWPPL9OTCrrLGAFoW3aeqOGZjv2fdjn2McD0nbcbhhK+z1uGHDvPYk9kY48H+XE9twbq2O8Vx+byfUVnmIC+Zo3i9N0v1+oTeJ+r2vbbPi-t+r52O73+mEwHu0387wOg-r8xb7+LfM473KjPSO+do64wXj7eOw8zhJwGqkLOa1hDkDGgAD0IIENwzhn4HwNkXNmJ9JJUxYMgtBGDiBYPoNfH+aJiGkPXBQamWhSCGBweAm42J26uxFmLLm3AP6AxXjQ4EdCUE3WEL4NhPcIGDEXnaIe1s679VBqkESQ1mBaEtlIhMYM8FHwIZ9KyaiPhUGIJbahyiXBqOIOgzBhhsGgLnuAgRQ9SZKPJoNN43FUQ-BseQyhdBtGM0Lvok2hjQDGSKGXeg3jnC+NsRQ+xVDv6WJUDEshpAGDkPxjrbuCYYYMECDIEueIUnky8RkhglIglolBIUyoJdSQj2ERUvxmTOja3dmA6RBSiklx0Io1eqRjDtEdsoCOuTuk6P1obKGx9wnghGbWRw3MymcQSsQIabRlnjMemEXW4Di6LO2WM7m3A4ZhGaakpZpz1GmMtqwyOsQpmBhccvK55MqgsJnCYzRjtOmUH2Xk15XsLlrI8pgn5GizH-MeZ9IFLyXDx0ubAoZY0FCaFxDclZeyhIF3SJkXFHzk7Q3WFC+5-zcUHOkW9QlyLE7uJJewDwXhn4v2CYfOZBi5pWWZcoLwFjyYbIYHy1ljj96HLZuCUV4Jzny2JR5UVIr8ASLZfPWRS8A5uLRRoQgIJuS73Fey5IMz8FhJ5aXXV+rW6Cs4nzDJiSHGTKcdIt5WrUXCOzmIOFXSXWvz7naaBQjUkOQYF61hRAEV+uCQSrIkbwXmC+R8MNpBprxupf6kY8aFXmEhSm71+h03AqRT7bNsDGXwOntnfQfiUbgN0bM42YI-FWWKLXCtKiGDVAqKg8U+heJ1ppcMygx0pq+xGAO8Ie0KapHXuOwYk7tXCO7TYhgRJRb9qoAtRs3RGQywHUxAuc7ujhFKOCNtoBmjdCXaktK6jAhUxxGybopI6aNkakCNKT6yy+CaeSIKH6wLBnHPpUAsbL3UhvR41RGQJkUq1oO6ZISuVhPg-DUupBYO2obvQTOvAkmBMwxwRDILIF2iIw+HNVjYPKtVRRkjJq0jvW9oGn29HJgrgUlKzojlyC+CZph1ZK5mgCNorBmBitrmUGCJsi0xZyrVC7TKVB+g5PaWcAtAcg0V29r+Kptw8n6CTDpq8egVJd1Ah02u8sG61OoiAkaMzAhlCJECE7Oz5Ujr9DEpElYd6vOPu6GbAz6n6CeQCwoGq6F+A4mC1pVE4WR3edlZErCHn6DcCeICAAfCoVz-yw0hdihFx8oAKIvnJOcXmwiPgycKTRxTOnsjibfU5ngVBmEuCBG8PDBHmvEaYlp1IOm+28U68ZqCpn3gCAsxTZT1ncQbrG2QOgDmGiNhc6QNzM4KP3u84CXz0x-NJcC9sDDsHEsPsi2tooRVYvnY4Jd5L+FnRYQo5l8IAJcube2-Vjge2qalfK9GSr5bbb4c2U1gddMC5HROvOzdCc3EcAEAAFQABIAFEGAAEFwDgExwAJVR5AAA8gAOWQECWNJwO0uBkJINQhX4sNUR517gcguYMbKMYJTPa2cramDMcQkg+c2KNul94AukhC6aCLmcnQFyS8MFR+XYbMjM8M1L7nGPsd44J8TsnlPVd3p0xLorrPlsy5h+A47V39BWfXcUq3q24ta6e1TdtdUaGNWakoKAcBEDIHQN1PEcDzDjRrKYkujtKx4vrcMyMo1I9nkmqdeWylSjUk+spZolMJYY0z8CW60lH7cJAS7YWos0hc0BtwWPsuVIzqqU5tOACW6Goz86UoKeW-Tbb5fVuMe6Bx9z83v+-3B+d62kX3vE-NlT6dRahvY+VZYItpSwv3eWinmZ-bLRJ8V-OjzynGJ1AfELjaY63OW-FQ993148-cTL8JICcP0fx-m+IJISgq-b-b8rClDCp8xbiiJZKTxMJkA+rzQvZ6QNDf6kLiKSIYywFwGFBH6Kgn5bKjI4oAHyQ74-DYq7JEGbK-IwpazQHWD14j6N5y6DSiqAyz674MGH40Gr6qLRx3J-JayMHb697GLQoH7hIYErBYFWrUAGpL7zRF5WqSIp4dBaD6D2p-59YoEtA0GoGrgFLV7hysLhp17qFx60GrAtBbbBAlw2R2QOTOTUi+BazkCoJeQ+TyGmLtrByEB6qSLIjcDhpCRDZZLHQKBP6VibIgHIgTaGhBSyEBHUBBE0AhEMBhEOA+Gpooo5jPj-D+G5AYr4DlCJE0JKEOARHrZtaYIZDFQuGKH2pIGFGu6HZ+g2JaAiBjQj4Hj0BaL1FXj2oMJczMKsLhGaFoGFDhqDFDF5g0ItGVhtGhxgjhGlYSpDr1I9xVpng0xlFsDSGrilBqLhx95NFgjrGbGxjND-ShjLDA4mamHmS1FWS2T2ROT07CKUC+AkBOGCAeFsC+BRbkRg7CLaGjS6E1roKGDUFx4mZBShr6F+JLB35gbvRyTNBYSVE0xJoK6ppAmEBhCglUGdH-ErG1isJ5pQnAlUGGEMq2y96P4X4Or-7CE0E26LEjq1g1oTSKGtK2IBG1AGEN7GElAEGp5snpJtJ96UHYnGSmSsk0zskYLq4AqkkN5QacS94kF7LYl0z+FmKYrYE7ITJzQTCXELEJinGaiVYZEUzCgO4IJkpcHkEAr6mTbTBBTIlKEHjJpkFCF6lUEKmmmRgVYNhtaonqJzT4kSgRKxjOmBnumb7wpek0FMSCgWmDQ7EMQunfJBkzjhzFF+hBSRmfQhnxnpG+kg6xhOm74qmdF5pRkUG4qcDelZig6Sbkx4kOAhxcniwULc60pZDtkwn4GxrCbtYHgQiQgtnr4ahwjcDNmcxjlck3g9nDxkQRKNmcSGDciMC5FNyALVyUHqmJmJ44HEHLwGlpLTbZ56mMgkE2kPKAwFmGnBKanPHamnK4qRKlD9nHHvEkAiBGBrkiz8Dt5AJmaplumCHRmek4ljGrlCB-mbkd6s7CrlljFXiVmgXVlgowKFAXEOl3mMZjyL435d5+hcY7h4X3xTxcJ3SCKRJYHz4AXVy8FbHAhsy0X4VtyV6fy8lN404Nnh4uC94sF0lglQSNhIGMhKo1EYxMSNjdh6gXm-kbl0WtysJIE3aNijn2Lqy1AfpMXJrV7qX2xckyVpHRp8WSn6BIGjErCNGOxQyx7TFaJGXcD6WaWhDYmDLCL8GcFVkApqlSzsK3CbLJmrH6D1HOnWKv6qHyyWVoQ8mKkeS94hwenoYN6tannhyMjOmJUFYgJRVklMQhxl7CwzxZVOwUWfz0SrHYmHrgLhxxUR674sVkXT7JX0lQQFVlUhn6CNVbnkXsV14rjOndVwXZQ5VbTYmjHek6gxB078kinMAVxNVSG+XkjtXsWdWkU9XFZ9UoEDVmUbXDWMCjUwFkkTVxnlre6WK+7yD+5tRB6dTdQ6C8XN5Mk0yoLc6OHiTsiCZ1WiQBX5GWKbqMKSBQHcAWVkkMn5JSrZGEC5HNF8wpYEQ9GQEsKg0qo9CTUzWeKKAw15FhGdmmqhKzFWTQ2w1Qzw0JqPGWLgFA19FKHc69INIyDcClKq7VFo100Q2BgM3FJM2gB-rVapLKGtHyAzEc1+U9J1J9K80DI-WgDCpBXMlvD7H01SoK1nInnK2q5JmcEzyZmc2MacpNpdUMRGI60MTYa5pm2rF7GUp63i2Zoap2iZnuWpJjJfD2JTSTH2WUopX22Bg3gY22yBmc4Sy+3-rOJeyB0eWODu2bIsBeFA2+WFDh3SJYQh1cB5WwKNiUCIwPm4h2Ui2WyMjcUzXAFA1GDsUglVgMRRomWDmbhlVV26EU1NRA2FV6hKFA3PDJ1xiupezp0t3p0hn9Fd2RA91103gD2y3WXNEF3tGb6V0VVV0sDrCbJh2935KOxiA50V0dz7KfUcBTQ72ni9mwlYRl216N1L2kkr284iGiHAhb072N3hAAA8j9R9qgxteonFfJZk5h4IqOt0ctQgvgggqavADyTYHx1AtQzQ4IoAAA1GGUMXDlNEKMgZXeEMg7KqXEgyg2gWg2IBg9-RML5qZGYZuIA8Awzo5OA2IJA7CtA3qrA8IPA-g50UUEQyQy-fg7gwg8g5w4UNwzIJIifeSX8SXliO3Z1WVctUiNHZWNDLdNiOvdMLbFBYElfdXT-ceRvTGsxi-UI6BrHso0QCFUheoZnPgB7WIF7YXT7TQb-ZgbYR3ITDLEY2MbMF7OI8YzEM0Joyxv+FgzaE7Z0BMLeWViuAOLHoTDnWvRio+XPTMQtFZZQ7va7LcXQDdOUGBlzN8U+EWXo7EI2OnYyMHeXXWdmeAoE0PY3Z3VztFV0W3YCQPTdphaDvo3xSPmY6o2dcuR5KtR3LI+xRVfI7EBST0+iH00JSuBo2uRk3dE3eE6k46QnkxoSp42hD3lMyoxY2gW7TYydPY-PTwTyZ0QE+xe46Clg0I6UPBDLCfRVc4yZNSAs0RCE3+KQ-MekdExabE59fE+ilqck5bKsw0P-Q3aM6XLZDkyIHk9TG8SVVbJE1hZEqU0DeU66TOOnTWmdSWTUws3U5XQ09TBBZY0Pa013e0zmJ03XaY9M3i3Hm4hdQWFdS1AHu1MHl1BgE9WjIEcEaEQUeERmhynoihrMckaXBgrEYKxbS4DK3EdQAkbEXqraUPiK8WjIkE7UQyoVAK-EUK5dYyMXOmEcnMLg7EHMKuOS0UEchyJazEByDa4MUchhI6-XS62a1KjDB6zDF69MEcl2bg12c6La4UEctxIYHqnxrg1GzG2A4qOG7EEcpC465C7GMmzEEcjcDnWGiwIYLKrm6oPm41CsFmzpWCOCIgx67EPoKgtwL4J9rlo4cg4mxW0cp5LWzEPW42826AI4T5O2661KhOdML26AE2zlgO6AJCJOzEB21KsAN2wYA25O-244WAMO96zuOCAAKQrsTtTtfYzt7vzugCLu7viS1tHsbuExNsju7sACEkoN7a7x7LboAL7QID7O7Vbr9h777d779MQv7gbUqr9AI3bt707jhkHoHl7Vb2WgHfbsHoAuWCHj7SHUH3ARQMHJ7jh2WQI67WHEIT7K7M7hQJ7MQT7sQb16YBUbWirgr-1BY7dH6K4HC863AzHhrrHqIKK+rsrfH9q+ALAAAViYICgdisFx8iNO26wa8q+rQInMRW7dkpwkXzCipFEx5p5so3NpcXEcsabg8aep5Y9m1KpAHQN6Ofl8bhzZ3Z88RZ5Zzm1QCW7AJAI68WwwF5655Y+53m5jh6755jgF0hUcuTuQOTiu9F+Ti80MYx6ebx8p3NW3o3TJ9MHJ9OzLDIKSalwkYZ8l1SIVwZ63mHDXVlw0Dlye6pxeDwPp+lxQWmDNdEWV-x9gt4fQ02tztEYpmqKQJ8cc+J+QNWKucdJoPs1eB16qxwJbBq0UU00UF6r10cEUL8dcvGIQCc6LdzjPbZcLac2CPUbqjZf2k1-ato342uE12PC-ct7EGd9+R16JxJ1J1XTd418J2l2PM3Y9067nYk-nUdyk8jpIETJsmIF8CvZfqD0XUCNONI6C5Sq16ywJ63Ry7dR1JgLyzNUrRQKYAwKMh8OVDcKQKyvPvjUxmtBtAIlTxxoAdq3IlkAz9g6XAwAI9nqOsQ6IwjjeGzwOfT9nOfH8MGuUooDcFsj0VoDkjz7XThYIMoC5goBkNHkYD4cr-241Mg6psr4TOCAg2egg-A1ZPg+QFrwDysIb3KvLy3eQpQM8TNDzykd6q75yY71OxENBCnQmEQ3wxCPg9kVL8YDL1yVx6tw788a7-qTg9YOCKrlH7iMwgoKpqmtT7Gmn8jJxqXLGrpK84NMXF6ljJjMpJaRs1kDeMX1OjtMzz7NX1++pG2ryaUAjsXwb22sZKUATxbzOCT7FOT6ysX+KQYCrDA5IbnO39jL5vniiRMSodgtX842eoH8g0n0wGQKnzLPoUvxw6uAg1zx1dXu2bUWxwv5P+n+z75gf-g+vyn-z-X6kVn1-Eg9f-HyP0n7lKCLg16jx-EI+Sn0Z4F9UgaWdPjn0-7gh3Wk5NmNv3T6hMsg1fP-pIAAGb9eSWBIhs-xz7ggAA5Fzy9R8NcBA5ERpImL6J9-+uIUZKQEkSUCvevvAxoSmpi09NwMsGgRFyvBHIhAwgfhsEH4YOQdIbuaqEYiwyBxwB5AhHKwPgH6AJBjXZAcn1QEDlP+LA2sFQNJI3hpB6-VgbLVG7jdlAk3DMgxACIeBEkGJanuIQn6BJa0OfDgePxtQc55+EVbBLWit5cdtB6wXQdQE0AhlDB4yNwDHxMFACm8s-EwVYKlRtpzka1Y-rXlrRoCWg6CWWjQOdj2FUE3g4wbWl3Kj9UgZgofNEMuKlMJiZVRkCuCP68IJYyhBwbnGiEFl9WRggzFDHDTxQNAUg5QVijsLMBkhGCGoVXWJKEAfmOZfIVc0+qQCNw+fYXFhH3TyAfBxgOoakVJICIOhkwiXDMICFy4ruAw9SL61EGdDFh3qAcqsLcaDDXBE3DwfoNWIjCigpQNOv0I7jODGhhw9wZ4N2LzDEkfg6ITEMuFU05GjXLYdMO9Q3YLi-hE-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-fvPwbQNJS8Uki4B8gs0PxcipA-+JQMN1uA++5ndGxAkJ6eMfGATMyXtgyYkdsur8f9rn1VsKD-GJgIJlX0Cl19zQn-mwF4ysGXqAe1JE8LcB66y1RUE8GQBuj2IXODK8mYyASECwkhKQtwIDWMBiH+AfDI4O2sGwWkQipAKQ-Z0b4SR7Eh9K2MeTgPghvIPkYQ41BoFzYioMQKw-5FOWAHb9fGC7rINEOtBjg-iwZSxAHCS4mA+AYUWGlFFclvDUChzf9mCDmbAkomp9fqqkFPiBwehgw88SMOlwTD-yeEOgqF0JsIQVh7yEyC1yCAwjogQo95GcNYU2IuC6YBYYqM+Q7DhxRqA0a7Y0sYgeB6WZeqPWnq0IueoYhoN1Wcyi9acMsTTFaCV6DADepqP2yMIqStdEx4fVNEllOScZGFWlkSvpx5ahAhgRyBtGqBFRoNp5VoPIdpWKG2hyh31dnDUMHGNDODLQ6VgxZcxtKCx85CPvNX241jqc+gVkHTpna+S4IByHzLUAnRLpzAWSNBERLkDRDIx0sdHkWN5cgaVO6vTMenZGEGNoo2I2xpVkLRJNsmFUYOLk38adNqa9TYbi00Rahy7M6LdO100G5NNlOeLdIkS22acANh0Q9gLsz6B0VAAHSwCcbr1UMIUTIGCCp9ndk7PtsZjQigHT4khmxuSKwDsmt1nJorNyc8V8mBTREoI4kVFObohyvAE8KSR6BYQDToAAAF4NdQAfJlboKe1MinSAqfaYz0AtNSm9IMp8EKkflM1RUINsbY+8D2ObhOTtp4U7qffbQDd25AfhiwH4bKB+GXAyYNgLTB4AlTuqoM1qZDMOmj24Z5g1GZjNxn217p-yEAA')">function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    THE_ASSERTIONS = pair(assertion, () => THE_ASSERTIONS);
    return "ok";
}
</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_1_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_1_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

    

  

  
      <div class='permalink'>
        <a name='sec4.4.4.6' class='permalink'></a><h1>
    4.4.4.6 Stream Operations</h1></div>
    
    
    
    <div class='permalink'>
<a name='p45' class='permalink'></a><p>
      The query system uses a few stream operations that were not presented
      in chapter&nbsp;3.
    </p></div>

    <div class='permalink'>
<a name='p46' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Stream-append-delayed</kbd></span>
	<span style="color:blue">The functions
	<kbd>stream_append_delayed</kbd></span>
      
      and
      
	<span style="color:green"><kbd>interleave-delayed</kbd></span>
	<span style="color:blue"><kbd>interleave_delayed</kbd>
	</span>
      
      are just like
      
	<span style="color:green"><kbd>stream\?append</kbd></span>
	<span style="color:blue"><kbd>stream_append</kbd>
	</span>
      
      and
      <kbd>interleave</kbd>
      (section&nbsp;<REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>),
      except that they take a delayed argument (like the
      <kbd>integral</kbd>
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      in section&nbsp;<REF NAME="sec:streams-and-delayed-evaluation"><a class="superscript" id="4.4.4-sec-link-3.5.4" href="./3.5.4.html">3.5.4</a></REF>).
      This postpones looping in some cases (see
      exercise&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-append-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (stream-append-delayed (stream-cdr s1) delayed-s2))))

(define (interleave-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (interleave-delayed (force delayed-s2)
                           (delay (stream-cdr s1))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaWH8XqexNtsyy4io6xlurbU5qj6ipUUKc3Etz1GXJeoKMp2cXprIBt8CxeiARXySVDfZaQbl2LuVHP5-xEnAmeQ4pZywTZQqsYC2FFydy3WqcYEO7FjDrNrmzBR4jrFAubLoe+ZFClwvuUS6hNi6zgpeQih0FTUa0phROdFs5MWmhxTgPAfkGD4GYGwKAcBEDIHQHwAATB41mT9HDOBRoVbwbwKXCNsDtMoB4UTGAAD56psk-RGKrdWgANUauw5QKiiGGLqi1Zpu67TNfqw1jq7Dy0KtjN43zj4I0kJ4TwxVNZmN8eQAAFvcLYng35JTAX0Q6x41UADJk2gEjZINBarlI5tABGqNAbfUbPAZqgeurpYaujUGkS41Txt36tXUajKGhNDLWqit2cM1oI3vCtoPS5UiAuI83Zfh76VoDdWkNKhTzDpGA2oCo1Z3mzqEyu+fMlpdsUD2xQm7t2vxCo24+S77ntsiBu213bx59z3XKA9vTi19HZSSqRcox1dzsFW4NtbfEnifail4878WeL-ZIiczby1ns7RerdV6d3QZvX2u9QHWYgeUVpLlo711QczTBzeuHe1+CQ6NC4yKAWgcWWuyD8b-WBq-aG4ZJ5SMcvmIB0aTHn1gZXQRt+56cPbt3bB-d-a2NXH+cx9DbgYGYao7WdN8HYMIcI-25Dg67AWglPM6cEHQGyZo5O79DH1MYwWbQVjx8jOOQHgaIBPGxntmUFxp6pakiaAE3h-dTNRpGZ0tpkw2HL14cU4RZTxG7ADP9pbV9WHqMfonXR6dP7wvFzLGZh9czwZadPTp0ibnuMhb9SI4GnJjOZaizJ0ien4vEL2V7Dyv6yQgwSFyDLkNUsEppnSLGWayvZbrnI6s+V8Q8GE8fDrJNklZb8-Gx6ph8D4mlSNh9Y26bVek713JoxZv4gAMz5YfQq8WXNJtxt07F2jNb6M1ZPNAtrnjxmMLzlbN902zHXY5uGRen9YGLYJdAjhJd22BHK1YXLGjPPHyTv9kdsFnuyc3VbcHaX2GDMAZLWHpFFOlMPftiBAkoHvZfiQ9HJae4EaxwugrmsYSEM4Wj6Lp3NXOsx0hlTJbvG+amwzz9F2EsMe8bd1m932fHaWrWk8-PNA+uxwS4JPnjsnZy-J9zt6i0EqHR2LsPY8Ii-fbYbnU7VsNXAt2YEAuRB+RK5DDnvGAt5cRwSz6Ov42g6C0R4+K1PrUG+rZmLjPe6KC9+T1nBACGrW8IHn3cPoMR-t54wuYejQR+J3m2DMfD4CrakKkV7BxVcClWgbbA6S2IxitSWNS0Xw5tUiX0Qqu7vKhwsWxQlnnKGk0FUkZ62xf8UEsJUSxbF7LJb2YFy7fQlFHedLzxFwe9CRMv32u+Fy+6-17W-ADVZ9978mbqwFvh-WaX+q7OM3Bvr9AMN2PrMLc+fwMvl7y4ttn4W5f83bUXANMClZW-R-7+bdP5oXbOvQXBvAbMBGlWgDKO-WTMXSZSTT7dKMsH7afMLCOe5OOH-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-KwHkcgDqHwME6CNaex-kqxvWgwXecRn0sxmhjKk4-hiUBwIR7GFmqu5xifOYg2GhnQE8CximswUWA0FgB5ZiXB+IZ1TcBKLR0nE8dhi4WtNJ0AVNX0DWJk7dNJvQA1Dh5U0p0AXavA4IH8IeZCTdPJgok8OpmyUIJByR0YNBicTBlMNJimQWaEDXE3PCPJgphcbuMtC3TTK3Up5orR7x7YkJvXA8BJpptaRJmNSSeEhcDY+hjM1cNuOqWuS3RkKp3Z+0fZk4lZ+JuDMhvuT6eZvQTYlhH8LJs0A6AsGxk8FSxxwm75iieJ4h4UBNeSrZ9JmJ6xm0Ii+Sz7WtDZmNec2DUpgF2JoFtZhKF0MxiFhpk8AAcnoc3BocJfYaRJuJtDSeiZWbDEYBtFpeqpsNwr9z7iSHwfubQQZaMYXDF2GDGFhMcoamvHIFhKxAPBFYaiRjuB-BBcShCY5cUC5eRbwyVahbicxfYflc3VVe3VVZpY9DpbRJEDbo7tIC7tGBekoiTAhi+mScxBGa10ZG5Ehd5YddN00BmZayddpG5amPsxNZhDNcoBFlSita9FhEcfWnyDYeWBJGOedYabFzqcl0cyOaEJ9axcXvyFTKsAZeKCfGpDDZtedYpTDmGZWMdcOGdbNNAFdLfz7JXMuNTdbRaE9anCt2rZATRutdhGDRgk9hZrzYfALaLYjbCdtZAuINamLThXUdhfMg+Z6FCBUM3TpB7YcBEhghulBzXfDY3YTxjdBYtz7NzV+bkUXbleYD3b7bWnYePa4znYDc7uDYtbgIaZUPvfsX-PDv9fbsDfNdDd3YhkjYnczY-frazKA97c3bWnfLvLLecyUGrfpNF1e2TZPmbcQ4nbcX4RQ+zm5DcUnuPg6i6lte4JLRUITZIc3So9Becq+iPKvFvCsFmdZhI7It4drYgJ+LI6ZYo-Bdo8Sm3UE7zHo+5EY+ahY69ZEAQMAUA2DzFcYAnHIGoG0nuEzQmDQRLb47zU6iQ59bncU5FeiY08xF7aU5UR820-cajxw1k64Ww-TzAC9wPFhS2H+EJqwTIlPKDXIGgrgrYFIHDXbANFAG22QgcAJW2wLwL38AU9hCTEUBVFCdMAGEYE6TtaZNS5GIy-adAAVrGEGY5hkCS9EFCc3U3Wy-S53kGIqaq9y4XGQQS9IFK9Ce3Xq4Nhzb9YYXc7uHnopUiSTAxF6+6lUjF0nhG4XnfK82yDyBJOS9sB4E0AW4W3vI-j+NKBG89ixES4W6W5TzwxaT13+SXJ6HVg2624KIK5rerNkwK41LtgqmdPtA-nq+2+a9a9sGlWVYcUIE25O8ndXJ4je6u5Mnyi9TGBu4-Oznu-ujvMETNCWna8mBy8B6iFjPR+VjSGI3oHFc+-25W4cMoLW-Jou-+Xe7oF27K8W5+8UCO5G9O6B4i7+8u9zWu-vMRLMGO8O6G8qBG+-ftBUNrT28JvBcJ4rI9F5utvEtg3p4B7R-h5dPJpB8vKp4om+4O9+-+54Ye6CHVhB7Z7B4VkVvpP3h6FHO561-56wDN+DJUJUPF7jgF5BL3RZ-l--Ft8e9Vg5-N65+R7S7GCJ5qDR7AqjKx4pIfUsvkCC7oSh6WjYBaYxLm4vZkST4KGmViAT9PcKgcCU5T5MWsFx6U4uKeNqhYAk+Y9ABc6BQvJG5vM1LCNIij-ICC+YvJur7c-J9UnuxG-nv-A-l889g7+U-+QyrT-yAbRYq89UmH5UV75PBz-FYbRMJANKEKnJC8C4csXkIl98PI7kqOlIyD8l+ibX+BhYNIxSXX5VQXs3TP435jVP+v4v8kyv-P5jX3+3Xv5v6f-f-rrrFfJH8mAwRffjtxa5ADIi0TGIhvSAG4FIi+-Coqv2f7eBYBlBD1u4S64kYZgvHGzsy1XxmJxOtTeTjjwlpUBTohAnwm0mPJz4RIOiWwMFxMh3BGAsaUaAMHyDDgDOCPB+EMx+ATsfexgAJMgKCTID-+dET0rSHQHBFde62b-l4HUYFd6y+XagX3joEMCxgTAhjsAMDLLJYgbAm0LIP5JRwDBjPdHrhwQ6UcM2-AqdioT0EKtq2mgWwcJwzYK9cOXAmWPGgI4Vxw+62Wwc6y65XFbULAOiNMFUD2ZGIYjRvrvhCHGRiwpgRILY0CG2AI6JASXG7gfT4BohnQWIYEISGJBMuzqAIXkIaak5smIwA8HcHboAppgRQbGPdHhyIxAhL9frmNQyHyAYhhQhJh0Mt65CWAwWLrtAJEiIRxaciKyEAPFDQx4BBycmgYOEF-8G6gAlhjv0gG4CrAMw0HhMGN6FcSGAwrfv8k0DjDJB2g2NnJWsYHg6wnlGPgYPuTGD9h8gQ4b4S666hThRYC4X0SeG3CJh7hffm6Rab4Ar0xUDYniz+GbwAR7DYrn3HeGgBxhegBpm6TxTHCsBx4J4TCO2FL158QwmSCMORCQiDhWg3wtkzsD295AegVNGCyOjQj32bQs4UkOj59Ft0yI53guG3TQjGRgvKkS8NpEKsGR99DyJuhZE8jbIwFdhieGBF3B+W-glVN-VsQND4hZeBAeC3arNDEqpOI1nw0jTJhMQdYIzuc3M4vBNAebSEXm0mH+JyarwgbH8UUiewnhBoc4ZyINF3DLy4reYHvWl4GQjRGAlYX6xb4BUsoc7UUaCJIYlDjhfJKUQyhlEJMzRWUVUflwcD-8Jg1IZvMSP37GowSXI4kdGN87ZD4hyXAnmV1W5TCA6OSXzq11zFFBn8no7+Ibw2EQ8-QpOZxHQEwFg9C2C3RoImL3ICDyayXT2Ku2JEfJfcOiVrnoC0Z1NnEyXNZN-VABjEAAEnbVsAABBcAOADtoAAlMYpAAADyrtZAKpCMKoV8AZgILmZ1z60JrRZw+4QvUICxj1+NINsTaMhaZjrx1IPtrqLwS3izhmbTMTIEqDajBg0TT8b3CPFOjkkC9acbOIXFLjVxG4rcX+K56Pjnxx418aeMsAL1MxHQlCE2NsAti5sSE4gDdBPA-jiAr4DocQIhzr9AJFnZJDhPPH78uhrQ0IZyQMjjCFiNVC4kF0mA5BNR5EvCExPL4nCbR541ke8W9FcTEJ7I+qHiJZwTipWcdEgKF1UgAAGYwqNCKg3hqwCkdTm6wnCUA0E5edSaSFkkHhPY0k-SWUIUrbEeAfY2TMZIGAGTGA0Te7CpJ+Db9dhHnOSHpONyVs6w2kheioVaafYVCxkjybCm0m08iG0Y0wG3Ccn-I7AhUWKOpNjSvd3JmklRNpMMIfE1J+iIKVpJ0m2xRoDQ+4DeBkAphrOywDVAOJLb3RFQIBRyZf0IGBTkpWkbyUgjJHHgROJDFQvlNsCFTpAKYGjhm0ElRBOp3UlME4OjaytnQWbQjpELzSmACpRUuKawy64TAuoJkOwFWwkHZluGdwaidLDymzSup80vfm4IQ7lT449oNcu6BK5ADfCUPUqdnBrzSCyorg5ZAElmEP9RBr5JYR6ILjZxSg8go3hD3lKhA-hqseUrECGnzSrhRgkwY6Rt6K9vSDOSjiiNsihAIZPUuwZJHKZoyRpvBcaTlAIAlJa8Xg0PlO2xm2t+haIwYc4EEgMh-gLk7aRWR2kmiA6aw0AFcPmFVEIB30hCDxBmE1N2ebgpaCQEOI0jvRb-d6UYOQE3QBRQQaoOeN-CNt4Oj8OwAOOqBSxlaeASeFrMdjTChBqkdmQAM5k5kJJD3JaHzKrHg9FYlUpQSLNeH0z5CMstmSIMlnv87ou8d2cYEiLNSdhqA6QPLOVhmCeIy01BGtIWByzNp2-c8R4U1nay7p8aEUf8PFEBynu95Y2JTPtlB9-ZVce9ASmFm3FRZMffIPt3yAa9jR00n4ae39H8sgRic-PlojECXSIRxchbLCLkIEjeBRc5GYlAGH11qZvJOEHTKLmE1S57hduQOJLldzhyi9OpL3J1D9zKAg8jXkPIknGAY5k8dufb2Gz5M00qEcFhPIaZ5yKIds+kcNgGk9B6RC2M+ekEPkFy+iq7U+Y7OWCrtL5j8noEKOOEJyQRScnOcgQynehksppZMXhSqw+AAF0MfAupKIIbApgl4xkNJNv5K4+48CzjsZJ8zwKgFLLZUu13il4z8YvLaQIVKKAfokYHHdhi7lgzILoxddCUNJIWk797Rzw8Se6JAEFjZIUwW1HWGklGTOgA8KKf8BikLB4FEScmjfN9GqQWEN8u2Qwv4kyzoFsgK3OwsoTwKr5ywZhYGUslyxiAIssRZXNrnFCR4xwqmKgwNY2hUF4+NGBUM4XxSz5IYswNKLiEJNRFvIBSIRnHFmBJxM42wMuLPAAAZO2tuJcS9wlJEOA8T6PUlGgqJK8nTpeKopNi3xyEhpg+KbHBppJESsSR+K55fi-5RoTjv+MqCpL+uOnUCV4t8X+KYJowOCSJAKU4SF6XQ9emgicSoTwx6E+MZhOp6tialKinoBAruBETwxP4QSU0ocUZV0OPS0QH0ocUysuuddapWJKZnTTaJIQlmk4i4VjULi1Cv+XQtF6MKBJTifccJNmU7KJJ0YuEAJH0QMtFWJinUHMrxFZjehNE8McEPkDLKSyT5NZfaDqWn158EwaobUI8gKxN2L45JNIrPESSz5SosiCXWyWXKDwpdG5cBX-J+kOh0YoxRcoZb3C7lCU8mq6EECexix7HGFYawaioqTF9fKdjipID-TqxVskhqcporGLYVhK0JkivDGZsKVCwezkaFVYsqHF0Yi4I+NH7IiMF5LbwD2MIzmo9UfQAcWKpZxNoVOpgESY1K8lxKCJsaBDgKrpmqqoeH8LsapEfFtKKIrY1VQ9w-jSNDwZYRVWGIcXp0fIQynIclyNxArCJxEtHvkCwStdHVCE2gBMsCGD42RR0AiZoAhVmqIpH0J1Zirg7PTs5weFQCMQmR6SG6j4uhVioDo4TPYci2BYcCEVpB1VTYwVeku1WdiyunsfVVhPiW4STV5NENRauMkdCbVHkO1dmLK6St1JPqxIGSqCBuq8QDqvAtJLbUsA-VZoAKepKDWdVq14iWtaysjUpzpY7iBTmMCqV6SRilqh5E6rta0LVVjbFkKZw3Vrr2GpnAiauq9UVqp8rMA9U6qPVATcJFKWNQqoImiCk1xq5mbJAqCArj1OSYpeBJXFrjNx4AW2J+sXHfqoJASlQoGuQidVX1lqrHNNJPC5Aomp6sCAus2XoLpYt6+NfokTVxLs1QQD+JBtSWexil3ivxX+rSCEbSlIG8FtJNHWPU8N4S98ktFg05B4NP8+VLjkNJAxaabUL6BEPWy6VuNnHSHBsE41CB+N+-Pqd7mibx4hNuEKNjxrjLtReC10aJkLHfrGVhNi+WaPkP9yabomkONTbhFE06dxNQeUaPHn01CBZNC9UaSZvdyiBPADYESBcs01iaxCSmojktloC01qAsU6TRZoxXIqMFW5DjVxt8231IWPKwIewyE3ebBF7CULQ53i0-QESJKxlYJs80GbEtbs6XhFryHKYu1GVPlrCRS10t4CnmmLUXWPhqaYtigczbfX82srAtqmmwOpu4nNaZNkLIMaC0KgGgKhtEH5WZT+ULhitkEUPLVrxBjafoty5FSaE945VOqVW2KWZra0Waaty2sLTNpBI5beh-afLbBsYBFbWU9wBlhZWa3lbglD6IqPZtRheQptDWnTosueX2Y9lby+Kjbw+B8bhtrcOzQ5oZV0stmSW10ZcUlF2KrVOQ4Cv4Fm0shbFKnUHfEK9kezYgpODbXZG-KsqmYu24VgdrcANhftWtZaN9oUAVaH0NISYFgn07Rt9+JsQgb-X-pUggGuIaMU+yDYhso4N2rbR3E-KPK6JLy3yC9psgk7pGqMHPmIjIGox96iLSbZQP3rmIPW+VHkfR3EAujAdeBC8ExxahPDNpF5OEjbw9lBATwTOgDi9BlYLMT4wOmHXct-LNFEdu0Z3uzvR3ur9df7Z9izrgLErDtuOz7AbpfapQhaH8JUIW0srVDPYAATn-CjRA9ZlC3XJunYEoI9FELoRSB1QqBNA1646crMwUqAzpt5QOchCsAFF5Jt0wIHHsUD4t8WDUNABXo7Uxko1ZoYvfUJhk9A49dy+ugaB6HdDM9Ket8OfgV7eDjATehPa3p5j+7xgNgKylQoIVmViFMUZuHGvq28rvhqOhxfbsOoyBCFU+sim7ux0KAPd0ECfUQr1wkKidBKKDnYAuWFQu1DhA8OUDhAuNWFSkV0J7CHaPgtghbE-YmMNBKBz9XnGEr+CmU5qeI2ERgNfs1rVNT2cIVoiKyh7F7Mq74Cmuu1AAMtC+Xa4wO+Cyrj1TQxe-VoytdAhQvelUDHurHvUqc1OmIBddjBwNQ8d1S6zGIevPXHqQkYSCgw93ViAHgDHUUA6pGuwgi50hevvaPuqEZVUDsBgiWRDINjAeoQh-qHgYEQY94Zje-g2ZUENCGPwiBrKAwGUPvgq9fBkytUIt33QuhPOgyD8Ne0gksDf2gUcLu2DXBUYroe4UGsV0EBOqugX1jMiO0mLFWkuM3fYpyEqi+hWPFjeblDzDA6AN4HVF-vbFccA6D+1SE-pHZv7HIDgdCcgZ-1-6cN5NHwjkk+22HTdXgUMRbt8MaKSczqDI5CxPDXgvRQXFVFCPkCSAsmu8L5ui1x3oTSB1hpQNke8JyFJtMuxw49WcP+DHl9Sh4L8qzT7d+tNQkSHQHzGei+NdAYbA0zGPBpJj89TVuC3hwPzbIEKz5StJEgLGRGiQvdOseV2MTHAA2iYwtk47dbyhtqPrScfGPKBRjtxxY1MemkzG5jJDXY-YGlTLHjhK7aDLMd9YQrLjzda41UNOM1bHjZx+el0oqpKNHlBxvw8NBP1NH8WRnRQIDoAA6WADdV8pEjEH8AIxBJkjqqp5VJItkMvXgVYO8kOO-4JExcpRO6i0TrozE9ie2N65VO+JxgAkxUKEAHCN0UJtyc0AAAvHOqAExNRBBjeJgk90dCbCnSTPkck4xiv1UmG0ZvEaEEfoChHjwKJnE2ybohSmtqS8V7LUYailBYSpAWEvy0Ij4tWIeAWk+4e1OsnJTnJkaoaf6rGm8CppjfBaZlYKn+oQAA')">function stream_append_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => stream_append_delayed(stream_tail(s1),
                                           delayed_s2));
}
function interleave_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => interleave_delayed(delayed_s2(),
                         () => stream_tail(s1)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p47' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Stream-flatmap</kbd>,</span>
	<span style="color:blue">The function
	<kbd>stream_flatmap</kbd>,</span>
      
      which is used throughout the query evaluator to map a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      over a stream of frames and combine the resulting streams of frames,
      is the stream analog of the <kbd>flatmap</kbd>
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      introduced for ordinary lists in
      section&nbsp;<REF NAME="sec:nested-mappings"><a class="superscript" id="4.4.4-sec-link-2.2.3" href="./2.2.3.html">2.2.3</a></REF>. Unlike ordinary
      <kbd>flatmap</kbd>, however, we accumulate the streams
      with an interleaving process, rather than simply appending them (see
      exercises&nbsp;<REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.80" href="./4.4.4.html#ex_4.80">4.80</a></REF>
      and&nbsp;<REF NAME="ex:q-why-delay"><a class="superscript" id="4.4.4-ex-link-4.81" href="./4.4.4.html#ex_4.81">4.81</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-flatmap proc s)
  (flatten-stream (stream-map proc s)))

(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave-delayed
       (stream-car stream)
       (delay (flatten-stream (stream-cdr stream))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9LAgUAEEgUai0JEMShsCAweBIVBoeSEnDIgbUUBMCYsUT4FgjMpsUjKfgTXQGYymcyWay0MS4DiU6m0iiEADmDNIAQaHhyjIeF221kI7CYEql9Q8okolAA1vhuL4JGwAEaUUQcKk01W0I2m82UfnKtjW0iMhIUwis+VGEI7YhoqrDYrEcQMOmDNXe0AeQXm-2EegsIMiEMsMOowgS5me9UpX3WKkMcgsY3jYOh8PUSONGOWi1p4ul6YpisZrMer2NfNcWi0ciiwjO4bV6UUussXv9wf8Ujtlm55Ld+MCcgZ6kCgAe3GYk6r9DdUdr6+Xq8G66YW53fb3rqZHYXgW74hNAhYm+3TF3mf3ksPoDYLA6tMpJts+xqvhwYRhs6IwMLQap1ECgJgRBpoCBICFRkhRjzlG3a8gAjvg-DEC6B41mO66EcRJDWkwREkdMiYjEOpDwT+7q4V2iocKWlDEDqI4apR5p8QJc45nhPGchYvhVCxM5CSkR7mjJhByXSTCsRJnYNN2BSiOQxCVt+t4PkcBkYbGwqqiBgzvleEYcdmrKIdhoCGfQHAOvWVrwWmorsWZLkwlJoyYpEP7KAARAAqoQOqEJQADuNA2sMLAbqAAC02UiTZ0WdD0JL9BmoCWTIyLKAFtBskk5C4KAMg7Nu5BsKenx2VWyIwqsyRqeVvCiBIkFFu1FCdaVEZVeVDCBUVxjdBSoi8tsjXNdY-psNwlBEEIXWZj1dXJPG9DrLQdikBk+WaZVU3ULxlDoXdhAAu59QXiMRQshE1DaVh71Ivd6lQSqsHwT1bmA-UNVQ9DyQHQKnq-dOw5HQtgQDTsam+cRMg7pd5nJB4OOWsRHDxl9s4E6Iv5AiEe1MLg5CENIXSLctq3soE4WUJEM1xQlSWpUDKKDKApASHwOV5ZZhXs0YvTwgdHlWKQ3n8mTn4yBe3C0CFfWuANSVcHN8G67V3oeLY9jepc4SRNZt3M3B6sBTrW61SFcNNJ56s+Vr8E7m7Zse3rnE5kVyvAyJFPUCua7mrrjk3oyBvc0YWPWIweNO-Sy4OaNczOfeRPGCpNkyAXydxwmCH3lhIR56q1eXlwtP1-OcIlWL5Kxr49E0aREr6-ehtGA1TU7Fp3CSwPDG0SPvUZ5jGxcqAjPM6zAgK4rnNMGtU-WOIXnMVpik-rVx1NANzeVREp-yefw6XwkXdrEtYhc-Kp1XS7j+MlxgfdIoAAZ33-urM+2lX6KHfvUSeG0OCkyFLZB+kDbxAOXgDAaEC5KAK1rvQIn8VoHxXvUW+dZqKMRkADI2n50GaVYkFRkXs4EpF6K4JWPcyQ0D9hrDgRAJx9gHHMJ0n5r6ZzXlsHYNsHBiMtsJWR8p7bXGigAKkEZOERAg1HRWUHwnymjhHbxkJCORKor6dAAJCuGKn0XuaVjLqV2urFsaYTLMMlOPQ+iCqGLw4hIwIv9ZRsWun40iGkFLDE8RjfqUjuQCm2nPcJZE2Jl3LqAJRgIQgFH4HEJx3l8CuKYKmdMgwIZoMic-Wcr83rQ1oAUlx5Z3EZnggBIC88h6qlofDSRj9GEzk8ZY2JoBiHf3IfEniv8kzFNKSZJSwk-ZVwDDM5pZSHo2hNGaNU6SfQ8ULI2Msbj1mmXIkCTUasZAHJLEckprZ7KbLtDsnpIRZGEK4fYnhscxKCSimPFewS0ISGuj8x6z0OKEOCVqYyK0wmNKKWsjxMggUjOCUYqc0h0QgIMfydF2iZDQupLVQhFChS3SBT7Ron08lIwmCjbShKVrKDxdvUe84o7cLKv3HGUCL63nTmsAa7TpjIKtDQ7Cd8cbJ0-NeU5kpKXvXZd3T5XLxxaNRjU-l-y1jBK1tdO+QipysSAZ3HMhDDUDkNFs80WsZAWo1Vap5JctYhRJZMghdiVb92uU2RFbY-nzm8fax1ZoTU+tuXMjMIaajBXlHfcNzY7ktPsraku84FXvyWkYFV4t+7TOTEmk5OlAnBseaG21+bZn3I2babZzk41k1upWv1KaUGmtcnGs1djEQHXRLgTE2IoBwEQMgdARJNCcvFjsXkoh+R5xZuKDi3is67BNKMNURgAA+m6sLTsYAujdoBt27usKaM0rA5W6GPU0GRexD1bp3Te6wm8WbFzMsqlWOwqiilFD4JZfzSAxEqCwUUgSV1XEimZUAAAyaDoAYgsDiFB9IKGJZAe-R+mOMiVQbpXiu79v6hD-q1dFMR8tioqzLfaR0OGl14cmQh2QZidmYYcTxe10CoMZ3wyBwjHBiNp1ANFDjM5yO9BViJoMVHcNJAGox0x1QbiIYU1CHZsIKMx0k+rVNXHZMMduMx5jASOU5vJH6FZBbI1OV0xySZX7eN-suX86KzbjkmTE6ZmgrnC0mWjTJ2zmwaDyeY8FxTxmOUq281Zh6Om3TjzkwZxTRmzLqfE1hgsDYbmJui5e+Ldns4OaI05kjCaW3UA8yrUrbmo3Sbo3pwL8HEuqdC6p8L3dKuZd9dV1tYq6sBfXi1hwyW3SpcnWZ4+7BwJvmlV+fzkiGv2Z-Y5+g7ZoooWm5eGVgwKsx3W5BdxMFRgxLyw1gC3A5C1uozYFUyhBtqfa7tybqEnoYT6-NgbTWhthZSyZz91geVP043F7j+XgNLaKyt5zAOBnDB22xqVm3ZtvfWA1u7ATWNfPM4IU81BzyI9lXNlH69Ft8YE3eHpRgXPxxx8qJO+PtsRZjq3bcRckPA-q+vPhzBcDticA9tjzOGC12OyDhrXOmbth0Pzr5gv26avZ-1rY4ued-IAMy-fS506hyOePg-48VwT0UUlw6+cKrX-jby1RO5zy5RvB6MT0SE4lGm2MpKqUw3DxgOdbDRyl6XZVcG8pfpbiRCXlOv39+LYO7vBlL2t1sYbaTI-jcSbPEaKS4+i+J0qO9EeXeY4m-0qJ8u0nx4SbIlTMaWGjc8zxH5hOifSIK3rsnMUfkm7Kmb+vOvJlLOiu35QEL89lVBUChvYemPfZGxjsqOwDJGXmT3hbzfScG7vMJoaC+Mwd-FojGbBOl8feU4n0bEnQ6H5959yv93h-ixNjVGQlBw5l54hXp-zu0tsdwe7d-of9PKd-2TxoGjwf1-xf2Y0AO7TAF7QxCxBxGHXxDHTQFVzGwSRzlVA3DA0mSyhQxAXQJn3FjNwOhkFBkOzgmUApW1ToTF1ty2h2j2g4AOj0Qp1CAOw2COwoJe1dVvxTzoN2iKGINwCwOXzB1XxW1wBij4IYKYMZy-2Bn22gnYLgkqmEJty8m50qmUD5x4JoERjHyEOXV7zViQQlwkNAClx0NFh4VpXpUUgMPoxoPUNMOUHVwIPJDN1FTxkphnFUKV1t08KYEd28OGFkILxMMCzDRQV8LQMK31xWxdSEwCJ33JACNripiuSiMMNRyvy1hry9RIC1D7DFBsMxA1R1hzCyPXmY0zVr1wX7Rw0DQcKP1kBqPyJDEoF5F4gwnqOdHTlsWoPXgg0qkUO4N6GCUA2mBnjnh+lKNYmujeVQP-EAmAkUIu2tVHkDmiNYOuCow2JQQ-1qMUOjQhkULZH6MVyC1uB6KYFCIDyOMDmGJVDOK9wGIT0U2uI1zY2pW+mRlmIvkuz2KZVAGNAnEmIqKaKV34FFEAzWLtCt1wI8ihJhMtAUQoiGKINWN2OUBRPdBBM6K4m4nGDFBhN2N0AAB5ETiSogMiVpdkjAYwGAIoZBooAAVbUJYwgYFAKfAJhOgfUbgQyaQEIaKUAAAalAV6TBAXQalewBN0HFMdxFPFJYMCClLFBlJpKvloSbkZL5mZLZMoCRCYGSlmlFB5MGT5M3yFKEzFIlPhjVNFA1NJNtMVNtJVNcAdI1JxM+K+S1F1H1GjRNSowFVcHyImH421HO0aPlEoycVhLNEBKtzIRSBXQr1JPdOjA7AjKf3FV6Q9HaKKNFBKL+kUnZQzJCCowyFQ3k3TN6Q8HkxxIzL2QaSTGv1JOUGY29MIU4XlAQRZCrLwKAymJGhmJLJCO8Q+l1MikuxinilND2kyRVHI3qDGVIQBmCWuOujqNWLYUaAGhbMOiON2MeOdDqV6WuKAROKeJGR7NvIuKzL9KjK7WjjY1LUuyDJnNAEtBDOMDDOzKfNZAnN-JjgPPjKBJxKAriRELTLlJYJjE9H-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-FmxPa0ptu7d7B8BqmuhdsvfSiqBve3FA9HgfyA-OBwQ-etTKYauzdVfk3g5Xd5CEBqndDu1w5lXA7NizfqBCERkrIRKlfoFFeUjLYQ7I8Ciueo8-e+fnbbfIFniAQY+JiasZYeRnIpzndge49461lvdXdNPNh3Y3eCEE-Y6EqY7w5Y+d04XksfaVG3e4CwSgrUMWv3boEPZo0xeQ806-jXIM62DPYspfK+Ulj4F7bSYSSGKHf+fkw88o4pCnLDmEsShShoGZZoCc8zZieCLYhc4hLc9Ve88Y+qJ3auYEv86E3ikC5FhC9ieoCpl2p9LKmTYYCjVIEoF4mmEQxEBaJ3dc4lillVHvdo8K8TZiYq57F5CK-sjH3vZi-eci7k705M0RCf1GF8yqCbHdqKXKjEt-VIDsp0diaiB4FglAFVyal5C+VV2QOQOcFryEX4hkCAgkGUGYH9AYAECTLGabyDYcBO75nO-xY3kECZlfQEHhcHmpAO6YCO-efk1u7O8sVoXrNuD+-u+1KktoH28O4NZu5KTu6vnPbNzG-GDSABSUsZWAybGuj7zUSR6YF0RGRVj9L1HO0O44CUFAFJ5WD4uy4TCugumNFx+uj2+IE+5GnJ+Y3R9x-U3gXWnp8Z4RJLoEECQmQa0F60r3is4UtcGCRB6Z97Eh6+44E0Gh7kHwAZ6y255vXWll4F6e63lLql+0tF715e-F6IXkup5F6qMUxB7MuSA4XYQstDKwwTBTdZ7J+UEp-IqtGF+MGCT56yzl4h5Z9J-Z8U05417t58QD8x915EH16F8N6MGIuA1Uwj-G4EaGKWVD-dtVa96-KiMaaBA5-4nXC581-t4t-XKUp1-B4V5GmV+rdazV-L7N9cAQR19Q0F995sRSBT6Mxb6y0SF796SGKGPz9yJncBgH-V6bCTq6BH9GSr-cn75t9h7O+9+Iij7vPt6d+ArY2mrpGIGpPNYUqFTKaJ-1H48BE1G1GJ4pxCGxFo5Zna8TZVI8Bf5TZVJ1KZLYAC+FhoDDcTkklXHrJUViXcaAh-UgMfzSpKUgBo3QPiAkR5ZZ-AXQYJDN2ujwDiuKAtbHfyv4r1aeoQSbiAiwH2RcezJT-kV3Iy14u8LMFcGKAyJFgh+BfH3jVyGIJpN+NxGJsaDoFoUE0yKXgWKC2LyYeB2OIQdwMEFFlbUog+gaBhq7MYZBC6W4uLEUHFEWYjBVYhwOUqnkauzPRgYciYDjtTiMTchvoOYEJEPibA1VrQLEHigtBk-bQVwIIZsYdghYaLhAJ4iBUIcs4XWDFF+b5cp0tPGZMWHpC+DHBzKESvwSECFgOAi3QQOMAYCBJIsT+KyNV2p7ad6wjseTknxp5nRVBooEFJILAYaDdORgp4m33vL5DcKgvOCo91ErRC0wsQpMAIASGpcPiLBEIP6G4AYR8hJqfIRX3N6S8Mh7nbIZb3vJDEuhQTW4Ce2UCTDr8J7KPquRyG3wtwZvB3uANeJeYUhvbc9uQ1ir8hToasRSFoNfB3hLBqPQgVUJAS9D1B6lLQR8TdQNYrhXfE3tvH+amCThdIMoaeSuZhAumowdSJtWP4CDbBfQyQe6FOHfCnBDnMqH8NgiAij+1JP4QsC+GOCtim5WjrgGqDSARS-zaKFiKhA4jkuRED7siJUB0hdA-zTctmh86uC0wJBCkcw0CAxgNwX0IQA1GFxHDhwZIyEWiKuYqtrgfwu5nBgFGRBThw7OEQCI4BAjqSzGIUVPyaDMZxRCoxoJKNkgyjeW8ogRu9HkzKjtRRlU4qW3xHYiBAmzZwV8kLIyMNk5QPZpgSsHXAPqTwbILIgCHkhj+JSHUFwHUhNdcWYHDrtQGUCXsyRl7c4TqiUoyiTCF0WmNdDVEIjoB1JIMaiJ9EBimRkbRoCGOMEeCIxNMK6JiJNHX8jgWScJpaI2DWjwQezbMZ+EJjnt8AnROgReAZFANNhPEB0pqIpGuiaAM3OSOWNZ7k9DuVPMMYQJyozdexnvL7hYWbFYoXh8fF7pmVkTVM6A57esTe1J4OhGxgSYJId2ug4cKRjw7PJkNZ66BKmvzBcYd2VQyNQALJAABJD0OAAAQXADgAh6AAJRZKQAAA8lPWQAgIFitRDYMfza4ptykjY+EVCK2K1jpgy4kCQCOHZdjlx4HP0a0mgkWBS2XY6kOaGTEJgYmaE+wIBP9F1wti1428Q+KfGviPxX47CRsDAYiANwCE1-sBNjFbEuxYIPIM1Ce4rjFea4xiTFEwnZQWJ7ADzLUToF4SkJsYsCTV34mcBcA4gV0JHR6SnCeS31FUu6IEheiRJEYBSX-1YL-CLAYEhUbgH-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-OZHlQBAiyjNiBvonUBS2rXTCTBqAlwaWukG-9UhvwmBIe1vq2DQGrw00SMNGYVFHANEAUrcNOVfJSRJfFvjPx4AQhJRsfHUbyJZSutRWsfW80zQZG5DQmBGQDRoouoQhbtzQ3AqGp3ibDX2vUEDqGp1iwgZxtqXXR8lhSkpXRrWCKaZlLG1ViCvpVybulvGyZPxp1CCba808JJCNHjBB1fKFsQNhXis0xNcE5m0qGHAu7Nj9p4cGJtHgc0oh+uzm+8mdPaaa4JGY1Czb-Ss1AabNnsDhboUqRBbHNoWnrq5v83w56EwgKwMFrIDeatifmyLZkiYCihNIQgZFXFo8EJaKp5mygHVM83pbLVGKoDRI0q1th6tqJAThyvLFXMytdUjzdQDS1RdGtvi4wNEuRX2autjm3rcP0jYtbhVJmC9cyWaGKkBtlbIIl1vK2vRKlMcILctp+CpbSoo8CbQatq2maUttAbrRpK21ebh2kSzdizFgjvBPgvwWQD0nm2xLcEMWlEJtqO3bb3Qu281mNsCD0r1tHW5LS9vS1vbutXsOmfDC+2jZpt-GhgHNvlXaqpqqW5be-Rjisw8t9IWGHqqtWrLyx2K2SedghX4qsg4O+BEcwcCPa+VaO-LdqpOZg60xqpBdFaPSU7LTKzgRfuBtSUZrD17QvOQuNkQ-bQy6K8sRymh0Js4dZKHlYquUBU6RgKOr4rRKyahC0hHgu+GELkYKNzwyjKRuey47wMeOHbMVJjsh2Gx9yay6STirklNAMRmQLCBeBKRFJVQL-QMBQFugCM9WXscIQIyuTjtbq+olLhMGdn07Kc6XAAdpIL7NVcoHLOmbztcDRRddi7LWI8oe6c7mdPYgudxH51YRId3caHfHv118cYoFOuusoDz2Scoijk4JABBvbTU1A10AAJxdAVYNeyQG2rkBJC1tVgGam2tiqwQyg0uiNRkLTIurqens9aDQARJ2SI1rgZvRhDtZ2sYoaARfUWo5iS8kZKgTvWoF5b0AaZKQGfd3tXDrosVyWd0DQDyjaFaZO-dfeNTUD77e9o8KvYdpmpPLRAoi8RXjCnA+rqtwumrl9pz2lrhML+yQG-sCKF74dUu8qIAbEWVAJFcur5CR17A06WYF67EqMFNB9gm63iYJARGujQcJA17aTnUrgiO7CAF6l0h0EeWGz1oUwBgGgdrpfMQERuQkbDgjUz7mSuUPKPAfRDhsXgpBmWK9TwbyhWDxLZFQRFhBL9V96wnxK2pK5lcuAkGuYKIYjU-qrJf6xDQhorVgo-WO+ieFQdQMdE6DJsxg0SUTZT7jArBl6uwdlgVqINlXPg+wfljiGSE+gSQ52t30b7JAbByw3lG4M5j0QXh3KMvqMB76MlAMLFbiuwjW6mywhytpsuhhO7ght0AiFCIbUB6kQ4NVkH1qL0orB8jO0santYkuj5+9nRYt-gTDJR10SBopCKrOjYGQEuB-A5wYZFEG2JpBhUuQYGEblFCOVLI0kboC5G0lrewoxFPLx3priTW8DaRkNIyiF05IqoJcysTit62iBoIcMBCGqhej+9Lo+6G91pHeaGRr1Wbu+V30iAg+dETJK+it6wjxxzRXQFPwxxzd-w-I4eux09c+FVq-5hdsU5Xa3gkwRNCcFiPJAayGKmdvSoeMXGMlR+77MLprycGaddrJrjIHp0AAdLACQuJUyHcAfMPZvzs+pg1eo2EefUJmoNoHwuWAWE8ivhOITETaYlE2id4A0oMTWJhkdcHwDYl3Q33IYqydAAAAvJ+kYBROBB0TpXTE2ax2PfdeT+J96ISeijEmOipJ3vngEqRJhaA5RyIPCfpNFBGToppGjq2eosBFSxoRUsQEVKmiYQdrIqIiHJMxH1Tr0yoMKaZM6mR2Bpo0yaceXSn5YQAA')">function stream_flatmap(fun, s) {
    return flatten_stream(stream_map(fun, s));
}
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave_delayed(
            head(stream),
            () => flatten_stream(stream_tail(stream)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p48' class='permalink'></a><p>
      The evaluator also uses the following simple
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      to generate a stream consisting of a single element:
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (singleton-stream x)
  (cons-stream x the-empty-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaWH8XqexNtsyy4io6xlurbU5qj6ipUUKc3Etz1GXJeoKMp2cXprIBt8CxeiARXySVDfZaQbl2LuVHP5-xEnAmeQ4pZywTZQqsYC2FFydy3WqcYEO7FjDrNrmzBR4jrFAubLoe+ZFClwvuUS6hNi6zgpeQih0FTUa0phROdFs5MWmhxTgPAfkGD4GYGwKAcBEDIHQHwAATB41mT9HDOBRoVbwbwKXCNsDtMoB4UTGAAD56psk-RGKrdWgANUauw5QKiiGGLqi1Zpu67TNfqw1jq7Dy0KtjN43zj4I0kJ4TwxVNZmN8eQAAFvcLYng35JTAX0Q6x41UADJk2gEjZINBarlI5tABGqNAbfUbPAZqgeurpYaujUGkS41Txt36tXUajKGhNDLWqit2cM1oI3vCtoPS5UiAuI83Zfh76VoDdWkNKhTzDpGA2oCo1Z3mzqEyu+fMlpdsUD2xQm7t2vxCo24+S77ntsiBu213bx59z3XKA9vTi19HZSSqRcox1dzsFW4NtbfEnifail4878WeL-ZIiczby1ns7RerdV6d3QZvX2u9QHWYgeUVpLlo711QczTBzeuHe1+CQ6NC4yKAWgcWWuyD8b-WBq-aG4ZJ5SMcvmIB0aTHn1gZXQRt+56cPbt3bB-d-a2NXH+cx9DbgYGYao7WdN8HYMIcI-25Dg67AWglPM6cEHQGyZo5O79DH1MYwWbQVjx8jOOQHgaIBPGxntmUFxp6pakiaAE3h-dTNRpGZ0tpkw2HL14cU4RZTxG7ADP9pbV9WHqMfonXR6dP7wvFzLGZh9czwZadPTp0ibnuMhb9SI4GnJjOZaizJ0ien4vEL2V7Dyv6yQgwSFyDLkNUsEppnSLGWayvZbrnI6s+V8Q8GE8fDrJNklZb8-Gx6ph8D4mlSNh9Y26bVek713JoxZv4gAMz5YfQq8WXNJtxt07F2jNb6M1ZPNAtrnjxmMLzlbN902zHXY5uGRen9YGLYJdAjhJd22BHK1YXLGjPPHyTv9kdsFnuyc3VbcHaX2GDMAZLWHpFFOlMPftiBAkoHvZfiQ9HJae4EaxwugrmsYSEM4Wj6Lp3NXOsx0hlTJbvG+amwzz9F2EsMe8bd1m932fHaWrWk8-PNA+uxwS4JPnjsnZy-J9zt6i0EqHR2LsPY8Ii-fbYbnU7VsNXAt2YEAuRB+RK5DDnvGAt5cRwSz6Ov42g6C0R4+K1PrUG+rZmLjPe6KC9+T1nBACGrW8IHn3cPoMR-t54wuYejQR+J3m2DMfD4CrakKkV7BxVcClWgbbA6S2IxitSWNS0Xw5tUiX0Qqu7vKhwsWxQlnnKGk0FUkZ62xf8UEsJUSxbF7LJb2YFy7fQlFHedLzxFwe9CRMv32u+Fy+6-17W-ADVZ9978mbqwFvh-WaX+q7OM3Bvr9AMN2PrMLc+fwMvl7y4ttn4W5f83bUXANMClZW-R-7+bdP5oXbOvQXBvAbMBGlWgDKO-WTMXSZSTT7dKMsH7afMLCOe5OOH-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-KwHkcgDqHwME6CNaex-kqxvWgwXecRn0sxmhjKk4-hiUBwIR7GFmqu5xifOYg2GhnQE8CximswUWA0FgB5ZiXB+IZ1TcBKLR0nE8dhi4WtNJ0AVNX0DWJk7dNJvQA1Dh5U0p0AXavA4IH8IeZCTdPJgok8OpmyUIJByR0YNBicTBlMNJimQWaEDXE3PCPJgphcbuMtC3TTK3Up5orR7x7YkJvXA8BJpptaRJmNSSeEhcDY+hjM1cNuOqWuS3RkKp3Z+0fZk4lZ+JuDMhvuT6eZvQTYlhH8LJs0A6AsGxk8FSxxwm75iieJ4h4UBNeSrZ9JmJ6xm0Ii+Sz7WtDZmNec2DUpgF2JoFtZhKF0MxiFhpk8AAcnoc3BocJfYaRJuJtDSeiZWbDEYBtFpeqpsNwr9z7iSHwfubQQZaMYXDF2GDGFhMcoamvHIFhKxAPBFYaiRjuB-BBcShCY5cUC5eRbwyVahbicxfYflc3VVe3VVZpY9DpbRJEDbo7tIC7tGBekoiTAhi+mScxBGa10ZG5Ehd5YddN00BmZayddpG5amPsxNZhDNcoBFlSita9FhEcfWnyDYeWBJGOedYabFzqcl0cyOaEJ9axcXvyFTKsAZeKCfGpDDZtedYpTDmGZWMdcOGdbNNAFdLfz7JXMuNTdbRaE9anCt2rZATRutdhGDRgk9hZrzYfALaLYjbCdtZAuINamLThXUdhfMg+Z6FCBUM3TpB7YcBEhghulBzXfDY3YTxjdBYtz7NzV+bkUXbleYD3b7bWnYePa4znYDc7uDYtbgIaZUPvfsX-PDv9fbsDfNdDd3YhkjYnczY-frazKA97c3bWnfLvLLecyUGrfpNF1e2TZPmbcQ4nbcX4RQ+zm5DcUnuPg6i6lte4JLRUITZIc3So9Becq+iPKvFvCsFmdZhI7It4drYgJ+LI6ZYo-Bdo8Sm3UE7zHo+5EY+ahY69ZEAQMAUA2DzFcYAnHIGoG0nuEzQmDQRLb47zU6iQ59bncU5FeiY08xF7aU5UR820-cajxw1k64Ww-TzAC9wPFhS2H+EJqwTIlPKDXIGgrgrYFIHDXbANFAG22QgcAJW2wLwL38AU9hCTEUBVFCdMAGEYE6TtaZNS5GIy-adAAVrGEGY5hkCS9EFCc3U3Wy-S53kGIqaq9y4XGQQS9IFK9Ce3Xq4Nhzb9YYXc7uHnopUiSTAxF6+6lUjF0nhG4XnfK82yDyBJOS9sB4E0AW4W3vI-j+NKBG89ixES4W6W5TzwxaT13+SXJ6HVg2624KIK5rerNkwK41LtgqmdPtA-nq+2+a9a9sGlWVYcUIE25O8ndXJ4je6u5Mnyi9TGBu4-Oznu-ujvMETNCWna8mBy8B6iFjPR+VjSGI3oHFc+-25W4cMoLW-Jou-+Xe7oF27K8W5+8UCO5G9O6B4i7+8u9zWu-vMRLMGO8O6G8qBG+-ftBUNrT28JvBcJ4rI9F5utvEtg3p4B7R-h5dPJpB8vKp4om+4O9+-+54Ye6CHVhB7Z7B4VkVvpP3h6FHO561-56wDN+DJUJUPF7jgF5BL3RZ-l--Ft8e9Vg5-N65+R7S7GCJ5qDR7AqjKx4pIfUsvkCC7oSh6WjYBaYxLm4vZkST4KGmViAT9PcKgcCU5T5MWsFx6U4uKeNqhYAk+Y9ABc6BQvJG5vM1LCNIij-ICC+YvJur7c-J9UnuxG-nv-A-l889g7+U-+QyrT-yAbRYq89UmH5UV75PBz-FYbRMJANKEKnJC8C4csXkIl98PI7kqOlIyD8l+ibX+BhYNIxSXX5VQXs3TP435jVP+v4v8kyv-P5jX3+3Xv5v6f-f-rrrFfJH8mAwRffjtxa5ADIi0TGIhvSAG4FIi+-Coqv2f7eBYBlBD1u4S64kYZgvHGzsy1XxmJxOtTeTjjwlpUBTohAnwm0mPJz4RIOiWwMFxMh3BGAsaUaAMHyDDgDOCPB+EMx+ATsfexgAJMgKCTID-+dET0rSHQHBFde62b-l4HUYFd6y+XagX3joEMCxgTAhjsAMDLLJYgbAm0LIP5JRwDBjPdHrhwQ6UcM2-AqdioT0EKtq2mgWwcJwzYK9cOXAmWPGgI4Vxw+62Wwc6y65XFbULAe1l1HnwTBpgRQb1PtzCFmVg0dAVbjp10rKBhsDTaIREJEhxD56mrcFvDmGzO9gaSjRGIEOCGxFUh3qQoYkEt5JDfW0vQIKUPSELZOOhUA0HcHboApwhkQzQHUPsDxDcBJOZ1HQGSEkMuhGQsDtkOgwDDfW-XMak0IPAtDaIdQxQMMOlTz08hC4KYYlQCEVC90w2FnE2nKFBD8A0wVQPZkYhiNG+u+I4cZGLCmBEgtjIoRHRICS43cD6Q4fICuGbCEmHwzLv0P2GQtSc2TEYLMNtTzDHAMQtBPdHhy-C8h6wggJcM6DXDAhdwrYYJl+G7C+kS9efIhHFpyIrIQA8UNDHgEHJyaBg4QX-wbqACWGO-SAb0NAAkjQeEwY3oVxIbQC0EeI+QJIO0Gxs5K1jA8HWE8ox8DB9yYwZ0PZFaDfCXXXUDyKLD8i+ikokUQSPcL783SLTfAFemKgbE8WqozeOqPYbFc+4co0APiL0ANM3SeKLkVgOPCSjjRzIjESJCxEyQcRyIA0fiI5G+Fsmdge3vID0CpowWR0I0e+zeG8jbAMo5UlaNWFmht0Ro8MUSElEGg+R0fPoquy9HRiDam6KMffQ8jAV2GJ4LUXcH5ZdcgukwHIJiDrBGdzm5nF4JoDzYGi82hI-xOTRlEDY-iikT2LGKDEhjqxoossbQD3o1CFwtYjATSMbFZQ52uYnUSQ3+Fci+S39WxPsLoQJimxCkYBERwfSEAHA--CYNSGbxej9+xqMEgqytFGsrAvnBEbcOS4E8yuPQoIOt09i+dWuF4ooM-hpHfxDeDIiHn6FJzOI6AmAsHoWwW6NBtxe5AQeTWS6ewkxy484X0B0Stc9AWjOps4mS5rJv6oAMYgAAk7atgAAILgBwAdtAAEpjFIAAAeVdrIBVIRhVCvgDMBBczOufWhG2MsCuiF6a4qir+MAlxjIWJ49fjSD7YVi8E7E3kZmxPEyBKg3Y+gNE2Em9xaJ4rfiQvTQkYTsJuEgicRNIkSSue3E6kLxLon8SGJxABeieI+EoRfxtgf8XNl0k3QTwYk18B8OIEQ51+0kizskl0lMT9+HwuiEcJZpOJ8RCxGqhcULHJgSxDkvCN5PL7ci4xTE8MVRJb4BUxJRoZyWKJZzISpWcdEgKF1UgAAGYwqNCKg3hqwCkdTm6wnCUA0E5efKaSFSkHhPYyU8qYCIUrbEeAHyeNNVIGAVTGA0Te7DlJ+Db8t+-yTQNVONyVs6wxUheioVaafYVC-UwqSomKm08iGR4pKG3C6n-I7AhUWKPlNjSvcypA02FMVMMIfE8p+ibaUVJKm2xRohQ+4DeBkAphrOywDVNBJLb3RFQIBTqZf0IGTSK2O0yHkgl9HHgROJDFQudNsCXTpAKYGjhmxTGBBAZwMlME4OjaytnQWbQjpBKhlXS1prDLrhMBCGdIVwCwQgRAMVHSwzppgC6ajL35uCEO90+OPaDXLugSuQA3wlD1unZwa80gsqK4OWQBJSRD-UQa+SpGDiC42cUoPIKN4Q95SoQVUarHlKxAUZIMt-tzKMEmDHSNvRXt6QZyUdrRtkUIDLNBliFJI5TbWcqQZk6CCAJSWvF4ND5TsDZfglcQwVtH11nAgkBkP8B6kecKyLkokQHTpG0iRB5IqovjKkFpB1YJImpuzzcFLQSAhxYMQmLlntkjByAm6BmKiDVAmJv4RtvB0fh2BoJ1QKWMrTwCTx85jsYkUINUiCjfZZaZOQlIe5LRg5r48HorEelKDI5IYo-onOMCCi457-O6LvG7nGBIi30lkS7LuBB8U5ysMwTxExmoI7AhwCuf7MDIeE85BcpmfGhzFqj8xo8p7veWNi2jB5O-CudSKrj3oCUEc24lHOinN59u+QDXnWMgnKjT2Y4-lpqNXn58tEYgWmfqIvkLYTRchd0bwPyDDZG2LIFkfbJ1C8k4Qzsv+YTSvnuEf50Ey+RrMShAKsRjssBX10vmE19u8A7qmAHzmTwf59vf+T6NQjgs4FDTY+RRBDHbo-51Q9IJQoWwQyogZC0+TH1Xa5DW5HwVdnQrYUll3CmbFedqLXmHzkCB070MllNK7i8KVWHwKIuhj4F8pRBDYFMDXGMhkpt-JXH3BUWcdqpPmFReIpZbKl2u60+GSyF5bSBLpRQD9EjA47sMXcsGDRfNLroShkpaMnfp2KlH1RQAA4kAR7NkhTBbUdYZKVVM6ADwlp-wFaQsBUURJyajCkcapBYSMKOxBrUuoGMYmtyFFsgK3L4soQqL6FPQTxYGUal3diAkcmJXfKfkNNJxdHVlPcAZbOKQkYSTJf4vWkpjpxZgWcTcISbRLeQS4xKWYBQnoTbAeEs8AABk7aZElxL3CykQ5qJAVZKXFOSXuLr562FiRuJpACTLAnE9Sb+ODSzK1lek9hpJMqA7LOOBy4RUaDkn9LBlIy8AGpNGAaTtl+UuZW4oXpuT164IgyAZLnEaSTJ1PACeZJyXpBZFdwayfsJ-DhiPl7SjKuh0BWiBgV7SmVl1zro7L4piyuMveH2HuT5AnkgyAErGoXEHFwi5xaLzcURSnEUUmiUivmVMT5pcIASPohqWuLwpYo08SwGeXorXhxwzktwoHiPV7oLy0+qENBFpCe6C4BWJuz4nJIGVvIklR5BhGIqHlirRJTqEpUJSlafpL4V1ypioNElCqg8KEzVW-CBu5NV0IIFvFmAt0enHVYawaiaqGW9fKdsapIDCy3x9ckhjSpopardVlqvVd+V+HsMHVCwezkaFVb6r2l80i4BpNH5WjdF5LbwOBL1l6ooJ2AuNdSpU6mAgp00oaWxLEmxoEOEa52dmqh4fxQJqkL5aZIeTiq9JD3D+NI0PBlh01bSwIenR8jgrERyXI3BWthWBC7VQQfIFgla7trtJtATtYkEHyC9wWYkzQDCJrWmBxEYk5lSYJVkxkp8rMFQCMQmRlSG6Gk5xRtPJq6TPYaSpRYcAiWByM5Ky6kJGvmVUyegRasrp7FLU-KzJl6qteTWnV1rqpHwptR5BbVniyukrfKcOpYDdrAgvavEG2rwLJSANo6s0BNPymTrOqr68RO+tRE4cN50sdxApzGAiRqpIxetQsGzW6KnF+GhpqZ0I0VrM2pnMSeWsHWVrl1YETDbhqo0yTaAsaVdWmrnWbqs1ZGyJQHQqBirqNOSeSVhJwn4TCJJE65WkEE2KSRNKksZSoQnXIROqvG3DVjkgknhcgUTWjbXXo1OKdF0sVjeuv0QcbNx267jbJCU2zLPYgmy5aMtthWbhloy1seC2SlwbHq5mh5e+SWhqacgGmwRfKlxyGkgYtNNqF9DOHrZEhs0TjpDg2BBahAIW1RThgi3RN480W3CFG1C2orNecW6JkLHfrGUYti+CLboqZKJbNNIeV2Hltwhxb9+YM73ElvYQVahAaWherDKDzZTRAngBsCJBqWFadONWoPMHmi3UBVpKWxra6PnW6KtygW4LSNtvqQsQ1gQ9hoNtWnJbaA+WhzjNq4TUKZk1S7VVFtW2VaNtP0G3tL3m2JAWcIGjKny1hI2rEl8BVbUNpo3B48tD2xYTYDW08xTtLKibblre3BaGts28pSPHNG1S5hbQsEcKqJA3bPVkOf7XiFh0-QmVXwk0J7xyqdVnty2+rb9sa2va6A72ruSCU+1IYLtamxgNdqqUeq6WFlN7Q9qLru52tp0LyIjoNU6c3J7KrFSKqfIJVjtywcLeTpqVFQOtwjCnZS1g7-KzQLSlTgyjnHAV-AKOlkBLobW3C+5Pc2IKTmR3pBCdTMYncKzJ1uAGwwuz7ALobC06H0PE6RqjBungUqlmg3+v-SpBANcQ80p9kGxDZRxGdhO2GJ+TZUeT7MNkZUfFRshm6sESgHPmIjIGox96iLBHZQP3rmIPW+VDMfR3EC9i+xeBC8ExxaiSjsyCld8ECVebdyUdJ4Z3QBxegysFmJ8FVDOKl0Qq+5nzcZdIGd6a7q4xO4vS+1Si66vwCgA3ZoFb2u7KCxhD+EqELaWVwhnsAAJz-hRoI+sysyuUAsDj40+iiG5IpA6oVAmgPSfeQQ61lCM95dOchCsAFF0pjM2oTYCsqKB8W+LBqGgGv1Aa2ZqG+6IvoVYqBFZPQRfcyvroGgkRQQm9DdCsAfgL85spdUEDf3L7P9PMIfeMFP3hD7FpisyhYpijNw11Y2r4UqJ9XtKtdfayybAfMV65LFHe0cN3rIjYH4D4o1ClBzsA1LCoIGhwgeHKBwgXG3ipSK6E9hDtHwWwQtuQe3GGgQ9xAEDTQ1-DwqT1yEbCIwDoOa1qmp7OEK0RFZQ9H9mVXPeQY8WJLC+fBnqFlXHqmhH9+rT1a6BChe9KoGPdWHOpU5qdMQmG7GLoah4kaypOGyjRRorV1L6WL+7geYloNtkOoEh1SNdm1Fzpj9xgOQ++ECOXkmNWmzTmocCP9R9DAiDHouvSABHAjuehlklGbGM0EjERtHiAbnG8r0V7OgyP7vlLaG6WEO3YqHu2DXBUYroV0ZOuT0EBOqugaoVDqKOVGK9XgKvbPtJzBY4ONszxJDmGB0AbwOqKg1gh3UB1mDqkVgyO04OOQHARkvgzCQEMmDHyA8HJI0fpaS5K9rS6vYiI6MebdcTJHwiyWHJ4FrwfraKSqkNHyBJAWTXeF83RbC6jJpA8o0oGaPeE5CCOuPbUcer1H-BGxyXbPrLwIDwW7VGER0bWTkH7j+LIzooD7EAAdLAIRv5UiQTD+AEYgkzV1VU8qkkWyJfrwIiG6DHHf8OCZqWQmKx0JmoXCYRNYy9cqnFE4wASYqFCADhG6KEwZOaAAAXjnVABwmogry6k3RFRMfHQmHJrEz5BxOMY3DDgBtGbxGih4+jAx48JCcRN8naTCTLakvFexXGGopQWEqQFhL8tCI+LViHgCJParFTVJ5EwKbVM21NTeBbUxvj1MysxT-UIAA')">function singleton_stream(x) {
    return pair(x, () => null);
}
</pre></div></div></td></tr></table>
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.7' class='permalink'></a><h1>
    4.4.4.7 
      Query Syntax
      
	<span style="color:green">Procedures</span>
	<span style="color:blue">Functions</span>
      
    </h1></div>
    
    
    
    <div class='permalink'>
<a name='p49' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, used by
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), specify that a
      
	<span style="color:green">special form</span>
	<span style="color:blue">query expression</span>
      
      is identified by
      
	<span style="color:green">the symbol in its <kbd>car</kbd>.</span>
	<span style="color:blue">string in its <kbd>head</kbd>.
	</span>
      
      They are the same as the
      
	<span style="color:green"><kbd>type-tag</kbd></span>
	<span style="color:blue"><kbd>type_tag</kbd>
	</span>
      
      and <kbd>contents</kbd>
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      in section&nbsp;<REF NAME="sec:manifest-types"><a class="superscript" id="4.4.4-sec-link-2.4.2" href="./2.4.2.html">2.4.2</a></REF>, except for the
      error message.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (type exp)
  (if (pair? exp)
      (car exp)
      (error "Unknown expression TYPE" exp)))

(define (contents exp)
  (if (pair? exp)
      (cdr exp)
      (error "Unknown expression CONTENTS" exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPYZ4AhDD4MwbBQHAiDIOgfA8Cy00qIuDmwlqyh9xBESyAoSgepo2j6Ay+VhAA-NYty36EABcQtIuUz82A-GvUI9hC7BAviC+XoVJlTUhpcoswD4mC-tYN+cUYxTnPKhT8YUb4FVAA-HeZVJxxhQc2NB6VPIwLgaABBUgkLvlQaHDBBVsEegXMeZCBDZxXifKQzBFCA70RdPyT+mCGHJWdJqfhHDiCHzIdw+KiV+jJT6vxCqAj6GgBwYNYqsjaDyP6qlBiJCJGwK4TsAyqc9HxDIQ-c2kgEJ6BMRJJE0kMZQLIZglIJi3bONcV4mwnCCrcIhnzQxKi1EBIMNzG6L0hjQ0plA1RBipE7Dtso6oQiypJPEZIoxERvJRIphdIJKTVGMJyQ5GW+jMl+PZLHYOtCDQWLVNUkyODL7-BTgokKZjTDQIMdMFxhRWpqRAbJHOeculxMPgUwob9vDMCONHAAqsQR65cADuWJsT8lUFRUAABaHZRTd7SWEu3QOcgTLCFmCMgWlB8CgD0BEWilAWCyOUEsGxwhGS0wLqczmjznlUFedYvSegLlqirkzGwnRVFyFkOIW59yoysF2NQeoQLuogpIJ8n0NhJzAjoIrcgoA7gHI0HvFOHiPm9O8V4vq0liBQgPocWgTk+nUpsCnexUkZIYuICYKlbLvEjP5QK1xbSJFMtEVMD5hEUjyykHZEBeg6IEsmSohVi4ljFjpVMZVchTCsrfvURozQ6gdEhdC2F2LrAzOoD4UFcJFnLOoGsgg1UOa7BkLs-ZPzqyQqIgFAZighl6AUXQbph8vmC3LqPWSobVWhAfsLOBb99iHBDRfMlnc3TdzjeGvlrKbCBowkuWSI8Rkhpop9PNqswZqJkaVUx6DykC11uCRgS502HP+L1fq9UWixJgfG++JKWl6B7bRdR9AB3xNcdMjN0kx2zXaQHPV07D4xWqiE8JvMPp5q+Tcu5rMWDs05qEomLaNgQSNU0YgLQzXmvkLCg9CLxgcjJrkspxhPoXsKOuZpmaMbvtKTjIm0wYH3usFCx9nqrU4qQR3QDkRjDFs9cSvp-6F3oylh+kD1M+Xga-s+7JmYUMgqzUht0ICsV9PXFh99yGQEQbCFBmFMGaMQS3TzA6egC3gWw8BmJoGCPVG6KEboftqpFpICI-tGl65AjlU3JWcmh1YNAEm6oKaDg+DhAAKmk7w29dRdOA1AFJxEhn+2BhU6GAAkKEf11U6Ah3nCi6chC5yjJbUR7a27uMjkjXBks4NqZEvBn5yG0sYbtC-optmHMuZcfekTPpibm59LfoHLUNwXMEkIO5th-RZJ0axp+-m+aRWhGczkPLBW0Ixj0FY0JvHKt8aA9ExmKsZUPtY4F-Gjc8GNg8+wupXif4wkG3VohQDOyMgyzsKhKFhudNUykcbUpFusPq-OHEHYQwFrfsLJj4mt6qjUek5tXzcVuzCy7DxDImO4o1iHGFYXquufy1tohsk3ZMlCLigzcojMMGJeZmTrRnvqAhQXDD-w3bCu8bS7LShxXMElbYzWUPZiA41C0MN4yS7tzUSUjr+8DFfPkqoZ6bU-Skd47DpVJH2m6KbfEBHrWCc1u3owkRZW93YtxSAsLDPeeulIwyPNTGREzdI6L7Uu3QIS9ACAyXCmIKMcc7Wxhm2gIjeMPzoE0uFfAI1XoHXNDMQzc8YUBn5vlttkVUrmB7OfEGLePDAKdakH4N150g3oQjdgNI5Nr7wFjezZd9a+d3bvdDcKw703TuelfwI+8Weel56L3YCvLg680BrVO2yQY7b-hURbeubZDxiVRCXBus2VO3nAs5fYGSsx4cE4py1X60Zj0ovpWig8gMWvN8cfj9vqf26IN76i955fj6nRyjCfAhYe-Ipn3pU200OUti5U4-Ac-lqTDauNZfoBOpZzZOS6gxkQUH8pCtE-sxJoX+TnpFHygJVOX353w-mMxogtmA2jr2misXVUwi1VdDvx+ilDhDAKXFMwgP5CHh2DgP+Cox-0bnvEjg2w1ULFQM31VFQMnW1TNw1SgK9igjKCoy5zOzIA1i5F0Hf0-xxhgQwO2EDAnwChKwXg-lYOxX7j7E4M3ToOoFkFdnOUkk0g73MAc0vVvFTTtUkNV26FxQWCWHi05kZTRwVDCyO0LzECsR4JJHD3xyGXINAAUOUg7FMI1Tbi4MkJm2K0kLWFkILktCMJkGQI8JQycKRBcPhjkMpEDA8JoLZCR37y0OZRAzARsJhTbw5HUPJ34Jai1B0AWCsL1BpirzM1SPSI9E+hcQfksMMMkIyMyFiKrVAA8ASPf1W3gRyN0HSJMLMAAB4Gi0j5hSCYU6jv5VFGBZk9A4QAAVDIUABSYgbEMFHQdwGGcGABOOFoN+OEUAAAalABazCEMGiF0BuXdhiLMDWNM2WLWI2KqyiBiB0F2K6O-QNT6IGOGNGPwBkBWSmJmMpjmOqUoEWPhFWPWI5xC22MuPwD2OsIOPhELF+NOJsC2IuKuPyMJwDQyH-kAXD3FzAX93ZWEOUHGAyCUj4K-gCnezKLiOVyhx-VlXnyU3pH2KhOwQkRxNrh43+OtREIYJ0CYO0JYIMR6M03BjASJUeEJhpP+IfktHhKhPqKJJ3H2NmEDHhL+0KFE0KGfQPgFOr2eA0I5KiKQL6zCBtSOHRPhEWXSHqHUyRF9UVItTYy8VxQ8LC24NKOE1cXXCJO8JMJBWcMjxFW8ODRCIVJSCVMgzV1vAPgZLxLd012mkDw7DRI7FmA9AxOsE93pN-nDIjVgyTKcxc2JIqPJLCEU2FhzJ5ITXGTDKZNazenoIuK1PR0HRazfnDzVMLmaNOIflkDdDFKx1JLkGLLCAbOzOlNBNlODHlKYzEz+OVPhVVOyLUKUGPQS0iMlTzNCH1OJMLGNL7zqDNL+C9TVEMz8n9OYytN1P+3gztOJQdN4IjK8RdOzLdJiI9L8K9IFR9NsMfL+G6wDKBEDMFlDNTJDQjLTzADniYFYGz04DXl4AwH0KzD+ReUb3RQ+QnhcmzEXylHtTgoBTuhf2cEwsoEBSeSDjyVDiQobkRm9mDGlTDFxTwsBRAtBxhGflyjhFNFMxsFNG8QqzcV+mtDYusGtE4sj2YoUL4osO00EqYt+nYlEvYgkv6V+gVlKFM0UrkEwS4rCGYoSjoCDlUGxFMy0p0smIKnUtCGYv1L4v1K8RMsLV+gUgWADg8DoEBjsvmAcoYGqGsusGYpWNEpsD0ColmGxDMDuAAD5QBtk1ijLPKzNfodlfLrB-LArgqwrtl9koqhLfoTNZgUhErQAgqiUUrQBdM8rrBormLgB4q7kAq8rkrwrQAwB0rJKYCABSSq3K-K0Kuq5qkq0AMq36KvXy9q2qyvR4IKjKmAgAQgeEGuqo6sKqmuJTGqaqmDhBaLatmuGtADaOsCWvkpgJaLuHiqGoKrqoOp2r6pgJCvWqSpOu2TCvOvGpWpCsOuytCGOs6ruuJRqsesGImsqrqtCE6usAmpsDL2fiZBouiH+XwoQoPEcKJS-gUiUlNFmFothsxCZkhqeXgoH0t2oA8AACsmxGYEbqgkaeUTrhKob4LTNtJpVoqwg0bcaismQsAsbobAVJsQcYqpRmLr0TVTN+ajMGbmSbKYDIBiAb1Eo9LsqJapaOYRbRaeaVqXLJBYBIA+LVb1bFbRbmLVaABRUSg2nW5k5igAOVUDNsqotrNt7MqwhvgyZpDxMNJsKHJtuU6vcL5QsOpqwsnQbH5g6HZpxpDyGVdpSHdpOrpsZFRt9phv9qnCZhOUaXqmxr9veRIEuSrnOnMJ+UkBiEkCNUYDOWrIJtUDUGc2iHZnLOpSZsIqyAVBIsxWfMKBzhzraDCEjNVHbIARrKcnMPCIZVR21KmF4yy3pT0CZpThMNmAlOsCdtjzJhlLHtjmy0nrjrorf3xqJooHxznp9rTvjtDtsJNpsFnM1MXIVCsiyEJVnJ0A1mqLKkvtdDexBEAWfv4VZvT26kzzAuXggu4EwBgpmn5BTAoEkB5kMHQgUkYG1kW3MIVk8G8EHCRgHHgbm0KXMhHOTFfGQjtF+LhEkGOIBNhOBJQYorQZwYAjtC-jfm0nQZwpmhYAUi5nsWkkakBPk0CO2FUFIFIHcEVj3gMEuT4dqoYDWL0F4dICbLhGWIflkfIXBJ+LWKkdPoKlkYdk4eQP4nIA5l8EBKztzkMb7V0fyvMFs2DMpBhN0AIcGN+J7xYdkDYf7XJrbp0Y5kMe-QIZMDhEYfcc5kcRYEkargQdcGbmCdWC-nkeFjhFoeMRhBzjMHODIRfULMDESbMCCELnSZCbMAWvhDvhRCibuUtESZkcKcKJAaiF4bdEgctxge1kSZcTfhfVOXjlDjKeSe8R+BJDaR0SUQyZ6PkbsbWP8eWG8CCdKfBQifwZOO8WWOIdRIgQ-j6cUTTgychPmeUZ9vsAS0CfIcoIieGVyc+RWNZRRFidnR2dMcGOksMdjt2YCYmYwamR2EsKacKX8cGJEtmFyimdWGHIHAyYedMfGcYBYFU38XONiA+cKHkYAHJiGc4CHEW4nrGgSTJEm-HNgEseZGATI8WzHLHRQwmlY-gkGfBLRCW1GvFmKcg6gjjbUjjy5FRCxZRvBWWvJFY7oXm1trm9GqWlx8XvbAxqWQW9nnm4mvnBXvAxq5hgwxX+XOZqXgDVQy6K7SAq7KMNV6pNZUoK1dhQmA5PiE40wFFVN1sVq2nTWhJZhVmOkwpzWW6whyb1WORNXKB2YUNdXbpORPGDWaHeSen-hzXinmLCmgYg9lmSRzXIXVEaJVW2RCWdRNkqIfX9XzX914UIhrXQ5Y3AtbS39Gy0NqglmiQVm39mclFY2xyQHDAfa9XOQxgRkwtybk2cRU302-WpjY0aJPyC5p7+Tsi4QRLinLDLRaJG3ZAoQrktJUGyhJ3fXp2Y1A3XnB2OwZHpKx3mAl3m3wU4n129QZG3XK7PXtXPRLm4WxK01D3MhnXQhXXy73WtXvXF3Up-XY243LDb25BY6p293c5DyWMn1s3XBeC+2f11xw3TMy31JwPDWgPjzYM-0E3vyu6nQm3GBLdyAK4vAA46gGhWhM3kjbx3UQ2+2ZH2WsPfHmYoyCOeFZAsP0IPFiPiWKDF1+Rosa2iI8Ba5vBgIhhkJUb8s1R6VQBRhyBcBgKs9SB5hFJHFQA1o7lZBpo1p8989YETlORNY9BnpsRZg7BoxGA6guGC4VLGcjOTOhnQAhaWhmnVE9p1BdOZB9PC5LRDPbUrPeXBFC4PPjOCjvFMttPSBnPXPAw-OvPE2DCG8XhkI9AW0ntMcypBOsgwtmLdMUuZATNDzES-4AFQvJAeBZg9PJBJpdTcV8UPBMuwtZQdOSuiv5WBxIdkvqHDzUh4VKvqvsjbO6hlyC4eva3IMkO+lcUIuavguCv+BAX6RCAqvWvBuih4Uxvuv6VjVhaTzf0r1Vub070+lgPrS2V1xwumxPO2vFSv4fyfzYp6AOWCuGuSupvuylw8yKvZuuu9y6A6uXPCvpuMcXtYush+32vlO3uAImyeu+vH57AXgmukuAfNI57LDcp6vUbtNJv4yyCaXXFAxmv4fRwLvhubT4NluPuvvOZHudxQe8GzuUhn1lvHgIfAt7NCh2yYeZu5uhOsBmf-jLDLCHuMfPQsfqVKeOfAfCJufQB9uNuUhWfjvLOBfnuFuxMLu0PQgAoDKtBZPGs8z5JN2kSAFL3vEf59fdheM342Bh2YhGPFQNiH4reOWNjpl+jbVGt1yllVlnA+OiFdzMuLSgzuHnANfyBZPqL4MveBOwfiUrFMv4ug74MJOwtw-sOAJbmTfqwaKRPiUk-0IY+4R7fqPWaAorEPAYgEpYhFsFfPC2DcK0eK+nvPDGGS-6VqzFs9Am+y-Vhq-C52+LjkCe-GDFV+-O+SOgjgwh++-S-qyC6PDSDmEsg7XnCu-auQu6+QjGHB7Z-cH5-6+F+-Cu-iiYuh-N+AJK-va1-0ObIjwA2u+9ZsCpgFFCxCnQjvgSw4xXwF0H+mAkRsdiATT+8jxJAcnelFkEYAtoAo0YXYE0go4Zk4Uh6ShMmADaQ862hKIfrdkn6MFp+jpGiLvw-JK8C4qAlbg0B251AWsD8EgH-yhAACgBdQEAQaxwGeF6yM0SAW33QHslB+rAoHj1hA5wC9gaPfNjAID7XsfAEAkyJaFjazARBysT9gtyl4CCYcqHETKrwLiSDzWUXLEFEGyAsBjWHqfvA0CTDYh+0dABrnoN0pjA6AZXEfiSypIGBOoxTEwQYKhDmD4uUrNHoTE6j3s-KYjDQb8G0HI57Bhg7wVoJ3DuD96-xfwY4MmjIEYgjiLIOXRQj6DDBxg+QKYIiFGtCyRgi1qAHCHSB+Azg3kuOz7AZCPBCVWqtEO8CxDAU4QvQNkKcFC9qg8XE6lsU0Fs8bB+PCTGDCaE+D8ASYIwIpB5RAxzC3QrQHSkiB2Bfg+jZoe7UzrgwS4XBHoSMM6FBNFhaQ8JssOKYaZXmZQ4utkEqHJCHBNdAqITECEm0GhnVIYboy1CjDNBEwnwRZDGEQsESm6KiHSihA3J-akwHGHXwoiXQv+H5K7PBgIFVFWB+decDP1X7OEmM64AgQz224mpimG-L4VoHoFfthh3gecHZS15D9SM4-WYN8ORFqCxKFwoKBiM6L7AfheI34VX0sHOBzyjwOEPgHNAtBlixTekYyIZZxNwkTnMkbiK0BmBimdpawHEwiBX8yRfIwpIPXzqKB6wHw-hNyKyFIjKRcbB5Gj1FFnALgyotNN8MyFkjHE6IzXp0UDCijihmCQMFqONEFQdRaIyQCSIOaT1eR5o5kpaDNGhC2UfpOJqyLpBMiCRbJG+m2EWH+VzClhaqqcLCrCxn+PURYFrADjzgqOV4WMf0FmDJs5RybEIv8OCwki2o+KPVGFktHEj9RegJMQqPjG0BZ6StNlCmIhFscxi+ozMQShkYMjPR7IwpBsJSANkLivonbIEMaw1jdUpgAkYQDEKl8+odorsFWJPjQt9AE7XkeGPE7Q9-Rene7i5wsFAgKuYWCTqF0XHYhn8VYkHDCKIEmo1MwsRRnQAJFDi02JXQkCOIS7wY9OYWKcX2LHHwCfAenMwPI0KaKM9OYYG+qACGIAAJfWpIAACC4AcAPrQABKQxSAAAHkzayAYlHoXbhPFg+rlYsVOlzHEBkRXfAcUsDPEjjdRmQiTiCIaBURm2mHDGnhLRFxtCJ6gMqKhJPG0dVQ1E0oAxw5ZFYGh1In8f+KAkgTwJkEmCeAEYaESzxpE63mxPQnmFCJ-os8ZIAvHjRxJbLMif0B2SLDjkXBUvixKY4NZ0JmEjiYsOsQ9DyaBab4e4AKobFZOTYR6NGI0lXhjJLAVHkSIwmKjihSE2TtZLEmoinAyI6+vYFsDct1EJABTsSgAAMHQduLehWS2Q-JubS3JQFaDl4-J0YAKd4DCztozwiUzjowF+I8BIREEVKZqj7yOJGGVicKUwi35oEqGQnXyWeGinoRYpgYtHnCAjZCClUUUk1sBFim-d0GM4uwBpFKkAQpAMQFqYDzTH1s8p2gmpDFK3LwTnikU6qW1Mmmx8gQAUDQUsBWTqBtYrHaoIpiv6ZtUs1Y6nCVNb6f8xpNUtsHVPmwaifAobMbM1JWmSA1pcgbWGIIg4Oj+KdgVaetKkEQceS0yBQX6kEF3SHp2sPKTOIaA6CTOBIXIJ-3BF79sUy096fdM+lUjCMoHJhCGmoxeIVSjnKghVO36eEkBAMkvHgKG7QZpeYQa7GgOb4YDQRjpfES1ihHg9YRRmCUg-AZGsYJSb8QGZ9KxGD9OBX5WzLIPYwoVLCVfUgXMARlAzbR+MxIAEHFkyAPpj0qQd5y8Rvw2ZsgGQUoP6zsEJZSMvtgSIlFvDkU9EOLnXwTKKiRpKA1gZTI74gjrEpRGGbgKBDPpUB+TRnjAPXAkBdi1o-MTzNNw4iJyZY7sviIDmS9jyPmNGR6CxTMk8AumWOV-GuxWziUWIzAR-DNnn8tpEEF2XuLW52cbpns4Et7OQnH9Oegc32ZhBxFc9bMzPEIvNgRG4ypCacyseOVJnPowZ2WKQGFDNkOzpZMhGOXHIzm3gPRWQBlsdkJ6bcQyzwteqbPUB0zle7Q6aPnM5g2jdgDXXYI91TEcTaRxKIeUyJZENjh5hvPsg500ALtV5k0fkZISFFPjJ6nUEOSWQNmKAjZXIOLivNRrrznCV8tGWvLFFXsH5ewUQs-KyCT1Hur882fVTACxzdMn83nrfPOBvMVR58wpIvMLla9DRIQ5koaMmivTQgyCm0RO3QWBzCgE7LBS6MwRujeSO8keRfyzB5TfAAmUcYINv7nQ6FHWPAtywIIThaAiYAcWmBBld9tIIM5AmNI8R8KOJ5nQMOF25ars+WdLOQGtOxBtp4CcbLBgOEEUzi86lEWhXlMTFCtfkHkxyRWNhkrj4MiYbIPODykpStQSIPqchAGm5AQZj2eDMgt7FhZWUuC-MYWIcnYKUgxYbhWnFMU1YQZ3isIIYsdmCDnFAkOscO33m7zmx6WXkrDgga6KhpFsa-CZACXmKpF5on0fYD9FdiIlWY0wN5MJR-iAJYE+ZAABl9acE9TM3FClcF7ArkvKbJG0nmyOJ2EoicOPEnFMhJq3EiVCGaUUSnAVE6HjRNmkCRFpYsaaExLKiDLzCpSyQOUqqUCSGJbIXpcRLGCDLxJXfPSePVaAFpJJXY6SbJKGW8pglhUPKcpMCEohihhy+4YMSamwFuWVy+4SiHUUp0tl+inSTuMCH6StAhk6lBYs6obENF4ylJfZN1HIjnJjS1yp8q8WKiZxXIY9GeEJYFjdFvA+FW6WOE7Lfl5wgFYUHPJhU+kuy1eroL2H9oWsN6GdopIayeLIVTklrCGIaRBxOYgyulWiK8leksV9wmcYktRWEt6BVw34NeOCw7RhAa4+wFaGxAeo0Vsrb2nCD5W6K-egsMVSQEZn7jmZhSJFURSSWytZV+LQVWsN5KqrcgiBTrIq25WaCZxEQM8Sn1VFiLtoE420aKMyayzhRCA+8Y8I6E4c7Abks6fOFwmoTvMqM21XFyDUvcbxLnMLMcu+6Xig1C3XFPw36Ji5UJQqi3hKTuXXC9OCk0SbQBeWaDlVoQXYPllC45rWJealSfe3eY0rHJTKpNT1OzQ1q01-bQWXPPbiGBbUSwMaQXVwmiLjFwWdCWFl8UaA04Dip2SGr6V2r9FGMwoLilvHEoY1nMS8eJITUmLHADa8ZWmvDoipM14w7NVyyyD5rfghamwMWqmD7qnlh6ytX0ksLaK7ktVetWLjGnLDEOpM7FCdhOT0cxptqP1bkCDU395U3LSRjWp-l8trgAyoDUGribgbf1wG3NbykYYwbUJcG8tbyi+QdrfVqantX0pQ2aSEN-a+tpkGpXwbuaCy4CaBIgnQTYJTGMjTxMo38ScxaPVCbMCZVEbf10OLWc4DhB-waOUy7OF+qA19qzinazddhuIkpLDyuKNjc0rCwLKll1SmjVxPk01Lb13LFjbVWk3csONgsbjSbFPFSBNSxYAmsCjjQAbrBcaRhiViM0YgDWpnTjYXAs2rKxAI8azSIF7a9wu+HBStFEIM3zlOYWlYzeilM0OrzN3myzeRgC02bgtVY56b3EYYjxItbm2zeYS81xanNZcGQDoAchQhUV0WwQbFrbjtwjN1AQaa5t3qGrsVIWwzbQEC0HgOOtW-mBfOsWLC4mxWwaS5pq0YhZIZW-mK9MVV6qrNnWkQPVq635oJe-xS1cKqshnrBi9LI4v1vxYIEatJW-De3AC0rbqhEgBrfjkm0QszNmpRLXVsO2Na4lpQIURlIqHxCUhBwzBAtvOQRattNm47ZUV21jacqtVdbe1oEjxhHtSW57W9tayva9wM27jYwHm3R5dVi23EVtpW2F9qot6LLQuiFSUjm1OK+4X8t6FKQC0hKrngVHM53a9ACO7LZDsxbgo6h3iHJTh07H3K-SsCcbSWUp15KadH8quYo2Fi9J6dr2tECDpZbg6u0JO0zETukhw7a0JE-hh-2gFViGcn-O+g-XkTD0lyBIk9h6y9aKpkdr21cC6VxUGS+hLiHHa4j6hNh8s-wK3lOHf7-A56-zF7UoTnpm47WyVUIauWUCljCFRpd3s6hr6Eojwu5Y4pXPG1whldL7EBG8us6M7qd1wmuVc3Z166HCyw7nSWoD1PtT2qujVHztJTSQBdswQPWexQys1cUCkNNgZX0FhYAAnB0HV4SBDKaagwGAOqhF7dKaa-Oo4l8CzA0NMA8OekKKW6kpez6ZwNkSClID69JkeFvC0LBoBx9J6kmb1jkHWAh9towwHzLCBD7G9iUZBnpIsje1nA+yc-Cr2V6hBl9ek1fUcFmAF7zwle-QeorkW6VFFJunkJ2oq08qu+u2+PVayv0KLlgJeNPS0kz1qg39N+kXdNDfacgSd9yYgGevjLeB0gXIBWhbNAA7Qws7bDZEMDTZAGWlyYWQKAbPUEM2gbypjM+leSMAoD0tUAPkz+iej+QKIXUnPrhB7J9kqBuA7ovEBgGROXqOKqiDvk2A59YzflaGFDlvqfyz6VNTh1dhLBwN-aHaDOpSAwbv1A0ZDUhqbUeIJDNPWAWbkgOiFiDpBrkFkAoOD7z9ulQYrQb2QfdUNaoAji0FYO0GlQfB6fZdzHkpBqDhhow4SzxQEoGAjhvZJPqyF6HT0XY4lb8vxXUp9drWbg8kpdGm63+e8HaPQJY3O6CAtVCZOaIJ1RHwY7Y3JeHvGFhj8ebaxCeRhyB0AVkyDGIGepFX1t4DxKRA521QN2iMYJu5g4SkOI4H+2tpSQtzSSNAxUjVO6vZkZykoVCyHhALlewRDUBqxyEi4vKKGCxNbMKaHFsq2SXhH+Q5ugsXO03D9HvaduuIydQmQEiyO1-ELSLL7bFNYtcbVcp-wdTu6XUVbNKHMGlXYV0tVTLjpLsYVSB9jhrYpqluOPO8rp2At3U6guP9MrjZqpytNp3apQQD8LWMXoEIUAAdLALQr2XLAK4+AW1EE3Z15UkqnyNlKPufBqHZA1YVA2CYhPQnYTkG0lVCGENInwWdotNIQHjLe1XOlhGk6AAABeMdawDCbCDwnyTyJ9Y65xZMYmRUWJuEAQagO3HmeHwXI-QAKM+BwTpJhE9Ym5OzVfmv0VQEcQ8BHFSARxBloyHhZMg8A+J1FTKfBlymKTQTRU8rVm2qn1Tmpt5YKaVBAA')">function type(exp) {
    return is_pair(exp)
        ? head(exp)
        : error(exp, "Unknown expression type");
}
function contents(exp) {
    return is_pair(exp)
        ? tail(exp)
        : error(exp, "Unknown expression contents");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p50' class='permalink'></a><p>
      The following
      
	<span style="color:green">procedures,</span>
	<span style="color:blue">functions,</span>
      
      used by
      
	<span style="color:green"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      (in section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>), specify
      that rules and assertions are added to the data base by expressions of
      the form
      
	<span style="color:green">
	<kbd>(assert! ^rule-or-assertion^)</kbd>:</span>
	<span style="color:blue">
	  <kbd>assert(</kbd>
	  $\textit{rule-or-assertion}$
	  <kbd>)</kbd>:
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (assertion-to-be-added? exp)
  (eq? (type exp) 'assert!))

(define (add-assertion-body exp)
  (car (contents exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPMXVRzuz-H1uwC7rUj7IceiLyY+U2AA-IXm-b9YABcoDeMwPiL4WACqxCPeXADuziLyFbJz3dWcTrQ0mUxvNHL-Lq8DgXz-ofUAe9AwH2qCfM+1BgG7GvrfB+T9+qpU-vyGGwlcBgAQgwfAzA2BQDgIgZA6A+A8BZNNFQi4HKwi1MoPuEEIiyAUEoD0mhtD6AZKA6we9wZ+G4aAE+PwSRcIKmA0AGtqCPUILsEC+I2FehUmVNSGlyizDoVvMRQiowxinOeVCn4wqiIKnvKhZVJxxn0c2Qx6VPIaIEdohcx5kJWNnFeYx1RTEeica+FxQF3F2OIPQhx7J6Iun5OUARXjkrOk1BEp89itE7HiolfoyVn6oKMQaKJp9vEpNKqnBigTglJNIr8HilEMkVUiWIve5tJAIT0AZPYLYpIyTUQIsRKRmluw6V0-pNhEkFUcRDPmmiTG5OSqMgw3MbovSGNDH+DJ1FBPGVAnYdsakTLMa7DWVsEmrJCREbyCyKYXTWYUaJZUTkORlsUi5KRHGB2DqHDxly1SxzkCZMx7D-gpyqWnZZp9VnTE6YUVqakFGyRznnUwKz6EPLCNAxg59pQ3zvtQR+4NsT8lUFRUAABaAlkyNAOUwQFZ5JlhCzBhQLSg+BQB6AiLRSgLBUnKCWI04QjJaYF0pfVVl7LOV6T0NStUVcmY2E6KfOQshxAMqZTolguxqD1AaSK7ly9rCTmBHQRW5BQB3BJb80VelXbUGMqa4gJhQUDP6X1b+UI6GHFoE5MFdqbApwkkiaSGMrU2vdR68VudbVBv6f8oJLq4lTE1UyFIAC2p+gwkuPQdF9WIveXZBRg0v44zTXIUw7qT71EaM0OoHQpUyrlT6QZKLYFWoQRirFAU36EuJZS6sUqiIBQhYoKFv867wq1eucuo9ZKL0+twvewtuEnzXhfNhND0ZdyrgOz6Q7Q12t7cmgSqaBJuhhWum1wKEUzzBjs-JaSyoAqKcYIdvKE1RBTT8mhvV+r1RaGok9jJOlXJNW+2iOb6BfqGcM41r7ZrPwDgWkDqyz2UO8dM4G96a30sZazZVHMuY8wOirXlGwIIlqaMQFoFbK3yDlWhxV4wORk1OXc4wn0tWFHXC+6SorO50duTjIm0wNFkesNKijMh8M2B1cuujxgd2GtAGCtjfzONYwY-zPjcHQFUeOZmHdHGMaSbdAonlNbqjrgk5EKTCiBNhCE7KkTRmWMQR2dMwN4Epb0ZhrjVT9DLOhG6D57t1Vt0kFiZ+jS9cgQJuFnoULGbxEzvWfOvQcIABUQWwkkbqElwGEjJgEkUKluU6XlbRdDAASFCP5sGdAQ7zlVdOaxc5YXLw09tWZvMQyie1bovhjGZOjKU+5hk3mC4YfZpzJD1MYuhGnc3MFJ9A5ahuNVgkhA6tuP6LJUz0seMTYDWG0IVWcjLdW2hGMeh6lOb22GkeW2lk7cIj5qttnQEJosY2erAT4hgr3rlV7x2bFyM7D+-pjikLvgMa87JdrvswlByhd76EcQdhDIGk+wtLPdD9tVHZmyDn0N5Tqt2MmXa9MG0CHVez1AMCNQdmrK3XEneA27ONYmuv5Y1C0Kn2XMZqTZzyT9FPZXM-xpSeTeg3aboGQ6hbShI3MGjU0zWlPZi8-S3QIdqtz3eJuYsg236H0QXqVmxc-xnOi7sjerJ8QJeXe-RrhDMS0vKZQ2TrrCiZOi9iQqbTQL+NAliQD7TnvXQA6-Qoodln1wWYq-bsqsP6c2Noas3l-vEd6m03H-xCOlF9MKKLjP4PMTe4NBu0BvvpXWHbhe3RljM+W8unrmtKelHad+-H4CqfMg55SKL1vtf5wKNg-Q63gy1PvDwDgpgrB2BEK4KQtAa0KEkXBIwFNVF-4QXxQ8I1T6ZDwYeqoZ66rup6G9W0jGsxxcN-Cy1X60ZlWquIFCBCgNnOgFP-YGSF+LXYnD8zaacVWAVU1UuV18XJswcoYR8BCw78gDH8j8DxTZpovVWkP8-V8BQDKQVpxooDQBOoP5k4zVel0D9dlocsxpRVZhJp8DnAI1lAo0nJiCa11wsCKDQANo982RDctMB9ixv4uxr9SCpQ4QjdPQsteDXQh4dgRCU0DMSDG57xI4pQw8vJuDjdEDVRpClhxCIlZCmCzIkYBwDM7dVQ3oNYuRdAZc6C5cnINE5DtgIFR925TM8EkQN4k89CCY+wy9K8yAzCLYqVJJNIG9ysCNbwEsXC-hf9ugdUFglg2YsNnVrDXQZM0dF9OCD9OVAjlIOw1dQAoUMDtgEsO9ZVZh8jqCmAkQAcNtAi1gQiC5LQIiZBJDGid1qikRaj4ZQjKRAxGjjC2Qpc4DEjXUeMlFciPRciPAOQ4j3CBDMCtQdAFhsi9QaYt8JF5jFjxjJseE38gEzsMiGksjiixjKdj1JjZBLCtjBE1jdBFijizAAAea4hY+YPQTY91UxOtHwOEAAFQyFAAUmIGxGDXcBhnBhkTjhaBPjhFAAAGpZMbc+FohdB6V3ZRizA4SstoS4TX8whDAkSdAUTXiTjLjj5T5PjEtfjqACAZB75gSFQGA9VPlKBIT4RYT4Sbc8SYgCT8BUScj0T4RCw2ScT9soguTCTNi+ixBJFpFZFijvclFndQgAo6FxgMglJbC7NrAAoacljMhjjBcOswgItm5dTBdhTxEVTJElJzTQhTDqBzCdBLD6CcYNESTCgT5ijDVHhCY0SbTxFLQ3iESPTqtlY7jZhAwJShtBN1MFU6EvTt9nh4jOYhjo1mNu9yTiiEF0h6hQANJO1ChrNq0wVxNAiZNnCsjfd+l1wdSWijjRUajh89sWj+1eihcrMgRfMC5LS1S3CvNo9s40sA8B9My8j1BFTPUscglVTa5ey0yCBqodSjjSiTjDSujRRXATS7jX9TEpyrS9AbS7SHSnSkiIlXTX8PSlF4zC4ty9s95ZA3QAyldRy5A3SkVwYQydw0TwzgxIzQFpUYzGU4zVjYilBMNkzZdhj+Q5zbSMyFT4Qb5szH9cykQ201RHdXR8yUhCynt+kSyUKjVyzXDKyulqyQzazRj6z2jGyw1mzjc2i-h7sCyOzZjthuyZzvCsF5zupcF8Fp9OASFeAMA0ibIWU2UqAOV4CrxuUJ4wCFDzoG14RRKhV1C2QlLxKlhWUg4zlQ5pKG5EZvZgxNUwwdU1LKAJKJ8jVcpD5co4RTQssbBTQBldtulfprR7LrBrQnLGybL513KdjDgvLrLfp2I-L2JArwVfoFZSgssoq5AxFnKwgbKEo6Ag5VBsQstkrUqgSCoErQgbKYFGB3KCr+lcqbAbKFIFgA4PA6BAYKr5gqqGBqhSrrAbKYS-KbA9AqJZhsQzA7gAA+UAfFOE7K5qrnKYOEAldq6wTq7q3qga-FYlEa7y36TLWYFIGa0AHqw1ea0AJLTa6wUamy4AKaxlLqzauawa0AMAJaoKoQgAUhOo2q2v6suruv2tAEOt+i33aqeous30eB6uWqEIAEIHgfqzrnqdrQajVAbbrxr7jHqIa-rQBHjrBYaIqhD7i7gprfrtrLqsa0bPqhC+rEbZq8b8UBrCagbxq+rsa1rQhcaXqKajVzrqbEtgaTrLrQgXrrBgabA19D4mQTLogxKzLhVuoqjDVQEFIlJTRZhTLzK9ImZhbBV1LJL0JqAPAAArJsRmKW6oGWq1PGnykW5SrSAwsoWNai0IBW8Wg8JmLAFW0WiS37TnXKGyojMtLLT29LUahExK36SAYgYjRKdKtaoOkOjmP2-2sq36OqyQWASAdy+OxO6OmOsaxLeOgAUT8uzrTpjpsoADlVBC6Tri7C7Xy9shautbagMGwyZRj9bChDaGUXqGjj1a7Xbq6Sw39Ta1bW8oUm6UgW68btJ0CO6+6xa66pwHaKVPlOZa6uUSAaUq5zoCjnB+UYhJAS1GAvkuTJAtbVA1Aqtoh2Z9yg1a7NKsgFQdKSB86wgc4162gwh+y2R7yZFjzIKph17T4qJHVP75dnN5tH8T9J7FaJalz2SbdO7q9tQwygHY4FtQHVap6U5NadaKBci-Te6UGXbYH9M6L76bAQKkyAGFQrIsgDUQKdANZJjr0ILo1esQRZEUynImROKJ88Ep9CF+LuBMBhKeov4UwKBJAeZDB0IFJGBtZYcf6FZPBvBBwLaiTnEsg7RQE95zIfzkxfFVGeUMTJAsTESxSeTFGDLDDtGAI1H1ltIZHJC78FIuZvVpJGp8Sws1yN7SBSB3BFYaEDAaVPGLqGA4S9BVBPGry4RoS94ImrjMS2TQnSAiGCoImHZXHJD+JyAOZfB8SV6Q1g0P0MmtrzASsWKsRRTdA2S4REs2T7HKJZAnHP1DbH70mOYcmmMKmTA4RyjmnOZfUWAQmq5ZGNylYc4YsonhY4RQFHFcoRmzhTgBFqNItAwRmzAghC4lmBmzBob4Qd4UR1HGVLQZnVi4Qdnf0Zp+RhG3QxHC9JHtYRnOkT5qNnl45Q4Znzh3VhE-kzULdchlnLiomqm4TunlhvA+mDmJV+nVg9GoGxFoTDG5SVFXD-kUFqllmhSBlYW2SgXenTGoIyhD1fn0T3UUQJmuk51NhMm4QQqcn5byWemQWgd3SdgEs7nPFe77AKXfLZhcowXVhvyBxlmaX2W6XGAWAYsRkyn9AWX3k4QAByQxnOCpuVyZox5EkxkZrp2l0RpcRgEyHmHVwZpuJWP4eRnwS0PV9G9OjOmUR-TE2BTE8uRUQsWUbwR1ryRWO6BllIPebpnFvQc149QMf1wVgp4FkVsVtlgp31oNuYYMaNoF-1jgsQQ+4+0gU+ghz0eqTWVKAdA1p5hONMSBd5GyvNucLLJF-iapTea24exSPQZNjkVNygdmHdTN26TkVpnNz1t8j5nNvZmynZoGZvBFkkTecNxeRN5wc1nUXFKiVt7NzeXlZrAOJk-NsKUd0TcTM1T0o1UBeFokRFr55FtOUdobYWrNzkMYGFGTQ2qdnEGdud9t4NcdP+Ns4XbYFObdx4OEXyvZhLS0Wic92QKEWlc2sxsoADttoDsdKxxlj9y8o5kK395gSDy9iVZVuDjscJ+tk+pt9NpcEl95cIrdhU5zQ27Dxt5t7NCD1KDt0d8NojiBuC6ji94DiVNs7C+VdDVwIil90TZg36Ad7FDsXLdSHjpedjx7PjhzGidHIiPAWubwYCIYZCeWlbNUJC0YcgDh3i0geYRSX1NgxlWQaaNaefefLeduWUTWPQZ6H-YEaMRgOoNx4bIZsoOwBzpzv50AH2loe50+PadQGzmQOzy0S0dz2BTzrtiZMLpsCLydAZObTkaz2zvltz2LxzpjCd-4-Y5TrIPQZecnRXMqXLkTSylakrzLNsntDIGUoLzmHgWYWzyQSaQ0nVPVDwErmTKz0gOryQBrmNgcAXF4ZCRilIKjdrzr1YnzuoaCguabqM0ADjzUsIHVcLxzrrpLnrpr-gVLgwQgDryx19woKjNbuoK86b2b+NQjR-UtdLBbh7YTVc+zW8QMU7o7rCv85ipUtWegF13r-r7b5cz0Octr-bybtCugZL4Lvr3bobkr0booBVCbgCc7m74jFoS78GewF4Qbor4brIatrpBLXKJr-rhLQH58pcRkQnj1QMOHw797xbyT5b0IVb9Ls7o1br3rnbgb+kMHw7+78IBVU71HhodHmb0TMrQoe8nHvng7lTrAKXhEhLcn6HnngzGnvbHcfnkbwiJXpnx7ln6X7H179noHqnwX6M6oTsq3icsGTKrQXTs7Oc+ScJ6UmRAjgZb7GrmRZzE+NgI5mIWQRgRUHEveIPl1nE5FVFFgRtJBUABTmxVCkrzCxbkp0AB38gXT4yrrRPpTlHo1epEr-LjoHVTTmTPPwvYvyln33YasEytTo1Sv9CaviPkP6sduepDwGIBKWIWHc3pouw5wBLfvynpo8o7vx-fe2HMXHvrkn+y0Sf3v1YCfufiwgfJf+fof3n2fqf3QSQzfiwrexo5RnRoI3o7frn0f3o8ogY1oUf5Qi-jwykBLLvtf-QB-43Y9G-1+myI8HN7fnrEUJTBL42zclD93rqvh2MoAxosrmICIUoQR4SQHp0fxZBGAy8AKNGF2DfI-4hpJdv-3XZG9OsPdQ-joCJzv9JAx-CsjRFmA-8qyEEUgaL1u6+cg0e8EgAgKcTICcgdQNAQOloE1FzyM0bAbv2X7aZSBCPB7jZk47UYEshAsFOuASxYCTIloUdrMCUHKw6OC3JbvIOk67AtBX3AuOoM3hZc8S2QFgMu3nhwEGgSYbEJ+joD9drBaVMYHQBa7P91yhrekJ1D2aODbBUIFwfl2VZ-s+w9gxJoykCZRAzBFg6XD4LsERDfgsvAwJ1E16WswgMQvwZNEkIxBfUWQI+ihBsF2CHB8gJwekINaRYQh3goob4OkD8AAh8WXYoTCSHOZ8ueNLId4ByESU0hegNIdUPy7JCukzQl6qYPiE7hOoJcduEMPMH4AkwRgWtmKmc5vsaC0w7+JEDsC-AsmkQlusvXBglwAoUwrQMsImHrDfgpQzcnENFZ7M4sjLVobvWyAdDKhn6MFITDOH30BhA1PYRky1ArCzBRw8wRZFWGisxhypP+tLnpR11JgOMUfhRHrxP8XcJA9-uQL36OkqBrha-jUQjwMD4RU3NHmWj2Z39T+AEWYFCP4HtFAh+w7wPOAqpO9SBYg9-seiJEVEGKWXfYB8KCiUiXizIwkVoGJEMVt+jRcJvgHNAtBoSezOEAKLpBCjlWsyQLhyIz5aAzAezPkRXnWQRB-+zI+Uayzv6UDFA9YcEREhlH0jeiyrZlLsTVGzMmWuxKEaMx2IsiKRjvF4oGDVF9CCogYS0U6OqDMjfUtorPi8X-Zyi3RCJS0K6OwZBpWyyrUUYKLqCdNf+WILkpQzbCHC182-BLGdVeG5lm4kpHqIsC1gBx5wzrEPmmDzGYhZgU7GUVOxhGs8usbItqHqgLQyYPR5IyQGyL9basF6XIiHi636CzBgxQaMsWiPT5Vj80BqI5mKKyCRiLhM2dZA6TjHzhDhA4gSOmiy6EBziPfPqCfjlGADtoErX1mqIzGgBNOXwtYbZwB7BdXBsIwwODBkyac6ux47EFQXT5U5Hg03WLM3CuJ0AsuK42dk10JBrj+CFYnurZxky+jTA6IsAv-1s5mAomOzK4rZzDCUNQA3xAABJZ1JAAAQXADgAs6AAJW+KQAAA8oXWQBGpUiThewLpwDgXt8xp2esU4G5GD83BzgJcRpRu5UQfxnoq0fuI-GXsKJmIWSNROtTKt9x6gMqIWPWzlFBJpQcicHx4nND6J8EpCahPQlYScJ+E8AGJOx6cTgO3E9bKxPJE-19xhwj8ZIC-HjQ+Jx6GUFpNoAEoJh4AsGMRk0lSTtJfE2iT-QmENJphhtQNFCPcDbUcSunJsI9BzGSSOxYULybH2tGejnJyQ-AKRPqoiSqJZImiQyKaIUN7Atgd1jmhIAGcjUAABg6DtwSM98WyOlJLaF5KArQf+OlOjCZTvAMmFfGeCqnoJGAbJHgCBMpB1StCD+X1OUXqQFSfEAEfESpzSlngSp6EMqT-QSzHMssCWdqRYJeSlS6gu3WxruLsAaQ+pyEKQDEFTTusCuXWGaSNLbBlSUiNJIqcNJXbAQypJfIEC2jsBLB746gbWAu2W4JoCBuAr7Nl0Py9SZ+oAvaWdPmkklHEsgkBP0m9a7EIht0+6b61UHmkwZkgO6XIG1gQIX2-03+noIMELC5gN02GRDPam7iGglgpzgSFyCgDUR7RXlNdJkDgz4ZG8OcvgOTDUzMeVGKUWUFH7JSnuV3F7ivl3xgptBQaAnAiNEHIiR2zky3kaQYFMDxeNpPeAKJsw2kT4MMuGdrGpEb8JBTFErDzJIqMJAE68QftuQxkUysZVMlQTylWbyyIZECKLqSwICU4uZ1vNGYLFNlUzjB0Y3+v-VBEqp6IyEAaQT2fLOT8cXWRgUampGCz-gJMxkUCCoyMCtmF3Q0uuBIAolGxdokQdP2NxJz9+XYlIdYA9DCzoWHHWmT4A9CGZ-aeAJLCXNAQE5MRoAIOfOBP5ZykpjPdcJHMfHYj0sb0uOTyQTneivZmkbsdYCVkpzxBoKErEPK1ICDgcLspBp-zkDCyOyknKjHjIWxSAwotc0OazPMBXUwAJcpLM9ggjhjxRkY9HMz23m3g8Rk86eX5kxxgw25nMJsbsDJ489yxBcPkcOIjGe8wgUTEcRKPWRMyT8d8q0Y0SNFSBVRnUaFlNnHlwE3Z9pLkJ7Nvny175o8q4YArpm7AWuuI4EeAsUDuyoFeXZBfLX64X915u1UucqK1k+Bb5Zgc4OaPXjIKrRV8juU7wdGND-aDoyaP6NCC0Kmx-7RhRnJSD-sWFPcgqKGPWS7zRxUYi+f-ikDtTfA3GKChuPAL6wpFOuQsO1JUp1haAiYJcWmBxnb9tIOMyQjNN6RaLZJsVIuMGF0VWji2cgO6diGXz4dw2mjAcGYqy78pKIki9qcWJbEtIbR7i7wJzAfnEDzxiYbIPOHam1StQlRWHBtNyA4zLMOqWhYOJkzup2FicksQlOICsKUgxYdRWnECWHYcZ6SsIL2PaKtTtgcS+cbWOfl7zX5oCy4Y8nAzSQtWPiraWeF6Q5Lgl20p0VOPsDxizhegUpTWNMApSDUiE5CZhKvgAAZLOoRLTGlA8puwmKSdN3ROS652-RiZQOYk6SnA7E9ScxLGDtTeJqS8NuJOuTutZIkhI5QstOXb9hlkgUZRMtUl-5VQHEnZVCD2UbLrU2-VycA1aCBp9JPSwycZLeWhCYW7UqyWcJRDJDfl-wxLIJ2ELutQV-wlELuP5SvKllfiwWK5PeEeS7UISl6jiWcULKmlQRVFQ2UDTRTvRFyt5c5N3FchlUZ4c1s2J8WeKIpSUg8aKw+VnC3JWgLFYUCfkDUwUnyxBlYPuHfKQxPfIKZROAwpKvFdcp0amORUnKGVOrJleSKpXUVayzwrLvJgaU6tFVdndVf8J2k90dowgS8fYCtDYh54uqsyVqvNap91wxqkgOLJxGssaVWlbVbqxbG0TWV4bB1bkG0KMwrVXqiYbuIiAfj+ppooxZuPxLbi5RKzAIDsH-5ATARC5cgLAiWBxT5wW9D8SEwsnvLUMCqUNcxP6kZrDMZcrrABKNT-Loe34ktQtx1ReMUUweDNayqHphpIV3wlLvCAzXwqzBqfG2itjq5Otc1Pa34C-n6TMtc1swVMQ2pWkHpc13qiTob2YpixpohgNNQsrWVrKGgLEwxWeINR8SZMmSjQGnGiXhyC1kS7deGoOUg9y1wXGTFWs5jfjTJdarrDOuDwzSJhraoNO2sPHBclFcK6yYz12ADrO1sKrICOpYBjqieuxNxWELxpvrtQH654YuqkE1oMcAjNUHUBeXpTYE4qq8CWtkWSKCNeza4Nhry4lrlWpGvDQWNzWSEqNGanNQ5NoDLw11dgajQdMzXrLa1e6hPnIHsnBT6AMma5WhIwnYS8JBEyzMJsUliaVJdY3YhmqnUXVMg-GiVZKgLhwgpEoiyzlhoJW7qRS66maVmvWWnq-x545TRcqE3yTblkyyTVZvGWTK5N68WDamPM17K2y64DTSbHfFSBSGxYLWiKgnQnClYgW8oqZj80Ygj02irwjRDbgBQR44WkQM+17jb9EZvccoiNiwzJV-Nx+QLbIsiwhaHlbIUzFloi25bZJKgmLXov3TngJA2WzBpFtkmpbYt1UEjDoAchQh6VZW9PhVrS3Oy-N1ATaQlswZBrnhsi3zbQDq1Xght-MBUYEVZXKt+tm0+LRNoxCyRpt66YUjapbE6ZMY02vQOtoDT68ES+qswWMOA3jVuBmJLbT4rEITaBt1qWZdVCy33auhtW1bSNoNVjawKNWugJNrTAlbEtVompd20antC8hxQ8+pLkXT1L6VxWt7SIFe2-bVt3-ObcGsHnrULqz2pbdVoB31bcdKmRXjbhO3HC9w52xLHa0LDXadWGVWrfdvYYBRWtNCGFB9tO3sr-hnKmYdaTtS8rCd1QYxVTpMiM7nG7qiFhtu4U2BOlqamcT0tbJbwjtoCyXd0qhWGjh5qOZuOjrCDE7RWaIMnQiGoCus4QAurLELvH4Ya+oTYFbAvFwGyTRcoA6hrQ3SQMNyGWXcjmm0DwSoWdxw1cNWQ5WYra2nSHnV0nN1eN2MQfKcFAJNwBi+wIHJKfkteK0C5qwYgqvHpAXp04Q6KePsyNHJNSiUrJGEor2HmFRXduHHdIiq86K7pdyu+BWBmFiE8tdpOgdXCGL2Uc1ClO6HUsFtWzBm9eHU3Y7UrF4oftWVGTAAE4OgAUTKjYNZUGAMBT2iQFlVZWUDfUvgWYHmoAoLNThpa63rPIVTOBVi2UzHhPrSp6AZWMrQsGgHP19ryMqGsFIfuUHBCBlIs2-QvsSgKNXJFkY9M4GJR4FPufmUIE-tckv6jgswBSLO1v1IrLFaVGxf8A1BprPdbK2SVrp12N71AViqA1dvb3uqssKByA8sE5n07qozHKQPSpiDnbSi3gdIFyCjp+yjVMmW9jiiGCztCDa4jGNAeIDnaKmbQRFZZiowcpGAFB0OqAC2Z-RxR-IFEIaVv2JYiUxKQg6AHNbiA2DanNtJNVRCp7rAEh+Nttp2ihgDeqGm3tIObWprXY6arDZ+i0NzkqNM03DQxvo3zrekZhhbjwfIP2kBDQhrkFkFEMH659NgyQ1IfbS5rMNDQM7r4aJRKgdD1aPQ+rJSASGJqwR2Qy2N1T6oGAwRkI4z3-09L+VHK7ldztLL9UbSGhxpd2LD1xgI9frWiVOuUAJ68aCKJ0QLtKPgxYxXSyvd8OFh2h2Ozs0zDkDoD3wFGJBlbIavPE7RaDHiu9gwYfb7KWDTKBQwagxKcGEeeFP4JzlqM7QgYDRqXVPpaPubNZHgyigsatF67su3orkrKKGATMSsZLIViLqKP8gSjyxwuI0XXSMoKjBAC6qemdkGGK4XgAOCYdaCPT0+b8AAUc0LFaaKUOm5tb0l+PuNC4-qpLWduQ6pQRdMrQsXoAzkAAdLAERsFVQhDD+AWBH01r2bVZqPKD1KfufBOHZA1YQgwiaROon0T7rEJpieWAVwcTIrNcevEIClFj0dnBLOydAAAAvantYDRMP0GT2J3Eynrs78miTYaEk3CF4MUH34vOj4Ipk6PdGfAiJkU0ybFMQ0uWv0VQJiQ8CYlSAmJSMYyBlZMg8AlJ+leqfxmMmGkWp7qjqaEJ6nDYhp404iplNKggAA')">function assertion_to_be_added(exp) {
    return type(exp) === "assert";
}
function add_assertion_body(exp) {
    return head(contents(exp));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p51' class='permalink'></a><p>
      Here are the syntax definitions for the <kbd>and</kbd>,
      <kbd>or</kbd>, <kbd>not</kbd>, and
      
	<span style="color:green">
	  <kbd>lisp-value</kbd> special forms
	</span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	  query expressions
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>):
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (empty-conjunction? exps) (null? exps))
(define (first-conjunct exps) (car exps))
(define (rest-conjuncts exps) (cdr exps))

(define (empty-disjunction? exps) (null? exps))
(define (first-disjunct exps) (car exps))
(define (rest-disjuncts exps) (cdr exps))

(define (negated-query exps) (car exps))

(define (predicate exps) (car exps))
(define (args exps) (cdr exps))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaWH8XqexNtsyy4io6xlurbU5qj6ipUUKc3Etz1GXJeoKMp2cXprIBt8CxeiARXySVDfZaQbl2LuVHP5-xEnAmeQ4pZywTZQqsYC2FFydy3WqcYEO7FjDrNrmzBR4jrFAubLoe+ZFClwvuUS6hNi6zgpeQih0FTUa0phROdFs5MWmhxTgPAfkGD4GYGwKAcBEDIHQHwAATB41mT9HDOBRoVbwbwKXCNsDtMoB4UTGAAD56psk-RGKrdWgANUauw5QKiiGGLqi1Zpu67TNfqw1jq7Dy0KtjN43zj4I0kJ4TwxVNZmN8eQAAFvcLYng35JTAX0Q6x41UADJk2gEjZINBarlI5tABGqNAbfUbPAZqgeurpYaujUGkS41Txt36tXUajKGhNDLWqit2cM1oI3vCtoPS5UiAuI83Zfh76VoDdWkNKhTzDpGA2oCo1Z3mzqEyu+fMlpdsUD2xQm7t2vxCo24+S77ntsiBu213bx59z3XKA9vTi19HZSSqRcox1dzsFW4NtbfEnifail4878WeL-ZIiczby1ns7RerdV6d3QZvX2u9QHWYgeUVpLlo711QczTBzeuHe1+CQ6NC4yKAWgcWWuyD8b-WBq-aG4ZJ5SMcvmIB0aTHn1gZXQRt+56cPbt3bB-d-a2NXH+cx9DbgYGYao7WdN8HYMIcI-25Dg67AWglPM6cEHQGyZo5O79DH1MYwWbQVjx8jOOQHgaIBPGxntmUFxp6pakiaAE3h-dTNRpGZ0tpkw2HL14cU4RZTxG7ADP9pbV9WHqMfonXR6dP7wvFzLGZh9czwZadPTp0ibnuMhb9SI4GnJjOZaizJ0ien4vEL2V7Dyv6yQgwSFyDLkNUsEppnSLGWayvZbrnI6s+V8Q8GE8fDrJNklZb8-Gx6ph8D4mlSNh9Y26bVek713JoxZv4gAMz5YfQq8WXNJtxt07F2jNb6M1ZPNAtrnjxmMLzlbN902zHXY5uGRen9YGLYJdAjhJd22BHK1YXLGjPPHyTv9kdsFnuyc3VbcHaX2GDMAZLWHpFFOlMPftiBAkoHvZfiQ9HJae4EaxwugrmsYSEM4Wj6Lp3NXOsx0hlTJbvG+amwzz9F2EsMe8bd1m932fHaWrWk8-PNA+uxwS4JPnjsnZy-J9zt6i0EqHR2LsPY8Ii-fbYbnU7VsNXAt2YEAuRB+RK5DDnvGAt5cRwSz6Ov42g6C0R4+K1PrUG+rZmLjPe6KC9+T1nBACGrW8IHn3cPoMR-t54wuYejQR+J3m2DMfD4CrakKkV7BxVcClWgbbA6S2IxitSWNS0Xw5tUiX0Qqu7vKhwsWxQlnnKGk0FUkZ62xf8UEsJUSxbF7LJb2YFy7fQlFHedLzxFwe9CRMv32u+Fy+6-17W-ADVZ9978mbqwFvh-WaX+q7OM3Bvr9AMN2PrMLc+fwMvl7y4ttn4W5f83bUXANMClZW-R-7+bdP5oXbOvQXBvAbMBGlWgDKO-WTMXSZSTT7dKMsH7afMLCOe5OOH-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-KwHkcgDqHwME6CNaex-kqxvWgwXecRn0sxmhjKk4-hiUBwIR7GFmqu5xifOYg2GhnQE8CximswUWA0FgB5ZiXB+IZ1TcBKLR0nE8dhi4WtNJ0AVNX0DWJk7dNJvQA1Dh5U0p0AXavA4IH8IeZCTdPJgok8OpmyUIJByR0YNBicTBlMNJimQWaEDXE3PCPJgphcbuMtC3TTK3Up5orR7x7YkJvXA8BJpptaRJmNSSeEhcDY+hjM1cNuOqWuS3RkKp3Z+0fZk4lZ+JuDMhvuT6eZvQTYlhH8LJs0A6AsGxk8FSxxwm75iieJ4h4UBNeSrZ9JmJ6xm0Ii+Sz7WtDZmNec2DUpgF2JoFtZhKF0MxiFhpk8AAcnoc3BocJfYaRJuJtDSeiZWbDEYBtFpeqpsNwr9z7iSHwfubQQZaMYXDF2GDGFhMcoamvHIFhKxAPBFYaiRjuB-BBcShCY5cUC5eRbwyVahbicxfYflc3VVe3VVZpY9DpbRJEDbo7tIC7tGBekoiTAhi+mScxBGa10ZG5Ehd5YddN00BmZayddpG5amPsxNZhDNcoBFlSita9FhEcfWnyDYeWBJGOedYabFzqcl0cyOaEJ9axcXvyFTKsAZeKCfGpDDZtedYpTDmGZWMdcOGdbNNAFdLfz7JXMuNTdbRaE9anCt2rZATRutdhGDRgk9hZrzYfALaLYjbCdtZAuINamLThXUdhfMg+Z6FCBUM3TpB7YcBEhghulBzXfDY3YTxjdBYtz7NzV+bkUXbleYD3b7bWnYePa4znYDc7uDYtbgIaZUPvfsX-PDv9fbsDfNdDd3YhkjYnczY-frazKA97c3bWnfLvLLecyUGrfpNF1e2TZPmbcQ4nbcX4RQ+zm5DcUnuPg6i6lte4JLRUITZIc3So9Becq+iPKvFvCsFmdZhI7It4drYgJ+LI6ZYo-Bdo8Sm3UE7zHo+5EY+ahY69ZEAQMAUA2DzFcYAnHIGoG0nuEzQmDQRLb47zU6iQ59bncU5FeiY08xF7aU5UR820-cajxw1k64Ww-TzAC9wPFhS2H+EJqwTIlPKDXIGgrgrYFIHDXbANFAG22QgcAJW2wLwL38AU9hCTEUBVFCdMAGEYE6TtaZNS5GIy-adAAVrGEGY5hkCS9EFCc3U3Wy-S53kGIqaq9y4XGQQS9IFK9Ce3Xq4Nhzb9YYXc7uHnopUiSTAxF6+6lUjF0nhG4XnfK82yDyBJOS9sB4E0AW4W3vI-j+NKBG89ixES4W6W5TzwxaT13+SXJ6HVg2624KIK5rerNkwK41LtgqmdPtA-nq+2+a9a9sGlWVYcUIE25O8ndXJ4je6u5Mnyi9TGBu4-Oznu-ujvMETNCWna8mBy8B6iFjPR+VjSGI3oHFc+-25W4cMoLW-Jou-+Xe7oF27K8W5+8UCO5G9O6B4i7+8u9zWu-vMRLMGO8O6G8qBG+-ftBUNrT28JvBcJ4rI9F5utvEtg3p4B7R-h5dPJpB8vKp4om+4O9+-+54Ye6CHVhB7Z7B4VkVvpP3h6FHO561-56wDN+DJUJUPF7jgF5BL3RZ-l--Ft8e9Vg5-N65+R7S7GCJ5qDR7AqjKx4pIfUsvkCC7oSh6WjYBaYxLm4vZkST4KGmViAT9PcKgcCU5T5MWsFx6U4uKeNqhYAk+Y9ABc6BQvJG5vM1LCNIij-ICC+YvJur7c-J9UnuxG-nv-A-l889g7+U-+QyrT-yAbRYq89UmH5UV75PBz-FYbRMJANKEKnJC8C4csXkIl98PI7kqOlIyD8l+ibX+BhYNIxSXX5VQXs3TP435jVP+v4v8kyv-P5jX3+3Xv5v6f-f-rrrFfJH8mAwRffjtxa5ADIi0TGIhvSAG4FIi+-Coqv2f7eBYBlBD1u4S64kYZgvHGzsy1XxmJxOtTeTjjwlpUBTohAnwm0mPJz4RIOiWwMFxMh3BGAsaUaAMHyDDgDOCPB+EMx+ATsfexgAJMgKCTID-+dET0rSHQHBFde62b-l4HUYFd6y+XagX3joEMCxgTAhjsAMDLLJYgbAm0LIP5JRwDBjPdHrhwQ6UcM2-AqdioT0EKtq2mgWwcJwzYK9cOXAmWPGgI4Vxw+62Wwc6y65XFbULAe1l1HnwTBpgRQb1PtzCFmVg0dAVbjp10rKBhsDTaIREJEhxD56mrcFvDmGzO9gaSjRGIEOCGxFUh3qQoYkEt5JDfW0vQIKUPSELZOOhUA0HcHboApwhkQzQHUPsDxDcBJOZ1HQGSEkMuhGQsDtkOgwDDfW-XMak0IPAtDaIdQxQMMOlTz08hC4KYYlQCEVC90w2FnE2nKFBD8A0wVQPZkYhiNG+u+I4cZGLCmBEgtjIoRHRICS43cD6Q4fICuGbCEmHwzLv0P2GQtSc2TEYLMNtTzDHAMQtBPdHhy-C8h6wggJcM6DXDAhdwrYYJl+G7C+kS9efIhHFpyIrIQA8UNDHgEHJyaBg4QX-wbqACWGO-SAb0NAAkjQeEwY3oVxIbQC0EeI+QJIO0Gxs5K1jA8HWE8ox8DB9yYwZ0PZFaDfCXXXUDyKLD8i+ikokUQSPcL783SLTfAFemKgbE8WqozeOqPYbFc+4co0APiL0ANM3SeKLkVgOPCSjjRzIjESJCxEyQcRyIA0fiI5G+Fsmdge3vID0CpowWR0I0e+zeG8jbAMo5UlaNWFmht0Ro8MUSElEGg+R0fPoquy9HRiDam6KMffQ8jAV2GJ4LUXcH5b+CVU39WxPsKioL0VC7VGEaTiNZ8NI0yYTEHWCM7nNzOLwTQHmwNF5tCR-icmjKIGx-FFInsWMUGJDFtjRRjY2gHvRqELgOxGAmkT2KyhztcxOokhv8K5F8kixDKEsXON5AKRgERHB9IQAcD-8Jg1IZvF6P37GowSCrK0dWNAC+cERtw5LgTzK49Cgg63T2L51a5Piigz+Gkd-EN4MiIefoUnM4joCYCwehbBbo0FPF7kBB5NZLp7CTG7jzhfQHRK1z0BaM6mziZLmsm-qgAxiAACTtq2AAAguAHAB20AASmMUgAAB5V2sgFUhGFUK+AMwEFzM659aEg4ywK6IXoHiqK4E6CXGMhZ3j1+NIPts2LwSCTeRmbO8TIEqBjj6A0TWSb3HYnitJJC9AiURNInkSqJtE+iUpK56iTqQ4kjiZJK4nEAF6d4j4ShHAm2BIJc2cyTdBPAKTXwHw4gRDnX6qSLOyScyTxP34fC6IRwlmk4nxELEaqFxILpMByD1ivJeEUKeX25FxieJ4YliS3wCoKSjQvksUSzlwlSs46JAULqpAAAMxhUaEVBvDVgFI6nN1hOEoBoJy8VU0kAVIPCew8pTUwEQpW2I8APk8aNqQMGamMBom92cqT8G35b9-kmgNqcbkrZ1g6pZY8Fq00+wqEppNUlRHVNp5EMbxpgNuKNP+R2BCosUKqbGle6NTppsKOqYYQ+KVT9EZ02qfVNtijRCh9wG8DIBTDWdlgGqVCSW3uiKgQCI0y-oQJWkVtzpkPJBL6OPAicSGKhJ6bYBenSAUwNHDNimMCAwy4ZKYJwdG1lbOgs2hHZCajNemHTWGXXCYCEM6QrgFghAiAYqOliPTTAz0gmXvzcEIcvp8ce0GuXdAlcgBvhKHh9Ozg15pBZUVwcsgCSkiH+og18lSJnEFxs4pQeQUbwh7ylQgqo1WPKViD4z4Zb-MWUYJMGOkbeivb0gzko7WjbIoQdWQjLEKSRymZs5UtzJ0EEASkteLwaHynbWy-Be4hgraPrrOBBIDIf4ONI84Vk-JRIgOnSNpEiDyRVRKmVILSDqwSRNTdnm4KWgkBDiwYhMZrPbJGDkBN0DMVEGqA8TfwjbeDo-DsCoTqgUsZWngEnhVzHYxIoQapEFERyy0ec7KQ9yWhxz-x4PRWD9KUEpyQxR-HOcYEFGZz3+d0XeGPOMCREwZLI-2XcCD75zlYZgniCTNQR2BDgzcqOYGQ8KVzq5vM+NDmLVH5iF5T3e8sbFtEzyd+zc6kVXHvQEpk5txVOWlObz7d8gGvTschOVGntFx-LTUQfPz5aIxAHM-Uc-IWwmi5C7o3gfkGGyNsWQLIr2TqF5Jwg-ZkCwmq-PcLgLUJL842YlFgVYifZiCvri-MJr7d4B3VMAFXMnjgL7eUCn0ahHBaYKGmd8iiCGO3SQLqh6QFhQtmRlRBGFD8mPqu1yEDyPgq7ThYIpLLuFM2+87UYfJvnIFrp3oZLKaXPF4UqsPgBRdDHwJVSiCGwKYAeMZB5Tb+SuPuPos45tSfM+ipRSy2VLtcjpWMlkLy2kAvSigH6JGBx3YYu5YMxim8XXQlB5TCZO-EcVKPqigBpxIA4ObJCmC2o6weU1qZ0AHi7T-g+0hYPooiTk0eF841SCwh4XDiDWpdQMdxIHnaLZAVuCJZQn0VcKegISwMj1Lu7EAU56Sz+b-IaYri6OrKe4Ayz8UhIwkJSqJUdJTFrizAxYm4QkzSXbj4oX9MwHhMIm2AKJZ4AADJ20GJLiXuKVIhysSAqeUzKXkqCVvz1sfEo8TSCkmWBhJhk8CcGg2WHKLJ7DZSZUHOWcdrlcio0BpKmUzL5l4AAyaMCMlnKqpmywJQvQCnr1wRBkKySWKMl2TqeUExyeUvSAaK7grk-YT+HDHAqhlGVdDjCtEBwqhlMrLrnXXOVZSdlcZe8PsMCnyBgpBkaJWNQuLeK5Ffi0XoEuSlOJUpbE3FVsp4k3i4QAkfRO0oCVJSxR94lgH8qJWvDjhnJMRQPEer3R-lp9UIaCLSE90FwCsTdhJOSTcreR9KjyDCJxXfLFWOSnUCyuylK0-SXwrrlTFQY5LtVB4UJoat+EDdyaroQQO+LMBbo9O5qw1g1BNUMt6+U7O1SQDlkASu5JDdlTRVNUWqXVlq78r8PYbeqFg9nI0KqytVDKbxFwIyaPytEWLyW3gRCZbL1QoTsBmatlSp1MCxS1ps0gSQpNjQIdk1fsstVDw-jwTVIoK+yQ8iVUWSHuH8aRoeDLBFrBlgQ9Oj5CRWIjkuRuZtRisCGeqgg+QLBK1yHWmTaAI6xIIPkF7gsFJmgGEe2u2kfRm1fKkwfrJjJT5WYKgEYhMkakN0jJfi46eTXMmexCluiw4MkpjnFz9l1IFNVstZk9Ba1ZXT2A2vBUOSX1ra8mmus7VtSPhvajyP2ofFldJWVUudSwDHWBAJ1eIQdXgTynQaF1ZoZaVVJXWdUAN4iIDaiJw7HzpY7iBTmMBEhtSRiXahYGWosW+KqNDTUzjRubWZtTOCkptTOpbV7qwIJGijaxrUm0BY0B6wtQpNEGnqy1KSgOhUEVVsackmkkiWRMonUS6JbytIDJu0nya9JiylQsuuQidUJNFGrHMhJPC5AomHG2ulxt8XmLpYAmo9fohPUCS71r49vtIFI3fLPYMml5Qstthua5lCygceCzymYbHqumjZe+SWiGacgxmmRShloC01qAB0jYLTVwg8x41gQu1luSBgJam88WxLZC2S2JB2G8W2LUkvYRZahARoErbfTYUzI2lZqyHOVvkTRbstJoT3sGVy38rlM8GjKny1hLuqcl8BaLYVqLrHxjKMWg6cNsS2uit1FitLWNqbwzaKtTSkeOaI6lzC2hYIuVUSB60hrIcc2vEDtp+i8qvhTWiqp1WG2Fa3oy4PbYsJsAZaKtR23Yq1qQwdbDNjAbra0uDV0sLK12gbSsofRFRPAp0LyAdutU6cApQq0lfKqfIJUbeHwRIZtrpatxRA-24Ru9spawcoVZofpSpw3HIrgK-gZrSyEx3drbhk88ebEFJx3aQycSo1dXCe3CtXtbgBsCjs+x-aGwg2h9GJOkaox3p4FVpZoN-r-0qQQDXEDeKfZBsQ2UcQHQ9thiflBVQU+zDZGVHxUbIHOrBEoBz5iIyBqMfeoi322UD965iD1vlQzH0dxAE4ycXgQvBMcWoko7MgpXfBAlXmY85rSeFF0AcXoMrBZifELEDLsdiIyeZ8yWXSBneD2pmE9td0vtUo9Or8AoCZ2aBw94uygsYQ-hKhC2llcIZ7AACc-4UaGnrMp8rlALAobTYCsp8r66BoHwJoAsn3kEOtZQjPeSLnIQrABRIqTzNqHF7whigfFviwahoBe9sGwWQRvui56bQkInWT0GH2l6KQOqAKTehuhWAPwF+J2buqCAT6ApU+pNJoBT3jB29ZlLxQ4rMrOKYozcQ9RNq+FKjw1Qy0PZOucn76nFeuFxVHtHCx6yIt+w-eKNQpQc7A7SwqPBocIHhygcIFxmEqUiuhPYQ7R8FsELaf7TxhoNXcQHg00NfwWK+9chGwiMAADmtapqezhCtERWUPYfRlXfAfhP9wSnJYXwQM9Qsq49U0AQf1YhrXQIUL3pVAx7qwhNKnNTpiBI3YwGDUPejY1PI0sbmNm6nzDwYe7qw0DGBjqFgdUjXZtRc6VvcYAIOZUiDvUZtWRC4NjBKDRB-qEwYEQY8d16QJQyoft0MskofYxmsYffD97DRO+iiNZIlVErwdBkRXfKToPw6c56u7YNcFRiuhXRK603QQE6q6BqhcO+lpLm91Y789VY4LIR0i3m5Q8wwOgDeB1Q-6sE56gOqAdUjgGR20BxyA4BskIGYSSBkwY+QHg5JQjircI14HXFRHdoJgxks6h8IslhyeBa8H6zSkqpDR8gSQFk13hfN0WKOmyaQO8NKBfDFTJozdAN2BHHqwRzAbjkNLpa2oX0M4etlh3XRomtWhrUIGWMGKcMs0ExcVq2O30djn-XgusZM19Bpt12pY-sYsVMl9jGx0PDtpOM6dEZ3uaJvHku23GdOGMoPGVMR0NgRI7S74zSLeNB4sAn+wY-iyM6KBJxAAHSwA0apVIkdg-gBGIJNydVVPKpJFsjd68CEh3khx3-CQn2l0J5sbCZqEImkTpMvXKpzROMAEmKhQgA4RuihMmTmgAAF451QACJqIACtpN0R0TUx0JlyZxM+Q8TjGf-YSYbRm8RoCR+gMkePDQnkTAp+kwky2pLxXsPRhqKUFhKkBYS-LQiPi1Yh4ASTZq5UzSdRNCmNTNtbU3gV1Mb4DTMrCU-1CAA')">function is_empty_conjunction(exps) {
    return is_null(exps);
}
function first_conjunct(exps) {
    return head(exps);
}
function rest_conjuncts(exps) {
    return tail(exps);
}
function is_empty_disjunction(exps) {
    return is_null(exps);
}
function first_disjunct(exps) {
    return head(exps);
}
function rest_disjuncts(exps) {
    return tail(exps);
}
function negated_query(exps) {
    return head(exps);
}
</pre></div></div></td></tr></table>
      <span class='comment'>
	We use 
	<kbd>argmnts</kbd>
	because 
	<kbd>args</kbd> is already
	taken, see section 4.1.2, and 
	<kbd>arguments</kbd> is reserved
	in JavaScript.
      </span>
    </p></div>

    <div class='permalink'>
<a name='p52' class='permalink'></a><p>
      The following three
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      define the syntax of rules:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rule? statement)
  (tagged-list? statement 'rule))

(define (conclusion rule) (cadr rule))

(define (rule-body rule)
  (if (null? (cddr rule))
      '(always-true)
      (caddr rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPYZ4AhDD4MwbBQHAiDIOgfA8Cy00qIuDmwlqyh9xBESyAoSgepo2j6Ay+VhAA-NYty36EABcQtIuUz82A-GvUI9hC7BAviC+XoVJlTUhpcoswD4mC-tYN+cUYxTnPKhT8YUb4FVAA-HeZVJxxhQc2NB6VPIwLgaABBUgkLvlQaHDBBVsEegXMeZCBDZxXifKQzBFCA70RdPyT+mCGHJWdJqfhHDiCHzIdw+KiV+jJT6vxCqAj6GgBwYNYqsjaDyP6qlBiJCJGwK4TsAyqc9HxDIQ-c2kgEJ6BMRJJE0kMZQLIZglIJi3bONcV4mwnCCrcIhnzQxKi1EBIMNzG6L0hjQ0plA1RBipE7Dtso6oQiypJPEZIoxERvJRIphdIJKTVGMJyQ5GW+jMl+PZLHYOtCDQWLVNUkyODL7-BTgokKZjTDQIMdMFxhRWpqRAbJHOeculxMPgUwob9vDMCONHAAqsQR65cADuWJsT8lUFRUAABaHZRTd7SWEu3QOcgTLCFmCMgWlB8CgD0BEWilAWCyOUEsGxwhGS0wLqczmjznlUFedYvSegLlqirkzGwnRVFyFkOIW59yoysF2NQeoQLuogpIJ8n0NhJzAjoIrcgoA7gHI0HvFOHiPm9O8V4vq0liBQgPocWgTk+nUpsCnexUkZIYuICYKlbLvEjP5QK1xbSJFMtEVMD5hEUjyykHZEBeg6IEsmSohVi4ljFjpVMZVchTCsrfvURozQ6gdEhdC2F2LrAzOoD4UFcJFnLOoGsgg1UOa7BkLs-ZPzqyQqIgFAZighl6AUXQbph8vmC3LqPWSobVWhAfsLOBb99iHBDRfMlnc3TdzjeGvlrKbCBowkuWSI8Rkhpop9PNqswZqJkaVUx6DykC11uCRgS502HP+L1fq9UWixJgfG++JKWl6B7bRdR9AB3xNcdMjN0kx2zXaQHPV07D4xWqiE8JvMPp5q+Tcu5rMWDs05qEomLaNgQSNU0YgLQzXmvkLCg9CLxgcjJrkspxhPoXsKOuZpmaMbvtKTjIm0wYH3usFCx9nqrU4qQR3QDkRjDFs9cSvp-6F3oylh+kD1M+Xga-s+7JmYUMgqzUht0ICsV9PXFh99yGQEQbCFBmFMGaMQS3TzA6egC3gWw8BmJoGCPVG6KEboftqpFpICI-tGl65AjlU3JWcmh1YNAEm6oKaDg+DhAAKmk7w29dRdOA1AFJxEhn+2BhU6GAAkKEf11U6Ah3nCi6chC5yjJbUR7a27uMjkjXBks4NqZEvBn5yG0sYbtC-optmHMuZcfekTPpibm59LfoHLUNwXMEkIO5th-RZJ0axp+-m+aRWhGczkPLBW0Ixj0FY0JvHKt8aA9ExmKsZUPtY4F-Gjc8GNg8+wupXif4wkG3VohQDOyMgyzsKhKFhudNUykcbUpFusPq-OHEHYQwFrfsLJj4mt6qjUek5tXzcVuzCy7DxDImO4o1iHGFYXquufy1tohsk3ZMlCLigzcojMMGJeZmTrRnvqAhQXDD-w3bCu8bS7LShxXMElbYzWUPZiA41C0MN4yS7tzUSUjr+8DFfPkqoZ6bU-Skd47DpVJH2m6KbfEBHrWCc1u3owkRZW93YtxSAsLDPeeulIwyPNTGREzdI6L7Uu3QIS9ACAyXCmIKMcc7Wxhm2gIjeMPzoE0uFfAI1XoHXNDMQzc8YUBn5vlttkVUrmB7OfEGLePDAKdakH4N150g3oQjdgNI5Nr7wFjezZd9a+d3bvdDcKw703TuelfwI+8Weel56L3YCvLg680BrVO2yQY7b-hURbeubZDxiVRCXBus2VO3nAs5fYGSsx4cE4py1X60Zj0ovpWig8gMWvN8cfj9vqf26IN76i955fj6nRyjCfAhYe-Ipn3pU200OUti5U4-Ac-lqTDauNZfoBOpZzZOS6gxkQUH8pCtE-sxJoX+TnpFHygJVOX353w-mMxogtmA2jr2misXVUwi1VdDvx+ilDhDAKXFMwgP5CHh2DgP+Cox-0bnvEjg2w1ULFQM31VFQMnW1TNw1SgK9igjKCoy5zOzIA1i5F0Hf0-xxhgQwO2EDAnwChKwXg-lYOxX7j7E4M3ToOoFkFdnOUkk0g73MAc0vVvFTTtUkNV26FxQWCWHi05kZTRwVDCyO0LzECsR4JJHD3xyGXINAAUOUg7FMI1Tbi4MkJm2K0kLWFkILktCMJkGQI8JQycKRBcPhjkMpEDA8JoLZCR37y0OZRAzARsJhTbw5HUPJ34Jai1B0AWCsL1BpirzM1SPSI9E+hcQfksMMMkIyMyFiKrVAA8ASPf1W3gRyN0HSJMLMAAB4Gi0j5hSCYU6jv5VFGBZk9A4QAAVDIUABSYgbEMFHQdwGGcGABOOFoN+OEUAAAalABazCEMGiF0BuXdhiLMDWNM2WLWI2KqyiBiB0F2K6O-QNT6IGOGNGPwBkBWSmJmMpjmOqUoEWPhFWPWI5xC22MuPwD2OsIOPhELF+NOJsC2IuKuPyMJwDQyH-kAXD3FzAX93ZWEOUHGAyCUj4K-gCnezKLiOVyhx-VlXnyU3pH2KhOwQkRxNrh43+OtREIYJ0CYO0JYIMR6M03BjASJUeEJhpP+IfktHhKhPqKJJ3H2NmEDHhL+0KFE0KGfQPgFOr2eA0I5KiKQL6zCBtSOHRPhEWXSHqHUyRF9UVItTYy8VxQ8LC24NKOE1cXXCJO8JMJBWcMjxFW8ODRCIVJSCVMgzV1vAPgZLxLd012mkDw7DRI7FmA9AxOsE93pN-nDIjVgyTKcxc2JIqPJLCEU2FhzJ5ITXGTDKZNazenoIuK1PR0HRazfnDzVMLmaNOIflkDdDFKx1JLkGLLCAbOzOlNBNlODHlKYzEz+OVPhVVOyLUKUGPQS0iMlTzNCH1OJMLGNL7zqDNL+C9TVEMz8n9OYytN1P+3gztOJQdN4IjK8RdOzLdJiI9L8K9IFR9NsMfL+G6wDKBEDMFlDNTJDQjLTzADniYFYGz04DXl4AwH0KzD+ReUb3RQ+QnhcmzEXylHtTgoBTuhf2cEwsoEBSeSDjyVDiQobkRm9mDGlTDFxTwsBRAtBxhGflyjhFNFMxsFNG8QqzcV+mtDYusGtE4sj2YoUL4osO00EqYt+nYlEvYgkv6V+gVlKFM0UrkEwS4rCGYoSjoCDlUGxFMy0p0smIKnUtCGYv1L4v1K8RMsLV+gUgWADg8DoEBjsvmAcoYGqGsusGYpWNEpsD0ColmGxDMDuAAD5QBtk1ijLPKzNfodlfLrB-LArgqwrtl9koqhLfoTNZgUhErQAgqiUUrQBdM8rrBormLgB4q7kAq8rkrwrQAwB0rJKYCABSSq3K-K0Kuq5qkq0AMq36KvXy9q2qyvR4IKjKmAgAQgeEGuqo6sKqmuJTGqaqmDhBaLatmuGtADaOsCWvkpgJaLuHiqGoKrqoOp2r6pgJCvWqSpOu2TCvOvGpWpCsOuytCGOs6ruuJRqsesGImsqrqtCE6usAmpsDL2fiZBouiH+XwoQoPEcKJS-gUiUlNFmFothsxCZkhqeXgoH0t2oA8AACsmxGYEbqgkaeUTrhKob4LTNtJpVoqwg0bcaismQsAsbobAVJsQcYqpRmLr0TVTN+ajMGbmSbKYDIBiAb1Eo9LsqJapaOYRbRaeaVqXLJBYBIA+LVb1bFbRbmLVaABRUSg2nW5k5igAOVUDNsqotrNt7MqwhvgyZpDxMNJsKHJtuU6vcL5QsOpqwsnQbH5g6HZpxpDyGVdpSHdpOrpsZFRt9phv9qnCZhOUaXqmxr9veRIEuSrnOnMJ+UkBiEkCNUYDOWrIJtUDUGc2iHZnLOpSZsIqyAVBIsxWfMKBzhzraDCEjNVHbIARrKcnMPCIZVR21KmF4yy3pT0CZpThMNmAlOsCdtjzJhlLHtjmy0nrjrorf3xqJooHxznp9rTvjtDtsJNpsFnM1MXIVCsiyEJVnJ0A1mqLKkvtdDexBEAWfv4VZvT26kzzAuXggu4EwBgpmn5BTAoEkB5kMHQgUkYG1kW3MIVk8G8EHCRgHHgbm0KXMhHOTFfGQjtF+LhEkGOIBNhOBJQYorQZwYAjtC-jfm0nQZwpmhYAUi5nsWkkakBPk0CO2FUFIFIHcEVj3gMEuT4dqoYDWL0F4dICbLhGWIflkfIXBJ+LWKkdPoKlkYdk4eQP4nIA5l8EBKztzkMb7V0fyvMFs2DMpBhN0AIcGN+J7xYdkDYf7XJrbp0Y5kMe-QIZMDhEYfcc5kcRYEkargQdcGbmCdWC-nkeFjhFoeMRhBzjMHODIRfULMDESbMCCELnSZCbMAWvhDvhRCibuUtESZkcKcKJAaiF4bdEgctxge1kSZcTfhfVOXjlDjKeSe8R+BJDaR0SUQyZ6PkbsbWP8eWG8CCdKfBQifwZOO8WWOIdRIgQ-j6cUTTgychPmeUZ9vsAS0CfIcoIieGVyc+RWNZRRFidnR2dMcGOksMdjt2YCYmYwamR2EsKacKX8cGJEtmFyimdWGHIHAyYedMfGcYBYFU38XONiA+cKHkYAHJiGc4CHEW4nrGgSTJEm-HNgEseZGATI8WzHLHRQwmlY-gkGfBLRCW1GvFmKcg6gjjbUjjy5FRCxZRvBWWvJFY7oXm1trm9GqWlx8XvbAxqWQW9nnm4mvnBXvAxq5hgwxX+XOZqXgDVQy6K7SAq7KMNV6pNZUoK1dhQmA5PiE40wFFVN1sVq2nTWhJZhVmOkwpzWW6whyb1WORNXKB2YUNdXbpORPGDWaHeSen-hzXinmLCmgYg9lmSRzXIXVEaJVW2RCWdRNkqIfX9XzX914UIhrXQ5Y3AtbS39Gy0NqglmiQVm39mclFY2xyQHDAfa9XOQxgRkwtybk2cRU302-WpjY0aJPyC5p7+Tsi4QRLinLDLRaJG3ZAoQrktJUGyhJ3fXp2Y1A3XnB2OwZHpKx3mAl3m3wU4n129QZG3XK7PXtXPRLm4WxK01D3MhnXQhXXy73WtXvXF3Up-XY243LDb25BY6p293c5DyWMn1s3XBeC+2f11xw3TMy31JwPDWgPjzYM-0E3vyu62R3UQ2+22DYLtMA3inLRQ3eTVyFF1yllVlnAq20o5hsQPUCCJxaBtVe3DWcO3m8OiOr2OC+24mSOaIyOnUXUqOGP+QYZjkAp2XGBLdyAK4vAA46gGhWhM3kjbxMOA2ZGJPFRGHrgZ2m3JP0IPElPiWKDF0ROYka2iI8Ba5vBgIhhkJUb8s1R6VQBRhyBcBgKs9SB5hFJHFQA1o7lZBpo1p8989YETlORNY9BnpsRZg7BoxGA6guGC4VLGc4uEuhnQAhaWhmnVE9p1BIuZBovC5LRYvbU0veXBFC4Sv4uCjvFMtwvSB8vCvAwquyvE2DCG8XhkI9AW0ntMcypbOsgwtmLdMBuZATNDzES-4AFGvJAeBZgovJBJpdTcV8UPBRuwtZQIuFu5v5WBxId+vqHDzUh4VVv1vsjMu6hlyC4Lva3IMkO+lcUWuNv6uZv+BAX6RCA1vDvbuih4Unvzv6VjVhaTzf0r1Aeb070+lgPrS2V1xmumxSujvFSv4fyfzYp6AOWZuduFu3vuylw8yVvPuzu9y6AtuCvZv3uMcXtOush+3jv-OieAImyLurvH57AXg9u+uafNI57LDcptvUa8Ocf4yyCaXXFAx9vufRwUf7ubT4N-uSeyfOZcedxGe8GkeUhn1-vHgWfAt7NCh2yOePuvu7OsB9f-jLDLDhe8fPD73KtVeTfafCJzfQBoeQeUhDf4fUuRfPQNfmMUe0PQgAoDKtBPPGs8z5JN2kSAFL3vEf5o-dheM342Bh2YhZBJPY-qUH40+OWNjpl+jbVGt+OKPQArOiFdzRuLSgzuHnAQ-yBPPqL4My+bOmfiUrFRvuug74MXOwtm+pOAJbmE-qwaKHPiU+-0IO+4Qc+M-WaAorEPAYgEpYhFsff8fWPLCV+bfkCF-6VqzFs9Ad+l-VhWPLRD+Ljt-F+9-Tcz-dBzDAwb-VhGGH-875wPDSDmEsg7XnDWPNuGvN+QjGGg9d-rg0-428v+fhdfnh3n6X9l+VDOzlv3AEfk2uh4ZMGp2U6YEI450A1oWEKahFvgJYOMK+AXSkcmASIbHMQBNL94jwkgLzvSiyCMAW0AUaMLsCaTYcMycKQ9JQlQH5t2Bp5YLA-1uwwD2SBdN-iQIAHsZbwAggHg0Ah51AWsD8EgJQKhDUDaBdQegdgNIEfl6yM0FgQfyEGkYH+dPHrCB04F7B2OEHd3oLEsLMCTIhHCDrMBsHKxP2P3N3rwJhyocRMgfAuI4PNbICAS2QFgMaw9T94GgSYbEP2joA7dQhulMYHQCW7oCSWVJAwJ1GKbRDwhUIOId1ylZ4dCYnUO3glTEZRAAhQQ5HGkIiFFDfgRvZIWLyVo2AyhGQyaMgRiCOIsg5dFCGEIiFRD5AMQhoUa0LKRCLWoAeodIH4BZDeS47PsAMPyF3JaqzQ7wK0MBT1C9AwwzITUOqDdcTqWxYoTuE6gIknMFQwIfgCTBGBFIPKIGOYSOFaA6UkQOwL8H0bFD3amdcGCXC4LHDrhWwu4R8IhasdkuXwwYRpleZzDi62QRYd0PSE10CohMA4SbQ2GdVLhujLUDcICH3DKhFkW4RCz2G1oqIdKKEDcn9qTAcYm-CiJdE0GeErs8GKQVUX0EiDSi--ZwkxnXBSCde4PE1MUyAFEitAiAzwtkIRFBQ7KYfZ-oqkMGzBiRXIvAbhSuHeB5w-IzovsBJGijSRFwyQjI3wDmgWgyxYpnCFVF0h1RPHXLgu05FDCtAZgYpnaWsBxMIgR4SesaInJ8tB6+dRQPWAJH8I5RIow0SEQtFSBLeNo84GxzTTEjBhcoxxNKND6dFAwcotYSkEDABjphBUIMVKMkAyiDm1orpPvQFSWgYxaYtlH6TiZai1RDLPwWyRvptgvh-lcwpYWqqwiwqwscUTVEWBawA484DTmmGbG0BZgybV0aAGTYhFyRwWGUW1HxR6ows8YvkaGL0AdjDRrY4gLPVqHUpux9IozmMVDEDiCUKo-MZnxLIAiUgDZC4sWJ2wHDGsy43VKYD8GEAxCi-PqCmKNbotkxEY2sS5yRF3Cou2PArvEKBArcwsLnRri+OxDP5FxIOZkTIJNRqZhYijOgH4IvFpsFuhIK8b2PrZRcwsE7Y0QyMpJWiouZgeRoU0UZRcwwN9UAEMQAAS+tSQAAEFwA4AfWgACUhikAAAPJm1kAxKPQu3CeL19XKU42SCOOnGKjWOZ4pYJBJTHBjBhD4yCc2104Y1BJUouNg+PUBlQOJjDGSaUB4Tp8JJ5hQicRLIkUTqJdEhiQpPZ6iSdOKkorJJKcDmEHxpYyCZIGgnjQuJ3tGUOJP6A7IvhYnNGIv2UkctjJXEsUaxy+HWJjh5NAtMSPcAFUNinnJsI9EbHuS9OYUIKSwEF68juJIRfIaxM85RSJJXkxUdfXsC2BuW6iEgD52JQAAGDoO3FvQrJbIuU3NpbkoCtBy8uU6MPlO8BhZ20Z4BqSJ0YC-EeAKE28C1M1R95HEjDKxGVKYQgC0CcA0Ab1KCE1Jqpl3SAWmjhARtr2PgSaVVPQg1TKe6DWsXYA0gjSAIUgGIEqm5Y9d5elUk1sBBqm6FniFUs8KtLbA1TO+QIAKEUKWArJ1A2sQztUEUxWjM2qWJcdTmGn78SBK0s6TNJ5LcJLCHHCrpYWemSBXpcgbWHYIQ6xiz6dgF6W9KcEQcwZ8bXYMdkXEwy4Z2sXqbWIaDBCEuBIXICQLpEQDsUT01GbDPRlkj2BPmJhCGmoxeIVS+o4AQBGgRszYek8EvD93HLQZLBfA+th4EEG79GCNI3gmKMFmg9JBzPFkUZglIPxVRrGCUm-HxnozBR1-IwV+VsyuCJBjcCGSaIFQPwtZ8M5MZ4UyYBA5gdMgmU4PK5eI34as2QC4K8H9Z2C9shmX2z8H2i8RyKeiF1034JkeJAuCkUIIllH8X+1iWkeNKkLiD6eegyWToFAD5Nde7A9cCQF2KJixxOszCMKNtG1DQ5AAouW72ZlWiPQWKZkngF0x1yv412SOcSmf7SySQJchcZ9IggCD05SsrLmNgy7EAc5SYlflmOsD5yO0wos3rZn14ejnZ8bHEVzPgHty-Cx2Y8s+hJnZYpAYUUOVTI-IuFa59czubeDzE6iCx35WXvLMpDsj45PvWWWhwkxgxs5wJXOWxMno7ddguPHsQkOcDnlHgJ8rIAy01HaiAFG4mwNMk5m7B35k0U0ZIU9EszIFpsq9v7MUCByuQXXSBajU-nOE4FVoj+YgrtHYjkcAc0QmgqyCT1ceGCnifVTAB1zdMcCy3p1DOAXAHkeHPBcUyfmcwkx4YvIfvXDGTRkZYQDhS-LD4TseFs46oBO34WjyCoOY3kv-PVF+C86lEXqYdNAETiEp7YoVpzC-nvj4MiYbIPOF6nNStQSIXachH2m5AiZj2eDEIuPFhZWUQipMeouDECLCgxYRMGeLTD6KasRM1xSkHnErzFxtigSKuOHbALdRhSLcX2RHQOQIGWi1RRbGvwmRvFhio6bGKLH2ASxB44JYONMBZTCU6kyQJRPmQAAZfWoxPUzNwSpXBewKlN6mcTJRTgbyd-Iy7njAeVEEybymKYiT2lYwepZ0ukns9ZJ10gSA9LFjTRFJZUfpWpKIlFLSl5SvSW6AMkjKGlCU8wr5PHqtAC05kg8ZZOskDK-FYQWAtyyckHCUQ+QnZeiMGKLTjlWQU5eiJRC1i86-SjKTopr7+DKh8IgKdSiMWdUNiSikZQkvikuLFRyU2pa5ReWNLEpzhWsVyGPRnhCW44rRWYI0WkjHx3wlpb5K+WnCCSyov5V4g2Wr0QhYI-tC1hvSGSPJDWZxVKLFGxiqxDSIOJzH6XUqmlmUr0m6WhF+zo8cS2VkitlZcj0Vx04LDtGECfj7AVoWjv8EVZwhYcPK-FlX0FgiqSAisoCcrMKRwqiKcqgllooFV-C4mSq3IIgU6yKsOV6I2sREEgkD8IxPw7aNC30BIS8liQW2ZaNQEOrMR00QwLaiWBTiY5Akqcd5lA4v8GgVEAfv6oJ7wYEJxKPZeTxgn+qfuuKfhv0TFw+qvh4dEVJcuRFRc2WDk2gPcoCEKrQguwfLI12zVGTc1zk+9u8xzXcT6Via7admmrWCrEOws7FCdkJLSc7AIy31e0oSVCr62XEsLO4o0BpwrFQIZmZavQVQreZKQXFJGvEDtKrJMamyVOvjV6LHA9artamruASkM1T4grngROXOS-eRaqYFmq5Z3KK1fSSwr1NmC1r11YuSaX8ObW9ZW16HMQNpy7W2o0pLY6tUaxUX+qi5JZD9f+t-VxMP1U4yRr+q07ydv1YUADdik9WdqfVBdP1VBt0XBZMgFK6KfQDCyFLNJVEmifRPABMY8N5EgjTpIqVVqy1Na2qphtg30BDy64OEH-F8bMwoyMGlRUTK+SIalgk0lDT2tHWizCUdG+pbhtmXFKylxGoEIUok3lLhxeHG9TMJOoibuW0OT2c4GY0mwIJUgTUsWAJrAo40NqpIXGkYYlY9NGIA1ol3U2FwTNbGwggJDdDmaRAzHKzYLC469xGGR6E9OeAkD6b0Uhmlpcl1s3jLVQJWLSn5ooCWbzCiMuwtVBHjhaMQLmu-sGGC2lSZAOgByFCERUBbFxMW2sXpuoAHSnNu9XVdCKM26baAEWq8MVv5gwLTFXwuJgVoOkjwatskVrWsNlWIqzNlWize1t6Qu9-ipqgIYThPWDF6WRxTrVooQKVbCtvKapdVHC2zblhvmxLaVrNXlb5ynMBLeim2271-h6WINu1IWHtCehEIzBJNt5VhaVtIgZbXQCq2VEhtvwfNANqU2dVFtzWhzT5ru2Jbbt9257Rzke0Yi0Qo25jYwAm3crCW+lXzbNtn7VRb0GWhdEKjRV-CfJBwvyVoG+XeJzyIVM3gVCC0Q74l8OzLVqqOaRiCVu4zJfuKuV+lYEL23ohkuk5U7kRHo6eYo2Fj9aUggOvcCDpZbg6u0Wq0zETukiw6sRTYfLFhxY4tKGcJAu+g-XkTD0lyfgk9h6y9aKokdXO1cC6TR3YqlILibHS4j6hi6F0afKcEQP+Bz1-mD2pQnPTNx2tkqaY1csoBnHiKjS5HZ1BKMJRHhdyxxKeQNrhDK6X2ICR5elwZ1ZLqd2Cq5uzr10OE-hwO4tf7qfantVdGqPnaSmkgC7ZgAes9ihlZq4oFIabAymELCwABODoMHwkCGV0VBgRgQtor1hD0V+dRxL4FmC8pdSzM-oY6vYHlz4UzgbIoVNZ5DC69ulPQPC3haFg0AE+gtcYJh6YJC9w+qEXrLCBz7T0aOxKMg18kWRvazgfZOfgD5iYgQy+hvWvqOCzB89X2wyk8rkCvTsQbaDtBqC9VrbhtrHQHXHqtZX7dKt+5EIWAu3yrLk7+m-csBLwi7pob7TkCTpiAnr4y3gdIFyAVpwTCUO0MLO2w2RDA02oBhpRjH+AQGHOhxNoI8qYzPpXkjAGA9LTTl-yuQWQfkCiF1LL7BieyfZOga7FaL51J66wPQaVCAa6hQ+kyGM0RU7RQwrvJDj+WfQ+rpOrsb1fJ37T8G8ywG3KV+og3gbG1HiaQz90IPQHRCpB-Jn9B1FUGB9tBuEPQb2Qk9KVzgbTi0C9SGGODrg1HhfJSD6HDDRhwlnigJQMAHDeyKfdYEP2li+kvkzHdSn10c5eD8SrMSbsIF7wdoXI29U7oIC1UJksYn-QSyBgU7GdVemsdL330Pyt85GHIHQBWTINsDXYdDfW0QPEpkDnbdA9aMwP3JiArB3A-gaKOEoPC3NBI+OKSO6A9xqR5uP2wLLhMmjgwhENQCXFsSLiRooYLE1swpocWyreJaEf5Bm7WjhcPo1Ebt0nUJk2mwFVFh1KBaF8+sXwAJhJG3LsKdm4Th4pHVHST+87XtcgUmkeIuN2xpIYGGa5HSnZvROlv-s-1FNeSWDAcETJG07tUoJO+Fhpz0DiKAAOlgH-VEqoQYh-ALaiCbs68qSVT5GyjH3Ph1DsgasOgcBPAmwTEJ7lpIyhPLAK4sJ8FtaLTSEB4y3tQrpYQpOgAAAXjHWsDgmwgmyok9YjhO27ET9J-BpVlRNwgiDMBo4-rw+DZH6AeRnwECcJMwmOTs1X5r9FUBHEPARxUgEcQZaMh4WTIPAFicRWSnSZbJkk0E1lPK0xtip5U6qceV8mlQQAA')">function is_rule(statement) {
    return is_tagged_list(statement, "rule");
}
function conclusion(rule) {
    return head(tail(rule));
}
function rule_body(rule) {
    return is_null(tail(tail(rule)))
        ? list("always_true")
        : head(tail(tail(rule)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	<div class='permalink'>
<a name='p53' class='permalink'></a><p>
	  
	  
	  <kbd>Query-driver-loop</kbd>
	  (section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query-syntax-process</kbd>
	  to transform pattern variables in the expression, which
	  have the form <kbd>?symbol</kbd>,
	  into the internal format <kbd>(? symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>(job ?x ?y)</kbd> is actually represented
	  internally by the system as
	  <kbd>(job (? x) (? y))</kbd>. This increases the
	  efficiency of query processing, since it means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>car</kbd> of the expression is the
	  symbol <kbd>?</kbd>, rather than having to extract
	  characters from the symbol. The syntax transformation is accomplished
	  by the following procedure:<a class='superscript' id='footnote-link-2' href='#footnote-2'style="color:green">[2]</a>
          
	  <div class='snippet' id='javascript_95_38_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (query-syntax-process exp)
  (map-over-symbols expand-question-mark exp))

(define (map-over-symbols proc exp)
  (cond ((pair? exp)
         (cons (map-over-symbols proc (car exp))
               (map-over-symbols proc (cdr exp))))
        ((symbol? exp) (proc exp))
        (else exp)))

(define (expand-question-mark symbol)
  (let ((chars (symbol->string symbol)))
    (if (string=? (substring chars 0 1) "?")
        (list '?
              (string->symbol
               (substring chars 1 (string-length chars))))
        symbol)))</pre></div></div>
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<div class='permalink'>
<a name='p54' class='permalink'></a><p>
	  
	  
	  The function <kbd>query_driver_loop</kbd>
	  (section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query_syntax_process</kbd>
	  to transform the syntax of the query to a tagged list
	  representation, where the tags represent the kinds
	  of queries described in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  Along the way, pattern variables in the expression, which
	  are identified using  <kbd>is_name</kbd>,
	  are converted into the internal format
	  <kbd>list("?", symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>job(x, y)</kbd> is actually represented
	  internally by the system as
	  <kbd>list("job", list("?", x), list("?", y)))</kbd>.
	  This means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>head</kbd> of the expression is the
	  string <kbd>"?"</kbd>.
	  The syntax transformation is accomplished
	  by the following function:
	  <div class='snippet' id='javascript_95_39_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPMXVQAVqoah0KQ0TsxhS71ZrqV6H1uwC7rUiB8Hoc7yY+U2AA-KAuUx3HCdfrMKc7yFaYn9MZ8FQpSnz4vy+UKvHrr1opvTkswc6yRPoyd+oAABcQskTbxoqfaol9r7n0BuDFSZU1IaQQbvJBhRYE7zDHgBCDB8DMDYFAOAiBkDoD4DwFk00VCLgcrCLUyg+4QQiLIBQSgAGpliAyKB1hL7gz8MImBcCSRCIKqAFBGRHqEF2CBfEACvSYIJESeBDJZjsPwdUWBcUYxTnPKhT8YUZEFUvswsqk44ymObOY9Knk9ESMMVIJC74zGh0scg0ANiFzHmQg42cV4nyuNke4gO9EXT8nKBI6xHpolyk1HE8JxAOFuJ2PFRK-RkpP1SgxA0CT-FJJyaVVORTjC6IyfoghOwDKVIscU2Rl9zaSAQnoRpEkkTSQxuUN+sihlhEaW7AZEjhmhAiQVKJEM+Z1JSIk5KcyDDcxui9IY0NKYDP8bUrJ6tjbxNaaU5Kds2F7MiTsbymyKYXQWWEJZZVrkORli4i5Mz2SxyPmElpVi1RfJMjYzQ0k9CP36oU5p8QakcMGZM0IrU1JqNkmAnZej7mhEIYwZgRxo4AFViCPXLgAdyxNifkqgqKgAALRUpORoBywl26HxMsIUBVd67JEoPgUAegIi0UoCwXJyglidOEIyWmBdmX1QFUKkVelQUkDZbnJkNhOj+LkLIcQ3LeVRlYLsag9QOnyrFXvawk5gR0EVuQUAdw6XAv+CnMZYrYVwoKn1aSxAoTsMOLQJyEzXU2BTj0qSMkFXEBMC6gNsiwGRqjdUR+GSfWpKmCalVYR5ZSDsmovQdErXosWXTNeSxiweqmLmuQph-WSPqI0ZodQOiqvVZqn0NhvDYrDYWfFhLqAkoINVDmuwZDUtpcy6sqqiIBQRYoJFuC6DQtNeucuo9wE0U+sIy+wthGwP2Icbe-CQXoy7lXWdEbdkwqrTYKdRbZIjxRTvT687VZgwCeUvJZUCkVXORwiVGbliMCXHulhILer9Xqi0VFtT80XztawkDtFBoxgg5koZhD93-DgwNeaSGn1MKSSs4G86JVcp5azFg7NOb4epuKltGwII1qaMQFoDbG3yE1cRnV4wORkxua84wn1TWFHXEC1hh7uMvJxkTaYejmPWDVaxodNGbDmtE5EYwRabWgH9cJg9ncxNbIug+6TUD2MRCzYuB1unVNujUdR-164VO3CLTJsIcmNUKbsxBAJKyL3gSljxmGuMpO1Oc6EbooWJ3VSvSQZ0jHWgaQ5bRlyTclbxfzRu5uUDt0HB8HCAAVNFmJsXcvoKi4iQr4HAypdDAASFCBFsGS8cgEkINORxc485diBCZ7aazeYhglaEc1wMNNzKxgqDraaUi-rZhzLmPMDq439el0o-rYGBy1DcEO84DWtdCf0WSDn-NpKoxGnzKRGvbZayEtCiH2nebjVGke0sAtE1HECVzzaoG-rsY2NrPz4hLavjCH7u2bvzhxB2EMq2dieJQn9qpla4UoJhLD67TiVGdkgXC2BwtnPdD9tVAJZz0nfpbeat2GmXZjIZM581GsQ4apG1t5roOnGyTdpNmaJZQAFZSS0BgtrSsxfA-T9QTNEuUm0-8N2sahnuo20oRNzBk1dM1mL2YvONT88fTPZ9STnn6a-XveSqhnptT9EWvQPmpc5szE05xUKzvVDRbr3DyUYu8cumeve5q1EaZtx710ludHe+czFjHlvA-agh6BEPaj53OfXGo13qoAmo6Av9r3eiJXh5j6o8zeh0-eMxBj8Zzu0OF+TK+YJGf0LZpD3o2X1gjNqusO3F9xj7G18hVn2pOfCsR+zSDtHwE8+Y6bzB4Dnfft7bbPXg086J8t5wCQvSZCKHsGoVwOhaA1qMJIuCf9-wqLG4gpSh4tqohLhT2ydpnTg32BkrMGX3uf0tV+tGMjBrPVGu6oDM7D+fSc6oAL+y+-sn++qhqoqp+SW94kcUo+AhYEB3+UICEps00QaLYIa-S+AMBlIK040iBoAnUWcbIjq1AxkoKeBP0mMY0oKswk0pBycekiuygSaTkuBb+y0kwbUhBswG0N+Yg7SZmmEJaro1BNsUocIIhS46CYh-IQ8Vydu2aNmXBjccB50lenohYMhd0TBw8yh5mCG-IOMqhLa-cSMA4NmOGqeZAGsXIugrB7BOM2e5hk8wYYBaMlm5C8CrhQIFhm4nhz6dh1AsgrsLKkkmkr+5gdWEu2wO6PgPhfwCezI5qCwSwM2nM3qyuCoGmuO++t+puIqkRykHYwBSKEhoACRpReo5R5mbcAUSRL0mCB2kRawsRBcloTRihTR16oKbRFgHR+MlIgY3Rghzg8uP+2RvqEmLRswHowBHgHIGRfebhy0WoOgCwNRmQNMF+V8GxWxCxUGIiVR2Wegd+JRY+dRGqp6SxYR0yHyWQugWxVxZgAAPPsc8fMFoWupMtYlitQDlgACoZCgAKTEDYhqhVzuAwzgxKJxwtCwJwigAADUmmD21ghg0QugXK7sLRZgaJ6CyJaJTuoQWJMQOguJPxWOwymK7acIIJ1ABAMgRKUJOgMJlMcJXylAiJ8IqJ6JGJ5JOJ+AeJZRBJ8IhY-JpJNgQplJIp1JNhokCiSig+BeY+hGLaAU7C4wGQSkfh8a1UF22xGq8xYuAmU2XCrgzcxpvxca1iGSOptcVuGJraIRDhOgThORLhkG0psCY+NqjwhM+J0pJxloRxIZkiRpO4+JswgYRxnO4W1Q7G7CAZl+zwmRnpMxChA2hQbagJxpnaxA6Q9QoAGkY6hQH27mwyymkRGmKmTR28wWHmt4RpvRVx-RSIp2LpgakRfR3RCZ46iZBc2pGsTpy+TKA+Y+wemCppcgGpQIWpDpo5epqxUCAURpVxs5CWQyv6wsNpxxBaI5upzpD2b09hFJmZKuaKZ2fpmCqZhcrxpJl8sgboYZ6uoAHoB59SUZw4MZcwwY8ZIWjaxm2qKZex6RSgZGs20xya5pYQeZRwM58I+KxZnqpZSIw6aohWfkA5smTaVZQyNZGFtq9ZJRRmwy64rZvZ7Z3RE+AavRM6-ZQFsm72-hnmS5x545q+3U6+rAm+nAtCvAGABRNk-KgqVAwqv+B4YanCsBEcmhrK8IYlsq6BqoylElSwAqQctyocYqE8BMlhZQJqYY5q6llAklpCGmuU7818po6CNgpokyXZKQ181o9l1g1oTlTe18CR7lpxhwXlNlv07Efl7EgVhQ18CspQ6CUVcgsizlIyv0CUdAQcqg2I6CyVqVkJBUCV8Kv0CF7lCFwyuVl6v0CkCwAcHgdAgM5V8wlVDA1QJV1g18KJflNgegVEsw2IZgdwAAfKAJSmidlU1UDlIVSm1dYB1V1T1f1ZSrSsNd5b9MVrMCkFNaAN1TarNaALlutdYCNdfMABNTyp1etTNQNaAGAAtUFVIQAKRHVrUbV9XnU3W7WgD7W-QX5tUPVnXn6PDdWLVSEACEDwX1J1j1W1wNtq-111UwcIbx91YNP1oAHx1g0NEVv0bxdwE131m151mNqN71UhvVCN01uNlK-VBNANsNvVWNK1oQONT15Ntqp1VNegcIgNR151oQT11ggNNgJ+78TIpl0Q4l5lcq3UGOAuUCn8g41IswZlFla+QtxiVRItsqUlJe1AHgs8TYjMNq0tikYauNPlatGl6C2kqadFNgCt4tB4TMWAwtMqGlxhDYetguMI189Gda6CXtsWI13ZeVUhkAxADGiU6VK1wdodHM-tAdzVZVWgdVsAkA7ltVkgSdMdsd18qdAAon5TnRnQHdfAAHKqBF1HUl1F1fkYnK3c420u0mJXH63VAy3cpPVdGnp10g5MyO2i2SXD5IpN2FAt240W2Mjy2m1i311xj20BRSp12iqKpsnnSVFSoxCSA1qMByDYgXnfwci-zswnlwp11aVZAKi6UkAF1hA5zL1tBhD1bTQvkqkwVOSVGTFepK5ZlTA+braep6Dz0sGbkCkYmd3T5kwxnf2xwbZ-0T2K0S1a060UDAERmq1O2T3931GX02AQUZnP3iFhhZDWoQU6AaxLHvof3JojYgjKK4NxJMi4BgCWXkJ8VUICXcCYAiU9S0BRCqAUCSA8yGDoQKSMDayw6VEKyeDeCy3ewAVV4AR2hQKXzmQyNBJZB2j8lwiSDEliLYlykmTaSiM0kpCwL6OyPIQlwBSf4KRcw9LSSNQ6PbnDHbA8OkDuCKysIGCgKkCkBnUMBol6DOP3lwjImXxBOSJEn8nOOYMFRBMOz2OKH8TkAcy+A6NKrAHX0JPR0WDVZsUtlRAUnqNs38mWOUSyA2PgYy3pObAcypPiqEkmBwj6Gq32CzZ9IsD+NVxiNWlKw5xpbwjCxwiZYNIwg9NnCnASIcZ7mBg9NmBBCFxTMdNmCQ3whoK9NSOtAjN7FwhoITKXwlopi8P8Ml5CPaw9MTKwIcaHzxyhwjPnBVo-Akhgr8SfrTMHkhOFNokZOcytNrPtPVwvNSmTLIlaNTnYLwKPPPxhTTMAvDJAv8mfPLDeBtPaQoovMElVoogDMoZNOJMmRwghVKrj3NNfOIuGNhBRLVGnN+KfNs2+WzC5SWg9OxnBjTOEs4sIuMAsD5qzJ5OxCUuFAhMADkWjOc6jQrgzspVJPTjT8LPMjAJksrG1axjce5fwEjPgloCrUTwy18OQdQRJgJRJ5ciohYso3gxrXkisd0pLoQl81LGrS4crp6gYmrrLLTJLgzdrfYLr-5A43rMrDr3V4xcw2Ig6uCnTewZxJ8CjhcUbBi-iAJPgO8hZ3avaH6aUwbg6qlE4XDAWJ8ahooUg1Rsb-LPrZQxbRj8b7aSbyFBKxKEx4KFUXOpa1VipYgprjAJe5AFcXgAcdQDQrQebSr2wA6-webmz7biojT1wUIE76EYyg7OTEUm48hjMYbVkeAtc3gwEQwyE8tLWaoaFow5A9DTAfFpA8wikfSoAa0PKsg00a0u+u+p8E5dAmsegz02Iswdg0YjAdQDj+8yWZQ37gJf7rzPOnqtasWZz-ie06g77Mgn7hclowHv7-GVdijfYKHoHVaa2nIb7H7TLA4WH-GQb7SO7WQegPuKtouZU5HQ67tUhuWdHxWnOk6ypSkH7kgPAswnHk0OZZqKtlqHgdHGmso+HCHXHhHZQNHLwZjuFWqt7hAwnAE95vtLQcFcRzgan9aUClZ-HYQ5qWHoneHpA8HnM-AUnBgSndHhEwy7GRnex2nGngmdGEHDGTG-qenimsi64gYWH8nQ5KQYWg5gaas9AZrZnknoAvHs5S4cFQ21nKntqYnpnnH3HpbquDOsnqj8n7GQnInjnbndaznmJ9gLwA4MndHVtQy1RuUaX8tZxMXH55mY9yDoQgYlXcjtnFZ+F+ng2KtDnWFr7qXEnFnGX+XXXzFRQ2qDnjwTnOZtWhQL55X9IiXu7WAi3Lp1R1RTXNm1XD2O4a3OXTIm3oAXnZ2y3fnTYIHsXMgAXIXQXrFoQAUmVWg575xcF8kgTo5iiuwmLSOV87HPmsCbAmzMQsgHb-3rql84PZrTudJ+ZLAybdboAm7TimFdH5ZLFmnoAr35A57JlKtaP27SXYJRR2X-wNdhgoAR7GmxPnbAEbNP3Si1Ypl+7tq9P6EdHbNsPkPdDAU7SHgMQCUsQsOt3lR1RYvzXnoihQvnqF5sOegcvIvqw+bXsrQyvFJsvwvCvBemvuglRgY+vqwjTxvkga9DZUv3RavQ3b7VvbRjTb9leKjUR8eTAnZNv1RgvOvovpjWQ4vD8Dv99B+gSYbNves8BUw1bWzjKsUJYcYr4IK1bTRGuRZKBgSkgF7nqWQjAe8FjtcgKiC+n3WofECfXSmKtxvlOPvHpFvZFNEgfnZU3OPVfhXDQ7ndQZ2l8JAqFUIR4mfurOfuCjffwVdNgsC0YuwJkZv2axv3XQXvXJfRbiCJXgs1Rk-ejfYECswG-ysEC8n53FFnmNEU3wX2PBcu-J8QbWJ2QLAAckDP+DQSY2I4GdA6XT-aVYwdAfHQ7WYe5b-vTD-i-yhDf9KOHrM4oTE6j7d2qPjKILf3v6DpH+8gT-nY3gE7goBbXDEkAK-6TRFCMQPpFkAXgoRn+r-d-sgOAHSAf+i7AtoBwMCdRo22AkAfwDAFxtqikArVpR1xr4DvAhAySowL0CMDKBlHaAcMk4FPUb+vwFbnQLewE4GscAyQfgCTBGBDailf9vZiUEepIgdgX4Mk3gEt1F6JHZmBgQ0FagtBt-XQb8HDb-95BnLaNpujjbcDN62QPgeQPAz+pCYNgy+mIP6qKCtAmgiQW0wCFSCAhMgjhv4iogeooQXKF2pMFMJ+8oiFEL3NbzJyV8a+1feXo4Tr7wJ7eTfagc4Fb5zciuUHPxE7yl6JCR+d3cAYk28Dzhyq73Gfnrxr6npyh7vUfkG32DVCgodQ74h0NmAtDkheQ1ofR0eBwh8A5oFoMiWjajDxherQZmsjg69DceWgMwNGyaLwwHBHiZMH-WWFAMHk4QyIeb0UD1hYhcSRYf0LaKDM+UZxDoWYHOA7BqiiQ3ph0L6S1C3u3xQMDcJEGyJAwjwr4QVGeE1DJA3Qn5p8MwFwpLQvwsEZMn7KDNphdICYdfwpIEM2wAQjqhLzOInVvBpZZuK2x6iLAtYAcecLO0hacgzW-QWYAqwjZe5KRAw-rtzm6FtRLUFaDTACK6FvC9AlIxYcSOICzAoRkyGkUHxx4Mjy01qTZmMPhGzC-E9g78kiPsAoibB5xN4YyLzRBtCAYRYXn1G2GdYce3CHlvoEtA3DcRNPMrqiI-bpcP2VAukdTwFzGipgZonjgh0YKDCBchQ9vnWjkTYjSgkZINhqKoiSBOOhILUVR25wfsNMBo5YYnktKh8P2ZgEJmgkkQft8G9gUAECQAAS2dSQAAEFwA4AbOgACUgSkAAAPJF1kAtqfIu3HwD2Bz2ySMkYhlZE8ihhlRNUZpQg5UQtRLw3pke3N5tixg3I2SA2K5a2iA4pQWsR232yNNux6gMqP2M4G-8Ux6YrMTmPzGFiSx4AScWV19F9jSR44+sX4JqGVFuxqI30f6Ik6BjBxJrHcZiCpQBDY+XhH-LOIbEVDKiQQ3wcoKUgXpEh7gTak7nPZNhHohIscVeC-FI9TinQxsbRQvRVj8edVR8fuKcDPirIBDWwJawQwkAr2tqAAAwdB24jGIlLZFQmXM74bYSgK0GNyoTow6E7wBpn-RnhKJJhRgPyR4CRjbwtE4tN-j6SNN2keEwJNXgo5S82JCA75OhFInojd0MfBrrukElETgIpEyzgYyNF2ANIvEgCFIBiA5pLWwY6ntJO5LET5wpEvIiyQIlngZJJeUiZR2cwBQ4BSwIlOoG1gLtqgv6I8GH0BzcSjJivatjpNviyS6gX5clpG0QSA5qi1kyQLZLkDaxLQ2-aUiFLCnaxAw+-aHEQie4FwYpdkjSaoyDYNBEBf7AkLkGrY5DR+EqKyXYBslpS7uxfbVBEGcl3dV+yZWDmUCl41Ty+FpW8FfhkDN8WMbmZqQZ0r7pCVePYjpGRWfEdSWplIDwKpyKEtAQyl8MYW5hDKwJUp4UpXjX0tweB5+BUboNVkP47koxRbFYQGkviLSIpW-cVLMyOl79rWWLWabIFP7JTHG9MEqaFLKmIIg2b9Q4XsFCJchkIzvPia73UDPiJU5ONIbajN5ZCSQBUu7s5nYxV8lm83bzoLBIC4kgR7IhoZhDn68jY6oQD0MNN2F6cS+zkz8u0RdJ4BcspMqBEDIyE6A+pF5MGf8GxlNipu64GGa6Mg5TThk3fYgEjOBFi8oRqMgDOjI27VZFu3RRKREKgZS96ZYxd7Iv21RZSNsUgMKPTIhnUYLqYAUmbli+wQQ4RWQPVnjl67wyhMYs3+hLP+kMzWKsg6aIjJFLIyYJf9dLrsDG60iC4awsUTMKh57DtZEwuYfVLtny1JoqwyIpcM2E+BdgnUXYTa32EK5oh+qeiN9NDl+znxQc0Pg7P2kls3p0cz6ZQDjljd45TY6wCTLJkbCI2u6UObcIuBXCS5-svxFbM5jAiPhGA7sh8Mmh-CUgNcm2e9wNENzMZ1QA0c3L5GFAYRcbT2brOD5shTMlrXwOJmzLziI+mhZ7PyB0KWss2dYWgImDVFpg2JlRbSJvMUKCSxkm88Pl0zwgDg-Omky6ScR1ZyBbJ2IQ-LISHFKMiOZ8o0VKkohsT0pURTkfBMbECiPeKQ7nImGyDzg2JNErUEiBUnIQ1JuQTebThVptyRRGmKtG3OBGfzwJLc6oMWDXlpwAFTWTeWgsKA-y2hgwuBQJCtSBNxROs92RHOlEVspcfDANu-NdgUETI2CoBZpL+HulkR4OBUcQqZGmAkJyYtMRmLzG4oAAMtnTLGei5AOExotWLqpsSBxX8gGfOJbE9iGg7YwcdG27FbioQ8ijsQeMGZTjRxuixQoYqeSWtZIlRQRZIGEViL1xRg1UFot7E6LzFeipwC+JsEICoGF6I8QqJPEBjxoF4sEdIUtY3ibBKIEQT4u0FtMJJFrLIKEqiUohn5AKYyQJFcUQSBi8418UoJloXpgFT1J3C-JSXvyGuqCpsSIOgk1jdFT4psUaK5BkYzwCrDkQGypEvCKhZgywTbyyVaAcl8aWsvkuGRBCf6UIfgWdgYwzsrx+2Jpd4E5jVLIJAaLEVKl0UoLWlNSifG2U8GvS0MdC6ZVMrlZtKQhgMlWjtGEAaYj2VoENv8G9ZwhaFCrLHoLGOUkAJpbo4oSWzqXaVtlcrXZYh3WVRKhxDy3ICu1kjesflt-I0REF9GM8bhh8rQRSRBHLCZmAQGHFsPDF8Lr+XbOwEBJEn6S2x-jCZbQD3gl8IV307kbZnQUq1QxtqPxWePGgkqpu5qFxliiDzcj2loPEMpEvMEEd4Q3I+JbfzuWhBdgLWMzpeIh7Xjbx+3ClnisbFYiGVSkt0MypCGc5tpLFMWA-XRVLBBJa9X0e-K0nWoGxGmDBRoDTjQKuslUyBWoshVfzSVhQc1BSvEBtjTxnMc8ZarpUq0ZVQeQSQEMHpxp2VOgzlcEriW3j5OAqu0Qh0XkBqwl4qs4mxNmDSrHAsqlJSyvWlKqzuo8ttn2wTWAlMVJIkVf0HDZvySV4c6DNOyKUkrBmxa7kbipzX4qp26aitQWpbSGBASSwZlZqpxW0qgQ5qTIOMqrX0ANMVi7MbmILHFjSxzmftcuKHVriWRZxbkTGrOpdqs19ATnOuDhDUATYNa5xRRwPkNq1VCa1tWou1UwLuc86+RX2sXE2LxFo6s9aIvEVTqpJlrWdbjWPXmKl1Ws1dQ01TVZgMyxYWePKnvRWDrSf6xpipm-UYgT0NvSKaul3kCQ3QIGkQCul7g294pkGxpqRnIzngJAP67qGBpnlHyT0QGyzMlUw0UBsNgwiDb3EaYjxCNGIeDWoPcIDhAN9itkIxh0AOQoQjSv9eBq37IaP1XOWeNQHUmwbEG+yzwdCq-W0AiNV4QTfzADlgKAhgzb9fxqgXQbjCEm2SFJofSkkbl9C4DeJtA3qbTsp3F0iCssFWRg1bNXVkSS03TK5C4mxTfz2qiEbFNAgjDdRuE2-LRNUFTmFRqw3ebEGvTahWSztUEDnBxAlAYfTlxbLGlKmXzVMBi0Pohhiat+IZp5RnVHN6kyjS5rg3Oa6AqmgzRiWM2cs9wZmldYwEs2RaA2GVDDXZukXVRmNrCGNAloOWZKPFb4npdCL6W9UNuBUWKoBnpTSQPlJkOrbYwG2-MNN3csIBwrlFcKolHZUfpAmS3QZJtXbabeYJFlCzJEwsJLSkAK1FbBVCIagOa2uXlbrNswIbZDLCF9QmwLWUdkX3nE25q2RDEhvknIYKgjRu9JeCvGswF4GtO21cJRRa3ZLDaEyF2Z1rlxUQrtIKcHlOET7-AIyDLdlKehT4RlC8D8Gam1wQoo7C1AdOEF2hR4dDmujEmlHyRRKCzDNcId7fvS+2ehElYHJbfKJm0iysWm24HdRQ2XMhitFOz7UWjK1AYlgty2YJzr-hU64uOE81ApD9GZVn+GmAAJwdAXuEgLKiyoMB58HNCu5-iyvN59JfAp2uCiX2sFWqF+8mBTnoGcB7FMJq-SXWlT0ACsBWhYNAPbr5WdTPswyS3Zv03CGB1p1QV3RrsSiSMghFkU9M4FpQkFdOd03HmrrSo+6tdwBcXehpSrP9n5V8tKrfP+Aagm1bm0FTbwK1ohit6ga+Snp519a+dFW0BEnpvl-oRdYQoBLdE5AjaYgwa+Yt4HSBchMmf86njtA0yUicQ5KP0dXq3gSRZAvKYgMGvUZtBElUM7VMKkYDN6w6oAJZn9HhH8gUQ+nV3WzRpS0o+9nIUAAqztUj7h041VEFjvD3x6rd-rHZTtFDBnd9ZZ-Y3cyq7auxm1fbcDBfrgrFrBJmautbWslWMLKCL+qbuxin0z6OYc+kYVyCeKKgLdEe3FuvqJ3ci1QT+uoPvvX1Kgr9Ru8wDfuTWhBV9cIGA0Tp30iiGAuBmlI7usDe7UR-qIIW1rhQg6QyZ+z5ZgKh0J9WEO0CoTGuUCo7caHCLVpPmL3n6gYso5bUruFh2hFVPGlTDkDoBEpJG9elrDqu32d7ml3eoYL3uYA16FFGMVPcPv3aEkx960oin8BtFWbPlLB8GAIfp3mDhDL6pLHuSaK2kC0+2snjBPyaJDVAAzarNuiqacxGljB-kDDo5FaQ+wth09Jjs4JPUuDQbLvWSmUMbw1DYfFtCX1MkvwV+OZZTAAzvK2ooEILLRA8xYJpskjeCICsLWASyAZ27KDTDLUiM96YjqUVJmuyAr2Y0jHYQJr5WjZsC+wm+ko8ulPTaQOjfYhHefMkQpx-SmzEKq0dUOpQ+jucQZkMfSMjDBd-8czJQugzVEZjHYL4TLXmPC6lgHR2owlNYFnFVjeocesUcmPi4ndQ6PXb4WSOKZ1wqCdBFkfUhXGCj0stA2fENm7A8cREDoyNoFYTs9A42gADpYB81D-KEPfvwCAk2mm29atNXFSupbdz4JvaET0JYBvjjS341eP+PdygTIJ7KcsArgQmOW2w3dIQHmKnpEO1RUk6AAABeY9awECavqgn8THSSE5jsQ60m4TUaBE3CEAPInqwi3D4JZgkNSGfAvxpk+CdZNg06Wv0Vw4bCJKkAiSerRkAKyZB4A0T9CsU3iYlNEmpTo1WGrKfhAeB5TipxJdyaVBAA')">function query_syntax_process(exp) {
    if (is_application(exp)) {
      const function_symbol = 
        symbol_of_name(function_expression(exp));
      const processed_args = map(query_syntax_process, args(exp));
      return function_symbol === "pair"
        ? pair(head(processed_args), head(tail(processed_args)))
        : function_symbol === "list"
        ? processed_args
        : function_symbol === "javascript_value"
        ? pair(function_symbol,
               map(javascript_value_process, args(exp)))
        : pair(function_symbol, processed_args);
    } else if (is_name(exp)) {
      return list("?", symbol_of_name(exp));
    } else {
      return exp;
    }
}
</pre></div></div>
	  Exceptions to this processing are
	  <kbd>javascript_value</kbd>
	  queries. Since the instantiated syntax of the argument of
	  such a query is passed to the
	  <kbd>evaluate</kbd>
	  function of section&nbsp;<REF NAME="sec:core-of-evaluator"><a class="superscript" id="4.4.4-sec-link-4.1.1" href="./4.1.1.html">4.1.1</a></REF>,
	  its applications and self-evaluating expressions remain intact,
	  and only its names are converted to pattern variables.
	  <div class='snippet' id='javascript_95_40_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPYZ4AhDD4MwbBQHAiDIOgfA8Cy00qIuDmwlqyh9xBESyAoSgepo2j6Ay+VhAA-NYty36EABcQtIuUz82A-GvUI9hC7BAviC+XoVJlTUhpcoswD4mC-tYN+cUYxTnPKhT8YUb4FVAA-HeZVJxxhQc2NB6VPIwLgaABBUgkLvlQaHDBBVsEegXMeZCBDZxXifKQzBFCA70RdPyT+mCGHJWdJqfhHDiCHzIdw+KiV+jJT6vxCqAj6GgBwYNYqsjaDyP6qlBiJCJGwK4TsAyqc9HxDIQ-c2kgEJ6BMRJJE0kMZQLIZglIJi3bONcV4mwnCCrcIhnzQxKi1EBIMNzG6L0hjQ0plA1RBipE7Dtso6oQiypJPEZIoxERvJRIphdIJKTVGMJyQ5GW+jMl+PZLHYOtCDQWLVNUkyODL7-BTgokKZjTDQIMdMFxhRWpqRAbJHOeculxMPgUwob9vDMCONHAAqsQR65cADuWJsT8lUFRUAABaHZRTd7SWEu3QOcgTLCFmCMgWlB8CgD0BEWilAWCyOUEsGxwhGS0wLqczmjznlUFedYvSegLlqirkzGwnRVFyFkOIW59yoysF2NQeoQLuogpIJ8n0NhJzAjoIrcgoA7gHI0HvFOHiPm9O8V4vq0liBQgPocWgTk+nUpsCnexUkZIYuICYKlbLvEjP5QK1xbSJFMtEVMD5hEUjyykHZEBeg6IEsmSohVi4ljFjpVMZVchTCsrfvURozQ6gdEhdC2F2LrAzOoD4UFcJFnLOoGsgg1UOa7BkLs-ZPzqyQqIgFAZighl6AUXQbph8vmC3LqPWSobVWhAfsLOBb99iHBDRfMlnc3TdzjeGvlrKbCBowkuWSI8Rkhpop9PNqswZqJkaVUx6DykC11uCRgS502HP+L1fq9UWixJgfG++JKWl6B7bRdR9AB3xNcdMjN0kx2zXaQHPV07D4xWqiE8JvMPp5q+Tcu5rMWDs05qEomLaNgQSNU0YgLQzXmvkLCg9CLxgcjJrkspxhPoXsKOuZpmaMbvtKTjIm0wYH3usFCx9nqrU4qQR3QDkRjDFs9cSvp-6F3oylh+kD1M+Xga-s+7JmYUMgqzUht0ICsV9PXFh99yGQEQbCFBmFMGaMQS3TzA6egC3gWw8BmJoGCPVG6KEboftqpFpICI-tGl65AjlU3JWcmh1YNAEm6oKaDg+DhAAKmk7w29dRdOA1AFJxEhn+2BhU6GAAkKEf11U6Ah3nCi6chC5yjJbUR7a27uMjkjXBks4NqZEvBn5yG0sYbtC-optmHMuZcfekTPpibm59LfoHLUNwXMEkIO5th-RZJ0axp+-m+aRWhGczkPLBW0Ixj0FY0JvHKt8aA9ExmKsZUPtY4F-Gjc8GNg8+wupXif4wkG3VohQDOyMgyzsKhKFhudNUykcbUpFusPq-OHEHYQwFrfsLJj4mt6qjUek5tXzcVuzCy7DxDImO4o1iHGFYXquufy1tohsk3ZMlCLigzcojMMGJeZmTrRnvqAhQXDD-w3bCu8bS7LShxXMElbYzWUPZiA41C0MN4yS7tzUSUjr+8DFfPkqoZ6bU-Skd47DpVJH2m6KbfEBHrWCc1u3owkRZW93YtxSAsLDPeeulIwyPNTGREzdI6L7Uu3QIS9ACAyXCmIKMcc7Wxhm2gIjeMPzoE0uFfAI1XoHXNDMQzc8YUBn5vlttkVUrmB7OfEGLePDAKdakH4N150g3oQjdgNI5Nr7wFjezZd9a+d3bvdDcKw703TuelfwI+8Weel56L3YCvLg680BrVO2yQY7b-hURbeubZDxiVRCXBus2VO3nAs5fYGSsx4cE4py1X60Zj0ovpWig8gMWvN8cfj9vqf26IN76i955fj6nRyjCfAhYe-Ipn3pU200OUti5U4-Ac-lqTDauNZfoBOpZzZOS6gxkQUH8pCtE-sxJoX+TnpFHygJVOX353w-mMxogtmA2jr2misXVUwi1VdDvx+ilDhDAKXFMwgP5CHh2DgP+Cox-0bnvEjg2w1ULFQM31VFQMnW1TNw1SgK9igjKCoy5zOzIA1i5F0Hf0-xxhgQwO2EDAnwChKwXg-lYOxX7j7E4M3ToOoFkFdnOUkk0g73MAc0vVvFTTtUkNV26FxQWCWHi05kZTRwVDCyO0LzECsR4JJHD3xyGXINAAUOUg7FMI1Tbi4MkJm2K0kLWFkILktCMJkGQI8JQycKRBcPhjkMpEDA8JoLZCR37y0OZRAzARsJhTbw5HUPJ34Jai1B0AWCsL1BpirzM1SPSI9E+hcQfksMMMkIyMyFiKrVAA8ASPf1W3gRyN0HSJMLMAAB4Gi0j5hSCYU6jv5VFGBZk9A4QAAVDIUABSYgbEMFHQdwGGcGABOOFoN+OEUAAAalABazCEMGiF0BuXdhiLMDWNM2WLWI2KqyiBiB0F2K6O-QNT6IGOGNGPwBkBWSmJmMpjmOqUoEWPhFWPWI5xC22MuPwD2OsIOPhELF+NOJsC2IuKuPyMJwDQyH-kAXD3FzAX93ZWEOUHGAyCUj4K-gCnezKLiOVyhx-VlXnyU3pH2KhOwQkRxNrh43+OtREIYJ0CYO0JYIMR6M03BjASJUeEJhpP+IfktHhKhPqKJJ3H2NmEDHhL+0KFE0KGfQPgFOr2eA0I5KiKQL6zCBtSOHRPhEWXSHqHUyRF9UVItTYy8VxQ8LC24NKOE1cXXCJO8JMJBWcMjxFW8ODRCIVJSCVMgzV1vAPgZLxLd012mkDw7DRI7FmA9AxOsE93pN-nDIjVgyTKcxc2JIqPJLCEU2FhzJ5ITXGTDKZNazenoIuK1PR0HRazfnDzVMLmaNOIflkDdDFKx1JLkGLLCAbOzOlNBNlODHlKYzEz+OVPhVVOyLUKUGPQS0iMlTzNCH1OJMLGNL7zqDNL+C9TVEMz8n9OYytN1P+3gztOJQdN4IjK8RdOzLdJiI9L8K9IFR9NsMfL+G6wDKBEDMFlDNTJDQjLTzADniYFYGz04DXl4AwH0KzD+ReUb3RQ+QnhcmzEXylHtTgoBTuhf2cEwsoEBSeSDjyVDiQobkRm9mDGlTDFxTwsBRAtBxhGflyjhFNFMxsFNG8QqzcV+mtDYusGtE4sj2YoUL4osO00EqYt+nYlEvYgkv6V+gVlKFM0UrkEwS4rCGYoSjoCDlUGxFMy0p0smIKnUtCGYv1L4v1K8RMsLV+gUgWADg8DoEBjsvmAcoYGqGsusGYpWNEpsD0ColmGxDMDuAAD5QBtk1ijLPKzNfodlfLrB-LArgqwrtl9koqhLfoTNZgUhErQAgqiUUrQBdM8rrBormLgB4q7kAq8rkrwrQAwB0rJKYCABSSq3K-K0Kuq5qkq0AMq36KvXy9q2qyvR4IKjKmAgAQgeEGuqo6sKqmuJTGqaqmDhBaLatmuGtADaOsCWvkpgJaLuHiqGoKrqoOp2r6pgJCvWqSpOu2TCvOvGpWpCsOuytCGOs6ruuJRqsesGImsqrqtCE6usAmpsDL2fiZBouiH+XwoQoPEcKJS-gUiUlNFmFothsxCZkhqeXgoH0t2oA8AACsmxGYEbqgkaeUTrhKob4LTNtJpVoqwg0bcaismQsAsbobAVJsQcYqpRmLr0TVTN+ajMGbmSbKYDIBiAb1Eo9LsqJapaOYRbRaeaVqXLJBYBIA+LVb1bFbRbmLVaABRUSg2nW5k5igAOVUDNsqotrNt7MqwhvgyZpDxMNJsKHJtuU6vcL5QsOpqwsnQbH5g6HZpxpDyGVdpSHdpOrpsZFRt9phv9qnCZhOUaXqmxr9veRIEuSrnOnMJ+UkBiEkCNUYDOWrIJtUDUGc2iHZnLOpSZsIqyAVBIsxWfMKBzhzraDCEjNVHbIARrKcnMPCIZVR21KmF4yy3pT0CZpThMNmAlOsCdtjzJhlLHtjmy0nrjrorf3xqJooHxznp9rTvjtDtsJNpsFnM1MXIVCsiyEJVnJ0A1mqLKkvtdDexBEAWfv4VZvT26kzzAuXggu4EwBgpmn5BTAoEkB5kMHQgUkYG1kW3MIVk8G8EHCRgHHgbm0KXMhHOTFfGQjtF+LhEkGOIBNhOBJQYorQZwYAjtC-jfm0nQZwpmhYAUi5nsWkkakBPk0CO2FUFIFIHcEVj3gMEuT4dqoYDWL0F4dICbLhGWIflkfIXBJ+LWKkdPoKlkYdk4eQP4nIA5l8EBKztzkMb7V0fyvMFs2DMpBhN0AIcGN+J7xYdkDYf7XJrbp0Y5kMe-QIZMDhEYfcc5kcRYEkargQdcGbmCdWC-nkeFjhFoeMRhBzjMHODIRfULMDESbMCCELnSZCbMAWvhDvhRCibuUtESZkcKcKJAaiF4bdEgctxge1kSZcTfhfVOXjlDjKeSe8R+BJDaR0SUQyZ6PkbsbWP8eWG8CCdKfBQifwZOO8WWOIdRIgQ-j6cUTTgychPmeUZ9vsAS0CfIcoIieGVyc+RWNZRRFidnR2dMcGOksMdjt2YCYmYwamR2EsKacKX8cGJEtmFyimdWGHIHAyYedMfGcYBYFU38XONiA+cKHkYAHJiGc4CHEW4nrGgSTJEm-HNgEseZGATI8WzHLHRQwmlY-gkGfBLRCW1GvFmKcg6gjjbUjjy5FRCxZRvBWWvJFY7oXm1trm9GqWlx8XvbAxqWQW9nnm4mvnBXvAxq5hgwxX+XOZqXgDVRCWdRNkqJ6pNZUoK1dhvN4UIg2mE40wFFqMUhbS39Gy0NqglmiQVm39mclEzXDzrBIadXOQxgRkwtyb1WcRNXtXbpORPG9XPyC5p7+Tsi4QRLinLDLRaIPXZAoQrktJUGygE2g2k2Y0aHeSI2OwZHpLY3mBM2vXwU4m829QZGy6K7SAq7KMNVLm4WxK00K3MgW6whybq2ORa3KB2YUNA3UoQ2XXIXm27UrXDSM3UpS3c5DyWMn1DXXBeCaJzX8yu8YDCmgYg9lmSQXXjtjzYM-0aJjsu62R3V-gzW2DYLtNQ3inLQzW4nVyFF1yllVlnAnW0o5hsQPUCCJxaBtVY1l3L23nr373CkODl2H3+jbU9Xn2nUXV33f3+QYZjkAp2XGBLdyAK4vAA46gGhWgL3kjbwz3Q2ZG0PFRGHrhk3PX0P0IPECPiWKDF0kOYld2iI8Ba5vBgIhhkJUb8s1R6VQBRhyBcBgKs9SB5hFJHFQA1o7lZBpo1p8989YETlORNY9BnpsRZg7BoxGA6guGC4VLGcdO9OhnQAhaWhmnVE9p1B1OZBNPC5LRtPbUTPeXBFC4nPdOCjvFMtVPSBbP7PAwPOXPVW2QrFuOsg9AW0ntMcypwvUNlbBjdM4uTNDzES-4AF-PJAeBZgNPJBJpdTcV8UPA4uwtZQ1Pcvsv5WBxIdYvqHXXwh4UiuSvsjzO6hlyC5WuxyetLU+lcUgvSvfPMv+BAX6RCBiu6uuuUhn1+uWv6VjVhaTzf0r05ub070+k53rS2V1xAumxnP6uvyRNvygRYp6AOXMvKvcvhvuylw8zCuxvmu9y6Byu7OsuRuMcXsXg8H9u4VZP7uAImzWv2vH57AXhquYvPush23MFLDcoKvUbr3Lv4yyCaXXFAwauIfPCw3xzoNFu3X4MZvHvnvOYrudw-uvvJuih4UZvHhAfAt7NCh2zQfRvxueOsB6f-jLDLDEfrvPCofKtSeWeshRw2fsfesMyCpGedvjOkfPRvuxMv4fyfyAoDKtBxPGs8z5IC2kSAFG3vEf5tfdheM342Ao2YhZB0PdfqUH4zeOWNjpkoOfAWBYPX3QAOOiFdy4uLSgzuHnAVfyBxPqL4M3euP-viUwuAJIug74MhOwtg+MOI+4Rf5kTqwaK+PiU4-0I4vBibeLfWaAorEPAYgEpYhFsZebugPLDS+efkDC-6VqzFs9Ba-i-VggPLQm+Lia+i-6-Td2-dBzDAxe-VhGHB-875wPDSDmFIemA-CgOyu-Oq+QjGHB6J-cGp+Vdp+PyK-r2C+u+S+qGePq-ZhF+T2bIjwSPCPMCI5zoYOCmUO1YSw4xXwF0n2N+pCSATT+8jxJAJP6UshGAW0Ao0YXYE0kA7i8fMTCUNkDxAaGAqiu-HQLdjgGj9rEjpGiEf2cIU8fesAuvjY1m4NBVudQFrA-Hf6bkmE3-eln-xv4hF6yM0YAY30QGKpB+WPbrp6nAGWEXWuPQWJYSAEmQ72y7b2twOVjDsKeG3DgYe12DCCjumAgQWaxC5iAti2QFgAHFXr94GgSYbEP2joCVdVBulMYHQHy4X8SWVJAwJ1GKbaD1BUIPQZFylbXtCYnUPnglTEZRAFBSgj1CoPkA6COGzgncHYP3r-EzBugyaMgRiCOIsg5dFCGoI0FaD3B5g6QPoIY5Cxwmmg1TA-H8EWD+AVg3knGz7BJD7BdyWqsEO8ChDAUqQvQKkNiGRdchmCSLidXkG-Amexg4XhJjBi1DFB+AJMEYEUg8ogY5hNoVoDpSRA7AvwfRs4PdqZ1wYJcLgu0P6EtDhhvwUJkYJaHJD1M6WXkgUOLrZBih0Q-tH0kJhOC5hUPaoZ1V6G6MtQAwhQbMMUEWRBhELBEpuioh0ooQNyf2pMBxhV8KIl0V-lF3gyD8EB2A9kgXXH4L90B8Qn4bgPm4WdCky-N4VoDQF+FrBJwoKHZTV4j8GBcA72u8NhEflZBuFPod4HnBIjOi+wD4RiM+FAdzyjwOEPgHNAtBlixTSkdSIZYPtrO6bGEaAHeFmBimdpawHEwiBn8iRHIyEfcORxPD6wLw-hESNmAkiqBqwqQJzy0BJMLgDya9uyNja4jERqvTooGH5GVDqggYdkTqMKBEjHE+IjUQc0nryiDRHOS0PqN8Fso-ScTekXSBpHYjwYFxG+m2BmFl4t+aaaqocLCrCxQidYRYFrADjzgyOaYcMbQFmDqsJRoAdViESuzwYCRbUfFHqjCxGi8RkgAkXoBjGsjIxxAWekrTZTxjgRmA5MbqkJRRsqRToxkYUg0yvM2S7onbHsKCbliBIKqF0YQDEJF8+o5orsPEJPjQt9A8beUYGOcBCczhQwjThdzs5xDTywWbmkJ384zjsQz+eISDhp4rcTUamYWIozoAuiexWrXLoSD7FfDgsGnMLCONMBMZFMZ-DTmYHkaFNFGGnMMDfVABDEAAEvrUkAABBcAOAH1oAAlIYpAAADyZtZAMSj0Ltwni-vVyvmNkgZinAmIzwkBy7FLBDxfY40UsInGHivW1HDGlhLxEjsJx6gMqAhMYakTSgPCc3oRPMKfjvxf4gCcBLAkQTKJIPPCVR1olFYiJTgcwhOJmGHjJAx48aEhN5RssCJ-QHZC0Lv5gwb0XEjljxLEkoTzCLQ6xO0PJoFp3h7gAqhsXE5NhHooYmiYpLCjaSneYlBEQWM+H2DYJ4nYyTRwazKTPh19ewLYG5bqISAUnYlAAAYOg7cW9CslsjuTjWwESgK0HLzuTownk7wGFnbRngopSHRgL8R4A3iIIcUzVH3kcSMMrEAUphKvzQL78p+6UlwTUktxhTzClhOEBu1HZKpgpnxE1m2DClvd0GY44EBpDykAQpAMQWqUL0THBZipIUsqVuSgnPEgpZ4QaehDCmR9jubqOwEsBWTqBtY9HaoLeOTAkdUsYxBvOpFGkN8X+A0+qaFLa7zYlRaaUDq4iKLXsnB80xaWaJdaWirpkgBaXIG1jgd9WrnXkgomPaYCHpT07WOlNakNBXBenAkLkBf5AiZ+2KAKD9JumoSwBC7CAZjw4EqlmRK-ACNAhXbUptuJeDAcwI4HziYBHgX4c3yQHj8pCx-AVOuEJlgj8BEpB+FSNYwSk340M56XQL+GkYPATAr8rZhEHi9MBJ0nwKhMIFzA5pj0m6Xe0+RZNmZL04MJj2oH0zZAEg+Xt9JFm-TQ2LowevnUUDIp6IyEVGQfwTKkiBc3wuAUTOrIAjSi4MrEUCGfQ-D8mtPcXuuBIC7EsxpolET3zRGFiix1gA2YvwnKQZjy4As-h6CxTMk8AumcOV-GuwmziUI-c2R-B9mlilut4W2ZuLwEmoNpTs4Ei7Lgl6zIeto6wG7MwiMDektmUuUmWcLzYoRhUqQgnL8J7scez6QGdlikBhQDZlsxGTITDkRyVpEER0VkAZb1yxesWDjEKInpV9a5Vs+Xk0OmiZzOY2Y3YJV12BXcExBg5wOSOJR9yaRdI6sf3Mt6vwrOmgdNovMmicjJCPIyhGtIXkCim2Gsp4drK5C6yF5qNZeRXJlEQCl518vlrfK1miEH5EXJeajUq4Jj6qYAcObpnPl7Br2V8s4IqNlFQKT5hSWednLV5aifBzJLUZNEtE2AkF2Y+Nmgq9mFB42mC-OQVHtG8lN5A8k-lmHSm+ABM-YvmQvn1i0KOseBblj+zrC0BEwXYtMP9Nb5psepmPRhsVI8S8LV5CQpWIGEC7csc2TbOlnIAWnYg208BEdlgwHD-TbhYMPOpRBoXpToxQrX5GqKskliIZQIXFImGyDzh0psUrUEiA6nIQupuQf6Y9ngxIKKxYWVlDgtNG5jLJWCsIMWC4VpxzFNWf6b4tCDGLJ5HXYgM7LcVViGRe83ovWJSBzou0EDfRQItdjX4TIQSyxdIsqGNj7AHolsXoFcXti9UhON8QxMkCAT5kAAGX1qQTlhpQPyVwXsB2T0piEwxSpLQndi5uVEXibymKa4TelYwdpf0pIkg8yJY0gSNNLFjTQqJZUUZfRK-FVLal9S9iW6E4lTKOllk1SS2JcFr0C0AkopUJJEljLQlNgWAty2kktiUQ9go5dcMGLVTLlWQa5dcJRCtS86oypySvPXF7LjhmkzGdyxOobEtFUygRfDx8XWSC0tk1yl8s6XOSXRXIY9GeEJY5j9FkCyFW6RbG7Lrh6krQACsKDnkwqfSNSePShAlCWs8k+yYRO8XGiVJlQv0Q0iDicxRltKvESpIZpYrrhrU2HKktlZorZWKEycRCz6kwCdowgMLEuOI6Ks4QvKwll70FjiqSAAPLcUZmKZIqiKfK-FgKvxZCrFhcTJVbkEQKdZFWXKhQa1IiCHiI+-IoDoOMBJmj+RmTAIAtjWlXiNF00QwLaiWD5ikBmE-MQa0PQOKGgVECPv6tu7wYLxxKE5S9xPH+qKeZixwHYG1A+qWh4dEVPcvOEacJJ3E2gK8oUEKrQguwfLP52zUmTiAea34EPi8TvNJJUYvISdX4b9ExcKa7FbO33ZHdZl3dTDnYCmW+relAis8TALElhZ-FGgNOE4utnwyrVj8wxRjL8URq7OYWaNZzBPFiTvuCaptdqGKmpq7gEpDNVOLs6sKXlMk77kWqmBZquWx6m5VD0sK6L61nVRtUmrdDbrW1g8nrlPOAaUde1tqalRGNrW8pbV8qblpI3-Wfzh0X6mhf6riZfr8xIGnNbygo64df1YUf1V8k9U9qfVBdP1aBucXBZMgCkhyfQDCyVKmJQEkCeBPABMYSN-4sjaxIaU1r4NswRlfhuQ30BDy64OEH-F8bMwoySGnRdIrQ3dqlgxUrDf2onX4zCULG9pcRuWXVK6llGoEJUrk31L0x17O9cxrkBQh2l7G3uVxoPFSBNSxYAmsCjjSAajBcaRhiViM0Yg9W+nfrORXw6VpkCI8azSIAA69wgOr0uwmrAM3zlOYWlYzeilM1iLDOFmnjaqBKwBabNwW+IbwN7hCKBI8YCQIFt3q2b++MspzYw1vQ6AHIUIVFTFswFxa247cIzdQG6mubd6eq7FWZsM20AUtV4CrfzFPm2KWhcTUrd1Jc11aMQskRrVWlOJyq0lVmrrSICY71a+t7PZkmarmFWQz1gxelkcQG2ysECdWsrQhuAYBbVtpQ5Ld1qq3cqatfm88NtvRRRa3NSwxJX2XECJSih4QjwTXVcSLbtVkWo7RQC210Axt3tKbRCxLk5VaqG2jrYlsO1vbutr297d9tayfaS4s2zjYwAW3R4tVMtNkcltW159qo2WveEKlf7CqcVzg-5Z0OhWSFdJE2ooKSzKAPaTIaO9hvDqOYo82U+SzDs2IeV+lYEROksnTsKWM6K5Zcw7M3DB2hAIdaIKHSy1h0pL5VswCnZ4WaV3Cmw+Wc9qAPiEM4X+d9B+vImHpLkXRXbSur23raYQMdEO1cC6T+UaS8doqAnaFRcR9RpdC6M3lOCf7-A56-zSoh4V8Vm4j+yVXwauWUCeyCFDqF9s6hxGEojwu5Y4mzzLmFQNdPbPtiAneWmc2dDO84dKKMTCx22-O5kFDvD11sUMwu0lNJHh2mZ09WulDKzVxQKQtWBlNQWFgACcHQZXhIEMrCqDAAA6qGXt0rCr86jiXwGLrzLgDCyhgOdaL3nZ3JnA2RbyVAOb0mR4W8LQsGgGn0FrcZvMmwGPrNG965eC+2vWoNb2JRkGakiyN7WcD7Jz8CvSQavu0rr61Jm+o4LMBL2A7DKHy+RbpSUX-ANQXq3bearJEOEWhAu4tTKDv2KLlgJeLPS0lz2XIf9D+ovfBhiBnrtW85MLHCEJaXaz1L8bje3HVZ1BogryAaP+UHWEoIDafH2kiimA4G3QCbecoeW73hNCDfe4-YZUGJ7J9kGGW1HMAmYxBctXqOKm2px7i9cUO0MLH6w2RDAtWk7TkOaIxiP7iAZ6ghm0HeUU9F9cIWg-slQMw0kpqZeA3xzkNsHpDa+3SuvUeZU6donMn7nBrLXLAsO3q3Dv2j0NQCIN7kn9bBpg3-qMlN+CwzjOsAyGfx-6tUGYa3KYc2RWgVQFUQSJoBZ9-sjg30hkNqH9kcBisQwHCNxVCwQRsIGPvr0Fo1JBK6lEStOJjNUVIe1IA-35C26cxKEpjZ7tACSBaqEySoWToKOujdATY+vQGOF6HdqgKBtA94DLKzsqFeBzNlTsIPxlvA6QLkArVFWEpuDxKXgwG0EMdKRD9yMQ3x0OKSGw2z6dA-0elqgB8mf0J0fyBRC6kwjeyTo6lDjH6KVDhKVg0qD9kJHNDJkTI2kqcOgAeZP5Z9D6sw6uxTDeHHMZQesBWGzwNh-9ZIyQ0+qPEThwjPCiWOiEVjaxrkFkE2Oj6LjNBuQ49zLUeG8OrB2g6cbuPfl211QHY3CciOlKSaMR+I4kZmEkq9lqR7xOkY5xXH+Vto63Y-z3g7RCjdyYo9-k6rlGWslR+k9UfvoFK49Qw+o2GxOxYAJjVO+FmR1+OoHdWzFAAEKJQEouHLIEcUlNahblCXOEOAA0B-BGAH+UoMiELCASwpowUAIBOoDXBTMPAEfYyEn3wgITroasEKdRUimCJegAmvjVsS-RpT5AWU3UHlOFhFTlUb2sxVXwy6YdhYFZJQAABeyYBlnaEtPrHITioJkHabSUOnaJBgdQMmBMhSmZTYUr0zqfhC+nlTAANm8nFnzTMZ601Cb8mJn+VyZs7pRxCiumYCH43hs9GDPwgfxZyTkKoCOKwBlTzFaAL8A8DRA6gowI4gAFlZQoAH8a8lMwAB2AABzRmroGx+Mx0CrPaqaz6HJ0y6eYpNmtY3gI4u2cUV0AuzhYHs-6e7xIogzRxBNjoEkgano9ZZ5c7aeLapRhTop48xWAzO-RdzLZg8x2ePPdnlTKAEs6WaXNxnnzibN846fxQepNTEgaDjuebP7nCwh5zs4BfPMwF3Tnp703maVOLmrTT51mmufH2im6zEp36AADFiaRxaAAjrhAAARXs79H7OeAhzI5lC38AYDgArpnLDaBabAs2mEzL5zkFBZTPOmPADZlalRYoA0W6LjFjCytUDOOJrzzAW878HvP4XYzgl1c8JakD2n3zaZ7VcxWkucs4QtFo4vJcAIABWEs-xYIvgWhLkF-S9BYATeAP8T3HwMZeouFhzLhYSyyqawvZmcLcIfM5pfLMrmcAxFvQBuamBkWhDzFIYismyCPREoRxGpY5COKG0FLgxSU6IXp0KndKEAXJIaeNMMsn8gQkwI+Ycs6WnLSZ0U+JckuDFEryV1K4WHSssBMrTFmAkpeQvwhpI4nKJaQFfB+m7LWlis4Kd0uiWzuH59M41eGJJWqcrV+EO1c6ve1+ANl4s6NfCsQWujzllMzBbcvwXPLv0Zq4tdMsrXCwWV35m6azNynczIVvC1tcIuVnJre12s7h3rPMVAJ2QJ7relbNwgalKKCQF1ZWpqmZicF7U92eaDvi5pJVk07MDnPmnKrAl8a1FZitbmJLX1n67QF6sA2gbTlbK0VGPRXnCwN5u87jeqbNAeWyN+y9pYmu1XqzBlz83Ne+scgcb-1wG4QGBve01oIFp69Vfpu7W6rLl2C+5YQu-RWbv13G5ze5vXXGzSF-66hYAunmHzKNiK4LdfNvXNzB1uCx5bmuBW7rCpvC3LZWoAB1ZMB4EIBawnKhYUCRMHQOq3ab41jWyJa1uxWPr5FmAubcYCW3rbRxO24oZBuDFwASV7U3QCyB0WRiuwUAB+OyDR2jTJpsK89Zdt6XhbYl7c79G9u+3HoNt+EAHYduE3rgzyKJVsTnBHFC+OgI4iskWDyBHbY1iK2jaZuzXmKWdq2znf9v239z3tHgBtc2s03671YFO1Nc3NxXZIzFcALWwyDsX4Q+tLwH6ZNuDFTbiWoSIWHAASdjIoAGpTkFzNmmk7Atxu46Yavj3J71Aae3CFnvG2VTUjTKRcSOLicvi+AI4tfc8lxg6721xy0LcZvQXDLX5mAhPeYCn37rF9+e6ABnO93+bdNg+-tdcu63xbf9k+2feAdB24Qrdv27bc7sw697dNoe27bFOfXmLlYfSaZaNNeBc+C9uEO2ZhT5XCwZtGO8mCPBbluLc0zljwALNYPUbr1tO2dyPsEONR9gI4iQ45bIPn7eR3QEcU12vI-rb95O1A+ms-25r0AQh4sGIf40hH3dxG33aquQPOHX96B6LaOsKOlH-D3U6o7Icqn-7U9oB3PekcC2cHXDkex7fiu-QfxzcCyzIFNuJR4z5DsGxqa1PBXQJUSsQOAGs52BTMVl9hw3Z0frn6rGdmAi46Up+X3Hnj4R3UGLuTAiE4jpsJsHTM2PtHDN6J9-eZvMV4ncgNxx490bKn1rtl-u+-Zquf2Cnejw63reKeuPEn5TrxyqdQft30HgdiJ4PdkebncsdQCuDw+6uXnlLIZ8M5GeQc9X-rZN9S13YgccP8nJFx00M5GexPFL4z3G6GYjO6cZn2z-6-1fmCDXhruT52wM6mDrPJAozrZ8TYmfwh5nzDLu+Q9mcqXT75No5ymCpvnP1blzsdDVmGc3PNnc21JzEHSdl2roWT+wDk8LtguS71TKsIbG5BV2a7pTvpyjrknkYcgdAJKz4AoNDG4xPB9Ff634MDshDEkWQNMfENzGpDpis8pIW5rsmgYbo7k3UebhhsCy4TDwl5ybYIhqAm0uCRcR8NDBYmtmFNDi2VZpKaTeRuk6m03A8vvaLuggGUfdWqh89kejVOS-c3zCJpYUM6XyzpYHSkXrqbqI2lBnLtchnbcut2wz0gJtXQ7PgSOx6ay79WxTZitVLtbqQl2b0h9ke39TYv6AeL6K-S1TPM3YLv1y5CwEyne0NX2ujtL8EymgAwqvN6p-CyZB4BG7E9Ga9qojd1rE3nk2Nza812audd0bzycm+k583+7IJ2QEqCAA')">function javascript_value_process(exp) {
    return is_application(exp)
        ? list("application", function_expression(exp),
               map(javascript_value_process, args(exp)))
        : is_name(exp)
        ? list("?", symbol_of_name(exp))
        : exp;
}
</pre></div></div>
	</p></div>
      </span></td></tr></table>

    <div class='permalink'>
<a name='p55' class='permalink'></a><p>
      Once the variables are transformed in this way, the variables in a
      pattern are lists starting with
      
	<span style="color:green">
	  <kbd>?</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>"?"</kbd>
	</span>
      
      and the
      
	<span style="color:green">constant symbols</span>
	<span style="color:blue">strings</span>
      
      (which need to be recognized for
      data-base indexing, section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) are
      just
      
	<span style="color:green">
	  the symbols.
	</span>
	<span style="color:blue">
	  the strings.
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (var? exp)
  (tagged-list? exp '?))

(define (constant-symbol? exp) (symbol? exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPYZ4AhDD4MwbBQHAiDIOgfA8Cy00qIuDmwlqyh9xBESyAoSgepo2j6Ay+VhAA-NYty36EABcQtIuUz82A-GvUI9hC7BAviC+XoVJlTUhpcoswD4mC-tYN+cUYxTnPKhT8YUb4FVAA-HeZVJxxhQc2NB6VPIwLgaABBUgkLvlQaHDBBVsEegXMeZCBDZxXifKQzBFCA70RdPyT+mCGHJWdJqfhHDiCHzIdw+KiV+jJT6vxCqAj6GgBwYNYqsjaDyP6qlBiJCJGwK4TsAyqc9HxDIQ-c2kgEJ6BMRJJE0kMZQLIZglIJi3bONcV4mwnCCrcIhnzQxKi1EBIMNzG6L0hjQ0plA1RBipE7Dtso6oQiypJPEZIoxERvJRIphdIJKTVGMJyQ5GW+jMl+PZLHYOtCDQWLVNUkyODL7-BTgokKZjTDQIMdMFxhRWpqRAbJHOeculxMPgUwob9vDMCONHAAqsQR65cADuWJsT8lUFRUAABaHZRTd7SWEu3QOcgTLCFmCMgWlB8CgD0BEWilAWCyOUEsGxwhGS0wLqczmjznlUFedYvSegLlqirkzGwnRVFyFkOIW59yoysF2NQeoQLuogpIJ8n0NhJzAjoIrcgoA7gHI0HvFOHiPm9O8V4vq0liBQgPocWgTk+nUpsCnexUkZIYuICYKlbLvEjP5QK1xbSJFMtEVMD5hEUjyykHZEBeg6IEsmSohVi4ljFjpVMZVchTCsrfvURozQ6gdEhdC2F2LrAzOoD4UFcJFnLOoGsgg1UOa7BkLs-ZPzqyQqIgFAZighl6AUXQbph8vmC3LqPWSobVWhAfsLOBb99iHBDRfMlnc3TdzjeGvlrKbCBowkuWSI8Rkhpop9PNqswZqJkaVUx6DykC11uCRgS502HP+L1fq9UWixJgfG++JKWl6B7bRdR9AB3xNcdMjN0kx2zXaQHPV07D4xWqiE8JvMPp5q+Tcu5rMWDs05qEomLaNgQSNU0YgLQzXmvkLCg9CLxgcjJrkspxhPoXsKOuZpmaMbvtKTjIm0wYH3usFCx9nqrU4qQR3QDkRjDFs9cSvp-6F3oylh+kD1M+Xga-s+7JmYUMgqzUht0ICsV9PXFh99yGQEQbCFBmFMGaMQS3TzA6egC3gWw8BmJoGCPVG6KEboftqpFpICI-tGl65AjlU3JWcmh1YNAEm6oKaDg+DhAAKmk7w29dRdOA1AFJxEhn+2BhU6GAAkKEf11U6Ah3nCi6chC5yjJbUR7a27uMjkjXBks4NqZEvBn5yG0sYbtC-optmHMuZcfekTPpibm59LfoHLUNwXMEkIO5th-RZJ0axp+-m+aRWhGczkPLBW0Ixj0FY0JvHKt8aA9ExmKsZUPtY4F-Gjc8GNg8+wupXif4wkG3VohQDOyMgyzsKhKFhudNUykcbUpFusPq-OHEHYQwFrfsLJj4mt6qjUek5tXzcVuzCy7DxDImO4o1iHGFYXquufy1tohsk3ZMlCLigzcojMMGJeZmTrRnvqAhQXDD-w3bCu8bS7LShxXMElbYzWUPZiA41C0MN4yS7tzUSUjr+8DFfPkqoZ6bU-Skd47DpVJH2m6KbfEBHrWCc1u3owkRZW93YtxSAsLDPeeulIwyPNTGREzdI6L7Uu3QIS9ACAyXCmIKMcc7Wxhm2gIjeMPzoE0uFfAI1XoHXNDMQzc8YUBn5vlttkVUrmB7OfEGLePDAKdakH4N150g3oQjdgNI5Nr7wFjezZd9a+d3bvdDcKw703TuelfwI+8Weel56L3YCvLg680BrVO2yQY7b-hURbeubZDxiVRCXBus2VO3nAs5fYGSsx4cE4py1X60Zj0ovpWig8gMWvN8cfj9vqf26IN76i955fj6nRyjCfAhYe-Ipn3pU200OUti5U4-Ac-lqTDauNZfoBOpZzZOS6gxkQUH8pCtE-sxJoX+TnpFHygJVOX353w-mMxogtmA2jr2misXVUwi1VdDvx+ilDhDAKXFMwgP5CHh2DgP+Cox-0bnvEjg2w1ULFQM31VFQMnW1TNw1SgK9igjKCoy5zOzIA1i5F0Hf0-xxhgQwO2EDAnwChKwXg-lYOxX7j7E4M3ToOoFkFdnOUkk0g73MAc0vVvFTTtUkNV26FxQWCWHi05kZTRwVDCyO0LzECsR4JJHD3xyGXINAAUOUg7FMI1Tbi4MkJm2K0kLWFkILktCMJkGQI8JQycKRBcPhjkMpEDA8JoLZCR37y0OZRAzARsJhTbw5HUPJ34Jai1B0AWCsL1BpirzM1SPSI9E+hcQfksMMMkIyMyFiKrVAA8ASPf1W3gRyN0HSJMLMAAB4Gi0j5hSCYU6jv5VFGBZk9A4QAAVDIUABSYgbEMFHQdwGGcGABOOFoN+OEUAAAalABazCEMGiF0BuXdhiLMDWNM2WLWI2KqyiBiB0F2K6O-QNT6IGOGNGPwBkBWSmJmMpjmOqUoEWPhFWPWI5xC22MuPwD2OsIOPhELF+NOJsC2IuKuPyMJwDQyH-kAXD3FzAX93ZWEOUHGAyCUj4K-gCnezKLiOVyhx-VlXnyU3pH2KhOwQkRxNrh43+OtREIYJ0CYO0JYIMR6M03BjASJUeEJhpP+IfktHhKhPqKJJ3H2NmEDHhL+0KFE0KGfQPgFOr2eA0I5KiKQL6zCBtSOHRPhEWXSHqHUyRF9UVItTYy8VxQ8LC24NKOE1cXXCJO8JMJBWcMjxFW8ODRCIVJSCVMgzV1vAPgZLxLd012mkDw7DRI7FmA9AxOsE93pN-nDIjVgyTKcxc2JIqPJLCEU2FhzJ5ITXGTDKZNazenoIuK1PR0HRazfnDzVMLmaNOIflkDdDFKx1JLkGLLCAbOzOlNBNlODHlKYzEz+OVPhVVOyLUKUGPQS0iMlTzNCH1OJMLGNL7zqDNL+C9TVEMz8n9OYytN1P+3gztOJQdN4IjK8RdOzLdJiI9L8K9IFR9NsMfL+G6wDKBEDMFlDNTJDQjLTzADniYFYGz04DXl4AwH0KzD+ReUb3RQ+QnhcmzEXylHtTgoBTuhf2cEwsoEBSeSDjyVDiQobkRm9mDGlTDFxTwsBRAtBxhGflyjhFNFMxsFNG8QqzcV+mtDYusGtE4sj2YoUL4osO00EqYt+nYlEvYgkv6V+gVlKFM0UrkEwS4rCGYoSjoCDlUGxFMy0p0smIKnUtCGYv1L4v1K8RMsLV+gUgWADg8DoEBjsvmAcoYGqGsusGYpWNEpsD0ColmGxDMDuAAD5QBtk1ijLPKzNfodlfLrB-LArgqwrtl9koqhLfoTNZgUhErQAgqiUUrQBdM8rrBormLgB4q7kAq8rkrwrQAwB0rJKYCABSSq3K-K0Kuq5qkq0AMq36KvXy9q2qyvR4IKjKmAgAQgeEGuqo6sKqmuJTGqaqmDhBaLatmuGtADaOsCWvkpgJaLuHiqGoKrqoOp2r6pgJCvWqSpOu2TCvOvGpWpCsOuytCGOs6ruuJRqsesGImsqrqtCE6usAmpsDL2fiZBouiH+XwoQoPEcKJS-gUiUlNFmFothsxCZkhqeXgoH0t2oA8AACsmxGYEbqgkaeUTrhKob4LTNtJpVoqwg0bcaismQsAsbobAVJsQcYqpRmLr0TVTN+ajMGbmSbKYDIBiAb1Eo9LsqJapaOYRbRaeaVqXLJBYBIA+LVb1bFbRbmLVaABRUSg2nW5k5igAOVUDNsqotrNt7MqwhvgyZpDxMNJsKHJtuU6vcL5QsOpqwsnQbH5g6HZpxpDyGVdpSHdpOrpsZFRt9phv9qnCZhOUaXqmxr9veRIEuSrnOnMJ+UkBiEkCNUYDOWrIJtUDUGc2iHZnLOpSZsIqyAVBIsxWfMKBzhzraDCEjNVHbIARrKcnMPCIZVR21KmF4yy3pT0CZpThMNmAlOsCdtjzJhlLHtjmy0nrjrorf3xqJooHxznp9rTvjtDtsJNpsFnM1MXIVCsiyEJVnJ0A1mqLKkvtdDexBEAWfv4VZvT26kzzAuXggu4EwBgpmn5BTAoEkB5kMHQgUkYG1kW3MIVk8G8EHCRgHHgbm0KXMhHOTFfGQjtF+LhEkGOIBNhOBJQYorQZwYAjtC-jfm0nQZwpmhYAUi5nsWkkakBPk0CO2FUFIFIHcEVj3gMEuT4dqoYDWL0F4dICbLhGWIflkfIXBJ+LWKkdPoKlkYdk4eQP4nIA5l8EBKztzkMb7V0fyvMFs2DMpBhN0AIcGN+J7xYdkDYf7XJrbp0Y5kMe-QIZMDhEYfcc5kcRYEkargQdcGbmCdWC-nkeFjhFoeMRhBzjMHODIRfULMDESbMCCELnSZCbMAWvhDvhRCibuUtESZkcKcKJAaiF4bdEgctxge1kSZcTfhfVOXjlDjKeSe8R+BJDaR0SUQyZ6PkbsbWP8eWG8CCdKfBQifwZOO8WWOIdRIgQ-j6cUTTgychPmeUZ9vsAS0CfIcoIieGVyc+RWNZRRFidnR2dMcGOksMdjt2YCYmYwamR2EsKacKX8cGJEtmFyimdWGHIHAyYedMfGcYBYFU38XONiA+cKHkYAHJiGc4CHEW4nrGgSTJEm-HNgEseZGATI8WzHLHRQwmlY-gkGfBLRCW1GvFmKcg6gjjbUjjy5FRCxZRvBWWvJFY7oXm1trm9GqWlx8XvbAxqWQW9nnm4mvnBXvAxq5hgwxX+XOZqXgDVQy6K7SAq7KMNV6pNZUoK1dhQmA5PiE40wFFVN1sVq2nTWhJZhVmOkwpzWW6whyb1WORNXKB2YUNdXbpORPGDWaHeSen-hzXinmLCmgYg9lmSRzXIXVEaJVW2RCWdRNkqIfX9XzX914UIhrXQ5Y3AtbS39Gy0NqglmiQVm39mclFY2xyQHDAfa9XOQxgRkwtybk2cRU302-WpjY0aJPyC5p7+Tsi4QRLinLDLRaJG3ZAoQrktJUGyhJ3fXp2Y1A3XnB2OwZHpKx3mAl3m3wU4n129QZG3XK7PXtXPRLm4WxK01D3MhnXQhXXy73WtXvXF3Up-XY243LDb25BY6p293c5DyWMn1s3XBeC+2f11xw3TMy31JwPDWgPjzYM-0E3vyu62R3UQ2+22DYLtMA3inLRQ3eTVyFF1yllVlnAq20o5hsQPUCCJxaBtVe3DWcO3m8OiOr2OC+24mSOaIyOnUXUqOGP+QYZjkAp2XGBLdyAK4vAA46gGhWhM3kjbxMOA2ZGJPFRGHrgZ2m3JP0IPElPiWKDF0ROYka2iI8Ba5vBgIhhkJUb8s1R6VQBRhyBcBgKs9SB5hFJHFQA1o7lZBpo1p8989YETlORNY9BnpsRZg7BoxGA6guGC4VLGc4uEuhnQAhaWhmnVE9p1BIuZBovC5LRYvbU0veXBFC4Sv4uCjvFMtwvSB8vCvAwquyvE2DCG8XhkI9AW0ntMcypbOsgwtmLdMBuZATNDzES-4AFGvJAeBZgovJBJpdTcV8UPBRuwtZQIuFu5v5WBxId+vqHDzUh4VVv1vsjMu6hlyC4Lva3IMkO+lcUWuNv6uZv+BAX6RCA1vDvbuih4Unvzv6VjVhaTzf0r1Aeb070+lgPrS2V1xmumxSujvFSv4fyfzYp6AOWZuduFu3vuylw8yVvPuzu9y6AtuCvZv3uMcXtOush+3jv-OieAImyLurvH57AXg9u+uafNI57LDcptvUa8Ocf4yyCaXXFAx9vufRwUf7ubT4N-uSeyfOZcedxGe8GkeUhn1-vHgWfAt7NCh2yOePuvu7OsB9f-jLDLDhe8fPD73KtVeTfafCJzfQBoeQeUhDf4fUuRfPQNfmMUe0PQgAoDKtBPPGs8z5JN2kSAFL3vEf5o-dheM342Bh2YhZBJPY-qUH40+OWNjpl+jbVGt+OKPQArOiFdzRuLSgzuHnAQ-yBPPqL4My+bOmfiUrFRvuug74MXOwtm+pOAJbmE-qwaKHPiU+-0IO+4Qc+M-WaAorEPAYgEpYhFsff8fWPLCV+bfkCF-6VqzFs9Ad+l-VhWPLRD+Ljt-F+9-Tcz-dBzDAwb-VhGGH-875wPDSDmEsg7XnDWPNuGvN+QjGGg9d-rg0-428v+fhdfnh3n6X9l+VDOzlv3AEfk2uAwEsHGFfALpSOTAJENjmIAml+8R4SQF53pRZBGALaAKNGF2BNJsOGZOFIekoTJgA2rPOtoSgf63YYB7JAum-0wEAD2Mt4VgQDwaAQ86gLWB+CQDwFQgCBRAuoCQINaIDPC9ZGaJQIP7sDSMD-Onj1hA50C9g7HCDu70FiWEKBJkQjhB1mCGDlYn7H7m7xoE1942uwSwYHwLhmDzWyAgEtkBYDGsPU-eBoEmGxD9o6AO3bwbpTGB0AluynRuIWX8EWtQAgQ3wVCBCHdcpWeHQmJ1Dt4JUxGUQNwR4ORwxC-BGQ34EbwMApD96-xHIXEMmjIEYgjiLIOXRQg+C-BAQ+QEELKFGsIhnUYpqUOkD8AEhvJcdn2EiGpC7ktVSod4GqGApShegDofELF4FRuuJ1LYpkJ3CdQESTmPIe4PwBJgjAikHlEDHMLrCtAdKSIHYF+D6NMh7tTOuDBLhcENhBw+YccNuEQtWOyXe4VEI0yvNhhxdbIGMMaGxCa6BUQmKsJNqzDOqew3RlqEOFuCTh+QiyEcIhbLDa0VEOlFCBuT+1JgOMTfhREuhYCPyV2eDPwKqIqDOBpRf-s4SYzrh+BOvcHiamKZAD0RWgOQV+32HeB5wdlMPs-0VRqDZgGI+kS4P2CgigoLIzoryM5F0isRnhVjueUeBwh8A5oFoMsWKZSiZRDLHjrlwXYiiMRZgYpnaWsBxMIgR4SeloA1GFJB6+dRQPWFRH8IhR0QkUSER1FSBLeBos4BcAeR4d1RY7RkfyND6dFAwvI6YYUEDDqiBhBUXkY4mZGeiDm+orpMULZSWgAxUY6lH6TiYKi6QsolwWyRvpth7h-lcwpYWqpAiwqwsUInWEWBawA484DTmmHLG0BZgybS0cmxCI4jgsAotqPij1RhZgxTIyQAKL0A1iRRlY4gLPSVpso6xJIozmMU9HNiCUMjaUcmKVGFJXhKQBshcXTE7ZVhjWccbqlMAuDCAYhRfn1AjFGt0W4Yn0YWOcAudwRxwqLtjwK6hCgQK3MLC50a5XjsQz+UcSDgpGCCTUamYWIozoAuDdxabBboSH3ENj62UXMLBOwNGkjKSeoqLmYHkaFNFGUXMMDfVABDEAAEvrUkAABBcAOAH1oAAlIYpAAADyZtZAMSj0Ltwni9fVyn2NkjtinA9I1jtuKWD-iIxIYqIWeP-HNtdOGNdiUyLjZnj1AZUOiYwyEmlAeE6fPieYXQmYScJeEwiSRLIliT2e3EnTlJKKz8SnA5hM8ZmP-GSBAJ40BibyjZa8T+gOye4WJzRiL9JJHLTScZKYlhDtg9w6xBsPJoFoMR7gAqhsU85NhHopY2yXpzCieSWAgvPkf2NFFqNqJnnQKXxIcmRTr69gWwNy3UQkAfOxKAAAwdB24t6FZLZBSm5tLclAVoOXhSnRg0p3gMLO2jPDlSROjAX4jwCgm3hqpmqPvI4kYZWJcpTCEAWgTgGgCWpHgmpEVMu6QC00cICNtex8ADTCp6EYqZT3QYnjgQGkbqQBCkAxAlU3LHrvLwKkmtgIxU3Qs8XylngZpbYYqZ3yBABQMhSwFZOoG1iGdqgimPUZm1SxjjqcXU-fpgOmm7ThpPJbhJYQ44VdLCV0yQDdLkDaxjBCHQMWfTsDXTbp5giDr9NsHHZRxwM0GdrBamLSGgnghLgSFyCYDiREA7FJdJhkgy4ZYomgT5iYQhpqMXiFUiqOAEARoENM2HpPBLw-dxy0GPQaeWCweA2Bu-RgoSN4LciWsZI5npSKMwSkH40o1jBKTfioy4ZbI6-uoK-K2YrBvAxuP9MNFsoH48ssGeGM8KZMAgcwEmWjPMHlcvEb8aWbIHsFiYUZJssmX2xcHGjkRyKeiF1034JlIpIElgewL5lH8X+1iIkX1KkI8D6eyg-mToFAD5NdeNA9cCQF2KdiwxiszCByInKDjuy3ItOa72PKUy9RHoLFMyTwC6Zi5X8a7L7OJTP9BZJIT2aHNB58DfZ0c8WVlzGwZdiACcrsSvzjH4iI5qg9gfmlswDykyzhebDSODk+9hZHM3rM+ixnZYpAYUT2QTI-IuEi5Jch6RBCTFZAGWx2WXnXMpCjyP+UhGuSONtkSYwY8c4EonJomT0duuwXHvWKcnOAJRxKDebKPlHTjN5mfV+Dl00ALsb5k0TUZIVtFUzdgnULOSWWdmKBXZXILriAtRp3zh5QbegT4Fvlay+WECvYKIWgVZBJ6uPWBV7PqpgBi5umIBZb1AXnA2OaaFBcU3Pmcwux3ooocyW9GTQoZYQGhZfLD4TsGF6cwoBO2YVdzqgCY3ki-K3nocbILU3wAJi7Cji9Y2BDiJIrwLct6OdYWgImG3FpgMZJ-edhtKd6MMBpHiDRQ-KFjhNAwzXTaebN6J0s5AN07EG2ngJxssGA4DGXCKjIp1KI4ilqdWKFa-J3REU4cYTNvHwZEw2QecC1KqlagkQK05CGtNyAYzHs8GNhRuLCyso2FXYnseFJYWFBiwqitOEEpqwYyMlKQPxUgNHEJKBIk44du-Nflzj0sxHaPBAy8XaKLY1+EyLkpCWbTAxaY+wBmNXGlKWxpgRKYSlkmSB8J8yAADL61yJ6mZuNlK4L2AYpLU+iT4scklKdxgPKiFpN5TFMuJaysYAso2WCT2ewko6QJHOlixpo4ksqHspkkYThlYyiZSpLdBqTjliy8KeYRcnj1WgBaXSauP0mGT9lBSsILAW5YWTVhKIVId8phGDEJpQKrICCphEohFpedPZfFPvmvjVhrkrQO5OpShLOqGxPOm4u5aNKwpIY+kakOimuVkVSyhKamPrpLBCW3YrxdoPSWijzxDwwxS5JBFYrCg55MKn0neWr0vB3w-tC1hvTqS7JDWNJSSsimBi8xDSIOJzD2WSqmR9Ihmm6QBFOy6l9KwlnINZVbTgsO0YQPePsBWhaO-wRVnCFhz1LZWVfQWAapIBiyPxEswpFyGPRngtVXinVc8LiZ2rcgiBTrIqzVUwjFpEQf8QPx9GPDto0LfQBBP6WJAjZuohgTGucXd1pOdgWKbNPnBsS+x3mUDi-waBUQB+2agnvBjAnEpfl5PICdmp+64p+G-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')">function is_var(exp) {
    return is_tagged_list(exp, "?");
}
</pre></div></div></td></tr></table>
    </p></div>
    
    <div class='permalink'>
<a name='p56' class='permalink'></a><p>
      Unique variables are constructed during rule application
      (in section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) by means of
      the following
      
	<span style="color:green">procedures.</span>
	<span style="color:blue">functions.</span>
      
      The unique identifier for a rule application is a number, which is
      incremented each time a rule is applied.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define rule-counter 0)

(define (new-rule-application-id)
  (set! rule-counter (+ 1 rule-counter))
  rule-counter)

(define (make-new-variable var rule-application-id)
  (cons '? (cons rule-application-id (cdr var))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaWH8XqexNtsyy4io6xlurbU5qj6ipUUKc3Etz1GXJeoKMp2cXprIBt8CxeiARXySVDfZaQbl2LuVHP5-xEnAmeQ4pZywTZQqsYC2FFydy3WqcYEO7FjDrNrmzBR4jrFAubLoe+ZFClwvuUS6hNi6zgpeQih0FTUa0phROdFs5MWmhxTgPAfkGD4GYGwKAcBEDIHQHwAATB41mT9HDOBRoVbwbwKXCNsDtMoB4UTGAAD56psk-RGKrdWgANUauw5QKiiGGLqi1Zpu67TNfqw1jq7Dy0KtjN43zj4I0kJ4TwxVNZmN8eQAAFvcLYng35JTAX0Q6x41UADJk2gEjZINBarlI5tABGqNAbfUbPAZqgeurpYaujUGkS41Txt36tXUajKGhNDLWqit2cM1oI3vCtoPS5UiAuI83Zfh76VoDdWkNKhTzDpGA2oCo1Z3mzqEyu+fMlpdsUD2xQm7t2vxCo24+S77ntsiBu213bx59z3XKA9vTi19HZSSqRcox1dzsFW4NtbfEnifail4878WeL-ZIiczby1ns7RerdV6d3QZvX2u9QHWYgeUVpLlo711QczTBzeuHe1+CQ6NC4yKAWgcWWuyD8b-WBq-aG4ZJ5SMcvmIB0aTHn1gZXQRt+56cPbt3bB-d-a2NXH+cx9DbgYGYao7WdN8HYMIcI-25Dg67AWglPM6cEHQGyZo5O79DH1MYwWbQVjx8jOOQHgaIBPGxntmUFxp6pakiaAE3h-dTNRpGZ0tpkw2HL14cU4RZTxG7ADP9pbV9WHqMfonXR6dP7wvFzLGZh9czwZadPTp0ibnuMhb9SI4GnJjOZaizJ0ien4vEL2V7Dyv6yQgwSFyDLkNUsEppnSLGWayvZbrnI6s+V8Q8GE8fDrJNklZb8-Gx6ph8D4mlSNh9Y26bVek713JoxZv4gAMz5YfQq8WXNJtxt07F2jNb6M1ZPNAtrnjxmMLzlbN902zHXY5uGRen9YGLYJdAjhJd22BHK1YXLGjPPHyTv9kdsFnuyc3VbcHaX2GDMAZLWHpFFOlMPftiBAkoHvZfiQ9HJae4EaxwugrmsYSEM4Wj6Lp3NXOsx0hlTJbvG+amwzz9F2EsMe8bd1m932fHaWrWk8-PNA+uxwS4JPnjsnZy-J9zt6i0EqHR2LsPY8Ii-fbYbnU7VsNXAt2YEAuRB+RK5DDnvGAt5cRwSz6Ov42g6C0R4+K1PrUG+rZmLjPe6KC9+T1nBACGrW8IHn3cPoMR-t54wuYejQR+J3m2DMfD4CrakKkV7BxVcClWgbbA6S2IxitSWNS0Xw5tUiX0Qqu7vKhwsWxQlnnKGk0FUkZ62xf8UEsJUSxbF7LJb2YFy7fQlFHedLzxFwe9CRMv32u+Fy+6-17W-ADVZ9978mbqwFvh-WaX+q7OM3Bvr9AMN2PrMLc+fwMvl7y4ttn4W5f83bUXANMClZW-R-7+bdP5oXbOvQXBvAbMBGlWgDKO-WTMXSZSTT7dKMsH7afMLCOe5OOH-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-KwHkcgDqHwME6CNaex-kqxvWgwXecRn0sxmhjKk4-hiUBwIR7GFmqu5xifOYg2GhnQE8CximswUWA0FgB5ZiXB+IZ1TcBKLR0nE8dhi4WtNJ0AVNX0DWJk7dNJvQA1Dh5U0p0AXavA4IH8IeZCTdPJgok8OpmyUIJByR0YNBicTBlMNJimQWaEDXE3PCPJgphcbuMtC3TTK3Up5orR7x7YkJvXA8BJpptaRJmNSSeEhcDY+hjM1cNuOqWuS3RkKp3Z+0fZk4lZ+JuDMhvuT6eZvQTYlhH8LJs0A6AsGxk8FSxxwm75iieJ4h4UBNeSrZ9JmJ6xm0Ii+Sz7WtDZmNec2DUpgF2JoFtZhKF0MxiFhpk8AAcnoc3BocJfYaRJuJtDSeiZWbDEYBtFpeqpsNwr9z7iSHwfubQQZaMYXDF2GDGFhMcoamvHIFhKxAPBFYaiRjuB-BBcShCY5cUC5eRbwyVahbicxfYflc3VVe3VVZpY9DpbRJEDbo7tIC7tGBekoiTAhi+mScxBGa10ZG5Ehd5YddN00BmZayddpG5amPsxNZhDNcoBFlSita9FhEcfWnyDYeWBJGOedYabFzqcl0cyOaEJ9axcXvyFTKsAZeKCfGpDDZtedYpTDmGZWMdcOGdbNNAFdLfz7JXMuNTdbRaE9anCt2rZATRutdhGDRgk9hZrzYfALaLYjbCdtZAuINamLThXUdhfMg+Z6FCBUM3TpB7YcBEhghulBzXfDY3YTxjdBYtz7NzV+bkUXbleYD3b7bWnYePa4znYDc7uDYtbgIaZUPvfsX-PDv9fbsDfNdDd3YhkjYnczY-frazKA97c3bWnfLvLLecyUGrfpNF1e2TZPmbcQ4nbcX4RQ+zm5DcUnuPg6i6lte4JLRUITZIc3So9Becq+iPKvFvCsFmdZhI7It4drYgJ+LI6ZYo-Bdo8Sm3UE7zHo+5EY+ahY69ZEAQMAUA2DzFcYAnHIGoG0nuEzQmDQRLb47zU6iQ59bncU5FeiY08xF7aU5UR820-cajxw1k64Ww-TzAC9wPFhS2H+EJqwTIlPKDXIGgrgrYFIHDXbANFAG22QgcAJW2wLwL38AU9hCTEUBVFCdMAGEYE6TtaZNS5GIy-adAAVrGEGY5hkCS9EFCc3U3Wy-S53kGIqaq9y4XGQQS9IFK9Ce3Xq4Nhzb9YYXc7uHnopUiSTAxF6+6lUjF0nhG4XnfK82yDyBJOS9sB4E0AW4W3vI-j+NKBG89ixES4W6W5TzwxaT13+SXJ6HVg2624KIK5rerNkwK41LtgqmdPtA-nq+2+a9a9sGlWVYcUIE25O8ndXJ4je6u5Mnyi9TGBu4-Oznu-ujvMETNCWna8mBy8B6iFjPR+VjSGI3oHFc+-25W4cMoLW-Jou-+Xe7oF27K8W5+8UCO5G9O6B4i7+8u9zWu-vMRLMGO8O6G8qBG+-ftBUNrT28JvBcJ4rI9F5utvEtg3p4B7R-h5dPJpB8vKp4om+4O9+-+54Ye6CHVhB7Z7B4VkVvpP3h6FHO561-56wDN+DJUJUPF7jgF5BL3RZ-l--Ft8e9Vg5-N65+R7S7GCJ5qDR7AqjKx4pIfUsvkCC7oSh6WjYBaYxLm4vZkST4KGmViAT9PcKgcCU5T5MWsFx6U4uKeNqhYAk+Y9ABc6BQvJG5vM1LCNIij-ICC+YvJur7c-J9UnuxG-nv-A-l889g7+U-+QyrT-yAbRYq89UmH5UV75PBz-FYbRMJANKEKnJC8C4csXkIl98PI7kqOlIyD8l+ibX+BhYNIxSXX5VQXs3TP435jVP+v4v8kyv-P5jX3+3Xv5v6f-f-rrrFfJH8mAwRffjtxa5ADIi0TGIhvSAG4FIi+-Coqv2f7eBYBlBD1u4S64kYZgvHGzsy1XxmJxOtTeTjjwlpUBTohAnwm0mPJz4RIOiWwMFxMh3BGAsaUaAMHyDDgDOCPB+EMx+ATsfexgAJMgKCTID-+dET0rSHQHBFde62b-l4HUYFd6y+XagX3joEMCxgTAhjsAMDLLJYgbAm0LIP5JRwDBjPdHrhwQ6UcM2-AqdioT0EKtq2mgWwcJwzYK9cOXAmWPGgI4Vxw+62Wwc6y65XFbULAe1l1HnwTBpgRQb1PtzCFmVg0dAVbjp10rKBhsDTaIREJEhxD56mrcFvDmGzO9gaSjRGIEOCGxFUh3qQoYkEt5JDfW0vQIKUPSELZOOhUA0HcHboApwhkQzQHUPsDxDcBJOZ1HQGSEkMuhGQsDtkOgwDDfW-XMak0IPAtDaIdQxQMMOlTz08hC4KYYlQCEVC90w2FnE2nKFBD8A0wVQPZkYhiNG+u+I4cZGLCmBEgtjIoRHRICS43cD6Q4fICuGbCEmHwzLv0P2GQtSc2TEYLMNtTzDHAMQtBPdHhy-C8h6wggJcM6DXDAhdwrYYJl+G7C+kS9efIhHFpyIrIQA8UNDHgEHJyaBg4QX-wbqACWGO-SAb0NAAkjQeEwY3oVxIbQC0EeI+QJIO0Gxs5K1jA8HWE8ox8DB9yYwZ0PZFaDfCXXXUDyKLD8i+ikokUQSPcL783SLTfAFemKgbE8WqozeOqPYbFc+4co0APiL0ANM3SeKLkVgOPCSjjRzIjESJCxEyQcRyIA0fiI5G+Fsmdge3vID0CpowWR0I0e+zeG8jbAMo5UlaNWFmht0Ro8MUSElEGg+R0fPoquy9HRiDam6KMffQ8jAV2GJ4LUXcH5b+CVU39WxPsKioL0VC7VGEaTiNZ8NI0yYTEHWCM7nNzOLwTQHmwNF5tCR-icmjKIGx-FFInsWMUGJDFtjRRjY2gHvRqELgOxGAmkT2KyhztcxOokhv8K5F8kixDKEsXON5AKRgERHB9IQAcD-8Jg1IZvF6P37GowSCrK0dWNAC+cERtw5LgTzK49Cgg63T2L51a5Piigz+Gkd-EN4MiIefoUnM4joCYCwehbBbo0FPF7kBB5NZLp7CTG7jzhfQHRK1z0BaM6mziZLmsm-qgAxiAACTtq2AAAguAHAB20AASmMUgAAB5V2sgFUhGFUK+AMwEFzM659aEg4ywK6IXoHiqK4E6CXGMhZ3j1+NIPts2LwSCTeRmbO8TIEqBjj6A0TWSb3HYnitJJC9AiURNInkSqJtE+iUpK56iTqQ4kjiZJK4nEAF6d4j4ShHAm2BIJc2cyTdBPAKTXwHw4gRDnX6qSLOyScyTxP34fC6IRwlmk4nxELEaqFxILpMByD1ivJeEUKeX25FxieJ4YliS3wCoKSjQvksUWiKRxtwfg2-OwIVFigKQ9+RIgOlK3U5usJwlAMYIYQ+LVgSpwQzXLChql99sexHUwPcBvAyAUw1nZYBqlQklt7oioEAkVBvD5TR+hAiqU1NGYqIap0pEkBYOjbDSD+x4QoV1J6l2CM2KYwIOtNsDdTpAKYJwdG1lbOgs2hHZCXtIOkpgKpN4iYCEM6QrgFghAiAYqOlijQrpm00qVqR4GDT449oNcu6BK5ADfCUPfqdnBrzSCyorg5ZAElJEP9RBr5KkTOILjZxSg8go3hD3lKhBVRqseUrEE+mHS3+CMowSYMdI29Fe3pBnJR2tG2RQghMlMDR0kjlMGZypUGToIIAlJa8Xg0PlO1Zl+C9xDBW0fXWcCCQGQ-wLfv8iD5+SypskOkbSJEHkiqir0qQWkHVgkiam7PNwUtBICHFgxCY4me2SMHICboGYqINUB4m-hG28HR+HYFQnVApYytPAJPBdmOxiRQg1SIKKVlloLZ2Uh7ktA1n-jweisFabrNuL6y0pksjzmbOMCCjjZ7-O6LvCTnGBIiSCRenUijl3BpZfs5WGYJ4j3TUEdgQ4L7JVmBkPCzs12eDPjQ5i1R+Y3OU93vLGxbRmcnfr7OpFVx70BKMORRBDH5B9u+QDXp2OQnKjT2i4-lpqNrn58tEYgIGfqP7kLYTRchd0bwL7m0zEoLIkWTqF5JwgJZfcwmoPPcLLzUJA8tecOXTmxEsRYsneX1wHmE19u8A7qmABdmTxl59vYbPkzTSoRwWJ8hpt3Ijkx9t0q8naVEEAULZgFQQP+SGNXa5CY5HwVdmAtgUll3CmbGudqLrmdzkCDUvrijhglTtKs2BHwMlhGCSsSpRBDYFMAPGMhbp+-UHLdM47TSfM1ChISk39zbp2uJUw9olF5bSBupRQD9EjA47sMXcsGOhTeLroSgKpxUrOaABHFSj6oMig1hRCHnpJyaUwW1HWAqmexTAeU0jIVIWC3SIk5NP+fONUgsJIFBs2RUlJjnkLZAVuNRZQlungL0g041WchOMXbj+xKoyeQ0xXF0dWU9wBllIukLj40YLQjRRwpTFrizAxYm4Qk3cV9jCMOEswHhMIm2AKJZ4AADJ20GJLiXuMYX4KsSAqFUzKYGO4nZT9+fEo8TSCkmWBhJhk8CcGmKU1KLJ7DZSZUCaWcc2lWC16BpNSXpKsl4AAyaMCMmNKSpJSuRQvQCnr1wRBkKySWKMl2TqeUExyU4qiD4ESprk-YT+HDFzLYlGVdDusruCbLYlMrLrnXSaVZTlFcZe8PsMCnyBgpBkTRWNQuLiLulQS0XnIuSlOJUpbEi5aUvkXAUCxAkfRIEssW8jXR94lgJMtuWvDjhnJJBQPEer3Qplp9UIaCLSE90FwCsTdhJOSRgqylkRFMTCPOVjLFWiinUP8p4lK0-SXwrrlTFQaKKyVB4UJjSt+EDdyaroQQO+LMBbo9OTKw1g1HpUMt6+U7TlSQAxkASQ5JDOEMCoCWMqGWEKr4ewzFULB7ORoVVqytiU3iLgRk0flaPPF2ByW3gRCczL1QoTsBJqm8SoBGLqdcVdYBukZIeR2rY0CHXVRLIUn-SegH8eCapAWX2SnVpk2gGjw-jSNDwZYWKSog+Hp0fIuyxEclyNx2rjlgQkVUEHyBYJWuCawNcQCTWJBB8gvcFgpM0AwjQ12ij6HashUmDKZMZKfKzGtWmBulogx1Uwq7EB1zJnsGxZQsOAGK1ZtsqpdSD1X-LPV78OCWV09h+qllDkwdQ9xDUWBS1DaqNcpHlKxqHxZXEhUcrclo801eIeNXgQqk5qWAeas0CoQqlFrOqJa8NdNK+FwcYZHc1CqZ2mkjEI1hwD1QareUvqGm96kqQGrUlBr2GpnBSd+u8kWSTOYwHFVmsA0vBY0da21VmsbUCSPVhigOhUDA0-r6AnsTSSRLImUTqJdEwZWkAw3aTsNeknJSoULXIROqyGp9fQHfJLQTwuQKJjWrAiga3lzaxEip3rXTSHVAk7ta+Pb7SARIxS9DX0syXZLbYGG-pdkoHHgsT15Gx6pRuKU0bs4dGnIAxowXypcchpIGLTTahfQzh62RIbNE46Q4Ng2moQLptv5iFro0TePCZtwhRs9N1yzXuZuiZCx36xlUzYvkM2vqmShm6JpDnc24RzNNCyzd7ms3sIAtQgezQvWOlB5RoRUTwA2BEiBKvNOnGjlZsFnAZaAtNagEVNs2RbFVbK5hQaVFh5bF8pWrhJC01WBD2GJmnLfovYTlajQjW6odin8UMrmV0cUYOVrRhZa7Nic6XlVsSAs4t1GVPlrCSFWKL4CWWurUXWPjua6tiwmwB5q4QFatVr6rcuMCW06aItt9P4SPHNGAjm6wItoWCMxVEgJtHW-zVtrM07aKtq2wIf1qiAwj5tRU+PLdqNDvbHtrCQbVCv7Qja6NjAcbW1uFWdCltM2-Je7lEAJbUYXkMURWv8kwqgp9mb5U+QSo28PgBm4HYyvi2Jb2tdLLZj9EQWIlCx0SjcXsuAr+BPeZ8qJSpzJ2IjU5yc2IKThNBU64dtK6uP9uFZA63ADYPHVrWWhQ6Gws2h9GJOkaow+p4FfxZoN-r-0qQQDXEDeKfZBsQ2UcWHT9o7iflEd9y5HWaGVHxUbIourBEoBz5iIyBqMfeoix+hijVl5iD1vlQzH0dxAE4ycXgQvBMcWoko7MgpXfBAlXmScqnSeCV0AcXoMrBZifBJ207IVv5Zokzt2jO91dTMf7UHpfapRudX4BQHzs+zJ6VdlBYwh-CVCFtLK4Qz2AAE5-wo0IvWZSj0Obp2BKSvRRACkUgdUKgTQBZPvIIdayhGe8jbOQhWACiAABjBm1CbAVlRQPi3xYNQ0AU+lNTGRvVmh69CrFQGTJ6D17IV9dA0EiKCE3oboVgD8Bfh5nVqggq+xvRvp5gF7NtJlcIWIp4VmV+FMUZuDavu1DalR35fYYnvTXOSb9fCvXAIrT2jhM90EL-XfvFGoUoOdgQJYVC3UOEDw5QOEC41llKRXQnsIdo+C2CFswDp4w0MbuIBbqaGv4U5T2uQjYRGAsBzWtU1PZwhWiIrKHgvsyo+6wDCi5lYX1wM9Qsq49U0Avv1YdbXQIUL3pVAx7qwFJeuVTqUHU6gbsYPBqHp+v0SPqAN-68tT5kkMPd1YxB0gx1HIOqRrs2oudEPuMC0H3wBhy8qhrIjiHapBhgw-1D4MCIMeVa9IPofMMfgGWSUBJQwAcPvgZ9ehkfeEKj3IrblDy2yHrvlJcH8dZsk3dsGuCoxXQrootU7oICdVdA1Qi7fjqiPh6vA64qPVWOCyEc1N5uUPMMDoA3gdUkBrBLGg-hIHVIKBkdhgccgOAbJuBmEvgZMGPkB4OSJI-S0lwR6YliIzIx8hrLOofCLJM+SeGvB+s0pKqQ0fIEkBZNd4XzdFnzpsmkCIjSgFI94TkJW7bdcRx6gkaSVKRppAwEgKF1Uj96IdD6MaQ2uNyVt7VaCcvI1P2OHatFtxufKF22I8BejsmPY08YPDRN7sZxy-kAOmkXGWpkPBAeC1aafZj1jUwE9VMD5OaiGymMA-MfxZGdFAk4gADpYBJF0y4Q3RBGIJNmdVVPKpJFsgT68Cqh3khx3-AInAlSJ5sSiZqHonMTqKkSCpxxOMAEmKhQgA4RuihMOTmgAAF451QA6JqIFiZZP4BcTGx0JgKaJM+QSTjGGA+SYbRm8RoeR+gIUePBImmT2J8U2yZGpLxXsUxhqKUFhKkBYS-LQiPi1Yh4AqTjKzUw9O1MSmtq+p-qoabwLGmN8ZpmVnKf6hAA')">let rule_counter = 0;

function new_rule_application_id() {
    rule_counter = rule_counter + 1;
    return rule_counter;
}
function make_new_variable(variable, rule_application_id) {
    return pair("?", pair(rule_application_id, tail(variable)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p57' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	  When <kbd>query-driver-loop</kbd> instantiates the
	  query to print the answer, it converts any unbound pattern variables
	  back to the right form for printing, using
	  <div class='snippet' id='javascript_95_43_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (contract-question-mark variable)
  (string->symbol
   (string-append "?" 
     (if (number? (cadr variable))
         (string-append (symbol->string (caddr variable))
                                     "-"
                                     (number->string (cadr variable)))
         (symbol->string (cadr variable))))))</pre></div></div>
	  
	  
	  
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  After <kbd>query_driver_loop</kbd>
	  instantiates the query, it converts it to a string
	  using <kbd>pretty_query</kbd>, following
	  the syntax described in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  The function <kbd>pretty_term</kbd>
	  formats unbound pattern variables using
	  <kbd>contract_question_mark</kbd>.
	  Note that it needs to distinguish genuine lists from pairs
	  whose tail is a pattern variable (and therefore technically a list).
	  <div class='snippet' id='javascript_95_44_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPYZ4AhDD4MwbBQHAiDIOgfA8Cy00qIuDmwlqyh9xBESyAoSgepo2j6Ay+VhAA-NYty36EABcQtIuUz82A-GvUI9hC7BAviC+XoVJlTUhpcoswD4mC-tYN+cUYxTnPKhT8YUb4FVAA-HeZVJxxhQc2NB6VPIwLgaABBUgkLvlQaHDBBVsEegXMeZCBDZxXifKQzBFCA70RdPyT+mCGHJWdJqfhHDiCHzIdw+KiV+jJT6vxCqAj6GgBwYNYqsjaDyP6qlBiJCJGwK4TsAyqc9HxDIQ-c2kgEJ6BMRJJE0kMZQLIZglIJi3bONcV4mwnCCrcIhnzQxKi1EBIMNzG6L0hjQ0plA1RBipE7Dtso6oQiypJPEZIoxERvJRIphdIJKTVGMJyQ5GW+jMl+PZLHYOtCDQWLVNUkyODL7-BTgokKZjTDQIMdMFxhRWpqRAbJHOeculxMPgUwob9vDMCONHAAqsQR65cADuWJsT8lUFRUAABaHZRTd7SWEu3QOcgTLCFmCMgWlB8CgD0BEWilAWCyOUEsGxwhGS0wLqczmjznlUFedYvSegLlqirkzGwnRVFyFkOIW59yoysF2NQeoQLuogpIJ8n0NhJzAjoIrcgoA7gHI0HvFOHiPm9O8V4vq0liBQgPocWgTk+nUpsCnexUkZIYuICYKlbLvEjP5QK1xbSJFMtEVMD5hEUjyykHZEBeg6IEsmSohVi4ljFjpVMZVchTCsrfvURozQ6gdEhdC2F2LrAzOoD4UFcJFnLOoGsgg1UOa7BkLs-ZPzqyQqIgFAZighl6AUXQbph8vmC3LqPWSobVWhAfsLOBb99iHBDRfMlnc3TdzjeGvlrKbCBowkuWSI8Rkhpop9PNqswZqJkaVUx6DykC11uCRgS502HP+L1fq9UWixJgfG++JKWl6B7bRdR9AB3xNcdMjN0kx2zXaQHPV07D4xWqiE8JvMPp5q+Tcu5rMWDs05qEomLaNgQSNU0YgLQzXmvkLCg9CLxgcjJrkspxhPoXsKOuZpmaMbvtKTjIm0wYH3usFCx9nqrU4qQR3QDkRjDFs9cSvp-6F3oylh+kD1M+Xga-s+7JmYUMgqzUht0ICsV9PXFh99yGQEQbCFBmFMGaMQS3TzA6egC3gWw8BmJoGCPVG6KEboftqpFpICI-tGl65AjlU3JWcmh1YNAEm6oKaDg+DhAAKmk7w29dRdOA1AFJxEhn+2BhU6GAAkKEf11U6Ah3nCi6chC5yjJbUR7a27uMjkjXBks4NqZEvBn5yG0sYbtC-optmHMuZcfekTPpibm59LfoHLUNwXMEkIO5th-RZJ0axp+-m+aRWhGczkPLBW0Ixj0FY0JvHKt8aA9ExmKsZUPtY4F-Gjc8GNg8+wupXif4wkG3VohQDOyMgyzsKhKFhudNUykcbUpFusPq-OHEHYQwFrfsLJj4mt6qjUek5tXzcVuzCy7DxDImO4o1iHGFYXquufy1tohsk3ZMlCLigzcojMMGJeZmTrRnvqAhQXDD-w3bCu8bS7LShxXMElbYzWUPZiA41C0MN4yS7tzUSUjr+8DFfPkqoZ6bU-Skd47DpVJH2m6KbfEBHrWCc1u3owkRZW93YtxSAsLDPeeulIwyPNTGREzdI6L7Uu3QIS9ACAyXCmIKMcc7Wxhm2gIjeMPzoE0uFfAI1XoHXNDMQzc8YUBn5vlttkVUrmB7OfEGLePDAKdakH4N150g3oQjdgNI5Nr7wFjezZd9a+d3bvdDcKw703TuelfwI+8Weel56L3YCvLg680BrVO2yQY7b-hURbeubZDxiVRCXBus2VO3nAs5fYGSsx4cE4py1X60Zj0ovpWig8gMWvN8cfj9vqf26IN76i955fj6nRyjCfAhYe-Ipn3pU200OUti5U4-Ac-lqTDauNZfoBOpZzZOS6gxkQUH8pCtE-sxJoX+TnpFHygJVOX353w-mMxogtmA2jr2misXVUwi1VdDvx+ilDhDAKXFMwgP5CHh2DgP+Cox-0bnvEjg2w1ULFQM31VFQMnW1TNw1SgK9igjKCoy5zOzIA1i5F0Hf0-xxhgQwO2EDAnwChKwXg-lYOxX7j7E4M3ToOoFkFdnOUkk0g73MAc0vVvFTTtUkNV26FxQWCWHi05kZTRwVDCyO0LzECsR4JJHD3xyGXINAAUOUg7FMI1Tbi4MkJm2K0kLWFkILktCMJkGQI8JQycKRBcPhjkMpEDA8JoLZCR37y0OZRAzARsJhTbw5HUPJ34Jai1B0AWCsL1BpirzM1SPSI9E+hcQfksMMMkIyMyFiKrVAA8ASPf1W3gRyN0HSJMLMAAB4Gi0j5hSCYU6jv5VFGBZk9A4QAAVDIUABSYgbEMFHQdwGGcGABOOFoN+OEUAAAalABazCEMGiF0BuXdhiLMDWNM2WLWI2KqyiBiB0F2K6O-QNT6IGOGNGPwBkBWSmJmMpjmOqUoEWPhFWPWI5xC22MuPwD2OsIOPhELF+NOJsC2IuKuPyMJwDQyH-kAXD3FzAX93ZWEOUHGAyCUj4K-gCnezKLiOVyhx-VlXnyU3pH2KhOwQkRxNrh43+OtREIYJ0CYO0JYIMR6M03BjASJUeEJhpP+IfktHhKhPqKJJ3H2NmEDHhL+0KFE0KGfQPgFOr2eA0I5KiKQL6zCBtSOHRPhEWXSHqHUyRF9UVItTYy8VxQ8LC24NKOE1cXXCJO8JMJBWcMjxFW8ODRCIVJSCVMgzV1vAPgZLxLd012mkDw7DRI7FmA9AxOsE93pN-nDIjVgyTKcxc2JIqPJLCEU2FhzJ5ITXGTDKZNazenoIuK1PR0HRazfnDzVMLmaNOIflkDdDFKx1JLkGLLCAbOzOlNBNlODHlKYzEz+OVPhVVOyLUKUGPQS0iMlTzNCH1OJMLGNL7zqDNL+C9TVEMz8n9OYytN1P+3gztOJQdN4IjK8RdOzLdJiI9L8K9IFR9NsMfL+G6wDKBEDMFlDNTJDQjLTzADniYFYGz04DXl4AwH0KzD+ReUb3RQ+QnhcmzEXylHtTgoBTuhf2cEwsoEBSeSDjyVDiQobkRm9mDGlTDFxTwsBRAtBxhGflyjhFNFMxsFNG8QqzcV+mtDYusGtE4sj2YoUL4osO00EqYt+nYlEvYgkv6V+gVlKFM0UrkEwS4rCGYoSjoCDlUGxFMy0p0smIKnUtCGYv1L4v1K8RMsLV+gUgWADg8DoEBjsvmAcoYGqGsusGYpWNEpsD0ColmGxDMDuAAD5QBtk1ijLPKzNfodlfLrB-LArgqwrtl9koqhLfoTNZgUhErQAgqiUUrQBdM8rrBormLgB4q7kAq8rkrwrQAwB0rJKYCABSSq3K-K0Kuq5qkq0AMq36KvXy9q2qyvR4IKjKmAgAQgeEGuqo6sKqmuJTGqaqmDhBaLatmuGtADaOsCWvkpgJaLuHiqGoKrqoOp2r6pgJCvWqSpOu2TCvOvGpWpCsOuytCGOs6ruuJRqsesGImsqrqtCE6usAmpsDL2fiZBouiH+XwoQoPEcKJS-gUiUlNFmFothsxCZkhqeXgoH0t2oA8AACsmxGYEbqgkaeUTrhKob4LTNtJpVoqwg0bcaismQsAsbobAVJsQcYqpRmLr0TVTN+ajMGbmSbKYDIBiAb1Eo9LsqJapaOYRbRaeaVqXLJBYBIA+LVb1bFbRbmLVaABRUSg2nW5k5igAOVUDNsqotrNt7MqwhvgyZpDxMNJsKHJtuU6vcL5QsOpqwsnQbH5g6HZpxpDyGVdpSHdpOrpsZFRt9phv9qnCZhOUaXqmxr9veRIEuSrnOnMJ+UkBiEkCNUYDOWrIJtUDUGc2iHZnLOpSZsIqyAVBIsxWfMKBzhzraDCEjNVHbIARrKcnMPCIZVR21KmF4yy3pT0CZpThMNmAlOsCdtjzJhlLHtjmy0nrjrorf3xqJooHxznp9rTvjtDtsJNpsFnM1MXIVCsiyEJVnJ0A1mqLKkvtdDexBEAWfv4VZvT26kzzAuXggu4EwBgtADLortICrsow1Xqk1lSgrV2HMIiFOXjlDgUVU3WxWqQYTi-FmDaR0SUVQZbrCHJtAY5HAcoHZhQ2gduk5CzurlQbm15J+BJFQa-nQcGLvlM1RIgV4JogYamVURomANVB5kYFPQ2SGCoiodgdQf3XhUQc+KwbCnocC1tLf0bLQ2qC4aJA-lwcUTTnobHJmmC1ohgc5DGBGTC3JpEbEc2UkZMeofx3LQMdvlozUf5OyLhBEtYbErTUtHsdSnMfBW9u0n8bMahCuT4ZSDfmnvcceDhGku8dCdkHCfBS-mibcY7CbLhBIcrvIcgc9DhESe0x5ThvD0IdCGIfLtIYgcoaSdodjV4cib7J8btQyb1FjtMeSZjUPJYyfTkdcB4fgZ-XXGYo4aBiD24eYcaeO2PNgz-UEe-K7rZHdX+BkeSJQssJYcKUtC2f4dXIUXXKWVWWcGZwqjmGxA9QIInFoG1QafgbYNguKd2bWzmGDGeeaf2ZokOadRdVObSiMdueOQCllG8Et3IAri8ADjqAaFaDWeDKCIudWd4ayZBcYEVBwrVGhZ4VkDRfQg8ThcCPItaEQM62caAtAFrm8GAiGGQlRvyzVHpVAFGHIFwGAqz1IHmEUkcVADWjuVkGmjWnz3z1gROU5E1j0GemxFmDsGjEYDqHk0JazELJldtXlZ6IfiFpaBcWmT2nUAlZkClcLktBVble-WLNFL7BNbVduNlHFcleHIHCte-SEbZCsRpayD0BbSe0xzKnddQ2VsGN0z9ZM0PMRL-gAX1c5h4FmElckEml1NxXxQ8D9bC1tdIEjckGjdeYHEh19YAk-KKHhSTZTeyM1bqGXILjLcMcg1mb6VxStdTbFfTdjf4AdfpEIGTfzcPOqGfQbdLfpWNWFpPN-SvQHZvTvT6V6etLZXXEDCte7cVK-h-J-NinoFBYzazZbfjLIITfg2LYAkbboDtYNczbbYxxexeGQgLdSCLY7ZLceDLYrcfnsBeBzZ9cvayHKYKksNyljazcsK3e7KXBjv3tCEDFzY-c8OvZ60tTrfgz7b3KPebZPdbezfbc7avYXZSF7abFVabMfcC3s0KHbNffQ79d6SI-+MsIA5Q+3c9FPpFR3Dva7aZEo9ACneHZSBI7ndw7lbo+A+reYyXcWdCACgMq0A5cazzPkiyd-mRMKbZR-iRIAV4zfjYA8ZiBxcVA2Ifk09BY2OmX6NtUa2+eOYpY9SIV3L9YtKDMVdAHE-IA5eovg0pemxLbGIb0g89aDvg2ZbC1c+pYAkGLk4AWrBovpeJQC7BaC7hD07RerHbisQ8BiASliEW3488IeZadIOYU-aA88IxeS-pWrMWz0CK9S9WCy8tHK4uOQJq8YMVXq8q-WaCODCa7q5S+rILo8Jy9fFpaYD8Ky7Td64AhwecIxcHpG-65VwG4-Ky+KM86a6m7y6ozG78JdZsiPDgYQYX31jgcLA4dCO+BLDjFfAXQOdm6kJIBNP7yPEkE5fpSyEYBbQCmjF2CaWRYzLhUPUoWTG26faMcMCqM690FuxB-ZO68dK+cu6w-zIgia-w7HZNRaw1eIBu6hDu4e7qCe-25h-rJmne7K-B9I3a9h4458z2Cecac48FksLe5Mh2cadmHp+VnobJ9rZvI4wWZExE4LhZ9QY26xCiGyBYADlXv7waCTGxH7ToCzcl90rGDoHjZa9FFcGbgME6m8fl+l6hCV89bSey8Jk6i-YStqq2JF7F49Ql-kAV8ajsF+FI414Y6VrCG18V8mmQJiEcSyHLpQil5l7l5t51+kGV-hdV6pKd616D-d-195MsKN+d89ZOq9+8B98BTd9aAz5D89ZN9cST86vN4d53E6gRKc2F4d-wCTCMEUh5SBnMMr60DpUiHt5YF8Bb8kHdszvBhLi4Kr6b8L9b4H524j6H+8Y034ZT+LuyHT+j9aD6UJnL5YBNvz7Cob-IH78X7b4t4shb9HCWbEEHvzsUHrEmBxnS-s60DW7m4F3gwR+JSa-zvnB6-P5CKY3XDv4faR6M28cm-P4okujx5x9G+3gecHZUk4P9Gu4Pb2v-yv4Fd9+uFYAUFDAGdF9gAAmATDyy7nk4m+Ac0C0GWLeM4QOAukHgIN7hI9WqA2YP-zMDeM7S1gA3hEC26oDqBhSQ-jcn9qn9+EFAi-gAJCL0CpA1HLQGYHOA7BLCVAopuvxAEd8JOnRQMEwNz4FRAwVA+QdUFQGOJQB0gwcH2DkGgc2UloJQToOpR+kDehA3AXUDhCC9wYFxG+m2AH7+VzClhaqiv3UzNwjuPURYFrADjzhUWV4bwf0FmDWNKeAAgISESuzwZkBbUfFHqjCyqDJByAvQAEK4G+DaAs9F3tSmCHjcw+zgcIbqkJQeMiBWQMwWP3Sy8k2S1gnbJv2yECQVUFgwgGIRS59RJ6ggrLifHOKxA-Ggg1wUyxfa2DJWm7A1qH1PLBZuazLSNn0OxDP5Mh4MRHg0HHZbk0spQchODAsH1DJGsbQkI0K7BAhcUkrMLO0NMBv9KSW3SVmYAfhwgOGiwyVmGBvqgAhiAACX1qSAAAguAHAD60AASkMUgAAB5M2sgGJR6F24TxRzq5SSFToYhTgWAeYVqFLAVhGwtQWgy6FugVh5jMxriwazgjeUBvZliujKigi6AGLbEeoFxGoiMaSfFXs4DuEPDnhrwj4d8N+EEiX2yI8JiSKKxwiQB5hbEbYJWGSA1h40DEd7RlAsjaAOyAfkCzRgpdsWoLVkRiMhFZcB+1iKvuTQLT-93ABVDYhyybCPRPBkotEbkBVEsBUaiA4gJCJN5AiOWOo0kTKJh7X17AtgRWJqj7zctiUAABg6Dtxb0KyWyPaMt41JLclAVoOXm9HRgSATou0WeGDH8hvAvxHgAcNvDtpwxjo7wBiysQeimEfXD1uf3jFLBMGwEf0fYOKZnDTMlhLMT6OQZ+i6gZ7RbHvwkxgw7AGkNMQBCkAxAlU9or1vB29E5jyxuhZ4l6LPCdj0I-o7zkCACjC8lgKydQNrAJYjsUKW3GRqlg87U5UxpXC7iWP7Ftg8x82B5FT3gbzjLCo4yQOOLkDaxGeQzZQfxTsBjiJxrPRpjyWmTc8-UdnfcYeO1hZjOhDQK3vKwJC5ALuL-Zwl8hHEXiDxV4zLl9wp6zjqMXiFUrqyoLJh0xUhKDjT0fEl5BO45aDIhKCxA8PAYPYrowUh68FIRKE6cZSCwn9sZhyPDnA-BwGsYJSb8J8VeIgGm4PA0HL8rZg45fc7OW4tNJlxR5zBAJz4zQZuAQlBBeJMgS8UeNZ5NMvE0TKHDIEE7LtJhdE8SQL3gECM6UUINgcinojIRluUhBMhgJv7BY7+wPHCRDyf6lFfx63IEM+gR4LVQABHL7uuBIC7EpBwIoniZJJ5QCUhqQ7sgRInI1s0JYEv7h6CxTMk8AumcKV-Guzg9sJFXR-tYnMnqACJsWeHtFNsllt5xTk4Ei5Mk7pcDBxk2KZAJMn5pbMJUpMs4Xmy-9YJo3HyTDxmYBT4U747LFIDCh6SLJH5FwmFIinVB1wJg4gWYLqm9YHJXPNSTpLo5JSxMKkzKZzDiG7B-2qHEIeSMu5ZN8hJAwpL1IKEKc9m0EyenNIREeE+BTCHacwMKDYIqIako-nsFEJchtJs01GvNPKmMNfuPgXYPGx-5nTkcGkq6ZQBumodbpGA+qmAHCm6YDp1HTqGcAuCcTnpk0bxlNOykyDgws053oUFkGTQzxoQWGXEL8bG88p1QPxqjJxmFAjBvJdaXgOWHyp7RvgATJsI4m7dsCHEKmXgXtFXM6wtARMLULTCviquSMR1q2OQIliPEnMxaSpSLjBhXxkk3osxXUDjjsQbaeAqpjfjmRRZvMzoXnUohZiWxeXBIUaP8FLhRG8UwbgZKB6Jhsg84LMWFjrFIgGxyEJsbkFfGPZ4MsMnIWFlZQYyNBWsiQRCIMHFg2ZacY2TVlfFoyUg6QyyXZ0dlVCoheQ0wZtJebj8omI6ByJIGsYayLY1+EyH7NNmtj5BpQ+wDYM35hzIhpgG0YSkpGSA3h8yAADL60-hzg0oG6K4L2BzRWY2SFaIWmTDoRj-BoFRDZFOAER2Ipkb2IEjdzMRvJQkaUAHmyRkCo8sqE3LJGTCS5ZcyueAAZFIiB2VEMYDPP5FyjF+lvNegWk5Gb9uRvIoeUjIKiwF7RIoxfiiBN77yW+7DI4lmIvkt8UQKslOhvO1n6TJh8otfkqOpRmzOqGxVWQPOTmGiPZxomHqaIbmuU35oCyEZ0K5DHozwSc92WoNgHN8Re5hL+YqJr4ElJCJ1PpPKPHpQgM+NdbxDemZFadWRyCkASaJaxOC86M8qhRCOtFek3Si-TobDkTm6yTI1jVBUP1CHBYdowgMLCMJWbxCuFAojhdYxs6CxBFJAaYYOy1aFJ4FRFThd4G4VcLeFbCg3rItyAktZI1jb2qwt35kyO5fUILkwOaHbRWh+gPYZ8mEkMC-utiuBeCzsAWiBx84WEaCO8z9NTFVEILl4rzLbCDWYWQ+Se3WFeLBOuKUgI4DrHZohR5QlvuHRFQ3yRekbQsKCMfki9pFoQXYPljSXwgMloo8ppYVBGzAnB0S-omLlBFoLfgBbNiYszFjTRDAtqJYCWILqwjBZWwx2kaLCzeyNAacO2VZJ8UrDzFRoiCYUCCWTFiUoSzmOsP5GRL4MFS2JQPJqXqcJSKS34PkrPlZBMlvwbJTYFyVTB7WXkc+UUr6TFj7RZS2qksrFwlih+PTDnn6hrFRksWJY21G4rCheLLFQCr5d42uBQh1ZXig3v8o+W5AIlzMF5eQqlGfL4lLaZpa4uqXtLV5egcFYMKB6ZAoVuo7miXOpHvDPhPwpeUCBxUvC8VdI6uSUviVXKTqGK0FdDn6zbA4Qf8cwRCuzivKKZnSs4i0pWVIrO5ycw8rihpVNyws88iuVXKYwirF50Q4plmKpWdVBV9oulYLEZUmwTFmpYsATWBRxpvlhZONBixKzqqMQcDBVm4UEKVo+ZAkN0AapEB3NjV9K+mG8zNUYsj0J6c8BIA1XootVQstXkrF1UsrL85GLSu6ooBGrzCJ4uwtVBHiBqMQNq8whwUdV+qxAt6HQA5ChBJzPVkwsNZ0PVXUBmxVq3epot37fK1VtAINVeDzX8waBDhAfgb2zXNiR45a2SA2pPnxzpIqi0RmRkQzlrF0xAUtVWiwBsd-iRi9BVZEOWDEcgZgwsJIq4UIES1Oa3lHXOqiBq51egKNdaoLXoKi185TmKuoPArq3V0ahEbHOaaT80+fvW3iQswRTq1FHazGDuqmB3rKiQ62pRRxyq1Ul1dai1a6roC9q9136g9S+taxPql+e4UdYysYBHEr1ojfSm6rnWs0AoSaveEKku6rKMF287+dgsMG4LQq-agqMLMg0mQEN0kVNVwpRVBNA5ribOeCwSWpK-SsCAdSWUo25zb5vA0qYdmbgAbROVathWiFA3lxFQk66PG2plrqYZAya6SHBs3Rrzol53T7pMIZwXc76D9eRMPSXIWCcmZDChoqiQ1Aa8YLpNDVgqUguJzyIVFxH1CbD5Z-gmnKcGd3+Bz1LQVyWAeRrNw4NkqoHVcsoC8neSHURzZ1AgMJRHhdyxxftaVMKjqaamICZ+eq0sG6Ayhqy98p4W1Y1y5AhDHTTxryXZMqmuTTTRqgg2CapFswMLXkxQys1cUCkSRgZSl5hYAAnB0DE4SBDKcW21a6jBgVbdKqy-Oo4l8CzBeUupCnoWUMDjKAyx5Z9M4GyLOiAerWkyAAHIpthYNAPNv2X+TBpfSSbQJMajMTXe9WqXu1sSjeAt+RffCN7WcD7Jz8wnCaaEEm07bOt+OMrV+sMoqy5A0s2WZZp5AtL11tSzAVxpb5paMGj23Ss9ty1dohNpmKWf9uWAl4JNYMJJkJvuTEBDl8ZbwOkC5AK1+FQPHaGFgCE4hbGUjTkI0IxiWa4d9LQ4m0GflMZn0ryRgEjulqgBbJf0YgfyBRC6lVtcIPZPsiSagBrG4gQnYSi9RxVUQfkzbdpSl7r17ACWJBaGHY6zMfyz6apeC1djZjoW-aHaINrCAgq3lA0UESiqxbVKPEyu2HuTsR2iFqdtOrkFkAZ0TattulQYqzr2SIdoVzgf5S0F52s6lQkutCeYGXaPKUgzOm3bbs505CGAvuvZItvs6W7T0m-fBdvJ-lspjNEpfiOv05hJydBVm07nvB2iOa7kHmggLVQmTyD8N8QoGFYJznUbNlwsO0D0xUklYcgdAFZHtpiCHK2xAijHVwp1DY6kmeO2QLDsOW-FzBpOrpcFg8Lc1896e6LffWL1xay9h5Asur0H0IiEQ1ADzsCIuLcDVAhTWzCmk2Bi6SNKe-kDZoL2FxZ9ZSrPd-k6oTILBWqFMBQFUWGB0ICkRgNrCrHar3AXgHwNpCrHizrAFrCigODlJVTMOYJOEJIGOIAlYSwJNbcrHf3yzC4v+3LlBwxY94FIXMexERrb4XEmt64VQKQGiUsBFYe8AwJciwNm9fiKKrA1k2WKnDliSxCEmsUwOkBm1hUThtYvDVQ7N97saxfU1oZ9oE9awWzJ-OsU97BivxBA5RFkDIH+05NNuvHo5j1NPkhxEwMysaWqgpDnMRxK3xzjD9Cy6hggcLGjnHqJYMIdQ+DLIQvpCygYdQ2YGEnaRzDNOuJod28bgHDDHjDhoUQBaX63QPMG-W2Dv3awtDs6H7qWMUZgqq4Qg04KyiYatI38fzNMOYai1whBDaxZQ8sG8Ct97N4KUjasFkMC7T5PxNYlo3Ug6NIjeDNONYZOLeJliwBxI6ofANmG0jMRg4qyhRC6H+Gyh4LpMBB1VxY6oulQ8kY-2LDIZ6RhES0c8baZTMuUVI6sDPbmHOjCepI4wCX4HSYSsQXwydPhBTbgDOcHvWsYN6LGgSJkdQxi0SNILxFT+pWH8E8B7bLQBi8jRpV+jjqjitqI4nxqOLeD75TMu0Ik1YPgGrjaHMRWou9qVGejBvFo5cfEVntvjhx8RWGGh1Jypt3gvQN5IAA6WAQFeLyhBy78AtqVvsLECpJVPkbKWbc+EN2yBqw0JkjbCZJHwnUhSJlEx+OWAVwMTcxxoWmkIDxlvahrSwiydAAAAvGOtYCROq7UTdJ6xJiec15VZgPJvEyKgJNwgKdSO7CjhvWJV76AtenwLCcFPomRTs1WYJLKOIeAjipAI4mYMZBTamQeAUk9erVO0mNTjJrUwGxlC6n9Thp5+dKaVBAA')">function pretty_query(query) {
    return pretty(head(query), 
                  tail(query), 
                  is_null(member(head(query),
                          list("and", "or", "not", "assert", "rule")))
                  ? pretty_term
                  : pretty_query);
}
function pretty_term(arg) {
    return is_null(arg)
        ? "null"
        : is_list(arg) && head(arg) === "?"
	? contract_question_mark(arg)
	: is_list(arg) && 
          (is_null(tail(arg)) || head(tail(arg)) !== "?")
        ? pretty("list", arg, pretty_term))
        : is_pair(arg)
        ? pretty("pair", list(head(arg), tail(arg)), pretty_term)
	: is_string(arg)
        ? "'" + arg + "'"
	: stringify(arg);
}
function pretty(string, args, pretty_arg) {	
    return string + "(" + comma_separated(map(pretty_arg, args)) + ")";
}
function comma_separated(strings) {
    return accumulate((s, acc) => s + (acc === "" ? "" : ", " + acc),
                      "", strings);
}
function contract_question_mark(variable) {
    return is_number(head(tail(variable)))
        ? head(tail(tail(variable))) + 
          "_" + stringify(head(tail(variable)))
        : head(tail(variable));
}
</pre></div></div>
	</span></td></tr></table>
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.8' class='permalink'></a><h1>
    4.4.4.8 Frames and Bindings</h1></div>
    

    <div class='permalink'>
<a name='p58' class='permalink'></a><p>
      
      
      Frames are represented as lists of bindings, which are
      variable-value pairs:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (make-binding variable value)
  (cons variable value))

(define (binding-variable binding)
  (car binding))

(define (binding-value binding)
  (cdr binding))

(define (binding-in-frame variable frame)
  (assoc variable frame))

(define (extend variable value frame)
  (cons (make-binding variable value) frame))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPEuouFEPOIXCqGIIxKAUShuGIOhKyEoKUgYYw2BkBgBprdy6DEEaxqmFZSmpUapGdZo5rocgFGGj4tuUhT8AxLF5t8BQWHwBdcPOh6noXfAlpOs7NsoawJqm7aTNAObjSEGcKmUNhyDK+g-uBmYWlPBhwboSGTBhuG6D+wHpuUo7UmrUhqHFBgoaxrKcYu-6ruRn5idJv5ycx2GqdxlogYJ0HUgtagxDoM70YRumVoXPmBaFsEabxxGmh51H6G41EfmIAAPQhAjcZwRedUoxcVkRqBVhd1c14htfhmXOfxw6FZhx7hHIZaNa1wwdZpuWSlABLiAYer4YdlgnYYdcKDOrRSEMBH8L06Yg5Dp7hF8GPjLQybbcVQn5raWtHHO-avdifWUeMdpJuUc7c4rv2PiGqXo892Xubm9gPC8XXFRLn42+UDvrYzouYmzkT5uYLQpc7nb6YXUe64nybpf25u7bmjRCBBblUSn+TBEIDeU7FjotH0APGDNt2PcL2XY7Q7cZy+hhXuj2GxEb6+bcmbmzOCDmbLshyzlqS+HRuQNWXkfJHyGjVCKZ894H1Pg4bgr8whUQHHNTW1AFDG2oJWP2Z9EF0EmFRWIQV15sFxJg7BNA8H+0uNvZEyDSBvyAuRZ8-x0GpFyAoQg+Byh0L6vDZExCoIxHfBbDIxUoEnzPgwJOKdhG3zjrEdWWgRDLSmgeegk8056VkWHU6kgyDR0UbogiKClHKKKLIjOWjBaL0IZMVhcYEiBjmqPV6owaRsFpquUoHiGKGzUWCLWkih6rCDOqUMywKIvkND-TcjDQD-3sk5FwcDKC+BIBA+BFCao5jOL1AswJQQMEfs-fQZtDCyxIXEeMgYHIMBQZUjWSwu6gHSJkOSzQsLSOGlUKOM5X4tMIGEG+ZiYj3zKUtCpWshnMOjlUgGn80ywPof1FGbxlbOFVq7C27srbL0-iQ2aqRKCkFrJUwaJ8tku01qHQIgwm4rOMt3M8Q19C3Ivobd+W0V52z6Z8pWdzSBNJ8THT+4UimcQNmXPOlc-rVOOVBThy0eGZJzuXfOiKREriCmODUAV2Gg2FPoOaMMPhj3rg4mmExanTCCoCgZlL57EEnrSgGg8iWRjiQ2egVJmUzhpk-BijI05MoPCy8ebKaX7TGVylcqKAlnn6ZKoV+0RUqtxbGIKgqx5jU1bWJihRYnRjToy0u1dsUTLqVK6l6NfmUHlUDY1BSTWFKwHAqZj8HASw1PoH6FshJ1NcckVInSsiBrabvCNK4ekbghJCX12sBa1DhNwb1S1k3u1TYMG8UanFHDIqAD1cDDDckYHwjG0M2aokdcG1FcKa4I2Da8flAhaWMibfnKlC8HUI1dTEU5aLNC4m7QijladSixtjGsfek0nkVrKfwFmNbsYmLVb2mVwsOUAxtUUctQhl3VspnWgStxa5WoRfuuOcyt0NxxYW8kpr6VDvqWGn5zB0artPVfS6sYFKgiBe8L9J7a3lUMO9Z6La07Z0ZmTCm4HDn-r8SUnc8HmaIexvdR60HPbhIiRGgKpb1nmANr3fuRzB4kMbPIxkFG5H4GTgO8kjZux6i7UuqtP6kPvH0PI5xKh23Sj9bURqQJM0MGzfzf17GwhMQtatE+8jLHOlUQujRlY7GTzk9waTuakWD1WdCjZPw57SvZVRoGJz30+wvQwZVlyJmAtHhffZf7-qqb0kZqFnrSMuANn6yzY0alQUbK9RkgKguL0NQXP5kLyR+pwx9WL+hovfsg7h-8H9XqywU7Z16vm4EGwwxwHj2MObUagklzLKXPGlb9lhqmyW8PXxXIChr5XmueOeYPLzCqdQxD84IgLmz20Qy69vAe1nqspsYLV56qW0Zgewwt7Lfz2vXOGstyb5Uesfz6+1l1Hq6r+cas1JQUA4CIGQOgbqxITPmDmgtJa0jqgbU9jZ0NCt0iPTIAjGIAAfQHxlnvnPewD0AwPQepCes9fo1NC5Q5B36Y6GR1v-UKND1HqQCW1BY2skbCtmBiAkMIBg98OaUD6PcMQwbh1YU+wAMiZ70foTykfiXZDTknRX-M-cMQDqCw6Sdk4p0B624JA0wOG8Utb0y0iC8+8L2zcx9BEULsZ2XnE15zeC5j18IvyCk9qOLnckv0s6WM3Ay3LWMczVV+z9XSYhhO411tJ95wbd65i-traVEgpq5vO7-6-JCfFLBuN79TWptI8N7ZuaovTeU8lztmPzgZdwLT6zVbUH7cB8dyMG8QeXf4bD9rjy2e13dYYkL5Yge3cu5D57ivT2iawyZmV9PyGDf14T2c43YuU9HPBJ17vdBM-87Hzn5ra26+kML3ml3Je7Rl+t1PjvCGZ+xT973hf32V9ZGb+X1vH6E7Ozc5bRH-v4-fcT4P5PEuR-n5Be5+gk+icv4MRHYx8+33fZuGxHl0fkDW4EPxbXX0-1OmDmdnkT-xDQTHAOPy1zgXcXfXvVlRvz7zvwHxN3J2HxC2SXM3tStyhTgVcz2Sv3gIbyL1L01z5yJ0jyNhNlfyoOV2wITHvzwLNyXkIJtXBC2RwXoF2XNivw-2KS+VdgeXx3YP3wTCmUCBkA5jxEgIkOBW+UpGoNswUMqA5lJDIP50kPuU6F4L33-3kNKUUI5h0BQP52eyvTizMIQLcVwKHyf0IPBHHWIHEM4l9kxXhUcNQVvwsJ3E8IcPBG4A5QMKJy8IwP7WV1iA4MDHAPw2iOKT1VZX1yCKSJcDVyiMKXIItnVRIMdWyLkMDBD3kwKLsNSDZVHX8ObQ5QLxwLSHRxxTSJ11SApWKL7VMLKPMJcNaMyGd1XzlRP1QNhy5EoywJcU4NcMf3NxHwox8I8j8Ioy0O+0p3BGWMiMLg6I8gYzgNkPKNyMb1GI9wYIj15n3k3nZmOOcI-ST3wPcPGmSXIWoC3gz1UM4hsUoIOWvycJoKX3OND32PMGaXuKBJGKPzoI92+I8kaWaSIH6IeJ+zaORPhPMD1WGQxOaMQKdwxLBJcDvSRNGQd2+xvEJJO1kDOyankEuzahu06m6h0Ee0eIuWGjVnp1s3AS53OSNRIyJz8IIW-yMSjm4BU2RXJCCi2O4V4X4TPgiJtVFMjiRUlIG1PwVjlL4XUQIRkG5JaKeJ4NPism1IVP8xWKxP81DjZh-yjlPgNJCJnCsJkG4BUKJKamtLgP1K+ydIc10NdNAH0OqKJxsU0XkHsWFh9JV02MsIDO4BsMuN8Ps0c223oGCUdMDC2NTIiKE3RkXkxI-VTP0FekzMeIf2ePQwYishzMLIeNiyCQcVLN9OSLOKyFLNsKJwri+HdnWk020wcSq2lNsxvA1LgT1TkEFyHNmNbJGDHP527PwGMDkQUXDi4GRUKGHO+ywknLOjy0KUbGpz9jqIxVsQjKlkZCIzZLszuF3LeiyyRWfjLJ4ATTW0fIYiqK935zvLtxMTXOeE3JnNOJGDvLrJ-IqVAsiEApOL-FPn-KTP6jVjUXJzPO0RpTz3fL1AlPWGPJmy3PkMmjEGpyMAwvCC5w4HWmItPGjXaSwmFLXJIofPoj1GWRYBws0wI2aAoqItUEYo+lQQAB5gRCKqLOgaK9YWhSBzIIQAAVG6OzOgXwQQZhXgBuJsG46gWoZocEUAAAahLSsT2hJnWiFBTjfPCH0tzJ0v0pvViA+GMrEFMpLLEq-lXFMikt-nBDkvwCamIEcmUrEFUsXkahpA0q0uST0oMqsXsveycvMsiqssitspiBipMpkBTmovGP5zyjt1SzW1C3JGKymgpxumxGnOmDLQrT4uekwpRMVGHQjWqpYtsv1mKvRGxGSpUUcB7Pe37PPMHKBgIxWGaDWxHDZxGHMs6tmCd0ys6pGqqqIlIptDtEysE3dRWAHAzjGqPJHVPPDLQvRlbWmASSaqslsienKA6UMXyW1GJVESNGEzvMZAnIYoVR1Vs0PRxh-LfLgsMT3UMtiHAo-N+rOkfFYmfXwsDAzhKqIEqWO3D04hqzzzyrz2YoKqRAXLatKrhumlfU9JiKqrfOYrqpWAaraMmoIlasrBho6qsUXN7LED6oOrBCMxtRGrzzGryNIpvVKHgjV2ouYqGpUmpAWtLyWtgtWsHVAB1EVVJS2r5JpxPNxFQsjKcMVBOvyuSXOp1NEEDRyUtxuqfB5TNVjEbCeqBBeqnOO3eu+0+pBtrgwvtv+oBrpMMViz-L+rWrdW9oGICyxtho1OkHxoLHO3pNamuw6juwwGvIwRJmoVwXwX80cTxMGKNMpySXBCoRwTwUtJcCzpoT9iwQ3m3XHh1mERTuAuBKyGES10KjjuzsTpG3EzQzBHTC2LmFzNiDmFXGdqKC2I5E7piA5B7tUy2IwkHpfIPBHrbqA0klBAnvvmnvjlnrR0yFzNXrYGdF7sKC2O4kMA3nIF8FzL3oPqUsVG3tiC2ISUHoSVjAvsmVnpuGpyaRYEMAiKftUBfsahWHvpbohF0ontiH0DVm4F8DIoAD5QBwF9Kz7f6tjPJAGYhgHQGIGoGvJQBYHR7Z701phkGMHUHwFIQMGYg4HZ7gBEGDAQH8HARIHwEwBMGZ7QiABSChvBsBmhtBph4h0AUh0I8SQBthghsasBrB0IgAQklAEaofYYBFodAAkaBBEcYbBHBAEtYekaEaEpiCUeXtCIEoBEQcEY4fAX0e0d4ZUfAfUZQeMdAEgbMdEYsYMe4CKCMdkbQfAaBHwYcYhDEYobQcKDcZiDEdiC5PTAKmE3zoToEQLF-MBBXEANdwGG4EidoTPiqLrqwQbuidinwBYAACsTAnU4mVgEnkQOGx766C7czwCa7f6igUnG6Q60xIoInKmonltm7Kcti8dhBcyem6mXaH7QjIA6BvRjYj7nGRmxnMkBnBmtiP6GBYBIBB6FmlnZmXb5mqBP6ABRCehZ7Z9ZgGrYgAOXIGOYodOeOaFuUXCZAx4DadoR2zfOKemFKY4bV31OSYeb9g6duapAac-Qm2fheYaDebcZqYvHucyYLsBYdWaZtxuMoW+eybLqQQCp4OfPIVxGqCkxlFIAoV6ryfIGrHLRJk0H0GVORaLo4ClnZlMXMWYQxaOCKEFLl3jEICZtVqeBbICyQo0xVp0TQnXgXX0ABdkSJqiqsQBaeaWomWFZEFFeRdkVyYKdMCRU6qhfjseajxnCfK82mB2qVs5ali1w4AEB2rEC+DYtNn2tVq7XZeNYcWadOybrpJaiu3aluwwGjs1LeHOXIFMAYHLg+HKhuFIA7ga2fLRz+03HAMjdct3iQJd3jYsuSQYGsqMtivSsSarucpJhIiLmaDjc3z+HLyz0UBuBzgMS0A5wcrqrIWUGUFUoyA+SMGQUbdQcan0rS0bbGvBB0tKH7dAG0qskioDeUEOedH7d2LrbrPNkoEyRGgcqYTfhXekIXfYYiGgkhpcFSrEASohEiu4UreMGrfxwSdfnXcyRXbpUsusHBA9PnYxUjgUDS2YSjfDTaNfiLkHYjV0hBnJSA2-dABZ2UjJU-eGJvG-fCGB3Gtzeg-kfUmKHhBXFKBzbfbpz7eQ9eTzP9cDeDdijDY7m-eMmaHA6aQ0s+PhmA9A9XGOkF1+NEP+Iw6cRw-BEPf0qfdxBffQ+aWg9Td0R0ozeAO+gY+tMv2Y4Q5stXCE8iq46YDIFffAL4-facT0sE-vdI-uckEXbno+FzNfi+Z0+48U4TeFowQTRI+ni44hHHozSAzV2-eWqyGg6M43YU9IEEjjQVj3ZY9Q+SQAHIM3X4EqgvvO92nLv3H34gMVy5SAU44vN2d20ThizoY30PEvJ3VwtihBemrJggrKHIdIrILRiwrKLkOB4QzOihSgbO1dMvnP9AGvtP3OX3C2WvF36vax4vlkbxmv5PMuELzAiWSXlAyXdXAlNYPB9kRkP2KON4Pj2YzYf2-7wR3iqOJ9uBGPL54Zlv9XQWNB9ARv1gxvqBNAGypvK43Ab3ZvquIl6Pfplv-OtjkPIjkaQCpyNY7vYhTINYhuXBEv7pQE1YHlpu3BZuSFUV1uluvujqzbrTRqgQVwRPFdfptu38cZluva66wfjBycUF4pDvAfINgfQerukVmksfXVdUEeOaudM6Nx-2kYsI1dLv9lTcUFllwC2e3AOeFlWPhrg7YpEf1J74meav7nce+e35vPxW6f1JjvSWzuJuVVxfvYdzaest9uigEnFfTvzvXoyf9kbusf2uNeRs7cvmpf8f+fuVKJUVA1bv6UZTZ7XvgEssFdHeqfn07rDRGU-uIaEaPJMkSAIeYy5ibSDxZv-O1cnvBeTqzYzqAE0kWg-jg+slvC6y-Xgqw-kuLOo+4-d5RyvvvOE+NYk-UkgEJPK90zgqZdNTSvtJypKB8A5E-YBgKhBhlueX2QM+If6fG+dIPSO+mleem-so4Du-w-ZzBhs-+1veg+28RVNwp+8-5jKyWby-klkPOyI8QMIZSYT5E-Xa9zpQLr1FiYGB1ARAOBSBg1y3CBD4vu8bUViYnf7qGhaNqhuJ1p6Nv-eqcWd5EZFt3grmpbMLAf-r-y5w9MbUpQBwOf3JyX9r+wgW-sAJP58g2aQmR-vxkgGM1PEEAo2OtDBompiUqKXpLDzxpAVJ6m4XINgNj6w9uAtAlOMX0IBPoswvvG2gmDNhS02IyXJgbN3+5GV+gCgebhpgqAwxfAMhNkOIMPqm5DApIHvhvSMAqF-OMgyQeTnkFPBvOLPJ3IYBULa9Cg3LNxvZWEGiD1EagmQuclMFER9BGrQyhYI0Gkg6y1QSOBwGJaNZIwsgp5NIM8HqD5oCg6fh+kap6CVuDg-wVoMF46CJqtgtCEYMgYuCyAbg2hA4P0BhDNBWXP0HEKEGnQEIyglvJqRME5CZAMMUaIdyST1tbMxQqgGojHiBBToS7UwaUzRYTAPSVQhdpNFqHCCGhp0ObsEKsE9D-OM6ADvmXxb9Bkhvg-HGnDyL9DBIBgrIW0JqGFDX2Sw3IUsPyHFY+W6iIUD8lBBNkS2S4LiFQBAF-UaMwmAgT-33ZAhzhAAxgEAIazHDQa+Wb7NcKgFgRgw44fzupgVb3DDhrxUCtoOqFkBGAT9fiC8LwG14wRyyJ2H8NAGL886gIpIAwBBG8VeI3AaEQ8LrCBD0BfbGQEmFqA6V-O4IXEXsHxGl92gnQUVkcN+HhB-OT1IbILzmhv9eINI6eF8PJzbDKQuw4WKiN+EYj2u+fTCFQHCAs4FYWEaESt14iRxgRoUXijeGZEGDYwN4cUQqL9CSigRSImUeh3lF2C0IauZUTqKvCgV2uRIvEb00EEM0zW2UJYcA2fJYQqGWQiNLv04hqATAXgJpIwEH46xPR9AbgIDx5GA9IKYWYTMiP9LeJioaoxEciKa7ddKEVI70XQG4AGirwAY0AVQJDGhIfEOI00Wr2LgdJ0c4Xd7JaPmwzDz0fET+hmP+iCDeAy5b-urEpFq1h0vnVnkKKdEeQ0onQ+od0DZDdAAhrGYTM3TSg4huxfgYMlQPExvCokogadOjmHbUhBBtYkHkSC+j1jg0jYboIyGbGVi1+y-HEOEEHbIdZx3QXzGa1AAyUAAEtswYAABBcAOAG2YAAlGSpAAADyxzZAECCvKakZAkgNQKPy0hnoIxCY9Ac+WrGF0ZQasesVKJW7tiFxHPMfgBIRFEJvO7YzoOLHgkNQPSKEzIH+OLANRuWWI88ZeJvF3jHxL4t8ZhMkAMBYJ+PdCfykglAjny7Y60QuIYBLilCgE5ZGt1ol0BPISw+vuOW-44Tx+fGQCXyJ74rC2hCTMxNCNUo0N90LovuO6KEnbwZJlkF8u0KSB8iVR34sscpLwmiTgJprSQHEAyA-MdSkcRkAAAYTgmpGoI5AcymT5utxWKNQEGD05HJuQBwBZKBAVczJXk7QPpTxBPCEwvkxWP5NIAek-Cdk5fp3mGg-DQp0PFyZBGS5YRwQbvLCAlMo7NZXJjXFNoIMCCBoYp4oVINUGyCmTVxwmTKQtw25USzQHSPyg5LKyJTyork5KIVX5xWC-YjkToB3FX6k1+8O47vlOhvJ+xopDWNAVVOcktTUwsGUUQmkL4SUsInUhgN1LYAdx6BrAjIYUGWmrSO4LAgXn6F+6EBiMVAnaT1LKkcBWx5gCoCQBECpBduW-H4YGPalE4zpa0ypEdRiCv9YYH0z6UUE2rkj2y+w9cg+EoEMoRyHJKWiQONpgzP+Zwv-oQMZqADXqfIqGeDOeFjUYBViUoLiKjDJVmgb0juGCNSwsBiB2oLANBBfQf9-QA03pCyLQilBCZ6HUGbByZmjlvudsXGcYB4EQ1TpgQLqedOW6CC2RVEpaLwm1h-A82sUtGsBNOF3MwRCMi4VRNuEMUnpqYl0KSgVkKNIkEEP6fijoCmUNRZYnAYjJJm4DlkSYmIKeFRmStpapA0lIyJ+mngREANPAJCHdkrgv+iMxWTcP9iqzOgqMvFOANwGIdRw4ED4QBmlCGyox9wpMcTPwHmyUI0EVCP8NnSp9kKUs8UDLNAp299QA4G6Qunuk4xrZVYYGXyIApuyPZ-U77CaJJFmifeMM6mf7wzk-CS5OcwPteQcDRzNRhAPcL+GelUDza6kYkRwF6aEiR5pI+PoDNFZ9yVud5bzo7MwgqFbZ3sEWdsPFnuxJZvc5Jv3P-ILz28mEBQZ8M2HsixZS5TeY8EIC-ht5ss0AJXMhD7zI+S84UazgFGitSQ-nLuelSNn8Q5RMQwynKNJAqiVgX83EFGNZ7-zBmKwVnkAstkVV-yxoiefXLhEKxfJI0EgnNzTpP4SCNZUybnTzLQxqxOsXyc+XAIkK6yoUuAiQsUEQcYSdoWiOVI5n6RVunQbqb4DOQckUOgvJNnaHIVXSXAWLJpI1OGi+TfRMYm0hpKAkpiThQYu5tDARzCLGQBUt2g1hKk4wSFTERsKAtDGSIxUq4bRVGL9GITgFb4egIQuY7yKj0JCkxYqGkWPDku2iisVmLrk5iYg04rpPHy2xBsYxF0v2HAUsWMBrFNqC0ZICtEljHFEiHxCfhPGESGA946yAABltm74vMZkBsnjkfx5Y0ydHAMkDyYKoE5WRUAgkcT-OME8Cabl8k5LEJ7XLCbPGyVtSvyROWpcIujjPlYl8SpJeAAokzhqJLS+iUkGfIrD5WgwMxExJLEsS2J-SohDYpWDghfJvEmYfCBVFjK6hr7NKeV1MkLLVlVXQQYIsqVTKxJWIiSSUKklXhfJHDfdIIudhoLRF6kqUVpLMQ6Tfx+y3JQgvNHUs-YiXaMWQFjGSKMRHYwSOJJmH+wTlh3FcObUgZpwhl86cwRMJGUERvQNE-8XhKMV-LgJJirIXsvqWor7lhkrzN9RmH8KZ4x8T5T4sS7-K1hcsqkK0DKZAhBxIfYaM13BB9JvFPyw2qiRpUOBMZ4cjUP53dg8IysXy8legIBXtdOVOMOfk6m+U9cKVhK+cWoqKXigVxNC2oRDk3HEJYOi8rUS2PNEt9Agek7KDiwXFpZuJDaB2QqvVhKr4x2qB6nc3XFAgJl5YZcdaqlqNgm2UlGLPGIBUgs9IKyrod0BK7cStlwg9lYUCKg4hA1yK+gMGtOhKlYwWEeMdwCyHuqCpQybiaKsExUyO5ZaPVX7FClGrwJviiqXc0AmMg3g5i4heVKYiooFxSqjiX9LXF+BGQjq3EMuI4murhMKamLKFKWE+qCIfqzsdsCIKbK+JXtNcPwAjXDqOAMahQHGtVEJpblyaxIKmuEUZrc5JtApCgpH6hTggBqnGNapVVoKD1-nbdaZJNVRqkJgvEfvGPPW4T6AdZa9dxNvXCTg0HwYIO33TUFqilz61EIJiihsAkVd694IyFiXESHxT418V0vJCgbbx4GsiSkoTXcSk1qDZ6IBuElVEqB4IDEA+xDLFJT1jwahVBDfX6r81jAY1Ror7F3NUNLSkDReLiWJLklTEdpQxoQ0LrTJyGjhtRsqWCYgoWGrwDhpQVzQjWbwPJknSWQqrGqSyVoZuhE30IRkFQg-E7ik24bOId6WTSiEWStJnyLAz8pqSE3opcQe9UTSNnk29C2iymxpekU3RGa5N4mrERtN02FFKUNmjTaZp746a6yNQMQENHJxfK7NyXBzUSpE34BSp6mtVrKtWVzdhN9AYzQWGAyxanUc8tcgCu87BbSpammLfQmjhhbEtMyllV8r1Q5b4tWWvdMWkMoErItWucNWtxEBWV8tMY3MmlqITpL+cRmkLTjBc3haRVlKrEfpvqKdaVJKQBLeJW9hDDzOIwpIR4IkGTCrw9Wn5afGs1Da5NA2sZN1sJUoQGgWQtrelqKLkwltrmlbaVqsQVbhB5earQVyshzb4ux9Ibe1vhb84vNHyCxGtsi1ArVlIKqgKctXAQqKZioJQVdpTiPaa2rK+LhhzGRwK7KhY0JcWNWVO0v4ZW72CEpb4w6uh-w5ObOIjQbbrEyWtYVCmq1Fc6tXixLrmSB2MRry6sEwPwGGh9SYKgKY-haytaqxbWJrQQXr3G6pZntJ2noZOCCjHLPtYKv0D9r9AU6m2J8TSKBkP7DROqjnfnhiJmVANKwW3CBnYJOqK6V5gzFJIAnhECBiYOSayhTPR2FBwQbO5XrFiq4EZeaUO5HQCqdpadMdxkLnYJDx0TrjdxLE7uzteiE6lMpKtldwBN0G8GIzTRsDcBB4n0JBjIAAJwnA4EYew+jbrqox6eIEggFVRMjgjRuARCF-uaqGLZYbVRte3qShcBc5LJf0woLHpTgBcAuVkNADXtDU5gOBfocvehw+BkyGg5elPcbH+wrCNcyyFwD5HdIrheBZepPXHpWGd7NwSKEPXtv3oSCiVrCw+hwsuQyZ31EW07T30d3O6VG8+9hUwE4WXaidDW5BGwDYWL6ydmpHnqkC+XVAioJ4MgE9HdgzMqVAgVoIyGJ4gJmAIPC-ZSKjjDRr9-ABKkcB2XkgBweCUgPfvGahzkk7sCilbjxpN7wQ3kHyBftACJdQYdAIqDEEQP+R1dMQJvQNzJXHA7ZjcliAOC9Ut82+TSYQJ3ya556ig+Gv2LupvWPqL1jGZjK0Fb0koDAoB8A5kkgOeESR6MeELDOCgz7D6EIRA95CZBAbBAVB2oBAgkPYGqZbEBvW3pH0pwEDEhnyKgYrGNRND3kOvbgbUM26oVwKr7YaLXJySpWMXXEF8p1Hi6D+HyVoHLq4NK6OG00LaQDqa6RErdYS2HY6LYGbrry2Jd4I5H+x-61ajYF-UCDf2k8v9YcYwGSnQP-7LKgBsGmbTXLN1PDTh6kD4ZR31D-DwUwYo1TvIjbcxUuHysiPey-DyAskaCD0msMg6U49h9GJLq8Nwd7aq2ksq4bcbuHBBaxXAZnOQilytUPfLCK3MD0el45wMk2RcNIVO5IRkx3AWbMRnaaXcCxlTQcSWPIzBcasmRclzbCeBdj9iyzTChPmDGDhuWWWViLor2YwR5x9cqWUDkRQL9jR-QAF0H76AoFMQAADpYAj1MK8nOQZkDBBX2mOjBig2IRoQq9ySbg0uUz4nAXjXy94-BM+NfHfj-x26YCdb7AnPOlIqPrwBPDLIegWEAk6AAABekLUAL8boMAmmA2JkE10fBPkm1OccaE6Pjv1wmaoqET1JuiECGBQjm4d47SaBMMnpG9nUIjUasgsArKygKyr00mABc0weAREz4qFOYm6T-sUU6A3FNb6rK0p00nKaq5sn-IQAA')">function make_binding(variable, value) {
    return pair(variable, value);
}
function binding_variable(binding) {
    return head(binding);
}
function binding_value(binding) {
    return tail(binding);
}
function binding_in_frame(variable, frame) {
    return assoc(variable, frame);
}
function extend(variable, value, frame) {
    return pair(make_binding(variable, value), frame);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.79" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.79">Exercise 4.79 </a></b> 
  
      Louis Reasoner wonders why the
      
	<span style="color:green"><kbd>simple-query</kbd></span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      and <kbd>disjoin</kbd>
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>) are implemented using
      explicit
      
	<span style="color:green"><kbd>delay</kbd>
	</span><span style="color:blue">delay</span>
      
      operations, rather than being defined as follows:
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append (find-assertions query-pattern frame)
                    (apply-rules query-pattern frame)))
   frame-stream))

(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave
       (qeval (first-disjunct disjuncts) frame-stream)
       (disjoin (rest-disjuncts disjuncts) frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
              frame =>
                 stream_append(find_assertions(query_pattern, frame),
                               apply_rules(query_pattern, frame)),
              frame_stream);
}
function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave(evaluate_query(first_disjunct(disjuncts), 
                                    frame_stream),
                     disjoin(rest_disjuncts(disjuncts), frame_stream));
}</pre></div></div></td></tr></table>
      Can you give examples of queries where these simpler definitions would
      lead to undesirable behavior?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_2_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_2_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.80" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.80">Exercise 4.80 </a></b> 
  
      Why do <kbd>disjoin</kbd> and
      
	<span style="color:green"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      interleave the streams rather than simply append them?  Give examples that
      illustrate why interleaving works better.  (Hint: Why did we use
      <kbd>interleave</kbd> in
      section&nbsp;<REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>?)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_3_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_3_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.81" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.81">Exercise 4.81 </a></b> 
  
    Why does
    
      <span style="color:green"><kbd>flatten-stream</kbd></span>
      <span style="color:blue"><kbd>flatten_stream</kbd>
      </span>
    
    use
    
      <span style="color:green"><kbd>delay</kbd> explicitly?</span>
      <span style="color:blue">a lambda expression in its body?</span>
    
    What would be wrong with defining it as follows:
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave
       (stream-car stream)
       (flatten-stream (stream-cdr stream)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave(head(stream),
                     flatten_stream(stream_tail(stream)));
}</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_4_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_4_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.82" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.82">Exercise 4.82 </a></b> 
  
      
      Alyssa P. Hacker proposes to use a simpler version of
      
	<span style="color:green"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      in <kbd>negate</kbd>,
      
	<span style="color:green"><kbd>lisp-value</kbd>,</span>
	<span style="color:blue"><kbd>javascript_value</kbd>,
	</span>
      
      and
      
	<span style="color:green"><kbd>find-assertions</kbd>.</span>
	<span style="color:blue"><kbd>find_assertions</kbd>.
	</span>
      
      She observes that the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that is mapped over the frame stream in these cases always produces either
      the empty stream or a singleton stream, so no interleaving is needed when
      combining these streams.
      <OL type="a">
	<LI>
          Fill in the missing expressions in Alyssa's program.
          <kbd class='snippet'>function simple_stream_flatmap(fun, s) {
    return simple_flatten(stream_map(fun, s));
}
function simple_flatten(stream) {
    return stream_map($\langle ?? \rangle$,
                      stream_filter($\langle ?? \rangle$, stream));
}</kbd>
	</LI>
	<LI>
          Does the query system's behavior change if we change it in this
	  way?
	</LI>
      </OL>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_5_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_5_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.83" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.83">Exercise 4.83 </a></b> 
  
      
      
      
      Implement for the query language a
      
	<span style="color:green">new special form called
	<kbd>unique</kbd>.</span>
	<span style="color:blue">query expression called
	<kbd>unique</kbd>.</span>
      
      
	<span style="color:green">
	  <kbd>Unique</kbd>
	</span>
	<span style="color:blue">
	  Applictions of <kbd>unique</kbd>
	</span>
      
      should succeed if there is precisely one item in the data base satisfying
      a specified query.  For example,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "wizard")))</pre></div></div></td></tr></table>
      should print the one-item stream
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job (Bitdiddle Ben) (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(list("Bitdiddle", "Ben"), list("computer", "wizard")))</pre></div></div></td></tr></table>
      since Ben is the only computer wizard, and
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer programmer)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "programmer")))</pre></div></div></td></tr></table>
      should print the empty stream, since there is more than one computer
      programmer.  Moreover,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(and (job ?x ?j) (unique (job ?anyone ?j)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
and(job(x, j), unique(job(anyone, j)))</pre></div></div></td></tr></table>
      should list all the jobs that are filled by only one person, and the
      people who fill them.
      <p></p>
      There are two parts to implementing <kbd>unique</kbd>.
      The first is to write a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that handles this special form, and the second is to make
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      dispatch to that
      
	<span style="color:green">procedure.</span>
	<span style="color:blue">function.</span>
      
      The second part is trivial, since
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      does its dispatching in a data-directed way.  If your
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      is called
      
	<span style="color:green"><kbd>uniquely-asserted</kbd>,</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>,
	</span>
      
      all you need to do is
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'unique 'qeval uniquely-asserted)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
put("unique", "evaluate_query", uniquely_asserted);</pre></div></div></td></tr></table>
      and
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      will dispatch to this
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      for every query whose
      <kbd>type</kbd>
      
	<span style="color:green">(<kbd>car</kbd>)</span>
	<span style="color:blue">(<kbd>head</kbd>)</span>
      
      is the
      
	<span style="color:green">symbol</span>
	<span style="color:blue">string</span>
      
      
	<span style="color:green"><kbd>unique</kbd></span>
	<span style="color:blue"><kbd>"unique"</kbd></span>
      
      <p></p>
      The real problem is to write the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>uniquely-asserted</kbd>.</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>.
	</span>
      
      This should take as input the <kbd>contents</kbd>
      
	<span style="color:green">(<kbd>cdr</kbd>)</span>
	<span style="color:blue">(<kbd>tail</kbd>)</span>
      
      of the <kbd>unique</kbd> query, together with a stream
      of frames.  For each frame in the stream, it should use
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to find the stream of all extensions to the frame that satisfy the given
      query.  Any stream that does not have exactly one item in it should be
      eliminated.  The remaining streams should be passed back to be accumulated
      into one big stream that is the result of the
      <kbd>unique</kbd> query.  This is similar to the
      implementation of the <kbd>not</kbd> special form.
      <p></p>
      Test your implementation by forming a query that lists all people who
      supervise precisely one person.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_6_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_6_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.84" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.84">Exercise 4.84 </a></b> 
  
      
      
      
      Our implementation of <kbd>and</kbd> as a series
      combination of queries
      
	<span style="color:green">
	  (figure&nbsp;<REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.8" href="./4.4.2.html#fig_4.8">4.8</a></REF>)
	</span>
	<span style="color:blue">
	  (figure&nbsp;<REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>)
	</span>
      
      is
      elegant, but it is inefficient because in processing the second query of
      the <kbd>and</kbd> we must scan the data base for each
      frame produced by the first query.  If the data base has
      $N$ elements, and a typical query produces a
      number of output frames proportional to $N$
      (say $N/k$), then scanning the data base for
      each frame produced by the first query will require
      $N^{2}/k$ calls to the pattern matcher.
      Another approach would be to process the two clauses of the
      <kbd>and</kbd> separately, then look for all pairs of
      output frames that are compatible.  If each query produces
      $N/k$ output frames, then this means that we
      must perform $N^{2}/k^{2}$ compatibility
      checks—a factor of $k$ fewer than the
      number of matches required in our current  method.
      <p></p>
      Devise an implementation of <kbd>and</kbd> that uses
      this strategy.  You  must implement a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that takes two frames as inputs, checks whether the bindings in the
      frames are compatible, and, if so, produces a frame that merges the two
      sets of bindings.  This operation is similar to unification.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_7_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_7_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.85" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.85">Exercise 4.85 </a></b> 
  
      
      
      
      
      
      In section&nbsp;<REF NAME="sec:math-logic"><a class="superscript" id="4.4.4-sec-link-4.4.3" href="./4.4.3.html">4.4.3</a></REF> we saw that
      <kbd>not</kbd> and
      
	<span style="color:green"><kbd>lisp-value</kbd></span>
	<span style="color:blue"><kbd>javascript_value</kbd>
	</span>
      
      can cause the query language to give <QUOTE>wrong</QUOTE> answers if
      these filtering operations are applied to frames in which variables
      are unbound.  Devise a way to fix this shortcoming.  One idea is to
      perform the filtering in a <QUOTE>delayed</QUOTE> manner by appending to
      the frame a <QUOTE>promise</QUOTE> to filter that is fulfilled only when
      enough variables have been bound to make the operation possible.  We could
      wait to perform filtering until all other operations have been performed.
      However, for efficiency's sake, we would like to perform filtering
      as soon as possible so as to cut down on the number of intermediate frames
      generated.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_8_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_8_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.86" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.86">Exercise 4.86 </a></b> 
  
      
      Redesign the query language as a nondeterministic program to be
      implemented using the evaluator of
      section&nbsp;<REF NAME="sec:nondeterministic-evaluation"><a class="superscript" id="4.4.4-sec-link-4.3" href="./4.3.html">4.3</a></REF>, rather than as a stream
      process.  In this approach, each query will produce a single answer
      (rather than the stream of all answers) and the user can type
      
	<span style="color:green"><kbd>try-again</kbd></span>
	<span style="color:blue"><kbd>try again</kbd>
	</span>
      
      to see more answers.  You should find that much of the mechanism we built
      in this section is subsumed by nondeterministic search and backtracking.
      You will probably also find, however, that your new query language has
      subtle differences in behavior from the one implemented here.  Can you
      find examples that illustrate this difference?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_9_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_9_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>



    
    <div class="permalink">
    <a name="ex_4.87" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.87">Exercise 4.87 </a></b> 
  
      
      
      When we implemented the
      
	<span style="color:green">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator in section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF>, we saw how to use
      local environments to avoid name conflicts between the parameters of
      
	<span style="color:green">procedures.</span>
	<span style="color:blue">functions.</span>
      
      For example, in evaluating
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (square x)
  (* x x))

(define (sum-of-squares x y)
  (+ (square x) (square y)))

(sum-of-squares 3 4)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM4CO+AhgE4CmAFAB4CUoA3llDDQ7UvhY0uoAFSguAbiwBfPETJUatfAFsA+pVx6GzdrW4AaUAE8+gkaLbjJdRq069QAalenOtpVVtfUNjNzMOAGYrFB4FIA')">function square(x) {
    return x * x;
}
function sum_of_squares(x, y) {
    return square(x) + square(y);
}
sum_of_squares(3, 4);
</pre></div></div></td></tr></table>
      there is no confusion between the <kbd>x</kbd> in
      <kbd>square</kbd> and the <kbd>x</kbd>
      in
      
	<span style="color:green"><kbd>sum-of-squares</kbd>,</span>
	<span style="color:blue"><kbd>sum_of_squares</kbd>,
	</span>
      
      because we evaluate the body of each
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      in an environment that is specially constructed to contain
      bindings for the local variables.  In the query system, we used a
      different strategy to avoid name conflicts in applying rules.  Each
      time we apply a rule we rename the variables with new names that are
      guaranteed to be unique.  The analogous strategy for the
      
	<span style="color:green">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator would be to do away with local environments and simply
      rename the variables in the body of a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      each time we apply the
      
	<span style="color:green">procedure.</span>
	<span style="color:blue">function.</span>
      
      <p></p>
      
      
      
      
      Implement for the query language a rule-application method that uses
      environments rather than renaming.  See if you can build on your
      environment structure to create constructs in the query language for
      dealing with large systems, such as the rule analog of
      block-structured
      
	<span style="color:green">procedures.</span>
      <span style="color:blue">functions.</span>
      Can you relate any of this to the problem of making deductions in a
      context (e.g., <QUOTE>If I supposed that $P$
      were true, then I would be able to deduce $A$
      and $B$.</QUOTE>) as a method of problem
      solving?  (This problem is open-ended.  A good answer is probably worth
      a Ph.D.)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_10_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_10_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

  
</span></p></div><hr>

    <div class='footnote'><span style="color:blue">
      <a class='footnote-number' id='footnote-1' href='#footnote-link-1' style="color:blue">[1] </a>
    <FOOTNOTE>
    In general,
      unifying
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      with an expression involving
      
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      would require our being able to find a fixed point of the equation
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $ = \textit{expression involving}$
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      It is sometimes possible to syntactically form an expression that appears
      to be the solution.  For example,
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $=$
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      seems to have the fixed point
      
	<span style="color:green"><kbd>(f (f (f </kbd>…
	<kbd>)))</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>list("f", list("f", list("f",</kbd>
	  …
	  <kbd>)))</kbd>,
	</span>
      
      which we can produce by beginning with the expression
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and repeatedly substituting
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      for
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Unfortunately, not every such equation has a meaningful fixed point.  The
      issues that arise here are similar to the issues of manipulating 
      
      infinite series in mathematics.  For example, we know that 2 is the
      solution to the equation $y = 1 + y/2$.
      Beginning with the expression $1 + y/2$ and
      repeatedly substituting $1 + y/2$ for
      $y$ gives
      
        \[ 2 = y = 1 + y/2 = 1 + (1+y/2)/2 = 1 + 1/2 + y/4 =\cdots, \]
      
      which leads to
      
        \[ 2 = 1 + 1/2 + 1/4 + 1/8 +\cdots. \]
      
      However, if we try the same manipulation beginning with the
      observation that $-1$ is the solution to the
      equation $y = 1 + 2y$, we obtain
      
        \[ -1 = y = 1 + 2y = 1 + 2(1 + 2y) = 1 + 2 + 4y = \cdots, \]
      
      which leads to 
      
        \[ -1 = 1 + 2 + 4 + 8 +\cdots. \]
      
      Although the formal manipulations used in deriving these two equations
      are identical, the first result is a valid assertion about infinite
      series but the second is not.  Similarly, for our unification results,
      reasoning with an arbitrary syntactically constructed expression may
      lead to errors.
    </FOOTNOTE></span></div>
    
    
    <div class='footnote'><span style="color:green">
      <a class='footnote-number' id='footnote-2' href='#footnote-link-2' style="color:green">[2] </a>
    <FOOTNOTE>
    Most Lisp systems give the user
	  the ability to modify the ordinary <kbd>read</kbd>
	  procedure to perform such transformations by defining 
	  
	  
	  
	  
	  <EM>reader macro characters</EM>.  Quoted
	  expressions are already handled in this way: The reader automatically
	  translates <kbd>'expression</kbd> into
	  <kbd>(quote expression)</kbd> before the
	  evaluator sees it.  We could arrange for
	  <kbd>?expression</kbd> to be transformed into
	  <kbd>(? expression)</kbd> in the same way; however,
	  for the sake of clarity we have included the transformation
	  procedure here explicitly.
	  <p></p>
	  
	  <kbd>Expand-question-mark</kbd> and
	  <kbd>contract-question-mark</kbd> use several
	  procedures with <kbd>string</kbd> in their names.
	  These are Scheme primitives.
    </FOOTNOTE></span></div>
    
    
</SUBSECTION></div></div>

    <div class='nav'>
  
        <a class='btn btn-secondary btn-nav' href='./4.4.3.html'>&lt; Previous</a>
    
    <div style='flex-grow: 1;'></div>
  
        <a class='btn btn-secondary btn-nav' id='97' href='./5.html'>Next &gt;</a>
      </div>
    <div class='chapter_sign'>
      4.4.4  Implementing the Query System
    </div>
    <script> var chapter_id = 96; </script>
    <script> var chapter_path = "chapters/4.4.4.html"; </script>
    <div class='next-page'></div>
    </div>
    </div> <!-- /.container -->
    </body></html>