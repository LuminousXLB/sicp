<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <!-- Global site tag (gtag.js) - Google Analytics - START -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-156801664-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-156801664-1');
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics - END -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="description" content="4.4.4&nbsp;&nbsp;
    Implementing the Query System
  " />
    <title>
      4.4.4&nbsp;&nbsp;
    Implementing the Query System
  
    </title>
    
  <meta name="csrf-param" content="authenticity_token" />
  <meta name="csrf-token" content="EMTEijVc2kiiKUH4nYH0lQG3pLPfMowQ/Stg//t6DCo0e5pWMQwamnTvIdmVZqY/MqSx2IYYE+2bpNV6UNSMwQ==" />

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    -->
    <link href="https://fonts.googleapis.com/css?family=Inconsolata&display?swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans|Droid+Serif" rel="stylesheet">
    <link rel="stylesheet" media="all" href="../assets/stylesheet.css" />

   <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon.ico" />

<!--    <link rel="shortcut icon" type="image/png" href="../images/lambda.png" /> -->

    <!-- for support of progressive web app, see github README, DISABLED!
    <link rel="manifest" href="../static/manifest.json">
    -->

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" 
		     	  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	          crossorigin="anonymous">
    </script> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script> -->
    <script type="text/javascript" 
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script>
   <!--  <script type="text/javascript" 
      src="../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script> -->
  
    <script src="../assets/application.js"></script>
  
    <!-- Rendering inline LaTeX -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true,
          jax: ["input/TeX","output/HTML-CSS"]
        }
      });
    </script>
    <!--<script src="/mathjax/MathJax.js?config=TeX-AMS_HTML-full.js" type="text/javascript"></script>-->
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body>

    
    <!-- support for progressive web app, see README, DISABLED
    <script>
      if ('serviceWorker' in navigator && !navigator.serviceWorker.controller) {
          navigator.serviceWorker.register("../sw.js").then(function(reg) {
              console.log("Service worker has been registered for scope: " + reg.scope);
          });
      }
    </script>
    -->

     <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top justify-content-between">
       <button id="btn" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#nav-sidebar" aria-controls="nav-sidebar" aria-expanded="false" aria-label="Toggle navigation" title="navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <span class="navbar-brand-short"><a title="Go back to front page" href="../index.html" class="gray">SICP &mdash; Scheme/JS</a></span>
       <span class="navbar-brand-long" ><a title="Go back to front page" href="../index.html" class="gray">Structure and Interpretation of Computer Programs &mdash; Comparison Edition</a></span>

       <!-- edit the search engine by visiting: 
	    https://cse.google.com/cse/setup/basic?cx=015760785273492757659:nc_tznrzlsg 
	       -->
       <form class="form-inline ml-auto" id="xxx">
         <div id="search-box">
	         <script>
	           (function() {
	               var cx = "015760785273492757659:nc_tznrzlsg";
	               var gcse = document.createElement("script");
	               gcse.type = "text/javascript";
	               gcse.async = true;
	               gcse.src = "https://cse.google.com/cse.js?cx=" + cx;
	               var s = document.getElementsByTagName("script")[0];
	               s.parentNode.insertBefore(gcse, s);
	           })();
	           window.onload = function()
	           { 
	               var searchBox =  document.getElementById("gsc-i-id1");
	               searchBox.placeholder= "search web edition";
	               searchBox.title= "search web edition";
	           }
	         </script>
	         <gcse:search></gcse:search>
         </div>
       </form>
       <span class="navbar-brand-short">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">S</a>
       </span>
       <span class="navbar-brand-long">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">Source</a>
       </span>
     </nav>
     
     <div class="container scroll">

            
        <div class="collapse" id="nav-sidebar" role="tablist" aria-multiselectable="true">
        <!-- insert a dummy entry, to give one extra line of space -->
        <a class="navbar-brand" href="index.html">&nbsp;</a>
    
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-1">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-1" aria-expanded="false" aria-controls="sidebar-collapse-1">
                <a href="./foreword.html"> 
        Foreword
    </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-2">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-2" aria-expanded="false" aria-controls="sidebar-collapse-2">
                <a href="./prefaces.html"> 
        Prefaces
    </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-3">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-3" aria-expanded="false" aria-controls="sidebar-collapse-3">
                <a href="./acknowledgements.html"> 
Acknowledgments
    </a>
              </span>
            </h5>
          </div>
        </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-4">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.html">1 
    Building Abstractions with 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-4" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-5">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.1.html">1.1 The Elements of Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-5" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-6">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-6" aria-expanded="false" aria-controls="sidebar-collapse-6">
                <a href="./1.1.1.html"> 1.1.1 Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-7">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-7" aria-expanded="false" aria-controls="sidebar-collapse-7">
                <a href="./1.1.2.html"> 1.1.2 Naming and the Environment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-8">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-8" aria-expanded="false" aria-controls="sidebar-collapse-8">
                <a href="./1.1.3.html"> 1.1.3 
    Evaluating
    
      <span style="color:green">Combinations</span>
      <span style="color:blue">Operator Combinations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-9">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-9" aria-expanded="false" aria-controls="sidebar-collapse-9">
                <a href="./1.1.4.html"> 1.1.4 
    Compound <span style="color:green">Procedures</span>
    <span style="color:blue">Functions</span>
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-10">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-10" aria-expanded="false" aria-controls="sidebar-collapse-10">
                <a href="./1.1.5.html"> 1.1.5 
    The Substitution Model for 
    
      <span style="color:green">
        Procedure
      </span>
      <span style="color:blue">
        Function
      </span>
    
    Application
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-11">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-11" aria-expanded="false" aria-controls="sidebar-collapse-11">
                <a href="./1.1.6.html"> 1.1.6 
    Conditional Expressions and Predicates
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-12">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-12" aria-expanded="false" aria-controls="sidebar-collapse-12">
                <a href="./1.1.7.html"> 1.1.7 Example: Square Roots by Newton's Method</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-13">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-13" aria-expanded="false" aria-controls="sidebar-collapse-13">
                <a href="./1.1.8.html"> 1.1.8 
    
      <span style="color:green">
        Procedures
      </span>
      <span style="color:blue">
        Functions
      </span>
    
    as Black-Box Abstractions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-14">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.2.html">1.2 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    and the Processes They Generate
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-14" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-15">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-15" aria-expanded="false" aria-controls="sidebar-collapse-15">
                <a href="./1.2.1.html"> 1.2.1 Linear Recursion and Iteration</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-16">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-16" aria-expanded="false" aria-controls="sidebar-collapse-16">
                <a href="./1.2.2.html"> 1.2.2 Tree Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-17">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-17" aria-expanded="false" aria-controls="sidebar-collapse-17">
                <a href="./1.2.3.html"> 1.2.3 Orders of Growth</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-18">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-18" aria-expanded="false" aria-controls="sidebar-collapse-18">
                <a href="./1.2.4.html"> 1.2.4 Exponentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-19">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-19" aria-expanded="false" aria-controls="sidebar-collapse-19">
                <a href="./1.2.5.html"> 1.2.5 Greatest Common Divisors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-20">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-20" aria-expanded="false" aria-controls="sidebar-collapse-20">
                <a href="./1.2.6.html"> 1.2.6 Example: Testing for Primality</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-21">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.3.html">1.3 
        Formulating Abstractions with Higher-Order 
        
	  <span style="color:green">Procedures</span>
	  <span style="color:blue">Functions</span>
	
      </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-21" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-22">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-22" aria-expanded="false" aria-controls="sidebar-collapse-22">
                <a href="./1.3.1.html"> 1.3.1 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    as Arguments
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-23">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-23" aria-expanded="false" aria-controls="sidebar-collapse-23">
                <a href="./1.3.2.html"> 1.3.2 
    
      <span style="color:green">Constructing Procedures using Lambda</span>
      <span style="color:blue">Constructing Functions using Lambda Expressions
      </span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-24">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-24" aria-expanded="false" aria-controls="sidebar-collapse-24">
                <a href="./1.3.3.html"> 1.3.3 
    
      <span style="color:green">Procedures</span>
    <span style="color:blue">Functions</span>
    as General Methods
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-25">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-25" aria-expanded="false" aria-controls="sidebar-collapse-25">
                <a href="./1.3.4.html"> 1.3.4 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    as Returned Values
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-26">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.html">2 Building Abstractions with Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-26" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-27">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.1.html">2.1 Introduction to Data Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-27" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-28">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-28" aria-expanded="false" aria-controls="sidebar-collapse-28">
                <a href="./2.1.1.html"> 2.1.1 
    Example: Arithmetic Operations for Rational Numbers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-29">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-29" aria-expanded="false" aria-controls="sidebar-collapse-29">
                <a href="./2.1.2.html"> 2.1.2 
    Abstraction Barriers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-30">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-30" aria-expanded="false" aria-controls="sidebar-collapse-30">
                <a href="./2.1.3.html"> 2.1.3 
    What Is Meant by Data?
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-31">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-31" aria-expanded="false" aria-controls="sidebar-collapse-31">
                <a href="./2.1.4.html"> 2.1.4 
    Extended Exercise: Interval Arithmetic
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-32">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.2.html">2.2 Hierarchical Data and the Closure Property</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-32" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-33">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-33" aria-expanded="false" aria-controls="sidebar-collapse-33">
                <a href="./2.2.1.html"> 2.2.1 
    Representing Sequences
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-34">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-34" aria-expanded="false" aria-controls="sidebar-collapse-34">
                <a href="./2.2.2.html"> 2.2.2 
    Hierarchical Structures
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-35">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-35" aria-expanded="false" aria-controls="sidebar-collapse-35">
                <a href="./2.2.3.html"> 2.2.3 
    Sequences as Conventional Interfaces
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-36">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-36" aria-expanded="false" aria-controls="sidebar-collapse-36">
                <a href="./2.2.4.html"> 2.2.4 
    Example: A Picture Language
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-37">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.3.html">2.3 Symbolic Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-37" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-38">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-38" aria-expanded="false" aria-controls="sidebar-collapse-38">
                <a href="./2.3.1.html"> 2.3.1 
    
      <span style="color:green">Quotation</span>
      <span style="color:blue">Strings</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-39">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-39" aria-expanded="false" aria-controls="sidebar-collapse-39">
                <a href="./2.3.2.html"> 2.3.2 
    Example: Symbolic Differentiation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-40">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-40" aria-expanded="false" aria-controls="sidebar-collapse-40">
                <a href="./2.3.3.html"> 2.3.3 
    Example: Representing Sets
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-41">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-41" aria-expanded="false" aria-controls="sidebar-collapse-41">
                <a href="./2.3.4.html"> 2.3.4 
    Example: Huffman Encoding Trees
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-42">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.4.html">2.4 Multiple Representations for Abstract Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-42" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-43">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-43" aria-expanded="false" aria-controls="sidebar-collapse-43">
                <a href="./2.4.1.html"> 2.4.1 
    Representations for Complex Numbers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-44">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-44" aria-expanded="false" aria-controls="sidebar-collapse-44">
                <a href="./2.4.2.html"> 2.4.2 
    Tagged data
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-45">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-45" aria-expanded="false" aria-controls="sidebar-collapse-45">
                <a href="./2.4.3.html"> 2.4.3 
    Data-Directed Programming and Additivity
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-46">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.5.html">2.5 Systems with Generic Operations</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-46" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-47">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-47" aria-expanded="false" aria-controls="sidebar-collapse-47">
                <a href="./2.5.1.html"> 2.5.1 
    Generic Arithmetic Operations
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-48">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-48" aria-expanded="false" aria-controls="sidebar-collapse-48">
                <a href="./2.5.2.html"> 2.5.2 
    Combining Data of Different Types
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-49">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-49" aria-expanded="false" aria-controls="sidebar-collapse-49">
                <a href="./2.5.3.html"> 2.5.3 
    Example: Symbolic Algebra
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-50">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.html">3 Modularity, Objects, and State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-50" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-51">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.1.html">3.1 Assignment and Local State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-51" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-52">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-52" aria-expanded="false" aria-controls="sidebar-collapse-52">
                <a href="./3.1.1.html"> 3.1.1 
    Local State Variables
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-53">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-53" aria-expanded="false" aria-controls="sidebar-collapse-53">
                <a href="./3.1.2.html"> 3.1.2 
    The Benefits of Introducing Assignment
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-54">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-54" aria-expanded="false" aria-controls="sidebar-collapse-54">
                <a href="./3.1.3.html"> 3.1.3 
    The Costs of Introducing Assignment
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-55">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.2.html">3.2 The Environment Model of Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-55" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-56">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-56" aria-expanded="false" aria-controls="sidebar-collapse-56">
                <a href="./3.2.1.html"> 3.2.1 
    The Rules for Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-57">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-57" aria-expanded="false" aria-controls="sidebar-collapse-57">
                <a href="./3.2.2.html"> 3.2.2 
    Applying Simple
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-58">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-58" aria-expanded="false" aria-controls="sidebar-collapse-58">
                <a href="./3.2.3.html"> 3.2.3 
    Frames as the Repository of Local State
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-59">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-59" aria-expanded="false" aria-controls="sidebar-collapse-59">
                <a href="./3.2.4.html"> 3.2.4 
    Internal
    
      <span style="color:green">Definitions</span>
      <span style="color:blue">Declarations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-60">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.3.html">3.3 Modeling with Mutable Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-60" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-61">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-61" aria-expanded="false" aria-controls="sidebar-collapse-61">
                <a href="./3.3.1.html"> 3.3.1 
    Mutable List Structure
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-62">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-62" aria-expanded="false" aria-controls="sidebar-collapse-62">
                <a href="./3.3.2.html"> 3.3.2 
    Representing Queues
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-63">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-63" aria-expanded="false" aria-controls="sidebar-collapse-63">
                <a href="./3.3.3.html"> 3.3.3 
    Representing Tables
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-64">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-64" aria-expanded="false" aria-controls="sidebar-collapse-64">
                <a href="./3.3.4.html"> 3.3.4 
    A Simulator for Digital Circuits
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-65">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-65" aria-expanded="false" aria-controls="sidebar-collapse-65">
                <a href="./3.3.5.html"> 3.3.5 
    Propagation of Constraints
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-66">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.4.html">3.4 Concurrency: Time Is of the Essence</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-66" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-67">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-67" aria-expanded="false" aria-controls="sidebar-collapse-67">
                <a href="./3.4.1.html"> 3.4.1 
    The Nature of Time in Concurrent Systems
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-68">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-68" aria-expanded="false" aria-controls="sidebar-collapse-68">
                <a href="./3.4.2.html"> 3.4.2 
    Mechanisms for Controlling Concurrency
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-69">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.5.html">3.5 Streams</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-69" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-70">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-70" aria-expanded="false" aria-controls="sidebar-collapse-70">
                <a href="./3.5.1.html"> 3.5.1 
    Streams Are Delayed Lists
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-71">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-71" aria-expanded="false" aria-controls="sidebar-collapse-71">
                <a href="./3.5.2.html"> 3.5.2 
    Infinite Streams
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-72">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-72" aria-expanded="false" aria-controls="sidebar-collapse-72">
                <a href="./3.5.3.html"> 3.5.3 
    Exploiting the Stream Paradigm
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-73">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-73" aria-expanded="false" aria-controls="sidebar-collapse-73">
                <a href="./3.5.4.html"> 3.5.4 
    Streams and Delayed Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-74">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-74" aria-expanded="false" aria-controls="sidebar-collapse-74">
                <a href="./3.5.5.html"> 3.5.5 
    Modularity of Functional Programs and Modularity of Objects
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-75">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.html">4 Metalinguistic Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-75" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-76">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.1.html">4.1 The Metacircular Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-76" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-77">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-77" aria-expanded="false" aria-controls="sidebar-collapse-77">
                <a href="./4.1.1.html"> 4.1.1 
    The Core of the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-78">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-78" aria-expanded="false" aria-controls="sidebar-collapse-78">
                <a href="./4.1.2.html"> 4.1.2 
    Representing
    
      <span style="color:green">Expressions</span>
      <span style="color:blue">Statements and Expressions</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-79">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-79" aria-expanded="false" aria-controls="sidebar-collapse-79">
                <a href="./4.1.3.html"> 4.1.3 
    Evaluator Data Structures
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-80">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-80" aria-expanded="false" aria-controls="sidebar-collapse-80">
                <a href="./4.1.4.html"> 4.1.4 
    Running the Evaluator as a Program
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-81">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-81" aria-expanded="false" aria-controls="sidebar-collapse-81">
                <a href="./4.1.5.html"> 4.1.5 
    Data as Programs
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-82">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-82" aria-expanded="false" aria-controls="sidebar-collapse-82">
                <a href="./4.1.6.html"> 4.1.6 
    Internal
    
      <span style="color:green">Definitions</span>
      <span style="color:blue">Declarations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-83">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-83" aria-expanded="false" aria-controls="sidebar-collapse-83">
                <a href="./4.1.7.html"> 4.1.7 
    Separating Syntactic Analysis from Execution
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-84">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.2.html">4.2 
    
      <span style="color:green">Variations on a Scheme:</span>
    
    Lazy Evaluation
</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-84" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-85">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-85" aria-expanded="false" aria-controls="sidebar-collapse-85">
                <a href="./4.2.1.html"> 4.2.1 
    Normal Order and Applicative Order
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-86">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-86" aria-expanded="false" aria-controls="sidebar-collapse-86">
                <a href="./4.2.2.html"> 4.2.2 
    An Interpreter with Lazy Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-87">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-87" aria-expanded="false" aria-controls="sidebar-collapse-87">
                <a href="./4.2.3.html"> 4.2.3 
    Streams as Lazy Lists
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-88">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.3.html">4.3 
    
      <span style="color:green">Variations on a Scheme:</span>
    
    Nondeterministic Computing
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-88" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-89">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-89" aria-expanded="false" aria-controls="sidebar-collapse-89">
                <a href="./4.3.1.html"> 4.3.1 
    
      <span style="color:green">Amb and Search</span>
      <span style="color:blue">Search and amb</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-90">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-90" aria-expanded="false" aria-controls="sidebar-collapse-90">
                <a href="./4.3.2.html"> 4.3.2 
    Examples of Nondeterministic Programs
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-91">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-91" aria-expanded="false" aria-controls="sidebar-collapse-91">
                <a href="./4.3.3.html"> 4.3.3 
    Implementing the
    
      <span style="color:green">Amb</span>
      <span style="color:blue">amb</span>
    
    Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-92">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.4.html">4.4 Logic Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-92" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-93">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-93" aria-expanded="false" aria-controls="sidebar-collapse-93">
                <a href="./4.4.1.html"> 4.4.1 
    Deductive Information Retrieval
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-94">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-94" aria-expanded="false" aria-controls="sidebar-collapse-94">
                <a href="./4.4.2.html"> 4.4.2 
    How the Query System Works
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-95">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-95" aria-expanded="false" aria-controls="sidebar-collapse-95">
                <a href="./4.4.3.html"> 4.4.3 
    Is Logic Programming Mathematical Logic?
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-96">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-96" aria-expanded="false" aria-controls="sidebar-collapse-96">
                <a href="./4.4.4.html"> 4.4.4 
    Implementing the Query System
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-97">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.html">5 Computing with Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-97" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-98">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.1.html">5.1 Designing Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-98" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-99">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-99" aria-expanded="false" aria-controls="sidebar-collapse-99">
                <a href="./5.1.1.html"> 5.1.1 
    A Language for Describing Register Machines
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-100">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-100" aria-expanded="false" aria-controls="sidebar-collapse-100">
                <a href="./5.1.2.html"> 5.1.2 
    Abstraction in Machine Design
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-101">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-101" aria-expanded="false" aria-controls="sidebar-collapse-101">
                <a href="./5.1.3.html"> 5.1.3 
    Subroutines
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-102">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-102" aria-expanded="false" aria-controls="sidebar-collapse-102">
                <a href="./5.1.4.html"> 5.1.4 
    Using a Stack to Implement Recursion
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-103">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-103" aria-expanded="false" aria-controls="sidebar-collapse-103">
                <a href="./5.1.5.html"> 5.1.5 
    Instruction Summary
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-104">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.2.html">5.2 A Register-Machine Simulator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-104" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-105">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-105" aria-expanded="false" aria-controls="sidebar-collapse-105">
                <a href="./5.2.1.html"> 5.2.1 
    The Machine Model
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-106">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-106" aria-expanded="false" aria-controls="sidebar-collapse-106">
                <a href="./5.2.2.html"> 5.2.2 
    The Assembler
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-107">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-107" aria-expanded="false" aria-controls="sidebar-collapse-107">
                <a href="./5.2.3.html"> 5.2.3 
    Generating Execution
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    for Instructions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-108">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-108" aria-expanded="false" aria-controls="sidebar-collapse-108">
                <a href="./5.2.4.html"> 5.2.4 
    Monitoring Machine Performance
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-109">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.3.html">5.3 Storage Allocation and Garbage Collection</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-109" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-110">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-110" aria-expanded="false" aria-controls="sidebar-collapse-110">
                <a href="./5.3.1.html"> 5.3.1 
    Memory as Vectors
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-111">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-111" aria-expanded="false" aria-controls="sidebar-collapse-111">
                <a href="./5.3.2.html"> 5.3.2 
    Maintaining the Illusion of Infinite Memory
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-112">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.4.html">5.4 The Explicit-Control Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-112" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-113">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-113" aria-expanded="false" aria-controls="sidebar-collapse-113">
                <a href="./5.4.1.html"> 5.4.1 
    The Core of the Explicit-Control Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-114">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-114" aria-expanded="false" aria-controls="sidebar-collapse-114">
                <a href="./5.4.2.html"> 5.4.2 
    Sequence Evaluation and Tail Recursion
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-115">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-115" aria-expanded="false" aria-controls="sidebar-collapse-115">
                <a href="./5.4.3.html"> 5.4.3 
    Conditionals, Assignments, and <span style="color:green">Definitions</span><span style="color:blue">Declarations and Blocks</span>
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-116">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-116" aria-expanded="false" aria-controls="sidebar-collapse-116">
                <a href="./5.4.4.html"> 5.4.4 
    Running the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-117">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.5.html">5.5 Compilation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-117" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-118">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-118" aria-expanded="false" aria-controls="sidebar-collapse-118">
                <a href="./5.5.1.html"> 5.5.1 
    Structure of the Compiler
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-119">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-119" aria-expanded="false" aria-controls="sidebar-collapse-119">
                <a href="./5.5.2.html"> 5.5.2 
    Compiling
    
      <span style="color:blue">Statements and</span>
    
    Expressions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-120">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-120" aria-expanded="false" aria-controls="sidebar-collapse-120">
                <a href="./5.5.3.html"> 5.5.3 
    Compiling
    
      <span style="color:green">
	Combinations
      </span>
      <span style="color:blue">
	Applications
      </span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-121">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-121" aria-expanded="false" aria-controls="sidebar-collapse-121">
                <a href="./5.5.4.html"> 5.5.4 
    Combining Instruction Sequences
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-122">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-122" aria-expanded="false" aria-controls="sidebar-collapse-122">
                <a href="./5.5.5.html"> 5.5.5 
    An Example of Compiled Code
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-123">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-123" aria-expanded="false" aria-controls="sidebar-collapse-123">
                <a href="./5.5.6.html"> 5.5.6 
    Lexical Addressing
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-124">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-124" aria-expanded="false" aria-controls="sidebar-collapse-124">
                <a href="./5.5.7.html"> 5.5.7 
    Interfacing Compiled Code to the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-125">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-125" aria-expanded="false" aria-controls="sidebar-collapse-125">
                <a href="./references.html"> References</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-126">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-126" aria-expanded="false" aria-controls="sidebar-collapse-126">
                <a href="./making-of.html"> About the SICP JS Project</a>
              </span>
            </h5>
          </div>
        </div>
        </div>
<div id='permalink-msg'>
<div class='screen'>
  <div class='alert alert-success'>
    <strong>Permalink copied!</strong>
  </div>
</div>
</div>
<div class='chapter-content'>

      <div class='chapter-title'>
        <div class='permalink'>
        <a name='top' class='permalink'> 
    4.4.4&nbsp;&nbsp;
    Implementing the Query System
  
        </a>
        </div>
      </div>
      <div class='chapter-text'>
        <div class='SECTION'>
    

  
  <div class='permalink'>
<a name='p1' class='permalink'></a><p>
    Section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF> described how the query
    system works. Now we fill in the details by presenting a complete
    implementation of the system.
  </p></div>

  
      <div class='permalink'>
        <a name='sec4.4.4.1' class='permalink'></a><h1>
    4.4.4.1&nbsp;&nbsp;&nbsp;The Driver Loop and Instantiation</h1></div>
    

    <div class='permalink'>
<a name='p2' class='permalink'></a><p>
      
      
      The driver loop for the query system repeatedly reads input
      expressions.  If the expression is a rule or assertion to be added to
      the data base, then the information is added.  Otherwise the
      expression is assumed to be a query.  The driver passes this query to
      the evaluator
      <span style="color:green"><kbd>qeval</kbd></span>
      <span style="color:blue"><kbd>evaluate_query</kbd>
      </span>
      
      together with an initial frame stream consisting of a single empty frame.
      The result of the evaluation is a stream of frames generated by satisfying
      the query with variable values found in the data base.  These frames are
      used to form a new stream consisting of copies of the original query in
      which the variables are instantiated with values supplied by the stream of
      frames, and this final stream is printed at the terminal:
      
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define input-prompt ";;; Query input:")
(define output-prompt ";;; Query results:")

(define (query-driver-loop)
  (prompt-for-input input-prompt)
  (let ((q (query-syntax-process (read))))
    (cond ((assertion-to-be-added? q)
           (add-rule-or-assertion! (add-assertion-body q))
           (newline)
           (display "Assertion added to data base.")
           (query-driver-loop))
          (else
           (newline)
           (display output-prompt)
           (display-stream
            (stream-map
             (lambda (frame)
              (instantiate q
               frame
               (lambda (v f)
                 (contract-question-mark v))))
             (qeval q (singleton-stream '()))))
  (query-driver-loop)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaWH8XqexNtsyy4io6xlurbU5qj6ipUUKc3Etz1GXJeoKMp2cXprIBmyURijrFJKhvstINy7F3Kjgo8RALgTPIcUs5YJtIXUJsZHNwMC-BzlNCHICPyMQWL0QCK+gLmy6HvmRQpsL7n4v+IkmFYKXnwodBU1G1KrFEphRcnct1qnGGxTgPAfkGD4GYGwKAcBEDIHQHwAATB41mT9HDOBRoVbwbwyXCNsDtMoB4UTGAAD56psk-RGKrdWgANUauw5QKiiGGLqi1Zpu67TNfqw1jq7Dy0KtjN43zj4I0kJ4TwxVNZmN8eQAAFvcLYng35JTAX0Q6x41UADJk2gEjZINBarlI5tABGqNAbfUbPAZqgeurpYaujUGkS41Txt36tXUa9KGhNDLWqit2cM1oI3nCtoPS5UiAuI83Zfh76VoDdWkNKhTzDpGA2nFx9Z3mzqAyu+fMlpdsUD2xQm7t2vxCo2xdhSnmcrXZEDdtru3jz7nuuUB7enFr6Ei2leF23nq7nYKtwba2+JPM+6FLx53rNrqAf97KJzNvLe++Nu7r07svVuuD+7+2jTA5Iicp7R3rs7Qh7dt6+0ob9XYVlhL0OLLPaA2sfQv01tDcMk8JGX3zCA6NRjAGVGQbfZR0isHN7wczYhvjyGmasauASpjWlMNvwvQJvDSG739uA54i4FoJTzOnFB7jJaaNTuIXs0AJ5VMYwWbQFjx8jOOQHgaIB0mxntmUCultpakiaF472vw96lOsyMzpTTJgcOybg-hjzinRrhzARwy2cox0ftsDpn99GBn+1xGZx9czwYaa4-5mDuH5N9qLSBi47IQYJC5BlyGfm41Uf9YG79dH9PLL-WSErYMpyQ1SyBmmdIsZZui9h+Nj1TD4HxDwQjj6usk2SVlqrpFBv5XxNKsbnWyQYzpnprD0GqNzeG74gAzKFojjC87TfHbV2j07f3QI6548ZR2X4kJiwNsxJ4ruaCtiJ4+0DItlhswYQIm2eO5aE3ej7j6k7fcDg9-rVHN3vcPWl9hgzAGS0e1R4LpT4eFYgQJKBHNjtQ4ByWnu7mMcLsfSpmEhDOEo+h6RJ1vdBMk8815wdVqok+L62kU7k6Ev6ZPN467rNbveMq0tWt-P2eL0-m0UHIHgm+emzNqwbmNEFeU9CDsXYeyvs51p6jE66sXfo+BbswJBciD8sZzLuvssw6B+5zzo1PonYC1evjwXCJLc8StT61Bvq2fjfTvufvScs6sODy6IeA924E1H2XnjC6rS3IoKPqPSLbrj4fAVbUhUivYOKrgUq0C7YHdppGShqSxqWi+HNqlEYejV0L5UOFi2KEs85Q0mgqkjL1+L-iglhKiWLYvZZ7ezAuS76Eoo7zMfq9JAJISJkh+13wlX2L8WzH4Aav3xfIk-Lm-D21HUepx+GlX+q7O238KaFG-H1mlvfP4DX095cQ3r+gEW3fi3R+ApNKsk-i-F-UYN-LfUAfbRvEQW7SZNFNGWgDKZ-LbZ7aAmoKXdKMsL3eVOwZAmKOOQA6rT9A3c7PEN5AzbA0QA-JXVKIGDKcxNFBAwHQLPjOOA7R9T0LIOELwFwBpQKKyHMPA9PODPlUacHYVMtPgjtHLATIQvpMgdg+4UoSCJyUQfZA+UZeNRNfCJQmfICD+fNFwHHCiX-M5JSVSYnf8MPUAW7UQloZtHmF6WCfgqwDQ2wzQewjAi3JQ2FVyJQuCVQvXTdaw0Qdw8PTw+wzQgeXw-7NQtHODQIlgkDIyVBLg8QRpYwhzexOwkpLvGEe4cQrnS-ToTwCNdI+oBw2vMaQo4o6oOBNMUADQqwpQkoioTIziG6UoHI5IzRZxO4LwYo2wvQAAHgqN6PDVoNaJYVWEPGoGPBPAABVshLDhgigmJPBCBowT4ChOxKBipYgTxQAABqL2VhQIFQX4LwRCG0fog4gzBqa45ZKIU4lVC4sYg2FhSmKYmY+Y6gAgUQG8FYtYn7DYzXbYsYXYu444sIE1c4-AS4xzBww4qXPYw4+4oIR46Em0ao5nUaLIXIAoSlC5RzYFIIAGbQTWbIfIY6LoMlYkz7M+Jo1pUATE6knoDVYnekmonyVYUknEiklE6qWQ6gDgzwZI1IpsbpPk2IZtFSXNWHOEro2ozdTEvk4wSUukvdOUzQbdTEtJdISuHodWR0aUuvSNfQkWQw7gv-EYWNBFD4+khqC8coYSZaAeBtZYDOARe6D+QIz2EQxokOLOeNOJcIpILw4MoInlHyQI1KbwiInUqIPUsqfI+NR0Mkv3Sk3QCAqwUFRze5ZtVwmQIkwIEk8QVMikvI5YJtOklwxkkpa0lk2LNk-o5ZLkksnk-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-joEIFKEW89ixEG8a72+G77haTiwJWgu3KS-O8u-KLVrGDrLYXjS+43LtnI8ER6A-lG7GCu6y9IAa4omlXu+UHe+e9XfSHVjB+HK+5+4+CWn+-undOO8x+zm3TB6R-jIrlgppPJ3oGVeh7u9AEO-zJqAx9O4R-+Ah7oBu4on25k8UEe8W5e+R54jO4u4JTR5Mnyi9W+7x9RLMCe74x54JQjIXA0NrV28540Lp9nI9FIRfqCG3Tl4Yb5-jIw+B-fjptR9Umu6h-V73WZ54eJ6CBR568K5F6q-F7rP3h6EnJl4cRt+UKwHd9Ao0LV9u9h41-DO156Gt6F-19Yn98B9Vkl49+l8J8d7GHp814B6rhgsz6LOPkcvkFi7oQx6WjYHva24KCBYMkyDL-yGmViBL8-cKgcF04r9slCEb+VfuPeNqhYCU+aisD88BTvMW9dMCATLXbz-IFi7WQ-gH4C+F9Ukm4JRm--A-gi89ln706X8M2r4bT4pC9Ug35UUW4Rvb+b4ruPmF0KnJC8FoN0SC9D9Xo0JIzT6CNsdKCv+7JIxSQ-68FXs3Xf+Bi-83+P-YUlHAAHX8Y04nbdOAJVT0UYBnBNuoEVv6WI4mcRcThb2QHy8mAERWxokV3rP9Q+EbHwuJ3qLN5tIIAzAffzjhECcB89Q7DogY7ud9c5FWtIp3aZacwsmwbYNcFRhsDAiMLR0kvh0S2A4uJkO4IwFjSoY-cw4GNnjxbY-AcOxvKIAEhAFBIQBrdOsEgL4E+EM+eueAQE0+6i9quYwZsui0EEiRhBogsYOIK47YCoKyyWIAMHyA2h9B9yfQQb2fLx95BzHGNhj2iKkQNCTgm0Gx18GaAghTTctsT1x5KD-BfHWkADzH5j8lo4Q4Nk61OK2oWA-rLqEvgmDTAig3qTnrkLsrBo6AR3czkHmUCjYqGRQ-ISJFKEzc+Gu7UcqNgV71UNGiMDIVkKSI1DvUHQxIF70qHiszaUQHoXUMWz0VCoBoO4L3UJR5CChmgUYfYDKFMCKhdAKoWi0WH1D4OgHWHC0OmQzd3qkwg8NMNoijDFAmw6VDN1aG2QDhs1dIf0L3SjYsSn2PoZkPwDTBVA9mRiDIyYHvD5AxkYsKYESBONOh8dEgG9kdzHw-h5AAEfcMyZwjiuzqBEVQ2JwlMRgxw21KcMcDFC0E90WHK8K9q3CMq0I2Ea8JBEPD5MQIsls8NYLr0l8iEIGHCBUBWQCB4oaGGgIOR019BagwAcKUQGNECBcRD5PGm5GGCXeisKhngLQSsj5ANA+wTm11AwiDwdYAKgX1cFgCQBN0NkXKNf50DH0iog0CqPz6jFFRCw2UXYKCLidvSfTfANemKh7EqGJ4W0ZvHtF8M6ufcU0aADZF6AqG3pYwCU2IwzA288gH0WiylGt1nAMkORFZE9HaiLRZrVCIB0VF6BU0EnI6N6IA5Kiiwqo0YqexDHXCFw26b0QWPtAGjlRtgHMUc2TEljhhjTYseHwMhxEzWTou0dKzSEqpAGtiMkZXhIGAc+qRIlxL3HiKeJYukwHIJiDrC2cFmTnXTvME0DVtPR1bDkf4jpo5jqwvIBSCYQ0pZijRk-UYguPNFTjaAx9WsQZCXE6CmBa4rKLo2dF3BpWKIkeDmyFKdi6wcIuhMaPXFnd4oTrQgPsyv40hgxJ5PXManYZViQxw41mBF0BEZDoenPXLssKCCndPYEXWCQd0a6f4mB38XNF9z9DE5nEdAJ1v+Lra7dGggE2bnTVy6ew92IY4UfgQUG5c9ABjDps4ly5rJAGoAWYgAAkXatgAAILgBwALtAAEqzFIAAAeR9rIBTCriXCvgDMCxdHOTfWhGWMsA6jV6v45iqL2pCATDR1LKCURIvYzjlJ-w5UWaygkyBKgR4+gLY3Mm9xFJznZJKvS4k8T+JgkkSeJMkk2TpeBkqdkZLwQ6TTJ4nKCW+KIm2ASJw2FScQBugngrJr4OERwKhFX97Js45JJFLUnic4RdED4TzScRsi1izVe4qOOTATjkpeEPKT323GGi1JNYuSXuNKn+S0p8YxTOxLVbZ0SACXVSAAAZzCo0IqDeGrAKQjOYbCcJQDQRV5BppIdqQeE9itTJp6IrSocR4C0TSIs0gYFNMYC2NbsfUn4CgMoF3BNAs0k3IGzrCjTH+gHfplLg0KHThpKiUaXDwoYQSRApgNuDtIJR2BCosUQaeRPDrXS5mMKUaZ7G2m-S22I0sabbFGgdD7gN4GQCmDc7LANUDAsTvdEVBkDtpX-NgcDNNygz5SyLSTjG2RkaUjokM2wNDOkApgQhWbIYV-VMBQyYZEQ3wTjNU5uImBxM0mSmFamPSrAEwbIZ0hXALA2Bgo4gdLAhk0ySZdMy0UoPkGIz449oA0u6Hq4ECgifg+svGnryiBdBm5IHssgCQ8iIBGg78mITUkayZYIo53mLwlEQlQgto1WMqViCsy6Z6omAqUA8E9AgIu8aIQnFizMdQxrfPNKLLZlHMlZ5qPVH7NEC0yyZEQjrguFiDWyHACQsnnrntkRzUheohInSJEgMjBIDIf4HtLibVB0pnI8OqKNACuD+RZaQWbQPt48RuRbTdHnjyx7EALiFY40d-15FuDNRJ408bOSNlblNZXgx+IGOPDVApYmtPAJPHHmOwuRqg1SKXM0ECiCy8YgHktBrnYSjB4vAmSQCbmVjn+DYkueoI1G8i7ou8Y+cYDiJII16dSXOfTyNlkd+5yEbmagjsCHB85NZO-vtKal-Yx5E8+GdnBbEui2xt8zOCrPgrpyr53cxedR1wqbyYSzcvcW3lV4h9lxsQi0TeNbEt8ogBjW8a6I47yyPRCC6loEQDEKD8go2XuRgovlJFM5gpOEDnJIUU1EFPhIhQwPyBHdJR6ciMTqGoWUBaFIfOhfGOMBfzJ4RCwPqQtTGJijoLC6ltAooiVjT2ewzWqe0Ww1jlg0i2BQXz3byKu56QPdkot3kVkfCzYrBQApo5z5WpPgYuOgXE41YecdGCxSMFVaDSKCGwKYL+MZAczxOKuDmfRVmm+Z3F5Q3JgzjkwjcvpUclkJK2kDQyign6cvJ0xzYq5CeISzmWRBboSgzFrU+cXq2romTVJoAc8RETJQfwpgtqOsK1JmmdAB4r0-4O9IWAcyIkdNVRdeN7YLhVFlYg8TuOUVEhnFsgCrEUsoQcyOlHwPJVBWWlWAGlG4xSKgv-noKWQqIjjsyk5aZLPp+iXzL0pKVfSOlz4swF2KpGKAxlX4jzGxLMAcTuJtgISWeAAAyLtKSYOOkA9SoR8k8Kq1KNCNSkFeuDSRoImDaTIpek7yVpODRPKAplgMydLwskDS7gRoeirZMqAAqnJJys5ZcvABeTRgPksFa9G+UZTXhXQ3ek4mClkjQp4UwFVFIGXLATwrUuKa8J-A1jcVOyi6Q4ruDkqqRGrJ1uRFRXPLsl9UfheZ0ynQicpBkUpbNXuIsrUlg0pZXExeU+EapDy1lYSrUlJK4QAkfRLy0UBtKqpFo6CYkFXrcrsp9mU0NaIyr3RMpO9ESGcOWQKxfJSk-ySquVHVTlkA4llQCqtU5KmxEZQCgSKdZUxsGiy3ljqPVVksCldNV0IIGQlmAt0lnZVZkuikereWI-W3KREDUkAzZxgqhvKtYqeqrW4aq1j6uRE5t41CwLzhmv1ZZq3VqcufERKX7JirFdgfxmBI8zBy+gDA6iQcpLWswVA0xIzn5K0ht0iJDyDtVFObYDyPlNIJflZJlkg8KJjXT2Pitu6kSR1APQpRYGekfRe1vq-Oj5GpUwShuBmWKfFOJ75AsE0PBqNuopUFiUWvazQAOMUaHgyw9U7ZRkIN4eyq4ZOEDK2tMCor9Z3avxSuPDqRTPYXS1xYcFqVpB5BZa2heytHUm9w6lE1SFOooikTvlc6umpesXVvq4Rq6jyOuuBGbrSVg0hlRkJjVi191WGslfFJPWAd0lyEAakhuvWzSERcZB9aP2bVgQxgIkWadMRvULAR1la1FT2otW0AfZiUBzmYpHV8MHOVknjQ5Kin2dmN7G8TSlL7XSwX17a3jSdJU2fLZNLwOMjP2kDmqJNOSZyXxIEnCTRJEkxFWkH02uSjNHk65aeuU3nqBqFQHTXJoxzIKTwuQZJrPlZiCaRVn61Evp1fWzSu1Wk0VZprpoObWVnsfTfCquW2xItFyq5Z7CumDS7N71MLU8rjJLRXNOQdzSYswKmlRYGwVmm1C+g-DkFFQ2aPRXBwFbcIxWv-ghnK22NE8VWoQJmxK2JzBC10WxkLB-rWVCtrecrVxrZL1aPNFuL8j1uq39bzOFM0PKNETxjbmtNWqAe1v9y2MiongBsCJCVUTamBU2pJQVuoAfSmtT9ItVSL9YHkgYvWlfIdq4QELPCcIvhnto+mNbaAF2rhLAWIAvafoKJKNYssq3PbqtV2z7bH1AquqTtimPdflSlaIlvtVrVAs9v22SbcKPW+HecJsAfbjtd6rjWdrm0r5sd12h8YghzZHDO6mI2YTiKHqGR5laa7ltHB2Co7qtuO49iDrvUmggdFG96kjse3sIGdKOugB9qPkQkmdGq-tODoRqysGo0O7lg5VR3w7z+j6VbadC8hqqERGKqkVlPkC8qFweqv3h8DK2U6lV8uyRlTptCXtiVC4TZfp1fFkimx-gVnfjHN23rgRZ8k+bEGJws70gguslkzBF0nh5WUOvXZkqlwG7dRFhGkJMCwRWdZB5nE2GwOAagMqQEDXEEku-aJtk2UcRXR7o7hLQtV6unVWaC101Iw9qMRvmIioCnQT6eLNaDdH4En1zEEbMqtr047iBO5XcxqMpxaiKjX5d5JEn7xPlBAv24HH9qnrRQastmJ8DsVsst07Kz5wLG5dcIz1e791-e11pBxeh+63ADYI3VLmT0r66C5hD+EqDraOU8hnsAAJz-hRoR+uyr6uUCSDc+NgJyr6tboGgfAmgeTaHAHWNla1Sg3HurCsDlFOpys4wJfptA0saWDUNABAfw2eCgFRIYA0cxUAuz0gwBx-RSB1SZTb0N0KwB+Fvyk9s+QB+-XkJQPP6eYB+8YAQbspJKZAkS6JTFGbhtr0dGqq0bdteEL6IdESuyjQfILi7-dMO6COwaiVxZy8sukDGe1hBG6UIMTLBK4QPDlA4QJtf1eHVdCew52j4LYHW1ENsq0mEh8HUw1-BMqgNPEbCIwFkP61QAbTF7C6LnQY84DBVd8MhwPa5LMl1gSQ0pB6iFVZ6poOA+83EOugQocfSqGP3VhWS4sBnUoEZ2Y3YxfDGPLzfojY1ibRNy63zFEYB7qwjDJhjqGYc-ZwgeiCrQA16PIM2hbD74XqL2rIgRHwexR4o-1H8MCJEhRvTwwUYRqVG7DvLJKPsoYDNH3wUBwIMgbfEGrMVGuxsR+XSrKlvDSq8PsXu4GnRXQOo89U3oIADVdAQwiXTyzezj6Ld1+4nJ7jo2HwND4hmlrZ0UBdyAAOlgCE1X0l8+nOiNMUyau7GqpVSSLZDAMGZsjZYBtHsaVUHGjJRx08acfOM8yQj1xz5sGKOiEBXCN0PLhoTBOgAAAXiXVACnGogRqwE-gBuO177jsJxhqwmeMWGcjDaCwhHnoA3gdUhUcHd9NkhKHVIKhhdhoeDFaHSTIXBEnoYN7vkB4OSFY8qrWNeAXxmx3aAb1ZLOpAifXFkD7u+I5iVUXo+QJIGKa7wQWJLJVZMZGA8ClAMxxpkKZujomACs1JY9PzpoMnRgqbHHJ7BPCtH9T0QdzRYWrZjBfgRh0sgcMLmyR9TCWkVIPX1NescccZeQWyX1PgaRhjRoozMmmJ5oMmhUdbW4fw30aINFJ5Q5kprZqHF2jbC1k6aZP6HlgNhyo16JtPTSeSzhnQ80e6P4GbKeQ3ZRyx8OIHMO6mo-qEfCMmdlVvp5YDEfuBxHe1DyaTcEaSPlmggNh3iaUeM7FQ803xNkZIBLk5E0ABZmown0LNOUmjzRxw1azaObiOjnRxEuOa7MFHr9TiTKYMc13DG0qKJMY4sp7328uBSp6Y7MeQjzHbAixrXh5A5Oqn7dk+mCVsc9zxzlgVprM5jDbI7Hho752ip+fJLL9+UYAU0y4eiA+M8AyJq46ieBOHUcWY1aUw1FKCIlSAiJaVpQzwCtGsodAaIFF0gsGdoLtx3aHBYh2IkkL2+VC5SryoI0ELBmMiwZhQsNQ0L-gCCxcZEhQW0TkrSi+Ljot-oKLN0Ti4heQt8XmLYAPC0CcyYCXaLXF57AxYMxoXiL1F0i0JcYsatcLrFlExxeew0X+cQl-i1ZWkvwWlL5FlS+hdEvqX2LwJySzpeMtyXKLdxqyzxdksngmLQAA')">const input_prompt = "query input:";
const output_prompt = "query results:";

function query_driver_loop() {
    const input = prompt(input_prompt);
    const q = query_syntax_process(parse(input + ";"));
    if (assertion_to_be_added(q)) {
        add_rule_or_assertion(add_assertion_body(q));
        display("Assertion added to data base.");
    } else {
        display(output_prompt);
        display_stream(
          stream_map(
            frame =>
              unparse_query(
                instantiate(q, frame, (v, _) => v)),
            evaluate_query(q, singleton_stream(null))));
    }
    query_driver_loop();
}
</pre></div></div></td></tr></table>
      
      
      
    </p></div>

    <div class='permalink'>
<a name='p3' class='permalink'></a><p>
      
      Here, as in the other evaluators in this chapter, we use an abstract
      syntax for the expressions of the query language.
      The implementation of the expression syntax, including the predicate
      
	<span style="color:green">
	  <kbd>assertion-to-be-added?</kbd>
	</span>
	<span style="color:blue">
	  <kbd>assertion_to_be_added</kbd>
	</span>
      
      and the selector
      
	<span style="color:green">
	  <kbd>add-assertion-body</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>add_assertion_body</kbd>,
	</span>
      
      is given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
	<span style="color:green">
	  <kbd>Add\?rule\?or-assertion!</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>add_rule_or_assertion</kbd>
	</span>
      
      is defined in section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p4' class='permalink'></a><p>
      Before doing any processing on an input expression, the driver loop
      transforms it syntactically into a form that makes the processing more
      
	<span style="color:green">efficient.</span>
	<span style="color:blue">convenient.</span>
      
      <span class='comment'>
	In the JavaScript adaptation, there is no need to precede variable
	names with <QUOTE>?</QUOTE>, see comment in section 4.4.1. We are
	using the same internal representation as in the Scheme version, because
	this way, we can distinguish the name
	<kbd>my_name</kbd> from the data log list
	<kbd>list("name", "my_name")</kbd>.
	The original authors were saying <QUOTE>efficient</QUOTE> because
	of the string manipulations that would be required at runtime.
      </span>
      This involves changing the 
      
      
      representation of pattern variables.  When the query is instantiated, any
      variables that remain unbound are transformed back to the input
      representation before being printed.  These transformations are performed
      by the two
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green">
	  <kbd>query-syntax\?process</kbd>
	</span>
	<span style="color:blue">
	  <kbd>query_syntax_process</kbd>
	</span>
      
      and
      
	<span style="color:green">
	  <kbd>contract-question-mark</kbd>
	</span>
	<span style="color:blue">
	  <kbd>contract_question_mark</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>).
    </p></div>

    <div class='permalink'>
<a name='p5' class='permalink'></a><p>
      
      To instantiate an expression, we copy it, replacing any variables in
      the expression by their values in a given frame.  The values are
      themselves instantiated, since they could contain variables (for
      example, if
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in <kbd>exp</kbd> is bound to
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      as the result of unification and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is in turn bound to&nbsp;5).  The action to take if a variable cannot be
      instantiated is given by a
      
	<span style="color:green">procedural</span>
	<span style="color:blue">functional</span>
      
      argument to
      <kbd>instantiate</kbd>.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (instantiate exp frame unbound-var-handler)
(define (copy exp)
  (cond ((var? exp)
         (let ((binding (binding-in-frame exp frame)))
           (if binding
               (copy (binding-value binding))
               (unbound-var-handler exp frame))))
        ((pair? exp)
         (cons (copy (car exp)) (copy (cdr exp))))
        (else exp)))
  (copy exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPE0GJWqC1AFIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKBl8JQAAHy14zBY+LqpfV2WYh1vXUhYfB8A4IQ1Y17Xdb9QX0kyO2TdiM2ndSMcNTd2nDoV+4xAkYQGG3MFpcoHY+iDuWE0FrDI-CAAyZPen6QYk5HdkY+YMR7ph-nnY+r6s4G4GBdSPOQ7D0E3asugS5qyaGfMQxfGV62GHwUXG8+v2caC7aiON-kIoDyuGAtagxDoT66Aj0eqKCwXq9qWud0jqzp9n+edP2ied7n4gF6FjvLf-JfXyHjP9BvYekz9yYD9bkG3Bn4-T-Rgfr4rh+7RHhrMefNOKC2NEIGcFRlBsB+llOgP9lgryruQYO69w711AOCcBp8oEwLKvQZuhdOLYMgSYPBcCz6d0vvbX+8t04jHvrfQBstn73QniQhguDYGxW-mXRBf8mGP2Yaw6GE9Bbgw4Jwsh3DnAINiEgoONd0Fb0wRIxqXD8F0EIRPNRUjoEyOyu3KhciYg3wYY-f+1CWHAJ0T9Mm6jpGaNOn1ExuMEyWLvo-JOwCiEeUFjA5WwhyBi3hoQQI796CuIUWvUOyjjZWQCSwIJISwnEAiVol+sM0QfSScE9cWNJBkEMFEiuNxsRGIvt3XuJduAeO8Zk-miTkmW2EL4EpdCPHCJ8WI1IIkhbMC0Hvdp8dkGoNiXXFR4I+kfCoMQPe2jX5uKSCk8JhhZF8PkQI8xdpvEFx6QwN43FUQ-ARqk9JwzAyrxQUoiZ8TQDGSKFg+gRznAnNCas5wCyskqGeSshgqTM5X34XQ8ODBAgyAwXiBpxDfmnNIAc+gxSNmmIrqC8FGDSRsMWYcv5nRF40OBQmNFlQME6H9os-WbRayOFLkCzZdCrljI3viqOmDjDtBPsoYgXz+aE3ZdSrlbswjL1RXXcE-LOXcu4JHMIWLvkSppf02Ze8kVX1iISragidmj2hR5KopAPhKsGSfFlwraHuNvjK3V5hwkzhmcaheqqZZmo1S4ZhsrREUtSHMzQuIFWCqtSKhlisMhWI9S3b5-j1h2oGXMk1QqhIKJdlkd13SvVNS5F4VxSzA4xOZRg8E7APBeB5ZxQmRblBZuRTm4EYqK0lulaPOV-N61NXwK07NZjBhdL2emjQhAQTclRBc3N1y0G3JltvQgA7qBDs+dalwAcVlpLWZE6tXbPHaqAc2ziP0xBOpNuazV2yU1eJ1Qu0ADkp6kH3foIgLr6UjLSKGu9hBw2+PMPqw1e7X0PpRR02+96L22uvbeoDQaEw3iA72yNqROr6FOXHS5oybk7lOVZYohC6YByZnIFmUA4CIGQOgbmeIQEeXFjWWZGCT6VkTRXSlIsxYSxoEbDWylSjUmNspZoxd+5Jw48CK20lKGVN4efLuPc0glz9twWjUwVi8dSBwjRcC-aCcowuFTji1MqPkzxyeujVPDoE86UomnTqo0kcZ9Zdz9POiU1Pd+u942mcVOZ08Tm1kuYXjRugdGDNgOedQY5C44Urts+xszLRPOHJC68sL7yItrrs-5hTJlJ5NOCeF85bmVilEJgHLcOTkn5JLloA1smHlXiy22jtSd8J6WmPZxUjn-W0qi+5mLPx2tGCpZKo1cbHWyZaGlwLFtM3qeixZ+tfmAsOcntM2NQy8vyW6wuJbyrXOpfm61ye-bB26dHoJg7bTNMdC0PoJdOXV3wIa6NujjW0Kgqk+jYpe6D1Uwe5MAzZlggFtsvZJyLh24L3IPDLyPlzuzKw4fadbA2nIm4B9oSA4E5dQUPFysjUivIkmDjf9CZTv-Ix1jnHr8rsOGRzej1OZnz-DR8pxQhB8DlDehTvH60YjvjSRkYq0PLtLpaYjhwVNquxgRkjUOtGDz0CGeLtCS6yufQq8UvHT2mvTA+xrzXRRrv+dl5-MEnOgL+gY704GzjayjBpGwWW1XSh9PRgihe8bwl8-S3tn2oZlgURfIaP7m4keYMBw5Zy9NvmUF8CQSHgh4e+BqjmaGH60SgiqVbtJCHQmGDk2lgnQUr0faz2+z3JRL2hrks0LCAuvpfpnD+05YRc+PYV7Ww1r2GLFJA0XxvX35Pku+RZuLoXl25Z20h3NpBrc1-0DiuFJPagjf78ZDzVHLtz-eS7z7zfS9NHWxdr6G+wlTzt0vtLMH+YWd6zKnfONGdiwUL6oW-WaUJq54+wM3vNTkj9wz4U+go1DV7UhtTV8coIVggoZ869BsVtjYm95MAp6cCdYhGxoDI4M9GQHkoCDwgDltttnUqYECVx78nczo0DjYM8wCHkgpyCZYM8mJChf9kDhIK4r8X9BVW8QNgCVUE1OAiCswf9k8J4XtRYHAj5F8+40kJ9J5k19BJClh8ty9MgVwq8NwIRIQxDnMNQ4RuARCGBNDvNfYbx5DWEyJ7lx5FlDBuRGBWdSF9FNFPs79-9KUOVX9vFmCfl3gBAZVGR2sYCTVPsGCP9A4fUo9n9XCA04Dd8ihShk0Hk1hp0T5M5rDu5+A9FyFUQ1ccCY0ttfMrUxdddqQUjbD0iDF3gBJbhGpetW9NcuC8Dht8jHxQAmDwDgjJ5tN7CjtOtot0EOiMjyoKlrYn54jDM7FxRSjNEptVwFI64jMdNYpBirEfsrxmhk0AohDFkZtJs9M88oJGxhdGRW1hc-YmJGxuw9RfDii0ibNEVlp21fBTdudEUBADCP5agmYgQ9DXjZ5F9zjac2iZ9hcddnRJckixYDd5AjdbxuQ9RuBviNQc9vsB9L9PNNsHUWVb9y46FCZSCXEFcZ8+kbtItZZgS9J+8L9OILMj5YDJ1vscZGx0ZGQZ9qSTUM8z86MmIj5RMu5v4WTT5FiRt0Yd8mIgp0YKSKNYtniIEJiujWV5McYuTFi2S+iyjuSljSSZ8VSnFeFR4d8NTz9PVB9PM5jOiTNx8FStC1S2STT+jDEJN1SVwZ8bTVSdSNY9THSDSIo8AcNmYlACN2ZiMuZLByNzBV4p8vp4ZpCIdxJ2RwzxTrhKj2csl9BldCkDVuAgS6SsSiUxVchH9WcRAkyCxwRST0JYEVcikMz7jhTDSi4md8y2dcdpDGVUNjcrI8yWdGzX5S09VX5-lyy0y1dpDiUIUZBuAoUd1eysk6tEdhy090UxzQBMVazOJ9dKxDchkZA5zDUFzuAyV4zRJEzcTrc3gkZD1yQgp0EplLd0YSzPCzyL1BZjyvp0ZmyUNx0dwhTMFnyeybUbyGIXczzvpKZB4tlu1H5XzkTKTHAvg1k2pwT1zIShl5TszAwbwiCI1+ZoDIYENdiLywLcKOSVyKMYL8BjAmpEcClMTCh8K6EsJIYazzhGxKAY5QjcQZckKTVGQ1iQzDy7gcLFjES3tpDE57ShLO8L1IY1S1cClngaK4wAMRgaZJzP0CkM8ZKS45L1UFLINH5lKNjB9EYwSOK5dXMxLepESWB1hGoULaKiUT4xAWKjAxLwgYyOA2onLTwFDosCZEyBLzKKYm9QArLyKWs9t3LHLVBnKqFhUAAeYEByzyzobyv0czUgcyCEAAFStlABuDoF8EEBvV4BVSbHh2oFqGaHBFAAAGp7lCiDY5ohQ2lBLwhaq7yqraqajCgGq2omrgKJhqtTJ0r-twRsr8B-piBHJCqxBiqAjSqZ0KrMEaq6rdceqxA+qWrlr2rlqurYg1q+qvK01vk8orTxMqFMTyQJ5aMw4rZsRbKVgJ4rDbZBKLL38WDg1n1XYWrdrzN-MbqiB9BdrChOVYKToTKoTl9NdmhFjs5tpvrCjZhb5DqgbQBobrDN1-wXKbQ7RDrHjWJiD-9aNs4WKbLH8wjwa943qihA9oqL4rJbJLZyhL0m48bGCkDWiGhUCClGRsKClCLWbpggonr4EpLBKrtZLSzFc1K3txbNKBbyJBCdLAxrr0Q7rPTeKmQP5TqzpFjeoLqkRNi-rVb+aPDHr0aXrAqqalbA5ZD4a0JfrKx-rsQgaQayKwaITTLfNIa0Job7TYbLUXKurSh4JtovLepoiFthaMbabrYgqbxcagjyIVqGgBwiaYySaH8n8KaTUrbYgabdaQ86BGaRBmbPpY8+T95E7mj2aHkuaS4ebsi3o+b+C-Qhb0bRaxLZbAZJarwpKZaaZ5bmjFaASjbbr+aC5vTX5cN5A-S2YiNOZuZsAU9J4wlqBMcaBscizh08cINkNFEPzjcqdMFV717qBsdfyXAT6ycGA16B0QC1Md6j0XAPFOcC5CpScN7ycskPi28wR0wry5g7zYg5hVwCiGgryOQgGYgORQHgSryMIoGeANxYH-6xVw5EHw4UHpgrznZQ07zcHMhnQwGigrzuJDAB1yAE9uAyGKGCrFRiHCgrzA8oHA9YwGHYgrybgWKp4WBDASyuHVAeGmYVh2GYgrzqrEHYh9B4ZuAHjAQAA+UACHWquh0R3+iETySRmIaR2R1yxRiHHyVRuBsVHQ6YHR0AORgEfR0ASECxmINRq84ALRgwGRixvRpR0AMAIx1BnccEAAUmcfMcsesb8bsdAAcbFXEkkaCfcejKlAeOMd8YAEJJRonXHgmPGUmgQEmfGwRwRYrAn0nYnQB4qYgcnsGxVYqAQtGYmFGPGqmymInfH5HCndG6mIdFHGnEm8n5HqnuAihamrGPHemuncmIQknnGPHCghmYgknYhIz0wCpnieAP6z6v6CxpLAQVwykhgM5uAr7P6t7GYlmvCVm17r6l18AWAAArEwSgD47ZjQSnFwIZ+B1Z8+2pLVLIE3Hus50+zenDNMSKZZg5tZrfZgR1RkdBK8r-O8r-NRwokhsVSAOgb0ELKhmIFFtFqPBFxFjhsVARhgWASAKBwl4l3FvF9R8EQlgAUUQdpYpbxavIADlyBmXnHWXmWI68WTmqRQXN6OFBKtmVgdnhQhntotz9n3nGoSEPV37znDmOE3thXphRW6mX6Lw-nr7ZWgW4cB1cR+X1nt6j691w5pDidXo1RSAEcTprnyBqwrCupNBAaCJDWb7H8OA94H7RdfnChTXQQEQigDL+ZpwsQEKNz41pDQTCzs7fMFd+0kiUzpWjm7SYruAUatXFWpT+Ssb43EjkY3XLmbm7nESM23WlWJLfXoHWKyb2KPajdaYOABAM6xAvgrKwt6295fD4xCBw3OLfMgXJ7v7fTWZCMOZMAMANbTyKBTAGAOUPhyobhSAs01E3zn1lZVYPFV3li1tOkIKxi-hn4tqGAOquNDZ1qZA2kt2D2OBn4VD6FwKcab2HwVKXA8ybhn8ystBAVz2-1CdAxyBlBlBiqMhqMjBkcgP3GmZar9BAPlBs5wQqrShEPUbMErJlq4PGW-REPG1f2L0HB8ljA1Zz3qd91SP9C6BCP+poI7LAw1qtqIRlr33gljAv3F8dm90KOqPSOJgtrrBwRX3pQqOmAyAFBYOb013ZC91ojkPk1dIMt-E65pPQBU5lIACQ1XYbxpPwgdYH3o7tPQAsnMFMMZODBtplOYzwRMMV97yZ2Zx53Yol2s1pPjJmh1Op4yq51IllPVPVw+Na8+yiTvOJOd2utwRGPaqCOfpyKKsxPzOadxO1p8dOrVwqrT2lSpNJDnmNmgv4EDOUvYw0vlqouDVGpYvdmT1Ev3sQvkvqt4R5OvdKPouvpJJQQ7y904SmvSuRPSBBJojHMsIXPFCSuiPwQEHdC654u1psashtPOvhPYv+vJ41rEvTPwQAByU9vdLazb+9-ay91bwTkbxqDlUgNpU7uR1Cm2l9T6DdzcbaC7rDmrMVIQYQdq4IdqhyHSbeNwYsdqqfDgeEULmIoT5rirwYR7mb-QSH0H7rxb+9478H6H2sM7r7G8GH47udlHh4g80AO1h15QJ1mcZ3MJDwFdYvNdg7WdNTRDFcGY3xqnrzrRamQLpLc5RDKt3Kp5-H9YQn6gTQDPEnMntwHjin4H1YGQmTWnxQq8zDaVe09PLLxDJb05XHi7s+MHeGIXrlNwCnpwgwQWRnmn0JKgzm5ZpdGGoEFcDL6pfua7Nn27MXoI9+4X4wUOD7eKJ59X0HZgLX0nnXxEnvE3gWmgvsy39SBBunpBg8JH-3lddeFHT5yruP3793mnO9xTCPDZ8PiSdBqPlPt30DQwe9i3v2yznnx1-n4nhiBrkH+isP+0znnZivvngXkn+QAP0X5Xpb+v6cgugvhP9PxAyMfUe-JX4P5Ay8sVOX6kBXzLqX4P4fyiVoyA0JdYiwyPaPL6RDUCj66vE3qP7aaXjLGm9DQuoHcPXL9kLfi++8gIvXq7letQ4-mYP8Cn+90-0JemuyMPFwK-08gIrDkWQWhiw5USgPgCaiNQBgFQQYDv0f5R4SAevSziAOqiCdoBXmUAdlGOJwDaOz9W+AAOGzK9ceBsfoAoA84kBCyFQGBL4EXyGA2QVAyhuvEMCkhd+T6W2lCij4MCaBocZgU8HvZYQ4aUKTnk8DqYkCPo5AsElwNoGUBAg4goiEIIzaFEpBPA0kI+VdzWt+gm9ZQUYHoGRhGBKgyTi+joGmdlBQsYkHwMz4CDLUCgtCCIKGbVAKsNsLQXoO4H6BTBvAp7rGDsGKMxBZA+QSIg34hsZBpAt6DAnVhPNg8f7GtDIDCFIx+ksgsTr4IYCisj6EwQTjEKoBxDfBxHUgYYK+rBCPopnOIpnwcFkAnBDiagYvgeRw0ChgkX5t4P+ixCT48Q0gTkLkFnoEhAQjWtG1DhCgt8oIeNGomoZUBqYslekss2eiHFiYL0RgDhSGGYxNKIpCuJMJjJf4o+PQ0mH9CCSsoaY-AzIWQEYBcN+Iz0Nks9C+zbDRhiw4NpxF4gVZDhoUKKrxGGE7Cxhj-SGAhxkBJhagVVKPuCE+F7BvhH-doJ0BTIjCuIVAcIFH3eExB724iH6KCJNjrCjKhZPoZSAGG+Ynh4Il4ZpVhGpAsIvEFOGnAThqFthpnW4QcOSEPDo6BIznoqBvCkjaRZZSgHcMpF8Qoq20GkYoLQjbQGRXI3urJSW5-Cvhb3YgXNCbaGJah0jESmoVcYNDk0UFDyGoBMBeAp4jAFAcOnVHOBuA6vTEerxpjjDTmRwwRu7jtyMhyRyyI0cjzIAGswRmo+gOm0pZoQ9RslJYdiQeFgpecpoyzv8I4Bvco+xQjLHBVbaSAJRCQiomyI9G25ZYuPXgORRagIwERa7FbhyIhEKjzAaUFoR9BxBshugLAvYssx-ppRsxZYXwMuWtrUhs4X+fSEoTYCodDAuPeMVryJA9xExBoqkN0EZApjoxuA0YoeD8DhBkOmGVDt0ALhNtQAmVAABI0sGAAAQXADgAaWAAJUyqQAAA8sy2QBAgeKy9GQJIDUAYDtIjMBEXcMuHYxH+sYxqI2OPEHDTOGYxsQn1+6Hjbi5ougEtwzGdAFwdo94IJ3fGZADxmREQY-0nHTi5xC45cWuI3E-jJAN9GUPDAfFaQAJL46QhmOyGNiGAzYiFEhJ+4ITnAnkXwUAO+Teh3ej4xCfsKSCnj+oPYpIRkPCHO0rw2w4qgoxqJKjK0qo-8bIgYmWQkGzIg4RRM8G7iIxX44pC+L4mNtJAcQDIDKwLIVZGQAABhODL0agjkMFJJPIGHZYo1AQYFdFUm5AHAMkoEADykl6TtAtVPEK6ITCGSEUxk0gIJ0JhKTLM9iTYaNEslG8NJkEHsVhCs53ksILkzzhQk0lQ9t2aYlwIEEkIOTxQqQaoNkEknrR3wqk1yeVE0ncVJqKkyRAlOyiaTkol1RZMEMaiOROgWaHARAXNyWY9eDyArImXslqJi8AQeKX5LcncsYgA3Z-gf1jClAsIuUhgPlLYBZoj+wfRkdA0CB5SCp0dbviMVV7D1-2bqIaV1JGmGTgpXEYgBQNCDdx4EZ-eYfqKggTxOp3UwqVTXvzwYHwHhQUITWBFZB5hR0jmoqGuhxkHkLRVvPsSmEXQZhTdKXnxKrrFS6ELASseBHHBA1SgnwqMEDWaA7SRpJw7+CwCaICFoI902MAomryQiCIpQUGT1KR5HTdOKMrNOhXF5+hmggM4wFXTYg9jMZFPXHj0JvqiwWc78P4E5PJing+JbYgQCsOCrTCYJr0-uBtJdHkgBwkwozvCw8JBQHATVVkccNZkQzphX2PkbEHpkLDAYRwZOtXRH5-4DecGeEaeDAKIs8AkIbWSuH2LTCnpq0NmXMM6DvSVwQUXmWBGDB-S2p0oYWZaKGFSzwZZ0M4ShGgioRdhsYUyMiMGDzCZZ+lNmkrIFj-4Kgy01IJEhlmcy5akQTxmAG1mQgzZFcIUQCJFE-4a6n0hMBsN9kmzZZUMRgtcI8hCzL2Isx4XuF-CbSex7w70cKNr5l4k5vomubEFMhnSUypc0zpDFxGlTCAUKBWWXnJl9CqZayGmV3P2ZlzZKHc+DIQBYFIipcFM-5GRUHmPBJ5+zNkPqJjk2MdZJQvEWoS7mEin+MfSeaZ0Lm4hLRN4HeQNMKCnzSQ582IEfOLmx8bBjolYByKvlSyHqAo+9nXO+ENjekkktWLkXPLliWyB9P+eiSsiGTb+bwaBLGNkTzTWBx6R9vsBinAZVJxxWBY-wIanoAEj8eaTjJiD088mnQfKb4Crjhl4Q97PdnaBwULTicwSQydFPJg6iyJdAbUdj3ZmUTXgyzaBP0EYCGTGQoUkuOFL+CRT4E8004ss1vkmjio1WW+ZaMYU8TyJfIyBWeEd5cKhAqUvkNfKKDOirh5YiRZ6PSjqQfRgIxQgGJUj75ZkWPa0fQsajHFVFPCmKbSKDHijGA2QvRVGJ8RjjgJDARcdZAAAyNLTcTWIUkTwBJ+4wycJKYUMzzxcY2CdeKSC3joJ940OOEriWvj72v4jbJJOKQXoMl6i7JXApcBeKfF-i8AFBJnBJK8lqS6QkkITbIxxcKEyUWhIwlVLNFhQKZJJLwm1D4QVbBpWGK8lgKOl+Eo6vzGJwpKRJOc6pbUNCFUAdm4uXhUMxqI0L1F1i-ZpEomVVtQlxorJaktEmiiPWJ3bHlaLO79l5FzCnOZmMEgFKz2IQmibMrfn10FlsYGpfm1DjaDW8RE9ibcTkUnj1lreBoaMu2XfLeJEyhFqLVqELSa8lis7kcp6BgrOhjM0AK0GRCMgixCAr6DD3BCQqLuieNokiocA-SrZGoKPmsn2VQrzu2PCiRcqW54r4EBA+5jCq+xwrch38mCRUHhhLQCRVy-WDILmix9UxDsXsXypYTEDwBgQT5YwFehXivx60e-I2KWjSqqajYDsUCCaXlgWx0qquo2GA7pVWSX4i5Sqyay9LWh3QbCZgLoCdKEhOKhoEVBxCmqnx5q-Cb80G4kStRBgdxtqtCn14XVoY3IXjVhlJ5MKnED4MEEaiWTJVsStBeSEKhMLGQSi6BZElEXcznCwitlRyqYWm8jQyzZVQLFgnoS1VmE9NZqs4WJBPV6i-VQCCBpGqsxJq78oMq6WD0bVNa9pRwAtWkCSyDyHyZJO4ANCPVrJSyb4KaL+qFagQ3dMIGSWqTgg4q2Dt6tfFcqf5jwaVT3NiClB0BdC6Vfe3QFfjp1OE+gBek3Uzrt1Zq9aMGrFV6rw1bKw9farxpRQ2AxEnde8EZBeLQJS4lceuNKXkgn184l9RBMCXOr713a9xtbDvVmr-iU0zBBiAE7EVzAq63+ZGu6qirQ1qk89QmMTUcLTmQGvJY+qnHeK-FASpiEUtw2-q1ChkgDXUww3hK8aQUcEBBpZVsUXc1zCnL3jnWfUsgvedIY3TeAMaUQxeKIRujY1QaQpaSGcJxsejFImN8Ax+PxsDV+JvUtbThCkC40FgeNeQ1jdnkkqN0yGimsEOJp7F9SS8gnEDJptE3Karl6FNTYJxqBiBZkocC7iZsf56b30y9TjfgCikiaUQiJJlYUOY10a3NSm3zfczblqVfB97ZzVFJAz+bikEWzwcDRYwHKrF0BfzbPnoBaam8WAMwoUU819cC4Nq8EK93apYrsed5ULa+OCWLJNNLm+BEZvc2UqB13muTVVqU0NaAt-oivCUPUHlCpElQwYOLgK3xaNNCmx6G4IG3ubGVQW8FShAaANDytYWoTfJsMApaht820TWLnS1S0BFA6-aDlo+5WRetZ3O8tNpK0a1LN1GbXOctq2P9qJYQu5auErnyM0tioDBQhli1kq5CxAKzd+xe2J9X53VMUSGJcWSiB6tgVbcuupC-bwB-2sMbsLdmodk0E2vXGNs6H3QctX3fLc9uxXcBjtWgXVpsTgnAdLsRUgErFpqk5xGorbK5ick7Y51ceLfInmyVO2ZbfQQtKZbcqebGRbtxkBGCYH4BfRNIELGgNRhRpTcgqDFFGh1Gph6NFBNNSsA6MfkxAbIP-YHNxLGikBY8HVNLdDraU06q+GeIHo1ODpg6fVWYj2Qtlh1s6EdzK6GDlq11t8a+O2tHYVu4DW7q+lMBSY2BuBa8aG1AxkAAE4TgE8T3ZQwuVGB1o-uniNQIuU30KsasDHftOTUsa1YGap8IHIHAvMpQsk3OjEAD1tJ1u63KyGgHz1WrWIacv0FnqR4fAoZ0wLPRHpCyqwkhI8L7C4B8gTkVwRMwoFXqSE17NwiJd3XNtobUK2ARCkhdbg-ghqat4Kq5ZlqR38AIQhCyhkPqlSYJdtGLWfcQqYDhlsd3yAvi9uqBFQTwZAS2GshxYIrWgjIb3r4E17a9yeVHAApR34BbUjgQPJiAOGxykAD96LQzupDWTuV94HhUveCG8g+QC+iK7HjmqKgxAAD-kJdZnrD2UN9AmPWza0GOCKzl+LEAcHqvAGQCp4Y6xfIgapowbJEk6rdfuvvUzloeFemIM-v31u0o8H+iSF-pNTwhjpsQP-QAe8hMgzVggbA6IFYPeRIDLRNiMXoaAsGeDwB60RtCjFMweDvBweu3slEPIkh12-kQ8ru2654DhyrkbzogTdRLsrQCid2ul3-R3GdGaLeYq0AvbdDoOtqM4qD3yiREeckdXqkbpCBDAjkVWDvv4CxTlmJ+oEGfov0F9QRpXG-WAbaoP6middT6D-SX3Q9pUBuiHa0NsPmS96shSGClRB7ggHIXPNkXNCxHkBZI0EZoGoasWaGF42h9FUn0GApGvsYuww3U2MMNivCWh6jGfwYrShi6ocTqAwHUAiAOApAEPdiiIBnYTeHhA6fCOV5MGnipzZmScNeg4VmjXMuGcsP1mrDfpRKpGa0YLLtGfonR17j0eJ3G6ViPyQgG0idkuIzhg9Jgvfn36EBE910iuFhFyBHG0Z-Uw420jM3XHyDyB-3AsboQTSBCec8sQ8cGPXHstHfFdC9vW7qj9AsugADpYA11LypgBAJkDBAxOsOixro3xxoRc9qiKg8YBqhb7bNEJkiVCcfmwn4Ty0xE29BROgiY+vAE8F9h6BYQ6ToAAAF6atQAsJooLUtDgYHkTvXaoz0DZOYm9I2J8EC-oP3co0wqEA6E4feCuHNwEJhE7yepPpMJuDPdqiwHarKB2qb3SYOtzTB4ACThyxUxSeVP8nVTVLXI1ZE1PtkdTQPUU-5CAA')">function instantiate(exp, frame, unbound_var_handler) {
    function copy(exp) {
        if (is_var(exp)) {
            const binding = binding_in_frame(exp, frame);
            return binding === undefined
                ? unbound_var_handler(exp, frame)
                : copy(binding_value(binding));
        } else if (is_pair(exp)) {
            return pair(copy(head(exp)), copy(tail(exp)));
        } else {
            return exp;
        }
    }
    return copy(exp);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p6' class='permalink'></a><p>
      The
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      that manipulate bindings are defined in
      section&nbsp;<REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.2' class='permalink'></a><h1>
    4.4.4.2&nbsp;&nbsp;&nbsp;The Evaluator</h1></div>
    

    <div class='permalink'>
<a name='p7' class='permalink'></a><p>
      
      The
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      
	<span style="color:green">procedure,</span>
	<span style="color:blue">function,</span>
	
      called by the
      
	<span style="color:green">
	  <kbd>query-driver-loop</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>query_driver_loop</kbd>,
	</span>
      
      is the basic evaluator of the query system.  It takes as inputs a query
      and a stream of frames, and it returns a stream of extended frames.
      It identifies special forms by a 
      
      data-directed dispatch using <kbd>get</kbd> and
      <kbd>put</kbd>, just as we did in implementing generic
      operations in chapter&nbsp;2.  Any query that is not identified as a
      special form is assumed to be a simple query, to be processed by
      
	<span style="color:green">
	  <kbd>simple-query</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (qeval query frame-stream)
  (let ((qproc (get (type query) 'qeval)))
    (if qproc
        (qproc (contents query) frame-stream)
        (simple-query query frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyPkCcgFAYDQSBEBgKjYchfFqIw2U67ragYQxSSouJ40DFI0gyf88SmGYuMjQbhGG4knhXZosLmPrrHw1cnkBAA+alKEa5rWuIdqBp6wYGv6ZqiLmva9JeoprqGkb+XODiPOqLRSA4chK2IDqlpuvruHelbPrGoKpvSTIdpXUoodW9aVk2jchn6W6nuMwoDoBY6-rIQHgdBrrwdRkanme16YkJ467qahCdq+2qCxOs6GBkLrKBubFkW4MJYYmlxeaoLRGGZhQjFO+6GAF-QhepdmfvMCXKCl4b5aauWzqE8aEkm1IEf-XXBOR0AzY20ASYB-pyah-R8e2mXdvxxnQE17WZf1hWiItyY0wi9XRNuEGWGqbi6DEfRq1IahxXos86ygoKsITpPkKrBiQ6wMPQCjkRqjEBgs-FfRi5jsRDaC7bq9L-PC8b2Py4Yqvo6b0XjZcG9W9r8KC8uTiB4YaoeYoBRiHj8hE+T72p7T8kgrbTwK5zuQmsYs5h7q8xiAADylwYN6XXPU+4Lfp7rsWeCxhLI672PZ-nnPcL5K+l-zvfOaPk-x4yAYJSUEl0wRny4FxKgX9t6G0bAPRkY8J7XxnhAmBN8mJBQQeJIM6pahW3-pdU+c9s7n2ENAxesDba8X+owG4fFVCdxLm3D+TCa67SgZQdBO8Ip4DDoYReigIAwHgEgVAaA8RoGJBzTiU1jBsCAcQXC7kX4fAUJQW+vc7am14AoFgZA5bqPCKAAAPiY4ycjTql0MRomIZiLGpBYPgfAgM6A2PCPYv08MZruMKJ450U0xwancUPX+sjUjMDEBIFa24wRqK4eyPo9xa49wTFNLC8TwgADIsm9Bxr4nBlAkmRNCYXeG29fHpzvlNSJ0SGCxJsVZOg28arfRHvVXweiXEMHwEA5p09KkrzvttQORif5lNSBaagYg6DTzoHE-mtjXxwwieQKJQ0GnxKslMmZcydLN3aeYHZsywHDU6U482RiqL13yTeEZSZ3HByHoXY5ez26p0GbEG5IwbyjI0ezMJv1UjGiEDOCoyguplXoJ8mIKzkl1M2YsqyIL5mgwhXPLKdBWmAvMCisFJhIWYrOV0y5SzljfMGHc25DzMlPN3oXPFaLCWxVYZk65wzqV2j+XStp+9kipAgUyjFqIYVGzSas9ZMTQSNNAOCQV4LmXOGxYXeVBLhXlUMOclxoqKX6CpT8mlizg4HL5bnN+HAhVQsYKyo17KtH3K5YasZ4zDn8vqU1Fg5CGBH0IIENwzgdXVIlQi6VWzZVdT0V6n1frDBKpNZzCNnryAMHXEvf6hhA1aKVpqklPS+nb24A60lPKcVog9V6pxwhfCZoTEWvVTr-kutNVNESOsqDED2TWk28KNmhqRbK1tHx217OVa6sVSRvWH19cQf10K2XLI5Qau0tLSljqmm8biqIfjRpnbGudtqF1aJqWskNO4w340KOCDd1At0Lh3bOrF8bOIbsnb6lNgRboHvJXfWJDBAgyBlXNZ5Y6X3RuAfQDN87v1aN-f+mVpJgOmtA1O0gLU2ALKuYehMsHKgyp0E2zmci2i1kcDPKDXyg09qlWe-t4JjDtEusoYgo7TWP2GsRxjZHFkiyw4GBpdGOOkfBMLbjT76qCaY22rQezIMHtiNB2tnLi1iY1geD4UmO1gJsTxhTgY3aicQ5zP1M4h3SbAbJ9ROmKNaL+WEQz4TvUKE0LiejJGmPaaEnCs2Hn7NAvdep0zmn5kebteK6aiNbMAomQwdgHgvCivHW62pvaaPqKsrF5QXgWOczYxl+L5HYU-uleCPLwmTpGN8+YPLMX8BVoS7q7lBGHOtRBNyEVBXEvaKo-UvtaXZUteoG1uNlXxautfTGgNHWGsNrVmOueYgLNkus4ppdWRGsqZcA5FqpAFv6CIFZwrR6dGI32xt72amZzzb24QA7nXtqnZG+NdT82M2ndC4GG8D3d6lq6wnfQPrNFheS9RsEPqrLFGxT9mhZA6GhUYbxSGFCUGA8DCgkcsqZBJlqOCUAVtwSY72Nj22xHOj6AR5w8IVs0cxFtlNP7vFKcrFKIQ9qQpwPvFAcF8n5CEnI9p6kLCDPQA5K61hHn80iilGhxO+h-EbwM7pq9G84vFcvWl7Dhh2MRgK4vfTIo20Ve6717EZHEvVgY6x8IcEq7TWxtjhwSg2U-aHxRy4LCh9uBezNk1jyagTBeBaowC0xYA3B+0s4bgDHSC4nJ1H3EyOxqNll6oP9M6MjFXV4rOH+g48pooWH1E3AjfG5iLn5HmC77J9TzSdD6P8eW90vJa2M1bZ27EA7p3FsBJw+r+nn35heDGHHjKQ+ZOqCu66w1ax20Gf95cGlHWZ0cRsm6KNKCjYBFAjSsvssvgENDK0ZvsCwZxz6Wb5kUAzRDA28IyPhgRJelj6W7ERs3RGQz-HxXo77dDx+HCKUcECHS-UAboUJB3UAAAFQAAkABRBgAAQXAHABgIACUIDIAAB5AAOWQCBDNhOB+xkEkDUBajcBDwgyf1oW4Qn0HxBmjiPkoJhzN1iFKAX3oMPiGgL2cAzXV2YJiGaAX06AXC4Ig0e0EMyFIK0lRAzQn2gLgMQOQLQMwJwLEMkGHwqA4JWhEPeEYKSAnwXz9nYPv3LEf14O2TIPD3oE8hlkh0Lm9C0IsOkN0LoGoNSUDBlh5j5iVl1x510SOmLxUD6Ey0D0kPILcV8Msnvi1hh2oNV2mCIIYVCMsJ0PV2oJ-nANIAyBBlyAcH+kZAAAYCDC4ahHI-0siWpCBCBWsiVqBBg65yicj5ltAgRMiLVGi8iABqUAPEL-BMVo7I-AXIsgR7NjEon-UhVBEhBefoioqowbGoyCA-BMLCQAsrLCGYgbIbbKWom0O0CBEtH7QIfpEGCBVIaobILIuBCDE0cozYhYxkMYjYyo6o2KWo5KckQueWEGRyToeLAHMaOMb-P7f4-GUoUY4gUoiBf7KdAIW454+Y141MfGZodJLGAHUE++A8PVQIb434rXQYAHD2JXHEhgH4tgeLG8QkvgpoFoKdAKJYj7Eksk+LfoufRaNqUIHpNxMHM1CY1wqCT4pkvE5eFYAcOnOef7SYAE-sYUf7doUnNBFoKUqCWMIKU6WsJiLMZ8aMYveBRBZ+MuZBJef7agzUv0LBdHIJfBemUoTHKMAI2IZoL40kvEseVhFgR8ZiLAaCCiF8fGOFLCOsYvUoZ05k-EyUjxExdkIU8k+tO0B8YvZoO04wM08ickQKO+UM4UqdNklnFaNnQgfAf1P4V+Pki+fk8keBA0-U5hQ0xgFBUshecvckAcBBAAQmPzwUWJWCCgcCFFxGTzYVLneVrCHNjg4QdOdFPFNNx0KF9P+DFIFQlNPGVONzwEhA3JXCrNrJrJrmH0ngqWnMoQwRXCwWrI7NHHAnHAxL7JkAHOzzQUnOmDdI7gHg9mgg-LzG-mRNpJPkbPfk6FNPTO1LtllIqA5NSGhSPMVNN0iFAHXM3J7Lvnr0JytwChApVOW0DDzP-PPiPObLnO+0LlvPvM10ID3F-ATyqS0TRxwRQo4CtzxwJwYsbxUhaHlKyHIu4EIFJCpyXn5x-zJzmlnKbzzMARTSLNjRLK4p4Eou-Ixl+wlJ4sZ1EuPiIXEsLOLMeB4u4rZAT3grAA3MhAEsF2EpF1RKxOUqthIqz013lzxmN3l1JDiKvBssHJnwcpL2dBn2cqfKvFN1tnouxxvwc36LlmHTAQn2PUlR6xowivmSsn6Oy2fXoAhUHwDVZLcJcDrVZLOxmMrWrUyuorC281+QeVyupIUmK06B+N8AiUyOY2pOaDrVokuKizm2eNxGTTCv6Mj1rGjzz2iKSD6rIHj2-kT2uJUFcTKIZBaMum3nGPFDOLcVZKYkbBsr9XT0ZAvTcuz1z1SL8teFSrPD3TcQhX6EYFZJcoIjL2-l6MDA2rT1rzouYqJyZ3PzYGJ2US0AYDjwuItQKv0HOqEBms-mLzbw72li70epr3+TAMkEgNgIYBQOsgABkYDcCPqiix0EiSD+ieDJYYjjyRSsLVQh92DnDKrxA1D2Chp8bKbbZxCFx6azsmbQaZCsrEa4CUb0bwBVCZxaaVp6beDOaPCLoRAXYrwDCu8jCH8AMzDDrYhwR+jrCLZ4RrrChpal9VjEqsjVazp4Q2SWtcRhbCbhriaJ8PDNZvCrx+ijoRK0JjaWpQb-rIFUiLaNaTdiCU9TahqXCLa2TY0nMLU-r9qzb-aUFF97pLaLZPCqAbb4il57b8YxbKj1LnZi97CkinCw6-bYji8vYnb6bc6qCA64jI73YQqPJKBfASBoTCAoqBc0ScyrZtp0SFKzJgh66rJbJ7InIXB71Tr2Ra7GrHs3gpZKAM1-jiru1AyW73rKT56TIWhSBzJu7ZVe6HJnJaTp0H0VB6AJ7DBIc+FXUBE5AhEoA4BEBkB0BJE8QZEPIlEax20ZVLpKxPNKN5FFFvrrFMllJShyspBnQUTTYKk-7nQFJnFpJiULkRyyMtUFxek0gwGjVuA37qT+CutGUFV1V90jF-6WhTx2ch1UUcGrVX66B37lIQHFq-hLVMV3ECGn6FxVV0VyGw10HqGutXktNwHFRmciGeHgsOHKGMHgD116BN1nBt0UNd1JsjUmGiHr1b1xs5G8GElOHgGutE0o1ZGH1GGIHQA2Mw4txy1k1U1t5013FParwdHk1AbMkbHVxNHFQaHXNOMDH+HCGfh3HSMjAJMQZAsZNrGWhRGuGpo8tPH3rmGYsuR8t+0XGFKW0xYNNO0+HomiHB1mAzNhGEmwmtGpo7j2sFHDHjb-tvqZ4w5VH9HHHQn36nHChf0kGP4M0XsQn0GxHTJV6u6w0bI7It6XBNV5lyBD4vIfJmGOgtBbCOqqjq0VYXshJFz31qAFAb1qByYTHkRlTDRV5OrlnVmaANnXVlYHBuAFmwx5zQKDAJGnNBj2pNmHBtmGh3wnrioJmX6qnAatmGnnQxK36Dx6BO1FaGgqmLHp4rHvngWigXsfnVwqn-n5ATlgstnPTDswtW1WFNr0MxGWDEs4H2cJ7RhYacXMGrTNRlhLnMLO7NwVY+m+7t7PiR6xnBBOqaocwiKx0mmgEWn67DA0HRGASgots2mfUlgvGbZXHMTNx3mtBlYLtts45RWOF0GfmuW4GM1jMFWp6p0wh+X37cylHJG1n6AZHd7TqKH37OaakGrynn7ZXkM31p1P0jE9XJhjIBG7WZ4HXUNKR2n8mtGZWvXJHxs0MMMNFXWq6D4iHfH3N4k+W6nDYlmO1nN2MGM-G42nnpheyryNR0LIx9QlmuoAtsmgsw2JhpThI75A25XSBi34qy3dp0G83KJMKYhGwqha2TNFk4HtrYxq2O262cmG3OAm2VwlmMWO4B2u31E4HM3nQgop2dYZ2P5UzQBKX-Sq3o2AnJa0JNWgnzMPMR3RHV22IOXTU1WHBjlepjjbtOtvFEYb2qaJXl6VjIRL3-UZlag4RuAL3mkP3gkbxH3jgyJcdQ4x1DBuRGBBj8U2HMVFtE3ZSiM03Y2jVDYjr3gBA43GQY3AmS3gnMlV24Vk2a7U23MuNLMSXShn2tHxbbpIOel+B6GnDF393cmKOiT6YIOQboOmPuDu87gcOd2vLFQ928OD2M26U5yMLTzKNsG1V2GSm-Qqqdw5PYPYoc0LlHkfzxTzUQYyGGH0mlPgRpVWHFUncEGtOrxmh8D0yz2-4iHImRHLX19JqCrEE4mas6sCPKzJruw9RsP6OeP9OnCCqgIX9Jr33Y1P3QhGRf2r3Bg-O7MGSB6Kmq5at-Bi8-nKGAWkWwREvuBIvpkNR42OnI2Uufgsn62LWJ82MJ2Pkjdq3W1B75GXXgXSu7POIYmhGw3XWJqMOL5axGRq3uu4G-X36mJjkYHulWERuNPtVamP4I3kuBviAyvvGFxVOzO3EnPDZJu5uWGO5NvcHpYLPHGVxq2jurVRvamVXzvj36Ux0YnTPjvquxo9uEHRvnurv9vrHzvUuvuiUbUXWE24jR3eFZBT7BElBL7REb6JFLAH7zBrXRyXdObRnCkGq1vjHjmwXJAyB42CreuZ60RitchbnygeZXVhNi9cf01uBCeE3HsbnCyKfNnG7usGkZBkVFAWf7mqeztQWMVwX8flYJ8cMAMufuiBexsvmxfQRU8JfuB99eVOZ4XsvEXO0ZA5f1M4NJf8MseI5U9e5Rvx7IrOb+M6vawytTf5kztknjfWEP52fgdYrwEGJEqUmP5kqPJLeBimjgsnfOa60nfczHAvg29vV1fAWtN0HObKT7uVfOJF2GzY-ie8kRgweftGNw-I45ml4ifChlusIUElvzhGwikQZiPcQEXo-5kHiZpsbWNDeGz9v42WmJ8MkEG2+GIkvE+PIK6u-lZxqIhC-ASVtBhmy++NYl51Wh-YE4L5Mx+PsHlJ-EeB61L2oa-cujAu+U4Cf1hK+BW0+OBY4ikd+SURYcET+xAz-TwxXDGsJjHjTW+9+OEWAD-I+qG-Rmhr+z-W-wgAAPMCEug39GEd-ElmfmpYQgICziIxkIF8CCAdsuiczE2HhK1BmgOOLon5Snyxx+y5-C5CLC6JlZMBDtF6DgLEB4DwBEArpmvXBAwD8A3sCEogLEDID5kAiGkGgOEAYDQAWAvXOQLwH-8eBsqKyEIOwFWJcBd5WeHqHarnsoGWIKbgdw+T7cieHxR7pQ3qTOJsQqfFcIXC47bdd+F8W9khW-zeZ-+k5ZnOoPRDYhFa2fIssOS36doOmk5K-Ag3Rxuwu+EA96ttHAF+Ur8kHOMv+A8G7EsgVAk9mO1lJv10cFfRzCmwcFm9W2RQKAcoI3p0AnE5Qa2C0jC5Ph82OpWMO2yTpAhk+xpUdqqTvh6C5+08BQRmmRywtE6C1HlqbjCGEUl+A9SwZoP+wJ81+TIIrgoOu4IMU4KgpEGoMrAaCiAHQ5zjoPA7+CX+hgtDlm0oymCPBwZOpqMOsH0xbBEfOIcFicEEQXBJKNwfkjMEvRSg8EbwZ0G75sBPB5ucoURCCF-gpBEwE9qQMFARDKGUQpJFX0-45c9kcwhoEkP6EpC0hIgDIdPGZbdc2W2oaTnkMmq0VzsnbA8gMhKHmkyh-ggfhfwqFg0vKkdBod-CyGsRbOLQlYVYPGE-wT6fKM+vIGh4iJr64iSRNgB+zpJE4BzdZiDAeZ0AP63+F3pz1OaypfUKzNZsDG97mA+RzI8mCsyqKlsGGWzd7NlSUwnN2RP8QqEyIFGsjIeQIBpOmH4xzAyssQOYKuA45FB+MHIHUTEA5D6jVc-GDCCaKlbmjNRxWWJNaNiS2jpg-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-AV5Q3U5rVseSb0r4O-zvRfSfhoizqVMpmUzcx5AOg2JOCChW0vCpOv0OTuMga7uZsrbFaCiTiys-K385pdwlZ0MxKwV8ScTYO6abhg9UG43HSwGZREzUzLTAd6U-KXpVlhir3l0vers7HcUNJfNKq0ZmwNaUuwSDLtvXghU96y2ZcjoV1bbuA5ey3XnAIJJ4RmHUHiJTEZAABOE4IXGDGUwhdt7bva3u6gE7x4-0OWMrtjVLNTB-yFlZcwHAuAcE+RWNYUB73dR9AUCqBVZDQBb7r1FyltvjBX3Vp9MqLaYAfuH03oDEHhQOBwhcA+QgMK4U9svsH0uZY65+zcPGxuC+KD9RtNgLVXqqjkiuA6m3dHU5pF6S9d4mqt1D-3MYq9nrRXZfJ-2QGmADVNXZzDaWpA-q1QIqCeDIBOJY0ZkvrlSFaCMg8lBSrZQEtdmJyXZ-AC2UcENpMQBwwMUgLgcMlXj1IsaE-vshZUH6IQ3kHyGgdABx4N1RUGILwf8hR7uDwiiba0GOBrsMKLEAcP8sdxAqWowgUFTnhXWFBRNIMIDchow0UbGAgNaQ6aquWMHmDNdVgxJHYNgJ4Qmq2INwfBC8HvITIMIoIFUO1AxmjhsQ5SzYg-q3oT+ng44Z8iCGsWPEwI95B312Gn9QulOrHQTr+UChFO+mJIbp3AtPd8yb3TPFaAB6DAkerXvbX1Y-Nad1aLI-zvtwc6c9Ba73JJ3ZZ-qk+8rIQIYEcgGJMD-AK4v1yINAgSDPisgwTWYUtGBARA2g56XyHbwVJRRnPMLAF3lGhdVR+6m6m8woJ2tkuWVA5DgEMJS4nCcgLJGgjNBkj1aNI7itlYlHEpS8XVjkZD35GZB9nWAxgtGpAHGtBBgQK0AElb5JAeqSFewvBBFHr1QUZ4w4EtI5trSTeIOhKMV055MF9xy2ApT+NnUD6B7dhUXp-hoGwTUCgvPoGE4xAAAOlgDCq0cAVPMYILLAL0liwJUpNCBvtlSmGiyo9LAMib+qonHC6JjE9idxNp12oShmQISbHxYleAJ4DhD0Cwi8nQAAALwvBYmBQeJjk1ycj09BRTZJvSBSblQ4HqTNUVCAXHqPvAmjm4VE2yZWhSn75+4z+bmK2PpZiBygYgVbkmBQK0weAOkx9p1Mcl8TnJg042KNPgHiBLAM0xacNqKn-IQAA')">function evaluate_query(query, frame_stream) {
    const qfun = get(type(query), "evaluate_query");
    return qfun === undefined
        ? simple_query(query, frame_stream)
        : qfun(contents(query), frame_stream);
}
</pre></div></div></td></tr></table>
      
	<span style="color:green"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, defined in
      section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>, implement the abstract
      syntax of the
      
	<span style="color:green">special forms.</span>
	<span style="color:blue">expressions.</span>
	
    </p></div>

    
      <div class='permalink'>
        <a name='h3' class='permalink'></a><h2>
    
      Simple queries
    </h2></div>

    
    <div class='permalink'>
<a name='p8' class='permalink'></a><p>
      The
      
	<span style="color:green">
	  <kbd>simple-query</kbd>
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>
	</span>
      
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      handles simple queries.  It takes as arguments a simple query (a pattern)
      together with a stream of frames, and it returns the stream formed by
      extending each frame by all data-base matches of the query.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append-delayed
      (find-assertions query-pattern frame)
      (delay (apply-rules query-pattern frame))))
   frame-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNNSPIz1KPSKihyYEdCGkYVAVFGhBOE6QunqbpQDEWgmBbJpiP9fcBBA4saPPCQOE0S9qjkMiWLYpoOLTDSMn40ApNHAQxKBIwJNswQhPs2SmnkxTlMIoEXKvDTEMBXo5LWULjGQwYXiUhhwLo5R8OUCY53wViVKI6gSJM3jlKo7SzwS0AGIA0QgNY4KUgs4yeLfayBLc6SHIyholNId0oRkRjmNyuonOSK5IlEMDdJwn1wkiJLQBS0Q0phPr+oaEqmLK0yzOSbzRCUlr6jU9Yb00-LT1o6t9MMzruLWzzGmqqz+Ia4d7Mc1wAEh6jajqahyt9EjexaBommRBtGgzptS1iFv+xor0u3KYUQv6jE27a-MBD7AvXRtkvByrGgijbwqQ-oUIEKwwlIOMZDYZ7AhcmN7tACD-3QzCIKPHdUJZ7h2ePembIglVYtINn-o8QXRlIHmLgUhgo0iNhlAggBVQgK0ISgAHcaCdUZXWRABafXityhDrtAfH1k2GhSdocm4zhHA9p1l1C3KkDn2mFj-C6PbQ39Kjnb16kvaZtCMO4U2sD231-cdZ0g-KyDxbiyOC2ij2OA9FVScIYMZBShhyF6sHZvSvyXOBgui5+ku5odqLkSzwQVWDDgq9ymQm5z4MaZc1cu5bxDegbmgB9ztvwc77PB5agKjLHnv6+J6KF44FUOEjdh33bmvN7YMuRTbLYCvLHfvVAPfWKXxFoqYAAPKlZDPphsdL5RL97o+aGBjOF-zlhC7FxmnNd+Lp95D3vMvZE99H5r1wBwYiYF+DgWfgsCkoCt40z2gvECq916X3-oA3eYCr6HytqAHBDM7IiQEIqDwMD+BPwAdXc+Ah0EXxIf2QIlwKSJmpFiCmUQp7N3HsA98C8EgqHYR-B24YwAj1oBw6MEAYDwCQKgNA8g0CaEgTfZEOwlKiHgUwYBrpc5lDYKQT+5DxT4DYB6UYFirFGAAD4uO3AYxgLcnG6FAG4jx1gPRoXeIQHxfj3HmU7HsMJxh-GRI4NQuY9BLEQLTvo6wVRgyhiEMNegTjLwxHdD3WeX8OwcGBsk5xAAyKpS5biVJBDZUghTMmyJHmUwgW8wnl1KTsTJ2SOC5PApUxWnT96R2HlAmgtAJD2MoGVSg8CxnvgaSU8hq4YaYisak9pOxtLkGDIQfewxulJBcn0lgWSfBDPyYzfZhzjnCwge0+5RzkG+FmUEm0KSMp91uFeDZRkGnw2vo+V5jyJ6l1OcYP5eoZBXk2Sku8aTLDWDUoGdqIhiDiBdoMaFzlekZMuQMm5IzGbouGMUbFACg4TJRbGLKVRKVYpxQnGZczvnOMIrC2QAL-lAq2fDZ5UyGU-iZZijMrLXZiPxZbdsgLOqIu2cKvRqKJ5EPGFSqVeLVncsJUUklI0yUQWflqmlhY6XtNNSy81bp2VfNlTy+FRkFWcqFaClC1rJW2uoJCtKjrSmuudRdQVyLdnWHEPYthHB77cGYCWHVgrfn6v6dco1WzFaRo9NG2N8baCDEtSKrN0awgkMTLQAN5CmRyE+fMjgiybBb2UEG4FKrHzFpYJnSgAgJCVvlfyxVAqkU7JFTsCSNIKRMEeX2sURKrk5PTZYxW476CTseYW1VcqLAxrvnGpgCbqAzpoC20NbTR1ouoKTQsgFc37vzYe3VZyU3ErTXkslUtyWXvINesqt6D2EA3Y+b8Qhc3lOYPqH5eryFDI4MwXAtynAeuisBndcaEFZSPaBegsGhK3J0Eh5EKHQNzmGUmqD7YYNwduXmM9m6DHTjSiQFZZGn02LnYat9GbGZKRnPwYgTBAMoQzjxxj-GnHNnI1sG5EERN8YE-iLZBICPTIY3JidIxHkVt1cYVj-a4VKrvO0kcDBsOro08g8Tz0nWVKUxydp8b2pmancgrTimrOlKVbZyZdHrBTu4KQPSsmmOWeTWx3YkobNtpQjscQpmqjmZOZF0L7ZbGSk82G89mdGIVllVutVqaF2caXYzL0ZYKyCfTiwF8pXiA5cfTC0p0mavlYUyk5TFDstdp7blp1BmR0+a4LwYaTFCyYYufOwZi7SCKwKMN2lUXooj1Q3mxNkHdNbBPUi9rADgyubWw19ZA6HB9YW8idWXAGC7ZkE6CT621Vdhu6dskERsM7eu9wW7B29OyEe+1hzF2ruPeS1sK8v2OT0p2AXGQsbrEpfY6+8CsbFZuDpfS8mfDGQUkpuTNB02OGYLWe2S+9VGa4GqNICCoA6Gk-JwIEWKRJwzjnEDdhbDnHU+J0YRUyprBQ-JroanDCigcXQz+JBJycdSLxx-bnZTgb89ADUuXgM2dcKOOj0Y-CsdCKvPzyGUMjBXlV-rg3Gvt0CMpquPXH6DfGFXMbm3tv8fgLV9LCCZOoQU9o4+fNudxikF9WCC0d9YdbGBnfZQxpQDyn60BmItWuDUm0hLPFye4qDGULxhgelJdZ70h-Fqe0LdRBw6RUQsczda8ETIPP5T2Fp8LMoR3Tva8yLIe2Yvpe7D+35h78YdPqfyll774M-vA+0iptrrv5fY8oXwEpNebk74s65e32d-JvFW4pBlzdftzTsF0rhBcBE1h7UUVRP2h-ErVnw2v6ZJPEmaTlHsJUdBvfRaXxwbCiyV9YMZXhasECLfKxM2c5XnABXSXQDwCCFHV-BcWRf3UAAAFQAAkABRDgAAQXAHADQIACUkDIAAB5AAOWQConlC6HpVwA2DjC4BLBTww0rwwXAUJy2Hn2mGznvhXz4VdyMA8D3y4Lvh8Ab0GArUrz4Nfz3znDKlEKyna2kPsHoKFjEI-Dv2QPQKwJwPwMINIPAAUI2EXxEGEKEDkJ-B4M11DxoD3yDwPyEK-1Oh-wkJmwYPT2oH1lsLYFRyM2zmUMYPMOYOdwPlbHIU8I3gxGrR5jZzsQyEyBtzjAzArETz8LcNCWiIVlCF4U1xYIhh5hoMERSMLHEKyIsByORUQIYDsGmHrCIETBAgAAYqD2kRINZYMqjBtuA5tXZyBZBe52iajVQQJKjNUBi6iABqUAeQUA0pYY6oygWo0YdrDOFo9VFhbeZhYuWYjorot0HoqwzI64GAiCcaa4LY2bcgEbXYgQc6BwZ+EFcHezfgLeVY3KawFUbsKov-MVEwdo84y431HokCFYs4obC4hOHo72ImTdXIaYDWOcHLGHHaL7dfKHREo8DwZYpgVo5+aHXdWsX40E-46kPYo8HnOva4GHdEg4yIGEjgOE0QHLVcGHQ0f6Wk+knLK8ZkyQ4IBSXdM2C2AKZgWE+Ej48YWfaKEQQoJsetUJJHMGDVF+IImmdpNkkU4IqqTiGQSHCAiqJE5IaqBjZnVBBSGEPUhoQUtKM2OSBSLaXyD9bBXBaecefBEhaHMoq0poFyD0B-RqeyZvUADwMnW0-0kIVUhk4RbuP1cRdaBoXoF6ZGO08SfVYGdKD9DwMMxk24XUtxYqIUukkUzkrcRaEIIMpSD0pGQmEI9sDM3E7gcU6BB+RhOBcpSgBNN8QhNY1+Mowvf-ShChJ01uF0rpY0tvVwaqHBAAQhskfxpirPYMIA4j0mLwjJbijJXNzkkX9PqBmndKp1cATO2E1O1MiBmlNL0Cd1AAdCgmvMVGwQHMdJEUHOpAIR3KVPLLy37MfNACnIenchoSpKIEXMx2r1QS3MCFXhlQkV+hej+hl0BEnEbMEA7KATnHdPChtO2mqklMYWsEPVfJHM4UJEvLAGvKgkVBcnd1pwgn5IwsTJSBciFyYQVK7LfMJnhHaUAtwCXO1yBlwm4FBgLx6XIWJwZkos9wH3qGgL7wp1l0NIcG4D4p0A5xIVl2PN4oF0kt5NgRF24FbPzXbIUp9AEs4VUvAMiH4o0tlC0qbJ0r0vIAMtBkMqVKMCvJvPqDJPlycEV1qR2HlyUs0s4u4ur11ycBN0Wl1x0DCv6kCuAst1uAUpZIvIaCt0irAsBA-kkJCDEv72ooeMy1mLKDXWQX2PGw41IyKuGGXSqIq0I2oGxXnzxVmP2KDSaqex+M1SCW6yarYPu2iQRSMlaskI8GkznDhIkAyUqIE0yrqX0yMkCk+J3zBSGz0k7QKtmMzzSmzzr15FKNAFb04R7O+OxVYGpFmKGKeP3heLfDeNCSarNj2hivjW7xAnZhiuXNr2YLSqMG-HqvvVCWOsDDaLFKiv+n2swWmPIUev3WetEukokqsqH3coUlMRGA4Dz1FOmE6t7QBtOs+JBpSBHzH2pE8JkChrL22QQI2A0IwLwKVgABk0DyDo89gmiRV8i6DZjiidq8RnKhL2wOCjDuCJDqdBCl8fBOaLCLBprFCyoJa2qZagb901C5yaBUCab6bGaDD2ohDxaqiubeCeqUQ8gOjGEZAeYbCJ97Dv94NnCvrGZZiPDaQEJ8bXALaBQjiqrxhHbUQEJ6yixlrFb9bsjeb1CwieRIinIzrngbdZsVrFaMbxpuayiXbIpaCS8JbAiMrZEIwplFFIxlEoA4BEBkB0AtF5BdFHwTFUpJ1bl+AJh3MwtDFjEUbvEGlxwPAchLFxwyTlkfF27OZw4PkOU1z7U60G1e6GllA67uTX8dgKUJVqVcUH1BV+6q6yp56zUl7QkyVp7u6ykvVF6g4+7Gh6EZorrNUbUt7a7CB66969kE0HkLM26T7kbAJwUn6uNd7GgyTgNv1Bgb1d0Vtl6UlV6z7f6f1ls71Vs8cv6GgySO1IH-1j6BwnwqtpgR4up2Bs1O1S0t5y0fEU6nIEGsaCG7aFIb6Z6ySgsxNn6UG17fBVNgtqHpgnNNMCHyHb7v6ylmtkHNL6GeGd6KG77rAV14tnNEsV6X76HRGKrSNitYGka9lCSj7aHNLY7ocUb3wls-0-r2Hp7CHAgYMG0xEK0ds9srEp6KHKGZY5ZbllZVZ1YtY6AJBhgWA75QBDZX7ZpJ1vCRV1HcRlAzHnpqpfLC42A-7PgMHcQzzzgXJY6wNyBwmKBImpkWQeagnroDyQmL02BdKhwN5UnonZzRVfwnry8QI17ZwRg0nMwute1omDGmhGKY0b6IhqBp0yHIopk68y1RgK0GnOmjAzHGmnJtHWmow3kTkincZkS1Vx0ZUymrF2YPB5nwZRcqRwJFmZ7pZH9MnaKkTRhbGAnGYVY1ZNYyQRUAs+APGjZY7I5jBeh2Ki0wJ614ETHazaBLH66doXJzszGPnuTn97BtQeEKTNGcQXt2o3tY0CQvnErAQjG3nwYK1-t-mYXJFp6-avHRcr1-7f1AGoHgGYGKHDa+lJqNHq7qmiNAGwMklBU4XtnT7KX3xqW0NiI9GhGmhJxwXWWGAuBy8OX6739b4z7mHxM4WWpsmY1cmAsGHeMmG3NimCVIbfSaEaKfJDy0wYtixHMxHp1IslXaZSlKma7jM4tZHLNFBp71XbSzS9ozXdXLEoyXrAQTXqmHX1NxG5HSBYXrXFQpXVmoUPXKkoyYmkzhLIWaQnWxF3yDzUZ6LjXRXGGxMP1-tWGXNLW-Wwp9y8rN1EWElOkH6aEZBllPtZmOlolS2hrmbgWkbgZoIiBXlpB4JlB83G2i25grwq3YREYqcnnN1aAmJqR5iF7tUMN6tjApWxXgU7X-8bMQJmHPW2GGl3ywDpX-NAtk3mNLFDxAQgWFR4KAxeBTbB3AaR3N6g5+nI302JGd35otzT3h2-QL2ijJ8XwxXBmE3zWEsfXLN7j9z9n43lW4dRdV1mVvUr7VGUGbkN7L62Va03VtnZ6zK1iX3oGkP+CsMUENi3w0PA8EOfEMPX9KC2KK6UJ+Hstr7vm-JsFu0JBcFOsSGV3T9-9uotoF2h361n24PX2saZmHrC381DlpBz8sPXmC2m3ZA2PbMVavGqnxE6ORnmm662nJnwJpPlB22hOaFPmOHFryOz6ZGf2qP9iM5A3-UpY3X3xx0dH0ORn6hMXhXoEz737b3iXqOWPvixEKnwXXP2oZVJ69OzZXkh6vk1y-PQv5l2GxE4WIb2wY3c3K6wHGUMU8Pt7P6SW-IQvR6yoZVYOIP4OOVSGHOeWUvwPD7pVJ5Av9HFQ-XvMkvAID6x30v5HMu1hsuEO1ymufViaCPJ7avwXuut6R76W9Ooq6ucAc7VU86owYxC61ES7NEcwyPooyX-UQ9Db3GGZGBLTEuhM0GCnVUWdemTNlAsaJW+apMRoIJ6xcn5iigR5jiP1cH95y0zvFOgu7NMtbu8mHvCmSr4dCtwJcBFYfv7uhBHu2qlsXuNg+mcR9jKNcMQfJiofumSHcAEeXmqNkfb96uUIxmJhVPp0MfDbEf4NkeaM9vKsXxzOWXqANnMe8kIJafjjRUGf2sx0v4uucZSXAfJs8kYv7auexEaqaBaf1mLMxFmqjt-5S59Pb4SB-wR8WnCeJnp1p7DbOSKH2sPWCENfLvj0sztevvN0+MlfMb6mSELvXB1DgZL5YuOQ9pmlpg-NZWVO1fkEgSWaVvkQM4CEcvdOTH9iKkEPA-kWoeSFIutocQDrzydNZPVw288fFtI-3nBKbfZOrwk+feaBlPxn2mn7Q-X5dOPRiwXe2vZPxhc5mka0OVmwGYq-gwa+Zpd2X6f4Dv-ei+S5YWKEy+VftmQhG+a+A-dAAAeP8fgJvoRFvjD+hWWBsSCJAtCVBwgejnbOxFzOgTCTo8gaQLK0ACYh9rxXORc2vr5ZsCY1nynQ-p3MEFuU-mfjDycefyICCJfygC+LEgMS7Df4YRRUiUEnv0ZgH89ytuO-ify4pn95kF-RmIrBAFH9C4EA3tI-yc40BmYg9HLiPQQ4XcoSldG+oMjQjMh9eiodpI+ygFbRi+hrWTqlhqCh8iOgQehPgOZjMg0qZvVsquXd4F8TkmLZvCEBy4k5VwI-LcruFuAz8tyfAodsGloF19JEV4FAYqAthjlNSddEnM73XZu98+anKgcYEOYL8cuisFWEEiHDR4t49zFIHGyPD2sSEIEXXq6SzaelSkZAy+FH36acJ7OKQZwWn0IqxtKy5bOugQKdDQ5je-bMFEWyj5YCOULFYga4HaT+DmBQQjzvUFIGSCA+lAs0tQKiQRY6BaZDhgEJYG242ByvTgWpwSFFl+ofAhDgIPqTZCoYHgD6KuBb6vx6B0sMgTDDoE3FZem4WNqAP1LKCb6qgwpK7z0jFDHk2gowLoMiD6CTmhAIwUGGWQ3NqIByNTmYI2iAdLB-+EShfEjZ69je4bdsE4Mj4B8Y+mCdwckE8HItjhLuHwTm1k5xDCBpQ7OvIlzpKI5uqiYuhoi0TYAIc1gONIkwiboNCmRABuiBwKz89gerIRmL8KSbkApgovUIGE3+Frxcm4wR5EfWibA5Des1TqEU1kTRwERyTAEdNxAg3IHg0mZcKzztyxAgQ8LIwNJmtAUjDc1QakWFWkyDQGR1JZkaSOu5DJ2RQyTkSkGkw0DWeNAxoDSKw6QQbYnRSQKz0lFqBRRLI67hMIZETDAQYo6TAIhLyehaAxxDUVwA9CKJ6gao67mMXZHGAZAEeUABIBBDZB3GExejqACNFM99Ypo1IBaKtGxFQA7jI2PaMdHgRoILotMG6OtGejQAUES0UYF9GQRgAAY80coHdHPB3GYAH0QqKZ4ABSGMUGI9HuNUx4Yh0SmL9H3RTRsYy0cGK242QrR+YyCD+SLGZiEx35csZGIgij8MxcY0saAHH5GAKxXIpnqP3SAujix8Ym0e2KogljKxEETIC2JLFZjQA2QTsY2MyB9jlAgQAcW2IXFzixxE5AMSGNcDPAjAE5YwCHgeCIQ8RfwgkYd1qYB8MgioatMuB9D4iYRhIzMLZhPHQiUmqqetB6AABWGYH1lePqDVpcQHo1kfeNhHNoZe0zFOlCMREKJEIUcf-FBLPHz1RONyaTI-lZ4zlThRDa7pAEIDCRv0EgCkThLwkBYxRSVYwOqIpAl5YAkABkbqOomkSyJ4oiCLqLQLsiWJDEsidJhIIsASCAY7iSQWaGLRjx8EkCXMTFSpdLx6Qa8diE4jPBE+kiBCQ+NA7ipnxIk08UpI3omM-xKQACR6KDQY8FJok5SRilsz0p4mikt8ZmDSaBNLsQyfYvE3XiCQxgEgVcp+I+DFhiAhcfzGbUWgWTOCyIr1miKBEjMdsdkjoIECp7Ig2omEFXkTwsz7E8+qvLgeBClgFBTafk88a7FSE9DTcRkjeiP0aZpSkKGUpbJQC-E-jdOYFDKZpPD6NM1BQw2KR72GCpJECag0fGVJvSaDHkC7NsNwEanJTISciC+M8PzqvCi66iTABgBz5s8XQZANGmlHoBugsQDAHLHcV567B7EjiINHcTKHJARBWI47EZB2m6BL+HAa-iiHv6QDtpOHMUrtO4QzVeUR0m6RVHay3csQDDXBiMH1CIDds9k4gMQDsR2Aa6cgQJv9ODGKIJiMgFgP9JJwQRKc0BSnFlTgETFoZxADiYCDhkKYfpXmelEQFLRKR6QLcGybtmJkFt8ZZcF6KHWP7BgQBEESCCALemdolIn0uYNWh2xkyAESkYmZuFpnaBcqyfZEHjM5mexRgdIHbAD3CwOBxZ1OCCPKHpzJB4GI0cWd5XHBalMhh0zqOLN0A5kg0Ws+sVRCOLVsbgcKZWaJRRzbgPA34RgNDPai8ZFpvqZaTlmllcstW1gP4kfWVk1J2Y4oLpNowJZIMtZjLRmPTImJCyTMIshgHSFXD-NA58AoEJTnOmYDx6vs7prZ0PR6yb+GM4AaHMIDkzKgos42Y9M1mXZTGl2IVAf3ZgIR5ZSNMOQTKZhgRWeO2TTrnOFn5zI5d0nkr5UBjOyrKtc98BBDZGtsRo0csuR0K1nNy85iYamKZQ3zmIe5e0xmAAHJzpO2WmcvOHzUzT+4s9rH3PmmjBe0eeCWV2H3ibTIgq4Q+ZhOSAjVBAV-BsFf3VjCwXCQsK-rMV9rVs+5hcmvJtQrHGxOoF81yJPNFnTUP5587+bIKMj-zd5h81AaADckpRB2Xk-zmszjRlg70tZCWe7NGyUlNKI1ZRhanfipz-ZujGHI02rRwKPJiCqMmBlQUlhuZ6CjudLB9n7x0F1OaTCjnxCddk5zC5krJT5KRSaAteGZK4zvjUL+MJYdBZKyPJuy8FeKZkkiXtbdN+BVERUEnKWQpz3xac2UruhjLfURJNCpSKYRLnuxsQgilxlUBEUoKxFunNFtopmbActgS2JRfzDZHU5gYVuKMFYpEIlzJEQaSxXei8W-SGFx4RxZUNEo8jXFHi-xYYt2yy4QlHKWGeQoQXkB-MUZauerkBhxKvkpC7EIks8nJKkFpcURXejoVclZcdvRRdgPhH6KAlMnB5vsyla905F8bFyGwtZ6qLG03C2xTaxRixNjWfCnNiEJQhXN3wiJA3srgpLaLqcTJSZUjQmG1kDBDjc5ryT3T-pioEgPgHCKtkZtRl6hLuRMrrLU5OSMyhnDYwX5yl7GZzJxporZ4uZfGm6MwpUEoCZxpgeoEQLIB2WZ91lIy7RbDIbz8yzJAgUwq4VdgkMPl5bVcFsr-70KYFgscVEXGqZyl7erkWYUIALgcB4wggcYAwGVIip6w3AXtGCt6Guz1U9C9IV+F7L3kqIeCZ8nYLxKsU9hWwShNOVVZjhFog4GYeD3VTorAwAgLFfMqVIfoQgeK3tBBUngSI7FdSjVlKxTK2KyV9i7+IDGFWfzmSygJVUcrrI6LJVtrIDka3ISxprhDzdQkqphwwKrOe87PF-P3k5F981MQ6r+CnCASL8GweFF8stXZ5JEEEM1XnhWEfkHVRAH0o9H-KaV80AU81QfO-nWrPC01P1f9Xp4Zt-5zgqNTCpurGEO4CuMZZ4h+mfz+c2slxPvQgLAF5eUUgPMwEKK7FiSS+KGcCsGA0wpWQhDuGYTDYpA9oC4ECFbUcLwZG175PaADNljvIHlnhbSVDDdoWgFwT8-wt7TyA+rXAMcXSOOtSKTr2AT3QEMDDMKR5gxva5gJSgHW2huldFCsgLOmQlrpgWxdeEIQxpfFfwleECD9Vmi6M7qawOtUvjTUlFCATazKN8VbVUR21ekJwq+olW6Kjq5gLde1C2KDqpJtuEdQfjHX20qii6rwgBtCB+g51sGr2p4WXVNBgY61NMBuuA3vIwNu69Chqz8iPNppryxWvWj5ZmEq1KhagBLIKqNqcpRwcjQxurV0bZc5G6jV2pN5gpAVZa9OWxrfUtR6ADYF5YJsXyC1l83G1wE7FEBAraNP4ECGrS0K4ECCxBMgmbGU3YFVNuhMgiBFXWCb11Ho+ZPJv8K1L5VjMdCP8peR8a1qnxYTceoo1nrK1D6mTf-hM2B0lNmhWmgzX0JrBlNPmxmvpsBjYao8HmzmjMwopWbk16gvSN+E-GpN0W60rsOix16Rt4txMAFobWmUfY2q-2DLYiArRJaxl6qnGeGli3CArACWo7sVt2XqyAWaWkzJiiq2ZbatCfLMrujK0ip-sNsarWQCK2db9ipWtqiJGDCTohA6NNreCo625aYF8WygO8QK39bI1BodaQ1KW2jYNtrfBeYmtpCy55t7xfLdQD62-stt6MlIF6u-kQsmtouE7TIDO2-RGJu21EMilnUQQeVV-S7fvNZ4Ha31rNTdL1oW1pEWthWlbS9rW0ys9IvW1JtDsK3VtEaJylUImHeCfBNQPkoEF9otUetYdZAH4CDv62SJntQoR7cuODGA7Dt+6ZrbQBO0VocdPre4L20WhE7pQECN7XfMViY6CJCwKrUDtgnNEmAY26psMyCI2r9iYdCItiDyLWCsgWARnWOXq2c6S2Au8bWGqhneLL5jQQmhsHHwCgMqzgOXRzC10B5iaE+GXDBWI57ASdMQw4QaAdhvaH5n2zRmGtZ6jbJ0fOkVPfAzB+hvldZQ2lZ35VtT-wpfX9F1OKowLcllCmVMLuZ22rPwLkcXRSAjqNARKcRJpsIQBnVNYVGKeFe+C3IjzfpORS+fnHfjWjWBL-YvUxrIkXLHGCq-0AXAWHX9Zd5u1wBBAj35LUl8MC2XQBbhE0bVlw1iNuBCDygXaMe1nchtb3uSklKSkXhzqd3erlAbe6fTjCoJF43GlW22HKKogABOLoO0llGSA+9ZbIwHvrJhqAbVa8RMGUGUBCadVDS6JPQHfWBAsmmpGgAzHqJjCVAp+yQDIEXmLzFYaAAA9Oq1U9LAQ++3tIIIppHgwD5+79I4jCKbJJENAI2IhgUG+CjA0BsIrAcmHKAsQIisA1i1GqSAJq-qJYaJrB1ChDaMeu3ePsIPjVKgk1R3cy2d2BNRAY1Yg6QjRyRKSwqulUDHGSijAgk+aEiXav9BTgQIpi4RUUvEXkytSucv0LTI6C+0zY1UKYAwEEP4T9Z3GT3MMAQhmkwDkEQ2EbD8Ulg9q38l4DHCMCGHTYle9A1-t7RQKrtU4WEObEA4WxqoDygPM8q4CAq5gThw1ixvaINh+NoSTjeJpIZ+H3yKhgQ+wICyaGZM2hp5HKs-0b7v9EEQw54zMIBgfDmkdI4bGsNxsLYFg+oPobSO5HTD+89YOTUUS5G8jiGjAxPiPBhEk9ozaXanoNwOH956Oi8lnuGA56a8hetMBMBL0ej66521wIrqnD4ge92uk3QKBjz-tDVgyxbJG0DC0ANYjiXg36EvWiHxD38j5JIeMPFFw5shiw5f0UMxkrBW8UThMamN+4Zjfe+Y3F3XxdhL422hgYzHVioNBELcKXCwDZgvQQgHRi1T0YoA11JjD0-vT3wr0k9ngoxmBSGs6LTB0aH1V9eQelCG0E9mISXUkNaM2HAgYRIqUIDR0fphIpm1IhWhRNJ0lSIzKPPEwlqUm+EZRUiaPtkSHHVdi8hvDIEYlGAAAOlgAY3Hsignh3AA2DpDD7LRrY00v1D-2MxVDghqal0DZPo0OTwKrk9yb5MCmpSjyjeKKZZzXB8AyUSRIuGBgGnQAAAL3mi8nDghJ7UyKcjkV7FwFpqU-9BlMmpojSkSOH9DwArGfw6xyIBycFNCBhTupt0UPKZ5-HFYHoK-sQCv504YQi8xCA6CVNXaAzWp4M-adDNMSIzJWaM7Gd9qunTYQAA')">function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
        frame => 
            stream_append_delayed(
                find_assertions(query_pattern, frame),
                () => apply_rules(query_pattern, frame)),
        frame_stream);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p9' class='permalink'></a><p>
      For each frame in the input stream, we use
      
	<span style="color:green">
	  <kbd>find-assertions</kbd>
	</span>
	<span style="color:blue">
	  <kbd>find_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>) to match the pattern
      against all assertions in the data base, producing a stream of extended
      frames, and we use
      
	<span style="color:green">
	  <kbd>apply-rules</kbd>
	</span>
	<span style="color:blue">
	  <kbd>apply_rules</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) to apply
      all possible rules, producing another stream of extended frames.
      These two streams are combined (using
      
	<span style="color:green">
	  <kbd>stream\?append\?delayed</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>stream_append_delayed</kbd>,
	</span>
      
      section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to make a stream of all
      the ways that the given pattern can be satisfied consistent with the
      original frame (see exercise&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>).
      The streams for the individual input frames are combined using
      
	<span style="color:green">
	  <kbd>stream-flatmap</kbd>
	</span>
	<span style="color:blue">
	  <kbd>stream_flatmap</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to form one large stream
      of all the ways that any of the frames in the original input stream can be
      extended to produce a match with the given pattern.
      
    </p></div>

    
      <div class='permalink'>
        <a name='h4' class='permalink'></a><h2>
    
      Compound queries
    </h2></div>

    
    <div class='permalink'>
<a name='p10' class='permalink'></a><p>
      
      <kbd>And</kbd> queries are handled as illustrated in
      
	<span style="color:green">
	  figure&nbsp;<REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.8" href="./4.4.2.html#fig_4.8">4.8</a></REF>
	</span>
	<span style="color:blue">
	  figure&nbsp;<REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>
	</span>
      
      by the
      <kbd>conjoin</kbd>
      
	<span style="color:green">procedure. <kbd>Conjoin</kbd></span>
        <span style="color:blue">function, which</span>
      
      takes as inputs the conjuncts and the frame stream and returns the stream
      of extended frames.  First, <kbd>conjoin</kbd> processes
      the stream of frames to find the stream of all possible frame extensions
      that satisfy the first query in the conjunction.  Then, using this as the
      new frame stream, it recursively applies
      <kbd>conjoin</kbd> to the rest of the queries.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (conjoin conjuncts frame-stream)
  (if (empty-conjunction? conjuncts)
      frame-stream
      (conjoin (rest-conjuncts conjuncts)
               (qeval (first-conjunct conjuncts)
                      frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function conjoin(conjuncts, frame_stream) {
    return is_empty_conjunction(conjuncts)
        ? frame_stream
        : conjoin(rest_conjuncts(conjuncts),
                  evaluate_query(first_conjunct(conjuncts),
	                         frame_stream));
}</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p11' class='permalink'></a><p>
      The
      
	<span style="color:green">expression</span>
	<span style="color:blue">statement</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'and 'qeval conjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyUgYYgFE0XE3gAK0uVF9GIAAPQgwiouJ40DBr0kybq+rCcKsA4jyqlID4GHazqJv6oShoSQM5lWqazhmzqPMCRblpRQwdvWoKb16tbptm8wGqalqGG4wwOrq+hzsGoLRoyLJrt2847pcebFpet7TE+qCgu2-600Bg7zCOmcwc6s7Ya+4aXCuya4f296XBqMQqFqBh2jIXxIfJaH+kGWHprxgsVHoNr8GqfQTtMQxuDkcgFGIBgPkCXmLsx0AHuayhWuZhG6HZ6XTqmGZQB5vmBcoIWFBXZp2tZ2WkaW+XObluhwcoMJ8II4hcOJ0na1ICmQZnDmwWd82sDIvSihV-nBf6QTcekZWZcMZX5CUKA4EQZB0DxNA8VqxmrZrYmjEoBRKG4Yg6ErITvtSYw2BkRrrZoOgxFT9PFfkmIPnT5TmlG3niArygq6VvKBd8BQWHwBdcObwwu57hd8CLugm5b6xM+ztumjF1JjSEZGTDYcgyo+2vW+U0ok4XRe6GX5RV-X2XN+nnP6-nhhq1IahxWele16y0+06350d9Pa+17vv4H6Pp+upnxaDPS+DULTUDEHQPmB9J7bxaJ-cBkDoFgiAVnC+zoG4L3oNxVEPxrpHUMM4WB794E-DeDg5weC+oEKIagkBGCr6r27sIcgjVqHEDcLQ1+s8SigASvzIGW5eYsBYQwdcFA+ZaAWpPC2nsihMJEawnuwgKabynsZNCaCeGxEwQLNotZHAD24XA3eeiyaGKMPorOygfbMC0Mgs6ajz7aJiLo9gHgvDEMVB-H47jlCeLoegxUuiRJq2JsgrxKwfELlCR8cJWcUGv2caA1IGhCAgm5IA4xJC0lsAprvDoWh9BAzYYQGhG9uHONkVebcM5R5fzPBw-Qa8xCOMqcAnOLjQCmVIOZFuVlbL2Sci4QeB9yA9S8j5ApxMaoRSBoIQg6SHYOG4C0gar4BwNTKdQBQ1AaCVgETLYpDhJiDRiEFXJuJtm7P2Yc-Gxy6CrNIK0oC5Fnz-E2Vg5q+BygMEEciU5UEYjvg4RkYq0yiklOUcsug6i5ENF6loEQjVs4HnoBEjRekSniKblIs6ALqnwsKGswlRK8wyxRZWNFUCEkPMmK8uMm1kipFCf3UYNI2Bv1jKUVlDEDYH1pUdMFXSdFBnVKGZYFEXyGjMsEB5Ay7IOWckHfG7JfAkEmQspZNUcx7QZpxWpDB6n9zRpNZxZygoOQYGs86clShjTYHJZoWEIXN0dta5550qmYtiIa41DEzr6xtbDZxAd5mmPIXsyhC58EcMIRU9O5qoaiwaurWs3US7N3IaU0gYjAiDCcR0yYxlomFKzdgnN-K2mV2SX6UymbjbCErZ0RJNai303DZ-Yw5ibEty5kWwanzGoS1xN2gxvbN4TDObEIKY4NQBXeWLYU+gGqr0WnE+xtLJ2Ao0UFV1xSDzrrsU1Ldr9zZaIXZGaVDZ6BUndZvBptZGQaP3fe49ETt2cAvSuIdvLGkHoWjOB9-cd2xiCm+9Oj7iBMUKFK6Mu7RamLHdY5uPrzkcKA++hJ1azZT2-Vmck5w5ky2BKCI1RcHCII1PocefN1lUxTakB1NGm5LCiaAB1WseAbghJCSjnDIG1DhNwP1FHx4CeozeWjHD6VHA9nq+ZhhuSMB+YfY+z8cPrSHchixaj1qvFvQISdjIdM2LCZug+mmYMzsY8Op6pmjHpzY36e1v0NFrEWVnAtymjX8D-up1E+LD2YfiTA7dcL4VKaEL5tTADnBnX4WY8dqGyWrn1huk9lm+30oZaAOD070NMqvvvWLJ9IneNIzuEr-m4vZUHt3Xuk8RXdKvjfH+HAatlbUT6hSoJ9BtfvhUf+J9O4Nf-Nw5rriOO-QCgpkjpi-EBKSQOqCjZoWMkWwwaFk8mKNm7HqEzPnVOdY0-oaFuXGz8cIYJ0IjJRMMCuxA6j+3dqMoTPu6FpLFSIq85S6lESXvcEezd-tWiw3zc-rErDYXltaIxkVxLf701of3aE2NnCE2ty+5bGe4PVWmKox+2HM9BqNn7oyfdhOElQZke28kVHRvDxp1Tg+jPGuFv7s4piQV+4doh2QwzS8TtZMTSt+nEm2d9wYsbOJrOhsBfKvV4eMiVz7uq-L2rjA2WFq0V9798N8efwG7-DXXXic50GgzpXvcafG466b5+kuVcrH3Xb-mDvYra-abr1XM96Z4CBiHOQigIAwHgEgVAcc0DEgTpxBqBci4QuqOXNR8OEw-W7mQSeMQAA+OfjLx-Vsn7PoA88F9SD3Xu-QX6V1L-nv0P1xqp9iGXhvqQ521B23N1VqbyBiAkE22p-T2R9HuGIEWRWtk8dTwAMhn70Gm2fxIj-5swMQfOe9MYnqn5Nk-Uhr4HwwIfQDwTSdmfqjy1uR5j239wtPW1F9EQmxvxmYCJNE9r6+POY-D-H+W+CFnHSXGeZQAp3HfZYamEYG8baJ-SuWTPaEA9-anL3T-CA0WGApMfQWA1ufkYjTfKtZgOXR+M3VAmzPfH-EmP-UXcEdXYg5+c-eZWg4bR3K-bPL-dAx-TAjAu0PTXAi-cwJghXbKFA1uKiSAwYG8bA+Ag3V-VIN3YXLhUgwrdPffPvX-PrE-eQj3ZwBgkjLQug2KVg8AsghMbgrIMwprPg+ZfQ5gz3aXYw5Qh-KAzAqQvg-g5lI-YRURdHeNGvUQ9g8gg-SgjQ--BRbw9hDHOgXQ1VMI1hHFSRMgTTMQ0WG4bEK-cjNIJubgCw3g26EjWIrbfAFRNgtAorCw1wvHWQhgKHULVtfw0olQigwfEI6gmoizIAvI1VNHCI3wkokwpwiQzAvTF-OPLBEQKNegKhMpONRQ+o-ojwoI5oncIBNDUAGg7BCY8eGNHonQ4AkjbNfBPNTvBwjaBMQ1QIGQYfPEPY1VA46hKtPoxwtEMjC44fUkToxmO4spa1TlR404wMc4yoYfHQSo0YpLFDP47-RYo-FojONYhzaIxmRLBzbLZIorIfcEBE7gbdD4ziBzczTLM2Ng2IBogYrAoY5-BAkjN9Wo1EgI0wxfHEqkrojDAkhxOk0krGCkpzG4qox6SWcE3TM9XOWzZjJkmQsEtdELdojk+Yq+ZjbAiYEY+qCvLkJbJQp4q+aEqguE8ERbREziRLRbSE0WDE-U7E7hXEjyTbbbE4-4lwHIykvAqo3JagTJWYkUwItQ4I5Y--V090+gA0uaClHwj0tEhk5wngp09wwQZ5JI+kskyQ7knA3kziK1G1IgejOUxvLITM1MuaYLD1cuPM8MskvMq0xGVkjMtaUsrku0csvVAPYOUOEPCOcPaOKPHQWPFUpgUgdNHqCfBMCZZfNNaDbvJE24O5AsfQeIyQRI7gT7MXN7AEvrdY75X5IGcEbHaYWcvFBcoonofXGMhqXIdc5Ff5QckaVQ-vH0sEGQKyU8wgH5c8mWIM8wbFJ+BI6RGQS854xaV4+80Aa4is4GClbbH8+-P8mcAC7gd45kxmEpNBf7WlCC3fM4l4oEwCkE5U64Sc6ozGGnN4JFOYuUjEpHYgLcpmAVA+fM+6FlAitlEDSCrU70pYsETnNY8it8lwci-lYi-rBiX8hfSMrIEDUEjyaxL4QhMuP7eQGlGBOHNCwMK6P3eCzid1b2bqEnJSh0xfI88NRwKS-mFgB2CRLgFbQoBjIrLCb2LnPaRsSgUffk3EJCuS5BRkB1E4GMxLTSq-ftE1ISrCPy+iRpAGGM72SXfFMy54Sy5c3SkYb2Wi4GMyqDKKpuGKkkuKv8YpaKnClwH7ZFVy9FLdIeXufyzoftFgdYfmRSqys4rOMQRyowUqvUcIZfDgMuJq08ZzCrLCHysy5qsbcq1qhc6qylEVZoDqxq1QQa4eAaAAHmBAaq6oqsmx3l6TlXBAABV8B8A+EhBfBYyxBeAHEmxFkQRahmhwRQAABqUAVYooQWZPIUVRFqgaO6yi66u6h6woJ6suF6gS1qybHpPpba3a5WYgRyI6k67DM69JagS6tY26+6olP6sQAGvy8ID6qyZGn62INGgG7qtw+ZDudI7XFqpNckAyysI-Xa7EWqlYRTZTWasqkKrMv0b-MUt6ybJWNBWmogfQPGwoSS-AaSsQWS4qhS3HPG5oK-EcYSgtbmoW-SBWwGnqz2WW5moibmm0O0Im3LWDH9ZdNBeWxymqkdCW+Ski50WVTcK-BVHucoDjJuHVbURdIFI0QzUOJuRkDSga-DDm0WKLWWCKvynK9K7cq8CKk1cOvmR8ViQjOqwMPm9Eem1S50ziK3Fqmne2qsToSmpEebbOfmtOi3D28lVVYOlmvUNm-TaYTm36au9W7lDpEuwW+FEWsWy2iJMHVY2Wlq+W7aTGn60oeCbabqkKnm1YakLWoYnW7K-W6zN5I2gwE2kcpyi2oqq2uuhFDau2imtY2yR2kQZ2vmTVQA12p8K9eDWMRsb2X2wszSgO50IKKu0Ot62OvkSO1caOgNT++Ow2wBuUlOumrSnOf3WQZs4PcOMPKOSPWObAY81Ia5KNA5P5I5AFWslim8ti+VNYlB25bingW+G5agNBnZdJQk5+OlLBiwgFAOQqEh1BqcwLO7PrdMDEuYSi2IOYVcCLeRVcjkbhmIDkPh0lDEjCYR7jA8MRjh1c2pKR2pWR6YDEnMyinM50fhwoDEl6dJcgXwSi3R1eQ6xULR31Vc224R222MMxmIDEm4Ry61FgQwLchx1QJxkOFYWxyrMEcEG6qR2IfQHqbgXwNqgAPlAAmTupMe8YxM8gCZiCCZCfCcia8lABifEdXOE2mCSfSZSYmUhHSZiFidXOAASYMGCbycBAiYmTAAybkZ3HBAAFJyncnQnqnUmmminQASnGnxIAm2n8n5bQnMnGmABCSUAZyp9pgEGp0ACZoEEZhp3x+a1p6ZoZxamIJZlR1c+agEBJwZjpiZPZrZ3p3xsJtZ5Jo50ACJ050Z85-Z7gIoQ52Z1JsJoEPJ+5iEMZ8p1JwoV5mIMZ2IAc9MAqL2ghshlhxXN6wEFcVIoYGmbgCFtBwPMF94AQZFqF7KfAFgNqEwM2WFlYeF5EDpiRphwh7Izgu0eh7xooTF9B-GXaSKcF8lyFggpeEOIEIfDEjvYQSi3l2l1LOx1cyAOgb0PZAxp50V8VyWQVoV+xqgdx2ASAYRtxhgZVuV1LBVxxgAUSkbVZ1c1bJQxIADlyATXymzWTWp69I0WqR6Xqs-LCXphiWOntofykXWW0GStdpGGdlmH2XWcTVnWGhXXXm6GLxiH-XblA3cMvKQDzqrkvWsWQ6VkjrakhLLkGBqgHsZRSA8lk8GA2pyBqwlNb5NB260J6WKGOBkFqGCVViWkM2jgihxy8T4xCBu7aUhKCqm0t6MU0I0kvMZzk2GWCxIruBlao3SHvXBdWdMbv7Ygh2RAR3o22WSkcW8XOZJ2yUHW52ZwArF2RGN6np+2EkA4OABAzaGAxAvgqqY1UU3KEkTMO2u2YE0xA5A8WyYHI4I9MAMBuyBD6B1ZyBTBbYMNyobhSBPE3chKM8WAs8LDYPi12NyjMDkOsa1iGAvrqQi9-qZAKYkPv4SJtFmgiPb4SIQKmYFAbg9EcUtAC08OXlmLQPlATqMgU4jBVllBlAUmQ47rmkeP5bwRrrSgROWtPrkbWOjXnQROLTb4y4wr5kHBxFjBU4FOxAnlWktPc3VO6wIhoIk6RkmPkbwQIRkbTzaPjB6PO94WWldO15jAtOp0PrrBwQqOVPHPV8yAFBmlnk4OmNG6WltExOHVdITJGE+tgvQA59lIV1Avxobxgvwg89Vakv-PwgFm1jih4QVxSgEWRhovl9wQcuS0qKQOwOyYPhIO15PFgvjJmh4vrVzq3TqHovYvVxG4+YHlx3QyPpkuRUxPzO7rPOFpvPSBfPtobUBvcbVxrqcP0j6lpMevYo+vZZkvZvYx5vkbRvjAmAfOCvBi7RpuMvTkbrMV4RwvglpQ9PcpQRKKWkgc6A9P9uJuUOIup8Dw-Px88ubuvOIRJGRM+spv-PdashkunuXupFBIuNC8NPvuQu1iAByHDlpUzlHrjAmgjhHjz57rz8D+2fQMme2ALtIRuvmTPTcbaYn7ZoVnxiEIQPlqyYIT6hyHSKyC0YsT6vsjgeEd7pWXb5uanu2EZ7KmnqeP7sb17mHlYZoQXw7onkXiXm8cXyH-H8XvK0AYt0t5Qctg9vlMpDwONVaUn-06h66RHjEs31ESixCnYj6C3o9-a7EbX9YXX6gTQKDPNI3twZzk3-nueLr5uC337jEnL7E7OpbieC30jloPqTXmnzuMZHqb3mxNwE3wdZdMBFrgM2WGP6dO+ilOWoEFcRbm-bru36YyI-36zRhn34wJtNZeKDQRX8mJP5gFPw3tP-tYNPqAB+0lVcd4v9SSR37rCbaLvuNEmNZCXiwyftwafuM+lLjEpYfiSBRsf+Qbvxf1pFfovge4r13stj3-XxpK7ooUoGy-fsbJ3+Fo-93z3-uVPuNP3mP2Pq--GSXT1+vnf17HMRdIdMt3z4e0goYfSimX0yLdcY+l6SiCAMQzx9E6GdDyJLBIAZ8dKV8F1H31+4wwsBsvFoHvVWgKohkyqNbmqhIBEMiK2GNAUZwwE8YQ+7GbGIQFj621CBh9RVMMjj5V9fC5XbDOfhjKc9tI5USgPgC2z8wBgFQWmH32YooDg+Ug4rgIJ0hUdxB1qBfoIOyjbYLezFbaJQKyzQC22HkI0tUG4hlwBKFHZCHnUaSBUeMbuEKueCo4sAjBhbN3GdkcFlwhK20BweMTcH2DXB4tNlJ4OMHj5pBmBAIcniSqgBQhMlHNppRsHe046LHL8KYPazmVEqVHXtkkPFC2CUh0VZin1TwqRDy4sQkDNzFyr6C6KX8TcJoPQG94cGMJHcNdCsg5dxK90dFkvDvhFIGhcQ8yg4GPpNob4DAdQCIA4CkB1ojBIgPkikHl0l0BgBqDfH94FYKQXtAoRtl8HZtGAT9PqCUPSpL1-QosZYcvl5arFSgPQ58n0LXgDDGeww1gYlT7pMxCAFMAoTTgKH983k19aYU10wFMCd6uw6yjxlyD3CFeMfbgP8IpiMD4CWYd2ghiKzXQdhbEGgSCJN6a9fYvMZriQGRQVBjGxxNkBiP0YkxDApIZijmSMDXFfuOI3wHiOJBPAuM4-RktcSd5PAOmyIhQKiN+xkjji6sP2AhGJEyc6eRQNkU2nxFWESM1QKRBwBLbu5IwuIgtNiMlHkiBRBI6oQl3-Akj2M-IgWJSPf48Yh6dItDAyNeYiiyAYotBvyP0Bqj8RTwJ3s6D1ERMmRXIwwNcWJokZbRMgVeGnBb7IhsSQlF0VQCRRqwNY6nTkcSzTZKk1Kc0V0b6KZEBjhYhIpUVGJl7VxOMeAg0fm36DGjZRneDREPQ5HCxv61o5WOGKzh+i-YcYu0dmP9jND8qPUJFE2iFBVpQQtKWISwjhKJVScSw3wSsK8Hi1ohA1WIakJoH7CwIwYccL93SGNiqAWwuOtSJ9FkBGADjfiI8P8G+CJeTYicYxDKEuBeIUiWcaFBmq8RuAK4roV6LMrCcZASYWoNdV+7ghTxewc8Vxn0SdAZy44riFQHCC-d76MQWHnITXiPjRCI4qsb9lrGUh6xMCPcc+ObHRVPxYiHjLxHCBz5aBX3JsYj03EziGAc4majeBgmWiVgN4RCVhJ3LTikgqEncQr0wlTsCI20XCWRLQiJVY+V4s8XyyRHJ5L2dWMsUEysFfdKmeYh1BWJUB9B-E1qRgAoKIRCT6A3ARPqBMT4tjVsXtNCfhQ5TFRkJhEtCa33thQS4SIkx5CjV5GxhJJpQrKrJKFScoTx9E8-rwkTERcxazExgJGIMmgpOUPE3gHtyMG9QfxpPNGiRJfE8S0oRY3mDiDZDdAFR5IRsJy3ECSA-JZYXwHBSyqctBx4qUQK5kyAtZDAmvZySnyJCjxXJrY9FqAG6CMgJ+L47nLZjmHdBwgYnHLi1m6D0xL2oALagAAkdWDAAAILgBwAOrAAEpbVIAAAeRNbIAgQnlQDsDEkBqAVBWkQLD+K3GrihKjk-mKlImkzjEe3k1KdP1UHjTFJsKLjN5M6ALgNJyU0MeYC2mZBRpxYeLAyPQF1SGpzU1qR1O6m9SqOS0mUD1BWljTTp60oSt5MjGpSGA6Uy4m9I56rTnAnkJkXwPmTehG+AM29PNKSBTTmKzo10fCx9RNiTq1TB6moBMBeABJx0tQbLCRmWRuMlASaYeKPYyBhp7jXaVDM0k0SqpkgOIBkH5i5AHAUiRkAAAZ42JGGoI5GqJ0zURGSR3NQEGAXRuZDMgVKQEZA896Zz5JmXdTxCFSis4sg2IzLIBUdEsHMiockIyHmD5Z1vcqPzPYmbgSulFLCFrJz58zhAYPDWRwGkKDSho0mNWeKFSBsxxZ60d8NzO1nZR+ZHlSGlzI6xuzGA-M5KFTRIwcj+YjkToJ4iqErhv8cwzQRolKAqyvZzgzocbPhq59s2qYdzPBMqG4CXM0jTcMHIYChy2AniHAV8LwnshAgIcsOeSTtBv8M5MIxOllXzmFzPETszXhUDRGhAjUefTYXnTMFLhDxg0eZE3Krn6cV6TXaOaBgbzG12gD42IQ+AWErBLofZMcrGHyxTCb02UlgB2MCFrC-k-tKaTsMXl7D5ahw+FKUFPFRghazQYeUXJcGdinhLwhOtBDXlQjGiLqV8QRFKA3zi5elU5Kl2-nVy-oAfWMM0AvnGBYRDcuUgAot6a9e22bIuE+U4R-ALZ5lU8DDOkmbz2xQIR4d2Ini9i9JLoZdMsKy4CsFhs6OgC9SIl8QZqC46XM8J3baS0Fh4ltoRgAFZ8vxm4U8ICjJR4BIQfClcGtiwURDVhuC7rkwr7FHyisxC2KRBFjnShKFykmwVRJiC0L-09C92NBFQg3CQFcfasSgpCoHzWFbwgcO3K8ypAPoTC-BelRiq8L+FkihMHRJvEMSjFsAyOfAL0VFD86zCxAdbIcAKLiJhAPcL+Ckk0D76xXa8RwD5aXiIlt4vAfeKyCBKkWpIN8WZUglzDAlH86uHAtrGILCEyCxJTwGCUQSkxHCmcgSL-HVj4FYiUWnkseCEBfwBSlsaAFsWQhIJWEDJTF3nyfdMIyS9jH4oI5UL+IGEnUWSgwmkgy5sQfpbiGUkT8Rl2khoBP3GXKLFQNErjI4siXud1xV8cWanFqKk9tSIRWolZHFkUD6AR8RyUQidlaCqW+wOmUKK6LcztsVyxUWT0S4uFMCTs4BbEF6yNNOgoc3wPvmXm5c8BaHO0J8p4lZtWEOy8WWJJF5qTCZuk9KllKpBHxq83siUDbKbh2y-gDsvWHct2xe0plcksFM+lXBErlJ4kgiY8mUVvBzlvRVFdFidkTKigiKuOrLITBErDJ6UdSDEqiXsZzJKkUhGeBtg09sgjyg8uzDFGMAmVqxSyZIBYn+jOVdknAtTIEAXSGAbU6yAABkdWfU6bJkDZmqoSZ1C9FWdHWnoKaBM0tYRUB6gUzFpkga1b1BJjiyzVVK2PodJiR0yzo4Qj1aarOk0D1VmqnVeAHukOrlpTaF1XathlliWRK7H1B9NYlfSfpdq5lYUHBDiygZZY+EEewTX+iDZxyumZmo1h89NeWbSNeaoHnoC4ZVABGVeHFkdMHqkK9FWKv7kVrEqxM0mX6rbXRUeJhCZqB1lFWUqCZM41cT5MEjRqNYfyeGS3xXBhKImGiW0cuybQmjViYMrGeNKHWEz21qxPMWWq9UqSrkVKqabS1DplieJrqAnhTBp6jqmRzsr2q0BJZAg0oWBdVM3FV5rEL1NPS+gPwfUOAT54EYcexj7WUNL1B6m9Weq4y-rZYOgoku+tPUaweJDUVKeKEykvL3J+UnAnXlazfiMNjoyusIMCDrqdZfsx6c0ghmwpM+Mw3FTapQ0aTJ5DQRsLlKBBJrywGUujTsMbBsdek1ODSWOpDZ6Rc1xY7oP9Jen0Ai1fsb9YUCKg4gRNJ0sTcDO-pYQNJ3APMVxsCCs5eNt63LC-MNoSlL8BG-mPLJzZzTnlQU8FlSsZC0qzwvRVueSCHTIb8lbq74Yxr8CMgWNuIDKW9I41e01N1OeWUyP40ERBNvk4TZxULXAyDasQaTaFvTXhas1imnjDCoMApNfNrOfzWeu02QjdN1s5QfLOCBEb+u5G0njsro1aSlYuWumWRtE0bS8BygjSVVrk2wolBwgcGdVoa3Yz1oHwYIGIPI27y5p7GszdlN7itbGtIU9VVdPamdSepIa8kONpamTbbpeqpTeRpU0pNhtBW94LliCjggMQmyvTeYAq2PBTNv1Azeir62kbbNBmIbWwAjVerGQga7VbqqYgPbg1jII2XTNW0dN1tLqrbaLB21eA9t1ssGLrFNEpBTY-aeDX7FJ7OVnoYOo5CjAVi-cBVgfEWUaIlGYjBgPqT9SLwAygw4dKIUHa9FRgS9IdOY92A0DzHA7HZrJBHUbFp24YUI8KUnf7GmjSadtpAT6tjvJiGMwdusD9vMkJgpwSUXQsdUJWrVujsQPqOdeTpWBEiudhPQXQx1A0z9U1ioOVcIOsmsSaJtgD2Bf2pBMT5Vmu-0TcM0UtYHUjOr2ClVvWs7+AEINnpzszSXrKKiutcTGSdVscOhkwmgfuk6HXtb2OLPBI+0lqtxNe9-PXszjjLgaENk4V+jGu9ES7K2Ky48bM2Mju7+AzcTSIQRoApxlaIPF5KuOZX9ZuY4TMiSwMrAMLtJNkdgcql4i9zNUX1DRbrvBBh6T+UGPnoN311lwrJY6-+g131VsBI6zO3GGzpb2P8GIDu5OFoCd3cBR9p-OwTgEbA3AU+RjfRoyAACcJweZCvtHSsT2aFdRmNvrHXZspEqcbgBRqmGADG6HwejaxDYUGAXAy+Zmd8MKDb79ASPJHlZDQBf7JN--N4evNiCv6sxj8l-TxGMZH69kWeW0U-gl4uAfIwFFcHCJAOGA9GO+ydRAbtrcAl9sO5A8YwhVsB-lgK9NE9m61R6odzFZnTbt8Z-L9GhBiilZHl2StBA+Bmg72Xn0xl5+qQUVdUCKgngyAPcQhLK2RUCBWgjIRPqMg77P90+t3bg-wFM5HAS1dm5dAclID8GJW8zdSIQg6pAEFhr+8EN5B8gcHQANPMWM91kOTJ4mCIMrXyNAP6N9AgvUDa0GOB5Z3aLEAcLxuEGiDrULWzvI4e+GHb+Y+W+rXVt63bZfDOwgcModUOSx1DEkTQwknhALyADNhimHof0M+QNJggbw6IDSPeR-Izhv-WxCy3TBdDORnyMYa5UhxSjFhnYYfsjELqY1ta6icnrCZC17DoqqiZnraEpxWgBegwOXuVgpNOklohg0T2xIG6NdPe7ieCN1RID3yhZIQIYEchZ4ZD1tKilSBENAgxDvgZPpIddVjcV0phgQB9XkPx076ZlEKSMZ6Od7b2huyY79HjoN1xo3sZut8rWIOR9q1C5PGBPICyRoIcvPHlLy4OtCD47Qt9ZSwSrnGJeRegYx006T0w2djPCfcKqn1frgRzMPnV5Q4OgakeCg-QNpIAA6WAErZ5mRQeGZAwQXzubvSbJNTkaED-WsUiOi0KKaYLE6KpxOrS8TvIwk8SY7lMARB5Jibo+K+68ATwEvHoFhBFOgAAAXpG1ACEmigS6vk38gpPQmegMp2k3pHpPghGTxgGqKhBmjzH3gSxzcDiZJNNoyTKp6ZkD1+WfUWAn1ZQJ9T5aTAkeaYPAKyZx2mneTFpwU1afp4AFbT9px03zy1P+QgAA')">put("and", "evaluate_query", conjoin);
</pre></div></div></td></tr></table>
      sets up
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to dispatch to <kbd>conjoin</kbd> when an
      <kbd>and</kbd>
      
	<span style="color:green">form</span>
      
      is encountered.
    </p></div>

    <div class='permalink'>
<a name='p12' class='permalink'></a><p>
      
      
	<span style="color:green">
	  <kbd>Or</kbd> queries are handled
	</span>
	<span style="color:blue">
	  We handle <kbd>or</kbd> queries
	</span>
      
      similarly, as shown in
      
	<span style="color:green">
      figure&nbsp;<REF NAME="fig:query-or_scheme"><a class="superscript" id="4.4.4-fig-link-4.10" href="./4.4.2.html#fig_4.10">4.10</a></REF>.
	</span>
	<span style="color:blue">
      figure&nbsp;<REF NAME="fig:query-or"><a class="superscript" id="4.4.4-fig-link-4.11" href="./4.4.2.html#fig_4.11">4.11</a></REF>.
	</span>
      
      The output streams for the various disjuncts of the
      <kbd>or</kbd> are computed separately and merged using
      the
      
	<span style="color:green">
	  <kbd>interleave-delayed</kbd>
	</span>
	<span style="color:blue">
	  <kbd>interleave_delayed</kbd>
	</span>
      
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      from section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>.
      (See exercises&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>
      and&nbsp;<REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.80" href="./4.4.4.html#ex_4.80">4.80</a></REF>.)
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave-delayed
       (qeval (first-disjunct disjuncts) frame-stream)
       (delay (disjoin (rest-disjuncts disjuncts)
                       frame-stream)))))

(put 'or 'qeval disjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyUgYYgFE0XE3gAK0uVF9GIAAPQgwiouJ40DBr0kybq+rCcKsA4jyqlID4GHazqJv6oShoSQM5lWqazhmzqPMCRblpRQwdvWoKb16tbptm8wGqalqGG4wwOrq+hzsGoLRoyLJrt2847pcebFpet7TE+qCgu2-600Bg7zCOmcwc6s7Ya+4aXCuya4f296XBqMQqFqBh2jIXxIfJaH+kGWHprxgtqUoQJyAUBgNBIERnsjchfFqIw2QqNheZJwxSQxzbklSMb-zxKYZi4nm+eEBgxaeFdmiw7bDDl-DVyeQEAD4mZZtmOeILmhZFwYPlNhCBesPW9OdooreV1XSVxoHQGqLRSA4chK2IbnheVgXuDd0XxahzGfel36HZXUpI5VtX5aaHgNyGGmHadv0DYBY3fbIAOg5D639BTj2njzl2DHCQuTf6NmiLl-kIrwIHDFAORFAgGB4CQVA0DxEfasZ4hcOJoxKAUShuAtyshO+1JjDYGRGqnmg6DEGe5-ThWmbn5TmlG1niD3ygD6KBT8AxLFVd8BQWHwBdcIvwwn5fhd8A3uhz8vo7FodAl4nzjktegHwhDIxMMLMqH0Pj72UqUSePxjTQO5soOBWU6CXwXiA6+qxwHVlINQcUmDsFdUQVfZBLRTwMBIWQv4FDyDwNwdQ-BoDnSn1SBaagYg6AKAtmCahhDYgoPoXwgRQi6AiNnvPYBXDFQ8IgSIagqIfjXSOoYZwgDaGoIXG8biGiFxaOIG4XRHDFFiJiCo4Wz9hDkEan1bRlj5E2P0qABKwcgZblZiwRxDB1wUCEX7M6oja513sQEpxL9hAUwicZNCi8PEqOMGTRwH93H6Poek2smSjBtHycoYOUCtAyMoOE9xnDUngPYB4LwejnQSJ+PU5QjSrEpLAQ1ESqtmDlOEU0xULSFy9LKU1QZnSCHdN4YQQgIJuRUOyc0wQcy2AUwMR0LQ+ggbOMIK4hB1TrGRL9NuGcv8GEMTOqwsQVT941NqWZYIeDQA2Tsg5Zy1JfCyPID1LyPlNnExqhFb2HN1k7IcNwG5A1XwDgavs6gCh1HUDLr45EkxBoxCCmC3ECKkU0FRQjXByIoWkFuUBciz5-hwtSLkZq+BygMDRQ4DFUEYjvnMRkYqgLtm7LiRTdFJy9K9S0FzReB56AVP0EkvSuzgnnzCRCugjsZUEWhUKuuuzxXyEEYM9Fj5YgrwYL09+owaRsBoauUoJqGKqNFWCI6XKPGxGaGODUYYKIvkNE8zcJLXm2Xsk5YGRL2S+BIP81Z8zfA1RzHtBmnEzkMAue-NGk0amYqCg5dmZLU1rTkqUGWclNZZx5RfEGM4bnnRqRqhoibk1XLNRWnNVbrG43jR5AxqjjHOE0S48xOjDlz3TTHSW4Dma1m6lvC+Ri9mkCCYEG2RyUnOpGVs6d9AVZaNUXcq+NTjKmSnfoGdW7OhyPudY+m3tO15ItiUy+hhh3khpY1ZqlBcQ3oKdQiYmLDWxzdaGcknrqXCn0A1YWi1xlSq-aypJQVS07IPBB-pEzZH3sdikgKVKf3ssgQIctfS56XLPBKUAST4P4cg5M+RYROAYZXM+m1xGEMLRnNQoj551orCChR+R7HiBMUKEB7D-pY7XqKbei+qqsXmNY8hipO6aN0azIBuN3s60bwcFIjU+h-5CJhVTWOP1xq6fMWIgtv0NaZwPBCSEmmLECNqHCbg6mGB2Z0Q5wYN4TMTARGRUjIKQ2GG5IwBlMCsGsJwTu9az6P13tEZx2IjYv2Mli6UuTwiosCd-aOh6r733ic-dR51njC2xjWHMi2NtgtJv4CwthZ0ePEyg0VlVddqTVdC3VyLAlbilIK3eqTdckZ9KaxltDkwKWUsjF6rjhnaW4YwRUcLbChkrLOUehbsiuuxU-s-V+gDisqMYeQpblC3FIKvApUE+hjvMNOxFnbX99vxdVc0GWAVVMhs7W0jp8jH2vFw6AfljIfsMH5YApijZux6hSx12r936v6H5ZNlQgO3P8I1N3IELn0cedvNyPUKO4OHv5TWooIrKuNRARK3VqHocPulFp2oDPl2Xq+-QsZ6XUNTKXhLBM3jjWYz49K5Jh7elmIsYO3dg2Vis8+-jOhPwtPNaHdYwajZ36Mng8r4RwuIkXvJFpx+e234MX0Drrbu3v6APosRmpTEgrvzZwrzt6CtsI5wS8lJg0jdW9fsLt3YWzvZT9-+apK54OB+2+VU1+uUknLo-DF39DbscGj1L-7sRfdPdN0x1PwcPePZNzbiPh78-p8YLHpdBCE8EPpp3Il3de5KCgHARAyB0Cj2JOPTiDU14bx5dUXeoi+cjXjs-MggCYgAB9p-GT78zIfU-QCz-n6kF+r9+jsPcSvuffojNh-3oUVf+-Uj-sXfvZ3jMGrMDEBIFW62rGUD6PcMQF05tBKziPgAZN-3oOcR9xJ2QX9b8r9e9pYAER8R0Ewb9yA78SZH8-tXkTNgV21zBQ8k0-5ICd9oCtoc4iJ3E21vYGoLcz0r4qIjVb978GBEDVdwRSDUDQV7NadWMc8p9XxqYRgbxtoCD94JtboQ1SC9ccDlhODPMkx9BeCr524e96p5t3hmB3dYEHtztyCOCP8qCEDrsrFwQo9C9nBGCQ09DlC2FjdrcoDRDY4eCJDrC7R4sZDvZjDlscFhCj91DR1bCsgpD+C9piDUhy99Cpdl4NC4DqDaCFFwQAiTCcFDCFcojnCi9zCRDssExPDs4uCJD7CvYQ14jg9K8zcLCUi8CMi7RvCZC0CpYaD-FAkJcB1t83DLCctUhNCH9tCkDJJqinFaiDDsiFdolAl5VQkyAosKDY4bhsQMCLkTNuA0j7CBC+jOiwd8B4l2DGjUj8CJCyiiCQ0ekhdKNudkjpMmjX8wi2i6DOdRtZFYjGZxc+1Jd6i1C1jijxC7DCCwC5Cu1kV6Be19l+1VDgjjiWiaCziFFBtdCN0vj-5TE7i6jrjOJj0XF51+ZCijiExE1AgZAXk5Z5jGYET9lt1Viii0RQRBdMSrFSQcT4SN1Z12YLVCTUTAx0TKgXkdBtiFc+9+sskGiiSx1QitCdwdDUs4SPIBdUs0NRjR11twQhTuBoNKSPJUsRsBlZERiIhYgniXBZi3jfCQ1GtlSyD9MeTtYit5TEYZMlSUNKlxT3CEwpCAYKjwFHo31VZOTrSNTwEZY0NTTKjwNZNLiDSASYD45xo7Tyi-CwcuRftuSeTYD4DWiBT2ifthTrhesIyGl6SNo0TrtwQkzZT3FvSgdIyliViUSGTNSNjXi+D3j7pZl5lqBFl-iJSgyTj+SyCrIwV6yYjejGYtUYTGybTnjJDMjtSk9GZoUMyxChzSjhy+DuzOIs1xyiBDSyyPSE4ly5y5pEMm1d51ymzBz1yCzhtFy1o9ysYJCDy40G98Ym95AW8B529h5R4dBZCaymBSAJ0ep39R0-kgDx1+N5dGYBdfFBjJBhjuBSc1dcDiSdxwT6VGUgZwQydCgQKwlwLliehE8HSGo6VCAGUuY0UvzmygT1sZArIcK8KVYEKNzzA5UIshiFodlCLGSSSMSdluBsSdSFc+V0LGLR9oKZxWLSLQAKTOKeyiUqdKwacpUZAmL+LSS2LdA2TALUzGMJ03h7VZLgRszVLiBELUdZFhFqLKidKbsGJNLYzTidx34rIdLkyXAdK7VBl35NK0jnKlLOJb0vgdEd4JKpLBlvcoK-xuo69RLOJ8M5AAEAqDMPCc5MKr1HAvLg4WABUQkuBILChoqEwsIIqhF7c9pGxn9g4nTcRtVJVhFGR3sXzRJUycqP4c8GcU1NKsJQ8GqrkjKe5UqzDX4GtUrngMq4wYqRhar2raq+Merz4+r1SBrbSJDhrqyXAKcxVqcdUoN6rbcGcWB1giqCE+LgQLYxBn8jB6qG4pQOAd5DrTwlg-RSgsIgLUqjqTdWrCdwKtqJLnVmgzqDrVAHrv4BoAAePa8676y64rTxH1CEAAFTvi8SEF8EEDJV4HkybDWWoFqGaHBFAAAGpSM2tbYh8hQEljqsbXkrJiaZdCg8ad4CbTLCdQbTJSBzJIboaZBiBHJ4axBEaMtka6y0bXkybcbF8qaZBCbHrwhsa9KMbsbybYhKaxBqaQb3KPI8ourc8J1Q9M88wvsQEaC75sQoqVhvYgshAfrur1qEthIP9PSWrQaFZF4daiARc2tgEsF8BvKxBfKVr-KCEbaM5Q8Rx-8RhrbpaYhZgc4Qbg7QBmgjbcEiJjqbQ7QFastyJ6MQNF5-bCqX0npSqWDzbycGbnl1b-U6AX5yhQAUCUdBMsM2UjRAdarGRwr7qlM-Qgpo6dlOqWq26JqkK-RRqU1O6hEDVBMVNprAw7b0Q9aQqAsFds8Tc9cc9bcNae4tbKx7aJ7edq7NaFdW6WqzbhMR7KirbjrBsUFtbx7HbnZPLXah8PayrUNl1Bso6c9-btYj7nZSh4JtpLrbcfaXV2tjbY7Rb46shE6VwdQU6DA07fyX9iqb6c697YhwbC63kS6RAy7z4I0GCK6cwq6klGw66gQG7IqQrYwW7gt+7Sl6ryHWsnaOrz4xqqGsHk6h797FFV7gql569ZBG8Oq+5W9B4O8R4MAqrwE8VkVCV8YlVAyx8Wz4ywQ-VwRRGCVdL2rFGUVg5EV5lLTPd0VTyA6Xish9V6ZCpSF8U1GmVuHsdrt0wpS5g9LYg5hVxqGigpSOQ7GYgORHHIkpSMI3GrNSBPHrHsyzlfGzkAnpgpSD89KD9nQnHCgpSXp5leY9KEnQ4YmvHsyfU3GfVYxYnYgpSbhn92YWBDBEKCnVAinu4VhcmYgpTMbfHYh9AepuBfAG5jY-lsa4bQBqmtKYLPJ6mYhGnmnWnQA-kfJOnumpSnNphBnQAWmjYRnQBIRZmYgJnszgB+mDAmnZnhm-kwBxn0mYKABSDZmZuZxuP5Q55Zrpg5sEcEcSep05nZ-2lpm5iEAAQklAea2bObadAA+aBBecCZgr+pOe+aeYBpiEBfCezL+oBH6cefmb+VhchdWZgsNlBaGcRdAGNhRdefBENjhe4CKARfOexaBG2bxbeY2YWcKEbhiDediE-PTAKkB1UfEYLBVqxxXHGPSOEG4DZZ8UbxZYUJ4BMbEcFfxiTRYDahMEqUBG5Y0CVXme8bFaUb0rSP1W6aKAFfMevLTEilZdVbMcDyxx6bBClPPz0vPy1ZoZqezMgDoG9HUWjSJYdadbfRtdtfyaoHKdgEgDcbKYYD9c9Zoe9cKYAFFfHA3w2Q2napSAA5cgeNjZxN+Nn+giYVqkHVqPFq+VlYHl4URubaGS-lo1suE1zNgQbNzbGcFNPN6YAt+ZjVi8UVxFcV7dRQypfV0FNZXFMtiVgsJVUlMQM5TSnFBgaoVzGUf2Xwa+tqQOdYZQUhTQc+1cHVjRjgCpbRllbumIG5Udo4IoACziacB+bOqVTSxazdZa2+sEKTc2EQfQHV3ZHenGtrathQjBa23dh9wYZ98S-AaV2VhnCO1t0x8tmtsa2N2IDOmB89wy+mDgAQDOkdwDzRG9lglLeMQgWBi9k4aQJe68nhu8tvIeTAIRh09SigUwUmWsD4cqG4UgRpfPcy8fFgSfVy1hJhDgCbJOPRqcrwiQljjFcWhgSWk2fG4W3lgT0y0hEiMRZoTjuTv4BwowxQG4F0+VLQRdUhHeZclc8gZQZQRGjIaeIwKFIz4Z7ubG83Iz-28EDG0oBzyOkmvm7Gwz5QaDxUBzvM3T8lAshwYJYwGePz4dhnG5KdoLusCIaCTKwMWW4m8ECEYmulDT4wLT-mHliLwL1hYwMLkT15awcEALugKLpgMgBQc3MlVjtIBOG5MzZA36XSEycBdber0AX-ZSUDYMwTu0er8IWffjm8frv59SYoeEPj6T9roA8Ecb4yUoKjwzmcMmej7KRjxper-dAwEglGhsj6drzr1cM+IRJVDl7o-b6ryYeb15ZL7GnLhaYOP2Sr7acc-rsWt9v0DG8TyYrAk73s34+4qrt-d7mVL74m+74wcr0gZ7isrIV7y7kT0HorrbiHi+SSUEPSm5bgVHqHwSBTkRrOTblYUoVHiEHx5za7F76roBoHltnHp7-HhfPz2nvj8EAAcnE5uUS458s1lupvq5K7K7JlIApmF7mcCoPwEianY83G2jF689jClKEGEAluCAloch0nbLcGLAlvfI4HhCu+J+lCi+k-l5p7N+N9y8e4q-x9J7l9rBF6ARvAt5x-l-mtAHnerCC2XdrdtX2Q8H7VWhq47L29wWuga6V925iO4H+4OTD76gV55c98XZ9743nQD7cDC6D8N5a+O4vnD746lPG9lJz0wLSEioT-x+und7F8fh+R6nT5KTcCD8GmfRD893D4SzwfEr9qBBXB+-L7+-EvO-j8IEHv0qzfkCb+MBVmhXikVdr8-nr8b-7Sz876y24x76fpm58b461hzn9+n5JmhSATSMP-7WP5zV45WGaBfe3-UmCb36n4v9n5zUszv5N3s+T+9+oE0D42a4VjZUt+JuXdknwXY-8-+78Ffpn3Zq5pr+LXIAZK0Lrn9ter-fzoBiwzPoTM2fH9EFCL56UB+2A9fhgOmzRhDQcGPqB9inqMw30JAFvhL1SBYQC+RvGGAn0szg1roVkANB8gWp9lzAtA5RgWXUpjZw+u1eFCWjYFG9sYY-dgfnU3CcCi6gaT5CP30r2oSmitcwBaGLDlRKA+AMHMHAGAVBaYCfXagIJb4zctB1UAsoYPZja9tI5UcHKIMCrbRhBKpbPu7wFwsBqg3EHeLJ245pVnKu1LCPnltzngCyXgtRD5XzxI5vBQ+FyjnAiE+C384Q2IVELNyJC4hpgiQhkJ3jtUch7tSdrVT8HigY+vVXam2E8AhDaGA9Asle2KHIQqwDEUoRNSCFZxPBqQ3eFUOcrNCahx7D4iQnoFxdKixFa7AoNm6oEsKn7WRGQm2QKDaq2PYuhRUuRzp1AIgDgKQHWiOEiAGyEwRvR9ggYGoAwzvvAxwwit8hIODoRO0YBFC5hvVJOiJlHTnCgC5+Y+tKBQYqwSEDAVYcIHWGrQehfIB+qjkIAUx8hwufIePymyURn0TAyvicMzKBgsIuQYEdJ077cAkRFMaQT4SzA4MSGomSgaA2Ho8l0RQfd3rbGbhMphYs8RVn6n07wjgYlI0VH0lNghdyRBbSFNSFU5cUGRFsJkc3BZGswauVtZmM3Aa6lZc+Blf2P0DLgpxV2KwY0qbFjYFxjYMgbkYwDJGsx+RLcYcgqLDJfYeooqFWEKG3SggnKXHEoVxCoD-D1ojYJ4UDkuGFD7qVQuakMLtGRCxA-tF4UbzqFVDHECiYapZl4h+xGABTfiKCNNTgiI4lo6oYxD6HmBAxZAYMaFG+q8RIxfosoYFXwbqQZASYWoBjVZ7Zi9guY9ge0E6BPsoxvo8IHxzroxBLMhw1hGWPIJ8cr2E7DeJSBNGoYUxFotMRNVrGMCs4vEcIL-gJ7WYKxe-KgEGIYAhjvqN4Acbu0VA3gKxc49COOITGTikx0nWcaBwIjbRFxW4tCMNXx7ggCxHAFXqSKHxIcQ8wojUZ+VaHWYtmSosur9A0EuA1AJgLwOzEYCWCuoX45wNwFr6dja+w1dXIDinGC5zUxUeMUkDXF8Rvq-4qMT+PoDcA9xaEQCXcJdGgTHUFqezseKLFG8xRKkakOeMkCXjmRGEzlBamfFlBIe3g3qA2Jq6y0NxVAXUQrjSi8iNR3QNkN0GjjkgksjINKDiE4l+ARKLDLHGBGDDjgSsv0FzoYHd40SG+RIX+HROAkitugjIbaAOIdwf4Bh3QcIE53G4udugiHSQKAAhoAAJcNgwAACC4AcAOGwABKENSAAAHl42yAIEJVQdIs0YJtgrSKiDOiQS6AVo3arwGokygeoDYoMQ11YlyTj+dgvyRFITH49WJnQBcAhPeAFlkpmQHydoMgQGxAqZkiydZNskOTnJrkjKZICuEVAeosU3yc4H8krikgmlVieqMq5ySGACkzEgFKAT0E4pzgTyC1ImHexvQs-XqblIClBTAqLUikVQB5aqpfRiNI2DLlfHtIPx2U+wR9HmmWRM4lAIMVaO7peS1Aa0+KeNOjHlEkOcQDIMHFyAOA-YjIAAAz4dvYNQRyMakunswo+sUagIMAuhvTrpEoxkHryul4Vbp2NPEJpNHSAyIEN0sgAWQFzPTlh-g+oUuAulp52+n0yCC6KwjjD+WWcSGWjPKhfSaewnSiYEBMwIzxQqQaoNkEunWjAceMj6QTLNBl1War01GQzOyhfTko5Ib2MKODiOROgjSJwSuCNRHCTBSSUoHDJZnRCFB9MusqHwnapgkkKiGETINjA3Us4vMhgPzLYCNJWBY-BXoUE1nazGkmInPtwhaD4jmGPJI2QLOpk8d3eFQTmKECTSj96IynZGUBKgg8zAgfM22dF3Abddlh3UGDMBFToljgGZohoQ+DhEsM-y9wyuqQJjmJZAcLAC4W6KuFMpG6Vo+OdMCCipznh4EccMHVKDZiowwdZoDbJ1kxD054YiEaxCwDQQhMewlhuIOsx1hXhlc3WbFQxSDdO5MnB8ICNLnGB7hbEF0X3PD7u9mxRo3ChYj+BIyAhnQCaTxJTkdC05SQjOUUKdFoTBQIGc4f8yDDqh5QwmIKA4AJrQTQxlw8MR0KATITYgp4bOR91ABCZn0Aw08Kyidp4BIQX8lcDaNXlAhQRDogBPfNOn3C85q8-eZ6OurSgz5U4+eUuMVBhj0h18lCNBFQj+iysFsg0XAsaFsBs5JAqESBkdmVZUgH0YBVvImp9VP5382bKOiPE5jTx+CmbLnLxFYKuhi8kBSpmoGcRT5wtc+cmL3C-hPZLozMRJBwkq98x9CgARnCKSljCAAihrrVV7FBy5FlYr0fqMpzTzXaOiOeXIv5aCLeqSigYYQHFhNj1FXMTRbPMeDGL+WbIICaACoWQglFWEFRR1z-ytzMIpIPjjwtxCwKZxusUDjONJDwLCg3ivhRuP8W2tnQ6koJbfINq9VDxYi4rrGOMqXSZ4-pGriMITL+kbKl0uyvpSwQhTdEgM+ISUX2A0z2qkM8HMUrEE9cZOtEcpRH2zKdB+ZvgZou+WUaWY0i9SnjsxLHK9t2YrMi+IDL-EO9cUDUwKaAFQktCoIjYLBFvkGUAyLYdDfPJTNwTFLIcaOOgGfMwnFQZUoS2BXBJ2kJjglDQN4AUrqJHoA4jAYpScqKBTLehLDUJTsuwmSK+O+E6RVOlo7kw7ZSVHinMqECDKDZbtC8WqKvGVcnl5E6QkZIEAFSGAdk6yAABlw2bkx8ZkEem6lJAh0wGfVKOVJAl5jy0KVVISmNS+O0UsKSTGxXErlUlmTKaMkulnR2qtKwZQyt2qwr4VSK8AOVJnAxSVYlKrqbtSmm-tZRioZqWCtAxhT2p5YRSV1NuWFBwQgM-qWCvhDd1RVzI7Ga8gVUDTelnEcdnyvGX4qeSU0lUTNMVaqpAZ8zGXOOycSAyflOM3FRMuGr7TMV5TPVfaqtGUSdEzUNPGL30CHLdp0YtiYJAFVgrppVI7ECuHwbGwkkgqirJbCVj8xBsw0o6XVN9WjLP8bq06XOIfG6r6Vqa8mOmv9UHiTko1FqZRNLRfKReeakXv8MDW0yRWrQZEHxMkCSEw0F8C3uCHLVi8Y0PJBtQ4A9GFyNQfHT1ZowrWi9RlNa0tZZl7W4JXBVpC3iWrBWUSGock8UEpIYFMil86kpiQN2nzEJ6xW6qFckqZjBADBo0xgJOzknm4z10WA4asqqmrq0pIcmuipL8CMg2pHUq9bVPoCMMJ+AgYzgzV1xpTA19bZ2Kqr5HdAteX6ugIqtNjdqGgRUHEJBpynQaBpZOLCGlO4APj-1pMitGetrUo4m5nCh0h8BPWDKM5l66pTMtZbjLGQZys8BcvWVPpb1lU3qKuq6m51GwqkoEO+qlWdTxlP62ZYkBw1kaWpIGvSGBvYnbANVl0mDc3Dg3at+AiG6TRwFk2sxEKSSLCMMvrjzNsNuuSGaWoI04jY0XCjyDYMhnBBk1+3a9TUsGWfrkNqi+SIIGEC8rUlj6yzDYLSl2b1pyqawc5ss24JH1g0EjYEH83kawpXm1ECjiihsARpUG01rCqKn2THJLkzleSAS02SktpUlFehrPWYbhmr8WLcht2gsNwQGIJJaOR1V+abVlG8kMFuDiQyL14WxjQDhFYFbmVjINlYiuRVMROtHKxkJpsul5b5mbW7FUTljilavA5W4Ru1HwBUyTopgBnAuoVE2aYG82rqGtquqOaltzcSzDNqpnDYNtG2OgODC7bwLO1oy5jMdHoAnajtJ2mjA3MiXbaBRbaBDfQREAS1zt5MPSntp83CNCY08dVAGtLXBq7YxqsNcKriXoNC4D2lYJL0+2Vr-t2nUdUD3u2RKGgwK4iaCuZEHjbAfmG+IRJ3ggrA1VDBubBDey-QUIDQJ7YJGmivaNeH2z5V2u4CI6YxDpXqCYH4D59dhLo+DAoJQ5fBNqpiDDhUkonf8l2v-X3kxkB3U7fQLdENWDtmk91Uqi0v0OzuM7bJNInbGYZJjaxU9yU-w25Tdhj6tMtx4NSsEhLR2xA3kSglwLxEaH+NvIbnUnXjvBBi7U+78A3iugJ0jtMdxO9BebJlg1oZdtOxTa7vAHi7IBDEBnTWGJijq9KbuiXXxn1aNgbgDfFJrzEZAABOE4N7HT3voxVtI3PTxFDiBqJ2fsGeMztzpYCE4HwJ9U+ETkDgXAQBO6bnUKB579AbPNnlZDQA975NCcyiM3NiDt7jSdctvcXt5il71Ek+KaQQSAQuAfIHFZTFbJiB57J95ehnKnuejj6Wm7vZpbzDaUToMcJ6idYut2rU6Q9tzPfa0rfK1ho9Z4WPUzsEBsAWlB+1nd7BQGpAfV1QIqCeDIAvwdEHrZSVSFaCMhF+3yZgA3w-1liHu4qoqIlyOAG8mIA4IOKQH-3OtRuEkHRGdR0i51294IbyD5A-2TLRlPsUrvwBiAEH-Ij8sfYYESYUxXeF21oMcCflV0WIA4IDboP0HsxnN-MJg7nTM1vSLNnmjzXhvBx8H7hyBv-VfTfQYHXkWB4RPCDhF4GCDjutKU5qMH-IVDVBpuWxCM0NBlDKhnyGLyGjgTu4hh7yH3qH3b7id0akNYrv3HK7oddcBg98r3Ga7oE2u31QboMDm6e4wzJeAbPh2i9ZSRE3QVjr5EywJsBGo9fhiECGBHIk+b-fwDrXAHQDaapfhAegH1SYDSRgQOLQQMGo8GqVU1kEa8Pe6idLUnTE+LG3HFPStVTbQrHBAOQYaMEofF2PICyRoIrqUrlb2R3uHph08VoDMRzj1GgERuvw-MwCMOyUgbUWbbghRinQT9y29dTAwWODs1jXbN5RZhv6kG-YpcAvPGsGCqpSj+GDY5XBmOowgEMuyncS2GZgw5jjaLfa9FRjnHnjp0FVHjocN0MDNF+iEGryshBHkmMxuY-qw-3I62eX4-QJboAA6WAG1b+yYB6CZAwQSroHtmZDMMUaELva8hQP-7BBWAMEz6ohNxSoTaO2E-CdjUqxODyJ6HmWOsy8ATwQCHoFhAZOgAAAXi21ACwmigCJ6kyifGM9AOTmJvSNiciJSHjANUVCDNC3Ifj4jk+CE5ScRNMp+T3zCnjBQ6NWQWAEtZQBLRV6TA2eaYPAISYu0KmnZSpmk5V1VNmsIQGp15FqbIq6mDeop-yEAA')">function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave_delayed(
              evaluate_query(first_disjunct(disjuncts), frame_stream),
	      () => disjoin(rest_disjuncts(disjuncts),
	                    frame_stream));
}
put("or", "evaluate_query", disjoin);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p13' class='permalink'></a><p>
      The predicates and selectors for the syntax of conjuncts and disjuncts
      are given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    
      <div class='permalink'>
        <a name='h5' class='permalink'></a><h2>
    
      Filters
    </h2></div>

    <div class='permalink'>
<a name='p14' class='permalink'></a><p>
      
      
	<span style="color:green">
	  <kbd>Not</kbd> is
	</span>
	<span style="color:blue">
	  Queries formed with <kbd>not</kbd> are
	</span>
      
      handled by the method outlined in
      section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  We attempt to extend
      each frame in the input stream to satisfy the query being negated, and we
      include a given frame in the output stream only if it cannot be extended.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (negate operands frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (stream-null? (qeval (negated-query operands)
                              (singleton-stream frame)))
         (singleton-stream frame)
         the-empty-stream))
   frame-stream))

(put 'not 'qeval negate)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyPkCcgFAYDQSBEBgKjYchfFqIw2U67ragYQxSSouJ40DFI0gyf88SmGYuMjQbhGG4knhXZosLmPrrHw1cnkBAA+alKEa5rWuIdqBp6wYGv6ZqiLmva9JeoprqGkb+XODiPOqLRSA4chK2IDqlpuvruHelbPrGoKpvSTIdpXUoodW9aVk2jchn6W6nuMwoDoBY6-rIQHgdBrrwdRkanme16YkJ467qahCdq+2qCxOs6GBkLrKBubFkW4MJYYmlxeaoLRGGZhQjFO+6GAF-QhepdmfvMCXKCl4b5aauWzqE8aEkm1IEf-XXBOR0AzY20ASYB-pyah-R8e2mXdvxxnQE17WZf1hWiItyY0wi9WXEMaoxA4Shsr9gAPQ2gqwuPuC9s2Q5wPAw8Mb35CUKA4EQZB0DxNA8Q5zjiFwqhiDlhRKG4S7KyEuHUmMNgZAYKua3cugxDryh5vkmIPnr5Tmnhpra9HwflIU-AMSxYbfAUFh8AXXDp5XteF3wTu6CngfdpaOhm-Hu3UmNIQZwqZQurK+gj7nlpTwYK+6Bvkx76yugB8b0+h4qQvgwaspBqDilBnfcgD9f4z0AUUUo3cN7QPAX8SB39UR-xPmfZ0E9UgWmoGIOgChLpgjgc-JBLU3CEOIaQrBTd4GrGAW8biqIfjEDjoQQI1DH7kOdIg1+LDqBsIXBwrhxAeGwP5g3bBjDYh4IYF1VewhyBd04dwiOvDpFyJiKUBKIMw5biaiwFRDB1wUBIf9QwR86b02BMY0xa9hC+BsfjK8DDz5TWMO0S6yhp7aIoa-bxtZHDTzaCEvxOsa4kI-tYuB-8cGKgUewDwXgn78Jfj8FJyg0kzwSTo0ACiRJRK0DEshASMmUOKR8aJdC8myM8fgwghAQTckwXwxUpRWpsBcUgjoWhlaXFimIjRzgbGyNsbGbcM494gIYtY6BYg4naPyQU0ypBzJYJsnZByzlqS+A-uQOOXkfJ9JrjVUOQyPLdJcSrRZItXwDimlw6gChhHUHJoY5EkwxoxCCjcsxYC3k0E+Vcx+dzSBLKAuRZ8-wnmX0UIQfA5QeZgt-t8w2MR3wSIyMVM5Ayw4MCcbchwHs7GFA4VLFaTcDz0DKS7cl0xCXmKnlYwZdAyWMqKPcyZ5LCU0vkLQj+7Lg5MT+WLYBxTN6jBpGwWeq5ShSoYm-egUswTcNxQU+RQZ1ShmWBRF8hozLBHZVZWy9knLizReyXwJATmCGaT0mqOYzgVw8tMhgszN7WLEYYfJvygoORapCn1nClidOtjNOSmMDz6HxbXKopAPjBv7r64+DDeUrA9V6+ZMqZz3LjWG9NACM5YDDpkhcQiRFqPEZI+hADRbG2SKkU6tY43VwGSwmtpBAW9XibIrVAie6dvoNS9RKr3jjI8X6UyHba5dpGS1OVU6AHhTdeYShwTfH+Prn62RY14VdwUJoXEW7QkDwmL82IQUxwagCrCu2wp9BTS6smmppS6nSMvVBFYQV43KwPG+5gH7hUzzCJwBh97IyGobPQKkiagP1zmWeCUoB8b-oQzOd9xB6Vgd2pBlch6lUoYA0mrD0jkPnkxdMIKmGdZIc3mKnMD6f00YlZu8J26GVoW4eR2psSL34dXSuNirqy3WuzZ3BwBCiG9QPiQh55JW7TURvJiRcjSg2wxjwLGUJpPUNk8IOE3BJMMH0xHQz+gbxqYmAiMiaHLl1XMIYbkjBkWfygTA5Z9dDaHrPX4o+1GsVwYEGBxk-mQbYbKd5weTHxVNuAThk9w1OPnrw-jTTUbYxrGaZdW6rnPX8HQdAn+1i6NRc-bui8bi4IFfc8VrzAlbiRdSwFmrdjeMlJw6QmLtnoUwug9GFcyn34eYwWMjpGTpn6FGw1n+y9V7r0C-jBRoDUEcDm+0ipCrgSgn0GtiBt9xux23ktuBWrtVmwCmJ8tlDsm5Okf6qCjZiWMnu0S-Azij5MUbN2PU4W6tFaOyV1E1jiX9ZUCF6UMmNQ5yBKZ8zNDep-bCExP9c79DEszdMSleWu6n1pUKsEKPuCI8M3uhhpbbuv2qcB7roHHv7qgkFfRDBiNtva-+4pIyJGaKkT57H7iS1rvE05lwlCYe4cZwwsajZN6Mn-ZL0hlGd2D3yUxGHC2d4q-0Erj+WuzsrKrAxdXSmJWMZu9ayhs3gcwPrc3MamvDCneQSRm3X8QflWd4t82AuVz-vd55+b0r+0Zv98J76VvX4HbQbbn+9vDZO5dzrmPG24+xW9zvVxKx-2p5Bun8qIejdh5zxHzOsg0U5zkIoCAMB4BIFQGXNAxJ13NpSx3LuHbI5H0bQmeGvBV5kB76AAAPiP4yXjTrd7gTEMfE-Uhr3Xv0fng9R-j79P3xGM-Yhz436kW9fbtEi-LVNZgYgJArWm-UygfR7hiEThK55WMZ8ADIX+9Bxj38S7Jb9n+P9ayeEhHvZnR-Ftcgc-IaK-RncENTC5UXTmTPdeT1feQ+GfEAhLbaQOHzKnAA-BAzInYA5YZTM-C-RRPbepcEPXHSDOctKgg3X3VfV8IKTApMbGEYLAweUVV1Wg-AspHXNAogiVFgu0DgrgxzTmKaQPY7FfFuUAu-UgqA+uKyKQz3egOA8tFQmBegwg69IQz-G8YQhg4OGg61TQ4PBiHQ+LBMQwqzVg87EwsXYBPPTbCbbRKiYg8AhQ8g6A5wgvNQhwzmXwj3LQxAow9wvQ9g1gmw+wgIziIIoPWKIvHzcIjA-Q1g0Q9meAziF9BxVRHnOtAQ3QhLU-TwyA7wpQ0ASSXI7tXnZwdQiTaollSxMgGLWQhLJWUI5AtIKebgaI7RNWBo5RVRYlSwo2awtIkQuw-onAxwqaWnfjcpZIpguQkgsoncCg+YkDagtdctbndRWorRJYwQ1IyIu0c7f-WYhFEQd5egdhfYgotw5Y4osAiAy-comRdrSoqtZwO42tPneoxwhdcdcRW6R444hMD1QIGQLBOaHY0w0dbtCdVolIiE0ENnSoLBUkOEwEhExdToRYxg8EwMSEjE+pHQGYiQtuVrVXNovvF4rw9Y6AiLAEzmVnCLQTFE4kvbcEZk4WL9WI+qakrraLYA2IIklwPo7A7EzmcrOnKXKrTkiUz-PDaUziTrCrATPDRUv8QTVU36VIJLSgU9akjkp4uklTBg1Hbg3AxRdYPjLY008U4BM2Wws4-kik7IhfLkB7I4uMZ4+QtYgkqye7FkziVne7UYoKabcEEMvknzPU8wd7EYwooo8Y04owj0-UlqR1agNpVw30qwk2AMt4xkioygnMvM-whMq1MXGoh4gssYwMSUzg6swQENSMiIwYG8DIgU8wINAtIgRTVMosl0wc3s8WQDfNSFfQMc7U7aMc1szrAcwgIcwslwG8BcsTLOSvXOGvAuevYuJvHQVvYBVtWuBOXvQMY5b-M8i41k5rVFMXfQJoyQFo7gLHJnM3BLaM3IY9ZFdqMOcEQXIoF8qxd8z7HoAjSPS4lVP8lFL5B-f01YkssEGQZQxFf8laQC8c72NFMxErZopNZWRC1E5NKE5WbgWE60xwwlEYmQEirksijEtC0ALE6imUvCgVOlOheiy8tENE8ili8ku8sMh89nedVVUhBi-inccEcSoCyHD+KS1suYsWFPBiaS080olC-bE3So+SnC8SidNVXSlDTSmwzeTI27RwL4COPufHSsQnelGXdAhMG8KCrIjyOjOQQ+Fyr8tMwYDy6yu+fAYwIlW5CxLgJnQofywMLCHykhU3c4RsG-EGQ03ELionRkK7E81nBKreH3Pdb1TSrCUIoq+ZHC-K+gsrSK54GKv0gK5WWq1sqq71JqqeOqsUhqwMG8fKzMjdOOKlBypyupF3cqvUd89YNKhtVy4ky6MQG-IwMa8Ib-DgPuRa08cNDJLCPKyKpawq+iPUY+FgKahyrVZoNaha1QfaneEWAAHmBHmo2s6C2r9EQQ2RNXBAABUF5QAbg6BfA2yxAB8esmwczahmhwRQAABqNDOxBqSOIUFxMq8IWGhSqG2Gz4ooBGvuJG0yiYNxdZTZb636mQYgRyIGkG2JMGlpagCGyomGuG+mHGsQPGlGxm9GxmrGwoFmvGzaqyiTBeaSeg-gl3J7ckayysRRBebEPylYctFzIQG69eca1c50ZTF0lG7m-SbBaWogbjOxXxWyyOYawVZyktbW5oUIkcD-EYLWuxWYT-fm7WmIK21zV0-8Zam0O0fmiHQoFiQUJ9JuG21Ko9ZLTKspILIoY1TcUIs1OgNecoa2KeZ1bUFjfGRsfKxkbyvagjWMIKRW9FSK6q9qkhTlPlYutqvqv2l1f22K8XU+PW2WsvTy8wJPH3UWn3Q68WpEK3Ru9EZuh3VjPMa1Qu5Wia43I6q9YSOQzW5az4xBfumWg2vSI20Kk2iOuhSnT4q2l3G2t2eel6UoeCbaTaw6i7IBMeoiL2nU32uLUAHUQjIO0+EO2-dK027ij+KOilD62OsWyo2yROkQZOkhe1Kg1Op8QbaeikKHLOoEHO3y4TfOiVMeqqsq0uvkYC2MVq3Nau++0TbqhuqWgeuNFu7csXKvPOWvQuBvEuDAE855IFd5UFJ875bUko14sgncFWcEF5YFD5YgUMjyPh5hkGV5FpenYDMZNhs0psiYrIDFEXQqJhkFAxHc+HPbdMaMuYBS2IOYVccuwoaMjkXRmIDkAxyZaMjCUxnTA8CxrR7k6ZGx6Zex6YaMzfNgBSjx50Qx2IaM7iQwFpbqBSgJoJwGxUXxmIaMmO0xmO2MSJ3bWSm4G-FqFgQwIC5J1QVJnOFYBJ6M6Gmx2IfQFOUAXwFa46Y5WG8JvJ7kzyQphmEpspo6UAY5Hyapyx7k4zaYYp7gJpomFp0ASEUpmIGp2S4AepgwRp8pgZsAdphx2SgAUgmZ6dKemeOQWeGdAFGbBHBHEkKZWb6YqZtrKY6dkoAEJJR9mpnmnjkLmgQTn5mdm7rlnrn+njkHqYgHm3HuS7qAR6mDm1nQBfnPntmIRDoXnenAXjoQXTmdnDo-nuAigAWbnQB4WYXHmIQzmJmBnCh+mYgznYgE50wCoocRHVHHyCxqrAQVwlY5huAyWBGKXQcSX3gBAGWWHKX8AWAAArEwSgOHGljQdlZpqxlRgRhSmwjFBJkCsVjl5lk4SKUl2VkGUbOHRJ4nbkg-YQBSrV6VrldViESAOgb0YRXwXRo1k1o0vVrlaMzJhgWASAUxu1h161xlW1qgLJgAURsbtc9ddfJWjIADlyBA2Jng3A2L7XoWWqR2WVWQtr4qWARBXBZmntp6L6XlWkTmBYlo22XM3ZtvVqWVglZhR+nJWLweB8342c2FXaDHVcRY2mXpGHBuBFlplNKAVqgzMZQAZfATbuWgZ1hlAwFNAV7YxG3xGOAyl49vksHYg23QQEQihLdHDpwl5N7hVNLcd2oN2wR2sLoRBnzM3CUyruAXa1wq3WWE2Ua52HU2pBhG3CUuXeXTA91z3K3XlRGs2E3irb3Q737d3S1o4f8QYo4uX2ECczbSFwt4xCAP6CC0xpBcKKHdz8468i5G9MATy3hTpyBTAGAfEPhyobhSA0k89NL+9B9NwLKUESINNbauz0jWDyOfk0aGAMauZEaZAXEaOwE6PbZeP1sHxWzfybgUsWUtBQSwE+41bGyXA8PlAB8Mga59AjBW3lBlBpmc5YbdcNObbwQobSgDPClKirJGaFP-XnQDO+TpOoVWyHBzFjB9ZI5W2Q1XOxBu3HO6wIhoJ67OO+4OaIRGbRPVFjAJPeolZFlPPoFjB3PL00brBwR7O6AvOmAyBZZFkKPTYZpddIV6OYCZpdITJgFptMvQA39lJn1svEYbxMvwgx8GOPbcv79wg7nKjih4QrY2DBgyvv9wQOvjJSgcOKB8PCPYoSO0lMvjJmgqvszabKzf4yuKvVxACE1OL7i+dmvg5BvKigvYaHOYuQZ-pZZtoC06vUama-QoaOPOjZk1N2VKX8jNu6uubVxrvGaDuk0jv0vuumuzu8vg4Ya3F4QiuklpQvPcpQQFLFlScUvDu0vSBBI5EFEsIpuVhShPunPeGNwFLptTu8vvasg6vYfUvjvkfgEWaturZwQAByDjxZDmun22Xm7jrb5L1LnxUgFxTnpp2atvF0khKj37nnyz1caMoQbVqyYIdGhyHSKyC0YsdG0gDIQR7b9H8Hw74X2sLn4+G8EXkn+Hsn22TH2ubafXnU83k3gj7XspkSjyAd6sFzEdmcTeQFDwXnQtQgLLub1pePMRej8Xisn+BS-lDbsZf329pWB3od53lXN3vxNwOLz3tX4r1b5Pq2aMjr4WZPO73yzhSYW2MRO38wHn5eQ5OOePj3-3g9J9KabpXMv3-P6jTOvC62oEFcW7lAoA0Pv48PpvpjZR93twIae5eKIV0v53cvyvxPoG0NL3mu2jVvvevr6xq2LaT-LhIf4wFae5Y+GwzfhP7flNWzW2E95f9SJxtf+QQ-kfkNU-pfn3fT6Pp36gTQFXUHhBWxzcM-ru9rKPwdl-m-1d4H9ecSff3gX20zxUH+O8DNlv1v52dyQBqOFLX1Nh595+V6KMtySz77IO6ufIAuAKgyURWMf6ThNdnEKcQjSJAZPnxWARYR-eVsbaPQO0wx1Pe8dC1Hsie4eRKBqvETpJQEzV8+etArGEwOHjuV8+hfX+qwIAY7JLULQMPuYBw49Y4CrdeTsP20jlQY4RKEGAMAqCBV8+NA7gdQL64K9qorZHQVQi0ixQRiAgvzttEUH8D++K7e8ncBYDVBuIfcXSnx2QiT1zwNArCHnkOrnhWyrg64vZTzyY43Bkccyp-hCHuD78wQyIWEIsKxCohBg1gikL7g4UMhHnLtvlU8FCduAfVGgW2E8ABDc4HVVstu0GBlDN4hQ2qn4KxjhlEh-cGoRpTqEVCnBnpOZJuBsGEMtKnDabGIisgdd+qhYGpB-HAQDIhh5QxKtKCAYrRQEDAdQCIA4CkBDYGhIgL0n0HD1H0BgKaKAmT7f1YgL2ZoW9maEMBchudThO0LLr30+h2Qm2lqwXpzDMK3QpYRL1WFSC+qO9SHIQBcTZCdc2Qx8KxAfSHo6BTfaBn0Kwi5A-hv3cAdwBhEuIxB8-GugNiIH4wSBhAfBogL86Ijk+xfcXINTxxCgkSoIOhGUJUQyIihz2KHA8KBAAjLhh8MoX1TRwSo6RYEYMOOCthVD8h4oSGFQBuF8hbYvEf6IwGSb8QAR0qIEfyKpHNVOhwjSWGQDFGhRrqvEGUYKM0pwN1IMgJMLUChrU8dRewPUYX3aCdBnyAoriFQHCBWws6MQW2PsOgTmjV83Ioke1BJGUgyRwqNUZaNlEdV7RqQLCLxHCBv4hBsaSkfRxFFKjFYKoprkGNvaKgbw4Y+MehEVFJBoxfEa6ttDjHvsCI20JMTmLQjV1bY4IQ0RwG1YEiVAfQHJC1EYAmDMEdY5wNwFL7ejS+1I8kI2HFFZMNUcqRkJGLTGdj9AzYi0Q2PoBnt9WV4VsXKL6Gdj0SsqdKNqN1HasrYWmYrnZSjiSBY4FsJrBmNnGaoKxvAMKm4I4ROjvelPLMVaNGHiBJAOsM6DiDZDdBRoNI1ltSEZBpQ7xZYXwGxT6Fw4ORuqUQJlkyAmdDAFYo8RXyJB7wTxsuKHN0EZDnjYsfnB0YeD8DhAjOHXEzt0BFzAcvqAACU9YMAAAguAHACesAASl9UgAAB5QNsgCBA5UVB3sSQGoAsHFhnA1iPsXQA1E0CDxYjGUHHCdGij6OaUC4bxJH5qDQc-EpUeTyEmdAFwI494K2WkmZBmJ6guDAdEEE4S8JhE4iWRMonUSFJ140CaJMsGsSJJSQTSkJL9igSGA4E6EuxOPiUExJzgTyDLGUHlpvQO-RyapPYmcTBBMsHmHzCVg1ZKRA+I6FjTUAmAvANY5SZgmCmWQdMWsJURqLnZk0dxcktiamI4kzDhOYmYDsrw2y5AHA-0RkAAAZa21qGoI5DZwq8feDfWKNQEGCJxqpBUpSqQEZB5S42hU7QLDTxCsiEs7UlVJ1NICtlWcFU7oUJ15HeD+p9fBbhcMgh+csI-XBSlhCmlB86pwgQnhNI4BiETygQNTGNPFCpBqg2QFXobHfDVTpp82eqdlXJpVSNsF0taclAlrWp5YIMRyJ0DSS9C2M-pA4dXwyx-UHyo08IdMJWnzdLpqYFbKGJ6HiDYwpQLCC9IYBvS2AaSRgU32TFmNAgr096U13AEXZTIpAnEX0PhmIy0k7Uy8RUHvapBH40w5kfUKgjloiZWM7zk-T2GpAfpPyHYYHQMDhIzRZQh8JCK+luVlexAO4cxigYcyjQtIs4aEJyGMA8hUVFkZ8SCgsBHh4ELkfTFKA6iowLtZoAzKRkRDpZgI4EVmCwDQQkB-MtcpDLjTWiCIpQXWcjM-x8yGuds7GRALQjNBNZxgbEXXUJkYyEZjM-PhWKqEXDO4SKahH8E2lRVTwPk9sbSNOH0jzhjIoAjTI6Gcz9ZcQ0AG111bQMb0dAJGumIlHnCpRzQ4+AWMKBRyspS7RAaCJQHdDTK7M8lHgEhBNyVwJw6WVLLiHCSeYe1cuQrN-RsjThmc1WRqD+kOA85A4gIaXNACSjkhxclCNBFQjfDsscgqlBHO7oVzCB+oAcOTLyyUzf45c5OWXTqqNzm5fchLCWMXFJcq5Ys4bOxldHVDaO3gnuVOJdTkCPIo87jvnNVF7hfwbYvoVqIkiljjR6vc+UaKXHMDTRWQQgN-Po75V-RtcqBdbOHhBySRociOOHKgX0sf5tVOBQcMICjQXRQ1FBaFTQWPA8F9LNkEUNADHzIQcCwMXNHK7v4n8saPBfR3fm4gBxN4BBWjMKCcLSQ3C2IGws-m-cuFk8lYFmL4WiKmUtVcniArLGXzX55gOYirzlgLFveyFLhuUgWJWR2pQjBQfQDvgHixkpMmgTYVJmGVqpIxYxYII8ZNdaIJ012QtHF5sA3pvgFtELM67aYbCdiraQLUcIApVE7U46UuFABDiEpSQJsTby7kdUoJz4u+MvlumoZdpU8faX8EOm-xSZP2KHIIu7HFQ3EgigcaEtFH8KYGNlQxY-DiVCAElovP0JOJTnDlVQucj+Tkv06AKwFw8FcUAnjTW8yALifqSMQqWMBSZ8YtcdHE3G3jslOKOVJkSwm4SGAJE6yAABlPWNEyNJkDKk0VGJXYlXulLCWZTf59SsoIeN4mmSOUVsISYZJWjtSdlAk22IpIXBXLHp0FTmHcoSXWJNKGkuZYsuWX6SZwFy15Scs0p+SD2gwGrBZK3FWSbJAK4pYUDkoq9nJFseEHOzBW3jFp2iuFS5N8WcwAUDy7yRXJoF+TNYgUq8O1OaZY1-FCSoJVFVxV9Vkpmy-5dSukUViI4x6DbDz0HGRKGVyS92Piotj+SqARKqRVPFJWxggVuWK6GDF6ifF3J0UkyYUsSkVz4xXsbFdsvZU9L8KuyjUdKzQZBxA5c6bpVz1VVc9BRN4+6KdKhytBkQr4yQFZltS1xze4ILpTzwgZycQllq7-E8PV7MqJG+q7njb2NXuxbYFqhwDNj4H8tDVJzLKSaqaiXipooE8UJBOsVtwp8HguCT8ga6IThFF4plTHECAyrsoXbUCbrk8kcoa+LM4SRUDjjxq5J7MludBL8CMgIV5YCCdWvvqNhFOGyZXHJKjViQXayK+6DiHl7Fr4VZ0Z1YUCKgDrKick4dfdCAr4xUexa1ONM3bW7T80xa7tcCLNlQRzgTyziB8GCAgx+pBa45VYpjnPj2JjIN4AYs24ZLyQh6ONegoyk1rYMz4mCUCEbW4gIJdk1tVDmXXK5+pMsItq9D7V6xugaKjgNOqaijrYg460DfpXRUIrgKy0lXouuaa-r9c-6oOBDk3U4iFF8nYQJcuqnBA81i3Ytd70CXVrLun-cweRtI22xzBckotcZPoA4V6NxaxjSxOY1jQ91uartUeorXsaVJHKTJc+PXgeSmN7wRkB8q0mkTyJVE8AExCk1ESZNuklZfOvE0ob+mom4jVaT6HggMQ8i+idRuUUnqeaOag9dVL43Hib1rwKHFpquWSbZl8ypZfJvJAfKnNyy3sVjHakabjodm7ZRDiCh6avABm+iVNHfpvBuWaKT3rJw1o5c00LVSchOki0ohot0QkYPFvYpqkJEM4CLUMjn4xaJUyIq0juqzLv0AmyWgsKlpoE2KMtJWjWIlvK1DIqtgglGSuUMrZaOoKQCrWGrTRpC7QtW+iTUDEA1wVobK3rS1odlFoKxEW-AEdNy0og902qg2NVoNLHojSSWqLfNtfYwLi6MsW2DNqOmdYttYa47eBm5qOqbepGZNMdpDV0ButZ2+zHYiW2mrS046ygiIHRoXaelClA7UJpPLlbZtv8RrQtv9VBwVtYddbcDsq1Q7+W9HDpU0DtgtSyY+eCVSCvcR6q2VdGGHfoBh3gZI17sFCA0C9gA7DtHW3HTjq615aPYj2wsbtsw1ro3t0vKyF9q54hMutgOxDrdjjgmB+AtcT6RbP-TTDQ6YHE6qIkg6f14JuG0AM-2Hav8XeFhHlPjrB0xgC6vKwlUK2MhwNDoxkDhDzoGSaRs2NAFTue3x5QpBRxS-bIUPKY5iWBlYMceOJiDbJ2BLgXiMblaneQGa0NE2fPKKDggZdsfTePCAcWerI4oy6WFuMXm4JVlbAQXM9ujUM7+AEIf3XLvf7M6MdNvBSsnqAEaUFWHYo5J1sCaUxGQAAThODlpQmlMbtUYHWHWoK93UbtRcP+hyxuAJanYYek1qcFoGZsgcC4G-zFSjhMQOvS4hp408rIaAcfVBrREwY-QQ+37h8CNnTAh9De4REPj8mBxj4LgHyFRWNnezYgS+vySvtjrcAbgFfIfZeM6AuK3FbaGhPutB3LbBBcehQAnp2YX7uoV+wRmnuHQgwnVrbZxW-qYBCzOd1qEAW4B9XPoUu-AE8GQDXgRwrWMSqkK0EZAT8DkzACviAfSlfdwDRUDmkcCD1MQBwwMUgDAdNYZz1IEcNatQWgaz7wQ3kHyOgZCU29Ed2Bk5HU0rkrBZ9VvNla0GOAP0WMLEAcF2s0EsBtB+G3qNwajpGaNsRGhjaxvE0fYvs4h++gQegPr0jSpBiSOQdITwhzZwUQvd1AhC0GPdckwQKIdECGHvI-kXg2LLYjp12DPESmAYfMMMGel40OcTnHMMWHURuhsJlXvxh+SBVV4LXS7U4OXaCxBu6+JMLtXm6DAdu72NM2bjVKK0-Sb-ZdtaDCxQ9G48PbePThcE66UuujEIEMCOQh81QIqGaufGIGgQyBqfugfNGYHSj-AHA3gdPXwZIqarFndz3SN9ww9VenI71PNIul8qr1T-jAXwD-SMxkcH0eQFkjQRmgIRnpeAfGFG6BkaRxrkMePiW64jzTBIxWKG0qdFdj+wFWroCka7AjkVUKTTpdDVcsgHR-QHsck5gHd+0KxUCMsyNV7q6tgS47ompAZGY4WR-td8J93NAzYhOooIcef0QhZen29Pd9pb3EBhtWgRDugbAM086x+gB3QAB0sA5GsVStE0EyBggssEE6U0hY-I0Io+yooQZgM8CsAyJtlaibEnonxxWJnE-eyYD4AeYhJ80bGl4Anhj4PQLCLydAAAAvCtqACxPcpcT7Jzk4j02M9BRTZJvSBSfBBUnQqNJ1CGWkS2FHijm4VE1KfxNcnGmJmbktMeDLo1lA6NbVpMBp5pg8AdJy7XqbZMGnZTRpg1pQXRosBzTlpoPcqf8hAA')">function negate(args, frame_stream) {
    return stream_flatmap(
              frame =>
	         is_null(evaluate_query(negated_query(args),
                               singleton_stream(frame)))
	         ? singleton_stream(frame)
		 : null,
	      frame_stream);
}
put("not", "evaluate_query", negate);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p15' class='permalink'></a><p>
      
      
	<span style="color:green"><kbd>Lisp-value</kbd></span>
	<span style="color:blue">
	  The function
	  <kbd>javascript_value</kbd>
	</span>
      
      is a filter similar to <kbd>not</kbd>.  Each frame in
      the stream is used to instantiate the variables in the pattern, the
      indicated predicate is applied, and the frames for which the predicate
      returns false are filtered out of the input stream.  An error results
      if there are unbound pattern variables.
      
	
        
	<table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (lisp-value call frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (execute
          (instantiate
           call
           frame
           (lambda (v f)
             (error "Unknown pat var - - LISP-VALUE" v))))
              (singleton-stream frame)
              the-empty-stream))
        frame-stream))

        (put 'lisp-value 'qeval lisp-value)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyPkCcgFAYDQSBEBgKjYchfFqIw2U67ragYQxSSouJ40DFI0gyf88SmGYuMjQbhGG4knhXZosLmPrrHw1cnkBAA+alKEa5rWuIdqBp6wYGv6ZqiLmva9JeoprqGkb+XODiPOqLRSA4chK2IDqlpuvruHelbPrGoKpvSTIdpXUoodW9aVk2jchn6W6nuMwoDoBY6-rIQHgdBrrwdRkanme16YkJ467qahCdq+2qCxOs6GBkLrKBubFkW4MJYYmlxeaoLRGGZhQjFO+6GAF-QhepdmfvMCXKCl4b5aauWzqE8aEkm1IEf-XXBOR0AzY20ASYB-pyah-R8e2mXdvxxnQE17WZf1hWiItyY0wivB1feb35CUKA4EQZB0DxNA8Q5zjiFwqhiDlhRKG4S7KyEuHUmMNgZAYNOa3cugxCzyh5vkmIPmz5TmnhprM8b2vlIU-AMSxYbfAUFh8AXXD24HoeF3wUu6DbmvdpaOh8+bu3UmNIQZwqZQurK+g567lpTwYNe6A3kxt6yuga9zxe65UleGGrUhqHFUGt-IHfL472+ilKcuR-f5+fxX7n1RFfBeS9nQt1SBaagYg6AKEumCL++8-4tTcLA+BiCwF52-qse+bxuKoh+MQAAHoQQI6Dd7IOdL-Q+BDqBEIXKQ8hxBKGf35jncBuDYhQIYF1QewhyBlzIRQwwzg940NAAlEG4ctxNRYIIhg64KAIP+oYOedN6bAnkYooewhfAaPxleHBy8prGHaJdZQ7cOHcJiLQn45jayOHbm0JxVidYZwQSfdRX9r4QMVLw9gHgvASMVPYhcQTlAhI7n42xoBeEiQ8VoLxSCbEoMPokj4nisExK4aY6BhBCAgm5KA6hYTBCFLYAYv+HQtDK0uLFZhojxG+K4Zo2M24ZxTwfgxdR78xA+JsbEuJplSDmTATZOyDlnLUl8CfcgJCvI+RqRnGqEVw4VKKQYlW-SRavgHFNch1AFAMOoOTWRyJJhjRiEFVqVSlFPxOTQc5DTxE7NIAMoC5Fnz-AOavRQhB8DlB5q83elzDYxHfKwjIxUVl1PDgwPR2yHAey0YUUhUsVp5wPPQFJLs0XTARcotuaj6l0FRQSoouz2looRdi+QmCT5kuDkxG5Yt76JNHqMGkbBO6rlKJyhiR96BSzBBQmFcSeFBnVKGZYFEXyGjMsEMlVlbL2ScuLUFLhKC+BIEszZVSao5jOCnDynSGDdNHuo5hhhYnXKCg5FqHzrVkKWOUm2ASeBYzhZnKopAPhOurja+eOCaUrHNZa3p3KZy7P0MG4Z4VTXmFQfQxhwiWFsOwTfUWxtkipFOrWON6c6kEPTaQB5vVWk4MleE2pmdS1NOFe8DReS-SmWLfW+gWKREtV5S2nBiasAbNQY4yx1js62q4WNP5ZcFCaFxKO5xNcJjXNiEFMcGoAo-LtsKfQU0uoBqycknJHCV1QRWEFH1ysDyHuYMeplHcwicAHeSeV0YVyNj9be7OPSzwSlAPjK9X6ZxHuIHix9u0X0rBnYKv917-UgY4b+88ELphBWAzrH9o9WU5m3eetD7KR2uLHfitCFDEPZO8cuyDN8cPkVfSaodWrgSggtaXBwMC4G9RnggvZ5JC7TURjx1h3DSgepMl6g8EJIQcfQVx4QcJuARvYzPOTGp9A3mExMBEZEAPrOY4YbkjAgWnzfh-QZ2dDYzsXVYueqHIX0CpI+xkNmQagZSRZ2udGjYJimmB+dw1iNLog-jMTM18ZrEKZdW6RmLX8GAe-C+6iMPuZPROi8Ri4KxZMwl8zAlbhuaC7ZzLWjyNJLA4gzz2mvnfMjAqi97KprH1MyAlpaTYwKVBPoZruWL790HsPOzEX76P0ARwXrpT2v8pYzuUbL9N6teyoYceg2v6SqlWbAKjHh2H0idEjhdqoKNiRYyPbiL8D6LnkxRs3Y9Quey-FhbiXUTqKRTVlQjmBCybEfJwwjJlMMG+xg3qt2whMUvR2-QSKw3TAxdFsui8cWMrBKD7gQPfsJu28x1BmS70VYfQdqdUEgrSIYLBwtJWr2JKaawsRVChklcVNWwdO2ficeR1m-OY1Gyj0ZFe9nKTkPjtrrEpi7P+sTyF-oAXiCJeraGVWBiov+Psuw1juqya6GffXhNtr2dDvknF8tgb-84M9aex-OX5tLM0qvebs+z3ypcqrTfW3tGTWs--k-ebDuP6c8NkblbpvC1zaARbvrxuJ6GJWFe0P43w+xWdwr0NK4X2h1kFqv7chFAQBgPAJAqAk5oGJEmvNgWS5l2LdUauX8c2+dNrwQeZA54xAAD6t+MmY061eW+gHb531IQ9h79HYZZvvHe-Twxmr3tvE-nRTQ3ZWmxLPmNTWYGICQK1OlgMoH0e4YhDYCawrXgAZCf3oOMW-iXZHv9fK+Ndl+Ey34njX83kA30NbfuTwTCbWUxh-syJubGaQs8teL+uaF+IwgclmIcpe98MuBOY+r4Am6+m+fCXW3+CBOksBGyWBVuz+ywQU20N4xBSYdmaszGeBSeSBhB7KpBdo0Btc7M-+nMTW2uJ8uu9ONBa6r+++aBX+hO4I9uZmF8f+Gywhi20sQeBBPBEB9BWQ8h5BOBzGEhju2U1BtcVERBl+N4jBLKHuq+qQceIMCeeumhyBvBqBn+GBghxhnBdAYhzGdhphS20hYBtBchOhZBiha2FBABzhvufWGhBcdBXhDBZBvh9+rBqQ-CCiQiNOma7hsh9efB1hO43+sRiiCRdODhyhABmRQixKqiZAnmIREBSskew8wBwm3APhNifhnMBR52l2SRbKnhUBZBehzBGyU0uOlGqS3BbRKRVhW+Nh+uoA4IfR962BiaGy1OIitOZhZRCYdRMBURnEbBIgpy9AxCCxiRNiWhlh7+-BYxnCjOQhXa2xM8TCexORjhABDaPaLCt0BxFhEB5qgQMgYCc0sxKhXaZaTapRhx7xrGnxYCpIvxDx-xjanQAx5hHhCYHxlQYCOgsBLBGxRcRWwuyxJsqRox6Rghrm9xnMpOrm1GwJiJXW4IRJwsp6eRnMrm5WHmz+sQCJgYqxTBkJnMKWeO4GdJFJ7Jl+EGXJnEZWqWVGEGAp2qERdJIpv0qQ-mOqgWFiwW-JbxKRZs1Gcp5g+66wFG0x5J6puJmpjBEw6x8piKXI+2gxQxuJIx6BBJ4x4Ie2xJnEpOe2MhtpaIVJLptJlm2pLgZ2SKnpXpkBgwXR5pOpBSRS1AJSSxUp989pAhTpdysZoh9JnEdKtx8ZRpLgHJDRnEsarRPmgpHR4RdokRBhABjqsaRAfGyRxp0+dZGZHkGG-S+gzZCZ20zZAZ40AatZhA9ZoZN4PZjGYcmekcOeMc+e8cReOgcBa+pAhaJCh+7Kiy1+BaxAkZokBWIKD++gRRkgJR3A0OROKuIJO4Fxc6QK7U4c4IMODQh5aiJ5F2PQae6JFpuQ15wKFyq5EBa+xxaRYIMgVkX5gKP5WqrprZWqSiiWxR-qysf5lJAaYJIFoAPxVZ3JMFwZMgSFgYSJXxaFEJmFmZMF9KuKWCuFde+FoJyJaFqJ25Uiu55OnaJ8iCeF3pl5LF95H2bFJ8LZUZZOYsUuo8HFiZgF+JYIo8Vk3FAlLgLFTaoq+gol1FeZYRWQolaJw6jgXwYiVcCOlYSOeKOCqlf4ca7u30zGGGcgs8Jl4BKxl+752lW8+AxgiK2yKiXAROhQ55CYWENlCCyu5wjYu+IMipuI5FyOjIm2cBpOAVY8Juk6VqYlx+QeSVvSclkcbcVuyWnlzwPlcY7Rgw8VmV8VQuuVbc+VrJhVCYN4JVjFcO7UkV4GaV9EeoJ56wYV2a9l+Fl0Ygu+RgaV4Q1+HAVcA1p4bqkiWEcVnlg1iVbVT6oALAnVBlkqzQo1-Vqgc1E8IsAAPMCH1eNZ0JNX6L-GMsquCAACo9xMV0C+CCAfKN6VZNiVLUC1DNDgigAADUAGWiDU1eQoBilReo4QP1PFn1P1jORQ-1VcgNylx1kwRioy4yV1N1MgxAjkD1YgT13iL1MZ71Ex31v19MMNYgcNwNIsYNVkRNUNhQpNcNE13RzGeUVuUuwNBuSI2Oi8fCPc2IdlK4GyhmQg21w86VINq6wkvBmpFN629cecPNRApGWiliul1eBlRlWC1atN8SgBE8I4YZItIN2tdiBtjNxtOtQtl8REQ1NodojN72hQLEgou6ec+toVs6AWzV7FEtRQSqm47NExtkQ85Q1sbcRq2oeG+Mn6nljI1ls1UGfoQUltysnlOVKdlVD5q4ZVVq6dCCj4rEDGNVgY8t6IfNFlcBgeQBzuQebVHNsQ2llYCtZdXO+GeYBmRmhtYtQ5zoAm0tQ1jOv83NpdStekKtrlatXtTKWtBEzQwN+tbs-dL0pQ8E20E1bVstTQ1IHd1tiV88N49t3mOoK4A4rtG5e+4V6tDKKS9mvt51-tNdgddAwdIgodCC+qWB4dT4dW76sY0dbcsdN6M48V5l+c3mRdLgydZVFNudfImdsY2dUaJVDtxqjtvlxdQ9vNIDaJ45D+WeUcuescBeCcGAC5qQRyTyZyMiWqzKCZAFH+klKqEx5DpywMUF5gzDzyIMxyRS+Od6byKKXZ6lzKaJhUjyLDVDuD-2XW6Y2+4IcwPFsQcwq4FKRQsjHICjMQHIyj7SsjGEGjkmpA2jMjVJnS+jnSRj0wsjU+mQPF1jbAzoKjhQsj3EhgRS3UPFLjbj91iojjsQsjftGjftsYvjMQsjNwu+LULAhg954TqgkTf2KwITM2YI4IX1+jsQ+gJC3Avgw1x0iyP13jSTsjnk6TDMWToAOTR0oAiyPkhTOjVJim0wmT2TuT1ToAkIFTMQRTVJwApTBg5TlTRMbTYAdTxjl5AApH080xU604suM506AN05eeJOk9M4M3k-rTk-U5eQAISSirMDOzOgB7NAhbNjMpO7VTOHNVOLL7UxBnOWNUm7UAilNrNHPPP3NLMpOHRXMtM3OgDHSfPbPfMvPcBFBvP-OHRAgzPAsQg7N9NtOFBDMxA7OxArnpgFSfY8BiOcN7kFg5WAgrhKxzDcAcOUN4svaYvvACBksvIP4WosAABWJglAf2AIRLGgZKVTujOLlDPFih4KSTRQtLEjBYYOOAojxy4jgJzAuNQI2+sji+wgPFSrQrlKyTEIkAdA3oDCvgCjWrOrOqarlKYTVAcTsAkAGjsTDAFrxrBKprETAAovo9a463a2irIwAHLkCet9Peuesb0vRUtUgisys64U2EsrBKzChDPbS4Wku8vkzNbiuSsUNJvsEzhWqRvTDRtVMCsXjYtSu4vJtpgfnmB3K4ihsXIODcD9KdJiUVsMDVCA4ygAy+Bq2MtAzrDKBPyaAj2xihvcMcApIXzMpwOxB1uggIhFDq4MnxiECX0UVMpiWNVYqI5X1YIlYXQiAHmJuiuxQU3cDm2Ftpsgw9Yy3jubLRa7tFvksIr4BMssuTrHuhs9bJWXvu0X2T1eaMYcACDu1iBfDLVMLrtLvFTTh9zfvJSkMe1KlvCMvUPBqmV2NxquqlWANNoIcoioeDliXbTBq9llbwcNIuq4emU3gEckUWkX0uNYcFg4fd0lmP7T6UeWUAEYa0cNIMd4eOVoeEesIbwpB0esvcfkdkGsdlsuA1BiAZwrQWKkDVJoemX4d8ezupwkImD8CZzMIruQ7MI7B76AcPvEKgfI5aUGbV5-tLYWyZMpVYzlNexmzYMZ6SPZ7Rx55xyF6YBwFvCnTkCmAMAWIfDlQ3CkAhLGFiVT5N6biKEReI0rCzBCP70AIkSg0TEMAQ1cwA0yAGKxcpd-DBy2x5fe4FeZVfk3CBbEpaAvFPxVyMe3LKDKCN4ZAZz6BGC1uNetN-Y-XS6Nf63gifWlADc63g1E3+fKDuvOgDe0m1efK9kODKLGD6zV61vOqrdiAtuLd1gRDQRoMQPd5VxE3ggQhE3ldCLGBVe9RKz9KbfvzGDrcrpg3WDgjzd0BbdMBkCyz9KRcN6IzfdWw-4zS6QSb7pdbfegBn7KR7q-dZA3jffhDt4G1w8fJXInMTHFDwhWzYwjDg-X7ggY-GSlC+cUABdBexShchL-dtoGBTSplxm7zg+Q+ritwIJkr4vZHiLw81oTEnc-ULd3cgz-SyzbSxpc802rifWZfA3VGzxZkZo5HS4o9pdGKS9E38-+qC+ffY-hlkGi9K9XJfUq-PfGTNDq9LeSSgg8X9Jo5vcC8fekCCTcK8JYRU-1xm+Zzgh6NKZdYi8o+21ZDw82-vdC9O-3yk2K8H4A8ADkmX-SR3Mfts9NOXEfmV7vgXtYCn+g8nlTPVzHiMCC0X2vWfGfDz6rsjQgyrVkwQ4NDkOkVkFoxY4NS5HA8I8XbvtvGvRf2fe9ZB3fQfdvIfts7vXfJfPfdoff0o733fjFnb1YhmvbmbQq5CHgtOOHP3LUr19Pl8OnVs5fm-oh3AcvzSu8Onl7Sss-3bC-QuDyK-bgD3a-bfd8LP2nZComGr+PPF0v3ST+OnofzCjF2ffuPMhIQ38rEbgNftOl3S099+oCX-quk-QwU56QIFcF-2niy8yK2ZE-q-2QaiNb+xgFaLsniictABy2YAaANpz39f+OGdDIgKDz9c9GVsLaJfmX5gD8BgaRaooRYG04houyQrhjG9i0CTc-XUxowPkCsCeBzqW2AiiQHqQL+8-agJoCFzA8Fo-lQQRPDP6cs5BPbBQYvz-TkC7+WNUjnwIkyqD6WAdLgW4AkFzdX026GdD-2wGrogosjDHsLCDwy9WeVAmwd-UcGEYyEW2fTAAR1QkAIBufe+FhB34JcDaEQiTH7Rw6qopkGqFoJgO1S6piAbDFwL50qwhC9uYQ71K-ytgUd8h-A2Ifp0frqoZkHPcwJkO8R-5JOTIYsOVEoD4BEUIMAYBUEGA6dyOqQiAXjwb7VReybQtBFpFijBlOhoQ7aNUJE6eCAhJJXciwGqDcQq48NErkuEVx-o7OUmYwm1XPC9l5hWxfSsYShwLDq8PHEYHsMWEH5dhxwg4QxCOH7CD8YnO0OcJOFXD7hTbRgMAy2FZU86plNsJ4C+H1UqOyaEhJimWFjYvK0lb4dtxyHTU5h1w6uF8NEqH88qjFKaI-GyHgNxK9DB0mCFKEf9zOABTSLKxoCtdSh8VG3s-RWiPwGA6gEQBwFICGxxCRARToQBvozp0RcA1uhSCxbPDDuQIXkRt2bbAMyRKI-GEFAFH60lWA9aUJSJ6TlpaRwgekXEKhGBsdauQQgAYgFFS4BR+dR2rYKgFkM8hrIm+piKwjqjcuvHY0dwHNEaZxO2A5BrVkohcjMR--FcGxByE2idODVEEfDiFCAlQQWCL4YIk4QlVucPI+EadnhHvCeYs1AEaKMxESjr8UoyIauzBHihIYVAZEZVVti8R-ojAcJvxC1FcodRGYkMaKJmGcRcxZAfMaFC2q8RSxWYn4aEPir9cZASYWoJ9QB5ti9gHY22K4k6AHlMxXEKgOECtgtiYgtsNEe-EHGaErYq7JtqXEpABimU9Y4cWWOzH8DDkWMXiOEDPy5CpMwYt-lWKSCKxaxtou0DuMvaKgbwh4q8ehEljVjTxfELattEvHHsCI20W8e+LQhINbY4IbsRwGVaMU1AJgLwC1EYB9DQEkE5wNwEAGrjABoYo7FiwLFxNxUvKRkMeJrHPji+ZAStkOOgn0Aj26rK8AhPjENkdyz4oSjynSjqQAJvYyIeJjvh6VAOkgazmdHyyUS0JP7CsR5F4BuUFhpCGcev3D6viRxBIzmGlB1jsTugbIboKNCQnUtqQjINKDiFkl+BiKmItlmBGDDjh9I1sGaBbVREygQBRIKeEJLDGKTugjIUST+0xFTjDwfgcIENwx461ugg6P9qAEuoAAJR1gwAACC4AcAI6wABKl1SAAAHlPWyAIEDFTqHo1KJBE5tJhMbHQjMRfErhsZJnF5i3+kkgSRpwIGWDtIzgdRJhND6STOgC4RKYYF7LlTMgQwhoY5gOihDvJvkgKUFNCkRSopNUyQO8IqD5T6pRUxqaVNMqSS-YeUhgKZK+KlT6+hU1EJ5Bli1CNk3oAqcMOKlZTqxKUsSjLB5h8wlYmWYMY3iOhQ0QJUScCQNNAQHTLIXqLWBtJVHjt4pagc6WtOSkqi0SHk5vmexvL-RGQAABhOB1CagjkMnBkFaEwDyo1AQYIfhBnCoHA30oEB9JhlsVDGP1PEODnZQIzcgsMsgL2VJyAy5R4ItMchDiDQy6efWCGRsM3Af9SWWMBGaTNigQz-ehMjgPoR4nmBAgwmfGeKFSDVBsgIMw2O+BJlgzsoEM6KhjWBnjY6Z4MyGUxA2TywQYjkToCEjGErgBMHI1-sTUkS4yxZhw0obTKFmMByZw2LcVJmiFTUsYcshgArLYAhIVOVo7WhbKtkhJChxo9bKZD8GF1yJ7IQIPLMVm8zmZjFCoG1FCAWpt+ZCeiCsK8qITyQss72ZbN9mpT+wBouUXGiuTOiXQLtdoAOK+EPgfaDWCApuTAa4ZvBachoMdkjFvChR8dTaYXMloQEWAko8COOGNqlA2xUYY2s0Adm+yixtwlgLqO1BYBoIb6XOZ7ONmbg6w0ozudbKL45zEek8p2eJ0f6rhmgrc4wIfQ9nDlY5jstft6MxQLilErlMRH8CZkQjOgm0iyVSETFLUoxlc2eHGMqpMQBwEotHqqx9rro6AgNJ8YWKjHFj4R88b8YUFPDVyNZoAIeeyOnGnhU5aKPAJCBgUfpwx9w8uRcOjGfDT5Ko7zOKIjHPzG5GoULNKA-koTj5d4xUN3LgwliB50EVCCVWGypjERqCwEXqO8EDhA50WVILvEAWK4I5m0-KtAtgV5yEw-49sUBK8FOiVZvg0EbQrYDVyGMrM1UO-Jy6fy6xe4X8FHMxEti8edE5Vl2MEXKDN6-YrIIQCUVv94qk4owtOIMWjiUxPo9qH6MBToIj5Bi0lsoryomLk5hAUaHOKsUrQbFB86gPYt-AOKVRMQHhZCBcVYRzFEPc-KPIPKkgrYDgfBWeJvDmKiFhQRJaSGSWxA4l8igha+LxjESVgr4tJf-MVC-j+BAinsUIpkUcoQZcsfouvyTI2F+iMlEGekN4pbw+J4iD6acJ152hOlmVBGcGU6XIcYe542HmQV6Vv9y+bABWb4HzRLk0hofRQrRD5lM0ACjbIRB9L9leU4JD4pILBJL4xjKq58gQFvBHziz-07M7KsYW5mXxOl12LFpktxBcTGQRiB5QopwkKdYKN03Zf-LeBtKFeJyoQGcsm6xhSJ98nIa8qeXqLtFVsRiboo7Tp9cJmy5ogYgBWMBOlV45iVZ2lg2cIV0KXlMwQ8ktSGAwU6yAABlHW0U-SZkH+lLTJAj0j6SVJ2V0Az5oQ9Kb1MEmlSrYuU4yUNAZXrSkgZUnqRVLOXqJMqtUhcHyrEpEqSV5K8AN1JnB5TeVIMxlV8vJSmVtp27QYJllGk2dxpk0-leSnSVFBJiIM+aRbHhDjsdV7EqmRMQ+lmqzorfRio2z5UvSVFns7aZrD2lXgPpVTKGmsrOWbLqZqqzafdLpWoTlVBqrhYxTERzpxs2fd5XhODVQipJ90LaRbB2lUAvVhKGOkM3xgaqosV0MGL1EZzLSnpjU7ZUmpKpXivYzqiNRWrzFcKaUUDIOA1XhXxrs+KUlNU1H5lYtWgyIZSZIA0zdCJ+4IH1AioU6f0mOoAPtQ4Abk6ScFkQmNTw3HUGIO1ya92LbBnWXxJh6iCfs2oNiojrlfU8UOZNCFd5ZuRfHcQj1bwjZpxNklZQySaGBAy1Bs19X1OlyzTnAVmJOXlJPWJTU5cCyyX4EZB6rywZk-9d5kbBNcxksuRKV2rEjG0rV90HEDNNWn0B7V90SdYUCKgoaJiiUjDU1HvL4wXen6wiQYFabQb2ZMaUjdioNjvYh5UEc4Gx0fXBAQYCM5tnlM2U9rFJmExkL8rPAK9bl5IGdL+vsVMqANDYLFlZKBCgbcQZk0qZBqxaUbZcCMmWNmxehIa9Y3QJpRwAI0KAsNsQHDdpttWmqFpmdLCB9O4BexlNHBVTUHHo2R1UGlSwYQjOCAvqP1aGtVWetSAbL-1wCkoIIGEArRfNNG0PoMMSkeaGp5KAYUFvc1+aoIHwVjS+ujGcaIN5IKKGwBWlRa2Wnknyf5MCkhSwpkUuVeSCJVtTCtnUylSRs81WbWmw8LLYNPeDvYgo4IDEC9yBEuAXN1SwZQlqfVsboZHGzKUJteBYt6tIqxkNKrJUUqmIk22VRhJpkgzatVTMbQyua3spWtXgdrZUvg74AeZxHFEJOn3WpqhlsHXEPtvo7nbWWRi1OjLFtg7aeZRHegMJ3USXan0tNMdfGowyXbusT2kjh7F0xaIjt3atEjhvBAV9waH2kvjxXu3Ra4CtHXbZfE44HbO17sE7TRyE7UMkdpgE6j-CpVsBJxSMsmCYSLVarjEbakvvBgDRY6wQ1OxakDsEgoQGgXseHQ9oE4dQMdB2-QLTv+30x6d7MUHdXysiQ7cJHjITgjtLYbJpOrXalOuqDjqr01nqzlpljUWHQB5ioFDsLsz5S7quK6iPm9ryV01LOrE2jchqQa2AAdAWzFcbvg0wNzdsEZoGbEZ1FA+diaUHbXwh3k6Rd3AbXYxAlbISFk7O1xpTEZAABOE4Bsk8aUwbdjHCPTxCj3bSGEzeD4N7rZFJzpaTBH2qAt3QuBr8P0k0bEEj3dR9AUfKPlZDQDl6DNjo+rH6EL0WiRgHwPuQ0Fr3wam2-0f2CzEDjzwXAPkDClmHXnBQg93UFvYnv9rcAbgIA2veJMLJTLuosywtBglY0o65dzYm7RbFd38AIQnQaZXPrSFC7PdE62tjPpmVMA5lpbRsNUCKg3850xUcENnzthvd+AjQdrXUMAHCAn4wMctMPW41UgL9-ADCVHD7a-6Zwy-a-e9jsHT4gDEm6YLXohDeRlkxaYIOyE+7VBZOSyEpg5uLmAaqQrQRkCQLmTMAQBFgxlZ3yANHcjgjqlcDAfBBwGfIb+yhoY1Lr36ioaB7yJXoH1eN9AafdtY3p3QGA4NTQloS1CC29RWgUB50F1vGxuaIt4Wmjciqz48HCgVBvyTRsC3tD2Q+ANceQCWqdU0AbBhjfjCoM0HvI06kvn2RhR-YjDrBqyGwcUNx6h9fsTLNtKzVXgVdtNLgxTvIWChqW68Z+HUlaApSrNlYbgAwFab5xgVMQTXauuFhG6mhJuvWE530J96Vgr+9-WQCbrQcnNcBIg7rqAMngyAQ8MREayOXTrcD+y0gQQf0HEGlupBsGuQfzoDgP9BR3Vsc3UhiJRq2BH2oYeMNEGTDuEpg3-rQP+R-NBeuwwYncOIrRD07BjSxAHD8HmhLAVocIcGCTGfaEhkGFIZo3S5YtcG4MpMe8wNH8j49HVC0YkhtHEE8IYeTEC6NwH6hjW1Q7UBYOsGpjeGNiI5ugOjHYDRh3owpzMO8oLDlhtg83ocOxgnDSugiK4fpjjHM+34okT4da7+GoRgRw-qEYywERIjWfaI1XCxU26Ej+dJjTgGyPxqo+kErY2-tX6yMAAQgwm4hBaW+VkCk5dAtXv9wAZ4BBKQEMqZBd9ExYKRDIkCgBgp+AAYDxTxB57JgpeiYmcZPg1RCTFO4k7NP0CMsH2W4KklScoA0nFRXJ8EAydyLe9LyYFLTqQHBqORqAAAL3fjKtg44p6kj2KlNpgZTiKuU8MKMCdB34BiSk9SYhkanwa2ppkwADYfpAZ0U1aclMzECTYg2nLrsdPFhSToiZU5eS8n+cfAhpqyH5KqRuByA4NWAEydkbQB5ET8YQBIHBoABZC0KAD8msNuAAAdgAAclpqyCGelPhm3AkZkk4qZYBxmUmCZqJGQHBqpmZlhgDM1ZCzPzxZG+p-6ODWX5iAVEbJ1vtYGDM2nQz9pzPlGe0jOnt4bpqkl2aTO9m0zA5zM0yZQCBmgz9Zhc42bwEtn5TNIUqIZXcCbhZGW5nsymd3ODmJiw53Uyk1VPqm6TExH03WYlOnnS2S5gxCubBBtDYzsjAAGIstwa0APVlZAAAi2ZqkrmcHj5nCzKZ3jBADll19dAf560+0bPOsCLzTptsx2YhBQXTAMFuCxMUQsjmqSY5x80w3kBTmmoM5vCw2btNNnUgRJkkwOfXNkXwQFFnC+CFgvg1aL3AHQAAFZAzYpk8wRc4vnmeLl5rEGQBvPKpIL0FqyKJYQtIXLyn5z09+a1OMn2LAF-6UBeL0kmwL5JqkpdUcj9AvADCcGqSrAzg1nWdFvS65ViPenuoWFjOPycFOV9QAxIUkLJf-PyWTg5lkCwqaVOyNbL9lxy1ZGcv6arIbl98xCAYvJmJiWgNQO-OUDPxcioV-C+cYUtEWlLTpvi66YEtxXbgCViYkldctMniQ0lgM4VY4sRWuLxF6M1edUspB1LNluyzVeEv1WUrulj8x6dpOanfzrV0y2GcUuynLLQW8C1SWCn9B3ANQTK+CFJVAoUgo1iECyaersm9ghl2AHKE8nez-LQp7gNWdFNzm5LxV9q3NYdOtmYry11a-QEYubXtr0TdyykwysTnmL05j635zlDzLpr4VrAJFd4sunM+sjFa+sHesbWtrvAHa-PB0BHmwb91iGx1bKtdWVLh128wJbhtrWPrSNlG2lfBAPmNrfZ9M-uZMvg2sbj15c7xbxtqW7zKp8a16fpPGXybAAdXfgsBeAUSaJlZHCkggP9s5+c-TchvymrL4A2RnzdIAC2hb4NUW-Qd2vghwAdlzk4YA4DUXUahAUAF5P6AG2BTQpum5jelskWXrl5BW0ra8DC2Jiqt8Wz9c33CATk78hqAfwmLzCxARpvoJGAlt3XbTD10q-NcvPQ2NzNt-m4Lftsq2xbPZ+eHiGastXbrYVzGwzdDtPWZbi16y5eXAA9se46FiYo6wWM6n3+PNgTvQHBrgB1A+iUAKSqEBcmRT5t4OxnYjM43VzpF2RvnfkD4Ai74IEu9zff7jcvp1ecGmoDeoyBwaI92GevEDtp3W7ltrqxHYEs93C7mpwe2XcrPJ2Mbi97G2HfKss3erbNvOwXb7sb3S76t22zHYdvggnbCd3e6GbbvNmO7oFnO3LeQsxQQJwlgUwseqgu3wQqZvUF5asietDb78R+KIHADYXhTvplu4uf3tZ2rb7ZnM1-b6A-2H2jfABzPZPhj36z2g4GOtfntFW97jN4C1Df4uoPaxkgcGr-awfcA8Q11lO5LYtuIOmbyl688fYEvQA0HNDqyHQ--vk217591y5ffgc1Rn73Fg+9GdlvqJZGfkoHgheIA82GE2BIR6yZ6ucmVb788wOAEzmBAeKkl8RyVfbvSPO71tlJgo5sZKOVHWsdWwMHduggP44NYwD20kCuniHbVyR51dXMVWYbVJKx2wDEvKPVHjVne6nZIcIOyHFljhz1YJvyPFHNFkJ3Y4AfX3lbIt+O4aeMdmW2H5D+U7FmEDNCu79FgFAaaNOmnzT6tv61ZEnOA2snj9wi6Y6QfRmCnRTix+ldKfjmrIxps0yECqedOgbJgVQLlfyueOZr3j1+91kBWFOGAxTvUwM42u1PWLCd8m9U6Yt926n4NYGzUFBsROvHEzsx2CFaezP2nYOt29UCcde3qSJgeIB4+wfnOPbfnVEODR9t+3iAAd7J3ATbLvA7Lm4SA8UZwNAg8DZAog4OJIMP6BAtRigyNsUnxUct6JhE1btiM4mZo+dXutPjhdv8f8GhlCdXk0OyRoIpvDvm5XjWwncH8J2opfkxdInvYKJqfR5C0FX8uUMuvnZOCToK7dpYJ50BCedCkJNOdSMlySLqTm1fenyAI+bWUrImjpBKWIUEeGMEpJk5QlwLxA4X6oIa5CgHeCEZc6ClBxg8pEi7Ymm7nF1PR3cZBd0mpQd2rxQaPA90VwtAK6nila90E7C7AGHIQIYF+cWWd2fjgxKVDWu1sFAX0+eE66lxNQvpALXQOjbnNpg8AkN71yvb9dkaw3sM4N123kHWvbhybk+BG7RsyWInjR1yvMqOBAA')">function javascript_value(args, frame_stream) {
  return stream_flatmap(
           frame =>
           execute(instantiate(
                     head(args), frame,
                     (v, f) =>
                       error(v, 
                             "Unknown pat var -- " +
			     "javascript_value")))
           ? singleton_stream(frame)
           : null,
           frame_stream);
}
put("javascript_value", "evaluate_query", javascript_value);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p16' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	  <kbd>Execute</kbd>,
	  which applies the predicate to the arguments, must
	  <kbd>eval</kbd>
	  the predicate expression to get the procedure
	  to apply. However, it must not evaluate the arguments, since they are
	  already the actual arguments, not expressions whose evaluation
	  (in Lisp) will produce the arguments.
	  Note that
	  <kbd>execute</kbd> is implemented using
	  
	  <kbd>eval</kbd>
	  and <kbd>apply</kbd> from the
	  underlying Lisp system.
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  The function <kbd>execute</kbd>
	  uses <kbd>evaluate</kbd>
	  from section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF> and thus
	  can apply primitive functions to constants and instantiated
	  variables.
	</span></td></tr></table>
      <span class='comment'>
	The original is more restrictive here. We think that allowing
	primitive functions to be applied is at the same simpler and
	more powerful. (We could do away with the syntax functions
	<kbd>predicate</kbd> and
	<kbd>args</kbd>.)
      </span>
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (execute exp)
  (apply (eval (predicate exp) user-initial-environment)
         (args exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaWH8XqexNtsyy4io6xlurbU5qj6ipUUKc3Etz1GXJeoKMp2cXprIBmyURijrFJKhvstINy7F3Kjgo8RALgTPIcUs5YJtIXUJsZHNwMC-BzlNCHICPyMQWL0QCK+gLmy6HvmRQpsL7n4v+IkmFYKXnwodBU1G1KrFEphRcnct1qnGGxTgPAfkGD4GYGwKAcBEDIHQHwAATB41mT9HDOBRoVbwbwyXCNsDtMoB4UTGAAD56psk-RGKrdWgANUauw5QKiiGGLqi1Zpu67TNfqw1jq7Dy0KtjN43zj4I0kJ4TwxVNZmN8eQAAFvcLYng35JTAX0Q6x41UADJk2gEjZINBarlI5tABGqNAbfUbPAZqgeurpYaujUGkS41Txt36tXUa9KGhNDLWqit2cM1oI3nCtoPS5UiAuI83Zfh76VoDdWkNKhTzDpGA2nFx9Z3mzqAyu+fMlpdsUD2xQm7t2vxCo2xdhSnmcrXZEDdtru3jz7nuuUB7enFr6Ei2leF23nq7nYKtwba2+JPM+6FLx53rNrqAf97KJzNvLe++Nu7r07svVuuD+7+2jTA5Iicp7R3rs7Qh7dt6+0ob9XYVlhL0OLLPaA2sfQv01tDcMk8JGX3zCA6NRjAGVGQbfZR0isHN7wczYhvjyGmasauASpjWlMNvwvQJvDSG739uA54i4FoJTzOnFB7jJaaNTuIXs0AJ5VMYwWbQFjx8jOOQHgaIB0mxntmUCultpakiaF472vw96lOsyMzpTTJgcOybg-hjzinRrhzARwy2cox0ftsDpn99GBn+1xGZx9czwYaa4-5mDuH5N9qLSBi47IQYJC5BlyGfm41Uf9YG79dH9PLL-WSErYMpyQ1SyBmmdIsZZui9h+Nj1TD4HxDwQjj6usk2SVlqrpFBv5XxNKsbnWyQYzpnprD0GqNzeG74gAzKFojjC87TfHbV2j07f3QI6548ZR2X4kJiwNsxJ4ruaCtiJ4+0DItlhswYQIm2eO5aE3ej7j6k7fcDg9-rVHN3vcPWl9hgzAGS0e1R4LpT4eFYgQJKBHNjtQ4ByWnu7mMcLsfSpmEhDOEo+h6RJ1vdBMk8815wdVqok+L62kU7k6Ev6ZPN467rNbveMq0tWt-P2eL0-m0UHIHgm+emzNqwbmNEFeU9CDsXYeyvs51p6jE66sXfo+BbswJBciD8sZzLuvssw6B+5zzo1PonYC1evjwXCJLc8StT61Bvq2fjfTvufvScs6sODy6IeA924E1H2XnjC6rS3IoKPqPSLbrj4fAVbUhUivYOKrgUq0C7YHdppGShqSxqWi+HNqlEYejV0L5UOFi2KEs85Q0mgqkjL1+L-iglhKiWLYvZZ7ezAuS76Eoo7zMfq9JAJISJkh+13wlX2L8WzH4Aav3xfIk-Lm-D21HUepx+GlX+q7O238KaFG-H1mlvfP4DX095cQ3r+gEW3fi3R+ApNKsk-i-F-UYN-LfUAfbRvEQW7SZNFNGWgDKZ-LbZ7aAmoKXdKMsL3eVOwZAmKOOQA6rT9A3c7PEN5AzbA0QA-JXVKIGDKcxNFBAwHQLPjOOA7R9T0LIOELwFwBpQKKyHMPA9PODPlUacHYVMtPgjtHLATIQvpMgdg+4UoSCJyUQfZA+UZeNRNfCJQmfICD+fNFwHHCiX-M5JSVSYnf8MPUAW7UQloZtHmF6WCfgqwDQ2wzQewjAi3JQ2FVyJQuCVQvXTdaw0Qdw8PTw+wzQgeXw-7NQtHODQIlgkDIyVBLg8QRpYwhzexOwkpLvGEe4cQrnS-ToTwCNdI+oBw2vMaQo4o6oOBNMUADQqwpQkoioTIziG6UoHI5IzRZxO4LwYo2wvQAAHgqN6PDVoNaJYVWEPGoGPBPAABVshLDhgigmJPBCBowT4ChOxKBipYgTxQAABqL2VhQIFQX4LwRCG0fog4gzBqa45ZKIU4lVC4sYg2FhSmKYmY+Y6gAgUQG8FYtYn7DYzXbYsYXYu444sIE1c4-AS4xzBww4qXPYw4+4oIR46Em0ao5nUaLIXIAoSlC5RzYFIIAGbQTWbIfIY6LoMlYkz7M+Jo1pUATE6knoDVYnekmonyVYUknEiklE6qWQ6gDgzwZI1IpsbpPk2IZtFSXNWHOEro2ozdTEvk4wSUukvdOUzQbdTEtJdISuHodWR0aUuvSNfQkWQw7gv-EYWNBFD4+khqC8coYSZaAeBtZYDOARe6D+QIz2EQxokOLOeNOJcIpILw4MoInlHyQI1KbwiInUqIPUsqfI+NR0Mkv3Sk3QCAqwUFRze5ZtVwmQIkwIEk8QVMikvI5YJtOklwxkkpa0lk2LNk-o5ZLkksnk-OY4tgwUlVEUng5EcUjySUxzI09NBDJs1hUIBwUYRUrIms6QeUs4E+NUpDDUvNODbUkBMqI4-UniQ08ovQyBc0lI3sjbe0GqaYu0gzB03fZ0pIHqclNeFLOMvhCqD0+0L0pQn0ghOiP08uAMqjIMqM2wsMu6CE4k0ItFGMpIA9N05WJMqjFMtsvlXAMAQVJgVgfPTgSVXgDAUvBNKiTCWiPyOqaPOnAgs7XTOqBqNCaiLCcg4Iuo-Cmie4dCTsThXsAiNPZXe3YixTD+aigilvWuHJWtZkcXLtKXQILtBcECxcZ7HtCS4wHtaSnlcXRNBSuo8eRgZS0S57cadS8abSnocXIPKXIPIkGSh6Z7ckOgTsSQIoKXay2y5Yj4CyoIcXM8xgBSjy+0VywIcXJUCNTEUoOgReAK8NIKhgZYXy4wcXfY9SwIRQakTQIoPQZSAAPlABfEOOcuityTxBPFfHiuMESuStSoypfA-BypUuewXk0HSBKtABSpUnKtAEnkauMFyvF2ACKuQiSsarKsytADACqp0unRPAAFIeqGqmr0rBrxr2rQBOrnta94rpqBqa9c0UrqqxqABCHNVavqmalqva1SLa0a-KgYqaw69a0AIY4wM6oy57AY5SIqta5qwa56+6pasatKq60q96l8DKr67a-KtKl6uqoIN62awG1SfqkGxQE8HanqwaoIWa4wHawISvZkViPixi2i5fCDOElSU0JUCkrtTQfipigmvBHG0RBi9CAS6mrSagUoAAK0mC4WJuWFJrqnetUrxuwilxV2ClyqiEpvxsFVYiwFxoZqpqRWErMXF09UVil2VuKlFtArcue0gGIAVgpHsrqp1r1o6g1s1piuezCtsFgEgAUstuttNrNv8vkHCoAFF1LLaXaHbNbxcAA5SQH2nqv2n2+c442mzYemmi2iZ9WwrmnoHmpCWagIm6cWqOv5QBMO2SFOtKNO0Yew2O9IeO964W0hCOxm+WqWp3TXCiLOpmhYRiTccaegrMqu2wQqWwPKRgCCbs1myQKQU+X4EWdsgyGuliu4XEdivSZZBuuRP8KIQ+JtZKQoIwpsJusQWpJI5eqyaZFBEyNvAWwSwmjIzQZU4wGu6OjU7ejsVBPe2WiWo-Fm9migHmE+0uuWnO6Mr2wIfcgwnsy04BQ+O4JSPQzwLIdorkC04w2JRe3+tIiuw7A8oGVmtqL6BwiQ-AzVZ1Waei8HDYJBoQFB1ezdLBr-KwRPXB3Cdaf3Rw1cvjYh2fTA000WayvBlfLB6hoPAhkhggL85h3CAh6hoh66LhxPXhoQSh1BuCgQ2hoR+hkQIqTwBsESMMRgYca6ARhDOh4abPYtXPdCsVTC7gTAXC9KWYCgWwMMFQFRJURgFMEjVep1bVY8FXOxwiIeEcxgm9NcsTf4T3a4k8WwJEz+M4zwZ45x7xu4T3Uedxt3PuFxrh-iJUdmSzBQXrYJiR6I0iSQUgUgNYhSU6ZQaCbJgahgQ4h5bJ4ck8PY0ISp5xRE64rJ0gT+j4Spt7KEliLhkgRyBwHwYJ6CNaPp4UzpmYBwOCXeSR+8NpvxhG64hJiUBwZJ7GHmzcdu4gLp5QlYg2PxnQE8Dp1Z4ZqNA8FgB5Ziex+IZ1TcBKap4nE8KJlTMxC50AVNX0DWNk7dC5vQA1aJxnY5mNPQE6gzYIH8Nx-jNBB58ok8QFmyUIExrJ0YCxicaxlMC5imQWDXLY7XRkB5p5hcbuMtS3dTCrd5ro6p6Zw4oZw0A5xgI5zdT6Il8E+0PYwJ5tJ6ZzMcH-crTFk5vQZEhcRl648lhwOLQ5kF752lrlySfYlhH8G5s0XKPZilhGvSgZtpeVwVg0FgVx5YEkDQ5FtEUAAVpQE8NSpeMxGlk5zUuDd5lVtZoVqlhKF0Npn5y5gzAAckCc3D8bdaibRJCZhKdd2ZteUZtCDdOYwYZySEcZFZDYjNYXF2GDGEROmMROvHIERKxAPFTYaiRjuB-E1Z6FCANajY9BUZum3Wjf1dVcpY1aicLc3XLbLeLa2orcDcbfiM8R7r7tIAHtzrRUoiTAhi+lDZNwxcOG5GdbjeBJHeICl3xY5dHdpCacWIpI7ZhC7coBFioLpH7dhAGcocia1b6DbkHbcfF0BbexzNXCPbHftbXvyEzNACDeKCfGpD7a9FhEHbJTDjRa117GveZK9KPylNUlNGZcvbxfZba0ZGvZAVxu3YcBEhgk9h5sfYfGfdfYhl3cHafKV1amLVhQqbUrcY0M3S3bffg6Tx+i+e3VI4hmDRgn3eFFw9rnw-Bb0qI+YDI7o7WiictyA9zRPBXf7vXZ7ZQKI80rqmY7zOmR5sE7XY3ZenQ53Y2aw5vY0N48JIYrg64-aeVn4W4lRdZaw+ZLF2ezPZPgvdbRaGg905fOM+zm5DcXnuPg6i6g-bQdIuPyOjHbccEfyBvY8q+ntKalvCsAJdZhc7ovibgJ+zc-GYTXE+871e3US8Y4C+5CC6vBC9velFZjQMASAwsPTcYAnHIGoG0nuEzQmDQTHeoYi4-fBaK9Ta4cq8xFhAzZUV8xq-c64oEzy64Sw7WTwD9wPBhS2H+ApqwTIhMlACDXIGQrQrYFIHDXbANDAOQgcBA122L2L38EK9hCTEUBVGnySgGEYE6VDbZNMFO-O6hYrYmAVmKhRY5hkEO9EGO83U3Su+mPO7zbNFCE+8mG+45NbHvIO6O4tb4y+7O4NnvduzG7uEUFjUiSTAxHh+6lUnF0njR4XjjOxOyDyApKO9sB4E0CJ8W2ZOMA-joEIFKDR89ixDB7e+J4h77haTiwJWgu3PW5p7p-KLVrGDrLYXjX543Ltls8ER6A-ih7GHp-29IFe4omlRZ+UB545+w-SHVml+HP58F4+CWhF-undIp71+zm3Wl-V-jIrlgppPJ3oAzYV+Z9ADJ-zJqF16p9V-+Fl7oEZ4ohJ5odZ5R8qDR854154mp9p4JW15Mnyi9QF+N9RLMHZ74zZ7R5jftA0NrSJ7940Od9nI9FIRfqCG3RT7V4t6N4l-fjpq19UgZ-l9z73Q94iYt6CE18B7O6j-u9j7rP3h6EnKT4cUb+UKwB79Ao0Jz6Z6V7z-DML56Ab4j58YPRH7F9Vnj978T7N7b7GBd-z9F6rhgr36LOPkcvkCW7oV16WjYFY-x4KBlYMkyGv-yGmViEv-48KgcGK9v9slCDf4zfuPeNqhYAZdmoVgYboCjvJo9XSgQBMjh2P7kAluayD+KANG6R9VIcPAlIj3-AfxZunsJASV3QGGYH+DaPipN1Ui4CVEaPBGj-w-5wNH0wuQqOSC8C0FdE43KfqvQ0IkZt+QRLhqUHoHdkSMKSXgV4EIYIYeBwMIQdwMEHCko4oghgTGlq5wYZBKqeiooM4Jt1AiTAyxOsziLUNa+GgglJoDiJcNEiu9DgVPwME+FqG9RZvNpEkF6CWBcccwREXvYXAdEsXDJtpkIIUV0uALArmFk2DbBrgqMbwYERVaOkl8OiWwMtxMh3BGAsaVDH7lUZ+djeX7H4EZwr5RAAkkgoJJINbp1h1BwQnwrvz1wqDPAHfGPorGbIVswhIkCIVELGAxDAuTACIssliADB8gNoEofchKEh94yenFIRoT-bpD3BGlI6G0JtC+cS6Yw75tezL56chheuBzlbwP625SIUwsdve1OK2oWAmIK+kvgmDTAig3qP3vsLsrBo6A5Pbroe2dR0BRsbjE4YcJEjnDEeUTYjqOVGxp8ogiPd6psMSA7CuoewxwKcNSZbD++ygd4TP2OL3Czhi2eioVANB3Be6hKA4UcM0BQjHhFwuLhwxuHOs0R9gaVM8IPavCBM2Ij4ZDQGpwiDwCI2iGiMUC4inhi7IkF8Nmo-Dthe6UbFiU+yIwQR+AaYKoHsyMR0meuHkfIGMjFhTAiQHpiCPjokA3sjuY+MKPICiiWRkoxIBd2uFcjVRbjYnLcxGCUjbU1IwEQ8KHofBYcGojVqSKZEZUFRSos0SqNZHyZxRGrDkawXXpL5EIQMOECoCsimDxQ0MbQQcjpolDshYg4UmoMaKmDDBcXIMXz2j4PcxgbjYwWgh9HyBHBUFF4SKIPB1gAqp-TodIMkE3RfRqYrgU50fS6hFRmY2wNmNGJljURKYpoVBWobelwW+Aa9MVD2JuMTwLYzeG2KibPc+4NY0AL6L0BuNvSxgW5sRhmBt55Aw4vVomNbrOAZIciKyAOMLH1igi44zzseDLF6BU08XI6EOLE7liiwVY75tuNJH2ht0Q488WaDLEGgsxJ-UYiR2nHXizaXzK8RCIXBxEb2nY1sQmw2EqpAGtiW0ZXksHic+qlolxL3Dba5dI0yYTEHWEa6Ys2uxXeYJoEfYDjH2-o-xHTSrHVheQCkEwhpSPH3i4BoxdCXWMQm0Bj6r42yJhMKFxdcJWUCpl2LuAJstRI8A9kKUAl1hlRjE-CfFHvaEBBW9AmkFOJPJ65jUwTEVtuOgkiBZuYorYQrz95HcMRQQKnp7Fm5KTSeb3T-HF2-i5p+efoYnM4joDODo+L7Ino0DElI86aR3T2E+P-rDCXBk4o7noGqaAtnER3NZIA1ACzEAAEi7VsAABBcAOABdoAAlWYpAAADyPtZAKYVcS4V8AZgJbq13f60JbxmYosavSEnMVzJYku8c63kkiTqQdHZCRlIzGWAb28kmQJUEon0AuGNU3uGlPa7JJV6-kwKSFLCmRSYpcUxqYnxKllT0peCAqZmNXryTlRJU2wJZOGyZSqpDUeqa+BZG+D5R9AlqShOSRzT6oa41eiyLoi8ieaTiX0WsWar3ElukwHIPBPWl4RjpgAoiXeOynXjkppE66SNK2nZTFMPk7NtnRICrdVIAABnMKjQioN4asApAq6TsYUlANBFXnBmkhfpB4T2N9Phm6itKhxHgB8njTIyBgCMxgFw1uwgyfgmguwXcE0DIzh2UMuPpcI0IQspcGhcmZDInDQzleLjWSaQ06ADwiZBKOwIVFijgybJ4dBmei0pmexCZQsn9kzJhm2xRoXI+4DeBkApguupoDVK4Jq73RFQ1gwmfwO8HizTcks+UtqwS4Lt1ZIw48LLNsDyzpAKYCYQyK-qmA5ZCs6YQu1+7Ohb2jnYYebMtkphvpbMwcaIH+GdIVwCwbwRGIsHSwZZ9si2Y7KCLJDH4E448EEV14t8dy7oF7qYMTmr8heaOcvEUM3Li9lkASYMbINyHfkxC2U3OTLHjSlAyhcY5UqEBbGqxlSsQT2Y7NzEwFSgPQmCrvHL4JxYsAwmcV-zzSRyvZIrDOZ8xblWzphLsnKAQBKSiBRe0A6AUtAnmKyF297Oce6MEgMh-gJM9ZtUGylkpMhIYoud2TDFlpQ5TgtIOrCDH-MdexvfXsQAuKViHxAgkMV0PzHUSaJxgfeTtN-Bbk85K-FIa4OqBSxNaeASeBAsdiBishqkToWfJaA-zIxywJaDfIMmxjY+JskgE-JPEcCPxbcmoK-NkF3Rd4JC4wHESQRr06ku8l3uXJs6AKeIEwAOXYEOA-yL5UFXwuAsgXILs4P47sX+LoWZx6yyZV0UmPCZ7yCyv82Cg+hAxYKYSz80iW3mz6T8sJwwpsfxxYk9i9WvC1iZ-zzB9jFFFNRbCOKUIbjXB+QUbP-KiCrARF84nUIKThA7zzFhi7KaYsnH5ByeCYmxZvPsWUBHFk-JxTtOMCcLJ4G4sfhYt3GoRxO7i51rIoognjqO4IzWtR0WwviegsS+RafxI6JKv5PQEjiko-EVkfC34jRfwukVz5vpPgYuOgXYZkUecdGKpSMCzbgyKCGwKYEJMZA+z1GHjPmU32EZwzfMnSy4RwzkyQ9+Z08-GHG2kDyyign6cvECwPYq4zeYy32eRExBgyEe30tCY22PzEStlB4CiCovSR00pgtqOsN9KRkcyQyJGHmQsB9kRI6a6SpicBwXDpKTx5E3ZRCNaWyAKsJyyhD7NSUfA6Jl84YY8v4kmF1Fv43RSyG1EHsqY5jRtj0vkJT40YCIs5fzNSVcSzAQEx0YoFBXU94on0swL5ICm2BwpZ4AADIu14pkE6QEDPlEpTwq30o0O9MCWXDcpuQiYNSFGlVS3GxU8ycGiZXcriA1UxPrVPWWvR6KTUyoIKvakkqyVlK8AP1NGCDSRIgqrabtLNF-Dr6TiCabaKmkzShVts5YCeG+lLSzRP4a8bqpxW0ymldwM1Y6Nzb3tVlaqyqdtMOUrCJmjo-afIEOkGRzls1e4qsolAVLNl90rKTtKekMrxVzK11R9P-ECR9EQbRQO8oelriFJqo6hntIVG+qegTYjKvdD2k70RINI5ZArAQ7lSRpKa8NXEVSUQTnV4Mo0FWssAfSIygFM0b7LhVJqg2RY9NRq0Pl01XQggDSWYC3SdQlA5bE8J2sbaQCPVD7IdTGM74VC9WcIBNfcC7WNse1LIm9oOpICwFdRyOctm2sdG+yLgJU9AduJqVijTUDkySJ82clOMEMMkjYaV1MCvStIbdEqQ8grW0BY0KQs9TvPqnxxlgH8OyapH1VM8rJgG0Xh-ByaHgywb6niWaPzo+QrVik8HgZkWnLSLe+QLBArwWnfriA9qrYSPnT7id6pmgCCbBtMDiJ6pvanoT3Krhk4QMKgaYhMjhkfr8pgy7CeHS2mewvl7Sw4HcqvlxyOVNIc9a6qA2S9bJb3T2OBoohWT1V0G45RYGo3AE4ZLI5DR5FQ0Sj0NJq8GURsSAzqxauG3TaauWmkj6Z4MijQNSo3wbkZW6uMgxqgEliQMLXZGdMQQ1frhpP6y9RUsA2WKWQbm8GV5tanCqomLXeqSFo2nCrmuYwctd5oWD+bpYLG19bRo42cqotLwOMogOkDxbQtOSDqcFNCkRSopsUxVWkEK1dSStvU6lTqwI3Wb3qFQPLdFoxzDCTwuQHZrIyzJxbxViK2NClrY36J0tokoTWpLppNbo1nsQrfKqpW2xptFKqlZ7Es2kzkIA1CbUyrjJLR2tOQTrWUty60BWa1AXmeQzEabr21l6hBidpXxXauEzrI9VsKia4Mjtty9hDdqNBvajVU6-ZdHFGA3a91LDW7SaCX6gV7tqoxTDhvyrxtESX2lRqgQO3PaaBIGZhs9tpE2AAdPMUHX2qGXY4zS4wNHcg1EZP1nWMKxjhSM7r6ikRQI40USBh2QQeG+O-BoTsB1pqt1QO+qgNWR28yRGDOp+qjroDo7iFEJTHZ5gh0I0k2DUWnQ5TR0I66Vj6eRqdC8gs7ztlwrNQdPsxOI81w-D4Bw1p2txRACjFJvCu+30cAVBkTFaV0Q04qvx-gYHSyHN3YrFJ5C0hbEGJxs67InhLdUzFF0ngU20O5lGuunWaB5dCgRHe217qrtu29yRXcLthhLRVdPq9XWaE101JJgWCJQG-zERUBToJ9M1ixCLGm6Eq4gAwWVUL4Bci9AW18Y1Ey4tQyxNZLSu+AMwHFh+pCoIAJ3D1Cd5OaKXNsSxPgASsVlux3T4RRau6bIwur3bhrb2dtI9L0P3W4AbBG7YdmgWTtProLmEP4SoF9o5QOGewAAnP+FGhb67Kva5QHEKP42AnKva1ugaB8BB7deKQxsh5mN5G91YVgcov9KTmBBD9NoF1i6wahoB-9Rm58iv3mHGAv9IrFQJ3J6Bf7L9FIHVHtNvQ3QrAH4W-EsOc1BBoDe02A0mk0Ab68dNlA4SsqmV2VZlMUZuKxrO3HrGxHus0ePsh1EGZlcWOZRLv90L6DaZEegyQeLHS06ahUCHX2xxyewTwQbawKsywTRBOtFhR9mMF+DYRMYbZAWbJF4MkDNOOOFCKIdGBbscccZe-c6iUOP70hYBgqg3pRjTE80hzQqIox6iFVHNcwqBeHVdCewUOj4LYC+xo7vs1mahiHX41-COrTQhh98A3ukO0UtKPJEQ14YCPvhADn+8-QcNxWVtWDyayAw-GQi0bSu5XTEHFuxiuhJNRIILfog82RaItBGkJGEmyPN9oj+BuygjSCkEayImRmXqV0HHyBJAoAdog4DQBRGAFgiokP4YiMfhhDWUBgH0ciMNROjUQDA7aKcR7Sc1BkZPT5ANYJHm9LffwSMECHjr89yEcvbYAGq6AGRuu10G9j70W7j9xOT3GX1NBSGZDB4UshgKkW4U3DdgJNXodcIHhygcIE2v2vsOOHtlqHFw4pxjUKs9D3h3w8nM2OvGuyHUUAP8xezdi50uvXox+AeMPtG2YRyblYf6gV7QDMRqowsa7UhRl+lUaAerFSNldSgFXeo4kd155H7gBRgjQ8h620bfMZR0XurFkNvH9aUJ-jnCB6KpsP9WJyozaCMMBH7yoWuo1VysMBGMT5fRebYeWAInhTAxsFUMeGNjGJjOKgtZqpmOfiPy6VZUriYRUz8M9AQ06AcbXEUby9ABWarsdSX7HDjXgbiScd2hnHHOw0B4wkZdaNd6T0hgduLgABCFIckHFpzYNRfTnQC1XlQRrgBZASQRgCkV7jkEGo4U6GUGlADhTqAmaKXDwHf2ERf9Bmbk2WAbRumk1Hp8qYoEO2lBFAfpgM9DPqEJmDMoZ6djdD7ysAIdB4REjeEoAAAvGYAm09y5mYTPJwsxxwhjunPTdAGQDMBtBVnyAgZ2s4iQbPhmAAbP9JXPZn+z+ZuE+YSLMIqSz6Ur09KErPPY-JWTFUJ5QahBSIIsISQIiVgDhnxc0ARIKUF+BjAg0iJAALJYhQAQUwWpoAADsAADj7MNQNzvJ-8Nue+27n7e5Zw82NWPPJg2z55y8+OZvN3nns-eNPWeYMxbtPATkGM93vXOwnQLWAcCyo0UCQXiuygCc6RfFxwXTziJC8zMuQsNRbzN0FAKubXPAXCLQ5uDqOdLPU8uosZmwOeRosnmELBmBi1eZQtNnns-pmczWeDP1mwzQFvM1xalokXv9npyrgefFwAAxDmoiWgBsGTwAAEVQtjUHzZQZ86+fPNJAGA4AWWZmzALKWBzBZ1iOpbIuenoLul-Sw1EMuIlTL0lsauhYNCIlsLuFts85ZAvcWyOvFvc+OaeBTnnseligAZaMsBXNAu2AAKyrmcznFwc25eHOwhYr9vfiweBSLe9jw3llK75bStmX8qsl2cwpZPALnIrqlrc4VceM7nNLcW7S89lmI3hbUOQCkIiXJWNhESbtQK-VcFIW75zdlCAP7FTPpmE2mgaVDCJ0AEX8rYFjq8VYoteW+rA15UMNYaijWWA41uqwjWCtiWTwCgJbo-NIDXBGzuVlS5teIvbXizY5qi4lbGr9XBrR1gzCdbOs3RpU2Vlc09ZcubnXrPF963xYKBlWhLlV-a79ccsngAbDUCayazGoNX5LdZ5q0pbBtRW1Lb1rq6Wa0s+nns4U21N7yKiYWUbQkGwOdZPBRmASgl+Mzea9S+T7Zi1jM5oH-PZn1reV1y1tahvE29ze1sahTZhC0Arr5KumyFUmsXWWzGF0K8wBwuJA8LDURGOPCKh0V8bbVyGzFehtxXPrMF-KhLapvS3Zb4Z3bOxd1svX3L5F8sLDcEsVWTbCNM21LZpsy3CA9N+WyeFotXWJLTFgzCxdtuC2cA9tsc07fKvCWZL1ZoMzjZasY38qAAdRmClBCAyYEKg1GildhZD+FgWxDf1sjnDb9vUm++3Fyp3GA6dzO4iRzvBGGb4AAa-GboB3AjL8xfIKAD8m2oO7aZjM61bttE2ILnllmq7ZPCV3q7OQLOwZjrt53fbmaDCI-NOJm4GoPAzwO2cjSOB87z1sOxHb4vG2K7adjO5Pdru52IrN+EG6Df5vb3C7u9vc2XaNDi5wAXbbINZYMwu0yTjZpOwjWTvvRTMDUcAMt2tCgByVwwOs1mf7s73B7pFh22WZHuP3n71AV+yeHftKWv7J4Bpovg8Br3t84abYvgDTbZNMH2wLe+DaIu32Sr+957E-eYCIOcbKDz+6AF-MX3Q7EN8hxRdKvO2Y7Y1ahy-bocf2Gb49o+1PZPAz2IrLDoi0XaKsl2KL990e9AGeDnTkbaZsk9QLQcXnOIM1hqD7U7szAdEMvey-bMcs8BFzED1h1A40ulmxb+VeRw+LMCIllHGbBmxg9+kqpESQnbCNTZIcE2hbBtkWxQ4StyOFHkaJRyzUcc3QeAvNy+xtcgfC2h7MNgS9HYRvmWgndjxM6E9UcRnGbCDpB-Q68d63JHnVuJ3fZ6tk2xqQU3aP5dEDJ2KQvJtB0zZjNxmmr0Ux+SIHACpzTAUuTK6Y7IfmOPLljuB89nKe9xKn1TxUU47GAL25EgKNx5MALCTm8nA92J9A4+sBPxcQz6QCM5qfhngbOVq+6Q+ivF2-H7DqO-DdHvrPNnYz324I5rvZ3T7nlbpw2gKc7X5ElCMYGVyscK2BISthqB2e7NncGbl1mm2FbVtiO9n3jp59I5ed1g3ntgD501i+chWfnXZnswC8VuIuDMN18NHdYesLOw7ELo51C-GDvOBnQVtF1deBcsA8LvtwF8rcQfhWabmtr1DrbBf5O2HhLmF3C-nuFQpny9vM7M7MDzO57Ez7l0vcAwr34Q690QJvYeeh778X5YYHQAGvHg9DChpSA4dUhOG0ODxqcYCfUPAmeh75AeDkltO977T-ex01BM20NlnUgRYHiyB93fEqxKqJo1sBua7w5WLbb7UadWMmnXMCGW1zdHMTF73qux9eaVJyZBCF21DE2N4OAagMqQEDXEKFnlf0AlXHl3evFcnNt4XIVEsiCwEwc3Rl9wnKPfm9+mgAMq1t3Zy61Yh4AI7Gb42wJapvQRS3VpJfe3rk4icYoiQTB+W7AI229nbJwUpFyAA')">function execute(exp) {
    return evaluate(exp, the_global_environment);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p17' class='permalink'></a><p>
      The
      
	<span style="color:green"><kbd>always-true</kbd> special form</span>
	<span style="color:blue">
	  <kbd>"always_true"</kbd> expression
	</span>
      
      provides for a query that is always satisfied.  It ignores its contents
      (normally empty) and simply passes through all the frames in the input
      stream.
      
	<span style="color:green"><kbd>Always-true</kbd></span>
	<span style="color:blue">The <kbd>"always_true"</kbd>
	expression
	</span>
      
      is used by the
      
	<span style="color:green"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      selector (section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>)
      
      to provide bodies for rules that were defined without bodies (that is,
      rules whose bodies are always satisfied).
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (always-true ignore frame-stream) frame-stream)

(put 'always-true 'qeval always-true)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPEuouFEPOIXCqGIIxKAUShuGIOhKyEoKUgYYw2BkBgBprdy6DEEaxqmFZSmpUapGdZo5rocgFGGj4tuUhT8AxLF5t8BQWHwBdcPOh6noXfAlpOs7NsoawJqm7aTNAObjSEGcKmUNhyDK+g-uBmYWlPBhwboSGTBhuG6D+wHpuUo7UmrUhqHFBgoaxrKcYu-6ruRn5idJv5ycx2GqdxlogYJ0HUgtagxDoM70YRumVoXPmBaFsEabxxGmh51H6G41EfmIAAPQhAjcZwRedUoxcVkRqBVhd1c14htfhmXOfxw6FZhx7hHIZaNa1wwdZpuWSlABLiAYer4YdlgnYYdcKDOrRSEMBH8L06Yg5Dp7hF8GPjLQybbcVQn5raWtHHO-avdifWUeMdpJuUc7c4rv2PiGqXo892Xubm9gPC8XXFRLn42+UDvrYzouYmzkT5uYLQpc7nb6YXUe64nybpf25u7bmjRCBBblUSn+TBEIDeU7FjotH0APGDNt2PcL2XY7Q7cZy+hhXuj2GxEb6+bcmbmzOCDmbLshyzlqS+HRuQNWXkfJHyGjVCKZ894H1Pg4bgr8whUQHHNTW1AFDG2oJWP2Z9EF0EmFRWIQV15sFxJg7BNA8H+0uNvZEyDSBvyAuRZ8-x0GpFyAoQg+Byh0L6vDZExCoIxHfBbDIxUoEnzPgwJOKdhG3zjrEdWWgRDLSmgeegk8056VkWHU6kgyDR0UbogiKClHKKKLIjOWjBaL0IZMVhcYEiBjmqPV6owaRsFpquUoHiGKGzUWCLWkih6rCDOqUMywKIvkND-TcjDQD-3sk5FwcDKC+BIBA+BFCao5jOL1AswJQQMEfs-fQZtDCyxIXEeMgYHIMBQZUjWSwu6gHSJkOSzQsLSOGlUKOM5X4tMIGEG+ZiYj3zKUtCpWshnMOjlUgGn80ywPof1FGbxlbOFVq7C27srbL0-iQ2aqRKCkFrJUwaJ8tku01qHQIgwm4rOMt3M8Q19C3Ivobd+W0V52z6Z8pWdzSBNJ8THT+4UimcQNmXPOlc-rVOOVBThy0eGZJzuXfOiKREriCmODUAV2Gg2FPoOaMMPhj3rg4mmExanTCCoCgZlL57EEnrSgGg8iWRjiQ2egVJmUzhpk-BijI05MoPCy8ebKaX7TGVylcqKAlnn6ZKoV+0RUqtxbGIKgqx5jU1bWJihRYnRjToy0u1dsUTLqVK6l6NfmUHlUDY1BSTWFKwHAqZj8HASw1PoH6FshJ1NcckVInSsiBrabvCNK4ekbghJCX12sBa1DhNwb1S1k3u1TYMG8UanFHDIqAD1cDDDckYHwjG0M2aokdcG1FcKa4I2Da8flAhaWMibfnKlC8HUI1dTEU5aLNC4m7QijladSixtjGsfek0nkVrKfwFmNbsYmLVb2mVwsOUAxtUUctQhl3VspnWgStxa5WoRfuuOcyt0NxxYW8kpr6VDvqWGn5zB0artPVfS6sYFKgiBe8L9J7a3lUMO9Z6La07Z0ZmTCm4HDn-r8SUnc8HmaIexvdR60HPbhIiRGgKpb1nmANr3fuRzB4kMbPIxkFG5H4GTgO8kjZux6i7UuqtP6kPvH0PI5xKh23Sj9bURqQJM0MGzfzf17GwhMQtatE+8jLHOlUQujRlY7GTzk9waTuakWD1WdCjZPw57SvZVRoGJz30+wvQwZVlyJmAtHhffZf7-qqb0kZqFnrSMuANn6yzY0alQUbK9RkgKguL0NQXP5kLyR+pwx9WL+hovfsg7h-8H9XqywU7Z16vm4EGzRmB7GHNqNQSS5llLnjSs8ewzVvD18VyAvq1hqmqXnmDy8wq84xWUYYY4A19mA9rNVZTYwJrL0GL6CG37DrsVpupxWIC+bI3YqeO60DXrLqPV1X841ZqSgoBwEQMgdA3ViQmfMHNBaS1pHVA2p7GzoaFbpEemQBGMQAA+P3jJ3fOU977oA-sA9SE9Z6-RqaF1B-9v0x0MjZa2oUMHCPUgEtqCxtZgiP3MDEBIYQDB74c0oH0e4Yhg3Dqwi9gAZLT3o-Qnmw-Euycn+Oiv+fe4Y77UFh348J8ToD1twSBpgX53HwCsvTLSDzl7fPbNzH0ERQuxmJfFLXpN4L-0qL8-IAT2oQudwi-SzpYzcDTfJeayj18QUlc3nt0mFt-J+tc8t1t2HtvFdM+V07lXW0Xc3Y-e11m5X5fLD1wbonJORch7XVTcXcC4+-uyst8PpDvcjAdz7-3-0n2u8l8n3jXXPcR8z3mv3Tv8Pm653Ndbi2PMzVs3NAXhuY9HPBPX0PCea+S67-HpbUHkc66929x3dpx-D6cb34p-eU+MA9zbsvY+c+V7tNXznkvyWnWDs7NzlsYdL4z29lv+vBft5C8khOe+9kH8T1z6-oc2YR2Mbz5fCYbjYmmzLwN3BJ-O6hS9R30TiYxTnTzfRXyzzXyn0D3V04ncXfXvVlSPwgITFPyjyNyXkv3BHM3tTN0AK51c1vwOUPxH3f0DH-3w03w1y4SVhwXoF2XNgPzf2PzQLOTPzb2FyORtXBC2XoJOlNmIOcHv0L2BW+XNmZxQJDQTCmUCBkA5jxBn04i+Vdh+RYNQMDFkMqA5lJAINEPUW+U6CwLINYM0NKTkI5h0DVzgTuyvTixMI0Lxw4Ojy4OwPHWIBEOKV9kxXhXsNQVHxkKA3BHcPBG4A5T0OKXcKQP7Xl1iHIJcEoNVwiM4j1VZW138PiMZxGHCMKTgTvTSMXkdQyNMJcFz3k1yNr1SDZVHR8ObQ5V12b3DSRxxWSI8m3ztT7WMOKMcPe2aLKNgJsIhy5EoykOkLcXYIwIv3GmSQo08M4m8Io3ULGLRCCNmLCMLlaPMAY3kSWOWKyIr3XySJIy315n3k3lG1LxKIVlbxcONw73IWoC3mEKUI8hsSEOQwcL2MSID02JcGaXAK+NXztFz3zzgI8kaWaSIG6L2MR0yH0ChJePMD1WGQRIaMgMGARN+NtXmTfnhNGSbzexvExP21kEOyankBOzanO06m6h0CD2uIuWGjVip1s3AVZ3OSNWOK8PswIQMRfyjm4BU2RXJCChJ14MUF4X4TPlCJtT5KMQFNACFL6zBNu1oJ4T4XUQIRkBZJPwmPPyAxkCsm4UlM1P8zmNeP8yf3DnlJMR1MCMpQsMNNAEUKxNkR2O1Ne3tJnEdO4F0IqMlxsU0XkHsWFg9IVzey0PkKdKsOoPmPs0c2GjeGCTtLMJ3BwMQNelCKE3RkXkRI-QTLmwYhTKcMmKA1y2SQTPNPMATKCQcVemLP2N9ztHrOsK5wri+HdnWk020wcUqxFNsxvGVLgT1TkB5z7JcQTCVyHLbMcA7L9hYAUWtNC0KH7LeywlHLOjy0KUbDJz9mqIxVsWDKlkZCI3pO8I3LeiyyRWfgbJpyH2vIYnKIL2KQvKtz1FPmtOeBXInIoJ9wvLzPJMMVixMU-MiG-KuJvH-NjP6jVjUSJ0PO0RpXvPoj1EFPWD3PG1XJkMmjEDJyMHvPCFZw4HWjwtPGjXaSwnPOtPwqvJQrGUVPQs0wI2aGItwtUBoo+lQQAB5gQcLSLOhyK9YWhSBzIIQAAVG6OzOgXwQQZhXgBuJsM46gWoZocEUAAAahLSsT2hJnWiFDAIIo0uSSsiMpvViA+F0rEH0sLL1C-lXFMhEt-nBAkvwCamIEclkrEHksKMUo3mUuEFUtMu0osqe2sum1QU0qzLUs0rMpiBCr0pkBTjIoGIfxumkjfK6yH1C3JGKymmJxumxHHOmDLQrQ4uegfNstfX9EaLSGaPCoI2ngznyqIH0FipUVnPwE7LEG7KPN7KBgapBmmxHEbPqratmB92SrauaEPRxiIgIptGbIEsfFYkVVJQzmGt3JHQPKDMQvRlbWmASTKrYCslsienKA6UMXyW1GJVESNGEwvMZBHOooVR1Vsxmo-KAvCo+rOj3W0tiFfIqX-ME3dRBquKavREKr2xx2KWqyH0yqyxQuyqRBnMrGashumiqpKqECOoquhMVGHQjRxoGuLhtjRtaqsXbM6qex6t2rBCMxtWmqH2GqV1GrjlKHgiVzIpQuJoiXermqvOWRvGSuBpzC0v7DWqmg2vJ33NxAQpDM+MVEOumxOroDOpEAurOhyVNyuqfB5TNVjEbAeqBCerHL21ere3etfK+v-K8wIgBsfO+ofEHVADYiwsDHBoKsqShtqlJNxyOwpNajOw6kuwwHpIwRJmoVwXwX80cTRLYIp31J3CSXBCoRwTwSrJcFTpoT9iwQ3m3XHh1mETjt-KgLtGETV0KgjrTujr9sZBJ3TDFLmCzNiDmFXF+oaDFI5GbpiA5DbtUzFIwm7p4A3D7obqCPviHvvlHvjiCNhLYCzLnudHbqKDFO4kMA3nIF8CzLXo3pksVGXsKDFISW7oSVjAPtiDFJuDJyaRYEMFCKvtUBvsahWHPsmSCPUqHtiH0DVm4F8EIoAD5QBwFNK97X60MwRwRPJP6Yhv7f6AGgGvJQBQH+6gj01phYGkH4HwFIQkGYgwGxTgBoGDAf7MHARAHwEwBkGx60yABSIhjBv+shhBmh3B0AfBoI8ST+hhrB4av+lBtMgAQklC4ZIcYYBHIdACEaBD4eoYga4vodEZ4Z4piBkZnrTK4oBGge4aYfAQ0ZUfYbTP-oUbgZ0dAEAf0f4Ygf-s0e4CKG0fEYQesYsdkYhAEaIYQcKAcZiAEdiGZPTAKmEyzqjoEQLDfPExXE-yGCZ24CCdoTPnKMrqwWrpCdinwBYAACsTAnVAQImNBCEmGB6q7s6sz-9y6wGihYma6CxyjIpAmingnStxNwGtwgjMdhAsy2nym-qL6gjIA6BvRjYt7bG+mBnMkununmnwQH6GBYBIBu7pnZnxnunL6qBH6ABRIe6ZtZpZv6sUgAOXID2aIYOb2Z5r0gCZAx4HqdoXq3CpyZWEieFAcaV21Jieub9kaYuapEqc-QhmAvuemEeaYdKYvCuaSezt+YdTTBVL+LOMoXeZScLqQU8vvgbPIVxGqCkxlFIAoWpvSfIGrHLRJk0HJrQh+dzo4ClnZlMXMWYVRaOCKC5M4mnDujlsngbPUwMJ2vltJdXHXgXX0B+dkXCu4DarBcjpufbT+fqttoaH5ZEEFYRdkTScydMCRTFZ+fqxvNlaKE2plppvlrVw4AEE2rEC+BYFVm5ePKBBZcIANfZZOGkCajJOO0DvaguwwFDphezPOXIFMAYHLg+HKhuFIA7nmwbMR0+03H-3Dbst3n-yFthiZg4CcSMvBAYGip0tCsSqidLqyFjaLmaBjaTZIixO4RuBzgMS0GZ0srxrIWUGUHkoyA+SMGQQbfgcak0rSwbeGvBDUtKD7dAFUpMs0r9eUB2edD7fWNrYAocDDmMBGksqYTfmXaxfnbrAiGgjdpcHirEDTYhCMvLedmMCrax0idfjXdhmMGXbpUiusHBCxLnavb9kjgUDS2YQjaaLhNfiLgHYjV0hBnJSAx-dAHp2UjJS-ayBvB-fCD+0bOg4-fCCkeSWKHhBXFKFzcGBA9Z3BFQ9eR9YoH9cDdihDY7h-eMmaAg6aSUqePhhA7A9XGOh5zeKYJIPfcpzjfaXBAPc0qfajhfbIDfaV2aRg-CBitXDUsze-0fkDUIVCf3zY5g6CtjEk6Mr4+MCYEE8w6bKyBE8Q+IXUt0XhAA6zmlHXdylBCzNfj0zoHXc09IEEkLYViwnI+nnU+GhTo3CzJJ2E4-YWt08Q5s7s9fac8B0svY9-eSQAHJM3X402Yu40s2EqU4f3H3bPn2A3axSAU5y5svP3aq4Szoo3tPcvVGJnJmhB2mrJggoqHIdIrILRiwoqLkOB4ROOihSh3OSusu+G-x9BSvll3P7PBJEuuulcBv-P+uevBv0v+PMuyA-7oLzB8XCXlBiWZxXoHkPB9kRl8uHjaOcYzZIuxT9uE9uAWPL54YjudXChImVv1g1vqBNBYstvK43Ab3dv2uIkmPfojv0PJnUOwi4aZOxyNYvvYhTINYluXBSv7pQE1ZXudujuSFUVTvt4jv9rDbLShqgQVxpPvpmPLSFOdYMfXVK7tu3BDcUF4o8nYfIN4fEf3vPLFkweRbdVsemacPB7-usIldNYKfjAicUFll-9+e3vBemkFknFEvhXOf1IJ6ef5BxeqeFkZeOeste37uiWnuNuGITOOvh6Dw5PB8EaJk7uCWHv1uXuxf9kPuMenP1z1ePo3mBeVeWFuVKJUVZOMf6VRSgjAepcUsQffvWePfeVqq3szZiNobOJMkSBdvPTxin8je-vp4pywfEvDqzYVbUkgFifzA4+PCAKkzCiE-wz47ekM-p5Byq+QYs+NYc-AEAt3iXAS+HVxdvXGvtJypKB8A5E-YBgKhBhkfy-AxC+E+cOu+dIsTB+mlKfu-sodiR-t3Gy2+nVPvoe7M7gWBqhuJ1pCySZxQULzxE-M6E15tj-GJ-Tikd+jYuz5t+Nd+nsGyldb+9-KcsS3-qbPEv-1oGybxf+H-a-pxEAEMBMWF5A-smy4CAUfqp-JkJsAv4wCr+z5GFLBQFaIDyy-5OAZRXsyADIBR-KsEWXO6flN+deWGGXxX7oFE6dNBvihw742EQMEMUmCfGz5ICbOatInMTAYDqARAHAUgMGiTxEBD4YPKqqimJifcqqbaS5oAPoxP8uy4A56rQKgrmpbMMg1nG0xtSddVaGpTgbDG4GVc+BIyYgYYjObNBcghAFOKAJ-5yCOOztF9Kikr6EBtUfoIKFhHMEpx0+Tg5ZO4J06fcRabCPWpILBpQ8VwrtH8q3yEG7dN+FlfoAoGo4kB1EFQGGL4CxyGA2QSQzeobkMCkg4Bc9IwIoX+4ZCUhRObIU8ES688fcaQidjAw7bnJYh8QjTEUNSF1DToCEfIdUPK6FAmhJQ0kABWqCRwOABLBbJGEyFPJ0hIw4ofNByGj8P0hNKoYUImFZDiQZQlYPGiN4s1FCN3L+vA36FkBBhtCbofoG6FTCngWw2ME8CYYxDWhRERQilUlxXC4hMgGGKNDyZJI62tmJ4VQDURjxAgp0RdvUMebIsJgrpZ4d8IeH-DTo+XOYS0JG7TwZ0gHHMji36AHDFhgwNOCzRhE7MLhDjT4ZQDBEwiIRcQlXL8Mc6tlJcnLInEKB+Sgg6yJbZCFxCoDGDYBYWYTGoMVI2CwBjACAYgOUHhD2Rd-PduoPAjjh-uFI-AfSKdjTF-y5Qr4WQEYBX1+IVg2bIAOWSSimRyA+krxEjjyjQo7FXiNwDVFICGyRtdSDICTC1A1K-3cEGaL2AWjM+7QToIK0ZEMidc-3B6jEES5kDMIVAcIKKLQHqIqRlIGkcLH1Euj1RoXVIFhF4jhB6cznBNJKMi5ai5RDABUexRvDRizhzoG8AmMzGKgkxSQFMbqO04ZixWBEJXDmNLFoQgaiXa0eaPabRCnsxrVPASOZLYCE0JDbEYAwjRkjikagEwF4CaSMAp+OsYcfQG4Cw9QxsPLASyMuapiHMEiHxIyHzE6i+I7FCcc6NHF0BRWnQ1cFOJIEr85xoSRcThxtEcB2m-3eESpGpCNjJAzYkkeelXHzjvE-0TfrwA06791YTohWsOl3bFifRPYziGlB+GxCcQbIboNMNYzCYmmaUUCWWF8B+k+R4mMCMGHHD6QOkSOIdtSFIEygEeRIL6F+ODSNhugjIPnj6Pyy6kRUh4PwOEAHaodMJ3QXzMa1ABiUAAEmswYAABBcAOADWYAAlMSpAAADyezZAECFPLesZAkgNQHPy0hnplx4YuAW+Jzo4Svx2oyLkBI-Fqwqe8-OSbKKSBOcgJnQcWDpIahYlDJmQGScWAagXCZhzEtiZxO4l8SBJwk8AGZMkCciKgWkoXiZP5SqS5RDZICeCM0kMA8J8hZccsnBCbjPIDw+gVzm9DeTZJ1k+SUaLgEPD-YzwyJmYklHyUyG+6PsX3EHGWSF+OMbKZZGHp4i5R4Ys4ZJMfGbjo4yUoGoxMkBxAMgHzDUpHEZAAAGR1nAhqCOQHMrU+IecVijUBBgVOQabkAcAdSgQLXNqVNO0CaU8Q5EhMLNMVjzTSAWJbwn1MolQDxRS4FqcNjR7lRRpt5BNLhyzJYRVpR07KKNMm4FtN+gQQNDtPFCpBqg2QVqYROExXSaOnWUaSeXcoDTDpP0kaWNKYgZJAgfsRyJ0A7jL8Vgw6cQcjynRb8-Y20h-qwO+l+UDuYA1MLBjjEp9a+QlLCHUMhnQztOGPXMbEGJkMAoZbADuDXy8ENVIehAYjHyKpk0yO4s0gCR5AqAJDQgZSQ7rQJ5GgUoI4M4gCTNpmVJ9qMQMQeQIfBBDpZa1B0fmzpH7S5Zt1Z0EFA5LEBnaJqG6jaloyyCBRnI-2M9XDE6yGUqg4ahoKsSlAzRUYWKs0DZmkylRKqfjMtSzBYBoIL6dWRHwr4Jo6wmg9kBDOpmkypyxCODk7IlmDlwedsO2cYDsHPoV+kcmGWD034UiwBS0XhNrD+B7ToBp4BSTOKpBsjQBCgnnELJMFMQBwMg5Dp0yqr4o6A+lQsauMf5GzrBAo5ZJWMKD5yjRDLZ9MShlmbhTwIiP6ngEhBjyVwtGGwYbPf7GzuRnQM2XilUFTya5wojUEjIcCNzUxucimYqBdmXIVRKEaCKhGlGzoWg-owYBgPnk9y+5gQgcDzIXSpB4Y3c8uT9S-Kjzx5cM2zLWNtH1ib5lEH2YynPnbzCBx1a+e6hj4eQN5iVJufxEIB7hfw04lfiaIkini7R08b+WeP14RJc4jouBTE1JBujrSnoomOQLgW+jGq58jOaHE6ruwc5eCngAgs-LELKJgrHIX6LgpUKs5tCx4IQF-D0KsBoAd+ZCGYVRjFCoHBnBggTS8LIuUC3EFvPTGbCxW6Y0kDvMKCyKYF7FPnoop3HTA+eKizuYqGrGrDkkqC3+RAtVKAyC4eBfLjcUwIjQ8CVkWaRnWzLQw3xOsTmXAP-ycyAKq0nYh4tsl5CbwtED6THLQknc2AUM3wGckZJodjFCbJ3N4q5nmB0WTSSxe9P2nriKpSQccT1xNkmCaMwmaGNDksWMhHpQFebK9JxicymIjYdRUeOKi6J1FW8zJdqNUUNA3gritjkUqPScy2lRQPcRXJX51KFx6UU0XWKwUk1Lx8sPpPN2y7pL5yoBT5IMMYC9KbUXVJsVNgJHDLnxsBJiaxPYm8TrIAAGTWaiT0JmQHqXFKkmP1Zp9UvSVuJSm2SlJHkz8eFP+4aScJhuW5X5P0mJdzJs8VqdHAAr-LLFQKuAfsoYCHKTlrk4AR5A+WeSvlgKn5UQlSkwiGhCrMxIFIJHBTQpyKjoZO1mnRSYR8IM4VivvHnTHFrUolSSLa6b8Ul3yhqcLJX5pTcRmUq8LNKYb7oUlzsWafMpib3KqpZiGqdJIZUCqjRSSndhSz9ilcpuC3J-FkoeVW1MRqKkkelKoBsriq1pTlbGDSnysichwm1PFKKlnoWllUo0bmM7G5JcQ3y01dkvFVeYlVJIiVTPGPjSqeusq7LuqOAmQiCllzVoMiEZAwTx+E3ZJDMtK4609i-qhwFbNXm1B-u7sHhMNhlWlcvVDwpzlGpxhr9o4Iax1bEOdVzRNJ4oAibkNSC-jSJeeOHArHEHlq7hkRXvoEGNXHTGAmktLD5JRUopSUBanCUWs3HOD2lwmYiUCBxXlh8Jva52o2EbYiUYsm471WJFipkqQJ3QBrm2upWxCI1hQIqDiGXWJT6Aq606DKVjAuc213AS1ZOselDI21s65at7MTkoCPIHwYIH7FWmYsW1-iyCZc2XGMgOlZ4NjtUvJCopC1dC+5X2opADq-AjIYdbiHwnhTx1hSxIOessWzqAWccBdX8KXUVkqVMU-wTwH4BbqMNHAPdQoAPV+hLprUk9fAzPUxZVpaawTDevAX0lZ+q04II2ro5tr8uvK3tWLSRiMbWprandUQkS6z9NxfGqyfQAApCa21Im4qcGgfUNqZ1L6lSWOvfVUhnoCU0Te8EZAQquJPE-iUJJElMQtNjk3TS5KXEJpNx5GphqppY3vBBMQUcEBiAfawrklwgInLyrfWFBZNT6waQps8nzLBMUUNgK5sBWab7JUK05QZtC3HLTlpmo3rNIs0OMrNty2zV-Ic2kCqi6KXEG8HSYx0lkJagrlkCWSulN0WW+hCMneHokytPii2DOBK0ogWe+JOAfTKfLes5o+rNetltxyVa8thNQrU5vSSbp2tpW3LbZM8HNa8i1W8mCkA61qsuttkprQBRqBiAhoROGVcNpX6jbnVWW-AG9Nq1qtU1yqgJelpqK7bt4J2wSt7FzWnREuW2t6XejO3AZptTqfFTEDDXuq9UJ2h7fQjGSezyul2xzr5k3WRSRAUVV7QtyzI3aiElyyXO1u20lSptX2-bU6ry1tb4dnWwbXVsi5TLvuiI-YcMOSFY4zEoOuZXqnR2mAjhqOtVssj+17pi0NQphjDtu0TbSd6-Znd9tp1VjrSV64zIDpq5WQidQzYKIYHSaw7oWvU4gEtpPgWIkBV6lVfUNZV5MhVWq8Rj9pWB5D+dAacXcttmUpcpefS50OstvGbL7xQNWwOzpJoG7e+RukCdKKPmYSI0KEBoNTqhSA66uIO65G6rB3cBFtQ0UXW2S0mNsWBIg2yYClYGmtzWlrLTL1T2qb8tej3Z7p4il3U7JwQUFlRlIV1+gja-9YyOrBMD8BhomkUDMwOGhtVfOLCdUX0rmzncAGpYw6pWG3E6KUkTfcqYQNIA5Joqns23YUHBCx6remZaXn6HZo3jLds6x2sxXOXHVjITuwpIDp7069YsbupTB7uy5ZlZ98eoso60bA3AEeO9ZIYyAACcJwOBDvs3oj68aR+niMkNnVgDI4I0L3VLJJQGA8hHwEDbrNvmkoXArOTqffq6EX7N6+gKLlFyshoBgD660WoEJ9k-716yQ7Ts-uw2QHd6V+42F9jSkq5lkLgHyC6VCGJz4Dl+tKUgc3BIot9k2qA5vWdU283A2uslLZ34AngyAT0d2GM19VUhWgjIOniAmYAI9yDdy-jlQaKhpsjgtK-9aSjwSkB6DgzSRupHdjEUzcVVY-SnEgbeQrmAvUAKV1BjUGBAECKBgiC41FA5D+gIbsmuOAu0bqLEAcDOt7798mkLmrHK0Bf2xAeNw2ZjcJok38bGMzGWw9hoHAiGxDmSCQxJCkOLx4Q8swXbvQhDeRwjTIdTYIGsOiBwj4R-yMYfANsQ9ZKwPQwobiMqGeutqSRI1DiPxHsNchkfWnDSkaqrwme2KgYfdWViC9TAj5K0HL0GA69TUeBtNHxXq76j149aBspH3din09GiSZuiECGBHIX2aoEVE+l+rWDuS+nhwcZ7cGF2Yx-gPwcENSCBU1pJpu0bCJD67xIE3o8tKT6E0Ly52kmqLlcqpinsLo8gLJGgjNBKjC3Kg3XHRhF7+uf+P8useWSV7mjTDVo3SoiWb1ollyGTI+sR15q4Bf253bhsil-GolTAGJXzvd3a6rO0JgE1fywBcHKDUXKfvoB3EAAdLABxvnTqILDMgYIG+3t1IM4GxCNCIAeSTeHOqRfE4OiZlWYmdJ2JzoXiYJO8ymAffEkw5ydFG9eAJ4ZZD0CwiCnQAAAL1BagA8TRQPVdyf9iknPjPQSU1Sb0g0nO8dB+kzVFQiepBj7wEY5uExOEmicxJxU6IwzRBErjVkFgFFWUBRV2mkwKLmmDwBMn3VRprk6ab5PmmKuUVG00aXtNtd1T-kIAA')">function always_true(ignore, frame_stream) {
    return frame_stream;
}
put("always_true", "evaluate_query", always_true);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p18' class='permalink'></a><p>
      The selectors that define the syntax of <kbd>not</kbd>
      and
      
	<span style="color:green"><kbd>lisp-value</kbd></span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	</span>
      
      are given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.3' class='permalink'></a><h1>
    4.4.4.3&nbsp;&nbsp;&nbsp;Finding Assertions by Pattern Matching</h1></div>
    
    
    <div class='permalink'>
<a name='p19' class='permalink'></a><p>
      
      
      
	<span style="color:green"><kbd>Find-assertions</kbd>,
	</span>
	<span style="color:blue">
	  The function <kbd>find_assertions</kbd>,
	</span>
      
      called by
      
	<span style="color:green"><kbd>simple-query</kbd>
	</span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), takes as input a pattern
      and a frame. It returns a stream of frames, each extending the given one
      by a data-base match of the given pattern.  It uses
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) to get a stream of all the
      assertions in the data base that should be checked for a match against the
      pattern and the frame.  The reason for
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      here is that we can often apply simple tests that will eliminate many of
      the entries in the data base from the pool of candidates for a successful
      match. The system would still work if we eliminated
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      and simply checked a stream of all assertions in the data base, but
      the computation would be less efficient because we would need to make
      many more calls to the matcher.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (find-assertions pattern frame)
  (stream-flatmap (lambda (datum)
                    (check-an-assertion datum pattern frame))
                  (fetch-assertions pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNNSPIz1KPSKihyYEdCGkYVAVFGhBOE6QunqbpQDEWgmBbJpiP9fcBBA4saPPCQOE0S9qjkMiWLYpoOLTDSMn40ApNHAQxKBIwJNswQhPs2SmnkxTlMIoEXKvDTEMBXo5LWULjGQwYXiUhhwLo5R8OUCY53wViVKI6gSJM3jlKo7SzwS0AGIA0QgNY4KUgs4yeLfayBLc6SHIyholNId0oRkRjmNyuonOSK5IlEMDdJwn1wkiJLQBS0Q0phPr+oaEqmLK0yzOSbzRCUlr6jU9Yb00-LT1o6t9MMzruLWzzGmqqz+Ia4d7Mc1wAEh6jajqahyt9EjexaBommRBtGgzptS1iFv+xor0u3KYUQv6jE27a-MBD7AvXRtkvByrGgijbwqQ-oUIEKwwlIOMZDYZ7AhcmN7tACD-3QzCIKPHdUJZ7h2ePembIglVYtINn-o8QXRlIHmLgUhgo0iNhlAggBVQgK0ISgAHcaCdUZXWRABafXityhDrtAfH1k2GhSdocm4zhHA9p1l1C3KkDn2mFj-C6PbQ39Kjnb16kvaZtCMO4U2sD231-cdZ0g-KyDxbiyOC2ij2OA9FVScIYMZBShhyF6sHZvSvyXOBgui5+ku5odqLkSzwQVWDDgq9ymQm5z4MaZc1cu5bxDegbmgB9ztvwc77PB5agKjLHnv6+J6KF44FUOEjdh33bmvN7YMuRTbLYCvLHfvVAPfWKXxFoqYAAPKlZDPphsdL5RL97o+aGBjOF-zlhC7FxmnNd+Lp95D3vMvZE99H5r1wBwYiYF+DgWfgsCkoCt40z2gvECq916X3-oA3eYCr6HytqAHBDM7IiQEIqDwMD+BPwAdXc+Ah0EXxIf2QIlwKSJmpFiCmUQp7N3HsA98C8EgqHYR-B24YwAj1oBw6MEAYDwCQKgNA8g0CaEgTfZEOwlKiHgUwYBrpc5lDYKQT+5DxT4DYB6UYFirFGAAD4uO3AYxgLcnG6FAG4jx1gPRoXeIQHxfj3HmU7HsMJxh-GRI4NQuY9BLEQLTvo6wVRgyhiEMNegTjLwxHdD3WeX8OwcGBsk5xAAyKpS5biVJBDZUghTMmyJHmUwgW8wnl1KTsTJ2SOC5PApUxWnT96R2HlAmgtAJD2MoGVSg8CxnvgaSU8hq4YaYisak9pOxtLkGDIQfewxulJBcn0lgWSfBDPyYzfZhzjnCwge0+5RzkG+FmUEm0KSMp91uFeDZRkGnw2vo+V5jyJ6l1OcYP5eoZBXk2Sku8aTLDWDUoGdqIhiDiBdoMaFzlekZMuQMm5IzGbouGMUbFACg4TJRbGLKVRKVYpxQnGZczvnOMIrC2QAL-lAq2fDZ5UyGU-iZZijMrLXZiPxZbdsgLOqIu2cKvRqKJ5EPGFSqVeLVncsJUUklI0yUQWflqmlhY6XtNNSy81bp2VfNlTy+FRkFWcqFaClC1rJW2uoJCtKjrSmuudRdQVyLdnWHEPYthHB77cGYCWHVgrfn6v6dco1WzFaRo9NG2N8baCDEtSKrN0awgkMTLQAN5CmRyE+fMjgiybBb2UEG4FKrHzFpYJnSgAgJCVvlfyxVAqkU7JFTsCSNIKRMEeX2sURKrk5PTZYxW476CTseYW1VcqLAxrvnGpgCbqAzpoC20NbTR1ouoKTQsgFc37vzYe3VZyU3ErTXkslUtyWXvINesqt6D2EA3Y+b8Qhc3lOYPqH5eryFDI4MwXAtynAeuisBndcaEFZSPaBegsGhK3J0Eh5EKHQNzmGUmqD7YYNwduXmM9m6DHTjSiQFZZGn02LnYat9GbGZKRnPwYgTBAMoQzjxxj-GnHNnI1sG5EERN8YE-iLZBICPTIY3JidIxHkVt1cYVj-a4VKrvO0kcDBsOro08g8Tz0nWVKUxydp8b2pmancgrTimrOlKVbZyZdHrBTu4KQPSsmmOWeTWx3YkobNtpQjscQpmqjmZOZF0L7ZbGSk82G89mdGIVllVutVqaF2caXYzL0ZYKyCfTiwF8pXiA5cfTC0p0mavlYUyk5TFDstdp7blp1BmR0+a4LwYaTFCyYYufOwZi7SCKwKMN2lUXooj1Q3mxNkHdNbBPUi9rADgyubWw19ZA6HB9YW8idWXAGC7ZkE6CT621Vdhu6dskERsM7eu9wW7B29OyEe+1hzF2ruPeS1sK8v2OT0p2AXGQsbrEpfY6+8CsbFZuDpfS8mfDGQUkpuTNB02OGYLWe2S+9VGa4GqNICCoA6Gk-JwIEWKRJwzjnEDdhbDnHU+J0YRUyprBQ-JroanDCigcXQz+JBJycdSLxx-bnZTgb89ADUuXgM2dcKOOj0Y-CsdCKvPzyGUMjBXlV-rg3Gvt0CMpquPXH6DfGFXMbm3tv8fgLV9LCCZOoQU9o4+fNudxikF9WCC0d9YdbGBnfZQxpQDyn60BmItWuDUm0hLPFye4qDGULxhgelJdZ70h-Fqe0LdRBw6RUQsczda8ETIPP5T2Fp8LMoR3Tva8yLIe2Yvpe7D+35h78YdPqfyll774M-vA+0iptrrv5fY8oXwEpNebk74s65e32d-JvFW4pBlzdftzTsF0rhBcBE1h7UUVRP2h-ErVnw2v6ZJPEmaTlHsJUdBvfRaXxwbCiyV9YMZXhasECLfKxM2c5XnABXSXQDwCCFHV-BcWRf3UAAAFQAAkABRDgAAQXAHADQIACUkDIAAB5AAOWQConlC6HpVwA2DjC4BLBTww0rwwXAUJy2Hn2mGznvhXz4VdyMA8D3y4Lvh8Ab0GArUrz4Nfz3znDKlEKyna2kPsHoKFjEI-Dv2QPQKwJwPwMINIPAAUI2EXxEGEKEDkJ-B4M11DxoD3yDwPyEK-1Oh-wkJmwYPT2oH1lsLYFRwjCmUUUjGUSgDgEQGQHQC0XkF0UfBMVSknVuX4AmHczC0MWMVMQoHMQaXHA8ByEsXHB50bX3h8QyM5nDg+Q5T9RWVrQWSWS6QaWUDiMkOPB2ApQlWpVxQfUFUKKiLKiaLNVaNCTJTqJyLKS9RaKDgKMaHoRmnVRYQ1G9V6NiMIHiMGL2QTQeQs3SPGIUkmPBTWK4wGMaFyOA2-UGBvV3RWzaJSQ6MmMOJ-WWzvVWzxz2IaFyI7VuP-TGIHCfCq2mBHi6nYGzU7VLS3nLR8RN1txeKCW6xqObxSEePqFyKCzE3WI+M6N8FU2CwROmCc00xBIUgWPqNfx2Ga3ePqAmMAiJP6LxKWOsBXXi2c0S3aI2JRJpLXR2OK1hIZzKVm3IBG3uPxI8Fm17U6NnBGBZFVVePvT6MFVqLxNBKaBgwbTEQrR2z2ysWlPiPxMnFlgbFuWVlVnVi1joAkGGBYDvlAENk2OiJGFRxeSG17VxGUGVOemqh2DjXIDYCOM+B+NxBhB2jywDFtLAzdI9O+KmVFIdMu1s2MGRmUmdIvTYG4EoCHA3lDO9JpiMD2njW7xAiFJiKWwhLtKIENCdyMCFxAwWIiGoGnWhIaCW0BP3mBO9NlKd2VKbNtyWziIrLeROVTNxi+3X3HRlUzJn3Zg8AHPBlFypHAiHKsXZhCEf2umjN9NGDljDMZhVjVk1jJBFQCz4DNKNgFMjijPB3aXlPgUVOh13VoDVLTJcnO2VIvI+3qOf3sG1B4WuBzJFOM1e0uwfIJGvNbOSFPLKIrX+3vNjT-NxPVPf1viuK-RuL-QlPmPiLYPywYH9Q-PfCI1OLAySSlMgq3CaFJNmhiKwrQ2IhxPZI5IwpkFIoYC4HLworxOgugUmIxPE2vJaljJjXjIC1RN43RLczTL7Mkkag8nCgUi2hjM4hkBi2LEc1pOnUiyEuSBcmoq-PkpZPpMsT-LqLNkXNRi-H-3UppEsTKJAiPDUpew0oS1I20oSF0sVC4rHKhWMsqTKJ9IMpUtKVcq2TKLNlcH0qPFUtYrRLEw-X+yxJc0s0UAcrCgCuPKLTAnrXgSIFeTmGWU+2Eo6WiQyskOfIVDhNCEBmglSpWJoXgmUCAtKvzUOTmCvFythERip3hHaVoCYmpETOaO1Qw3q2MC4rYuBV9PTP-xsxAgxPUzpNIBVN7NbDCz814oGrcyPHyqPBCAKEYTkHavrT9B6KDgrR8s0tsqmvmmrLasDG2q6p9XMOE1CvfGrKcgioUqiqUvWnNgkpRkVDANF1XWZVmNGKRI2JuW6JtV6JKIdWBVWqGOYVyl2tGwBsIqwxQWhrfFhrtQqJ8XxOCGjz2D0oSs3RRPJN2LxML3-3zNwU63zJ8TNj2m6i2jGq2s6tRow3zN7L2mqoORoXP0RuSoSU6TKrmFpsjKyuovzIAsCFLJjXLKjC7PAkFuUHZtqqbGvNnxgsAmZJsqQqsM+JfGcv9SlmovHQQt5LFsBDqJVpYsAm2K0oeOJr8j2jEWzJSPfCtvahlRqPwrNleTBrrRlRdu9rdVfjSmvNANKTEWYpoBROBr+rhqJuQr8i9vtR9snijpGNdkToDsVGopTu6upDdrwrqNlIcu80iMmOGJzs1pagToqLKMIWmKZupHTpBMzqdtrphpBoTjzpSX-MzqYvBx8NVT8KjBjECLURCM0RzAiOiwyTQvfBDxQtAFNIZkYDSnDu1pDNVRZzLVGCvIoW7UXDqPnuk3rHjMTKKBHgghNuMDrI2G3uUFFo9rs0y2PoTKTK9K1vGw43AlwEVmftPqEHPqewvimTry3pMxxC1so1w2-tAEQ0fs3TzL3vAcPqSqo2gdv2LpQnbKlsrIs1wAgZQageUBozxsfAzl1swuoEnPwbyQgnIYvtFSofazHS-hrrEXfvh0KyRrfkZjocAfIYnIszYfnqDTYfNojpIH-BH0lomE7OnQPp6XISvCLuoKso3hIWh1tvUNXGUfaT40kemA9DtJIQ4r0FcHUOBkvmDo5D2maWmHmr0g7OlseRAkoMnsqxfAIXTp3sVK1oqQqO8fBi82oJIX9v2s4X0DMdmu+xxE4Xa0vmApiYJ1MZ0yiZByMjbxapFQlscZwcS38dfh3o9GLDsc0dSZoHGFzmaRrQ5WbAZgqeDCqZmkPARp-i+LUeqPyZLggqKYX0ouSBCHqaqa8d0AAB4-x+AGmhEmnMb+CZYVyIIkC0JPjCAJAAxLs7EXM6BMJuBhppAQhKcABqKnJ3MEFuDiXtYZ0AI5+hw54523U53Oc5-+LaAiwETU+ZxZygC+JgDWNZ4MDZ4YRRUiIbcgPZxmK5u5g3B54MJ5y565xWCF06rxR53AXtaZsRoozCf2mu9OkxomfGhYwZNCZkeRxUVq9q6pr5AJl5oa2mfVLsYZ5vehQl5mZke63E7FSgKRnJmWjR9U5vEIdOknVcRlp3XcW4aZ6swVilmGfxyRK8dF-yo89iaSuIknWx7i-zBx7BmW5S8WrUyIXFtcwgIJIcaPLeQ8lIQKwEPaYnKiYyghWKpoFyM60JeJrxxJ8BS+xoeJ88j+Ga5VwNglchOIolp0PljFqu0ot2io1+PF1wXRll4liN2l8lwMSl+ZalzKxoL6hluVj9ZliYMNtl23PRrlluaR2RizM2j9QVio4V+pfNqGDwD6VcJp1+GZ-pugGVoFOV86BwRVxUeSRy1VhY9Vwpexytpx5BPV1wZc7Uo13U01oMZZPc6iDm9dANpGd63yI8W1khECB19Rp1nN0pV1z1zE-xi9osp3X1wJ69rd82QmMpyC4tiN2RfuzMQegI1RYIjRLRbACHawV090igT0lMws4HfLF9Th1ciCED4MirZEBDsDzg+M8YR5UY70qDupfTdJws1JaOQuUD8gcDgekCG5B4aTZcehu3WIIEG94waTa0Wjw3aoBj0E6TQaVjoqiIDjqjkaJmMCHjoZfjlIaTVLUQehyTxoRjowaTG2HZyQehxTtQWTzjwT+dhgVjrTwEOTxGyCAREvT0WgC+ozrgD0RReofT6TA5nj4wGQCPUACQEEbIU0o51Z0AGzwT-Wez1IJzlzjINzs05zowbzmhiqlIRz5QQL54U0qCULrzjTmh4APztMAL1zhe0AMATz8L8CCCAAUjS+i+c8y9NIK8S7y8gnuns5K9i+C4Zhc+S-y4AEJ+JauMugusu2uqImuBOaGRnivOu4vQAxmjA+vxPBORn0g-O6uyvRuqJSvmvIJMghuYv5vshxuquIJMgZvlBAg5uuvTTdutvluIIWu0usvXBngjAWvjAQ8HhEIiOgzUPkyxSvGMhFRq1lwfRiPgy3uv2nv-8UPSP17Mx60PQAArDMKaz7+oatXELrrjv71D+hoNHssWkHsjwHqg57kjz4Jormm5aTR-ehx-fT4s1waTSAQgYSb9CQWjmnungLCnyn+TwT8z2ASAVjznyAVntn6TcztAnjoX-nyn6TEglgEgtLyXkgztg3IHsVUIFH0H768VUJuHlIBHrr1cPB37l71XwnxX38LH6YboxUzX5IbX54dH+aZXg3gnxlDFWzelAUwM-HsH0be0v5oZLWt39eQSMYCQCtyHj4YsYgQufzGQD9U3tedDyarDws71n3sCToQIEhlCNqLFnl6dLW7JnVqs-qdawQIGFX7HtOzp+62P7o4Z714v2QWPpbSgKHmHneqvsvs3p3ylHx71jVydnPmdhAjYYqQpUfZvm9Av5BMatsbgKd3J8CRCORIB8j-w4e399RTADANxwjShl0MgDgXjegN0LEBgHLZ+dh3YexRxER5G8YeGanINBV2-iqXQa5jgW56Fp5m-jVF-2Xb-6YwzCKmPpYhUSgJEYPqELi5xs2fpFgMQGIB2I7AMROQA6TgGZdFERzGQLAOIAk4IIlOaApTn2YIsjmWAsXk0FwEKZIBu2QBkQFLRKR6QLccMrtkYG81aBZcF6OoWhYQsIIkECFsAM7RKQwBcwatDthYEAIlIjAzcFwO0AQR2sNAsQZ7FGB0gdsF-LsMoOpwQR5Q9OLtjFhGjKDFcVSccDJSiRpYjIyg3QG4lw68pTBl2H0j10Zgo48qaYVcHoIZgwEtBJJBhnv3aiH9XYJ-HLGoKaAhAjBg2HZtyVGJ6Cak7McUF0nbKnE7ih6MwZjWgI8CjmcgkzAoIYB0hnBEZTATYJ9JHN2YlOD-tXQbTLJRS4PI2gkLyGIsgQRQiFmkIXyJgshR2XIVdkSGv9Ch0g7cHOUICsDIIQyehjtnlq9D5BlQRQa820HAdAYAQ2UK5D6HwcJo9DG5NkJ7j9tWhdvBoRkOpiy5PElA9YeoIADktzHbFwKOHD5kWMLVFusNkEjD0hB-NKNnhrwPDAuCjOHOFgcD7wr+kQVcHnlIFORpMgYOnIrAbA3N1YwsFwkLBuZoVxgCECYYEEHC3C6BPw54fKyMi-DhhrAsYZkMkI9C+hyI0YE12NidR0Rcw0Yb8NXqh8UobVSPq7XHJxoywd6B8hfy5I8lD0MOanACJBasiAM78YBpUNCQw5vW1aSkeHxpFlEwMDIksBIKZFwisa0Q-IuyI8HSYUc+IEoVUQVG7pZR0sWNKvVrwzJjSd8CUfxhLBMjOK0lPZFyNGIw4hKtrYBkKyoiKh06PNMobEL3RvFrRSrIjpKKUimEIy7sbEHqKNJVBDR9I40TvTAqaiA2LkJbPaP5jcdqcwMK3FGDDEiEIykiINKGLvSpiqBWo48DGPrauCBhCY5MVmN9G7ZZc+YjlDgJFHUjyA-mMou4PVyAxKxXyIUdiBrER86xtI0uEaLvTSjrROI3jpEBbHzJfu3o7MULW3Y+Rtg5ozsF0mtG+kXIyo+hk6NKHzjIxelHdouNKQ6jCYmTTdDuXfAw556LpQGIqNmHaNNRsuLTg+UVjrl9SEdOIf+mKgSA+ASHGgN+EnIVpjxrw9fMDHPHJAPASjK8YVRvFI5jWG5A0vyIYYuZrSIqMwpUEoCZxpgeoEQLIB-HqFDxpo1wQ3hkFwMwUAgUwq4VdiU0MJL7VcJ+KioeiM+0UQWOKiLgilwJljVyMuyEAFwOA8YQQOMAYA0x2k9YbgIKU1G0suKUOBcZ5UCDYJp4ucXBFJNbj4Jj2u6FgqQnEilJKENkR-AWxYl-11UHEwEdxNvHO5WItbBlAJOETdwa6EiR9ouS4r-jIxtLF9sDH4m9pLx3AO3k5ODQOABxSrKcZJXsnC1d03kp9vFRfbuSYcQ-dSHYE75EBEwIEAAAxUF2kIkDWLBkikhC5srscgLIF7ipT6w0U0YCBGhFRTVQELeQCHXISFT0MeUhgO1gzhJSpiHcVBCYFSksiE4mU3xsVRVFDjuwzUy0RlIEBrDz+O+R8MwGWT1S3w1gFUN1Lv4k0leFUlqX1JcY-MUpmqeaW6Eynex8Wj4XINMA1hzgcsZElIF9VElCTlqa9GwEtOfgGS5pvUtaQ5Ehqnj3yIElpoDG2kcBdpogHLC5JOoG5Xp70nLMBNcm5juECkAKc+yyq-S9pU00hPuMfAiBCgTYetAKMUlgwf+Sk3iduWYA7TIZB8FVmmEhwQEKofkowNVAYzM5GphM8SfUACgz1ApAVLcZTJSDYIZJIiOSdSEdZozaZh01SQ-lEo0JoSHgMnJJWhIhAIZH0syRWxlQehXqYUF6Na2db6p-xAuRaEBMxlvTIZ2jH0hYNFn-SjIFUYyYLKUiBSLYFsamUwCxliywpNE6BA-EYRwJykXLfNG+Fbo1wZoaMmab+EoQUJZJi+dpvkUalt5XA1UHBHYPJ60sXIRAc5pjmryrxJZskyROy0CCuzDJafcStOJEkQEZoHlYsg6Cgi5zFQkklmczPMnySukScgOVzPITBz1JvMscICARGRzi8zs70AnKMAxzJ4EiX6C9D+gy43mIMx+E3JfglwOZqc3ydVDhmMJrAh6JOf7M4SEhsuYAXOVBE+qlJ3ctOPCXTOnHiTVKNskvo1LLmxM9x2-ESg3O1xAxcI3AUGAXl-FkgD2rgvvBTnUH3yB8oEpnA4G4DnydAHOEhDsPAKRB35Ss2YRLRFwJkE0Ts9+T6EvmcIf56qIGCsEFw7yhAwCh2eQDAWgxwFycowDnLzmFUHpf8pwPoOVzXAL5jgiOaiyjmUxdcTgZPskF1w6BqFgQUhXpEblW4qFLchoFbjoVsL6g-rWXKvM9x05V6Y6SKWUEOoX8Csk2TjIdWXSRT3xoqbFPPjxSFStaQaJRXw1SmU0lFJ44wcdiMiBRIp9-JUYJznC7SJA09NKAhD-4tC9Fd-IaShDd6dpCpUMzPM8Lry8gLAzigkb7JxmGUle2KVgNSEKkFT+AW8MaeMAmmhIlF1Nf-Iwunyxx2YMSxubXmYItzvw8ixCn4vOpKL6FKQVvAfJfYxLpyOAp+Y2I5hD5QJTte4QSKhldZe0GSgJfouT4j4x8DdCfAUv3Td5kUiBVAhgTwJKwAAMmgXILY17ACUkVDQUETLT90FhdxRguvm2QF8QhaZYQEcGCEl8PgQqeIV4SWFZcihMqBso2kYNoouyyZRWi1rdKOAvSgZfoXwkoRVlxhdZZFM2VuLll89TwiEI2o8wbCE+ewt-ngzOEW5tDSKR4VpAIRL6XygUG4OkXjBgVqIWEavTd77LmCsyjgbSA3gYhq0PMQJc8Btz2LJlTioqs8rRmX1xldBRFVspmX+tV6+aePpUseFJLyVeIQyfvmpivLUVPIDFdwtvnZAjwby+vl8FKAfphIRElQhhnpWErk5yfKPAiseVPDPFSK-1rKXdYGhV6GFWlb2jzxKTmVf+JXlOER4X4Ng8KV8e+BJEQRVVeeS1sG3bC6qiAPMx6HzI8HUqdm0wPPLKuzyarPCg461aEkomAtXVhIpVaiAxY7AhCHcBXHMt2Gb5bg-OcwS4ihrfCo12+DFvQAbAoTiJa06kIsrMI0wuKIap2Vmr1Z7QFwIEH5Y4XgxZrApe0eAbLHeQITPClvf6OCotALgIRjBQgDCryAWrAgMcXSC2rcJtrPCF9I8MDDMKR5MuVakae1FrW2hNxm8w+a1QDzMBJlPsxZZortrA8GVIEVJbNEQqRK1gOapfKGoZUeV85-+ItVRBLV6QnCR6itf-nHXvIKpda9INCUbUH5m1PDIFQOsfbdq31gK6FQOsx6AxCpo6rrnespQPrp1I8j6vFRhl2LCJS6hsMoVbWYC011AC-o4qzWQt4RAYODehpQ3LLZcqExDX2uQ0irll22ODWYRI2tqaYyaxdQhPXiZq8NrNf-PMmFWtqua5y7ArgQILEEyCZsTjdoR416EQIw6vDcBueCsaiNhYScX6QgjoQ8Jhy5EIRscWrq1gtG6YBVIY1L4oZzGpXpJo2UgRzllywZfxs0LGahlwMIDWmEy76bHlvZFyHJvKyCLfMPFPSN+Eh6hlwKKg6JF5riaqN3NxMX8sotuC+abl0Uf7AFsRDfjLyWtAGUE3DSateKNsDzRvS81aL3hQWvzSZkxRWAUtZAILcIxC0xa-s+6HLbQDy1TUCtcyuLYAxEjBhJ0QgF1WlrmUuSgm9KdzZQEmmRayAO9ANUKHS2Ttuto2Ibc01mF9b2AsuDrZNIi3UAKtFaEbX8PFoVKXVxlIbTRVm3Ew-yWAJqrexCYerUk3aiCICJuZmrnh9DKbWRqPkqBctnW0JMls23uqDQA21zcIFy2hl7tUWxwWUo5IqhEw7wT4JqGj5ORTtVS4yh9vy3g7jqj2wNb9GSBR5ktt2tcNhkh0VoUd9wHbf1HG3UwIEh2kEYrBB3Z4VON2lUIv0SlMB6tIpFskyo9WsqGQ7K7EDzDtaZBttDQSTtDmW3PCZAdWhrWqtaFba2eKQJpRsHHwCh-WzgDHRzCF0B4WlouqBV3NfzyhYdgQLHTjr9CQQwRJ2jnQSPobc6RgpOrJsIXgGMShJcy6iuBI1Zj8imv6SfsMAxYdixRvtCMtDv62fgXWbK9FQzqaBM7tw98DMH6HfB0SMUDEu6k7hWEQVLG1ZfOO-Fc7ssbxEwJvALtcC6lIJ38CkCjLXaHNtt8upPfbq7ENiDFGxKXSLotA9z9iwy0QABRV0OxDtue+sWIk12WlnVZ25QLXu7F1xHY-+LEIaNU6SAQIAATi6DtIe9gWCfNAKH1kw1AzKteImDKDKAXl4krigy22S0trJ0lGgAzFimztjAw+mQAcIOGKw0Ah+ztRvN8kMyjAO+kVtsk5nn6J9kgKfd+kcRvLNkkiGgEbFgZxUg21222JPreUP7DWygLva9u-2SBI2ogExWYoD2HIU1zu6UPPSx3V61dR2sA5IAgMN7iKIwNVYMOQOmLKgM9fXZukzElhedKoGOMlFGBBJ80LPd2f6CnAgRAxBo3sSaL6EkG-QXAjoHCr3XSUpgDACg-T1AB2CZMnuYYAhFpY76IIhsI2IQcUR54XgMcIwBIdNiYbXAO+zYbzqnCwg3qm8i2NVAQkB5kJXAQiXMHUN6tlNqUhDZRsI0ITKaxhwKdVG4O8GAs-B-mPmgqZPIiZX+pTr2nEMSH9yeG7DWhL3I+HFD+lY2fTMVBiGfD5pGQ9OUUSRHDYx+7fbfpH0CgeVqKjlZjq5XQlVDLqhOYHuGDB6a8SkyPPHoviZd1SyfAneqvxAtxmlzKrnXsHdSHyVG2WxPLQA1iOIWDq+VwHtFoNUR6DwYxg5svSEyVehrB65uwder7st4XNSo4UboA1HhdMui0DHns30tokl8UbYBMZjqxPigiFuFLhYBswXouIskZzryMUAYiU4ZtLcA2OSIo9pRrrlBStnPYigZhJ5XwjdlzK3l9OktkCDZx2IguNuOMBmArCJ4pNeKf4wrAJUfGJVjO2gsZzw3vHNcaMg7SWKIMuqDhDeGQIntAAAAdLAOht4C2y9DuABsHSEV3Od1uPpfqPvsZj2GuWAmRCFId52YniJ2JxPficJPwzEJG8MkyzmuD4BkokiRcMDEFOgAAAXnbzxOHA+VJJvkyUcXCSnqT-0WkyanIMMnI4f0PAKo0DBtHHEmJok0UDlOZC6ulVIxTcw9A3NiANzOnDCAOGIQHQzJjE7KaQmkmTTAXM0zQ0OOKxLTP9G07CNVOmwgAA')">function find_assertions(pattern, frame) {
    return stream_flatmap(
              datum =>
                 check_an_assertion(datum, pattern, frame),
              fetch_assertions(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p20' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Check-an-assertion</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>check_an_assertion</kbd>
	</span>
      
      takes as arguments a pattern, a data object (assertion), and a frame and
      returns either a one-element stream containing the extended frame or
      
	<span style="color:green"><kbd>the-empty-stream</kbd>
	</span>
	<span style="color:blue"><kbd>null</kbd>
	</span>
      
      if the match fails.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (check-an-assertion assertion query-pat query-frame)
  (let ((match-result
         (pattern-match query-pat assertion query-frame)))
    (if (eq? match-result 'failed)
        the-empty-stream
        (singleton-stream match-result))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9phgsWkR4gRAYIUGEpUEmbBcHyeEKhqax-ryUbZ7GWelnGEh0m-pppigpF8Sg3VWoV1KBGkcGbmMd5yh+Y+vkV2aXitCSBgbj41RztW06+stvbuG13XAfu6R-se5xDExxQIBgeAkFQNA8TQYlavplIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKET8JQAAH3z4yw4+Lr45zpOYkL4vUhYfB8A4IRs9zgui79MP0kyZvK9iav29SMcNW72nDtT+4xAkYQGG3MEE519k+nH5OEzDrC5-CAAyDfen6QZ15HBfGuYMRndH0AO714ecaCsPj8n6fQW7qy6D1mrJrd8xDF8DOG4YfAo5fp9K+A1gY7xGERCu-IIpnzDhaagYg6CfToLPSBVEb6pDvrUB+O455WTgQgpBOl9pn3wYgzm4dv513-Kg18QVto3noUmYekxiEfxBm4eBZDkHW1rMA5YdDd76BvBA3OUCQ6cTDsaIQM4KjKDYD9LKdA+GxHQePe+M8n6gHBFI7hsj5FlXoG-OmnEdEyJMPoxRFCf7UJbrQ0BjC7QOJsUnFh90z6mIYHohRsV0bKJiAI8BTCREuNYbDMemtPHmO8c4PxuMV4YPIBPLBGjcFaIiV4gxdAjFn3SVEzJViqGxICYMBhgjgksNCfTXJcjonZV8fvOxKcwElKCUw9eYjjEeTDvIjOvNo7w0IIEDh9AimgNvok9Rj9UmSQ+iwPpCNBnEGGVkypnEelzPIAwdcAtjaGFGU0m42Iv7WL-gAvW3AnHMNWR5dZfS67CF8PshMlzykdJgakES4dmBaEIU8wM4yklTxSRXKynyPhUGIIQ7JbC4kmwWUMwwMSGn8PsWUtpkCR4wskfQbiqIfjwqWYikZyKVFjISYC7BKDE7cGMkUbROLqB4oXAS5Z0KwkqBxf0wZWzAh7xoSippM8GCBBkJovE1zzBvCnvCtm9A9kkv8aAoVIrNGkjcTCqVXLSAME6FSyujSEzKsqJonQmL2UlzaLWRwX0FWwrHpgoFUyQVaOMO0JmyhiBsvpoTV1VqPXdzCGgpVj9wS+vdZ67gc8wjqvZWG61XyIWEPlTQ2IArnlortO0mN9MqikA+Amn5nMA1CWKcW7NnEhkznBYW5BybE6BoNYGYJ0bobvOjgoTQuI43+qjSWslaQMjOJbe-c1qR5H5urZCotvag1NI7oOoR6L61vKxbXLkXhYl2vPuSyZODnXgnYB4LwXrOKE0PcoDdtqgoaIPeu8EkbIHlumuupq+AHmbtLa80+q6dWEEICCbkqI-n2omckp11KtEaH-dQQDzgT0eVHlqwlSL+WkqaZcrNraYU-TEHW-VaatoZqyK8iVLgHI6tILh-QRAG0EbHp3LINHSP-QPPmnD1HCC0bQ+mkYTGn3mErRRqjTHZ0JhvHx6GnTzBh06voBZy9-k7rAzuBZVlihGKky4I2ZBGBm34rxe2fNMZ6wUy4SGB9wQyCTLUcEoAVZaKs3sGzBsWjtE6PoAzXEqDhHs+ZmILmZM-Q895uzKxVaM2ZqzdmHwi2eYdsZwGAXUhYV4pvbeq8Nz6G1lMGYPAqDG106FC2N5Uv4T0kUG82WyvldiNpk2emLbbVK7Smr0xtpVZa61ooNMctNAc9Z4Q4Jv2xrmhwSg2VS79AUPoeGpm8sHhm9wJ4gIAB8oAGO0zwKPD2cgvZQDgIgZA6BA54nER5GONYIWaKZpWPtc7UgRyjhds8cd2rr2UqUakFdlLNAvkA97zoFL12kgU3+9TKG-3-mkS+69uA3d6ypbdsr3jMF0XkxRw8PstFPMj8FaOamZOu3QW7P2kfVIsUBgHipVY4-J7UpRqT4ek9gRwgh07IFY+ezq1nXC9Vw+Jwjvr2LZpMqQ8szHgPsc-ClYy5w+KBkIpQxBpnzpftjtmfMhXyHiUc8l4TUeW4NebO2XrXZw9qtdeBEb1977YeddjCrxUavw6WvDRL6nUuFzdpta7+Nk6k3m5aAL5na6j3u7C57pq66ick9V0jsF3yp3IPD-JSPCfE3s+V8HuPsC-0AYx1TiPUG2CPOex0LQ+hEMsqJQzyB-PbsW9XEKqH6M9k4bw1TIPt3BerBaKQcymibJ2Qcs5akvhkHkHhl5HyZeIUaZIXnx5yJuDt6EgOVeXUFCy8rI1A3yJJg40VU04vuJBnUC3zQHfb02GV4cCvyjLaczPn+Ov1IuQO34HKNfsJt+6AH6gjEO+EshkMVLPhXohvckvg4FTPbs6GrEzNKsTgePQL8rAauIhibp9Gbvvo3pboIA-rgZblXkgfILzr-q4oaKop8r4kMiAT3rltQQxMjkjGCLQWwEnC1s0IPKGMsBRC+IaGZMEL-lZLZPZE5GZjCpQL4CQNPoIIvjVDmJJmfM3lHK3nJgMoYPXutFuuRu3uoZxvQfpOtoOnJIbJlmAV9LmmxpRvoWEFoYQSsCoTwksqMNYVRgsnYV3iuuylzjLqLtXkrvPPDtfP2pQKQLwhYfoJqjKosnyrnFoYYTEDTpdhXtEQrrjoHo7k7p7uXl9GkdyrqpkQLsNvTFzt7gGloTjK-u2p2i7m6tasWtodxoGNwZqOSHwS-sKPoN0usFWonr8r2k0cJKApEVYX0Rnsnr2pwPDgFM-ofrEI2GMV8onM4YyLSqMaxuMTWnqnYTMSuNUYwTbEsXPM4f-rSkFMcRXM4UxIUB0fMcMU0mUb7v6rAYJv7pzHhrscUSuGxEoTCk4Q4KQrUPoIAksnNvOl3KCUsBHgxi5lhFCICTzrUHCNwACS-EiS0naFCa4mRHZtAjCoYNyIwJ-mYgTooh3lUV0RavUT2hivcRyijl9vWoyN7gWknpQB3jcc0WPJCrUeUb2rSqULCbGGsH+ggUYESX-PwJEmSaiHspcRMTsReGgYUISUIFKaSRTu7AJLcI1OUSqXpG8f0R8Y0Y+KAHcQAdyUjh4hkgXrrn6ApI-DaejrFMcoUu0rSs7nToToXg6cCI-N6ZYm6Q3Mwp1s0AxgFH8T4Tjuepes6sEVBMLG+r4KLC+pAcPExI2N2HqCyZKSSTKVqXKstMmUBAsXKgIIiYiggrUB7ECGiUCYMNmY-laZEZAQ4dMPAczDdsgWQU2dwJWZwjWQkSUZxFzuntsTHnNoTIcbwvbpEZ8gETrvEQaUUPDmaqUTjqQgMfGQLjjI2OjIyJEVueQvUnXl4UxKQqDguL4sedwsGc4p3ujFobLKAujCOedjjs6bKYEZUVBJefec4VEeWdIgWfTleebiuJEV+YWYwKefEV4YQXsSOhuT8IGZTjubdjjP+RDteWdGheVPeRBSsJEfhXUmdLDghZBd8RFFtmwjtvIEoPtr7EdgHJYGdtJhguEV9LNiEU0lPgrGEbWO+dcLqd-gWMFjsmQJoaAG2V4bxYaiGu-oQJ-szKPPerAZgZIFJdwLJUhZptaYoMpV-nvuCUpo6juDIFZEpSpVPGpcxhgQolgVJZXnNkaqKpZaAOKvxhIWEjbkvq5aCMKsah5WqlhuysQZWD2b8jIAFfmiqh5aasJaJKJTOXkfQCwbFWCOCKlfegyRld5fHsDIBejKZWosplzAxKCkVejPBgJtVUwW8Cwd9JTPJYRoEnaCVeuaOY4F8Iim1NHCQSgUWgmeSNdEwnpWfEsZLCNXGOhoIhNTCu6r1Y1CwEvgLL+YUKNaAlhJDM+dDI2JQIvLyVIQNZFaQYQoyBGexclXcJLPedJa3nNmvDhQ9QxMOvpZDFefKQLM8JtbNTxoMDLGFTmgLM4d9SZpEH9VaTeEDfiT4RFogWdUNZMS9b1NJSwOsI1DNVaRwG1IdUYC9eEArLjWIPjaeNCZLgTKJXdajRTJ4RjcYKdYkaAM0CTfjfdeEAADzAhMyk0Wzk3M1JF94D7ggAAq9coANwdAKZOGvASaTYee1AtQzQtmAA1KFq1qXHNEKI8hzaAOrblWrRrTVlrW1Drc1RMJwcLUIWLRLTIMQI5PgWIHLR8QrdBsrVovrcbeVqbWIObXrQbVZF7SuV9mXH7TII8gLV1TcsDliFeYBfeb+eSGfDdtPPXNiNjQ0GfGqQzrTQLfSf9YpgOl3BzQaarMTmnUQPoCHTEEtfgH1fNN2edcNQLoLSZGPtYgfNtKXV1rMIIgLSHc0DnYupmoTTaB1Z0BMFyeRPsV0TdgfIdVjR2idU3cjfhg7v3kIYnVorZHXOUOtq-KWU+JGPwbGIsQLIyFNQLHJt8bGEFMPZ9fdZXj9e2VeJ9WoT1tPeae0VtY8RXeiBndRddUyJwvHeDtYr1EnUiItf-enTfZhZaXmASUSQTdYq9XqEMf6P2gxqg1QhTVeOXZWJXdiCuXXQ3adVFS3d3rAUPThV3YIj3XpKUPBNtOTb1G3X1sPURGPX+BbWabcd7YKHPcTgvUdcvbiKvbzpg4UIIZuNvUPnvSIAfZ9LIbeUQl-RabSufXrJfZsW9NfXsXfaAg-aDU-TTK-egaDR-T9UfaxD-YXS4KnQA-A5trIHRZ7IxT7Idv7IHNgPpRvuftvrvjfvvqJkXQ6pSsIVomfhftQDvrVVppvkEyzB2hwIQhjqE42i4JcvvrTIVEk5fsE2ErWf6TuOmDenMLlbEHMKuDAdMDehyFUzEByLU7gTehhE0-NqQK0+UyGjPJ0zPD0-UyGhCWwLlaM86HUw0DetxIYP+uQL4LlbM-MymYqFM0UDerI007I7GOs4UDembKoDqiwIYPeoc8cx7CsHs7EDeqrZ07EItqAL4ETWtlPuras9czEDep5PczEI8886tqAFPj5B820yGiidMP8y80C6AJCE8zEJ86U1lcAL8wYPDNwACwCK86AGAKC70zuOCAAKSotQuAtT6EvwugCIs3riT3OktYswsKzPNgsEsACEkodL6LTz0LU+7LQIzL+LWVnNJLXLmL2L3NMQArwzBLnNAIvz9L4rQI3LLLWVK2IrGLPLoAa2kr1LIaK2cr3ARQCrML+rOrKrEIrLqLMLhQDLMQrLsQs26YBU5ZPABTcTRTBYX1gIK4hyQwu83AMTyT22zrjJgbhTYlsU+ALAAAViYByd6ysL68iIC+026-ExckRuQcqbGGG+6xG+7GmJFC67m1fqYiUxojeq0bla0Yi3gTcyGpAHQN6Iyos4a42821IbW3W0ixCOc7AJAE0325AF23Wwc1QEcwAKKdPnMTsjt4E3oABy5AC7qLS7C7HD5WIbVIJbjUHi91Cb0wSbgL20MVAbabu7wFtaW7AgO7uOqOM4reB7DQR7DLOTF4rrgT4bZbhbC+-6p+57+bIyy+TtM8c2J+4sDAaopAJeJ00b5A1YhJXUmg1dBEt75+-67JGT0BFjhQOGoHRwRQUZ9M04cdkjvyc2nZiNlDye9uUG4pt7iG91NKlut7e7Y9tHYpyMDHbCf8Mbcb0lNdrHl7D7b1c7hQi9NRK9g1UjzsY2h8DAYgXwGNzK0nF1QIJHhAFDzdyehbtFxTHj3sB2fsmAGAwDjVFApgDAbqHw5UNwpAG6mspV6cmcm4lyjnkw9mLyTC7n4QBtDARtvt5tbnP0ZMD49BzQwXqMHAYi7iigNwLuJuWgfKYdXGVp5AygygctGQV2RgK+GX0LHs6t+g6XygFmtmpQ4ItmKtQd6tJXYnzolXD6KXzGDg2yxg2cYd9+uGXXkHdAbX-U0Ev9CYvtXt4IEIXt7+8XxgiXwJvrOGvX-XXXEwo31gQ2wNnErXP0jNxs02OGTnC6e39m4IDGuk7d3Sj8e3oAW8yk3RacC6N4e34QhczSI9WQj3oAfLWi6m9BpQfrIwl3Cs4I6mxkpQ5n6XM41nsUdnG6h3fozQt3v60GsGIyl313q4f2lhPHi5Sij3zNFX436tm3eaR8ZA0220ehuPwdq4tmAXOFpy0OQCVeWu4u736tLWNPXtRP23pPf3mJb3D+xXlGFS+t7Pq3xkXBfXW3X0kkoIuVOG-ZkvxPTApPHnKwzuWEsPqeXP0vHTqJj85PQv49-Pa0ne2vyvpAgkSWXyYdgva0R3AA5EbThqN47y5oFxHbby14r4zW6qQI8r7wCyAvdsXVkJ9BnFnNtAH-V03iGkIINlZMEIbQ5DpHgm4MWIbeERwPCKr1r9719JH7WH753jeFHwr-1+b5b2r9KP17z-oKX7w-X2b1H0laAHBwh8oEhyJ31Dyh4ISvoaVcXjBhjvJvZjeoP8j1ktTFj8zzXv3zhzEL623+sB39QJoM4T3x6m4Et-3zn4jhj-36PyGuppGnT1DqCTvy5gsi3wHxQhPvDBv33-JpSQYLnkj8PwMmcQ0IsTx-eWsXBKf2ckZ7T9Fk4ueTLY0ALFt5Am-YwFPHbzxQNAdfQvl2nHzMB7+gyXvlvydp7IwBXJC4j-zoaA8Om9mLCE1igGEosEq+DNu1SyDoDoBFAh-CwhcyMcCB6kfpsQLIFp9YBD+JgfgM7qA8l+iHVfl31rCndcsO1XgVQnn6S0EBAglfmv3RgP9MBehMAeFy6a-5PW29WgeQK4G4ZbGdxaoufzAHzFr0R-XKgBTP6XwcB7ROYpaSChX8f6cNemFIRID99WqY8LCCPwjzbRPB7dWRvoRELD5xCDMEATXnZDSFPUzGRqiaSf5B94kWycwh-3sw3gfBiOPwaph3qBDR82PPKh8XnzYY0+2kcqONiaiNQBgFQQYDEKG5NpwhrgwHhaHT4FUyh3OLSLFHTKVCHGL3KIbWh34t9NI97bqBXnSG7VpQijKeJ1AYDqARAHAUgOtFi6EBS8H-ektUVkxGDEGFIF1vLBkrEwXoEsAxgMkdhQwjGTSeWGBGDDjhYCpQBwKMNOjapJhwgaYf4ISz6wCIzQXIPMNtj9VfEz0fhk-hPqdEX+yWBIYQE-5+hBomWN4Y8m8Ef9O8EI17jv3AG-DKIawjofYKzD2MrSsI+TC30mwfREeCBSJPIl8DAlDAbICoISKwSGBSQbgpHDgxJE-cuIkYBZhSOJBPA4SmWbuuKikHLYGWOIhQHiOZhkimRyXKbAhCMCcia6XWQUUSKniUiYuWKZBGQEbhX4pRxI0kYyOlHhwqRsQourSPFT2YVRMolkaoJIEMNxRaEbkWtmqDGwlRjUA0VlnVHMingUg50BaNDoiiiI4qbwsRzCIiiZA8iHOAgOA6pcj8CYP0fliZjW8psHXEUUmzvzUg5R4Vf0UjEjEfRoxH0fbiXR9Hpj7MwpM7gqOg79BlRDowYLSm7pZjBIFjV0WGMoDJjeRaYvkRAkCDpivRG3Rmi1ARjBZ16VpEuGETmi19Us0dcwGlBTHTZugbIboFqKFgusSmaUHEOOL8ChUOhtZU4UrFEBClB0LNakL0JlD38iQ-8TsetEbDdBGQTWbzC+WD6yZug4QCrupk3HdBZOkgUAKLQAASE7BgAAEFwA4ACdgACVRakAAAPILtkAQIK6h9UkBqBmhxYbUnVjoAHC5svANsTuM7EFZ6Rw49sfDAoEFC5SKEnTKoOHGdAFw9QwoXKgKoETMgUEkie8GWzaiXAL4t8Z+O-F-jAJwEsiZIHFgVBMJsA7CTBPDFJA5sw4usRhIYB7jRUsEzvOCGImohPIvIvIeFRaiUScJsE+CdSN5FvR-RvrTrNrDlqrY0CagEwF4B1SMApJMSbSZZDyw1idM8E+fvbXNiKTeJlkpIPBNphydM+F7BwMbEZAAAGE4PpRqCORhUGQUoYrQn4sxBgV0IKbKg8naAgQbkqKfmK9p4hzxCYOKbkGimkACqhMfyTcNC5SxRocU8fpYmoCQQqhWmTLED1ypYQCpIUoqcICN55TouLYjyIEFBI5TxQqQaoNkCCmHiXW1Ut-rFGKmXUHagUjgIj3zwDTwpTEM+D6MaiOROgG6dodMFUQrDFhgpaQXcGymaxHhfU8aeVGKmC11eQIwWqUCwgzSGAc0tgBuihHAjo+FWQILNPmlwiVBnpYIZGQ6FnSLpG6NyYOJcAVASAIgVICMnSGawVJUEaafdPOmPTBYKwZYUFgfAF0XQc9NzFkBBktAQRV4a6FxS-oCM-hCMr-hsNFjbCIO01eCdjKWmgIWAB8VoiuVKBWYowK5ZoB9MeliwvhPwjMFgGgiaMjhcQjwT5gIilAmZl02vvDOe6CyN0yQ3fquGaB0zjAGjdESGKbQQzPp-fFvpRxZhRxlKHCP4A1IxinhQZU4xkpsLFivRJYqMoGkIwMAixPuNbekkFAcA61TYRWD4fNC+HbDO8EoooHrKeEIhva+gqkqkFkynh-8luPAJCDDkrhhY2wwmRdB2H6NL4Xs82eTOOFRzrZ4Ec4bGEuF0AHZDWHWc6OdAsyzo3wlCNBFQg0wXplHXORTFJnWDcZA4P6QgUBlKIvZZsmxpDVDnhyVgQUSzANjW44ykRK4OwQjUrkJyfqkZRwRtyzkR1HZ5sDzHuF-A0xqR5mQHo5g4CDYjuK85zFX0tTuZCAc8+kZDCt6yZd5fM1PGrNZiazEU2s3eQG3nk-VD5QWQgFSPsxnyNZ9dS+Y8EfkBs2QC8nFmADDmQgreKWcVFd3SyAiFsj8+kfbKnk5ySsZorrCVlJB5yigUC3EDnKaxwLu2bWQRBAqQUEQesLmbuU5kGy9CPkQU7OIqVKoRNgUipUFEFISYMk5EiEmJN9OpGXJvpzGOKemRYW0SaR93VpHaHYX0ix+bAOab4E4oiDVBXnARd1KanmBwOmyNyV1PJg39lJoAG-gvMTIus5E-QRgG5MZAtS9YbUv4B1KUTfTMyLrFBUFRpDsE-+sYSxTnJUV8S4JHshhWeFn7aL1S303BQ0HUWjzSp0oB2WwXSjqQN5a8mEiYS3mxwtAVnJAUopWrJkoijcXRd1OdEN0xsE2csfoEsVBKOkcneiQwB-HWQAAMhOxAnGFMgvkyahBKOZuS9kqijRf4sQmNQMJuE-ifZnQk7isEtS1pX-hczkSFw3S5jP0pGkuE5s+SwpSUvABsSZwGErpUFLqVOK5sakujsjE6yCTMlwk0ST0tukNc3JMk8sfCHn7rKmx02CqbQo4D7KTl2fFvuB26X1Kfqqk8sepKoCaSMZQUwFmgXkUjK4lAbJxdZM6y2TIJdyv5d7J+nUh0Oo0gPogLICn4QVj9csUsqeXVjXl0wJeWtlpTLLOOU8O0bAW9DcSWh2pRxY5LgneznRro25fMuhV+94hxK5yYQXhUnKwVFhGJTCqpU9AGVU2HqYyVaDJsgQs45wV9Hr7ghmVAfBQlaR5UOAqZacjUPZkRSpNGoUKgPgcJHGqCJVSiLoRyTZWd4OV6YkhRxIRhLRUs1InsTb1PEuJW4ZOILGatkUuAPgwQUoTxOyivQWlJk+gOtGqIYSlorqv-JgyPF+BGQmy8sPuO9UIiIBjJTLv3nITeqRxT7PSMcqjHdBU+BK+gJcqmxiqGgRUHEEmugkprZJFjDXo6pJWuiI1LUmcNGt5FmkuZihZCpxDtWBARlEHFpdwoNnbsnFjIN4Iwtn5mLyQHqncYasWW+qXWx4oEIGtxD7jxJX9RsCWvIRxTeRsagiPGtTGJqtEey2SaGp4D8As1K6oKamo+jqUc2mWNyUtmhbTruEs6hFXoJsEODgGTQuKcEHsko9C1pVRRSGsEaxBSgt6shSGpcxNDvVxXJ9Y0OED4qc1OPJ9TjDrUOrk1jAZ1chJDXmLGSDcYDVRJKb5LGJv4-8UBKmXkhUNX49DSxLKUFqoNx6wFohofXvBbGXcjEGtxrUeRP1jwZtaqXGz1q4pMGziXEtsZRQ2AU8WpYyHGXFLSlTEPjZMsZBVSgpxGhlqRtqUUbQE4IKjXquOq4g3g0bG-B4QzFZBVNBVJYkpsei2E5s1096mfEEzaaUQ2AjQnNmSFmaCqYcBTZ4hSDKaf8qm41Xdy7gab1uCGPRrM3s2mBdNrC+apZrc11V80nmx6KZoMLUiLNBhAqjUDEAQop4UKxzTwv01gqlN+ATqcZtMDSUdVgkJzZJ0U30AvNQGdLRyX3mmNyxLmFLZ1KM35aQtQFOgAVrsIqkRVsSrTdVpRC1b6tMBXEl1iy0dJM1kkkQIbSa0wrcqFWv-JUphSebUtSiYLSZuVUVqctNmmbeJSW3FacxESvMdaMLG2jixKHVcENr96V4PNdmnTSts8I9aUIDQV0ZNsq1LIZEx2kzVlnu0ZbOtrWHrftD62J8rI+21tsFEMDRsptP7GFNFquzt45tCKx5ScueUBiSGb9C+liw5mKhRmcmKJQqtiXA6kuLKg7ZQJcUNA0lkgDJScufomYPOXWkoOCrajpLGAdYsuSXM3EMYLt3WUrYyvuh9bk+g2lHZjp+3o6oY+lBGCYH4BfRFpCsxxijseESdFOUbfFKp05hgrZBnfQCqDqeEqrJw99JFRpIQHGQ0VxkPnZlwrx9DpEAwr6CHQN66CDh3igwJWGpgvMJRfgy3W+rwJD4xCo+XiGNG6beRPaqtDmbTsKDgg5dQg5wtnzx7k7FO+OqnZkrLlw9ylbAV+j1pZ2brfd8HZfvLpqpfaOdoq7gH7vkHjRfJjYG4Pf2WaEjGQAAThOBnwC9CzEcUYFmETaeIhIkcSzGNjZxuAf+JYf7JD7Zx0ZrEOYgOBcAKwvJ0jWIOXseT297eVkNAOPvTVd7cZyIwfbXoWa18PgbMooEPvr2Mos4akiBJ3hcA+QvKPxeWb9pWar7G90lPPbZrmaEiwVnQUReIq+icJ7VYOxlYvKZ1TY49WVK-Qsxv3s6UiqO4bSvhEUf6mAXFQHeyi0FuBOd3RPrvwBPBkA64iKTtnuRdatBGQN-L+Hf0UELLieEBoqKNyODXKe1XRHfKQFgMtsPu6kRFLjSIT0kh9EIbyD5FAMewA+58SAwIGnw-MfZK4ag031iWtBjg5pGwSxAHDRrihmcHVEBuBI8HMGdGxqPer-W-rC1flOvkvoHCEHiDUhUgxJHIOcx4QeMg-YSJoO0GfI3qwQGIdEAGHvI-kPg9PrYhXqVg1B8EGYZ8iMGglHsBw2wa-or66xGKp5Sith06N4drWLg6yo9n67kEhuuvmbot1W7AW3eZ0d9vCPB7KdlejbBQVuJEdOISxIQIYEchZxqgRULlVSCQNAgUDKAyfOgYkrtdcj-AHA3gdeAutIYJTOI60EjSjZQ9SRwdGaVUQ4N6j9I47vgGkHmw5oXmZgLJGggS9y+UKkIzQCuxNGXu3RpbHbpirRGbVKgPoBeiMlkb-1RGtRUgJpXcBfFENTRYyQaxWKQCImpxdPP4hEqV8ha5jpgtjD7GnY-i440EosyhLRBRQdcZkDd4tHxsYewnc8eALsFaY9B8A-bykn6A7jAAHSwAvqsVTAfAG9GCDTZ6dTzDVgfjQij60kMB+uhEJOAgmoVYJ7CRCcwXQnYT-0qeMUJkBIngsC2XgCeE7w9AsIdJ0AAAC932oAaE0UBWUUmETVJi3h1AxbcA2T6JvSJifBAqGcTNUVCAdD0aZHsjm4ME3CcpPUnRWevAluQENosBDaygQ2oNkmD280weAfE7EsVPkn4TiJ-k6qZ7aSTNT2p3U9nzFP+QgAA')">function check_an_assertion(assertion, query_pat, query_frame) {
    const match_result = pattern_match(query_pat, assertion, 
                                       query_frame);
    return match_result === "failed"
        ? null
        : singleton_stream(match_result);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p21' class='permalink'></a><p>
      The basic pattern matcher returns either the
      
	<span style="color:green">symbol <kbd>failed</kbd></span>
	<span style="color:blue">string <kbd>"failed"</kbd>
	</span>
      
      or an extension of the given frame.  The basic idea of the matcher is to
      check the pattern against the data, element by element, accumulating
      bindings for the pattern variables.  If the pattern and the data
      object are the same, the match succeeds and we return the frame of
      bindings accumulated so far.  Otherwise, if the pattern is a variable
      we extend the current frame by binding the variable to the data, so
      long as this is consistent with the bindings already in the frame.  If
      the pattern and the data are both pairs, we (recursively) match the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern against the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the data to produce a frame; in this frame we then match the
      
	<span style="color:green"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the pattern against the
      
	<span style="color:green"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the data.  If none of these cases are applicable, the match fails and
      we return the
      
	<span style="color:green">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (pattern-match pat dat frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? pat dat) frame)
        ((var? pat) (extend-if-consistent pat dat frame))
        ((and (pair? pat) (pair? dat))
         (pattern-match (cdr pat)
                        (cdr dat)
                        (pattern-match (car pat)
                                       (car dat)
                                       frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9phgsWkR4gRAYIUGEpUEmbBcHyeEKhqax-ryUbZ7GWelnGEh0m-pppigpF8Sg3VWoV1KBGkcGbmMd5yh+Y+vkV2aXitCSBgbj41RztW06+stvbuG13XAfu6R-se5xDExxQIBgeAkFQNA8TQYlavplIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKET8JQAAH3z4yw4+Lr45zpOYkL4vUhYfB8A4IRs9zgui79MP0kyZvK9iav29SMcNW72nDtT+4xAkYQGG3MEE519k+nH5OEzDrC5-CAAyDfen6QZ15HBfGuYMRndH0AO714ecaCsPj8n6fQW7qy6D1mrJrd8xDF8DOG4YfAo5fp9K+A1gY7xGERCu-IIpnzDhaagYg6CfToLPSBVEb6pDvrUB+O455WTgQgpBOl9pn3wYgzm4dv513-Kg18QVto3noUmYekxiEfxBm4eBZDkHW1rMA5YdDd76BvBA3OUCQ6cTDsaIQM4KjKDYD9LKdA+GxHQePe+M8n6gHBFI7hsj5FlXoG-OmnEdEyJMPoxRFCf7UJbrQ0BjC7QOJsUnFh90z6mIYHohRsV0bKJiAI8BTCREuNYbDMemtPHmO8c4PxuMV4YPIBPLBGjcFaIiV4gxdAjFn3SVEzJViqGxICYMBhgjgksNCfTXJcjonZV8fvOxKcwElKCUw9eYjjEeTDvIjOvNo7w0IIEDh9AimgNvok9Rj9UmSQ+iwPpCNBnEGGVkypnEelzPIAwdcAtjaGFGU0m42Iv7WL-gAvW3AnHMNWR5dZfS67CF8PshMlzykdJgakES4dmBaEIU8wM4yklTxSRXKynyPhUGIIQ7JbC4kmwWUMwwMSGn8PsWUtpkCR4wskfQbiqIfjwqWYikZyKVFjISYC7BKDE7cGMkUbROLqB4oXAS5Z0KwkqBxf0wZWzAh7xoSippM8GCBBkJovE1zzBvCnvCtm9A9kkv8aAoVIrNGkjcTCqVXLSAME6FSyujSEzKsqJonQmL2UlzaLWRwX0FWwrHpgoFUyQVaOMO0JmyhiBsvpoTV1VqPXdzCGgpVj9wS+vdZ67gc8wjqvZWG61XyIWEPlTQ2IArnlortO0mN9MqikA+Amn5nMA1CWKcW7NnEhkznBYW5BybE6BoNYGYJ0bobvOjgoTQuI43+qjSWslaQMjOJbe-c1qR5H5urZCotvag1NI7oOoR6L61vKxbXLkXhYl2vPuSyZODnXgnYB4LwXrOKE0PcoDdtqgoaIPeu8EkbIHlumuupq+AHmbtLa80+q6dWEEICCbkqI-n2omckp11KtEaH-dQQDzgT0eVHlqwlSL+WkqaZcrNraYU-TEHW-VaatoZqyK8iVLgHI6tILh-QRAG0EbHp3LINHSP-QPPmnD1HCC0bQ+mkYTGn3mErRRqjTHZ0JhvHx6GnTzBh06voBZy9-k7rAzuBZVlihGJdqPD2cgvZQDgIgZA6BA54nER5GONYIWaKZpWPtc7UgRyjuZs8cd2rr2UqUakFdlLNAvkAtzzoFL12kgU3+9TKG-3-mkS+69uDWamCsHzqQPEZMUcPdzLRTyyveMwXReTUupLi957dp1UYcEiTUzJaWAsZZ+NUixQGCt0Bs0V2BHCCHTsgelpzOq2tcL1bFpr8WTLFalYy5w+KBkIpQ7nLrmXRtMqQ8sqzg2WtjtmfMybyHiWdeq4TUeW51ubO2XrXZw98J6WmLczZ9zHkxdpVeQrzpEvh0teGqripVaZe7Ta178bJ1JrOy0FbT3ivnsvTtj7NWFxg+W81kHYcwXfKncg97KxPs-ER4mjrEHHuKme1BgD+WIdo8EH+tgjynMdC0PoRDLKiVKJi0Dmz520JCsi+jPZOG8NUyZ5MIrZlgiaJsnZByzlqS+GQeQeGXkfKU4hRpkhZPHnIm4FzoSA5V5dQUGNysjV9vIkmDjRVTSCe4kGdQbXNBddvTYTThwqvKMtpzM+f4GukuKEIPgcoNuwl27oIbqCMR3xLIyMVOX1PEM3b91Te7sY1ZM2lU1g89Bfmx7Qoh47n1TsG5Zxd6YXPc956KLTpP8g+vR8fNxxTwrgY8K+kM0PQ3IefPRllpGYIG9sCTvd5og9QzLAoi+Q0AvNwq60bZeyTkXBn0oL4EgMvSf-t8DVHMkmz5s6jhzuTAzDADZs0boK5Gufb8403kooAGNyUNhuOTscI+sZnOxhZYQ98x4IhvuvezBPH+fzzuLZr6Zut5txtmVNsltGt98QE7MmBSBeFw8vpNUZVFk+Vc5X8z8ih0dnNqdEDJsstudX9jJTI78EDOUZVdVAc4tv12VutvsA1X8cY3d21O0Xs3VrVi11o4wmk+9NRyRB9XdhR9Bul1gq0kdfle0ODpggp4CacH8C1kc9UX9KDeCXcjdYhGxc0J0K469GRaVpCNCRCscUde1OAlCVhGCW8zp9CvlE468A9aUgorC5468mJCg+DVDhJQEaDft-U08NpNDDDKA8NFDBsXDV9XC18YUP8HBSFah9BAElkFN6MF14ilgSdL8EseAb8oRojetag4RuAoiX5ciWk7QUjXEyJQAIjY1uRGAvczEKtFFucGCBCLVWCe0MV3COVstPN61GRvs5CAd15Qjjd4kmDZ8WC-UbUK5Ui-RSh0i-Q1g-0E8jAai-5+Byt6t3YZC80DCa0FCLxfCihDBVi6iNjal3gBJbhGpaDDiLtBN-tOYgiKkAoVDA8q8x5ks8sGtidIcNFPiGjYpjlCl2laVns6tzjUdZjgRH5wT8kgSG5mFY9mgGMAoqjADMsYcID1phY31fBRYX0o8hihY5VPh5wPYgRjihA1j6jNi5VlpcSgI1CSTpQYjQhGRCjWTbxuQ9RGSRjAxpCbtC9nR49mZrNk9y9uw9RuAcjEUEFahd9ecADOJutMc9jYdEjQBCYLCbY09pDPk6dpsk4hS9J-8qD0SfhSExDnU4scZGx0ZGRpDLTyF6lIFX8mJSEQsFxfEnTuF4TnEed0Y3TyQgp0YzTlS5sSTpEzjKssScYPS-S699B-jaTGA-SzsVxpDkzzjEzGc4tjSlCR1zSvSfoyZGoUtvicdBs4zetPTEzYTLE0y7sVhpD6yfEzpczBt8yQjJM8AtNPYlA9NfZDMA5LBTNpMMFYCvp4YNTpcFZKBJywz6orifcCx9BM9JAyAFTBTedr5g0dx6UO0vdmZR571fD1zdluBtyCypMPiPcjyp59cNSAVd0wQZArJchDzvcTzmMM8FEs9NyacNSjVRU3zQBxV+Np82FX130ZAgLQQa8QLuA1UsN2US9KxxTflYLdzBV4KVVQLTVFzrhlztTeE3h284L9ySKI0ujyKILisqLvpKZsLRiHVKVGLaxQVa90Z4MBMuKGI28i10YNTLkhKlSzNHAvhEU2po5S8U8i0bSoCxMmFryz4rDJYFLgzUURgVKYV3VJLGoWBlcBZ6CIhChNKmksJIYgzzhGxKBF5IVmCxSy9CFGQUSxzRJlzJY-SFSOcNS15wspSKZaxh0bzMY9ZPS9kaZIgzLOCeNBgZYUKc0BZP8acBZngYr3i-xUq9YxK4ZGZRTZLy9vLeotz1hGoNLYrAwOA2o7KjAArA0FZqqxBarTwZjIcCZPKBY6rrEfLOgX9QAWAyqZK4cQcmrarvLwgAAeYEJmZqi2Vq9AmYFoUgcyCEAAFXrk1KEDxJw14CTSbDJ2oFqGaHBFAAAGpKii9PMy4xAhRbt6rwgLr70tFzrLqi9S45o7rGKJge9lrVrwQNr8B-piBHJBBKM9rHiDroNjqXqLrbjYgPq2ovqJrXrnrTq4arrEbbqZBHkFrcq0QgssRaywtrETLyQz5rNp565sQKrpgz5KSGd6qSqJCPDoCGNuqqE2qCJVYmsqaiB9B4bCg9L8ApL5onK5KUd-94bmg-SD5toJrBb9JmlvrFrVwZaajF1M0HqbQ7Q8bhjQAWJBQBDrMD47LyqO1xjxa+sWaigR8OaG4rJbI65ygL9X5eTWJXjaV1CBZGQ1KurTC-QgoGbsrPoIqQ6+RjSCJIYUqaZ3bwj47MrKb0QabuzoFsMayEySaqFeoyakRdLebk65Mqy3i8wYVg7iqKYuNA7+12aFbuamc+bsRBbhbRbhqML5LBtVbhtZaFZ5aHrbjSh4JtpWreou6Mjg6iJtasq9aVwdQVwBwTa5z7KLbcQrbCEbahaVrBc-THa6BnaRBXbPoF8fSiF9a3CS6KRmTIZfbZD1LuzYwg6Nbo7vLw638rq8xkqt9Y6z7eDzKEwk7qai6bNnZey2FtN5AByfYDN-ZA5sBQrNcLcdc9dbcDdRNq9WKNEx9wRzdLdqBdceKXAcGkGWYO0OBCFUtUHG0XBLkDdaZCotdiG+ygQNF0wb05hnrYg5hVw36igb0OQOGYgORuGhSb0MIBHMiDxhHWGQ0Z5xGZ4pHLsQ151MhnrlG2BnQeHCgb1uJDB-1yBl97YeJ5E8TFRNHYgb0R8BGR9YwzGYgb0zZVAdUWBDB70HGnGPYVhbHoT9yzrxHYh9B4ZuBfBwgAQAA+UAaXC6kxrxm9TyPxmIAJoJkJ8J6XHyaJkRkNfI6YRJ0AYJwEFJ0ASEXJmIGJkNYAeJgwQJ3J5JiJ0AMAdJ6R-cgAUgqZybybCdqaaeKdAFKf3PEj8baZqdnKlGCYyf3IAEJJQBmqn2mCnJmgRRnGmwRwRJrWmZmhnQBpqYhFnFH9zJqAR4nBn8nan9ntnenlnQm1mknjnpdwmzmxmLmDnuAigjmOnbmgRqmHmIRxmKnanCgOmYhxnYhpz0wCpmSiGrdkGwkIrAQVxDkhhd5uAIW8GoWCwW16HEHIWVzYp8AWAAArEwQI2FlYeF5EY50RhhyF56mhhwFhSO2IZF63LTNMSKcFyllFvAnLIl5hx+G9bg567grx9+rRkNSAOgb0RlAxmIMViV2fIV4VuxkNNx2ASAAR5VyAeVhV+xqgRxgAUXEbcd1c1eFZvQADlyBTWKnzXTWx6rqwXujGXGoPFvLiXphSXjntpYKkX2XrdTF0W2XMWOWPEOdXWGh3WOmaGLweAfWnXIza0WXFcl8eVA2mWUH7cwaxAZ4NTTdxYGA1RSBycTo8XyBqxjiupNABaCJHWSH-15CKHaX6WGgcMs2jgig0TOJpwia16i0NSRTE90LnKi008oNljq3EMK7Fbo2U3Y3ssoyJrG3CgR3kYx2oLcWCXTAFTJ3q3g2GIX808zaxjV7Cr17nYOABAD3M3cX8Vj3OY+j4xCA27B2UcWXQGwlwHdMoG-ZMAMB3KaKKBTAGA3UPhyobhSAN1NYny049rM5NwRKSySJFrZgiNNasgIPDcnqGB0brrPqcaEXAldb4O-gWEDZlabw0O6KPybgXtjstA+Ubqq6+SQZlBlA9qMhLMjBVdmOamPYLr9ByBmOD5wRTrSghPQATqrJXr+PlBjW-QhOH16PmMHBtljBs4bqHdcN1O826BlP+poI-7AwsbUaIRXrKPNljAaPYj4WcMtOdP1OJhUbrBwQ6KlOfpjAmAyAFA+PKNIOB0u4cNEOtEGNdJhtulH5-PQAt5lJBCoOu4bx-PwhC5SOmF4vQB5mtF1MAu8PBhwuFZwR1NjJSgyL-2ZwgPYpQON1-PCCDBYFDrYMRlwvIvVxfMvpacwD6cvO1o+coTwRjOLqXO80j4POsuOvOdvP0O3rZPYbxcTlIt4i-cCxFt2uUuMbYxTqsP+u3PjZPPLlj94v0P7t4Rgu8dpQdPcpQRnqcNpTtPXPBvSBBJFrnssJKuScNuvpsGNxnqNFtp-Odash4urudP3O7uHvissaOuAvwQAByLDnDVG6HkjrGr6-z5z67gbwD2sUgR5N1THnz9mz6DOLObabHnZhV7x5ZoQYQNG4INGhyHSPBNwYsNG2AjgeELr+SE7m74b4nnnG8bngHm7oHwSEj17rnjH0ZrKvnjntH7nwilwYt0t5QctmcVvQZDwQlE-HzgnGDVLeTFWMniELXurrJamKCg0kZeTBd2IeF+X9YRX6gTQOvHlNXtwOzjXtnlSYrOb3XknG9dTSNAK05KLIBeTEHhZWX0AYnihSXeGJ3j1NwDX5o6r1IQ3nXgZOwhodQqCnuibo4gP2by+VrxZJbEP0I+h534wKeLneKDQfQSPr+aP2PwlV3kvw0BwrPgKwTsRvXrCbaVXuPivoTfqy5PvwlLBNXd3poV2aFnu9SWR7v+Qfvsfx3Ej8djv3Lm3st+35XhiI7jAiR0fdv0mtPa3kt23pXx3kfl3jNvZEPkHyyw-7O6N8vpf3Dd2twxgr3tPiQ69ENP36bqhQPp-0ICV5z6rfTwgMlRJp12Us+EgAn0UrV4sI3vdnttCQEe87aqmcfCLinwMwi+9OdkHPk9TMYyKjxOAfpzHiIC0+evG8KgMn7oCBku9SfGLjN4uBiBtaBXOnS0ixRKA+AJqI1AGAVBBg8mZik2gIEJ9cuFoRnnRX4E9ZOB5UKPEIPgHUNBErAwIm73D6aQuW3UanBgKsrSh96U8TqAwHUAiAOApAdaO4iIAU40+nRRgrJhD6dFXgzJeWANWJgvQJY-tegWFSdj2FQE8sMCMGHHC+FSgDgfQSViMEU9TBJ+R2PrAIjNBcghAR5GLF8TPRK8rhFQowQoHACN6mVLCPEMeQoCv+3APIShzd5x1nckYIfA-XAGEAf6CdRjhygSEa9w+pcfoAoF-QkBmYFQYxrEUMBsguh+jLBIYFJDCCkiXcXoQF36G+BBhxIJ4CRx76CJxhlvBJtx3nKtD2hCeSJN0Lo5rCiI4qJYaT0KCTDphYiGBMgjICNxrcRwveH0MjADCp4Qw3HgunGF68rh4cGYXfxvzy09haeJ4Mc2qDGwLhZZW4VMMGCvChhTwfYc6F+EdMWhH0BCEYHFQrpY0qwuETIHkQ5wa+Y+BjlujRFUAkYXyQIB9FU5rDSW6bCYHRVxGUB8RsIzzjSMeFjCURQvNIoOhI7-Dzh-QS4cCNiK0p5ajImTtCPCaUjqRjI4kXCIgSEj7u+NakHNDPbZQaRATPyjfiqYCiL8g6KUWoBMBeAdUjACQdpBiS6jUQ3ASPrxCNFi83oaVW0syTNhqAa8NILvIyCNhkBGA1oi2MaL5hMhiwzgGlAcNXCR8EqlVDyubFtGh5BOMgJMLUF37n55iHvUWrKNTIiiXRwYrvFKN4BucWoCMNclQB85g9e+WYqUWlAJGtCcQbIboMMKgiNhyS4gSQMWLLC+BkKAY6kAfG4JK0GMYnakOoJlAx8iQ-8TMfhkcHdFugjIXMUnFlj9pZM3QcICJ3Uxtjugp7SQKADWoAAJXVgwAACC4AcALqwABKa1SAAAHlTWyAIEG5VCoyBJANog0VsUdFJBohGpVMY1HTHwxexxsf3HrwLGPix+DPPUXSWvGviMiBYzoAuEvFyo6KAEzIDIM9F0kNSS4lceuM3E7j9xh40CZIHFgVB4Yn42QT+LxFOiNSBY+UY+IYDdjRUv4nnOCGAl0BPINI9gahRagQTvxFxX8beJGHXU1hlI+FrHm1h7V8mhxDURem1F0SgMnEyyJkSpFOjbxSws8UGPIl7JGJXgh8HOJNAZBY2DgY2IyAAAMJwUKjUEcjColJ7QwnLFGoCDAroek3ICpO0BAhmeyks4aQFep4hRxTSKybKnMmkA6KhMbSSVlLJSxRoTklPoZMghkD9+EIP-lhF8m1dLERk37t5I4CuJ22HkQIPEU8nihUg1QbIEpOxLMkwp0GI3izDNAX4QauksrH5PKhGTko5NGFKsMaiOROgG6BQSuFUR2DrBtKUoO5IKmawohcQPScVOyhGTbWj3G-DQJJxYRKpDAaqWwA3QFCshkI2ICNLGkbpqBX-PqTgNRINjZpNUtKTFPD4VAOhoQP+EogwGawmJUEGfIECqnrTBYZhFoqkDsHp924xtdoJ0GikYwHwDgyQqAnnK1h9aaQiodGF8LCxRYrg3NupVvFfS3pTSFgE2PAiBCi8pQMMVGEFrNA1p4022NJWSGpDtQWAaCKAKqHQFEB4QIIeyFOmjT1pKAw3IlyRnzTlKE-WMM0DhnGBahYRTKhTKaFxS8q6sFmFHE9wcI-gT0nOnJIyndFnBYsV6JLEOn8ymIA4EWGl0FadEgoDgO6qbFCgWwkhZ0FId6J9GngQZOfd-ldJKyMUA879PAJCGNkrhhYrggGRdDcHmjL4ms8WfVN8HmzpZUMjUM1OlAKyXRvMydoUBVk2w1ZmM6CKhBpigkGY6sXmRTBBnKEfp58AQttITypARktssWbHWipGyTZKwIKOCDDF7AIxLxKORfSkL5UNYhHcmLbP9Gr4oB9MeWTjUVnmw1ye4X8FFUUFyTQx4Yynnr0zmtzIxsQUyA9KyCEB65AXSGKyOuk-Q65+MknH2w5lbIRaiKHmf3KRYNy0qw8vWYQGGF69J5rMLmbPMeCrykWbIKKnUzADGzIQy8rCP3M3jbxV4N+VeQFyrm4gPZN4c+dNKKCPzSQz8woHfJrn8Re+3wn0dMF75vyvZfoWOiRw7nZzKe6gj5EpOzgBEfOGDJ1AEVBRKSCGXRORKmJiRWThKyHTBcxiclR5MFzEtRiUNojpTqZsQBSCGk6DVTfAE5WsPCBI4vImEOCqUTm02RWSNpGMN0aJJvER8zRjc4kt0TkT9BGAVkxkAlPCqawUpSiTBUxEbCfzO8xUe7J-I9lcKXx78jPvQDQXtchFVJTBeoqKB+i0qDkhMPIpDz2jcuWcjgG3OZGZASO8BdHmQEeR4LcSSZRuCIvSmQjYxkgOUSKNMV2iXECkhccuIYBbjrIAAGV1ZHjVRmQTSapXPGOMrJMk7CTwv4UNj7xqEjMSRLfEoSPxU8RJc+JwkkcwJC4fJcxmKWFSlkvwpuTBJCXhLIlyEmcLkoqVJLuF-uZiTSPWHIxY8eEkUQRKIkFKkgMnVcOCCsmUTGR8IJYT0olHBSmeSksZRKNZ7h8c2+S2SaksyodK2JNfWPKIo6aHFWFFSjhUi2SV0BxJseSSTaJWXHLbxUoxFKQ0ajE9a+Zo1ZclTpHtLGRb0dEexJWDX1dlsYDpUuynhXDK26eWidJMeWOKtkVy-mZCJVHLKlJeyVRWJP5lCtn6fI8PvYoeXE9ohhYj6ALKpCtAyWQINKEIlEGS9wQGKsXivkyoEqHAkMgIS7JJy3La2DizHuCsx7Yq6RJHGlUohUEIqxePOVFRKKlFhxHxS0XiNmPnJzRhu4qhLvnGKyyZhxSI+mB8GCB8CvxhkxgI+L47qrnA60RgqKp5nkTbpGigcX4EZB9LywPYo1frUbAscVq5CciTirEiC0plRY7oPT0wkUSqJZQtcPwBxAerIJXq8ZQuye46r6A3AFUXaoSmP4w18YoVW-09rhFCyHbbgYEAqW5stVBC8seC2OWMg3gWijBelIlm6yDVO845casvqmq8SQIC1biB7EkSbVzJKNeQick0jQ2ekV1USPdVaJRl3q-WkVH9U9q5lVEkNTfiskRqamza7hK2r5EJq85v9CuZxGkFOTggAk-UbGp87sKjVOfc-MuugVGqSO0g8idqs9XMYj1sak9YGvWgqq01jq16FqutUCKqQDcSvrGsrE1K4J243cQePABMQP1G4r9YhKiWhrPVE645i+rXVyp3aGcjEE50SpLrhAeS6BVmvJA3rGoTk+9Z2I4Xu0oobAJDRwHfXBLQlES39eSBqXEbIlDosdUpLA0dMINiS6DaAnBCwbIFh7LLHi1ty-5CFMXLIL-gpGyE3gHGlECfmxGlo+N8G+KUshnCCbHoN-HfBqQWmn46KYcByuMR0ZCbVyXGpuUQvE3JqEMshdTY9BE1YLtK8muioJkM0og5Np+ZiYppCpnwagYgCFFPAeVabApk0kKqFUE34BUpMmqzRyr5Hca2Nfm1ciFsCKDyXljIkjt5tSmCYwteyeLUMttrEEWVyuATfQA01ghEtKEUnoKtaEdIB1ZEkQGjQpWOLnqMW-3LEphTqafNSiSzRuwC1Cqgtqm3EPVsEkpBMtXNKMSyIyJsiC2HIoEVsOBVx4UtDyqwm1v0Btb+qeW3FTlpeY1MatsWqTZ4g62ybJtq2qzTHgqJR1It8a+6IVup5WRStmPZ6otsq2-tHNlmAvHJKdUakNlnyrZVeB+WhNMZioHTaNrF5xFiATm2jqlpG5Ja9IXi7gXGqLGx1bA228-EDp8XTKg5ActsQxjm1Ihdt+W-bX6vBC08StH2srdwEu1aAE2uldCSx20HWCm50hDARey+CDVmUN7ZBFKI3528He3pR3I1vy2Tgg67yzZU3WAU+0wmxkBGCYH4BfQNB0iLQV9EVrfdHcAq4yorQ6jUxkmXsu2pWHVk+jhcjAwhlQDGi2TvIsNf2dtvBD07z+3FYjlCSh0g6iRQchYtErYCNsZtgkVHcswN1b868mOizFoFS3PVHdjO8aJpMbA3AY+OjPRtWtAAABOE4GfAD3GMnVRgcwdVqMb6MnVLMY2NnBx020P+TwlxJ0R1kGAXACsNSdkJiAR79G+gSHpDyshoBy9VKp8POtjCF78hCwgJbSlr0J7GUWcDpRAh5wuAfI4FWer-UOFx6u07ylvZuAVJ+6VtujYxiwrYDULaFQuhBKqpZ24rmJtu+3Qbyn36MZ9LurAvcspWq419NCmAueCq3spL+qQB5dUCKgngyAdcRFHK0tHdFWgjIOvhLmYAx8T9mYgboIW078BUaRwRZeSAHC65SA1+yVql3UiIpqqRCTorXohDeQfIJ+3hY4vPhf6BAMuOJgiB3WxBoDr3P7a0GOAG1XiLEAcI6u4G8CdUiG2IrgZtp7qysq649ees9XQUse6MmIAAav0i0QDaXUNNnOQTwhXpBe-vTAdgM+RyJggcg6ICEPeR-I+BvOWxETXTBoD4ICQz5GJ5+FQ8HsJQ2gf1pN75RtKDpV8vTw86XtRebAw8qAXC7kEou2vtEIjVK7-oNTGzADqhxU5t9jiqw9KLahxio9DGZ4gut-ZWEhAhgRyFnHP38A8VAgB-UCCf0N839p3EIwICeq-7K83tPWJWOO1Y9I0Mo7xWbs87eHGNbNBdJDC63kLAuQNF0XNC4hUByAskaCL3lR5ucz9s7Cw5ZlaAXJBEhRnnLLrsPHMHD4fX8V-ItgmiKj88NZfUJ+XqRLFEYjAzEBE4THrFw2S1I9MGPaxx57Pa+jEGXmyZxVUxpWhvKjjswPgRaJY+6It0hdUgZ8rMRF0vlnGb8yx7vscv6MlDxV+imaUwmWPPG1w9xj2YqveNoRtobxoBU9rSog8wFViuDRFBP1-bIeBo-QD6IAA6WALdUsWZgkGZAwQHI4OiCZJNDcaEUvWkjYPGAaoEJh5VCfVUwmDh8JxEztKYA8DUTd3TMQeH0C8ATwPOHoFhCZOgAAAXlG1ADwmigAK6k29DROdGegXJ7E3pFxPghAD1+wgScFQgHRZCARoI5uChNImp4KJoUzMwKKUK0aLANGsoDRqU9JgkPNMHgCJOfaVTVJ9U3Sc1P68yJOpvUwadZ4Sn-IQAA')">function pattern_match(pat, dat, frame) {
    return frame === "failed" 
        ? "failed"
        : equal(pat, dat) 
        ? frame   
        : is_var(pat) 
        ? extend_if_consistent(pat, dat, frame)
        : is_pair(pat) && is_pair(dat)
        ? pattern_match(tail(pat),
                        tail(dat),
                        pattern_match(head(pat),
                                      head(dat),
                                      frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p22' class='permalink'></a><p>
      Here is the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that extends a frame by adding a new binding, if this is consistent with
      the bindings already in the frame:
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-consistent var dat frame)
  (let ((binding (binding-in-frame var frame)))
    (if binding
        (pattern-match (binding-value binding) dat frame)
        (extend var dat frame))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPEudqgsWlwqgvo+BRKG4Yg6ErISgpSBhjDYGQGGIAWaBJ4XKCmFZSmpSgReU5oZboD6hZ19XlIU-AMSxWXfAUFh8AXdGjBtu2F3wBXDc+owTaploJY1kzQBl40hBnCplDYH6sroL2Rf9mZ+Z+YO6FDkwI7K+gY9F33Jb1wPUnBjgGDDtOo8zuOilKJWfgLxri8j1FM7Fv3c5li1qDEOhPuTsuzYThc247ruwTVpuc+dfXUjebjUR+BHCECNxnB751K9PBgp+oGeFznhfDCXkfs-L1Y84YCPbeEchFfh+fiEXjO1aP2JSkJw7o7PlgL4YdcsckMhDDL-Celpjv0-nbYQvgAHGTQuLMeioJ6yzaLWRwxtY69yrguYw7RxbKCFog7BjUPiCyHv-B+o9H4xHgewDwXhl6KlXj8KhygaEHxgeQ0A8CRKy2YFoIetDNZ9wYJwwhPDxbDxNmQluqQNCEBBNyBuD9e7SLYBA9BHQtD6FflfG+d9o6kMPoAtC24Zxu1On1f+P0xAkO9mQthplSDmUbqAGydkHLOWpL4ZO5B4ZeR8qowWNUIqv0EIQGREDkTcAsWEKiA4Zbz2oAoTe1BKyNVfhohwkwcYxCCko3EcSEk0GSW9BmGdwmCFIJYoC5Fnz-BiZPRQhB8DlCKbDaOyIMlQRiO+W+GRip+PUZosBYT0kGKAbEBGSNhCKwlgeegvCoF6U0d-I2WhSD-zaSM0ZRRIkbM2bETRMCZmd1EWkugkxKlxjxskVInDHYLx6Wwp+uMVSmNrOvegSMwR3LYKbVczQxwajDBRF8hozLBBOVZWy9knIuCCZQXwJAfHBNCTVHM0MYZ8yMQwEx6N-5z0MGQzJQUHIMEifoPF5DSjpEyHJZoWE+lfSqKsmcFiyXXzCGQnZipMXYoYv-BezLym4rZT7VhtMgnoLebNLeWjd773EYfHG0tUiUFILWMlysvpTxlV-QIgw9GiuMvQs8gt9Bap3pKqxscJF+lMhq019BJnms6GIq1h97ros4hKzBSCcGZ3xQqqCtTFYKE0Lib1+C-XtJXEFf5oZyRApqcKfQMsI4fC4UQ45asJiZOmEFelGiDxpuEcQXhWaqasICtUnNnT6BUkZUWk2LyJSgCgfm+tM5i2lpNuyitK4g03LOu2rhIsm1RtjEFIdasm1MUKAm6t-pgYCPDcg-Q8zYj8vTSI5OlrKA9r9jO1Fs60VBO5QrBwA8NT6A9rfIGlyT5UqyNepY-CH0rlpRuCEkJz2Lw7rUOE3BT0MG-XvX9gwbxPrOUcMiLbAnFJcIYbkjBGkp3DvXRmZccZBuXb6h+61Xi1oEFmxk2GCHcJLaInd5yF13pliW0NCCsErrLVAylGQ2BQLWCE8WerENYv4EXVOaHa0FqZZu8j3cy1UzXdMBDQg+MoZLqif+hMSOrt2VeDdnaKORsg-GqtHT12LqDgRkOAnUPp10d7FjwJQT2veMwZOZnFPlUMM7e2ZcHnsJPjXJzQnLOoKvApWzPm64WetrbdzuG13NAfQFY9cGBGMOYfK1hONGyDMZElpq+BwFlyYo2bsepiO8eQ75iz-9BlUcbMB9uGomZAkAzV0Dt5uR6io3mu1gzOUrHGdxqZlZDm8MK-6prdWbHuvFWvIRZGu0iwJQNRdhMB19TU1efNnCd63z3vfax0nFSiomwliVF7ZtZ1S1BRs6NGT5pO6IptAC3XkgveFl293buOdcxF-81iKa1jIUxIK6NDstIEUnBTfnHHnaez+xgn3XuOzB2VqOL3Iu7Z63axHoXkeO31X7TlvbJpHbXiFwTFnId+xxs9uH9t7sk-M8j6n32rUrnzXT5z2Ucc-dYfj-daK8CvyZnIFmUA4CIGQOgbmxJeacRlnLBWfS5oYYWzR1I6RbZkAw6AAAPlr4ysuVWK4fjEHXevUh23tv0fz6tte679AbNjmvje2+dDLWNervbA75jLZgYgJCTKMY4ygfR7hrUVUZ1IWEjcADIo+9H6O72OI52TB5957mXqujZK-JEqkPfvT62YPuCa9ASPUeUZ1i92mejfK4TNtIi3sxUJdbjD07Utw+59qPnnchf3s6X2kE3vKOmfW9fEFOvSYhjx-0PX2OunCcg8H5zxPo-F3j7tDP9W-JYMg+M-Z0zWP5Heyojnn3eeA+F8x6TqOJegmX-p7FRnWfDN3rX1kV-Hmt+l-MHf9njAl8j+WDHynxvA3zny-yuVOlRkLgPzlWX0APb1P073P3lXBDZz8xvwSzQLC0f2r3gJf2AIn3f1w0-yCSwOxzOlwOf1rwIPXwn2ILTw8hTQ+g-kvk2x0SfyyQQPIF9yQILxQJAVYOvllXoAwJBwEK-kjk+hWUo2P0Ww0Cdi+wrzSCNm4CIIb37wS3EMGQ4KeS2hoKyFAM-3AJPmmwzQkyPxXxVw739z4LmycVMK3T73uiCQ2yEK21gIAKoL0JGEMIYPMF32nmcFnjcPYMoM4KsMQJsO73lT23BA3mlTYO2zoFEL5jNSEJ1VqB0KCkxUCBkEcTxA0JBzSPngtSyMXRyMqEcVJGcIS2KNIBJW+TKLvQqLyIPh0Ebx31SFUzCN0IgMiK7xdSznBBIxSM4hUzwSY27Tb2aNs2GImJwXBG4DLRqJBxIzE2ISV1iDwOoJ8LoIbxWL5knRm0zSmNkPwJGGWOhhcNvg7WOO3UjTOITA3zCAOPT2DXo26NOMsITHt0yEjVeMYNSFTVuLMMGKiW+MDF+IML2JFgmD8IgKSx0N6JPn6OQLsPBCS1GPqluEakRJ6OyNmMxKWI9yuISyy20J6ORLUNn3hJPiUWoDkQ8OmJ+OVW4LP1sKGPpMZJEMKMOLgxlXcJ2zgK8JcGpM3wBPMFJXxNX30OnxhM315M4mJVJSIHBO2MhNVwd1VMVI8iHRZW1MeO8MGG1IlJcA3RVMIDVJFL-H0BNL51kDg0F3kCUBF3ZnFy5ksGl0BKYFVS+nhlvQTG8XEnZF9NpJfjg30CWSkL-m4C6wDWz3KNmNyBDUaREGaQLEWL2yjN-lWVjJyx6AJ2MOMxTKaVSRkADI1OsIGI0SsmTIaVLLgyxPMEWUkJzLWQrLRFBEEUqJkG4AKNNPphaWy1y3LLDxmLTVyJrNAGqNJJB32WmXkCOW7lHJr0DBaKnPaLDJxO7MuXuzeA+Q7Jsx3HBGW1rEWJUHeVER1P8OuWBlp3GjHJZKrID3RislPOICbLNLvPRklQ+W+kpkfKNLlLtHRiMPFUcC+D3jan60G2OShwuSeIn0LKCSHUhjJQp1XNFKn2QqOwgvwGMCajCR-nm0KATLvSwkhn+2hkbCD0ajozhRgsXKHkZFiy9OuG3LQsZ39RxUPMjzcz1F6lrBeNnMOJ-iHzWR-meFIoQqAppgHMhibQkqNikq2JkpcBvDkvixB16zTIOSYszX4u4s6H9RYHWDoowrIoTA4DaiDwUJdiiWDOsrEFstPGfRXh4A-Rfh-jsvtiMra1jLMv6weWaCctsq4vCAAB5gRxZnLVB-y3K-RK57EwVwQAAVC2UAG4OgXwMpMQXgYhJsEJEEWoZocEUAAAahbV2Q+C6jaiFAgXCoqqcSsiar2yKBqrmnqvismHmTsQcTSoypkGIEclyvyoo0KpkWoBKqcVauqoNzqpkAasMvCEqvPLKsqrasKA6oWogVcrAs0ItmkiH3u0Z3m3JHAsrFPgtmxHgumCCVk10UMt6itL9BzwfR8ra02v0mziuqIFW12WwUgpOj0tmTgr9k8wDkZyT22nCq+piFmCnz2rhq8weuAv-GWptBAuMsfFYj7STRgST1oveIYpBqXM8L9FBU3FOqcVsjtnKFAGLyo1nX0ygUbEhkZFQu8t7XHUXVRoUq4o0Uku6zQgUpxUFuUqZsPSlvCITBgV+put523z5ip34pOv4t6jOqRFwsuvRAVslnnXusQw+r8peudDeod1hoIkrglnlv+r0kBvwuBoXNBu7gNQImaChuDJhuWs2tKHgm2lct6ghqaGpCNqIgxptL2slqqTxoMAJuDKJvotxFJqHjw2mEpo+ohToDppEAZqNkRV7xRW1BZtjDZp-g5sLRnDQu5tet5qNv5sMvFsBmFqvFFt5SbofAPXInjUssDDlt1vQslndX50dOZhdLZjF05m5mwCLIjy6nySSRSQjLaUNL6LZN4J3FKXBDyUSWSU-J4Hnt3saniRkXE24SXhXohKwt2LtDaVpkKkPoKSXpaXqyPLBHTAD3BDmHPNiDmFXCk2AVmI5B-piA5H-p2U-owhAY8oPHAY-tmKMWgaMTgcAePKhPPKhOdAAYaE-u4kMBkXIF8HPLwYIZysVGwaKE-sppAcptjAocKE-puCDxJRYEMEWKYdUBYaZhWHodiE-vKugdiH0Hhm4F8HCABAAD5QBvFKqyHeGYhP7PJBGYhhHRHxGpHvEfI5GIHZj-1phVHQAxHAQNHQBIRDGYh5G36IRgBlGDARHDH1HpHQAwBtH4HjyABSWxgxoxyRpx9x8x0ASxz+8SQR7xxxoMqUMRnR48gAQklFCfsZ8ZMbiaBCibcbBHBAiq8cSfCdACipiDSdQYyYioBGUbCeMacZKYKaCdmIkeybUYqe8SkeqeiYyYkdKe4CKHKd8aaaBAcdaYhBidsaccKF8ZiBidiH9PTAKgIwPviSPvTIf0MsBBXBuGxDmG4B3qfsWcZhmfszmYXsKU0XwBYAACsTBd0VmVg1mTkKnIHH7F7zz3877LGigtnF6dna00xIpZn3nCkwdX6A9P63dzy3dXn1M+HZjIA6BvRN4iHOnoXYW4VwWIWrHwQOGGBYBIAQGMWsWUWIXGGqBOGABRaBjF4l-F9TT+gAOXIGpdsdpepeDqAT2apD+cakRy4quemBueFF8e2nLM2Yef+ZM23VZYEHZYtQcxnBxW5YaF5YqeeYvAOYWYBe+YHyKtyWFefoLHBVyqMUPJyQYFejVFIGUROlOfIGrAQy6k0DttjElZPo4CHlLnWT2wsQNaOCKC0r5mnCthTuOUPJ0sdWdrJvtedGkW40jO1c+dhyeqqt2Ulc5Yxuk0jeRkleObOYuf9WRpVe2cRx4pbsKETpDRJtDdTvdQ4AECJrEC+FMu3nLdEWI3jEIEYpdrBG+ZHpfrHtZlFw5kwAwDYpcH3IoFMAYCwQ+HKhuFIBoRrkPPt3V03HfznZ6v4XfxvBXZWqcQYHWu1lqrEC6uXZ+jJgfEfmaCPagM7pEs4mTJuAQSWS0Hd33dNuRPIGUGUHyoyBNSMAiXfccaZkqv0DfeUCT3BDKtKDA68zWqauA8pedDA+JOfevNVDoG-mMC9n3YiUFSw-mgcDQ-6mgl7vg3mrECavBAhCatvcvmMAfcyJuYsSA1Q5+mMBw+zVWusHBAHLw+Y8ahWQUCA-KXnc1L+IsUfgg4fV0gDhTVs1E9ABj2UmTWE+hLtFE-CB1zjxvqyFU9ABSacWKHhBXFKEnxGFk+DPBH08NQvOTlHZnAndimnZoVE+MmaEU5JSKoZNLlk-k9XANkz32RCKSIE7WlXfcvI93e49WV47IH4+2lJVU63fmTKt3fLxMWvROQLAFPYO042tXCS6aoi4Ir4+M7Awnzi8E7OQqsS44+c+lHw9ylBHPIsW4AK6i9IEEjPZPiwic-4Ra4hCgYA1s1i8E8xq0-K+a6Y8i6YGi46-133aC7E6cQAHJd2LEyPlu3093OrFr5uuOJuCKsFSAIEDujHML70HdPpF3iv9Bju4PVxP6hBhA1rgg1qHIdIrILRiw1rVUOB4QQv45evtobuRvrvaxDufYWupu2uOuAep8gebS4eIebvaTLXrXlBbWZWGIdUPAttWVCAhO3PJruTo454Fv7v3Oifzz-PtFAuSei3YgbmUf1g0fqBNAm0secE3BWPcezkNvfPPYSfDO0X9OljVbUvM8SeOu55aTjvrZPF4Z2eceSfMMk1W5yfS4Jec02b+TPaE2GgUvK9PYqfhDifr4caa19n55se3BO9Il4p5CZfXM5eFfOfcqhU8fJaJ1tf+LQOoHBesJtpLeOfjBJlIkfZ39A+tsbfBUeeVhmhNFPb1JEG-f5Ag+o-LENv4-vezPGebWWeMe+pJP44KKvevs6eYgGerWmf0e2eI+XfSUJeOvi+hzqba-g+SVo-K1Ix9Qg00uNeDMCTjzhf3FFCxf+fTeqM51+-F0pee6lbOI4USBufAKIC6VTfBftoBfY+WhkrNw54s6oU3FEiPIF+PzkOrOPk3f8fV+8fBebxN+A4M69+aaXFoUWgAuPJ9yKMS9jCPvtJypKB8ATURqAMAqCDAlep3E-kvzM6-8dIA5EASSmt5-9so2hcAURw06DBP+9xCXrSRlidQl+p3b3OvSiJggn+5nb-kEk0jStuo6iJ-pRWlA51JknUBgOoBEAcBSA60W-EQBUSm950QaPAX31ZqzNnomWYmC9EYDV1r41MSSl3WowJhhBwZN3HtlKAOAGBkBZgQ9zYG48pBylPbM0FyCEAIEz0e7M9DN45gq0Qaa-mOlrrkUP0+giBBv3H7cA7BaNbnqYKqRd9owUCPNNfBkFsQ0BzgknrSRqr9AFABPPrBUAji+BMihgNkBEMIad5DApIZfmdz+IxCFucQqIZMkSFPANu-vKfGkLL4GB-2KqEIWELTIZDohJQj6AhCMAFFChqLQoBUKyGkgz+1QFZBwCta1xIw8QvVLEO6GZDZYSQggUp1qHpD+hCQ4kDkK355CLidQ6TE8AqZtCyAHQwpE0P0BNDBhTweoYqAWG+Ngh1QoiAUX2qrEqhoQmQBHB1jyFSkL7CdBcKRhcJAgH0DDqUN5YOAliJBBLOcKoD3D9h-HX4fj3er-DBer6LfksLNb9BVh4wwYFAhhqnDKWuwqRl8MoA-DThzwg4XsUeHtcOifMXiCskYBMN+IvEbgBfCzg0xkh7NMzjICTC1AyqgvcEFSL2A0iNuiCToJGSoDEiqA4QQXuzRiC8984P0NkdbkF7BtjWCsSkKCGOREiuI7IzGDoNBER4P0vEcIDHk64foSRC3XEWQHxGhQ4qN4JUdsOmA3h1RBohoJqKSAMACRcVAPpyJNGjJtoxo3NgRBpgdd6R1Ix7kELmhVtsovw4RrxQ-T2MERDNNjNiJvZ9AmEJKRgDAKXhRj6A3AGXlKJl5kiLsszS0d2RpDfJGQZo7UXxDirxiZRMYugNwEdEEREx0gtAamK+TpR1IDIjgI92BFsYNuUFWtpIG9GoiKx3Sb5CGI8i8ACKLUBGIKPx7bV2o1o8Uj604hpQHhIQnEGyG6BDDyQjYV+mlGnFlhfAM5NStSCTxu5vqD6FGjgJlDy8iQbsAcWllmbdBGQI49rO3jwHdBwgEHfTl5m6CVtJAoAVKgAAliWDAAAILgBwAxLAAEqpVIAAAeWpbIAgQrFYwkNRzEICtISmQUXiO0HYxTuPY4+vuPglaiFuE4vsfDBt6IC4JWYjrhOM6D9w8JjMAckRMyAwTiw6GQ8m+I-HfjfxAE4CaBPImSBjW+43CbBPQwETkhE4n0dhIYCHi8iBE97qRPoCeRfh5Az4S1ColID3g6EpIIhP6hoDfhb0C4TczXQkj8qxjNqmoBMBeAIxskhuFpMsgeVkRWopSbdyglqAjJ3E74RZNlGAxaYVbOIBkA5apkVkjIAAAwnBjCNQRyIIjckE9ZEyOagIMCuhBTcgDgTyUCG+7uTop2gSqniAByLo4pbyBKaQAHKEx-JkBE9qTD+hpSuSoUyCGgKwhkDNmH6QqWr1ihhTgem7WkoEGvS5TxQqQaoNkDcnrR3wQUoqTVLNAM1hqgUwuD1PKhhTko51BLCUMaiOROgNCVASsBzz8CeB1mbKQNJrhaDXJQ06qSNNTAcZVRB4bntZiwiTSGA00tgDQgcHu8TRx006TQjv7j9PMpkHwT3XXHXSZp7UjgF2PMAVASAIgVIBnCf41xLJOMWFIECmlvTlJKwPgQKIfDzpBQ+NdoKyMBktArBGmRdCqlrAyDmaHg2GUaCEEiCLoYgt6FzUsmYzc0i6FgJuPAjjg4apQKkVGDhrNBXpZ086KtGMFuDca0ESfl4Pbx0ouRVtEMsQDBnMyN+GSdTkzNulIU-uvyf6MZWIC+Dnp1pcWdz1pIiihQX8fCnvD+D5S0YnQIGcmP2byDQARg16GhSRmaU4ZBgYQbpzBbzoY0dAeqhaJ1EsyTojsEwUWIaGxBTwJM3XqADnRQzNwp4dpOpjwCQhQ5K4dLKIPxmsyTZ3lL2Y5KhjzTyZkc62VTI1DWYHADsy0drKXDFiYgRg12aIKkzQRi5eYSSrtODbZyMYcc82WYOxkDhvp3GP6dHDjlmzJKUlEOWHMTl3pXRjI90XpmxkGYZafdRGFGyRnVyyxR6Oft2PtmLVHZOYyMnuF-BJi0BFI6sW6ML4VwnENYpkVvxZFZBCAi8hbpDD5GQEF5fM+SG-wmSij1Zi8LWQfM2ZLyy58o0+YQCSHCiR5aZNWQ0lvmPBX5mzNkGSOcZgBQ5kIE+VhAPnKjY8sSRUaSEF4ZzZ5WcvUXMPUx6jSQtomIPAtxBZyA+yCj2dMAD5oLc5ioZ0Rtx7m1jOOY470nFK9igl8eqJPgqCTfJuT96bwcOD2KXhxTDy7+ThWfzSnaFOFyQqEi4NogdSpZJQNFp0Gmm+BlUvpAzlv3XYT4eFn0kGJqxJSDSvocUuMaD1yT2TFJoAUscpRPH7Nw4ludRYyEalGxmpfwVqdHE4X5ZZmmCtMT0kZDzJHFWcvMeZMUm5zWFZ4QLiYrkycL0FhQAxYDBSl3pHFlY0DtvLrEvoGxu8jVOO20XvTcS+ZU1B0MYCBK9sTYr0bDlRERKOxo4iKC5LokMA-x1kAADLEswJQYzIL5JQqSAbJcU-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-ojjSWLdxiBY6oj1IUPa2KuUPozkE-Shc2W01CBDAjkDXNUCKgdr9miBoEMgad7oG6uxR-gDgbwPca60P8V+skdaBLE0j4ep4Zkdk1Pl3qkMBKpvKLz4BMqOouaNKOYCyRoIfyPbuqqSXhGaAJqNo+gI7rsoYjNuipgkZVkfzJkas8UR8GORIySRrSxowIENnGzxBsc49n9BrmyqjZkchQanNqDvyJklcjkaSKfkBwsxc8-iPnLOhuzxjJMtFKAcRWLcYB+gPBQAB0sAf64lZMlEMyBgg-HaPYYzUYZI0I4+pxGofwqn8TgwJpJaCbwngmPZUJmEz9LhOACETbXNkftN4AngfYPQLCLSdAAAAvZVqAChNbJYTTACk4iet0omWTFXIBBidQLQHsTNUVCAdDyPvBCjm4UE1yfhO8nEmA3Y8uQDWosA1qygNao90mCLc0weAPE8drlNknuTb0RU6I2VPv61TGprU792FP+QgAA')">function extend_if_consistent(variable, dat, frame) {
    const binding = binding_in_frame(variable, frame);
    return binding === undefined
        ? extend(variable, dat, frame)
        : pattern_match(binding_value(binding), dat, frame);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p23' class='permalink'></a><p>
      If there is no binding for the variable in the frame, we simply add
      the binding of the variable to the data.  Otherwise we match, in the
      frame, the data against the value of the variable in the frame.  If
      the stored value contains only constants, as it must if it was stored
      during pattern matching by
      
	<span style="color:green"><kbd>extend-if-consistent</kbd>,</span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>,
	</span>
      
      then the match simply tests whether the stored and new values are the
      same.  If so, it returns the unmodified frame; if not, it returns a failure
      indication.  The stored value may, however, contain pattern variables
      if it was stored during unification (see
      section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>). The recursive match of the
      stored pattern against the new data will add or check bindings for the
      variables in this pattern.  For example, suppose we have a frame in which
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is unbound, and we wish to augment this frame by a binding of
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>(f b)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>.
	</span>
      
      We look up
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and find that it is bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      This leads us to match
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      against the proposed new value
      
	<span style="color:green"><kbd>(f b)</kbd></span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>
	</span>
      
      in the same frame.  Eventually this match extends the frame by adding a
      binding of
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      to
      
	<span style="color:green"><kbd>b</kbd>.</span>
	<span style="color:blue"><kbd>"b"</kbd>.</span>
      
      
	<span style="color:green"><kbd>?X</kbd></span>
	<span style="color:blue">The variable <kbd>x</kbd>
	</span>
      
      remains bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      We never modify a stored binding and we never store more than one binding
      for a given variable.
    </p></div>

    <div class='permalink'>
<a name='p24' class='permalink'></a><p>
      The
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      used by
      
	<span style="color:green"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue">
	<kbd>extend_if_consistent</kbd></span>
      
      to manipulate bindings are defined in
      section&nbsp;<REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	
      <div class='permalink'>
        <a name='h7' class='permalink'></a><h2>
    
	  Patterns with dotted tails
	</h2></div>

	
	<div class='permalink'>
<a name='p25' class='permalink'></a><p>
	  If a pattern contains a dot followed by a pattern variable, the
	  pattern variable matches the rest of the data list (rather than the
	  next element of the data list), just as one would expect with the
	  dotted-tail notation described in
	  exercise&nbsp;<REF NAME="ex:dotted-arglist"><a class="superscript" id="4.4.4-ex-link-2.20" href="./2.2.1.html#ex_2.20">2.20</a></REF>. Although the pattern
	  matcher we have just implemented doesn't look for dots, it does
	  behave as we want.  This is because the Lisp
	  <kbd>read</kbd> primitive, which is used by
	  <kbd>query-driver-loop</kbd> to read the query
	  and represent it as a list structure, treats dots in a special way.
	</p></div>

	<div class='permalink'>
<a name='p26' class='permalink'></a><p>
	  
	  
	  When <kbd>read</kbd> sees a dot, instead of making
	  the next item be the
	  next element of a list (the <kbd>car</kbd> of a
	  <kbd>cons</kbd> whose
	  <kbd>cdr</kbd> will be the rest of the list) it
	  makes the next item be the <kbd>cdr</kbd> of the
	  list structure.  For example, the list structure produced by
	  <kbd>read</kbd> for the pattern
	  <kbd>(computer ?type)</kbd> could be constructed
	  by evaluating the expression
	  <kbd>(cons 'computer (cons '?type '()))</kbd>,
	  and that for <kbd>(computer ?type)</kbd> could be
	  constructed by evaluating the expression
	  <kbd>(cons 'computer '?type)</kbd>.
	</p></div>

	<div class='permalink'>
<a name='p27' class='permalink'></a><p>
	  Thus, as <kbd>pattern-match</kbd> recursively
	  compares <kbd>car</kbd>s and
	  <kbd>cdr</kbd>s of a data list and a pattern that
	  had a dot, it eventually matches the variable after the dot (which is
	  a <kbd>cdr</kbd> of the pattern) against a sublist
	  of the data list, binding the variable to that list.  For example,
	  matching the pattern <kbd>(computer ?type)</kbd>
	  against <kbd>(computer programmer trainee)</kbd>
	  will match <kbd>?type</kbd> against the list
	  <kbd>(programmer trainee)</kbd>.
	  
	  
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<span class='comment'>
	  Dotted tail notation is unnecessary in the JavaScript edition. We
	  simply use the <kbd>pair</kbd> constructor
	  rather than the <kbd>list</kbd> constructor
	  when we want to refer to the rest of a list, as shown in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  See also section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
	</span>
      </span></td></tr></table>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.4' class='permalink'></a><h1>
    4.4.4.4&nbsp;&nbsp;&nbsp;Rules and Unification</h1></div>
    
    
    <div class='permalink'>
<a name='p28' class='permalink'></a><p>
      
      
	<span style="color:green"><kbd>Apply-rules</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_rules</kbd>
	</span>
      
      is the rule analog of
      
	<span style="color:green"><kbd>find-assertions</kbd></span>
	<span style="color:blue"><kbd>find_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>).  It takes as input a
      pattern and a frame, and it forms a stream of extension frames by applying
      rules from the data base.
      
	<span style="color:green"><kbd>Stream-flatmap</kbd></span>
	<span style="color:blue">
	  The function <kbd>stream_flatmap</kbd>
	</span>
      
      maps
      
	<span style="color:green"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      down the stream of possibly applicable rules (selected by
      
	<span style="color:green"><kbd>fetch-rules</kbd>,</span>
	<span style="color:blue"><kbd>fetch_rules</kbd>,
	</span>
      
      section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) and combines the resulting
      streams of frames.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-rules pattern frame)
  (stream-flatmap (lambda (rule)
                    (apply-a-rule rule pattern frame))
                  (fetch-rules pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nw8akEx2abEShEEYMDKgAAMXU5SJohCYAHcOAxnVxeKJyMQKYMOORZMLiRHXe7Rl7w+MOGnVaAANSgeRdYkbUlO7O5j1w-2DUBYgDW0yDoYmLAY5BYACNxjI2x3u+NlFnpgVo7GAwmBMnjKKaFdIgAiNyL5QLmQjyPccdx6hT5TWvvtzs9pgwzocrAgUC4rmEWg3hiUNgQGDwJCoNDyNCaHC3gPbNYtBiLgHBMG2oj4HGhAAOZlGwpAzkYc6AbsbBdqM8GIUYAA+OHakYOxgiqcH0AhuigHhBGoV2lCUO8hBYboVFNOKexMa4LGNDsRAiLgKpzGRiE1rWyI7FUMEwT40b0FhB4xJULAwUh6ybJY1jrkJugAGTaaAur6uRGTpOkoCkApEkif+dbiuwTAcUSs5lmK1gSVJQgyaQcmgIuhB2YuF69NZyK0BI6H0RwlCgX5bD2Vpqylmp+m3IeWmBX+-QATsLC0LQ5AwYQsXDA5SQoeJSnuRwnneYuOV5QVRWkAFNbBTQdX5YV-CkL4YW0TaRmOap5YGTIh4jalmKIeeLWZXW7UNV1HAQfgcWTUhKHjdUo1bWl6WiepObUPQLDDMUxDiAwu6MfFg1la5FXSVYXlCcoi6uveVSnSI53tldzUcq1oDvcdX1MD9l2TqF4X9dht3OTQm1QjcerbUju3pYDwOfd130XVdS0sJBq0DaV8PJSjh4TeRdr7ah-YntmuO-QGJVOUl5WSY9skvT59ODhqYN4wG-1BbNyJ86eZ1C-GUN9azyFk4jDhK0x00A2LNAS4zgvM-Gy3E7DpNJSrVNTXtgM7OI6ECCwYEAB7cMwuWDPLQ0uYpnMeU9NVW12Nv247TDO9QIu077-thJdsUerQrsoUyci9RFUU2HZygq7tM2InW4e27RAgSHHispVtptq-CFvWHONIUkwjVF+z92e1V3s84u1fHSMjWh4D1dMA7Tt5dQDfDSXaNrebGuoe9AjkAGhMB4PLs3Ub5Yc5V1U89RgRvdQs-z6Ii9B0PhA91PM+LxwgeGYbbPlp5YZMLg3lOFnd5A3vl-AyPWwP8wz88x0G-ACF9+6Oy4KIZ6a0EoKySn-J+3kADMk9s5iSAkwAAjitEgBt1pk3XlzKBCFXrASwfwYgTAz6oJoI2aYpDsEUKwgSGBbsaDVUXPQ8hlD8STQJMAusnCcE1y7l1WON1jCry2BnCe-DuQRHoMIuuXUmF4ONrcISfD1bUPWAozuSjhhiN4ao8sptNGi20TsOu3BSASF8JghhBtmFw0brsSUGiMZT0tjlbqej67uJYXdVxDhTE01pjsHslBiANldqw1CblCE1QiVEqh79aEcCSdEled9f7e0XBk1cORyKyJoBk9JlAC4xI2mPGGoTK5bh3CzLJsC15Nw3q3Sar0xwxj+h47RrUj7B2utA5xo8KY7RkVo9+7YYKGJJtkhG1TUY1JpoDQglAuAMBmTISg3AnGSIOvKbZuzenv34gwBR0yjl7PmeTWQOyzG0ydt1aZsd7nGK2IeN5VlPHWH7DIMBKlAnxK9rJMBr0VwoPfswGK0wtZBwTIxEcKksYVlHFGbpk5ExehbGGCMXSJzxkTP4EsxhAa5GmMGQm0SAUsMCIEv5NLt4eDSTiuF-yHbDjxeigle5EwykaMqDS4RIgAqZaEYVo1mAUqpcjWQALDRAlcOSjglLRDRMPPK-lDQQhgJJUYXoiUTFSpVTKpFIlrw7NGPjKop41z4EdCdAQoApKkCvGAXAT4XzECiDwD0oBEGgDkGDACiC0ChuQRlbRdVIkyCbBIYcYNKAMAENcm5bFJTMFdMmgk1EPC8SfgJAQ1EdVYMJrGpg8bbmyo3Im7N55t6gA8CNTNSaU1au1aAaNxBy2VsPC2utkKAJpJtb2ZFR1HSiEiQvEdTAvTsIAFQzvnf9VwgNJ2UAbPgZkcaOBKFADulYg1AgotoPgLsM6vRdp7bug8W1J2xkPjO9k9RyC4EDae89-NjKmXzfxIM05aX1BQr+wterAjdFAGIYCgGUgov7U60yV6D23rRmep9F5ASvsDfB79oAQP-pUoCYDggC3-rA-UCDUHZ1HqI2TPttbpzkZSAa5jawWNGAtveUYXkd17uQ6AfWhHjAnrQ1+xDuUY28ZQw4e907+bPpSFhuQonTy4fw9IITyRgLdUPLJx9-M6iKuSOuaqUnxXXH44JhVRn6i6anfp08asKOQdENBmjsHx3rCzQhztEnu38dSip8YCnuJvprd5tTJG-0aZgwASHqNpxSqHP22qwPFmzxmJXrks4TFa1mMsNECyl4L7J0v6pc25htxhEv0e88oQTTHkjsfA2xtYgNZ60DCKQb1Mg2CadiS+EyplFzrs3dwRcVXG2gFG1uybIRBsmR8iqYCDAmqTaMB4Zb3H1tKkgwwJ8kQ2CvQAKqEAbGs4MNBLUQzrAAWlu2ZfmK7jDNZQh1rr3qRIouu9asT9YWBNkUqeYlWAUUuq9D9ycM6ZAjbomN-6KLuD2oh3wG7e5oeLi26t-6tM0ldhVLPWCR4By2oE7ls8tKULrjhfV8nJyAL48ECRAmJPeyM8J8pSnxcUbs5IvTusvPYIEyJjIQXnOj0oUPGL-nyIxcIo4B6uyxOGZMGUIr2KgKyZXpp4+OyMuaD9ypLIHX+s1dRwpxLsm648cE5IsrgzZOiYJF1xr752iRCFBTZFRiYKyes9Vy7i3bWp7KtVdS-rSmdgMphDB5ISn7Flp12efrQG6PhiYI18DFXqPrZRV2L0cuVQK-N-8s3evM+p6SvnobeGouFp28YDwuBCbAQb0YEIoeZVy-1qLkLDReixco65nPtGXHrgp+tjwne1XVuT5RHCZljVh6Wf8mE62QjN+H5n5rr209MGlTPgFbv36G-4EIV9V9KDO2BybwmZeNe0rz7b2CBfn8wXl+r+yOvP8YeMEpsXoAAAhItupgBu5s0lsEQK+rYliN1lEKLm-sLitAgUzrBM7m3g0BBPfmeB0KAGxtntsGFlHu2EeKIDHnoAVq4NePOjQYqE-qgTBK-gwR-iXlgYHr-skChAAcAT+nXv+mKlAbgDARSD1jThgckN3uTigRzvcLFnIRxubu2ikDqnbEbvbqTmwT-mBkPtBkph7mftYMPGwd-ooYSKANQbQZXuWIuM3lCNIIuNoQQeAbEqfoIOoUOI7tgRwaAL0BXFPIIcIXATINwHutwJoF4VzklJ-rhjYdUPYYqB4LEXYQIBNvUCWlBA4CEWuDoAkYHoqIKizsEU4HgfUB4K4efqBNwFfnlMDlkaEOEewfkXTCQWEboLkeUQmJUdUeQLUQ0XUT-kYBYfOk0TsOuCETpHpKMVljkaUbXtAYyCIfAYeOMYZpQY9kjK0asZQQEQsUESNCseIUCPsToFsWsY0D-koe3j5LYeMCkcfgBHlLBA6HuGCBaHbJrklOuHbMoMaKAPKIOjZFXM6GULXI1B8S0h7G0tzFUCIsMK9COCkiAtQOdPgCfBuM6OCVIoskivrqimUhUkipERCYcpTFtDiZcVNuwoTJShIK5OngFE0SbGSRibUlPGOLYrbCOOiR4WQgwLYl1h6HiKALybYgMUeiiudKwNSCOJmPwHZCzirtYCqNyTgWsCijsU7HYI6KZA2jsbAT1iKVfBSIKacWse9CiWiZKSdLisFqaZQYaVoSKGTBqUHFqTETcfEbMfKE0eBLlrXBwCKSqfiYXFadKRiXaQ0I8TBM8dSK8ewDIC6aepAqydoqidMATv3MERSJiQdMRETvsdmQCciC6uaPGXGnxhWoemqZ5g+KZC6j2hWRIEAk6UlLWSAXwdIFNvKLtrQPcTZCRnbBwDulFFmbfMJp5nGl6AWcJC2RCX8nGroIkSuLtnGiJA6KAAACoAASAAohwAAErHYAAyO5yApk8ofogMuAGw3qNpQco5Jp7BRJkBwECKIgdsD5owhAFJHgJZGZdsPgI4scApX5FJIQJZhMh8QFIO5i78EF9gd5scOZm5u5B5x5p5xSzqGwb5-cgFzowFxpoFz5NAcZ+QvAZ+MgVWJZpFMg-5Q5FakUz8IFFg+Wax7czot2pFAUEZyQ1FtIMOK48JHFXFoS14rUD4Hqz4r4cAiAyA6A348gkaJ+y0tc3k-AEw7yuZIEYEKlFAROWkBEHghSrqAqqEMKTEhl02cOW6PU0MSBcUSch8Kc5lWkyg6lFJVxOwWMJ0OMOsaOQy5Ellvph83loM4MV0alhAGlBEBRcKUsusw8BljQZREECp-M8V-lkV0Vpl2UzsC0xUSVDQKVC880nUBVHSkGUVHlu2Xle8c8gwC8YCS8iVa0QVqVM89V1AjVA8x8y8FV7lMVqEucAyaJhVsxaSrUMgw1kcdkMcTEPFGWw1+chcrlhxrgA1OV6CZCOCFlyVkGqVgijCh1dCMJ+ipAsyiEblVVg14S96mSrVe1wV6Sd1WV1VBRHcp1fiD1RV+1C8H1oJyiPMG1Ha2U3KEVY1sonaUYhcwVUEIwLI1CI1fV5EV1GlC19QD8Kc+sscLy81lVGlb1e2B2NUp252lAl2dAEgwwLAdsoA92v1kEtcoctM7JCNygLySEkeGkHYbA9Vnwk1uI5B5wKE7JV8PNfN0wAtrInamymiL2BBXNh0bAVRvECuGsCNQtyQcGrpkCXosNql-Sy1Gt6NiqHR6lEQ1A9ca1yQ-SM10cowscgtJtGWLyztNm-S5tT4ZVXkgtfeEBB01cPempyZDaHggd5Oh0rwxUwdiEDaIQoBeqOhI+gQowxNuIJ2Z2F2ZIIeEgfAdND27Jz2Phl4a6T0jF9lscYCtAqNhGKEayGyWyVdHlcoew2olwEq+t8NZyFymy7KxyNdbtRgmNoE2NNaPdjdDsBINdRZBu7VdVB8SNLVxC+NyF4k6e-yul9koCA8Ytgka009uaDNcNW9n8TVkdF1zuwNHandJ9RQZ9hMRCl1K9fZyIT1x1TCNdtKitViNidi21R1Ri-WxGfEoG+BVGhBgaXiuin1gNgDsedKZMN9OI8iPiMD5VCEU97ljh4DzhKK3dqDCE9lXo28SD+DiiX1GDCQWDioit4dIuZDQk9lmtTQKEDDk09l2+Th28KEb99iXClFNmTy5DoiKiig1DFGrWfh2iw9HARApVcwMKqa-tZl7EijP5fxrdaR5mS486cjeV-6y6ygMjej9U-6K+ajsIZWeBUj78tAsY1Ibovl4VAYF9X9RBW1Diqs8DJ6vCXox1wjBiTEmegSP9ti797iYq3pgIIQBQFFdj1pjjGVV0jtKDATj9BIrFRm8TDj9qSTLjvWAOdCfDO11tLDQcqDANgT7iTm8tODiogSoVTj0sS9sdgIHg1UjTeTMsjlqs28sVx46VTMmVENe11UcVQz+Mss9EvTiqIQF5kjSlAET1GSr1j+nmy1Bed1wZQT1ZH0VlD6tZdA9jkUuTEz+Ty13h6pfk+j0ghzxj1zpjcwemctNySDy1g9kGqhZ+YEUVFt3tU19m1dte8jKa09L9s9f18MaTqzluSUaSdDyBk2SDfcPVgy811t7lM9DNXA+jFDpAn94pnm+setm9MgpVjU9leN4jxgpVtlfUlL5Li0UzNStORMNdYGKE+s4L2LnTZzyN+LK9tKtLzLlLvLflkzPTq19QSDYrzjesUhrlK9EZ1DsFSzqV4z4rjS-VVVQr+jdLEUPeGrcrLxkr+9ioSDRrzT1IPeir7lyrVV5q7qGsElnq0l74clX4YaizgJlQ697xxFoAtNNejAK03LE16tdtGwDtyg7zgrsL98uSroytboRQrUq462kbMcMb5SlaKrYS1gSbKtqb6tuAq9rSCSuAr0hbKbQgabuJttv09t5yOIyF8Cz8lbRY9bGs2zpbAbbbOIygzZqrdYHtvzXt9cvb8bOSCi-8A7-qWL8LULPe70VIY5yj7CCL3CH8UdM5w7aCj8aklLgmAbBCIKXkpuPkm7iJdYm7kdq7pBeWAbKsVm3L5Ck6UZPzEwfz9c7lAbGqDrkyAEZDn+-yOrU7CyKMebgMb7V+0wXYhcn+BLrgs5Ww64iHz9HIKK5k0woTn737XU2Kewl5U8E1JezLQL2NyFmkjlFH5ODyV55u+rrmOIih+gyHhqWJKMjpe7ZIjHo9Yp7HNyh43H3rr9Xzd9Y7ltgNNHrLQLXYOUOHYHKHbC-AME5kic0MzCNe4wsE6nEEOaTQHg1uhTxeSu5Hsnzu8nr5V9WjOnan8B5HugAAPNNqp3py3tVY3kTUmjDhuXRP9oQBIDLTBPgI1A+KeuitICEIuAWCUWsXmTBNARp31MwoWAUjF4WOIQl0l-p2vkCDqvtj54uH55QDeCGMF6F6InQFutuOQFFz5LF1l4wCREl457F+l412cdl0IaQRk9yzNtwEx5S8ywS8HtoupVVHRMyL+84YDNk8l-RLR65inmmtYIco523mUVFZNzsgI2cZVedFfszp7VJ8VJi23iEMy7hiNBt2cU2rcLl+IZd-Yyvo59Jr137S9jQ2Fupbhth2BMrb-Sd97St0YKnT5yNz5KdrRLxH8f5N4a4EnfA64Hg+bl6MByXtS40ChPN5-kx47YoR8-UHj-x6Ydvq1hxwbtt+utNwBzYwBMK45cN45ay6N6ulPBNzT6BxpfA3Ny9+Z47kow0IEutzR554EFtxMDt8yBgTBx+8Dz+1VeL8EJTdDNd+omLw3h4IliNPp6y8r4EM9ydK92L+97lwj-Ld94Gr98GwpLhwr11KD955EJD4uNDzW3D7FPnb5qY93Bb+VnU4CKj3ZOj6kyB1j8L2TLj4x+Ryx3rkTykCT3R3Hxrv78XYj8p-jdL9z3tGJc64+FJVADJR+PJRgKJwdI7OQLzRQPzSW0QJpXEg9Ge2zT5JX9X+QFMNe8iG3xLQmMreMI1BFYLQEtzrIMJ-X3tIjuLTX5Lfn6ZNVA8OwgZAUsYAZECJk+wtaCv0YNaOv3aewguNv9o3v4v7kp5Ef55CfykOwumqIAUrf40Bv7ku9moAUi-5II--v7kuDwwNvz-4CE-1kiLhYCUQLgF2FoCrgQBYAh8PUEAFeRFw+YI-sYBkDfFQAEgEENkFpqFgguoAOATDluxIDUgqA9ARkEwF000BRgPAYuEMYpAUBygEgc8FprzoKBuAr-kAOACEDA0xAjAYG3MIsCqBAAUk4F0C0BPA2mgIP4FsD4BQ2JASIIYFkCa86AqQTDh4KyDuBpA3gTwVEHKDFwTnYQeoMYGgAXORgJQafyAFOd0ghAuQWIKMGmRtBZg+AZkH0H0CbB2QEwVQMyCWDlAgQawRoNpqeD3BOgwApwN4GuBngRgQAsYHeIPALwU-Kvr336TkcMgioBOAZDXDT8O+s-ahJojiHt9a+iNSgF2AABWwaWsikOxC4gNBB-DIZ33TiLJfamTQID3xn5q1shF4UHJ5maGZDz62MO5t7HYSgECkoBRoft2MDsJIAhAP9HPAkAr8JhUwmxCMNGHTZckUA2AJAG36rDIAiw0YewigE7kj+ew7Yft3YQAA5FgCcM4FnCThBvArLEM6E1CXQ46Hyvj2SH1AE4b6Z4CNFLbpD4hLQxpjkPuG-DuhnTbGq8JSDvCNBKsUts7i6GfB-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-kyWmyt5UekVr-kA1JK5+cegnIVovQXyhiiOUzWZ4JS5gaFM8mTUNKwRBWD5RaDjT-KsVgKkSpniRw8YK09aoVUCtRDptAQek5NT8R4Flj9si0ElYysNlcMM+PHHIEmmmCbgi8iawkoSz2asKvQ5pSCGiTNRrA01-q2or8qzUo8c1QXUyPmtsQjkVlxazzIOrLV3lK16QDAjWrLJtrL2wlYFWnxbU9ohK4wTtXkG7VNB1wI4ftRoMvWLRNwCqsdQAv1SQKpkOc69UmjjXYTk1AYrkpmtkVedy5d5JNRCrAqdpoNJKjDQ2u-JlycNyavDUKpUj0Bp1cG3lAmoHIkaAwlzTzPRHBX4bDmFyq5T0r6WDLwAYGVjV0vY23LhlvaiFQBueCMbKN94bwihEXAbpjxk6tDVyQXVrByNsa2ddRvfIql6NezUTUBS9AXLDyJ5LjWsF03oUBNEqf9YGh4Fab8KEmsmFJobAybnRliQHrYnehFD1aTdE9t+MlBN1MKZDFzZlD7rFjR+AW3EkIz82IhK6k9ZCmHOOSYVHN1iWxB1lc3UJgtHmoJMFp82pNEt-m9zdbM-kxaTxyIIRllvC0pbrZ0WgcdoiDAwRa4QgQMjltrm3BvNkGpEoQCKGUBlSYWsgEC29WogAxuHTrSzAG0GdIaPWvIE0Rc3tbEU5TSOklq60yAht3YlOpvXtUIdUmA2+bdQFm3nVZC+S0bdKD2hvraoggdLsasakFIJtKoBEVPES2TafgVgLbd1pj4GhUtuHYraiLe3bbqlmjZ8SqA9DvBPgvKqrKdpVVkMPtd22gA9udx7a+siQKxsCA0E3blSRW+7ZlFjgfap6aWNYtDppiHbEpr0YHXyTf73bJtV2yrUwGq3w1XageRlQG2ZXwrsQVWPhZkEx0vpPNDgAnYXCq01aVtEkmZItoyx1KNgLxfihcWcBw6jggujObGRF2KE0s8WOZnsFh020ntvWmsIduSknbltJq5QFzpGCk6T8AFMsW3LHmZ8kGvuf7gaPk6HwLRWLNmcSI5kdSpCVO7HTAhx60g4VFIVlecXZXM6mguFI3fZGbk+VW59kcQmZL53YEHFfYNXBgLWrOyJgeS-JcYGjluz5wFIP3N7wy5y64di4O3fNP1gBQ1pkNSXcLoFA-5i0Iy0QOjWx1q77UMOPPQ7q5n46tdZ25QA3tFl04-QKKLEIOXf6HrQAAATi6DtYrA24SQA0rkBDzrto+tQA0oTAegygOuiPO4zS30A91tTFWUphoA15vQTvPvTIDcluTXoaAE-aasR7jqmg++m7lNFXlGA+9c+ueJhFhUTRncNAB7K-BAUU9jA9+2FY-pd7KAe9wgGfZICxbUlJAdJZAh1GnXOretAbaHbXvgFgHaSvrFaJrr9IjAVtqk0QDSQgOqlaY4s4+DzpVAtr6sowWiHlAWGarUFGCL0JDIumLSepM42ikOORxpcOghesDEpimAMByD0w4CcNjyg6cmo-WffYuHuwPYCDuUYUo1JeAtqjA4h5qChrv3AHC4DUlVRglhA+EnCzWJTCOoznpJRwOcuYBof6xyaIwsG3DWhpHVG0TDmeLg2QaO42J+DPkQQ11ACjTzlDnWNQPgPEMF1k12G3OfnV8OKGjZO+C-ckFEO+H6aIpHRFqQfBRH7sZ+7-SoYn2cr3dXuxVEzowJqGHV1tIPcMBD2qrI9gaBPTeB4EE0PmHOoo3QBIj1KaK-xGphBvp4jtUmJ0WgMGEwjEH7UY6LVbQdpXnToZDBm6Uwa6OOg2DHBhJYHkOZVGME+IWo0Lul0CgGjHLfBGzpT5Bx1GvkUruwpIg6KWAE2WLPHRynUrGpzBkGBQFUqzGq0n+KeiUZj0aCCa3LSVfhShVPkYV7ullQzsVQykOVLtaGlwHQ1mayVYqxnRMsQqvGLiIkSQ9YEDJuSclMgJPaAAAA6WAJDZKKED6HcASaOkPKHoEuCY8RmI-bzAcPAR-o0JnnXCcrkImk9KJtE57kqDrIsTdkrMtcHwD1ZncladcGydAAAAvGEN4JROBBuVDJhXNiej1oDlAfJgkxliJOLhuD5Bn2V0HSx4BWj94Do5EDhPomRTTJukMQJMlAD9jr0LsOl2IDpcUiMINyReGvDknYTwpzE2Kb1PLCDT6XY01WzNOF7ZTzUIAA')">function apply_rules(pattern, frame) {
    return stream_flatmap(
              rule => 
                 apply_a_rule(rule, pattern, frame),
              fetch_rules(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p29' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Apply-a-rule</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_a_rule</kbd>
	</span>
      
      applies rules using the method outlined in
      section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  It first augments its
      argument frame by unifying the rule conclusion with the pattern in the
      given frame.  If this succeeds, it evaluates the rule body in this new
      frame.
    </p></div>

    <div class='permalink'>
<a name='p30' class='permalink'></a><p>
      Before any of this happens, however, the program renames all the variables
      in the rule with unique new names.  The reason for this is to prevent the
      variables for different rule applications from becoming confused with each
      other.  For instance, if two rules both use a variable named
      
	<span style="color:green"><kbd>?x</kbd>,</span>
	<span style="color:blue"><kbd>x</kbd>,</span>
      
      then each one may add a binding for
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to the frame when it is applied.  These two
      
	<span style="color:green"><kbd>?x</kbd>'s</span>
	<span style="color:blue"><kbd>x</kbd>'s</span>
      
      have nothing to do with each other, and we should not be fooled into
      thinking that the two bindings must be consistent.  Rather than rename
      variables, we could devise a more clever environment structure; however,
      the renaming approach we have chosen here is the most straightforward,
      even if not the most efficient.  (See
      exercise&nbsp;<REF NAME="ex:query-local-names"><a class="superscript" id="4.4.4-ex-link-4.87" href="./4.4.4.html#ex_4.87">4.87</a></REF>.)  Here is the
      
	<span style="color:green"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      
	<span style="color:green">procedure:</span>
	<span style="color:blue">function:</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-a-rule rule query-pattern query-frame)
 (let ((clean-rule (rename-variables-in rule)))
       (let ((unify-result
             (unify-match query-pattern
                          (conclusion clean-rule)
                          query-frame)))
   (if (eq? unify-result 'failed)
       the-empty-stream
       (qeval (rule-body clean-rule)
              (singleton-stream unify-result))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlAf4uHyU+Fm4ZHUGABzPQHQgJQhNMwWVqEALiV6UBhkBJ5Fig8GQ8wAH2x0N8BMRYJywIxEKMoFx+IJFkReVotAI8gYZKxVJphLeyNwSzB5N87I5tLejB0+D4wkk+j5kK20Se8RebwWQKB+B0lFUYNZ8wAFtYVVCWm0EW8Rj0ZUYAGRW0D6+TSzFGNgu0CEfWUFVyvbPREMeQJfCso0wk1Kz3yVXqzWvQg60C9f2B3oGLY+xUHACeqMZlFo3yTQctJmpsPhdvwDr0C2EvKdqawUXlsV9b3kBwOwiBDEDTGDJdDcPaiJVao1WrjMoqvXbne7vcIKbTCrEoFnXZ7+CY72z9Lr-Oa5jL7Xt+hrS1P1cWwY2Dai6dX6-nW8IlD+ZCLToHR7Dl-PV9rG870eFtFUROgGDBZlXzFahcGyOoxH7Q8-CHU0IyjcdY3jXoIKg7dYPgkhEIYJdG2bfZxDwhYCPwOCEJmHcc33LEUOPcQ-2vTjAMtW9l1A1dqOgyhCIY+p30-A98XYisq3-f9eOAh90OKVYqFE4iZmQ6SwxHSMxxjbUpwTVTSmsDSSLI+8V3EUy1hEuiiJIpi920wdy24i9KzPa9FKUmzQDs9THLErQJLcn80NknzAIU+tgIo1tNQDPIdHkH4AA9FFaDt4gi1Dyz0zDDMnTFp3g1E0sy7L8FysQrMSxUKtS9LOmIwNXAOfKZKSRRQV3XN8yRAN8AqTygP4yjQGaqr6R0TNut-byAKWOLyU2cjGtXRF2PeBZmAXRaoqKgyJxw3aoIOl8GuUgrAmqnLOyQ4s2KWuTfPrb0AvAsQdGEGZ5FwB7aqelkXp047lX06MzuM6khV8XDfv++JAeBurSP8gSqN+h7KBqx0pPc9oJ1kcV408LGpogjV8CykgbEgo7y1J1o+HjO4qeeGm8cB0qicilnYzJ9njIAZgS26iXwABHD9Ykk1iIcKqHithsqEw+OWt2ofAboCpJUneWX5d11kDhDO7xDO3otdNvWKhlC3JueO2desS78AXLqXosZWT2WtbIS5xUJRIME9o0L2X3Ny2ZMvJ2Q9XHLX0973Y+-K23Q+iFnfIqW3i9xRCEzY3tYVjPXshpEKBYvPrOx8N4IjtOY8TzOZL9WuVtjyXvreApaGoZJ8qzk6Yew4zekH4f9cbw3rBnkfweJ63sOn3Ah+SIZQEtF3FSXyg5oWlfV+inveK+xvEUmWotNPsfVdOyeNZnZQpkspPxGU9HQeZgP3o8U+vnAK2QgQ+y-FXDygdrxBz4iAxuDBaATBIOAvQtBFAWw7rpLk3cMH1y2t-boEcwHoMwXHN6+h8Ffz8CQ1BXVqHYKiv+ahV8pqImKHoOmihLaPwws-bU3DpyDD7o3VohY3wrDMm8SUYwrC8OopUCY78771F0A4dIsgrDKJqNMNR+gGy+FuoQVo1gpCAxHtw3hxpq6cKsaAeGHJ+igAXkiaQkiShrC4VlCo4xb56K0LoAwjiaQAC5wzmm8TwkJBJnGRJMfgMxFi9CXisQYMoMSEbmASUk3AI9-xpOCVk8w4TuE+AsFEGx5YcmUHMXkuRBAEo7AwSwZyCw1jDDIMQZkOhQBqkIFgHYfAThnGoLqJQrhQBi1AKCOizwxZoAWRLECU1ZxDz0KkTMvi6K0BIDoLBKE+HciWK0OgeyLaZPMM40U4pJTqkuaAUpctAYbPwFs8+l5Tm7P2beB5Vzz5fPOUU4pjy1wdnWZs+Y15AU-NEVNVx7TCgKMOMQTe6ggaIvwA4G2AAqTFOKyJGICpvWgyQyB9U2ZQTwFRKWc0zgSRRBwyB5ExQ4NZ1BXml2pdnQCaK0aYo2kKYQfAZlMpZWZdgrobkSilNYjkMlpV3J0OUmkERQCfA+PSoUiiYVsvBRy2lUKeLMoFYY4pwqZm6pdBwRVsqtXFIVQwMUMr1QqoRmqjVWLDkgpkv+GFZqsmVI5EG8wIbdjfUgiwOMlLuWGsCoDD8crzCMpNRKjg7LOVUqNUsPlGKzKCo5Ba0Eqa1iSptU625drvUcg+K+f8uaIwdL+QjSJZ0Y3DC6D0ONEkNgZJBf2nlOah78vzQW1V6rcCaurTSHVOy9l6oOBCt5lA7jZuLeKtYY6EZFqtVKitLrGj2oAJBClrRGY1G7yhYBPQOoUkTIndoTesPtt6B0KRLY0jaN7Q0Tqnc2iwZ6-Vzp0BUHtbqhRht8GGsNt0-oHE6IQMZegEhJqzmca1CYSVksUL0f9oBnFYfJXh8J6HXS9ElB8Egi48P-Io1GmjoKWAnB6AkacABVBgyQkFSHEC0zSioAC0Ans5rEJRU0sYY4MIbGXKRRfG2lppcSkA0ZlDC8EUf0hw8nGKYr6IRnDDZFGKC6VpxQrSdOqfI5GqjZFCFKaNnkSUf1SRBVGvG-46x6UyUia50DT6aGOadZKIEHi1JBkC85oEvD47LQi8FgLTnguSI83oOLwJothn-GlqL+9VzZe0LMYZI1liePKMcEaGWooZt8+VwMNC6bMCdSVsLfmPMVCK3VrzYZImuOy81syrXE3tfausNhzwxRmadW8JCQj42lbcx1zzhzjGmNqckpbMSi0cOyFwjY9qaRFpNi8mr6xUNCl9eQfA4Hg2-q9TRxReQHD5clJQRbXDhsVeu1kmSj2MO2vua+3wzi+CAw+Axiw4Sal1JHvl8KeQt0QevR6ydd2fU4Pxp23bDjX3OKh8k1Je3cRulW9Dnup2aPhJByjr7oBoMSeYST9bWU4XPAa1uDUwr8a0Fyl4mrfwPudcOQ9xLwInsi5Cy9t7NXFsBpeCK1L4vQAAEI93OqVahx1wrS5JEQ7qBXQXgTJY-PryL6TseA6yfz2ro3zc-s9XLmZ22eh-D28YC3vgdg4q9zE4XBugRi79wV17I3li4AF6NmJP3Fcq-LWrqUfzrkMC15QHXSHfPg6FLDp9Jv4sZKPfn8wMu-mlIyo1-QfPAbh9l8jzVRaJvs+myyK30uRuu9AJ77352wy9BB7WdUvQ3U19R-KsMbOmsV7D9b6vm1bqMGT6nvXihuWKFXVPrrUVFtloTL3ggOhcNCmcT3xY-eYlPIBEsJfwxOYxOByN0-4ZOFL6MDf9Vpf2faG+IobnnYvGX46KvovIUcJJ3PQFfZ-A-V-MvD-LnHnQoFfYYblGXcwDvHFe-REe9SmUAG0CJTHMAl-OfPgbXDQJDf8J-F9d3QdUAzmcg93Agog3XFJZaMgjPW9S8MAmgigrJGXYFMJbfY-PfMbDMYLAgQgLQYkSsBIPQDKSrcsSJDKCoQwdgAAPgkFrhZzAjeGCAxCjgXBkOHCfgniMn2mjiYGnGCDnmpjEDgjID-mCD0I4hgUAjsJoXGGPgaQ2yqX0Jrh5B7j9XkQ2BfxtkBnMUzGVEuxTHv3Gj8M-SaTAGUiOGGVOHODgEQGQHQFuE8BWVZ3fCjnjC3AyAoWrg+C+B+ByJEFJEtEuWcV3kxEuWAK5GK0qKyQIwZGwxclzHCizGYjzALEaKdAqHyJ4I5HqMZnwhghCn42eidCqPVT+FGJonGPokmLBg1kGLqIfykXsgsnvmmOaNmLRlcwciWJIjyIYAKPWJvlymfD7CaIRmcV+DRifE3BuNWLOKGN4J+iCwBiBm4UejyluIgIeKBhphRjEDRl+JBn+NePOKyRGJmnSghIxmDBmNcWUj0HhIxxG06mDA4M4IxLcMtFxIoLWNhPDDdgrgBKcX2KBnJLNlpI9mMPTkJPVTeIuIHjRWXl2LuOpKPg5NOJhIRhGIukZLbi5MBLmOFJ0NFIhAGNZNJJvhUQCRWPJBmMmAWiBIBGYD0B-kRL-mZMGKJOKVJiGgki6jAQgXJFlIKPeIJFKRIGYxwg4y41oB413kzCYHkAylACE2pM1L1nUMfHfgWhiAqHNMti2zNByASBRgyGsDRJiFd0cRkjVPxijJjLjJsm1MYFDPoQDSHwdz0B+gSC-1FFe0zITLlVnSZVwGIA4A1NyJ-jcITMNMBzH1pjOO6DEEOhYIRh-jahGmxObJ7KFHNJbIoJ1I7JOGeLjArNl0Fi8N2nChygoEhGbWcUXKfUZkazjGXJrJtOGNAH+2VXxHzOrSY12SzIYHY04242-gChLjM29OEzVLE1pxn2JWFhNKfS6m4QOCtOsRkiQRQTQV-P3P+WOUyXCUiXrK1LDjoRBFAv-LHJpGNO+FNLGFqlfHNKiQtn-IDPECBMZj+m+N-ihJlJZIKPXxVk9Euy4TKKDB5l+NTPVBxIooCOKXuPor0EYvplGNYpJNJJgoYtxiYr5n4reMENXEIvpPNn-PpQjJ+GLJLjLntl7n2yziPMH1uwLMRGblThFJeNzkTLRyiiEu1OIX0qlMMsIFwsGK0vt2nVAEUTgv0ohCNyxQ4D+TMpcsjiumstsoks23lx2hNHcvMvDlctfB7TOzPh8plHcpp1PL+RkmkpNndj0BoxTl8pMJstjjKDspiTpybFulQsoEYCeJYsLAOXp2ouOT0CqrAucQgqAI6Ex16BxXKquKlAJQqFKs6rnClB7gas2G-QcWKoCgOHUFmHoEWKchmAtKVl8AUpkt4nUsZUxCOA4HpOyqZKdBp07kLiUtLhWo2rAqB1UJ5GLzXGUHZ1BCmrzC6SOLmviC6jioMv5hst7R7MmuZAetmtCiZlcRkuHP7SytbiYAWotngSg20scoOvmOEm2LItXJBQI2wiElomOMYi6Ncl4iuqdzCyeoBuRIHTRu1EOKRrEIGhYnYv7XCWOUH3fMbkIqXn5ORUgmIGPiew5KPloHmmDDdUUVzU2t3nupmqJuWK6mPll0UX6o3HVBFr6v9C6pYuFtlxSq4uPmQoJDbJ+EnK7JjmFoqDlu7AVrwskoIolNCvBo+rksOR6mUzJjQjCrwzMt2l1ORvSRBrYvwp5KeMOmMkGPpUUQkgcDMv9pfDCv1MCt8CePaKBnCgju3BxsZFYokn-LdRkgkgtp5Ixv+uWLZvpTjpToTuzzzoluchLpxJiTMvLsptmE6P6LYsNIKobimkIopomJOMDreKLq6vjrCs7qxvqCrsJJrq4qHuerCmz2joKJbsCqbCGRsgSJGWSMuDSJuEWSyI0JouN2kKovaC9IwxMQ-BztRMzP7I6hYD-NAC1rYoPrXm1CRmLNsA1GUiGBo0vqIGvoqDvtbrsyLJLKdTLOxm1PsPDFHEMJnOnDoBftLPfpoT7IQivvDjAYfummFjZm1IqEplyzvOxl5v5r4HAdZnJj4AqE5jwfDQIfyM7OnLQftrDFIfZnIamV9tcQ3JSwgm3JIfXk4Y-B3m4ZfBoRCudvCh7XQfHiwnJqfTMNCokgsOeH4ZCDEG3ND0TXQfGmipzp1k3k7EN1oanMOiDsYeYWvH-tuh8rexMZqoAX0AsYCl0e50XmDJGztt8FsfEEiUWwzvIkUXdGsCLmUsMYNqYA0Vrl4Ds1RJDxLpvtNPAciVicG1qkQZG3jtetbxMA8c8IcKrBlyocW3coyYqyyb9hycoPyaZvbrf2AZCfoaSfcxvryHbECd7tMZZi3CBHdH6mYiwQwwIGBG6b+AuQ4tatGGicaOpridBzN2aY+D1oFMFOmk6e6diaMAAB5lnBm9dhmzrzrzyehegAAVBkJTBgTMNcVBFEF8I4JlFRdUcJXoUADwb6kxYLLXHpvcLBDwHeJ5l5zg4kd5wg0PKG5tO0h04505vgaQS5oEa5iG3eclGoB5hMZ523C3QF4ED5tZtF35tF15kkIED53Z32-TAezo6mu26kW6fIzUBkPqGxoUW6H6sGKZ1raqky2q7uNZjPe4s4uljBDKzg8wJx-RkLOp4xt4vZpZkurfBOKZ6VvYy8XZns8JFli+BVtdElxKoKmZfIrfAJxS4uUuCV4R9S3wA5z5xka8+kUUCQEaV8gkJKkFZykbBwKxkPAqzl9odVwp2J7U1vbWkFQp9C7gnVqDTxiigVhlhe7ex8fukuqOyl9zKlolZm-lklGNyixy5lqaq1yddlmK+c9COqnlnHKNzNoV93UVpLU1vsQYxV3wNV6muV5aMtwHZxM9ZV0HVrRt200W5kDV3ps3f8bVwq9Fpa+XfV4+j0IJk1-W6cot9Ve0i8kum11++1wMJ8sFAahcR1mGhyv5V1kad1iy4PYrL1h1MMX1tJ-1mXIN4pEN78gNirOc8TCN8p2lyt-+wZOI5e44JIqAFIq4dIjAON9CbKYQaMkQWMkByiS8wo6iyB6Rmc7MhMSD6D4QWMxRxUDD9M7QYsggBcE4hMphaBQBJYCs2TFFDoNMmDjM7GRW7CEJG2U8HeCwU8ftL2jkG2c8dj7JRYLjokm2c0fjsZ1gEFbjlC9eCcMTicITlj9eLuHkHeZT3ALJKTgkG2KTeCTMHeHT+QC5hGTT3wG2A5-jg5yT4T9eHXXUCYPIA4IYWz+zo4IUEziwG2NwMTiwKQioTMZ0FQr0jwIz9z8wG2ATbz8wXz0Afz5Q0AL04TEL6zp+nqjkaL2LtgQL0AHFGL8wULjBp+4ASLmZeQmLgL+L9vXL0AfLm2AAUmK-S-K69Nq6q5q-XmtW88a7i6PtdH8+S7jF6Bj069K4y6y5jzK-676HWYa5G6a9AE2fMD68U6fvWbYEi668y4q9W8W7a6fqUJm787m5UJ28m96CULW4qAJA26y-O5O+W4G6V2K4q98E2-MCVwsGkJCUMxo7w-o7g+xqmfYBiV6kYIdGGDo6w4Y8ojziMwh9g5-loDyAACs5lNrgelBLy4uRO4eHZz5-xZztbfvIf-uXqGwsBYeoP8O86mPtQbYjyd4jz8vhXTP15IAGAZV-o9PLu2eOeS4mfmewubONA7PYBIB+PnPRf+eBebZnOABRMTuXqX5nm2AAOXkBV+K7V5V77Yt2+45to8p7+-LtiaB6FBB5FU28vGIfB8N+J+p717BAN8w9g-LtNNN45HN7i-GmIbNyJ5d5RWgjzjsxTL96h60hDNhYnHAZTJexuRIFwEzCSyR-kCyEmpyGLirYHVD4I5UBypI8YCV4JDASj+4AJCqddn8EUAWbocOnAd1rrbjDw2qFuuz5-gaeHOz+N81ab5uqa1b5sjzGR9R4qA75x4Ru3HiYfbdFnaOur6MeEblBEOn+sCBE3maZ+IXYXAcFrXJTn9CbjDJ6XsY4A7OCA-XuuEwHA6ctUeIiEEoG1jBHqCSBIBHlc3Aa7lRHRC0c2JiJfyiOvDf57YfmlAP5jUUJYfNv+82X5C1UgFhYNobdbmKcCSDGx+yzAR0ISw5Znx5A1AagCiAoC5FQQoZHAeVyOAeA9A2A6gFvl6BPND8TzR5tODRYUDC+WSagY7DebAgCEs+BgG1A+AYhCWOZcBAILKrcDsgHwJoEekjaYt-cPzPoGi1gbICPgqAliiDzATCCeBbmMMkYB+YGAB8CCKaIwHUGegWAkhMBO-1wQ+FTBL+RMLXH3wHldK2EUwVgStCXJCy5g1aNeFMFGAic40TwcrjIwiIX8oPfQI4IwwDBbB3Jbhrf1fAP9GIz-EeJYOKThJXBOiD+FpEcE2hm0foYrDqXpiQkkIng6VoflkEeADBogg0MYKCHkD6EVQqLEAInZCgnmoAxNkNELCXlKIpFfIagjqHNpGhaLUoeHHKEkBJCPg6oQUK0E9CdBDycJP0N4G9BZOAg42iIIGFGChhtND4maExwJCqSMwoML0FE69VsIl4UwWuk8GLDDBrgFDGgTeBSCahjVBMAAHJQBYCXFo8PvxSCPmpgqhjsPv4fgSAC0bWH8LMHeElggYT-j0EvAAiluAvQXk-R6S-NdkvzJBIuGnCzgo0vzcwtAO2FLDeBEI34X10oKQizc3wi4WBWmHYigwuIlgPiP-CEizhZQn4VSN9rJ9U+1AdPlFU3LZQh4IMKJECP8QnErEgRdeHyJmA7wchNUJElYin4g9mR7YVkcIGLjuVUyXIjsAIJ-LM41h-bLIYGB5GCin6gwR2NTR6LDRtRaSe-GUnL6KhIRO4D0hlCVG6wOwPI+SsFTbCKl+R6o+1M5QH6ytPKp6Q0S0OyED8PaM2dUddlh7KiPgGoc0g4BB5WiswNou0SDFVE8i32MkNvi21CGicX8kSNgicHtERjgKuFPHteE5F5jowmg0kdQ3aHeiyMsnLMbmJBhlj6E9+NMcxCoEyi0+8o9kR5nCGxJxObQgHsxClEY92xcohURJATEqjYWaonhBqKbZ9iWxe4cHuGMbHgJq82lBSq0LST2oZINsfUW6W6L+iTRIY6kM6wJApUsojNcao3AfJBh7E7TLwtBWZx-9loAolqpa1my9AnSt5V-OKNBhuhMwZmHDoJFUY3NHR94iDpjlfFUkCkT4t8Sux6AfivxLpAirkIxjX87AENBqMHw7BRp6gohI+FUB0Bih7GzOdBjeMdGhDURNmKhg6EjE4SqM9QNwneMjaXghGENZMTnQowLFcgWpWbD40PIMBbWwDYoJQHGROoCAJAXhLdDoCKB1SpExygpTsTujHKvgX3JFgDyRYg81jHxFPhpzlNssW+I8jRkTxCSNQIksSToAklRIq8FOa-rJJzyG44c4uBHBUnXHOiMcowLcSpLPiRIZJC0VJOqIqB+Syc6ot9nbhRzmsz45oxHB+zPjBSrEOdcQgGB0Tv4xQunFigcG5RpTDO0YA4HSnAnhhS2lMF-NlMzC5S7ghge-NmLbaUwp+ihTbklISApTgGpUjKQkmSkKRap3td3K1I1B5T4BADMIEyFg69TQQWUz4DlL6n5TI2anMaXcN6nvAKpFY6qVWEynMCou5XSUK4GGnmQJpZU-QAtLymGAp+WSeqSoUannpeQlMAaXZgul8B4I4IDHhH0wHFtdgD0xrHtFaABg+BEhFPE9LQ5Q0Cm70rcJ9IkI-SAwQI0tu1MuEQFmqdgoaZWBGl7SWKfyBONDML5nS3pGgD6Y1PBlNS4oX0lDDdJpY1MOc3wPCLGBjg1Y0ohAKvMHRo4GSOAz2QrCHhbyfZI2jM1XJWgBxUk2y-WDpKABpk2SWqCGVwLMAXwOSQsTkv3GbiFm6SLRq4UWSwHFnEFF8GgCoHLKQIFTN8oQnfP3nqH-Ij8fePfGaOeQX51ZgsjQOASpKb5zAVwjxKAStkGz8MkBd-JzgplggY4CGDWRbMAJ2CNhowBDNaFtDoFMcNMu4UrPugSzSCVsk6UKH-Dhy45HISOSrIYJsFY53U-tJeETmZzg2reCsUbN3y6Crx1MfUMPAmCzAqJaQ+iTMAqBWjvZoAK0VrOpCKIF8ZMasrWVaqEAxZf0hgvXItlVz4gI-aEQOibmt5M6YYNubuVrJkY9ZJs2GbXDeHCEiAYhaGchlVntyVyvtGwtYCcx0xHZi1M+ESHYEgh05wcHOv0lBnfTNksaN5NNNUk0cRa-STlLfMzCUNJBhk-dEqhdnHJQUBwTiRWltGUp8wB89mo702QOAz56tdHJwk2RGBD8gwUFJskX5EBQARzAABKy9KAAAQXADgBZeAAJSOaQAAA8ir2QAcAGaV-aFrrgmA1yXqB8sWXTIKk7yCsYoDKIwuVl3DL5e8jKGWPoWHBOFgQCsZfMBhAxB5hwKhqIp5B0LKM81RQgVIwVYLcF+CohaQvIVSKiAbCumPwrkUMKU54DS+bjN4WUBgF7MAxSiIEUMABMjUrCZYycyyLcJgilOcwskHQzXsD0kHv+hpkohlCDGMZHRGSAVzHFDEpCD4tYxdymFU+B9jQrGQhL5FLiqfAlCX5KLKABCtjAABlZeFCi6rgEiaWMiAcS4IF1ESXNzymrC3hUIoYDcKtFvC6MMUqqUiKtFYirRAQC6g0JpFQMBpeA1SXpKsl4ATRa+DqUagGlBi9BhdOb5NZ-0RiteSYrMWNKk5HIXoMEBsXQyUwD7GZYTL6B7jllVgVZYTJTC+0Uyoy7GcrNcXlM7pnijHv+mCBxcGMKZdKFoWCAdpu5Zy6Jf+liV2cTlrywIFXl9qdhCO1gSEXoH7k-Kry1uK+ShnGXuL7pGgLxUyzdabc-kEy3vhqFGk0YZUdEvRYItBVRL72NGTGccqsBdRcVby7goaT9boydG9FBkX8JBV4jw8kKsBcQBlgxAHAz88ibSITBCVaVenaBVFFZWMBP5ceHmTSE7ZQdc+vK+lVSMZWNSKxgqlkGxNypcrKVhM32oiF4WqYg5kja4SfMqFByvB2IDYuCKYJWz-lohVoPErUSzBKlEi6pU6MdwyJAFqmO1cZQ5CKIIFHAOZcuhAWuqaciiXAfaUjp2rIV7vC3JsrBmQoEwdq-ZRIX3YWBjM0aN5JYuxXWLbFhPTYVYoULldA14iLClYqZVrjD2EbBARmAtXWBxgL2SpXYXpn68U5DgCCNYVsLyI3UClTVb-lOXCLUMHqt5A4G9WlwQFBi-1TR1zWR1xgjUsNYDgjXXzk1CYFZbYrCkdAuknKMwnsvTV-JIkzymZDmoCB5rWlDJNVUWoimHIogJc54LRP3V5gGYdq8gVYqBFaFXVzs5xBeofV3r78F6m9X6r0HnqiJVq-IXevpRghdkVQAtVWsAW3rU1MtGjoyCxVOLIIDgVJSosIXEKyFAy6kIhrwXIb1FOSyJHauzVxcYNf6yCPyvLC9BSUxc4Pr+qeXyJAN5ay9WBvYXuEoN+vQjcUoQ2YK0lmS7JW6l6VcacNmOLdZjNY3EqSN7QMjdvE4mHVjWjMJHpmVAo6rgROFRBmewgiyaWwSmzRi+KyicCAoWVVTU8GnEvSs4ME8hFQ0RBzsRIrwNTfB3k0FTZpoFApmezgzWa4wtmliVptM3frFQWVZzQZo00FSTNOmxBPgCBBRwNQwKtzeUwCmeaz1ioVTbQFkT6aWwN9VVRISBEWakt8HTLZ9RfypaAw9+eLbIj01iAXNXUbLbhXBw8rgVPlbLdxRK0Gavao1TgnlqJlyhE1fQOEdOCq14jBGJWhLdUvyUBRnN-WvQL5uS2yr0ZCmizWNvg4zactC8y6i1S2ksAdpDkdKfoH-TdaqR4VCOHNtG1WaGtE2tVXnhpCYzhtRWzCpZoOClb9t12w7denHK3t0ZwEdrWRpIC-Mttfw-TlZv61k9bokgULVqVHIQq5V0KwmR4rhXXKB0OspQg9qFRuC6KCaKOFKoB1hapVYZRZSCjFYiFV5Wy7gsEia3nVsdK82YLjKLwF56atcE7QSBa0vbl1iYWgMiO5U0rIRO8VHcwD+2OM+FuA3ifJMjZmVZshrVfoj3BKb8F+Cs8QCOLZFhVgdtO78DJEuWQ6+oDyGHQ8h0U86gwXE6CDxKDA9kjhuZcPJjpmQZB2sAXEGpaxN3OzOCn4m8shK7lzZt2fza9AXkRhS7Ox7lQ5YUN3jLzRCpOteX7KWbHJkKtOrYK9rd1jin0H2lnT1oqDh6uxiaSJq3M9JXaVAhnBwAAE5eAsGV4KnuOpryjN2e+DLp0hXaBXAGICoPaoUnuSoZbq8dPbiLTiAMMnAJdgZwWj3D7h04NAF3vjXhS-0IKVvZULBAuSaQrekvf9HRAXS4oZucQMJlwaFUTx1IUfRdPH0WgKgSQW0a3qOW4AQiYRY3BuGA1Ha0t6DFraHvp3BFDOu+3Hr0E+1c81w2+i-bvQjx2YSxIMKVZKETWgYWA9ITsHz1rWO8ZYDgWMe6QWC2iX9Do9QYWW4EmYfm3AQ5a2vlyxkSA3+znn4I4C2w+8TAFMOpQH29AhMwmMA0cEhEvAoDxAJ8hF1TDOyB93w4FTLE2C05YaYaItCGvwlogJgRElirQdQwvrtEuyIjeQN-Uhq3CnBmnEWkQPIGS4qBzWBgcXAt6c9unPoHgZ9J2q1w7B3pIoaExLh6DDlaDLDRiQ4H1DwmIg9PKOAGHyDNOJfWvORXuL4Vt6VXRQWoN4jM+nBLXUwB10grDdxu03XF2tInSb97h73cCBx1+6tlxyW8NPli2rgfKzIA4FIHRDv6ukzKxuYAbxHWiQDE4kpWUMgOJrcWsBrdMe0DAi0-DMsR2D7tx1gzQjomktt3EWwjMqSDOpTLrmCyWyFguGI9GSMMHAqXDIgXIsUfPg1GzcRQLw5t2tI50Hl+69wnXJSOJKx5JTIXCOqZCzBblHAcRCNFCzSICsTGwWjRzoKbyayDgZtDsYlmkrfl3Uxtf8D-hwRKwix+REbt8AzG6sE8qKDsenlUC55PY86nDN4J+HXCfNBaJcd+p2ETpxO33ZCr0DPHaoW8hKAQalX3Cq5egEeaAAAA6WAB9ais9DII+AuySQkHpi6Hc9st6DvSZC-3OMyI0J4FbCZrnwmR5yJ1E5Ng1D4TMTQwx2aMDICgYzc7ySJKydAAAAvXtOYGRNF80TDJrE4MdxM8nbw7uQk70DEMkmGwN6aIGe2iOxGegsJoUxiZFMjcDhsI35nkF+bUBfme+DYPcIbA7AyTjh1U3SfROvYNTfnLUwN3kA6m9TBpw5VKaXBAA')">function apply_a_rule(rule, query_pattern, query_frame) {
    const clean_rule = rename_variables_in(rule);
    const unify_result = 
             unify_match(query_pattern,
                         conclusion(clean_rule),
                         query_frame);
    return unify_result === "failed"
        ? null
        : evaluate_query(rule_body(clean_rule),
                singleton_stream(unify_result));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p31' class='permalink'></a><p>
      The selectors
      
	<span style="color:green"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      and <kbd>conclusion</kbd> that extract parts
      of a rule are defined in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p32' class='permalink'></a><p>
      We generate unique variable names by associating a unique identifier
      (such as a number) with each rule application and combining this
      identifier with the original variable names.  For example, if the
      rule-application identifier is 7, we might change each
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in the rule to
      
	<span style="color:green"><kbd>?x-7</kbd></span>
	<span style="color:blue"><kbd>x_7</kbd></span>
      
      and each
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      in the rule to
      
	<span style="color:green"><kbd>?y-7</kbd>.</span>
	<span style="color:blue"><kbd>y_7</kbd>.</span>
      
      
	<span style="color:green">(<kbd>Make-new-variable</kbd></span>
	<span style="color:blue">(The functions
	<kbd>make_new_variable</kbd>
      </span>
      and
      
	<span style="color:green"><kbd>new-rule-application\?id</kbd></span>
	<span style="color:blue"><kbd>new_rule_application_id</kbd>
	</span>
      
      are included with the syntax
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.)
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rename-variables-in rule)
  (let ((rule-application-id (new-rule-application-id)))
    (define (tree-walk exp)
      (cond ((var? exp)
             (make-new-variable exp rule-application-id))
            ((pair? exp)
             (cons (tree-walk (car exp))
                   (tree-walk (cdr exp))))
            (else exp)))
    (tree-walk rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlAf4uHyU+Fm4ZHUGABzPQHQgJQhNMwWVqEALiV6UBhkBJ5Fig8GQ8wAH2x0N8BMRYJywIxEKMoFx+IJFkReVotAI8gYZKxVJphLeyNwSzB5N87I5tLejB0+D4wkk+j5kK20Se8RebwWQKB+B0lFUYNZ8wAFtYVVCWm0EW8Rj0ZUYAGRW0D6+TSzFGNgu0CEfWUFVyvbPREMeQJfCso0wk1Kz3yVXqzWvQg60C9f2B3oGLY+xUHACeqMZlFo3yTQctJmpsPhdvwDr0C2EvKdqawUXlsV9b3kBwOwiBDEDTGDJdDcPaiJVao1WrjMoqvXbne7vcIKbTCrEoFnXZ7+CY72z9Lr-Oa5jL7Xt+hrS1P1cWwY2Dai6dX6-nW8IlD+ZCLToHR7Dl-PV9rG870eFtFUROgGDBZlXzFahcGyOoxH7Q8-CHU0IyjcdY3jXoIKg7dYPgkhEIYJdG2bfZxDwhYCPwOCEJmHcc33LEUOPcQ-2vTjAMtW9l1A1dqOgyhCIY+p30-A98XYisq3-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-bqz20MCO4vNdvEG4Npm-PfZG6kzHGSwaTNec47C1Pqmw-qD41yvEXmNIKSzrH8LZ3TWwjziyjF2eMhvO22xUHStRCbLdJFS9NGrJdWm4+DhD7H2DKVtNsLAZHA4Gj870Pee066sfUn5g01bY3OqfXguI5DWt92Njuuw0W6zk54+KOS0ZTLRWjIVbB3HKHnrioTupT-o4xtOXAUkVEsR0r7RLqeopGsPO8Leg6tOd2iy6lbb8c0mCSRlR5Suk2eWVHlXgXAoLocE5svL5isyda9SLpnigbhQb9uMXLEhUSXZaVmSEk5OKjI4F4SIuqOV5TW3nvTfmeT60D355QonML6KYxbxTo0OOK8w3EvaNhcb6n8El1s+Bod4XcsEo9lF+zGX2y3fCGgxH6u+JK-bKo-e5PS3psYibISJSLnCyJXAKJoBizKJJSED0Z6AZS8IySqougcDQEfgj6rgHJHKNrnLhwVBe7T6lhhg2wxpxqig+rYxDB45YFEAXK4GPKZgD4ILsLRqnAkHlpkGUR+rwEjajgTzah8DTjEHxrsEzBzxTQNpnLUHhycHJ6EHCxsx+oVCUz7yrg-ya58BcFRSszkz8GgCczKHfx5paKB6HTqEyGaFyHaEVASxoGJCp5kxoTz5LovgaFCzai9Dp4fg7wQTLo0KpYOHhS5ZmEqz8K8Fxj94JgeF6w0KRGMzLrLDhYuEAIxRLC5bF7yaxCbydjAg-D9rVoxyn7DbMLXh756oxaSIBIFEEFRSXglHy4ZG0AfBHyGrtSjTT5HbGhRRwblGBgMFRBprujWC-Y5EB4DoLgODS6QGKgYEtH9TMSR58qJHiBwY97zE-o0LdEewX5dQbFNDtFnyXg7H6HHAjTFbbEtG7F+wdHlj-iHHHYqK+7g7DHGFtxbEVB-CR55DtiDHK6FEsxbhAjuizF7hYJIHTT-GAnvGTZmIdDzZ6DTEBIrFvF65CqfGNHvIYoEDAiAkrFGAAA8YJWJuo8RFstaSSJAEqfQAAKgyPssyJmJ2iiE1rvO4jUOqLYr0KAB4HjgSMSJKECGaifFsUYB4DvByVyQXhYtAXyQKcSRsLWqJuSWelSTSXwNIAyd7Mye-MIGyQmJyaANyb4LycCDKTiXqaKXqQaRYEafyXwAtJCWkU1AyG4h4nPt4hfipr4HURkJqAyH1JUUKLdIbkCYyKsW7npqOiNlBsGW7paUkn0j6RgpnhKRYDrJkXyU8aMfkSKpabYj3uwK6AnEKZaeYOYpeJCcWbkrvGdhfEKfMNePaW1u+slpGlovmcgR6EMUYZmUwPZhyKehaO6QmDKvSKKBICNG+hyOVhTq8mmhsQ4GUTMUlrcjJEGRse3mcSNPnsmeYGudhjse7p1oeWfFogmX6b-pMY+Ktu3k3j3kibgB6fWrHvGS4meUnv5juQFEGYiTXmGe+QSLRlGTiXjnGd6S+UmQXqmQ0emV2XkX2EXnjrmRfm2efEBfjuYh8K+GWaHj+VCbcrmdWQpLWdnIBA2Y4iGo4uZq2aCQMT8LGlpjBYOr2YXoqQOcxNOMOfGmOYGM+muKtguBOTSFOeGQSLOS0fOS5ocouS3q8iudWWuSsX6ucd-j2ruT+opZuQeU2VpYLO0CeWBSUVgP-tjIAacMAZcPIjcBgBeehNap6sIN6omq2kwsETwVhHwYwNOLZXalEUcV5V6tYDaioHFsUk6s5UkT3MOnKGmn5fZQ6gAQ4GdFYjbKeDvBYKeFyluQSDbOeKleYOeBld-jbOaLlTCd0AVUlevBOCVROOVRyDbF3DyDvA1bgAkplb4DbH9AcCoPIJmDvJ1d1fSQjG1RYDbP2blf2a8sNeYDbEkO6BMHkAcEMLNbqPNUcEKFNfbnGL0G4CVRYLARUJmM6AAHygCqoeCDUbU2xqq7XmD7WgCHXsAnWqqaoXWFXrzrYVA0h3UPVsBPWgCLb3XmCXXrzAA3UWoZQHXHWnWgBgCvUVVuEACkYN31UNqqCNgNoAwNbhSBu1KNj10NoJh1b1bhAAhC6LjRDfdajaAGTRwETfDVtbicjZTT9X9fieYPTXVevLiWwDdXjb9dDTzRzVjVtUdczZDfjaqidcLcTaLbzZ9b4PzX9UdRwFTbLX0CTWDdDb4ALeYCTRYHAVYg2NFR6t5cIWzlsewI4r1HoKeMMKbf5ebYcMbdXjFQ5XmrQHkAAFZ0QJZW1Cg20xD41FUO2xU7zjTDobUEhu1xXGUNhYAm02pm3U525nQ2wGY7o6A7wZ1ShR3bkjXryQAMCGb-S9WfVF0l0lx5352bV9DLWUCwCQC5X12N3V350zUaArUACiJV9dXdbd25NsAAcvIEPWDSPUPbhTXS7ZEh0KHd6szisf7RyIHfjQcUKjHYJlEnnInXZQvePtuHysvTSKvQLRHRsPbUnY7SnfHbdG6pvY5caqghOIsfqioKXJKL1uWiwLgJmOmV7fIFkKdjkMXOBcWpvYFQQAuCFUmspUKGAi-dwASHca7P4B4gxYdK-aWo8RgzHHVmDuWnoA-Xmt+RWXPVfbFVvcJDiXAzSAQ-oMQ9jHmN7b7ZHmQ5vczgsbQwSDRZ2bkYxXKAQMQDRUCJvJ8fMvw2MQbmgxmbBXGPHUZZRCZdIhcHItcJgNZaAN4cREIJQNrGCPUEkCQCPAUq-V3KiOiONKY3KQiuNP+NY8KQmJQGKbvFKcababbTAiRZUmsLeLNufPYz4wQNHnqjGkkMbI2swI6CSOAq-fINQNQCiBQDmqCMagk1DUcB4HoPE9QMhb0ByeYvk5WeaR4DkwPQkvk47G47E0cYwG1B8BiDE0-V2p2l-fU+sCYPtlUeWNaWaX0HqWE+lB8JE2xjbWAm09kB8M03ZmaQYL0LUwwO056CwAkNk6gmY7gmNmArhYU1Br0P44iGdNs6ADaDkhZlGf+Ns0YLiAE9eFczTa6AMCmI4uYp41WMc6CU8zcuYto-E6+Po4xEYyPNsyJupm2FqVSkhMc6c1yn6AEsyvTIslC+szY6UgmP0x4HU5MwaCs28-oPhlc447WhyS43PkNPYgizVDsvc+Ka8iS3qVi+HDiyQKs+NASyi86m4MS3M6C4yw070FVc02Hos9i8syy6izSI0nBiCwiny0GL0MVRUGdJeNs3WYBFc8K0s64AkLhZ8tU2s0CDswmAAOQuNgJmmmv+PWkynbMLNLPawkALQOsPW-HDibNLCBgWM9CXjOvlMYbrzMhZ3ThnqilIKLjTizgsDhsRFWApgSvQlyt4t6C+tqtLApugBytis6v+OJs+sfiOtCr-jpuZu+s2GgAANAPUAgM5YLrupDwgwEY8JBFusTAQvFLcJGs2yUqWQVCUvjJIQdvcO+A20VvthVvCDFzFZ1u6wdjTONt+NCiNL2IdsvO11POOwX5+LDSBjzu6uIpZRlvOs7jKoZTTsNsdu3aRo3xttaQdu9mzkkNIWRZChkv+I7t9tIssh3uNkm31sdjRgCoOA21HtKoLCnvZR-uR74bfumIFaPvMR5PFWrtwaXgQczsfAagmpjReNLBocgwAeBrxs2J3pMN5mfNVXIcnDocEfgL+M-xkePOjvAMTs1vhb7MIpdHwd7hDsWAjuANjvVtTt4ezudq-pZQLschzajD0eDnCcYcgZ5ztbk4RpgvbsMbie9kyQ2yDAbu+LksVEacy7Kf+aOYHveYoOKgPrqdNuus2Wwkru2PLQOeSeIosWNvsWyryriC56rhWeiHcxOFgrzvNt2ejDOcQbEVLDhcEgKkUlCJDmec3reeIsYxaOBcJa6p33-skCMSEDIJogTA6Bij6AXu2duiZiPrBefORs5fzOMHPAOiYfZeMSa6lfdPhXeFNa7tyg7AYIsDOQLBrDDDQ5rjlqgBqiECGVgCSKmXUC6hKCuCgBiwWofBTRizgHgEhJ6qzhDx6CpD0F+B0AkA6BDbtfoRRmtBHcndT0lkZvf2GbqigsmyAx7f4AHeXiXiXdnrXdEeOdVhffHckkbq8UHC7f7eps4ZXd2ZlsHKDeFC8I64h5Axw8RZruLYo-rbu6fpOnuKvelyeAVD7eUCczCUvZkB5Ao8OA7fUB4+UAE+RfB7qDI9mQjocjmYHDk+U+gk53qhMX-lhg886CNkmaHrTm3JpoA86BU8dhg9vfE8Q8c8U8s+aU0jmaS-IWC988OYC-3eZ3C9lbGd44yT-iS8q9lZkXmeenfSQRRu0-09E93B3kfh89k9K9rDS+g809E-0--iu4Ri+Nm-s+c9mQa+6+53CWGlEARiAR+8o88dChwZnTe-DCwkO9O-rB+uvK+9I-+-BOs+CWG8znV7q8cDU+0+O8M+K8o-58Ixq90Tfeh9igPeNB6aHYcgYXR+8jB9DdYBt-JlwZwZp8-nO-x8doKTd958Nh9+gBCV-kvtR8m-1-Hfp9m9HmCWW+PmNz9UaBzdwl889R5MuLOnsfFrOI4+KB1a2JnCfOSgfC1fcnmK39RvcmxdKkJAefXq3p9e048Uo8CUz9ndQA2-QgHNyirV5v+A3EPhwFh5mRDAvANNBNwcAQDcusAgVufzIjRURuHAZAfUBR59An+tXW+gbDsJ5BJQf0UkAUhX4hdSqPQSgcP3WBHFSB5adMgUj0BMDyBhragZeHYF8kaEPA7IuFH4GcCyu-4IQXwLIHplP6Gxa-GpFaI7FqBZfOgbcX3zyYHihDOgeEXkFlc4MByIQTILMgr9e25xMtrfyiS5ANE8XDYsKxHJsFiglAebuWgIAkBeEt0OgIoHpTidhKd2CpD0DvYR8Ass9IQergkHZEpBi5LKEYM3L68ri7QIIdzzD6PcO05iRgDYI1B2CHBOgJwe52OKBgbukrNLu4LYEhCgQTeMQWbyEreC4MfgufmfDgxuCFoNRDThUHqE9w725QwvsuSqxmchQHWbSlnBaEdsy2xISsAkFbaPo2CYoeCJmDYwHB6ekwnqtGAOAk8yuzVUEJTFXbzDphGoJYYYH8YodloswzPoYHxrDCAwYwx4psJmHQERhnfNYZnxrq+BLh2wzmL4TCBMhvUTwtYRUCeHvBlhgA1YYcI2GfAFhzw3YYuxoFJtDho-Y4QLUlCuB3hhSKYWxh+E7D7hCMGESdVOGjCFIlMEJnqixGHJ4I4IJQC2kdiv0+ARIstHtFaABhGmNwwOh5V3ghNboFIjQFSKxF0iAwGzUbHWBpHZsEUUGA5m8MrAfDgRWwsBgjATjXCuRQ7DEbsEpFbhqRIwzkdiI+h8j4EMeUjGoI1BmpBMsYGOHQLSiEBIhuQqvIEOKHBDmBoQ2YNIKUHGDABcQ10IL1XbYN1BQTVokaJNHrA9hbIlgLMFmq78hBpQ4oUKk9E5CGBFnVcJ0EICuB-RO-IktGO+EaAvR5IsSp8z4CLB1QHJVdr0AzG1gsx-jZ7rh2TFACNARgVdnOXMAHN8k2QIhmWP1IIpXROo74HhH1F9hExpY40eGL3ZWpYS0Y60LaF7GjAjRRraMbGMoABiiS-4fsaPwRj-gRxs4hPr6PuiTik2M4shh2kvALiNxdafcv41zGZis6QwvkkIyXzSjVmcBagXBkppyioMDpQSPqGHgTBZgNXLSK+PiAVAj2HYo9loOpBppJxZMDnmugcBji-RE4+Mcm3zalwOx74sQBUB3F1ofx9omIbYRAErVV0maR5nmIIBZ1V2go8EVkVEZEAzxfIuEvGMAnToy2ZARomQLph1ilYKE8MNaTXFlj7x4gCbkqNpH7d7eb3P4b4BewOAJuePHiZmD0KAD9cTohIVLyBw8hKyBwEwd-VPZE98w9EhHtXn24OBUOZYwfCNk4T7cjAhTQYJWX26CMiAoASkgAAku6lAAAILgBwAXdAAEqUlIAAAeSHrIAOAExUokQDm5NI7+cOUCYEBTHUDqJAVRSfRNjFGsOJtEjKAB2a7xAuoQU1tP4w4mAwgYsEyCEcTSk8h-JUbRKccLK6WTrJdkhyc5LckeTspUfWKfFICkFTkpr9DiRyNimUBlJ7MBqRGwSliA1UWIzLgFEMxNc6phwSKX6JCllcCRrI4kX1HbRGiUQj1bknNzojJBnxeUnLnlFmnv8YSMY0ad2Pj6qk0Jq0wKcuIYApi2JQA-AOMJO55gv2EQmvDfnKDdiXUt0a4dYCkCAwR4HTP8t4M4QZ9-B5gSinLBe50DfpNQiMswnozRCycovP6SJWrx5BLRHA7QDaMXIpjIZYM8sPDPiFN9M6xZcxBmN8zFlbEL0ygG9NwAjwgxggmvj0N76z9Ks1cKoeWKSFuhWgr096Um1+k3NiZpMkeP+Az4IVdgeuErBbzX5ZwuZbMwYZGOS5+5tA3wONLlDWD6ChuP5MaX+LhkWiOAQYsIQEjtFRDVMkaIIbTTu7Yzw+f5GSIwAFLgS0JRQq0SUMEEhj4JDwiwH8FRkNioZvmFThZk4R-Bk025HYItn9mOJVc6s0AJrORnazAYqMynFFANmSTjZiQgXObNtKWzd+lAhCSHOKHBibZbafbDnJ3LnEuc+7P3IrIenOzuxRnaGeZjFCXS3gSEUuTrNyG7E-ZAc7XlFAPH5ijx3mDoejN0raji5rRUubcU6yaipoic0uKuMUD09FAFfX8YxLnLpjDxJ-CLm3JwmLyYuiKQGbh0nmcwKxLRasT4KIaUxXZEXJsTLPxgNFOwCsiecMGnn5zwRHCWsVPMZncZC5jxXUXLIvmFAp5wwenvIJhpgB-Zi2PeQP0Pk2hwwA-bebKwYAWzVx04ymIuJ4bXhH58C3wKPOTlElUOcCtOUKFQ6cxkFu484nu2XlZiTB46KwBiEaw9lqB48NyqVAoVdj3CsbGhBBDgjUS8owQV+uNHYXRErA+aBaOwqoXuse4JvKwBJwi5dtcAb0zMMqHozPNwRdja8FwrOlup0owQMYFYE-FQT8Yx0jRSwFLgzyAhYILRkyFmDBAHArQQsD4NkFvBJQai4JtrmryoKMJDgWtKgtXFfjtFCE5hf8D-hwRKwJikRXgoJBITdZjExxbVAzR5NsJBYgUcDhc5iY9GUE2xYvDoJ8ZjFsgAJXjkImnj7854vQGEqAnBxTJxAYqZQEclSoAAMl3U8nTYeQvAHyQdOCBJTtFj0srmFKRligMoI0wINFOqmKTowjSrpSlPBE5SgYAymhCMvSUEAuor9EpWUsqXgAqpr4GqRqAGUNTqBBI+hhKISRNTclLUtqYMrRFCgGFBAHqeeJTDx8dlpE9djGxOW9S8Rd9A1JMtqiDKVZjEiaUSJtrtpTFAtbksoqeVJKU+204KbtPbT7S-Jqy5pfuWPGxoqAzrSCboq0VAqTp4YziTq3WXnjCRGgT5QGTTEnUXkGy5QBcLFFsY8cA0w6QVPcVIqUxs4uUW6gGWUrYxp05SvJXPFnT4lcK51l6NRVqTZ6MsIOhwCElWd4VBbacOyqgn-8ZIfKxgI323RShV2nYGFdYA5VQSuVWIvdlKpZCdcgu6bFleqJIXtK6YsA-sQIupF8kWJwcSkNiHDCcItJhSyWa4zPRVAupswT+rFOybOreE3g2KbAMylPYOQaaDSRwD2Vy8VJvq-XmmkSbklG8mU1FcfR7SXLlR4PBMJlNOV8j-+vgRQNDjx6dShpDAVNSMIoKvJpWzqioHKMjXmK8Mzq7le7lplDz8ReXVoE8qRkGrOl-ClNNFWOkOAvFrCpCOwtKxerFJRq46X6ppABq3uDgYNaXBUkNTw11ectY3nGBYi41HaBNVxLe7Thgg+agMOmosCZq4wSa45fgC3UJBC1tyODMEFLVQ15124RdayprVdyABw8hrkVybVnpyVULD1SatUW+qj50JRrv8t9X+N-1mU91bmpoTAbnVoG-KWIF4RghHV76l1Yho6VQa1pMG+xbPUZCDToNkEBwCUtKlOSXJ7khZdSDw32SCNFU6pcWtzWXr8amGhDYpzPi9BXEdXFQYqH-WqK211IODY2vGCuqIpfa1WRhtwArKrAduWZRUqqWlZxN8ykCbCQvUWooadGxpe7hkhMbt4+qoYhBC9q+owMJqqMmBiOIxYtNTwRtqd0YmNDyERxFOIzG00tgxO5CagbzMIy+FC4dFUuJ1Vs0cFdNKwwRQZvq6hwJKHmkzd5sAEWaCEt0azUFrs2mbX6Tmyzf5tXCSAgQUcDUHCpC3manOzmstlptoA2LjNdm1VaypNWaaxAnmrSPlqEBA9n5uqkYf4xy02LrNFWhLHxlK1PAiMBpMVbovhyvgmtLWhgGVva3T9kyNWrkQlD3V9BA2opTrY6y8KlbctraOpbdA83za9AUWyrYVvVHFa3NIkV4GVvWm7a2tRrfCS5zhE-0RRiIkEVsoRjTbDUgWg7S2FW33bKtQqEbTq2uRDaFN+NZbQ1tww7aDgA2x7f9sO3vaJSr2kJuNqY0kAptz+BJbor6q7b5tRAxBPgGS0aIBUG2kYa-XeVYqSRoK3Fb31r6+aYdcKpLSlth2OsDW7Wx2TyRPHESclpE-ciEg+1TYsldO1FepVyG99DsUuWuCDoJBg6tgEOsNtDu1TMBydZdCQCjqjhI77idEaHNZywbP5shIjMRqMkkbOEy2THcdpO07z0IMdXI78CuQxWTTsVCSOeUdRuR0w5dGiUwdBHMFBgKyKrQNF6MCVFBe2x1Dcf2Td2-qHhl6RLremjF3SeKYpLnUNt6Ba7BOEkONnkPQq068u9O5UTsVBZQZuGAu8iBDoj0sdisIu-4FHHF07xM9OuhdPHX-Eqo-tA1BwAAE5eAS214ANXZ1mbN+U0fqlMNRXaBXAGICoE5S+lXtBFYIEdQbwrmRpxAoJTgFrwsAt6eqegY1sa2nBoB59O6kXu7NBlAC69UwyEXateST6-sGK-6OiAJFxQhU4gTVEoWFl9Dt9bevfRaAqBJBT22+pRRIp6rSKMsG4R1frrRVldXtgurNTOEf1SK6MnhUVcTvFXGo-9z+iMXqjk7i7LUizaHG8RYD0hOwVdM0YYplgOAQOmYE9mew7B1imWMBvdWaW4Bxt+1kae1CQEQOl0HmHAW2PmKYAphhK2+voBqk1RydQAzrF4LAeIDPprqqYH3RPrX1T6S2iSmWJsBn7Gdeh-0yNDGry5HwqgRXNjCIb57saeFb6kDRBtzW8Lk2VM2kKQYQNQUS4VBzWLQcXDj7zAjB3oMwY1Qg9sNa4eQ1L0sMaolwYh6GcYAkPOHl9jicww4c1TsGMJRwbwzwf14X6OR+KjFabuLTm7iyQhrrTuNt1MB7dybF3RagyDu78anGWcTdsSO7w49JE5UXePgR1rSiElZkAcCkDohJQe6nlagfQOaLQOZeuTrgYaYVGRuIpIgzX1EojQ7cmRmWI7ByMJ7aR+RnSdXCjIbEqtS8pBLSTQl8lOx8gfZvtk3QismW0BuIyIBzQ9Hz4oxoVN7tMIC1OMZbcxScQKTWKWQnG-icXx4XdtGIugcYtICbWXH6gugOAdSGeksySZ4szwabN0m1iL2gOWkkbHSCWLYB8XcYPca0C6A8hlZIcb4PE6-G4MYssmezKaGWl4TPM4ohpwhOiZuhfQ43q8e5lJKxtVHEGNAeNavi9A1OgADpYBv1hKtgjIb4BnpVmKe+6pDWdR1pZ9JkPQx8DIhQG4VJJ5rmScdmUnqTl0z0MgnpMss6xowMgG8SFQHc4M0p0AAAC8L65gSkwSHoainDkDJ73Qd2VOsme07J3oGQcQM+UCd+pGLCUbKM9ASTNJjUHSe1Ms0lWAbUUnkFFLUBRSWdDYMawbA7AeTiSm0yKftMSnHTa7WY9OFdMCEPTcbQ00uCAA')">function rename_variables_in(rule) {
    const rule_application_id = new_rule_application_id();
    function tree_walk(exp) {
        return is_var(exp) 
            ? make_new_variable(exp, rule_application_id)
            : is_pair(exp)
            ? pair(tree_walk(head(exp)),
                   tree_walk(tail(exp)))
            : exp;
    }
    return tree_walk(rule);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    <div class='permalink'>
<a name='p33' class='permalink'></a><p>
      
      
      The unification algorithm is implemented as a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that takes as inputs two patterns and a frame and returns either the
      extended frame or the
      
	<span style="color:green">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      The unifier is like the pattern matcher except that it is
      symmetrical—variables are allowed on both sides of the match.
      
	<span style="color:green"><kbd>Unify-match</kbd></span>
	<span style="color:blue">The function <kbd>unify_match</kbd>
	</span>
      
      is basically the same as
      
	<span style="color:green"><kbd>pattern-match</kbd>,</span>
	<span style="color:blue"><kbd>pattern_match</kbd>,
	</span>
      
      except that there is extra code (marked
      <QUOTE><kbd>***</kbd></QUOTE> below) to handle
      the case where the object on the right side of the match is a variable.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (unify-match p1 p2 frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? p1 p2) frame)
        ((var? p1) (extend-if-possible p1 p2 frame))
        ((var? p2) (extend-if-possible p2 p1 frame))  
        ((and (pair? p1) (pair? p2))
         (unify-match (cdr p1)
                      (cdr p2)
                      (unify-match (car p1)
                                   (car p2)
                                   frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPE0GJWqC1AFIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKBl8JQAAHy14zBY+LqpfV2WYh1vXUhYfB8A4IQ1Y17Xdb9QX0kyO2TdiM2ndSMcNTd2nDoV+4xAkYQGG3MFpcoHY+iDuWE0FrDI-CAAyZPen6QYk5HdkY+YMR7ph-nnY+r6s4G4GBdSPOQ7D0E3asugS5qyaGfMQxfGV62GHwUXG8+v2caC7aiON-kIoDyuGAtagxDoT66Aj0eqKCwXq9qWud0jqzp9n+edP2ied7n4gF6FjvLf-JfXyHjP9BvYekz9yYD9bkG3Bn4-T-Rgfr4rh+7RHhrMefNOKC2NEIGcFRlBsB+llOgP9lgryruQYO69w711AOCcBp8oEwLKvQZuhdOLYMgSYPBcCz6d0vvbX+8t04jHvrfQBstn73QniQhguDYGxW-mXRBf8mGP2Yaw6GE9Bbgw4Jwsh3DnAINiEgoONd0Fb0wRIxqXD8F0EIRPNRUjoEyOyu3KhciYg3wYY-f+1CWHAJ0T9Mm6jpGaNOn1ExuMEyWLvo-JOwCiEeUFjA5WwhyBi3hoQQI796CuIUWvUOyjjZWQCSwIJISwnEAiVol+sM0QfSScE9cWNJBkEMFEiuNxsRGIvt3XuJduAeO8Zk-miTkmW2EL4EpdCPHCJ8WI1IIkhbMC0Hvdp8dkGoNiXXFR4I+kfCoMQPe2jX5uKSCk8JhhZF8PkQI8xdpvEFx6QwN43FUQ-ARqk9JwzAyrxQUoiZ8TQDGSKFg+gRznAnNCas5wCyskqGeSshgqTM5X34XQ8ODBAgyAwXiBpxDfmnNIAc+gxSNmmIrqC8FGDSRsMWYcv5nRF40OBQmNFlQME6H9os-WbRayOFLkCzZdCrljI3viqOmDjDtBPsoYgXz+aE3ZdSrlbswjL1RXXcE-LOXcu4JHMIWLvkSppf02Ze8kVX1iISragidmj2hR5KopAPhKsGSfFlwraHuNvjK3V5hwkzhmcaheqqZZmo1S4ZhsrREUtSHMzQuIFWCqtSKhlisMhWI9S3b5-j1h2oGXMk1QqhIKJdlkd13SvVNS5F4VxSzA4xOZRg8E7APBeB5ZxQmRblBZuRTm4EYqK0lulaPOV-N61NXwK07NZjBhdL2emjQhAQTclRBc3N1y0G3JltvQgA7qBDs+dalwAcVlpLWZE6tXbPHaqAc2ziP0xBOpNuazV2yU1eJ1Qu0ADkp6kH3foIgLr6UjLSKGu9hBw2+PMPqw1e7X0PpRR02+96L22uvbeoDQaEw3iA72yNqROr6FOXHS5oybk7lOVZYohCP0uAqCQEQqRInobGqjcmNMcYT0oIERqjlOhZv6iuAc4ifoIcmDjFYA4qWdFJn9B8bG-TXVILWJiWZnzRgea8RFAgWCMmegwV6kMEPUwKUBNCQVpPiSDOqWo4n5L-U6MYHTKl2RUYYDRtgWbZPfxYI+ZiWBoIURfA8hRWE6yGf0sZ4g1HaNDFvrxnWHmvPmc3VkB8bnmgyH08QYTOZySBQrpRzzpnvOIZg-zBGSNQ5Cn+fgd+fxuNo06Epku61GzPRk8TF6jAFNqKK4DJiA4ysAEIwLBnHOtOMdCHBClxDcPiqhzqrWcbWAbe1uBudjKeWrjF7mFAc-8RjcHmOnlYxEPSRQ8CQk2yuUrFXysXUq29Ap302BTZU8JCuTWWtabqLGUoXWZA9dCv1mr43FSWbOs9KmdnoKoRpg80yiMT6DBqxTU7AVRMC2FPoXDQOCPwMm8R+xp3nigA21tlYQVwQRb2LUcE4PIyOYxxXdLQP8vkwRzTAK0M6YByZnIFmUA4CIGQOgbmeIQEeXFjWWZGCT6VkTRXSlIsxYSxoEbDWylSjUmNspZoxd+5J0l8CK20lKGVN4efLuPc0glz9twPnUwVhy9SBwjRcC-ZK65wuU3jjzcqIN7LyeuizfDsV86UoVvTokYcfozRvO6D88d4LI+Qy3eKg96eKe79d7xvtwHw3JlJ6HOoMchccKV3rNHpbyPyfU-LvOXHwPzpjdhxyck9PBes-u9AITAOW4y95NgZ9LQBq9evZWE04JLS2lJ3wmthoDvi+T39bSiX1fPcj6MFSyVRq42Or1y0ePQeLaZot+PyP9b-dF8VCX6ZsbQ9V-Dy0SPe-lWx7uYPnfk9+2Drt4flYpQb9tKtx0LQ+gl0V9XfA3vi-+d97QqCtrujMUnugelTL-pMI7mZMEAWrZPZE5C4O3AvOQPDF5D5C-rMlhofNOmwG0siNwKAUJAtv8l1AoCntQJWI1HXsiCtoaEFE-iQdQGQTQJQW9K-O-g4AQTeh6jmBDsQbkAoIQPgOUGwVkhwXQLQQ0O+GkhkMVBgW-kut3uIV9v3gPoDiIGLAHgePQEMu3s6EuvkiXC3sUjQf-qoUUKAWYeYbEB-lofIJ-GCDQTZv+k+n0t-OErIQnkfm4QxAigvPGh4WwLLOJs0D7KGMsHNnxtAZuPgZgnAQ5M5PTN8pQL4CQGgYIDgb4DVDFuPIsoAaLMAQhqEoYPrvHmxkFFeqAUUW+l4SUJeqGnJM0C5qLl9F+jOD+qcmEKUX-m5vkUNmkqMN+twdUV0RAeSt8p7rnq8mnu8hnmuhfmUeXMGkwIJl9PIV9DinCiQbUAvgbrUUUBHtzm-pse8n4WAd0fsasMfkcRsbCqcXirsfHqlpxBPtPjSkKhcTjMQT6ikULG8QGsbBMHxi4YGGEZqLFnwVDlGoavanPqapIfxsTi0e-geDCfvufs6lTAbvjpRFBBJu8AIG0f0jLP0YyA8usSiQajGmfgvAmpwNiQxlCb0sDP0ZSWiSSejAic6EFESZHP0dFuRBDnidMEFK8Ryu8W5iBrCSqnSQyVmLFtThPH0Q4EfDsX3GkkhoHMmvoOqUsA-vUZkCuE0RuBCJCCqdHhqHCNwMqY3BaTsTeLqawmRPcrkfKtyIwMIaQr7nAmAV8UyX8eKQCUAsCT8gSdLs6oyCPrPjKUnAKTWoLD8X6v8aPpQHqX6KUMmv9hkXhpnO6d3PwHouQqiCYaidSQ6vCSoaoYYHmZ6YWQYu8AJLcI1JPnoapmkmWXCQehMDZpEcKSCYHDbt6a7vfkfugoOUWeVBUtbE-FmUxt7nWX7mHrdrWjuM7rbrFFOVYpAVeM0MmlTq6WlhvqvoXiVpJqAN3jJpmm2h2rGeSI2N2HqJGTWQWS7ozMtO2r4GdqGVSOaWsrPLUEzECDaaqYMA+TwY+oGBSd3lYc6CThoXztoQ4beNyHqNwL+R-ABRceMYeT8KfuWVvpqTXk2WCiyd-IZhSX0p-pnhrDBXpHsc8ZzpHiHhiaygbjjI2OjIyBScxV-GdD-nKbEEfGrl3N-DxXaprlub1LWBcUxEFOjAxXDDnpJhAguXfpOhATjEJZuayeOfWcJZJSuBSbpU4rwqPBcbRQyRGjhQuGuUOdRaxYseSFpRJaybZROYYhJW3isBSW5XpaZTRRARZU8dTngLTszEoIzuzCzlzJYBzuYKvKsfoPDIRagRppRkJoqYsrXuwYYc3kUtwNBRpUsUSmKgIUISIQHOCLRehE3oUgagVR+TJZ6rBgioIcIRodQYRYyqho4VZGVe1aHJVRegYbVcYe-oRcShCjINwFCjunqq-NeXgRNaCCRVNdwJis1fzLYZWIhUMjIMtYauitNboNhWWsRT4S4m8EjIeuSEFOglMqRQxFVaGddReoLBdcNpyYPILihuOquQxFZB9dysBo9X1H4ddcdueN9QBiepDQ+ApS4Jyl8Gsm1JoTtfYUMmxcVYGDeJZdhv9KWYdrrljbdVsoMHjRPEjTlo1CwHgQUp8atuqh1gmFhJDE1ecI2JQDHImWjbtSaoyHuXFaJMRQppuSURTLWH+v2TwCaWLVJRqXNZ+gUvpSYcppEIUKTTDYMJTptZxJDP0arcVurUzRBW6o-DrQeS8eoaHAhRjbHhJeLaeOLSwOsI1CTczYGBwG1FzUYA7eEBpl7WID7U7ZcbEKUATCLUdnLRTKMS7cYGjaHTEM0IHT7WLeEAADzAgnxB3Pb6aJ1h0tCkDmQQgAAqVsRFdAvgggN6vAKqTYOB1AtQzQ4IoAAA1DNlWZRnNN1r7VQsKu3c9S3e3a2QbN3Q9sdhMCEYXcXeCGXfgP9MQI5NXWILXSakzDSA3U3Zgm3R3f3qPW1D3WnTvYPTvSPV3QfePSHadR5HlPpayZuQzeSJTQHmHFbNiO7dMBPNWbbNHSHSGR7VqS+mne3h7i-eiNiK2TEFTSjfNLbTofGnse3s0JudnNtMA+YbMLfCHa2cg+6cFr3RfKMTeFfXGSxIKFDnztnFzW7YIb8XAw4e1tMNEQQ9bFZLZJbOUJek3F+bNkKQ8o2JDIyESQpgJdyRXN-fAvrWLe-sptVWhPrYUTTDwzFrNprQmHzq-UQAhsFZbR5M5VQvfRJb1I-UiIsho+A9o-ziGV-Xg7-Xnf-abZPNqeg2hKA5WJoxA6odAydPQ5jfHvnU0NSBJag5an7a9qUPBNtE7b1AE0ZhI-g2nTaHaCQyuDqIyQYJQ2ldzbQ7iL4yaowwPkXTAQ-XEXQBwyIFw59OkWJdkdqHw7GAIwUkI4TSI8FbGEFPE1Iw7TI8VnI1eAowxIbYDMo+RAqQA7-h45Y7TKFa-HTvIBFWzMzpzNzNgPjQnKQeQawdQQ4ALssXmugrEeCGEkwZs8DYrS4Mc8wRQY1EwQOnCebjQRBset2ubTs7TIVBsywVQbM4yOgumPdXMM9bEHMKuJWUUPdRyECzEByKCzBfdRhFCzLQeLC-82KuHIi+HCi9MPdc7KGs9bi5kM6GC4UPddxIYAOuQFkdwGSxS1XYqMS7EPddEVC9EbGAyzEPdb1qoFPCwIYFVVyzy0zCsOyyuWCOCK3Yi7EEldwJ+YCAAHygCoHt10siv3WeSSsxDSugCysAgKuoE+QqtwtipWnTBas6t6ugCQjasxCqtirAAasGDwwyv+0WtgCGuos7jggACkDrZrLriroAXr1roAtrnr4kkrfr8rAbGmn5RrnrzWAIEbTr2r-rqBCbKbcbYr6dvryb5rAbmdMQsbHrWbib3ARQkbur+bQIGbxbEIcrObzrUbqBCrhbobYrcrpbDQFbFrHbrbmbEIjWDrAbhQlbMQjWsQyV6YBUZ5lzpzohBYKtgIK4ZSPmAw3As7Xz87xZ07YZG71zW75U+ALAAAViYKmUuysCu8iFG-C589c89R4k4SK0UHu1s7M2mJFDO3e6wSQoBaK1uGKmCc9WCc+9YYy2KpAHQN6CnlSzEJB9BykaB2B-++CAK7AJAFC2h5AEh2B5y1QNywAKKIsCsEc4fWH3UABy5AFHDrVHFHsT-eO7VIr7jUHCYtF70wV7Ub20+16737rHyljqTHAgLHZxzAvFfUgFy7Gg7+3HWqWQ+14Bonv7H72BA6uIon2zdAXBYg4chFDBr0aopAuBJ0x75A1Y1ZXUmg+gbmontzHAe8DzOzfTFhN6enRwRQmV8q8YhAvNdttJhFcFNtdh8DtJhm-apOmnC10dkDyngn4lfdZHgl06kX-HB72UR7p7pg4tsXaXHCwBSX0L2TvqfnoXssBcHAAg1DDAunR7JyIXDhkZPnpXSFH7MzWSczDOizHMmAGAQtL1FApgDAHKHw5UNwpAWaaiXVIaysqsHiU325umnSj8C34QA9DAQ90uhsYgPd83diJElxzQe33uNi2KigNwfxhhWggK23UtNa5AygygtdGQPORgBBj3-rTM7d+gD3yg2c4ILdpQAPoAzdVkO9v3hXKwAPjat3F6Dg+Sxgas23On4te6DA8PP0xgzw0EajgY+9Ygx9EIO9AhF3xgV3OxK7aPGPBqGMhBa3mC1geOutHk1P8dLeCgP3N603z6rse6lxQPyaukie-idcfPoAqcyk+gBLp6dofP4Q-mHicvoA6b4ImG-PBg20YvGmqvQvR+V1g3M4I3sU43WafPxkzQUvqQN+s65uYvEvq48urRC1VFkScv+dQPRP7drPjU7Pq7gwVRbvp9q4Ldm32l2u6p4hC7Lv8CSvw9wf29XvdACPPvZAHPivwxbva34m8IuvRu0oyfuUoIz1e6aFSfmPKfpAgkh3k8WEZv+p3vEICL1pdcmvXPSTWQcvpfyfTAqf1f+s597Udfum4IAA5Jt3usfWP0aVt2PW0nz+c-n+X8N7WKQG0hyqv9z9qZ9LN5uNtOv0W8hxy2KkIMIIPcEIPQ5DpNvG4MWIPYJhwPCItzMIvzT37-oPv+ATeB-130v+z9Xw33vxX6xs-w7-IAeAW97L8yAn5BGqADM4WdlAVnGcOjBIIeAV01RbntbznSEZQk6ve6pgLgTPUP8sxc5Ihhc6xAV2cA9YAgOoCaB+iKArlG4BR7oCn+gTR3ugJXAKQxUmGaVC5XD7E0cB1fU5DAP35nxkC8MegWgMQx+kDAweBulgPgSIZGGAjaLsEyBArgw+1SfuEQLORf5mB0WD5qgJv6hxQC8UGTiIKQLMBxBYSQwaj2GKKDosPJFQVQn+4IsOBSLXfrfGsEMDjAxg7guAQ8ReCV068OntXyXQoNte6LNwYEKMGgZDA0-MIaoPUiUDLONApAU9SiEmkEhVCMgTEAoHmcqBiAugdENsG3pFB1fVmk4Ivh8cbBwQvwTiX1DEEI+igvjHdS4HPUNBOufuPYIhIE4xM52OhEIIVK6NzAKREgOgOhpPoXMOAtwdtEQzT9mGRGGyHZASKI1iBX+dkKkTObM9zAV1NeuMOxqBwphhAdXrjWmF58FhoSNhssIQItA1hHkXYY6iwKLILQxYcqJQHwBNRGoAwCoOTRwETCcamw8YdrxeHVQF+3wqPFpFihKEpBBw+hIMAeGpk9BXnIuASQgTdQ38RGNmtKHKahxOoDAdQCIA4CkB1o7CIgM-j+F9lIcMgxbJuGaGUj8SVIMrECFkzyYjsmI5THGXGZMirsEENzHdjKYDUvc+Ik-kSOqKnYwsPyQgG0newuJPsIzUAJEWIJHCuSioQaCaVyBSi3+ig7gBqLaSnDjhzhXgr0IcbS1Bh8pVRuM11HoCYBBsfoAoCngpcNCFQGBL4B2KGA2QzoyluvEMCkh-hgDV2O6PV6ejXRocH0U8Gn5YQ0GUKHIQYE+4JYPoDonMlIhdFuj4x9ooiNGMgbmFgx3o0kG9X8LGd+grBHMZnA9GRgvRoY30bCOl5GAoUbgksULGJDhi8+kYy1JmLQhPAo21QFvDbGLHliQx0OfsbmKeAxjnQnYytraITEZiREwwxAmmLegwJ1YMnWIndx5KLikY-SQIB9CR52iGAV7TgtSFO7fIZA64k+JuLtE7iPom-IBmmPV6Zk8+3YsgL2IcQpjBgDyNBreJc7jiFWJ4qgBuMnEc8AJCES8VX2vpwxracmUWJSFBDxoQcQSVlGRigg7Z9se2QbKyN1wg4daXI3bBpjBJuCguZODGPBPFEti-xZARgL1n4gyjhsn2allQDBzIjOIvEFvBRKez6BeIdEhCWrVhGCNte2ODgKf13oHFME-E3HPMPaBcYOJXEKgOEDcGCMYg0-OcuxJklCS6iQXSCWcRgm0kpJxEzGMVkUmpAsIvEFOGnATgml4J6vZieRL3FsSbwxk0cSsBvAWSHJ0wKycskon9Zto9krMWhG2jOSfJ-TZTNXyxxJhccNouaJV0MRpikqhFLCMm2-EGk2AYElwGoBMBeAp4jAEEcOiynOBuAIgqSSIMQl3kzyHkkijSCCKMg3JrEvrKAKgH-J6JTIV4fQDGyH8rwhUjkbj2Fp9Yypshf7qJNP5uD7xieGBpFMYAATGy3UwIuV0Yks946LUBGMpJurjN++23N-sZOSniBJA547cd0DZDdAqxxUsMn+zSg4g9pfgDauM0Ao8jxw7mZNCD2pAwD5p4gokD3EWmnkwy3QRkF5JkmyUfqXuHEOECB6YZ7p3QCrpIFAAl0AAEgRwYAABBcAOAAI4AAlEupAAADyFHZAECEFr40ZAkgNQBCKakNkqpp2P0WUDmkyh4Yi0lierzShyZKZwQm-tpDfJVTq+dMzoAuBymIoF+7MzIITOZmIpOxsIqGTDPhmIyUZ6MzGTzK2lPTGZkIlmWRKSCEU6Z40p6QwBekQpWZ1-eWfQE8gASnhx4lqPzOLLUzyJpM2EUBN-FLjPGq4eCbXXlbjZUplaDKcbNkR2zLIMtSgCxNOw5C8Z3UrmcTMVnac9JwzMGSaAyACcHALeRkAAAYTg+NGoI5DBQRzExt+WKNQEGBXQU5uQKOdoCBD39I5BYneniF+l0IC5CKXOaQAX6ExE5XuexIRICApz8B6cyCJ1PcEQhuB7c8uc3PKgZz2+hEmcf10CDqk654oVINUGyARz3pVIbuXIIoQZyBai9ZOZIh7nZQM5yUJ+osgSyBY6MFIlcAongxSCHkpQGuUvLURii4gTcueS3ICYl5lRx89udvKSxBZZhAglyQFmflZp9Rz8LMmaJUaOMn5ZmLNAXI2nvUI5asGkktMcbdU-qi8SBYDQjmlp7h9AaBLwF0EgKyZHiEBcBhTlKEMF1YkNK7BvC0Qp5LAuongLYA0ZfAVcVYvCGn7Lc7Q2CjaQwWCQFzJ55MfKUHLylACia2MJCWeWgT9BGABcxkMPJLijy-g48+BCAqYiNh7suIKaWSVXDyKbJNUzhV7LNkBS3gqC3QYIqEDLy+Q78hoO1OKylyEwKixRXxNCkDT9SQ0ozOsUgGr92FNND8voD0XCKp5o4kaZICilbiOeFimQkER8SVcIZ0MhgEjOsgAAZAjljMSnxyJ4fsgmQXOKQkyQ59GcZmgpuaUzTZSstwXTNlmhxklOSiQtP15kLgilF6MpQYuKSEURZ4SqJTEulkzgCl1S4pYRSAkRdkYOmFWdFLVkay2lRix5AXL1lpj4QOQnpX4o7l38I5IyvxY-xgEMEilqSoqZdPnFWyV2OmERZW3GwsKDFzi9dlwrSWFdEl3LJZYcqUbhTBCkiffrVNX71SNFSQKbNtMEhkzLZi4jZSsF4kKsHkHSx0aHBLE2cCI3oYwUzJNnqLvZRy0cQlMWURzik4Ks2UcufZSNbxMAhxTcv35PKAJ08gQK0GvZAgTpowr6N-0wRoqgBtTaWriocDZw8J+pNZFcsajoqgBmK28dP0pXwIERcKsAcyr8WgKpFFQeGEtGMlkyVpc0NaTJPl5awnczGb6SwhtHvDAgrsteYwCek-dQVzgdaMQSelLQA5KohkQIE+lAg+l5YV6TqrjKNgnuRdE1IqrGlpiOOa2CZReO6DayiZsyu0eSpfb8AcQzqgWXQFdUfQqqDyWvmquamxio2Fq4ee0WDU2qeVX5XskMPxofBggjUcua9BVX4LDpzHIOYyG0Vnh0FU8+rP6S1V5ZWZBTb8vqr8CMgjVuIV6azLNUCLEgEagxc8rtV6QHVO07YJgmGX6z5RRUL1Z2pmX6yXOWEAudwASnhqrV5crFbGvqY5F+u4I8ucEGtWqqdZEhYVb0nAU6rVJBdedRuqjXV9wRAc5dUTIvQHqo1R6n1etETUKqA59M+mfyvPWogvyUUNgCCpXV-s6lYs5GajIxngAmIH6hGV+slmxKg1K60df62tivqiZ4FaWuCAxBM8rKu6YQIUvAXprCgV65NSnNTXZKZFGagQBBuqWMg6lES6Jb+vJBEaGlwGk0iOtDWVt8NySr8pjjg2PTvUOTPwse3YKdFrxrsTjQvyJJvB2NKIEYoRVfk1EF+IGfjY9GKScayZ+o99Psh5pksBNBYITWup54hZiiw1QmopsegqbYRImuTYshAzaaUQUmjTTJsfg8bthLgGoGIFmShwbl0mvTb5g00wD+N+ACeRJpM3cq7R3PHmp5uU3+bUy6vZFX4un5uaJ54m+gEpsRGBauir2UlVALZIzhAtbiqLZJq+zOlzCIWnzbTF7XggT+g9BLav2erhaJC8SxZIpvc3wJjN2XbzVeNU0KaUg0Wt2U1vS2DSGiD4gsc+OTEVjAVq4IrXgS02tbBNNWoLXVsEgoQu2-rSrRFvbKcJht2XaHAtrG12ZVC2Wq8ftDy3n8rIA256jNrK39cbNPOSwmkueXtK1l7ymTjpi+Wrb2MhCkLC0UcVtIjt13J7Zz33SQ8CI3i94dGovFKNbAmWuot9t8V-blM32e6cmkm1FB1tgke6Hlsv6FbHt+-Z6i9qhj40EYJgfgGsT3njMKSRGarrVxdpp4Gue8DackOoG0DRK3Bcbb6A6YXaqAHy-Qk011bGQMdT3N-JpHE40AecrZVvh9qmyDKOo1MF1lmOYaVgWprUmIEsPgKJFeIxGdIkPW+yZbwQ5OwoejEf7u9qQEUnxb9u3F-Y-Qu5UNH0xh2bbPVKu-ISkMp1PUdtSOsldwFV2pD+iH7RsDcHEE0sXRjIAAJwnAJ47uyls8qMAkiKtPEF0c8rkwt41Y3AVdZSMaE3jdVRoyiAOBcAaYY5pawoH7raQj8R+VkNALnvdW8NjR9I2IBnrf4fBDRDQDPWHpTyqwgJI8cAi4B8izVUmYzYvSHv91ATq9m4cWq7vm3ksXRzCyhZSxoXDYP4SamnWTJh1w6zdnQKhcPqlQkrbdUA4voPuoUrFzw5W75MULe3VAioJ4MgJbDWSId2KZ5VoIyHMG+AxBEgtwMpNf477+Ax9I4PMvJADhKCpAA-TB2V7qQ1kXtfeCGRL3ghvIPkYoaAH34Cwk+9+tAuqwRBbqYgJeiAeiuOAKihSLEAcDeveGfCp4SGnYq0Hj0xAd1kiRdYetPUrrFq7-cvVSI6j76csH+lXt-pNTwgTRwUPvZSwhCAHvIjUn1YICwOiA2D3kfyEgcL1sQZ1FetvW0gAO8GQDQAjaOVPPa8G+D8oyveNJ+XzjGdgUkuA7NULwGgBfW6wpzrRE85WgAugwOLv+j+t+cn2gbe-2lTa6ftAe5NM-FjUzTP0hNIQIYEciqw79UCmII2FP1Ahz9l+4oTfsR6eGH9T+vVWkr-aWHDDWutqKNLsOhobMSaF9JDDTLP9wQDkIin1jmjSTmAskaCKETL409t9qIheOiKJW1Jb4KR8AkLtMNRtzDMAlRR5PYl7hfwKyxxrxPUj9Tc+dREKTjhsWJ5OMWQQgC0eC0FIDJ-04Y7JP1LqSssQhXLI8GGPrtWjYOh8TSPYm+j8JEE2YzljWTFrfwixo5TEDRyQhxjRkqFOL1MmGSTShAUkG4MaO2TH4kxwZSAJuOfaGg9xmqV5PbGS6GgXk0kM8djBKNp+vRgSfBpwBb6blI-LKfoEl0AAdLAGws6Whx0DMgYIBz0h3atnWrGNCNntURUHjANUCE9oahOgqYTrU+E4ib+VMAPhqJyvspIPD6BeAJ4cAj0CwhMnQAAALwvAxB4TFhKkyibRM1GegXJ7E3pFxPghX9B+rYahAOguH3g7hzcFCf5M0nBTubZvp63ICD0WAg9ZQIPVP6TAR+aYPAEScS1KmkxApuk2qZQ6amrI2pvqnqcf7in-IQAA')">function unify_match(p1, p2, frame) {
    return frame === "failed"
        ? "failed"
        : equal(p1, p2)
        ? frame
        : is_var(p1) 
        ? extend_if_possible(p1, p2, frame)
        : is_var(p2) 
        ? extend_if_possible(p2, p1, frame)  // ***
        : is_pair(p1) && is_pair(p2)
        ? unify_match(tail(p1),
                      tail(p2),
                      unify_match(head(p1),
                                  head(p2),
                                  frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p34' class='permalink'></a><p>
      In unification, as in one-sided pattern matching, we want to accept a
      proposed extension of the frame only if it is consistent with existing
      bindings.  The
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>extend-if-possible</kbd></span>
	<span style="color:blue"><kbd>extend_if_possible</kbd>
	</span>
      
      used in unification is the same as the
      
	<span style="color:green"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>
	</span>
      
      used in pattern matching except for two special checks, marked
      <QUOTE><kbd>***</kbd></QUOTE> in the program below.  In
      the first case, if the variable we are trying to match is not bound, but
      the value we are trying to match it with is itself a (different) variable,
      it is necessary to check to see if the value is bound, and if so, to match
      its value.  If both parties to the match are unbound, we may bind either
      to the other.
    </p></div>

    <div class='permalink'>
<a name='p35' class='permalink'></a><p>
      The second check deals with attempts to bind a variable to a pattern
      that includes that variable.  Such a situation can occur whenever a
      variable is repeated in both patterns.  Consider, for example,
      unifying the two patterns
      
	<span style="color:green"><kbd>(?x ?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:green"><kbd>(?y ^expression involving^ ?y)</kbd>
	</span>
	<span style="color:blue">
	  <kbd>list(y,</kbd>
	  $\textit{expression involving}$
	  <kbd>y)</kbd>
	</span>
      
      in a frame where both
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      are unbound.  First
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against
      
	<span style="color:green"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      making a binding of
      
	<span style="color:green">
	<kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Next, the same
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against the given expression involving
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Since
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is already bound to
      
	<span style="color:green"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      this results in matching
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      against the expression. If we think of the unifier as finding a set of
      values for the pattern variables that make the patterns the same, then
      these patterns imply instructions to find a
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      such that
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is equal to the
      
	<span style="color:green"><kbd>^expression involving^ ?y</kbd>.</span>
	<span style="color:blue">$\textit{expression involving}$
	<kbd>y</kbd>.</span>
      
      There is no general method for solving such equations, so we reject such
      bindings; these cases are recognized by the predicate 
      <span style="color:green"><kbd>depends-on?</kbd></span><span style="color:blue"><kbd>depends_on</kbd></span>.<a class='superscript' id='footnote-link-1' href='#footnote-1'>[1]</a>
      On the other hand, we do not want to reject attempts
      to bind a variable to itself.  For example, consider unifying
      
	<span style="color:green"><kbd>(?x~?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:green"><kbd>(?y~?y)</kbd>.</span>
	<span style="color:blue"><kbd>list(y, y)</kbd>.</span>
      
      The second attempt to bind
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      matches
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:green">(the stored value of <kbd>?x</kbd></span>
	<span style="color:blue">(the stored value of
	<kbd>x</kbd></span>
	)
      against
      
	<span style="color:green">
	<kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:green">(the new value of <kbd>?x</kbd>).</span>
	<span style="color:blue">(the new value of
	<kbd>x</kbd></span>).
      
      This is taken care of by the
      
	<span style="color:green"><kbd>equal?</kbd></span>
	<span style="color:blue"><kbd>equal</kbd></span>
      
      clause of
      
	<span style="color:green"><kbd>unify-match</kbd>.</span>
	<span style="color:blue"><kbd>unify_match</kbd>.
	</span>
      
	
	
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-possible var val frame)
  (let ((binding (binding-in-frame var frame)))
    (cond (binding
           (unify-match
            (binding-value binding) val frame))
          ((var? val)                      
           (let ((binding (binding-in-frame val frame)))
             (if binding
                 (unify-match
                  var (binding-value binding) frame)
                 (extend var val frame))))
          ((depends-on? val var frame)     
           'failed)
          (else (extend var val frame)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPE0GJWqC1AFIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKBl8JQAAHy14zBY+LqpfV2WYh1vXUhYfB8A4IQ1Y17Xdb9QX0kyO2TdiM2ndSMcNTd2nDoV+4xAkYQGG3MFpcoHY+iDuWE0FrDI-CAAyZPen6QYk5HdkY+YMR7ph-nnY+r6s4G4GBdSPOQ7D0E3asugS5qyaGfMQxfGV62GHwUXG8+v2caC7aiON-kIoDyuGAtagxDoT66Aj0eqKCwXq9qWud0jqzp9n+edP2ied7n4gF6FjvLf-JfXyHjP9BvYekz9yYD9bkG3Bn4-T-Rgfr4rh+7RHhrMefNOKC2NEIGcFRlBsB+llOgP9lgryruQYO69w711AOCcBp8oEwLKvQZuhdOLYMgSYPBcCz6d0vvbX+8t04jHvrfQBstn73QniQhguDYGxW-mXRBf8mGP2Yaw6GE9Bbgw4Jwsh3DnAINiEgoONd0Fb0wRIxqXD8F0EIRPNRUjoEyOyu3KhciYg3wYY-f+1CWHAJ0T9Mm6jpGaNOn1ExuMEyWLvo-JOwCiEeUFjA5WwhyBi3hoQQI796CuIUWvUOyjjZWQCSwIJISwnEAiVol+sM0QfSScE9cWNJBkEMFEiuNxsRGIvt3XuJduAeO8Zk-miTkmW2EL4EpdCPHCJ8WI1IIkhbMC0Hvdp8dkGoNiXXFR4I+kfCoMQPe2jX5uKSCk8JhhZF8PkQI8xdpvEFx6QwN43FUQ-ARqk9JwzAyrxQUoiZ8TQDGSKFg+gRznAnNCas5wCyskqGeSshgqTM5X34XQ8ODBAgyAwXiBpxDfmnNIAc+gxSNmmIrqC8FGDSRsMWYcv5nRF40OBQmNFlQME6H9os-WbRayOFLkCzZdCrljI3viqOmDjDtBPsoYgXz+aE3ZdSrlbswjL1RXXcE-LOXcu4JHMIWLvkSppf02Ze8kVX1iISragidmj2hR5KopAPhKsGSfFlwraHuNvjK3V5hwkzhmcaheqqZZmo1S4ZhsrREUtSHMzQuIFWCqtSKhlisMhWI9S3b5-j1h2oGXMk1QqhIKJdlkd13SvVNS5F4VxSzA4xOZRg8E7APBeB5ZxQmRblBZuRTm4EYqK0lulaPOV-N61NXwK07NZjBhdL2emjQhAQTclRBc3N1y0G3JltvQgA7qBDs+dalwAcVlpLWZE6tXbPHaqAc2ziP0xBOpNuazV2yU1eJ1Qu0ADkp6kH3foIgLr6UjLSKGu9hBw2+PMPqw1e7X0PpRR02+96L22uvbeoDQaEw3iA72yNqROr6FOXHS5oybk7lOVZYohCP0uAqCQEQqRInobGqjcmNMcYT0oIERqjlOhZv6iuAc4ifoIcmDjFYA4qWdFJn9B8bG-TXVILWJiWZnzRgea8RFAgWCMmegwV6kMEPUwKUBNCQVpPiSDOqWo4n5L-U6MYHTKl2RUYYDRtgWbZPfxYI+ZiWBoIURfA8hRWE6yGf0sZ4g1HaNDFvrxnWHmvPmc3VkB8bnmgyH08QYTOZySBQrpRzzpnvOIYLngAOTM5AsygHARAyB0DczxCAjy4sayzIwSfSsiaK6UpFmLCWNAjYa2UqUakxtlLNGLv3JOzXgRW2kpQypvDz5dx7mkEuftuAVamCsDrqQOEaLgX7HrJWFzzccYtlRU32uT10Qt4d3XnSlBW6dEjDj9GaPK3QSr23BZHyGQdxUR3TxT3frveNm2rvTZMpPQ51BjkLjhSu9Zo9lvPd+-95d5yPvXedLNsOOTkmA6hyDw7oBCYBy3AjvJsDPpaANRNtzzomnBJaW0pO+E9LTC27Dye-raVNdR8dunRgqWSqNXGx1E2WifZuxbTNS3GfPfrZdmHio4fTNjfdlHj2WjPYl8q97dzqdi8nv2wdG3pcrFKGrtpK2OhaH0EupHq74Hk+55VinaFQWjfRsUvdB6qbm8mNtsywQC22Xsk5Fw7cF7kHhl5HyevZlYcPtOtgbTkTcHt0JRjqQwnUAUH96glZGoY+RKxqC-6Ew6-+V1RPNAU9vVfobhwUeb0epzKJgWwp9BgMUIQfA5Qi9ZJL3QDPhp3xpIyMVIPBul2k9b1TQnKwEZI1DhVg89AhnD79Eu-JJc8fFPT5byn0x7cr9X0UI3V3J+fzBOnmzWfkNguBs42sowaRsFluJ0ofT0YIoXvG8J3evsq59qGZYDmxMNFd5uSPmCPcHJnJ6ZvlKBfASAA9BAw9fAaoYtx5FlrdRZbcENQlDBJtPs2Mgor17cUC31X8ShL1Q05JmgXN6svov0Zwf1Tkwh0CLc3NECz80kL9KDy9cCaCndyVvljtwdXkAd3kgc10lcMDy5g0mBBMvpe8vocU4Vc9agucpt8CigntSsDdpD3kH8HdaDFDVhZcVCpDYV1C8V5DPsYN+YmdWcaUhUtCcZY8xYFBfUhYLCA1jYJg+Mj9VRwJxwAoq9bCYFDV7UOdTV29YwgpJDDcDx-DJdFdnUqYptvDIxHMGxJN-oIiY0ZZGDGQHkwiKD2cpcYjOA4iGMa9BY78zocjI5GDgj+MK5yjjZGDotyIq9M9phQjntmc3MQMAiVUE0CiTCVw2JoZsNa1DVRsHAj45C+40kkNA5k19BJilgtdCDMgVwSCNwIRIQxjXsNQ4RuAGDNi1lZ45Cbx5jWEyJ7l4D5VuRGBG9SFzs4EHcbDijUhmdvE3Cfl3gBAZVGQ6dciTUHcGia1BYfUwDHCOVLCrUHlShk0Hk1hp0T5M4rju5+A9FyFUQl9UjfiF4E0h9N9qRESbiUSDF3gBJbhGp2jcSrxOiojOcrURFCgv83iFE1s7j9tNcZd0FmTUTyoKlrYn4YSds7FxRCSLsHtYwFI65dt1tYoeSrFncrxmhk0ApBiJ5jthdod1pGxScZNM020O0k4mJGxuw9Rvj8TkS9tGZlp21fAVMYhGx9iP5agmYgQ9jG4ti5CjSK9H1AwwjScN9nRR94SxYd95A99bxuQ9RuB7TDjQgtDOCzC5dT8ujojWUptB5SlSST95ZGD9BDMwi+ljdgcNY-S9IFDTDOJjs7tkzrCoJGx0ZGQwjKyv4zozdCjCgj4Bsu5v5Gy7VhtZTepawtCmIgp0YyziswdJMIFhSNdJ0nccZ2yZTszOSiSOy+yVwwilynFeFR4tDizCiI14yfhJSWTCyUzhDyR5zezsyjyuTDFeyCcR8yDuM-gpyeFmztynddy+iIo0tX4Mt5AlBst2Y8suZLAitzBV5xD9B4ZpjQB-cNNKMhNlTFl0di959cciluBfTZyRCiUxVch7DG8RBm8CxwRiz0IcdCkDVMKrTBzPVYMEUCKm808YLGVUN98rJ8KG8mLX5S09VX5-kKLF9DcYLiUIUZBuAoUd0+KsldSI8RLQQT8xLuBMU6L+Zt9Kxd8hkZB5LDV0VxLdA4yy0MzSiXE3gkZD1yQgp0EplT90ZSL3jzKL0SjbKzp0YWKUNx0dx0YrITLaxeKbUXK+oH9zLvpKY0yAMT1QrzxDLitHAvg1k2ogyNKQyhlUycLAwbw9yhiciFM0rLKtlBgsqVS4r8BjAmoI8ClqzCh8q6EsJIZaLzhGxKAY5gTcQJ8UqTVGRFSwLRIMyFMZS0CKZaw-13CeA1iBr+ypipLP0CkVyl9lNIhqq4wIrBgaZprF1ZrkCyMIglqvS3VH41qkKuDEZAz2qp93tezBrTxBqWB1hGo8rlqiUT4xBmqjBLrwgNMOA2pXrrrtDYhSgCY+qCk3qqErr9NHdbqyrlcVcvqXrVAQaL5hUAAeYEZ6n68Gm-FoUgcyCEAAFStjRyEF8EEBvV4BVSbDD2oFqGaHBFAAAGp7lcSDY5ohQyd3r6bMErIOaZ8Yhma2pWbQqJhxNTJsa3dwR8b8B-piBHISaxAya-iKaZ1qbMFuambKMWaZA2bQbwgGb7LaaGaebWtDYxABbfqYrzA8oVzsyZTqzyRirKww4rZsQHrpgJ5DAriEbrYwa9R1oVgk0X0Bq-rGcrtHaiAcyKTudoFSqTozrQyFCZ9mgZTs5tpA7DbZhb5frDbE6PaiJ3qbQ7QzaASWJBQa8Kts5mr7r7CQTY695faqdRbNwbaAC6BLZyhL0m4bTWImiHlGxIZGQcrgbWzqi6F3bbZIY5rDdlMyK0Jx6trlNO76TYsaqEwKtQ7navyeqmQP4rahsqFepbakRFlV70R17Ks3i3aPaJqKYRrFR-bXZU6CIjsQ6T7w7V9OV4qY7gzzqsT46CJE7ezk7LV3rh9Sh4Jtprreog6Zs8TbZc7tb86shC7+jGb+xS6rty6Wqq62qv69866f8G7Pa2ArJbJW6RB27PpIDuzYDtRu7Yxe6Cl+6MTcq+iQiK5R74Fx6BrJ6S4cSI7Z6GJ5qeGF6YtF7HrvTn6naEMN66Z0tmYAK2ZctOZuZsAhiE488k9C808HAqtRC810F-9wR4989k9uUL0jGNHGoE8B1AjFt08INj1u0DrtHaZCp1GC9U9fzGR0F0xrK5h7LYg5hVxeGihrKOR-GYgOQgm-TrKMJwmxqDwomfGxVw44nw5EnphrLnZQ17KsnMhnRgnChrLuJDAB1yAYDuBinSnibFQCnYhrLf9wnf9YxamYhrKbhmqp4WBDBSL2nVBOmmYVgWnhiwRwQ6a4nYgoLuBrTAQAA+WCjm6poZ6yzycZmISZ0AaZgEOZ-3HyRZ6JsVHY6YdZzZ7Z0ASEDZmIJZsVYAVZgweGKZj605sAPZpJnccEAAUlueOcefmfeYudACubefEnGe+dmfmY02tP2beYAEJJQQX7mNmfn-dYWgRIXXmRmkavmEWTn5mUaYg0WMmxUkaARVnQWtncWgREWoWRmZmsWHmwX-c5n8XAWaWSXuAigyXTmZnKWCWGhrLoXbn5nChyWYhoXYhoL0wCpkjzH3HiLpTLrAQVwykfMBhuAZWTG5XGYpWPieA3GNWl18AWAAArEwSgJ0pVjQVvMFmJvVlPeyjxA-IZoodVzR38tMSKaV21xqEhJ04ZrcMVd-YQeywNp1iO1psVSAOgb0P7cpmISN6NsA0NsNtpqgPp2ASAcJ3phgdNpNiOlNjpgAUTiazYLdzYpOsoADlyAK3bmq2K2oHcTtWqQXXvWJzT4BrFWVhlXhRyXtptK1WvWNDmBHUm2BAW2h3JzbdO3phu2wWHWLxdWE8LGJ2R2Tghic9x2tG6Ay8xBw4YKc9Xo1RSBw8TojXyBqx3aupNBX6rxx2rGOA95bHtHp6Gg9092jgigjr+ZpwsQkrNL40YKAyiKa741DN+14T9BN3+Kr7DbF3jHC8OFA6X22y4TkYoOZLDWTXTBBrYPx2OFbcy3YgK67CHCQOF5aYOABBiPd3DWTkcG95vj4xCA-2OqsT3Wfysk-yssFGOZMAMBN6zKKBTAGAOUPhyobhSAs01F3Ln1lZVYPFpO5TdNOlH5FOdbMEGB9ajaNa2kFPBS-hn4Vj6FHGC79OOAbFsVFAbhHD58tBAVjab6gpyBlBlAyaMgysjAo8XOfmmYGb9BnPlBs5wRabShgvQAaauaGaAvCPFRgvG0HOL0HB8ljA1Zjad3Bq90GAkufpjBnhoJl7Aw+axAObwQIQOb8LrPjBbO5DlXMvsuDUMZo91P4RwR1rpRkvGo8cFB-Ob0ZPZi91tDQvk1dJvt-E64BvQBU5lJa8Q1XYbwBvwh-MPEFvQAUXMFMNBuDBtoJuNNwRMNjJShBPnOZxRPYoJOs0BvjJmgZup5Ka51IkJupvVxOtyD+KCyHveulOZdSutP6uyquuVXBgcCFv1PxNaatOFzRtJjW8CxIcTceu1pQfVxweOa-vOuyBuvlvWCQedawfrARu386AOvcpQR7K91Iyiecv0fSBBJtC4csJLvFi0eIRYndi65tveuEGEeF20emAMe6fad1aSZGfdNwQAByLTvdEriXozorgWgbtr3njlUgNpZX6Z9KmYl9T6OTzcbaNXmL2MayoQINqyYIPWhyHSbeNwYsPWwTDgeEL7pQ9rqnwH-QfXrn9353hrvnmngX5nvX2sFXx3G8T3pXwP600c8wM9i95QK9mce-MJDwFdXAmTtXWdRbRDFccUt5tP+7rRamN7-g85RDZD2IZV6P9YWP6gTQRg3PJPtwdLlPx3nQl7lPrPv1vb+yyH6pfuRDAX05SPlwNXs+X3eGOvrlNwFPx4gwW7O7jP0JKoiTHVpdJOoEFcbvsbfuI3Iv+Hvv6LVx+v4wUOe3eKS14fn3ZgMfxPifjL1gvfw0IKFfgB3b2J9vrCbaa-lddeaPWpLVLIT-63sf3LyGdoGT-KhEFxSZv95AN-b-uXiM5gCL4QXCvpe2r7x8GIBPJ3nVWg69lS+MQcvue0r5x9a+AA2-rej74C8sBMlJuiQNgH7pO6DJWwtDz758YrKYqTDNKkvJQ9xs9-ekrQ39AVwB+S9C4vzDAIkAp+GvSeC5gX7t9tomfaBr-lwLEM7IQBFwO9zdTgFTGbXMyn8XEEFdA4UgwgJt0yrSD5BBDIjDZGUFe4WgO-DyNoMdQh5FkFoYsOVEoD4AmojUAYBUEKoL9wqkGDQVP125ODqobXTwS9i0ixQB8iGXwQ430B2CzWTfQfgLA+IQJuoBuIjPVWlCkNQ4nUBgOoBEAcBSA60dhEQF1w+DmiMQWwvBmYHlCKQyRZ6DJmJgvRGAuVUJEph4YAkxGLgeoRpkDZuZSgDgLISdlyHG8ChigzGDwzCw-JCAbSSzGdGeiH5K8CRf4LYQMGL9b6FcLCLkGmGu8++3ALYW0mMGGCFhjRJYW8U6HWDCARdJeucP2Ep9EhBsfoAoFu54ZQ4FQGBL4DkKGA2QbwspuvEMCkhohmve+lCnb4-CPhocf4U8CM7v9LUUKXAQYB84JYPozwwMmCM+FIinhREOEbB1xJoiIRpIJyo-mPb9BC8eIowN8MjC-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-c-Gkpu8MZAABOE4BPEqbvDc1RgIoYsit1lNc1cmPHGrG4BrqiiM-WbpfDjUnDKIA4FwBpjRl4MigDutpGLzF5WQ0AUe8tYsMog1DCgoe13h8GOEh6eI1ux6X9lViPSR4juFwD5Ekr9FrhsQUPU7sz2N1uANwMfqHpwmdAMFWC8-B-E3U46LN-ExzUrpGa16ym9eqVJgkm1R50FXesQueBS38wSBWu2vET34AngyAlsNZIm1BU6tWgjIc-r4FH7j9k+xPaoEVBK5HAulkamvCnlICz6Y2q3dSGsi+r7w3iie8EN5B8gkCqF4fJIdvoDwrMEQnOmIInrD5+bWgxwUAAyQiAsQBwQ0pgG4JVhTx-1chH-cHsnWSJ+1c6pdUOtkpu8U9A4Q-cfrAKn6JI5+k1PCDOHF609ZTCELfu8hMgzVggCA6IGIPeR-If+pomxHdWp7jdhBm-VQYf2bKNo9EpmFQeoPCMP9BBv1P6LOX7KjlkEknZvi-0naQJlOlIWVlaAM6DAHO7SmC0qwijatbvaVAhKu027k0z8egU-L1QYkhAhgRyKrC338BA1AgJfUCBX1r6SBb4hrhPu3261d9NmehiXF9ZqG5D1ITQ09u0OhobMd9LIJDAWKi8HIAktQHNBPHkBZI0EZoBIbaTSGF4qQmFb-xGDBHHcHUFncoeWVmEB5Tc4ea3MeBZjTw-SqDaAG6HlHGhO6hTFmMOol0DA9QtbiG0ZIVwhFzEhsefibHv7cSJRpZR+1iw+EniPc08BngpLTzZ5SRHVhUdkzyZMxnQWqQCTUwpimjnhDUDbLaMvjYx3Ejo19CbFC7UIsuuXSWK5kYxejdR2PfqAHC4Z4SBGeBL0dqPz1Fq4xyEBbLw1iSg28ROPa8boTHHij8xvo0IJwBj71lYvIifoHO2gAAAOlgBIXFLQ4rgt6MEG67JopmDzVjGhAj2qIZ9pVTQVgGBN6LQT9y8E+duhOwmLlIBxEzTzfEezeAJ4R3D0Cwi0nQAAALwXZQmBQcJikzICROZGNm3AVk+ib0iYnwQaBnEzVFQgHRDD7wEw5uFBPkmET3Jqk9izZ4589aLAPWsoD1pBtJgYvNMHgHxN+a5TLwrkzyeVMd9ojVkdUxxS1MO9hT-kIAA')">function extend_if_possible(variable, val, frame) {
    const binding = binding_in_frame(variable, frame);
    if (binding !== undefined) {
        return unify_match(binding_value(binding), 
                            val, frame); 
    } else if (is_var(val)) {                      // ***
        const binding = binding_in_frame(val, frame);
        return binding !== undefined
            ? unify_match(variable,
                          binding_value(binding),
			  frame)
            : extend(variable, val, frame);
    } else if (depends_on(val, variable, frame)) { // ***
        return "failed";
    } else {
        return extend(variable, val, frame);
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p36' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Depends-on?</kbd></span>
	<span style="color:blue">The function <kbd>depends_on</kbd>
	</span>
      
      is a predicate that tests whether an expression proposed to be the value
      of a pattern variable depends on the variable. This must be done relative
      to the current frame because the expression may contain occurrences of a
      variable that already has a value that depends on our test variable.
      The structure of
      
	<span style="color:green"><kbd>depends-on?</kbd></span>
	<span style="color:blue"><kbd>depends_on</kbd></span>
      
      is a simple recursive tree walk in which we substitute for the values of
      variables whenever necessary.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (depends-on? exp var frame)
  (define (tree-walk e)
    (cond ((var? e)
           (if (equal? var e)
                true
                (let ((b (binding-in-frame e frame)))
                  (if b
                      (tree-walk (binding-value b))
                      false))))
          ((pair? e)
           (or (tree-walk (car e))
               (tree-walk (cdr e))))
          (else false)))
        (tree-walk exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPMVq1IR56H1uwC7rp05TCi+FgA-MJuBgLX3jAUMyGzLshDkGqxB1KAozkLvTCsDV8yKdJjCgGtoAGE2qprWgP8bSy01ZSaz0M9bEsw7DRkYHUeuQJ5auGbnoCB1AoGfXyikTeoB6iNGaHUNBYQABcoBuaaDKKArSfZLRIJQXaPB6DC5UOgSYWhBC1ScmAWQuYwYGGfVVmbVQz0XjIT0MvScoANYhzKkfLIoA7hiN+gAKikTIeR1ZQgBQ1tQR6hAlKgMkDwWYujJq0zCKIughAPBKJkawug7CZCc30Zwgc4jkpKMItUSg+AP5mIsQBGRjwsFNGIC0Ze1R1wBJwR0aonQiFyFkMY6ooiGFWKAaQEBdjJD8FmDucxrimQFXCJ4xBTZkFXweLI8JQS6ghPyYLCpLRIk1OifIOJPoan40pIGBheTGm0O6KEPpNhYr0G8FMXRDjDGzA9Euap1hTE5N8bIlJaT7FZODM4yRAE3GFA8V4+ZyE-HlMvtgypMywiyDdIGdZgisjTGYW0-Yhw9C5TGSfA4PgJmgCmTIRkty2l-McWUK5uTukpCabEmQ8TCiJOKVA5JbDUkfOyT45CWz8k7KKZA0p-ijmBOCZCgAkNUc5LxYJ7JuVgQl-zqgPJ8DS5ZGTJmLm+b8ql-ykXAo6JS6wYKWl3JSMSzpMK6iMs9CCgqAzQVAglQQaqCU6D7HIKQeYegWCnPkgc+EGitG7DhHy0IGCtXaL1TYQhbAynwhiLIRgipjX6vEMM61tqTVEMYMwHwLBCwAFViCPXLgAd2cPvT8YgAC0IbOHIVUTYaV645UKqVWGURQbD4LNAOba5-wmSiJvlY5NmIM16DhIanVWaYzn1PufWReb0JKMLZakZ1Z27po8DEBKsQkI3M+Uy5e646Uds0l20VWc2QtsvjEHQC5jxCNHW21Yxj+59hneOoeoAl26AwkuPQa652tPXIGbdK7t2SBiJIfAkl-j9tmGepEPaIJLMvUwG9w6xB9WkpfPQD6vlXvPbe28dLm2tvHR+5Mr5j6Dumd+p9RE8AIQYGeh+UA4CIGQOgPgPAAGqhUIuBysItTKD7hBCIsgFBKCmamWIDI7kYPBn4O5hCfgkko-kg1GRtUgXxF85SHYCREiROUWYeGmH5Po1GMtcZzyoWDelA0VGiEekGmJxszYpO4eIPhujOx+0SeU6HJjBUMFYbKlpoCV4nyCY0xEZ0mp+TlFk4ZgO9EXQ2bM2poTBURMKbHaVVODEZPMbk8leKiV+jJUXiFXzxgBOuYsxLX4PFKJhdShF0wsn00ISeXF8SLYpIyX406mpBlXbUGMnl1l+TzPCZ2BDPmbnqgGfk9Vz+PMDpYwVHnUwUX1OVfVsbWz-n7N21U119zOxvJDGhs5vz+mAtlTGw5GWnkKsjcs7HYOumpt1bVKtkyhnNDST0CnRLFV+NENcyy1lrU1JfNkjndrJhOuMg094N10pvW+uoAG8G2J+SqCoqAMNM29t3RnmDQOcgTLCFmLdgW6KIi0UoCwYLygljpeEIySF64wec3h4jqgyPT16QOyQKHVcmbRpiXE2HomWC7GoPUAn3UifEHR602ZZbgRmLkJWwHOGU5uyZ-d-LBVX1aihHhw4tAnJC7aSnCSSIX6yTR+dsrBVbvK5V4UQ7amJfWamGj1FBcIh2U43RRWKW-kYON0yzzb6pim657VyrdS6gNNADyiFrOXUvch-CN7-rnABQ5rsCFAOsdRrd0RdRkweMboEgvGidAHvxPXOXUeslF6oOm8LZhhC6W7d553N03cM-3dO-h9XBXo9XaZbJEet34+9we7w6a9mgveaO2nFz+H52EfBIwTd+f9u9X6vVFoJ3BOO8KPV7DQ-Zphc83dh7fLCGD-+MP2iAcufj9cyDlvDXiG8w+kn1pVOlA045lzZr70iZqogs713buKcQtP5LMm42KYXR4ZClI65V8HcL61jjETNMIJg-u7t-jNCWB3BjG-sYLHlYnqn-ujFLO-gtsYJ9CATvrQqflbphMgbAW6F8iznquuPgZEHAV8g-v0k-hARsBBPZo1vliPNLDDLjJgfhlQdGlKpHtVJdooCQFZmPhpDAnQS5E3ErMIZPjYBgtntULnm8oWvIgIY5pUiorMHwZIMoXKJUsrJIaGFyqADwWDHQCHPOHTtODppiHdsYqfo1iOBAaYtTFYtVoAZTO0LQnAmfuzJzHYdTFIXQrITUoQoHKLgYKYQSGfNprOFYf-jAa4Z-j8tLjYCYTkBERYdEf0LJOmowRrqyswagawTfgbuAZ7u0qKKJiWOJiZslv4WEAajCJOFUZJsBDiB2CGHqh5sZs0aZhtjUvUVKF0ZYehK0aBCOLaoQsLGAUYXvslINl3iIuzm7FYi7PzgyA-qIusgwLIikWYZEdUTGFusVtiGKqIloRqC0FsXIpjGpGcTyGPpsWKr-mRvtm7BXuVlRG+mLtrswLrk8prOoInpgoiCoRcU3rvphvJnNhNgbGXr+pSOmrgZuk6n-nZB3jUW8WVhPuCWyPZlZmgZdLCcYqIl8lYn-nia6LHtvhwUCFZuxkZkynoOSdqCMZkCdl+rCQ-uuJQdMRCYFopukWhGFPMcYrSSyfSZhI0UphkW2GKaVoUH-pKQKVJpSQyA9hiaAczDMfSVOu+N0clsfjSSoXSZSYMdKfOLKaqbQn-qaYKfOJxqqbCeqVge8DBnpHBswGwIhpwChrwL-BhmyIMP3v8FRHCdsH9ualEEuNiWIGloTnLjlhjLMK8YSbui1L9NGDTnTpfAzgeIDPlvGfYDJEmUcQ9s+lmBmbTvTqjqGVmPeJHFKPgIWBWVmVCAhKbNNLLtloWRjAdjWVcW6GNAdrMJ1GWTKt1EViVvgH2StONI2aAJNKOVrsoDrk5FOT3stNHoOXORtNGc4AiZmJScWLbtOb9IiciLMEea6CukbgeZxkQeuY3HWedMBp6IWGee2aqGeTbjjPeamQTEjAOEQc3phmQBrFyOuuLj8U5IJg+dsIGBqWLB2QAdeiSDBX+RFJuAhe3G9GBRbBDuesfqELAhBHSihQOlhaIgsEsGzBfpBZLq6FYpMf6TGfwijuelxnqICddn2XSmKVxTXiumRXSYrj+hYERaIRha0GRYJeerHiJTemJfDBJXBcGNJbuUQh8aLkoN8fRc5ipLEiKoCR4ByNRa5rBfpFqDoAsBxZkDTOalkLoNZR6Jnv5v+qxaeuxXxYZaXsZbINpcNiNg5VZcqnxWYAADxiKWVOUAm1F1Fe7IKFoAAqGQaaOQ2IaoVc7gMM4M2iccLQhCcIoAAA1IYbkTRtELoB4u7PpTTCVYDPCMVaVbkYYBVToFVS+Twsaivq6glXCMldQAQDIH6hlToFlZTDlatpQPlQ1SVUkdYC1eOu1aFY1fVYVbNWVQtZVfgCZM5SXO3MWsafafpQaWotVHhuMBkEpGhbQgFDsTZQZYOiITUp4cLPdS5WVgZmphdbXHoHNTYDhdQOBROnRb8RPkkYQmKRqoTDVbFW0hgpaLtX9RDaYcrKFasoBTFWKv0tgYUnhhqlRV4bRTpbrqcqEM9glWKV6sQOkPUKABpOHmECUXqqImRVYmQWRQvFgW0uuHdUJXxQdj+hiaykJddgLTeljVwdjcpc4OdRoldc6cxc4KKfpSqcdYOidYMmdV9XLZzd3qUWOdNHdV5Y9aTYbvAkrKFflp9coN9UpHNQDUDf5SuTjGDayhDfpVDX2JbSrhgsSgjQCSKrDXIeDCjTuDDejWULtRLdyk1SkOinjRGc8DRZzCDQqKbdYOTUcGrXCN6jTZfHTUiP9uGkyYqNHY-s0h7szezqzbIuzexRqdzRBLzbJfzdJULVSiLTXmLX8AblLZLQXLLZdbrVZK6d1O6QhhwMhtwHwNgO3HDtELjpQPjqjiQARmIU+blD7nCDjkjsDpqaqDvXjksAjkHB-qHGjhPP+d7KpavVZKIofUvSjm6VYrlHgrlHCKaPVTYKaH8oLoUO-daF-dYNaL-W8e-TSkA6ADSqA2-b9OxJA+xDA--b9ArKUPVag3IPkn-SkO-XGkmNiPVXg6oOlQVNg2EO-ZnUA5nW0mQ6EO-QpAsAHB4HQIDAw-MEwwwNULQzYO-UVZAzYHoFRLMMcTIgAHygB-YlUkPcPWDv0hr8PWCCPCNmB3DiN-bhrSNgMKIKMfxCOgAiOqMSOgDyL6PWAyP9mFrAA6NKP6MqNqOgBgCaOwNShwgACk1jejBj9jrjpjoA5j79ZS-DNjXjRj5qxxWjLjAAhA8EE543Y0Y9E7IuE841MHCGFR48o2I0YxFdYMk8gy42FXcAo8E-E39oU7k-479KIxk7Y1k39uIxUxE6k6I0U7MGECU3U6AC040yk4WpEzo0Y6EIY9YJEzYCGXgqWlAQ-cvXpMJTIrQgpEpKaCfAvbvTmVYZM4YFA6s0fes+hNQB4AAFZfxbELOKRM5ZPgM7OP31XaT67mNhDTNP1j1MhYD33XP46KmXG5Tv3O71XO4PNlV0O-SQDECBKJQENtOgvgscyAtAuyO-RsOSCwCQBANIsotwvwv0NaDsMACikDSLuLmLQL79AAcqoKSzo+S6S0HWVZs+Wh80sIqXM3cGc0pJ4oY5aFOSswjms18-S9s7y7s8y9dvM9UIswdlk3cz8oK4vZ8-yUzO3FjvVEK4-Xs2FD7jnOxH2cqyelgowODuOpIIc6oGoCYdEOzL9ayk88ejTlkAqOfave3SkFq5MKiGEDyWyOctok7VBTjH2SLtmanTjE6iEe+jaynMbX9bK3y-ycJcSzYGG60BG7Mwc8cxQICdGzayKwJc66EATcnb67paYGGFkOfATToBrMZWVMG-yM4SCLsEW78a86PQeOPZ6ZPVwJgBgIrZAVEKoBQJIDzIYOhApIwNrP2n2QrJ4N4IOABZHSBpso9ptuZMGJO+jnVZIGteVYtdtXO9fRjTqd8su4UIQtpOu6ORmQpFzHLtJI1K1U9WUUraQKQO4IrDhgYFDi+-EwwCVYyS+xqnCIVRgkB6AAVYWI1QO6QAmwVEBw7A+yuiQBJLIL4K1STrnOh5ocQMh98hYPisRbeJtToCtYWo1Ve5RLILe2PhKznFhzh+h1-nVSYHCKOUh8mH5S-CwIyVXFO+bWUDnLUSB8LLqsHaRDCAJ2cKcHcnoBg8rAJ2YEEIXIGPJ6AIk-CNvIJx-JaBJ+anCNvHyhgkeSmIO8O-mmO9rAJ8vh-CtnHAnGmBJ+cMagxv8Idv1ElmFPJ0HSB6RyVWxxjEsJx-u60PXp541caoVdu2KTHhpEzgeD5h5zx2YOtW0hF41X5xx94Fx9pCF4lxu+F8x1Z+l-8EWpMPVTnLMEV8sJlyeykB5nSpZ5tkV4WhA+oTCNpzxxHdx6sKXpV5x7UR5kR115p3CAAOTbs5wrVje0IQ1RC7smQCesfYfsdLA8yMAmSrciPoXlHiFlB-Azs+CWgbcwdtLv05B1CrXIKrXlyKiFiygNpvmKx3Q1dxVNeHdLhrel6BhHcVdLf+dVeMCqrTdAk4dBd6DfcApg-vfhPA-LdDtQ-AVsgmtmukAWuEHW60SaypQN68cByTV2dhSLyaend49zj1Wuf8THaE95s2AStI8cgo+UDsyx71SY+cgMfY-PehAeYxeE+0L9GpPbxAwq1qQ880Sc-OqLzqUbc6g-ZUQs+3ScjY82GFI2drZXiE-VIs2zOQ2yK0JRci98bk-hYE9i8S3vOs+yBQi3ZWISvS84iy-y+pTs8a+cGkHa8e26cQN89QMKGWgY8K+W9p6l7aT++pRjDQ7i-WCEKRse+PAleGAidT7bMW-h+k5A8x8diAd0-muM9o+eiJ90KkXu8djU-WC0+mv0+o-M+h9s8jXp6m-9c++PIZ96grMp9W+k5irgGn6i9LzVLrjv2C9fbcYG+oWm9gE0Ge6-40RTF+zVRB7-CE-mU7B55i-e+Wi8-B2Z0N5U3vafZoliAL8fkTi0C2719LzL9w4KGb9J-wVr9b89U+Aby+4+r+4aUU9pR9sww7wBR3fWo1oVwvAAcOoA0FaBL8tu9MbEMHiV66c-+ioUctcCt6cgRk6EfnOAII6SU9Al5Nwi709bfBKi-IV8Ptmf5kUfuedKEEeEkBPxL4WQRgMvACjRhdgO2MXhAVPzzwNetBGwKIm3TLFAM66E9BzRIE-pOCP+CCDwPNTO4raQJcgZOioFndaBO-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-iLGMoOQG9OxB94lwKIIHquwHCILtpyrSiD-L6n1ioeewdKcQDoV9iPKClFsezkTDZB5wfUlqVqCRB7TkIB03ICTPWLs5r5M4rnAgT+TiKexDYxhZfOfFQKNAacThakRJkKKbA44qDC4PEVbi5xaYquXamXFc8ec0kOHn2KOlnh+cqi7hcdPmGrj7A2YmEXoF0UCQzce1bKapMkAkTPUAAGVxY0SixpQEqQFGSlMS+pskLyc2MnGcS9JDQHibZO94CT9JUICJcZKcDiTdJkk26XHhXRyTZsj3WSH2S8U+L-F4AHSW6EEmpLCl6S5nMv18lJs-hbSMyRCJAlWT0k4E2yRousBwg+pTkzYSiFL4tLnFi0sBTIH6UwiUQlC7bDksiXyKS5kQ3yaCICn-IeFhjIXFQpyWWKB0USwWrajCXsM0luy8WhmLtYrcoevYtbgwvikZT+Rt434D5M2F+StAKyzXOeiyZ6oGlscXIc0PiGtB8sgSJAYZIOJyKblTC7yfMMLHKs0loK1kZlIxJ81Xh6lVfOYrW6XKwEdyp4fTK2Y7RhAr4+wFaCgH-BwecIFFRtwZrrhcVJAH8TihwTe8uQZy1Fetyh5Sj7lgPYOlStyDYDGY6K0vIiphHbSIgIEgCBBJx6Dc4JCnAIKPIO59gzR20wwMgiWCpS9JcSw8alOXin5hVQidVacmgl2IrEbS6yYyQcm0Ay6oiV9q6gpLKqHhYrDXMMrvEcJ7JwK4gBMq8EM1QgFaZZLdxNUurnJeberj6tmCFiLVdgbUNateFd8k5XBRCqqAVV2AclKqkCdspOlbNwxViYsNArTgiKgQmq7iSKtsm6r2cME2RIao6U2TGFZqjhY4FDUDlcpNq1lrkXtXnDHVfS5yWXU9UtrHurq34HmXuQKFaFGQrJiGopIrSnhkav2a0m6DZzAEIAhNcgiinVjnVOPH+eqvFnSE1Qs6ldT6sb6ICF1HnbdQgNnWpTjVS64xHGqVU+rE13Ek9YpJOLs5MgQKxSZcS8XqTSJ5EqieUqBAvqiJb6rSYEoDXOqg18TB9XuvoDwTKQcITRCx33pOhN1j3ZNWevICKqE1J6JNdmsUVQEQNESqxCUr8UBKH8uGspVYmWmPcgNWTLDYUvA3bBINJsL+YTU5jFhDmhOEvAAteol5FyABRjRiAbwHCF0mFBPEgoEhuguNIgc-rxsnjBh2NMGmyIWzlRMbGcLGtBXxx42CUACcm7jYpsnEb8BNo5EeOptE0qbl+1gtuAFCCQ6AHIUIDboZsiHabe46lRjdQEOkiaM2rKrFUpvo2eZ5NB4LAbQC838wW5-Ch4UDwc2HSR4zmnleFowLS4yVFysguFp83EA-NUWgwmVX5VeC9qnqmUJfFWoxa+x9VELczhCWyoJAhzRzbkH00ubMVrwgBbJpK2E4Kt-mzbMYudRjDvAtQyYb8rHy2pctaKsgg1umF1bRNfKluoCIpQpBCxcmsrUUkxgNbZIs2wXClqTGBaI1aITLZd0LA9bIWuokrWVteamaZA5m-bGriq0Cr6lTy5Zec32XvLVGY29xMps216AzNFmplV1yi0Pz+UmYxxeuOcVvymEi29dQ4qQ3fa7xjop2YBOFi3JFtaWh5atrPiFpruOW54ucry2zAnt0kPbfCKbBnxF+LAyIX-mf4Vsq2oWYmmnXUrZ8GeTPTjMduh2qpVwPNc7f5Mu01Ia6ojPlH1Cx37ZLUU4Igf8D+rtdc4w2pEJfI-RXo7GpQ7fsoFmAvybAOdV-h9mcAKou0r8AHGtUdkpa4Q5Oqvl8imVedwYn2oHWyu7rfIrOEOvlDTr3CZbNdufWPIjpnzI61u9VK3ZTu7QlTWxv2c8BICDjEMrEAATg6ABQiGPhCEQcID2e78GbK49C-F8Co7TkPfaIZeIgKyzHtGqQqenW23yp8GegEbiN0LBoA897q8nBOr1SB7QehgXuoUED0R7Eos7XyRZFLzOBw0I5JwfjPT1e6g9MIyPTXtmAKQ5egeyhfguIZEL-gGoRVa5uq0yiRtMI2Hak3UAEKh9tujQA5CZVlcB9hC5YEGQx1gwa+UgKzTEArSTJvA6QLkLC2xXnwdoViO3t9iGBy9t9R4-zhZIrQrU2gUyh-OimRyMAj9ELVTnHy5AOVS6EBEvXCDDThpt9oADbvakf1F15G7rWhCXsq5WadooYcuuCgsDSp0UyqpDa7CVUgCx8iB05LupWnzrj1u65VfzjwOGy39h+wGl-rU5-Q1R-IFEIYNb2Z6gDwB4uj6o3WgCoDwBpUMgZaTSoma1QQA2wYBzgGtxDAEQ2GgL3WBK95kz5U8teX-IWdc1eAxcsTFc64wPOsHlKKDWS6CA8TfDLGIe07QgY+upxXeOFh2gu+O46Al3HoB+pZ2e+s+CmrP0X76F9va-Y70V4g8nD58Oqs-oNws1z0lxYw6Yd0BrjDdlhqjVmFepkV3q1c8uFOKVTjpdRWgVQLqnxSEJVDFijQ4QJwwmHC4cR0vCLv0NZNDD6lQOaLikAm9dgjKSaQsqBDPSZA8MjGQvFj26Cfpx7Jg-HXrkLt6jXR-WsnLgpBlDZvslA4MahSLEtZs6FVYIMzl5ExBNKykXStyIYJ5R4KOaoQkJnoztYdszdB4HL2Sp8Ugh56t9LzwTyLcKM5o0TNaMb90cinbYwjPgrYLg66x2QIbIEOTjHjrRwnmGG30vaRucAvQO9tAAAAdLACuu+XZlMD+AZBFxwh36NlG6OKlDnufBUHZA1Yf41ZsBPCTgT728E5CaDnLAK4sJgHkeMeSEBJkpeDFXSkpOgAAAXjKzBP5Qk2xJ09HCZKMYrGTyJsrKibhDv6j9e9SlB8AAI5A6ADhnwICahNQgYTHJzxq1xcbpHDYq1UgKtXO6MgRuTIPAFiYuVSmiTspsk-KdwVKn4QHgFU2qamV8mlQQAA')">function depends_on(exp, variable, frame) {
    function tree_walk(e) {
        if (is_var(e)) {
            if (equal(variable, e)) {
                return true;
            } else {
                const b = binding_in_frame(e, frame);
                return b === undefined
                    ? false
                    : tree_walk(binding_value(b));
            }
	} else {
            return is_pair(e) 
                ? tree_walk(head(e)) || tree_walk(tail(e))
                : false;
        }
    }
    return tree_walk(exp);
}
</pre></div></div></td></tr></table>
      
      
    </p></div>

  

  
      <div class='permalink'>
        <a name='sec4.4.4.5' class='permalink'></a><h1>
    4.4.4.5&nbsp;&nbsp;&nbsp;Maintaining the Data Base</h1></div>
    
    
    
    <div class='permalink'>
<a name='p37' class='permalink'></a><p>
      
      One important problem in designing logic programming languages is that
      of arranging things so that as few irrelevant data-base entries as
      possible will be examined in checking a given pattern.  In our
      system, in addition to storing all assertions in one big stream,
      we store all assertions whose
      
	<span style="color:green"><kbd>car</kbd>s</span>
	<span style="color:blue"><kbd>head</kbd>s</span>
      
      are
      
	<span style="color:green">constant symbols</span>
	<span style="color:blue">strings</span>
      
      in separate streams, in a table indexed by the
      
	<span style="color:green">symbol.</span>
	<span style="color:blue">string.</span>
      
      To fetch an assertion that may match a pattern, we first check
      to see if the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      If so, we return (to be tested using
      the matcher) all the stored assertions that have the same
      
	<span style="color:green"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      If the pattern's
      <span style="color:green"><kbd>car</kbd></span>
      <span style="color:blue"><kbd>head</kbd></span>
      
      is not a
      
	<span style="color:green">constant symbol,</span>
	<span style="color:blue">string,</span>
      
      we return all the stored assertions.  Cleverer
      methods could also take advantage of information in the frame, or try also
      to optimize the case where the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is not a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      We avoid building our criteria
      for indexing (using the
      
	<span style="color:green"><kbd>car</kbd>,</span>
	<span style="color:blue"><kbd>head</kbd>,</span>
      
      handling only the case of
      
	<span style="color:green">constant symbols)</span>
	<span style="color:blue">strings)</span>
      
      into the program; instead
      we call on predicates and selectors that embody our criteria.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-ASSERTIONS the-empty-stream)

(define (fetch-assertions pattern frame)
  (if (use-index? pattern)
      (get-indexed-assertions pattern)
      (get-all-assertions)))

(define (get-all-assertions) THE-ASSERTIONS)

(define (get-indexed-assertions pattern)
  (get-stream (index-key-of pattern) 'assertion-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCy4slCLx+NNiw4K0IayFX0ksnkinNy1WbB1mwsu08jDEKOFaKCIJl-Cqcr5-KVKsNmu1vs2eqygdNhKIFpdNttvXtAydlrWbttHoYXrxPQzmf6jsBwLekzpGasjwbUibkgZ5SUoocJL5PNAYb8ADcjvgtT6-aKglHjUGQ39Ob2q6qsZ4cd4Y7r9dkJZqCWaU86rWx019GKR4Sq1RrjT5Y2WpAJyNJVcT5Yr-Mqn-3QEPPCOTDe7zvRdLxXaN13dT1vVLW0RXRRNZTnBVw1ARcp1xcDbXjcYaw6XdkyWXMjzHGYAEhHlPc8xjQ7wbzIwDHgfJ9GNfZCfz-AD6MA1Dt2NEwwToyRC2LYjAIoxcQUHYctXzL4WxmOS5LbPI2GUARSESbhYmPcsHRoeIk1AUlmVZXhSVvR4FmMtlzM2HZ9LNUlWEYaRSDMzjQAWJyuxsx4dgcGIn1iPxSQAVUIOpCEoAB3Gg7AcJwKgAWkSlDjVpGS5KzR0VLoNTEnMKwsFgoI4scdtVxNUAYThTUkXMYqwjkGVSoSlxaqMygWTZdKiv9fxAma+wyucCqyS8lyerwSF20as81FkfhYnlXsTkFETUQnUA6BlcJuyaFamkFGSspobaDP3QiPNAYZRlAHY6AK6wwCUtFQGiOIIBgeAkFQNAuTQfkITKPJlFUItcCYBg2KcQhtDUWJhHWk7QFB4ZYncBxslIBGRFAAAfPGfJRlR5q0LGcckAmidB9xOu8EJycRqmM1RkYqOxxGpGZzCVAul1GbBQqXsGeFNHCNgmE8F94dIAE9FF49kdB5iZZEAAyNWziuAW8JQ+W3E0R6puBipUcWhgdegvpdOJ0Xxcl6WOeCwhzZ6qxha2xp0coFdKAhl3Ygt1WkYrGgXm4VCOZjIXppBlRgzochNEIQPCBJYPoKVlQDftqW1EZ4KE6TlOGDTt3jcZH5i9Tuavdp9mKcz0OtYuRdw8jnG+Mej2i+TmumDYoOo5E5H2+VMYO+EaOgcr0HipCM8OGITx+GG6hLYeLO7bWB385l4L57Tpgl5XtfCHLj3D8Xt5T9a1Q659jepFH7W29f8eBa78FL-9Bfj5v1ed9B5PztM3MeKpJ5f3drHU2KghwaGNP-ZegD2wgOttmUGOcd553Tk7Qy8DyCIJPig5wF8YE0AIUQgBZ977ewbojJuNtwFjGYZ-aeHtKG4iQbfcqwCM6bzAe-CBH9VbTwrjNUGK90ZsH4JDTgvBZBVGcGgreWCJY4ILoZKR7gZFyIUQwJR1AyEmyZItHRsiBCOEDqkaQdAVHNxhOyOgD9fb+3Nn4VhojBbiLyNo3RtM2CNHsUwoRE8RFRzER7UGJ1VBuFSDXYJGDs78DFtgx2CNgoxLUIIBgNdjGVxiVwfRhjCCJMdJ4iJRsokqBFCpds2IimKMTuvfhz9m6YJSbndJstQBExmKSWp5B6krkaQY5p59vE-3YHo6QTB9GGFaaAm2OCmCyFwJorkkzyEbQlo0pgsEylMmJKs5Ymijrf22bUmZTAji4MbgI5Zxy1maPSN4nxsCwYHFLsQIe9y2k2w6ak9R3TgqMC+SQBg+SZrVWYGCkcELGZdBHs3DRpI4XfMhX4GWXRu7bPRRC2JOSa52IzlIB52YKmd1xSYt6j41CEviaXO5pAkWMIpdrbFWyaWKLmnE3JTKSUc1ZeSys4SEY4ouTS0GuSUgKnxT8xF6Yt43XoRK6BUqVAr3pdkxladFXIoBUMNmEcxUssidsmmao6hoPQY6QFXS954NJF4GodQoV5BhUwF1xBrWLNtUc-OzqrWkixVHalldvV1C9ZQQJNqX6t1NeajVNzeC8CluqVBfrVGdLSY6jJhlkhpvIBm0hXLK7CxmWM5RWbBEJsjJUyVldV6aEFX8pZ7K61hPrZ3MtM1Io3OkC27gdhhX-KSUwFVw7eBqveTQFYtizzNqnaO9t5TtYjt7XkHlA6h0boNdmRcG6qkWrgavbgRTFbtOSUC3eJIinBTmOXWdKMlicCYHyP2RgGEogaicGU4c1J1lXSLeB8oRALFJI+u6fYmhGyiOQ7a714hQDgIgZA6B-pchnjNKGw4cmaNLgOJVV6waeAhrh38MM4ZRx8gsLaHMfI7DNoHAWtGMSdRMrQ+uA8pLZBcUwP2E7zYCz8IRz4vlbZX24SQlpNHbQLAo-s3+R9iFnwI4QIjjHbacO8NJtTqs2OKZ08wVTrV1OadtEx+OSi+5MtY-J3YP4bk2ZLnq-euwNPidspJ6gdTnANPkU06tcmvgKac4M4ZlaSnma87MKzkszG6NGdFgzDnPXC1VIlixgDrEOFbcIDi7lNh+NkQEoJqtCtFZmGJrToN5W-OEIZpz9Xsj7HhT8hl-K075aEKJzztWVCRvs6Fxz2IhvuZq5Z22WS+UJNSyNxTM2iV2Ym-1qboNC3prM-NiywRU2eCCRRw4qRuAVuS+MkTHmiOVcAiswTg87HNp631ojsWZh+WkAFTRoVwqRRip7NO-BOCgGSqNyjqQn09320E0ofgnvpiwsrDQsQhnkAHMwDLpQTDrWA3ttNCoFHkBRxQdHTBMdEDh4OiVzZIJ4kRzUuIvBKApjJ+Q07RBsdW0kA1RRIwgiEiO-hitZX2eEF630u8XBUjTMI4+agCSJecQrZY82Ni7FY5u1VmYT3Nda6kGdjTcvXMkixxhMddqVAxOAbzzwjW7wLCt1JJTac7M27t2WHYfNDz5iElBWM-l2ii+CmFCK0U53bNII0ewIOUqbcaD1Zs4Jn13Yhg9898i6Ave0sjftT30-Tre1IBYKqbI7GYoLk7876VLqKV0LPuuvgp547+Ax2Fq9U-z3Xq7SbK6KYi-5kZgWq2yfzWJkOhrXDSBHOe6GJ2rl7PmZdsThenhg+OxbefgXnfPe70TPys+N++eubcpfnnj00sUy17FWf1r08hrEWVnz2sNbuDj83NAvd5hRL7unm5JHBl5WWzcyFU5z6WRgrwtir0AN1WZTrzEwylpzf25z6igNiQRmbxHBlD6QgNOzpWgK61gN63gPMjv0dxb1wIXTQLPEHlALLGRlQJlgwIYBkl6B-yQJmHAOazawxW4EV1AW1VmwFUVR8GIMbG-yTw9ibyIF7kPG4ADgMUvQn0nXkK6HMmLzZnMjLw-DJHJGkJczWBpD8CkJdn0MMEXBUK7gEl6RjhpToHVBcGZ2vmQTPh61vz-xJm4IRVEXYIamxRlHq062JQFhYPf1thlUjyfx4M5T6XUNGD6R2ELVLgWXsIE0CD01anVzwMCJWxAPFz1zsJCFSKcJ4WcDsU9Raz4K123R1QIPyzuDNzYK51CLnmU2KJk1KR2xGw0Sk1M3KmcToU-niO01XkIS4V6OCxxkV0shfGM3SL6JcUGMAh2BVQygkO2UU3GzwTHytgajKxlEjWjVjVVhkgahAjOi2hSMcLmNKO4DKyAw2nRD0MTmTjWHOOMJkLWCXHVC9HuM4LwxOzKwb0eClySMhkNxiGNy+KOEz0WA+M6CzzeQ9kW1DmyOANH083H2zE9TIOnz4JwMKSHxSyjiBPomX3P17ycxkLmy2IxJ2L6kHhlBwKpKZSYNPyIxkhkK4x9lZOZKPn6Prku0Hiz2OmbkHnJJw3C1aOuJHx6W2JRE5P5O5OAR6OoTvkVPoTyM2BwJVOcKAV4wq27wb2IPVQpOxFmPGJlJvytgVP42AXNNVPmIGIq3MhwPtN1N4X1OJMNJdLPyT3gxMUQxiGQy+jQ1+n+nSGwzjkn2n04EUOzGBwMnUBHHFI9VhAxzZxV1y1sT8EBO70xMdFRTaAf2Z2mWFhDUqMzLkDyxzJjVOGNOfRaOLJZ0xzjIt23mBXzlwAPkZxLIljLM3QqGVxyyrNsVO1bIDTPGeS7NAE2XDRmmF1rLHPzInJOXWWnPORNPnPITBIHCNwSVwHHKJHpSnL8FeRTOhDTJOV0lZJFGl2-R0mzFRRxMxQ2jvIHJFmfO4BoOXNtjUVvS-KkkyRRMHndQqGfOdzvIApb0PNYRoMRPWJIExETlhh3L3LszlIfNFRVHrI9lQOiGEwwtCPDhwoQuXkoEYC9RhysV8DzNEF6BRGRmYnwsDmFPBAalIHlnCIVFlwhJrhlBWMjIvLhGYqDhcRhIe0PJVjEskhbxnVwuoq5K9FO2ou6HoswrDm1hEvfLegUrTy0rEDUtCMXC0vPJoBBJl3BPlxW2ku-GhJzODGYEItx28Fhg4r4zoSRQMhcs0Dcp-FUIzAWGYnS2ovcvrnEuhN61AHcAcp3JXykB2G8rcvVKRQAB4MRS4fKdAoL-KywFNPtA9SQAAVTqKqEIRoYIQdfAYlLaNkItNYHYUkUAAAal6XyPUC0D1HKzEpEBapDUMmataq11Jlhk6uyvuDvA+y+yKpKtwAYCigqs0CqoFRqv23IHqv6pasqJmGGs0FGuSp6sMmCgGq2t6B2tGr8p7xmisl4EUtZPVKtJRCRI00lk6nZCcpmA9gKI6JsouvYPUttknX2pOqukIxersF4L10kG+SQq0FQt4vQs8ziqm3VN1nDiBr12eG1guuBskHunsJNUjG6ojDGAuvuNYJIM3EI11g4scofwiJ4qsrTm0i1PyqfHusMjClphTGuldjJppyLD9zLAahEplDwpCtEIzGRi+uUvNkUvVxUpJMAhEqYPlvNjN3Jo1tCNBuZDet9JsKbRc1ur4RcRkoevpAQoHDBt1qI3YM+vxuSpkpXVtGVWNXRvogU2ep1ohqq2hvIthoZshOX0qPuhcVRo5W6pOoWAonDj8pkqRok2ltQiJtShVFJpCMEkGtmCwipsTM4rpu4ssuN2ZtmADzZpNo5sIC5tCHkJjyrlszLj5ozoFpLD6WFuotFqyJEvPV9LoObmluVuSplsDk1MhuVr0pUsbtAAUgYubm1teu7vZL9OegQx0o+hQ2+nQz+gwEEpFkJ2JzR3TJMVF2Iwnz-I0Vh0Mj3tR3R1ApoCvpJ2YCJzTQILMyx33TXU7WPreQanvoPtZwDJlA0VvFRReD6qkBeDvBHt6FRSrDAckCrEgd11RUYjgffEfEQeAZfCMmJFQZwQweKywdZlGD6qIc8FtCgakFRRyjTX4Hjz8GoZXnKq+AockFRVLrgdLrLBYaPJJFJBhA4puXcDoBDX4Z0EEe2keG4dRSatQakG4E4D8EaBEHxAAD5QBgcWqmGpGsHEpZHJB5HFHlG1HgcUotGkGsHDDNgDHQAlGCRjHQByQbHJBtHA1gA9GsgFGbGjH1HQAwAzHMHA0ABSdx6x2x1RnxwJpx0AFx3hpMWR0J7xhMs0JR8xwNAAQlNHic8bCfsYycJBSYCd4ZSpCeycSdADSskAKYIcDRSvxD0YSbsZ8dqcqZibJBUZKcMcaeBzUZadSd4ZUbqb8BmAafCe6cJC8b6bJDSfcZ8d6HCckDSakFjNvDBB-uR2vsPsZDloJHMkcUuAMD8F-tJ2FglTWaJw2f-q2coHcAACs3gWUdnHg9nShGnkH1mH6+rWFTduGZgjnNn2wJVepNo-nt83ButAGXxUVP82A+roWfnIbKGsHIBCBLQhk6HJBkXUXI94WEWeGyRRGmBYBIA4GCWiWcWEXUUCWABRVB6l8lyG1FAAOX4EZfceZcZfjr11Wb6hBak2Ssec2GecafDgPMOfeb-qvlOZ5fFdJykwewFdmCFfCa+f-H8BleYElbBGfTjzmXVcudQQvubRwUPJ1dYCYH3GkAO1hpuf4CHDsI0BSG9sAhBafu8Brlfo50Vu10HWNdMBmDWNsP6BuoDoSUPPMt2ULoV3okSPYD4D1YrQdszqq15alP2q9akBjcMBBYrWububIBhJxskBTYnD-gkvTfgbzsfxDaZTeW8CCBpqYE0ExGipGUjaZX8KDbhsZpJC1f9MZEDLXpDJ+kwG3ufVvMcDICYC+TUBGhhGkGtWM0PNZnRkxlgpGN4nGs2Exs-sXEXex16qYEaparOtwCCTXYQXQk3bixbjMI-j3bnLyCLJhDBhV1SAWXathidv9WCGIGICqpGHw2yDh1-e8e2hau4H4F-d1lJEaog0aoaqOpasg+IHpdtBg9DQ0E-e0qIEsUYCxkw80EpxbSI-NcIFw9HFEBIhnpth2oGtJDJAGqfdkUYFfc+L2ebVI-I6I9f16qEFJAfYqBw9XgopsSWmbSXaNVGAg8HRXwgxVTcm80kRfHE9AA1h8m4FIYJrGHE5EAJhva0+k80GxzycMkfVk6yHDhU4MkgwU5G3Hcg7PGnfKjnetXE73yyA21WpLXXhU7U7vGY0gO3PO2UR0-jogwY5aqE9sWYFE-2cMDz1C+OrvEaqPc9joQEzcRYzO0JIux06S7LBS4Gqi5E4cCWlYQS5k74maol1pFs4k2K4tmwbUD6ubT8Aa9cFK6vfe1tmYjc92wa7JBQaMJfEs5k+JsM9Vfa9E5X3ix2om7UMMgAHJUvm06PlvND6MCPRrxOBOP8yPhPmAvlpAgkjvbGrYXapPA4V2nxw5TvUO7xUUQgYXgp2g+rSRIpXJC4qguw3up9vBaQuvV8BvbuRxjvIrFw7u2v9vouOvpAtINvgftZIeU6xhkf2u7vTLQAbW7XiAHXqCncFEagxl88JOU0i1vPSkL0FvHuvPWo+rsvikLsL1y3Sr2RsfgxcfyAUgmDdWieqhuOSfAf4qAaCL5FzPUVH0sV+NBN5DBeNuilMfTv75Ac31CefkqgSe3CPP45afUEL1mbhbtyUbCRzJ1SMuhMsugucvlF9eQi1m+fGAJYnsZQ9mlfnEVfef1eYS89bfYx6CjfQ7rOUGFvmIAMYgved54cPFQk42HfI+qc+INuE3A+HIcE6vV81exl4+W0k+A+6FoP2f7Wuf8eW90+i80Gnxk+6EWe9nC-OfufB5PexkBf9eZuK-Rctn2bM-vuneE+EDm6UZ3CLeLZ9e39kYJe+qzeZfRfeAGjECmjwD5FVj9aZpI97BNfzuSNy8xeFviKd+JNS789g9fsw9dhreKg1-IVtLbyhCL0fzlZtCqfdtFwn-vND-70K7Q9-tguKgb-utIdtkCcLsCNFICUAvUzAAwBwEMB39N+NsS-pr2s5ACJou3YIGwCd7fcXII0EXDAOo4dpDAf-FlIL0x6ep3ArAFSLDAAoXsaItlaCj+WYjGYZKf4FAaQPYCw1jMtxMgVoBgrawWB5AozswM4EoVgEvArgT+UXAiDYY2lCQZoBYAuAu6DAnSmrR-IJw5QCgkyo2hwycBpchgBQUKUUHD06B2hEgYIO0C6CpIkVdQSvxBgls04hCE7B-xEpQ8q6EseBEwCSDsBvA0gY8D-F4CHYxe7BO-KBlH5NFZguxEwfsRMGyCyc4teRH4HUG90bY0g3WNC0qILAiAzgnjLMncFsBPBR-fQVqGDqohfBHA1gUIN4zSD1a-NYSHfm36z9i6HBZuMxDaDFC9+dQvwM0KCQv8xelQpusJBCENCbYCvcyNPX+odCSemPeaPoFiBk9QSHARhp8ToC9g5htDHeHQDWiwDx0gNTZAt2WGNBVh-IJEBt1D4cpNkLPJEI00mGLQZh0yXYQsPUBTDKI2QU4YW0hq3CJYaw9hBahdyWt9ApON4U8PoZFgVh7w9YbgLbJbDzObw1QAcLb7HCLgiw+7lkG8asAbE9MP4UCL2GGAoRawpECz1tDnDwmlw6YahE2SXU8gRIsnCvGxjJAg8W0Q8rgCpHS5YkC0JaBSOeYU46R2lBkYICZFEj8OUw0noDXuGLRzOJeCTCiIcBoiTMGIz4n0jRrCitIXrAkWo25GkBeRCo-kVcMjgsioEO9M-toJYAQxYIxIOzAoJkQ9J9KdJTaEkMJDSCoh8g9driDiEqURSiQ8IedAIgugFu4bSgaMWoHmjnRatI4TyIcAuB+GGkO0cIJMGRUAx+Q+CjSjUg2IwxggDSGpHoaCBAxBgjYY6BFrWdcA48NYI1QW6kh8xQIQsfLwOBHAv06YxGAtxFqSANuoMUDIBiTar5w2ho7fCaL1RpjQAsYrSo2JUDMQWxGsHrtoXNHmdExoYpgOGKyqLhAMeIx4IuHHELjNgk4xQNOJTFZUAMxgFcVrnDjLiXhSuCehtxLEFiYWEwrQHW2oDMiph8jSStoU8bKjrobMeMZXESBvAo0hRJAagm-HOA-ASvHsUr0tE-o+oM4k5OKFtwyg1xyY9SFlQAkZifgwA6gH4EPGcQgJLosEXpE3HgS+c0HUsd4BhYLcxR3mZCk2zkDXi+RYEt3K+PnJkDnMzkAFl+iTGZiKOmEzbg8NVF7NFc5oqqnYy2rvifUNyFwL+PXg8Sgo74NUaGJYn3dZqsE+iUhNFBMSpJcY2tk1D+4asSyNiGUAAAZzAz6K0FFFWQjAIBuvEaOQEMCKxjJSmIgFpMJDqTrJ3wgalyFdHZh7JbQGyQ4BQGeoDJmQv0RbAUH2TNsxaO+OZPvGPgyQkvdvoFNMnXjzJ43PdjRK3SlxZaxmFQKwHGDGTjwPOKyUFIp4sA2A-FOakZN0y5SQpFkmSB7HuHMAooRwa1DgMeBbwgh-gmIqVThA+T2BH-aKeTzKmct4stQzloFW0JVSmANUzwNalaH-hgaw00adai6F1DepZ-XgKsX+rTTapGUtcJjw4D2B2AKgdeB-zUEqV1olU2QNVLWmsSNw2vTIeeloIsxKalYkmo6OoFah6hDU5uEmWYJ9JGilRXYhENKEyCzWXdGivEPojIx3AyQz0YeBxoLB8xxYHGjsFWljSShfA1ku4B6HyQsAJEL6QkPHTl4RAqQlCCdJGlrTiK2OPTgjNmkfxnphQmGYwHTpT1xCK0wmTNPGEBte8Wg0EnqDmTkVE4uIX0deBoHST1oYQv6b9ORkAyQqB0tWjJCwhJCTOcLdgsjCICdUNxsEpGWwPKHRiUJuLXoD+Gkl+tv8iBQIWeh-Cc5IaNgckBbPMjCy+Bos2GuLOEy6y4xdM0GeELlkQy1gLUpWaexVkaQGBqEyQJGI1l-TxcJEUOa2BUpDEfRZgzwHrINkD8sIW0pIrtNKSOzJZw9VSubMtmvSbYp4sseeLjl9DzIi-bQXzKdECynZ4hKwYJ0IDKyZxfAXsLwGQjAT-quYhyPhPLG7Zc5BEsvrjV2D3T65hzQUHWOooDirpvATZK2PL7tjOZTOJRLzPHmDzpJo85sWtG9HszpkM87meQHnnIQF5cYyQJnPJCjyhxE8kcQ-3CmNzzOXshUHXLnHPDIac4wULuKkDXyfZW47WOPMRFVYAMT8-2V8C0pt8u5hYzHtEmMlYwgC95ZotegdS4IIFmSYybfQ2jLx6AyidSdwM-poLtK9kkXGgvv6Scu0BC9ac9PF5YMjgNUxoNnCnxX8NurCcSJlLJEVAdWsidSUQv-Gg8CcIYxQGwocAKhm5UgBqMvH0AuB1JMoWQPIV8nGg0ppSNBScT6ivy3cWBO8K-LrnwTJJXC-2SKGQUXZBFhRNBc-JmDoSpZbE+RQYlwl5izxPcq6MROvYQEp27CohYcSCQ6LhFmUvEaRKvEuA+RJiiCVPCNh1tQAhVAABJUsmAAAJRCgAAZKlsgEJACVn0skxIMVNbzQTBZ2Yj-BRTIFcAlJigczrtFkEcBOAO8dSXYmglt88lRwFcMUrqgaC8g5S0YEkrsSHkglIS8JVEvAAoC8lmSwpRLCqWlKfyFIzNk6wzB5K+RXS99JyE-SlL9FvQUkOpMShEjaQ5bEZRqJs7wLvA8yhUQD0x46telnCwgKkrYkUjOJNIxXCIvCZbUmFSS1hRJOYlxjy2CSsRrsrUX7KVJF4h-LplO7cBVFtygegqMPJHKqRXEx4LmLUZ9IBlqaWYTKMMCVFLQ6AhiTcW+XKStKeIp8TsuMl2JEVXClSQ3l+U6jMetiz5adxYk3iRRQsvqHsBeaEhdoEcKPBbGR6kgCV7ChPKEQpVEBwZqYSGbtkTjvLDu9iolfkJJXw8JMrK0pAQIxXsKLBClIkYlI+RdLjQX6UnnN23FTx8YeMYYjdw-nGAZVp0UAbIHkmYDYpLgLpRBwwHthjwd+OVbzJEli56hv6JoDKDGUfp1k1qyegIoUBiLF0pqkaESIVbuRllLI+UF93hXUANlLI5lbMACB7RTgpIa1aGqmHlkywvXL1chKRGNM-2n2FktasFVz8B+VsKwJuXJG6rmA9ks1satwVWj0Q0EmUJot-AXYZFKIC1a+nlWlLbVfUP9ISEdUTL1kpSumW6ozVHx7JPq-EDjX9W3j-ghkOZQssnqRrA1E64yXGsWgJqMwzEdSX4CfHpqPVSS7NfcSxmJ4q5NASAVuvaD6qfxyasXHgquUurJ58wVAT0rAUuqNuh661SauDVi4UBT6s9S+oUnHg1A7QCAWeqiHGqXVsizaD7DhUKTzizSpgAAEFwA4AKlqEsKqQAAA8oy3aUogoNsG+DYhpQ1oaoJ2ha1Wuu8ZgaT1pRX4s3FJAsh+ONSxhWgKuXlqUQv6vVSWqNWvoiF9xBqCRuKUygoNrS6JTJF42RLol+G8KautTXhMuN6K8jTnKo0gKVAXFZ3DczZy15BRxqFTSgNQIiglNZQTvOgugEZ4sFBiM8Fpumh2IVNYgymQZpQHSp86x8ZQNpsZC6aL1k6dTTRrnRZEcoDmu9AZp-KtC5K2ybdJ5tM1Oa0lKPXTSgKtCaAckEsT5eZtC1+btVG0G5pQHSkmaygMJXFQKIvUKa0tjm3LWamHmy0iRG3LTSlukVGbFNwW-LXXhOqMqeFFBelPlu4DVaQ52szLSKLeQzqY17AN7nVuO59VStrALVh7E81lbuAQW9LcSulXZbbNE2xzXNoK27ZrF3XCUT8NtbSj5h0KwCH1phweb7N00cbftvS2Sqitfy2iLMCfGjb0pgWo7fm0O10AvNNWqwkeNO06jvEXW17sFB219Urtb6vUZFvww64BV020LQCsEBAq7wIKjGV8E047a5CDAKLW+zsX1ao+f87apePImeKNRAC4oM9tXzuLMdgqoegULDnLE2Y52j6lKr+WPQutH3XrQfmR39a-AAO1IMNvWKFK-29g-waFpwIf8G2Tba5g0jbZM1MedfPHjySpxTa-lxEKWgqMpHg6TlGYKHRmC4BvBAgFsJyGCwoD4ZC2o3FtCdpYqFsvycQoxoeMP4DgtZ2sqQD9i-531BAtlaQLXSPYYyw5MysXcXyYIA8wuW0DHaAKx0Br+xGYMnaMEVrtatINOwIGSHd0N8pI9O-4ryp4V9Vo9JfJgTgAagwg30DDWhjKAACc5gEbapEYZE6v2Be3KEXopFDJMYagZnfULvxCibpswNglhBoAGRtJL0qQFnqCSLdFuwUNAH3vDXyR5+fSTvXFyxhozegnewVSwBsSajiR4SSKjQBSizlhhDMjvYXtoZT7K9bNPwBnrs1l7aGiWshbQ0oXT5i4f6qXTqJ-Jh6I9vDI-RQujIvkGVDO07i108DkKT90kPUd3xUCfLWAkawcA4FpiJxsWZKzaHsBlBu9GgHvb-UYGi4acyOA0XqqYC2UNrNw6OaQEAbRagATOaKMsQ3XYIj7SQyUFKN-tACncX0kayQMQfSjXrex6+oJOjz5Xagp68-OSFhCzWgDwBNyNAZ8T2AN7tcdG+yceufUfrX1jir5WjKwjoHMDkebAw5ETguVXI7eyQIQeIOg5rVt6tYDHjUM0HGiCkIfY8FUNqGUo5Bt3NtGMPJQB9E++g0TrBVy6IdStduqoxxqMH6tqEzXQvDsF0qWJa6i3W9G8avY8RcOvYFil90USNRKqPiDutZm0TKCIQOgFFExh-7AgWU8lRAfYXK83AqvcPsT3I7wHKDSBlA70DbrmxziwR0I7DA8VE7Ij0mzYcahEo5VZgcnSgKVVglaBexggfgGZBIie5oeFFX-TYO10nYQj+nBo5FWN3+HGmr2PxU1Ew1waENSG1DTEufGjA9JuFOQIkutUlK9lBy-6vQEfpsbSlC3Tpa+kj5nrtjzyspXIBuT1KtjHS64xUtI1ohzhoWuY9hsWNob7jZ4LpWcdfUXGkxh5UdYtHgMFLxlCoSZXssioxqz1C62IE+m-2M6u9347gFbtAAAAdLACwszauAwBuAdoEtBVSKNDG2OeiD3vwSAHyKV-cwAic+WLdkTqJjE1iYhXTJODeJuHkYHCn4BBwkVU4MxC5OgAAAXqq3RO+hsTrJ-ExMdOBCmST7kMk6SGkOUmeodEPAFkXiOJGnwdJ5kxLHFPsnsmw3QNF0eCjuA3uxAN7jCxMCLcwQNgGk-Ys1PbTtTuJiU3qbxYxq3uxpg+GaYB5yn0oQAA')">let THE_ASSERTIONS = null;

function fetch_assertions(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_assertions(pattern)
        : get_all_assertions;
}
function get_all_assertions() {
    return THE_ASSERTIONS;
}
function get_indexed_assertions(pattern) {
    return get_stream(index_key_of(pattern), "assertion-stream");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p38' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Get-stream</kbd></span>
	<span style="color:blue">The function <kbd>get_stream</kbd>
	</span>
      
      looks up a stream in the table and returns an empty stream if nothing is
      stored there.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (get-stream key1 key2)
  (let ((s (get key1 key2)))
    (if s s the-empty-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPEuouFEPOIXCqGIIxKAUShuGIOhKyEoKUgYYw2BkBgBprdy6DEEaxqmFZSmpUapGdZo5rocgFGGj4tuUhT8AxLF5t8BQWHwBdcPOh6noXfAlpOs7NsoawJqm7aTNAObjSEGcKmUNhyDK+g-uBmYWlPBhwboSGTBhuG6D+wHpuUo7UmrUhqHFBgoaxrKcYu-6ruRn5idJv5ycx2GqdxlogYJ0HUgtagxDoM70YRumVoXPmBaFsEabxxGmh51H6G41EfmIAAPQhAjcZwRedUoxcVkRqBVhd1c14htfhmXOfxw6FZhx7hHIZaNa1wwdZpuWSlABLiAYer4YdlgnYYdcKDOrRSEMBH8L06Yg5Dp7hF8GPjLQybbcVQn5raWtHHO-avdifWUeMdpJuUc7c4rv2PiGqXo892Xubm9gPC8XXFRLn42+UDvrYzouYmzkT5uYLQpc7nb6YXUe64nybpf25u7bmjRCBBblUSn+TBEIDeU7FjotH0APGDNt2PcL2XY7Q7cZy+hhXuj2GxEb6+bcmbmzOCDmbLshyzlqS+HRuQNWXkfJHyGjVCKZ894H1Pg4bgr8whUQHHNTW1AFDG2oJWP2Z9EF0EmFRWIQV15sFxJg7BNA8H+0uNvZEyDSBvyAuRZ8-x0GpFyAoQg+Byh0L6vDZExCoIxHfBbDIxUoEnzPgwJOKdhG3zjrEdWWgRDLSmgeegk8056VkWHU6kgyDR0UbogiKClHKKKLIjOWjBaL0IZMVhcYEiBjmqPV6owaRsFpquUoHiGKGzUWCLWkih6rCDOqUMywKIvkND-TcjDQD-3sk5FwcDKC+BIBA+BFCao5jOL1AswJQQMEfs-fQZtDCyxIXEeMgYHIMBQZUjWSwu6gHSJkOSzQsLSOGlUKOM5X4tMIGEG+ZiYj3zKUtCpWshnMOjlUgGn80ywPof1FGbxlbOFVq7C27srbL0-iQ2aqRKCkFrJUwaJ8tku01qHQIgwm4rOMt3M8Q19C3Ivobd+W0V52z6Z8pWdzSBNJ8THT+4UimcQNmXPOlc-rVOOVBThy0eGZJzuXfOiKREriCmODUAV2Gg2FPoOaMMPhj3rg4mmExanTCCoCgZlL57EEnrSgGg8iWRjiQ2egVJmUzhpk-BijI05MoPCy8ebKaX7TGVylcqKAlnn6ZKoV+0RUqtxbGIKgqx5jU1bWJihRYnRjToy0u1dsUTLqVK6l6NfmUHlUDY1BSTWFKwHAqZj8HASw1PoH6FshJ1NcckVInSsiBrabvCNK4ekbghJCX12sBa1DhNwb1S1k3u1TYMG8UanFHDIqAD1cDDDckYHwjG0M2aokdcG1FcKa4I2Da8flAhaWMibfnKlC8HUI1dTEU5aLNC4m7QijladSixtjGsfek0nkVrKfwFmNbsYmLVb2mVwsOUAxtUUctQhl3VspnWgStxa5WoRfuuOcyt0NxxYW8kpr6VDvqWGn5zB0artPVfS6sYFKgiBe8L9J7a3lUMO9Z6La07Z0ZmTCm4HDn-r8SUnc8HmaIexvdR60HPbhIiRGgKpb1nmANr3fuRzB4kMbPIxkFG5H4GTgO8kjZux6i7UuqtP6kPvH0PI5xKh23Sj9bURqQJM0MGzfzf17GwhMQtatE+8jLHOlUQujRlY7GTzk9waTuakWD1WdCjZPw57SvZVRoGJz30+wvQwZVlyJmAtHhffZf7-qqb0kZqFnrSMuANn6yzY0alQUbK9RkgKguL0NQXP5kLyR+pwx9WL+hovfsg7h-8H9XqywU7Z16vm4EGzRmB7GHNqNQSS5llLnjSs8ewzVvD18VyAvq1hqmqXnmDy8wq84xWUYYY4A19mA9rNVZTYwJrL0GL6CG37DrsVpupxWIC+bI3YqeO60DXrLqPV1X841ZqSgoBwEQMgdA3ViQmfMHNBaS1pHVA2p7GzoaFbpEemQBGMQAA+P3jJ3fOU977oA-sA9SE9Z6-RqaF1B-9v0x0MjZa2oUMHCPUgEtqCxtZgiP3MDEBIYQDB74c0oH0e4Yhg3Dqwi9gAZLT3o-Qnmw-Euycn+Oiv+fe4Y77UFh348J8ToD1twSBpgX53HwCsvTLSDzl7fPbNzH0ERQuxmJfFLXpN4L-0qL8-IAT2oQudwi-SzpYzcDTfJeayj18QUlc3nt0mFt-J+tc8t1t2HtvFdM+V07lXW0Xc3Y-e11m5X5fLD1wbonJORch7XVTcXcC4+-uyst8PpDvcjAdz7-3-0n2u8l8n3jXXPcR8z3mv3Tv8Pm653Ndbi2PMzVs3NAXhuY9HPBPX0PCea+S67-HpbUHkc66929x3dpx-D6cb34p-eU+MA9zbsvY+c+V7tNXznkvyWnWDs7NzlsYdL4z29lv+vBft5C8khOe+9kH8T1z6-oc2YR2Mbz5fCYbjYmmzLwN3BJ-O6hS9R30TiYxTnTzfRXyzzXyn0D3V04ncXfXvVlSPwgITFPyjyNyXkv3BHM3tTN0AK51c1vwOUPxH3f0DH-3w03w1y4SVhwXoF2XNgPzf2PzQLOTPzb2FyORtXBC2XoJOlNmIOcHv0L2BW+XNmZxQJDQTCmUCBkA5jxBn04i+Vdh+RYNQMDFkMqA5lJAINEPUW+U6CwLINYM0NKTkI5h0DVzgTuyvTixMI0Lxw4Ojy4OwPHWIBEOKV9kxXhXsNQVHxkKA3BHcPBG4A5T0OKXcKQP7Xl1iHIJcEoNVwiM4j1VZW138PiMZxGHCMKTgTvTSMXkdQyNMJcFz3k1yNr1SDZVHR8ObQ5V12b3DSRxxWSI8m3ztT7WMOKMcPe2aLKNgJsIhy5EoykOkLcXYIwIv3GmSQo08M4m8Io3ULGLRCCNmLCMLlaPMAY3kSWOWKyIr3XySJIy315n3k3lG1LxKIVlbxcONw73IWoC3mEKUI8hsSEOQwcL2MSID02JcGaXAK+NXztFz3zzgI8kaWaSIG6L2MR0yH0ChJePMD1WGQRIaMgMGARN+NtXmTfnhNGSbzexvExP21kEOyankBOzanO06m6h0CD2uIuWGjVip1s3AVZ3OSNWOK8PswIQMRfyjm4BU2RXJCChJ14MUF4X4TPlCJtT5KMQFNACFL6zBNu1oJ4T4XUQIRkBZJPwmPPyAxkCsm4UlM1P8zmNeP8yf3DnlJMR1MCMpQsMNNAEUKxNkR2O1Ne3tJnEdO4F0IqMlxsU0XkHsWFg9IVzey0PkKdKsOoPmPs0c2GjeGCTtLMJ3BwMQNelCKE3RkXkRI-QTLmwYhTKcMmKA1y2SQTPNPMATKCQcVemLP2N9ztHrOsK5wri+HdnWk020wcUqxFNsxvGVLgT1TkB5z7JcQTCVyHLbMcA7L9hYAUWtNC0KH7LeywlHLOjy0KUbDJz9mqIxVsWDKlkZCI3pO8I3LeiyyRWfgbJpyH2vIYnKIL2KQvKtz1FPmtOeBXInIoJ9wvLzPJMMVixMU-MiG-KuJvH-NjP6jVjUSJ0PO0RpXvPoj1EFPWD3PG1XJkMmjEDJyMHvPCFZw4HWjwtPGjXaSwnPOtPwqvJQrGUVPQs0wI2aGItwtUBoo+lQQAB5gQcLSLOhyK9YWhSBzIIQAAVG6OzOgXwQQZhXgBuJsM46gWoZocEUAAAahLSsT2hJnWiFDAIIo0uSSsiMpvViA+F0rEH0sLL1C-lXFMhEt-nBAkvwCamIEclkrEHksKMUo3mUuEFUtMu0osqe2sum1QU0qzLUs0rMpiBCr0pkBTjIoGIfxumkjfK6yH1C3JGKymmJxumxHHOmDLQrQ4uegfNstfX9EaLSGaPCoI2ngznyqIH0FipUVnPwE7LEG7KPN7KBgapBmmxHEbPqratmB92SrauaEPRxiIgIptGbIEsfFYkVVJQzmGt3JHQPKDMQvRlbWmASTKrYCslsienKA6UMXyW1GJVESNGEwvMZBHOooVR1Vsxmo-KAvCo+rOj3W0tiFfIqX-ME3dRBquKavREKr2xx2KWqyH0yqyxQuyqRBnMrGashumiqpKqECOoquhMVGHQjRxoGuLhtjRtaqsXbM6qex6t2rBCMxtWmqH2GqV1GrjlKHgiVzIpQuJoiXermqvOWRvGSuBpzC0v7DWqmg2vJ33NxAQpDM+MVEOumxOroDOpEAurOhyVNyuqfB5TNVjEbAeqBCerHL21ere3etfK+v-K8wIgBsfO+ofEHVADYiwsDHBoKsqShtqlJNxyOwpNajOw6kuwwHpIwRJmoVwXwX80cTRLYIp31J3CSXBCoRwTwSrJcFTpoT9iwQ3m3XHh1mETjt-KgLtGETV0KgjrTujr9sZBJ3TDFLmCzNiDmFXF+oaDFI5GbpiA5DbtUzFIwm7p4A3D7obqCPviHvvlHvjiCNhLYCzLnudHbqKDFO4kMA3nIF8CzLXo3pksVGXsKDFISW7oSVjAPtiDFJuDJyaRYEMFCKvtUBvsahWHPsmSCPUqHtiH0DVm4F8EIoAD5QBwFNK97X60MwRwRPJP6Yhv7f6AGgGvJQBQH+6gj01phYGkH4HwFIQkGYgwGxTgBoGDAf7MHARAHwEwBkGx60yABSIhjBv+shhBmh3B0AfBoI8ST+hhrB4av+lBtMgAQklC4ZIcYYBHIdACEaBD4eoYga4vodEZ4Z4piBkZnrTK4oBGge4aYfAQ0ZUfYbTP-oUbgZ0dAEAf0f4Ygf-s0e4CKG0fEYQesYsdkYhAEaIYQcKAcZiAEdiGZPTAKmEyzqjoEQLDfPExXE-yGCZ24CCdoTPnKMrqwWrpCdinwBYAACsTAnVAQImNBCEmGB6q7s6sz-9y6wGihYma6CxyjIpAmingnStxNwGtwgjMdhAsy2nym-qL6gjIA6BvRjYt7bG+mBnMkununmnwQH6GBYBIBu7pnZnxnunL6qBH6ABRIe6ZtZpZv6sUgAOXID2aIYOb2Z5r0gCZAx4HqdoXq3CpyZWEieFAcaV21Jieub9kaYuapEqc-QhmAvuemEeaYdKYvCuaSezt+YdTTBVL+LOMoXeZScLqQU8vvgbPIVxGqCkxlFIAoWpvSfIGrHLRJk0HJrQh+dzo4ClnZlMXMWYVRaOCKC5M4mnDujlsngbPUwMJ2vltJdXHXgXX0B+dkXCu4DarBcjpufbT+fqttoaH5ZEEFYRdkTScydMCRTFZ+fqxvNlaKE2plppvlrVw4AEE2rEC+BYFVm5ePKBBZcIANfZZOGkCajJOO0DvaguwwFDphezPOXIFMAYHLg+HKhuFIA7nmwbMR0+03H-3Dbst3n-yFthiZg4CcSMvBAYGip0tCsSqidLqyFjaLmaBjaTZIixO4RuBzgMS0GZ0srxrIWUGUHkoyA+SMGQQbfgcak0rSwbeGvBDUtKD7dAFUpMs0r9eUB2edD7fWNrYAocDDmMBGksqYTfmXaxfnbrAiGgjdpcHirEDTYhCMvLedmMCrax0idfjXdhmMGXbpUiusHBCxLnavb9kjgUDS2YQjaaLhNfiLgHYjV0hBnJSAx-dAHp2UjJS-ayBvB-fCD+0bOg4-fCCkeSWKHhBXFKFzcGBA9Z3BFQ9eR9YoH9cDdihDY7h-eMmaAg6aSUqePhhA7A9XGOh5zeKYJIPfcpzjfaXBAPc0qfajhfbIDfaV2aRg-CBitXDUsze-0fkDUIVCf3zY5g6CtjEk6Mr4+MCYEE8w6bKyBE8Q+IXUt0XhAA6zmlHXdylBCzNfj0zoHXc09IEEkLYViwnI+nnU+GhTo3CzJJ2E4-YWt08Q5s7s9fac8B0svY9-eSQAHJM3X402Yu40s2EqU4f3H3bPn2A3axSAU5y5svP3aq4Szoo3tPcvVGJnJmhB2mrJggoqHIdIrILRiwoqLkOB4ROOihSh3OSusu+G-x9BSvll3P7PBJEuuulcBv-P+uevBv0v+PMuyA-7oLzB8XCXlBiWZxXoHkPB9kRl8uHjaOcYzZIuxT9uE9uAWPL54YjudXChImVv1g1vqBNBYstvK43Ab3dv2uIkmPfojv0PJnUOwi4aZOxyNYvvYhTINYluXBSv7pQE1ZXudujuSFUVTvt4jv9rDbLShqgQVxpPvpmPLSFOdYMfXVK7tu3BDcUF4o8nYfIN4fEf3vPLFkweRbdVsemacPB7-usIldNYKfjAicUFll-9+e3vBemkFknFEvhXOf1IJ6ef5BxeqeFkZeOeste37uiWnuNuGITOOvh6Dw5PB8EaJk7uCWHv1uXuxf9kPuMenP1z1ePo3mBeVeWFuVKJUVZOMf6VRSgjAepcUsQffvWePfeVqq3szZiNobOJMkSBdvPTxin8je-vp4pywfEvDqzYVbUkgFifzA4+PCAKkzCiE-wz47ekM-p5Byq+QYs+NYc-AEAt3iXAS+HVxdvXGvtJypKB8A5E-YBgKhBhkfy-AxC+E+cOu+dIsTB+mlKfu-sodiR-t3Gy2+nVPvoe7M7gWBqhuJ1pCySZxQULzxE-M6E15tj-GJ-Tikd+jYuz5t+Nd+nsGyldb+9-KcsS3-qbPEv-1oGybxf+H-a-pxEAEMBMWF5A-smy4CAUfqp-JkJsAv4wCr+z5GFLBQFaIDyy-5OAZRXsyADIBR-KsEWXO6flN+deWGGXxX7oFE6dNBvihw742EQMEMUmCfGz5ICbOatInMTAYDqARAHAUgMGiTxEBD4YPKqqimJifcqqbaS5oAPoxP8uy4A56rQKgrmpbMMg1nG0xtSddVaGpTgbDG4GVc+BIyYgYYjObNBcghAFOKAJ-5yCOOztF9Kikr6EBtUfoIKFhHMEpx0+Tg5ZO4J06fcRabCPWpILBpQ8VwrtH8q3yEG7dN+FlfoAoGo4kB1EFQGGL4CxyGA2QSQzeobkMCkg4Bc9IwIoX+4ZCUhRObIU8ES688fcaQidjAw7bnJYh8QjTEUNSF1DToCEfIdUPK6FAmhJQ0kABWqCRwOABLBbJGEyFPJ0hIw4ofNByGj8P0hNKoYUImFZDiQZQlYPGiN4s1FCN3L+vA36FkBBhtCbofoG6FTCngWw2ME8CYYxDWhRERQilUlxXC4hMgGGKNDyZJI62tmJ4VQDURjxAgp0RdvUMebIsJgrpZ4d8IeH-DTo+XOYS0JG7TwZ0gHHMji36AHDFhgwNOCzRhE7MLhDjT4ZQDBEwiIRcQlXL8Mc6tlJcnLInEKB+Sgg6yJbZCFxCoDGDYBYWYTGoMVI2CwBjACAYgOUHhD2Rd-PduoPAjjh-uFI-AfSKdjTF-y5Qr4WQEYBX1+IVg2bIAOWSSimRyA+krxEjjyjQo7FXiNwDVFICGyRtdSDICTC1A1K-3cEGaL2AWjM+7QToIK0ZEMidc-3B6jEES5kDMIVAcIKKLQHqIqRlIGkcLH1Euj1RoXVIFhF4jhB6cznBNJKMi5ai5RDABUexRvDRizhzoG8AmMzGKgkxSQFMbqO04ZixWBEJXDmNLFoQgaiXa0eaPabRCnsxrVPASOZLYCE0JDbEYAwjRkjikagEwF4CaSMAp+OsYcfQG4Cw9QxsPLASyMuapiHMEiHxIyHzE6i+I7FCcc6NHF0BRWnQ1cFOJIEr85xoSRcThxtEcB2m-3eESpGpCNjJAzYkkeelXHzjvE-0TfrwA06791YTohWsOl3bFifRPY+AjKAR5EgvoX44NI2G6CMg+ePo-LLqRFSHg-A4QAdqhyHagBugvmY1qADEoAAJNZgwAACC4AcAGswABKYlSAAAHk9myAIEKeW9YyBJAagOflpDPTLjwxcAt8TnSAlfjtRkXNKJyIqBqwqe8-VibKKSBOd+JnQcWCJIahYlJJmQZicWAagXCZhWE3CQRKImkTyJVE8AHJMkACT1YwklicpOXENl+J4Ij8cBPLCgTTJDXGSfQE8gPD6BXOb0EL3sl8Y2JRouAQ8P9jPDImZiSUfJTIb7o+xfcQcYpIX44xAplkYeniLlHhizhDEx8ZuOjieSgaGEyQHEAyAfMNSkcRkAAAZHWcCGoI5AczZT4h5xWKNQEGBU5ypuQBwHlKBAtccpDU7QJpTxCwSEwzUxWK1NIBYlvCJU+CVAPFFLgspw2NHuVGqm3kE0uHLMlhG6kTTso1UybgW036BBA0Q08UKkGqDZBsp4E4TAtJo6dZqpJ5dymVPGlHSqpNUpiBkkCB+xHInQDuMvxWDDpxByPKdFvz9iDSH+rAw6X5QO5gDUwsGOMSn1r5CUsIdQ+6Y9O04Y9cxsQSGQwAelsAO4NfLwQ1Uh6EBiMfIhGUjI7jNSAJHkCoAkNCBlJDutAnkaBSgi3TiAUM5GZUn2oxAxB5Ah8EEMZlrUHR+bOkaNJZm3VnQQUDksQGdomobqNqWjLIIFGcj-Yz1cMULIZSqDhqGgqxKUDNFRhYqzQHGdDKVEqp+My1LMFgGggvpeZEfCvgmjrCaD2Qd0xGdDKnLEI4OGsumYOXB52wVZxgOwc+hX72ynpYPTfhSLAFLReE2sP4CNOgGnh2JM4qkGyNAEKCecFMkwUxAHAyDkOnTKqvijoD6VCxq4x-hLOsECjlklYwoKHKNEMtn0xKJmZuFPAiI-qeASEDXJXC0YbB4s9-pLO5GdAZZeKVQQ3KTnCiNQH0hwOnNTHBy4ZioLWZchVEoRoIqEaUbOhaD+jBgGA1uUXJLmBCBwRMhdKkHhiFzY5P1L8tXNrkvTbMtY20fWKXmUQjZjKWeYPMIHHVF57qGPh5D7mJUM5-EQgHuF-DTiV+JoiSKeLtHTxD5Z4-XhElziOiX5MTUkG6OtKeiiY5Al+b6Maqzy-ZocTqu7CDkgKeAb8z8pAvgmCschfouCggoDnILHghAX8KgqwGgBd5kITBVGMUKgcGcGCBNMQsi4PzcQA89MZsLFbpjSQQ8woMwqfnsU+e7CncdMD55cL85ioasasOSTfzj5d81UudILh4F8uNxTAiNDwJWRmpGdbMtDDfE6x8ZcA--PjIArdSdiei1SXkJvC0Q9pTs-SBVzYAPTfAZyRkmh0kUJsnchigmeYHRZNJ5Fu00aeuLilJBxxPXKWSYJozCZoY0OeRYyHWlAV5s20nGPjKYiNheFR44qLol4UDz-F2o7hQ0DeDaK2OESo9PjJyVFA9xcclfikoXHpRTRdYgBSTUvHyw+k83bLr4vnKgFPkgwxgMUptRdUmxU2AkZUufGwFMJOEvCSROsgAAZNZjRI6RI4ipLkxiY-WampSxJW4ryapM4kGS1YPEuUXxP0mWTDcyynZeJMS7yTZ42U6OABTOXyLLlcA0ZQwHGVTLdJwAjyPxIOVE4jlpk7yTCIaEKszE5kgkZZIYAgT5Ctk-OTgWymOSYR8IM4QCvvGzT1FkKpyXcJhpwsblxytZe-L5E+TcR-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-f9W+26Bshug0ww9ZcyaaWq-jZYXwH6WxWurgw44GxRGlQmGBfMnB4XVFyn76AdxAAHSwCkqxVTAPvjIGCBvt1dSDOBsQjQiX7kknhzqkXxODImWVqJkSeic6FYmcT86dRGYYJMOcnRRvXgCeGWQ9AsIvJ0AAAC9QWoALE0UFxMcnCT7xnoKKbJN6QKTneWg9SZqioRPUAx94MMc3Com2TROaU1ydEYZogiVxqyCwCirKAoq7TSYFFzTB4A6Teq3U8TLxP+wZTRpirlFXNNGkrTbXJU-5CAA')">function get_stream(key1, key2) {
    const s = get(key1, key2);
    return s === undefined ? null : s;
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p39' class='permalink'></a><p>
      Rules are stored similarly, using the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the rule conclusion.  Rule conclusions are arbitrary patterns, however,
      so they differ from assertions in that they can contain variables.
      A pattern whose
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      can match rules whose conclusions start with a
      variable as well as rules whose conclusions have the same
      
	<span style="color:green"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      Thus, when fetching rules that might match a pattern whose
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      we fetch all rules whose conclusions start with a
      variable as well as those whose conclusions have the same
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      as the pattern.  For this purpose we store all rules whose conclusions
      start with a variable in a separate stream in our table, indexed by the
      
	<span style="color:green">symbol <kbd>?</kbd>.</span>
	<span style="color:blue">string <kbd>"?"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-RULES the-empty-stream)

(define (fetch-rules pattern frame)
  (if (use-index? pattern)
      (get-indexed-rules pattern)
      (get-all-rules)))

(define (get-all-rules) THE-RULES)

(define (get-indexed-rules pattern)
  (stream-append
   (get-stream (index-key-of pattern) 'rule-stream)
   (get-stream '? 'rule-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCy4slCLx+NNiw4K0IayFX0ksnkinNy1WbB1mwsu08jDEKOFaKCIJl-Cqcr5-KVKsNmu1vs2eqygdNhKIFpdNttvXtAydlrWbttHoYXrxPQzmf6jsBwLekzpGasjwbUibkgZ5SUoocJL5PNAYb8ADcjvgtT6-aKglHjUGQ39Ob2q6qsZ4cd4Y7r9dkJZqCWaU86rWx019GKR4Sq1RrjT5Y2WpAJyNJVcT5Yr-Mqn-3QEPPCOTDe7zvRdLxXaN13dT1vVLW0RXRRNZTnBVw1ARcp1xcDbXjcYaw6XdkyWXMjzHGYAEhHlPc8xjQ7wbzIwDHgfJ9GNfZCfz-AD6MA1Dt2NEwwToyRC2LYjAIoxcQUHYctXzL4WxmOS5LbPI2GUARSESbhYmPcsHRoeIk1AUlmVZXhSVvR4FmMtlzM2HZ9LNUlWEYaRSDMzjQAWJyuxsx4dgcGIn1iPxSQAVUIOpCEoAB3Gg7AcJwKgAWkSlDjVpGS5KzR0VLoNTEnMKwsFgoI4scdtVxNUAYThTUkXMYqwjkGVSoSlxaqMygWTZdKiv9fxAma+wyucCqyS8lyerwSF20as81FkfhYnlXsTkFETUQnUA6BlcJuyaFamkFGSspobaDP3QiPNAYZRlAHY6AK6wwCUtFQGiOIIBgeAkFQNAuTQfkITKPJlFUItcCYBg2KcQhtDUWJhHWk7QFB4ZYncBxslIBGRFAAAfPGfJRlR5q0LGcckAmidB9xOu8EJycRqmM1RkYqOxxGpGZzCVAul1GbBQqXsGeFNHCNgmE8F94dIAE9FF49kdB5iZZEAAyNWziuAW8JQ+W3E0R6puBipUcWhgdegvpdOJ0Xxcl6WOeCwhzZ6qxha2xp0coFdKAhl3Ygt1WkYrGgXm4VCOZjIXppBlRgzochNEIQPCBJYPoKVlQDftqW1EZ4KE6TlOGDTt3jcZH5i9Tuavdp9mKcz0OtYuRdw8jnG+Mej2i+TmumDYoOo5E5H2+VMYO+EaOgcr0HipCM8OGITx+GG6hLYeLO7bWB385l4L57Tpgl5XtfCHLj3D8Xt5T9a1Q659jepFH7W29f8eBa78FL-9Bfj5v1ed9B5PztM3MeKpJ5f3drHU2KghwaGNP-ZegD2wgOttmUGOcd553Tk7Qy8DyCIJPig5wF8YE0AIUQgBZ977ewbojJuNtwFjGYZ-aeHtKG4iQbfcqwCM6bzAe-CBH9VbTwrjNUGK90ZsH4JDTgvBZBVGcGgreWCJY4ILoZKR7gZFyIUQwJR1AyEmyZItHRsiBCOEDqkaQdAVHNxhOyOgD9fb+3Nn4VhojBbiLyNo3RtM2CNHsUwoRE8RFRzER7UGJ1VBuFSDXYJGDs78DFtgx2CNgoxLUIIBgNdjGVxiVwfRhjCCJMdJ4iJRsokqBFCpds2IimKMTuvfhz9m6YJSbndJstQBExmKSWp5B6krkaQY5p59vE-3YHo6QTB9GGFaaAm2OCmCyFwJorkkzyEbQlo0pgsEylMmJKs5Ymijrf22bUmZTAji4MbgI5Zxy1maPSN4nxsCwYHFLsQIe9y2k2w6ak9R3TgqMC+SQBg+SZrVWYGCkcELGZdBHs3DRpI4XfMhX4GWXRu7bPRRC2JOSa52IzlIB52YKmd1xSYt6j41CEviaXO5pAkWMIpdrbFWyaWKLmnE3JTKSUc1ZeSys4SEY4ouTS0GuSUgKnxT8xF6Yt43XoRK6BUqVAr3pdkxladFXIoBUMNmEcxUssidsmmao6hoPQY6QFXS954NJF4GodQoV5BhUwF1xBrWLNtUc-OzqrWkixVHalldvV1C9ZQQJNqX6t1NeajVNzeC8CluqVBfrVGdLSY6jJhlkhpvIBm0hXLK7CxmWM5RWbBEJsjJUyVldV6aEFX8pZ7K61hPrZ3MtM1Io3OkC27gdhhX-KSUwFVw7eBqveTQFYtizzNqnaO9t5TtYjt7XkHlA6h0boNdmRcG6qkWrgavbgRTFbtOSUC3eJIinBTmOXWdKMlicCYHyP2RgGEogaicGU4c1J1lXSLeB8oRALFJI+u6fYmhGyiOQ7a714hQDgIgZA6B-pchnjNKGw4cmaNLgOJVV6waeAhrh38MM4ZRx8gsLaHMfI7DNoHAWtGMSdRMrQ+uA8pLZBcUwP2E7zYCz8IRz4vlbZX24SQlpNHbQLAo-s3+R9iFnwI4QIjjHbacO8NJtTqs2OKZ08wVTrV1OadtEx+OSi+5MtY-J3YP4bk2ZLnq-euwNPidspJ6gdTnANPkU06tcmvgKac4M4ZlaSnma87MKzkszG6NGdFgzDnPXC1VIlixgDrEOFbcIDi7lNh+NkQEoJqtCtFZmGJrToN5W-OEIZpz9Xsj7HhT8hl-K075aEKJzztWVCRvs6Fxz2IhvuZq5Z22WS+UJNSyNxTM2iV2Ym-1qboNC3prM-NiywRU2eCCRRw4qRuAVuS+MkTHmiOVcAiswTg87HNp631ojsWZh+WkAFTRoVwqRRip7NO-BOCgGSqNyjqQn09320E0ofgnvpiwsrDQsQhnkAHMwDLpQTDrWA3ttNCoFHkBRxQdHTBMdEDh4OiVzZIJ4kRzUuIvBKApjJ+Q07RBsdW0kA1RRIwgiEiO-hitZX2eEF630u8XBUjTMI4+agCSJecQrZY82Ni7FY5u1VmYT3Nda6kGdjTcvXMkixxhMddqVAxOAbzzwjW7wLCt1JJTac7M27t2WHYfNDz5iElBWM-l2ii+CmFCK0U53bNII0ewIOUqbcaD1Zs4Jn13Yhg9898i6Ave0sjftT30-Tre1IBYKqbI7GYoLk7876VLqKV0LPuuvgp547+Ax2Fq9U-z3Xq7SbK6KYi-5kZgWq2yfzWJkOhrXDSBHOe6GJ2rl7PmZdsThenhg+OxbefgXnfPe70TPys+N++eubcpfnnj00sUy17FWf1r08hrEWVnz2sNbuDj83NAvd5hRL7unm5JHBl5WWzcyFU5z6WRgrwtir0AN1WZTrzEwylpzf25z6igNiQRmbxHBlD6QgNOzpWgK61gN63gPMjv0dxb1wIXTQLPEHlALLGRlQJlgwIYBkl6B-yQJmHAOazawxW4EV1AW1VmwFUVR8GIMbG-yTw9ibyIF7kPG4ADgMUvQn0nXkK6HMmLzZnMjLw-DJHJGkJczWBpD8CkJdn0MMEXBUK7gEl6RjhpToHVBcGZ2vmQTPh61vz-xJm4IRVEXYIamxRlHq062JQFhYPf1thlUjyfx4M5T6XUNGD6R2ELVLgWXsIE0CD01anVzwMCJWxAPFz1zsJCFSKcJ4WcDsU9Raz4K123R1QIPyzuDNzYK51CLnmU2KJk1KR2xGw0Sk1M3KmcToU-niO01XkIS4V6OCxxkV0shfGM3SL6JcUGMAh2BVQygkO2UU3GzwTHytgajKxlEjWjVjVVhkgahAjOi2hSMcLmNKO4DKyAw2nRD0MTmTjWHOOMJkLWCXHVC9HuM4LwxOzKwb0eClySMhkNxiGNy+KOEz0WA+M6CzzeQ9kW1DmyOANH083H2zE9TIOnz4JwMKSHxSyjiBPomX3P17ycxkLmy2IxJ2L6kHhlBwKpKZSYNPyIxkhkK4x9lZOZKPn6Prku0Hiz2OmbkHnJJw3C1aOuJHx6W2JRE5P5O5OAR6OoTvkVPoTyM2BwJVOcKAV4wq27wb2IPVQpOxFmPGJlJvytgVP42AXNNVPmIGIq3MhwPtN1N4X1OJMNJdLPyT3gxMUQxiGQy+jQ1+n+nSGwzjkn2n04EUOzGBwMnUBHHFI9VhAxzZxV1y1sT8EBO70xMdFRTaAf2Z2mWFhDUqMzLkDyxzJjVOGNOfRaOLJZ0xzjIt23mBXzlwAPkZxLIljLM3QqGVxyyrNsVO1bIDTPGeS7NAE2XDRmmF1rLHPzInJOXWWnPORNPnPITBIHCNwSVwHHKJHpSnL8FeRTOhDTJOV0lZJFGl2-R0mzFRRxMxQ2jvIHJFmfO4BoOXNtjUVvS-KkkyRRMHndQqGfOdzvIApb0PNYRoMRPWJIExETlhh3L3LszlIfNFRVHrI9lQOiGEwwtCPDhwoQuXkoEYC9RhysV8DzNEF6BRGRmYnwsDmFPBAalIHlnCIVFlwhJrhlBWMjIvLhGYqDhcRhIe0PJVjEskhbxnVwuoq5K9FO2ou6HoswrDm1hEvfLegUrTy0rEDUtCMXC0vPJoBBJl3BPlxW2ku-GhJzODGYEItx28Fhg4r4zoSRQMhcs0Dcp-FUIzAWGYnS2ovcvrnEuhN61AHcAcp3JXykB2G8rcvVKRQAB4MRS4fKdAoL-KywFNPtA9SQAAVTqKqEIRoYIQdfAYlLaNkItNYHYUkUAAAal6XyPUC0D1HKzEpEBapDUMmataq11Jlhk6uyvuDvA+y+yKpKtwAYCigqs0CqoFRqv23IHqv6pasqJmGGs0FGuSp6sMmCgGq2t6B2tGr8p7xmisl4EUtZPVKtJRCRI00lk6nZCcpmA9gKI6JsouvYPUttknX2pOqukIxersF4L10kG+SQq0FQt4vQs8ziqm3VN1nDiBr12eG1guuBskHunsJNUjG6ojDGAuvuNYJIM3EI11g4scofwiJ4qsrTm0i1PyqfHusMjClphTGuldjJppyLD9zLAahEplDwpCtEIzGRi+uUvNkUvVxUpJMAhEqYPlvNjN3Jo1tCNBuZDet9JsKbRc1ur4RcRkoevpAQoHDBt1qI3YM+vxuSpkpXVtGVWNXRvogU2ep1ohqq2hvIthoZshOX0qPuhcVRo5W6pOoWAonDj8pkqRok2ltQiJtShVFJpCMEkGtmCwipsTM4rpu4ssuN2ZtmADzZpNo5sIC5tCHkJjyrlszLj5ozoFpLD6WFuotFqyJEvPV9LoObmluVuSplsDk1MhuVr0pUsbtAAUgYubm1teu7vZL9OegQx0o+hQ2+nQz+gwEEpFkJ2JzR3TJMVF2Iwnz-I0Vh0Mj3tR3R1ApoCvpJ2YCJzTQILMyx33TXU7WPreQanvoPtZwDJlA0VvFRReD6qkBeDvBHt6FRSrDAckCrEgd11RUYjgffEfEQeAZfCMmJFQZwQweKywdZlGD6qIc8FtCgakFRRyjTX4Hjz8GoZXnKq+AockFRVLrgdLrLBYaPJJFJBhA4puXcDoBDX4Z0EEe2keG4dRSatQakG4E4D8EaBEHxAAD5QBgcWqmGpGsHEpZHJB5HFHlG1HgcUotGkGsHDDNgDHQAlGCRjHQByQbHJBtHA1gA9GsgFGbGjH1HQAwAzHMHA0ABSdx6x2x1RnxwJpx0AFx3hpMWR0J7xhMs0JR8xwNAAQlNHic8bCfsYycJBSYCd4ZSpCeycSdADSskAKYIcDRSvxD0YSbsZ8dqcqZibJBUZKcMcaeBzUZadSd4ZUbqb8BmAafCe6cJC8b6bJDSfcZ8d6HCckDSakFjNvDBB-uR2vsPsZDloJHMkcUuAMD8F-tJ2FglTWaJw2f-q2coHcAACs3gWUdnHg9nShGnkH1mH6+rWFTduGZgjnNn2wJVepNo-nt83ButAGXxUVP82A+roWfnIbKGsHIBCBLQhk6HJBkXUXI94WEWeGyRRGmBYBIA4GCWiWcWEXUUCWABRVB6l8lyG1FAAOX4EZfceZcZfjr11Wb6hBak2Ssec2GecafDgPMOfeb-qvlOZ5fFdJykwewFdmCFfCa+f-H8BleYElbBGfTjzmXVcudQQvubRwUPJ1dYCYH3GkAO1hpuf4CHDsI0BSG9sAhBafu8Brlfo50Vu10HWNdMBmDWNsP6BuoDoSUPPMt2ULoV3okSPYD4D1YrQdszqq15alP2q9akBjcMBBYrWububIBhJxskBTYnD-gkvTfgbzsfxDaZTeW8CCBpqYE0ExGipGUjaZX8KDbhsZpJC1f9MZEDLXpDJ+kwG3ufVvMcDICYC+TUBGhhGkGtWM0PNZnRkxlgpGN4nGs2Exs-sXEXex16qYEaparOtwCCTXYQXQk3bixbjMI-j3bnLyCLJhDBhV1SAWXathidv9WCGIGICqpGHw2yDh1-e8e2hau4H4F-d1lJEaog0aoaqOpasg+IHpdtBg9DQ0E-e0qIEsUYCxkw80EpxbSI-NcIFw9HFEBIhnpth2oGtJDJAGqfdkUYFfc+L2ebVI-I6I9f16qEFJAfYqBw9XgopsSWmbSXaNVGAg8HRXwgxVTcm80kRfHE9AA1h8m4FIYJrGHE5EAJhva0+k80GxzycMkfVk6yHDhU4MkgwU5G3Hcg7PGnfKjnetXE73yyA21WpLXXhU7U7vGY0gO3PO2UR0-jogwY5aqE9sWYFE-2cMDz1C+OrvEaqPc9joQEzcRYzO0JIux06S7LBS4Gqi5E4cCWlYQS5k74maol1pFs4k2K4tmwbUD6ubT8Aa9cFK6vfe1tmYjc92wa7JBQaMJfEs5k+JsM9Vfa9E5X3ix2om7UMMgAHJUvm06PlvND6MCPRrxOBOP8yPhPmAvlpAgkjvbGrYXapPA4V2nxw5TvUO7xUUQgYXgp2g+rSRIpXJC4qguw3up9vBaQuvV8BvbuRxjvIrFw7u2v9vouOvpAtINvgftZIeU6xhkf2u7vTLQAbW7XiAHXqCncFEagxl88JOU0i1vPSkL0FvHuvPWo+rsvikLsL1y3Sr2RsfgxcfyAUgmDdWieqhuOSfAf4qAaCL5FzPUVH0sV+NBN5DBeNuilMfTv75Ac31CefkqgSe3CPP45afUEL1mbhbtyUbCRzJ1SMuhMsugucvlF9eQi1m+fGAJYnsZQ9mlfnEVfef1eYS89bfYx6CjfQ7rOUGFvmIAMYgved54cPFQk42HfI+qc+INuE3A+HIcE6vV81exl4+W0k+A+6FoP2f7Wuf8eW90+i80Gnxk+6EWe9nC-OfufB5PexkBf9eZuK-Rctn2bM-vuneE+EDm6UZ3CLeLZ9e39kYJe+qzeZfRfeAGjECmjwD5FVj9aZpI97BNfzuSNy8xeFviKd+JNS789g9fsw9dhreKg1-IVtLbyhCL0fzlZtCqfdtFwn-vND-70K7Q9-tguKgb-utIdtkCcLsCNFICUAvUzAAwBwEMB39N+NsS-pr2s5ACJou3YIGwCd7fcXII0EXDAOo4dpDAf-FlIL0x6ep3ArAFSLDAAoXsaItlaCj+WYjGYZKf4FAaQPYCw1jMtxMgVoBgrawWB5AozswM4EoVgEvArgT+UXAiDYY2lCQZoBYAuAu6DAnSmrR-IJw5QCgkyo2hwycBpchgBQUKUUHD06B2hEgYIO0C6CpIkVdQSvxBgls04hCE7B-xEpQ8q6EseBEwCSDsBvA0gY8D-F4CHYxe7BO-KBlH5NFZguxEwfsRMGyCyc4teRH4HUG90bY0g3WNC0qILAiAzgnjLMncFsBPBR-fQVqGDqohfBHA1gUIN4zSD1a-NYSHfm36z9i6HBZuMxDaDFC9+dQvwM0KCQv8xelQpusJBCENCbYCvcyNPX+odCSemPeaPoFiBk9QSHARhp8ToC9g5htDHeHQDWiwDx0gNTZAt2WGNBVh-IJEBt1D4cpNkLPJEI00mGLQZh0yXYQsPUBTDKI2QU4YW0hq3CJYaw9hBahdyWt9ApON4U8PoZFgVh7w9YbgLbJbDzObw1QAcLb7HCLgiw+7lkG8asAbE9MP4UCL2GGAoRawpECz1tDnDwmlw6YahE2SXU8gRIsnCvGxjJAg8W0Q8rgCpHS5YkC0JaBSOeYU46R2lBkYICZFEj8OUw0noDXuGLRzOJeCTCiIcBoiTMGIz4n0jRrCitIXrAkWo25GkBeRCo-kVcMjgsioEO9M-toJYAQxYIxIOzAoJkQ9J9KdJTaEkMJDSCoh8g9driDiEqURSiQ8IedAIgugFu4bSgaMWoHmjnRatI4TyIcAuB+GGkO0cIJMGRUAx+Q+CjSjUg2IwxggDSGpHoaCBAxBgjYY6BFrWdcA48NYI1QW6kh8xQIQsfLwOBHAv06YxGAtxFqSANuoMUDIBiTar5w2ho7fCaL1RpjQAsYrSo2JUDMQWxGsHrtoXNHmdExoYpgOGKyqLhAMeIx4IuHHELjNgk4xQNOJTFZUAMxgFcVrnDjLiXhSuCehtxLEFiYWEwrQHW2oDMiph8jSStoU8bKjrobMeMZXESBvAo0hRJAagm-HOA-ASvHsUr0tE-o+oM4k5OKFtwyg1xyY9SFlQAkZifgwA6gH4EPGcQgJLosEXpE3HgS+c0HUsd4BhYLcxR3mZCk2zkDXi+RYEt3LWyaiFUAAElSyYAABBcAOACpYAAlQqpAAADyjLZAISAErPpZqsE5zM5ABZfokxmYijphNoAUUyBXACSaGPM67RZBHATgJHwwHiToJbfFSUcBXC-i0QKA3SaMFElITRQ5w7MTQHomMSWJbEziTxL4lGS5AqkrgBpLEk3FtJP5FSXyPklvoP06ybSV93cnUBEoRIgATSktDoDgp5k6CVJMPIUjVRezRXOaKqp2Mtq74n1DchcAGTSkKUoKO+DVGhi4p5bYSYkFMmYC0QikxQHFJokBgRgGrEsjYhlAAAGcwM+itBRRVk9UsnltnKjkBDAisbqW0CIBNTCQf3BqSNLSAtUuQro7MONKUyTTpAKAz1B1MyF+iLYCg+aZtmLR3x+p94x8GSEl7t8tpuvEaP1PG57tXxM0WQPITWnGgVArAcYPVOPA85up20iniwDYD8U5qXU3TO9N2kDSZIHse4cwCihHBrUOAx4FvCCH+CYipVOEKtPYEf8Tp5PAGZy3iy1DOWgVbQiDKYBgzPA1qVof+GBq4z8Z1qLoXUPRln9eAqxf6qTPBlPS1wmPDgPYHYAqB14H-NQSpXWjAzZAoMhmdJI3Da9Mh56WgizEpqViSajo6gVqHqFQzm4SZZgn0kaKVFdiEQ0oTILNZd0aK8Q+iMjHcDJDPRh4HGgsHzHFgcaOwemQTJKF8DWS7gHofJCwAkQVZCQ8dOXhECpCUIfMvGQzOIrY49OVs8mR-FlmFCzZjAdOlPXEJ0zvZZM8YQG17xaDQSeoOZORUTi4hfR14GgXFPWhhCNZ6s22VrJCpcy1aMkLCEkJM5wt2CyMIgJ1Q3GwSbZbA8odGJQm4tegP4OKX62-yIFAhZ6H8Jzkho2ByQQ88yLnL4H5zYahc4TO3LjERz9Z4QiuUbLWBwya5p7OuRpAYGoTJAkYpuRrPFwkR95rYFSkMR9FmDPAHcruQPywgsyki7M0pNPOLnD1VKg84efLJtiniyx54i+X0PMiL9tBGcp0VnJnniErBgnQgLXJnF8BewvAZCMBP+q5iHI+E8sbtnfkESy+uNXYJLMgWHNBQdY6igOJFm8BNkrY8vu2OTlM4lE6cwhdgrin4Lmxa0b0YnOmRkLU55AShchCoVxjJAz88kPgqHFEKRxD-A6dAvM4ryFQECucc8MhpzjBQu4qQKIrXlbjtYhCxEVVgAwyLN5XwLSm3xQWFjMe0SeqVjCAL3lmi16B1LgiMWZJ6pt9DaMvHoDKJxp3Az+g4u0rzSRcDi+-pJy7ReLGZss8XlgyOBgzGg2cKfFfw26sJxIz0skRUB1ayJxpPi-8aDwJwhjqpoAdCUoKtHohl4+gFwONJlA3TZaxmB6aUgcUnE+o8it3FgTvDyKIF8EwqdVM3kihbFF2LJYUQcWyKZgaS4erNMdDlKDEuEvMWeLQVXRiJ17CAlO0SU+LDiQSFpTkuel4jSJV4lwHyN6UQSp4mPHVuNLsSxTOFlkzbg8MSk0jFcuS8JltRiW-SLY40w5sksIDFTFcpUsRpsqqk3K4xV08ka60O4TLalkk-ITeJFE-kEpVIpKY8FzFqM+kFIzNv-HmGGBKikU8qeJK+VFS4xeIp8Rsvql2IEVKSrRQ3gHoKjXlFQMZad24CncpJvyrSDnL6h7AXmhIXaBHCjwWxkepIAlYkoTyhFKVRAQ2amGNm7ZE4D+XTISuJU-KiRbfNlaUgIHorElFghSkKr0VFK1JxoL9KTzm7bip4+MPGMMRu5KLjAeK06KANkBwqzpLgXyRB00nOBjwd+XyfKpylizQhfUP9ISF8nvpOQn6K1RHIah-tPsLJHKaSoVbuRvJGo-4AWhNUhSwpk9AIHtFOCkgcpoUhUeWTLC9cg1zyp8e6pumLoE1pKufgPythWBNy5I3VcwHmlmsjV7ijJUEGgkyhGlv4C7CUpRDmrX08q7SfUN-RNAZQDq-yU8snpuqFAKa85d6vxA40-VLI+UJYu8DRqWRLK2YGGqHWGRxpo6qYbGozDMRLlSIxpsmpZLzShV9xF2YnhAU0BIBPa9oPqp84JrSecSq1cQvmCoCJYp649Rtz3U5TjV0U7SneoTUPqzJx4NQO0AgFprC1r6V9RVLFylLNoPsKKWZPOLWTmJrEjiVxN4ngAZI4G2yVBocn8T2+OUvwE+OA2HrRQvxZuKSBZD8cNBeQPdXEuLUogP1eqgtYat-XVregDUDDZsplDgb2JIUAADJUtYNKIRjSxrY1QTtCS69DZ4CvVorsNb8vDTKvvyP4RQNzNnLXkFHGoZNKA1ApJumid5HF0AjPC4oMRnglNZQOxDJrEHBz1NKA6VPnWPjKApNR9PTbss07yaCNg5LIjlHM1kAVNP5VoXJW2TboHN00XTepv03YVDNtmmgFaE0A5IJYhKyzTJNc3aqNoNzSgI9O035sSVQqjxeJoiLxbUEaWnKrMFNlSqFRG3STbFuKWabncjmwgRlpUVQ0D84yhwDDiyJpbuAZW2iK3JxU6i3kk6yNewDe5MrqtfVfLawC1YewHNBW7gJ5p02JbcVyWriqZroAlblEI2-NqKI0LijvhUoyFcCKdYZgutx3CgvSjm0khdtXeZrQKMa3DNvGg2x6R5rM1ebhtl2nTXvK1yHaRR3iNra92Cibb0WZ2gDXqKC34Ydcgq8bbsoBWCAgVd4EFU7K+DWbKthK77W+yq1bao+Gi7apePIlLKNRWi4oFYRmBR0kdoAlHYOv7EHzlibMY7fSBy06jHobWj7p1sh3Mq-A0O6SHqNcl-t7B-g3ZTgQ-4Nsm21zBpG2yZqY86+ePHklTjG06jiIUtBUZSKB2HKMwoOjbepKZ0WwnIYLCgPhkLajcW0kq9xIWy-JxCjGh4w-gOBbmtypAP2L-nfUEC2VpAtdI9k7IPm9BSQ-O4vkwQB5hcto2OiiajqPkZhCdowRWg9q0jk7AgZIB3Q3ykhU7-iHy7rX4GD0l8mBOABqDCDfQMNaGMoAAJzmABtqkRhqSuyDeDtkSeuVOLqGSYw1AtO+oXfiFHWr5I3czcDQAMjNS5ZUgfPdwEW6LdgoaAdveOqr2Zq+kTe+UQ7N6D57SVLAGxJqOJHhJIqNAFKLOWGFRzG9me2hkPqL1s0-ACeqbTQyUbrLPAgS4JdPmLifrhdAon8n7oD28MAltDHfS+UZXU7I9wQLfefujL07n03fFQIStYBhrBwDgWmInGxbkrNoewGUG70aAe9n9RgaLhpzI4DReqpgAHqXM3Do5pAX+tFqABM5ooyxDddgk3tJDJQUoz+1JYkpfRhrJA2B9KOet7Hz6gk6PT5dqCnrz85IWEL1aAPAE3I0BnxPYJXt6BEbupB6+9c+uilTKiVDsrCPAcQOR5kDDkROC5VcgN7JAmB7A6DhymXq1gMeOQyQcaIKR5+5kWQ3IZSinc+gqy7aNoeSid6B95B7PWCvF3A6la7dVRjjUoPVb1tWuRXQvDsH0qpJaGg3W9G8avY8Rb2olVijd247bxKqPiJuvjnzksiIQOgFFExhv7AgL0ilQAcSXK83AqvcPsT3I7gHCDUBmAyBM2giVzivhvYP4dhiLLs9wR4TZsONT5HzO73SgKVVglaBexggfgGZBIie5oeFFV-TYOV0nYij+nao+4Z12NNXsRsOtqAE42sbkNgk3CnIDKmPLtlsC0IvQEfq-rtJC3FSb5J3jzHrlOk5yXpPOV2JtKxklcI8sPITG2NTks8JscE3eAtlOx-5eLszYOGvgA628a2qdUBSdj7Su3TOpDXltXji0Q6b93qmzrFoORwqM-th1BJFu347gEbtAAAAdLAKetTSglGDuAdoEtBVSKNDG2OeiK3vwSf7yKV-cwJCcJUwnNJcJo3UiZROsyJY6JzE0YAOn4BBwkVU4MxBZOgAAAXqq0RO+gIVDJuHtrpsZ+AeTeJ9yASdJDCHiTPUOiHgAiOihojT4GE6iemSCmlo2TYboGhaPBR3Ab3YgG9xhYmBFuYIGwGSYmUqm6TrgMARiaFOam8Wkat7nqYPiGmAekp9KEAA')">let THE_RULES = null;

function fetch_rules(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_rules(pattern)
        : get_all_rules();
}
function get_all_rules() {
    return THE_RULES;
}
function get_indexed_rules(pattern) {
    return stream_append(
              get_stream(index_key_of(pattern),
                         "rule-stream"),
              get_stream("?", "rule-stream"));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p40' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Add-rule-or-assertion!</kbd></span>
	<span style="color:blue">The function
	<kbd>add_rule_or_assertion</kbd></span>
      
      is used by
      
	<span style="color:green"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      to add assertions and rules to the data base.  Each item is stored in the
      index, if appropriate, and in a stream of all assertions or rules in
      the data base.
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-rule-or-assertion! assertion)
  (if (rule? assertion)
      (add-rule! assertion)
      (add-assertion! assertion)))

(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (let ((old-assertions THE-ASSERTIONS))
    (set! THE-ASSERTIONS
          (cons-stream assertion old-assertions))
          'ok))

(define (add-rule! rule)
  (store-rule-in-index rule)
  (let ((old-rules THE-RULES))
    (set! THE-RULES (cons-stream rule old-rules))
    'ok))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPMVq1IjCK8uDkKgLuunTlUdL66hbz1kpvTcWiaEGnO8yCv-dIwOJ8lwFJ+u9Qxl6FftOr03SuBoGV+MvlNgAPygLlMo5AAHdVDYnBPPO639rAAC5C7v2DJ-KyeBa7eGAkMZCsxdiEHIGqYgdRQCjHILgMA+BmBsFIPMRS0lGCgDWqAAwTZVRrTQMwjaLJpqyk1noZ62JZh2GjIwOo9cgTy1cM3R+TZqCCM+lA0If96iNGaHUWRNhYHc00GUHhWk+yWn4VIoRdoVFyMLno6RJgjGqLVJyLhWi5gIMkWY1WZtVDPReMhPQK9Jz-01sldBWRQB3H-r9AAVH4mQwTqyhAChragj1CBKR4ZIHgsxEmTWfqELxdBCAeDCQEqxdAbEyE5skuxA4NYhzKmEwi1RKD4HoVknJAEAmPAUU0YgLQV7VHXK0pRHRqidFAPIWQ6TCheNMfgwJnDSDcKKZIfgswdzZKqUyAq4Q6kSIERMlpeDFHtLqJ01Zgsel7L6YcgZQyZAjNWeuD+Dj9mnNWd0fpQInk2FivQbwUxEklNSbMD0S4DnWEyUsppkzrHTO+Qs4M5TfEAWqYUWp9SQXIWaYE45HSrlhFkG6QMMLKkAWmBY1Z+xDh6FypC0AJKfC-NAP80+JhCWHKZTYXFPj8XIVHLI85chhk+gKmMu5eSpkzM5vM0p9JkVZHhasxFGz9GotAOi-ZIyACQ1RsUvFgpKzSWA1XMoKlSvQhqaV0oZUS-VoRFmNI5YRPV1huW8vNTYDVtzNl-MXKfB5BVXkpB9aAP1AUEp0H2OQChegWCAsFmwB4gS4QxLibsOETrQB-3jfE5NsDo2PDhDEWQjBFTJusH-XNnzC2gDUYwZgPgWCFgAKrEEeuXIBzgUGfjEAAWnbXY5CkSbB+vXEGkNFCwxeNbWg0FoBzZuKyB4joXjCF5LHZiad-w40ZATdWLxWCcGBKXehMJegc0fPzdWduEQjx6D6rsM+EE9aRylFewsP9hJnqkDEBoVEAJGq0DelykRoixEtCGxkiQAg7AvUBn9Tjprvr6pIRJhJv1diBF4nheTIOmC9aIhc1KilmD-nCZ95bQA8JnmDQh-7sgsBFT8opaS+WZLyYQmjKS6MrILgwGNiqdltJaCm0AwtiN0DI9NQwUiliyk+ehGIkhYNUT0JJ-N-QV6yoiHJr9inMQgb5RkmMOC0OBLk-B2ZiHNPKa9bpksNVHB2G1GZtshg7C-ACWWmwFHHNUZFYWezxB20ed+L2lI26vPwh835qIVHAZEsNT52YHiAkAD5rOVtdAHTkUmHMRd+NK-1gyeWXL5d0MWonyDidsgvWT845OPwXp4vTlKtDUOcIEg+Ghj61a9apt9OzP3uJDU17TsjUNFLyUZhD41+veGIOxlIXjSA2dS7ffz0bXPWHc1l6jti4Qn3C05lggWwjBa2zt5bUWmWGpPnFswdwkvzZS9qJbG2csOoKy8oiAUj5LGq8B5+2HHMxH0BhkuWAsg4IACoAAkACikgACC4BwBQ4AEpg8gAAeQAHLIECcLDo7d8D2AoWlvNmJZKTacLMUhSJf2Uk+5Vj9SGBuyL-hRuTYwfNk8a1N8x1RYEUfUGVDnWc2T89KMTjL9B4t8vXJDmH8PEco-R1j4XYhWc9fZ+lpTMZGfc9+xBdbe29BjZMxNrnTgGWhc15iXbkWrKg9ALLyQSPa0ABkofY4E83PHAUCehvmOVrInPyBNcp5JU+evbx0++2b6bzOCH2Hp31MYJ8g9M95-Ht0AuA8CVnczaaouyop6lyIiCjvndu-ACr5wauP3J4Xqn3X0uILLYDrHLUrQnUG888bzmiHyfTcZRagq22F424C2a-VXffiHufdvUfp3gd4AQgwUhrB2BwEQMgdAfAeDsNVCoRcDlYRamUH3W9215CKAPxoVMsQGRGL-uDPwRjYE-BJPf1Zqb13xJAviOlykOwCQiQkRyhZgT8ecCpX8ow9M4xzxUI210oDQH9BkPRBoYDGxmwEDj9iBT8X9wNkxXxkI4DMDQ4P8Co-5r8cNCD3x4DSDPJwC8CIhnRNR+RyhkDKDmCZZ6CcCID084pipEp+hkor0QoGIkDP8UDkp4pBDaBhD+pUoxDjAwCeDGCJZfgeJKIRCFCwoyDqg-4p0EIyV1DxIWwpIZJQDVtCgDI74H4GRB8h9qgGDVkoCuYeYDo2CJDKCIYvR1FeYsYFQ85TBlDcDnCdg7YPDyDJCypwinwnDICdhvIhhoZWDdDCgKDUDEjN4UjuCQj4imDY5g46D4hkDA45ATJr9NBpI9AU4tCKpQDBkeD7CLVWo1I6VZIc5AiLdwDeDCgK0q1pR61G1qBm1wZsR+RVAqJQBO0ojKi7oRNs4CiTJhBZgOiBYut6pKAWBBDlAlhDDhBBsUh1xSjOZaJNjtjdi9JqiSAViq4mY+08thl1jowWBdhqB6hJA9iSADiwgBUsk5Ad0Zij8U43YriB9LCwg+ppI8ElAcDDhaAnJwTqgU4JIkRqFZJ9imiHDqgOjMSsSUgajYTmAWCph9ict8ZG47J-86JFZTBzU-5KSPU0D+QcZqT-iej4ilUHkXsRlvB+jlj4RBim1nAAoOZdhLlpjjjAsis99RJJggCMIlxZIr06BgjOl1xy5R4lSaIZFIjhYVFYFDUKigTO5M8q5L1tSujGjC0WjFA2iJEu5bjzTe5VToN99UDpDSpU5FDLoGjT8I9G4oglxL1-kj9ep+p6oWh6juiLF0jD8qiwzaImTOjVSLE1EQz4zZoRCA5-ioyeD5i2QvDfD3DgZVTn51i2YOZXCbo+ZPpI1ukeNekXkHjLl1jJYyYkiKYLpazMUNgIIjSqj0YpYOyuDjBPpphwCvVuSdMbAvFBz2zjAFTLlAkiV+z-g5z-CcYiZxy8zZF1iGTMJ1zbhFzvjrkIJDy-BFyLN7iLkeyC5Cy3D3pC0R5pYYZcZtzT8rz7U3s-ZqobTJASBmDIyNJhFey-1hY9BgL2Tf5PdShZEDSDgfA4RgkAL6IeQWgIlZg-yUK5Q9llZILQw7VQB3tqo6AQ55w3jpwSDScdZ1jvCQxMVMlqY8lvCNzKZ2hZFsMKzOY6KiYiU-49SmVYFA528DAyKCRsFiDZxqLzysiuzGRcSLVSKchxLKKpL+hZIp06LETmVnzhzXyiZOVQgpyOLz8kypxJK0IdDxDDlU0YRJxYCgJl0cQOwQwiUXCkIaCqLvSoK9CgkpQPKUIvKHMVJOwv59VYFcdvyZSxBKCYici6srM3Y8kXYQSGQvUvE8VONwYxKKKLKEDZI3YZsZorNsKNQWgsqsLERULcLMqir1xVy9A3YFKCpIT28YTlA4TiSyU2UVTuNAKhEXT8yYqMjMxWKDZfSadtgp19ygzk0Gq7Jai047DtKJrXSCzUDODNz4rn4vE6U8kGrNrtR-87CJqvVmDf8yp-9DqyYQr6i6VVSsMII6UhrnBKD7KMC1KrKlCJrn5zrnK9RFy9B3rVLLL5x-rMgLDHD0z-hga8rgJjqDRVTmqJy883TkoAq4arxYieDfrqqLrAaMbHL0JwbQrkboa9BCbaDl0Eb4gkbZEUb3gl89IV8yF19OAt9eAWFoqsxAz-gqJJrnBJiuNeaXrJ0XELjupv0w80TZgmqfqm9lpfpnjXj3iEIzsLUUSzCMZZb75eFTrUa2R+CXi3joS9iBbw4zpcp8BCxlaTaoQ1ah4CA9I9hTD7BzD8BzaVpxprbQBOoq8nbuobCljPa5SxpqjZhJp-aCSOqiSnIPb-SfpMYw6faNpRbprRr-9iwoTkNQLKQAEZrkRZgs7XRHaIgC6KaPVza71zoK7PRt4M6PU95VQC6mTs7a6AUE6vYoIyhTU1qYqyANYuRdB2rOqnJwDO7xVL0dzitVR1yqcSRx6FaIpNwGb243pB6LYliw9SzzBQgS9bxDV57NJ9bugvEFglguKR7Y7XQ8lIr24DCw8AC9Req2jzbDUSaX6PU24fcw8Lr0Sw81g97c7EZNwj7Haj7Fz-7qcLAgGC5AwwHRbWroST9R7NyQrP6eVZaOQL6cal6RotQdAFgn7MgaYuMshdAiGPQdSJDDUH6QCP73UeULcPBsH2qfLQhYFyHCH5hiGmHQAAAef+Ahyh9QahmywZStKRQ9MHDIMW4gbENUKudwGGcGeJOOFoWBOEUAAAaiIrxOsH+10FqXdnQbMF0cBnhB0b0f0cMZ0GMdrtrPNT6KkbhBkeoAIBkCAUUZ0GUcplUYKMoA0csd0fBNsfsY-rMfhELCsdCaiAB3saoeB2iW-12HxuOpCp3qBAChP3GAyCUkXtkQCiUvSnQcYZAsOWw3AoidWwoJwNydrj0G0vXuoCHp0CvvhJxmjLxNgRJoVUJlMfBL-ktESfBJ6bIuVgiahQHESaKqMt3PWRPwVXPqUBeMrJQevv5EjVCF5KkZJrrWIHSHqAEyRAOyMubNvKBXqyPryTnsfpRqZXXGKeqN-o-ueep2aqHwgbtLAdmb7Te2AderqZiXyenu5vyQ1DSY9V4cYcyaiWqhyeBanr9OnOsCKfGYYdpVEa2YLgViVmqaH1qeUHqaUksOadafaa6q6YtR6ZCr6b7HxYcL-g1WGdEcYfYdCKeZ3FMamZ7qxd+ftWsZSFlUWeFueEvvWY6c2YuYkf6L2YFIObtuOb+CmK7WutOevPy2ldnLDxuZNI+LuZ3Ieeb3GYgdebAY+YtS+a-reb+DJL+bmYBd9OJaRaQRIWZqYDXygA3y4G3wwDBYiFOK2KoB2I+MuP2Inj-XvHvRJOuPhEDfOKbrZHjeDa+xeKyAVFDnDYbhAe7tBOBy3WiCDcoBDeXzyVyigQAVNAsZsFNGZQnxSAAWtGresGtDrYUoASpWbYa0ODbYrd+nYi7fYl7asN+lxbkAsbHdWXrbCAAUHSTGxAsbndASnfbd+h2cYGbfXaZWndCAAQUgWADg8DoEBn3f9xPAYGqB3ZsAAW0a7ZsD0ColmGxGuyS0mN0YUdACvesAAXbTvesAfafZfdAEmK7Q-a-b8qmCQr-foUfdAGfcS2A9AGCTg+sHA4AWAGg4A7g6A8mLADA9XalDhAAFJMPYP4ObtEOiOUPP2CPIOY072sPyPX2FVn3aPD0ABCB4BjsjnD0ATjwJVjvtwj-h0jwDhDyYwR6wQTkd4Tu4P9xj3j-hwJbDtjuEBLUT7D8T0AJLKTtD36BLOT2YMIBTrTgz3T1T9j6DxD0ICj6wdjmwfmqBJkAts4lN0NwOj+lzaoBSJSU0TBQt849zg8JmFzotkt526gDwAAK0YU41kR89BIQ47YC5TYse0lJPA8OxS+LYluC6ZCwFC8C+BoqphAASVQsaVUy-0Znd+kgGIDaUSgXaM7q4a45iq+q+vd+lPckFgEgGbe696-a464g8PW66hy7bG6G464AQx1UAx2g9m4x3ZeG+c-q2TZy7MtgM87uHi8UmqIQ8tA9v89c42+K9W6s3W5DdhraK88KAS7qQo-S-kspWy6u-QP5m92qmOI2LC9y6vH5JznYnNu+5kwUUYDKIB0kCi9UDUFIuiHZkaaH0u9TaDk7Mza+ItZSEB8mFRDCGIrBmxR-wla6vNqQahGJ4RItWErwSNVe7++JtKcFbxOR82+1EmeTWp9aBZ5Tki5i4oF6sRJZ+u6-qm5ZTFdWc5gp5LrDHt2WZ0A1hYbKil-5GYpBFSeV6mHy6Zu6hZs9Y4E324EwDBazpTAoEkB5kMHQgUkYG1gCqrrEU8G8EHAvl5ePBtXYaGZd+Vjt5A3MckC0d0bCfwBMm0h9-YdgVD4ILhUdueIUi5hROkkagA1zmB9IHmxYEViPwMBWLT6A4YF0YUzT4VThC0YIy0c0eid0dUFz8x8ORL4dmT+-uqhIAklkF8GT5uNzk7--OIFb-D3MBVX3spFsasbhEPSsdj8olkAT8jIS5zh77787+7PMZMDhH9pb+TFkGWG8Goxznt9fjKD37jwRGbiTT4IlhhD37OFOCMSNzETfmDD37MCCDgUf6rhA34-hGfQ9-oUtCv640Ixn8JCJvavm6At7Lpre2sI-oclgR39W8ccBOGmCv7nBzUb+Ncs7UWpID3+YVCQmPwD7cY++2-RgNRj-6Okn+kTc1Fo3wEk15SGkUEgeC9JhQn+MTZlFQKsYb8MYSwahCQK94dEFM2A33pQNX6pkCBm-VdAO076zAOBW-bgTgJSAuEYs7-OPNINXSdtMKMIUgasB5b8DVgFuFQUQIjRwUdgtjHQT-zhAAByfATnFH6WCjBQfEyHv3X698xB5vJcIwBMg8x3B+-cCn8Ed4+BLQng6TsN2-a-QcgdQCxnCCkQRDy4iobzFbgiEnwUQcgsIPImcGcDnem4QIRbkDBZCpBaQmQTv3D6iD0hAQtwax0nq5DihW-LIaLWh6w9SA8PN0HSnqiaxUoTpffqUXjihwr0P-ABJ0MQFCRKcGA+QnUR6G18bACXOoRyAaGUB2Yi5FobdE5BL92hyQjhkLBAI9C48ACWfKMUAJqQ6BPQooVelFqBCdQ4xKiAsLaE9Cyy6yfIggO6E0QTyM5K5s7V6bLl1UIVWgSARqIjC04hwq8gW1aHpYoQHRPJAl1OE4hzhlwpYd4y1LXpfm64FOG8OzSds48hqIDMwEWGyAQRtxC3NpFohAjsRmpQxOniRG0sABA7NEZiNSjs5biRgskR2GL5TC4eswpoY3TREIV6BTlDJsmkmEw9phjQ+YQSKxHLDDhRQw+q8IyYvdCRtIlPpOXObrEDhjwg5OuG2EWMaB+wjYcqPlE3lpy9VGiJOXx7TRRS-wa4XgyzCGlHhceS0JsPTzrsnS+zIYiMUwFiATRibOsLQGzpwj9+lo69HHkDC2jeiMrKRo+nlZOjXqvwicJ6JhgvoAoPmZYBXC8ABw6gDQVoGaKH7bATR7Q4vppjX4G0xA1wEEVbnQggl0xjrS0MXTYr-CjRD0cWq7HfQA4K6bvLIIww7rmju2PgAKq2M9T5jnAHgBscPQCqNUBxqwCepaH7F4IAcjtCcQlEHFQsZxU4ieoGAXG6BpxI4yrPqxAJdimA0DdscKm3EINexgyKiFCVaDbj7qO421hPVoZ1iVx+gc8ZXVDzU5RauaKcK+CqKhij6eQw5tCSPCSBKEeCLIIwBXgBRowuwcoo8MxTrEL0hwrVvVjvHJV1xMmI+g6MvE9ijWt4BCVxiVSFpUhP4qEH+IAl1AgJqEsBoWlgRgSTId4wGneLtYCsby6xX0U8K6QQRDUlEjIWmOVFF1a4JkAMcqP5a5ZdRRKfUbsE-L+p-mBcdiT0NFot5OecBedpGToAlIGgCkqEHQHowZiswVTTqHHhUmgIxg6kjxEYPRH0tOo4w-9nnw2zwC2qek7EIpKsk7gzJK1PErZIMmTRS6zJcHtkBDauSbgyk+QPpLUkaTHWY7AwDpN8q+TpA-AIyenhMmbglJovCyQhxiDUIsgMPFCKpL0CRTDJiUw5PFgo4t5HJnKH8gTysn4AkwRgPbvyXKbkltg5UrnGDQ2zt8qMkge7rG1rJR0KpUJSjNPmWzeDxEfUuPAJSDEpTvAaUnyQFLskd4mUhMJ7LX3ylJZ6pweLUD1OoyFT8Ie2YqWCzJ6yZFA9YSYDjG3EUQfSYDHavBJHGITJxw9ZCY-QPEANHqmEi6dhIbJ7I48ZPJsdQWPrHSnxtrYyTHlalaAw01E--LRNmDfS0JfdZwP3gBl+4kMYMrQD9P76aS0JxffAOaBaBaNj+aMukBjKMHqJ1AcM0AMdLMBx5rm1gIweemTBIYSZvlHabUiTIHTWCIaeGSdIAYUypAhqH7OcB2CGpiZHI5aUFH3ZhpAwwGcyaskDDEyxZBqf6ULJ4ZA4pZHXS0JLOcnMofmRguENjKyDhCZJAOUHJlkNz81rxnI2DgtJgpyBIZNURYFrADjzgfMCmYsbQFmCnDmZoAU4adIYz1ZZZbUP4gCWhmyy9AzshGfkglyzAVZzKN2fdORlezWSO6bNJrNxm+Vhp8g8GLrPsD6zPM0cgSDSQtltIixJOdSjrgpwQyJ6LeJaQlydTHT3AiWMtBQibCPQbZ4uLXLkErk1oGsAs4gIjMSm+4icHOQuR3Ihl257AtgCrNGBIDUI8kAABk+5gx2kQCbPPAMKLLpKArQM+CPJNrjzAkt8UeZ5KsY8AHplILeevO8D+0p0s8qgl+m3G3x+hwEZeW-U5GADMEnIq+QEwGFVY6g2gsPqLVsxIhz5yEbrDVilRnSrMz8+4UvImQCZPG886+WAtzxwswYEWJYCAjkDawyxhQbDDBMgl8UxariM+UONDEgLF50mfZG5R5mcjAxNDTkQgskBILtYNoriatioU0LlYYokhccIkm1T6YdgRBeoG1hXxRaDQMUngikBhRQxd03cVk2qiMKeFl6SNNBKpn0ppWwrPaATO3EKKUWBUG5BAjElnMhJQ+LxB4Eumzi2mN0jYZ3O0VoKIIBi56Q0F4zKJ9Gf8NGflksKwIpFyC4cVdLaYgy6JYQboCqmMoYTG4hpGmRaj-iuLaFfYBRS-zCXMLVhMAggKIxkBiS-U-aSeFwuoXSLpJNYgsieLar0zXi9EdxA+LkCdygFhgUAFhPKVIT5wKEsRba06zrIEJn-SrpinrLGMYZQM9cSDJHEW4w5mLYpRDLaBM9uScizseoG0wdc8AwSKZUNnOkeLDFkPExSSA9BmKTKj0uZU0pektAsFJANpf7K7EqzgZ847pYShVSnLUWbMwSseNPEfSCUfSlZTos1ayoBF7eYRbkGWWYtmxx9H5jA0mXTKWJt4DWejO1lNldFFi28O9KKX3K-mJU6aDsuD7tKeGuwEpLsDFTuzkZ1zAAfHPCFYygVQA5OfjLKBIrMEk0UmWHnZk4YjUnUJnsYjpmKB8lXIPrMitRUXKRpUgC9CiuCUpAKCOS6EnkpaYMqZ0KKzBCUlOmgBflwSclZzKpXcyA2nIjlcoOIC7LAZPDEWU5I64izJoCssIHCs5j+ygMaq4IQVCAyarel+JABkUMBU4zgVMKhYkHE5iUQT4AC4+oHPblOyyhm4q8R7KsyJhsg84E+Hkm-l-Bf5geSrE6qKpeIdV3smknknNSRr-ZLqkPM5NaxHw0wPq5SlfC1WFAI5z45GZGpjmozcVQ05uHjOhquDvAJkW+CCTTV+rasUs1pnrMamG481WctkhbO+5F5+8JS9saXIqnlz9U-qijmWm+4OqF4Tqx+a6ohnmTu5-uDtTHk7kWyuQabJYIEIDnurO1aE1aebR7VaA+1hQDFUliJSyS280JXyYj0tbvpG51FBNVNk7lSzTZ7a+vKuvLUu0J1PzZqqayeyINS1K6wIYjM3WlKcEO0YQExnsBWhsQYpJ9V4MLCrky17gg7OuCA0kAFUOE3youtR6waPBZQv9YNPTyIbcglYxmJBvKEfrNpL4qQJfWLBRdLiypfqUrBo1R09WlGjEE6RqmCw6Fvcf2iPCY0iA4RrGm5MGHo1HjWYEvc8BICo2S0aNE9UKYJpnpsh1yQacTRQBY3m12NTfMGCPAU0YheN5tPiRxqPHtIdADkKECusk3tjVNFsyjdQBiBA1aAimxmNhqexSbyNIm7jQeBs3EA7NYjFIRuuWxGDLN1mrjbZq03ubPNuUmwDBpXXrlXNUwaLWOV1SGqSNVGYHMFhlB4IIhEWsoRY383TZp500BTVZubliatNDmzaU5pWbsxOYmmyWlVv54-8k5YQV-J5PGkZTApZ6plBlvLXVE9WNWqYD1rHI+a5p8W4zkB3y0BaBI8YIrTxqymTbatJy-Roluyx7gUtUQ6Dd+sy1gyxNBW-LgFAM1H4cSA20rd2rKm9q9uTqfdUNoRT38ygHW9wRBRkCGbE+GGnQXFsNUpB61acxtZ5h+bmJCK3m97aVk+3T4yJZyiKs3Dm1hAFtEaNEClpiHpa1t5aixrtukjbb4WVEJsNglNGQT2xDVUMXLwV7CFCSkrTDFkrEDMiZhcwq6rcRK1JbVwjzY7TutO2HJzthyJPPNiqKvi4w74-4OCU0H9avx4JCmpThfZNNJGnY0Oa9psBwhBSwxKGVoA+UqtgmuqM5YVDJ2Ci6USQ5bvxn+3pygdLK+IsLEx6Q6lt2CQ9KrtZGLk4dcZZdettABm6KdldPHF4gUgXCl2CjQJAAE4OggaCQEHFASrSDAIE6qK7tWmyZqEvgWYNNigm3CrtvgZiRq0eLrJmsjwCedi2sCu69A5g8wYWDQA571W9EzVuotCDp7Zp3iovT7vnYh7EoTvdabBCCICYpivtASckqBDB6W8Veo4LMGd2ibg087NtcAlATgIgyGocTNTuywT1Id0Ok3YAhARgJlgECS3TfmkgYaLG6gGfYPp7HtxhRqUJ7TEG3R-JvA6QLkG1wA2uy8kEIsYkMAuFb7OQUtNvrvuwSj82gSQ+pfQh2KMBD9jXPjtmi5DkNFQkadPXCE7Rdpr9DAQIeIF74P6VWv7XHrInT36Cf1oYQSQXr9Syp4xpWV2BJhTGRkdoce6wIWPnlSJL1SAlMUQbbAgkcDAk2VG-o-0cwv9saH-a6BRDSsADQBiUg7OcCFi+MrBztEqCQO8pkl5zdRSwe4OuyyhwIH2QwG4M8GBJrepqYeqsm7r9UzOvEvAbKFtbquHO-kFzoDmIy4sygIXQh1PxhabtHgoGKnIB3+7hYdoIqtKXxx6scgdAIBE73v051nhVmHaGfvdWQjL90IznOkJcOP7n9KGK5mHiyomGdDKc3QA2ssPNwcslTcREfS83GIEQ7jWWQDiJlaBVASaFVLAlUOdbNDVAI-DtG0SgNQjFuQXQQCA5GHRa+B2+IQbtk+Z9+jqxo9Sugq1HR1jRowfgYaPsHHa3R9g-bPzm0AV4YmOwKQaqwTGGcjR9KvVkyB5yJcWVR3PLmRyo5McleIEEsYRwrGlcHuGLOwauwIc5j4xu4gXEiEmx-a7RmdE-D5SjGlgt8GTNVj4XBGrMRxlPHkjLyu53cXqD4xXjyQXYF4Bxijq8frx1UIIZxvMe8BANPbzBmmPQBLoAA6WAZo8eqhDoH8AUiajAbrg6AcQMFqLPc+AP0tM5iWAKEyuphNW44Tr2xE8icEWomK46J4gd+lJSEA-kFuPWoahZOgAAAXs91ACImwgcktExiYqN60eTuJhwvibhDUGiT1YPVB8HsP0AnDPgGEyiYTEfFhTZHdQYRyyOGwIhpACIeEMZDmCmQeAUk2oZVO0m1TDJ6jJqZG4ygIhHgPUwaaSGSmlQQAA')">function add_rule_or_assertion(assertion) {
    return is_rule(assertion) 
        ? add_rule(assertion)
        : add_assertion(assertion);
}
function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    const old_assertions = THE_ASSERTIONS;
    THE_ASSERTIONS = pair(assertion, () => old_assertions);
    return "ok";
}
function add_rule(rule) {
    store_rule_in_index(rule);
    const old_rules = THE_RULES;
    THE_RULES = pair(rule, () => old_rules);
    return "ok";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p41' class='permalink'></a><p>  
      To actually store an assertion or a rule, we check to see if it can be
      indexed.  If so, we store it in the appropriate stream.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (store-assertion-in-index assertion)
  (if (indexable? assertion)
      (let ((key (index-key-of assertion)))
        (let ((current-assertion-stream
          (get-stream key 'assertion-stream)))
      (put key
           'assertion-stream
           (cons-stream assertion
                        current-assertion-stream))))))

(define (store-rule-in-index rule)
  (let ((pattern (conclusion rule)))
    (if (indexable? pattern)
        (let ((key (index-key-of pattern)))
          (let ((current-rule-stream
            (get-stream key 'rule-stream)))
        (put key
             'rule-stream
             (cons-stream rule
                          current-rule-stream)))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPE0GJC4UQ8lIGGMNgZAYYhcPcugxCMSgFEoIS4njQNBvSBQWDIGa5vCUAAB8duMwaPlIappo+LaYj2g7UhYfB8A4IRNvm3b9r9FaMn-WantiS7XtSMcNUetMIvq8xBuYMQJGEBhtzBM7KB2Pp7jEBagsGrC4fCAAyTHen6QYMZHdlEfB8K+oLUAVvIBRiEBqjFoSZbUnByHodBR6rLoKniBq84QZcQxfDWu6GHwUbOep2moKCuZ9CIz7+WBy5OMGi1qDEOhqboWH5ao1GmfICHalZnc4as1X1c1nSgawPmmTVjXiC1obBZuj7ztfaW8dlpMhi9uWtsma3bfNh2ndwmmCY9paXBlm9-fmhWyeV1JjSEGcKmUNhyDK+hJeWPWkZZmH2dAcFU6djOs5zugeZtpWPPL9OTCrrLGAFoW3aeqOGZjv2fdjn2McD0nbcbhhK+z1uGHDvPYk9kY48H+XE9twbq2O8Vx+byfUVnmIC+Zo3i9N0v1+oTeJ+r2vbbPi-t+r52O73+mEwHu0387wOg-r8xb7+LfM473KjPSO+do64wXj7eOw8zhJwGqkLOa1hDkDGgAD0IIENwzhn4HwNkXNmJ9JJUxYMgtBGDiBYPoNfH+aJiGkPXBQamWhSCGBweAm42J26uxFmLLm3AP6AxXjQ4EdCUE3WEL4NhPcIGDEXnaIe1s679VBqkESQ1mBaEtlIhMYM8FHwIZ9KyaiPhUGIJbahyiXBqOIOgzBhhsGgLnuAgRQ9SZKPJoNN43FUQ-BseQyhdBtGM0Lvok2hjQDGSKGXeg3jnC+NsRQ+xVDv6WJUDEshpAGDkPxjrbuCYYYMECDIEueIUnky8RkhglIglolBIUyoJdSQj2ERUvxmTOja3dmA6RBSiklx0Io1eqRjDtEdsoCOuTuk6P1obKGx9wnghGbWRw3MymcQSsQIabRlnjMemEXW4Di6LO2WM7m3A4ZhGaakpZpz1GmMtqwyOsQpmBhccvK55MqgsJnCYzRjtOmUH2Xk15XsLlrI8pgn5GizH-MeZ9IFLyXDx0ubAoZY0FCaFxDclZeyhIF3SJkXFHzk7Q3WFC+5-zcUHOkW9QlyLE7uJJewDwXhn4v2CYfOZBi5pWWZcoLwFjyYbIYHy1ljj96HLZuCUV4Jzny2JR5UVIr8ASLZfPWRS8A5uLRRoQgIJuS73Fey5IMz8FhJ5aXXV+rW6Cs4nzDJiSHGTKcdIt5WrUXCOzmIOFXSXWvz7naaBQjUkOQYF61hRAEV+uCQSrIkbwXmC+R8MNpBprxupf6kY8aFXmEhSm71+h03AqRT7bNsDGXwOntnfQfiUbgN0bM42YI-FWWKLXCtKiGDVAqKg8U+heJ1ppcMygx0pq+xGAO8Ie0KapHXuOwYk7tXCO7TYhgRJRb9qoAtRs3RGQywHUxAuc7ujhFKOCNtoBmjdCXaktK6jAhUxxGybopI6aNkakCNKT6yy+CaeSIKH6wLBnHPpUAsbL3UhvR41RGQJkUq1oO6ZISuVhPg-DUupBYO2obvQTOvAkmBMwxwRDILIF2iIw+HNVjYPKtVRRkjJq0jvW9oGn29HJgrgUlKzojlyC+CZph1ZK5mgCNorBmBEU6o0Mas1JQUA4CIGQOgbqeI4HmHGjWUxJdHaVjxfW4ZkZRoabPJNU68tlKlGpJ9ZSzRKYSwxhZ4Et1pKP24SAl2wtRZpC5oDbgOmpgrFsynegJiK731boDRzxmqkheYGFwB1dtN0F0zZmdVaN7-0vhFhzzpSjRb-hwABLdDXhP86llWWCLaUpy4qPLp4w2VdDgCvzyWAsmTS146gPiFxtMdbnGrKw6s-E691h1ASkspedEF0lSCUG9fGwN+SoBhV8y3KIrJk8mFkB9fNfCelpiIJIWIlVkiMZ7f20UMrU20vYt2YtmYLR6u3YjiclZdy-lax29YFrk3FTTdFZF3Lj2fgA5Pldv7aXjHQq0fdooQ2FxQ7QxNtrKk0tWuoAap1W1HNWskcZjoWh9D2vmwR3zLRWvnavAUrz4dWHhrJ-5lHTQWikHMiXGydkHLOWpL4LW5BUFeR8vj0x7bg6ED1ZI5E3Bw1CQHGjY6CguvUErJs1byJJh0wldI3HWSFdK5VwwNXDhpeppRTmZ8-w5fBYxfgcohuaFE4cBrqCMR3wUIyMVYXhP7XiMl07ynF2WioK0CIMayWDz0C0ZEvS9qGFc2Yaw9XAfA+xHDcnlPTUaFh8rBHprju6AwOEvp+pPcq1nhppgj3TOltqPDjFrWlLK9sHmtH5o-1QzLAoi+Q0Zlgj56srZeyTkXC20oL4EggvBDi7YL4GqOZy222p6NWnNb0GGB+wtY1YH8D5tYX4pYtWwPvTks0LCXuaZJpnF61fhAwgb-TysJfZfaysLzfT-f33ye6cGcI6LI24k9YJILalatZ0wHyCY1oTSE6tK2K661AM6tbV4lDA4mbQHpJtL15fYb7GSmRQE0wwEYJhrN4IG6ZQacTRbPZ7Ib50xW7oqYpbKjI4pgqb7RqqjgTjgBQW4UzCj6CDRZzJq-Iwpay4osFF7SLn5E4HgCHQ7Vbwrfb+acGRjd4NixZNRSFQpzTP4SgRKxgSGX7vZCEAp34KEri0G14MSSHfLqKaHhzO6RJBT6FwxaFMSFBd7Rj2HgIUGva7LR5OLSFoY7bGGtYuHz6uEL7CJP4OAhzwHiwUIMZpaxr6CxEH5LaxrCY8AbgQiQhRGNa1BwjcCRGcy5Eap2jJHDxkQRKKzXLciMC25NwJatxfY0E8GHTeETIBya6xDvrwqMjPYGEPKAwhFa5IZmL0GUFgqRKlBpGxhrDi6Oz4w1Eiz8BFZAIhaWH+EfZGEXi+HTCGCLF1ErHVysLCqUE7GB55qCEDHMGPigBuGdHDHBJjxZYlbY6xhcY7hPHhaxRcJ3SCKRLTYFabLPFY4t5XjvFgiAmHFTw-GfxIGo6xoBThGpLRag4gG6ZvqqG+6MhKq+6DHkiNjdh6i9H7HLHAlrG+5ARdGqE5H2Lqy1AfrAh1JeY0n2zwGElm6sEoEE40y+4P7TA2Ih5Qw6a55aLsncAsl0mhAb4-7In1aI6bHI5gHsK3CbLmHl76A7ESHWJAGk5nZnErCM5kEeTRYhww5onbqqHhyMgSGmn-JaEkGUkxAhyubCwzy2lOwwlk7hwb6HrgLhxGnqb1afENEvHob+Z0zOkwn2nBnFblSel6kGl4H6AxmrGMAgLyz34rgmG8y-71aQlkmBJg6gFQSRkeYLgzz5lfFxllm+ZZlJmVkhnAIWFnZf7fZZnBHlpSaWIybyByZtSKadTdQ6BqaMYjq1j6CoLxEC7iTsiCYBmiQqn26WKbqMKSDbbcC8mtlKk9JSq5A25258yypnFx5bYsIbknY+keqpKeKKCEC26h5q7xENpmpggyBWR7l3kHk0LYaJpZ4nlrksJE7xG9INJvmgClJUaZ6WK0aS7AV1J9JgV-o5mpLE7h7yB54yBwXJoIXcADLznLaLlqnjlvAh5dz-qSo7jghEVnJpIN4IaQWDTUX6C2HblIacpNrMUMRGLRxaE-lWI8V14kWUosVSzOIBpZC2EynkxjJfD2JTTZ4imUrhmiXSI3jZkdoj7qGG6rk1rFnkWupezqW2wyX4DGAiqS6rnUERCFD6UJhYRyB8KtmkyNiUCIyjFj4KXoWWyMgIkjkEV3AOX2Zlnr5VgMRRqcnozBX0Tl4orIWfKrkul6hE6rnPA2VxgGUjCBWMRXnxVcxaGJ4pWRBpWck3hZVSXkHB7zGeWR7VZRWhV6gbnrCbLKW2WBgcBTSuVGDBXhAzntViCdWngpGH5YQrY6UwkhWDWf4sBNXZ5wkxDNB9WdXjXhAAA8wIjs-VqgnFeoc1sQeWrOfe4IAAKrdARXQL4IIKmrwA8k2NPtQLUM0OCKAAANQ6GB5HQnRCinbdUvWlxWS-X6mFAfVTRfXbUTCt4s5s7HWnUyDECOSXViDXWwq3V6r3XCCPUA0p7A1iCg3LW-WyqlyY3vUjqfUyCSKTXlUeR5SJX2kwlWXkjGXJbQy3TYgtUrC2x7EPTjXRXhXOj4rMbLWA2gY6bM1EAakZ7k6ZymUnTVV56M5C3NAwmEwyyC0p6zBeyTVC3zXUg1Esb-jdU2h2gU1DG3GmE8E6aEyuXNUYoeXCleX-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-u+9HN3Xfw9VXGjffg-iSRs4a6Rc-HcsnzvDbbv2v5e13yB9lufJdOxTvdbLvWvHvE-Q-PvUfMPR-0Frt1-K-I-vHihlEtB63Wf-tQUwfBNhfvCSPu3zToP1DQQUGPhnQHacQx8JAA3qxWCRn52+ZvGWKbxu5OMb8A+TnMPiDyl8PIMAihjlU4hCVPscAlSkhkQGEAyualJAWgOdoYC3aWA7nFt1Y70BSKfjSmuYAtDFhyolAHfOtDDTCAKggwFPmQMDD4C4BVXLgdVEgoDAa+nPbSOVFxIiDrO+HYgYCl974VhULAbtCdE4pMcuA9Vc8PAJcBYRAS0Vc8JBW0EiAZagJfQFYO4hTR4iMsewSdFx4uD5KM8dwcjGMEr0vBbgnQfJXLah0zBSdeOj4LbCeAQhZVSCuOx3YhDvSoQ6mPERGqLkvBeg2jkuEMF8hreKVfCppEzbnxCcLaRIQYIcAX0oY68BgOoBEAcBSAC0UeEQDxzt9j6tBOdN-0iSNgvB2JAIb3SCHv10EOQ+OibXSoJguhM5UVmcVKBlD7yFQ7OFUIZ61D6BZVM4s0FyCEBJEXg+0n4NAbm4lCluFoqkAoF2FP64CLCGsMkQoDgB3Ac4QvTv730-aEdBMBAKzCQCRhgYG4bWnwpHR+gCgMNHMVDwVAs4vgeAoYDZCAi+MRsQwK+lEGMZEioIsruCOBFQwoRTwdIv31BSlIHeWTcTiOh+F-CSAAIyMBCO454iiImI09inkRGQjSQuPaoMwnugG4qR+MMEUSKRFDRoRKgvRkYFKRm8mR7I1ETd3REjB4RWIgwG0zpFkAGRQJVkfAT5Eoi1OfoJ4NM2+FUwEI3IiTH5RVG-CZAWcWaAGylzUh4iOoqgCHnvQ-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-1gxVE8-AcuJ5C9hxhqwSAzIECtA6Wn6SQLLHHw0wFe4IENTTx9oPEXAsahwIXKQX1i8O9iTVZsm1U08I1WomHtmsCRqDWECvQNXGKomyC5lIsdpOlOG6tr6AkXcpflKMVLZG1Xa9tQXnSKNr8pUnAdbj2HUDrR1U0haB8GCCbJ8pJYxqWZO7U9LVCd0SaaVPeCMgnlVUzyd5L8k4ryQO6tyXutqmfLvuA67gJ6vXXOqQsVY8BOCAxABdCBHkPtTKvox0xZ1gQJteW3BVOzt5+Ym9QCu3WOTnlbyj5UxExXgbz1BM2DFeraZAakV96jhU+ryGpA729eMlg7g-w+CuRH+W0VpTeBYaUQN+RuuqlI24880RGpWG31vzxFqBdGhiuhptq4gzGxGgsBRtw2ZdCU+Gl9Ymi0psalYnGmEfh141xVOIeaQTSiFo1kb45PsMTR9OIBiBTEUMbVThpE0GztOkHIjfgFpnUbpNZaoNVxr3q4h9NHGszVm2PEJUtR6RHTbTKo30B2N6gizXfkBppqhe6xGcBZuTKOaaNbZCoinjrU-CGURUC3iIBZ7uaVeBNOzQXh+XCI2NumwJFJuPaGb61xmjDclt3iZahq14z0f729FSit4QI+Ar4Ui2HL9CmW-QNls-xBbnRKEBoJ6oS32aKE6cFIE5tYTVb6tF2WrR91JihbH1zjKyGVsVbBRDAZLRLdm2EQ1BlNhONPAavLXGq4xpqvUdiF8KWqG5ioPDfsu1XTaVNoa2bq5oyVA0tJvA65bpNTq2AAtyBS5dpLO3mjlhBCiDLGi61IhrNQavrfwAhBs8It22oXgTV21aBJtyJVKQJyKHNCRNEhYoa+y+DTUesn7S2FRO36u93ebpU3KluC2TgAMJqkVQG2Mjra-QTU0HTTHyFpxChNMFdsD147DjxlzFa3vEwpHoDKwr8o7RziHzc5eIXsyfORwbmPb6VSOy-uHF56jdqQJ2nSfdtsXXZnteOt7fWo+27N+du-XikNt+1RbuACulHQxB5ZcT+c48HiECMZAABOE4LbGsZAjI1RgeofFr118ZI1XaZhDNG4C4NU5n-V0WHKfBUKBwLgGci9MdqFBTdfGfQEjyR5WQ0AoejNaxAeGxh-dFw0FPcsiTR7bdXWDaAtLlif4XAPkCCiuDYjkgE9C0pPS7W4A3BE+0ehtWwF4z8YmAEBe2HOvR1GqRNPWuXRbzL18YBMtYH7Zpi0ChrHuzeivQnKB3kxn+bgfbdUCKgngyAN0exKq2jU1LGQDfXnMwET6D7AVr3XgmZ34D40jgvPJiAOBVykAJ9CrDZupHsTtUrYx9aPRCG8g+Ql9NSoXhTDX0CBBcGTBEB3NiDn7xeJa44LcT9osQBwC63gSKnnWCD4CrQN3UUDfWFZggt6wJBOqmkwV5edc6hcxXH3S0x8h+iSMfv+TwhY5r+63ZInBCX7vITITdYICAOiACD3kfyF-qoURA2Ike6YOfvwPkGb9KvRaHcsajkGKDOwmILnqjHWqTV5qwBquXWmB539Hm9CSTq1hk75e1OgwEzqahtNv84E4bdIZF1TQrl5uyiYXnnxFLNKVhIQIYEcgbQR9-AC0vmNaCz7RJjfBfc32X3BdV9RUDfVvoA1UgsqDJZQ60HOSi67tj6TQ8spjTMZXDZXVnvgAIrwSToL48gLJGght4XuSvbVRIZoBaYPD+HQI1erkOYVpm3+L4bwO-ULrf1pkqdZuoWi0EUpfabtY7R3R+BGQVK3qcUhXWgKGliQCmVfgHWRqE2+2NleaO6CDTN1TKuMeHsKChbujlqAdX0Z+FHlYwF6qafBumYCdWcdpBdeWpAF0HyIfGmznOp-U8yCjH6+pfmP6mMg3geGUnP+tPlp8l1faIlRUdUK7ogQNR3EH1NglcHaKVIOY80abVaj2jekTo4+mGMMqOAYxqmAMdiBDHtgnK-46NM3ZYQKMMx25q8btJgylj7-ZQtoZwBL79tSPBifoAyUAAdLAF2ttVMAd8MgYIGF2e05NWmGuNCMHtPjIHjANUNE9qoxPpSsTb83E-iddmEnDcJJzdG3N4AnhP8PQLCHydAAAAvC8DEFxNgGCT-+4k+91p3knRTgcC7NSfBC76J9BA1CDbC0r6HDDm4DE9KaJPcnDmgPSipEd5Qs9lALPMVpMCR5pg8ADJjzfqY5MymjTMTE07szNOlwWAFpq07zxVP+QgAA')">function store_assertion_in_index(assertion) {
    if (is_indexable(assertion)) {
        const key = index_key_of(assertion);
        const current_assertion_stream =
                    get_stream(key, "assertion-stream");
        put(key, "assertion-stream",
            pair(assertion, () => current_assertion_stream));
    } else {
    }
}
function store_rule_in_index(rule) {
    const pattern = conclusion(rule);
    if (is_indexable(pattern)) {
        const key = index_key_of(pattern);
        const current_rule_stream =
                    get_stream(key, "rule-stream");
        put(key, "rule-stream",
            pair(rule, () => current_rule_stream));
    } else {
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p42' class='permalink'></a><p>
      The following
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      define how the data-base index is used.  A pattern (an assertion or a rule
      conclusion) will be stored in the table if it starts with a variable or a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (indexable? pat)
  (or (constant-symbol? (car pat))
      (var? (car pat))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPMVq1IR56H1uwC7rp05TCi+FgA-MJuBgAhDD4MwbBQHAiDIOgfA8Cy00qIuDmwlqyh9xBESyAoSgepo2j6Ay+VhJv1hbh-1CAALiFkicowCbAAI1tQR6hBdggXxJ-L0KkypqQ0uUWYj8TBQOsGAuKMYpznlQp+MKv8CqgAAbfMqk44wkObGQ9KnkcF4NAAQueyZXzIQYbOK8FCCrUI9AuY8PCgL8JYcQJ+bCOEB3oi6fkkDKFCOSs6TUiinysMobI+KiV+jJUXiFBiBo2EqNocVPRtADH9VSsY4w2CpG4O0TsAyqc7GmFMaAc2kgEJ6FcRJJE0kMZYLYZQlIri3YhLCdEmwWiCqyIhnzJxgjQA0K5jzA6BhuY3RekMaGlMsGpMcTInYdslEpLSWUzRxTnERG8nkimF1knVDMW1P0WMZaSOkbUqQgdg6hwES0tUsc5AmRoV-f4KdDG2PIQaBxT9pihMKK1NSKDZI5zzqYeZjISneGYEcaOABVYgj1y4AHcsTYn5KoKioAAC0dzUmfwcjvAKfSTLCFmBsgWlB8CgD0BEWilAWB6OUEsXxwhGS0wLu8+qwLQXgr0noT5aoq5MxsJ0VJchZDiD+QCqMrBdjUHqD4pFkLl7WEnMCOgityCgDuE8u+0lkV6VdtQYyLLiAmEWTE6JfVpLEChI-Q4tAnJLN5TYFOASpIyU5dy8VErUW5x5Yq6JUypEivUVMclTIUjyykHZFBeg6K0uacoumGElyDVoAKqYJq5AeJiWA+ojRmh1A6BirFOKfSxMYPszlhZjmnOoBcgg1UOa7BkPcx57zqwYqIgFFZig1kLxonQbZ0LBbl1HrJRen08EAOFngsB+xDgL2ecy9GXcq6pt7tslVvKk2WoEsagSboNm1s+ts1WYM0m6NKm42Z9iilP2hfq5YjAlzlqZf8Xq-V6otEKTgs1hQzETL0HO2i1r6BLpqc48Z99N0DXmrup+M9e3CMSR9DNPrfn-NZiwdmnMr1EwpQXF1TRiAtA9Z6+QOK734vGByMmDTOnGE+m+vVEED2Vs7iBhyYH+bTBwT+6wmK-1Rp9aEKlVaQPGGbfS0ASyYOTLgx0nGRNkOONQ0UPFdTMzNuRWR24zaoVYcKOuXDkR8MoJo6EdD2LMNLPXGkq9CrwJS1AzDXGVGz1QO6PxhN1Um0kDUYujS9cgTjuFnoDTK7oGgCLdUEtBwfBwgAFSqfkV+uo5nAagBU4iazi7Ax6dDAASFCEpsGdAQ7zmJdORhc5NnLwA6-bJvMQyZpsFS4GhHEnkYKQyPjBcH1PvSTk3GSzC3NyWWAwOWobh+YJIQQLfD+iyS49LCj1NGQNtVeDYrAXeFoRjHobxYmGuqpHtVpLtXRxAgE96qB466GNiCxI+I2WHMwjG2V1r84cQdhDHlnYSF3ykIGSY3lMCYTrZQhN9CS3QIjgVWA4WNHuh+2qpUjWVtqmjp9VSt2hGXaROS0CKld31AMAZb5nIJX5tMNkm7XVMWiGgCs3KGzv2ZuYzUlDjUi7vvYrB-jSkJG9Bu3q3yqiAqhUauYFqvxmsfuzERzyFo6aR0l3bmk+pCGavDpwWOiC3jDWLn+OJzHdlpkVSiV10Iy7z032EWoxDN7PsQ5QYRzH4vXSMYZNsmjaikFlSNfL7Ux3MiFJQcrrTEFePedF8lObLWmEP0cdC1X2v1ec43UQ+h4ijtoIFykTHZvndtiNUrmnOPYnUeZibu3oiNuHaHZdGn1vrNq8Y-t83wFbdu7CJj+PXv5w+7mX7qBKGiJ4H3kwVg7BT5cAvmgNa18SLgknf8Kiy91y3IeAyqIS4RcPVUM9Ul3U9DSvsDJWY2Oo8+vXLlIqj7iWCq7weQG4nQC96CdTwfuexbTUIePklEL68v1XvrZFhZozr8nwhU200pUthlcE-AW-lqTDauNfAsxOpZzZCnSJV-Wc38xmNPfoBJrP+TqysKkTk5O-sPi1Lft-g-qABtG3myOzgxkasWLatfpSKPhzp6PZkga6EPDsOgVOigigaKDvpHFKHrl5AgZzifqqHgUsFgYogQR-hFN7MGAQT2jfGQBrFyLoEoITqKjjCzmAbeIGMvu3FxofBAgIQbgTH2CIQFG9JwRbB8pJJpEPl5hsBBKWj4OIX8Prt0FSgsEsGzBzDwcoJqgqIRhdpXnAR3uCsocpB2NTmsoQc4JofYXqI4Zzm3AFNoS9GgpVsoWsGoQXJaD4TgT4c2v4UiIEfDOoUIcGKEbAWIPyoViYWYRRn4bMB6IvhyIYVboIagVqDoAsG4ZkDTE3g5oUcUVkfpv-HPqZu1jYT4nYbbh4ajgPjkSYTUaAhUboMUS0WYAADw9FFHzB6DVHirUJ+rUBmYAAqGQXiOQ2ISq7gMM4MCCccLQYCcIoAAA1ERoLuDFEDEDoL8u7H4WYHsfZtsXsbPmEIYNELoKcWMT9jsk6qklMbMfMfgDIGcssQqAwDSiMpQJsfCLsfsYLvcccU8f0WCVcWCbcaEJCY8fgCZNUWwaqLAvAogrbormgpLqEHIVIuMBkEpJIdUAFP9ulBkaANUdFlBi5E3ErP0QiVQiOsSbXHoCyULhwdQFwToKkcAfwY4l0WEmArbvSo8ITOcVyayZaOMQcWKX5srP0bMIGGiSlmhlAgBo-BKc3s8EYZzEAXwfyJBinh8SUXIIGsQOkPUIZkiHGoUENkJtEjhsoYRmIXYbntEuuJScisoWrpEX8PKgcZKv6SmqEWjmEApvGrERjkSbAqSYHtdmDDbmgriR2JkeoPiZKjdvGSSQvHkVAhSUqS0ZmajnSWENps3BafmoqtQnmRyVyfIbyccQKcaVMMurPmKWgrqYXMyQ1gArIG6HKWTjSeoCKfEo1jkMqecaqSwS8ZGfxuCSkNqVIr2QYUoI+sYUaVqqaULuabblaTaYKnaX8NGmqNZn5Iub+oJhWdhhDj4e6WRj4QWXJt6RBL6eES0X6VEf7g1uEeGQEdeZqYprGdsI-OyYmXJu8PnnpAfEfMXpwOfLwBgFYTZECiClQGClPleJChPAyfeCQdqiQIWBhQilQWyGRVhUsMCkHI0qHHhQ3IjMwQOOSmGFSlRZQNhQXgyrlMAqPqaPZjYKaDEsGeEr9NaEJdYNaKJX+aPpoVJXUYcLJfxb9OxIpexCpcsr9ArKUPZrpXIJQmJWEKPglHQEHKoNiPZmZRZUsQVMZaEKPnstMVJc5YwNEg5TYKPgpAsAHB4HQIDD5fMH5QwNUJ5dYKPjsYpTYHoFRLMNiGYHcAAHygC3J7F2XhVw5TBwh3LRXWCxXxWJUpW3KPIZVyW-R2azApAFWgAJX0rFWgDma1XWCZWj7AB5X-JxW1VFWpWgBgBlWqVShwgACkHVNVdVyVvVw1zVoArVv0Te0V41PVjejwCV5VQ1AAhA8ItV1RNQ1VtQymtYNdlQMWNbtctaAEMdYEddpUNQMXcHlUtfVb1fdddXNUNUlWdYVc9bcilW9etdlUlQ9VVaEE9ZNb9Qyt1QDXoHCBtR1b1aEJNdYBtTYHXsAkyBxdEJhVxYit1AGfSlAgpEpKaLMJxdxXBRjRDmTbjQeASB4AAFZNiMwE3VBE2crPXyVY3kVaRIysUkB2h-lhDU04UVZMhYCY3wrUXboNjM28Uwij4fpur2aK02aZUhmOW-SQDECfqJRWVVVa060cxq3q0RW-RBWSCwCQBSXm2W3G0m3eVaDBUACiil5tTtdt6to+AAcqoF7R1T7V7ROSGZTSWHPlzVLWbi0SzYUGzX8pNSEdymHZLTjdLVOEzBLdjdhWbmstHSkLHc9dpFfoncLXNkzO3LCsLRCiRUquxM4cMkHJzDEJIC6owKMq2fTaoGoL5tEOzJyYqsLbRVkAqAxfzYLdUDnLXW0GEMbqqEOQgm2cTnXckZPjuWKhKgVoKj3uHSnSnKWcuV1iXY7lrrOeJhva0JXaytQAzUzdTjKUnZnbQUfW6E4WPSkBuQaQvQqFZFkHShuToBrB4AYrwVqvFiCIgqvTjGLbBd1PBUXifEhdwJgGhT1DaimBQJIDzIYOhApIwNrPtnXQrJ4N4IOLzWUPg68auoXIGGqVwgBHaLCZINcYcQ8ScSiSQyxWQ7Q8hHaFAmAtpOQ--igywApFzAEtJI1Cw5pmBc4KoKQKQO4IrPfAYF8nIz1QwHsXoLI6QL2XCNsQAro+wvCIWGCVox7WErow7JIzgSQBJLIL4Cw18mio4-yTY8mLIGsO5lIZSEiToLCTDWCQfiI7IGI4umzTnM3cQLYyod8hcfCCYHCII5DpE240sEEiwJo1XAQ64NWTnF0fo8LHCLwy4jCLk2cKcGwoBjpoGLk2YEEFQ8GDU6AAdfCNvHk-8paKU+UXCNvKEgAkgWg26Jg5iJIDg9rLk6EmAoBn0vHKHKU+cOKj8CSFMjYvzjU0Hfo-43sa4xjKk94Okx02ihk6sFCjcTEtsUwziRghAss-xKs5k7E+Kuc2Cds7IMsHs+w1BGUB2msxcY8-ExM0k1EzDepc4+Tskzs284wCwBQykLIq4eM0Mi8-8HCApbMLlAc6sHOQODU2C1E5C9C0U6-EcbEAi5Q3CAAORMM5ywmUtFM+NPG5OJNIsYNLiMAmQ8xstZOMllB-BEM+CWgcs3Um1ZUw05B1BXEuWFjlyKiFiyjeAyteSKx3Qwu1FIsfN6CCuJ2Biau4spP4tdHOrgt2MCustrVzDBg6uAt6uauJHOAd1d2kA93P2c71SaypS1pcvTMJxpiLxtOj5etzj2Y3NGJhS+uv1hBs32sciOuUDszNquu3ScjOO5o0Q8PGbgIki+tQK7ZDXbxAxplXOZupsGupI0S2ugCCs6jXJUQJvuu+vQpha9JAneuhvFvRY4asrikMpQKXNEjXOAErNpy+vXmY1uuchjAbKEZs2Vs4jVu1tJtKoptLzXmcads9ldMKXZtKX8t9i0RjuyBQjfI80cNb37sTtoppuFBgK73ruPBwjqVbt7uJsHs5pFM3sdg6NRvd2xvOsYGPv1Hvt6jhuhCRud3RtOvxtPupTJsesqvdGuGAeZCk3MDPvnu5yRlOm4r3quASFtvsYj6-R5vgwFt9tFvLuXZerOmVnQZluDYz1sgRr-D1v5FEF7D1FZtDKWgcdXvvH+obzwhBrnLOB85pRzDYiRoUV1g2rSbMdeOseuHccpAALCGptFNuW1pWnBqhoicTjSeUyvLVRyuMDDPkAVxeABx1ANCtCyfSNieRoes6NGeKiJPXCHvjvGfoSRI2fBF9h0GMywdhh4C1zeDARDDISk2lZqgnmjDkC7yF5sCkDzCKRBLQH-KyDTRrTl7l64Ll2ciax6DPTYizB2DRiMB1BSOpbZNKwlfTHlfrNJMNCfotAAvZLqAFcyBFeFyWg1dlcQZB3WAALddNi1e1nRL5Z5ekDtedeBg9d1fonWGd5hdZB6DLxfak5lRLdRpy1DXmabd2aRmJoZBYlTeSA8CzCFeSCTQVmxaEAeCbeEayj5cXdnfmsDgo4vDcPAVYcGC3f3flEq0tB7nvqCquo2YamgCYfsYpBUqzcPcTcnf8BYv0i-d0NfepB4qw--cg9Nd1BA-0mUgA-upLKQ+z7rgzfDdldo8xmOl0cElqz0DysncvcXeI9jmeimk3d3cARw90BPcdendI8k4hwbeo-g8AY0pc-IS9mE94-gz2AvBvfrcfdZDAcFSuG5TPek31Es9llLh1Z32hCBjvebcDbVAk8ukQ6Y8Xm8+Tc6+vfI+S9ZCETRIAaY+PAy-RaeaFBDkK8O+beLJe8HGuGuF28EGq+qo7go+fdMiB8Q+Ud3ne-y-k+ld1C68yBU8gU0+gU5lgw2VaCJftamnyQ6OYkIKFMSowJHcILiZgJsBdMxCyDGfl91niAM-Ge3FgLqcsCadCegDBdMLnmbcOmZ-o7bB5-kCJfsUQ79+hfc8MreKbcrcdBUoxeEYz8mcATAtV+7DVgcWRcMrr-oSL9wgN-yvVjtzeIeAxAJSxD7Zp912uF39s96+JNX+Cqtn7ZY7X-HF12Whv83+rBX+3-bgkan-4-9GC2wQMGAN0A4FoB-JJui+Sf6hEIBMjeHkgICKJNl6rQJ-mQWQEscXC9RS-sAP0A4DOcidBIvR2+Alg4wr4ZlPxx8JgtjyUII8JICS6CosgjAZeAFGjC7AxkqbCso2xESwcE+lKCHHANezEDJACAz0jRFmAUD3yt4cQVj0a5upZ8ACEgEwJESsCxWHAjTkwCiJdkZovAr-u-xAH244BzvR0vH0EEKc8OwmDQvUR4EmQuOxbWYE4OVjDsvu5vMJCJlo5m9aeBcdwb63Lb3FsgLAAOLHBSINAkw2IRdHQBe7RDLKYwOgFd3wFCxqy8QtpokNiFQgUhK3Ipq4UJidRw+-yNRlEDCERDI0k+bIXEPKG-BfeBgYoQb0Fw1Dchk0HAjECCRZBO6KEGIXEISHyAkhbQrljpkyFbtWh0gfgPkPTaFC+wmQkoSt2eqdDvA3Q7Cq0L0ATC8hZjGJIsMmqhD6hO4TqLTgpJ1Dwh+AJMEYEUgBpwYddc4VoAFSRA7AvwexhUNjrV0IMiTO4eQAeH7D0mvwkYRkNOFtMjMPHZYa3WyBrDBhOQvumEkJhAjgOuwlKl8J+GnCXhBw-CE8OhbHCbseOFIr8mlqTAcYT-CiJHjwFS5Q6Sg0AHAKkHzhEBXDFXvoKDI0Z1wSg93tj1UFDIsBzxUPCoRJFyCAiBQ+4d4HnA+UC+1I0AcQMTp8jGR6fctvsG+HCiRm+fUYvKNmDSiyRtnR8l03wDmgWg2xLdnCB1F0g9RanPaG11VGgASRZgLdo+WsCEtOEPgeUdaM5G4jJ8+I+sISMUQWj1RAo9NoCnqJOiymOwVwlaP-YKigooo0YoGCdElCCogYK0bGOqDyigkIo5UeqxjHNDeUloBMZmJiQRkimho3UeKxCHHEf6bYX4bFQf71EuqiIwzM3Hm51hFgWsAOPOCc5pg2xtAWYJWwtGVsNR4OUOpGLag0oHUhGZMYqMjEatTWbHSPB2OICzBcxMSXsRgLk7OBBx9qOlNqKLHN8lOdY0oHS1LH2ByxqItcQJFNTltCArza-n1B7xaAuWPjdMbeIbHOAYujwsIVN2Z4ddUh5IwwODEIwxd3x53T8ZGR9LS92RNmVksLEMZ0By2V4mthd0JA3iuw34ulIV0IyWgnRzI7fEIMK5mB9G28QxoVzDA-1QAMxAABJO1JAAAQXADgAnaAAJRmKQAAA8l7WQAMpLCohewIlzkSN9MQskMcU4H5FREUBkOS8SDyoiISUxbTF8bBInbuc+Jkk4USWxfHqAyos46CUHlVAqTSgPE+VhVkWFpCyJFE6ibRIYnMTWJiTGSeJLkm8T9JAkrlCJJfEVjYJkgeCeNHsmJ0ZQ8k-oHcl+EGcwYn6NzrZLaz2ShJQZESb8J8QXC2aCqEke4Hqq3FEuTYR6C2N0kecwocU7vnUXDFziZR2wggFxOCrqTFJgkvKd-XsC2AlW1qEgClwZQAAGDoO3C-RnJbIVUgNsM0oCtB68VU6MDVO8CEZJ0Z4XqfyH6l7EeAmE28INMfp9TGAiTbxM1JETcJluT-KaZUP6QdTceIk1wt03syuFVp7U9CJ1MF7kMnxwIDSItIAhSAYgxqJVqt0t5tTm2wETqRYR+KtSzwB0tsJ1KX5AgAo5QpYGcnUDaxvO+PVjvPHrbTZ5pr0z-vx32mPSNp-XOFux1U7RIAErhP6ZIABlyBtYLg5domOkp2B-pgMjwcWwRmltdgl2FcXMAJkYyiZU006Q0CqHlcCQuQfjugOEk+pfp1MzGUDNNKCCwZbGJZNqTNGcMeR2CAWYqjJ415weS5DDCILCDPYJBpg+AbSM9JhTZRpPCCB4FAkqCbMXJABDqMExckwE6M7mSYIAGMYPAlgyhN0HczeDKE46BTs6Ir5UyZAhMrGeq3T61MAgLst2drGEJwdRSBAH7DIHB7RkR+gsE2UTOCGUDhOroqEPiKJT0RkI3IpaSoQ9Bqy7pFI4gYrPNnSCIEbMpkUCAAziDmmHvKHoLBICnElRE-UYuKPMGSj5xwrGwOnLylT1Bs1gujA6OeJyA2MIZPAOZgHlQJns2chlNSLzkkgW58gjjJrOzmlywJzXFGUkyrkTi7+uYuuZhAsEB93MXvUIqti5GkDLSrc9ubLIAwMzCsUgMKC3ILmeyLAfVMAAPPMwjYIIhY40cWOPm3ly5vg-HCnIAhlkM5FM5MtNErkolq5BfXYC912Cs8+xo-ZwFqLvZGisg4rA0QgpNHptWuZQcBaTUmg2jlC9ooQeAqdk7isBUgxQInK5DJzMFc+KBb6NBFdzIFhC2osQoTm8lyFy3SBaTRe7IC75jVQeX6KkDB9OoQY-0WWnoVbtgFnMCcdGKaEhloxk0PGaEHEWgLRi6E6RU3MKDoS5FC4woPmPTYvzEFCTGObgSVa+BGcJpESXrCIomL8kkeOEFNMk4oMOCF4tMHTJEnaQ6ZOBVaZEhcVpCDKRcYMO4r9a-R1AAM7ENXiXAogim5kfxbdOxEpkRknMSiFNJukMjuxQo0qUuPZnISao3Q+cFNIGlagkQF05CFdNyB0yaMVKRReuMIzipFFE41JTlPkXQ9aAiYJxWFETDZBclt0xpWEAyWFzbOlS08SOM3GvztxtREEbC0ZQaAHILLbwCZE8XsoTI7SgHHTNjF8kyxi2VEQMuHGmBypdKIyZIDomHIAAMk7TYm7i5AjU7woVLektpQpeUkSReJoriSSpXKLdlZIaBUQxgU0-iWkteXpttJZUb5d9JXxaT5eqkm5bJDrr7LDlJy8AJZPl6ySoQQKjyRFNOGVDCsMI6JE5NREuS3JLy-KeYymm+TThKIcPtisxEw0iOtipVsSsxEohTpsKZFb8ozmorMRUUrQDFN5R5LJqtxWFIkuMVTSteDSvKeH2+I1yIVLyjOadK5CPozwgrScbMunEpi1Zr434HXUilfDOV2it0jyuiSRSz6JCPoa0FnyBS0pCk+pcqpFWz5axjKpVrJAtXCipVgtL8kCPLYkYZlbLBVWyxVX-DoUVKHaMID-H2ArQ4nf4JazhDurBWw-QWAGpIDazQeC8yhjKrooer2WprH1UCKKaxrcgfne1aa3IH+l-hIQ0znYDNWHT5wsEzRt5NoChZO5NIj5Zv1nHizCgVKVCQylxX88EJTa8HlSnkZ+oFcs41VXXy5Lkq3xhXWVtWuIC0qwh0a0ILsFKxTcJ1wUqdX5OA7wtJ1swWsX2rsDahB1-wjDvHx9RXZ24hgaYksFWlN1K13irJfZMIzFgWlacMpUXLrWwTN+HkjnhDjbWt8Plrkzte5N+Vfde1jgHdW6FWm-Dc6qqUdc8PHWKssg0634LOpsDzqpgMG6lXBtXVLI9pSrTdT1W3UK4wNQIg9bLKPWGLXONygkMeknVVrl1XLJJU2v3qhAAEZGujZOpLZkbZx1GvSTWpc6Wcy1YUejT6lPWlrB1l655d2qyWZAgpXG+gIRn2UmT6JjEliXCqBByaaJCm8yWcvXXLqcNz1STXxvoDATn5cCAxSCqdC8akl16xEiWvPVVTRNHy5JerPvKh09N3y2TeRIOXHLTlNGaFZ5s031FBVpQ3TXICRV2rDNt4OEMZpglSAP6xYemkijzQAilYCWz4WRli0YhO0v-GQmmg8Vtpt0cWkQEuwq4wL7eGWxJmlmMJmV8tB4DLeYqq5lBktmkl-GRkq3paEtrirLb3ESYjwWtBWmrWkJU6dbGtYgL9DoAchQh5VbWtITjLbjtxYt1Aa6WloK0ZrMRXLGLbQCq1XhFtFAUbjuJdWYiimc266SPC23+cTtXaBEpGtNZMYMYboE7Q7mIAbbztsfA4ntrCG05kNorQVFcUu2zLMC62+bVykuXVRKtAOjYRIEe3La3ttWzculh63Va4d-MLduMrCAEIRp4InoYaqGGYqwkP2z1VxgR1g66Aj2gtYUv+EB9qqPVEHUdty0I7ZItO+VM9olSva1Ve4D7RFsYDfaK0SwKNWqPB0A6xaAUEbffA2SQ61VrKioZqquEKotRSVLAIzvCB1bp0Uy6SKmt0wyBRt4jVXUey0U2A1lh4jZRSojK4J5dA3cGAeNM4G63xu87eYY2Fjk6wgzO6FmiDZ3StOdM6VNfZiF3SQBdOIpsKViY78C0hmOfjn-QAZANTCgpE0uWy-Yxs42GuJxjKKHV4wfSaKyXUpFCQy7QkfUP3cygb5ThaBXOA4hiy7QyjulYxOQUVQN7qdlAjctRQJxOS995RY5dyg8lBI7E5dNuwqDHog4oJ6V9XPXRbqHU-kgyALO3RnsLWurmQbO7vT+2bRu7ld3O01vZhn1x6yBjUqlApBrY2UYhhGAAJwdAAo2+yykPqK1hpc+EgWykOqkFBJfAswByeXMEGjCdlFZTDgBmcDlE6psvI-SZHJbktCwaAAA4hrQyHqlk3+9VoYCtkFRv9V+xKMQ0ikWRE6zgR5E-nkwBDrA0ByKbAaOCzBN954C-TEIZVyAQlYS-4BqDPWi7oWIkx3c7oXUygiDllEg-PomQe6vk9B0JROhf7IMw6+7VXTEGQ2ZFvA6QLkEbT9UQ4dohGGdlciGA1soOnIG8TswBSRNIulxNoPSpowAYwUjAIQ7rSaZ3suQWQfkCiArJgGcqre2QwwEFat9kN1gB5LlVRAMabAYB5lvKp2ihg4+xGsOd90HWmdXYSwVzoulcOmlmNVU6Yvps0a8bB1kSQI2LzxSaHtDHMXQwyj+jGjDDX+-A5ZRhq2HW9s4tUJZxaDRosjSodwx-M8N2ywgJhrI63ssPriGAlRh5EActHpHn0qIpZJFK1W8pM9guZw1duaF56aB98HaGrM3U16CAPVJ+ASsmXMGXDQMc3UeIpXCw7QGHQxVxhyB0AzkxDPg6Vkzk-jxDDKSQ3O3MPyG7GmxulCobUNZKfCsOXHeyxmO6B1lQ+hY2Fsbg6ZLjbTBENQAWI1zjilorQKoEKbuZDWeLeVX0f5AF6NWx7VoK8eGMV7nq4xqLfWr6hvrbx0O+8ehMfGJBvZEQeeGiZ2VhhzDqu8lk5z0BqKAAOlgDo2RDJ8Ph-ANMXSZ27aqhVKFBKj-3PhBDvJO6B0HxPyrCT8k4k03LJMUnGZywCuDSahY3iy0hATIonU66uFJToAAAF51ZrAZJsIAaupO0ny9DJhU-Qwawsm4QcR9k9WC94fAyMqx9Yz4EJOUmoQ6psU7tTRZBKriHgK4qQCuLitGQ5LJkHgC5NXbLTQpm0+kztMisZQjp5066fpV6mlQQAA')">function is_indexable(pat) {
    return is_string(head(pat)) || is_var(head(pat));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p43' class='permalink'></a><p>
      The key under which a pattern is stored in the table is either
      
	<span style="color:green"><kbd>?</kbd></span>
	<span style="color:blue"><kbd>"?"</kbd></span>
      
      (if it starts with a variable) or the
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      with which it starts.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (index-key-of pat)
  (let ((key (car pat)))
    (if (var? key) '? key)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPMVq1IR56H1uwC7rp05TCi+FgA-MJuBgAhDD4MwbBQHAiDIOgfA8Cy00qIuDmwlqyh9xBESyAoSgepo2j6Ay+VhJv1hbh-1CAALiFkicowCbAAI1tQR6hBdggXxJ-L0KkypqQ0uUWYj8TBQOsGAuKMYpznlQp+MKv8CqgAAbfMqk44wkObGQ9KnkcF4NAAQueyZXzIQYbOK8FCCrUI9AuY8PCgL8JYcQJ+bCOEB3oi6fkkDKFCOSs6TUiinysMobI+KiV+jJUXiFBiBo2EqNocVPRtADH9VSsY4w2CpG4O0TsAyqc7GmFMaAc2kgEJ6FcRJJE0kMZYLYZQlIri3YhLCdEmwWiCqyIhnzJxgjQA0K5jzA6BhuY3RekMaGlMsGpMcTInYdslEpLSWUzRxTnERG8nkimF1knVDMW1P0WMZaSOkbUqQgdg6hwES0tUsc5AmRoV-f4KdDG2PIQaBxT9pihMKK1NSKDZI5zzqYeZjISneGYEcaOABVYgj1y4AHcsTYn5KoKioAAC0dzUmfwcjvAKfSTLCFmBsgWlB8CgD0BEWilAWB6OUEsXxwhGS0wLu8+qwLQXgr0noT5aoq5MxsJ0VJchZDiD+QCqMrBdjUHqD4pFkLl7WEnMCOgityCgDuE8u+0lkV6VdtQYyLLiAmEWTE6JfVpLEChI-Q4tAnJLN5TYFOASpIyU5dy8VErUW5x5Yq6JUypEivUVMclTIUjyykHZFBeg6K0uacoumGElyDVoAKqYJq5AeJiWA+ojRmh1A6BirFOKfSxMYPszlhZjmnOoBcgg1UOa7BkPcx57zqwYqIgFFZig1kLxonQbZ0LBbl1HrJRen08EAOFngsB+xDgL2ecy9GXcq6pt7tslVvKk2WoEsagSboNm1s+ts1WYM0m6NKm42Z9iilP2hfq5YjAlzlqZf8Xq-V6otEKTgs1hQzETL0HO2i1r6BLpqc48Z99N0DXmrup+M9e3CMSR9DNPrfn-NZiwdmnMr1EwpQXF1TRiAtA9Z6+QOK734vGByMmDTOnGE+m+vVEED2Vs7iBhyYH+bTBwT+6wmK-1Rp9aEKlVaQPGGbfS0ASyYOTLgx0nGRNkOONQ0UPFdTMzNuRWR24zaoVYcKOuXDkR8MoJo6EdD2LMNLPXGkq9CrwJS1AzDXGVGz1QO6PxhN1Um0kDUYujS9cgTjuFnoDTK7oGgCLdUEtBwfBwgAFSqfkV+uo5nAagBU4iazi7Ax6dDAASFCEpsGdAQ7zmJdORhc5NnLwA6-bJvMQyZpsFS4GhHEnkYKQyPjBcH1PvSTk3GSzC3NyWWAwOWobh+YJIQQLfD+iyS49LCj1NGQNtVeDYrAXeFoRjHobxYmGuqpHtVpLtXRxAgE96qB466GNiCxI+I2WHMwjG2V1r84cQdhDHlnYSF3ykIGSY3lMCYTrZQhN9CS3QIjgVWA4WNHuh+2qpUjWVtqmjp9VSt2hGXaROS0CKld31AMAZb5nIJX5tMNkm7XVMWiGgCs3KGzv2ZuYzUlDjUi7vvYrB-jSkJG9Bu3q3yqiAqhUauYFqvxmsfuzERzyFo6aR0l3bmk+pCGavDpwWOiC3jDWLn+OJzHdlpkVSiV10Iy7z032EWoxDN7PsQ5QYRzH4vXSMYZNsmjaikFlSNfL7Ux3MiFJQcrrTEFePedF8lObLWmEP0cdC1X2v1ec43UQ+h4ijtoIFykTHZvndtiNUrmnOPYnUeZibu3oiNuHaHZdGn1vrNq8Y-t83wFbdu7CJj+PXv5w+7mX7qBKGiJ4H3kwVg7BT5cAvmgNa18SLgknf8Kiy91y3IeAyqIS4RcPVUM9Ul3U9DSvsDJWY2Oo8+vXLlIqj7iWCq7weQG4nQC96CdTwfuexbTUIePklEL68v1XvrZFhZozr8nwhU200pUthlcE-AW-lqTDauNfAsxOpZzZCnSJV-Wc38xmNPfoBJrP+TqysKkTk5O-sPi1Lft-g-qABtG3myOzgxkasWLatfpSKPhzp6PZkga6EPDsOgVOigigaKDvpHFKHrl5AgZzifqqHgUsFgYogQR-hFN7MGAQT2jfGQBrFyLoEoITqKjjCzmAbeIGMvu3FxofBAgIQbgTH2CIQFG9JwRbB8pJJpEPl5hsBBKWj4OIX8Prt0FSgsEsGzBzDwcoJqgqIRhdpXnAR3uCsocpB2NTmsoQc4JofYXqI4Zzm3AFNoS9GgpVsoWsGoQXJaD4TgT4c2v4UiIEfDOoUIcGKEbAWIPyoViYWYRRn4bMB6IvhyIYVboIagVqDoAsG4ZkDTE3g5oUcUVkfpv-HPqZu1jYT4nYbbh4ajgPjkSYTUaAhUboMUS0WYAADw9FFHzB6DVHirUJ+rUBmYAAqGQXiOQ2ISq7gMM4MCCccLQYCcIoAAA1ERoLuDFEDEDoL8u7H4WYHsfZtsXsbPmEIYNELoKcWMT9jsk6qklMbMfMfgDIGcssQqAwDSiMpQJsfCLsfsYLvcccU8f0WCVcWCbcaEJCY8fgCZNUWwaqLAvAogrbormgpLqEHIVIuMBkEpJIdUAFP9ulBkaANUdFlBi5E3ErP0QiVQiOsSbXHoCyULhwdQFwToKkcAfwY4l0WEmArbvSo8ITOcVyayZaOMQcWKX5srP0bMIGGiSlmhlAgBo-BKc3s8EYZzEAXwfyJBinh8SUXIIGsQOkPUIZkiHGoUENkJtEjhsoYRmIXYbntEuuJScisoWrpEX8PKgcZKv6SmqEWjmEApvGrERjkSbAqSYHtdmDDbmgriR2JkeoPiZKjdvGSSQvHkVAhSUqS0ZmajnSWENps3BafmoqtQnmRyVyfIbyccQKcaVMMurPmKWgrqYXMyQ1gArIG6HKWTjSeoCKfEo1jkMqecaqSwS8ZGfxuCSkNqVIr2QYUoI+sYUaVqqaULuabblaTaYKnaX8NGmqNZn5Iub+oJhWdhhDj4e6WRj4QWXJt6RBL6eES0X6VEf7g1uEeGQEdeZqYprGdsI-OyYmXJu8PnnpAfEfMXpwOfLwBgFYTZECiClQGClPleJChPAyfeCQdqiQIWBhQilQWyGRVhUsMCkHI0qHHhQ3IjMwQOOSmGFSlRZQNhQXgyrlMAqPqaPZjYKaDEsGeEr9NaEJdYNaKJX+aPpoVJXUYcLJfxb9OxIpexCpcsr9ArKUPZrpXIJQmJWEKPglHQEHKoNiPZmZRZUsQVMZaEKPnstMVJc5YwNEg5TYKPgpAsAHB4HQIDD5fMH5QwNUJ5dYKPjsYpTYHoFRLMNiGYHcAAHygC3J7F2XhVw5TBwh3LRXWCxXxWJUpW3KPIZVyW-R2azApAFWgAJX0rFWgDma1XWCZWj7AB5X-JxW1VFWpWgBgBlWqVShwgACkHVNVdVyVvVw1zVoArVv0Te0V41PVjejwCV5VQ1AAhA8ItV1RNQ1VtQymtYNdlQMWNbtctaAEMdYEddpUNQMXcHlUtfVb1fdddXNUNUlWdYVc9bcilW9etdlUlQ9VVaEE9ZNb9Qyt1QDXoHCBtR1b1aEJNdYBtTYHXsAkyBxdEJhVxYit1AGfSlAgpEpKaLMJxdxXBRjRDmTbjQeASB4AAFZNiMwE3VBE2crPXyVY3kVaRIysUkB2h-lhDU04UVZMhYCY3wrUXboNjM28Uwij4fpur2aK02aZUhmOW-SQDECfqJRWVVVa060cxq3q0RW-RBWSCwCQBSXm2W3G0m3eVaDBUACiil5tTtdt6to+AAcqoF7R1T7V7ROSGZTSWHPlzVLWbi0SzYUGzX8pNSEdymHZLTjdLVOEzBLdjdhWbmstHSkLHc9dpFfoncLXNkzO3LCsLRCiRUquxM4cMkHJzDEJIC6owKMq2fTaoGoL5tEOzJyYqsLbRVkAqAxfzYLdUDnLXW0GEMbqqEOQgm2cTnXckZPjuWKhKgVoKj3uHSnSnKWcuV1iXY7lrrOeJhva0JXaytQAzUzdTjKUnZnbQUfW6E4WPSkBuQaQvQqFZFkHShuToBrB4AYrwVqvFiCIgqvTjGLbBd1PBUXifEhdwJgGhT1DaimBQJIDzIYOhApIwNrPtnXQrJ4N4IOLzWUPg68auoXIGGqVwgBHaLCZINcYcQ8ScSiSQyxWQ7Q8hHaFAmAtpOQ--igywApFzAEtJI1Cw5pmBc4KoKQKQO4IrPfAYF8nIz1QwHsXoLI6QL2XCNsQAro+wvCIWGCVox7WErow7JIzgSQBJLIL4Cw18mio4-yTY8mLIGsO5lIZSEiToLCTDWCQfiI7IGI4umzTnM3cQLYyod8hcfCCYHCII5DpE240sEEiwJo1XAQ64NWTnF0fo8LHCLwy4jCLk2cKcGwoBjpoGLk2YEEFQ8GDU6AAdfCNvHk-8paKU+UXCNvKEgAkgWg26Jg5iJIDg9rLk6EmAoBn0vHKHKU+cOKj8CSFMjYvzjU0Hfo-43sa4xjKk94Okx02ihk6sFCjcTEtsUwziRghAss-xKs5k7E+Kuc2Cds7IMsHs+w1BGUB2msxcY8-ExM0k1EzDepc4+Tskzs284wCwBQykLIq4eM0Mi8-8HCApbMLlAc6sHOQODU2C1E5C9C0U6-EcbEAi5Q3CAAORMM5ywmUtFM+NPG5OJNIsYNLiMAmQ8xstZOMllB-BEM+CWgcs3Um1ZUw05B1BXEuWFjlyKiFiyjeAyteSKx3Qwu1FIsfN6CCuJ2Biau4spP4tdHOrgt2MCustrVzDBg6uAt6uauJHOAd1d2kA93P2c71SaypS1pcvTMJxpiLxtOj5etzj2Y3NGJhS+uv1hBs32sciOuUDszNquu3ScjOO5o0Q8PGbgIki+tQK7ZDXbxAxplXOZupsGupI0S2ugCCs6jXJUQJvuu+vQpha9JAneuhvFvRY4asrikMpQKXNEjXOAErNpy+vXmY1uuchjAbKEZs2Vs4jVu1tJtKoptLzXmcads9ldMKXZtKX8t9i0RjuyBQjfI80cNb37sTtoppuFBgK73ruPBwjqVbt7uJsHs5pFM3sdg6NRvd2xvOsYGPv1Hvt6jhuhCRud3RtOvxtPupTJsesqvdGuGAeZCk3MDPvnu5yRlOm4r3quASFtvsYj6-R5vgwFt9tFvLuXZerOmVnQZluDYz1sgRr-D1v5FEF7D1FZtDKWgcdXvvH+obzwhBrnLOB85pRzDYiRoUV1g2rSbMdeOseuHccpAALCGptFNuW1pWnBqhoicTjSeUyvLVRyuMDDPkAVxeABx1ANCtCyfSNieRoes6NGeKiJPXCHvjvGfoSRI2fBF9h0GMywdhh4C1zeDARDDISk2lZqgnmjDkC7yF5sCkDzCKRBLQH-KyDTRrTl7l64Ll2ciax6DPTYizB2DRiMB1BSOpbZNKwlfTHlfrNJMNCfotAAvZLqAFcyBFeFyWg1dlcQZB3WAALddNi1e1nRL5Z5ekDtedeBg9d1fonWGd5hdZB6DLxfak5lRLdRpy1DXmabd2aRmJoZBYlTeSA8CzCFeSCTQVmxaEAeCbeEayj5cXdnfmsDgo4vDcPAVYcGC3f3flEq0tB7nvqCquo2YamgCYfsYpBUqzcPcTcnf8BYv0i-d0NfepB4qw--cg9Nd1BA-0mUgA-upLKQ+z7rgzfDdldo8xmOl0cElqz0DysncvcXeI9jmeimk3d3cARw90BPcdendI8k4hwbeo-g8AY0pc-IS9mE94-gz2AvBvfrcfdZDAcFSuG5TPek31Es9llLh1Z32hCBjvebcDbVAk8ukQ6Y8Xm8+Tc6+vfI+S9ZCETRIAaY+PAy-RaeaFBDkK8O+beLJe8HGuGuF28EGq+qo7go+fdMiB8Q+Ud3ne-y-k+ld1C68yBU8gU0+gU5lgw2VaCJftamnyQ6OYkIKFMSowJHcILiZgJsBdMxCyDGfl91niAM-Ge3FgLqcsCadCegDBdMLnmbcOmZ-o7bB5-kCJfsUQ79+hfc8MreKbcrcdBUoxeEYz8mcATAtV+7DVgcWRcMrr-oSL9wgN-yvVjtzeIeAxAJSxD7Zp912uF39s96+JNX+Cqtn7ZY7X-HF12Whv83+rBX+3-bgkan-4-9GC2wQMGAN0A4FoB-JJui+Sf6hEIBMjeHkgICKJNl6rQJ-mQWQEscXC9RS-sAP0A4DOcidBIvR2+Alg4wr4ZlPxx8JgtjyUII8JICS6CosgjAZeAFGjC7AxkqbCso2xESwcE+lKCHHANezEDJACAz0jRFmAUD3yt4cQVj0a5upZ8ACEgEwJESsCxWHAjTkwCiJdkZovAr-u-xAH244BzvR0vH0EEKc8OwmDQvUR4EmQuOxbWYE4OVjDsvu5vMJCJlo5m9aeBcdwb63Lb3FsgLAAOLHBSINAkw2IRdHQBe7RDLKYwOgFd3wFCxqy8QtpokNiFQgUhK3Ipq4UJidRw+-yNRlEDCERDI0k+bIXEPKG-BfeBgYoQb0Fw1Dchk0HAjECCRZBO6KEGIXEISHyAkhbQrljpkyFbtWh0gfgPkPTaFC+wmQkoSt2eqdDvA3Q7Cq0L0ATC8hZjGJIsMmqhD6hO4TqLTgpJ1Dwh+AJMEYEUgBpwYddc4VoAFSRA7AvwexhUNjrV0IMiTO4eQAeH7D0mvwkYRkNOFtMjMPHZYa3WyBrDBhOQvumEkJhAjgOuwlKl8J+GnCXhBw-CE8OhbHCbseOFIr8mlqTAcYT-CiJHjwFS5Q6Sg0AHAKkHzhEBXDFXvoKDI0Z1wSg93tj1UFDIsBzxUPCoRJFyCAiBQ+4d4HnA+UC+1I0AcQMTp8jGR6fctvsG+HCiRm+fUYvKNmDSiyRtnR8l03wDmgWg2xLdnCB1F0g9RanPaG11VGgASRZgLdo+WsCEtOEPgeUdaM5G4jJ8+I+sISMUQWj1RAo9NoCnqJOiymOwVwlaP-YKigooo0YoGCdElCCogYK0bGOqDyigkIo5UeqxjHNDeUloBMZmJiQRkimho3UeKxCHHEf6bYX4bFQf71EuqiIwzM3Hm51hFgWsAOPOCc5pg2xtAWYJWwtGVsNR4OUOpGLag0oHUhGZMYqMjEatTWbHSPB2OICzBcxMSXsRgLk7OBBx9qOlNqKLHN8lOdY0oHS1LH2ByxqItcQJFNTltCArza-n1B7xaAuWPjdMbeIbHOAYujwsIVN2Z4ddUh5IwwODEIwxd3x53T8ZGR9LS92RNmVksLEMZ0AwwP9UADMQAASTtSQAAEFwA4AJ2gACUZikAAAPJe1kADKSwqIXsCJc5EjfTELJDHFOB+RURFAZDkvEg8qIN48MVyi3YvirxVECdu5wonMSUxJbF8eoDKizjoJQeVUAJNKBkT5WFWRYWkIQlITUJ6ErCbhPwmJN2JjErieROklUSuUdEl8RWI4mSALuhIXicKMToyhuJ-QO5L8IM5gxP0bnTSW1m0k0SgydE34T4guFs0FUJI9wPVVuKJcmwj0FsZJI85hRvJ3fOoixOcnp9w+3xCfsFWEkmTqJMo2nLBMnRnhowJAFLgygAAMHQduF+jOS2QlWlQ-pMM0oCtB68xUjKfyG8CEY0pj9TKbVL2I8BmREEeqdakamMBEm3iAqSIm4TLcn+7UgNmVNx50TXC3TezK4SGnNtgI5UwXuQyfHAgNIfUgCFIBiDGolWq3S3sVOGnoRypFhH4kVLPC7S2w5UpfkCACjlClgZydQNrG8749WO88ettNh6mHTP+-HaaXHBbbzhyp-XOFux1U7RIAErhK6ZIBulyBtYLg5domOkp2Brpt0jwcWz+mltdgl2FcXMDhlgyEZ9UxaQ0CqHlcCQuQfjugNok+pLpmM8GXdNNKCCnpbGJZNqTNGcMeR2COmYqjJ415weS5DDCILCDPYJBpg+AbSM9JRSM+1HRQaBJUE2YuSACHUYJi5JgJQZlMkwQAMYweBLBlCboO5m8GUJx0CnZ0RXwxkyB4ZEM9Vun1qYBBDZxs7WMITg6ikCAP2GQOD2jIj9BYishGcEMoHCdXRUIfEUSnojIRuR-UlQh6BFnQpnsxA-mSrOkEQISZTIoEABnEHNMPeUPQWCQFOJKi4pysj-uYMlHzjhWNgEOclKnqDZrBdGB0c8TkBsYQyeAczLXKgThyBZkc1stHJJCFz5BHGCCInLZGSzmuQMpJunInF39cx4onOQLPlTuYJ51gUIqti5GkDLSRckudzIAx4zCsUgMKIXNjlmyLAfVMALXPMwjYIIhY40cWMXm3kU5vg-HIHIAhlkRZaM5MtNDTkokM5BfXYC912Cs8+xo-ZwFqLvZGisg4rA0X-JNHptWuZQV+aTUmg2jlC9ooQa-P1k7isBUgxQH7K5ABzwFc+D+b6NBHlz358C2oogt9m8lUFy3d+aTRe7ICd5jVOuX6KkDB9OoQY-0WWlwVbtH5nMCcdGKaEhloxk0GGaEFYXPzRiloOBbwolRCKeFC4woPmPTZHz-5CTT2bgSVa+BGcJpOiXrCIpKL8kkeOEPVMk4oMOCF4tMDjLonaQcZOBdqZEiMVpCDKRcYMKYr9a-R1AN07ENXiXAogim5kWxZtOxEpkRknMSiPVI2kMjuxQopKUuNJnfi6UiYbIPOHql1StQSIFachDWm5AcZNGKlPwvXGEZxU-CiccEsimZjiwiYAxWFCiUA4cZIisIGErjm2cMlp4kcZuOPnbjaiII2Foyg0AOQWW3gEyOYvZQmRSlMSzabGL5JljFsqI2pcONMDf17AcExCZIAwmHIAAMk7QIm7i5AeU7wiROCr1TKJISucclLokXiaKjExKaxKGRqSGgnEqENspOX8T5egko6S2hwLiSyo1yuunJLmWLLllqk+XhxLGDXLtJddNyWfRhHRI9JqIgyUZPGgAqKlhUeqVZNOEohw+YKzETDSI7aKlW8KzESiEWmwp-luy0OWkLclfDPJvKWJZNVuKwp-Fii+qVr0inJSYpmyh5TsrpURkSxj6M8IK0nFdLpxKYqKa+N+CArTh7krQCSskVulyV0SIFZEOqFQjF0s+OycFJ4l5LeV9K2fLWNxVKtZIyq4USLLVpfkgR5bEjJ0rZZcq2WfK-4WHIhw7RhAf4+wFaHE7-BLWcII1YK2H6CxrVJACWaD17mUMuQ7KpYJysFbmqgRRTD1bkD85arTW5A-0v8PLYRAOJm-QMVYu2jEt9AQix8YkAtkRB546ayZSENM52BFVe0n6cctnGhYy5NIi5ZvzLUc8IchXQjBCv57GSy14PKlPIz9QK5Zx-KuvlyWRVvjCusrCybQExVhC3VoQXYKVim6DqHJxAEdb8BnzRJ4WQ6vZbWPbV2BtQXa-4Rh3j4+ors7cQwNMSWDtSm6HEwJen0tWh1tJhGQpRoDTipL45FahNWgt2WszCgVKetQykbWcxjJAK1tRDjXUK52pvw3Oqqj7XPCB1irLIHOpYBjqbAE6qYBBvRVQbrJwHKaUq1mCrrHA66t0EBqBHbruZu6+Ra5weUEhj0y6zRsuq5YBKy1+9UIAAmI3UbKNRTYjbOIo0zqcCLG8jTRp9QHrC1Xak9aWso1pLp+cgeyVJJjCEZ3lCkzCdhLwngAaMUmtCTJuUkrKl1M6jDT1UyBiaQp9AYCYfLgRyKV82cSzg8rPXLxeNR64qQJouVmbhNodLTUysk2zL5lSy+TUCHeUubllo4+ojStKHPUHN2yvTbeDhAGa41UgD+sWHppIo80AIpWDFs+FkZItGITtL-xkJpozFbabdFFpEBLsKuX8+3ilsSZpZjCZlbLQeBS2qKquZQeLaJJfxkZStyWmLcYrS29xEmI8BrTloq1pCVOrW2rWIC-Q6AHIUITlU1rSFQy247cSLdQHWlJactwazEVywi20AytV4WbRQFG47j9VmIoplNvWkjw1t-nA7V2gRIurTWTGDGG6AO0O5iAK247bHwOJbawhtOeDaK0FRXFTtXSzAstum1cp1l1UUrT9o2ESBbt82p7ZVs3LpYOt5WqHfzC3YtKwgBCGqeCJ6EkI+hrQBVB9pNVcYYdQOugLdujUJL-hAfaqj1QB17bMtMO2SJTvHmC5HtAqvcC9pC2MB3tFaANaa2srA6ftYtAKANvvgbJQdAq1yUKuJVXCFUWopKlgHu01BuW06dpdJGNUmRed4jBXUc2O35y7iB40zqMpRURlcEUugzMMsPHa63x08yeedmbjE6wgdO6FmiEZ3SsWdM6BXfZiV2yjkGpbJsKViY78C0hmOfjn-QAZANTCgpE0uWy-Yxs42GuJxjKO7V4wfSwujyaLrCTi7QkfUD3cygb5ThaBXOA4hiy7QyiKlYxOQUVQN7qdlAec9XQJxOS995RY5dyg8lBI7FJdk8wqGHog4oJsV9XQ3Vru7U-kgyALYWOG2t0M7J1cIVvT+2bQO65dbOz7bMDH0R6yBeUqlApBrY2UYhhGAAJwdAAoq+yyj3ry1hpc+EgWyt2qkFBJfAswHSSnMEGjDJlFZTDgBmcDlFspsvHfSZHJbktCwaAL-bBrQw7qlkr+9VoYHVkFRX9J+xKMQzckWRE6zgR5E-nkwBDrAoBtyeAaOCzBl954I-TEJxVyAnFLi-4BqEPUC7oWdE63bbpH2OLLKeByfRMid1fIcDlBidC-zd1QdOQKumIPBsyLeB0gXII2hep-E7RCMM7K5EMBrYsGdlOzAFJE0i6XE2g2KmjABjBSMBuDutJpney5BZB+QKICsgAZyr16xDFbU1q33g3WAHkuVVELRpsAAHmWga0MHHwI3OzvuXa0zq7CWCudF0O0V9SkAY3FTpiRasKJxpnVsoOUHhr7goa4MtkOYqhhlH9GNGaGX9mByyjDVMP17ZxaoSzi0GjTJGlQdhs+Q4e1lhAdDyR+vYK2pS0oGARRh5D-stEJHn0qIpZG5NFW8pk9guaw2duaEZ6aB98HaFFIw1l6CAPVJ+NsNiSs6Vd3R8GJrqPEorhYdoDDvIq4w5A6AZyYhuwdKxbTQ6AhhlEIbnZiGbxEhlY3ShkNyGIlMo2HJjvZZAwJjxu54dMaC2NwdMPhDbbUQRDUAFicU44paK0CqBCm7mQ1ni05UdH+QWejVse1aAPHE6he-o89UGNxrGJhkptVCtvF8G6UH6wuE6NakMl54hXMwPo23iGNCuYYMQyrvJZOc9A6ugADpYBqN0qqEM4fwDTF0mA+2qoVShQSoP9z4cI7IGrCEnOVxJ7iaSfzkUmqT+M5YBXDpNQsbxZaQgJkUTqddXCUp0AAAC86s1gCk2EDPoimfE9JiE51yVMsnVUbJuEIoe4N3QOgXvD4GRgWNLGfAxJ6kxqbFPpNdqaLBxVcQ8BXFSAVxcVoyHJZMg8A3Js7TaeFO0mtTjpkVjKBdNumPT2Kg00qCAA')">function index_key_of(pat) {
    const key = head(pat);
    return is_var(key) ? "?" : key;
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p44' class='permalink'></a><p>
      The index will be used to retrieve items that might match a pattern if
      the pattern starts with a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (use-index? pat)
  (constant-symbol? (car pat)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaWH8XqexNtsyy4io6xlurbU5qj6ipUUKc3Etz1GXJeoKMp2cXprIBmyURijrFJKhvstINy7F3Kjgo8RALgTPIcUs5YJtIXUJsZHNwMC-BzlNCHICPyMQWL0QCK+gLmy6HvmRQpsL7n4v+IkmFYKXnwodBU1G1KrFEphRcnct1qnGGxTgPAfkGD4GYGwKAcBEDIHQHwAATB41mT9HDOBRoVbwbwyXCNsDtMoB4UTGAAD56psk-RGKrdWgANUauw5QKiiGGLqi1Zpu67TNfqw1jq7Dy0KtjN43zj4I0kJ4TwxVNZmN8eQAAFvcLYng35JTAX0Q6x41UADJk2gEjZINBarlI5tABGqNAbfUbPAZqgeurpYaujUGkS41Txt36tXUa9KGhNDLWqit2cM1oI3nCtoPS5UiAuI83Zfh76VoDdWkNKhTzDpGA2nFx9Z3mzqAyu+fMlpdsUD2xQm7t2vxCo2xdhSnmcrXZEDdtru3jz7nuuUB7enFr6Ei2leF23nq7nYKtwba2+JPM+6FLx53rNrqAf97KJzNvLe++Nu7r07svVuuD+7+2jTA5Iicp7R3rs7Qh7dt6+0ob9XYVlhL0OLLPaA2sfQv01tDcMk8JGX3zCA6NRjAGVGQbfZR0isHN7wczYhvjyGmasauASpjWlMNvwvQJvDSG739uA54i4FoJTzOnFB7jJaaNTuIXs0AJ5VMYwWbQFjx8jOOQHgaIB0mxntmUCultpakiaF472vw96lOsyMzpTTJgcOybg-hjzinRrhzARwy2cox0ftsDpn99GBn+1xGZx9czwYaa4-5mDuH5N9qLSBi47IQYJC5BlyGfm41Uf9YG79dH9PLL-WSErYMpyQ1SyBmmdIsZZui9h+Nj1TD4HxDwQjj6usk2SVlqrpFBv5XxNKsbnWyQYzpnprD0GqNzeG74gAzKFojjC87TfHbV2j07f3QI6548ZR2X4kJiwNsxJ4ruaCtiJ4+0DItlhswYQIm2eO5aE3ej7j6k7fcDg9-rVHN3vcPWl9hgzAGS0e1R4LpT4eFYgQJKBHNjtQ4ByWnu7mMcLsfSpmEhDOEo+h6RJ1vdBMk8815wdVqok+L62kU7k6Ev6ZPN467rNbveMq0tWt-P2eL0-m0UHIHgm+emzNqwbmNEFeU9CDsXYeyvs51p6jE66sXfo+BbswJBciD8sZzLuvssw6B+5zzo1PonYC1evjwXCJLc8StT61Bvq2fjfTvufvScs6sODy6IeA924E1H2XnjC6rS3IoKPqPSLbrj4fAVbUhUivYOKrgUq0C7YHdppGShqSxqWi+HNqlEYejV0L5UOFi2KEs85Q0mgqkjL1+L-iglhKiWLYvZZ7ezAuS76Eoo7zMfq9JAJISJkh+13wlX2L8WzH4Aav3xfIk-Lm-D21HUepx+GlX+q7O238KaFG-H1mlvfP4DX095cQ3r+gEW3fi3R+ApNKsk-i-F-UYN-LfUAfbRvEQW7SZNFNGWgDKZ-LbZ7aAmoKXdKMsL3eVOwZAmKOOQA6rT9A3c7PEN5AzbA0QA-JXVKIGDKcxNFBAwHQLPjOOA7R9T0LIOELwFwBpQKKyHMPA9PODPlUacHYVMtPgjtHLATIQvpMgdg+4UoSCJyUQfZA+UZeNRNfCJQmfICD+fNFwHHCiX-M5JSVSYnf8MPUAW7UQloZtHmF6WCfgqwDQ2wzQewjAi3JQ2FVyJQuCVQvXTdaw0Qdw8PTw+wzQgeXw-7NQtHODQIlgkDIyVBLg8QRpYwhzexOwkpLvGEe4cQrnS-ToTwCNdI+oBw2vMaQo4o6oOBNMUADQqwpQkoioTIziG6UoHI5IzRZxO4LwYo2wvQAAHgqN6PDVoNaJYVWEPGoGPBPAABVshLDhgigmJPBCBowT4ChOxKBipYgTxQAABqL2VhQIFQX4LwRCG0fog4gzBqa45ZKIU4lVC4sYg2FhSmKYmY+Y6gAgUQG8FYtYn7DYzXbYsYXYu444sIE1c4-AS4xzBww4qXPYw4+4oIR46Em0ao5nUaLIXIAoSlC5RzYFIIAGbQTWbIfIY6LoMlYkz7M+Jo1pUATE6knoDVYnekmonyVYUknEiklE6qWQ6gDgzwZI1IpsbpPk2IZtFSXNWHOEro2ozdTEvk4wSUukvdOUzQbdTEtJdISuHodWR0aUuvSNfQkWQw7gv-EYWNBFD4+khqC8coYSZaAeBtZYDOARe6D+QIz2EQxokOLOeNOJcIpILw4MoInlHyQI1KbwiInUqIPUsqfI+NR0Mkv3Sk3QCAqwUFRze5ZtVwmQIkwIEk8QVMikvI5YJtOklwxkkpa0lk2LNk-o5ZLkksnk-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-joEIFKEW89ixEG8a72+G77haTiwJWgu3KS-O8u-KLVrGDrLYXjS+43LtnI8ER6A-lG7GCu6y9IAa4omlXu+UHe+e9XfSHVjB+HK+5+4+CWn+-undOO8x+zm3TB6R-jIrlgppPJ3oGVeh7u9AEO-zJqAx9O4R-+Ah7oBu4on25k8UEe8W5e+R54jO4u4JTR5Mnyi9W+7x9RLMCe74x54JQjIXA0NrV28540Lp9nI9FIRfqCG3Tl4Yb5-jIw+B-fjptR9Umu6h-V73WZ54eJ6CBR568K5F6q-F7rP3h6EnJl4cRt+UKwHd9Ao0LV9u9h41-DO156Gt6F-19Yn98B9Vkl49+l8J8d7GHp814B6rhgsz6LOPkcvkFi7oQx6WjYHva24KCBYMkyDL-yGmViBL8-cKgcF04r9slCEb+VfuPeNqhYCU+aisD88BTvMW9dMCATLXbz-IFi7WQ-gH4C+F9Ukm4JRm--A-gi89ln706X8M2r4bT4pC9Ug35UUW4Rvb+b4ruPmF0KnJC8FoN0SC9D9Xo0JIzT6CNsdKCv+7JIxSQ-68FXs3Xf+Bi-83+P-YUlHAAHX8Y04nbdOAJVT0UYBnBNuoEVv6WI4mcRcThb2QHy8mAERWxokV3rP9Q+EbHwuJ3qLN5tIIAzAffzjhECcB89Q7DogY7ud9c5FWtIp3aZacwsmwbYNcFRhsDAiMLR0kvh0S2A4uJkO4IwFjSoY-cw4GNnjxbY-AcOxvKIAEhAFBIQBrdOsEgL4E+EM+eueAQE0+6i9quYwZsui0EEiRhBogsYOIK47YCoKyyWIAMHyA2h9B9yfQQb2fLx95BzHGNhj2iKkQNCTgm0Gx18GaAghTTctsT1x5KD-BfHWkADzH5j8lo4Q4Nk61OK2oWA-rLqEvgmDTAig3qTnrkLsrBo6AR3czkHmUCjYqGRQ-ISJFKEzc+Gu7UcqNgV71UNGiMDIVkKSI1DvUHQxIF70qHiszaUQHoXUMWz0VCoBoO4L3UJR5CChmgUYfYDKFMCKhdAKoWi0WH1D4OgHWHC0OmQzd3qkwg8NMNoijDFAmw6VDN1aG2QDhs1dIf0L3SjYsSn2PoZkPwDTBVA9mRiDIyYHvD5AxkYsKYESBONOh8dEgG9kdzHw-h5AAEfcMyZwjiuzqBEVQ2JwlMRgxw21KcMcDFC0E90WHK8K9q3CMq0I2Ea8JBEPD5MQIsls8NYLr0l8iEIGHCBUBWQCB4oaGGgIOR019BagwAcKUQGNECBcRD5PGm5GGCXeisKhngLQSsj5ANA+wTm11AwiDwdYAKgX1cFgCQBN0NkXKNf50DH0iog0CqPz6jFFRCw2UXYKCLidvSfTfANemKh7EqGJ4W0ZvHtF8M6ufcU0aADZF6AqG3pYwCU2IwzA288gH0WiylGt1nAMkORFZE9HaiLRZrVCIB0VF6BU0EnI6N6IA5Kiiwqo0YqexDHXCFw26b0QWPtAGjlRtgHMUc2TEljhhjTYseHwMhxEzWTou0dKzSEqpAGtiMkZXhIGAc+qRIlxL3HiKeJYukwHIJiDrC2cFmTnXTvME0DVtPR1bDkf4jpo5jqwvIBSCYQ0pZijRk-UYguPNFTjaAx9WsQZCXE6CmBa4rKLo2dF3BpWKIkeDmyFKdi6wcIuhMaPXFnd4oTrCLoCIyHQ9OeuXZYUEFO6ewIuAEg7o10-xMDv4uaL7n6GJzOI6ATrK-jSFsC7dGgwYk8ukjpq5dPYe7EMcKPwIKDcuegAxh02cS5c1kgDUALMQAASLtWwAAEFwA4AF2gACVZikAAAPI+1kAphVxLhXwBmBYujnJvrQjLGWAdRq9QgPs1QnUgsJho6lr+PkkXsZxEk-4cqLNa-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-ak3uHTwmqQR1FEXycBonV00T106-5W6oXUeQl1wIldXiramUqMhYasWluvQ34qQp+6wDnyuPVTqz1Q0hEXGWvWj881niBzkNOmLnr21hqztaWv+XMbTJCKqhvRrakcbIp-kvhg530l8aXg9FITbOpE3zBY096ptfpLVltrx1762SBUANWcackFk5iaxI4lcTeJkKtIBpqsnabbJJyg9SxoZUDiVN56jHJApPC5Bkms+VmDxoSX3SyUMmx9fomfWFrX1cZGftIBEjXLPYGm8FcctthBbDlxyz2PtLalHqBqlm65XGSWi2acg9m3RZgVNKiwNgrNNqF9B+GQKKhs0eiuDky24Qctf-BDAVtsaJ5itQgTNrlupmCFrotjIWD-WspZbW8BWtjWyQq0OaLcX5VrSVo63mc8ZoeUaInn601bStUAhrf7lsZFRPADYESNKsG1MDht0S0DLQFZrUBbp1Wp+jmsvVsaDyQMNrSvh21cI0FnhOEXw0y1bayl7CU7UaHu0EyZkCa7ltHFGCnbYCxAY7WdpNCx9QKdqy9Ypk3X5UpWiJYNby1QIbabt5-R9K1pu3nCbA32nmADoyF+tDt42lfBjrO2jK9oObI4Z3UxGzCcRQ9QyI6ulXg4sdCOugEjpugo7FVv2toe9Th23SxtiO3CEaCx0-Q-eEJOndSKZjA6EasrBqODuSUOVEd0O85Y+jm2nQvI8qhEUys6Eqr7MQqj8ulW53LB8tZOqZdLskYhrXtl7HFfaCWX6cL1-4psf4D+0shjdKys3aQq3mxBicDOuyBdtzVAQBdJ4eVmDq12hrNAOu3URYRpCTAsEVnWQeZxNhsDgGoDKkBA1xBrbv2ibZNlHFl286O4S0ZVQlOV1mh1VNkQPYo1RiN8xEVAU6CfTxZrRadWhE+uYgjZlVtenHcQPXIbmNRlOLURUVfLvJIk-eW8oIF+3A4-tE9aKDVlsxPgdjllpu4ETvOBanLrhKe-nVup72utIOL0L3W4AbB66DazrXvQnr-bp8cAH8JUHW0cp5DPYAATn-CjRD9dlN1coEkG58bATlN1a3QNA+BfdGPeQY2Q8x49ce6sKwOUTqlSzjAF+m0DSxpYNQ0AYBnDZ4PflEhADRzFQNbPSCAGH9FIHVHFNvQ3QrAH4W-KT2z4AG79eQpA0-p5j77xgeBuymtpkBBKQlMUZuA+r22o6rRLuqkbPpB2BK7KVB8gsLu93csoWrB4JXFnLww6QMZ7WEGvpQgxMsErhA8OUDhAm0PV4dV0J7DnaPgtgdbYQ3CrSZiHgdTDX8NSv-U8RsIjAaQ-rVABtMXsLoudBjxgMFV3wyHA9ukuSXWBxDSkHqIVVnqmgYD7zUQ66BChx9KoY-dWHJv06GdMQYwEzjKpA1RAnN9wRjcJvE1maQkYSbw8T3VgGGjDHUEw5+zhA9EFW-+r0aQZtDWH3wvUWdWRFCPFQXDRR-qL4YESJCje7h-IwjSKNFH7DVrJKF+M5pNHKjxPRA2+M1VIrVVjY1XWlWVKeHpV4fAvdwNOiugdRR6+vQQAGq6AhhIuxNdMeH1eAXxV+4nJ7io20b78X5YYHQBvA6pCowOh6fIcUPJKa2Khxdo2wtYnGQuCJHQwb3fIDwckyx17aset1j7MmWxhLQ2WdSBE+uLID3d8RzEqovR8gSQMU13ggsSW0qiYyMB4FKBVjARJQseyr3zH3qixp1g8oLU0gsJfrctXWuZxqHRDNLWzooAbkAAdLAPou1VxYDO+AaYj8d2jJVSqkkWyCAYMypHBSQnLAKSelXkn1JlJ08TSbpNX0l8QRpk582DFHRCArhG6Hlw0LynQAAALxLqgAaTkRiUyJClPMmMTeXdUxyZ8hcmGMUh3kw2nd4jR9j9AI48eHJM6mGTdEfU4dRxZjUoTDUUoIiVICIlpWhEGlqxDwACmplDp5mU6elOZNXTeVBGh6YMxent8vpjVqaf6hAA')">function use_index(pat) {
    return is_string(head(pat));
}
</pre></div></div></td></tr></table>
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.78" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.78">Exercise 4.78 </a></b> 
  
      What is the purpose of the
      
	<span style="color:green"><kbd>let</kbd> bindings</span>
	<span style="color:blue">constant declarations</span>
      
      in the
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green"><kbd>add-assertion!</kbd></span>
	<span style="color:blue"><kbd>add_assertion</kbd>
	</span>
      
      and
      
	<span style="color:green"><kbd>add-rule!</kbd>?</span>
	<span style="color:blue"><kbd>add_rule</kbd>?</span>
      
      What would be wrong with the following implementation of
      
	<span style="color:green"><kbd>add-assertion!</kbd>?</span>
	<span style="color:blue"><kbd>add_assertion</kbd>?
	</span>
      
      Hint: Recall the definition of the infinite stream of ones in
      section&nbsp;<REF NAME="sec:infinite-streams"><a class="superscript" id="4.4.4-sec-link-3.5.2" href="./3.5.2.html">3.5.2</a></REF>:
      
	<span style="color:green">
	  <kbd>(define ones (cons-stream 1 ones))</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>const ones = pair(1, () => ones);</kbd>.
	</span>
	
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (set! THE-ASSERTIONS
        (cons-stream assertion THE-ASSERTIONS))
  'ok)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPE0GJC4UQ8lIGGMNgZAYYhcPcugxCMSgFEoIS4njQNBvSBQWDIGa5vCUAAB8duMwaPlIappo+LaYj2g7UhYfB8A4IRNvm3b9r9FaMn-WantiS7XtSMcNUetMIvq8xBuYMQJGEBhtzBM7KB2Pp7jEBagsGrC4fCAAyTHen6QYMZHdlEfB8K+oLUAVvIBRiEBqjFoSZbUnByHodBR6rLoKniBq84QZcQxfDWu6GHwUbOep2moKCuZ9CIz7+WBy5OMGi1qDEOhqboWH5ao1GmfICHalZnc4as1X1c1nSgawPmmTVjXiC1obBZuj7ztfaW8dlpMhi9uWtsma3bfNh2ndwmmCY9paXBlm9-fmhWyeV1JjSEGcKmUNhyDK+hJeWPWkZZmH2dAcFU6djOs5zugeZtpWPPL9OTCrrLGAFoW3aeqOGZjv2fdjn2McD0nbcbhhK+z1uGHDvPYk9kY48H+XE9twbq2O8Vx+byfUVnmIC+Zo3i9N0v1+oTeJ+r2vbbPi-t+r52O73+mEwHu0387wOg-r8xb7+LfM473KjPSO+do64wXj7eOw8zhJwGqkLOa1hDkDGgAD0IIENwzhn4HwNkXNmJ9JJUxYMgtBGDiBYPoNfH+aJiGkPXBQamWhSCGBweAm42J26uxFmLLm3AP6AxXjQ4EdCUE3WEL4NhPcIGDEXnaIe1s679VBqkESQ1mBaEtlIhMYM8FHwIZ9KyaiPhUGIJbahyiXBqOIOgzBhhsGgLnuAgRQ9SZKPJoNN43FUQ-BseQyhdBtGM0Lvok2hjQDGSKGXeg3jnC+NsRQ+xVDv6WJUDEshpAGDkPxjrbuCYYYMECDIEueIUnky8RkhglIglolBIUyoJdSQj2ERUvxmTOja3dmA6RBSiklx0Io1eqRjDtEdsoCOuTuk6P1obKGx9wnghGbWRw3MymcQSsQIabRlnjMemEXW4Di6LO2WM7m3A4ZhGaakpZpz1GmMtqwyOsQpmBhccvK55MqgsJnCYzRjtOmUH2Xk15XsLlrI8pgn5GizH-MeZ9IFLyXDx0ubAoZY0FCaFxDclZeyhIF3SJkXFHzk7Q3WFC+5-zcUHOkW9QlyLE7uJJewDwXhn4v2CYfOZBi5pWWZcoLwFjyYbIYHy1ljj96HLZuCUV4Jzny2JR5UVIr8ASLZfPWRS8A5uLRRoQgIJuS73Fey5IMz8FhJ5aXXV+rW6Cs4nzDJiSHGTKcdIt5WrUXCOzmIOFXSXWvz7naaBQjUkOQYF61hRAEV+uCQSrIkbwXmC+R8MNpBprxupf6kY8aFXmEhSm71+h03AqRT7bNsDGXwOntnfQfiUbgN0bM42YI-FWWKLXCtKiGDVAqKg8U+heJ1ppcMygx0pq+xGAO8Ie0KapHXuOwYk7tXCO7TYhgRJRb9qoAtRs3RGQywHUxAuc7ujhFKOCNtoBmjdCXaktK6jAhUxxGybopI6aNkakCNKT6yy+CaeSIKH6wLBnHPpUAsbL3UhvR41RGQJkUq1oO6ZISuVhPg-DUupBYO2obvQTOvAkmBMwxwRDILIF2iIw+HNVjYPKtVRRkjJq0jvW9oGn29HJgrgUlKzojlyC+CZph1ZK5mgCNorBmBitrmUGCJsi0xZyrVC7TKVB+g5PaWcAtAcg0V29r+Kptw8n6CTDpq8egVJd1Ah02u8sG61OoiAkaMzAhlCJECE7Oz5Ujr9DEpElYd6vOPu6GbAz6n6CeQCwoGq6F+A4mC1pVE4WR3edlZErCHn6DcCeICAAfCoVz-yw0hdihFx8oAKIvnJOcXmwiPgycKTRxTOnsjibfU5ngVBmEuCBG8PDBHmvEaYlp1IOm+28U68ZqCpn3gCAsxTZT1ncQbrG2QOgDmGiNhc6QNzM4KP3u84CXz0x-NJcC9sDDsHEsPsi2tooRVYvnY4Jd5L+FnRYQo5l8IAJcube2-Vjge2qalfK9GSr5bbb4c2U1gddMC5HROvOzdCc3EcAEAAFQABIAFEGAAEFwDgExwAJVR5AAA8gAOWQECWNJwO0uBkJINQhX4sNUR517gcguYMbKMYJTPa2cramDMcQkg+c2KNul94AukhC6aCLmcnQFyS8MFR+XYbMjM8M1L7nGPsd44J8TsnlPVd3p0xLorrPlsy5h+A47V39BWfXcUq3q24ta6e1TdtdUaGNWakoKAcBEDIHQN1PEcDzDjRrKYkujtKx4vrcMyMo1I9nkmqdeWylSjUk+spZolMJYY0z8CW60lH7cJAS7YWos0hc0BtwWPsuVIzqqU5tOACW6Goz86UoKeW-Tbb5fVuMe6Bx9z83v+-3B+d62kX3vE-NlT6dRahvY+VZYItpSwv3eWinmZ-bLRJ8V-OjzynGJ1AfELjaY63OW-FQ993148-cTL8JICcP0fx-m+IJISgq-b-b8rClDCp8xbiiJZKTxMJkA+rzQvZ6QNDf6kLiKSIYywFwGFBH6Kgn5bKjI4oAHyQ74-DYq7JEGbK-IwpazQHWD14j6N5y6DSiqAyz674MGH40Gr6qLRx3J-JayMHb697GLQoH7hIYErBYFWrUAGpL7zRF5WqSIp4dBaD6D2p-59YoEtA0GoGrgFLV7hysLhp17qFx60GrAtBbbBAlw2R2QOTOTUi+BazkCoJeQ+TyGmLtrByEB6qSLIjcDhpCRDZZLHQKBP6VibIgHIgTaGhBSyEBHUBBE0AhEMBhEOA+Gpooo5jPj-D+G5AYr4DlCJE0JKEOARHrZtaYIZDFQuGKH2pIGFGu6HZ+g2JaAiBjQj4Hj0BaL1FXj2oMJczMKsLhGaFoGFDhqDFDF5g0ItGVhtGhxgjhGlYSpDr1I9xVpng0xlFsDSGrilBqLhx95NFgjrGbGxjND-ShjLDA4mamHmS1FWS2T2ROT07CKUC+AkBOGCAeFsC+BRbkRg7CLaGjS6E1roKGDUFx4mZBShr6F+JLB35gbvRyTNBYSVE0xJoK6ppAmEBhCglUGdH-ErG1isJ5pQnAlUGGEMq2y96P4X4Or-7CE0E26LEjq1g1oTSKGtK2IBG1AGEN7GElAEGp5snpJtJ96UHYnGSmSsk0zskYLq4AqkkN5QacS94kF7LYl0z+FmKYrYE7ITJzQTCXELEJinGaiVYZEUzCgO4IJkpcHkEAr6mTbTBBTIlKEHjJpkFCF6lUEKmmmRgVYNhtaonqJzT4kSgRKxjOmBnumb7wpek0FMSCgWmDQ7EMQunfJBkzjhzFF+hBSRmfQhnxnpG+kg6xhOm74qmdF5pRkUG4qcDelZig6Sbkx4kOAhxcniwULc60pZDtkwn4GxrCbtYHgQiQgtnr4ahwjcDNmcxjlck3g9nDxkQRKNmcSGDciMC5FNyALVyUHqmJmJ44HEHLwGlpLTbZ56mMgkE2kPKAwFmGnBKanPHamnK4qRKlD9nHHvEkAiBGBrkiz8Dt5AJmaplumCHRmek4ljGrlCB-mbkd6s7CrlljFXiVmgXVlgowKFAXEOl3mMZjyL435d5+hcY7h4X3xTxcJ3SCKRJYHz4AXVy8FbHAhsy0X4VtyV6fy8lN404Nnh4uC94sF0lglQSNhIGMhKo1EYxMSNjdh6gXm-kbl0WtysJIE3aNijn2Lqy1AfpMXJrV7qX2xckyVpHRp8WSn6BIGjErCNGOxQyx7TFaJGXcD6WaWhDYmDLCL8GcFVkApqlSzsK3CbLJmrH6D1HOnWKv6qHyyWVoQ8mKkeS94hwenoYN6tannhyMjOmJUFYgJRVklMQhxl7CwzxZVOwUWfz0SrHYmHrgLhxxUR4P6t4VxkXT7JX0lQQFVlUhn6CkVbnkXsV14rjOk9VwXZQ5VbTYmjHenVapJz7Zznz-ysXv4LQdXsVdUsXNWeb9UoGDVmXrW9WxRjUwFkmTVxnlre6WK+7yD+5tRB6dTdQ6C8XN5Mk0yoLc6OHiTsiCZ1WiQBX5GWKbqMKSBQHcAWVkkMn5JSrZGEC5HNF8wpYEQ9GQEsIg0qo9BTV07N5Q0w1QxhGdmmqhKzFWRY15Fw0JqPGWLgGA19FKHc69INIyDcClKq7VGo003g2Bh03FIM2gB-rTWfITF2XyAzFs1+U9J1J9Lc0DLfWgDCpBXMlvD7G01Spy1nInmK2q5JmcEzyZns2MacpNr6DhxGJa0MTYa5om2rF7GUo62i2Zoap2iZnuUzWOBfD2JTSTH2WUopW22Bg3jo22yBmc4Sze3-rOJez+0eUu34C84sBeGA2+WFCh3SJYRB1cB5WwKNiUCIwPm4iC3tH-KMjcUY3AGA1GDsUglVgMRRomWDmbhlUV26Fk1NSA2FV6hKGA3PCJ1xiupeyp1N2p0hn9Ed2RBd0103h93S3WXNF53C310VUV0sDrCbIh3d35KOxiBZ1l0dz7IfUcBTSb2ni9mwlYQl215z2V16ikmL284iGiHAjr2b313hAAA899+9qghtnQR9fBZhm44IqOt0MtQgvgggqavADyTYHx1AtQzQ4IoAAA1GGUMXDlNEKMgeXeEIg7KqXAg0g2gSg2IGg5-ZfZxSYWZOYf-YAwzo5KA2IOA7CpA3qtA8ILA7g50UUAQ0Q0-bg9g3A4g+w4UJwzIJIofeSX8SXliK3V1WVb5eSBSSPtDLdNiCvdMLbFBYEufaI8eavTGsxk-QI6BrHoo0QCFUheoZnNHSdB7ULVojyQY80GVYTDLPo2MbMF7KIwYzEA42uSxv+BgzaA7V-fMTmCuAOLHoTFncvRio+TPZbAtFZb-Vva7LcXQDdOUGBlzN8U+EWdo7EI2KnYyIHaXXWdmeAuo+3VzK3UPVztFV0S3YCX3TdphaDjo3xQo+iMo6dcuR5CtR3NI+xRVbI0iJHZWMY500JSuGoz45o0E7kzhc3rGkk3dN-bGD3u00o6Y2gWMq7VY7E17TQaQ03o4x9c4xgwI6UPBDLIfRVYcyZNSD40RP43+MQxMLeWVng0UGEyPhE9ndE7na0TY-8vE9MOQ3XQM6XLZGkyIBk9TG8SVVbG81hZEvk4DYU66TOKnTWqdSWWUz4wPfXRU9TBBWYwPQ0x3U0yE80604YWM1i3Hm4udQWJdS1AHu1MHl1BgI9WjIEcEaEQUeERmhynoihrMckaXBgrEby2bS4BK3EdQAkbEXqraUPgK8WjIr47UQyoVDy-EXyxdYyMXOmEcnMNg7EHMKuMS0UEchyKazEByBa4MUchhLa7XQ60a1KjDC6zDG69MEcl2dg12c6Ja4UEctxIYHqnxtg2GxGyA4qMG7EEcqC7a6C7GPGzEEcjcFnWGiwIYLKpm6oNm41CsGmzpWCOCPAy67EPoKgtwL4J9rlo4Yg7GyW0cp5JWzENW7W-W6AI4T5M2461KhOdMJ26AHWzlj26AJCKOzEC21KsAO2wYDW6O9244WAP2+6zuOCAAKQLsjtjtfYTtbvTugCzubviSVt7sruEx1sDubsACEkoF7S7+7DboAD7QIN7G7Zbz9u7z7V7r9MQn7vrUqz9AI7bl747jhoHgHp7Zb2Wv7XbkHoAuWMHt7cHYH3ARQEHB7jh2WQIy7aHEId7C7E7hQB7MQd7sQr16YBUbWsrvLf1BYVTB2KwHC863A9HurjHqIKK2rkrXH9q+ALAAAViYICix9MGx8iOO06zq-K6rQInMSW7dnJwkXzCipFHR6p5so3NpcXEcsadg8acp2Y+m1KpAHQN6Ofl8ZhxZ1Z88SZ6Zxm1QAW7AJALa-mwwG5452Y851m5ji6555jj50hUcuTuQOTgu+F+Trc0MbR6eZx-JyKcwKVeXRJw0FJ+OzLDIKSYlwkbp-F1SHlzp41RmVXel0UJlwe4pxeDwNp8l2nBp+4Z4TEXK2p-y2K16jDNztEYpmqKQJ8VY8J+QNWKucdJoJs1eMV12hihwJbCq0UbU0UF16CAiEUL8dcvGIQNY-nTwdzlPbZQC7t2CPUbqjZf2vV-aufZ42uPV2PE-Ut7EGd9+dN4JyJ2JxXTd3V-x0l2PI3Y93a781qXswhsjpIETJsmIF8IvZfkdzMReVtzt8LWmNIE1D7s3SyzdR1JgJyxjQrRQKYAwKMh8OVDcKQKyvPnjUxmtBtAIpTxxoAeq3IlkPT5g6XAwHw9nqOoQ8IwjjeKzwOXT3NSRKrtkTcFsj0VoDktz9XfM+QMoC5goBkNHkYD4Qr9241Ig6pgr4TOCHA2enA7A1ZLg-L8oCF86Hr3KjL03Q4AwsYDNNzykd6k7wwLb9nMYM8NBEnQmAQzwxCLg2LygsYJL1yWx16q73QHb2nb4Wz-COCKrm7ywpsswgoKpqmlT4s16ryWerGrpHc4NMXFn6ANjMpJaUxnSj7Fn1OjtEz5X+n+EO+6XG2tnwYDLEXx9eenn7Cfj-LzOMT7FGT6yln+KQYCrFA5IbnEXyX6uPniiQLRFdglX4c2ev74g4n7zinwjvoUv2w6uHA5z51dXu2bUUxyoYv-X7v7GPv7g+v8n2QKnwItv-X8ZvA75nHyP7f7lKCNg16k5ZH+73f1ICCReSWBNLOn04zSgo+EIZ1pOTZht90+ATLIFXz-5R8mA9-EAc3gIZp9kYEA8EAAHJOeXqHhgQIHJCNJEWfBPv-yT5E9awpASRKMjoEZ9mM1MGnpuBlgMCgOpnUthCCEDCBeGwQXhg5B0hu5qoRiLDIHAgGf92BtAm9s8w4Gklb+aAoARgKkFex5BiA-QOoMgEACaBZAOttLWG6jdlA43MrpbQwQeBEkGJKnuIQn6BJa0EAo5DYJtQc55+-iPrLWgB5ANsQhg9YMYOoCaAQyARCwW4Cd6sJa0DPfPqkGP72DGeRyNtOclWpH9a84Qgcn4mlocDnY9hVBEEPGRuArBu5UfqkCcG7xwhlxfJhMWOYfNBGiQ3hBLGUIL9c44Qgstq2CHGAoY4aeKBoE0EyDMhzAbIeYNyEV1iShAYJjmQqHsVdezrCAVhH3TyBBhEuVIqSQEQDDEkCw71BILvpXcJhHfT1tMLmGrD2hqRAclsI7i68fBY3fwaYNrBd8igpQFOuMI7ieC2O5wvwQEN2IrCQhtDMIegg2F3N7hFNGRnV1aFrDjK5EM0v4WiE-DgWQUOIdg0P61CaYTQn0pRAdJOl0EAUDbuTGeIkB8hPtRjEiR+EQCZYMQu5qCwxIpN7iNhM-uYGxGrJRe9AfYt8JGG61m8BIkYRAL9qEi76ZIltBCysIPEWgDQlwArVhRuFPUFubKNJhFSyZhAFQQYLWhZG0j8hHfOzPHw9SpIBg7QiUYwBqIKi8R6rEUdWSRHdNrgv1FgN2nhzz4Kq54FkVhCtEX1zwquc0SICsbz5zKFoqaNzhljOjuInop0R6LEBdUfRJ0bnDeGDF+j1R5McMYGMUyYt7RfdFkW2E8DxiO6quA7p-Q3jIQHRadBMfqJPpmiAxGY+akuGzGkkJ6mI5WP3i1jnxFCvI1On-yhZQx14DAdQCIA4CkAFoo8IgHIR+HHl-Cc6UodhQpBtZoxYlAMUpkSLFN0EHOVMZEiCijiPqxpToqUAcCNiq0mSVscIHbHkjm6XOTos0FyCEBJE0YoMQGOCZgicm-hNkVmWdBBQsIh4yRMSKhHcAHxGrcIRSwvEoi5x4CNISuDYje9Awr42tNLQixhoPCNlLeFnF8BclDAbICoFBKNiGBX0+orskYFKQQD4JfGRCcSCeADkZhoKUpJ4KywHtQJz3KGJhOgnS9vMCENCeby4FFAKJ2E4NB4i1hkB7oCRRifjDgmRgsJUMJCUwMJSwSW+nEoaDhIwH4SRgQkoid22qDMJ2JC+HiZRP0AiSkJTwTwc6GIm5ZQJREUpGIykxXZEiWcWaF0O8LUhucMgIyU0QByp9QJUnMVq80jF2pLJjsayQ728wCSPoV2Fvu+Xz6sSBu-QDiYpK5KRJnGJ2QSEt00lNRnJbcMKW5Kpg0SSsek8mAdy7SjRKQoIa2sLyzHIJ0MuY8kCJQDFjiXR7tWMaXRTFc5qq0iBcUBnVC1AIB6Y+0TlJnF7i76LuBgJm34gniZ40Y0kk1N3FEtpabUjqR-V4jcA+peU6lgUw74yAkwtQOBrgJml7A5pqQ9oJ0ERxjSt0VQ2IKUAKYxABya8atNDnqmoImiUMIUCKQyk8FRpXEKgM1KJb7TUgWEaHNjFZEbhlJW6aYR1hWztTQoH9G8AOnUkrAbwOUuia9i+lJAfpfED+vui3SAyxiMsEGXDKGKNMBy4IRaRwD4EgSToKObKBFmrbc4sIS7SKbGidrlI+g-KMNIwElz6YWcGWUABkOukZCJpeTNrMNPqQ0gNijIIab9O6F6DwC6GSXNwC+56QmZs46lmzMOK690Zy0xnj5KObYzJAuM2KRLIoTlFSZdqbtJrlCxS4Xcd0usPqNAkWSqAbHQ7DlPAY5Z2GagEwF4Eplazd4ZsyyO1koDs5+pfIAHgzihl2zLc4MugHrIZQo44gNGXIA4GYSMgAADLTltg1BHIf2WTOPynjUBBgKMIOTDVDlAhdswcvybgzxCVSEwGc1OWQFVzCpo5644sTTHtG7ZihCmSCABJlZvTO+HHN6ZXPjmxRE5Gg1ntLTcyVN58w2QjC1mEqlEaMVc7KInMLrEAY5zcphrYK7RJymItsJLJsl4xsBWUeolcEemrQKjXyQDO4CXLdG8jJ51qVuamGoqvShyJI7fFhAXkMAl5rKJ8SMNBmFAr5N8t8VCNuamR0RLTMeoEEXmdBWU9GaWhUC-KhARYdg6cZXUzEljmZ4xVJE-N-k1pgWMQfsRvJvGKgwmq0lnllJLEPg5m-ocBM9TeaYUzSQ4-0qeRYBFTfRMYxgJixzFiy0I84wmEuKGI7Sv6xATxs0FgXLz3RxUwMd1PPGsQsA0EJFji0WJIlwgy4z6sQB-mcLiRxmadBwtZR+0IhV4ZoDNKjCItP58zeRVYMnonSIJ506Glgj0z2jTwfs1KlSAXGgATxpU2vOVIGnkgBwo4xvsZ2PJBQHAaDSGZ1PHHdSzxQs+iTEBMWuy1uyI-UEgs3CngJsSFPAJCGiUrgCp3C8hVY2sUSwAl5YlYPOMKlOLwI44LeW4uEYeKP6Vo4WbEC6kpkepKEaCKhD7onyGpmCtOiktoWfiQlFpQBTZVSC5wAlti7BREFABRKYlaS8BGjNmmYzglxZR0j+N0XfljFnQP2RiJNGqg6A7i4af2j3C-goFxqV2VLKGU3C+SgypaXwJWkdAsghAFZS31ToPT1xyysRYzxSn6Lo69iPTMco46rKO65yudIQFfTHTTpqUrJHcuoAPLfwjywJTEF6WQhzlT00pMXxxhow3p7ylvrktxBLL-phEr7v9NJBIzYg8K-JQjmOUPy4C+6NFUUudAoy76uyjGWqLmWflPiYaWOf1jToMyfZ3AUWVzjMXOZ7ojACjIyC7nUxS54oXubStUptZMVksoEL5kxVLL6VzslbOiuHEu18M2CTOP0HZXiZpVhQJlXYupZCrVZnM6aVsogFyy5cyJXQXQNpW0ZJECq6CvRnUlu0oeismKfbk1Ucykc5aAObrgYCE5rIAAGUxxU44SmQSOcIg9lM4KMrCXWUCv1EQ4xcKmF3C31NzKYjYwa6XKtgHJ3pFcsc1hE3RTUa4E1OuLHG6s9XeqTcouM3FDATXRqWRpE8Cd+UOx25vMDuebE7kTW4qVg4ICjB7muwA8a1j6BuQ9mIBtr4Q6snph8VxClqGVYa2uVz2olGzjJ2IQ7ByoPbsNoiKCCjLSsbmSqkgfs92YzgLYjq11vswJQOvMD2JZumyDgbzLoH8yXZ+LMKdzkNlGSTZKwKablkiQVqgFkE3iZN1XDegtRtMqXBKsvUd11JkU6Igmr-VSr91oxK9V5MnqSkjV9AmQXrOsnbo2srQaTp+kkCywXiNMLQeCENUcCsm6ylDQ4AYVZKNQEAo9Uq1g1nqegkG9yQOUI2BJDRgKKjWWJbolZpamo2OSLHaTaiaZWuKnsuslxXL8CHGgTdqIwEcbqZgm1XBJp42Ca6YtWQIF7JHmMAmsUm-KW1jujfqtc2lV1friJwk4Kc4AJiLpvxz6ajcPqtLNqI+zjtNNSm94DdiCjggMQ5KjGiJtgz8r5N0mRTbtkazKZ+VUlDTWwBLWwYdNua91V6qM3khXV4W71VzKbmwZrNB7WzcGoc0DLnN0tQaDnT7zCcCi0JDyRiRRR80NZaZN4DlpRAFavR4dEkqrjzSlalYTI2Xuss5GYkm6mWv5uPBSBlaCwFWlkahLy3M10WHWwwF1ubQkkWRd8wrRjTzRhsRtDW0MT7H62OSPINQMQKYihinq8t42qrS1ulqlb8A1QbqvQFm0IaSsvW1IFlrq3-VLtpgFZttNdnWSBye2g7bVqO31bDtdAWbU2tw0yDgKM4a7WCH+1YkBFXAmjYDkUR3ZwQvA3ht9r0HYMntq2f1akhm37bAkM2+rSduvVnb0UWpNHf9Vx03bvJ8JO+rJLYkBSFJCEwYIdhh3GrAy+OsEHTqxL3aSsKEBoJFOR3PaKE6cTrW9oZ04lFyBEUHcANJgQ6BBVkanTZ2CjDaUdKPKOcQFW2KERiTOzHQbLCmGTjZXQw7I+uB0rA+tMG09StrW2UbfCKqxUNapxl2ra1jTWwPzr5Jm7bVrkqpRUogyxoWdRQQXdbAh1CDodeumQdgwN1aAZdHlVBCYH4CIjex+o50ryMiYMAoeQnXxHDziYGCRuvgkwV1UV3u7JwAGVXVOvvVErUWX2YyOLhcyKFNIKXGgNHhu7wD1hes6VYbQ5z1thZZIysL4r8V8jKRdcgQOvDeJ8MBFTuwoOCBeGp7w4-a5ftSAVnSYLdj6KpX6GaAu7jI7u4XTFgH3J6Lhbw02mLp92w7uAg+y4SGRR6Ngbg2Q6NlBMZAABOE4LbGP18ZXJjWy-TxCgnWSu0zCGaNwFWx9i9y5fD6CgsIWXiLSXWKUGHIQUMT79fGfQHgLwFWQ0AUB-DT-q-Gxgr9j40FE6vgMgGsUqu8-BtG0lLxSSLgHyEzT-EaLJdMbR-RgbrrcBD9Q2mNgepcA8Y+MAmZkvbBkwY6vJLIwXYvrLa0H+MTAQTN7qjxaBYNP-NgLxi4PPVA9qSD4akFPXVAioJ4MgDdHsQOcWV9MxkBkIFhZCchlgqAdIf4A8Mjg-awbBaRCKkB5D1nN9upHsR70rYx5BAxCG8g+QJD9MmQXNiKgxA7D-kLaTEBsOKDT1rQY4O8xyYRAWIA4SXEwHwDSiw0sorkr4aANub-swQOzapllF2bTVmgvhQOCMMmHniZhiSBYf+TwgcFNh8EHYe8hMgtcggSI6IGKPeR3DWFNiEQpXCFGqjPkDgYtEdWNQmjbbD8UQYf14zn1qu3PXUy5gWyhi3hn7UUtL1pwaxWGmvQYGb1NRu2RhdSeLs0HnJx9Ss+3CTIwohMKVgZIQIYEcgbRtDXcdTaeVaAqGehahvoRobyFaHI+OhrBnodKwosuY2lZY60FWNTRzdrkzY7nN0aEpU6t2mIDn3wBAMoZJ0G6cwFkjQQTiVA3nFIarHl7FC7x9VgCdJJ175j47IwuxqSOSaxNnmurCEd83841NhQEzQbgM2U44tQ5QWQYG7ZkmzNhm1LdIic0Co3EEhyjXgLsz6A-FAAHSwACbK1UMKUTIGCCp8Xdo7LtsZjQgQHT4ch6OnSKwDsnT1nJorNyfol8mBTr64U6Kc3RDleAJ4Ukj0Cwj6nQAAAL1q6gA+Ty3QU6EcSI6m5jPQc01Kb0gynwQGR+UzVFQg2xBtexg45uE5M2ntTQAvdrAM3bkBeGLAXhsoF4Z8DJgeAtMHgCVM-aAzWpsIyKeDPPtQzHBiM1GZjP9rXT-kIAA')">function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    THE_ASSERTIONS = pair(assertion, () => THE_ASSERTIONS);
    return "ok";
}
</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_1_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_1_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

    

  

  
      <div class='permalink'>
        <a name='sec4.4.4.6' class='permalink'></a><h1>
    4.4.4.6&nbsp;&nbsp;&nbsp;Stream Operations</h1></div>
    
    
    
    <div class='permalink'>
<a name='p45' class='permalink'></a><p>
      The query system uses a few stream operations that were not presented
      in chapter&nbsp;3.
    </p></div>

    <div class='permalink'>
<a name='p46' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Stream-append-delayed</kbd></span>
	<span style="color:blue">The functions
	<kbd>stream_append_delayed</kbd></span>
      
      and
      
	<span style="color:green"><kbd>interleave-delayed</kbd></span>
	<span style="color:blue"><kbd>interleave_delayed</kbd>
	</span>
      
      are just like
      
	<span style="color:green"><kbd>stream\?append</kbd></span>
	<span style="color:blue"><kbd>stream_append</kbd>
	</span>
      
      and
      <kbd>interleave</kbd>
      (section&nbsp;<REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>),
      except that they take a delayed argument (like the
      <kbd>integral</kbd>
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      in section&nbsp;<REF NAME="sec:streams-and-delayed-evaluation"><a class="superscript" id="4.4.4-sec-link-3.5.4" href="./3.5.4.html">3.5.4</a></REF>).
      This postpones looping in some cases (see
      exercise&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-append-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (stream-append-delayed (stream-cdr s1) delayed-s2))))

(define (interleave-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (interleave-delayed (force delayed-s2)
                           (delay (stream-cdr s1))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaWH8XqexNtsyy4io6xlurbU5qj6ipUUKc3Etz1GXJeoKMp2cXprIBmyURijrFJKhvstINy7F3Kjgo8RALgTPIcUs5YJtIXUJsZHNwMC-BzlNCHICPyMQWL0QCK+gLmy6HvmRQpsL7n4v+IkmFYKXnwodBU1G1KrFEphRcnct1qnGGxTgPAfkGD4GYGwKAcBEDIHQHwAATB41mT9HDOBRoVbwbwyXCNsDtMoB4UTGAAD56psk-RGKrdWgANUauw5QKiiGGLqi1Zpu67TNfqw1jq7Dy0KtjN43zj4I0kJ4TwxVNZmN8eQAAFvcLYng35JTAX0Q6x41UADJk2gEjZINBarlI5tABGqNAbfUbPAZqgeurpYaujUGkS41Txt36tXUa9KGhNDLWqit2cM1oI3nCtoPS5UiAuI83Zfh76VoDdWkNKhTzDpGA2nFx9Z3mzqAyu+fMlpdsUD2xQm7t2vxCo2xdhSnmcrXZEDdtru3jz7nuuUB7enFr6Ei2leF23nq7nYKtwba2+JPM+6FLx53rNrqAf97KJzNvLe++Nu7r07svVuuD+7+2jTA5Iicp7R3rs7Qh7dt6+0ob9XYVlhL0OLLPaA2sfQv01tDcMk8JGX3zCA6NRjAGVGQbfZR0isHN7wczYhvjyGmasauASpjWlMNvwvQJvDSG739uA54i4FoJTzOnFB7jJaaNTuIXs0AJ5VMYwWbQFjx8jOOQHgaIB0mxntmUCultpakiaF472vw96lOsyMzpTTJgcOybg-hjzinRrhzARwy2cox0ftsDpn99GBn+1xGZx9czwYaa4-5mDuH5N9qLSBi47IQYJC5BlyGfm41Uf9YG79dH9PLL-WSErYMpyQ1SyBmmdIsZZui9h+Nj1TD4HxDwQjj6usk2SVlqrpFBv5XxNKsbnWyQYzpnprD0GqNzeG74gAzKFojjC87TfHbV2j07f3QI6548ZR2X4kJiwNsxJ4ruaCtiJ4+0DItlhswYQIm2eO5aE3ej7j6k7fcDg9-rVHN3vcPWl9hgzAGS0e1R4LpT4eFYgQJKBHNjtQ4ByWnu7mMcLsfSpmEhDOEo+h6RJ1vdBMk8815wdVqok+L62kU7k6Ev6ZPN467rNbveMq0tWt-P2eL0-m0UHIHgm+emzNqwbmNEFeU9CDsXYeyvs51p6jE66sXfo+BbswJBciD8sZzLuvssw6B+5zzo1PonYC1evjwXCJLc8StT61Bvq2fjfTvufvScs6sODy6IeA924E1H2XnjC6rS3IoKPqPSLbrj4fAVbUhUivYOKrgUq0C7YHdppGShqSxqWi+HNqlEYejV0L5UOFi2KEs85Q0mgqkjL1+L-iglhKiWLYvZZ7ezAuS76Eoo7zMfq9JAJISJkh+13wlX2L8WzH4Aav3xfIk-Lm-D21HUepx+GlX+q7O238KaFG-H1mlvfP4DX095cQ3r+gEW3fi3R+ApNKsk-i-F-UYN-LfUAfbRvEQW7SZNFNGWgDKZ-LbZ7aAmoKXdKMsL3eVOwZAmKOOQA6rT9A3c7PEN5AzbA0QA-JXVKIGDKcxNFBAwHQLPjOOA7R9T0LIOELwFwBpQKKyHMPA9PODPlUacHYVMtPgjtHLATIQvpMgdg+4UoSCJyUQfZA+UZeNRNfCJQmfICD+fNFwHHCiX-M5JSVSYnf8MPUAW7UQloZtHmF6WCfgqwDQ2wzQewjAi3JQ2FVyJQuCVQvXTdaw0Qdw8PTw+wzQgeXw-7NQtHODQIlgkDIyVBLg8QRpYwhzexOwkpLvGEe4cQrnS-ToTwCNdI+oBw2vMaQo4o6oOBNMUADQqwpQkoioTIziG6UoHI5IzRZxO4LwYo2wvQAAHgqN6PDVoNaJYVWEPGoGPBPAABVshLDhgigmJPBCBowT4ChOxKBipYgTxQAABqL2VhQIFQX4LwRCG0fog4gzBqa45ZKIU4lVC4sYg2FhSmKYmY+Y6gAgUQG8FYtYn7DYzXbYsYXYu444sIE1c4-AS4xzBww4qXPYw4+4oIR46Em0ao5nUaLIXIAoSlC5RzYFIIAGbQTWbIfIY6LoMlYkz7M+Jo1pUATE6knoDVYnekmonyVYUknEiklE6qWQ6gDgzwZI1IpsbpPk2IZtFSXNWHOEro2ozdTEvk4wSUukvdOUzQbdTEtJdISuHodWR0aUuvSNfQkWQw7gv-EYWNBFD4+khqC8coYSZaAeBtZYDOARe6D+QIz2EQxokOLOeNOJcIpILw4MoInlHyQI1KbwiInUqIPUsqfI+NR0Mkv3Sk3QCAqwUFRze5ZtVwmQIkwIEk8QVMikvI5YJtOklwxkkpa0lk2LNk-o5ZLkksnk-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-joEIFKEW89ixEG8a72+G77haTiwJWgu3KS-O8u-KLVrGDrLYXjS+43LtnI8ER6A-lG7GCu6y9IAa4omlXu+UHe+e9XfSHVjB+HK+5+4+CWn+-undOO8x+zm3TB6R-jIrlgppPJ3oGVeh7u9AEO-zJqAx9O4R-+Ah7oBu4on25k8UEe8W5e+R54jO4u4JTR5Mnyi9W+7x9RLMCe74x54JQjIXA0NrV28540Lp9nI9FIRfqCG3Tl4Yb5-jIw+B-fjptR9Umu6h-V73WZ54eJ6CBR568K5F6q-F7rP3h6EnJl4cRt+UKwHd9Ao0LV9u9h41-DO156Gt6F-19Yn98B9Vkl49+l8J8d7GHp814B6rhgsz6LOPkcvkFi7oQx6WjYHva24KCBYMkyDL-yGmViBL8-cKgcF04r9slCEb+VfuPeNqhYCU+aisD88BTvMW9dMCATLXbz-IFi7WQ-gH4C+F9Ukm4JRm--A-gi89ln706X8M2r4bT4pC9Ug35UUW4Rvb+b4ruPmF0KnJC8FoN0SC9D9Xo0JIzT6CNsdKCv+7JIxSQ-68FXs3Xf+Bi-83+P-YUlHAAHX8Y04nbdOAJVT0UYBnBNuoEVv6WI4mcRcThb2QHy8mAERWxokV3rP9Q+EbHwuJ3qLN5tIIAzAffzjhECcB89Q7DogY7ud9c5FWtIp3aZacwsmwbYNcFRhsDAiMLR0kvh0S2A4uJkO4IwFjSoY-cw4GNnjxbY-AcOxvKIAEhAFBIQBrdOsEgL4E+EM+eueAQE0+6i9quYwZsui0EEiRhBogsYOIK47YCoKyyWIAMHyA2h9B9yfQQb2fLx95BzHGNhj2iKkQNCTgm0Gx18GaAghTTctsT1x5KD-BfHWkADzH5j8lo4Q4Nk61OK2oWAdEaYKoHsyMQZGTA-ANkOMjFhTAiQJxhkNsDx0SAb2R3MfEKHyBih6QsoU0LJbicg85QxINS2JwlMRgB4O4L3UJTTAig2Me6LDkRgZCvaM3d6vUPICNDxhzQ+YZkNvSlCyWWJPpOvSXyIQgYcIFQFZAIHihoYaAg5HTX0FqDABwpRAY0QIFxEPk8aU4YYJd6KwqGeAtBPsPkA0D7BObXULMIPB1gAqBfVwWAJAE3QDhHw1-nQMfTfCDQfw-PqMW+GaBQRdgoIuJ29J9N8A16YqHsSoYnh0Rm8TEXwzq59x4RoAA4XoCobeljAJTYjDMDbzyAyRaLF4a3WcAyQ5EVkYkYiLiJUjj8R0b4XoFTQScjopIgDj8KLD-DRip7OkQr1sjbpSRUo4eg0N+GVDYRRzXkXKLNpBBN0so8PgZDiJmscRGI6VmkJVSANbEiwxKo-0A59Uphs1YnPEU8SxdJgOQTEHWFs4LMnOuneYJoGrbEjq2Rw-xHTTFHVheQCkEwhpRFEwjJ+oxb0e8PvLOdaAx9dUbZF9E6CmBgYrKLo1xF3BpWVDboTmyFImi6wLQuhLCKDFnd4oTrQgPsyv40haRJ5PXManYYqi6Rdo1mBFxKEZDoenPXLkd2OHh0ckEXTsQd0a6f4mB38XNF9z9DE5nEdAJ1tWLra7dGgtY2bnTVy6ew92dI24fgQUG5c9ABjDps4ly5rJAGoAWYgAAkXatgAAILgBwALtAAEqzFIAAAeR9rIBTCriXCvgDMCxdHOTfWhFCN+FgjV6lY5iqL2pC1joR1LNsXOIvbuj-xCoywGazbEyBKgrowYLY2Qm9xfxcY+gFMPM5niLx1428Q+OfGviMJ0vGCVOzgl4IIJvw1em2KLFzjbAC44bABMQkNQ0JxAV8C0I4F1Cr+2Ej0ckjYn1QkRq9FoVkPkA80nEBwtYs1XuIOjkwzogSXhBkk98wx0IoCWqOMBfjIxykmicJKAmKZjxarbOiQAS6qQAADOYVGhFQbw1YBSEZzDYThKAaCKvA5NJBmSDwnsEyR5N6FaVDiPATcaRB8kDBPJjAWxrdlsk-AUBlAu4JoB8km5A2dYFyRaIngEcNCCUpySohclw8KGLYkQKYDbjRSCUdgQqLFAcnLjw6mUuZjChcmewop1Utts5Ncm2xRo4w+4DeBkApg3OywDVAwLE73RFQZAqKV-zYGNTTczU+Usi0k4xtBpGlI6O1NsCdTpAKYEIVm3FY69TAHUrqREN8FTTVObiJgYtOWkpgTJ+UqwBMC6gmQ7A0bfIPmTv5xTRJZKNqVtKWk7TkRSg+Qf1Pjj2gDS7oergQKCJ+D6y8aevKIF0GbkgeyyAJGcIgEaDvyYhICRDJlh3DneYvJ4RCVCDojVYypWIMdJ2mAiYCpQDwT0CAi7xohCcWLMx3pGt880r0k6UcyBnmo9UdM0QNtJWkRCOuC4WINjIcAJCyeeufGRzNSEQiEiGwkSFsMEgMh-gsUuJtUCAlkoVB5w2Gd2UuFlprhKY+3jxFOFtN0eePLHsQAuJKjIx3-c4W4OBEJjExxgeWaJN-BblIZXgx+NSOPDVApYmtPAJPE9mOwThqg1SK4LVktAbZNw00EtB1njijB4vOaSQCNlijZZWkhcITJqCmyIBd0XeGnO0k+EkEa9OpHHNnJIyyOjs5CJdNQQ3SFgNsjWbGT+weyvZvU7OPqLxGGiC5mcEGfBXFm5yg5ms0fqLM8TRyYSxsgvvkFV4h8-RsQpERmINEt8ogBjTMfiI47-SiRQ86loES5EMDB5NMxKIyMlmCk4QMsweRTWHmZyc2FwVeUd2eHiymROobeZQF3kh895T0oamAE9mTwuRgfUbBUzTSoRAO+QRbFQ17kURY5p7UbPHOWCntFswCnoH-P7mjE92QC7UR8D3ZgK4FFZHwnqJnmNyaOc+EyT4GLjoE2hZFHnHRhwUjBVWDkighsCmCVjGQZ08TirjOn0UfJvmaheZ3aFyYRuFUrmSyElbSBOpRQT9OXk6Y5sVchPdhedLIgt0JQWCkyV6L1bV0EJIk5MREUVl00pgtqOsCZO8mdAB4xU-4KVIWBnSIkdNSBemN7YLhIFsc6MeGPAUfByFsgCrCosoRnSrFywBRVBSClWAjFwYxSOPIbmTyWQuY69lTGwYyLyp+iXzPYrUUVTwF+YswKaJWGKAPFZYjzEeLMAnjzxtgO8WeAAAyLtN8S4l7jWS6h348KiZKNAGSnp5nECRoImDgThJUEiiWBODQlLaJiEvhphMqBNL6KbS+yXcCNCr0CJ6SrJTkvImjBKJ3S16LUvE7iSd6aCJxAxLNFMSWJzS4gBtIsYmTuJiwn8PHLmVxL+miJNZTxLWGPpyIYy0pXIoVnmdxJMwqSQZHUWzV7ixyiRQ5JCVxMylcReOTpJ-FNLXlKCo0QJH0S8tFAFijSUiPbGdDJliwiSTkN5LIKB471e6FMqvpL4JgQwkYR5AVhUS-xNEoFYBNEngLrRGVY5U0uxWWBDJEZQCosNEWBKAVvLMEaCtaG9jZIroQQJ7AHGCdAVMim6CeCpUyKR+tuUiEypIBozjBVDOEH8s5bBKaVIKloWawFULAvO7Kq1jdHJUrDRFFwOcUv15F4KShpqdcR5mZl9AGBuqw5SBhUDTEjO1ErSG3TnEPILVyy5tk7KqU0gl+nEn6SDxXGNdPYCy27ouJdUA8P4ijQ8GWD0mxKMh+dHyNso7FDcDMnE9ZSsN5Vi0sE0PDibatjUZCR89oFFras0D4rQMFgQqR9FtV0qDeFMquGThNX6dTAYy+GdaqYX+jw6wkz2DYsoWHB9FaQeQeqt3lyLXVJvcOquNUheqKIi42pX6uUV5qg1PkloWGo8gRqyhUak8Pso2XE98giaudQurjVqiMpDk7NQNQDX5qq10quMiWq7kYLWYDnHydMWDULAXVWqrBdeqoZnqnlLqvhg504k2rMVtAeii+ttVvqcJsaU1ZWs4nVqwJP6wScsoMXh0KgGKnCTkn6VET7xj4l8eAFtiwabx8G0ibkszXvqRJOayDZeoxyjyTwuQZJrPlPVjARIkiiqWSn-UTJ3JVq4Da2qCAz9pA5GhyTBrSUZLslSGtIP0o405LPYm6x6ThuY0nK4yS0QjTkGI0nrWcppUWBsFZptQvo+Q0ee0Nmj0Vwccm3CIpr-4IZVNtjRPBpqECZslNgswQtdFsZCwf61leTa3lU1aq2SumkjRbi-JWbNNtm8zmtNDyjRE8LmwzVpqgGmb-ctjIqJ4AbAiQAVbmpgR5tEVybqAZUgzU-VpXSqtVB5IGNZpXzxauES8zwi0L4Yxayp+m2gGlq4SwFiARWn6CiW5VWto4owDLSVrK2pzExyqiYYpmXX5UpWiJSrdy1QKFbYtYG3ClZt62KAfNCWqVRSuS2WabARWxkMNsy05iR4R8vyf0NojIq7KqKhcJ1sgjObJtmmmbceya2dCTQsfYqgNQG35b2Eu2obdtsM0Nbji+21YUzFa0I1ZWDUDbQ5Um29bz+j6YLadC8ijaVV4KlYZCuuULhURaVP3h8BU3MpxVVW77ZIyCVVbL2TihcNEv06FizRuo-wEdpZAo6Q1ZQzkenNiDE5Dt6QO7f2ke0nh5WHWqHfDq62aBYd4IiwjSEmBYIrOsg8zibDYHANQGVICBriFEXftE2ybKOL9tJ2wwloly7IcDo+Cg6bITOxRqjEb5iIqAp0E+nizWhKqtCJ9cxBGzKra9OO4gS2VbMvI8cWo3wmslpXfAGYDifvdOUEC-bgcf2QutFBqy2YnxjRMStHXEs5HAs8l0gOUaToe2Jr7drrSDi9Cp1uAGwNOg2s6wd2C6-26fHAB-CVB1tHKQwz2AAE5-wo0VPXZTpXKBJBufGwE5TpWt0DQPgOnRj3kGNk9VSg3HurCsDlELJwM4wDnptA0saWDUNAF3vjWeDm5RIVvUcxUAkz0grekvRSB1TiTb0N0KwB+Fvyk9s+LeovUMLH1l6eYye8YEvrsqiKZAPCvhTFGbhmrEtY28zndsD1tbuFdlPfeQRe3U7eWULC-bwrizl5PtIGM9rCCj0oQYmWCVwgeHKBwgTaSi8Oq6E9hztHwWwOtm-tOVpNP9rWphr+A1a2x1Y2ERgH-v1qgA2mL2PEXOgx4D6CqluyA6AF5bWAv9SkHqIVVnqmgB97zD-a6BChx9KoY-dWIBv06GdMQZG7GLQYx4Pr9EF619V+qw0hIwknBgHkgd-1dkOo6Bz9nCB6IKtm9JIzfTaDwPvheotqsiOwfB7KHlD-UegwIkSFG9KDChhGpoct1EGsoDAYw++B72BBR9RY+FRCql0g6Py6VZUtQYBXh9Fd3A06K6DBHZqDdBAAaroA2kbbAVb2d3ajrz22jPch0qTeHi-LDA6AN4HVIVFa2VTGVIBmRTW3AOLtG2FrZIyFwRLwGDe75AeDkmCPeG3dXgAsREd2gG9WSzqQIn1xZAU7viYolVCSPkCSBimu8EFiSwBUeGRgPApQOUYCJKFj22u-w+9UCNpCIV0yh4CiqzSc8VtwwkSHQB7FMD2hdAUbFQyWPBpVjM3Phru1HKwLbIOahFVdJEg7GpGFQvdMcaN22RLj9gRbPRUKgGgltgw1bQsYRGOAPjjx4rs6k2PUsHjex+DoB1hy3GFwOal430NtTLbvjyxobXCd2PSoZuSO+qhowhU3Gojh8SAx-ppa2dFARugADpYBb1iKkSCwfwDTFMmROxqqVUki2QO9BmZA3-qE5YAcTAKvE3BIJNWziTpJ843FgM6UnPmtIo6IQFcI3Q8uGhMU6AAABeJdUAMSaiCzGKTVJ8Y3lzlP0mfIjJhjGIYcANp3eI0OI-QESPHg8TZJgU3RFVOHUcWY1Tow1FKCIlSAiJaVoRBpasQ8A7J4JWaf5MqnhT1pvKgjTtMGYHT2+Z0xq21P9QgAA')">function stream_append_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => stream_append_delayed(stream_tail(s1),
                                           delayed_s2));
}
function interleave_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => interleave_delayed(delayed_s2(),
                         () => stream_tail(s1)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p47' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Stream-flatmap</kbd>,</span>
	<span style="color:blue">The function
	<kbd>stream_flatmap</kbd>,</span>
      
      which is used throughout the query evaluator to map a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      over a stream of frames and combine the resulting streams of frames,
      is the stream analog of the <kbd>flatmap</kbd>
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      introduced for ordinary lists in
      section&nbsp;<REF NAME="sec:nested-mappings"><a class="superscript" id="4.4.4-sec-link-2.2.3" href="./2.2.3.html">2.2.3</a></REF>. Unlike ordinary
      <kbd>flatmap</kbd>, however, we accumulate the streams
      with an interleaving process, rather than simply appending them (see
      exercises&nbsp;<REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.80" href="./4.4.4.html#ex_4.80">4.80</a></REF>
      and&nbsp;<REF NAME="ex:q-why-delay"><a class="superscript" id="4.4.4-ex-link-4.81" href="./4.4.4.html#ex_4.81">4.81</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-flatmap proc s)
  (flatten-stream (stream-map proc s)))

(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave-delayed
       (stream-car stream)
       (delay (flatten-stream (stream-cdr stream))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9LAgUAEEgUai0JEMShsCAweBIVBoeSEnDIgbUUBMCYsUT4FgjMpsUjKfgTXQGYymcyWay0MS4DiU6m0iiEADmDNIAQaHhyjIeF221kI7CYEql9Q8okolAA1vhuL4JGwAEaUUQcKk01W0I2m82UfnKtjW0iMhIUwis+VGEI7YhoqrDYrEcQMOmDNXe0AeQXm-2EegsIMiEMsMOowgS5me9UpX3WKkMcgsY3jYOh8PUSONGOWi1p4ul6YpisZrMer2NfNcWi0ciiwjO4bV6UUussXv9wf8Ujtlm55Ld+MCcgZ6kCgAe3GYk6r9DdUdr6+Xq8G66YW53fb3rqZHYXgW74hNAhYm+3TF3mf3ksPoDYLA6tMpJts+xqvhwYRhs6IwMLQap1ECgJgRBpoCBICFRkhRjzlG3a8gAjvg-DEC6B41mO66EcRJDWkwREkdMiYjEOpDwT+7q4V2iocKWlDEDqI4apR5p8QJc45nhPGchYvhVCxM5CSkR7mjJhByXSTCsRJnYNN2BSiOQxCVt+t4PkcBkYbGwqqiBgzvleEYcdmrKIdhoCGfQHAOvWVrwWmorsWZLkwlJoyYpEP7KAARAAqoQOqEJQADuNA2sMLAbqAAC02UiTZ0WdD0JL9BmoCWTIyLKAFtBskk5C4KAMg7Nu5BsKenx2VWyIwqsyRqeVvCiBIkFFu1FCdaVEZVeVDCBUVxjdBSoi8tsjXNdY-psNwlBEEIXWZj1dXJPG9DrLQdikBk+WaZVU3ULxlDoXdhAAu59QXiMRQshE1DaVh71Ivd6lQSqsHwT1bmA-UNVQ9DyQHQKnq-dOw5HQtgQDTsam+cRMg7pd5nJB4OOWsRHDxl9s4E6Iv5AiEe1MLg5CENIXSLctq3soE4WUJEM1xQlSWpUDKKDKApASHwOV5ZZhXs0YvTwgdHlWKQ3n8mTn4yBe3C0CFfWuANSVcHN8G67V3oeLY9jepc4SRNZt3M3B6sBTrW61SFcNNJ56s+Vr8E7m7Zse3rnE5kVyvAyJFPUCua7mrrjk3oyBvc0YWPWIweNO-Sy4OaNczOfeRPGCpNkyAXydxwmCH3lhIR56q1eXlwtP1-OcIlWL5Kxr49E0aREr6-ehtGA1TU7Fp3CSwPDG0SPvUZ5jGxcqAjPM6zAgK4rnNMGtU-WOIXnMVpik-rVx1NANzeVREp-yefw6XwkXdrEtYhc-Kp1XS7j+MlxgfdIoAAZ33-urM+2lX6KHfvUSeG0OCkyFLZB+kDbxAOXgDAaEC5KAK1rvQIn8VoHxXvUW+dZqKMRkADI2n50GaVYkFRkXs4EpF6K4JWPcyQ0D9hrDgRAJx9gHHMJ0n5r6ZzXlsHYNsHBiMtsJWR8p7bXGigAKkEZOERAg1HRWUHwnymjhHbxkJCORKor6dAAJCuGKn0XuaVjLqV2urFsaYTLMMlOPQ+iCqGLw4hIwIv9ZRsWun40iGkFLDE8RjfqUjuQCm2nPcJZE2Jl3LqAJRgIQgFH4HEJx3l8CuKYKmdMgwIZoMic-Wcr83rQ1oAUlx5Z3EZnggBIC88h6qlofDSRj9GEzk8ZY2JoBiHf3IfEniv8kzFNKSZJSwk-ZVwDDM5pZSHo2hNGaNU6SfQ8ULI2Msbj1mmXIkCTUasZAHJLEckprZ7KbLtDsnpIRZGEK4fYnhscxKCSimPFewS0ISGuj8x6z0OKEOCVqYyK0wmNKKWsjxMggUjOCUYqc0h0QgIMfydF2iZDQupLVQhFChS3SBT7Ron08lIwmCjbShKVrKDxdvUe84o7cLKv3HGUCL63nTmsAa7TpjIKtDQ7Cd8cbJ0-NeU5kpKXvXZd3T5XLxxaNRjU-l-y1jBK1tdO+QipysSAZ3HMhDDUDkNFs80WsZAWo1Vap5JctYhRJZMghdiVb92mcmO5LSnJavnN4+1jqzQmp9bM+5GzbTbOcvKO+EbEUZhNSXecCr369C9XWa5TYk0BrTtq1wIbHlhttTm25czk0lpqMFeNZNbrlubH6k5Kbgr3nTWauxiIDrolwJibEUA4CIGQOgIkmhOXix2LyUQ-I84s3FBxbxWddgmlGGqIwAAfDdWEp2MHneu0AW6d3WFNGaVgcrdBHqaDIvYB7N3buvdYTeLNi5mWVSrHYVRRSih8Esv5pAYiVBYKKQJy6riRTMqAAAZFB0AMQWBxEg+kZDEtANfvfTHGRKp10r2XV+n9Qg-1auimI+WxUVbVv4WInDgrJnwdkGYnZGGHE8XtdAyDGc8PAYIxwIjBbopsZnGRzNMdBNBmrTRjkdHbiMfo6Y6oOzYTkdE+q41trF2cekwh+TUIdM1rdEp6OLG-QrN9ZW-NXjNObASfh39ly-nRUTcckywmVXiyc82kyob9OWaSANOTsmZMKYCYZtz5IPPmYeupjjfmtMMYU4xkL3cP0FgbDcptkWL3jy49+uz9B2zRUbXm6grmVZFec1WmNPmJH+aC7pgLwWzIwg5WVtLuaKv2Wi26bLcW9N9aS56zDx92DgTfNKr8knJHWZ4rZwj9niMoTG5eGVgxSsx0W5BdxMFRgxJ69NgC3A5BVaoyqZQDXdMDZEyxjbQLJvrGm+dhwiWmscrCwknlT92Pdas+vT93G8uav4x9gZww1ssalctibGnYsPbq9V17KXa4JzPEnSHsq7s5Z43xu8PSjCOfjqeag540erZazHVu24i6Ie+zD9efDmC4HbE4ZL5P46F1OhjyZ9Ombth0CzljFOGDt0B75qT03ueM7+QAZgR0Nzp1Dodi9+9nf7c38sOZSWDr5wr5f+NvLVPbdPLnRU18oV+-OvkpKqUwnDxhadbEe0x5TLHcG8pfvrmrvXzfO6+cHa3gyl6G62M9lhZPjPWBnskweCuPdB4SbIpeFuyo7BPgwqJIuDc-ekUqW9Ie0my-D7xaFvyYt0Om393LauRcxR+VrsqOufmc-F8b2vZu30+7KqC27iulcO7h07ozXydgGSMvMnv93ldAcr7x+b-GR-GQzHX8WiNxvo-H7V7TefQsqxqk39ejut-b5jibXflBw5x54gns-xKO-L8qe7a-nvYfacf0n8WfvT-n6zzQRjr+u1gB7QxCxBxCHXxFHTQClwnXJE-QYDxg3FA0mSymQxARziYGY210AmAmBhkFBm2zgmUApULV714WNy2h2j2g4AOj0Vx1CC2w2B2wIKegkFdVv2gM2ixHIKKAOkqgQPLxV2nyWVwBijIN2i4OBiX3JERlwPoLgh4KXS5zViQR5yENAGZ1YJoERlu1wF4KNy8gZ0qmUD53UNFh4VpXpUUm0PkObz0OUOUBl3QPr0wKUOs3DWoCph0K2CWWilFWIj0VAEphnDDyH2sB8NVC1g8Js1Vxn3yxdVAG8PiSAQkJoFCNripiuRQQiLg373CILy+RIi1D7DFDMMxA1R1hzCsPXkYwzTeyREqT7WwyDVw162qK9RIAKOmGNAwnqOdHTlsTL3XnA0qmgiYBYN6GCQA2mEjxGh+hKNYmujeSgJoB126OtCq1HkDkyMGOrXWJQRvyuy+RWO8whmGLZD6OIKyO0xWKCLKkOMDiGJVFOLt36ODwUyuIcPFmpW+mRlmIvjWOUEtFHmNAnEmPKKaPF34FFAAyO2tQN2QI8ghKhIBN2Q8EGOWOGOhLtB2JWndCBN5FpV2RCHGDFChO2N0AAB54TiSoh0jsTaEYwGAIoZBooAAVbUf8JMYFAKfAJhOgfUbgQyaQEIaKUAAAalAV6TBHnQagwlJNFLiJijlJoMCElLFGlJpKvloSbgZL5iZNZMoCRCYGSlmlFG5MGV5KGnIEFLiMVIlL3VVNwBlLWN0DFL8OFLFKVNcBVNFDVKRNyLKi1F1H1G8xTSqwFVcFaImF421EO0aPlAoycQxLNCxMz2wUmRvXsETNpOhhjE9CjLP3FV6Q9BDEoEKNFGKL+kUnZQ9NABCGrQyBQzk1JOrKMA8DkyRObJrLoATMSydOUEY19MIU4XlAQRZHrJQMAymPLI1UCQ+m1MilDLiPilND2kyRVDI3qDGVIQBmCRWOulwRWLKNZEHJSAGgaSTHuOdCOIvKYDqV6VuN2OvKUw3I-lo2mxZDzJjM7UHzKmLWO3UwXMtDDOMAjI-MPJnOApjjPO-D+NACRO8QmT4N2AzKbPchzMjIDMO2bPyJLPnSnO0irPclrKqzHIuLiCdI9I8F5HVjbKJX+OpF2TzC7PPJ7JhPdH7KJSfPYXFJSBHM9BIomMSVnmmO+IrOGHAuSF5nnOtRiiXNEIEFXOdBlnKlUyExGU4X3ngpSB3OGL3LqPRLYUaFPITMOO2MfIVXcnvL8kfLUsWhfOeJoHfIwrAuVW7WBl7X7RALxBHUJAwEWJ4lanGnIEmgcReif0n1m2iNnAFgCo6iYCSNCDGlio4Dan5OqXmR6gv0dyOmVWCRiomiwIcSxVVnyweC8Poz8OMHoyBFvOMC8LMQqqMDMWqspS8PAwatoIiGatKuNz9nar9i6pSC8PTNED8OGsaBqqMC8JXFoH5MkD8OmtmuBQaAmuKtnGikkoasksBBWq8IAgAy4GNFoD0T2qiAOvRHqB2uNxFPauMBkA3GUAkBBGyCyjFKWsuvy2imyhutSHutAEeoyGepyj+qMHerWt0WUGSDuoeqetACyjUWBtAFBqZOAG+qal+v+ueCyjADepauNwAFJUaoa-qYaso8aEakbopkCbqiaMbAa4THrcaPqABCZDam9Gkm0AFmkBBm7qj6skwm9mgG2G0ACkowHmwa43Mk9Ib6mmjmqWsWimzIAW6GoWrKbIBWxmtazIaWiG1wWW1W0AbWjW3mtapm1G4W1wZ4IwJm4weAh4IqXKxK-Kyg4GI4jIeUA7G4BDZQPKoKgqnhG-R2tqJKxGSgY0AAKxKVCXSA9p4BeiFtaqdr9r8KyqIGa3MuMF9uCoDqKiwCDsCs+AjSKqWS8OfW3j8LLukBWsLNcC8MgEIC3lXAkAqvrsbslmrprsmuNxOo4FgEgAap7r7o7s7t2rpFOoAFF2qe7x7h6a6vCAA5Fgee1Gxe+ehi+GB2gMBK4O52xNbY92+oT2xqZ4OTbQn2pOwu0zNJLofOpKxNQOA+lII+oWrKmEc+nev22uRMaJXOnfIaEaLO-2tsGaAKP2TIyyZK9SRmMYCQXC8Oj4CcYgIsWeAspCQB5K7acYVidKtOjO5IUBtWToQIQbFjKioMmY0S2cTIz4oQCh0o3HXJQQHAi+oBh5GCjs7egu6YPe3shh3gPJZhj+7O5NMOyOsgUeDh9B++3Y2e1wASycuh1iV7cYK6AS0ULUIEpOESjVMJNeA0RRxSXO1ywqoAgdXEYdAkTAPyymMMMgDgBiegeyACBgQSRtTIm9VdSIR3Nx0KYSA-BTHx50uIjgN0nIIse0jCbxtrcYZrZRUivrHxt-cLLEACAeUGEYRDcJ+aCorYFgYgYgbkuwW6OQaqfJmG9EMUu1fJki6KYUjwWpzs10uUvJ4gWRxoWptvLJvYmoogKCXkMoLJ6qM2IZss3ptMXkNkKxV89eL0uU6KJkuUraVJ3kdJuYT2gKARQgPpkY40q+OZ7QaKJJmgMZuCaYWCNgO1OadxnPDMgKImep2RaKOJlPS5O56DKDKMRBBPRjO5y9DdeJn5q53QLmuItwQqeUDwL22QN5uE6KMFrCDwGxvJ9WBx5NZxwSO5xuI+LgC0hfCMN5mDWhLDZ0F6Uw1ffFoF5EuIhZsUk5vE85qFy5wKJl5rG0wEYU0JyjHyajFfEnKsX5tlpoDluUuls50YC5x3XfX53qEU2hQqJ5poBmLZ8Z1UaKXqkZ5lZV05yocV3xxilqB2FliFjeLV-p6KNq-RS5OTO5vshTX5zV7ZnVhgNgImfCO08UTF4SaKAAclCYCjmd9bia9LVLuaOZNcdYYgYAwkjf+rBMnwT2dE8cZZjbaaBC8KTAEFdL5ldKSlIFdKEVGDzZilgPGEKj1eJnDZVeTeIijbYoUxTYdZVadZdbidFerdGAZolnrZrc7dFfsZ7b9PFngapAaWQfVi1lGn4hlTDmuZxf5NHzbF1nudWqZPnxc2UF5Y-AmyXbwdcE9uHcQbHaAUndIl7BGfNi3FifqG7GoyXeNa8LBbN2O25YaMvddYpC3HePJBjcNAyg3BPenaXe8QQWH1xfmSXfAp3NdrrJAXlC5cdGw03ZTkzAg+PMdqnd7B8Bqmuk9p-fSiqH-e3Aw9Hl31Q-OBwWg+IthbauNcGLkyI9Pd5CEBqndEdwY5lSw7NivcYsRhg5QzVbVgVeUgSuI848Cjid46o-44PdHfIFnkSNo8Nck+ktx33YQdk-k4nfY7Pd2ZnfLcfA6v5ko+kpE8Y7E5v3Uq-gPhA6VFfe4CwTiWsLWsfboGfYQ5JbI8s5IU0tvk-ZfO-PFklj4BnZyYSUGLvb8duAi8YskrDhkqFhSgcr5Z-yljiuuPczcIDyA7jez022uGi4raqMvbidi91ni8SkS4-a3dlX8My+iVcxqILYYGTVIEoF4mmAQxEFkGy+meD1S5C9haa7zbDc657F5Ga-slux6-sviYCOiT05crADP1GC8yqCbB9qKXKkEFAB-VIARAAI8uICiB4FglAClyal5C+SlwgIgOcEa97H4hkCAmYPWH9AYAEBTJm+GvxhKT5g+6pcroECxcHmpCe6YBe7kzk2YDe-+-09HCh9+-e4UWyWUtoEe+e9td02h7+6vi-aWKcLW-GDSABS3sZSAybGui8LUUJ6YF0RGRVgDL1EO2e44CUFABZ5WDIWMGCQumNBp+uiEXR-B9Z8x4cDJ5p84uSAQV5-57hMB-EtXmm0B+PL3is80pOi3ux-e4F4e+IDB5Gk0FF7kHwD5-S0l4aAQS1-krl8ECZhfQEAV4QvXmV4Bk3PV4aAGkYyt5suSA4XYTsoguMwTELf15F-Z+F8N9goyPd555N9l9R6F5GjZ8Y3F7N5958Rl-SxIvl-d89I2CA101T-W47MGKWRZ7Z8GI57oqtDfo4bkYUyL5ifN68-GSaGCSt517R716r67Yuzj7T5V8CEt8R+t5Qxz655sRSCooL5qH7+L8n96UGMr4j+r+IlTfckSzn6b6KgX9GQ0q58aGn695H9X5vMH6HOfIv8D6+QWrpCO5kBdfd6FRqcZ-1CE-OQ8m1CZ9xxCGxFhZZnG55slSHgAAYWyVJalGSbAcrsLBoDLcTkSlGnuuVsozdb+pAI7jlS3pwDVuWfEBDrhp7+Ab6W9XbtdCwEtd0sTJV-twDIy5VNuICUgfZHwHRRQBzXMjDUQbwswVwYodIkWHSyn9NihrRtHwLDbGgOBuFRtMilEFihMicmEQYIHnTpdyQsgzgWWVtRKD5BoXXvg4DUFSDhBkgssizEoLolBBGIB4hoMF569jBbxYwjQ24GHIdmsRK4hoNRJOFtB4oYweEQ3YnE8e+yNMCFxy6REBClyMrqCwa4foEwgYCgLdGCErFNWy5IoIWA4DHdBA4wBgIEhVj+huAVkS9u7xs71hHYb7XPtzy3quCQUegyBoYLs6eCHi5-c4iUJt4iAt40gGgh4CIBxChACQpIQIBSFxcTBzodegqAyEYRXBJqVwc3w5hq9ch4XAoQf0V4DFDWgwxlhB2UALCiu9nMYar284zCZuusQfn70Vi9caACwpdt4JobJV+Qp0NWIpGMGvg7wjgknuENAB1DHhZQgwQeUsFeCDhzwuQWKGz629GhQPYSDYOuF0gqhfQuJmEFICwR1Ie1e-sMNUF6D3QNw0EWfxIZfIIRUIjgDCOpIQiFgII3oTeQ0G7lYWuAaoNIGFLGtooJIqEGSJK5ERQeOIlQHSF0DGtdyRgZ5qlkiAQjmRgIjcF9CEANQv6lw4cAyKRH4j32Bra4FyPeb+VDWNw5duiNGDQi7+1JRjFyN3aAhGMco9UU0AVGyQsRjLNUXX2whyYtRRopCFcXfaUjSRmbbwaWRUYbJygFzeAk4MNa-Ung2QWRIO3CwxABIXAdSEN3xaYcJu1AZQD+wZE-s7hOqLeliKUIXRaY10XUUqLQHUkwxeIgMSGO4qd0gQEYj4TNxjE0wroxI60e-0CDWw9gQbedPaPUhgg8gD-ZUbGMJjeD8AeJDgReBwJMiNBu6LJgaKZFeiaAu3OSOCAubPc2ez3TnlGIeFFVdu+vUceDyMIzcsUY-P4fb2jCZI9gnZWgN4NbH-sWeDodsaLiKEPDnu10ejkyLdSIVCw+vXQPUzBadlnuyqFRqAGZIAAJcehwAACC4AcAOPQABKzJSAAAHl56yAEBAsRqK4ANgR3MboW3KT7ioRyIzIs2OmDbi4Jio5dgOO3FYcgxrSVCRYHfYDjqQ5odMQmDDYET7A0E4MXXEyIvi3xn478X+MAnATSJ+fTCcx2wmwTExmRAcTWPYDNRbeO44XnuM4kxRiJ2UHiWwFCExwt4bEwARxLpDwSxRGg8SZQXECug46PSG4dyQBpKkjuJSHUH6IolthNJUA2gpCMVEITtREE5MYZLklmSLACE5RhsBMB2BuGohU7iAgAAMXQGoqzGShIIXJc7QyHiwejkBZAoGAKf6CIDuTnJZYSKa8AYByl5A549eCW1clRTRgYbHXL5LyF2DbBvAmKR1zA7JpQp-A1RC50GKpTApC7eyKFKN6BNvBzAMRDlPSzWAWY+MFyYEnb4BS12xU63pkkNL+SywPUmqWFMIQqxcg0wZKNSEEjTcTyaZDkSFwBgeAspA08QcEMqnDSQpDvAGN2CmH2clphnUxMwEmnTTFhb7bUYEAmkcAppogQSKsO47cQdhAfKbJUWOnXTTpqUvsZ4EKAfdvIKHLcHRR4HrdFJK8caW9JukzSFeuQy8TeUd7GARydIhwMYNhmFDHOr04iDUI2Gt8kIgKUod8P0HqQDyOzKwe5AGjGhfhDQ+3s2Q8AkiSEzZEIFdIhkSD8ZIw9YUQiwBWI3eWw84hKMdjcjsIHgRmadLkwoyt0EscGadKqJw9FWSIIlGgXlB7DRknwoWbdJnYnDeRNKAUTtEnBNg8pwMwCiDInFnQnhww14UYOibEzcx8M9aCUJBbj95QA0IgNKUxHKjmZygkYQiOUBmjjABst4pmL34TD1oOwS8ZaGXiFlEQaiSOT-GKF6C8Z7ss2dhl9lWy0ZWwW2UuMpnbwDpTsh0i7OTF6zxgF0poHCJQRuz5BiQKxBXKMBXEdpH7PkfnPsHUgEJ7yDSgghEA-TrAVYA2e8IeKnEI5Ucp3lsCtHUibRH8ffg7MmRAiLZ1fJuf5z8rZyRo+o7gBX0j6RiZuRI-jlSPGCZsKRm8mkdewpCIycCy85disXZF5Cj5-MitqcK1klk+wuspeT7RXknEz5l47gCsGNbXz+Q2su+UTzfk+02ejg0AH3LURnyl+TgaUbzJwI6BjW883Off1VFOBC5yQVUToCQWBBYF+o+jogu9n1B6OqCnBSkAtFxMh5W8w5qiOTwhEXJZQEHAeJem5cIqRGGhcWxcnxV4wIYZsRGE+kaDHcn0hQckQCm3YuF-gy-LngSwKZeFy7dNqICmkSBs4sBNLnE38ZY8OpoWRrv-S4CDTVQqU0MT202x2TCAOijthUL6HeJgkIYc9JouuiNSVQzUpsK1MzCfTIUW9WBQWOui0IMFrs1MforQVaVqA7C9HOYqTCaL1+jQHMdUM+EuLPwl0GprvO3mKJyx+85uP2w7btSywt2QJepE+mFy7RGwB0UOJkCRK4xkoRyVdBokcAfxsUAADLj0QJa4+wN5JVhWSoJqU+CImIQkaCkJkDEQBuFwmvRjWGE-iT4BaW9L8J+fQiZovgh8KduYy8icMuomvjylVSmpcxPVisSJlIypSY6LnYCMek3Ex0XxO6UcBdxjOYSWaO8IuSxJjowqNqL2X5K4WrpVKZcqHFltvBEDYZW0sNkLitluAVSZ7R6SpShaSpCBm+FSmpKdmHyq4pZMgmnV3l8k8yWKK+l9hMG0wGNjIC8UKSTKjozIspJ+V0g-l9QIkdkABjKTGGQgX4LIBoLSSbJaINFboohUnFC57owaPyRGjDL0V8Ki0QqkxVDivpSS1FTG2RGDi8gnUregRGRDXRpxQXVUA2ziJ8qe2SAuhTQDFVEAKZdvTOcJCRWpVklUbWlR20FXiT32yqzMHNzYi6ra2+qrFVuPsXdLyBUo4RV2P3Snjilh6f5sHN8FOrVFFGVrswGpXqQDBKE4iYElyHbjyBgahXsEmPEgJtxRywSYzkDWD8zF5gRqW7HYl5K8gj9QGLctrEY84iok8SQqsCDcAik+vESamsIBPK8g1BQEIMWInKAmVBTBkjOF9VCr2A5vLmbPK9V8wRUAU-1fxLBUiqHhiY66GwppDo5HFawYNfxNtVwq8J4arepGpeCHLjlIyhNVvQbXJrNFLav-s2SzW8Sc15y8YBWvYAFrXARa2cPuseX5rd2FUlyXWphrrqm1lUg1SMnbVDkAu5IUbpVL5i+q7UZa2dqCsDX+yLIAgIQABr-VxNRuxE39bJOoBTLINZa6DTBNg3eJ6AXa5tb2u6WIbKJqKTAaIBklIaEw10MpXRN-H-igJ4AQhMRq-GkbGJtSmtWWrvVC0zQ+GyiRZ3OLRRdQZC-Yj+RA2aL+1KG71d2rLAYa2x461wMEmY0TKiNCyipdUoo1rAylsmmpQmMNbaKmoMNSTS0pGQDQONOoLjX5WnhJIRo8YcOtgQtizsE85msNrghM2lQw4n3c4iLM9hTK-ctmlEBey-zKyFMVm4woZqErCArApmkKuZs7E3MHAPm7jXfldgBbaAQWsgPZukFRdnNYbP3NNTi2mqQtwi1Yd0xVisxRQmkIQKisy2fCnN4cbwSZsoBtS3N4jC1TytC2CU541WtsE1uR4VtuVeQOJhVramubqA6W+CC1pCU4R60IwbVV0UqRNblkhAPrfcF353lhiW61RWetXaCBXScqjtn4S62vQGlMcNLZVszBpbSoo8dra2vq2TkDtIVc7eI2XZZJ9W8U94J8HJWoMmga2nVbgku2zh3tXsfEQtvLmQ0Yau27rfQhi19afggWw7TNvhjHaXWHKJbRxoYCrbhtKK+VQsEC17bf6x+JgPlvpCwxvtBqzZUOJUl4r1J5onSlkA5kW8wtOsRHaNpkB5aCtNOljj4sBA5LWu1Y-ZRaOcCzajgLOtNbxOrmVzXkewX7YECh0w7i1JGSgEW1lXU6Y2fhOnSMHR0sYLwJSIpKqFmmKqbo9IYIWow0bnhtGSjbwTJyQZydx2JcnHaLsNinlvlvy4nY0EJVYRldBTekAAIiHFh6QHZa1lx2RFM6moEwDdk9Tr6xc-dQGzuoLAq4iwIRUfBKblGtKysK5s26KEbqPZawy2VLHnWzvyXVyZZsiPBqLu7iw6k9JuxIjFBe3N1lAhezThkW8nBIAI-7BamoGugABOLoCrHr2SAt1cgNITtqsCLUt1yVWCGUGUCvQchQcynfQAc5cVA5TUGgHCQ8lwyjAbejCN629YxQ0Aa+k9eMM2EAxF9jLcfen1cCL6+9q4NdMpOezugaAeUNQpf2QHGBD9yk4-ZFGUC16Yti1L6dSBkVyK8YU4LtbVuFWEj5t4k-PeLvf2SBP9cVEvTLuR3lRpFoByoPIsV1ojMQjHGnSzDPX-FRgpoPsO3VMWirroeHCQH+wA69h2xpzPiWermYdAXlE69aFMAYCYGm6nNfjn2CJJ5sFeO+z6jHu07ogY2LwcgzLC+pEN5QO+vtvythABzNhishBMRMqBtdjQHXEDXMAIgT78GvGr9ULig3waYN6kW7EofT4IJaD9ByWIwZAQm5qRoOefSoB71qAmSuUWw6jwI3lQFD8lWw7YfljiGuYis19SkHYMuGY9PBgseiF8O5QN9C+qw+3vElPb6gyk-FdhHt3wwRDPbSI9DBd0zI3d0q73b7v91C1WQIS0vWirNyVjclGe2sZ6OazvJyFUWryEmFoDJQ10qBopAOrOgEQ8Dui-DplCIOtKq29Rq6C6UoPm9tKFifVJAZSUEQCjYoKsR3tKPJTcuCeFYq1tLFxEko7JZMfOkZFVAnmViJVhG0SMpHhgaR-I-EzmPugrkWR54DkdtHW6idh2GaA5o124qzJxR3idEbjo3Gj8LuVSV9A71477VY+rFcaxu2LgXgsEe7U2hOBJHkgjZLFbuyZX3HPjER0-Y1h5WLakDMqGnd6yG4yAsxRgAADpYAAN-DIoK10oJ8wLmOev6tDV6jYQV9cRAwyWTS5dAuDaJjE1idAC4n8TP0mQ8Sedbtjrg+Af4u6Be6DE+ToAAAF5v0cThwUlZydwAkmTj5J0U6y0BjUnCsGBuk2Rkn54B78CYWo5EHRMEmhARJmU9yfRqWsPqLAV0saFdLEBXSmbGEN6yKiIhGTqKvUxycNOymTTK7ATBaatM2my2yp+WEAA')">function stream_flatmap(fun, s) {
    return flatten_stream(stream_map(fun, s));
}
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave_delayed(
            head(stream),
            () => flatten_stream(stream_tail(stream)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p48' class='permalink'></a><p>
      The evaluator also uses the following simple
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      to generate a stream consisting of a single element:
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (singleton-stream x)
  (cons-stream x the-empty-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaWH8XqexNtsyy4io6xlurbU5qj6ipUUKc3Etz1GXJeoKMp2cXprIBmyURijrFJKhvstINy7F3Kjgo8RALgTPIcUs5YJtIXUJsZHNwMC-BzlNCHICPyMQWL0QCK+gLmy6HvmRQpsL7n4v+IkmFYKXnwodBU1G1KrFEphRcnct1qnGGxTgPAfkGD4GYGwKAcBEDIHQHwAATB41mT9HDOBRoVbwbwyXCNsDtMoB4UTGAAD56psk-RGKrdWgANUauw5QKiiGGLqi1Zpu67TNfqw1jq7Dy0KtjN43zj4I0kJ4TwxVNZmN8eQAAFvcLYng35JTAX0Q6x41UADJk2gEjZINBarlI5tABGqNAbfUbPAZqgeurpYaujUGkS41Txt36tXUa9KGhNDLWqit2cM1oI3nCtoPS5UiAuI83Zfh76VoDdWkNKhTzDpGA2nFx9Z3mzqAyu+fMlpdsUD2xQm7t2vxCo2xdhSnmcrXZEDdtru3jz7nuuUB7enFr6Ei2leF23nq7nYKtwba2+JPM+6FLx53rNrqAf97KJzNvLe++Nu7r07svVuuD+7+2jTA5Iicp7R3rs7Qh7dt6+0ob9XYVlhL0OLLPaA2sfQv01tDcMk8JGX3zCA6NRjAGVGQbfZR0isHN7wczYhvjyGmasauASpjWlMNvwvQJvDSG739uA54i4FoJTzOnFB7jJaaNTuIXs0AJ5VMYwWbQFjx8jOOQHgaIB0mxntmUCultpakiaF472vw96lOsyMzpTTJgcOybg-hjzinRrhzARwy2cox0ftsDpn99GBn+1xGZx9czwYaa4-5mDuH5N9qLSBi47IQYJC5BlyGfm41Uf9YG79dH9PLL-WSErYMpyQ1SyBmmdIsZZui9h+Nj1TD4HxDwQjj6usk2SVlqrpFBv5XxNKsbnWyQYzpnprD0GqNzeG74gAzKFojjC87TfHbV2j07f3QI6548ZR2X4kJiwNsxJ4ruaCtiJ4+0DItlhswYQIm2eO5aE3ej7j6k7fcDg9-rVHN3vcPWl9hgzAGS0e1R4LpT4eFYgQJKBHNjtQ4ByWnu7mMcLsfSpmEhDOEo+h6RJ1vdBMk8815wdVqok+L62kU7k6Ev6ZPN467rNbveMq0tWt-P2eL0-m0UHIHgm+emzNqwbmNEFeU9CDsXYeyvs51p6jE66sXfo+BbswJBciD8sZzLuvssw6B+5zzo1PonYC1evjwXCJLc8StT61Bvq2fjfTvufvScs6sODy6IeA924E1H2XnjC6rS3IoKPqPSLbrj4fAVbUhUivYOKrgUq0C7YHdppGShqSxqWi+HNqlEYejV0L5UOFi2KEs85Q0mgqkjL1+L-iglhKiWLYvZZ7ezAuS76Eoo7zMfq9JAJISJkh+13wlX2L8WzH4Aav3xfIk-Lm-D21HUepx+GlX+q7O238KaFG-H1mlvfP4DX095cQ3r+gEW3fi3R+ApNKsk-i-F-UYN-LfUAfbRvEQW7SZNFNGWgDKZ-LbZ7aAmoKXdKMsL3eVOwZAmKOOQA6rT9A3c7PEN5AzbA0QA-JXVKIGDKcxNFBAwHQLPjOOA7R9T0LIOELwFwBpQKKyHMPA9PODPlUacHYVMtPgjtHLATIQvpMgdg+4UoSCJyUQfZA+UZeNRNfCJQmfICD+fNFwHHCiX-M5JSVSYnf8MPUAW7UQloZtHmF6WCfgqwDQ2wzQewjAi3JQ2FVyJQuCVQvXTdaw0Qdw8PTw+wzQgeXw-7NQtHODQIlgkDIyVBLg8QRpYwhzexOwkpLvGEe4cQrnS-ToTwCNdI+oBw2vMaQo4o6oOBNMUADQqwpQkoioTIziG6UoHI5IzRZxO4LwYo2wvQAAHgqN6PDVoNaJYVWEPGoGPBPAABVshLDhgigmJPBCBowT4ChOxKBipYgTxQAABqL2VhQIFQX4LwRCG0fog4gzBqa45ZKIU4lVC4sYg2FhSmKYmY+Y6gAgUQG8FYtYn7DYzXbYsYXYu444sIE1c4-AS4xzBww4qXPYw4+4oIR46Em0ao5nUaLIXIAoSlC5RzYFIIAGbQTWbIfIY6LoMlYkz7M+Jo1pUATE6knoDVYnekmonyVYUknEiklE6qWQ6gDgzwZI1IpsbpPk2IZtFSXNWHOEro2ozdTEvk4wSUukvdOUzQbdTEtJdISuHodWR0aUuvSNfQkWQw7gv-EYWNBFD4+khqC8coYSZaAeBtZYDOARe6D+QIz2EQxokOLOeNOJcIpILw4MoInlHyQI1KbwiInUqIPUsqfI+NR0Mkv3Sk3QCAqwUFRze5ZtVwmQIkwIEk8QVMikvI5YJtOklwxkkpa0lk2LNk-o5ZLkksnk-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-joEIFKEW89ixEG8a72+G77haTiwJWgu3KS-O8u-KLVrGDrLYXjS+43LtnI8ER6A-lG7GCu6y9IAa4omlXu+UHe+e9XfSHVjB+HK+5+4+CWn+-undOO8x+zm3TB6R-jIrlgppPJ3oGVeh7u9AEO-zJqAx9O4R-+Ah7oBu4on25k8UEe8W5e+R54jO4u4JTR5Mnyi9W+7x9RLMCe74x54JQjIXA0NrV28540Lp9nI9FIRfqCG3Tl4Yb5-jIw+B-fjptR9Umu6h-V73WZ54eJ6CBR568K5F6q-F7rP3h6EnJl4cRt+UKwHd9Ao0LV9u9h41-DO156Gt6F-19Yn98B9Vkl49+l8J8d7GHp814B6rhgsz6LOPkcvkFi7oQx6WjYHva24KCBYMkyDL-yGmViBL8-cKgcF04r9slCEb+VfuPeNqhYCU+aisD88BTvMW9dMCATLXbz-IFi7WQ-gH4C+F9Ukm4JRm--A-gi89ln706X8M2r4bT4pC9Ug35UUW4Rvb+b4ruPmF0KnJC8FoN0SC9D9Xo0JIzT6CNsdKCv+7JIxSQ-68FXs3Xf+Bi-83+P-YUlHAAHX8Y04nbdOAJVT0UYBnBNuoEVv6WI4mcRcThb2QHy8mAERWxokV3rP9Q+EbHwuJ3qLN5tIIAzAffzjhECcB89Q7DogY7ud9c5FWtIp3aZacwsmwbYNcFRhsDAiMLR0kvh0S2A4uJkO4IwFjSoY-cw4GNnjxbY-AcOxvKIAEhAFBIQBrdOsEgL4E+EM+eueAQE0+6i9quYwZsui0EEiRhBogsYOIK47YCoKyyWIAMHyA2h9B9yfQQb2fLx95BzHGNhj2iKkQNCTgm0Gx18GaAghTTctsT1x5KD-BfHWkADzH5j8lo4Q4Nk61OK2oWA-rLqEvgmDTAig3qTnrkLsrBo6AR3czkHmUCjYqGRQ-ISJFKEzc+Gu7UcqNgV71UNGiMDIVkKSI1DvUHQxIF70qHiszaUQHoXUMWz0VCoBoO4L3UJR5CChmgUYfYDKFMCKhdAKoWi0WH1D4OgHWHC0OmQzd3qkwg8NMNoijDFAmw6VDN1aG2QDhs1dIf0L3SjYsSn2PoZkPwDTBVA9mRiDIyYHvD5AxkYsKYESBONOh8dEgG9kdzHw-h5AAEfcMyZwjiuzqBEVQ2JwlMRgxw21KcMcDFC0E90WHK8K9q3CMq0I2Ea8JBEPD5MQIsls8NYLr0l8iEIGHCBUBWQCB4oaGGgIOR019BagwAcKUQGNECBcRD5PGm5GGCXeisKhngLQSsj5ANA+wTm11AwiDwdYAKgX1cFgCQBN0NkXKNf50DH0iog0CqPz6jFFRCw2UXYKCLidvSfTfANemKh7EqGJ4W0ZvHtF8M6ufcU0aADZF6AqG3pYwCU2IwzA288gH0WiylGt1nAMkORFZE9HaiLRZrVCIB0VF6BU0EnI6N6IA5Kiiwqo0YqexDHXCFw26b0QWPtAGjlRtgHMUc2TEljhhjTYseHwMhxEzWTou0dKydaxdJgOQTEHWFs4LMnOuneYJoGraejq2HI-xHTRzHVheQCkEwhpSzFGjJ+oxYceaN7G0Bj6tYgyKOJ0FMDJxWUXRs6LuDSsURI8HNkKUAa2IyRu46cfFCdaEB9mV-GkMGJPJ65jU7DKsSGPiKeIIugIjIdD0565dlhQQU7p7Ai5-iDujXT-EwO-i5ovufoYnM4joBOsHxdbXbo0CfGzc6auXT2HuxDHCj8CCg3LnoAMYdNnEuXNZIA1ACzEAAEi7VsAABBcAOABdoAAlWYpAAADyPtZAKYVcS4V8AZgWLo5yb60IyxlgHUavTvHMVRe1IJ8YaOpbfjkJF7fsSJP+HKizW34mQJUFXH0BbGGk3uEJOc7JJV61E2iQxKYmsSOJXE3SdL0UlTtlJeCWSWpPE7fi4RKEaSbYFQnDZRJxAG6CeG0mvg4RHAqEVfwMkDjkk3k8SeJzhF0QPhPNJxGyLWLNV7iHY5MN2NCl4QEpPfOcYaPEk1j+Ji49KQ5IinxjFMFEtVtnRIAJdVIAABnMKjQioN4asApCM5hsJwlANBFXmamkhKpB4T2OVO6noitKhxHgHhNIj9SBgPUxgLY1uwNSfgKAygXcE0D9STcgbOsO1Mf6Ad+mUuDQstNakqJ2pcPChp+NZimA24c0glHYEKixRmpGE8OrtLmYwp2pnsWafdLbZtSOptsUaB0PuA3gZAKYNzssA1QMCxO90RUGQNmlf82Br003O9PlLItJOMbUGRpSOjfTbAv06QCmBCFZshhX9UwD9L+kRDfBcM1Tm4iYGoz0ZKYcqcdJEATBshnSFcAsDYGCjiB0sL6XjLRkEzLRSg+QcDPjj2gDS7oergQKCJ+D6y8aevKIF0GbkgeyyAJDyIgEaDvyYhcSVLJlgijneYvCURCVCC2jVYypWIOTIJnqiYCpQDwT0CAi7xohCcWLMx1DGt8807MimUcxFnmo9UDs0QPjIxkRCOuC4WILrIcAJCyeeuQ2V7NSF6iEidIkSAyMEgMh-gC0uJtUEimcjw6oo0AK4P5FlpmZtA+3jxG5FtN0eePLHsQAuIVjjR3-XkW4M1HriNxs5FWVuWlleDH4gY48NUClia08Ak8TuY7C5GqDVI6czQQKILLxiAeS0POTBKMHi8kZJAEuZWOf4Ni056gjUbyLui7xV5xgOIkgjXp1J459PFWWR0bnIRaZqCOwIcETk1k7+i0kqX9g7ldzAZ2cFsS6LbH7zM4Ys+CpHJ3m1zh51HXCtPJhKlzFxbeVXiHzHGxCLR+41sS3yiAGMDxrojjoLI9FALqWgRAMQoPyCjZ65UCreUkWjmCk4QcctBRTWAU+EUFDA-IEd0lGRyIxOoXBZQHwUh8CF8Y4wDfMngoLA+6C1MYmKOhkLqWv8iiJWNPZ7DNap7RbDWOWC8L-5BfPdoIprnpA92Ii+eRWR8LNiYFT8mjnPnKk+Bi46BcTjVh5x0YtFIwVVs1IoIbApgd4xkFTPE4q4qZ9Ffqb5ksXlDcmDOOTCNxuk+yWQkraQL9KKCfpy8nTHNirkJ5uLqZzdIcJiCanTdypQ4vVtXVUliTQAW4iImSg-hTBbUdYcqX1M6ADxzp-wS6QsCpkRI6a4ivcb2wXDiLKxy4+caIqJCmLZAFWVJZQipnVKPgiSqCqNKsDFLrxJhT9iosgUshURHHZlJyxiXXT9EvmBpekpunVKzxZgC8VSMUCdKzu8UUqWYEok0TbAzEs8AABkXa3ElxL3DqlQiBJ4VcqUaGKkgK9ckkjQRMBkneT5JNk6ScGlOWOTLA6k6XppIiWvR6KekyoM8uMnrLNlOy8ANZNGC2TPlZyuJT5KimvCuhu9JxC5LJHISPJt3NCXcuaXLATw5UgKa8J-A1iEV8yraUYruDYqqRGrJ1uRHBUvL6ojC8ztFOhFxSDIGS2avcQpUSgNFUS7KcqNylOJ8pgk55ecqUVpDR6wyq1ooEqU5SLRP4xIKvTpWxT7Mpoa0RlXujRSd6IkM4csgVh2ThJDk8VVyvjHVKiRZEFus8t1XxKmxEZQCgSKdZUxsGIy3ljqKlVktkldNV0IIBAlmAt0lnMVTEt8k2reWI-W3KRFdUkANZxgqhnCAEj6JeW3qq1g6uRE5tg1CwLzjGv1ZxqrV4cufMhKX7JidFdgfxu+I8yuy+gDAnCR5jSH6dTAhUrSG3WQkPJ7JtAWNPIKzVxztJfMkHphMa6ewkVnkutdqobUA8UlFgU6R9HrV1g4R+dHyPit-FDcDM-kwKcT3yBYJoeDUOdTioLEotR1mgQ1Yo0PBlgq1Y6gkXGStlVwycIGFQNMQmRdSa10k0ZVzPHHh1vJnsWpeYsOAFK0gTa6SdmshVtqTe4dLCapG7UoqvJ36gdXTR3XDrPljqidR5CnXAiZ1mK5qSSoyEBqxaS6+DVisCnrrAOHK7dUOr3X9SERR6o3t-O05jARI-U6Yvut7WGSoVjiz5dRrClQqqGDnDRa2r4YOdtJDGl4PRQ42jquN8wWNOesrXaTFZta1tYUvDoVAtVNGnJCZPomMSWJbEzicCrSByazJimyyXso3V9rqVhqqTfuoxygKTwuQZJrPlZgsbmpt6wTRWsvX6Jr1NyqzRJtkj6bTlnsOTYCt2W2x3N2y3ZZ7B2nNSt1A1Fzc1MM165jNOQUzWoswKmlRYGwVmm1C+g-DQFFQ2aPRXBxxbcIiWv-ghlS22NE8GWoQJmyS3BzBC10WxkLB-rWV4treVLbmsFYM5ctZmi3F+Sq2Zbat5nLGaHlGiJ5WthWrLVANK3+5bGRUTwA2BEjRr2tTAzrSEtAy0BWa1AK6QVqfppqqRfrA8kDGq0r4ltXCJBZ4ThF8M4tC2-Jewm21GhTtOMmZCKu5bRxRg222AsQE207aTQsfUCpatW2KZF1+VKVoiT9UxLUCc2o7ef0fRVajt5wmwI9p5hvaMha2yreDoS29an61LAZdeyOGd1MRswnEUPUMhDLbVoq8HAjrxAE7j2UO6Vc9raHvUQdV0nrXDr61E6V5EJEndSKZifaEasrBqL9qtYOVwdgOw5Y+hG2nQvIkqhEdCqpExT5ADKhcIqr94fAUtOO6Nfzska47rtl7dFQuBmX6cD18ypsf4Be0sh1dcy38RvLXmxBicZOuyHtvTVAQWdJ4eVj9rl1-bNACu3URYRpCTAsEVnWQeZxNhsDgGoDKkBA1xAzbv2ibZNlHEF2M6O4S0WVeLvlVmgpdNSN3ajEb5iIqAp0E+nizWg3R+BJ9cxBGzKra9OO4gauTXMajKcWoio8+XeSRJ+815QQL9uBx-ah60UGrLZifBVTnjNdhu4hcC32XSBrhEe5nUuvr2utIOL0O3W4AbBK6DazrBvSHr-bp8cAH8JUHW0cp5DPYAATn-CjRV9dlR1coEkG58bATlR1a3QNA+BHdGPeQY2ULVKDce6sKwOUWqmizjAO+m0DSxpYNQ0AX+lDZ4JflEhX9RzFQGbPSCv6T9FIHVNFNvQ3QrAH4W-KT2z4v6j9eQsA2fp5jL7xgSBuyjNpkDeLfFMUZuBepW3Q6rRFuqkYPq+1eK7KeB8guzvt2c7oIlBnxXFnLxA6QMZ7WEFPrcmfbXCB4coHCBNrOrw6roT2HO0fBbA627BiFWky4MhcESv4Mle+p4jYRGAfB-WqADaYvYXRc6DHgAYKrvhkOB7BJTEusAxMQuPUQqrPVNAAH3mnB10CFDj6VQx+6sETfp0M6YgyN2MOwxjws36JKNnG3jTppCRhIvDAPdWModUMdR1Dn7OED0QVbP6vRmBm0HoffC9RR1ZEDw+DxSMpH+oDhgRIkOI3LBdDWR-Q7yyShLLOaxR98D-sCCgHXJyqmFRLsbEfl0qypGw9GvD7J7uBp0V0DqK3VF6CAA1XQEMI53XaejberwB3r33E5PcR6jNffi-LDA6AN4HVIVE+23TZIwh1SKIYXaSHgx0h1Y7IYMzyGDe75AeDkhGM8s3s7e2ZZ3uBHTG4yrJZ1IET64sgbd3xHMSqi9HyBJAxTXeCCxJbRrOjIwHgUoDGMBElCx7XPQMfepDGhVExm43vsrwkDAOfVQ1dMbWSSHODNLWzooBrkAAdLAKxqvpL5XD+AaYpk1N2NVSqkkWyB-oMzhHBSQnLAJiejXYnlJuJjcQSaJN0y4sBnMk582DFHRCArhG6Hlw0LCnQAAALxLqgACTUQVVbybojkmoTeXaUzSZ8h0mGMvBxkw2nd4jQFj9AZY8eGxPEmRIpJ5U4dRxZjUfjDUUoIiVICIlpWhEGlqxDwAsmRlJpnk+aYFOWm8qCNG0wZjtPb5HTGrTU-1CAA')">function singleton_stream(x) {
    return pair(x, () => null);
}
</pre></div></div></td></tr></table>
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.7' class='permalink'></a><h1>
    4.4.4.7&nbsp;&nbsp;&nbsp;
      Query Syntax
      
	<span style="color:green">Procedures</span>
	<span style="color:blue">Functions</span>
      
    </h1></div>
    
    
    
    <div class='permalink'>
<a name='p49' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, used by
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), specify that a
      
	<span style="color:green">special form</span>
	<span style="color:blue">query expression</span>
      
      is identified by
      
	<span style="color:green">the symbol in its <kbd>car</kbd>.</span>
	<span style="color:blue">string in its <kbd>head</kbd>.
	</span>
      
      They are the same as the
      
	<span style="color:green"><kbd>type-tag</kbd></span>
	<span style="color:blue"><kbd>type_tag</kbd>
	</span>
      
      and <kbd>contents</kbd>
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      in section&nbsp;<REF NAME="sec:manifest-types"><a class="superscript" id="4.4.4-sec-link-2.4.2" href="./2.4.2.html">2.4.2</a></REF>, except for the
      error message.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (type exp)
  (if (pair? exp)
      (car exp)
      (error "Unknown expression TYPE" exp)))

(define (contents exp)
  (if (pair? exp)
      (cdr exp)
      (error "Unknown expression CONTENTS" exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPYZ4AhDD4MwbBQHAiDIOgfA8Cy00qIuDmwlqyh9xBESyAoSgepo2j6Ay+VhAA-NYty36EABcQtIuUz82A-GvUI9hC7BAviC+XoVJlTUhpcoswD4mC-tYN+cUYxTnPKhT8YUb4FVAA-HeZVJxxhQc2NB6VPIwLgaABBUgkLvlQaHDBBVsEegXMeZCBDZxXifKQzBFCA70RdPyT+mCGHJWdJqfhHDiCHzIdw+KiV+jJT6vxCqAj6GgBwYNYqsjaDyP6qlBiJCJGwK4TsAyqc9HxDIQ-c2kgEJ6BMRJJE0kMZQLIZglIJi3bONcV4mwnCCrcIhnzQxKi1EBIMNzG6L0hjQ0plA1RBipE7Dtso6oQiypJPEZIoxERvJRIphdIJKTVGMJyQ5GW+jMl+PZLHYOtCDQWLVNUkyODL7-BTgokKZjTDQIMdMFxhRWpqRAbJHOeculxMPgUwob9vDMCONHAAqsQR65cADuWJsT8lUFRUAABaHZRTd7SWEu3QOcgTLCFmCMgWlB8CgD0BEWilAWCyOUEsGxwhGS0wLqczmjznlUFedYvSegLlqirkzGwnRVFyFkOIW59yoysF2NQeoQLuogpIJ8n0NhJzAjoIrcgoA7gHI0HvFOHiPm9O8V4vq0liBQgPocWgTk+nUpsCnexUkZIYuICYKlbLvEjP5QK1xbSJFMtEVMD5hEUjyykHZEBeg6IEsmSohVi4ljFjpVMZVchTCsrfvURozQ6gdEhdC2F2LrAzOoD4UFcJFnLOoGsgg1UOa7BkLs-ZPzqyQqIgFAZighl6AUXQbph8vmC3LqPWSobVWhAfsLOBb99iHBDRfMlnc3TdzjeGvlrKbCBowkuWSI8Rkhpop9PNqswZqJkaVUx6DykC11uCRgS502HP+L1fq9UWixJgfG++JKWl6B7bRdR9AB3xNcdMjN0kx2zXaQHPV07D4xWqiE8JvMPp5q+Tcu5rMWDs05qEomLaNgQSNU0YgLQzXmvkLCg9CLxgcjJrkspxhPoXsKOuZpmaMbvtKTjIm0wYH3usFCx9nqrU4qQR3QDkRjDFs9cSvp-6F3oylh+kD1M+Xga-s+7JmYUMgqzUht0ICsV9PXFh99yGQEQbCFBmFMGaMQS3TzA6egC3gWw8BmJoGCPVG6KEboftqpFpICI-tGl65AjlU3JWcmh1YNAEm6oKaDg+DhAAKmk7w29dRdOA1AFJxEhn+2BhU6GAAkKEf11U6Ah3nCi6chC5yjJbUR7a27uMjkjXBks4NqZEvBn5yG0sYbtC-optmHMuZcfekTPpibm59LfoHLUNwXMEkIO5th-RZJ0axp+-m+aRWhGczkPLBW0Ixj0FY0JvHKt8aA9ExmKsZUPtY4F-Gjc8GNg8+wupXif4wkG3VohQDOyMgyzsKhKFhudNUykcbUpFusPq-OHEHYQwFrfsLJj4mt6qjUek5tXzcVuzCy7DxDImO4o1iHGFYXquufy1tohsk3ZMlCLigzcojMMGJeZmTrRnvqAhQXDD-w3bCu8bS7LShxXMElbYzWUPZiA41C0MN4yS7tzUSUjr+8DFfPkqoZ6bU-Skd47DpVJH2m6KbfEBHrWCc1u3owkRZW93YtxSAsLDPeeulIwyPNTGREzdI6L7Uu3QIS9ACAyXCmIKMcc7Wxhk2vu1OMPzoE0uFfAI1Yuks+CgKYhm54woDOdeW-QoqpXMD2c+IMVnNkajNsO9Z5dAnXyjdgNI97mhVvjezdd9a+d-wQ-LbbE7g0ebI8E5nmAOeTBWDsBXlwdeaA1qnbZIMdt-wqItvXNsh4xKohLg3WbKnbzgWcvsDJWY8P-fYvXLlIqx6UX0rRQeQGLWm+OPx23gjYtpqIJ76i95Zfj6nRyjCfAhZozT77whU200OUti5U4-Ac-lqTDauNZfoBOoe+TnpV21BjIgoP5SFaJ-ZiTQv84MVygJVOX3xTlqR+xogtmA2lr2misXVUwi1VdHvx+ilDhDAKXFMwgP5CHh2DgJjw1SgKzHvEjg2w1ULFQM31VFQMnW1T0Cox-wJiRgHCoy5zOzIA1i5F0BRw-zRychgXIMpEDHH3bhKwXg-jYI7zMj7C4ICjenoItnOUkk0nbwc0vVvFTTtUkNV26FxQWCWHi05kZRYNdDCyOwLzECsV4JJHD3xyGQwNAHkOUg7BMI1TbgCkMJejAWK0kLWBkILktHsOQPsJQycKRBcPhlkI4ODA8OALOyojpQZVR2ZRA0cNmA9FHw5DUPJwEOWi1B0AWEsL1BpkrzM1SPSLiNW2sAfgsIMMkIyMyGsJhT5VAA8ASKYIKPIRyN0HSOMLMAAB5Gi0j5hSCod6jCjVFGBZk9A4QAAVDIUABSYgbEMFHQdwGGcGABOOFoN+OEUAAAalABazCEMGiF0BuXdkcLMHWNMxWPWM2KqyiBiB0D2O6MqN6IaJtR01GOoAIBkBWWmNmMpnmOqUoCWPhDWI2I5xCx2KuPwH2KsMOPhELH+LOJsG2MuOuPyJoNEgyH-kAXD3FzAQN1CBEIkXGAyCUn4K-gCnezKJhViJ6L6zCEU2FlJM+hhOwVxN-iUhhNCFEOoAYJ0CYM-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-6US7Fs9BO+6-Vgm+vZWg+-LjkCR-GDFVx+B-yPthAwp+x-a+S787LzW+PDB-aewvV-nCcLB7WhW+VcmBfD1-ij69XZF-6+KHhO2-JfD+Pyk2bIjxqOZ-MCI5zpDXCw8mYvxB56qA94FFZh7CtzE0n3iPCSB5O9KLIIwBbQBRowuwJpAG0pI+YmEH7Hbv9ngxT9bs5-Tksv0dI0QAB2-djLeAwEbd9uRmFrA-BIDACoQoA8AXUEgHv9b+ZPFrG-FgEmQp+pGefmDxA5ICLCBbOHoLAsKsD9mBbWYEIM4JxsuBlPPMuh12ArcgyYfAItsCEHmt7+WIKINkBYABxl6feBoEmGxD9o6ADXXQfpTGB0Ayuz-IWAWUMEWtjB+gqEGYMS7RMJ2fYawVL0S5nVtiGgrQR6h0HyATBrDLwTuE6hS9qWoQWwaYMmjIEYgjiLIOXRQh6CDBRgvwXYOkDmDw+lgpWNYLDbhD7B-ARwUG2cGbhXBvGdwd1WiHeBYhgKHIXoByGpDEuIQgqKUIiqeDfgfPAwJ1EJzEl1BrQ-AEmCMCKQeUQMMwr0K0B0pIgdgX4Foy8Hu0SAQwzwn0LGEtCAmSwoljSRWFhsNMLzcoUXWyBVDkh-aPpITG6FPMnWTQggAsK1DjCNBUw1oRZAmFPNOhm6MIsjhuRx1JgOMVvhRD9xr8Bc6ArAZgK76MEcBH8Lfr4SYzrhiBHPTbiajDa79uizCVHqAC+H4DfCTg0Yd4HnAOUje7AyflgKqLIjGBX-fYOQEcSYjDeXRYkbMAJE-D0hdpUpvgHNAtAViYbOEAyLpBMjomznMoJSKRFaAzAYbO0tYGiYRBH+xI-kYUl3551FA9Yd4fwh5HUjnCwoqQBYTFHxNXmOPL4Ra2JGkjJAWIrooGDFENDCggYTUUaJSDaiMRuo8kfs0NGE82UloU0XaOpR+lomrIxkfS1UHgxLiV9NsEsMCpmELCtVM4cLC-5ycmwj0AOPOFo5phoxtAWYCmx5EpsaRaA4LHqLaj4o9UYWC0UFD1F6AExWgS5Ex0xCzAnR1KJMQQMUGxdyR6YglOIzZFZB6WGw9LEGw5I+idsxwxrNWN1SmBPRhAMZrXz6gT0+R6-E+JC30CTs+RX-STlcMmH6dnubnNISmIbZMVJO4XecdiBfzpCQcUI0gS0DUzCwGidAT0QOPTYldCQQ4xckuMJT6cwsE4nsekJFHJhwuZgKRnkwaL6cwwV9UAMMQAAS+tSQAAEFwA4AfWgACVhikAAAPJm1kAxKXQtwXsByceETvTELJGzHEAURH5dfn2KWAniLxpIi1tOJPEtsixRWfCRiPjbTj1AZUWMfQBwpUTSgyE9lmRLMK-j-xQEkCeBKgkwT6JCPYiYxxQlkT0JZhacX6JPGSAzx40YSay1Im0AdkSw45HYVr5MTmODWdCZhLJ7r8lh1iPoeTQLRfD3ARVTYmGK1iRiVJV4AySwGx4kiMRGkxRvgEQnuVaJaE9EU4DsmX17AtgLluohICKdiUAABkToBRb0KyWyN5LzboRKArQMvN5OjC+TvAYWdtGeDin8gEp6xHgOCIghJTNUveRxDhSsQhSmE2DBLq32yneCakVuKKQGJx5lNTMFhMqRFLbBRTAeqDL-nYA0hFSAIUgGIEqi5ZJdqe4U74qayambk4JrxMKWeEanzgopKfIEAFHUFLAVk6gbWGx2qCKZH+WbVLOMVP6FSe+--LyZNKGnAQqp82B5Dj1DZjYJKaaBaZICWlyBtYloEQTCRul3TtY4g-tr0WmQYdde5nOYHYEWnLTepcvT0Q0B8GmcCQuQfaaCKwnYp5p-026YDM0knckBG06jF4mfRcj4RxUqQmT1QG-pJ4xeFnqN2gz8Crx1RAEf3zzrzhLyUhYIi1ghHQ9oRZAjnA-AZGsYWSb8F6YDJxGm4PAn5AqN0FsxK9CBjcXgeKNd5-SZAAM+6cIM+TpMuZMszgjy2C4EAocMgOQbdwLgKyVpAbT0ZKNeHIp6IyELGQBDjJ2SrsfwwEToAplL9qZpRaGWTyYzPoMBOTTnpSXXAkA9iVoqPl0R5mYR5+JY0ITYA9B2S2gM9Ymb1hRlPiPQWKEWngF0wJyv412f4cSnYHAiSQIcwkStwhH-DXZTMxzpdM9mglvZRvBvqWL9kdoA5QvWzNzw8LzY4R+-dQKHMDJjdn0oM7LFIDCiZyHZsc+OYnLWkQQ3R7Ij0S3JJknc-0zw8eo3L-Z0ylSWHaaEXM5i5jdgDXXYK92TEFw6RjwIeQ2Jd7Dod5HIoNpjJXlo1JoAoyQkqOQErzxZvLfWYoENlchjZJ88wuvMVFBtHxPgNeTfOHR3y9g7JR+QlzXlo0Gua-RqmAATm6ZL5KozqGqLOlpov5YbReSXP1HBhr5Zok+qgsmjoLrASC3MZO2CGljqgk7LBYQsKAuig2B8kefPJIjyouWvgATJeILh6xsCHEBhXgS5YEEJwtARMH2LTDZSzC2kfhcgTKkeJ+FI4kJkrEDCRc+pyshNBl3UBLTsQbaeAvGwwYDghFX-XOpRGylAypC+YmyW5NADlij+vw4LImGyDzhspiUrUEiE6nIRupuQfhY9ngxILuxYWVlLgutH6LSR2ClMTwrTjmKas-C3xTYGMV390hrigSLWPpHui95cizYV+xHQOQVWeLXRdflvyBLLFfUkIa2PsC+iOxkSjMaYA8mEo2JkgUCfMgAAy+tWCepmbhBS0YjkiaQJHImGKN5v0nCVTIaBURWlvKMNkRMG5UQxg2UlyQYr6VBsGJZUEZbNInyqhJlzS2SKxL-HlKqlNS3iW6H4kLLelZhbSWPVaAFpRJHY8SZJO2UhLrAsBLlvJOOEog0ehy+4RG2OLZSrl9wlEJouTrTL1JhIrSccJ0laA9J1KKxd1U2JaLmlui6yT4sJFo8HJPsrZZ8r9KeiuQx6M8JSzzFCs9grkjCYwJnFPNvl9w35f0OZLVA6REVPpLsu0FQhqhLWG9AJOYkNZvFtkyFS1jOG51pl9Ktpc4QZpuljhX-WHCkvxZCsNJ2K-qcFh2jCAwsq491P8EVbwheVlLUPoLFFUkBGZu4uoGG0RXEU+VqKuVoKvWFBtFVuQLjrJGlVcr7hX-CICeOT6qiLBo44EjaMnGJAAgC2J8XeMeFgxDAtqJYLRKpldLBxtE7zDmwcXdLk+fqj7vBhvHEpjl-3c8X6pW64ouGAxMXF6qWGh0RUdy64fpxkmCS5JCksHrsHyzhdM1tK4gM8o0GD4vEbzWSZirOHxr2p2aStUKuA5SC-UsytkO6rsDNLvVeEsRaYobboSwsxYfxXwr6lOyA1PqqiJaoxVozCguKcNd-26USSo1UkydbGvgw1qxcZU5NXcBZJprZxbndhVkBLW-B5VoQPNVMAzWcsD1Ckp1vVK5azBq1jgWtR2pWGNqx5mHQBgxw7W2pzJMYytUSx0V+rw5w6D9f+t-XRMP1tEkRr+vo7Edv1YUADdijbWer61+dPCTGqBCx85ANK1SfQDCxlKOJYEiCdBPABMY8NwEgjdxNqUVqs1Va+qpkCw2oTry64OEH-C8bMxIyMGnRd2qBCIaO1KGwZbouvIYaoQIy3DcsoqXVLiNQIMpeJpqVZice2Uu9bRsw0LLGNg8ljceKkCaliwBNYFHGnEXEtDWthNGORm00YhDNAioQpWmEUCQ3QpmkQH2zM6Cx3pRm8WDORPTngJAOm9FHputUSKygcaHCiVh0peaKA5m9fo9Ks04UR4wWjEA5rMLObkCt6HQA5ChAoqfN6QiLb3E9HabqAPUuzdvR1Xcr9NWm2gCFqvD5b+Y582xUsOiY5aepI8CrbJEa2KNWS0eTVSVgq1m4ytVaIXqEJNUaDCcp6oYnS2OKyqhWCBUrblt5QNL9enmqbTUM82xbCtpq4rbOU5gxb0UG27ehawSVhAEEqUnYXEJQQJD9l1KMbXKzIyIYttUwa7VWixUrDekCvJKvVWC3zboti2+zQtroDdb80T2l8pIQbVoghtzGxgKNra1yqqRc2mIJX2qhJa94Qqe7UVosHaSRhBKmut4mJW9bqgalTtKSmkiaq4dLDTVXO1IWwlvReS9sfcr9KwI-txZXJfh0p3XC65NchosLEe0pB+tvwPcMDuZZg6u0fK0zITsdmAM+oTYfLP8FWkw5o8DAm+nfXkSRFJUX-E9u609aKoEdnOnFWSBdI-LUd-yzBJjtcSi6uGC6R3lOFfALpRSfzIDhpOwWkEABqVQng8Tt2AbQhDqP3s6mcDEiuyjAHcicWrlPa4Qyu59iAleW2d6d+SqnW-KMRs6XEGu7nfmsD2PtT2qujVHzrx1LAIdoAIPWexQys1cUCkdNkZT0FhYAAnB0AChF79K2KgwNAOqiV7T0PyxKIg0MCzBeUiA0dWsOKWUluB8KZwNkX8l4zrA9evQLC1haFg0AE+49T1mtJeJh9Rw-mdUHr3Yq86jiG4ZoIshVFnA+yc-KOU1lD6JAxlZfU3qOCzAC9Hm3SnoM0VyBFFyi-4BqA9XLaBt6-DXUDoT0KL9Kt+tPS0gF2XJr9H+5YMXhh1gxX2qUTVTEFPWxFvA6QLkPLQtkiqwsHbDZEMHTYgHOQQ43xvchcaicjibQV5SOruSvJGA0BqWqAByZ-R2R-IFEJSWH1wg9k+yVAwwEpbf9T11gOg0qBd02Bh9ErFFTtFDCK9ju8g8Hl6vw6uxPVxHftLwZ27AbvJX6iDeBvrUeJJDK3Z9IQeIMcxSD28rkFkEoOD6kRB+vQUMToN7IfuRatUOIc3JGG9k7BpXoIeFmL79D+lQw5YaMVCs8UBKBgJYasNg8l9fo0lT8r13Oizy4VFktwaFbo6RapuuMObqlU26CD9us6hMhCHnbUlO0IGOToZ3V6Qx5POeYAxKw5A6AKyRBuAfyzCqG2O0BA2is7bIHu2LkjA8UcJQ4G8D6G+DPYSYrJH8WaR3QG2MyPNx+Z+ZJWK0YtYIhnieoy4ryKGBRNbMhqflhnrCORH+Q0RvMfO03CDG71ygeI91QmSejJVT-B8cqPOkBsw2mW+Nk7v2lu6nULqatmlDmCUdsKbG1UIat2OVj1RaaC6TC0a7+bDjR873mccdT+8E2qzLhalMpjHIGDmq2FrRz0BBzQAAAHSwD-ryVywCuPgFtQBM2dBVFKp8jZRj7nwUB9kncbBMoqITRYqE0HLhMImwZSJ6xKiaHFppCAsRKou5wsL0nQAAALyjrWA4TYQPZVSZROPNnd7ndk1iZFQ4m4Qqh-E9WG54fByM+Rwoz4AhOImRDfJgJvNR+a-RVAxxDwMcVIDHF6WjIWFkyDwCEmwjCpyk0qZpOqn5Fmp7U7qdeWimlQQAA')">function type(exp) {
    return is_pair(exp)
        ? head(exp)
        : error(exp, "Unknown expression type");
}
function contents(exp) {
    return is_pair(exp)
        ? tail(exp)
        : error(exp, "Unknown expression contents");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p50' class='permalink'></a><p>
      The following
      
	<span style="color:green">procedures,</span>
	<span style="color:blue">functions,</span>
      
      used by
      
	<span style="color:green"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      (in section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>), specify
      that rules and assertions are added to the data base by expressions of
      the form
      
	<span style="color:green">
	<kbd>(assert! ^rule-or-assertion^)</kbd>:</span>
	<span style="color:blue">
	  <kbd>assert(</kbd>
	  $\textit{rule-or-assertion}$
	  <kbd>)</kbd>:
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (assertion-to-be-added? exp)
  (eq? (type exp) 'assert!))

(define (add-assertion-body exp)
  (car (contents exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPMXVRzuz-H1uwC7rUj7IceiLyY+U2AA-IXm-b9YABcoDeMwPiL4WACqxCPeXADuziLyFbJz3dWcTrQ0mUxvNHL-Lq8DgXz-ofUAe9AwH2qCfM+1BgG7GvrfB+T9+qpU-vyGGwlcBgAQgwfAzA2BQDgIgZA6A+A8BZNNFQi4HKwi1MoPuEEIiyAUEoD0mhtD6AZKA6we9wZ+G4aAE+PwSRcIKmA0AGtqCPUILsEC+I2FehUmVNSGlyizDoVvMRQiowxinOeVCn4wqiIKnvKhZVJxxn0c2Qx6VPIaIEdohcx5kJWNnFeYx1RTEeica+FxQF3F2OIPQhx7J6Iun5OUARXjkrOk1BEp89itE7HiolfoyVn6oKMQaKJp9vEpNKqnBigTglJNIr8HilEMkVUiWIve5tJAIT0AZPYLYpIyTUQIsRKRmluw6V0-pNhEkFUcRDPmmiTG5OSqMgw3MbovSGNDH+DJ1FBPGVAnYdsakTLMa7DWVsEmrJCREbyCyKYXTWYUaJZUTkORlsUi5KRHGB2DqHDxly1SxzkCZMx7D-gpyqWnZZp9VnTE6YUVqakFGyRznnUwKz6EPLCNAxg59pQ3zvtQR+4NsT8lUFRUAABaAlkyNAOUwQFZ5JlhCzBhQLSg+BQB6AiLRSgLBUnKCWI04QjJaYF0pfVVl7LOV6T0NStUVcmY2E6KfOQshxAMqZTolguxqD1AaSK7ly9rCTmBHQRW5BQB3BJb80VelXbUGMqa4gJhQUDP6X1b+UI6GHFoE5MFdqbApwkkiaSGMrU2vdR68VudbVBv6f8oJLq4lTE1UyFIAC2p+gwkuPQdF9WIveXZBRg0v44zTXIUw7qT71EaM0OoHQpUyrlT6QZKLYFWoQRirFAU36EuJZS6sUqiIBQhYoKFv867wq1eucuo9ZKL0+twvewtuEnzXhfNhND0ZdyrgOz6Q7Q12t7cmgSqaBJuhhWum1wKEUzzBjs-JaSyoAqKcYIdvKE1RBTT8mhvV+r1RaGok9jJOlXJNW+2iOb6BfqGcM41r7ZrPwDgWkDqyz2UO8dM4G96a30sZazZVHMuY8wOirXlGwIIlqaMQFoFbK3yDlWhxV4wORk1OXc4wn0tWFHXC+6SorO50duTjIm0wNFkesNKijMh8M2B1cuujxgd2GtAGCtjfzONYwY-zPjcHQFUeOZmHdHGMaSbdAonlNbqjrgk5EKTCiBNhCE7KkTRmWMQR2dMwN4Epb0ZhrjVT9DLOhG6D57t1Vt0kFiZ+jS9cgQJuFnoULGbxEzvWfOvQcIABUQWwkkbqElwGEjJgEkUKluU6XlbRdDAASFCP5sGdAQ7zlVdOaxc5YXLw09tWZvMQyie1bovhjGZOjKU+5hk3mC4YfZpzJD1MYuhGnc3MFJ9A5ahuNVgkhA6tuP6LJUz0seMTYDWG0IVWcjLdW2hGMeh6lOb22GkeW2lk7cIj5qttnQEJosY2erAT4hgr3rlV7x2bFyM7D+-pjikLvgMa87JdrvswlByhd76EcQdhDIGk+wtLPdD9tVHZmyDn0N5Tqt2MmXa9MG0CHVez1AMCNQdmrK3XEneA27ONYmuv5Y1C0Kn2XMZqTZzyT9FPZXM-xpSeTeg3aboGQ6hbShI3MGjU0zWlPZi8-S3QIdqtz3eJuYsg236H0QXqVmxc-xnOi7sjerJ8QJeXe-RrhDMS0vKZQ2TrrCiZOi9iQqbTQL+NAliQD7TnvXQA6-Qoodln1wWYq-b8xujLH+NvZdPXNb-eI71Np379P-tp8yH0woovM8J7bAo2D9DreDLU2LGPPiAJZ4h3e5Pfu0sB5L7DuvmIQ-LNAaLtvRf5wl59yC7vlecB4BwUwVg7AiFcFIWgNaFCSLgkYCmqi-8IL4oeEap9Mh4MPVUM9dV3U9DeraRjWY4vG8EeWr9aMyrVXEChAhQGznQAn-sDJc-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-kzULdcgVmLjImqnYTumMYlg+mTHWhD0-nBSBkoSDHZSVFnD-kUFqkVnoX+lYXWTgXenvB+ntJIXNndH3UURJmuli18men-g4RgrsnldyWQXlgcWgc3SdgEt7nPFQAsXKWfLZhcpDnBmvyBwVnaWCmGXGAWAYsRkRTYg2X3k4QAByAxnOCphVqZwxpE4x0Zrpuls4nmRgEyXVjamYxuSLP4ORnwS0A1hJgZaynIOoDE2BDE8uRUQsWUbwZ1ryRWO6JllIPeTl8FvQS1gVsoQNjl7V0Fxl1Vv1i1pcPV49QMENzlkRmNrq9gsQA+o+0gE+-Bz0eqTWVKAdIZgORkhONMSBd5G14tucLLJF-iapTeO+sIfW9NjkTNygdmHdXN26TkVpgt7118z5gt-Z6y3ZoGJRXLdSAiv+CVn+3YVN5wA1nUXFKiTt-NzeXlZrItuOEtsKTeZjcTM1D0o1UBeFokRF755FtOXdobIWvNzkMYGFGTfWhdnEJdld7t4NcdKdobEzA9i845ny-ZhLS0WiW92QKEWlU20xsoEDrtsDsdSx5llOQ9x4KlyYEl95GD1Ke9iVVVpDv9lD5t4+tt7NpcdDn1vynwPDjsBt0IJtw+ltrNjtzD99w9Xd6dsI396j2u0D7D3OdszC+VdDVwSdpeZjJg36Ed7FDscd1RK9zsx7UTVjGidHIiPAWubwYCIYZCOWlbNUBC0YcgLBThmqeYRSX1VgxlWQaaNaOfOfLeduWUTWPQZ6b-YEaMRgOoVx4bYZpWOwdzzz-50NhoYjFoB50+PadQZzmQVzy0S0Pz2BALvtiZOLpsBLydAZObTkJzlzoNvdfzpjOdv4vYrTrIPQZecnRXMqErkTN2m6pLarzLdsntDIaUqLzmHgWYFzyQSaA0nVPVDwarmTRz0gNryQDruYYMAXF4ZCeilIKjfrwblYn2loKCguZb8tX8hTjUsIHVeLjzobrLkbrr-gXLhbix9s6oKjPbuoS89b1b+NQjB-UtdLSMqzLbl-dcQMa7i7hi6oLsqMxUtWegN10b8b475cz0OcvrwgAbgCA7ugbL6Lsb3Lqb6r2booBVM75CW7p7kLuoe78GewF4AcVHgCGjgqBLXKLr8bhLcHp8yHq1-pQMUnmb9Hh7YTVclnGu67+HxHzmE7ib2CGHtHn7ubhVHnpb3HstZjMrQoO84n+kYXsnrAWX+EhLWnpHgXgzcnsNHcJX1npkVX0AAT7b6oeXr71LjziHpcUXjsv7xiwHsGDKrQUgZ48Vg0+SMJqUmRMj-pb7FrmRZzE+NgY5mIWQRgRUbEveMPt17E5FVFFgRtJBUAdTmxZC6r9C43kp7YZ38gV3sMHVVPzTuHo1eparsrjoHVAzmTIvjvcvqlgP3YasYy3To1Wv9CevmPiP6sduepDwGIBKWIWHa3wpo1gonY4f+nm3so-vh-Pe2HMXAfzk7+y0Wfwf1YGfpfswkvNf5ftwwXsoXf3QcQo-h0zehopR7RwIno-f4by-sn8ouiso-o1oSfxQm-sf5wBLPvrf-QN-43Y9D0UK4RAjwBbffnrHkJTBL4OzclEDxdqvh2M0AhorS3gpQgjwkgUzg-iyCMBl4AUaMLsG+R-wDSG7UAbu056dYa6p-InL-0kDn9KyNEWYEALBTrgqBkvYLmWi3KhtUBTiDAba2wEDpGB1RM8jNAIGL85+2-Y3GIPX5s9yMNmQTtRgSxkDTeBcBLPgJMiWhd2swNQcrDY6vcTezAhzMp1-IO8C42gzeIV1xLZAWAm7aXA0CTDYhP0dAcbnYNSpjA6APXT-kLGNJOCxmoAFwQ4KhDuCyuqrIDn2B8E69GUATKIFYJsGwF-Bjg6Ib8AV4GBOoEQ9OqEHiGBDJo4hGIL6iyCH0UI9gxwc4PkCuCshhbDcp1H2aZDpA-AYIfFh2KExUhzmMrrjVyHeB8hYlTIXoBqFBDGeYiVoc9UsFJCdwnUQylqUSHWD8ASYIwIpDkpedhc2waYVoG-iRA7AvwTJjENbpL1wYJcBwjMNWHDD+mRwiod4MmG+C4szLdoTvWyBdDShAQs+l0kJjnCaOgwvqssPICHDJhmwkYfhHWHitxhWOX+tLnpTO1JgOMSfhRCTwf8XclA3-tQPEFn95wF-SfkwLcasDHg63fZi-3v7ac-BWgQQW0RCErDvA84Mqq7ykHz9JBp-Y9FCMJFP8X6YgfYJ8NJGSByRzxZkbMDpGP9R+2fagmWWOb4BzQLQKEvszhBCi6QIo1VrMki6cj8R-gfZg0Q6JXCpAoA5kWYGxHAjYCoI+sOCIiRyjuRPRVVsyh2Lqi5mLLHYlCN8HMjfUZIl3s8UDDqi0h1QQMFaOdGFAbRrI9kf6ydFYMg0loN0X6I9RtlVW4o4UXawsGckKGbYI4e1W-oJYTqbwvMs3AlI9RFgWsAOPOFdYR80w2YzELMAXZyiF2MI0IDqnZFtQ9UBaGTJ6KCjejCxBIlCuH3zGQN0hXSYsdUQjwG57RFY-VGEwlFZA7W+zS4Y8nBhRj7AMY74eWPzSmBCuhAM4gPz6jH4tAhbMpvoGA7LjUxoAAzmsKsFtcwe0XDwbCMMDgwZMBnPcZ1wPHtkayOPdgellizNxLidAYAU92XZddCQS4vgqWK6wucZM64mcXyJ2CgCXOZgSJrs0uIucwwFDUAF8QAASWdSQAAEFwA4ALOgACUvikAAAPKF1kARqFIu3HwD2BXeAcO9jmNOw1jiA9I3kW4znFqUXxH420b4O3ELiqI97UiZiFkgUTp2249QGVDzHrYyiPE0oCRKbHrZWhng2CfBKQkoT0JWEnCYJKJ4sS2Jok8iSSKcDf1txsYliZIDfHjQuJLrdif0AJRHDYBYMYjOB0MmqSWRTgKid-SOENIZh+tQNFCPcCbVsSrvJsI9EzEiS3WaYFyYn22LWTKJPIq1oRLz61V+JVk20bZPIb2BbAnrHNCQHM5GoAADB0HbgkZ74tkBKc823bzhKArQf+AlOjBJTvAMmZfGeBKnoJGArJHgJ2NvAVSNC9+X1GUXqSZSa8yEXEVkFmCNTN2LyDvAVPjE7ETmWWBLL1NynAQCpuXGxpuLsAaQOpWQKQDEFTSetyuXWcaZWwGk3c8J1JbKWeAmlbSK+QIFtHYCWD3x1A2sNdttwTSkCiBX2IrgfnakL9oBG0rdpNPx6zYLR68MtrUgo5WhTpkgc6XIG1gaCp27ouYADKBnawIEU7YktAiMF+Y3G0Qs6RdJWkqNCuDQeeA-ikA7sGBT5ZRtf2qK8oTpMgFGcDI3hzkSByYCmQTyowyiygk-RogTyRnL4d8YKfQUGgJwIj1+tA5EZWVsmvdjMEEDwDeOe6hcbce8IUTZmtInxkZgM1Gaf20weAZBGFFXhzKIqMJAE30jUUGnASQzUZGgnlGszllQydBSXUlgQEpxsz7eiMguCbNRnmDGRyCP+qCJVT0ROp--OQLZPxxdZWBoARWXQOcKoiOxQIKjFQO2Z3cPej3ZEmyPtGUiJBmEGkbMCDGhAxyIUp+vJw55UyfAHoQzP7TwBJZC5oCAnPCKNQBy+ZQc9QALOezCz4REcqXulnukkAY53o4finP9k0Cd+v-ANCVl7makhBwOH+o6i6mBE05aI2QZRgVSYyFsOM3IGnODltEaiBcouULNvBhjJREYzOXIOumGDh5ns6uX5kxxgxm53JWOeFOPw08BeJYguEqMFHhjfeU2eEP2KlHrJ6ZF8uWpNEVEBFjRqo6mbsE6gtjH5L-WgYoDdlchOp-8j+bZJ-lOJj8PXTUS7NAV2lwFpXXYAL0gUhTrAy8pLDAvV4ALzgX0nwGgt8EnzOY3ox0c0P9qOjJo4MmwKQrPkUjgOlC1sYUGA40L251QEMesnXkDjOmTsiQp618DcZIK4A06OAQ8jCKk8cIRqUpTrC0BEwc4tMI1JX6KNlF4hXqb0mUWiKm4SsQMF91WnmytiNrOQOdOxBL5SO07DRgODUWbj+UlERqWjMCL1igpBY5NvsTaI+ya6iYbIPOEanlStQFRWHEtNyDKLLMOqehdOJkzup6FdYtxRRNoU7d5FGgNON4sOzKKEloQdsW0XqmUgIlAkXsXfI3kPzd4yY0oNKMXTSQk23gEyBoq-x6BUlvi1aWkPtLRj5wsYvJZWNMCxSDUkkyQKhKvgAAZLOrhNKVyB0pDhIibVUamcS1JwU6+YsOcC0TeZDQKiAxNJFMTFJL4sYNMrWXqTVWQk65J61kjiEDle03dN-V6X9Khl4ABSW6CUlQgdlXE-fvZKAatBA0mk74dpN0m7LrUGSmwNIs9bGTJhKIHXh8v+GJZJOAKrIECv+EohbFc9M5TMpcWYLPB9kj4U5LtR+Lnq2JOxWcscVy1ZltknXmFOImPLCVIUzcVyGVRngDWAbOJeSrrLnDnlkwhyVoAxWFBb5fVMFC8oQZxD7hn6F-OZJ8lkTgMzi6KSFLSFJj+UOysVaSJimUVGV-wzcfJiqV6s6V1SqiTuN+BrSa6O0YQKePsBWhsQ88dVbG0LAqqDWmfdcHqpICiy8e+zKlRpVVX6tk2mqk4aqxtW5BNCjMU1QDR5FarxWwA4JSsoAgfiVxUrNcX2HVGrMAggE6mX+MBGVZyAsCJYJFPynpqVlwTSydanXYKoIgLE0NWmsMzFzvx0XGTF8qR7vii1r3HVJ4xRTB401AaoemGjBW7icu8INNTCqsGZ8raK2NrgZJUnEAu1vwZ-P0lZbZrZgSYutXNIPTZqA16PdWVGS8Kv1k1dgM5bzOWWLitFNaYyrMpkzFgFFacUJaHLzXBq+ooariVD1LWAkjUFazmO+K4k1qus064PL1KOHNqg0rajYe2qhUyBh1LAHtTYF2B9qf1jU-9aOq6RjTPWk6s6i+u1Bvrzh-Hd7ofP4Zqg6gDyhKbAmFVXgi12ihxbhv2bXAMNpXItaqyI3Ybcx2a8QuRrTVZrB1y8QwCmoo1thN6LEujb5NoDtlC+cgCyYOs5y9LpJaEjCdhJuVAgBNyEoTXJJGXjrB1MG3GpkF40cb6AV4iCHCCkR8Ll1YgcjQ4u3VAhGNa63qaxvonHqvxNdBTYipkyXLBlwyyzFZuuXVidijUuTc9XM3TKVNa89TUGpAqjYgMGtEVBOlOFKwAtZRUzMWD80iAj0+-UGb3DKIjwwtGIT9r3H34wyYtv+RfN5qwxJVwtB4SLZ4JipHoQtimLLRiFy0ATotbcAKCPGK0iBEtCwwWCloq3VQSMOgByFCFpUBaotfYYLfwrC3UBlp8WmrW6qZV5apAJDAbTlvG38wv5FRI4aq163LS4ttAbLT6sm3rohSFq5NjpkxiTb6lS2hLT3PSGKqrBhlYDaNVtYYkNt1SkQktr63Wpxl1ULLbdp6ESBltORI7dqu0UkNqtOW77VNvZbDj+21UzoYULKGPD7UFSpYLStMy-bntdAV7YAICLzrQURvSamdUe0Lb9054F7Qlth3w7kdNud7QCLRCnbEsDrc1RDudXpUXtt2mek1pkAtb2MMKIbUquZX-DWVswq0nak5Uq8Co+Wy7Wqua2tbnVAzPjn8rN5jjk1bS74W2S3go7H5LS8cVLvBVGi+5qOZuPjrCCE69wJOhENQHdZwh+dYdPMvToci07z0rEzxogKIGeDRc0AqhjQ3ST0MyGhXQjq23bYl4md-qk4auBrIsr0VcwzpNzq6R9QmwK2f4GHynAICTc8JPlqLp5EJKXijAman6PTKJ7AF6dOEOimT7Mj8ZyFTEirz7mFRXdjHBRHCsC4K7JdAa8inRTC7CwG2Wu4nX2rhDF7iOO6C7RTstWzAW97ugAelLLF4osdyVewTJgACcHQAKBlXsFV66tE+iQJlQDW0DfUvgWYDmu24bsNyXSg0gJyozOAViKUgnpPtSp6A5WcrQsGgHP2AbBMyGrpIfvUFhCulgsmwLfoX2JR5G9kiyMemcDEpcCxg22dYGf32TX9RwWYApGXa37bFJi1KuYvD08gU1zO47fv0J2N6ztkBsxcsFZnt7qElSzvWqFQPQGzd00ZjlIFpUxBTtJRbwOkC5BR1PFx4naDJmfY4ohgy7Ig0uJBZMp8mundEm0DhWWYqMHKRgJQdDqgBtmf0SUfyBRAGlb9iWIlMSiIOgADW4gDgwajbTjVUQ6e--XPvsF6BE2tKnaKGGN5bd-u8gxtcmtdipr0Nn6PQ3OW02YaBotGmjXOt6RWHXufBig3aSEMiGuQWQcQwfs0NH6xqMh9tNmrQ0NAbugRolEqAMMc9zARhxdWECkMBHAj8h5Nrqn1QMBwjER23gAe+HcqWV7KrnQKJ6rWkdDm2oMRHrjBR6A2VEydcoCT240EUaQw3VUdHG6BWlVe4WHaH478LTMOQOgPfHkakGVsOq2g-QbcUvsmDb7GZWwcGMGouDPBo8QagaKc4mjO0IGBLonHgqOj7m41saSWO+DddRXcKZyXlGqBJmJWMliKxIMlgKjNCVY4XD2M1G6jz1U9PwpMMVwvAAcCwx4Wt0AS34YA45nmI00Od0NzG+cL0iulla+w3qxLSduYCwdhdcrPMXoBYUAAdLAPht5VQhTD+AWBP0zr3rVpqPKD1KfufBuHZA1YIgwiaROon0Tgi15csArg4mxWS49eIQBKLHpXOCWNk6AAABejIFamibCD0nsTuJtPa5z5NEmw0JJuEPwcoPvwedsmHo-QH6M+BETmJhkw0lFPg0eWv0U44bAxKkAMSdrRkHKyZB4BKTtKtU1jKxOMmtTnVHUzdT1PwgPABpo03CulNKggAA')">function assertion_to_be_added(exp) {
    return type(exp) === "assert";
}
function add_assertion_body(exp) {
    return head(contents(exp));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p51' class='permalink'></a><p>
      Here are the syntax definitions for the <kbd>and</kbd>,
      <kbd>or</kbd>, <kbd>not</kbd>, and
      
	<span style="color:green">
	  <kbd>lisp-value</kbd> special forms
	</span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	  query expressions
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>):
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (empty-conjunction? exps) (null? exps))
(define (first-conjunct exps) (car exps))
(define (rest-conjuncts exps) (cdr exps))

(define (empty-disjunction? exps) (null? exps))
(define (first-disjunct exps) (car exps))
(define (rest-disjuncts exps) (cdr exps))

(define (negated-query exps) (car exps))

(define (predicate exps) (car exps))
(define (args exps) (cdr exps))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaWH8XqexNtsyy4io6xlurbU5qj6ipUUKc3Etz1GXJeoKMp2cXprIBmyURijrFJKhvstINy7F3Kjgo8RALgTPIcUs5YJtIXUJsZHNwMC-BzlNCHICPyMQWL0QCK+gLmy6HvmRQpsL7n4v+IkmFYKXnwodBU1G1KrFEphRcnct1qnGGxTgPAfkGD4GYGwKAcBEDIHQHwAATB41mT9HDOBRoVbwbwyXCNsDtMoB4UTGAAD56psk-RGKrdWgANUauw5QKiiGGLqi1Zpu67TNfqw1jq7Dy0KtjN43zj4I0kJ4TwxVNZmN8eQAAFvcLYng35JTAX0Q6x41UADJk2gEjZINBarlI5tABGqNAbfUbPAZqgeurpYaujUGkS41Txt36tXUa9KGhNDLWqit2cM1oI3nCtoPS5UiAuI83Zfh76VoDdWkNKhTzDpGA2nFx9Z3mzqAyu+fMlpdsUD2xQm7t2vxCo2xdhSnmcrXZEDdtru3jz7nuuUB7enFr6Ei2leF23nq7nYKtwba2+JPM+6FLx53rNrqAf97KJzNvLe++Nu7r07svVuuD+7+2jTA5Iicp7R3rs7Qh7dt6+0ob9XYVlhL0OLLPaA2sfQv01tDcMk8JGX3zCA6NRjAGVGQbfZR0isHN7wczYhvjyGmasauASpjWlMNvwvQJvDSG739uA54i4FoJTzOnFB7jJaaNTuIXs0AJ5VMYwWbQFjx8jOOQHgaIB0mxntmUCultpakiaF472vw96lOsyMzpTTJgcOybg-hjzinRrhzARwy2cox0ftsDpn99GBn+1xGZx9czwYaa4-5mDuH5N9qLSBi47IQYJC5BlyGfm41Uf9YG79dH9PLL-WSErYMpyQ1SyBmmdIsZZui9h+Nj1TD4HxDwQjj6usk2SVlqrpFBv5XxNKsbnWyQYzpnprD0GqNzeG74gAzKFojjC87TfHbV2j07f3QI6548ZR2X4kJiwNsxJ4ruaCtiJ4+0DItlhswYQIm2eO5aE3ej7j6k7fcDg9-rVHN3vcPWl9hgzAGS0e1R4LpT4eFYgQJKBHNjtQ4ByWnu7mMcLsfSpmEhDOEo+h6RJ1vdBMk8815wdVqok+L62kU7k6Ev6ZPN467rNbveMq0tWt-P2eL0-m0UHIHgm+emzNqwbmNEFeU9CDsXYeyvs51p6jE66sXfo+BbswJBciD8sZzLuvssw6B+5zzo1PonYC1evjwXCJLc8StT61Bvq2fjfTvufvScs6sODy6IeA924E1H2XnjC6rS3IoKPqPSLbrj4fAVbUhUivYOKrgUq0C7YHdppGShqSxqWi+HNqlEYejV0L5UOFi2KEs85Q0mgqkjL1+L-iglhKiWLYvZZ7ezAuS76Eoo7zMfq9JAJISJkh+13wlX2L8WzH4Aav3xfIk-Lm-D21HUepx+GlX+q7O238KaFG-H1mlvfP4DX095cQ3r+gEW3fi3R+ApNKsk-i-F-UYN-LfUAfbRvEQW7SZNFNGWgDKZ-LbZ7aAmoKXdKMsL3eVOwZAmKOOQA6rT9A3c7PEN5AzbA0QA-JXVKIGDKcxNFBAwHQLPjOOA7R9T0LIOELwFwBpQKKyHMPA9PODPlUacHYVMtPgjtHLATIQvpMgdg+4UoSCJyUQfZA+UZeNRNfCJQmfICD+fNFwHHCiX-M5JSVSYnf8MPUAW7UQloZtHmF6WCfgqwDQ2wzQewjAi3JQ2FVyJQuCVQvXTdaw0Qdw8PTw+wzQgeXw-7NQtHODQIlgkDIyVBLg8QRpYwhzexOwkpLvGEe4cQrnS-ToTwCNdI+oBw2vMaQo4o6oOBNMUADQqwpQkoioTIziG6UoHI5IzRZxO4LwYo2wvQAAHgqN6PDVoNaJYVWEPGoGPBPAABVshLDhgigmJPBCBowT4ChOxKBipYgTxQAABqL2VhQIFQX4LwRCG0fog4gzBqa45ZKIU4lVC4sYg2FhSmKYmY+Y6gAgUQG8FYtYn7DYzXbYsYXYu444sIE1c4-AS4xzBww4qXPYw4+4oIR46Em0ao5nUaLIXIAoSlC5RzYFIIAGbQTWbIfIY6LoMlYkz7M+Jo1pUATE6knoDVYnekmonyVYUknEiklE6qWQ6gDgzwZI1IpsbpPk2IZtFSXNWHOEro2ozdTEvk4wSUukvdOUzQbdTEtJdISuHodWR0aUuvSNfQkWQw7gv-EYWNBFD4+khqC8coYSZaAeBtZYDOARe6D+QIz2EQxokOLOeNOJcIpILw4MoInlHyQI1KbwiInUqIPUsqfI+NR0Mkv3Sk3QCAqwUFRze5ZtVwmQIkwIEk8QVMikvI5YJtOklwxkkpa0lk2LNk-o5ZLkksnk-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-joEIFKEW89ixEG8a72+G77haTiwJWgu3KS-O8u-KLVrGDrLYXjS+43LtnI8ER6A-lG7GCu6y9IAa4omlXu+UHe+e9XfSHVjB+HK+5+4+CWn+-undOO8x+zm3TB6R-jIrlgppPJ3oGVeh7u9AEO-zJqAx9O4R-+Ah7oBu4on25k8UEe8W5e+R54jO4u4JTR5Mnyi9W+7x9RLMCe74x54JQjIXA0NrV28540Lp9nI9FIRfqCG3Tl4Yb5-jIw+B-fjptR9Umu6h-V73WZ54eJ6CBR568K5F6q-F7rP3h6EnJl4cRt+UKwHd9Ao0LV9u9h41-DO156Gt6F-19Yn98B9Vkl49+l8J8d7GHp814B6rhgsz6LOPkcvkFi7oQx6WjYHva24KCBYMkyDL-yGmViBL8-cKgcF04r9slCEb+VfuPeNqhYCU+aisD88BTvMW9dMCATLXbz-IFi7WQ-gH4C+F9Ukm4JRm--A-gi89ln706X8M2r4bT4pC9Ug35UUW4Rvb+b4ruPmF0KnJC8FoN0SC9D9Xo0JIzT6CNsdKCv+7JIxSQ-68FXs3Xf+Bi-83+P-YUlHAAHX8Y04nbdOAJVT0UYBnBNuoEVv6WI4mcRcThb2QHy8mAERWxokV3rP9Q+EbHwuJ3qLN5tIIAzAffzjhECcB89Q7DogY7ud9c5FWtIp3aZacwsmwbYNcFRhsDAiMLR0kvh0S2A4uJkO4IwFjSoY-cw4GNnjxbY-AcOxvKIAEhAFBIQBrdOsEgL4E+EM+eueAQE0+6i9quYwZsui0EEiRhBogsYOIK47YCoKyyWIAMHyA2h9B9yfQQb2fLx95BzHGNhj2iKkQNCTgm0Gx18GaAghTTctsT1x5KD-BfHWkADzH5j8lo4Q4Nk61OK2oWA-rLqEvgmDTAig3qTnrkLsrBo6AR3czkHmUCjYqGRQ-ISJFKEzc+Gu7UcqNgV71UNGiMDIVkKSI1DvUHQxIF70qHiszaUQHoXUMWz0VCoBoO4L3UJR5CChmgUYfYDKFMCKhdAKoWi0WH1D4OgHWHC0OmQzd3qkwg8NMNoijDFAmw6VDN1aG2QDhs1dIf0L3SjYsSn2PoZkPwDTBVA9mRiDIyYHvD5AxkYsKYESBONOh8dEgG9kdzHw-h5AAEfcMyZwjiuzqBEVQ2JwlMRgxw21KcMcDFC0E90WHK8K9q3CMq0I2Ea8JBEPD5MQIsls8NYLr0l8iEIGHCBUBWQCB4oaGGgIOR019BagwAcKUQGNECBcRD5PGm5GGCXeisKhngLQSsj5ANA+wTm11AwiDwdYAKgX1cFgCQBN0NkXKNf50DH0iog0CqPz6jFFRCw2UXYKCLidvSfTfANemKh7EqGJ4W0ZvHtF8M6ufcU0aADZF6AqG3pYwCU2IwzA288gH0WiylGt1nAMkORFZE9HaiLRZrVCIB0VF6BU0EnI6N6IA5Kiiwqo0YqexDHXCFw26b0QWPtAGjlRtgHMUc2TEljhhjTYseHwMhxEzWTou0dKzSEqpAGtiMkZXhIGAc+qRIlxL3HiKeJYukwHIJiDrC2cFmTnXTvME0DVtPR1bDkf4jpo5jqwvIBSCYQ0pZijRk-UYguPNFTjaAx9WsQZCXE6CmBa4rKLo2dF3BpWKIkeDmyFKdi6wcIuhMaPXFnd4oTrQgPsyv40hgxJ5PXManYZViQxw41mBF0BEZDoenPXLssKCCndPYEXWCQd0a6f4mB38XNF9z9DE5nEdAJ1v+Lra7dGggE2bnTVy6ew92IY4UfgQUG5c9ABjDps4ly5rJAGoAWYgAAkXatgAAILgBwALtAAEqzFIAAAeR9rIBTCriXCvgDMCxdHOTfWhGWMsA6jV6v45iqL2pCATDR1LKCURIvYzjlJ-w5UWaygkyBKgR4+gLY3Mm9xFJznZJKvS4k8T+JgkkSeJMkk2TpeBkqdkZLwQ6TTJ4nKCW+KIm2ASJw2FScQBugngrJr4OERwKhFX97Js45JJFLUnic4RdED4TzScRsi1izVe4qOOTATjkpeEPKT323GGi1JNYuSXuNKn+S0p8YxTOxLVbZ0SACXVSAAAZzCo0IqDeGrAKQjOYbCcJQDQRV5BppIdqQeE9itTJp6IrSocR4C0TSIs0gYFNMYC2NbsfUn4CgMoF3BNAs0k3IGzrCjTH+gHfplLg0KHThpKiUaXDwoYQSRApgNuDtIJR2BCosUQaeRPDrXS5mMKUaZ7G2m-S22I0sabbFGgdD7gN4GQCmDc7LANUDAsTvdEVBkDtpX-NgcDNNygz5SyLSTjG2RkaUjokM2wNDOkApgQhWbIYV-VMBQyYZEQ3wTjNU5uImBxM0mSmFamPSrAEwbIZ0hXALA2Bgo4gdLAhk0ySZdMy0UoPkGIz449oA0u6Hq4ECgifg+svGnryiBdBm5IHssgCQ8iIBGg78mITUkayZYIo53mLwlEQlQgto1WMqViCsy6Z6omAqUA8E9AgIu8aIQnFizMdQxrfPNKLLZlHMlZ5qPVH7NEC0yyZEQjrguFiDWyHACQsnnrntkRzUheohInSJEgMjBIDIf4HtLibVB0pnI8OqKNACuD+RZaQWbQPt48RuRbTdHnjyx7EALiFY40d-15FuDNRJ408bOSNlblNZXgx+IGOPDVApYmtPAJPHHmOwuRqg1SKXM0ECiCy8YgHktBrnYSjB4vAmSQCbmVjn+DYkueoI1G8i7ou8Y+cYDiJII16dSXOfTyNlkd+5yEbmagjsCHB85NZO-vtKal-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-bp8cAH8JUHW0cp5DPYAATn-CjRq9dlX1coEkG58bATlX1a3QNA+AJdGPeQY2VrVKDce6sKwOUU6nKzjATem0DSxpYNQ0AC+-DZ4KAVEhp9RzFQC7PSDT6u9FIHVJlNvQ3QrAH4W-KT2z5T6O9eQnfT3p5iV7xgF+uykkpkCRLolMUZuG2t213qrRnhOEYLv3UxSIldlF-eQTh1i7Ft0EAA1Erizl5pdrMM9rCAL0oQYmWCVwgeHKBwgTa-q8Oq6E9hztHwWwOtnAbZVpNEDM2phr+CZVAaeI2ERgGgf1qgA2mL2F0XOgx5r6Cq74ZDge1yWZLrASBpSD1EKqz1TQa+95ggddAhQ4+lUMfurCslxYDOpQIzsxuxhiGMeXm-RGxrE2ibl1vmZQwD3VjUHaDHUeg5+zhA9EFWk+r0ffptBsH3wvUXtWREUPg8bDNh-qBIYESJCjeQhywwjScPsHeWSUfZQwB8Pvgl9gQbfW+INWYqCdjYj8ulWVIiGlV4fa3dwNOiugdR56r3QQAGq6AhhZOnlm9nj0M6W9xOT3HRsY3h4vywwOgDeB1SFQZt302SNgdUi4GF2hB4McQdqMhcES5Bg3u+QHg5Jcjyq-I14BfFFHdoBvVks6kCINb8Ywu74jmJVRej5AkgYprvBBYkslVSRkYDwKUCpHGmUxm6K7syPvVsjhE7HGaUq3VbZoiIhnFcdsZDbltuEL6D8OQUUzQ8o0RPMNq4RPHV626W4x5tZymlRY72kdtdC41sk-jT6zxODne3fGPFCGCExYUTwg7YT5nX49dFsaS7g0Sqq43CakLonD4hBhAzS1s6KAu5AAHSwBCar6S+fTnRGmKZNedjVUqpJFshz6DM+hwUkJywCEmlVxJoyaSdPEUmqTPM2Q3Sc+bBijohAVwjdDy4aEpToAAAF4l1QAFJqIEatFP4B6ThxvLkqZZM+Q2TDGVA5yYbTu8RoFR+gNUePDEnqTIkWk5qfFOHUcWY1ZYw1FKCIlSAiJaVoRBpasQ8APJxZdaZFN2mtTjpvKgjRdMGY3T2+T0xqwNP9QgAA')">function is_empty_conjunction(exps) {
    return is_null(exps);
}
function first_conjunct(exps) {
    return head(exps);
}
function rest_conjuncts(exps) {
    return tail(exps);
}
function is_empty_disjunction(exps) {
    return is_null(exps);
}
function first_disjunct(exps) {
    return head(exps);
}
function rest_disjuncts(exps) {
    return tail(exps);
}
function negated_query(exps) {
    return head(exps);
}
</pre></div></div></td></tr></table>
      <span class='comment'>
	We use 
	<kbd>argmnts</kbd>
	because 
	<kbd>args</kbd> is already
	taken, see section 4.1.2, and 
	<kbd>arguments</kbd> is reserved
	in JavaScript.
      </span>
    </p></div>

    <div class='permalink'>
<a name='p52' class='permalink'></a><p>
      The following three
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      define the syntax of rules:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rule? statement)
  (tagged-list? statement 'rule))

(define (conclusion rule) (cadr rule))

(define (rule-body rule)
  (if (null? (cddr rule))
      '(always-true)
      (caddr rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPYZ4AhDD4MwbBQHAiDIOgfA8Cy00qIuDmwlqyh9xBESyAoSgepo2j6Ay+VhAA-NYty36EABcQtIuUz82A-GvUI9hC7BAviC+XoVJlTUhpcoswD4mC-tYN+cUYxTnPKhT8YUb4FVAA-HeZVJxxhQc2NB6VPIwLgaABBUgkLvlQaHDBBVsEegXMeZCBDZxXifKQzBFCA70RdPyT+mCGHJWdJqfhHDiCHzIdw+KiV+jJT6vxCqAj6GgBwYNYqsjaDyP6qlBiJCJGwK4TsAyqc9HxDIQ-c2kgEJ6BMRJJE0kMZQLIZglIJi3bONcV4mwnCCrcIhnzQxKi1EBIMNzG6L0hjQ0plA1RBipE7Dtso6oQiypJPEZIoxERvJRIphdIJKTVGMJyQ5GW+jMl+PZLHYOtCDQWLVNUkyODL7-BTgokKZjTDQIMdMFxhRWpqRAbJHOeculxMPgUwob9vDMCONHAAqsQR65cADuWJsT8lUFRUAABaHZRTd7SWEu3QOcgTLCFmCMgWlB8CgD0BEWilAWCyOUEsGxwhGS0wLqczmjznlUFedYvSegLlqirkzGwnRVFyFkOIW59yoysF2NQeoQLuogpIJ8n0NhJzAjoIrcgoA7gHI0HvFOHiPm9O8V4vq0liBQgPocWgTk+nUpsCnexUkZIYuICYKlbLvEjP5QK1xbSJFMtEVMD5hEUjyykHZEBeg6IEsmSohVi4ljFjpVMZVchTCsrfvURozQ6gdEhdC2F2LrAzOoD4UFcJFnLOoGsgg1UOa7BkLs-ZPzqyQqIgFAZighl6AUXQbph8vmC3LqPWSobVWhAfsLOBb99iHBDRfMlnc3TdzjeGvlrKbCBowkuWSI8Rkhpop9PNqswZqJkaVUx6DykC11uCRgS502HP+L1fq9UWixJgfG++JKWl6B7bRdR9AB3xNcdMjN0kx2zXaQHPV07D4xWqiE8JvMPp5q+Tcu5rMWDs05qEomLaNgQSNU0YgLQzXmvkLCg9CLxgcjJrkspxhPoXsKOuZpmaMbvtKTjIm0wYH3usFCx9nqrU4qQR3QDkRjDFs9cSvp-6F3oylh+kD1M+Xga-s+7JmYUMgqzUht0ICsV9PXFh99yGQEQbCFBmFMGaMQS3TzA6egC3gWw8BmJoGCPVG6KEboftqpFpICI-tGl65AjlU3JWcmh1YNAEm6oKaDg+DhAAKmk7w29dRdOA1AFJxEhn+2BhU6GAAkKEf11U6Ah3nCi6chC5yjJbUR7a27uMjkjXBks4NqZEvBn5yG0sYbtC-optmHMuZcfekTPpibm59LfoHLUNwXMEkIO5th-RZJ0axp+-m+aRWhGczkPLBW0Ixj0FY0JvHKt8aA9ExmKsZUPtY4F-Gjc8GNg8+wupXif4wkG3VohQDOyMgyzsKhKFhudNUykcbUpFusPq-OHEHYQwFrfsLJj4mt6qjUek5tXzcVuzCy7DxDImO4o1iHGFYXquufy1tohsk3ZMlCLigzcojMMGJeZmTrRnvqAhQXDD-w3bCu8bS7LShxXMElbYzWUPZiA41C0MN4yS7tzUSUjr+8DFfPkqoZ6bU-Skd47DpVJH2m6KbfEBHrWCc1u3owkRZW93YtxSAsLDPeeulIwyPNTGREzdI6L7Uu3QIS9ACAyXCmIKMcc7Wxhk2vu1OMPzoE0uFfAI1Yuks+CgKYhm54woDOdeW-QoqpXMD2c+IMVnNkajNsO9Z5dAnXyjdgNI97mhVvjezdd9a+d-wQ-LbbE7g0ebI8E5nmAOeTBWDsBXlwdeaA1qnbZIMdt-wqItvXNsh4xKohLg3WbKnbzgWcvsDJWY8P-fYvXLlIqx6UX0rRQeQGLWm+OPx23gjYtpqIJ76i95Zfj6nRyjCfAhZozT77whU200OUti5U4-Ac-lqTDauNZfoBOoe+TnpV21BjIgoP5SFaJ-ZiTQv84MVygJVOX3xTlqR+xogtmA2lr2misXVUwi1VdHvx+ilDhDAKXFMwgP5CHh2DgJjw1SgKzHvEjg2w1ULFQM31VFQMnW1T0Cox-wJiRgHCoy5zOzIA1i5F0BRw-zRychgXIMpEDHH3bhKwXg-jYI7zMj7C4ICjenoItnOUkk0nbwc0vVvFTTtUkNV26FxQWCWHi05kZRYNdDCyOwLzECsV4JJHD3xyGQwNAHkOUg7BMI1TbgCkMJejAWK0kLWBkILktHsOQPsJQycKRBcPhlkI4ODA8OALOyojpQZVR2ZRA0cNmA9FHw5DUPJwEOWi1B0AWEsL1BpkrzM1SPSLiNW2sAfgsIMMkIyMyGsJhT5VAA8ASKYIKPIRyN0HSOMLMAAB5Gi0j5hSCod6jCjVFGBZk9A4QAAVDIUABSYgbEMFHQdwGGcGABOOFoN+OEUAAAalABazCEMGiF0BuXdkcLMHWNMxWPWM2KqyiBiB0D2O6MqN6IaJtR01GOoAIBkBWWmNmMpnmOqUoCWPhDWI2I5xCx2KuPwH2KsMOPhELH+LOJsG2MuOuPyJoNEgyH-kAXD3FzAQN1CBEIkXGAyCUn4K-gCnezKJhViJ6L6zCEU2FlJM+hhOwVxN-iUhhNCFEOoAYJ0CYM-xxkHRhLfnDyJUeEJgOJZLU0tHyNFP5Jc2VhaNmEDERKYzE0I3hQPkFKr2eHUK5K0KQMpNZIGNtVJMLEWXSHqHUyRF9UKBY0tT6VxXsLCx4NKOE1cXXBJK8OMJBWcOTwFS8ODQ8L+0tKBFExh0ZPxJDXd012mkDw7AxI7HJLkCxPZU3RDNrjDIjVg2sGJOlOMLjPky8WpOblpLuO-nGTxJTJZLZI5K1KiP4V5IFX5LATVMLhaLOIflkDdHFKx2V3UCLNfnBmlJ3AOLlODAVK-ihWVLuVVOyNUKUGPQS00OrK7HQ31KOExPhGNN7zqDNL+C9TVEMz8n9JSCtLYy8VtMkPtPI3sNTIPIKhdOlLdMcI9N8K9LZR9JsMfL+G60PMDLV1vAPlLIJPDPeFnj0nnkXiz04DXl4AwD0KzD+ReQb3RQ+QnhcmzEXylHtTgoBTulf3MOiH+UoEBSeSDjyVDiQobkRm9iCMxSslxUwoIoQoPBBzMxhGfi71NFMxsFNG8QqzcV+mtA4usGtG4sjy73kIEvMO02EtYt+nYnEvYikv6V+gVlKFM2UrkEwR4rCC7wSjoCDlUGxFMx0r0qmIKk0tCC7weIEoeK8TMsLV+gUgWADg8DoEBgcvmCcoYGqFsusC71WPEpsD0ColmGxDMDuAAD5QBtl1iTLvLmKYCdl-LrBArgrQqIrtl9kYqRLfoTNZgUhkrQAQqiU0rQBdMCrrBYqu9gBEq7kgqCrUrIrQAwBMrpKYCABSaq-Kwq8Khq1qsq0ACq36Svfyzq+qivR4EKrKmAgAQgeGGtqq6uKpmuJQmpaqmDhFaI6vmtGtAHaOsBWsUpgNaLuESpGqKoaqOr2oGpgLCs2pSrOu2QisusmrWrCuOtytCFOu6oeuJTqueqGKmuqoatCG6usCmpsFL2fiZForwvgv7zD0cKJS-gUiUlNFmDosBTnihvg3RoYqt2oA8AACsmxGZEbqhkaeUzrRKYasLTNtJpVYqwgca4aismQsBoanlYbJsmLcou9r0TVTM+ajMGbATzLfpIBiAb1EoDLcrxbJaOZhaRafL7KtB3LYBIABK3LJA1aFbFau9NaABRcSg2nWkWrvAAOVUDNuqotrNp7JFSxuCyZp12MNJsKHJtuW6vcKqKdqQTjCZnZvwsBR1yGVdpSHdrOrpsZDRupvosnQbH5g6BOUaXqg5qwuZrClBRznYjMJ+UkBiEkCNUYDOUuMkAJtUDUGc2iHZh4wFSZqIqyAVFIsxWfJSCzsmFRDCAjNVDbIASrPRzMKRz73nPR14yy3pT0CZpTmzIBMBJ9vN3l0HNHtjmywnpjoxqv3xqJooHx1FNwtTtjuDpsJNpsGnM1OHoVCsiyEJWnJ0A1hqLKnPu0OJR7sAUfv4VZuAu6lAsz2Xggu4EwBgpmn5BTAoEkB5kMHQgUkYG1kWzMIVk8G8EHEoLKFgbm0KXMmHOTFfGQjtH+LhEkBOKBPhNBKQcoqoKwYAjtC-jfm0lQZwtXwUi5nsWkkamBNzO+VIFIHcEVj3gMEuU4fqoYHWL0FUE4cbLhBWIfgkYaOOP+NEdIGPoKgkYdjYeQJIAklkF8GBMuXBR0c5PUeTFkDWFsx-MpDhN0DwaGP+IYcolkGYf7XJpzgLuIA0akKuQhJRDhBwoMYxiWEcRYBEarjgdcALJzlUykeFjhGoeMRhDCbOFODIRfRpMDDCbMCCELhSaCbMCWvhDvhRC-gflIdaDieyLhDyZcQfi1RAbdHAatyge1jCZcTfhfVOXjlDjifOFZR+BJDaR0SUVSfqKkasfWJ8dkGWG8ACctHLQGehO8RWMIfRIgQ-l6cUTTlSdma8Xmf+NGb8YmaKeVmmayc+VWNZU8aadAB2aGNkr0exxccMd2cYBYDQamR2AsMacKUubhDEtmFyimaCaHIHFSdudcfGcedU38QuNiHecKCkYAHJCGc48H4XonzGQSTIwnvG7nfGwGlxGATIeY8XgmlMyg-gEGfBLQCX9rFalaYCcg6hjjbVjjy5FRCxZRvAWWvJFY7pnm1sLmsXNGKXcWJq5hgxKWqidnQWnnonLnBXvBhXAwxXgX7mcW5WkSxAy6K7SAq7KMNV6pNZUoK1dgiXWmE40wFFwm4q1qTW5xTMVmOkwpzWW7QhyaNWOQtXKB2YUM9XbpOQ9HY0aIqHNN34SRzWCnLWhi8mgYg8lmQ2A3wXVEaIQi2RKWdRNkqJvWDXzX914UIhrWrxzWf1bSr8BS0NqhFmiRlmr9mclEC3FSgHDBcL9XOQxgRkwtyaU2cQ02M3fXpj-WjXrz+ttgp6GzSmxKw2LDLRaIm3ZAoQrktJkHV7p2W3wVA2Xnh2OxxHZLx3mAfWZ2Y1on129RxHXXK6PWdXPQonCkLDD3MgnWbAXXy63XtWvWp3d2-XDXV2UgtM00b34zG3d3l3c5ryjy4VD1XA+C43AtO9fpI3wZo2K3Y3+3jsLVjyqSONE3vyJMwZ3V-gs3kjG4LDQ30GhCA3omHjDWjSllVlnBq20o5hsQPUCCJxaBtU+2iXCPSPClODOOXnyOFFKOnUXVaPmP+QYZjkAo2XGArdyAK4vAA46gGhWg8PTHtgcOP3xHJPFQcLrhZ3m2pP0IPFlOAiKLWhEDOta2iI8Ba5vBgIhhkI0b8s1R6VQBRhyBcA08wLSB5hFJHFQA1o7lZBpo1o8889YETlORNY9BnpsRZg7BoxGA6h2HB2swaS4vbVEvBm+WGgb0Whznwl1AouZAYvC5LQ0uEvv07iH5Sumx0u6TvFMsIvSBCvivAwyuMu1XnArE7Osg9AW0ntMcypuvUNw29MhuTNryA0USAFmvJAeBZhovJBJpKTcV8UPAhuwtZRIuFu5uRWBxIdBvKGB3wh4VVv1vsjBaWgf1ZUr16VjUjM63IMUPdSgsG22uNvGuZv+AAX6RCA1vDuHuih4U3vzvbucu6grubybvsuTUAexMnv0zIfbxWuauEujuvyRNvzsS1Z6B2WZuduFuvuuzPQIeVvfuzvdy6AtuivZvvuMcXsXgcG0fQODAyeAJGyLvwfnvH57AXg9uBuGesg73qgLDcptu0btNPu4ylwo7d7QhAx9uBeZBRxRz4ebT4NgeKeqfOZCedxWfGfYfju7lgfHgOef17NCg2zeefu-v7OsBzfZ6JeLCCepeleheBVdebeshlf7fQAQOEey2efkf4u6gXemelSMfw-EywYjKtAvPGsIf5JN2pvdhL3qUf5k-eM342BSmYhZApPU+2UH5c-2XNjpllzGsBPqPQBrOiEdyhuLTIMVPnAY-yAvOwxcUa-bO2fiUuuAJeuOhcVXOwtO-pO++4Rf5UTqxaLHPiUR-0Ihuhji-8-WaAorEPAYgEpYhFtQ-2DtgLDt+ifpecL1-6US7Fs9AT-N-Vhd+vZWhL-LjkD7-GDFUn-r-8PVPgxX-H+N+S787LyD+PCN-TXk1wAHOEcKg9VoAfxVxMBfCQA4ovXldg-8t+FDezof1d4wCPySbGyEeHU7v9MCEcc6BR1ybidse8dV8Aun44YCpCJAE0n3iPCSBvO9KLIIwBbQBRowuwJpAG0pI+YmEH7CHv9ngyv9bsSAzkn-0dI0RZgwRdjLeCEEg9oeRmFrA-BoEbkmEDAulswKIEeEWsb8dgSZFf6kYv+TPEDjwI479suegsCwroP2YFtZgVg7jv2yMGq88y6HXYADyDKN9jOPUWuJwKNZYCsQUQbICwADjL0+8DQJMNiH7R0AduYQ-SmMDoBLc8BQsAslEItYxCIhUIeIb12iYTs+wKQt3r1zOrbFAhwQj1KEPkCxDWGxQncJ1Dd7UtQgaQuIZNGQIxBHEWQcuihHCGRDoh5Q9IdIASFN8khSsFIWGwaEZD+AWQoNjkM3B5DeMBQ7qi0O8BtDAUowvQKML6G9dahBUOYRFSKG-AreBgTqITmJIBC9h+AJMEYEUg8ogYZhM4VoDpSRA7AvwLRsUPdokBrhnhc4fcN2EBNvhRLGkr8LDYaYXmCwoutkGWE9D+0fSQmCcKeZOtthBAT4VqAeGBDnhewiyI8KeZHDN0YRZHDcjjqTAcYB-CiH7kAEC5BBIg4Qaf0YJiCP4oA3wkxnXCyCTeoPE1GGwgHdFmEgvUAMSMkHOFshdw7wPOAcpx99BL-EQVUR5FUCOuElcgI4iFGx8ui+wP3JKNJEDC7SpTfAOaBaArEw2cITUXSG1Fkc9oBXJUbMGJFmAw2dpawNEwiA4ClRFowpBALzqKB6wBI-hKaO5FaBeRvhG0VIAsL2j4mrzCXuaPHYCigoworooGHtGbDCggYc0TGJSBKi5RkgCMfs2jGy82UloeMRmOpR+lomeorUfSz8HgxLiV9NsN8MCpmELCtVeEcLGlFecmwj0AOPOE05phWxtAWYCmw9EptVRAg4LBGLaj4o9UYWJMYKJTEKi9AXYr0RT3Zb9BZgOY6lD2LAEDCBxuqQlBqMLEF9h0QIr9iWN0BlidsMIxrAqMHEqpixhAMZhvz6gT0tARLVFmmNvHSjXOyIp4dF3x5Fd+hfYhtkxVc7Nd3x2IF-AMJBzMj5BLQNTMLAaJ0BixV49Ngt0JA3jFyX4wlNFzCyTtbxDI+fLwOi5mApGeTBotFzDBX1QAwxAABL61JAAAQXADgB9aAAJWGKQAAA8mbWQDEpdC3BewF5x4R59MQskUcU4G9EfkgBF4pYDBIQlyiLWz4mCS2z068TxJgo+Ns+PUBlR2x9AHCkpNKDcTZxDWMwqRPIlUSaJ9EpiSxPUk89pJunHiUVnklOAzCz4isTBMkBwTxo-E3lKy1kn9Adk3wkgWDBvQWTtJU6FyYJKV5ADvh1ic4eTQLTEj3ARVTYg2K1jNitJ+nMKFFJYDi9ZRgooKYo3wCcT3KqkviWGOICZTL69gWwFy3UQkBfOxKAAAyJ0Aot6FZLZDKl5t0IlAVoGXjKnRgKp3gMLO2jPCdTROjAf4jwAwm3hepmqXvI4hwpWJ6pTCbBj1wP5jSShNSK3K1KrES8ympmCwotOalthWptPVBtKLsAaRZpAEKQDECVRcs+u6vJqd8VNa7TNybE14o1LPA7T5wrU-vkCACgBClgKydQNrCM6-pMJOArNqlnGIICZp5-SgdtNunARVp82B5BLyI6uIiiEvb6ZIF+lyBtYloGwTCTRkYztY9gz9pUgUTHYBheMv6RdK97FiGgpQxLgSFyCUC6RQk7FF9LsA-SKZwUhHjwOBnUYvEz6fLigxQFcile-AwGUj2LwG9Hu0GcwUhOqKUir+edecJeSkJSCBUjI9niyIUEc4H4mo1jCyTfjkzMZF-EQQYM-IFRugtmP3tIII6IyHRhfOYGzPRkUzsZnydJobIJnBgRZ2gggFDhkBuDMeBcd2R+2LFOi8RyKeiMhA5FzSpCHoTKVdnJFUidA8s3-krNKJMyleTGZ9EIJyam9KS64EgHsXHGt8uioo03F-3nF1CbAscqUW0BnpSzes3M5MDcSxQi08AumduV-GuwUjiU+gmkSSGrmqyxZlIbOSBLu65cxsfLQuamO34LjS5mEcuXb1szm8tBXiaZDiPHpQD1AmU5DtLOfQ0zssUgMKNXPTkty25Hc6oOuALEGiixgZJwUPO2DsjN5f7QeY3yw7TQC5oJIuXH12A7ddghPXsQXHVGPAr5WQelrqP1GgKtxvZAWRPV-mTRLRkhX0bwJ-l2zeWocxQOHK5CRyf5aNf+XyKDa2im5f81BcOnQV7B2SWCnrn-LRo7dABjVMAO3N0xIL-RnUQMQjLTTEKw2H8zmKmKjE1Dd6UYyaAmJsDcKv5XRSdvwsrnVBJ2QihcdUDzFBsQF2o4sbnUohjTKZUhKcelIEmgAlxsAskcFkTDZB5wY0nqVqCRAnTkIZ03IGNOvIA5iAhctcWFlZSiLUxWiuUcIrCDFhEwF4tMEYpqy2LPFoQPRZgIGGiKnFG46+VAuLI7iwgc6LtCqzxYaLr8t+fxSYsum1COSB4l8QE3CUCQVUxUwlHpMkC0T5kAAGX1qsT1MzcWqWjBynPSBI1kwqVKOEmXjbuVEJpZJLMntKxgY0-Kdot5TRMNJZUPpR9InyqhhlDS2SLpLIklLyllS0yW6HMlTLOlIUmESUJXoFo7JR4hyU5M6VBKbAsBLlp5JhEoghe2yjERG2OJjSTlGIlENKNzqjLApLSxIaFNuEXDmS1KUxd1U2KqKGlGitKR4qlFC9spxclZc8r9LFiuQx6M8JS0nFCs9gBUoKTkrMJvLwplwokmeR+VeJQpY9KECsJay+TEpck9xRlOBUtZ4RjyrlrJFJU6K-SyeN0jCOlGw5El+LIVsit+HxzgsO0YQGFl-FqdFW8IFlZSwb6CweVJADWaBLqBhtoVxFVlfCrlYcqmV0TcVbkDM40qhWVRRlRiOlERAYJffAMYkJPiQt9AaE0wGkwCALYm5ZqrEWDEMC2olgqkxWYrIaAdLVJ3mHNtYtdV993VJPeDChOJS7Lqe8E91QD1xRcMBiYuJ1d8NDoioLlKI6Lm5Msm0BblgQ0VaEF2D5ZmuSa-yamt+CD4vEbzdyR2LuT1UI1R07NMWsPE6rgOd81+e3HtV2AGlzqsSbYq5UNsXJYWbxRoDTi2LM5nql1X1ANUFTeZhQXFAGvEDtLHJwa5ySOrDXwZy1YuRaTGruAsl41r4orngWOVeSmemaqYIms5ZZA81LAAta4i2lctZg8IxddqGXVMra10s7FCdhOQKdm1tqYlW2KrVEt1F7quucOh07-L3V0Tf9apJEafrtOL6kDT+uxSNrHVValte0tA3JreUj2eDJkD8lJT6AYWYpQZLokMTmJ4AJjNhuom4bjJVSotUhsvX1U0N76mMNeUvl-wvGzMSMi+vUVtroNMnJtYtPzqtrLpKG4LNRr6VYbZlpSipQRqBDFKRNlSkcRLzGmUazqAm6lXRoghwgGN0EqQJqWLAE1gUcaIAWpUNa2E0Y5GTTRiH01mFsZlaZAiPGM0iA+2SXQWPYIM3iwZyJ6c8BIC03oodNRqkJkrDjQ4USsOldzRQFM1ADzNvcHCiPAC0YhbNZhBzcgVvQ6AHIUIOFZ5oGGha247cTTdQHOnWbt6SqnVbpvU2zlOYOWq8CVrq4wsqBOS6JplvOlWbaAgWzrGVsUaslo88qkrCVrNwNaq0dvOodqsCGE491QxOlscWFVCsEC9WrLchsAYBbJtqwtzVFry39aCtzmhLJFvRRrbt6FrWJb2RBFLCOhFQmuojla1wr-N82kQHNroBdatVkhFFb0h95JV6qM22rQJHjBnbt6F2q7Xdo5x9bfgJcQbSpsYAjbjtY2s0W5sm0r9qo8WveEKkq2crXl6y95RFNzFYqwqPW6oHptG1ys9AUOlhvKrnZyKqspY+wOWKPF+lYE92hNHuNvrE7q1KIrQUvIaLCwvtYQH7U8zRD-bmWQOhJSKtmA46M5gDPqE2Hyy4cuBiQhnJQJvp315EkRSVNKJPbutPWiqGHazrxgukEd6Kz5ZgnVGo7XEgurhgulz5ThyB-wUUn8yA5BTPFpBSQalVl7kdlAFcqRWuSo7OpnASorsoNL2R-ETmS8+7XCHl3PsQE9yzLlkpp05L3ySvc5kzpcQq72dWav3Y+1PaK6NUXO0lNJFZWmZ-dZ7FDKzVxQKR02RlcIWFgACcHQAKAXv0ph67NZeiQMZRyV51HEvgXnRDx4H-DzVlJYwfCmcDZEqpos6wOXpMiwtYWhYNACPvTU9ZrSXifvfs0MBmzqg-euvYlEQahSLIVRZwPsnPyjkA5femveEIX0N78cee1zbpXCEPK5Av07EG2g7QagHVi237UANZ2x6rWZ+-SpfuRCFhMdeLUzOoHP2v6IdYMV9qlHlUxA91sRbwOkC5Dy121hKHaGFg7YbIhg6bAA5yBvG+N7kLjRzkcTaD3L+1dyV5IwHANS1QAOTP6AaP5AohKSU+uEHsn2RIGGAlLSdXuusDUGlQv6+oTvv0p6AJWcKnaKGF97w93BzPJ1TJ1diOqFO-aHgxD3-WLS31kGiDXBo8QSGAez6PAwQY5hEHgFXILIGQd73cj2DJkKg9Qe9RVq1QYhzcoYb2QsG-eAhq2XPr0NDFzD+yeg2uIYAOGEqTPefRWL6ShSkdL5FHSyS4NCtDtItQ3XGGN2TiLduB63WdQmS1CP9+LIGETpk606nhdY5XkqTfmqgSsOQOgCskQbAH8sV07lbAYRWdsED3bfKagfyOEpMD2BoEKeSRBMU4j4RqndkorGpGRpjcGkvYXK28sEQzxCMZcU9FDAomtmQ1PyyWBwqQj-IMIztHnabhujVRK3QQHqoTI1N-yqLDqS82oV9YvgATH7iOVZAmOdYWgD4t7WXSQtC7WxZZrKkeI2NAwvTYGFa6XSeWw6LvN-pf3LBi8+TINhgwHBXGrItB+VbC0056ApFAAHSwDfqQhUIYQ-gFtQBMmdBVFKp8jZRD7nwYB9kthSwCAm4VwJ2SaCcrkQmoTtM5YBXDhOPMbxaaQgLESqLFcLC1J0AAAC8o61gCE2EDxWknrE8JpY8V2ZMomRUaJuECocxPVhzeHwcjNkdyM+BgT0Jzk+SYCbzUfmv0VQMcQ8DHFSAxxeloyFhZMg8AOJwIzKZJOwnuTipkbiqcNjqnNT9ywU0qCAA')">function is_rule(statement) {
    return is_tagged_list(statement, "rule");
}
function conclusion(rule) {
    return head(tail(rule));
}
function rule_body(rule) {
    return is_null(tail(tail(rule)))
        ? list("always_true")
        : head(tail(tail(rule)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	<div class='permalink'>
<a name='p53' class='permalink'></a><p>
	  
	  
	  <kbd>Query-driver-loop</kbd>
	  (section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query-syntax-process</kbd>
	  to transform pattern variables in the expression, which
	  have the form <kbd>?symbol</kbd>,
	  into the internal format <kbd>(? symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>(job ?x ?y)</kbd> is actually represented
	  internally by the system as
	  <kbd>(job (? x) (? y))</kbd>. This increases the
	  efficiency of query processing, since it means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>car</kbd> of the expression is the
	  symbol <kbd>?</kbd>, rather than having to extract
	  characters from the symbol. The syntax transformation is accomplished
	  by the following procedure:<a class='superscript' id='footnote-link-2' href='#footnote-2'style="color:green">[2]</a>
          
	  <div class='snippet' id='javascript_95_38_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (query-syntax-process exp)
  (map-over-symbols expand-question-mark exp))

(define (map-over-symbols proc exp)
  (cond ((pair? exp)
         (cons (map-over-symbols proc (car exp))
               (map-over-symbols proc (cdr exp))))
        ((symbol? exp) (proc exp))
        (else exp)))

(define (expand-question-mark symbol)
  (let ((chars (symbol->string symbol)))
    (if (string=? (substring chars 0 1) "?")
        (list '?
              (string->symbol
               (substring chars 1 (string-length chars))))
        symbol)))</pre></div></div>
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<div class='permalink'>
<a name='p54' class='permalink'></a><p>
	  
	  
	  The function <kbd>query_driver_loop</kbd>
	  (section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query_syntax_process</kbd>
	  to transform the syntax of the query to a tagged list
	  representation, where the tags represent the kinds
	  of queries described in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  Along the way, pattern variables in the expression, which
	  are identified using  <kbd>is_name</kbd>,
	  are converted into the internal format
	  <kbd>list("?", symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>job(x, y)</kbd> is actually represented
	  internally by the system as
	  <kbd>list("job", list("?", x), list("?", y)))</kbd>.
	  This means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>head</kbd> of the expression is the
	  string <kbd>"?"</kbd>.
	  The syntax transformation is accomplished
	  by the following function:
	  <div class='snippet' id='javascript_95_39_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPMXVQAVqoah0KQ0TsxhS71ZrqV6H1uwC7rUiB8Hoc7yY+U2AA-KAuUx3HCdfrMKc7yFaYn9MZ8FQpSnz4vy+UKvHrr1opvTkswc6yRPoyd+oAABcQskTbxoqfaol9r7n0BuDFSZU1IaQQbvJBhRYE7zDHgBCDB8DMDYFAOAiBkDoD4DwFk00VCLgcrCLUyg+4QQiLIBQSgAGpliAyKB1hL7gz8MImBcCSRCIKqAFBGRHqEF2CBfEACvSYIJESeBDJZjsPwdUWBcUYxTnPKhT8YUZEFUvswsqk44ymObOY9Knk9ESMMVIJC74zGh0scg0ANiFzHmQg42cV4nyuNke4gO9EXT8nKBI6xHpolyk1HE8JxAOFuJ2PFRK-RkpP1SgxA0CT-FJJyaVVORTjC6IyfoghOwDKVIscU2Rl9zaSAQnoRpEkkTSQxuUN+sihlhEaW7AZEjhmhAiQVKJEM+Z1JSIk5KcyDDcxui9IY0NKYDP8bUrJ6tjbxNaaU5Kds2F7MiTsbymyKYXQWWEJZZVrkORli4i5Mz2SxyPmElpVi1RfJMjYzQ0k9CP36oU5p8QakcMGZM0IrU1JqNkmAnZej7mhEIYwZgRxo4AFViCPXLgAdyxNifkqgqKgAALRUpORoBywl26HxMsIUBVd67JEoPgUAegIi0UoCwXJyglidOEIyWmBdmX1QFUKkVelQUkDZbnJkNhOj+LkLIcQ3LeVRlYLsag9QOnyrFXvawk5gR0EVuQUAdw6XAv+CnMZYrYVwoKn1aSxAoTsMOLQJyEzXU2BTj0qSMkFXEBMC6gNsiwGRqjdUR+GSfWpKmCalVYR5ZSDsmovQdErXosWXTNeSxiweqmLmuQph-WSPqI0ZodQOiqvVZqn0NhvDYrDYWfFhLqAkoINVDmuwZDUtpcy6sqqiIBQRYoJFuC6DQtNeucuo9wE0U+sIy+wthGwP2Icbe-CQXoy7lXWdEbdkwqrTYKdRbZIjxRTvT687VZgwCeUvJZUCkVXORwiVGbliMCXHulhILer9Xqi0VFtT80XztawkDtFBoxgg5koZhD93-DgwNeaSGn1MKSSs4G86JVcp5azFg7NOb4epuKltGwII1qaMQFoDbG3yE1cRnV4wORkxua84wn1TWFHXEC1hh7uMvJxkTaYejmPWDVaxodNGbDmtE5EYwRabWgH9cJg9ncxNbIug+6TUD2MRCzYuB1unVNujUdR-164VO3CLTJsIcmNUKbsxBAJKyL3gSljxmGuMpO1Oc6EbooWJ3VSvSQZ0jHWgaQ5bRlyTclbxfzRu5uUDt0HB8HCAAVNFmJsXcvoKi4iQr4HAypdDAASFCBFsGS8cgEkINORxc485diBCZ7aazeYhglaEc1wMNNzKxgqDraaUi-rZhzLmPMDq439el0o-rYGBy1DcEO84DWtdCf0WSDn-NpKoxGnzKRGvbZayEtCiH2nebjVGke0sAtE1HECVzzaoG-rsY2NrPz4hLavjCH7u2bvzhxB2EMq2dieJQn9qpla4UoJhLD67TiVGdkgXC2BwtnPdD9tVAJZz0nfpbeat2GmXZjIZM581GsQ4apG1t5roOnGyTdpNmaJZQAFZSS0BgtrSsxfA-T9QTNEuUm0-8N2sahnuo20oRNzBk1dM1mL2YvONT88fTPZ9STnn6a-XveSqhnptT9EWvQPmpc5szE05xUKzvVDRbr3DyUYu8cumeve5q1EaZtx710ludHe+czFjHlvA-agh6BEPaj53OfXGo13qoX3GPsUBf7Xu9ESvDzH1R5m9Ag7R8BfPmPZfWBt8XzP6Fs0h70RX0PzM3dlVRzXyF2fam58KxH7NbfvGYgx+M53aG9D9-h22OvBp52N6M+8EhekyEUPYNQrgdC0BrUYSRcE-7-hUWNxBSlDxbVRCXCntk7TOnBvsDJWYMvvc-par9aMZGDWeqNd1QGZ3r99LnaAe-c+7cRir+hqoqB+SW94kcUo+AhYL++qoBekps00QaLYIa-S+A4BlIK040MBoAnUWcbIjq1AxkoKmBP0mMY0oKswk0BBycekiuygSaTkGBj+y0kwbUOBswG05+Yg7SZmmEJaroZBNsUocI-BS46Cgh-IQ8Vydufe5mwh4cZ0uU8eXkch5mSBqo4hxatApaY+ChrBEU3swYNmOGqeZAGsXIugDBTBOMOeLa64gYgBAUKm5C8C9hQI-cfYzhhOFh1AsgrsLKkkmkD+5gdWEu2wO6PgbhfwCezI5qCwSwM2nM3qyuCoGmuOW+F+puIqwRykHYf+SKihUR+ReohR5mbcLhwRGOB2wRaw4RBcloMRMgMhzR16oKdRFgDR+MlIgYzRZhbI8u7+qRvqEmmC5RGqd+HISRXeDhLUWoOgCwpRmQNMx+V8CxSxHoa6Qyl8JRl+eRZeExD6-+0xDBUG1gsCWQugSxhxZgAAPOsdcfMPoRqucdBm2tQDlgACoZCgAKTEDYhqhVzuAwzgxKJxwtCwJwigAADUmmD21ghg0QugXK7s4xZgcJ6C0JcJTuoQSJMQOgqJLx-GVamK7acIPx1ABAMgRKQJOgIJlMYJXylAkJ8IsJ8JCJ+JKJ+AaJBRGJ8IhY7JuJNgXJhJPJxJJc7cGs1AiiyiZewemChGLaAU7C4wGQSkHh8a1UF2yxkxoAWxAmU2XCrgzcup2xca1iGSaptcVuCJrafhVhOgNhaRdhkGwpsCZeNqjwhM6JwpIihcBpfpkiOpO46JswgYBpnO4W1Q7G7CXpJ+zwyRzpox0hA2hQHxRwip8I+K6Q9QoAGkY6hQH27mwyymwRGmrheRRmwy64OpbRhxHRSIp2dpga1RM6-RUZ460ZBcqp0pGpwW9W00eeGideWZHoSpQIKpVpfZ28sxUCAUOphxswBpaZRpSWwsZpbxDyZ61pSkfpb0lhBJyZKuaKZ2HpmC8ZhctxuJl8sgboloWxy56gW5KQHpW2ystx4ZJhYuhE1Qaqxm2qcZaxiRSgZGs2IxyahpYQGZupnaxAuZnq+ZSIw6aohWfknZsmTaJZQyZZyFtqlZ7hA5NZEEdZ1RDZ-RjeAabR7ZdRGFoAYWXZPZ056ps5HCxCYApCTArAK+nAtCvAGAWRNk-KgqVAwqH+B4YanCEBEc50Ha8IwlsqmhbIClolSwAqQctyocYqE8BMSMA4JqYY5qKllAYlnFguMI7818po6CNgpokyzZKQ181oNl1g1o9lFe18URLloAUR7lllv07E3l7EflhQ18CspQ6C4VcgsiDlIyv0CUdAQcqg2I6CCVSVgJBUsV8Kv0GZLlGZwyWVl6v0CkCwAcHgdAgMJV8wZVDA1QhV1g18MJ3lNgegVEsw2IZgdwAAfKAJSnCRlfVUDqIVSs1dYK1e1Z1T1ZSrSgNR5b9MVrMCkONaAB1TalNaALlitdYINdfMAKNTym1StZNb1aAGALNf5aIQAKT7XLWrXdUnWXVbWgA7W-TH7NW3XHVH6PAdVzWiEACEDw71h1d161ANtqP1F1UwcIdxN1wNn1oADx1gENoVv0dxdwo1H1a1J1aNSNL1ohXVsNE1WNlKPVuNv1UNXV6Ni1oQmN91JNtqR15NegcIf1+1J1oQ911gf1Ng++78TIRl0QIlJlcq3UNRNqUCn8g41Iswxlpli+-NxiPlgtsq4lg+1AHgs8TYjM4t1QktwgWNnlytql6C2kqalFNgstItB4TMWAAtMqqlCGJYcYAuQ1Uw189Gda6CHtsWg1LZ2VohkAxADGiUKVi1gdwdHMvtftDVxVWg1VsAkALlVVkgCdUd0d18ydAAot5VnWnX7dfAAHKqAF37VF0F0vkPYK3c6W2O0NhkzjE62FB61Y1NGno10g5Mx21C1iXF5IqN0pDN33Wm2Mgy1G3C211Tg20BRSo12iqKp0nsSKFSoxCSA1qMByDYhHnfwci-zsy2muo13qVZAKhaUkB51hA5yL1tBhCDmqh3lKLHlOSKFDFepK4plTA+braep6Cz30FLkckInt3p7R5hmf2xwbY-1j1y2i3q2a0UB-5BlK323j290VHn02AgVJkQUKhWRZDWogU6AaweD5Jv3JojYgjKLYM4xMi4AcWL5cWUIcA0LcCYCCU9S6EpgUCSA8yGDoQKSMDayw6KEKyeDeBS3GEDhCNY6FCXzmTflBJZB2jslwiSDYliLIlikmTaRSP5qwLaPJivjIQlwBQv4KRcw9LSSNQaMJaSqkCkDuCKysIGCgJ2PHUMBwl6CqB2OXlwjQmXy+OSJYnsleOkDoMFS+MOzWMyEkASSyC+AaNKp-45yr3ECxMtEWDVaeEkVRAEnKPM3smmOUSyAWPgaS3JMxPJiyCJPiqYkmBwi0HOAVMYxLB9IsCeNVzCMmlKw5xpbwjCxwiZYNIwg9NnCnASIcYbmBg9NmBBCFxTMdNmBg3whoK9PiOtAjNrFwhoITKXwlqcNug8OD78Paw9MTKwIcaHzxyhwjPnBVo-Akhgr8SfrTNvH+P5NwlNMBGtNrPtPVwvNCmTLQlqPynYLwKPPPxhTTMAvDJAvsmfMtPeBtPaQoovMYlVoogDMoY86pOVP-BwiBVKoa44vNPLCIvSOvk7AlGnN+LwvM1eWzC5SWg9NfkDjTNEtpOkuMAsC6M7Cim-O9NwgADkajOcyjwrgzopRJPTDT2LHLPMjAJk8rq1cx65ppfwojPgloSrYTwy18OQdQWJnxWJ5ciohYso3gprXkisd05L25tLWrS4Crp6gY2r7LuLnL3Lgz9rfYrrcwwYvr8L3DjrHVPB9M2Ig6uCnTew2WkbUCsj3hiCgzMFO8cF3avaH6aUcw4bd0MrUhjMkbhhooUgJRJ8cbfrA4pbBi-iWKnxuCqbxKzgGbE4uhMMjK09nIFr6E5AFcXgAcdQDQrQJ8hbYbEbQ7mz5rjAioMr1wUIE7g+YyQ7KrRhrQebK6eC7FoAtc3gwEQwyEMtLWaoiFow5AtDDDNU8wikfSoAa0PKsg00a0G+G+p8TKnImsegz02Iswdg0YjAdQNjPRRbyWZQ37nxf7rz2LDQDGLQZz-ie06g77Mgn7hcloIHv7-GL58bm4qHYHpJqFdAb7H7LLwHTYoH-GobfxORLwyEegPuitouZUu7WQGm18uWjHMgxWnOk6CiSiCHnMPAswH7kgk0q5XOhgYJHgbHGmsoBHiHkg-H5bZQ9HVHijdF7GlqEnAEl53tLQUFERjTnqtasWIWLGbmIng2it2HUnr7pAvHQnRHBghAGnRjdFqQ2qlnax2ndQungmdGBnUH9a-qxZZnPnt4gY2HLnjFKQDFsmk5as9AFrtn8ngn-AT5noUFQ2jnkntq0nNngn8ngYSnbHv5hQanmXmnHnfnda3niJ9gLwA4hXAE5tQyJRuUeXMtMbyXqXS4I9iDoQBXauDHAEb2f5WFwXZqFnJHv7Vn+HuXsnKXCnDnTnKnxnKQ7G7njwnnAmtWhQd5dX9IZXe7WA23dpJRJRnX+pChTXD2O4B3KnTIx39Fo3imsiu3YXk3dQXXLRK3LmUC0X9FsXYMaVWgpAzx3LIn8kPj0pspmLSOV83HuwPmsCbAmzMQsgk7MPrql8qPFrTuZJtbLA9bPazgW7TiKFbHhZMXenoAQP5AIPhlitJPO75XFHZubHNHHQ5qx7GmjPg+bP+L8P1YRlB7tqPPXbAEzN2P6PNDAU7SHgMQCUsQsOn3xRMbSvF3aXMrcvnqR5sOegWvCvqww7hc+vBJMhJv1h2a5vhvS72wgYVvZv8vR5K9zR+hCjIR-RRvOXrvhjWQD8dRMrL93vjX6vS4fvTZRvexlHVvQfe7IfLRYffwAxNkR4BbNvWYkBslKbyzbbcXddr4IKWfzRRLCFUIR4kgF7nqWQjAe8JjtcgKiCIn3WgSkb1Xon1qVvlOjv1hzvVZNECfX3Hmt4HfFXkHdaZ2l8JAJfgS5f+rVfdbTATZZ5M0uwJkVvlu9vdFQXTfJbiCrf64JR0YK-PzECswh-JkThu-m-T3g-kuNE33f3f364Z-kb5HSJ2QLAAc4D7+DQSY2I4GdA8nH-slTGB0BhOafIWKaQAG9MgBf-KEKAJo6DMSihMTqFdxapuMog7-T-oOm-7yBgBVjTATuBQG9cESMAkAZNBkIxA+kWQBeChF-7-9ABuA2AdIDAFZNVWSsKAWW1IFwD+ACAqtkgL7BQDUBY1Y6pQO8DUCxKXAvQFwOYE0chBQyGjljTf6-A9uBgTqJKQXIYDlB+AJMEYEUhyV-2gsbQVoA9SRA7AvweJpgL1rz0yOzeVUEYPIAmClBbTJwVGw3IuCy2m6KtqIPXrZAJBjA8DP6kJiaDuWV3BQfdXsGODghFg5QRZDMHct1BhOKiB6ihBcpa6kwHGGrwohe4PeZORWsP3-xd8nSPfeBGr36KJ4IIw-DbpV1ixltA+mQrQP3x5b7AHB3gecCVRB569Ch6-QoaeiyGNDyOzQvpG0OB7PFmhswPoQv0T5G9miPjfAOaBaDQky2cIOYXSAWFJs4OZQMYdTy0BmAy2Mw6wIMwiAp9mhuwvxC-UkCpD6w6QuJFsImH9FDhxbGNicNGaUsY2WQ3poMNaGSB2hzxQMCcLkEFRAw7wgEdUE+FBQfhPzf4cQLhSWhgR0IyZB2UGbLD5hBrV-gSTwZtgnBrVFXrukOphCeqwsJPj1EWBawA484OdmmApG0BZgSraNl7lpE5CgQ5qH4W1EtQVoNMYI4YbT2eK0ithVI4gLMHhGTIGR-vVgZSBZHlprUmzFYVkANYeCMsVbR0hiPBxRCJRAkPNOR0IABF5efUH+jsKN7cIcmsQS0CcKJGgBj2pg9-rxyS6IcWB5nbnC7WPbWiBOtoznLWS07VCWgcifMs3GDLkcdRVESQIJ0JB6jOs9osTh+w0wmidh5QpLCnw-ZmB-GaCSRB+zDB4NQAXxAABKZ1JAAAQXADgBM6AAJS+KQAAA8gXWQC2pMi7cfAPYBB7JJO2iGTkY0KN5ai1KBnKiKGKGG9MLRAYsYPyNkicieWFo9QGVEHEytRxpQRsZO32wKDwBWYnMfmMLEljyxlYycbV37GzsO2s45scYNaGKELRWIgMUGNk4hjhxZrHcZiCpROCc+YMBjNuLR6Yghx+4pwK2PAFOCOkOgyWheiyHuA1qTuEHk2EehkiZxV4P8QTx8qviBRkw+PhejrHciwJc4lsbBMlLpj-0Z4aMCQCva2oAADB0HbiMYiUtka1lgO+ToRKArQY3KRKwn8hvAGmDCToWwn0S4SPAWMZSEYkIZmJjAGVu0iImBIfe-wNXpxMuZ3w2wlEnETljQTtdd0Ik5kmJPnCUT7OOjcjnYA0gCSAIUgGIDmmta0ducck2+MBEokZEaSJEs8KJKMlUTnMAUDAUsCJTqBtYi7L7MaWb5DtAcfE0ybryz4GTyJ4krztDj5QxtK2OxKCbulsmSB7JcgbWJaBP7ClwpkU7WBfzwRblCEd-d7GKNt52A7JDknSYo3I4NBsBf7AkLkCz6lDOiypftFlIik5T0mz3LVCRg8TJht4tmYZLGQ2Ex9fe-iFqa6kcK75vuoWa-gGnJyd9te3fecC73d6iiA064DwB6NH41CESl8OYW5j9KwJ4pOUtfpb2K6yJug1WILnVKp6BTd06TcfnMCqkJTj+4qWZutKinKwWiFdC4gQDFwyB7+6UqnjdMcmIJyO5w1IfqnojUc1e45VCRKnJyFCRpBvC4eNLyJlSmyzmdjB3yWabdwevnVEt8JGGdDRpTpS3j0MFHR1QgQMsoQA0e7yZ6pHGFPh6Gowtk8AuWGmVAlBmYzwZTvKGSUPUD9DnJQ-MGYjM9F1BAcJAVGRCKV7wjNphee3m-GqzizrA9w4ZKlOSEdSQiBMqaSZzYzaoCpG2KQGFCBkwzE+9RambTOqDrhkRqw1Ee9kGkhdb+sswGazNQl45b6bIPmTyTRncif68nXYPN0ZFU8Zh0olERj23KGzZRPsjFLB00CbCXZk0PYcEQeHN9dgnUImaEGsRJCFcv0-wlyGo7RyZabsuopHOOHCdahCc9-EnP+lZAf683NOcDNOpgAaZuWSOadxjnnBXhu6V2b03tmcwIRfwogS2T+GTQQRYQZuY7I6Emj25eM6oCaK7lCjCgiIqtn7IWH+jM01rXwOJlTLgC9YUBDiAvK9xiFrWSlOsLQETBai0wjExQtpAPkyFOJYyA+QaK6Z4QBwYXXSbazjmu1ma6geydiB3wSEeWcjAcMfLNFSpKIjE3KSEV5HQSaRwbDpOVKZGK1Ew2QecIxIYlagkQGk5CFpNyAHzacitXuZKI0xVpe5EIwBS0LfHQjiwu8tOJAqawHzu5hQEUbDIyn6dUZGCr2UbIDnQZPB9SKXEG28AmRT5xBEyCQugW6SARSo+wJiKiHoL1RFaNCfYAzHZjJARY3FAABlM6VYn0aUAIkuF6x1VRiS+LwUwT3ZBcdsZDIaBdjhxZbPsZ2LGAaLuxB4wZlOKeTWtZIMhaxWZIEjzjqFkinMTIvkXgANxboLcY4s0U9ijen4r+q0AvRHiohJ44MeNAvHQiN5WQG8cEJRBCDQlcQ5mtJKtaxLbxCQsGFKnMUoSdFAHLEMEK-FaAfxcKGBfdSdw-zHF-89rlosaFCCEJDYnJUAtQlmiuQZGM8Eqz0C4Khh-fS0b8EUKfj7BJS8eeWXKXDJAlX-KEJILOwPikJiGbpa0LqVnZ8R-yIOJzHMULK3xLSxvPWWCFmjWFnSpVr0pcEgzFaO0fWraidEDp-gvrOEAcuDYU9BY5ykgHNMM7Qc-EbSjSmwoVZdLg2xyvZYM2eW5BV2vy9hael2VxCzREQAMeL2eFLztoRo-QNGNMAzMAgMOJqcisyXTRDAnxJYPyMhn6LdR-IveE3xhXUdiV6XRWpGNtThKzx40Yld93NT2MsUQefFU4P7pRoklVowjvCH5FxK4hjy0ILsBay8dLxT4-oPyvf5f5hkVLK8f0FmArLmVakt0Gyr2Wc59p6UsWNiu7Z2BHFBKgMf-L0lidORGmQhRoDTgoKus2qaFZ2NhXQTupKQc1NSvECdjTxnMc8fasZUQLHAyqvVeyruB+kuV5gnlTEpkCSrfggqi2iKpDWMTw1LAaVc1xjaMSFVx1JVUHk4kuD1VpsmLgTiyX9s9VnxOZbkGJUXyqlJastjOzLVyraAPLStfyM8bVrw007fNfWpLUtocVuq-FSvQNUMrwF3OTII+KbH0ANMi4vMQWOLGliKxnioEKOuXETq1xii2VeKupE8pjqA6oteLgLhwgZS9TWwU6HzV-zz57anVUsE4ndrOxhq1Bf2rkBQgNFI6qRe4oUXOZR1j6xdUmutYpqsa66jRW6IgjbqTYM80CuRkdqzx5U96VwaaXA0ysVMxYUDSIBPRG8Ypq6E+QJDdCwaMQa7AwY4WDBQa91NkJMglTg0SVwNpajcrhq1V2DLMhGjEAhvAFIbe4MrEeNRpECYbFCSUyotVEYw6AHIUITpSRro0JsGNts7ecQFnjUBtJ6Gljf8shWlqkykmiSvJv5jhz4FTgwZrBvE3ILUNIGjDUXloBEb+Y3c+5ewtBSWZFNum0TRhtOwPc7SEK9-pKWFVQ19WWJIzQq0kJ6aNN0vaqIRo01SCJA+mv-LZv6WyawKnMZjRJTC1Ka-EzCilt4PEG0C8B+9YZC5pZRUa-NNGiLccUC0hCjuS1Y6t5u0lMa0tLG3zXQH81WaESWWkuA5uZpGtCwyW1Kn5o80qLONMgbjSChjSwS+lYPD8YUqGV6D4JoyrqjlpjKXzAM9KaSN8pMhcaeNk235g+jHkil0RgilUcko7KnxrN98gRd2xW1Wj7hEsnHM3DFkpBKtaIarQiGoCWs7laGSbegmm3SRPNz6KiE2Baz-AnJVPG3FnwIZEMSGjBF0tIXI7b0l4K8azIXg62VbVwtZXrd+P61DJPZQ2uXE9vsYgpUeU4fPv8CDJMt2U4K4IuQrGrKAH4k1XrjBXx2xzo6cILtA2ygnWojwKFbEkdwlmFRAdu9EHZ6BRB3yC0W2oRatszlYthYTXE7cyDO1M7gdRaZzddqVboJhdf8Fnd1wInMiKU54CQOlQ0wABODoAFDSq-8utBgGvl5qV1a7PxiUMRoYFmDhpG+1q0bYYAdUuZRu7GZwGsVwmt9NdyVPQIK0FaFg0AnuyNZhRJkHSbAzurRgIJRX9T-d+u5Kl1ouF9JohH-CyKemcC0p8Cv3N6aHsSoG7ClRuo4LMAUiBiA938uQM-Nfn-ANQuK6TXZumFkVghp2kVTKHz3JVC9YuoDEsAl2gJa9L8v9LLrYZK1gEUgTpTEAc3LlvA6QLkJHVOXc4doGmWkTiHJSBigEt0TkHqOaa8pUmB7TEm0DZ1wztUwqRgEPpDqgAlmf0VYfyBRAicA9zNGlLSln2pRQASrF1Q5usDn6lQpO6wKfsDaHLQwxM0zuYD+7sZ8V3bV2Hiv7bgYdo1u0IJWs4mFrW1Laxta7C4VdLtpRQTfYPv8K7799XIK4oqCd1h6TIcIc-TSjw5Dq1QgBuoMOlwOP79pD-bNWEFP04HcDtKG-ZKIYC0GaU3u6nlge13+pPxwyuFHDr9Kv7g2iWu0ijrjBo6ul-fBVSTpYL3UOEOrGDBNsOVAwlt227XYSOG7jpc1yBSzDkDoBEoxGfelrEautTj7bUk+slEMBn3MA59L4xfXoetSr719fasTs0RdrJbRD4MRQ1zqtEqH2JgHDck4YFblwKO3I3JlkNUADNqssCPg8ZqEP8gRDO0LSH2D8PiGCdWNaQ+RxMPT6N4lh1PlaoalkSrmV4CBGmWUx-0LytqKBCCy0QPN6CTbMKBAmM4C1u9A49lBpklrpGzDmR1KIkxb7Gd7MJRjsD4y8plt+Bm4S-R21nZY74jEjTYRYdShNHlU7Ox6SnE9KbNAqQxmY2MeXSDMljpRx4HCCl3-wNCQxmNtsY7ByDJa+xmXUsFGNJN2ULfJoccb6N6hR6jR8Y8qjxy26Ld6kdwrvzTLrhUE6CCo18ZJB1GTZvus+EJjSnhZ3g1x2bYKznZ6Ah5oAAADpYA-5QS5YBXHwCfE2mfOlahNXFSup3dz4JA7IGrAwnOlcJq8QiaHkom0TkyjEx0mxN6jd0hAZcqeiQ4lFWToAAAF4j1rAKJi+vSb-1YmuWY+dqrMF5MEmo0RJuEFvqH05thtHwTQ-QB0M+A4TQpzE0yeBoMtfooRw2FiVIBYkDWjIQVkyDwDkn+D6pwqQyZFNtNtTD8mUFiQ8AGmjTbOmU0qCAA')">function query_syntax_process(exp) {
    if (is_application(exp)) {
      const function_symbol = 
        symbol_of_name(function_expression(exp));
      const processed_args = map(query_syntax_process, args(exp));
      return function_symbol === "pair"
        ? pair(head(processed_args), head(tail(processed_args)))
        : function_symbol === "list"
        ? processed_args
        : function_symbol === "javascript_value"
        ? pair(function_symbol,
               map(javascript_value_process, args(exp)))
        : pair(function_symbol, processed_args);
    } else if (is_name(exp)) {
      return list("?", symbol_of_name(exp));
    } else {
      return exp;
    }
}
</pre></div></div>
	  Exceptions to this processing are
	  <kbd>javascript_value</kbd>
	  queries. Since the instantiated syntax of the argument of
	  such a query is passed to the
	  <kbd>evaluate</kbd>
	  function of section&nbsp;<REF NAME="sec:core-of-evaluator"><a class="superscript" id="4.4.4-sec-link-4.1.1" href="./4.1.1.html">4.1.1</a></REF>,
	  its applications and self-evaluating expressions remain intact,
	  and only its names are converted to pattern variables.
	  <div class='snippet' id='javascript_95_40_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPYZ4AhDD4MwbBQHAiDIOgfA8Cy00qIuDmwlqyh9xBESyAoSgepo2j6Ay+VhAA-NYty36EABcQtIuUz82A-GvUI9hC7BAviC+XoVJlTUhpcoswD4mC-tYN+cUYxTnPKhT8YUb4FVAA-HeZVJxxhQc2NB6VPIwLgaABBUgkLvlQaHDBBVsEegXMeZCBDZxXifKQzBFCA70RdPyT+mCGHJWdJqfhHDiCHzIdw+KiV+jJT6vxCqAj6GgBwYNYqsjaDyP6qlBiJCJGwK4TsAyqc9HxDIQ-c2kgEJ6BMRJJE0kMZQLIZglIJi3bONcV4mwnCCrcIhnzQxKi1EBIMNzG6L0hjQ0plA1RBipE7Dtso6oQiypJPEZIoxERvJRIphdIJKTVGMJyQ5GW+jMl+PZLHYOtCDQWLVNUkyODL7-BTgokKZjTDQIMdMFxhRWpqRAbJHOeculxMPgUwob9vDMCONHAAqsQR65cADuWJsT8lUFRUAABaHZRTd7SWEu3QOcgTLCFmCMgWlB8CgD0BEWilAWCyOUEsGxwhGS0wLqczmjznlUFedYvSegLlqirkzGwnRVFyFkOIW59yoysF2NQeoQLuogpIJ8n0NhJzAjoIrcgoA7gHI0HvFOHiPm9O8V4vq0liBQgPocWgTk+nUpsCnexUkZIYuICYKlbLvEjP5QK1xbSJFMtEVMD5hEUjyykHZEBeg6IEsmSohVi4ljFjpVMZVchTCsrfvURozQ6gdEhdC2F2LrAzOoD4UFcJFnLOoGsgg1UOa7BkLs-ZPzqyQqIgFAZighl6AUXQbph8vmC3LqPWSobVWhAfsLOBb99iHBDRfMlnc3TdzjeGvlrKbCBowkuWSI8Rkhpop9PNqswZqJkaVUx6DykC11uCRgS502HP+L1fq9UWixJgfG++JKWl6B7bRdR9AB3xNcdMjN0kx2zXaQHPV07D4xWqiE8JvMPp5q+Tcu5rMWDs05qEomLaNgQSNU0YgLQzXmvkLCg9CLxgcjJrkspxhPoXsKOuZpmaMbvtKTjIm0wYH3usFCx9nqrU4qQR3QDkRjDFs9cSvp-6F3oylh+kD1M+Xga-s+7JmYUMgqzUht0ICsV9PXFh99yGQEQbCFBmFMGaMQS3TzA6egC3gWw8BmJoGCPVG6KEboftqpFpICI-tGl65AjlU3JWcmh1YNAEm6oKaDg+DhAAKmk7w29dRdOA1AFJxEhn+2BhU6GAAkKEf11U6Ah3nCi6chC5yjJbUR7a27uMjkjXBks4NqZEvBn5yG0sYbtC-optmHMuZcfekTPpibm59LfoHLUNwXMEkIO5th-RZJ0axp+-m+aRWhGczkPLBW0Ixj0FY0JvHKt8aA9ExmKsZUPtY4F-Gjc8GNg8+wupXif4wkG3VohQDOyMgyzsKhKFhudNUykcbUpFusPq-OHEHYQwFrfsLJj4mt6qjUek5tXzcVuzCy7DxDImO4o1iHGFYXquufy1tohsk3ZMlCLigzcojMMGJeZmTrRnvqAhQXDD-w3bCu8bS7LShxXMElbYzWUPZiA41C0MN4yS7tzUSUjr+8DFfPkqoZ6bU-Skd47DpVJH2m6KbfEBHrWCc1u3owkRZW93YtxSAsLDPeeulIwyPNTGREzdI6L7Uu3QIS9ACAyXCmIKMcc7Wxhk2vu1OMPzoE0uFfAI1Yuks+CgKYhm54woDOdeW-QoqpXMD2c+IMVnNkajNsO9Z5dAnXyjdgNI97mhVvjezdd9a+d-wQ-LbbE7g0ebI8E5nmAOeTBWDsBXlwdeaA1qnbZIMdt-wqItvXNsh4xKohLg3WbKnbzgWcvsDJWY8P-fYvXLlIqx6UX0rRQeQGLWm+OPx23gjYtpqIJ76i95Zfj6nRyjCfAhZozT77whU200OUti5U4-Ac-lqTDauNZfoBOoe+TnpV21BjIgoP5SFaJ-ZiTQv84MVygJVOX3xTlqR+xogtmA2lr2misXVUwi1VdHvx+ilDhDAKXFMwgP5CHh2DgJjw1SgKzHvEjg2w1ULFQM31VFQMnW1T0Cox-wJiRgHCoy5zOzIA1i5F0BRw-zRychgXIMpEDHH3bhKwXg-jYI7zMj7C4ICjenoItnOUkk0nbwc0vVvFTTtUkNV26FxQWCWHi05kZRYNdDCyOwLzECsV4JJHD3xyGQwNAHkOUg7BMI1TbgCkMJejAWK0kLWBkILktHsOQPsJQycKRBcPhlkI4ODA8OALOyojpQZVR2ZRA0cNmA9FHw5DUPJwEOWi1B0AWEsL1BpkrzM1SPSLiNW2sAfgsIMMkIyMyGsJhT5VAA8ASKYIKPIRyN0HSOMLMAAB5Gi0j5hSCod6jCjVFGBZk9A4QAAVDIUABSYgbEMFHQdwGGcGABOOFoN+OEUAAAalABazCEMGiF0BuXdkcLMHWNMxWPWM2KqyiBiB0D2O6MqN6IaJtR01GOoAIBkBWWmNmMpnmOqUoCWPhDWI2I5xCx2KuPwH2KsMOPhELH+LOJsG2MuOuPyJoNEgyH-kAXD3FzAQN1CBEIkXGAyCUn4K-gCnezKJhViJ6L6zCEU2FlJM+hhOwVxN-iUhhNCFEOoAYJ0CYM-xxkHRhLfnDyJUeEJgOJZLU0tHyNFP5Jc2VhaNmEDERKYzE0I3hQPkFKr2eHUK5K0KQMpNZIGNtVJMLEWXSHqHUyRF9UKBY0tT6VxXsLCx4NKOE1cXXBJK8OMJBWcOTwFS8ODQ8L+0tKBFExh0ZPxJDXd012mkDw7AxI7HJLkCxPZU3RDNrjDIjVg2sGJOlOMLjPky8WpOblpLuO-nGTxJTJZLZI5K1KiP4V5IFX5LATVMLhaLOIflkDdHFKx2V3UCLNfnBmlJ3AOLlODAVK-ihWVLuVVOyNUKUGPQS00OrK7HQ31KOExPhGNN7zqDNL+C9TVEMz8n9JSCtLYy8VtMkPtPI3sNTIPIKhdOlLdMcI9N8K9LZR9JsMfL+G60PMDLV1vAPlLIJPDPeFnj0nnkXiz04DXl4AwD0KzD+ReQb3RQ+QnhcmzEXylHtTgoBTulf3MOiH+UoEBSeSDjyVDiQobkRm9iCMxSslxUwoIoQoPBBzMxhGfi71NFMxsFNG8QqzcV+mtA4usGtG4sjy73kIEvMO02EtYt+nYnEvYikv6V+gVlKFM2UrkEwR4rCC7wSjoCDlUGxFMx0r0qmIKk0tCC7weIEoeK8TMsLV+gUgWADg8DoEBgcvmCcoYGqFsusC71WPEpsD0ColmGxDMDuAAD5QBtl1iTLvLmKYCdl-LrBArgrQqIrtl9kYqRLfoTNZgUhkrQAQqiU0rQBdMCrrBYqu9gBEq7kgqCrUrIrQAwBMrpKYCABSaq-Kwq8Khq1qsq0ACq36Svfyzq+qivR4EKrKmAgAQgeGGtqq6uKpmuJQmpaqmDhFaI6vmtGtAHaOsBWsUpgNaLuESpGqKoaqOr2oGpgLCs2pSrOu2QisusmrWrCuOtytCFOu6oeuJTqueqGKmuqoatCG6usCmpsFL2fiZForwvgv7zD0cKJS-gUiUlNFmDosBTnihvg3RoYqt2oA8AACsmxGZEbqhkaeUzrRKYasLTNtJpVYqwgca4aismQsBoanlYbJsmLcou9r0TVTM+ajMGbATzLfpIBiAb1EoDLcrxbJaOZhaRafL7KtB3LYBIABK3LJA1aFbFau9NaABRcSg2nWkWrvAAOVUDNuqotrNp7JFSxuCyZp12MNJsKHJtuW6vcKqKdqQTjCZnZvwsBR1yGVdpSHdrOrpsZDRupvosnQbH5g6BOUaXqg5qwuZrClBRznYjMJ+UkBiEkCNUYDOUuMkAJtUDUGc2iHZh4wFSZqIqyAVFIsxWfJSCzsmFRDCAjNVDbIASrPRzMKRz73nPR14yy3pT0CZpTmzIBMBJ9vN3l0HNHtjmywnpjoxqv3xqJooHx1FNwtTtjuDpsJNpsGnM1OHoVCsiyEJWnJ0A1hqLKnPu0OJR7sAUfv4VZuAu6lAsz2Xggu4EwBgpmn5BTAoEkB5kMHQgUkYG1kWzMIVk8G8EHEoLKFgbm0KXMmHOTFfGQjtH+LhEkBOKBPhNBKQcoqoKwYAjtC-jfm0lQZwtXwUi5nsWkkamBNzO+VIFIHcEVj3gMEuU4fqoYHWL0FUE4cbLhBWIfgkYaOOP+NEdIGPoKgkYdjYeQJIAklkF8GBMuXBR0c5PUeTFkDWFsx-MpDhN0DwaGP+IYcolkGYf7XJpzgLuIA0akKuQhJRDhBwoMYxiWEcRYBEarjgdcALJzlUykeFjhGoeMRhDCbOFODIRfRpMDDCbMCCELhSaCbMCWvhDvhRC-gflIdaDieyLhDyZcQfi1RAbdHAatyge1jCZcTfhfVOXjlDjifOFZR+BJDaR0SUVSfqKkasfWJ8dkGWG8ACctHLQGehO8RWMIfRIgQ-l6cUTTlSdma8Xmf+NGb8YmaKeVmmayc+VWNZU8aadAB2aGNkr0exxccMd2cYBYDQamR2AsMacKUubhDEtmFyimaCaHIHFSdudcfGcedU38QuNiHecKCkYAHJCGc48H4XonzGQSTIwnvG7nfGwGlxGATIeY8XgmlMyg-gEGfBLQCX9rFalaYCcg6hjjbVjjy5FRCxZRvAWWvJFY7pnm1sLmsXNGKXcWJq5hgxKWqidnQWnnonLnBXvBhXAwxXgX7mcW5WkSxBKWdRNkqJ6pNZUoK1dhvN4UIhWmE40wFFqMUhbSr8BS0NqhFmiRlmr9mclFzXrzrBobdXOQxgRkwtyaNWcQtWdXbpOQ9HY0aJPyC4p6GzSmxKCmJK01LRaJPXZAoQrktJkHV7k3vXwUqHNNXVuoZtxHZK42k3g2U2Y1omo2OxxGy6K7SAq7KMNUonCkLCq29QW7Qhyba2OR63KB2YUMg3UpQ39Xc2XnW3rXVzS3Ups3c5ryjy4VD1XA+Dw2f1O9fo8mgYg8lmSRXXjsLVjyqSOMaJjsu62R3V-hzX2DRQpALDzW43LQ7282Hj9WjSllVlnBnW0o5hsQPUCCJxaBtUw2DWr3YLtMR243ODw3onn2FFX2nUXVP3-3+QYZjkAo2XGArdyAK4vAA46gGhWhL3kiOCf2L3w3xH0PFQcLrhU2vWMP0IPFCPTGKLWhEDOtd2iI8Ba5vBgIhhkI0b8s1R6VQBRhyBcA08wLSB5hFJHFQA1o7lZBpo1o8889YETlORNY9BnpsRZg7BoxGA6h2H+tr3iXGc9ODPBm+WGgb0Whznwl1BNOZBtPC5LRdPbVzOeXBFC5XP9O6TvFMt1PSAHOnPAxvP3OQi2QrFeOsg9AW0ntMcyoovUM4q1rdNEuTNryA0USAEgvJAeBZgtPJBJpKTcV8UPBEuwtZQNOCu8uRWBxIcEvKG3Xwh4VSvyvsjBaWgf1ZUr16VjUjNFSetrSTz4NQuKuAucv+AAX6RCAyvGuBuUhn1Rv2vevrO6guubyeurOTV5vmN93dTf1J5gxQumuvyRNvzsS1Z6B2WcuauCvJuuzPR1uSuZu2vdy6AqvHPcupuMcXsXgcGTuF2DAXuAJGyOu1v9vH57AXg6v4u-usgO2CoLDcpqu0awO7u4ylwo7d7QhAx6u4eZBRxRy9v0ywhcUlu3uPvOZ7udxgf-udvUh4UlvHgwef17NCg2zofpvZu+OsA2fZ6wOLD0eHvMeEeRUafueshCe+fQB52Se7WoeQumw3OMeCf6e-UzulSLuwYjKtBJPGt1v5Ii2svdhm3qUf5jfeM342BSmYhZAMPTe2UH5bf2XNjpllzGs4P33QAuOiEdzEuLTIMmPnAdfyBJOwxcUfeeOQfiVIuAIYuOhcUROwtI-MO4+4Rf5UTqxaKBPiUU-0JEuhjnf7fWaAorEPAYgEpYhFsVezCLDq-hfVfmZnYK+S7Fs9By-6VLizDLQO-K-VgcLe-W-TdB-dAzDAwR-++m-VQJ+875xLz6+PCQOKfAuF-nCcLB7Wh6+VcmBfCl-ij69XYW+q+KG+OG+qjgjT2bIjwR2l+9ZsCphYPcnUPLv47XwF1H-7DbmTS+8jxJApP6UsgjAFtAFGjC7AmkZHEnj5iYQjt1u-2eDBP1uxH9OS+dS8h-zX7sZbwCA5bltyMwtYH4JAb-lCF-7-86ggAl9jvw-ItY34oAkyDP0VQT8I2YmPblANvYrsIegsCwjQP2autZgXAyDga0YGDcD2mCP9Me1HLncC4XA81uFzEDbFsgLAAOMvT7wNAkw2IftHQBq4qD9KYwOgEVyI7GcaSGg8JqAC0FqCoQugmLtEwsKExOoovO5IIyiDyDFBHqZQfIG0GsMnBO4Wwdjw5ymCdBk0ZAjEEcRZBy6KEVQeoM0FuCzB0gPQUHyFgFkjBcbPweYP4CWC821gvsEYLsExczqQQ7wCEMBTJC9AyQmITFzsGYIch3VOQb8E54GBOohOYko4JqH4AkwRgRSDyiBhmEWhWgOlJEDsC-AtGTg92iQE6GeFWhvQ6oQE0mFEtDBTQqVoUg0wvM8hRdbIIUKiH9o+khMOYSbUqERVuh5ACYXMMGE1CLI-Qp5g0M3RhFkcNyOOpMBxj18KIfuRfgLngFIDEBnfRgigNKKr9fCTGdcFgOZ4rcTUcbDft0WYTw8TBWgWYB4SsE9DvA84BynrzoHD8kBVRR4dCPQESYwY+wA4fCMkCIiuiOI2YOiIoEE8l+dpUpvgHNAtAVicbOEFSLpA0joOe0ezkSMhH+A42dpawNEwiDX8cRZgEEVcL7w3D6wdw-hGyJJEwi82DyAXloDMDnBXmYHR4cYJxGOIERuvLooGH5HlDqggYZUTqMKCqi8RBI-ZtqJ8HUpLQ+o80d4j9LRN6R1I+ljIKxCXEr6bYSYYFVr5gdaquw9TM3DVY9RFgWsAOPOAo5phQxtAWYBqzZEatnhQIXFASLaj4o9UYWI0UFBNFRioRb3dlv0FmDWjvEMY9AQEW2AJjdUhKSkQ6Id7DpFhKQfki6PsBuijhJYgSCqidEXMxmFfPqBPTlG39tokLfQImzlH+jhOUPd0Vp1u6OdYhcA4LExRE5Bdxx2IF-HEJByAicBLQNTMLAaJ0BWxHY7VgV0JBdjFyU4wwKAC05hYBxpgP4fPmgFaczAUjPJg0S05hgr6oAYYgAAl9akgAAILgBwA+tAAErDFIAAAeTNrIBiUuhbgvYEk48I7emIWSKmOIAYjd++g5wIQHbG9cqIB4tUcYJE6z8GgVEb1rRzglYT4R4LYcdmlKAwTsxMYHCrhPUBlRwxU6Mwm+I-HfjfxAE4CaBNolQ8dxhE2CUVhIlOAzCuE90TuMkB7jxoCEqojKCIn9Adkkw5-mDBvQ0d+JDWBCUhI-JL9Jh1iVoeTQLSPD3ARVTYpJybCPRgxVEujmFAMksBUeuIpwBpIJ6i98AUE9yoxPglwj7JpIwnM+PbRnhowJAGTsSgAAMidAKLehWS2QuWzgmpFbkoCtAy8UU-ych0YBhZfJmqXvDJ3WI8BLxt4NKeogCneAcKVicKUwmwbRd6+eUk1sBDimei00ZTUzBYUqnfFTWbYOKd91QZDi7AGkUqQBCkAxAlUXLWLiNyilVTYpm5cCa8UilnhRp6EOKfHyBABRHBSwFZOoG1iMdqgima-pe1SzjED+JUtvo-yalxwWp84GqfNhlFppH2riIomByWmSAVpcgbWA+xXYGi5gdgZaatOViutei0yMQZrwLh3SHp2sNKUOIaAuCDOBIXII-x+GaTsUi096fdM+lkjIBRrShMmBDQWtXEz6OzigxP4QiCesAg7reGrwyA1ekGYni1muzvC++s-axI6QckA8NpEEDwKDyBG4COcD8KkaxhZJvxAZn05EZhA8CCCvytmWXhgMbi3sBRAqB+HzMencDPk6TWWdrE4IecvEb8LmbIB25BlA+RY+mAjKBkjtWxG-POooGRT0RkIYIsqVIQ9AMyrsrwj4ToGpkl0vhH8GGY3wZ53IEBOTFnpSXXAkA9i+IjUe3yQGkYGBuY6lqEBtleS2gM9cmdBkB68j0ZHoLFCLTwC6Z05X8a7G8OJQz8XZJIKORfyZmYC3h3stmTZzGx8sA5Jo6vtaIFkdow5vPWzGzylGzpVEQozfnjOtnqAGZe7eOc+jBnZYpAYUKOW7JTlpyM5RcykPaMZGOjAyFMyedsFBFb9u50c78liOmj+zQSgc0PoSJq67B7usY3WaSPEYMisg9LOkafKZFPsWRZQXYHvMmicjJCPItGT4DvlSyYWbc8IibL2DskuQFsu+WjQPnOFn50A-ee-N5bGybhZsv+dF33lo0aui-RqmAHTm6YQFFhN+fE0VFpowFcbTeZzBNFajvBItLUZNFek2A8F28vXomyIURzqgibUhXmMKC2i8208s+V40v5Zg0pvgATIeILh39zo3CjrHgS5Z-s6wtARMGhLTAgyl+2kEGcgTykeJpFKE+IUrEDAhdBpqs4sl3nUArTsQbaeAmRIwYDg5FQ43OpRC4VpTIxQrPYB5MQmgACxyEuMfBkTDZB5waU1KVqCRA9TkIfU3ICDMezwYKFpYsLKygoXpjrF6k80cWAkVpwXFNWEGWQrCAOKPyOUykEEubHJjyxM8ysQml9GlBoO0eFVniwGlngPEcStxYNPKEclXRO2I4ekqTGmBL69gF8e+MkB-j5kAAGX1pgS8lcgUKWjBclTSBIgkuxYfILhoSlgO4kZThJ4kYSxgaU9yXZN5TRM6JlEhZfNInyqhVlZUdZcxNaXtKul4AbiW6F4lQh1lUkrSXMOcEr0C0Iko4WJIknTLElhUNKfJLmEohRedys4UMQ3acssgbys4SiFMXJ1zlti22cou0n7C9J1Kdxd1U2JmKhlJSqQupK8lOTBloKpZQzKHFchj0Z4SlnoAzGYrSRfQ+QWYUhW6T2hRJM8nCq8TaSx6UIIoS1mUkWTiJhKtUQzPKE+jc66ytlfCKxXJ43S2wo2YUvxWUsHJJK34ENOCw7RhAYWWceewJVCtpJsOIpQZWvLrgZVJAVmauLqBxscVxFVVYqrlbirph0TTVbkFY6yRFWxK6YduN8X4S4+-InsX0MuKmjBxiQAIAtnRnniLhYMQwLaiWCMTaZUyxiYa0XZ4S+ocfUNU93gynjiUDyz7vuNDU7dcUXDAYmLiDWTDQ6IqL5fIKC6stZJtAAFfIID6M18s+a+EIxOLW-BB8XiN5oWrsU+i01XU7NA2olXnDe5vWbFCdkaEBqhlwajCUiqlXHiEJYWaJRoDTj+KgQUAncY6tsWYzLWsaxzmFgTWcx9xUklNc4scAtr+1Wau4CyVzUDCtOwi-5QpIB67By1x6v5TIGrUsBa1riRqVy1mBNrt1YuPKdMLnbzy-U687OHh37W2oWVYYhtUSy4WhrY5w6ajoitDXRNINjEkRsBqo5-q4NYG7FP6rsCAbWpp0wdcmqcXBZMgKk6ifQDCwsSvxP4-8YBJAlHKgQJGtieRs4k9L61qkxtfVXw0Yb6A6qiCHCD-jsLNlToP9RYsGlfI0NSwPKfnSmVTqjxhKVjQsuI37LOl3SpjCRoOXdKUxYHSxfYLOrSauW0OIzs4C40mw7VM5E9JOgJrAo40zqmknGhwolZiwpmkQPq0M6CxnpvcHCiPFs0YggOjm9cPwNsJqwpAmpHSnZoPAOaZhBZKzVPzZAlZAtGIELTIqEKVp5FAkeMBICC1scEtS-HzcgVvQ6AHIUIfFeZuUXOa247cWzdQH6nuaRA+OQVWcKJaakKtwW+rfzEfleLJh0TUrf1Lc20BUtskRrVWjOIqr8VNmrrTFt635ppegJaraSqsgXq1qdLY4gNqFYIEutZW3lP0u14paVtxQlLR5pNXbDnVAW7beimi2VbjB1YsIAgmSkFCwh7gmuojhFVCsyMiGY7RQC210But5-SQu2rG15V6qgWzbSPGe2dZAdfW8bS+U+0fq0QM2oYoy0LALa5WhlDbTEBL7VRste8IVDar20QqrlUKyldSgpFhVeeBUNSp2lJTSRDVqOlhoarTaMLYSdYrDrUu+V+lYEoO4stUvrEM681MIpuQ0WFi9JQdk2yVZDvLUIhqAHLOEHDrxamYKdjfInARK4bv8IBcQhnI-xvp315EkRSVEOO7aV0+2jbTCOjoF1PNVwLpbHRSuZKipqVBO1xH1CbD5Z-gtvKcG-3+Cik-ms7ByYktILQjUq2PZ9soHDm0LrADqN9s6mcA4iuyKUvZH8ROZNzxtcIbXb237YgIgVFnNnfTvbXvkCe5zXnS4kN17godce8uj2wbYoZ5t92+HbMHj3F6qMideMVsnPASBjKYWAAJwdAAoRlVQensc1t6G9He7SYlEQaGBZgvKSklANmELrdufc+FM4GyJBTCZ1gdvfpT0CwtYWhYNAGvtLVMD45cvGwAvpMhbDhZYQXfe2rzqOJjhCgiyFUWcD7Jz84g-6fPp736Vj9-eo4LMAUjatd9piuQLov0X26eQAa3bTVvJHg65hQu2bV-v0o-7S9XaVVaZh0UQHlgxeVmrihiAzadWs5MLHCEpbiAXG+WF+Owvbgas6g0QV5ANCZI5CXhwWFAzn1wpIopgVBt0Em1nLXlR9BZeg+PtCC76hieyfZBhltRzAJmMQXLV6gSqfqt9mc+DDtDCz+sNkQwbVlO05BdjfG9yHA4SiOJtAgVO3Tg3CG4P7IiD9FFKUyWwMzbhDeyDfTvof0mQJWoqg-c+iDVYdXYgavDv2h2jsHCgkGvKQBuQ1Ia21HiFw4zPMO6VVBQxT8Q2rVBOHNyWHdkaoGqIJE0AZhuOV2r6RaGdDkerA6WIYApHTDhYeI4fosPp6C02k6FWDqRBGTKsVhh7Y3NSDz0qAe8HaO7ruR+7QAkgeqhMnKES78WQMOnQ2O+XCw7QAPbWUkusV6GSD-5eaUqR-Vsh5DUgfFfQdiLeB0gXIeWnbOlVSHrFAbWQ4OwUOuNlDxhtQxoenXwoSDCxqWqAByZ-RGR-IFEJSWSOR6pj9ioVkYYE7CGlQ4GjgxYb0DlG5WBK0MDL2J4DHbDba+wzh2o7OHXD1gdw1FM8MNqRG3hpjdflvx+Gduz6I4+yRONnGuQWQS43PpMHvHtDOhrMZZOcAgnNymRl47LwGNizqgNx-E2kYyUk1MjIhzQ3kfdF9JCjuO4o9uXCoslPjxSnwQ7rjBO6CV9Rz3QQBaNY8BU7RoU+DC6Mc6BhvRwnuMZwBTHDVsLCjjCaIN6su8AAIUSgJQ8OWQY4lqa1AfLkuQxcABoD+CMAP8pQZEIWD-FxTRgoAP8dQGuCmYeAs+xkCvvhAYnXQ1YZU-itVNES9ABNfGrYl+g6nyAep0gbafhBGnKoVRLvKvhm3eBjiKySgAAC9kw9LO0F6fOOYnFQTIf0w9sDOwSDA6gZMCZG1O6m4p0Zw08aaqIAA2IKc2Y9O5mfTWJxOkWa+Mlnru1HEKGGZgKvjRGz0RgMcU-FnJOQqgY4rABNNd5oAvwDwNEDqCjBjiAAWVlCgBPxryUzAAHYAAHDmaugXGCzHQLs8Up7MYdgzoZrvEOa1gpnCw45vRXQCnOFgZzCZ36Embt2jnCwSbHQJJEtPJ62zx5v08wDLYqm1Tz5isJWd+i3mRzY5ic8+enMmmUALZ1s0efzMgXk24FoM-ig9RWmJABpG88OfvPwhHzk5pC++ZgIRmozBpwsHGcAvoXfTrNM8yZAvNTA+zmp36AADFiaxxaANLXhAAARWc79HnOeAlzK5h838AYDgAlpHLDaJ6cYsdmsALFpfWqZDMeABza1HixQD4sCW4Qwlyi2tU-OOJjiv5-8ymcPPengLhZ0C6lGwulnILFZrS0MR0ti7+LxxQy4AQACsLZxS9ZYwu2WsLAZiCwAm8Af53uPgLvG5b0ueWRLVF6s-qZjNwh6LVlvM0xc7N2XOQDl3s3h37Nd5hiKybII9ESjHEOljkY4obSMtDEtT7JenYaf0oQBckTpl0-S2fwBCTAQFwK6eayvTHiz6l6879EKvFXSrhYcq3esLBVWfmH5pFF+eOLSRJOxAeOK+HjP+X0ryl1S2xbLNQWXLIxIq1TlGvwhxrlVk0-wF8vNm1r7Zk8ypd6s5XLzuF8KwRaitDX9rJVsXcdcmvxW1q1Fms7RdjP1nLrNlzK8Ff6tBmOLChrvH+OyDvdb035o6yigkBfWzTFpx6zaenPNAXx70lq66dmB7mPTnVpS9dc2sDXNLkN6G7QBItwgOlCNlytVe7zJm4bXzZgH+d+AAXCwUQA4Lem5YE2ArGVm6yDe7MQXyzxSsmxyApuM3qbhARG1UTWioXAb3V-m2BZCs4Wwr+FyK7tahti3YbZVmm0jbhCwXKbZFxC6+YYu83lLit+y8rccuq2IrhF8M4ldrN0X6z01mAgAHVkwHgQgFrBcqFggJEwEg6bfWvXWLb2Vq27lY1MQ3fo7txgJ7e9vHE-b+hvW+ACKs2m6AWQfS6MV2CgBXx2QLO86ddNpWrrmFpW6DdLMaXdr0d2O49B9vwgE7Adum9cGeRLXtic4Y4uXx0CpnFg8gQO0XaCsl3BbOF4W9Bbdse2vb1d+O-7csuzAeA51i6zzaDvVgQ7fVge6WfBuyQu84AethkEkvwh9aXgeMy7bWqu2ktQkQsOACk7GRQAHSnIDGfdOF2gbS9u61MHLsb2t71AHe3CD3vO3TTMoThhlMuLHFJOPxfAMcXkYZS4wPdh+8TcHs7XX7zAd+8la-sH3QAO52e-Lb5vQPrbeF2289ZgKb34HH9pB3rcrtj2a7cIOu5ZfQfm3MH4d-K6JcrAmSxdzprwMX0PvBHSg-qyqIWDNrZ3kwR4TcrJfekcseADZ++wrZoeXmX79DjUfYGOLMP2WetsBwFIAdXRe2rybW2I4we3Ww791oe7tegAMPFgTD-Ggo6qI8A8bc9rq1o4FvnnQr2Dp6-o8MeyO7TJj1hz-fwfb3EH+9yBwrcfs6P2LeVzizAU-HNxPLMgV24lALNsO4Q5p2YvhbRu+2lrYgcACyLsCmZvLmjja9o9LvXcpHwT0J4WEEvhPInijuoE3cmBEJjiCnTYBWZ8fWP+7tjmB85a7whOVKhT4pwcNOtoP57vdnqzY9Yt2PHr6tlpwU6EsdOonP9kh3Hd9uT3RzmT4OxI6mC5Y6gFcPJ8ZdmumXCwaZzM-pz1smXKb5l1m5Q56dQPsnK967ss9WeDWYC+zxm9s6zN7ONnlNha-MCWukAVrdT6h2c8aelnLnpda5+s+PRzWfzzNiy3M+ie3OzLoLo54zY5vNBubVjr5-07UtBm-nazoYo3ZiAVPW7V0JsDU8l0N2ynWLlu1WENjchO7Mgbu-M8Xt2FyMOQOgEVZ8BsHljx4yQ8SmkOBspjihzRvQbwbqGI2p5JEExUlN1HpTugGpenvlOpKDBBZewr5w-ki7dpO8y4lEaia2ZDU-LJYDMeqOCnRX7hSQlWgaNe6zqEyVsZXt10DsuX60vhVIBmlhQrpvLbRc1Jxf5sDwjaKGeGzsFdtC9OuxPRqk2P45y030kBZAgdfDou8vy+1upGXYCDoOYgv2HS-oCMu1L49Jy8Urwsw3LkLADKVUXNd+v9d2bgKaAAiqy2-LnVpkHgGJupu9HGbiMWqELdIEK9PrhPXro7S-AMpxb2TnLfnsonZASoIAA')">function javascript_value_process(exp) {
    return is_application(exp)
        ? list("application", function_expression(exp),
               map(javascript_value_process, args(exp)))
        : is_name(exp)
        ? list("?", symbol_of_name(exp))
        : exp;
}
</pre></div></div>
	</p></div>
      </span></td></tr></table>

    <div class='permalink'>
<a name='p55' class='permalink'></a><p>
      Once the variables are transformed in this way, the variables in a
      pattern are lists starting with
      
	<span style="color:green">
	  <kbd>?</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>"?"</kbd>
	</span>
      
      and the
      
	<span style="color:green">constant symbols</span>
	<span style="color:blue">strings</span>
      
      (which need to be recognized for
      data-base indexing, section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) are
      just
      
	<span style="color:green">
	  the symbols.
	</span>
	<span style="color:blue">
	  the strings.
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (var? exp)
  (tagged-list? exp '?))

(define (constant-symbol? exp) (symbol? exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPYZ4AhDD4MwbBQHAiDIOgfA8Cy00qIuDmwlqyh9xBESyAoSgepo2j6Ay+VhAA-NYty36EABcQtIuUz82A-GvUI9hC7BAviC+XoVJlTUhpcoswD4mC-tYN+cUYxTnPKhT8YUb4FVAA-HeZVJxxhQc2NB6VPIwLgaABBUgkLvlQaHDBBVsEegXMeZCBDZxXifKQzBFCA70RdPyT+mCGHJWdJqfhHDiCHzIdw+KiV+jJT6vxCqAj6GgBwYNYqsjaDyP6qlBiJCJGwK4TsAyqc9HxDIQ-c2kgEJ6BMRJJE0kMZQLIZglIJi3bONcV4mwnCCrcIhnzQxKi1EBIMNzG6L0hjQ0plA1RBipE7Dtso6oQiypJPEZIoxERvJRIphdIJKTVGMJyQ5GW+jMl+PZLHYOtCDQWLVNUkyODL7-BTgokKZjTDQIMdMFxhRWpqRAbJHOeculxMPgUwob9vDMCONHAAqsQR65cADuWJsT8lUFRUAABaHZRTd7SWEu3QOcgTLCFmCMgWlB8CgD0BEWilAWCyOUEsGxwhGS0wLqczmjznlUFedYvSegLlqirkzGwnRVFyFkOIW59yoysF2NQeoQLuogpIJ8n0NhJzAjoIrcgoA7gHI0HvFOHiPm9O8V4vq0liBQgPocWgTk+nUpsCnexUkZIYuICYKlbLvEjP5QK1xbSJFMtEVMD5hEUjyykHZEBeg6IEsmSohVi4ljFjpVMZVchTCsrfvURozQ6gdEhdC2F2LrAzOoD4UFcJFnLOoGsgg1UOa7BkLs-ZPzqyQqIgFAZighl6AUXQbph8vmC3LqPWSobVWhAfsLOBb99iHBDRfMlnc3TdzjeGvlrKbCBowkuWSI8Rkhpop9PNqswZqJkaVUx6DykC11uCRgS502HP+L1fq9UWixJgfG++JKWl6B7bRdR9AB3xNcdMjN0kx2zXaQHPV07D4xWqiE8JvMPp5q+Tcu5rMWDs05qEomLaNgQSNU0YgLQzXmvkLCg9CLxgcjJrkspxhPoXsKOuZpmaMbvtKTjIm0wYH3usFCx9nqrU4qQR3QDkRjDFs9cSvp-6F3oylh+kD1M+Xga-s+7JmYUMgqzUht0ICsV9PXFh99yGQEQbCFBmFMGaMQS3TzA6egC3gWw8BmJoGCPVG6KEboftqpFpICI-tGl65AjlU3JWcmh1YNAEm6oKaDg+DhAAKmk7w29dRdOA1AFJxEhn+2BhU6GAAkKEf11U6Ah3nCi6chC5yjJbUR7a27uMjkjXBks4NqZEvBn5yG0sYbtC-optmHMuZcfekTPpibm59LfoHLUNwXMEkIO5th-RZJ0axp+-m+aRWhGczkPLBW0Ixj0FY0JvHKt8aA9ExmKsZUPtY4F-Gjc8GNg8+wupXif4wkG3VohQDOyMgyzsKhKFhudNUykcbUpFusPq-OHEHYQwFrfsLJj4mt6qjUek5tXzcVuzCy7DxDImO4o1iHGFYXquufy1tohsk3ZMlCLigzcojMMGJeZmTrRnvqAhQXDD-w3bCu8bS7LShxXMElbYzWUPZiA41C0MN4yS7tzUSUjr+8DFfPkqoZ6bU-Skd47DpVJH2m6KbfEBHrWCc1u3owkRZW93YtxSAsLDPeeulIwyPNTGREzdI6L7Uu3QIS9ACAyXCmIKMcc7Wxhk2vu1OMPzoE0uFfAI1Yuks+CgKYhm54woDOdeW-QoqpXMD2c+IMVnNkajNsO9Z5dAnXyjdgNI97mhVvjezdd9a+d-wQ-LbbE7g0ebI8E5nmAOeTBWDsBXlwdeaA1qnbZIMdt-wqItvXNsh4xKohLg3WbKnbzgWcvsDJWY8P-fYvXLlIqx6UX0rRQeQGLWm+OPx23gjYtpqIJ76i95Zfj6nRyjCfAhZozT77whU200OUti5U4-Ac-lqTDauNZfoBOoe+TnpV21BjIgoP5SFaJ-ZiTQv84MVygJVOX3xTlqR+xogtmA2lr2misXVUwi1VdHvx+ilDhDAKXFMwgP5CHh2DgJjw1SgKzHvEjg2w1ULFQM31VFQMnW1T0Cox-wJiRgHCoy5zOzIA1i5F0BRw-zRychgXIMpEDHH3bhKwXg-jYI7zMj7C4ICjenoItnOUkk0nbwc0vVvFTTtUkNV26FxQWCWHi05kZRYNdDCyOwLzECsV4JJHD3xyGQwNAHkOUg7BMI1TbgCkMJejAWK0kLWBkILktHsOQPsJQycKRBcPhlkI4ODA8OALOyojpQZVR2ZRA0cNmA9FHw5DUPJwEOWi1B0AWEsL1BpkrzM1SPSLiNW2sAfgsIMMkIyMyGsJhT5VAA8ASKYIKPIRyN0HSOMLMAAB5Gi0j5hSCod6jCjVFGBZk9A4QAAVDIUABSYgbEMFHQdwGGcGABOOFoN+OEUAAAalABazCEMGiF0BuXdkcLMHWNMxWPWM2KqyiBiB0D2O6MqN6IaJtR01GOoAIBkBWWmNmMpnmOqUoCWPhDWI2I5xCx2KuPwH2KsMOPhELH+LOJsG2MuOuPyJoNEgyH-kAXD3FzAQN1CBEIkXGAyCUn4K-gCnezKJhViJ6L6zCEU2FlJM+hhOwVxN-iUhhNCFEOoAYJ0CYM-xxkHRhLfnDyJUeEJgOJZLU0tHyNFP5Jc2VhaNmEDERKYzE0I3hQPkFKr2eHUK5K0KQMpNZIGNtVJMLEWXSHqHUyRF9UKBY0tT6VxXsLCx4NKOE1cXXBJK8OMJBWcOTwFS8ODQ8L+0tKBFExh0ZPxJDXd012mkDw7AxI7HJLkCxPZU3RDNrjDIjVg2sGJOlOMLjPky8WpOblpLuO-nGTxJTJZLZI5K1KiP4V5IFX5LATVMLhaLOIflkDdHFKx2V3UCLNfnBmlJ3AOLlODAVK-ihWVLuVVOyNUKUGPQS00OrK7HQ31KOExPhGNN7zqDNL+C9TVEMz8n9JSCtLYy8VtMkPtPI3sNTIPIKhdOlLdMcI9N8K9LZR9JsMfL+G60PMDLV1vAPlLIJPDPeFnj0nnkXiz04DXl4AwD0KzD+ReQb3RQ+QnhcmzEXylHtTgoBTulf3MOiH+UoEBSeSDjyVDiQobkRm9iCMxSslxUwoIoQoPBBzMxhGfi71NFMxsFNG8QqzcV+mtA4usGtG4sjy73kIEvMO02EtYt+nYnEvYikv6V+gVlKFM2UrkEwR4rCC7wSjoCDlUGxFMx0r0qmIKk0tCC7weIEoeK8TMsLV+gUgWADg8DoEBgcvmCcoYGqFsusC71WPEpsD0ColmGxDMDuAAD5QBtl1iTLvLmKYCdl-LrBArgrQqIrtl9kYqRLfoTNZgUhkrQAQqiU0rQBdMCrrBYqu9gBEq7kgqCrUrIrQAwBMrpKYCABSaq-Kwq8Khq1qsq0ACq36Svfyzq+qivR4EKrKmAgAQgeGGtqq6uKpmuJQmpaqmDhFaI6vmtGtAHaOsBWsUpgNaLuESpGqKoaqOr2oGpgLCs2pSrOu2QisusmrWrCuOtytCFOu6oeuJTqueqGKmuqoatCG6usCmpsFL2fiZForwvgv7zD0cKJS-gUiUlNFmDosBTnihvg3RoYqt2oA8AACsmxGZEbqhkaeUzrRKYasLTNtJpVYqwgca4aismQsBoanlYbJsmLcou9r0TVTM+ajMGbATzLfpIBiAb1EoDLcrxbJaOZhaRafL7KtB3LYBIABK3LJA1aFbFau9NaABRcSg2nWkWrvAAOVUDNuqotrNp7JFSxuCyZp12MNJsKHJtuW6vcKqKdqQTjCZnZvwsBR1yGVdpSHdrOrpsZDRupvosnQbH5g6BOUaXqg5qwuZrClBRznYjMJ+UkBiEkCNUYDOUuMkAJtUDUGc2iHZh4wFSZqIqyAVFIsxWfJSCzsmFRDCAjNVDbIASrPRzMKRz73nPR14yy3pT0CZpTmzIBMBJ9vN3l0HNHtjmywnpjoxqv3xqJooHx1FNwtTtjuDpsJNpsGnM1OHoVCsiyEJWnJ0A1hqLKnPu0OJR7sAUfv4VZuAu6lAsz2Xggu4EwBgpmn5BTAoEkB5kMHQgUkYG1kWzMIVk8G8EHEoLKFgbm0KXMmHOTFfGQjtH+LhEkBOKBPhNBKQcoqoKwYAjtC-jfm0lQZwtXwUi5nsWkkamBNzO+VIFIHcEVj3gMEuU4fqoYHWL0FUE4cbLhBWIfgkYaOOP+NEdIGPoKgkYdjYeQJIAklkF8GBMuXBR0c5PUeTFkDWFsx-MpDhN0DwaGP+IYcolkGYf7XJpzgLuIA0akKuQhJRDhBwoMYxiWEcRYBEarjgdcALJzlUykeFjhGoeMRhDCbOFODIRfRpMDDCbMCCELhSaCbMCWvhDvhRC-gflIdaDieyLhDyZcQfi1RAbdHAatyge1jCZcTfhfVOXjlDjifOFZR+BJDaR0SUVSfqKkasfWJ8dkGWG8ACctHLQGehO8RWMIfRIgQ-l6cUTTlSdma8Xmf+NGb8YmaKeVmmayc+VWNZU8aadAB2aGNkr0exxccMd2cYBYDQamR2AsMacKUubhDEtmFyimaCaHIHFSdudcfGcedU38QuNiHecKCkYAHJCGc48H4XonzGQSTIwnvG7nfGwGlxGATIeY8XgmlMyg-gEGfBLQCX9rFalaYCcg6hjjbVjjy5FRCxZRvAWWvJFY7pnm1sLmsXNGKXcWJq5hgxKWqidnQWnnonLnBXvBhXAwxXgX7mcW5WkSxAy6K7SAq7KMNV6pNZUoK1dgiXWmE40wFFwm4q1qTW5xTMVmOkwpzWW7QhyaNWOQtXKB2YUM9XbpOQ9HY0aIqHNN34SRzWCnLWhi8mgYg8lmQ2A3wXVEaIQi2RKWdRNkqJvWDXzX914UIhrWrxzWf1bSr8BS0NqhFmiRlmr9mclEC3FSgHDBcL9XOQxgRkwtyaU2cQ02M3fXpj-WjXrz+ttgp6GzSmxKw2LDLRaIm3ZAoQrktJkHV7p2W3wVA2Xnh2OxxHZLx3mAfWZ2Y1on129RxHXXK6PWdXPQonCkLDD3MgnWbAXXy63XtWvWp3d2-XDXV2UgtM00b34zG3d3l3c5ryjy4VD1XA+C43AtO9fpI3wZo2K3Y3+3jsLVjyqSONE3vyJMwZ3V-gs3kjG4LDQ30GhCA3omHjDWjSllVlnBq20o5hsQPUCCJxaBtU+2iXCPSPClODOOXnyOFFKOnUXVaPmP+QYZjkAo2XGArdyAK4vAA46gGhWg8PTHtgcOP3xHJPFQcLrhZ3m2pP0IPFlOAiKLWhEDOta2iI8Ba5vBgIhhkI0b8s1R6VQBRhyBcA08wLSB5hFJHFQA1o7lZBpo1o8889YETlORNY9BnpsRZg7BoxGA6h2HB2swaS4vbVEvBm+WGgb0Whznwl1AouZAYvC5LQ0uEvv07iH5Sumx0u6TvFMsIvSBCvivAwyuMu1XnArE7Osg9AW0ntMcypuvUNw29MhuTNryA0USAFmvJAeBZhovJBJpKTcV8UPAhuwtZRIuFu5uRWBxIdBvKGB3wh4VVv1vsjBaWgf1ZUr16VjUjM63IMUPdSgsG22uNvGuZv+AAX6RCA1vDuHuih4U3vzvbucu6grubybvsuTUAexMnv0zIfbxWuauEujuvyRNvzsS1Z6B2WZuduFuvuuzPQIeVvfuzvdy6AtuivZvvuMcXsXgcG0fQODAyeAJGyLvwfnvH57AXg9uBuGesg73qgLDcptu0btNPu4ylwo7d7QhAx9uBeZBRxRz4ebT4NgeKeqfOZCedxWfGfYfju7lgfHgOef17NCg2zeefu-v7OsBzfZ6JeLCCepeleheBVdebeshlf7fQAQOEey2efkf4u6gXemelSMfw-EywYjKtAvPGsIf5JN2pvdhL3qUf5k-eM342BSmYhZApPU+2UH5c-2XNjpllzGsBPqPQBrOiEdyhuLTIMVPnAY-yAvOwxcUa-bO2fiUuuAJeuOhcVXOwtO-pO++4Rf5UTqxaLHPiUR-0Ihuhji-8-WaAorEPAYgEpYhFtQ-2DtgLDt+ifpecL1-6US7Fs9AT-N-Vhd+vZWhL-LjkD7-GDFUn-r-8PVPgxX-H+N+S787LyD+PCN-TXk1wAHOEcKg9VoAfxVxMBfCQA4ovXldg-8t+FDezof1d4wCPySbb4PPSoB7x+OGAqQiQBNJ94jwkgbzvSiyCMAW0AUaMLsCaQBtKSPmJhB+wh7-Z4Mr-W7EgM5J-9HSNEWYMEXYy3gOBIPaHkZhawPwiBG5JhGQLpaUCKOBAu2m-FoEmRX+pGL-kzxA5MCOO-bLnoLAsLKD9mBbWYAYO479sNBqvPMuh12AA8gyjfYzj1Frj0CjWWArEFEGyAsAA4y9PvA0CTDYh+0dAHbj4P0pjA6AS3d-ilwLIBCLWQQvwVCFCG9domE7PsFELd69czq2xdwZ4I9TeD5AwQ1hpkJ3CdQ3e1LUIDEJCGTRkCMQRxFkHLooRfB-gwIbkNiHSAwhTfIWJEM6hhsyhcQ-gAkKDZJDNwKQ3jGkO6pVDvANQwFN0L0DdCWhvXYoQVBGERUMhvwK3gYE6iE5iSbglYfgCTBGBFIPKIGGYR2FaA6UkQOwL8C0aZD3aJAQ4Z4V2GnDlhATR4USxpLPCw2GmF5mMKLrZBJhTQ-tH0kJhbCnmTrRYQQHuFagzh7gy4SsIsjnCnmGwzdGEWRw3I46kwHGAfwoh+5ABAudgVwM4Gn9GCPAj+KAN8JMZ1wwgk3qDxNRhsIB3RZhIL1ACYj+BzhRIScO8DzgHKcfVQS-y4FVEmRCglwRJXICOIORsfLovsD9z8jsRbQu0qU3wDmgWgKxMNnCHlF0hFRZHPaAVwlGzBMRZgMNnaWsDRMIgR4CeloD1GFIIBedRQPWDRH8JtRjIrQMyN8JGipAFhCUWYHOCvMJeuo8dmyKCiciuigYd0fMMKCBhdRIYlIBKJFGSAAx+zYMbLzZSWhwxCY6lH6WiYqiFR9LQURySvpthHhgVMwhYVqqgjhYHXGqIsC1gBx5wmnNMDWNoCzAU29olNtKLYHBYAxbUfFHqjCxRj2RMYsUXoEbGOiKe7LfoLMBTHUpmxYAtoe2N1SEo5RmYgvsOg+FftwYlxXMTtiBGNYxRHYlVIKMIBjMN+fUU0YuXsE7BUWcYs0WWNc6QiLh0XfHkV1aGtiG2TFVzs13vHYgX8bQkHJSNEEtA1MwsBonQEFGHj02C3QkMeL67wZouYWSdmaLJHz5mB0XMwFIzyYNFouYYK+qAGGIAAJfWpIAACC4AcAPrQABKwxSAAAHkzayAYlLoW4L2AvOPCPPpiFkg9inAToj8kAP3FLAQJx4kURa2vEgSW2enFiXxPZHxtrx6gMqHWPoA4VJJpQJiSOIaxmEcJeEwicRLImUTqJcknnkJN07MSisYkpwGYWvH5iQJkgMCeNDYm8pWWIk-oDskeHic0YG-RSfpwazWSOJSvIAY8OsS7DyaBaTEe4CKqbEvOTYR6FWNclXhApLAcXsKPZGeTFG+ABie5RkmsS-RxABKZfXsC2AuW6iEgL52JQAAGROgFFvQrJbIuUvNuhEoCtAy8uU6MPlO8BhZ20Z4BqaJ0YD-EeA8E28C1M1S95HEOFKxGVKYTYMeuB-XqVkJqRW4aphYiXmU1MwWEJpVUtsDVNp6oMyxdgDSCNIAhSAYgSqLlpBOCxLTviprFaZuVomvEKpZ4ZafOBqn98gQAUNwUsBWTqBtYRnX9AhJNFZtUs4xBAcNPP74DjpccU6bdPB7zYHkEvIjq4iKIS8npkgF6XIG1iWgjBMJOGQjO1imDP2lSBRMdjaFozXp+0r3oKIaDZDEuBIXIPgJJGcTsUj0uwM9IJleSEeTAr6dRi8TPp8uKDFAQyKV6sCPpSPYvAb0e7QZdBT4wlB4HxFX88684S8lIQEECpyR7PKkWII5wPx5RrGFkm-HxmIyL+XAtQZ+QKjdBbMfvQQQR0hnmjC+cwOmfDIJnIzPk6TLWRjODA8yWsb8NWbIBsGY8C4Dsj9oKMtEojkU9EZCHSNGlSEPQCUq7LiIJE6AJZv-aWaUSplK8mMz6DgTk1N6Ul1wJAPYn2Nb5dFuRpuL-mOJKE2Aw5AomekLN6zMzkwNxLFCLTwC6Z65X8a7HiOJSqCiRJIEuXLL5mUgU5P4u7rlzGx8ss5sY7fuOLzmYQC5dvWzObw8LzZaRUA9QAlOQ7Czn0JM7LFIDCglyE5NcuuQ3OqDrgMxaorMYGQsFdztgc8rmaHIXkCjMOgDTOaCWzlx9dgO3XYITxbEFxZRjwA+VkHpbKjVR38xcb2Q5kT1n5k0fUZIRdHMCn55s3ln7MUAByuQQcp+WjVfksig2xoquS-OgXDpYFewdkggp64vy0aO3QAY1TAD1zdMECt0Z1HiZei00mCsNnfM5ixigxRQ3ekGMmgRibAjCh+V0UnasKi51QSdhwvHHVA0xQbL+YqOAnyouWvgATCeILh6xsCHEORXgS5ZMc6wtARMPuLTC9SzC2kXRcgQmkeJdFQAtSkXGDAGKLWXedQC9OxBtp4C8bDBgOEsWCjc6lEXqYTKkKDi4p7E0AJONgE4jgsiYbIPOF6nNStQSIbachF2m5BdFj2eDNwtnFhZWU3C2Md4pFGcKwgxYLRWnGCU1ZdFmS0IP4swFtDElAkAlOIz-nqjCky4sIHOi7Qqs8Wni6-LfjyWhKDpxQnMfYDzGbiylnY0wFlMJSqTJAJE+ZAABl9aNE9TM3BKloxkpV0gSEZIykKCuJB427lRCWUCTdJ6ysYL1LSk+LeU0TeSWVD2X3SJ8qoY5QstkgqTcJIy8ZZMp0lug9JVyzZd5KBFZCV6BaUyZuPMmWTNlhSmwLAS5YOSgRKIIXt8rhERtjivUkFXCJRBljc6pyjySsvCFAlMhxwvYcyWpRhLuqmxNxQss8WxSMlCgoXklJzkvLkVfpbMfXSWCUsBxQrPYOlM8k3inmbyuEb5K0D+TRFZ5XFV4h8lj0oQUwlrDen0lKSp06S+KSSpaygjEVXLWSBKt8V+lk8bpIEWWNhyNL8WQrZlc8IjnBYdowgMLK+LU6Kt4Q6qylg30Fj6qSAis38XUDDZchj0Z4OlZS21WqromVq3IGZ3lVCsqiKquEWWIiAgS++7o0xdtEhb6BYJAyxIAEAWxVzI1CIsGIYFtRLAZJUsqWQ0A2UyTvMObGJRmr75ZqSeUEormFl+XU9wJWagHrii4YDExcqax4aHRFQQqoR0XWyQZNoCwr3BFq0ILsHyzNdW1Yqjtb8EHxeI3mdk+sXcnqrVrNp2aMdRuP9XAcT5jfc5WyCTV2AFlaa3iSYsCUNtrJYWbJRoDThxKgQTAoNYgvSmszCguKaCcSlLWcxwJ1kpnlWscDTr119au4CySbW3iiuqirIIOpYBdqbAPaqYC2s5a-rHJTrRaVy1mCgip1YuCac8IXXCzsUJ2E5Ap3XW2pIptY2dUSw8VZqy5w6HTgSqzXRNCNMkkRthu05oayNeG7FKupTWzqN16y8jW2t5TxLgsmQUVW5PoBhZhl6k0ieRKongAmMvGoifxq0lTLR1LG6DfVQ42YaYw15feX-C8bMxIyaGjxVuqBB0b11+dTdQdLY0NtZNeynjbctGUTKhNQIYZaZsmXdiJevU6TWdUM1yqFNEEOEEpqkUzkT0k6AmsCjjShriWhrWws5MQzFhvNIgALXopI69wcKI8ELRiD7ZJdBYpgwLeLA80JYdKoWg8OFr800k40OFErOloxBZbUVyMytIYoEjxgJAGW8zqVqAFJbkCt6HQA5ChB0rfNxWyLW3HbghbqAe02LSIHxx+r3BRLTUr1sy0jb+YYCyJY8OiZda9pMW2gFVtkhjaq0ZxM1UKzIzBb5thWpbfmh96AkBtvwQnEBqGJ0tjiq2uVggXm3dbWNgDdLVdumGVa4trq-1X5s1IFb0Ub27eha1qW9kvhEwuoXkJrqI5o8Gq9bZjA+1TBwdVaAgSyp215V6qt22beVvPAPa+t92ugAtth2tZ9t8ItEEdtc2MBTtwO81TqMq1XaV+1UBrXvCFTQ6dVqKnyRiq5XeJZRYVO3gVDMVnamllOlhiDrnYiKqsa47pXOqhF+lYEu2hNKuN0DriWV75JXpPIaLCxekYu7HXuDx3MtCdDS4nephkCNbpI5O2tFRCbD5ZcODA1FQznwE30768iSIpKjLEnt3WnrRVNTuV2rgXS7yhnfsJcTM6XEfUQ3Qulz5ThXwC6UUn8yA6eTMlpBfgalVl7kdlAhcgRWuSo7OpnAEorsh1L2R-ETmU83bXCDt3PsQE8KzLl0pk5C6LhM82dNMtKAt1lduO3tTnsfansHdGqdXaSmkgarTMues9ihlZq4oFI6bIyr4LCwABODoAFH736VpdCW0fRIGMosq86jiXwLMF5SMCc1-mwwBesPJPdn0zgbIoVN5nWAx9JkWFrC0LBoBT9AG8udaS8QH79ma+sPjYAP2z7EoiDHyRZCqLOB9k5+Ucp7P33T7fBj++ffjl73I7dKvghFXIFsX2L-gGoZNU9sG1ADsdNeq1uAf0qQHm9LSNvZcmQN2LlgxePXdNFfapQQdMQIDbEW8DpAuQ8tXVQ2x2hhYO2GyIYOmwIOchTRvje5C40c5HE2g8KpOfCleSMByDUtUADkz+hqj+QKISktfrhB7J9kTBhgJS3EDsHCUXqBKh3S-jX6JWzq0ML73h62DmeqamTq7BTUKd+0O0dfWEEI0TSMN1GqjQxo8SmGmez6PgwIY5hCHP5XILIGIb32Mjf9+lIYtIfT0yS1Qxhzcv4b2RKhtDSG3Q8bOqCSHQj+yeQ7OIYBxGVDAPB-fmL6Q+TGdqYnlSzo5waG1tCY-3XGED3-AdoYeu5LHoID1UJkxQjnfiyBgC7i90u0scryVJYct85GHIHQBWSINiD+WQ6dQdoMMrO2DB7tmlNYN9HCUnB7g0CFPJIgmKdRgcQ0cl2C7mjzcfWfmSVj2E6uMLeEOXF+k5zLiDooYFE1syGp+WtKtbUUf5AlGljhcbY1UQj1VGzqEydzV9JN1tDFF50eQfNKsiyGQdsLTTnoAEUAAdLALhq8FQgDD+AW1AEwV0FUUqnyNlMfufBkH2S2FLAP8bpWAmRJwJouWCYhOkzlgFcGE481NFppCAsRKosVwsKUnQAAALyjrWAwT5hyE8SesSwmnjxXRk0iZFQom4QTh9E9WHN4fBOj9AHoz4EBNsnoTnJ+aj81+iqBjiHgY4qQGOL0tGQsLJkHgCxNrapTRJmU2SblMjdFThsFU2qfhX8mlQQAA')">function is_var(exp) {
    return is_tagged_list(exp, "?");
}
</pre></div></div></td></tr></table>
    </p></div>
    
    <div class='permalink'>
<a name='p56' class='permalink'></a><p>
      Unique variables are constructed during rule application
      (in section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) by means of
      the following
      
	<span style="color:green">procedures.</span>
	<span style="color:blue">functions.</span>
      
      The unique identifier for a rule application is a number, which is
      incremented each time a rule is applied.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define rule-counter 0)

(define (new-rule-application-id)
  (set! rule-counter (+ 1 rule-counter))
  rule-counter)

(define (make-new-variable var rule-application-id)
  (cons '? (cons rule-application-id (cdr var))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaWH8XqexNtsyy4io6xlurbU5qj6ipUUKc3Etz1GXJeoKMp2cXprIBmyURijrFJKhvstINy7F3Kjgo8RALgTPIcUs5YJtIXUJsZHNwMC-BzlNCHICPyMQWL0QCK+gLmy6HvmRQpsL7n4v+IkmFYKXnwodBU1G1KrFEphRcnct1qnGGxTgPAfkGD4GYGwKAcBEDIHQHwAATB41mT9HDOBRoVbwbwyXCNsDtMoB4UTGAAD56psk-RGKrdWgANUauw5QKiiGGLqi1Zpu67TNfqw1jq7Dy0KtjN43zj4I0kJ4TwxVNZmN8eQAAFvcLYng35JTAX0Q6x41UADJk2gEjZINBarlI5tABGqNAbfUbPAZqgeurpYaujUGkS41Txt36tXUa9KGhNDLWqit2cM1oI3nCtoPS5UiAuI83Zfh76VoDdWkNKhTzDpGA2nFx9Z3mzqAyu+fMlpdsUD2xQm7t2vxCo2xdhSnmcrXZEDdtru3jz7nuuUB7enFr6Ei2leF23nq7nYKtwba2+JPM+6FLx53rNrqAf97KJzNvLe++Nu7r07svVuuD+7+2jTA5Iicp7R3rs7Qh7dt6+0ob9XYVlhL0OLLPaA2sfQv01tDcMk8JGX3zCA6NRjAGVGQbfZR0isHN7wczYhvjyGmasauASpjWlMNvwvQJvDSG739uA54i4FoJTzOnFB7jJaaNTuIXs0AJ5VMYwWbQFjx8jOOQHgaIB0mxntmUCultpakiaF472vw96lOsyMzpTTJgcOybg-hjzinRrhzARwy2cox0ftsDpn99GBn+1xGZx9czwYaa4-5mDuH5N9qLSBi47IQYJC5BlyGfm41Uf9YG79dH9PLL-WSErYMpyQ1SyBmmdIsZZui9h+Nj1TD4HxDwQjj6usk2SVlqrpFBv5XxNKsbnWyQYzpnprD0GqNzeG74gAzKFojjC87TfHbV2j07f3QI6548ZR2X4kJiwNsxJ4ruaCtiJ4+0DItlhswYQIm2eO5aE3ej7j6k7fcDg9-rVHN3vcPWl9hgzAGS0e1R4LpT4eFYgQJKBHNjtQ4ByWnu7mMcLsfSpmEhDOEo+h6RJ1vdBMk8815wdVqok+L62kU7k6Ev6ZPN467rNbveMq0tWt-P2eL0-m0UHIHgm+emzNqwbmNEFeU9CDsXYeyvs51p6jE66sXfo+BbswJBciD8sZzLuvssw6B+5zzo1PonYC1evjwXCJLc8StT61Bvq2fjfTvufvScs6sODy6IeA924E1H2XnjC6rS3IoKPqPSLbrj4fAVbUhUivYOKrgUq0C7YHdppGShqSxqWi+HNqlEYejV0L5UOFi2KEs85Q0mgqkjL1+L-iglhKiWLYvZZ7ezAuS76Eoo7zMfq9JAJISJkh+13wlX2L8WzH4Aav3xfIk-Lm-D21HUepx+GlX+q7O238KaFG-H1mlvfP4DX095cQ3r+gEW3fi3R+ApNKsk-i-F-UYN-LfUAfbRvEQW7SZNFNGWgDKZ-LbZ7aAmoKXdKMsL3eVOwZAmKOOQA6rT9A3c7PEN5AzbA0QA-JXVKIGDKcxNFBAwHQLPjOOA7R9T0LIOELwFwBpQKKyHMPA9PODPlUacHYVMtPgjtHLATIQvpMgdg+4UoSCJyUQfZA+UZeNRNfCJQmfICD+fNFwHHCiX-M5JSVSYnf8MPUAW7UQloZtHmF6WCfgqwDQ2wzQewjAi3JQ2FVyJQuCVQvXTdaw0Qdw8PTw+wzQgeXw-7NQtHODQIlgkDIyVBLg8QRpYwhzexOwkpLvGEe4cQrnS-ToTwCNdI+oBw2vMaQo4o6oOBNMUADQqwpQkoioTIziG6UoHI5IzRZxO4LwYo2wvQAAHgqN6PDVoNaJYVWEPGoGPBPAABVshLDhgigmJPBCBowT4ChOxKBipYgTxQAABqL2VhQIFQX4LwRCG0fog4gzBqa45ZKIU4lVC4sYg2FhSmKYmY+Y6gAgUQG8FYtYn7DYzXbYsYXYu444sIE1c4-AS4xzBww4qXPYw4+4oIR46Em0ao5nUaLIXIAoSlC5RzYFIIAGbQTWbIfIY6LoMlYkz7M+Jo1pUATE6knoDVYnekmonyVYUknEiklE6qWQ6gDgzwZI1IpsbpPk2IZtFSXNWHOEro2ozdTEvk4wSUukvdOUzQbdTEtJdISuHodWR0aUuvSNfQkWQw7gv-EYWNBFD4+khqC8coYSZaAeBtZYDOARe6D+QIz2EQxokOLOeNOJcIpILw4MoInlHyQI1KbwiInUqIPUsqfI+NR0Mkv3Sk3QCAqwUFRze5ZtVwmQIkwIEk8QVMikvI5YJtOklwxkkpa0lk2LNk-o5ZLkksnk-OY4tgwUlVEUng5EcUjySUxzI09NBDJs1hUIBwUYRUrIms6QeUs4E+NUpDDUvNODbUkBMqI4-UniQ08ovQyBc0lI3sjbe0GqaYu0gzB03fZ0pIHqclNeFLOMvhCqD0+0L0pQn0ghOiP08uAMqjIMqM2wsMu6CE4k0ItFGMpIA9N05WJMqjFMtsvlXAMAQVJgVgfPTgSVXgDAUvBNKiTCWiPyOqaPOnAgs7XTOqBqNCaiLCcg4Iuo-Cmie4dCTsThXsAiNPZXe3YixTD+aigilvWuHJWtZkcXLtKXQILtBcECxcZ7HtCS4wHtaSnlcXRNBSuo8eRgZS0S57cadS8abSnocXIPKXIPIkGSh6Z7ckOgTsSQIoKXay2y5Yj4CyoIcXM8xgBSjy+0VywIcXJUCNTEUoOgReAK8NIKhgZYXy4wcXfY9SwIRQakTQIoPQZSAAPlABfEOOcuityTxBPFfHiuMESuStSoypfA-BypUuewXk0HSBKtABSpUnKtAEnkauMFyvF2ACKuQiSsarKsytADACqp0unRPAAFIeqGqmr0rBrxr2rQBOrnta94rpqBqa9c0UrqqxqABCHNVavqmalqva1SLa0a-KgYqaw69a0AIY4wM6oy57AY5SIqta5qwa56+6pasatKq60q96l8DKr67a-KtKl6uqoIN62awG1SfqkGxQE8HanqwaoIWa4wHawISvZkViPixi2i5fCDOElSU0JUCkrtTQfipigmvBHG0RBi9CAS6mrSagUoAAK0mC4WJuWFJrqnetUrxuwilxV2ClyqiEpvxsFVYiwFxoZqpqRWErMXF09UVil2VuKlFtArcue0gGIAVgpHsrqp1r1o6g1s1piuezCtsFgEgAUstuttNrNv8vkHCoAFF1LLaXaHbNbxcAA5SQH2nqv2n2+c442mzYemmi2iZ9WwrmnoHmpCWagIm6cWqOv5QBMO2SFOtKNO0Yew2O9IeO964W0hCOxm+WqWp3TXCiLOpmhYRiTccaegrMqu2wQqWwPKRgCCbs1myQKQU+X4EWdsgyGuliu4XEdivSZZBuuRP8KIQ+JtZKQoIwpsJusQWpJI5eqyaZFBEyNvAWwSwmjIzQZU4wGu6OjU7ejsVBPe2WiWo-Fm9migHmE+0uuWnO6Mr2wIfcgwnsy04BQ+O4JSPQzwLIdorkC04w2JRe3+tIqW7PYtXPdCsVTC7gTAXC9KWYCgWwMMFQFRJURgFMEjVep1bVY8FXIhwiIeEcxgm9NcsTf4T3a4k8WwJEz+M4zwZ48h+hu4T3Ueaht3PuChr-KwfiJUdmSzBQXrdhhwiQqjSQUgUgNYhSU6ZQaCBRgahgQ4h5BR4ck8PY0IPR5xRE64+R0gT+j4PRt7KEliYR0AEgRyBwHwdh6CNaFx4U+xmYBwOCXeOC0iNEzwJhhG640RiUBwCR7GHmzcdu4gBx5QlYg2JhnQE8Wxjxw0KNA8FgB5ZiYh+IZ1TcBKAx4nE8PhlTMxfJ0AVNX0DWNk7dfJvQA1fhxnLJmNPQE6gzYIH8Kh-jNBcp8ok8DpmyUIDB+R0YHBicfBlMfJimQWDXLY7XRkcpyphcbuMtS3dTCrOprogxoJw41JhwOLDJ7p5pjcbJySZEhcPY1h5tJ6ZzMcH-crBZ058E+0S564vZ9JxgTJlXT6TZvQfYlhH8Yps0XKGJzxpQQzORKXTcNpUFtJg5z5yh5YEkDQqZtEOx2Fxxk8NSpeMxTdfJzUuDOpmF2J+FlgBKF0ax5pgpgzAAclYc3CYbpb4f8eePyZSYxfuDDEYBtC5aatkdIs1WdSSFIaOd5fMftHF2GDGEROmMROvHIERKxAPAVYaiRjuB-ERZ6FCHedFY9G5Zum3TFeJbBdJfJfRdid1YPC2tXL4yNfNZNbFczNAB7r7tIAHtzrRUoiTAhi+hycxGBPmcOG5GpclYDbN00DWYeaDdpHFZ5pdZhDdcoBFioLpG9dhDcfWnyF4aRb6Dbl9aofFw6bexzNXDzeDbNe5Cdd5eKCfGpC9a9FhF9bJTDlma117HLeZK9KPylNUlNGudLdWfuba0ZHLZAVxrTYcBEhgk9h5urYfFrfrYhgzd9afKV1amLVhV0bUqoY0M3VTYbcnaTx+kae3X3YhmDRgmzeFHXdrk3b6b0p3eYAPYvbWj4ctx7dzRPHjf7qTY9ZQJ3c0rqlvbzOmTjd7oTfdZTafaXfiZXbNY0PfcJIYonZfZseVn4W4hmduZXeZLF2eyLZPhLdbRaFHfQ5fNw+zkrdgofRAw6i6ibf5ZLQ0ODaoc3RY5zY8q+ntKalvCsHWdZjo7otsbQOR2DccITUA-Y61Ztb7ik4XM4+5G46vF47XuHZEBE64SAwsKVcYAnHIGoG0nuEzQmDQTE8Y7zU6iUDE76Z04VdseM8xFhGVZUV8zM98a4oEw08zeZzwD9wPBhS2H+ApqwTIhMlACDXIGQrQrYFIHDXbANDAOQgcBA122L2L38G09hCTEUBVGnySgGEYE6T9bZNMAK6K8GfRYmAVmKmmY5hkBy9EDy83U3VK+mKK81bNFCBa8mDa45NbHvOy9y4Jb41a8K4Niddu0C7uEUFjUiSTAxCm+6lUnF0nkW4XjjOxOyDyApNy9sB4E0F28W2ZOMA-joEIFKEW89ixEG8a72+G77haTiwJWgu3KS-O8u-KLVrGDrLYXjS+43LtnI8ER6A-lG7GCu6y9IAa4omlXu+UHe+e9XfSHVjB+HK+5+4+CWn+-undOO8x+zm3TB6R-jIrlgppPJ3oGVeh7u9AEO-zJqAx9O4R-+Ah7oBu4on25k8UEe8W5e+R54jO4u4JTR5Mnyi9W+7x9RLMCe74x54JQjIXA0NrV28540Lp9nI9FIRfqCG3Tl4Yb5-jIw+B-fjptR9Umu6h-V73WZ54eJ6CBR568K5F6q-F7rP3h6EnJl4cRt+UKwHd9Ao0LV9u9h41-DO156Gt6F-19Yn98B9Vkl49+l8J8d7GHp814B6rhgsz6LOPkcvkFi7oQx6WjYHva24KCBYMkyDL-yGmViBL8-cKgcF04r9slCEb+VfuPeNqhYCU+aisD88BTvMW9dMCATLXbz-IFi7WQ-gH4C+F9Ukm4JRm--A-gi89ln706X8M2r4bT4pC9Ug35UUW4Rvb+b4ruPmF0KnJC8FoN0SC9D9Xo0JIzT6CNsdKCv+7JIxSQ-68FXs3Xf+Bi-83+P-YUlHAAHX8Y04nbdOAJVT0UYBnBNuoEVv6WI4mcRcThb2QHy8mAERWxokV3rP9Q+EbHwuJ3qLN5tIIAzAffzjhECcB89Q7DogY7ud9c5FWtIp3aZacwsmwbYNcFRhsDAiMLR0kvh0S2A4uJkO4IwFjSoY-cw4GNnjxbY-AcOxvKIAEhAFBIQBrdOsEgL4E+EM+eueAQE0+6i9quYwZsui0EEiRhBogsYOIK47YCoKyyWIAMHyA2h9B9yfQQb2fLx95BzHGNhj2iKkQNCTgm0Gx18GaAghTTctsT1x5KD-BfHWkADzH5j8lo4Q4Nk61OK2oWA-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-bkKd5LIVERx2ZSct9F3U-RL5mCVWLJFfi58WYC7FUjFAbijcfFEUzsTnJtgISWeAAAyLtKSYOOkDmFhC8k8KgNKNCNT15euDSRoImDaTIpek7yVpODTtKAplgMydLwsnaLXo9FWyZUFGVOTuJVS2pfUq8mjAfJ0yjpYYqikZTXhXQ3ek4mClkjQp4UsZVFLCXLATwA0uKa8J-A1ijlRS-poiWuXxT1FniTRaMs6UwzMJey6ETlIMjWLZq9xTRRKGoW6LKpyo6qU4lqkKTPl2ytScDJPij00lVrRQD4qqkWjoJiQVeplL+X2ZTQ1ojKvdEyk70RIZw5ZArF8lKT-J6KyFfGL8UDiPlPUo0LSqMVNiIygFAkTrNSXYN0lvLHUVirJZmK6aroQQMhLMBbpLOaK-RdFKpi8qrWI-W3KRFFUkAGZxgqhnCAEj6JeW0qq1gKuRE5sVVCwLzrqv1b6quVeorHL0ppBL9kx9CuwP4zAkeZzUeqPoAwOokeY0h+nUwPVK0ht0iJDyPybQFjTyCiJS-KyfHGWAfxKJqkE5bd1IkRqAe5iiwK1I+hBrXxrw-Oj5AeUwShuBmWKa8oB75AsE0PBqAWtuUFiUW6azQAOMUaHgywvqjNVSIN5Cyq4ZOEDCoGmITJJp-qrSRksRmIS6akUz2AEq4WHBnFaQUNVpNtXbLI1IPCiY109hxqKIpEgZUmrpp1rU10ywVVmo8g5rgReaq5T1JuVUjFVYtEtYepeUVr7oGhcFbWpTUNqjpCIuMq2tH6Wr3lYwESEdOmKNrA11K4NfaumV-qHJOyqhg52oURq+GDnKycBpSlRT7On639RGrJSdqfVVkymQGsTUrjw6FQKlSBpySVLXJwk0SRJPAC2xCNAk4jR5IaVVr-19UZCANVw2NqMcG8k8LkGSaz5WY4Gnqf2tjSobu1+iXtX0t40uKcN0gL9cys9iVLqldSsjWkGk0rKaNgHO9YxvE2bK4yS0NjTkA42ULMCppUWBsFZptQvoPwjeRUNmj0Vwchm3CCZr-4IYLNtjRPNZqECZtTNmswQtdFsZCwf61lIza3gs2Aa2SDmzjRbi-K+abNAW8zk9NDyjRE84WlzbZqgEeb-ctjIqJ4AbAiQdVkWpgdFsRWGbqAXU5zU-XNXNrANB5IGH5pXxFauEp8zwnCL4b5aupTm2gJVq4SwFiArWn6CiTlU6qrNLWmzdVq62x9QKnK5tYpmLX5UpWiJHrfotQItaCt8G3Cr5oW3nCbAnWkrRkL9blb4tK+HbTVofGIIc2RwzupiNmE4ih6hkHlb1rC1rabNe249qNs21ly2h71ZbU1vYT3bVtdATrXdGG22RHt2K-tBNoRqysGoM2hVQsLW0Lbz+j6NLadC8iYqERuyqkVlPkD-KFwhKv3h8HM1Xb0lcOyRvKu5bHMXpBkfJfpybUwSmx-gP7fjDJ2FLKdb8iubEGJzPa7IdWi1UBGB0nh5W023HRDuWiiB0tCgGHQkWpCTAsEVnWQeZxNhsDgGoDKkBA1xCIrv2ibZNlHAR0A6hVVUJaLiuyn4qzQmOmpOLtRiN8xEVAU6CfTxZrQbo-Ak+uYgjZlVtenHcQCePwWXkeOLURUTWS0rvgDMBxP3hXKCBftwOP7NXWig1ZbMkVXgF8YKuArTMWdNkTXUDpLXB7XWkHF6LzrcANhCdBtZ1iHtV1-t0+OAD+EqDraOU8hnsAAJz-hRo5euyrHrc2Vzc+NgJyoKtboGgfAmgHZUoPkGNlnVSg3HurCsDlEAADOjOMB16bQNLGlg1DQBz6z1ng0eUSEn1HMVAfM9IJPrb0UgdUmU29DdCsAfhb8pPbPhPpb15Ct9HenmKXvGBn67KiKmQHIoUUxRm4XajbdiqtHs6qRTMLnQ-rspP7yCYOvndyyhayK-9cWcvCLs8RntYQOelCDEywSuEDw5QOECbWFXh1XQnsOdo+C2B1toDWytJnAYm1MNfwGrW2OrGwiMBkD+tUAG0xewui50GPFfQVV914HjF+i6wPAaUg9RCqs9U0CvveawHXQIUOPpVDH7qx0N+nQzpiE-XYwhDGPbjfoh-UwboN6akJGEjkMA9yDSBrsh1BoOfs4QPRBVuPq9G36bQzB98L1HTVkQZD4PCwxYf6giGBEiQo3nwdMMI07Dvu3lklC-Gc0PD74BfYEE31vjiVey9HY2I-LpVlSAhnVeH1N3cDToroHUTWpd0EABqugIYeDqJ2JGo9IDApRTuBHE5PcL699ffi-LDA6AN4HVIVAm3kT0DmB-RTWxwOLtG2FraoyFwRIkGDe75AeDkkyM8s3sHYvI7HsKMaaGyzqQIn1xZDc7viOYlVF6PkCSBimu8EFiSx1VxGRgPApQNkYCJKFj29u1I+9XSNsSzAckSaQMBIAJdVII+5pcfF2nbqTcgbOsCNIOEVozji+S46cf0TnH0RWlQ4jwCiVWAjp3xg0LY1ux3Gv+BAo6Q8ZhQjTH+gHJ5RTWU2TToTM0uHhQ3G3QcYDOqmlrZ0UD4KAAOlgAg1X0l8kh-ANMUyYs7GqpVSSLZBn0GYKDyBoTlgDwOwGcTRkvE6eMJPEmwZcWAzuSc+bBijohAVwjdDy4aERToAAAF4l1QAhJqIKSr5N0QKT+xvLjKdpM+R6TDGbQw4AbTu8RoZR+gJUePA4mSTIkMkyqcOo4sxqixhqKUERKkBES0rQiDS1Yh4BWT2JxUxacFNWm8qCNW0wZntPb4nTGrLU-1CAA')">let rule_counter = 0;

function new_rule_application_id() {
    rule_counter = rule_counter + 1;
    return rule_counter;
}
function make_new_variable(variable, rule_application_id) {
    return pair("?", pair(rule_application_id, tail(variable)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p57' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	  When <kbd>query-driver-loop</kbd> instantiates the
	  query to print the answer, it converts any unbound pattern variables
	  back to the right form for printing, using
	  <div class='snippet' id='javascript_95_43_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (contract-question-mark variable)
  (string->symbol
   (string-append "?" 
     (if (number? (cadr variable))
         (string-append (symbol->string (caddr variable))
                                     "-"
                                     (number->string (cadr variable)))
         (symbol->string (cadr variable))))))</pre></div></div>
	  
	  
	  
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  After <kbd>query_driver_loop</kbd>
	  instantiates the query, it converts it to a string
	  using <kbd>unparse_query</kbd>, following
	  the syntax described in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  The function <kbd>unparse_term</kbd>
	  formats unbound pattern variables using
	  <kbd>contract_question_mark</kbd>.
	  Note that it needs to distinguish genuine lists from pairs
	  whose tail is a pattern variable (and therefore technically a list).
	  <div class='snippet' id='javascript_95_44_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPYZ4AhDD4MwbBQHAiDIOgfA8Cy00qIuDmwlqyh9xBESyAoSgepo2j6Ay+VhAA-NYty36EABcQtIuUz82A-GvUI9hC7BAviC+XoVJlTUhpcoswD4mC-tYN+cUYxTnPKhT8YUb4FVAA-HeZVJxxhQc2NB6VPIwLgaABBUgkLvlQaHDBBVsEegXMeZCBDZxXifKQzBFCA70RdPyT+mCGHJWdJqfhHDiCHzIdw+KiV+jJT6vxCqAj6GgBwYNYqsjaDyP6qlBiJCJGwK4TsAyqc9HxDIQ-c2kgEJ6BMRJJE0kMZQLIZglIJi3bONcV4mwnCCrcIhnzQxKi1EBIMNzG6L0hjQ0plA1RBipE7Dtso6oQiypJPEZIoxERvJRIphdIJKTVGMJyQ5GW+jMl+PZLHYOtCDQWLVNUkyODL7-BTgokKZjTDQIMdMFxhRWpqRAbJHOeculxMPgUwob9vDMCONHAAqsQR65cADuWJsT8lUFRUAABaHZRTd7SWEu3QOcgTLCFmCMgWlB8CgD0BEWilAWCyOUEsGxwhGS0wLqczmjznlUFedYvSegLlqirkzGwnRVFyFkOIW59yoysF2NQeoQLuogpIJ8n0NhJzAjoIrcgoA7gHI0HvFOHiPm9O8V4vq0liBQgPocWgTk+nUpsCnexUkZIYuICYKlbLvEjP5QK1xbSJFMtEVMD5hEUjyykHZEBeg6IEsmSohVi4ljFjpVMZVchTCsrfvURozQ6gdEhdC2F2LrAzOoD4UFcJFnLOoGsgg1UOa7BkLs-ZPzqyQqIgFAZighl6AUXQbph8vmC3LqPWSobVWhAfsLOBb99iHBDRfMlnc3TdzjeGvlrKbCBowkuWSI8Rkhpop9PNqswZqJkaVUx6DykC11uCRgS502HP+L1fq9UWixJgfG++JKWl6B7bRdR9AB3xNcdMjN0kx2zXaQHPV07D4xWqiE8JvMPp5q+Tcu5rMWDs05qEomLaNgQSNU0YgLQzXmvkLCg9CLxgcjJrkspxhPoXsKOuZpmaMbvtKTjIm0wYH3usFCx9nqrU4qQR3QDkRjDFs9cSvp-6F3oylh+kD1M+Xga-s+7JmYUMgqzUht0ICsV9PXFh99yGQEQbCFBmFMGaMQS3TzA6egC3gWw8BmJoGCPVG6KEboftqpFpICI-tGl65AjlU3JWcmh1YNAEm6oKaDg+DhAAKmk7w29dRdOA1AFJxEhn+2BhU6GAAkKEf11U6Ah3nCi6chC5yjJbUR7a27uMjkjXBks4NqZEvBn5yG0sYbtC-optmHMuZcfekTPpibm59LfoHLUNwXMEkIO5th-RZJ0axp+-m+aRWhGczkPLBW0Ixj0FY0JvHKt8aA9ExmKsZUPtY4F-Gjc8GNg8+wupXif4wkG3VohQDOyMgyzsKhKFhudNUykcbUpFusPq-OHEHYQwFrfsLJj4mt6qjUek5tXzcVuzCy7DxDImO4o1iHGFYXquufy1tohsk3ZMlCLigzcojMMGJeZmTrRnvqAhQXDD-w3bCu8bS7LShxXMElbYzWUPZiA41C0MN4yS7tzUSUjr+8DFfPkqoZ6bU-Skd47DpVJH2m6KbfEBHrWCc1u3owkRZW93YtxSAsLDPeeulIwyPNTGREzdI6L7Uu3QIS9ACAyXCmIKMcc7Wxhk2vu1OMPzoE0uFfAI1Yuks+CgKYhm54woDOdeW-QoqpXMD2c+IMVnNkajNsO9Z5dAnXyjdgNI97mhVvjezdd9a+d-wQ-LbbE7g0ebI8E5nmAOeTBWDsBXlwdeaA1qnbZIMdt-wqItvXNsh4xKohLg3WbKnbzgWcvsDJWY8P-fYvXLlIqx6UX0rRQeQGLWm+OPx23gjYtpqIJ76i95Zfj6nRyjCfAhZozT77whU200OUti5U4-Ac-lqTDauNZfoBOoe+TnpV21BjIgoP5SFaJ-ZiTQv84MVygJVOX3xTlqR+xogtmA2lr2misXVUwi1VdHvx+ilDhDAKXFMwgP5CHh2DgJjw1SgKzHvEjg2w1ULFQM31VFQMnW1T0Cox-wJiRgHCoy5zOzIA1i5F0BRw-zRychgXIMpEDHH3bhKwXg-jYI7zMj7C4ICjenoItnOUkk0nbwc0vVvFTTtUkNV26FxQWCWHi05kZRYNdDCyOwLzECsV4JJHD3xyGQwNAHkOUg7BMI1TbgCkMJejAWK0kLWBkILktHsOQPsJQycKRBcPhlkI4ODA8OALOyojpQZVR2ZRA0cNmA9FHw5DUPJwEOWi1B0AWEsL1BpkrzM1SPSLiNW2sAfgsIMMkIyMyGsJhT5VAA8ASKYIKPIRyN0HSOMLMAAB5Gi0j5hSCod6jCjVFGBZk9A4QAAVDIUABSYgbEMFHQdwGGcGABOOFoN+OEUAAAalABazCEMGiF0BuXdkcLMHWNMxWPWM2KqyiBiB0D2O6MqN6IaJtR01GOoAIBkBWWmNmMpnmOqUoCWPhDWI2I5xCx2KuPwH2KsMOPhELH+LOJsG2MuOuPyJoNEgyH-kAXD3FzAQN1CBEIkXGAyCUn4K-gCnezKJhViJ6L6zCEU2FlJM+hhOwVxN-iUhhNCFEOoAYJ0CYM-xxkHRhLfnDyJUeEJgOJZLU0tHyNFP5Jc2VhaNmEDERKYzE0I3hQPkFKr2eHUK5K0KQMpNZIGNtVJMLEWXSHqHUyRF9UKBY0tT6VxXsLCx4NKOE1cXXBJK8OMJBWcOTwFS8ODQ8L+0tKBFExh0ZPxJDXd012mkDw7AxI7HJLkCxPZU3RDNrjDIjVg2sGJOlOMLjPky8WpOblpLuO-nGTxJTJZLZI5K1KiP4V5IFX5LATVMLhaLOIflkDdHFKx2V3UCLNfnBmlJ3AOLlODAVK-ihWVLuVVOyNUKUGPQS00OrK7HQ31KOExPhGNN7zqDNL+C9TVEMz8n9JSCtLYy8VtMkPtPI3sNTIPIKhdOlLdMcI9N8K9LZR9JsMfL+G60PMDLV1vAPlLIJPDPeFnj0nnkXiz04DXl4AwD0KzD+ReQb3RQ+QnhcmzEXylHtTgoBTulf3MOiH+UoEBSeSDjyVDiQobkRm9iCMxSslxUwoIoQoPBBzMxhGfi71NFMxsFNG8QqzcV+mtA4usGtG4sjy73kIEvMO02EtYt+nYnEvYikv6V+gVlKFM2UrkEwR4rCC7wSjoCDlUGxFMx0r0qmIKk0tCC7weIEoeK8TMsLV+gUgWADg8DoEBgcvmCcoYGqFsusC71WPEpsD0ColmGxDMDuAAD5QBtl1iTLvLmKYCdl-LrBArgrQqIrtl9kYqRLfoTNZgUhkrQAQqiU0rQBdMCrrBYqu9gBEq7kgqCrUrIrQAwBMrpKYCABSaq-Kwq8Khq1qsq0ACq36Svfyzq+qivR4EKrKmAgAQgeGGtqq6uKpmuJQmpaqmDhFaI6vmtGtAHaOsBWsUpgNaLuESpGqKoaqOr2oGpgLCs2pSrOu2QisusmrWrCuOtytCFOu6oeuJTqueqGKmuqoatCG6usCmpsFL2fiZForwvgv7zD0cKJS-gUiUlNFmDosBTnihvg3RoYqt2oA8AACsmxGZEbqhkaeUzrRKYasLTNtJpVYqwgca4aismQsBoanlYbJsmLcou9r0TVTM+ajMGbATzLfpIBiAb1EoDLcrxbJaOZhaRafL7KtB3LYBIABK3LJA1aFbFau9NaABRcSg2nWkWrvAAOVUDNuqotrNp7JFSxuCyZp12MNJsKHJtuW6vcKqKdqQTjCZnZvwsBR1yGVdpSHdrOrpsZDRupvosnQbH5g6BOUaXqg5qwuZrClBRznYjMJ+UkBiEkCNUYDOUuMkAJtUDUGc2iHZh4wFSZqIqyAVFIsxWfJSCzsmFRDCAjNVDbIASrPRzMKRz73nPR14yy3pT0CZpTmzIBMBJ9vN3l0HNHtjmywnpjoxqv3xqJooHx1FNwtTtjuDpsJNpsGnM1OHoVCsiyEJWnJ0A1hqLKnPu0OJR7sAUfv4VZuAu6lAsz2Xggu4EwBgtADLortICrsow1Xqk1lSgrV2DMIiFOXjlDgUVU3WzWoQYTi-FmDaR0SUWQZbtCHJuAY5FAcoHZhQ0gduk5EuXBRgbtC-m4UgWQa-lQaGLvlM3RIgT4Jojm001URohCLZB5kYFPQ2SGCogoegeQf3XhXge+IwbCmQZ-VtKvwFLQ2qA4aJA-mwcUTTkUcVJmkduYEodkChBGTC3JqEZEc2XEdoigaoemNjW4evP622CnobOyLhDEuYYkrTUtFseMbGCuS0koLKH8dSkCfBTod4bcY7EbLhFku8bCc5AidznoddW6hmziaIcrtIfAc9DhESe0x5QPBm3wZsEIfLuIbAfIaSfx3LUUdUy0zTRib1GjrsZMZjWvKPLhUPVcC4dgZ-U71+jYaBiD04ZJD0cDItWPKpI434e-IkzBndX+CkeSMbgsKYcKUtE2amX6MGIUSNKWVWWcGZwqjmGxA9QIInFoG1UcdgfYNFCkA2e4e8c4Jed4YeJgcOadRdVObSgMdueOQCllG8Ct3IAri8ADjqAaFaFWZ-I4IuZWe4biZBcYEVBwuuFMeSbRfQg8ThYCIotaEQM60maArAFrm8GAiGGQjRvyzVHpVAFGHIFwDTzAtIHmEUkcVADWjuVkGmjWjzzz1gROU5E1j0GemxFmDsGjEYDqFzILjUsZxlblfqIfkFpaBcWmT2nUHFZkElcLktGldtRVZ4bG0LiNdlbpO8Uy1FdIF1f1cDAtZNYEf0PrxeGQj0BbSe0xzKmpayDCy710z9ZkBM2vIDRRIAXtckB4FmAlckEmkpNxXxQ8GDbC1lDFbjZjbmGDEh19YAk-KKHhWTdTeyPVbqB-VlSvXpWNSM30cg2md1KC0MGBGVbTdtajf4CHNgkIBTfzeccKGfSdcbLLYrZvKrYaBvTvT6W6fTLHdvEdabGNf7a-JE2-OxLVnoFBajazbjc7a7M9FHaTZ7ZLd3LoAzb1eja7bKFzfdayALdSCLePYAmHercnfLcbcfnsBeAHBveDbKeqAsNykzbRqKd3bjKXCjt3tCEDF-b7eXdABnZtPgyHeJXTbtbA+ze7d7eQnvYHfhRQ8eBHcC3s0KDbO-fpCfZpawBI9nqKYsIw6o3-YFR3Eo7vcIho4Q4bdnfUa-YXeVfA5kHg6VNXeE8TLBiMq0HZca1Hfkjid-lRIKbZR-gjd2F4zfjYA8ZiFkDRcU4FQfi09Bc2OmWXMa2+eOdAApaIR3ODYtMg3he2Ak-IHZbDFxUs6pefeJSsWDc9Y6FxSZbCzc7BYAiGPk4AWrForpeJUC-Qm87hAM509ZoCisQ8BiASliEWwE7MIsIy-3Yg5wpS-pRLsWz0AK7S9WAea9laFK8uOQOq8YMVTq-K7We2EDEa9q9S5LvzsvJy48Iq9PbFZ6+cJwsHtaBy5VyYF8L6+KLdca+6OYSyEy6waG67sL0oWTFob671mwKmAOfhDYaRO+HnqoD3l2-sOx2IBNL7yPEkA5fpSyEYBbQCmjF2CaWRdnZ8yYVodHf+3g0a9uw68YK68dJoiW98LrdmdvD+9LdfZNRazVYu43KYRu5yDqHu6+Ym4-Jazfme5Mka9Iza-g+6Y++eYGY-cFgsJx8HCEKcdmEp7eYGcJ64-Y1-PmZE79QJZ6lrle9gZdaxCiGyBYADmXr7waCTGxH7ToCzdF-0rGDoATea6zBpMl5QdAGl-F6hDl89bSYsMJk6iY89bOu2IF6F49RF-kBl8ajsF+HI4MD16g45zV9l8mmQJiEcSyHLpQjF4l6l-N-V+kHl-s8V4LOV+8cd41-4C194Z177GV-1-qtd+8Hd8BTD70DD-989aY8wQN+6qN+t53E6kJ2JP5+t-wCTCMEUh5SBjMNL60DpUiCt5YF8Ab8kHdpICr88LL7r9z8b+77gdcGD+L5YBV4012YT6LuyGT99-7T6UJkH5Nuz4ipr-IC78H6b+N4sgb9HBW7EBG7zsUHrEmBxhy4oj9164F1+4B50H+8K8B-nG6+TFfBpYx8E6Y3XCh8I5h6M28ZG7m8f4W9V60Cg9MeUfWvt4HnAOUpOePBrpfyqIn8gBL-bfs4H2DL8wBLfSTl0WQGzA4Bz-avmeQ8b4BzQLQFYt4zhAEC6QRAtJuEh1aYCAB-gbxnaWsBpMIgR4CeloDMDf8wiyOG5HHUP78IaB2AjwkwKeZ0c2BZwC4A8iKYn8VeyAxxOAPQHKxkBx9VxIGCkGZ8AOoAoKBAK6J+M2BagwEpaFUH29qUfpNJqQMIF1A4QvPcGJcSvpthu+gVLLkU1qoL91MzcA7j1EWBawA484VFleF8H9BZgljPYIANABBCz+QIXFFoLaj4o9UYWGQagK0F6AghNA-wbQFmBGDqUYQ5bhz3GLoDohBKOJmQKyAWDvGI-FIPyRsH2A7Bq-KIbqlMBWDCAsgPOtWyoisDFyOQk+BcViA6DTA7gxll+3sESsd2erAPj92CxMUmW9rYYdiBfyB9wYL7CdiajUzCwGidAKwalz6iSA42hINoV63gwSswsPQ68ophYESszAD8OEGwwaISswwV9UAMMQAAS+tSQAAEFwA4AfWgACVhikAAAPJm1kAxKXQtwXsDsseE2nTELJHiFOB4BZhRoUsA2GtDoRvKbxky2aENAqIgTbFpCLaGyDGm-Q7NKUHBGgsisOFNEeoDKipCp0ZhR4c8LeEfDvhfwgEWSK-aIisREIorLiLAFmE0R9gxEVsIvY7DkRVRGUNiP6A7Ju+QLNGKl2JE4sGsyI2EX1277WIy+5NAtCf3cBFVNi7LJsI9G8GyirwGolgCBxQEwicB-7fAKCPcpUioRGg4gLCMvr2BbAisTVL3i5bEoAADInQCi3oVktkF0SbxqRW5KArQMvAGOjAkB3Rzos8BGP5DeB-iPAV-hBHbQxi3R3gHClYl9FMI-+aBeblIRTFLB0GwEEMY4LTSXDTMFhAsYGMQbBi6gV7X-nBysF2ANI2YgCFIBiBKoXRew4LFWKLG1idCrxf0WeD7HoQQxPnIEAFH55LAVk6gbWPi1-Tz5PuUjVLLkOpxZjiuu3XsXI2LHlt5sEgtNDs0EQ+MfAU4yQDOLkDaxtmNPGEqePPHax6eUTWdHw12DHY5ht42cZ2LvZWCGgpvOVgSFyC7dBuk3bFJOLsDTiPxgnSkh9xYGCdvu4QFUtqzKA5dYJZPHIdXhkDg8xMTPAVNdmv5ldmh1iR0rCMwkLjIeCwmthqw5wPwCBrGFkm-HfEXiSul-fHrhy-K2ZEOeZRcRs3YF6c5gYEs8R+O2afIggfEmQOBMYmcFTW1KN+DRNkDg8gydnNCfxLvG0MrBu-bgcinogesxu6gRUef2CxQ9qizEoHh-CAkfkmMz6P7ktVABEdZ264EgHsTQFOcuiUA03G13SGK0wgHoYiTPXrbQYemL6FgR6CxQi08AumcKV-GuyX88JnXO-qUW8k4Dweb-aKdZLLYriHJoJJyVJwy4ZDXJmEdydR1swkdBBXiaZJwPHo6T4yiUqZv5OfQ-jssUgMKAlLMkoTzAjVMAOFN0yxYIIZg8gRYOOzYTSJlIH-pVOIkLNAGGUzmIkN2BZtdge7cITkLtL4DzBunNbPCCKEUCPmiEierNMmj0DJCQgz7jNJ4mFBsE5UqEBpPZJcgPWM0tGvNOcKHSWBc0k6WtPUmKBNJ10rIBPT3a3ScB1gMKRFN4b7ifAx0sQTsAsLPTvGk0rKV0UDDHS9B0HYMM9IRk2BoZiQvxnb08mYI-Gk0FGcYOcL4jepxQywYgJQIujfAAmdoQqwXz6wKZHWPAi6KuZ1haAiYRoWmALFmFtIHM5AlWI8QczNu-fJWIGEdZdipJw6LvOoBnHYg208BfEeZGDDcy+hudSiAWM-FSFkhdowIUuGEaETgJEQ+DImGyDzgCxYWZsUiFbHIR2xuQDmY9ngzQy6hYWVlGjPkEazTR9oowcWFZlpxDZNWDmXjNCBZCwecw+2QJAKHLS+pq04dGULCBzou0kgSxmrOvy34fZxsrsZnw5K2Cdsq-EOTEN6G3CnRtIyQJ8PmQAAZfWoCNcGlBvRaMK0UOIEhcizRC0guPCPRF9QG5KIwpGiLZFQgCxtot2fiPJFEje544ifKqEHllRh5NIp4UXNLnlyWRbobuXXL7l4ilRg-E3ivQLS8jV+-I7YeNGFH+ybAsBF0RKMH4oh-2W8hvqw2OIFiT5DfFEErOTrDyFRf0hXkCWN5L81R1KE2d1U2LKy65ask0bINhEWja5T8zWTgL6Fchj0Z4BOa7KAXP96+AvMwsqI-kV8iSeAiKn0mVFj0oQKfFrDeixYciGscCsAcApawuDc6w8khY3IJnJ43Sc-NSdHnjnayTIljeAYgt+Ddjm2O0YQGFkmHLMkhLCkUbDmYXeADKxwiCDwpIDkS323jKBcRVEXCNBFYi9hb3zSZSLcgxLWSJYyqL0LN+6wq2RiOC6KCBZ9fS4lT03CKCzAIk5getyOGQLwWdgA0aOPnCIi9AVI7zDI0MV9RguHiw9vsL1ZhYd5go8aB4vB64pSAjgZsdmjFHVCG+odEVBfIF72tCwVI2+QL1s6M18sKS+EGkslH4MLCVI2YC4MiUDExcVIjhUPy6aDS7Oo8tkIYFtRLAqx+dNxfzP0nNtkRYWT2RoDTg2ygQH3REcYrtHUZqguKA4cSmCWcwhRwy8JQbKiVi4qx3fBJQKiSW-AclR8rIOkt+CZLQguwbJRKwZmbL8lfSSsS6OKX1VSl0SuuZUoLYcS-UizSMtC2uW2pnFYUDxaYtVnvLvGmLf+R4rSY-KqR7i2JbygxZPLAV7y7FA0qcUVKWlLQoFUQpBX6zgsmQQhSSJjBhZC59Ir4T8P+HgAmMmK94diqZEVzClwK85WdRRWvL6AEi28HCD-gky6lYgH5arLaVAgoVTSgMbCoxFqzryrnOQD3JdFMVC5xcsuXiqBDCrZ5JKopgWPJXdVKVvcmlZSDpUmwDFM5E9JOgJrAo40pimknGhwolZiwmqkQDA3lYuNKuJqnmQJDdCGqMQdzU1YLHp62E1YUgTUjpSNUHgLVOqgsnquZhb5yMbqjEJ6tflXje4OFEeAGpEB2qzCjq5Areh0AOQoQCc7VcGup6hrSZhq6gB2JtWRrVFc-UxZqWzUerC1-MfaebO75pMM1HYkeMWtkg1qlBrJJhQnINW0B3VUwOtb0g46Ak9FSCqyHsrQb0pjiIiyxggRbWZrEV7cN1WOtT4SBW1+ObtZwvzWzlOYEaj1SupLWFJo5vZMfkn094W8a6iORtSwrIyIY1106ugLOt0WSEblHavKvVUnVVqrV54GdbarPUXqb1rWedVUrRB9qhitqQdYerEWGUZ1Y6xLtVDjV7whUCC3vqvOb6oLmS+MpEFqM7U1AlMZQIdUevA3SRE1R6oJhkK2KVDwWWcy+X6VgTIbiyGcqoURuSWCCipDRYWO+uxJXre+367JQiGoCKhCw6GwDbMEw0ICicmIyJQunnFmqR0J3EHk8CWC318a8iSIpKj6HZMSGZDRVJBs-V4wXSa8uDfuoKhLSwqLiPqE2Hyz-AtOU4V8AulFKWggmz-PGaQSwapUoOnzZQB5KxmHzHU5nZAV2UYA7kTihUztXCAU3VMQE981VtYN0CZzKl75QTpq0rnxkXEqmljWtX825MUM-6uOcOtmCJalN6BROpEK2RPrdKYvMLAAE4OgAUIymL3C32rStEgYypUrzqOJfAPG0dh9yV69DKSRPeFM4GyIei4J1gMrfpT0AAByAbYWDQCjadlPWa0l4j60mRZ+rEsINNtq2JRvAa-PPvhCqLOB9k5+UcmuxsALblRS2o4LMAUjiNptSsuQFLJllGaeQjS3NZvz66fr4tQxSWfpUu0pbSU0kRRdLTVDnaXtywYvKBrBi1NPt9yYgH2tiLeB0gXIeWldngw7QwsQQnENYwkachWBGMIzaDrpZHE2g98iyfCleSMBIdUtUANZL+jkD+QKISktNqGJ7J9ktTUISwvEAY7CUXqBKh3S-hU6SAEkJobAtDCcd-J5gBSQFIqXgtXYhY6Fv2h2gjLCgzKgMS8vBVgrgVSc1hXNufT47CdHMYnY8FJ1ZBydPW1XtVrF7U6ad3qYFWqHF2bljdeyJUHzt6wC6aptu9nQbv61whLd+ySxnigJQMBXdrO8HnttX5YK15n8l8hgpZKc7kw3Oo9fb2M1xhTN-wHaPAOKWOaCA9VCZJny41KL49IW2+pRvC3Cw7QXTUmSVhyB0AVky2mIH2q4WEo4dxKBHaI1y21NUdsgEHX2v+KWCcdSK5tvYSYrp7WFQMAjXEuSV57FVjzVDRFqtanT4Q5cXIc5MuK0DVABTWzIalB3h6lgCc6PfyFj1JDgmm4LvVURs3J6zqEyKwVqhTAUBRFhgdCApEYDaxFsffJuJ4GW3aRb9YshNIXGFnDkH+cHVvZIBOJAl4SoJCxVBCQmf6cOL+mwG-Cf0gG2OOFVfApC5j2IsNTfS4vavXCqBSAkSlgIrD3gGBLk6B+qgwHWLuL0DcTFYhcJWLLEoS6xNA6QHrWFA4Q7DLobnGQJh60dSB3QNQ1zgcGC6y+tHWsFsxzC4SugVvUMX+KwHKIsgBA-2nJo5xuDXOqQlcghIogGV7cFg00McSN8c4d+mkpoZIHCxI5W6iWDCE0NiCyEL6GkoGE0PWKAgb+4MJYc13EpyxKvQA+4qrihUtdbDFxA-BP1oG3QPMC-W2Cv3awdDT4l9COLeWuGTD3iH4CSG0YdJwjqwMA8OjhAiH1iqhpYOoecPlpLDEJVlCsV-0aN1IWjK-H8zTB2HTi3iPI-8TSPLBvAjfbSFkdcN2g1iuRkwPofKE2SeDTe+JpMFMw5xzuchmo4wCqWHTClrhqGZ0f+CeNtMpmXKBZtcP1jLD-RlfYMaH6HTBD+gYIxPrhADbf9OcVvTsbSbrHrimhnCtUdgVCKvVSsP4A-p8CWgdFB8uyjARR7HE-1hYcuBxtyXYjr5jMx8WtLSPOH7jmHMoICeqPqH8R-xu40IvrEgmJjn23tUY1SjA6BtvgvQM5tAAAAdLAJ8uF5QgRd+AW1I33o0FUUqnyNlMNufAQ72S2FLAEDoTnInsRqJ5zZiexO-jlgFcfE0MdYFppCAsRKovqwsI8nQAAALyjrWBMTYQHBWyesQEn99+rEU6SZFTkm4Qauqk9WBI4fByMxe0vT4GRM4mpTHJxvvNVmASzjiHgY4qQGOIWDGQA2pkHgFpNHrdTrJvEzKaNNxU0Gpp805afvlKmlQQAA')">function unparse_query(query) {
    return unparse(head(query), 
                  tail(query), 
                  is_null(member(head(query),
                          list("and", "or", "not", "assert", "rule")))
                  ? unparse_term
                  : unparse_query);
}
function unparse_term(arg) {
    return is_null(arg)
        ? "null"
        : is_list(arg) && head(arg) === "?"
	? contract_question_mark(arg)
	: is_list(arg) && 
          (is_null(tail(arg)) || head(tail(arg)) !== "?")
        ? unparse("list", arg, unparse_term))
        : is_pair(arg)
        ? unparse("pair", list(head(arg), tail(arg)), unparse_term)
	: is_string(arg)
        ? "'" + arg + "'"
	: stringify(arg);
}
function unparse(string, args, unparse_arg) {	
    return string + "(" + comma_separated(map(unparse_arg, args)) + ")";
}
function comma_separated(strings) {
    return accumulate((s, acc) => s + (acc === "" ? "" : ", " + acc),
                      "", strings);
}
function contract_question_mark(variable) {
    return is_number(head(tail(variable)))
        ? head(tail(tail(variable))) + 
          "_" + stringify(head(tail(variable)))
        : head(tail(variable));
}
</pre></div></div>
	</span></td></tr></table>
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.8' class='permalink'></a><h1>
    4.4.4.8&nbsp;&nbsp;&nbsp;Frames and Bindings</h1></div>
    

    <div class='permalink'>
<a name='p58' class='permalink'></a><p>
      
      
      Frames are represented as lists of bindings, which are
      variable-value pairs:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (make-binding variable value)
  (cons variable value))

(define (binding-variable binding)
  (car binding))

(define (binding-value binding)
  (cdr binding))

(define (binding-in-frame variable frame)
  (assoc variable frame))

(define (extend variable value frame)
  (cons (make-binding variable value) frame))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPEuouFEPOIXCqGIIxKAUShuGIOhKyEoKUgYYw2BkBgBprdy6DEEaxqmFZSmpUapGdZo5rocgFGGj4tuUhT8AxLF5t8BQWHwBdcPOh6noXfAlpOs7NsoawJqm7aTNAObjSEGcKmUNhyDK+g-uBmYWlPBhwboSGTBhuG6D+wHpuUo7UmrUhqHFBgoaxrKcYu-6ruRn5idJv5ycx2GqdxlogYJ0HUgtagxDoM70YRumVoXPmBaFsEabxxGmh51H6G41EfmIAAPQhAjcZwRedUoxcVkRqBVhd1c14htfhmXOfxw6FZhx7hHIZaNa1wwdZpuWSlABLiAYer4YdlgnYYdcKDOrRSEMBH8L06Yg5Dp7hF8GPjLQybbcVQn5raWtHHO-avdifWUeMdpJuUc7c4rv2PiGqXo892Xubm9gPC8XXFRLn42+UDvrYzouYmzkT5uYLQpc7nb6YXUe64nybpf25u7bmjRCBBblUSn+TBEIDeU7FjotH0APGDNt2PcL2XY7Q7cZy+hhXuj2GxEb6+bcmbmzOCDmbLshyzlqS+HRuQNWXkfJHyGjVCKZ894H1Pg4bgr8whUQHHNTW1AFDG2oJWP2Z9EF0EmFRWIQV15sFxJg7BNA8H+0uNvZEyDSBvyAuRZ8-x0GpFyAoQg+Byh0L6vDZExCoIxHfBbDIxUoEnzPgwJOKdhG3zjrEdWWgRDLSmgeegk8056VkWHU6kgyDR0UbogiKClHKKKLIjOWjBaL0IZMVhcYEiBjmqPV6owaRsFpquUoHiGKGzUWCLWkih6rCDOqUMywKIvkND-TcjDQD-3sk5FwcDKC+BIBA+BFCao5jOL1AswJQQMEfs-fQZtDCyxIXEeMgYHIMBQZUjWSwu6gHSJkOSzQsLSOGlUKOM5X4tMIGEG+ZiYj3zKUtCpWshnMOjlUgGn80ywPof1FGbxlbOFVq7C27srbL0-iQ2aqRKCkFrJUwaJ8tku01qHQIgwm4rOMt3M8Q19C3Ivobd+W0V52z6Z8pWdzSBNJ8THT+4UimcQNmXPOlc-rVOOVBThy0eGZJzuXfOiKREriCmODUAV2Gg2FPoOaMMPhj3rg4mmExanTCCoCgZlL57EEnrSgGg8iWRjiQ2egVJmUzhpk-BijI05MoPCy8ebKaX7TGVylcqKAlnn6ZKoV+0RUqtxbGIKgqx5jU1bWJihRYnRjToy0u1dsUTLqVK6l6NfmUHlUDY1BSTWFKwHAqZj8HASw1PoH6FshJ1NcckVInSsiBrabvCNK4ekbghJCX12sBa1DhNwb1S1k3u1TYMG8UanFHDIqAD1cDDDckYHwjG0M2aokdcG1FcKa4I2Da8flAhaWMibfnKlC8HUI1dTEU5aLNC4m7QijladSixtjGsfek0nkVrKfwFmNbsYmLVb2mVwsOUAxtUUctQhl3VspnWgStxa5WoRfuuOcyt0NxxYW8kpr6VDvqWGn5zB0artPVfS6sYFKgiBe8L9J7a3lUMO9Z6La07Z0ZmTCm4HDn-r8SUnc8HmaIexvdR60HPbhIiRGgKpb1nmANr3fuRzB4kMbPIxkFG5H4GTgO8kjZux6i7UuqtP6kPvH0PI5xKh23Sj9bURqQJM0MGzfzf17GwhMQtatE+8jLHOlUQujRlY7GTzk9waTuakWD1WdCjZPw57SvZVRoGJz30+wvQwZVlyJmAtHhffZf7-qqb0kZqFnrSMuANn6yzY0alQUbK9RkgKguL0NQXP5kLyR+pwx9WL+hovfsg7h-8H9XqywU7Z16vm4EGzRmB7GHNqNQSS5llLnjSs8ewzVvD18VyAvq1hqmqXnmDy8wq84xWUYYY4A19mA9rNVZTYwJrL0GL6CG37DrsVpupxWIC+bI3YqeO60DXrLqPV1X841ZqSgoBwEQMgdA3ViQmfMHNBaS1pHVA2p7GzoaFbpEemQBGMQAA+P3jJ3fOU977oA-sA9SE9Z6-RqaF1B-9v0x0MjZa2oUMHCPUgEtqCxtZgiP3MDEBIYQDB74c0oH0e4Yhg3Dqwi9gAZLT3o-Qnmw-Euycn+Oiv+fe4Y77UFh348J8ToD1twSBpgX53HwCsvTLSDzl7fPbNzH0ERQuxmJfFLXpN4L-0qL8-IAT2oQudwi-SzpYzcDTfJeayj18QUlc3nt0mFt-J+tc8t1t2HtvFdM+V07lXW0Xc3Y-e11m5X5fLD1wbonJORch7XVTcXcC4+-uyst8PpDvcjAdz7-3-0n2u8l8n3jXXPcR8z3mv3Tv8Pm653Ndbi2PMzVs3NAXhuY9HPBPX0PCea+S67-HpbUHkc66929x3dpx-D6cb34p-eU+MA9zbsvY+c+V7tNXznkvyWnWDs7NzlsYdL4z29lv+vBft5C8khOe+9kH8T1z6-oc2YR2Mbz5fCYbjYmmzLwN3BJ-O6hS9R30TiYxTnTzfRXyzzXyn0D3V04ncXfXvVlSPwgITFPyjyNyXkv3BHM3tTN0AK51c1vwOUPxH3f0DH-3w03w1y4SVhwXoF2XNgPzf2PzQLOTPzb2FyORtXBC2XoJOlNmIOcHv0L2BW+XNmZxQJDQTCmUCBkA5jxBn04i+Vdh+RYNQMDFkMqA5lJAINEPUW+U6CwLINYM0NKTkI5h0DVzgTuyvTixMI0Lxw4Ojy4OwPHWIBEOKV9kxXhXsNQVHxkKA3BHcPBG4A5T0OKXcKQP7Xl1iHIJcEoNVwiM4j1VZW138PiMZxGHCMKTgTvTSMXkdQyNMJcFz3k1yNr1SDZVHR8ObQ5V12b3DSRxxWSI8m3ztT7WMOKMcPe2aLKNgJsIhy5EoykOkLcXYIwIv3GmSQo08M4m8Io3ULGLRCCNmLCMLlaPMAY3kSWOWKyIr3XySJIy315n3k3lG1LxKIVlbxcONw73IWoC3mEKUI8hsSEOQwcL2MSID02JcGaXAK+NXztFz3zzgI8kaWaSIG6L2MR0yH0ChJePMD1WGQRIaMgMGARN+NtXmTfnhNGSbzexvExP21kEOyankBOzanO06m6h0CD2uIuWGjVip1s3AVZ3OSNWOK8PswIQMRfyjm4BU2RXJCChJ14MUF4X4TPlCJtT5KMQFNACFL6zBNu1oJ4T4XUQIRkBZJPwmPPyAxkCsm4UlM1P8zmNeP8yf3DnlJMR1MCMpQsMNNAEUKxNkR2O1Ne3tJnEdO4F0IqMlxsU0XkHsWFg9IVzey0PkKdKsOoPmPs0c2GjeGCTtLMJ3BwMQNelCKE3RkXkRI-QTLmwYhTKcMmKA1y2SQTPNPMATKCQcVemLP2N9ztHrOsK5wri+HdnWk020wcUqxFNsxvGVLgT1TkB5z7JcQTCVyHLbMcA7L9hYAUWtNC0KH7LeywlHLOjy0KUbDJz9mqIxVsWDKlkZCI3pO8I3LeiyyRWfgbJpyH2vIYnKIL2KQvKtz1FPmtOeBXInIoJ9wvLzPJMMVixMU-MiG-KuJvH-NjP6jVjUSJ0PO0RpXvPoj1EFPWD3PG1XJkMmjEDJyMHvPCFZw4HWjwtPGjXaSwnPOtPwqvJQrGUVPQs0wI2aGItwtUBoo+lQQAB5gQcLSLOhyK9YWhSBzIIQAAVG6OzOgXwQQZhXgBuJsM46gWoZocEUAAAahLSsT2hJnWiFDAIIo0uSSsiMpvViA+F0rEH0sLL1C-lXFMhEt-nBAkvwCamIEclkrEHksKMUo3mUuEFUtMu0osqe2sum1QU0qzLUs0rMpiBCr0pkBTjIoGIfxumkjfK6yH1C3JGKymmJxumxHHOmDLQrQ4uegfNstfX9EaLSGaPCoI2ngznyqIH0FipUVnPwE7LEG7KPN7KBgapBmmxHEbPqratmB92SrauaEPRxiIgIptGbIEsfFYkVVJQzmGt3JHQPKDMQvRlbWmASTKrYCslsienKA6UMXyW1GJVESNGEwvMZBHOooVR1Vsxmo-KAvCo+rOj3W0tiFfIqX-ME3dRBquKavREKr2xx2KWqyH0yqyxQuyqRBnMrGashumiqpKqECOoquhMVGHQjRxoGuLhtjRtaqsXbM6qex6t2rBCMxtWmqH2GqV1GrjlKHgiVzIpQuJoiXermqvOWRvGSuBpzC0v7DWqmg2vJ33NxAQpDM+MVEOumxOroDOpEAurOhyVNyuqfB5TNVjEbAeqBCerHL21ere3etfK+v-K8wIgBsfO+ofEHVADYiwsDHBoKsqShtqlJNxyOwpNajOw6kuwwHpIwRJmoVwXwX80cTRLYIp31J3CSXBCoRwTwSrJcFTpoT9iwQ3m3XHh1mETjt-KgLtGETV0KgjrTujr9sZBJ3TDFLmCzNiDmFXF+oaDFI5GbpiA5DbtUzFIwm7p4A3D7obqCPviHvvlHvjiCNhLYCzLnudHbqKDFO4kMA3nIF8CzLXo3pksVGXsKDFISW7oSVjAPtiDFJuDJyaRYEMFCKvtUBvsahWHPsmSCPUqHtiH0DVm4F8EIoAD5QBwFNK97X60MwRwRPJP6Yhv7f6AGgGvJQBQH+6gj01phYGkH4HwFIQkGYgwGxTgBoGDAf7MHARAHwEwBkGx60yABSIhjBv+shhBmh3B0AfBoI8ST+hhrB4av+lBtMgAQklC4ZIcYYBHIdACEaBD4eoYga4vodEZ4Z4piBkZnrTK4oBGge4aYfAQ0ZUfYbTP-oUbgZ0dAEAf0f4Ygf-s0e4CKG0fEYQesYsdkYhAEaIYQcKAcZiAEdiGZPTAKmEyzqjoEQLDfPExXE-yGCZ24CCdoTPnKMrqwWrpCdinwBYAACsTAnVAQImNBCEmGB6q7s6sz-9y6wGihYma6CxyjIpAmingnStxNwGtwgjMdhAsy2nym-qL6gjIA6BvRjYt7bG+mBnMkununmnwQH6GBYBIBu7pnZnxnunL6qBH6ABRIe6ZtZpZv6sUgAOXID2aIYOb2Z5r0gCZAx4HqdoXq3CpyZWEieFAcaV21Jieub9kaYuapEqc-QhmAvuemEeaYdKYvCuaSezt+YdTTBVL+LOMoXeZScLqQU8vvgbPIVxGqCkxlFIAoWpvSfIGrHLRJk0HJrQh+dzo4ClnZlMXMWYVRaOCKC5M4mnDujlsngbPUwMJ2vltJdXHXgXX0B+dkXCu4DarBcjpufbT+fqttoaH5ZEEFYRdkTScydMCRTFZ+fqxvNlaKE2plppvlrVw4AEE2rEC+BYFVm5ePKBBZcIANfZZOGkCajJOO0DvaguwwFDphezPOXIFMAYHLg+HKhuFIA7nmwbMR0+03H-3Dbst3n-yFthiZg4CcSMvBAYGip0tCsSqidLqyFjaLmaBjaTZIixO4RuBzgMS0GZ0srxrIWUGUHkoyA+SMGQQbfgcak0rSwbeGvBDUtKD7dAFUpMs0r9eUB2edD7fWNrYAocDDmMBGksqYTfmXaxfnbrAiGgjdpcHirEDTYhCMvLedmMCrax0idfjXdhmMGXbpUiusHBCxLnavb9kjgUDS2YQjaaLhNfiLgHYjV0hBnJSAx-dAHp2UjJS-ayBvB-fCD+0bOg4-fCCkeSWKHhBXFKFzcGBA9Z3BFQ9eR9YoH9cDdihDY7h-eMmaAg6aSUqePhhA7A9XGOh5zeKYJIPfcpzjfaXBAPc0qfajhfbIDfaV2aRg-CBitXDUsze-0fkDUIVCf3zY5g6CtjEk6Mr4+MCYEE8w6bKyBE8Q+IXUt0XhAA6zmlHXdylBCzNfj0zoHXc09IEEkLYViwnI+nnU+GhTo3CzJJ2E4-YWt08Q5s7s9fac8B0svY9-eSQAHJM3X402Yu40s2EqU4f3H3bPn2A3axSAU5y5svP3aq4Szoo3tPcvVGJnJmhB2mrJggoqHIdIrILRiwoqLkOB4ROOihSh3OSusu+G-x9BSvll3P7PBJEuuulcBv-P+uevBv0v+PMuyA-7oLzB8XCXlBiWZxXoHkPB9kRl8uHjaOcYzZIuxT9uE9uAWPL54YjudXChImVv1g1vqBNBYstvK43Ab3dv2uIkmPfojv0PJnUOwi4aZOxyNYvvYhTINYluXBSv7pQE1ZXudujuSFUVTvt4jv9rDbLShqgQVxpPvpmPLSFOdYMfXVK7tu3BDcUF4o8nYfIN4fEf3vPLFkweRbdVsemacPB7-usIldNYKfjAicUFll-9+e3vBemkFknFEvhXOf1IJ6ef5BxeqeFkZeOeste37uiWnuNuGITOOvh6Dw5PB8EaJk7uCWHv1uXuxf9kPuMenP1z1ePo3mBeVeWFuVKJUVZOMf6VRSgjAepcUsQffvWePfeVqq3szZiNobOJMkSBdvPTxin8je-vp4pywfEvDqzYVbUkgFifzA4+PCAKkzCiE-wz47ekM-p5Byq+QYs+NYc-AEAt3iXAS+HVxdvXGvtJypKB8A5E-YBgKhBhkfy-AxC+E+cOu+dIsTB+mlKfu-sodiR-t3Gy2+nVPvoeFZiYy+V-0DE66aG+UOO+bCQMIZSYT5s-ALNzpQ1aidiYGB1ARAOBSBg0k8iBD4weqrUVt+ffbqGhaNqg3EdaPRkAHU1MWF5EZOd0-LO0fyLgFgKAOAGs42mNqTrqrQ1J39YYD-Srs-0gFX8+QDNITIQBTjwCjYXZTxCQKAEcdnaL6VFJX0IDao-QQULCLkCIHacMe3AFgSnBr70DlqJqG6ualsxR8VwrtWAYQI-70DN+FlfoAoGo4kB1EFQGGL4CxyGA2QCgzeobkMCkhE+H6QmioMi5qClBROTQU8ES688fcegm7l-Q7bnJpBsgjTAYOUE2DToCEIwIoUsHlcigDgowaSAArVBI4HAAlgtkjDqCnkqg4IYYPmhaDR+OguqooX+5eDIhJglYPGiN4s03BEyJ4Ewz8FkAAhtCLwfoASHGCJ2sYTIQ4ykHOCiIihFKpLnKEyCZAMMUaHkySR1tbM9QqgGojHiBBToi7WwY82RYTBXSDQjobUJ6GnR8uugpwSN2ngzpAOOZHFv0DyHhCscacFmpMJ2alDAGbQygMMMmGjCZBKuLoY51bKS5OWROIUD8lBB1kS2yELiFQCgGGJg0AA0gXuyBAUCwBjACAfNnuE-V8sb2N4YgLAjBhxw-3U4YWRJjihuATsaYv+VMHtCyAjAK+vxH+HdVyBCAynJCLuF4DjhxSXiJHARGhR2KvEDEdCNArRC8BvbGQEmFqBqV-u4ISkXsGpGZ92gnQQVpiKhHhB-uD1GIIlzrywxWROuEEbBQ0znDKQlw4WESNuEkiHhPI1IFhF4jhB6cznBNOyJ55wikgDAREexRvDyj3BzoG8OyN1GKhcR8IjUQSO046ixWBEJXAaMtFoQgaiXOkVSPaaSCnsxrVPLsOZLaDDem4EhhsI6RI5sRyhPoH3CaSMAp+OscMfQG4Cw8JRsPf8jRmEyaiHMEiHxIyGNHqjNRU3Bbk-mmKRi6AorDwauDjHQCV+SY0JKmJw70iOA7Tf7jMJUjUhXRkgd0YcPPR8RH65Y-6Jv14AadAB6sfkfl13bmiqA1Q4pGlE6HSCcQbIboFENYzCYmmaUScWWF8B+lRB4mQEVElEDTokcQ7akJv17EI8iQX0fsQmMubdBGQfPYcb8Pjrb9ug4QAdqhx3HdBfMxrUAGJQAASazBgAAEFwA4ANZgACUxKkAAAPJ7NkAQIU8t6xkCSA1Ac-LSGenTH5isRXo7sTnRlBqx+ReIyLmOP3FU95+CEtUUQkS5jjOg4sfCQ1CxIkTMgcE4sA1EyFkj3xn4n8X+MAkgSwJlEyQAwFwlC9yJ-KTCfCIbJjiRh+4hgIePkKITlk4IPMZ5FqHH8uc3oHifBLomITvhG7FfrUP9gNDImZiKEfJTIb7o1AJgLwKGJokL8cYukyyMPW2HwjVJxQ6CW2NMkETrJSQWyUa0kBxAMgHzDUpHEZAAAGR1nAhqCOQHMnk2QecVijUBBgVOUKbkAcA+SgQLXLyXFO0CaU8QV4wMIlMVjJTSAWJbwkFJFTgi-gYI5NlwA8nDY0e5USKbeQTS4csyWETKRVOyiRTJuBbTfoEEDQFSSpqQaoNkE8mPDhMDUmjp1kiknl3KIU8qUNIilRSmIGSQIH7EcidAO4y-FYMOh-6f8p0dmO4PlPmy4DBpflA7lxNTCwYlRKfWvkJSwg2D5pi0tgaz0NGxBLpDABaWwA7jcDpes6FoFD2fQr8HpT0juIlMDEeQKgcg0IGUkO6H8vhyEqCLNOIBXTnplSfajEG-58iHwVVQUGtWZH5trhS4FoAwKvBBQOSxAGAaLT1qoy7qlzFgCAOeFcSPhz1WyUTOEi2YKZSA8CMCKsSlBKRUYWKs0B+nXTkRqWFgLwO1BYBoIL6P-hHwr4Jo6wKA9kHNMenXSpyxCODjzLhmDlwedsDmcYGoFfTRByspaWD036nCuJS0XhNrCKkQzTwtkk8VSGRGUzKB1M-2NRQhlQVyQA4G2ch06ZVV8UdAfSqaLbH8Y0R-MtEcsltGFALZWIhls+mJRIzNwp4ERH9TwCQhE5K4J4ZQNtnvCHZPOMOc7JWmMy0RkjdcRBA2kOAfZmYr4SHMVIBzURzwvdNBFrl5hPyx00EebM6B0zI5JMgcEDIXSpB4YYcp2Z+S-IJyk5Oct7I6IZHOi25lEMWYyiFEKtm5x1cOV9Jj4eRi5iVX2fxEIB7hfw8YskUbXUhVjGR08UedWP14RJc4LIjeTE1JCcjrSMogqYK0UJi0kYhs84SbPdhFSL5PALeQ3OSFb8+RhALQYKLgpGzQ4nVN+Y8H-kxM2Q8Y0AIPMhC3y5RD8xURggTT-zIuK83EJmO1HpC-q2o0kHdKKDoK157FPntgsLENA+eeC8uSsHtE-yj51IvcakESkjQ8C+XG4pgWYWdErIiUjOtmWhjdidY-0r0f-n+kAVMpOxQRWSLno6dpFIi47kEU6ALTfAZyRkmhx-kJsncsizfuiyaTjThoiU6MT1xzF4iDF2Y7ebOMubQxocuixkO1KArzZupOMf6UxEbCEKOxYqVcIQszExjCJ+CsmXwrY6WKj0-03xQ0GLEPD0pqob2avLcWVinRJ8kmnWPlh9J5u2XXqcNh2KBLGAwSm1F1TdFTZdhrilMXnmfHuTGJDAf8dZAAAyazcCf6MyABT5JME9sZ5OjgqTIZK-VCdTIqAYSJJ-3HCehMNyJTWlhEpzlRNngtLko-pUcZxNIm6Lo4DZMpRUuqXgAOJM4biXMv4lJAGyGk+VoMDMRCTdhIksSZsqIQhKigOBTyTJMmHwh3BBylsbVK4WXLZJI4ziNoqGUnLLZZIjSVsO0l4zPJTDfdNoudhML9FVk4xViPcH2TYJ7ytpUDRdE8JhspXLMdlyMU2S8B44sYV6O+VaS8mK4I2oAzTg7L508gpYXsrtqADHJdE7xc5KQk20bUfot5RMupXgqgaXmK2msINnXI-YSK0rqpIxWCQrZAgVoMiEZALjx+E3ZJMktK4609iwqhwMNWQHTx3YCK7lT12RU9B2VhwpznKpxhr9o4EqzVdIIBmqkul6scUMeMkWpBBxF4vPHDl-nRsfc8o41Tu176BBKVTUxgPuLSy8SiEKPUlHNH3Hmq8xuMikMJjPFAgjl5YI8cGudqNhG2IlGLHmP5UAs44dyicd0Aa4+qrlhwmVYUCKg4hM1Sk+gNmukEylYwLnH1dwD9Hxr2pQyH1fyuWqizF53rD4MED9iZTMWXqiReYu+aETGQbwfxQIr6lMRUUga9+SMoRnZkqQ4a0GOhNElRrxJIy2NcJhrUxZMptQlNXpDTXdCM1FZJ5dcpFprh+ABavdRwBLWnQy1foeqZ5KrXwNV136ddWsMExNr3US88wLP0ynBB3VOMYNV6PcSeTvVRa31f9w-UAbg1iXWfnmMA20T6AAFSDT6ug1mTg0rat1Ums7XoTENqIQTFFDYCKSYN7wRkGUuYkASgJoElZeSCI2-iSNbE2pRWqA23qmGz0PDWZPKKiDwQGIB9lMteXCAicIKvqSQhQ3trQp6G7pWksYg9qBATGuZYRo-HlKqlNSpiIsvk20aE0oKv0VJqGWCYgo7GrwJxrfUfp9WbwdJjHSWR-rIOIyJ8lBM3RGb6EFmhsun3xJYk70NmlECz3xJejuBlmwYltVxBr1jNuOOzWZoK5ZAlkrpTdH5ts2mayRDmrzYQQtiQwUg-mtVoFrJGeaAKNQMQENCJxIqotK-GLc6uzLpN8APUlzWqz5W1D8uhm+gElu3ilanUkXQ1adES5Gbitji+LYbBq3Rw6tYyG9FKrVV6o6twGTrTXPK6NbHOvmfNVJJEBRU+tC3LMi1uqDQs4Efm1rQUMS30IkUY2yreil83raAtEW1zZF0SXfc5huQoIYoOWFXhZtqSvVAdtMBrbDAw28rWsJQgNA-RK2nqXeju3r9vtPW4tHbWtINrjMk2mrlZGu1DNgoj21rUtq5wZaPkFidFRVqxWTDNJVAX5auHxXCzFQUi8HQGmICZbq2KSlLlLzOXOhclTY-JS2KBq2B-t3scnb30p0TiYRdc5oBGle3WJAdFWqFJNrq4zauVROrMnDq0Aw6ThasEwPwGGjLSwaXK3Aaa3NaWstMvVPapvy16PdnuniBHVtsnBBRsVaO3FX6Ex1+h1Y4uk+JpFAzn9hobVXziwlUlnK5s53ABpaMOqVgCxZClJE3yslVhYYOSaKsLLrmFBwQquq3pmTelCV6dzYpnd-Lths7jIW27ncesD0W9te6uvXmDv53SruAQenXrFmhaNgbgCPHeooMZAABOE4Mtp4iKD+VRgV-lzkL2b1+VXEyOCNG4C+qxZXvOqrarFk0DSULgVnL5MnWFA69KcKLlFyshoBx9ua4mZPLThD7tOHwQWQ0CH0N7jYX2DSSrmWQuAfILpYQdrNiBL6NJK+zcEinz3kwK9m9ArQos3rKLLkMmNtc9q1Veixt8eiBpfqUVMAVFaepTKqrm3II2Aii6-eJu9Y283AROslLZ34AngyAT0d2GM0FWgBWgjIOniAmYAI9gDwy-jmAaKhpsjgbXEdaSjwSkBoDgzfORJHdjEUzcVVWfZA28hXMBe8BnrrOqwMQIoGCIR+Z4LP0pwhuPK44C7RuosQBwSa3vv3yaQ8ascrQENYUFA3DYv1UG+DUBsYzMZxDh6klAYAINEHMkJB5JGQcXjwhSZMQKg95EMNMh8NggUQ6IEMOGH-IvBkmREDYj8CVgBhiwz5FK62pJEjUJw95En36GODVewlSjvR1XhDdyiLg2qttFm6z+HyVoLbtUMO6mG00YoTEFx1RGGx60PJVXojTT5o+9JZEu8EchfZqgRUfqZcwQNAgkDDPNA6yIwMFH+A2B3AxJrwFNMkjYRRsQzvSMBitNNVQmheUErexRcrlTUU9klHkBZI0EZoCEYW5gG646MC3f1z-x-lrS9Fe3U1HgbxHN+CxNEcVIhFe6tUXorCHPPPBYk+ZO05EfZp9wnHDjlc2bCcY81O5zjXGjyHzPAGOysZpUsxaILbCeA+54S+42RhnmDB9jrx0kSv0or2ZkRmxm4fWVbkRQ0DoBqLlP30CFiAAOlgCYW7KmAffGQMEDfZs6kGcDYhGhFH3JI1DnVIvicBhNIq4T+EhEx4OROoniVROIQ5iYc6sijevAE8Msh6BYQ2ToAAAF6gtQAyJooGicZNYmljPQPk-ib0iEnO8UBkkzVFQiepN0QgQwHkc3Bwn6T6J-2KKdEYZp5FUVFgFFWUBRV2mkwKLmmDwDkm1V6p4GZqaZNvsdTFXfU4aeNNtdpT-kIAA')">function make_binding(variable, value) {
    return pair(variable, value);
}
function binding_variable(binding) {
    return head(binding);
}
function binding_value(binding) {
    return tail(binding);
}
function binding_in_frame(variable, frame) {
    return assoc(variable, frame);
}
function extend(variable, value, frame) {
    return pair(make_binding(variable, value), frame);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.79" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.79">Exercise 4.79 </a></b> 
  
      Louis Reasoner wonders why the
      
	<span style="color:green"><kbd>simple-query</kbd></span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      and <kbd>disjoin</kbd>
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>) are implemented using
      explicit
      
	<span style="color:green"><kbd>delay</kbd>
	</span><span style="color:blue">delay</span>
      
      operations, rather than being defined as follows:
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append (find-assertions query-pattern frame)
                    (apply-rules query-pattern frame)))
   frame-stream))

(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave
       (qeval (first-disjunct disjuncts) frame-stream)
       (disjoin (rest-disjuncts disjuncts) frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
              frame =>
                 stream_append(find_assertions(query_pattern, frame),
                               apply_rules(query_pattern, frame)),
              frame_stream);
}
function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave(evaluate_query(first_disjunct(disjuncts), 
                                    frame_stream),
                     disjoin(rest_disjuncts(disjuncts), frame_stream));
}</pre></div></div></td></tr></table>
      Can you give examples of queries where these simpler definitions would
      lead to undesirable behavior?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_2_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_2_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.80" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.80">Exercise 4.80 </a></b> 
  
      Why do <kbd>disjoin</kbd> and
      
	<span style="color:green"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      interleave the streams rather than simply append them?  Give examples that
      illustrate why interleaving works better.  (Hint: Why did we use
      <kbd>interleave</kbd> in
      section&nbsp;<REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>?)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_3_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_3_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.81" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.81">Exercise 4.81 </a></b> 
  
    Why does
    
      <span style="color:green"><kbd>flatten-stream</kbd></span>
      <span style="color:blue"><kbd>flatten_stream</kbd>
      </span>
    
    use
    
      <span style="color:green"><kbd>delay</kbd> explicitly?</span>
      <span style="color:blue">a lambda expression in its body?</span>
    
    What would be wrong with defining it as follows:
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave
       (stream-car stream)
       (flatten-stream (stream-cdr stream)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave(head(stream),
                     flatten_stream(stream_tail(stream)));
}</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_4_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_4_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.82" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.82">Exercise 4.82 </a></b> 
  
      
      Alyssa P. Hacker proposes to use a simpler version of
      
	<span style="color:green"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      in <kbd>negate</kbd>,
      
	<span style="color:green"><kbd>lisp-value</kbd>,</span>
	<span style="color:blue"><kbd>javascript_value</kbd>,
	</span>
      
      and
      
	<span style="color:green"><kbd>find-assertions</kbd>.</span>
	<span style="color:blue"><kbd>find_assertions</kbd>.
	</span>
      
      She observes that the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that is mapped over the frame stream in these cases always produces either
      the empty stream or a singleton stream, so no interleaving is needed when
      combining these streams.
      <OL type="a">
	<LI>
          Fill in the missing expressions in Alyssa's program.
          <kbd class='snippet'>function simple_stream_flatmap(fun, s) {
    return simple_flatten(stream_map(fun, s));
}
function simple_flatten(stream) {
    return stream_map($\langle ?? \rangle$,
                      stream_filter($\langle ?? \rangle$, stream));
}</kbd>
	</LI>
	<LI>
          Does the query system's behavior change if we change it in this
	  way?
	</LI>
      </OL>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_5_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_5_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.83" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.83">Exercise 4.83 </a></b> 
  
      
      
      
      Implement for the query language a
      
	<span style="color:green">new special form called
	<kbd>unique</kbd>.</span>
	<span style="color:blue">query expression called
	<kbd>unique</kbd>.</span>
      
      
	<span style="color:green">
	  <kbd>Unique</kbd>
	</span>
	<span style="color:blue">
	  Applictions of <kbd>unique</kbd>
	</span>
      
      should succeed if there is precisely one item in the data base satisfying
      a specified query.  For example,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "wizard")))</pre></div></div></td></tr></table>
      should print the one-item stream
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job (Bitdiddle Ben) (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(list("Bitdiddle", "Ben"), list("computer", "wizard")))</pre></div></div></td></tr></table>
      since Ben is the only computer wizard, and
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer programmer)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "programmer")))</pre></div></div></td></tr></table>
      should print the empty stream, since there is more than one computer
      programmer.  Moreover,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(and (job ?x ?j) (unique (job ?anyone ?j)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
and(job(x, j), unique(job(anyone, j)))</pre></div></div></td></tr></table>
      should list all the jobs that are filled by only one person, and the
      people who fill them.
      <p></p>
      There are two parts to implementing <kbd>unique</kbd>.
      The first is to write a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that handles this special form, and the second is to make
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      dispatch to that
      
	<span style="color:green">procedure.</span>
	<span style="color:blue">function.</span>
      
      The second part is trivial, since
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      does its dispatching in a data-directed way.  If your
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      is called
      
	<span style="color:green"><kbd>uniquely-asserted</kbd>,</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>,
	</span>
      
      all you need to do is
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'unique 'qeval uniquely-asserted)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
put("unique", "evaluate_query", uniquely_asserted);</pre></div></div></td></tr></table>
      and
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      will dispatch to this
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      for every query whose
      <kbd>type</kbd>
      
	<span style="color:green">(<kbd>car</kbd>)</span>
	<span style="color:blue">(<kbd>head</kbd>)</span>
      
      is the
      
	<span style="color:green">symbol</span>
	<span style="color:blue">string</span>
      
      
	<span style="color:green"><kbd>unique</kbd></span>
	<span style="color:blue"><kbd>"unique"</kbd></span>
      
      <p></p>
      The real problem is to write the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>uniquely-asserted</kbd>.</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>.
	</span>
      
      This should take as input the <kbd>contents</kbd>
      
	<span style="color:green">(<kbd>cdr</kbd>)</span>
	<span style="color:blue">(<kbd>tail</kbd>)</span>
      
      of the <kbd>unique</kbd> query, together with a stream
      of frames.  For each frame in the stream, it should use
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to find the stream of all extensions to the frame that satisfy the given
      query.  Any stream that does not have exactly one item in it should be
      eliminated.  The remaining streams should be passed back to be accumulated
      into one big stream that is the result of the
      <kbd>unique</kbd> query.  This is similar to the
      implementation of the <kbd>not</kbd> special form.
      <p></p>
      Test your implementation by forming a query that lists all people who
      supervise precisely one person.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_6_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_6_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.84" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.84">Exercise 4.84 </a></b> 
  
      
      
      
      Our implementation of <kbd>and</kbd> as a series
      combination of queries
      
	<span style="color:green">
	  (figure&nbsp;<REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.8" href="./4.4.2.html#fig_4.8">4.8</a></REF>)
	</span>
	<span style="color:blue">
	  (figure&nbsp;<REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>)
	</span>
      
      is
      elegant, but it is inefficient because in processing the second query of
      the <kbd>and</kbd> we must scan the data base for each
      frame produced by the first query.  If the data base has
      $N$ elements, and a typical query produces a
      number of output frames proportional to $N$
      (say $N/k$), then scanning the data base for
      each frame produced by the first query will require
      $N^{2}/k$ calls to the pattern matcher.
      Another approach would be to process the two clauses of the
      <kbd>and</kbd> separately, then look for all pairs of
      output frames that are compatible.  If each query produces
      $N/k$ output frames, then this means that we
      must perform $N^{2}/k^{2}$ compatibility
      checks—a factor of $k$ fewer than the
      number of matches required in our current  method.
      <p></p>
      Devise an implementation of <kbd>and</kbd> that uses
      this strategy.  You  must implement a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that takes two frames as inputs, checks whether the bindings in the
      frames are compatible, and, if so, produces a frame that merges the two
      sets of bindings.  This operation is similar to unification.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_7_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_7_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.85" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.85">Exercise 4.85 </a></b> 
  
      
      
      
      
      
      In section&nbsp;<REF NAME="sec:math-logic"><a class="superscript" id="4.4.4-sec-link-4.4.3" href="./4.4.3.html">4.4.3</a></REF> we saw that
      <kbd>not</kbd> and
      
	<span style="color:green"><kbd>lisp-value</kbd></span>
	<span style="color:blue"><kbd>javascript_value</kbd>
	</span>
      
      can cause the query language to give <QUOTE>wrong</QUOTE> answers if
      these filtering operations are applied to frames in which variables
      are unbound.  Devise a way to fix this shortcoming.  One idea is to
      perform the filtering in a <QUOTE>delayed</QUOTE> manner by appending to
      the frame a <QUOTE>promise</QUOTE> to filter that is fulfilled only when
      enough variables have been bound to make the operation possible.  We could
      wait to perform filtering until all other operations have been performed.
      However, for efficiency's sake, we would like to perform filtering
      as soon as possible so as to cut down on the number of intermediate frames
      generated.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_8_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_8_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.86" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.86">Exercise 4.86 </a></b> 
  
      
      Redesign the query language as a nondeterministic program to be
      implemented using the evaluator of
      section&nbsp;<REF NAME="sec:nondeterministic-evaluation"><a class="superscript" id="4.4.4-sec-link-4.3" href="./4.3.html">4.3</a></REF>, rather than as a stream
      process.  In this approach, each query will produce a single answer
      (rather than the stream of all answers) and the user can type
      
	<span style="color:green"><kbd>try-again</kbd></span>
	<span style="color:blue"><kbd>try again</kbd>
	</span>
      
      to see more answers.  You should find that much of the mechanism we built
      in this section is subsumed by nondeterministic search and backtracking.
      You will probably also find, however, that your new query language has
      subtle differences in behavior from the one implemented here.  Can you
      find examples that illustrate this difference?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_9_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_9_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>



    
    <div class="permalink">
    <a name="ex_4.87" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.87">Exercise 4.87 </a></b> 
  
      
      
      When we implemented the
      
	<span style="color:green">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator in section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF>, we saw how to use
      local environments to avoid name conflicts between the parameters of
      
	<span style="color:green">procedures.</span>
	<span style="color:blue">functions.</span>
      
      For example, in evaluating
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (square x)
  (* x x))

(define (sum-of-squares x y)
  (+ (square x) (square y)))

(sum-of-squares 3 4)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM4CO+AhgE4CmAFAB4CUoA3llDDQ7UvhY0uoAFSguAbiwBfPETJUatfAFsA+pVx6GzdrW4AaUAE8+gkaLbjJdRq069QAalenOtpVVtfUNjNzMOAGYrFB4FIA')">function square(x) {
    return x * x;
}
function sum_of_squares(x, y) {
    return square(x) + square(y);
}
sum_of_squares(3, 4);
</pre></div></div></td></tr></table>
      there is no confusion between the <kbd>x</kbd> in
      <kbd>square</kbd> and the <kbd>x</kbd>
      in
      
	<span style="color:green"><kbd>sum-of-squares</kbd>,</span>
	<span style="color:blue"><kbd>sum_of_squares</kbd>,
	</span>
      
      because we evaluate the body of each
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      in an environment that is specially constructed to contain
      bindings for the local
      
	<span style="color:green">variables.</span>
	<span style="color:blue">names.</span>
      
      In the query system, we used a
      different strategy to avoid name conflicts in applying rules.  Each
      time we apply a rule we rename the variables with new names that are
      guaranteed to be unique.  The analogous strategy for the
      
	<span style="color:green">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator would be to do away with local environments and simply
      rename the variables in the body of a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      each time we apply the
      
	<span style="color:green">procedure.</span>
	<span style="color:blue">function.</span>
      
      <p></p>
      
      
      
      
      Implement for the query language a rule-application method that uses
      environments rather than renaming.  See if you can build on your
      environment structure to create constructs in the query language for
      dealing with large systems, such as the rule analog of
      block-structured
      
	<span style="color:green">procedures.</span>
      <span style="color:blue">functions.</span>
      Can you relate any of this to the problem of making deductions in a
      context (e.g., <QUOTE>If I supposed that $P$
      were true, then I would be able to deduce $A$
      and $B$.</QUOTE>) as a method of problem
      solving?  (This problem is open-ended.  A good answer is probably worth
      a Ph.D.)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_10_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_10_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

  
<hr>

    <div class='footnote'>
      <a class='footnote-number' id='footnote-1' href='#footnote-link-1' >[1] </a>
    <FOOTNOTE>
    In general,
      unifying
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      with an expression involving
      
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      would require our being able to find a fixed point of the equation
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $ = \textit{expression involving}$
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      It is sometimes possible to syntactically form an expression that appears
      to be the solution.  For example,
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $=$
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      seems to have the fixed point
      
	<span style="color:green"><kbd>(f (f (f </kbd>…
	<kbd>)))</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>list("f", list("f", list("f",</kbd>
	  …
	  <kbd>)))</kbd>,
	</span>
      
      which we can produce by beginning with the expression
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and repeatedly substituting
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      for
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Unfortunately, not every such equation has a meaningful fixed point.  The
      issues that arise here are similar to the issues of manipulating 
      
      infinite series in mathematics.  For example, we know that 2 is the
      solution to the equation $y = 1 + y/2$.
      Beginning with the expression $1 + y/2$ and
      repeatedly substituting $1 + y/2$ for
      $y$ gives
      
        \[ 2 = y = 1 + y/2 = 1 + (1+y/2)/2 = 1 + 1/2 + y/4 =\cdots, \]
      
      which leads to
      
        \[ 2 = 1 + 1/2 + 1/4 + 1/8 +\cdots. \]
      
      However, if we try the same manipulation beginning with the
      observation that $-1$ is the solution to the
      equation $y = 1 + 2y$, we obtain
      
        \[ -1 = y = 1 + 2y = 1 + 2(1 + 2y) = 1 + 2 + 4y = \cdots, \]
      
      which leads to 
      
        \[ -1 = 1 + 2 + 4 + 8 +\cdots. \]
      
      Although the formal manipulations used in deriving these two equations
      are identical, the first result is a valid assertion about infinite
      series but the second is not.  Similarly, for our unification results,
      reasoning with an arbitrary syntactically constructed expression may
      lead to errors.
    </FOOTNOTE></div>
    
    
    <div class='footnote'><span style="color:green">
      <a class='footnote-number' id='footnote-2' href='#footnote-link-2' style="color:green">[2] </a>
    <FOOTNOTE>
    Most Lisp systems give the user
	  the ability to modify the ordinary <kbd>read</kbd>
	  procedure to perform such transformations by defining 
	  
	  
	  
	  
	  <EM>reader macro characters</EM>.  Quoted
	  expressions are already handled in this way: The reader automatically
	  translates <kbd>'expression</kbd> into
	  <kbd>(quote expression)</kbd> before the
	  evaluator sees it.  We could arrange for
	  <kbd>?expression</kbd> to be transformed into
	  <kbd>(? expression)</kbd> in the same way; however,
	  for the sake of clarity we have included the transformation
	  procedure here explicitly.
	  <p></p>
	  
	  <kbd>Expand-question-mark</kbd> and
	  <kbd>contract-question-mark</kbd> use several
	  procedures with <kbd>string</kbd> in their names.
	  These are Scheme primitives.
    </FOOTNOTE></span></div>
    
    
</div></div>

    <div class='nav'>
  
        <a class='btn btn-secondary btn-nav' href='./4.4.3.html'>&lt; Previous</a>
    
    <div style='flex-grow: 1;'></div>
  
        <a class='btn btn-secondary btn-nav' id='97' href='./5.html'>Next &gt;</a>
      </div>
    <div class='chapter_sign'>
      4.4.4&nbsp;&nbsp;
    Implementing the Query System
  
    </div>
    <script> var chapter_id = 96; </script>
    <script> var chapter_path = "chapters/4.4.4.html"; </script>
    <div class='next-page'></div>
    </div>
    </div> <!-- /.container -->
    </body></html>