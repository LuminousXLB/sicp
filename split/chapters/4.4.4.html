<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <!-- Global site tag (gtag.js) - Google Analytics - START -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-156801664-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-156801664-1');
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics - END -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="description" content="4.4.4&nbsp;&nbsp;
    Implementing the Query System
  " />
    <title>
      4.4.4&nbsp;&nbsp;
    Implementing the Query System
  
    </title>
    
  <meta name="csrf-param" content="authenticity_token" />
  <meta name="csrf-token" content="EMTEijVc2kiiKUH4nYH0lQG3pLPfMowQ/Stg//t6DCo0e5pWMQwamnTvIdmVZqY/MqSx2IYYE+2bpNV6UNSMwQ==" />

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    -->
    <link href="https://fonts.googleapis.com/css?family=Inconsolata&display?swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans|Droid+Serif" rel="stylesheet">
    <link rel="stylesheet" media="all" href="../assets/stylesheet.css" />

   <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon.ico" />

<!--    <link rel="shortcut icon" type="image/png" href="../images/lambda.png" /> -->

    <!-- for support of progressive web app, see github README, DISABLED!
    <link rel="manifest" href="../static/manifest.json">
    -->

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" 
		     	  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	          crossorigin="anonymous">
    </script> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script> -->
    <script type="text/javascript" 
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script>
   <!--  <script type="text/javascript" 
      src="../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script> -->
  
    <script src="../assets/application.js"></script>
  
    <!-- Rendering inline LaTeX -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true,
          jax: ["input/TeX","output/HTML-CSS"]
        }
      });
    </script>
    <!--<script src="/mathjax/MathJax.js?config=TeX-AMS_HTML-full.js" type="text/javascript"></script>-->
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body>

    
    <!-- support for progressive web app, see README, DISABLED
    <script>
      if ('serviceWorker' in navigator && !navigator.serviceWorker.controller) {
          navigator.serviceWorker.register("../sw.js").then(function(reg) {
              console.log("Service worker has been registered for scope: " + reg.scope);
          });
      }
    </script>
    -->

     <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top justify-content-between">
       <button id="btn" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#nav-sidebar" aria-controls="nav-sidebar" aria-expanded="false" aria-label="Toggle navigation" title="navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <span class="navbar-brand-short"><a title="Go back to front page" href="../index.html" class="gray">SICP &mdash; Scheme/JS</a></span>
       <span class="navbar-brand-long" ><a title="Go back to front page" href="../index.html" class="gray">Structure and Interpretation of Computer Programs &mdash; Comparison Edition</a></span>

       <!-- edit the search engine by visiting: 
	    https://cse.google.com/cse/setup/basic?cx=015760785273492757659:nc_tznrzlsg 
	       -->
       <form class="form-inline ml-auto" id="xxx">
         <div id="search-box">
	         <script>
	           (function() {
	               var cx = "015760785273492757659:nc_tznrzlsg";
	               var gcse = document.createElement("script");
	               gcse.type = "text/javascript";
	               gcse.async = true;
	               gcse.src = "https://cse.google.com/cse.js?cx=" + cx;
	               var s = document.getElementsByTagName("script")[0];
	               s.parentNode.insertBefore(gcse, s);
	           })();
	           window.onload = function()
	           { 
	               var searchBox =  document.getElementById("gsc-i-id1");
	               searchBox.placeholder= "search web edition";
	               searchBox.title= "search web edition";
	           }
	         </script>
	         <gcse:search></gcse:search>
         </div>
       </form>
       <span class="navbar-brand-short">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">S</a>
       </span>
       <span class="navbar-brand-long">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">Source</a>
       </span>
     </nav>
     
     <div class="container scroll">

            
        <div class="collapse" id="nav-sidebar" role="tablist" aria-multiselectable="true">
        <!-- insert a dummy entry, to give one extra line of space -->
        <a class="navbar-brand" href="index.html">&nbsp;</a>
    
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-1">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-1" aria-expanded="false" aria-controls="sidebar-collapse-1">
                <a href="./foreword.html"> 
        Foreword
    </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-2">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-2" aria-expanded="false" aria-controls="sidebar-collapse-2">
                <a href="./prefaces.html"> 
        Prefaces
    </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-3">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-3" aria-expanded="false" aria-controls="sidebar-collapse-3">
                <a href="./acknowledgements.html"> 
Acknowledgments
    </a>
              </span>
            </h5>
          </div>
        </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-4">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.html">1 
    Building Abstractions with 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-4" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-5">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.1.html">1.1 The Elements of Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-5" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-6">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-6" aria-expanded="false" aria-controls="sidebar-collapse-6">
                <a href="./1.1.1.html"> 1.1.1 Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-7">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-7" aria-expanded="false" aria-controls="sidebar-collapse-7">
                <a href="./1.1.2.html"> 1.1.2 Naming and the Environment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-8">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-8" aria-expanded="false" aria-controls="sidebar-collapse-8">
                <a href="./1.1.3.html"> 1.1.3 
    Evaluating
    
      <span style="color:green">Combinations</span>
      <span style="color:blue">Operator Combinations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-9">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-9" aria-expanded="false" aria-controls="sidebar-collapse-9">
                <a href="./1.1.4.html"> 1.1.4 
    Compound <span style="color:green">Procedures</span>
    <span style="color:blue">Functions</span>
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-10">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-10" aria-expanded="false" aria-controls="sidebar-collapse-10">
                <a href="./1.1.5.html"> 1.1.5 
    The Substitution Model for 
    
      <span style="color:green">
        Procedure
      </span>
      <span style="color:blue">
        Function
      </span>
    
    Application
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-11">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-11" aria-expanded="false" aria-controls="sidebar-collapse-11">
                <a href="./1.1.6.html"> 1.1.6 
    Conditional Expressions and Predicates
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-12">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-12" aria-expanded="false" aria-controls="sidebar-collapse-12">
                <a href="./1.1.7.html"> 1.1.7 Example: Square Roots by Newton's Method</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-13">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-13" aria-expanded="false" aria-controls="sidebar-collapse-13">
                <a href="./1.1.8.html"> 1.1.8 
    
      <span style="color:green">
        Procedures
      </span>
      <span style="color:blue">
        Functions
      </span>
    
    as Black-Box Abstractions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-14">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.2.html">1.2 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    and the Processes They Generate
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-14" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-15">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-15" aria-expanded="false" aria-controls="sidebar-collapse-15">
                <a href="./1.2.1.html"> 1.2.1 Linear Recursion and Iteration</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-16">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-16" aria-expanded="false" aria-controls="sidebar-collapse-16">
                <a href="./1.2.2.html"> 1.2.2 Tree Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-17">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-17" aria-expanded="false" aria-controls="sidebar-collapse-17">
                <a href="./1.2.3.html"> 1.2.3 Orders of Growth</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-18">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-18" aria-expanded="false" aria-controls="sidebar-collapse-18">
                <a href="./1.2.4.html"> 1.2.4 Exponentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-19">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-19" aria-expanded="false" aria-controls="sidebar-collapse-19">
                <a href="./1.2.5.html"> 1.2.5 Greatest Common Divisors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-20">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-20" aria-expanded="false" aria-controls="sidebar-collapse-20">
                <a href="./1.2.6.html"> 1.2.6 Example: Testing for Primality</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-21">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.3.html">1.3 
        Formulating Abstractions with Higher-Order 
        
	  <span style="color:green">Procedures</span>
	  <span style="color:blue">Functions</span>
	
      </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-21" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-22">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-22" aria-expanded="false" aria-controls="sidebar-collapse-22">
                <a href="./1.3.1.html"> 1.3.1 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    as Arguments
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-23">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-23" aria-expanded="false" aria-controls="sidebar-collapse-23">
                <a href="./1.3.2.html"> 1.3.2 
    
      <span style="color:green">Constructing Procedures using Lambda</span>
      <span style="color:blue">Constructing Functions using Lambda Expressions
      </span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-24">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-24" aria-expanded="false" aria-controls="sidebar-collapse-24">
                <a href="./1.3.3.html"> 1.3.3 
    
      <span style="color:green">Procedures</span>
    <span style="color:blue">Functions</span>
    as General Methods
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-25">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-25" aria-expanded="false" aria-controls="sidebar-collapse-25">
                <a href="./1.3.4.html"> 1.3.4 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    as Returned Values
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-26">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.html">2 Building Abstractions with Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-26" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-27">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.1.html">2.1 Introduction to Data Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-27" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-28">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-28" aria-expanded="false" aria-controls="sidebar-collapse-28">
                <a href="./2.1.1.html"> 2.1.1 
    Example: Arithmetic Operations for Rational Numbers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-29">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-29" aria-expanded="false" aria-controls="sidebar-collapse-29">
                <a href="./2.1.2.html"> 2.1.2 
    Abstraction Barriers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-30">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-30" aria-expanded="false" aria-controls="sidebar-collapse-30">
                <a href="./2.1.3.html"> 2.1.3 
    What Is Meant by Data?
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-31">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-31" aria-expanded="false" aria-controls="sidebar-collapse-31">
                <a href="./2.1.4.html"> 2.1.4 
    Extended Exercise: Interval Arithmetic
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-32">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.2.html">2.2 Hierarchical Data and the Closure Property</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-32" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-33">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-33" aria-expanded="false" aria-controls="sidebar-collapse-33">
                <a href="./2.2.1.html"> 2.2.1 
    Representing Sequences
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-34">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-34" aria-expanded="false" aria-controls="sidebar-collapse-34">
                <a href="./2.2.2.html"> 2.2.2 
    Hierarchical Structures
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-35">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-35" aria-expanded="false" aria-controls="sidebar-collapse-35">
                <a href="./2.2.3.html"> 2.2.3 
    Sequences as Conventional Interfaces
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-36">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-36" aria-expanded="false" aria-controls="sidebar-collapse-36">
                <a href="./2.2.4.html"> 2.2.4 
    Example: A Picture Language
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-37">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.3.html">2.3 Symbolic Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-37" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-38">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-38" aria-expanded="false" aria-controls="sidebar-collapse-38">
                <a href="./2.3.1.html"> 2.3.1 
    
      <span style="color:green">Quotation</span>
      <span style="color:blue">Strings</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-39">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-39" aria-expanded="false" aria-controls="sidebar-collapse-39">
                <a href="./2.3.2.html"> 2.3.2 
    Example: Symbolic Differentiation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-40">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-40" aria-expanded="false" aria-controls="sidebar-collapse-40">
                <a href="./2.3.3.html"> 2.3.3 
    Example: Representing Sets
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-41">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-41" aria-expanded="false" aria-controls="sidebar-collapse-41">
                <a href="./2.3.4.html"> 2.3.4 
    Example: Huffman Encoding Trees
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-42">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.4.html">2.4 Multiple Representations for Abstract Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-42" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-43">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-43" aria-expanded="false" aria-controls="sidebar-collapse-43">
                <a href="./2.4.1.html"> 2.4.1 
    Representations for Complex Numbers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-44">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-44" aria-expanded="false" aria-controls="sidebar-collapse-44">
                <a href="./2.4.2.html"> 2.4.2 
    Tagged data
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-45">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-45" aria-expanded="false" aria-controls="sidebar-collapse-45">
                <a href="./2.4.3.html"> 2.4.3 
    Data-Directed Programming and Additivity
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-46">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.5.html">2.5 Systems with Generic Operations</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-46" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-47">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-47" aria-expanded="false" aria-controls="sidebar-collapse-47">
                <a href="./2.5.1.html"> 2.5.1 
    Generic Arithmetic Operations
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-48">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-48" aria-expanded="false" aria-controls="sidebar-collapse-48">
                <a href="./2.5.2.html"> 2.5.2 
    Combining Data of Different Types
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-49">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-49" aria-expanded="false" aria-controls="sidebar-collapse-49">
                <a href="./2.5.3.html"> 2.5.3 
    Example: Symbolic Algebra
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-50">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.html">3 Modularity, Objects, and State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-50" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-51">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.1.html">3.1 Assignment and Local State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-51" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-52">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-52" aria-expanded="false" aria-controls="sidebar-collapse-52">
                <a href="./3.1.1.html"> 3.1.1 
    Local State Variables
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-53">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-53" aria-expanded="false" aria-controls="sidebar-collapse-53">
                <a href="./3.1.2.html"> 3.1.2 
    The Benefits of Introducing Assignment
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-54">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-54" aria-expanded="false" aria-controls="sidebar-collapse-54">
                <a href="./3.1.3.html"> 3.1.3 
    The Costs of Introducing Assignment
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-55">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.2.html">3.2 The Environment Model of Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-55" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-56">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-56" aria-expanded="false" aria-controls="sidebar-collapse-56">
                <a href="./3.2.1.html"> 3.2.1 
    The Rules for Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-57">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-57" aria-expanded="false" aria-controls="sidebar-collapse-57">
                <a href="./3.2.2.html"> 3.2.2 
    Applying Simple
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-58">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-58" aria-expanded="false" aria-controls="sidebar-collapse-58">
                <a href="./3.2.3.html"> 3.2.3 
    Frames as the Repository of Local State
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-59">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-59" aria-expanded="false" aria-controls="sidebar-collapse-59">
                <a href="./3.2.4.html"> 3.2.4 
    Internal
    
      <span style="color:green">Definitions</span>
      <span style="color:blue">Declarations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-60">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.3.html">3.3 Modeling with Mutable Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-60" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-61">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-61" aria-expanded="false" aria-controls="sidebar-collapse-61">
                <a href="./3.3.1.html"> 3.3.1 
    Mutable List Structure
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-62">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-62" aria-expanded="false" aria-controls="sidebar-collapse-62">
                <a href="./3.3.2.html"> 3.3.2 
    Representing Queues
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-63">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-63" aria-expanded="false" aria-controls="sidebar-collapse-63">
                <a href="./3.3.3.html"> 3.3.3 
    Representing Tables
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-64">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-64" aria-expanded="false" aria-controls="sidebar-collapse-64">
                <a href="./3.3.4.html"> 3.3.4 
    A Simulator for Digital Circuits
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-65">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-65" aria-expanded="false" aria-controls="sidebar-collapse-65">
                <a href="./3.3.5.html"> 3.3.5 
    Propagation of Constraints
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-66">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.4.html">3.4 Concurrency: Time Is of the Essence</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-66" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-67">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-67" aria-expanded="false" aria-controls="sidebar-collapse-67">
                <a href="./3.4.1.html"> 3.4.1 
    The Nature of Time in Concurrent Systems
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-68">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-68" aria-expanded="false" aria-controls="sidebar-collapse-68">
                <a href="./3.4.2.html"> 3.4.2 
    Mechanisms for Controlling Concurrency
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-69">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.5.html">3.5 Streams</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-69" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-70">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-70" aria-expanded="false" aria-controls="sidebar-collapse-70">
                <a href="./3.5.1.html"> 3.5.1 
    Streams Are Delayed Lists
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-71">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-71" aria-expanded="false" aria-controls="sidebar-collapse-71">
                <a href="./3.5.2.html"> 3.5.2 
    Infinite Streams
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-72">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-72" aria-expanded="false" aria-controls="sidebar-collapse-72">
                <a href="./3.5.3.html"> 3.5.3 
    Exploiting the Stream Paradigm
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-73">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-73" aria-expanded="false" aria-controls="sidebar-collapse-73">
                <a href="./3.5.4.html"> 3.5.4 
    Streams and Delayed Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-74">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-74" aria-expanded="false" aria-controls="sidebar-collapse-74">
                <a href="./3.5.5.html"> 3.5.5 
    Modularity of Functional Programs and Modularity of Objects
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-75">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.html">4 Metalinguistic Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-75" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-76">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.1.html">4.1 The Metacircular Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-76" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-77">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-77" aria-expanded="false" aria-controls="sidebar-collapse-77">
                <a href="./4.1.1.html"> 4.1.1 
    The Core of the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-78">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-78" aria-expanded="false" aria-controls="sidebar-collapse-78">
                <a href="./4.1.2.html"> 4.1.2 
    Representing
    
      <span style="color:green">Expressions</span>
      <span style="color:blue">Components</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-79">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-79" aria-expanded="false" aria-controls="sidebar-collapse-79">
                <a href="./4.1.3.html"> 4.1.3 
    Evaluator Data Structures
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-80">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-80" aria-expanded="false" aria-controls="sidebar-collapse-80">
                <a href="./4.1.4.html"> 4.1.4 
    Running the Evaluator as a Program
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-81">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-81" aria-expanded="false" aria-controls="sidebar-collapse-81">
                <a href="./4.1.5.html"> 4.1.5 
    Data as Programs
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-82">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-82" aria-expanded="false" aria-controls="sidebar-collapse-82">
                <a href="./4.1.6.html"> 4.1.6 
    Internal
    
      <span style="color:green">Definitions</span>
      <span style="color:blue">Declarations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-83">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-83" aria-expanded="false" aria-controls="sidebar-collapse-83">
                <a href="./4.1.7.html"> 4.1.7 
    Separating Syntactic Analysis from Execution
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-84">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.2.html">4.2 
    
      <span style="color:green">Variations on a Scheme:</span>
    
    Lazy Evaluation
</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-84" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-85">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-85" aria-expanded="false" aria-controls="sidebar-collapse-85">
                <a href="./4.2.1.html"> 4.2.1 
    Normal Order and Applicative Order
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-86">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-86" aria-expanded="false" aria-controls="sidebar-collapse-86">
                <a href="./4.2.2.html"> 4.2.2 
    An Interpreter with Lazy Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-87">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-87" aria-expanded="false" aria-controls="sidebar-collapse-87">
                <a href="./4.2.3.html"> 4.2.3 
    Streams as Lazy Lists
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-88">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.3.html">4.3 
    
      <span style="color:green">Variations on a Scheme:</span>
    
    Nondeterministic Computing
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-88" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-89">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-89" aria-expanded="false" aria-controls="sidebar-collapse-89">
                <a href="./4.3.1.html"> 4.3.1 
    
      <span style="color:green">Amb and Search</span>
      <span style="color:blue">Search and amb</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-90">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-90" aria-expanded="false" aria-controls="sidebar-collapse-90">
                <a href="./4.3.2.html"> 4.3.2 
    Examples of Nondeterministic Programs
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-91">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-91" aria-expanded="false" aria-controls="sidebar-collapse-91">
                <a href="./4.3.3.html"> 4.3.3 
    Implementing the
    
      <span style="color:green">Amb</span>
      <span style="color:blue">amb</span>
    
    Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-92">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.4.html">4.4 Logic Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-92" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-93">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-93" aria-expanded="false" aria-controls="sidebar-collapse-93">
                <a href="./4.4.1.html"> 4.4.1 
    Deductive Information Retrieval
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-94">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-94" aria-expanded="false" aria-controls="sidebar-collapse-94">
                <a href="./4.4.2.html"> 4.4.2 
    How the Query System Works
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-95">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-95" aria-expanded="false" aria-controls="sidebar-collapse-95">
                <a href="./4.4.3.html"> 4.4.3 
    Is Logic Programming Mathematical Logic?
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-96">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-96" aria-expanded="false" aria-controls="sidebar-collapse-96">
                <a href="./4.4.4.html"> 4.4.4 
    Implementing the Query System
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-97">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.html">5 Computing with Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-97" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-98">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.1.html">5.1 Designing Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-98" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-99">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-99" aria-expanded="false" aria-controls="sidebar-collapse-99">
                <a href="./5.1.1.html"> 5.1.1 
    A Language for Describing Register Machines
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-100">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-100" aria-expanded="false" aria-controls="sidebar-collapse-100">
                <a href="./5.1.2.html"> 5.1.2 
    Abstraction in Machine Design
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-101">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-101" aria-expanded="false" aria-controls="sidebar-collapse-101">
                <a href="./5.1.3.html"> 5.1.3 
    Subroutines
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-102">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-102" aria-expanded="false" aria-controls="sidebar-collapse-102">
                <a href="./5.1.4.html"> 5.1.4 
    Using a Stack to Implement Recursion
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-103">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-103" aria-expanded="false" aria-controls="sidebar-collapse-103">
                <a href="./5.1.5.html"> 5.1.5 
    Instruction Summary
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-104">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.2.html">5.2 A Register-Machine Simulator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-104" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-105">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-105" aria-expanded="false" aria-controls="sidebar-collapse-105">
                <a href="./5.2.1.html"> 5.2.1 
    The Machine Model
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-106">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-106" aria-expanded="false" aria-controls="sidebar-collapse-106">
                <a href="./5.2.2.html"> 5.2.2 
    The Assembler
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-107">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-107" aria-expanded="false" aria-controls="sidebar-collapse-107">
                <a href="./5.2.3.html"> 5.2.3 
    Generating Execution
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    for Instructions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-108">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-108" aria-expanded="false" aria-controls="sidebar-collapse-108">
                <a href="./5.2.4.html"> 5.2.4 
    Monitoring Machine Performance
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-109">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.3.html">5.3 Storage Allocation and Garbage Collection</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-109" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-110">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-110" aria-expanded="false" aria-controls="sidebar-collapse-110">
                <a href="./5.3.1.html"> 5.3.1 
    Memory as Vectors
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-111">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-111" aria-expanded="false" aria-controls="sidebar-collapse-111">
                <a href="./5.3.2.html"> 5.3.2 
    Maintaining the Illusion of Infinite Memory
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-112">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.4.html">5.4 The Explicit-Control Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-112" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-113">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-113" aria-expanded="false" aria-controls="sidebar-collapse-113">
                <a href="./5.4.1.html"> 5.4.1 
    The Core of the Explicit-Control Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-114">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-114" aria-expanded="false" aria-controls="sidebar-collapse-114">
                <a href="./5.4.2.html"> 5.4.2 
    Sequence Evaluation and Tail Recursion
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-115">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-115" aria-expanded="false" aria-controls="sidebar-collapse-115">
                <a href="./5.4.3.html"> 5.4.3 
    Conditionals, Assignments, and <span style="color:green">Definitions</span><span style="color:blue">Declarations and Blocks</span>
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-116">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-116" aria-expanded="false" aria-controls="sidebar-collapse-116">
                <a href="./5.4.4.html"> 5.4.4 
    Running the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-117">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.5.html">5.5 Compilation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-117" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-118">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-118" aria-expanded="false" aria-controls="sidebar-collapse-118">
                <a href="./5.5.1.html"> 5.5.1 
    Structure of the Compiler
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-119">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-119" aria-expanded="false" aria-controls="sidebar-collapse-119">
                <a href="./5.5.2.html"> 5.5.2 
    Compiling
    
      <span style="color:blue">Statements and</span>
    
    Expressions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-120">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-120" aria-expanded="false" aria-controls="sidebar-collapse-120">
                <a href="./5.5.3.html"> 5.5.3 
    Compiling
    
      <span style="color:green">
	Combinations
      </span>
      <span style="color:blue">
	Applications
      </span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-121">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-121" aria-expanded="false" aria-controls="sidebar-collapse-121">
                <a href="./5.5.4.html"> 5.5.4 
    Combining Instruction Sequences
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-122">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-122" aria-expanded="false" aria-controls="sidebar-collapse-122">
                <a href="./5.5.5.html"> 5.5.5 
    An Example of Compiled Code
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-123">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-123" aria-expanded="false" aria-controls="sidebar-collapse-123">
                <a href="./5.5.6.html"> 5.5.6 
    Lexical Addressing
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-124">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-124" aria-expanded="false" aria-controls="sidebar-collapse-124">
                <a href="./5.5.7.html"> 5.5.7 
    Interfacing Compiled Code to the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-125">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-125" aria-expanded="false" aria-controls="sidebar-collapse-125">
                <a href="./references.html"> References</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-126">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-126" aria-expanded="false" aria-controls="sidebar-collapse-126">
                <a href="./making-of.html"> About the SICP JS Project</a>
              </span>
            </h5>
          </div>
        </div>
        </div>
<div id='permalink-msg'>
<div class='screen'>
  <div class='alert alert-success'>
    <strong>Permalink copied!</strong>
  </div>
</div>
</div>
<div class='chapter-content'>

      <div class='chapter-title'>
        <div class='permalink'>
        <a name='top' class='permalink'> 
    4.4.4&nbsp;&nbsp;
    Implementing the Query System
  
        </a>
        </div>
      </div>
      <div class='chapter-text'>
        <div class='SECTION'>
    

  
  <div class='permalink'>
<a name='p1' class='permalink'></a><p>
    Section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF> described how the query
    system works. Now we fill in the details by presenting a complete
    implementation of the system.
  </p></div>

  
      <div class='permalink'>
        <a name='sec4.4.4.1' class='permalink'></a><h1>
    4.4.4.1&nbsp;&nbsp;&nbsp;The Driver Loop and Instantiation</h1></div>
    

    <div class='permalink'>
<a name='p2' class='permalink'></a><p>
      
      
      The driver loop for the query system repeatedly reads input
      expressions.  If the expression is a rule or assertion to be added to
      the data base, then the information is added.  Otherwise the
      expression is assumed to be a query.  The driver passes this query to
      the evaluator
      <span style="color:green"><kbd>qeval</kbd></span>
      <span style="color:blue"><kbd>evaluate_query</kbd>
      </span>
      
      together with an initial frame stream consisting of a single empty frame.
      The result of the evaluation is a stream of frames generated by satisfying
      the query with variable values found in the data base.  These frames are
      used to form a new stream consisting of copies of the original query in
      which the variables are instantiated with values supplied by the stream of
      frames, and this final stream is
      
	<span style="color:green">printed at the terminal:</span>
	<span style="color:blue">printed:</span>
      
      
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define input-prompt ";;; Query input:")
(define output-prompt ";;; Query results:")

(define (query-driver-loop)
  (prompt-for-input input-prompt)
  (let ((q (query-syntax-process (read))))
    (cond ((assertion-to-be-added? q)
           (add-rule-or-assertion! (add-assertion-body q))
           (newline)
           (display "Assertion added to data base.")
           (query-driver-loop))
          (else
           (newline)
           (display output-prompt)
           (display-stream
            (stream-map
             (lambda (frame)
              (instantiate q
               frame
               (lambda (v f)
                 (contract-question-mark v))))
             (qeval q (singleton-stream '()))))
  (query-driver-loop)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6j0lTkgPXDhRxLSUO6ttKYIV4jXiVuu0d3UpEbrmoJuck5UiXSBJXYEaCwFCzF0JYS0vWe6pDW+tvam2jKKC42ZYUY13FpN85hDNLF1JGX7qg7PQoRS6Hz68tPyPYrDFYuxYVLZHdk8FxToE+AL1eGb2X5XNVhXKtMlXiy7fi5DZaz3srg-nJyTbzCgrpthsz7a6DkQ0vNLaQ8hPyxw5V+6DGxzydm3sndM8FoTYS-Btnu3OfqIOaYTxUH9pqKOSA436dzWrvigllmc9kGkl2+0ANQ2f10k-0rT83E04QDnx0nQtFKAeGxRcl8QTCpigMwmgzrx6iey+WtQwMLzsCHRwOEUQOoE1Fkn-FHyaV5UXT835FVXwJyGWW2ikVNQhxwh8R3wSEtipVfHrzsAz1H0EzmTGm9l20wLsEYM3C9XEO6SHkEKYEFEOWaAslHxAjoIG2gOXWYNEDn1H0GnUMFE0Ku3oKwNXT0PgKjVUk-lQJ4KdlA3kLohrzuB6UuC-yL00EeEelEI4V229xCG8N8MiGAn0mCBkMUGEOtTkMWXUSGQaDcJckBnSAj2xV8LkKMAAB4gj0iHo-94jk5vgg9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgZPHcUAAAan92gTzUeHAnkycKME6JzW3A6K6Mch6L6IKMcW4QLGKmD0UHKMqPwFEGPFqPqOPkaO51aJGM6MiX8AmPwH6LEMGJ3HKlGL2JgVugTUmNCNcyUNKAqCqFUM5Qvy9T2QCAJn0GcDKFmkIO2E9THj8LULiMcQNm2CVRx0yL2O+C+IeNmguJeTICQITXsPcl0gBj2PSC9TEmNQ+wGIROCCHVuIRKxMBLwwGNlVXVuKcRSA-G2GFnGBxJ911TJCvi4O3zRIXnIWiRKKBOkHKn3CaFYlADdRpOSCjjIWSikT0MtjwJENdn7Cmi0TWD0OeOMJyDhgRP8FVIkJbA0LFMjnziILBG+OoF+JznWWEVGS9UmTeNAEiHeO1LINhJ+OGg8O5KdMnWVL5OcMkKDio0hPxOshhPEFNPhOCXIOQKnG4M5KBAxOsixNAyZO12UyhMcmCE1GHCJPURBJmOSFJNJXJOOMpPXWpNznMBojdkYkZMCI4LZNRM6U3h5JKjtIqiFNhBFMFBvDvHbXdW2AlLBKKGlNH1lJAXZHlItMVIbm9NVLkL1JMOeUch1IUPnI1INLzkNPMKjxdLNLdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIlbxQi13myFzPQAh3BglvKT2AKjQ-IIkcFglLGSV50fNh3ex104U8kFSkV-LvJbyLgsWdUlAzT7RzX8D7SUk1IHCYW3BHVQvMBHQwsXIzRkLwtABkMIqQuwpLlIpLgoqwrv0pRfhzUYr4SlEwpSAzThDoFLEkFqBzS4p4pqIhHYuSAzTmMYDwvEv7BEoCAzWZEeiLAaDoH7nkoekUoYG2Bkv8AzXaNIv8EUFD1AFqENSWivE6KEq0vMAzWvD0vMAMt0GMtbivDvAsqIuwr7l0BSHsqMpMtACvDbiMvMEsv3wWOAFssgkMsctElMtADAFcsorvwAFJwrvKoqYrErArQBgqM1vc9LUrfKvdjVjK3K78ABCI1PKyKgq0Acq8SYqhKoEbcLIlKqqpy0AHI8weq+ixqrI0SWy-Ktq3qzq7K7ChaFqhy6qpaYakqxqhaPqzygIAa6Kvy0AOa6ahqhY0q8KlagIZa8wUq-wB3SUM+aCm8v85yOQsSCMATPtXQGCpPOC2eE67eMis62C5yagBoAAKxjw0WuqbkEFbmIreq-LE3AtKiIUXOSHuoQkeuOC2iwFOvwlgsvQ2PEmdQzUZUyhzSxp7mCqiVEuwsgGIF5lcD4s8uJtJvqnxoJu0uwtUscFgEgDwoZqZpptppCu3AZoAFFSKeb2baaM0AA5SQIW8KkWoWvMxyZ6+gESGGtkVGjtMQq67YATCCZaodfAIZeWmre0Y+GW-iHWxWowlWooNW1uGAtvbWkG2GxWhGttVqHCHWzPN8ycEuPfbCf8jMVKRgP8FEr6yQKQWBPCRmXJAyHWgCiPQEYChSVBN2vqF8ZIS0r0yKaoGMzpRQPfWw9SdOhMN+D+WELPG2+8ouNU3QLUo27eK9NUgWgIAur+Z2keHob6368ugmyu2W6uiQ2u-wOsxmdk1yBwxIQVCPESU1R4UoRI8LDkzpPeVOhshMM+XAMAD5JgE835M87gTAa3Z-dwCgRwc0IcG5ZkRgX0D9SgL9CPPfRihFTcS28+y+-Q1CCMQk8G6DB+79IhUY7cRwHY3NK47FSY++5YC+z+5+64FMhXAoz9MBjfOwGIZkImLjWPO+LFCiD20gUgeFISFaUmQCTB3yhgTouaTB5M7cEY4IchgsYY0YyQAhqG5Sch3QHoxQnqEgEyTUVBhNMiCiHhxwdh5YTUECAASGNJ6O-oWNGIQdJE1GQbsQE1VwEZFFEB4Zlm-oMG3DgdACUcoLcBYFWkeGvvh04UnH9EoapW3AjEJCYVMc1Q1XzBFhx2g1MaMFRUgdxxcZquNW3ECCfBfsgiHVscCJ8csY91AF3roeHEPrbBPt9FMf0nSBFl-B52Ilsa1WTitUGGl2Y3nRccBkockc6J0flWFH0cCbsgMa-t2KUhGL-ptJ9WtWyeTXI08eqf7FqdGOKbNVKZg3BqAkqaqeTifFCYD20eIA4aUG3Gop4d0C6b0fAamELEiPie2GCGKYWJIt0GdXKcMZLJMfIlQlmfGcEZKcYBYH9A1AAZxRWa+B3AAHI-75ohiHmrH-60HJjTGtGunzRGAlQfnHKpDCwccchb7enlN-me6lIM1tFZhhjg9hijxyBhi-hhQkXyo7oI8nwFnUQxmJmwWv4IW9nFBCXcWTnumzmLnSXlH8XiX2hfmhloMSXvm6XjKT8o0A6g7SAQ6ukohcIQw+lhpKQjGudmjxduwRozHObkmxXiAc0mnC1BXVBIXG5ZoOW7guXKBGZbkqR+X7hVHFWiFXnMmlAJX-GM1fHmGhMGnBgJXKWRo2X4l-mxkLxyQ+XLR7gDXF5GJS0xdedbXBzpSm7sTxIIx6m+hfV5WWM1hbXc5TrdXNQ2IgJLYBMnXzx7RXWdX3Wxp+mY30IG4LqkzgmSL-HIih1M2+lJUgIhlLby37hK27JDWIGC25kyHqKS3mAs362KJXnm2OEyG1Xg7NWeX2gRmcXIje3mgGGUgBMB2NWtXUNa3s2KnbXKXx2g3QM7qO2K3E2G3dZSEGI6ZMgCChWmzmd9tsKLXc0rXw3j2lWxSByPT5ZKQBFNM9p6pGpPXAXoIVVNxTXVn3G-3FnxLFWBTKoTwo8cn+kTUGpVtB9wCLsJXPD3NIjAOcXsChXXngORpQPDxwONpmm9p4OKZU82063GA2xyBqBZI2Qg15gv5EPAX32TWhWyGUXyPNGvso1aOiwyO2wF8GPjSh0iPRRc23kwAzTIUKPH67r7osIOyJVyBl6162BSAHpiw3BQARtIJNQo0RtLdLdfAlC-gQxFBWRah48Fhg9wlhWccE8rOwiwncbZgEmxAdQPAzOwblMh07PGBrPsWax3GfPrPk50hjPSBTPRBzOTVV0guZYHX08WR5VH7M7JEXqHFqNv1LYM0257Rv0+4xS2UyhKhZozPHAeBdBSu2tBzzApE6BCAGhcuI9LYwuIucJyvov110vGun7yyD2RYnPSZ6vuvA4pyq0nPeuH2pSXqgvmv7gTPKuiW6uGvH7iFRuncBugupbwonPMSOvOFNuJujSPiS16BUXWuyuKvIvHAgUQT2hT2auXqlvuvZu6B5urv2voMuuVv1yaZvWnABunvvvqvkhMzqNOuQxwhuup3pRIjnVSv2vIiFv7TulDmtSAhPuIeWhhvVuihJv+wpEZvxIWuke8MhvvveuAgl5+HYQ0omUv5NvT3hHthQfSflvv0JQmf26f2s9uekeA5ofoFWfsez5OeKz92PSpQWeYvLPfPbv9CKeNzcejvPSo0BL5BVOoj7uz3MI2BgmHjivR2GEQgiuqg350hdfvGMpNR2OglggrfUWglA8SoWAcOqo7AJPWFuzovv0+zFfSc7A1fyBVOoKXqPftkMumvxJNtuvM7XwpEFPLYw+pPv0Fj9eqh3VoLZPxIk+bkY-tx7f2Ol6epNsGgMo4RsVoHQGI85e99IiP7q-keohB9S-DoUD6+lAW-y-DGkP3HO+E1m+y+USck+-sU99oMR-DGtGJ+vbxzrV2-dArCe+Wv5-lCNStHs6v4V--9F-AXIiS-B+K+t+UeF+ND4uG8P1P3jTnzf9sOdxfHrCtNO6tAL7mxb+9Cjn2y2IP1HA1PYQI9GBN4PUFQKoAbAscJefXGYBf39bgDjEL1CfrIgP5TgMos-G1pSBP4mEFe-vQsANwn5bcAwYzT-q0EYA-8YW--EDqv30K7dgBSoafsP0QE49aS+7KnihxPbA8tyZFbntQJpa2tdAXA9Dnex+4Cw8o0cf0lWntYRg6SfvbXvAzNKgClWZ-M8LdBJQsARWdheYEsFqB2I6A7XdQbxUlR0AquX7YxqTHKz+NdBmgtiAYMzqvNS2y6bQcqxS7LVMUyg1QepHMFaClB2QMHmBnKwC8OaRQdwZYLayv4r8vtElLDUCEmDdAgQmoIYKv7GD7BZgvKHoKCHWCIGtg1Mr4LfiOCloGUNwBHkDo-pkhFg5hMUP0FApM6fg-sDkLeYuC8M5WO4p6k8EqD8ASwDWADVIi5o98rQ+QGpDtCWBsgqDFwWrU6FxdOO8SHoeQD6HODBhMw85j3xYreYBh5zfxlSiNahCChEQsoV-GSgfZmhtdGoZMOmHNChhXgtTMsP1xKEN+-5PoHxD6gQEQG0nUACSFBA79JgUieAeJGn7IC9ClfJ4VYRWRUYcB9A8IhtC8R-D2ezw+QOgI1Iud+QUwjGI4Hkoa9aBF+XAdEOhEUCH+e0eEd1iRHq98i8IjEa8I0I98ZSwTfAAOh7gjF-G24SkaGmpGYc3OnCIkVCPVT+MZS5gI1k4Av7wijA-ja4eBBqz3C3grIl4TCMoEQNv2qqPkXYyWbc8XhkrXEYiORH5FoMfIqoVKGgyKjNREIZUbGFVE0sNRaPAyEOh1EminI+pV5nSKpGwsFBuaBNKPRkhzCDKtfbnoZRqFUpsRIgVTgsHkTaIeO1vVJrx2OC6AnWrIp1m8NgGy1G4QfNSolEtj6iMwho8MZiLY6rA26-gpSJGNP7GlVRzWOrsJDIb0iI8sLVYS-FeZRknRbCE4fmMSjei7AhASgmXwpA891URg-oQmiNHyBGhwiBTv0OUGtd2uZnOIdGP4gWIFOQ4y7rUHXzxDqe8wXmFoKMDBAqUBYOgPaJbGutSuvQNsZvCkRmdLYZbHsYCIFwX8zOy4u-iMXSBmcR6VgUAGUQAAS3NRwAAEFwA4AbmgACUyikAAAPJC1kA4kfgtbmWJxjAxqLeGm2O6wSi98TYtkJuKgkYxJW-YzcZWxDFAIkxlLfsTIBaDpj4aWjbCXwnAnkdIJe+R8c+LfEfjvxf4gCQRKsBe15g5INCUGMgmYSe+-Yl0ZuMcDbiSsmE8qHhNoDXg5hJHKXGX2ImzxEJtgGCT3zmHsg2hAmR+C8PhSLQgkvon0EWAzACS1gSkl3hwIRFSSsRVQ0Cap3EmsTehGMGCQRlHoCQhICtCeKEMtgAAGAQj1HiDHgistkkVmWHD6UAv4iqTySoBIAadxIGLOyUFOFCjEeAJ4vzKFNijhTGAWjTbG5KIFV8lAK-WKdKx8mzA3RqqEJndW54ZTfWbYXyUS3b6XCeolgGuClMfpOAMowUWyXuOm6eTMpxU2YHwRWIeSI8XklJjcl8mx9JgPUJQWyGPAyBfQAncElRigEsdkoTIRLv0A6nt9yBhU0VllO4RQgWBSrGaRwNVRDTHAI06QL6BIIntdRvdSwMNNGm44V2yURGM+2V5YDdp+030KFIbHPDRAjUWEE4HFZoDkeMDBvlGJV7xIHpF0-QsDyp5QCRuFKassyIhEN8n6bArmA3F9yiBMBQg-WDAKHJwCEBrfJARmF+EqMsRKM9gQyhp6Liv4DQPATi0pH5Q0e6QIGQdMUCoigo5MwQYaWEZ485YVGFDvyODImozpe0i6SQW4huM6ZvobAv537DpAqZmoQ7puW0JYE+Zj0g1vaMFF9B1ANIFPkf35JYjUuMYz4dIkQEz9fhK-AEZMGFgHViZC4ungzPoFa9uYxAPoviLjHWzsZkydEWMQ5oOkCZYxAcmDOWBTEOYBNPAG3GDkRgPhiArGV30NkiFPZJsiaVWnNn-cSZVs3AW-DWb2zDijsjXvPwtEBBGZ7QZ2V32VaWiTCZvMEZ-Bhn4yY5uYyOEwMYjzB3p4SHoGsE9nGz9SPKIOSHLjl+YbRDIu0SQmEGSku5mEDfhXJBIwSX21uEgA7MNGqAEeN3bWYC3JHeMSxjI-9j3NLGG8PQrnOQCyLnmSs9C3IogVnnKzuz8BKsvkBQQeAp9Z5d1eeVYUPm8iquAozxHYSFFqyr5EeLPPPJvnazYqYAYOW3EPmRFZ5RgLVPKJlFtZ-GU8jOYaPVFZCCa6otrCdOSDQKcIhostvAqzFFAy2SCnOf8StEQN151IjcU4FCl3x0cwrH-IFjqzo50Wtk78h1loCLAmxtIZ6T30trPTB8sUhfGwo7FONV00GThZK2hbSARptQUVHdFg6vNLagihqb2MnSe1SQZC0KWGJZbKp9JZUUADmJMI6z+IiwSPJ1IKghTNAKhdvrVLWDPSVEL1VBQWKEgiQQ2SkGxSmLUVJjkFGMpEiwoeQFCMwz0txSkG0Vr9jSNihMRSNtGbz8BawiBjbAPost6pXUhfPooDG+LUEVYqwM6JOHBLZwdiu4tZPImOBPxu4AADLc1AJIpF+C5KlxWATJoU0UK4oXlBLmxNPckJJNTT+MUJTSyVDUpaVYT6JOEwxaKEHyETUwtkgZT3zyUFLil4AOicOFQlsQulbEwFrJPrph1+wHEk4VxJ4ndK-FyQe-LZKEnNCnwVQtZcsIWKXtdlEefZcsKxb2jPa8y8yQZP+lYDZJkwhScpFCmtwgkiiwxXEvxl1KrCRkqpfGJGUtLLJ9oh4LEC6n-NaWwoJ2vcs0Wzl9hMk5oXJPkCvKig5IpaMlCWUlg1B2wlZUpF5iJt0J9AaFb83UXQTDJqCGobcuBWpiNFlkqGgiouHKyXoCgGJTCtJVRcmVygxqTGK1CA1xIk4pjpyqGTbhol-zX3lgItm08q4-KriKCPBWAV2VvzTlRKIHHZAUiWiwQJfniiigSW3KjVSQoYkUhkusojsT0W7Ebx70hYC-keI3hgrKOlgUyTJGQEIStJm8KnpuOS7uqte+4yLpbA2VXcdx7q3rlIiwbrgZ0Wk9VbrwuLHLBxHnHcFpMuXKDJV0Ne6K134nErk12QcvP2GWbErdANQ8NZVOHBRq5hDA1GSIMNKAYvSjqrJJ5NdVNKflvKw2nCstgwhmF5GSxabL+7GryQpquFRDJSB+qai4kQNThB3GYTQ1L1YtTOlilzDTajkONYMITXnLRA2algKmoCCqB01q60KRutzUw8Cptkwtb5VnVaBDF0aitezIrLJ0uOswOZZ5ODzOq1g7qhYaQtslTIWJtAbmbc245kL3VrzbjlpK-UQSf1WjYDcStA0kSf1BsIcMHho7EqZ+bq4lWKSkTNAiV36+gJbDyWUSvxP4-8VMsmC4b3x+GmiaUvzVYbT1rcDDS+q2jsDtwFQDjjWvvWPrP5vCyYPBqdWxTG1jE5tVYpjG0aalOGp8fkqKUlL+Y4y8TRRuPUN8ahQmkZWKSmiMbygzGq8uDnrIwgvqI8RVn6SJnGCRorDUSb7C01ERdNe+I6aNC4U4IDo2moQCJ02hj9V0hm1-Bpv7pzAHAdmouOZvfX9AX45mrRk9i4pea4yjm9hcuhc1aMfsHmugCFoc1Wae+-AozZOniCPAHQbEKFS5vC3KZItd6xhcQC+rUA6ppm+zWqvLW+bOCtmnTSVooAOdbmBqlgK8y01FaLFNmmrfgna1axIk4q2JU9na2X44tmpUXgTQa13Ed1jVGFsMR60wqn8tAQrRlCL5AZPNLW5hJ5qIhjRRtFW+ssFp007b7NkrSJYszyHChNhRQjQXYkfjTaVVQWtbUIFW2xb1tQyUbRzy8q+VgtK26LXttq33bBtL26BKNs3TjaFi8LcqFdvJrPDltC2ipSltEBpbmwQEMrYisWXIqXlTcR+BiqwDDbkgiw4aKyrZBQrUt6W5VUqCrbbLJejotJTWJOVWFn6WO8KKkso5U7Bx984Rkz3SBUo-tHxQwuWtiRA7XU1ANFjuDB05pCdCgRbQgSYlYNX+YA40vklv7j1J64QXOpsHtGztuWkyBHRQKvUTQlSKO+SWjulAY7pQFIBYPdCUBW89aVAFaAiR2ZawKB2yv-AvxMpo9gO4gTMVgoqi4dqo8In6V7x2KY7WdOytXUOyAKNsAuDO9JdTo0IucOd+kUbbzvTXbhg987bpFNrx3E6c0ye4dvLxwBSJmQrrAShoMtgABOV8D1EL28Vo1pMQAUtu4oaDo1-5NwHfAHha8qekJK1eAJ9mMQ7AgRRyVrwCAV6lQdzO5uVDQBj6t11EcXslEH00shwFa7YIPob2uBEUsktTEMjsB3hysMsqQYvtknL7ZCugfPTFsEovSZAYiiRfnMrgIbEdFwskdzuaEJ6Jtoi3ihftWyg709EqwCM-vEVmpJF4un8lu3uDE6oI4ze6IsmFBNAHg1NXRSJC1CWxU2tQF1m6wFZ4sMo427+s+GuU9rIICERgJAbJpeNxI24B4GkSRZa8Z924W8HeEXZaKWW9gUAyJG7I2VE6EYGfcyw5VagvIlashJIN+6QQo1lHajkWAfV2JODWvf9U+uIEgbINWGhnH83n1gRGIuB-A-VEIPLYGRWgO9OjPMAUGqDzULSVhBENtS9Dt4dqNwZMC8HzD4A3QyYdoMwqIohYimEwb0MT6dDDgQSlXqxXIq0VxcnICpOCTsGVVJoi3Vehf5KAtQEowtW7oIC+VDARcsHcS2YYU7GdVer0QhmrU4BF2wBu5umMUBYKAAOlgAA04r1Igh-AMHn0Yc6jKE1biAZBH3qHSD7qLI1CpyO8c8jWYwo8UYblmoqO5Rs5jz1VSEBFkQyKLpESGOgAAAXoc3MCFHkg9dHo+yAqOO7qjkxr+o5HqPEGNDZB6HVGiezaI6Ax4RFGgfugtrYD8BtRWm0vDIGPWqBhgxgawNjjjYo+CxAkYiMOjsU1Y1Iy-ArUQl-NehOrTi352xjVOCaNkZIEsbCN0ggRpUCEef4rQ3jmtZ40MmWNa1W4cRkPjGOOPDgdWV8S2NuH+b0HxtKeHY46zUWzA8IuBsMil2aQvUsTiY75KHSxN8sr4YpNvf5qxNDrkgNhu8ArGDwmpSmGUdLUwdTU3qt4fK84zCudbptrjtSk5iAfQNDFMDChtw3Xt4oLE9DzwikxFLhKEnZOJh1wxDtVNKhoTxLZU31wENUcGgNHIw6af73+AJDXU59dIYfUvq5DtplGRQZfHErDDdHE1NQDBPSI3CaAA06KYX3uGNB6p2wwScSgMATDph8qAaYH3hnK9Lox+LJJ8MEqRy0VSJCaYD2U8n+Vu5sG8ff44HdAjgWI6j2sivGkjHxynV8b4REJBBlhgIE63JNJ5iBcJfqRkawCtmtTHZ10kvTwAEmsTqQURngHmNlGljkVLZthXBNh5hipAYYrC2fpDm6DMZ1IEpwnO9GljVR6FsMQaALmlzhyqVvucPPlRlzvgccyUbYiTn+je5oZBmgPMXojzD52c6eefPnmsWm568wsb6P6M9z85183fkXOfmgLE298zuBAs7gLz357o7ef-Nvn5zz5sCwsWXMzm78c5ncE+cgsvnLzYALc4sbvOIWsLZ56C8ed3PEXqcpF7cBeaAA')">const input_prompt = "query input:";
const output_prompt = "query results:";

function query_driver_loop() {
    const input = prompt(input_prompt);
    const q = query_syntax_process(parse(input + ";"));
    if (assertion_to_be_added(q)) {
        add_rule_or_assertion(add_assertion_body(q));
        display("Assertion added to data base.");
    } else {
        display(output_prompt);
        display_stream(
          stream_map(
            frame =>
              unparse_query(
                instantiate(q, frame, (v, _) => v)),
            evaluate_query(q, singleton_stream(null))));
    }
    query_driver_loop();
}
</pre></div></div></td></tr></table>
      
      
      
    </p></div>

    <div class='permalink'>
<a name='p3' class='permalink'></a><p>
      
      Here, as in the other evaluators in this chapter, we use an abstract
      syntax for the expressions of the query language.
      The implementation of the expression syntax, including the predicate
      
	<span style="color:green">
	  <kbd>assertion-to-be-added?</kbd>
	</span>
	<span style="color:blue">
	  <kbd>assertion_to_be_added</kbd>
	</span>
      
      and the selector
      
	<span style="color:green">
	  <kbd>add-assertion-body</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>add_assertion_body</kbd>,
	</span>
      
      is given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
	<span style="color:green">
	  <kbd>Add\?rule\?or-assertion!</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>add_rule_or_assertion</kbd>
	</span>
      
      is defined in section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p4' class='permalink'></a><p>
      Before doing any processing on an input expression, the driver loop
      transforms it syntactically into a form that makes the processing more
      
	<span style="color:green">efficient.</span>
	<span style="color:blue">convenient.</span>
      
      <span class='comment'>
	In the JavaScript adaptation, there is no need to precede variable
	names with <QUOTE>?</QUOTE>, see comment in section 4.4.1. We are
	using the same internal representation as in the Scheme version, because
	this way, we can distinguish the name
	<kbd>my_name</kbd> from the data log list
	<kbd>list("name", "my_name")</kbd>.
	The original authors were saying <QUOTE>efficient</QUOTE> because
	of the string manipulations that would be required at runtime.
      </span>
      This involves changing the 
      
      
      representation of pattern variables.  When the query is instantiated, any
      variables that remain unbound are transformed back to the input
      representation before being printed.  These transformations are performed
      by the two
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green">
	  <kbd>query-syntax\?process</kbd>
	</span>
	<span style="color:blue">
	  <kbd>query_syntax_process</kbd>
	</span>
      
      and
      
	<span style="color:green">
	  <kbd>contract-question-mark</kbd>
	</span>
	<span style="color:blue">
	  <kbd>contract_question_mark</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>).
    </p></div>

    <div class='permalink'>
<a name='p5' class='permalink'></a><p>
      
      To instantiate an expression, we copy it, replacing any variables in
      the expression by their values in a given frame.  The values are
      themselves instantiated, since they could contain variables (for
      example, if
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in <kbd>exp</kbd> is bound to
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      as the result of unification and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is in turn bound to&nbsp;5).  The action to take if a variable cannot be
      instantiated is given by a
      
	<span style="color:green">procedural</span>
	<span style="color:blue">functional</span>
      
      argument to
      <kbd>instantiate</kbd>.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (instantiate exp frame unbound-var-handler)
(define (copy exp)
  (cond ((var? exp)
         (let ((binding (binding-in-frame exp frame)))
           (if binding
               (copy (binding-value binding))
               (unbound-var-handler exp frame))))
        ((pair? exp)
         (cons (copy (car exp)) (copy (cdr exp))))
        (else exp)))
  (copy exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06cDwc73jxxQIBgeAkFQNA8TQYkLne8xRRBLQKCyXIFEIehiDoShwf25JUnSBQWDIfRxclmoZfCUAAB8dcU0UPl6zq1cUDXpdlmI9YN1IWDkjghFNiWpa13X9ZfRWMjFs2Xct2JrY9sUPzVKV1d9+mmeBagRZ+aanfN12IkKALiZUH3NcoV63uTd1UmYMQJGEBhZzBD4FEoHY+nuHbCb2gTRVJsvLYAMmb3p+kGJvwmEoFKCr-Os8j0U6D+gGw4zuX67z8gC9qYvQXj32LJH-7CoRgWXEMXxlfwRt8BkNJR8Xifa5Gw6I3Hi3+QiyPmoYc1qDEOh-ploxKGNsRuBRwhAjcZxJ7dCXCED8n4vy0twI2y0v7Ix-sQP+9AI6I0FqkEBz8LbHyvqfVOop86F3nnOS+MsLKoLAWvbOLESEWwYFvHe3tnYn2ImfDu+gIznzrBgrWkxEEbyZI-NBMtro4wYN-X+hhnAcMtow1ObDbQX3Tlfa+-Mc6igqMoNgE1sp0DfuXABCtq54KAU3CyJYhAgVUeoyq9B4RuxtvouehjKDlwsjDP4DBzEaNRNY6268c7uMsYwGhdswKOMkcsJhIxWHMMwiErh3DfEmAsZowRBZhEwNEeIruhNwmDAjNEnRijyFuSFn9FgwhyCpNgfArRmS-wjRwTPAxC8jGiXUcrMpFT0lWLiSxVppTymLnxpIMghhtGhNiCNG42JAm7wYPvQ+-1uAyOCfk7pblentLtsIXwoyhrZJYewvJssClD1SIFahzAtBgJ2Vk7B09Z5FwcU40SZyPhUGIKQ1Z5gzkiLgWI+g1zanSKiewru9NCnIIYG8NiqJOgApTvLXOdiHlNJCcY+g0LnA-B+VUrx7t-T1Pufg0uqLRJQujpixsrzLkWzIZHMlMLGywLYtyLQcLxmpxLgwQIMhRncDxJ8lw9KKWQqNG0Asr8alhI5aCLllReWgFJK9Ol6LyX0B+J0EWI8aA5gBpK9lCLOXcvlToMFJzqFiulsoXVMSbkIoJY0uczTwTGHaJa4gtKkEuDvi68VVrRlhFtQJIBzqLWOHdRAkJYQlWev7K6sN5y3lgJGTU2IUqEVLJ2QKkGcEPgJupRKyNuygUjCblG2akdf4gSpe8i2ybC2BrdIcstPiWKineZoXEPq3X+qLXaz2mQe3Rp4cU3N1armlt7VPNIXt9kPkLaamNop2AeC8Gy-VU7cH2JRU88Ey7lBeA9TwvdXhWr4C2Wuom6bgVzvyYPRdKDCCEBBCyjJNrAV9qRUS+V4INBPuoC+rpQ6c5Mw6b819OiG0uAzaCoDFDSArWxX894F69m5JBTE4597rrTm-roxFm7kVzm-hZYoZDpAg09YYFmSgoBwEQMgdAPM8RKJYsQFCbyJFfzoDmSdbohbRxcnQhOstpKlGFoJ5JY95Fa2ks0YeR9CEif9GJuSElqHbyCZJowGmZlzJXlJ+hV8uM8dk4ivxmiJF+mmKUNjPxzOok4y0bjVmjKIsoa-RTLmig2bXPfP+oD0GKeM151YiKhVqqE+HUTLRfPhZHpFjOwXTPFLaeUxD4jPPRbvkzGcJT2kDNHiLEZnm0I6WmOs8pmztklacyZ-0cnUhdrDZZ6LtnKWhr9U1q1eaa0y2K9J2WSX6uIuPS15TMWfijaC7VkLsQGuyvlj1q5mXxttYW8qJbgWBtDYNPN39z6LMrYNKUfb2y2sdFZSB9L-yavSx46V6CnK5nTRGRNBDaSwNGks8F2bYYWikFMo5qyNk7KOWpL4GW5BkYeS8udt5ZHI6nf0Mibgb2A1-lfA3XqChyU6p+p65HDhfwKhGqdhgP9qA4+1S1HLKPBDwbLbEfChF3TCjfKkMO5R8cb0J3QYnDRzy-wyGVOHl3PWnvPciawD2ysrBRmjIud24L0CuYZWXiZxcFf+kV3n0u1fq-p2IQwMuDcrCu9x5X-CwRS+fIUOppziZaaF2wJTfZShnOmiKmW6Dneu9DM0TsGpljM5PAqEywRecWWsrZByLhI6UF8CQGHghH1sF8IVJns1wVohlc9qiIzv7G5m7XOubpJn6De4CAAfBN9cHG3vBegYQZtLGkaxZVQyxzd28M4NIPwVQZ32Osriz8Jl-6OO3ec79mIPn8wT478KykoawST7q8N0XUmloMvvi7sgWrqA6u+zNu9PC1tdeteXIv3fa6Y9SO2hP5q42dfnSX9dbpA9+RD-8W-xd1hVoub1sSpfvzqGCNBvsjjmv-omughOpwN3p-seERCGOeFUKQKOiEpJoyIZOAagegdAQWsAXAc5n5IKGzqKB7jdLgf-uXJJiAf6CNFQecjQdNCQUzoga-i6KnGfh1gDPrkTHgfmpQHWoQfASGAxOcDfDGk9gfA4KglKPpujvCgJOXgwNXqJJCLIf5uqHCNwAoQujwoYNyIwPgPwG4gkh4s4P1oZonOSD-ufpZrtIaO8KWJGoyOfptn1pZqwZelOvfp2jwT2nwaUOkJkHwWsI+tLJ3EYbMqYfZpYRAWgVAYIT2nrqbjEIYUIDEWYuYf4iMnwRON6gEZWh4UISkbboxOwcRHbrcmYWohYTdgNtPjPlHHOHETlNMglgooZM0CEWwJ-lnpHGtlNttsXsROeFVoyMehLtVo0X5OeHuFRkCBkcYbETkZoiMlVoeDEOeJoWIk-LUIsS0SBHMrsXwlKAsVsaXi4OAVVtAgrsIhbvIFbjOA2MbvkWkQ0KcfsaENwO8R8YUN3voTnGti8gActiMdflIginfBQTjPoHweAd8h9lUkfoCSfsCb5u5ivhCc5rXOeNNIyOAViZJqBiiavpcaguprQlpsSR0UftNMFn5CNCwQMTGmtm0VotNpCeSJSR0VphyVSUEt9iGOAQKZ7tdpyY0Y3iKcQVnozJRtRmzHRpzIxpYK3hCu-P3tssjD3rbPbP0FojqaAIpKUNDj3OyH3v8IpMZADhHsjBZHbLvAaS0DAiYFoMIAECYMQAfrUI0AjjGtlgTlrkMmgdwLcaMUoYAgvOCJziINzsmOCCbv6MGUVmGWej0KIS2kUhzj7FzrTrqZ+kAjIGis7HmZ6oesBprhotrsMsjnhoanKsWaAPyrBm5CBlVnWVggajKkak2YquWjGubjmJblcjIPWT2Y2dwCauiSxDCY7nHG8GjGMm-jnnOOCLCQWImWnN7lrK2RChuQDNNAWQRl+gyc8vOVRBWSxAeV7kueNDjHhhmkeUCaxo4F8GIp1A8cOU8VctydUQihGJmdntmokT9IMvoH+Sue3CMEBYMW+fgMYK1NsnDMFpEMnP+QJKTChcfrNOeH3C1H4V+SORbIyL0ScMBdluBR0UXi9nho3DprqNjAWC3pHHDIKbvCMnTGhamhhQdMwnTHuXHoMpJpxYMs8OhVBRGAJayafqjJEURT+TAQxTRZ0EXiwOsARbiVCUGtLGIH3NprQgGuaRwJ1PpWuEsKGKUKTJRUfNRdjGEGGRpV+U0c0CZXpaoAZUEgGgADzAi6VmWqVNHNHh7TjggAAqckgkQgvghuvASa1IWIf6vpokoAAA1MaQbpAp1EKNstReEOlVueCGlRlerllWIDlfeRMGrjaYDuFZFTIMQPZLFfFTSKntQMlUVelX8bEGVRVXlcVYVcVd1eke-MtBVeZZhjwvlIQOxY2HHB0ahcRHBTmMXHJNiJBQ0JHMsZ5RxfZY4XxB+r0TtbqEFdZrVqtUQPCWkZau+VdEropa-ICd1c0B0SpECIdHlcNbpNBYMBNV9S9UYbOmBMpdLveFkBNZcfGCGK+Hdm9eyFXIRfdSrpglUdMCFcdVHnQHbOUKAPphnkeARKHn2CgYMoyIwXDBBbKX2CNNtWxdRcjmJUmTpGxS9gzaPOUVDZzVBXdhdetbKZITwryQxVpgtQNGwIteSMtbzZTTxhwRRgYYDXZWLYodTTUUdZ9ehDZtxtLcNTdQhXdY8cjY9VPvkS9QxXDR9SDX8aUKRIdOZdjKdUpNtZhCDdaLaBDd4RUdDWzrDeafhcIhLA-kjVbvtQ0OjaLcDtjSILjaPMnlifjfRJUYZCTbHUCOTeBaIarQirTcJfTXTEzehCzfnmzWDJDZnlzT4W6DzeiHzTxlnPKRvFRnIKzLRhzAxtzBgOqXohTlTj6fGQ5lLpBvhg0lunOHTuCD3bju6lmpPdTgwJTk+oARZoPe+gJBmjblnOeLPX3UzIcUAs6MGnMFubEHMBOKkQ0MGhyMfTEByGfUmcGghNfaNKQHfQfdGSXE-SXK-eVtGcPF7FuX-ZkP6OfUUMGsFE+uQOntwOA+ojFQaCA4UMGiFdfSFX2Ag7EMGjcH3PfCwIYImVg6oDg1RisOgzEMGqlU-bEPoPaaAL4N3DXtDulXA6Q0cRCO5JQzENQ9wHQ2odDl5Mw-fdGTodMFw7Q-Q6ANDpCLQzECw8GsABwwYDQzwwCAw6AGAAI2-WuQAKQKOiPKOqNaPSOgCyPRk9yUN6PiNmkiR0OCNrkACEwk5jSjljoADjQINjmjYI4I3lujzjvDoAvlMQHjP9a53lAIHDFj-jYTQTJja5Vevj3DLjNeMTtjXjVe4T3ARQkTKjEjoA6TKTnjEIdjCjuThQOTMQdjsQOpzoToW92OU9-dVU1FgIIY5ecw3A29eOu9tTxUPA9Tc9IG+ALAAAVm6Ysa0xoLzmoQ-f0z6VuevUTpuIZJ0zTpRk6EVM4X05Tg0yYn1oyEAsGoHluYHiw-8aw+CJAHQGqNHFAzEJc9cwnqc-8Zg1QIQ7AJANfQQwwO808x8S89gwAKJP1fMAu-NpHBoABy5AELCjULELjtZWPTmzKzXuryAizTAIEz2IwoOTh0Y5HTszeOuzQhSLVIKLxLIlLTKw5eOLNe69m4WzvdRLxUpiZawFZOKLtODgqO8GJceGZO304opAaeV0wz5AeYhhvUmgV10EKLC9HAYCy9ROBd0wb2fLRwRQMlOcwEWIClRtYIeG8u8lwdqu0Ev6kR+gnL4uStX1jLOzLL6LrtfB5r6MVrG8syIzYzvxpu5LDrIEtFKrRQ-tiNhtIdWcHAAg-tYgXw6ljYJrJFSx-EM18br86zDdyYTd8gNG7M9GXMmAXd25785ApgDArqHwVUNwpAq6LizYXZU6SsKs04T5E0mMjos2sw16WQEYNbbbA1DAnV1Io12VMg2yzbQM2Es2zQY7rbiiyqCgNw5qBW7pb8H8KtUFxbygcVGQHGRgqOygyg4jVG6VFe+7cN4IRVpQ57oAzQg16VG7YLoY57Eaq7WaDgAyxgK7UChuReb2Qc77hYEQ-4kZm8Q7YgA1EIxV4sC7xgS7Uo5ev7b7E0xgPLRucoBV1g4IglZQdA-7TAZACgFe8GBZR1b27bokvR2k0w82QCpHoArc0k7O06A6EYpH4QesP1QNhHO04QbjokpGZHQwzCtH5p4IpGJphbFAJbZbsUlbq6pH1p7Y98bVAGWitH9HE48m-0vOyYpJSGXHXC4n4IEH6ViHaBLUIsBHh0aO+naHJVj7KV6VfJemR8V2yJenrHQ1E4RVA7pniFFngnES7C1nrHaHau8IlHu22H-7eUoIW5DeUXSH5n+HkwIY82pM8nAYCXZnEIj93AQCVnRHbtWQrH3AvnSXpAPEqXiKZV+nIYl7AA5AO5XgVY11V71SO-p1h2V6WwWKQNsq6n18RzOv9MrKrIdAN8E889GUIMIIVcEIVXZOAqJOaGmIVX3hwPCCl5l2VwF4MBN6DRGPt6Vzh4l3hxV5O1lx++N71zY2DfoEd5dy1PtzOW5GKxK8oFK-61ROTvIFam4BBTAgWftuPg5rhnV+c8Dyp1ua55Unp7hoG4UOXm9+sB99QJoCST-B4L8ihwXoD1t1R4ivpgD4QGR8GqRhAsLc51p7hhd9-C9+YBN+ppDsjD91j-97hjfmQQ+n+ip8T3QbECgda+bUCCGE5wfETzD50lojT6wXU2z8YEXGjoyOXoz1vMz6z39z+wznz2XQwUL7Qme4-eD6TIdJj5r3PGjqDRmmb78hbwzgZysM0CBq9SJx-cb797b4rwzlV878L6pMj5K2j19zjBF95s-dp7FAtXwUj+Kyj59xjx724Djzrxd1hfr0EgS-L3b6hwgYTd-lz-MgDDT6-iNGT1uWL4Xzr7nyzqjWATAv0QLTnAniQHz3W3xqkKTGD5l4dF3wT+jcRqJNHqDtcW525M39PVh4ubWq39pe3+TkuL3zJIBYD1V-3zApjTHmDhKYW7Wv6YLW4GmFVJQPgK1C1AMBUIMBz7Py4OP63yJyt3VFh+f35hpLFB2Vf8Bxx1P54TL1qyxEbP0AUBKcSAcZCoLAy7BsgwBkDOeIYFJBt89E6tflODygG+AYBxIJ4FVxN7MJDA-KBHlQ0PbvxABwA+SigK7CEC-oZEHAQ+zOZFBSBRcWAbO0XTe5hW-QPHHQKMCQCCI0A+gXAOv6E8Z0VA5AVwNQE8CMBjvcPh9VwF8EngahaoCLAdhsDhBUoOgdQnQHUC+wMgnJgAIoGYR+Uk1bVuQKAEyB1EjiSZnTjXaV048JgtGOckCB-QV2RAmlty2pCMCeExgqgDYO0EEcvBQ3AdD4PB69EqucgsgAoJajsDDIH1QwQ+00E153BlATwYYIcE6D0MdgniPoNYxyU4yQoVFqCHQQ9toGVAWmGJTxK9NPokxY6J+W+gU18heMdmkyRqKB5bo20JojZkyG-UW2-UMpBXFqFgwFOHETVAwCwZcRPoWmT6KDS6FFC6hf-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-E6z1yVEv8YYPhBwisliQ7SQ-OKX-iPR5gMnH4rAnxznRkEuITBO3BCS1C7xNBefMwVYTNUGM-CbYs1FUSHF2EpxWRMTFiIJY7kibqwr66yiBl3w70X9AgmGCoJVAdpdMETk15DIaSiIqAKUEZLC6QEzcfMvYWOK6Agy-IvSIaWjLzliy0iYfKZp00oh8MhRT1zYXnLcJKyniPgoECtBkQjIEMbfwe7ggN8nyvrgnWvmKzyZyswFUTnE7TLF6kK-rjdx+X+D-coABFZKR3KlEHury1ISgsRSTiHQ6YvgYbFdE5i5Q7HUUHcOpXEqPgwQM-j+JyjfRJxFeVlSkuIg-5SVG0QcfzycJUgsxQIHJR+M5Wv9-4ntc8JuwBxUJBxvyqlrLgqVmjug34yVfQBKWpDoVhQUqDiHVX7i6AWqwAYmWWZLhBx3AekbKrMkgQFVPgy4s9OIgSFgKTKwIOfMlluKHRACsYr0wlGMguF64PTtQtsIF8+Vncy5YKoF69MRVSY9xbktxD5KI10q3ptaqoRSSvBSqsrCqp9FqrnkNS0pfdJ4D8B9VeajgMar+imq+wukqiZavEapqBE6aqIQ6tWmZ5T59S4QEXCknBAiJ4iAVYAtORUSJVhqkuTJGf4YKBVVXZ-mhIFVP8O1Pa-5H2uIiuqWVGqxgOyuTFDqQJfOGhZs13g3jV1hxIxSeJbFtjOx4APyEesbEnrzxli9LlytrVqE918694JcRGjggMQmHAcoLTnUYLvV5IZde6vXXuLv5lxKKGwE7WjLGQRikxeYvPXkhoNsS29UuCEkPqcmT6+xa+q9kfrExbaQOriDeDDMCcheXwVkGI1YdGCBG+aMTwsE0y8pzeLNMUUo0ohce9Gx8aVJYpYZCKwUQjTzmI39qmOpGmBBxrcGQE3EKQHjaYGo2fyYKQmhjXAjMTib5oLGmjY9HYRkav1OcGoGIDeRFw5lfGvgXRpbzAUCN+AayUxtMBF5CVgAgsoRXM0OY7NFlM6lZr+hVcTN1kxjfQAk2lEHN6ggEh8rmUUbPNVGnzZBH+LOa0hWcPVT+hECFUIVE3Lcm5u3UFtuNpmrRNxqU0Yqoh-GrjYpp5zpbmNZHQIeIOCEsDxWYQo5TKz7BxalFjBfLZJrq0ktMtRK0LVk3EYpb3N8msTYYC80jIGtDlR6ernC2KIot83CyNVrYVbl2tSW4ClpvrwM4mt1m1JesraWTN9cOygba2H7Skb-NSi2be6VRVcd+t289IuSJNE6KzRh82wLhBkhaKztvykuj8P-CAQeiXsFrUiFzpvLZoUWxbrFp20TbdCxAbTVoHWaDFkYJgfgEX0B6PjwCA-KNjGyxShswExKgPqj3R5xw0cC21ZUWBprLboJq20MOttDAoxwdrKdSMwBlh9RWUX1Arqh1wkCLuotMehniPRo5hFRNA4HJvxJhUBOpyeTqo9Ke1FBwQKO+PtNE24tDqQp24-udp9HGysVvRQNkNtehRbhdQfSTL9rnxaBUVW5FXWjsGjkUhRUOLrRAxipAgAAnCcEjgwNIG92mjZbvYiwNfl89EWG-F0LUyf86tI5HLWemvgXA5peidTMKBW7tk9XerhZDQDh6dVbBG2XNNoH27IGboj4BzWmBB7HdAmacJBOiSg0XAXkFspDIrqsQ49nadZWnt3ZRUWeQe4lVAsgawKCwb4J+Mysx1-K1hH21IUruLU-o2A0CmveGlEjjaoVqOTvdXqYCWkQdMaG3m4AO3VBSoq4MgHbDESPN-l2KxkKrwhzMAWe4+hxdlyn38ABqRwTbn5FfA6pSAc+m5q41UhiITKWkamUHrYaeQ+m8vbFTdyTGlQYgnkdhgiEeGB7C9+gbrnMtaDHAKi0ehiK+AVXH9T+98DtVKH-3Uyx17E7tdOrnUKqOy0Bz2oftn360E8Z+oEM6gOEyxrEMer-SFFga3639TIQ1YIEgOiA39b+3yIAZr7iEW1DQG-eCGoN36JuF4UUUIRhysHI9MQFPS+L2XrKtl24QnbLl-1KLWZZO0xJToBitA6dBgVnSDHEY8ZfNteC7Ioq+VyGJdnUbRfdt6KxIG+fY0TUIEMD2RVY2+q+eeFaDL6ZRavNfRr1+T3Ct9OHHfQVT33lEU6-0Q4n3v64QJJdpon0focw2HUZ0cMRzTJHBB2QoqUI5aGcOYBSR-wAeE7mZ0n3OFpDHGLQ3i0GQOUFDjOtQioZw1pGKdHGAfthQcBR0i4PUBgOoBEAcBSAu0ZVIQDOxQ6Y9PMxucXwINRrNmZQ3GYzPxlHxSje0rOlOkOnMzuqgYLGiJMqMTRqjM3Oo3FPAnPU04TRlWStH1mbSk9eEbmQX07548Xpzo0mLkBWN0aGWRx7ZKVJMliFGDBoOvoQE9riFP+ZxvnpFsT6pA5l9XDkfoBoEAAdLAOOoOVFwwDMgYIAR3l20NEmcoaCKHtEhH659E-LABvoO0fHbxXxs5r8f+MtSmAJ-YExV3uFjReAq4UGj0FJgEnQAAALwZagBfjRQdJViZ+ggmGd4J8k1wllzQnwQsJhCvCaggNRjD7wMw9OA+MAm6TOJgjkozy7TdCqLAQqsoEKqzdJg9XJ0HgERPvHaTQJhk2KYh6SnpTspzbmyd8hAA')">function instantiate(exp, frame, unbound_var_handler) {
    function copy(exp) {
        if (is_var(exp)) {
            const binding = binding_in_frame(exp, frame);
            return is_undefined(binding)
                   ? unbound_var_handler(exp, frame)
                   : copy(binding_value(binding));
        } else if (is_pair(exp)) {
            return pair(copy(head(exp)), copy(tail(exp)));
        } else {
            return exp;
        }
    }
    return copy(exp);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p6' class='permalink'></a><p>
      The
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      that manipulate bindings are defined in
      section&nbsp;<REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.2' class='permalink'></a><h1>
    4.4.4.2&nbsp;&nbsp;&nbsp;The Evaluator</h1></div>
    

    <div class='permalink'>
<a name='p7' class='permalink'></a><p>
      
      The
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      
	<span style="color:green">procedure,</span>
	<span style="color:blue">function,</span>
	
      called by the
      
	<span style="color:green">
	  <kbd>query-driver-loop</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>query_driver_loop</kbd>,
	</span>
      
      is the basic evaluator of the query system.  It takes as inputs a query
      and a stream of frames, and it returns a stream of extended frames.
      It identifies special forms by a 
      
      data-directed dispatch using <kbd>get</kbd> and
      <kbd>put</kbd>, just as we did in implementing generic
      operations in chapter&nbsp;2.  Any query that is not identified as a
      special form is assumed to be a simple query, to be processed by
      
	<span style="color:green">
	  <kbd>simple-query</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (qeval query frame-stream)
  (let ((qproc (get (type query) 'qeval)))
    (if qproc
        (qproc (contents query) frame-stream)
        (simple-query query frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtyPkCcgFAYDQSBEBgKjYchfC7Nker62oGEMUkixiQL3VSdJMiMPE-SKUohv64RRuJJ4Q2aBChn6QZDAWtCJyeQEAD5qUoFq2o64gupWrtLv6NrMMOwydO3e61rG-lzka8xqi0UgOHIHNiG6gjhv2waIdW9beMm-i3VFWawIWkNlphkaxs2lZtqXOZ5usI6+xOgFzoBshgdB8HetW-RPvWp5ife2JSfO5qnrIg7JidCK-pcDnWoYGResoG5sWRbgwgmi8EjdEWqC0RhBYUIxHqF8X9El6kfoay4WIVygldG9XVZV+HZYE5GMjA03FpKUAUa2906EBqmwc+-RDIJ83memNnQEN42VbVq6ubt3W9ZRNzErBlhqjYugxH0PNSGoUdcyoi2pp21P04gzP12os4o+TUB45EaoxAYPOHX0CvE7EbPEZcAmG6r3nS5Y9uk5rqj64TjuZamiMe6b8Ku7cseGGqYWKAUYgU-INOM7kVrC2Iqaq08WuC7XhfO-5loAA8lcGXeOEoovuH3jeApbyc4O42448HpOl5XguUL5G-5+Lvn9ZuWIKfW6a0hQMEpKCW6YIL5cFYlQX+68LbnjHoyaes9b4f3zpfQOf9DwIzlskDsH41RSjHvbGSwCz5YIzsIBBuCkGKTxkbMgjAbicVUAPSuvdv5cMbkTeBlBEEHwntIQOgCjS4MUBAGA8AkCoDQHiNAxILjR3+qkEEgNOj6FyAoQg9BoHN0IdNNIvAFAsDIDoxQ+iaiu3CKAAAPg4xSopmpVysXogxdiYhOJcakFgclgZ0A8TYwxjjnEvhmjbEJXjKD2J8RE-074KikMGLo0JdiJ5H00S5RsvD0mxOeIUe+xiCm2MoKIo+opmBiAkGtWcYIPgKCEeyPo9wm7DwfqKHaTS4mgAAGT9N6HtNWzTwjCSBJQNpNTKkSKIWkdeMTylGKtqkGpdSGANKWdAiydB16FV+nM6kvhzH4EbPgGQCyF7bO8ZvB+BMIxlMMZ3Se1wX7tTcNQMQdAF6u1DlXbgwDCCBE+fQFZbotngnNF8n50DwRS0ugCk+wLiCgroIfI5opoXfN+WCJ5tySmrPaRsrZ+KWlQs+TiuFGK1EuGxbC12o0TkBKyGS8FrcRkRgeXWG5cSeZZKOfS3Ffci4MCBSCwwzheXsuGSMCMjzrGFMjlU1IFRlC9UqvQUZfS7nGOqeQWpI0tm9IsiWIQIE1UauynQeE4S-HEqNaCbVFlYHg3Vcva1trfGHNpaxEwVrYqGGZWc7V8MprcttBG22Yz+UlyPpaj1sVv5iuPiitFoaJrhs5TyzCYs+UvJVZs1qLA6EprTZKrVvSw1dLWQaklTqTWiV6uY0t4rUUVptTSsuzaS3kAYIuP+gNDAZr-FNTWQbTnnMuXshe3Ao2ht1tk4tpaAnCF8CO5YWa5U5p5VW5VmLUiBRNlQYguKN2xCmvqw19SG15oskej4J7cUHNeS4I9bb01Vszfc7ND4837t9aKN4bFUTaK-bqol6zHVzkbeCYD1BQONg-R2r1iSDRXvrTBu9ol4OIePVoZ9XaWK4ecD8FFbFuRaHPQQgSDSGCBBkM60AC0BW+pI-QH4lI2gFj+eBzdD86MMaY6SVjZd2N7MbJ0QGeyaCg2o5bCFoJ6OVCYzoAtB7RrcdusoRefGL01odTerDzSLLGHaNp4gL6j6x00+Zxwum83S1HQJp14IzM8Z0-Ci6zSwiiZYu5iz+HT3QOHeB2I-HjHzr3X5tyVRSAfCC2e3pTmIsCR9o5ojbkQUgUfQRkL2qUv6eMbmnzmX1Fir0ZQXEAX7MFerXqqJc1ktlfmb1BLuXgu8Yy9+hrpi5olcoBMWZgH-Fci8PJhT8yoNGcadh8E7APBeCs0chbygvAMFXeuvTRW0u-ujXy4bZcsWEEICCSjUrtuTZMdNzZt6TOiQ6mdz1LXxG0rLRKi7-6eu7e3X+mNMXzDL2rsh5woWvvOci3t-QA3Y0AJG33acQKZUYeg2CIFFligvtfZOFhSQGDsK4hxbgdCWm3xlbfFSQJwQyDrLUcEoB0aiRp3sOnztuPaKJ4I8IjOKcxGdqKVO+gOLc4DCfM+M9LmQI+NAoX9CSfCL5Pz1IO1hcDKGd0pcJOKExFKBxaT+OqBcQjMLv270Ixa9NzpPXrCDccN2iME3b0WYNAJhbp3zukR4O16AZo1PafCHBId-zVcOCUByiHY+MqdrH24AHFG6m2N9DW+1Rg5o0xSrT5pZw3BzOkFxJz3PuIycy3PAT1QymaRsDKtbvHZf9CF-7fQzPqJuDu497EBvZO-JjsN+XkFGQMqqWZxwAPjOna42pCHyQ4fTbPw4RXgfCey68GMDPD8x9Zc6sJUjVIbj34E2F0vli6UTZXRxGybo41iLnkMIydK5-My+BE9v+ZnZ9rhFKCjH31Ig9uQTsAhgIkC5TfZBYqUAboRkA-KgfBK7AXZeHED-USTHb-boURUPUAAAFQAAkABRBgAAQXAHABwIACUMDIAAB5AAOWQCBBRhOGxxkEkDUA+Q0lRGHRrzoAVxlRXzBn-w304O91KBP34JGmb1B032k292aBP06EkzcHTyNABxcFkMyFYMUPeBOggzdGwLwMIOILIMoJoOUPEAHFELWnEKNEkNYRlRPxDn4MAKzGAMEIsksLoHchVixyPjVAsIUKzysM4O4M6WMRVmFlFk1idxJzMTOjbxUCT3WyEHUP8OCSiPMhx2k24MtwaCYPnzcI4MVlYW4JeXQNIAyDBlyAcEBkZAAAYGCj4ah7J6Myj2oTsntYpqBBhs5miKjXZtAgRSiOAIF8BKjtAABqZjbvB+AY8o4Y3o0gEwmzBohHbBReWBAIZox7agc7HKDoqPJccETHbgHaaYlo07LY61GeYQa0W0WBWHVRMuQIGdMGWBVIaobIMo0A94AQE4zY7YxgDoxkJYn41o849ozovyI+R6MGeyTocbJHGWQoS9VIQXeEwyUoRY4gRo2BfQdHOIDYkEv4y473VYExHaJHNEx+acKEhgGEtgcbAmJHImWImIak2k8bCMRk4k2IYyVNPyBiEeQIaE2E945sX-cwCoTqUIBgLVXEtYhhA+GWSEwUmk4Uu+VsYUN8ZE+Ax0BE6YV8dnLIOUnU4iPsAUgsPyWMY8IiNvFBNBN+auDBP+HE7gi00MJEsUEhL0euLkicUoGnQiZkpSVk4U6eXhFgZ8WiLAf8fCQiXUl0AzMkkXaCUoYMuk+3QYHUpxdkZUtk6HHlR0NvZof04wV0vCckfkh+VMuE1NI-IBEBLqcBfRT5P4GhL+ToII6-MA1BIEdBRgTBOUrvckV8AAQhMTfz4Q7gtkRIfgcCFFxDr1DP7nIVb3bwaDXBdIZ3jCtPdA1LgOnDXF-HbzwEhBPJDBQXtLtO4QdL7KdPXPlOLhWCmlHOSU-DIXtJ9IdlnJkHnN71bMvkDP9EXKLgnKTiZNXOyLwXdx5OoTlLvMHK3IIj1FfAlNAVSC1TvIHK90iFAGPNPMfIfj9xZwDz5O3JNJ2zdCoVAT-LgTgrwT5JLmxy-J-Lt0IAXDvGL20JcApwmSZ3920mmFKEIpH34qMhaHaA5zYqEPvKVwRyFwWk3IErF1AQl37XwGbMeFYqOPYsgonz3KF3GkZ0oobMuSbMlRbMIDvE0vvPsVwshBkpV3ksGVJKXAsqkqYttyNx5VYrAo92N1JCyInHcrrwP1enAv9AP38oAu3DJ2kN4qIsDwYsLWmLVifTCU4uuzrVRxSry1dnvTKOWzY3oHVRXylWmJlXnTKpexOM2xFLVPIvmRRjzNtAjEqqkshU6BhN8DWVKMs1ivnRao+IAzLke1xD7WSumJzwLDz0b1xy4NAE7zwRLzAPVX6EYGmMZEePXmWIdFeOCTKr8nPHcv7yr0ZDeiCt-Ib0CKisNEcHXA7R0SCSaObACuggWqQUmOMSOtRQH0pziuErHxtjZxQhPQYEL1qo23wDXQetWqep-jb0lSTlDxnzPy+srwOwYvQN0IYBIMsgABkcDaDHYbY6ijkciWDpj8jZqOyX8yhV9+DrCkgpKRD18RoKaGb0VnZVDGw2aXsubYbh0ZUsacb8bwATDmaKhj5WayjKapDgiBJQiboRAvZtw7DZ8HCgDGMXDrrYhwRpiPDTZ4QXrYhVaz8DivNdayj9arp4RazAdWjcQ2bAjrK5a3RQjDYIjtx1qyYFLoIRr2pYbaqjiCikhMincya+9pb2aiixSBZqA9FBiwbLrg65rb5T8noZU3bwiNBlbphuLzpDIFaTtlLPY28fCkj2D68pr89k7Q70IA4-a2ak6qbrKfKIKtrzYY72RfASAcSayXb5kySazGcGSh6J8TJghe7CALJrJbIHIXAQdzAqsSACqxN6AlZBtJ7kdlclxyTRcOTR7phjJSBTJJ7p6bI7JHJkUPtzA3h17DAsc8B+Zb85BpEoA4BEBkB0AlE8R7iWJiBgaqMyVAU6Acx6siUckKBWVFVllpJSgIGfh8loHDFpJmhkZFk2VYHZJ5JCAmVJ0RUCwjBg0p0rlF42VgHQGUGTEE1NVgkMH-RSh-6fhqHrVeVyGuTUHUghUZc6GDQGG1xWCYUz0gGWgQH2GTFxNtEeHRdGHGwJGoHPFyk2HKHRQe1W1U1r7aGkG7FMGbN+YZxl0+0B114h1pUjbtxVG+0aqyGRGKH-QOHbMPNSGtG4lMGZGHGLMjAtN7NEt8trHbpbGDR7HVtxspHFK3HgnWGbGxHRQH1mAcq8VnGuS+GfhYnUq-lhH-HonOGCSWHQmZIRqcSAHF5+Z3t20pU-HRGzGig6MLl8HUV9AgdSm0Vh0KnQGxHx7pxhGrJz657jlXZyBj4PIvIZGOgtAvDBV7atYHBuAgdCsYhXxuk04FAENqBqY9HkRfwFQt57b+0lmVm1m5kpm5rZn8EYykLdzUgClyhhZDmNmpyVAwDjqyoRmT0jnkwIaoaNmqn0IjK1p-G4J6Az1tbQwSmjGF4TGvngX-RZnvmWYSn-n5AGUwQ7mYCaMd9lNCE6nRg0aPzdJJs6mhjei-knncXmg38aIznrSGgOmjmz7Z7L7ITu7-hPJBB7bCpYhzg4du0lNanv5h0gVDA2GESe9sQgczoWgimGnSAxA2HAVU1fNEqjk3G5HInMn+7rtSipl10XnAH6AQNSNGxyNQSnGFHDE2GfTkn1xXm5HCWasEnTW7ElHQxjJJWbWpNWFXI5NWnbb57+GasdMCshXiIFnUhT1NBqsvGA3mt7m0WVRPT1QSLEL-gQ2i12s4nOtZtSsY2igpodXim4I020nM3BsiZMnE3YyyKYhzw4s03mk6nTq+w82tYC2ct02ksMtOAy2QwU2j1eEa3W263v5NnTSH5+2TZB2qJSzGJSLDJc2-XI3F429ssfHXYwdStO3RGp2GJOXf63IanLkHB6UpQni5nY3BJs6GBxWoRD3KV1Q4RuAT2fXqRuRGBhiLV-VE0JC2UZYU3-WTWMk+U4yHmvjvNBtGQ-2V2N62Up33Sw2qt3Hatmt3dP9AboI1gi6lbDAX3pT+A3UA0JCx2Ot22s3YWgJsO328PP2rCoXYgbM-3sXW2i212S3Y0EKK2Qx3TmHURpUKStkuOqoJ0WVpUPzmh6DyzFXfVwmxtVXRGlqQPNs0ExsPn11oPyRzw9xb8gQsPEiKP+OrDNsYDDq9lb3ahNPgQeWD3jPJVvkpQNOYC538xXnNs5XxcEXAWZcNPSOwrYgb3rP1RBWfbvOfnRGn23HUn4mZPQH1WbNe3+53cm3311GymtVvXQv+GuH0nnGg21OwDv5GQm2MuQJk0F7NGHW4k2G-J6VcGWUsXCvquQ1rHv4Kuabv5O63G9PSuAPsvCgqvBOzksWOv6v5GAPW6igm3Bviukv01vXLcu2IpH65ln75AlA365FP7FFLBd3ytLp+BVB11I91XRQAkzlVr9ADvFJShBmeKdv-gmEWhj6J6Y9RJjuglkUTAtAriLwdNVnahGhxnfVdHDmwXJAyAAvnOon1XIUrmup+Z4U29geh1uBwe5vscgNFVrn1mt7DNbs5wZBTV0eYe5kV6DY5lG9B1QetYZVBMVM8fmMXsSmaqZAqelMhNafn8fUy54WQGAWkXKfIeWeafuA1NO6YuW4sXb60qabIVYui4vMJfMk40NMZeCGh3Dva1r0ceYEqJ70xfv5iestdeqJCX16l4i5yqoch3Qvbq1Kq4xVufEWz01X0qOTN3FffUx3MEneaaGTXeOe-7rfV8WB11b4g3ilpzjEdoQ+omJ5zwpkwY4PcQ3OkXATiatuXBdGnS+vdQr4CxT2rsekiGAu+X6e-4hvh0OKw-6rZVBhBy-fYtS++WtZFqIhK+z2Ixa+0+lKuok+ktC+r4wf1h4-ZP0qOAk4plCHJ1pYeLR+xBx+1wlhQxdclwM-Fks+i-OgwgkfB+7eAnAngRbpZ-OE1-wgAAeffsfzhef3Fhhh76ccEDAuSc9ugXwQQaVsxELakLEM4370SUAcYqKvfGIDnIT8WU0scYubT-6BcdIgA4AVf1Jb3cT69-R-kwXsiv8xA7-Vdp-xBI-96c--D3DAO-IgCzkYA0SBZEgEADEUScWARvyGosR8oODLPliyz7ddEwSrEBpsjkjYgveKwI+Np2CRr9++2bcPkSkarH9AyDDdgeiGxDa1tMXwBGsDnt7uc-kmTXFqJSz6-UfYhfVQYpQJhX8oqzQPgU1TAhaDrihpGgaiw5bdsNS-jX6nHwqzhsd+PPXFEINiA0tmBokayAEnKCOx9kFgvCDOz7DVs-4jID3k6S7YjsQiL7Jvu3UL7RCD4XnNugvDqbl8vcW7cTsIIoqSDOBOJX3p3165EMmBRDK+CwJiBHx-GHAogDkKi6VtXsZcQwQIMLh598KvWUQVoLbwSCcwFQ6Qc7lkE29e4PfGXCoMLLHJJ0GgkZGIPeilBSIugjflfG0Hcln2QgIwUQN1ACIIwcArdlANiD6kQGtgtpAn0cEO9JejbW-isLPpeCRAPgheEMyZCCNqUmwpNkBxupUhuKgcFtnPEWThC3SD8QwanTX5xC4a4FVOo3xippD4wNNcoVIKqEvIFutKJbq-VkQf0FESibAKj2Vx7NZMYMdZg4DAbosbsWybWOCGBRx19mvVEwsSOWaYiZ48dDNiww2bfY3Q86O5qInPAUjSRNzOEYyC2TOhIUcwLzLEDmAThRusQSFByH5Esk6wQo03JCgQjijKSUonka5gaRyiGkCo6YJCmtiZAvMmotgP6GFExBIUwUU7H1C8xGjaYeo6Ua5g6biiOmfYfUeZznDgh2E5eVgPfU4DOj2oLAW-CsHtGQpRico1mE918DjJzogzcYi-1AC+jXM7kAMTEDO7cBgx4rQZl5AjFRjHR97f2EGJDGgBBmkIUAKmMtGOjgAsYgwFmKTE4V8xMQNMWCHBAABSEsfGPzHZjBmtYysZGMLE1iJkAYxsYmO9pXcRIwYjsRCGHLCRuxZYvsaABHFAhBxiox0SfwbHjjQxoAM-jEBnHqjXMJ-AELGJ7HNjlxQIJsUOPBCnQFxCY3cedFXHViIQp0LcdwCKA7jyx14i8YeOHIlicxRQb2jEFHIxBI8zoJ0KyIxE-cOR7zNfoCBDCaw5gRxACQczhF-iwCbIqkSU3wAsAAAVu9005gTs6yIcVjKKgmWY50UOFFkbXgmASn6ToIqCB2InUwzUmAoEFskhRv4vMb+e0d50hSQA6AaoBDL4H5FsSOJVWZiWFUhQejYAkAcUUJMgD8TwKgkqgOXhwJyiPROBCSauUhRUFyAVBEsSpKoLzD0IsEiibhNtbMBGUIEgEBhIljisCYTPSCSSKpHUSS2qUOCXpJsnJDQJKwTWMKG9pMjNwPABycVHNQKtscftSiViNubTM0BDSGVH7VnjiggYvgW3shJBjrBlAacTQDnW3CBTqRp2Wkdx0hboQgcYUo4EUAk51D+IODAYX8hlS-NDhSgsEO7kVqDA0pJTBoddTSmOTj+3zWqULj0mISUJaElch7mak+TGUxfb5nYIOGlS4kaBSQK0jBhiAvgLAH4GNPA7FTKpvPMibCOTDwiVuiI+RJgAwCd9b6FAUwKDVz6xQbgpAcbLcTV6mJzEliedLcUmDD0oc6w5eCsR5iQDwQDAXARdDThUDCBt056U+HukT4-pn8bCCYV0Q3BNMRjD7v8iTh58t4ygZQGYgyCvMjAMzBGdmNvzjEGmCM36uCHpyCV6cvuMgeMXIDoyEhOtLzIAIVZ19zADgAdMYBhkys0BAXRpnTOXjGBng-4GmoALekQhIB4MvtMYChlShNYrMugPTLgQnNwg4A6wAlRplxsJZTAMgKrCBxY9GqqsxnOCBRgiUlIKjJ1KrLVzSRNSfWLIBGFVnhAsy86c2ZONUiY4pK6ZKVh0h4pm0LuwHS6KTJAjmYPgVUU6eNg1nOt2wpxNohnmlbhBBkb0NBtcnhZTd7q5si1qJD5njE2Z8WMGIDFVgExZmjs16XgL7D05PpjA2pk8TeaxQSuWc6WVsOmB5zIByc1fGnIdlmzpWw6OOdLLejwgdZh9MoOLPZmLwxIoILzEDm4A1zU5yswGR3I1xPx-ZilIeRCFlHcAtkGc0OaYLLmDyu5KcpWaQB4gyVABWczWQAHJPpYrcAfvOdgED10qskwkPKOlkB10heNWdEgXjXTpwBMW+eTIaDtURA5tYIObTshaRXCfhX+aJGmI203Kq8hmc-KrprCeUL8zuYrLTmxVp54C6+ZAttDQLL5t8zunFLzBYckpRXI3sCg8DtpN6l034iw13qKV2qOTVEF5mjnlopUSOb5prEwUJScFBLfBTpjcAzNG5m9UeaJUjmLwyFMkSFIcRGE1dC5nwmsrFSBSd0G8QafpsfF2YEK3ARC4NhcyDmgk6FEi3UtW1J7qCgQIYAudOkWQ0KNG3C10v+MUXGALCjcxkJrBkW+A5FCi9hSzK4WMlXSU0BqUQ1xmyjGcO0A-PICcViFG5AiedGwvbSBKxAEwWKh4tGHOzlRPi-xWEqsURLnY0SllLjKYXYLqAmgOpu3NiBL8n4qSs5AwuzoZLEpWS3BaKlCUcLmZ3C2KpHx0VFCvJFi8JQqzY7nNA5RcxkrqSmhCLKZBQsRdclcXlkAhObB+FIvE5csWIbhJgPgA2xgwBgFQDMn3Wd5MsiFzs5vHLP8nCBfCbBKqDVXhLpUCY8vDekMsmV-4vi5qdOFRlxJR8HAFwtaKnAYDqARAHAUgBbCPi5BCA2rZZVYMDkolNFNQ54QIG7Llx7Sa+D4YMtTQulZ2BmccuQnEGdz7lCOJ5UIGECvLT61lQMs0E+XrogKBDchH4OnaPCU2g9QgMO2+ER8lwOKh2YyW4DUr96ZKiMkUEpZPCq+4y2MOkKr7UqkcndUUPwTriq50qriSgcnCgKAcsyelMVbQKahh5Ag5dKqLPHppuELYKbflS2WVXZtzwEBIEOrScKMZlVU7c8IjOPrQJ5VyNJ6M5JZgm0noOIP+bsvoBW0no7LaYKVFtUPZ-5zgR1a1Dh59gdobhWPNmONWPEQI0y82DARZXEQd2vA2VWDBOKKr18tVT4lSE4KMg3gxVe6vtSHKqK1VGlZOuSoaBaq-AjIXVbiGcJ5rDVy1RIMGthpp1Wolq96NatahuqLaHAL1QoGdUNBXV3QPKq2s8JESlwE1AwIGqrWmqTiYa8tieAmV5DtlNa4IGauCTKrLpyVRdYzgWUB1lVzsNdW4QaYeqwUJhLdbuoXWHqLYHwYIPMsPXgqlVx6g6mATOQ7KNCZnLGvoVILkFqCotckE+qIIvqjChNP1YeoDXis71861pVX3BAYhNlR8NdeNQ+IyxT1cquNf8QTWZqgVBANgGtApqMghaeNAmn5Cw0i1GQxxMogBu9pAaKa9nAiuBt5WhtKsuIN4MhMOYCs75c0RjSYTHZ0b9Yk9OGT+hGAsa3eDxVFCBHY0oh+W8rGVAyuploj7B8HYKPRtpScamNWQXjfLLeHxYLUKQWTaYHk3qsR6hACTUfGXYyb9YIm3TWJvzKiaTCNQMQCejWhg1GN2mkZEpr2n0BkJ+AN4kJtMABc-hdsS6QcPc3cc-NC-RSl5qujOw6NrmvagJsJYaaoOzmozYpOmB5sr5eeZtqpqi0caAtTJXCO3mC3p0XkrqqFB-IsiJbC8cvZzeFrInxp1N4W+mOpqM0K5a1PEHzTRu6i1a5Nhm4TVJXHxjy5i7sGmJDBSmhhitVdFLQlna2aaxtJberb7CjINAA4Mm6rQZta0eaathgaLZvxm1wtS+46kuPlq-lFaimSWricTiq3VAKtRySza8xhb3kGtGdU2GESoAe0JwedDbXqUayKaDtYNC7R90O2Oz1tQXQoPIKRrKxZ8MVWwFlqWiT5Ea0+YHWfjJxRlAIonG2JBESFgwO6O2-gBCB-nm0ht18rzF9uLjY5gEJgfgPwp+UZDfWjna5VCqmkMAZpSE+aYoKRZPtSlLC3hFdpy2tReIU0TOg9uzqKRntg2yWojKozqQDJNAV5lFQXkRKBEIfKKinBvghiZBpwnML1KC7dN6WLgDiJnFIA3DcB8O8HeCBZ3lKclPMV2YDuh0NaARPpRHZkBeoc6eIE8fLUbuyV699tlOsGCVu4DO6KlG4BgqXgGYtaQo5ooEAAE4TglWoPX1Et158I9xo6rHdoQyWIPgD7bNim1EGAcahLK18C4B4rVEXBMQM0X1H0C7zd5FkNAOXo7XMqRl-oQveunSxMqVgtehrTPEBihxOYuaARC4C8gsYQw27ckE3tCKJ7pwAXG4PItr1PsOqfUbqgQxhRnqpt3m9Kvbsd0Y6oUbATqtPrwmiQcdeefuWvqn1MAeqZ231FUtSBg1qgpUVcGQACSSo+JcnKkK0EZB2KHFJ+2XCnLfDiz+Ab0o4DbT8ivhQYpAa-ZxJtlU5JUo-LSNm1r0QhPIXkE-fNSrouxSoMQaA75ArmsR2ItMfQGguG2tBjgRKitgxFfDTKw8cy9qNsqlA4Hs2UG5onOu3UHr7VjAGqhQanZ-6r9NvKrMAdEigHqUrKgvegaL3ghoDLLNwoIDIOiBBDnkFAxGu3bV6igkBgQ+IbgPXyLwaNW-OIYkOEqB9s+Aundse3RVghZMAClgevkDbncouy5a81aAK5Y8KuwONmLaawtt9N8qWFPjDww6bV8eVjpYLOXmAx2QgQwPZEsTn7+ASagQA-qBBP7mA8il-RLPf2IHwB3+plUEPXhmdHD9eZw1DtcOW6PDH1EQdElviBaZIWs-AOew4RVxBE5AKSP+DJagKPdw2sw67CuWLxLD1fAEZvwMA2Gme4rNpm1w+3YGq68+q6CEfmpYSgQ9+Jek0YgVu6rWWgQ7ZXvdLjlWgGzM3XHQyk-bC8Ax9Ond0WMOArERLDetAvt15aElbgH7bvObz6AguAAHSwDLqMOa0YgzIGCCqwUYCY08XKGgil7RI-+6-WSKwAn7Tj5xq4zcbKINM7jMy4WE8dlxPxeAq4ARD0B2gwnQAAAL08mgBrjRQWqeCceMbz5d+Y7gCifeM6RPj4Ib42pV+NQQGo7wvwwEenBnGwTDxyE0GLnmuYKjFkFgObWUDm0A8kwXeU6DwD-GwadJyUlicZOvGHRNY1k89w5NcmbaxJ3yEAA')">function evaluate_query(query, frame_stream) {
    const qfun = get(type(query), "evaluate_query");
    return is_undefined(qfun)
           ? simple_query(query, frame_stream)
           : qfun(contents(query), frame_stream);
}
</pre></div></div></td></tr></table>
      
	<span style="color:green"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, defined in
      section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>, implement the abstract
      syntax of the
      
	<span style="color:green">special forms.</span>
	<span style="color:blue">expressions.</span>
	
    </p></div>

    
      <div class='permalink'>
        <a name='h3' class='permalink'></a><h2>
    
      Simple queries
    </h2></div>

    
    <div class='permalink'>
<a name='p8' class='permalink'></a><p>
      The
      
	<span style="color:green">
	  <kbd>simple-query</kbd>
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>
	</span>
      
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      handles simple queries.  It takes as arguments a simple query (a pattern)
      together with a stream of frames, and it returns the stream formed by
      extending each frame by all data-base matches of the query.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append-delayed
      (find-assertions query-pattern frame)
      (delay (apply-rules query-pattern frame))))
   frame-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNMdiHJgR0IOZSPIz1xhhFsmlFGgeL46QunqbpQDEWgmDExpiP9fcBBA4saPPCQOE0S9qjkMiWLY8S2zFawpNHWQNP7IEd1Aaz+IEI8UhCK87NklJelcXzjGQwYXiUhhwLo5R8OUCY53wViVMCNS6BM4TlKo7Sz3C0AGIA0QgNYxD2M4mRuMEXibOMoS31EwiGiU0h3ShGRGOYlK6gc5IrkiUQwN0nCfXCSJItAaLRFimE2vahpsqY3LTLM5J5MU5SavqRKNK009aOrfTDMawS5u8xoOK4qzSuk2z10barzgASHqOqGpqZK30SO7Jo6gaZE63qDOGmLWIm97GivfaUphRC3qMRbRCU+LAQezzLoEKL-oKpp-IWtYMdAQLkQEKwwlIOMZDYYV6gkp8MnSKiIP-dDMIgtyjA8OmMO4JmlUp6maZVELSEZ96PF50ZSA549RijSI2GUCCAFVCArQhKAAdxoJ1RldZEAFotaylKEMO0BsYp-HaEJuM4RwRL1ZdQs8pA59phY-wukS0N-Som3NepZ3abQtmDawRLfQ9x1nW9vLIOF0LA4LILHY4D0VXxwhgxkaKGHIVq-tGuKaop76M6zl6c7Gy3cZoJPBBVYMOCLlKZCrlPgzJ4wKdXJua8Q3oK9ATvU7r-7G+Trv4opq9+5b8v+hQyeOBVDhI3Yd965Lpe2DzkULKLTb05YTPs-X1jp8RIKmAADypWRV+9UumGUI-W6MAvPoTye94PkuRrGh+XQ37v7wzzPpffgQgOIcGImBfg4Eb73xUBSX+y8n6xmoL+SeIE54LyPh-Yut9H6GwpiVYc5VJ72VlApEBggcHZwEAgnGf9WLbkuBSRM1IsREyiMPauA9v7vlIQsOh+COThjABXWg9DowQBgPAJAqA0DyDQJoQBp9kQ7G6omOcMh6xsG4NQaByDCGdnwGwD0owtHRl0fxYYuhQAAB9bHbh2GCGu5idF6OsUYexjjrAejQu8QgrjLH6LsQ4po4o9iBPcaQGxnjQlHVOsQlykSrHRJPo+dRGtcq8OScEvQrgt6bBoNooJwxLZx1UdYKowZQxCG6vQMobBSCXhiO6FuY9t4dg4N9egjTdAADI+lLluD06JVMqKkBaVUspvdxTLxyR4-OHSdhVJqRwOp4FilRJloQZegce5AORLQCQJjKC5UoLgGwczNkpIMR01cV5rn6IAeUmgCdtLkGDIQDewx6Q12UBfbgzASyDFuYU0C9SILvM+d8-m+JGB-IoYCpgwLqAAJmdYKFXzoHzNGYssFyyWDVJ8OsnFMtMUwr2S86iHysXDF8Mc3xDhHkLIKe2e5Rl2WNWZdE8GaSULkugYPXOHAAVAtoIMHFoK2W3CvA8ixUTeXCPRcUYg4hbYSpGVKyyrTVkkpGTLNSgZ6oiFVfvb2CEQneJ1cSnq+rQAQVgSqtV5rdBeP2SomgJrnV2yOScm0vSVLtxlRy4Ne1MQ8rvL3L1Zq7a8JFefJFKKAmasDXc0NDgQbhsVfCZV4gTG0PjYm8V1AGm4qSIY61tTbXhplnmj0BbRXIuLYQSlvc60FrCAwxMtBS1PwpkyOQDLTkcHOZcjeyhOX+ojXyoK7aWCJ0oAICQvbU1gsnTITNvS7xUp2BJGkFImAwpXYRCtKybX1LtRBPd9AD0UrRQcmge7G1JuPeWtNeoN1GU1c85V358aFk0SmvF7YCVEqrRemt9q-3kAA7lZ9zaLVeLCZUwlurq2NINdQf9gxAI3pGHemdyJoOwa6cwfGTERivrbh09ZHBmC4FLcoJwhGilYZgzh3KxFpyxR+UBt9YLaP0cY6AHQLGUHVxI3OVhrophUefjRsCdHeLCbzNMh9nSlIzn4MQd8fHqP4pQ2BtZ6Gmn2s0zxnTrb1MJ3M9p3T4bmwnoUxC2zJAmAQThY0gkYnXM6f3fh6BPagPGH49Kj9m6eViZHAweg-nD3YpGY50LWxVyJfvR69YsW8PxeGEFhzfaOkRe8xyZVh7uCkD0r5+zXmCsGd2JKNLYm1HFnqtlo9aXV0gaMZKIr27lVejLBWOT8m6tnvA+BS9A3iAVisxlqbFYF1LuG+sNd6be0-vUzsAo3UKMaqzZ17VY3jMQYw-a7b5BdvUFm4+CuhaxV7YDU51b4Wv1ZvS4+fetd4ODDy495LNB10Rezcox8OwM4yABVqywhm0P1IBTLNwlKqWE1YYyCkxNCYCNM4-dpYKj5jPtbgao0gIKgEVB4CCROoQk8VJOGcmjMfwNGeT+hy8Qv1GVNYcHhNdAs4vlfeeFzIH0GxYz2h2OGFkIuJ076PPQADJl59cXUvmahBYaMNh6POFXh54DIGRgrzK71-rlHGu0ccJuB+3XYt9fGFXEbm3tvWf-xV5zSnxOBAQTUxl8VqdxikGoOadgMhz5Q7V9cc+yhjSgHlBtjLcYMwLcDFwEsIsJXaTT9QZQWmGB6UZznvSOOaqJXYXGJTpFRCh1NxYc3xMC9dLoRn0KgxlCO6d-XoRrYwWl6iOXuwHtqaE49wLch8pad0Brv7wPYILQ9775XuPj58BKXnqVc+X0KRh6cfC1OlvZA88Xyhd2Qe6QLlwguAiaxEriKou7XS5-qyidZdq5yAldByj2JzWg3vQdr44Nhc5DfMtVwRKBcECVcHnAhJZLnfeXSd-e1RHTmBcMpf3UAAAFQAAkABRDgAAQXAHACwIACU0DIAAB5AAOWQConlC6CpVwA2DLyb0LB7WrzxGd03i73bGX2mGTgviANYVdw8GPz4PPh8GYJ+wEI11dxCGPznFygkNQTEzkPsBTz5kkLD0wJwPwMIJIPIKoOUI2FXxEDEKEEUJ-CkIsDD2Pxn2D1EP-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-REsQIqt5XSBjGmXrEg2K1+XKtI2RX-zGb7A4K5HJS5Ba2R0-QnUY1JC-W2t7Watqn9daAl363V316LCWmwGXwOWY2B3ftB3wY7rtnQ2K1d7CwGGCGSVH23RfVGVJVfTjxaCKyQXHwmH6GoXfijW0GMEWHKn+7DZEpmoYY+392V233UFG5F0JA7rEpS3xVPlpAb9RqR0LlMOaU5hYPitImfmym0HAWBcGmowRmmocpXmT33pCPsOmxW8anLzNHq2aAmHBG43SWSlTNNGYXXlwHpgFnc4ZAOYrWn0E17s1Hh3olTHWWeP36T6BOtluXi8jXeESm8X1Pe7DHfrMXHXXBMUp7GUZ6DOP3TlF674WXKzeEVPXHD3pHRGtO1hzObOskh4kPCah027FOd2jArW-PDPVGAkTPD6IrHX7RRE86JEYwi6ZFS75Ecw02KlKg4Wohl1Q8RO6G-FjqQ9tLQGnGxLGBYoDzKWGBJYQ8ZZfFTljrEUMwRhkZ1gdNyApgBAggPGMsE5IG4GN5u1lBKOPOyOSUIIsmigK4PMxZBuNhOmRvUOHP3VQdMn5Vsmwmt8Ydz1RnMM3FNuH06qgpbt5uEHcAw9BNlNcAmMZbuQ2m0GcRLvFMhMbuRM7uTmPURUhnaOj0Lv8uruGM3vVM8rHwE4JP1zvxlnnuIUIf3NlAof9EmtrA4e95c5tvK1jsYF-oaquHeFjvkQ4elnsUvX8v10vXuOD7VUDLVyaOmnsVhOQ69YCyk2SsWabWXy5lGfKymTWfVuq6SB-wV8PRl0j43m8l2d82aBvoxesXLZEoJlphx3vuJhhmYUQJf2qV+uXTvOuW9HjjPpdeULYpgX6CGELPTkunub8kyPVwhF+eTvzenmi8bepfmeHB7eMueObK6e6Ojec4uWPRiwlfD6Af+BgwJlZ7GVmwxLxhU5I+RpDwcXw8pYxPOeN4o-LeUKCQRvg+Vfv2Qg4+I-OFdfdAAAeP8cPhPucJPzEhSGrixiCNAtCMBwgCQAMBgYMYxQLJKSR6QEIUnaY7c5xVORczPmGXQaY92wfqr3dnfYMMfxP7FwEScBvyIJvlvhg5WDvrvyh3v648gfv+1KY2foGEfhf7i8f5sKfmWE-4f+fxfmvpajLVmTCC3nzyT7z8XpCdTH+tZNCZkNz1aY+5a2V-bPp2zDZ1YuwpfNvBfQbr-8nQUnGptpiF608fu9PH5FxzbwhBvOBOVLAF1r765dwtwJftuRwGgCQYBAlwleCX7jMbmTrIqD-QJyK8RUOiAVr7xhQQDama-cfgc0IC+IhwMeXZHQKhghsjwiUUSsaxiz1RsEpnD0u2D3aBgcQ5vXXsoKQT9N8iTvf6FbyQQiCjYFZMjn-zpiAC+eXvalJ8nf4z0v+Ocb-q4F7hGCABEOUPqG17iKDk0BA8AXRTI7hIGsVAlMvfQQHMggyKAmngPA4EM9D637QIDgIC54DhkfgoGB4AeirhE+KFKIckHIFKDKBfqHPu7zR6bhk2p-VwHqQbrMCWkyvcISykBC7NeB9qeWAIKDBD0Lm5gkZtcx8hiDAQEghhCBD9ayDWegICmG4LUFvFVBj8DQTBS0G5wdBLuZNgYLd4ODEBsXHALnQ9T50owSXaRCXTkQKJsAO6awICliYhNpgYTIgE3UOyoZduSTe1AcLiadd3MH3UIEEyOHzwdE4wGFHvXCYHYAca2PJmUmDhPD4mxwhLlRBJQPAJuy4d2nbliBAhguE3a0JCINzVAYReRCbp1AREp9kRYInqLTDAjoj1kmIlIBNx8GiB3axIxoLCOxGmxrikgd2lSLUDkiUR2I3ZgiN2aAgKREKdhL3k9C0APMnIrgB6HET1B2RY1SYuiOMB1dQAaHb5k42mLt9QAwoyCFrDFGpBI8kokENkCca6w5RCo6CMqLTCqipRzwJxlBElFGAdRwAPURKMNEairypo+UYyIhQABSS0QaPVGgAnGjou0TqO5hiirRbosroPjQ4OixqY5amL6NdHSjQAoYqiEGKxEQoy+Lo5QNaPdGgAK+RgWMYSOxFl90gyov0ZGOzHpidRmQRMWqMjHZBCxwYyCJkBzHKBAgeYo0aAGrEVi4xIYvUSmNcDPAjAE5IwKHgeCIR-hhwwETky+668MgioAdMuB9AAi7hw4zMMVgHG3CEmX3SgB6AABWLXG-OOOxC4hvmqI6cVMHdrroxm1tG4c8LESIQg4RrU8UOMNS5YQIJKCbl6XdpelguHHIwBN0gCEA+IMGCQJCM-HfiKsr4t8RNz5GwBIACI0CZACAkccQJFIXvFgXRF8isC0EmphNwoIsAKCeo9CRQXSH65+xV4-cTUQOpGp3+m4+oAOk4jPA7eLha8TONvHXtXYBEwcXROIl0o9GY48iduO+ZHjxojw5iZ8HonFYqU-tWiUuMzBXDPs6yMPP7QXg8QxgEgVcquI+DFhiAmccrEgPaiiTeCrw4Rh8NOH9NJJYEfcvkn-YoQ6ob-SoeBDDx1MVeavbFBzENpUItJs4n1B4KKHvRnJ9E0iShLM68AmKzk27CuPXFkAuWYFTyaxPqj68emLAioegJGbPJUCLA-GiuMAiWS+2bYSepZJdjLD4uqwxLlImLqyJMAGAMwVDxdBkAUaJvO2FiAYBDZHi+XcJCYjMTk8kKYMZflJSGQvZGoNA1qVVFEhT8OAM-c-mPxambF8oWVUaR8UjTqZtEWIQVnA1a6-JU4ebCZlsBYDEBiAxiOwGUzkDJMNpbo8RNMRkDrTiA0NUnBTlJwD9b+0xE6T5MaAQR3a5-U3r3CICdolIS04MMk075csDGr0-eEpEJA3RKy5-E-hBEggn9Zp86JSAtLmADpfphAN6XAhSaT97U2gXKg72RB-SYsTsUYHSE+wY8uw+MlnBBHlCSVohnSElPjN8rjgNS9WDNEZHxmupbEnU2QFeEZlRjB8btEahmSpliU3a24DwGVPWn1QtM9AN0DVKGxEymgIQWmUSRLRUyBkbkWZBnxUZycgG8szvuDAFn2pwZ0xLGSvkTB0hVwvjY6ZrP6nuSUgpOIaQF3w5jo1WbTCLqbJbgoy3IVsk-vrJxkMAjZa2E2YzP6muy0ZTCJyAjP+nvgcR9Ad2v82DmIzKguM9qeTP8qfQpZ5CD2ZBDRHKASUxszWfcSdm8SPZscr2VlW3yZxd8ycjqRBAADkM-L5lPyrnj5hpl-fGWJnzmo0C8BMiJBvCamRBVwbc8YfUAm6BhPcMsBsNPyViwpXCfMafrVS1myNU5Pc2KLnmoFGRe50c0OQXNJjj455twFeVeBXktyF5aHZzkpOih7s1JkUxZoCjLBNpnmGPOWTKXRIs4B5kjA4u7VVlFoJUkOHpgOmPkqSz5hnS+TphLBfTgwPaLkp5QXqUlZGE3M4nYznoXIIF6JLKgCmc714jkDjc+KRivklgb5rbE6FcRuIfzEFSJCQW01wFURFQ3nW2QvTfnyd753AeaF+AIlYKlIZhb6Q7GxCoL7GVQDBQAqbTALQFiC90hTFuxkLOZaIlnN9AgJRhAFLCrgN9JcLrpeFqeVhSApnnuQcYpC2IXzPWRkyjgSi2Rb43HwiKtFnMn+afPIDlZe6uixyDL00V+ov52IMxapIsXnzhU+i-hTfPjk8lbFI4gLlOOYXiF5Fera0tKzwUIL6FSrCmNAsek2z56XPQRZKxCXxkKYyCv9mYLObvhESTPRORSQfmyMmSeS9RTUPxJWMjmtjCLllAkB8ACerGV4PGyyWlV9hn0SBeQk5KFKMh9fWriUsOY2Nve78ojNQGWY8jKe5hSoJQETh7EBAIgWQA0rI4ZKcFfM5gujOElTKii7hakI91mVu9VwiPepQktMlBReYVQYYFnEoz4lZeRABoUIAzgcB4wggcYAwAVIzSnQCjdEnRWdbg5mSXgxhd2z7g9lHyq5Qchn3OVsUjwFaKcn+SIHByrlGxW5YPIeXPN5S2AlBNwGXQQVJOpCPQds2dZJkiFobMjt9HrCoqMyzJBHi8vzIOAuShQ-VmCvDYJpZhfkSskSteX0LnOqrSqaMGXQF4yiJ+EDr8qnA7jb8GwDdFUvfAryII7KgvG0NWnQ4OAU5AVacO1niodJHK3PDIG5UcFeVQchVZF0GWBZ1VB8lwkfF5XOcdgohBuHLmyXWBz+GZA-CEk6Tg4ICm+SnvQAbB7EAixJQ4mvmOkerUUuC2meatbLmFvWPy38GASoj2ELaPq9QqiiDaJRNpNXQVKMq8IcT9cLtC0AuDJS+rCAXtPINKsCAhxdIWamNTmq8KzdAQ30cwlHjdEJqXi9UZNbaGCVxk0lrggPMwHlrPlRCt1far8rYIgRvqTVEtC1UNjOtA1RlTmiGq7ZhrqwIESNY4UtoTq41RrWtYKkuIpr0gQZdNcHkzUe07aZavQYWp3W21xgua9gOWqaDfRE6aYGteYDrUdqvCDCu9mkpWVCBLiDYNZU+2DUNSUehVL9Szj1Cvrf12arKgBo-Xp5gNYmUDakS-U1RXV7a0ZQvC7XBroORrU5P4RLW4dKaOhYgqQUoJq01gWGggjhv0IM1K12a6td8zQ1gbUEd1CiuhGWW9xQN61XqrBrbXicOiiG71cOqvyobRAgG8YJhuwJU1aa9NQ2MrRE2kbPoV66PFRvZq0aOkEEejaar5ZsC9I34VcYkwBQrT6K2qLsFpoeF+t1NM8Z5tpqDQfp9NYmC9kZsRACKXmYeNpXZuR6sDysekU2Bpo9Qmb25koCzWzwyx+s3Nxm-TWT1uA+aMZj6ZFMaisDuaQpnm-Lg5uenqZ+IwYA9EIFRpBameBSxzaD3qrUBVxlAG6tZpCk8qH1365zQK0K1PsKthAwIP6RUG0hx86m-LQEis25aZ4xjQgNFuvbjDJVB861tII-qdb8WnWnPlgEhiXljVD655IWshSCBp+PWzle7Ua0qgLxUaKLU1p+BRa2txWg0KVuV4BaPN+2kKSNXhrqKVQiYd4J8E1AaTqhiLVVaLw56HbwIj23IRNoNCvRkg0eNzetovbPaNttAYbfcDG2TRXtqIO8NNpHkyx5tueWkWtuW3M0MsSWspn001Ulame4RHkJHSBCiV4iQO4od1kpW3bUaiO1rndqdkja3xuNSfBsGnym1MqzgXHY5DxoE0T8wwxhDdDughB5Q72wICDqFCWxptY8ubYToPnu1idx8MwRfAzB+hMlbypnla3xJJT-wQfODHFM4FHzlJ5iyxdkmR287pQYkQYWHQx3Yhtw2O7cJLs2mUYjlRqU5VGydxZzVFZRPuakAmAPx1R0FGoS7otmXlSlvStXP6AzjNDB+o29nYEAghOK-5+PNRaAyZ3U7CatOsytLJnaoUTddW0Hfzr9CQRw9LiqxZDuF0LblAWerXajDoIl5HGwgAmPSKogABOLoKtrNhqAWd2muvdSMqxh1u6kQegJWwgHOtoBPKOitiqKg0AxKDRLgcYDpGSAZAFciuTLDQCz781h5GlYCHH3LpUskWI8MvpPzzxEwloR6GUBcI0BdYzGRUCmzWAb7wi7e3aWAwwXL6RlE1SQNNXXI0o3V220Hfl111sB09Y1OcJNQf3w97UUO38ckzv1TUsuZcMwfotJ0qgQ4UUUYL4nFSASe1v4KcCBE4XoLMFMijfNjLNohxQZHQH2iOqKhTAGAcBn8RzJpjio4+-MCAcvsVEuN9FO1A+S8BwMXMlR+5RUDQf3mcr1VsIYNvq2xjqlRlAeCZVwCmVzApwk6gMKsrfUMBqNASKDdmsqbiG9B6pIgyQYqxkGzM1OYYBanxVj6K9E+iCDrCMPURiikh6ZSwaMMGxeDSSlNh0JSA0HDDRhlxgXkyz95xEThyw3oLP2m0jw4RTHQ5FN225ODaq5KlbpOVlMpwjutMJ7v+7PBG6d04wAAfVX4gqdAeOPQKFjyKpGVBy7kBz0DC0BlYZiKA36D5VIGUDB8+lGgf0WYH3pxR-0FPzwMMKuhy8XDkkciMT4-cselnZkbBq6aIkR8arUcBJmUAwGHCGuEzhYCMwboGzEOdjMgPdtrdERidLcAGMuF04ru75vEec7Krri0wVuRUazqp6hQ+XdHZEWN2aC2cMdeGGHUclCArtYsPwrIZ7TvVda8pfptHn9pi0XjydTKhFXf1TbpFTaUnRXOYIyAKdoAAADpYB1qtxsZYvAbB0gudkopMeDEmjT77UqhgyvcK6AQHUaIJgImCYp1QmYTfkooEIdwAImN81wfAFFBcKLhvoNJ0AAAC9eJkJw4LCfJOUnPdi4Fk6JCBjomHUsBrE4HDeh4A8jP4Qo5EBBOkmhAnJr2VaIznYjJj9XafsQGn6e4YQFcxCA6FxO9bpTkpOExSflMGjFTEKZU-ag9Cqn1TPtAUwbCAA')">function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
        frame => 
            stream_append_delayed(
                find_assertions(query_pattern, frame),
                () => apply_rules(query_pattern, frame)),
        frame_stream);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p9' class='permalink'></a><p>
      For each frame in the input stream, we use
      
	<span style="color:green">
	  <kbd>find-assertions</kbd>
	</span>
	<span style="color:blue">
	  <kbd>find_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>) to match the pattern
      against all assertions in the data base, producing a stream of extended
      frames, and we use
      
	<span style="color:green">
	  <kbd>apply-rules</kbd>
	</span>
	<span style="color:blue">
	  <kbd>apply_rules</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) to apply
      all possible rules, producing another stream of extended frames.
      These two streams are combined (using
      
	<span style="color:green">
	  <kbd>stream\?append\?delayed</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>stream_append_delayed</kbd>,
	</span>
      
      section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to make a stream of all
      the ways that the given pattern can be satisfied consistent with the
      original frame (see exercise&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>).
      The streams for the individual input frames are combined using
      
	<span style="color:green">
	  <kbd>stream-flatmap</kbd>
	</span>
	<span style="color:blue">
	  <kbd>stream_flatmap</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to form one large stream
      of all the ways that any of the frames in the original input stream can be
      extended to produce a match with the given pattern.
      
    </p></div>

    
      <div class='permalink'>
        <a name='h4' class='permalink'></a><h2>
    
      Compound queries
    </h2></div>

    
    <div class='permalink'>
<a name='p10' class='permalink'></a><p>
      
      <kbd>And</kbd> queries are handled as illustrated in
      
	<span style="color:green">
	  figure&nbsp;<REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>
	</span>
	<span style="color:blue">
	  figure&nbsp;<REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.10" href="./4.4.2.html#fig_4.10">4.10</a></REF>
	</span>
      
      by the
      <kbd>conjoin</kbd>
      
	<span style="color:green">procedure. <kbd>Conjoin</kbd></span>
        <span style="color:blue">function, which</span>
      
      takes as inputs the conjuncts and the frame stream and returns the stream
      of extended frames.  First, <kbd>conjoin</kbd> processes
      the stream of frames to find the stream of all possible frame extensions
      that satisfy the first query in the conjunction.  Then, using this as the
      new frame stream, it recursively applies
      <kbd>conjoin</kbd> to the rest of the queries.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (conjoin conjuncts frame-stream)
  (if (empty-conjunction? conjuncts)
      frame-stream
      (conjoin (rest-conjuncts conjuncts)
               (qeval (first-conjunct conjuncts)
                      frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function conjoin(conjuncts, frame_stream) {
    return is_empty_conjunction(conjuncts)
        ? frame_stream
        : conjoin(rest_conjuncts(conjuncts),
                  evaluate_query(first_conjunct(conjuncts),
	                         frame_stream));
}</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p11' class='permalink'></a><p>
      The
      
	<span style="color:green">expression</span>
	<span style="color:blue">statement</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'and 'qeval conjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzRWIBRNFxN4ACtLlRfRiAAD0IMIixiQL3VSdJMl6gawnChrurcqpSA+BhOu6qbBt4kb+LdOZ1pms45pRNzAmW1aUUMPbNovBI3QjfqNtmxrzGa1rKFxYKuqO+hLuG66BNFCasnu-bzielxFuWj61uBq7Rt2mHHvm8wTpAqHzp+4jRru6anVBpGXBqMQqFqBh2jIXwMYC7aXHhnHZsO5MVHoDr8GqfQztMQxuDkcgFGIBgPkCXnYepsaGBatqVuZ-H2el86-SKUoeb5gXKCFhQQ2aTrWboUZTrlznZboT7OesND0OIFDidJgtSApiGQI5sEnbCSCdJWZX+cF-oeNxnA8DBwxQDkRQIBgeAkFQNA8Wji4vpcS382J2XWvoYg6Eobh05zTbRtFEEtAoLJclTmoM4VmSC5cxsUOIFPCDT8vpOaAHebrkuG7LygK8V2T5MIAXfAUFh8BrqijCHkfG3wGQ0jb+vG+7rO6Bz5uxYqZQ2HISrvo7xee5KFo1wYDet533W9675fV-9FvUnNagxDoPmM4XruD9iUpE8bB+n5f53FCd3TpnFoK8P5hjFm8NiqJOhv2AeA3SR8fhQOoDA4ugDF7XwQXfBgW9h7CHIOLAaJ1DDODgU3f0pREr8zBjOXmLACEMEXBQPmhcLqX3gebd2RQ8EMMISPYQFMOHlywWvUUxgyaOHbhg9+0kv7HwkQWKRRg2hKOUF7ZgWh-7sJkZw0BN8DQ4PYB4Lw5Du5yKQY2YxyhTHCJAdnbBYtAqq2Jv-MxCD5E-GcR8VxwCzGiNvmLDQhAQTch6nYjxghCAhIpt-DoWh9BgyIYQEhZCIlYK4duWcIEZ4MFrhdbeYhkmpKNO4rBjiTLBH8aJaytkHIuEML4DO5A+oeS8nE4mhUIpgyiTExJDhuCFKGn+V8ooUnUAUKg6gOYaEy2RL+BUo1glsFxOMyZNAZkMFociQZpAxD7ViPhQi7phRvlSHvcoWy5kOAWQ0c8J0MhlQ6QkpJAj7Y3Mydwho-UtAiHFivOC9A3GGS+TEJJzC25sP6XQM2ILQVDM+aC6YSTs6Aufn4+Zz5Ch51SM42uetHkIM-n9JIeSqJSwzn4h5bBzETmaJ2DUywjkngVJU6cOyak2Tso5YO+N2S+BIG03pKzCqHIOgzFi2SGC5PyXtLBv0SUuBuNiQpgIAB8lj4l10KRklodNxU9O-hS6BzhYF2PlZjUWoo1b8FULEq2CSUFoKYYENiYTpGlz0Q4olnj1zJydaaxslJVF+PSfoolxkHXSJEFM+gPxOiFzoK5GZZTw300NQokNyiPgKEoFzcNv1RmpAlm9AWWb1FGEoLmiYCrYijQZX5Zl-wi24PWCBHxWi-E5rzbc0Mo1nl1wdi4ztr9u2uwcY248REQzniHd2sl654qgEMgOxJcFlodpal2qtPbOATpDC2vF48507oXRuK6KxRontzWe4gfl4xTtrS6UWRrFHpwrXCraG7NFbozhdMdZt92xnJOcbpfKpW5IcL-L8Sa+bDKpjdJVGh9AMHVaJSEUG3CP3VHCbgsHiAgzjozQw3JGD4H4CfEwZ9srvHcYW054jy0eqAeXC9sRzxjsZG+qRw7f15vcfeutVri2vVxNxitAHP2lEBp+tY0T06DBI0IaVFHT7bxoxdE9vjR07omIinSSmyOqao+p1EF1P0TmoWWyRFaUa8e0ZW6tkwsWMUfcRbFwnKOb1M2k3RFDQylGyfoNT59B7D1Hu4oloBmiA0bQavlRrrG2L8-YsBv1zxvMZElhgbyBPknPHuIOQJDMqdRiZ8+F03mHhiOeTDpCn61CK8CUE0rZ51ew1KQr1XFWauTm8rOfVfnCH+TmNFbjCv6aRdBdrDXQjcAs1N75YC-YSrcka7xP63HmoLZaxDglbj8yPYu-Qn7V3OPuiUi+KWzbhpWxm+NWG-6hpSxa-LxVcxUUZKu6D-9b3FII6Q3e12sF+Wg2Fqet79A-eAeDiLYba4g4QwJWu6aEvHxCzR6pDjfpg8aeFsex2MexTx1PMpIZV1E6qrXf7WGgeepEeG-T+6IoB3xkHEOSgoBwEQMgdAMdiREZYvnVB1c6O7f+uNXgw8yB0dAAAHzl4pcRatqhiFlwrpXqQR6j36Fd+n3d5eK5fJLyaETCga+N2KD8aopQRMRvHZrhcfj4rNxEQoSO3R2NRw7615AxASGG0F7tOw+j3DECLPbYylzdvCAAMlj70foimd3hGEkCSgofmBiG94zVufMxce+SKkLPAfcGgmqeCfDXTVvmBJ6PVrc98+u8L4nkYEYIl3b5VZ6HOnSCq4GykgHzgI8CSC+CHvWluCC373qwftOYX29z-fR76LX7N485H4vfvS9Be2+Plf-9q89In7D9B+uR87ST-oCMu12-Xec4vliJ-qcXaH3TljBvxeX7b3Wa-v+O+d4+6pCU7fQx6-Q4ph477l7B6iQlhCBlbebnzwiG6a6QEkxB47oWR5h94OhebUaojIEa54wO4gGMB15gQp7DRwxX4340G-4x4P4HQ9KkF-av7z6Oaf7LDUE-62iYQp78hgZAGtr4KEJsGA66xgF-gQEl7oHQGYGiS8KMJiHOBH7gb0KMIQqsJkD-qUFSGizKoTz44N74bcC370H8F+w9KKH8L4CCIcG5yixmG8HmG5qMGCFL4MAbbaZgiSFcGeYyGB5yG5oWReEjpaSWF8rnbEJv4SG6F+F7ZOEUGuGAEeEBpxpJGcEb4S5oGBFzgwHghpFJqNjKH0CEFG7+i+7+6yF5HyEFH0AmrpH2bAKqEO6FE-CD5urJy+FCZ7ZSqBAyAcHcB4gRGtH1GxpFEUrcY+FxE9Gj4tb9GDGgCkiP5uRtE-w0pkBJobJ1zdFbS9HzGVCLE6ApFC6pDiY7EzF7HZEBFl41HBGiTnEtGMxWbnEcHwazFuhj6PFT66YjHEZMZNF-r2GRCxDxECSJH2F-EsRaZhFvEOEJFX4AYrHIwEbtqbbAI6FOZUGix8FObIlF7iyibWZqIXFYl6Gb5pAZAZGEY9L5xtqAnTFklglugAxUl-4Pi-EnFNRa5cimK7FXEslb5VG5GMkgLghJZPEsTZa5b8k9YQkME56nEMDLLUBhJkL8nSHb7VGikWQqlqmlFQkLT4w07iHAnkngl0EcnJH4mCB7ImnOCYmZECk0yWlZC4ndwCH+yyBs7BzyCc7hw85Rwxw6CC7clMCkC2oUx9QX4Ena4cBCD6DRnLoBagCtJp7sgRn-CKTGSkCmSJkWRxm66z4mBaDCABAmDEDTK1CNDV415IZ3C0KaGSDaHcD9Y7Yt5j4XJ-JgzgiTbTBNlsKtm2E9DM51mQIYKXLbIxliw3FBYyAWRdnDY9mGnmDgrqZaFLSJLTl9GHHzmgDDE2mvLDlbngGiw7kDF7nLFMF8oooAryCr5ggyDbkHEXncDHGKluRWZHYFhGy-JOnOnNZzjgjfnEC9lMyUrlw2miggX6C1zTmVFQFzgI6iQgWSnHTUx-ZvB-mwVUTTkQlwVcnmDvpfCkJ0BFKor3luLY5f4uB3RgKHnrogSey9RpY0Wt6DCjmGqOAkX8wsD2wsJcA7bu5ZFugISJICWI7nDngZ78wlq4gUVArAKMixahnXAHZbICWGFTz5r5LTliXkE6VUQ0k3kCWn6aYCXPDCUfEukjCewrngymWyp2UgmgkiW0W-52UflEWDYKYjZjZdqTyjyGW6itnrCyWsUdnpxiAZ5aVBWp4iQcBkUxVrhLApliVWbMUGWUS6g3YsBhUjYRrAhRUxUGXhAAA8RVSVqgOFOVIKX8uZVS4IAAKnJPtnQL4LaWIFLhidSFiCEtQNWaJKAAANTJlfLT5kVCgUylUjWiQWSzULaFATViBTU1UTAgo5l5nNWtUyDED2SdXdV-q9XRIgiDXggLWgrLWrUzWjVgXnWjWLWxBXUyAUwpWeljn5QDzkGQ7kGvZIgJYry4JyTYjUUhg9KGaxUhUfY5VPpFAQGAyQ2pXuxfyA3ojYiPWFDEX4CkXkV3mKWvzeqPXNDkEqRAi7SlUY2IK7RvWU3E2kbslgSBU5XWi2hvXdbxgHqnLZyk3sih5yV+WUXwKw2Y0NXTi-WcojzlCgBV7s2HJuaGSzoCWMhDrMVAZ9qiwQ2exmXiVtywqLZa1OUWWy14QgYt7ZxA1EAsU5xeUuC45M0-VM3ZV-WJgA05gW0g0RUex8oQ1ZXQ3vHq0UkI0U3oQo1u1o0nZfJY040C341giE3oTE1M083k1M1I0h39ggTU2dDBVRZGTUj02YSp03YRhs2CZ4RjUNCvjc3pkyWEmSwKUPlsbfKi2Q0WTWSS0iDS1txCoT6ipHgEQsp9iK3d1Agq2aVq3+ijSa2mUGU618x61TYG1GVz2Ohl3+Qc1uX6Lu1W0ras7xzs5+lhzc6Rx84YCqUElrJTKbLbI3LYkUmznl4crgiX3bFoXmAv1VkMATIhJ8aY7zJ30Wk8FZCYr0zngf3X0+lAhBbOhj5zBgWxBzATgL08Ll7ggcjwMxAchIOIpj4IQYOThwTYMwOoPZL4PZJEPTBj6smZBgXUNsD+jIOFBj7BQhLkC+BgUsNbwdUGiMOxBj5soYNsp9i8MxBj43AZ7KksCGC9niOqCSNBwrAiOAVgjgjDX4OxD5mgC+Cp4aqtKjXcNKNj7uTqMxCaPaNoatJeQGM4OoO4bTBmM6OpmgCQhaMxCGOoPAAmMGB9TcDmMAi6OgBgDWPENAUACkXjDjFjoAoTrjoA7jQFae6jkT-jTj6Z2jNjQFAAhMJEkz41o4460tk0COkyEyo2VRE3k34wExVTECU5Q6g2VQCCY8k9U0CPkxkyo2qhU74wU6ABqrU-E50009wEUC0042qm03Uw0GPpk14044UCkzEJk7ENGc6E6GA33usp-UkgZYCCGAYXMNwOA7Mvves+9sc1cvHNKiwB1CWUVvs8hsiGhrg5s1faBaYa6dCs5n2TEBc4HE6EVO8CVK89sZMcwEdVA+XmPgymBQyko4tqI6g5AHQGqKguwyM8i6i29PCwi2I1QHI7AJABg7IwwISzi4tnixIwAKL4MktUvktTZj4ABy5ATLXjLLTLud3CZzQLPAILn9cBGcZlezKwBhwoKTu0T5Rz-LmygrPaqU5zMr-Mcrt69zorjzaGEJT5N2Fzcr+0Y5yyqySrlzyY0KuyYg2S05hrX9jA4opAKyquDAHU5AeYJGfemgEd0EFz39HA-8f9HyFmhSlrRwRQ8WDuwEWIMdD5Twp5e2PyvlDdwK0EwSCm+gfzxpvtlNfLEybzYL8BZlDLhQKbIgabxrSS+ANzdz82SKurxU+bulPzhQtd-Nib8C9MHAAgtdFrFbPwrbGcXG-EA8fbYIALe9yYB9ocXOEcvOGAZ9Y5WFFApgNsqJVUNwpApi2B1AT4sb2R6Q0u04+F28W7fwzmIYswnzJdR7T4cot1DA911IKuk1L1Qwnzm717H8zQh7OBJ79lTMCgNwZaEKpZlafeZF-tAF5AygygUuGQycRggyUHjjQco1UOUHPN4I51pQGH0Wc1Q1o1kHyghb-oGHPxoH+yv7DgzCxgIHM+CKnVVuVHhYEQ-4Ley1s14IEIs1JcAHxgQHUoBhhSDH28xg5rNat11g4INplHwn-MhcCgUOey8FJuWQhSH8WHgM2k0wOCQWqnoA8e0kZylJk0EYqn4QCu7FDNCn4e4QRTokxQ8IZ7Bgu0un6Z4I9nikpQC7kHIEZMHwq728piqn2Z7YypJ1qpmOun+nE4eeg6xpJRuspnPqoknHo10nS0snZA8nzneyBSinN7FdxHeH1I9tuS+G0KyY9p30pnF1fY5197aXxgTAmXL7QDVnuX1nN7IK8ImnhiZQdAjHeUoIYFOqfXjHTXpAvsmsYsYlQXAYo3MnEIeD3AQW2X4eLNKneX3ADXGXE3H7Ysy1VnanokAA5Pe6qrdad1N89RTKp1J-1zJ8u3bPoGTHbEp0Z1kHzPuy14MC91MxS6g0IMIHdcEHdXZJPqJOaGmHdRGRwPCJMI59t99897bOk-eFkL9zdtt+NzxFN4j7tBj+t8j+TJj-d+l499ozbaAM6668oO6yBNTikh4ADutG93qZjvdEd2PmzwQdzHF9EewRz427EAYdT+sLT9QJoH9oz+om4KJyz-DysDgmVxz452PvZ1PiV7PMrwNAr1p7PpT794PM0n1C6kz24Cz-RiF9z2Qhz2xrOhm0nUCCGN9aV-PCivz6abb4Jhs2b8YMNkMoyAYYb40sb6bzL-mkMvL4Jleg7-juh3g452JbtNLwDiTEMjdhCSn24Gnzl6e4r7ylcyTa56Q4n-IOHzn-slNzs476pKL26xL-T1RD173GJdX-jkLzECLy62L3T1L2XwDnL7b3t637H1PNK77xXwcnLQPc2gxuNPPLb7WqNGr2BS71rwvzr91k2kvy+gNHFu4SxG9CQBb2xVHnBCz457TIQHt2yutG3VyvUrPpdvyiQG-S4FhRiSfy3mf9OCr3N9jNfym6397o9-OpDyni7gU-y0jQirbWz6aQqolAfADln5gDAKgHFHXju1ugCo64HPdDpDzqg2lUBypOAbFFyy4C2Ku0D-kCS95htni6lFgNUDYhkUcK37DgNlQ3CYCXAYlN9hBGhobgbSDAmNGRTJSsC64ggpgeHk4EWdxBquX9jIOEH4p5BkgtihGCUFyDGBjraoBpXng8C2BvpXWlIKrCeBdBglTyteQdzxsS2Jg9gaYIspSD0q9AjQcwOsF8C+Q3MCypT1FDYEv+m9BCtqTv52daytJIFvAS3YJIQB+gvmFtzoAd1hs2BBgOoBEAcBSAV0HpLkEICxIMB7mWIC2m8GL9shdyd7EoKyxOCikWg1WgNHcG6016vgjsNbi9D6A1Bj1QMDEPIx-J4hiQ4QMkICF2UiaTMDIY0NKGQ41BxtVzDPxOQhcxK+QwyKNDErpCKYV-TcP0IpgADGCsYeWn2H7R78QwDEBiKNHmEs9Ke3sXmKFxIB-IKgXDLsGyAuFsMSYhgUkFILoZGBhijnG4b4DuHEgngU3JPoiWGId8DASHNWD7FOG+U3hXYIEScMwh-Cs2oKMEcNnuGelghhceMpsjhHPDuAcIgWA8NP7KdnhR3TEfcK+H58fhIwQwNCOggxsUm1QZEf0FREERbhgwAkZ8KI59hKRGqY4QoDIhki3C59B9urC2Rbwq0jzAZNSGnIyBBRvyVWOrBA7AixWIoiYIeQlHpwpRPsGUcLEeG4iORR3GTPn2pFkAUR-MNEYZHJoQieIjbNkcHCVFkFTRaozkXwXVg8ixylg4bEKEmKgg-ELgghCAmcrEQMspQkoUILKGMBmKLgswbUKtwVAbcgwJoSmWdEsDj2egr0VUPnrBcOIiaBgOIy4hKDhhpQm7EmMiHURaBLENMZsQzFUAuIHEDEVQGTFMcW8nsdDjIDrC1BzqjncEI2L2DNigB7QWBJWNYhUBwgjnesTECm5eDt4abfsQV0PjOiv6s8SkO6Nfi9j8xvQ3UakDEocQ48CeH-sFn7GJ8qA6YzMdVQjDrj-hBoCMF6JZH+gSxpKA8Uj2PEwjoIu0c8SeKRR2U9ubYpsUDyOGq4O2OUDkYmT0pLg8mFowGDAJUB9AbEypRgPgJ6jQTnA3AQ3r2MN4+i3svLA8Z4QIyPJGQV4xgDeIQnVimQaYOCZOIRYGgkJHglvGhOpQZRVI7YjgED0c46i9eONH8daOlGUSMJNKUCbwEa6MD+o44-8j1mVxkdbx-Y0CelBVG8wcQbIboNiJQlUgms6UKSZmF8BXlwxDKIwOEGkxUkcOhgTwR+BN5EgZ4-Eq6OeG6CMhk+-YvyBAW8HdBNJgQnDt0HbaSBQATVAABJUsGAAAQXADgAqWAAJSaqQAAA8ky2QBAgVKY5XapxDkawTSk2EmsdOW4n8xeJfUfiYmiO7iSUpafEgQ6TSmbE9u4kzoD-BylGgbShUzIMQI0hmYY2bFNyR5O8m+SApwU0KWVIHBZT-eJU2jNhOnLiS-xKUhgIZIGLdTdSnU9yByKCE3lGBlUwiXFL3GbEEpUgjkQKKoAGE4UXoqXOqgWxqATAXgSCdNPgHfR1p5kScJQETQJSO+UUtQPtOqnxSCx71DtnEAyDKs2hhcRkAAAYTgY5GoPZE8JPTThoSGjF-UGCww-puQBwK9KBAw9np4M7QKNTxBWTRYUMqWDDNIA2krM30kQQmLrguCkZ1vHKNQF9D2ClwbnMCmJVxlhd9SjAAmYTxMGOiekgQfDJjIdCpA2YUMkye9nJn9VKZQM5SntV+kcB-p4XWKATJSjkgekQI-mPZE6CmJyBIYayWONwGGQqE6lDGSYICGcyAZws30IZBwRTCdeSsghtOAlkMApZbAUxIsIvFNtAgks6WZZyH46z9eptTesbNNmmI2ZlPCoGcNCDSpdYEQ0MXYOIjizrZJs22bWNbBz8RBvUXtBUS5rdisgLgx0MLT4h7YbUd6QyNvwKEGgMsAYiQTa20H55bB1QizBAXUksAuWBoJWNnWIAwjwwwc12YMMDHDCXMwGf8BnJmGeYphA49Oi7Ntnww5Q5nHuWbLtm69twzQRsYRDXq7CW8g8mWTr0p7TjXRDcLDH8HjGjhoaC030UUP9FAhsx5QzSv7KLmChTkyzd8JGIaEjDYa9aOgFNTLHRSG5ucxQbmOrYkT15d0kNiBkfS5Cxxa4X8EijwCQgAFM6LeYGJzmaDgx+8zoAlLXqjQT5dQs+V+BjHbgWhN8m8dYPvFFBsxj8wMZbInDLjR5eqIbKvN4FrgoFH88Ya+E9kKZUg30EhR9lEEJTLK-8wBZelFjviOxn4shcckzlbDCFLg2hWGLFQH83IDgFBeWOqqEAFwd4ZCZvXrGudaJnYubmwronN9VgLQOOWm0kVHdPYI41IN4IkVdzpgX8Hyn8kXnY1SEK8iRUcykUWUdFkcwgA8Mc4LzZ4S88xY8HsVHM2QzlQJmAAAWQhbFa44Ynp03Grilw9io7iIpeq3yuIR48kaCiPGkhnxRQCJbiBvHJ9YlL8ooMnwSXoKDQr4qbkoubGeDcUT0ytN4Te4P0ai3hEIk9Lf7gVN43EshGzKkEQk2Zv7JGbliaU4j3ulnCMK0s54A82AUs3wMXkzIOd8+EJXpU9Lpl8prWhCKGdkCenwSUeTCOaUkCWXkx85Yc9jO9k3i65+ZS6BmW3CZl-AWZusd2XJIEDJL0JNIGlIyBBRXLcJyy+KegreD1LTSuy5TGzMSXTAyJh86yn1xvlUSGxH4lRcSkYl50B05PBZQLNywfLGAXyizMxMkC-ibRVyqifdOcl1SGAfkyyAABkqWYU6WlSU+k9JLpcjKGRdFunSL-lSUm1hUFSndTHOmU-SSTApV5SkgBUgcEVP2UXRf25UxsGyunJYqcV+K8AK1JAjtSeV7KmFItNNEgiS2cKXqTaP6mDTpVOClYMBSeljTTR8IDvkqulEkzqlHAbVerDh6U9rWbKqlQHNY5yrxRK05DHCihloYFssy-ZdCsEpWrdaF0yQFdMtWrK6ADCr8a1AFm-ciedsFZadPmkFiJJPEWVfyLtVCj0aHsJWik0MhLTi2w2I0ehDVAdSqpuUvCZGrWV3STxFoi1U9IugFqzpd0+FlrS1Hzyo0UK37jWJjXszeWrQJ5kCEUlH864BPUSJCt+590AKp8z8FKHbU3IPO1IH1vzFDVNro1Wo4LmOquwQV+Mva2taaNAmigUpDoYyRqKlGq4RJHpQ3GLG8EWSPSRwxAYEGulVQtBKUqHJ1Kugtot1K82KTCibrgUqQZkoECqqzBGSX1ow88NB1zIw4X1MakVtwn1WqjugI0vNfQBNU+xB1RQUqDiGg0zS6AcG3mL2UMgzdOp3AC0YBoZkgQQNWorfhsMEVjkPgwQQ7H9JvX6T3VraqkNhMZCvL1wppc5UfJC5Pq3F-q6ORSHeyfr3Q+kgaT+qGnca16AGxIARv2WgaAQGNCDZJKg0oUtV400YUhoU2arjV40xtmTMWUAi0M+GmHEjOI2TpxhxEUDLyKIFIzggV6qrvet3XzK-1xEmIKUAs0lK-1U3IgS+rvUwaF85gxmB5s6lebUNV0CjZepA00b6VgWg6T5sNC8tR4ua1DU1ixUNT-JgUkKWKvJBJafJKW5qYSuw3ebcNjjOLdZveDdZRo4IDEJJ181P5hAw2eZZ0vJAhaqNAs8LXxLY3bLYtbAWreWsZDCq8VBKvyL1tFVYSlwUMgrWhiK0UrStrCirR7JSAsw2YaMTmM2q1G7r+ai2nqOtrTq9xwVSkPUfa1pGGj6R7wwYHCn7Uo810S0VGHNrWibabsa6h0W7FGaOMPoOsPWFdsMAmx+Mt2x7e7Hu0+xPSSG8raQDupnbyYHDObTrABY9JCYycOjn9vVFsUlpCa1aduFkVqosAuESuriNB1PcYdpZKFen2+V9gkViA1iaqNfG2BMdvcEnSiulG9D-wgEGLFSR+2JgZ6662aIDrB4g6G1A6vDMQCJhaAodCWPqCYH4A4CshZtKNAEK7ZfA8qxRPGo3Up519xekvfFHDrZ0OiiwU9W1YKJR3+g0dikfqKLoSTqRwWNAZOJTVW6uwCxROgwDmG5g6MYRt-e3Y5qRRWQH+PKDiHQqFT3UMdDOooOCGV299a4cPJLjTrJ2SS8FvXQGD83h08QOd-ACEEHob63pudScLQOTzArJ7VduFT6eeBuAm9OGbDRkAAE4TgzBdiFwxjUaTfoFekKFXqWki4xaICGVZnJbRB1D1mc7fq+BcDpk3pb6woEXopjHdjuFkNAOPoQ0PoTNhkIfUjw+DNzpgQ+mNV-ULi2iuRS8aWh5H3KjCp5g+yvWw2X1N74O+2Qvfvop5Fi3InQIZSMp-LYZKNy29dVILj0J6VGV+thjfveZ9qedKPYboMvf3hl+BvIrPqkFDXVBSoq4MgCPFITYt0s72VoIyGD5NJmAJvYA+OPS5vh+u-AdjkcDNXkhXwMyUgFAbRagBbO4IUhIlXCKw1Z94ITyF5GAOgBfuAm0qDEFoO+RXds+rHjOuOBjCuFDEV8CBsQHIDlSNW0dTxqLY1apNVmzzf5u805ZjyrQBfTEHwOQHsaxB0g+QeaID7Yg1B2g55AIlRbBAIh0QLoc8hsGM5uw0jQ0B0MmGGDKPC8DcrzRtITDk+7Q2fur1pq5Veu1HSmvR1fJOD52+8abtCHJxWgNY3DS7qfJoYc4lsnHRTFCOTqyKLE6vSBLWFkbIpjFSCYYHsgy4wD-AejQIHgNAhEDofVAwN1yMCBbqOBlzMPTgxfZv95MZ7lPm-HIqI98nFIwjMDpslPYW2w+JXnwD7ZopquPscwCkj-h6UpPRrqAZCEZwwhPaj5rZQErW7YKDuqI+9UB2A809fqDPbzvArzafNWAYA1CuO7QT9AL8gADpYB7N8mP5IIZkDBA2jzOrRj0zlDQRR9okAg1AdApOhDjoa44yQNOMkSLjVxr2UwCQF3GJu448-rwFXA3YegYlaE6AAABeSw0ABcaKAZrQTWye48saeNInnM3CN4+CA+PY0vjJwKCA1AyNCAsjMuY49ceGy3HsTlTZbgDzuosA7qygO6kD0mDHcnQeAH4+dtpMgmGTEJpk8owhDkBWT7Jzk3D0JO+QgAA')">put("and", "evaluate_query", conjoin);
</pre></div></div></td></tr></table>
      sets up
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to dispatch to <kbd>conjoin</kbd> when an
      <kbd>and</kbd>
      
	<span style="color:green">form</span>
      
      is encountered.
    </p></div>

    <div class='permalink'>
<a name='p12' class='permalink'></a><p>
      
      
	<span style="color:green">
	  <kbd>Or</kbd> queries are handled
	</span>
	<span style="color:blue">
	  We handle <kbd>or</kbd> queries
	</span>
      
      similarly, as shown in
      
	<span style="color:green">
      figure&nbsp;<REF NAME="fig:query-or_scheme"><a class="superscript" id="4.4.4-fig-link-4.11" href="./4.4.2.html#fig_4.11">4.11</a></REF>.
	</span>
	<span style="color:blue">
      figure&nbsp;<REF NAME="fig:query-or"><a class="superscript" id="4.4.4-fig-link-4.12" href="./4.4.2.html#fig_4.12">4.12</a></REF>.
	</span>
      
      The output streams for the various disjuncts of the
      <kbd>or</kbd> are computed separately and merged using
      the
      
	<span style="color:green">
	  <kbd>interleave-delayed</kbd>
	</span>
	<span style="color:blue">
	  <kbd>interleave_delayed</kbd>
	</span>
      
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      from section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>.
      (See exercises&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>
      and&nbsp;<REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.80" href="./4.4.4.html#ex_4.80">4.80</a></REF>.)
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave-delayed
       (qeval (first-disjunct disjuncts) frame-stream)
       (delay (disjoin (rest-disjuncts disjuncts)
                       frame-stream)))))

(put 'or 'qeval disjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzRWIBRNFxN4ACtLlRfRiAAD0IMIixiQL3VSdJMl6gawnChrurcqpSA+BhOu6qbBt4kb+LdOZ1pms45pRNzAmW1aUUMPbNovBI3QjfqNtmxrzGa1rKFxYKuqO+hLuG66BNFCasnu-bzielxFuWj61uBq7Rt2mHHvm8wTpAqHzp+4jRru6anVBpGXBqMQqFqBh2jIXwMYC7aXHhnHZsO5NqUoQJyAUBgNBIEQGAqNhyF8Ls2R5vmScMUlftGgGMjAvE-SKUohf54QGFFp4Q2aBChn6QZDBltCJyeQEAD4mZZtmOeILmFa7Zn+jZzDdcMnTtytpXRf5PGvpTLRSA4cgc2IbmCOF7XBaDxXlbFzHqbGtIpaMGWQ3lsOReJVWVnVpddp16w9b7A2AWN6pvd9-3A95xX9BdiOnlzp3Ynz42PlNsjs-dnA8DBwxQDkRQIBgeAkFQNA8WHi5PZaFDif0XJWvoC3KG4C2c02iXUhBb3OmnxRCDnuhKFlmT15cxsUOILfZ5qPeD6UgHWbPmed8v-fpNKfLCGV3wFBYfAT6ooxP+-o2fAMg0h33Po-eeOcWh0GXtJZoooKjKF5pVb6D9d7P39KUYga5A5IPICgug4D0GLxgdfVYMdzTUDEHQBQ88iFPzIbELBODKHUNoXveh88SGwP9PA1Ibw2Kok3mghhL8J4-AEdQIRWQRFcOgTwg0fCGC8y-sIcgDB7onUMM4ThV8xGJQDmDGcrMWBqIYIuCgtDvYXVkVfWudcYgqNMeo7+wgKa2P3twxhYYY7GDJo4e+290HeN0uIxsfiCwBKMG0SJygA4fGJuwygNigkMK8XAmO7APBeF0Rgg0zCfhZOUDkjx6TeEx0CsrZgWgkm5JCQUxslSEk1LoaU+RISlEcxBNyHqHj6mCEIIQNgFNsH5inmDDRA0tE6L6V4+xfZZwgWAQwU+F18FiEmYQaZRo6leI6S0UgplckWWsrZByLhDC+D3uQPqHkvKjPXMTQqEUwYDKGRTZE3B1lDT-K+UUWzqAKCkdQUuRjkS-gVKNLpuIAVApoKC-G+hPmCFIGIfasR8KEXdMKN8-CgnlAYGChwEKGjnhOhkMqDyOhaCRfjBgriPnEvmQ42I-UtBcyXnBegtTHYsomRYu+1jaV0Bzryhx3zmUsqKBMzl8gaF0PBc+Qoq8GCVNPqMGkbA8mhlKGqqiK16DsrBOSrVITYjNE7BqZYmKTwKhMsEYVJybJ2Uct3fG7JfAkDuW84ZhUMUHQZixRZDBlmrL2l436f03Q3GxOso2YTqVn3WXMlodMA2vIeQakQwL6DCNSXIpesNo6imZvwVQIzJ40skdI8xgQ2I9MCRfSBezFINMTVvbNNbKQxNafmux7TFLGUrYEztzgfidG9nQVy-tdntPphmnBESLZxKMJQBQySI3ET+akFqbVlY9qiR8ddExI2xFGpavyNr-jbuUesECzSWp0KPckkloZRpUvGXBZaD7anPrCJwQtl7jxERDOeCG9610gVPoyQyH6aXgaqYkp9kH-2AZDDevV64z4IefSsqir7-SjRw5BvDWG-LxmA6el00dM1LqiWKi837qmPr3hdP9Oc0OxnJOcF57rg3LIcKwr8U7aE-KpjdFwMb9AMHjVCQTbgqHqjhNwETxAQZj0ZoYbkjB8D8Fwcg7K7w6m-RvXRldfSrqGneKWFDjIzPxOY0klJTar7kbPcWndr1cT2dXces1JRQCAzFWsQZFttbaZDXpxBBnUQXWI0hjh7HRVSpiFpoQkXUYmBi84C6DG+wGP3f4ldKNEMtNY75l9kxDx4Uo8RZVHn9P4MM3Uwyr9QSVyy012Klyv4-zqf55ogNL3pvdZmopJS+0L3ab9c8DLGTjfpfgNxdS-Lnj3F3IEaWdNRc6wQi6DLqsqGKmUKdCnqG1A28CUEIaQHye0edwY63DvvuHfoBli8+rsqVrK7ldD1uSpSxOO7imLvcDy4DwohbcYaZYpmppjne0uam4W8W0cCuYYLPoMVcGz6VM0Wp7RqDJtQKh-O0bLCzvyo4W0lHxFzzQaBDj-QQmkmkYLJs7ZhDZlzvJEJj+vXf5YeZ5T1nPXAGztPl4vyo1T5k-Hpm6LXWZmTc3bzyn-PAFs7PorghGu+uzJDEznXhmtcc4J8rpHJPSHMrQxFDu+Mu49yUFAOAiBkDoBHsSGHTU15SOPsZqOEmY7pC-mQYzoAAA+EfFKiibtUMQ4eo8x9SN-H+-QufE8j9Hl840459MKEnnPYoPxqilH0xG48j4UEF5j-PERCjiYEh4uXjMS3kDEBIJWiyKs7D6PcMQRag--KXM+8IAAyMfvQtYVfCMJIElA+-MDEC3lit9aEB8b26NvHeSbd7aeCVTzzA1uTFz-G7oD19183zTafEYLMr7cgVlnyHSDx4+1s839BB8CW7+CZ-e9wRuA486AxB39OdodXlRR-8wQr96sh9Ugl9O9lF2t99oCj9XloC9cZFM9A8BJdoIx8C6x+s24MCRd55Td8cFMidLdUcg9CDbQ79ic25j9npUhjcepR9aD-oED28kDu9n0LISwhBMs8ECF4Qs9k9+8+D2sBDRI8xX8HRGsxDwgk8PZGZ2CqpT8wJIMV5o56Csh9CZ8qsK91DdsTdT4zcqDCFOC-w4Zb8iDMIdDmDIC14TEzFKDCdrCdDhoVVEDd8ZDIMLInF3CplP86B0C+M3D1EBUrEyA2NvDbC0cNB-4Bdz9VNuBDDR8SDIjVEXElsKYbDlg7CRgIxHD11jCRtx5RR4cEswRCj3N4CpD-C5xZDwQaiystIID3U8dQirCZ8fC9D7CHwnCH9WCs1BEx1tDyiuCt8eCd8u8Aj11BD6AJjc1GwPDnBxDC9-Rt9pCWjAjRJq1JjSsWNOiTCWIji1ja1ahqAG1+jEig9g1AgZAe9QAZZzi3JLip1Gxu1-E6iEiijo4njKhXjSQPjzAvjx0tUyAp14Uz56itpHjrtnjXidBocWDkhUgfMESo1MSmiFj9iljRJ7MIjx4CtsSUNdCkS5xwQSSgDKTwSLkD04kTinN7jYhAS6Chipj94ujx54sOiKsxMGi8Dp92NGTGMINaj4i-MBig8yiX0JSXo90KTZSHjuDY5JpxSDoXDb0mNaihSqSNTAZ9AFSJhRi8Txt7jr8Y4-CCT-iiTwRxtSTGYFsGVrS4DRSSiiCsiLSKFBlulmscTfDeDmiHSps-8AzbjDMXSWIZVejPCPTESvTBgFTsjx51lLDPCZT945SUzTSHCfSnD0T7dPZHd5Bnd+43ch4R4dBvcxjS0F8KY+pv9ZjFs08hB9AWzQBW1QBbk592RSACwezQxjJDkHU+oLJU9fYXB7oTAtBhAAgTBiAQVahGgj8MTBJbhDFEUYjJA4juB3tptcC3Rf80ECUwZACGM9zrFDz8ipcdT3VRRzyuYwVWy8S7TkC5wZBljZ4Lz8ZYyFo6Uby4ikV3yrtloUSfy3i+TGYJl3SZBwLgSXjoKwTHz+S6UfsqcwREKZi0RkSQToK0S-T0dqYtcO0jUkL2s2iyLT5ACjs95IElTUgMcz5T5wLdiwz9BJdRJWLALkZaL9U3gjVuL8M8Kp9vTbR2L0SM1HAvhtEQCNEYEuVsLepSFxK7pSEJSEM5AwFacbT4YtL0LGZl15KA4WAPlLEuBjyG9PS3QNZdLaEHzzhzwF8A5d03olKcwVKklGQht6zJNtzCUrKUjAFDBKIsNhSRT7KR8AEf5wrcwqJ1NXlHL4k4rdQkUrLnhbLoqb8RhUrYK4yrKtc4ssrIgcrkzboiCCq-S2UwsvKfKn10qEq1wEqWB1h3L1KTy0QLYxAF9Qr4rZ8RIOAQD+rWqzVSgNYCtUqBrdQIr-1QB2rjAvKzVmgRq+rVBZqhoAAeYEXqsazoJYCcLBcc6ccEAAFTki3LoF8BRTEF4Cc2pCxCGWoDXNElAAAGoRyHFgCxAhQCjmrwgvr6LwRPrvq65fr-rRLdRJhHYxyjkLqrqZBiB7I7qHr54u4aQoy3rQavrwdYhIaZAAaBchpgaLIwb8bUtmZ48obxqZK+M5IJIsDyKtDVckRRsYFlE5JsR9KVhXktstr5rLM+JGiTStCjqnYsFOb0RsRKbWU5L8AFKNksLakod8bmgtCVIgQs5Aa5bZhp9xq5aNbtMCyHxAbrQpLDqlUigGJBQcUl4tb2Q+8PLcQVbIEqMih7VpxWbRJrJv5yhAs74-UjwCJbU+wwMrLGQdKQrOM31o4BbUqsDSq75ksUtE6w0CrDt4xuMbSl4uaiA1Ll4-S+ctCWb0qIq2bEwOacx86eauqQx+aTbxahaPa7K8Sxbdb0Ipaa6ZascHFTLFb48Gq5VVbSF-NyFNaBydaSbx65Z+wQJdpWqIrZ6J6TbMJzb7wsg6a3Mat0N7aYFHa3KNEvNh7fsr5W7WVTrZqnV-aRBA7aFvU0Cs6MVatDII674o6v0QIZrY7CN46TbE7xbMqU6Adtx06krgHaFrbs6YHcr5Fa7C6SzZAHdu4Ky+5XdB4PcMAAqY5YVgUEVPZhUjS2zPzu9kVwQ8G4T+KXBKHVyGBAUhlTjmtwU8ydpuSiH0TzxaGCHkxLtu9nRf85h6LYg5gJxU6ihf8ORhGYgOQxH5lf8EJpHJw4I5GBHqLFklHFlVHphf9JZMh6K9G2B-RxHChf9gohk+Z6LzHy5jH5HqKvbpGva+wTHYhf8bgF92YWBDBAD3HVBPGu4VgXHHFqKPqlH65JzQBfBZ9jZbkvrbrQAgmIKwRwR3IwmYguzuAon41bkvJ4nEnf9lNpgMnInom+zQBIRImYh8nqLgA0mDAImsmC4ymwA8m7GaSABSOp4pxpmJ0AdpyphJtp5JufMJ7p0p-skSKJoZiEAAQmElGYafGdADmaBCmbUZpO2q6cWeydAF2piDWZ0eou2oBDSbGZ2eOf2eqZpMNi2cyaWeNkuemfBENhOe4CKDOaaduRecefWeSZmbqbKcKCaZiBmdiBbOdCdC4dfzhToYmXFsBBDCkzmG4G4Z3LLMheO1RcJTpXwBYA6nnI20ReSORHjQUehfweIHosMMVUSaKCxc7idCKmsx4HJbhKzQSVY0ZG71-0tXostVpYh1-0gDoDVCkV8GEeFdFbegFcBzcaoD8dgEgGkd8YYEVZlZSzlY8YAFElGVWtX1WpVf8AA5cgI1upk1o1lenSDF5lrFoQveJOhFlYKTYUJp3aRClF1luh+1xUplqkO14qYQkqp16YF1+NalzcFlwFCl9l5gVjRljAgMmFL1nhnqZFdZRZcC6FehxgcUH2XwIejqP2dYZQV-TQPu6CLFhhjgJJZhplBjDN0EBEIoSozTfid+N2jhcCuqjlZSkeuhMVc2EQfQelulZu8GuuAN6zIN8Wg12IIdwYUdz2ENPFglsHKVKdjlqDJKudmR52k+zt-eemDgAQI+sQL4dq9Yvts+sqYCLEU+1Sxl0s3h1B3uF3Aed3DAbBzc4SigUwUmAsD4KqG4UgHJeQ6gJ8cSyWUPacQw8Dp8WGgMCS1Mwsy2hQv4KrMG8EBgXGk2GmomzWSSre-BCDjDxD6YZoODkjhDiUmeG4fdAVBc1dV-EAqKyqlwcgZQZQB6jIKeIwL5Lj0pruL65nLjx28EUG0oCT0AZoEGsGzj5QXdlYCT+kljtFQqtyBwCxYwZjt-O6hKzMrT-BYwZ4f8G036rDiEMGuj9RYwRjqUKTQzugbT6y75OUYG6wcECUozpaAOb2BQZnVFDi3PSadZRhKTwGbSCjmObvML0ACfaSXFTUrICMMLlQiPZD02rINL5Z1SYoeEROAwXaOLgc8EfL3s39zjkCMmIDnKEDnJMLwddsdmKMnpHROLhLicNfbDTChM9roL8j-JUSKzr6nz5a-zwjwYb5QLgfdzidg0UG3D0u5ZVTYVZMLM-r2bimicRbsGsbvzsgALww6btL9zx2eEKLxRE7FzvKUEei5Na74zg70gHiRhJRDWRrpD-biERR7gbvYroLi27Lgb7gfbpgQ7t73xamkAmb8L0SAAclw7jWBsR7Vjw5AKhrC+8+c6e4A-Jn0DJlICye6uDzjloRg8m4J4LCJ6U9DF-yEGEBBuCBBrsi0gsnNDTBBqHI4HhEG7nu+92kJ6mc3qp-JigTB-88h4F+nyF6gQjFl9B5x987x5p79KLbzC0zLe3aw1rQ8AJ3WmC5a5era++nujh-p9a5jO4HjI-z6LN9AcKCk3V5La19Ny2T17cC+VRQujN75-IW64N8K9-3y6APSrSL0oGj9-NVTUID9KF4-muT6l17iTcAN5MxxSgMt56l99PTAzHfSpgyAjD5W7ARt85wN+fqhY9+MCVm+UZCk3j8uUT+T4Jy97RQr7cyI3z4F3E8UcK41l2nd5T5r-Zm96gUMKH4JxJjc6j58ThYL9K40f7-kGH+n+97R-n579K+d81+oE0C10u7nocu78AQd9iCd+Ld3-34sMn89-04r8h+P+XZ9tv5H7c6A1DuvQz-Ggj8IAIzgeD70VluICVbr7w-5Yo6suJGPsNl4zjw3oJANPiT2HxwRA+SHWmH-zR5e11oTqM5K6g2LmB4BlLDThCUNQY1EBNpZAdODN6FdsYGA9OAciOT3QcBLqWcn1xIGMVWMG5UghpFiiUB8A9KAOAMAqCDAzeGlT1GfFEGlcOedUCUkIPZhuA0wVUd0qIJJ67RhKZAsAa2xYgFYWA1QNiDD3g4QREqWGcChrEMEcAIqG4CUroOzSKVzBZ8GwfoIHziVdojg+PMQJcBuC7Bf8Lwc4JJ4RhfBHgxanoKHrVBgqYCewdbzKok8qwngSIagxToSke2gweITxQKriUpqQVXwaJXQ4WDjBqEBIVAz9Kih5C5AturaVDL2lsBokfLvTSqLTs94EHGlEwMKHWUHAt9JWPIQYDqARAHAUgFdFeS5BCAIySPh7RvSlCc+kA0lMdl8HzYQhilMIT-QGhRDEhhkFVJajezzCB8+NQMHQA6F4ZSA3Qhnn0OqEFV1aR2YYZsNsEbJ1UgQ5+jVk-7YpmuGsSYWsOjgawhhFMdAZG0+FZcH+O9RiK-T7DvoBoAIhiAxFGi-CzefpJuLbEJS8w10xLBwEAXAoyAER7KKpKbGY5wiXWyI6kOmTgroiLYmI22NiNZiG8xaNsckYVyCz0Ci4ZAEuAHBdgVt-QWcKkTxAd4Nxu4RIxgLCNZhki7YRZU2BUVgEmVPs9VIUOy1BB0J4haiKbOkLpwzCthcw64Tm3CHr54hNVCgR2BLxegrhTgiaqmi+w5DSOeQuUSsKgZNcOIk6BgO4y4i+DyKgQ7gOaNaF1DGY1omEraKoBcQOIzoqgBaMLAk9Uq4nGQHWFqCg1Cu4IUMXsHDGYD2gm8X0axCoDhBCuwYmIGjxKH4IR2yY+bkwiNESiQElIaURwkTEuizhdI1IBrA4jj5J8lAyuMmP75UAbRdozahGGrFn9QwEYOUbTxghNjPRLYynu2Llo6Rdo3YjsYDkzpo8oxYYxnjCPjwnscofIgLt2RJ4awImXIwGG6IuJ9Bik7MRgNIJ6gHjnA3AePomPj4KjyQ54FsaqjUwUpGQHopIF6M4ibVTx-opkIoPoDrsIcE4c8VlWlxJFnxN4zVBlFUjRiOAjPGkVLDR5K0FxvI9kdxG9F+MTUR7LQZp2Wp6D+o2Y3MkgKxLQ8E8g-ZMVuLcjpQSR-I7oGyG6CRxLxx2S7OlBxAUS-AaFcoe+AqCl5tY4QUoIDBk7UhihH4JPkSGARYSro54boIyAIkoTmJqQUod0A4k1DQazQboMe0kCgBzqAACS1YMAAAguAHABasAASudUgAAB5I1sgCBD+VNyyNQCUeJ2QPi6AAY8CrwHQl8SsJk6OHiRIwl9Rp+CgzSDllckwlIeJEzoI2BsnvAJSQUzIPIJ4F+TwKakjSdpN0kGTjJpk8KQOE8neToptkvsUkHAokSlxb4PiQwAEkvE7JUCP-D5NRDuQlxXA91GqFr4VS-JdkhyeJSXHwiqAUmXlHKIepGw8sagEwF4D3FRSPxhCLqeZEnCUBJ0DkjsVZLUBDTfJWUiaTCQcnokT2cQDIAHFyAOBvYjIAAAwnBNyNQeyKqnWlG9AysUagIMFhgnTNpjFUgIyG54bTdMt0sGniH-FB4HpBqLaWQAlIFZDpBw00WxWo5GCPpXSaMudN9AZClwZXeihrBBlZ8qoF0oHiaIQ5ESBKqmf6Q6FSDVBsg604ScdjhnG8TcF0vyijWOkcBTpYMhGZdL8ivIbYAceyJ0ByQqCQwKqCYaMNaxbk7gf0+wdUIJlnSqZA2XBkuGoF9hJqS4OmQwAZlsAck3wnsTI0CD0zGZfw33oLPujDZyhEsqWTkgemoygoxATmKEBDSEIWhmo6IeSFpkKzJZSswMXvWa4TD-+rYe2vGOI65DrKjoC+tRnlJDliAAIijI8KmEGhZsKopwWqJ-oOTfZItDUhsJYBWtpgpQUMYRGHHcTNZSsh0bcOgZagsA-4K9B7KgF1jCwDGUoCnOlmU93ZUeQcsQEVkly7os-K7gnOMBgic6Gsy2VrIN61VxRXMSUTvAUx-BkZRgtcM1MVHMtZhQIB0YsJCqmzVhdtAwKCxYmfgpQdwj2uejoD-Unx9orYY6K2FQIk5RQAea6KOATsc54wrMWuF-BSo8AkIS+aBiVHXDg5oQxgDNT3laiVgo0WeTqNYl6jAhYqXYavIHGRCd5RQNOT4K3njiwGWVYLPmOHapDOg4c7jJRlfAVADZqQb6HvMnlQNsqF8q+S-OjjTiYxs4uBf7JZk0YO5KQoGXkKfl-ic6ooliA4F-mISR2C4O8BePKHBjSuYE2MUh1wXgTD+5CGJAmMYVw9UqGYqSVmMIAyxcxMQLBCQvoYgJu52iXuWIpRZMLwFFYg4SOzFiFdkhMi8xIrXkWPBCAd4RRa6JiCYLIQwi8xEuDEU1ihZKAgxXD1oVE015rYoglYtAUNA2xpINxUUAcW4gBxg-B2N+JWCD9PFACg0JOPoFcLwxxQliutNXS1FDepDAIrUQsgPTqGDFJBE5J0Q6yXB7DHWUEI+nulslOE5Ln8IjB5Lze1FToAzN8AIFvZBXegYYTKW4znC7qbNuogek4y8hr4xaUkBPHU9cQzC2IOeCQTp4yZ8UC8OjPsFYzCEOs1bMdh8VAS7xQIR2AsoHHdLJpACt4BksTIjL0sOsrxdMF-FTy4GCy5CSGJnE8K8xtI6LjjhV4UwCl+RaeDOTGW08YJkgRcfBNOW3jTUK05SXFIYB6TLIAAGS1ZmTAsUsfaSlUkCzSHpF0JqcYpJ5OSA4nk-yTlMK4eS+JJMWFaipFRo8IpjSdaRdCCH4qxlRK8Sv8sBUgrwAqUkCOlKVjYrSpLU9kUbzCwsjQweU+CZ5KKlZhBJpUg5Q0DaLrSqp7I+EB2I5VYjoZKSoVdVJaUZkk2pKnFYPPM7Mq0R7U5Irygenxo8sbSsZZ0usrwqCq006FUhMJWKrXRus6kNWwDhC9ReRPCxT0vsmtDSJPEJlc3FVWIjZafNSOk00MitSF2ZcYOGyr7B1S5psWW1TCmymOrDVDGLkdm2xXrKlp5q5lIA3ZEWrblNqoXgGOdV4zmWrQElkCDomEDw1ZU9Nf0uDrscY4GwvNcSl7LaJWo5MjNf0qzVLjVqoAatRng4HJJi1za1NdEpzYVA+oDoISVB1wlqdBxhErPDHFKHiTZVmmPgYEFDUIzGAKK0KVdBvSeSh1q64WjEBEl+BGQXK4qcLkykioARwyxIIEAdahTnVIbJ2OKtJHdB2eDU+gMKtNjlq6W-AHEI+uPUvrbYV5PsB9yfWOquR3HQ5OQSvUtrDsOc4iDxk3IfBggAcD6WEJRVFLqJtrSNYyC2XrhEysy8kOur4lDrSp26hilSFElAgD1PKkqZGvuHEaBAIGi9SBA+lLib1OkO9WRO2C8VpVIq6jaVE-UcaOAP61mH+tDCwz1p3AYDeevIKMbU1kGoEf6moVuQ5BH04IIuu+irqR1uqtTYV0U2xLV1aPOQaFKPXDSgh+mwDYZvmkipfocGhdVeqQ0uTV1cy5lj-HqnHrLs-yhKfpMMkmTqV5INzTpI83JSwVAG49WJtKZOaVN7wZ7DgoxBedjKLEbTY8BQ2FArNCGk6bZoHV6rDsUUNgPSsJWMgKVwK0FX5Hy1Ur7xS4B6SFvjRhbYVkWoPOCGi1+lOo+AbGWdFMAJUU1wo9TS7SzSfRkwHaHrS+lTHFUlxaPRrdjJKwtau1E2-9ODlLX48EME2vrd1Gm24QpU7W22MwR41-4RAINWbUT3oqjaT1ODQmFPAlROqW1rquEe6o6lgKP6BcLOQaEMa9Rh0dy-QMdoXIva3O-K0MG8r4FwSsRmdWwCtrno-aPl-28Bf+EAiDYpYkEBoGtvJGzRNtrPHbc9qF70U3t1EHBv1BMD8AJBowknkzhaFnsL2PwQ9hap36ls9+2vTHKdrh0urTwo0VqVdvVWhhWFhsRSFju440p1IcbGgFPDloA91OAYr7dxWt7RMk5WAnMF+MCVWRnU5ycaYlTumeR3qH1LORDqKDghydrvOilVlrXzj3lf20keWPKSAxQGtO6HJts12U6D+FkXbeK24CW7r++GfaVeJuTcx2INjIEAAE4TgryaxnzGdVGABh7qP3d5mZV+5vaU2CzQHJvSUiHZL9R4a+BcADkdpRGwoCHv0Dw94eFkNADnrfV+yIBhkdPWyIzkNAQ9zq+ht7AFEtxPEgWDyDBUbmwMYgZe1qeHv45bkk+Iei1VUr5i1LMcimeDT2o61Biht7IhHR+r-xsBqlveyljbpR1lqvkk+nvUwG9kJt3Ur-F7dUFKirgyA38bRNKxmzHZWgjIRvlcmYBJ9X+2Y3zgVNKhYcjgvPPyK+H9ikBd9YrXLkCFpIxiACRG9PSkyV2v821-S90M534AxBPIqTZtiGHT1g8M1xwQEf7IYivgr1fAgQezGEDCCCecemIPFoDjKaDNJm49YtmWytAS9Tw7ijvsHpvQ39xJT-Z0Vzk-6wDSu0KYIDQO1A7kDB3yHAYgHgjZNpe93XzAhAMGldQvRjBSi7iCHPIee2IM3vgm+rmV126CKzsprQH+lQauuNzuEJNCz4rQIXQYEl3dxSmy8WnrboJ5AE9dv2gPZuIqLZ15N5gBDEIEMD2Qw8m+-gDmqpBH6gQJ+5vhfpu7OGBAwNO-dbXfqiZGQxh7Q5apAKwSLDUsa2iqhNKpUJaMkA-PgC3LPj48SY5gFJH-AWoley1G1eocaFTwwj7rKygtRF36H40hhv0h9Ca0jSUg-WtrSPqH3ajj6e6NGL1raMDakO1yoyEAeLj9BS4zI3lMYYQwdHK4dRpbVAjN0w73mpTao2NrUyoxxj6MDo8tocRm7zd4+5nrPrGRaA7lVjOozUcZbr6bV8PA8foECUAAdLAB0v9XIGZAwQALibsiZ3M5Q0ELPXIXIPGBCoxxlQ6cYqnnHvxVxm46Fi5h3GHj2YlAbwFXBQIegGsKE6AAABekbUAFcaKC3H+B9xl7mUZ6BInXjOkd4+CCf276iBJwKCA1C-p7iHDYeU4yCaVhgmsTDTP7pUpBosAQaygEGoz0mDw8nQeAH4-jxpMGymAGJ8E4yaSYQhyALJtkxyd54EnfIQAA')">function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave_delayed(
              evaluate_query(first_disjunct(disjuncts), frame_stream),
	      () => disjoin(rest_disjuncts(disjuncts),
	                    frame_stream));
}
put("or", "evaluate_query", disjoin);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p13' class='permalink'></a><p>
      The predicates and selectors for the syntax of conjuncts and disjuncts
      are given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    
      <div class='permalink'>
        <a name='h5' class='permalink'></a><h2>
    
      Filters
    </h2></div>

    <div class='permalink'>
<a name='p14' class='permalink'></a><p>
      
      
	<span style="color:green">
	  <kbd>Not</kbd> is
	</span>
	<span style="color:blue">
	  Queries formed with <kbd>not</kbd> are
	</span>
      
      handled by the method outlined in
      section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  We attempt to extend
      each frame in the input stream to satisfy the query being negated, and we
      include a given frame in the output stream only if it cannot be extended.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (negate operands frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (stream-null? (qeval (negated-query operands)
                              (singleton-stream frame)))
         (singleton-stream frame)
         the-empty-stream))
   frame-stream))

(put 'not 'qeval negate)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtyPkCcgFAYDQSBEBgKjYchfC7Nker62oGEMUkixiQL3VSdJMiMPE-SKUohv64RRuJJ4Q2aBChn6QZDAWtCJyeQEAD5qUoFq2o64gupWrtLv6NrMMOwydO3e61rG-lzka8xqi0UgOHIHNiG6gjhv2waIdW9beMm-i3VFWawIWkNlphkaxs2lZtqXOZ5usI6+xOgFzoBshgdB8HetW-RPvWp5ife2JSfO5qnrIg7JidCK-pcDnWoYGResoG5sWRbgwgmi8EjdEWqC0RhBYUIxHqF8X9El6kfoay4WIVygldG9XVZV+HZYE5GMjA03FpKUAUa2906EBqmwc+-RDIJ83memNnQEN42VbVq6ubt3W9ZRJrqjEDhKBykOAA8Lamnak+4AOUd5nA8H5wxA-kJQoDgRBkHQPE0DxC5o-MYgUKoYh9FyBRCHoW7KG4W6c3hqbRRBQHOmbxQ25qV37aW4FqEHxsUKblvR47ifVmmtJWvnkf2-H6TSnywhRt8BQWHwWeqKMQ-j8bfAZDXhQN9brfKCJlo6B76TmlFCplF6yr6GHh+x5Px3i0Nc4Nv7kF-nQf+i9XZd1fsvWIH9UjmmoGIOgd9XbQMfggmIpR64-BQWgjBYIF6PzgW-f0SCGBvDYqiIepDAE4N0iAn4NDp7OHoZvQB5CmFUN6kfYQ5AGDECToQQIbhnBYMYcAxKYN+YzlaiwQRDBFwUDvoDQwUil5+xZsCRRyjj7CF8Fo8ePD36r2MO0W6yh74wKAf6PBoDLEFkcE3Zx1iwYfEbsQzRDDtEvwoQaKh7APBeBMfYg0jifghOUGEvxsCAm8NXoFE23iO7hKYVExsKSvFaGIeEsxlDV4dRBNyVEGTgElOMfg9cjctb6yqiIsRxAJF-3iU-HhOjQyzhAtfBgc9NEQLEMI0R4jDDOF8Vw-x3dJjmJMsEApolrK2QcgLXwrtyBJw8l5GpHQtCFT5g08wVT6l0G4EM6Wf5XyijEdQBQ7DqbyORL+BUU0qkqNIHch5cijlQO1hcw8jFjz-GuakUh5Rha-NOS8ho55xEZDKrsup-MGCGOMc8rpuiYgiKVmtbucF6D5LelilFqj14aOhZirFhQLlUupTEFF+L5DoPSc858hQ+6pBSXPUYNI2ARNDKUblVFqH0CVmCeF-KmGILKB+NUtQaL4UIjLbFpBTKnIsssuyjlA6-PZL4Eg2zBCEEIGwXwhVYjnEObXNEoIGB9IGfoJphgeEqqmprIZZ0WG1K0PoIZnSWiiLCOFGuyZvWipEOw+gnCAEd1dcRTlTBSD8FUNUhuvq2F0MbM0tiZTbHYJ4dKrJeyN6RqzRG9xmD2nPxmYpYy6bS20I4Y2TogM6CuVBhknhIao5hpqaNNoLibFqwUJQF1iSZaguEa3SguJK3Do+KOiYKrYhTU7BqckSq9RTt6h8VJeT0mLrHTC0MU0kW+qqKQPduTiD5KPWETgMy-JbqIiGc8l7r1ixAnPRkhlz1Nw-SBG9d6v0PqfSGKdwr1wAbgp+0d-SqInv9FNQDJt4Nzz8vGYFK6XSIxcP2+dTdiUI0-Wk12mj71E3A7GTdZxQ0sR6fam+DhCFfnbXfS5AU8OCQ0PoBgXqoQsYkWg2ocJuDsZaTnXtLFDDckYPgfgYCf7ZXeBkydwo3ypEIxki2hp3illA4yQj+7b0d0mbG8emHV3cdFLezQc7B0eJHce4jpQnbQTWCa26+05P2sU1-ZTqJNGoeA4e0Dm5iMGlk0IPzIEAsQJU5oyLfZZEDqsa43lQHmAHvI85iY7KgUERPCGRN8XIEVL7LvUE9MTCBaqoYC+J8dOGWaCjZ9dHpNuX7TEuJUyEkzJlueNFjIeuovwEYjJflzx7gLkCaL8n-O1YS0F-QaLAUqGKrK1jtRZtTz3X0oT4yRODBm+ts9DbVvjZ6Di7zwjX4EpZZgmbdL6WhkO6g9U47kuvcKDMqT-Nw05Oy6ZqtfXO4ToTdx1LUGCxe2gv+0YctGBNLGZI6thae0A-7ax-J7T43knPD+oECOccdwQ9BkZzTWlQPR4kvyrGD5HxPuT2HpPXaM8vl23MVFu1caR9z6DmO9X9rKypxZA3iIM4a0z0+0GavgMgRzpr6OQwI9F7FOelPUdtLBzW+BXTwMRTzr8guchFAQBgPAJAqAq5oGJPRty-dp4uSyNWmWib0hHzIGp0AAAfX3ilRTNVjj7-3gfUjHxPv0Gnuu-cB5fDNG2PuYhh4T2KOVXpJt0YBwPF3LP82MMiIUPnAl2lC5tavZgYgJBrR6c5nYfR7hiFTjZ1IO0j3hAAGSd96HtZz4RhJAkoI3qv5ew3I3XmpyH-PRRV5rwwOvePRISYOZ18w0vL5MdvgXpe7vuMEwjNW-7erUts7BMHugYgu6jJaeM+gLf+d1-BGf8EUtLqx2v1Tu-dAc4A9FGfqfEvJGVIOfEaRfMHCyF-X-PVM-JXV3WPafASA-OsXaEYQ-XXHmENAHWAzXFHW-NHBAoAlwZA20dAizJ+SOP-VIdXSRDvPfGfEA8gavMA6rI9CyEsIQOLJbSBeEOPcPJvefOvNg0SPMT5B0JTZbZwXgsPX6PVGgxORrW2UdXuffPvCMEgpQig3WAHeQxgXAm-anfvCaKaDQ-QTCL9TAjrKghffRIRPAwwugv8RNUA2vVgr9CyfhJROwgw7-VfHPWwlRBLdRMgCjCw4wqHXjDfZnPpCTbgUwjvbQvVTwgxK7Iwpw1QtAlA8w5QygvVUUIHMjc-MI9IhggQlgucYQ8EAonLLSaAivFJew7-NI5YEwtQlAhIsfFiUUTNZtZojlVvMo1wio9w0SHo6NRsRoqQ8IVPf0WfJgwQtw0ddg+gJtcYkzYhPwvVMY9tbNQIXNOpRwlo7jRjQIGQevUABaLArYlYqNHYitRzTBQ46zR-O1U4840kK4ivbYghflMgdtGgTtJ4hGF4vdN44QnQY-CvIPB4hdYoo40olwhfRY8HcEQjTYivVLbTSjcIkEsEVEmE4gV-C6JdOosNYzULXLRw2IeEpAtoh8Cw0kg2WDLLQovLFQ-nH2cLT4sNcRFkmo0IkknEgSbI49bkro1IOzWdNLIdNxcLIU4AtIJPSjMUx3VIXdPkkHIowUkoq2RPOaEUiYTo1U1FLkMJIE4E3UwYpE4YpY0SHrdEsNUbNFPo542kzI+knIo0-6ZBE1UpMXc05w+Y8orUlEkpagMpKYlU8wRlHw2guE10t0eIhkqMlwIZLXfAo0F0y2RMukrIEUywo3WQE3Quc3EuK3cuW3HQB3b0pNFNYxFOegy0yPYGKBBsxSUoLZQfdkZNf4OtFoNVBZDOO0uSFswNEgUwWoAIEwYgagUGYQRoVfNfFwVLeRMlYIq9bgNFfHfo3EiEcFLqfmV-SLNcyQEIzcq7XnWQqEsFTeCFJ5B-S0xEuvGQZYh+O835B0g2X5QItRU8q9LWB8t0E4yoLWbgS47PPVFFZ0mQQC21UEkCl80AD4iCivRle7ZlfJGCxsoC14hC7gCEr05c24MGGHUtcVWCvbPE0iokt4cilM5JPDfPfQOeCiuY5goYsEOeCyaixktyUiiNcVZixDbC4g3MoS6DXIivaxL4cZS-O7HMB7fJCXIg+8LIQ3JcwOZk4WX8p1eBES3vEYdSrHRwGSsGFgdFX8+NYvHcgSHaOQdeS8oqfTdkRvSU3EJlQlDuRkNrasoiu4eyu+c+GXcdAZCi9vRQkKqiYNFCsNAKzxCKrWX854ayhM0SkYOK3i6M38-PYLJKovakmyt0CMDKwiwNXFeSxSw9CKyiXUTc9YMGZSwqtEW6MQYfIKy+aWLsjgS-NqtcJYQVScOCbiYi7SyfKI2qgXB9UAFgeq+S6VZobq1q1Qdqk+aWAAHmBBat6s6H6sq37PVXBAABU5IeM6BfBBBSAxBeAfFqQsRTVqBahmhwRQAABqUAb7WIC-MQIUYxca6WN6ok56t6j6mIL6n68SiYN6YyAc6cI6k6mQYgeyC6q6m6mkX0h6+c0SV696rFMGmQX6iK8IAGiybGkGi6T5S-cGvqySsNPeOApi8a7cxMYXV+BfOSbERq6YAHebFaia6mnDIoD3JUwmj6vBVm9EbEMm7FEy-AWS4ZDyx7MEP7D65ocalSIEH2EWrFWYPvamsm1WuTMw9owm60W0am9beMCDDTbudWlyhqmddy9Czy8eAW37GG3mzVOgY+coR2deC1I8IrV9Psd9X8xkVDOK3SnuKzXDfnHmuKuA3K9eImKWhlbKx1DKi2y1WjJqgJNmogSOyEsNKXRQhmxQmqpmhlFmnMPOjmvS4iJEPVHmv6mqzjPsIWuaP66VSebuGuuHFmaS2W2OCqjC9JZW9CVWxQ22zW4KrumSUiAmPqmq2epSHmzCE21SiGgrLDK2gwG2rs4fe2+zYe52p+V22IeZacRmpZL2hTEQX2u+I1KA6OwrZVeu4sTbOKsOrSiO6jU9bjOO7Kv6xKpOl7PseO9OpKzOvCbO1K3OiWguntY3G1U3IuC3Uua3CuDAXy1eW5e5AEn5G1aFeU5IRg9i60sEbWcEXB75T8tyah-BhgO5U1TUsXZ5YhgywYYqhwSOc8eh2cgh5MXbOvZ0J-OYIk2IOYCcZO6YJ-DkcRmIDkKRnRJ-BCeRwa0gJRkR6rMSUENRnpTRmR7R62TIIk4xtgf0aRhoJ-YKU1PqIkmx2mCx5R7Ri++Ri+vsSxooJ-G4YfdqFgQwV-Hx1QPxguFYTxwoJ-F6tR1mIc3wAfc6LZN6860AcJ2IJ-dyaJmIfQWJ+J0ALZLyZJ1JmIJ-MTf2HJr1LZSEUAQp5xuccEYATJgwcpsmPJ0AMAGprRupgAUkaeye4DiYqdAC6eqZiCKcoohEH2ib6eqdyc7JEjidqbxIAEJhIpnmmEnQAVmgQFnOm8S1ren1nWmNqYgdnDG6m1qARMnpmBmWmtkLmTmxmn9ToDn+nZnQBzoHnFmIRTpLnuAihrm3mfnPndmIQlnGnWnCgWmYglnYgU5nQnReHPk8H+HIUbUE7AQQxNY5huA+HHkTcEXNtcWBHYp8AWAAArEwMdDFlYTWZEL1FRpFmhuIsStlMZooIl1FwRp0JyqkDljg8jRkOvJ-ddIk9dNln7J-SAOgNUaec1P5qVmV2dcV17bxqgYJ2ASAeRoJhgDV5V+lVV3xgAUTUe1cNb1epSfwADlyBLXGnrXLXl73oCXnK+XipOD0WARMXeNhQWmCYYKcXGWGH+XRSeWSpA2UXg2crqXphaWvVTCYLn5XX9NODoqNL3kOWnkHBzlLqekKL3lqh08KggZfAh6yWQZ1hlBPlNA+7twOWmGOBiFWHuHQHYghlc2jgigrDG7+J94Fb8kKKbsuo+30liMboRB9AM3vzm6casUk2vF2dO6W3jVOpBhJ20XSWKXTAvtqU53mB2dQql2D7p0j7h3LMOt447aGA45SWfhT2ypgIsRj7FaUpc4izkGSzi5Lcy4bdMBsHaKKBTAGArEPgqobhSAwlRDqAnx9LrYvdpxTDIOnxZkAwOGjbSCUDEO-geZsbwQGAgbybY5waEOIEoOsPkPphmhiOxCyP6KW4bgB0yUtB9p39L9W7YHyBlBlBrqMg6kjBzlOPcmC43q-VOPbbwRnrShxPQAnqSa3qOPlBzX-RxO38KaxBoqryw0HBVFjBQ4P9kbx00ytOIFjBnh-wVKvqcOIRsa6OhFjBGOpQPVLr09tOuB9O5QAbrBwR6KjOr0wZAZVYhlWK9SshAv0Zl8bZtIKPV469AvQBu9pJNNFT9SUDAvpjfdUOIxUvNnVJih4QwvUDBhYuuzwRcv2yNtXYAOQJgPYowOwlQvQxmhEuwyIy-5Yv4uJwJ9AqYyv9JFUui1RIrO3qfPjAmAyBVYCYLk-VLrsPgaJxnr8Pxqt8JNTlkx0zDCsvZu+x5vsbhu-OxuCu0OQvLrBlpuZu3p4RIuglZUXO8pdHs2r9rvjO9vSAeIEEqEdp6vphAw6AbuqGpwiS68JvpvTajvm9n5dvRuXu3uLEWOxApvm8wvwQAByfDz1AGlH52PG4xQL7zn7p7oDgsUgYxKxInoLpLrIO+ODg7kn05iV7RoQYQQG4IQGuyLSSAtwNMQG5NDgeEcjmSXb6nwnhZjemn8HvH3zyHniZ2AXgmUXkH-QOXx7iX0X0qstvMWTKt79EVMRDwW-J1URMn5rsXJpBBKrOpo31EIk7r7XKBE3pdzWNXitzX-PD5XXtwe7zRE3vnpSTrpuE3sLp-XLqWEumIyfL352JpUqmng+DZJOV3mxNwfXwgC2KdC3yRL3ldd9KdyeoEEMRb0Prr78yYv+L3qzRFt34wNaC5RkTWaPhrWP+P2-D3pPre7MlwFFNW4r1RsLnaAmHXhPyv9qY75+Uw-v2-EaAFb3leDvnP1SHpS7yeMfjnqv4752GfmXMTx3jX6gTQfPBfh2Oy7PmXe33jLfytnfrXinJfgz47lvqfmVQ-tFq+6-if4f59bDKdZbjPt+qaQPok-Pm+F-wN7rYX0K6M9KInazWow0s6EgC3xg5t4lw-vFDgTCQFRcL6SfT2ish1TF8XAMAwkplRcC0UzMcAxAgqR2ioCZIEYCgUpHQFNJMB2qfDLGXMBEDyMi5bAhz00hVQE4qKMGAMAqCDATe+lPAXAOK7mhOe9FPge1A4GxRnSgg0gWlUGAsCx0d-UqqlhYDVA2Il+IStRw4A1UNw+lHaJh10EC4Nw9FdQZGjkpGCm45gzQc3n0oEwbBscAgdNQ0FD0eUjgy-BRQjAeDm8Zg1wXJQLYR0rB3ADKvpSrCeBghhcJOvRUHaDBIhXFKIXfDCpLg1B-guHvEMQwhCkqpVUUKIRIEqU2KCxOcHQNEi5dC6XRZNq7Cg6+oShcVbgA4G9pdRRCDAdQCIA4CkALYAOXIIQGqQG8BaU6PId-0MhDY0hI2NIYw0YA-1REWQ6IYZETTrpVsaQx1g7AaG301ozQ1ocIHaEYDEhfIFWhth6GLCLBwydwUsKgYv1t0GmG5IgOAFn0LSboHaN0OMQoDgB3AJ4Ydzv7nDQBb9GOgJEj4hgGIDEKaO8JN6lVYhjDG+JSFBDpJIhgicHKEOIgjDjhYw44RMNGqBVIhJVAoR2AzxfgfB-XWIdoNI7GC4RMwpIX2Q4htoGAPjLiD4KYr4juApI3YeULoaKw-i1IqgFxA4iMiqAZIwsPIN2FicZAdYWoM9UR7Ci9gooiPu0CHjcjWIVAcIGF0-oxBnYuQiBBOwVEzsZI4IoUBWmhGYI5RTIjKqqIQFDUOIXeHvNcKGpwjTek4I2OyJpHLUIw5opdgaAjA2jXRMENkUkA5GcRlqffBUZ6KxQEwPRKdaCBnWdjggJRHARnqVTUAmAvA7URgGIM4GtdpBzgbgNHzlHR8ERBOTbI6IYCSoyolIh0ZyOWpZjeRTINMBmK1E-ZQwOY7ISpQLFFihRIoxnmF3cxRc5a8cROKbGGp+jCxLSBFCyPMC8ARuGgkRBqNPoCig8sPA7uaJHEuB0oJsK6DiDZDdBxoiIzbLtnShrjMwvgZCjnXfAVB5U+0cIG5htjSdqQOQj8HHyJDXwpxFsc8N0EZABin4fkRNHkO6DnjShz1ZoN0B7QXtDqAACUNYMAAAguAHACGsAASodUgAAB5S1sgCBA+UNKCNAcSmJWwlikgfIiimOLBgTik4U4ttLaOXFESJ+6YzMjhJ-zOxlxnQFtFRPeD0V6JmQKQRpBWwUUQJYEyCdBLgmITkJLEgcBRKr5MTNENEiisuJDhESGA94s4hJPZ4cTnA7kFWGwMgoaD2J1Y6id6LOTMj9KKsYWKLE1jEo4R11M6MlnjGxIkxmk1MVAlMnmQ7RbaPCS2wwlqAbJ2EnSXhKkwXtueYMXIA4EBiMgAADCcA0o1B7IhYjILwPRotdGA1AQYKnCimioAp2gIEL5OSmuxtAb1PEB+O4zpT-JmU0gPRVSzhSEMOgpuJEPSlp8co8U5IUNRK5EkdoVUmKSpkYbCB5eVggstg0CASYypxIlpBMOyBRSnxm2ZqfdViltTvKiNSKRwHagtTYo8Ul9g3QryPQwY9kToGEjkElYBigwvoYZFKAlTppVgnYWNL9ILTfQLWHBjcOT77T1GZhQIGtI2kHcveQY7ssQEelsAwkVA4AV3WMgQCYG9w3AQ9IYDrTPpQ05sKVQqArtUgJfaYdznKl4SZYAOVaSDKen8id6iXQYUhgNCvhB0Q8SIY6DuGC1uMl0AsM-SwyB0iZemKkCwBRG2C0RP9PCeTL4ilEFhLAZYV90Dg7ViAKdcMMDNBlhI6R7g1vvRCwD-hvhcwgYuQMVHoRSgKMgWc9LlD+43pH0r6SgUdCRZmgwowiM-UBEqV5ZaMg3mCKTjlVdRbcCRH8CJGjgBciMrcc5R8F0yh6gQnSpiMbGCgNMMLY8Z+ClD4jdMsDBwD9V9G0jxhpw44c-DDGFA1wTM2saAIGHqi1wv4alHgEhApy30m2B2UCDpHOzJ8Uc5kc-SmieycRJ4zPPiNcyypA5joq2RBAjmFAhZZ8BkTXMTBJViMf03FFXOMG5ysRFM5VK+ChneYYZUCXOa7KTrJVk5qclYFNCjFtivOm6bDD8Lb5lVvM7c1zp3LdlZ0oBLEAOfjSDnLVCAC4O8LmJzqf1iu0YqUShynmSj2xuMFoDKKyB7ycWpIJUb+RNFlSJ2C0WsQ7B1E3xzZ4yS2ffJ4AHzm518tUfBHGhhcv5KiWWr-MeCEA7w-80IW0zAApzIQL8naHvItFXSzRj8lDlvNxCVznRr0alM6NJCvTYguCnefOMIV1jpgffEhY3K5qQNIxp82MV22vIzTZShRMnk+TcKFFuKUU2hswPoDfwxxkiXyRRVMJiLnB6U50mIvgHk8PhEYSRbaKfydB1pvgEAj2Ty7XzTCii4aTTRYjvIhEvk8Ga5wrH2jcJoABsUnUGybZv40edhYyB6nrw+pDoVINUBMXrZzw5ClsbnwnDkLK5ZipyRHLeDCKmidimLGItIVFArFSQ3Kfzm8VDj+UrYy+fv1iAXjMgEfBtATzIDGJpFqRcJYwEiWRZuxkgXsauISV8oKCgEyQKAG4kMAYJlkAADKGsUJjsG2KFIByuTgmvk8SZ5L0kCiCJEwioMRIklhdyJt4kaD0pIl-FoerE7JFFM0TOC5l7CxZfpTqUNLml4AISSBBEkrLplSQCigZLHaDBiUUkvsTJLkn7Kf8USwoFUSikqTTY8IFtmctXENS+FHAB5VdF56lV3kUymibbPM6mxDJVAYyduF8lepkshi9hSYpxZ9KMqLkyQG5L+VwrIGpVcZK3Fmk08FeQvQIuYt0nx1zY+koFYbFBUML14EKvsEcq8x3RMYJy9CGqFElKTMygSv4s5MiwBxflCy7FTktxVOTmRbLAlXbDBFZKsVNPPkSuKegjTnKrQOlkCF3HCDFe4If9NkqJ7+1AZq8BYTKu4Zld0VzDFVcTyF7irzYfZLVTHkym5ZFegqq6IuNXhESHQj4uRV9XnEKi0uq8PIW+P0VNQE4gQdyVVALZES-UTElPlcLcW3j7VWE5wNjOpkCAXxQIC5VmAfERr78z9c8FxzVRk4k1ysU2NG3egvKnoOIRSVpLoCfKnoaq9lvwALWiRM1Ja1qEeT7AfcmJmcXJmmp6kgRM1Eq1qAVglmW0NOMmb1SRSSn+rbxHimxS6x0mMgQl64JomIr8hTo7Vf8nSVGtiDPi-AjIeNbiAfESSU1tixIK2vYUdqhIINPNa1ErV3KPlqk84aVFPW+Sa1CgOtaGCalRSm1XqFtWTnSnmwQBc82jBvLciSD0pwQX1WmKZU-45FxizNTLM5l-qopga4DdD0kGZqYNRa5wfBqYmIbbJFsD4MEF4FMS0RAa8DVNk2wnxGVRa3bHUt4mwT4JSErZeSDI1QSKNAk1pQ2uA3PqWmRGwDe8DOzcZwQGIGeb2t-XCA1oxi2RcREw0+r0pQ64ZR4oI3OU2NPSxkOsqaUtK-ICmzZYyEfXGCA4smhZZxv5zcavAvG7BrZgdoRoyWUKZ1GTxRhJ91O6ErSm8FM0ogrN4ivvOZvoq8kTN+sT3kGi8HqyvN9FIzUfWCj2bkwjmuRZZpc0xUmSV6OLCkCC1K0vN9g5zb5oi18UWk0WwwLFs82EA2O6q76VlucE1AxAjcNaFivM0JbDKSWn9YIroBkt8A7iuzR5qNV2w5FbldzYQ3q0ohdqMkK1U9Gdh2batUCNze1q3bDxqtHmxTkUGVVYrUMQ2khPQAy3J1cI1KbrZ2qkxXrn8IgQGpNqF40U5t-W7ljoRi39b6YMWhrbsIPVk8WtgWqFFdo622jOxRkF2G7H6DUxPYxKLbTkq1haUbtpgY7elrG2NbrVkEBoAHEC1Ha3N325QRDofRizdEy217iGjW3M8LI721VYyMO3VB9twuJOCYH4B+8+hAohHCUKPbXsZqExJ2orRtVn9nePKWlGdsJWngpoBkklbxkUjHzToikERDjt9TqQ92NAOpGTSB5qdn4dQsmsxRCHxMU66AnMNwHoXX0sBLgDiPDKNRA0xZ-4RbaJCp0X89+PMHVbHB7FZrVxxohrm0syB0o4dOcNbZrt35zxNtIq7bdwCt2X9TBOAc8DcDj4OM+ojIAAJwnADtIUWmAeqMCdC5C7EAPQZOdyX1wcIG+eZ-yVIUEBascjTC4C7JBS-ZDQD3cYiR5I8LIaAXPWWu7nFY+wGeg7h8BFlFAM9B6xhoDFDicxzCz8FwF5HAo0ZLahQCveHur3jo3d3UUPX1BtWqK+oGi2HB9iw0A7JV+lOHQjorXP42AaiwfYSWR126clRJfveotrLURsG1-fVW+B+78BVwZAY+OMiVajqqQrQRkHX3WTMA4+1-DUb5232lQcORwb5eSFfCgxSAB+2VtlyBColJRrsXgvPOL3ghPIXka-pYqF4ux792yDJgiA-mxBi9EPUVccAuFEQGIr4dtdwJYC8CBNUoVoEupiBQbZpAGhDShuA1jYJsOB84S-v32D1Z0n+0SOMm6q1EiZABoA55CrG2TBAWB0QCwc8i+QkDkQQEV+pWDMHuDoBnJReEqUFxuDPB84W3r7GGQDJpK7cGzpBrwGheNbLFDzs4LVCm4rQPkZnGl2BxcmPccbdikX1E8FeUsPXaUoN35rs4lhHtdg1QxCBDA9kb3NUFKhSqT9Z+nFfX0v2N9E+N3dw-wAf1P7o1uw3bCjuJ6WHL8+uwPXYbiWWlLNcVTrZPHBB2QeMfo2OPKOYBSR-wzQVQx9s0NVC6kuh1Dskefhi7DDXqYw6VQK11Jad5uolWHGZ2S0lDodMmDDtbDBcnUZh4xHUaY5b6AUNyqLFYYTg2GT1GdWwOrodglKxjge40WrqvEowgdRQc3ZPrxKs9bd+YRuPqqJL9H19WATfViqR5YT9A1CgADpYAwN1KtaNwJkDBBVYyx6pq8zlDQRs9IhKg8YEKhHG1DJx6QWcbrGXHrjK7JgPgGFgPGNRQ1XgKuGfg9Ado0J0AAAC9NwMQS40UGOWgnwTL3Soz0GROvGdI7x8EK-oP34CTgUEBqFpWcOuHpwJxm45ifuPYnYm3AFRYDRYCA1lAgNRnpMCR5Og8APxj7bSZBN3GITTJ8Zs-lZPsnOTvPQk75CAA')">function negate(args, frame_stream) {
    return stream_flatmap(
              frame =>
	         is_null(evaluate_query(negated_query(args),
                               singleton_stream(frame)))
	         ? singleton_stream(frame)
		 : null,
	      frame_stream);
}
put("not", "evaluate_query", negate);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p15' class='permalink'></a><p>
      
      
	<span style="color:green"><kbd>Lisp-value</kbd></span>
	<span style="color:blue">
	  The function
	  <kbd>javascript_value</kbd>
	</span>
      
      is a filter similar to <kbd>not</kbd>.  Each frame in
      the stream is used to instantiate the variables in the pattern, the
      indicated predicate is applied, and the frames for which the predicate
      returns false are filtered out of the input stream.  An error results
      if there are unbound pattern variables.
      
	
        
	<table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (lisp-value call frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (execute
          (instantiate
           call
           frame
           (lambda (v f)
             (error "Unknown pat var - - LISP-VALUE" v))))
              (singleton-stream frame)
              the-empty-stream))
        frame-stream))

        (put 'lisp-value 'qeval lisp-value)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtyPkCcgFAYDQSBEBgKjYchfC7Nker62oGEMUkixiQL3VSdJMiMPE-SKUohv64RRuJJ4Q2aBChn6QZDAWtCJyeQEAD5qUoFq2o64gupWrtLv6NrMMOwydO3e61rG-lzka8xqi0UgOHIHNiG6gjhv2waIdW9beMm-i3VFWawIWkNlphkaxs2lZtqXOZ5usI6+xOgFzoBshgdB8HetW-RPvWp5ife2JSfO5qnrIg7JidCK-pcDnWoYGResoG5sWRbgwgmi8EjdEWqC0RhBYUIxHqF8X9El6kfoay4WIVygldG9XVZV+HZYE5GMjA03FpKUAUa2906EBqmwc+-RDIJ83memNnQEN42VbVq6ubt3XpED-XnEMQP5CUKA4EQZB0DxNA8QuFE3OIFCqGIfRcgUQh6FuyhuFunN4am0UQUBzpC8UEuald+2luBah68bFCC6L5uy7b1ZprSVre6b0vW+k0p8sIUbfAUFh8G7qijHnxfG3wGQR4UMfi4nygiZaOgq+k5pRQqZResq+hG73luD6nlo13By-yGvuhb-712K+PwfYjP1I5pqBiDoDvV2n995-xiKUXOPwgEgLAWCPu+8f4n39AAhgbw2Kogbsg++UDdJPx+FgzuzhcHj3vqgghGDeoL2EOQBgxAAAehBAhuGcBA-Bj9Epg35jOVqLB6EMEXBQHegNDCcIHn7FmwIBFCMXsIXwkjW5UNPsPYw7RbrKF3l-B+-oYHPw0QWRwBcjFaLBh8fOiCJF4KkUfNBBoMHsA8F4ZReiDQGJ+M45QrjbHf3sdQ4egUTZWLLm4ghnjGzBMsVoRBbjVHoOHh1EE3JUThMfskpRsD1z5y1jHHKzDWHEHYTfPxB8qHSNDLOECm8GA9wkW-MQjCWFsMMLHcJVDAkmWCPE0S1lbIOQFr4V25AmEeS8tkjoWhCp83yS4TJeS6DcEadLP8r5RSsOoAoUh1M+HIl-AqKamThGkC2Ts3hczFnLNIGIMINF8KEXdMKN8qRkHlGFpc-ZFsYjnjYRkMqkzcn8wYAopR+zKkyJiMwpWa1K5wXoHEt6kLgUiNHuIxZRMkUyJWRCyFSI5mMOPvC0BYSvmHkKDXVIwSe6jBpGwdxoZSjUqopg+gSswR-PpQQ-+ZQPxqlqPc48REFTdOnNrKyNk7KOWjtncwlBfAkHGYIQghA2C+EKrEc4szZVolBAwWp9T9CFMMFQmWls3Sa0aWdIhOStD6EaRUloLC7lnCzsmG1rKRCkPoOQu+ZdTXEUpUwUg-BVBZLznakhODGxFLYqknRkDOmKUiVMseXro2erMeAsph9K7cuMhGtN2CyGNk6IDOgrlQYdICeFN1LFsmjTaMY7RasFCUBNQEmW6zUjEGLvKxtmiTGtvbQclYU1OwanJA8vU3aGC9Q+CE2JYSPhtomGavicsXCArtVUUgC6Ym9uXWLEdnA81+WncKlY55d37uPXUqijJDLboLjekCB64krpPWekMs7mXrhfXBW9bb73-tHaGKar6TbAZ7n5eMQr10ukRluwxTbzFe3Qmwt9zAl2uwkZ+sIp7f6wc1VO11esdUdwXbUhw8CvwVp3qsgKSHBIaH0Awa1UIaPsJAbUOE3B6PFN5nWpq3JGD4H4C-K+2V3jhK7c80UWaW05u+bEc8+HGSKYsdhw9uHwnEYRpu4evbNC4k08OpY0FShO2gmsFVt19qif1RJi+UnUQSMg++o9q7NxYoNIYRz4mQIubftJiRvm+w8IHc2gumHF06fbeZnm5LGLweIhS5j58TCuY4Tmwy09QT0yyyF2Khg15L3Cdy0AzQUbnrI-zD13jfEUP9Z24i55QWMkayC-Aii9PknPHuOOQJ-NCCc0For78JGguS+eLjbSeOhEZNU-VW85vAK-IN5LU1n36FBRXJhMLCU5mJXEwbuK8UTjWwtjt4WLtFDzUJ8j7qG3RO03EspAamOGci3+gs6Htw7eCYU1pOXmsqICY9+rDbaPvbB+XVr-Xiq5gfUCHbMOy4gYLM0opJSP45qoX5Wjc8F5L0xwXdHrtifr2rT3AnX2BIwbq3Mj1wX369LzTLInpWSfL3-YV1+78qflfxyGHbrPpNk+xyD0pcPc2-0qd+iKeB+ZxzkIoCAMB4BIFQBnNAxJhP-VSHXFyWQc0yyDekBeZBZOgAAD628Ugpy61QxA2-t471Ii8l79Dx7Lu3DuXwzRtjbmI7vA9ij5V6Prv1mfG4oLzv7ZuIiFHp26MptanssVFMwMQEg1rVOHTsPo9wxAWyDTtT94QABkVfeh7WHeEYSQJKDF5zxn+ryNR6ycDRl1IOe89zoKx90SAmZmZ6amVjeW8BPd9Ty4AmEZlPt+Z5FinYJmou-2zjtp9Ay-MYL+CNf4IpbO7oGILf0u6BCY74A7jJLs1+574Z7P5Bc8jQL8Pw-d-EFj-q2voXpuj+c+deIwEYC+dYFWusf+3+GOPcUuxSO+vufqrc5uzG4Btoi+sukcN+kmxWHCleqBz+fer+A+Ben6FkJYQg42Au0m8I-uHuJepBBW5BokeYpyDouB78dB7uMeFG4uJWk+DeE0U06BWQohDePMta9W-BVUcBwOCB+Bx61caB9eEYmESh2BzOtcciDC8huOQhf4Qa-e7+zBx6FktCgiuhLSCh9Av+seOhwiIWYiZAeGShwhzGms3O68K228XAIBgw6hbakhrq9WFh8iPWSiBBhhKhoBEBgRB8mhFGoor2oS4CURywRhJBJhc4LB4IKROGWk1+zOQO1h+h6RsQIhqhEBlekOWhry9AxaPqtsQRhBVsxBb++ephbaFBDR3qFajYehiB3BAe-oL+HRg+ORZhokUaJacWP+RRFGMxTRJytQ1A8aBhGR++eqgQMgheoAC0UhzOSx-RmaqGaRbh0Rhmy2OxexpIhxixvRGaZaZAFaNAVa5RBmAk1xlQexOgtRSRqQZmHx5qyQ7RTBkx3RokmmdhFGkWQJx6jGFRWxc44I0JJ+3m9x7qmmcxZcrhLRyeMQmxhm4hNRmJBsgGWGqR6+CJyhxJ9e+GCx7qsWnmumDJ7hhm8RLqvB7qooxm-a8J3m7JbRaQweDJZJbk2ht6VJiWQpSMQec0nJiRPJnuXIriwJIJw8xhnREJ8O4IjWMJ7qXWoKGx6WdJsRD4Ghy+AJ7UKqKS0mJpnxcpjB2R1JkJh+tpaxtBjJBsBKgxih+JRJAkJJlpIRzOjS8BuOeJB8sp8+VRGB1RGhj2yucyquCcGuyc2uaclgBuoJwaoaSiTCe+RB3W3uQg+ghZoAyaoAYyTe7IIa-wikxkpApk5ZFkXuwMW6LCJgWgwgAQJgxA1AoMwgjQY+4+1wtwFyOq+gqKzhe63Ae2COppXxBW4IbyXU-Mx+vmM5kgLh85ERdO3JWe9Re87yeyRZwpWpExYIMgPRJ565cyBpPpOqjhoiO5e6Ws55bo3xuxN5+x3pbkwKxpMgn5uqC6Nxv5dxoZFGwKcK8g9+15IFlGIE4F3AfxVp7qP2SGZOjcrsA8rRX5K5v2xAx+KgbKA84phuDARF+gPciFYx4JYItOokRFj5bkRFnq7KNFVEiF4htF-xz2jgXwbSZ+R2J2YSHOT+AkEYiuY5LgkGcgXeElwBBMMlUOgl+AxgIKYKr5AaKeS5boO0ClO8B5RU7wAgLeYMfJuIsFCKZcjINWOZLGdwRlpik+Ha9SiFFebllE-6XJsl8co8AB7mr5zwelSJZpgwLl-55gLlZOwVo8oVsQwBEYUV6F9aB29molcFH63lyOuo856wllv8+FaIt0YgLeq8PO0stZHAZ+FVa4Fm+ik4cE3EE5wsr5lV687lnQBGoALAhVR2+awIZVFVXhS80sAAPMNXVaoFxbqJVoQqKhCAACpyQsZ0C+CCA3K8DWLUhYiqrUC1DNDgigAADUlZkKG+Z+QokRbl4Q51JFJ151t2sQV1YgN1c1Ewb0TZLZ4Iq1+AgcxA9kW1YgO1uJe1HpR1okZ1F1Mib1H1Y181MNj1MNL1MQ8NMgSiDVSpLEM8AB2FiNn2+KFGlcc6ck2ISlKw9WI2H8iN3VSNaWG6wpKMnV41C1MkpN6I2IaNsQWiQlLuWVtl4CD2L1zQiNKkQIPsd1PNsw9e2NPNYtom+gmEd11oto2NyW8YP6zylcEt7IxeVlgt8FKmDQS1hNfSdAi85Qjso8GqR4BEJ4hk16r5jI8lHV36fYU0NNWsr5QVPtCV52E4sVhqUVmtJGWt+lW6x8ZNRARqRGTOFGXOk+BNk+PlRNiYzOnN5NcdVcCGMqWJStdNPliJ4GveIpc0dN7N0C9iMd3NMifNGlAtNl8FOdkwvmYtk+etUtVVVdsQpQpEBMDVPlvdYY1IStKtPdatWQGt+mKW2tBguttZFljCfa1lRK2VeFjNptzZPS5tEqVtIgNtO8SqR+YdeEqWTtSOLlrtFJ7Vil8dntzG3tsVdN-tO8mKd2wdVE8V79Z9-kEd4VAkWdsdMlUcKu8c6uScWuqcuu2A-lGypy2ybxk5yYGKMZmpWR2p15DgFkmySDg5xF0VLgeD5yDAWyqq8W9p+y6D4hXyGe54JDyDHyOqQ2SF-2RQB+cwJFsQcwE4H9DQB+HI3DMQHIfD0iB+CEwjzVpAYjzoB+1SUj1Ssj0wB+1smQJFajbA-o-DHDK5wUqqfUJF+jtM2j4jK5oqwjoqfYOjhQB+NwLe7ULAhgx+9jqgjjccKwNjsQB+p1UjrMTC3Avgje50Yy51m1oAXjMQB+7kfjMQrZoAQT1qYyXk4TkTbDUIsTBgATCTwT1ZoAkICTMQaTB+wAmT8TiTZMeTYAqTZjKJAApGU9kxUyE6AHU4UxE7U2COCE3n4+U7kzWSJEE50xCAAITCS9NNP9OgBjNAhDNyMrkTWNOBNTNTUxBzMqMLMAixN9NJOgATVAg5PDPginRLM5O7PnRrPFMrmnRbPcBFA7OVNjI3OXNHMjOZN5OFCVMxAjOxCFnOhOgMOIOkPAp02AghiaxzDcCMMEPMPJguqAtnJMPAr4AsAABW3ZQ24LrGyI1qEjQLyDJFtDDgPMgd0LuyKZToplVIZLYMlBuGS2BWB+E6JFE6aTd2UTK5kAdAaonc6qdzXLPL8qbL7LdjVAbjsAkAwjrjDAErwrd2orDjAAolI9K4q3KxdgfgAHLkCauZPauasj3QQAtI40uZrMCU6gsAhYsSzWoEzAVQv4swt0sjqpQmuOvUzOtxVgsrCazCiVO0Obg8Duu0vFRUEur+XHKmt7I4Mg3VKIXHLVAR4VBAy+AC2osgzrDKCnKaDsMTimvkMcCIJUPEuB2FCNJxtHBFAJ1Yn8SzzN1xKIXQqZX1thJYo3QiDTnBuwsCFVXcA81BuItOuhsWuq1tt2YdtRsEoovoumA3Z4qmueseWlsiMG2r1G2IKPYcDmXF5iBfD9UDHr1C1lTARYjrthKUs4GG1vCouXLGp0XylZB3sUVyW33Xv6xGrOo8X15PtQVMnFIgRvsogSJ3slX3iPufvPtGZrvBQ3tTkgeSVOks0-uHkAW30wfvvwfKXfsQe-ssSxbodAcfuEAl2OkuDSU4cofmA1BiD5xrSaKkBZKfugcqUUeOXMImD8AFyFKNuFpEdF5gy7sos-AtutxpVNQu5bs5QhwVkIfENLjZMBwoxJmyApkQOJya4pw66YCOVvCXTkCmAMCaIfBVQ3CkCuJsHUBPigfWxW7Ti8VvyWd-A8zoz+HK1xEQEWdPhygPUMBPUXSnLXWY27TmnT0Oded-zND2fsFOdEOkUKA3CNqoo9mhwu4kcan6fKA7UZC5JGDLLKDKC5NxznX2r5d63ggnWlDldVaiQWQw0Zfquhjlcn4Be3KxcOAiLGApdn7XK3I9cR4deFgRD-jAFvXI0Qgw1FwJfGBJdSiWo3L9dvzGA9droPXWDgiQfteLdgyAyqyNL3vl1ZB7cufggozaTTA0IFZ7egA17SQvIHdue2h7fhD26ucRhPfTOqTFDwgufBeDBXe1nghfdVm6cUAGdGexSmeuJHehjNB3fJKelpJXc3cTid47yLLJgRmIH2o3LOeMqiTjfnWbd7rbdkCqwEwrLY+l7eew2NfQ3nWI0+Ez4wWlFY-vfPUTgnV+dE+aU7e-cPeHc3INI488xnVvTwhneOK8oDd5SggkUOpS9bdMCk9t24zDw7TQ-TCBh0DS-giSPcAF7k849T2U+Bvc8k+kA8TOxO4tcm-HcADkfnVqD1DvzsGNSie3G32viv9HSiPv+3LNO8tnfPfvy7fYB+Qgwgj1wQj1dkWkFk5oaYj1IaHA8IKvmvCvxPwfBYDHh8EYIfGfPPyvzsZvWfZAQzYH+g+fZvhn2fQTYn5g6beY-m2bIEcBrCHgCBRH+38PqSHC3HLn4fHpvfth3AzP2+ffLCDXsQmsjfmbLfku7f2ibgy3XfafRkw8M+-fAY6TX3UsydtSm-k-EXTqhA9fLgPvc8IyTCJyHfbgXfcm7YNpB1w-H83HKm16BK4tQIIYDPB-XeY-l+VfsRkBa39jAa0FZIyE1gX9SsV-G-kvw7QU83+xGCDJ-07oA9JGLnHaATEX4IERoKyQ+OIRwFuA8BgvXHud3zo9t14ZXBRpgPkDwCSBtyZ2CCzQGqRZ+zfagJoDJwS924hlVATzlD4z8M27AzgW3zoEIEV+b-Y-rwOfLm0iBYA9qKQPPTwZZ0h-QgGBkjo78SKv-afIpSP5KCHal6IoNthYS1ZtU7qeVCQHv6yc1eS4LfunxY5qDnYS1QpBZH6RSpOy4-OVAqkIaQddOuJKwcAQ2S2DJ+Lncjo4NV7OCWErgyVIMhP6X5SKuFXDKOWgIaRYolAfACCjBgDAKggwbjqBwsFcdJ+ZXBPnVEg7ZD2oxAzSFVGNJ5DrBBMPwbpiQHVsWIkWFgNUDYhn4uK0XDgD5Q3CgcdonnCCHlQ3CQc2hXqESoMMeBjCOhpeZjvXmmEu5YuCwiYSvGWGzDrBEYNYUsPaEC1E2LlLoY5x6EBV36oHKsJ4EmF+FUquHHOBlQ7YXDehlwkKv0KXCtCdhnQ+4cML5Cj8QqZ-YeGwQCEaD6KLpPjqJC+78Us8ZlKgpZztQuDjhfhBwAfTWhsEGA6gEQBwFIAWx6suQQgIxzUF51Z0-wt-nnUNBmU+qbwsQJ1nJFkNGA+w2EVcMfrFkJ0u2ckYa0IQIjxMXUZEaiOEDoiQRUVUWqRRxHMjxhTSGlFsL-oXonkj-HaESK3pGDmMO0bEUogcGBslR-PVfhKIvoMigGJgkMAxAYhTQ1R3HX4U2y6hChM0oIMJB8PoTw4oqMsdrOSMpEijqRd9NHh8PpGAMnSTIrYVWVNGDBrRVAb4QlUbKTgjYLxBgPYy4hrDsKWw7gDaKDHv1fhHEctBGKoBcQOIcYwMXCMQrX0AeMgOsLUBOrHd8xewQsU4PaANwMxrEKgOEBc7X1CSqvUUP8I4i1jt+foshlvEpCWjwEVY+MdmKt6pAdoLY67rXiCEtUbRf8UoMmPDGRjZqEYFsaHwNARgJxi4mCIrBnFpjZq2AmsauMhQEwVx-bdCKHWdjggSxHASPr8LUAmAvA7URgCUMR6VDUQ3AC-lWIv52i2sSOWcVRWKT-JGQ04pIKmM4izUXxWY+8c4D7bsttwb4n4cAS-GcoMoqkM8WWO37WZyBwlXdpICk6mxWqQE78XSgPi-DeAmldocwmnI1jrOgJU-K7m3EJFfh6UE2FdBxBshug40D8aSNYbpQmJmYXwJBUBEdhI8X4aWFZhtjVdDAvwkidfyJCbwyJ0ZNiVSG6CMgaJW2Muv8O6DhBKuX3art0AzxbtQAy1AABKKsGAAAQXADgBFWAAJWWqQAAA8pq2QBAgHK-lGQJIDUAVDUh7Sf8UsmzGgciJYMCSTJPLSTjxAA4CSXgMfGeT1xSQY-vRM6CloIpRoSDrFMyDuS0w7SRCgZKMmmTzJVk2yfZKSmhSPwTCcKR5KNCBSXiiFeiSHAkkMApJuxLyYfC-ylS6A7kFWMkOZxqhwBCUmTF5ITGDcRupsYWKLE1hIobRO1M6OFivE+JbxqUqoTfDGnmRQx5aPqVP0Bq4SwJZU3qdmM3aSA4gGQENg4EBiMgAADCcH8o1B7IVFfaU-ztKxRqAgwMvNdNyCHTtAQIZPgdNwoyNzqeIPyFNHemsoXppASDpFgun3puhBcD4f9J74S57pnlJcIDxIo7QoZQ-GGb2Qr4XDgiZgvDrdECoXDUg1QbIPtIti-Jrp0Mu6aaEdhA0rpHAG6Qjyqj3SUo5IerI9DBj2ROgriWoSGCDSEiiheWJymDFBkXCQRyM5-qjMqwYIZRIQvsFOKXAsyGAbMtgK4hVGrSigcshWa4jCFkDEkhSWrBoLVnszCZzYX4RUE6ihB9Ur-KIcjnBkrSZYzMwIKzINn9TWw8mVIISPUEGhXwTaBuB8MdDEimaboS6AWFnpwYDBfshoO1idEzCXRtIlacHP9m5lvRrIh2PmMIiHjww9s+WQbOjFijnwtELAP+ElFyi+JjhFqoWF8ylB9Zisvnr7Je6VyNZEBR0O3UDg9ViAs9fUclQznqyu+Jo24WtHNElx2EfwA4aODyo2y5JAgNYZHN2E0iOq7omCYKGeQ-N3wFQflIMHFF51x0dAG6oBKjFUixRLIiCZBNHnZjK2U6ZQS7LBlzVfweKPAJCDvkhgHRIoqeSJT2GzzOgscrmcxiXn8SV5UeH0ZZl5TbzZxw8iCIeIaDZzVhB8sBUUH5E2YnUMKEBUcLXAfyQ5jyV8CbPsypAb4yCq2YcMeEJVQqt8++WOmYyniCxF4s+aHLlHGCEFHwnBR6LwjNC3IDgIBZuOnILg7w744ArmMQnkLuBDsMhaWMj7liOgWQQgBwuCkuUBxl88Ra2PT7tj+5GlNpEPPEVQtOFIVaRc2PGgucFFW8AecoseCEA7wqinyaACIWQhpFQ4haCOJsEtUjFwUlhZjR3lziICsi3cYUHnGkh3FsQRxbiGAXYDXoR86YNgK8XQKDQx41XoIvPHrcmFlFd6WrCpL7dLyZBN7C1jyL7TWK5gN4JfCIkcJ3pX7ELobMdCQd-pxpfJRRPu5qEIC+Stfu3HD5sA2ZvgPvPWW+6q9xCEYGpeCLcjHIGE8S96c+Nr6OEwxSQAZWX1dFOzVMSOS+D7mpnxQLwAmMGXgvxkfx8lfkWbFvKcXwTH0l2DZX4rYUgThlSyaBdkvXBY9plo2fJd4qKDQSEqv05jL4rwm-i8xfClzqhPX7Poa+ZfIpd1l6znLGAly3zOhMk7KxsJDy+CZHF0mZSGAFkyyAABlFWDkx2DbDOn1YXJuE96RIi2lcKNBfk6kRUCYTlTopLneiWFLWgYrCVV+Z2MlKiT7SJEsXalbMrpWgcoVMK+FeAAKkgRSVjKilYhRVhP97Mubf0FVOwk1S6pPKq5YUHSUcBWppseEMu2FWMSEZFkd6TKquip9fhxyclViqeHWC+VhsEaduHenWpwsPS2ZUUqhZRTvJUVZdmirclarLVK0rpeYDaTFwaZPvSvoMu1WBVzYoHPVcNNYwhhcx50QyHyvbZrRPYvmTqbNLcweqxlXq9+ouIDiaraVsahjkMuWnbTKkL9O2CaMLSfKGOqanoNmqujEykcrQHFkCE4kFDC1jUj5T7ztqkdh4TI8tcSyrIuqKG+a33rXz6kMSnoQ1Ftb7kSEJZ8+xavteJOWX4qHQMk-bm9T54tjnutuP4W-DnU1inVAsdIYEGjX0zGAAUjaVfgf53cJJU6vde7JJHyS-AjIUVVmGkknrZ654TLs2Qxx7re1rUb1izAVVPQcQ8fbqaqqegNqigpUL9aJD3W-rWom5PsOr26ncAA4D6wIJTmfXmxkshc0jJR3XXBAwY-0xNgFPKXjylpLxRkCctyU3xVl5IWdEepUWWrT1ky0kQpKBBXrcQ0khqXeqmWJA4NyFa6SrDfXvQP1rUIDVKuICgaFA-6woIBu6DKr9pgm8DaGCRn7ToNuTWDRjn+mIb9BjyYiFqkcrlD-pwQLdTfBPUVL4lemlzppv2n2pupx-coXutM3NTYuFm7qVZrSm74ZYHwdDTpp3Vub8V9muaVfjWVI4l4XU5qawyhXZTLJ1kuyeyvJBBazJIWvKYisg3NS5N1qPza5pdQaDwQGIGJahsEDCAyVJmnDeSGc2brMN7m0iSRrPUCAktGKxkCyrhUIq-I1WtlX+KXD9KDAuTCrbSuUmGY0tXgDLTp3oCot8ABMwDrOx7U+rrBvJNdkNrSSTbGqMkUda1GdjXsBtKy-9p6lg6zscKa2k9LdjrW18tYr7Pre+2m2YpcIeKObTxEeyAbD8IgR6jtrL4kVFt1QC9szhg5Lb6YKQTbR2jO37dDaBHVBr9pHSvKbYVvT6e7BpiQxBVBoW7QWsgz-a3thgD7YfC+2QQGgAcF7QTPw7vb9YEif7QRnzkyIvtQmS7dHwshQ6+WrEd7Utqe0UZqOuSHFHCJfU8RfVg0-VQGu3BBq8drYB9kajzXuqadPZTtZT1x1BLXqEnTCSCsYmh1bAJ29uECrF0M636fIfOYBGqw2xkdMC32ubFrSXbY+N2nnbXxIp87qIOAc8DcGv7GM+ojIAAJwnBpC7EWmPLrS626Qo9uvlZ3GtwfB+MJtKUXdxZofAqN59UOa+BcC1ljpXuwoObqUR287eFkNALHuE2aotRoYCPXzz91-1w9duvqAzrIaAxQ4nMdQofBcBeQDieo0jOnud2Z7XdOejtKbu6gZ66+sS+ZA0r6jNK-s62dDSNrtigcztWu-gBCE6CNKW9xFEnXrru3LIm9TSvMkbqpYCBqgpUG-n2kZDggfeLsUqCORRXM4L+wgU5KDFIC10TouG2ffwD-EJwc2h+kCO3z7TJYVBweM-f7vJ3l6lE4ITyBMgjTBB2QpPaoLR3GQxMkNie8OWWsZDQDhkzAa-nILImZ8z9yNI4OqpDDJ6n9z+1iNvu0Bc0V9R+5-Z5Hj0xBk91fd1a0FzlFBXwz69IZkPajZapQeBsPbEGM00ztNlm2zc1J+W+98DKwOA8ZO6lZach7IAGjaPIB9VCqaATAylioWGQ4D6BzyKAGX3wS44YhjAxZEENl6DGpmbCUij5UGroI7O96Dgd21K7BQkI12NCILitA+p0GnMNwAYC5Mq4Ksm1KmgF1GHqQou9IeLs-VKdgisYEMJvqQO76uajMrWljLchyCBdZ+1cGQEXhtIhW9ogA0CCAOwCwD0vSAw9WgP4HXwO+0I7yw+5AhUSpY12HQTlGiHxDcgiQ7X1QMCBv9vkGnkUGwNe9ieth44EIdU0MRCD3UpgBkJYBZCyDgwCg3nWoNgxaDdm+gw5sYDGkKDs9ZIyEcbryp0jUJLI4UTDn37FDEIMQ0yAGMcHag3+5-WUcLn6i-9FRuvQscWOSGfx9KaQzIcEMR75dIawaWobZ0u0yYaNLQ18rAXqRzWNAXJHYZcomHR+FhnzOhFJ2V8pYDhrCYxJcP4H1NWAAI+6rt73j7U2W1pDOBXIAAhTuGxGy0p8LI8J26HKvSbgB1wO8UgMdkyBD7RIFk+6RIFAAWT8AAwEiniFD2TBo9Ux2qoURODgndtkJx8foH60sA4TKJRE5QGRM8jCT4IdE3QExMH4+4nHUgI9XsjUAAAXm-Ej48w6TmRhk4VGZNfLWTqQowJ0DfhKID8PJvk6idEhCnMTAANmOlmmaTiptpMqcpaqmC16ptMNCa32d8D8+k-Tj4AlMWRjJaqNwOQEeqwARTK5aAAIlOTCAJAj1AALLmhQAxk0GCRQADsAADgVMWQrTZcFU2ILcAC77Tmkdkyiy5NdNXTPiMgI9S9NNLDAvpiyP6cPiimm44px6u3zECiJcTqfawJaemPpnQBWZqE+Wavg6mVyhZ90yWe9Plm-TmJlAOaYtMpn2zToW05Hu7NYgyAx2dwNOBdNuniznp4cxWdEhVn9eCJpE-dP5OPUjTyZ+k2mZtMZnUgEJqE9kNhMH4AAYt2UerQAyd4IAACIBmUSQZheCGbDOemGMEAFmXH10AnmlTZ5pkxea7NsmOT+ZiEA+dMBPmXz756syuTFOAx6z8gRs61GbMgXUz2RmcxBavNsmez2pmC+CDgtAXwQz5x6khdQoABWc07SanPWnwLnZwixqZpAVQlzPSe84+YshUWLINF9JnqYPMGnBTGJnC9ObOmzn9A2ZsEDeedMrllq9kfoF4E7iPVYVvaR6sq2QvcmNKjho8xbvADaYyTFJyPtwGJCkhGLp5vCyxfgGQWNT0Fg-EpZUtqWLIGloTRZG0u7mUSqF9c6JC0BqAt5ygSzsKYkvMWwTBFlk92a1MFqnLyl24K5dEjuWtLmJ4kPRbNNWXQLNliK6xaitEWFzeJlINxcUvxXVLFF5K55Y-NdNhLKJgU8ecyu4XGTOAaS7JcdO3mVyFk-oO4BqAemkr4mFIFVYhDYmwahVgk36clB6T7ZJlyk9wATM0nWzTFsCzlbstsWHTjljq11dLi9XwQsK-q84x0tdNfL21hs02b8vgg9OkoQhg1ckvLWEC9lh08RdisbX1gW19S3tcxM6AJz118Ky1fnOcWirK55691bOu7XeAA1g6xCAHNnXSzPp0c2FaWu3XMzq1nMxxcXMA3SLNVw82ifEveWumAAdTfgsBeAPiZxhZBskggd9LZts+FcRuXm8rGp+S3fwPwE3SARNkm49XJsEMJTEN8EOAGUsEnDAHAF86tUICgB9J-QUW+ScpPw3srv1qC3meZuE3ibXgUm6JE5uU2ebAwbZFvOai0E2ywCSU30AIhU3FrstyK2qeiu9nSLLNtmyrY5sU3izh8PEOlYysLXrLTV2m-dZzOM2JEB+cAFmzki-nRIirVo6FdxsQg8b-7EfqJHADqBFEoAWFUIEJPUmZbTVuWw5YVsrl-b8gfAEHfBAh2cb6TDLhyJoBn5HqagQ6jIEerF3DpVBE2+7Y7MrX6bD1mK32ZRLZ3A7Apgu2HdABxmXb31pa+nYesFWuLgN9uwHdztd3Q7g18EDbeVuq3wQ6tx2wPeyue3kbclmEwpc-MxQrxFF8k60bqg82vTuofSxZE1Zi234bBUQEZftlAW8Qxp1O43buvr3cznJg-NAB3t9A97KLRPprfy4l2Xcj1dgaDB6v12srad823actskX37n9yQI9X3u-3uAeIOa67epuD3IHc5-K-9eXOkWP7m4+BxZEQeH3w7vNie3ne7tgPGr9UIe97c3tM2Vyxkm2NReIB43O4hRUh8NdxP4nRLNkreeYHAAVjAgJFWi4-fwu5WLb8tt+4w+YcCXWH7Dme1reqCgguCKZkwPEG1NUObrtD9fK3dItMP1Gcjth0bFSv923b4Dp+0jebso2R76Ng-AY7YAsPjHHD9JnPfZtk2Hb3Nlex7Z0eFxRswgDIetZ8u1m0LFkKU7KZCAz2jr6F3O6da8fmPqH4jpu5I41OOYAnDAIJ4dZCdnXwncpqJ9k+2sBXVAQVkK1o5pu+O0ngTzO8E+Lh1ncGGFuJ-k9qehPRIJ1rC2dYus1ArrCTm62vesdIJ-HVT6RyiSUc629OqIIB+o8kCaPNbwgbWyo71uiQ2hYgQ28QGNtiP190FW+kIEMDKXpwt+iI6SNaCAHBlMAkA3AM75xHteR+hIzAbK1wjWGvxuw7LscPy6XDdy4sizRcozb24J3AGrOJdzVjmAUkf8M0HuMFqnjUI149wDtavleqNFT49aksO-C2BWbDga3xXh06vtRYL2szv9V11-QGh-0Ox0y52pIX+h3JDzUN6tdjDPNBF4HGCaHilqph8o+ywlQDJpUHEK2UqiepK7pd4IVF-Px7gtm21AJpw7xtgWJIUY52L7T3q6aCv0XXA4ffmHzidqSKCrkQdxRRXbP3gezmSxH01NW2Ko3V5ZAoBLuHwNXGLvnK1BLugBzon1hi62adB4BfrHbR60omNf0BTX5r7gJa+wo2vDpdr3QF9fMcpGNKPgoAA')">function javascript_value(args, frame_stream) {
  return stream_flatmap(
           frame =>
           execute(instantiate(
                     head(args), frame,
                     (v, f) =>
                       error(v, 
                             "Unknown pat var -- " +
			     "javascript_value")))
           ? singleton_stream(frame)
           : null,
           frame_stream);
}
put("javascript_value", "evaluate_query", javascript_value);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p16' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	  <kbd>Execute</kbd>,
	  which applies the predicate to the arguments, must
	  <kbd>eval</kbd>
	  the predicate expression to get the procedure
	  to apply. However, it must not evaluate the arguments, since they are
	  already the actual arguments, not expressions whose evaluation
	  (in Lisp) will produce the arguments.
	  Note that
	  <kbd>execute</kbd> is implemented using
	  
	  <kbd>eval</kbd>
	  and <kbd>apply</kbd> from the
	  underlying Lisp system.
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  The function <kbd>execute</kbd>
	  uses <kbd>evaluate</kbd>
	  from section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF> and thus
	  can apply primitive functions to constants and instantiated
	  variables.
	</span></td></tr></table>
      <span class='comment'>
	The original is more restrictive here. We think that allowing
	primitive functions to be applied is at the same simpler and
	more powerful. (We could do away with the syntax functions
	<kbd>predicate</kbd> and
	<kbd>args</kbd>.)
      </span>
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (execute exp)
  (apply (eval (predicate exp) user-initial-environment)
         (args exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6j0lTkgPXDhRxLSUO6ttKYIV4jXiVuu0d3UpEbrmoJuck5UiXSBJXYEaCwFCzF0JYS0vWe6pDW+tvam2jKKC42ZYUY13FpN85hDNLF1JGX7qg7PQoRS6Hz68tPyPYrDFYuxYVLZHdk8FxToE+AL1eGb2X5XNVhXKtMlXiy7fi5DZaz3srg-nJyTbzCgrpthsz7a6DkQ0vNLaQ8hPyxw5V+6DGxzydm3sndM8FoTYS-Btnu3OfqIOaYTxUH9pqKOSA436dzWrvigllmc9kGkl2+0ANQ2f10k-0rT83E04QDnx0nQtFKAeGxRcl8QTCpigMwmgzrx6iey+WtQwMLzsCHRwOEUQOoE1Fkn-FHyaV5UXT835FVXwJyGWW2ikVNQhxwh8R3wSEtipVfHrzsAz1H0EzmTGm9l20wLsEYM3C9XEO6SHkEKYEFEOWaAslHxAjoIG2gOXWYNEDn1H0GnUMFE0Ku3oKwNXT0PgKjVUk-lQJ4KdlA3kLohrzuB6UuC-yL00EeEelEI4V229xCG8N8MiGAn0mCBkMUGEOtTkMWXUSGQaDcJckBnSAj2xV8LkKMAAB4gj0iHo-94jk5vgg9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgZPHcUAAAan92gTzUeHAnkycKME6JzW3A6K6Mch6L6IKMcW4QLGKmD0UHKMqPwFEGPFqPqOPkaO51aJGM6MiX8AmPwH6LEMGJ3HKlGL2JgVugTUmNCNcyUNKAqCqFUM5Qvy9T2QCAJn0GcDKFmkIO2E9THj8LULiMcQNm2CVRx0yL2O+C+IeNmguJeTICQITXsPcl0gBj2PSC9TEmNQ+wGIROCCHVuIRKxMBLwwGNlVXVuKcRSA-G2GFnGBxJ911TJCvi4O3zRIXnIWiRKKBOkHKn3CaFYlADdRpOSCjjIWSikT0MtjwJENdn7Cmi0TWD0OeOMJyDhgRP8FVIkJbA0LFMjnziILBG+OoF+JznWWEVGS9UmTeNAEiHeO1LINhJ+OGg8O5KdMnWVL5OcMkKDio0hPxOshhPEFNPhOCXIOQKnG4M5KBAxOsixNAyZO12UyhMcmCE1GHCJPURBJmOSFJNJXJOOMpPXWpNznMBojdkYkZMCI4LZNRM6U3h5JKjtIqiFNhBFMFBvDvHbXdW2AlLBKKGlNH1lJAXZHlItMVIbm9NVLkL1JMOeUch1IUPnI1INLzkNPMKjxdLNLdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIlbxQi13myFzPQAh3BglvKT2AKjQ-IIkcFglLGSV50fNh3ex104U8kFSkV-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-v7vHulvHAgUQT2gmz-A3u8ejvxJfu7uAfoMDvYfaeIeGVYQ0omVofPv8eeeUhMzqN10xfEuETIjnVhe7rtPsf7TulUJkODJRfgeWhxeJfkepSXr0fBfMeFu9e8N+ftHweAgl4Ynpeuuv4aeeeEnthlfHf5fv0JRff27tPIi9eA4jfHIA-zfXwQ+KyOPUF-fV1puuf9CXeNyig6TM-zAeoBL5BsuojFfmc-M2AL2Hibu4OlIShruqg350gy-wOMpNRfOglghm+DWglA8SoWAjOqo7A4vWFuy7Xv0+yc+S-MJ8-yBsuoKXrB-tlDvvvxJNtQfM7XwpE0vLZ5+Evv0UXa-VB3VoLkvxJt+blV-twO-fOl6epNsGgMo4RsUCjP0g-9eog99IitHCnX-ufAG7-DoUDP+igP-g-1qbuch0wAhNIPggEACL80A0AXg2gxwCoB9-FEhlHHLWpP+qbDQu51+6YDlCGpQBtnS-h4D-8VhdzpEVv4oDH+JAg3lgJMIbcG8H6DTr-WfK-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-HJQF623C7KpWY-AuYWGJ5JquIizB4LEDhl6rY1zgk1SqILUDIr8F2L1mGtpFarCwpEnbqmMSXLxmWEE1MYM2RSFgmBdEjeF2KHDB4nOmU3QTpOsmbw3eLa3fpOuL5SIaJ4kKlezwomTrweUicxuuBnTWSTVptRyKyqREDcdw1krlZkJzXQ17of3cqCepSlG88WmU3QKSM3W-ThwO6+NWKSjl5xAMXpezpYCaXjqQV8qhNeoLUmWxJlsgcjF0vbmDsOl-k1tQKt1lqD+Ii6+wCCuikrrYpCG9dS9WfUzoDpEUvdTZAPVwSluASiPKeuyDnqAgqgS9UevpXkbb1yUSIuUsgi+VcNWgf9e+vI6ILyEBcCrrMAJUzTg8bq2kJOvbVyqxN0zQLh4snV8tAu1kqZIlKLSwiVcAmkTd2DE3kJh1f6ndWgInWZSxSUiZoBlKU0WIHl7ksSRJOkk4rJg5m4SZZq8nvL71Smx9b5WM3qb6AYpKaNuAqCuL+NgmqRQkq02-qskM0vTYBqg3GI5+0gALbOEtiYqXlby-mAluxU7jtOLG0ke5r+VeaG4Pm8oH5qUJH1qAQMo+nfTjXojxNnBW+q3lK1wNE2DazIXyyK1Ayb6tWigAuGICf12Y9YrNTa2AS+w2tKSWgF1q1hYB4+BNBrSiIIw0bGq6rYYr1v2VP5htxW5TUoQ-orbmEDgEbeVsbWVb36W2jerA3a0YiX4WI6YbiIuH5C7Ej8BbRKyexHagQD2rWBWvjXB8vKvldbS1pwRzADtcDTbXQBG2alxtLYwwlxu2gzaFiWrcqLdvJqcittK26-sIjQYrQgIO2zIXvnykWrxVzqwyCOWipjaIQsrGHdXFEDoNY80apUE+1pVSh3xlyz8UiNbG+Bgd4UWnfZ3p3gjExCTX3ukCpRvaX5oO8NeDsvWupqAhrHcDDpzTI6FAiOydJBzzYFsckqOl7RVs5hKlzVPwoqdKBtX6QKQCwe6EoGb560qAK0BEuS2e0CCESf+VNiZWbFSdxAE8yeRVGM7VRjRCs4fjsTG1c66VcujDt7FNZXNux2KD8SatXIuDEWvO-SJNoZaxIIdEHNDlBwV3dJ5tka3VTaxzQ+7oOg0JeuuMvA-buK+Qy2AAE5XwefBwIJRD0-1PSUaASvkJNX-k3Ad8AeMXzd6QkN4CgueYxDsCBERpAQ-wDXt4qKB2W7LcqGgFH1UbqIMQ6UP3qVBEiw52wafXXtcCIp8pamIZHYDvDlY85m5PvWXtr35Sl9shXQMyG7bT6m1GS3itkvaBQRngI6tHSiJtEC7aRMe4XefqyVmoclye1xFGuzWARpAmSy-ZKMRovUMoM2iNlfEtjbgpWqGmbSni+WToO2swPCAhDsFwlnJdc-iCAeP6vU1AQITA8OCLZXwxSLehpngcQ0BBp9CxW8HeAVjB4TUDzDKBg27I2UP1k+1HomstjbtagXbHtlG3dZ4GpGz4HlRGAoPbgqDd4RA0nkYAhAfi0B5LmIeYPg8KDfrPrVqDn1gRGIO6+zo5yLACa7Eqh3veYGk1Ca7BCm+TWOoXz6G3ZIhgSZlKwi6HZgJqagD6PtDSI3CaAcfVbP1iqDyDu+gfaIfkPVKbWEULcRTCYNiHhiHhsYb4ZwgRScdEIfKZroMja7HIyh-ZXpC91gRO6PAlaFqAlGPr7doARwL5UMD3Dlo3+lQwEwuVs6Q9Y4hDP2QjAIGkDwoMMmv3QXW5X2TgPVXgcWTCgmgDwamnUpEhagODh4ndrno6OhiCmUEUFslyGKCGw5wsZA30bJo1VwODwNIrq2L4iGqD2Bg9oEf2WyGRITB9qGePMBKHLWqetI5YYFg8bEhEPTQw5wVY6GXOkrMg-4CMNwzhNphtTTuosNqGaYjEJYxQRWPjNtw6xlLCbJ3356-DAR6yXYZc5hHbwJx5Hncc-UpBtjARqA4lAYDyGkTEvBfbEbtVfDEjTkPHQtAuKpGJWd8w3Vel4Hpq8jkEAo1rVbglGixxO3I4Honp06ajL8IhB+sEQdGKdg+2cXNAE2dh7E2FAAEKuA4QAmk1uVElOaBmVnNcALIByCMBXIfCVbOVFEkLSJUoAUSdQCDQ5oeAPe1CMPuWxuitA7qQU3qvZYimvqn1CU3fmlPkBZTsweUzuEVPEBlTxeNQProkrlRjwlAAAF7LANWRCC02CatObHXwtpvrfaeC6kwZAywJUBmldPunPT24b08qYABsI0gs2aajPgnrTS9eM2kcTOOTRTiBqNhmh4neNWQgZncAJL-D3BJAwxWAL6ewrQBZQeEWYBKmGIABZP4KAAEkIQc0AAdgAAckZ8qCWdjNYByzErSs8z0dMNBnTjVesz6GFDDEWzWSugO2fKidmhkfp2IAGeGJFtHgpkdU-7uLMxmbTxHTowmZFMHnDgaZ7ClucbO7nWzB5js8qZQCFmizc5+82fCXNKgVztnXHo1A1MOB5idZhszufKh7m2zf5k81KZlMLSPT2pr00qdnOWmNj7qRc4+aFMQWgQzncUxmgABiMeYYtAFh3bgAAIl2bvw9nGgfZgc0hZyAMBwAqMsXWNnNPAWCLoF4i3aYdNOmqLNF8qHReGJMW0Ld+U4OefKiXnrzO5vC9GaEtxmRLz5pM6+dTMbmFi1FigLRfouyWj8AAVkLMCX8LKWTS6uxIsvmqgwoVyHQDgvYVDLYu7cNJfKimXOaGZzC1mZzNqX5zhFsC8KaTPkXaz2FMoseBJTlBXAwxZ5Y6GGK805LjVSUxQTZ3DFJTvFCAGnANNGmNWugIFJMIMB3mNLRFuy6JaTNrn9L5RGKyyHivlRErLAZK8xcaoKW3AwxBQNlwHmkB2GPpoKyBdssHt7LOllMxKwzTRXYrjVncM1datDIgUFlgs1ZfUs2WKrI1qq1Wfe7QXnLrlu-FNYaseW5r5UFK6S3Qtun-L2F7M7hZWvBWyzWlisyKYit9sM0okklC5fiBNntwzyieA4DasLFVT9RGC1qY7NMpuJIs-K8ad0BTmzTpVwS2tdCukXFANV16+9Y0BfWfrhAP66lYWIdXEL75ZgFeeyA3nyot0FVPEBU63Whr61vpKNa2vjX3zd+N63cHRsJXfrylIZCNkAtU3yriNhyztdgubhUbLNz62zaxsc2zrd+T8-je3DIXfzR528-DdLMCE+bOlxyzBZctC3zrmZq64FcluNUAA6ssAaCEAfQylcqJJJcDIHFb1l5WzgFVtVnnrooDNEbcYAm2zbwxS25If+vbhwAMVrU3QAjz0WKiqgUADxJJSh3DTxpwa7zYevLmxL65l28bdNvlBzbO4L29bZxuZpZgcEAeZihTY7g7+jwYYseF1R5Qbbq1u2w7eZ66WJr2FV2+7dTue2rbql3QDwCWvLW4btthczTfuB03meTt2q+ABDZlAOLO4bmgqwGv62FiBtnBH+nKjgAcuioUAM8u0TYXTTMdhG3HfAsJ2h7I96gGPe3AT3cL09zNGYyGlUBsUwxbLi0XwB6tz7q0q9BXbuvDXabm1muwzb3vMAD7V14+1PdAATmO7PNre5Ve0tbX1bu1rW3fmHvf3D7f9n2w3ZTtp3twGd1S8A7tu92nzj18K2KcissWVgFUjy4aYVZX9T7LZuiJlfKhC0w7ywD9A4Z4siyxdPAXM5varvb2wrVZlG92YIe6oiHn1A1j7e8YrSeBV9uc3mwQii3WHC56u5BdruM3Gq0AHh1YGGLEOBHQyHgDDc7tlWQHG1sBzXYgeC3arijvMco51P8PSHKp-e3A8nvP3qbmD-u5BcHsZoBJTFby6IANuuBNjp9wG+qc1NZnJJA8kQOAD66WAc0ZlqRw+dAfYPOH4l7Ci474QyX3HnjwRznYyh9RWEwxIrtGFTO2PY7UT+O2NbfO1X4n0gRJx45NHKnFrllru5XekfsOkb21py4Y+ceuOdwDFpJxU6zuIOPbFtluxJQif3X8nO9pMz-FmAOcuH8l-051aDOhnwzPtvG19eUvE20HNTl+-Y-fuQXRn4z2J5M7PPTOdwwZsM6N3mdTOZb3Vh6L1f6u5O1r6zvR5s+qljPHAEz9q6c8WeE2VL-T0+ws4vPvPlnX1sm0ykpurO7HMjlJA8+2eJ30lqTvO2TdWCZOFg2T7Bik9zvpOC71OJ4CXbLulOBncBqNE9m0R0AYrm4Ug4MeqUjGDVYxvdo+cmNhN+DcxoQ1FvUF6ELE7Jyo0Hu5OxHaje0jvDjmZeJsRdjcJSQmmcPtmxt6QSk0qBpPZHmwHJzWqPme1W6CAxRopfEl13mM+BbnPBvknYHj1J64QXOpsAtRjkCXRL4U4XTkdZ5c8tAQCCwAvtDIM9ieoKNkAvurV8u3N0q2fDwB83zXn96Cx9Ztd2vdADrmDkoGderTXXXN6p1GaBOah2oQAA')">function execute(exp) {
    return evaluate(exp, the_global_environment);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p17' class='permalink'></a><p>
      The
      
	<span style="color:green"><kbd>always-true</kbd> special form</span>
	<span style="color:blue">
	  <kbd>"always_true"</kbd> expression
	</span>
      
      provides for a query that is always satisfied.  It ignores its contents
      (normally empty) and simply passes through all the frames in the input
      stream.
      
	<span style="color:green"><kbd>Always-true</kbd></span>
	<span style="color:blue">The <kbd>"always_true"</kbd>
	expression
	</span>
      
      is used by the
      
	<span style="color:green"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      selector (section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>)
      
      to provide bodies for rules that were defined without bodies (that is,
      rules whose bodies are always satisfied).
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (always-true ignore frame-stream) frame-stream)

(put 'always-true 'qeval always-true)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNA8QuFE3OIFCqGIfRcgUQh6GIOhKG4Gac14i8EjdUUQS0Cgsgmqaalmv1plKdaXMbFCxu26a9uk5pRTocgFDOxQdpmyh9pk-LCAYQxfAUFh8BOqijG+37G3wGQ0juh7Joul75roRarvdVIKmUNhyEq+hxse6HXqKUphp+ZHUfRuhMah3a5paOGcdWRGGHNagxDoe7ZtJp7Lv9PG1zptwGaZ57Weh2H4f9a7UjeNjUU6AXyep2JOZ+cXqElrasfJoXZbDWnUZ+4RyAYYgAA9CECHmMfOmXpNKRLiAYJqMe1lhdYYRcKHujbDGl57rDQnTpgdp3fuEXxPb29WEdFYx2hm5RIbZl7LZaLnI4LRwxuT6ObY+UbmcoD3za9sORdp9gPC8EP445xOfhL5Qy-z2bC4NUWGECz7mC0HPy413Sq8bVus47-n64phbu+bjRCBBblUS7hOJ7YYP8fXUb9DtxhDeN4hTZJ4fvcpxafeg2cQNBhhTo9tGxH1o2TcMZqu-VseWlIUzy4s6zbIclwvtm8gDY8ryS8OhaEKhFNeghCCT2Dsibgl8whFndMKN8qRjbUAUEragOYbZr1Xg4X8CpAoQKgc7UgaCMFYNtpcGeMDBCkDEGEGi+FCKIPbAwc65RKGDQxsifBDRzwmwyGVIBK814MEDtAvBh9fYrENloEQ+s4ZwXoJ3Qy0jExUKqi7CG7tcF0G9qotRtD6FSMMSsURC0lF8xZjw58hRCGilbqdUYNI2AVz7KURxVE2H0DkWCARrju6xGaJ2DUywmEngVCZYIuj342Tso5RqGjzCUF8CQABRCF6FViOcMBSS0SggYKfc++gN6GHVggmIhCbjYkvoCAAfL3YBY1L7q3mkbBhZwBrJl7t4kQGD6BS2HuU4i9jUiUFIPwVQi8RpaExn05WJDajUGnrHbGj9FLy2XrMxWCzKRtBTmCXejcm6NJXjs5wPxOgbVujQLBD995OlyVwlwS9Pr7IzkYSgChc7DPJK+UUxBJopLeVHVOnzvkTAqXY-iboQl+XCf8f5qRUYfDbtnfmHwIW8NDIQ4RsyqikFRQPQFGKvm529qPeFx4iIhnPASolZKz5UUZIZPFY16UgWJZ3TF5LOCUpDEiluMLGBOI5W3b5TL1yOihXxFaLgxU8slQWPy8ZqUypdMKnp6cwUGMqVvTl7cSWzQ9jysIfKqYquyeSHJXSWLH0KWDBw9NGZSluvdeBIzNXVP0AwepolIROp5i64QcJuBuq3o821blDDckYPgfgDBCZo2yu8LuFTBXapjl3JaFJirUjJS1IEmbM6GpznnVWXtLV6rlbTQFmhcTFvBeS3VpR0iZF1WsSBM1BgxqEIUhNSbiYewVaW0lWL9GmJiL2uNA6TBExTR7XVE5rYgpTlmk2Br0XGqbRMWxjE1XEWhTW0Ug6U2z3ccCUE+hT2xS+j9P62bDLNDbWweFnSsDgNeTXOuFaG4PIqeecRjJv1iPwEHLuflzx7kLdSWN-aQI3vvuIw8MRzyBrvsGmD9rT7od5lKaDKHloCTZfocRbS5HCAUTmSxndoMmMnehXDmHuBLoY0UUekaP15J6f3UdLMhn-s9TWldnipX6F1SR1uG9b7OHuRx8KUbzCvOdVYw5v6R5UwA3m06jISMqZzkqm20mt53zNupve-LCgqc+kDP6hn9D6eejZ+9KsyYF1zFRdWflCGnQU1x55PTENmbc3+0eFTrN3uBvZoLjBIsPqOSGEjMXDPX03tvOTVN6MPL83gNeLU5CKAgDAeASBUB9TQMSRTyRkVK2OmmoTAkbq8B+mQNNoAAA+7XFIR3GdUMQbXOvddSL9P6-Qd7mY611l8qQX1tZiIN6bYoPxqilLvBT4CjqbXs7vSIhQAqauHn58BopmBiAkJR4+Tadh9HuGIHNoznZLh5eEAAZC93o-Qe1kvCMJIElAbunaO9xm6EN6v7ePWM8gZ3agMEuwJ8E4bQH+e6XFkGYNw1g6PQJOY+gIy704+AldjmWYfFIXQMQbS0umb0RUwhl3wTE60twUnfXKcyfoJG47qRGeY9iA90753YdXvh4zpH4DGfOeBrz6t2PPu47rEMOXePzOTE59xiXp1Uvs-GyFl6tPNU44jMr3XqugcBZPXO5NM9nv64h7dwXl2eUWRLEIBDlvibwkm0N+3MPHdkosnmUhDpE3u5TZ7wb5xwHJdR02pahDDcK4Tw+b7pvOlR9D7FTXxn0s27-PHpXCvMIp4J8D5Fd1HZ62z9T2PCD+dQ4d1ep3ol-aV5viZ5wYvuMt8e67SQZATXfdr16jQgMXMOvBvdbgSewLF-W138vAcwPB1z8sfPIwjcK+e-yJ53SHHCrRYPEng+8+apO-X33jf-eiV41urSauAtSbbzn4-q+DcF+T987fVXabnIGTPz-tujWkO0OF2l+3yzu9AEsFyjYVeHe4QC2-oZ+IBQuc4Te4Iv+t0jYXKz0neAWGBPwm8bEKyNeJ+Na9qgQMgV2oAeI9+3S+BjYeyoKYIK+fOmq5BlQVBpIc+eBkB-SmBdMriZANymCacL+rBZBBSFBVBOgJe5uqQjaLBMuq0wBDeqBV+4IxauB3SK6ChBacebBV6Gh7yqc4IzOeh3BKOxhMcB+RqucJBsQr+Na0+setBLEI6t+O6+hThcupqrhbkG6NhZanhQ+NaReWKFhLEAKQKDaVhohWKIRQBaQGQ-+5KERbka06wm6h+zBehCRyhSRmQ8uH+5Kshu+w2XIZcihSh1WPuoBah4Bok36WhLEIG4iJB4Osu6+m+KeZuZRdMkCU8Z6VRdeyBfuDRDOAxyyYefh5g5iT+1ewxb+XRxRX+4udCWu7eRo7R4hnRgwG+KxX+DUeWrUhWHUJW3U5WOg3+J2Ey-2wcBs92p+w2ckHAQg+gDxoAGyoA-8v27IEy-wikxkL80SBsFkI2rxLyRsJgWgwgAQJgxAIhwgjQSOyOLEK6OCWibs-e3AZGgmHRbo9O7C8ia8phS6mJfehKOJS+Xmaepe3iUMHCOCMgjxduAuF+c4MgEBDJxJeSzRbkoi5JOizJgBBJkhHBnJ1BMx8qeSoG4GwpDWopqKUhEpXBtJAW5iii8gqmq8LJAk7BlBEpMhvRaJtwNsomBYcyviupipYI4I5pxAphKgPilaapfR9p+gp01pNRbJdRYIp0Fk9pfJ5g9pvSviHpVEXpH2yxWQnppRLE0cXwd85OVGNG-MYWCpLgEY-Kke3GYqcgoO6Z+JLgOO2ZqJQ0jgiZNsLA0Cvewye2WOboCEq8tZ2WnS54-2Rm0RKZWpOcjIL6JwZZ1wpptsveo+wMZSHmUqHqRZk4cEY5f0E558UprUEMkuC5zZEMzw9ZOxboOO+Z90y5+5NsxSR5W5DhDZmZCup5xpQ0BsFG3ZyiGKtmuolEL5oALA6wRmmmGZwIM0Yg-285uoP2IkHA5OAFa4SwoYpQTZ6Jo5qOi5nQZq75n5VGgSzQoF-5qggF8CAAPL+WBVhRBYEjEHjMCdOOCAACpySCRCC+BGLNbPQtQ0iTG1DNDgigAADUnxhiLO5OQoy+z58CXFjp7FXFrGhQvFYg-F4ZQFxFoAQJr8lF1FMgxA9k9FZa1IWIk81ArFoknF3Faikl0l8F4QwlFk+l4lsQRlMgwcRFcZbk70a5-0YmqOvySI3GC0sOck2IhZZi3G062Fr505fYD2s2JllleMcMXlRA4mk6CZ+ASZV8FiPZaZVMclRk1Iz5KkQIOO4VhiswcuRFllmsAVmEgle8EYdlVa-krYSCC02V7IN2dawKyVj5e06q7GZFgFsSv05QoAiOhGqqBEESfYdKvejIeZo5lmOKmqAVR5Tlw6veE6k681J5S1g1Vq8YM5nl6IPlFq764uQasWz59mrlk5bl6iAWO13lJS35IY4CAV8FQVOaKwoVyR2F6VJF+80V2IxV8ViVD52pHGS6zQqODVuV5V4lpQpEOOEFr5n1QSsGbxZVLmSFlViFe6qqAqdVcMDVHZ+sXZrVqmL10wUS04Z1VkdAvVIg-VEM6SouG1eEB6hkY1dNQIk1BZ+1IVs1saG590C1fNfIWW6Eq1VEi1m5jNNVm1O5LyUVu1t1i0OWsgeS+WbURWnUpWPUGA1xKCpC6Cty2CeSuiXhiRPpKBYINC4IqC+tIhQZLg1t5CNsaCk8thZ6PCeRxZ7+WQNifm54DtBtnCyYWGV6zo9OcwjpsQcwE4y1RQ9OHIEdMQHI0d9G9OCECds5pAydodhhx86dx8WdfshhTWmQjpxdbA-oMdhQ9OwUk85AvgjpNdqMdFBoldsQ9OZNCdZNfYrdMQ9ONw-2dMLAhgph-dqgg9LUKwPdl6c44IHF6dsQ7x3AvgP2DS-8XFzdU99O7k89MQi9oAy9fq-8XkG9Kdhhoa0we9B9AIq9oAkI+9MQm9hhwAO9BgoJ+9K93xoAYAJ92dM9AApC-ZfR-f-H-ffaAI-TPb9vPUA4fQ1cvafTPQAITCTQNv1X033INAjwO-22k4WANoPAOgB4UxDYOF0z04UAg70wPX2f0UMkMQO2l1L4NL2EMNL0MIOMOUPcBFDUM311JAjv0cMQiIMv2f2FA0MxCIOxAPHOhOh+162O2B23qCWAghjepzDcD+0iFKPNRyN5paMUKiL4AsAABW0JhaajI+yIfqqdCjBtjpzhNiU9RQBjhtzyHSRU7wJUdj2jLuxqjIl29OISjpISzjbG9OkAdAaoSs9d3DkT0TKSYTDGfdVAY9sAkACdo9DA6TSTk6KTA9AAounVkwU7k6YvTgAHLkAVMv1VMVMI3oR6NeM8A+MUJ+OcoqMAiWPYjCg0N7l7yuO9JZzGpNNUiDPtOGYWMrDeq9MNKOObgtNkIB3tMePi4DG4iDNMkOCwJ0LHyRnzy4jVBLYVCkALx9YMAmPkB5gxqkKaCxXQSDPO0cA5xu2SJLqXx7NHBFAHX+X8QfRE2dyRmyLdqA0qLQQTzdr6CbMylPUGVqLjPFSu4LVlOxAQsiBQutNuPJiFKmPmMsamIIteNItLnC0ND43NW4gAsukRQcACD41iBfAfkwGaltVlTARYigv8xOhHEq0nHtTFZdRlaYDf5vDjLkCmAMBRwfBVQ3CkBlyB7UBPgik1HpAtbTjOEKtPiTAhgFXRlFExloyKt-Cq76XggMCiX5pk5SU2WK56uavGvasrDNAauGtatpHmATQ3BvJaIwmfJWvBUy2CDKDKDNYZArxGCwLBsf0tRcUObBsNXgjsWlCJvyWiTmVcXivKAosGiJtmH+vLkOAuzGB+us5GITmXxLZFuFgRD-gzmSWmsQj6Wet6zGA+tSjeoVuFtozGA7P0JyjCXWDgjusqh0BVtMBkAKAOZ0KRll1Tt3Y6uiQvraTTDNyXaXyvYvbSTIIFFZARjrvwHtZRl7EK77ugCYOiTFDwgLu2uDDrsJuXtfGisUAStSuxSytlzruAmsLzxTEzx3tvaqIg73S6LYuwEYz7uBLJuNtcVduEo2wbSTs45wJzsmtiUTjsUWuo7j4Y5zFU6yantod9gYf6WwfGDjukCIde1zsXzTuoeqLwjLsnKkdjRiSgiOktJlCjvdvwcTuOsru0xNmfsBicdVsQhp3cCXZIfTvWi2j7vcDMfkc8QhjNySUocLvggADkFrtSwlWnynlrfW0l67w7In3HkrBYpAwcUclnM7M27190arN7+g1npD4ThhQgwgIlwQIldkTOok5oaYIlEyHA8IfHMkzHTnLnFVCuUX8nXHcHinsswS8XxbOOsX94WQ6XCnUXN55glz1zygtzIEmuxsHgJmJSRstn-R2l08smG8ssh07nkxtX9AjpuH2uFXhA2bNF2I+X6whX1AmgKWpXMcbgvbHs9XYXSkQHY09XC79Ol7zOJ1p8GOk3+nG8uXLgLnNmv8BsJCZXbgnXOagqP7LXJMk3MqdKMLWVQIIYWHK3oO7Xmx53lXG18jB3xglGcCjI3q23P8zAe3I3Jm43R3G1hCoiYNvxVtU4jHuMGdTnQPbgMOcCe8zhiPn3dMdCu6+nEPN3qkudC76PyPWPOP13LmCbfXNzg3xXVEsPJQ8PuPLmpLRQ3qlPA3Q3JX8go35bWPoPSXDPZPwMmjXPJmxPfbVKw1iKSCM3oPMqdOhhi3mVY+D3wHk3EvzCh6RGboG31qPzAWKSJAR3yrAnS4c3wnJZlX63XVG8sSn8CSYHmZqSDpy5orjFRvP5ooTZZvB0GXR3Vvr8NvokH88SkJeHHrzpxqKJh1GksUlA+AYiNsAwFQgw9XxvBvs3lXCbAXdUJnSf3MMfVUbRqfP5OOrv26avev2hw5LA1QbE5O4ZQeEEk5G4xvTZ9rHAr5G4JnNffSyZ7fY0Pfdfd2xvOOg-fWy5Y-ffAMk-w-P5EYM-E-tf5zRzR5DfRrHfK5B5xvVYng-f3A15rp8Zd5kLe-zfXAm-1bM5MF1fS-9fp-np+-S1m3tMge7vM5SBqhYIgf4Il79l5g6kzAWaIq1mSB8jycXampRkDwMB1AIgDgKQBzTgJcghAReJn014xBBUr-C7mgNzTNMZ+wGW-lfBX5TUjYj-TctVQvK0wQkpGAgQ0y+oOAIBTKUgNAI85wDOupAg8pZWaBIDg4M-ezAv0loIoWE27L3q9w6oUCmy3ApzpN24CSCsyr3AQczW5o1odesYXXhQMkH1dn+pOfoAoGq4gsKgTdLsGyAMF10YchgUkMb1naGAaCC7Ewb4DMHEgng+nJsrlRoLM9CgTwP1NoLuh6D5EdgrsOMh0FkRrB3XNjLEH8GUZzBqxYHLNDICvEKEEQowMYIIimDIhFgj3nZ0KIhDbBKQ+wWkKcFOt4erg7rp4JobVANo8Qm2IkIiGfRHBoQg0KUIaTeDdBmEGgocQeqBCfBMgVGF8isbbNqQkZboVQDkRtxAgd0P1kEJmb9CJgJnIYZQBGHNCJhd0KrmFU6FKdhOL6fTuULiH9AEhuQqUIZFyprCymjQxqD0IWFrClhLQ7omMJ4jtCPKx-eREKCGagh+Yp-XWBTFPJaZcBBA-Ab30IGMBV+p-A-hQPfAVAVsgwBfl8WBbot3hVAdgXyC-YcRrkDAfulxF4FOIF+3AD4QiL-721hhQhVEVQC4gcRsR8Ii-oMPGpQ8ZAdYWoOxXU40i9gdI9bu0ClikjWIVAcIAuyPLnl+OooV-hxC5HCcYRlGZ4ZSFeEsx2ROIikVsJQRLhBRoAN7CbznIfCGuk4eYYSLRFYUIwgo9wX2AjCqi9RoYZEZqOJFYUccuo4qr7BxyGirROkU8vz3BCMiOAnnLQX1lpY5RFhHxH8k2TfqnCX0eIlQH0Frh0xGA2fP9kj00jOBuA23dkdty+HERzwWooVC4jKgmikgRIziFhVjHkjwx0YuFmEP9Dxin+M5ZMf4gyiqRnRzIjYckX06JUPRsWS4WWK3iCJAxvAMjrX0NhQtORlg+Qr1nr4WjORgY9KKMJ0E4g2Q3QdIeSHPAwZ0o44zML4FVKgiOwy2L0EYHCCtpkiqbQwM-07F7ciQoMbsXrkTF5pugjIQcS9G8xPFGBOIDcRe3YrNBugfmWlqAAooAAJApgwAACC4AcAAUwABKFFSAAAHkKmyAIEP2W-wqUsx+fNMPfHTF0BcRxvdsU7Q-AGwjx1yNUSOL3HI9IxqID2AhP54jjOgjYPMUaBM7ETMgsEqMVsUjLvjPxP4v8YBJAlgSKJA4HCV9zwnwSCRSQSMiOMWF7iGAB4ygoRIshkS6A7kZoVH1zK19qJ+EjCUISQk-lmhtsHod6gMQfDms9SVjGoBMBeBQxck2TJpPMjqjrkuIo0dBLUCGStiCE3EZxhfHBcbYuQBwBtEZAAAGAcuAhqD2QW4GQRPs1xTQMBqAgwe7H5O8QuTtAQIRyeFNiGZ0uKeIK8TWminOTYpJnFdN5MYHr8xop-aKad0CnBTIyTZH-o6SbK5SApsUYKTJwNaN9sIgYwIOGkykOhUg1QbIH5JzT8IwpeUiqaaH6qqVfJHAaroMW6kpRyQ4CQITbHsidAy4xfEMA9kwGZ9DIVsYchlP75sC4gnU8qVVAKlPplR04b3pXCbLjSGAk0tgGXAt5dd6hidQIBNKmn6s+eO0lQdLWqJ-FiAN006a1ObDP8KgJAEQKkAxiB9gRS1CpGNOunHTbpl-WqqwkwHYpECdVVkdVKynzQYZE4QhOMmVSGRBB2AlYIBj+FD8gpgIqariPIGypEiVAlgLQLh40jCIdo1NkdJOllwMR0-TGlqCwD-hMZhkB7F7yFHQRSgdM26SWTlCdYXpb0suFmSm59hmgVM4wNVQYgMRUZoM+mUd2f4iigpYMKaDzD+Br9Rw51Ckd8KpB4CgQvAogaDkBlkC-kSCKRmCM-BSh+BHVQhA4H4qZj0RBAvgTQPxaFi1wRMgsYIIwFowZKv4UxHgEhDBzaUeaA2e+RdnGzgOnsikdVUISWyVx4ItcVCJ5mcdHZWorWRBBpkNBGZYmLEdnKKCnkO0LQR4YMHv6dAiZ1qNVK+G+ndo-pJMGOabIPJbkg5Ic16pqidG0jXRVcyXnbM1QijM5G-GOSCKtQ74WIDsmyk7KwqEAFwd4BMTOR5HUiu5dPOWKJCrGecWRHQLIDPM0akhuRveWUTeJnncyZIKs54erLviayd5PAOeUtUPkCiLBC7M+WrISqXzHghAO8NfK+Ff0wAwcyEIfKbLHzFR72T3vKL3nCcJ5uIDOTqLcF2idRpII0SsEgVTyEesCwsdMAtEIKC5BoB0fp07lMju5Y89IqkEcmfJb8VXM2n7lvwBk-JdtJ0hWXbGyZHJkZZwswuXLRS2izC3sTuzukRg2Fao+nJ0Emm+Axk-xK9oUOcJ8K2p9wgLAczpj9SxojkmMRZw2Y8TEJoAYsZuT1kCAUYY2BRYyHqmrl++zUkmMwsgx5pkF5YllBOGQUZycxGopIIgv9BvAUYjCs2BCQUWXTpgmig8olIEiWKWxriBNuvJXlfVNhhQtlOZzIDBwOFS+caB4uYVOL6xkgT0ZcICWpjDiL4+iQwH-GWQAAMgU3An9Vkink3MpICsmOSCJaipSTORQn4yKg6EwiQu2wloSYclShSbxP06US+4fkj2MuW6UKK+lxvbJbkoKXgA2JIEDiYMo6U05lJaw3wYMAMT8TLhgk4STMq8UNA7SfkySWsPhBGjlltwiEIry2UcAdltw0Ls-zkXtLbJusuZbcNUlUB1J24RyX6lYxyK9YpCpRaZMUkUiLJ5SsetcuqUUjAxd8SaANJc7OcVFj2BxeovmrNDIyKkuYU8umCLyGkhkFSWi0oyJCl0aoTiQXy2L2KzJvypdKcKuW9LIV0S6FUSodFZY4Vxw5WTMhtgQqXOCI0ccsO0UaLrGQIOcenwpU2cLIkSlzlkkDZWyIRznHhF8VBUu0ollnPlT0DpW3C0KnKhwJaTd7pcFVOgwMaKD3EOgjxVXVTheMFmHt+Rfsw1SCrj6BBrJjAI5nuIcxcSOc6aaXiYoaW6rxJyMw0M0zPFAhVlWYQ8W6uqrngQ2L8JzOJLZVCRiqByscd0DEn2qJJUkyWqVBxAxr8Vca3Ze4ME6xruApwoNfVJAihr4VhGdmVtRzIBYPgwQM0mFJtVoSPpEM2IH7TUWMgXF64avGYvNmsIdVV8tRe6rrWni-AjIH1biEPGESA1eaHNU5minNDVGaiSNeMOjXX5tl8a6qomrnUnLiAZynQaST7ClS-JWaj+mOtmgKKw1e6ItaPO-x59opwQK1XapTVVdSFbqgsfT3PV+Tr1cEjnPpzz7iSX1NEvRLn2EB4rX1JMe9cRDLWWrQ1VahpV+tRCEYoobAf9d+pgzZLGJAEoCaBPGXkhENv45DSxKKUZqU1u6v1H9Dg34TCMhCcEBiCHaH83IT6x4FwuA0WqK1A08DV2NbUeqqQhGwZYyBGX5LClfkLjWMsZDbqN+pw9jZUpI0dzyNu41IBS16QmMjapSFYe9Xk2zC4IqKN4LJpRCdcA2z086R0hLXdIAiamqhBN3aSRk5BhAXTYORqLSbgo6m5MJpoU2FElNlG2YipoQwpBbNX-EzSPzlxOa9NLEAIjZqM32a0+CuXzZZt6liBRolGCFfJu80jAwt4WtTfgBamGaUQE5DVeyoyEE160Mmo2qltMCQUfeGWhQPpyS0tSDN9ADzeWjoBVbLpgqlRavFc25aNN+W3lKzLYzFbDiiahnCIBEr1boljpMrT+u-w2bktJMQLWltZXwruF1m9zUbQm0Fa1R4SvkbFMqEh5DBiy7cP1tlVioFtYIPbUhU62QQGgpw0beVv1SJo5taW69FdsW3HbpEnWyNN1u84CrGVMq2JqxHc1jbuWXk4gJFtmRwIptxw43oirUkj4DEqK9ra2EyFZBttwcGoP9phwQqUeTi6CMkrj6NjDlDo2wLhBkjo7UlWOu+f+EAjPpki92pEL3iPUKZutvnPrW9qFVho-to0H7Q8JMD8AM+XXY3iRkD70tGWPwKlntGf5s8iu9mQHRfyPVFhCEoOx5eDtDCQ7QwhsNnbMgAGu5gBY0K0VJz7YIjUdHgnMPvxXo0yyaHpd2YWMpp298RAgQPOklEqszidRQcEMLup6GZQukHakO6JSWY6xxRc0MKTsyDM9Ot1O-gBCEd0c9aer2-MKNHe2OkQ9NPKVNyyTF-xLtIUJuoyAACcJwKPOxCbphr1xwM7jI3TrphqgpG0T5GGhJroCnVPCj4N2qZq9zXwLgX4m5PL1FAC9wcDThpwshoAu9wq+iIoNDCt6nO1eyWoUFb1F7as5NeZUXj3guAvINBGWWoPCFZ7C9Kk8fRGxop7dW9gY9Hu9rfCjt+Aq4MgL9DviJMOVrQRkH918C7d9u3PbsXB132lRTWRwC5W2o9KH6EqMTM9qpDvigU78HVAfeCE8heR0eGilRe6D30CAAE29BEA+sX3J666+gbLg1taDHB90vciIAxFfChq4+CfOmH+qlDIHm91Gm2Jes-UfrY1spKzszIr0GAsEpAI-R-vPYaEmRs0T3FjNgO11g4ABwA15HEmCA8Dogbg55F8ioGNessvvQ0H-2CGvILnC8KmJahSGoD1VUfYsPRXzLkV24eXdIkQPRL7mpiFXUAJXitBtdNB-XX6kWihC4dznZnO7ox056AxqeYtVBKa1CBDA9kVrNUFKjtS80Z+oEBfqv3o9b9xbDw-wEf3P7WNAgI8jBksNGG3d5OBsXYeSJ7o3qhRSI2qIRz4AaKWYvrByOYBSR-wyXMdhCv0M0BDDU+OXKkazV67GoH9cw5crYDCLRFFpXmOWqB2KrjexWwPbaSEV11GjDpcPVsiZUqL2O9Rno0wH+Lctt9EKjTuGP0CFiAAOlgDvVdp5E2BmQMEEnYvol6LDOUNBA72iRaDR+53icEmMNbpjeE2Y2EIWNLGfplGVY+se7FzleAq4PeD0CbJPHQAAALwWagAFjRQTFUwHj5rGKOxu-etwC+M7GdIex8EAcYSpHGodH6Zw+8DcPThpjyx244CfuNoMJO7nESiwBErKARKnnSYBpydB4ATjOh1EzcYBO2xMTWx6el0dxP4nCToXKE75CAA')">function always_true(ignore, frame_stream) {
    return frame_stream;
}
put("always_true", "evaluate_query", always_true);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p18' class='permalink'></a><p>
      The selectors that define the syntax of <kbd>not</kbd>
      and
      
	<span style="color:green"><kbd>lisp-value</kbd></span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	</span>
      
      are given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.3' class='permalink'></a><h1>
    4.4.4.3&nbsp;&nbsp;&nbsp;Finding Assertions by Pattern Matching</h1></div>
    
    
    <div class='permalink'>
<a name='p19' class='permalink'></a><p>
      
      
      
	<span style="color:green"><kbd>Find-assertions</kbd>,
	</span>
	<span style="color:blue">
	  The function <kbd>find_assertions</kbd>,
	</span>
      
      called by
      
	<span style="color:green"><kbd>simple-query</kbd>
	</span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), takes as input a pattern
      and a frame. It returns a stream of frames, each extending the given one
      by a data-base match of the given pattern.  It uses
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) to get a stream of all the
      assertions in the data base that should be checked for a match against the
      pattern and the frame.  The reason for
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      here is that we can often apply simple tests that will eliminate many of
      the entries in the data base from the pool of candidates for a successful
      match. The system would still work if we eliminated
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      and simply checked a stream of all assertions in the data base, but
      the computation would be less efficient because we would need to make
      many more calls to the matcher.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (find-assertions pattern frame)
  (stream-flatmap (lambda (datum)
                    (check-an-assertion datum pattern frame))
                  (fetch-assertions pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNMdiHJgR0IOZSPIz1xhhFsmlFGgeL46QunqbpQDEWgmDExpiP9fcBBA4saPPCQOE0S9qjkMiWLY8S2zFawpNHWQNP7IEd1Aaz+IEI8UhCK87NklJelcXzjGQwYXiUhhwLo5R8OUCY53wViVMCNS6BM4TlKo7Sz3C0AGIA0QgNYxD2M4mRuMEXibOMoS31EwiGiU0h3ShGRGOYlK6gc5IrkiUQwN0nCfXCSJItAaLRFimE2vahpsqY3LTLM5J5MU5SavqRKNK009aOrfTDMawS5u8xoOK4qzSuk2z10barzgASHqOqGpqZK30SO7Jo6gaZE63qDOGmLWIm97GivfaUphRC3qMRbRCU+LAQezzLoEKL-oKpp-IWtYMdAQLkQEKwwlIOMZDYYV6gkp8MnSKiIP-dDMIgtyjA8OmMO4JmlUp6maZVELSEZ96PF50ZSA549RijSI2GUCCAFVCArQhKAAdxoJ1RldZEAFotaylKEMO0BsYp-HaEJuM4RwRL1ZdQs8pA59phY-wukS0N-Som3NepZ3abQtmDawRLfQ9x1nW9vLIOF0LA4LILHY4D0VXxwhgxkaKGHIVq-tGuKaop76M6zl6c7Gy3cZoJPBBVYMOCLlKZCrlPgzJ4wKdXJua8Q3oK9ATvU7r-7G+Trv4opq9+5b8v+hQyeOBVDhI3Yd965Lpe2DzkULKLTb05YTPs-X1jp8RIKmAADypWRV+9UumGUI-W6MAvPoTye94PkuRrGh+XQ37v7wzzPpffgQgOIcGImBfg4Eb73xUBSX+y8n6xmoL+SeIE54LyPh-Yut9H6GwpiVYc5VJ72VlApEBggcHZwEAgnGf9WLbkuBSRM1IsREyiMPauA9v7vlIQsOh+COThjABXWg9DowQBgPAJAqA0DyDQJoQBp9kQ7G6omOcMh6xsG4NQaByDCGdnwGwD0owtHRl0fxYYuhQAAB9bHbh2GCGu5idF6OsUYexjjrAejQu8QgrjLH6LsQ4po4o9iBPcaQGxnjQlHVOsQlykSrHRJPo+dRGtcq8OScEvQrgt6bBoNooJwxLZx1UdYKowZQxCG6vQMobBSCXhiO6FuY9t4dg4N9egjTdAADI+lLluD06JVMqKkBaVUspvdxTLxyR4-OHSdhVJqRwOp4FilRJloQZegce5AORLQCQJjKC5UoLgGwczNkpIMR01cV5rn6IAeUmgCdtLkGDIQDewx6Q12UBfbgzASyDFuYU0C9SILvM+d8-m+JGB-IoYCpgwLqAAJmdYKFXzoHzNGYssFyyWDVJ8OsnFMtMUwr2S86iHysXDF8Mc3xDhHkLIKe2e5Rl2WNWZdE8GaSULkugYPXOHAAVAtoIMHFoK2W3CvA8ixUTeXCPRcUYg4hbYSpGVKyyrTVkkpGTLNSgZ6oiFVfvb2CEQneJ1cSnq+rQAQVgSqtV5rdBeP2SomgJrnV2yOScm0vSVLtxlRy4Ne1MQ8rvL3L1Zq7a8JFefJFKKAmasDXc0NDgQbhsVfCZV4gTG0PjYm8V1AGm4qSIY61tTbXhplnmj0BbRXIuLYQSlvc60FrCAwxMtBS1PwpkyOQDLTkcHOZcjeyhOX+ojXyoK7aWCJ0oAICQvbU1gsnTITNvS7xUp2BJGkFImAwpXYRCtKybX1LtRBPd9AD0UrRQcmge7G1JuPeWtNeoN1GU1c85V358aFk0SmvF7YCVEqrRemt9q-3kAA7lZ9zaLVeLCZUwlurq2NINdQf9gxAI3pGHemdyJoOwa6cwfGTERivrbh09ZHBmC4FLcoJwhGilYZgzh3KxFpyxR+UBt9YLaP0cY6AHQLGUHVxI3OVhrophUefjRsCdHeLCbzNMh9nSlIzn4MQd8fHqP4pQ2BtZ6Gmn2s0zxnTrb1MJ3M9p3T4bmwnoUxC2zJAmAQThY0gkYnXM6f3fh6BPagPGH49Kj9m6eViZHAweg-nD3YpGY50LWxVyJfvR69YsW8PxeGEFhzfaOkRe8xyZVh7uCkD0r5+zXmCsGd2JKNLYm1HFnqtlo9aXV0gaMZKIr27lVejLBWOT8m6tnvA+BS9A3iAVisxlqbFYF1LuG+sNd6be0-vUzsAo3UKMaqzZ17VY3jMQYw-a7b5BdvUFm4+CuhaxV7YDU51b4Wv1ZvS4+fetd4ODDy495LNB10Rezcox8OwM4yABVqywhm0P1IBTLNwlKqWE1YYyCkxNCYCNM4-dpYKj5jPtbgao0gIKgEVB4CCROoQk8VJOGcmjMfwNGeT+hy8Qv1GVNYcHhNdAs4vlfeeFzIH0GxYz2h2OGFkIuJ076PPQADJl59cXUvmahBYaMNh6POFXh54DIGRgrzK71-rlHGu0ccJuB+3XYt9fGFXEbm3tvWf-xV5zSnxOBAQTUxl8VqdxikGoOadgMhz5Q7V9cc+yhjSgHlBtjLcYMwLcDFwEsIsJXaTT9QZQWmGB6UZznvSOOaqJXYXGJTpFRCh1NxYc3xMC9dLoRn0KgxlCO6d-XoRrYwWl6iOXuwHtqaE49wLch8pad0Brv7wPYILQ9775XuPj58BKXnqVc+X0KRh6cfC1OlvZA88Xyhd2Qe6QLlwguAiaxEriKou7XS5-qyidZdq5yAldByj2JzWg3vQdr44Nhc5DfMtVwRKBcECVcHnAhJZLnfeXSd-e1RHTmBcMpf3UAAAFQAAkABRDgAAQXAHACwIACU0DIAAB5AAOWQConlC6CpVwA2DLyb0LB7WrzxGd03i73bGX2mGTgviANYVdw8GPz4PPh8GYJ+wEI11dxCGPznFygkNQTEzkPsBTz5kkLD0wJwPwMIJIPIKoOUI2FXxEDEKEEUJ-CkIsDD2Pxn2D1EP-22kALYISDO1T2b2oC1lsLYCRwjAfXEUjEkSgDgEQGQHQAUXkBBxQiYG-gPVJQUkIAmFqy62Mw0SZXlRuXHBZhg0ySFViklXHE5zHXfG5Vd1V1ZkwnpT9VyN0yHTOQuR2Q3klX+QSNKM5h2GjXVRLRKMyIUhGidRjQlW5WaMSIKM6QFR+W6MaA8GiMAnGI2XSOgWGNaMKOIw43yKmN6MAlWOoE0SGPiJGMaEKLnTuybUGIWOsR6ITgrianYHrXnU7WXm7SaLbxSGON8SWxKKWNGKcW4zs3WIHE2Nyiq3TC0zczixhR7U+P2OWM6Xm3+PqGmL6LhL2P4AOIaEKOvSqACwmPOOiR6JmNykxNvWxRRJaO+IxV4B229nhPIW22XQJNnEo1u2+y6NxJcNRMNEmlo1HV4R7U+xOKTUhLZKWJhIlgbDiLlgViVlVjoAkGGBYHPlAB1kBMZPc0PyCjpJZHYM+yS2MGOmKmsEBXIDYHY0+GuNxGumSApjpNI2NNNOmHNNZADAYGDGK2MGhlhn1J2E2SHEXgfS1MtISlQXUmRX7xAgZNiNu3eOXQtONyd2MH51ARFQSIiGoCPReIcluweI3ieNjIzKBB1LjPjMCGZJTKjFpXAgtPmn02SL3WySBX71aMcjrP+ggWoCpHAgbIXzchCFfwEEOg9OWnODFMiFxBlnlkVhVjJHUwqz4CVN1jpMDndKVXU25IuV5IhwTVoCWLhn7WxE+wyGyAjMo0+yWP+S3PVORAJLbIkzWNJMSNx2SMYD9CiHpJiMo22J2VyiRXI1iKhI5KbMRJij-LYxIy41BPmLcRuS+KaEnHfOKNAo4y4Erw1xkwQqgv0SWJ-yiL6OBMSx3Jqi9OsDKwq18F+Lc1LU3DhhrK2D7MNkHO2CKmayyyxJywm3y2QXJg6WPPfGixYuJN43y0UA5PooUhhiHNWmDJxgiBYsaWqJAiPB4pxBkta1YvayEpEsVCIqU0KWqOUpi1Urkt4UDMaApj4sMvql4UNj8jEthhWhSApmvOBLFiBVUoEtIF+w8oSE0rkixhXIyzXI4CIExTmAaORTDwHQ4EPPtSgmCuBU+WkHgmUDCuKxzXU1oCYmpEoD9H6M6IsJKPim0uBJKM4q-CksSxAiq3BMC0lWspouhxFR0VIrwvyw5g-3sA5hCAKFATkEypHRyo6O9h7XMuqsEpq05KdwyuT2yuNQzG9UkPzOSBs3Ip0zXH4uxI8sovBjRihlsokocugNyupMmKaCyPqUGp9VqMlSbM5loL8rSoy2vORNxIIqvykujIwUYgW2jNqrep-H9Gahhkqr6pmqOpYMbkXQkB2vE1-DivFQSqbBAkCrhppTmEBrdPqpVNiOjPPIF1RNTIrKahym3MWvjJRoRu3LJ2LPjIAuwrPj6KJI2riI5MfK2AThbNzhkA5iUqfQTXu1ZIwusRFLpqvL6LmOZpaPikSl4XDPgpkDmOqIFObSaOhMNkxUqMZT0oVt9UZRVt4SwufxoCsv8sfGvIurOMFtMxZpqnVp1uHWyXNunyus+MVCUsdupDjRZICX-JaKLM0vtFET8IkRjCCJkVCPkRzEiKCmWQYBfOXVD1Zoat8VOVYACQTu3A8EVO5iyljuUiYQUgYElhDxlmTv8URQzBGGRnWB03ICmAECCCR17iuP9OzI2FGEppxuhMTvBXAggh9KKArg8zFlbu7WUE7v9p3WsH7qEHNK3xh3PUrMwzcV9MHvexQizLNRzPbpxDD0E2U1wCYzXqCijMhp3u7r3oYwPpEyPu5AfWTImAJqPVwF3sUyEyvtUxNpQnZu3j0u-A7JfohQ5tig83E3-qa2sCAZXlRm7tA1hxgX+hlkgeuxQkgZvI7L3lzjD3XWMsvJoG03-F9y+zLLTOxWtsNr1kagnt7hGuwTIa4JS1uCofU3wcoBXw9BjIYQIvyXoZoG+iPgNt6ESgmWmBIr0nxvLJhRAjuqpSuIYUHT9Upt5LD26VqMUf+lSvoIYQ1tOWGsl30G4cxtXCEXdRuy0Y3KLwMZG3bCvGMajqvMoSEHEZId41UZRhhjHuLBEcluAy2HGFTgmXkcZWbGzr8eDACZGkPFOvDylhYBfGwTtvcZzgJA8ZXw5PztCYCYSebAAB4-x+AwnOEImbrQBpjC7xSII0C0InxAwJBnTgxjFAskpKTyBpAQhScABqKm23ZxVODiZdLJ3QTpkBjprp-XHp4MPpjBzcHsguouipqphg5WOphp3LJp7gbqVp+1UATpjM8ZyZgZ7Z+1GWQ53ZnfCZ3AZdIp3B1CembgbRrJIeBJ161wXuVEtZNCZkOhlIXuKa5NVxpJ0qq0w6rsAZtvaYhI95p0Lm4slhwh++x+0hlo4p5IEIBJgnVLVR5F8hVcIpjM1FzKz9PaTF3aBwK5uqqGLSoqVEgnYRxq8rMR4hiswFwIEcwJ05ccwgXxIcGPXZaGmypaaioiKS-HKiGhuRny8yMFX5nELRrJmVpBIsyaI+ao3RpBPl5cvycht5umT5lokWneeG6kBJvSp5nOZ5gKZhiFnViHbxxUH5glrJtx3UyV5IkFzFsWcFiYSF5kF42FmueFiRxFxIrFr-Wo9F4Zd1oGDwB6HFucNR0QEN48aVkGYlih0luN6smyyltMal7O2l0RgN5x4ApoVl01yUrloMMK+c6laFaBJcnyPawVoM-6jgkCMVuZCV0yjpaV5VuVx+RV9qZV8xyXdVilzVnh-Y71m1xIspXwj1fwqMEO6REIuRBRbASe20k0igM0-0i0g7Bqo7ElMc+1I0rd2utUsTU9+0+eHRcYGFakvdp7MLWQGxogbdYOTOM9nd+dpGnqB4ElCCZcEBu3WIIECa4wAD60YDg3aoMDuMgDzqaD6JuD-9nqWmMCJD9ZFD14tD8JewEBvD0QRocDowAD02dZyQEB8jtQYj+DtDkc6DkcwEEjnuyCdhXvT0WgDzdjrgD0cReoFjgD9ppD4wYu0AKG6KxUzp2p0AQTtDrWET1ISPcTkEbIRU3WGTuTiFJKlIMTiT54RUqCcTowLT3u4ARTtMZT-TtT0AMATTujiFAAUgs709U9AEVMc+M9k4c97u5hE9c8k4Jyhp88ggAEJqZ-OrO3PFTwuqJgvUOIVsmXOovAvcmjB4ucPEv0hFOAuDPQBsmqIVOQuIJMhkvlBrP3PQBsh0vTPIJMhsvlBAhcubP6uavivQuLPKvXBngjBQvjBQ8HhEIP27Tt2HS76smMhFQB1lwfRP3r2xEhupKr3Ru-SPUR0PQAArCum-Kb7EXEaKhDub0bkB9dKsljwIZb891bzMYrIOJbo7q7w1VZqiElADvskBvs876m1jiCSAQgPiGDCQYDv7gHirL76mgDnj2ASAaDqHyAcH4syHikXvLApDnjrAhH+MgDiglgCgiznHigxN9qRblty7z4J71rVRyb+oAdTiZ4Ixlwsn6YCn4rYbr95n4Mo1FV6nlIWn6K078aUIB78nzn3LRCKlG0pn67wsLU5QT7dZMPG0heHiMYCQf1jbj4YsYgTOcraF9qKX409Ztih9t9gd5IeXsCToQIT+oKOqCopxwmsPRMooB39M9qbqqhKX27R10Zk3YXjn-6rngZs31wD3-ff36Xt0SgTb7b1veMqXinlVzH4wfNpqhlh+wN6xFAjYLKFpYMf8D0QCV36BSqtsO54vn5cXudm74OqRYI2RTADAOx1jYYF0MgDgLTegN0LEBgIbWBOe3YExMxbB-eXBfKIQoZF7RqK8fv0SIZjgEZvZi5vfQl9Nz+ESLcDnSfl9oyWfsTbRLEMih4yu35VOZ1qxrYFgYgYgYxOwWIuQOX6-tz8RTp+W6-gnCCUnCnUnNp45zpq-4gMnwaCf84UmcM-jfUkiEBO0SkU-sGDl4ulKa-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-4tJrK6jU4E1lVrrTCG6cYbnYNv-Ke2zD8Qk+XHZntjyKpd1qCkaoGFoDKwzEL+v0LSp-1-7JFbI7UYAYhEoDQDBBoZpAerKiiGEEG7w1OF8M47XdARvYNWQrRdgj4c2rHZwMoDVMOENcJnCwEZg3ReyFw5-YH1V2UY8jUg8oy4R13uHoqwbZkXxBw0nr6lGK05egP+3grAdDkcXMYkPI24E802LgNSGfWzHpY5uglS8qB2MEOOYa0Y5sa+XCJAxcO-ocwRkDG6AAOlgAvW8AkyjB3AA2DpAk7xO5XcGJNBb32ohDrDC9lgGOMzDTjX4844jquM3Gzp54xeI8Y3zXB8AUUFwouG+gwnQAAAL0F6gArjgQMPuCYeMeDeji4FE6JCBgfGHU7+744HDeh4AVKyx8I2YlOO3Gig9xyE1Z3qFsLhmHoYZsQGGae4YQ-QxCA6D+OVbaTYJhkziaZM-cGjJddk5ydOFEmDYQAA')">function find_assertions(pattern, frame) {
    return stream_flatmap(
              datum =>
                 check_an_assertion(datum, pattern, frame),
              fetch_assertions(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p20' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Check-an-assertion</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>check_an_assertion</kbd>
	</span>
      
      takes as arguments a pattern, a data object (assertion), and a frame and
      returns either a one-element stream containing the extended frame or
      
	<span style="color:green"><kbd>the-empty-stream</kbd>
	</span>
	<span style="color:blue"><kbd>null</kbd>
	</span>
      
      if the match fails.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (check-an-assertion assertion query-pat query-frame)
  (let ((match-result
         (pattern-match query-pat assertion query-frame)))
    (if (eq? match-result 'failed)
        the-empty-stream
        (singleton-stream match-result))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06Lne8wUbR4QGCFBhKVBYg6DBGHgeEKhafxwtiPPT7GU+tnGDhqngbpvyRvfCo1SlT6-QDFpUe5wY+ax1jBbxv6+UU5oOK0JIGBuTjVFu7brpx22Tu4AXKCFo36ekEHEaNPHFAgGB4CQVA0DxNBiQZ5N3VSEFzc6fRcgUQh6G5yhwf25JUnSBQWDIePFCTmoefCUAAB8S8U0UPl6zq88T5Oi5iMuK9SFg5I4IRa4LlPwibl9M4yLIE67hvYl7-0lc-KUh-r1PXvOtFqFjxtps7mfnkKALiZUfOZ9et7I9FZgxAkVnZzBD4FFd9k+nuHbCb2gTRVJi-U9AAAyN-en6QYX-CYSgUoDfI+e955RzSEbVehdX7EUVqkI+J8GBn0gSnCydAjaFQRozFwhhfDZ3wI2fAMhwH-WQQ3GBW9DoRmnlA-kEVQHNQYOaagYg6D-R5kYSg1cxDcBRoQQIbhnBpwEkg8ETCWFsK0twKuy0eHIz4cQAR9B6agNFGI1hKdSHQM3unMB8DaiINBJoiyaiJEYP3ixExKcGA4LwYPHeND74jUoXWIY399BUPsd3SYyjvYuEsTze2BYGC8P4YYZwmihEHTcRGDxdcaG0IjixUUFRlBsAmtlOgHDL6RIzrfBBSCX4WRLEIECKS0mVXoPCUu5c+55P0QUygl8LK6xamU9JqIqlN0wZHNpFTGA2NbmBRpWjYhOOiS45xD5hneJ8Vg1iJhykZMCS1EJCiwn0CySMomOjJlZEwtMhJ5i3KijSdnAWwS5GhPCb-QmsC6mn0MYU0SpyWDnNWYougZjQEvPOYuYW5tDCbKGiNG42IBn4IYIQ4huNdlAoSd8v6rzyCtXwMIXwQLbkUPGbafZ2TDkqNSIFaxzAtASIxX+O5eiHlzieeCIlHwqDEFMbMyORL3nrMyTcilWKRi4tTh7AlHN6BsVRHHLl2jH5wPIMfepjzhlFOFYvZwPx2XOE6TU8eUqZXUvPvK0SbwRXKsbAy0lKcvm+O3ktUVjZ5FsW5FoclywRpnwYIEGQmzuB4hZSxA1Sr6A-EpG0As7DxWjK3i6t1HrQCkjnha311rGFsHNmgmgOYAahu2cI0ErrKhRp0AKi1lcg3c2UOm6ZmKdGH2lfkuVTTRLGHaCW4g5q5kMIbcG0tmywgVqzXOcE7am3gikcMsIsa5kDscC1E1TKU6Aq5bEJ1PLBh8vhRaqopAPjEsZWSl+3buU7Lcbu71bl+EgWnRIudI7gVbz5aO2agqmWaFxBOztR6e1ulFOkTIXbj3mBOesM9JKZ0hqve+3JX69kuKPQWuZop2AeC8I6wolLq2yppXq8E8HlBeBbZHLDXgUVoqQ2Gg9vKoMHJAYW1IGhCAgntdc8t+7JX3IMehutojCC0eoPRypv6XDzwufIj5xGH5RLI1MvFY7I4TRWqqo0ImxnicgxJ-lMGD6pB6voXhOTdGoZ1VpuRFlihmKOeYM2ZBGBWy4hxZ2Bs6aOK3nDFSQJwQyDrLUcEoAQylFc+54Q2lpjGXaHHGz+tX7ecNv9BdKxmiik0xxcIEXmbazZkQzmHwNGhZdm7MGIZYupFJgl9+n8n5LhdurEok5KDJstlQLiEYEtoR0kUCM5WmvNdiOZi2VmbaHUa4ZDr0xDptYG4NoodMKuxGaL5vYHnKPjuWhwSgOUq79AUPoZGOnSbI24E8QEAA+UAEGPZ4HnoYX2SgoBwEQMgdAoc8SJKRihRlRiWh0BzNeyt0dF4uTsXE7u0lSgx1+8siJ0l8vQrB-6IHckJLWNwYM0H4KCFELQSQ6h3ceHvcm6sMBvSMlQ4NKUYga4GD49RK97mH3wdgP8WCDHRdActFJ3Tyn2OaeinjUawnGsScBsVdatn1P-QQ5+ciuTmSGepyZww+eM5EW-PSf9AFET2tjeBAr5FrciNS+sFj4XBoIcvoBrrpnfPjXFsnUYS3pat2mp5oC3X+ucdTbAfhnn0xiek-d1L53HPCXEzt8B+nnjGfQ+Zz8elQGyW+7ewbmLtPON0YJ6b8PNG2DovNx0B1AmJeq7j3r0bhQXVQumoCmTgmrnyadwXl3YYWikFMq9qyNk7KOWpL4Hm5BkYeS8lnxlJnQHp-RcibgMm93LFfE-XqCglVpp+r4-QyJfwKhGsPhgfDqCz9TS1OXo-BCkDEHe2I+FCLumFG+VI09ygL6wUvhwK+Gjnn4RkMq-ec++MIyPh-av1exGSyIMEu9nBPQGSkXh1gJn8kbCrsvr-n-kUOPnAfAYmJ-lTiAeouwsvs+MhlvKKESivC-kmnXpVvgVREKjzBooQdLhOM0J2BqMsKfieAqCZMEPfnQBZNZLZA5PxhapQL4CQL3oIEnr4IVCfrNKZgvJuqXlRICrwoYM7vfKJi4KCvoDJgdhHuuC9jJs7rIoQHenQhaubuQYav6n9sPFfFTjpofKQPwKoJns9g6lzqYRvoEHai9jXpYcQbpBodnibgLkauQROiHv9kXH7qGMZA4X4VagEZ0Mmq5GmvnpYfNpHEYcbl2gocRFPqkI+nwdYjbmWpfBMIoSRgJHQX5Iwf8FkYggBkHjulertCsCNO-gDOupuuehokepwEkeSBUcUTEOeK0YBpfMsoyIZM0UvnBG0dHh0Vel0djn5IKBfngYHivIMcSsMdNI-qGCNGsS-MsgsSfseERIZE0aTmkeAaerUbOj+nMR9gcXhD0eId8tmlCg4GolKGjgojpioQwOoVCG8QIiwrUHCNwJ8foY9uYIYNyIwPgPwGTgsu0s4I7qHlsjEFUWkbrg0bEOeLuoyMblcQ7hEvcUoWAjkc+vkT+kXqUBBkXmsJxtrEYNCZCnCeTkiRMRuoBtujMYUZuOAUBEybCaUgiX0oCnyaGG2hSZce0YSdBtgYxEcX0SScksKSniiV4d4UgqyStgjvghEuqc0BBuUU8YYd7lyIhrHpYffGLKir4BLGaV-kSeSOeHuOdkCFCUIMyUKakoifJtrr4IeP0cVGUGgoCeqK6cCC8UQgCWEkCYMC6QGSSeMX6bIizEATmOgWSi6UgcgX2NGcwmGdwGKTmbXskSxEYVHlyewhadjg5jogwqQQ7EXuMWypcmsuEh4djmpmWSzqGTHiiRkU6UGdNIyOMXTsspXm2Rsh2XceSGovDrYqDmOcjvntNM7grFvNNKWU9j8FqZLv2QXvfHOcjqDrufOYMqriGOMaedNBOcJtOYXisN0RFKdr4udnIH7FdoHLdiHJYBCbkpwrYeiptrWcxq3Pgv0JksBYpKUD3v-OyDYf8CbA3k3jtqJGBe3C4LwiYFoMIAECYMQNQGmsII0IPharLovlAcrmQPIaAMmQeeQjoiItfoAfPEOuAZRZINRdwHRU+RIWAsxazHvlYVqjWnODIAqnXDfqxXxl7FghvkrpxRukvjphGrmuJaAF6lJixAJn6cpSBW6Kpe6upTGvemuqgcAfIBgWCDICpdmpGupfmludcOTDmunKDm8GjKiSSSIg2QWEOpap5TJcsW5SvJsfpf+XpqxrzFRBZL5c2jJXFeQZ5eNDjDprCpsV2UjI4F8GEp1GmRmRopaQxQJBGLxaAmsTLEVRKmJoMGVYYdlfgMYK1CPsLBkRvDgToqTHDGubNOeIAisonLkWgZZRIoyIaX+YJC5TLMjjRWXltkuDNdjAWOCeVcLGefgoCvZhEO1SUTVUvsLDJXDMsptQdZEDtZmm6BGPLMaXMgAazMNaAR0TqbqNjDRSwOsCsjWcVQZdzGIIAkYM9d2nBRwJ1P9WuEsKGKUKTLLsLADbYrNZ0GENxR9WmV4c0CDX9TbDNeEAADzAi-Vg2I3qneEsHTjggAAqckk1dAtpMmvAF61IWIXGtQ02oAAA1F5mNtIp1EKOitjezaJBZALUWTENzWILzSlRMANsZI3qwRTVTTIMQPZAfmIPTbOozUntQCzaJMLVzZwstBLfzRzf5Z5hzSLdSPrTzTIOiuDfihavlIQOtcvDdMjgOUiPVTmIgnJNiFVSsKAu6ZyoDa9ViS6Lgf3N+tjUWcTu9l7UQPoObTECWjlVdA9VZVpp2UWc0Mjs5l-CMJHWNrMG4rbebVndCe4lBoDXrveFkLbQmfGCGK+FTjnf1cEoNbiKnRIiHUUKTXDYMhwXQK3OUEdugnXYcQREwX2AMcLIyBVbDd0X2CNAHftUbE7Sde7NmdBEdWXsvWDKPQ8fXR1QJFTrHT7fMTddJqGU7Ujs9djG7SgbdTHeiKfR9oqf7WXYtQNLqF3YfR+uHWBJXeAdHZ7U-fHYNknY1SnRZY9ewp4eAVnc9TnYdPnTpKUKRIdODdjMTUpEvZhJXdaLaLXcSdqA3Rfk3XBS3WSflSNd3IqYUD3a7aJNZIPSIMPVFp5EyPmcykQwqcRCsFPUbDPZMSBJVWfQvVvEvUdTNTvXyBvduFvTIdI3KQfWIT-ZhY-d7enTOc+bIK+Rdv7NdkHHdhgBNdPlvnPrvovsvmBrptqlFWwRZJvtvoRfFVpW5I4+Y2zInBwBIgTlY0xntVdQ-h7OeO4zvrfsmOGUgs6CInMP5bEHMBOA+Q0CIhyHEzEByIk3ASIghGk6NKQJk9E4YmJKCLk2fAU9MCIp+gPP5VU5kP6Ek0UCIsFLRuQCIc7OxGkraQaA08XkU6TWk6TX2D07ECIlbKoIwiwIYEOmMxM+disMMzECImzbk7EBttwP6eoT3hzV0wsxGX2u5CszEGs6ABswCIdj3l5Ds1k0UyCdMMc6c+c6AJCCczELsyIsAIcwYKhQ86AD3mAFc4U32gAKSfP3N-yPNAsvOgBvNFP-wrNgubM53+nXN9oACEwk8L3z4LvzoA6LQIyLgLYI4IONoLWLiLeNMQBLFTRTONAIhzCLZzOLtLlLMLfa+2pL6z2LPeh2LLKLRL+2dL3ARQDLjzArvLhLEIqLnzOLhQjLMQqLsQm2zoToITM+HjAmM1gIIYKhcw3AoTzj4TqId6qrZjYTAm+ALAAAVtha6dqxoGweodk2qzvv5bClgbs0UPq-Pmdk6EVO8CVM6wa8Ug7oyEgiInQf5XQR68gSIpAHQGqIvG0zEHGwm3wdG-AaM1QOM7AJAGkzMzm+m3-pm4AgwAAKK5MzOluFvq4iIABy5Atbnz9btbWDzWKrQZXrLUwbZ6gNWrKwKhwojLh0Nlergb8+3bxrHbY7XbxUJSx1fb0wA76hbrm4PA07gRzADuvrQ+whLhprBre+DgY+h+Z8Om6+304opAGeV0lr5AeYUJvUmgoD0EnbnjtGwevjP+4BMmp7RwRQ59LEwEWIVD0DYIOmd1IHadReNGDJr7GrQdnNY2r73bq91bsQMH6McHn+Fr1rpgNFCdyHs7ASc1sjhQFDbdkHnde8S218LUYgXw71jYHdKceJ-EjtzH7CvrL5WCb58gl2AcN2wcmAE1HlFApgDAjaHwVUNwpAiGLSwlaQ9NOc046VE0mMjoLuhdSm5dBDanT4coxtDAptFtXCEtqnQM2ELuzQ5n6nq6cyCcNweRUBOFHCXCE+qjggygyg9NGQL2RgY+Xn2L52HNqhXnOd4InmPmnm02QtHN5AgXpH-oEXw6bnMlDgfyxgrnMiKtNFFe6XE0xgzw-41V2CltYgAt4IEIAtDnyKxgznUoKheXdAGXuM4+Bnok1g4Irj5g+XG6LU5s62MmCnEGqhh+mnokEGAWRkYCSCQ3xW0kl+in36EYQ3PcJcudy6Liq3uLqkxm43riIwc3cF4Ixm0FAVYnIEknsUMniGQ3SFi36e3GBOc3H8A2n6ECuerZwmq3XhPmVXHNvXTVA3B3gw4+o3O07XA2nmxnx5UKnxbByYt5HK4PkPE40PAtgP-XZA62sKYPP34QbNUPnXSFmPeUJTx73CwZLXTA2PkweWYCpMd3GspP4IOT3ASCh0Q3+DWQq33AmPNPpAPE9PlcZXKPEW4IAA5MZ2ocbVL-T2LRLUN91yqM1wVy1I2qQOihrxs99eBgPNxEyspyD-oNr2hxOCIkIP5hZMECbXZJIqJOaGmCbTYRwPCHT8z6r318b6b9zybwWJr1XfzwN1Z1T2r97-78i9XX72QJH-z6b05S4Le-e8oI+yBDeXwh4GsgZoQAp49zxpktphFhb5rfn-5Z90Jsj9polzECoUn+sCn9QJoOORn6Wm4BT7IXIt4sL5nBAoXxrCIsZlIs9ZCqjr353yH7wgn6ANr-Dl3sjC4Zn24Nn7tFUXnwTtpliQMZ-tnUCCGLD6PyQuX1XgX+Pwcaq4v8YKzOPoyCoTPzgnPwv637l4fh3zn6PTsdvwg8dzkxFqTH1vIE-30RtduAsKFvmsiAEv8u+CeeDrYnC5nwpuRQKGgAPAFX8X+9PGAYMnC518H2jfNPlRAQGVYuqn-WxNX0mrYhsBDfJvun2QFt8cuy-d3oFjyYI9YoDDMAW4AgFH4EyvRKovDw37FFnURTQfh3gXJw8x+b-cojw1XxbxJ+jxAwnMj4IkBl+4VBnkuD76e4Nuy-enj3V4T90uC7eCXOyH4IuNTK9negJ5Vf4KdSYagmSKVU75aDZa04HQYw1bzcFNYFfNyB5VnSkU5kjvTSFVGWytQWoAwCoLVU77KCFBAMbTOF18FaRleggYQFf3YF+CcoulKIbrw0GeDCSG-KfupE3Y0AXsTg7qsGWYasweoDAdQCIA4CkBdooCXIIQEzxhDeGsQKoppj4FNCn8QZcWECEljfRKqhmSLDNDEZfYxQH4FWIMDVhR1ihsJQAmUIqHCAqh2fHLMbA6zNA6h6KSWCvDVh715S49SoksQKyqDx+tDXaiTCXBrDjeG-bgOcNsFv9thvRdoUUCaJyIiGjxDzucO0xT9Vsf0RhPSUAIVBOmXYNkP8Nab6JDApIZQbUzAheoIswI3wKCOJBPB6ef-Q9F6lIF7ZGWXwhQD8JIB-CCIIIn+JwjWxkRDAqIhOmNlhHwi7OB8Cgle36Dz4KRP8IEXiLhGswwRw3fXiSPG4MjrECIkPsiLzqkjoI6Iw7NUHNjtx6RzIqUNyLBFPBSB-oYUSZyJGYQvUdtcdISO+EyA0kjSe1vvnc4nCQYWotGMSkCB-RXORIgdke2pBUjtKho7mMaLWxmi-o7IiOuqKF4awaSCeUUWQHFGtJJRgwQyEg1dHVsFRmoqgEaMxGOisR+yE0TxFVGRxeATVdqCjH0BFZ0hIvLhMbwSyZVzA6Ue0aaO6Bshug4I0WEGXDLpQcQhYvwCZQ84TwxhRgcINSQHigAs6OQj8PPyJCEIUxVAXaOeG6CMg+s3Y9csMM0zdAGxokYzM2NADdBqOkgUAOTQAASpbBgAAEFwA4AUtgACVyakAAAPK1tkAQIcanxUVrWxGESQo1l2OqwWYlhOmBMS1CTHIxLxyacbrmIfFADzxbJLrHQBD65jOgjYGIUiTiG-jMgZ4jSBeJ0wLilxq49cVuN3H7igJA4N8YkLAmfiwxFmHTLmIjEPiGAHY91F+KrqiIPx9AdyJiO8GRw1QyEtMKhKvFJAbxygzET9C1EqFRsLsemgdj5JqATABGD0gBI2SsTzIVWZNDeOr4ni1AoEqifJi-E3iPYNHF3jOwcDmxGQAABhOB8Uag9kV1BkCCEl8lk1AQYA9C0lCoFJ2gIEHJKMk0iBaeIIcQJDMm5BjJpAOIQwnUnXQLOAMFpAEEMlr9Yoek+amNBO7+VSYZkryVVD0m+95OcYliIEE+IuT1OqQaoNkC0k9igyQUnSd5NNBHYlamkjgNiOTxpSUo5IUBISJaj2ROgiGNISGDuStCwhhkUoE5MyktJFhcQTyalJCm+hDIEOKwXYL7BQ0lwRUhgCVLYCIZDolwosn1IGmIYbhUA8Im4KNIecxppUhKc2Cn4VAcRoQSFCf0ICURXJdE4iIVMCDFSFpIsEhu2BclaYti48UhsFhrp6dgYjoY4aHR0QAViAxJeMJIPQhiwJYx0PKr0Lno3iXpfEYYXQU2itsNYbmQiGSPDD7T+pC0jYTdBYBKMtQWAf8PcJOJh15KY0QsIA3grEADpg0i4XKDLjYzcZE0lxI6DgYgxEaz0kMAxAYiPQoZ405flPwg7swk4AiDaO5M-o7TBy-rWil9PK7dC+ZUsH6LDQ5nXVFiBgBVrWK9COx7oXdEaA4F5q1ZrYMslaJsL5lV0yRRQNcH9MQ54QFSLQiaClV-Dq48AkIM2SGDFh8zPpd0L6NLBFmdA-pFUreJLI7CjDpZEw6CIGDoCKyesssLGJrKKCwyHYasOURODpi0lNYLMP2bjG1kDCuB+si-CtO1ipANksc0WQdXXimzzZjRLeDNg4D+YJBuwxUk8KjkczY5YssQnIPjHezraSs6zAuDvBbUSuAw8Lm5lmz+Zxebc-OQQNdxBoQsDc8bnDG76nTCAXqXWYgMjkpYWZjVMJBtFHl6tG5B1YefFnBFJYtYgBaeWzMeCEA7w88uOTECzmQhh5hWMeR-BUFjQd543BWbXN9kNZBRY2BrKSFDlFBr5uIX2X1nvnFkigfWJ+QHINATZ6eecubAB2OSEotJHCSsl5RQy2MGkkC2KlpNww+p6AqSBMeEjklpVsU+wRKQlUMm6V0FEIv+jp2UxYLLORfIpp0BKm+A4ECFeEPT1hQRh0FEUtyOvmRRyTFpuMGflJOn4R9hZ7sK0kGVSQQUsp8UC8NFJaRxTMk6CvyOeFfk5oaQSaUYhOFkW+zOFaE2iQHLeAoLkegij0ugufnTAZ+Fci6ir0VlUFW5fmHuTEEbGZAtBkRCThH3YUOkdFjAPReAVyr0dJAK2V0foFkVUFDkNHSCQwA3GWQAAMqWwPFHYB4qk8qpIDElyTAUXCpuR5zvFSwKgj4-CRFlfFtj9E8Sp8ehPp7ATGwuSmSoUuEWAoIJi4oJaEvCUISQISEspXkqSA6YGJGHf0duEwneLsJuExpd+P0UNA6UWkkia6PhDV8OlMYiEEIIGUcAhlMYt3lP3Xy5LElp1dIQxNDHajsQo2OSeoT5IsLhF7CvVmovYJxyRJsS8ZossOXSTPhW+d9vYpj7R9Ne8lGiUcskZBj6JroxiVQGYl+1p6jLQyC0t+GswGRz7ORu1HEnJD3g9y3EEsvXrgEFRCyrSYClUVPLpJSBF5TGOzGYU7F2vSFUsLzE8R+FPM1oMiEZDliIhkKgic0VuWa9RC+oqWV+CJUP4zuYSLxurwcXa9cVmItGtP2RB5wKChJH3gMLxUYqwED4h0JeIU5i1Mx3YtbmAk0wDj+Unw5bIEDBXeTGAD41QkRO-H3wqioqjaLxO-Fd1exfgRkF0qzCdj9V2w88N50bxWJ9VeKhds1jGUOjugxiTVTMrWw0qGgpUHEK6pQnETSJpHRnpqt2zYtrVUUkCHas5Xxyi5xEc4N0kA5KqWoZk76OqvwUlieZX4xkJovXDI8pF5IHVW2LFX4TDVQZPsUCFNW4hOx+E4klasSDhrhF9qgECLSdX5jtgokOSe6r+ierPW-AH1e2sGUBrDIgUrSSGvUJhqrEZkqNYXLPyxqQF5gYIQ2uCAqrwkFqghXstXURYF1bCi1fTwXX6qNVfq78XEL3WaqD1EkrVcRA+DBAghmqoWeqotXSKgy+CSieCvDKBLoJm47cXuPAB+R31a4z9XBIiVBrD1o6xls+uXVGgEyI0cEBiC64mDpMCQvZWmvJBXrlVyatVW2PYUJkoobAVmPEsZCBLglYSn9eSEI3VKgNS4OSaBsOzgb4lUG3ObBpyHZEKObwS1ovjkLOisgHGuIWsVY3zRs+eo4xRoO43wbIpCiECHxpRCv9BNJJG4StSoyt0n0ZOFIGxrvwca11I3ETfGrchrFgoqm0wAJowUjAtNfFS4npvmjSadMcmmSjUDECMpWY2K9TekOGlyJwSfFVjfgHimSa8OHK15WmOY1KbvNFOILRDXUFoq1s9PDzfFMuIhbeV+mygEjTFKUrsVvG+gPFri0WbC8uEdXOFqdEexvVoiEQCbWS0R9-KUWo9RNT02ebMk5mqTb5vRVrrKGtW5MPoGa0JbxuHoxgV6NpF3tfRAItpROBK13LdNKm-jW1qRqCrOVkEBoAqKq3RbxNymwwPFsBTjastg2XLbGNegFabeFkIbdSvaZLbqt27C1LZq0Iv96ta2Zpe8rWVfKw5Py-bEjINCQitMWKhxadpwpUr0UwAv+UUHcVLYvF4yibLYGy0Ty-tni-pN4vDn-hAIBpAeNNvGxrVOVW23teCDt7FbXtMffyu9pmh8UUYJgfgJEMaHNzxiTgluvRwtYqooGVlYVRQNT6Llztk2vzfUEXrXamJ9rRSE5jOaKQ8d3nB1LkJKR9QHU5tTnpAKWF9KDAOYWmOCzJE91Jd485Ai3j0GnCBAPUQQqbSRnQ6ig4IWnbgOWRu9fu1IRbODrxWKMkKEGWRhtvpgFaddVA-Abtox37bQANuvAalVUnngbg8-Zpp00ZAABOE4KAi92tMTdMmgPR0yD0MSfs04D4KCS7o8COR-KRUtwIvwuA4KSk7+rEED3ooJeEvCyGgDz3drXpMawyJnuN4fAEZDQTPXirZjmxIxxI1OKCQ8gaU7hrwjPWHufTvLI9-nSap7rb3CqKFrTahQWDfAsJr1F2p0coI23I6iW-eqhUwBoX278wjKT7f5Rn2D6cdoCNgakGxXVBSoq4MgK3DCRpsCVVIVoIyDv6d5mA8-TfV2K9477+AFXI4HMvzUX400pAA-Ymx24uYwkINLSF3RL3ghPIXkTfdwpj7uhmu9+3vAcwRDy7W9IUTpj4s95NVsVrQY4DsJnUMRXwdqgITnEYQJCpQKBrulusMlLr91J6w9Q6QIPElXwr+9-XwU-31pZsPMKpA8MKD-7AD7DfVfEJCGQHADvkNAyeBplvTpgbB9g15G14Xh5FCWng7we2GV6Ixfy95bdrkb3aRacfBxZrP508xBdAMVoGLol1S71CH2M3onQd1a8pERu5bBDvGXHZvERpKudpSEaMJ3g9kXOHfq8rnhT9QIc-Q-2v0tc3w4BgQMbUf1yl+G-0cMntrMOG7Oo-2qww6JsPWTf6S3LIHDFC0yRUd+ASatbGWhhZyAUkf8LQUQOsq7lmh-IQ6l0MaCUjVdbqAYcZZGGp+nE7DE4Yg2ZJ9V3AJFW0Z4VJLsSQZHrHItfyMgvxdcm2O0aZDnrCyX80MIYoOoJHlCdWM5Qon6PHcu5HmCLJ1um5g7LDJu3o34r3ib7Pt+gCXjEP0DFkAAOlgG3UAqmA+AH6MEHWzm6TmnLOUNBBz2iQaDjVYwXsexWHHzxxxnMmcYuOrSrjNxwXl2LGi8BVwVdHoKTHBOgAAAXqu1ABnGEClxgITIFuPVGHjcJ7xB1hePgg3jxgQqFBAaiOGhAhgFw9OEOMonrjaJkE983Z7kKTaLAE2soBNr+ZJgEvJ0HgE+MOLKTgJ1E+ibpN7Np9jJ5k6ybd64nfIQAA')">function check_an_assertion(assertion, query_pat, query_frame) {
    const match_result = pattern_match(query_pat, assertion, 
                                       query_frame);
    return match_result === "failed"
        ? null
        : singleton_stream(match_result);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p21' class='permalink'></a><p>
      The basic pattern matcher returns either the
      
	<span style="color:green">symbol <kbd>failed</kbd></span>
	<span style="color:blue">string <kbd>"failed"</kbd>
	</span>
      
      or an extension of the given frame.  The basic idea of the matcher is to
      check the pattern against the data, element by element, accumulating
      bindings for the pattern variables.  If the pattern and the data
      object are the same, the match succeeds and we return the frame of
      bindings accumulated so far.  Otherwise, if the pattern is a variable
      we extend the current frame by binding the variable to the data, so
      long as this is consistent with the bindings already in the frame.  If
      the pattern and the data are both pairs, we (recursively) match the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern against the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the data to produce a frame; in this frame we then match the
      
	<span style="color:green"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the pattern against the
      
	<span style="color:green"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the data.  If none of these cases are applicable, the match fails and
      we return the
      
	<span style="color:green">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (pattern-match pat dat frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? pat dat) frame)
        ((var? pat) (extend-if-consistent pat dat frame))
        ((and (pair? pat) (pair? dat))
         (pattern-match (cdr pat)
                        (cdr dat)
                        (pattern-match (car pat)
                                       (car dat)
                                       frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06Lne8wUbR4QGCFBhKVBYg6DBGHgeEKhafxwtiPPT7GU+tnGDhqngbpvyRvfCo1SlT6-QDFpUe5wY+ax1jBbxv6+UU5oOK0JIGBuTjVFu7brpx22Tu4AXKCFo36ekEHEaNPHFAgGB4CQVA0DxNBiQZ5N3VSEFzc6fRcgUQh6G5yhwf25JUnSBQWDIePFCTmoefCUAAB8S8U0UPl6zq88T5Oi5iMuK9SFg5I4IRa4LlPwibl9M4yLIE67hvYl7-0lc-KUh-r1PXvOtFqFjxtps7mfnkKALiZUfOZ9et7I9FZgxAkVnZzBD4FFd9k+nuHbCb2gTRVJi-U9AAAyN-en6QYX-CYSgUoDfI+e955RzSEbVehdX7EUVqkI+J8GBn0gSnCydAjaFQRozFwhhfDZ3wI2fAMhwH-WQQ3GBW9DoRmnlA-kEVQHNQYOaagYg6D-R5kYSg1cxDcBRoQQIbhnBpwEkg8ETCWFsK0twKuy0eHIz4cQAR9B6agNFGI1hKdSHQM3unMB8DaiINBJoiyaiJEYP3ixExKcGA4LwYPHeND74jUoXWIY399BUPsd3SYyjvYuEsTze2BYGC8P4YYZwmihEHTcRGDxdcaG0IjixUUFRlBsAmtlOgHDL6RIzrfBBSCX4WRLEIECKS0mVXoPCUu5c+55P0QUygl8LK6xamU9JqIqlN0wZHNpFTGA2NbmBRpWjYhOOiS45xD5hneJ8Vg1iJhykZMCS1EJCiwn0CySMomOjJlZEwtMhJ5i3KijSdnAWwS5GhPCb-QmsC6mn0MYU0SpyWDnNWYougZjQEvPOYuYW5tDCbKGiNG42IBn4IYIQ4huNdlAoSd8v6rzyCtXwMIXwQLbkUPGbafZ2TDkqNSIFaxzAtASIxX+O5eiHlzieeCIlHwqDEFMbMyORL3nrMyTcilWKRi4tTh7AlHN6BsVRHHLl2jH5wPIMfepjzhlFOFYvZwPx2XOE6TU8eUqZXUvPvK0SbwRXKsbAy0lKcvm+O3ktUVjZ5FsW5FoclywRpnwYIEGQmzuB4hZSxA1Sr6A-EpG0As7DxWjK3i6t1HrQCkjnha311rGFsHNmgmgOYAahu2cI0ErrKhRp0AKi1lcg3c2UOm6ZmKdGH2lfkuVTTRLGHaCW4g5q5kMIbcG0tmywgVqzXOcE7am3gikcMsIsa5kDscC1E1TKU6Aq5bEJ1PLBh8vhRaqopAPjEsZWSl+3buU7Lcbu71bl+EgWnRIudI7gVbz5aO2agqmWaFxBOztR6e1ulFOkTIXbj3mBOesM9JKZ0hqve+3JX69kuKPQWuZop2AeC8I6wolLq2yppXq8E8HlBeBbZHLDXgUVoqQ2Gg9vKoMHJAYW1IGhCAgntdc8t+7JX3IMehutojCC0eoPRypv6XDzwufIj5xGH5RLI1MvFY7I4TRWqqo0ImxnicgxJ-lMGD6pB6voXhOTdGoZ1VpuRFlihmM9vPQwvslBQDgIgZA6BQ54kSUjFCjKjEtDoDma9lbo6LxcnYuJ3dpKlBjr55ZETpLNE-RA6hAX-RBbkhJaxuDBmhfBQQohaCSHRaLjw9z6sjJgN6RksLsWWhrgYIV1ErnuYefC2A-xYIsup0C6Vn49Wqu5dq6KeNRrisGlKMQMr3X-V+eHlfareWlL-rOciuTmTGsTZKIJcmP1fEzkRb89J-0AURLQjpaYPzkWtyI-NnLNX-QRdSC+gG83msDZ+FdowxbJ1btNTzQFJ23NnYNBd1qXJEM3ZK3dxs+H2tfZWD9+lQGyUA76y1xskPt0aMa6dhbsQfs0bo0VmHGsMfoqBx0B1AnZs7c+9YXb0EXVQumoCmTgmrnyY++N1HYYWikFMq5qyNk7KOWpL4Hm5BkYeS8vjxlJnQG4-0MibgMm93LFfE-XqCglVppW1gyXDhfwKhGrjhgfDqBK9TS1ee6u6DS9IGIO9sR8KEXdMKN8qRp7lFV8mE3muGjnn4RkMqIvCe+MI+i5EZPDJ7eZtrYJ7m4L0DJcHvbiY-d-KNttwP5PY+hhlyn1PBoicR-kOo9hgfnzIa3qKIlK9PdJuZ4t0vVEhU8w0eXprE5midg1Msa3J4FQmWCCbiy1lbIOX4xaygvgSBC8EJxtgvhCpW9mkc8wlOiHU4M4QQwKP76iZcKC-QMnAQAD44cE4BjJlHsiV9qZYkD2vhrhug504fUg-BVB4+cw6obaCbWBDtS5xnuXK+6QP9-oqgmoGo2uwj-mDuDgAa-kAUaomsmq5GmiTuNpRnMpfg9rumvsRPLqkI+sPtYk9q+lertEXjoi3n5O3v8NgYggBi9sBrqpfBMOvnxDoj7gDOupuuehokepwMgeSBQUwTEOeOwYBpfMsoyIZKwZLnBBwVDlwVejwbln5IKHbiXsTKFsIcSqIdNG7qGCNBoS-MskoVbseERIZCNGgQQQDDHkTDIYjm9j+goR5kYXhHwbPt8tmlCg4GolKBlgojplvgwHvqJJCF4QIiwrUHCNwL4XenQhaoYNyIwPgPwOVgsu0s4O9p4mQuSFQQ9vNsQbEOeLuoyFdrQRehEs4RvmArgc+pYT+tYaUBBtYWsJxtrEYAkZCskRVukVIRuoBnYfQZQBMBnntvEUIB0aUqkX0oCtYROG2rUaeqUbOj+t4uQSYQIZUckpMVjpkY3qGEFoYl0TlKlhEn-qAM0BBuQW4RapfiDsjqTvfGLKir4BLH9v7uUeSOeHuOZkCKMYkZ0VsaiICkdr4IeIIcVGUGgmEeqN8cCB4UQqEWEuEYMF8aCZUZIcCbIizOHjmJHnnmCF8cMZnjpAicwtCdwDMUSdMEzigZHJfgjq9g1jsZgRKm6AwtXg7NYZIWypcmsuEuAfitcWVm1nceNg8eCdNIyJIfVssnTryRsvyX5GoolrYqFtKccR9tNCjgrFvNNDSRfmVocXNkyfccREqalqFoacqYMjtiGJIZadNLKcJvyYSbwRFHgGZhZv7NZkHHZpYI5n+nAg-oAuisjHfi3G3P0JkqGaAIpKUILv-OyA-v8CbKzuzsjBZK3PgpGZrCQKYLUAECYMQNQGmsII0GLhagwsbgnltmQKvqABiSaSyQvH2o7iIM7h0oSTBJtpILWdwA2a6XPrkq2azMbjIGGSxkgjIAqnXE7vPLhixAJtWT2RupLjphGrmlOaAF6lJguX7sCauY4uGtmpGpuTGvemun7tVriWSmOYeTouue6pufmnqU1MtuyQWHnHXlkSQb2mCHSmodNEOpamjLPOebBoSgBTdNoXecxlSqxrzFRBZO+c2nxhvjKW8CBeNDjDprCtoefkjI4F8GEp1NideRoqKeQjohGAOaAhoTLBRU2V-CMDRdcYRfgMYK1AHsLJgRvD+W6KTHDFqbNOeIAisonHgVebnhIoyBcf6ZvstjLKlnWdTjps-ElvgspVRDEYOYbP9FaRpZLsLOvAunxS4IdPLGBZHHDMsoCnTJELxSRgJBGBZbEagVrG2ZJVHlwepbqNjHWSwOsCsrljBW6BwJ1IAkYD5d2gmWFWIBFWuEsHsaNGZApcLJFbYppbqGTvWYFdiX-s0LFRFUpeEAADzAjcxxU2wJWnH-5d7TjggAAqckS2dAzxMmvAF61IWIXGtQzQ4IoAAA1DGZntIp1EKOisVYNaJBZFNRSYUKNWIONVhRMMHsZGzt3o1c1TIMQPZIIObh1bOl1RPtQL1aJLNSNZwstEtZNUNUBf1UNXNbEAtUtdVfhfPvFliPpcvDdKlsyUiKxTmIgnJNiAxSsKAr8elYMplbLn2HchBpDRpTVTJNVkDUQPoI9YUCWkRVdJ5XiVpr-o9c0KlipECIdMVRjf-odNVRTUTQke4lBlFdlRGK9RUQxMoQYNViTdfGJU+qRVJd3OsZjetdOL9aJNZK3OUKAL4dPkeARB3n2EIcLIyHRWlbwbDVvBDdZUpYZe7J2dBNZUvnTKifGK4aZZ9qjSDYoVcXMmaT5Slj5djH9XHqge5hbfjR5useDXTUpX5fkS6MXv3N+uTehP1q7eiNiBjVjexTjTnl5ewkzjMUTT5VzWTYzXNaUKRFTZ0JlUjasNSHTZhIzdaLaCzSGNqCGK+JzQmaJcEuJbiLjRIn7UUHVQjWwL3nQBLSIFLUbGPvVjLfRGscRCsIrT3UCCrRAmrboRrXTVrVFTrWDHrduAbVpfPY6KzabY5W6CjeHe7R7O6b4uZnIH7FZoHLZiHBgHJWAnrgbsWUbqtoHmBrptqvBT3qJNfcrihTuW5O-YbmzInBwBIkVg-UxmJsui4gXnvOeD-bfe2ekYyEgs6CInMEBbEHMBOEHvtoYuCByCgzEByOg8MSIghLg8lQQ4g1g2fCQ2fGQ5g32p+gPEBfQ5kP6Bgw0CIsFLRuQFPs7OxGks8QaKw0UCInVbg3VX2II4UCIlbKoIwiwIYEOtI7I+ZisBI7ECIgNSQ7EPoOmaACCUEYLkNfw6ozECIu5JozENo9wHowCPvoLl5EY4Q1g5EdMJY7o3-LY6AJCLozEMY7CX2sAOYwYDo9Yx42AA4+Q32gAKSBOuMhOgCC6RPeOgC+MiL-yaOxPuPxNc0gmON9oACEwk6TwTmTguBTQIOTETf5JVMTxT+joAZVMQFTtDVTAI5jGTdTJVQIbjuTf5u+NTVjJToA++jTKTWDu+rT3ARQ7TNjWT4zIzPTEIeTgTWThQMzMQeTsQoZzoToUDiuH9sDRxUVgIIYW+cw3A0DKuZmOz4JFzd9WCkKLAAAViYIMccysFvsiEEUQ3s4bkBbCgXr40ULcwc+8E6EVO8CVD8zA8Um9vA4YiIi3kBS3oC5SSY1g5AHQGqIvNwzEBi1i8Pii6i1I1QDI7AJALg4o2S4S5ScS4AgwAAKIkOKP0vUtEkiIABy5A7LgTnL7LudOk1zELPAULKuMLZ6RzAIJzGgkuQR5l2VwLYrd6uz+u+zYrNlbz0wHzsr2KWQY58rIrLUirYL4uE+uIwLo5DgZuYgZ8OmOu304opAk+V0jz5AeY8RvUmg6N6EwL+utGdBQDGui9RQMmNrRwRQ1tkcwEn1DdGiOmoeHlsdeN1hNGrR5rfuPtw1meCrxUJSX1YQQbsQKb6Mab9z+ATzLzdZFNwrKrv9arKlBbeDN81RfNcdoFEUHAAgNd1rZbKqib0lPx-EhALbeNYL+9WCh98glmAcNmwcmAl9GFFApgDAjaHwVUNwpAiGLS45WcOc04uFE0mMjoqOswOr9NJdB7T4cot1DA911Il1Y1Mg6K+7QM2EqOzQz7h7q6cyCcNw+BCeWgP897FutrygygHVGQLmRg0uoHmT5mQ12+oHXN4I-VpQyHZx01Z1Q15AMHDbKwyHw6XC2loCDgfyxgHCXCVrdZtOJHE0xgzw-4jFC1U14IEIU1P7yKxg-7UoW+1HdApHuMMuV7ok1g4IX95gNHG6LU5sCg2+5u27A8snO0IYqHEG2k0wP2SCMm4QH80k9uaQCnEYWnPcJcTFYDtoRnoAZTokxmx7Bgh0WnSHxmsZwFi7IEK7sU67iGWnKZenGO3GRWDnOnE4kWJCROPJwmRnf+qHrHQ1EnHF0nriIwMuin3i51fY-Vt75pUKvhJuyYjpHKKX4QD1E4GXU1cXUnZAMnsKyXkXRXwe8Ian32EJ-HeUoIQFx+zXtHFXpAPEb7V9S43nGs5XEIxD3ASC9ncnxdWQRn3A5XTAlXfXlcQHKXynokAA5LezvrdRtyGETUB0tVp2JyqHx118uwWKQOio2hd-J9+v9NnLnIdFd006i343+UIMIHdcEHdXZJIqJOaGmHdQ-hwPCJMKt8N49+dzk-eFkE99lXN9J31+D24rD1N-oCj515J2d2QCCS+eYC6268oB6yBA6Xwh4GssvuOX5zxpktpqtyIlTxkkBWF0JgV9prh1vvj+sIT9QJoDKaT6Wm4JRxT6D5ASFwDLTxrCIsZlInbdlxPXIiL+pzmbjy4E94lvzsjLrvIAL4CtpvfFQQz5VtpvkUIem8nUCCGFl+lhAsz-TjTwr8bZalSPz2svojLoyFvmrzghr1r2T4L3tRbsL0YXoWb7Ykh8Q6t6TIdC724G7+bvm6Z2e1kDH8YKzIJ4r-lgJsTQmWJG15H9r672n-H7t17Pc9n6pJz+6zz8T1RI10UKUAJaH4Muz9K5X9z7zyTwX-78l8b31432Xw7cK376n4wvH6ifwVQTl8b0wc6lg9L7ziqXLyQsb6sXLaYf7SwXIpca5ZHMPiQBTyFbkqTBL9MCe8xQryXy3bwu3f3jzrNuyCPp-ZZT6vQCBbrwr4f-12NCfzJNRRf5AVf0Mxi0ucA+HMnb2AqzpyyNtWPppCqiUB8ArUFqAMAqCDA9elFJyo-wP459-udUI7oIGEBp8YBsUfcmgMYqHQMKSxFfhGySQQsSkfUB1Nf10q4wHAndVmD1AYDqARAHAUgLtFAS5BCAeOD-kPViBUFNM0-YQe7nBLiwgQksb6PRSAEWV1aXmMUB+BViDA1Yj1QMB3SSJtl2BnA4QNwOXxuwwYhNbeAIMdgkUV4asR3nhDWJUFj+DvQWpvRJhLh+BT7NxMb24BuCk+wvGwYxEHpmEt4vCdeibTNreDtMKvO9oED+iMIWibZCoHwy7BsgEhXDfRIYFJCf8mGYEL1KtxSG+A0hxIJ4CXyj6HovUuHJ4EESrj9AFAsQkgPEIIipDAO0QmoZhDKFVtM8eQgoV+wPh15HW-QFXJ0J-jJCGh+Q1mOkJu7ZDbOgw6xIUL75LgyabQ6CBUJmbVBzY7cAYSMKlDTD0hTwXDv6GWH74qhMQ1oSsWoFuQjhNQmQGkkaTSspc1IHTFcKoBoxiUzQ8jtUMti3DLW9w1Co8MoDPCLhbwv6BMMBE8RVujRUXr0PWGtJNhgwQyGTU4TVDWWBwkGNcP+EIi-oIIsiBcNOE78WIxFa1pICOLoiZO0ZdAfxSXA6NkREGN6i4DUAmACMYxHAZViZHOBuAavDiGyMh4-QjKYpIVlbDUA5oaQSaRkGbDICMB+RNsdkQbBZH0BySL3bcGr0UHOCls1sQUV7iQ4yA6wtQOvotnBFK98RHbIka8IlFqiK8kQ3gBxXagox9AHEccgtUS6DBbRNI8QAOABHdA2Q3QDIaLHBIwl0oOID0X4DPJm0J4agowOEAaIDx0OhgSIVaM15EhCENoqgLtHPDdBGQ0fJMdqWUGaZug4Y6zv1WaDdA94HbUAA1QAAS9LBgAAEFwA4AelgACUGqkAAAPLstkAQIWSjpW2qqiZR7wRMX8LFHGCRYjFC0S1FjF9jk0tndKFLAqDIw3eRA7oqKKSB9cpxnQRsD2OjHP83IK4zIIwnnHyYdMZYisdWNrENjmxrYvAVONjFziNIgJccWKJ0xTiARsYhgPGPdSLi6A2VURHuLoDuQLhUAqyu1F3E3iFxTwgcUwJ0wXCfo1wrfDHhdgdU98FJOkdhkYSMAex+gOCeZEnD9ikgg41ljEC7ECj1xd4nCeBI9jFigehrHQebEZAAAGE4DpRqD2RXUGQJAcdWp5sxBgD0FiUKgcDUSgQFEnib0Kmp4hMxAkASbkF4lkA8BDCRiddBfYAwWkAQbiYbyqjUBfQn-UmOCHn6kwBJKknKGpNR5bsBScyQIL4TkmHtUg1QbICxOTHgldJbEpZGpJko7VmJHAWoZjlihqSUo5IUBAiJaj2ROgiGUgSsDuRiCP+hkUoDJJcktIjBcQZSQ5M8m+hDIP2BwYQFOIN8lwfkhgAFLYCIZDongx6llJymIY-+aUjPk12CEb1M0boIqYFOsnNhIhFQOoaEEhT29CAlEeSbhPvi+TAg-kuqUONbAqENME0LTDoXHh24g0ccRSS0DGkThHoSZCovGACHoQxYEsY6CRTkGq1cJi05gsxhbybR+Wp-EGNnWIDtDwwvU7KXVMlhWDC8Boc4P+H4ISCigdyY-uEBmKlBapuUh0aNOM6JliAfUr6dRXKl9hmgmowiCEJnxm1PpQUhXpEPjasx2YScARBtGmlrgup3ooVtIPrLrSvo0sNKtNKVExBXwGzEMV6AsE7Qm6I0BwONQ+HWxyZoWNWHKPlEDQ264EsNnwTsFDS5JWFX8ESTwCQgBZIYMWDjLWl3RcZ3IiBGjLZkhgRoJMjsKoLJkaDoIWgmmRKNlhYx2hDQa6TdEZmayigdMJoprBZjqzcYUswmf4LX624DATU7WKkA2RSyCZRldePzMFkhSt44ITUXsG1Gr8bcT08wu5R1gXtgYZsoytv0vrUzH2tMriIQAXB3g7KZI-jErRz6eyOAH3Vbh7K1FpyAB7QOODHPOakhVucMEvqKE0wxy3pGseGWzCIRIywkG0POTwDjlGVi5w0+CBkNW6VzEZ7FWuY8EIB3h65dlUAC7MhDNzdcS4Mue-E-hPwx5BcobnQFVlUAuIEYMuXsIaBLzSQK8ooBHNxBqzo+iw5mQ0Gj7ry9ZWeJ2SXwzleyPuMYwlCxI4T9FxycFBpP0SQosT5ybkN4KkgtHhIKJOFU9t-NQoCT9y38zIYHWUygL6pR7Onlg06ABTfAgZAsPCBL6woIwf850TrmRQUTwFnI7HqPOwmm5QAionkRjKpCpJIyrk+KBeDMktJLJmSb+X5HPBbzTRZUYPAwrVlSjcFG84sPQA-kFcSFYxb+RwoaAEL3Yokt0AwobwajM5Oo2IBGMyCX8X8LUJ7uAreK8LGA-CmYgaMJH9JiR+gMRQoi9yHJixh4hgHWMsgAAZelm2KloDx6JtFSQAKIomAp3x6M4cZaI-DIxiJH41bpeLcX6IHFHi5cQOFXFkLAUqFbcfDhYkhLP+RikxeYvAAXiBwV41mH4vfEQTiRtQ1ojHkfHaLnxr4-xQIqKB0oWJv44kfCAbZZLXhWkwHkUr-HGTpMprYJR4ucVm1IJvwmCduAolBEKSaCshZgqwnJpcJDbAiTI2SWgSSJRtSIWEn-oKLIeaPLkU4qYEvDERn-FpdBOlYhg4YnSvsJBKLasxBhXrfWoBKIlsL+l4EvYciJ1x+LjlYEo2oSS1rEjnRrBLHhd1mXY9BxiyoEbyKpCtBPmQIP0XvwBjo9wQjyp7v3Q2LyzlYZM75Rrmc6TK-WTyy7pDzeXYiUyUKo0l+UGIvLruSK+5VfOnEowHQfYu0ct3TH8pqkYCTTCStqV4j4BgQICWmFUmMAxxPY3aFQVjEErmVTdFMX4EZA5KswCY5lRUXPBgc2cViHse8qEgY1yl1QnEMYm-HFLmhoKwoKVBlV-c5Vf4oNqTB7HcBkRwq0ySBDFXYjx+y0mfN0mpXBAWoAk76GOKAVEKSooylwECHfnrgCutC7IlzLZV1z7Vs0w0EK1TFAheVuIBMSksFXgldVViASRcI1Z7YpVGI7oM-I4Dyrqhiq2IMqrjWiQKJiav6EOkMg6SWJ2qzJmGoCQRr7lRqy2cRHOC4i3IyAshZClIB0rYBGyZlcAp6VNrVu1ajBcypL7Vq0JAqzceYG7Xfjt8343aB8HNX1rPJjKtxUOuAlKI6F4JfBIQJnXvBGQRi48fWMbEti4l5IVdTWPXVnjLFmq78fmqCILrx16RVEiNHBAYhROfavxAQJ6U2ryQo62lZasnUzjwFqJKKGwCSURKV15Y4xWYosV+RolgGg9UuAonHqZmp6hxRevdnXrcVzbN4I81Wy8IYayorIcviI5rppCIEJDfNEw0-zz+Z+PAQsTw0oh3+Z+T-qVKw3gVa6vNYKMhrVyobgRzGvARoQY34bmNn-fKXIho2soFEpSFIIxtMAUa0N1UlwNRtQo1AxAjKVmIoq40JzE+rGs4eYCQ34ArJZGkTdiuaHjlEN9AYTZVk02DFbOdy5oSXzU1WTSN+m+aBkToAGb82c1YFTMo0JGbPy9moPLhCJKmbERHsZVaIhEB3UnN2PIChZo-E2KLUDG9TZkg43kbtNSyxTaKGbYxaXcyW4zWCIHjFzIR-Q6EYkNhHbggtzy9jUJvw2paE+3moEZBAaDIjItlmgTeVmK3kb0JDWkTR5tTzlbeur0PzV9wsgFacWNWsLZfWk0uZ08Cy7EcsrSWtK1lS9JObviwCeaigGG3rfoCG0Ad4VinBzfvKerLRDRWi14UbVsDzbFsGi+AbtulUGz-wgEc4gPEq36zhY4q+mH5p+6Bb5F8KoCitpmg6UUYJgfgOLyEGMVJCjArtl8ACqNgY2RcSIW3yJ6ql4+cWj5aeBGgrKqAbS-0BspsaKQvtYHB1OpGYA8x6BVhTPBN2A6Dj8l3UWmO43aEt0cwTM5mZzlv4uCBAPUMfPdTm0XaClkO6vsshB5RdqQ22zReKtXr5UrFmQReu1oe38AIQ7OjvrXx60vaQV3ASXTX2wr0TzwNwTXhwz4aMgAAnCcFATq6uG-OsTaXx6S8N9dkEnzCLSvgfj1ik-BTh8G9XGFLZr4B1SJBolN1Cgeu9FGtzW4WQ0Avu5NbYLLWGQPd30u3X4Pd0m7n0aS83ZiP2TZUXAXkbcmXSqmsQI94qtmObCg5LY1dEe1BWwBgVwKAYpJc1bDp4if92tnW8XaIjz1cMC9z2-MIyle3S5q9sCpgEmWNYWoU+a26oKVFXBkBW4YSAlp8oECtBGQXvPnMwE14p9ExknN8Hx34DMcjgIPPyK+DTSkB+92LSzqpDCRhUtITdYPeCE8heQU++CyHu6Dn0CAhcZjBEJmwaDB65uii1oMcAtm+yGIr4MVfAMQGMICBUoR-U3XbXcTggZ6xtferFX7lf9FRFfX3ujrD5N9QIftF7J5hVInp4ekKHwwhCH7PITIelf2u-2iAMDnkXyM-pPAMRHpIYfffga8hPcLwQo15hQav0VEPd-OwyJBOR3TbR6s21PPfpmWazsddAlzK0GJ0GAqdIMTJh5jwmxAltAhnnZ1B2387qRpwk2pWvMAaEhAhgeyLnG738BbJQrEfUCDH0+8p9LXTQwIFuqL7bpI9f6DCUkNSJedJ2uQwPFulw0FOcMRKkdPBB2QVRagZaPrGYBSR-wzeE7pj0UW8Hcd-B7gOZWFgJ9SdIhoImIciHvio5NsDkT4aaXKjUdqkFOdqJv319RImRrOUr0mnJ8DYLscuUdI2UxAR5pcpMdkcWwdyiEnMD4BomSMuxcJI80mLaInlf9pwJRyPvasSM+DbR+S2IBGBKNDGYgCRneW4kGPHy+wh0UYzMdDBG0z5eRm9RFE72KK1uTI-QMzIAA6WADtXENZgf6ZAwQGThBisYDM5Q0Eb3aJFX396n+6xmZZsaIHbH5Rexg481KYAICTjPXRMWNF4CrhsqPQUmACdAAAAvTcDED2PBtDjXxn6KceiM9AITVxnSDcfBB3H2KT-KCA1Bw0oS1DucTY7CeOMIngmY3KBXdRYB3VlAd1D7pMDW5Og8Ajx7HvoEJOfHiTvx0k69whDkAKTVJmkyDzRO+QgAA')">function pattern_match(pat, dat, frame) {
    return frame === "failed" 
        ? "failed"
        : equal(pat, dat) 
        ? frame   
        : is_var(pat) 
        ? extend_if_consistent(pat, dat, frame)
        : is_pair(pat) && is_pair(dat)
        ? pattern_match(tail(pat),
                        tail(dat),
                        pattern_match(head(pat),
                                      head(dat),
                                      frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p22' class='permalink'></a><p>
      Here is the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that extends a frame by adding a new binding, if this is consistent with
      the bindings already in the frame:
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-consistent var dat frame)
  (let ((binding (binding-in-frame var frame)))
    (if binding
        (pattern-match (binding-value binding) dat frame)
        (extend var dat frame))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06cDwc73jxxQIBgeAkFQNA8W5i53vMYgUKoAHcgUQh6GIOhKG4SWcyGkbRRBLQKCyUXxZqKW-WmUolZcxtpv0NWJc16TmlFOg-pFxR1clygtZk-LCAYQxfAUFh8H1m6Xbdj2GHwGQ0ktw3reNu2ZboOXTfdVIKmUNgJuyuhg7F0P7aKUpBZ+WP48q+hk5tqXw8j-0zdSc1qDEOh-ql-PU+kjO1wYcvK+rsEjY16WWgjtPVmjhg3jY1FOlrjue9iBufgH6gh9VkOO6Lsewz7+O3eEcgGBRwhAjcZwR9txfdME8mfsRvOV5YNeGEXfHJDIQw981tCdOmc-L-d4RfAfsOu+Lg1S+dtoBZHBWxTqPeuLRG7GHaJLZQAMoFANgc7ZgWhW733bvvBeUdRTsA8F4L+B8J6NhwcoPB6DC4-wPv-QKSDhat3weAzOjZqEfFobbL+mCS59w0IQEE3JUT0P9KUbhbBP6MI6FofQTMN7Iy3sQHeecyHf1ltYJ+0FZwgX9tdHG98JorU3tvQwzg0FzwwRQyhLRSCmXYaJaytkHIuBdlLcgyMPJeTEcLQqEUmaCEIDwz+yJuC6LCITV8oot7UAUNPagOYWpM0kQ4X8CoRrCNxOEyJNAYkn35knAJghSBiDCDRfChF3TCjfKkI25QsnJniXQRJDRzzbwyGVdxEipHv38Qk1Rz8VgozRsIDeEc4L0DoYZHpiZT6MGvpbZW99kQqLGeMvJBTulLJWFI2Wwyq5sPmc+QoCtUjUINk0tgdsxmlCOVRfu9A0ZghOWciczROwamWMUk8CoTLBFqRZWxdlHIg0meyXwJBXE+L8YVWI5wvGAvUX7AO0176b0MAvQmRN9ouBuNiXRgIAB8ED8zC30LoheMsZGFNmm9ZM+LGxTxntY5RqKDlMFIPwVQoihYSNpc4H4si2J8JAQXJR3cD6H1aVbJaM9rmpmgTXRRKiKGKWMhy8Vg9uWNk6MrC2GSBWpwXq9SlLFGEAJlbAowlAFCUGRRQ1FoTUjEDFpQXE8CYFwPNZa+pfF0VlA-GqWofk3n-FtQweOHwaEoLYR8C1ExUUrBGmKyRcFQ0sPDTXSN7rODKP9ceIiIZzxVFIEmt1WiCyMkMvG-NhbWGprdWEDN3c-KCjKaKS5OME0FpAmm4tjoY2eoEhWjtRbpoNshdmntLpibUuNQggGiyiaVpTZas1UaVGZpDAxKFfMqWws0Q4ZuX4Lb-WCcREamL9AMFxaJSEu6d6V1qHCbgB65H0wNW5Qw3JGD4H4AwbOCdUTGNAfvG1TbUjOuAfg3ahp3ilhrYyUDiDk32ttv+wVh5x1etFPazQTrAEuqXe62dpR0iZFnWsXxktBhvqEH7L9P7c7vDbfOxD1bl0LLWTESjH6aMmBzone+s6JzNSnbh7eA6q2LrTRMPZjFR3EX2RO0UtHE4CNDDrUE+hFOxW9u7WeAHNYitAM0IjbB-UUu8Ua4hpCTHkIZcRc8HTGQWdavgD++C-Lnj3IYWD77qMgQ00YzaznfCoZUMVb1e7aieaBNugO17DG3sGB54LcblUBY-qS-pgycxbLoR51ZbH0KxYruqK1-H8tFGUc+szjdmHIKY23KzncbMBQnYJltBZ9CzvjdQ-RcjDEKIa-Kir+qqs-D3XQxRKLbOhemoyeNY3bZdukbI+RSc5V6vJHu52rttNdqJTe7ZUsts+x0yh7GBZ1tya9UO0zgKjV+f67pxr3dUWba077A293GBvZO7qkM8bPuLZ6yt-BJK-v1opYzSZnm5CsygHARAyB0A82JJuliitp563wYy+TqR0huzIFj0AAAfInilRQfF6p1QnJOyepHdh7foq2BvE9Jy+XHGQfuj0KDTtnYofVelc7NbxusVa7blZEQozWvWKOG4C0UzAxASAGeovDOw+j3B2tj9DqRSZpvCAAMn170foFG3XhGEkCSg6uFey+yX3R9WPj04410r4NamJuiUfZ4l95hvtwsDv9R3UuBKHQjHKyrgLBPzerZTsQpLlt9bqVrgSKvwTR60twCny148GOcPTbxop09B8uwJeX5BFe1Dd3OD3af9ut29949PR3tPF9iCNUPdYhgm-0GHgbkx8+Aqb9NJbueHsoeTwdbvEZe+Pf77bqlCnuO-t3nrifyRUgK9dyrtNFkSxCF80vuj8IWe05d5X7fbqLIwz+N+w-idj804RnbgH328PywnR320n+wJm7n0LwFAOw+QOieb+hM7eU+nemEv+Eeduisf0F868wBK+ZuYBzum+5+amO+okr8iBMio+dADeMK8Bl80y-0syoBf4J6GgRg22vsmij63A3+b+-IT+W6xB68HSFByw4BIw0+neeuLBqObkzaxMYadWXBbeaB5eW+mBl+okNWYmhBdu3WeBvWyBFq7+XqTBAh8+aOFS9Aqq9Aw8q+Tu2uZ+yushFqu+BhUSRhjYSB9AD+rO-oZeFeFhc4WB4IXKdhYh9eA+du3hFsjYvK1A-KEhaKKeoIDAgQMgquoAeI-hVKgRk8RoOGzGdsqBXqsKMRcRpIr03iyR6qpyZAWq0SrqGhmRkRoaORWBOgMBC+IGaRpqJh3BUhbhVeYInhcGxAShVKgm3ReGR6rRWRam4I3R4ImeNaiRLE3RvhSGFBsQwxIeEBD4v++RgK-acx6RQxkhWh3eEm0xbkImWx4mUxlRboUBy66xsBdqDq2GJq5R7q5x6+aQHOgxhx5gcBjGdCBxzx9ubxlx7q9RehrUXIeCLRJeborhMhHhch4IFmvRC0YJTmLmEJuxyxvB-BaxN2NxTcvivCSmaJe0peG+0hGBsJVhokwioR9+HxLgGyqhwORJPBgwgJghje+SI+ahRo4RxJk+mJtobJgh0gAK2S0O8gSgcOHMiO3MlgQhnxG+LKVun8yM4MZh9OHAQg+gqpoAikpQLiFu7ILK-wiqFiViyMFkGpjOLQMiJgWgwgAQJgxAZRwgjQ3uPuGKx8cSpBt8Ba3AHSk2weboqelSIg1SqIEx-GPpsy-pgW62rBIJoZAycSMgapJJ5hHRki1hKcVSTMiJbkUi0Zd8kiaZwZURORMg3ACR1xVK7SgWJZa+wI5ZlQWZoAeR-+duGyQy8gB2YIqZjZ2RLZlZugwJTUx8bW4qtypZaIoxE5ExIWUs+8NZIJE540OM05fc6B7hYI00Fkc5dJfJjAw+bwtya5G4jZTB00wpZmjgXwhinUmW2WbCTWkJLgEYq6CZBZiaIEcM+gL56J-JgwH5HpXccc+AxgrU-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-1ZC6KNue6-0hj-wq4EegCG7STlKvG7URgEfhAk7G7NvYc7ThDOOiTFDwghilBd4jDkeGngicd6kLm9sXsgSFuxQlt4IEemnUfUl8K7zkeUcTjmxBwMkJ6Kc4eTDCfghAcJXQcFotTKxYeHRBIsf949XXvNUJV+70Fqf1MOFJz0eWd9ixXdsGcQXGe8esmd5mf0cdtjLwjaScIecAxiSgjznErerofGfacrD-ykwycBjRcwdhcP3cAq6mc4fO34dafcChcYekA8Qkd9z5XmfceiQADk3b2KmV1XJX-Vn8BHKHKXhnBbBYpAn80CnXuHO1WQ-01b3n+g3XAThzoxQgwgWVwQWVdkGeVJbgaYWVLKHA8IcX2srXT7h0I3gNne23+XaHqXhXxX8XG3AMW3HXFj94WQe3p37XZAQWuhbkgrwrygorIEw+W8HgvWf5MivXeJkVCnecm8hHqe8n9+tMDnjJIBwPV7RQp6z36wr31Amgi2n3sCbgcHBSP3hA-eJXqngewPFXqenHmefNdnBPv3w7NphAj35gI3W2TiyMV88g6PiKv3QG7Y-3BJ-CwPm1ea9TD1QIIYtnAcDu6n+B2PUmMQ1TX3C3AyQSjIp69PjizATPaPvWmPbPOPWNI0ZrJtAnD9FXpMh06vcvTc8H8qTBpvxg8vFva3RkopyY41B7b9RvLPvWleQSJXevx2B7CPIryP73VEwXMkpMPv2msPhQ8PQriPb3qP7vGPr7kv9vSkYfAv5FrTCfNv5vBSwWAapSnPDuvPPaI0xP85IvAeAMvPWaCdJfE6m8Jm3NVKjqJAkvlbOuS4hPyXh0Xf0wpVVim8Yddi-yjnQKJAk9ObNy8xwP7fV8nfv3FX75C-J3iN2PQ-fyLgo-J5SG7pjeC3mkVUlA+ArULUAwFQQF7PphAkLfVf7PAn5oi3LXZ-Tc+-sUnBM-V-gFwci5GzyftPLxPUNvp-xeJblMyg-DjrvzlxYspYfUCROAMQreo0aYZHqAwHUAiAOApAXaAUSICiJL+YNYDNdGnDF9JaDSULJ9AczHQHy30YmjIlpiMVs6cFd8BUF9SDBPoULceIgIjoDIUBaA4QBgLX54xeKd1ELIQE-ifRdsbAiuvnyDSkxiBhkEaKTFyCiChuvPbgEoM-hL9teUgmTPIPr4yJs666X9iINwE49-+PbQIH9H+5iUKg0DLsGyBsHgNK8hgUkLPyVqGAEiFXBwb4CcHEgngJXY3vsQSKR8KG27Xtv0AUBWCwyXgrsGEMsGYQgh7rJZNEIGTODx2sBRcny36CZJkhRgewQREcEpCXBwA-4rtXcGEdkhzsXwVTwCEjAyhwQthto2qDKxNS2Q-Id4MGAVDnBTweoaGCeAXoKc4QsiGUOGp24BhlgmQPHHNQosR61IDchMKoBowkEFgrDmMIiGjMZhEwFrvMMoCLDVhc7cIX9zcGxDju63IzHjwyEtCWoOQwyM9WOEAs+h4TbYbsOOH7C4hWJZYX-ib4sQOImqBgBgy4gcRuAa8TuHTEbIp0BOMgOsLUFioVdwQkIvYNCJK6AJh4gI1iFQHCAVcU6MQPHqkEAEcQMRyXHVgMiFAEtQQbCVEcCLoFCCTuYSJcPiIo5G5aRY0YEYRx+ElE-hVALiBGHxE9CDQEYFkbyJggLD2R-w+yib3RGCilkh0AUYkOgh0wqecIqEZNzMH3kI2kgHKHsJ1LFDSY8jB4XiiMyjlzAagEwF4CbiMAH+B-POBaNRDcB6eqI+nqCKmwoVRR0RORM0kZBsikgHIziPZTtFUBAkr-ZwG6zKzbgHR9AowS6PuQHt4RHASbhVzOEndVRobDUS8MjFujTkholUBBXagowTW6I2fmV3FF2xMx4gAcHsO6BshugRQ8kOeE2bpQcQlYvwO2UYEdh+cX4YJIRg5zfVDAZgnMUzyJD+w8xGRJ0VSG6CMgixSWZ3IAO6DhBj2nHb6t0BDaSBQAvlAABJfMGAAAQXADgAvmAAJV8qQAAA8kC2QBAhcK2bEGJIDUAv8NIf6IcZqipEExihvAbMR+GRgPiSihHdKNywqDIxPegYnkp6LqQlcfxnQdVIBPeAtcwJmQW8WmH8wbk1xG47cbuIPHHjTx0EgcH2IAl3j-MwEjcj+L2F9iGAA42IvhIsjWjnA7kVYZAM7LtQ4Jlo+jMBKfFfsjBqwn6JMNPSLJgRoVXFKVmNEkIzRDE-hDxPMiTgdhJRFib6yvE+jhJeE4UUkCknPpQ2cQDIC1FyAOBlYjIAAAz0tAUNQeyNETUlc8aSsUagIMAejGSNJGQxkMt3UkR0tJCVPEH5BGh2TrkmksgC10EwGTCB9bKmMDDclg8zJvoRsqTEE7zlSYgUhqoD0YDmScu-kodmYMCCPpfJDoVINUGyBqTdojSYyUFKqjmScK1VIyRwBMkxTZ6FkvyN4jCEtR7InQPBB-xDBMpABM-QyKUG8lFTy2t-QgAEFynRTE45U-TAl3n449WphlaqQwFqlsA8EPfSnpKKNLEAapdUv6raF56DTqeJmASoEEWlTTMpzYMwRUBIAiBUgQPWgQNEHa4xHR5IKqVtImlLTWJrYAgc1I9QuEykyIrIJ1JljPSJwj0Y0gwOxolISBBoOzBQLuhfRGAxNKSX9LQzplnkm0dgTJEhGEREh4YG6ZNLwTiCDYLAKXlqCwD-h8+gMlsXPzGiFh+MpQcaWjJUFyhGO5Mpae+RT59hmgiM4wAYJZpGCaZO04HmYKJGz0A44sHeBtA+kDQ2AUk1FHZkoFiAQZ20blunSDiCyhKjaAwGUyYGfgpQkg+WiNAcCpVvRXEDGTdDYHBiQxQsyGRa2kGPSJoa5X8GsjwCQgbZuaMgeLMllXRqBGdQWoILBjZ0RoSs1scwIFxsCCM3qLWaKISlcBZRRQXWa2n1mhykQjFEjDaX6TBzsYkMlmqOlfAHTyMx0pOK7LlmMUmK1s22bGgnSKiERyo5ObX0BlxpUYxrQWa7PlmQoVWbkTWQNW1n2VCAC4O8JdLgrgjVIMYxEclyLmxiQ+SkN6SazbmEc4YOIwgSPIJHrduZJIvmYYg2itzWm7cmOTSNxHmzCALgirrPN5ngUF5jwTea0zZCgjQAecyEBPNJityDcjIjvmNE3mEdG5uIIOdyISFrJuRpIOabEEfnNyhuV8z+duBN4fyo56yHOSV37nQjexhyNSWajEx-dQBF+MTHuTUkT8FyccV8bvDskbkmCmCg8m5M4KYLXBAJSAp3hwUg9xubAWqb4EVIFguOJ3JghGFIVmCuW68OybtNxh+iJJik0AGGN4qizQsccRnMVPigXgUpnU9KUnEwVuZQs38qMULwnDfyg5HCx8aHLeBoKQCAiqjJgv-mFAeF7sowTIvTEZRu5SoweSUAxoc4kRyqO7p1zYUolP4GixgFov4xJj1RX2F4QYppAZjlJy4pCQwD3GWQAAMl8zPHmLMgekzstePwZ2T74zEt2fdMXaviWofYz8UkG-FYT3xleaJSkpAkncYJTCNSffAPJ5KhFhSxsr4v8VBLwAmEkCNhIGRZL8JjZdifa0GCLJCJLw4iaROyXSTQw4IOydROOHwh6hbS5YRCBJ7yE1J-S5YatyYWMsSl2SkWcUPYnbCuJ24OyRelKzMKhFbC1pgpLoBST6hVVWSfUt2VKSVRUrFqCN2G4Xc5+nCvZXEqWEHDGlxwjiVQBWXTBwReKQyE0rIxRC2hUofjGqHl6QT74SiySXEu6UGBtGXLLJaCq4XyiaaFNO4VzKsWXKRuLEh5X9GymhZWgYzIEPWJv5XL7u8qcEGKmsUQNJxZhWGTioSTCdDEYsEqaiou7orVhIqZoNSqZw-9F0N3RFR8MgW-iUYDoIcX90LHd58RDHInH3EAETiSxHwYIKf0gnSzkllE+gLtCDR9jBVyqupEHXPBjigQHSrMIOM1UV1zwK7SxAtk1UYqhIr1YZeEJxAUTIJky8IXHQaClQ7V83XCfQEdV-RIyfYRLpBO4B6iVAiQZKSBAtUsq8+Og0Gp+V9xH9AgQixVe+LYVYrYWuyxkKovXAgFJF5INVe+MFX4TtVoWXVe6HfEkSDVZE3Zcav4XBqFsbk1YSSx6Q2q-obq3pRMpokV1XV3QJBRwC9UKAfVoYSKWpIDXaNTVIa+NeGpr4AzWZXwtyM-zcnBA5JVoyCX91YVGqLWZi2ddAqNUldn+mqvbB6rqRP9hAQK-dXuvgkqrUUsquNRau+hKql1UilCh7GPVnrmYQIXxShP3GHiTxVS8kG+p3Efr0JISv1fuqHUXpH1C694BSoEjggMQyHDslSg3WPACFxES9S1Dck3rE1WayDFSDA3RLGQ5SwJcEr8j4bKlHopcHZJA3hMcNBSyDW6Gg1eBYN06hUgG39pvB+mrLJFIcLeIcathadVjfNGx4LslKrFbvNxrg0sRjifGlEFr0E2HkruAmg8hhhhrBQ2N2SeTYQt2qibo19JNOspv40caLyImslLgrkS+YUgKm0wNJo3KaDyUWmjGsQDEDCwBkly-TcUJmmEAbNl41jfgAymSaLNzKu4bP3Qq4hfN-CELSrQRn51jhJXLzRlIk30BzNi6MLRCpiCkrLlmxELd-wS21pcZZWHlQcOfSuq08IgLKqlou7zkYtB6y8cpu81JxdNUm-zR8MC1KazNrLOrRZsI4Ji++xa5oVkKuF-KWl24UrfdwYymbDACW9TC1qk3yo8tmKyCA0EDXVbYtJm79JNos0Taxt80bLbhFpqRaPh9MQrdNwshDbOukDMzTVuWbeIagDmiREEga2PLFlzy5ZdQUWQfKctrYPrn+RRUXd9AV2xzWSpY7ZbDZeVZaMmLcUjL5RtgbbenGpAg7XFlqhmmDFxmARDMHOObctV20HDXohW2biVq+33d5yv2rQBdtuz-iV2cAvAdXRSzgDw2kbH4EGyXL1zzA-vJHijwNi3b7lLKosGTUe2cTntoYV7aGBRgmB+AAMdSMwBgGEovqWXXPixP-ndRaYijRIavxzAGzDZVkGyBv3ElnTQU2VJHVDvBDM64+00VbiKktqw6j+YO21XTFNJGZYeM2niFjv4AQhDdgfLtLjoJRaAyV85F3azsGh4VzwNwJnlA3AaMgAAnCcG8TB6nULwmTZHvYjQNLVs9ZWGagfRB0g0Rwr6fGBTllIXAhpbSUHUKBR79AlXSrhZDQDl7nVRQfGYZCL23DsZDQKPYnoxxI1nlUBeVC4C8jVk10rMwvfHvAZN7k9VqQPStpCjQMSxnQShdQtF2Vw5Vd2zFWCIx1-RHd7jCfeAyn3u71wwsL3YEgoVr7mUG4cJVSmt7-bqgpUVcGQHdiGJrmfClCq0EZDK9fAjPZnrLxiWpc3waHfgF1SODTLs1ZSGJKQEv1nMnGqkQxNpS0hB0i9zDTyFSxf3cKLuxa0qDEE8gsMEQa62IEXoK6orjg0mMuQxFfAWqj+J-JuEeqlCtBM9sQBDS1HnW7qd1CqzgmQYrqvh-9gBx1MAaBBjEERUsY-ATPQN97P4UB5A0yGfWCASDogZA8gd8g4GAZ66SNdMEgPiHoDI3C8J4stSuIFDle3vaPv717Cvlzyt5duAF09JMD322UWLv3ywCAYrQWXQYBV0gxtGcsCFcdq66Z5zdKYkZQaL-xRrLxmxIQIYHsgE5T9-AZNVSDv1AgH9T+63nmMM7v7EDmVb-VJnxqWxNmTh4bi4c6ig74dHhlyc7iVpwxwt0O8EHZCPg+iAOwI8gFJH-BPIDubXS5WYYl0SIrDTHQYHkflTy67DF6Bw1zMrlhkSRlIMkTXEFmUjwVN+qkOQKBDiDnZssttsDFrlCa+4sMv2QZSJEJy0RII1eZwmAk-zw57WfWasaTkRRj9lyyrtaP0CGyAAOlgBXU-KBkhBmQMECw626OG8TOUNBFL2iRmD4FHok6EOPfbjjr-U4yGIuNXHDpNx4-ncaK55ixovAVcPKh6CkxoToAAAF6UtQAFxooM0qYBgn7jbRnoMiZeM6Q3j4ID48YEKhQQGoadXw-4enDHHrjmJn6NifsYZdxuWVFgFlWUBZVJukwSrk6DwA-HhtNJkE3SfBNYdGTWzCEOUctJsmOTq3Qk75CAA')">function extend_if_consistent(variable, dat, frame) {
    const binding = binding_in_frame(variable, frame);
    return is_undefined(binding)
           ? extend(variable, dat, frame)
           : pattern_match(binding_value(binding), dat, frame);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p23' class='permalink'></a><p>
      If there is no binding for the variable in the frame, we simply add
      the binding of the variable to the data.  Otherwise we match, in the
      frame, the data against the value of the variable in the frame.  If
      the stored value contains only constants, as it must if it was stored
      during pattern matching by
      
	<span style="color:green"><kbd>extend-if-consistent</kbd>,</span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>,
	</span>
      
      then the match simply tests whether the stored and new values are the
      same.  If so, it returns the unmodified frame; if not, it returns a failure
      indication.  The stored value may, however, contain pattern variables
      if it was stored during unification (see
      section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>). The recursive match of the
      stored pattern against the new data will add or check bindings for the
      variables in this pattern.  For example, suppose we have a frame in which
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is unbound, and we wish to augment this frame by a binding of
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>(f b)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>.
	</span>
      
      We look up
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and find that it is bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      This leads us to match
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      against the proposed new value
      
	<span style="color:green"><kbd>(f b)</kbd></span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>
	</span>
      
      in the same frame.  Eventually this match extends the frame by adding a
      binding of
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      to
      
	<span style="color:green"><kbd>b</kbd>.</span>
	<span style="color:blue"><kbd>"b"</kbd>.</span>
      
      
	<span style="color:green"><kbd>?X</kbd></span>
	<span style="color:blue">The variable <kbd>x</kbd>
	</span>
      
      remains bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      We never modify a stored binding and we never store more than one binding
      for a given variable.
    </p></div>

    <div class='permalink'>
<a name='p24' class='permalink'></a><p>
      The
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      used by
      
	<span style="color:green"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue">
	<kbd>extend_if_consistent</kbd></span>
      
      to manipulate bindings are defined in
      section&nbsp;<REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	
      <div class='permalink'>
        <a name='h7' class='permalink'></a><h2>
    
	  Patterns with dotted tails
	</h2></div>

	
	<div class='permalink'>
<a name='p25' class='permalink'></a><p>
	  If a pattern contains a dot followed by a pattern variable, the
	  pattern variable matches the rest of the data list (rather than the
	  next element of the data list), just as one would expect with the
	  dotted-tail notation described in
	  exercise&nbsp;<REF NAME="ex:dotted-arglist"><a class="superscript" id="4.4.4-ex-link-2.20" href="./2.2.1.html#ex_2.20">2.20</a></REF>. Although the pattern
	  matcher we have just implemented doesn't look for dots, it does
	  behave as we want.  This is because the Lisp
	  <kbd>read</kbd> primitive, which is used by
	  <kbd>query-driver-loop</kbd> to read the query
	  and represent it as a list structure, treats dots in a special way.
	</p></div>

	<div class='permalink'>
<a name='p26' class='permalink'></a><p>
	  
	  
	  When <kbd>read</kbd> sees a dot, instead of making
	  the next item be the
	  next element of a list (the <kbd>car</kbd> of a
	  <kbd>cons</kbd> whose
	  <kbd>cdr</kbd> will be the rest of the list) it
	  makes the next item be the <kbd>cdr</kbd> of the
	  list structure.  For example, the list structure produced by
	  <kbd>read</kbd> for the pattern
	  <kbd>(computer ?type)</kbd> could be constructed
	  by evaluating the expression
	  <kbd>(cons 'computer (cons '?type '()))</kbd>,
	  and that for <kbd>(computer ?type)</kbd> could be
	  constructed by evaluating the expression
	  <kbd>(cons 'computer '?type)</kbd>.
	</p></div>

	<div class='permalink'>
<a name='p27' class='permalink'></a><p>
	  Thus, as <kbd>pattern-match</kbd> recursively
	  compares <kbd>car</kbd>s and
	  <kbd>cdr</kbd>s of a data list and a pattern that
	  had a dot, it eventually matches the variable after the dot (which is
	  a <kbd>cdr</kbd> of the pattern) against a sublist
	  of the data list, binding the variable to that list.  For example,
	  matching the pattern <kbd>(computer ?type)</kbd>
	  against <kbd>(computer programmer trainee)</kbd>
	  will match <kbd>?type</kbd> against the list
	  <kbd>(programmer trainee)</kbd>.
	  
	  
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<span class='comment'>
	  Dotted tail notation is unnecessary in the JavaScript edition. We
	  simply use the <kbd>pair</kbd> constructor
	  rather than the <kbd>list</kbd> constructor
	  when we want to refer to the rest of a list, as shown in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  See also section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
	</span>
      </span></td></tr></table>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.4' class='permalink'></a><h1>
    4.4.4.4&nbsp;&nbsp;&nbsp;Rules and Unification</h1></div>
    
    
    <div class='permalink'>
<a name='p28' class='permalink'></a><p>
      
      
	<span style="color:green"><kbd>Apply-rules</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_rules</kbd>
	</span>
      
      is the rule analog of
      
	<span style="color:green"><kbd>find-assertions</kbd></span>
	<span style="color:blue"><kbd>find_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>).  It takes as input a
      pattern and a frame, and it forms a stream of extension frames by applying
      rules from the data base.
      
	<span style="color:green"><kbd>Stream-flatmap</kbd></span>
	<span style="color:blue">
	  The function <kbd>stream_flatmap</kbd>
	</span>
      
      maps
      
	<span style="color:green"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      down the stream of possibly applicable rules (selected by
      
	<span style="color:green"><kbd>fetch-rules</kbd>,</span>
	<span style="color:blue"><kbd>fetch_rules</kbd>,
	</span>
      
      section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) and combines the resulting
      streams of frames.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-rules pattern frame)
  (stream-flatmap (lambda (rule)
                    (apply-a-rule rule pattern frame))
                  (fetch-rules pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nw8akEx2abEShEEYMDKgAAMXU5SJohCYAHcOAxnVxeKJyMQKYMOORZMLiRHXe7Rl7w+MOGnVaAANSgeRdYkbUlO7O5j1w-2DUBYgDW0yDoYmLAY5BYACNxjI2x3u+NlFnpgVo7GAwmBMnjKKaFdIgAiNyL5QLmQjyPccdx6hT5TWvvtzs9pgwzocrAgUC4rmEWg3hiUNgQGDwJCoNDyNCaHC3gPbNY0YeiwDiumw3DUPwpAzkYc6AbsbBdqMMjgZBQbDLooAAD7YdqRg7GCKoAOaoc+6HQVhuH4QhXaUJQ7yEGREFQZhOF4U04p7MxFFscY1GcdYRAiLgKpzGhrEwTW-51sBoygRwbaiPgTA8ZJhKuCKZZbBJGGkDWtbIjsVTEcRPjRvQZRsKQB4xJULDEbB6ybJY1jrvQ1m6AAZF5oC6vqnkZOk6SgKQdkmQZMlGdYhDsKpumUaspYuQhJlmUIFmkGpenKIusVsEwi4Xr0UU0LQEhIQxHCULgNhxdliVErO2k0P5MiHglmHFX+-QAY2o60LQ5DEYQBXDPSJHKEwAAe3DMINgxOfBmUyIuLALSNY2kKuKKTaAM1zUwC3UN1pUIetQ2bdBDVsU1cEtalDnpRwK2dTZoBrRto3QUV0m9XWF3Dd9wy+BVdFgeR6lJc1KVtYecPVDdMHnn9iIA19W2KaBKkcAd81DdQSNLQ9CNQu1iNvSjl5nTsIjEOIDC7kxHkwdD90pcZT3mVYWUs7lrr3lUIN0wzTNFexNGc6Z3OWXzH39ie2Yi+2Yu6NRJX-ciyuM5O5WVTagV3fBpMOCbVnI3ahk0NrTNY8p0x40dBPM5irNGyTtyHoeLNU-CNNAewXYCCwuOzfjgzm7B8FS89K1y4u4hIcHoeHcdhC-RyZ2J0HIdhIzBUerQkds-BTJyGDVU1XVBXKGbPuW1ngfJ3RAgSMX7uw57iPe67vs9Wj0Vhi1NIUkwW3t0k0fWGlMu867uVziPIxbRnGsDzQi+O2nE8w+Wde991VsIQLAjkAGoE77vYrT1zGU8+b-PUKf5+iCn4fUOLAmNDHs8Px9J9n0GApego8V6nU1jQABL8OCHVPhOVSPsS4PUykPXAf8nCozvKAKBQDX4C1oEwAAjipcaiCO7lhQcwNBcsdCYIAjg6gClQIelihQKYl9nIUJ5qgv+ABmQ+-tfBEJIcQBBvckEcxvtLO+st54fQIcQ-gojV5H36kIxRJAxHWQJBIrhllFwKJEYVfErsCR0LrIYpR0wQHL2gkXMhxhJ4ez1OTMm9dzHcgiPQJeY9rosx0eQrYbV-HgPXusbxNjfHDHsaYqOD0e7aNCVgnYY9uCkAkOoox5sAlOMkbsSUISPGuReutUgPjx4hN0dffJDgEmkAJAIiBtFRCUGIA2DhnDqkzxkXPayuUeytIbCos6Ay2kcBbm3MhWlO4uLqZbI+OwxwxiZhwqe9lpEvXvvHJZE5BjDKaaVN+TsI5TKvq1LubiD5FNAO2YiRy04xMNrkveFzamI3ro0sJOx+wyAOsTPJ3TNmWQOrlFcnysHMHytMBWg4joJiYiOJy+DHSbh2bbRMXoWxhgjGiyciZ-AlmMGdXI0xgygXaX8tmgQ1k-MpTRUAHg1FYphaeX5s1hw4qjMsvF056XKjcuESIfz6UeHXCSjgZLRDtLan8w0QJXDisle0w8sqZSNBCAdQlRhejJXLIq8lG5nSH2vJQPgOt4xVFPGufAjoWCCFAGZUgV4wC4CfC+YgUQeAelALw0AcgmBYN4WgIN-D+5YIuq0mQTYJDDgDZQBgAgcm6uqfKDccaE0Ehoh4YSTBRJBgEDRDVxCL7RtrrcNqzBXQZvPPShlflbiVvjYmtV6qbmDUjaW0KiNG3VvBX1FgTZ7KsqRdQegoAWmxlfpa8YXoVqLgAFTTqYPOjOrgs70QbPgZk0aOBKFADulYd1AjIroPgLsS6vQRuIFGpgGS92HgnQpJd7J6jkFwH6nYOa81zFoGe59Tl6jwS-WJAQWrAjdH2qIAhVL6gnp7QIS97br0HoPO8v9sKX1NDWcB-Naaq28vlYEbNghc0gdrckEIh54MXnqDq4wdGjA03vKMLKO690odAEpFSAHjAnt-ee2FiHaAdtvbu1DZNH1TowzRlIb6P1CRI9+uI6HTwwhgykAhZSH2tKfbCuohHAjrhWmxtcgqb0ZM0MoLjZ45UGZSNpydQ7xhU1o5B6DR7YOjpRemhDIUr3mY4JZrtbiVPOZk9-d9MhP2KZA3hptamPOgAAJD1E0-ZELAmrVYBS3ZwzZn1wces7Z3L9RvahZsxeHL2q3NMHU40NLVGfNWexmeMDtHFQMdAJ1s6p9aBhFIB6mQbAePs3LC+YKIUE4bq3YucjdaWmUE3dwObIRxvBQ+iqAhDBtpzaMB4TbLHdtKn2gwJ8kQ2C5QAKqEAbIQSgwYaCmvkgBAAtC9rtp5V30emeWXr-WPUGRPU981e4L0hTUUuglWAT2Oq9MD22kOpuLZmxeE93AbVw7NQj2Fq0DvbYzqogd0wuwqlPoQUiLKhycZa-88s65KdMGa-bJJAESeCBIljAcrK2dk8clS42tweckRZ3WIX5O7YqRkGLvnR74KHmlyL5E0v4UcFdfVBnyg1cFVp1sfzGvHxxUVzQGaVJZD6+s5r-OZ5+cPXXGo6XR4udU6K5bw3kUmkiEKIm6qTEQXU6d4zg32uqXEuYKSg11vEsEUi989svyEv0rk784tDh9c2bqw0OX4YmBtZSBBsQ7ndsnq7F6ZXKpVdW9+a77XufGjYZi7hrsLaSseFwKBAhR2KOhTDxKg1yvrNS8w40XoSX89Qdq1H6lD0djrmt7tjw+qpU3Bcen3C3emDh6XyqmEu2Qht-H7XrraxOtZ4373pffz3dhJN-wIQb6YGUAWqy83oFq+R7WMX0nJFS9f-F+XrXqk+uAB4W2wkWAAhAhDhnMAriNp0jQEQG+hkliANlEFLr-ncgPgrsoJ3o0EpG-p0KAMfjVqAfJpzkeKIAliVsYNePOrQYqJ-uzuTj-owXcv-pXngUHq1oqPBBAdFiJLFgrnNsRogYyBSINhrjgY0P3i1mgSwcVlQWulbs3q2jfoII7orIHhwcAWBmPtBknp7rftYITBwUAUoRpDQXQYBg9IuG3lCNIIuDocQZPvBKoWbseHptTqIPgTodTE0ggbgEgWIagdwHutwEFsATbilAAUFJNrYeMAILNvUB4DYdUPYYqEWvgBfCEWuDoIqK3lbukQhD8iEboHkftNNKbgmLVJBE-r2NkaEOEUoYUbHpEGEaUUkeUZUffjUUNKymEWuHuhEaABYfOs0QKtcCUaAD5AhOuG0WUf4YESga4g4CUfplQYeG0WsSVgsaIUsW1KsZIfKvsToFsQoQ0MAcoUYCECkXYQkVflgkNOTg6HuGCBaNNDrvOGZtNMoMaKAPKH2nWDsCOGUKAo1D9l0rfECnPKCcMAvM6PsmEgLPTPgM7Ias5pES8rMt2kakbhWMTpQK3Gie-smsUqml7NiWFpcfNvfGtKIGShINPNnkVIUWbFRjiQCciGOBkiHMCSOMoIogwBkv1iwvySpIKRXoblSievTKwNSCOJmPwHFJzhodYCqESSASejsfNHYI6CFLWjscgYNgKUKRSCKYca4EicpKiTKXatis5qcVQcaRKTXuCfAYQCIdqaILqetjcfEYkbKH8XsIUUwFxqPBwMaUSeMgSW3DaXKUag6fViRM8dSK8ewDIFqUdDqfMmdCidMKTjNDIP1h8QhEROTsvrIEWRyTQI6uaGmdGuxreoeh-l5nQF6I6uZg2RILQq6ZAQ3j+roHKHsMdrQPcQBPmdNBwDujVIWRSCOoLPurel6PsbOWBjSnHtGgOR9CuMdtGgZA6KAAACoAASAAohwAAEqXYAAyJ5yAIU8ofoZ0uAGwHqdpR0M5vIFg+BGJWwuZ8KIg00H5LCVJHgNZ45PgI4RcwpowhAVJIQNZoEr8kFUOa8WCCF9gb5RcxZx5Z5l5N54A1yYFJG00EFzoUFppMFxZqZ+QvAt+Mg5GNZ1FUWxFk5om050FFg8hJWi4I4L21FRUCZKQjFtIq0K4cJ4wfFtIRUxqLqECD4rqz4r4cAiAyA6A348gYaAEIZ2Mo8SMU0hAEwcSeSckjMEMLEekVJe246Z88kr8A+lM+E-K1c8UkMFl+EHgC2S2oM+sEuCCFcr8VcUKRM+lhljlCENsAYRM7l+0SkxQ9MKskVb0IVllx2iyGM10DljQHg2lr8gMV040SV+0BlKVTlDCsUZlvEME0VOVOYT8gCjCFVkkyVYVOw2cycW81prllE0VaipUMgbVucKsBcowRclMgluWA1UZhJY1RVoVrahEwiViUVWVMVwCi1mi-qGioi5SdiwVs1JVzSgyy1DQ2VsVoy7ShV-Ac1DQTli8kS48mVJ1q1SFw891GVXVsJ+1LV1guKEcj1HRXJvyoZIwLI689ynV5llEyV41DQKCVc1mRcty4Ngwo1H1MEyVB1owZ2elH012t292ZUEgwwLA00oAb2z1mRIwKiR8gNuIygtySa0epBc05AbAgCnwfVuICeyQ8EXJMCHYbNbC0wnNrINyDAxEZiSQuhtWSeOwEkwkquECoN3Nx6LZnpupFNulhyEyytMNVBrhuMBlEQ1A485pgIhyeccUhcutZtTQDNetZxN4EChtEwxtwMWUXNQ+ZyCEi8A+6tKVxgHgvtLWtVrw40-ttaIQUBoGUtTh5wWN8aoNV2N2d2D2TtYS6SfAZN72XJX2R+fsTScNtUCNbK3AtAyVMGpc2ItyGQ2QOVlNqkty0N5RZdVZz1odz8uCONV1xZxk4YYUbc9dulZVCksC3KLlkNmEGNWamtINI9eCo661WUM1Pdhas9Ll7O0CzCMFcY7CK9xVo5dYNVliG1-iFdR6st1gqS6SmSS1ISsBQGfZMdrg0tJBUWAcESVQtipCsSsBJJ69OIXiZSb1P9iSigPdjhBeE+9BLZokDAn91kvlXo9KQ9INcDn9MJvS9SCQEDiol9Q8LkvlgD8DwDrsvlKtdeD06DpDiD1mh+r9k+-9x961oi9FBm80pDmDjy2D4DB9HWx+vhYSRdHARAeVuGUKjNo2WwZcHAtdH086ojX00gK6ygEjbdtAsY1IboZSEVKNRMVK+DJ9rDlMsBfGpiXoRj1iX9US9SRMh+ay19GSlj2SAdRw8oK2NytFahGjtp2jcVosAYRc1DO1oD2DXFdmPjWjNq-jCVejttrgaizjHDITtj99XtDD3B0+1gujhM-1T1K0OTKZ-lRMrjIQD5AjBd1+Z1E6F1aN59zZ85EypeNTU1MZaNGpLZkmD4IUkT1U0ThTRcEyHT85ijl0+a3T1l3iVcozQMcwXTIBLhwNqkEyU0FRt+Ltbt48XTDtjtjQMzI00g5dhBuzChPdbdNVd11jD1dT+1P5NAaiwd9sbD8qqDqkm8YcxyuT7TGNh9yINVYj1zk970PdUpLZ1mXorzMgAL0EvlyNXzQLCQ+1YGYj3l4MRD0LIMes4Me1FuSLPZdDgjWCNVhT3dxVVKKLWLVUA+hTqLDEwViokLNL1mcLTE+9hlgluD8I14pU8lbqSl74qlX4wamlgJjJNqUQbc7xdztE9EjEMgUrM9pNE23eKkxzKhp2id3xH0dEDEspLdAaIwAgsaoi5AUwAgQQ1NZ0vVStltw18DygKztzsuyCNJ8tRQpUq4u2trGwI1Dr0ZyV1yctkMCtnNvdUisc98uAj8LEIbECCJWCFtQ1Pr8DOIxZlCuaOIygGCmcByztOtuAab3CVCmboA3ZqFAEhyV1mz10Bb0r6baCUbPqbdDzw89l1AVIbsPZc6jzKkO0AsHbuJQJrbMhRW0rP8PS5BKkC8w79s8bAEPbLo7b10o7zrMysgh4RW5zJALSjxdyVbT47tvyZLq7eqiMnLR8wTABR7hl0rMqfD5bR927j+xObcAB59mk-964b7eLvQJ6YUDsEEN9+7Jt0EmKewj5TSvVlelLUGTOKkkjcBoQZmMHRzCNuJABtLUGOISh+gH73tbU2hObYSGHJdERegeHUjNAh4hHlTRLazRQwHh7KHTORzXY60Dsx7Xb-AxEYU5c+sOiyr4w5OvHSkmaTQoqZmUH9UzHnhBIDr7HLtAdIQQnPHqBKHugAAPOOtxyJ+3q43WgnUuAefRPWHahIGLcRPgFtA+L+lytINcQWGqyVqWcRIgXx+DDooWDtIuI54cS5256JzvkCBqhq0ZyZ8+cGBZ1Z3YqenZ+ax9L5wof5wEe5wxJ5x9LlIl1Qcl23IF23Z5Vuph0QzB-U2uk0ldS9PRMyCC5PmdJE6l7B7J3-d7VxAUv5WJ7ltlQZZV6as86c0+7uxswe+PGczgSEDBzEfWi4up4cR4G1IF4ceN5o8sQ13J8FqnnpyAS-Xg5FldZN-+7jIBxkox1tM10YIZw18nXRMJH8XFHneBnHYCCetESFJe5Xrg4CPBPVxhyh9h4bjs00CRy1kE2YfQwI0w91wttV-eyK5yV9EVwPiV54aV0SuV5D1V9e7AXV8tzJ4Fxnv-a1zUO1-p4HbNT18yJIUojuxzid9dKNwZuN-5ZN8EsT53h4GlvN+3kziT8EHQMt97MT+Jht1Bl7S-U54EEnnt8qwd440NyB7dCg6F5d7jYQNd-alCtnW2mM2AvQ4900M91bl6G9-VB91hg9N91bphyD-97bUD-bNb9rlt99ttxDxMOT5jwZNy3JY+IpVAMpR+GpRgLD8UizYLaa8LUrVzVUsUoCitHTR9KH+zYVLiYn0LQmBBOMFtCslH4EucliWTJ7YDi2an+H4revBMytA8HOv5DtMYP5ECFxXOtaLX0YNaA3wmXOguC30hxEO31XzSZlN35lH3ykHOoTztIT40I3zSX9moDtLP5IFPx3zSYZy34Z4CNP-osgVEFwF2LQKuNv7vw+PUJv1lIuPmN38YPK8oBICCNkKTYWOZ6AKf6tC9pf6kFq7f3I6Te9k-y-wuu-z9Sf87+oAUmvOlAB-9l++iYAIAOv4QCQBpNMAJAP776IAApLAOAHf9QAqAiAUYH-4TZL+cAr-s8CVbrZb+UAs-mAWCiEDMBJA0AFQJCjkCUBZ-DThgJv4IDQAWnIwEwNH40kNO6Qd-kQI4H8DuB--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-axeRU-LXD9F-9P8uOSAqUUyiRFACtdI9mBMClnFQouhVyplKUahFDYFwAwoZK0gJ7LYDhTCURKolMS+JQRU7EARilM0UpVtnKV-ziywlAUOOVYoZJ2KFFTiqZNqXUBJKqIY2cR1JxcAFl94Cpdkpw6tKyotIVXBiDLjkYv5VnWukdg9QBoGwXAakNYp+AUgrOpmLJfgQB7PkUC6y4ZXoz-n4F1Gfw7MEpLskwJZl2ypUtRSor7KeQRy+oC92yD0pqKW4dZpqG+Hm01lzSyxUCueW7ZfifNZCmiqeUILwmP3A0DvPXryjtFjkuyW-h8Vzkx0hCfwSFHbIOynJi4V5qSsFL3d68-BXDLSqBEz0hoGfaYP8u0WUrQVa9blay0Nm2MnJhK1EG3R2DjkccRZMdtYBc6iLZyy4oonHmXLIxiV9AeNANA+V7hy8+S6xU5HwbyrWUJq0xi2WjRehJlU5NBCasPzSlzAkKMpNYp8XTCSs4yi0J2k+gGrCASyvIPdwiE2pzM8y-1YGvYCetAQ64axT8RAGejTsMLd1aCpAIZNtuD7ZELquYBvkVc+SxFKC2cFAqvQlpFEhHERRgYzVxFBVUCooaq15yNqkKHarYpoJRlTqlsomtdW5rqKnq3LN6rrK3pxKTASNWwGDXGB0crGQdR9F4r8UHa64Pkn6gTUuqYWm4VNQTMLwZqpRbs3NfGneUsZ1FGytUcCRNVkKrK2649YesKLbrbljqvpQDGtl7rPZTEE9UemzX6r91hq6kMasPVgYgcogd2f6ombtLwlkS6JXEoSVgZgNnSsDT0rMUMSNl8auRgxAA0fr7wCzawotg7GZqaA5650OqSpRvrc1Rq4iuqV-UtlkNmFL0O0rwq3lINISmjYkvnXOhENzwCjZBXQ0pRFwmG4lSkkZECwPBStA6G6KyYLihN6HIBqHQE2IhS6wmtdjJtxLJN+NvUdGa3WlbzzJa2GhCLL16xSa7w8mpVaJtmgaaL2EmnTb1H027K-ZYm65MkzM2IgVNsm09mTGs13rkQQYYiKPCEARkxNt7W4C5uDnIh+NlANUkpvs3CqDQBm2XqFr03RbsGBCy3tRUKJBa1Sim6gLptsaxa5OneFlRGWCaxb-Z6WrLVVjOLSqhQh8CdatD0necctdkvtmluC2wUUlAEHTQ1p+BWBCt4WmVZFsZF2a9NvWuLR0Q8UayXgHod4J8ERXkYatZK4Jv1ra20BCtiLUrdKESDFbgQcjFrSlqOg6N2tymubQtpW1UElttEmsBVq40MBqtSzVlYUIWDtaGtMQs6O5t0r21OCVK6VnCohXYhyM0K7LA0EJ5A0dKIwK7TIEe2GsgdN02xcYC8UbAXiIlC4s4FW1HAodpAGHQKB-lJYUsZTPYAdsCBHbuop24yRdoB0CratqjJgB5pGD3byuJFT0SDR9mIdIWfuNkRyIUiIiApbwkGWDIHzPbcd0ML7uCsOWfbAehvLIDREGU07VIm2IWGHJBqHEOJEtRbVbkEWpAJgmuO-mbQu4q7T1ZxYWSnV1n9Z-cmvE0dlnR2BBFw8M3KdZism8qky0OlMrDqaI3iklXhGiLjpO2hqzd7OhGZzpayE7lIYZY0jtHN2IzyGfoE9FiAnIL9zOIUAAJxdAesVgbcJIB8VyBk5HuBPWoB8UJgPQZQVRrAXwapp6AdasXvTKTw0BlW3oM7ioHT2SAZAYksSblDQCN6x1S8wmSvKr19Y1A5owvU72SCR7M9NlSIHCp7iIsaA72bNuvOd7GA+9cKgfb6NM4R7q9t-YlaBHpJisJdI0PVZ1qFDSsjtbus-ivskBr7fdDdK7TtAP0MlKg2eSnWElxlA6VQE6qzKMDohDRShhamlV6A2ltT+aEUwaDOR7HMUJ1ZYjoNJUrWRYpgDAZ-QUM3GTYhoQnbaLAUj2v9yauM0AMaReCAHs6b-AgoqEQN+SyVhCWEF1icKdYk87q5HZbK4DWy5gBB2ArhuzC7qb1D691TrRoOH4k84ByA+kmgPyI7CwwcWG3sQOLg3swhrXqhpuRUGEMwh4Q79CIPLzOs6alIIIakPk00D6tB8MobezN729iepxiJVhX7LIVhGb7VQTwOCkkVJWSXUkM7Ag1CEb+H4prtrbPBDKwI87pdqUn4gbdyOu3QKH+IuZvsAWskBJrtS0BgwKEe-TampWOhCEH+gFa1K2nf6lpf+jMeEcdBedgDXtA3nFAmZTazDthugJ4ZR0WhfDq5ETamgAIddkgyRO7KZxQLf4v5LAWbElijouSexd+0OdYdUh5GCOVuNbn2FV1yNnDy+qMBkmQpfKEFb2-nRSEMOfdnQcjI7HzR5J4aF1Yx4Ai8rSWYUtl3ygyLfojJiTnZMgE5kYAAA6WAY9V4yEDkHcA8aOkPKBv7sC1MhGevfLCf3PsM4OxuybXv2OHHQAJxs417kqAWyrjNEmctcHwBWZEWMaHvpEDBOgAAAXjPJ+OHAURRQS49cb6MQDlA8Jh43ZieOLgODrxyrEQuCbBHQjkQPY+cYBOq40Tn-NiTSQaP9JvOxAbzgkRhBiSLw14d42SvJP-HUTwJmk5M333ecuwjJ5k9JVxO-QgAA')">function apply_rules(pattern, frame) {
    return stream_flatmap(
              rule => 
                 apply_a_rule(rule, pattern, frame),
              fetch_rules(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p29' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Apply-a-rule</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_a_rule</kbd>
	</span>
      
      applies rules using the method outlined in
      section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  It first augments its
      argument frame by unifying the rule conclusion with the pattern in the
      given frame.  If this succeeds, it evaluates the rule body in this new
      frame.
    </p></div>

    <div class='permalink'>
<a name='p30' class='permalink'></a><p>
      Before any of this happens, however, the program renames all the variables
      in the rule with unique new names.  The reason for this is to prevent the
      variables for different rule applications from becoming confused with each
      other.  For instance, if two rules both use a variable named
      
	<span style="color:green"><kbd>?x</kbd>,</span>
	<span style="color:blue"><kbd>x</kbd>,</span>
      
      then each one may add a binding for
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to the frame when it is applied.  These two
      
	<span style="color:green"><kbd>?x</kbd>'s</span>
	<span style="color:blue"><kbd>x</kbd>'s</span>
      
      have nothing to do with each other, and we should not be fooled into
      thinking that the two bindings must be consistent.  Rather than rename
      variables, we could devise a more clever environment structure; however,
      the renaming approach we have chosen here is the most straightforward,
      even if not the most efficient.  (See
      exercise&nbsp;<REF NAME="ex:query-local-names"><a class="superscript" id="4.4.4-ex-link-4.87" href="./4.4.4.html#ex_4.87">4.87</a></REF>.)  Here is the
      
	<span style="color:green"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      
	<span style="color:green">procedure:</span>
	<span style="color:blue">function:</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-a-rule rule query-pattern query-frame)
 (let ((clean-rule (rename-variables-in rule)))
       (let ((unify-result
             (unify-match query-pattern
                          (conclusion clean-rule)
                          query-frame)))
   (if (eq? unify-result 'failed)
       the-empty-stream
       (qeval (rule-body clean-rule)
              (singleton-stream unify-result))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlKqu8kt0CYpi+EwmmYLK1CAFxK9KAwyAk8iw9D8-pJAeYAD6o4G+LGQg6EHIMADmCNOSIBhCMoHRmKxFkheVotAI8gYxN+-xRVJp2Le0Nw3xJ7PJvk5XNpb0YOnwfGEkn0iMFBi2e2eHxYX0oWVwZHwrNJKOMvmpoPBoHlyMIW2iT3iLzeCwJBPwOner0IelxCUI8wAFtZ7UCWm0IW8Rj0PUKAGQR0C++T6cNGNhJ0CEX2Ue2W5U2yEMeQJHVmskBkFB23p+QOp0u3G6wUVXq5-O9RVYKJZsSgA4AT1hjMotD4ULzBYF5uL5mN7Vj+gWwn5bLHLaiVtizySqQmBwOwgJDHzTHdeJlBIq+AAHopWlv4uO-GD2qoa715Nfd-vCENO0fCaeL1ft2IS4rvswabtub5krWY4mEapaQvajrOo+bqFkw9YvuBe5ks2SrWh2GE7lhTCUN2vbznqQrNCW97iNOeizksdEMVBRYbEB7biAREHEZq2qUOel74NeYgsfqsE0TG+BxvRiwyXOonkpsraPKu2ZvJK1C4NkdQiQmMGBhJ8EVoh1ZuuG9Z0AwuLMoQlAaVpJA6QwzaUhiopiuWlZIa6h6evWxSrFQ9naTMLlUm2eHiMFjkzCRPb0kselUXeJpMbJaXyQmbG4apHbRU5GpfHxAn-vEvmUZik60VJM6ycxWVAcBzyQlpsI6PI-F-kJAEskllVwXaxlVsh5X1q1eTtZ1gnCc57GRaA42TZ0jn5q4BzleOVWgEkijuvFfYDkO+YVBliWEJ62XKRxC15hNHX0joXYbfpE6lqdclnRdSnLtdkJVSRCzMO+z3JVtRleaZo2gL0-3WUD2FzblQRBlNpW6edFXUalNUfRtjW-W8lk6MIMxfCD4kmuDJkjeZ0NEyT8TqiV3XxGFbnuWWCHDT5tO9PTpO4ADGj4O+OFXfN-OM4LgnE9MOp9VjD6urIUpQ54iMgaaYjEwLNhWfgACO2oHgrr0SchKt8FDdwa88ktiOqXyuLmIgZPLGObaWFutFbtMAMz4-NOKG8b1DuxdL0pe0VPczWvMHCHAJh2LEVI9tKTWAnRtJ+HhAHJ75s+b0Weh-gn7hvnOWayXOdC-DTDrUlFj9RJ71ZVXzzSiQuJ1yLkEVwX2PSQPHc2letlw33DflfnkdbfVGOV+LaeQiLiiEF2JGJ7Euez6DA1QhQn157banvC+E+A1PZmL4P0c8kfuMD4HK9vAUtDUMk5MGZTg0QzTGN6zv0-inJqNpgHJEoA9J6pszZD1qplD2L9NaQkmLUGY384H308tTHmgDoZoOmKzU+HYOKoxZujCO+9W44wXl9Ue+ESAEnITNRuHs55vVoXVWSDVMxBzeMUPQAlbxgz-rgmsAl6yDGQc8VojZrABVKEJbQLJgi3ksriSoExlBTAKroBw6RZBWG0TUIhWhdCGB8BYa6eJ8DWCkF8L+wjI5YlEYVHozjqSin6OnDchjFFrCEReCo4xCF6MaF4rkAAuMsoYgmKAMJEmkPi4m2PsY4vQdFhEGDKEkjm5g0mUAcbgL+zFsmJPyaAGJAkrHmCiD-dohTilfzUZaHYtBFBqligsNYwwyDEGZDoUAjpCBYB2HwE4ZxqDeiUK4UAftQDunwJrP2aBVkBxUprDCH89CpC7CE5ZtASA6D3hTbBvIlitDoMc-OeSLA+IlFKGUTo7nmGqUbMmeyTo4zolco5Jy2KvPuZJaSfybkVMqTE7Z1Bdn4H2SmWSYKAUyJtOuP0SjDAuI0cQXAH91Q9IIA4EavQABUBL8AkrFr4a6uLaDJDILtPZlBPAVCZTbFxvhsWdjIHkclDhoWws3iyhF8lcXqEFuSpSophB8EWZCR50pZTuh5ZK28ootoKueToWpWIIigHwLgBOHKuRcqRfyrcOy2XzB4SqpRUr8luM1UqpFELKlYgeQwSUiqXluppDE5iLqdW+HqRYEN5hfr6xIG6JlwqrWgF4usY15guUHFtWsc1BxLVwuZda0VeKJV2pbNK2Veh5WeqeUq1NvLC1JqxAnWyzExX4qUbk31XI4kjRjcMLoPQ40Jo2K2ttHNG35vLGsS6oo9UGqNcldyprDnHIzVmzedxc2JTTQQe1HMZVyvFOW71+gXVqtAAASFFPW8smUN34FyWeodNI4lxL7UVdYg7735Pqtey6d66n6sNfgWt56iCXsuQunQFR+1Bq5GG3V1IYPXWJgcTohBpl6ASMerBiR2DJl6LS+lihehAt8D4vDDKiMWBiWcJMHBegygTlGwj96fF0ZYKM+91SSAnB6AkesABVBgyQGC0CkOIDpXSbQAFoJMIrWFS0NZyoqvGQ9My0XKxMxXqHyjgaKx2FBbFykZDh1MFXJX0UjBH9OHGIIofpRnOkaa0KZ2jkaPwtjAR2HTeQZTE0JMsEovT40vpEaWOJATyiBa1OsBh4gvOeuPO4wKOpYs+YJMFmh0lkvHhITF7z8WE16Ey4SNLJpmKFdS9F0AZWVGUAmcOPziWKi1fzMV9oAqws3uOMObL+qzzME9fVltEXtSNZWom2dW04medy759rEGgsja63wtOkpOmereCJSRgX-Phaa2N6kNjWjpJKUIjDLwS2QkEesU7vgd1CI+UsWb+qNiAa5PPcg+AoM0inf+l7NIuV5AcFVmUNXRtCIW81z77lHX7q1QV1177zA+L4F8BO5GOb+sO0UjJVX8t5C3e5KIJ7vszqI24uJia0eI5TJj5pmScZXdctTuxWPjtlI2JTqpuwUcfbyTBmDb3me0+EUtzW54+vOhlZQP415AmPc1ODvbnKrOVemwSQHqvqu7YGwF3bRbaQloAIRlidU6ArqvnuzoaeIRgMrN5JBQ96M3cXCSFUi07lLOTQAc8qfLzrEOvfBr-Ua27F3sjLFwBbhHFgdgktj3k-7qv1fO+YcDrXvvdeQ62kbstXrYdlfh-kj1tvKD29Q7N73lSccvvd1lt9UeaS68p9U3rAJ9By6+ArvXv7p0Aduyt1v62WS+8e7rpooAY9x-VaWXoyO5xOl6Dq4nAHLeK3EGL1v2vwvp9G130AUQfrzRt3wO3GhUOKGFYoVdfvFer+v9hmjs+CA6EY1yHxM-Fjz7ye8sgZNz-DBtnkkjqNl-mWIIufkYIAT1uLtoIONLtuIEn-h0Ffo3qKDEqHj0JfhAd4lAa3jAVLrQDLoUJfsMMKrruYBPiSiAZCI+urKAFGLEj2noJgZAUfifg7rjOAXXu+sxJgVwfeqwSXqfo7nRJwRXkOiITbHwfXlyKPiAe-nPs-iLs8NuISAQIQFoLiK0HmHoGeC1uIHEmeBUJimwAAHwSBHwoodh-RWCHjCzvh6GcxDTeRxxXzvj1jBCgLXSWSaRkA9RjBWAOHvRqLdbjDQL+GbouJuIXK4wBoBHs7YHEpfAOJdh2jvbNggHvSxGbrfTbBgAcRHATKnDnBwCIDIDoC3CeCbLPD4C8TCwKSngMAZB3ygSqiOTkQKivIkYkxqiCz5aoTkivJoE8h1b9EF7uoLQMj4ZxRkSu7ah7QzGHTyIKSe4AhNGDFlj5QYKjGdH6qah2TLIOROT1H6qNFjG+BDFgSETAzbEcw+I1GOyvhEQoSjhkgNFrHo5lj2y5jtFjg7H3GCxfFkz9FvFnEUZliLQdTMwzTLE7E6YcR6AQlS7aSrQsDrSjFSEI6IlhHoknHvHuQXE1w7wwm3G7HqiElhxLLZw7y9zvhokvGAggnrF0hipfw3HuR3F7EQLHGrGglvJliwyuGQRsnYH-Eqw0Q0lCn0lei4m8mc6oI6LoJlTCmv6gCTBPT-E-7MB6BkJQl+E4k8kYkcwWyHQJrrTZDMK6nxB0kLhFggmykcZcbHG9D8aCbCbiDdhMDyBnigBSaklajCygLuacQ6JPQxAVDmmnL667pS45AJAMxuw1aRTamMAW6RJbRqkxnCBxmuzWDwlhmqlMJLyhpB697naEwCgSiJlIzJkMCpl-bK5XgUDEAcAal1FkJhExA5JiH5Lr6er8SNHdBiDAzdm+pkLLTDhrQ1ldnSGVIRmGkznhqRT9kZCDlPFTn46Yb8koz5aNm4ADFuo+L-QJp6x9Zui7n7mQqgAm7aqYhL7GosCOn5nOkCZCYia7DzQbydI+nSZqlyZ77KRBkLTKwmkvrrQCQHAgkcpbQ7R6DmnsBmGtlanmkgm-iKBLwH5pyimAk-GvEymREHx4j9Lejqm1FanYUxlOjoIjg2kMkymymgAclFR1HkUaLbzPE0XkiMn5LVKkUjhxa6xOwsAuzCBuzLEglKE2iinkm7yQWzoh5vBrwbxbxUkUnPy1oaow6yiL4llnbRlaQ9yTzAxqUr40hbSIU6hdwGWCkmy3xlA8naU961pcqWWXyeizEAYcBEbmXandBWV2H9y2X2V5LyVingjuU+XdyuW2T9rXa34uUAxuUJqQ53kmWuKlhSXbwUkc7jwSnTwDx2WnHJVwYAU0rAWDiMBcRKryKRm34wWUDwXQwkoVWPFOiUoVDVWWHunqCzD0C2SbFWnLEuIhXSXLGnYpqLwODSW5V5zLGZ4HyKWbwjUDyU4+IXJN6qnKAb4HDdX9j9L7GaQhQDXxWGUBWej5zTkznbXMi7V9UHGHWHB6Ajlcg6YjU5UnV5W3wTrFmOWpVuL9UiTKkJE+T-WzCkQJSjVEYxIXKL4lXzSilcnAl4Wzr-a0CPSA4slQKo1PSjE6pcpNqGqTU7W9X7WHEzDrTQK75crNWYROhHAcDGnlW5gtX6D41Fm37eXQK-jQGrGrnAys3zkLn5LU2ES00VBPUzk8mdV+mhWBDTXcmnH4USQ6ZHnV6U7eX-SWkA1SkrGnFS2imVXXFSmyXUhcoJoODeUG1kjuUsJ6na3iXUiVXTEJThWW3ERg2MhiVDYdZBVW5e0SUdiikg3y1NEuKO3u29HV4g1O0e3ol5LeVR3Hma0sj6mnEYlBXLjjKRQFGTLFGXBlE3BrJVFnyEWphPS6GK2-yY2MhSQsjl1Ao+LenUbU7agB4fEPlHI6FAIMhMhr4XjLLMDgZ+BhwiVOhRKBnXRwlJnjkondwVCc1I0KZAVPjyiVkcRDAc7T1EColz1Y322pwoLllsir1Jl8AOExzOFuh8AWQVl9lr3dZjnIlb3dzakOHeyqxX1eD31Lkdmv3Kw+zakVA2wVY6kDknBrmn0V1Kw9z-0f0Bz+2JAZwy2zB9FiCnm-1Pgq2RafiWRoMVZ-TbnV79qQOgRcwX3h7DbQyYPaieHzRUMhCoOQREPjacLSTMQxXwMnGaQEHxY81gPAw8nEMipLDp2AXxVa4CPMPpb6AiPXRJy4oJxQKhmjayWGi+1xK7Z71YBcqpjWALXLm81kgGJHy8CAVwmg7h0QVe01WblxIWNzaRboWiOjbR2Grak74mCqO350QZ7Lyay7buXrRkEGjNy+3MQ+MYWi4t59m8NDn9z7SGr2OWN5Avi6MK2SMmgECEipjzEJSzxN2ZMEjZOai3KF4dCMFmN1Z2MRb5xz0pPLn0UxIFPZMWNGAAA8C0AIhTjuxT9FVO7dPQvQAAKgyOnAwF2AWQSDCGSEcKmgqaPdDKAB4COZoceLbjk4yLPB4J+L0Is63Qjis4SGsz0705zv030MM7QLsNIBM1Mw3NynMzoDEjs0s-XgcwSGsy07s9s7s8s9+O88fuHudRw+Zi4+FeHcbdSnDY0e8AyLtBI3ktdFdb1PE5Yz079lHKBNES02IXcdC7SrtOLXI9wy7jE2uZLWITEuHffiCvGCiyc9gXRD0yOZS91U-HS2uoCxufJsWosqsdSzo-xL8EpaS-Yei2c+C9DPxvSBKBIMOH+bqjpalUrlZMQLtg4GI6Dj7Q6qWEi248OC44EzvgLW6v46aXq81rvsGsVb7asTCx0kIoVbDWnGHfE2C-E-YxC9YlCxkHa3C2kwi-NLq1U2i0q7fjmI-Ni0Oriz6-i49VHkSyoRaaA7EweOS0OpS-E9S3RJG0xp2MBoyyjvY-S+cZ2Ky-VOy0I5y5a8WcFSWny03QK3oyK0WGK5xh3RK8+dK56rK-mN+aqY8aLNW93j9qG8msrmqxwBq3VlqxzFtLq-4xY+a6+uLdfgE0u1y3Uta+zXi7Cw600W0nkVnccEUVACUVcOURgEXVYSGLGfGbmSfSmRwoZGIrHJfYwPWJeFmXezQ2nJ+9mSPdoL8AQO+EcZ2U+-ArjJ2Y1Fyn+3e1WSBHTUvW6EksStOJ+BYNOG6hdViMSgxOhwUosFh1IcSqGPh2U90ERyh0XMhGR8hJR1yMSuG3yJ+Ex7gBzNh74MSohioPIF2J+Nx1pOM+5BxxYMSv0-h-05UiJ+YMSvbt6BMHkAcEMHJwp0cKKNJ0h30G4GRxYJ3aAF2ImGYd6R4EJxp8ShJjp+YHpwZw1d6dJqZ8R0XG1VyNZ4Z6AN6SSvp+YGZ0XMAJZ4soYfp2596WAA51R0+AAKT+eue2egARdeegA+dPjUY6cxemHufUsGeOdPgG5JipeBc2fpfem5ccBZfhdui9CtPRcFfBegDtPmBlcMdFytNsCWdpdGd1ccBBfZcVcmHVcVCFcddmENdJe9etcVBYjtcZcmFdeNc0jEoG7+cZe+DpfmBG7mC6FJKWYqsdC3s5nwexQWPsB5IwXTjDB7cAf5HbeaKwf7dkK0B5AABW-ddNJ3SgNZDVJHF3bsn470UHGnWIt3l3WdbmMH339DKrNkiHI0xK15n415APgtxKkADAiqJMfHE3KPaPG8iPC5snGg8nsAkA+HKnRPuPM5+PqYlAAAomRyp9T+T9IcSgAHLyDM-+es-M-Fv3rXfWbg96zWRu0ovHeigwWyrpfeOe5A8JnYpQ+8+7dfv7ey88SgUi-PXvfi9mF-cDoK--sy9WZy8mPXQZnS-3vVn5nmnIQOEZnA6PIkC4BdjxaPfyBZDbU5Drxxttqm+AcqDXygcpnGu+CW+uiKhYhOvVz+CKD6N8OQQOG9nOjNsHiU7VAb7e9kJVNPXe-K8TzsvJ+bX9Zp9LkPfPdCCWOZ-8-Z8BOM8WCNtCubyJ-kiWhqEphpgEi4rJOCwN+TWR-R8ptuhuaZ1IzZ0nsXClHXCYBXviA4OORCCUDZy4j1BJAkBfztZn0PywjwjvSr-xEqmZGyTb9GBbOUDPNfj4j-NPRb8rCFqgkxKX-bZXYVY-BJBbzjkD2Hhn-WMYuqnUDUAwgUB1HuhwyP-NzkcA8CwUf+1LXoDszfw7Mnm9YXZvIGAGB93IUAioG80cbXRGAy0BOO-2PDhlCy+A5hFgOyAJwmgJ6Rem8y+Z9BdmT-DqAnFf6m4YK5pSgMQO7gdYIyz2LZgYAXy+NngrAhRq4ASCwUmEa-Q+HyGEGpZICDYI+C-j9TgkfI5pIwFGFeSloH44g5iIoKMDogaWuMTQaABK7QxpEkBOnNJEUGQDBg9dLWEwBn62R5+sUJfl-EUFAoYkqgkxLogwRmDlBbqHMHVh1JdRoSmg+im-moEeB+BfoFgEILogRkJBbEH5m6h2Yn9w6-YQcEsT8HTQ-Cegl5pUgSG7Mwh6YCISYIQRLBohgQw-uRmbCyDUCV5BgNgJ1C4ZXQn4ZCtUNqH5CSA6GG-gwVGBODsCYQvoKRwqAjQohIgjlpoIqB5DBBHQnEH8xiFSCAA5CfzgpbN5hIBN5ms0UEVY8h2cEgE9C2E2d0m5yR+PmA349A6Iuw6vm6kSKeptmRybZkJg-DoQtwrGbZh4UBQ9CahJAnUKcO1DbDPczEM4WMPeFsDWh6GEAr0K+EsAsulbf4c0I+Fz9vhBnDhs71d7UB3e0VF9DGQ-jdR4kogsJBgmESQFEiCpMxM5EaxLkk62I5AenF2hIiXwKI4QOvGtqXhMRW4QgWBQvCvDokZYJYviKBpPhBgaA11osWnbsiOhNScPs8F2FxRPSZ4DEWHC3DYihqZZNwYqQ2wijjUzlJclS08rnpBRKQ3wWSP8F+FskUGMHsyITjOgIyDgGCpKI9ILAZRTIuUZY2iHGi0ypYdPpmybq9BSOkBOJCIROCOiqwHA75Kw1kgOjuogYwshyLkHuiyIkAmjj6P9HhiLRhZEAjGISiQCaRbvekWiKwY+jGCaYxkJSJgqZi6RDI48mGJZETM2RCSHfnIPUaaj3Wu3M0RGIJBs1h2weJUdyLVEr4toxKfkZ2F1FHQdQLowPD9VdESQxRVrCJs8E-LDj2RgjagowR5G796c7IkAmc02zPlXSb5JOimC7CdIf2msHBtMwVH7DQI5ONcdgTKSXjORG44JJKxfJukes6Qm0MeIbjj15oGEVjJploBQIqgOgSUNI3nFni9xnSBUZ6K-EMYKscYC0Y8KjT1AwiziECXRDfEzUXR047MJDyYC5AtSm2DRtUK7bOhiglAGZJ6gIAkBbwXhDpOqWAm1toyl2bsURgTzJ4k8KWTXJq3vE+NKk0OXPEqnzw4sCJtgIidkBImDJyJ8STvBSy1iKAnoVeN3PniHZ74dKIVC8TWPRYTZGCdAGSYUOxGe4tJT0a8TWMUkpVSc6VC8EVSta+19J2IjhpoSkgJATEuBSUIJ1NwHBhUzk3jlWAODsoQJrHd0OrEgIeSuwXku4IYBAK+icYbk84YshAG2I8wjkvskFNclxSHJ9UdWJSMFoWAkpzobyTkQjSuAmQCZbKf5IqDZSSIPkxen5KimBSDUnknKaFI6ERTh46UynMYTMIygCpUkIqbVOCn6Ayp3kwwBlPchtTT+9kkDP5MugYSOwdk+KXwC0jnQNe77TsA4TmkaA+sAMLQkIJmkOSxeS0oFrwJtCrTCA607ae-3smiCsWKU0EqtSPhUEwghU6wMVKIzZsrpxrEaUdJOkpSzp8UheJtMmmT8cCfZSXBoldCMMr+AWdqNKSCYm1lcZWVifFlTyg4R8O+HVDxIrSm5+JpTePpvg6yQzJJ3FMpsdKEqCF2CckuYvnlKkaBO8HDZDM7BJln4qZoAPGdfhWmjZIBj+efHs3GLyEn8lQktiHF-yMzIZWBFUmq3MBUEBEYeZDCLOSSAyJcg4EGbiEgjIZKZUMnfBLKRKjBpZdBaMIuNGDCy8xRM2WqXkdw8ENA0U9yMxGFlDT20a04mSbJ0nSybZUeOiNbJXajkd8HQnmfPg4bTJlkkCa6pBI8FwSZgFQSUSrNACSjoZyrTRCbJVipo9yDgWmfbKEJ6Bw5jMoOfEDFqZS3UUclGYvTjnnl2ZH+Z-JATWpVDE2ahDQl9MLlCQmyUtXwtYG8zngmC5shcW8DeaOzzZUtEZBtPsmCpY0cKCqTHOICIcRkA81lEPN3xoyD07oIwDdL5Cc4DgHDZuTKKZQDhW5mMCwFyj2QOARC5s1GQfEER7J55hg2AaAD2RN8iAoAQZgAAlqelAAAILgBwA1PAAEqDNIAAAeWZ7IAOA0NAGXwCIDTIwI34h6snMCCd5BGjclRJKDPCbznY104ZMBlXmBiQ5A1CBbWRAK9yvggsTOYcAqw4K+QoC+CQ9QcJ3yH5z81+R-O-m-zCFKC8tGeDQX0YyaCCoSg4V7mnTV5lAdeVbEwWe5nw6CsQBJm2kfi04iqWCSwowV2zIFLMwRttJqzzSYKaOSGTCHgre4-Zn8CYLMHwUshVFPGQmc7E7zICgFDuEhawswWd5GozfChZQDfm8YAAMtTz-nmE+QRveaKYpAXBB1oliuRSBJgWry2FgQJBb3NQXOhvFQSrBVUKIWCwIl3WGJUYgIDrRyF98uxY4ucX0LbIYSxJUJEiUOEFFKffrGjk4VfTuFvCvJc7JpAwwrAIilKc2GQElLNpfQfsdUoIC1LNpzYKWhmQiW+Lo5t+BRUdOUW+pggDVb3BmQ6jBBwiHWXpUazRyeL5OPSmRQwCsW2SsyvvOERCLTnwikSRs5Zau22n5KUpiijQEMpkJsz0uRGApfn2dBPSh0Ei8xQNXTm7LjFHOEad0qsDrQnlRilmQDwXZXSOG5lDZdsK2UQiFcfcvMOomVwGwYgDgcebOJBU-D6wgK3YfKxnmw5oVKZSwduCA7WBdhCK+FH8r+nODI5MQYkHYGnjQjCV50leW8FXkYptZvkjudMP3mKRGc6BLuYpFsnqFWgDy8xLMECW6LbwIVOlYEkFVjVlcu8jgGUuzQbzBVkOLlL-04xW1dF4KqjN2UaX9yvkBCIRQwHaX2T5WvgGzNGjhQPCpFwi0RcaziS6KjCbnRVXIlsgqqDlu+EyVOMAq4gjk1gcYMDkCVqIsUyuTBQ4G8Jag-CrSakMKsYX0qlldZE1BKrhQOBpVm8DefwvlXK47VVtcYNtLV7voNV2hLVa0vwB6q8wBqiwEasFTuEalFqojHEmCA2qGqaa4iBmqunOrFWxVKaZxAAk5L+wJAXlSyEFXtyclsFHVTLPGIwSB1gqkAqOt0WDqzVtZaCR2qnV9rZ07qnlSqu9WMLp1YC2dTDJ26MhJFm6xDrYqoXvzP5P88ADqkPUvzj1tClxVap1W1r0uu6ntW2K-69A6UPA-es8FHWTLfVS67lZ6uMRrq4FUyymsrkfXeKHAti+xU4rPXUhIN6Sm9YwRrUxSGqYGj5dPOnxvqaVgrdeJvEsiPcky4FC6Y-EI3ANfKtkPDU8HiSf8toWSC8BgNoZCRyNYgfDauGrHUbSwhk+ja-Gw1KVEMLGkCFRqI3iCSNB00hGRrsivB+NboQjYI1o1oUQijGiTQcCk1saHCnG7rJIAJDCxnQeKmTchNXHybfZzG2gDKDJUqawVBy-tXowo3VkbNpfJBVSrzAgE8NJm1RIprs0zUPNNTCvMivhERUe4HmszU8G80-ppCjm9oZaFLXPgrhSK3ikCox5WDHurmtzAhkk2ua9AfG4LRZqulWa6+SmqTWVEy2sakF5czkR1JYAPT9iLk-QGjl82bL4qRWoQBlsk3BbPc4WrsqFqs5uc+N6WnKo1pmr9aQtUedrUBCi03DYtTFZgPFv45paZQKW+aJprqJzl9lOWkCQMqUXvc5l5ykwlgE603Y1BwjOLXisW0D14tEg7zTnN8CVyiA1cppaPkSR7bgU129QqDS+mN4T0Z6KGkfFvQN5nGByrYFFruHbM6t2wz8CdqiwAzzwyyfpHOISSCNvKm2AVm3we5Mxk2TxKWiWNREu0CBK2v6S9DnZHLBlm2-JBOx209kmFv-LUnRgWDYS6iI5IYa2La3KMRyRQRrIZ0JZtsegGQbOZdq3Gvl9CGgLbH22ea7aPtWIXoJjuzHuVOlQQzsMeCrmva7t6sgmRcgFrtaAd-SPoJLrLEvpgdR2+EZ+G105jtQoPZXEkBlECdeODgAAJy8BUtSGQTqqrnkuJ7dPHRakcu6JhhpStZWtCFUunRqvsykktOICbqcBYq5gS3U9FmGzD6waAOPcWvbHL4iMkenSbiA3ZYhI9qq7QK4G+mpSeEnFCQD6U-oWTuWWUpTI7oUWe7AB6cC3eXt45dLcAyRVInMUIgersteOkCeFo10VckivHZvWXAm3+kptKK8Mo3r73ph3s8239omK3BnaZQRqiDCwHpDbgcefqnbgbAcA2iuw0o2UViNqGloahtmLZtwE6U6pbsbsEgMvvR76CcM24TJq5lrQp7egUmaTBWKOC7CXgh+4gN+Qs6h88kKezYX5oNibAlJP1GDLdhVXqE-xEwACabmAOnYv1xiI5D2tgrzqdVmNR6GnPT3n6l93DDeDfpox36EY6LJ-S-t9K6LVSsBoZGQakw4RQDI7PnC2tFCkGaDkc+EX4ATl5wf9ZBhPUzLr3u6mllyo5aco9nDh1FUeQA5spXbU6bIOEnUAbAVxGFuduwNzk0Qtkg6dhaA+XTdsV39yLkbEZ1eKMOnibmQBwKQPCHn39JIV6+zfdsttFeld98o-fZYeIDH7T926zRLtkQ4aG05Wh1Qjoad36H0Nz7MQUsC8NIKGwlzE2ceCZkaB5AhGE9DEkkPAqZDtOrUgoZ0HhGlDbOhqmoY4bjKB1SGr5UJTDnbK+lY7HbppBro5KHAcifVu1lpWqIAiuNZXAISLnajKkAhB2cUcgXuyg1vhJUj3RyUWz3IecxbIvTaN1zE5nojmaXOwKla5BPh0IljQRBDG1EGU57bdv7mTHODORLAG-rO2zCg5egHOQAB0sAkywpc6CgN8AjkQg1XfpwG6xC20Me6GBfuX1lwWwBxvFUcZDknHMp5xy49cvTC-jbjbQ1uaMDIAQZPc8KOJFCdAAAAvHXqAHONYgrjIJmrHcdZ2PHETzx+9K8d6DvGCCnx3gHemiAmGrI5hnoEceBM3GsTBXAYUXHiNAJtm1AbZs-g2CzCWwOwb435ppOrZrjoJ+kwN0ZNPhmT0MPIKyfZOdKCTOEIAA')">function apply_a_rule(rule, query_pattern, query_frame) {
    const clean_rule = rename_variables_in(rule);
    const unify_result = 
             unify_match(query_pattern,
                         conclusion(clean_rule),
                         query_frame);
    return unify_result === "failed"
        ? null
        : evaluate_query(rule_body(clean_rule),
                singleton_stream(unify_result));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p31' class='permalink'></a><p>
      The selectors
      
	<span style="color:green"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      and <kbd>conclusion</kbd> that extract parts
      of a rule are defined in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p32' class='permalink'></a><p>
      We generate unique variable names by associating a unique identifier
      (such as a number) with each rule application and combining this
      identifier with the original variable names.  For example, if the
      rule-application identifier is 7, we might change each
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in the rule to
      
	<span style="color:green"><kbd>?x-7</kbd></span>
	<span style="color:blue"><kbd>x_7</kbd></span>
      
      and each
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      in the rule to
      
	<span style="color:green"><kbd>?y-7</kbd>.</span>
	<span style="color:blue"><kbd>y_7</kbd>.</span>
      
      
	<span style="color:green">(<kbd>Make-new-variable</kbd></span>
	<span style="color:blue">(The functions
	<kbd>make_new_variable</kbd>
      </span>
      and
      
	<span style="color:green"><kbd>new-rule-application\?id</kbd></span>
	<span style="color:blue"><kbd>new_rule_application_id</kbd>
	</span>
      
      are included with the syntax
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.)
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rename-variables-in rule)
  (let ((rule-application-id (new-rule-application-id)))
    (define (tree-walk exp)
      (cond ((var? exp)
             (make-new-variable exp rule-application-id))
            ((pair? exp)
             (cons (tree-walk (car exp))
                   (tree-walk (cdr exp))))
            (else exp)))
    (tree-walk rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlKqu8kt0CYpi+EwmmYLK1CAFxK9KAwyAk8iw9D8-pJAeYAD6o4G+LGQg6EHIMADmCNOSIBhCMoHRmKxFkheVotAI8gYxN+-xRVJp2Le0Nw3xJ7PJvk5XNpb0YOnwfGEkn0iMFBi2e2eHxYX0oWVwZHwrNJKOMvmpoPBoHlyMIW2iT3iLzeCwJBPwOner0IelxCUI8wAFtZ7UCWm0IW8Rj0PUKAGQR0C++T6cNGNhJ0CEX2Ue2W5U2yEMeQJHVmskBkFB23p+QOp0u3G6wUVXq5-O9RVYKJZsSgA4AT1hjMotD4ULzBYF5uL5mN7Vj+gWwn5bLHLaiVtizySqQmBwOwgJDHzTHdeJlBIq+AAHopWlv4uO-GD2qoa715Nfd-vCENO0fCaeL1ft2IS4rvswabtub5krWY4mEapaQvajrOo+bqFkw9YvuBe5ks2SrWh2GE7lhTCUN2vbznqQrNCW97iNOeizksdEMVBRYbEB7biAREHEZq2qUOel74NeYgsfqsE0TG+BxvRiwyXOonkpsraPKu2ZvJK1C4NkdQiQmMGBhJ8EVoh1ZuuG9Z0AwuLMoQlAaVpJA6QwzaUhiopiuWlZIa6h6evWxSrFQ9naTMLlUm2eHiMFjkzCRPb0kselUXeJpMbJaXyQmbG4apHbRU5GpfHxAn-vEvmUZik60VJM6ycxWVAcBzyQlpsI6PI-F-kJAEskllVwXaxlVsh5X1q1eTtZ1gnCc57GRaA42TZ0jn5q4BzleOVWgEkijuvFfYDkO+YVBliWEJ62XKRxC15hNHX0joXYbfpE6lqdclnRdSnLtdkJVSRCzMO+z3JVtRleaZo2gL0-3WUD2FzblQRBlNpW6edFXUalNUfRtjW-W8lk6MIMxfCD4kmuDJkjeZ0NEyT8TqiV3XxGFbnuWWCHDT5tO9PTpO4ADGj4O+OFXfN-OM4LgnE9MOp9VjD6urIUpQ54iMgaaYjEwLNhWfgACO2oHgrr0SchKt8FDdwa88ktiOqXyuLmIgZPLGObaWFutFbtMAMz4-NOKG8b1DuxdL0pe0VPczWvMHCHAJh2LEVI9tKTWAnRtJ+HhAHJ75s+b0Weh-gn7hvnOWayXOdC-DTDrUlFj9RJ71ZVXzzSiQuJ1yLkEVwX2PSQPHc2letlw33DflfnkdbfVGOV+LaeQiLiiEF2JGJ7Euez6DA1QhQn157banvC+E+A1PZmL4P0c8kfuMD4HK9vAUtDUMk5MGZTg0QzTGN6zv0-inJqNpgHJEoA9J6pszZD1qplD2L9NaQkmLUGY384H308tTHmgDoZoOmKzU+HYOKoxZujCO+9W44wXl9Ue+ESAEnITNRuHs55vVoXVWSDVMxBzeMUPQAlbxgz-rgmsAl6yDEajsDiRw+AnDOFAOAiBkDoFuJ4FSmt8C8WFgpU8DAMh31AqqRy5EFTUhpP0BaJM1SC14iOBcRZLFYgAFxlkbI4iiBgXG+GsbgBkyQyCKDimRQqWp5b7UFodTxCkDAGKMb4iw7jIT5QwahckSTzDWJ0eqNJZUMkJJ8RzFJbwuJERQqOZxHMcmajAoRYGhTQAAkSSUss9tczmLHFk0AtT1QdLJk0lpxT3KlPPm1DqzMZpxJ6dY9c1gOJ6EWh1Zaw41pxLKD0jmNJllQNoI9DZzTDEjNFGMmuO8Zk1OaXU85Yd3TbzDr3d860MnxKOa00ZZYIGXPcn0wW3yhnHJ6WM2GV9GlVMBLM656pQXC3BU4tC7yTlcjGYQpyPzRTWMmE9XJWo9FkKmT1Q5wzNnbK5BbQ6Dj1rZGYYS+ILyIXkiKcimk7iWAnB6E03oABVBgyQGC0CkOIbsTB5BnlAAAWgldCvFzBQFgPwsoXAT0YgVBpXvTEwg+CgD0JCS8wgEgMzdpQRZMQNiR0VpxJVm99WGtdgsyKehVWgHVS2CwERmm4ATi8bVurCYCglCax1ZrbzmEsriPwBwKDEA4Lisg+LIp7IOWa0lZK02+HPMwBgzoWndDEMDLZ6b3JkNWatFg60U2FqLVydVqbq3VoJYYvNFSnWMEujSURKsaLhO1GMIS0aWWYqjrMBxess1uivAOqt7iJRShlE6Hw5gPX4C9fgC15h2W0B6M6nlfKBVCt2PNDeig11SpddasW7rlIKvEBSwcVKhEXgOEU9dW0dp6BpewAAfDK+NzAP1MKKb+RQS8frzVxXrHWUt9FIotZ2vEZBUw4t0f+gZ0tWiyz0a85lWy-l-pHNmhmDtBbhu3pUhFTKkVbLZShgjUHiMTFwM7OobtiXHL4WnCDtzd4vuSj6nVq9fgby3tnC5z912WtALO6UspF1Ls9d6rVAm3haR7pPYG4m+Oii2nG-F3Q1Ngv7rfMowy5OgGXauiTYbDjEC7gZz0Pa10cELbp-9dnL5wqM56fOJn2NJKU36rt4JHNOv05fBzDjzVaa5FtdzAMItFXwGZ3wFnvXRY7aWLjDydRVpLAZzz08B6+aMclq9KXr3XTvZQRg5SnR6E8Rqn+7R32UG-dDAAVDV18sp2ufga8g54Bx1CzHoLZfJhw4kWoC8HUTdzXmhosOG4gFcHDcaeWSBlFG3UxYPmvYT3GZ6Dt+RII+uXQDuOqACeMw3+yIbsvgTSIV6Whe7h5+uN9vMbDrfW3wQ3mS3bGw9hyTl1pnbTfMkTpc+35fe2wz77b3UKbXel4dZZxssleYW-xPl0ehISnEo7biTt8jM1EMDnG6kAsZbx6kS3QDQIcBApNT1XlmbpwE9QXrVs3dG-dx7MVnvQO29ZqyxAuuYSdEcDgVXxeETqxzr4S8mviFczqaBv4s05qbScFtCuvXfZ+4b3wsvdyS4qGDo37lhkDZtBB2F72YPDLg6WCH-0HF6DO6rvt3a6UiWw0im3HYIPlPhRRGnvg6cOIcF7kPZJHMsKJf70z1Jyl477O72PxFSL4-9w4opZmtoOI49oup6PHfHItan7P6fEt6Fx9XrpRYDcWC97j0dvuMeMreSSpJyflyyMivIxR5wVFXHUWgP2Wjmp2nIEhvQZ4REH3pIyKSLIF+gFw6AcVSYOAIbXdR5pJAOXz6AQyJkKuLwPeYDoCorQw7CDdjoVx8rroQ8WaWog5aKjq9g3xraI0+YA1s0g0kYhgwcP81pv99kux89l4UF-U2RA1TVF9DIxFY43Q+ALIgDnQOJQFroS1tIy1u4nUUCTRvZVZMCvASFxAyFoESDndC4e4fYnUKgbYGEaDE1c0ddgY+BSClYmCKCKgA5i81wM4gtAgQtLJx0+Db0i43dEtPwpCix2Cyx5CIllgIkZDOYhpvIaw89oY1DtQ8D5pDCQgxBx0NDtQtD3pItA8VdYgAltxCR+Jtd81IInc-9SxmI+8b1dgwsTUVodQPCKYpwcYfDrok5HDrA8gVVAjeNDRlcOguht04ikUtg6dUxrA9tN4uC3CmAHBeRcBeBfC39Ai9oyJn1QAqUtDQxyiEpKjqiVCFFhw08vUnVAimgEjJM6Jmj8xqDjgWiH1ej1gTAuisFxBmJhi7DmkzxNcXCMhm0NMokGjFdv8XwsiK9PDzYAQCRUw6jGRZ4d8Fodi9jNR85N9ajSjhx9j9cqjFc3k8h1j5jCdkljjCQ9iG9Z4AAeN43Y70DQ84tNHJI-LdPoAAFQZHTgYC7BdSYRhA207GCRqCdHcV6FAA8At1+2-AJC1RgWWKMA8E-DRIxMt1xHxBxL4CejOI2GnUP2P16AhNoF2GkFhIJHhIbkRKVWEBROhnRI31JOxNxJuNnkJPrD5MxIsDJOPCFOpOmICVoCCRCQbxCwb3DwsAiMMXeAZF2mCNFGuj+16mWIqGpKsyxE7UKOFJeKuRaS1NoF2glIzQcNoCcNpVcJbWtwlPcQb3YGTDok+KtO2WsTompIdPO07GGyfnxPmFkllNKyXX819RaR9N3zTGyPmMWKLFNIzRBLDCiXrF5XpAlAkGHEvS5FS2R0LTp2GIcDi2GKET8zJS2gNPaJaM+JbL6Obx+2GMcwrQ6OFyxCiHK0SJtPlJ1L83J01iryiRVLzLuNwDVPMA1IyFtLHKMVNP1IjM+ONPuKzMkxzEfn9LBxyU1NHI9yN0iOdOPHTO4PcOOQDKJ29KOL9PxMxOsQTlsmDNWLnPvNZXDOZEjIqLeWYljKSQ9QTJ1STKOMyP4iExyLdPfAWxpE3VzLInzIYELOzWLPzElWlUzw-H7JSyR13JFwjWrI4FrLKOT0bNLGbO7LbKmM7PrW7KGL7LjPM2pEHMkxHO1PrJK2vQHyRiH1OBH0uDURuAwCnzPltSNQdSRlbQYGMW0P-h8h3WkvtWMLTjUof2sANRUGvnRTNQ4RoWkkmLbUajpy0uNTkQcBGl8QAOnE-AsGnDTXiTsqLgYkcvMAYhcs7IANDE8qSO6B8rcqfGQgCuQmCvJSLn3L5E-BitwA5lcqiqfGJgOBUHkC7E-FSvSphPciSp2SLmQs8uQrJXyqxAAKSFTAmDyAOCGEqu9GqqOFFDKt8AALcACosBP1AC7ETB-XFQ8FypaosAAIlQ6vMC6p6ra3FWlUGt8qLl6wqBpAmt6q31AHa26vMCGvMAAOADGp1TPAqEmrYD6tADAFmpCrdF6AAFI9rlqprQArqNrQAtqbEnwd8Oq7rjrVqjieq5qnwABCJMD6g67qla8VQGjgX6i6voL426kGo6k6n48wKG5Ky6r4tgMaz6xGjgUGv6y6r9OGw6sG0AH9ZGl6gAr9DGxa3wLG1aymsmvGvof6va1a3wL68wf6iwBfXxFsCynIO1bSkAkCVoqXJJd9acYYfmmSoWmYJePmg1aWshWgPIAAKyv1FtFHfRiDaz8qlvUpOi4XkhDReqxEstkpAiXiwHloFuNSWxsil1erdAAOk3nR0E-BdtlBNst1aqLkgAYBkxJkysWr9oDo3i9u9u2qLnqsoFgEgE8ujtjvDojoqo0AaoAFEAro606k7vaACAA5eQPOvaguvOn8w3XmmzDoPWwWu2rPZY9gMWpQJ1NrHot5M2vWayBuCu0XKuhW+1DuhYHiRLDWrkLWluw2pYXgtu6u22mze2lsXw7FSgdu01RgNVJhZCLQpemUarbNFgZVK8lW+QLIIbHIdeM8otdu3Sggd8AyttRi0UGlTe7gLECread84Ja8vIt0LQzNK7L+ltM7S7bNPQFexNLc-ky3du2uieKMoB5QK7UBme822KZWtWoQSo0M3um2sw0XGyHsnOiwaCtM3IipRqAgYgaCgkAJR4wWUh98VbfwEJehyCBegSi244YS5RUS64TASSjsKQxyIQSgbOXEeoJIEgL+AKUoEYrY3+Q+WEeEGwlYGRtiJJIMie3GaRtYNiPk3oSgYkr8ckoU5RkoHRmk05SSEymMlR8xlQn4JILeVZa-Q8ckxrSTeQagagGECgPRd0NVLxlao4DwD9Lx5M6GNE6xXoNE1EsUjwTx6gQh9yaJioKUwkUDXwxgZaBOVx48degkSomlXe7J2RgASBCOFWxL0b6D5IcY6gTmcbq3fSKayeyATnyfzgJOhgMF6BUNae7j9BYASAAwJC0PipGcJyicKN6CSTGRGhpSMCjB6UCwtOYgWaMHRCsYQSWHWdAAhuhmkXUZ1TogWfCYGBmcDK1iYCEdslEdigka-gWYP0CzRQwVOaWbTRzGuIJS6mmXWYDKiZqY8H6YTnTCGb0BOaYWpSYV0ZJLJTRMMeVJiW+c4N+aJV2bhe2QRb5JBcGZIGGfenVQmdharWbAubaVxb6DCvyYqFxbBfxYsZRTLFqKeaHUpd6H8oqBGkhdGejPknWdpYYBKfpYSEJzOWxImaOd6AAHJDHP1CTZXZmjHpTKSJm+mhW2nrBs4SAnptXJq5HsELT8xFGeg6I9WkmyUADmQ3b6wt0iSBUPx0ItwWBHWDCrBmxGWrEpMNWBmIWcZzW+WlgA3vXhXXBRWlXKWzXtQdWgLZJg26XzWRCbQj6T7qAz7bJR1LwP5upH1FAxmykuSiERJhEjmrXC2nJPwfnpoiVhEH6aR30U2Xw03hB1548s2w4twOnc21HLGvn8xu3S2i5BhUnpzkX+3hExWZjFAk2Ow9W4pRUzxl6TgO31phEptfVUFy2MEJ2JMqzwGokHAkkkXBxYkq20YWQJ3Ss+bs3nXnR1UHB3052RUFhF323uou3L2XFYt92yIzn-Kjnai6I33b2JgoW3l3pgOE472wPPWicyFHzkxegwqAPl3uoqx1UlX4OD2jjehG3T6W2M2FCAPkj5LhbVSzsG3j6m30223UPO3WTV2Lwe2mXaisPUKq6b2oPQOCn+zyz+MVnrid3ot-8h3y5R2T3BOmPeOiLhPMsLxSc3605j0gimOGD5HaiS2h06JNOmXkLc20L+VBUL9q2bRlONLNYlDp412DXQINOmOjnvD7PLG9PJFoZeVDOD0O8rnx1arpiMIXX6hCBaAoEqgdBJR9BrOKmUwuwT1u2zn-OSAPwVC4w73nXEv6g6DIvEi6JLO85u2ZEwA7S1RYoFg1hhhEMXVMLHRCAsBZFh9qBvQlBXBQA-YdUE5NY-YJ8J8fFF6twP49BUgYC-A6ASAdB3HxiPFH478t0xuAXvXJQZMnQD8Q4yZBuDbpI6JpvRvOmfyNHpItvZvaSMJ+u1uUxZIDvOmZ3EgxDSvChbx2cP51RbunNHa+h2tnvet+zKtAlgkBv8BN5PAKhBvKAbZTS6co08hnuHBjvqA-uAfA2llHvBZnulJRRptxQ97Fv4wyBIfVHEKzTSwPaF1QKZPKzK6Dvoe+vYfge7gEeIeUeCKdtUDd6FvXa+0RvGgJTrEiedBPSzv5IDvGf4yhz1Sg59ZEu4fKBAfQAaftzNCwfK76eZHKeDgTv-upeEe9dyw7HwLAsef3QceGfiLOwiByx5Itfnu63tlaiRpgfpfajZe5yrCLXtlmILe8ehfzNSeyU6cKeOAYfJfaf+fEpDe8e2LfB0eWe51ZR2eZuosXFSnRR3yzeQ-ceyusBE-vbaiHf1eg-IsrfDd6pQ-zGWxM-5MV00swdk-mIDu5erDw+ysyyOLqRrpsqNAGu9BRXTS30zn5TFTyWgSFofvFAzt3EzgcOZQE5EuB-01rFJ+XWLc2UczO+DP91xAiuBcOwz1nvSzhfJM2-CAGvLQ6cN+CooeOAIdnvDBeA6dquHBT+SuZGqXh+xYLKKuOAH-Aun-eh5-p+F7X8xCeQGUMTEJDLAzG5QJ3rIyi61FtGEAyLCoSAGEZnCsAtXMAOPDWEcYiAkAaMwQFoDkBteLAegLU7tBmIhAwkP0TIHMId6dZFARUCmLEDOIVPMAYFHwB0COiKhP+iA1oGQC2Bw4GoiRwhyUDmBMjOvusF4F9EruLwPBkwFyD-pXOwxQVhhWdDFBKAjXbNAQBIC3hrodARQDilU4o5I+giITmTx7qUDGceAqgbMDrLyD2BhaTtPr0oFl0sQ3PdCrYGUHZBVB1rDQfpwGJ9E+eOgp6JQJCyODPefHSPnZzzb49EitRAIX62kgTsKgsQxzpENCHe9tkOmeTqBWb6JFYhwiSQWSSkgJAJgCDYApKC0hdg6sBwaXmUIypVgDgoPGzpNz5Duh1YRzGoRUOdD1DDASrQDjjCqEWtDAbWAoXmGKEnpShK6WofGDxCFCU+LQl3hHV8DtC6hNsfojKFcBMhjUSw+MNUImEdCSIDQqLuM36FtDdhyw7oZY16HDx1YBfTqitTWH70pImw04foC2H7DDANwslIMK+rDCih9UdWN9H4aVNWgIwvgFpHOhN1nU43VHKCI0BZoAYwI4Zj8MoBa016nYAEfgTBFwifhrjQofm0PjNCfhkzYnLgCVb3CSAGw6wFsIvocw-S0wvMDnS+E-oYRhALEXSMRFsjZhhIgEb4U4HOgtUHdV0JBG4HtQvQvgqARHkrpmCOAQQ6gWUW4FTEC8B8BwRYLm68jhBZXUACKPEHrAD8nQFkSwFmCVUO+QQ93I4IqBaixR0xPUc7GRHt9-ieo80RoG1FaEyKiHPgIsCdBokpW7oucJ6KVYrclgDozURoCMBHNqy5gUkQImyCgMQxkDL1ryO0CDhw0gog8EGItFTFIxy9EjnqMWbRg9UJHEUUSOtEGjbRh-f4sxBzEfCOYzEQsVWPcjFiJCRo-4kBxDF1jvadEWsVgwbR9klWvQH0QQDdr5DjwFDLQNiPXyNDaiINRkcSOmINcHskCf7AlzeZpcZgFQOdkGLnb0C+MdOJsSrCjRMYHADYw0XaL0DrinRLqFcfEHNwLCi0m42wYkV3GToDxOHfsX6KHSFElWLpEcbMGxGPj+0TGaYmQFBbADzwMYzGHuTeBpMiQLYxSJIOq7wjChcPaXoNwOESie6DtarkhKB7-c2ChwjHqzxj6zxrEhRMMgcEkEgTF2wPAcGBPu6V1BuDgGCf2U7SCJBuRgKJoMDDKDdLQFDUAGCQAASadSgAAEFwA4ANOgACUwSkAAAPJ51kAHAQosUXwJEAGuYEALhNiPHOiGBUmYCXvTPBgTnYRI+CRRPQ6XiNJsIg0ZO3glfBBYS4+lCoWsl8g1J6XCbFoX4mCSRJYkySTJLkkOTTeJk1LlP1loGTLJ2k+CdiIomUAqJVsI8W8mfBmSGAEqH4S-nmgyZAp6kqyCFMCBaTGhSI5ke+lywiiYQ36C3HOM-gTBZgdkkSEVISDDALJ2Uy0R8L4AqSGqVUzKZpMtHTFJQYwsbv2AvYXhty4A1gZaItTXRph1gKQF8C-jiiuQhg6MesCiG0hEyRsMmNwIWnG9Eie+BvuX0swo5RQdOPIOYKQGWCAignZ0dtIJ7M8HBTgodO6NXRdj3E40ygJNNwBfwTRBA1HtsiiClM+Oe0iCVmNGAjEjyKYVoBNKmlxCIu5qTZk9JelfxvCsHMlO4jukJw2KnFPfhNxhngy8hinbRLMX-r8i-g14NYOqLgFfAcptOSURYKOnYDtAVguUbYwgEKjqQAWTmpCGVHHT4+2mQngwFxKljjRFg4ISqOvE3jzAmoc6XGK94V810c0noJqCize0dg7WJWUkgOlUzpRAs2UdcTFmWi2KW0VmfhOj51ZHBZ2FwbzKbEkzWBXYmkO9PUJmirZWIDMUWjZR4yuBDM4adrKZmEUpZ-HbqVdjeAiRtZ8ovsqMUVnKyuZEkPsR6MHEcU0hGWCSGqO4Eez7xV6Ccs8EYBmyTxige3kHy3FRdXRHASOb6Ldreio5M-XwGyhWmBjs5RI4YpmMERZzQxQ6BMQTOdLbhiZWc4YDnI6J1zoxigUHkc2bmDhCZbcwoH3OGDS96Bp1MAErPayZjs+6sUAFGGZbZibYRzdOZST5nljZIDctsViArE2xd5xuHmRvPNlAdrh9s9yEBwPkXy9SPYyxoXIHG9McZ0+WQFYEPAFZwJE3GOLoRvgfz6wwQcznbDECaQgJZUYIBgOsYC8rA6IkwlYGZxjBoF2k8ZsxBr7QKEZFgbHE+C+CTSuwM+IwpO3eioKCAl0VOTaCXodRggCCiAWeP1ENS7xfAi1HTk0ir5X5BABwK0E8SFQhpbwGUFQvWBs5K668zeE+JjQSz3IQizeaeOjY2p6pDAQ+TSEsggLE85+VhWIPtn0KJBUXCRSIrOavji57407M51owiNpFfC+Bcwv+zgK6xX4ogKOLZF6BtF-42Cdeh4nuTKA4k7lAABk068k4kUpNSktTVF60DqbnMSJASdKekrKQpSObGS9JVYYIMEtkVWTTeNkoJdfzgLPBHJgsBJYMMaFuKPF3i8AH5NsgBS0lsU7SUiOAb6Bcs4U+xZFOilRL5hooGGFYCSlsjmwHw2pQiL6DDs3WBANpQiI9aSCl6OSkJR0QqUcj8pTdXLMEDawW5yFqivhXVNoVyLGpuWZqWWLKWyLnR0xbcL8CoB6spFLAGRSsu1EIT6REyhESajBEFTb5w4OZWSkqUlDnQVIsHGlOcnBSaFzsZ0XWOnEjKrA60L5QaJ2WMU6KbI6YqrhMXHKjlOrM5YSMYWV0DY2tDgJhOU4wrfq0MSFXq136o42ZmPNnkirbSb49lelKFTq3RVwrwVB+QlZ3jsDTxg2YKhEdMUhAUSn+OYpBZBIlaMSNmqIMsIIm5X5CgurQD5fUB3oUSP0CU28JH1ZXEy2pnMrkHTnokcB6l6vaiXKrYpMKAgHC2yG1POXj8HSXSxCad3ilBT4gAywoTit8CKBEMcPJ1qarEDmq8wYBMlCywSkVBpx3jI-HHl1VcjScsc9iqnGrhCrrA4wMVZEvAUIqe6R4hwIoq1BEpwFZmaVXpLZVJL8eiq-7g4BVWbxqJsUjVZXU9XarVFeqhukbkNV5hbVfS-AI6oSCWqLA1qt0MauCDVrnV1vEjsEHdUrUC1cecYL6pjney+MZOQES6jC5Fqt0IqkSHKo5WLLJ1RzFLtOslVKs51bUiVfaoUrJcR1y6ydXxlxBboqgCU2mbTMlD6T1VFMnuoyHSkuSrIDgNxZ5IklSTZJRS6kDetEl3qfJvi11auo7VtZz146qyExNLC9AFST8wNc8DnWUKI1264NUWrDVHq+F-ZE-rgGdAJLr1Ak9xV4p8VmZ8l6G99W2qsBfqvqP6hJf+ojlAbyJbwNMpZBVqOoBIUI80o-Bo39E4slGp4Lm1o2cJ4hT6fouPD1hUbVwjHEDFoWSEZMCYMFdeJvFSq8aQIrGvERaQY1NF-CEmljQxu0nadONKhbjYpr43SbtJQm-opIAJDCxnQhy5TY0NU0CbJBlG2gLwuY18bKVTKqdRRrECSb0kTmp4ICS5DWJGVhQpVpZt4XcabNGDYkAwGc0+ZMSWK0xUxtc2rggtIW1ymX29peb6RjUetX0GtZElwtxyxQk5qs1rqh1EmnLXXleAha7NuIhzbBTshFbHUmmjBkSI-G9swgFI+7OULqy5YMt5KuLNVrdCdafMYovVXFqWorV8tfmoSGNkq1abut-Ww3IltFZAQUtgGkgOluMXYrzRRWnLf-3mj6a9EtaXrfCtymTKbl0y9NGRS-QZ93I4zNrU9E23X4yVT0V1PIu2Q2KguP4+xVMRpLxbnBnYYcbYue3dKMxpTRPu4kKKbJ3tO28FVsDm0OtFtRUYWDdr6z4ADNzAdbZxjPAPZEMKnPNtpK9yucqGNDJmPBWULPzk2VHfDq2wzxQsStFyqiE2X20aBblHMY7VsnPCo7-0k-QeiID0ShkeWPWhQaGSKB0DeqXYvThkGFkiy3Oe6IzkkWIDFAcKvJNwBn3+1YhcOxO5tqToULMdjsj2uxb9u7nbJAdR8K3tNtm02qldqbGjg4ih2yotW0iz8HhxV2EdNCxRHcWKgq1pVyhDgAAJy8BW+rwHKnqvdBaD5o2VcoXqu0CuBDwFQBSqaUj4WlcQ8qmkGEN9TiAjinARaeYCD0ZU9A0raVvWDQC57a1O0yvmSnT1PRaRn0jmMXpD22IwwHIheG8nEDSp1YqM7IRYAr1Iiq9-jdOIu2L1+dcAOCvBTqEIi7qKdXfRodNvB3G7sFGVfvRbvwyw61UveqfemHID8Kh1kHG7bqiFaIZjSLAekNuDDqRqI0BsBwE+y7ALsl2nHGMb6xlD1q9G3AIZczN9RuwSAu+wOns0Q7bgCATAFyCjmL19ApU0qSDqAD1ZSCb9OFUaoqDEUt6fd5QhxT61BaHKDYmwSWbtLRn8ddVQXELhMDC51ZED+PMDXArHWbqN1+6ugrgbYoBYn9L+jeG-oLkf6EYxvX-b0H-1no2pw68LmAf-04RkDaWVA79KSSMHmDZ6YAyIqOCCGpU+ezUdAYyp+7C0SIunUdsCIlSjcCbUxVbNZ02RZBOoA2NqPdXC7dgK1IxC7wu2njUmX2p7X7sKJsReOhO0hP4WZAHApA8Ia-Yhlok90j9HAE-Wfsg6X6cmzh4gISTv1l6rmpFQIg7WMPaHPthIb8RYaPhBG6NzQ4Yu5q9YNgmSTY48MGIWAzNSmM6OA1buhXqGZBeiCIz0VCNvI+d+htrIYckEcLBibsnhSyAg2nqI04wV5qKp0AFFpARa1o1oF0DpLfAY00Gc9Kxn6CkkzE+aapyxzpwNw6QLhSwJ8EtGt2bR+8mMgiH3lrEtRTGa9Ihn5dD5mxuGbJAnbLGp2CnTaYMdhlwbLQa+w5dKyXF6BRdAAHSwCUKql6YYLnwC3TDMgd3VImuaiLTZ7oYlB50mXBbBXHTFNxlcXcZFmPHnjzy14yag+MxjRgZAY0m8iG61FkToAAAF5fZzAjxrEC8YwPvH8W5Robtid+P1p-jvQQEwnDFiZ9ogdhqyI4Z6A3HYThJhE-DS5ZFx5ARJPIESWoBEk3aGwaVi2B2CgnoVLJnqXCaJPDMOTr3Z8Dyb5MCmPWlJnCEAA')">function rename_variables_in(rule) {
    const rule_application_id = new_rule_application_id();
    function tree_walk(exp) {
        return is_var(exp) 
            ? make_new_variable(exp, rule_application_id)
            : is_pair(exp)
            ? pair(tree_walk(head(exp)),
                   tree_walk(tail(exp)))
            : exp;
    }
    return tree_walk(rule);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    <div class='permalink'>
<a name='p33' class='permalink'></a><p>
      
      
      The unification algorithm is implemented as a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that takes as inputs two patterns and a frame and returns either the
      extended frame or the
      
	<span style="color:green">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      The unifier is like the pattern matcher except that it is
      symmetrical—variables are allowed on both sides of the match.
      
	<span style="color:green"><kbd>Unify-match</kbd></span>
	<span style="color:blue">The function <kbd>unify_match</kbd>
	</span>
      
      is basically the same as
      
	<span style="color:green"><kbd>pattern-match</kbd>,</span>
	<span style="color:blue"><kbd>pattern_match</kbd>,
	</span>
      
      except that there is extra code (marked
      <QUOTE><kbd>***</kbd></QUOTE> below) to handle
      the case where the object on the right side of the match is a variable.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (unify-match p1 p2 frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? p1 p2) frame)
        ((var? p1) (extend-if-possible p1 p2 frame))
        ((var? p2) (extend-if-possible p2 p1 frame))  
        ((and (pair? p1) (pair? p2))
         (unify-match (cdr p1)
                      (cdr p2)
                      (unify-match (car p1)
                                   (car p2)
                                   frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06cDwc73jxxQIBgeAkFQNA8TQYkLne8xRRBLQKCyXIFEIehiDoShwf25JUnSBQWDIfRxclmoZfCUAAB8dcU0UPl6zq1cUDXpdlmI9YN1IWDkjghFNiWpa13X9ZfRWMjFs2Xct2JrY9sUPzVKV1d9+mmeBagRZ+aanfN12IkKALiZUH3NcoV63uTd1UmYMQJGEBhZzBD4FEoHY+nuHbCb2gTRVJsvLYAMmb3p+kGJvwmEoFKCr-Os8j0U6D+gGw4zuX67z8gC9qYvQXj32LJH-7CoRgWXEMXxlfwRt8BkNJR8Xifa5Gw6I3Hi3+QiyPmoYc1qDEOh-ploxKGNsRuBRwhAjcZxJ7dCXCED8n4vy0twI2y0v7Ix-sQP+9AI6I0FqkEBz8LbHyvqfVOop86F3nnOS+MsLKoLAWvbOLESEWwYFvHe3tnYn2ImfDu+gIznzrBgrWkxEEbyZI-NBMtro4wYN-X+hhnAcMtow1ObDbQX3Tlfa+-Mc6igqMoNgE1sp0DfuXABCtq54KAU3CyJYhAgVUeoyq9B4RuxtvouehjKDlwsjDP4DBzEaNRNY6268c7uMsYwGhdswKOMkcsJhIxWHMMwiErh3DfEmAsZowRBZhEwNEeIruhNwmDAjNEnRijyFuSFn9FgwhyCpNgfArRmS-wjRwTPAxC8jGiXUcrMpFT0lWLiSxVppTymLnxpIMghhtGhNiCNG42JAm7wYPvQ+-1uAyOCfk7pblentLtsIXwoyhrZJYewvJssClD1SIFahzAtBgJ2Vk7B09Z5FwcU40SZyPhUGIKQ1Z5gzkiLgWI+g1zanSKiewru9NCnIIYG8NiqJOgApTvLXOdiHlNJCcY+g0LnA-B+VUrx7t-T1Pufg0uqLRJQujpixsrzLkWzIZHMlMLGywLYtyLQcLxmpxLgwQIMhRncDxJ8lw9KKWQqNG0Asr8alhI5aCLllReWgFJK9Ol6LyX0B+J0EWI8aA5gBpK9lCLOXcvlToMFJzqFiulsoXVMSbkIoJY0uczTwTGHaJa4gtKkEuDvi68VVrRlhFtQJIBzqLWOHdRAkJYQlWev7K6sN5y3lgJGTU2IUqEVLJ2QKkGcEPgJupRKyNuygUjCblG2akdf4gSpe8i2ybC2BrdIcstPiWKineZoXEPq3X+qLXaz2mQe3Rp4cU3N1armlt7VPNIXt9kPkLaamNop2AeC8Gy-VU7cH2JRU88Ey7lBeA9TwvdXhWr4C2Wuom6bgVzvyYPRdKDCCEBBCyjJNrAV9qRUS+V4INBPuoC+rpQ6c5Mw6b819OiG0uAzaCoDFDSArWxX894F69m5JBTE4597rrTm-roxFm7kVzm-hZYoZDwVBWICQEQqR-nEYGkDLGeNR67Uju-YgLV7KdFXYWYigphRvlSD1fQjpa6tn42K2FLjGMid46GR6pACx+VjMeIihlDTvAECwRkn0GDfThsJ2mgzDzbjqR2YOXpNp+h0rEUoMhOjGDU-6cMgQONcduttZJAMWDPlolgf8+FCKib4h+0mhZHMxFKGx1zbBV2HRE3rdkLmGCcZi7OrIjpwugGaHZwiSnYgMQYvJ9jyW3O4bvTwlGaMi5CgYJLP+G0pO4zXIZ5jtdzyfW08dTqunGD6cay1sGflXwAEJEWdkGJ9X8IYRoOCFLiG4nFVDuaunHSb3BMt9ma0xwboByQBb1K+UUQm1y-ms4UPAkJLshna11sQnW7pfV64M8abABszRWCNUb74Kghwm7dqzoZAx0DmwwBbXF+sbb7Dp1b-20JnZWHTcLxlUbS0GP1gar3tvvfyyp90-GKhUdCLMrRW30d02eKAC7V2Pup3BHZvYtRwR+X26pmnCLKuo6psDLbdNmezWkCDT1hgWZKCgHARAyB0A8zxEolixAUJvIkV-OgOZJ1uiFtHFydCE6y2kqUYWWvPMSIB0pYeR9CG6-9PruSElqHbyCUb6Ze8D4rzHvIrWyvVfSWaCohJHjxEW5NyUFoa43F+-8UrloKug+xB9ygv+oD0GB71yH9VCf+Fggt57mPYZEVCrVdr8OKf5c-HzyPQvGds-e8Res8piGA-u8twaUod8mYzhKe0gZo8RYjMD3D+HsRa+nvPX3qPXunOIq7WG43xfQ9T79fPlqY7a3G6rxPpdXJV3J6t6nxsx7I-S3HwaOPsr5Z5pra-bfzfd+n+VOfq5Wex856y4i39z7NEz532-7ZJf1yK5A-Xv8qPoftYP3tuJynMtNCMhNAhmkmBkaKvk-s-sZKQKZJHlZDZHZI5NSL4DLOQMjB5F5L-h0FoGRpHN-voMiNwDAQGn+IdqkD-NQAoOSjqj9J6pQQ4FNi6KnN-rVr1Mwdqi1G3lQYIPBmWjjgRAdvxqKGHOUGwRvBwXQFwRSMVBeDSGwGVMQf-p6sPtssiKAZDn2BziIMIirnBPQFcoYdBCBl3v9D3ooQYQPhODQWAU4dMAAWYfIBng4T5uuurqcsTEbr-BkE3oDnXEkJ5iKjLOgsERoc-rHmUOZuqDRCzkFiZMEIoRZNZLZA5C4Kxr4CQIQYII+mwL4IVPlvzpHBAQfFAcJjAoYNnqJhMhoPoDAYCAAHy74kEAwwHZ7QKEDNqy5Iyh5l6wqP4gFYIfrvz8CqA-4K6sqjGMqBDMqK7AHR7xGlBaELEqoMpRFT6Z6N6gFP6KTGTzFu5LS7EapkBarUA6qIEgHlY5y-7mpxoL6RqNHET0HCISyUCdqhpvHlwTBBaXoCTjbM645fHqKjoXIX7EqAnKH+gjRbEAxVCkDQmJroITqcAPF7a46yYxDnionQnlyeaMiGTImUE5pVownjqFrYnR55YxBfFnJxxEnUkknTQIkGgjRsnnIclUSMmMR4mGRIlz7-EAyZaVr34r5Yk4mxh7aVExrVFByoJSiu60HwoCSTL6AMAdGiSQgOCqnCBwjcDqkLo8KGDciMD4D8Bh5qL+4IGB61xfGL7G67TqZUilqMiL7Skyy96HGCmmbfEdovG+rWrwnhalDpCZBI7FGE5GBWmzK2l+KaIjK8nL4FrwmOFuGWlCBJlmLh6pn6BWErDerimjDon5qUB1pZm+GpH4nhF6Ipmoif5hFALNlVRO5umGTNDRlsB843wxrPH77jHR5taqGbK+Daab66HG5+Tnh7jC5Ai5nWnJmFmogjKTnGZpwaaJFGlLlRy5pzKGnp5SiLnbmin5iK6TnQJVamE5jmHeGLmuFuHoQnliJPy1ANG7avkD4gHmlPGh4vI0lJ6N4fGaluh3wsk3ThYUnfJwFVL3HrGPFy6h6UKX5gVP7jm7nTSMgUnoUgTTSgaIVrGq5+SoJ260JG4EWUVBKIHTTZ5+QjTTQoXDE-AdlAGYUTHEQUVO5G4cUBL267yr4hgUkCWRGAFaKkXZkNA4kRSMxC4i5szi6cxS6WBDEQrTF9zbLIx4ZLr2z9BaK6U-k74EE9yJYFgmXH4tCoEZHIwWR2y7yGUtAwImBaDCABAmDEC3G1CNBkExqt7sG2FDJoncA3lYVSIGoLzgiyEmFMzggvkGjBU95hVno9ByXkZ54+xyHCF6V3IOpggyBorOw5WeqHrAY6HJXDKUF4aGpypFWgD8qwZuQgaTk1WTFBoypGoNWKrloxoeEPleFXIyC1VdX1XcAmqsXXDky34RFxxvBoxjJ+FojRXQU4wJU7mLVZqihrUFgvYbgdX+GfpAIMXPKBHTTlUsS7UtQLXoKcmHVQbXpZCckAVy6OBfBiLdaH6PlXLcUQUuARgZWRy8n6Z-WFB7JA1DnvX4DGCtR6GDIfHJzg2pykxwyMWzTnh9wtTtq-H3k-UWyMh9knCZWt7PZO7flQF4aNxCW6jYwFiDHA2DK0W7xplGaRBI3LXtwjC859U8Jwyeas2tZJyprI0IoRg82DkVYo4mHfVDWYk00U32ZhXrDY1jmRVBrSxiB9xGAK3dwiQcCdTa1rhLBhGkyk1Hzk3YxhDK2w0gEnHAia3a3k3hAAA8DthtS2xt8REWNlaB4IAAKnJIJEIFOTAbwEmtSFiH+r5aJKAAANRWXWaQKdRzY620IBoJ0bXgjx2J06TJ1iCp1e3e0v7pHTgB1B0yDED2SiFiDh21qR0lHUAx3Z0J0ln52p3O051Z051t3vzLSF32aYY8L5SEDM2NhxxO7gVIhQ05jFxyTYhg3uExorlp1BKK26junBZTp9mr0s3F0ySH5z1EDFluGWofVXSy0WHoL-mGHNBO4qRAiHTO0lmzDMJe0ll31Wlpa70b3Wi2hF2CkMR8YGCH4P3shVw424iX0Z6b2yW2XTiT2iTWR2zlCgCu7lFHiSGs5niqFwyMgg3PZylyapwr383k2UFGaJXoT821Hk6AMKmi0CSH3ogL0MmKk8K8U02O403YxT2Jgz1H2sOq7AmC4Wlf2W0Y4al9hBk73P3oSbEq6CMn1nZn0w0X2eFX2vw33oR3001gNP262Q6lCkSHTG3Yz72rDUhf2YS61-3PWD3bnxi52xCvigPmVY3Bm43QNgKwNFCl0-1ZF0AoMiBoOjxFEEUYP0TCl9iEmDL4NUk-SENsPSMkNf1kMK0UPMZUPWFM20NGaOMVHxj-Vj5KMZUC5MzC5yCsxi4cyS7cwYAaV6KMECE+XyHJgOGQb4YNJbpzgiHgjNMsHupZoDOCG6YSwcBgIf76GdMZr6FgrngjOtMVOMhALOjBpzAbWxBzATgyWFDBocibMxAcg7MvnBoISHOjSkAnNrPRUlwXMlzXPTDBrDxewbUvOZD+i7OD7RXBRPrkBlHcC-PqJTkGhfMxDBql2HOl19hguHlgjggLaqD3wsCGAJWIvIvC4rCwvBpx0XOxD6D2WgC+DdydEEEJ0gvYvRXuR4sxAEvcDEt6kEFeQUunPRUmnTB0tEskugAEGQhEsxCUtzjgjAA0sGCEsMsAikuU78ugCCvwsACkornLErUr8rMrcrEIPceLyr3LZlIkxLrLQrw2wk2r4ruroAxrQIBrNzQrLtSrZrjLoAbtMQ1rTz0VLtAINLOrjrHrLrGr4I7R9r9L5rnRfrhr8L7Rnr3ARQ3rkrPLoAkbYbNr8Lw2or8bhQcbMQo2MQulzoToCz-BgzbTsU5NgIIY2pcw3AizrBFT+bqh1bQhOh+ALAAAVm5UueWy0ciHqWc4W4IRtbM5wZuIZA28W84GWkVLuaOyYn6SswvMGuNhteNrC7+XCxCJAHQGqNHACzEBu1u78Su7+cGui7AJAIcye5AIe6+ce1QEiwAKIXPot3tXtuHBoABy5Ab7orH7b7FjOkdbU7fbrTM7VaCtZbpZXbeph0I1VbQHrBIHZaBbTBRbIHAt4H0w2pwocbszm4PAcHN1xUpiE75BJRuIo7whDg1B8GJceGvB304opApRV0Lb5AeYlpvUmgyj24o7TBT6sJUznB2TDQMBNHRwRQ7DOcwEWIeNctr8eGxhRc3j6C4Wv6nO5HOhEjJZeHyHozqHztQnhQqn6M6nG8syrb7b62Th07hHAilNBnsQHjkDMnmjssWcHAAgHjYgXwLAWKGjGe3p-Eo9SncnxNClG8lT8gou7MEuXMmAjTm1FApgDArqHwVUNwpAq6jWeV06ysqsGaWXkwIYr9ESBy7CBX4QmdDALd1IfdKdMg2y+XE0mMjoMezQjXDGjozV5g4sNw5qXe7lb8H8UjnN5Aygyg4dGQiuRg1BY33LwuCdrRY3YD4I2dpQK3L+3dCdo3ygL7oYK3EaQ3WaDgAyxgg3UCNd35MBQcJ3PG-4xT+dXdEIOdPX5Sxg-XUo2pV3x3E0xgVHYgQJmd1gTOvNOc33aJLUIsCgrR8G2XO9MBMea3fZ2k0wJ+QC8PoArc0kAm06A6EY8P4QCWGa+PFrqkpGCPBgh06P5l4IpGikpQC1iXIEKXsU6Xq68P9t2Pb+-6H+6PmPE4Zu-0ihyYxFSG0PO0hXYR4IT3CdYPsNkPQwzCNBYvXCPdE42d1XfFcyruQvsUklyvFXzj0w6vOdsvEPZAUPRPYh+vcocdam8IyP1lpveUoIG1vRiRN3TA5vEvKPiKpM7PAY7vP3AM-TU4G1QClPMPdj+v3ApvnvpAPEIYJ++dyvRXokAA5NV20ZnRn4nzVx-KnfD11yqHQB766qQNsmXwy+rUdTvf9Ll9OIdJX7t+AdFUIMIFncEFnXZOAqJOaGmFnQphwPCN7zJE743wWOX0cRGE3zHyX0H3HwnysM0GP8wjP-eFkGv7H031NS4Cx2x8oBx4RVRHwR4L8nUYQNl1zwBlorhqn8Glf5ohtQAQhaL7hvZzENqXv+sAf9QJoJET-KfzcB-cRkuGEfqbkVhHxb+AfYNKRggRcMtekAmBGAMsbfwd+oASvnbjwLIwT+VqNwOf12hfEH+LZUAUFkJIac9GQIEMJrxdxHxn+lSV-kgIKYFtABxgIuDQUZDakMBW8LATgN+TAD8BBTHkuQNoTLdzmqfUmIdAAG4DWB98MQkcQzRSDfkc8Gglwlz4gZ761PO5uIPkDSDlBYhNQcIKCTLcv+7HX-kf3WriClw6gnhuFk-6sdv+h-f-joL4EXcBBrXS5jr07I8M8OLAvQf923KpEvi2vEgbJhGgwCNq1A+ZADFAHgksGQWJEjAgHLxdfiJAfAQ9V95LgoB0wYroMCyFGRfaGROjBgRyLYFJK7IAokMyL6bUV8uGdIQ3EyFIDU+gNRoUvwKE4YYEgTEoS4DKG3U-S-lDhm4DTBVRKA+AVqC1AGAVBchSA9ISkOiHTDqeffOqFUImH3xBhmkKqG1VqHV9HqIwXodWQEFoD1IzAGWH1FZR0Y0aiRYJkXB6gMB1AIgDgKQBYwxpcghAH-NMIbJfEhMIQwyDdgez3YPMemQhh0KxwFNuCH6cbMtnuiGEgcVw7DLcLb4PDz+b2P9gkReHbJocN0SbKCKFJxCvioWRgSI0YZuhSYaIhXiMFAHcBSRzQi-r4ScZxCGyRI7oYkJDAFZimpIsrBJxYhGx+gCge+I+lRxh5gWXYNkBUCFFFxDApIOof2jAj8pU+oo-5nPAlFPBc+Eg5hIYH5Tv8DAc3NjH9D5GE5BRCozuDqN5GYQNRWnAfPKN8CKjSQ21aIox36CsFLRwowFgRENHUJJR2wxFLI1lEB8nR4o4kMqNaGqiS0Zo6CE8D1LVARYDsR0a6KtGDA-R7op4JqP9Dhi423I3UaaK4RoD0xvImQOokcRdtKO1IPDHmKoBoxzkgQP6INx5Gg5CxdACBIomBr5jyxOY6sX9Fh4zocx5PPsrn0jFkBoxLUP0VxwNBP1jRu3VMZ0VLGUAWxxotsSaPQyVieIQ9J4tLWqwHxKQoIO6k136hlIK4II7ClSA6xAgdMgIo+GTiMxMVbkQcH7BZkmx08XKVWLnIxl3HIj7aHETVLWMWyQiVoMOB7EcRfEgi0B7464p+K4gcRAWVAZEekLwbU96cHAdvob10iiQ4JjOXPhJiyDgTWIVAcIKnzwYxBexgmCaPoA4g4SA+CnXTOuKNCbjX4mEgCYjlaH1CxoJEjHm3EYnThdx5PYCRETBxLYIwJE5MSsAjAcSBJ0wLiYwB4lkjBg-E80dBEOjCSZJ24cnLnzpx1hGc2Y5aO5xyitjjKno0mISwnFoMvYr1NyGoBMAno8yiwlspZOcDcAMBmEjAXTAPECAeJsqdQmVDEmgSlsdkyCUyCGH0BLOq7PsA5IvHFMXJsRDKKpBQnt9U+PY1oZ9S86SAtJs4sKXAhCLGTzAvAWGu1BRjETsJUoisctEkm5SjkaA9KBWJ5E4g2Q3QD0eSHPAHl0olUzML4F6qMixsSRLsOECjJewX8hgQ4R+GwFEh94xU3aOeG6CMhJB2Ey8R+iEzdBOpokUjC-m6BudJAoAf2gAAk72DAAAILgBwAd7AAEr+1IAAAeTfbIAgQRNeLpXUWyrCNIG5YqZqigmejMpLUbKcjAenXFyeZUt6coLWH3SxJ7gsqZ0EbDWSjQVQoGZkFul+TkMeGdaZtJ2l7TDpJ0s6eDIHA-S2Bf08dh9KSB4YyprYt6QwEGk8oAZxCTGfQHcg5j+hwGdqFDPWEIExJT0+7saJ+j5jtSjmXceHQ6IbZTJ+6e+IwFBlaIOZ5kScNOOuLIj3+10tQLTP+llixZIIsFO5ziAZACODgEWIyAAAMxNSODUHshcplZeo9-LFGoCDAHo+s3IKrO0BAhB+Ksu0TnTxBTSBI1skVBbNIBVC74Os7DM1yfG4wnZRAqqMbKppLgaeG1UmL7MbrX9dMHldft7KzGci3IgQV3J7IdCpBqg2QZWSNNUJhy-0Ec42YTSrp6yOABs7nkbJNl+RWMSWFLNxneHTYrxXw6YYZBbwzUPZjWJEUrMLl+ycoAcnshkLGh5Dr8pMKLCVlSxxZGBIkxLMVkrnf1QB3tZHIQD5ytTB5k862elL0TWy34GJROMU3tQ9NiUG8vceCGtmXUTJ9ANRJlPETLz0hGaZeVmidltUL5no95lkDQy2hr55Pe-mwE4y+A84CmIZrnwzQRhX5aA3guUjXnWzbJE-MjrLKSDgKyAuIRycRHPBqJDKBc+KBeETmNYU5WiZefOVUKzZ6urkkImSQnB4L5sVALiN5NFnQKFJbwU+aLyQV5ll5Y8hoMFOYwOy3QJCghRoWW5RSHeRQLqTGVaHIlkuECtOYXLar0LGAjCzLPFM0kBJZxHC8KQUkVlwyGA+0yyAABk7250wyZkC1n9VJAUs62SMgZn7jnpWU-qdjKUKp9vp-UueEYssWAyBwwMlBSMizQQzGw9i2GRtNUUaKtFqMkCOjJcUOL0hOYvUZzkcx4zZxBMomQ4qYVFAD5ysimcaPhDv9Ili4iELAOeSJLKZy4ihKRyCUmL4FTMxcSzKoBsyTMysvUhtmAUoLRFuMQpZQ0cySykW9ihpcxhXnUheOhcyvvoAoWPSsc5U9sSEuZlTjyl7hOJnG0MihKjORcIcZljVAYy7pWMvpXLLpjJiDJvBexSsugXyzEqZDMcWgKEU9LK+b2QZTxCcnoDu2QIBqbMN6UQKji4II5RAsiaNk2pN4r8K0H0L3ixE4zFqMcogWnKux9tT5Q4FNjRE-Sdy2BUcX2WLiOlooN6Q6GGn5Tk+E0o5G7ERRCZUVuStyB8GCDjCyZjAb6G9NaIEqCB0hTBRUGRiIqBZXJD0gIDGlAholWYIaTSsFKILEgCckCALLOXodrMaSiqd0FJlLLyZOSwUqVBxBCroZSSxcQlRHZLgBZ3AAyeN1QJUJuVXYgIdEwqItocVIwwICgp6w9ZKVdSjOVOygUuAgQNC9cKL2wXkgviCKjaADN8ajS-AjIJlbiCGkAy2VqhZVZyv1U5jeVOkflVWMFVZKOA0qnkS8sKDiqQ1CSsNZTIM6hzlZiq7lj6qoROz1VsQwLMRHOCS0c4Kwp2cEGlniIaV+UteSWtT75rlZJK4VVYtaErCBZ1a6GVmnrUErG1dMpQrXFxV6ruVRKixaytqmqFd4iy6GQeRUUIyDpR006eAD8hjrdpE65Gdor94Erk1epIdUWqNAXlacGIYHtqvMCVrHg988kF2pahOze1Rqm1XSoIBsAi4RixkCorUWaLp15Ie9b4sXVLgwFWo1ddepcWbqEU4IbdYcNSBOc3gLbdgt-GG4gka+M6cDVml5Igb5o5-CDa8pHkDEb5cCECPBpRAgD6ieGakQzSwxOdgooGhQjBvyk70YNVQ3kkRoQ2kbPRKG-DTwilLUasNiG3Dewgo0g8WINQMQG8iLg9LaNxTejR0pA34BU5mG0wN+RhU8jsuwG+gMRvabibqy5PKTX9Fz4ibU5UpRTf6ToDyalNIkp5bAspJokMNcmhDVpoMK4QnCKmpcVnHFU-oRAWdAzeXw2rqalCeinhERtE2CyUgumyTUzS7H5TCNPm9gsxok3divYvYu0QOINFxjhx-oJzXoQSahawQyW62gMq7GQQGgBkzzRpvQ1uJgtLG1LRZvhzWbFEdmzvhZAS0bUctbm+LtxsVwuF0tY44ZSUtGUtEmlEy9on5gNCPzhMZxYRYZvq3uUBt5fMXtbQUkNAZFiUuRekvJy2BLNfCzpZ1FkVnLMmYMPzIBF7JexMtRQUra9Ds3d9HN-WyvhtSG0zRMqKMEwPwDmEX90hFJOjJ5286+dBqLnDpSYJ-5-844jW0rUWBGihK2t2IRSDBK62hhLt43VlEcNMSnCJSA+CPv4LexxLuotMEluaP8Y5gApgU4oVgRJhUB6MRRFuhtoW3gh3tjgi6qoLCJTaRhM2iqfRInx9khOe22aHZpJ1mDPMR2q8loBG07sWdn2waMTXPA3BsBQLf5oyAACcJwSOMLs7SzikNku9iMCzOW6YRYb8U0r4yCGdi0VDZQIfxnNUiR1ZvjQoFLv0Bp80+FkNAObsjUSEs1hkI3aONpHTApdiuzXAg2ZnRIjiLgLyE1RZEMNYgju0Jc7um7B0hd8u-5h0s6Cfzv5e1PhHisBXNbPR1m-bfwGAQfz-mke8NKJCq3UEU9X8pgD-KdCZVFBbgLnW+BL78BVwZAO2GIgPYXLWgjILgbgWYDYDC9xioPiXtKhd0jgw-IbPxh1SkBK927EnkCGdQM4ZY1iBskbvBCeQvIze9ARAvdCl6BAhBalgiEQlG6t+Ii1oMcBxFZqGIr4blSMLGH3xhAkw3pbStiD7qWohahtS2prWzlN92I18L3v72-FB9okMRAbS0gG7fdIe7ZJPqn1eQBZggY-bUCX1T7fI2+k8AVk1UNAJ9-+zyLPtgVqEQiwuOA55Et0xA-ds4qZczLGWKTOtVhdfYZpkmQ6ThiuVoAjoMDo6QY3LVXM31iAJbelECDSdNtW19lYkSQzKrySECGB7IqsaoKVBNVUha9QIevTwOb25Twebe-gB3q70DrdycMA8gwfINLaEpVO1g0ZN-Xb0Z0Ch8nuCDsjB1Fsy0LCcwCkj-hl+c-cHsXpIM0AyDiyZhDocVVUGRqepWg2gI4USTCAC4O8EUtakwTIpqk6KQHxUkM5AjPvdCcRK8PKbBkBE7DBEdInZCHxAomrHVjEQOqvDr4hiYRPgiSjU+5E5IzDVSOPBCAd4Tw1BMpxgBLskIGI6TE8PhBW4Pc7I+T3cNkLeJ7CWo3EujnFG6DKwZo1+MkGhjApDQSQaSA6N9glJrQ4I-BJ3U4Bm9xetPpZP0CBSAAOlgDLX8iTCB+mQMECh706iWwbOUNBFN2iQn9MNSoVgFmM9L5jf0xY6uxWNrH9Rmx7Y7lLGi8BVwRxHoKTFeOgAAAXrh1AArGigMypgKMK2Px8kdexn4yr2sxHHwQJx4wIVCggNQEm3B3g9OHmPrGi4jxsE+K24D38s6LALOsoCzrt9JgafJ0HgAuMiL0TDxkE08ZxNrsf0+Jwk8SeH4wnfIQAA')">function unify_match(p1, p2, frame) {
    return frame === "failed"
        ? "failed"
        : equal(p1, p2)
        ? frame
        : is_var(p1) 
        ? extend_if_possible(p1, p2, frame)
        : is_var(p2) 
        ? extend_if_possible(p2, p1, frame)  // ***
        : is_pair(p1) && is_pair(p2)
        ? unify_match(tail(p1),
                      tail(p2),
                      unify_match(head(p1),
                                  head(p2),
                                  frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p34' class='permalink'></a><p>
      In unification, as in one-sided pattern matching, we want to accept a
      proposed extension of the frame only if it is consistent with existing
      bindings.  The
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>extend-if-possible</kbd></span>
	<span style="color:blue"><kbd>extend_if_possible</kbd>
	</span>
      
      used in unification is the same as the
      
	<span style="color:green"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>
	</span>
      
      used in pattern matching except for two special checks, marked
      <QUOTE><kbd>***</kbd></QUOTE> in the program below.  In
      the first case, if the variable we are trying to match is not bound, but
      the value we are trying to match it with is itself a (different) variable,
      it is necessary to check to see if the value is bound, and if so, to match
      its value.  If both parties to the match are unbound, we may bind either
      to the other.
    </p></div>

    <div class='permalink'>
<a name='p35' class='permalink'></a><p>
      The second check deals with attempts to bind a variable to a pattern
      that includes that variable.  Such a situation can occur whenever a
      variable is repeated in both patterns.  Consider, for example,
      unifying the two patterns
      
	<span style="color:green"><kbd>(?x ?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:green"><kbd>(?y ^expression involving^ ?y)</kbd>
	</span>
	<span style="color:blue">
	  <kbd>list(y,</kbd>
	  $\textit{expression involving}$
	  <kbd>y)</kbd>
	</span>
      
      in a frame where both
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      are unbound.  First
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against
      
	<span style="color:green"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      making a binding of
      
	<span style="color:green">
	<kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Next, the same
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against the given expression involving
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Since
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is already bound to
      
	<span style="color:green"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      this results in matching
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      against the expression. If we think of the unifier as finding a set of
      values for the pattern variables that make the patterns the same, then
      these patterns imply instructions to find a
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      such that
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is equal to the
      
	<span style="color:green"><kbd>^expression involving^ ?y</kbd>.</span>
	<span style="color:blue">$\textit{expression involving}$
	<kbd>y</kbd>.</span>
      
      There is no general method for solving such equations, so we reject such
      bindings; these cases are recognized by the predicate 
      <span style="color:green"><kbd>depends-on?</kbd></span><span style="color:blue"><kbd>depends_on</kbd></span>.<a class='superscript' id='footnote-link-1' href='#footnote-1'>[1]</a>
      On the other hand, we do not want to reject attempts
      to bind a variable to itself.  For example, consider unifying
      
	<span style="color:green"><kbd>(?x~?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:green"><kbd>(?y~?y)</kbd>.</span>
	<span style="color:blue"><kbd>list(y, y)</kbd>.</span>
      
      The second attempt to bind
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      matches
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:green">(the stored value of <kbd>?x</kbd></span>
	<span style="color:blue">(the stored value of
	<kbd>x</kbd></span>
	)
      against
      
	<span style="color:green">
	<kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:green">(the new value of <kbd>?x</kbd>).</span>
	<span style="color:blue">(the new value of
	<kbd>x</kbd></span>).
      
      This is taken care of by the
      
	<span style="color:green"><kbd>equal?</kbd></span>
	<span style="color:blue"><kbd>equal</kbd></span>
      
      clause of
      
	<span style="color:green"><kbd>unify-match</kbd>.</span>
	<span style="color:blue"><kbd>unify_match</kbd>.
	</span>
      
	
	
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-possible var val frame)
  (let ((binding (binding-in-frame var frame)))
    (cond (binding
           (unify-match
            (binding-value binding) val frame))
          ((var? val)                      
           (let ((binding (binding-in-frame val frame)))
             (if binding
                 (unify-match
                  var (binding-value binding) frame)
                 (extend var val frame))))
          ((depends-on? val var frame)     
           'failed)
          (else (extend var val frame)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06cDwc73jxxQIBgeAkFQNA8TQYkLne8xRRBLQKCyXIFEIehiDoShwf25JUnSBQWDIfRxclmoZfCUAAB8dcU0UPl6zq1cUDXpdlmI9YN1IWDkjghFNiWpa13X9ZfRWMjFs2Xct2JrY9sUPzVKV1d9+mmeBagRZ+aanfN12IkKALiZUH3NcoV63uTd1UmYMQJGEBhZzBD4FEoHY+nuHbCb2gTRVJsvLYAMmb3p+kGJvwmEoFKCr-Os8j0U6D+gGw4zuX67z8gC9qYvQXj32LJH-7CoRgWXEMXxlfwRt8BkNJR8Xifa5Gw6I3Hi3+QiyPmoYc1qDEOh-ploxKGNsRuBRwhAjcZxJ7dCXCED8n4vy0twI2y0v7Ix-sQP+9AI6I0FqkEBz8LbHyvqfVOop86F3nnOS+MsLKoLAWvbOLESEWwYFvHe3tnYn2ImfDu+gIznzrBgrWkxEEbyZI-NBMtro4wYN-X+hhnAcMtow1ObDbQX3Tlfa+-Mc6igqMoNgE1sp0DfuXABCtq54KAU3CyJYhAgVUeoyq9B4RuxtvouehjKDlwsjDP4DBzEaNRNY6268c7uMsYwGhdswKOMkcsJhIxWHMMwiErh3DfEmAsZowRBZhEwNEeIruhNwmDAjNEnRijyFuSFn9FgwhyCpNgfArRmS-wjRwTPAxC8jGiXUcrMpFT0lWLiSxVppTymLnxpIMghhtGhNiCNG42JAm7wYPvQ+-1uAyOCfk7pblentLtsIXwoyhrZJYewvJssClD1SIFahzAtBgJ2Vk7B09Z5FwcU40SZyPhUGIKQ1Z5gzkiLgWI+g1zanSKiewru9NCnIIYG8NiqJOgApTvLXOdiHlNJCcY+g0LnA-B+VUrx7t-T1Pufg0uqLRJQujpixsrzLkWzIZHMlMLGywLYtyLQcLxmpxLgwQIMhRncDxJ8lw9KKWQqNG0Asr8alhI5aCLllReWgFJK9Ol6LyX0B+J0EWI8aA5gBpK9lCLOXcvlToMFJzqFiulsoXVMSbkIoJY0uczTwTGHaJa4gtKkEuDvi68VVrRlhFtQJIBzqLWOHdRAkJYQlWev7K6sN5y3lgJGTU2IUqEVLJ2QKkGcEPgJupRKyNuygUjCblG2akdf4gSpe8i2ybC2BrdIcstPiWKineZoXEPq3X+qLXaz2mQe3Rp4cU3N1armlt7VPNIXt9kPkLaamNop2AeC8Gy-VU7cH2JRU88Ey7lBeA9TwvdXhWr4C2Wuom6bgVzvyYPRdKDCCEBBCyjJNrAV9qRUS+V4INBPuoC+rpQ6c5Mw6b819OiG0uAzaCoDFDSArWxX894F69m5JBTE4597rrTm-roxFm7kVzm-hZYoZDwVBWICQEQqR-nEYGkDLGeNR67Uju-YgLV7KdFXYWYigphRvlSD1fQjpa6tn42K2FLjGMid46GR6pACx+VjMeIihlDTvAECwRkn0GDfThsJ2mgzDzbjqR2YOXpNp+h0rEUoMhOjGDU-6cMgQONcduttZJAMWDPlolgf8+FCKib4h+0mhZHMxFKGx1zbBV2HRE3rdkLmGCcZi7OrIjpwugGaHZwiSnYgMQYvJ9jyW3O4azozT1hgWZKCgHARAyB0A8zxEolixAUJvIkV-OgOZJ1uiFtHFydCE6y2kqUYWg3PMSKs0ZRFK8x7yK1qN2S8lCDUO3kEyb0y94Hzm1NrrPXpLNBUQkjx4jCEjf9KUNrPw-GaM6y0br02lKikoa-c7T2SgtDXPfP+oD0Hnf2x92IR3UhCrVUN8OS3ruNjByPCHGdAeHcRes8piGzsLYuwaUod8mYzhKe0gZo8RYjPe2hazDQUenvPaTh7B2nOIq7WGqbUPvuM79WzlqY7a17dp0DsMiLj3M8u19n4guAe86R6KF5Fya1vYx3z3SIvGzS8Tf9jHiP6cvcfc+u772lu-rYNs6HHRWUgbR-8mn0setk+gpyuZ00RkTQQ2ksDRoedW8mEjkywR7tWRsnZRy1JfAy3IMjDyXljdvLI5HA32zkTcCdwGv8r4G69QUOSnVP1PX6GRL+BUI1Y8MB-tQdP2qWq4-j4IeDZb8sqfdPx0UYdyhZ43jnhweeGjnl-hkMqkfTeeqp3H9vNvyfTBRmjIuVu4L0CuZl6zIHCf-WJ23ug1gR+j4NIn9fG-phm+69P-hYJc8+fXX105xNJvd7YJj0MpQznTRFTLdBV+b-087BqZYAWTwKm99OSvfvbIHIXBWNfASBw9BBtdfBCp8tZpyMo5c17cqIRlv5DBAdRMJkNB9AndAQAA+JXE3AGJ3QHaBQgZtFrJGb7WHWFcXD3LBD9d+fgVQI3drVlKgxlQIZlDrS3R7BXRXPvebJaBlR-RnMEbgunenfg02QQ4VDVMgLVagHVd3R7O9HhaHc1ONdnSNNA4iFPVIdtSgTtUNTQ8uCYILS9ASd-PyL-f4XQ4udYKtGXcdedMwooEaSQqoUgUdRw9BCdTgD3KwuvWTGIc8Dwrw8uTzRkQydwnNBw1XAtEwtffwkMWw+-G6UIhw8I6aDvOTVOdI85TIqiPLPCQIwyNw1nIwgGTLStPNWXSgOtBIvw5QkMArWAyOO3A+BwVBKUObJPeFASSZfQBgXA0SSETo37dUOEbgHohdHhQwbkRgfAfgNxE7fxEneXWuWwjnKbXadTKkUtRkDnGopNKbIouuM-YRCWAw9Q31a1BI8LUodITIcLNYR9aWTueY2ZJY27VEEZPIrneIuozcOfaYOYoQT4sxFYzREZYE-0b1Co0YLwuIuontLhAIgib-FYUzZYtRU7C3eXQyMbBeb4qqLbbYwyZoR4tgKw1omNNQsXdXXnWuc8TZXwbTLkE9Fkk48kc8PcKrIEUEhYr4yEn4zaM9XwYzNODTMoEecY2oPk+AkCOZMYsRJ+KUXkiUso-MDrFk6BCfYRffeQQ-GcBsVAmEnfQoZUvhOU7gM080mID3GYnONQlXfNUQhk2gqRBFO+VInGfQcLSQ75F3KpJQnrR01rb7V7N0+hC2bQ7k4qAaHGRkSQyMzzUDYMsQiU1BNbWhSbFM0kmnaaQHPyEaaaFQp077YkvE6MohRk4iLMrbSbSsgJdbXePbEMSQps1M83LRDM7fXncrWQSrarNmOrTmRrSwcgiFBgvubZZGPDJde2foLROc0ARSUoMPHuRLAsVc0MYyUgUyfQZGCyO2XeJcloGBEwLQYQAIEwYgBQ2oRoaPGNHHbPRfIZTw7gHU2svowBBecEJvEQFvZMcEPsmCDRJfYZT8sUos8tLDACouCvecu5B1I-NFZ2ZvJmQ9YDAfN85fGQPDQ1OVGQPlLNEDTk-CugoNGVI1YihVUigfKfQ0q5Ciz0qi3NGi7gE1Mslib0i-OON4NGMZU-NEP8n0gsECyUwSrNKXPim6LIyi84gjL9Qs55WSnGLCliMSlqAS9BeS1ig6a9LILIsMpGRwL4MRTqfUnMA-K5D0n8lwCMJIltNyPI-TOywoPZJyuAy1cyimOPQZbQ5ODy1OUmOGGC84c8PuFqfQ3ERimfC2RkSkk4OAnHQZIwFs3UbGAsXo4KhFRuDK1AhM7K0iwZbMoJX4ozSIIK4S9uEYOmWDFy0qh3HPSqpOVNXKgSCMeqmk1Q1GN4qymynwgq7GQqlgdYaKx7BStEaWMQPudK2hANTcjgTqOatcJYW-UaMycmH6NKrbQqtatfUAMa4wKy3g5oZa2a1Qea8q8IAAHmBBmtWvs14IixaH3J93BAABU5JBIhBWSndeAk1qQsQ-0HzRJQAABqHc0fSBTqIUbZPa8IKGiS8ESG6G8nWGsQeG8aXUT3CcPcg8r6n6mQYgeyKvMQQG2tYG7XagMG1GqG20zG7GxGtGlGtGxm9+ZabGg6ky8wfKVbBsuOLbWMpEWk7rYuOSbEdy3fGNAU663efa56lwjq84yk+W3GmEq7cW9EbEW0+0sy-ACyhDA0+K1+B0mE5oLbFSIEQ6RG202YZhA620y2+YtLdWsIa0W0Hm04hiPjAwK3a29kKuGKgapizBIIooX-dWiyayO2coUAObaAo8dE1TPsEIwZRkVytKpIvsEaOWuGMqhWlq5jUC6CAu5qumCU+MckQrVOK3CWogYTJom+GNesjKzbDK7GEWxMMWnMBuqWyaiOyOOWvakanY4LKdNWu29CLWvunWv00fHyw2q6OKo0829CS2jKwO22gql6mSUiQ6Na7GPepSOWzCXez2oy56qu2vZI8TbrQOqKi4jtUO02oS-0KO4W0SWOxYkQBO0ecAyMpO+iEotO+MuGTOmInao+HOnIhFfO0qva4usGUu7ccupA5Bx0H2mu+y2nfupunrAckGIcuQVmWrDmBrbmDAScvRYvUve8oC1EFfXrPRJSoBf-OhjPd1LNThsvXTCWDgMBO7XPSDWqnJdhY-LOc8XhhhpmeUoBZ0YNOYCS2IOYCcNfRRv8jkFRmIDkdR7fYNBCHRza-RzRucMSUEYxkuUx6YYNYeL2CS+xzIf0DR2xv84KJ9cgKA7gDx9RVkg0VxinP83-HR3-PsQJooYNG4Pue+FgQwEC6J1QWJqrFYCJwoYNCG4x2IQ87gcU4YsPKG-xtJ2IYNdyLJmIHJ0APJgEPAsPLyIpgxv8yY6YSp6p2p0ASEKpmIYpmIYNYAcpgwI8qp7udpsABpsxsEcEAAUgGdaZGdADDyma6dAB6YVIhB7iybmfycDvFMafMYAEJhJNmhm2mFnQBDmgRdmJmIRbrZmTn5mw97qYgrm3HzHbqARymtmamzn3nnnVng0cC7ncmHnQA8C-m9nJmcCPnuAigvn2moXwXrnwR9mBmznChvmYh9nYg5znQnRpG08uHGGSSCrAQQwBi5huAZHM85G8X4yqXy8B98AWAAArS8vkslzA5EYYwxglsvCSjNY-VZooelolo0J0IqKUkVkxGWeRheYNd-CS9-IVu0tZ8ESAOgNUaObxmIdVzVgw5Vu0qJqgJJ2ASAHRxJhgU1g180o1mJgAUWMYtbtetZ32DQADlyA3WBmPW3WT7rNaXJXeWGHpWq0SWAQOXsRhRvnDp8LKWg3M8Q2y18WS9CWQ3PN2WVgBio28CBXNweB43tLipTEy04DC8RWK8HAE94MS48NC9vpxRSBDcrpmXyA8w5jepNAF7oIRWS8n1ajhHh9Msnca2jgigeqc5gIsRX6jS8Nx9+rV7Z9oJf03j9By2B9R70bycpWi2BFEbUHChl30Y12N5ZkWW2WbSd9t2NNTF02XXYgn6Q6F2r4s4OABAn6xAvgxrGwn2ZYDj+JVsf2wRxWKsN4qtSGat2Z6suZMAaHJKKBTAGBXUPgqobhSBV0pMeNcH7HlZVYM0MOuEQwHaIkDl2F8O5RkaGB6bqROa4aZBtk8OJpMZHQgdmgGOGMsHYKeFxYbhzVCcry34P4cqaryBlBlBAaMgOsjAE9RP5mqsoasDRPA7wRUbShlOstRILI0aRPlA72DRlOI1BOs0HABljABOoFybCqncg4TOeN-xcHMbWaIQ0buPyljA+OpQBirPjOJpjAq2xBTDkbrBwQGrzBvPPCWoRYFAsD4MkLp0B0ncgdVPKTtJpgQcv0EvQBW5pIBM4usgIwEvwgEsM0CvznVJSNEuDBDoMvNzwRSM1y4OROQIkPYpUPV0EvFJmgcuDd-07sMusuJxh4j4zcgykNoudo8bhdwQnOoawuTrIuhhmFE8xuuF2aJxUaqOGy5ldthvKlRuSuGa1vwaZu6AbOmAyAovivq9luVuIa1N4QUuDRmhZuAYLGPgJKiDpTTvIuJuZsG4lx2uAxPufOXujHuAgEquYvL7rvuBnuzvSAeIQw0vMblvCPRIAByKj7A5GjHxH6jj+bGhLkLlUE74HxDgsUgbZV1Cn2LtW-6HD6cQ6Knl5lV4NIQYQFG4IFGuycBUSc0NMFGhTDgeEH7ooQMEn8LhbkYJnw6iMaXmH8Xub87ljoHiXxn8n3Z+8LIOXlXk66X7ityFttt5QDtkCB-H+DwX5YTGBWL7rgDLRXDVH1nmmu3iSnbzpe363-d2IAYw39YY36gTQVM83q1NwPz5A63kX1YWbGB63x3v80jCBdurbmPwgSP4Hc8wgfX8wJntbEPZGIveQEP8P1PjYhvB9P9O3q31P8ekI9dreoEEMTbnbIbhikb8RXDG+-Fi3twOeRPRkAYnPrePPgv7vyzq7jvvLEaEDK2mrox1H0mQ6YP35Xv6vQ6jNJfnvouRPAjlYbLOv2hJTkuB70X-N0flf-z3H6f+v1SX39tgP03qiY-z7UK-foJL3mIH31tv3k3oPwv35MPqvjv1S6bUV8yYQumwDjZn8t+q-NEoFlsK7YO+QWEaMGgT5B4cyyff6IAIlLWEkBddGBNSRbo8IDCJAQAVNURShZY+gPOLJQOAFR06MABAPC4G7LshQC3DInpJW5y4YyBf3MaA70B6OUaBM2OgTAhjr+4gCGfd3hwJlZPkeEfPTSFVEoD4BWoLUAYBUEGBcD9KDlVgaQJq5yCtI7A1QT9g0ixROSGg3BodB0oyssBWfFMK8hlh9RWUdGMKtKTjqAUeoDAdQCIA4CkAWMMaXIIQCNzW8XCthITIgIjq7FNMx0TqNpiiFfRGAblEQUxjBinEVaeid-O5hOia0XBv9IuO4M8HCBvBVfQzMxgtppwAhGQyynHE+gn54wdeWwhQOr7K0aqpMfwfR2YQd9uArQt2h3xvrFEU6TQ8wm6G-jYNq6qQsoYENT42C8e-QBQPfFeKAUKgfjLsGyEWFeM54hgUkNwP7RgR+UqPVYb4HWHEgnguPBfswkMD8p3+BgWTmxj+hzCqMRcfYV2BuGzDMIFwvWhvkeFFwNhiiIeE-kbb9BM8nwowCsIIhrCvhmwzQbNhnTnCKunw6hEcOV6nCS0bw6CE8GGLVARYDsQEaCIOGDA4RGwp4JcP9BojvmRsGYWRBhGYZZizwn6OokcSctK21IPDDIDpFoxzkgQP6AJ3JFZtGREwdgSyKoBsiyRnI4UTxC2G5cuRf0CrpSVx4YiyAWIlqECMMi21nhLrEkXgQFGUAhRzwyUS8PQwcieIVIp0n1UApChhCoIXSox36hlIK4SQzDhEKOqxCYhd0OIdA0wEYdihyQrDmZgqAhxBg1Q+rnO3RgejWIVAT0XyA66TgtRchBgNEy4g6YqhsQw6jaPDG80SYgomMXGKuocQfGYYu0cyIzo1c7MewWoKjVR7ghixHAdnrjwkxZAcxoYy2KjwgYxBZRgmCaKuyoDhBUeQYouGaMpAWjX49YlMfmNbFF4lwHEcIK3HIFLgbRFXDiJqljFUAuIEYCcUSJWARhZxa46YPOMzFLirqi-TsVuNHyHRNx7wsukZmV4Vi6wpYqYUbVfY5RRRh5PDKTCGbqiE6XsNMSoD6D7p74jAPQeIn-H0BuAOfesTnzphMl4yWY2VDSGvyMgdxSQRcZxCuogS8xgEugBexVYTgwJRmYsqnCgkv4lOlY0sajxlG79qQy0e8QEh1H4S4EPeT8bwBOrtQUYHY9+mcT0TI8DxRyKYelHZEzCcQbIboBCLjJSl5S6UfiZmF8CKpvRQcX0RZgDQPEvY6nQwFMKYn58iQ+8FibtHPDdBGQnEjUrcmww4hwgqnUjOp26AvtJAoAT6gAAk7WDAAAILgBwAdrAAEqfVIAAAeTdbIAgQSVWDiTSQlGC0wzgEZPBPQn5iyBDElqKpJYmaoKuPE1Sb3x77yC3cYU5XjxM6CNg0JykzjjnAymZAgpKU5DHhhsl2THJzktyZ5O8nsCEpH4ZGElOMEhTYpchPDDxMfGqSGA6knlGlOITJTUQ7kUUTIOAztRCpIpMKamLIGijaRVAAYo5htGA1cCc+NQCYBPRgk0J+geaeZCjGapUx7-AKWoFGlNTxp+YsFK+ziAZBC2DgEWIyAAAMyVSODUHshcoLpdwnXLFGoCDAHoL03IFdO0BAhBel0v4WjTxC4SEUAMkVL9NIDsC74j07DExypjAxwZtvJJB9OfFLhauElUmEjOd4ozrymvBGdhE-GBA5scMh0KkGqDZALpWk+MtjIr64zEqpNZ6RwFek9d3pn0vyKxiSwpZuMQQiOliVCFBCCSv1O4LDIw5FDzpzM5GWzJeppcGhL1UoKTCiwlZUs1A6vkeKVnczuhEfGWRn2pJjCNZbmAGfRLoDw1EJXEQgAuDvDgTIREDIsdeOrGA8rxJYh2bQPaCwoLZlLUkE2MGSjihMFsrsYDx7G6YD4ksP+BtA9k8ArZRmX2e2MICbDuxJo3sSHMNpiJw5d4COeBNAB4BIQOc0caTH9mZc24PA+CF7MB4OBTZWYt2v7KPH3t2Ecc3TisHLl0czZ+45hNXLPH+hF+pIGuWgwvG48nZVY4LuO1bSnILpb8JErFzYYookSFkAGRpTchvA1EDE8REbLIEZojZWacGZyVXmQinGeXEjraA3kVdWebATjL4DzgKZuGuPDNBGCPlTDC85SAGZTMYwoToxSQYCerzdH2jYg54NREuSZnxQLwJMjDuTK0RGy-I54JubiAIkN8JwUClufoFfk7SO5i89cKNz-lgkjZPcwoNhOYygyLCJs5uTAtUhESXZMkUibQJYItQmez8imGKTVgOxGAWCzLHeMkAPidR8Cl-AUjOmlSGALkyyAABk7WPk98ZkHukxp9pSTAGaFIzHvyIpkIqKbpjqnNSkg8UgcIlKLjSKVFq+XHvlOVwXSRkWaPRQAsMVkDeF-CoReABqnqK6pc8LRWlMmk0jD2gwRzG1J1EdSup2ihuf6HBAAyBpzw+EO-zcUGiIQqA3xRdP8UGjhe98yAiYu0UTTIRU0zUbNJMwXThic+B+QAtoWUtZF4UumHtMkAHT7FuS1MZ+LEQCNqF6vRBZ-OOkF1RReGJJXSJSW75CxeBQyFNOcXLElhLi9CGqC359SmpSCuQrtMyxvjC8WioZXIsrp9k6lqoqYfwTJ5kBKe6vcMbxKlEQSpSrQLlkCDEnECAY2vcEAsqZ7AM2JiKdIVsvbz1dylfbRZRT2qVLLVl9SyMRcp7L0BBKIybXrMoNGfjRQqkh0JpPFEcS25nYwrjrERRCY9JZSxQYEEOk5RvoMUtCbtFsJ-KNoiK8esEXjI6SgQHirMBpMRWnFf5iQYmSBDQlrKhIZpYJXxO6C9TGp9ASJTMJOWFBSoOIGlcFLpWDT92pMNCdwDfFid9yVCUlfUuwGgMYCzlcwB8GCAtRwZ8K5RTvOElUgwpjIVBcvP+TgLyQyKuqf8rSnorJSVILFe6DqmdTcV3U3Jb0N1UCA+VxKgBWStJaj5KVnI6lc8giWDSzVzKx1eEo4D0q-oIFQyFjIuk8r5mlqqhODKFWwCMSoq2DoYPBnBBYVWiRFeKKfnxrUeUaseYitx6GD1p+K3KRQmED9LaVcagZQglrgSqYVpKmVRUGRhYFC1q+CBfGV3h5q2VzMIELwvKmuT3JXkqxeSBbVOS21VUkRVyurUBrhi9a2NTXhqrggMQQ8sVS4BTWPA5VhQEtVKpenlrmJaqh0SOukWMhzFgi4RX5G3WWK4JS4AGUOu+YbqDF+khFBOoPQqS9ClxXEG8GZbZ4UCNPGdM+v5FQMH180KvkJ0GFQZ2hMCMghWjgQgRP1KIYvj+tOUCDSC0lW9S-WCiPrW8z68UWrTfXZqXKUDeDV+qQ2QjVZgGmNNUUw1gbv1eGKDXhp4Q1AxAbyIuDQuw3mD-10GqYQ+vwAUzQNpgQql8pmGxcQ6rGphjxvWrTBbMiDZ4bjyY0UzqifGqQghrY3eL7SVC25XHg-X0ApNbpOgMpo9p+YVWHGqUWCmZU-oRAKNI5erwkqiaa1sHeDcxq0SEa2Njy1UeKJDpWamGDm-jeQq9iyi-hCorpWCK7Z9hDNSynPBhpSDKaNpgW+aB7TtFkqNGuEbJvM3M1ibgNbiELURqc2RbR8Wmw0a9F02c8LIvminhJVi2ma4CFGjrFvnC31LHFBo6afSN1q9yAGNTDTa2G2HCY5NNCorVeXk1jd1NmEooKwsUFUSQlldWwFFpP49b2F-W6Of+EAgUkvYkEBoGlvpi6bueBm5rUZqmLEBKNWgcVpHBRgmB+AAMMwWMMkJ0Z32n7LFCbUPyfjb+-vQPnHBK1zaiwedGkckswKKRbZOBRSNtrE6sp1IzAewR1ltIQ9-Oh1MKraW6i0wRm7wqOjmAwldaGB4gjiPRnAL00-ME2ooOCEu0-9powvXgqUBG19a+JdMSMZSVQZzaMt-ACEOjvv6eYltWpLQPJokoU7rtg0ZKueBuD59fGXjRkAAE4TgkcdnZ2h1EQbed7EPxmSt0wiw34UxHVfAOhFHIXCOA18C4E3I3SdVhQPnfoDR5o8LIaAbXYytrz9DwhsQNXSqJqHTA+dougbNOCmnRJDqLgLyPyhGEwFVdwurxubvF2FVWdCWkKH40-GdAz5F8gsG+CfiSqbN3ysgWltJ2TNfdXjf3eGlEg5btWUe8+UwEvmbaY0G-VIDQuqClRVwZAO2GIn1YbKqQrQRkIP2DzMB8+6ejsRLyz38BWaRwaJeqv4w6pSAeerVqVyBDOoSxMsaxBHTV3ghPIXkdPaACZ4GrSoMQAfb5E3ZO6vdXjfQLDxoWtBjgjEQIgxFfCkrFByg++LmqlCL6dVs6lqDGszW5rY1g+RBSbpiCvhm9regwu3tEhiJlqWkFXYbud3bJ+9A+ryGhMEDb7RA7+zyJPpwERACsIqhoH3t-1eQR9L+KrGAbKZmqzdj49pTSOaU1b-oi00fPPqqVnjvtpiBwfsvDE8qodIMeZqGSJHx7EFECCiWwrx2cjKSsSAgf5KgZCBDA9kVWDXtYnnhi9QIUvcP0r02c3wJ3WvcjXr0n506o8eUqQdaDkHOolEslfoBoMXrJ6M6OGM5pP7gg7Iv1JCctAbHkApI-4J7gr0qV+asDv21lBIbEaYMwtoOwg8MVDLzLE5wcovCnOoAbQQxa4BJfKsiEujnRHmPTGlRDHdU-a+gLFu+FklfhqhOqkaPAsrkJibo1Q6HSq1cP5jR2NdOoWX0MlrhfwO+bObnJWDMknRQIHTD4aPgJH-DE9N0EEZ9GfgpQAY6CGLwrl7iCZXADuYUGiO+lYjTRxMNHOgjGRE5DRruokeSP9DXwFQe4TRi0QJG-DF4qqlkchAhgRoA8m8QMcCx8y8BE+XowmVTF0GsA6e9rWjz0H6AutAAHSwCJr5hRcDfTIGCBRcidVTYFnKGgia7RIV+w2mwK2N-83AOxvY4ceOOprTjTAJQRcfh4dixovAVcIdR6CkwQToAAAF55tQARxooJ0vOOXHLDPQGE3cZ0gPHwQTx4wIVCggNQGD7wZg9OF2O-GkTgJk5mDz-LaHjyKNZQCjXZ6TA0eToPANsZoUkn7hfxn6MiYpOqtqTokFgLSfpPC9MTvkIAA')">function extend_if_possible(variable, val, frame) {
    const binding = binding_in_frame(variable, frame);
    if (! is_undefined(binding)) {
        return unify_match(binding_value(binding), 
                            val, frame); 
    } else if (is_var(val)) {                      // ***
        const binding = binding_in_frame(val, frame);
        return ! is_undefined(binding)
               ? unify_match(variable,
                             binding_value(binding),
                             frame)
               : extend(variable, val, frame);
    } else if (depends_on(val, variable, frame)) { // ***
        return "failed";
    } else {
        return extend(variable, val, frame);
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p36' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Depends-on?</kbd></span>
	<span style="color:blue">The function <kbd>depends_on</kbd>
	</span>
      
      is a predicate that tests whether an expression proposed to be the value
      of a pattern variable depends on the variable. This must be done relative
      to the current frame because the expression may contain occurrences of a
      variable that already has a value that depends on our test variable.
      The structure of
      
	<span style="color:green"><kbd>depends-on?</kbd></span>
	<span style="color:blue"><kbd>depends_on</kbd></span>
      
      is a simple recursive tree walk in which we substitute for the values of
      variables whenever necessary.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (depends-on? exp var frame)
  (define (tree-walk e)
    (cond ((var? e)
           (if (equal? var e)
                true
                (let ((b (binding-in-frame e frame)))
                  (if b
                      (tree-walk (binding-value b))
                      false))))
          ((pair? e)
           (or (tree-walk (car e))
               (tree-walk (cdr e))))
          (else false)))
        (tree-walk exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+zjwKgaok5k5XKPV4vTqsgA-NjuBgNQmiKJRaHnBB8gvJohDkKAeQtKAVzkLvTCsItbxF1MoBg6A9zyAtYNoH-EN-YD1NMHVQRpBQvEsBoRgLQzYZhXpba2UDqAwNJhsUom9QCtHaJ0Fo6C0gAC5QCE0auAhy7EOzINQQOfBGC2LZyobA-QtDCHXxAaQMB8gIGvHwow0m+d7Z40+CfHIqhl7nSvkHdaMwRHyFAKiXSyUWQACpZHKK0oEHSQdqAGkIJZcBkgeAvAMS9ZiQQJECkIM4WR8i2F0FAQYoxPCiJSN6rInijRKD4C-iEbBHQEjIise45ejQZJ+NwQMRogxiHSAumYxoFjGG2L9A4rhkh+AvC4kE8COQPHDQQZIcJATVCMOYfkxomCildBYfkohvZSmRNKMMQIzTzBQ3oIoO4jjjFpIyaAeYNF5AhPMBYug2TT7JPYZwg2TjeyuJkTkoZ3JPHeNUL44gbR-FdHuOM3Jwy0gXUVnM4ObjFlPBqeU0E4JVAAW6aAK5EITEvAGYsfs5zykfOcWoeZ2JT4DkaWkaJ8hYlyPgQk2gYRNjQNvgolJHCnlfJ2dYxZeThpeJ8c0DZODimlOGQASEaIc7EQVdlnywASz5jQHmqGpQil5Qz3mUs+Vk5FfyeIUrMECkF8T8lEvqT-FBLRnnjmWfk1pgKNjioIIzOqdBQTkFIG8VQLB9mVzYOiBRLJtG6M0CyC5QRMHar0fqwIRD1UYhZJEC6jAgwmoNeIDpNq7WmuIYwZgEIWCsgAKrEANMQagAB3Ow+9D66gALRhp4afDR5gpUyVlfKxV24LEhtQsQX5ORbFCIzUsbkFj762NTUfdNsjVBaqyDqrSFiL5XwUUWgkOay1Ws6VpOe2bnCRDqtEVQoFKBnP6SKsxMlqW9v7fSluoAO0bMiEPUdp9VBTq7T8IdpVs6LpnRO9d0RqKLAXZ2jdK6Nb4S3T8fuuoT2SEiJIfAhklhzpyC8G9HJl4yThT2o8fbT6PtvROx0CgNnvrAl+gdgzv3PsPdSal7b93dvvWfEDrywMkhCngJCDAb3PygHARAyB0B8B4EA3U8gXkbQ3Hoe0xBZiS2RlISYh9Gx7AMBcw1ch6M7tJOqIoFyiFEmlGRpjw1DUVr0ehBs7GrIYTFBKKUHGmxFAo1R7jwIKInn42Un8mDiO9RU4xfjCn1ONB44mV0pZrRqeY8QgZkgRypj08QyjBnShGckO9Rq5nBOWd6q5hjtR9NKYEsSFSIkCoaT7BZ7NSEbmBf0jBIyigTJqcZUyxoHlU7UG8n2Pzw1nNU2NmFjzWmZi5fht-I28Mlbs0y-ZxT2XgTJ1Du5jTnmZj1bTFln8zm0pRRdgWTjXgLOFZBouCrtm+tAV0DVjrwJ66l2LflprM2fKFcIBtJCw8JJVYm-oJLlKdq2XpSZQe63xgJbG9t6r-YlOKHdW14CPq-WBrsEKPQSgHSgAjc1lbCgd46UW6oYQLxB5wNSOitZUhnSUBYPVP617qr-ZIP2Hlr7i7SANhDqHv1PiRYB9fRgURZaxpiXE0HIQyStFhwLeHxBEdgsWhCq+Lora1s+6ttuacqfbedUyv9uh6QTfBLQGKXPktmDWwZDkxkOc7ZF+UoH0uZfDTW-z5gNY7jCH+fgmSIQIr0pKdOJnjmms6-HC52g-67iM+kAJ8pRCqktABVyuJtPrsoKp9631-qg3SvtvrA+73I2LZjaAYYVV7Z7YlAd9emg6D6fieZIuqhB7yIAHws4UInvH+mIzR4EQtQb3nbtbYgx7KQ4RL5vCWyR9P3mQSWDWqRs7+nDdpE01Xjj06ppnQhczMzjeLv6qIcthvHflrWat4oH6lA-qbYc9uHSg3ismxjxdsxJOpCZU0PrQ2RMbY05YWErFWz7eSqJ3ItfMgTSK2djFX2qqFzUiH+noWTtus34lk8LbALg+n55WYCxz+r9nJ2NbETVH8lgACRtXZTZttP8WFz9jdBl-twQX9Hh2M99ykZIICUR2Mv8Wkf9ac0gZIF8e8SthcFZIDTZd8P9Z8WEpUQ9CN+Rw9Cl2QTNikZNgd78gQLJVBJAU9gJlESBqwuh1EXh2Dc9dQ6B1p01qBL4oIf43xi1Ts5NZQNhz9F8+xVVRk6ZbFF8KClDGNRVCCaNdZN8DZ1DfYudMEKhpAuciF65ed7gpCxRZCdMIUkDhZAC2ZUxb95cRdJC8hnDFZXD6BVBhdyls11DyDr8VZd8Nc8DgUnd99jDgj5sPMAJgjRNsgNCTUiFrCv96C55BtWs7Mi94ELE05bF6s0sMs1Mv8LF5kGAFF-DpCXD5CYICQTI05DC6cnwsEWD-QAlGjFERZbJBDWDtkGjuiiC28F10tuEecNk6JKMBdVcbkTlYlfCFcRcxiBiuhl8witjSgttxD+RBsusvDe9lDxsHNi9cZDRPgEDd0ucwC9dhsQsNtEsLsTixBBsbNLjGNY8yj6cEM5EFEXi-jFZ6VjtZxPjYDAhqxMiZhdcITESqt6V9Mv8ZJ6U59GZBsUiSibj4EEShRJNdcMiSSGxMsWEXiMioT3jdM+8ttNjYDDhUNqp0NmA2AsNOBcNeB-4GCdYy93gfIHQX1jDMhshch8hRTQB9VME3sNVXhGBFhZTalXUbsHRY4sgcg8hiEnQf4FAhUoV5Ap8ugCEftGYIs4dxc4thYXg05ASPRWIAIJoPByckJgxhcbSrB4t7S5iMS5YA4pAydFjscxT4pS9Ep5Jkp8AHw3TQzqpE5GYxdYsfThZ-twztpgYnpYzQBDoz1+Q1t2d8BMyKZFYcyXgXoCyxAldliVcYoSzbjhjyzQZcyIYcTBF7ihtthxNHxzdSyJglFHiaYej+zqzsxhz31BkByq5ozGR0TgJhykz7ZhzTc9BUxx0myApx1vi7A4Yg4zRt1ldBdUxSinTqRewWS54ICn1pQzzOCs5ugrz58yADzPhnAfJbz4NSj1gHz7kwQIQvyAzhgLF3gJw9YDZjzVdbE8iBS7j8YvyJMGxl8DsZzqUKTsgULxxbZrzb1ESTIvzfhfzM56FuhCLxymAOR2MCKf01guY-zexyLeJ58HR-0+c6yTzbprINiQNl9nATQJxCTzyvRdAoh3gkLMLDBFSchohxKBk0F8lMEoMuzEKMKeL5Lzt+KLoljJspsZKxKlU1KzYAAeXSUSuSlQBS8pTTN1V3FkAAFSyD1DyEFFxyiCcBVksRR0oDNOAlAAAGpVSFdQwZ0vF05uKzZArgw-LAqDjzAQrogwqpz+E7VB9bKIQHKnL8B5AA03KPK9AGAxlvLfKWQAqgqZcEqogkqjLDAorWQyq4qzBKqkqNLdzdJhNNBETxM1LHTNFcTKMZAshLJ7zSgdJmiJL1LLK78SLPZrYaq4rNMBrtFLJGrzB9zqBDyh4oKYpji4qiE1L5EMQOx5qtjMEOwNLVr9qpCc4JrSZMl8JWrcDY04DVkJtDqFEwKTCt9tqihf8ggXcIQeq7tiBMhWhQAZMg8ghHdQUTV-9b1bEbzb1F4aCMDLxxqvz8L-sf1NimUMbI9CLuiWlJVhK9ylqhrkaqMOzgEBiurdcgaBleq2l+rZhBr94KbVUxrrqjLhVYlpqcIIzJQvZbrm8Csya2bGr1rNqdKVidqHMRapsDrFTjqIr5aPMiVzrLKebVaFbrquIVb7qiJHraDyqyhXrKN3rMRwLTDpb6zfqCD-r0qJr3dQaNlwaOR-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-XfLyOfMe6-JwG-Pc9yTOJJRyVYLT7Y-ROkqJyBqBU5jQWg2gnyOemzW-SfmO5+bUIPAyB5V-rMxubUqJ2cu+y+J5s4+zO+k+cfTgnwJm+108R-KKSRUuQaZDFjQJJBX4NkchGAy8HSBoE0BLYN+9tc-AvGp721Ag5RGDFEEqLwDGW16JGq-yYqo0BaduPdNOmiA-MZun-cnD-z-4tAAB9fN-kMj2p05QB2ApdOJhPSc94i3Kc-BXyT5-U-y1KEAU23YjQ8XgnAm6tD1Trf4c+MAkivn1oLp0SKfApePfyezhBcgLAe7rzjkLP1tkdAJxG0BUH0g6ApiS-hbCI6YRDoL3DQe-WuDaCxEmPJXtLEOhe8v4c7OQcSEUGLFjBgoVQfYIUFcRrB+rLYs4NMEvQJ0kQKYDqRhw+DkQ6g4FCYK0E6Cn2V9e4IYLLYhDQg-AcwVh0sHZw1BLrWwXwQCGKAghnwEIaoASFmCMhw0MRHwVDDyDiUBgjXKHgWjlCHB+AQ8FCGabUsBQM5BobBH-SRRLAxIG0BUKxYtD+EFFdoeQE6F1C4OYwu7tYV6HEh6O1hTHtkJZa5Bgh4Qlwd0BNTHU3BTzUoeE2GGjC3B0w9wdPG6EqpZ4LFNipeglDnRbgG5YtsBmEhARCKZiOATgIQEKIL0V6RCnBiQxDJMSxhLAfQLY7KtAMnbeDPcO+E-MiE8qb6JIBAaKoaBbLXXPQJeBgjyBbVKERPhhGwQ4R8qZEbBHBFNkvyy7fAKuC6ClUXuLIYkaqFJFD9rojUHEaAHuGGAXuhIswPMKkALx5UTIstsqwuGAtrh1oekSiMIpsiQQoXTkXh3hA98IQjIxXh0IxGwilUvYTkTYJ-C9hGRKoqlHKNsCYiFUSqZXrBGKGHEOw6orwQnR-SZcKRJIloPvxqESEZ0PrNCGMNQZoVQuaDbYanmsJtVFUP8A0NZnTS78TwAY8YC8Dx70i8ejwoEr0QVEgwxkVuWxOiO1EKjtu83UUUBCDG0A9WvXT5OGJ-S-DWI0Yy3LWgtSUicg1ol7nMKw6bUHR6aJ0QWP1xW42qhAbSp2kdA0oDR3fKQNl31F9xC+C0e+F0PkHTInE4CKIbAOBJDF74Q4npIKCrLRDMUmyXBPcEMBWEvYG7AUDIIdRtBCeBicUG2PTAbALE4CWxN2KmLGEF44CZcbR1KpEJwE24H1qAHsoAAJG5pIAACC4AcADcwABK9lSAAAHkXmyABRLBWvJWBFUx-a1B0T3HfR8RugoEE2M+AtiHQ0EifPR37FIS1eJ-KCQmOpyY9+xKgT6FhJOwUV8JlQCCfPzcIzknxL498Z+J-H-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-xL4SweaRnRmKv8-WAbXqMGzar28geIPZEup281QrzwMkDrYMq62Sz4a-DfVI6Cu3p4rUCLZ-ksFWoJc7q5A3uT2kfSYMvBdfWYJmKzFmAWQ92MfkZIHSxSPsdbclOtqCAsg3t-velJkp+aYJRFy2s5cnQoFqlrCYrXbeVsvhlpydjvdjIdoWAZQjl0VTnR9pFSRsLE+oQnm-VcoKIAAnAMB0gS76dkGuXRIBLjv0zll6KYJCFEKqoE+QtMIGSsBTx9VkdgRUq5L5q1a5Uz9VQHlzy6sg0AdugVb7TNkmoJdBEaWD2PKTy6lJrGQGv0vKjnY7AkafMuIKJqBBPd-S73dO2cri7ldz9LJdIHfmfzd0yYBtd9vkFtDUtxwtnaYzfnv1E9I5B5Udvm7RUc9H8r4F-Iu2MxA+vyyIDWmeSKBMgZoHZhct6KXRbEwvQUATyJ43cgOayQDpfDfZ9BMlcM1ZH9EYAN71mBjC1GaBkpBhVULulkBGkjSB9QA3XB1DWjMCL7ywsc83Srp8hpc2ll0LcEILNlSpQcrKxfsv2syr93l+uoIPmoqnpqS1lastdUUa4MDggI++vRtQn00cWQ0+uaGwPMDz7F9H2PSdfGv23wQDEaLfSqqMB0FE1jQYA1AZX3zdNgsYyZlAegOCCw9SSsZf0qGWfIetjVffXptNGQ6n+G0S6N8OlXo6CAjDKjMUMG1UHFt0QasfTs9FxFnq9smsiRr9F0AA0bgGvZfC6kt629KYkXq9i70k8e9Qhq+FFUH2c9A6JIIYkwZDBLbFVg4jgwwtvlC0vy8m+1GyGoDOVdRr7e4UoD1R4pbcNXbSm0vIN6Bod23DXgzvh1I66DfBBgxuNVm84NZ7PTQMKiyl5LRcjMU6edLmna7zVmUxeLfpWRfxg5wI-tEskAMR0LyX8+lYwMSJMpyiDMtlkzMz62ymULy-4XgMUoEBLK8gLwXUnemhGxZs6UWc4Hf0So8UsBk1C8or65zPkmCEIw9Or6I4-ASpeQPdIun8Cn5apYkSCnpV0En2XRoY9IN4hV62leXAMaoEx0AAdLAMAotZfAl++AFBHB2Z3oMfGiOSlDbuAij6G9bfLAPMb02LGsJyxrMWsY2MTLFiF+nY7ZzbHXJCAzyc7NwmpSfHQAAALzxagA1jd+p4-SBeO7HXD3CQE0ceSwnGQIX+i6FpApQjBeDeQfg24EWNgmtj16SE7wxeAulzDscLdqQC3bWj+weXbkHgCuMHcrdmxiE28fxN9ct2zgEk2ScyXwnywQAA')">function depends_on(exp, variable, frame) {
    function tree_walk(e) {
        if (is_var(e)) {
            if (equal(variable, e)) {
                return true;
            } else {
                const b = binding_in_frame(e, frame);
                return is_undefined(b)
                       ? false
                       : tree_walk(binding_value(b));
            }
	} else {
            return is_pair(e) 
                ? tree_walk(head(e)) || tree_walk(tail(e))
                : false;
        }
    }
    return tree_walk(exp);
}
</pre></div></div></td></tr></table>
      
      
    </p></div>

  

  
      <div class='permalink'>
        <a name='sec4.4.4.5' class='permalink'></a><h1>
    4.4.4.5&nbsp;&nbsp;&nbsp;Maintaining the Data Base</h1></div>
    
    
    
    <div class='permalink'>
<a name='p37' class='permalink'></a><p>
      
      One important problem in designing logic programming languages is that
      of arranging things so that as few irrelevant data-base entries as
      possible will be examined in checking a given pattern.  In our
      system, in addition to storing all assertions in one big stream,
      we store all assertions whose
      
	<span style="color:green"><kbd>car</kbd>s</span>
	<span style="color:blue"><kbd>head</kbd>s</span>
      
      are
      
	<span style="color:green">constant symbols</span>
	<span style="color:blue">strings</span>
      
      in separate streams, in a table indexed by the
      
	<span style="color:green">symbol.</span>
	<span style="color:blue">string.</span>
      
      To fetch an assertion that may match a pattern, we first check
      to see if the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      If so, we return (to be tested using
      the matcher) all the stored assertions that have the same
      
	<span style="color:green"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      If the pattern's
      <span style="color:green"><kbd>car</kbd></span>
      <span style="color:blue"><kbd>head</kbd></span>
      
      is not a
      
	<span style="color:green">constant symbol,</span>
	<span style="color:blue">string,</span>
      
      we return all the stored assertions.  Cleverer
      methods could also take advantage of information in the frame, or try also
      to optimize the case where the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is not a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      We avoid building our criteria
      for indexing (using the
      
	<span style="color:green"><kbd>car</kbd>,</span>
	<span style="color:blue"><kbd>head</kbd>,</span>
      
      handling only the case of
      
	<span style="color:green">constant symbols)</span>
	<span style="color:blue">strings)</span>
      
      into the program; instead
      we call on predicates and selectors that embody our criteria.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-ASSERTIONS the-empty-stream)

(define (fetch-assertions pattern frame)
  (if (use-index? pattern)
      (get-indexed-assertions pattern)
      (get-all-assertions)))

(define (get-all-assertions) THE-ASSERTIONS)

(define (get-indexed-assertions pattern)
  (get-stream (index-key-of pattern) 'assertion-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCyyiYRA4K0Ia2yEs1JjEKMesnkikWJtWbB1mwsu08jBtXykIvRIJl-Cqcr5-KVKvFkoRWrpvr6DsGRqWpvNIM+8dmC2Nyxdtszkh2gOBb0mcdmVl6lakDPKSlFDhJfJ5oDDfgAbkd8FqfZt-UEo5qgyG-pyW8XVVjPDjvNr85I9QaVDnU4ZBzHrT144xSPCVWqNTGfPOC-5ldJVcT5Yqz+QL23QJ3PN2TMfT5mJwfp1a548PQwvTxLdfX7Pp3jYYdfmvcNQAnddcV-eNF24Q0VxdcZSw6Td8wASEeHc9zGeDvGPPD302AQ7yMKiHyfF833Igs4MtDc5zIyR-0A3tTwIicQQ7LstTdX1qwrFFRNAWs8jYZQBFIRJuFiIVNntAZQHifFNNAUlmVZXhSRPTYFl0tlDNmHYNK00lWEYaRSAMxiFhsxszM2HYHBiC9Yj8UkAFVCDqQhKAAdxoOwHCcCoAFootgmNaWE0AJNUx0ZLoOTEnMKwsFA8LHDrGc8UJGE4U1JFzFA8IgkJPLIpcMqdMoFk2QSnK0SCAJqtsex8ucQqyWcuzWrwSE6zCORVHUfRYnlFsTkFbjUVFAcZSq2beSaQVEpSpM0LNNcRAWYZRlAHY6Cy6wwCktFJJieIoDgRBkHQLk0H5CEyjyQ1PHIVJHDGNpYl4agGEIYRFp20BDWGWJ3AcbhAeBs0wZEUAAB80dcw01A0QhtERkGUckDGsZUdwmu8EIEbiJHQfBkmkKGEYAZpwnwakBnfVQlN0IJ5HhAu66mV+iLpzohhqaBtnul6FFIb5umLpGz6KkNNxNHCNgmB+tRslIWJSABPR4U0ZTJEhw1KIvNQDZEAAyO2ziuPXbYJLTSGN9WlaFqGhn4WIJYVongITNS1f4DW1m1q8g8N7TCH9hhWqsH26EaWHKGnShcCYBOA8l2ng7l-pHRebgJ1judsp9krmGDOhyE0QgA7BvXcc0PwuF4WQqmcM3Q8dHWSVJevG+bunST8HGtE7zhu4YXvqDBFPRq+lRR6bluSUriGS6TdXNej3XY58jfx7B5PlcZH4x631R0-Jlmpf5-vIbLid3+VJ-C+EExl6vsaZ877iyYF3HuDdqAF2lrvRMTsLgTgrqzF+VcPrX0NBwYgnh+C9UgTbcGIcLYqAPlHIeLs46kn7CEXcGCsE4MILSdGmNGYm0PqQvBPlOwaBjEwGh2C6oMJJivFWNBeF0PvhnIi+t8EPDfs7D+civ5kL-v-H2oi6pMBAWAheEDCBKO4rI+Bii4JSL-t7VeqsVBYNhmwfgoC57gOcHo4ChCWEkKvOw7SVj3A2LsfPRe9CVHmKZP7bxtiBCOADn9OgTiZF73UskbID9M5MGzrnROfhP6RhMSgn2XifHkzYI0GJUgDGGAQYovBpjwQALXkwHak1BAMC3sU82cTw6Ry1mwqRPl6lqEaVvS+Pt6laP8S0geNBMmSNtv-GpFimAihknWI4Yzxm+1cZ09x3TtILN+s4bEIydECKYVzIhEdWGbINj5HZSzpx9NSAMwJwilqLL2dOeeMl1SpDGZDIedTlhkL8FyR519rmvPmWifY3ZW6VP0XE35shcAAtAFtcEPtQXUGxEcP6CcKDtgljC5xcLiR-MRR49IMyfbY0haDYg+KTGwtge085usPGkkYAcGlSdgVjVrqoalJA6UGy6AytSpC2X8tpZPUAeCuiCyCdKiVzA7lNLptEglUhYmwMmUo7leQVjSDUA0+5dMyHCsJVq52MrdUVB7ruZVW81VSLNZqtSxihXWqTE0lICp2VQtpaas2LjjpTNILK1F8rvrBjtW4Y10KnWBraUzUY5cKnxopRGsmao6grJccQjZLKtmki8DUOogz5XFuIHUJgBSikEuLhawxWTplmKeYaZIvAfqfMcXWkpib1lHxJKy9tnb+EeskkE3xDjcH0vNWpbVlSx3YM0JO7RzhHWu1naXBRKo3W-3Ta2lQnDuBd1fn2vNA7j1zx8nMS+sz6wcE4EwPk2cjDSN6KBE4Moy5yXLKsw0R6TiHW0je06rYmhKyiEEugt04gQBgPAJAqA0CvS5KgsaDA6KNKgfzTuhB2wJsZZYkW-1sN0wzEZIkf1sTi1IyjMyOxoaJ1o8IMyxkmp6XEY-DRglEkSJSTnPOgckFkdw-h+jay1F1mY+RrMuwnw8LeLQuqzHRMyZmAx9evdN4msrqxuTmKtPn23sJsGqnxOGnRQnb+0s9MYexJZ5ZJ9dh4bU98SN1jbEHMcbp30CxeVC1VCEnx4TE5ROkwxRimw8m2JreF5zYnfQab5RygV0nbPyd9Zy7IiqjUqrBtEyuZnEtrIrdmnzXwFh2enKVlT8XXNSCS70mNeXjPPzI+l7ETX+k6ZM3HUGCWvhJeHeQLtkDyuPAWMOopVXDhfKFiu0ZhW6sRffL81J4tolLoWzogrvWhCqfq4WXY0hPK1b8gFIKoVpWNDBvwTgoAYr6efI029PspvcFKH4JdzqpDIUthoWIuy8VMAC6UbCsxIZTaYN3cggPcXMFB0QL70hNBhqkJxb0f2VAE2NCDoJH2iDg5mKBHuIwuozaw-N2LYOVuRceFwVI7BQF4bvNQZprk6f0gnSFyJDhok0455zyQ33adC8ePN-rrOjME8IFUiHfb6k0dJ54FjBYFiK8EuCsGJrleq8zDsPaaxhIY6AvmDy7QZc+X8oFEKNAfakEaPYB7sUputXR9U3JxL1uCWiV3OgqnFqrJhOyJdBIAB8T3ZsSyXap2evAw3V3lVVrXLyMXWZw3VmBYciHSECDoabmGvkObebID5WGlv9fuPGSrhehPsF2WnrXmXW4V5c65dytfqb15uUwLFDgcXkDxXFyvLbr7J+b-6mVAeQ5Y9AUDB3yW-WCtDUT+XsDDeunEp6TH+oUKWKjbl5pVr+52jiRTubd5DX2pNVanwI+t8AW9CHd97VJKX+jQbbjz4iqgA5+fiW+qV+zWR+8ad+LmiUvQs+Gu3+H27+k0n+4sq+XwkMgBH+u44sEB6O2+pumYkM4+iq3AguvaQB3W+WAaYB+GmBHE4kHu8qa2OcRAZ85ogmP2vasCwe3ATA4e2k5IjBhmawNIfgLB+618dA6oLglAgQCmmCfCdYu2bWRckBu+VKKW-qlcJ+for+MqMoE+SqwBqq0mVBf6KgXqC+uhAaRBoAR0zMlhOw7aoMa44hKSUhkma6sBBq0apBg6aaoukWYhIQzh1CimshbhlhBYvK5htqh+Bhx+iEHE2BgebB2e0hSmUm42FWRIusrh1AnGmc0mh2DWoAwaiUVgieTyyeNWTmlei0oENaMopW1alAhShhKIoEX40GhI-hEhLhwRdC0SNav6oEfBDcTcawHRmRu4qSwxY85o7Rv6eBneNas8jOWskuMQ0u7RvhYu5E0xoxnQfgYR2xswleIh6G8mXWsarWP80+9aakvK0B3YhB74-+GEiY223me2B2o+ZxBmIx0uVRLmNRr+4sMoLxQCdMX+3Y7xY2nxdWiUZ8uRYsPG4JYMiJcW4sqm20cSGBtB5R8m2RuiAJ+Gi0CJacfGNGBJaJhWJ4LxlJmi9iq6MJChwgseNJ4B1SkGwi0G0QsGD0CGz0yGBQaGtS6geeRSnAp6hGjRmc+guiEpv+1eoA92mkhIopeI7ex2p2nAPk5MMpIQuwc8bwqQbALQbwDAg+awWwr28q-m+OPOcgfOfgSxmeBCRKusFCrMuOQsk8YR9pUSTpTRpw9+QiaC2OnpTOoOkpyR56pCuAVy4ZWs3pY682fpfOH2UZg8xKCKH2gKyZE61OGZwshq2ZcZyKeZwizO7YUuzSuAhZExJKOZGQpxeQ9xe8kJdejOb6SRmZ7pDxScfgIonZY6hofZ3AiBWejoTKbiusGJ2kfZZaTyfZWunZY5gkdZ2qiBzZFQNKmIDceMlZ1ZJq1RrpsCE4wZd6b+HhIOESEsx5txW6Fw55PsO5lAjA1aRS0Q6SLpssvQkMVsH2N5mJ4IoEHszAphCoaxbOdMMoxRwp0IsICON5vGj8-uj4PudZ-5ZJKFAk3+CeF5n5AciJ-ON5MsGqv5cSZcBFQk4aTyVF7ZxFicpFkg95NAE4VFW5NADODhB56xR+SSXoOFqF7gwYYFgJJ5oqoMmgHsyFmcwqKpGIkl0lT4XQrkCw-5-mSFWFslgl+2oAwlb5leGp3geM0lWlXoIgAAPApSZToKueZYLpVidhbqSAACpNTxKECNDBAo74AOrSpsgdrkCWnaSgAADUCpnO08eMeota-Fwq4VUqpIYVEVdOUVmgMVdldwgu7kTlF4rl7luADAwU3lmgvlqq-lvAgVwVSV4VhxvQaVGVZl8V2kPkyVdVUgDVuARSylKCF5JkvAiJ7ZMlngNxXO5ReG2sTU7Id54u8qXRw1qFPViRa+yRwaC1BRGR-Wk1dgTxYuL5e5y6kF0uJx7VZ0-FbshIZcTVG1vmcChgPV7VR281cEcVulE4PVv6VYJ4yE-WF1sExs4FPFUFih8Y5u1s-FVuhA5MxoRRicbu7oCRz+fYr+VFMoqB15TG9+uBcS81dFTVAFjFWx5EdFG2BNAccRMwEkyUZ+E1zI017JZR18pJ-FQ1ZlOFo1NYSetNU1x6YlJ4qc4hC1Oly1MwQazM61YRlW3NO1j1+1WgQNx1LmN13wZlf1V1r1dVCwBEZcylOFyt6m0qgtL1EiXQEYYwH1RhHo31u+v18loFc+3qCtW8GhxxuVw1kN0NoQgmzuN82mF8n1WBj+OB8YoEqNhI6NVFvNlBHOkMuNN5RFZNWoRN74JNPuidFNX1md3ZnF0t9N0d2UnJjI3Jd0cGj0iGL0GAcFSYMOcOFpeOwiMuBG0ZZy05JIn22kNdQOXKcqTynd8OLAQM3gW8ymYOIqD5ZSiiYOMyoEfdddQs4xpC84YqLwUqUgLwBY+2S9V4pIxYq9kgxYG9vhYqVse9t40gh9W97pQ8p9Q8F9UW290MzMUqj9J0Xwm9997paUHa-AjQUqX9WCXlb9R929YNe9YNmY79swYqMIHsve7gdAk8MDOgcD0GjwkDMwYqoVp9Ug3A2poAjQIg+IEe924VgD6DvQYqUU2DkguDfgBD3B92sUZDwD7pghmwtD+DhDxDoA5I+Dkg5DUgYqwA1DWQeD9DRDSpoAYAzDl9w8AApCIxw+I9w3I3w6AAI5IGKiqdg0o1w5I-JQQyw8PAAISaQ6NiN6P3amOEiGOyNkgWWKMWMMOgBWWSC2Mf3DwWX4jUO6PONeNuMaMTFkhh6ON0OWOgAR4BNGPBPeN+AzC+MSP3Zh6EicPROkjGMiOSO9ASOSDGNSASnzhggz0A5d312MhEUEgngcEvB+Cz3A7z1FOv51MI4TqUDuAABWRpHRVTCSpQ3Bx9JT8OUq2qU9gTMwzTZTchYIbUy0-ggzddlC+WMopCYqG+UqG+YzRxQTpIkAhApov0v9cTuz+zDumzRx0DggyDsAkAe9SDTA1zZz2xFzsDAAoqfXcy8482LmKgAHL8A-MiN-M-P62RaNOzMTOLN2pxWVOPAcH6gSOUW6UQvtRUJhrFOw6lOQv0UwubBwvcEjOvhzMYv92QthoXlQ4TOI6EDI6aBDx1lQ6sDJgcDSCeCNDy3tP8CdhiEaApC7WngTOw4dotYj2E7J2zBLp0umAzC4miH9ADVHXNJ1lcVM4KsmqWH2HsB8DzP1MTpNUHFi7IvLRUJEVfNSAauGCUutMdNdP6tC6Gt9Kokbamv70A3z4QUs68VkZKzeBBD220ttP7IevA1dQ7hshO0mrTOF1yEwb3TwZPRIaYBV1LTqD8BkBMAcpqB9QwjSDZqcLkAbgTlJgwxwwXgbnYL5sIRV4UbarvXlusQiAJVMA1XSrqBaAZVltcKVv1Y7AdsVuzhjqAwwh8ohbGltxaCsGtKwKpvEC+UjBYbZBfbEDEB6PQbhXcDTt-WkhJULBbugaJXJXTvOuPBbtTytt4x4U+xEDhKMBjt4w0uoVbZXvYKMDdA4QsUtvtzJWkhkjJWDu2KMAjvmgcGPuEDXu+AlV3BftCCkg93XxPsGrMB-QzRLp1kv1jAocng7vBoORuRrKkIoegAOxmR765zi0TgociAYx3UpoqgUegDWPAa0iYdZBlwEfyWkg3qqXJuOBpsZsFTZvZoYfxg7AkfDaja6IEdEcFiMb5wS4MmjIUcbU7s-vhXwdvlIeXAXDfbrso5-xtUFhJXNtmX8ZpKycTpeaQJ0e1UGchWqegfPuIcOAzTaraeKcNuC60g4eDaLBgdkjX00t+BqeOfSBKTdtrL-lCcUZBdkgn1+CkKse6dm06emy6VBeuBOdhfYxnvaCReyakgADkzboeCVhXJ4Z02XGVKHsHY0aXHK0gRSdX9D4lk5SaYwAcsM8MZcjXR78YYqIQbAiV7QiVQU9kp8VQjYiVue3gtIVbsm0XXX3Y9Xb1ii3XgX9nCH6XIXYX83zsq3cUKoe3tXi3BD3xeQHLXLxAPL6Bmu3cNQ2il6vAqH68lVI6UmJ6zHfXL3I2-CfgcnfiOiD3R7HB53wYl35AKQ7Z0OMQtKVQ97gPs3BtMnt5c89Wxk29N6U8LNqSgm8PZXBpvAp3FQjX98t2j6t3MPvuKPi0s+YnymJ6Ghodur51hIJ4xn2PTGf3U6ui9PmBxTd343Ws32MoHBxPacpPUP-PD7KOlPj3AdKBTPEim7J9zH-5360P2iUc32ul2q5PGvgv0vf8eP82qt7H19Kv6vAvve0vRvCvj8m7IP3L4P133+XnMwal54Mu5TbNlhwPnLoPV3kPuvsPEH8PYX-5xvENczkvmvBvJRCRs+OP9PiRPy6PUqbPAmmNKPv6JuyfZ+c8JRMrY0Du9ggPhb4XHv73E21HlfuHYND3kNNuV2FnrFju3dNFIK1AnZMvT30OFfKPzHZ5-fjwOVp2XcDfl2nF8nOiybqq1pTy9cjYfUpAlA1adcbAHAhgJ6ZfxfyPj3m7C-Q01XeQBggv43dkfUsWW-zXEyzsg5BhPPhfLZCF1arAMkeMq5nbJEaF3+GFHvebR43-F8EfwqDuBX+8tf-riG4CgD68eMdcs7GgFv9TYwAmgAgPAE8ZUBsA7foogwFID2+Y0HASwBcCR0IBX-dimX3rhygSB4HdisgINIrEP+fbcDrOTIHX8z6ikZ-jgIYEADECv3EioT3rAOsKAWGMfrdC-JEBPaWsThEwCSDsBvA0gfuGijsDTYqeSNBcMoUPTYJ4eItF-LMxwH1EwB+5RlpHREE0CY6faDfFAIMGmx2q2YKGpISZxSCZBbAOQfX1EHk1TqqIXgEUgIE0YcBGdQOlxFnz-kk+qg0WnEn-JtAvBmnTflnwHJKCaOYwengHXiJB1tB2dfHpbRoLkVYEkQ5QY934EftpoveSqtxQ4AANzQdAFsGUJ-pRw6AC0VgWh2yBApmO1QxoLUP5BIg8eqvS1ECjFa9AkQ3BHGEUPNYKZyha4KaP7EIhNCeuWzSQK0PaE5II02uFlvoGBzzC1wVQgCDUK1h1Ce+a1Soaj1ADrDVAHQsPh7yuq9DLCAwiRqwD+iUw1hWwtoYYGOF1CkQfQgsNcIjxDDJhcEIFL1VTgTDYgIOLBPrF6ZI5pUdZXACCMZyTRZA-sNuEULhbgi7gtAqEYIBhHfCZomIvYeLWxHMdg0ePW4Q4HuHMB1hfLL4FdUBFfNPhkkaEaDFhHTQERPw1NHCNC4cU6B3FPUE3mJAmoqBfgGxHHBYGtFX8egwkAQKMFIU+Rbg6itkOSIWC-BXHZVvdTra4h+RggXgYxQ1JyRsUTAGBgpB8HoCrBulAURqPJoFDtR-eXUYIAUhyQ1RgokimXzDpWRcAX8NYElWY6kgXRQIN0Xj0hTLJbRRw4wClTd7SiyKuHf9JoJ-TBingHIpnFyP9A8jW4AYk0dKMy4qB-yUYh2OXyogCjDhFoxQFaPki2UJwP6d4fGAnC5iyxvofMS4D1G2Vv0xgKsdsTLiVjHqkWdimF09GuiBuBQg6j6xyKYjcGv-KiHgxpHBp2RiQN4FWgCIH8pMs45wH4GJ4BjieQonQeiDrF-JxQKuGUDWMLEKQlx6on4Iv2oC2tZh8YFcXwPfYbjdcm7L0d4AG74ibCw-aVFoH7EuBBx14heGTnZGmhT+tkOQq+mxSmiewrAzEcCMEAcEiCAo3yuHkOKTjK0veFwPOMgTQTvIZ4UgEBNTFljCqRY3vGfwAk1jgJvVH1jIBGDMA2gRAP6DKAAAM5gC8maGCh1IyJxQwKuJxYCGBX4zEiicsJlBTdyJ9gqieFS5BYlYEfE8FJRIcC0DeUDE7jJ-wlhSixJtPAqOQDYDDi8qGPNgYpK+5sSVJSXKgVUkZpjRZAgmWSYwJUCsBxgZE-uCTmYlKS+oKkmCkVSYneAWJr3eyRxMSj25ZAzAYKEcGzRX8TwLiI9Fvw5x+Zn+Mkqga4K0msT1EKkm6klmCFD9FS-5KaD5L8nRD4eTYqQKlKYC+TPA2aQfrL3ikZCsh6QnKXlOzR8T2RHAewOwBUCQIRBUo1cZzSeTlT0pIE62kuFknHokCuoG2gcGWRSjYwaQlao6DVJGEqwiNMIrUX0EwDl0EozGkRImkqRzBPMfaFAJBZV8XRgENsUdjan5TLBc0oau4H8FiQcIOfUIbKJa698qIPYSWrBG8m5T0pZcYaVR32kFTFEsYMIjsG2mMBMhWdSdq6kekVTAeBQpUSwBzjAxe4kAqUU+CIlAldBVg2aYgMIEY184TUy8UoSyB5NuYzodaX4JdqrIiAMVPcbZQNEwE-Bp4rZnDNTFSsH8gQ9Qd1KfCbgxcNgckOzJPC1EkZYoqwajOIFHAlpgUuJDjOXBrTzQCo98LYJJl1iuBqo3aZsHJmPFKZ8s2YOxVsKxjlRck9mrTPpk74sgNUhwvVN0Q0yMZjFGWGzI5mn5YEXY70T2N1nB1Rpk-egbDIFk6yvqhkvIMTK6qky+ALYXgDBGamAzHQTowkDbPvGu8YxYcn0c+L9FjBeAfswUMxyoqEiNBF4eOSIGY7gyuRUMhuJAPjm1MA5JFFOd1P9kZyq+WcyGa+VzmIh-ZtTFsGQKkZgB2Z5IYuRmKBSEdHYlsD3qXOY5eyFQMsksZcLFwljBQWUmYH3J9nfoh5Z42YN+lHkqzfQHYvHlHLtkey5kfEvWF4R74xlNkXhHpGRIXId8SAz4AHlVLL7aoqpY6MSbFjPkNDWuCQh+ZfMOF9dPAvkxoDnm7BMdnxNbRRE-IKFQ5bEG8viYuOO698MJ-eEBQ4AVCBylo6ITBLKWck-5jJicUyTGHMm6IqpiUIYoQBJk3iWeBYCeTLIPHgLFAY85GsfPoDeZKYLgKqWQtmAXjGKIktSBPLwXOjuxEcqQNYVGC+ja86bY7pZJcmxZ4FARWhWET7FyABxgI7gCwq-Eq5iJcgUAC5QAASLzJgAACVfIAAGRebIBCQsFfCnIESCILokhE1MWX3oDMBX+XAQCf3kOFVRCBD6KOHxJMXojbFePexUcGnDOLyoeAvIB4tGDGKBhrA5Raoo0XaLwAtA+xVYs4BOKyJLikhbLjL5gTzW5I30PYsHHRKn0nIF9DWJmHHs+JUUTEbSDLHpKpFHHSbmRMKWAiZu-8l7gqG8WmKYFsdQEeBNBHsgiCfE7gocQAWIKBF4HRpSRWwmGLkGDS1xaQtTHsiG4g9ZgI124DELMJeNKkUkpaVoi2lqSmsDeS6WZhklJQpnGSLCK-i8J-4twvMogVYSwiNIqHN4tOXjKOxWxRZayPZH-4+FUCuZcd2AkMj-Y1k1-HsD6aEg1oO-N5VAt0qkhnljXeGkHN2hizDAvywnFxymVCsXl9XIFfVw+V4jhOoAWFYSU74GE9uDy6aOyMNDRKYwr6HvmlQyk-pKOaMNZEegbG-xexy-WQEcuPEuBGW0S9dvhL7jU9GZxKyAchNlyEyP0TQGUJkufSIp+VyQ2BUEBnYnYIS-Kz5RpEeqlLWR8oMbscuoBVLWREK8ZoEFVXaR+Vmq6aD6UzARdOVJ4rIHoxlXGTdw8q7EdnymnuyLyagdoMwDElsqlgPAW+cKPBZjKaAhIEUJgkoWQJMFKIWfLyprm+repmhWZp+kJCirsliKXJUYVAhWqISYkzETi0izKrGR-wOcpUqKWSrOoeq0kAUqKV9D-ywCi1dwVTWol01VI+1akJDilEk2J-RBSkmkDMrz+lnM1Ykrvm9KJV0YzhcEHX79qe1YXVtfyo5XqrZctAidT2qnUsr+4zqplfKvdUPoF1Xamdd6vRCZw-xLK8YiEqYAABBcAOABeZqKXKkAAAPI-MIlKIQ9SerPUXrr1t6ncR735V+AaRu6ztVMyYWOhSQLIGDr4oqCtqgFVkxaMutdXMS111ikNWuKCDfrnFMoQ9WEp0WJQUNWinRW+qoiVqv1ngLWM4vmJxIANpaAoYaEBoih2m+OP3DiOTQ0bURcBSjaNAe4TtVkL0ueBe3lRREmNZQGXqxshiFTONB6B2gvjShUaG6NGsvo0Po3Aa7ccBMTcxsk2sD2N8eK+QvGoTKBxNZAPjXWUE1jozQmgRpFrFmVKb32KmvCheUo2UALJPG7TWiqWV9qKN1ALTWkWc2jQVKW0+OpiLx5WaLJ3Gtzbxq7wubTadVMFfwvRq2bjMhAYLZvXYhi58VXymZEWpHjsBEqYWqBVKl81bqLyYm6zbogU28b7NjyqTSYTdY8JNN+OArdpsOEEjnxRIlYZy1JGPDzQRBdLcivRpVaSQnW02tKIVWxbZgNI3LX5vU3la6AwW7gN1v6104EtoXC6MlqG4+Q2thzI4Zpry3TMfYBmrDCLl63YjllrI1pZBNPBh0w8WAOLTMGk28LZlm240kiqKRa86F24V8RIvfFSKOxxQM7TGPEXL8XtKqtWThDwg7Bg0pEVWV5qpFzbdVpIEbmlsu3HcpU126iheS4BvBAgu-JVp3hEF+tMQwlacKqxRgFCHeYPCHjRm20zblIzS-bassO2LzNlRDVyEjpnZfIbIbgMGPmy+RtiEuqOXSlRQe1jlfuXDeWXX3bBUytm52RvjQDkhoVz6j2Gqqdv+0zBSQBOgPuLBm5KcXxeMN8QqvToakgdrkUneDuHiK6ne7ZaHV2EaS3apUhuonWuTomgQYQj6f+j-RlAABOcwKolkgANNdrGt3elA91gTiMesIQoTIT64jf4ItHPshD9VaRqJhM3oA7qKT5d8uPkNAMnu1WTTG1HOOPRlLUCnSZgcehVSwD+hMigRxiXSjQFihAp-p7uWPe7p-r57-dqFO3aNu-ondH+IG1+T-Q-kSwx4LqorQSsdGg7WR+uskEcDfmd6Tdz2VIObq+zt735rgXPAjp9hB8VAsy1gJ1A7AOByYDcU5gjPRB7AZQovG7G4DJ4W8XFCHFCKB0CBftTANS0NbvjxTSBN9BzejlZAbjGV7IhMzPaSBiixQl9mK47lDAv1BBncVDMwIOrmE16ikR3V5XsG1BJREaEkZCPKuX6r9e86-c0DAcJmgbmJ7QH9Y4jnXTrGizRDA0YWQj37H9DuZ-aHNf0TwY9UgT-d-sez8rh1G-YA9-oShwHG1VNB1ZsHoMMHYojXPoFuNDSsG2DkqvPYOI5xgSqdR2mnSds5xQHkVKspnVQlZ0Sw9gwEz9ULskh6N8MPXJbXMqnhPbvtmu8cXLndxry5NV5EIHQGCjwxV9gQb5bMz32EgD94vJfUYDP32GggCVa-RTVDo3lxi+h9Q2rtpbPaTDzMCmmLWTRUUPNFGSHZQHiRFitAgYtwAZBwgG51ub5FfUaxZ1YZgjlFAI7pV53aHuCuh71goofWnrz1l6m9boqKLMw6JPsHCUYv5XxKFlDo1gRYocXWLclzHKJR6s149q2jbi58f4unCtHIlE0TxbgbRBBL32lRp9TUdvWTHdw0SwY9OuGOKA6y2a+EfGoVA5LI1aqllYav9i3ol9t27gPl1nHcAzxAAHSwAbyRhyB3AO0BmhA78GYTa0O+ET3aQyDr5NvucdmVXH8JNx2YfcceO7KtYzx149RAvD4AOwulU4P+XhOgAAAXoS1AD3GZgTxlfi8ZC7FHTg6Jr44xB+Okg-jjAVqGRDwBwFrDthi8FcchOuBcTMJsRnF23r8BEq7gRKsQESoDcTA+XMEDYEBP8KGTtUqE8yfxOsntmHJnUtyd5MzdSTCUIAA')">let THE_ASSERTIONS = null;

function fetch_assertions(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_assertions(pattern)
        : get_all_assertions;
}
function get_all_assertions() {
    return THE_ASSERTIONS;
}
function get_indexed_assertions(pattern) {
    return get_stream(index_key_of(pattern), "assertion-stream");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p38' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Get-stream</kbd></span>
	<span style="color:blue">The function <kbd>get_stream</kbd>
	</span>
      
      looks up a stream in the table and returns an empty stream if nothing is
      stored there.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (get-stream key1 key2)
  (let ((s (get key1 key2)))
    (if s s the-empty-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNA8QuFE3OIFCqGIfRcgUQh6GIOhKG4Gac14i8EjdUUQS0Cgsgmqaalmv1plKdaXMbFCxu26a9uk5pRTocgFDOxQdpmyh9pk-LCAYQxfAUFh8BOqijG+37G3wGQ0juh7Joul75roRarvdVIKmUNhyEq+hxse6HXqKUphp+ZHUfRuhMah3a5paOGcdWRGGHNagxDoe7ZtJp7Lv9PG1zptwGaZ57Weh2H4f9a7UjeNjUU6AXyep2JOZ+cXqElrasfJoXZbDWnUZ+4RyAYYgAA9CECHmMfOmXpNKRLiAYJqMe1lhdYYRcKHujbDGl57rDQnTpgdp3fuEXxPb29WEdFYx2hm5RIbZl7LZaLnI4LRwxuT6ObY+UbmcoD3za9sORdp9gPC8EP445xOfhL5Qy-z2bC4NUWGECz7mC0HPy413Sq8bVus47-n64phbu+bjRCBBblUS7hOJ7YYP8fXUb9DtxhDeN4hTZJ4fvcpxafeg2cQNBhhTo9tGxH1o2TcMZqu-VseWlIUzy4s6zbIclwvtm8gDY8ryS8OhaEKhFNeghCCT2Dsibgl8whFndMKN8qRjbUAUEragOYbZr1Xg4X8CpAoQKgc7UgaCMFYNtpcGeMDBCkDEGEGi+FCKIPbAwc65RKGDQxsifBDRzwmwyGVIBK814MEDtAvBh9fYrENloEQ+s4ZwXoJ3Qy0jExUKqi7CG7tcF0G9qotRtD6FSMMSsURC0lF8xZjw58hRCGilbqdUYNI2AVz7KURxVE2H0DkWCARrju6xGaJ2DUywmEngVCZYIuj342Tso5RqGjzCUF8CQABRCF6FViOcMBSS0SggYKfc++gN6GHVggmIhCbjYkvoCAAfL3YBY1L7q3mkbBhZwBrJl7t4kQGD6BS2HuU4i9jUiUFIPwVQi8RpaExn05WJDajUGnrHbGj9FLy2XrMxWCzKRtBTmCXejcm6NJXjs5wPxOgbVujQLBD995OlyVwlwS9Pr7IzkYSgChc7DPJK+UUxBJopLeVHVOnzvkTAqXY-iboQl+XCf8f5qRUYfDbtnfmHwIW8NDIQ4RsyqikFRQPQFGKvm529qPeFx4iIhnPASolZKz5UUZIZPFY16UgWJZ3TF5LOCUpDEiluMLGBOI5W3b5TL1yOihXxFaLgxU8slQWPy8ZqUypdMKnp6cwUGMqVvTl7cSWzQ9jysIfKqYquyeSHJXSWLH0KWDBw9NGZSluvdeBIzNXVP0AwepolIROp5i64QcJuBuq3o821blDDckYPgfgDBCZo2yu8LuFTBXapjl3JaFJirUjJS1IEmbM6GpznnVWXtLV6rlbTQFmhcTFvBeS3VpR0iZF1WsSBM1BgxqEIUhNSbiYewVaW0lWL9GmJiL2uNA6TBExTR7XVE5rYgpTlmk2Br0XGqbRMWxjE1XEWhTW0Ug6U2z3ccCUE+hT2xS+j9P62bDLNDbWweFnSsDgNeTXOuFaG4PIqeecRjJv1iPwEHLuflzx7kLdSWN-aQI3vvuIw8MRzyBrvsGmD9rT7od5lKaDKHloCTZfocRbS5HCAUTmSxndoMmMnehXDmHuBLoY0UUekaP15J6f3UdLMhn-s9TWldnipX6F1SR1uG9b7OHuRx8KUbzCvOdVYw5v6R5UwA3m06jISMqZzkqm20mt53zNupve-LCgqc+kDP6hn9D6eejZ+9KsyYF1zFRdWflCGnQU1x55PTENmbc3+0eFTrN3uBvZoLjBIsPqOSGEjMXDPX03tvOTVN6MPL83gNeLU5CKAgDAeASBUB9TQMSRTyRkVK2OmmoTAkbq8B+mQNNoAAA+7XFIR3GdUMQbXOvddSL9P6-Qd7mY611l8qQX1tZiIN6bYoPxqilLvBT4CjqbXs7vSIhQAqauHn58BopmBiAkJR4+Tadh9HuGIHNoznZLh5eEAAZC93o-Qe1kvCMJIElAbunaO9xm6EN6v7ePWM8gZ3agMEuwJ8E4bQH+e6XFkGYNw1g6PQJOY+gIy704+AldjmWYfFIXQMQbS0umb0RUwhl3wTE60twUnfXKcyfoJG47qRGeY9iA90753YdXvh4zpH4DGfOeBrz6t2PPu47rEMOXePzOTE59xiXp1Uvs-GyFl6tPNU44jMr3XqugcBZPXO5NM9nv64h7dwXl2eUWRLEIBDlvibwkm0N+3MPHdkosnmUhDpE3u5TZ7wb5xwHJdR02pahDDcK4Tw+b7pvOlR9D7FTXxn0s27-PHpXCvMIp4J8D5Fd1HZ62z9T2PCD+dQ4d1ep3ol-aV5viZ5wYvuMt8e67SQZATXfdr16jQgMXMOvBvdbgSewLF-W138vAcwPB1z8sfPIwjcK+e-yJ53SHHCrRYPEng+8+apO-X33jf-eiV41urSauAtSbbzn4-q+DcF+T987fVXabnIGTPz-tujWkO0OF2l+3yzu9AEsFyjYVeHe4QC2-oZ+IBQuc4Te4Iv+t0jYXKz0neAWGBPwm8bEKyNeJ+Na9qgQMgV2oAeI9+3S+BjYeyoKYIK+fOmq5BlQVBpIc+eBkB-SmBdMriZANymCacL+rBZBBSFBVBOgJe5uqQjaLBMuq0wBDeqBV+4IxauB3SK6ChBacebBV6Gh7yqc4IzOeh3BKOxhMcB+RqucJBsQr+Na0+setBLEI6t+O6+hThcupqrhbkG6NhZanhQ+NaReWKFhLEAKQKDaVhohWKIRQBaQGQ-+5KERbka06wm6h+zBehCRyhSRmQ8uH+5Kshu+w2XIZcihSh1WPuoBah4Bok36WhLEIG4iJB4Osu6+m+KeZuZRdMkCU8Z6VRdeyBfuDRDOAxyyYefh5g5iT+1ewxb+XRxRX+4udCWu7eRo7R4hnRgwG+KxX+DUeWrUhWHUJW3U5WOg3+J2Ey-2wcBs92p+w2ckHAQg+gDxoAGyoA-8v27IEy-wikxkL80SBsFkI2rxLyRsJgWgwgAQJgxAIhwgjQSOyOLEK6OCWibs-e3AZGgmHRbo9O7C8ia8phS6mJfehKOJS+Xmaepe3iUMHCOCMgjxduAuF+c4MgEBDJxJeSzRbkoi5JOizJgBBJkhHBnJ1BMx8qeSoG4GwpDWopqKUhEpXBtJAW5iii8gqmq8LJAk7BlBEpMhvRaJtwNsomBYcyviupipYI4I5pxAphKgPilaapfR9p+gp01pNRbJdRYIp0Fk9pfJ5g9pvSviHpVEXpH2yxWQnppRLE0cXwd85OVGNG-MYWCpLgEY-Kke3GYqcgoO6Z+JLgOO2ZqJQ0jgiZNsLA0Cvewye2WOboCEq8tZ2WnS54-2Rm0RKZWpOcjIL6JwZZ1wpptsveo+wMZSHmUqHqRZk4cEY5f0E558UprUEMkuC5zZEMzw9ZOxboOO+Z90y5+5NsxSR5W5DhDZmZCup5xpQ0BsFG3ZyiGKtmuolEL5oALA6wRmmmGZwIM0Yg-285uoP2IkHA5OAFa4SwoYpQTZ6Jo5qOi5nQZq75n5VGgSzQoF-5qggF8CAAPL+WBVhRBYEjEHjMCdOOCAACpySCRCC+BGLNbPQtQ0iTG1DNDgigAADUnxhiLO5OQoy+z58CXFjp7FXFrGhQvFYg-F4ZQFxFoAQJr8lF1FMgxA9k9FZa1IWIk81ArFoknF3Faikl0l8F4QwlFk+l4lsQRlMgwcRFcZbk70a5-0YmqOvySI3GC0sOck2IhZZi3G062Fr505fYD2s2JllleMcMXlRA4mk6CZ+ASZV8FiPZaZVMclRk1Iz5KkQIOO4VhiswcuRFllmsAVmEgle8EYdlVa-krYSCC02V7IN2dawKyVj5e06q7GZFgFsSv05QoAiOhGqqBEESfYdKvejIeZo5lmOKmqAVR5Tlw6veE6k681J5S1g1Vq8YM5nl6IPlFq764uQasWz59mrlk5bl6iAWO13lJS35IY4CAV8FQVOaKwoVyR2F6VJF+80V2IxV8ViVD52pHGS6zQqODVuV5V4lpQpEOOEFr5n1QSsGbxZVLmSFlViFe6qqAqdVcMDVHZ+sXZrVqmL10wUS04Z1VkdAvVIg-VEM6SouG1eEB6hkY1dNQIk1BZ+1IVs1saG590C1fNfIWW6Eq1VEi1m5jNNVm1O5LyUVu1t1i0OWsgeS+WbURWnUpWPUGA1xKCpC6Cty2CeSuiXhiRPpKBYINC4IqC+tIhQZLg1t5CNsaCk8thZ6PCeRxZ7+WQNifm54DtBtnCyYWGV6zo9OcwjpsQcwE4y1RQ9OHIEdMQHI0d9G9OCECds5pAydodhhx86dx8WdfshhTWmQjpxdbA-oMdhQ9OwUk85AvgjpNdqMdFBoldsQ9OZNCdZNfYrdMQ9ONw-2dMLAhgph-dqgg9LUKwPdl6c44IHF6dsQ7x3AvgP2DS-8XFzdU99O7k89MQi9oAy9fq-8XkG9Kdhhoa0we9B9AIq9oAkI+9MQm9hhwAO9BgoJ+9K93xoAYAJ92dM9AApC-ZfR-f-H-ffaAI-TPb9vPUA4fQ1cvafTPQAITCTQNv1X033INAjwO-22k4WANoPAOgB4UxDYOF0z04UAg70wPX2f0UMkMQO2l1L4NL2EMNL0MIOMOUPcBFDUM311JAjv0cMQiIMv2f2FA0MxCIOxAPHOhOh+162O2B23qCWAghjepzDcD+0iFKPNRyN5paMUKiL4AsAABW0JhaajI+yIfqqdCjBtjpzhNiU9RQBjhtzyHSRU7wJUdj2jLuxqjIl29OISjpISzjbG9OkAdAaoSs9d3DkT0TKSYTDGfdVAY9sAkACdo9DA6TSTk6KTA9AAounVkwU7k6YvTgAHLkAVMv1VMVMI3oR6NeM8A+MUJ+OcoqMAiWPYjCg0N7l7yuO9JZzGpNNUiDPtOGYWMrDeq9MNKOObgtNkIB3tMePi4DG4iDNMkOCwJ0LHyRnzy4jVBLYVCkALx9YMAmPkB5gxqkKaCxXQSDPO0cA5xu2SJLqXx7NHBFAHX+X8QfRE2dyRmyLdqA0qLQQTzdr6CbMylPUGVqLjPFSu4LVlOxAQsiBQutNuPJiFKmPmMsamIIteNItLnC0ND43NW4gAsukRQcACD41iBfAfkwGaltVlTARYigv8xOhHEq0nHtTFZdRlaYDf5vDjLkCmAMBRwfBVQ3CkBlyB7UBPgik1HpAtbTjOEKtPiTAhgFXRlFExloyKt-Cq76XggMCiX5pk5SU2WK56uavGvasrDNAauGtatpHmATQ3BvJaIwmfJWvBUy2CDKDKDNYZArxGCwLBsf0tRcUObBsNXgjsWlCJvyWiTmVcXivKAosGiJtmH+vLkOAuzGB+us5GITmXxLZFuFgRD-gzmSWmsQj6Wet6zGA+tSjeoVuFtozGA7P0JyjCXWDgjusqh0BVtMBkAKAOZ0KRll1Tt3Y6uiQvraTTDNyXaXyvYvbSTIIFFZARjrvwHtZRl7EK77ugCYOiTFDwgLu2uDDrsJuXtfGisUAStSuxSytlzruAmsLzxTEzx3tvaqIg73S6LYuwEYz7uBLJuNtcVduEo2wbSTs45wJzsmtiUTjsUWuo7j4Y5zFU6yantod9gYf6WwfGDjukCIde1zsXzTuoeqLwjLsnKkdjRiSgiOktJlCjvdvwcTuOsru0xNmfsBicdVsQhp3cCXZIfTvWi2j7vcDMfkc8QhjNySUocLvggADkFrtSwlWnynlrfW0l67w7In3HkrBYpAwcUclnM7M27190arN7+g1npD4ThhQgwgIlwQIldkTOok5oaYIlEyHA8IfHMkzHTnLnFVCuUX8nXHcHinsswS8XxbOOsX94WQ6XCnUXN55glz1zygtzIEmuxsHgJmJSRstn-R2l08smG8ssh07nkxtX9AjpuH2uFXhA2bNF2I+X6whX1AmgKWpXMcbgvbHs9XYXSkQHY09XC79Ol7zOJ1p8GOk3+nG8uXLgLnNmv8BsJCZXbgnXOagqP7LXJMk3MqdKMLWVQIIYWHK3oO7Xmx53lXG18jB3xglGcCjI3q23P8zAe3I3Jm43R3G1hCoiYNvxVtU4jHuMGdTnQPbgMOcCe8zhiPn3dMdCu6+nEPN3qkudC76PyPWPOP13LmCbfXNzg3xXVEsPJQ8PuPLmpLRQ3qlPA3Q3JX8go35bWPoPSXDPZPwMmjXPJmxPfbVKw1iKSCM3oPMqdOhhi3mVY+D3wHk3EvzCh6RGboG31qPzAWKSJAR3yrAnS4c3wnJZlX63XVG8sSn8CSYHmZqSDpy5orjFRvP5ooTZZvB0GXR3Vvr8NvokH88SkJeHHrzpxqKJh1GksUlA+AYiNsAwFQgw9XxvBvs3lXCbAXdUJnSf3MMfVUbRqfP5OOrv26avev2hw5LA1QbE5O4ZQeEEk5G4xvTZ9rHAr5G4JnNffSyZ7fY0Pfdfd2xvOOg-fWy5Y-ffAMk-w-P5EYM-E-tf5zRzR5DfRrHfK5B5xvVYng-f3A15rp8Zd5kLe-zfXAm-1bM5MF1fS-9fp-np+-S1m3tMge7vM5SBqhYIgf4Il79l5g6kzAWaIq1mSB8jycXampRkDwMB1AIgDgKQBzTgJcghAReJn014xBBUr-C7mgNzTNMZ+wGW-lfBX5TUjYj-TctVQvK0wQkpGAgQ0y+oOAIBTKUgNAI85wDOupAg8pZWaBIDg4M-ezAv0loIoWE27L3q9w6oUCmy3ApzpN24CSCsyr3AQczW5o1odesYXXhQMkH1dn+pOfoAoGq4gsKgTdLsGyAMF10YchgUkMb1naGAaCC7Ewb4DMHEgng+nJsrlRoLM9CgTwP1NoLuh6D5EdgrsOMh0FkRrB3XNjLEH8GUZzBqxYHLNDICvEKEEQowMYIIimDIhFgj3nZ0KIhDbBKQ+wWkKcFOt4erg7rp4JobVANo8Qm2IkIiGfRHBoQg0KUIaTeDdBmEGgocQeqBCfBMgVGF8isbbNqQkZboVQDkRtxAgd0P1kEJmb9CJgJnIYZQBGHNCJhd0KrmFU6FKdhOL6fTuULiH9AEhuQqUIZFyprCymjQxqD0IWFrClhLQ7omMJ4jtCPKx-eREKCGagh+Yp-XWBTFPJaZcBBA-Ab30IGMBV+p-A-hQPfAVAVsgwBfl8WBbot3hVAdgXyC-YcRrkDAfulxF4FOIF+3AD4QiL-721hhQhVEVQC4gcRsR8Ii-oMPGpQ8ZAdYWoOxXU40i9gdI9bu0ClikjWIVAcIAuyPLnl+OooV-hxC5HCcYRlGZ4ZSFeEsx2ROIikVsJQRLhBRoAN7CbznIfCGuk4eYYSLRFYUIwgo9wX2AjCqi9RoYZEZqOJFYUccuo4qr7BxyGirROkU8vz3BCMiOAnnLQX1lpY5RFhHxH8k2TfqnCX0eIlQH0Frh0xGA2fP9kj00jOBuA23dkdty+HERzwWooVC4jKgmikgRIziFhVjHkjwx0YuFmEP9Dxin+M5ZMf4gyiqRnRzIjYckX06JUPRsWS4WWK3iCJAxvAMjrX0NhQtORlg+Qr1nr4WjORgYzsXtyJCgxuxeuRMXmm6CMhBxL0bzE8UYE4hwgybS9qm26B+ZaWoACigAAkCmDAAAILgBwABTAAEoUVIAAAeQqbIAgQ-Zb-CpSzH580w98dMXQFxHG92xTtD8AbAnHXI1R6UBgCOOR6RjUQHsN8fz0AmdBGweYo0CZygmZBnxUYrYpGV3H7ijxJ488VeJvHwSBwwEr7qBNfEEikgkZQCYsJHEMAxxlBCCRZFgl0B3IzQqPrmVr5ISwJf4oQh+J-LNDbYPQ71AYg+HNZ6krGNQCYC8ChjWJsmASeZHVHXJcRRox8WoAklbE3xuIzjFuOC42xcgDgDaIyAAAMA5cBDUHsgtwMgifZrimiAmDB7spk7xNpO0BAgNJtk2IZnS4p4gFxNaRyVpOckmcV0RkxgevzGin9HJp3CydQF9Ct8lwP-R0k2WCnmTYoYUmTga0b7YRAxgQcNP5IdCpBqg2QUyTmn4Q2SQp8U00P1VUomSOA1XQYkVJSjkhwEgQm2PZE6Blxi+IYB7JgMz6GQrYw5Pyf3zYFxACpcUqqGFOIrNwRBXXDqfDzqkMAGpbAMuBby671DE6gQeqY1P1Z88n0LQI2G+goGTTppZcDSYGIqAkARAqQDGIH2BFLUKktUpaVNJWmX9aqrCTAdikQJ1VWRSUgKfNCekThCE4yZVIZEEHYCVggGP4UPyAmAipquI8gbKkSJUCWAtAuHjSMIh2jU2O0laRiOn6Y0tQWAf8P9MMgPYveQo6CKUBRkzSpBcoTrH8WIDLSSZWZKbn2GaAIzjA1VBiAxG+nXTdpR3Z-iKKAlgwpoPMP4Gv1HDnUKR3wqkHgKBC8CiBoOc6WQL+RIIpGYIz8FKH4EdVCEDgfipmPREEC+BNA-FoWLXAQyCxggjAWjBkq-hTEeASEJbNpR5oxZ75LWZLOA76yKR1VQhPLI7DLYvQ1A-4Z9UDB0B1ZWogWRBCRkNA0ZYmLEcHKKCnkO0G0ijIHI35OyQR2SNVK+EOndoTpJMJ2dLIPJbkLZVs16pqidG0jXR1qRQVDO16PDBg9-ToBDN1474WIasmyhrKwqEAFwd4BMTOR5HUii5dPOWKJCrGecWRHQLIC3M0akhuRveWUUuJbkEyZIXM54bzLvj8yR5PANuUtUnkCiLBC7OeTzISqLzHghAO8MvK+Ff0wAlsyEJPKbLTzFR72T3vKLHnCcG5uIAOTqLcF2idRpII0SsEflNyEer8wsdMAtEfyI5BoB0fp0LlMji5dc9IqkA0mfJb8VXM2n7lvwBlTJdtJ0hWXbGyZ9pI-KjvtOXKOS2i2CjITu1WkRg8Fao+nJ0Aam+Axk-xK9oUOcJkLcp9wgLAczphlSxoGkmMRZw2bET3xoAYsZuRFkCAUYY2DhYyDSmrl++WUkmPtMgx5pv55YllBOG-kBycxGopIJ-P9BvAUYmCs2BCQ4ULTpggig8u5IEiKKWxriBNv3J7lfVNhhQtlOZzIDBwCFS+caAYv2laL6xkgT0ZcIsWpjDiW4tCQwFPGWQAAMgU1vH9VkiBk3MpIEUkaTwJfCziTOS-GgyKgv4iCQu0An4SOFSSjRXon04IS+4pkj2MuWKV5LPBP5YJaEoiXgBcJIEXJYkvYkkTje3EtFoMAMRkTLhFEqiS0r0RaKc2GkhiWsPhBGjultwiEIrztKmSRltw0Ls-zYXNKVJwsriWsJ4lUA+J24DSX6lYxsK9YsCrhTJI4kUj5J8SsessuSUUjAxd8SaOVJc7OceFj2ApQiNGE6DIy3EuYVsumCdyGkhkdpV2j8H7DOlItFiXRI9jqLZJpypdKcKWWlLHlzi55VCodFZZ5qzQwMY4oeUudXl6K4RQIusZAh0ouOJ3gips4WRMVPCrJIGwVkQjnOPCL4rcpdpOLLOpKnoGiuOFftWgyIS0m73S7srbhw4mRRkodATiquqnOcWTMPb8iTZEqm5XH0CBKTGARzEcQ5kIkc5000vIVYbBFV0TPphoZpjOKBC9Ksw443VdVXPAhsX4TmOiW8ruiqM1EEynQTiFolqr6JjEyWqVGdX+dXVcynQaST7CCdXV3AU4ZarSkgQbV6KwjDjK2o5kAsHwYIGaRsnKqfxOU5sHirfGMgdF64avHItlmsIRxIqiCSTVQzTi-AjIY1biHHEQTzVeaUNU5kcnND7V0iR1eMO6AoKOAvqu6FSoaCeq211+WZYxPcExTTJwaj+nWtmgcLbVdw9XiNStRQLzAefRycEEVWqqC+6q4hbAt1UFj6ei60yaupfEc59OefOifuuQl6Jc+wgAiWupJhbriI8ahVTauTUZLT1qIQjFFDYBXqD17wRkMEowlniLx14+peSF-XHj-12EqJYGuvWjq-Uf0T9Weo6QUDwQGIIdofzci7rHgRC8kPesTXlSn1XY3NfqqpCwa8lP6vcSEvCWRK-INSijRBqXBHLThxGxJYRkIRIavAKG+dTUQpa9ITGRtUpCsPep8bZhcEVFG8B40ohOuAbaokewk34L9U3GqhBN3aSRk5BhADpLGr6JcbgoYm5MDJt7EkLBNqG2YsJoQwpBtNX-JTTgpGAGb1NLEAIlpoU26a5+CuazYORcA1AxAo0SjA8r42WaU+Sm5-qJvwDZTRNCmnFccL01caQtzyOZGZsgo+9+VOg-ToFuykBEotpgctHQFi0LSKVzi1eMZvk3ia0tvKLGWxgS3LDOMnqhnCIBEo5bLOjpZLeeu-xaagtJMezSiAnJlaeIEWrsm1p029bm0NY9tIUO2GnNdhVQ4Ffcz7C1boE+W-rdelM0Ka94nW-RLhAXof1mtKWuTf1o9jbaVtaiZbZGkq3edyVMyG2C5wbqmaWt3LQycQA82zI4EYWgVW0vWVfKR8BiX5SVtbCZCsg02-QO5s83Mrg4KPQZduG8Vx9Gxkyh0bYFW1w8wdviyHWvP-CARn0yRSCA0GW0KZKtvnGradsB2Ol-tWga7Q8JMD8AM+XXY3iRkD70tGWPwKlntGf5s8iu9mB7RfynW8RCEny3iW9tDAfbQwhsEnbMgAGu5gBY0K0VJz7YIiQdC9HMPvxXpIyyaHpXWYWMpp298RAgQPOklEpYykdRQcEIzup6GZQukHakO6J8UQ6nVUc0MCjsyDM8MdnSSrfro5608Tt+YUaHju4CO6aeUqblkmL-iJp2ITdRkAAE4TgUeAPXXSnVGAEB3GRuhHu4m1ZyaFMGnNgMFSrC9VScyXkIJcC-FdJxaooLHuDgacNOFkNAKXu7VFBo1oYAvU5w+AYyGgBeqdUBI2hXDghMMfqh5ElJMy1B4Q8PQ2nWUJ6I2NFPbgXsDFUK66tCi0rzATWPb3lxvTrZjv4AQgx9NCpgHQpd1bIztlK2BGwGoUT7qI3+dHoDrfCjt+Aq4MgL9DviJM8VrQRkH918C7d9u3PbsXB2P2lRTWRwBZXmo9Ln6EqMTM9qpDvigU78HVaveCE8heR0eAinhe6BP0CAAE29BENup70hQm6+gbLjwuc7HB90meiIAxFfA2q4+CfOmJeqlCtB09MQdDTbGXUnrj1rq2UlZzr1CCsEpAC-X-vPYaEmRs0T3ADOQO11g4YB8A15DomCASDogQQ55F8jYGNezM0ufXt70QhxDXkFzheFTEtRFDCB6qg3sWH-L1l3y7cLzukToHctwcoXUAJXitBJdBgGXY1A-qLRQhv2iwybvJwNjI9AY1PDGofH5ahAhgeyK1mqClQ8peaG-UCDv0P70ez+4tv4f4Dv7P9hGgQEeRgwOHmcpu8Ha4eSJ7o3qhRBI2qIRz4AaKWYvrByOYBSR-wyXMdg8tMM0BzDU+OXNkeDXWHhSNDOw8-xbWTtugbIboOkPJDngYMRK9o5mF8CqlQR7s8EZ7PgStpkiqbQwH5kP0PKNO4Y-QIWIAA6WATdYCsoyEGZAwQSdi+iXosM5Q0EYvaJGYMX7neJwWYxgfmOgTFjYQlY2saOkbH4+Wxijt2LnK8BVwe8HoE2XeOgAAAXgs1AArGigHSpgE8e2OK7963Af4wcZ0hHHwQJxhKmcc+0fovD7wXw9OHmPrHQTtscE2gwk7ucRKLAESsoBEqedJgGnJ0HgAuO5bMTDx7E88cnZ4np6tpcgISeJOknQucJ3yEAA')">function get_stream(key1, key2) {
    const s = get(key1, key2);
    return is_undefined(s) ? null : s;
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p39' class='permalink'></a><p>
      Rules are stored similarly, using the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the rule conclusion.  Rule conclusions are arbitrary patterns, however,
      so they differ from assertions in that they can contain variables.
      A pattern whose
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      can match rules whose conclusions start with a
      variable as well as rules whose conclusions have the same
      
	<span style="color:green"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      Thus, when fetching rules that might match a pattern whose
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      we fetch all rules whose conclusions start with a
      variable as well as those whose conclusions have the same
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      as the pattern.  For this purpose we store all rules whose conclusions
      start with a variable in a separate stream in our table, indexed by the
      
	<span style="color:green">symbol <kbd>?</kbd>.</span>
	<span style="color:blue">string <kbd>"?"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-RULES the-empty-stream)

(define (fetch-rules pattern frame)
  (if (use-index? pattern)
      (get-indexed-rules pattern)
      (get-all-rules)))

(define (get-all-rules) THE-RULES)

(define (get-indexed-rules pattern)
  (stream-append
   (get-stream (index-key-of pattern) 'rule-stream)
   (get-stream '? 'rule-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCyyiYRA4K0Ia2yEs1JjEKMesnkikWJtWbB1mwsu08jBtXykIvRIJl-Cqcr5-KVKvFkoRWrpvr6DsGRqWpvNIM+8dmC2Nyxdtszkh2gOBb0mcdmVl6lakDPKSlFDhJfJ5oDDfgAbkd8FqfZt-UEo5qgyG-pyW8XVVjPDjvNr85I9QaVDnU4ZBzHrT144xSPCVWqNTGfPOC-5ldJVcT5Yqz+QL23QJ3PN2TMfT5mJwfp1a548PQwvTxLdfX7Pp3jYYdfmvcNQAnddcV-eNF24Q0VxdcZSw6Td8wASEeHc9zGeDvGPPD302AQ7yMKiHyfF833Igs4MtDc5zIyR-0A3tTwIicQQ7LstTdX1qwrFFRNAWs8jYZQBFIRJuFiIVNntAZQHifFNNAUlmVZXhSRPTYFl0tlDNmHYNK00lWEYaRSAMxiFhsxszM2HYHBiC9Yj8UkAFVCDqQhKAAdxoOwHCcCoAFootgmNaWE0AJNUx0ZLoOTEnMKwsFA8LHDrGc8UJGE4U1JFzFA8IgkJPLIpcMqdMoFk2QSnK0SCAJqtsex8ucQqyWcuzWrwSE6zCORVHUfRYnlFsTkFbjUVFAcZSq2beSaQVEpSpM0LNNcRAWYZRlAHY6Cy6wwCktFJJieIoDgRBkHQLk0H5CEyjyQ1PHIVJHDGNpYl4agGEIYRFp20BDWGWJ3AcbhAeBs0wZEUAAB80dcw01A0QhtERkGUckDGsZUdwmu8EIEbiJHQfBkmkKGEYAZpwnwakBnfVQlN0IJ5HhAu66mV+iLpzohhqaBtnul6FFIb5umLpGz6KkNNxNHCNgmB+tRslIWJSABPR4U0ZTJEhw1KIvNQDZEAAyO2ziuPXbYJLTSGN9WlaFqGhn4WIJYVongITNS1f4DW1m1q8g8N7TCH9hhWqsH26EaWHKGnShcCYBOA8l2ng7l-pHRebgJ1judsp9krmGDOhyE0QgA7BvXcc0PwuF4WQqmcM3Q8dHWSVJevG+bunST8HGtE7zhu4YXvqDBFPRq+lRR6bluSUriGS6TdXNej3XY58jfx7B5PlcZH4x631R0-Jlmpf5-vIbLid3+VJ-C+EExl6vsaZ877iyYF3HuDdqAF2lrvRMTsLgTgrqzF+VcPrX0NBwYgnh+C9UgTbcGIcLYqAPlHIeLs46kn7CEXcGCsE4MILSdGmNGYm0PqQvBPlOwaBjEwGh2C6oMJJivFWNBeF0PvhnIi+t8EPDfs7D+civ5kL-v-H2oi6pMBAWAheEDCBKO4rI+Bii4JSL-t7VeqsVBYNhmwfgoC57gOcHo4ChCWEkKvOw7SVj3A2LsfPRe9CVHmKZP7bxtiBCOADn9OgTiZF73UskbID9M5MGzrnROfhP6RhMSgn2XifHkzYI0GJUgDGGAQYovBpjwQALXkwHak1BAMC3sU82cTw6Ry1mwqRPl6lqEaVvS+Pt6laP8S0geNBMmSNtv-GpFimAihknWI4Yzxm+1cZ09x3TtILN+s4bEIydECKYVzIhEdWGbINj5HZSzpx9NSAMwJwilqLL2dOeeMl1SpDGZDIedTlhkL8FyR519rmvPmWifY3ZW6VP0XE35shcAAtAFtcEPtQXUGxEcP6CcKDtgljC5xcLiR-MRR49IMyfbY0haDYg+KTGwtge085usPGkkYAcGlSdgVjVrqoalJA6UGy6AytSpC2X8tpZPUAeCuiCyCdKiVzA7lNLptEglUhYmwMmUo7leQVjSDUA0+5dMyHCsJVq52MrdUVB7ruZVW81VSLNZqtSxihXWqTE0lICp2VQtpaas2LjjpTNILK1F8rvrBjtW4Y10KnWBraUzUY5cKnxopRGsmao6grJccQjZLKtmki8DUOogz5XFuIHUJgBSikEuLhawxWTplmKeYaZIvAfqfMcXWkpib1lHxJKy9tnb+EeskkE3xDjcH0vNWpbVlSx3YM0JO7RzhHWu1naXBRKo3W-3Ta2lQnDuBd1fn2vNA7j1zx8nMS+sz6wcE4EwPk2cjDSN6KBE4Moy5yXLKsw0R6TiHW0je06rYmhKyiEEugt04gQBgPAJAqA0CvS5KgsaDA6KNKgfzTuhB2wJsZZYkW-1sN0wzEZIkf1sTi1IyjMyOxoaJ1o8IMyxkmp6XEY-DRglEkSJSTnPOgckFkdw-h+jay1F1mY+RrMuwnw8LeLQuqzHRMyZmAx9evdN4msrqxuTmKtPn23sJsGqnxOGnRQnb+0s9MYexJZ5ZJ9dh4bU98SN1jbEHMcbp30CxeVC1VCEnx4TE5ROkwxRimw8m2JreF5zYnfQab5RygV0nbPyd9Zy7IiqjUqrBtEyuZnEtrIrdmnzXwFh2enKVlT8XXNSCS70mNeXjPPzI+l7ETX+k6ZM3HUGCWvhJeHeQLtkDyuPAWMOopVXDhfKFiu0ZhW6sRffL81J4tolLoWzogrvWhCqfq4WXY0hPK1b8gFIKoVpWNDBvwTgoAYr6efI029PspvcFKH4JdzqpDIUthoWIuy8VMAC6UbCsxIZTaYN3cggPcXMFB0QL70hNBhqkJxb0f2VAE2NCDoJH2iDg5mKBHuIwuozaw-N2LYOVuRceFwVI7BQF4bvNQZprk6f0gnSFyJDhok0455zyQ33adC8ePN-rrOjME8IFUiHfb6k0dJ54FjBYFiK8EuCsGJrleq8zDsPaaxhIY6AvmDy7QZc+X8oFEKNAfakEaPYB7sUputXR9U3JxL1uCWiV3OgqnFqrJhOyJdBIAB8T3ZsSyXap2evAw3V3lVVrXLyMXWZw3VmBYciHSECDoabmGvkObebID5WGlv9fuPGSrhehPsF2WnrXmXW4V5c65dytfqb15uUwLFDgcXkDxXFyvLbr7J+b-6mVAeQ5Y9AUDB3yW-WCtDUT+XsDDeunEp6TH+oUKWKjbl5pVr+52jiRTubd5DX2pNVanwI+t8AW9CHd97VJKX+jQbbjz4iqgA5+fiW+qV+zWR+8ad+LmiUvQs+Gu3+H27+k0n+4sq+XwkMgBH+u44sEB6O2+pumYkM4+iq3AguvaQB3W+WAaYB+GmBHE4kHu8qa2OcRAZ85ogmP2vasCwe3ATA4e2k5IjBhmawNIfgLB+618dA6oLglAgQCmmCfCdYu2bWRckBu+VKKW-qlcJ+for+MqMoE+SqwBqq0mVBf6KgXqC+uhAaRBoAR0zMlhOw7aoMa44hKSUhkma6sBBq0apBg6aaoukWYhIQzh1CimshbhlhBYvK5htqh+Bhx+iEHE2BgebB2e0hSmUm42FWRIusrh1AnGmc0mh2DWoAwaiUVgieTyyeNWTmlei0oENaMopW1alAhShhKIoEX40GhI-hEhLhwRdC0SNav6oEfBDcTcawHRmRu4qSwxY85o7Rv6eBneNas8jOWskuMQ0u7RvhYu5E0xoxnQfgYR2xswleIh6G8mXWsarWP80+9aakvK0B3YhB74-+GEiY223me2B2o+ZxBmIx0uVRLmNRr+4sMoLxQCdMX+3Y7xY2nxdWiUZ8uRYsPG4JYMiJcW4sqm20cSGBtB5R8m2RuiAJ+Gi0CJacfGNGBJaJhWJ4LxlJmi9iq6MJChwgseNJ4B1SkGwi0G0QsGD0CGz0yGBQaGtS6geeRSnAp6hGjRmc+guiEpv+1eoA92mkhIopeI7ex2p2nAPk5MMpIQuwc8bwqQbALQbwDAg+awWwr28q-m+OPOcgfOfgSxmeBCRKusFCrMuOQsk8YR9pUSTpTRpw9+QiaC2OnpTOoOkpyR56pCuAVy4ZWs3pY682fpfOH2UZg8xKCKH2gKyZE61OGZwshq2ZcZyKeZwizO7YUuzSuAhZExJKOZGQpxeQ9xe8kJdejOb6SRmZ7pDxScfgIonZY6hofZ3AiBWejoTKbiusGJ2kfZZaTyfZWunZY5gkdZ2qiBzZFQNKmIDceMlZ1ZJq1RrpsCE4wZd6b+HhIOESEsx5txW6Fw55PsO5lAjA1aRS0Q6SLpssvQkMVsH2N5mJ4IoEHszAphCoaxbOdMMoxRwp0IsICON5vGj8-uj4PudZ-5ZJKFAk3+CeF5n5AciJ-ON5MsGqv5cSZcBFQk4aTyVF7ZxFicpFkg95NAE4VFW5NADODhB56xR+SSXoOFqF7gwYYFgJJ5oqoMmgHsyFmcwqKpGIkl0lT4XQrkCw-5-mSFWFslgl+2oAwlb5leGp3geM0lWlXoIgAAPApSZToKueZYLpVidhbqSAACpNTxKECNDBAo74AOrSpsgdrkCWnaSgAADUCpnO08eMeota-Fwq4VUqpIYVEVdOUVmgMVdldwgu7kTlF4rl7luADAwU3lmgvlqq-lvAgVwVSV4VhxvQaVGVZl8V2kPkyVdVUgDVuARSylKCF5JkvAiJ7ZMlngNxXO5ReG2sTU7Id54u8qXRw1qFPViRa+yRwaC1BRGR-Wk1dgTxYuL5e5y6kF0uJx7VZ0-FbshIZcTVG1vmcChgPV7VR281cEcVulE4PVv6VYJ4yE-WF1sExs4FPFUFih8Y5u1s-FVuhA5MxoRRicbu7oCRz+fYr+VFMoqB15TG9+uBcS81dFTVAFjFWx5EdFG2BNAccRMwEkyUZ+E1zI017JZR18pJ-FQ1ZlOFo1NYSetNU1x6YlJ4qc4hC1Oly1MwQazM61YRlW3NO1j1+1WgQNx1LmN13wZlf1V1r1dVCwBEZcylOFyt6m0qgtL1EiXQEYYwH1RhHo31u+v18loFc+3qCtW8GhxxuVw1kN0NoQgmzuN82mF8n1WBj+OB8YoEqNhI6NVFvNlBHOkMuNN5RFZNWoRN74JNPuidFNX1md3ZnF0t9N0d2UnJjI3Jd0cGj0iGL0GAcFSYMOcOFpeOwiMuBG0ZZy05JIn22kNdQOXKcqTynd8OLAQM3gW8ymYOIqD5ZSiiYOMyoEfdddQs4xpC84YqLwUqUgLwBY+2S9V4pIxYq9kgxYG9vhYqVse9t40gh9W97pQ8p9Q8F9UW290MzMUqj9J0Xwm9997paUHa-AjQUqX9WCXlb9R929YNe9YNmY79swYqMIHsve7gdAk8MDOgcD0GjwkDMwYqoVp9Ug3A2poAjQIg+IEe924VgD6DvQYqUU2DkguDfgBD3B92sUZDwD7pghmwtD+DhDxDoA5I+Dkg5DUgYqwA1DWQeD9DRDSpoAYAzDl9w8AApCIxw+I9w3I3w6AAI5IGKiqdg0o1w5I-JQQyw8PAAISaQ6NiN6P3amOEiGOyNkgWWKMWMMOgBWWSC2Mf3DwWX4jUO6PONeNuMaMTFkhh6ON0OWOgAR4BNGPBPeN+AzC+MSP3Zh6EicPROkjGMiOSO9ASOSDGNSASnzhggz0A5d312MhEUEgngcEvB+Cz3A7z1FOv51MI4TqUDuAABWRpHRVTCSpQ3Bx9JT8OUq2qU9gTMwzTZTchYIbUy0-ggzddlC+WMopCYqG+UqG+YzRxQTpIkAhApov0v9cTuz+zDumzRx0DggyDsAkAe9SDTA1zZz2xFzsDAAoqfXcy8482LmKgAHL8A-MiN-M-P62RaNOzMTOLN2pxWVOPAcH6gSOUW6UQvtRUJhrFOw6lOQv0UwubBwvcEjOvhzMYv92QthoXlQ4TOI6EDI6aBDx1lQ6sDJgcDSCeCNDy3tP8CdhiEaApC7WngTOw4dotYj2E7J2zBLp0umAzC4miH9ADVHXNJ1lcVM4KsmqWH2HsB8DzP1MTpNUHFi7IvLRUJEVfNSAauGCUutMdNdP6tC6Gt9Kokbamv70A3z4QUs68VkZKzeBBD220ttP7IevA1dQ7hshO0mrTOF1yEwb3TwZPRIaYBV1LTqD8BkBMAcpqB9QwjSDZqcLkAbgTlJgwxwwXgbnYL5sIRV4UbarvXlusQiAJVMA1XSrqBaAZVltcKVv1Y7AdsVuzhjqAwwh8ohbGltxaCsGtKwKpvEC+UjBYbZBfbEDEB6PQbhXcDTt-WkhJULBbugaJXJXTvOuPBbtTytt4x4U+xEDhKMBjt4w0uoVbZXvYKMDdA4QsUtvtzJWkhkjJWDu2KMAjvmgcGPuEDXu+AlV3BftCCkg93XxPsGrMB-QzRLp1kv1jAocng7vBoORuRrKkIoegAOxmR765zi0TgociAYx3UpoqgUegDWPAa0iYdZBlwEfyWkg3qqXJuOBpsZsFTZvZoYfxg7AkfDaja6IEdEcFiMb5wS4MmjIUcbU7s-vhXwdvlIeXAXDfbrso5-xtUFhJXNtmX8ZpKycTpeaQJ0e1UGchWqegfPuIcOAzTaraeKcNuC60g4eDaLBgdkjX00t+BqeOfSBKTdtrL-lCcUZBdkgn1+CkKse6dm06emy6VBeuBOdhfYxnvaCReyakgADkzboeCVhXJ4Z02XGVKHsHY0aXHK0gRSdX9D4lk5SaYwAcsM8MZcjXR78YYqIQbAiV7QiVQU9kp8VQjYiVue3gtIVbsm0XXX3Y9Xb1ii3XgX9nCH6XIXYX83zsq3cUKoe3tXi3BD3xeQHLXLxAPL6Bmu3cNQ2il6vAqH68lVI6UmJ6zHfXL3I2-CfgcnfiOiD3R7HB53wYl35AKQ7Z0OMQtKVQ97gPs3BtMnt5c89Wxk29N6U8LNqSgm8PZXBpvAp3FQjX98t2j6t3MPvuKPi0s+YnymJ6Ghodur51hIJ4xn2PTGf3U6ui9PmBxTd343Ws32MoHBxPacpPUP-PD7KOlPj3AdKBTPEim7J9zH-5360P2iUc32ul2q5PGvgv0vf8eP82qt7H19Kv6vAvve0vRvCvj8m7IP3L4P133+XnMwal54Mu5TbNlhwPnLoPV3kPuvsPEH8PYX-5xvENczkvmvBvJRCRs+OP9PiRPy6PUqbPAmmNKPv6JuyfZ+c8JRMrY0Du9ggPhb4XHv73E21HlfuHYND3kNNuV2FnrFju3dNFIK1AnZMvT30OFfKPzHZ5-fjwOVp2XcDfl2nF8nOiybqq1pTy9cjYfUpAlA1adcbAHAhgJ6ZfxfyPj3m7C-Q01XeQBggv43dkfUsWW-zXEyzsg5BhPPhfLZCF1arAMkeMq5nbJEaF3+GFHvebR43-F8EfwqDuBX+8tf-riG4CgD68eMdcs7GgFv9TYwAmgAgPAE8ZUBsA7foogwFID2+Y0HASwBcCR0IBX-dimX3rhygSB4HdisgINIrEP+fbcDrOTIHX8z6ikZ-jgIYEADECv3EioT3rAOsKAWGMfrdC-JEBPaWsThEwCSDsBvA0gfuGijsDTYqeSNBcMoUPTYJ4eItF-LMxwH1EwB+5RlpHREE0CY6faDfFAIMGmx2q2YKGpISZxSCZBbAOQfX1EHk1TqqIXgEUgIE0YcBGdQOlxFnz-kk+qg0WnEn-JtAvBmnTflnwHJKCaOYwengHXiJB1tB2dfHpbRoLkVYEkQ5QY934EftpoveSqtxQ4AANzQdAFsGUJ-pRw6AC0VgWh2yBApmO1QxoLUP5BIg8eqvS1ECjFa9AkQ3BHGEUPNYKZyha4KaP7EIhNCeuWzSQK0PaE5II02uFlvoGBzzC1wVQgCDUK1h1Ce+a1Soaj1ADrDVAHQsPh7yuq9DLCAwiRqwD+iUw1hWwtoYYGOF1CkQfQgsNcIjxDDJhcEIFL1VTgTDYgIOLBPrF6ZI5pUdZXACCMZyTRZA-sNuEULhbgi7gtAqEYIBhHfCZomIvYeLWxHMdg0ePW4Q4HuHMB1hfLL4FdUBFfNPhkkaEaDFhHTQERPw1NHCNC4cU6B3FPUE3mJAmoqBfgGxHHBYGtFX8egwkAQKMFIU+Rbg6itkOSIWC-BXHZVvdTra4h+RggXgYxQ1JyRsUTAGBgpB8HoCrBulAURqPJoFDtR-eXUYIAUhyQ1RgokimXzDpWRcAX8NYElWY6kgXRQIN0Xj0hTLJbRRw4wClTd7SiyKuHf9JoJ-TBingHIpnFyP9A8jW4AYk0dKMy4qB-yUYh2OXyogCjDhFoxQFaPki2UJwP6d4fGAnC5iyxvofMS4D1G2Vv0xgKsdsTLiVjHqkWdimF09GuiBuBQg6j6xyKYjcGv-KiHgxpHBp2RiQN4FWgCIH8pMs45wH4GJ4BjieQonQeiDrF-JxQKuGUDWMLEKQlx6on4Iv2oC2tZh8YFcXwPfYbjdcm7L0d4AG74ibCw-aVFoH7EuBBx14heGThmQ+tQALlAABIvMmAAAQXADgAXmAAJRcqQAAA8j82QCEhYK+FOQIkF7xn85Cr6bFKaJ7CsD6AzAV-lwEwn95DhVUQgQ+k17oS3CNYsLqRKODTh5xaIWgbRNGBoTbIGEusgBKAmgTwJUE2CfBKYkTQCJnACiWxKonojiJZfUiYOKElPpOQL6aiWN1EnUAoomIuftfFNCn8lJooIiYoGwl1lMRwIwQBwSIICjfK4eQ4pOMrS94XADE3RKZO8hnhSAWE1MWWMKpFjWJx47STWL0k-i5AMgEYMwDaBEA-oMoAAAzmALyZoYKHUgCnFDAq4nFgIYFfixSgpywmUFN0Cn2CQp4VLkFiVgQZTwUwUhwLQN5RRTuMn-CWFKIKm08Co5ANgMOLyoY82B1Ur7glLqlJcqBVSRmmNFkCCZypjAlQKwHGABT+4JOWKTVL6h1SYKRVGKd4DimvdJpSUxKPblkDMBgoRwbNFfxPAuIj0W-DnH5mf5lSqBrglqfFPUR1SbqSWYIUP0VL-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-+OFqG5Ar0lIK-kUltYDTMfYymrDCLia0ZbWBjSkEcZNPBh0w8QWr4I0Oq0IrZtxpbzcl0C1kKOqr4ope+JKUdjigrWmMYUuX7nbk1DcnCHhB2DBpSI9c2zVSIujhaRuUWsbTFqEIMAVNqQabUnmEkzsvkW0kWZxU7wiC-WmIYStOFVYowChDvMHhDxozzbQtvYWOosqaWrbqFayohq5C4BvBAgEsGyG4DBj5svkbYhLqjl0pUUIlNDdsL9y4aVy6+LO6MUcXOyN8aAckNCufUew1UgtT2mYKSFR0B9xYM3JTi+LxhvjpV6dDUq9tcihavt6q8XX70d7o7BIv2rsF5vG2gAJdTvdstM1AgwhH0-9H+jKAACc5gRLelAAYK6KN9u7+j6kWXEY9YQhb2Qn1xG-wRaOfZCDQHkqhTvZvQS3UUny75cfIaAGPZmoCFP4Oc4ep6WoH5kzBw90qlgH9CZFAjjEulGgLFCBSaz3cYe2SI7oMke7UK5unhKXp-rsijgCipReTqbi2r0t8y1gcZrV3Dx69P9RvbrueypBvNUqbvYotcC55qKF5IPioCmWsBOoHYBwOTAbinMrZ6IPYDKFF43Y3AZPC3rUoc4oRQOgQL9qYBm6JRkIeKaQAvoOb0crIDcYyvZG9lJ7SQMUWKJPtACNcoY++oIM7ioZmAudcwmvUUiO7PK9g2oJKIjQkjIQpVy-Vfr3nX7mhgD3svtbFPaDXr1246qVbFngNGFT98+18pfoY5spvR-tPGUcP-1kgn9j2WycEFgMQRyDMUBKKAZrVU1LVmwB-bQdihv7dc0GNg9-qMLp7BxHOAyfjrW2E6NtnOQAwirrkU6qE1OiWHsGwkXrOdtZbgvhh647aGuU8U7XdoV3ji5c7uBhXbjgIhA6AwUeGDPsCCfLZmq+wkOvvF6T6jACHPfZ1EP3H7l1QQKiuMTUPTKNDcus7doeZgU0xayadw4cNJBBR4kRYrQIGLcAGQcIBudbm+Wn1GsqdWGOQ9R2CMKHWdyh3qr+Og3gbT1SEn2G5NQlDLjljFMvnhLImETqJzHUiUJKjglGA1NEiaHROsXRIx0zE6cEMo4mASmAIGvIwJN3B1HkNFy4ZfpMWXmsVlXwJNYyLDUKh5JjRpnWLrzWqTnW0x+ERx0m5pqVjMySfQdvy6zjuAZ4gADpYB+1JQpnFAdwDtAZor2-BmE2tDvgo92kM-Qvrb67Gpl+x9CYcdmEnGzj4MrWJceuPUQLw+ADsLpVOD-lQToAAAF6EtQAJxmYCMMBMhcxydDPwLCYeOMQnjpIF46+Tb5kQ8Ahh0UCYYvD7HzjAJlflcZRNiM4u29fgIlXcCJViAiVAbiYHy5ggbA7xzJWSf+OuBKTQJmk9s3pM6kmTLJmbtiYShAA')">let THE_RULES = null;

function fetch_rules(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_rules(pattern)
        : get_all_rules();
}
function get_all_rules() {
    return THE_RULES;
}
function get_indexed_rules(pattern) {
    return stream_append(
              get_stream(index_key_of(pattern),
                         "rule-stream"),
              get_stream("?", "rule-stream"));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p40' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Add-rule-or-assertion!</kbd></span>
	<span style="color:blue">The function
	<kbd>add_rule_or_assertion</kbd></span>
      
      is used by
      
	<span style="color:green"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      to add assertions and rules to the data base.  Each item is stored in the
      index, if appropriate, and in a stream of all assertions or rules in
      the data base.
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-rule-or-assertion! assertion)
  (if (rule? assertion)
      (add-rule! assertion)
      (add-assertion! assertion)))

(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (let ((old-assertions THE-ASSERTIONS))
    (set! THE-ASSERTIONS
          (cons-stream assertion old-assertions))
          'ok))

(define (add-rule! rule)
  (store-rule-in-index rule)
  (let ((old-rules THE-RULES))
    (set! THE-RULES (cons-stream rule old-rules))
    'ok))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+zjwKMFbCNs0UzGVyj1eQsveipYvieM4+B6EBJqgLzkZOVwFp-yH7OlX6n1DeSfi-nzJnvW72vZXwOGyBAA-LpyVfTSAAO5KEFFIcIiwuQ-3MAALjYj3KeREv6zzwNQTQihKJoXOBBeQLxNCEHIKAPILRQBXHILgMA+BmBsFIG8IuUxQBg1APceQC0wZoA4RDf2A9TTB1UEaQULxLAaEYC0M2GY16W2tiI6gYjSYwKCP-Vo7ROgtEUYEeBhNGqCIcuxDssj5Hf2GuYf+Bi2FyPEfoDRQR4F+n4bo14+FDFWPzvbPGnwcE5FUOfc6RCg7rRmF4+QoBUQAJ9AAKmCRErSgQdJB2oAaQgllBGSB4C8VJL1V6BD8QKQgzhgmhOIXw0gAj5AG3SU4oiATerBJ4o0Sg+AWEhBUR0BIyJ8l1PPo0GSrS1EDEaIMUA8hpAXWyaUXJLiin2NKZkl4XFOngTPtyExUjJB9PaSfCxYjrGrNKMo4gbQ2ldBscNeBn9tktBWaUYYgRbnmChvQRQdxUmVLmaAeYNFr7jLMLkugizcHTJKWUip8z8I1KCUs6+1y0iNOac0Q5qjNn-IKVC-sPyggXUVr2CF2JcFPFOSY0E4JVAAVefgsEEJ3mfMWP2Aley9k4uDrUtF9SbnDNGSEyRjRJmXKBXQBx5TJD8DBUFAFyyBkmLhaoFpiLjndBcei7loAACQjQsXYjFai-FWA1UMsaMSiEhqQXCpeDS6+9L9UMoWdq5Z3I9VmCGSMsZyrhoaouaIloZrxwwp-PctI-rQCBp0nVOgoJyB0NUCwbpmc9ShIxCyBJSTNAskJX-XSWRk1prgXG9EYSWSRAuowIM2b02FueaWnNihmAQhYKyAAqsQA0xBqDALsOgzBuoAC0XanG4NieYQNMlQ3hroduXJHbULEDxTkIpHiZ1LG5Lk8hRTJ1YOncE1QibM3JK0rkghRCwlroJAurd5bi1aTniEUCqhJwv2RhAxK8lkqTlZL-bGV6pCRDaA6KFqhw33vilIUMkQYgdgA8UHwwIb3gdgrPR5P7JCpPFP+uDq9cmCKKbBgwkqcJAbHFS8phh-4snfaAeBgjtw6XIZFSwxIQVvPKVkyRfyinkIYxkpjvrX4IqOWo+4xHQAVGkORgUVHGZhDkcaU0zyqKREkN+x0qg-SyZjKvaVIRFO-twcpmTxa3Qxt+bQMIoBMNhK00hoVKGVP6ZjLhoIuTSA2EsLWGzJ7Qy5DYKiStQQaMefo4430emCRdv8ywAdaQD0guLMF8YoXwieeDGm41bnxgvB8aEgAfItZziRJCpbQmFtljqOUuo2MMO2C1JOWF2ovBT06tNPzPuh4zRDw3fSKQfGix8v72Y01+xF2nvHtcUMQJVGiMPlKKRZ5D+0Ru2F9Tk1rOXGAucVnfMLoSfOBD8wlgL5Sd45Hi3R8Li3zBRcC1fY7iXLXDWNVfdLhhUTZac6tvLG29vRt9U6zlq8Ks8N1EfT4jWAOrx47R0DBF2IQe3DkIhAAVAAEgAUUkAAQXAOAZHAAleHkAADyAA5ZAYThMDDnvgKwdD8uxeM6h8g30XjUI5IB6kQP6s-vp99XZ+yyFWA546a4BX6Bc9GzztI8CaMqE+rT+g-ddRS8qDTotBITKs6BEj1HGOse44J8T+X-IaNaaF7Lky82xtg8vLtk7MrBuWYNih83+gYsq7i2Fj9cPQCa8kNj+tAAZZHJOhNe3JzpSnEa3i1ZyGb2CjOmAs8t6xdnIPY9i40f-I3g3rhXxjwztPjRJf8+l1H6cPiDdiEVzMHPGXJEyW977gP4By92Ezz+7Pi9c-c8T9SML+Xi66G6KW63nnbeIdm6Lhbt2rVpBZFd93zuh-87C1u99h35DXeJFyEKeAkIMGoawdgcBEDIHQHwHgAP+TyBpRtDc29hnEFmJLB9NwpiNVvwYU5-9JiYJmOavspz4EiRpR39xdeck1kl0IGxqJFgrIMIxQJQpRSR1Qih7QH9QCJdgQKITwQDP9hlPkoI2E3x100xUDH8ADgQRxUwcDhp-4r9epKDrR39SD0DbFgR3o39kCvBcC6CzpaA6oppGw9ggJdAyCzkHZiQVIRICoNJ-8aC9RDRPgkJSUJD9IYIjJFATIQCp9p8ggPJ75H4tD79RCfxADgNmZjZZCfxaD8CqYLDbD4YlZ2Y+xmDyDA545LDGhrDepk5Q4mCjCWDNF542xHCqDOCP85CeCQZFwQjGCwiXCxDC5i5S5iDqCrDiEkifIeDCANokJh5j5DCRCF8dCdpbJzUTJB48jxhNCwjnd-CAiq1Vs5ESDgJG1m1W07AhQ9AlAHRQAe08CFgMoP0dJ65pAfJhAXhB4JFUh+sQQIgWB6o-pJAlDhBxs0gZIRiDZnRKB5jfpFDqpVBxjiFGAohZZB1SsQkZiyRWglj9iViY1eV-lpBD1+iaIci2404DiSAiidCTFHQFBDk6IH9wRaAYpttp9ciDIORjJPixttCfjhpJi4T4TGhciRDgSaw7g7iztwcIo-8XQrZwjVl-5cTxxJBHx-i7h8Snj6jWCNkuhcMfsys0hq0mjDiWRWiW020CBGZ9YMFeje0NiIt-s54SiJQyjb0nQ6BmDslzIi5lNjissXjsiFB5Twx-CIxNBbYL8xBIj2DBDahpTa9n9IF3hMjr8VS9TZiuhG4b8ajmCaSzAvDXiLS+DuoPoyTjNzCCw7T-DCUtFzSkDDk3T6CnjRtKI-pnD-DxN7ZIj7CTYpT-D1MmkZUpBMpNB9ZDYiYbZVjShek5V+lytzjxBkyBITRFZnYYpfZDMggZIsicjwQnYooXYa4tYnhCj7NGSuUJtlshZGzHhoCQkwk006yVTezyymzKyJY2y0D7N0gSzwpgi-8xzIp+zzUczhoZJlyUQBzZyzjnUuzVlaybDzD4ZVAfMFYYjTZszpzH9dzHVyteJ4lgZbISBqwuhVBECpiFxqQLJVBJBFSWQIlXzXQLQugYkXhPy3Eqt1pp1qBCECCDwYJVc5xJEZi4y+xqy-k6Yik4zLzqimwig7y1k0yMz0LfZK1-5hNK07F+9Dl7gYKxR4KsCqiDiGzxyt4WzTY6UwS0g6AGK4LFZmK6ceKfx510KLyKyVZsyBwOyizXU1khL8hUi5CAJFLIDsgMK014EycHyqoYz8CfDmjCiWsnxQA04ikfD9CfIQD7NckIUGAwk+K8hGLBLCCkKWK05fVclgL-R2kHLwlFYXz2QQLNl7LuNLwRylg04Ix-j6Q0TmAMTSVmVRkkTkTp8fLkwugEyRK0rzBCioLdRIi0oJzQiCK79jKjTWJ50SSvkzz9VIqtlojpD8ifT8royFpIiGDvSyrhC0CTKTNzUikGquqBzKjZwCiZyNhqx1Lf9xxdNfLRwhQMJIzzVmD7MZJzV2rCr8DFKjK+rJFpqlqoC-81KjqNKtCNEGq1LzUxqlLWq0DUr2zeId9qo98aFD9OAT9eBOFtSI4F5TTVAHR1dsxMhshch8ggbQBCV-4ei81XgF4Qk-ThlGiIQHRY4sgcg8hhknQ2EFAvVNh4ZKA-oWhYEhjGZ50lDIT1DhYXhorEzKrtpAEriASkIksrUqarANDaaH4hEoy5YA4pBmb6Rljgaq5n1GR8AHwPBrjWaW5uSBYQQ1DObhYDjRbHpQZJbQBDpm95b4wrLVbu8KZ1sNaXgXodbUSgSEqYp8A1bgYnpNaIYtr+RqrFy5rySV4Gajat0aqoEXh3avAdaQgfalg1zDaI4n12pVrgJg6957Zg6PS9BUxQ7Pas4VwiI1yCrL8yAg4zRohATZh0SYoKqPQNZ8InrKtdRlzmdpRi7vzFR2Jy6544Yc7PhnAxjDI8F6b1g667BjVq7O7G7cl3gJw9YDZ4qQTEgikdK54KaO7YCGwEyyjRbjUzqUqPlxwtSw8O6ZqTJ+7fhu7Y0Ow97zbt7xS961guYe6qk1Bj7HzGY-iB987C7UxV7F6VAEznATQJx9qS7tpdAoh3h57sgzY4achohAHPkFETF-5jVZ6OQgG17IHajP6Lp86HTRMwGAG3gEGzYAAeXSf+iB9+9Bx05GmtLdeHLIeQ4gQUI4qIJwFWPJJIygLoeBFkUAAAaihuRJA2iEaXTmslGUMC4eDGAk4e4fhN4aiH4dUCQZIdExZIhBZEoeoAIHkGAToYYb0AYH+WYdYbEa4ZyqkZkdfuEeAlZHEaMfCFAxkbkadvch3U0BmoHIQcNI2B0hEJkCyEslrtKB0icskkEbfqEYxSvrfkwiCfkbSFoIfy8fQTqrSubuoFzqHnHsSvyp4vgVXvjTCQ7FMZyrMXYiQZyqyZgpzhwdqN7DsY0UDTnJYREJycxBHvTLHstontlGHJRtcZaOIEyFaCEw5AiyCE7NCfMFyX7qKSrrnqesPMvACYOO3tfoWZZ1SqtX7oHN3o7uK2GYfKvs8YSR8cmr0t4V8ucb-1Xu9WkDcbiXvtiYOdvR-pRIkzKdfsua-JMXB2EwqZ8xidmDicshEqSZSafqttTAyatSycEcabycibBP-g1Q7EgcuaicCPma4kidFTUGqcGQkdhWTIabhuHt1haZBfafTE6fIYuZ6b6cOQGZJH5OKQWrmiIpGfkqW1MombCSmfgZmY+bmbKfWaWb3tWf1XWbPq2bO3vLuV-qBH2e8YedvOeqoVeqYAPygCPy4FPwwF+uBC2J2KJr2IFhhKf3w0jnFsxJIFZD1YWM5Dlutd2IUziByEDGIJWPdlTvKbuPHWW3tYNZuIFn8oAkUQAhZCVFEfMCVD2W+N0MAS7HDbMC7CjaRJDcNXjdAENSTeDcAXzDTfzEzdKBDfCdEfCeGmjcCBDZHUPEFFEcrbAVLeTcAUUfjcUdWTLfMBDf1HeHy2cDoGDE7cj3AgYEaDbbMBDY4bTfMEBpeEFCe2yx6K4dodABHYCq3S7QnbMCndABncVJ6N7UXeXZDfAtKE3e3ee1AB6IiS3bMAPcAWAHXZYTRq3dnfPdADAH3YbZ9AAFJ72T3n2ejP2r2l2P27gWQ80J3f2d3GmZ3gOt0ABCdEcDx909ud0AeDsJaDrNn0XBn9pDv90AfBswDDgtwBXB1EddiDs9no0jwjm9n0TLHD6dvD7LGjmDlkTLMjl4IICjlD9jljzDkD2D+9l9wIM9swWD8wIGxRJdH1uYm1-1vW1+rbRoX8pUfBWTh13faT0y31xY3I6gZwAAK1xoco0V-OEEVJTfU4NdEYCixJFbMB08NfjFliwH3Ss8WL8TyFNiKQAhDbpJaFEf8+XdyvbcAUgGIDaTkGrc4-C8i-1mC5C5XZZH7ckFgEgHjZS7S4S5C47dgkj2RzTZS+R2y9ypDcJyUEJ3vfK8JxReny05M0c4TvSlrEU+82U7lKaTPaPtqMa88+0fq7a3c8+D68VjKKU9KDM8VNs7pXTaG6a+fC4tD0Zg2NmO2Lk+WMtbofzFFpW-kxUUYFGNA0kAM6UHmD4oiHTISYZUa+2JLmbNda+Ps6CEHm276CCDvvtixQgLSZilFofoBJ+9TErXrgH3-Tm9yNedxZ+N69ay853pK8CBB7osa708M+M5eBytm7W4dZG42YR-MCJZItaYLtBYDt4k9yJaiCDk-pmEB70Bwq2Ccbp7uG5EoV1tV1VbYHVc+u4EwB1fJOUAoEkFhjCCon1EYFDlAkoDRTDuBEcBcDcACil9ZXqMKcQSIiqaPGl9wQHHEZZEkHYa4eMfwB8iV615V40XgTN7Ah17luqH1AJkhLxptFA3ebw2pCUFICcxYCtg2nuAmK9+fYYC4eUy98aZZHYZI3YbYYsa4c99IHx5-Aj9pjDE3sZhIAMguhd7tDoYTIqIz6PAul+BVRlY6OseiD163XEft5Eguid-fN-Pz+IEz87smPRREf0BZB1oL+Fk8UUBYFVNFvCcH-T2AmE1TQLwdmSkHlhBhFORTMlC9nKZn8gwQTTrUBX9Q4TXfVV5YQ7Bn-D-fWhsWloHCE98VhF5PXF9Dhn6RoX5GJtJPAP7hGzSAKWFRLEhkJX-QZIyr64Z79QZTAB++-Y4uUWOK69DGeydhobwFCCN4CdkaUB-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-o-LIGPfI-7qySIekHfDkSRyn+8Yn0R8UgNEVpUB+o-frBP3AQz9c0CRTntL0+Rr9N+gUrLmITgHSExBntG-tZaBo7FaQK-ZQd7RmDNgZshgIwbXZESE9y+OddpLx0baCdIlL-Z4Ku7IkydegCnT4LenpYWdBAZ9o-lc17bJDfs6INmst1KyUp0rLVWIGXJ5A6AwCNwBPsIS+JlsC+sJEvpX2oj19WfQw0QhEY77tm4zDuv5UUOXQQwYux7fRnUMjz8MXzfuhZv+FshVGX00DAjNghKBU0KqIIZEL72VaxDVADaK4bTF+Hai9O2Q4qXkOTDoDrcuA1rOFyZCm1eR9-aQyyMFHZcYwrI7kbKM60KjsubWVHPPjVZpMruNCPJkax5HbKy2bIGuuaP0Aik3ubXDjjxxE4m8Gwfo5jkGN64g8KWWXI9kVJdH4DVRPadSBsEJxqj8YptV-FXiNHW5rRwbBfK8qdHpAMBjvH0ZRw+5-cgeezPXguNTHmBD2TSXMaOMl5TisaFY5qpwBj6B10gtzKoDqUAAdLAAUYXW+iliciAftLq3aMd0U+qEPcBHQPJNbWAwT48Ie+PBZfjDsgE0CZOUgn8AYJ1DCSkIBmpaivNY1ISdAAAAvGbqAABPPdgTIB3EzgNSO81KT0J6fLCZAjT6ETWkPVCMDYoay9Dbgb43Sb9EMmB+SHLgYAnCOxxrBpAawQF37DSDuQeAZE5VqFPYn6TeJ8U0lylPARnAMpuU1vnZPlggAA')">function add_rule_or_assertion(assertion) {
    return is_rule(assertion) 
        ? add_rule(assertion)
        : add_assertion(assertion);
}
function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    const old_assertions = THE_ASSERTIONS;
    THE_ASSERTIONS = pair(assertion, () => old_assertions);
    return "ok";
}
function add_rule(rule) {
    store_rule_in_index(rule);
    const old_rules = THE_RULES;
    THE_RULES = pair(rule, () => old_rules);
    return "ok";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p41' class='permalink'></a><p>  
      To actually store an assertion or a rule, we check to see if it can be
      indexed.  If so, we store it in the appropriate stream.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (store-assertion-in-index assertion)
  (if (indexable? assertion)
      (let ((key (index-key-of assertion)))
        (let ((current-assertion-stream
          (get-stream key 'assertion-stream)))
      (put key
           'assertion-stream
           (cons-stream assertion
                        current-assertion-stream))))))

(define (store-rule-in-index rule)
  (let ((pattern (conclusion rule)))
    (if (indexable? pattern)
        (let ((key (index-key-of pattern)))
          (let ((current-rule-stream
            (get-stream key 'rule-stream)))
        (put key
             'rule-stream
             (cons-stream rule
                          current-rule-stream)))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNBiQuFE3NFEEtAoLJcgUQh6GIOhKF4mJAvdVJ0gUFgyH0CappqWbwlAAAfPbFNFD5SGqMQNsULaZrmmIDqO1IWDkjghAuybpp2-bDpfZaMnGy73pu2I7u+sUPzVKVNoBp1zia8wRpcxsUOIV6ro+iJCgC-i3Uh7bKHCgbkyW+4xAkYQGFnMEPgUSgdj6Yn5ovBI3VFBCjEoanwgAMk53p+kGKmbuEoFKDp5gxHxrBYeSZbyAUZGceuhnFtFMXSfJ0EUYBiy6Fl4hCphy4WMMXxVvwRt8BkNJdc13Glaxlw5n0CMFZ26GCZYxLiAYc1qDEOg5dmtnTroMRuGIAAPQhAjcZw7aZtENfBH2-YDrTuBOs6w8j6PDFj-GpaJ5P-eum3FaLBb7aJ1XanVucXZp0Si9T-XJcNtym+uhhjdNv63tt8vGYEx2I2HutS9d-kDcG8wO9mhgkYYCOo+IGP6HHm7iMW0fbWd-7bcn92htSCplDYchKrXgW44ElXyBJmuKbZ6mLJLIQQJPs+L7oeFPvu4m1cfgLCyeZToOgYB-c+2Vv7hDulPQmECv5dxNo9MC7MN7LC3nzJ2Y9t6oI5pMN2BcEFQPnlRRe2cV650vmg+amCRgRkwjQg+rdp7S3JrLFgwhyDkOXqvOgT90GxGVqkauZNAFoIsmfVaXCeE52cC3AuUjOHcMXBQOWo1DACNoZXG42Ju4oIYBbK2ctuC4K0QfRRHCZGPWEL4LR5c6GDAYWPK+zCC6ikCl3ZgWhU72L-MI-+D8NZANEp4j4VBiDN0IW3cwnil5yOoRzBxlczGuIlu41Ibw2Kok6H4zG8cq53wAcEiRoksnUByY2eJlD5EwK+v6W+98xElOfmU+g2TnA-HCT466CiYkuHKZUhgy82Lci0HkoRlcKYMECDIAR3A8TRNYSodpFTOmNkpG0Asgcr7JIKdM2Z8zQCknzv0lZIg1n0B+J0UaOsaA5mRrs-xUzQQzMqEcnQbsWGE2OlsmayhHk0L2TfERRSglzhCeCYw7R-l6yWYTT2Xc-mOEBdTMIwK3SPyhcigF4J05oLCKc5Z0LtkAq8RE1OminmxAwSkrBjD8FEsJlUUgHxyU9J2QS7RBTHYC0JWcb5LFo4gW6ZE66VKuUYpcAyyg-K4EsVFJEzQuISWwoEei55BTRTpEyOq+FCrUhnzZaK3xfLuUgrSL9bBD4uVfIyQwdgHgvATMmVq0FTTa6U1KeCR1ygvB9OWb6rwDr8C2JdRXHl9KXFMPSWc0UGhCAgjGc4cNATRGeqOUnQgibqDJvoAG5l-TZE1MSYIiNQ8o02sZQKgu58xDFr4RKpJmqK30LHjKghsblmihAfoJe19mbuuKXOJeFligt0FUfBg1QKjhwdPoDiA62EZxDkMLBi66lE17Y7DdXafkfnDgwIkFsF1UAZuebojId1nr8gE3t3RwilHBOO0AzRuh7pYulLxgRZY4jZN0UkA9zwtSBOlP9mZfAnPyRazs-NH2gB1WwV91IP1TtIBkQFFKy6b0ro04dXqsOzQsuhjgBaWJvFPrwKh-CSOFhw5GtttpaMWLObRkNYbmMDwCYh61WQIzMcmCGUoWLOj2XIL4ER6G4UhmaGY-jGHO0CoalLFqchFAQBgPAJAqA0C9TxIfcwxAUIRPXmHOgOZzWDvVqNXJ9c-TTGExUhGpD1zyz3oraSzRtXWzs9JYTckJJIJ7i5gsRhkFm0MZbHWct17WDMxZzzRNiGoli35loa5wEmE-lA0zLRzP2aMoXGOKcS6+f9KUIz1zivF0DvXeLBWlKikGes1L5X0s-Ga1c3uqMG4zQS-6LzhqrHcOqXw1rBpSiIqljOYbwzIHqLIJouzaEdLTCUdY0Ndjlt5f6waQbSKYUovGwGdrjZVVHfO2Sk14rYv1cS6KINx2HOnYdVyZ1dWdsNdWETMJ3ixW1fcztNLlXGy-cI2CD7fWvuxH2wmpNOWysTcENmtgdiQcdHGVLBt1HbufZW9BaZRikaaLrdj5quOofQ7DC0UgplctWRsnZRy1JfCzXIOHDyXl0cRInbWlHdjkTcDrRq5Yr4WanQUGsh5DBpvIl-AqRacPcRR2oJL+5XtZcOCF6QMQ-LYj4UIu6YUb5Mn-XKDL-p+g5cMxiOeaOGQyrc8x0WmxAuHBxcMqtiOWgRCL3M3BegvjPercTEW1RusNFW-d-jkPoZhcx9jwaLHfWA81bBNbw8hQAmeKRqMGkbA5qe9KDnshbwfdgntwXqn33YM0QNyeBUJlghR7oBZaytkHIuALpQXwJBOfI8Tb4Qq+ulOKNeUTqimil6GHqwPQebpdH6DrYCAAfKdjHyM631azoQOVBmXAg4YJ1nW3Wtafa47hyT-BVBo+M+M4-PwRm5pM9tynikKt37cxcoZmzDsQ8B3NHdqGMZJ-hdN-ust7AXmQHctQA8hTvlqhoZhlpdqirKrPsRGLqkEqj3gdqSqgRMHPq6gJLXuSPXv8Jgewsan9qaraoQS6JXE7sjCylQeDnqpwFDn5GQXQeclSMwSKmgiFvFKAIZIwVbnBCwRyl6minFhwSGBQSXq5mIayvwdTIIfLn2ItHwV4qoUjH5PGMeERIZItIfigfoMHhXBIf9rKmwbIbGKQaPmcoTpbA4EXFKNFivEuoJBoPoAwKvqJJCC4dVrUHCNwO4XvpOuYIYNyIwPgPwJlqfJAqiEtgAQzBQaYXZjbrEMBgSoyCgeylYckX3IrHoUQVZtgSqjivgdXkUKUIhuYWsNmjNPzNEYYnEcluTloddpytIR7onrEFEUIK0e-FlokeTuYROIiqYcKvkZSnqopvoQRA3isAEu0WvIjm1o-KsYwPombLFtUchohpwQ4csofo9pDvlkBsVKAK7oyEGuxltikX5OeHuCBtSC0bEcMQkV-Joq7pnjwQIIEbnH7LUK8U4aDK4YMC8X8cYaAa7lnD7mTCnvIGnjOA2DPuMX0dMICb7OqDPsIZiX0ZTogQfhlmDpIbllDhfgUoigoaFuYaIXEhQmNq-vlnamcofrPP-kUURufsROeEjIyKIZyYIWTmsSkfVn5EXEFgYrnsKTsafrbJRK5hKdBm6LoccYTIflsRSRccRFKfKYIfoFsdKbsctiGKIcaQvKNjjiyRZgnjELIRFHgCpq1Oph1Fpt1LppYPvlXOhiLHYuHJ4Q9k9P0PwoGfiW1hzkLOyFJhGXtjTnTuHBZI9GbKGS0JHCYFoMIAECYMQLAbUI0LzmclNpbuHgtqytwHCbyaqQnHOOCJDOblLHiuMWWZIItpWZtiqfKlOg2b7rLkGUOuCuni-Gbn2f0mRm5Fjq2ZHjIJ4Qcu8jIAsvqpOS7ptlbnOa8ocouccsueYMnv7sib4rOVSQJPOXMtuZ8sSV4XcLSV-uXhuXWbeXiucveUygam8vHIaUjAOYEs0nOEjMRvbIIRObEkBQvGXiXN+SeW6GYt+WyScY4F8LnCHH7jmKnr4pSfRgJBGI6REV3uISBHINbJhTWbzCMLhQXP8khV7CwALmolwLyRjFnpXKzERSYp9vjOeCLF7OUahehddIyIcT6VNvRWFj3HicTp4azPKRJZPruV3vRSabqFbvRc8ExaUQ7FgmxdRDWmctpYIZotpWpTSsxQUhGEZVed7k0XxYeSXDJUqXiSwOsDxbqaRRwCHCLGJSguitGe5WIJ5WuEsKGKUKzCJdbPZbmJ0GEJWc5ahdUc0H5Z5TJeEAADzAgzT+WqD6CBX7G6QJnN7ggAAqckXhdAvgggOuvAlK1IWIOaBZokoAAA1HGatiumIEKHYslU1aJBZN1RiYUG1R1dlVFYJhOMZLTgVcVfgI1MQPZBVWIFVeKjVSjtQPVeCH1YnoNTIJ1eFrqOEM1c+etc1f1f0ZQMHO1dtcNXtfBYTPlIQEpYafKegeSJReZuTHJNiCRSsAXAMfwhFTldwaZRajxslSdRVm9eiNiCdYUFRfgMhfWkiYHiXG-iHs0PKSpECLyrtUFbHrMFgjldDchr9bxl5WbNFfeFkDlX8fGHIcbn1hjeyHTLxYjWnpkQ0E3tOE9aJNZI9OUAhrrMPkeIsYYX2OeNpYyFodpX2ggUYZXMTfpTJSpbrL0ZifpcTkrXLM+PRPYUDW6H1u9UQNLRZlefqbtY9btUqc9UiOyRDR9UbWzY1GcsTf9SNYDRpUTCDdjblbEODTmAbVDbHrDfDTZUjYHCjdBGjbtQzVjeJd7SUP2CBI7IFUqXHTDm8S9JhF7daLaFTSUXhC1YKHTeZgzdxYvJNDgSzanA7TDRNZzRbdzXQLzSIPzXLP3pyYLfRAYW7bblceLUCJLaJbYaGItPLYpYrUZfaTpGrZPhrY6Hnf5DTbrQfrbYbbhcpv0qpm1Bpp1Npj1BgD6eLqrlLhrpbnLlKoUh6o-ILqJCrmrvmSBS4LfcfdOpNBwKnDlmfS2jBZWlkNbhLOeE-erhbqwqCRrM6FinMM+bEHMBOCrUUFihyFAzEByLA-aVighEg5OHBKg+A4nBTJgxTDg2tonNqr9M+aQ5kP6HA4UFisFImuJs+XQ2fOVQaNQ7EFihzUgxzX2GwzEFijcCLN7CwIYHigI6oEIy1CsLw8CInI1Zg7EPoEmaAL4OEACGvhzs1Sw9I1iu5PIzEIo9wCo34Rzl5Fo2g4nCEdMAY8o6o+o6AJCMozENo4nMAHowYEo0Y2o6ABzmAGY7g3WQAKRuPWOeN2MBOOOgDON1lCzyMhO2PeMM0qPmN1kACEwksTHj8THOaTQIST-jYI4IKVwTmTxjoAaVMQeTxDdZKVAIejcTpTNTFTUTBTK+xThjWToAa+TTyTLTtT3ARQ9TXjHOK+QINjPTEIKTbjCThQXjMQKTsQgZzoToADEuz9WOMlgIIYi+cw3AgD+ZwDyY-KKzR9QDWO+ALAAAVpmSBls94ciH4eg6s+rs+WYhnpPYUHs9Lipk6EVO8CVE8-s6-LNKA3OFirBs+bBtIwSXw4nJAHQGqBUkPv03Cwiz3lC9C-w1QOI7AJAEg2IwwDi+iwSZi4IwAKKYP4uktEuYlYoABy5AtLbj9LtLqd6EyzVxnzXsQLIq2NmzKwi+woXjjss5uzAL0u3LRzHLYrXLxUb8BlfL0wArfhrzm4PA0rR+srwLPzfOg+wy6rmure81FMnhSu06jA4opAqOZ0DAFz5AeYURp0mgZh6EnLL9iaVhH90e4xdaxrRwRQGpRs-E91ldJcnhVlvuIbgc5hCaTRC6+rRaEVhNarJzgLmrPLsd7zDQMbIgcbKbXzRa5zVzpgeJSbrr3LBl1LhQpdzNB5odc0EsHAAgpdYgXwTlVStbaeuRQbIdKJPzzpG9rp7UmmXUOmmAPpZeFApgDAMKHwVUNwpAzqIC1AT40FbCK0a004sF58y7fwBCQmZFTi7aY8S7T4coB1DAR11IZ1Z0Q1W7oCu7o10wsmP9w1972Eb5bkE0NwSK4eWZQcZ0IuS9ggygygVVGQJmRgQuIH8TLUzVS+IHDN4I61T661zQh13V5A0HmbfYSH+K51e+BcDgqixg-7Ic2uuu5HoMxHdG-4pFbV3V4IEI3VX73Cxgv7Uoi+pORH58xg5HBBB11g4IH75g3HrKXso0CgS+OuP5PGda0OT6iG2kT7RMj8cnoA3M0kJulquqEYcnm6ZienoAOTok468nBgjsan0Zz6SnSOE7mHIEM7sU87zqcnikzQWncOz+KWanGnE43mMWyeTJOOen1RT6THzVonxgTAZAknFnOuJO0nZ7BdKw61l7BpRi7hLeyYop-Chnx1E4qX3VkX4nMXa6jGWQwuUnYgBC+1nu8INnKwzQxXeUoIz5W+ZQdA1H0XpAPE0O+2rMrnJ2zX4IGD3Aj8cX1X2dFXiX3AxX3XPEMmRMbVVXZn4IAA5Je8vgdRt4t1tXYnJ8JyqJ1zx17DCqQHYmd0Y1hVZjxnLKtOtI7Jd5W9uCJiIIdcEIdXZGnI3G4GmIdbRvCI+zJM149wWOd3FhTfoE97N8d2J-N31x19R2V4MND5D6j3N091eba-a8oI6yBAvFHB4JQn2pHD+Z53mvwv2vuyJitRT8+YF7wjjv2th4UIvtj+sLj9QJoCKYTwCm4HxyT4QHu41x7cRaT9T4nOOunGbRl2L0Lwj0vFeZd0gmzoerz8T-2gPBQeTzlv2pkWLQm1HUCCGOl1FtbAzwkpT6T9Tf8Wq0T792TMLoyIvsr8bKr3q-b3iZV3ryUZoYbz3Ihxg-u6zDuvIHz8YI7-FxD2Yurw797FH0D0pOs0b6pPg8H2H5QjXMLot8nwH1Z+zw61z-j1RA1-Haxf7ygiz7EGz3axz3jzzxn-z-NVPtbwj+X6wkpaK571n1H5wV3RQZl3r4QYtFilLyzsFrLzFj76QV3cROWnrZHEcRFN3r3sjJr9d2wqzFTydo7Nv8pxzYL23ozp3umYz25D3iQA-S+Tduv6RSzEuHvzJDheLyLwf6Og3R3sztaZ+-QOXiIzdSxHNBpgqolAfAA6i9gDAKggwW-kBwv5r9SeiHIAXVEO6CBhAjvX7ppCqiu5BenhR2BBWBY4CABbkRFCwBnRnRX2O7DgEqQ3CrssG04E9hBEiquZ5K1xMgShQYGPBSBFyEOLgKwRcC2IPAlAfwOta55hBPA2gRGDEHVchBbA+tNUBlyiUOBDFIyrQKrCeAlB3ACyrpROLhwESFA0cEwILCaDVKtA0KrcBoqyD9BjA78sYOVpXl1IzAWaMu3GTv9tKMPJumTBAQMB1AIgDgKQAZgFxcghANHAgLn6xAKCvaIfmEIaDngpBtxWQWawUFy9bBmteekB3fAVBwYgwKQayxiCBhG6sRX3F4J8HCA-Bh-VqMrROrNAghdiKQYaRyE2986wtI3O2DmxwRCB3defI-SXA1DkehA7gL0Of7y9GhjEWfrLQKSK8QwDEBiItF6H9oryJ0foAoG9iNFfcFQZhl2DZDrDxMNcQwIBg34e0rUhgRZPu22G+BdhxIJ4ItxD5YJjhz3fRjBzOpLCVhJANYQRB2H8wnhssMiHcKr7QsigZwi4Sxm7SzQyAz0aXICP5hbD3h5wsmHsJk5HCThJ2SEV3EuFt8lwvKRZH8IMDxNqgo0cEV7EhFGkYRFwp4NiP9BPA-Ciw74ZhEWRuInaXw5YTIDPjsw7mWuakJ4WZFUAfc36JYUHGeECt2REwFAVyMoA8jqRknCUQiN1RSj92dREXniLBH9AIRJIwYIZF5SMjK2lIrxqKPFGMj+RNI6ND+l65EDDMug6ykKA1bvBQQkFbdgYK4QNwVBfJK4nEKBB1D5BUtDQRUNSF38OwYML0PoByHv50yegr0Q6JSF8g3Ok4MUdAQYACMuIdQ0QbIIh7hjvROlZfmcg4i3I4xVALiBxG4CpinRpFPuqpBkB1hag61fduCDLF7AKxi3LZLknzGsQz0yXPIWmJMrKce058U9DdH3bhsyYloykDaMDhNjCxqlRbvf3aGLp1OPMScdOAdFmcsxsY+MVlQjCLpyRKwCMAuI3HTAlxSQHMZxCyrXpACSbdCI7G3GnjoIRlBHtWPLHCAhOAbNyPDUbY5QJRijKSkuCUbai18iGU0QMj6B+pvYjAJAd5wwGohuAyvJscryLGGg-mXhQ8W8nzxlQ9xjAFcVDzB7K4qAQuMCc4G4CXjoI0E1Sreh0S5jxGleDKKWLvGl8faCGX6LtzOgvjti+olcYhIdx-iygUXGdBHB7E-llux45hI21ACFUAAEqSwYAABBcAOAFJYAAlQqpAAADytLZAECCEp4UZqCEkCeThQkRjPCVGL2FxPDg9jbkZnL9IZKz44SjQxk6Agjy-SdBGwWko0CgLsmZBvYlk94JSIOEiSxJkk6SXJMUnKTnJA4cyegI0hJFrJSQTwl+jfGGSj0WYE9ChIh5Jx3J7kCUUWWWRqhQpwAqyTpLTGeEJRMuFkYvmDwOiqqq+DEmoBMDBpBijk-hKVPMjRjbkukv4TIEkBqA3JYU7SdyOgK6SvkgktjLkAcCjRGQAABhODqSag9kGZBhheHw5Yo1AQYErBmmDTQRpARkANMKHDTmqeIYiQUg2lDSyAKAxFJNNIRvtkYXotjDr3mm+hTBS4azrsyXCXTaeJCBaVNysHYR2JgQdwqdMoErwzW2QBTJcTglPSc0FPadKaAQyzVppHAWaV5yqgLSUoL1M5E8K9hiY2AzqGAXxDdSnScBrYmoteS9gnSlB5QkGXNPhm+hDI-XB-i-2Cp0CnYgQVGZ0GdS79reO4mMsQEZnoySaevfYsZEX4613aKMhgGjOdTMYryFQV4aEEMRW9CAlEM6bpIHjd4GZwspmX2gdoRDuxjoToa+AbGU07RjArWdEINCLQzqBYNIfrjGHoRYh8Q7gXIMYBS1lBRE8YgElgyBjch+MssYRFPHhhlZIswMQkNEFa0DQ5wf8FwSNnpDUgW-cIOMVKBCy-Zu-OUAdHZmcznUOFRPn2GaCezjA89aYaRTjmqz5hj4s0QiWnSWwpoMcP4O9IYprgFZzouCa6NYG2zEhno-WVQLyl+RXw8zDIZ+ClANDuCi0BwB1QPEJiA5VEf2bbIh74TYgNc9uS1S4Iaz6BnQX8H0TwCQg15IYWIbIJtkCC7ZSQmLDPK0HLFK4Xcv0ZkIDFBjoI+QoeWhI0FTzYgiYseTkLZn+gjK9REMbGy9EHynZCxQ3K+AllNFUga8GeV6OvGRBQAq89eUfIKS3jax94vvs0KNnGFzRObT+Z0F0lL8fSg87asPKyqEAFwd4GCe7RLFAgYFHAe8VWJrFkLqJ1OXWQunwVmdtKE41IL2jwXRyTs-Y0ucMjhq5xK5eC3ZgQvHEKjmF3YwgIBj7HIKBxZc7hdQF4V3g+FeUmIBAshBMK2h8ERZDOKJisxRFZnLBbiDQlrisRSbNcaSGfkxBdFOCvoawtMUTgd0Jiu+dMGvGLdSFFYk2vzm9jQzkYtGCCRhLmwxikg3isgLiEIU904Jp8UMh4vWkzRdYP0h0KkGqAAzmwTxK4uYvImMhPc5itCZBO6n+L8JFGdcDaWeiMBmM1i2IIRLsGkUUlK8B3Ih0oV1iTs8o-fp-mnYYSElNFNcmEsGLFLxiz4yQK+P1GVKkJAkyQEJNEkMAZJlkAADKksVJtEzIONILitSEJtGTRLlOCVdCOJBkg9BFLoCmTgpB6GuMsu2W2SBw9kjxZohYEuTQcGGc5bQO8ljLJl0yoKSBBClnKjltAgqdmzVHbhop+o2KcejmSJSSlMQcELRlSmMj4Qfwn5caIhBj8QVGGMFcaMB6uLdWhy1ZSYIOEFTRRxU7cLRj8IYlTW3CWjK0oel+LDWE9YPIsvamorslZK1SuxNziv1TuLSrJaSojG8jZY+UxkYVKoDYqHF9FPFX2A+WrCyYRI8YplI6nZSPJLKpqXlPJHfiB8qOV5dKp6l5SoWCtTUZZSaWXd0JgStlVKKBlUhWg9zUDJICdir8dV4PCyIwWaWBKO66y7uVkKh5y5gxDK91javO4Wqeg6q40fFVABGqHAYBP-p6oh7eqlh7EyAR4sMSkAJVmAteLVJ-JEr41eM0oBGsTXuSEeEa2qUvnTUoDM17k7NZ1PoAMwPgwQCAe5MSGGSC1kqv4lFDYBZTY17wRkHct8myT5JSk8AH5GbVSTW1AUmZQN3cncB5VZsetUkWhKVxwQGIB8d2RnhoCPFrS4taAMCCRr5BlasWeSFrVkxllTa0ZeMqmUdryQdy3ddMsZCswvFOIvwsOrOVjroFk6+wVgXLq4g3gFzS3NPmlFZBX1IogilaOfUohBegHd2izN3wsDpiT6w2C3yA0SCx4H67QT8nvXKpwEKQH9cmD-VvqUNn65QghsMBIawQr62gYBoI6sYV478RDWBpQ2QbbQ0G6dS4BqBiAIkZMbVbhoOH4b2JT6-APEtA0og8SoajlbQMVQPrv1luDjcWwYVj1GRi3VjfEpA30BsNyROgDJvuEw0tVLSrQkJv-xyawNHuXCH0W429cJYpUCEEIHvFWqlNtqgYdJrY07L5lZyYKBcws1GkSNnGvVZqN41wacCNmy3O5s41mcGlhWRUZa2VGEjVRzrCcNau1VaFPNpgezVho01OafVkEBoPKps12bpiEW6wqluipYAtN6EHTQfH00TrSAh1ULRhMYaIaLN2rM5DRpMzx40x7KniO8q5VYrvCFK-lWo0y0GgKG76kzR6sq1Zl3V+3KPkCumA9LQBTE6FdeNsBZb46w2vpWNvHH-hAIzQRDPFqKA5b8YeWr7oVq61ItIZtGrQOVp0EmB+A8AoXrQNELv9m2rbH4JG3rZFyXABfTntz1lLxdYtYaosCPQa1FSmtoYPuivkUgRxDt4yBwW-GcHIxCaE3cmm4MJrZVNBtjU8QfxzB4T-hsQBnJ-26ECAQE-eI6plvm1FBwQ92+vkjEB6hdqQDE3paNr5GvzgCsytgNh1W0Co8t+OovsBWM35gIkfW58ozse1UQfm54G4IeiYbiZGQAAThOBEJ2IzDWrUYACHWbxd4mWrdOlGhsxQi6s43B1rZjqEhav843C4GjIjTq6sQAXXYjW5rcLIaAM3Xap-lLFQwhuvoR8CDkrBDd8upzJzS5WMIIeLgLyIshzkCyYgjugqc7sg5eF+dsulRibTYBiYJMTAKTG+D9ilqXtPGg4TprW38ADN4e8TFfj1gs71wbOy7m1zT2R7TZOldSbH1SDarqgpUVcGQEei5w0WBqgQK0EZCu9WczANXo3xWUnc3wnXfgAxyOBIryQr4B5KQGr2IsjOqkXOO5S0gO0bd4ITyF5BL1+qMJ7oLvQIE5y6MEQeMm3Rj2ZXHBRhCChiK+FqlMAwBa0b2GgKlCtANdWbWdWxmCAxrvOs6w-dgIv0jCB9VeuGiPuM5Qpaxs0H+OHIN0h6IQs+zyEyElWoCoBq+2fb5F32G4Ig0wy2dMGn1AHgDl3C8EhJahIHPIFu--SFAl1vjDIBU3lduB+3Q0t9gS4LX0SB1OCTMrQCMYOoR2NR4mFmBTevhz3Mr04pOkbZLt-HzER8GYjKV+qECGB7I60cvfwHPRXEG9QIJve7xL2noxOne0qD3r72wTeC9FV4kVrIM0GSdIcRiVwd+hBzuMVqbSjjRkjgg7I8EtQGdGbHMApI-4JrrDyi5l6-mwO6g6Yi0pqGIe0Ohg34SYMLDF1ZawtYwBXVbKk1GBVXXEoPTzp41DtC9H4EZB-L4pcyeNfPXPCgdacncQ-RKIVarYoVfI7oBZFqkIqlhWBmIPpvyM-dAjRR2WM2T7D9rAjg6+Jmka+kgRMjmov4mHPsJUar2pa5dUEa2WcY65VIFCYyDyVUYU0a6wuq0MMnzpEpMRq4peiBAJHcQCUmlSMNSOJBmjkarIwCGhq5Hf05RuFRwCqMKASjPAFPQcdBVpSWep6jDA0b8JNHO4bGKUe0fgN4QlMJevrfoDW4gT9ASOgADpYBE1wqo-TLmCCScltyjdpnKGggm7RIg+6vXChOAfHtV3xsCb8f+EAmgTkskEzIDBOnp2hvAVcBDx6CsxCToAAAF6qtQAAJooJ8pxN4n6DPQSk9CZ0iwnwQ8JuGoiba3CEtCgh4Q9OG+PAnQBoJnriEzG6JxyAh1FgIdWUCHV7xkwNbk6DwDImWlgp7E8KdxOimPG4puspKeTIym5TgPNk75CAA')">function store_assertion_in_index(assertion) {
    if (is_indexable(assertion)) {
        const key = index_key_of(assertion);
        const current_assertion_stream =
                    get_stream(key, "assertion-stream");
        put(key, "assertion-stream",
            pair(assertion, () => current_assertion_stream));
    } else {
    }
}
function store_rule_in_index(rule) {
    const pattern = conclusion(rule);
    if (is_indexable(pattern)) {
        const key = index_key_of(pattern);
        const current_rule_stream =
                    get_stream(key, "rule-stream");
        put(key, "rule-stream",
            pair(rule, () => current_rule_stream));
    } else {
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p42' class='permalink'></a><p>
      The following
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      define how the data-base index is used.  A pattern (an assertion or a rule
      conclusion) will be stored in the table if it starts with a variable or a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (indexable? pat)
  (or (constant-symbol? (car pat))
      (var? (car pat))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+zjwKgaok5k5XKPV4vTqsgA-NjuBgEhDD4MwbBQHAiDIOgfA8P7C3yPMNEbRuej2sQsyS8jUiTIojWPwYGxpJvuk5BfxmHfRYfY-5BAAFzAilKSdURQIGBAAUHagBpCCaHQg2aiYChQYTFBKWBfZn6v0QeYaBe55AHhgieH++hSFmAAbfXqFEaHwKfqAXQJDhrkMTK6Us1paH0NAIwu+kgRyph-sQuh3DgTvW-mw3+w0RG9TkY2PYQFOHSJ-DwmQxIVIiQKhpcBSi9SGk+EhVQHkQQwSMooEytCnhCOGmkKxaciEcJfloxoOiqbG2MT+ZRMxfHw3uMzY2St2buM0UInRydQ6CJMUwmYcS0xSJicCNKUUXYFgUV40ogSQaLgiRIhRaSZGF2LqXSis4EkBNAPXaQPkkmEA2khYeEkomeMcc40oO1bKgOnKoQe7Txj2NyVIvJaRoGKGYBCSRwEACqxADTEGoAAdzsEKPQSgHSgAALR7I4aAjKO8dINJ8sIF4g8zYZkoPgUAqgQjOkoCweqf1JAWOEP2Zimd6mVINs815v1zHVVUJc+pjAoiy3MIMDh0gLriHuY8qQZJWgfNBV85eZhzrkE2HQK2uLURHIWK0tubivndJ6VSwIjoFDEHpJw8EtAYpOOpT+NpBkOTGTBSQfQlK2UCohVC-lgrqVtMZcwGsdxMXcjSDJEIEUBmqBdASyZjQAGKvHJIR8dK7gqukIonp0DWjtE6C0AYMK4UIozOYGZ1AITgpZEslZ6zW7231poeQ+zDnnK0jC3iOk+kSgGSZScdApE-MrhZIZkLQCogAHzEvvgoGN4YPGvwjJoW219dRJO1bQOqU01G1AjTa+VUhwiEHeE045KbVEgksGtB+4z039icYElpdaC3dQ+vm+gYSclNiKGUmRzTm30p7b1L6igfqUD+p01+24dJ5uCSbcNrafl3IeSETKmh9aGyJjbb5NqFzUhNR0BI5qNiwvkPCr1W7kW6KdlkmKvssWlBkmOlNQtn1s1TL7J4miLWWtvda0hOKCDgmfY8bBXqiWsq-UsH9itnavoloBzxwG0gPoVW2WDYKoMoecrB49rKZLIcijBgZWGgg3rvZGj9l4V1hJCay1sv6xamyPRhxdpDhiBGGFVe2QbJAkGrF0VQsCbkelYtGyQcbE0sgAFRib4ZepTwZQBSfzvbOg61iBiirVBShb5qn0DnDanDUhV19nfdi2gYQBR0zjUzI28Nil6DGUOrwNHT0eykLu-dNnfZsYYVpr2oXQDQPrroZE+nDOKxYaMgjwsiN-tdqbfsIrRVmD03kBLxmqGoXM5FqleNPg2YVh5rjb6eICatV6k9vyKFFbM-4kxAEktoVwQ2WzrLoEVGkDRwTOb+R5pSfMzRPyINpxc3E1O1BvJ9hoxBoO614UubywZ6gRmuvmbTrK8wEHVP+kvQwIlImTvJgk2tlQ0LfmIdUGnCMdKGUvyZVKyxwc7vZZy390AV2LRdHXaV-7jRNE6ZvqIzJ6XB3qNLTJ6k5XCnbHw5Fx7+UxJGIca2yHubRHiIEaUjdNqIMDJc49wnisBkjJqS2oDGxqyYNFEqqnzPi3NheAMqRNGZLUYDYzPNe3Ukk8Z2p9n+G9vs6IaQx7UuaeGI6TjzRv2zAM8OHgfeTBWDsFPlwC+aAwajZ1pW6tqgHTL3LQt7IuR8gW9AO20Auz0REsrV6px0zGCzPN7HLIOQ8gcKdJQhQLQXiWHhnOrokDTmM2RxYzltjhYvGe6LvzExkoTQ8GipCwZSsJ6sHY5Pi3BQ87lgHFFWf6XooFmCy378-xr3wA+Sv9Ic8twIG3fP3L8B19Yo9UGTfQCHX7rqNp5Le-bWBk9QfL0R-8nFe9yVMUe8-Jkv3-ag+IZLtj2YlHth8M6qKKvh6GfNU0RpotWgur2+4aKUqgZE--MN-kslbnwEz+LETvLPDNPD-Wgf8fhPD3PhA-njmNmQEHGaNEHRIvsyqmFNmWpeL2OrnPBRofByIvJ4oAdSB2CgcuhAdQBdKnBcoZPIKWusGnqAKCOCGCqQaXsMBBu8BOHrAbBKnAXoC5oNgMHPHHqQVZBhOuiGo-nYNQRCD1tkIIeONmjpOgSSOziZLIfIL8BQb8h2Ioe3oobBgoaQcoVzJQb2OodvvbLSrFjAbMB9q+tZPClzj9qAM4CaBOFgYgX3roFEO8PwQ2GbC7rpK4e4XfKTI7qIaoLwRgeIdYaAP4XynYQ4WYWqlAj4dEO4WEWbAADwJFuFvCqCRFsaMJe72qqAsgAAqWQpixAgoQqTgKsAo6CDcUewEoAAA1A7v9qGJEFEHcunFYWbE0ZpiyI0c0X9q0dEB0VkXdm2lSp7t7kUSUfgPIGshUezNUZUpQHUX0U0aDoEEMe0fgJ0QIYYD0ayP0RseYFsSMZEWAe5FkGghgmEfhmEQjoEPgbMDIFkJZAgaQjpFth4RITYfCnZkEFboNt8X8ccYwi-C8dQJZMcTSgQVAUPGwZ9hDscdAmEXGhiB2MkXEdSgAh2Nkf9iifpjnMCaTC8L2Ocb5v6o0A+pwmia7liIFqwbAVKv8TSnkWIVYayEspkK0FphyH6qUHRmBj0hBooS5mgXwQzj0jJF8ZockbQRyHytCY8aQVofKSSHVgKdeojkCJwhCW8ZhgLvbEzrcUqvcRESoA8eYE8XqZga-AxmYJ8YSckb8dJlKfXkCZiaVmCc8SglCX9nDJAW0WYRYfAZ4lid4gKFYbSWxNnJ6aKgAhdIrLibYXfOGdogKISVxF0VEWSWMYdmkLCqQtSS-NGUwbrHuoyeYUvkfk1mkHauyRhJycQNyfSrySSN6vUmpllPmbRg1vaUECKaQWKYRh8hKQaW6axDKSqXKeoaroKpoSGmqUoT2QJlqZQbqb6baSFJrtVAfEfLrpwOfLwBgMbtmICm8iCjXl8u7BHIlC-oyI6uecCl-vbE+ZHpIC8iXNkm1teePDgZPERJituBBm+e8lrhdslIggBCyEqJpuYEqFSoqb0hnl2HBWYF2IhartBaIWhVQWCIwJhVBRnvmLhfmIRchT6J7JUJplRdIMNEhS4hnnVHQCXEoIKJpsxaxeUT+AxUENBfWWhfWT0rxYENBfqO8GIs4HQMGOJW8JJQwI0CJeYNBQ0bheYD7qAIKIYAmk7v0dxUpWYNBXsmpWYBpVpQprpYcvpVhRnhpi8GkGZdpYmrskpppWYAZYAj6MACZQ8g6C8OZTpbsmANZURT6AAKQ+WOUWW7JhVuWgAeXQUu5qVRWBXRlaU2U+gACE6IyVflmlTlul2VRK6VoVdwLIKRkVeVAVzloAaRZgJVFFZVKRqIJlKVNVzV9VCVGe8alV-lBVuyianVGVZV8aLV9lgQbVulo1Q1pVBRmVPlulgQOlZgmV5gFuiC3IIFEQQK75bSyRcapC0aSoLwoFl58YssW1LyF51e8YYozgAAVsHudodUXDynYDpdhdtReZpgFDKnOYEKdTdQSLLFgJdTte8jinkKbC5gBNBeemappvDZeh5WDqJRnpAMQBenIOxfZRjVjfrCjajYZRnrJZILAJAGhaTeTYTUTWJbBHJQAKK4Wk0M002o3QUABySgHNPlXNHNaZYOm1DmuKgNkNtY+1qIL1lk9yOlahURotwtUNF1wtVBX1wKfa6UtYIaB1jQ0aMtiav1WWqtV16tYtmW3BZy-yDaJtu1GKJAVykK+YwhfyJcBskQom9KigjSQZ91Sg8wemEQe6qgeeat75n5OQgYP5vK-1pQg8TtfQQQhpC0iZ6CwZ1Z1oztJhVeCJLKbKMW9KqggNe1XRLwSpxt4NnwZt8hbNgQ+d3QRdbc1AD1T1pdYOCtT4UNWhNd5gZZDJad7BBg24OQuKZZUQQc9hMwOdiQm2WwGCU9Gd3BO5Ase5OuJ8h53AmAp5l+egygFAkgsMYQVE+ojAocoElA4EOQztnsLgbgAUZ9F9y5WJOJAF3sRE99EEj9-RLIkgaxTmYYIxd9R459H9A4pC0CgDYEID7e1Q+oBMnKIeNobRrpvySgpApATgVsG09wVyaDBVDATRQyaD0ZLIfRACJDUWwEhxTRqDpA3dP4JDtMYY0hjMJABkF0iDdoQq66wyrDR4F0vwAAkNqZsuEG0V-QUf0TAyJBdPAxJtGjw8QGw2QVw98j0foCyHPmILw8LJ8FMCwKmlfZbNbIPE-cBINiyGAw7MlCY6AHCEIo+kCb2CY8UD4DGSuERM46AEVcBNvKYwROxDY94SyNvI7jqrvYrAfQSJIMfaHCYx7tuomMsU3LODY3Y1SkSNKOKljh0s4wLWQxI00do0QXo-49nNcgY6owMc4n0b-bcbZIQlk+pDk5CpU2xjU-0UU7o4oPowFOU7k-sW0+o-E50wUSRQ7Wmp018N0+MaUDokEXE+qgDoo3w0sCyDhS8ABB2CY6SfhM4y8JM3o1iT4qI9EAY6QmQwAOS-2Dxf1XOWOnE7EGOaN2CTOwyMA+RvPmXOEWyShezBGZSuAQgdifN0M9LQV5AtC9H2q9GrJBjFimiKBwvv5WycigOLMjPAuLDvM5n4Qgv7PLM6NTOMAsBHNLNKOlPdB4uvC4tYvpVksrP720sXF2C+3+2kCB3U5arOjBziTryaCGNiJJNtZLznOeVlUNKNxmaaaNP9T5BLwx1BDRqssmjsuUB7qwYNo8umjjOhpOhouzMwIYEiuLPQXbwhhWH4J2TShLykuThGELSfN1jbIOiavwymh8vLxWaCsNzJNyt6vvoiltyonwaNB1MEIYEysdx+v8srnb2ObctusXT0jXIubRqOtbLnAusJviQ6seuxvkZBtRlBM4WitBEdjZsIvJuQokluNEkVtJtiLVv6tTId4Czs7EMkWlvMCJvXDXKWPF0YTEPKsB1qucvn4WOLNBEDsNgKuBBKt+0qscsav1u5s2uktTuFuNmq1asNvXI9mCn3pIoZNLA2sMZr4Z5muRl4L1NGv+vDZ9lNafpOjDZJ26geont6vYFP5BHGv5K1u-stv1l8tNkuobKB5NP8jvsvkLR-5cZLxftnn4UeuivIF6uWNAeTggerJgeK5vRX4qwx5GkIuMBRPkDUCpzGgtBtDdDwffNAjvsevEN+iIsaNl4DxUdiLEdRNuK0fCO1uwe6sxvbh4CQlfykcP0nVVr1KtlXDkC7za5sCkBvBFxTCgBgwPIXQLRgyG6G50Jzx+jByqBGgl6bAaCMAtDIM4TxRGNqDh72oWd5NLNtAXpdDxOEyNTGcOTsQdh2fmekwzPOLP3Zy+cOdsbRamiGeefUtEQhf+f2u6jI7nAf2qDLyrbfYzBJc5Aw22WZfyAaY9mBpXHoJGfyAGw8AvDGeSAvT9kQb4rOC5cuYGekAldlc7NES3YZcP0anYZHvNCe0ufIiED1ddcsm-JI1dAUlmAHv9mBAQYheNcRfNeVf8BteYRDe5fdc-hW7jfdAhcC3ov9dmrInRe2eUL2extTdrlWkFz9okcteSDlegDLe-GLD-G1frcP0Ld0CRelcPerdfbrbYhQOTeIoJMe3Odmr3AfdQMzcnFWDYjtfpdA85Czs-hBEASVePdBHPfmnn5ZZl2BC9gdfI+P0g-Te1kDkq3zdEpNf3crcndQ-DfA+spes7fKpnfmekZpACOhvw9cTQ8o9YA89t1IfY+-f08P6o+Cr89M+X08TC9TcPulaJkI+ndmeh64+vcg+rmND8aUnXf2ycWwRKfBH-HmQdtFeaATvYm6SW+RbQJsBBORAXQkfW9soALO+Iug6TH5EsBYeuqgCifFYdm5f8mXeUFG-kBKfAUq1B9mYk+pu765cpcDAQaycuZx-ifJcsgoLXFaQgVSdEqZ9UTJ8sie+u-cg8G77OCRB1SnPv0o+a9KEId4U0EN-KMP7PN2G19Bnt9PY9-RDO0dg18TqD9d8j919DxKoT9tHO29gz9j9se6gL9Dzu2KGjGQON-qEt+0-t8vCGFL9jYOivYb-AON9v7b90ciFIfI4r+n8SdN9REH9CYLTO-PhUAbSYdMD2RLMtn0igSSBlO9KHIIwGXg6QNAmgJpJ+wp5esF4p7CnrNxVor85sA-VfgZnX5f8D+E5H5mzxX77c-2JAP-mOEYCACIWIA4Dt-3VLHcIBPkFfvhjwEXdQA03L1j+39aw8rO1IIIjQIpZ5sXg3A1DjG0YHk8yMTGZ9nxiu4cCgQ3ApePF35ChhcgLAb1qYTaCHhBQEmOgI9xUFsVrgdAarlfxgR-MNBpjLQWoPpC6CUuljMttLEOhS8HkeDcIAoKUFV4TB6ghwcSFV73AbBBPP7C4LMEvQb8egL2rkHeS+DPBLwXwaED0F8daKng4wbem0F+CLBEZKwbGS8FsoUuFlSIFMH9whD4hpg1QBEPMGgthoGQnSvIPcFcRDos8T4m4MUH4BDwUIV6uCks6Vx6hsEOlJFEsDEgbQjgvWvbQFB+wZCDQjoeUP0ajCBWHpWoaY0GyWMshQQv2p8FCGsoMSUw2dqUMTRtDyAIw2oT0IqHTwuhJLaoYLmP6mE7kGtW4KmD36gBhIQES-hsBmyoCUBo-NAaOQwJXCsBzWPrhD0vT99nhjnLOt0CuE3D9+OheJqCC2EzpomxvTInQOn6oCoiwIygUoVkFiBwR30KEVH0yLgjwhsEEEQqRb6ikgm+AVcF0D6KisWQxI1UKSPQ7XRGo2I64bBEMCitRSZgWYVIAXjgimRizAER+QlDnQLh1oekYiPUJsjrENBTkbY3hBPIkONw0xmiMhHiUTevYTkbYJ-C9hZRqoxoPKP3yKjMi5bRkZqP+wdgNR3gsVDoVJYUiSRkLFEZsjaLD1usOw+3PoKCJ5V1h4WSoMy0WgfAU4+WZjiR0Yh+iCQLwR1vSMdZ3DEBT4UxJiJBj4oDULmbUQZl1GqAQxuIzsi7yDFVMiaPSMMToV5yXhdRMYglMQ0pE5BIWorGYRGThL2iDMow4ItCMLEGpPRhAIgrX0dCF1GRLfaGCcxiD6i+4r7fkLJ06EKCWuj3YzlEIjGOZzsoAWTiOIq6ldZ80Qr4aah+FmwAEg2ChnQBtHiBPaLrSruKHbHph7hKtYzi5l7E9krcC8YzoYDIbbwKGxnIelYFACFEAAEgzUkAABBcAOAAZoAAlQopAAADyHNZAESi4Jb1Zi0YwMclgTF4j1SLfZsZ8FbEOgDx30UxoOKQm9suO0E9oTOlJaDiVAn0LCQ5i774TKgnHdMclmdovi3xn478X+MAnASSJ8PDCcmyInmYExztQcbWKQmSA9x+0DifCwom0A9kowwjgtAvSsShJ7EnCbYFgnN99Bowj5A0OjShYbhTgBTKDiU6UIDQYiAzFBNnBqS-eeFCEbJKRF0MIJSnciYi2wkmTiAck2eMPQsAot80JAVTkSgAAMFtRmAkDWS7RnJErX1h+W6CW5nJGgVyYoBcyMBQpO2QIQRSaI8A8xrEKKZBDCmxSu+yOHycQLP5LArhyU40EKyiaUAWgztIIsE00xBE8p3rKpIVI165lN+pPfsXlF0AcgspD9KQJEGVQotUuVPfyQVKohFTOCcxPyZBACnx8ipKfDYDpAcGfA1kKgUOLx0aAXijwjHVlAAgylDS++X-SqaNJqn7c5mSHADnUiCLTTJAs06QKHFwL+tDRrwSwDNLmlEk12-WcDi+30K3TTp90vKZ6LaCep6UUgWcF-3eE6EfkU0t6WdPmn-FYBy05cuwNB6LxaRagK4dDIQGMYNYUU+QNrxAz0ZkZaQGbE8Mn4fl0BEpeyRjLlT15cB+AkxMSLvQE9oEJ0sGb8PxnT9NuuvIXsIOwHfsDpXI93jdPkB3TzpPA6GX4B5l8zQ4yBALhMQIB3Z0Z4gnXr8jpn3SZBjUuwDyLOHaBXQyXK4XfHsnTYkBjwolHQLX58FAZCpGjA+lWohBcB8Is3peBIAdEMRJvWEeOAZmz9W6WYswFrLMkJ1r0fZSGRCFTK6E-seAJTMHPAy6znheMoMobLeEWlPZpCGSObKXEDdnZg-SLAAltk7F7ZmRPfqaMCCOzz8ycn4NdOGgii2U0yE4QXU1kxyPhivUDIeweTfTYsf0-IB7ONnqllCQckOYtMvCWiqR1o72bXP7JPsT+lc6QMTK1Iv9dQ6cg2EmM0BY96e4Y35ISIxA9zSxbvIIGQxLHUiIy7nNQLPJOovRmRpBUURyMOiZikEgeV7LyJBCEEzQyXPeVQXnmgiIyIQDkdV1FYqyJQas2+TkELr09752-UAB3KUyiigis82EFKKkCgKD5B3O2UmOVFpD-syol6EXLMBTzM5PAsBSgqpTltkFOcxoOoQtGby+5E8-iOFBRaQhYcArSOPeRriw5UoKLaDsdFoAHhmxjET6S3wCifT28lUtxOwv0ExDewvYLhaY3BbSBZpgoCtGjK5CWMAoQirqUcKNJW0RIeUzqY3xTG2TgxtLV4XBNJwq0DwtuYaXBk2CwJWpH9dqfkE+krYVaaC-VISjPmNA0FSY9Rd9CwVHZmFNEJXP7gMyfTXFZgHMSbL442LpwRYokVaLXnnyKxBrRDIy0UA+QeFxedQF4sMXFCqxVgB0QcNUBBLYxfYw4I5OomSAfxCyAADIM0QJ7oobOBKsCWS8pJkGCWZPgktidxKE3CaK3Qk7jrgNS5pbYDwnw8CJhikyO3lIkzBOlVE18QUuKWlKmJisFif0q6XEBnaikuusHWpRcSdhPEviXMuKH0M8pIk2oVyCl6rKMlZU+hTkF2UHCuQno85LMrqULzJBIjA4UpNggqTqUeUiyqDiuXKLyFeUk6jJLslmSpeFkuSp0puXmitxZoOIJBE+bJitFIKlqeMJb6KTNhzy0oISMTSspFlxcZQXkIkylYJJVk-0Q5mhWxLrEGi-5aVjdFXLOlzimdPZJRqykphW46JVCs+ZyShxxIbqZGMujCAXMM4hjlSxZBMraWYfFeInMh5creUjucFV+RiXvMiV7zVleMPibir8gAnOVXS3pUHDPRYQe1MaDYkEyCZbQZCfpPmWbpeuBqx0A-SGRsSuepQCDCeKJTrLfu+441YwIgzoMvciQfFVE1GE60cshy4cVF19BsSzlCg4VQDSrQtdBJ1k4SaJNnbzM2JLwN0e6ssC1hjVbKw4fewHk2oRsNQnVYYv1VITVF8ko8ZGITEuZHwLCjpJYo2BeskJlqjiW92PGlcXMjqg2PuI4kg83VNgFNYrEqk+rJaf2f1d0MDU7LRJjAzQBGpHUosQ1xIXPD0gqkotE1BVZNZ6r7VTD92SvVciQuHAcdKp9qL1QGOtWdiyFP8l1fYrCxIh6QKil1ZY0vUHqUm1qrvneuNVWqpJy8bVZYHvUGZ3ahal1VYsjHZBJJ0a+gC5nyW0Tfx-4oCeABoxgavxEGhiWUvjVSSl1FlQDV+vux3LgIqCVjnbHY5XqvlXUn5B+s+CVSf1TS6tRONxRoaaloGsZYUpKXQaNg+S+jaUvjFIdvldg1DdIHw05AMNlcFkNhq3E7oWCfae6qCjDQTC-mEmrvhRkfBiaRAfLFod3Bo5OhmG9sKrHJvxCCclNSBfCNJsP46w+6zFeTfGEU2SbrY+m3DaPhHLGb8QZmjhexEs1zwqstmkQNprn56bVN7eBIFEAyj0goVEmhzdnCc1zw5N1ADqZprc0Kqphx68svuki2maEtmWQ+XCtqGWMwtHUjTbQBM1cYktJJDYoKtiUpYRYSW9wMQBy35aFeYODVQoNngTrxW9KXooVveaaYMt8yryYbwkD3Vwt+QVzRQHXQ1b2VsWozV1tBR9bktizSJS2zmGMAchiw7Fd0FCzNaLkNm0bQpvG01tBtJLRxFVtMoFVjNPW9niLA20FC1t-WxUrtrZRba-Y9WgotC1ZDLaOKXWnrZXx0g+aNo1yaLZqoRW1DHljQv0lSlRVC8fwMQ5bZJnkC+aQ8MqnyHu18WlBUlZHGsTsIIV0JLt5gBMnaLSVI6MlIogRjzwGxewdtaQa7biFu1shqASLAVbWk+CfNNM72hQK9uOGUIq0H7fli30exf9R649XqPPUHpKzQAw7VVuq1ZzVsvttW88NKV+1IrXqTiIHc4kdDM6U0b-KGufRTRKktmTbOSSgqyL78nKBPIDrMFdluzFkyybDtf1xSgQOyaxIXnjqCAshBdS7AZBcsc4I70lw4kuTIkGwKsSdPIMnQ7tHawYmt1O6HZpn93C7xwlfCDPqBdacVVBLmAAJwDAdIsetiumvuBgDGYKeg2IpKARiEgIJqmAWasmE2qCyPspFO9QxDuTRuZgLPaoAuYXNWQaAJvWGsxlClnEtelYczNKBZ701H5KYLsMUHlQoidgQ5MPhln68a9EgLir3tz3YNTEMeqfaoMuViK2KkisBMmB1Vi6ht+grbaTojW+gV9Eir4FIoe3B7adVyQ-WvuRFb1620Ox5IoyrRc5FAmQM0ATR1mcqXM6bQUM61da8tyWkQerV-T6AXLTZSKP6IwBf3Y0vGy8s0DkD0CfgKetelkAckOT1tQAnzbcYAe9TGV+g5664YvrYqZKCWRBZlVuCYEPs9eZgB9GmrI4UcxEVHCTJdBL1BA71e6kgS+ufV6q3ETBxgQ+nAOQH9Y0BolCyFgNzQYZSBlAwcjTHAb6kDBloNgZQPlhyDWayg8oaxmkIJDkhw5BgdsUMAtDByFvZPpYqqC096K37cirNEcgNJf2V5rS2WWo1ldegVXUsEuha6HkhuggAVVfjFCwdrhgUJjsR1p7BsJEF9tusFgjk8gdANZG4AANVoOVjmS6J-q0UZsdkv+91v-of24oeiwBzboOQ5BTjfDIYAI27u6HBHzx7pP5ooQCKLNydUYpTmIxuFKALGAjY1MQZp12HHDH-FNH4bUKkEa2OuzwxZW8NCbzFhq+tR2P4XWZuxGCxkS43njLSzxIUW-VCouaBjVAxugADpYBr1mKqvLQfwD2p9GXuzSn1W+RsoG9wEfg4QVRYDBljdh1Y1x3WNuytjOxn6fSH2OHH2xNBQgFziiImcgiPx0AAAC8jaoALYywd2PvHyOBx4lgMZM4gmzjgqC4yBGf3XGtIwvEYBEfoDRGIQqxyE18GhOfGqqGzDPE0dji9FSAvRSFv2Aubcg8AdxorXibeMEmPkRJ-yiSZ9BkngIzgCk1SYuXInywQAA')">function is_indexable(pat) {
    return is_string(head(pat)) || is_var(head(pat));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p43' class='permalink'></a><p>
      The key under which a pattern is stored in the table is either
      
	<span style="color:green"><kbd>?</kbd></span>
	<span style="color:blue"><kbd>"?"</kbd></span>
      
      (if it starts with a variable) or the
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      with which it starts.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (index-key-of pat)
  (let ((key (car pat)))
    (if (var? key) '? key)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+zjwKgaok5k5XKPV4vTqsgA-NjuBgEhDD4MwbBQHAiDIOgfA8P7C3yPMNEbRuej2sQsyS8jUiTIojWPwYGxpJvuk5BfxmHfRYfY-5BAAFzAilKSdURQIGBAAUHagBpCCaHQg2aiYChQYTFBKWBfZn6v0QeYaBe55AHhgieH++hSFmAAbfXqFEaHwKfqAXQJDhrkMTK6Us1paH0NAIwu+kgRyph-sQuh3DgTvW-mw3+w0RG9TkY2PYQFOHSJ-DwmQxIVIiQKhpcBSi9SGk+EhVQHkQQwSMooEytCnhCOGmkKxaciEcJfloxoOiqbG2MT+ZRMxfHw3uMzY2St2buM0UInRydQ6CJMUwmYcS0xSJicCNKUUXYFgUV40ogSQaLgiRIhRaSZGF2LqXSis4EkBNAPXaQPkkmEA2khYeEkomeMcc40oO1bKgOnKoQe7Txj2NyVIvJaRoGKGYBCSRwEACqxADTEGoAAdzsEKPQSgHSgAALR7I4aAjKO8dINJ8sIF4g8zYZkoPgUAqgQjOkoCweqf1JAWOEP2Zimd6mVINs815v1zHVVUJc+pjAoiy3MIMDh0gLriHuY8qQZJWgfNBV85eZhzrkE2HQK2uLURHIWK0tubivndJ6VSwIjoFDEHpJw8EtAYpOOpT+NpBkOTGTBSQfQlK2UCohVC-lgrqVtMZcwGsdxMXcjSDJEIEUBmqBdASyZjQAGKvHJIR8dK7gqukIonp0DWjtE6C0AYMK4UIozOYGZ1AITgpZEslZ6zW7231poeQ+zDnnK0jC3iOk+kSgGSZScdApE-MrhZIZkLQCogAHzEvvgoGN4YPGvwjJoW219dRJO1bQOqU01G1AjTa+VUhwiEHeE045KbVEgksGtB+4z039icYElpdaC3dQ+vm+gYSclNiKGUmRzTm30p7b1L6igfqUD+p01+24dJ5uCSbcNrafl3IeSETKmh9aGyJjbb5NqFzUhNR0BI5qNiwvkPCr1W7kW6KdlkmKvssWlBkmOlNQtn1s1TL7J4miLWWtvda0hOKCDgmfY8bBXqiWsq-UsH9itnavoloBzxwG0gPoVW2WDYKoMoecrB49rKZLIcijBgZWGgg3rvZGj9l4V1hJCay1sv6xamyPRhxdpDhiBGGFVe2QbJAkGrF0VQsCbkelYtGyQcbE0sgAFRib4ZepTwZQBSfzvbOg61iBiirVBShb5qn0DnDanDUhV19nfdi2gYQBR0zjUzI28Nil6DGUOrwNHT0eykLu-dNnfZsYYVpr2oXQDQPrroZE+nDOKxYaMgjwsiN-tdqbfsIrRVmD03kBLxmqGoXM5FqleNPg2YVh5rjb6eICatV6k9vyKFFbM-4kxAEktoVwQ2WzrLoEVGkDRwTOb+R5pSfMzRPyINpxc3E1O1BvJ9hoxBoO614UubywZ6gRmuvmbTrK8wEHVP+kvQwIlImTvJgk2tlQ0LfmIdUGnCMdKGUvyZVKyxwc7vZZy390AV2LRdHXaV-7jRNE6ZvqIzJ6XB3qNLTJ6k5XCnbHw5Fx7+UxJGIca2yHubRHiIEaUjdNqIMDJc49wnisBkjJqS2oDGxqyYNFEqqnzPi3NheAMqRNGZLUYDYzPNe3Ukk8Z2p9n+G9vs6IaQx7UuaeGI6TjzRv2zAM8OHgfeTBWDsFPlwC+aAwajZ1pW6tqgHTL3LQt7IuR8gW9AO20Auz0REsrV6px0zGCzPN7HLIOQ8gcKdJQhQLQXiWHhnOrokDTmM2RxYzltjhYvGe6LvzExkoTQ8GipCwZSsJ6sHY5Pi3BQ87lgHFFWf6XooFmCy378-xr3wA+Sv9Ic8twIG3fP3L8B19Yo9UGTfQCHX7rqNp5Le-bWBk9QfL0R-8nFe9yVMUe8-Jkv3-ag+IZLtj2YlHth8M6qKKvh6GfNU0RpotWgur2+4aKUqgZE--MN-kslbnwEz+LETvLPDNPD-Wgf8fhPD3PhA-njmNmQEHGaNEHRIvsyqmFNmWpeL2OrnPBRofByIvJ4oAdSB2CgcuhAdQBdKnBcoZPIKWusGnqAKCOCGCqQaXsMBBu8BOHrAbBKnAXoC5oNgMHPHHqQVZBhOuiGo-nYNQRCD1tkIIeONmjpOgSSOziZLIfIL8BQb8h2Ioe3oobBgoaQcoVzJQb2OodvvbLSrFjAbMB9q+tZPClzj9qAM4CaBOFgYgX3roFEO8PwQ2GbC7rpK4e4XfKTI7qIaoLwRgeIdYaAP4XynYQ4WYWqlAj4dEO4WEWbAADwJFuFvCqCRFsaMJe72qqAsgAAqWQpixAgoQqTgKsAo6CDcUewEoAAA1A7v9qGJEFEHcunFYWbE0ZpiyI0c0X9q0dEB0VkXdm2lSp7t7kUSUfgPIGshUezNUZUpQHUX0U0aDoEEMe0fgJ0QIYYD0ayP0RseYFsSMZEWAe5FkGghgmEfhmEQjoEPgbMDIFkJZAgaQjpFth4RITYfCnZkEFboNt8X8ccYwi-C8dQJZMcTSgQVAUPGwZ9hDscdAmEXGhiB2MkXEdSgAh2Nkf9iifpjnMCaTC8L2Ocb5v6o0A+pwmia7liIFqwbAVKv8TSnkWIVYayEspkK0FphyH6qUHRmBj0hBooS5mgXwQzj0jJF8ZockbQRyHytCY8aQVofKSSHVgKdeojkCJwhCW8ZhgLvbEzrcUqvcRESoA8eYE8XqZga-AxmYJ8YSckb8dJlKfXkCZiaVmCc8SglCX9nDJAW0WYRYfAZ4lid4gKFYbSWxNnJ6aKgAhdIrLibYXfOGdogKISVxF0VEWSWMYdmkLCqQtSS-NGUwbrHuoyeYUvkfk1mkHauyRhJycQNyfSrySSN6vUmpllPmbRg1vaUECKaQWKYRh8hKQaW6axDKSqXKeoaroKpoSGmqUoT2QJlqZQbqb6baSFJrtVAfEfLrpwOfLwBgMbtmICm8iCjXl8u7BHIlC-oyI6uecCl-vbE+ZHpIC8iXNkm1teePDgZPERJituBBm+e8lrhdslIggBCyEqJpuYEqFSoqb0hnl2HBWYF2IhartBaIWhVQWCIwJhVBRnvmLhfmIRchT6J7JUJplRdIMNEhS4hnnVHQCXEoIKJpsxaxeUT+AxUENBfWWhfWT0rxYENBfqO8GIs4HQMGOJW8JJQwI0CJeYNBQ0bheYD7qAIKIYAmk7v0dxUpWYNBXsmpWYBpVpQprpYcvpVhRnhpi8GkGZdpYmrskpppWYAZYAj6MACZQ8g6C8OZTpbsmANZURT6AAKQ+WOUWW7JhVuWgAeXQUu5qVRWBXRlaU2U+gACE6IyVflmlTlul2VRK6VoVdwLIKRkVeVAVzloAaRZgJVFFZVKRqIJlKVNVzV9VCVGe8alV-lBVuyianVGVZV8aLV9lgQbVulo1Q1pVBRmVPlulgQOlZgmV5gFuiC3IIFEQQK75bSyRcapC0aSoLwoFl58YssW1LyF51e8YYozgAAVsHudodUXDynYDpdhdtReZpgFDKnOYEKdTdQSLLFgJdTte8jinkKbC5gBNBeemappvDZeh5WDqJRnpAMQBenIOxfZRjVjfrCjajYZRnrJZILAJAGhaTeTYTUTWJbBHJQAKK4Wk0M002o3QUABySgHNPlXNHNaZYOm1DmuKgNkNtY+1qIL1lk9yOlahURotwtUNF1wtVBX1wKfa6UtYIaB1jQ0aMtiav1WWqtV16tYtmW3BZy-yDaJtu1GKJAVykK+YwhfyJcBskQom9KigjSQZ91Sg8wemEQe6qgeeat75n5OQgYP5vK-1pQg8TtfQQQhpC0iZ6CwZ1Z1oztJhVeCJLKbKMW9KqggNe1XRLwSpxt4NnwZt8hbNgQ+d3QRdbc1AD1T1pdYOCtT4UNWhNd5gZZDJad7BBg24OQuKZZUQQc9hMwOdiQm2WwGCU9Gd3BO5Ase5OuJ8h53AmAp5l+egygFAkgsMYQVE+ojAocoElA4EOQztnsLgbgAUZ9F9y5WJOJAF3sRE99EEj9-RLIkgaxTmYYIxd9R459H9A4pC0CgDYEID7e1Q+oBMnKIeNobRrpvySgpApATgVsG09wVyaDBVDATRQyaD0ZLIfRACJDUWwEhxTRqDpA3dP4JDtMYY0hjMJABkF0iDdoQq66wyrDR4F0vwAAkNqZsuEG0V-QUf0TAyJBdPAxJtGjw8QGw2QVw98j0foCyHPmILw8LJ8FMCwKmlfZbNbIPE-cBINiyGAw7MlCY6AHCEIo+kCb2CY8UD4DGSuERM46AEVcBNvKYwROxDY94SyNvI7jqrvYrAfQSJIMfaHCYx7tuomMsU3LODY3Y1SkSNKOKljh0s4wLWQxI00do0QXo-49nNcgY6owMc4n0b-bcbZIQlk+pDk5CpU2xjU-0UU7o4oPowFOU7k-sW0+o-E50wUSRQ7Wmp018N0+MaUDokEXE+qgDoo3w0sCyDhS8ABB2CY6SfhM4y8JM3o1iT4qI9EAY6QmQwAOS-2Dxf1XOWOnE7EGOaN2CTOwyMA+RvPmXOEWyShezBGZSuAQgdifN0M9LQV5AtC9H2q9GrJBjFimiKBwvv5WycigOLMjPAuLDvM5n4Qgv7PLM6NTOMAsBHNLNKOlPdB4uvC4tYvpVksrP720sXF2C+3+2kCB3U5arOjBziTryaCGNiJJNtZLznOeVlUNKNxmaaaNP9T5BLwx1BDRqssmjsuUB7qwYNo8umjjOhpOhouzMwIYEiuLPQXbwhhWH4J2TShLykuThGELSfN1jbIOiavwymh8vLxWaCsNzJNyt6vvoiltyonwaNB1MEIYEysdx+v8srnb2ObctusXT0jXIubRqOtbLnAusJviQ6seuxvkZBtRlBM4WitBEdjZsIvJuQokluNEkVtJtiLVv6tTId4Czs7EMkWlvMCJvXDXKWPF0YTEPKsB1qucvn4WOLNBEDsNgKuBBKt+0qscsav1u5s2uktTuFuNmq1asNvXI9mCn3pIoZNLA2sMZr4Z5muRl4L1NGv+vDZ9lNafpOjDZJ26geont6vYFP5BHGv5K1u-stv1l8tNkuobKB5NP8jvsvkLR-5cZLxftnn4UeuivIF6uWNAeTggerJgeK5vRX4qwx5GkIuMBRPkDUCpzGgtBtDdDwffNAjvsevEN+iIsaNl4DxUdiLEdRNuK0fCO1uwe6sxvbh4CQlfykcP0nVVr1KtlXDkC7za5sCkBvBFxTCgBgwPIXQLRgyG6G50Jzx+jByqBGgl6bAaCMAtDIM4TxRGNqDh72oWd5NLNtAXpdDxOEyNTGcOTsQdh2fmekwzPOLP3Zy+cOdsbRamiGeefUtEQhf+f2u6jI7nAf2qDLyrbfYzBJc5Aw22WZfyAaY9mBpXHoJGfyAGw8AvDGeSAvT9kQb4rOC5cuYGekAldlc7NES3YZcP0anYZHvNCe0ufIiED1ddcsm-JI1dAUlmAHv9mBAQYheNcRfNeVf8BteYRDe5fdc-hW7jfdAhcC3ov9dmrInRe2eUL2extTdrlWkFz9okcteSDlegDLe-GLD-G1frcP0Ld0CRelcPerdfbrbYhQOTeIoJMe3Odmr3AfdQMzcnFWDYjtfpdA85Czs-hBEASVePdBHPfmnn5ZZl2BC9gdfI+P0g-Te1kDkq3zdEpNf3crcndQ-DfA+spes7fKpnfmekZpACOhvw9cTQ8o9YA89t1IfY+-f08P6o+Cr89M+X08TC9TcPulaJkI+ndmeh64+vcg+rmND8aUnXf2ycWwRKfBH-HmQdtFeaATvYm6SW+RbQJsBBORAXQkfW9soALO+Iug6TH5EsBYeuqgCifFYdm5f8mXeUFG-kBKfAUq1B9mYk+pu765cpcDAQaycuZx-ifJcsgoLXFaQgVSdEqZ9UTJ8sie+u-cg8G77OCRB1SnPv0o+a9KEId4U0EN-KMP7PN2G19Bnt9PY9-RDO0dg18TqD9d8j919DxKoT9tHO29gz9j9se6gL9Dzu2KGjGQON-qEt+0-t8vCGFL9jYOivYb-AON9v7b90ciFIfI4r+n8SdN9REH9CYLTO-PhUAbSYdMD2RLMtn0igSSBlO9KHIIwGXg6QNAmgJpJ+wp5esF4p7CnrNxVor85sA-VfgZnX5f8D+E5H5mzxX77c-2JAP-mOEYCACIWIA4Dt-3VLHcIBPkFfvhjwEXdQA03L1j+39aw8rO1IIIjQIpZ5sXg3A1DjG0YHk8yMTGZ9nxiu4cCgQ3ApePF35ChhcgLAb1qYTaCHhBQEmOgI9xUFsVrgdAarlfxgR-MNBpjLQWoPpC6CUuljMttLEOhS8HkeDcIAoKUFV4TB6ghwcSFV73AbBBPP7C4LMEvQb8egL2rkHeS+DPBLwXwaED0F8daKng4wbem0F+CLBEZKwbGS8FsoUuFlSIFMH9whD4hpg1QBEPMGgthoGQnSvIPcFcRDos8T4m4MUH4BDwUIV6uCks6Vx6hsEOlJFEsDEgbQjgvWvbQFB+wZCDQjoeUP0ajCBWHpWoaY0GyWMshQQv2p8FCGsoMSUw2dqUMTRtDyAIw2oT0IqHTwuhJLaoYLmP6mE7kGtW4KmD36gBhIQES-hsBmyoCUBo-NAaOQwJXCsBzWPrhD0vT99nhjnLOt0CuE3D9+OheJqCC2EzpomxvTInQOn6oCoiwIygUoVkFiBwR30KEVH0yLgjwhsEEEQqRb6ikgm+AVcF0D6KisWQxI1UKSPQ7XRGo2I64bBEMCitRSZgWYVIAXjgimRizAER+QlDnQLh1oekYiPUJsjrENBTkbY3hBPIkONw0xmiMhHiUTevYTkbYJ-C9hZRqoxoPKP3yKjMi5bRkZqP+wdgNR3gsVDoVJYUiSRkLFEZsjaLD1usOw+3PoKCJ5V1h4WSoMy0WgfAU4+WZjiR0Yh+iCQLwR1vSMdZ3DEBT4UxJiJBj4oDULmbUQZl1GqAQxuIzsi7yDFVMiaPSMMToV5yXhdRMYglMQ0pE5BIWorGYRGThL2iDMow4ItCMLEGpPRhAIgrX0dCF1GRLfaGCcxiD6i+4r7fkLJ06EKCWuj3YzlEIjGOZzsoAWTiOIq6ldZ80Qr4aah+FmwAEg2ChnQCHpWBQAhRAABIM1JAAAQXADgAGaAAJUKKQAAA8hzWQBEouCW9WYtGMDHJYExeI9Ui32bGfBWxDodsRCNsCmNBxP43tlx1fHtCZ0pLQcSoE+igSHMXfKCZUE47pjksztPcQeOPGniLx1428fBPh7ATk2sE8zAmOdqDjaxP4yQJV3FB-jvoURX0IRL2SjDCOC0C9AROQkOZqJM6d8c330GjCPkDQ6NKFhuFOAFMoOJTpQgNBiIDML42cEJL954V-xxALiXQyfFKckJiLMCQpKUkhRh6FgFFvmhICqciUAABgtqMwEgayXaHpIla+sPy3QS3HpI0AGTFALmRgA5J2yBCCKTRHgHmNYiuTIIjkjyV32RzmTiBZ-JYFcL8nGghWUTSgC0GdpBFgmmmIIpFO9ZVIYpGvXMpv1J79i8ougDkKFIfpSBIgyqFFqlyp5WTopVEWKZwTmKWTII1k+PrFJT4bAdIDgz4GshUChxeOjQK3HAM-asoAEwU2qX3y-4pSGp6U-bnMyQ4Ac6kQRNqZIA6nSBQ4uBf1oaNeCWB2pnUokmu36zgcX2+hDaQtK2mRTPRbQT1PSikCzgv+7wnQj8lamHTFpXU-4rAKPCLwueziakrSLUBXDly7AgEkgVcnyBteIGejAgNKAzYnhk-D8ugIlJKTgZcqevLgPwEmJiRd6AntAnmmPTfhUM6fpt115C9hB2A79tNK5Hu91p8gTaUtJ4G-S-A5MymaHGQIBcJiBAO7EDPEE69fkmMraTIJyl2AeRZw7QK6GS5XC74Sk6bEgMeFEo6Ba-PgjdIVI0YH0q1EILgPhFm9LwJADohiJN6wjxw2M2fq3SzFmBRZSI-oJmOYG9diBoxaQMejBx4AlM9s8DBLOeGQygyMst4RaRNkg8ZISspcQNz1mD9IsACDWTsS1mZE9+powIDrPPz+yfga04aCKLZTTIThBdEWR7I+GK9QMh7B5GdNiyXT8gxsuWeqWUJ2yHZPUy8JaKpHWjr0SvMuaxABH38P6vxOGVqRf66hg5BsJMZoCx709wxvyQkRiArmli3eQQMhiWOpERl3OagLuSdRejMjSCoojkYdEzFIJA8r2XkSCEIJmhku08qgj3NBERkQgHI6rqK35kShBZW8nIIXXp47zt+oAEuUplFFBEu5sIKUVICfmzyDumspMcqLSH-ZlRL0OOWYHbmhyeBz8wBVSnLYAKI5jQdQhaLHlVzW5-EcKCi0hCw4BWkce8jXFhypQUW0HY6LQAPDNjGIJ0lvgFBOnt4UpbiEhfoJiG9hew5C0xuC2kAdTBQFaQGVyEsYBR6FpUo4UaStoiRIpJUxvimM0mgAcx+I0nCrQPC246pcGTYLAgKkf0ip+QE6SthVrAL9UhKZeY0GAVJiRF30cBUdgIU0Qlc-uAzCdMMVmBxF6pHyWemICazNFxYq0cPJXkViDWiGRlooB8iULi86gMxbIuKFVirADog4aoA0XThVU2k7cWhMkBniFkAAGQZp3j3RQ2R8VYFUmRSTIb4k2Z+JbGe1fxxE0VkBPyXXBMlHEgCZYwQkzAyl7eKpbIpMioT9xsShJUktwmKx8J9S8pcQGdq8S66wdalKRJ2HkTKJ+0YiZYuRY5AGJtQrkFL0GWhLEpOCyZYxN4UDwraZS7Jb3MkEiMDhfE2CAJOpSRSLKoOc5GIlkVCLlGGynQlLxUlyV1l4E2wFpJtEChw6nwT5smNpbWJRFspKYS314mbD9lpQQkYmlZS9Li4ygvIRJlKwsS1J-o9ifos4kmzVRbok5WUvhUPKTZKNb5QcM9EeK3lnzLiUOOJBlTIxl0YQC5hnEMcqWLIXFbSzD4rxfZkPUlbykdxmg4gkEPFbSwJXjD4mTK-IAJ3eVeKn+05KYU8pCA-iH6f4gVlsVAWMiXG88V6b2JWW6gwg9qY0IROhnQy2gv46Sd0s3QWzxVyXHVe9LSAQZjOLmYZb9yolGqQeEGdBl7kSAwqomownWjljmXDioudEticQCmUHC6VANKtC13hZeqfVCg3PD0nmaESXgbou1ZYFrA6rCVhw+9pnJ+QjYahqq2RRqp-HnLiV8be5e9W3qEKOkqijYF6wNWXziJb3FWmaqJQWqDYVE4iTaqkU2BY1isFKc6slp-Y3V3Qj1ZFJDXEg-V5gTQAGp7Uos+1LAMNc4mSkoso1BVGNQ6rbVTD92Nc-1IguHAccUp9qR1QGMIkCtBFRq7RWFiRD0g91O6yxkeq3UpMd1Xfc9TqqGQ7qfkKqywBeoMzu0s11q+4bH2kCsT1JDmFzDEownnjLxN48ADRn-UnjAN2E5JRGq9UzqLK2Qb9bCvoA9kZILIVBKxztjsdj1KC6hRsEfWfAUpr6-JdmrUWRj4N9Sv9U0riWJKQNGwGJVRqSXxikOkU2DTpTI2ZLkN5ctDaKoCwsE+091UFGGgmF-NBNXfCjI+H40iA+WLQ7uDRydDMN7YVWcTfiEE7SakC+EETYfx1h91mKEm+MFJqE3WwNNGG0fCOR034h9NpC9iEZrnhVYzNIgFTXP3U1yb28CQKIBlHpBvLBNlm7ONZrnjibqAxUpTfZq5U-KaFPGisnxtBRBaKAARRZlioUGWN-NxUxTbQF01cZotmWQ0TSq8UpYRYGW9wMQDS0kkheWY+LUSpChDrxW9KXotlveaaYkt3S0yYbwkD3UAt+QOzTFpC3YrOx4W-dB1pPD9bYtf7NxS2zmGMAchiwiFd0FCy1aLkpmlreZsG1Cr8p4wxxAr3UoFUdNbW9niLEG0FCFt9mxUutoFRlbE1PISrQUWhashZtHFFrW1sr46RXNG0a5F1oUE9LahuyxoX6SpRAqStVJGzovFrSvLaWkmeQG5pDyeL3mqaYrYbKCBBKyONYnYbAroTHaV58OkJcOJFECMeeA2L2GtrSCnbYwF2tkNQCRbUqgdkOnGlpjB0ZQHtxwyhFWg-b8sW+j2L-qPXHq9R56g9XmaAGHaqt1WrOatq9qJXnhpSH2-5a9ScS-bnEjoBnSmjf5Q1z6KaJUlsybZcTAFWRffk5QJ5AdZgBs2HU6mWTYdr+uKUCB2TWJC9sdQQFkHzqXYDIuQTMv9ujsR2hKE5MiQbAq0J24hidtu0drBhq0U7PmmmX3QLvHCV8IM+oF1pxVUEuYAAnAMB0jR62KCa+4GAMZhJ6DYvEoBGISAi6qYBFsyYcat7LJqH071DEEZNG5mAM9qgC5hc1ZBoAG9A6jOaDNZTV6VheM0oBnoTUfkpguwxQeVCiJ2BDkw+dmfryr0SAuK3e7Pdg1MRR6J9qgz0SoBYVsKwEyYVVcLpJYEjhVBw73QGt9DMK2KK+i-OTpJQKBKdmmJfYfq+CAy6dr5btuJEp2PJFGVaLnIoEyBmgCa4sklS5nTaChnWrrXluS0iCVav6fQB3QrKRR-RGA7+7Gl4wHlmgcgegT8BT2r0sgDkhyetmItpbiBn9uKb1MZVNmkJq9rzEHZdC3BMCH2evMwA+njVkcKOYiKjhJjIP-Fz1G6kgbepvXqq3EzBkHg+igMwH9YcBolCyAQNzQ-pqB9AwcjTE-q7AR6roPgfQPlgKDyaowFQeUMt7GgEhyQ4ck+Z4oCUDAbQwcib3XD59ye2sSCo+0AqzRHIESX9hIM5bvBCuvQErqWCXR1dDyPXQQAKqvxihs25MSGDtHBKXdw4wbCRBfarrBYI5PIHQDWRuBgDVaHNbikug-6PlGbHZAAfdZAHcDoB8Ax+sjGKEpxfhtw88uiDViU9oRjjdZ1+bWwCjpjEnVGKU5iMbhSgCxgI2NQEsiCbypwx-xTTFG1CpBGtprq8MWUfDoq-JRRMtWjKOxkiyMdWtracjbFT+BeMZ0MBkNt4FDYztuHraP6LmgY1QLDoAA6WAPdWCqrx0H8A9qfRh7s0p9VvkbKOvcBH4OEFUWAwbY28t2Ncd9jhso4ycfOn0hzjlx9sTQUIBc4oiJnIIiCdAAAAvI2qACONBA66XwcjhceJZDGTOMJu44KgeMgQ39zxrSMLxGBRH6AsRiELsdOP-HkTgJqqhswzwtHY4vRUgL0Uhb9gLm3IPAG8ZB1km-jSJj5FSf8o0mfQdJ4CM4AZNMmHd2J8sEAA')">function index_key_of(pat) {
    const key = head(pat);
    return is_var(key) ? "?" : key;
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p44' class='permalink'></a><p>
      The index will be used to retrieve items that might match a pattern if
      the pattern starts with a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (use-index? pat)
  (constant-symbol? (car pat)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6j0lTkgPXDhRxLSUO6ttKYIV4jXiVuu0d3UpEbrmoJuck5UiXSBJXYEaCwFCzF0JYS0vWe6pDW+tvam2jKKC42ZYUY13FpN85hDNLF1JGX7qg7PQoRS6Hz68tPyPYrDFYuxYVLZHdk8FxToE+AL1eGb2X5XNVhXKtMlXiy7fi5DZaz3srg-nJyTbzCgrpthsz7a6DkQ0vNLaQ8hPyxw5V+6DGxzydm3sndM8FoTYS-Btnu3OfqIOaYTxUH9pqKOSA436dzWrvigllmc9kGkl2+0ANQ2f10k-0rT83E04QDnx0nQtFKAeGxRcl8QTCpigMwmgzrx6iey+WtQwMLzsCHRwOEUQOoE1Fkn-FHyaV5UXT835FVXwJyGWW2ikVNQhxwh8R3wSEtipVfHrzsAz1H0EzmTGm9l20wLsEYM3C9XEO6SHkEKYEFEOWaAslHxAjoIG2gOXWYNEDn1H0GnUMFE0Ku3oKwNXT0PgKjVUk-lQJ4KdlA3kLohrzuB6UuC-yL00EeEelEI4V229xCG8N8MiGAn0mCBkMUGEOtTkMWXUSGQaDcJckBnSAj2xV8LkKMAAB4gj0iHo-94jk5vgg9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgZPHcUAAAan92gTzUeHAnkycKME6JzW3A6K6Mch6L6IKMcW4QLGKmD0UHKMqPwFEGPFqPqOPkaO51aJGM6MiX8AmPwH6LEMGJ3HKlGL2JgVugTUmNCNcyUNKAqCqFUM5Qvy9T2QCAJn0GcDKFmkIO2E9THj8LULiMcQNm2CVRx0yL2O+C+IeNmguJeTICQITXsPcl0gBj2PSC9TEmNQ+wGIROCCHVuIRKxMBLwwGNlVXVuKcRSA-G2GFnGBxJ911TJCvi4O3zRIXnIWiRKKBOkHKn3CaFYlADdRpOSCjjIWSikT0MtjwJENdn7Cmi0TWD0OeOMJyDhgRP8FVIkJbA0LFMjnziILBG+OoF+JznWWEVGS9UmTeNAEiHeO1LINhJ+OGg8O5KdMnWVL5OcMkKDio0hPxOshhPEFNPhOCXIOQKnG4M5KBAxOsixNAyZO12UyhMcmCE1GHCJPURBJmOSFJNJXJOOMpPXWpNznMBojdkYkZMCI4LZNRM6U3h5JKjtIqiFNhBFMFBvDvHbXdW2AlLBKKGlNH1lJAXZHlItMVIbm9NVLkL1JMOeUch1IUPnI1INLzkNPMKjxdLNLdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIlbxQi13myFzPQAh3BglvKT2AKjQ-IIkcFglLGSV50fNh3ex104U8kFSkV-LvJbyLgsWdUlAzT7RzX8D7SUk1IHCYW3BHVQvMBHQwsXIzRkLwtABkMIqQuwpLlIpLgoqwrv0pRfhzUYr4SlEwpSAzThDoFLEkFqBzS4p4pqIhHYuSAzTmMYDwvEv7BEoCAzWZEeiLAaDoH7nkoekUoYG2Bkv8AzXaNIv8EUFD1AFqENSWivE6KEq0vMAzWvD0vMAMt0GMtbivDvAsqIuwr7l0BSHsqMpMtACvDbiMvMEsv3wWOAFssgkMsctElMtADAFcsorvwAFJwrvKoqYrErArQBgqM1vc9LUrfKvdjVjK3K78ABCI1PKyKgq0Acq8SYqhKoEbcLIlKqqpy0AHI8weq+ixqrI0SWy-Ktq3qzq7K7ChaFqhy6qpaYakqxqhaPqzygIAa6Kvy0AOa6ahqhY0q8KlagIZa8wUq-wB3SUM+aCm8v85yOQsSCMATPtXQGCpPOC2eE67eMis62C5yagBoAAKxjw0WuqbkEFbmIreq-LE3AtKiIUXOSHuoQkeuOC2iwFOvwlgsvQ2PEmdQzUZUyhzSxp7mCqiVEuwsgGIF5lcD4s8uJtJvqnxoJu0uwtUscFgEgDwoZqZpptppCu3AZoAFFSKeb2baaM0AA5SQIW8KkWoWvMxyZ6+gESGGtkVGjtMQq67YATCCZaodfAIZeWmre0Y+GW-iHWxWowlWooNW1uGAtvbWkG2GxWhGttVqHCHWzPN8ycEuPfbCf8jMVKRgP8FEr6yQKQWBPCRmXJAyHWgCiPQEYChSVBN2vqF8ZIS0r0yKaoGMzpRQPfWw9SdOhMN+D+WELPG2+8ouNU3QLUo27eK9NUgWgIAur+Z2keHob6368ugmyu2W6uiQ2u-wOsxmdk1yBwxIQVCPESU1R4UoRI8LDkzpPeVOhshMM+XAMAD5JgE835M87gTAa3Z-dwCgRwc0IcG5ZkRgX0D9SgL9CPPfRihFTcS28+y+-Q1CCMQk8G6DB+79IhUY7cRwHY3NK47FSY++5YC+z+5+64FMhXAoz9MBjfOwGIZkImLjWPO+LFCiD20gUgeFISFaUmQCTB3yhgTouaTB5M7cEY4IchgsYY0YyQAhqG5Sch3QHoxQnqEgEyTUVBhNMiCiHhxwdh5YTUECAASGNJ6O-oWNGIQdJE1GQbsQE1VwEZFFEB4Zlm-oMG3DgdACUcoLcBYFWkeGvvh04UnH9EoapW3AjEJCYVMc1Q1XzBFhx2g1MaMFRUgdxxcZquNW3ECCfBfsgiHVscCJ8csY91AF3roeHEPrbBPt9FMf0nSBFl-B52Ilsa1WTitUGGl2Y3nRccBkockc6J0flWFH0cCbsgMa-t2KUhGL-ptJ9WtWyeTXI08eqf7FqdGOKbNVKZg3BqAkqaqeTifFCYD20eIA4aUG3Gop4d0C6b0fAamELEiPie2GCGKYWJIt0GdXKcMZLJMfIlQlmfGcEZKcYBYH9A1AAZxRWa+B3AAHI-75ohiHmrH-60HJjTGtGunzRGAlQfnHKpDCwccchb7enlN-me6lIM1tFZhhjg9hijxyBhi-hhQkXyo7oI8nwFnUQxmJmwWv4IW9nFBCXcWTnumzmLnSXlH8XiX2hfmhloMSXvm6XjKT8o0A6g7SAQ6ukohcIQw+lhpKQjGudmjxduwRozHObkmxXiAc0mnC1BXVBIXG5ZoOW7guXKBGZbkqR+X7hVHFWiFXnMmlAJX-GM1fHmGhMGnBgJXKWRo2X4l-mxkLxyQ+XLR7gDXF5GJS0xdedbXBzpSm7sTxIIx6m+hfV5WWM1hbXc5TrdXNQ2IgJLYBMnXzx7RXWdX3Wxp+mY30IG4LqkzgmSL-HIih1M2+lJUgIhlLby37hK27JDWIGC25kyHqKS3mAs362KJXnm2OEyG1Xg7NWeX2gRmcXIje3mgGGUgBMB2NWtXUNa3s2KnbXKXx2g3QM7qO2K3E2G3dZSEGI6ZMgCChWmzmd9tsKLXc0rXw3j2lWxSByPT5ZKQBFNM9p6pGpPXAXoIVVNxTXVn3G-3FnxLFWBTKoTwo8cn+kTUGpVtB9wCLsJXPD3NIjAOcXsChXXngORpQPDxwONpmm9p4OKZU82063GA2xyBqBZI2Qg15gv5EPAX32TWhWyGUXyPNGvso1aOiwyO2wF8GPjSh0iPRRc23kwAzTIUKPH67r7osIOyJVyBl6162BSAHpiw3BQARtIJNQo0RtLdLdfAlC-gQxFBWRah48Fhg9wlhWccE8rOwiwncbZgEmxAdQPAzOwblMh07PGBrPsWax3GfPrPk50hjPSBTPRBzOTVV0guZYHX08WR5VH7M7JEXqHFqNv1LYM0257Rv0+4xS2UyhKhZozPHAeBdBSu2tBzzApE6BCAGhcuI9LYwuIucJyvov110vGun7yyD2RYnPSZ6vuvA4pyq0nPeuH2pSXqgvmv7gTPKuiW6uGvH7iFRuncBugupbwonPMSOvOFNuJujSPiS16BUXWuyuKvIvHAgUQT2hT2auXqlvuvZu6B5urv2voMuuVv1yaZvWnABunvvvqvkhMzqNOuQxwhuup3pRIjnVSv2vIiFv7TulDmtSAhPuIeWhhvVuihJv+wpEZvxIWuke8MhvvveuAgl5+HYQ0omUv5NvT3hHthQfSflvv0JQmf26f2s9uekeA5ofoFWfsez5OeKz92PSpQWeYvLPfPbv9CKeNzcejvPSo0BL5BVOoj7uz3MI2BgmHjivR2GEQgiuqg350hdfvGMpNR2OglggrfUWglA8SoWAcOqo7AJPWFuzovv0+zFfSc7A1fyBVOoKXqPftkMumvxJNtuvM7XwpEFPLYw+pPv0Fj9eqh3VoLZPxIk+bkY-tx7f2Ol6epNsGgMo4RsVoHQGI85e99IiP7q-keohB9S-DoUD6+lAW-y-DGkP3HO+E1m+y+USck+-sU99oMR-DGtGJ+vbxzrV2-dArCe+Wv5-lCNStHs6v4V--9F-AXIiS-B+K+t+UeF+ND4uG8P1P3jTnzf9sOdxfHrCtNO6tAL7mxb+9Cjn2y2IP1HA1PYQI9GBN4PUFQKoAbAscJefXGYBf39bgDjEL1CfrIgP5TgMos-G1pSBP4mEFe-vQsANwn5bcAwYzT-q0EYA-8YW--EDqv30K7dgBSoafsP0QE49aS+7KnihxPbA8tyZFbntQJpa2tdAXA9Dnex+4Cw8o0cf0lWntYRg6SfvbXvAzNKgClWZ-M8LdBJQsARWdheYEsFqB2I6A7XdQbxUlR0AquX7YxqTHKz+NdBmgtiAYMzqvNS2y6bQcqxS7LVMUyg1QepHMFaClB2QMHmBnKwC8OaRQdwZYLayv4r8vtElLDUCEmDdAgQmoIYKv7GD7BZgvKHoKCHWCIGtg1Mr4LfiOCloGUNwBHkDo-pkhFg5hMUP0FApM6fg-sDkLeYuC8M5WO4p6k8EqD8ASwDWADVIi5o98rQ+QGpDtCWBsgqDFwWrU6FxdOO8SHoeQD6HODBhMw85j3xYreYBh5zfxlSiNahCChEQsoV-GSgfZmhtdGoZMOmHNChhXgtTMsP1xKEN+-5PoHxD6gQEQG0nUACSFBA79JgUieAeJGn7IC9ClfJ4VYRWRUYcB9A8IhtC8R-D2ezw+QOgI1Iud+QUwjGI4Hkoa9aBF+XAdEOhEUCH+e0eEd1iRHq98i8IjEa8I0I98ZSwTfAAOh7gjF-G24SkaGmpGYc3OnCIkVCPVT+MZS5gI1k4Av7wijA-ja4eBBqz3C3grIl4TCMoEQNv2qqPkXYyWbc8XhkrXEYiORH5FoMfIqoVKGgyKjNREIZUbGFVE0sNRaPAyEOh1EminI+pV5nSKpGwsFBuaBNKPRkhzCDKtfbnoZRqFUpsRIgVTgsHkTaIeO1vVJrx2OC6AnWrIp1m8NgGy1G4QfNSolEtj6iMwho8MZiLY6rA26-gpSJGNP7GlVRzWOrsJDIb0iI8sLVYS-FeZRknRbCE4fmMSjei7ACnfocoNa7tczOcQ6MfxAsQKdWxl3WoOvniHU95gvMLQUYGCBUoCwdAe0WXwpCOBSuvQHnuqmaQvUzOlsMtvIDFJKoL+ZnMcXfxGLpAzOI9KwKADKIAAJbmo4AACC4AcANzQABKZRSAAAHkhayAcSPwWtzLE4xgY1FvDUXHdYJRe+QgJQRnHkh-xGMSVk2NAmVsQxQCJMZSybEyAWg6Y+Glo0Ql8Ifx5HP8XvjPEXjrxt4h8c+NfFoSrAXteYOSBglBi-x8Envk2JdGgS5xV3BcfBPKgoTaA14OYSRylxl9MJs8cCbYEAk985h7INoQJkfgvD4Ui0IJL6J9BFgMwbEtYBJJd4cCERAkrEVUK-GqdeJ1E3oRjEAkEZR6AkISArQnihDLYAABgEI9R4gx4IrMZJFZlhw+lAL+IqnskqASAGncSBixMkeThQoxHgICKrTeTYovkxgFo02w2SiBVfJQCv2CnSsnJswN0aqhCZ3VuecU31m2GclEt2+lwnqJYBrhRTH6TgDKMFGMmbwCe9k+KZlNmB8EVidkiPA5JSY3JnJsfSYD1CUFshjwMgX0AJ3BJUYoBLHZKEyES79A6p7fcgelNFYJTuEUIFgUqyGkcDVUHUxwF1OkC+gSCJ7XUb3UsCdTupuOFdslERjPtleWA5aatN9DeSGxzw0QI1FhBOBxWaA5HjAwb5RiVe8SM6XtP0LA8qeUAkbhSmrLMiIRDfJ+mwK5gNxfcogTAUIP1gwChycAhAa3yQEZhfhKjLEVDPYEMoaeI4r+A0DwE4tKR+UNHukA+lrTFAqIoKLjMEGGlhGePOWFRhQ78jgyJqHaStL2kkFuIbjEmb6GwL+d+w6QAmZqEO6bltCWBFmedINb2jBRfQdQDSBT5H9+SWI1LjGM+HSJEBM-X4SvwBGTBhYB1TGcOLp5kz6BWvbmMQD6L4i4xhsxGZMnRFjEOaDpNGWMQHI-TlgUxDmATTwBtxPZEYD4YgIRld91ZIhe2VrL6lVpdZ-3LGQbNwFvw1mpsw4ubI17z8LRAQcme0Etld9lWlokwmbzBGfwgZqMoObmMjhMDGI8wW6eEh6BrB7Zms-Ujyg9leyQ5fmG0QyLtEkJhBkpBuZhA355yQSgEl9tbhIBmzDRqgBHjd0VmAtyR3jEsYyP-ZNzSxhvD0K5zkAsiR5krPQtyKIFZ5ysts-AVLL5AUEHgKfYeXdVHlWF15vIqrgKM8R2EhRMsg+RHizyjyj5is2KmAE9ltx15kRYeUYC1TyiZRbWfxgPLjmGj1RWQgmuqLaxbTkggCnCIaLLagKsxRQMthAqTn-ErREDWedSOnFOBvJd8dHMKx-yBY6s6OdFsZO-IdZaAiwYCbSEuk99Lal0wfMFIXw0KjB-QF+Ljmgz0LJW0LaQF1NqCio7osHV5pbQ4VlTGhVpR2kWHqlKBvJYYllsqlUllRQAOYkwkrP4iLBI8Uiy2PlJULt9ipawS6SoherQKCxQkESCGyUjGKUxcipMZArhlIkqFDyAoRmEum2KUgyitfsaWMUJiKRto+efgLWEQMbYB9FlqVIakL51FAYlxagirFWBnRJwrxbOFMV3FDJuExwHeN3AAAZbmm+JFIvwrJUuKwFpO8migbFY8zxSBJp5gT4J-jKCZUslTFL+JqaV5uhNTDGTRQg+FpVIvaU99Ul6SrJeABInDhoJbEBpTRMBbCT66YdfsHRJOEMT5xJWFiRaPvzGSOJzQp8FUJmXLCFil7ZZRHlWXLCsW9oz2qMt0lqTXpWA4SZMLEnKRvJrcIJJ7VJA4KZFKkgCepMfiaT4xbSxpfpPtEPBYgDU-5rS2FBO1Tlii2cvsKEnNCRJ8ga5UUHJFLRkoEyksGoO2FTKlIvMRNrBPoBArfm8i15VYV1E1DjlXy1MQov0lQ1wVFwyWS9AUDBLgVOKqLpSuUHlSXqWoQGuJB7FMcGVQybcEEv+a+8sBes2nlXDZVcRQRfywCnSt+YMqJRzY7ICkSUWCBL88UUUCSyZXyqsFZEikMl1lEsKeiRojca42RSFgL+64jeL8so6WBtJMkZAaBKmRUTaAm8KnqBOS4KS-pKQKRKuPEhzKmJJWN1b1ykRYN1wM6BSXKt14XFNlLYjzjuAUn7LlBAq6GvdFa6sSsVca7IOXn7DLMsVugGoUGvynDhQ1cwhgdDJEGGlAMXpS1Vknsm2rKloSr6cuJjFJjLYMISheRgMXay-uWq8kDqtBXuqt4MYr1fYEqWMScIzE3tQGpep5qZ0wUuYabUciRrBh0a3ZaIDTUsAE1AQVQEmqXXeTV1GamHmlOMk5rfKU6rQFIrDXFraZFZZOlx1mAjL7Jwea1WsDdULDsFxk+1b+MdXbydg3HHBW6tebccFJ76rCY6q0YAasVQG1YJvCHDB4aOWKmfnav9XvDQ+0gTFQ6voCWxUl+E+8Y+JfEDLJgmGm8dhqIk5Ks1aGo9a3GaCoaP19ATcQ3G3AVAOO5am9XevvnMLJg0Gq1cFJrXkS61YpKRJRq6UYbzxaSzJdkv5i9LRNJGg9Q3xqECbiltGqtPRvKCMary4OesjCC+ojxFWfpDGcYJGisNuJvsDTURG0174Npo0BhTggOiaahAInTaGP1XT6bX8am-unMAcA2ai4pml9awoRxOatGT2Lih5rjL2baFy6PzeML2g-Y3NdAILXZos099+BBmydPEEeAOg2IgKpzaFuUzhbX2Po2gF9WoAlTjNtm2VUWu82cFrNWm4rRQAc63N1VLAV5hpsK36KrN1W-BG1q1iRI+VISp7G1svyxbNSovAmvVruKbrGqMLYYt1uBVP58tzWovkBnc3NbmE7moiGNBG3lb6ygWrTVtts2SsAlizPIcKE2FFCNBdiR+FNulUBaVtQgZbTFtW1DIRtHPLyr5UC1LaotO2mrbdoG1PboEI2zdGNoWLwtyoF28ms8MW0ZR5tyW0QKlubBARStEK8ZVCquVNx3lI5aKlgCG3JBFhw0GlWyEBUpa0tUqpUFW1cXSgYllHGsVsqsLP1Md4UcnXEqp0aEMdTPdIFSh+0fFDCRa2JADtdTUA0WO4EHTmgJ0KBIdNhCiVg1f5gDjS+SW-uPUnrhBc6mwe0bO25aTI4dFA89RNCVJI7RJKO6UPCv0gUgFg90JQFbz1pUAVoCJHZlrAoGk6-8C-Eymj2A7iBMxCCiqLh2qjwinpXvHYszsx3bgVdQ7IAo2wC707KdLY0+QjFyV8JoeI27nUmoD2B11Wqu72JNtx1E6c0ge+dijwEJSJmQrrAShoMtgABOV8D1EL28Uw1pMQAQtu4oaCw1-5NwHfAHha8qekJDeMDydmMQ7AgRcyVrwCAV6lQdzO5uVDQBj7111EcXslEH00shwxa7YIPob2uBEUwktTEMjsB3hysQsqQYvuEnL7ZCugfPdFsEpXSZAvC-hanMrgwb4dFwskZzuaHx7xtPC3ihftWzA709-KwCM-r4VmoBFou+JIuyJ1QRxm90RZMKCaAPBqaqikSFqEtiptagLrN1gKzxYZQxt39Z8Ico7WQQEIjACA2TS8biRtwDwNIkiy14z7twt4O8IuyUUssh1aB7sjZUToRgZ9zLelVqC8glqyEkg37pBFDWUdqORYW9XYnYNa8f1964gYBrA1oaGcfzefWBEYg4G8D9UAg8tgZFaA70sM8wOQcoPNQFJWEIQzVJ0O3h2onBkwNwdMPgDtDRhmg8CoiiFiKYDBnQxPq0MOBBKVexFVCthWZycgUk4JKwelUmizdV6F-koC1ASic1LuggL5UMAZyQdxLZho6NiXh7BhXohDGWs-FjltEdAY8IilQP3QWVMY2A+JHgOIHF2PPalnkZEhDEMDxa4coKAsRxGwjDo7FNWKr2pHApTuHHHoVq04tedsY1TgmjZGSBLGwjdIP4aVBBHn+K0Jo5rVHw277dUR1uDEftHAS2Qdq3VYOP1VmrRtW7e4EAbubpjFACCgADpYBf1yK9SPwfwDB59GbOoyhNW4gGQR9O4RQxQVg6vhADgKg47xyONZjTj5xsuWaio7XGzmPPVVIQEWRDIoukRCE6AAABehzcwKceSD10gT7IG4wsai4InHjNkZ49uFeOah3UnPbqJkfoA5HNwBxi42xCuMYnIqWzbCsMbDzDFSAwxWFqhDuZnw8AnxkJZScBM0nQTdJqVsMQaDMnWTWLPE+1CAA')">function use_index(pat) {
    return is_string(head(pat));
}
</pre></div></div></td></tr></table>
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.78" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.78">Exercise 4.78 </a></b> 
  
      What is the purpose of the
      
	<span style="color:green"><kbd>let</kbd> bindings</span>
	<span style="color:blue">constant declarations</span>
      
      in the
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green"><kbd>add-assertion!</kbd></span>
	<span style="color:blue"><kbd>add_assertion</kbd>
	</span>
      
      and
      
	<span style="color:green"><kbd>add-rule!</kbd>?</span>
	<span style="color:blue"><kbd>add_rule</kbd>?</span>
      
      What would be wrong with the following implementation of
      
	<span style="color:green"><kbd>add-assertion!</kbd>?</span>
	<span style="color:blue"><kbd>add_assertion</kbd>?
	</span>
      
      Hint: Recall the definition of the infinite stream of ones in
      section&nbsp;<REF NAME="sec:infinite-streams"><a class="superscript" id="4.4.4-sec-link-3.5.2" href="./3.5.2.html">3.5.2</a></REF>:
      
	<span style="color:green">
	  <kbd>(define ones (cons-stream 1 ones))</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>const ones = pair(1, () => ones);</kbd>.
	</span>
	
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (set! THE-ASSERTIONS
        (cons-stream assertion THE-ASSERTIONS))
  'ok)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNBiQuFE3NFEEtAoLJcgUQh6GIOhKF4mJAvdVJ0gUFgyH0CappqWbwlAAAfPbFNFD5SGqMQNsULaZrmmIDqO1IWDkjghAuybpp2-bDpfZaMnGy73pu2I7u+sUPzVKVNoBp1zia8wRpcxsUOIV6ro+iJCgC-i3Uh7bKHCgbkyW+4xAkYQGFnMEPgUSgdj6Yn5ovBI3VFBCjEoanwgAMk53p+kGKmbuEoFKDp5gxHxrBYeSZbyAUZGceuhnFtFMXSfJ0EUYBiy6Fl4hCphy4WMMXxVvwRt8BkNJdc13Glaxlw5n0CMFZ26GCZYxLiAYc1qDEOg5dmtnTroMRuGIAAPQhAjcZw7aZtENfBH2-YDrTuBOs6w8j6PDFj-GpaJ5P-eum3FaLBb7aJ1XanVucXZp0Si9T-XJcNtym+uhhjdNv63tt8vGYEx2I2HutS9d-kDcG8wO9mhgkYYCOo+IGP6HHm7iMW0fbWd-7bcn92htSCplDYchKrXgW44ElXyBJmuKbZ6mLJLIQQJPs+L7oeFPvu4m1cfgLCyeZToOgYB-c+2Vv7hDulPQmECv5dxNo9MC7MN7LC3nzJ2Y9t6oI5pMN2BcEFQPnlRRe2cV650vmg+amCRgRkwjQg+rdp7S3JrLFgwhyDkOXqvOgT90GxGVqkauZNAFoIsmfVaXCeE52cC3AuUjOHcMXBQOWo1DACNoZXG42Ju4oIYBbK2ctuC4K0QfRRHCZGPWEL4LR5c6GDAYWPK+zCC6ikCl3ZgWhU72L-MI-+D8NZANEp4j4VBiDN0IW3cwnil5yOoRzBxlczGuIlu41Ibw2Kok6H4zG8cq53wAcEiRoksnUByY2eJlD5EwK+v6W+98xElOfmU+g2TnA-HCT466CiYkuHKZUhgy82Lci0HkoRlcKYMECDIAR3A8TRNYSodpFTOmNkpG0Asgcr7JIKdM2Z8zQCknzv0lZIg1n0B+J0UaOsaA5mRrs-xUzQQzMqEcnQbsWGE2OlsmayhHk0L2TfERRSglzhCeCYw7R-l6yWYTT2Xc-mOEBdTMIwK3SPyhcigF4J05oLCKc5Z0LtkAq8RE1OminmxAwSkrBjD8FEsJlUUgHxyU9J2QS7RBTHYC0JWcb5LFo4gW6ZE66VKuUYpcAyyg-K4EsVFJEzQuISWwoEei55BTRTpEyOq+FCrUhnzZaK3xfLuUgrSL9bBD4uVfIyQwdgHgvATMmVq0FTTa6U1KeCR1ygvB9OWb6rwDr8C2JdRXHl9KXFMPSWc0UGhCAgjGc4cNATRGeqOUnQgibqDJvoAG5l-TZE1MSYIiNQ8o02sZQKgu58xDFr4RKpJmqK30LHjKghsblmihAfoJe19mbuuKXOJeFligt0FUfBg1QKjhwdPoDiA62EZxDkMLBi66lE17Y7DdXafkfnDgwIkFsF1UAZuebojId1nr8gE3t3RwilHBOO0AzRuh7pYulLxgRZY4jZN0UkA9zwtSBOlP9mZfAnPyRazs-NH2gB1WwV91IP1TtIBkQFFKy6b0ro04dXqsOzQsuhjgBaWJvFPrwKh-CSOFhw5GtttpaMWLObRkNYbmMDwCYh61WQIzMcmCGUoWLOj2XIL4ER6G4UhmaGY-jGHO0CsneYD4wQvbmjTFVao06D36A05pWOA9XyihnRHed+nUS-hDBevwjJTOHuPXMizedrPFRUIkQIc9nM5ROv0IShkVhft87+7oFlvN0HcsFhQhUYL8BxGFtwmn6CRcoD+6LaF-Ss3C9wJ4gIAB87nSCeZAuF79fnnx4WPERck5x5VuVU4EGZGGdM6dndkBTQG3McVuYyCj65qPtebH5YzqR7Pzu62QOgVmVg2d8HZg9R6swnom0kQ8DRzzKA853NjUXAQBemEF1Lfn4uhIwyltLMXpilRO+CWj52-N4sMqzWjOXwgAgK5tor23mtRYq4xKrA9auH3MFRr29nT1lvLYO79Z010jF3UpjgAgAAqAAJAAogwAAguAcA6OABKyPIAAHkAByyAgSIZOMplwMhJBqG9olgzRoIe3O4HIXWS6yjGFaxHVnk2-RFFKF++zNdwuaJW1NmT4gBydEbOLpln7ZeZEZxpVEmiudo8xzjvHhOSfk8V25EXB6xdM-V-z1bXHK6HbS2+BbjmLdTYS2r5w93ZYTrwFLFqchFAQBgPAJAqA0C9TxMDlwxAUIRPXmHOgOZzXQ-hmNdeguZKJ5+EjZP0lmjautvXFPQvZLyUIEgnupD1yPOQWbQxlsdZy2TzHuPWeibENRJn-0pQI8-Bbym+uDf8+rELjHFOJc8-SQ72uVXvti6B17y0WP-fYjZ8yasypbeDTj5+IM9Z0e5+N-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-u3o-r3u-pkDsULupsJnymL2coz0MoGsTGktj3JjkmxAFumALhzJenLttt1BrI5L+J4w3soo7wQfRGxD3piDFvpvrWItyJLjEMouaEMpUiBF5VjthPb15hGELr3oYdzN4ybrNkrvZuPuwdaPjGNICIwKYfZDpk1uoaaJwaKFmP4bYAsmskenKAQ11h2KKAVOFPW2VOlsZHtOVr7SNL7EWnQf4V9utpds5xqJ0l9oENsblj+zEbceDt30QaIFMbj3+qcuNpcpgawdgZiBfOIaQZ8YUbQd4cwcLr0dsOPMtV1QIfQiIZzC8dIcqIobOijpocDjofQgYeNqkZYezrYZklIkdnjtMvKaUksb4Y3utFtFAdbMq3EYMEkbyvVsXkmiZLkdTgUaYovqCZkPUZEE0blg2Nku0f3L8LdOLAMd1iMZ5ssMNqDPMcrnqesdjucb5HsfQkcaON2dcZ8KfI9vD3Ce8ZFoai91al9w6gD26mDwwDitSCjkcPMJcNYTKKmylUKQ9UfnmPeacOarhXmpcGBc+enUmg4FTjoOsL+bMXCIlnPEhecNCNYRQo1mdCxTmFhtiDmAnBSOmCxQ5HxZiA5CJZqKxQQnJcnDgipZxcTgpjpYpkZZJcTm1V+lhq5cyH9GJbf0TmCkTXE1huFbPjmwNAFaKCxVmPJdmL7GlcKCxRuBFm9hYEMDxVVdUHVZahWCVdiCxXnrpdiH0DKtAF8DewKxUMXslYNZiCxXchNZiDNe4EtduJUK8jtepcTnTOmFdYtatdABUMhAtZiHtfDMhuAGdYMHNfdfe2DdADAG9aZchoAFIY2A343rXQA02w3QAI2sUhYTWs2g3cqRJLWfXIaABCYSEtuNst0AWtoESt1NsEcEFuzNhtj10ANumIVtjlyGlugEZ10tnt4d-twtxOPLLtt1xtgrSdqt9tvLEd7gIoMdhNlQldxdttiEatmNxNwoBNmIat2IZK50J0VF0wqFtg62vbFYK4uYbgNF0FjF5MflK9j59Ftg-AFgAAK1qpAxDCuORFuJpevecNhqReSNnL7BfYsK9ydCKm-J4Ag9fdflmixbnCxVg1htgwjcYsNcTkgDoDVAqW2LXZI7I9WII8I8jfbe1YYFgEgHJcY+Y9o8I5VaoB1fRzpcY-Rw48YqxVJ3IFJxjZE9J1qdf0va6zQ4sIw5FVjvvemBA9uK9u4NQ6-fQ+Kjfg-dk60-k507ngEOU4aFU4TaRc3E05BcM+-N06Q60MTVxHg6+eTB+f0M8Ipi53sO03FFIB0Jyb-fIDzBzNOk0H0HyJc+hcTX9PhfKPyLrS86OCKGsuJX4mL36ZLi5wjsyMy8DlSITSHIXTk9c9ikwbIai4U6dsroK8HJEGK4M9K6ql-YA9MBtoq5K8Jrs+M7tv2YaG6dkderybmgliR2ka9jEC+ETqqSG6aIbPS9ydIqQ9Csxbufan9y6iD0wDeMGIoFMAYBhQ+CqhuFIGdRAWoCfFTqJhWjWmnDMXO6fFPuAI4Ypp3kpvPgu7+AIT-oYB3v3uDlXuAbh1e6yAe6+6e6Mhe74bB+wnBZWQUBuCRWKLqqDjOnNo8fIGUE2wUAyCjyMH0Kx6DZakXr0yx6kfBDnqfTntnosg-sx+UEE9DAp-xQB9eILgcFUWMFR5Dg868N59Bk57o3-DZpXr-ohA-omkR+MGR6lCuKEI5-PmMF54mD-usHBDh4V9ZS9lGgUGuLEFWqSayDrQXyfUQ20mmAP0fmN9AG5mkkCMN74eN83TMSd6bdUnHRN4MEdmt7yufXN-Xzhr25AkO9ihO+dWN+xPbG9hfrzX4Wt9t4nBzzr3qLEoGyd6LtEnF8Xs155x1+B718EM8O+93onDnr++cqMVjJ+eTA0rj6L83s-v9DL4-pz+17IF15d88ML-1+L4C3hH95WHGLoEF7ylBFhseLKGH8V7b9IB4gXwPyyyL6E0n5H-BFpe4Efm96L6aaN-r+4Fb6YHb-n--wPtXQj-P3BAAHI-u60-7r-pcgG7FjeNep+teDuCxSA7EYVP+DeeM5ZVp1ojsb-gOzo4iYRA29YINvTshpxG4ZuberRnhAQ8C8rffPsAI04Rg0B+-V-rnyP7S4UBQAj-pWyEaYCV+0-d-mQEtb-UguIXZQGFytJkIo4HgShH2kjgG8aCkJVvP2mX4iYY+UCWGin14QDZ+0fXIoFcWoHrBaB1ATQOpUYEAo3AyvFgYQAITS4k+yMLgefixTjp04ATSvtbH7TH8l4-1YAUgiUKHpZBzA-tEZgCLxpeBnA1gTWXPC3timQIEMBXxrzWwBBCSfhPoNbJXsmBiWMmAYUZBXFjBxsUwSYX8E20DCigk5naSLSMNfetLZfqzB3TyA5BxgQIV3w05mJzBAQ72FkKQED4nBPccniy2SFpDKEYuLvtLmKEoJye4g0LlIPoHl4B+JQelnMXiHG0RBhQMQcFwkF0CZBFQ+QffWOL2Dj+StToT3GfZDCMh+Qrwq0V0bGEq++g4UkNUThaCFCpeXQfzXsHylXSCoD0pHHlKpdCYqxEgDEKu4swlw6g57o7BuGQ8lGo6USNZEWLyE-KbkM4WCxrRnJBiMBSwWTWhysx7hBeCMMCIHyPDI4qjWQksWqqCC3IvwzDu1WWSlZKA+AB1OpmEAVBBg-wtmp8IuG+8LM6vb4ciMxGq4ksjARIhcIBEOwsECIgMj4JOEew+KLAGdLDhh4y1SabNVmOyNNrURiRhMFkRcgZrsiYKrIkOFzkdiCi2I4ouHlKJyYZ45R4oq7hGEVH69ZRYo+tNphMY8iHaLjK7lWE8A6iw6-IliDl0GA6jMauoujFyKXCIpVRx9UBBBCwaoQrRYDBVN1xoBR4nhytLAWMzJggIGA6gEQBwFIAMwC4uQQgEwVYHxNjCvaFYfM30YodVRf5DUS1hMbejXarTBJn8VgyiihR+vQhpPz9GkJSAgYoQMIBDGKD2crtehiskjF5jpR9aBURqJOaVYDy-wYwkCPsHxNzm7Qi6PWLuH2DuAEYuxKCLGFZjdGCY7MQJEMHBkzmHjEcTEP+pRZo+JATIhUAlZdg2QG48TDXEMCAZqR13K1IYEWTL8dxvgPccSCeDS4UhWCE8Yz1NZE8jsssVcZHXPFdhnxCgMiPeO6F0cGg74smPuJYzdpQa-nfoBYQAlGBtxBEXcYBIPFs1eWYEU8efgAldwrx4wpcLykWS-iXWQbaoKNGegQSYJF4wYKhP3FPAcJoYXLAmxXGYRFkbiM5CuJkBnx2YGgdztSC5zMSqAGRMrL+hXEgcHA6cYCcyhYk8SosQccrJcJ+jJNPxnvPsoP3dCgTCJXsSCYZF5SyTuh1EgrFxMoBiTPxEkl8YwjSyKY9i0lcOIRWnSWxKQoIEuDqK4QNwA6xEc8MmKBCqi0xhtI0ZmIQkdgwYXoBsWdAz5miHRn3DgNwHsnVjOckfSXAwFVZcQ3JzY-MRp3Cmuj-q0U2KY3Q4hhSqAEUvUYeOVrk8ZAdYWoHPWX7ghCpewYqdLi2S5JMprEM9I3zaH5SYgKg1IL2kXQNTYgHecyZHSFBddc4HwEuLVOSne0WpwyJcO1O5hExWY9kz3mlKoBcQIwi6SiQaAjAzTlpMEbiZNhinzTG616EymQ3QiOw1pB06CN7WP5lSipwgIkaZOJRnQkcPmfSZlUPGsxzWWkhDL9DdHwi+gfqb2IwHCx6YzczgbgMYNqnGDHJ5Ic8OlLeQ0huijIOaZxEbogzspTIckfRT-ETgwZXk3sVDJGIFTLprQzqe9MyAP87pkgB6bbhxkrwYin07mpkXFyO4cp1o3sUxJYlXF9s9k8evljnJqATAwaIQGSOZz8IOZ5kScLpMmyMyHxN9BGQLPNyS4JZXyMbmxlyAOBRojIAAAzU4C4NQeyE1g4CrjaCsUagIMCVjNZlZoExkErPzLmzF6eICygUktkqyyAcPRFNrJLEhTkaH3UcHEGazsDY+06X0Fd1Zh+9n2S4NjL7JIRGyd+wUx7jTJcCeZHa7I0bDRg6xOS3MYc2wVplNAIZb6us9TBnJyhGyUo5IAuEdi9hiY2AzqHEUeT+JxjoxhkUoC7Jzkiinh6cnNH7KNlsMF+1w1gfXL7GlyGA5c51IOKUGSyig-cweXw30GdzYRxw3sePM6DOpmM-1CoGuNCCGJvBkI22o6NCmuiB4JcwIGXIXl9oFGsY8+MfMGaxBXw1U0Hp7KdGOgexIpASKlgLBZjZmh5aCM5JTH5j3JegiWa-MfnQ5cxLAKTufkKmEQDp4YA+QPKPnxSqIMFVsToywD-hJxhkAJECPCD5FSg88iufn3vkHR8qxAQ+TgtBGFCiqjULusQAnHzioc0qKBRPP7Th1upmRXqVNBjh-Bo5TotcBLMUo-kNRX8xsT-LryeTOcw2AIqe3fAVBwYgwVUTaV7EOA1620hGf5OFFwKZFaM9GVwpSmN9Fh1g1qWfLXC-gqKeASECYtcxJi+Frk1MVqI8mdA-5IYRaOIp8mSK-JMinspPwUXpSOFoUk6UUFgVmk1FPipEDWOgjGQmF5o2+TvM0XGi35HYgIivKHKpA14mi4RS4zdrGLTF1cgSBdIqlXS9h7Y+JocMIpeKORtilKU+RumEx5FwDRRVxEIALg7w4M3sflN97lSOAV00qa0sqkKTr5C6epZ72VqjS2piyDqTEC6kWSWF4tXOOwrqXPsGlwSi3lujPmEBAMy-M0ZZOGSTLqA0yu8DMt3lJswAJiyEKNNZh1KuYPMK4XBAXSkhl+VS3EJ4sWnYSyGi00kOtKKC3Kalu09dI8vRnTAd0LywJXUVdrnTOluSxke3C2Lexc5g2GWkjLFlJBgZhA1Zpzh4UqBnojAWjBbJmgJyIlK8HTNCrgood3luMlwROHeWeLYVbOHxX1iow940Vuc0ef6ExkiK2aRKqmbDJaX4zl+8khZWKXIGf9oVAFDaHSuYzLTKG9068vpNZUwy5oCsyQKAC1wMB8clkAADLo4KcRMtgJrLOR05pZtGCXJtPhW7zDxoOXnOHEdye9jcs6GuHqvNXS4v0cuXORrjh72qVcNqzXBjkVUqq1VzqgcKLjJg2rJcXOFcYV3q77Ybcx2ezItlxDLYDVTuHxbdjOxRZ4QOE8Nb+mDmnYOAbuaLAxOREQqA1sa7hYeJZlUA2Z24DFQmznL2FuEtGaFSHLhV0AJZOEnVQznzX1r5Zy4xwjFz5Vf9EVcsq0bxJ4hXdi1rEzJqg0MYVq+wwaurmTFUkHMZ0MskQhSvFmujlpb0+wjaqXWGqzp9jaxrJPDq4lu1+gYAYzIHXno3MrQUDqBkkBOw1iyMEgeCF5XADtGASXMReuSLZVqQnavWcAKPWECT1v2SPm+v4R0jNEJA3dcZL8aki2MwQBdWvHCwG8a18GkZXCQGD+qMMAMl3PQGP6obYNcfQGVhrh44b-pSG4iA1nUz4bGA2mcHPBr8hRQ2AgQijWBQVU64CcROMnOAD8jMbccrG-XOqqywUbXstxM2Axsw3vBsKlccEBiGulhkcNNazjKRtRGNY2MVG3TEvIhluZhNjqxkAqqVWqqON5IHTV6r42hyMMgmhNppr1XiaCkkm-1P9UVS9NcQbwP9q4ROK-8rUrmuHvaSc2GxFB6PGhVDw80mi3IvpbzSiFGEvEucY4iLXD3s3KpwEKQZzd81c1SSHegWrmrThWbBREtpgXzRKKwRpawyvpLLYbHC1+aLiIdW0AVq1nEAxAESMmD+uS2Hjh5WZcMfQD-b4BqgINbLbKn-WySUtmtULW50G1sll+4GvzNLic0daaMK8ECMNtLJ0ButNXV-I+sIHmk2Uw2rrSVpSK4QqKY22WMwmuxJxwBFkFbRQNhqTbqgDnM5Flqm2uUEtJW3rcZP60Ob4thgbrSmmK1ha5Jv0FQUpPAkqTiJUofbKdv5X2lPtOW8HWyUe3lZIIDQN6Tds61Fb7tYWu7W9q22w6Cie2ufvjEO2QCTtB6p9WFIS1TartyyGoLVvGTVF+1v2IdZ+MsKsy2J+2ZpXliQUGhEJfaAnatvJ11bD1BhBldBDFVkyJVtuM6bYB20F5BdqI4XcdhGn-hAID5X6BjqCWO1fsOOuLOCGgHb0QdFHbORTr5Gi1w4JgfgGoOjGHjtSTw7ppN1-Y-A8uI3MFeYAaGSDpB+lLvtDv21FgLGdOnSaWv9DM7FIEcI3eMnUjMBZoF3cZHvS37zDGZry01jmHZxWsDpSjOPchtqILE5CELKgFvI2I70kFcuooOCEd0DCYayg0MKUEl3kyZd8yrAhqpEFY63Yh2wvU0MEpa7OdZ27gI3ud1UQkOkM5Qq9pFZzYgQAAThOBEJ2IErAdUYDDHXax94mAddOlGhswMyJ83RQ7w+CyKfCPJAIi4DypqyL5MQcVuJn0CX9L+FkNAGfpmYb78lU4woAfrsTqSEFN+mfSqjp0VJ1otE6NBpxcBeRFkVC9xvvqf1z7X904G2jcEPS37Y5ggNgGJgkz-FgaU+NTG7sHV5TpaA6tXe21EziZJMBYFvfcS0Ddrx+UBzA7Af10FxchqQH9dUFKirgyAj0XODRxRWtBGQoQxQswDMEzDT0WvO3KVD-pHBEBoigwA8lIC0HyObvIEFCgqmzQf4U42-RCE8heQyDoAYAYpO4OqEnWCIZDTIYP4-rWgxwf7FfoYivgURaItaN7ExFSgdDCjWTc1hg3EbSRpWSkRYazGvhBDwh1YqIdEi5w86WkPfaxCf2yG5DXkcLIIDMOiAAjnkXyHobmYhl9hKwGQ+CDCNeQlDIxFqAkbUNZjb9E+wyPxMZ0HNx1LOyolodW0nTg9b8MPXeuj0CH49txSSstO11Hr04pMqXRPsQwEIFh9ujLRaV+mGB7I60Sg-wDPUodGDQIZg+ELIMcGuefRgQFvV4N-ZHB0tMCnUdaANGQ44q5ox9Ks0WoeMytbus9w13X10pZ0OqcwCkj-gh+gvQ9SUdD1R4ljUPbYxpxJpVGE2klSDSJvJEYbyRDMMjbhpazUaKNrRLjbrjY3k44ZS4bLAYCDYAmeN7GjY26Bs3SasAZBw9Zfwsz6B0ZAAHSwCIbp1TANETIGCC69EMbrOdnKGggn7RILh8Wl8MRM-rkTZuVE3+IxNYnV5OJywvidPSXLeAq4DTj0FZicnQAAALys6gAMTRQENWTFRGsnZ+Dxi1twEFMkmdIZJ8EBSeMCFQoIksFZkIG6PrRkT2JiU3ialNxsN+iccgNvRYDb1lA29K6ZMEv5Og8A1J1bTqeZN6m2Thp+jhCBNPlVzTlpxAYqd8hAA')">function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    THE_ASSERTIONS = pair(assertion, () => THE_ASSERTIONS);
    return "ok";
}
</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_1_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_1_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

    

  

  
      <div class='permalink'>
        <a name='sec4.4.4.6' class='permalink'></a><h1>
    4.4.4.6&nbsp;&nbsp;&nbsp;Stream Operations</h1></div>
    
    
    
    <div class='permalink'>
<a name='p45' class='permalink'></a><p>
      The query system uses a few stream operations that were not presented
      in chapter&nbsp;3.
    </p></div>

    <div class='permalink'>
<a name='p46' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Stream-append-delayed</kbd></span>
	<span style="color:blue">The functions
	<kbd>stream_append_delayed</kbd></span>
      
      and
      
	<span style="color:green"><kbd>interleave-delayed</kbd></span>
	<span style="color:blue"><kbd>interleave_delayed</kbd>
	</span>
      
      are just like
      
	<span style="color:green"><kbd>stream\?append</kbd></span>
	<span style="color:blue"><kbd>stream_append</kbd>
	</span>
      
      and
      <kbd>interleave</kbd>
      (section&nbsp;<REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>),
      except that they take a delayed argument (like the
      <kbd>integral</kbd>
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      in section&nbsp;<REF NAME="sec:streams-and-delayed-evaluation"><a class="superscript" id="4.4.4-sec-link-3.5.4" href="./3.5.4.html">3.5.4</a></REF>).
      This postpones looping in some cases (see
      exercise&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-append-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (stream-append-delayed (stream-cdr s1) delayed-s2))))

(define (interleave-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (interleave-delayed (force delayed-s2)
                           (delay (stream-cdr s1))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6j0lTkgPXDhRxLSUO6ttKYIV4jXiVuu0d3UpEbrmoJuck5UiXSBJXYEaCwFCzF0JYS0vWe6pDW+tvam2jKKC42ZYUY13FpN85hDNLF1JGX7qg7PQoRS6Hz68tPyPYrDFYuxYVLZHdk8FxToE+AL1eGb2X5XNVhXKtMlXiy7fi5DZaz3srg-nJyTbzCgrpthsz7a6DkQ0vNLaQ8hPyxw5V+6DGxzydm3sndM8FoTYS-Btnu3OfqIOaYTxUH9pqKOSA436dzWrvigllmc9kGkl2+0ANQ2f10k-0rT83E04QDnx0nQtFKAeGxRcl8QTCpigMwmgzrx6iey+WtQwMLzsCHRwOEUQOoE1Fkn-FHyaV5UXT835FVXwJyGWW2ikVNQhxwh8R3wSEtipVfHrzsAz1H0EzmTGm9l20wLsEYM3C9XEO6SHkEKYEFEOWaAslHxAjoIG2gOXWYNEDn1H0GnUMFE0Ku3oKwNXT0PgKjVUk-lQJ4KdlA3kLohrzuB6UuC-yL00EeEelEI4V229xCG8N8MiGAn0mCBkMUGEOtTkMWXUSGQaDcJckBnSAj2xV8LkKMAAB4gj0iHo-94jk5vgg9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgZPHcUAAAan92gTzUeHAnkycKME6JzW3A6K6Mch6L6IKMcW4QLGKmD0UHKMqPwFEGPFqPqOPkaO51aJGM6MiX8AmPwH6LEMGJ3HKlGL2JgVugTUmNCNcyUNKAqCqFUM5Qvy9T2QCAJn0GcDKFmkIO2E9THj8LULiMcQNm2CVRx0yL2O+C+IeNmguJeTICQITXsPcl0gBj2PSC9TEmNQ+wGIROCCHVuIRKxMBLwwGNlVXVuKcRSA-G2GFnGBxJ911TJCvi4O3zRIXnIWiRKKBOkHKn3CaFYlADdRpOSCjjIWSikT0MtjwJENdn7Cmi0TWD0OeOMJyDhgRP8FVIkJbA0LFMjnziILBG+OoF+JznWWEVGS9UmTeNAEiHeO1LINhJ+OGg8O5KdMnWVL5OcMkKDio0hPxOshhPEFNPhOCXIOQKnG4M5KBAxOsixNAyZO12UyhMcmCE1GHCJPURBJmOSFJNJXJOOMpPXWpNznMBojdkYkZMCI4LZNRM6U3h5JKjtIqiFNhBFMFBvDvHbXdW2AlLBKKGlNH1lJAXZHlItMVIbm9NVLkL1JMOeUch1IUPnI1INLzkNPMKjxdLNLdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIlbxQi13myFzPQAh3BglvKT2AKjQ-IIkcFglLGSV50fNh3ex104U8kFSkV-LvJbyLgsWdUlAzT7RzX8D7SUk1IHCYW3BHVQvMBHQwsXIzRkLwtABkMIqQuwpLlIpLgoqwrv0pRfhzUYr4SlEwpSAzThDoFLEkFqBzS4p4pqIhHYuSAzTmMYDwvEv7BEoCAzWZEeiLAaDoH7nkoekUoYG2Bkv8AzXaNIv8EUFD1AFqENSWivE6KEq0vMAzWvD0vMAMt0GMtbivDvAsqIuwr7l0BSHsqMpMtACvDbiMvMEsv3wWOAFssgkMsctElMtADAFcsorvwAFJwrvKoqYrErArQBgqM1vc9LUrfKvdjVjK3K78ABCI1PKyKgq0Acq8SYqhKoEbcLIlKqqpy0AHI8weq+ixqrI0SWy-Ktq3qzq7K7ChaFqhy6qpaYakqxqhaPqzygIAa6Kvy0AOa6ahqhY0q8KlagIZa8wUq-wB3SUM+aCm8v85yOQsSCMATPtXQGCpPOC2eE67eMis62C5yagBoAAKxjw0WuqbkEFbmIreq-LE3AtKiIUXOSHuoQkeuOC2iwFOvwlgsvQ2PEmdQzUZUyhzSxp7mCqiVEuwsgGIF5lcD4s8uJtJvqnxoJu0uwtUscFgEgDwoZqZpptppCu3AZoAFFSKeb2baaM0AA5SQIW8KkWoWvMxyZ6+gESGGtkVGjtMQq67YATCCZaodfAIZeWmre0Y+GW-iHWxWowlWooNW1uGAtvbWkG2GxWhGttVqHCHWzPN8ycEuPfbCf8jMVKRgP8FEr6yQKQWBPCRmXJAyHWgCiPQEYChSVBN2vqF8ZIS0r0yKaoGMzpRQPfWw9SdOhMN+D+WELPG2+8ouNU3QLUo27eK9NUgWgIAur+Z2keHob6368ugmyu2W6uiQ2u-wOsxmdk1yBwxIQVCPESU1R4UoRI8LDkzpPeVOhshMM+XAMAD5JgE835M87gTAa3Z-dwCgRwc0IcG5ZkRgX0D9SgL9CPPfRihFTcS28+y+-Q1CCMQk8G6DB+79IhUY7cRwHY3NK47FSY++5YC+z+5+64FMhXAoz9MBjfOwGIZkImLjWPO+LFCiD20gUgeFISFaUmQCTB3yhgTouaTB5M7cEY4IchgsYY0YyQAhqG5Sch3QHoxQnqEgEyTUVBhNMiCiHhxwdh5YTUECAASGNJ6O-oWNGIQdJE1GQbsQE1VwEZFFEB4Zlm-oMG3DgdACUcoLcBYFWkeGvvh04UnH9EoapW3AjEJCYVMc1Q1XzBFhx2g1MaMFRUgdxxcZquNW3ECCfBfsgiHVscCJ8csY91AF3roeHEPrbBPt9FMf0nSBFl-B52Ilsa1WTitUGGl2Y3nRccBkockc6J0flWFH0cCbsgMa-t2KUhGL-ptJ9WtWyeTXI08eqf7FqdGOKbNVKZg3BqAkqaqeTifFCYD20eIA4aUG3Gop4d0C6b0fAamELEiPie2GCGKYWJIt0GdXKcMZLJMfIlQlmfGcEZKcYBYH9A1AAZxRWa+B3AAHI-75ohiHmrH-60HJjTGtGunzRGAlQfnHKpDCwccchb7enlN-me6lIM1tFZhhjg9hijxyBhi-hhQkXyo7oI8nwFnUQxmJmwWv4IW9nFBCXcWTnumzmLnSXlH8XiX2hfmhloMSXvm6XjKT8o0A6g7SAQ6ukohcIQw+lhpKQjGudmjxduwRozHObkmxXiAc0mnC1BXVBIXG5ZoOW7guXKBGZbkqR+X7hVHFWiFXnMmlAJX-GM1fHmGhMGnBgJXKWRo2X4l-mxkLxyQ+XLR7gDXF5GJS0xdedbXBzpSm7sTxIIx6m+hfV5WWM1hbXc5TrdXNQ2IgJLYBMnXzx7RXWdX3Wxp+mY30IG4LqkzgmSL-HIih1M2+lJUgIhlLby37hK27JDWIGC25kyHqKS3mAs362KJXnm2OEyG1Xg7NWeX2gRmcXIje3mgGGUgBMB2NWtXUNa3s2KnbXKXx2g3QM7qO2K3E2G3dZSEGI6ZMgCChWmzmd9tsKLXc0rXw3j2lWxSByPT5ZKQBFNM9p6pGpPXAXoIVVNxTXVn3G-3FnxLFWBTKoTwo8cn+kTUGpVtB9wCLsJXPD3NIjAOcXsChXXngORpQPDxwONpmm9p4OKZU82063GA2xyBqBZI2Qg15gv5EPAX32TWhWyGUXyPNGvso1aOiwyO2wF8GPjSh0iPRRc23kwAzTIUKPH67r7osIOyJVyBl6162BSAHpiw3BQARtIJNQo0RtLdLdfAlC-gQxFBWRah48Fhg9wlhWccE8rOwiwncbZgEmxAdQPAzOwblMh07PGBrPsWax3GfPrPk50hjPSBTPRBzOTVV0guZYHX08WR5VH7M7JEXqHFqNv1LYM0257Rv0+4xS2UyhKhZozPHAeBdBSu2tBzzApE6BCAGhcuI9LYwuIucJyvov110vGun7yyD2RYnPSZ6vuvA4pyq0nPeuH2pSXqgvmv7gTPKuiW6uGvH7iFRuncBugupbwonPMSOvOFNuJujSPiS16BUXWuyuKvIvHAgUQT2hT2auXqlvuvZu6B5urv2voMuuVv1yaZvWnABunvvvqvkhMzqNOuQxwhuup3pRIjnVSv2vIiFv7TulDmtSAhPuIeWhhvVuihJv+wpEZvxIWuke8MhvvveuAgl5+HYQ0omUv5NvT3hHthQfSflvv0JQmf26f2s9uekeA5ofoFWfsez5OeKz92PSpQWeYvLPfPbv9CKeNzcejvPSo0BL5BVOoj7uz3MI2BgmHjivR2GEQgiuqg350hdfvGMpNR2OglggrfUWglA8SoWAcOqo7AJPWFuzovv0+zFfSc7A1fyBVOoKXqPftkMumvxJNtuvM7XwpEFPLYw+pPv0Fj9eqh3VoLZPxIk+bkY-tx7f2Ol6epNsGgMo4RsVoHQGI85e99IiP7q-keohB9S-DoUD6+lAW-y-DGkP3HO+E1m+y+USck+-sU99oMR-DGtGJ+vbxzrV2-dArCe+Wv5-lCNStHs6v4V--9F-AXIiS-B+K+t+UeF+ND4uG8P1P3jTnzf9sOdxfHrCtNO6tAL7mxb+9Cjn2y2IP1HA1PYQI9GBN4PUFQKoAbAscJefXGYBf39bgDjEL1CfrIgP5TgMos-G1pSBP4mEFe-vQsANwn5bcAwYzT-q0EYA-8YW--EDqv30K7dgBSoafsP0QE49aS+7KnihxPbA8tyZFbntQJpa2tdAXA9Dnex+4Cw8o0cf0lWntYRg6SfvbXvAzNKgClWZ-M8LdBJQsB2QSwDWADVIi5o98+ANQWpDtCWBsgqDZQY4DVqaC4unHeJDoPkB6DMUygowdkBs4vx7B5zfxlSiNZX5faJKWGvMCWC1A7EyUD7EoIcEC8Uuy1KweQBsFBD9Gtg7IGD28wGDzmdxAmJ4jsLgQasfUCAiA2k6gASQoIHfpMCkTwDxI0-ZAXoUr7ZCrCKyKjDgPoHhENoXicoezxyHyB0BGpFzvyAiEYwTB6vfIrQIvy4DdAuQ1ofL2To-lrBXQ+Shrw6GDCWhFA7QSOWCb4AB0PcEYv423BLDQ0KwzDm504TTDmh6qfxjKXMBGsnAF-DoUYH8Yb9-yfQPiBkLeB7Chhcwk4cqlVTnC7GSzbnrkMlYdDus3QoPvkWgznCBe-YaDF8OBEw9xhsYSYfkTLbyBlWtNIdGCLR4GQrClLdYcsNhYKDc0CaUejJBiH6M3cu-bnoZVCFLQqUD-Qjrqh9BFgMwbHVJrx2OC6AnWewp1vkNgGy1G4-w5rHV2EiWwfhEwnobS2FBO1ZhdIxkWMQ5rShWRp-Y0tCO5FCQRIiwjEYb3ChuCIGUZXEWwiiFREeh8o0KFiMICUEy+FIHnuqi-bLwrmNLc4RSJEAKd9Bdgszu1zM5Vdmkj3S2Ap1a5OjIu6+K-v9xp68w7Eu2YIFSgLB0AsRxo11qV16CmjN4UiMzpbFhHD1fRRA1rkYEoa+MCwZnEelYFABlEAAEtzUcAABBcAOAG5oAAlMopAAADyQtZAOJH4LW5liXIsUUAn5G2Bhhe+Q0WyAjGmjuskrO0RGMrYMi2xkI1NK8ztEyAWgrY+gFo0nF8IeO1vWeCl0Bb5jCxJYssZWJrF1i5xVgL2vMHJDDilx8NPsRjD3x2j8RUEGnpGKu7Rj2xqacqDOOvD4iSOUuMvouNRYnj7xnYnvviNUHyABMj8XIfCkWhBJVOCweRNog-HkdaQwEl3hwM6Edi5h4I5sap2gnLjvxcwgjKPQEhCQFaE8DwZbAAAMAhHqPEGPBFY8JIrMsOH0oBfxFUVElQCQA07iQMW+E5icKFGI8AqhVaNibFA4mMAtGm2ciUQKr5KAV+fE6VrRNmC19ueITO6tz0km+s2wdEolu331xKFLANcUSY-ScAZRgoeE2MdNyolSSVJswPgisUokR5qJKTG5HRNj6TAeoSgtkMeBkC+gBO4JKjFAJY7JQmQiXfoJZPb7kClJoraSdwihAsClWvkjgaqmcmOBXJ0gX0CQRPbgjkgcUhKb6H4GNsEY+HAROwPSluSDJV9LEfMEaiwgnA4rNAcjxgYN82RKveJAVMSnDQteVPKASNwpTVkdhjQhvk-TYFcwG4vuUQJgKEH6wYBQ5OAQgNb5ICMwZQlRnMOGnsCGU-ounooAaB4CcWSw-KGj3SCNTfQfQoKGtMEGGlhGePOWFRhQ4XDgyJqSwC5MKkkFuIbjXabjifqoJ0gm0zUId03LaEsCN0+KYVIlZYirhaQ9QDSBT5H9+Scw1LhyKKHSJEBM-MoSv0qGTBhYB1JafMADFfxcBWvbmMQD6J-CNe+09oKtPoFt1JR5gB0vNLGIDlWpywKYhzAJp4A24TMiMIUMQGTSu+8MkQhTKRmeSq0qMv0ejJWm4C34azXGYcXxn5F5+yI5IITI74kzpZHxDQmb3qGfxupc07mTKMjhMDGIpUz+BVLWAUzEZ+pHlIzOZm8y-M6IzYZiJITCDJS5szCBvzVkglOxL7a3CQDxnQis8CPG7pDMBYyklRVslUfgMtkR5YW2wuQLsO9mSs9Czws4eVglH4CgZfQEGQ8BT6qBvZnY2ObTNUBVdLhKQ9SMDIoKpyI8WeH2enJ-GxUwATMtuM8MiLpyjAWqD4a8Laz+N3Z4sz2YCPKypSiggItrN3JSBtycInsstl3IVnbAy2fcseUUFRGvMQ5Kw8MU4DYl3x0cwrH-IFjqzo50WeE78h1loCLBDRtINiXvktpHzB8fEhfEfJ74sVVMq6aDKfMlbQtpArk2oKKjuiwdXmltO+YZKSFWlHaRYKyUoDYlMiWWyqRCWVFADSiTCUM-iIsEjwALLYWklQu3z0lrAj5KiF6oPL1GKiE5RQTBZ7OZFjj+52wGEPvPIywKoJR8ohUUEgVr9jSmCxKGQw2Ghyg5T8F+JhxegKAD6LLIqWyAXzkKMwlC1BBqKsB4jtR9C2cAqLuI4S1xjgcsbuAAAy3NesSKRfikSpcVgNCWxNFCYS6pWA7sfuJNH3iBxe4ocWxC0WnjbAlLecamDwmihB81igBXYp74yK5Fii8ALuOHCmLHFFi1NL+KiEitVZj8C8dqIjGOAoxJWIxVQpSD348Jz4qIU+HBHBKEhCxS9jEojxxKEhWLLEZ7XMU6KNCfihIf+PUHhklIbE1uEEk9qkgl5QChCd1k7EoSNFalXJYQqwlYiHgsQayf8yFG-NQFdSigfaIcEFLjB4QwCf8QWFLRkof4+uvsF8H+DrIvMRNiOPoDdKRRYC+paglJEtR6w3ighWsqwlQ1ZyUQm0VHg4Vsgul-zYYQMvObQKRIWoQGuJA9FMcVlQybcDbC4XCjfeWAtGbTyrh3KuIdQ9pYBXeW-MVlly-ESkQgWCBL88UUUCS0OUJDjlhYCMclzeHmj9BCaK0XCNcbIpCwF-RMT-K9KUdLA6EuyRmF7EzjN4VPZFSnwpVa84xkXS2KEvCVTJjxtAQQVIiwbrgZ0M4q5abUchJKHRkXR8UsoyXKDPl0Ne6K12FWsriAoq7IOXn7DLMllugTZZyq0nDgeV4K+9uLyNKAZCVweLJFROQG9jL5rojkfeMtgkLZA5GNBcjL+4GLyQKKsce1JSD0qai4kJlbeIiXOreuHKmwOqoAW8rRIFxAVYYI85mZYlL4wQaoElXhq0logOVSwAVUQjVUNS1Vf6pnR8StVe7W2QbALhGdZgZiqicHhJXdgKVV8xeXhJZWfi2VOCoGFhELUALq1MEtla8244zjm1qwQfO2qWWdrjgm8IcAatLVkqR1B4vtWyvQUcjmgiymVRYhkUbiKxVY2se4smDzrSxi67ccoqVUyqVVvladcOq2jsDtwFQDjnqq46Nrqlhkg2IOuJV8TjV14nhWKSkT7qtFlsFxQoqUX8x31bivkYpLwm7rW4L62xWKSmjHrygp6q8uDnrIwgvqI8RVn6UWnGN4Nc+McjBqIjIae+yU0aGfJwQHRYNQgETptDH6roRorDTnJwTmAOB8NRcDDWipxykaUNvsLitRrjJEbMNy6BjVox+yUa6ALGwjdhp778CyNk6eII8AdBsQulDG9jcpk42jDd5xAL6tQH0loaCNYKo5RWtZL908NcGlTRQAc63N4Vyg15jBqU2oLcNum-BBZq1iRI3lXSp7BZsvx8bNSovAmoZocEEYY1jVGFsMVs0ssn8tARTRlCL5AYqNpm5hFRqIhjQ3N1ytFRRuY1wb4tBGyVmqMWYZQ3AEeQOj+jyi8U5lSkXzcKOARMaItQgcLbxsi1DJotzmryr5WY1hbuNiWvTaVqc0c9gklWzdJ5oWLwtyo+W35vxVC1Ba1FIm0QGJubBAQ1NCKoZbEJGVNxH4-shaFgBc3JBr5w0U5cCqVCibxNa2gxtZrJkg8cRIirUcktRG+BFt4UYRZR0O12CrCC2pnukCpQtbkglW2JB1tdTUA0WO4HreTRFLDaHQwWhAoeKwav8wBxpfJLf3HqT1wgudTYFiNnbctJkY2-peComhKl-F02kpRCDm36QKQCwe6EoCt560qAK0BEjsy1gUColkEcQAvxMpo9gOlOutVEgqi4dqoHQ6qV7x2I3bFt24WHUOyALZSIQGZfbRdquWrlKBOU+7fpCe3bQXt3O+dt0h82rb-mOaGXcOxGGI0XqzIV1gJV8GWwAAnK+B6ha7eKwuhDfVL2iG6cIf41wIiiHADwWp9qyEhvGB7UzGIdgQIkRK14BBzdigO5nc3KhoB-d4qrWbmrGnmAvdgQhgRCHN1XL-ybgZwXELvhDI7Ad4crJ9KkFR7LdsesaBrp42CVEVMgZ+a-KJmVwDV425QfMJUL4jntkqzNE-N4qF7Vs3WhXX5sAi16X5ZqN+X9p-Jbt7gW2jKJ5sWTCgmgDwamjcogWWxU2tQF1m6wFZ4s+9snIYs+CyV2qKdg+igmTS8biRtwDwNIkiy15e7twt4O8IuwgUst7A4zWTt2RsqJ0IwXu5lgVq1BeQRp0cSQb90gg8rKO1HIsIWrsQP6te3HPiSWo7U9qZVDOP5hHsp6MQEIjAIfevtqrLZNhWgO9CHpyEOBBKCxQ-c1BnENq6Ol+w-e1Cf1kIX9BB4HvvowPNR-mEUHkRTFwN4HBB6e7UZMv8WjKUR4yi4nfpBXIj8dV6F-koC1DDCVVdOrWq3EMDwjPtxLZhoLtEXJLyRCGQ0q+03xjltEdAY8Iijn1miChL1LUOPpAVptLw0+j1rPvP0iQF9S+9kfxD0IWIxDfB7Edik1HC6ZDPEp3DjgsOStXtnI1Tgmn2GSBLGwjdIOwaVBcHn+K0aw5rVHyk6-8VO4QwSqjRTKSwdhHwTlv1TtcEjfgtiHQBdHJjIS5WfxikclTpHM6rzUtsujoCjyDImy2I2VLYi5H9U-ivDKUd20GRqjNQNrK-g8EZbvB2W1I6TGSOdG8jGRxDf0CcElHJWTR-I6u254fZ6jSkTZWluFDtGstsyr+KMaBSZ1ydi1QhrUbgzlY7ii7LbXczpGKBdtAAHSwBLzplH+-AMHn0b3ajKE1biAZF907goDQ+2Dq+F2NdL9jvHQ42TJONnG4j6kC41cZ56qpCAiyIZFF0iKgnQAAAL0ObmATjyQc41R0uNnMIjtxmE1-UciPHtwzxigq8YW3HCnsShlQ5uH2P-G2IgJ1E5FS2bYVvDYeYYqQGGKwtUIdzM+HgHePcKyTlRs1MiaBPUmpWwxBoAyaZNYtsT7UIAA')">function stream_append_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => stream_append_delayed(stream_tail(s1),
                                           delayed_s2));
}
function interleave_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => interleave_delayed(delayed_s2(),
                         () => stream_tail(s1)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p47' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Stream-flatmap</kbd>,</span>
	<span style="color:blue">The function
	<kbd>stream_flatmap</kbd>,</span>
      
      which is used throughout the query evaluator to map a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      over a stream of frames and combine the resulting streams of frames,
      is the stream analog of the <kbd>flatmap</kbd>
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      introduced for ordinary lists in
      section&nbsp;<REF NAME="sec:nested-mappings"><a class="superscript" id="4.4.4-sec-link-2.2.3" href="./2.2.3.html">2.2.3</a></REF>. Unlike ordinary
      <kbd>flatmap</kbd>, however, we accumulate the streams
      with an interleaving process, rather than simply appending them (see
      exercises&nbsp;<REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.80" href="./4.4.4.html#ex_4.80">4.80</a></REF>
      and&nbsp;<REF NAME="ex:q-why-delay"><a class="superscript" id="4.4.4-ex-link-4.81" href="./4.4.4.html#ex_4.81">4.81</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-flatmap proc s)
  (flatten-stream (stream-map proc s)))

(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave-delayed
       (stream-car stream)
       (delay (flatten-stream (stream-cdr stream))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9LAgUAEEgUai0JEMShsCAweBIVBoeSEnDIgbUUBMCYsUT4FgjGTELHcaj8UjKfgTXQGYymcyWayicgjBjUhlMlnDAINDyC4XUjhUmlMMVsZmEVlS+ohHaEdjKxmqiWkTUpGWUSgAa3w3F8EjYACNKKIFdT8MraHbHc7KLgbHqVWqNezCJyHhdttYRMRxCLUYQA0aTckPJT5VGY3TBgn1cNg6HGtrrCxaLRyABzQhsVnZjVhowpxVcEvlyvVg2B3MUkNJwKFjiMwRCwai9uJuugBvygcCIfUEfinNsrv5hp98QOgQsDhMAAe3GYzeoNcl448bBYFumpLjMnX9s3HDCIqrwtox+NdSBgLvD8dAgk74JMuPbBBGvhMAAjm6JD6gutaNJOzq0JB0HEO6KH8GhvhVCMVbDG+o6LkBHIgeGOz2qIlDEBagGnhSjYUVRNGEayeakUYfa8hY2F0kweGkLRCH0fKXGEDxuFtnBnYkeOfYFIKxCZkeLEnkJ8kAamNK8TI16DNue4HqWylSR+wGfl+RiCvQHA+i6SpviwDBlvp+5MIehAESZxHduxoAhKMmKRCpS4AEQAKqEBahCUAA7jQHrDCwO6gAAtClwlaSMIWdD0JL9HGoDqTpRDKI5Za0FySTkLgoAyDs+7kGwQ6fLpR7IjCqzJKJhW8KIEiPgwjXNVe+VZsipVORVXTGN0FKiMh2w1XV1ijkQQitfG7WVckA70OstB2KQGQZbS9IbRwf4Ae15kWYCu4jEUHIRNQ-EyOOt31OdT56q+xWEACH23WVtA3YDgLnU9mKtsMf0wjlXUbHyYGiXZboyAeh2+cYHgo4qbr9tQD0CRjojGu9HGgGtTC4OQ6oCNNRizWIC3coEAWUJE42gOFkXRXFSKjeSpASHwqXpep2UM6AvTwhtoBWaQNm+njbkyLu3Ag8BnWuN157cDIZUZNkmmncqZVseye5TblfQooMGUE4Ocbzoai5sdrRjdTsjD4KQUQaXj2nTrOurOq5M6KfSwXeZyWOIabYpO8Ozq7RhMPR2x73+YHUfUDOzvOtSwq6hQUyAWxcJ5Xb5KaeBUGYe6pBsKQmskR7i21TsfHcMLdeoY3zcVdtKTdVTNN01L0tzQt1WdwKxaK-QvGvfQg8dazjTdSb2k0ww1lLxJMOry3CQkZPTPzUw7euLtR27-vTeKyrx3k9vZ0RA-y-VsfFWKGfYaz2WhwXGrplT30Xo-VGTB17k26uA7CzcoGT1cBfFmsDEZbFrsheuME3q3QPBAr++Eyhrz-t2ZBM01gyyrmSGgCslYcCIMWUsFY5i6irBVduuseAyA4EbbmAAqJhzZWECAESFZQ7C3I5VloLeKikxKUF9sUaMjklIeUAu3QBOxsH90AsPHaaIjo-2Orohu4k+Ksk8q7DUFDPYYP5NuVUvczG4J-ljI4th7Dk3DAUfgcQFE2WUemNRcY3zwIPpYo+j8h6gzBrQQJSjFYhNjIMN8PiLLnkvH3Bu6M3KEMPi3EhJ84bn2nlfDegQvaRiYKo1JxkbGqSaDKKwAkUnqNtA6J0+jyYhC8aIc+Ns5a10YtRd87tKm31AJdY6oyLQXUoP+QCk8pmUUUvNUxiTgm1IzGEmQl14bGCmcIlhdN0TpHlq0hhJyWxzDWdSa2OsHEnW0pdS2D0hCQxetWe5804lgwBTc0RmsMkAqaCRGRNCCq1xRpE16wUJlrG4dkkBSo8FfjfsqFG6tDJZgzsBSFttaEO2YS2eFJlEU3yMaAZ+FzMUGxEdDJ+oCXK4oaR2Uy-9XCkorJ0r0UCGWnP4ny7p+KVYVyRc8lWlciXQsbO0m8CKtaVJ5WJD0XTnQqx+Ds0Jel1VenLmGelCq9Iq1ZW5Iy8Z8UkX+cBGViINrolwJibEUA4CIGQOgIkmgoX2x2LKUYLsOUGPWJsRxtgHSjE0aAAAPjG96OjGC0zLNGuNCbrCOidKwK1XlY3xqaDqPY0ajBpoLdYMetM5jR0rnLANIpNWgM0XoVwkqw2gGCjKuW3sWBljLD4BWxTlB+2mFUMsIbqmPnCJEY+ugABks7QAxBYHER+IJ0gXOHZUHtna5FgSkU21tSNu29v7a08Z3MpGS1ynLfVToGH7ujlw55S7ZCQgcNHQlcssnTFVSvJNhAyyW1cu5cdzyB0hV-ayCRORBoAaA2y-6Nbd07Eg+nXNlSJ2jr7UIAdSqIOMv4le3octUOL09KK9Dh6tgvpkG+m4y7aPVH0bCa9u7SNQPNe5A9Ty200bo3Rj9n7kM1Lqeo4poG23HuwxwAdx9lAhVviwYYKjdmDGynm9NW6T04bPXJ7mVJBosAotME11B1NpuI7u0zaryM1FXR7bqfGmNOahOJ0prHq40GsxxnFFqswzoc8+24-GmMzpY7IzzYEfxbl81xgLG9MM9uk7Jx+8noucctUR2V9t0vfRfKMN88WkjcP1re70vopHKBc3Z5u7nLORfS5dcTgXePBaY3RsLQnIs7FhThKJAkis8meVJ099BB3c160Q0gWW5bYoMn5o8g37GtYYx11dXXiU7GDgXZrGHhvWCw6NgbqXubbeThltTuhS2NBGzpsbemFN5xDvKOFUHIVyzO3OMOzAI7aSW6GpG9DmC4HG04JDkXPuh0dq447tWWuA6ucD8bOhwfEsh-KIuowS7kDLv97qQPqbjYAMwbYKjotOaFdvFf21p5LumTshVcWhGbu7v05LcTEgx+Oz2M4p0waD7jUcFSZ9MV7xD4vGGpyt19oX1tC-thEvrf617w+o7cQXHniUEIsfxQrnPVc0DW2veX5Iu7OP6iL4pnCEs0-6Vb97wmZMLx19-fXNvJPWDt0bkpO7usZrWTRf7AOti3Zk-T5u8m5ks8i3MhZSyg+Oba65sLvvNtFl6uQSO-n7Pu6PQdpLR3xsQYz1nszDvIsQ3m3FnPUukbVbcybmgZULtoip0N6XjHXPe7qzgB1cinUupxO6-EXq0BE99abg7DBfb+xkDuCTeeFlZqU3P3Q70PDJXXRu6fV8s4UgYIFOfkfzTvBoOrWpIwBDKGYGhHH0gghZey+SNnG0ZB5Y2AV5QbzlVUboTz1aRQG0EioKoQai+We8X+iyEgEq9WaeBMhoa0HAr+uAC+Ie+e2mYeY2uA8mAB60ci0exKX0YBH+e8OkqBf+1kSO2BoAYOmuBU50TWKBT6baBOIO1BKOdBCuci24IYz0TKZBzBCOlBhO1BJOqeBUbOqKaMA4RM5BlyY2IUUh-OygMhtinBk+wCDiAqKschoeA64qE2WhKsBBBUShjsRMMgOhghauq2TGOhpO9smElEpYAGPBEwfBr0bce2badG-8sB9BH8iszq-oXhv+i6twfhT+Z+JAzh0w9oV0z4TAEyLaPGSMVwnMiRMBWAUym63cvcXyTKx0-SXQURoAL+iRcgtmmsKs1uYR6RlRGq1RoC1s-hCuiRIq80OkiRXIKR7edetwwRVY5ehB7RNRXReoPRkuqRWwdGgx0C4hjhO4HybhHh38VRygioms9oxY0woR0xdC-AZYfsDRXonCW+8shxxxmxccoB1w5R-oZWTR80QE2xyEbhWMIQ4wAGxxjxugAAPBcd8VEJYQ8h4hOPvofiFAACrmhlFKYSCFROT4C650DWjcCCj37cygAADUoAIBgQYIya1UAEvxOJ3M8mZJ+JrghJAGxJIJzxYJ-kB+HMMg0JsJuATAMUiJZYyJViqJGemJIUlJYKNJZYdJpJuJ0GQpuJVJxgopdJ1xDh5IlElo1oHRAqZWlKxgwyIYMm5o+sexKQN6CiJxToTxtRgIE6duvxspKYupKp+ssprgThlALhzkBRnhPkspIQZWGQ664RDGNpYKHgNG1xTpfkdAJpHWVRQEdGipdi0sACS0HIfpG6MQTiPc-UHpGo18KQ7M06tm8mEUjoa0oAl6hyyQqCFS5MUycxx08Ccxas5C6CbaCSK+cxHR4S3Rtqt0HZYxcxLG9QvQKCYRHIeplABpzZEWxKqq6pWqmpNK1IWpRgOpEw45k5nIuZK5u6bZ8YjxGxoJW5VStuRaQZFkdpa5Dp6KgMLpbpKxUMnpscIBPptmqZAZcQMZVJHgyEisoZDyB5ogYJvYkZK+0ZjRsZdhoJFZgQs0SZtUKZ5xuR5u953ykoR5zpzJBZGqRZhAJZggZZeoYshUBGb2CZVZ6FRy1KdZFyDZFRXKTQ3Uu54xVYnZzF0CPZFkfZzRbFg5KQw5lC+xy465TZnI9qYAjqGIWIQ+eInqhIGAE+jiDUTUpcI0nmsMBuYEh2d2AkXMIUSlw0Jh9s+lKlHAjU6J-WYm7UGl9eW0MqUyxld+SB-ex0A6Dw4GL60GxgL6QIAMgQ4Gb6nlRgb6Pl-y4G6RgVtxDAIVblPOCsEVCs0VKQ4Gha9g0GKVogjQvlrg4GM4tA6Jkg0GuV+VCJDQWVxg4G+ZgV+ZgIZVlkPO54fsXA9otAEiDVUQTV6I9QtV8hAkIU2JEVxgR+oAEgII2QyUuJJV3V4GKUA1qQO4ygI1-CyU6Uk1oVPO4iygyQQ1i1zwyUAiw1RgU1POwAs1tU81w1o1oAyUYAq1MVChAApKddtZdclPdQdaAEdQoVvgNc9UtW+SNWtQoQAITro-XnU7VjWgAg0XIA13W9V-FPXg0vWgAAlGCw1JU85-HpCzW-W7Uo0XIXWA29WZCI0LXI3ZBo2fXE3Y2bWuC42Q2ZAE3o3JDgZA2nVXWBDPBGBA3GDz4PA5T2WDTKWOXnSPEZBhh6z0ZX6hBC3DROWebWyC1DQmXnSUD2gABWF+5yEtPCyI-CYVstKl0GNlRAcMHFRgDlLU-eOU2R1Klt0wim+ELlZ64GFadM0Gbt0g3VYKflPOkAhA48QoEgnl-tgdws3tPt5V9VdI7VsAkAgVbVHAcdEdkdPVrJidAAohFZnSnZHeBgAHIsD52nWF351AWAwC122G2OWO1kaNHi31CS01TPA0YoHKD23Q5VD4SV0eRHQd211QLa2N2638I2Uwjt3V2fC13WylHqQDTK0i1yJ-QTRlgKxyFz20yMKCBvASDJocDq0fDFjECDQ9zXlAgd1mXjD8SWWm3m2BBlRr0dCBBDI7mIw2jZkwxyH3T+IoX8Ggp+KCBv6T2qW0KdnKDhky0L1T1GJKZ12nG53cq8D+JANQMgNxg2Qa1a3gM+390wPKY1EIPGBIWZm-38SErjBHSbqr1q3ygf1HQXI-lql0P+AlF94K2SWuq4geoEiYAKXtqEwihkAcD1z0B6TngMA0QGbkBGbjC6Ge7In2hRr15SMyPQIwhhghlJ4OBxmOTSPGZwxkkhQcDSkwZEm4AATKO6OqNwxhghCWOGb6PDEFQGjnjgTfSX5lCwblTr3EDEDIl2DaRyClS+OXXoi4kGy+NvkhRCkeDRMRlSlkksAhN32NDRPKCiktGlFEBPjISePJor2azN7ZOOTIRcgACQYRophjrJZJLjW4yE7jcwktRThAOTSR3JQ8hj2gIUjelMrTJTI6owbABsTkcjuw9gIzY6GjF6ewIUtjUWZ6ZUc6s644QCXuTGSzV2Ma75neDgmzUN-pIUbg2U0zUtkza6FyRzczzS-DwwgjisIj6D4jNESze+QC8kmeYmSzoA86PiOo-olewGlq5z6jNzIUNTuJxTe8gzDAwzNGwMILugMpQIQpJjZW96AL3BsWwL+zyLgIqLZJULbxwocLWjkzDkozBj2JPi2U1zBYfTbTrJcVK9ygRLMLbAoLKQfY9Rrz9QHgbLrJ4VygA68LozQ6GzlLrL-T0LlQQzpEfYop5z0zIUAA5CY4bJKWq-M-KeY+c702y8I26AwABPXMa2M3blWJGpEDRqa8zaneBkpgIFKRzFKdFNNvJswqMO6xNnYPzjY3ywywM2c7axBa5iG1K207K7C-K4G9C8G0awDaAHRuG7G28SGwseSAfVSAkifcykqANFRBamrHuGMx86XvGOrKRC0goWW+otBoCwhsW9wIQ0YJLVm0fbmxxvuIWyWAU02-61y3uiESW9M+Bsc+k7Zhi1WP2zG+rBmzQLa7aIlDuAW2hCWP21oktChiXmJpWyGkYLWdwb6RcmGOi7ZPug2wthWyW9BQe1XT28hEIMDMdJLYuwlFUCu922u4U5NDOxQnAke6+ecXpVOnS8mJFWc1+xaj4MDEBPXlByWDB5NAO8kCEKLUB4c3FdMwh4+1wJNPM+hxqlE+2zm+QD3FAmB4EB4PUYR16Ck62zwiR8fWR3m-jDh323uzGzR4B9hTLQ+0h942UszFfNop7sO82-u8HhQb1eO3QJO+e+J7xYzOUrmVvHuIMtOQVMLHwBu94YvvUZW9MzRoZ1qBCSyerDhVFLFGflXpakmyLH6706ocQpW9YYpVOv29M74SO6Z-mU25Z3zDZ0C-bM5y3I-iRohwwOg6QJQBdD+gICILIK53pzMQ5xu8B561Fz0+oU3gl02MhFF3pE1sl2ETRqF2+Hu2JaABOYGtF6o+3b7IVPhX2qQAiOJYPsQFEDwMKKAETrVMhMSkTmPmPs4LPSWFRDIJeNAesIyAwAIBaX0WgeMw4DfhzPNzcZ7QIHvihKKFN1VrcDRqt3N0PGCZowxkd+tz4iEMwhN3t0m0xhd0PPO3CdklUMZmkJMtSr8lusZs7QoQIm9+MOItBbWuaFaPrFNxwEoKAJDysJUlSr3aifaID1fBcjd8QJN0wP1ND3Rt9yj0p4EKJ1vSIOPHMAdMj9Y5JwjG2pt2RSp-DykFMhd8dOj5j-1JoOK8nvgBT44wmYJTsJt3krNwIOXUcJt96fd65hd7ewJbL9ud1h5F62z1D8oLDwBW6FT7c3tOTyjyz+Nxj5Dzj0xnj5TwmUT4Lzr5TxRUYD+Vuq5ib8ZvRykPUQOob+3R52r4uUqOPRA64Lj1RPKPjwTygvTzWdSsz2j-r8rxz5LzUNz0H3z8YOb9vaT7INL5J2U-ULbx1vH-V1gJnzgx5-UZ7zoU7xZDnzz7IyxgX8p8J9bwSRsHbyt7Umt+r-MeTPxZWVQmsHLEVXSJ1zIBy0ebrFEyqeD5Rzc2P9aKCiENiMB7TAV9NviR4Av16-iUyYfmwAF9Z9V3wPUjQGlPd8ZleiOYJX36QJ13ZdSjV-vz9+MC+xeCOqoyw7bYjy18dDfx0ij0y2D9aFevZY1wuSf86u73EKKvyy420v0j-C6LTBnAAYQSDjcYG3zkL1EVGjvL3hr16b2hYBe9NAeMH2Q4CAMchGjNgMHBECsBhA5yFqlIFwCx0bnWPgQLIFjoKBTA0ymJEbJ4D2mA5egaz04HKAByvTb+oAz4EYCuB3RegfUTZw0Dk0CAvRkgNEFAQBBL9P3C6EiAld+e6BOnGNgs7cxjmSpIYEvGGDSN6QOguYlKzwpCADMHALroIHGAMAQ0H2CchpBLZHkieBmGdvXymTSCAMsySgWwKQJ0U9w-A7oon2WyL5Be3gqZmDH5a4UlERQKwTYIEB2D-OGICYhL0ZDcAAIkQgVJEOD4zQVORPAzje3r7dR6iGQixhERvYqEnBuzGdjL1r6XwShzyOdmGE76JlBK5Q-ts9yEFCBqo0OVpNWBEGbglw3Az7oj0iG+DWBm9DgVY3QFKCNBxPamJWlkC5D18FIJYsgyGF0hghaQpoJcDpDFwOADVAftkOoGUCgIwwnYUMWe5hBSAhw44cCVuELBthqQoYvQOoqHNcA1QaQEKWVZfCoQPw+ZjtwcBPCVAdINfAGzrJGB5mOwdwbcIhGmh1hyxPobtAGEwxQRlw14dAhhHWB6i8In5gunqgedhhVbUAncKxxHD++wJOjPCLL71A6MJIukc7wOEUiHhkHcEUyIBQ0ZGRvvTit0RjYhR-h4wJ1s9zdIUNqA2EcEMM3nwSCPO51J4NkH6T6D20MQaiFwDEiZcbwmowYMoEXagjF2owtYFMgeGaEDopMY6LcPuFUiZAeol4dqOoDYNU6X4A0SELCImiSY9DT4d8KdbTN+k2rZNOKLVTlBhm7otyJjGe74A3isA3cG-nBH0DE0XjdkcaGVEtdJReQNntDym5w8jR1Kc5KABa4ZjVeWPDggsIt66APA-SCMrQGe7RiV2kPH0LGONDtwpkU3Y6DRnhGTwJ07gqbuWN0FCkQgU3GVBQ1ABQkAAEhnQ4AABBcAOAAzoAAlKEpAAADy+dZABcmKJ8MOSF-dqvaI0SWiscVw6BPQMjHTBaxjY4uKSNTG1iYOkXPZPuIsAxtUx1IQuLeLSS9Mnx9gfLl6zSQfcwiY4icdONnELjlxq498Y32vFPtXxree8f9HoGpiwQ6Y2sRwHrEg4YJQEfDIv0GApQEJ7AcLrunHiQTMJ0ElkRYEPFyEcJnAXAOICbg8IMkww5EkbHxKddak8yJTF+MK5Hh6JW-MkcXDIn0ctxnXdiXeJImEAyJ5DDYCYF9YEwiAPXC5AAAYSicsdUDFGARSTa26DcgLIHHRSTGQMk0YMdGnzjBpJrwKKriXkCdjnkhkh2nEOFC9M2cyk1QXIOVAiCrJXAHdhpJF6yjrgVzd3tcFcnqS9Imkzng4E4E95SizAKRI5NUbWBaY6MX1iGiZ5qT3JgUgQEUU5KqSjJAUiUZpJf6uA5YuQaYDFGpA0R1BI8GnO4Nc7kwzw0AhyZwJSH+Tkp2UkXr0jAhFDm2VUiDgVI4BFTRANEYzlUNlJdSepNEbzhJw8T+R1O3fQSkNOKlxTZGz3EQIUHm42Rr23AA8ogLEETF24+U5gIVNmlHiGeRgNwY5DVgwJAQgCYEbIPq4UgzpFkbqD7CYChCp4dfQ6Q0C8GTDaB-gxsptOuEgEJ0EQ0XoiK+GXxfeIQGab1MYGfTqBeQrvmU3IqvSFhBnBEV+A8Dgy+pERDqHGiTa7Tups03wpyy-BocHkj01oVNMW6G4cZw0rocoOJQ9DTKvoZkM2He4iDFQZE5sdSgmEXJsh0wioiIPmFJ8loPNAXin2WGQzk0t06nkjCIDElKR24sWa4TOFMCgIvI1wKzKxGdA8SIfOvsdMiCKh14PtREAIiNlhgvBlAj6XvR5n+g1Z-MyWVsCFnloRZdMeWVEJRl9MZZbIvgSrNcCnDG0uQzkY0AHIz8kRmw2YfIOtmuitZjQwBItP8TWAjwasvmfyP0CgBDZxs+oN1EFHejsukctBOnOaEbDhBoc9puHImIac+G0s8xrLIH7cBoe3AGPoaMEofDLmQowEQG0zkAifRvnKCKKBrnt0dA0zOYjiNUFv4nAmsxEXTL6GMzSw73XuaEHrndEh5cIlYNMwnkMzXS08-AXXPbrQ9uBKcsAEbIERDy8Ro8+dK1KL79yA2Fc-qGyJpFOB-ZQVJjHXJbb1Ar5Vc4Eu2Lvlez6g7YnQPfKBADkBRLckUTTLJzWArJZQKbGMy0qYFjsU2eTFZMMrkgBw0YSMVmCsnECyW6CpxvbFclNZ0F8Y+RhMxCxS94pBMqjmnQgyiAipEgKfG6BOamd68dGLBcqLnpbhwFVk3UQm0nTkjSJoAF0VtLGF7Row2aDKaj3WCRTOBMU+MOgpWTUpX5Hol+ECFflsjbRPC0SSrOQU0hgWwitiegr-nGB+Fv0wSvIrDHmjgOQCiftjDLJ7AgROcaYLazmlxEoCDIU-KIufl0AAxGwCURRJkAmKzRyYocRJP-EcA5xYUAADIZ01x1i+wIpPwkbBBJVkt8DBLZkpcaAJ4tgSIB3Dniscl48CdvR3A+BEl2Sh8fMw-HOgil2C8kGUtEVvg5CwS0JREvABgTFYEEmpcUtgmpKYMeQNyUtLPqNB4JwYuqPkuQlY8lY7S9xQ0EUK+tsJwY7KPRwGVSjWSsnKZeMBmVSjsoLC3qP1CKXJL1Z9AiiUgWomS0MkVk-hPiVYWiLHF7vNRXxIyQCT2qOykSWJNFGX17FCbG0Vwt2UdkKJ5E4MYcrpDHLPoiRM5YCAOUAMhAvwWQCAQIlCSfxqi3ierLL4Kieo6JbZb6zfDwqDx6s72t8uDHKjMUhrUYCawTaHi0x7ABKdSggh60LkBY7TsqBTYhQCVtrE-uTLAiC8qVptNYaWFVBGSHFtrUlT8r3wcqc0rwYhCm1xVSjlROwWsc-3xGdKExMg9seCK2ZgR3BSqgJSAvtj0AOYP6KCWJE3pnjdxIaInjKve5GrNeLYrHsdCQkoTBU346gPUK15HQ-GB+VkLCu8XBiG6YMBZemLu4YT7VhANZXkBZXJBuAvsNnh6z1VBrcJd9HlnquUDIqXVEUxWLuLJUctoK8M7vq0XJDarmAoi-wWePwWCK+6Ik46JotQVHgZFawE1fktlUiSJZgQS1QiQuQ2rRlDYtCQmSmRJq3VrkiiV6sBg+r2AEan1qsookhrAgYagSH6qsnRq2AwBQEPUQ4W1RLq3a5TL2rxUZrQ+I5TTvbGXRCBXJHMd1fGCNUELLlJ66ZnurPV6qY2l63cXao4mIYcuhUPLnepPWVJc1uqoifqu-WZL71cYaClMidCESA1eY4JYBPnGLiVxTStYGBpnEQaQJUSuNV+oTWXUgNR6x5KypCiWhsu2a3Lvut9aOKQ0H6-NQavyWEbZFiPNDYkuOj1LwlkSyeLRsaUWiPOS65FVRvRXQUM52GmsdYDyL9QBw6tJeurAW5hCluduYTZUpoDwIBN+UJtiJqk47MJNvTbXDJpRAVcrYchUaZky7S8bkKuVQTWpQk2nrxNGm3pvAn02yajNnS-qRrEk37RkkVgAzWQHU22b6BWmuzeqDLC8QhADiqzaV0qG2bnuAmygLFNU3OaBVeK09XxsdhObFU1AWLRVAHntEKJ8zYLbFJU3xb8onkQgAlomUvIRghK41jpECIxbZNYWk+IkBr4+0JVeQcLDgEnWslHWUpJlQm2gxpbH1pRfTSFvjAWa1NEWyVVFr02Oal6vW5zaSL9GmdaYwod4J8EhV9KGgLWolcVr3gObaAsWn4MNrU2KDkteKyrVtUupdb0t+SYQJtuc0ba1tWW+4FVt7I7bJVkKBrVhoYDNa7FhW4OgsEc3dbIBu6TzdpGBj9bat+yv5VRIBW0Svw1FTIPnwaDpU1YL2hxT9svyvbyWeWoEGKK8VBjFlAC5wNdqOCo6Yu6O9MYHLKaZ8+kewPbYEBq3krK4D2t1s9tdC8RXt0GeHe31KK7hakvsZUKVNE1n47FKQqhpRG2LOg6Gyopjp2y1R-asRaa4eIxSB1HLQdAc4FVkHeis6-G9IBfl3QoDaRwyorbxoePvmWF+Bo1X3n5wmCOinRRgHmFZ35i3DFyUVQ-tKXz5E7AgIUEXSxwo4ocA2uOj1RjoXl7Dologc2hTo5ZU7w1zuw+qR3I7GF5Mi241tBhd0R7QENtY0UlBO15U1Ax0AAJxdBe+VgYqmmrkAOCrMOetQGmtMrCgygkiTXkT2tLJijy5FQBDQHOJyTNergIqmoBkAqsVW8mNAN3vHU5zqygIVvZIDOb0AYZgQQfRbj+VCgo0BytbEBAP40FHVbQtoePpL1T7p0ygc8Cu3H0sKqFkgWhcqBbA6r-t5K94bdryDB7eq1Iahfvtp2ZQ3lRK6DFfr32VAd8X2yLDh0R20xJ1GxUYI6FLDh12ZiPCCMdDfYSBl2q7Itoyy-2NdJSHQDZZPEARTAGAf+oOgc0ualgvi02TXuPtZJpR0oOHPhQmxeCTqjAeByWGPOSA4GDWfK2EM9MaF6A2hgCVNTFzi5cAEucwCCA2u5R5cD1DAI9QbBfV6q48JrUfYgd-2ulUD0NbmBgbez18cDIUPA4f13HPrEuYsRQ+QfhlL6t1KQeQ4ocP62t9oh0dEHobSi97jAK+nxeTAOWAq+RhFRXYCmlZpt3lvItXbA2MH0rddtUE3UiEuqxwy+0ek1uk08V4689So9zNus3ElalMtAGKFGmgNNji1fCkA1wvfbJ6cOsYuNvEcMZwGCetZRInmICM2igjAGQMaEb2AE8rSRaOYolrbnRQ4S245NGCKqBzMymIQag+8tcNGDtIEEfbgxmqNAR9dPh-hLHFFEy6Qd+sLmPJrgTUSHoee6w7rRKh0A6tcsYHeSPx1Dqflxm08nit9E2LJtJkmbSZhKBzByYNGH5XfWRWrHZjPimfbLju2EoP9DilVpqJkBm7QAAAHSwDgLwVlQWLrgA5jDN+kC1Mmh1Asid79M4h5CFekePvLnjt4142bs+PfGkGRQFg-8dhaxjrg+ADYkBGm71FsToAAAF7j0jAnx++iiaEBomATgx6bsSdBMfRwTIUJA3-sc6Q68S8CaI7EciDPGKTvxpAtSfBrCsecLAKUvaClLEApSTrGECqxyiIgYTS2nk0tL5PonpRwJihSKcjzinJTGyxk5LCAA')">function stream_flatmap(fun, s) {
    return flatten_stream(stream_map(fun, s));
}
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave_delayed(
            head(stream),
            () => flatten_stream(stream_tail(stream)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p48' class='permalink'></a><p>
      The evaluator also uses the following simple
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      to generate a stream consisting of a single element:
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (singleton-stream x)
  (cons-stream x the-empty-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6j0lTkgPXDhRxLSUO6ttKYIV4jXiVuu0d3UpEbrmoJuck5UiXSBJXYEaCwFCzF0JYS0vWe6pDW+tvam2jKKC42ZYUY13FpN85hDNLF1JGX7qg7PQoRS6Hz68tPyPYrDFYuxYVLZHdk8FxToE+AL1eGb2X5XNVhXKtMlXiy7fi5DZaz3srg-nJyTbzCgrpthsz7a6DkQ0vNLaQ8hPyxw5V+6DGxzydm3sndM8FoTYS-Btnu3OfqIOaYTxUH9pqKOSA436dzWrvigllmc9kGkl2+0ANQ2f10k-0rT83E04QDnx0nQtFKAeGxRcl8QTCpigMwmgzrx6iey+WtQwMLzsCHRwOEUQOoE1Fkn-FHyaV5UXT835FVXwJyGWW2ikVNQhxwh8R3wSEtipVfHrzsAz1H0EzmTGm9l20wLsEYM3C9XEO6SHkEKYEFEOWaAslHxAjoIG2gOXWYNEDn1H0GnUMFE0Ku3oKwNXT0PgKjVUk-lQJ4KdlA3kLohrzuB6UuC-yL00EeEelEI4V229xCG8N8MiGAn0mCBkMUGEOtTkMWXUSGQaDcJckBnSAj2xV8LkKMAAB4gj0iHo-94jk5vgg9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgZPHcUAAAan92gTzUeHAnkycKME6JzW3A6K6Mch6L6IKMcW4QLGKmD0UHKMqPwFEGPFqPqOPkaO51aJGM6MiX8AmPwH6LEMGJ3HKlGL2JgVugTUmNCNcyUNKAqCqFUM5Qvy9T2QCAJn0GcDKFmkIO2E9THj8LULiMcQNm2CVRx0yL2O+C+IeNmguJeTICQITXsPcl0gBj2PSC9TEmNQ+wGIROCCHVuIRKxMBLwwGNlVXVuKcRSA-G2GFnGBxJ911TJCvi4O3zRIXnIWiRKKBOkHKn3CaFYlADdRpOSCjjIWSikT0MtjwJENdn7Cmi0TWD0OeOMJyDhgRP8FVIkJbA0LFMjnziILBG+OoF+JznWWEVGS9UmTeNAEiHeO1LINhJ+OGg8O5KdMnWVL5OcMkKDio0hPxOshhPEFNPhOCXIOQKnG4M5KBAxOsixNAyZO12UyhMcmCE1GHCJPURBJmOSFJNJXJOOMpPXWpNznMBojdkYkZMCI4LZNRM6U3h5JKjtIqiFNhBFMFBvDvHbXdW2AlLBKKGlNH1lJAXZHlItMVIbm9NVLkL1JMOeUch1IUPnI1INLzkNPMKjxdLNLdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIlbxQi13myFzPQAh3BglvKT2AKjQ-IIkcFglLGSV50fNh3ex104U8kFSkV-LvJbyLgsWdUlAzT7RzX8D7SUk1IHCYW3BHVQvMBHQwsXIzRkLwtABkMIqQuwpLlIpLgoqwrv0pRfhzUYr4SlEwpSAzThDoFLEkFqBzS4p4pqIhHYuSAzTmMYDwvEv7BEoCAzWZEeiLAaDoH7nkoekUoYG2Bkv8AzXaNIv8EUFD1AFqENSWivE6KEq0vMAzWvD0vMAMt0GMtbivDvAsqIuwr7l0BSHsqMpMtACvDbiMvMEsv3wWOAFssgkMsctElMtADAFcsorvwAFJwrvKoqYrErArQBgqM1vc9LUrfKvdjVjK3K78ABCI1PKyKgq0Acq8SYqhKoEbcLIlKqqpy0AHI8weq+ixqrI0SWy-Ktq3qzq7K7ChaFqhy6qpaYakqxqhaPqzygIAa6Kvy0AOa6ahqhY0q8KlagIZa8wUq-wB3SUM+aCm8v85yOQsSCMATPtXQGCpPOC2eE67eMis62C5yagBoAAKxjw0WuqbkEFbmIreq-LE3AtKiIUXOSHuoQkeuOC2iwFOvwlgsvQ2PEmdQzUZUyhzSxp7mCqiVEuwsgGIF5lcD4s8uJtJvqnxoJu0uwtUscFgEgDwoZqZpptppCu3AZoAFFSKeb2baaM0AA5SQIW8KkWoWvMxyZ6+gESGGtkVGjtMQq67YATCCZaodfAIZeWmre0Y+GW-iHWxWowlWooNW1uGAtvbWkG2GxWhGttVqHCHWzPN8ycEuPfbCf8jMVKRgP8FEr6yQKQWBPCRmXJAyHWgCiPQEYChSVBN2vqF8ZIS0r0yKaoGMzpRQPfWw9SdOhMN+D+WELPG2+8ouNU3QLUo27eK9NUgWgIAur+Z2keHob6368ugmyu2W6uiQ2u-wOsxmdk1yBwxIQVCPESU1R4UoRI8LDkzpPeVOhshMM+XAMAD5JgE835M87gTAa3Z-dwCgRwc0IcG5ZkRgX0D9SgL9CPPfRihFTcS28+y+-Q1CCMQk8G6DB+79IhUY7cRwHY3NK47FSY++5YC+z+5+64FMhXAoz9MBjfOwGIZkImLjWPO+LFCiD20gUgeFISFaUmQCTB3yhgTouaTB5M7cEY4IchgsYY0YyQAhqG5Sch3QHoxQnqEgEyTUVBhNMiCiHhxwdh5YTUECAASGNJ6O-oWNGIQdJE1GQbsQE1VwEZFFEB4Zlm-oMG3DgdACUcoLcBYFWkeGvvh04UnH9EoapW3AjEJCYVMc1Q1XzBFhx2g1MaMFRUgdxxcZquNW3ECCfBfsgiHVscCJ8csY91AF3roeHEPrbBPt9FMf0nSBFl-B52Ilsa1WTitUGGl2Y3nRccBkockc6J0flWFH0cCbsgMa-t2KUhGL-ptJ9WtWyeTXI08eqf7FqdGOKbNVKZg3BqAkqaqeTifFCYD20eIA4aUG3Gop4d0C6b0fAamELEiPie2GCGKYWJIt0GdXKcMZLJMfIlQlmfGcEZKcYBYH9A1AAZxRWa+B3AAHI-75ohiHmrH-60HJjTGtGunzRGAlQfnHKpDCwccchb7enlN-me6lIM1tFZhhjg9hijxyBhi-hhQkXyo7oI8nwFnUQxmJmwWv4IW9nFBCXcWTnumzmLnSXlH8XiX2hfmhloMSXvm6XjKT8o0A6g7SAQ6ukohcIQw+lhpKQjGudmjxduwRozHObkmxXiAc0mnC1BXVBIXG5ZoOW7guXKBGZbkqR+X7hVHFWiFXnMmlAJX-GM1fHmGhMGnBgJXKWRo2X4l-mxkLxyQ+XLR7gDXF5GJS0xdedbXBzpSm7sTxIIx6m+hfV5WWM1hbXc5TrdXNQ2IgJLYBMnXzx7RXWdX3Wxp+mY30IG4LqkzgmSL-HIih1M2+lJUgIhlLby37hK27JDWIGC25kyHqKS3mAs362KJXnm2OEyG1Xg7NWeX2gRmcXIje3mgGGUgBMB2NWtXUNa3s2KnbXKXx2g3QM7qO2K3E2G3dZSEGI6ZMgCChWmzmd9tsKLXc0rXw3j2lWxSByPT5ZKQBFNM9p6pGpPXAXoIVVNxTXVn3G-3FnxLFWBTKoTwo8cn+kTUGpVtB9wCLsJXPD3NIjAOcXsChXXngORpQPDxwONpmm9p4OKZU82063GA2xyBqBZI2Qg15gv5EPAX32TWhWyGUXyPNGvso1aOiwyO2wF8GPjSh0iPRRc23kwAzTIUKPH67r7osIOyJVyBl6162BSAHpiw3BQARtIJNQo0RtLdLdfAlC-gQxFBWRah48Fhg9wlhWccE8rOwiwncbZgEmxAdQPAzOwblMh07PGBrPsWax3GfPrPk50hjPSBTPRBzOTVV0guZYHX08WR5VH7M7JEXqHFqNv1LYM0257Rv0+4xS2UyhKhZozPHAeBdBSu2tBzzApE6BCAGhcuI9LYwuIucJyvov110vGun7yyD2RYnPSZ6vuvA4pyq0nPeuH2pSXqgvmv7gTPKuiW6uGvH7iFRuncBugupbwonPMSOvOFNuJujSPiS16BUXWuyuKvIvHAgUQT2hT2auXqlvuvZu6B5urv2voMuuVv1yaZvWnABunvvvqvkhMzqNOuQxwhuup3pRIjnVSv2vIiFv7TulDmtSAhPuIeWhhvVuihJv+wpEZvxIWuke8MhvvveuAgl5+HYQ0omUv5NvT3hHthQfSflvv0JQmf26f2s9uekeA5ofoFWfsez5OeKz92PSpQWeYvLPfPbv9CKeNzcejvPSo0BL5BVOoj7uz3MI2BgmHjivR2GEQgiuqg350hdfvGMpNR2OglggrfUWglA8SoWAcOqo7AJPWFuzovv0+zFfSc7A1fyBVOoKXqPftkMumvxJNtuvM7XwpEFPLYw+pPv0Fj9eqh3VoLZPxIk+bkY-tx7f2Ol6epNsGgMo4RsVoHQGI85e99IiP7q-keohB9S-DoUD6+lAW-y-DGkP3HO+E1m+y+USck+-sU99oMR-DGtGJ+vbxzrV2-dArCe+Wv5-lCNStHs6v4V--9F-AXIiS-B+K+t+UeF+ND4uG8P1P3jTnzf9sOdxfHrCtNO6tAL7mxb+9Cjn2y2IP1HA1PYQI9GBN4PUFQKoAbAscJefXGYBf39bgDjEL1CfrIgP5TgMos-G1pSBP4mEFe-vQsANwn5bcAwYzT-q0EYA-8YW--EDqv30K7dgBSoafsP0QE49aS+7KnihxPbA8tyZFbntQJpa2tdAXA9Dnex+4Cw8o0cf0lWntYRg6SfvbXvAzNKgClWZ-M8LdBJQsARWdheYEsFqB2I6A7XdQbxUlR0AquX7YxqTHKz+NdBmgtiAYMzqvNS2y6bQcqxS7LVMUyg1QepHMFaClB2QMHmBnKwC8OaRQdwZYLayv4r8vtElLDUCEmDdAgQmoIYKv7GD7BZgvKHoKCHWCIGtg1Mr4LfiOCloGUNwBHkDo-pkhFg5hMUP0FApM6fg-sDkLeYuC8M5WO4p6k8EqD8ASwDWADVIi5o98rQ+QGpDtCWBsgqDFwWrU6FxdOO8SHoeQD6HODBhMw85j3xYreYBh5zfxlSiNahCChEQsoV-GSgfZmhtdGoZMOmHNChhXgtTMsP1xKEN+-5PoHxD6gQEQG0nUACSFBA79JgUieAeJGn7IC9ClfJ4VYRWRUYcB9A8IhtC8R-D2ezw+QOgI1Iud+QUwjGI4Hkoa9aBF+XAdEOhEUCH+e0eEd1iRHq98i8IjEa8I0I98ZSwTfAAOh7gjF-G24SkaGmpGYc3OnCIkVCPVT+MZS5gI1k4Av7wijA-ja4eBBqz3C3grIl4TCMoEQNv2qqPkXYyWbc8XhkrXEYiORH5FoMfIqoVKGgyKjNREIZUbGFVE0sNRaPAyEOh1EminI+pV5nSKpGwsFB4TXVD6CLAZg2OqTXjscF0BOtWRTrN4bANlqNwg+alRKJbH1EZhDRXozEa6I9FjF-BUoH0af2NKqjmsdXYSGQ3pER5YWqwl+K8yjKj0ZIcwqIgSOTFCRh6ydKNIQEoJl8KQPPdVEYP6EJojR8gRocIgU79DlBrXdrmZziF+j+IFiBTh2Mu61B188Q6nvMF5haCjAwQKlAWDoD2iqxrrUrr0BrGbwpEZnS2GWybGAiBcF-MzpOLv4jF0gZnEelYFABlEAAEtzUcAABBcAOAG5oAAlMopAAADyQtZAOJH4LW5ligYnjtb1ng1jusEovfBWLZDziAJGMSVq2PnGVt3RQCUMZS1bEyAWgUY+cFo0Ql8JfxqLeGil0BbnjLxN4u8Y+JfFvi0JVgL2vMHJAwS-x2E+CT31bEFj5xjgRcSVngnlQUJxAa8HMJI5S4y+mE8jjRN6EYwgJPfOYeyDaECZH4Lw+FItCCSqcFg8ibRHxOIhSSXeHAhEbYCAlVDvxqnJSQJPUllQsRBGUegJCEgK0J4oQy2AAAYBCPUeIMeCKymSRWZYcPpQC-iKpHJKgEgBp3EgYszJXk4UKMR4Bbi-Mvk2KP5MYBaNNsdkogVXyUAr9Qp0rFybMFr7c8Qmd1bnglN9ZthXJRLdvpcJ6iWAa4MUx+k4AyjBRTJK46bo5MSnZTZgfBFYg5IjxOSUmNyVybH0mA9QlBbIY8DIF9ACdwSVGKASx2ShMhEu-QBqe33IGZTRWSU7hFCBYFKsRpHA1VF1McA9TpAvoEgie11G91LA3U3qbjhXbJREYz7ZXlgNWnrTfQvk7ESIHmCNRYQTgcVmgOR4wMG+volXvEgukHT9CwPKnlAJG4UpqyzIiEQ3yfpsCuYDcX3KIEwFCD9YMAocnAIQGt8kBGYX4SoyxEwz2BDKGnuOK-gNA8BOLSkflDR7pAvpG0xQKiKCj4zBBhpYRnjzlhUYUO-I4Miaj2lrSDpJBbiG4zJm+hsC-nfsOkCJmahDum5bQlgTZmXSDW9owUX0HUA0gU+R-fkliNS7+jPh0iRATP1+Er8ARkwYWAdWxlji6eFM+gVr25jEA+i+IwMcbORmTJ0RMY2mg6QxljEByf05YFMQ5gE08Abcb2RGA+GICkZXfTWSIUdk6yBpVafWf9xxlGzcBb8NZubMOKWyNe8-C0QEEpntBrZXfZVpaJMJm8wRn8EGejJDkJjI4TAxiHdM-iPS1gjs7WfqR5ReyfZYcvzDaIZF2iSEwgyUo3Mwgb8C5IJICS+2twkALZho1QAjxu7KzAW5I7xumMZH-tm5GYw3h6Fc5yAWRo8yVnoW5FECs85We2cmE8R2EhRcsh4CnxHl3Ux5VhDebyKq4Ci956kA+RQSPkR4s8Y8k+crNipgBvZbcDeZERHlGAtU8omUW1n8aDyE5ho9UVkIJrqi2sO05IMApwiGiy24C2MUUDLZQKU5-xK0RAznnUi5xTgXyXfHRzCsf8gWOrOjnRamTvyHWWgIsArG0hrpPfS2tdMHyhSF8dCusU41XTQZGFkraFtIB6m1BRUd0WDq80tqcKKpzYydJ7VJB4LfJnollsqn0myLhQOEd6Q939GLBI8jUgqD5M0AqF2+pUtYNdJUQvVYFxY1MSGyUgmLwxci0MdAoRlIkaFDyAoRmGum2KUg8YjAcaRMXBiKRtohefgLWEQMbYB9FluVKakL51FiklxaglzFWB8xJwrxbOBLF3FjJeExwPeN3AAAZbmu+JFIvwbJUuKwDpN8migbF48zxZWJp7khwJtgSCWROglsRil1S1NK83QmphTJooQfK0s0UdKe+qS9JVkvACkThw9S7pU0r3yiT66YdfsPRJOGMTmJYy1xckHvymTOJzQp8FUJmXLCFil7ZZRHlWXLCsW9oz2o0tKUqLpBtQrwZMIknKRfJrcIJJIs0WhL0ZpyjQlpMKVBj2lTSoCTdLPCR02Q-zWlkovkWASKBbY7IOMuaFiT5A1yooOSKWjJQJlJYNQdsKmVKReYibWCfQEBW-NgVQkrEbqJqHHLPlEYhRYZKhqzl9h0sl6AoGCVKLsVUXClRcJVn8QtQgNcSP2KY70qhk24IJf8195YCDZtPKuKyq4igiHgsQJqQCv+YSiwVKwhGKABFUDIr8F2EloyuUE-LCw845LrKLrE9FGxG8e9IWAv4biN49oocMHho6YqZ+YE9iZvCp5aqU+tqrXquMi6Ww5lV3Jcbat65SIsG64GdOxNlWm1HImy9sR5x3DsT9lyg-ldDXuitc2JmKyNdkHLz9hlmmK3QDUN9WFThwAauYQwNhkiDDSgGL0pR0sCaLrVlSp5ZVP9GhjLYMIaheRkMW6y-u5EikNqsEk1LnVL1NceJHdU4Qlx8E71S9UzUzpQpcwoNTZBDWDCw1uy0QImpYDRqAgqgWNdOt8lzrk1MPDKaZPTW+Vh1WgMtbmvvbi8jSr7H8LMAaWOTg8uk7sLaoWG4LTJUyaibQGZm3NuOeC21a8247sSH1WEp9Vo0-WYrv1-Ep9QbHNWlqA1yAm1ZirFJSJmgGKx9fQEtipKCJD4p8a+MGWTAkNt4lDcRJyWpr4N261uLBqvX0AxSU0bcBUA45FquOZ6x5awsmCgaskjkiDRWsbU9iRIRG4pYhovFpLMl2S-mH0t424bN1DfGoRxvaWkaG45G8oJRqvLg56yMIL6iPEVZ+ksZxgkaKwx4m+wFNREZTXvi2mjQmFOCA6IpqEAidNoY-VdOptfxyb+6cwBwCZqLi6bb1-QF+Lpq0ZPYuKDmuMuZvoXLorNWjH7HZroBeazNBmnvvwI02Tp4gjwB0GxABVWbfNymfzWWMoXEAvq1AMqdptM0yrc1zmzgsZqU1ZaKADnW5mquyCvMFNGWgxUZqK34JatWsSJLypCVPZatl+ELZqVF4E0yt5zAjEusaowthiTWpRU-loDpaMoRfIDPZqq3MJ7NREMaN1uFb5bPNSm5baZslYBLFmeQ4UJsKKEaC7Ej8Ibb82AS+xVtFAGbcFrm1DIFtHPLyr5U83TbAtp2-BE9oa2dbrIC2zdH1oWLwtyoh28ms8Km3jb8lUW0QDFubBAQct+wkSZCquVNxH4cKrAG9sp5qbqV-ykJdFti20qjtVbRZZLwTR5i2EJwqws-SR34CYllHQnVsvPnCMme6QKlDduSALbYkX211NQDRY7g-tOaDHQoAm0IFKJWDV-mAONL5Jb+49SeuEFzqbB7Rs7blpMgh2grctnMJUjDvElw7pQCO6UBSAWD3QlAVvPWlQBWgIkdmWsCgYsr-wL8TKaPYDuIDbpIKdw+4XDtVHhEvSveOxRHTTqWUy6h2QBRtgF3J1xKqdGhFzvTv0hM7toLOr3fO26SDbUdWO-7ZHuHby8cAUiZkK6wEoaDLYAATlfA9R09vFWVaTEAGTbuKGg2Vf+TcB3wB4WvKnpCQNXgCXZjEOwIEUsla8AgeepUHczublQ0APehddRCPX9h29NLIcHmu2Dt6y9rgRFKJLUxDI7Ad4crCLKkHj7RJk+2QroFT1BbBKGqmQHwoEXpzK4FqyHUyonmGE5hzO2NZml4W8U99q2X7bHr5WAQr9-Cs1IIt50-kt29wOPVBHGb3RFkwoJoA8GprMqRIWoS2Km1qAus3WArPFhlD63f1nwhyptZBAQiMAADZNLxuJG3APA0iSLLXkPu3C3g7wi7BVSy3sA-6RI3ZGyonQjBD7mWdKrUF5HzVkJJBv3SCAGso7UciwZ6uxAwa16vqL1xAr9f+vg0M4-mo+sCIxBQNoH6oGB5bAyK0B3p4Z5gfA4QeajsSsI3BuqaodvDtQmDJgFg3ofAEqHtDJBpRRFBTEUxKDqhvvcoYcCCUC9CKyFTCuzk5AZJwSOg0dpNF66r0L-JQFqAlHpqbdBAXyoYCzl-biWzDfHbEsp3tiqURCe9ilsexjltEdAY8IilgP3Qq1LKsA3IrTaXgoDHrGA+QfgOIG2NFAixOEf8O5oojFOgvXEYk0C4ccehErTi1Z0BjVOCaNkZIEsbCN0gHhpUN4ef4rQqjmtUfCbvN3BHW4oRs1TUYD3ti3cu-bnoZRqFxHBUi7L-Xc1dGKAkFAAHSwBvqkV6kDg-gGDz6N6dRlCatxAMhd6dwUhigrB1fDrGAVmx3jtsdjF7GDj90tiMcdOM89VUhARZEMii6REAToAAAF6HNzAex5IPXTNRUcTjZzCY1FwhNXGbINx7cHcc1DupOe3UZI-QDSObhNjhx74-Cd+ORUtm2Fbo2HmGKkBhisLVCHczPh4AnjISok18bhPsgyTDlCk3fipM7gGgNJuk1i3RPtQgAA')">function singleton_stream(x) {
    return pair(x, () => null);
}
</pre></div></div></td></tr></table>
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.7' class='permalink'></a><h1>
    4.4.4.7&nbsp;&nbsp;&nbsp;
      Query Syntax
      
	<span style="color:green">Procedures</span>
	<span style="color:blue">Functions</span>
      
    </h1></div>
    
    
    
    <div class='permalink'>
<a name='p49' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, used by
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), specify that a
      
	<span style="color:green">special form</span>
	<span style="color:blue">query expression</span>
      
      is identified by
      
	<span style="color:green">the symbol in its <kbd>car</kbd>.</span>
	<span style="color:blue">string in its <kbd>head</kbd>.
	</span>
      
      They are the same as the
      
	<span style="color:green"><kbd>type-tag</kbd></span>
	<span style="color:blue"><kbd>type_tag</kbd>
	</span>
      
      and <kbd>contents</kbd>
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      in section&nbsp;<REF NAME="sec:manifest-types"><a class="superscript" id="4.4.4-sec-link-2.4.2" href="./2.4.2.html">2.4.2</a></REF>, except for the
      error message.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (type exp)
  (if (pair? exp)
      (car exp)
      (error "Unknown expression TYPE" exp)))

(define (contents exp)
  (if (pair? exp)
      (cdr exp)
      (error "Unknown expression CONTENTS" exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+7gYBIQw+DMGwUBwIgyDoHwPD+wt8jzDRG0bno9rELMkvI1IkyKI1R8GBsaQAPy6XI18zPvix9vfQQAFzAlKpLqiKF-QIT8g7UANIQTQ6EGzUQ-kKDCYoJT-z7CfM+wDzC-z3PIA8METy330OgswT8969QongwBx9QC6DQcNTBiZXSlmtPgwhoBiH70kCOVMt9UEENocCd6N8KF32Gmw3qAjGx7CAtQ3hP46EyGJCpESBUNKfxEXqQ0nwkKqA8iCGCRlFAmXwU8Fhw00g6LTigqhp8ZGNDkVTY2qifyiJmPY+G9xmbGyVuzSx0iWFyOTqHZhaiSEzACWmHhfjgRpSii7AsQibGlGcSDRcXiuFCIiXwwuxdS6UVnEEpxoB67SB8iEwgG0kLDwkj46xxjTGlB2rZd+05VCD0qeMQx8SeEJLSL-RQzAITcOAgAVWIAaYg1AADudghR6CUA6UAABaBZVD34ZWxjjQp2SfLCBeIPM2GZKD4FAKoEIzpKAsHqn9SQWjhD9mYpnTZJcDZnIub9TR1VVA7MKYwKIstzCDCodIC64gjknKkGSVo1yPm3LJuYc65BNh0Ctgi1EKyFjlLbhY25tS6m4sCI6BQxB6TUPBLQGKJi8U-gqQZDkxlPkkH0DiylzLvm-KZSyvFFSSXMBrHcGF3I0gyRCBFJpqgXTIu6Y0J+IrxySEfISu44rpDCLqb-Vo7ROgtAGP8wFwKMzmD6dQCEXyWQjLGZM1u9t9aaHkIs5ZRTBRaX+bxHSDSJRNJMpOOgPD7mVwsi0n5oBUQAD40UHwUAG8MViz4Rk0LbHeuoQlytoHVKaEjag+v1UKqQ4RCDvBKasiN4iQSWDWofTp0b+wmOcWUotKbuofWTfQDxcSmxFAyXw0p5aiUNt6l9RQP1KB-WqWfbcOkk2uJNt6yt9zDnHJCJlTQ+tDZExtnc-VC5qTqo6AkLVGwAXyCBbaudYL5FOxiTFX2sLGgyS7RGoW562apl9k8aR2qdWHr1eg+FBBwTnseLA21qKKV3qWA+xWztL0S1fdY99aQT3CrbIBz5f6IPOUA+uilMlwORQA00uDQQD1Ht9aUW97DJ2qApa2R9YtTZrpg6O9BwxAjDCqvbN1kgSDVi6Kof++yPSsX9ZIINoaWQACouMMN3WJ4MoA+P53tnQdaxAxR5qgtgt8uT6Bzn1QhqQFH8HXrhbQMIAo6ZBqZkbeGqS9AdLbV4Ajm6PZSEXcuijvsqNELk17TzoBf7110MiZTqnFZkPaSh4WaGn2u1Nv2dlHKzBKbyCF9TODULad87ivGnwKMKxs3Rq9PEWO6ttRuh5WC0taccWogCYW0LwIbH2SVPTvOVAI6xhN-Ik1hMGdI+5P604WYCanag3k+wEZ-UHdaQKLNJZU9QNTdXtNpwFcZp8oBJP+l3QwVFHHNvJh41NlQfyHmgdUGnCMhLiWn1Jby7RwdjvxYS89jb7IpNdGnZll7jRpEKd3uw6J0XW2SMzQJ6k2XknbGQ75s7+UxIqKMZWv7ib2GcKYekmd+qf1NIs2dtHismltLyRWt9GxqzQNFKK-HFP03NheE0nhBGZL4ZdYzJNS3wmY7J1JmnyGls05Qegs7-PCfKKqYj6RT2zCk8OHgBeTBWDsDXlwTeaAwadZ1rm-NqgHSwuzSN7IuR8i69ANW0A8z0SotzbakxvTGD9J17HLIOQ8hUKdNghQLQXiWHhkOro391k6Qh1oml+jhYvAu1zpzExkoTQ8JCpCwZMuh6sAYiPo3BSM7lgHcF8eiVQoFp8vXF8-zV0+Q+PP9JE8twIG3FPdL8DF9Yo9UG+AXiHX7rqCpWKm-bWBk9NvoAXqd-5Fym7PKYqN-uTJFv+1B8QzHYzCHMqaIAL0EUafD1Y8r8WLJ+VRQR86x30sJpvfnOl-kslBnwFj+J3lkhwn+-rSn83xPHu+FT-I662QIOZpoh0XHzJVTD6yzUvF7Blw2RwyXg5FUBALB0VHYggPHR-2oAulTm2UMnkEzXWGj1AFBHBE+UwKz2GB-XeAnD1gNm5SAL0AswqGkAGA2WD0wKsgwmnQ9TPzsHwIhAa2yDYPHHjR0mgJJBpxMiEPkF+BwIeQ7DEJrzEMA1EMwIkK5lwN7BkMX3tgJUCwANmFu0vWsiBXp0e1AGcBNAnGsVf22l0CiHeBYIbDNkt10isJsP3lJjNy4NUCYJgJ4IMNABcMZWMNMO0Oa0CF-hyGiBsO8LNgAB5HDwi3hVA-CqNiF7cjVVAWQAAVLIdRYgQUVlJwFWAUSBBuf3YCUAAAalNxe1DEiCiEOXTn0LNgqNkxZHKMqOe2qOiDqISOOyrVxTtwdwyKyPwHkAmTyPZkKOyUoBKJaIqK+0CA6NqPwHqNYMMCaNZFaLmPMAWK6L8K-3ciyAgSgW8OQ28NB0CGQNmBkCyEsjgMaB0jm1sN4MMKBSM0FRLzoMeJeM2OIVPiuOoEsk2PxRQL-yHioLu1+02N-m8KDQxA7EiOCNxSfg7ESJeyhOUxzk+NJheF7F2Mc2dUaBPWoRhKtyxFc0oMAN5VeKCENW4P0NZBGUyFaDkw5CdVKCIy-TqR-TEIsygOYNJzqRkgeLkMiMII5EZUBPOMwPkNFJJCKzZP3XgLsGoT+JuNg1Z3tnJ2ONFVON8JUDOPMAuJVNgPMLKzMHuPRMiOeP4wFPeK9kxIRMSWjSNMBLhl-xqO0N0OAOsQdJa2hIcLhIaJ9MdIukVmRKMP3iDN9PRK4kDOxI-x6NWzSABXQUJNPmJMxHIKXXJJ0Inw31NOpJSNpIwnpOIEZKJWZJJDtUKSkyykTMIxKxIzSC5MwJ5NQ2uT5LVJtNYiFKlJFJkKlxZTkI9RlPELrJYwVNwOVLAVVMY1l3nmqkXmXiV04A3l4AwA12zBeUuXeUL1uXdgjkSkv0ZBNS3LeTv3tlPL90kHORLliSqz3PHmpAChhW3B-UvKuXl122SmAQAhZCVFk3MCVFxXFPqVjy7AArMC7GAql1-K4IgrwLBEYGgp-Nj3zHgvzGQtAp9E9kqFkxwukGGhArMVjzqjoBLiUEdReFIvItyJ-CIqCF-JpIgppLqXosCF-P1HeA4WcDoGDE4reG4oYEaDYvMF-LKPgvMEd1AEFEMBDXN1aNopErMF-IWQkrMCkpkpE3kuWUUpgtjxkxeDSA0tktDXmTE2krMCUufh9GADUuOQdBeE0rkvmTAF0pQp9AAFI7LjKtL5kPKLLQArLfzLcJKfLnL0yZK9KfQABCdEUKhy6Sky+S2K1FSK9yu4FkKI7yhKpy0y0AGIswNKrCjKqI1ENSsKvK0qwqoK2PYNbKxypK+ZUNaqqKjK4NMqwywICq+S9qlq9KtI6Kuy+SwIOSswaK8wXXYBbkN8iIV5K8ipSIoNdBf1JUF4d8nc+MWWGa85bcgveMMUZwAAKw9x22WqLnpTsDktgtmu3Nk2fIZTiwpXWr2oJFliwG2rmquXhTyFNgswAl-O3U1Vk0Bt3Ssu+3Ytj0gGIB3TkEorMChphv1jBvBuUtj34skFgEgAgvRsxuRpRo4tggEoAFF4L0aia8bwbfyAA5JQKmuymmqmyMhLaakzBFZ6762sRa1EM6yyI5OS6Q-w9m1mn6ra1mvAm6t5JtdKWsD1Jaxof1Pm0NZ8uLcWnayWjm2LBgnSB1EtNW+a6FEgXZH5fMDgx5Ypa8lTdVRgYpd0w6pQeYJTCIJdSjZlZ6m8nIQMe8hlAcxoQeE2voIIdUhaEMyBD03M60U2zQ-PME8lSlALIlVQZ6hahol4CU1Wz6z4DWkQimwIeO7oJOtuagI6k61O77IWp8H6+QnO8wMg3WLMsO6ggwbcHIBFWuqIIOEwmYGOxIWbLYKBbuiOhguXBchXFeDgdebgTADcxaWgcIJQCgSQWGMIKifURgUOUCSgcCHIU2z2FwNwAKDere0c4IpEyeIiHEo8TeiCY+1olkSQGYszMMLog+y+o+gcdBX+F+sCa+v2HSaofUAmGlT3G0Go60h5ee0gJwK2Dae4XZUgUgJKhgColpeB9MlkFop+dBvzYCdYioiB6un8dB2mMMAQxmEgAyC6EBu0VladVpcho8C6X4AASEVMfpqNvrSNaP-pEguiAZ439ToeIAoawJobuSaP0BZEPzsHoeFk+CmBYEjR3stmtkHhPuAjoJZA-odmSlUdADhBYVPQ+N7FUeKB8DYnfyIhMdABSuAgfi5HQSfgInYl0YcJZDsbN3lWUAXqXoJEkFXtDlUdt3nUTEmKblnF0f0dxSJGlC5XhyqRMZ9Mwc4YqJkbQPkacezj2UUbEbaNMRaIfuONsmQVifUniZ+Ryao3ydaNSbkcUAUYCiyYSdWMqYkaCZqbSLQqNqjRqa+Dqd6NKDkXcMCalVe2EbSLgpeAAg7FUbjMsfKf8J6fkeCLsXCBqMUYceAgAHIH7B5b7tmtHtiljFGpHRmGHPhYZGAfILnNLQD4plG1ASQ96IQOxrmCG6lfy8gWhmijVmjxkgxixTRFB-mb8rZOR36Rn2mXnFhLn-DexXmXhFm+mtHIX2J4XXh8I0WenXn1CFo7aHbSAnaCdZVnRg5xJYCnQlGOFQmqtJw1GPnqW4IXgSn+p8haWfa0h-U8WTQCXKAl1AMS1SXTQunPUKX+mWtomlhaWNnfy7GQx9DEE7JpRaXlm3dNAcXdRrm6xZkHQBX4ZTRyXNBYU9MqWG4wnWXRWSMuS24-TcmghCmkEYDmWO5zXDWxyZ71sSW9WLp6Q9kLN-VNWZlzgdXPXxJhWDW5TcDk6MI0G4KNn3COwQ3AWfWfksTzGVwiJE3vWOEU3wWBna8BYac0G0K43mAvXrg9ktGo2Gw0GuXHbeWiXV9NGRn3Cq3sh2WghOX7buXCX+XM2w3lWVWW3rW6TxbBWs29k6z2Tj1QUJXw2jMZ9Y9ZWBR5WimYDlX2sGyytb0nR2sg7dQ-QgWqJyBqBU5jQWg2huhaWLCgRrVJWKW0GD3GAgwTmkQfXAWn2qILEr3bmnz2In86N13eI8B-jr5fHzhr61q81ClyyrhyA55R7Fo3gi4phQAwZjkLoFowY1c1cCENk-Rg5VAjRM9NgNBGAWgwGcI7nJQ7SfcjVyPEnXs2gd0uggnCZGoiOHJ2IOxaOyPSYxW1FuPsE6PXC+jqy6ACOOP0WiIeP6O9jcYNFsRr7VBYVJsHsZhwOcg-r9KNP5AZM6zXUDjIFCP5ADYeAXgiPJAXpGz3XTMkVnAdOLN8PSBjPTPZm1Ajt1O363WzBjWQaeM7OdPMMuyt0iUNVd08SzAp3rPAgf0ZPHPTQJOTPLO3P7hCB7OvOIugh9c-PugZOmaggn4cvISpO1A8vMvmN8SDSC5m0n2XPJAzPQALP+BnjFgqSf0Auj74vxPnOLOGvewPPFPt7vOQVgnONQvmPkQ0vAuqT5irBsQiIBudP23hp3CAJeu1rEK6vmvdTV9HqUbIL8JFuvPhuov8yYuxa4vUUnOtuUuOuf7hv0gZ3mhxvNUxUhOyOguggmHGgQz5vMIpuj7jFvuy7Nv3CmuWvxDluOUuIAf7vuRgfIvN3MtfvewZOIeHvKukyJyqv7ZqLYJSB4iWAqTzIi3DPNAm28VQEyffNf42BXHIgLon2KfKUn4GegWvt+jUiWASzzUplQAQP0sqydPWTIvWG8fyACfXyxaBetNBugN1F8YdPlOBgf1YOLMZewOj6OmyetI3yoPUUNej2teWQ2emfuRGCFPnBIg6pohujv6ch0fr3ODNvD6IOdvWuTmree1-9XechztreajTaOwvebefhPeA+ffxx-fvefgneSvo-Q+a8Q-3TIh2yYDfeRGZC4-ruM+mXFCTmo7uhc-3fM-FC4-3CIdk-bfi-T88+xT1X+IpBQJw24+UYy9JxWQ7G5PxAK69BN6I0O+mB7JXsyz6RQJJAkOiUchGBYU-7-iSl738zjXm-lXou1tTMq+oghsI+h5U+xCDW6-ZTMvcCQgcuE-A-viR+Ft89x-J+Whp+D+h-ZTiuNBNAfJN-kNN+I36zP1p3Rv3DV+Z3B5O4Vf4+QOwyrF4KAIxIDtyuSPYLkCEnDldselHakFANpYN8xAoYXICwBNZaE2gh4QUP5wa74CKK1wOgFZx-bn4PidAQ6BsxIGED6Q5A5Tlo3jbSxDoUPdSog3CDYDcB+eegf524HEg-u9wdgWnRez8DGBL0GvJECmAu4rkEgkQVRUPSkDJBlLagbQJGYSDQg-AZgbYgQoEE4SogylMpy0oyDFAcgz4AoK0FMC3mw0EwXJSwFCCuIh0WePcUEE4D8Ah4KEOdS+QUdK4ng2CISkiiWBiQNoHgQrUNoChf6jMAIeQCCGOCFGCQtQXaSSEbM6CWjMwdbVyDyDlBDAl2qYjhLuCc69g0NLEPiHuCwhTg6eCEKJ6uC2cDoK7NeQlDnRbgqYYvsJCAhZ8scYtTftvxj4W00+0oYvmoVYan8Xuu6c-tEAY6F87eV9B3qAA6GH9xCQTUEHEIHR+N8e8RD-qKi-5UVYISw7vqsO+gbCJe8RVYXsM6Fl9KBgsFsq43wCrgugLRDZiyHuGqhHhWjNjmoHOELDYIhgDZtyTMAZCm+R4ROr8NtYgI3cjQw5FLVaHWhvhiwp-ssL0GnJQeYIuEMCHcIdC1GRw9YZxQJ4YlVhtgxoL2CxEcCVugQ3EZsIyb51fhZI8Gh2FJFiDKUMhFVi8IeFfMMB0yGoi3XqwVCTc1w-QRCASolDWs0gbvgT2wQGgOEKmR9ieFlHjAXgmrb4Zqy6EbAf0eIgSkqhRQIU1htgE4fiKVH7CxOh7WgKXX264oVR+fVhhqJBhIplUaDV4TkC+ZpCfMegkEjyJUwJCPCmw20RKk5EbY0C1vR0KCPTCjD9MqzW3gm1+Hd9YOwQ7AS5wa5EcKBaosWjtlACwcEx5nEzsPjDFjcmOr3M2E-DoLYM6A-ooMTqws7igQxKnMWkRwsxRim6uY5vkR0MCYM7G2DIjs3SsCgB0iAACSJqSAAAguAHABE0AASukUgAAB5KmsgFRR0EtaMQqwATw4TvtXqIY76AcLj6EBAxoXB0BuIHRqNYx5Y8tmuPCw4jbAKrWMSoE+hniTMJza8ZUFXGM91xptPsQOOHGjiJx042cQ+Lm4ni32L488RSMvFx9YxXo8sZIErH7QLxxAfwr6DvHEAFkCQwPDEOt7PiTR2mWCVuIFEJDrkXg-1J5g6FOARMX2CUSnGSzyjZwxE7njqM3GIiCGwxU4RhI-YmYDxtgA4SFBboWBQWyaEgCh1RQAAGRcfbASATJdovEopI3Fl6UBugeuXiRoH4mKALMjABSdfxQ4VEeATOS8KpMgiKT18jAE5hDjEljh7eJ+V+m710nGgGWVEWSabXcJuNZM7hKySaxyS+NZJKXDPgOH9GWB-4pkuYdOAtpipQWNY9bC5KklmtryLQWgiMQkmQQIpMkuSQRh0jcDPgEyFQKHG-boJ9cK-e9hSifjGTYpGfR-uFJsloQ7JFKQZptylZ1In47hVKZIHSnSBQ44A0VnSJrqWA0pGU6AaKyDK9Id2yAyuA1KamhwrJ3fNoDaiJRSBZwg-YYVcI2ApTOpjU7qeIWs7L8QRo5Nfj51BSfDZhgPKhJ9zxQyRrcx-D9MRiAFNkehfQ0PgMP36l96+mWbLuMJ4zOB8uIze4UejEG-xhp3U7YVH1ekY9ReTDU7lhhLwAC-hzKJ+D9OanUjYCdyPwK8CWkjToB-HVVAQGOzyAkB45FQkjJWkUt-RhfJoSCFQJmglONfPUgxP6w9Cd+10lPipn35zSHpj3Y5ONTGH5iJhX-YnpeBIB1F9RWwnfp-x37+EmRgQfeAcIDr7oGy60iEBGSULPY8AYmRWd+mpkx9aZ-+PfswTFkMTMuMkVmc93ZkvShZvmQrsQF5kai9pEHEWYED+mr5JhPwdqXUhkI09IRgWC2fMK1kjDisv-EbqoAmmBZpp+QLWYzNlISEFZSsm9JeDZFvCORks72fmW3ZXY3ZIjD2VaPHJsYFoPMpYnzMToNdNA23VUZG1uEYgo5To5ngV2AiOj3heg3aZoFzkvR-hmBIEaZJzkQzHShM6EdoFdBKda5a1fOYoSbnN885rcx+C7PzwdySZlAbudtx7mUzQAYcsTE3PcK1zYQ8IFEQQSHkbNM5Bsc2b2GXkOzAgu8l6PvPMBbzs5CbIweaNKAJsj5Vsu4ooVZGVyY56c3cOFFBaQggclLSOEeRrhA5UooLc8gtEfAHgdxjEMaXHwChjSa8LkixGAoFH4UMSqPEKajPMCgJY8KgdKYKBzSqSwWWjAKIgqG7d8daIkKycFPmGGjdRxARUdCwNgFz1+CKA8Ebjiny9fJHIfyUfSkCRBSF4hCbGLVPlaiLMVGU+ebPIWbiRZQCmiOLhdwqYxpx8oIJaKZkPI+F04ZFA6PZFlyIR6Q6uYWnObUKuFI2MbAwuSwyLke3IqwLyJqGqAlFdovuLxG4nvjJAY4oZAABkiac40USJIWhMSVxVkkyNhMpkCidxnwcsexLgkbNjxe464D4pCVXi5uN4phSZBryPiZgUSt8f2IcXOLXFf4xWABPiXRK4+eEvOvkLqTgSKhkE6CdEtkWBAWQVk5Ce4K5AcCSlFixyX-JyC1KahXIQhVslyV+LaFKAoEHhNiGESjpoLLSl9iIVMKuFG3ChQcI4FeLNRoLXxSBMoUMTu+ZoOIJBGuaqARFA6JYXGOJCm0BlBE86ugm5JyUKUBS4uHgNyE8ZMsO6QCZhJMjbKOJDEukSKJ1pRKnlyylkQOWFJFCCZ2ixerouua7KkhVM9bJdGEAWYMxt7LZdQvgmgZAVigR1HWSekGzugEKhlGbjWW3lEVlzWFUipBVFCgmGK-IP+0eVwrCVNQ7viEHLFa9CRrfcMWGFhmEjTGwIZvg2LqGKZj2lgFie5JUzBKqJcE2dE9wtptAHQWvQVYdKCA-o6xqKMpUlyrGSrMuP6SBvbkSC8qqICQuWglkaXxjJOCEoCbQDaXYCReQQTQHmhc4AtDVSElCctyGaISXgIo1Vb5MViCq9ltQjdnHIVJ2xg63Kz4C5NT7BLYFKYj1ksosziKQFs4MaQRmNa0ru5SyqVed3Wyyqe+YqqCQqpgkJrlVYtZ1eqpclaruaz2XVaEP1U1KUJw3c1XcFLWgtjVxIJPHUmcmgtHVSVXNbWHzVFDJ2cA51M-KrDnsmFYoRgBqvCaITKWJCyVeCJQWFI+1Y6kdVo1fZDr8gSq7PAPD7WCqWkI6+5GECNTGhEJAwgVSOp4XrZsg9y1ifQAsz2LPx44ycTOPAAEYL1I4q9T+LcX2rrVzarSseoXUnY+ldgFkOAkkbLr9206t+cGvmJ+r+1gavcVwrrI-oP1Pi89WkscUuLb1GwexYhtcUWZG18wkUbBoWUorI5f6ssS5goJNpDqHyL1MkOtjkaTmOGR8KRpEAGs-B3cS9k6FIb2w8stG-ECKzjSm1wCLG6QURvrqkU6N8YBjRRrUBUaANo+NskJvxCibwFiBPjSczywyaRAXGxjWAXwgSafVuoBIFEAyj0hNl5G+TdnC03T1aN1AThRxtU2UrsBlLMkiRo+RWaKAInR0r8pqFaNzNnC9jbQGE10YnNsWB2Qis2U0afNsm-zViSwAI9vsbm2zSFErVpFPmzRILdQr3w+aLNcEjxbqCE3pbfZEgXzdOhi37KGVddZdCppE1lbYsLoyoBkIMkWD1MBAm5XimS1IqIsIsCrblroD5b-ChWonkDyMpJVstXm6cKFjy2caOtXWvrQlh61+x4tv6xgEloBXXNZMg2jLdPV00bQ9kNmorbhPcH4TYIQy3FKcuDSRafw8C5rXivW2e5cVPkCdpUp-DuizFnoioSyIIRRby5D249k9osVOymG33X+HQUm2SlWFSQ3ELNr+YLb0UCga7bJku3cLp6jobBHmjvaGs4+Z2Qfm3Q7q9QB6jYntWIFrY8s+WVOFNltqJ7nhBSu2wZcctMRHaTECOyBhGgZ7PgqAG0CUtMxzZLDZFCRJliZTEE0kudE68GqalGTjI+eqw3UkhSWSlEyikW37UEBZD46e2TSDpQxw+3mL4xTs0xP9q9jttptoOi1fLq7Z1tCd44CHeGh0VIrZMCu+thhgYLqi5kUECQDRQswABOAYDpGooED3V9wWfozA90UV3V15KYJCBeBCql+Iq6gZqGs5RcT0l1DEIJJm7mA-dPkTZps1ZBoB09pqr2edIpRJ7YZYQb-o0CT0B6X43BXbeVH8J2BlkHeJjINKL14SS9sDdRDqyT2ELpAGCrBR-GTDbqSdptHrXroyroKKKHemmMBHO1w1B9mCr4NgvN46RM212k5EIzzT05FAmQM0EjTBWmZLoFmANoKG1a6syWYzSIJWtvp9AOlMa0FH9EYCr7Ya1jYuWaDCJBgqSuelkEsmWSZtQA1zHvsfrtSqV+gAuhYY7oIGWKhGZzefZdC3CgBTuFXbaccjdXHtT2HCc9jxnANUl51Lko1AupaSrrd1FiFA5lxPSX7r9+sW-aihZD365oW0gA2RSAMv7X99qRCVOovY-7X95YSA5u2gNsGvVhewAxRTSJ0HJdn+rUQwH4NLJM9iengwbC9HnLdtB2zlLcOO3PYsWuipkYzp+r98lgl0DncclmDc6tKZ8WwWPq2UhhTFn2r3XQRIi7tcdgsNsnkDoATI3AR+vNKFM33b7qFWrINvvv1aH7F9CKJoqfu-7NkOQaYww5oYFAmG1doQ8w3hqo4fExCLmkeWyGoDqJTh7DDoUoE0ZMM1UIB2RvPtUN98NooR6QpgVTb86p8clfQ-6JhVZST+UgAARSw2atTDWHwwso-yF288lScTfkLewAXHRZ6KsFvnAtqPVT6jIzXjU0erktHB+bRkXR0dKZvQ+jtmdZHPs2WbNZRqgS+QAB0sAY6y5fnngP4AjUCjAHdJQap3JKUqe4CIQdQJgsBgyx3RasbXHrHzRWxnY5NPpD7HDjoIggoQHpz+FiO7hH46AAABeKtUAFsaCB50vgJ7A44wAUY6GTjwJgcAlguMgQV91xrSMDxGA2H6A9hiEKsd2PvHoTnxnKpMzQXNFnAzRUgM0S+b9hNm3IPAHcZa34m3jUJ65MSccqkmfQ6R2OJSepMdKUT5YIAA')">function type(exp) {
    return is_pair(exp)
        ? head(exp)
        : error(exp, "Unknown expression type");
}
function contents(exp) {
    return is_pair(exp)
        ? tail(exp)
        : error(exp, "Unknown expression contents");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p50' class='permalink'></a><p>
      The following
      
	<span style="color:green">procedures,</span>
	<span style="color:blue">functions,</span>
      
      used by
      
	<span style="color:green"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      (in section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>), specify
      that rules and assertions are added to the data base by expressions of
      the form
      
	<span style="color:green">
	<kbd>(assert! ^rule-or-assertion^)</kbd>:</span>
	<span style="color:blue">
	  <kbd>assert(</kbd>
	  $\textit{rule-or-assertion}$
	  <kbd>)</kbd>:
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (assertion-to-be-added? exp)
  (eq? (type exp) 'assert!))

(define (add-assertion-body exp)
  (car (contents exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+zjryCpoSyTmTlchKC4KqMvGyBAA-Gx2db40ABcoCKMwEKTqyACqxAGsQ1AAO52AVGnz4vieM4+Ch6CZy-MavUh14XydPobe5g969kPqUE+Z9qDAM0NfW+98n6nzEq-L+Ktsa4DAEhBg+BmBsCgHARAyB0B8B4P7Ba8h5g0Q2huPQ9piCzElsjKQkxFCNXoQYMBu9dJyA4TMGhiw+w8PMCfIk0ouGgOGnvIO1ADSEE0OhBs1FhFCgwmKCUUpSTqiKIw5hoizDiKkBRE8UjDGgD3tQ3qpjGJcP0dIn8xjJAjlTOYmRp8aEuNdKWa09jT5MMccfYE71OG6K8BYqxXjQmNj2EBXQBjhrOI8sPCSIiPF40+EhVQKSDIcmMn2J4FjhppBSWnQpATElOOBFTY26SfxROmszOptT4ZK3ZhUhJQToHAmTqHdxDTPG9T6WmBxFjnFpSii7As4TuEeOsTMSZbM3GzLGUk4E9dS6UVnAMxoe9Nk+QWYQDaSFUl2NmfoBxRSSmlB2rZIR05VCDzObQEyUiHHdLSDAxg59RnARvnfR+dghR6CUA6UAABaCFQzaEKCwTpA5qhhAvEHmbDMlB8CgFUGvCILB6p-UkNk4Q-Z-44VYgckEuL8VZOqkikgKLGBRFluYQYp9pAXXEJi7FUgyStEJbS4lK8zDnXIJsOgVtRWohhcchQdKBap2oN5OVlzik3NKI6b+9IEngloDFVVaqfynLyUZRQJliXXINZawIqKLVWqtac7VzAax3EFdyNIMkQgRQeaoF0ErPl7PDqoz4GDrS+ukHMm5J9WjtE6C0AYLK2UcozOYWBEJkX-KQUCggjN9aL0hdCg5WkWW8R0nciUDzf5OjoA40l5ki5PMZaAVEAA+aVG1B5XNQZoW2lDdQLMkDEv5XT-4eqkOEQg7xDlCLobQOqU0VqWDWjOpsejKn9mKY02FOjiBzuWgO15zSZkrq8Gs9ZRyZ07u6h9Fx4bFA-UoH9TpgTtw6X7a0k21a13-wxVikImVND60NkTG2JLk0LmpNGjoCQ40bFZfIdl8hOW-rYSaRWzsYq+yFaUGS57ZVCydlMjDEsnhdPjQm+DSbREioIOCAjjwg1NtAKq3DSx8NocI6mX2JHn2iJ-dykGi4g1Ito+x+jDzQOqpkmxyKYnxxkbSHBhDpLsOXjfc0+Gqh9UXgI8sn+IHuPMPk0EYYgRhhVXtmWyQJBqxdFUNotFHpWIWVUJIJtraWQACprM+Ogx54MoB7P53tnQdaxAxQTqgvIA8MECRvIud+rl0N1M6OPZqZTwrXmiplox997SVZ9iM+Bj2Uh-2AffSBrTliAte0qyfeuuhkShfC4rWxrzhPC3Y7pmuWsVV2tKCFvIzXIvRdQvQTTfXhqZKA9TH105Oti1NiBgcRnFOUcaKO4bb5tn5F2YMgCrWwvqIbH2f1XzquVBWyWxm-aRn+OHcm6jadGN9IVUqqRRnqNB3WuynLTXqARYOyZNObrzDUe8-6aDDApWWfB8mWzX2VDMszm22VacIyarokwnVzqcnB0R7aibhPzCw4tF0T9lWic-i6UFqhXilkLaHYEkdl4ptevHONg1LHZuCZfmk95a6ad9q8a4vxqyv0Pcy6AB5jGuci8Vg8l5O2LkOKM9WZRopvVy-V7E3oLwHkq8c9SB5L7rteIO4z5h-81dHY1+zg72vCmiK5-bhXvPzmpcuWugngRSO8TwLgpgrB2DEK4GQtAYNe38THYwCdbwfIOhXhtzI2Rcj5AT0xkpe9wXoileOxDxTvm-IdLHLIOQ8hdqiwoFoLxLDwwfV0I+8LGZTeycaqwpqXho-F4bimdwJoeD5UhYMFO2-GU74qwUBu7YLRCLynd-KBZIsT6wv81ckUPgH-PofLds3ytH6apfzPWKPVBvgF4h1+66lOeU-Ay-j-Ayemf0AL1L-8gdVjp1MVb9H+2g-0-LwIYTd7ZWc2whMQ10we8JhkoWQ2caIaZFpaBv4DBX8dZYDhFxMf9itV95Jkp9dgI0DOQd8CD909BUwMDk1u4VwiJxNBd+Q4Yg4zRohMdZhscYp7tIDXh8Jfdp8r8RNCVDIl4mcKDSoD4eMeC6CyAGDPhnAfJ8F7Jxd1gis7AgEkUBCp8sBqN3gJw9YDZHVdVEhGMKhpABg54W8BCrIMJP0K079qQVCbd2U9dxwe0dI5CSRtczUBDfhFDkcOxXD5Ad8-Cg0PCOQvCuYlDOCiI-DaCxANUGtmDWDONrIHCpd8dQBnATQJwhCOCchoh3gLCGwzYc9dJdAog8iaFSYN1QAVCzCOR8jsgrDEdPd0iLpmDTtAgT4cjSi3g6j2VDAAAeYo3I7o8otooIKxH5OBVQFkAAFSyD1DyEFFAEHicBVgFEUQbgb2AlAAAGoM9CdQxIgogMV04kizZdj-MWQdi9iJsDjohjjVARjRj2jT4JiIQZi5j8B5AH4ljGUVif41ji5ZBNjLjdiKcghbijj8ATjLDDBzjWQriwTAgIT7jHigCFo5EFElF7ChN7Ca1k1X0mEZAshLJ2DGgdIBtJJTjHDej0sggNsjCeiKiJsrFCS5FLJESgh6DqBGCh49CcdqcOST57Cm0MQOx7CmTCc94OwRiOSjEBRQsc5GTPdexUTRETNSg+MEkRTc8sRStdCP99DZRmNXiejEFMhWgAsOQi1ShVtEMwNShqM-DGNpM-DN4eMbkZIKTVCOR3DvSSRetKcmAfSK0-T-CQcFNYMOCEkiTqASSxDI9hwfNtccSkjqS8SNgCTZgYy4zLd7SzBySFTxTqSHMPSV8GTxSni0gWSsy2SOc+suSeT4jP9UwBSrUhSkjtT95kRTjKzSg94LpFZpTUiaFeyzsvSuIeyXgVTGjwzjNriyguUtSiitDdYAN9SWDmyjSblU1TSM1zSd1LSSR80lifMspZzTNE07TVVHSBDnS+DXTfdSzWIvTAjxTQyAzKdAiQyojzzi1TMozWTiS3TDM-ccFqo8ECFg9OBSFeAMAEzsxnRKA8VfoaVF9iV3YI5EocDGR00WRELkL68P57Z8LqVJAkKS5plttlUMKuzFTBVtxqMSKUKF94woc+FGQeEAIWQlR-NzAlQ1UPzAguKuxeKzAuwBLvczAuKgFRKqiwRGAJLOLoD8xZL8xFLbloDPZKh-MtLpBhpBLzAuK6o6AS4lBBR-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-CVroH2b-8xoRbxbnSSy2CUgbotF2k8yM9iLxRN9m5WRGXzQWrPURRyIC6RgIMMEveNX0VsEwvSYlgRBQFFBSj0bY84L60hbjgkX8gMXhiyXU37bCHxDKVKbYLzzgYajJjxjR36jjzz5xXrSRi+jqVX3qid3lkHXjXrSUwtz1OSIOqaIB4hh2jun3b+1lQ7B1P8Tcl5wBP6urPnIVQPPy9aIVBjsEvxPn4XP-Ppg71Svw41B3sBvsvmv0voeUu10wv-xoM-0+1k77vr1zw8l2IuewftPnvqIjP4FqbFvmIcf8TIfkIvNnWUCUD1BlGNfS+SppvAOJ8HmpB2VbfvwxF-c+kUCSQdjndHIRgFeTh2Mw5O1prm7tfmt2H0HSXOf57WvjvsLB8p0Jfv6Ux50kV8OPOfmN14QkAz+Y4RgJfx5Y39QOgA-wpNw0CaAfIc-ITOANm62lkOQLDeG-0kyXgVCqAnyB2GzYvASBipbNtgI55PlqQpHNUpGXCKUDl4K-YFOEFyAsABmi8efG0EPCChbMdADbnwLMrXA6AiXBlvJ3LKHRQWIggQfSHEGed0mq7aWIdBB5hUZGHA4kNwLiJyDBBWgrgVxDUFH1KceghQS9B3yRApgZeAlGYPuDCD4Mog8wRvyZaYQZBAaMwaEH4BKDgkKg7OEIIZ6edMqVgiurkFsGOD5BqgTwYoIZ7DQghMVUMJwLe5uDlsA9BaIkO0H4BDwUIMmnnVk6VwshsEb+JFEsDEgbQSQn2nkI4aMxCh5AYoRkJiYNCXBCna2E0NBZGF0mIQxgDYM+B2DVUYpAwRfXiGtpah9QgweUO0HlRShaLWeK+gnpxEMUQdW4GQRT45AXgwkICFPwlzO0v+UqDAZ33MLj8oiRmIbqV3u7gDKio-boOPw2FIDKyJ8UEHULvRdNRe3RDAfXx-6e5bhvffwmwLkpPDbALw23t0UeHrDYIdw+1k6Uab4BVwXQS4qCxZAwjVQcI9JtpzUCgjQAGwwwKCydJmBOhUgNfo8OxEBorhZFCUOdGWHWgMR3wqIviJBDAsiR2TeEHgIhBYiL2RQ54e5TF6KkiR6gkpL2CxF8jhojw76ECO5FrtYIsQynB2EFEmD7UnhHNoiNhG8s-hPJB+mhAaHhVUGKhCKsMPOzSAXObHKLAaBcRhY-QorRiOaI17jAXgBbDEQWy2EbBqMXIvymGklT-DRRLo1QHaPBHWcLRtAQ+irQNQOjh+HBF0SDHFThpFGSInILy3aE1ZgkaoqwBqPGHhi3RhowgC0QT6Oh56ko+1tDBoZJ8JRfcNIbqCY4lDOBWXDbuJwkFOjJcbFJjlWLi7RcX8HBEIDjzNh7wjCajAUH8OzHFt4u4oXMRATh6S5xOjGYsbOQ2xr9xOhgFRlUx7HidtwD9UANMQAAShtSQAAEFwA4AQ2gACVpikAAAPIW1kAUqIwiYRcJWAxe3idXrFmHHfQIRkgoEJmM+D9jHxd6ZJuWP7EHsRW1otrCKK-HpNyxKgT6P+NizktQJlQO8f6LGyoN1xm4ncXuMPEnizxUEqwGRXLoOg-x948YCZCAm2BUG5YzUf2MkCDj9ohE4gJ7l9AQTxgEKBobvwWhQY+2dEwCRyNsDPjHGBgwlNkOcxaYNhTgNzGCTF7GjTRsEgCfkEEmG8PRd6O4XyM+LAiJJD4qiXcJCgriY8kEDQCQE45SoAADFeMZgJAH4u0CVtwK2SdNKA3QRPGZO0mkEFKUqTSW7R0mKAriPAE4ZeCcn7oXJjAcllNmMkwCSGRfcfl5PdZOswsVk7UcCyab+YVCoUqtpZOrxTdu+qQ8zAtEsDaJApODKQJEB9QSsvOkueKQ3HClkU2uF4r4qZMghhSneVkj3hmRzSWBPgD8FQKHDLaiJpxR4dfqc1db+SKp3fRARYDMnVTEpvZZxCoSTYBoVCHApqS1Llbr8pRYlRqZIGanSBQ4kCTtqNNzZMDkc005abNKcmGi2gPAmTmKHyDb8jhnhf+DpF2krTWpe3XAQSM6lhlnuRXRctdEajj9np7-YjtSDzzACLyhHF6c10-7f92+WE-gomzuH-SVMjLW7jGmgzF8IB0rGEQhjlEnwbps094ezmcBQ8fwwwOxjgO+kAJ6R+A4kZaggRLTbpc056X4FeCUzZpkCEzpGgICI55AwAwXhwQxmrT1+fw0kYsO0CuhSGyfNhmsLp5cTRxOwn-qDKr7gyu+qwyfqGPSBcpwa7Ys4QjKwGS9LwJAY4mKLeE-9MBnwwMUGLFk-D+g85HAS-06kjlQihOPAB5ntlUZP+UsvYfrIOG1EaEUM9qZeBVklc7u6sz4ZVj3jayoSus4WUFP8Zyi0gWMuAsX0NmRyggtIy1DAnmFj95ZaZU2QRyUx8YjpDWKQLOA9kpERZCskIl4TtkOz1sl4JUciJVGwZaBMM+gSnOuFpyTZxwyMmlN1DByDYXozQP91p6OjwiUIhdjGJRHYth5cY4JGiPnq9zkmfhOkYSMOjdSqsfMiUALLNBCye5qNPuZ4TnmdTNAiXUFsvJBDck15RfPeajQ25T9QAZcjzHSKp4Ly4QwIKni9FBadzQ5vYHuQtMvr4Q95n84nMQB1lei12xg42aUDXYvQhRE2H8ukyrmxjQmpYqPJVIRhdZmhkcbCjXC6ypQJWRFBaI+APCZjGIB0+1gFAOlEEzJ5SQhS+ISaKdewvYEhck25bSBmpgoaPIsGqbBIAotC-KbMMZgUoRITkvKaLJ9EAjiAto7VgbH7kf9naB4VPIgsYwZTgy8snKfkAOkfZJcr8t0Yxn1SvyvRQip8fHNwU0Q+cZeMLAdIgU-gQxy-DguounASpoxyouXrwg6ETzp0CgKBmIoEXSEJ86gYxYgtiFJjyAKY6YaoGsWRiSxhwFcYhMkD7ir4AAGUNrnj9Rhk+2IpNvFOSCJHEkRabPtZvisJbQB0J+KImgsfx2E64GkoKXUSQJmEsCYgpMg75oJiyCVrUvtaRLolcS8ABhMVi-j6QZSqiagwaE6C56WmEieMLIkUTylv8oIDAQlYMSDBXIPkcMqCUxTMFOQGZdMK5CGiKUPSjJeLORz9Lah-Eg1E5MypgleFiCjxajW2WmyFJN410Y0vKVqTVRbdT4HS29FiL6RwipARWOJB9KeJ+y+tKIihGtpVU-S2evSD6H2oE+yk-Ca8sUDZ1LlURCBXqM2V3LdFck02WLVfKDDeZLi55e4rpafKmh-8ajJdHJpSpGxuaJYMqxZAsY3FsKy3sTJx4kr6alRM0HEEggvL8VPwr5eqys5MqlcpBPTMq0xXTDDRIQfsR50ZGUKakhYmIJOKKbAg1+cq1UQEssBQq0IpdD8VaIJArwbu4qoWVqrdD3TqM44qVKMq65DiDVMYYAdRlEY-JEgaqw7AYNjp9YFllYuzrRLwm0BVlnA+lYEE0ATosuwrT1cQG9XEhh8NyFQpasyV6jbVGUxWFGu5W4zCZbcueGEDgSfAvJGq7CR4oKnO0qJjGAxfgtnAqKNguq7CRKoyX48HSY46LoxjNUGwhxvS61ZLljX2qvJDQ51XaldVlD3VTk0NSwF9XmB-VdwXtdMsYkg84pErF4DGpsBxrEFia2csmv-LtyqwLQbpWZLgQOqnkbE6ifmPCgStt1wasma6yRDrqi+UanNqeq3UXryWV6qNYergkrw01qqhNVmryUPrJJs5ajNkFYnBq2KkS5CQeKPGnj2lGwADbuKA1oSElkanddOvGo-qHVSOOTkCBZDyI4F4hYcGurOUUKNgz6jNWZLfU5iS1EssOghrSWMYWlsS+JUZko1tLGMk60WXqLI2NKpxlctDX2JKw6ESCBNWlJOHyH0lFOfGgInwUfA8aRAoHfjSIW6BCbyWCsbjfiBjaSaNYXBKtJYM41rkoIEgMTfGAk3NCGSMmuWMkr4LGVtNdwITUQvYgGaMNdgOTSZoU26b7W607tDvgSBRAMo9IF5eZqlVkDVNfw0TdQFymiaFNBKwYXutXKAYgti+SLRQEs7JthVnA9Jv5tylyboti2VLaTDMUo5cVsK9rCLFS3uBiApmjLVgDZ6fkBCC67cMOqmI8sLiNKulv5iS3USklC0EzQFqklabgtXKwlVKr-Rca7Ni+frTFuSZOKekXQnoZFn4G2YtMdW9xdJkG13B5tGWrrYMPJ5FVxqrW5LXNk010AitUQjrSIGK2lb5RPpJobGCq2obGAtWnFbSppYWUtNbWjOkZPkBubZUNqZbSKvtZ7K+J-yg1ICpK0-hdKm8a7S8tc3uabtPkQ9plrVT+LAllYn8qAiO28IYdjqoJbSLsaE8T4RhVbQnPK1NDcQ52wVldoWAZRwd-mUHQoEe32xHQUWCdEvCf5RkcVA0p+kHHSIzA36d9FdWID-bmshMb2+Ld8vPCelfl329kiUj+0lJqdojWVGrzTqH8lgR9GFtuyQFQ7UqswL1qVTlE7k1di8onCyABTIJlCsEQuceRBIlb0dky7nc+yDTrLVOyO7le+T6ZY7ik-OtFvjoDUshLdAHccETq3Sk6Xgnul9rtxMLOiwU22qyoxgACcAwYXhICsr278hMekyvwO5VkUpgkIF4Luuf6JZXBkIKtdD0Bl8Y7ARRPSfdMCCWV+BqgHFji1ZBoBa9g69noDKJnl6zKc0sILjMaDN6DY-S-hBCH6XlRPcdgaFBfkYH89zAnelPT3skbzFi2nejZYwrMosKlgyYdNSFo+1SqXdbuvvCoCYWL6fdMqbLbdpRTz7mFXwGPL8NAZAdwd2KXxhOj1yKBMgZoJWkSslyXRGMQ7QUEWxLamhcxkTa-cOvIZ9B1lRmPjH9EYAP7ZaoACpiyDNA5Egw90zvVMShTQogOoAOluIBv2ip80yVM2aIgQMGs8VW4ObjD0W58YE1AS1OMaDXW2ZLoeeoIFeq8mbr71d6nda9lpbt7ggXKUA+Af1iQGF2MBuaEDIQMsgkDUKP0ZJKWJUG2uIhqFOWCION7BedctIEIekPQo0DbohgCoewPADx9mo4FTxIOWWpxdE2fAzlsjky6D+G0S6MrqxTa7v8MVZhLEJm05arDAoQ4uqJR2VijCJEMjqA2kx5A6AD8NwJEGHW5qw6r+qVO-s-1Acf9pjYI-R3OKAHcZN5DkGxScM0tvRIYNw8mI8NlCvDrG2GQyT8KxbeEbIagPMWBGHFMRsEJQGkzsavM-GV+8w3oDl0ZHaKRRz3A8XV2ZUHDfwsg9QAoMuJJDXUqVRSq6mNMtV6G4TlhoTXlI2p4RDsOASnYhRL9LynFlqtUDGyAAOlgH4Wgqvg-R-AHAhiZY7Iq91ElJamr3AQuD3JQggMBWPuK1jEEjY0GO2O7Gt68+cg4cdRa5iN4hAPXJ7gk4qE-joAAAF79hCq2xug+8fpCfGjjnR046CY2Z9ZLjIEe-Tca0gU8RgfBfw4EYhBrHoT+xwlHCYapQtoCNR2OBcVIAXFeW-YHFtyDwD3Gct+J46YSa+MxMSTbrC4s4EpPUn1lKJ8sEAA')">function assertion_to_be_added(exp) {
    return type(exp) === "assert";
}
function add_assertion_body(exp) {
    return head(contents(exp));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p51' class='permalink'></a><p>
      Here are the syntax definitions for the <kbd>and</kbd>,
      <kbd>or</kbd>, <kbd>not</kbd>, and
      
	<span style="color:green">
	  <kbd>lisp-value</kbd> special forms
	</span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	  query expressions
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>):
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (empty-conjunction? exps) (null? exps))
(define (first-conjunct exps) (car exps))
(define (rest-conjuncts exps) (cdr exps))

(define (empty-disjunction? exps) (null? exps))
(define (first-disjunct exps) (car exps))
(define (rest-disjuncts exps) (cdr exps))

(define (negated-query exps) (car exps))

(define (predicate exps) (car exps))
(define (args exps) (cdr exps))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6j0lTkgPXDhRxLSUO6ttKYIV4jXiVuu0d3UpEbrmoJuck5UiXSBJXYEaCwFCzF0JYS0vWe6pDW+tvam2jKKC42ZYUY13FpN85hDNLF1JGX7qg7PQoRS6Hz68tPyPYrDFYuxYVLZHdk8FxToE+AL1eGb2X5XNVhXKtMlXiy7fi5DZaz3srg-nJyTbzCgrpthsz7a6DkQ0vNLaQ8hPyxw5V+6DGxzydm3sndM8FoTYS-Btnu3OfqIOaYTxUH9pqKOSA436dzWrvigllmc9kGkl2+0ANQ2f10k-0rT83E04QDnx0nQtFKAeGxRcl8QTCpigMwmgzrx6iey+WtQwMLzsCHRwOEUQOoE1Fkn-FHyaV5UXT835FVXwJyGWW2ikVNQhxwh8R3wSEtipVfHrzsAz1H0EzmTGm9l20wLsEYM3C9XEO6SHkEKYEFEOWaAslHxAjoIG2gOXWYNEDn1H0GnUMFE0Ku3oKwNXT0PgKjVUk-lQJ4KdlA3kLohrzuB6UuC-yL00EeEelEI4V229xCG8N8MiGAn0mCBkMUGEOtTkMWXUSGQaDcJckBnSAj2xV8LkKMAAB4gj0iHo-94jk5vgg9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgZPHcUAAAan92gTzUeHAnkycKME6JzW3A6K6Mch6L6IKMcW4QLGKmD0UHKMqPwFEGPFqPqOPkaO51aJGM6MiX8AmPwH6LEMGJ3HKlGL2JgVugTUmNCNcyUNKAqCqFUM5Qvy9T2QCAJn0GcDKFmkIO2E9THj8LULiMcQNm2CVRx0yL2O+C+IeNmguJeTICQITXsPcl0gBj2PSC9TEmNQ+wGIROCCHVuIRKxMBLwwGNlVXVuKcRSA-G2GFnGBxJ911TJCvi4O3zRIXnIWiRKKBOkHKn3CaFYlADdRpOSCjjIWSikT0MtjwJENdn7Cmi0TWD0OeOMJyDhgRP8FVIkJbA0LFMjnziILBG+OoF+JznWWEVGS9UmTeNAEiHeO1LINhJ+OGg8O5KdMnWVL5OcMkKDio0hPxOshhPEFNPhOCXIOQKnG4M5KBAxOsixNAyZO12UyhMcmCE1GHCJPURBJmOSFJNJXJOOMpPXWpNznMBojdkYkZMCI4LZNRM6U3h5JKjtIqiFNhBFMFBvDvHbXdW2AlLBKKGlNH1lJAXZHlItMVIbm9NVLkL1JMOeUch1IUPnI1INLzkNPMKjxdLNLdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIlbxQi13myFzPQAh3BglvKT2AKjQ-IIkcFglLGSV50fNh3ex104U8kFSkV-LvJbyLgsWdUlAzT7RzX8D7SUk1IHCYW3BHVQvMBHQwsXIzRkLwtABkMIqQuwpLlIpLgoqwrv0pRfhzUYr4SlEwpSAzThDoFLEkFqBzS4p4pqIhHYuSAzTmMYDwvEv7BEoCAzWZEeiLAaDoH7nkoekUoYG2Bkv8AzXaNIv8EUFD1AFqENSWivE6KEq0vMAzWvD0vMAMt0GMtbivDvAsqIuwr7l0BSHsqMpMtACvDbiMvMEsv3wWOAFssgkMsctElMtADAFcsorvwAFJwrvKoqYrErArQBgqM1vc9LUrfKvdjVjK3K78ABCI1PKyKgq0Acq8SYqhKoEbcLIlKqqpy0AHI8weq+ixqrI0SWy-Ktq3qzq7K7ChaFqhy6qpaYakqxqhaPqzygIAa6Kvy0AOa6ahqhY0q8KlagIZa8wUq-wB3SUM+aCm8v85yOQsSCMATPtXQGCpPOC2eE67eMis62C5yagBoAAKxjw0WuqbkEFbmIreq-LE3AtKiIUXOSHuoQkeuOC2iwFOvwlgsvQ2PEmdQzUZUyhzSxp7mCqiVEuwsgGIF5lcD4s8uJtJvqnxoJu0uwtUscFgEgDwoZqZpptppCu3AZoAFFSKeb2baaM0AA5SQIW8KkWoWvMxyZ6+gESGGtkVGjtMQq67YATCCZaodfAIZeWmre0Y+GW-iHWxWowlWooNW1uGAtvbWkG2GxWhGttVqHCHWzPN8ycEuPfbCf8jMVKRgP8FEr6yQKQWBPCRmXJAyHWgCiPQEYChSVBN2vqF8ZIS0r0yKaoGMzpRQPfWw9SdOhMN+D+WELPG2+8ouNU3QLUo27eK9NUgWgIAur+Z2keHob6368ugmyu2W6uiQ2u-wOsxmdk1yBwxIQVCPESU1R4UoRI8LDkzpPeVOhshMM+XAMAD5JgE835M87gTAa3Z-dwCgRwc0IcG5ZkRgX0D9SgL9CPPfRihFTcS28+y+-Q1CCMQk8G6DB+79IhUY7cRwHY3NK47FSY++5YC+z+5+64FMhXAoz9MBjfOwGIZkImLjWPO+LFCiD20gUgeFISFaUmQCTB3yhgTouaTB5M7cEY4IchgsYY0YyQAhqG5Sch3QHoxQnqEgEyTUVBhNMiCiHhxwdh5YTUECAASGNJ6O-oWNGIQdJE1GQbsQE1VwEZFFEB4Zlm-oMG3DgdACUcoLcBYFWkeGvvh04UnH9EoapW3AjEJCYVMc1Q1XzBFhx2g1MaMFRUgdxxcZquNW3ECCfBfsgiHVscCJ8csY91AF3roeHEPrbBPt9FMf0nSBFl-B52Ilsa1WTitUGGl2Y3nRccBkockc6J0flWFH0cCbsgMa-t2KUhGL-ptJ9WtWyeTXI08eqf7FqdGOKbNVKZg3BqAkqaqeTifFCYD20eIA4aUG3Gop4d0C6b0fAamELEiPie2GCGKYWJIt0GdXKcMZLJMfIlQlmfGcEZKcYBYH9A1AAZxRWa+B3AAHI-75ohiHmrH-60HJjTGtGunzRGAlQfnHKpDCwccchb7enlN-me6lIM1tFZhhjg9hijxyBhi-hhQkXyo7oI8nwFnUQxmJmwWv4IW9nFBCXcWTnumzmLnSXlH8XiX2hfmhloMSXvm6XjKT8o0A6g7SAQ6ukohcIQw+lhpKQjGudmjxduwRozHObkmxXiAc0mnC1BXVBIXG5ZoOW7guXKBGZbkqR+X7hVHFWiFXnMmlAJX-GM1fHmGhMGnBgJXKWRo2X4l-mxkLxyQ+XLR7gDXF5GJS0xdedbXBzpSm7sTxIIx6m+hfV5WWM1hbXc5TrdXNQ2IgJLYBMnXzx7RXWdX3Wxp+mY30IG4LqkzgmSL-HIih1M2+lJUgIhlLby37hK27JDWIGC25kyHqKS3mAs362KJXnm2OEyG1Xg7NWeX2gRmcXIje3mgGGUgBMB2NWtXUNa3s2KnbXKXx2g3QM7qO2K3E2G3dZSEGI6ZMgCChWmzmd9tsKLXc0rXw3j2lWxSByPT5ZKQBFNM9p6pGpPXAXoIVVNxTXVn3G-3FnxLFWBTKoTwo8cn+kTUGpVtB9wCLsJXPD3NIjAOcXsChXXngORpQPDxwONpmm9p4OKZU82063GA2xyBqBZI2Qg15gv5EPAX32TWhWyGUXyPNGvso1aOiwyO2wF8GPjSh0iPRRc23kwAzTIUKPH67r7osIOyJVyBl6162BSAHpiw3BQARtIJNQo0RtLdLdfAlC-gQxFBWRah48Fhg9wlhWccE8rOwiwncbZgEmxAdQPAzOwblMh07PGBrPsWax3GfPrPk50hjPSBTPRBzOTVV0guZYHX08WR5VH7M7JEXqHFqNv1LYM0257Rv0+4xS2UyhKhZozPHAeBdBSu2tBzzApE6BCAGhcuI9LYwuIucJyvov110vGun7yyD2RYnPSZ6vuvA4pyq0nPeuH2pSXqgvmv7gTPKuiW6uGvH7iFRuncBugupbwonPMSOvOFNuJujSPiS16BUXWuyuKvIvHAgUQT2hT2auXqlvuvZu6B5urv2voMuuVv1yaZvWnABunvvvqvkhMzqNOuQxwhuup3pRIjnVSv2vIiFv7TulDmtSAhPuIeWhhvVuihJv+wpEZvxIWuke8MhvvveuAgl5+HYQ0omUv5NvT3hHthQfSflvv0JQmf26f2s9uekeA5ofoFWfsez5OeKz92PSpQWeYvLPfPbv9CKeNzcejvPSo0BL5BVOoj7uz3MI2BgmHjivR2GEQgiuqg350hdfvGMpNR2OglggrfUWglA8SoWAcOqo7AJPWFuzovv0+zFfSc7A1fyBVOoKXqPftkMumvxJNtuvM7XwpEFPLYw+pPv0Fj9eqh3VoLZPxIk+bkY-tx7f2Ol6epNsGgMo4RsVoHQGI85e99IiP7q-keohB9S-DoUD6+lAW-y-DGkP3HO+E1m+y+USck+-sU99oMR-DGtGJ+vbxzrV2-dArCe+Wv5-lCNStHs6v4V--9F-AXIiS-B+K+t+UeF+ND4uG8P1P3jTnzf9sOdxfHrCtNO6tAL7mxb+9Cjn2y2IP1HA1PYQI9GBN4PUFQKoAbAscJefXGYBf39bgDjEL1CfrIgP5TgMos-G1pSBP4mEFe-vQsANwn5bcAwYzT-q0EYA-8YW--EDqv30K7dgBSoafsP0QE49aS+7KnihxPbA8tyZFbntQJpa2tdAXA9Dnex+4Cw8o0cf0lWntYRg6SfvbXvAzNKgClWZ-M8LdBJQsARWdheYEsFqB2I6A7XdQbxUlR0AquX7YxqTHKz+NdBmgtiAYMzqvNS2y6bQcqxS7LVMUyg1QepHMFaClB2QMHmBnKwC8OaRQdwZYLayv4r8vtElLDUCEmDdAgQmoIYKv7GD7BZgvKHoKCHWCIGtg1Mr4LfiOCloGUNwBHkDo-pkhFg5hMUP0FApM6fg-sDkLeYuC8M5WO4p6k8EqD8ASwDWADVIi5o98rQ+QGpDtCWBsgqDFwWrU6FxdOO8SHoeQD6HODBhMw85j3xYreYBh5zfxlSiNahCChEQsoV-GSgfZmhtdGoZMOmHNChhXgtTMsP1xKEN+-5PoHxD6gQEQG0nUACSFBA79JgUieAeJGn7IC9ClfJ4VYRWRUYcB9A8IhtC8R-D2ezw+QOgI1Iud+QUwjGI4Hkoa9aBF+XAdEOhEUCH+e0eEd1iRHq98i8IjEa8I0I98ZSwTfAAOh7gjF-G24SkaGmpGYc3OnCIkVCPVT+MZS5gI1k4Av7wijA-ja4eBBqz3C3grIl4TCMoEQNv2qqPkXYyWbc8XhkrXEYiORH5FoMfIqoVKGgyKjNREIZUbGFVE0sNRaPAyEOh1EminI+pV5nSKpGwsFBuaBNKPRkhzCDKtfbnoZRqFUpsRIgVTgsHkTaIeO1vVJrx2OC6AnWrIp1m8NgGy1G4QfNSolEtj6iMwho8MZiLY6rA26-gpSJGNP7GlVRzWOrsJDIb0iI8sLVYS-FeZRknRbCE4fmMSjei7AhASgmXwpA891URg-oQmiNHyBGhwiBTv0OUGtd2uZnOIdGP4gWIFOQ4y7rUHXzxDqe8wXmFoKMDBAqUBYOgPaJbGutSuvQNsZvCkRmdLYZbHsYCIFwX8zOy4u-iMXSBmcR6VgUAGUQAAS3NRwAAEFwA4AbmgACUyikAAAPJC1kA4kfgtbmWJxjAxqLeGm2O6wSi98TYtkJuKgkYxJW-YzcZWxDFAIkxlLfsTIBaDpj4aWjbCXwnAnkdIJe+R8c+LfEfjvxf4gCQRKsBe15g5INCUGMgmYSe+-Yl0ZuMcDbiSsmE8qHhNoDXg5hJHKXGX2ImzxEJtgGCT3zmHsg2hAmR+C8PhSLQgkvon0EWAzACS1gSkl3hwIRFSSsRVQ0Cap3EmsTehGMGCQRlHoCQhICtCeKEMtgAAGAQj1HiDHgistkkVmWHD6UAv4iqTySoBIAadxIGLOyUFOFCjEeAJ4vzKFNijhTGAWjTbG5KIFV8lAK-WKdKx8mzA3RqqEJndW54ZTfWbYXyUS3b6XCeolgGuClMfpOAMowUWyXuOm6eTMpxU2YHwRWIeSI8XklJjcl8mx9JgPUJQWyGPAyBfQAncElRigEsdkoTIRLv0A6nt9yBhU0VllO4RQgWBSrGaRwNVRDTHAI06QL6BIIntdRvdSwMNNGm44V2yURGM+2V5YDdp+030KFIbHPDRAjUWEE4HFZoDkeMDBvlGJV7xIHpF0-QsDyp5QCRuFKassyIhEN8n6bArmA3F9yiBMBQg-WDAKHJwCEBrfJARmF+EqMsRKM9gQyhp6Liv4DQPATi0pH5Q0e6QIGQdMUCoigo5MwQYaWEZ485YVGFDvyODImozpe0i6SQW4huM6ZvobAv537DpAqZmoQ7puW0JYE+Zj0g1vaMFF9B1ANIFPkf35JYjUuMYz4dIkQEz9fhK-AEZMGFgHViZC4ungzPoFa9uYxAPoviLjHWzsZkydEWMQ5oOkCZYxAcmDOWBTEOYBNPAG3GDkRgPhiArGV30NkiFPZJsiaVWnNn-cSZVs3AW-DWb2zDijsjXvPwtEBBGZ7QZ2V32VaWiTCZvMEZ-Bhn4yY5uYyOEwMYjzB3p4SHoGsE9nGz9SPKIOSHLjl+YbRDIu0SQmEGSku5mEDfhXJBIwSX21uEgA7MNGqAEeN3bWYC3JHeMSxjI-9j3NLGG8PQrnOQCyLnmSs9C3IogVnnKzuz8BKsvkBQQeAp9Z5d1eeVYUPm8iquAozxHYSFFqyr5EeLPPPJvnazYqYAYOW3EPmRFZ5RgLVPKJlFtZ-GU8jOYaPVFZCCa6otrCdOSDQKcIhostvAqzFFAy2SCnOf8StEQN151IjcU4FCl3x0cwrH-IFjqzo50Wtk78h1loCLAmxtIZ6T30trPTB8sUhfGwo7FONV00GThZK2hbSARptQUVHdFg6vNLagihqb2MnSe1SQZC0KWGJZbKp9JZUUADmJMI6z+IiwSPJ1IKghTNAKhdvrVLWDPSVEL1VBQWKEgiQQ2SkGxSmLUVJjkFGMpEiwoeQFCMwz0txSkG0Vr9jSNihMRSNtGbz8BawiBjbAPost6pXUhfPooDG+LUEVYqwM6JOHBLZwdiu4tZPImOBPxu4AADLc1AJIpF+C5KlxWATJoU0UK4oXlBLmxNPckJJNTT+MUJTSyVDUpaVYT6JOEwxaKEHyETUwtkgZT3zyUFLil4AOicOFQlsQulbEwFrJPrph1+wHEk4VxJ4ndK-FyQe-LZKEnNCnwVQtZcsIWKXtdlEefZcsKxb2jPa8y8yQZP+lYDZJkwhScpFCmtwgkiiwxXEvxl1KrCRkqpfGJGUtLLJ9oh4LEC6n-NaWwoJ2vcs0Wzl9hMk5oXJPkCvKig5IpaMlCWUlg1B2wlZUpF5iJt0J9AaFb83UXQTDJqCGobcuBWpiNFlkqGgiouHKyXoCgGJTCtJVRcmVygxqTGK1CA1xIk4pjpyqGTbhol-zX3lgItm08q4-KriKCPBWAV2VvzTlRKIHHZAUiWiwQJfniiigSW3KjVSQoYkUhkusojsT0W7Ebx70hYC-keI3hgrKOlgUyTJGQEIStJm8KnpuOS7uqte+4yLpbA2VXcdx7q3rlIiwbrgZ0Wk9VbrwuLHLBxHnHcFpMuXKDJV0Ne6K134nErk12QcvP2GWbErdANQ8NZVOHBRq5hDA1GSIMNKAYvSjqrJJ5NdVNKflvKw2nCstgwhmF5GSxabL+7GryQpquFRDJSB+qai4kQNThB3GYTQ1L1YtTOlilzDTajkONYMITXnLRA2algKmoCCqB01q60KRutzUw8Cptkwtb5VnVaBDF0aitezIrLJ0uOswOZZ5ODzOq1g7qhYaQtslTIWJtAbmbc245kL3VrzbjlpK-UQSf1WjYDcStA0kSf1BsIcMHho7EqZ+bq4lWKSkTNAiV36+gJbDyWUSvxP4-8VMsmC4b3x+GmiaUvzVYbT1rcDDS+q2jsDtwFQDjjWvvWPrP5vCyYPBqdWxTG1jE5tVYpjG0aalOGp8fkqKUlL+Y4y8TRRuPUN8ahQmkZWKSmiMbygzGnerQC+rUA6pMIL6kRDGgGr5hHYzggdF02t4dNem-eYYTmGvMdNWmixTghM16bL8pmigFrEiTirYlT2czUIGc0WaOe-ggzXcR3WNUYWwxDzTCqfwaa7NRfIDA4E011SuKLmimGqvLXvrWS-dOYHFpHjMIstQgBzrc0iWLM8hwoTYUUI0F2JH44WlVU9kS1EQctdAJLVrAoFXr-NyQGoYlrs3YJTYtWvLfVsa2alReNkQLZumC0LF4W5UKreTWeFxbotFSydPEEeArQgIKWxFYsuRUvKm4j8DFVgEG3JBFhw0VlWyChULaHQbEKFVW22WS9HRaSmsScqsLP1dt4UVJZR1u2Dj75wjJnukCpStaPiVm-YbElG2upqAaLHcJNpzQnaFAMWhAkxKwav8wBxpfJLf3HqT1wgudTYPaNnbctJky25rals5hKl1t8kzbdKG23SgKQCwe6EoCt560qAK0BEjsya3v8ESf+BfiZTR7AdxAmYrBRVFw7VR4RP0r3jsR20fadlmOodkAUbYBdnt6Su7RoRc7fb9IgWgHemu3Bi7523SMLYduVVTa1dw7eXjgCkTMhXWAlDQZbAACcr4HqCbt4rRrSYgA2LdxQ0HRr-ybgO+APC15U9ISVq8AT7MYh2BAijkrXgEGt1Kg7mdzcqGgEj1brqI4vZKCHppZDgK12wEPc7tcCIpZJamIZHYDvDlYZZUglPbJLT2yFdARuzLY7t4ovSZAYiiRfnMrgIaVtFwskX9uWHK6Qtoi3ijXtWwTatdEqwCO3vEVmpJFUOn8lu3uDa6oI4ze6IsmFBNAHg1NXRSJC1CWxU2tQF1m6wFZ4sMowW7+s+GuU9rIICERgLPrJpeNxI24B4GkSRZa94924W8HeEXZaKWW9gSfSJG7I2VE6EYePcyw5VagvIlashJIN+6QQo1lHajkWAfV2Jf9Wvf9U+uIEgbINWGhnH8yT1gRGIh+4-fVFP3LYGRWgO9OjPMA3679zULSVhAgNtSiDt4dqP-pMCAHqD4AwgxQcf0wqIohYimG-qIPR6CDDgQSrbqxXIq0VxcnICpOCTf6VVJo6nVehf5KAtQEowtZzoIC+VDARcybcS2YbXaXttur0QhmrUgSxy2iOgMeERRb77oLaxfcvrUVptLw6+j1pvpf07699Y442KPgsQqGZDDo7FNWM0MvwK1EJF+KuVri0ijwsY1TgmjZGSBLGwjdIKIaVASHn+K0Nw5rWcNDIWdCh1uEoaNXGbvNRcRVn6SJnGCRorDUSb7CyNxlNoe+I6aNC4UOaSjInMoz334GFHJ0l8DLT1uyMFGbOfh9o1oxq25aKAOR8o8ui6PjC9oP2MvY1v6P1HV0QxljfEgh2SooV7R9hYMbKOCpF24+u5umMUBYKAAOlgAA04r1IoB-AMHn0bfajKE1biAZHD07h0DFBWDq+DWNQqNjvHLY1mN2P7GG5ZqKjscbOY89VUhARZEMii6REAToAAAF6HNzAux5IPXS+PsgTjKRqLhCcuM2Rrj24W45qHdSc9uoeh+gIYc3AbGDjbEI4wicipbNsK4RsPMMVIDDFYWqEO5mfDwCPHYlhJz4ySd+NkmpWwxBoNSdpNYs0T7UIAA')">function is_empty_conjunction(exps) {
    return is_null(exps);
}
function first_conjunct(exps) {
    return head(exps);
}
function rest_conjuncts(exps) {
    return tail(exps);
}
function is_empty_disjunction(exps) {
    return is_null(exps);
}
function first_disjunct(exps) {
    return head(exps);
}
function rest_disjuncts(exps) {
    return tail(exps);
}
function negated_query(exps) {
    return head(exps);
}
</pre></div></div></td></tr></table>
      <span class='comment'>
	We use 
	<kbd>argmnts</kbd>
	because 
	<kbd>args</kbd> is already
	taken, see section 4.1.2, and 
	<kbd>arguments</kbd> is reserved
	in JavaScript.
      </span>
    </p></div>

    <div class='permalink'>
<a name='p52' class='permalink'></a><p>
      The following three
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      define the syntax of rules:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rule? statement)
  (tagged-list? statement 'rule))

(define (conclusion rule) (cadr rule))

(define (rule-body rule)
  (if (null? (cddr rule))
      '(always-true)
      (caddr rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+7gYBIQw+DMGwUBwIgyDoHwPD+wt8jzDRG0bno9rELMkvI1IkyKI1R8GBsaQAPy6XI18zPvix9vfQQAFzAlKpLqiKF-QIT8g7UANIQTQ6EGzUQ-kKDCYoJT-z7CfM+wDzC-z3PIA8METy330OgswT8969QongwBx9QC6DQcNTBiZXSlmtPgwhoBiH70kCOVMt9UEENocCd6N8KF32Gmw3qAjGx7CAtQ3hP46EyGJCpESBUNKfxEXqQ0nwkKqA8iCGCRlFAmXwU8Fhw00g6LTigqhp8ZGNDkVTY2qifyiJmPY+G9xmbGyVuzSx0iWFyOTqHZhaiSEzACWmHhfjgRpSii7AsQibGlGcSDRcXiuFCIiXwwuxdS6UVnEEpxoB67SB8iEwgG0kLDwkj46xxjTGlB2rZd+05VCD0qeMQx8SeEJLSL-RQzAITcOAgAVWIAaYg1AADudghR6CUA6UAABaBZVD34ZWxjjQp2SfLCBeIPM2GZKD4FAKoEIzpKAsHqn9SQWjhD9mYpnTZJcDZnIub9TR1VVA7MKYwKIstzCDCodIC64gjknKkGSVo1yPm3LJuYc65BNh0Ctgi1EKyFjlLbhY25tS6m4sCI6BQxB6TUPBLQGKJi8U-gqQZDkxlPkkH0DiylzLvm-KZSyvFFSSXMBrHcGF3I0gyRCBFJpqgXTIu6Y0J+IrxySEfISu44rpDCLqb-Vo7ROgtAGP8wFwKMzmD6dQCEXyWQjLGZM1u9t9aaHkIs5ZRTBRaX+bxHSDSJRNJMpOOgPD7mVwsi0n5oBUQAD40UHwUAG8MViz4Rk0LbHeuoQlytoHVKaEjag+v1UKqQ4RCDvBKasiN4iQSWDWofTp0b+wmOcWUotKbuofWTfQDxcSmxFAyXw0p5aiUNt6l9RQP1KB-WqWfbcOkk2uJNt6yt9zDnHJCJlTQ+tDZExtnc-VC5qTqo6AkLVGwAXyCBbaudYL5FOxiTFX2sLGgyS7RGoW562apl9k8aR2qdWHr1eg+FBBwTnseLA21qKKV3qWA+xWztL0S1fdY99aQT3CrbIBz5f6IPOUA+uilMlwORQA00uDQQD1Ht9aUW97DJ2qApa2R9YtTZrpg6O9BwxAjDCqvbN1kgSDVi6Kof++yPSsX9ZIINoaWQACouMMN3WJ4MoA+P53tnQdaxAxR5qgtgt8uT6Bzn1QhqQFH8HXrhbQMIAo6ZBqZkbeGqS9AdLbV4Ajm6PZSEXcuijvsqNELk17TzoBf7110MiZTqnFZkPaSh4WaGn2u1Nv2dlHKzBKbyCF9TODULad87ivGnwKMKxs3Rq9PEWO6ttRuh5WC0taccWogCYW0LwIbH2SVPTvOVAI6xhN-Ik1hMGdI+5P604WYCanag3k+wEZ-UHdaQKLNJZU9QNTdXtNpwFcZp8oBJP+l3QwVFHHNvJh41NlQfyHmgdUGnCMhLiWn1Jby7RwdjvxYS89jb7IpNdGnZll7jRpEKd3uw6J0XW2SMzQJ6k2XknbGQ75s7+UxIqKMZWv7ib2GcKYekmd+qf1NIs2dtHismltLyRWt9GxqzQNFKK-HFP03NheE0nhBGZL4ZdYzJNS3wmY7J1JmnyGls05Qegs7-PCfKKqYj6RT2zCk8OHgBeTBWDsDXlwTeaAwadZ1rm-NqgHSwuzSN7IuR8i69ANW0A8z0SotzbakxvTGD9J17HLIOQ8hUKdNghQLQXiWHhkOro391k6Qh1oml+jhYvAu1zpzExkoTQ8JCpCwZMuh6sAYiPo3BSM7lgHcF8eiVQoFp8vXF8-zV0+Q+PP9JE8twIG3FPdL8DF9Yo9UG+AXiHX7rqCpWKm-bWBk9NvoAXqd-5Fym7PKYqN-uTJFv+1B8QzHYzCHMqaIAL0EUafD1Y8r8WLJ+VRQR86x30sJpvfnOl-kslBnwFj+J3lkhwn+-rSn83xPHu+FT-I662QIOZpoh0XHzJVTD6yzUvF7Blw2RwyXg5FUBALB0VHYggPHR-2oAulTm2UMnkEzXWGj1AFBHBE+UwKz2GB-XeAnD1gNm5SAL0AswqGkAGA2WD0wKsgwmnQ9TPzsHwIhAa2yDYPHHjR0mgJJBpxMiEPkF+BwIeQ7DEJrzEMA1EMwIkK5lwN7BkMX3tgJUCwANmFu0vWsiBXp0e1AGcBNAnGsVf22l0CiHeBYIbDNkt10isJsP3lJjNy4NUCYJgJ4IMNABcMZWMNMO0Oa0CF-hyGiBsO8LNgAB5HDwi3hVA-CqNiF7cjVVAWQAAVLIdRYgQUVlJwFWAUSBBuf3YCUAAAalNxe1DEiCiEOXTn0LNgqNkxZHKMqOe2qOiDqISOOyrVxTtwdwyKyPwHkAmTyPZkKOyUoBKJaIqK+0CA6NqPwHqNYMMCaNZFaLmPMAWK6L8K-3ciyAgSgW8OQ28NB0CGQNmBkCyEsjgMaB0jm1sN4MMKBSM0FRLzoMeJeM2OIVPiuOoEsk2PxRQL-yHioLu1+02N-m8KDQxA7EiOCNxSfg7ESJeyhOUxzk+NJheF7F2Mc2dUaBPWoRhKtyxFc0oMAN5VeKCENW4P0NZBGUyFaDkw5CdVKCIy-TqR-TEIsygOYNJzqRkgeLkMiMII5EZUBPOMwPkNFJJCKzZP3XgLsGoT+JuNg1Z3tnJ2ONFVON8JUDOPMAuJVNgPMLKzMHuPRMiOeP4wFPeK9kxIRMSWjSNMBLhl-xqO0N0OAOsQdJa2hIcLhIaJ9MdIukVmRKMP3iDN9PRK4kDOxI-x6NWzSABXQUJNPmJMxHIKXXJJ0Inw31NOpJSNpIwnpOIEZKJWZJJDtUKSkyykTMIxKxIzSC5MwJ5NQ2uT5LVJtNYiFKlJFJkKlxZTkI9RlPELrJYwVNwOVLAVVMY1l3nmqkXmXiV04A3l4AwA12zBeUuXeUL1uXdgjkSkv0ZBNS3LeTv3tlPL90kHORLliSqz3PHmpAChhW3B-UvKuXl122SmAQAhZCVFk3MCVFxXFPqVjy7AArMC7GAql1-K4IgrwLBEYGgp-Nj3zHgvzGQtAp9E9kqFkxwukGGhArMVjzqjoBLiUEdReFIvItyJ-CIqCF-JpIgppLqXosCF-P1HeA4WcDoGDE4reG4oYEaDYvMF-LKPgvMEd1AEFEMBDXN1aNopErMF-IWQkrMCkpkpE3kuWUUpgtjxkxeDSA0tktDXmTE2krMCUufh9GADUuOQdBeE0rkvmTAF0pQp9AAFI7LjKtL5kPKLLQArLfzLcJKfLnL0yZK9KfQABCdEUKhy6Sky+S2K1FSK9yu4FkKI7yhKpy0y0AGIswNKrCjKqI1ENSsKvK0qwqoK2PYNbKxypK+ZUNaqqKjK4NMqwywICq+S9qlq9KtI6Kuy+SwIOSswaK8wXXYBbkN8iIV5K8ipSIoNdBf1JUF4d8nc+MWWGa85bcgveMMUZwAAKw9x22WqLnpTsDktgtmu3Nk2fIZTiwpXWr2oJFliwG2rmquXhTyFNgswAl-O3U1Vk0Bt3Ssu+3Ytj0gGIB3TkEorMChphv1jBvBuUtj34skFgEgAgvRsxuRpRo4tggEoAFF4L0aia8bwbfyAA5JQKmuymmqmyMhLaakzBFZ6762sRa1EM6yyI5OS6Q-w9m1mn6ra1mvAm6t5JtdKWsD1Jaxof1Pm0NZ8uLcWnayWjm2LBgnSB1EtNW+a6FEgXZH5fMDgx5Ypa8lTdVRgYpd0w6pQeYJTCIJdSjZlZ6m8nIQMe8hlAcxoQeE2voIIdUhaEMyBD03M60U2zQ-PME8lSlALIlVQZ6hahol4CU1Wz6z4DWkQimwIeO7oJOtuagI6k61O77IWp8H6+QnO8wMg3WLMsO6ggwbcHIBFWuqIIOEwmYGOxIWbLYKBbuiOhguXBchXFeDgdebgTADcxaWgcIJQCgSQWGMIKifURgUOUCSgcCHIU2z2FwNwAKDere0c4IpEyeIiHEo8TeiCY+1olkSQGYszMMLog+y+o+gcdBX+F+sCa+v2HSaofUAmGlT3G0Go60h5ee0gJwK2Dae4XZUgUgJKhgColpeB9MlkFop+dBvzYCdYioiB6un8dB2mMMAQxmEgAyC6EBu0VladVpcho8C6X4AASEVMfpqNvrSNaP-pEguiAZ439ToeIAoawJobuSaP0BZEPzsHoeFk+CmBYEjR3stmtkHhPuAjoJZA-odmSlUdADhBYVPQ+N7FUeKB8DYnfyIhMdABSuAgfi5HQSfgInYl0YcJZDsbN3lWUAXqXoJEkFXtDlUdt3nUTEmKblnF0f0dxSJGlC5XhyqRMZ9Mwc4YqJkbQPkacezj2UUbEbaNMRaIfuONsmQVifUniZ+Ryao3ydaNSbkcUAUYCiyYSdWMqYkaCZqbSLQqNqjRqa+Dqd6NKDkXcMCalVe2EbSLgpeAAg7FUbjMsfKf8J6fkeCLsXCBqMUYceAgAHIH7B5b7tmtHtiljFGpHRmGHPhYZGAfILnNLQD4plG1ASQ96IQOxrmCG6lfy8gWhmijVmjxkgxixTRFB-mb8rZOR36Rn2mXnFhLn-DexXmXhFm+mtHIX2J4XXh8I0WenXn1CFo7aHbSAnaCdZVnRg5xJYCnQlGOFQmqtJw1GPnqW4IXgSn+p8haWfa0h-U8WTQCXKAl1AMS1SXTQunPUKX+mWtomlhaWNnfy7GQx9DEE7JpRaXlm3dNAcXdRrm6xZkHQBX4ZTRyXNBYU9MqWG4wnWXRWSMuS24-TcmghCmkEYDmWO5zXDWxyZ71sSW9WLp6Q9kLN-VNWZlzgdXPXxJhWDW5TcDk6MI0G4KNn3COwQ3AWfWfksTzGVwiJE3vWOEU3wWBna8BYac0G0K43mAvXrg9ktGo2Gw0GuXHbeWiXV9NGRn3Cq3sh2WghOX7buXCX+XM2w3lWVWW3rW6TxbBWs29k6z2Tj1QUJXw2jMZ9Y9ZWBR5WimYDlX2sGyytb0nR2sg7dRrVJWKWLDz93CpWRmOwz282aSDWSzzUplVWWXXhBQbVzyFon86NaXj3NzELw2NnwCKWtHr3Jxb3xl72xc3pZ6VZA9GY-QgWqJyBqBU5jQWg2huhP3bnqQD3w20HYPGAgwTmkQfXAW8OqILF0PWGOx32RXXXtw8B-jr5fHzhr61q81ClyyrhyA55R7Fo3gi4phQAwZjkLoFowY1c1cCENk-Rg5VAjRM9NgNBGAWgwGcI7nJQ7SfcjUlPEnXs2gd0uggnCZGpZOHJ2IOwNPFPSYxW1EzPsFNPXC+jqy6BpPjP0WiJzOtO9jcYNFsRr7VBYVJsHsZgmOcg-r9Lgv5AZM6zXUDjIEZP5ADYeAXhZPJAXpGz3XTMkVnBwuLMpPSA4uEvZm1Ajsgu363WzBjWQaeNMvwvMMuyt0iUNVd08SzAp20vAgf13OcvTRnP4uUvCv7hCAsvSvmugh9dKvuh3Omaggn5xvITXO1BJuRvmN8SDSC5m08P8vJBEvQBkv+BnjFgqSf1quj6uunO8vkvtvexiufPt6yuQVgnOMGu9PkRBuauqT5irBsQiJrvwv23hp3CAILu1qf3dv9vRy-u8UrvAubvj6lvN2KUOvbPFPTueuDY9v5uBuhuf67v0gZ3mgnvNUxUkeWhauggmHGgQyvvMJXuj7jFyey6f33DQfdTV83nKUuIafsfuR6eWv4fmVKfex3OweceVukyJzVv7ZqLYJSB4iWAqTzIi2YvNAm28VQElffNf42BXHIgLo8OVfKUn4degWvt+jUiWAQOLVQB6P0sqzwvWSWvWGpfyAZfXyxbretMYe-XvPwu-OBgf0OOLN3fGOj6OmletI3zWPUUg-4OQ+WQje9fuRGDvPnBIg6pohujv6chhev2EKCDD7mOWeDuTmU+e1-98+chztU+ajTaOwS+0+fhi+q+y-xxK-S+fgc-ew6-q-G+2+Lb2yYDy+RGZCc-cuM+r6s+mAxSTmo7uhB+wemXFCc-3CIcu-0+5-C-xCF+p+93+IpBQJsOMPz9I4jy7hgPbHoOA4K69BN6I0z+xCEXSyFt89QJJBeOiUchGBYU-7-iSkj38zjX9+yrNrmtlMyr8ogQ2JvkPEiD98lWToLfrKRG64EQg43VvvXym4gJXsZZekC-zf4tAP+N7SfrKTm4aBNAPkMAchjAERt6yn6adg91PYWt8yuBdwiQJ8gXtRWLwFgRiQHZw8aBwAlTtSEnBLdxe-AoEJwNpbqt+QoYXICwBNZaE2gh4QUFV227yCKK1wOgKl0P7ZgPidAQ6BsxUGKD6Q6gvzlo3jbSxDoEPdSog3CDSDZB+efQVV2sHEgqe9wcwWnRez2DDBL0GvJECmAu4rkHglwVRUPSqDPBlLbQboJGYeDQg-AYwbYlz7PMzBbzPzlpR8GKA-BnwAIVEKMFs8fwyQuSlIKcFcRDos8e4o4JkH4BDwUIc6l8mU6VwKhsEQlJFEsDEgbQNghWobQFC-1GY9Q8gI0IKEKN+hYQu0oMI2Z0EtGqQ62rkH8HBCDBLtUxHCTKE508hoaHoX0LKGtDCh08ZoXLxKFs4HQV2a8hKHOi3BUw6-YSEBGH5Y4xaYAiAb32gFiEx+tPQgeISZwl4UBlAs3DP0eEF9zh8A8QkE1BC9CB0fjaXvEXIGipKBVFWCH8M84IUgRtgEEc73iKAioRFwxfpoOeFoN8Aq4LoC0Q2YshsRqoXEYB2uiNQURoAc4YYA2bckzA4wvfkeETqwQqRIzGfocKlonDrQ5I34c8JVanJGeTIvRvCD5EEFKRcbBocCM4oy8MSgInIaUF7CUiLB-3cUQiMlHxEE2TIxUeDQ7AKi3BlKGQiqwJE4ivmEgsQCCRbr1Z1hJuDEe4QSrLDWs0gWETL2wQGgOEKmXDieHdHjAXgmrckZq0uEbAf0qokGEimVQWZAR30REVKJ9HQjHOcHWgKXRRp4o-RihV4YJlBHBjkUWIo0fr2m72iDmNRc0Spn6EeF0xSqJujvzECEA0CqfR0IyPTCsNoYqzdPuqL7gVi7AHHJodIPy7bdZOGggMWLR2ygAOO3YpLvF2HwNj8eunQnmbCfh0FsGdAE0YSAa46tku4oOsf5zFqycLMLYusvrn36ydDAmDOxtg1k7N0rAoAdIgAAkiakgAAILgBwARNAAErpFIAAAeSprIBUUdBLWt0KsAy8OExHV6nWO+gwic+VYz4DWIdAgSB0ajDsVBPLZATws4Y2CVow7EqBPoSEkzCc3QmVBAJuvYCabSvE3j7xj4l8e+M-E4TPuCEojgROQnKjiAptDscWKgmSBVx+0FCbYH8K+gsJxABZP0Iv4LQd0tEuMdpk4nEAwJGI-odckqH+pPM5wpwCJi+xOiU4yWT0bOAUnm84RoEnkRYOGJIj8JokkyOJJhEhQW6FgUFsmhID8dUUAABl-H2wEgEyXaJZKKSNwPelAboHrkskaBrJigCzIwB8lP9+OFRHgKmOpCBTIIvk9fIwBOYQ4nJY4TPiflfoF9IpxoBllRE8mm13CbjWTO4TSkmsckvjTyf10H4DhFxmwf+IlPH7TgLaYqUFhuPWwFS3JZra8i0FoIjEXJkEFqR5K8kEYdI1gz4BMhUChxyON6EvIAKPYUon48UzqYPwIHNSMpaELKRSkGY-tL2aidwoNMkDDTpAocNga601E11LAQ0kaVwNFZBlekO7YQZXG2m7TQ4aU2EW0BtREopAs4M-uv39HnFGYd0s6eITS4ACGRo5Pgfd1gKki1A6-YGYwNIxgFAp8gRAR+mIzQymy1w24fXz74PCh+KYzLGNwJ67pzs6Ax0tiKPRuDf4v0vaagPdIQiqBjQYYEw1a7IzK4woiEP9MyxPxyZ+0xAncj8CvATpO0s6eASs6qoCAx2eGUxhukyQOZ4bCqayMOQghUCZoXzuv33iST+x62G4ainIH3DmCn07Gbj2OTjVkBeMnjJQPl6XgSAdRSMWCMgEUDIB-hXUYEBVk8iA6+6BsoDIhARklCz2PAGJl9nfprhkAtGe6W1kD89Szs9BDJENmTjGuJsu2b5hm7EBLZqo74VnwdmBBwRLfSEWnINKKENebuK7CnJEZOy1Crs3gSememBY3p+QJ2brLFISEfZfs8aaxENFEjjRpcpGRHMvBfDlZYckueOTYwLQLZSxK2YnW26aB0eX0h5NyVcaEicgXzfEbPOJFxDDOagTQGPJejUjMCdIxKaPOZGOlZZEobQK6F85ry1qE83OXEJCD79x5e8x+PnK0Jyyj5isivuPLWrbdh+oABuWJm3nuE15sIIUVIF-kbyIWic4ecnN7B-yjpQQCBS9CgWBAh5BsZOQm1cGJifwCbWBdnNKD6itGLcueZIzbFm0DYIkNKfVIn7Rj4REk0AMmLFL9YxaB4I3F1KAyVSOQ1Uo+lIEiCkKXhas0zAgozGhjgMuKXhcnPIWgSHZj4A8FWMYj0Lksj0uBWkGoUIDWGvCssVmNbk5iMBYw5eYWnObQsfIBUixNIpUyyLMsZoqwBaO2GqBlF04CVGZPPHETJAT4oZAABkiaX4+0Q5KEn-iBKaU4yQxNVm4EIJFtNoNBPElwTqJy464D4pglcS0Jn3DCYwpMg15cJMwKJUROvEOLnFriqiYrBokJLoljEnPtJLzpzC6kzE9YaxPYn5LZRpQFkGlP4llCuQFgspRYtympRQW9S7YVyFhE60olJknkYUrKEyTYIckvFGlK0pfYdaxC0FpwuB4UKYRekrxXkr6X6iKpZoOIJBGuaqARFA6P4Z2OJCm1pJPQkZVgpbJyUKURS4uHIJmE8ZMswkwySRxMxbLdFuiOZbpMyx2ieloLEyNstsCmSBywpRYTLO0WL1dFTyxQHJwBXbDGppmS6MIAszDisOaLFkKBhBXgr7eTM6Oc9y2W3Izcay28qisuZgrLmuykYaYl-iwqSA7gdfLZiJWRVnheyuXhVJCBQSQ+MonPo2LDAZN86TI0xsCH347jYRYQI1MaF4l98oJLSXiUazx5BLHQIfdSYxMO6bj4uFmCpb1zXHyq7uP6SBvbkSD3LfG-QuWglmaVdiXOPEuibQA6XSD0VgQTQHmny4AtzVfEgSX9yGa8SXgdo7VZYFrDyqGVVAhmQqTtjB0EOlgRhWKuXGcLoVbNBiRZnEU0Qqkj0gjMaxZUnyGJpPFGeti3GopVVBsNcaEpG5aqbAXqxWAVINXc1nsxqloaarqUCS7utqu4FWvaXOqnqP7NKe6qSqerdVJaxYZOz57OoB5uoQjqGqNR6rGIGq9leFGmVjqNmg6khRqq0aDr5VEqx1TXgXW8Sl1ok2FEKpDU+roB4qjVRNjd7SARJDy+gBZnsWkTnxr4j8eAAIznqHxl6iiW4tdWOq21WlbIMeteq7jLwLIcBPgsDUDqUOjCiNfci3WfACpu68NQmu4UIp31CSs9ekscUuKb1GwexYhtcVhiW1oLV9XJVg0+Kv1zc39UypcwUEm0h1D5F6iGHWwKNJzHDI+DI0iADWtQ7uGhydCkN7YeWOjfiGo5MawC+EajdngWgLoSNpFejfGEY2Ua1A-G-9aPjbIib8Q4mnPgdLY0LQ8scmkQNxtNr-s40NeBIFEAyj0hNlFGxTYgVY2OjaAh1agBws43qaSViw8dXXWXTWaxNTm2LJvJYX9CtGdGyzfkA43mauNVK0TbFigUorNltGvzQxpc1YksAPPb7JCukGzw61aRT5s0RC26K985m7zYnx0gibvNqgNTRQGnRxb9l9msklBAkCBbGI+W1zSM00V5sJh6Q9TAoJuV4pUt4KiLCLCq15bytXG-wkVrl508jKSVHLRwtU3db1NXWugIFqi0xbmUfWv2Ilp-WMAUtwK65rJmG2MSPFuoXTRtD2S2aoVAy7YUMqqEAlOUpy4NNFp-D4VYCK20Fdts9wEqfIE7ORaYlMUIcix6w-UQQhm0YDXt5irsTIWi3k9f4dBAbUEDm24gFtfzZbeigUAPbZMd2rhRskdDYI80h7Q1jnzOxn826HdXqAPXLH9r+QtbHlnyypwps9t8W88IKUGVHLzqJiaeedtMTI7IGEaHXs+CoAbQJS0zHNn8Oe0JEmWJlNwde1mAJjUFwyUZKB04KwRdSSFJZKUTKKA6ZtLIInT2yaRdLtOv297RYoB1kr7R7bcHTyAW3K762gGaHeGh0VoqXgRukneOET6Bi5kZWsigoIswABOAYNlokA0UGV9wL-ozGooKCGV15KYJCBeAFL-+0q7QZqDS6tcT0l1DELZPe7mA-dFFVQJs02asg0AGe61YjI5KmIk9rA6WK2LqR56A9L8bgoMvKj+E7AyyDvOLPHKBBi90k0vbA3UQ6s893S6QMNMFA5o4ZJyC0MKvJ3FaMRfWiHXat9Ad6KK3e3fKyFa2XNZMKgTvZPsR06RM2D2k5EIzzT05FAmQM0EjVoXrZLoFmANoKG1a6syWYzSIHWtvp9Aulia0FH9EYDb7Ya1jDECyDNBhEgwVJPPWkSWTLJM2VC3ReIHX0Io7UqlfoLa3r0e6FBlioRmc1X2XQtwoABmct3K6gofVCHJDhwhQ48Z4DVJGdZZOHWLrV1jqkbGNhwMjcT09+x-frGf2opX9RIvQJ+EZlf6WQP+2XfKsKRYH2prBpZOWEQObtkDfB3gfmWYPcHlk1zRFMigYCiHQDI3BvesPOWDLjlp2jkEpOexYtQVuo1nT9Rv5LBLoPO45MLoIBJUz4bPGfVcxDAFizFmursXQRIi7sCdYgHDHkDoATI3AF+vNJGqoWH7nlgbe3Zm0ZGyM19l+potfqoHNkOQg4sw1sosPRBCxXu2w-hothqdrYYhezo6TZDUB1ESI9hucKUCaMmGaqGA7I1X1aHr+G0PQ2mxHKps+dRhrSiYaI1AbIMeZCcRfnahNHKEtS0Fq+2Oi0AJF8ahqcZosYLcGpNefRRnmA0YirtvYQXiMbpax559E+r4HDPsZxCAoMx27iFBX2bLNm7o1QKLoAA6WAWdZcvzzoH8ARqBRiDukoNU7klKNPcBEoOoEwWAwLY6Cp2NAS9jqCw48cZen0gzjFxxkQQUID05-CcndwsCdAAAAvFWqAEONBA86XwRDuccYAKNDDcnaE7cZZT3GQIW+p41pHp4jA2yzh1wxCB2MnG-jSJgEzlUmbzHmizgZoqQGaJfN+wmzbkHgFeNtayTvxxE9cipOOUaTPoPI7HAZNMmul2J8sEAA')">function is_rule(statement) {
    return is_tagged_list(statement, "rule");
}
function conclusion(rule) {
    return head(tail(rule));
}
function rule_body(rule) {
    return is_null(tail(tail(rule)))
        ? list("always_true")
        : head(tail(tail(rule)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	<div class='permalink'>
<a name='p53' class='permalink'></a><p>
	  
	  
	  <kbd>Query-driver-loop</kbd>
	  (section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query-syntax-process</kbd>
	  to transform pattern variables in the expression, which
	  have the form <kbd>?symbol</kbd>,
	  into the internal format <kbd>(? symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>(job ?x ?y)</kbd> is actually represented
	  internally by the system as
	  <kbd>(job (? x) (? y))</kbd>. This increases the
	  efficiency of query processing, since it means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>car</kbd> of the expression is the
	  symbol <kbd>?</kbd>, rather than having to extract
	  characters from the symbol. The syntax transformation is accomplished
	  by the following procedure:<a class='superscript' id='footnote-link-2' href='#footnote-2'style="color:green">[2]</a>
          
	  <div class='snippet' id='javascript_95_38_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (query-syntax-process exp)
  (map-over-symbols expand-question-mark exp))

(define (map-over-symbols proc exp)
  (cond ((pair? exp)
         (cons (map-over-symbols proc (car exp))
               (map-over-symbols proc (cdr exp))))
        ((symbol? exp) (proc exp))
        (else exp)))

(define (expand-question-mark symbol)
  (let ((chars (symbol->string symbol)))
    (if (string=? (substring chars 0 1) "?")
        (list '?
              (string->symbol
               (substring chars 1 (string-length chars))))
        symbol)))</pre></div></div>
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<div class='permalink'>
<a name='p54' class='permalink'></a><p>
	  
	  
	  The function <kbd>query_driver_loop</kbd>
	  (section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query_syntax_process</kbd>
	  to transform the syntax of the query to a tagged list
	  representation, where the tags represent the kinds
	  of queries described in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  Along the way, pattern variables in the expression, which
	  are identified using  <kbd>is_name</kbd>,
	  are converted into the internal format
	  <kbd>list("?", symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>job(x, y)</kbd> is actually represented
	  internally by the system as
	  <kbd>list("job", list("?", x), list("?", y)))</kbd>.
	  This means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>head</kbd> of the expression is the
	  string <kbd>"?"</kbd>.
	  The syntax transformation is accomplished
	  by the following function:
	  <div class='snippet' id='javascript_95_39_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+zjoAAFZKPMdCkBEmiK-MNGfM6wfiaok5k5XhfF6XlGzgfGyBAA-LpyW+ifjdn5pLxIcPEn706+hPJfw0Waoi-L1XpQde1FaI73hqaF4g8TIH37D-MwAAuYEUolgX0aDfACLIr7BgFNZGYtkUEf00HAxoSDJzbjwEhBg+BmBsCgHARAyB0B8B4P7Ba8hN6EA2huPQ9piCzElsjKQkxFCNR4QYeB5gMFyFETMThpJ1RFEkYg5BHI+zKNABgrIBpCCaHQg2UB-08FiglIQ8RX9QC6AERopBe55AHhgiecxGib4cN6hRJxijeGWP4foGxwIRypmccNVxm9JCBOtOIvh1jhq2KkO9MRXiJEhMsWEhJjY9hASsX42JDtiQqREgVDS6iUl40+EhVQHkQQwSMooEy5jv7DSaUEKpac+zRJyT+OJhsiYlJ-KE6azNjb3CGfDJW7N2k+JiV04EydQ7BP6ak3qcy0wdP8SENKUUXYFiSZ09BSyZibLZkEpJazcnHwbk3WcCz9n12kD5NxNENqvyKe-BpUyv4aMaDtWy8iTKDzfuMepuyOl7NKGQxgzAIRROAgAVWIAaYg1AADudghR6CUA6UAABabFByuEKGxnPO5PlhBQMYFEM2GZKD4FAKoEIzpKAsHqn9SQFThD9mYpnUAJKQQRGZb9cp1VVBkp5RS2W5hBiWOkBdcQtL6XxI8K0NlwqOWHzMOdcgmw6BWy1aifFzy25tI5Y05pZrAiOgUMQekVjwS0Bil881P5X4GQ5MZEVJBPlOu9eYaBpqfVOpefwu1NY7hqu5GkGSGy2yGNUC6XVYLFkRXkZIR8Vq7jxukMk5pSDWjtE6C0AYkrpWyozOYRQUKPXEFZPCxFKLW7231poeQOK8Ukq0pK3iOkfkSj+UQugHSuWVz-oPUAqIAB8BqFCqEHh0iMmhbZsN1I81NtA6pTQybUQdZao1SHCIQd4DzOHcLXd1D6fKuiP2ne87Jia0gDKede09G7V30CGTspsRQzm5MeQShR1qz29S+ooH6lA-qTOyduHSK6qbDJltujYNK6UhEyuvA2sH4Y205WWhc1I80dASIWjYUr5AypbUhhVMgTSK2djFX26rSgyV-c88ETstl0Ylk8SDxGS0tpw+YTVBBWM0ecoYsdoBHXMenULNjxzXamy-txxoFHo2LljTJkTjxDHYcdTJDTkUtPyKLaUEjZGh2McvDB0ZSxHWtlk2LU2WGuO+OM2kYYgRhhVXtj2yQJBqxdFUCgqlHpWJ-0kGOydLIABUfnXQWi6FFnBQX872xXnkMUB6oL2LfE-YFn7ZSIfldDazfYGMatoGEAUdNxMYc+LRlWfZXNBF3brNDPTqZYds2YG+FRpBddAEg+uuhkTrWIBlxWHigUiuE+M1M9H-UBvMGlsb1BMuTYq6ofrZqynteGQrWbehR4KYHE10zpbJEtfW-kG5iyAJXf0dkUrjqkG9dO12xmK6VkwuyVywTadxNzNTtQbyjWNiCaDutGVNXRvjayw41C9BVBpwjQJirWrYv+kIwwfVPmMfJgCxDlQEruVSaWGnCMVqbXBuYKGypwcicLcW0zsweP4stAHRJ5nXOzC3qgx9sJRyHOrI+Vy8yhpPjJvHJtp1pO40xteYxG9viUvsLCREj9mSEOBEE-I8Tsv1eGMBdckFHymvVge3IqXBuhQYUmfIjpTWZJGfe-bFdV3hc-bLebm3Bj5GqHuz7x7DTJGy-uymhXxv8sGDnSHlzvFKHVWobQ9gDCuDMLQGDJd-E92MAPW8HyDpD4tcyNkXI+RC+c5SVi9E+r90tq+RCytDpY5ZByHkSxTp7EKBaC8Sw8MwNdAQUSnSO2KmutqcLF45ORc7oenfMkyqkLBi2+PqwdSp-A8FA7uWAdFU1EX6qovQi-zVxFQ+JV1qVUC0TozF1NS1-CxFUf1ij1Qb4BeIdfuupX7Guf9tYGT07+oAL0X+-IQaswIaMU+Af+FMisgBLwEMfO9sO2kuW87gegRQouc+PoqBiwOCaaRQoBOsuBSw8iMBEciU8kyU9uwEJBN+9sJBr66aqgZBWBE8Pc+EZBKuy6ZAQcZo0QdE1O9qqYnuIW1IvY3GdsC0+mNCaiohuGio7Ekhc8cMfBnwzgpKhk8g266wChdgoI4IIqWh2+wwgm7wE4esBstqNOgY4mr2WeYgo+WhVkGEHOfy5BoABhEIgeMqLw7hRBgsWhFuJkshJIvwuh3KHYoR8gLcTAHIhiIRWh4RXMehrw+E0R3B-Ilqw2ghEBNhc2eCbhDOoAzgJoE4vibB20ugUQ7wLhDYZsNeuk1RtRm8pMXyN8XhqgThaiPhRRMqFipRF0uRd6QQSCOQ0QtRvRhgAAPE0RMW8CwUTiMfepYpCtQBCCyAACpZB6h5CChipRBOAqwCi6INyD7ASgAADUlei2oYkQUQNK6chRhg1xOCLIVxNxAadx0Qjxix-RyxoxqxlaWxOx+A8gyKBxRxh2JxD85x7x1xW2QQ3xDx+ATxrhLxwErIHxiJgQyJvxrRs83a2iuiFusaPhWu5g0G-CMgWQlk8hpQOky2dR2QfRwWzSLWvWzJ-ROJmiUyNJ1AlkPJFqvB1A-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-5L5ZmFZ2u1NQHpHP7f7Bs-AiLmEbHSHPE7Jx+3H3QQHgdkLzdF7LQMpVHSnvHCFHmGwUMb6VbYn2HuH-7kgEnoArBFZhH0npDIndA5HpnlHvYhOsHHH2nDHlGCnrH7H-DnHS2Vg2IRELntH2hypnRAEFHZNulRn5nXBD9PqznMHIXJ2kiZ2fGjqgmwn+qZHv7eHkn3nMn9H25jHXnSnDGrjjQ05gXUnPnOQ38FXXOnRnReXFn443L3qXENnvn3IDXcFXpAnpQVXgH77e7tZiwRXSZJmxGenjM7lsEk7XRJ55kmj7ZGHXzZqWi6Hui-WSCbAHTkQF0Vb635qN8B34riJsbEILACb9aoA3bCO95SHHpOn3Kc35Ak7gl1N93T8IX4mO2SHkHqd1NI74m33vbpDvzxJmgWkQlg7+qYP2bEPLIZ3R3otI+YHzgkQdU0QixfDdXrXW8HhnRJD-bBP438TmPAGAhJPOQSOWP9xHhHYlP2PPwFP9P1PUuzPDPJbVHXP0QsRfPQ8jdP5NPkTGRPPOXuPtD+PGR8T893QovY3YvSRPPnRO2gvUvpDSvFisvE9u4UgoE5bzbtrJ+VBjI7rTT6bAcT40tOD06Fv0RKLLpl+oEkgU71qOQjAh8gjApDy1rFZKmBvR4wbfn5WIdgvAO7PQvY2P5DvSR7nqRIQXngvynjrJAzv9Irv7vLQnvRCL8SRGnGgmgPkgvsaKf9HaXHnDK0XsC9ZqRnRRfPkHYsCLwjfWpsCFf-XumlmTo7n8FoA-fMkbfB85ruooYuQLA4SxcORbQh4goAWdAlHs-Ll1wdA+Hxv2YTZh0kiN8y-8-9Ia-kHBTnRiph08XQQkHlV4-xIU-zal+e-C-4QE-1X9wZ-V9zOD-B-L0sRkQUwberKn-V-i8E-6hB1+HjZBCy0X4tMQBh-TVif2lhv8nUl-HKr-xbq5AABpGFft0BgH8BIO5-c1MgMnTX9J+XEQ6ISSrJP8b++AQ8FCDZqipJGOEViNQNghWpIolgYkDaGf6x1q6AoARrfhoGsDiBnA4kAe0gGUDMWO-N0l7AKaoDGA--T4IAMdSKlxBB9QgQQAEG6A2BE-YQSQOnjsDMW5A13A6EpxsUJQ50W4KmEV6gBhIQEcXmWj+xR9I+VPaPmymcJWDdeifZoKpxY4p9T28vTXqTxsH59IyozUEOQG+iSBQqC3Uvn7hT7ADYIwQsIqP35BhCIhUQhYmEPiG2CVeG-OIiSE0b4BVwXQd4pIJZCFDVQxQgptezUCZDrBsEQwJIL9JmAZBQfCEGEIaH7J5epg19GaDCCphahQQvITERaGhs2h9QkpvCGr6GEbBLTVISBkiHzcFivYdofgOaS9gZhqwppHMNsALD3uCxDsCsPf5OoOwGwo4eajjIFMyhRQ-lskLEBikP6aEIQRXlyGdEMqag3rCBx2AfAU46WetoxD+G0AXg9LapEBGBF2Cwc1NdISDB1RZpxM2wsbOkNUDAjahAI6tIc2NqlAwR8fcAVCMzR6oMQVwiofy0kG9YyW9xB4dmXEFdFFh0IhNLcLsCEAhiWPR0GvXGG5DoYXjHHgcPqGfDQAI7LQRwK3aUct2YAwTiHWxx8irAYnYUf+xALgCk+3gwjPcEMA9YvYejOgPSPEDN0HQkgLDuKFZHpgIRIdLduJm5EGBHcx+Q3luxVGW89GW7d+lYFACbEAAEo7UkAABBcAOAEdoAAlTYpAAADyntZAPqnsJzwwSew8JGKyrZTZ4RiQmIjz0ZGfBmRDoA0d9Bab8iUx1wVESZHhGat+RKgT6NGIJAaid8C0AsZUCjGHcSxl-XIS6LdGejvRfowMcGPiaZjtR2Y4sbGJYEgYPC-IoQSmN1Gmd9ReY0VtWPGDYpiBVvaQljyrFZsNscYoYR4WIFsoaBf8LrDYKcARZESk7exAaHCRjZUR-uWCE4Ci7hCQM8Y7lhGMnZziYxC4nsbYEvEhQP6FgKVquhIAzt9UAABgGBzwEgyKXaG+LuRXoqIlAboEXjfEaAPxigcTLnkghQSMCela4jwAtGsQ4Jt9a8lMHiY7Z-xY4PHqQQ4ak90Jt-U+ATTAlE9ounTKLoYWInATJmbFHvFR1F4pcMyuoSwCgjwnS9pwbFfIOhKg5CcgJEzH7mBLsLglAJkEOicJPAlNYdIT-T4MihUChwm2F2S0cH2LaOob4OEsSaLzz6viJJQksiS0GU5gsa+n8DSTpUMJyTJACk6QKHGb6fx2ugQKyTZNDgSEHJxk71m9lSLOTFJcaKVryLaB392cYofIBb3cE5CZujaSwPJN8kJiA+RWVofvB0zNJjS10RqFYLIZ18LMGsXPPIAT58c3yTqP7E4JZ48TXBchS8flMjTydFRAWZwKnxSSFCyM7-JBD5Nsl09nBZfWTk0mGCuNK+A3RgRbFGFJT0R+yNqXZKUKco-ArwaKdZN8kSEX2TSJBE1Iuh99pu3k2aS5ODaaiuhNKEEKKTNAQcrBm8S8b9mpoR99UpfYXm4MIky9sRxXVQOjQVHMclR5fesjJBICPFdh0QqPmXyj4WIzh5gE6UuLHo8ZXy5GBKXhL+LYYuceAKLPDMkQODnBJU3stdLUTAyPB2U6kE9K8EvS6p-0-rHK2IBfTERivQGeYBiGc9-pmwwNAXydRkJjBw2AIfjwxn3SCpEMulIFOGxSBZwwM8KTBTWBwyEZAFS8ISJyA3CwZ-HFSaxH8HHSCyIM6bqxP5CfTUS30jIZR00DmdwRqRP0h03KHizju18YCPrMqGkJLEaUmoRrJeiNCtCIww3poEOjojXEjMy-HtO0CugIODssmlrLpngpgQ9s-DpIN2kSh3Zh02nprLJqUdxeoAIWVFhGFNdHZcIYEE12tkqcSZiwrUg7MclpBlhL0GmaUBVkGxERBwxARiNKAHC855MhkkkU1ZizihmojZFK0hByZDRng03u1HqzeIWQ6E-1sdFoAHhGRjEPiTzwCh8TYixEtpMPPZGZNvYREQDv5MWndYTavoaQApMFA548CmrKhvhDHm8jeUIkdCX5Px7IiHxaIrEZGTOkh0DwZecSS2n1TsT4iovKQJECPkxEmsgmQubSNhH6pbMn8xESfPPGPizhj4AeW8jbxjY+J+cn8OfKSHgDP5eIgodcMNlSIpBlQKocegUAoNFWPkCeZvnUDgLb5jk+4VYEeFUj4F04BNM+MdH1jJAPo2FAABlHaIY1BdIF-E6RrxMVdCbmNPmnTchSYniW0FTF5jJB7YwRdcC4VpjexBTCsYcilYmRYiMi2+fIp540K6FjC8AG2IC5Zj6QEivMTzxXFH1u6TSfsVSMHF6j9oo4s4d3KlaTjxBXITYSYv0HfVsEqUGxVOMMEDxy6SiyRY+KXH6LxBq42COuPNToTKqiJfebfNflnjvol4zYRwu8WLi4ymos0HEEgj0skR2CkETEqGECjMW-i-QYEtoGClGgusydI6gMXT97+mA-fkYuaQEY62XYjbAAuyUZF85ag3lBIuaUXilxqtYCioJ2kYLPg6S+lvGNyX8SQ6l0YQOJhHadhBQzaDJfqwsQshScWC-Vs9yPi4z80SoyZZ6lPYpKOKqy2lgstpajLiBgdJBDsuuypsg2xrPpfoN5EhAUxEPdoTzw5Fhhtm2cdodU39nB8zRHisfjm0sC3iyJY2FMTOkaXEBD4gfARY6Ah6ojkppQQTCaP1RmLhx+0eFe50EwyNIUiQYFVRGIHZ0A0ji7QbezrgQrbF+g9ZYEE0AHoxOY4+ccQApUT9l8zScFhCpeBqDsV7ExWKiLGXxl+pisueGEHWIS43xjdMFVPKNGVZ4R4mEBTRHfh8Sms0Kp5Z7NPkIqfS1NZFVqMEVDiDYI4tVZiuppcrcVxEglaiCFLErBR-7VxTkCZXEgqV5gGlXcFJXWLbVU4-AZ0XQkcq1qxq2sKapUH8qu+unJWcOALa3yxQjAPFbOHhWvLwoTcmNZINraRL4VBTJNUeIxVljdQaaiFeCvHExguUwqoFbyvFXajc1DK+MoJmyANK819AcTDQsbG+j-RQYjRRsHrVejG1LY5hWyprXerKqVaqNfQHjIyQWQ6HOJpmqrBhrD5kq3EoCtFWQQS1gi1+RWq+7SAdFciuta6NoUMKmFTWVRduq7XRcvVdKNav2q4VDrRZo6huVIGfqvp54wqScAwI2XMtrYD62IvpkfB3qRA-aRnkoSdAWN5Y04RWB+vxAwI-1HhNyQuh-7XrLCUECQJ+vIqvrY1z6qNmBvib6ZHK8Gu4IhtyH2TIN8TfbBhpA3fqeeEG-9fbASBRAMo9IdJdhvAG4bF0c8D9dQBfnAaRAHOO5RPxDY3rWN5FHjQphtnxFiBBTJjS-P2x8bgUxATDTqRxIrL0l762gJhvQJSbPkvXLnBxpEEhQnV31Plm8Vk3YL8CCm5jZCrYWzc4NRm-3HBpA2nKVBSGm9YRoFgWa6AymkkdILNmyD5BWWOfgFi6x6b9W02YWBNks1fr7NFAHUjkrOX1cmqa1DDeZoI1BbQtjm5TZFogpBEzlsYLTSOsYC6bBlhy3WtYLM2RA0ejMCjRtD9ThabNuQlccwKKW1LnUn5CdFgFU1lAZ5+8HLekpK3d5ctezaTWXNxLkiSFlIpxXGT8RNajZxCnNoNu0EZFGtFXF7F7GS2BB1NmLXEBluFbZaFgGUXLUlnkCUaFARWowfYgPRWtiEPPWXBby-pBxSiMwYBryPborw14G8K3OKms33LzwIZAJdVuCXDRSlXyR0IdunQHdnwVADaMqXhaUodexhZUiwRfitV3+Z5aHaNKZwsha0ibfQrBFa56VcUBjGbU1pZB3bO6j2reFyEXljb+tE23JaBWGFLSWF5-JbeltpV46l4HdB7YYnW2Pohl+ml4PjpZ1kFfxgmfUDqPcpz9xMAATgGA6QhdLlCnY+ol0SAPKuStilMEhAvBIV9ZaFU2U1D1lK+FGOwI0S-Gh98tTlOfqoHxb4tWQaAC3Q6r67gyspZgSXU32lh9xHU9uhXTIm8IBLyoFiOwHik-ypd1p5gF3SuLd0KNdiguuXXPz3mryXKG8pYMmBFUvbONPPJbStoZ0qA15MetnX+i21QIo968r4LlP20LRwE4kLrZECdV+FFAmQM0IbUvmVZLo4mYEeinOA6ji9poVkUk3pSotB2rxPoMTqVXyo-ojAKvTrQaYEizQ4xIMCeXt3fVcUeKVvQwHpZainVZgWfeWHRHT7qW2CpEVuAH79d++FGXlTmzzbhIC2AWS6OqqCBJriJ6xAdTOjDW8q2k5++jhRkH3D79Yo+-VCyHH1zRbdhujyjPtn1toIVPKU-S0FbSAG19-U-vgKsaDT6WQgBrHYvrxEMAEDuKK3X-rn4U7ylASr7ecPq3johSm+vzUcMB228Nol0eMRytmAw7KqAiRyb5qOUUGBQZO0hU4o+Epdg1cDfTHkDoDIo3AZeg9OMrr0N7MlTezFHyl3ht6Imne5fT3r71SqtU0RCUQwbpYhgWDk2jgewdQlDTOSShvFkil2J7DvGNgpQPk1ca5ptWSTUvTbz0B28lgTBqIloTC0I7oCtB-5fyEb2CgMULe5gBAlA0nay00KySSeFr78ZfSG9Ecj-Mq7GIzm8zNuMmxD68ccakhi6HW3FR-c2anh7wxIb8M11-D3UnWREYwiaMtKkg+AZ8t8PiRsx4qCxAFHn3VHwdJO5aUUYbArdbgyCpefUbSOUoCmr8OUh0253AJCdeBMo9Fz6N5l+sf8QYyAhTTz68jIfOAWMZaPZAyalRsVt0eJzW6zM6uuQg5PMwyRMELi3BBhBMR2RpQHbSWYVOTK99BVWAefV1vxb1tVAZcgADpYBD5R9L4Lm3wDrFUmvWcqv9U5ROozdwEV-aKSYoDB7j6Sx48WOeMYi3jHxypfSCP0-GMWrIwwoQD8IWJt2nRTE6AAABe-YRqm8cv1ImvjbKX4wju3aEmgTPqEEyBEr3gmtIDXEYDNh4N8GIQjxskyicpMDUXgvLN4s4DeKkA3i-LfsPi25B4AoTW+rk0FPJOonUmfJ5eaYdjjCnRTxO+k+WCAA')">function query_syntax_process(exp) {
    if (is_application(exp)) {
      const function_symbol = 
        symbol_of_name(function_expression(exp));
      const processed_args = map(query_syntax_process, args(exp));
      return function_symbol === "pair"
        ? pair(head(processed_args), head(tail(processed_args)))
        : function_symbol === "list"
        ? processed_args
        : function_symbol === "javascript_value"
        ? pair(function_symbol,
               map(javascript_value_process, args(exp)))
        : pair(function_symbol, processed_args);
    } else if (is_name(exp)) {
      return list("?", symbol_of_name(exp));
    } else {
      return exp;
    }
}
</pre></div></div>
	  Exceptions to this processing are
	  <kbd>javascript_value</kbd>
	  queries. Since the instantiated syntax of the argument of
	  such a query is passed to the
	  <kbd>evaluate</kbd>
	  function of section&nbsp;<REF NAME="sec:core-of-evaluator"><a class="superscript" id="4.4.4-sec-link-4.1.1" href="./4.1.1.html">4.1.1</a></REF>,
	  its applications and self-evaluating expressions remain intact,
	  and only its names are converted to pattern variables.
	  <div class='snippet' id='javascript_95_40_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+7gYBIQw+DMGwUBwIgyDoHwPD+wt8jzDRG0bno9rELMkvI1IkyKI1R8GBsaQAPy6XI18zPvix9vfQQAFzAlKpLqiKF-QIT8g7UANIQTQ6EGzUQ-kKDCYoJT-z7CfM+wDzC-z3PIA8METy330OgswT8969QongwBx9QC6DQcNTBiZXSlmtPgwhoBiH70kCOVMt9UEENocCd6N8KF32Gmw3qAjGx7CAtQ3hP46EyGJCpESBUNKfxEXqQ0nwkKqA8iCGCRlFAmXwU8Fhw00g6LTigqhp8ZGNDkVTY2qifyiJmPY+G9xmbGyVuzSx0iWFyOTqHZhaiSEzACWmHhfjgRpSii7AsQibGlGcSDRcXiuFCIiXwwuxdS6UVnEEpxoB67SB8iEwgG0kLDwkj46xxjTGlB2rZd+05VCD0qeMQx8SeEJLSL-RQzAITcOAgAVWIAaYg1AADudghR6CUA6UAABaBZVD34ZWxjjQp2SfLCBeIPM2GZKD4FAKoEIzpKAsHqn9SQWjhD9mYpnTZJcDZnIub9TR1VVA7MKYwKIstzCDCodIC64gjknKkGSVo1yPm3LJuYc65BNh0Ctgi1EKyFjlLbhY25tS6m4sCI6BQxB6TUPBLQGKJi8U-gqQZDkxlPkkH0DiylzLvm-KZSyvFFSSXMBrHcGF3I0gyRCBFJpqgXTIu6Y0J+IrxySEfISu44rpDCLqb-Vo7ROgtAGP8wFwKMzmD6dQCEXyWQjLGZM1u9t9aaHkIs5ZRTBRaX+bxHSDSJRNJMpOOgPD7mVwsi0n5oBUQAD40UHwUAG8MViz4Rk0LbHeuoQlytoHVKaEjag+v1UKqQ4RCDvBKasiN4iQSWDWofTp0b+wmOcWUotKbuofWTfQDxcSmxFAyXw0p5aiUNt6l9RQP1KB-WqWfbcOkk2uJNt6yt9zDnHJCJlTQ+tDZExtnc-VC5qTqo6AkLVGwAXyCBbaudYL5FOxiTFX2sLGgyS7RGoW562apl9k8aR2qdWHr1eg+FBBwTnseLA21qKKV3qWA+xWztL0S1fdY99aQT3CrbIBz5f6IPOUA+uilMlwORQA00uDQQD1Ht9aUW97DJ2qApa2R9YtTZrpg6O9BwxAjDCqvbN1kgSDVi6Kof++yPSsX9ZIINoaWQACouMMN3WJ4MoA+P53tnQdaxAxR5qgtgt8uT6Bzn1QhqQFH8HXrhbQMIAo6ZBqZkbeGqS9AdLbV4Ajm6PZSEXcuijvsqNELk17TzoBf7110MiZTqnFZkPaSh4WaGn2u1Nv2dlHKzBKbyCF9TODULad87ivGnwKMKxs3Rq9PEWO6ttRuh5WC0taccWogCYW0LwIbH2SVPTvOVAI6xhN-Ik1hMGdI+5P604WYCanag3k+wEZ-UHdaQKLNJZU9QNTdXtNpwFcZp8oBJP+l3QwVFHHNvJh41NlQfyHmgdUGnCMhLiWn1Jby7RwdjvxYS89jb7IpNdGnZll7jRpEKd3uw6J0XW2SMzQJ6k2XknbGQ75s7+UxIqKMZWv7ib2GcKYekmd+qf1NIs2dtHismltLyRWt9GxqzQNFKK-HFP03NheE0nhBGZL4ZdYzJNS3wmY7J1JmnyGls05Qegs7-PCfKKqYj6RT2zCk8OHgBeTBWDsDXlwTeaAwadZ1rm-NqgHSwuzSN7IuR8i69ANW0A8z0SotzbakxvTGD9J17HLIOQ8hUKdNghQLQXiWHhkOro391k6Qh1oml+jhYvAu1zpzExkoTQ8JCpCwZMuh6sAYiPo3BSM7lgHcF8eiVQoFp8vXF8-zV0+Q+PP9JE8twIG3FPdL8DF9Yo9UG+AXiHX7rqCpWKm-bWBk9NvoAXqd-5Fym7PKYqN-uTJFv+1B8QzHYzCHMqaIAL0EUafD1Y8r8WLJ+VRQR86x30sJpvfnOl-kslBnwFj+J3lkhwn+-rSn83xPHu+FT-I662QIOZpoh0XHzJVTD6yzUvF7Blw2RwyXg5FUBALB0VHYggPHR-2oAulTm2UMnkEzXWGj1AFBHBE+UwKz2GB-XeAnD1gNm5SAL0AswqGkAGA2WD0wKsgwmnQ9TPzsHwIhAa2yDYPHHjR0mgJJBpxMiEPkF+BwIeQ7DEJrzEMA1EMwIkK5lwN7BkMX3tgJUCwANmFu0vWsiBXp0e1AGcBNAnGsVf22l0CiHeBYIbDNkt10isJsP3lJjNy4NUCYJgJ4IMNABcMZWMNMO0Oa0CF-hyGiBsO8LNgAB5HDwi3hVA-CqNiF7cjVVAWQAAVLIdRYgQUVlJwFWAUSBBuf3YCUAAAalNxe1DEiCiEOXTn0LNgqNkxZHKMqOe2qOiDqISOOyrVxTtwdwyKyPwHkAmTyPZkKOyUoBKJaIqK+0CA6NqPwHqNYMMCaNZFaLmPMAWK6L8K-3ciyAgSgW8OQ28NB0CGQNmBkCyEsjgMaB0jm1sN4MMKBSM0FRLzoMeJeM2OIVPiuOoEsk2PxRQL-yHioLu1+02N-m8KDQxA7EiOCNxSfg7ESJeyhOUxzk+NJheF7F2Mc2dUaBPWoRhKtyxFc0oMAN5VeKCENW4P0NZBGUyFaDkw5CdVKCIy-TqR-TEIsygOYNJzqRkgeLkMiMII5EZUBPOMwPkNFJJCKzZP3XgLsGoT+JuNg1Z3tnJ2ONFVON8JUDOPMAuJVNgPMLKzMHuPRMiOeP4wFPeK9kxIRMSWjSNMBLhl-xqO0N0OAOsQdJa2hIcLhIaJ9MdIukVmRKMP3iDN9PRK4kDOxI-x6NWzSABXQUJNPmJMxHIKXXJJ0Inw31NOpJSNpIwnpOIEZKJWZJJDtUKSkyykTMIxKxIzSC5MwJ5NQ2uT5LVJtNYiFKlJFJkKlxZTkI9RlPELrJYwVNwOVLAVVMY1l3nmqkXmXiV04A3l4AwA12zBeUuXeUL1uXdgjkSkv0ZBNS3LeTv3tlPL90kHORLliSqz3PHmpAChhW3B-UvKuXl122SmAQAhZCVFk3MCVFxXFPqVjy7AArMC7GAql1-K4IgrwLBEYGgp-Nj3zHgvzGQtAp9E9kqFkxwukGGhArMVjzqjoBLiUEdReFIvItyJ-CIqCF-JpIgppLqXosCF-P1HeA4WcDoGDE4reG4oYEaDYvMF-LKPgvMEd1AEFEMBDXN1aNopErMF-IWQkrMCkpkpE3kuWUUpgtjxkxeDSA0tktDXmTE2krMCUufh9GADUuOQdBeE0rkvmTAF0pQp9AAFI7LjKtL5kPKLLQArLfzLcJKfLnL0yZK9KfQABCdEUKhy6Sky+S2K1FSK9yu4FkKI7yhKpy0y0AGIswNKrCjKqI1ENSsKvK0qwqoK2PYNbKxypK+ZUNaqqKjK4NMqwywICq+S9qlq9KtI6Kuy+SwIOSswaK8wXXYBbkN8iIV5K8ipSIoNdBf1JUF4d8nc+MWWGa85bcgveMMUZwAAKw9x22WqLnpTsDktgtmu3Nk2fIZTiwpXWr2oJFliwG2rmquXhTyFNgswAl-O3U1Vk0Bt3Ssu+3Ytj0gGIB3TkEorMChphv1jBvBuUtj34skFgEgAgvRsxuRpRo4tggEoAFF4L0aia8bwbfyAA5JQKmuymmqmyMhLaakzBFZ6762sRa1EM6yyI5OS6Q-w9m1mn6ra1mvAm6t5JtdKWsD1Jaxof1Pm0NZ8uLcWnayWjm2LBgnSB1EtNW+a6FEgXZH5fMDgx5Ypa8lTdVRgYpd0w6pQeYJTCIJdSjZlZ6m8nIQMe8hlAcxoQeE2voIIdUhaEMyBD03M60U2zQ-PME8lSlALIlVQZ6hahol4CU1Wz6z4DWkQimwIeO7oJOtuagI6k61O77IWp8H6+QnO8wMg3WLMsO6ggwbcHIBFWuqIIOEwmYGOxIWbLYKBbuiOhguXBchXFeDgdebgTADcxaWgcIJQCgSQWGMIKifURgUOUCSgcCHIU2z2FwNwAKDere0c4IpEyeIiHEo8TeiCY+1olkSQGYszMMLog+y+o+gcdBX+F+sCa+v2HSaofUAmGlT3G0Go60h5ee0gJwK2Dae4XZUgUgJKhgColpeB9MlkFop+dBvzYCdYioiB6un8dB2mMMAQxmEgAyC6EBu0VladVpcho8C6X4AASEVMfpqNvrSNaP-pEguiAZ439ToeIAoawJobuSaP0BZEPzsHoeFk+CmBYEjR3stmtkHhPuAjoJZA-odmSlUdADhBYVPQ+N7FUeKB8DYnfyIhMdABSuAgfi5HQSfgInYl0YcJZDsbN3lWUAXqXoJEkFXtDlUdt3nUTEmKblnF0f0dxSJGlC5XhyqRMZ9Mwc4YqJkbQPkacezj2UUbEbaNMRaIfuONsmQVifUniZ+Ryao3ydaNSbkcUAUYCiyYSdWMqYkaCZqbSLQqNqjRqa+Dqd6NKDkXcMCalVe2EbSLgpeAAg7FUbjMsfKf8J6fkeCLsXCBqMUYceAgAHIH7B5b7tmtHtiljFGpHRmGHPhYZGAfILnNLQD4plG1ASQ96IQOxrmCG6lfy8gWhmijVmjxkgxixTRFB-mb8rZOR36Rn2mXnFhLn-DexXmXhFm+mtHIX2J4XXh8I0WenXn1CFprm6xZkHQS1g5xJYCnRYU9MOFQmqtJxMMmyxbk6MILN0FCmkEYCSn+p8gaWxyZ71tnRiXAX6Q9kLN-U8WZlzhCW+X4ZTQunPUyXuXsM24-SMQWQ4KNn3COxJXxJrg9l-CApNWBWOEflSZ+mWsGWGw0G0K1XmApWLpBWjWtGzXsg0G7aHbSAnaCdxxNGRn3DHXpAfa0h-UXWTQ3XKAl1AMiWbWZXSXNBwWBmEKCDfW1rrWtW7Xfk6z2Tj1QVomlguWSMZ9Y87GQx9DEE7JpQuX2sGyytb0nR2sg7dRrUc2yWLDz93CaWNmOw23bEqFCzo2SzzUpk3dSn+QG3zyFon86MaXm3NzELo21HwCyWtGaTe3hlRlxkB2xc3pZ6VZA9GY-QgWqJyBqBU5jQWg2huhJ3bnqQG3Z20G93GAgwTmkRBXAX72qILEL3WGOxx3ZWY2Qo8B-jr5fHzhr61q81ClyyrhyA55R7Fo3gi4phQAwZjkLoFowY1c1cCENk-Rg5VAjRM9NgNBGAWgwGcI7nJQ7SfcjViPEnXs2gd0uggnCZGo8OHJ2IOxKOiPjXIzT7s4OPqOqN-NTQcOWP0WiI+PjWcXdQIdgOchVBYVJsHsZgZOgNrKMqxNlOZM6zXUDjIFcP5ADYeAXg8PJAXpGyeXTMkVnBlOLNsPSA9ODPZm1AjslO37uWzAKWQaeNLPlPaXTEZJPO91GgM2zPAgf0+ObOhO7PjP+BHP7hCArPXO8S3iyOAuxVsEqOmaggn4AvITRO1A+O3PQBmN8SDSC5m1737PJBDPQBovnjFgqSf1vOj6Iu6BhP9OqvYvnPsQf7CuPOiUNVd04uEueuQutirBsQiIuvlP-XTF3CAJjPqv3DavdTV9HqUbIL8IpvXPCvgv8zQuxbwvUVbPKuYu8uhufPCv0gs3mh+v6PugCujMmHGgQyJvMJ4vpusAnuy6Z2lv2vTvT8ZuEsuJ3vtuBgvuzBdvMsXvew+O6vxCkvCMmMJzSv7ZqLYJSB4iWAqTzILWdPNAvW8VQE8ffNf42BXHIgLp72CfKUn4KegWvt+jUiWA+2127AAP0sqzlPWSIfWG0fyAMfXyxb2etNuuchhWNFRelgWb1tIOLNhegOj6Om8etI3ywPUV5eD3FeWQ6eqfuRGCJfnBIg6pohujv6cg4fTb3DD6QOVv6uTnDee1-9rfZOHfjefgp3zHuhXeaia9venfxxzsjefePfew-efh7eg--9Ih2yYDneRGZCPfju4+Xg1Ds9d4HQrtTer7zfbf4-FCPf3CIcw+s+j6LeU-FDJP+IpBQIb3L3z9I4jy7hJxWQ7G9jCQK69BN6I1m+mB7JXsyz6RQJJA4OiUchGBYU-7-iSkm38yKWa-c29u1tTMw+htI+h5o+xDl3U+uyLZONbvNVA-Hefhvj++Ft88h+R+Wgx+t-FDcuNBNAfIw-kMw+5SkyGyKXW25XRvSPqR3D7+fIO2crF4P-wxJcsdulbLDJeEnAI9iuPPXAiAJpaV8xAoYXICwEpY2p88bQQ8IKC87VcsBFFa4HQFM519swHxOgIdA2b4CcB9IIgXJy0bqtpYh0QHpJUQbhBUB6ArQlQK85sDiQr3e4EwLTovYuBNAl6DXkiBTAXcVyYQfwKoqHoCBIgpRuR2tjkC1Gwg0IPwDoFdsGB2cFQcwPUpJVxBigSQZ8GkFqDaBbzYaHJy0ooDeBXEQ6LPHuI8C0B+AQ8FCHOpfISOlcFwbBEJSRRLAxIG0OwIVqG0BQv9RmN4PIC+CbBCjaIYoLIFOC1GdBLRoYOtq5ApBcg6gS7VMRwkEhgPKwXJQiFRCnBgQ2wdPH8FY8HBbODPloUORS1bgqYZPqAGEhAQE+WOMWiv1RRP8N+zBRodv3Kw3c6OB-F-mbijrdBGhzQ8vmKSCaghIhA6Pxuj3iJP9RUL-KirBEmGykkBnBHwXMM4oY9E6awpoQcNaGsNuSrjfAKuC6AtENmLIc4aqEuGLtrojUGYasKSAbNuSZgZIdXyPD7DXhIzUYdeQlDnR6h1oZ4YcJaG38u2pyH7rBFhDwgoRBBZoWoxmHfR5h-PeIr2BmEWDGgvYREXoOGjIidhCwjJvnRhF4jwaHYXEYIMpQyFlmwEW4TkC+abCBQNRFuvVmKEm4SB8bCEAlXyGho6CbfWDtggNAcIVMd7E8GKPGAvA8WoIvFscP27rZdhAlJVCigQqzDbAqIvYdKIOESjaApddbrillEV9WGiokGEimVRoN6R9wkZkkK7YglWRKmaIR4QWGmiJUTIwgGgSN6OgfhighYsSO9ECjIOfg1AfZ2q54diBGwRrhZkg4hijO+nYfKwxCCpczYT8OgtgzoBMjPRhLYzuKG9H9YxaeHCzBqxhFM4S8NfPDoYEwZ2NsGeHZulYFADpEAAEkTUkAABBcAOACJoAAldIpAAADyVNZAKijoJa1whVgDHhwhfavUfh30dYeIQ97ujPgmY6cQOjUaBjMx2rSceFgJG2BaRgYlQJ9E3EmYTme4yoBOMp5TjTajY5sW2I7Hdi+xA448eN3XHPtzxW47YTuI96BjHRmYyQNmP2jbjiA-hX0IeOIALJohO7e2DuhfH7sTMy42wLONNrRDrkrg-1J5maFOARMX2DHkKJFFniYJ+QdCcz1VEzje+spPQcMTRF4TX2sEgCQhJCgt0LAoLZNCQAQ6ooAADCOPtgJAJku0JiUUkbgi9KA3QPXExI0AsTFAFmRgKJLP4IcKiPAEsaxCkmQQxJ6+RgCcwhzcSxwZvE-K-Rt5KTjQVLXxkJMt4zs3GsmdwvpPQE5IjJXuM7nHwHBMjLA-8LSdn2nAW0xUoLeTgdz4mGSqIQk2giMV4mQR+JYTFTEJLk4EYdIbAz4BMhUChwP2N6Usd8MnYUon4GkwKXH2XaWSQpgkloEGUGYztO2piJ+O4WimSBYp0gUOIAN-Zkia6lgGKXFNAFyt8pg7WtioXqnlTGp+kgUW0AwHEcxQnLJ0IYW0kIT7kUUjqRVPilUk5+yU3zsNEJKPC1AjQ0ct-yCAyRrcCPYrJ+lKyZYBsq-I-hbRj5lsEJm00jCXlS7OBMuIzc4UekEG-wypk0w-m72f6v8fwwwJhpDx34ttCphgTLE-AemNSO2dyPwK8AmmNTwCJrPogQGOzyAYByPH-kCABmVTZ2TI-4bUO0Cuhr6JfG3vvFGltD1sHQ4wmv0Omb9ehRoq7scnGqJj9+g3F-tj0vAkA6iGoxYcTOWFr9-CVIwILjNInw9cmRXd-tdy0ndFpA66b7HgDEwSzv07QtfvtOendDY+epHmYVxkhUyBhA3HjMMJp6vYmZio7Geb05mBAlhAfFYQbINIQi8UvSaoQnUaHcy+hEPAWccl6mBYpAs4bmWTLFISFxZksxKaxBuEXDGR+6CAT7OpCjC9ZIjW2eTOdRsYFojMpYszMTqLdTucoh5KcOVaWivm1w9OdTx-hUJFpCctai9DeGYFPhQszQIdD5kgI3cV2AESCFQJmgsZZcguQhJLk19NApnDZmjIlAYz65snNuWtWq4J9QAXssTCXPcJlzYRwIMeYXIhbEAdZRIjEQIO+wYiXotUoILHINi6yNWi8-UaUA1YrzTZpQGkVoz9l3CA50c3cOFFBaQggcighvu1EgzMgQWOQUdsdFoAHh3RjEbqR7wCjdSa8lkixF-M5H4UMSMPTyZDMrkfNpAsUwUDmiklgstGAUUBdvUqEaktkHCIKUsH0lSjoWzyd8cQGwWKADYycswD+gPBG4MFkk3QByBclH0pAkQDydvQmxi115Lo80cBlxQsLdZWotUfgs5mPh354uF3Cpm6mrzSghosUgpK3Szy45yoi0f7OzmVybRcbUDIvRwUMLPgFiMhclhEVQ8WRVgNkeUNUAsLlRs8BiVeMkCdihkAAGSJqDjWs9BaehRPHH6STItEpWfOI9H9cHQcEwCRszXFeLrgLinxbuPG77iMFJkGvCeJmBBLLxTYixdYtsWPjFYz48JcEo95IS86WQupF+OKE-i-xwS0RWkBZD6SwJTgrkHoJyWGKzJqUUFqUvKFcgBROtIJW4uIWVwkJEQ1CXin0laUvsOtESPpPUVrU8FCE8iWOKVGgtXFwypWQKLNBxBII1zVQNwpInCkEh6SpwchNgidLD5LZOShSgyXFxOBGQnjJliglUSpxSygdCMsyy8izaBsIJRcvgnTKByKy8oQKJUULLrms4oMcSC8nrZLowgKMVYE7CCgbUiynBUBPeU4LuelcamYMMG7-KGUZuWZbeVUWEKwVhCr5bEKCYIr8g37dFTC0xUJCMxdCrxYr0xEe9oYqzE3kWM1BfhgQNfGlSguDqHtLAZyvyWFK8UtIQJ5LQWZmMV46jAJDXfMfpwsx5L2uOYgVYV1IU2AnJisAVd8rJ6AlKlwYkTsBNfG0A6lqA6FYEE0B5p7OALdVaBPAmA8hmIEl4Dcsgb25EgbKgxagNemfSo5GyMIEak+CWTo+S4wBRGLFoASLM-CmiFUm6kEYKWfKhuXgrmlBAf0BY1FGKoNg5iAJUqsWpatlUYKFVctBLMqoCGqqSl4EwrrqruBZralxqp6jOywXHIkqSa61ZZNiHpsg5jqrDqexTVGobV+QSVRSsvmydW1GzJ9hgq5WGraR3agVb2vwk14B1IEoddRMAn3JnVrK+Ve6s5WSqmF62bINBInU7Z6xcSm8V2J7H9jwABGcxZurvE7qLMpqw1eaqSrLrm1J2BGXYBZDgJJGafXUN2oGWer5iLK11UxLnVtBvFgar1UuukD0gXFFmcxZYpsW7qNgwGhJXYosmgsz1WlC9S4rrIyRb1CcYlXXWXSPhDqHyL1HELtLYaTmOGDDfiGjaeDu457J0KQ3th5ZCNIgH9iRrAL4Q8ND6qvmhoNikVMNhebDW2qUFqBGNdsBaDhjY1EbONnI6qRRoWh5ZBNNG4jabXnZxoa8CQKIBlHpALLhNn7RAuRoFEYbqA9C6jRQGnQvK7VXGskk2nY3xh3AxAUzbFiLnULohWjLTfQqo20BLNHSCzfiCxJzFIVaKgjU5qI26bYsxicHt9gM0-KQoeatIp82aKebLme+JzdpsAmcSFobGuLaoEk16bCVryozRQSggSBLNjEVLVZutE+ZIRqk4wepmwHHK8UUW7ZG2Xy0pactbm-wsFqx4BajKSVJLQ5unChZ6tUm-Le5sC3MomtfsMLbesYCRbC05zKFVRRy1xa9eOkBTRtD2TpbDNnI9pShPOqeZThwaT7j+GAVVbeM8gRTZ7lRWXNI07mnefMT0WHsHRxQmkQQn62Vy7R+i67YYpkKfcnuv8Ogi1qCCDbcQw2v5mNvRQKBjtcNebQoFm1VDsEeaRtjGw95nYe+bdDur1AHpN062-IINo7VDYetV8p2pbT8vPCCl1lHS9baYk20mJHQkOiNBT2fBUANoEpaZka0a1EEJSCRFPiZUEFLtZgeoneaalXYWpVRupJCkslKJlE3t-WlkOjpDZhsmkDSmjo9qu0KqRyPpD7V7Bm4-aeQw2iXe60AwA7w0E2whbJk12Y6MMDBH9PqEJbUVsBFmAAJwDAdIFuiigrs8F26JANFBVdeSmCQgXgk62foLPiHhqtpxGE9JdQxBsSqSgQe3T5E2abNWQaAWPdqo-TEZF+ZgCPX6LCCvTGgEet3S-G4LrLyo-hOwMsg7xI9xy4el3dgKz0e7p0Zu7LWRWwGNKoFFFWBR-GTAurcdWPD3k1t+16rfQDemBV8DgU67a0eu6Lbsl71N74eOAH9JEDzVEs9YFmFkNc3EBCM80AeBLbqDxYtAIgf0RgEaV+WmZp9avcWloDuAH7FYfLPWHWQpYfFT9-u8wCnpZBLJlkd6I1K8DqaRAlNdqVSjWu2lmcf0l0CzKK0FAEsI2JLMZqftvp9AGlCPe-Y-uWSb6-cSFackvrzWf6lk8e5PWXoopGKhGZzYHYsvT3BBQU8qw9sew4SnseMl0W-WkCfVMSm1g60dYapGxjZKDl3O-ZgZ8gsgWxIEwpOQZaCvBqAYIpQAEQuhoB0D-Mn-UnqaHsG0isBoXYvuVEMBZDaB1kGIdL216HdjozzEhK2WcodlW2jlFizUVvb0gHfGnRGkuizjzVnO0AJICSpnwLBe2iw8yOiD2iFd-IhycXrEU4KoIW+xQLvtrbnz+Q+rKQAstP305FAmQM0EjTzF-KAD3hsVnMhAOmh9hsjE5MvoRRNFIDr0k9NvsiOw1rGyrM0GESDBUkYDQu4I6AEX3gHP95YCuWwfUM+RDDaKlgwHV26wCQUxyYg0e1cBkGz2+BqkjQcgh0Gx1DB-CUwauYEH3OoKXI6gXyM2MWQRRuaKtLKOP7qyhqng2e1QNoH+g4hxPe0YdVpAVjqx+Q9OGRSKGlDYhzPZobqTaHid1IvQ4CSaMnaqRVOn6l3yWBOGxCVh1nVpXsNkjHDIYS7baoCHuH7VvEYI3gc2ZiiWkp7KMNoljwAAhOQHVFPbPzWQCJ3QOUtU5pFwANEEkIwB0KVAaYwETsUJKuCgBOx1AJELJh4Ch7+w0e4CIsb0BaQITCyqE5ONUCHUi68Jn0EifIAomr+xJlkBic0j+FfyuwKHaNtZATJKAAALyPBfMBwDJhY3cOZPchWTai9k+ePuAqAjwPkX8nyYFNongIIprEwADY2Jlpuk8qaZMlGGCGptFVqaBYwnN9JLX8g2PnpGgpTwEFscUlNBKBmisALE7+WgAKIIgLQK4M0QACyfoUAC2L+iyYAA7AAA4lTrIW0yyeTamhIT0Jrk84B5MZUPTIcRQM0V9MwK6AAZ1kEGbFOx4JTUwZonyyiCGR8TMum06qbtNYAHTJ2p0xVwrNvh9TseIs16dLN+mKzgZrEygCtPWn0z7ZzM-yxCOanoTSKG1ASYkCpF3Tnpks6yDLP+nxzNZ3k8iaEmCnmipptM4ydnN68uzke6E0+zhO-kAAYh7maLQA4aLIAACLBnY8oZlwOGcjPbmSQDAcANFOBYQx6TM54o3OZtY5mOTeZgs2kUfMUBnzr5j8-uYyp1mtzwERs82ZLNnmVTEF9U1mYXOOmlzupk7Q+afOsgXzzRFCy8DBgABWK02BfPP4WBgV51QD2bvCQJFAOhVrhCHIuIXKLyFz8wef5NHnjTwpzE7hYzOXnCL0F7U7ebdOx50iEyXIAaDkDNErFmUZoiTVQtpEETqBK7SeYooQAYkFJqk18xeD8BRB+gNsyxc7OyW2TuZ7k7+WUuqX1LrITSywG0vCW0LWgSU80QUAY9Z5pATeqKaYt4W5orFhy4uY5N9m9TcFjIipcNDuXgInl7y-4X4AMXLT4V6S1FfnNyXnTy57i2ub4tKWkral4FiyDSusgdLkzRE4edRNCnTzOVi8-aeivEWOTCl5I7+U7G5BWuCQb01VYWwSAfLOJvE8VaJOBnOg9Y+qWZepMvBkzdJmy+Bciv2X8rjlmC85djy9WTQOgQa1YuGu8VdLceOIP5dZBYXiQLZ1kHPU6BgsWrdltixxZ1P9mErO1-qxhaGuEARr-hMGFOfuurXHrS5ri6ud4uvW+re1jS4ddGssghzH1nc2OarOtmVraptq+tZivamirIN9c-VdEuNWTzkluqz6AADqR4ZwIQBDi8VWQvY2QNvqRvMXVra1qCxtfkuwnFLxN0m+TYNCU3gI1NhA9DfAAqWiTdAHIK+cyKaBQADY3IOLcpPUmpLrVxm+JAKsVdYLv5Em4wDJsU3mivN2m8daRAXJZ5oYLTM0UN5RBmiEyD4IejpsRWUbCt7M8zcKukWBz7N9W5ze5sshtbOF9vFleyvLX6bNt220Re7M3nWb3V2POADdZZA-zwEImq4FFOE2MqRNzrQNFZDgA4O3kUAFYryDEnaTcth6+1aDubX8zv5cO8wGoBR2WQMdgm9id9DwMZJNRZohjymL4BmiEDGST9Stu5WA7Stu8I7YSsl3I7Qpyu3HdACJnvb-1m24DdivA2eL2Nn0P3bLuD3Y70NtWxra5ta2abOF8ex2a7v22KuXVkyCGePDYTKrlJ1wLr3jtpFfTQKQy6yCpoS2jwoEPg0BfqnAseAZp3OwDfzvXnC7CV6AEfY+An2i6QLaG63ZYn130zIbP6ANY7vy3J7GN3u4fYWFWBmip94B-4R4CLWfbtlz+2jY6sY3p7JV3+--eQeshUH596u-PfLtD2YHdlne+jedP72ErLYr2NRfkBE25AJRi+yyFxP5FVzk1qm7PLEDgBHhlgWTHRY-sT2v77Fpy0XdjzMPcKrIN82w44cgOWg+t24OlmaIocAQepmhzg6Zv0PezCDuRyw8UfKPIhWJzK4xd9vW2OzcDwqwQ9Bu-l5H0gVh+w4sfHWV7rt9e3zYkfb37HFXYLC0CPYq3azfl+s9KblMKnob6FwaxdZYAtm-HkFxW7vYLDJZgnkgUJz6Fidm2onRHGJ+E4+uBW3gwV0K3o-9sBO0nKmDJ1k98unWInmF5gE2cuue3q7OT8600+wuDWbrCQO6zY87t0O8HzpoJyE62s+g9bkQDR0bfTPYIdH0W3W2o8meG24Iscc0GbYtuuOkn4OyCW2TyB0AVLEIG-TEdMz-7UUgB4A8EZSOUNwDmRqA7+tMxiE11AJ5w+3Se1uGvYr0-XB8UedqM2QAhxUew2aEBnPuaqHA7IzwOvHO+G0Jw9IUwJYljk1hqfHJXsNMjDdUu2VJc4Sn9CrJAkk8EVMfjV2cpKz2vALCJyDSY2eIwNvbWDZa7CcwRqNmAJLnIJ8XWXau4WwFDFsimMBLlouxrYupdn9AA59I4TpxWTtK5-q7shYAyT-CaLrHR-GJAyTQAoaX69Y82bcg8AgNkV73fFe6jCkUrliTK+pcY70X2OhVyxKVeIc-rNjmYxdHLBAA')">function javascript_value_process(exp) {
    return is_application(exp)
        ? list("application", function_expression(exp),
               map(javascript_value_process, args(exp)))
        : is_name(exp)
        ? list("?", symbol_of_name(exp))
        : exp;
}
</pre></div></div>
	</p></div>
      </span></td></tr></table>

    <div class='permalink'>
<a name='p55' class='permalink'></a><p>
      Once the variables are transformed in this way, the variables in a
      pattern are lists starting with
      
	<span style="color:green">
	  <kbd>?</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>"?"</kbd>
	</span>
      
      and the
      
	<span style="color:green">constant symbols</span>
	<span style="color:blue">strings</span>
      
      (which need to be recognized for
      data-base indexing, section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) are
      just
      
	<span style="color:green">
	  the symbols.
	</span>
	<span style="color:blue">
	  the strings.
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (var? exp)
  (tagged-list? exp '?))

(define (constant-symbol? exp) (symbol? exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+7gYBIQw+DMGwUBwIgyDoHwPD+wt8jzDRG0bno9rELMkvI1IkyKI1R8GBsaQAPy6XI18zPvix9vfQQAFzAlKpLqiKF-QIT8g7UANIQTQ6EGzUQ-kKDCYoJT-z7CfM+wDzC-z3PIA8METy330OgswT8969QongwBx9QC6DQcNTBiZXSlmtPgwhoBiH70kCOVMt9UEENocCd6N8KF32Gmw3qAjGx7CAtQ3hP46EyGJCpESBUNKfxEXqQ0nwkKqA8iCGCRlFAmXwU8Fhw00g6LTigqhp8ZGNDkVTY2qifyiJmPY+G9xmbGyVuzSx0iWFyOTqHZhaiSEzACWmHhfjgRpSii7AsQibGlGcSDRcXiuFCIiXwwuxdS6UVnEEpxoB67SB8iEwgG0kLDwkj46xxjTGlB2rZd+05VCD0qeMQx8SeEJLSL-RQzAITcOAgAVWIAaYg1AADudghR6CUA6UAABaBZVD34ZWxjjQp2SfLCBeIPM2GZKD4FAKoEIzpKAsHqn9SQWjhD9mYpnTZJcDZnIub9TR1VVA7MKYwKIstzCDCodIC64gjknKkGSVo1yPm3LJuYc65BNh0Ctgi1EKyFjlLbhY25tS6m4sCI6BQxB6TUPBLQGKJi8U-gqQZDkxlPkkH0DiylzLvm-KZSyvFFSSXMBrHcGF3I0gyRCBFJpqgXTIu6Y0J+IrxySEfISu44rpDCLqb-Vo7ROgtAGP8wFwKMzmD6dQCEXyWQjLGZM1u9t9aaHkIs5ZRTBRaX+bxHSDSJRNJMpOOgPD7mVwsi0n5oBUQAD40UHwUAG8MViz4Rk0LbHeuoQlytoHVKaEjag+v1UKqQ4RCDvBKasiN4iQSWDWofTp0b+wmOcWUotKbuofWTfQDxcSmxFAyXw0p5aiUNt6l9RQP1KB-WqWfbcOkk2uJNt6yt9zDnHJCJlTQ+tDZExtnc-VC5qTqo6AkLVGwAXyCBbaudYL5FOxiTFX2sLGgyS7RGoW562apl9k8aR2qdWHr1eg+FBBwTnseLA21qKKV3qWA+xWztL0S1fdY99aQT3CrbIBz5f6IPOUA+uilMlwORQA00uDQQD1Ht9aUW97DJ2qApa2R9YtTZrpg6O9BwxAjDCqvbN1kgSDVi6Kof++yPSsX9ZIINoaWQACouMMN3WJ4MoA+P53tnQdaxAxR5qgtgt8uT6Bzn1QhqQFH8HXrhbQMIAo6ZBqZkbeGqS9AdLbV4Ajm6PZSEXcuijvsqNELk17TzoBf7110MiZTqnFZkPaSh4WaGn2u1Nv2dlHKzBKbyCF9TODULad87ivGnwKMKxs3Rq9PEWO6ttRuh5WC0taccWogCYW0LwIbH2SVPTvOVAI6xhN-Ik1hMGdI+5P604WYCanag3k+wEZ-UHdaQKLNJZU9QNTdXtNpwFcZp8oBJP+l3QwVFHHNvJh41NlQfyHmgdUGnCMhLiWn1Jby7RwdjvxYS89jb7IpNdGnZll7jRpEKd3uw6J0XW2SMzQJ6k2XknbGQ75s7+UxIqKMZWv7ib2GcKYekmd+qf1NIs2dtHismltLyRWt9GxqzQNFKK-HFP03NheE0nhBGZL4ZdYzJNS3wmY7J1JmnyGls05Qegs7-PCfKKqYj6RT2zCk8OHgBeTBWDsDXlwTeaAwadZ1rm-NqgHSwuzSN7IuR8i69ANW0A8z0SotzbakxvTGD9J17HLIOQ8hUKdNghQLQXiWHhkOro391k6Qh1oml+jhYvAu1zpzExkoTQ8JCpCwZMuh6sAYiPo3BSM7lgHcF8eiVQoFp8vXF8-zV0+Q+PP9JE8twIG3FPdL8DF9Yo9UG+AXiHX7rqCpWKm-bWBk9NvoAXqd-5Fym7PKYqN-uTJFv+1B8QzHYzCHMqaIAL0EUafD1Y8r8WLJ+VRQR86x30sJpvfnOl-kslBnwFj+J3lkhwn+-rSn83xPHu+FT-I662QIOZpoh0XHzJVTD6yzUvF7Blw2RwyXg5FUBALB0VHYggPHR-2oAulTm2UMnkEzXWGj1AFBHBE+UwKz2GB-XeAnD1gNm5SAL0AswqGkAGA2WD0wKsgwmnQ9TPzsHwIhAa2yDYPHHjR0mgJJBpxMiEPkF+BwIeQ7DEJrzEMA1EMwIkK5lwN7BkMX3tgJUCwANmFu0vWsiBXp0e1AGcBNAnGsVf22l0CiHeBYIbDNkt10isJsP3lJjNy4NUCYJgJ4IMNABcMZWMNMO0Oa0CF-hyGiBsO8LNgAB5HDwi3hVA-CqNiF7cjVVAWQAAVLIdRYgQUVlJwFWAUSBBuf3YCUAAAalNxe1DEiCiEOXTn0LNgqNkxZHKMqOe2qOiDqISOOyrVxTtwdwyKyPwHkAmTyPZkKOyUoBKJaIqK+0CA6NqPwHqNYMMCaNZFaLmPMAWK6L8K-3ciyAgSgW8OQ28NB0CGQNmBkCyEsjgMaB0jm1sN4MMKBSM0FRLzoMeJeM2OIVPiuOoEsk2PxRQL-yHioLu1+02N-m8KDQxA7EiOCNxSfg7ESJeyhOUxzk+NJheF7F2Mc2dUaBPWoRhKtyxFc0oMAN5VeKCENW4P0NZBGUyFaDkw5CdVKCIy-TqR-TEIsygOYNJzqRkgeLkMiMII5EZUBPOMwPkNFJJCKzZP3XgLsGoT+JuNg1Z3tnJ2ONFVON8JUDOPMAuJVNgPMLKzMHuPRMiOeP4wFPeK9kxIRMSWjSNMBLhl-xqO0N0OAOsQdJa2hIcLhIaJ9MdIukVmRKMP3iDN9PRK4kDOxI-x6NWzSABXQUJNPmJMxHIKXXJJ0Inw31NOpJSNpIwnpOIEZKJWZJJDtUKSkyykTMIxKxIzSC5MwJ5NQ2uT5LVJtNYiFKlJFJkKlxZTkI9RlPELrJYwVNwOVLAVVMY1l3nmqkXmXiV04A3l4AwA12zBeUuXeUL1uXdgjkSkv0ZBNS3LeTv3tlPL90kHORLliSqz3PHmpAChhW3B-UvKuXl122SmAQAhZCVFk3MCVFxXFPqVjy7AArMC7GAql1-K4IgrwLBEYGgp-Nj3zHgvzGQtAp9E9kqFkxwukGGhArMVjzqjoBLiUEdReFIvItyJ-CIqCF-JpIgppLqXosCF-P1HeA4WcDoGDE4reG4oYEaDYvMF-LKPgvMEd1AEFEMBDXN1aNopErMF-IWQkrMCkpkpE3kuWUUpgtjxkxeDSA0tktDXmTE2krMCUufh9GADUuOQdBeE0rkvmTAF0pQp9AAFI7LjKtL5kPKLLQArLfzLcJKfLnL0yZK9KfQABCdEUKhy6Sky+S2K1FSK9yu4FkKI7yhKpy0y0AGIswNKrCjKqI1ENSsKvK0qwqoK2PYNbKxypK+ZUNaqqKjK4NMqwywICq+S9qlq9KtI6Kuy+SwIOSswaK8wXXYBbkN8iIV5K8ipSIoNdBf1JUF4d8nc+MWWGa85bcgveMMUZwAAKw9x22WqLnpTsDktgtmu3Nk2fIZTiwpXWr2oJFliwG2rmquXhTyFNgswAl-O3U1Vk0Bt3Ssu+3Ytj0gGIB3TkEorMChphv1jBvBuUtj34skFgEgAgvRsxuRpRo4tggEoAFF4L0aia8bwbfyAA5JQKmuymmqmyMhLaakzBFZ6762sRa1EM6yyI5OS6Q-w9m1mn6ra1mvAm6t5JtdKWsD1Jaxof1Pm0NZ8uLcWnayWjm2LBgnSB1EtNW+a6FEgXZH5fMDgx5Ypa8lTdVRgYpd0w6pQeYJTCIJdSjZlZ6m8nIQMe8hlAcxoQeE2voIIdUhaEMyBD03M60U2zQ-PME8lSlALIlVQZ6hahol4CU1Wz6z4DWkQimwIeO7oJOtuagI6k61O77IWp8H6+QnO8wMg3WLMsO6ggwbcHIBFWuqIIOEwmYGOxIWbLYKBbuiOhguXBchXFeDgdebgTADcxaWgcIJQCgSQWGMIKifURgUOUCSgcCHIU2z2FwNwAKDere0c4IpEyeIiHEo8TeiCY+1olkSQGYszMMLog+y+o+gcdBX+F+sCa+v2HSaofUAmGlT3G0Go60h5ee0gJwK2Dae4XZUgUgJKhgColpeB9MlkFop+dBvzYCdYioiB6un8dB2mMMAQxmEgAyC6EBu0VladVpcho8C6X4AASEVMfpqNvrSNaP-pEguiAZ439ToeIAoawJobuSaP0BZEPzsHoeFk+CmBYEjR3stmtkHhPuAjoJZA-odmSlUdADhBYVPQ+N7FUeKB8DYnfyIhMdABSuAgfi5HQSfgInYl0YcJZDsbN3lWUAXqXoJEkFXtDlUdt3nUTEmKblnF0f0dxSJGlC5XhyqRMZ9Mwc4YqJkbQPkacezj2UUbEbaNMRaIfuONsmQVifUniZ+Ryao3ydaNSbkcUAUYCiyYSdWMqYkaCZqbSLQqNqjRqa+Dqd6NKDkXcMCalVe2EbSLgpeAAg7FUbjMsfKf8J6fkeCLsXCBqMUYceAgAHIH7B5b7tmtHtiljFGpHRmGHPhYZGAfILnNLQD4plG1ASQ96IQOxrmCG6lfy8gWhmijVmjxkgxixTRFB-mb8rZOR36Rn2mXnFhLn-DexXmXhFm+mtHIX2J4XXh8I0WenXn1CFo7aHbSAnaCdZVnRg5xJYCnQlGOFQmqtJw1GPnqW4IXgSn+p8haWfa0h-U8WTQCXKAl1AMS1SXTQunPUKX+mWtomlhaWNnfy7GQx9DEE7JpRaXlm3dNAcXdRrm6xZkHQBX4ZTRyXNBYU9MqWG4wnWXRWSMuS24-TcmghCmkEYDmWO5zXDWxyZ71sSW9WLp6Q9kLN-VNWZlzgdXPXxJhWDW5TcDk6MI0G4KNn3COwQ3AWfWfksTzGVwiJE3vWOEU3wWBna8BYac0G0K43mAvXrg9ktGo2Gw0GuXHbeWiXV9NGRn3Cq3sh2WghOX7buXCX+XM2w3lWVWW3rW6TxbBWs29k6z2Tj1QUJXw2jMZ9Y9ZWBR5WimYDlX2sGyytb0nR2sg7dRrVJWKWLDz93CpWRmOwz282aSDWSzzUplVWWXXhBQbVzyFon86NaXj3NzELw2NnwCKWtHr3Jxb3xl72xc3pZ6VZA9GY-QgWqJyBqBU5jQWg2huhP3bnqQD3w20HYPGAgwTmkQfXAW8OqILF0PWGOx32RXXXtw8B-jr5fHzhr61q81ClyyrhyA55R7Fo3gi4phQAwZjkLoFowY1c1cCENk-Rg5VAjRM9NgNBGAWgwGcI7nJQ7SfcjUlPEnXs2gd0uggnCZGpZOHJ2IOwNPFPSYxW1EzPsFNPXC+jqy6BpPjP0WiJzOtO9jcYNFsRr7VBYVJsHsZgmOcg-r9Lgv5AZM6zXUDjIEZP5ADYeAXhZPJAXpGz3XTMkVnBwuLMpPSA4uEvZm1Ajsgu363WzBjWQaeNMvwvMMuyt0iUNVd08SzAp20vAgf13OcvTRnP4uUvCv7hCAsvSvmugh9dKvuh3Omaggn5xvITXO1BJuRvmN8SDSC5m08P8vJBEvQBkv+BnjFgqSf1quj6uunO8vkvtvexiufPt6yuQVgnOMGu9PkRBuauqT5irBsQiJrvwv23hp3CAILu1qf3dv9vRy-u8UrvAubvj6lvN2KUOvbPFPTueuDY9v5uBuhuf67v0gZ3mgnvNUxUkeWhauggmHGgQyvvMJXuj7jFyey6f33DQfdTV83nKUuIafsfuR6eWv4fmVKfex3OweceVukyJzVv7ZqLYJSB4iWAqTzIi2YvNAm28VQElffNf42BXHIgLo8OVfKUn4degWvt+jUiWAQOLVQB6P0sqzwvWSWvWGpfyAZfXyxbretMYe-XvPwu-OBgf0OOLN3fGOj6OmletI3zWPUUg-4OQ+WQje9fuRGDvPnBIg6pohujv6chhev2EKCDD7mOWeDuTmU+e1-98+chztU+ajTaOwS+0+fhi+q+y-xxK-S+fgc-ew6-q-G+2+Lb2yYDy+RGZCc-cuM+r6s+mAxSTmo7uhB+wemXFCc-3CIcu-0+5-C-xCF+p+93+IK69BN6I1gPJ+SQEXSyFt89QJJBeOiUchGBYU-7-iSkj38zjXQI522u1tTNV+oghsm+h5Ih++SrJ0Fv1lIjdcCIQcbq33r5TcQEr2MsvSEv7X8Wgt-G9sf3EJzcNAmgHyN-2Qzf8I29ZT9NOwe6nsLW+ZXAu4UwE+QL2orF4JQIxIDs4ehAj-ip2pCTglu4vFgUCDoG0t1W-IUMLkBYAmstCbQQ8IKCq7bcRBFFa4HQFS4Ydz8HxOgIdA2aSCxB9IGQX5y0bxtpYh0CHupUQbhABBQg-PCoKq4GDiQVPe4DoLTovYTBagl6DXkiBTAXcVyWwZYKoqHopBdgylgoKUEjNbBoQfgBoNsS59nm2gt5n5y0qODFAzgz4K4P8HqC2eP4CIXJX4HmCuIh0WePcTMGCD8Ah4KEOdS+TKdK4uQ2CISkiiWBiQNoQwQrUNoChf6jMEoeQDKGpCFGLQ7wXaTaEbM6CWjKIdbVyAuCPBqgl2qYjhLZCc6yQ0NI0OaHZCqhaQ6eBULl6ZC2cDoK7NeQlDnRbgqYdfsJCAjD8scYtb-r-174ACxCY-WnmgLrJjcCeu6KAdXzNwz8zhBfHYSAPQGmJf4oIJoQOj8bS94iOA0VHgKoqwQXhnnBCp8NsDfDne8RD4YCN2GL85BgsFsq43wCrgugLRDZiyGRGqhURgHa6I1GhGgAdhhgDZtyTMA9CpAb-D4USJGYz81hUtTYdaHxHPCLhZI3RAQUpF6N4QpyH9oSLjalCvhnFGXhiUpG6DhovYQkSKJ-AfDvoEIwUQm1giJCXsHYcUdYMpQyEVWGIlEV814FiAQSLderDMJNzwiQhUlCYa1mkAgiZe2CA0BwhUy4cTwdo8YC8E1b4jNWewjYD+gFECUlUKKUEdKM9GqBnRQIxznB1oCl0UaeKV0YoSZyXhPRIMJFMqjQaYicgXzLoT5mCG6irA+ohYR4R+FxiJU2o6RmgVT6OhE68onPtDFWbp85RfcHfmIA47lCBB+XbbrJ1kHuixaO2UABxybFJd4uw+VhhAOuFVdDAT8OgtgzoAFjxADXHVsl3FClj0wbY9bLJwszVjLhJeN-rJ2HG2MWiv8WTs3SsCgB0iAACSJqSAAAguAHABE0AASukUgAAB5KmsgFRR0EtaDQqwDLw4TEdXqc476MCJz6EAixU4n8QOjUb1jixDoctl+PCxSiQJWjesSoE+hQSTMJzeCZUE-G69vxptI8SePPGXibx94x8ShM+7gTIJGE6CXyNsCm16xLQk5FOMkAzj9oMEyiQCzIm0AFkLQ6DvbB3REdWJ2mJicQD-FGiWh1yPIf6k8w7CnAImL7JaJTjJYHRs4CSeb19EDpgRug4YpCPQkhi+JFEgSRcJCgt0LAoLZNCQH46ooAADK+PtgJAJku0IyUUkbge9KA3QPXEZI0AmTFAFmRgK5PP78cKiPAaMaxC8mQQ3J6+RgCcwhzWSxwmfE-K-QL5BTjQDLKiE5NNruE3GsmdwvFJNY5JfGTk-roPwHATjLA-8KKeP2nAW0xUoLfzmLUyn2SzW15FoLQRGK2TIItUxyc5IIw6QDBnwCZCoFDjkcb0a4o8NhwpRPwIpTUwfqgJqmJS0IyUilIMx-aXs1E7hLqZIB6nSBQ41A11hKJrqWBupvU+gaKyDK9Id2HAyuCtLWmhx4pIItoDaiJRSBZwR-dfm6POKMxzp+08Qml1f5DTRyzA+7rAVxFqB1+P0sgaRjAJeT5AYAj9MRhBlNkDhRw+vn31OFD8oxmWK4bp0J7OAYBjpZEUemsG-w3p6024c31XznZ8BjQYYEw1a4wzK4XIggh9MyxPwCZG0xAncj8CvBdpq0-aeASs6qoCAx2CGUxlOkyQmZ4bCcTSMOQghUCZoXzuv33iCSFxX-P-vDPdInDmCT0lGbj2OTjUBx6Mm4XgPl6XgSAdRGUb8L-64C-+-hFUYEDlkXCA6+6Bsl9IhARklCz2PAGJndnfoDhSs1FDgNVkD89Sts9BDJG1n49dZPGPAb5hm7EBjZ-ouflbMCB-CW+AI+OQaUUIa83cV2R4RPxtlqF7ZTAk9DdMCz3T8gNs9WWKQkJuyPZA01iBqKxFai850MoOZeAeGyyA5uc8cmxgWhGyliJsxOtt00Do9npDybkkiM1H69puwEJMdiOCGGc1AmgfuS9GJGYEWRFIw6La1gHiyJQ2gV0L53nlrVB5ac4ISEApGpcNmm8yWTvIr4Dy1q23YfqAErliYWR7heebCE5FSBn5i8iFtHJ7n+jewL87aUED-kvQAFgQbuQbH9EJsrB4Yn8Am2AUpzSgaorRrXOTGSNax2YeKZCCByUtI4R5GuEDlSigtX2x0WgAeAAmMQrpOfAKFdJryZSLEFCo0fhQxKC9KpPM8wKAljwqAepgoHNODPsbBCAozC27iCJ1oiQMF8Up0dC2eQ6SJFigA2EPLMA-oDwRuZqUBk2DFTB+UgSIBVO3oTYxaYCvMQmOAy4p9F-owMWCIElWzHwpC8XC7hUxXSQFaQSMdv1wL6LvRiYseamMqCAdC05zSRdos+AWIlFyWexZlgzEIcVMNE1xdOAlT6T9x2EyQFeKGQAAZImk+LNGWSFo6kj8fFJMj8T5ZLiwCW0AdDATKJGzMCVOOuA5KSlxAFVqhJmBVKa8dSlRSZCwnHiElyS1JURMVgkT6QVS-iabWEl51hhdSaiTMPAn0Teus4-pQ4qCAsh4p7E7IVyF0GjLsxaUghTkAWULCuQwirZM0uqX5KHkwkxoWJLxTxStKX2ERSov8XA9zFqkzzFkq9Ggtcl0ivSROLNBxBII1zAMZIt0S3K0BDY4kAMuyEiTYIJyhBYiNDQUpBlxcYQYMJ4yZZuJmkkjiZm+WyLflv4i4RKNNE60qlZijFWqIHLCkxhYsnxYvT8XXMXhAKuXv1jFqXRhAFmLsVhzRYshQMZK2RfbxpmhzGuPGOlQyjNzvLbybKy5qisuaUrOhbw0ALyvyBUcRVkVf5W0InEhBwJIfdkQwv0yViYgK40xsCDf5aq3lCHSwEipykqZwJLSJCTUtnR48LaRSkPvJJqWHcxaS41FOMoYlmreJd3RRTYCKmKw7VVKuWglhWWNiXOvoc1ZsoEEcrAgmgPNPlxYlaSw1xIJPHUiGbmqXgpoyBvbkSBGqqIbQydnz2dR2xg6Bqz4JlIAGmr6FCstmjpIsxWKaIVSK6QRmNbKrd5Ok0nrDMXHxcLMLqyZYxJbUjdPVGa2sJlJaH+qOUgayocGvmUcS7uUau4BOtBbxqWAia0xBlNBapqkq6a71SoqpX4CqZCpTubqEI5bqjUWa8JuaspYYK7VVIx0oeovVnqtGh6u1W6q0k14H15qp9ciotX6owgRqY0Oar76mrL1ui9bNkB4laSOx8S3CdeNvEPjwABGCDReKg0ES0lya3iWuq0ogaT19AVcTXPASoKC1B6lDlcvLXzEi1W60tUBPrUVqre0gXpU8oszxLElKS2DRsAY0dLkNP7cRcciSoYacl2G6kCyFw2KqXMFBJtIdQ+Rep2h1sCTScxwyPgxNIgA1kUO7hocnQpDe2Hljk34hqOSmsAvhGk3Z4FoC6ETaRXk3xhFNkmtQPpvw2j42yJm-EOZsoWIFVNNC6cKFgkCmaP2zmjvnpuc0nMEgUQDKPSC+USbHN2cKzdPTk3UAtFmmkQNOiJULDKWZJUTR8hi0UB7O2M3stkK0aRatFGm2gB5o6TEACtCo1lV8tk35b7NqW2LHT3DHxaBBs8GdWkU+bNFStkivfPlqi01KMluoEzZ1tUB2bYtYqsYeWOE310BtZm8bbFk8XSAehoUmIeplEHwq8UrW2RRFhFiTb+t7mrTf4Tq2AqatQQU0b1ty2uaoIW22LZtroDFb9tHKXbYsNxCNaBNjAFraSuuayYjtXW6ev5o2h7IhtCWnPkctEnnV7lEKrADz3gz3NYCL2vxV9s9xCqfIE7GZcNDCVZjGxaoghGDonnI6IlMwmQqDvJ6-w6C121ORyG3X3bo1bIagMCxZVQ72VLwGHeIW61dYIJkDQ-s-1YZnYj+bdDur1AHpN00FoAWtjyz5ZU4U2v2+reeEFLArjlQO0xCPODQmJHQ2CPNEsB17PgqAG0CUtMxzYvCZlCRJliZWsHXtZgYY6BcMlGSgdOCsEXUkhSWSlEyieOjHSyEF09smk2y7TljqpUjkfSBOr2O21u2xgHtzu+toBme3ooFAcO2TEHuF3jhE+HouZKdrIqiCLMAATgGA6RqKogz3UUPT0SAaKVK68lMEhB06qSxrBQZqDS6tcT0l1DEGZPe7mAM9FFVQJs02asg0AbeiNVDI5KmIG9VA6WDWLqQ9789L8bgsCvKj+E7AyyDvILPHKBBB9wk4fbA3UQ6se9wi6QFwp4UfxkwP6sXYCpz63aydGVThRRQ300xgIK2y5rJiP3cKvg4MxPjpEzZw7aJM6+nIoEyBmgkaNK9bJdAswBtBQ2rXVmSzGaRAZ1t9PoNsobWgo-ojAN-bDWsYYgWQZoMIkGCpI960iSyZZJm0lWSLJxIBu1KpX6Drz69ue0QaoCxbkqtwoAKmct3K6gpfVCHJDhwhQ48rW1QQG9UZOPWPrX1vEkbGNkuhkzggkB1-agVgM2MEDWIvQJ+GpmoGWQ6B23XasKRMGGpshpZOWEoObtqDahpgfmWkPKHlk1zRFMigYC6H8DI3OfTMKhXAqwVnKEHc9jIOraVRqun6gfyWCXQddxyY3QQCSpnw2e5+q5iGBqJ6jsd2YugiRF3b7qbNkWG0XQAmRuBgDeaKqV-p-0-LA28ezNqWNkZP7WOTRMA-gObIcgOxvhgMf4eiCBHPdIRvjfILtJiF0tj8dRtQHUSQj2GOwpQJoyYZqohGZzR-Y4f34bRXDabEcqmz12eGtK3hoTVFOw5qqL87UI-mlJCgP6vlmzO0aoFN0AAdLABephX556D+AI1Ao0J3SUGqdySlC3uAhQG39YLAYPMb8WLGvxyx6BWsY2O3T6Q2x3Y6WIIKEB6c-hOTu4Q+OgAAAXirVABrHWDmx544hx2OMAFGHhuTgCaOMsoTjIEIQxdC0j08RgbZPINEbcCLHQTXwcE68ZyqTMOFzRZwM0VIDNEvm-YTZtyDwBXHVt2Jp47ieuT4nHKhJn0C0djiknyT2yhE+WCAA')">function is_var(exp) {
    return is_tagged_list(exp, "?");
}
</pre></div></div></td></tr></table>
    </p></div>
    
    <div class='permalink'>
<a name='p56' class='permalink'></a><p>
      Unique variables are constructed during rule application
      (in section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) by means of
      the following
      
	<span style="color:green">procedures.</span>
	<span style="color:blue">functions.</span>
      
      The unique identifier for a rule application is a number, which is
      incremented each time a rule is applied.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define rule-counter 0)

(define (new-rule-application-id)
  (set! rule-counter (+ 1 rule-counter))
  rule-counter)

(define (make-new-variable var rule-application-id)
  (cons '? (cons rule-application-id (cdr var))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6j0lTkgPXDhRxLSUO6ttKYIV4jXiVuu0d3UpEbrmoJuck5UiXSBJXYEaCwFCzF0JYS0vWe6pDW+tvam2jKKC42ZYUY13FpN85hDNLF1JGX7qg7PQoRS6Hz68tPyPYrDFYuxYVLZHdk8FxToE+AL1eGb2X5XNVhXKtMlXiy7fi5DZaz3srg-nJyTbzCgrpthsz7a6DkQ0vNLaQ8hPyxw5V+6DGxzydm3sndM8FoTYS-Btnu3OfqIOaYTxUH9pqKOSA436dzWrvigllmc9kGkl2+0ANQ2f10k-0rT83E04QDnx0nQtFKAeGxRcl8QTCpigMwmgzrx6iey+WtQwMLzsCHRwOEUQOoE1Fkn-FHyaV5UXT835FVXwJyGWW2ikVNQhxwh8R3wSEtipVfHrzsAz1H0EzmTGm9l20wLsEYM3C9XEO6SHkEKYEFEOWaAslHxAjoIG2gOXWYNEDn1H0GnUMFE0Ku3oKwNXT0PgKjVUk-lQJ4KdlA3kLohrzuB6UuC-yL00EeEelEI4V229xCG8N8MiGAn0mCBkMUGEOtTkMWXUSGQaDcJckBnSAj2xV8LkKMAAB4gj0iHo-94jk5vgg9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgZPHcUAAAan92gTzUeHAnkycKME6JzW3A6K6Mch6L6IKMcW4QLGKmD0UHKMqPwFEGPFqPqOPkaO51aJGM6MiX8AmPwH6LEMGJ3HKlGL2JgVugTUmNCNcyUNKAqCqFUM5Qvy9T2QCAJn0GcDKFmkIO2E9THj8LULiMcQNm2CVRx0yL2O+C+IeNmguJeTICQITXsPcl0gBj2PSC9TEmNQ+wGIROCCHVuIRKxMBLwwGNlVXVuKcRSA-G2GFnGBxJ911TJCvi4O3zRIXnIWiRKKBOkHKn3CaFYlADdRpOSCjjIWSikT0MtjwJENdn7Cmi0TWD0OeOMJyDhgRP8FVIkJbA0LFMjnziILBG+OoF+JznWWEVGS9UmTeNAEiHeO1LINhJ+OGg8O5KdMnWVL5OcMkKDio0hPxOshhPEFNPhOCXIOQKnG4M5KBAxOsixNAyZO12UyhMcmCE1GHCJPURBJmOSFJNJXJOOMpPXWpNznMBojdkYkZMCI4LZNRM6U3h5JKjtIqiFNhBFMFBvDvHbXdW2AlLBKKGlNH1lJAXZHlItMVIbm9NVLkL1JMOeUch1IUPnI1INLzkNPMKjxdLNLdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIlbxQi13myFzPQAh3BglvKT2AKjQ-IIkcFglLGSV50fNh3ex104U8kFSkV-LvJbyLgsWdUlAzT7RzX8D7SUk1IHCYW3BHVQvMBHQwsXIzRkLwtABkMIqQuwpLlIpLgoqwrv0pRfhzUYr4SlEwpSAzThDoFLEkFqBzS4p4pqIhHYuSAzTmMYDwvEv7BEoCAzWZEeiLAaDoH7nkoekUoYG2Bkv8AzXaNIv8EUFD1AFqENSWivE6KEq0vMAzWvD0vMAMt0GMtbivDvAsqIuwr7l0BSHsqMpMtACvDbiMvMEsv3wWOAFssgkMsctElMtADAFcsorvwAFJwrvKoqYrErArQBgqM1vc9LUrfKvdjVjK3K78ABCI1PKyKgq0Acq8SYqhKoEbcLIlKqqpy0AHI8weq+ixqrI0SWy-Ktq3qzq7K7ChaFqhy6qpaYakqxqhaPqzygIAa6Kvy0AOa6ahqhY0q8KlagIZa8wUq-wB3SUM+aCm8v85yOQsSCMATPtXQGCpPOC2eE67eMis62C5yagBoAAKxjw0WuqbkEFbmIreq-LE3AtKiIUXOSHuoQkeuOC2iwFOvwlgsvQ2PEmdQzUZUyhzSxp7mCqiVEuwsgGIF5lcD4s8uJtJvqnxoJu0uwtUscFgEgDwoZqZpptppCu3AZoAFFSKeb2baaM0AA5SQIW8KkWoWvMxyZ6+gESGGtkVGjtMQq67YATCCZaodfAIZeWmre0Y+GW-iHWxWowlWooNW1uGAtvbWkG2GxWhGttVqHCHWzPN8ycEuPfbCf8jMVKRgP8FEr6yQKQWBPCRmXJAyHWgCiPQEYChSVBN2vqF8ZIS0r0yKaoGMzpRQPfWw9SdOhMN+D+WELPG2+8ouNU3QLUo27eK9NUgWgIAur+Z2keHob6368ugmyu2W6uiQ2u-wOsxmdk1yBwxIQVCPESU1R4UoRI8LDkzpPeVOhshMM+XAMAD5JgE835M87gTAa3Z-dwCgRwc0IcG5ZkRgX0D9SgL9CPPfRihFTcS28+y+-Q1CCMQk8G6DB+79IhUY7cRwHY3NK47FSY++5YC+z+5+64FMhXAoz9MBjfOwGIZkImLjWPO+LFCiD20gUgeFISFaUmQCTB3yhgTouaTB5M7cEY4IchgsYY0YyQAhqG5Sch3QHoxQnqEgEyTUVBhNMiCiHhxwdh5YTUECAASGNJ6O-oWNGIQdJE1GQbsQE1VwEZFFEB4Zlm-oMG3DgdACUcoLcBYFWkeGvvh04UnH9EoapW3AjEJCYVMc1Q1XzBFhx2g1MaMFRUgdxxcZquNW3ECCfBfsgiHVscCJ8csY91AF3roeHEPrbBPt9FMf0nSBFl-B52Ilsa1WTitUGGl2Y3nRccBkockc6J0flWFH0cCbsgMa-t2KUhGL-ptJ9WtWyeTXI08eqf7FqdGOKbNVKZg3BqAkqaqeTifFCYD20eIA4aUG3Gop4d0C6b0fAamELEiPie2GCGKYWJIt0GdXKcMZLJMfIlQlmfGcEZKcYBYH9A1AAZxRWa+B3AAHI-75ohiHmrH-60HJjTGtGunzRGAlQfnHKpDCwccchb7enlN-me6lIM1tFZhhjg9hijxyBhi-hhQkXyo7oI8nwFnUQxmJmwWv4IW9nFBCXcWTnumzmLnSXlH8XiX2hfmhloMSXvm6XjKT8o0A6g7SAQ6ukohcIQw+lhpKQjGudmjxduwRozHObkmxXiAc0mnC1BXVBIXG5ZoOW7guXKBGZbkqR+X7hVHFWiFXnMmlAJX-GM1fHmGhMGnBgJXKWRo2X4l-mxkLxyQ+XLR7gDXF5GJS0xdedbXBzpSm7sTxIIx6m+hfV5WWM1hbXc5TrdXNQ2IgJLYBMnXzx7RXWdX3Wxp+mY30IG4LqkzgmSL-HIih1M2+lJUgIhlLby37hK27JDWIGC25kyHqKS3mAs362KJXnm2OEyG1Xg7NWeX2gRmcXIje3mgGGUgBMB2NWtXUNa3s2KnbXKXx2g3QM7qO2K3E2G3dZSEGI6ZMgCChWmzmd9tsKLXc0rXw3j2lWxSByPT5ZKQBFNM9p6pGpPXAXoIVVNxTXVn3G-3FnxLFWBTKoTwo8cn+kTUGpVtB9wCLsJXPD3NIjAOcXsChXXngORpQPDxwONpmm9p4OKZU82063GA2xyBqBZI2Qg15gv5EPAX32TWhWyGUXyPNGvso1aOiwyO2wF8GPjSh0iPRRc23kwAzTIUKPH67r7osIOyJVyBl6162BSAHpiw3BQARtIJNQo0RtLdLdfAlC-gQxFBWRah48Fhg9wlhWccE8rOwiwncbZgEmxAdQPAzOwblMh07PGBrPsWax3GfPrPk50hjPSBTPRBzOTVV0guZYHX08WR5VH7M7JEXqHFqNv1LYM0257Rv0+4xS2UyhKhZozPHAeBdBSu2tBzzApE6BCAGhcuI9LYwuIucJyvov110vGun7yyD2RYnPSZ6vuvA4pyq0nPeuH2pSXqgvmv7gTPKuiW6uGvH7iFRuncBugupbwonPMSOvOFNuJujSPiS16BUXWuyuKvIvHAgUQT2hT2auXqlvuvZu6B5urv2voMuuVv1yaZvWnABunvvvqvkhMzqNOuQxwhuup3pRIjnVSv2vIiFv7TulDmtSAhPuIeWhhvVuihJv+wpEZvxIWuke8MhvvveuAgl5+HYQ0omUv5NvT3hHthQfSflvv0JQmf26f2s9uekeA5ofoFWfsez5OeKz92PSpQWeYvLPfPbv9CKeNzcejvPSo0BL5BVOoj7uz3MI2BgmHjivR2GEQgiuqg350hdfvGMpNR2OglggrfUWglA8SoWAcOqo7AJPWFuzovv0+zFfSc7A1fyBVOoKXqPftkMumvxJNtuvM7XwpEFPLYw+pPv0Fj9eqh3VoLZPxIk+bkY-tx7f2Ol6epNsGgMo4RsVoHQGI85e99IiP7q-keohB9S-DoUD6+lAW-y-DGkP3HO+E1m+y+USck+-sU99oMR-DGtGJ+vbxzrV2-dArCe+Wv5-lCNStHs6v4V--9F-AXIiS-B+K+t+UeF+ND4uG8P1P3jTnzf9sOdxfHrCtNO6tAL7mxb+9Cjn2y2IP1HA1PYQI9GBN4PUFQKoAbAscJefXGYBf39bgDjEL1CfrIgP5TgMos-G1pSBP4mEFe-vQsANwn5bcAwYzT-q0EYA-8YW--EDqv30K7dgBSoafsP0QE49aS+7KnihxPbA8tyZFbntQJpa2tdAXA9Dnex+4Cw8o0cf0lWntYRg6SfvbXvAzNKgClWZ-M8LdBJQsARWdheYEsFqB2I6A7XdQbxUlR0AquX7YxqTHKz+NdBmgtiAYMzqvNS2y6bQcqxS7LVMUyg1QepHMFaClB2QMHmBnKwC8OaRQdwZYLayv4r8vtElLDUCEmDdAgQmoIYKv7GD7BZgvKHoKCHWCIGtg1Mr4LfiOCloGUNwBHkDo-pkhFg5hMUP0FApM6fg-sDkLeYuC8M5WO4p6k8EqD8ASwDWADVIi5o98rQ+QGpDtCWBsgqDFwWrU6FxdOO8SHoeQD6HODBhMw85j3xYreYBh5zfxlSiNahCChEQsoV-GSgfZmhtdGoZMOmHNChhXgtTMsP1xKEN+-5PoHxD6gQEQG0nUACSFBA79JgUieAeJGn7IC9ClfJ4VYRWRUYcB9A8IhtC8R-D2ezw+QOgI1Iud+QUwjGI4Hkoa9aBF+XAdEOhEUCH+e0eEd1iRHq98i8IjEa8I0I98ZSwTfAAOh7gjF-G24SkaGmpGYc3OnCIkVCPVT+MZS5gI1k4Av7wijA-ja4eBBqz3C3grIl4TCMoEQNv2qqPkXYyWbc8XhkrXEYiORH5FoMfIqoVKGgyKjNREIZUbGFVE0sNRaPAyEOh1EminI+pV5nSKpGwsFBuaBNKPRkhzCDKtfbnoZRqFUpsRIgVTgsHkTaIeO1vVJrx2OC6AnWrIp1m8NgGy1G4QfNSolEtj6iMwho8MZiLY6rA26-gpSJGNP7GlVRzWOrsJDIb0iI8sLVYS-FeZRknRbCE4fmMSjei7AhASgmXwpA891URg-oQmiNHyBGhwiBTv0OUGtd2uZnOIdGP4gWIFOQ4y7rUHXzxDqe8wXmFoKMDBAqUBYOgPaJbGutSuvQNsZvCkRmdLYZbHsYCIFwX8zOy4u-iMXSBmcR6VgUAGUQAAS3NRwAAEFwA4AbmgACUyikAAAPJC1kA4kfgtbmWJxjAxqLeGm2O6wSi98TYtkJuKgkYxJW-YzcZWxDFAIkxlLfsTIBaDpj4aWjbCXwnAnkdIJe+R8c+LfEfjvxf4gCQRKsBe15g5INCUGMgmYSe+-Yl0ZuMcDbiSsmE8qHhNoDXg5hJHKXGX2ImzxEJtgGCT3zmHsg2hAmR+C8PhSLQgkvon0EWAzACS1gSkl3hwIRFSSsRVQ0Cap3EmsTehGMGCQ2Iig1wiBVfWcF7WChCR9CqXGMRixo6+s2wlAWYHwRWJFYnJIrMsOHy8mx9JgPUJQWyGPAyBfQAncElRigEsdkoTIRLv0F8nt9yBbkgKSkxuReTuEUIFgUq0SkcDVU4UxwJFOkC+gSCJ7XUb3UsARSopuOFdslERjPtleWAkqWVN9BuSrJ8wRqLCCcDis0ByPGBg3yjEq94k7U+qc5PAFU8oBI3ClNWWZEQiG+T9NgVzAbi+5RAmAoQfrBgFDk4BCA1vkgIzC-CVGWIraewIZQ09FxX8BoHgJxaUj8oaPdIBNPKmKBURQUW6YIMNLCM8ecsKjCh35HBkTUtU0qfVJILcQ3GL030NgX879h0gD0zUId03LaEsCIMjqQa3tGCi+g6gGkCnyP78ksRLk-iJ8OkSICZ+vwlfgCMmDCwDql0hcXTzen0Cte3MYgH0XxFxjGZh0yZOiLGIc0HSZ0sYgORmnLApiHMAmngDbiSyIwHwxAQdK77kyRC-MqmbFKrS0z-uV0hmbgLfhrNWZhxdmRr3n4WiAg709oJzK77KtLRJhM3mCM-hLTTpSs3MZHCYGMQepn8fqWsH5mUz9SPKCWVLJVl+YbRDIu0SQmEGSl-ZmEDfnbJBIwSX21uEgGzMNGqAEeN3QmYC3JHeMSxjI-9oHNLGG8PQrnOQCyOTmSs9C3IogVnnKy8z8BWMvkBQQeAp8k5d1FOVYTLm8iquAozxHYSFE4z65EeLPCnMbmEzYqYASWW3DLmREk5RgLVPKJlFtZ-G8cvWYaPVFZCCa6otrNVOSALycIhostivKzFFAy268o2f8StEQMc51IjcU4Dcl3x0cwrH-IFjqzo50WTk78h1loCLAmxtILqT30tpdTB8GUhfN-I7FONV00GP+ZK2hbSBIptQUVHdFg6vNLaYCpyZcIdr1giwfkvuW5LDEstlU+ksqKABzEmEiZIkRYJHgwUFRxIlgGye3ycAZRHJV9FRC9S3kFihIIkENkpGYUpicFSYjeXtKRKfyHkBQjMF1N4UpBCFa-Y0swoTEUjbRec-AWsIgY2wD6LLehWyAXykKAxIi1BFWKsDOiThUi2cKwruKj17xT4xwJ+N3AAAZbmoBJFIvwBCuBKwCZLcmigeFqcyRc2Jp7khJJqafxihK8WSoXFPirCfRJwnkLRQg+QiamCckRKe+5E8xVYpsV0ThwqEtiEErYmAtZJ9dMOv2A4knCuJPE4JaIuSD34nJQk5oU+CqF5LlhCxS9qUojzlLlhWLe0Z7XSXmSDJo0rAbJMmEKTlIbk1uEEk9qkhr5WCvSdBMMmPxjJ8YmJT4ssn2iHgsQCPMouFB-NuF7S-BbOX2EyTmhck+QL0qKDkiloyULJSWDUHbCclSkXmIm3Qn0BaWKy3BeMqsK6iahrSmZamLwWWSoamyi4ZjJegKBllvzO5b8wlEDjsge4l6lqEBriRJxTHIFcVR3BKL-mvvLAXTNp5VxIVXEUEQssAoArVlKykFXMJSIELBAl+eKKKBJbfLlBVkmYJuOS6yiOxPRbsRvHvSFgL+R4jePMso6WBTJMkZAQhK0mbwqetKlPgKq177jIulsApVdx3ECreuUiLBuuBnRaTQVuvC4tUsHEecdwWkxpcoORXQ17orXfiTcp1XZBy8-YZZjct0A1CFVVC4cMqsJX3txeRpQDF6S5VZJ-JfKrxaovBUxikxlsGEB-PIxdT+YQqrxXSvWVzSUg4qmouJClU4QdxmEuVS9RtUzoMpcw02o5HVWDDNV9S0QCapYB6qAgqgA1Tmrcn5qzVMPbnqMutU2BbV5ClVQwO2kiDDSr7H8LMDSX+Tg8PKtYAKoWFXynJUyFibQEBm3NuO18gVa8245aTB1EE4dVoynU3KZ1JE4dQbCHDB4aONymfvypuVikpEzQa5UOvoCWx4llEr8T+P-HgB+YJ698Wepom2KLVh6q1b5X3Xdqto7A7cBUA44uquO7a8hd6tXVur61nqxid6sYUxiX1Li49WYosXWLL1kweJTBpsWJiq1Tkp9a3Ag0xKxSU0D9eUC-VXlwc9ZGEF9RHiKs-SF04wSNFYaiTfYRGoiKRr3yVTRo-8nBAdGI1CAROm0Mfquko2v4CN-dOYA4DY1Fx6Nfa-oC-Ho1aMnsXFITXGU40-zl0PGrRj9gE10AZNHGpjT334FUbJ08QR4A6DYj-MRNgLRjYoSUJEbqAdC2jexoJVbKOxnBVjSRqs0UAHOtzSldkFebma6Fympzfgh81axIkiKlRU9h82X41NmpUXgTTc3nMCMxaxqjC2GKBaVlT+WgF9Qs1Fprc0mtLcwkE1EQxoUW4VvZuk0kait7GyVgosWZ5DhQmwooRoLsSPxEtgKqTTlqEDZbVNuWoZPlo55eVfKmWrzSxpK3ObWtYWrrdAny2bpYtCxeFuVAa3k1nhgmtLUX2ES6aVoQEGzRcO2XLDdl7Q8MpcpHLRUsAEW5IIsOGh-K2Qhm5bbHlxUGN-N+8gIDoso41ialVhZ+odvCj3a9FT2jQgdqZ7pAqUI2j4oYUJWxIJtrqagGiwRWnbcVOaC7fL2twUgFg90Zjkqx775Jb+49SeuEFzqbB7Rs7blpMlW0UCG1E0JUjsp6VNx9Ihy-SPDqwbNgreetKgCtARI7MtYFA4pX-gX4mU0ewHcQJmP3kVRcO1UeEUNK947Fvth27cLjqHZAFG2AXd7Y9sHEtyEYdivhND3y3A6DVEuwOuqzx3ewEtkOpFboEl3zsUeAhKRMyFdYCUNBlsAAJyvgeolu3iiqtJiACgMDgQSiqv-JuA74A8LXlT0hLMrwBQsxiHYECIAAGLXgEAd1Kg7mdzcqGgHj2FrqITq-sFHppZDhG12wKPR7tcCIpZJamIZHYDvDlYkZUgrPbJJz2yFdA5ulTYJSskyBoFsC02ZXHXVraqVZIwHc0PV1xaoFvFRvatmm366WWOaevb3rNRwLFtk6RdldoyixbFkwoJoA8GprEKCFlsVNrUBdZusBWeLGfbJyGLPhml1MxiAhEYAL6yaXjcSNuAeBpEkWWvVPduFvB3hF2BCllvYHGayduyNlROhGFT3MsVlxLLyE2rISSDfukEZVZR2o5Fh21diLUJGuSBjrO1xA6dQusPUM4-mGesCEfvn0UEz9tVZbAyK0B3pdp5gO-Q-uahaSsIUB7yaQdvDtRADJgYA3QfAEkHqDz+lZRFELEUwP9pBxPcQbd0aCndxynZfsstk5AVJwSX-YCpNF06r0L-JQFqAlFWqedBAXyoYAtkzbiWzDR0bovl2DCvRCGFtSBLHLaI6Ax4RFDvvbHvCIVq+nBWm0vCb6PW2+t-SJD30H6xxxsUfBYnUPyGHR2KasU7r0MnincOOPQi5pxag7YxqnBNGyMkCWNhG6QCQ0qGkPP8Vo3hzWh4aGTs7lDrcVQ7eJEgZSVAJADTuJFD0OKltvkjKdKyClfxFU-kgo6EMtj5GJ49RzojwECOYRGjhR4UFo02zxBjwtk5LivwqMeTspswN0aqhCZ3UUNSyyo55Ljx7c7ZlwqfYZrubpjFA+8gADpYBx1py9SOAfwDB59Gf2oyhNW4gGRY9O4Y-Qvtg6vgljKilY7xzWNZjNj2x3qWxD2MHGeeqqQgIsiGRRdIi3x0AAAC9Dm5gTY3AZ2NvGqO+xs5pkai7AnTjNkc49uEuMUFrjB2rkU9mMOmHNwKxiE2aihMfHIqWzbCjEbDzDFSAwxWFqhDuZnw8Atxv-bideP4n2QhJhysSbvykmdwDQck5SaxZIn2oQAA')">let rule_counter = 0;

function new_rule_application_id() {
    rule_counter = rule_counter + 1;
    return rule_counter;
}
function make_new_variable(variable, rule_application_id) {
    return pair("?", pair(rule_application_id, tail(variable)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p57' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	  When <kbd>query-driver-loop</kbd> instantiates the
	  query to print the answer, it converts any unbound pattern variables
	  back to the right form for printing, using
	  <div class='snippet' id='javascript_95_43_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (contract-question-mark variable)
  (string->symbol
   (string-append "?" 
     (if (number? (cadr variable))
         (string-append (symbol->string (caddr variable))
                                     "-"
                                     (number->string (cadr variable)))
         (symbol->string (cadr variable))))))</pre></div></div>
	  
	  
	  
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  After <kbd>query_driver_loop</kbd>
	  instantiates the query, it converts it to a string
	  using <kbd>unparse_query</kbd>, following
	  the syntax described in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  The function <kbd>unparse_term</kbd>
	  formats unbound pattern variables using
	  <kbd>contract_question_mark</kbd>.
	  Note that it needs to distinguish genuine lists from pairs
	  whose tail is a pattern variable (and therefore technically a list).
	  <div class='snippet' id='javascript_95_44_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+7gYBIQw+DMGwUBwIgyDoHwPD+wt8jzDRG0bno9rELMkvI1IkyKI1R8GBsaQAPy6XI18zPvix9vfQQAFzAlKpLqiKF-QIT8g7UANIQTQ6EGzUQ-kKDCYoJT-z7CfM+wDzC-z3PIA8METy330OgswT8969QongwBx9QC6DQcNTBiZXSlmtPgwhoBiH70kCOVMt9UEENocCd6N8KF32Gmw3qAjGx7CAtQ3hP46EyGJCpESBUNKfxEXqQ0nwkKqA8iCGCRlFAmXwU8Fhw00g6LTigqhp8ZGNDkVTY2qifyiJmPY+G9xmbGyVuzSx0iWFyOTqHZhaiSEzACWmHhfjgRpSii7AsQibGlGcSDRcXiuFCIiXwwuxdS6UVnEEpxoB67SB8iEwgG0kLDwkj46xxjTGlB2rZd+05VCD0qeMQx8SeEJLSL-RQzAITcOAgAVWIAaYg1AADudghR6CUA6UAABaBZVD34ZWxjjQp2SfLCBeIPM2GZKD4FAKoEIzpKAsHqn9SQWjhD9mYpnTZJcDZnIub9TR1VVA7MKYwKIstzCDCodIC64gjknKkGSVo1yPm3LJuYc65BNh0Ctgi1EKyFjlLbhY25tS6m4sCI6BQxB6TUPBLQGKJi8U-gqQZDkxlPkkH0DiylzLvm-KZSyvFFSSXMBrHcGF3I0gyRCBFJpqgXTIu6Y0J+IrxySEfISu44rpDCLqb-Vo7ROgtAGP8wFwKMzmD6dQCEXyWQjLGZM1u9t9aaHkIs5ZRTBRaX+bxHSDSJRNJMpOOgPD7mVwsi0n5oBUQAD40UHwUAG8MViz4Rk0LbHeuoQlytoHVKaEjag+v1UKqQ4RCDvBKasiN4iQSWDWofTp0b+wmOcWUotKbuofWTfQDxcSmxFAyXw0p5aiUNt6l9RQP1KB-WqWfbcOkk2uJNt6yt9zDnHJCJlTQ+tDZExtnc-VC5qTqo6AkLVGwAXyCBbaudYL5FOxiTFX2sLGgyS7RGoW562apl9k8aR2qdWHr1eg+FBBwTnseLA21qKKV3qWA+xWztL0S1fdY99aQT3CrbIBz5f6IPOUA+uilMlwORQA00uDQQD1Ht9aUW97DJ2qApa2R9YtTZrpg6O9BwxAjDCqvbN1kgSDVi6Kof++yPSsX9ZIINoaWQACouMMN3WJ4MoA+P53tnQdaxAxR5qgtgt8uT6Bzn1QhqQFH8HXrhbQMIAo6ZBqZkbeGqS9AdLbV4Ajm6PZSEXcuijvsqNELk17TzoBf7110MiZTqnFZkPaSh4WaGn2u1Nv2dlHKzBKbyCF9TODULad87ivGnwKMKxs3Rq9PEWO6ttRuh5WC0taccWogCYW0LwIbH2SVPTvOVAI6xhN-Ik1hMGdI+5P604WYCanag3k+wEZ-UHdaQKLNJZU9QNTdXtNpwFcZp8oBJP+l3QwVFHHNvJh41NlQfyHmgdUGnCMhLiWn1Jby7RwdjvxYS89jb7IpNdGnZll7jRpEKd3uw6J0XW2SMzQJ6k2XknbGQ75s7+UxIqKMZWv7ib2GcKYekmd+qf1NIs2dtHismltLyRWt9GxqzQNFKK-HFP03NheE0nhBGZL4ZdYzJNS3wmY7J1JmnyGls05Qegs7-PCfKKqYj6RT2zCk8OHgBeTBWDsDXlwTeaAwadZ1rm-NqgHSwuzSN7IuR8i69ANW0A8z0SotzbakxvTGD9J17HLIOQ8hUKdNghQLQXiWHhkOro391k6Qh1oml+jhYvAu1zpzExkoTQ8JCpCwZMuh6sAYiPo3BSM7lgHcF8eiVQoFp8vXF8-zV0+Q+PP9JE8twIG3FPdL8DF9Yo9UG+AXiHX7rqCpWKm-bWBk9NvoAXqd-5Fym7PKYqN-uTJFv+1B8QzHYzCHMqaIAL0EUafD1Y8r8WLJ+VRQR86x30sJpvfnOl-kslBnwFj+J3lkhwn+-rSn83xPHu+FT-I662QIOZpoh0XHzJVTD6yzUvF7Blw2RwyXg5FUBALB0VHYggPHR-2oAulTm2UMnkEzXWGj1AFBHBE+UwKz2GB-XeAnD1gNm5SAL0AswqGkAGA2WD0wKsgwmnQ9TPzsHwIhAa2yDYPHHjR0mgJJBpxMiEPkF+BwIeQ7DEJrzEMA1EMwIkK5lwN7BkMX3tgJUCwANmFu0vWsiBXp0e1AGcBNAnGsVf22l0CiHeBYIbDNkt10isJsP3lJjNy4NUCYJgJ4IMNABcMZWMNMO0Oa0CF-hyGiBsO8LNgAB5HDwi3hVA-CqNiF7cjVVAWQAAVLIdRYgQUVlJwFWAUSBBuf3YCUAAAalNxe1DEiCiEOXTn0LNgqNkxZHKMqOe2qOiDqISOOyrVxTtwdwyKyPwHkAmTyPZkKOyUoBKJaIqK+0CA6NqPwHqNYMMCaNZFaLmPMAWK6L8K-3ciyAgSgW8OQ28NB0CGQNmBkCyEsjgMaB0jm1sN4MMKBSM0FRLzoMeJeM2OIVPiuOoEsk2PxRQL-yHioLu1+02N-m8KDQxA7EiOCNxSfg7ESJeyhOUxzk+NJheF7F2Mc2dUaBPWoRhKtyxFc0oMAN5VeKCENW4P0NZBGUyFaDkw5CdVKCIy-TqR-TEIsygOYNJzqRkgeLkMiMII5EZUBPOMwPkNFJJCKzZP3XgLsGoT+JuNg1Z3tnJ2ONFVON8JUDOPMAuJVNgPMLKzMHuPRMiOeP4wFPeK9kxIRMSWjSNMBLhl-xqO0N0OAOsQdJa2hIcLhIaJ9MdIukVmRKMP3iDN9PRK4kDOxI-x6NWzSABXQUJNPmJMxHIKXXJJ0Inw31NOpJSNpIwnpOIEZKJWZJJDtUKSkyykTMIxKxIzSC5MwJ5NQ2uT5LVJtNYiFKlJFJkKlxZTkI9RlPELrJYwVNwOVLAVVMY1l3nmqkXmXiV04A3l4AwA12zBeUuXeUL1uXdgjkSkv0ZBNS3LeTv3tlPL90kHORLliSqz3PHmpAChhW3B-UvKuXl122SmAQAhZCVFk3MCVFxXFPqVjy7AArMC7GAql1-K4IgrwLBEYGgp-Nj3zHgvzGQtAp9E9kqFkxwukGGhArMVjzqjoBLiUEdReFIvItyJ-CIqCF-JpIgppLqXosCF-P1HeA4WcDoGDE4reG4oYEaDYvMF-LKPgvMEd1AEFEMBDXN1aNopErMF-IWQkrMCkpkpE3kuWUUpgtjxkxeDSA0tktDXmTE2krMCUufh9GADUuOQdBeE0rkvmTAF0pQp9AAFI7LjKtL5kPKLLQArLfzLcJKfLnL0yZK9KfQABCdEUKhy6Sky+S2K1FSK9yu4FkKI7yhKpy0y0AGIswNKrCjKqI1ENSsKvK0qwqoK2PYNbKxypK+ZUNaqqKjK4NMqwywICq+S9qlq9KtI6Kuy+SwIOSswaK8wXXYBbkN8iIV5K8ipSIoNdBf1JUF4d8nc+MWWGa85bcgveMMUZwAAKw9x22WqLnpTsDktgtmu3Nk2fIZTiwpXWr2oJFliwG2rmquXhTyFNgswAl-O3U1Vk0Bt3Ssu+3Ytj0gGIB3TkEorMChphv1jBvBuUtj34skFgEgAgvRsxuRpRo4tggEoAFF4L0aia8bwbfyAA5JQKmuymmqmyMhLaakzBFZ6762sRa1EM6yyI5OS6Q-w9m1mn6ra1mvAm6t5JtdKWsD1Jaxof1Pm0NZ8uLcWnayWjm2LBgnSB1EtNW+a6FEgXZH5fMDgx5Ypa8lTdVRgYpd0w6pQeYJTCIJdSjZlZ6m8nIQMe8hlAcxoQeE2voIIdUhaEMyBD03M60U2zQ-PME8lSlALIlVQZ6hahol4CU1Wz6z4DWkQimwIeO7oJOtuagI6k61O77IWp8H6+QnO8wMg3WLMsO6ggwbcHIBFWuqIIOEwmYGOxIWbLYKBbuiOhguXBchXFeDgdebgTADc0AO2h20gJ2gnWVZ0YOcSWAp0U2rJBuJuWcScYI0BWPIpRuLTWTLleHKpXen2tIf1Wek0eeygJdQDEtFe00I235NezQAcdBORZBXe9Bfen0B+WTY42yH+9e4I3pJ0dQhaWGRgA2GZc4B0J++GU0d+2FPTDhSY7e-IXeozLktuP0totIYBpBGA0+9Sc+sBvEma5+i6ekPZCzf1GBuBwUWZRB5e5B6dPZVBscyuZOjCdMlkOCv+hCggjsdh8Sa4PZfwgKcR00SRn5UmXo0oX+PhhsARtC4R2R2hjhBRr+2vAWGnARm+x2++xe1fFkTRxCi6-a043za++22+hex+rR1+z1MB8BkR41fBuk8Wmh+R35Os9k49UFIkaUHBkjGfWPQBkMfQxBOyMJyh-dBssrW9SBhUtjBaa1JYXeiw8-dw3+qVNibOAp5RqhQs9+ks81KZN3ch-kLJ88haJ-OjHJ0A+KKQfJ9e4R8Azp2xMph3ScSp8ZapsXN6WgBVXivYuwP0RQAkL4agVOY0FoNoboFpxU14QUG1VBgR6ZxgIMQ-KZpZjhOR3ZqiCxVZ3AjsJptxj+kKPAf46+WZ84CCLAvAvNQpcsq4cgOeUexaN4IuKYUAMGY5C6BaMGNXNXAhDZP0YOVQI0TPTYDQRgFoa08rS2a2H3I1ZFn0p+EGroW3Kha6RqOFhydiDsDFpFxRyMpE9iclrFqjfzU0GF4l14fCWlxRqB3UCHJ5nIVQWFSbB7GYbloDayjKsTIVmTOs11A4yBWF+QA2HgF4OFyQF6RsxaMWpFZwIVizaF0gWV+VuMoiI7QV8CHIOU+DEJ5oIlDVXde4QgTVk10c1V3A3FvdRoIJp1tbUzWl7Vxl3VpV-gA1zCO1oVs1n8fXF1sVbBTFpmoIHFq1ndPFhLX+XsWlnhswZjfEg0guZtXZvVyQBV0Af154xYKkn9DVrV1FHVvNgt3sI17EZ50N9IC1zjeNzVW1+1htqk+YqwbEQ1gV+tnIS+0xdwgCJVgt9wot3U1fR6lGyC-COtkNxtj9YjfMwIH9b1yt31vNgNlloKYNh1pd81+dS1toBN7oVNozAASEaBDN7aDY7cHawGvbLqsYnbleVeLfEKHYSy4n3c7e5GffTeScy1vZTajaRc-bTcIyYwnKzftmotglIHiJYCpPMnUelc0AscpVAQw981-jYAcJZEiAul2aw+ZSfmI5ma+36NSJYEGYtVAHufSyrKFdZPTbWYQ-ICQ9fLFqY60wHeFa5Ydd5YGB-U+Ysz48eeE5ZDAUOK0jfLedRUk6oiFbSMo9I+5EYI0VTkiDqmiG6LAmecg9yc4KsdAkoAdcg-2eMN0-dPM+E+cFs+iFNo7Ec57Wc+s7c706HlFS85qNNt7D848+zwWiC6HkiHbJgPs6M6YDFJM+rLoBhei8Hdi9lOs6ju6GS5eevxkPi-cIhzC4M4s5i9PxeDUKDt3CkFAi2daYtgv3agGeAkAcmfEArr0As4jUa7EJeBIDLPpFAkkD+aJRyEYFhR0g0E0BKXXtVfQeq-CdXc9YRTC6Gyc-C5UzEIqdS-ELxLeLaZbdPbbbC5jZAVez67HEYEG7yBaBG825kMhLVcm-O1W+QyO6g-dfQY6ZuY9ZwlYncIm58g7BwZeH+4xJwbe+A67OpEnB29AAzfY9wJB93o5f5FDFyBYAwZtXzzaEPEFB4zoALex4ouuDoBVdq-Pw+Px73tAEJ9x-pBJ95b0fcLhMOm-ckqStR+JAx60Jp7x-CDR7vfuBZ7Tpex57p5ehr0iCmBdyuVF8F6osPSJ7F43rRcwkOmEdF9CH4AZ96aZ+liF8pV5a0sl8UGl8+Fl41-p+rrqUN7ko5-R64kOlnnuL585-wEPChHOq+RRZ++pDd9gkJUiksGJBtH54VsNoFD9kEPd4D7t5D+JGV8lDtLt6p7oL0eN+ttyBl4V9p5dtMThJd5Q+-Zt9DT9-IBj4L7j-t+niD5Q6d7ZwdCu2vIlHOluFTCy6otgjK8UP6zFuW9RTC4tsi+lHb627rPDdbZtaO7Nwy6K8s+p879H-xdBDL4HUkE4qQ6e-c58-HE3+8-8OEiAnK4yd1GX++jX8Q-iOX478P+77J8FhbMI-wFXC6BaOEZZCf9VBf70cJkaiv-n6SGEbckzAafKrkeETqwRDAwjDLk3ylqt9rQf-A-l3zFIgDdEBBZfrCHhCnIrGB-Knqf1X7r94ivYdAaz1MS9gcBJA4aHgNsDn8uO8RMRhAIoHg0Ow5A4XpShkIeN3+z-FoCyGR5iAQSLderBXxNx39PGUlYvq1mkAtckO2CA0BwhUw7MTwCg8YC8CYa6IgIqg3LljjFoECQYSKZVBZioEqYCBqgVQX-yUG0BS6s7XFBoMUJM5LwOgpVCigxCcDP+3A4Rqn16b8CrAggmvh4Qv66CJUvAuwIQDQK6dHQ4A9MGs2hjhAaiBEdiOgJa6fNA+aPPVgWzhak8NgZbCzJ81SGKs5Ww+KISe2tZ49DAT8Ogn5gFBBDWubQRBkq3FARC+WYtOFhZnoFN1Ch53PVqUKa4tFf4cLZulYFADpEAAEkTUkAABBcAOACJoAAldIpAAADyVNZAKijoJa1GYwxWgUcxI6vUIh30JAbKXi4hDPgYQh0LsIHRU8khJwyRscx2GGCPGSQlQJ9BuHtJrODwyoFsJmbhZTaww0YRMKmGzCFhSw14T2yuF0NnhJmM4bYFNpJDY+JwyQHUP2h3Diw4I4gAsjt6B51hunD4ScwhGGD9h4heLnb2uTu9-UnmA-k4BExfZpBKcZLOYPyDki6OCFFfrYHxFW8NhSHbEbcP94DpWRIUFuhYCtiZ0Fs6+JCqigAAMaw+2AkAmS7RBRGPHJLM0oDdA9ccojQCQABaopGAqo4UQCwqI8A7BrELUZBDVEijrOEOaUed2K48sR+Ro40Jg345KjTa7hFkNE1EG2j5RR9RUV7l3ZqAsuA4KoZYH-iWiHWUgSIGKkFGND1s7ow+lg2vItBaCIxWUZBBjEOjlRBGHSHz0+ATIVAocc5qRhLxzdpuFKJ+OaMTFZdNu0Y+0V6KDJyJPuQZJ+O4UzGSBsx0gUOIDzAaMCa6lgLMTmNB7uMKUEDTQO1jWZNiWxocW0S1zaCY9kWYobBk6EMKGcUumgjYBmO7HNjexBI-MrNzAGOsFuZgQkoS19FHgrRLzXcZlhkjW4YexWT9KVkywDYVuW-QfhtxebldmU4-A7pP2O6Okn+R6YXsmzXFjjd+dnHfs4EPbQdL27rPcZXCwEEECRmWJ+KON7GA87kfgV4ABN7HgElGeKFRsdnkAw84esPEcehNbGoMqh0Aw5CCFQJmhnms-ErnqVH4991sffGzo+Ii4bcR+r44IKCnGohAI2r3VVjJBIB1EaBG-Afr51W7+FWBgQfeKyIDpJMbxIKY9h0IjJKFnseAMTBpO-S99VuD47zk+OYIyTR+MPGSDxKKFnsgJznXzHG2EnGD2+UkwIGJJAkSTOxdSO7pSggZXZaJKXQyZxKA4KST0U4wLFIFnCGSOJihCQupM0k3pLwLgnINwPawQ98xrEGfiPx8m2D0m09ISUsREmX9x2O7ZcbgW5KP8uBZHR+MBA-5xTSpP8AlmUjUCaA8pVPMQigOq71TIBhTciRKG0CugaJ9UtavlMULNSwBmgFVlAIb5aEKJXU6iTy2GlrUC2uXUAJFLEwoD3CrU0AHCGBArSXowjLKQbGMFED9eL2IgS9BcmBAdpOUuIdnFaknTKUYjY6fZLuLhS9GsUl-lUOFSCjIQQOBPpHCPI1wgcqUQUQ02Oi0ADwIQxiBOPi4BQJxNed0RYnBkiD8KGJFNhGKwmxsRWaRFQNmMFA5otRnIDxgFCRmms6+GpLZBwiTFLBbRKgxYLAzUF7DQANguLloPWwHgjcZMizIGI5DBjnmoY-IBOImxi0zpjgizFRjOnGDTB3IlkVJMfAgzxcLuFTBOOulBB6ZaXNZgLOnDIoBGFUr-oUw8GlNQMkgJhuGMggWJmZyWeWSBxqICCVMsfVWXoL7i8R+RPwyQNMKGQAAZImssIkGSiFo7IgSraJMh4iGJIgo4RbRqGQjiAFwkEVawdDXA-ZYc+4T20eFkyTINeN4TMFjnfCRhTs12e7OBGKxQRScuOYSIL5c8E6nmGERXzhEIi45CswICyFtFoiC+XIEgeXN8Eujmi9c9EUTIHgkzY5AcgqQ8iJGl9SReKW0VpS+w60RItow2S8z7mKESBPsgubPLFItczQcQSCAbLFnMjiA+I5IfHyLk19iRsEYeaUCKmhoKURIvOuphx48ZMsO6MEdsPCybzaZ-ZTLOIJ1qxyn5PI0fmDWFIF8WuesjeVTPha-ya+kY0zJdGEDZCrAnYDZksCYb+EWQACoBWx2glmS22EChlGblXm3l9ZQCkwUAp3nJ98WGC-IFc3wWKBIqW3XeSh1encyahwndAfF2iFhgLp+dCAcUB8DAhqurQrubqDCBGpjQKIwficJaQoi0GzbE4cJzpGYZGgP6Zoaikrnvt6h0imHj+lIA2BAxisOkdQrloJYW5KQ5lr6BRENya+KCwIJoDzR6tkRD82gCYrR5J46k7hOkS8HEHqL7ciQTkVRGT6BNEp7HO2MHXIACKyZwiqOdPLAVs1xZl1NVj-lBmzheZGwdBpIp6mRKZFpQORXKwsyKKDY9Qu4aorFpuLNFwSu3roo5T6Lg+hijuY3Kg4WK7gFSwUXYuJAOLh2VjCmcciSoFKPF7o7xQlIUn6oOsULQ5u6KNSeLZw0ipheFHeljLhGSIekFPOkV6MZlIy-ICopC66hFldI0RTYvDn3J+FlgJZSEtDkrK12vHaQPfM+EmYLMjsv4TMLmGLDwABGK5ZMJuWAiPZTilES4qSrZAzlOI+gGPxingIeBqyqsIMvelwyNguyz4O6Ii4iL4lxy9bF8qTmXLM5zst2fco2COyUV7sgwS0sFEfKtKCKv2X8tYgsgAVtCuusukfCHUPkXqBPh8RpXWccMlK-EO-W96Vx2xcaaGdOEVhMqRA1zVlRePwj0qgVOsMklBAkBUrC8NK8ZYn2thCr-FXeNsqRQlUUAWVLnRAk6AEL34RYSq-EHyoC6CqNVNeBIFEAyj0gDZUqkQeyvjQbJKV1AMMTyooDToQFaPBPqKodXkJiAyq2LIAN7IF89GtqsMXlndUdJPVuqq3vikLSfADZjK2gF6vcChreV4pQDt9mdXx8QoNS9GUSmaJIKKFe+WNXavDlezdQSqgtaoB1W8rCFf86VaKvLXxgy14qsNe4J8y9N0+pvK+Yr1z51Ic1sDCLNqobUiB61dAL1ViSoXJ9jEya9SklRLWBquVYqodbqsHXDqk1z2VNbX1xAZqSVjAbNZGtwW5qqK4qgtZpx0jGqNoeyStaAv3n88h551TzKfKfY-gEZ3anyCes9y7qe1UjGuT+C8GBKrZFfdgQQgnUndv1PglIXd0vbXtf4dBcdWkFXWxgN14yIMKyCfWyYX123aeo6GwR5psm03EQWdka5t0O6vUAem0OP78hjGd9B+lTgUbnqXV54QUsXOvUAlTEd60xBhvUURpiOz4KgBtAlIdgP1W3BWQkTK4mVheNJITYQysGmpRkQzUzgilAhVkZiT7cDUEBZDkanGTSLkCjODIWzvBv63wW5L4RQaTEsG9dZYtU0OMTGlG8cNuvRQKA31cNNTaYwwwMEf0+oRBtRRx4WYAAnAMB0geaKK1C+4GN0Zj+a4Gxcl+NwSAjbKtxzbCnpqFVbvdQUl1DEGKK7bmBQtqgAAOSZbWQaAPLWYuXYclTEGW-PmBMCChbqF15KYJXwF5hB-CdgZZB3hg7jlytEgGipVoi33AXgbmudTRRa4YyKK2Mj+MmAEU0a95Ig1daZoyoDasZXwHGTZvDRRrkFuyaQJjKG1oaNkWjezScmIA1L6cigTIGaCRqMTwFFmVQfAzmRINV6BkC6DtpqWtEeBmmgjCej+iMBDtsNUAClWAhmgwiQYKkhlpZBLJlkWjOmUAta73a7UqlfoBJta1kUceqgEgDdqW0UKTBW4WHskwIknptFgShZhwiWY8ZLoqStIIsqGUXcNl6yoRRYkJ1QcXtB21Ah9q+0sgftc0b7tTza3w7AdQO+1CiMKT474xXOpZOWHR29KCJkE9BADoF3LImGiKZFAwEl1Q6YeFW2PufOLnHzOUD-YNICUR1Hg0CBs1gZxp+odc4F+IlxbMGE1aUz44asNLWmR09rLoIYHTT+sC10ESIw40jWIBwx5A6AEyNwJEBqXhK6ZZ2oBXWFYZXaUGSOu7W8yaJ9AntmQsWmIR2zW6Mo22+3QKEd0gbg+LuolXVw+IJ6qebIagOoloE1F-+SgCxpezVS7addtunyAbva4bRU90hTAiOvE1T45KluqofKmUAUBd1YQKiPqEYChw-R0qxwC4DcABQ-RWm8wNS3fxEQcSx4g9nciaKSAZiZmMMF0Qn0L7-2ejTfYuNHLWdqg+oAmDSk9w2gai-Ky8EoFIDqKWAVsDaF1sKTX72erRFpNfoEYtEn4LIHocBHWIVEr9pAK3WkC-20wwwmq+2NruFgIwwwrjV+i2yR2-BL2azBYg9rSKtFD9IkC6Cfp4z+pWkEBi6K4yX3AR9AgK+VfyDwOfApgLASNLSrtKDx89dBKqSEQdjJQ6Da0mECwlPQfFewdBjhUUxXBEQeDn25wc12EasLqDAjQBmbi71X7FYsMPvWhAH2hw6D+LU9CmMUE-IMBVGUJmBjbgjNRlGhqfajJZCoGKi5Br4IoCoN8aFG1Bwg1RhaKr7iG8THQwYz0PLKDDGxXFPYdaJmHKDYh7g9YZ4NL67DxB-FuQbSJoVX6PXKvZAfMOMBa+y0qxsocKZhHBGiFWTABCsM-BA2NhqI0jtiMocUBCxag2-0y2r7B4D20o3o22JLFqD1nMw4AooU0HrYJIMfRCA7DwLP1olA+lmtZBGpmiCG5ogoPbkAzP6yR6I7dvaNAL-CvYDo69jyOUGPGYRyY40eyOzH6jUx7cFtoNmZaFBqgKwaAAAA6WAOZcXC0I478ARqKg1BukoNU7klKHLcBFe2HbcZAwLY3gp2M3C9jVgo4ycenFzNrklx8AQQUID05-C8LdwiCdAAAAvFWocfviXzzjgJs3TcehMDgEsDxkCHTouhaRn2IwNsl7p90Qgdjpx-PIibiMaUXgv5MvbHGaKkBmi3A-sJlu5B4A3jKO4k38bJNUGcqlJg+s0WcC0n6TmmjE+WCAA')">function unparse_query(query) {
    return unparse(head(query), 
                  tail(query), 
                  is_null(member(head(query),
                          list("and", "or", "not", "assert", "rule")))
                  ? unparse_term
                  : unparse_query);
}
function unparse_term(arg) {
    return is_null(arg)
        ? "null"
        : is_list(arg) && head(arg) === "?"
	? contract_question_mark(arg)
	: is_list(arg) && 
          (is_null(tail(arg)) || head(tail(arg)) !== "?")
        ? unparse("list", arg, unparse_term))
        : is_pair(arg)
        ? unparse("pair", list(head(arg), tail(arg)), unparse_term)
	: is_string(arg)
        ? "'" + arg + "'"
	: stringify(arg);
}
function unparse(string, args, unparse_arg) {	
    return string + "(" + comma_separated(map(unparse_arg, args)) + ")";
}
function comma_separated(strings) {
    return accumulate((s, acc) => s + (acc === "" ? "" : ", " + acc),
                      "", strings);
}
function contract_question_mark(variable) {
    return is_number(head(tail(variable)))
        ? head(tail(tail(variable))) + 
          "_" + stringify(head(tail(variable)))
        : head(tail(variable));
}
</pre></div></div>
	</span></td></tr></table>
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.8' class='permalink'></a><h1>
    4.4.4.8&nbsp;&nbsp;&nbsp;Frames and Bindings</h1></div>
    

    <div class='permalink'>
<a name='p58' class='permalink'></a><p>
      
      
      Frames are represented as lists of bindings, which are
      variable-value pairs:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (make-binding variable value)
  (cons variable value))

(define (binding-variable binding)
  (car binding))

(define (binding-value binding)
  (cdr binding))

(define (binding-in-frame variable frame)
  (assoc variable frame))

(define (extend variable value frame)
  (cons (make-binding variable value) frame))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNA8QuFE3OIFCqGIfRcgUQh6GIOhKG4Gac14i8EjdUUQS0Cgsgmqaalmv1plKdaXMbFCxu26a9uk5pRTocgFDOxQdpmyh9pk-LCAYQxfAUFh8BOqijG+37G3wGQ0juh7Joul75roRarvdVIKmUNhyEq+hxse6HXqKUphp+ZHUfRuhMah3a5paOGcdWRGGHNagxDoe7ZtJp7Lv9PG1zptwGaZ57Weh2H4f9a7UjeNjUU6AXyep2JOZ+cXqElrasfJoXZbDWnUZ+4RyAYYgAA9CECHmMfOmXpNKRLiAYJqMe1lhdYYRcKHujbDGl57rDQnTpgdp3fuEXxPb29WEdFYx2hm5RIbZl7LZaLnI4LRwxuT6ObY+UbmcoD3za9sORdp9gPC8EP445xOfhL5Qy-z2bC4NUWGECz7mC0HPy413Sq8bVus47-n64phbu+bjRCBBblUS7hOJ7YYP8fXUb9DtxhDeN4hTZJ4fvcpxafeg2cQNBhhTo9tGxH1o2TcMZqu-VseWlIUzy4s6zbIclwvtm8gDY8ryS8OhaEKhFNeghCCT2Dsibgl8whFndMKN8qRjbUAUEragOYbZr1Xg4X8CpAoQKgc7UgaCMFYNtpcGeMDBCkDEGEGi+FCKIPbAwc65RKGDQxsifBDRzwmwyGVIBK814MEDtAvBh9fYrENloEQ+s4ZwXoJ3Qy0jExUKqi7CG7tcF0G9qotRtD6FSMMSsURC0lF8xZjw58hRCGilbqdUYNI2AVz7KURxVE2H0DkWCARrju6xGaJ2DUywmEngVCZYIuj342Tso5RqGjzCUF8CQABRCF6FViOcMBSS0SggYKfc++gN6GHVggmIhCbjYkvoCAAfL3YBY1L7q3mkbBhZwBrJl7t4kQGD6BS2HuU4i9jUiUFIPwVQi8RpaExn05WJDajUGnrHbGj9FLy2XrMxWCzKRtBTmCXejcm6NJXjs5wPxOgbVujQLBD995OlyVwlwS9Pr7IzkYSgChc7DPJK+UUxBJopLeVHVOnzvkTAqXY-iboQl+XCf8f5qRUYfDbtnfmHwIW8NDIQ4RsyqikFRQPQFGKvm529qPeFx4iIhnPASolZKz5UUZIZPFY16UgWJZ3TF5LOCUpDEiluMLGBOI5W3b5TL1yOihXxFaLgxU8slQWPy8ZqUypdMKnp6cwUGMqVvTl7cSWzQ9jysIfKqYquyeSHJXSWLH0KWDBw9NGZSluvdeBIzNXVP0AwepolIROp5i64QcJuBuq3o821blDDckYPgfgDBCZo2yu8LuFTBXapjl3JaFJirUjJS1IEmbM6GpznnVWXtLV6rlbTQFmhcTFvBeS3VpR0iZF1WsSBM1BgxqEIUhNSbiYewVaW0lWL9GmJiL2uNA6TBExTR7XVE5rYgpTlmk2Br0XGqbRMWxjE1XEWhTW0Ug6U2z3ccCUE+hT2xS+j9P62bDLNDbWweFnSsDgNeTXOuFaG4PIqeecRjJv1iPwEHLuflzx7kLdSWN-aQI3vvuIw8MRzyBrvsGmD9rT7od5lKaDKHloCTZfocRbS5HCAUTmSxndoMmMnehXDmHuBLoY0UUekaP15J6f3UdLMhn-s9TWldnipX6F1SR1uG9b7OHuRx8KUbzCvOdVYw5v6R5UwA3m06jISMqZzkqm20mt53zNupve-LCgqc+kDP6hn9D6eejZ+9KsyYF1zFRdWflCGnQU1x55PTENmbc3+0eFTrN3uBvZoLjBIsPqOSGEjMXDPX03tvOTVN6MPL83gNeLU5CKAgDAeASBUB9TQMSRTyRkVK2OmmoTAkbq8B+mQNNoAAA+7XFIR3GdUMQbXOvddSL9P6-Qd7mY611l8qQX1tZiIN6bYoPxqilLvBT4CjqbXs7vSIhQAqauHn58BopmBiAkJR4+Tadh9HuGIHNoznZLh5eEAAZC93o-Qe1kvCMJIElAbunaO9xm6EN6v7ePWM8gZ3agMEuwJ8E4bQH+e6XFkGYNw1g6PQJOY+gIy704+AldjmWYfFIXQMQbS0umb0RUwhl3wTE60twUnfXKcyfoJG47qRGeY9iA90753YdXvh4zpH4DGfOeBrz6t2PPu47rEMOXePzOTE59xiXp1Uvs-GyFl6tPNU44jMr3XqugcBZPXO5NM9nv64h7dwXl2eUWRLEIBDlvibwkm0N+3MPHdkosnmUhDpE3u5TZ7wb5xwHJdR02pahDDcK4Tw+b7pvOlR9D7FTXxn0s27-PHpXCvMIp4J8D5Fd1HZ62z9T2PCD+dQ4d1ep3ol-aV5viZ5wYvuMt8e67SQZATXfdr16jQgMXMOvBvdbgSewLF-W138vAcwPB1z8sfPIwjcK+e-yJ53SHHCrRYPEng+8+apO-X33jf-eiV41urSauAtSbbzn4-q+DcF+T987fVXabnIGTPz-tujWkO0OF2l+3yzu9AEsFyjYVeHe4QC2-oZ+IBQuc4Te4Iv+t0jYXKz0neAWGBPwm8bEKyNeJ+Na9qgQMgV2oAeI9+3S+BjYeyoKYIK+fOmq5BlQVBpIc+eBkB-SmBdMriZANymCacL+rBZBBSFBVBOgJe5uqQjaLBMuq0wBDeqBV+4IxauB3SK6ChBacebBV6Gh7yqc4IzOeh3BKOxhMcB+RqucJBsQr+Na0+setBLEI6t+O6+hThcupqrhbkG6NhZanhQ+NaReWKFhLEAKQKDaVhohWKIRQBaQGQ-+5KERbka06wm6h+zBehCRyhSRmQ8uH+5Kshu+w2XIZcihSh1WPuoBah4Bok36WhLEIG4iJB4Osu6+m+KeZuZRdMkCU8Z6VRdeyBfuDRDOAxyyYefh5g5iT+1ewxb+XRxRX+4udCWu7eRo7R4hnRgwG+KxX+DUeWrUhWHUJW3U5WOg3+J2Ey-2wcBs92p+w2ckHAQg+gDxoAGyoA-8v27IEy-wikxkL80SBsFkI2rxLyRsJgWgwgAQJgxAIhwgjQSOyOLEK6OCWibs-e3AZGgmHRbo9O7C8ia8phS6mJfehKOJS+Xmaepe3iUMHCOCMgjxduAuF+c4MgEBDJxJeSzRbkoi5JOizJgBBJkhHBnJ1BMx8qeSoG4GwpDWopqKUhEpXBtJAW5iii8gqmq8LJAk7BlBEpMhvRaJtwNsomBYcyviupipYI4I5pxAphKgPilaapfR9p+gp01pNRbJdRYIp0Fk9pfJ5g9pvSviHpVEXpH2yxWQnppRLE0cXwd85OVGNG-MYWCpLgEY-Kke3GYqcgoO6Z+JLgOO2ZqJQ0jgiZNsLA0Cvewye2WOboCEq8tZ2WnS54-2Rm0RKZWpOcjIL6JwZZ1wpptsveo+wMZSHmUqHqRZk4cEY5f0E558UprUEMkuC5zZEMzw9ZOxboOO+Z90y5+5NsxSR5W5DhDZmZCup5xpQ0BsFG3ZyiGKtmuolEL5oALA6wRmmmGZwIM0Yg-285uoP2IkHA5OAFa4SwoYpQTZ6Jo5qOi5nQZq75n5VGgSzQoF-5qggF8CAAPL+WBVhRBYEjEHjMCdOOCAACpySCRCC+BGLNbPQtQ0iTG1DNDgigAADUnxhiLO5OQoy+z58CXFjp7FXFrGhQvFYg-F4ZQFxFoAQJr8lF1FMgxA9k9FZa1IWIk81ArFoknF3Faikl0l8F4QwlFk+l4lsQRlMgwcRFcZbk70a5-0YmqOvySI3GC0sOck2IhZZi3G062Fr505fYD2s2JllleMcMXlRA4mk6CZ+ASZV8FiPZaZVMclRk1Iz5KkQIOO4VhiswcuRFllmsAVmEgle8EYdlVa-krYSCC02V7IN2dawKyVj5e06q7GZFgFsSv05QoAiOhGqqBEESfYdKvejIeZo5lmOKmqAVR5Tlw6veE6k681J5S1g1Vq8YM5nl6IPlFq764uQasWz59mrlk5bl6iAWO13lJS35IY4CAV8FQVOaKwoVyR2F6VJF+80V2IxV8ViVD52pHGS6zQqODVuV5V4lpQpEOOEFr5n1QSsGbxZVLmSFlViFe6qqAqdVcMDVHZ+sXZrVqmL10wUS04Z1VkdAvVIg-VEM6SouG1eEB6hkY1dNQIk1BZ+1IVs1saG590C1fNfIWW6Eq1VEi1m5jNNVm1O5LyUVu1t1i0OWsgeS+WbURWnUpWPUGA1xKCpC6Cty2CeSuiXhiRPpKBYINC4IqC+tIhQZLg1t5CNsaCk8thZ6PCeRxZ7+WQNifm54DtBtnCyYWGV6zo9OcwjpsQcwE4y1RQ9OHIEdMQHI0d9G9OCECds5pAydodhhx86dx8WdfshhTWmQjpxdbA-oMdhQ9OwUk85AvgjpNdqMdFBoldsQ9OZNCdZNfYrdMQ9ONw-2dMLAhgph-dqgg9LUKwPdl6c44IHF6dsQ7x3AvgP2DS-8XFzdU99O7k89MQi9oAy9fq-8XkG9Kdhhoa0we9B9AIq9oAkI+9MQm9hhwAO9BgoJ+9K93xoAYAJ92dM9AApC-ZfR-f-H-ffaAI-TPb9vPUA4fQ1cvafTPQAITCTQNv1X033INAjwO-22k4WANoPAOgB4UxDYOF0z04UAg70wPX2f0UMkMQO2l1L4NL2EMNL0MIOMOUPcBFDUM311JAjv0cMQiIMv2f2FA0MxCIOxAPHOhOh+162O2B23qCWAghjepzDcD+0iFKPNRyN5paMUKiL4AsAABW0JhaajI+yIfqqdCjBtjpzhNiU9RQBjhtzyHSRU7wJUdj2jLuxqjIl29OISjpISzjbG9OkAdAaoSs9d3DkT0TKSYTDGfdVAY9sAkACdo9DA6TSTk6KTA9AAounVkwU7k6YvTgAHLkAVMv1VMVMI3oR6NeM8A+MUJ+OcoqMAiWPYjCg0N7l7yuO9JZzGpNNUiDPtOGYWMrDeq9MNKOObgtNkIB3tMePi4DG4iDNMkOCwJ0LHyRnzy4jVBLYVCkALx9YMAmPkB5gxqkKaCxXQSDPO0cA5xu2SJLqXx7NHBFAHX+X8QfRE2dyRmyLdqA0qLQQTzdr6CbMylPUGVqLjPFSu4LVlOxAQsiBQutNuPJiFKmPmMsamIIteNItLnC0ND43NW4gAsukRQcACD41iBfAfkwGaltVlTARYigv8xOhHEq0nHtTFZdRlaYDf5vDjLkCmAMBRwfBVQ3CkBlyB7UBPgik1HpAtbTjOEKtPiTAhgFXRlFExloyKt-Cq76XggMCiX5pk5SU2WK56uavGvasrDNAauGtatpHmATQ3BvJaIwmfJWvBUy2CDKDKDNYZArxGCwLBsf0tRcUObBsNXgjsWlCJvyWiTmVcXivKAosGiJtmH+vLkOAuzGB+us5GITmXxLZFuFgRD-gzmSWmsQj6Wet6zGA+tSjeoVuFtozGA7P0JyjCXWDgjusqh0BVtMBkAKAOZ0KRll1Tt3Y6uiQvraTTDNyXaXyvYvbSTIIFFZARjrvwHtZRl7EK77ugCYOiTFDwgLu2uDDrsJuXtfGisUAStSuxSytlzruAmsLzxTEzx3tvaqIg73S6LYuwEYz7uBLJuNtcVduEo2wbSTs45wJzsmtiUTjsUWuo7j4Y5zFU6yantod9gYf6WwfGDjukCIde1zsXzTuoeqLwjLsnKkdjRiSgiOktJlCjvdvwcTuOsru0xNmfsBicdVsQhp3cCXZIfTvWi2j7vcDMfkc8QhjNySUocLvggADkFrtSwlWnynlrfW0l67w7In3HkrBYpAwcUclnM7M27190arN7+g1npD4ThhQgwgIlwQIldkTOok5oaYIlEyHA8IfHMkzHTnLnFVCuUX8nXHcHinsswS8XxbOOsX94WQ6XCnUXN55glz1zygtzIEmuxsHgJmJSRstn-R2l08smG8ssh07nkxtX9AjpuH2uFXhA2bNF2I+X6whX1AmgKWpXMcbgvbHs9XYXSkQHY09XC79Ol7zOJ1p8GOk3+nG8uXLgLnNmv8BsJCZXbgnXOagqP7LXJMk3MqdKMLWVQIIYWHK3oO7Xmx53lXG18jB3xglGcCjI3q23P8zAe3I3Jm43R3G1hCoiYNvxVtU4jHuMGdTnQPbgMOcCe8zhiPn3dMdCu6+nEPN3qkudC76PyPWPOP13LmCbfXNzg3xXVEsPJQ8PuPLmpLRQ3qlPA3Q3JX8go35bWPoPSXDPZPwMmjXPJmxPfbVKw1iKSCM3oPMqdOhhi3mVY+D3wHk3EvzCh6RGboG31qPzAWKSJAR3yrAnS4c3wnJZlX63XVG8sSn8CSYHmZqSDpy5orjFRvP5ooTZZvB0GXR3Vvr8NvokH88SkJeHHrzpxqKJh1GksUlA+AYiNsAwFQgw9XxvBvs3lXCbAXdUJnSf3MMfVUbRqfP5OOrv26avevfRge7vM5SBqhYIgf4Il79l5g6kzAs0irsygfR5cX1NlGgeDA6gIgHApAOa4CuQhAi8mfmvMQgq1fF3M-uazTLA1QbE5OwGq-5zRzR5nX3A15hkD2ISpGm-5ODTX1DgffTKpAg-HnI-u-K5B5llzQE-wcK-fSyZTib-a-d2ktCKLC27XvV7h1QvLw8X+TnSbtwDAFZlXuv-ZmtzRrQ69YwuvEAWAPq6bdLW-QBQNVxBYVAm6XYNkLgLrow5DApIY3rO0MA0EF2hA3wMQOJBPB9OTZXKjQWZ6FAngfqUnJgOwHyJqBXYcZJwMwjMDiqk6HgZRhIGrFgcs0MgK8QoQiCjABAgiEQNEGkCPednQohQIa6sQFBNApQfQKdbw8mB3XNgTQ2qAbRpBNsWQSIM+h0Duu-oIwQ0g4F3QyI6gw4g9T4GOCZAqML5FY22bUhIyHgqgHIjbiBA7ofrTgTMx8ETATO-gygIEIcGTs4hVXMKm4KU7CcX0+nEwVIP6AyCtBUoQyLlWSFlM7BjUTwbEOSGhDHBReYITxBcEeU7yILIUEM1BD8x7WHAbgLrApinktMy-E-mIA37v8r42-Uci0K4AP9qItfDsMti9DH9+hkHFoHUPRbDC2hVAPfktS-YcRrkDAfulxC-7nNP+PQveO0JWGbl0B6woQpsKoBcQOISwjoUtWN5HkE2MgOsLUHYrqdHhewZ4et3aBSwrhrEKgOEAXb3CYg6Q1INXw4j-DhOwLeRA0MpBNCWYPww4aMP56e8lwYI0AG9hN5zl2hGg04UkHOGcQsKEYMESwL7ARgsRxI0MDiMYBbCsKOOIkUIJ0g44yR9IkWutX07gg3hHATzugMSq0scocQ94pGSbJv0ihL6Fvi4DUAmAvAdMRgNnz-ZI9NIzgbgNtx+HbdOhxEc8NSKFQuIyolIvEVxGVHLCmQaYRUXCzYyhhVRS1bzMPnxFajBEDwp4Z5wXZpC9BPIyQHyLKGaj-EL0dAbwDI6r9DYULP4WQPkK9ZycCPP4WKPEADh+R3QNkN0GUHkhzwMGdKDiDjF+BVSIA98BUBWw9pwgraZIqm0MDoD-Re3IkKDEDF651ReaboIyFpF-CrRduavt0DzEXt2KzQboH5lpagAKKAACQKYMAAAguAHAAFMAAShRUgAAB5CpsgCBD9lv8KlG0bKPviUijhB5Y3r6KdofgDYFY65BoPSgMASxyPeUaiA9iUj+eB4zoI2GXFGgTOl4zIPn2NFbFIyvY-sUOJHHjipxM4u8QOCPFfcTxK4gIUIUjIHj+RJYhgGWMoLniLIN4ugO5DiFR9cyq-R8QqK2KrjERxvOIbbE8HeoDE7Q5rPUlYwSja40olCTPHwnmRJwMQoQmuKFoGJFxagMiYBOolJBaJhxLscFxti5AHAG0RkAAAYBy4CGoPZBbgZBE+zXFNIeMGD3YxJ3iHidoCBCcS5JkgzOlxTxANiBISk7iSpJM4rphJV-I1o8EWFxBZJp3SSdQF9DG8myTfR0k2SUlmTYoFkmTgayDwOtIxgQcNAZIdCpBqg2QMSTmn4SmSJJjk00P1VUqiSOA1XQYiFJSjkhwEfAm2PZE6Blxi+IYB7PP0z6GQrYw5fScMPv72TgpVUCycRWbiACuuWU+HglIYBJS2AZcC3l1xsGxAqpNUsuNAIaklS5hhAN9CAOanJS-JzYdARUBIAiBUgGMQPsZLVFxTuMvU2qSUhJqz9peIItGHNPmlFBXw+yKWMZOlSL9XqmqcZMqkMh-8dpxYPNCwD6Hf9DxjAHfiMP37oRD+kwr8CwDP5w9HhhEZkeGECCJS+pOwj-gDCemS0tq-4I6QfyeKPY5yhYJdKUBml1S5c0qTrH8WIBfTZpWZKbn2GaCvTjA1VBiAxEITQyju6AyEZRgaFTQeYfwcMq5NaHnUMJVY7of0POlb8rpQw11hBERF+RXwUjLMZ+ClA-Sf+HVQhA4H4p6isKPM+zDzL3jMiiga4NiV82tRqo5+y0tcL+FMR4BIQqs2lKdJ6H0zkygw0HFLNZlpTNUHMiYdmKmFiyW0nHQWdSPJmGSuAEsooCLL2EzDyR0EU8h2jmEUZrZo4KmbdOyRyykEQ07tKNJJh6yJp61XbCrLVm7Sa07Ih0UO1lmS8+ZmqQmZ7JZl6yfZeESvixAFk2UhZULBcHeEmkgD7hUPDkR8OE4xz3hjovQRtKyCEB85Ggo8sCKv55zwRPvQmYeLBgky74ZMuuZowLmrC9BooUEaQIXbtziZCVbuY8EIB3he5GEr+mAFVmQgm5TZOuRuwxHwRSQC7bObiCtmEjBBpiQkaSGdnTBt5uc2kfvLNHTBaRR8u2QaFPL88K5nIuOTvkiKpBOJnyW-FVzNp+5b8AZMSXbSdIVlfRsmTiZGWcKgLlySktoqAuDE7t9W8CiBRoPpydAkpvgMZP8SvZ6DnCEYRBegIOZ0wIpY0TiUqIs4bMgJrE0ABaM3JdCqQKMMbIQsZAeTVywwnySTFAWQY80p8r0SygnCnyrZBoliXQGPkGg3gKMYBWbAhKELGpKwKhQeQ0mwo6Ags7hSXNjlOjki63GZDbBc79SqyS+caJItAXHzXRcfWLGUK4VbxBE7EyQN2L7EMBRxlkAADIFNZx-VZIoJNzKSBGJnEs8eQqEXUyZym4y6RUB3HniF2B4v8YQp8WCKLxA4K8ZEtik5kAs94vuGJI9gvjbF9ipxeAB-EgQIl3i3ccBMwnJCuBgwAxKBLKHgTIJBSpINIumB2kxJ8E5IfCHJHlKqhEIRXvUo4CNKqhoXPBes3iXoTC5gbLCdENwnbhOJfqVjPgr1jvziFVE65GxPJEMSx6+SwZetW5FPMtFpC5zqQseyCLaJQQzAZGRGU4SR891cajQ0MhYS0WlGWQUujVD-iC+WxARQssRHHyih+C-JS8pomIjnG81BIQTM0XmcyAVnUhQcoSE0KBArQaxkCBTHp8dlIKveOCDZTArLOWSQNpzJzHOceEXxO+JNEinaKXO4KgoV+2hUOBLSbvdLv8oKHFjWFwSh0BWKq6qc6xL0A9rTGr4sqahAWD4MEET4AScoRzEsQ5n5U05iIgqEsQytgnYo+E1YvwIyEqVZhyxUq6queBDYvwnMsEw5XdFUZqJWlmAnEDBJFXdLMB6KhoKVANX+cjVCElgYJxFXcAihaqjySBE1UJDCMwMraokpRxx9AghCy6UEoDEwKaZYzXxYyFEXrhq87Cv5ItP9UGwGV541aeeBrFAgFVuIcseeJVV5pHVTmJSXEJ1XSI9VIQ7oH-K6UITJa5qotdfgaXWrDIdksSfao-pZrZovq11erxGpWoX5bkPPkpOCBMTwOIqqru-KlWmj6eXasScKqeV6J9OefWCeOqfF6Jc+wgR5XOtnWoTRV5IHlT6s1WCrtxK61EIRiihsAl1q6mDK+MHHDixxE46cdkvJCnr3xF6r8S4ttUTr61fqP6EetPGEZCE4IDEM-MHIuBR1jwQNeuu9VmlZJ264JTov3V5o31kSxkKesyXOK-I8Gxxc4sZC1rKZRQmDd4s-Wapv1XgX9X+trRdk3gJjI2qUkSHvVyNUQuCKihI1UJOuAbaokewY2QL9UvSUjSiAm7tJIybUjpJ6tfkE160iaFIBxuTAsbYFs2Kja6TcI0aEMIm+jeRuN71S+NhGgIsFFE12FFNP5XjcuRqBiBRolGbRVppnLKbIxJG-AL5Lo2cbiVVQqrhS3Y1G0rNpgSCj72pVVD9O5m3yQESc12EfNZqcSiiu0ViofNcyDTf5twimI3NRyzjOaoZwiARKgW0hY6U83zrv86mizSTHU1UIJyUWu6HZq7JZbnk16eTZxo0HOj+OGQ05lkPME5DSl24RLSCtXiybhNhgDTcVta3Za94uWniJBAaBFD0tXmtjYVuc3tawt+iCLSyNXItrOksW7zhZAa1oq2hImjLdyyEnEB9NsyOBDZqOVFKqh2EqgGMonDFy6kWACbYKFUFZAFtwcPTQZtRXBwUewi7cMYvdFtL75tgM7XLGpB9ZeRpi17asP-CARn0yRXrUUG62RpYtvnBLUCpc6OkbtWgVbbUJMD8AM+XXY3iRkD70tGWPwKlntHQFs8iu9mLbaMK1U8QiwhCE5QdrOWhhjtikQ2EjtmRt9XcnfMaEIKk59taJj2hejmD34r1mRZND0vi0vlB84kX8KiR5kzqeQ9KHFU7QDqKDgh8d1PQzKF1mHPbft+q12aGCB2ZBmeYOhTLFoV0c9ae826HUlu4AG6aeUqblhqL-gtba6dFIEAAE4TgUediE3RJ1GAx+3GRunXRJ2HiNonyMNKtMFRJDpVRQP-q+BcC-E+Jq0woN7uDgacNOFkNAMntNVh64BoYOPU5w+CY1pgce33bVnJrFKi8e8FwF5BoJYzkBsQPPVhIL0RsaKe3OPZGJQV110FFpXmLyu215a7hveEnXrv4AQhm9aCpgBguN35hRod29jmwFQWt6xhhG9HndrfCjt+Aq4MgL9DviJNIVlCxkH918C7d9u3PQMXB0X2lRTWRwXpVGoMBYJSAa+mJme1Uh3xQKd+DqpnvBCeQvI6PShaQvdBL6BAACbegiGHVV7XdddfQNl22WtBjg+6BOREAYivhNVcfBPnTEXVSgIDq0gDTbB7Uzrp1Iq2UlZxz0LTL9q+hKrfvPYaF3hs0T3MdJiAv639ku2CYIGQOiBaDnkXyFAY17Yz09DQGg8wc-0gqLw2olqMwZYOS1q9ZQq5cUsO3bgadaiMA41olmM6O+K8VoBzsv086-Ui0GwVduc7M5vtbotXSENFGp4PVC45rUIEMD2RWs1QUqAFLzStBt9uy-7jbvR6H7i2Vh-gKfvP2GhmmR5GDFoeUNfbycP293YYfkUqt3qPhjQQjnwA0V8RfWX4cwCkj-hkuY7bRQoZoBKGp8cuCI-au52NQP6Gh9ASuh5kpzKZnpKyUuGMmekTODs5mY8DFlKa5cYs6oz0NFn7C0+CuJo9JrcgiydZwHUOdQp-JVhPA-RuRV0aUzzDBglRzzP4pAEwVhyxRqY5bulnvp592ijTrKP0CXyAAOlgEHVdp5ECBmQMEEnYvol6LDOUNBET2iQr9a+53icFWPbL1jJ4zY2aJ2N7HhplGQ48ccDFzleAq4PeD0CbJ-HQAAALwWagAdjRQG5UwHj5HGKOAu-etwDBMXGdIVx8EDcYSp3HTtQIsVGYYsPTh1j+xz47Ce+NoMJO7nESiwBErKARKnnSYBpydB4AHjjWwkx8ZhO2xSTZx6eraXICUnqTtJ0Lmid8hAA')">function make_binding(variable, value) {
    return pair(variable, value);
}
function binding_variable(binding) {
    return head(binding);
}
function binding_value(binding) {
    return tail(binding);
}
function binding_in_frame(variable, frame) {
    return assoc(variable, frame);
}
function extend(variable, value, frame) {
    return pair(make_binding(variable, value), frame);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.79" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.79">Exercise 4.79 </a></b> 
  
      Louis Reasoner wonders why the
      
	<span style="color:green"><kbd>simple-query</kbd></span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      and <kbd>disjoin</kbd>
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>) are implemented using
      explicit
      
	<span style="color:green"><kbd>delay</kbd>
	</span><span style="color:blue">delay</span>
      
      operations, rather than being defined as follows:
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append (find-assertions query-pattern frame)
                    (apply-rules query-pattern frame)))
   frame-stream))

(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave
       (qeval (first-disjunct disjuncts) frame-stream)
       (disjoin (rest-disjuncts disjuncts) frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
              frame =>
                 stream_append(find_assertions(query_pattern, frame),
                               apply_rules(query_pattern, frame)),
              frame_stream);
}
function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave(evaluate_query(first_disjunct(disjuncts), 
                                    frame_stream),
                     disjoin(rest_disjuncts(disjuncts), frame_stream));
}</pre></div></div></td></tr></table>
      Can you give examples of queries where these simpler definitions would
      lead to undesirable behavior?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_2_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_2_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.80" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.80">Exercise 4.80 </a></b> 
  
      Why do <kbd>disjoin</kbd> and
      
	<span style="color:green"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      interleave the streams rather than simply append them?  Give examples that
      illustrate why interleaving works better.  (Hint: Why did we use
      <kbd>interleave</kbd> in
      section&nbsp;<REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>?)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_3_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_3_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.81" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.81">Exercise 4.81 </a></b> 
  
    Why does
    
      <span style="color:green"><kbd>flatten-stream</kbd></span>
      <span style="color:blue"><kbd>flatten_stream</kbd>
      </span>
    
    use
    
      <span style="color:green"><kbd>delay</kbd> explicitly?</span>
      <span style="color:blue">a lambda expression in its body?</span>
    
    What would be wrong with defining it as follows:
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave
       (stream-car stream)
       (flatten-stream (stream-cdr stream)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave(head(stream),
                     flatten_stream(stream_tail(stream)));
}</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_4_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_4_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.82" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.82">Exercise 4.82 </a></b> 
  
      
      Alyssa P. Hacker proposes to use a simpler version of
      
	<span style="color:green"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      in <kbd>negate</kbd>,
      
	<span style="color:green"><kbd>lisp-value</kbd>,</span>
	<span style="color:blue"><kbd>javascript_value</kbd>,
	</span>
      
      and
      
	<span style="color:green"><kbd>find-assertions</kbd>.</span>
	<span style="color:blue"><kbd>find_assertions</kbd>.
	</span>
      
      She observes that the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that is mapped over the frame stream in these cases always produces either
      the empty stream or a singleton stream, so no interleaving is needed when
      combining these streams.
      <OL type="a">
	<LI>
          Fill in the missing expressions in Alyssa's program.
          <kbd class='snippet'>function simple_stream_flatmap(fun, s) {
    return simple_flatten(stream_map(fun, s));
}
function simple_flatten(stream) {
    return stream_map($\langle ?? \rangle$,
                      stream_filter($\langle ?? \rangle$, stream));
}</kbd>
	</LI>
	<LI>
          Does the query system's behavior change if we change it in this
	  way?
	</LI>
      </OL>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_5_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_5_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.83" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.83">Exercise 4.83 </a></b> 
  
      
      
      
      Implement for the query language a
      
	<span style="color:green">new special form called
	<kbd>unique</kbd>.</span>
	<span style="color:blue">query expression called
	<kbd>unique</kbd>.</span>
      
      
	<span style="color:green">
	  <kbd>Unique</kbd>
	</span>
	<span style="color:blue">
	  Applictions of <kbd>unique</kbd>
	</span>
      
      should succeed if there is precisely one item in the data base satisfying
      a specified query.  For example,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "wizard")))</pre></div></div></td></tr></table>
      should print the one-item stream
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job (Bitdiddle Ben) (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(list("Bitdiddle", "Ben"), list("computer", "wizard")))</pre></div></div></td></tr></table>
      since Ben is the only computer wizard, and
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer programmer)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "programmer")))</pre></div></div></td></tr></table>
      should print the empty stream, since there is more than one computer
      programmer.  Moreover,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(and (job ?x ?j) (unique (job ?anyone ?j)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
and(job(x, j), unique(job(anyone, j)))</pre></div></div></td></tr></table>
      should list all the jobs that are filled by only one person, and the
      people who fill them.
      <p></p>
      There are two parts to implementing <kbd>unique</kbd>.
      The first is to write a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that handles this special form, and the second is to make
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      dispatch to that
      
	<span style="color:green">procedure.</span>
	<span style="color:blue">function.</span>
      
      The second part is trivial, since
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      does its dispatching in a data-directed way.  If your
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      is called
      
	<span style="color:green"><kbd>uniquely-asserted</kbd>,</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>,
	</span>
      
      all you need to do is
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'unique 'qeval uniquely-asserted)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
put("unique", "evaluate_query", uniquely_asserted);</pre></div></div></td></tr></table>
      and
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      will dispatch to this
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      for every query whose
      <kbd>type</kbd>
      
	<span style="color:green">(<kbd>car</kbd>)</span>
	<span style="color:blue">(<kbd>head</kbd>)</span>
      
      is the
      
	<span style="color:green">symbol</span>
	<span style="color:blue">string</span>
      
      
	<span style="color:green"><kbd>unique</kbd></span>
	<span style="color:blue"><kbd>"unique"</kbd></span>
      
      <p></p>
      The real problem is to write the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>uniquely-asserted</kbd>.</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>.
	</span>
      
      This should take as input the <kbd>contents</kbd>
      
	<span style="color:green">(<kbd>cdr</kbd>)</span>
	<span style="color:blue">(<kbd>tail</kbd>)</span>
      
      of the <kbd>unique</kbd> query, together with a stream
      of frames.  For each frame in the stream, it should use
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to find the stream of all extensions to the frame that satisfy the given
      query.  Any stream that does not have exactly one item in it should be
      eliminated.  The remaining streams should be passed back to be accumulated
      into one big stream that is the result of the
      <kbd>unique</kbd> query.  This is similar to the
      implementation of the <kbd>not</kbd> special form.
      <p></p>
      Test your implementation by forming a query that lists all people who
      supervise precisely one person.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_6_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_6_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.84" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.84">Exercise 4.84 </a></b> 
  
      
      
      
      Our implementation of <kbd>and</kbd> as a series
      combination of queries
      
	<span style="color:green">
	  (figure&nbsp;<REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>)
	</span>
	<span style="color:blue">
	  (figure&nbsp;<REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.10" href="./4.4.2.html#fig_4.10">4.10</a></REF>)
	</span>
      
      is
      elegant, but it is inefficient because in processing the second query of
      the <kbd>and</kbd> we must scan the data base for each
      frame produced by the first query.  If the data base has
      $N$ elements, and a typical query produces a
      number of output frames proportional to $N$
      (say $N/k$), then scanning the data base for
      each frame produced by the first query will require
      $N^{2}/k$ calls to the pattern matcher.
      Another approach would be to process the two clauses of the
      <kbd>and</kbd> separately, then look for all pairs of
      output frames that are compatible.  If each query produces
      $N/k$ output frames, then this means that we
      must perform $N^{2}/k^{2}$ compatibility
      checks—a factor of $k$ fewer than the
      number of matches required in our current  method.
      <p></p>
      Devise an implementation of <kbd>and</kbd> that uses
      this strategy.  You  must implement a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that takes two frames as inputs, checks whether the bindings in the
      frames are compatible, and, if so, produces a frame that merges the two
      sets of bindings.  This operation is similar to unification.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_7_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_7_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.85" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.85">Exercise 4.85 </a></b> 
  
      
      
      
      
      
      In section&nbsp;<REF NAME="sec:math-logic"><a class="superscript" id="4.4.4-sec-link-4.4.3" href="./4.4.3.html">4.4.3</a></REF> we saw that
      <kbd>not</kbd> and
      
	<span style="color:green"><kbd>lisp-value</kbd></span>
	<span style="color:blue"><kbd>javascript_value</kbd>
	</span>
      
      can cause the query language to give <QUOTE>wrong</QUOTE> answers if
      these filtering operations are applied to frames in which variables
      are unbound.  Devise a way to fix this shortcoming.  One idea is to
      perform the filtering in a <QUOTE>delayed</QUOTE> manner by appending to
      the frame a <QUOTE>promise</QUOTE> to filter that is fulfilled only when
      enough variables have been bound to make the operation possible.  We could
      wait to perform filtering until all other operations have been performed.
      However, for efficiency's sake, we would like to perform filtering
      as soon as possible so as to cut down on the number of intermediate frames
      generated.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_8_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_8_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.86" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.86">Exercise 4.86 </a></b> 
  
      
      Redesign the query language as a nondeterministic program to be
      implemented using the evaluator of
      section&nbsp;<REF NAME="sec:nondeterministic-evaluation"><a class="superscript" id="4.4.4-sec-link-4.3" href="./4.3.html">4.3</a></REF>, rather than as a stream
      process.  In this approach, each query will produce a single answer
      (rather than the stream of all answers) and the user can type
      
	<span style="color:green"><kbd>try-again</kbd></span>
	<span style="color:blue"><kbd>try again</kbd>
	</span>
      
      to see more answers.  You should find that much of the mechanism we built
      in this section is subsumed by nondeterministic search and backtracking.
      You will probably also find, however, that your new query language has
      subtle differences in behavior from the one implemented here.  Can you
      find examples that illustrate this difference?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_9_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_9_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>



    
    <div class="permalink">
    <a name="ex_4.87" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.87">Exercise 4.87 </a></b> 
  
      
      
      When we implemented the
      
	<span style="color:green">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator in section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF>, we saw how to use
      local environments to avoid name conflicts between the parameters of
      
	<span style="color:green">procedures.</span>
	<span style="color:blue">functions.</span>
      
      For example, in evaluating
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (square x)
  (* x x))

(define (sum-of-squares x y)
  (+ (square x) (square y)))

(sum-of-squares 3 4)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM4CO+AhgE4CmAFAB4CUoA3llDDQ7UvhY0uoAFSguAbiwBfPETJUatfAFsA+pVx6GzdrW4AaUAE8+gkaLbjJdRq069QAalenOtpVVtfUNjNzMOAGYrFB4FIA')">function square(x) {
    return x * x;
}
function sum_of_squares(x, y) {
    return square(x) + square(y);
}
sum_of_squares(3, 4);
</pre></div></div></td></tr></table>
      there is no confusion between the <kbd>x</kbd> in
      <kbd>square</kbd> and the <kbd>x</kbd>
      in
      
	<span style="color:green"><kbd>sum-of-squares</kbd>,</span>
	<span style="color:blue"><kbd>sum_of_squares</kbd>,
	</span>
      
      because we evaluate the body of each
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      in an environment that is specially constructed to contain
      bindings for the local
      
	<span style="color:green">variables.</span>
	<span style="color:blue">names.</span>
      
      In the query system, we used a
      different strategy to avoid name conflicts in applying rules.  Each
      time we apply a rule we rename the variables with new names that are
      guaranteed to be unique.  The analogous strategy for the
      
	<span style="color:green">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator would be to do away with local environments and simply
      rename the variables in the body of a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      each time we apply the
      
	<span style="color:green">procedure.</span>
	<span style="color:blue">function.</span>
      
      <p></p>
      
      
      
      
      Implement for the query language a rule-application method that uses
      environments rather than renaming.  See if you can build on your
      environment structure to create constructs in the query language for
      dealing with large systems, such as the rule analog of
      block-structured
      
	<span style="color:green">procedures.</span>
      <span style="color:blue">functions.</span>
      Can you relate any of this to the problem of making deductions in a
      context (e.g., <QUOTE>If I supposed that $P$
      were true, then I would be able to deduce $A$
      and $B$.</QUOTE>) as a method of problem
      solving?  (This problem is open-ended.  A good answer is probably worth
      a Ph.D.)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_10_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_10_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

  
<hr>

    <div class='footnote'>
      <a class='footnote-number' id='footnote-1' href='#footnote-link-1' >[1] </a>
    <FOOTNOTE>
    In general,
      unifying
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      with an expression involving
      
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      would require our being able to find a fixed point of the equation
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $ = \textit{expression involving}$
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      It is sometimes possible to syntactically form an expression that appears
      to be the solution.  For example,
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $=$
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      seems to have the fixed point
      
	<span style="color:green"><kbd>(f (f (f </kbd>…
	<kbd>)))</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>list("f", list("f", list("f",</kbd>
	  …
	  <kbd>)))</kbd>,
	</span>
      
      which we can produce by beginning with the expression
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and repeatedly substituting
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      for
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Unfortunately, not every such equation has a meaningful fixed point.  The
      issues that arise here are similar to the issues of manipulating 
      
      infinite series in mathematics.  For example, we know that 2 is the
      solution to the equation $y = 1 + y/2$.
      Beginning with the expression $1 + y/2$ and
      repeatedly substituting $1 + y/2$ for
      $y$ gives
      
        \[ 2 = y = 1 + y/2 = 1 + (1+y/2)/2 = 1 + 1/2 + y/4 =\cdots, \]
      
      which leads to
      
        \[ 2 = 1 + 1/2 + 1/4 + 1/8 +\cdots. \]
      
      However, if we try the same manipulation beginning with the
      observation that $-1$ is the solution to the
      equation $y = 1 + 2y$, we obtain
      
        \[ -1 = y = 1 + 2y = 1 + 2(1 + 2y) = 1 + 2 + 4y = \cdots, \]
      
      which leads to 
      
        \[ -1 = 1 + 2 + 4 + 8 +\cdots. \]
      
      Although the formal manipulations used in deriving these two equations
      are identical, the first result is a valid assertion about infinite
      series but the second is not.  Similarly, for our unification results,
      reasoning with an arbitrary syntactically constructed expression may
      lead to errors.
    </FOOTNOTE></div>
    
    
    <div class='footnote'><span style="color:green">
      <a class='footnote-number' id='footnote-2' href='#footnote-link-2' style="color:green">[2] </a>
    <FOOTNOTE>
    Most Lisp systems give the user
	  the ability to modify the ordinary <kbd>read</kbd>
	  procedure to perform such transformations by defining 
	  
	  
	  
	  
	  <EM>reader macro characters</EM>.  Quoted
	  expressions are already handled in this way: The reader automatically
	  translates <kbd>'expression</kbd> into
	  <kbd>(quote expression)</kbd> before the
	  evaluator sees it.  We could arrange for
	  <kbd>?expression</kbd> to be transformed into
	  <kbd>(? expression)</kbd> in the same way; however,
	  for the sake of clarity we have included the transformation
	  procedure here explicitly.
	  <p></p>
	  
	  <kbd>Expand-question-mark</kbd> and
	  <kbd>contract-question-mark</kbd> use several
	  procedures with <kbd>string</kbd> in their names.
	  These are Scheme primitives.
    </FOOTNOTE></span></div>
    
    
</div></div>

    <div class='nav'>
  
        <a class='btn btn-secondary btn-nav' href='./4.4.3.html'>&lt; Previous</a>
    
    <div style='flex-grow: 1;'></div>
  
        <a class='btn btn-secondary btn-nav' id='97' href='./5.html'>Next &gt;</a>
      </div>
    <div class='chapter_sign'>
      4.4.4&nbsp;&nbsp;
    Implementing the Query System
  
    </div>
    <script> var chapter_id = 96; </script>
    <script> var chapter_path = "chapters/4.4.4.html"; </script>
    <div class='next-page'></div>
    </div>
    </div> <!-- /.container -->
    </body></html>