<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <!-- Global site tag (gtag.js) - Google Analytics - START -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-156801664-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-156801664-1');
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics - END -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="description" content="4.4.4&nbsp;&nbsp;
    Implementing the Query System
  " />
    <title>
      4.4.4&nbsp;&nbsp;
    Implementing the Query System
  
    </title>
    
  <meta name="csrf-param" content="authenticity_token" />
  <meta name="csrf-token" content="EMTEijVc2kiiKUH4nYH0lQG3pLPfMowQ/Stg//t6DCo0e5pWMQwamnTvIdmVZqY/MqSx2IYYE+2bpNV6UNSMwQ==" />

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    -->
    <link href="https://fonts.googleapis.com/css?family=Inconsolata&display?swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans|Droid+Serif" rel="stylesheet">
    <link rel="stylesheet" media="all" href="../assets/stylesheet.css" />

   <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon.ico" />

<!--    <link rel="shortcut icon" type="image/png" href="../images/lambda.png" /> -->

    <!-- for support of progressive web app, see github README, DISABLED!
    <link rel="manifest" href="../static/manifest.json">
    -->

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" 
		     	  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	          crossorigin="anonymous">
    </script> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script> -->
    <script type="text/javascript" 
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script>
   <!--  <script type="text/javascript" 
      src="../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script> -->
  
    <script src="../assets/application.js"></script>
  
    <!-- Rendering inline LaTeX -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true,
          jax: ["input/TeX","output/HTML-CSS"]
        }
      });
    </script>
    <!--<script src="/mathjax/MathJax.js?config=TeX-AMS_HTML-full.js" type="text/javascript"></script>-->
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body>

    
    <!-- support for progressive web app, see README, DISABLED
    <script>
      if ('serviceWorker' in navigator && !navigator.serviceWorker.controller) {
          navigator.serviceWorker.register("../sw.js").then(function(reg) {
              console.log("Service worker has been registered for scope: " + reg.scope);
          });
      }
    </script>
    -->

     <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top justify-content-between">
       <button id="btn" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#nav-sidebar" aria-controls="nav-sidebar" aria-expanded="false" aria-label="Toggle navigation" title="navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <span class="navbar-brand-short"><a title="Go back to front page" href="../index.html" class="gray">SICP &mdash; Scheme/JS</a></span>
       <span class="navbar-brand-long" ><a title="Go back to front page" href="../index.html" class="gray">Structure and Interpretation of Computer Programs &mdash; Comparison Edition</a></span>

       <!-- edit the search engine by visiting: 
	    https://cse.google.com/cse/setup/basic?cx=015760785273492757659:nc_tznrzlsg 
	       -->
       <form class="form-inline ml-auto" id="xxx">
         <div id="search-box">
	         <script>
	           (function() {
	               var cx = "015760785273492757659:nc_tznrzlsg";
	               var gcse = document.createElement("script");
	               gcse.type = "text/javascript";
	               gcse.async = true;
	               gcse.src = "https://cse.google.com/cse.js?cx=" + cx;
	               var s = document.getElementsByTagName("script")[0];
	               s.parentNode.insertBefore(gcse, s);
	           })();
	           window.onload = function()
	           { 
	               var searchBox =  document.getElementById("gsc-i-id1");
	               searchBox.placeholder= "search web edition";
	               searchBox.title= "search web edition";
	           }
	         </script>
	         <gcse:search></gcse:search>
         </div>
       </form>
       <span class="navbar-brand-short">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">S</a>
       </span>
       <span class="navbar-brand-long">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">Source</a>
       </span>
     </nav>
     
     <div class="container scroll">

            
        <div class="collapse" id="nav-sidebar" role="tablist" aria-multiselectable="true">
        <!-- insert a dummy entry, to give one extra line of space -->
        <a class="navbar-brand" href="index.html">&nbsp;</a>
    
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-1">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-1" aria-expanded="false" aria-controls="sidebar-collapse-1">
                <a href="./foreword.html"> 
        Foreword
    </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-2">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-2" aria-expanded="false" aria-controls="sidebar-collapse-2">
                <a href="./prefaces.html"> 
        Prefaces
    </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-3">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-3" aria-expanded="false" aria-controls="sidebar-collapse-3">
                <a href="./acknowledgements.html"> 
Acknowledgments
    </a>
              </span>
            </h5>
          </div>
        </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-4">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.html">1 
    Building Abstractions with 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-4" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-5">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.1.html">1.1 The Elements of Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-5" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-6">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-6" aria-expanded="false" aria-controls="sidebar-collapse-6">
                <a href="./1.1.1.html"> 1.1.1 Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-7">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-7" aria-expanded="false" aria-controls="sidebar-collapse-7">
                <a href="./1.1.2.html"> 1.1.2 Naming and the Environment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-8">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-8" aria-expanded="false" aria-controls="sidebar-collapse-8">
                <a href="./1.1.3.html"> 1.1.3 
    Evaluating
    
      <span style="color:green">Combinations</span>
      <span style="color:blue">Operator Combinations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-9">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-9" aria-expanded="false" aria-controls="sidebar-collapse-9">
                <a href="./1.1.4.html"> 1.1.4 
    Compound <span style="color:green">Procedures</span>
    <span style="color:blue">Functions</span>
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-10">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-10" aria-expanded="false" aria-controls="sidebar-collapse-10">
                <a href="./1.1.5.html"> 1.1.5 
    The Substitution Model for 
    
      <span style="color:green">
        Procedure
      </span>
      <span style="color:blue">
        Function
      </span>
    
    Application
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-11">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-11" aria-expanded="false" aria-controls="sidebar-collapse-11">
                <a href="./1.1.6.html"> 1.1.6 
    Conditional Expressions and Predicates
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-12">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-12" aria-expanded="false" aria-controls="sidebar-collapse-12">
                <a href="./1.1.7.html"> 1.1.7 Example: Square Roots by Newton's Method</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-13">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-13" aria-expanded="false" aria-controls="sidebar-collapse-13">
                <a href="./1.1.8.html"> 1.1.8 
    
      <span style="color:green">
        Procedures
      </span>
      <span style="color:blue">
        Functions
      </span>
    
    as Black-Box Abstractions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-14">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.2.html">1.2 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    and the Processes They Generate
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-14" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-15">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-15" aria-expanded="false" aria-controls="sidebar-collapse-15">
                <a href="./1.2.1.html"> 1.2.1 Linear Recursion and Iteration</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-16">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-16" aria-expanded="false" aria-controls="sidebar-collapse-16">
                <a href="./1.2.2.html"> 1.2.2 Tree Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-17">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-17" aria-expanded="false" aria-controls="sidebar-collapse-17">
                <a href="./1.2.3.html"> 1.2.3 Orders of Growth</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-18">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-18" aria-expanded="false" aria-controls="sidebar-collapse-18">
                <a href="./1.2.4.html"> 1.2.4 Exponentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-19">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-19" aria-expanded="false" aria-controls="sidebar-collapse-19">
                <a href="./1.2.5.html"> 1.2.5 Greatest Common Divisors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-20">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-20" aria-expanded="false" aria-controls="sidebar-collapse-20">
                <a href="./1.2.6.html"> 1.2.6 Example: Testing for Primality</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-21">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.3.html">1.3 
        Formulating Abstractions with Higher-Order 
        
	  <span style="color:green">Procedures</span>
	  <span style="color:blue">Functions</span>
	
      </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-21" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-22">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-22" aria-expanded="false" aria-controls="sidebar-collapse-22">
                <a href="./1.3.1.html"> 1.3.1 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    as Arguments
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-23">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-23" aria-expanded="false" aria-controls="sidebar-collapse-23">
                <a href="./1.3.2.html"> 1.3.2 
    
      <span style="color:green">Constructing Procedures using Lambda</span>
      <span style="color:blue">Constructing Functions using Lambda Expressions
      </span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-24">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-24" aria-expanded="false" aria-controls="sidebar-collapse-24">
                <a href="./1.3.3.html"> 1.3.3 
    
      <span style="color:green">Procedures</span>
    <span style="color:blue">Functions</span>
    as General Methods
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-25">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-25" aria-expanded="false" aria-controls="sidebar-collapse-25">
                <a href="./1.3.4.html"> 1.3.4 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    as Returned Values
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-26">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.html">2 Building Abstractions with Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-26" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-27">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.1.html">2.1 Introduction to Data Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-27" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-28">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-28" aria-expanded="false" aria-controls="sidebar-collapse-28">
                <a href="./2.1.1.html"> 2.1.1 
    Example: Arithmetic Operations for Rational Numbers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-29">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-29" aria-expanded="false" aria-controls="sidebar-collapse-29">
                <a href="./2.1.2.html"> 2.1.2 
    Abstraction Barriers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-30">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-30" aria-expanded="false" aria-controls="sidebar-collapse-30">
                <a href="./2.1.3.html"> 2.1.3 
    What Is Meant by Data?
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-31">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-31" aria-expanded="false" aria-controls="sidebar-collapse-31">
                <a href="./2.1.4.html"> 2.1.4 
    Extended Exercise: Interval Arithmetic
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-32">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.2.html">2.2 Hierarchical Data and the Closure Property</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-32" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-33">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-33" aria-expanded="false" aria-controls="sidebar-collapse-33">
                <a href="./2.2.1.html"> 2.2.1 
    Representing Sequences
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-34">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-34" aria-expanded="false" aria-controls="sidebar-collapse-34">
                <a href="./2.2.2.html"> 2.2.2 
    Hierarchical Structures
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-35">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-35" aria-expanded="false" aria-controls="sidebar-collapse-35">
                <a href="./2.2.3.html"> 2.2.3 
    Sequences as Conventional Interfaces
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-36">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-36" aria-expanded="false" aria-controls="sidebar-collapse-36">
                <a href="./2.2.4.html"> 2.2.4 
    Example: A Picture Language
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-37">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.3.html">2.3 Symbolic Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-37" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-38">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-38" aria-expanded="false" aria-controls="sidebar-collapse-38">
                <a href="./2.3.1.html"> 2.3.1 
    
      <span style="color:green">Quotation</span>
      <span style="color:blue">Strings</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-39">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-39" aria-expanded="false" aria-controls="sidebar-collapse-39">
                <a href="./2.3.2.html"> 2.3.2 
    Example: Symbolic Differentiation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-40">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-40" aria-expanded="false" aria-controls="sidebar-collapse-40">
                <a href="./2.3.3.html"> 2.3.3 
    Example: Representing Sets
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-41">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-41" aria-expanded="false" aria-controls="sidebar-collapse-41">
                <a href="./2.3.4.html"> 2.3.4 
    Example: Huffman Encoding Trees
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-42">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.4.html">2.4 Multiple Representations for Abstract Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-42" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-43">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-43" aria-expanded="false" aria-controls="sidebar-collapse-43">
                <a href="./2.4.1.html"> 2.4.1 
    Representations for Complex Numbers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-44">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-44" aria-expanded="false" aria-controls="sidebar-collapse-44">
                <a href="./2.4.2.html"> 2.4.2 
    Tagged data
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-45">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-45" aria-expanded="false" aria-controls="sidebar-collapse-45">
                <a href="./2.4.3.html"> 2.4.3 
    Data-Directed Programming and Additivity
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-46">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.5.html">2.5 Systems with Generic Operations</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-46" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-47">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-47" aria-expanded="false" aria-controls="sidebar-collapse-47">
                <a href="./2.5.1.html"> 2.5.1 
    Generic Arithmetic Operations
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-48">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-48" aria-expanded="false" aria-controls="sidebar-collapse-48">
                <a href="./2.5.2.html"> 2.5.2 
    Combining Data of Different Types
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-49">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-49" aria-expanded="false" aria-controls="sidebar-collapse-49">
                <a href="./2.5.3.html"> 2.5.3 
    Example: Symbolic Algebra
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-50">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.html">3 Modularity, Objects, and State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-50" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-51">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.1.html">3.1 Assignment and Local State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-51" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-52">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-52" aria-expanded="false" aria-controls="sidebar-collapse-52">
                <a href="./3.1.1.html"> 3.1.1 
    Local State Variables
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-53">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-53" aria-expanded="false" aria-controls="sidebar-collapse-53">
                <a href="./3.1.2.html"> 3.1.2 
    The Benefits of Introducing Assignment
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-54">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-54" aria-expanded="false" aria-controls="sidebar-collapse-54">
                <a href="./3.1.3.html"> 3.1.3 
    The Costs of Introducing Assignment
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-55">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.2.html">3.2 The Environment Model of Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-55" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-56">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-56" aria-expanded="false" aria-controls="sidebar-collapse-56">
                <a href="./3.2.1.html"> 3.2.1 
    The Rules for Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-57">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-57" aria-expanded="false" aria-controls="sidebar-collapse-57">
                <a href="./3.2.2.html"> 3.2.2 
    Applying Simple
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-58">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-58" aria-expanded="false" aria-controls="sidebar-collapse-58">
                <a href="./3.2.3.html"> 3.2.3 
    Frames as the Repository of Local State
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-59">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-59" aria-expanded="false" aria-controls="sidebar-collapse-59">
                <a href="./3.2.4.html"> 3.2.4 
    Internal
    
      <span style="color:green">Definitions</span>
      <span style="color:blue">Declarations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-60">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.3.html">3.3 Modeling with Mutable Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-60" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-61">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-61" aria-expanded="false" aria-controls="sidebar-collapse-61">
                <a href="./3.3.1.html"> 3.3.1 
    Mutable List Structure
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-62">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-62" aria-expanded="false" aria-controls="sidebar-collapse-62">
                <a href="./3.3.2.html"> 3.3.2 
    Representing Queues
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-63">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-63" aria-expanded="false" aria-controls="sidebar-collapse-63">
                <a href="./3.3.3.html"> 3.3.3 
    Representing Tables
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-64">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-64" aria-expanded="false" aria-controls="sidebar-collapse-64">
                <a href="./3.3.4.html"> 3.3.4 
    A Simulator for Digital Circuits
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-65">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-65" aria-expanded="false" aria-controls="sidebar-collapse-65">
                <a href="./3.3.5.html"> 3.3.5 
    Propagation of Constraints
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-66">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.4.html">3.4 Concurrency: Time Is of the Essence</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-66" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-67">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-67" aria-expanded="false" aria-controls="sidebar-collapse-67">
                <a href="./3.4.1.html"> 3.4.1 
    The Nature of Time in Concurrent Systems
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-68">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-68" aria-expanded="false" aria-controls="sidebar-collapse-68">
                <a href="./3.4.2.html"> 3.4.2 
    Mechanisms for Controlling Concurrency
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-69">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.5.html">3.5 Streams</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-69" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-70">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-70" aria-expanded="false" aria-controls="sidebar-collapse-70">
                <a href="./3.5.1.html"> 3.5.1 
    Streams Are Delayed Lists
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-71">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-71" aria-expanded="false" aria-controls="sidebar-collapse-71">
                <a href="./3.5.2.html"> 3.5.2 
    Infinite Streams
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-72">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-72" aria-expanded="false" aria-controls="sidebar-collapse-72">
                <a href="./3.5.3.html"> 3.5.3 
    Exploiting the Stream Paradigm
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-73">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-73" aria-expanded="false" aria-controls="sidebar-collapse-73">
                <a href="./3.5.4.html"> 3.5.4 
    Streams and Delayed Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-74">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-74" aria-expanded="false" aria-controls="sidebar-collapse-74">
                <a href="./3.5.5.html"> 3.5.5 
    Modularity of Functional Programs and Modularity of Objects
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-75">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.html">4 Metalinguistic Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-75" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-76">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.1.html">4.1 The Metacircular Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-76" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-77">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-77" aria-expanded="false" aria-controls="sidebar-collapse-77">
                <a href="./4.1.1.html"> 4.1.1 
    The Core of the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-78">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-78" aria-expanded="false" aria-controls="sidebar-collapse-78">
                <a href="./4.1.2.html"> 4.1.2 
    Representing
    
      <span style="color:green">Expressions</span>
      <span style="color:blue">Components</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-79">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-79" aria-expanded="false" aria-controls="sidebar-collapse-79">
                <a href="./4.1.3.html"> 4.1.3 
    Evaluator Data Structures
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-80">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-80" aria-expanded="false" aria-controls="sidebar-collapse-80">
                <a href="./4.1.4.html"> 4.1.4 
    Running the Evaluator as a Program
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-81">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-81" aria-expanded="false" aria-controls="sidebar-collapse-81">
                <a href="./4.1.5.html"> 4.1.5 
    Data as Programs
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-82">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-82" aria-expanded="false" aria-controls="sidebar-collapse-82">
                <a href="./4.1.6.html"> 4.1.6 
    Internal
    
      <span style="color:green">Definitions</span>
      <span style="color:blue">Declarations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-83">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-83" aria-expanded="false" aria-controls="sidebar-collapse-83">
                <a href="./4.1.7.html"> 4.1.7 
    Separating Syntactic Analysis from Execution
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-84">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.2.html">4.2 
    
      <span style="color:green">Variations on a Scheme:</span>
    
    Lazy Evaluation
</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-84" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-85">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-85" aria-expanded="false" aria-controls="sidebar-collapse-85">
                <a href="./4.2.1.html"> 4.2.1 
    Normal Order and Applicative Order
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-86">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-86" aria-expanded="false" aria-controls="sidebar-collapse-86">
                <a href="./4.2.2.html"> 4.2.2 
    An Interpreter with Lazy Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-87">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-87" aria-expanded="false" aria-controls="sidebar-collapse-87">
                <a href="./4.2.3.html"> 4.2.3 
    Streams as Lazy Lists
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-88">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.3.html">4.3 
    
      <span style="color:green">Variations on a Scheme:</span>
    
    Nondeterministic Computing
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-88" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-89">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-89" aria-expanded="false" aria-controls="sidebar-collapse-89">
                <a href="./4.3.1.html"> 4.3.1 
    
      <span style="color:green">Amb and Search</span>
      <span style="color:blue">Search and amb</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-90">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-90" aria-expanded="false" aria-controls="sidebar-collapse-90">
                <a href="./4.3.2.html"> 4.3.2 
    Examples of Nondeterministic Programs
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-91">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-91" aria-expanded="false" aria-controls="sidebar-collapse-91">
                <a href="./4.3.3.html"> 4.3.3 
    Implementing the
    
      <span style="color:green">Amb</span>
      <span style="color:blue">amb</span>
    
    Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-92">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.4.html">4.4 Logic Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-92" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-93">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-93" aria-expanded="false" aria-controls="sidebar-collapse-93">
                <a href="./4.4.1.html"> 4.4.1 
    Deductive Information Retrieval
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-94">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-94" aria-expanded="false" aria-controls="sidebar-collapse-94">
                <a href="./4.4.2.html"> 4.4.2 
    How the Query System Works
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-95">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-95" aria-expanded="false" aria-controls="sidebar-collapse-95">
                <a href="./4.4.3.html"> 4.4.3 
    Is Logic Programming Mathematical Logic?
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-96">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-96" aria-expanded="false" aria-controls="sidebar-collapse-96">
                <a href="./4.4.4.html"> 4.4.4 
    Implementing the Query System
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-97">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.html">5 Computing with Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-97" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-98">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.1.html">5.1 Designing Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-98" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-99">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-99" aria-expanded="false" aria-controls="sidebar-collapse-99">
                <a href="./5.1.1.html"> 5.1.1 
    A Language for Describing Register Machines
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-100">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-100" aria-expanded="false" aria-controls="sidebar-collapse-100">
                <a href="./5.1.2.html"> 5.1.2 
    Abstraction in Machine Design
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-101">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-101" aria-expanded="false" aria-controls="sidebar-collapse-101">
                <a href="./5.1.3.html"> 5.1.3 
    Subroutines
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-102">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-102" aria-expanded="false" aria-controls="sidebar-collapse-102">
                <a href="./5.1.4.html"> 5.1.4 
    Using a Stack to Implement Recursion
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-103">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-103" aria-expanded="false" aria-controls="sidebar-collapse-103">
                <a href="./5.1.5.html"> 5.1.5 
    Instruction Summary
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-104">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.2.html">5.2 A Register-Machine Simulator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-104" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-105">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-105" aria-expanded="false" aria-controls="sidebar-collapse-105">
                <a href="./5.2.1.html"> 5.2.1 
    The Machine Model
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-106">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-106" aria-expanded="false" aria-controls="sidebar-collapse-106">
                <a href="./5.2.2.html"> 5.2.2 
    The Assembler
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-107">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-107" aria-expanded="false" aria-controls="sidebar-collapse-107">
                <a href="./5.2.3.html"> 5.2.3 
    Generating Execution
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    for Instructions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-108">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-108" aria-expanded="false" aria-controls="sidebar-collapse-108">
                <a href="./5.2.4.html"> 5.2.4 
    Monitoring Machine Performance
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-109">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.3.html">5.3 Storage Allocation and Garbage Collection</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-109" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-110">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-110" aria-expanded="false" aria-controls="sidebar-collapse-110">
                <a href="./5.3.1.html"> 5.3.1 
    Memory as Vectors
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-111">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-111" aria-expanded="false" aria-controls="sidebar-collapse-111">
                <a href="./5.3.2.html"> 5.3.2 
    Maintaining the Illusion of Infinite Memory
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-112">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.4.html">5.4 The Explicit-Control Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-112" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-113">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-113" aria-expanded="false" aria-controls="sidebar-collapse-113">
                <a href="./5.4.1.html"> 5.4.1 
    The Core of the Explicit-Control Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-114">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-114" aria-expanded="false" aria-controls="sidebar-collapse-114">
                <a href="./5.4.2.html"> 5.4.2 
    Sequence Evaluation and Tail Recursion
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-115">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-115" aria-expanded="false" aria-controls="sidebar-collapse-115">
                <a href="./5.4.3.html"> 5.4.3 
    Conditionals, Assignments, and <span style="color:green">Definitions</span><span style="color:blue">Declarations and Blocks</span>
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-116">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-116" aria-expanded="false" aria-controls="sidebar-collapse-116">
                <a href="./5.4.4.html"> 5.4.4 
    Running the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-117">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.5.html">5.5 Compilation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-117" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-118">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-118" aria-expanded="false" aria-controls="sidebar-collapse-118">
                <a href="./5.5.1.html"> 5.5.1 
    Structure of the Compiler
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-119">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-119" aria-expanded="false" aria-controls="sidebar-collapse-119">
                <a href="./5.5.2.html"> 5.5.2 
    Compiling
    
      <span style="color:blue">Statements and</span>
    
    Expressions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-120">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-120" aria-expanded="false" aria-controls="sidebar-collapse-120">
                <a href="./5.5.3.html"> 5.5.3 
    Compiling
    
      <span style="color:green">
	Combinations
      </span>
      <span style="color:blue">
	Applications
      </span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-121">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-121" aria-expanded="false" aria-controls="sidebar-collapse-121">
                <a href="./5.5.4.html"> 5.5.4 
    Combining Instruction Sequences
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-122">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-122" aria-expanded="false" aria-controls="sidebar-collapse-122">
                <a href="./5.5.5.html"> 5.5.5 
    An Example of Compiled Code
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-123">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-123" aria-expanded="false" aria-controls="sidebar-collapse-123">
                <a href="./5.5.6.html"> 5.5.6 
    Lexical Addressing
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-124">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-124" aria-expanded="false" aria-controls="sidebar-collapse-124">
                <a href="./5.5.7.html"> 5.5.7 
    Interfacing Compiled Code to the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-125">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-125" aria-expanded="false" aria-controls="sidebar-collapse-125">
                <a href="./references.html"> References</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-126">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-126" aria-expanded="false" aria-controls="sidebar-collapse-126">
                <a href="./making-of.html"> About the SICP JS Project</a>
              </span>
            </h5>
          </div>
        </div>
        </div>
<div id='permalink-msg'>
<div class='screen'>
  <div class='alert alert-success'>
    <strong>Permalink copied!</strong>
  </div>
</div>
</div>
<div class='chapter-content'>

      <div class='chapter-title'>
        <div class='permalink'>
        <a name='top' class='permalink'> 
    4.4.4&nbsp;&nbsp;
    Implementing the Query System
  
        </a>
        </div>
      </div>
      <div class='chapter-text'>
        <div class='SECTION'>
    

  
  <div class='permalink'>
<a name='p1' class='permalink'></a><p>
    Section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF> described how the query
    system works. Now we fill in the details by presenting a complete
    implementation of the system.
  </p></div>

  
      <div class='permalink'>
        <a name='sec4.4.4.1' class='permalink'></a><h1>
    4.4.4.1&nbsp;&nbsp;&nbsp;The Driver Loop and Instantiation</h1></div>
    

    <div class='permalink'>
<a name='p2' class='permalink'></a><p>
      
      
      The driver loop for the query system repeatedly reads input
      expressions.  If the expression is a rule or assertion to be added to
      the data base, then the information is added.  Otherwise the
      expression is assumed to be a query.  The driver passes this query to
      the evaluator
      <span style="color:green"><kbd>qeval</kbd></span>
      <span style="color:blue"><kbd>evaluate_query</kbd>
      </span>
      
      together with an initial frame stream consisting of a single empty frame.
      The result of the evaluation is a stream of frames generated by satisfying
      the query with variable values found in the data base.  These frames are
      used to form a new stream consisting of copies of the original query in
      which the variables are instantiated with values supplied by the stream of
      frames, and this final stream is
      
	<span style="color:green">printed at the terminal:</span>
	<span style="color:blue">printed:</span>
      
      
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define input-prompt ";;; Query input:")
(define output-prompt ";;; Query results:")

(define (query-driver-loop)
  (prompt-for-input input-prompt)
  (let ((q (query-syntax-process (read))))
    (cond ((assertion-to-be-added? q)
           (add-rule-or-assertion! (add-assertion-body q))
           (newline)
           (display "Assertion added to data base.")
           (query-driver-loop))
          (else
           (newline)
           (display output-prompt)
           (display-stream
            (stream-map
             (lambda (frame)
              (instantiate q
               frame
               (lambda (v f)
                 (contract-question-mark v))))
             (qeval q (singleton-stream '()))))
  (query-driver-loop)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6j0lTkgPXDhRxLSUO6ttKYIV4jXiVuu0d3UpEbrmoJuck5UiXSBJXYEaCwFCzF0JYS0vWe6pDW+tvam2jKKC42ZYUY13FpN85hDNLF1JGX7qg7PQoRS6Hz68tPyPYrDFYuxYVLZHdk8FxToE+AL1eGb2X5XNVhXKtMlXiy7fi5DZaz3srg-nJyTbzCgrpthsz7a6DkQ0vNLaQ8hPyxw5V+6DGxzydm3sndM8FoTYS-Btnu3OfqIOaYTxUH9pqKOSA436dzWrvigllmc9kGkl2+0ANQ2f10k-0rT83E04QDnx0nQtFKAeGxRcl8QTCpigMwmgzrx6iey+WtQwMLzsCHRwOEUQOoE1Fkn-FHyaV5UXT835FVXwJyGWW2ikVNQhxwh8R3wSEtipVfHrzsAz1H0EzmTGm9l20wLsEYM3C9XEO6SHkEKYEFEOWaAslHxAjoIG2gOXWYNEDn1H0GnUMFE0Ku3oKwNXT0PgKjVUk-lQJ4KdlA3kLohrzuB6UuC-yL00EeEelEI4V229xCG8N8MiGAn0mCBkMUGEOtTkMWXUSGQaDcJckBnSAj2xV8LkKMAAB4gj0iHo-94jk5vgg9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgZPHcUAAAan92gTzUeHAnkycKME6JzW3A6K6Mch6L6IKMcW4QLGKmD0UHKMqPwFEGPFqPqOPkaO51aJGM6MiX8AmPwH6LEMGJ3HKlGL2JgVugTUmNCNcyUNKAqCqFUM5Qvy9T2QCAJn0GcDKFmkIO2E9THj8LULiMcQNm2CVRx0yL2O+C+IeNmguJeTICQITXsPcl0gBj2PSC9TEmNQ+wGIROCCHVuIRKxMBLwwGNlVXVuKcRSA-G2GFnGBxJ911TJCvi4O3zRIXnIWiRKKBOkHKn3CaFYlADdRpOSCjjIWSikT0MtjwJENdn7Cmi0TWD0OeOMJyDhgRP8FVIkJbA0LFMjnziILBG+OoF+JznWWEVGS9UmTeNAEiHeO1LINhJ+OGg8O5KdMnWVL5OcMkKDio0hPxOshhPEFNPhOCXIOQKnG4M5KBAxOsixNAyZO12UyhMcmCE1GHCJPURBJmOSFJNJXJOOMpPXWpNznMBojdkYkZMCI4LZNRM6U3h5JKjtIqiFNhBFMFBvDvHbXdW2AlLBKKGlNH1lJAXZHlItMVIbm9NVLkL1JMOeUch1IUPnI1INLzkNPMKjxdLNLdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIlbxQi13myFzPQAh3BglvKT2AKjQ-IIkcFglLGSV50fNh3ex104U8kFSkV-LvJbyLgsWdUlAzT7RzX8D7SUk1IHCYW3BHVQvMBHQwsXIzRkLwtABkMIqQuwpLlIpLgoqwrv0pRfhzUYr4SlEwpSAzThDoFLEkFqBzS4p4pqIhHYuSAzTmMYDwvEv7BEoCAzWZEeiLAaDoH7nkoekUoYG2Bkv8AzXaNIv8EUFD1AFqENSWivE6KEq0vMAzWvD0vMAMt0GMtbivDvAsqIuwr7l0BSHsqMpMtACvDbiMvMEsv3wWOAFssgkMsctElMtADAFcsorvwAFJwrvKoqYrErArQBgqM1vc9LUrfKvdjVjK3K78ABCI1PKyKgq0Acq8SYqhKoEbcLIlKqqpy0AHI8weq+ixqrI0SWy-Ktq3qzq7K7ChaFqhy6qpaYakqxqhaPqzygIAa6Kvy0AOa6ahqhY0q8KlagIZa8wUq-wB3SUM+aCm8v85yOQsSCMATPtXQGCpPOC2eE67eMis62C5yagBoAAKxjw0WuqbkEFbmIreq-LE3AtKiIUXOSHuoQkeuOC2iwFOvwlgsvQ2PEmdQzUZUyhzSxp7mCqiVEuwsgGIF5lcD4s8uJtJvqnxoJu0uwtUscFgEgDwoZqZpptppCu3AZoAFFSKeb2baaM0AA5SQIW8KkWoWvMxyZ6+gESGGtkVGjtMQq67YATCCZaodfAIZeWmre0Y+GW-iHWxWowlWooNW1uGAtvbWkG2GxWhGttVqHCHWzPN8ycEuPfbCf8jMVKRgP8FEr6yQKQWBPCRmXJAyHWgCiPQEYChSVBN2vqF8ZIS0r0yKaoGMzpRQPfWw9SdOhMN+D+WELPG2+8ouNU3QLUo27eK9NUgWgIAur+Z2keHob6368ugmyu2W6uiQ2u-wOsxmdk1yBwxIQVCPESU1R4UoRI8LDkzpPeVOhshMM+XAMAD5JgE835M87gTAa3Z-dwCgRwc0IcG5ZkRgX0D9SgL9CPPfRihFTcS28+y+-Q1CCMQk8G6DB+79IhUY7cRwHY3NK47FSY++5YC+z+5+64FMhXAoz9MBjfOwGIZkImLjWPO+LFCiD20gUgeFISFaUmQCTB3yhgTouaTB5M7cEY4IchgsYY0YyQAhqG5Sch3QHoxQnqEgEyTUVBhNMiCiHhxwdh5YTUECAASGNJ6O-oWNGIQdJE1GQbsQE1VwEZFFEB4Zlm-oMG3DgdACUcoLcBYFWkeGvvh04UnH9EoapW3AjEJCYVMc1Q1XzBFhx2g1MaMFRUgdxxcZquNW3ECCfBfsgiHVscCJ8csY91AF3roeHEPrbBPt9FMf0nSBFl-B52Ilsa1WTitUGGl2Y3nRccBkockc6J0flWFH0cCbsgMa-t2KUhGL-ptJ9WtWyeTXI08eqf7FqdGOKbNVKZg3BqAkqaqeTifFCYD20eIA4aUG3Gop4d0C6b0fAamELEiPie2GCGKYWJIt0GdXKcMZLJMfIlQlmfGcEZKcYBYH9A1AAZxRWa+B3AAHI-75ohiHmrH-60HJjTGtGunzRGAlQfnHKpDCwccchb7enlN-me6lIM1tFZhhjg9hijxyBhi-hhQkXyo7oI8nwFnUQxmJmwWv4IW9nFBCXcWTnumzmLnSXlH8XiX2hfmhloMSXvm6XjKT8o0A6g7SAQ6ukohcIQw+lhpKQjGudmjxduwRozHObkmxXiAc0mnC1BXVBIXG5ZoOW7guXKBGZbkqR+X7hVHFWiFXnMmlAJX-GM1fHmGhMGnBgJXKWRo2X4l-mxkLxyQ+XLR7gDXF5GJS0xdedbXBzpSm7sTxIIx6m+hfV5WWM1hbXc5TrdXNQ2IgJLYBMnXzx7RXWdX3Wxp+mY30IG4LqkzgmSL-HIih1M2+lJUgIhlLby37hK27JDWIGC25kyHqKS3mAs362KJXnm2OEyG1Xg7NWeX2gRmcXIje3mgGGUgBMB2NWtXUNa3s2KnbXKXx2g3QM7qO2K3E2G3dZSEGI6ZMgCChWmzmd9tsKLXc0rXw3j2lWxSByPT5ZKQBFNM9p6pGpPXAXoIVVNxTXVn3G-3FnxLFWBTKoTwo8cn+kTUGpVtB9wCLsJXPD3NIjAOcXsChXXngORpQPDxwONpmm9p4OKZU82063GA2xyBqBZI2Qg15gv5EPAX32TWhWyGUXyPNGvso1aOiwyO2wF8GPjSh0iPRRc23kwAzTIUKPH67r7osIOyJVyBl6162BSAHpiw3BQARtIJNQo0RtLdLdfAlC-gQxFBWRah48Fhg9wlhWccE8rOwiwncbZgEmxAdQPAzOwblMh07PGBrPsWax3GfPrPk50hjPSBTPRBzOTVV0guZYHX08WR5VH7M7JEXqHFqNv1LYM0257Rv0+4xS2UyhKhZozPHAeBdBSu2tBzzApE6BCAGhcuI9LYwuIucJyvov110vGun7yyD2RYnPSZ6vuvA4pyq0nPeuH2pSXqgvmv7gTPKuiW6uGvH7iFRuncBugupbwonPMSOvOFNuJujSPiS16BUXWuyuKvIvHAgUQT2hT2auXqlvuvZu6B5urv2voMuuVv1yaZvWnABunvvvqvkhMzqNOuQxwhuup3pRIjnVSv2vIiFv7TulDmtSAhPuIeWhhvVuihJv+wpEZvxIWuke8MhvvveuAgl5+HYQ0omUv5NvT3hHthQfSflvv0JQmf26f2s9uekeA5ofoFWfsez5OeKz92PSpQWeYvLPfPbv9CKeNzcejvPSo0BL5BVOoj7uz3MI2BgmHjivR2GEQgiuqg350hdfvGMpNR2OglggrfUWglA8SoWAcOqo7AJPWFuzovv0+zFfSc7A1fyBVOoKXqPftkMumvxJNtuvM7XwpEFPLYw+pPv0Fj9eqh3VoLZPxIk+bkY-tx7f2Ol6epNsGgMo4RsVoHQGI85e99IiP7q-keohB9S-DoUD6+lAW-y-DGkP3HO+E1m+y+USck+-sU99oMR-DGtGJ+vbxzrV2-dArCe+Wv5-lCNStHs6v4V--9F-AXIiS-B+K+t+UeF+ND4uG8P1P3jTnzf9sOdxfHrCtNO6tAL7mxb+9Cjn2y2IP1HA1PYQI9GBN4PUFQKoAbAscJefXGYBf39bgDjEL1CfrIgP5TgMos-G1pSBP4mEFe-vQsANwn5bcAwYzT-q0EYA-8YW--EDqv30K7dgBSoafsP0QE49aS+7KnihxPbA8tyZFbntQJpa2tdAXA9Dnex+4Cw8o0cf0lWntYRg6SfvbXvAzNKgClWZ-M8LdBJQsARWdheYEsFqB2I6A7XdQbxUlR0AquX7YxqTHKz+NdBmgtiAYMzqvNS2y6bQcqxS7LVMUyg1QepHMFaClB2QMHmBnKwC8OaRQdwZYLayv4r8vtElLDUCEmDdAgQmoIYKv7GD7BZgvKHoKCHWCIGtg1Mr4LfiOCloGUNwBHkDo-pkhFg5hMUP0FApM6fg-sDkLeYuC8M5WO4p6k8EqD8ASwDWADVIi5o98rQ+QGpDtCWBsgqDFwWrU6FxdOO8SHoeQD6HODBhMw85j3xYreYBh5zfxlSiNahCChEQsoV-GSgfZmhtdGoZMOmHNChhXgtTMsP1xKEN+-5PoHxD6gQEQG0nUACSFBA79JgUieAeJGn7IC9ClfJ4VYRWRUYcB9A8IhtC8R-D2ezw+QOgI1Iud+QUwjGI4Hkoa9aBF+XAdEOhEUCH+e0eEd1iRHq98i8IjEa8I0I98ZSwTfAAOh7gjF-G24SkaGmpGYc3OnCIkVCPVT+MZS5gI1k4Av7wijA-ja4eBBqz3C3grIl4TCMoEQNv2qqPkXYyWbc8XhkrXEYiORH5FoMfIqoVKGgyKjNREIZUbGFVE0sNRaPAyEOh1EminI+pV5nSKpGwsFBuaBNKPRkhzCDKtfbnoZRqFUpsRIgVTgsHkTaIeO1vVJrx2OC6AnWrIp1m8NgGy1G4QfNSolEtj6iMwho8MZiLY6rA26-gpSJGNP7GlVRzWOrsJDIb0iI8sLVYS-FeZRknRbCE4fmMSjei7AhASgmXwpA891URg-oQmiNHyBGhwiBTv0OUGtd2uZnOIdGP4gWIFOQ4y7rUHXzxDqe8wXmFoKMDBAqUBYOgPaJbGutSuvQNsZvCkRmdLYZbHsYCIFwX8zOy4u-iMXSBmcR6VgUAGUQAAS3NRwAAEFwA4AbmgACUyikAAAPJC1kA4kfgtbmWJxjAxqLeGm2O6wSi98TYtkJuKgkYxJW-YzcZWxDFAIkxlLfsTIBaDpj4aWjbCXwnAnkdIJe+R8c+LfEfjvxf4gCQRKsBe15g5INCUGMgmYSe+-Yl0ZuMcDbiSsmE8qHhNoDXg5hJHKXGX2ImzxEJtgGCT3zmHsg2hAmR+C8PhSLQgkvon0EWAzACS1gSkl3hwIRFSSsRVQ0Cap3EmsTehGMGCQRlHoCQhICtCeKEMtgAAGAQj1HiDHgistkkVmWHD6UAv4iqTySoBIAadxIGLOyUFOFCjEeAJ4vzKFNijhTGAWjTbG5KIFV8lAK-WKdKx8mzA3RqqEJndW54ZTfWbYXyUS3b6XCeolgGuClMfpOAMowUWyXuOm6eTMpxU2YHwRWIeSI8XklJjcl8mx9JgPUJQWyGPAyBfQAncElRigEsdkoTIRLv0A6nt9yBhU0VllO4RQgWBSrGaRwNVRDTHAI06QL6BIIntdRvdSwMNNGm44V2yURGM+2V5YDdp+030KFIbHPDRAjUWEE4HFZoDkeMDBvlGJV7xIHpF0-QsDyp5QCRuFKassyIhEN8n6bArmA3F9yiBMBQg-WDAKHJwCEBrfJARmF+EqMsRKM9gQyhp6Liv4DQPATi0pH5Q0e6QIGQdMUCoigo5MwQYaWEZ485YVGFDvyODImozpe0i6SQW4huM6ZvobAv537DpAqZmoQ7puW0JYE+Zj0g1vaMFF9B1ANIFPkf35JYjUuMYz4dIkQEz9fhK-AEZMGFjwDaqYzBcXTy17cxiAfRfEXGIZkGy6B2MoZBaP8AOkCZYxAcmDOWBTEOYBNPAG3GDkRgPhiArGV30NkiFPZJsiaVWnNnGoduRvEgPbMNHz93ZjM9oE7Ndkc9hGnPKwtdLBGfwYZ+MmObmMjhMDGI8wd6eEh6BrBPZxs-UjyiDkhy45fmG0QyLtEkJhBkpNuZhA34lyQSMEl9tbhTmHEHZGvVQAjxu7azAW5I7xiWMZH-sO5pYw3h6Fc5yAWR08yVnoW5FECs85WMYuFBVl8gKCDwFPlPLuozyC5UonkX7NUBVcBRniOwkKLVnnyI8WeGeZfO1mxUwAwctuHvMiJTyjAWqeUTKLaz+Mx5OEQ0eqKyEE11RbWE6ckCgUTz8iZbOBVmKKBltEF7s-4laIgYrzqRG4pwKFLvjo5hWP+QLHVnRzotbJ35DrLQEWBNjaQz0nvpbWemD5YpC+VhR2KcarpoMHCyVtC2kAjTagoqO6LB1eaW0BFDU3sZOk9qkhSFoUsMSy2VT6SyooAHMSYR1n8RFgkeTqQVBCmaAVC7fWqWsGekqIXqKChMSGyUgoKUxqipMUgoxlIlmFDyAoRmGenOKUgWitfsaWsWzghIIkCkbaLXn4C1hEDG2AfRZb1SupC+PRQGK8WoIqxVgZ0ScICWFiN4t4kSORMcCfjdwAAGW5qASRSL8FyVLisAmTQpooJxbPP8XNiae5ISSamn8YoTGlkqapc0qwn0ScJBi0UIPkImphbJ-SnvrkvyVFLwAdE4cKhLYidK2JgLWSfXTDr9gOJJwriTxK6XeLkg9+WyUJOaFPgqhqy5YQsUvY7KI8ey5YVi3tGe05l5kgyf9KwGyTJhCk5SKFNbhBIFFBi2JfjNqVWEjJlS+McMuaWWT7RDwWIF1P+a0thQTtO5RotnL7CZJzQuSfIBeVFByRS0ZKIspLBqDthyypSLzETboT6AUK35mougmGTUENQm5UCtTHqLLJUNeFRcOVkvQFA0S6FSSqi6MrlBjUmMVqEBriRJxTHDlUMm3BRL-mvvLAcTKtlVw+VXEUEWCsApsrfmHKiUQOOyApFNFggS-PFFFAksuV6q4hQxIpDJdZRHYnot2I3j3pCwF-I8VkuTpRohwweGjkSpn4IStJm8KnpuOS7uqte+4yLpbHWVXcdx7q3rlIiwbrgZ0WktVbrwuJHLBxHnHcFpIuXKCJV0Ne6K134lErk12QcvP2GWZErdANQ8NZVOHBRq5hDA1GSIMNKAYvSlHSwAYtdWNLvlPKw2rCstgwgmF5GCxabL+5GryQJq2FRDJSB+qai4kQNThB3GYTQ1L1YtTOlilzDTajkONYMITVnLRA2algKmoCCqB01q60KRutzUw8Cptkwtb5VnVaAG15a+9uLyNKvsfwswWZZ5ODymTuw7qhYSQtslTIWJtAbmbc246kL3VrzbjlpK-UQSf1WjYDUStA0kSf1BsR1fWqjXIC3VRKsUlImaCErv19AS2Lksolfifx-4yZZMBw3vi8NNEkpfmsw2nrW46Gl9fQDFJTRtwFQDjjWq44PqvlPCyYPBqySeSkNTa7tWOJEg0bql2Gp8XksKXFL+YYy8TeRuPUN8ahQm4ZfRobiMbygzGq8uDnrIwgvqI8RVn6SJnGCRorDUSb7C01ERdNe+I6aNE4U4IDo2moQCJ02hj9V0hm1-Bpv7pzAHAdmouOZvfX9AX45mrRk9i4pea4yjmthcuhc1aMfsHmugCFoc1Wae+-AozZOniCPAHQbESFS5vC3KZIt9qhhcQC+rUA6ppm+zaqvLW+bOCtmnTSVooAOdbm+qlgK8y01FbzFNmmrfgna1axIkYqmJU9na2X44tmpUXgTQa13Ed1jVGFsMR63Qqn8tAQrRlCL5AZPNLW5hJ5qIhjRRtFW+ssFp007b7NkrCJYszyHChNhRQjQXYkfjTblVQWtbUIFW2xb1tQyUbRzy8q+VgtK26LXttq33bBtL26BKNs3TjaFi8LcqFdvJrPDltC28pSltEBpbmwQEMrQioWVIrnlTcR+OiqwDDbkgiw4aCyrZCQrUt6WpVUqCrZbLJejo1JTWOOVWFn6WO8KCkso5U7BxBcvOTwhfh-aPihhctbEiB2upqAaLHcGDpzSE6FAi2hAkxKwav8wBxpfJLf3HqT1wgudTYPaNnbctJkCOigdGtlhKkUd8ktHdKAx3SgKQCwe6EoCt560qAK0BEjsy1gUCtlf+BfiZTR7AdxAmYzBRVFw7VR4RP0r3jsUx2s6Ag24VXUOyAKNsAuDOtJdTo0IucqU0PUbTzvTVB7A66rNXd7Cm147idOaYPfOxR4CEpEzIV1gJQ0GWwAAnK+B6hF7eK0a0mIAKW3cUNB0a-8m4DvgDwteVPSEpavAE+zGIdgQIo5K14BBK9SoO5nc3KhoBx9W66iDev7BD6aWQ4CtdsCH2N7XAiKWSWpiGR2A7w5WGWVIKX2ySV9shXQAXpi2CUXpMgUReIqzmVwnViOi4WSK53NCE9E2kRbxUv2rZQdGe8VYBBf1iKzUEisXT+S3b3BidUEcZvdEWTCgmgDwamjopEhahLYqbWoC6zdYCs8WGUcbd-WfBXKe1kEBCIwCgNk0vG4kbcA8DSJIstes+7cLeDvCLtNFLLewGAZEjdkbKidCMLPuZbsqtQXkStWQkkG-dIIUayjtRyLAPq7EXBrXv+qfXECQNkGzDQzj+YL6wIjEPAwQfqhEHlsDIrQHenRnmBKD1B5qFpKwiiG2p+h28O1B4MmA+DFh8AXodMN0HoVEUTJQwFMNmHBBe+k4ZiqRWorLRXZaKhcQ4PKqTR5uq9C-yUBagJRha13QQF8qGBlWy0VlZCvCMOjsU1Y6vV6IQzVqcAi7EA3c3TGKBMFAAHSwAAbsV6kIQ-gGDz6NY9RlCatxAMij6NDZB91NkchW5HeO+RrMUUZKM1yzUVHCo2cx56qpCAiyIZFF0iLDHQAAAL0ObmAijyQeur0fZCVGHdNRqY1-UcgNGSDmh8g9DqjRPZtEdAY8IinQP3QW1cBhA6orTaXgUDHrNA4wcwPYGBNFAixGDuJbMMKdjOtIy-ArUQl-NehOrTiz52xjVOCaNkZIEsbCN0gARpUMEef4rQkjmtUfLbpWNa1W4sRkPjGJOPDgdWV8S2NuH+YMHxtKeXY461UWzA8IeBsMil2aQvUsTiY75KHSxN8sr4Ypdvf5qxNDrkgthu8ArGDwmpSmGUdLcwdTXszh1L1eA+JEQPIHF2PPalnSaGJYHFDuhhwIJQWL6HnhFJiKXCUJOydTDk+5U-Xt4qKBoTxLJU310ENUcGgNHYw6aYH3+BJDXU59TIbY1RqF84hlGZQZfFEqjDdHE1NQDBPSI3CaAfU9YeSjcnqD9h35o4aCXOGXDwxEM4PpVMN6XRj8WSd4fxUjk-DjkE0-7sp5P9LdzYJI+-1wO6BHAMR1HtZFeNJGI9TOwYekbNNWGAgTrck0nmIFwl+pmRrAM2c1NtnXSS9PAASaxOpBRGeABY+UeWORUtm2FcE2HmGKkBhisLZ+gOfoOJQ6AqQJTmOb6PLHqj0LYYg0DnMLmDlUrPcwefKiLnfAo50o2xHHMDHdzQyDNPuYvSHn7z05k80+bPNYsNzV5xY-0f0a7nZzL5u-POY-OAWJtb5ncMBZ3DnmvzPRm83+dfOzmnzoFhYouanN34ZzO4R8xBefMXmwAm5pY7eYQuYXTzUFo8zuaIvU4SL24c80AA')">const input_prompt = "query input:";
const output_prompt = "query results:";

function query_driver_loop() {
    const input = prompt(input_prompt);
    const q = query_syntax_process(parse(input + ";"));
    if (assertion_to_be_added(q)) {
        add_rule_or_assertion(add_assertion_body(q));
        display("Assertion added to data base.");
    } else {
        display(output_prompt);
        display_stream(
          stream_map(
            frame =>
              unparse_query(
                instantiate(q, frame, (v, _) => v)),
            evaluate_query(q, singleton_stream(null))));
    }
    query_driver_loop();
}
</pre></div></div></td></tr></table>
      
      
      
    </p></div>

    <div class='permalink'>
<a name='p3' class='permalink'></a><p>
      
      Here, as in the other evaluators in this chapter, we use an abstract
      syntax for the expressions of the query language.
      The implementation of the expression syntax, including the predicate
      
	<span style="color:green">
	  <kbd>assertion-to-be-added?</kbd>
	</span>
	<span style="color:blue">
	  <kbd>assertion_to_be_added</kbd>
	</span>
      
      and the selector
      
	<span style="color:green">
	  <kbd>add-assertion-body</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>add_assertion_body</kbd>,
	</span>
      
      is given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
	<span style="color:green">
	  <kbd>Add\?rule\?or-assertion!</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>add_rule_or_assertion</kbd>
	</span>
      
      is defined in section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p4' class='permalink'></a><p>
      Before doing any processing on an input expression, the driver loop
      transforms it syntactically into a form that makes the processing more
      
	<span style="color:green">efficient.</span>
	<span style="color:blue">convenient.</span>
      
      <span class='comment'>
	In the JavaScript adaptation, there is no need to precede variable
	names with <QUOTE>?</QUOTE>, see comment in section 4.4.1. We are
	using the same internal representation as in the Scheme version, because
	this way, we can distinguish the name
	<kbd>my_name</kbd> from the data log list
	<kbd>list("name", "my_name")</kbd>.
	The original authors were saying <QUOTE>efficient</QUOTE> because
	of the string manipulations that would be required at runtime.
      </span>
      This involves changing the 
      
      
      representation of pattern variables.  When the query is instantiated, any
      variables that remain unbound are transformed back to the input
      representation before being printed.  These transformations are performed
      by the two
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green">
	  <kbd>query-syntax\?process</kbd>
	</span>
	<span style="color:blue">
	  <kbd>query_syntax_process</kbd>
	</span>
      
      and
      
	<span style="color:green">
	  <kbd>contract-question-mark</kbd>
	</span>
	<span style="color:blue">
	  <kbd>contract_question_mark</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>).
    </p></div>

    <div class='permalink'>
<a name='p5' class='permalink'></a><p>
      
      To instantiate an expression, we copy it, replacing any variables in
      the expression by their values in a given frame.  The values are
      themselves instantiated, since they could contain variables (for
      example, if
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in <kbd>exp</kbd> is bound to
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      as the result of unification and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is in turn bound to&nbsp;5).  The action to take if a variable cannot be
      instantiated is given by a
      
	<span style="color:green">procedural</span>
	<span style="color:blue">functional</span>
      
      argument to
      <kbd>instantiate</kbd>.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (instantiate exp frame unbound-var-handler)
(define (copy exp)
  (cond ((var? exp)
         (let ((binding (binding-in-frame exp frame)))
           (if binding
               (copy (binding-value binding))
               (unbound-var-handler exp frame))))
        ((pair? exp)
         (cons (copy (car exp)) (copy (cdr exp))))
        (else exp)))
  (copy exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06cDwc73jxxQIBgeAkFQNA8TQYkLne8xRRBLQKCyXIFEIehiDoShwf25JUnSBQWDIfRxclmoZfCUAAB8dcU0UPl6zq1cUDXpdlmI9YN1IWDkjghFNiWpa13X9ZfRWMjFs2Xct2JrY9sUPzVKV1d9+mmeBagRZ+aanfN12IkKALiZUH3NcoV63uTd1UmYMQJGEBhZzBD4FEoHY+nuHbCb2gTRVJsvLYAMmb3p+kGJvwmEoFKCr-Os8j0U6D+gGw4zuX67z8gC9qYvQXj32LJH-7CoRgWXEMXxlfwRt8BkNJR8Xifa5Gw6I3Hi3+QiyPmoYc1qDEOh-ploxKGNsRuBRwhAjcZxJ7dCXCED8n4vy0twI2y0v7Ix-sQP+9AI6I0FqkEBz8LbHyvqfVOop86F3nnOS+MsLKoLAWvbOLESEWwYFvHe3tnYn2ImfDu+gIznzrBgrWkxEEbyZI-NBMtro4wYN-X+hhnAcMtow1ObDbQX3Tlfa+-Mc6igqMoNgE1sp0DfuXABCtq54KAU3CyJYhAgVUeoyq9B4RuxtvouehjKDlwsjDP4DBzEaNRNY6268c7uMsYwGhdswKOMkcsJhIxWHMMwiErh3DfEmAsZowRBZhEwNEeIruhNwmDAjNEnRijyFuSFn9FgwhyCpNgfArRmS-wjRwTPAxC8jGiXUcrMpFT0lWLiSxVppTymLnxpIMghhtGhNiCNG42JAm7wYPvQ+-1uAyOCfk7pblentLtsIXwoyhrZJYewvJssClD1SIFahzAtBgJ2Vk7B09Z5FwcU40SZyPhUGIKQ1Z5gzkiLgWI+g1zanSKiewru9NCnIIYG8NiqJOgApTvLXOdiHlNJCcY+g0LnA-B+VUrx7t-T1Pufg0uqLRJQujpixsrzLkWzIZHMlMLGywLYtyLQcLxmpxLgwQIMhRncDxJ8lw9KKWQqNG0Asr8alhI5aCLllReWgFJK9Ol6LyX0B+J0EWI8aA5gBpK9lCLOXcvlToMFJzqFiulsoXVMSbkIoJY0uczTwTGHaJa4gtKkEuDvi68VVrRlhFtQJIBzqLWOHdRAkJYQlWev7K6sN5y3lgJGTU2IUqEVLJ2QKkGcEPgJupRKyNuygUjCblG2akdf4gSpe8i2ybC2BrdIcstPiWKineZoXEPq3X+qLXaz2mQe3Rp4cU3N1armlt7VPNIXt9kPkLaamNop2AeC8Gy-VU7cH2JRU88Ey7lBeA9TwvdXhWr4C2Wuom6bgVzvyYPRdKDCCEBBCyjJNrAV9qRUS+V4INBPuoC+rpQ6c5Mw6b819OiG0uAzaCoDFDSArWxX894F69m5JBTE4597rrTm-roxFm7kVzm-hZYoZDpAg09YYFmSgoBwEQMgdAPM8RKJYsQFCbyJFfzoDmSdbohbRxcnQhOstpKlGFoJ5JY95Fa2ks0YeR9CEif9GJuSElqHbyCZJowGmZlzJXlJ+hV8uM8dk4ivxmiJF+mmKUNjPxzOok4y0bjVmjKIsoa-RTLmig2bXPfP+oD0GKeM151YiKhVqqE+HUTLRfPhZHpFjOwXTPFLaeUxD4jPPRbvkzGcJT2kDNHiLEZnm0I6WmOs8pmztklacyZ-0cnUhdrDZZ6LtnKWhr9U1q1eaa0y2K9J2WSX6uIuPS15TMWfijaC7VkLsQGuyvlj1q5mXxttYW8qJbgWBtDYNPN39z6LMrYNKUfb2y2sdFZSB9L-yavSx46V6CnK5nTRGRNBDaSwNGks8F2bYYWikFMo5qyNk7KOWpL4GW5BkYeS8udt5ZHI6nf0Mibgb2A1-lfA3XqChyU6p+p65HDhfwKhGqdhgP9qA4+1S1HLKPBDwbLbEfChF3TCjfKkMO5R8cb0J3QYnDRzy-wyGVOHl3PWnvPciawD2ysrBRmjIud24L0CuYZWXiZxcFf+kV3n0u1fq-p2IQwMuDcrCu9x5X-CwRS+fIUOppziZaaF2wJTfZShnOmiKmW6Dneu9DM0TsGpljM5PAqEywRecWWsrZByLhI6UF8CQGHghH1sF8IVJns1wVohlc9qiIzv7G5m7XOubpJn6De4CAAfBN9cHG3vBegYQZtLGkaxZVQyxzd28M4NIPwVQZ32Osriz8Jl-6OO3ec79mIPn8wT478KykoawST7q8N0XUmloMvvi7sgWrqA6u+zNu9PC1tdeteXIv3fa6Y9SO2hP5q42dfnSX9dbpA9+RD-8W-xd1hVoub1sSpfvzqGCNBvsjjmv-omughOpwN3p-seERCGOeFUKQKOiEpJoyIZOAagegdAQWsAXAc5n5IKGzqKB7jdLgf-uXJJiAf6CNFQecjQdNCQUzoga-i6KnGfh1gDPrkTHgfmpQHWoQfASGAxOcDfDGk9gfA4KglKPpujvCgJOXgwNXqJJCLIf5uqHCNwAoQujwoYNyIwPgPwG4gkh4s4P1oZonOSD-ufpZrtIaO8KWJGoyOfptn1pZqwZelOvfp2jwT2nwaUOkJkHwWsI+tLJ3EYbMqYfZpYRAWgVAYIT2nrqbjEIYUIDEWYuYf4iMnwRON6gEZWh4UISkbboxOwcRHbrcmYWohYTdgNtPjPlHHOHETlNMglgooZM0CEWwJ-lnpHGtlNttsXsROeFVoyMehLtVo0X5OeHuFRkCBkcYbETkZoiMlVoeDEOeJoWIk-LUIsS0SBHMrsXwlKAsVsaXi4OAVVtAgrsIhbvIFbjOA2MbvkWkQ0KcfsaENwO8R8YUN3voTnGti8gActiMdflIginfBQTjPoHweAd8h9lUkfoCSfsCb5u5ivhCc5rXOeNNIyOAViZJqBiiavpcaguprQlpsSR0UftNMFn5CNCwQMTGmtm0VotNpCeSJSR0VphyVSUEt9iGOAQKZ7tdpyY0Y3iKcQVnozJRtRmzHRpzIxpYK3hCu-P3tssjD3rbPbP0FojqaAIpKUNDj3OyH3v8IpMZADhHsjBZHbLvAaS0DAiYFoMIAECYMQAfrUI0AjjGtlgTlrkMmgdwLcaMUoYAgvOCJziINzsmOCCbv6MGUVmGWej0KIS2kUhzj7FzrTrqZ+kAjIGis7HmZ6oesBprhotrsMsjnhoanKsWaAPyrBm5CBlVnWVggajKkak2YquWjGubjmJblcjIPWT2Y2dwCauiSxDCY7nHG8GjGMm-jnnOOCLCQWImWnN7lrK2RChuQDNNAWQRl+gyc8vOVRBWSxAeV7kueNDjHhhmkeUCaxo4F8GIp1A8cOU8VctydUQihGJmdntmokT9IMvoH+Sue3CMEBYMW+fgMYK1NsnDMFpEMnP+QJKTChcfrNOeH3C1H4V+SORbIyL0ScMBdluBR0UXi9nho3DprqNjAWC3pHHDIKbvCMnTGhamhhQdMwnTHuXHoMpJpxYMs8OhVBRGAJayafqjJEURT+TAQxTRZ0EXiwOsARbiVCUGtLGIH3NprQgGuaRwJ1PpWuEsKGKUKTJRUfNRdjGEGGRpV+U0c0CZXpaoAZUEgGgADzAi6VmWqVNHNHh7TjggAAqckgkQgvghuvASa1IWIf6vpokoAAA1MaQbpAp1EKNstReEOlVueCGlRlerllWIDlfeRMGrjaYDuFZFTIMQPZLFfFTSKntQMlUVelX8bEGVRVXlcVYVcVd1eke-MtBVeZZhjwvlIQOxY2HHB0ahcRHBTmMXHJNiJBQ0JHMsZ5RxfZY4XxB+r0TtbqEFdZrVqtUQPCWkZau+VdEropa-ICd1c0B0SpECIdHlcNbpNBYMBNV9S9UYbOmBMpdLveFkBNZcfGCGK+Hdm9eyFXIRfdSrpglUdMCFcdVHnQHbOUKAPphnkeARKHn2CgYMoyIwXDBBbKX2CNNtWxdRcjmJUmTpGxS9gzaPOUVDZzVBXdhdetbKZITwryQxVpgtQNGwIteSMtbzZTTxhwRRgYYDXZWLYodTTUUdZ9ehDZtxtLcNTdQhXdY8cjY9VPvkS9QxXDR9SDX8aUKRIdOZdjKdUpNtZhCDdaLaBDd4RUdDWzrDeafhcIhLA-kjVbvtQ0OjaLcDtjSILjaPMnlifjfRJUYZCTbHUCOTeBaIarQirTcJfTXTEzehCzfnmzWDJDZnlzT4W6DzeiHzTxlnPKRvFRnIKzLRhzAxtzBgOqXohTlTj6fGQ5lLpBvhg0lunOHTuCD3bju6lmpPdTgwJTk+oARZoPe+gJBmjblnOeLPX3UzIcUAs6MGnMFubEHMBOKkQ0MGhyMfTEByGfUmcGghNfaNKQHfQfdGSXE-SXK-eVtGcPF7FuX-ZkP6OfUUMGsFE+uQOntwOA+ojFQaCA4UMGiFdfSFX2Ag7EMGjcH3PfCwIYImVg6oDg1RisOgzEMGqlU-bEPoPaaAL4N3DXtDulXA6Q0cRCO5JQzENQ9wHQ2odDl5Mw-fdGTodMFw7Q-Q6ANDpCLQzECw8GsABwwYDQzwwCAw6AGAAI2-WuQAKQKOiPKOqNaPSOgCyPRk9yUN6PiNmkiR0OCNrkACEwk5jSjljoADjQINjmjYI4I3lujzjvDoAvlMQHjP9a53lAIHDFj-jYTQTJja5Vevj3DLjNeMTtjXjVe4T3ARQkTKjEjoA6TKTnjEIdjCjuThQOTMQdjsQOpzoToW92OU9-dVU1FgIIY5ecw3A29eOu9tTxUPA9Tc9IG+ALAAAVm6Ysa0xoLzmoQ-f0z6VuevUTpuIZJ0zTpRk6EVM4X05Tg0yYn1oyEAsGoHluYHiw-8aw+CJAHQGqNHFAzEJc9cwnqc-8Zg1QIQ7AJANfQQwwO808x8S89gwAKJP1fMAu-NpHBoABy5AELCjULELjtZWPTmzKzXuryAizTAIEz2IwoOTh0Y5HTszeOuzQhSLVIKLxLIlLTKw5eOLNe69m4WzvdRLxUpiZawFZOKLtODgqO8GJceGZO304opAaeV0wz5AeYhhvUmgV10EKLC9HAYCy9ROBd0wb2fLRwRQMlOcwEWIClRtYIeG8u8lwdqu0Ev6kR+gnL4uStX1jLOzLL6LrtfB5r6MVrG8syIzYzvxpu5LDrIEtFKrRQ-tiNhtIdWcHAAg-tYgXw6ljYJrJFSx-EM18br86zDdyYTd8gNG7M9GXMmAXd25785ApgDArqHwVUNwpAq6LizYXZU6SsKs04T5E0mMjos2sw16WQEYNbbbA1DAnV1Io12VMg2yzbQM2Es2zQY7rbiiyqCgNw5qBW7pb8H8KtUFxbygcVGQHGRgqOygyg4jVG6VFe+7cN4IRVpQ57oAzQg16VG7YLoY57Eaq7WaDgAyxgK7UChuReb2Qc77hYEQ-4kZm8Q7YgA1EIxV4sC7xgS7Uo5ev7b7E0xgPLRucoBV1g4IglZQdA-7TAZACgFe8GBZR1b27bokvR2k0w82QCpHoArc0k7O06A6EYpH4QesP1QNhHO04QbjokpGZHQwzCtH5p4IpGJphbFAJbZbsUlbq6pH1p7Y98bVAGWitH9HE48m-0vOyYpJSGXHXC4n4IEH6ViHaBLUIsBHh0aO+naHJVj7KV6VfJemR8V2yJenrHQ1E4RVA7pniFFngnES7C1nrHaHau8IlHu22H-7eUoIW5DeUXSH5n+HkwIY82pM8nAYCXZnEIj93AQCVnRHbtWQrH3AvnSXpAPEqXiKZV+nIYl7AA5AO5XgVY11V71SO-p1h2V6WwWKQNsq6n18RzOv9MrKrIdAN8E889GUIMIIVcEIVXZOAqJOaGmIVX3hwPCCl5l2VwF4MBN6DRGPt6Vzh4l3hxV5O1lx++N71zY2DfoEd5dy1PtzOW5GKxK8oFK-61ROTvIFam4BBTAgWftuPg5rhnV+c8Dyp1ua55Unp7hoG4UOXm9+sB99QJoCST-B4L8ihwXoD1t1R4ivpgD4QGR8GqRhAsLc51p7hhd9-C9+YBN+ppDsjD91j-97hjfmQQ+n+ip8T3QbECgda+bUCCGE5wfETzD50lojT6wXU2z8YEXGjoyOXoz1vMz6z39z+wznz2XQwUL7Qme4-eD6TIdJj5r3PGjqDRmmb78hbwzgZysM0CBq9SJx-cb797b4rwzlV878L6pMj5K2j19zjBF95s-dp7FAtXwUj+Kyj59xjx724Djzrxd1hfr0EgS-L3b6hwgYTd-lz-MgDDT6-iNGT1uWL4Xzr7nyzqjWATAv0QLTnAniQHz3W3xqkKTGD5l4dF3wT+jcRqJNHqDtcW525M39PVh4ubWq39pe3+TkuL3zJIBYD1V-3zApjTHmDhKYW7Wv6YLW4GmFVJQPgK1C1AMBUIMBz7Py4OP63yJyt3VFh+f35hpLFB2Vf8Bxx1P54TL1qyxEbP0AUBKcSAcZCoLAy7BsgwBkDOeIYFJBt89E6tflODygG+AYBxIJ4FVxN7MJDA-KBHlQ0PbvxABwA+SigK7CEC-oZEHAQ+zOZFBSBRcWAbO0XTe5hW-QPHHQKMCQCCI0A+gXAOv6E8Z0VA5AVwNQE8CMBjvcPh9VwF8EngahaoCLAdhsDhBUoOgdQnQHUC+wMgnJgAIoGYR+Uk1bVuQKAEyB1EjiSZnTjXaV048JgtGOckCB-QV2RAmlty2pCMCeExgqgDYO0EEcvBQ3AdD4PB69EqucgsgAoJajsDDIH1QwQ+00E153BlATwYYIcE6D0MdgniPoNYxyU4yQoVFqCHQQ9toGVAWmGJTxK9NPokxY6J+W+gU18heMdmkyRqKB5bo20JojZkyG-UW2-UMpBXFqFgwFOHETVAwCwZcRPoWmT6KDS6FFC6hf-NyP0L3yDCqAXEDiAUO6FcU+BcMM9jIDrC1Aiq4PcEJsL2DbDV+7QWFEsNYhUBwg4PdYTECCGpAeolrc4XZzD5GsshB8SkLkNfinCJhPQvkDcPn5jQOI4QVuIilJhdCyOswpIPMM4geUIwAIvAaGAjCgi4RyZDwXMKGEeVTe5wpEWkUOiIjbWhdMShdz2FbDZu9PTeMtAjbtFEhRpPgaTBoYxDcaXsF8m5DUAmAT0mRB-g5g5HOBuAjPU4Yz1WHkhzwaI2VDSBdyMhwRjANEfdxu7z9uhXI+gN6xoGhh+RYleodCQWGENfcGw4kaHxKAMjQi4gj8tG0kCUjUhZMKESKOFxMjzAvARCu1BRj3Dlylg6rqB126Oj0hbkdKLYMAE4g2Q3QXgYKN6aHF0ovozML4H7K8U9EjQgNMES9jXtqQpI90B+BZ5Eh947okoZs26CMgMRssNUVOjuHdBwgl7UjPGO6DhtJAoAMKgAAkAWDAAAILgBwAALAAEphVIAAAeQhbIAgQZFAtg1QtHyjkMEoyYQTD4G2iWo9o5GI6M1RkcvRk4i3gf00jxEJRF3L0Z0EbCDjDAWHNcZkBf6H8vseGasbWIbFNjWxHYrsduIHDzjFei41ECMhXHwDxAA4LwW+GTEMBUxPKFccQlvHOB3IXgvfsBnah7ilxX2Ycd8LwxeCfoJg8vPri6FxVq87xFkfunviMBBx+gOCeZEnDxC98I4vkHCP7FqBgJd46cThPAlgoI2cQDIC1FyAOARYjIAAAzkVI4NQeyFyionACDssUagIMAejsSaJzAxkOt2okmEBJ6VPEHmLdBCSRUtEsgFhzvgsTsMrbKmMDCkmQ8kk3EuikuFE5blSYqk5TupI9J3ce2XCRMYEH0yKSHQqQaoNkCom7RBc7EtSVxNNC41GqbEjgBxJB5VRuJKUSWjGkIEtR7InQVdB-xWD25sMrfQyKUHkmuSe2xPAIA5P0lOSgqaXBfivzdzh9-JDAQKWwFXQ988eWI2IJlOymrpl+JPfHuvnr7kgGIj0QIAFKCk2TmwiYioCANCCzJpe6-AaOO1xgCikQfk2qVlPqkAdvainO4Y6DlqkEDAYqWFDULGmo16CqcTUsQE9rxgk66EcYuULuhfRGAFNbqaqPyJhTGhLABFpl02GEQ8R4YfqcVKaFXQ44R0suvRCwD-gv840qCg3AX4XDNaFpYgHVJyluixp7HIqfVMArlSJwTvVSktLEJVTP+gM36bhkTHPCi42QyWH-A2g1C1wuEuyaUIqFgcgQIwqoeBRqHSUJp10zqK4xEgnM5aI0BwDlUhHDDsZow7GaDTxFFB0Z4EjVlVPYI-47ha4X8KbjwCQgBZyBLGZtI2nbR5620gmZ0Axme0RoZQ3joHkinYcaZUo-IczJiAjDbpjMyCP+Cgh0xuiLpBXMpKxhi1pZHMvPqzgMDNTIiqQf5KzMJkEi0K-MwWaFNThEiDhJIs2TXxDB19DZaMqWWzKhmN8WI1MkdrTI8qEAFwd4HqVBXWEid9hHAWbrsPjmHDxBU0rIBHI6akhLhgyX4XcIjkfSzqCM+egfGRliINoGcngFHLEq5yJolrOAeDyLlIyEKZcx4IQDvAVyuKajMAALMhC-DSY+cujm3Den-Cs523OgMrI1Gcd85BUoNuwjbnqCVgIc3EFKNN5SClRDQU3qSBnn4j2ahI5OR7KDnZk3J1qfAk6KuLD1CUDiU+RZCElXlmR9ANRLaPERCTHynbBqY6Cw5SSOyL8x8YAy7YHJ2EL8kGXqODSdBApvgPOJaXhBVcM0EYIBdaJcBk5ykQk9+TyJlFgSVR7NDMVSDUQGlj5gk6WKPAsl-ArJWiF+XMV6ZLzLRYokXhOCoVSjeRKIpINvIFwPz1wenXBZkRfksKigmCsGBJJVDjzQ5WouOTqICFexV+Q+J7jd3fnTE1YDsRgNwvyJGiKRASRIVQt9wFIKJR4hgM2MsgAAZAFt2P1F9E+xkgQiUJPvFMK6AGMx8eOPFkVApxK48HnOOTFzxLFJEpIKuIHDrjj5IyLNDuMbAeLDxNY3RQYqMWXiQI14vxZ4r5yPjIJLrQYPri9EvjJx74rMGmK-Fqz1yVEv8YYPhBwiUliQ7STfNyX-iPR5gMnB4rAnRznRkEuITBO3BCS1C7xJBcfNQVYTNUGM-CeYs1FUSrF2E5hWRMTFiIJY7kibtKLIC4galudKIfEsMFQSqAjS6YLHJryGQElERUAUoKSWF0gJm4yZX11lFdLwJWI+kVUv6UHLpl1ijGaczppRD4ZUinrlMsuW4TvRf0TGZs1aDIhGQIY2-g93BAb4nlfXBOufPfAVAQ4e3KXOJ1GWL0gV-XG7q8v8H+5QAXyhwKbB3KlEHudy1IQgsRSTiHQ6YvgYbFdE5i5Q7HUUHcNJW4qPgwQM-j+JyjfRJxFeelXEuIg-58VG0QcfzycJUgsxQINJR+OZWv9-4ntc8JuwBxUJBxbyoSMNSKVmjug344VfQDyWpCQVhQUqDiEVX7i6AKqwAYmWWZLhBx3AekeKrMkgQpVPgy4s9OIgSFgKNKwIMfPFkOKHRP8sYr0wlGMg3gj8vTuQtsIF8OVrc6xdyoF69M+VSYxxektxCZKg1oq3pqaqoRSSvBVLWXHKp9EKrnkZS-JfdJ4D8BNVGajgLqr+j6q+wukqicavEbxqBEiaqIVatWmZ5D5lS4QEXCknBAiJ4iLlb-NORUShV2qguTJGf4oKuVVXZ-mhK5VP8m1ba-5B2uIj2q6VSqxgIyuTE9qQJfOChZs13g3j51hxHRSeJbFtjOx4APyDusbF7rzxxi9LiyvLVqEN1k694JcRGjggMQmHAcoLQnUoLXV5IWdY6sXWOL35lxKKGwGbX9LGQOivRYYsPXkhQN4S89UuCElXqcmN6yxfetdlPrExbaQOriDeDDMCcheXwVkFw1YdGCWG+aMTwsHny8pzeLNMUWI0ohcelGx8aVJYpYZCKwUbDTzlw2dqmO+GmBExrcGQE3EKQNjaYFI2vyYKPGqjXAjMSCb5odGsjY9HYQEaX1OcGoGIDeRFwJlHGvgRRpbzAUsN+AayTRtMBF5sVgAgsoRUM0OYLNFlM6iZr+hVc9N1k6jfQCE2lErNC82IIComVEbnNJGtzZBH+K2a0hWcDVT+hECFVPNN3Lcg5tXUFtWN+mrRKxpk2Iq5lRKu-BhoE2GAXN4iRLbRrI6BDxBwQlgeKzCHbKZWfYCLc8sYI5bhN1WklslpxX+asm4jOLY5sk0ZaXNIyWrQ5Uenq5AtiiELfNwsgVbgV0DQTfFvWbMTiAqm1lGjnq2mb5lqQxZaYOxD65VlPW1sP2nw2PKJlKmtTXCq47db156RckSaLUVmi6YKXXCDJBUWnbpVJdH4TrPjG9FGtSIWZTiteghbFu4W7bZFt0JTa3kE2tksjBMD8Ai+gPR8eAQH5RsY2WKUNmAlxUB9Ue6POOLNu+HSreINNBZQ0smaKQ1toYFGCDtZTqRmAMsPqKyi+oFdUOuEnhd1Fpj0M8R6NHMIqJoHA5N+JMKgJ1OTydVHpj2woOCER3x9pom3FodSBO3H8ztPovWciue2463tpmj7bmv52x9A+yOy8kNp+1TKtyAuoPrQXIpCiocGWiBjFSBAABOE4JHBgaQM7tZGi3exFgbSr56IsN+LoVDoWzGO6tI5HLWemvgXA5peia7sKCW7tk9XerhZDQDh61VbBc2XNNoF27IGboj4BzWmBB6HdAmacJBOiSg0XAXkFspDIrqsQ49naBZWnt3ZRUWeQe3FWAsgaQKCwb4J+LSrm3vLHxgWhXV4yr0QKmAUC9XXPi0Bwq4ubAcBTXpmjAUbebgfbdUFKirgyAdsMRI82wUCBWgjIVXhDmYAs9R9Vi7LhPv4ADUjgm3PyK+B1SkAZ9NzMmUCGdQHCZY1iGPUHrYaeQ+m8vFFTdyTGlQYgnkdhgiEeGB7C9+gbrhMtaDHAKi0ehiK+ClXH9T+98JtVKH-2u6B17E1taOonVSqOy0Bz2gfun360E8p+0SGIhMpaQA9sQG-eCDf137BxggSA6IGIOeRfIgBmvuITrUNBCDlBryBNwvCiihCMOSg5HpiAp6Xx6yhZcsu3B47Zcv+mRczOJ2mIydAMVoNToMBM6QY4jHjO5uG39cIEYu00T6N6KxIG+fY-jUIEMD2RVYW+s+eeEX1Ahl96vdffcM304dt9BVXfeURTr-RDiyh+7qoc6iqK7tmh5DYdRnRwxrNMkcEHZCipQjloZw5gFJH-AB4TuZncfc4QkMcZpDHHPw6DVp3yG1CihtDXEdJ0cYB+2FBwFHSLg9QGA6gEQBwFIC7RlUhAM7ODpj1cza5xfGPTyoEBlDcZ9M-GUfFyN7Ss6U6Q6YzO6qBgsaIkwoxNGKMzcyjcU8Cc9TThVGSZK0TWZtKT14ROZBfTvnjxenOjSYuQGYxRoZZbHtkpUkyWIXoMGg6+hAT2uIU-57G+ewWxPqkAmX1cOR+gGgQAB0sAg6zZUXDAMyBggBHZ7bQ0SZyhoIoe0SIfpn0T8sA6+-bQ8dvFPGzmrx94y1KYAn9vjFXe4WNF4CrhQaPQUmBidAAAAvBlqAFeNFBElSJn6D8dSM9ACTgJnSMCfBCgmEK4JqCA1F0PvADD04B4x8bJMomCOSjPLtN0KosBCqygQqrN0mD1cnQeASE-cdJNfGKTfJiHoKeFOinNudJ3yEAA')">function instantiate(exp, frame, unbound_var_handler) {
    function copy(exp) {
        if (is_var(exp)) {
            const binding = binding_in_frame(exp, frame);
            return is_undefined(binding)
                   ? unbound_var_handler(exp, frame)
                   : copy(binding_value(binding));
        } else if (is_pair(exp)) {
            return pair(copy(head(exp)), copy(tail(exp)));
        } else {
            return exp;
        }
    }
    return copy(exp);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p6' class='permalink'></a><p>
      The
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      that manipulate bindings are defined in
      section&nbsp;<REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.2' class='permalink'></a><h1>
    4.4.4.2&nbsp;&nbsp;&nbsp;The Evaluator</h1></div>
    

    <div class='permalink'>
<a name='p7' class='permalink'></a><p>
      
      The
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      
	<span style="color:green">procedure,</span>
	<span style="color:blue">function,</span>
	
      called by the
      
	<span style="color:green">
	  <kbd>query-driver-loop</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>query_driver_loop</kbd>,
	</span>
      
      is the basic evaluator of the query system.  It takes as inputs a query
      and a stream of frames, and it returns a stream of extended frames.
      It identifies special forms by a 
      
      data-directed dispatch using <kbd>get</kbd> and
      <kbd>put</kbd>, just as we did in implementing generic
      operations in chapter&nbsp;2.  Any query that is not identified as a
      special form is assumed to be a simple query, to be processed by
      
	<span style="color:green">
	  <kbd>simple-query</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (qeval query frame-stream)
  (let ((qproc (get (type query) 'qeval)))
    (if qproc
        (qproc (contents query) frame-stream)
        (simple-query query frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtyPkCcgFAYDQSBEBgKjYchfC7Nker62oGEMUkixiQL3VSdJMiMPE-SKUohv64RRuJJ4Q2aBChn6QZDAWtCJyeQEAD5qUoFq2o64gupWrtLv6NrMMOwydO3e61rG-lzka8xqi0UgOHIHNiG6gjhv2waIdW9beMm-i3VFWawIWkNlphkaxs2lZtqXOZ5usI6+xOgFzoBshgdB8HetW-RPvWp5ife2JSfO5qnrIg7JidCK-pcDnWoYGResoG5sWRbgwgmi8EjdEWqC0RhBYUIxHqF8X9El6kfoay4WIVygldG9XVZV+HZYE5GMjA03FpKUAUa2906EBqmwc+-RDIJ83memNnQEN42VbVq6ubt3W9ZRNzErBlhqjYugxH0PNSGoUdcyoi2pp21P04gzP12os4o+TUB45EaoxAYPOHX0CvE7EbPEZcAmG6r3nS5Y9uk5rqj64TjuZamiMe6b8Ku7cseGGqYWKAUYgU-INOM7kVrC2Iqaq08WuC7XhfO-5loAA8lcGXeOEoovuH3jeApbyc4O42448HpOl5XguUL5G-5+Lvn9ZuWIKfW6a0hQMEpKCW6YIL5cFYlQX+68LbnjHoyaes9b4f3zpfQOf9DwIzlskDsH41RSjHvbGSwCz5YIzsIBBuCkGKTxkbMgjAbicVUAPSuvdv5cMbkTeBlBEEHwntIQOgCjS4MUBAGA8AkCoDQHiNAxILjR3+qkEEgNOj6FyAoQg9BoHN0IdNNIvAFAsDIDoxQ+iaiu3CKAAAPg4xSopmpVysXogxdiYhOJcakFgclgZ0A8TYwxjjnEvhmjbEJXjKD2J8RE-074KikMGLo0JdiJ5H00S5RsvD0mxOeIUe+xiCm2MoKIo+opmBiAkGtWcYIPgKCEeyPo9wm7DwfqKHaTS4mgAAGT9N6HtNWzTwjCSBJQNpNTKkSKIWkdeMTylGKtqkGpdSGANKWdAiydB16FV+nM6kvhzH4EbPgGQCyF7bO8ZvB+BMIxlMMZ3Se1wX7tTcNQMQdAF6u1DlXbgwDCCBE+fQFZbotngnNF8n50DwRS0ugCk+wLiCgroIfI5opoXfN+WCJ5tySmrPaRsrZ+KWlQs+TiuFGK1EuGxbC12o0TkBKyGS8FrcRkRgeXWG5cSeZZKOfS3Ffci4MCBSCwwzheXsuGSMCMjzrGFMjlU1IFRlC9UqvQUZfS7nGOqeQWpI0tm9IsiWIQIE1UauynQeE4S-HEqNaCbVFlYHg3Vcva1trfGHNpaxEwVrYqGGZWc7V8MprcttBG22Yz+UlyPpaj1sVv5iuPiitFoaJrhs5TyzCYs+UvJVZs1qLA6EprTZKrVvSw1dLWQaklTqTWiV6uY0t4rUUVptTSsuzaS3kAYIuP+gNDAZr-FNTWQbTnnMuXshe3Ao2ht1tk4tpaAnCF8CO5YWa5U5p5VW5VmLUiBRNlQYguKN2xCmvqw19SG15oskej4J7cUHNeS4I9bb01Vszfc7ND4837t9aKN4bFUTaK-bqol6zHVzkbeCYD1BQONg-R2r1iSDRXvrTBu9ol4OIePVoZ9XaWK4ecD8FFbFuRaHPQQgSDSGCBBkM60AC0BW+pI-QH4lI2gFj+eBzdD86MMaY6SVjZd2N7MbJ0QGeyaCg2o5bCFoJ6OVCYzoAtB7RrcdusoRefGL01odTerDzSLLGHaNp4gL6j6x00+Zxwum83S1HQJp14IzM8Z0-Ci6zSwiiZYu5iz+HT3QOHeB2I-HjHzr3X5tyVRSAfCC2e3pTmIsCR9o5ojbkQUgUfQRkL2qUv6eMbmnzmX1Fir0ZQXEAX7MFerXqqJc1ktlfmb1BLuXgu8Yy9+hrpi5olcoBMWZgH-Fci8PJhT8yoNGcadh8E7APBeCs0chbygvAMFXeuvTRW0u-ujXy4bZcsWEEICCSjUrtuTZMdNzZt6TOiQ6mdz1LXxG0rLRKi7-6eu7e3X+mNMXzDL2rsh5woWvvOci3t-QA3Y0AJG33acQKZUYeg2CIFFligvtfZOFhSQGDsK4hxbgdCWm3xlbfFSQJwQyDrLUcEoB0aiRp3sOnztuPaKJ4I8IjOKcxGdqKVO+gOLc4DCfM+M9LmQI+NAoX9CSfCL5Pz1IO1hcDKGd0pcJOKExFKBxaT+OqBcQjMLv270Ixa9NzpPXrCDccN2iME3b0WYNAJhbp3zukR4O16AZo1PafCHBId-zVcOCUByiHY+MqdrH24AHFG6m2N9DW+1Rg5o0xSrT5pZw3BzOkFxJz3PuIycy3PAT1QymaRsDKtbvHZf9CF-7fQzPqJuDu497EBvZO-JjsN+XkFGQMqqWZxwAPjOna42pCHyQ4fTbPw4RXgfCey68GMDPD8x9Zc6sJUjVIbj34E2F0vli6UTZXRxGybo41iLnkMIydK5-My+BE9v+ZnZ9rhFKCjH31Ig9uQTsAhgIkC5TfZBYqUAboRkA-KgfBK7AXZeHED-USTHb-boURUPUAAAFQAAkABRBgAAQXAHABwIACUMDIAAB5AAOWQCBBRhOGxxkEkDUA+Q0lRGHRrzoAVxlRXzBn-w304O91KBP34JGmb1B032k292aBP06EkzcHTyNABxcFkMyFYMUPeBOggzdGwLwMIOILIMoJoOUPEAHFELWnEKNEkNYRlRPxDn4MAKzGAMEIsksLoHchVixyPjVAsIUKzysM4O4M6WMRVmFlFk1idxJzMTOjbxUCT3WyEHUP8OCSiPMhx2k24MtwaCYPnzcI4MVlYW4JeXQNIAyDBlyAcEBkZAAAYGCj4ah7J6Myj2oTsntYpqBBhs5miKjXZtAgRSiOAIF8BKjtAABqZjbvB+AY8o4Y3o0gEwmzBohHbBReWBAIZox7agc7HKDoqPJccETHbgHaaYlo07LY61GeYQa0W0WBWHVRMuQIGdMGWBVIaobIMo0A94AQE4zY7YxgDoxkJYn41o849ozovyI+R6MGeyTocbJHGWQoS9VIQXeEwyUoRY4gRo2BfQdHOIDYkEv4y473VYExHaJHNEx+acKEhgGEtgcbAmJHImWImIak2k8bCMRk4k2IYyVNPyBiEeQIaE2E945sX-cwCoTqUIBgLVXEtYhhA+GWSEwUmk4Uu+VsYUN8ZE+Ax0BE6YV8dnLIOUnU4iPsAUgsPyWMY8IiNvFBNBN+auDBP+HE7gi00MJEsUEhL0euLkicUoGnQiZkpSVk4U6eXhFgZ8WiLAf8fCQiXUl0AzMkkXaCUoYMuk+3QYHUpxdkZUtk6HHlR0NvZof04wV0vCckfkh+VMuE1NI-IBEBLqcBfRT5P4GhL+ToII6-MA1BIEdBRgTBOUrvckV8VBAAQhEjfwtkRIfgcCFFxDr1DP7nIVb3bwaDXBdIZ3jCtPdA1LgOnDXF-HbzwEhGPJDBQXtLtO4QdL7KdLXPlOLhWCmlHPHM9ODD7EDDoFnNty4jWMDOmAXKLj4Q7kgn-CgjJ0Mh5OoTlNvMHM3IIj1FfAlNAVSC1VvIHK90iFACPJPIfIfj9xZwDz5K3JNJ2zdCoVAVbJwWgrwT5JLmxxnJkDnN7yFwXDvGL20JcApwmSZ3920mmFKDwpH14qMhaHaA5xYqELvKVwR2YqTMoXrLAUuSbMlRbMIBYu4KksF0IHGkZzIobMUvwGbMeC0qOLZGL0wrAGPMhCkpVwWjV1JKXC0okvosYrt2N1enb2N1JCyInGcq-M4QP3cpXP9APy8t-O3DJ2kO4vwsD1osLWmLVifTCXYuuzrVRwSry1dnvTKOWzY3oHVRXylWmJlXnSKpexOM2xFLVJIvmRRjzNtAjFKokshU6BhN8DWVKMs0ivnQao+IAzLke1xD7XiumJzwLDz0b1xy4NAE7zwRLzAPVX6EYGmMZEePXmWIdFeOCSKr8nPF8v7yr0ZDel8rrwb0CLCsNEcHXA7R0SCSaObG8ughmqQUmOMT2tRQH0pyisErHxtjZxQhPQYEL0qo23wDXRusWrup-jb0lSTlDxnzPzesrwO1ovQN0IYBIMsgABkcDaDHYbY6ijkciWDpj8jJqOyX8yhV9+DrCkgJKRD18RoSaab0VnZVDGwmaXs2bIbh0ZU0aMbsbwATD6aKhj5GayjSapDgiBJQiboRAvZtw7DZ8HCgDGMXDzrYhwRpiPDTZ4QHrYhFaz8DivNNayjtarp4RazAdWjcQmbAi7yZVQjDYIjtxlqyYNz0IBr2pIbKqjiCikhMincia+9xbmaiixSBZqA9FBigbTq-aprb5T8noHbTYwiqBnbphOLzpDIZaTtQEaZIZ5boIfCkj2D68xr8846A70IA5PambY6yb7amSVgE7zZw72RfASAcSaypad9G8n5yTRcGSay2dSBTIu7CALJrJbIHIXAQdzAqsSAcqxN6AlZBtx7kdlclwB6+L7wsht7hKTJghx7J6bI7JHJkUPtzA3hV7DAsc8B+Zb85BpEoA4BEBkB0AlE8R7iWJiB-qqMyVAU6Acx6siUckKBWVFVllpJSgwGfh8lIHDFpJmhkZFk2VoHZJ5JCAmVJ0RUCwjBg0p0rlF42VAHgGkGTEE1NVgk0H-RShf6fhKHrVeVSGuTkHUghUZcaGDQ6G1xWCYUz0AGWggHWGTFxNtEuHRd6HGwxGIHPFykWHyHRQe1W1U1L7qGEG7F0GbN+YZxl0+0B114h1pU9btxlG+0KqSGhGyH-Q2HbMPNiGNG4l0GpG7GLMjAtN7NEt8tLHbprGDRbHVtxsJGd6XHAnmGrGRHRQH1mAMq8VHGuSeGfhonEq-lBHfHIn2GCSmHgmZIBqcS-7F5+Z3t20pUfHhGTGig6MLlcHUV9Agdim0Vh0yngGRHD7pxBGrJT6Z7jlXZyBj4PIvIpGOgtAvDBVratYHBuAgdCsYhXxuk04FAENqBqYdHkRfwFQt5rb+0FmlmVm5kJmprpn8EYz4KdzUgClyhhZ9m1nJyVAwD9qyohmT0DnkwQawa1mKn0JdK1pfG4J6Az11bQwimDGF4jGPnAX-RpnPmWYinfn5AGUwQbmYCaNe6j1eEHmfSddJsamhjei-kMW3pmg38aITnrSGg2mDmT7p7z7ISO7-hPJBBrbCpYhzg4du0lNqnv5h0gVDAWGESe9sQgczoWgCm6nSAxAWHAVU1fNYqjkXGZHwn0me6ptSipl10nn-76AQNSNGxyNQSHG5HDEWGfTEn1xnmZHcWas4nDW7EFHQxjJRWLWpNWFXI5NmnLbZ7eGasdMCs+XiI5nUhT1NBqsPGfXmtbmUWVQXzahCK4L-gA2i12sYnOtZtSsI2igpoNXCm4Ik2UnU3BsiZ0nY3YziKYhzw4sk3mkanDq+ws2tYc2ctk2ksMtOAi2QwE20X+4K3G2q3v51nTSH5u2TZe2qJSzGIiLDJM2vXQ3F429ssvHXYwdStW3hGx2GJWXv63IqnLkHB6UpQniZnI3BINB9AGBhWoRd3KV1Q4RuAD2PXqRuRGBhiLV-VE0JC2UZYE3vWDWMk+U4y7mvjvNBtGRv2F2162Ux33Sg2qtXHatmt3dP9froI1hc65bDBH3pT+A3UA0JCh2Otm203oWgIMPn3sO32rCIXYgbNv3Rhc3Yml2C3Y1YKS2Qx3TGHURpUKStl2OqoJ0WVpVMXmh6DyzZXfVQmxtFXhG5rAPNs0Exs3n10IPyRzw9xb8gR0PEjSOeOrDNsYDdq9kr3ag1PgQOWd2DPJVvkpRVOYCp38xnnNspXxc4X-mZdVOiOgrChL2LP1ReX3aPP3p0n72XHknYnJPgHlXj27hO2AL3c6331VGSmtV3WgveGOHUnHG-XlOwDv5GQ620uQJk0571GbW4kWG-J6VsGWUam6mr3hU+OQ1LHv4yuKbv426XHtPivf3MvCgKv6u8l+4OvKuGv4nLc63BvCuEv013XRvV3aL765lH75AlAX65F37FFLBN3ytLp+BVB11I8IvRQAkzlFr9B9vFJSh+muLtv-gmEWhR6j6Y9RIjuglkUTAtAriLwdNlnahGhRnfVtH9mQXJAyBfOHOImIvIULmup+Z4U28geh1uAwe22fUjtznFVLnVmN7DNbs5wZBTV0foe5kl6DY5lG9B0QetYZVBMVM8fmMXsimKqZAqelMhNafn8UeSe3tnOEXKeIeWeafuA1M26bNou8Hr6kqKbIVRfLNuBxfMk40NNpel4i4sebstkmvRJpfiessW4cW5eYEs4Iv50+2gvLqDKq4xUgG-meelXkqOTZuOfYsG255FlbeKaGSHfsdtMvhV8WB11b4-XikpzjEdoA+ImJ5zwpkwZoPcRufcVAT8bNuXBtGnS+vfOuW9in40+r4CwZXHfzAW6CHh02Kg-qrZVBhBz8+OK-4ani-ZqIhS+j2IxK+k+xc864+Zds-C5Qf1ho+pPkqOAk4pl8HJ1pYuLB+xBh+1wlhQxdclwU-Fku-p+BEWBe-Le-H-HgRbpJ-OE0-wgAAeLfofzhZft6Oh+76ccEDAuSY9ugXwQQcVsxELakLEM4n70SUAcYsKvfMQWckfllaWOMWNqf8-O70H-n-2X6Ytv8FLK-jfyYL2QH+YgJ-ouxf4gl3+9OL-h7nAEMV-+ZyQAaJAsggDv+iKJOBAM6BDZRO3aOSBJCG79cAKfXbromDlZANNkckbEG72bpHINOwSJfuQPTbB8iUtVPfoGToYsD0Q2IdWt73N69wO+fyQLoGWaB9dPqPsIvlAMHojJT+HuRQY+zqpgRVB1xQ0nwORYst22GpXxp9Sj4VZg26-a3rin4GxAKWDA0SNZACTlBHY+yYwXhAnZ9hy2f8RkEO0wRtsB2IRHQYX1H5aw8E7nbIjXy5YRCkEng-yPGApq+NWBRAHEp72xy9cCG1XJwbeQ4FMCxOYgtgekPC6ltXsZcbgbgN1BXxD2Bod0kINUFt5RBOYVIRIOdxSCYawOK3vCzPTyD0IigghsoJGTCD3opQUiATGn5Xw1BJJSoZhH0G71leFAy0qYIMDmCrubSGPjYJ6ES9a2F-KoSfVcEiB3BC8AZkyH4bUo123gs8GAU4qBxnegQ2bsEOlqhCa+afOIQfCiFFAE6sQiKmuxE4CDSKRQtIcjxwDzdaUi3Z+rIjfoKIlE2AbHPM0jq7MwYqzBwCA17pq8nU2scEMCkRGyZOqJhHEYszxEzwo6KbJhms2+xuh50NzUROeEJFIirm4IxkFsmdCQo5gXmWIHMAnBN0GgkKDkByJZJ1huRpuSFAhAFGUlhRrI1zA0nFENJJR0wSFNbEyBeYlRbAf0DyMqauZgop2PqF5m1G0x1RIo1zG0wFFtM+wGowoJCnYTl5WAt9TgNaPagsBb8KwC0bEEhSjFxRrMR7r4HGTnR+m4xe-qAFdExBIU7kT0TEFO7cAfRwrfpl5EDHBiTOc4KEOGIMDejfRoAfppCFADxijRSY4ACmMjHZj0x-TMADmKlFJiAApAWLTExjQAFY7MTEATGQoJknowsdGLdqXcRIPo3MWCHBBjkAQrYmsR2NAD9iixPYiEPv2rFRjixoAQ-jEG7Hljex+-AcdwCKBtiZxy4+cU2NcynQpxRY2sedC3HjjwQp0FcQ0HXEHigQY4xcRCBHIpiMxRQN2jEBHKxBI8zoJ0HSJ2bEiimafQECGE1hzAjiX477oyOTAytPxuIkCUU3wAsAAAVm9zU7-iT2yIYVqKOAmgwvM1I1EZuEMj0jvxC3J0EVEA54SQJZqFAUCC2SQo38XmCcp8InCQpIAdANUAhl8AcjGJzEqrAmP85WiqA5eWAJAAFEOj+JXEjzjxKmQMAcC4oh0TgRElBVIUVBcgFQRTEKSqC0wnSB+LAIkTqYZEnLEXz-ErBNYwoN2gTCZ5ATIJ2k4qOanAmaT0JMxL4ualr76Tpghk4VtSM3A8BbJlrZgIu0IlHxPaWk5Edc0maICGkMqT2rPHFBAxfAFvWCSDHWDKA04mgQutuACkkjTsZIjjuCw9ritQpRwIoJQP8z8QsGsgsEDKm+ZbCXOfyd3LLUGCpSfxRfZch7lSk6TaBYQT5jVKFyeToJcEhCY1OdzNTLJjKDPp80sGbCSpxRSQK0jBhiAvgq-JDN0MqllRgIWICqTz0IlgiwJUiZblCPkSYAMArfa+hQFMCA1c+sUG4KQHGy3EDuUScxJYmN7LwViPMRnN1R5S3E5QQAhgBgIuhpxSBOA+6Z-GwhdUocb0kwrohuCaYDG73f5EnFqFbxlAygMxBkGeZGApm8M9MbfnGJ1N4Zn1cEPTn4r05fchA8YuQDRl0TRIXmH-nnzop0AB0xgaGRK0QG+d6mDgWmRvH-AU0f+IA8EBCBAFgy+0xgSGVKE1jMyaZy8YwFM3FYTAuZ1gGKlXzKCiz4sYMQGKrCBxY9aqqsxnOCBRhCUlISjJ1KrLVzSRNSfWLIBGFVnhAsy86c2SONUiY4JK6ZMVh0i4pG1zuAHS6CTJAjmYPgVUc6eNg1n2t2wpxNohnnFbhBBkb0FBtclhaTdrq5sk1qJB5njEWZYspWWQFVgExpmjsnmEQInD04vpfXaUtOkWTRzy0IcpuOEEwF9g85IA5OYrKYBpyHZZsyWVnOzmjE3o8IHWdMCJYKy6ZYkUEF5iBzcBa5q+ZWZMGspLh-ZO9YeYvGxFTgvMWyDOaHIMEtyh5Pc1OaQB4hSUf+WczWQAHIvpQrIAfvOdjYD10qskwtPJOlkB10heNWdEgXi3TpwBMW+WTMtGuYhAAeCyMEGNp2QtIrhPwn-M17ZUnpouaeQ7JfkLCIFl80ec7DAXPzy6AiCMFArXlXy8897WKXmHQ6JSCuVEbZh4HbTr1rpQc0ElKn3pLRExvY34p6hvik8iu69T5prAwXxTsFOLYFPgrcASyxA3LGsmPInyRzF4ZCh2JCkOLHIcG1TJ4uvUipAo26DeINL02Ph4KdMbgQhf6zObEK-iki3UuW1J5KCgQIYAueIuLm0KY5pCnha6U-HsLjAFhSWYyE1iyLfA8ixRe2k4XcLCAEZMvvVMnQ4yxRjOHaAfnkBKKrF7USWQInnRsLAlYhEJbwq7nlDA0gw52TKN8UBL20kSrhc7E8UsocZTCrBdQE0A1NO5sQOfk-AyVnIGFJ7bJQlNyU4LRU4S5xYzMkWRVQ+OighkBMsWpKZWzHU5oHIkWMldSU0YRRTOyGGLrkjJYtieA2YPxpFInNlixDcJMB8AG2MGAMAqAZlu6dvOloQudnN5ZZmQ4QL4TYJVQKq8JZKgTH16uK+qLEdSN5JoDPNcSYfBwIcLWipwGA6gEQBwFIAWwj4uQQgOqzWUrDjZKJHhf+wupUhuy5ce0mvhd4jLU0LpSdgZjfyAUk4akwpfLMeUI4XlH895cfXtoKC7mPyxFdXDDL2l3FnS+NmorJJAqyhAIlwDtG+Xroh6bigRHSt0ENLLhcbYFWXymWxh-hZfZlUjjbqih+CdcVXMlVcQkDk4UBP9lmV3IOzD8bdD4MECWUAKqos8amm4QtgJshVLZdVem3PAQEgQytJwoxnVVjtzwCM0etAhLq8dTYTk96AbSeg4h-5By+gGbSejMtpgpUR1Q9mVUurPCetHaG4VjzpjzVjxECHMvNgwFSWMsDdkfAVWBBIakK6mkVWk5UhOCjIN4PlWurbUhyairVUZTjr9tiwYBfVS7BFqOFcQzhAtaavmqJBQ1CalWLap0j2rWoXqk2hwFdWtR3VDQT1d0Cyrtq-VuEpcCNQMDBra1lqk4hGrGVksTBMytyMsoTXBArVWqdVUQviorrGc86tdT6pZoT551bhGrs6vRQmE9126g9RoQthxqlVh6xNevjPXJE9OYBM5Pso0LGc0a+hUguQWoKC1yQb6ogh+qMK40A126oNcKyfVLr3gNnXChiB2V+S9l3tZNcREvUJrVVt67NSCoEBgaSajIPmljRxp+QcNAtRkMcTKIga3amG8WpBuMTghoNAqwNpVlxBvBYJ+zHlnfLmgsaTCQ7RjfrHHqwyf0IwdjQr19TzsuNKIVxbxuKz5lpWL2UUJsOChMbaUPG1jXvSk0cbnecm7jSxqN4jIBNcs+duptE2KaIuHJFTYJrLg1AxAJ6NaEDU00nLtNJm2dVfXoCwT8AbxETaYF84t07YRCzYW5o46+aZ+O9TzVdGdiMaXNW1VFCBH81WI6A8m9zbJJWBZtUF-vZ3r5ui2xaC2kEDzkFqTovJPVUKEQMbUS2F4vMoW6oL5KORyawt9MFIOlo82vCvNoqujdYP03JhqthgWrRJXHwxKKYQMfoNTE9hO4it5detvFgtQ1buNLWjLXeUTqtQmSuEVmOmMq1vE9N42gzZNralRlnc2W2bZ3Dy3fyLIQ26+XqJq1hbytvqczc8yhbTbzYEXR2uERPaB0-BZMTba2Eax70CmSW-QBdve6fajmr8oCFPjDzKxZ8EVWwPNvIWdC4awOs-GBRArf4UYmWr4fVqui7b+AEIX+YVo+3Fbb2xACzVoDO1lxgEJgfgAIr+XUqRWdnKjLiUsEzSYJPwcaW3QqUsLeEV27bTxCLBTQ7tadB7UCye2nRFIROhGVRiuXmp04VGMKovK4UCIA+YVFODfF9GSC9hOYPqf506bUsaVVATOKQFOEYCoycOwoOCCZ1VL8lIC2hpPlhrT5odDqsCgHIR2KQ2dqO3sUbryXfxMdlOsGNjtADO7qlG4BgqXj6bdR2IBooEAAE4Tg8aIPX1Bm1mxPlFWyPdVhToIZLEHwW9umwTZCC-2ZQqNa+BcBcVqi9gmIPqL6j6Bd5u8iyGgAr1dqigUaqlbECL30rhhyNPsPXuj0zxAYocTmLmgEQuAvILGEMOu3JAt7QiSe6cL5xuAKL6997Fqn1Hap4MYUiqhXNHvJzI6noE8PLdPrapMAOqbus1loCS0Dy2ArVWfcXGxy1K3An26oKVFXBkAAkkqTiSmoECtBGQ9ixxWfvyKKy3wNM-gFzKOAW0-Ir4UGKQFv0sSbZVOSVIPy0jpt69EITyF5Df3TVy6LsUqDEFgO+RQBhQaA5fJjrHBx27KiIAxFfBzKw8iy9qHsqlCtBC1DQTdc0UXX7qT116iqhQYSEAGb95vKrKAdEjgHqUHKwvfHpgOwGvIbhQQGQdEACHPIaBmveuyuENBoD4IMQ15ELwXgkat+eQ2GISFD7Z82dFOunXCp87fyWB4bYCxF2uwxdi8VoArljzK7A46YlptC0O15568UsQHfDQdXx4mOM61vkOyECGB7IliS-fwE+JUgn9QIF-cwAUVv7ZcH+-wwICAG-73Fvg9eMZ3sM3ynDFuoHdHq+02x3F9Q6JLfAC0yQtZ+AY9hwiriCJyAUkf8N3NZkX77JJh55uYfL7vDUUAiOXdYeFYtM2uWO4bYXkX03bOygHVoChKBD34F6ZhhBQdq6NHbKNRKBFYMdRGuzJUpIz7T0eu12xbucx9RnizXoQKHdoiN-Z9t3nN59A-nUAAAB0sAa61DmtGIMyBggqsBHdmOnFyhoIZe0SIAdv34isA+xoGocYAXHH-O5xy45KXmXCw7jsuJ+LwFXACIegO0SE6AAABe7ks4wKBqkgnbjG81oz0ERPPGdIrx8EO8YMqfGoIDUZ3t4d8PThDjVxtE2Ce9HcBmqxtFgMbWUDG0A8kwXeU6DwDfHhtlJ4EzcZpNRi6T78hk0yZZMW08TvkIAA')">function evaluate_query(query, frame_stream) {
    const qfun = get(type(query), "evaluate_query");
    return is_undefined(qfun)
           ? simple_query(query, frame_stream)
           : qfun(contents(query), frame_stream);
}
</pre></div></div></td></tr></table>
      
	<span style="color:green"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, defined in
      section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>, implement the abstract
      syntax of the
      
	<span style="color:green">special forms.</span>
	<span style="color:blue">expressions.</span>
	
    </p></div>

    
      <div class='permalink'>
        <a name='h3' class='permalink'></a><h2>
    
      Simple queries
    </h2></div>

    
    <div class='permalink'>
<a name='p8' class='permalink'></a><p>
      The
      
	<span style="color:green">
	  <kbd>simple-query</kbd>
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>
	</span>
      
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      handles simple queries.  It takes as arguments a simple query (a pattern)
      together with a stream of frames, and it returns the stream formed by
      extending each frame by all data-base matches of the query.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append-delayed
      (find-assertions query-pattern frame)
      (delay (apply-rules query-pattern frame))))
   frame-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNMdiHJgR0IOZSPIz1xhhFsmlFGgeL46QunqbpQDEWgmDExpiP9fcBBA4saPPCQOE0S9qjkMiWLY8S2zFawpNHWQNP7IEd1Aaz+IEI8UhCK87NklJelcXzjGQwYXiUhhwLo5R8OUCY53wViVMCNS6BM4TlKo7Sz3C0AGIA0QgNYxD2M4mRuMEXibOMoS31EwiGiU0h3ShGRGOYlK6gc5IrkiUQwN0nCfXCSJItAaLRFimE2vahpsqY3LTLM5J5MU5SavqRKNK009aOrfTDMawS5u8xoOK4qzSuk2z10barzgASHqOqGpqZK30SO7Jo6gaZE63qDOGmLWIm97GivfaUphRC3qMRbRCU+LAQezzLoEKL-oKpp-IWtYMdAQLkQEKwwlIOMZDYYV6gkp8MnSKiIP-dDMIgtyjA8OmMO4JmlUp6maZVELSEZ96PF50ZSA549RijSI2GUCCAFVCArQhKAAdxoJ1RldZEAFotaylKEMO0BsYp-HaEJuM4RwRL1ZdQs8pA59phY-wukS0N-Som3NepZ3abQtmDawRLfQ9x1nW9vLIOF0LA4LILHY4D0VXxwhgxkaKGHIVq-tGuKaop76M6zl6c7Gy3cZoJPBBVYMOCLlKZCrlPgzJ4wKdXJua8Q3oK9ATvU7r-7G+Trv4opq9+5b8v+hQyeOBVDhI3Yd965Lpe2DzkULKLTb05YTPs-X1jp8RIKmAADypWRV+9UumGUI-W6MAvPoTye94PkuRrGh+XQ37v7wzzPpffgQgOIcGImBfg4Eb73xUBSX+y8n6xmoL+SeIE54LyPh-Yut9H6GwpiVYc5VJ72VlApEBggcHZwEAgnGf9WLbkuBSRM1IsREyiMPauA9v7vlIQsOh+COThjABXWg9DowQBgPAJAqA0DyDQJoQBp9kQ7G6omOcMh6xsG4NQaByDCGdnwGwD0owtHRl0fxYYuhQAAB9bHbh2GCGu5idF6OsUYexjjrAejQu8QgrjLH6LsQ4po4o9iBPcaQGxnjQlHVOsQlykSrHRJPo+dRGtcq8OScEvQrgt6bBoNooJwxLZx1UdYKowZQxCG6vQMobBSCXhiO6FuY9t4dg4N9egjTdAADI+lLluD06JVMqKkBaVUspvdxTLxyR4-OHSdhVJqRwOp4FilRJloQZegce5AORLQCQJjKC5UoLgGwczNkpIMR01cV5rn6IAeUmgCdtLkGDIQDewx6Q12UBfbgzASyDFuYU0C9SILvM+d8-m+JGB-IoYCpgwLqAAJmdYKFXzoHzNGYssFyyWDVJ8OsnFMtMUwr2S86iHysXDF8Mc3xDhHkLIKe2e5Rl2WNWZdE8GaSULkugYPXOHAAVAtoIMHFoK2W3CvA8ixUTeXCPRcUYg4hbYSpGVKyyrTVkkpGTLNSgZ6oiFVfvb2CEQneJ1cSnq+rQAQVgSqtV5rdBeP2SomgJrnV2yOScm0vSVLtxlRy4Ne1MQ8rvL3L1Zq7a8JFefJFKKAmasDXc0NDgQbhsVfCZV4gTG0PjYm8V1AGm4qSIY61tTbXhplnmj0BbRXIuLYQSlvc60FrCAwxMtBS1PwpkyOQDLTkcHOZcjeyhOX+ojXyoK7aWCJ0oAICQvbU1gsnTITNvS7xUp2BJGkFImAwpXYRCtKybX1LtRBPd9AD0UrRQcmge7G1JuPeWtNeoN1GU1c85V358aFk0SmvF7YCVEqrRemt9q-3kAA7lZ9zaLVeLCZUwlurq2NINdQf9gxAI3pGHemdyJoOwa6cwfGTERivrbh09ZHBmC4FLcoJwhGilYZgzh3KxFpyxR+UBt9YLaP0cY6AHQLGUHVxI3OVhrophUefjRsCdHeLCbzNMh9nSlIzn4MQd8fHqP4pQ2BtZ6Gmn2s0zxnTrb1MJ3M9p3T4bmwnoUxC2zJAmAQThY0gkYnXM6f3fh6BPagPGH49Kj9m6eViZHAweg-nD3YpGY50LWxVyJfvR69YsW8PxeGEFhzfaOkRe8xyZVh7uCkD0r5+zXmCsGd2JKNLYm1HFnqtlo9aXV0gaMZKIr27lVejLBWOT8m6tnvA+BS9A3iAVisxlqbFYF1LuG+sNd6be0-vUzsAo3UKMaqzZ17VY3jMQYw-a7b5BdvUFm4+CuhaxV7YDU51b4Wv1ZvS4+fetd4ODDy495LNB10Rezcox8OwM4yABVqywhm0P1IBTLNwlKqWE1YYyCkxNCYCNM4-dpYKj5jPtbgao0gIKgEVB4CCROoQk8VJOGcmjMfwNGeT+hy8Qv1GVNYcHhNdAs4vlfeeFzIH0GxYz2h2OGFkIuJ076PPQADJl59cXUvmahBYaMNh6POFXh54DIGRgrzK71-rlHGu0ccJuB+3XYt9fGFXEbm3tvWf-xV5zSnxOBAQTUxl8VqdxikGoOadgMhz5Q7V9cc+yhjSgHlBtjLcYMwLcDFwEsIsJXaTT9QZQWmGB6UZznvSOOaqJXYXGJTpFRCh1NxYc3xMC9dLoRn0KgxlCO6d-XoRrYwWl6iOXuwHtqaE49wLch8pad0Brv7wPYILQ9775XuPj58BKXnqVc+X0KRh6cfC1OlvZA88Xyhd2Qe6QLlwguAiaxEriKou7XS5-qyidZdq5yAldByj2JzWg3vQdr44Nhc5DfMtVwRKBcECVcHnAhJZLnfeXSd-e1RHTmBcMpf3UAAAFQAAkABRDgAAQXAHACwIACU0DIAAB5AAOWQConlC6CpVwA2DLyb0LB7WrzxGd03i73bGX2mGTgviANYVdw8GPz4PPh8GYJ+wEI11dxCGPznFygkNQTEzkPsBTz5kkLD0wJwPwMIJIPIKoOUI2FXxEDEKEEUJ-CkIsDD2Pxn2D1EP-22kALYISDO1T2b2oC1lsLYCR17j4jMLcJYMsPYKL2fxoC8MXgxAHSZnF2MQyEyBtwT2my4GpHMJ+ApGMX6l5AsEQX-mN3qAYI4TUMzwsLYJyPyhQI2BMDsGmHrCIETBAgAAY6De5+JlY6NqiuBeAdsI5yBZADEOjajVQQIGABjKA6jRhQAABqUAeQKAsFEY8YCBMY1UMTBOVoweT+cYahEuBY6Yc7S7akXosPb6CCRHfqa4XYzo7gbou2Xo3aBwWBYHKlZgHZDeDY3BZFVfbsao5BNaDo-YnozSGgpgNoy4gE24vow2XuXIaYZWOcIbSHOGfTLrDYiHBNXnQEDwNYkE94hueHKoxY8Et0I4o8TnBva4SHI8Dwb6GEjgOE0QIbVcSHQ0d6Wk+kobK8Zk13YIRFQ2Y2QrZgWE+E74kSH-FCEQQoJsEdAJfE2BMo5BaEwUuk4UzglIY6YqGAyIfKJE5IdU7jTROUhSa6SaceEYpgQ2OSBSGGZaMWRKD0DBEeAeLBBhCHeUi08yOrV-WQD0bkhyDwIna0tvHktk4UuebJH0tGRoXoG6aGWGFaFICtb6OKMWDwEMhkvfCHUSexLKJU9kz9RqfKMWEIAMpSd0qGLGUInMpgIU9MyHMU4BAXcBXRYFN8bY2+EaeU+KO0x04MB07hWuZ0uZQ0zvYwdU9BAAQkHy9OQS4K2CIA4j0h7y4WbiFVimXK7lbydxSA7I4M6DJz8itNhnVLB1gJGmqi3IdCgivMVG7P7L7JXMHI3j3lEDdMVApgnKnLOhsipKckIAXNr04TlKDOSDDKHn4SwBukgqMEflJIoSvjbLgR3JHKhkPOUnVIlNAWsBLR3OHMl0JFAEvOvPJg6Xd2p09z5NQp1JW3bH51AQQpRhfN3L5KVXU3nNwEXK1y+lwm4F+hCNnLJAYQJ1IvGE9xZ2Eppw5wUnpwcG4G4p0BZyPnHxPMiFkoxPIVoqKCbMoBbK2Nkp9F4slyUs1K+hWD50oTAQuWbPFVbJ4p9FwhxwIrACvKgiMvJJUqcHl0GR2Fl3kvqEHD-PYoAvzJkqcDyPah1x0DCocjYo4otwgNCuAqBAgMisSsBEfhkKHzIq9xYoy13WqLKFvVyUrNA1hwmyqAC2GBll2OuxQm-FVWXwlV2LD3XSavexQkuN8SWyatxxRK7FlSMlaqEPBXAkhVEDhIkEqTNIQnH0BwGp+L63U22z0nnV2JFLgXr1KNAA70ly7NQX9FVVYGpF2OGP4GXlxLfGsBVDWsjPE1-Bivn1DjcnuqXI2vV2yNSqMDqtGmbS0X8XaJEiismm2qQTmO4ICr0iBX7yEqpxEpH2SA-3sHHyYG-gPQ4ALzWsW2XQOuTyasBuSF92DCn2pC8JkHushoX2eVQK0I4CINlgABksDqCY89hmj1MCiy9djWC3rgidrgM5yV9RCgihqRC18fBOahbx8VDcpxa2qgopb-rkUPxKzqbaaGbwBDD6pRCxbqiuasjCAw9wiCg6KmYbDaRio-8ACGNnC8aHIr1qjPDaQEIbajBTaBRTiPN7VdiHbUQEJD8golqFbdbWFOy+awjaQIiKQoiHJjrngbcA6Vr8rdjMjg7dznacZGDe9xbNr0qykIwH1xFIxJEoA4BEBkB0AFF5AQcUJkaYoD1SUFJCAJhasUSMkXQmV5UblxwWYYNMlVz3xuVfSyTXj+6O79Eu7UJ6ZuB6U-U+7B0Z7R1h7JV-lG7B7Olo11US0B7x6a7cp17vZ67+Am7xwySBUfkt7GgPAd61CaUj1uVl6j7GgyTiMONJVt6RoliJMX676G6H6GgyS507sm0JVz6BwnwWAXwK4mp2B6151O1l5u0l6PqjAAHOqsbR7rF77V6nFuM7NX6L6FJ36qt0wtM3M4sYUe0B7MHj7Ol5s8HQGr7aHv7D6sHrBr1yqcsNl0Hok37AI2HCqz6uGqHH7OkiTN6uHfSPAlqIcUbKNbtvsxG3EblMG07XBaNR1eEe1PtAGk0KHxHMHV6JYGx665YFYlZVY6AJBhgWBz5QAdYCHa6RgfDFqujl1cRlBPsktRyipvLM42B2NPhIHcRjTAgKYA7AVyA-GKAAmH0WR2CPHIzYy0LvHrBNkhxF4YmgmZzbr1JkUoaqId7ZxZGH1MbYmWStzAgNKhBD6IhqAj0kGGhbs4GN4EGgmVH9cPG2mgY5HG6anaVwJMmbqRsUS91slybuGgQPARn-oP6qRwIxnfTpcvTDpEmkTDHIg3H7V5ZFYVYyR1MKs+BbHdYlrA5jBegc11M1GLkNG0TuBaBMG4Z+1sRPs4j7HRo67PtlHEVitzmMsr7n7qBNEmGV6erDsRiJll0Cm67-mdlcokVyMoW9Gf6twmhL6ZGR7P6AXONUEcGBHFH9EhHhHIXKNoXAIpMNcZMR68WMGkX6zkQr6iHEt7mapjzrAysKtfAcWdNS1NwqKKYlmsZKKWW1kWsyGEt8ssnkgKYiX3xosst2H2t8tFBmGKKloqLEpZXWtw0+6QIjxpWcQIg5X+GyqaslWV6yzthkmlNClZ6NWaRGk+7gnGgKZbWRk+7zWVn4zJWOl6XOX3wxYgVNWjXftSACRTWm73WKyfn0lFNR0iBMU5hh7PHkStgB0OAXnoI43gVPlpB4JlBE2-bDkmJqQxjjUMxvVJCB74ohWiGB6JXsmcgvMQIqtRXctJVzWK02XKtfXuWFmjgx92oQgjaqFaAi2R0-QnUY1JCXX5WxWasynbcR3k8S2J2N6LD6mjAbNu2A2W2Q2e3FUDzVXPXqLtU97Cw6H8GSVT23RfVGVJVe2QhaDI2q6z537GHBGkXdqfx-RUGMFGIFtUG22r89rUIZob86BR3l2r3UFG5F0JAbrEpM3xVs2mwQJLmOBEOaU5hmoYYbqpW0WYOl1-lzKRUemow+mmoco7n12gYMPkO7n9zymndmGC2aAr6+GKrOGqXTNmGQXXlwHpgpnc4ZAOY9Wn0E17sFGSlol9HaXWP37T7OOpOmWgOv274QI9WFO+7tGfrKGaW1hMVp7GVZ7NOb3Tkl675MHQatheFZPXmV396gWm74oDPTOskh4oPiah126uP53jA9WPOtP5GAldPmGwrlXhE86PUC6owYxi6ZEy75Ecxn2KlKgwWohl1Q9eOaG-FDqQ81LQGbHuYczYoGO-6FIGBJYQ8ZZfFTlDrEUMwRhkZ1gdNyApgBAggnGMsE5IGmmNhRh6PUHlP+LhrIJUmigK4PMxZevu1lBBu9P3VQcUn5U0nAmt8Ydz1+nMM3EVuH0aqgpGmzVmn+ucQw9BNlNcAmNZbuRimAPcBTvFMhMLuRMrvdmPUSOJhemj07usuzuGMnvVMcrHwE5BO1zvxZn7uIUQf3NlAwf9EmtWHt5Z7eE1vK1jsYF-oqrEfeE9vkQoeZnsVkesv11keWOG7VVtKa53vPvsUePQ69YCyzWSs2aDX6psFafKymTGeFvq6SB-wV8PRXGGEmX8lhvvoj5LOOREoJlphO2qeyOYUQJH2qVuuXTXP6ONHjjPo1eGLYpvn6CGFDPTke0i8Rfk2AdbghFuf9uDfrmTf2czf6eHBLfkvWPiPqn5eEsvP1e5wBviwZfgW6fxhU4Jk57GVmwiug-gwQ+RpDwUXw8pZ+PF5VeveGLQ2+4-f3uFmQhI+Q+1fdAAAeP8fgKPwCn33t0AS+iroxiCNAtCMBwgCQAMBgYMYxQLJKLo8gaQEIUnaY4C5xVOBc0Po33QaYj2nv0roGfv4MQfmP5FwEScKvyIGvuvhg5WJvlv8h9v64zv9r+1KYif96KfwfvP-fsf-fvvnfaf9i58zcWz1mTCQ3tzoT1zobgKdTQ+tZNCZkdn-I9TRd5NFPjnCTZOtoC9WGoF73L7w0f6n-J0MJ3KbaY+elPd3rUxp4r1IBgQEIK5wJypYIBwFXcLcFn7AVMBRbYKkPxw73Eb+80QINjFcB6lG6BOaXiKh0TstkBfTOtq4DWZkCZY8sXxEOBjy7JBmpzSikexALAd8cVEW1mz0Z6AgKY--HEAbzV7yCkEnTFIEfD7rG88KEbPyJWQ-50xv+XPF3tSk+SP9Z6L-HOK-2grv9G6MA-QU5yPa9w5B2vIAewId7hIGsuAyaJfWsF6C4B+uBARTwHisCj0zHIshYz9TYDhkHgwWHQCMKrgY+DFdAdLjkEgwIBFA2foIJQqKg6BEwBgS0ll5BCiqgITgWYJMa8Cgww9Q5kYL6YnMfIwgo8Oq0EoSCWeSfOZOFxkEdI5BagxQY-BUHJA1BtvTQYqGxj8kwUugr-hDgMEiIcY+dCRLF2kSl05ECibADumsDhNImrXaYIEyIDN1DsqGDbrExlhrD-G7mF7qEF8bHD54OicYDCn3pBMDs5vF7I1EyZlJg45wqJpsJmFUQSUDwElBBGXAe07csQIEL5xG4QRrQAIg3NUGBF5FfhnUCEfH2hE-CeotMMCPCPWSIiUgvwtwaIA9rYjGgII34abGuKSAPaRItQPiJhHIi1mEItZoCAJHIj2EveT0LQA8yMiuAHocRPUHpEQpJi8I4wFV1ABwcXmNjaYo31ADciRqWsPkakEjyCiQQ2QGxrrDFESjIIubFIAKKFHPAbGUEQUUYBVEQRgA0otMLKM1EKiCKuo8UZSIhQABSI0RqPlGgAbG1oi0fqO5h8j7RwognHBytEjVJy6Qd0SaIdE2M-Rcon0ZBHz52jAxnowvkYG9FIiIU+ff0coECAeitRoARMbGP1GZBIxygU0Y6NADZBMxYYiCJkCTHJBUxZo0sUWPjG+ijR+Y1wM8CMDjljAoeB4IhFeERMLht2NXhkEVADplwPoN4RsPSZRd2xwHI4e8JHGZgR0HoAAFYNcb8fY7ELiBeawihxUwD2uugGY20Jxw4sRIhCDjjj1xNRPakajA4kpfhXpD2tOV6EORfhkAQgHxBgwSAARD4p8RVhBGMdkGDIikL3lgCQAIRbI-8Z+K-G-C2RWBeEeBJAmMdfhFBFgBQSNFwSKCiQyaGONU67jPghqOlD2PSBLjmQnEZ4KuDu6DjOxk4rCSGzQm-gMJJ4r9kanUG9j6gA6AidkC3HjQzhpE4ceROKxUowmx4qcWew2afZ1kYeAOgvB4hjAJAlPWcR8GLDEBM45WXwQ5GomXDriHDW4dsLaZCSwIe5fJFGxQh1QH+BQn5GHkqZy8UBPyDmEO33x8TuxgAxKspPImP9Q2lk3gHRWUm3ZKAc4hcZuSdwOTTxdKDXio0YH5DSO5k1JMIlQKMDCankwCEZNDgGSp6cUl2DgEi6ZhouRdeYbIkwAYBDBYPF0GQDRq687YWIBgENkeJZdwkJiMxMT33gfFwYLOWao1EeKiRR+HAcfkf2v41TNi+UDKl1LqmnDtEWIDlnA0a6-JU4wA49kWGIDEBjEdgOunIHcbTSHR4iaYjIBYDTShKpOCnKTm74yx9+604gNBMBAQQPaU-PXr3CICdolIY04MO42b70ctGl0-eEpEJA3RKyU-U-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-mIRmkLLDldPPVviSin-gPQsU0KWwIXkySlFKi7JJ9p21iRZB4dP7diG3CA7twF8DMH6HfAzKjU8yv1k7nDn8KyiVc9OA-HlGpVOBEwHyfDs2blLzGhMP6EmDsY988dwOiCLouvnY8BFoDTHUjuJoo7DKPM5mvYDxo7aydfoSCLbv0WqK7tVOgvB7X92C7UYdBEvNY2EAExyRVEAAJxdAo0seyQNjomnJ6zYagE-PPETBlA82dbIVl2HoDtqhBqrdUjQCK4NEXBRgMkZIBkApyU5MsNAM3pjUHs7FZymvSnuXSpZIsR4WvZVnDo91Ig4RTNC4RoC6xmMuK7Qa4H73Z6h9C0sBqAv711KxqkgSamuRpTGr+tVKunjVp90jU5w41dfdD3tT3aXx7jVfRNVS5lxDBUimHSqBDhRRRgvicVB+OpX+gpwIEYhSArAVsKN83ch-X6FP4dBfaTaoqFMAYAv7nxlM0ReKiD78w62-eyCDrF1hSKtq5Kl4CHCMAoGDYB-YwEgYLkiqpwsIcFYe2xjql6lAeJpVwBaVzBiDdbYjR0TPVfr+l9SgDvQfNbqkIDUBirDAZphwHoEFqDvSoC73IGUDRzCNQGFoOaRxDOsXAx62GF1D6gSBiCLId1gF5Ms-ecRGoalFgrZ9JNI8OEX+0ORpdtuQg0to+qK65lddKcBrrTD66cYDopukdIqbB6iD+IRHQHhd0ChY86K8soEu5DNDAwtAZWGYkAPAFzlqnT-VRG-2kLf9m8l2eEeAOgHaN-oI+GBzP39yPDfuZ3djt8NWdocBM9I0NQghKwwGHCGuEzhYCMwboIQcw7nnNo3prDlGWw6TNkDFGo8Dh77s8GcO2dxUQqmHa9T1rb7FVP28XZEUl35FGh2QQw+HSslfBSgYsPwv+osJDGU6PQsWNHgDri01jGueUp+O93CI796NFOcwRkCG6AAOlgFWrzGqDuABsHSHlC5jcx6s9qI3vtTcHtKJwroMcZFWnGAi5x+HVcZuOuSigdxh4xvmuD4AooLhRcN9GhOgAAAXmxNABXHAgtxxpfcatla7BRygZE6JCBjvGHUz+r44HDeh4AgjP4UI5EFOOgmhA4J7EyaNDnIjqj1XMfsQDH6e4YQKcxCA6F+NLbaTkpBpYvAhNMnQRrJ+1B6HZOcnfaRJg2EAA')">function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
        frame => 
            stream_append_delayed(
                find_assertions(query_pattern, frame),
                () => apply_rules(query_pattern, frame)),
        frame_stream);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p9' class='permalink'></a><p>
      For each frame in the input stream, we use
      
	<span style="color:green">
	  <kbd>find-assertions</kbd>
	</span>
	<span style="color:blue">
	  <kbd>find_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>) to match the pattern
      against all assertions in the data base, producing a stream of extended
      frames, and we use
      
	<span style="color:green">
	  <kbd>apply-rules</kbd>
	</span>
	<span style="color:blue">
	  <kbd>apply_rules</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) to apply
      all possible rules, producing another stream of extended frames.
      These two streams are combined (using
      
	<span style="color:green">
	  <kbd>stream\?append\?delayed</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>stream_append_delayed</kbd>,
	</span>
      
      section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to make a stream of all
      the ways that the given pattern can be satisfied consistent with the
      original frame (see exercise&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>).
      The streams for the individual input frames are combined using
      
	<span style="color:green">
	  <kbd>stream-flatmap</kbd>
	</span>
	<span style="color:blue">
	  <kbd>stream_flatmap</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to form one large stream
      of all the ways that any of the frames in the original input stream can be
      extended to produce a match with the given pattern.
      
    </p></div>

    
      <div class='permalink'>
        <a name='h4' class='permalink'></a><h2>
    
      Compound queries
    </h2></div>

    
    <div class='permalink'>
<a name='p10' class='permalink'></a><p>
      
      <kbd>And</kbd> queries are handled as illustrated in
      
	<span style="color:green">
	  figure&nbsp;<REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>
	</span>
	<span style="color:blue">
	  figure&nbsp;<REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.10" href="./4.4.2.html#fig_4.10">4.10</a></REF>
	</span>
      
      by the
      <kbd>conjoin</kbd>
      
	<span style="color:green">procedure. <kbd>Conjoin</kbd></span>
        <span style="color:blue">function, which</span>
      
      takes as inputs the conjuncts and the frame stream and returns the stream
      of extended frames.  First, <kbd>conjoin</kbd> processes
      the stream of frames to find the stream of all possible frame extensions
      that satisfy the first query in the conjunction.  Then, using this as the
      new frame stream, it recursively applies
      <kbd>conjoin</kbd> to the rest of the queries.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (conjoin conjuncts frame-stream)
  (if (empty-conjunction? conjuncts)
      frame-stream
      (conjoin (rest-conjuncts conjuncts)
               (qeval (first-conjunct conjuncts)
                      frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function conjoin(conjuncts, frame_stream) {
    return is_empty_conjunction(conjuncts)
        ? frame_stream
        : conjoin(rest_conjuncts(conjuncts),
                  evaluate_query(first_conjunct(conjuncts),
	                         frame_stream));
}</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p11' class='permalink'></a><p>
      The
      
	<span style="color:green">expression</span>
	<span style="color:blue">statement</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'and 'qeval conjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzRWIBRNFxN4ACtLlRfRiAAD0IMIixiQL3VSdJMl6gawnChrurcqpSA+BhOu6qbBt4kb+LdOZ1pms45pRNzAmW1aUUMPbNovBI3QjfqNtmxrzGa1rKFxYKuqO+hLuG66BNFCasnu-bzielxFuWj61uBq7Rt2mHHvm8wTpAqHzp+4jRru6anVBpGXBqMQqFqBh2jIXwMYC7aXHhnHZsO5MVHoDr8GqfQztMQxuDkcgFGIBgPkCXnYepsaGBatqVuZ-H2el86-SKUoeb5gXKCFhQQ2aTrWboUZTrlznZboT7OesND0OIFDidJgtSApiGQI5sEnbCSCdJWZX+cF-oeNxnA8DBwxQDkRQIBgeAkFQNA8Wji4vpcS382J2XWvoYg6Eobh05zTbRtFEEtAoLJclTmoM4VmSC5cxsUOIFPCDT8vpOaAHebrkuG7LygK8V2T5MIAXfAUFh8BrqijCHkfG3wGQ0jb+vG+7rO6Bz5uxYqZQ2HISrvo7xee5KFo1wYDet533W9675fV-9FvUnNagxDoPmM4XruD9iUpE8bB+n5f53FCd3TpnFoK8P5hjFm8NiqJOhv2AeA3SR8fhQOoDA4ugDF7XwQXfBgW9h7CHIOLAaJ1DDODgU3f0pREr8zBjOXmLACEMEXBQPmhcLqX3gebd2RQ8EMMISPYQFMOHlywWvUUxgyaOHbhg9+0kv7HwkQWKRRg2hKOUF7ZgWh-7sJkZw0BN8DQ4PYB4Lw5Du5yKQY2YxyhTHCJAdnbBYtAqq2Jv-MxCD5E-GcR8VxwCzGiNvmLDQhAQTch6nYjxghCAhIpt-DoWh9BgyIYQEhZCIlYK4duWcIEZ4MFrhdbeYhkmpKNO4rBjiTLBH8aJaytkHIuEML4DO5A+oeS8nE4mhUIpgyiTExJDhuCFKGn+V8ooUnUAUKg6gOYaEy2RL+BUo1glsFxOMyZNAZkMFociQZpAxD7ViPhQi7phRvlSHvcoWy5kOAWQ0c8J0MhlQ6QkpJAj7Y3Mydwho-UtAiHFivOC9A3GGS+TEJJzC25sP6XQM2ILQVDM+aC6YSTs6Aufn4+Zz5Ch51SM42uetHkIM-n9JIeSqJSwzn4h5bBzETmaJ2DUywjkngVJU6cOyak2Tso5YO+N2S+BIG03pKzCqHIOgzFi2SGC5PyXtLBv0SUuBuNiQpgIAB8lj4l10KRklodNxU9O-hS6BzhYF2PlZjUWoo1b8FULEq2CSUFoKYYENiYTpGlz0Q4olnj1zJydaaxslJVF+PSfoolxkHXSJEFM+gPxOiFzoK5GZZTw300NQokNyiPgKEoFzcNv1RmpAlm9AWWb1FGEoLmiYCrYijQZX5Zl-wi24PWCBHxWi-E5rzbc0Mo1nl1wdi4ztr9u2uwcY248REQzniHd2sl654qgEMgOxJcFlodpal2qtPbOATpDC2vF48507oXRuK6KxRontzWe4gfl4xTtrS6UWRrFHpwrXCraG7NFbozhdMdZt92xnJOcbpfKpW5IcL-L8Sa+bDKpjdJVGh9AMHVaJSEUG3CP3VHCbgsHiAgzjozQw3JGD4H4CfEwZ9srvHcYW054jy0eqAeXC9sRzxjsZG+qRw7f15vcfeutVri2vVxNxitAHP2lEBp+tY0T06DBI0IaVFHT7bxoxdE9vjR07omIinSSmyOqao+p1EF1P0TmoWWyRFaUa8e0ZW6tkwsWMUfcRbFwnKOb1M2k3RFDQylGyfoNT59B7D1Hu4oloBmiA0bQavlRrrG2L8-YsBv1zxvMZElhgbyBPknPHuIOQJDMqdRiZ8+F03mHhiOeTDpCn61CK8CUE0rZ51ew1KQr1XFWauTm8rOfVfnCH+TmNFbjCv6aRdBdrDXQjcAs1N75YC-YSrcka7xP63HmoLZaxDglbj8yPYu-Qn7V3OPuiUi+KWzbhpWxm+NWG-6hpSxa-LxVcxUUZKu6D-9b3FII6Q3e12sF+Wg2Fqet79A-eAeDiLYba4g4QwJWu6aEvHxCzR6pDjfpg8aeFsex2MexTx1PMpIZV1E6qrXf7WGgeepEeG-T+6IoB3xkHEOSgoBwEQMgdAMdiREZYvnVB1c6O7f+uNXgw8yB0dAAAHzl4pcRatqhiFlwrpXqQR6j36Fd+n3d5eK5fJLyaETCga+N2KD8aopQRMRvHZrhcfj4rNxEQoSO3R2NRw7615AxASGG0F7tOw+j3DECLPbYylzdvCAAMlj70foimd3hGEkCSgofmBiG94zVufMxce+SKkLPAfcGgmqeCfDXTVvmBJ6PVrc98+u8L4nkYEYIl3b5VZ6HOnSCq4GykgHzgI8CSC+CHvWluCC373qwftOYX29z-fR76LX7N485H4vfvS9Be2+Plf-9q89In7D9B+uR87ST-oCMu12-Xec4vliJ-qcXaH3TljBvxeX7b3Wa-v+O+d4+6pCU7fQx6-Q4ph477l7B6iQlhCBlbebnzwiG6a6QEkxB47oWR5h94OhebUaojIEa54wO4gGMB15gQp7DRwxX4340G-4x4P4HQ9KkF-av7z6Oaf7LDUE-62iYQp78hgZAGtr4KEJsGA66xgF-gQEl7oHQGYGiS8KMJiHOBH7gb0KMIQqsJkD-qUFSGizKoTz44N74bcC370H8F+w9KKH8L4CCIcG5yixmG8HmG5qMGCFL4MAbbaZgiSFcGeYyGB5yG5oWReEjpaSWF8rnbEJv4SG6F+F7ZOEUGuGAEeEBpxpJGcEb4S5oGBFzgwHghpFJqNjKH0CEFG7+i+7+6yF5HyEFH0AmrpH2bAKqEO6FE-CD5urJy+FCZ7ZSqBAyAcHcB4gRGtH1GxpFEUrcY+FxE9Gj4tb9GDGgCkiP5uRtE-w0pkBJobJ1zdFbS9HzGVCLE6ApFC6pDiY7EzF7HZEBFl41HBGiTnEtGMxWbnEcHwazFuhj6PFT66YjHEZMZNF-r2GRCxDxECSJH2F-EsRaZhFvEOEJFX4AYrHIwEbtqbbAI6FOZUGix8FObIlF7iyibWZqIXFYl6Gb5pAZAZGEY9L5xtqAnTFklglugAxUl-4Pi-EnFNRa5cimK7FXEslb5VG5GMkgLghJZPEsTZa5b8k9YQkME56nEMDLLUBhJkL8nSHb7VGikWQqlqmlFQkLT4w07iHAnkngl0EcnJH4mCB7ImnOCYmZECk0yWlZC4ndwCH+yyBs7BzyCc7hw85Rwxw6CC7clMCkC2oUx9QX4Ena4cBCD6DRnLoBagCtJp7sgRn-CKTGSkCmSJkWRxm66z4mBaDCABAmDEDTK1CNDV415IZ3C0KaGSDaHcD9Y7Yt5j4XJ-JgzgiTbTBNlsKtm2E9DM51mQIYKXLbIxliw3FBYyAWRdnDY9mGnmDgrqZaFLSJLTl9GHHzmgDDE2mvLDlbngGiw7kDF7nLFMF8oooAryCr5ggyDbkHEXncDHGKluRWZHYFhGy-JOnOnNZzjgjfnEC9lMyUrlw2miggX6C1zTmVFQFzgI6iQgWSnHTUx-ZvB-mwVUTTkQlwVcnmDvpfCkJ0BFKor3luLY5f4uB3RgKHnrogSey9RpY0Wt6DCjmGqOAkX8wsD2wsJcA7bu5ZFugISJICWI7nDngZ78wlq4gUVArAKMixahnXAHZbICWGFTz5r5LTliXkE6VUQ0k3kCWn6aYCXPDCUfEukjCewrngymWyp2UgmgkiW0W-52UflEWDYKYjZjZdqTyjyGW6itnrCyWsUdnpxiAZ5aVBWp4iQcBkUxVrhLApliVWbMUGWUS6g3YsBhUjYRrAhRUxUGXhAAA8RVSVqgOFOVIKX8uZVS4IAAKnJPtnQL4LaWIFLhidSFiCEtQNWaJKAAANTJlfLT5kVCgUylUjWiQWSzULaFATViBTU1UTAgo5l5nNWtUyDED2SdXdV-q9XRIgiDXggLWgrLWrUzWjVgXnWjWLWxBXUyAUwpWeljn5QDzkGQ7kGvZIgJYry4JyTYjUUhg9KGaxUhUfY5VPpFAQGAyQ2pXuxfyA3ojYiPWFDEX4CkXkV3mKWvzeqPXNDkEqRAi7SlUY2IK7RvWU3E2kbslgSBU5XWi2hvXdbxgHqnLZyk3sih5yV+WUXwKw2Y0NXTi-WcojzlCgBV7s2HJuaGSzoCWMhDrMVAZ9qiwQ2exmXiVtywqLZa1OUWWy14QgYt7ZxA1EAsU5xeUuC45M0-VM3ZV-WJgA05gW0g0RUex8oQ1ZXQ3vHq0UkI0U3oQo1u1o0nZfJY040C341giE3oTE1M083k1M1I0h39ggTU2dDBVRZGTUj02YSp03YRhs2CZ4RjUNCvjc3pkyWEmSwKUPlsbfKi2Q0WTWSS0iDS1txCoT6ipHgEQsp9iK3d1Agq2aVq3+ijSa2mUGU618x61TYG1GVz2Ohl3+Qc1uX6Lu1W0ras7xzs5+lhzc6Rx84YCqUElrJTKbLbI3LYkUmznl4crgiX3bFoXmAv1VkMATIhJ8aY7zJ30Wk8FZCYr0zngf3X0+lAhBbOhj5zBgWxBzATgL08Ll7ggcjwMxAchIOIpj4IQYOThwTYMwOoPZL4PZJEPTBj6smZBgXUNsD+jIOFBj7BQhLkC+BgUsNbwdUGiMOxBj5soYNsp9i8MxBj43AZ7KksCGC9niOqCSNBwrAiOAVgjgjDX4OxD5mgC+Cp4aqtKjXcNKNj7uTqMxCaPaNoatJeQGM4OoO4bTBmM6OpmgCQhaMxCGOoPAAmMGB9TcDmMAi6OgBgDWPENAUACkXjDjFjoAoTrjoA7jQFae6jkT-jTj6Z2jNjQFAAhMJEkz41o4460tk0COkyEyo2VRE3k34wExVTECU5Q6g2VQCCY8k9U0CPkxkyo2qhU74wU6ABqrU-E50009wEUC0042qm03Uw0GPpk14044UCkzEJk7ENGc6E6GA33usp-UkgZYCCGAYXMNwOA7Mvves+9sc1cvHNKiwB1CWUVvs8hsiGhrg5s1faBaYa6dCs5n2TEBc4HE6EVO8CVK89sZMcwEdVA+XmPgymBQyko4tqI6g5AHQGqKguwyM8i6i29PCwi2I1QHI7AJABg7IwwISzi4tnixIwAKL4MktUvktTZj4ABy5ATLXjLLTLud3CZzQLPAILn9cBGcZlezKwBhwoKTu0T5Rz-LmygrPaqU5zMr-Mcrt69zorjzaGEJT5N2Fzcr+0Y5yyqySrlzyY0KuyYg2S05hrX9jA4opAKyquDAHU5AeYJGfemgEd0EFz39HA-8f9HyFmhSlrRwRQ8WDuwEWIMdD5Twp5e2PyvlDdwK0EwSCm+gfzxpvtlNfLEybzYL8BZlDLhQKbIgabxrSS+ANzdz82SKurxU+bulPzhQtd-Nib8C9MHAAgtdFrFbPwrbGcXG-EA8fbYIALe9yYB9ocXOEcvOGAZ9Y5WFFApgNsqJVUNwpApi2B1AT4sb2R6Q0u04+F28W7fwzmIYswnzJdR7T4cot1DA911IKuk1L1Qwnzm717H8zQh7OBJ79lTMCgNwZaEKpZlafeZF-tAF5AygygUuGQycRggyUHjjQco1UOUHPN4I51pQGH0Wc1Q1o1kHyghb-oGHPxoH+yv7DgzCxgIHM+CKnVVuVHhYEQ-4Ley1s14IEIs1JcAHxgQHUoBhhSDH28xg5rNat11g4INplHwn-MhcCgUOey8FJuWQhSH8WHgM2k0wOCQWqnoA8e0kZylJk0EYqn4QCu7FDNCn4e4QRTokxQ8IZ7Bgu0un6Z4I9nikpQC7kHIEZMHwq728piqn2Z7YypJ1qpmOun+nE4eeg6xpJRuspnPqoknHo10nS0snZA8nzneyBSinN7FdxHeH1I9tuS+G0KyY9p30pnF1fY5197aXxgTAmXL7QDVnuX1nN7IK8ImnhiZQdAjHeUoIYFOqfXjHTXpAvsmsYsYlQXAYo3MnEIeD3AQW2X4eLNKneX3ADXGXE3H7Ysy1VnanokAA5Pe6qrdad1N89RTKp1J-1zJ8u3bPoGTHbEp0Z1kHzPuy14MC91MxS6g0IMIHdcEHdXZJPqJOaGmHdRGRwPCJMI59t99897bOk-eFkL9zdtt+NzxFN4j7tBj+t8j+TJj-d+l499ozbaAM6668oO6yBNTikh4ADutG93qZjvdEd2PmzwQdzHF9EewRz427EAYdT+sLT9QJoH9oz+om4KJyz-DysDgmVxz452PvZ1PiV7PMrwNAr1p7PpT794PM0n1C6kz24Cz-RiF9z2Qhz2xrOhm0nUCCGN9aV-PCivz6abb4Jhs2b8YMNkMoyAYYb40sb6bzL-mkMvL4Jleg7-juh3g452JbtNLwDiTEMjdhCSn24Gnzl6e4r7ylcyTa56Q4n-IOHzn-slNzs476pKL26xL-T1RD173GJdX-jkLzECLy62L3T1L2XwDnL7b3t637H1PNK77xXwcnLQPc2gxuNPPLb7WqNGr2BS71rwvzr91k2kvy+gNHFu4SxG9CQBb2xVHnBCz457TIQHt2yutG3VyvUrPpdvyiQG-S4FhRiSfy3mf9OCr3N9jNfym6397o9-OpDyni7gU-y0jQirbWz6aQqolAfADln5gDAKgHFHXju1ugCo64HPdDpDzqg2lUBypOAbFFyy4C2Ku0D-kCS95htni6lFgNUDYhkUcK37DgNlQ3CYCXAYlN9hBGhobgbSDAmNGRTJSsC64ggpgeHk4EWdxBquX9jIOEH4p5BkgtihGCUFyDGBjraoBpXng8C2BvpXWlIKrCeBdBglTyteQdzxsS2Jg9gaYIspSD0q9AjQcwOsF8C+Q3MCypT1FDYEv+m9BCtqTv52daytJIFvAS3YJIQB+gvmFtzoAd1hs2BBgOoBEAcBSAV0HpLkEICxIMB7mWIC2m8GL9shdyd7EoKyxOCikWg1WgNHcG6016vgjsNbi9D6A1Bj1QMDEPIx-J4hiQ4QMkICF2UiaTMDIY0NKGQ41BxtVzDPxOQhcxK+QwyKNDErpCKYV-TcP0IpgADGCsYeWn2H7R78QwDEBiKNHmEs9Ke3sXmKFxIB-IKgXDLsGyAuFsMSYhgUkFILoZGBhijnG4b4DuHEgngU3JPoiWGId8DASHNWD7FOG+U3hXYIEScMwh-Cs2oKMEcNnuGelghhceMpsjhHPDuAcIgWA8NP7KdnhR3TEfcK+H58fhIwQwNCOggxsUm1QZEf0FREERbhgwAkZ8KI59hKRGqY4QoDIhki3C59B9urC2Rbwq0jzAZNSGnIyBBRvyVWOrBA7AixWIoiYIeQlHpwpRPsGUcLEeG4iORR3GTPn2pFkAUR-MNEYZHJoQieIjbNkcHCVFkFTRaozkXwXVg8ixylg4bEKEmKgg-ELgghCAmcrEQMspQkoUILKGMBmKLgswbUKtwVAbcgwJoSmWdEsDj2egr0VUPnrBcOIiaBgOIy4hKDhhpQm7EmMiHURaBLENMZsQzFUAuIHEDEVQGTFMcW8nsdDjIDrC1BzqjncEI2L2DNigB7QWBJWNYhUBwgjnesTECm5eDt4abfsQV0PjOiv6s8SkO6Nfi9j8xvQ3UakDEocQ48CeH-sFn7GJ8qA6YzMdVQjDrj-hBoCMF6JZH+gSxpKA8Uj2PEwjoIu0c8SeKRR2U9ubYpsUDyOGq4O2OUDkYmT0pLg8mFowGDAJUB9AbEypRgPgJ6jQTnA3AQ3r2MN4+i3svLA8Z4QIyPJGQV4xgDeIQnVimQaYOCZOIRYGgkJHglvGhOpQZRVI7YjgED0c46i9eONH8daOlGUSMJNKUCbwEa6MD+o44-8j1mVxkdbx-Y0CelBVG8wcQbIboNiJQlUgms6UKSZmF8BXlwxDKIwOEGkxUkcOhgTwR+BN5EgZ4-Eq6OeG6CMhk+-YvyBAW8HdBNJgQnDt0HbaSBQATVAABJUsGAAAQXADgAqWAAJSaqQAAA8ky2QBAgVKY5XapxDkawTSk2EmsdOW4n8xeJfUfiYmiO7iSUpafEgQ6TSmbE9u4kzoD-BylGgbShUzIMQI0hmYY2bFNyR5O8m+SApwU0KWVIHBZT-eJU2jNhOnLiS-xKUhgIZIGLdTdSnU9yByKCE3lGBlUwiXFL3GbEEpUgjkQKKoAGE4UXoqXOqgWxqATAXgSCdNPgHfR1p5kScJQETQJSO+UUtQPtOqnxSCx71DtnEAyDKs2hhcRkAAAYTgY5GoPZE8JPTThoSGjF-UGCww-puQBwK9KBAw9np4M7QKNTxBWTRYUMqWDDNIA2krM30kQQmLrguCkZ1vHKNQF9D2ClwbnMCmJVxlhd9SjAAmYTxMGOiekgQfDJjIdCpA2YUMkye9nJn9VKZQM5SntV+kcB-p4XWKATJSjkgekQI-mPZE6CmJyBIYayWONwGGQqE6lDGSYICGcyAZws30IZBwRTCdeSsghtOAlkMApZbAUxIsIvFNtAgks6WZZyH46z9eptTesbNNmmI2ZlPCoGcNCDSpdYEQ0MXYOIjizrZJs22bWNbBz8RBvUXtBUS5rdisgLgx0MLT4h7YbUd6QyNvwKEGgMsAYiQTa20H55bB1QizBAXUksAuWBoJWNnWIAwjwwwc12YMMDHDCXMwGf8BnJmGeYphA49Oi7Ntnww5Q5nHuWbLtm69twzQRsYRDXq7CW8g8mWTr0p7TjXRDcLDH8HjGjhoaC030UUP9FAhsx5QzSv7KLmChTkxQ2znC1hr1o6AU1MsdFIbm5zFBuY6tiRPXl3SQ2IGR9LkLHFrhfwSKPAJCD-kzot5gYnOZoODH7zOgCUteqNBPkiQGUBshwFfJvHWD7xMQbMffMDGwp-wmCsFBZQdlxiXBa4CBW-PGGvhPZCmVIN9AIUfZRBCUyyr-P-mXpRY74jsZ+KIXHJM5WwobKvN4GUKwxYqA-m5HgUvVr5FYhcHeGQmb16xrnWiZ2Lm5MK6JzfVYC0DjlptRFR3T2CONSDeDCAwxYiTEC-g+U-ki87GqQhXnaKjmYinBSuMjmEAHhjnBebPCXkmLHgNio5myGcqBMwAf8yEBoqYRLhtFG46bn4tJAI9L5Qim8UePJGgojxpIZ8UUEEW4gbxyfSJU-KKDJ8YlyCg0K+Km5yLmxng3FE9MrTeE3uD9Got4RCJPS3+4FTeNxLIRsypBEJNmb+yRm5Y6lOI97pZwjCNLOeAPNgFLN8DF5MyDnfPhCU6VPS6ZfKa1oQihnZAnp8ElHr4tOnzTQAZEgwZvN5abxdc-MpdAzLbhMy-gLM3WO7LkkCB4l6EmkDSkZAgpTluE+ZfFOQVvBqlppDZcpjZmxLpgKy+egjL2ynKqJDYj8QouJSMS86A6cnjMoFm5ZnljAV5RZmYmSBfxNon5RxI9JOSBAdUhgH5MsgAAZKlmFOlpUlPpPSS6XIyhkXRbp4i6ymUB4n6S8pSQDKW1P0kkwSVNKmFFN3KmNgmVv7NlVsoujTk0VGK7FeAFakgR2p3K5ldOSWnFtBgcKXqTaP6mDSxVbyhoMBSeljTTR8IDvjKulEkzylHAVVerDh6U9rWTKslQHNY6mjlpQo9GtuChloYFskyrZWCsEomrdaF0yQFdONVzSkgNCr8a1AFm-ciedsBZWdILESSeIi081eKJWnIYwaStFJoZAlXyZzh9I94VKvQhqgOpVU3KXhMWVeq7pJ4i0UaqekXRs1wa18fpi1paj55UaUFb9xrGhr2ZvLVoE8yBCKSj+dcAnqJBBW-c+6AFd8JGIaFNqbkHnakD635j+ra1IarUcF0HVXYIK-GDtRWtNGgTRQKUh0MZI1FSjVcIkj0objFjeCLJyKosW5A+DBAUBnUvOSlKhydSroLaVdSvNikwom64FKkGZKBByqswRkh9aMPPDQdcyMOB9aGpFbcJNVqo7oCNMzX0A9VPsHtUUFKg4hwNM0ugFBt5i9lDIM3TqdwAtG-qGZIEADVqK34bC+FY5E9YEC2UXrqVrS45SdMTSMgHl64U0kcqPkhc71ziz1Y+thqmS-AjId9biCMndS16P6xIDhrI0cigN7sEDZJLA0oUVV400YXBqk3KrdV40xtmTNmUAi0M2GmHEjPw2TpxhxEUDLyKIFIzgg10shF+o3XTLzNjnIzQUq-VTciBD6q9RBoXzmDGYDmzqU5sQ1XQSNZ65zeRoqCpSv1fkKKGwAzWIamsaKhqf5MCkhTBV5ISLT5Oi3NTcV6G5zZhscajwwtB094N1lGjggMQknVzU-mEDDZpllGpaogNI1IytBl6xjexneyZbuVjIPlVipxV+QWtAqrCUuChnpa0MjWklblsYUFaPZKQFmGzDRicw61WojdfzQm09Q5tadXuECqUh6j7WtIw0cmqlBwou1KPNdEtFRija1oC2m7IuodFuxRmjjD6DrD1gHbDAJsfjMdvO3uxTtPsT0nBvy2kA7qO28mBw1G06wAWPSQmMnDo4vb1RbFJaZGstWes+wkitVFgFwiV1cR32p7kDtLKgr0+iq0MLCsQGsTVRr42wAjt7jY74V0o3oVgpixUkntiYGekutmjvaweX26td2rwzEAiYWgAHQlj6gmB+AOArIWbSjQBCu2XwPKsUTxqN1KedfcXpL3xQg6adDoosFPQjWCjVpoYWHYpH6jc6Ek6kcFjQGTiU1VursAsZjtgrcwdGMI2-jmEflPyrID-HlBxCoVCp7q8OrBYUHBCS7e+tcOHkl2J247JJy4wJIDB+ag6eIdO-gBCHd0N9b0jOpOFoHJ5gUI90u3Cp9PPA3ATenDNhoyAACcJwZguxC4ahqNJv0XPSFHz1LSRcYtEBDClhotog6O6zOdv1fAuB0yb0p9YUHT0Uxjux3CyGgB70waH0emwyO3qR4fBm50wdvaGq-qFxbRXIpeNLQ8j7lRhU8tvXnrYYT7y98HfbGnpX0U8j15gToH0oGU-lsMp6qbUuqkHB7Q9KjffWw0P3vNO1TOlHsN16U37wy-A3kVn1SD+rqgpUVcGQBHikJsW6Wd7K0EZDB8mkzAE3h-vHHpc3w-XfgOxyOAGryQr4GZKQH-1otQAtncEKQkSrhFYaQ+8EJ5C8gf7llKPd0HAYEBtJjGCIXRaxG336Ase4644GMLYUMRXwAGxAcgOVIlapQrQaOUUBs0CyTNjm9zX5tyx8HRhKBv-djQwNYGcDzRVvbEAINEHPIBE7LYIB4OiAVDnkXyCwZPC7DCNDQZQ9odIPkwLw5yvNFQZUN96lD2+gvfGvNUq7oIaur5Iwd233jtdoQ5OK0BrGYbLdwcRxjnEtnI6KYPhkdWRRYkF6QJawojZFMYqQTDA9kGXN-v4ANqqQIBoEGAdD5QGBuKRgQLdUQMuZh6cGL7A-vJjPcp834uFb7vk7RGvlu7Nkp7EW2HxK8+AfbNFNVx9jmAUkf8PSlJ6Ncv9IQjOGEPbUfNbKAlQ3SboCNoYgj9Md7YD2j1+pY9zO8CmNpc1YAP9oK47tBP0BPyAAOlgEs2JrhsnBmQMEFqOU6tGPTOUNBC72iRUD-+0Ck6E2P+rtjJA3YyRIONHGvZTAJAWcYm7jjz+vAVcDdh6BiVgToAAAF5LDQABxgQ8cd+NbJzjUxnoNCZuM6Q7j4IB49jSeMnAoIDUeI0IESMy5tjCJ048icqbLcAed1FgHdWUB3UgekwY7k6DwAvHdtpJn4+SYBOUnlGEIcgDSbpMMm4emJ3yEAA')">put("and", "evaluate_query", conjoin);
</pre></div></div></td></tr></table>
      sets up
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to dispatch to <kbd>conjoin</kbd> when an
      <kbd>and</kbd>
      
	<span style="color:green">form</span>
      
      is encountered.
    </p></div>

    <div class='permalink'>
<a name='p12' class='permalink'></a><p>
      
      
	<span style="color:green">
	  <kbd>Or</kbd> queries are handled
	</span>
	<span style="color:blue">
	  We handle <kbd>or</kbd> queries
	</span>
      
      similarly, as shown in
      
	<span style="color:green">
      figure&nbsp;<REF NAME="fig:query-or_scheme"><a class="superscript" id="4.4.4-fig-link-4.11" href="./4.4.2.html#fig_4.11">4.11</a></REF>.
	</span>
	<span style="color:blue">
      figure&nbsp;<REF NAME="fig:query-or"><a class="superscript" id="4.4.4-fig-link-4.12" href="./4.4.2.html#fig_4.12">4.12</a></REF>.
	</span>
      
      The output streams for the various disjuncts of the
      <kbd>or</kbd> are computed separately and merged using
      the
      
	<span style="color:green">
	  <kbd>interleave-delayed</kbd>
	</span>
	<span style="color:blue">
	  <kbd>interleave_delayed</kbd>
	</span>
      
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      from section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>.
      (See exercises&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>
      and&nbsp;<REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.80" href="./4.4.4.html#ex_4.80">4.80</a></REF>.)
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave-delayed
       (qeval (first-disjunct disjuncts) frame-stream)
       (delay (disjoin (rest-disjuncts disjuncts)
                       frame-stream)))))

(put 'or 'qeval disjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzRWIBRNFxN4ACtLlRfRiAAD0IMIixiQL3VSdJMl6gawnChrurcqpSA+BhOu6qbBt4kb+LdOZ1pms45pRNzAmW1aUUMPbNovBI3QjfqNtmxrzGa1rKFxYKuqO+hLuG66BNFCasnu-bzielxFuWj61uBq7Rt2mHHvm8wTpAqHzp+4jRru6anVBpGXBqMQqFqBh2jIXwMYC7aXHhnHZsO5NqUoQJyAUBgNBIEQGAqNhyF8Ls2R5vmScMUlftGgGMjAvE-SKUohf54QGFFp4Q2aBChn6QZDBltCJyeQEAD4mZZtmOeILmFa7Zn+jZzDdcMnTtytpXRf5PGvpTLRSA4cgc2IbmCOF7XBaDxXlbFzHqbGtIpaMGWQ3lsOReJVWVnVpddp16w9b7A2AWN6pvd9-3A95xX9BdiOnlzp3Ynz42PlNsjs-dnA8DBwxQDkRQIBgeAkFQNA8WHi5PZaFDif0XJWvoC3KG4C2c02iXUhBb3OmnxRCDnuhKFlmT15cxsUOILfZ5qPeD6UgHWbPmed8v-fpNKfLCGV3wFBYfAT6ooxP+-o2fAMg0h33Po-eeOcWh0GXtJZoooKjKF5pVb6D9d7P39KUYga5A5IPICgug4D0GLxgdfVYMdzTUDEHQBQ88iFPzIbELBODKHUNoXveh88SGwP9PA1Ibw2Kok3mghhL8J4-AEdQIRWQRFcOgTwg0fCGC8y-sIcgDB7onUMM4ThV8xGJQDmDGcrMWBqIYIuCgtDvYXVkVfWudcYgqNMeo7+wgKa2P3twxhYYY7GDJo4e+290HeN0uIxsfiCwBKMG0SJygA4fGJuwygNigkMK8XAmO7APBeF0Rgg0zCfhZOUDkjx6TeEx0CsrZgWgkm5JCQUxslSEk1LoaU+RISlEcxBNyHqHj6mCEIIQNgFNsH5inmDDRA0tE6L6V4+xfZZwgWAQwU+F18FiEmYQaZRo6leI6S0UgplckWWsrZByLhDC+D3uQPqHkvKjPXMTQqEUwYDKGRTZE3B1lDT-K+UUWzqAKCkdQUuRjkS-gVKNLpuIAVApoKC-G+hPmCFIGIfasR8KEXdMKN8-CgnlAYGChwEKGjnhOhkMqDyOhaCRfjBgriPnEvmQ42I-UtBcyXnBegtTHYsomRYu+1jaV0Bzryhx3zmUsqKBMzl8gaF0PBc+Qoq8GCVNPqMGkbA8mhlKGqqiK16DsrBOSrVITYjNE7BqZYmKTwKhMsEYVJybJ2Uct3fG7JfAkDuW84ZhUMUHQZixRZDBlmrL2l436f03Q3GxOso2YTqVn3WXMlodMA2vIeQakQwL6DCNSXIpesNo6imZvwVQIzJ40skdI8xgQ2I9MCRfSBezFINMTVvbNNbKQxNafmux7TFLGUrYEztzgfidG9nQVy-tdntPphmnBESLZxKMJQBQySI3ET+akFqbVlY9qiR8ddExI2xFGpavyNr-jbuUesECzSWp0KPckkloZRpUvGXBZaD7anPrCJwQtl7jxERDOeCG9610gVPoyQyH6aXgaqYkp9kH-2AZDDevV64z4IefSsqir7-SjRw5BvDWG-LxmA6el00dM1LqiWKi837qmPr3hdP9Oc0OxnJOcF57rg3LIcKwr8U7aE-KpjdFwMb9AMHjVCQTbgqHqjhNwETxAQZj0ZoYbkjB8D8Fwcg7K7w6m-RvXRldfSrqGneKWFDjIzPxOY0klJTar7kbPcWndr1cT2dXces1JRQCAzFWsQZFttbaZDXpxBBnUQXWI0hjh7HRVSpiFpoQkXUYmBi84C6DG+wGP3f4ldKNEMtNY75l9kxDx4Uo8RZVHn9P4MM3Uwyr9QSVyy012Klyv4-zqf55ogNL3pvdZmopJS+0L3ab9c8DLGTjfpfgNxdS-Lnj3F3IEaWdNRc6wQi6DLqsqGKmUKdCnqG1A28CUEIaQHye0edwY63DvvuHfoBli8+rsqVrK7ldD1uSpSxOO7imLvcDy4DwohbcYaZYpmppjne0uam4W8W0cCuYYLPoMVcGz6VM0Wp7RqDJtQKh-O0bLCzvyo4W0lHxFzzQaBDj-QQmkmkYLJs7ZhDZlzvJEJj+vXf5YeZ5T1nPXAGztPl4vyo1T5k-Hpm6LXWZmTc3bzyn-PAFs7PorghGu+uzJDEznXhmtcc4J8rpHJPSHMrQxFDu+Mu49yUFAOAiBkDoBHsSGHTU15SOPsZqOEmY7pC-mQYzoAAA+EfFKiibtUMQ4eo8x9SN-H+-QufE8j9Hl840459MKEnnPYoPxqilH0xG48j4UEF5j-PERCjiYEh4uXjMS3kDEBIJWiyKs7D6PcMQRag--KXM+8IAAyMfvQtYVfCMJIElA+-MDEC3lit9aEB8b26NvHeSbd7aeCVTzzA1uTFz-G7oD19183zTafEYLMr7cgVlnyHSDx4+1s839BB8CW7+CZ-e9wRuA486AxB39OdodXlRR-8wQr96sh9Ugl9O9lF2t99oCj9XloC9cZFM9A8BJdoIx8C6x+s24MCRd55Td8cFMidLdUcg9CDbQ79ic25j9npUhjcepR9aD-oED28kDu9n0LISwhBMs8ECF4Qs9k9+8+D2sBDRI8xX8HRGsxDwgk8PZGZ2CqpT8wJIMV5o56Csh9CZ8qsK91DdsTdT4zcqDCFOC-w4Zb8iDMIdDmDIC14TEzFKDCdrCdDhoVVEDd8ZDIMLInF3CplP86B0C+M3D1EBUrEyA2NvDbC0cNB-4Bdz9VNuBDDR8SDIjVEXElsKYbDlg7CRgIxHD11jCRtx5RR4cEswRCj3N4CpD-C5xZDwQaiystIID3U8dQirCZ8fC9D7CHwnCH9WCs1BEx1tDyiuCt8eCd8u8Aj11BD6AJjc1GwPDnBxDC9-Rt9pCWjAjRJq1JjSsWNOiTCWIji1ja1ahqAG1+jEig9g1AgZAe9QAZZzi3JLip1Gxu1-E6iEiijo4njKhXjSQPjzAvjx0tUyAp14Uz56itpHjrtnjXidBocWDkhUgfMESo1MSmiFj9iljRJ7MIjx4CtsSUNdCkS5xwQSSgDKTwSLkD04kTinN7jYhAS6Chipj94ujx54sOiKsxMGi8Dp92NGTGMINaj4i-MBig8yiX0JSXo90KTZSHjuDY5JpxSDoXDb0mNaihSqSNTAZ9AFSJhRi8Txt7jr8Y4-CCT-iiTwRxtSTGYFsGVrS4DRSSiiCsiLSKFBlulmscTfDeDmiHSps-8AzbjDMXSWIZVejPCPTESvTBgFTsjx51lLDPCZT945SUzTSHCfSnD0T7dPZHd5Bnd+43ch4R4dBvcxjS0F8KY+pv9ZjFs08hB9AWzQBW1QBbk592RSACwezQxjJDkHU+oLJU9fYXB7oTAtBhAAgTBiAQVahGgj8MTBJbhDFEUYjJA4juB3tptcC3Rf80ECUwZACGM9zrFDz8ipcdT3VRRzyuYwVWy8S7TkC5wZBljZ4Lz8ZYyFo6Uby4ikV3yrtloUSfy3i+TGYJl3SZBwLgSXjoKwTHz+S6UfsqcwREKZi0RkSQToK0S-T0dqYtcO0jUkL2s2iyLT5ACjs95IElTUgMcz5T5wLdiwz9BJdRJWLALkZaL9U3gjVuL8M8Kp9vTbR2L0SM1HAvhtEQCNEYEuVsLepSFxK7pSEJSEM5AwFacbT4YtL0LGZl15KA4WAPlLEuBjyG9PS3QNZdLaEHzzhzwF8A5d03olKcwVKklGQht6zJNtzCUrKUjAFDBKIsNhSRT7KR8AEf5wrcwqJ1NXlHL4k4rdQkUrLnhbLoqb8RhUrYK4yrKtc4ssrIgcrkzboiCCq-S2UwsvKfKn10qEq1wEqWB1h3L1KTy0QLYxAF9Qr4rZ8RIOAQD+rWqzVSgNYCtUqBrdQIr-1QB2rjAvKzVmgRq+rVBZqhoAAeYEXqsazoJYCcLBcc6ccEAAFTki3LoF8BRTEF4Cc2pCxCGWoDXNElAAAGoRyHFgCxAhQCjmrwgvr6LwRPrvq65fr-rRLdRJhHYxyjkLqrqZBiB7I7qHr54u4aQoy3rQavrwdYhIaZAAaBchpgaLIwb8bUtmZ48obxqZK+M5IJIsDyKtDVckRRsYFlE5JsR9KVhXktstr5rLM+JGiTStCjqnYsFOb0RsRKbWU5L8AFKNksLakod8bmgtCVIgQs5Aa5bZhp9xq5aNbtMCyHxAbrQpLDqlUigGJBQcUl4tb2Q+8PLcQVbIEqMih7VpxWbRJrJv5yhAs74-UjwCJbU+wwMrLGQdKQrOM31o4BbUqsDSq75ksUtE6w0CrDt4xuMbSl4uaiA1Ll4-S+ctCWb0qIq2bEwOacx86eauqQx+aTbxahaPa7K8Sxbdb0Ipaa6ZascHFTLFb48Gq5VVbSF-NyFNaBydaSbx65Z+wQJdpWqIrZ6J6TbMJzb7wsg6a3Mat0N7aYFHa3KNEvNh7fsr5W7WVTrZqnV-aRBA7aFvU0Cs6MVatDII674o6v0QIZrY7CN46TbE7xbMqU6Adtx06krgHaFrbs6YHcr5Fa7C6SzZAHdu4Ky+5XdB4PcMAAqY5YVgUEVPZhUjS2zPzu9kVwQ8G4T+KXBKHVyGBAUhlTjmtwU8ydpuSiH0TzxaGCHkxLtu9nRf85h6LYg5gJxU6ihf8ORhGYgOQxH5lf8EJpHJw4I5GBHqLFklHFlVHphf9JZMh6K9G2B-RxHChf9gohk+Z6LzHy5jH5HqKvbpGva+wTHYhf8bgF92YWBDBAD3HVBPGu4VgXHHFqKPqlH65JzQBfBZ9jZbkvrbrQAgmIKwRwR3IwmYguzuAon41bkvJ4nEnf9lNpgMnInom+zQBIRImYh8nqLgA0mDAImsmC4ymwA8m7GaSABSOp4pxpmJ0AdpyphJtp5JufMJ7p0p-skSKJoZiEAAQmElGYafGdADmaBCmbUZpO2q6cWeydAF2piDWZ0eou2oBDSbGZ2eOf2eqZpMNi2cyaWeNkuemfBENhOe4CKDOaaduRecefWeSZmbqbKcKCaZiBmdiBbOdCdC4dfzhToYmXFsBBDCkzmG4G4Z3LLMheO1RcJTpXwBYA6nnI20ReSORHjQUehfweIHosMMVUSaKCxc7idCKmsx4HJbhKzQSVY0ZG71-0tXostVpYh1-0gDoDVCkV8GEeFdFbegFcBzcaoD8dgEgGkd8YYEVZlZSzlY8YAFElGVWtX1WpVf8AA5cgI1upk1o1lenSDF5lrFoQveJOhFlYKTYUJp3aRClF1luh+1xUplqkO14qYQkqp16YF1+NalzcFlwFCl9l5gVjRljAgMmFL1nhnqZFdZRZcC6FehxgcUH2XwIejqP2dYZQV-TQPu6CLFhhjgJJZhplBjDN0EBEIoSozTfid+N2jhcCuqjlZSkeuhMVc2EQfQelulZu8GuuAN6zIN8Wg12IIdwYUdz2ENPFglsHKVKdjlqDJKudmR52k+zt-eemDgAQI+sQL4dq9Yvts+sqYCLEU+1Sxl0s3h1B3uF3Aed3DAbBzc4SigUwUmAsD4KqG4UgHJeQ6gJ8cSyWUPacQw8Dp8WGgMCS1Mwsy2hQv4KrMG8EBgXGk2GmomzWSSre-BCDjDxD6YZoODkjhDiUmeG4fdAVBc1dV-EAqKyqlwcgZQZQB6jIKeIwL5Lj0pruL65nLjx28EUG0oCT0AZoEGsGzj5QXdlYCT+kljtFQqtyBwCxYwZjt-O6hKzMrT-BYwZ4f8G036rDiEMGuj9RYwRjqUKTQzugbT6y75OUYG6wcECUozpaAOb2BQZnVFDi3PSadZRhKTwGbSCjmObvML0ACfaSXFTUrICMMLlQiPZD02rINL5Z1SYoeEROAwXaOLgc8EfL3s39zjkCMmIDnKEDnJMLwddsdmKMnpHROLhLicNfbDTChM9roL8j-JUSKzr6nz5a-zwjwYb5QLgfdzidg0UG3D0u5ZVTYVZMLM-r2bimicRbsGsbvzsgALww6btL9zx2eEKLxRE7FzvKUEei5Na74zg70gHiRhJRDWRrpD-biERR7gbvYroLi27Lgb7gfbpgQ7t73xamkAmb8L0SAAclw7jWBsR7Vjw5AKhrC+8+c6e4A-Jn0DJlICye6uDzjloRg8m4J4LCJ6U9DF-yEGEBBuCBBrsi0gsnNDTBBqHI4HhEG7nu+92kJ6mc3qp-JigTB-88h4F+nyF6gQjFl9B5x987x5p79KLbzC0zLe3aw1rQ8AJ3WmC5a5era++nujh-p9a5jO4HjI-z6LN9AcKCk3V5La19Ny2T17cC+VRQujN75-IW64N8K9-3y6APSrSL0oGj9-NVTUID9KF4-muT6l17iTcAN5MxxSgMt56l99PTAzHfSpgyAjD5W7ARt85wN+fqhY9+MCVm+UZCk3j8uUT+T4Jy97RQr7cyI3z4F3E8UcK41l2nd5T5r-Zm96gUMKH4JxJjc6j58ThYL9K40f7-kGH+n+97R-n579K+d81+oE0C10u7nocu78AQd9iCd+Ld3-34sMn89-04r8h+P+XZ9tv5H7c6A1DuvQz-Ggj8IAIzgeD70VluICVbr7w-5Yo6suJGPsNl4zjw3oJANPiT2HxwRA+SHWmH-zR5e11oTqM5K6g2LmB4BlLDThCUNQY1EBNpZAdODN6FdsYGA9OAciOT3QcBLqWcn1xIGMVWMG5UghpFiiUB8A9KAOAMAqCDAzeGlT1GfFEGlcOedUCUkIPZhuA0wVUd0qIJJ67RhKZAsAa2xYgFYWA1QNiDD3g4QREqWGcChrEMEcAIqG4CUroOzSKVzBZ8GwfoIHziVdojg+PMQJcBuC7Bf8Lwc4JJ4RhfBHgxanoKHrVBgqYCewdbzKok8qwngSIagxToSke2gweITxQKriUpqQVXwaJXQ4WDjBqEBIVAz9Kih5C5AturaVDL2lsBokfLvTSqLTs94EHGlEwMKHWUHAt9JWPIQYDqARAHAUgFdFeS5BCAIySPh7RvSlCc+kA0lMdl8HzYQhilMIT-QGhRDEhhkFVJajezzCB8+NQMHQA6F4ZSA3Qhnn0OqEFV1aR2YYZsNsEbJ1UgQ5+jVk-7YpmuGsSYWsOjgawhhFMdAZG0+FZcH+O9RiK-T7DvoBoAIhiAxFGi-CzefpJuLbEJS8w10xLBwEAXAoyAER7KKpKbGY5wiXWyI6kOmTgroiLYmI22NiNZiG8xaNsckYVyCz0Ci4ZAEuAHBdgVt-QWcKkTxAd4Nxu4RIxgLCNZhki7YRZU2BUVgEmVPs9VIUOy1BB0J4haiKbOkLpwzCthcw64Tm3CHr54hNVCgR2BLxegrhTgiaqmi+w5DSOeQuUSsKgZNcOIk6BgO4y4i+DyKgQ7gOaNaF1DGY1omEraKoBcQOIzoqgBaMLAk9Uq4nGQHWFqCg1Cu4IUMXsHDGYD2gm8X0axCoDhBCuwYmIGjxKH4IR2yY+bkwiNESiQElIaURwkTEuizhdI1IBrA4jj5J8lAyuMmP75UAbRdozahGGrFn9QwEYOUbTxghNjPRLYynu2Llo6Rdo3YjsYDkzpo8oxYYxnjCPjwnscofIgLt2RJ4awImXIwGG6IuJ9Bik7MRgNIJ6gHjnA3AePomPj4KjyQ54FsaqjUwUpGQHopIF6M4ibVTx-opkIoPoDrsIcE4c8VlWlxJFnxN4zVBlFUjRiOAjPGkVLDR5K0FxvI9kdxG9F+MTUR7LQZp2Wp6D+o2Y3MkgKxLQ8E8g-ZMVuLcjpQSR-I7oGyG6CRxLxx2S7OlBxAUS-AaFcoe+AqCl5tY4QUoIDBk7UhihH4JPkSGARYSro54boIyAIkoTmJqQUod0A4k1DQazQboMe0kCgBzqAACS1YMAAAguAHABasAASudUgAAB5I1sgCBD+VNyyNQCUeJ2QPi6AAY8CrwHQl8SsJk6OHiRIwl9Rp+CgzSDllckwlIeJEzoI2BsnvAJSQUzIPIJ4F+TwKakjSdpN0kGTjJpk8KQOE8neToptkvsUkHAokSlxb4PiQwAEkvE7JUCP-D5NRDuQlxXA91GqFr4VS-JdkhyeJSXHwiqAUmXlHKIepGw8sagEwF4D3FRSPxhCLqeZEnCUBJ0DkjsVZLUBDTfJWUiaTCQcnokT2cQDIAHFyAOBvYjIAAAwnBNyNQeyKqnWlG9AysUagIMFhgnTNpjFUgIyG54bTdMt0sGniH-FB4HpBqLaWQAlIFZDpBw00WxWo5GCPpXSaMudN9AZClwZXeihrBBlZ8qoF0oHiaIQ5ESBKqmf6Q6FSDVBsg604ScdjhnG8TcF0vyijWOkcBTpYMhGZdL8ivIbYAceyJ0ByQqCQwKqCYaMNaxbk7gf0+wdUIJlnSqZA2XBkuGoF9hJqS4OmQwAZlsAck3wnsTI0CD0zGZfw33oLPujDZyhEsqWTkgemoygoxATmKEBDSEIWhmo6IeSFpkKzJZSswMXvWa4TD-+rYe2vGOI65DrKjoC+tRnlJDliAAIijI8KmEGhZsKopwWqJ-oOTfZItDUhsJYBWtpgpQUMYRGHHcTNZSsh0bcOgZagsA-4K9B7KgF1jCwDGUoCnOlmU93ZUeQcsQEVkly7os-K7gnOMBgic6Gsy2VrIN61VxRXMSUTvAUx-BkZRgtcM1MVHMtZhQIB0YsJCqmzVhdtAwLMJWYnZWJXoYWuxxOz-Unx9orYY6K2FQIk5RQAea6KOATsc54wrMWuF-BSo8AkIS+aBiVHXDg5oQxgDNT3laiVgo0WeSJEtQcyHAq8gcZEJ3kxA05PgreZBH-BQRyxo5fMcO1SGdBw53GSjK+AqAGzUg30PeZPKgbZUL5V8l+dHGnExjZxsC-2SzJowdyUhQMvIU-L-E51RRLEL+UTTXmbVCAC4O8BePKHBjSuYE2MUhxwXgTD+5CGJAmMYVw9UqGYqSVmIYUpikOyQ+hiAm7naJe5DClFkwqyrCKDhI7MWIV0kVdzFasix4IQDvDyLXRMQDBZCGUVViZY8XWsZWKXC6K4eNC3EAOLbEOwpUbY0kOOOmC2K6Fg4xxd+OmCD8XFf8g0JOPoFcLwxxQliutNXS1FDepDAIrUQsgPTqGDFJBE5J0Q6yXB7DHWUEI+nulUlOE5Ln8IjAZLze1FToAzN8AIFvZBXegYYQKW4znC7qbNuogek4y8hr4xaUkBPHU9cQzC2IOeCQTp4yZ8UC8OjPsFYzCEOs1bMdncXITC+fYdxQONaWTS-5bwJJYmT6XpYdZrig0L+KnlwMplt4rVCGJnE8K8xtI6LjjhV4Uwsl+RaeDOQGW08YJkgRcfBL2XATmCq0uKQwD0mWQAAMlqzMmBYpY+0lKpIFmkPSLoTUgxSTyckBxPJ-knKYVw8l8SSYYKuFSKjR4RTGk60i6EEIxUDLsV4lD5V8t+XgBUpIEdKUrBRWlSWp7Io3mFhZGhg8p8EzyUVKzCCTSpmy5Tg9Kqnsj4QHYxlViOhlxL1p3K02Lz2LpJs8VqKweeZxpVoj2pyRXlA9PjR5YGlAy5pdZQhUFVppIKpCViqlWujdZ1IatgHCF6i8ie5ibKfZNaGkSeI1K5uHKsRGy0+akdJpoZFakLsy4wcelX2DqlzTYsZqmFJaqmkMYuR2bFFQsqWkGrmUgDdkYavOWmqheAYm1XjOZatASWQIOiYQIDVlT41nS4OsvJYmfgpQaa4lL2W0StRyZCazpUmqXGrVQAJajPBwOSTZqa1sa0JTmwqB9QHQQkqDrhLU6DjCJWeGOKUPEl1Lx4HwYIIIIak5QwhsK0KVdBvSeTu186peQxSpCiSgQzK4qcLkykioARvSxIIEAdahSbVIbJ2PytJHdB2e06ugCKttj5q6W-AHENet3V3rWYV5PsB9xvXcAuR3HQ5OQRPW1rDsOc4iDxk3ITrAgAytUbCpyXUTbWlqxkMsvXCJlxl5IRdXxO7WlTV1IkvwIyC3WsqSplq+4WuoEB-qj1IED6UuLPU6QL1ZE7YLxWFXVTiNpUZ9Qxo4BvqFAH60MLDPWk-rSmZG8gpRtjXAagR-qKhW5DkEfTggfq9rjesN5NL51uYmIKUEk3hL51aPOQaFJ3XDSghmmm9dpvmkipfoEGqdbuug0uT51Ey5lj-Hqm7rLsHyhKfpMMkmSSV5IBzTpKc3JT-lX63dXxvjQ2aZNRoZ7NgoxBedjKLEVTY8Fg2FATNUG2dS5NQ1WYqQAWsFYyEJU-K-lfkdLcSvvFLgHpfmppilqxXBag84IULX6U6j4BsZZ0UwAlRjXCje1x9PdDVt6T0BPotWwRcVSXFo9Kt2MkrC1pSR0B2tL6Dlbmvx4IYWtHaYbf+izkQ56ttsZgixr-wiAQaY2onvRV617qcGhMKeBKmtW1q7VcIh1R1LAYurDYs21sCFyBjDoLl+gHbQuVu1ucOVJEecY8rglYjM6tgXCDJAeV8D3tpIs4SAu4mAxIIDQebeSNmhLbWeq2m7UL3or3bqIODfqCYH4ASDRhJPJnC0LPYXsfgh7Q1Tv1LZ79temOPbeDttWnhRorU47QqtDCsLztoYZHdxxpTqQ42NAKeHLQB7qcAxz29JjmGt7RMk5WAvnUpqlRWRnU5ycaYlTumeR3qH1LOUDsKDggCdrvOilVjLWva-tNqyBnyCa4g7FIZO6HEtuV1E6D+FkNbeK24DG7r++GfaVeJuTcx2INjIEAAE4TgryaxnzC11sc3U48D3d5hpV+5vaU2IzQHJvSUiHZL9R4a+BcADkdpq6woH7v0Dw94eFkNAGnofV+yIBhkRPWyIzkNA-dNq+ht7AFEtxPEgWDyDBUbmwMYgBe1qYHv45bkk+fuw1SUr5jlLMcimSda2oa1Biut7IyHU+r-xsBSl7eylmbth15qvkw+tvUwG9kJt3Ur-W7dUFKirgyA38bRNKxmzHZWgjIRvlcmYBJ9X+2Y3zgVNKhYcjgYqtDTin9ikB19YrXLkCFpIxiACq6xPSkxl2v961nS90M534AxBPIqTZtiGET1g8E1xwQEf7IYivgT1fAgQezGEDCCCeEemIJFoDjSatNemsze6VaB56nh3FNfYPTegP7iSz+zornLf0AGZdoUwQAgdqB3JKDvkCAxAPBGib89juvmBCEoMy6hejGClF3C4OeQM9sQWvfBLdU0qTt0EOnZTVAOdLvVdcFncISaFnxWg3OgwMLtwpNNl4tPc3QTyAIa6nlWIzcRUWzribzACGIQIYHshh5l9-AFNVSB31Ag99zfI-TdxsMCBgaF+62u-VEyMgdDKho1SAVgla6jDb040nHFSoS0ZIB+fAFuWfHx4kxzAKSP+AtRK9lqpqhQ40Knj+H3WVlBatxX53xotDfpD6FVpGkpBpt3ehbY1pdoO7DAw2nRGjA62QTMgGY26YyM9UVxeUOhhDI0bBC9GFqBu0He81KYlG+tamVGOUe6gXR+joqb7ehAN2G7B9zPcfWMi0AXKrG5R0o4y0X2mr4eB4-QN4oAA6WABTaFi5iwGZAwQALiDsiZ3M5Q0EFPXIQIPGBCoOx2Q3sYqkHHvxxx04wbKYD8DLjL3bMSgN4CrgoEPQDWKCdAAAAvSNqAGONFAPVFxq4-kduMwnMOTsR4+CBv3r6iBJwKCA1C-p7jLDYePY2caVjImgTDTP7sUpBosAQaygEGoz0mDw8nQeAN4-jzJN-HKTy4zJjSZpLkA6TDJpk7zyxO+QgAA')">function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave_delayed(
              evaluate_query(first_disjunct(disjuncts), frame_stream),
	      () => disjoin(rest_disjuncts(disjuncts),
	                    frame_stream));
}
put("or", "evaluate_query", disjoin);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p13' class='permalink'></a><p>
      The predicates and selectors for the syntax of conjuncts and disjuncts
      are given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    
      <div class='permalink'>
        <a name='h5' class='permalink'></a><h2>
    
      Filters
    </h2></div>

    <div class='permalink'>
<a name='p14' class='permalink'></a><p>
      
      
	<span style="color:green">
	  <kbd>Not</kbd> is
	</span>
	<span style="color:blue">
	  Queries formed with <kbd>not</kbd> are
	</span>
      
      handled by the method outlined in
      section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  We attempt to extend
      each frame in the input stream to satisfy the query being negated, and we
      include a given frame in the output stream only if it cannot be extended.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (negate operands frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (stream-null? (qeval (negated-query operands)
                              (singleton-stream frame)))
         (singleton-stream frame)
         the-empty-stream))
   frame-stream))

(put 'not 'qeval negate)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtyPkCcgFAYDQSBEBgKjYchfC7Nker62oGEMUkixiQL3VSdJMiMPE-SKUohv64RRuJJ4Q2aBChn6QZDAWtCJyeQEAD5qUoFq2o64gupWrtLv6NrMMOwydO3e61rG-lzka8xqi0UgOHIHNiG6gjhv2waIdW9beMm-i3VFWawIWkNlphkaxs2lZtqXOZ5usI6+xOgFzoBshgdB8HetW-RPvWp5ife2JSfO5qnrIg7JidCK-pcDnWoYGResoG5sWRbgwgmi8EjdEWqC0RhBYUIxHqF8X9El6kfoay4WIVygldG9XVZV+HZYE5GMjA03FpKUAUa2906EBqmwc+-RDIJ83memNnQEN42VbVq6ubt3W9ZRJrqjEDhKBykOAA8Lamnak+4AOUd5nA8H5wxA-kJQoDgRBkHQPE0DxC5o-MYgUKoYh9FyBRCHoW7KG4W6c3hqbRRBQHOmbxQ25qV37aW4FqEHxsUKblvR47ifVmmtJWvnkf2-H6TSnywhRt8BQWHwWeqKMQ-j8bfAZDXhQN9brfKCJlo6B76TmlFCplF6yr6GHh+x5Px3i0Nc4Nv7kF-nQf+i9XZd1fsvWIH9UjmmoGIOgd9XbQMfggmIpR64-BQWgjBYIF6PzgW-f0SCGBvDYqiIepDAE4N0iAn4NDp7OHoZvQB5CmFUN6kfYQ5AGDECToQQIbhnBYMYcAxKYN+YzlaiwQRDBFwUDvoDQwUil5+xZsCRRyjj7CF8Fo8ePD36r2MO0W6yh74wKAf6PBoDLEFkcE3Zx1iwYfEbsQzRDDtEvwoQaKh7APBeBMfYg0jifghOUGEvxsCAm8NXoFE23iO7hKYVExsKSvFaGIeEsxlDV4dRBNyVEGTgElOMfg9cjctb6yqiIsRxAJF-3iU-HhOjQyzhAtfBgc9NEQLEMI0R4jDDOF8Vw-x3dJjmJMsEApolrK2QcgLXwrtyBJw8l5GpHQtCFT5g08wVT6l0G4EM6Wf5XyijEdQBQ7DqbyORL+BUU0qkqNIHch5cijlQO1hcw8jFjz-GuakUh5Rha-NOS8ho55xEZDKrsup-MGCGOMc8rpuiYgiKVmtbucF6D5LelilFqj14aOhZirFhQLlUupTEFF+L5DoPSc858hQ+6pBSXPUYNI2ARNDKUblVFqH0CVmCeF-KmGILKB+NUtQaL4UIjLbFpBTKnIsssuyjlA6-PZL4Eg2zBCEEIGwXwhVYjnEObXNEoIGB9IGfoJphgeEqqmprIZZ0WG1K0PoIZnSWiiLCOFGuyZvWipEOw+gnCAEd1dcRTlTBSD8FUNUhuvq2F0MbM0tiZTbHYJ4dKrJeyN6RqzRG9xmD2nPxmYpYy6bS20I4Y2TogM6CuVBhknhIao5hpqaNNoLibFqwUJQF1iSZaguEa3SguJK3Do+KOiYKrYhTU7BqckSq9RTt6h8VJeT0mLrHTC0MU0kW+qqKQPduTiD5KPWETgMy-JbqIiGc8l7r1ixAnPRkhlz1Nw-SBG9d6v0PqfSGKdwr1wAbgp+0d-SqInv9FNQDJt4Nzz8vGYFK6XSIxcP2+dTdiUI0-Wk12mj71E3A7GTdZxQ0sR6fam+DhCFfnbXfS5AU8OCQ0PoBgXqoQsYkWg2ocJuDsZaTnXtLFDDckYPgfgYCf7ZXeBkydwo3ypEIxki2hp3illA4yQj+7b0d0mbG8emHV3cdFLezQc7B0eJHce4jpQnbQTWCa26+05P2sU1-ZTqJNGoeA4e0Dm5iMGlk0IPzIEAsQJU5oyLfZZEDqsa43lQHmAHvI85iY7KgUERPCGRN8XIEVL7LvUE9MTCBaqoYC+J8dOGWaCjZ9dHpNuX7TEuJUyEkzJlueNFjIeuovwEYjJflzx7gLkCaL8n-O1YS0F-QaLAUqGKrK1jtRZtTz3X0oT4yRODBm+ts9DbVvjZ6Di7zwjX4EpZZgmbdL6WhkO6g9U47kuvcKDMqT-Nw05Oy6ZqtfXO4ToTdx1LUGCxe2gv+0YctGBNLGZI6thae0A-7ax-J7T43knPD+oECOccdwQ9BkZzTWlQPR4kvyrGD5HxPuT2HpPXaM8vl23MVFu1caR9z6DmO9X9rKypxZA3iIM4a0z0+0GavgMgRzpr6OQwI9F7FOelPUdtLBzW+BXTwMRTzr8guchFAQBgPAJAqAq5oGJPRty-dp4uSyNWmWib0hHzIGp0AAAfX3ilRTNVjj7-3gfUjHxPv0Gnuu-cB5fDNG2PuYhh4T2KOVXpJt0YBwPF3LP82MMiIUPnAl2lC5tavZgYgJBrR6c5nYfR7hiFTjZ1IO0j3hAAGSd96HtZz4RhJAkoI3qv5ew3I3XmpyH-PRRV5rwwOvePRISYOZ18w0vL5MdvgXpe7vuMEwjNW-7erUts7BMHugYgu6jJaeM+gLf+d1-BGf8EUtLqx2v1Tu-dAc4A9FGfqfEvJGVIOfEaRfMHCyF-X-PVM-JXV3WPafASA-OsXaEYQ-XXHmENAHWAzXFHW-NHBAoAlwZA20dAizJ+SOP-VIdXSRDvPfGfEA8gavMA6rI9CyEsIQOLJbSBeEOPcPJvefOvNg0SPMT5B0JTZbZwXgsPX6PVGgxORrW2UdXuffPvCMEgpQig3WAHeQxgXAm-anfvCaKaDQ-QTCL9TAjrKghffRIRPAwwugv8RNUA2vVgr9CyfhJROwgw7-VfHPWwlRBLdRMgCjCw4wqHXjDfZnPpCTbgUwjvbQvVTwgxK7Iwpw1QtAlA8w5QygvVUUIHMjc-MI9IhggQlgucYQ8EAonLLSaAivFJew7-NI5YEwtQlAhIsfFiUUTNZtZojlVvMo1wio9w0SHo6NRsRoqQ8IVPf0WfJgwQtw0ddg+gJtcYkzYhPwvVMY9tbNQIXNOpRwlo7jRjQIGQevUABaLArYlYqNHYitRzTBQ46zR-O1U4840kK4ivbYghflMgdtGgTtJ4hGF4vdN44QnQY-CvIPB4hdYoo40olwhfRY8HcEQjTYivVLbTSjcIkEsEVEmE4gV-C6JdOosNYzULXLRw2IeEpAtoh8Cw0kg2WDLLQovLFQ-nH2cLT4sNcRFkmo0IkknEgSbI49bkro1IOzWdNLIdNxcLIU4AtIJPSjMUx3VIXdPkkHIowUkoq2RPOaEUiYTo1U1FLkMJIE4E3UwYpE4YpY0SHrdEsNUbNFPo542kzI+knIo0-6ZBE1UpMXc05w+Y8orUlEkpagMpKYlU8wRlHw2guE10t0eIhkqMlwIZLXfAo0F0y2RMukrIEUywo3WQE3Quc3EuK3cuW3HQB3b0pNFNYxFOegy0yPYGKBBsxSUoLZQfdkZNf4OtFoNVBZDOO0uSFswNEgUwWoAIEwYgagUGYQRoVfNfFwVLeRMlYIq9bgNFfHfo3EiEcFLqfmV-SLNcyQEIzcq7XnWQqEsFTeCFJ5B-S0xEuvGQZYh+O835B0g2X5QItRU8q9LWB8t0E4yoLWbgS47PPVFFZ0mQQC21UEkCl80AD4iCivRle7ZlfJGCxsoC14hC7gCEr05c24MGGHUtcVWCvbPE0iokt4cilM5JPDfPfQOeCiuY5goYsEOeCyaixktyUiiNcVZixDbC4g3MoS6DXIivaxL4cZS-O7HMB7fJCXIg+8LIQ3JcwOZk4WX8p1eBES3vEYdSrHRwGSsGFgdFX8+NYvHcgSHaOQdeS8oqfTdkRvSU3EJlQlDuRkNrasoiu4eyu+c+GXcdAZCi9vRQkKqiYNFCsNAKzxCKrWX854ayhM0SkYOK3i6M38-PYLJKovakmyt0CMDKwiwNXFeSxSw9CKyiXUTc9YMGZSwqtEW6MQYfIKy+aWLsjgS-NqtcJYQVScOCbiYi7SyfKI2qgXB9UAFgeq+S6VZobq1q1Qdqk+aWAAHmBBat6s6H6sq37PVXBAABU5IeM6BfBBBSAxBeAfFqQsRTVqBahmhwRQAABqUAb7WIC-MQIUYxca6WN6ok56t6j6mIL6n68SiYN6YyAc6cI6k6mQYgeyC6q6m6mkX0h6+c0SV696rFMGmQX6iK8IAGiybGkGi6T5S-cGvqySsNPeOApi8a7cxMYXV+BfOSbERq6YAHebFaia6mnDIoD3JUwmj6vBVm9EbEMm7FEy-AWS4ZDyx7MEP7D65ocalSIEH2EWrFWYPvamsm1WuTMw9owm60W0am9beMCDDTbudWlyhqmddy9Czy8eAW37GG3mzVOgY+coR2deC1I8IrV9Psd9X8xkVDOK3SnuKzXDfnHmuKuA3K9eImKWhlbKx1DKi2y1WjJqgJNmogSOyEsNKXRQhmxQmqpmhlFmnMPOjmvS4iJEPVHmv6mqzjPsIWuaP66VSebuGuuHFmaS2W2OCqjC9JZW9CVWxQ22zW4KrumSUiAmPqmq2epSHmzCE21SiGgrLDK2gwG2rs4fe2+zYe52p+V22IeZacRmpZL2hTEQX2u+I1KA6OwrZVeu4sTbOKsOrSiO6jU9bjOO7Kv6xKpOl7PseO9OpKzOvCbO1K3OiWguntY3G1U3IuC3Uua3CuDAXy1eW5e5AEn5G1aFeU5IRg9i60sEbWcEXB75T8tyah-BhgO5U1TUsXZ5YhgywYYqhwSOc8eh2cgh5MXbOvZ0J-OYIk2IOYCcZO6YJ-DkcRmIDkKRnRJ-BCeRwa0gJRkR6rMSUENRnpTRmR7R62TIIk4xtgf0aRhoJ-YKU1PqIkmx2mCx5R7Ri++Ri+vsSxooJ-G4YfdqFgQwV-Hx1QPxguFYTxwoJ-F6tR1mIc3wAfc6LZN6860AcJ2IJ-dyaJmIfQWJ+J0ALZLyZJ1JmIJ-MTf2HJr1LZSEUAQp5xuccEYATJgwcpsmPJ0AMAGprRupgAUkaeye4DiYqdAC6eqZiCKcoohEH2ib6eqdyc7JEjidqbxIAEJhIpnmmEnQAVmgQFnOm8S1ren1nWmNqYgdnDG6m1qARMnpmBmWmtkLmTmxmn9ToDn+nZnQBzoHnFmIRTpLnuAihrm3mfnPndmIQlnGnWnCgWmYglnYgU5nQnReHPk8H+HIUbUE7AQQxNY5huA+HHkTcEXNtcWBHYp8AWAAArEwMdDFlYTWZEL1FRpFmhuIsStlMZooIl1FwRp0JyqkDljg8jRkOvJ-ddIk9dNln7J-SAOgNUaec1P5qVmV2dcV17bxqgYJ2ASAeRoJhgDV5V+lVV3xgAUTUe1cNb1epSfwADlyBLXGnrXLXl73oCXnK+XipOD0WARMXeNhQWmCYYKcXGWGH+XRSeWSpA2UXg2crqXphaWvVTCYLn5XX9NODoqNL3kOWnkHBzlLqekKL3lqh08KggZfAh6yWQZ1hlBPlNA+7twOWmGOBiFWHuHQHYghlc2jgigrDG7+J94Fb8kKKbsuo+30liMboRB9AM3vzm6casUk2vF2dO6W3jVOpBhJ20XSWKXTAvtqU53mB2dQql2D7p0j7h3LMOt447aGA45SWfhT2ypgIsRj7FaUpc4izkGSzi5Lcy4bdMBsHaKKBTAGArEPgqobhSAwlRDqAnx9LrYvdpxTDIOnxZkAwOGjbSCUDEO-geZsbwQGAgbybY5waEOIEoOsPkPphmhiOxCyP6KW4bgB0yUtB9p39L9W7YHyBlBlBrqMg6kjBzlOPcmC43q-VOPbbwRnrShxPQAnqSa3qOPlBzX-RxO38KaxBoqryw0HBVFjBQ4P9kbx00ytOIFjBnh-wVKvqcOIRsa6OhFjBGOpQPVLr09tOuB9O5QAbrBwR6KjOr0wZAZVYhlWK9SshAv0Zl8bZtIKPV469AvQBu9pJNNFT9SUDAvpjfdUOIxUvNnVJih4QwvUDBhYuuzwRcv2yNtXYAOQJgPYowOwlQvQxmhEuwyIy-5Yv4uJwJ9AqYyv9JFUui1RIrO3qfPjAmAyBVYCYLk-VLrsPgaJxnr8Pxqt8JNTlkx0zDCsvZu+x5vsbhu-OxuCu0OQvLrBlpuZu3p4RIuglZUXO8pdHs2r9rvjO9vSAeIEEqEdp6vphAw6AbuqGpwiS68JvpvTajvm9n5dvRuXu3uLEWOxApvm8wvwQAByfDz1AGlH52PG4xQL7zn7p7oDgsUgYxKxInoLpLrIO+ODg7kn05iV7RoQYQQG4IQGuyLSSAtwNMQG5NDgeEcjmSXb6nwnhZjemn8HvH3zyHniZ2AXgmUXkH-QOXx7iX0X0qstvMWTKt79EVMRDwW-J1URMn5rsXJpBBKrOpo31EIk7r7XKBE3pdzWNXitzX-PD5XXtwe7zRE3vnpSTrpuE3sLp-XLqWEumIyfL352JpUqmng+DZJOV3mxNwfXwgC2KdC3yRL3ldd9KdyeoEEMRb0Prr78yYv+L3qzRFt34wNaC5RkTWaPhrWP+P2-D3pPre7MlwFFNW4r1RsLnaAmHXhPyv9qY75+Uw-v2-EaAFb3leDvnP1SHpS7yeMfjnqv4752GfmXMTx3jX6gTQfPBfh2Oy7PmXe33jLfytnfrXinJfgz47lvqfmVQ-tFq+6-if4f59bDKdZbjPt+qaQPok-Pm+F-wN7rYX0K6M9KInazWow0s6EgC3xg5t4lw-vFDgTCQFRcL6SfT2ish1TF8XAMAwkplRcC0UzMcAxAgqR2ioCZIEYCgUpHQFNJMB2qfDLGXMBEDyMi5bAhz00hVQE4qKMGAMAqCDATe+lPAXAOK7mhOe9FPge1A4GxRnSgg0gWlUGAsCx0d-UqqlhYDVA2Il+IStRw4A1UNw+lHaJh10EC4Nw9FdQZGjkpGCm45gzQc3n0oEwbBscAgdNQ0FD0eUjgy-BRQjAeDm8Zg1wXJQLYR0rB3ADKvpSrCeBghhcJOvRUHaDBIhXFKIXfDCpLg1B-guHvEMQwhCkqpVUUKIRIEqU2KCxOcHQNEi5dC6XRZNq7Cg6+oShcVbgA4G9pdRRCDAdQCIA4CkALYAOXIIQGqQG8BaU6PId-0MhDY0hI2NIYw0YA-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-ODxUOP5Stiz5+-WIBeMyAR8G0BPMgMYnEWpFQljAcJZFm7GSBexq4uJXygoKATJAoAbiQwBgmWQAAMoaxQmOwbYoUgHK5OCa+TxJnkvSQKIIkTCKgxEiSWF3Im3iRoXSkiX8Wh6sTskUUzRM4JmW2L5l+lGpXUsaXgAhJIEESUssmVJAKKBksdoMGJRSS+xMkuSbsp-wRKYgVRKKSpNNjwgW2Jy1cQ1K4UcA7lV0XnqVXeQTKAlvS8zqbEMlUBjJ24XyV6mSy6LbFLinFj0oyouTJAbkn5TCsgalVxkrcWaTTz8VZLjFTk3YSuKej7KAVhsYFVzVDotNDIByrzHdExhHL0IaoUSUpMzIViTFuk2FZFgDjfK5lmKontir+JeSuk8dc2GCIyUYqaefIvFa1BGnOVWgdLIELuOEGK9wQ-6TJUT39qAzV4Cw6VdwzK6ormGyq4nkLzFXmw+ymqmPJlNyyK8BVdsHIU4tvEOhHxUir6vOIVFpdV4eQt8doqagJxAg7kqqAWyIl+omJKfK4TasGV2qsJzgbGdTIEAvigQZyrMA+PDX35n654LjmqjJyJrlYpsaNu9CeVPQcQikrSXQHeVPRVV7LfgPmtEgZri1rUI8n2A+5MTM4uTVNT1JAgZrxVr3d-jPNXkaUPgwQEiklL9W3iXFkq3ljpMZBvBglgi4aX5CnRES7VEkv2TEGfF+BGQca3EA+IknJqrFiQFtbYvbXZqdIua1qBWpuVvLVJ5w0qCet8nVqFAta0ME1KimNqvUzasnOlPNggDsMxEK1Ng0kHpTggPqtMQyp-xSLmFGa5+TJF-VRSA1QG6HpIIzXQbC1zguDUxIQ22SLYva71W2sHWDLUNqIdbFFDYD0rC1u2GpbxNgnwSkJGy8kKRqgnkaBJzS+tUBqfUtMT4RG2ydFRzrggMQDCtNsIDWj6LhpMsDDf2tmnYbJxQiqbJtlY1LLGQqyhpU0r8hyb1ljIB9cYIDjSaulZ2bjFxq8A8aNKtmB2hGjJZQpnUZPFGEn3U7oStKbwYzSiAs3CK+8pm+irySM36xPeQaLwerI830UDNR9YKLZuTD2apF5mpzTFSZJXo4sKQALUrQ832DHN3msLXxRaSRbDA0W9zYQDY5qrvpGW5wTUDECNw1oGK0zXFsMoJbGFvCugGS3wDOKbNbmw1XbCkVuVXNhDWrSiF2oyRLVV0Z2DZuq1QIXNrWrdsPEq1ubFORQJVRitQwDaSE9ANLfXJ+ydb8VUmS9c-hECA1xtQvGijNt63csdCUW3rfTCi11bcV5sRrYZv81QpztbW20Z2KMguw3Y-QamJ7GJTraslWsLSpdtMAHbUtI2+rVdDm3-Ncm-m-bS5o+3KDQdD6MWbogW0Sqc4y25nhZBe0qrGRe26oDtuFxJwTA-AP3n0IFEI4ShR7a9jNQmJO1Fai40AGf2d48paUx2hraeCmgGSiVvGRSAfNOiKQREmO31OpD3Y0A6kZNIHmp2fh1CyazFEIfExTroCcw3AKhdcq1SrI7R8Mo1EDTFmNzCg4ICnRfz348xtVscHsZmtXHGiGuLSzIHSmh08QQ0y29XbvznhrbhVG27gJbsv6mCcA54G4HHwcZ9RGQAAThOC7aQotMdtUYE6FyF2I-ugyc7kvrg5gNs8z-kqQoIC1Y5GmFwF2SCmLqig7u4xEjyR4WQ0AOe0tRTNfqGR09B3D4CLLT0h6+o7axhoDFDicxzCz8FwF5HAo0ZLahQdPZXvD18ceMbu8vXEy+VsAlFKi2HB9j7W-b8V+lU3ebvLXP5+9fUQfYSQR226slRJRRbPtrKuKNK1-PVW+B+78BVwZAY+OMiVaWKpVjIOvusmYBx9r+Go3ztvtKg4cjgny8kK+FBikAD9srbLkCFRKSjXYvBWeUXvBCeQvI1-MxULxdh37tkGTBELWNb0979AEPEVccAuFEQGIr4NtdwJYC8C+NUoVoJGtbZ8a91-6+DchqA1jYJsOB84c-v32D1Z0H+0SOMm6q1EiZ-+wA55CrG2TBAWB0QCwc8i+QkDkQQEZ+pDDMHuDIBrJReHKUFxuDPB84W3pDjkqAVxK7cCzpBrwGheNbLFFzs4LVCm4rQPkZnEl2BxcmPcUbdikX1E8FeUsHXcUr115rs4lhS2uVvb5aUhAhgeyN7mqClQR1AgVoKfqMX18L9jfRPjdw8P8B79j+qNbsN2yI7ielhy-LroD12GYllpczXFXa2TxwQdkHjH6NjjyjmAUkf8M0FUOvbNDVQupLodQ6pHn4Iuww16mMOlU8tdSanaboJVhxGdktJQ6StZ24QGgZjJ1GYeMQNGmOW+gFFcumBFKE4Nh49RnVsDdHJ44xkpXmuNGNzWsNsSCA0GaOT68SrPG3fmEbh6qiSgx9fZvoxVI8sJ+gMhQAB0sAoGylWtG4EyBggqsFGP01eZyhoIWekQlQeMCFRjjah049IPON1irjNxldkwHwDCxHjGooarwFXDPwegO0GE6AAABem4GIFcaKCHKwTEJl7tUZ6Aom3jOkD4+CBf0H78BJwKCA1GcPvA3D04U47caxMPGcTsTbgAosBosBAaygQGoz0mBI8nQeAX469rpOgn7jkJ5k+M2fxsmOTXJ3nkSd8hAA')">function negate(args, frame_stream) {
    return stream_flatmap(
              frame =>
	         is_null(evaluate_query(negated_query(args),
                               singleton_stream(frame)))
	         ? singleton_stream(frame)
		 : null,
	      frame_stream);
}
put("not", "evaluate_query", negate);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p15' class='permalink'></a><p>
      
      
	<span style="color:green"><kbd>Lisp-value</kbd></span>
	<span style="color:blue">
	  The function
	  <kbd>javascript_value</kbd>
	</span>
      
      is a filter similar to <kbd>not</kbd>.  Each frame in
      the stream is used to instantiate the variables in the pattern, the
      indicated predicate is applied, and the frames for which the predicate
      returns false are filtered out of the input stream.  An error results
      if there are unbound pattern variables.
      
	
        
	<table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (lisp-value call frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (execute
          (instantiate
           call
           frame
           (lambda (v f)
             (error "Unknown pat var - - LISP-VALUE" v))))
              (singleton-stream frame)
              the-empty-stream))
        frame-stream))

        (put 'lisp-value 'qeval lisp-value)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtyPkCcgFAYDQSBEBgKjYchfC7Nker62oGEMUkixiQL3VSdJMiMPE-SKUohv64RRuJJ4Q2aBChn6QZDAWtCJyeQEAD5qUoFq2o64gupWrtLv6NrMMOwydO3e61rG-lzka8xqi0UgOHIHNiG6gjhv2waIdW9beMm-i3VFWawIWkNlphkaxs2lZtqXOZ5usI6+xOgFzoBshgdB8HetW-RPvWp5ife2JSfO5qnrIg7JidCK-pcDnWoYGResoG5sWRbgwgmi8EjdEWqC0RhBYUIxHqF8X9El6kfoay4WIVygldG9XVZV+HZYE5GMjA03FpKUAUa2906EBqmwc+-RDIJ83memNnQEN42VbVq6ubt3XpED-XnEMQP5CUKA4EQZB0DxNA8QuFE3OIFCqGIfRcgUQh6FuyhuFunN4am0UQUBzpC8UEuald+2luBah68bFCC6L5uy7b1ZprSVre6b0vW+k0p8sIUbfAUFh8G7qijHnxfG3wGQR4UMfi4nygiZaOgq+k5pRQqZResq+hG73luD6nlo13By-yGvuhb-712K+PwfYjP1I5pqBiDoDvV2n995-xiKUXOPwgEgLAWCPu+8f4n39AAhgbw2Kogbsg++UDdJPx+FgzuzhcHj3vqgghGDeoL2EOQBgxAAAehBAhuGcBA-Bj9Epg35jOVqLB6EMEXBQHegNDCcIHn7FmwIBFCMXsIXwkjW5UNPsPYw7RbrKF3l-B+-oYHPw0QWRwBcjFaLBh8fOiCJF4KkUfNBBoMHsA8F4ZReiDQGJ+M45QrjbHf3sdQ4egUTZWLLm4ghnjGzBMsVoRBbjVHoOHh1EE3JUThMfskpRsD1z5y1jHHKzDWHEHYTfPxB8qHSNDLOECm8GA9wkW-MQjCWFsMMLHcJVDAkmWCPE0S1lbIOQFr4V25AmEeS8tkjoWhCp83yS4TJeS6DcEadLP8r5RSsOoAoUh1M+HIl-AqKamThGkC2Ts3hczFnLNIGIMINF8KEXdMKN8qRkHlGFpc-ZFsYjnjYRkMqkzcn8wYAopR+zKkyJiMwpWa1K5wXoHEt6kLgUiNHuIxZRMkUyJWRCyFSI5mMOPvC0BYSvmHkKDXVIwSe6jBpGwdxoZSjUqopg+gSswR-PpQQ-+ZQPxqlqPc48REFTdOnNrKyNk7KOWjtncwlBfAkHGYIQghA2C+EKrEc4szZVolBAwWp9T9CFMMFQmWls3Sa0aWdIhOStD6EaRUloLC7lnCzsmG1rKRCkPoOQu+ZdTXEUpUwUg-BVBZLznakhODGxFLYqknRkDOmKUiVMseXro2erMeAsph9K7cuMhGtN2CyGNk6IDOgrlQYdICeFN1LFsmjTaMY7RasFCUBNQEmW6zUjEGLvKxtmiTGtvbQclYU1OwanJA8vU3aGC9Q+CE2JYSPhtomGavicsXCArtVUUgC6Ym9uXWLEdnA81+WncKlY55d37uPXUqijJDLboLjekCB64krpPWekMs7mXrhfXBW9bb73-tHaGKar6TbAZ7n5eMQr10ukRluwxTbzFe3Qmwt9zAl2uwkZ+sIp7f6wc1VO11esdUdwXbUhw8CvwVp3qsgKSHBIaH0Awa1UIaPsJAbUOE3B6PFN5nWpq3JGD4H4C-K+2V3jhK7c80UWaW05u+bEc8+HGSKYsdhw9uHwnEYRpu4evbNC4k08OpY0FShO2gmsFVt19qif1RJi+UnUQSMg++o9q7NxYoNIYRz4mQIubftJiRvm+w8IHc2gumHF06fbeZnm5LGLweIhS5j58TCuY4Tmwy09QT0yyyF2Khg15L3Cdy0AzQUbnrI-zD13jfEUP9Z24i55QWMkayC-Aii9PknPHuOOQJ-NCCc0For78JGguS+eLjbSeOhEZNU-VW85vAK-IN5LU1n36FBRXJhMLCU5mJXEwbuK8UTjWwtjt4WLtFDzUJ8j7qG3RO03EspAamOGci3+gs6Htw7eCYU1pOXmsqICY9+rDbaPvbB+XVr-Xiq5gfUCHbMOy4gYLM0opJSP45qoX5Wjc8F5L0xwXdHrtifr2rT3AnX2BIwbq3Mj1wX369LzTLInpWSfL3-YV1+78qflfxyGHbrPpNk+xyD0pcPc2-0qd+iKeB+ZxzkIoCAMB4BIFQBnNAxJhP-VSHXFyWQc0yyDekBeZBZOgAAD628Ugpy61QxA2-t471Ii8l79Dx7Lu3DuXwzRtjbmI7vA9ij5V6Prv1mfG4oLzv7ZuIiFHp26MptanssVFMwMQEg1rVOHTsPo9wxAWyDTtT94QABkVfeh7WHeEYSQJKDF5zxn+ryNR6ycDRl1IOe89zoKx90SAmZmZ6amVjeW8BPd9Ty4AmEZlPt+Z5FinYJmou-2zjtp9Ay-MYL+CNf4IpbO7oGILf0u6BCY74A7jJLs1+574Z7P5Bc8jQL8Pw-d-EFj-q2voXpuj+c+deIwEYC+dYFWusf+3+GOPcUuxSO+vufqrc5uzG4Btoi+sukcN+kmxWHCleqBz+fer+A+Ben6FkJYQg42Au0m8I-uHuJepBBW5BokeYpyDouB78dB7uMeFG4uJWk+DeE0U06BWQohDePMta9W-BVUcBwOCB+Bx61caB9eEYmESh2BzOtcciDC8huOQhf4Qa-e7+zBx6FktCgiuhLSCh9Av+seOhwiIWYiZAeGShwhzGms3O68K228XAIBgw6hbakhrq9WFh8iPWSiBBhhKhoBEBgRB8mhFGoor2oS4CURywRhJBJhc4LB4IKROGWk1+zOQO1h+h6RsQIhqhEBlekOWhry9AxaPqtsQRhBVsxBb++ephbaFBDR3qFajYehiB3BAe-oL+HRg+ORZhokUaJacWP+RRFGMxTRJytQ1A8aBhGR++eqgQMgheoAC0UhzOSx-RmaqGaRbh0Rhmy2OxexpIhxixvRGaZaZAFaNAVa5RBmAk1xlQexOgtRSRqQZmHx5qyQ7RTBkx3RokmmdhFGkWQJx6jGFRWxc44I0JJ+3m9x7qmmcxZcrhLRyeMQmxhm4hNRmJBsgGWGqR6+CJyhxJ9e+GCx7qsWnmumDJ7hhm8RLqvB7qooxm-a8J3m7JbRaQweDJZJbk2ht6VJiWQpSMQec0nJiRPJnuXIriwJIJw8xhnREJ8O4IjWMJ7qXWoKGx6WdJsRD4Ghy+AJ7UKqKS0mJpnxcpjB2R1JkJh+tpaxtBjJBsBKgxih+JRJAkJJlpIRzOjS8BuOeJB8sp8+VRGB1RGhj2yucyquCcGuyc2uaclgBuoJwaoaSiTCe+RB3W3uQg+ghZoAyaoAYyTe7IIa-wikxkpApk5ZFkXuwMW6LCJgWgwgAQJgxA1AoMwgjQY+4+1wtwFyOq+gqKzhe63Ae2COppXxBW4IbyXU-Mx+vmM5kgLh85ERdO3JWe9Re87yeyRZwpWpExYIMgPRJ565cyBpPpOqjhoiO5e6Ws55bo3xuxN5+x3pbkwKxpMgn5uqC6Nxv5dxoZFGwKcK8g9+15IFlGIE4F3AfxVp7qP2SGZOjcrsA8rRX5K5v2xAx+KgbKA84phuDARF+gPciFYx4JYItOokRFj5bkRFnq7KNFVEiF4htF-xz2jgXwbSZ+R2J2YSHOT+AkEYiuY5LgkGcgXeElwBBMMlUOgl+AxgIKYKr5AaKeS5boO0ClO8B5RU7wAgLeYMfJuIsFCKZcjINWOZLGdwRlpik+Ha9SiFFebllE-6XJsl8co8AB7mr5zwelSJZpgwLl-55gLlZOwVo8oVsQwBEYUV6F9aB29molcFH63lyOuo856wllv8+FaIt0YgLeq8PO0stZHAZ+FVa4Fm+ik4cE3EE5wsr5lV687lnQBGoALAhVR2+awIZVFVXhS80sAAPMNXVaoFxbqJVoQqKhCAACpyQsZ0C+CCA3K8DWLUhYiqrUC1DNDgigAADUlZkKG+Z+QokRbl4Q51JFJ151t2sQV1YgN1c1Ewb0TZLZ4Iq1+AgcxA9kW1YgO1uJe1HpR1okZ1F1Mib1H1Y181MNj1MNL1MQ8NMgSiDVSpLEM8AB2FiNn2+KFGlcc6ck2ISlKw9WI2H8iN3VSNaWG6wpKMnV41C1MkpN6I2IaNsQWiQlLuWVtl4CD2L1zQiNKkQIPsd1PNsw9e2NPNYtom+gmEd11oto2NyW8YP6zylcEt7IxeVlgt8FKmDQS1hNfSdAi85Qjso8GqR4BEJ4hk16r5jI8lHV36fYU0NNWsr5QVPtCV52E4sVhqUVmtJGWt+lW6x8ZNRARqRGTOFGXOk+BNk+PlRNiYzOnN5NcdVcCGMqWJStdNPliJ4GveIpc0dN7N0C9iMd3NMifNGlAtNl8FOdkwvmYtk+etUtVVVdsQpQpEBMDVPlvdYY1IStKtPdatWQGt+mKW2tBguttZFljCfa1lRK2VeFjNptzZPS5tEqVtIgNtO8SqR+YdeEqWTtSOLlrtFJ7Vil8dntzG3tsVdN-tO8mKd2wdVE8V79Z9-kEd4VAkWdsdMlUcKu8c6uScWuqcuu2A-lGypy2ybxk5yYGKMZmpWR2p15DgFkmySDg5xF0VLgeD5yDAWyqq8W9p+y6D4hXyGe54JDyDHyOqQ2SF-2RQB+cwJFsQcwE4H9DQB+HI3DMQHIfD0iB+CEwjzVpAYjzoB+1SUj1Ssj0wB+1smQJFajbA-o-DHDK5wUqqfUJF+jtM2j4jK5oqwjoqfYOjhQB+NwLe7ULAhgx+9jqgjjccKwNjsQB+p1UjrMTC3Avgje50Yy51m1oAXjMQB+7kfjMQrZoAQT1qYyXk4TkTbDUIsTBgATCTwT1ZoAkICTMQaTB+wAmT8TiTZMeTYAqTZjKJAApGU9kxUyE6AHU4UxE7U2COCE3n4+U7kzWSJEE50xCAAITCS9NNP9OgBjNAhDNyMrkTWNOBNTNTUxBzMqMLMAixN9NJOgATVAg5PDPginRLM5O7PnRrPFMrmnRbPcBFA7OVNjI3OXNHMjOZN5OFCVMxAjOxCFnOhOgMOIOkPAp02AghiaxzDcCMMEPMPJguqAtnJMPAr4AsAABW3ZQ24LrGyI1qEjQLyDJFtDDgPMgd0LuyKZToplVIZLYMlBuGS2BWB+E6JFE6aTd2UTK5kAdAaonc6qdzXLPL8qbL7LdjVAbjsAkAwjrjDAErwrd2orDjAAolI9K4q3KxdgfgAHLkCauZPauasj3QQAtI40uZrMCU6gsAhYsSzWoEzAVQv4swt0sjqpQmuOvUzOtxVgsrCazCiVO0Obg8Duu0vFRUEur+XHKmt7I4Mg3VKIXHLVAR4VBAy+AC2osgzrDKCnKaDsMTimvkMcCIJUPEuB2FCNJxtHBFAJ1Yn8SzzN1xKIXQqZX1thJYo3QiDTnBuwsCFVXcA81BuItOuhsWuq1tt2YdtRsEoovoumA3Z4qmueseWlsiMG2r1G2IKPYcDmXF5iBfD9UDHr1C1lTARYjrthKUs4GG1vCouXLGp0XylZB3sUVyW33Xv6xGrOo8X15PtQVMnFIgRvsogSJ3slX3iPufvPtGZrvBQ3tTkgeSVOks0-uHkAW30wfvvwfKXfsQe-ssSxbodAcfuEAl2OkuDSU4cofmA1BiD5xrSaKkBZKfugcqUUeOXMImD8AFyFKNuFpEdF5gy7sos-AtutxpVNQu5bs5QhwVkIfENLjZMBwoxJmyApkQOJya4pw66YCOVvCXTkCmAMCaIfBVQ3CkCuJsHUBPigfWxW7Ti8VvyWd-A8zoz+HK1xEQEWdPhygPUMBPUXSnLXWY27TmnT0Oded-zND2fsFOdEOkUKA3CNqoo9mhwu4kcan6fKA7UZC5JGDLLKDKC5NxznX2r5d63ggnWlDldVaiQWQw0Zfquhjlcn4Be3KxcOAiLGApdn7XK3I9cR4deFgRD-jAFvXI0Qgw1FwJfGBJdSiWo3L9dvzGA9droPXWDgiQfteLdgyAyqyNL3vl1ZB7cufggozaTTA0IFZ7egA17SQvIHdue2h7fhD26ucRhPfTOqTFDwgufBeDBXe1nghfdVm6cUAGdGexSmeuJHehjNB3fJKelpJXc3cTid47yLLJgRmIH2o3LOeMqiTjfnWbd7rbdkCqwEwrLY+l7eew2NfQ3nWI0+Ez4wWlFY-vfPUTgnV+dE+aU7e-cPeHc3INI488xnVvTwhneOK8oDd5SggkUOpS9bdMCk9t24zDw7TQ-TCBh0DS-giSPcAF7k849T2U+Bvc8k+kA8TOxO4tcm-HcADkfnVqD1DvzsGNSie3G32viv9HSiPv+3LNO8tnfPfvy7fYB+Qgwgj1wQj1dkWkFk5oaYj1IaHA8IKvmvCvxPwfBYDHh8EYIfGfPPyvzsZvWfZAQzYH+g+fZvhn2fQTYn5g6beY-m2bIEcBrCHgCBRH+38PqSHC3HLn4fHpvfth3AzP2+ffLCDXsQmsjfmbLfku7f2ibgy3XfafRkw8M+-fAY6TX3UsydtSm-k-EXTqhA9fLgPvc8IyTCJyHfbgXfcm7YNpB1w-H83HKm16BK4tQIIYDPB-XeY-l+VfsRkBa39jAa0FZIyE1gX9SsV-G-kvw7QU83+xGCDJ-07oA9JGLnHaATEX4IERoKyQ+OIRwFuA8BgvXHud3zo9t14ZXBRpgPkDwCSBtyZ2CCzQGqRZ+zfagJoDJwS924hlVATzlD4z8M27AzgW3zoEIEV+b-Y-rwOfLm0iBYA9qKQPPTwZZ0h-QgGBkjo78SKv-afIpSP5KCHal6IoNthYS1ZtU7qeVCQHv6yc1eS4LfunxY5qDnYS1QpBZH6RSpOy4-OVAqkIaQddOuJKwcAQ2S2DJ+Lncjo4NV7OCWErgyVIMhP6X5SKuFXDKOWgIaRYolAfACCjBgDAKggwbjqBwsFcdJ+ZXBPnVEg7ZD2oxAzSFVGNJ5DrBBMPwbpiQHVsWIkWFgNUDYhn4uK0XDgD5Q3CgcdonnCCHlQ3CQc2hXqESoMMeBjCOhpeZjvXmmEu5YuCwiYSvGWGzDrBEYNYUsPaEC1E2LlLoY5x6EBV36oHKsJ4EmF+FUquHHOBlQ7YXDehlwkKv0KXCtCdhnQ+4cML5Cj8QqZ-YeGwQCEaD6KLpPjqJC+78Us8ZlKgpZztQuDjhfhBwAfTWhsEGA6gEQBwFIAWx6suQQgIxzUF51Z0-wt-nnUNBmU+qbwsQJ1nJFkNGA+w2EVcMfrFkJ0u2ckYa0IQIjxMXUZEaiOEDoiQRUVUWqRRxHMjxhTSGlFsL-oXonkj-HaESK3pGDmMO0bEUogcGBslR-PVfhKIvoMigGJgkMAxAYhTQ1R3HX4U2y6hChM0oIMJB8PoTw4oqMsdrOSMpEijqRd9NHh8PpGAMnSTIrYVWVNGDBrRVAb4QlUbKTgjYLxBgPYy4hrDsKWw7gDaKDHv1fhHEctBGKoBcQOIcYwMXCMQrX0AeMgOsLUBOrHd8xewQsU4PaANwMxrEKgOEBc7X1CSqvUUP8I4i1jt+foshlvEpCWjwEVY+MdmKt6pAdoLY67rXiCEtUbRf8UoMmPDGRjZqEYFsaHwNARgJxi4mCIrBnFpjZq2AmsauMhQEwVx-bdCKHWdjggSxHASPr8LUAmAvA7URgCUMR6VDUQ3AC-lWIv52i2sSOWcVRWKT-JGQ04pIKmM4izUXxWY+8c4D7bsttwb4n4cAS-GcoMoqkM8WWO37WZyBwlXdpICk6mxWqQE78XSgPi-DeAmldocwmnI1jrOgJU-K7m3EJFfh6UE2FdBxBshug40D8aSNYbpQmJmYXwJBUBEdhI8X4aWFZhtjVdDAvwkidfyJCbwyJ0ZNiVSG6CMgaJW2Muv8O6DhBKuX3art0AzxbtQAy1AABKKsGAAAQXADgBFWAAJWWqQAAA8pq2QBAgHK-lGQJIDUAVDUh7Sf8UsmzGgciJYMCSTJPLSTjxAA4CSXgMfGeT1xSQY-vRM6CloIpRoSDrFMyDuS0w7SRCgZKMmmTzJVk2yfZKSmhSPwTCcKR5KNCBSXiiFeiSHAkkMApJuxLyYfC-ylS6A7kFWMkOZxqhwBCUmTF5ITGDcRupsYWKLE1hIobRO1M6OFivE+JbxqUqoTfDGnmRQx5aPqVP0Bq4SwJZU3qdmM3aSA4gGQENg4EBiMgAADCcH8o1B7IVFfaU-ztKxRqAgwMvNdNyCHTtAQIZPgdNwoyNzqeIPyFNHemsoXppASDpFgun3puhBcD4f9J74S57pnlJcIDxIo7QoZQ-GGb2Qr4XDgiZgvDrdECoXDUg1QbIPtIti-Jrp0Mu6aaEdhA0rpHAG6Qjyqj3SUo5IerI9DBj2ROgriWoSGCDSEiiheWJymDFBkXCQRyM5-qjMqwYIZRIQvsFOKXAsyGAbMtgK4hVGrSigcshWa4jCFkDEkhSWrBoLVnszCZzYX4RUE6ihB9Ur-KIcjnBkrSZYzMwIKzINn9TWw8mVIISPUEGhXwTaBuB8MdDEimaboS6AWFnpwYDBfshoO1idEzCXRtIlacHP9m5lvRrIh2PmMIiHjww9s+WQbOjFijnwtELAP+ElFyi+JjhFqoWF8ylB9Zisvnr7Je6VyNZEBR0O3UDg9ViAs9fUclQznqyu+Jo24WtHNElx2EfwA4aODyo2y5JAgNYZHN2E0iOq7omCYKGeSTyZmvKCoPyl9B51x0dAG6oBKjFUixRLIiCZBNHnZjK2U6ZQS7LBlzVfweKPAJCDvkhgHRIoqeSJT2GzzOgscrmcxiXkiQJ0fMhwNvNnHDyIIh42INnNWEHz85-4KCPyL7DGRe5QCo4WuA-khzHkr4E2fZlSA3wkFVsw4Y8ISqhVb598sdMxlPEFiLxZ80OXKOMEwoEFfhbBR6LwjNC3I-8zGjvNmqEAFwd4d8cAVzGISyF3Ah2KQtLGR9yxHQLIBwqhakg6xr5AcZfI4Wtj0+7Y-uRpTaRDyJFPALhSFVkXNjxoLnJRVvAHmqLHghAO8OortGgBCFkIWRUOIWgjibBLVExcFJYW4hAF8416HinnGkhdxhQZxWwr57yLvF0EbAV4pAX+hjxqvIReePW5MLKK70tWFSX26XkyCb2FrHkX2msVzAbwS+ERI4TvSv2IXQ2Y6Eg7-TjSeSiifdzUIQE8la-duOHzYBszfAfeest91V7iEIw1S8EW5GOQMI4l7058bX0cJhikg-Ssvq6KdmqYkcl8H3NTPigXgBMYM3BfjI-h5K-Is2LeawvgmPpLs6ylxZuMr4DLepoSrJeuCx5TLRseSwJUUGgkJVfpzGXxZsrzH8KXOqE9fs+hr5l9Cl3WXrGcsYAXLfM6EyTsrGwn3KfxXKHaQIEykMALJlkAADKKsHJjsG2GdPqwuTcJ70iRFtO4UaC-J1IioEwnKnRSXO9EsKWtHRUEqr8zsZKVEn2kSJYuVKmZbStA6QroVcK8AAVJAgkqGV5KxCirCf72Zc2-oKqdhJql1TuVlywoGko4CtTTY8IZdkKsYkIyLI706VVdFT6-DjkZKzFU8OsG8rDYI07cO9OtThZulMywpVCyineSoqy7VFW5M1UWqVpnS8wG0mLg0yfe+y0ZVqsCrmxQOuq4aaxhDC5jzohkXle2zWiexfMnU2aW5ndUMdBly07MYuIDgaqaVMa3EJ6t-qVIX6dsE0YWneUMdU1fUhiU9GJlI5WgOLIEJxIKGprGpbyn3nbVI7DwmRZa4llWWdUUM81vvWvoWvNghjm1vuRIQlnz5Zqrojq3MhJIdAyT9ub1fxTWOe624-hb8GdbRJiUCx0hgQKNfTMYABSNpV+B-nd3HVDyd17skkfJL8CMgRVWYaSUetnrnhMuzZDHDuqLWtRvWLMeVU9BxDx9upKqp6PWqKClQP1okHdd+taibk+w6vbqdwADh3rAglOR9ebGSyFzSMlHVdcEDBj-TE2AUspePKWkvFGQxynJTfBWXkhZ0B64xRauPUTLSRCkoEBetxDSSGpN6yZYkBg3IVrpKsF9e9DfWtQANkq4gMBoUC-rCg-67oEqv2n8bQNoYJGftMg25NoNGOf6fBv0GPJiIWqRyuUP+nBAN1N8I9eUriU6aXO6m-afam6nH9yhO64zc1Ni5mbupFmtKbvhlgfBUNWmrdS5rxW2a5pV+VZUjiXhdTmprDSFdlMsnWS7JbK8kAFrMlBa8pCK8Dc1Jk3WofNzml1BoPBAYholyGwQMIFJVGasN5IRzeuvQ2ubSJRGk9QIAS3orGQzK2FfCr8iVbWVf4pcH0oMC5MytNK5SYZhS1eA0tOnegKi3wAEzAOs7btXbHKVXsetlyAbSOmkVerTYzsa9n1uWX-tPUsHWdjhWW0npbsta2vlrFfZjaUQq2-WARnznsth1xax7P+sPwiBHqm2sviRTm3VAL2zOGDvNvpgpA1tHaE7a1H26G0COqDH7ZNpQk2wren092DTEhgCqDQ12-NZBj+0vbDAb2w+B9p4iQQGgAcJ7QTPw6vaDtsO+HcjpZiI7dY526PhZEh18tWIr2+bQ9oozUdckOKOEU+p4g+rBpeq-1duEDVHbWwD7I1LmrdXU6eyHaynodqPmFAAVmEoFYxNDq2BcIMkEXekLF3vr+RUC6rijFx1Ihfa5sWtOdtj5XbudtfEirzuog4BzwNwa-sYz6iMgAAnCcGkLsRaY9OowJiMe026+o9OshoDDVj8YTaUou7izQ+AUbz6oc18C4FrLHTPdhQU3Uojt528LIaAGPYJs1RajQw4evnr7r-ph6ndpmQaZ3Gty8r1Ch8FwF5AOJ6jSMaekKLbt5VZ7pwHaY3d1HT2jrBA9SvqE0r+zrZUNQ2kdaB0R0a7+AEIToA0qb3EVidOum7csgb2NK8yBuqlgIGqClQb+faRkOCB94uxSoI5ZFczgv7CBTkoMUgLXROjYbp9-AP8QnBzb76QI7fPtMlhUHB4T9fusnaXr6gQhPIEyCNMEHZCk9qgtHcZDEwQ0J7w5paxkNAOGTMBr+cgsiZnxP3I0jgaqkMEnvBCP6vIG+ghjIy5pL6D9cBr-bPST3V83VrQXOUUFfCPr0hmQ9qJlqlA4HQ9sQQzTTM03mbrNzUr5b71wMrAYDxk7qRlpyHsgAaNo8gH1UKpoA49-u5TYZBgNoGvIi++CXHBEMxMLI-BooOHrt1IpeV+q6CGzvehYGttkCwUJCNdjQiC4rQPqZBpzDcAGAuTKuCrJtSpp+deh6kBJ1F126lOwRWMCGHX2b6yAO+hDSuqDagD+dJ+1cGQEXhtIhW9ov-UCAAOwCQD0vcAw9UgO4HXwW+-w7yw+5AhUSpY12HQTlHCHPInh+AaAEX3gHP9vkGnrIfT36A1DHysg5W0LkMR8D3UpgBkJYBZCSDgwMg3nUoNgxqDNm2g3ZsYDGlyj89Gin4cbrypEjUJFI4UTDm36DGSiWA3AaZBdG2DtQT-Y-oKOVGKFghpg8UemMzGxDoK9tIsaWN-05DIcYNYNKUOs6XaZMNGqUfzUgL1I5rGgLkisMuUDDo-Ewz5nQgk7K+UsGw7LrsM2wkspgnAHIP51297x9qTLa0hnArkAAQp3DYiZaU+FkKE7dFlXpNwA64HeKQGOyZAB9okCyfdIkCgALJ+AAYCRTxAh7JgUekY7VUKInAgTbqkE4+P0C9aWAkJlEjCcoBwmeROJ8EEiboAomD8fcTjqQEer2RqAAALzfiR8eYlJ5I9ScKh0mttDJ1IUYE6BvwlEB+dk5yYROiReTKJgAGzHTDT5JmU20jlOUsFTHypU2mDBMb7O+B+fSfpx8DCmLIxktVG4HICPVYA-JlctAAESnJhAEgR6gAFlzQoAYyaDBIoAB2AABzSmLIppsuPKbEFuBgToJ5k6ya6YOmfEZAR6q6caWGAPTFkL04fAFNNwhTj1dvmIFEQYnU+1gE06MaTNeH6ToJgs1fHVMrkszTp3M26YLOemUTKAI08afjMNmnQFp-NVac0jSgKox2dwNOHtOOmczLpns4WdEjFn9e0J2E-dK5OPVdTcZqk4mfNPJnUgzZxk9kIhMH4AAYt2UerQBSd4IAACLemUSvpheP6cDMumGMEAFmXH10B7nZTB52k0edTOMn0zl568xZFvOPVHzJZlcoKcBgVn5AVZ1qDWb-MJnUjo5oCyeeVOtm1TGZiEFedMA3m7z0F1CgAFYjTFJ4c2acAtNnFTLZrEGQBnM9IwLhFiC8RafNdNNTW57UzyeROoWRzZ0scxHtBNnm7TK5ZavZH6BeBO4j1GFb2kerKsYLbJjSrLp3Nm7wA2mQk8Scj7cBiQpISi-ufQs0X4BwF5U6BfEuSXbgMliyHJYE0WRFL65lEnBcXOiQtAagLecoEs58n+L1FrAEJf0ATn18qp-NQfgktSXrLokWywpZRPEhyLhpgy-+aMt+XMLdFxkzSGnMpBmLFl8Kz+fBBRX7LHFiEFxfhPcndzCVtCzScBMpXLTIl8E2JZRIWT+g7gGoM6civiYUghV8EGibBqYm9gPF2AJKD0n2ytLJJ7gNGfJN1mqLAF5K7RZqsgWUWeF8EI1fWClxWreV9q84yUtdNnLa1ys9WZcvgg9OkoQhuVYEszWTLWF60zhZCsrllrzVg6zCo2somdAg50675f8uBWpzjFzK3OdutNXVrslp61tYhCdmDreZ9032Z8vTXzrCBUy1dYYu9XZzi14q9ucRN8XHLXTAAOpvwWAvAHxM4wsg2SQQW+2s-Wd8sw2Uzl1yc6Jbv4H5sbpAXG-jcepE3EDnV8AJJexOGAOAd51aoQFAD6T+gfNokySahtJWPraZha3TZxt42vABN0SCzZJvA3D8wgbZFvOai0E2ywCEU30AIik2prYt6q+OZbPBX2zKJem4zdlvM3ibOZw+HiDivxXJrhlyqxTePOpXlTNNiRAfnABZs5I750SIq3qPeWMbEITG-+xH6iRwA6gRRKABhVCAcTZJ0W5VfFvzWWTXtn2-gD9vggA76N9Jhlw5E0Az8j1NQIdRkCPU87h0qgnraduNmLrbtq6ybcWve35AGd7k9naDugBIz9tt69NeTvYWEbTF36yiSbu+3W7gdzq+bZlty3wQCtm293aSsu24b1Nuq7TZ9MxQrxuVok-UbqhK3XTuoVSxZE1b8234bBUQBpftk-m8QepxOzXdhtU2wQ5l582vb6Ab2UWifJW+Xe0OF34zWbAhi1aruJWk7ht4S2lYbsH5oAT9yQI9U3tv3uAeIcaw7bJs92gHAV+ixlaRtgOIHL9re4UWDtdX07mdtu--Yqv1Re71pj24teMk2woLxATG53Bweon0T317E8za3nmBwAFYwICRVIvX2MLs1o2ynYodUOLI95mh3Q86sDBVboILgvGZMDxA1TRDs66Q8nPXXTbXTSh+o2EeiOjYMVru47YAc33Kbdd5R-3Z+uCONHokER7Q+0dK2J7TNwm9beFM8PBLyDz645mEAZCH721ss-BYsiimJTIQTqztYQsZ39rjjue4A74fAPlTbjjx5LdgveODrfjyU4E4SdrW3LqgDy15YUfk2lHSCUbO44YCeOIQQT3BohdCcpPi45Z0pyE+QsHWjrNQE63o+IeHnInKDxkzE8KdxOUSEj6oFI41tQlZHkgeR+-ZVu9P1bqIR6m0LEDa3iAutpx45UgxCBDAkl6cNfqCOkjWg-+gZTAKANwDO+ER7XgfqiNQGStcI1hh8asMy6sJjE+w7cuLIs0XKjVGSCdwBqziXc1Y5gFJH-DNArjSiW41CIePcA7Wr5XqjRRePWpTDvwtgT-ZEErxad+OosF7SZ1+q66YS846dEUjsdMudqf59odyQ81DerXfQzzTBeBxgmh4paoYcKPssJUAyaVBxCtlKonqkCqXaJGhfz8e4tZ1td8eufy6tFMPRFZkHOz46u9XTdlxwNb5URtd+YfOB2pIrivYXoGZFbfSWcrOUHHbFR9ORcL0BlkCgfO4fAVeSu+crUfO6AHOgvWKLdZp0HgHFsauG7FUZq7q-1fcBDX2FE14dLNe6BXrejuIxpR8FAA')">function javascript_value(args, frame_stream) {
  return stream_flatmap(
           frame =>
           execute(instantiate(
                     head(args), frame,
                     (v, f) =>
                       error(v, 
                             "Unknown pat var -- " +
			     "javascript_value")))
           ? singleton_stream(frame)
           : null,
           frame_stream);
}
put("javascript_value", "evaluate_query", javascript_value);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p16' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	  <kbd>Execute</kbd>,
	  which applies the predicate to the arguments, must
	  <kbd>eval</kbd>
	  the predicate expression to get the procedure
	  to apply. However, it must not evaluate the arguments, since they are
	  already the actual arguments, not expressions whose evaluation
	  (in Lisp) will produce the arguments.
	  Note that
	  <kbd>execute</kbd> is implemented using
	  
	  <kbd>eval</kbd>
	  and <kbd>apply</kbd> from the
	  underlying Lisp system.
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  The function <kbd>execute</kbd>
	  uses <kbd>evaluate</kbd>
	  from section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF> and thus
	  can apply primitive functions to constants and instantiated
	  variables.
	</span></td></tr></table>
      <span class='comment'>
	The original is more restrictive here. We think that allowing
	primitive functions to be applied is at the same simpler and
	more powerful. (We could do away with the syntax functions
	<kbd>predicate</kbd> and
	<kbd>args</kbd>.)
      </span>
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (execute exp)
  (apply (eval (predicate exp) user-initial-environment)
         (args exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6j0lTkgPXDhRxLSUO6ttKYIV4jXiVuu0d3UpEbrmoJuck5UiXSBJXYEaCwFCzF0JYS0vWe6pDW+tvam2jKKC42ZYUY13FpN85hDNLF1JGX7qg7PQoRS6Hz68tPyPYrDFYuxYVLZHdk8FxToE+AL1eGb2X5XNVhXKtMlXiy7fi5DZaz3srg-nJyTbzCgrpthsz7a6DkQ0vNLaQ8hPyxw5V+6DGxzydm3sndM8FoTYS-Btnu3OfqIOaYTxUH9pqKOSA436dzWrvigllmc9kGkl2+0ANQ2f10k-0rT83E04QDnx0nQtFKAeGxRcl8QTCpigMwmgzrx6iey+WtQwMLzsCHRwOEUQOoE1Fkn-FHyaV5UXT835FVXwJyGWW2ikVNQhxwh8R3wSEtipVfHrzsAz1H0EzmTGm9l20wLsEYM3C9XEO6SHkEKYEFEOWaAslHxAjoIG2gOXWYNEDn1H0GnUMFE0Ku3oKwNXT0PgKjVUk-lQJ4KdlA3kLohrzuB6UuC-yL00EeEelEI4V229xCG8N8MiGAn0mCBkMUGEOtTkMWXUSGQaDcJckBnSAj2xV8LkKMAAB4gj0iHo-94jk5vgg9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgZPHcUAAAan92gTzUeHAnkycKME6JzW3A6K6Mch6L6IKMcW4QLGKmD0UHKMqPwFEGPFqPqOPkaO51aJGM6MiX8AmPwH6LEMGJ3HKlGL2JgVugTUmNCNcyUNKAqCqFUM5Qvy9T2QCAJn0GcDKFmkIO2E9THj8LULiMcQNm2CVRx0yL2O+C+IeNmguJeTICQITXsPcl0gBj2PSC9TEmNQ+wGIROCCHVuIRKxMBLwwGNlVXVuKcRSA-G2GFnGBxJ911TJCvi4O3zRIXnIWiRKKBOkHKn3CaFYlADdRpOSCjjIWSikT0MtjwJENdn7Cmi0TWD0OeOMJyDhgRP8FVIkJbA0LFMjnziILBG+OoF+JznWWEVGS9UmTeNAEiHeO1LINhJ+OGg8O5KdMnWVL5OcMkKDio0hPxOshhPEFNPhOCXIOQKnG4M5KBAxOsixNAyZO12UyhMcmCE1GHCJPURBJmOSFJNJXJOOMpPXWpNznMBojdkYkZMCI4LZNRM6U3h5JKjtIqiFNhBFMFBvDvHbXdW2AlLBKKGlNH1lJAXZHlItMVIbm9NVLkL1JMOeUch1IUPnI1INLzkNPMKjxdLNLdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIlbxQi13myFzPQAh3BglvKT2AKjQ-IIkcFglLGSV50fNh3ex104U8kFSkV-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-v7vHulvHAgUQT2gmz-A3u8ejvxJfu7uAfoMDvYfaeIeGVYQ0omVofPv8eeeUhMzqN10xfEuETIjnVhe7rtPsf7TulUJkODJRfgeWhxeJfkepSXr0fBfMeFu9e8N+ftHweAgl4Ynpeuuv4aeeeEnthlfHf5fv0JRff27tPIi9eA4jfHIA-zfXwQ+KyOPUF-fV1puuf9CXeNyig6TM-zAeoBL5BsuojFfmc-M2AL2Hibu4OlIShruqg350gy-wOMpNRfOglghm+DWglA8SoWAjOqo7A4vWFuy7Xv0+yc+S-MJ8-yBsuoKXrB-tlDvvvxJNtQfM7XwpE0vLZ5+Evv0UXa-VB3VoLkvxJt+blV-twO-fOl6epNsGgMo4RsUCjP0g-9eog99IitHCnX-ufAG7-DoUDP+igP-g-1qbuch0wAhNIPggEACL80A0AXg2gxwCoB9-FEhlHHLWpP+qbDQu51+6YDlCGpQBtnS-h4D-8VhdzpEVv4oDH+JAg3lgJMIbcG8H6DTr-WfK-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-IUFccX51cyeUaV47-i+5hxAeYX1UAA9VAnPWub-VtHgdXREeDVs6KIXuj1G1oDwFgruptZ-Ro+JMUwKwVxy2WZcvoBXIeC79qFZFXBYmPUYzBGFz3aZqwr5AUEOFEeLPLgq4VkDYqYAZeW3CTGREmFmqdMcJzD60KCWFrU+dWILEHCCaBYtrPWICAnz0F+4u9rovHkpA72Bii+YZH1J8tIFxCvzigvcwbS746OOpj-kCx1Z0cRrAad+Q6y0BFgAE2kBtPAZOYU+IMwfAdIXyhL3OsrXDBEu0Y1tsKMgdGbUFFR3QVOfLS2tBlCVQSo0ntUkK4o2mLjDx3U0AJeJMJUT+IiwSPLDIKjrTNAKhT-oDLWChKVEL1YxThESiWxk4XSjBfkSXGmScpNimEEEvIy1LqpoSwxSkEqVGDf6-SnpY+KgXPjwor4nFjbDFbCglQ0SuTMoDOEZhplSfHsVYD7GUjFls4e8XcT6muTHAok3cAABluaskkUi-HGlS4rA7UjaaKHKWriFlgE6XuSGympppmBkwFZKm+XArzJvkyyfUtFCD47JqYAafCvc63L7lTy8AD5OHCGS2IkKuKe53yn10w6-YcKZSKikxSoVMy5IPfgGnJSBhT4doaSq-GPThiG0ulbSNNZdjPaeK4ZepL+VCz0htIgqb8PDJKQNprcIJIUvqXiyv+vyjQq1M+VqUeVTUnKQaL-FnhI6bIKVgeO2VHjusEo2CQywJVfCgRhUpuBGFtFLRkohKksL0PxHEqlI6UjqU5KGUqq+V8q1BKSO5XIqdV2DPVc1LVVQ1Zy6I0uS9AUBbKJWUrA1RFNBkvUtQgNcSGhP45KAvW24TZVKzH4FzCwxPeNVxEWYPBYgcM7VVGucGGqVRuagZFfguxetg1tI9VYWFIk7dUxcS5eMywgmpjBmyKQsEwLokbwuxQ4YPE50ym6CdJ1kzeG70bW78x1xfKRDRPEjkr2eFEsdeDykTmN1wM6ayYatNqOQmVSIgbjuGsnsrMhma6GvdD+7lRD1KUo3ni0ym6BSRa636cOE3UxqxSUcvOIBi9L2dLA9SkdYCplWxr1Baky2GMtkDkZ2l7cwdq0v8lNreVustQfxDnX2BAV0UxdbFNg0rqXqD6mdAdIinbqbIu6uCUt18UR4j12QE9QEFUBnr91NKkjVeuSiRESlkEXylhq0A-qX15HWBeQgLgVdZguKmacHmdW0gx1La6VcJumaBdXFY6vloF2slTJEpRaWESrl42Cbuwwm8hAOu-Wbq0Bo6zKWKSkTNAMp8mixLcvcliSJJ0kzFZMBM3CSzNXkl5Tevk13rfKBmlTfQDFJTRtwFQJxTxr43iLYl6mr9Vkhmnaa-14G4xHP2kC+bZwlsNFY8ueX8xYtGKncdp0Y2kiXN3y9zQ3E83lBvNShI+tQCBlH0760a9ESJs4K31W8RWuBom1rWZC+W+WoGTfSq0UAFwxAT+uzHrHpqbWwCX2M1pSS0B2tWsW+aMNq0oiCMlGxquq2GJdbtlT+AbQVoU1KEP6C25hA4EG0la61ZW9+mto3qwMWtGIl+FiOmG4iLh+QuxI-Bm0Ssnse2oEDdq1ilqY1wfLyr5WW2NacEcwHbXA1W10BBtmpePjZFG10jYkE2hYlq3KiXbyanItbQtuv7CI0GK0ICBtsyF758ppqkVQ6tsVdloqw2+kvDl3phqtV3W+HbHgjVKgn2VKqUO+NOWfikRrY3wP9uNBU77ONO8EYmPvnpAqUT25IIDs3Qg7XU1AQ1juAh05pidkopQpBzzYFsckiOh7aVs5hKkTVPwoqdKEtX6QKQCwe6EoGb560qAK0BEuS3u0CCESf+VNiZWbFSdxAY88eRVGM7VRjRCs4fjsVvn3yAgEHNDlByl3dJTWVzbsdig-GGrVyLgxFpzv0g87gdZ6t3cGww7exptBO0nTmgl3R6DeAhdcZeA+3cV8hlsAAJyvg8+DgQSgHp-qeko0AlfIYav-JuA74A8Yvm70hIbwFBM8xiHYECIjSAh-gUvbxUUDst2W5UNAH3vI3UQYh0oDvUqCJFhztgI+8va4ERT5S1MQyOwHeHKx5zNy7e-PWXvynT7ZCugZkN2xH31rUlvFDJe0CgjPBB1SOlETaMMIRTw9k26QGkqP2rZwdcejNYBDv2H6zUmSpelIgygTaI2V8S2NuClZIaJtKed5ZOg7azA8ICEOwXCWcl1z+IP+4-q9TUBAhEDw4ItlfDFK16GmaBuDQEBH0LFbwd4BWMHhNQPMMoGDbsjZVfVD7Uecay2Nu1qBdse2Ubd1mgakbPhOVEYAg9uCIN3hIDSeRgCEB+LAHkufB6g+DwIN+tutWocfWBEYibr7OjnIsLxrsSyG295gCTfxrsGyaZNw6hfOobdk8GBJmUrCKodmAmpqAPo+0NIjcJoAB9Vs-WKoPwNr7O9vB8QxUptYRQtxFMKg3weGIOGxhrhnCBFIx0Qh8pyugyKrscjSHtlekF3TTE7o8CVoWoCUXest2gBHAvlQwPcOWjhri1ATE5czoD1jiEM-ZCMBAagPCgwya-ZBdblfZOBtVaBxZMKCaAPBqa1SkSFqAYOHid2aeho6GIKZQRQWyXIYpwbDnCxoDbRsmjVXA4PA0iurYvjwaIPIGD2nh7ZaIZEhUH2oZ48wFIctaE64jhhgWJxsSEQ9FDDnBVioZc6Ss8D-gLQ3DIE26HlNm6gw3IZpiMQpjFBGY+M23DzGUsJs1fRnrcMeHrJZhlzn4dvA7HkeZxt9SkGWMeGgDiUBgOIahMS9J9oR61V8MiNOQRy2O4JLEYlYXztdV6XgSmrSOQQMjWtVuDkaLEQ7JWhRv3dTpKMvwiEr6wRA0dJ1d7Zxc0XjZ2HsTYUAAQq4DhC8aTW5UQU5oAZWc1wAsgHIIwFch8JH9O4USQtIlSgBRJ1AINDmh4Ct7UIPe5bG6K0DupOT2q9ljya+qfUBTd+YU+QFFOzBxTO4SU8QGlPF41AmuiSuVGPCUAAAXssA1ZEIDTfxo04sdfCmnut5p4LqTBkDLAlQGaW0-acdPbhnT0pgAGwjSMzepoM-8eNNL1wzcRyM45N5OQGo2GaHid41ZCemdwAkv8PcEkDDFYArp7CtAFlB4RZgEqYYgAFk-goAASQhBzQAB2AAByBnyoOZ0M1gHzMStCzzPS0w0GtONVyzPoYUMMRrPpK6A9Z8qI2aGRunYgHp4YkW0eCmR5T3u7MyGZNPEdGjEZnkxucOBxnsKS5ys6udrMbmGz0plAJmazNjnzzZ8Kc0qBnO2dcejUBUw4HmJlmKzK58qGubrNvmdzQpkUwtIdPKnkzUp0c4aYWPupJzl5rkwBaBDOd+TGaAAGIx5hi0ASHduAAAiTZu-C2caBtmOzUFnIAwHACozBdY2fU9+Ywu-nsLZpi01aaIskXyoZF4YlRbgt35Tg+58qIeePMrm0LwZri2GZ4vXmozt52MwuYWLEWKApF8i6JaPwABWTMxxfQspZFLq7HCzeaqDChXIdAMC9hU0uC7twwl8qLpc5oJnELSZlM3JfHOYW-z3JqM-hdLPYUyix4ElOUFcDDEHljoYYrzTEuNVBTFBZncMUFO8UIAacDU1qY1a6AgUkwgwGeYUtYWzLvFqM3OfUvlEQrLIcK+VEissBor1FxqhJbcDDEFA2XPuaQHYYumvLP50ywe3MsqWYzErDNMFdCuVWdw1V2q0MiBQGWMzRl+SyZYKs9WirRZ97sBesu2W78Q1iqw5bGvlQYrpLeC3afcvIXPLM17y3maUsFmeTAVvthmlEkkobL8QKs9uAeUTwHAdVhYrKfqIgWlTDZplNxJFnpXtTugIc3qdyucW5rvl3C4oBKs3W7rGgR689cICvXYrCxBq5BffLMAjz2QE8+VFugqp4gKnE611fmt9JerS1-q-ebvy3W7gcNiKy9eUpDIRsn5wm-lYhsWWVroFzcDDepsPXabiN+m3tbvyPm0b24aC6+a3OnmwbuZgQqzZUuWWQLNlzm-tcTNHXULAtxqgAHVlgDQQgD6GUrlRJJLgaAxLeMtS2cAMtos1ddFAZpNbjAbW7reGIG3BDb17cOABCtKm6AEecixUVUCgAeJJKH25qe1OdWWb516c3xfnPW2tbOt8oHrZ3CO2jbyNzNLMDgh9zMUKbHcHf0eDDFjwuqPKMbdmum3zbzPVSwNewo227bMdh24bdku6AeAU16a6DZNsTnib9wUm8z0tulXwAIbMoAxZ3Dc0FWHVtWwsXVs4I-05UcADl0VCgAHl2iZU7qeDvg3Q7-58O53e7vUBe724fu6raTZmMhpVAbFMMWy4tF8AerXe6tKvT53Tr3Vkm4teLvk3V7zAde8ha3uD3QAA5+u8zcXuFXlLS1uW6tcVt34u7j9jey-edvl3o7sd7cPHdkuf3TbLdq8xdf8t8nArNFlYBVIcuamFWV-IeyLb4QDqXT5UIWr7eWAfoLDLFkWYLp4CpmF7hdpe35aLPQ3mzaD3VBg8+oGtnb3jFaTwIPtjm82CEHmzQ4nNF3ALJdim41WgDMOrAwxTB+w6GQ8BgbDdvK1-YWs-3i7f9jm6VYkd5ipH5UGR9g5lNr2QHA9y+0Tfgdt3ALHdjNAJKYrOXRA6t1wIsZwcfX5TippM5JL7kiBwAfXSwDmj0uCOLz39xBww-4vYVrHfCES3Y4cccPk7GUPqKwmGJFdowsZkxyHcCdh2+rd50q2E+kARP7HJo6U5NcMuN2C7Qjuh5DeWtWWNHVjmxzuAouRP8nid8B-bf1vV2JK-js62k+XtRmf4swBzow-EvunGrXp30-6eduo3Hr0lrGzA+KdX2zHt9wCz076chOBne5oZzuG9N+nRuYzwZ8LeasPRWr7VlJ3NbmeqOFn1U3p44H6f1WdnEzjGzJbac4PxnB5u51M8eu42mUBNmZ6Y+EcpJznSziOykpiep3cbqwBJwsCSfYNonKduJ+nepxPBs7udnJ+07ANRons2iOgCFc3C4HOjFSno7qr6N7tLzgxsJuwbGNcHwt6gvQhYnpOpHfdE9Zk6EdKN7SO8OOKl4m352NwlJCaaw-WdvnpBCTSoEk8kebC0vNao+e7SboIDZH8l8SdXeYz4Fuc8G+SdgePUnrhBc6mwC1GOXReYvuThdUR1nlzy0BAILAPe0MkT3QdJk2QPe6tXy5M3crZ8PAKzf1f33gL91k12a90AWvPdQUa16tNteM2inQZr45qHahAA')">function execute(exp) {
    return evaluate(exp, the_global_environment);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p17' class='permalink'></a><p>
      The
      
	<span style="color:green"><kbd>always-true</kbd> special form</span>
	<span style="color:blue">
	  <kbd>"always_true"</kbd> expression
	</span>
      
      provides for a query that is always satisfied.  It ignores its contents
      (normally empty) and simply passes through all the frames in the input
      stream.
      
	<span style="color:green"><kbd>Always-true</kbd></span>
	<span style="color:blue">The <kbd>"always_true"</kbd>
	expression
	</span>
      
      is used by the
      
	<span style="color:green"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      selector (section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>)
      
      to provide bodies for rules that were defined without bodies (that is,
      rules whose bodies are always satisfied).
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (always-true ignore frame-stream) frame-stream)

(put 'always-true 'qeval always-true)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNA8QuFE3OIFCqGIfRcgUQh6GIOhKG4Gac14i8EjdUUQS0Cgsgmqaalmv1plKdaXMbFCxu26a9uk5pRTocgFDOxQdpmyh9pk-LCAYQxfAUFh8BOqijG+37G3wGQ0juh7Joul75roRarvdVIKmUNhyEq+hxse6HXqKUphp+ZHUfRuhMah3a5paOGcdWRGGHNagxDoe7ZtJp7Lv9PG1zptwGaZ57Weh2H4f9a7UjeNjUU6AXyep2JOZ+cXqElrasfJoXZbDWnUZ+4RyAYYgAA9CECHmMfOmXpNKRLiAYJqMe1lhdYYRcKHujbDGl57rDQnTpgdp3fuEXxPb29WEdFYx2hm5RIbZl7LZaLnI4LRwxuT6ObY+UbmcoD3za9sORdp9gPC8EP445xOfhL5Qy-z2bC4NUWGECz7mC0HPy413Sq8bVus47-n64phbu+bjRCBBblUS7hOJ7YYP8fXUb9DtxhDeN4hTZJ4fvcpxafeg2cQNBhhTo9tGxH1o2TcMZqu-VseWlIUzy4s6zbIclwvtm8gDY8ryS8OhaEKhFNeghCCT2Dsibgl8whFndMKN8qRjbUAUEragOYbZr1Xg4X8CpAoQKgc7UgaCMFYNtpcGeMDBCkDEGEGi+FCKIPbAwc65RKGDQxsifBDRzwmwyGVIBK814MEDtAvBh9fYrENloEQ+s4ZwXoJ3Qy0jExUKqi7CG7tcF0G9qotRtD6FSMMSsURC0lF8xZjw58hRCGilbqdUYNI2AVz7KURxVE2H0DkWCARrju6xGaJ2DUywmEngVCZYIuj342Tso5RqGjzCUF8CQABRCF6FViOcMBSS0SggYKfc++gN6GHVggmIhCbjYkvoCAAfL3YBY1L7q3mkbBhZwBrJl7t4kQGD6BS2HuU4i9jUiUFIPwVQi8RpaExn05WJDajUGnrHbGj9FLy2XrMxWCzKRtBTmCXejcm6NJXjs5wPxOgbVujQLBD995OlyVwlwS9Pr7IzkYSgChc7DPJK+UUxBJopLeVHVOnzvkTAqXY-iboQl+XCf8f5qRUYfDbtnfmHwIW8NDIQ4RsyqikFRQPQFGKvm529qPeFx4iIhnPASolZKz5UUZIZPFY16UgWJZ3TF5LOCUpDEiluMLGBOI5W3b5TL1yOihXxFaLgxU8slQWPy8ZqUypdMKnp6cwUGMqVvTl7cSWzQ9jysIfKqYquyeSHJXSWLH0KWDBw9NGZSluvdeBIzNXVP0AwepolIROp5i64QcJuBuq3o821blDDckYPgfgDBCZo2yu8LuFTBXapjl3JaFJirUjJS1IEmbM6GpznnVWXtLV6rlbTQFmhcTFvBeS3VpR0iZF1WsSBM1BgxqEIUhNSbiYewVaW0lWL9GmJiL2uNA6TBExTR7XVE5rYgpTlmk2Br0XGqbRMWxjE1XEWhTW0Ug6U2z3ccCUE+hT2xS+j9P62bDLNDbWweFnSsDgNeTXOuFaG4PIqeecRjJv1iPwEHLuflzx7kLdSWN-aQI3vvuIw8MRzyBrvsGmD9rT7od5lKaDKHloCTZfocRbS5HCAUTmSxndoMmMnehXDmHuBLoY0UUekaP15J6f3UdLMhn-s9TWldnipX6F1SR1uG9b7OHuRx8KUbzCvOdVYw5v6R5UwA3m06jISMqZzkqm20mt53zNupve-LCgqc+kDP6hn9D6eejZ+9KsyYF1zFRdWflCGnQU1x55PTENmbc3+0eFTrN3uBvZoLjBIsPqOSGEjMXDPX03tvOTVN6MPL83gNeLU5CKAgDAeASBUB9TQMSRTyRkVK2OmmoTAkbq8B+mQNNoAAA+7XFIR3GdUMQbXOvddSL9P6-Qd7mY611l8qQX1tZiIN6bYoPxqilLvBT4CjqbXs7vSIhQAqauHn58BopmBiAkJR4+Tadh9HuGIHNoznZLh5eEAAZC93o-Qe1kvCMJIElAbunaO9xm6EN6v7ePWM8gZ3agMEuwJ8E4bQH+e6XFkGYNw1g6PQJOY+gIy704+AldjmWYfFIXQMQbS0umb0RUwhl3wTE60twUnfXKcyfoJG47qRGeY9iA90753YdXvh4zpH4DGfOeBrz6t2PPu47rEMOXePzOTE59xiXp1Uvs-GyFl6tPNU44jMr3XqugcBZPXO5NM9nv64h7dwXl2eUWRLEIBDlvibwkm0N+3MPHdkosnmUhDpE3u5TZ7wb5xwHJdR02pahDDcK4Tw+b7pvOlR9D7FTXxn0s27-PHpXCvMIp4J8D5Fd1HZ62z9T2PCD+dQ4d1ep3ol-aV5viZ5wYvuMt8e67SQZATXfdr16jQgMXMOvBvdbgSewLF-W138vAcwPB1z8sfPIwjcK+e-yJ53SHHCrRYPEng+8+apO-X33jf-eiV41urSauAtSbbzn4-q+DcF+T987fVXabnIGTPz-tujWkO0OF2l+3yzu9AEsFyjYVeHe4QC2-oZ+IBQuc4Te4Iv+t0jYXKz0neAWGBPwm8bEKyNeJ+Na9qgQMgV2oAeI9+3S+BjYeyoKYIK+fOmq5BlQVBpIc+eBkB-SmBdMriZANymCacL+rBZBBSFBVBOgJe5uqQjaLBMuq0wBDeqBV+4IxauB3SK6ChBacebBV6Gh7yqc4IzOeh3BKOxhMcB+RqucJBsQr+Na0+setBLEI6t+O6+hThcupqrhbkG6NhZanhQ+NaReWKFhLEAKQKDaVhohWKIRQBaQGQ-+5KERbka06wm6h+zBehCRyhSRmQ8uH+5Kshu+w2XIZcihSh1WPuoBah4Bok36WhLEIG4iJB4Osu6+m+KeZuZRdMkCU8Z6VRdeyBfuDRDOAxyyYefh5g5iT+1ewxb+XRxRX+4udCWu7eRo7R4hnRgwG+KxX+DUeWrUhWHUJW3U5WOg3+J2Ey-2wcBs92p+w2ckHAQg+gDxoAGyoA-8v27IEy-wikxkL80SBsFkI2rxLyRsJgWgwgAQJgxAIhwgjQSOyOLEK6OCWibs-e3AZGgmHRbo9O7C8ia8phS6mJfehKOJS+Xmaepe3iUMHCOCMgjxduAuF+c4MgEBDJxJeSzRbkoi5JOizJgBBJkhHBnJ1BMx8qeSoG4GwpDWopqKUhEpXBtJAW5iii8gqmq8LJAk7BlBEpMhvRaJtwNsomBYcyviupipYI4I5pxAphKgPilaapfR9p+gp01pNRbJdRYIp0Fk9pfJ5g9pvSviHpVEXpH2yxWQnppRLE0cXwd85OVGNG-MYWCpLgEY-Kke3GYqcgoO6Z+JLgOO2ZqJQ0jgiZNsLA0Cvewye2WOboCEq8tZ2WnS54-2Rm0RKZWpOcjIL6JwZZ1wpptsveo+wMZSHmUqHqRZk4cEY5f0E558UprUEMkuC5zZEMzw9ZOxboOO+Z90y5+5NsxSR5W5DhDZmZCup5xpQ0BsFG3ZyiGKtmuolEL5oALA6wRmmmGZwIM0Yg-285uoP2IkHA5OAFa4SwoYpQTZ6Jo5qOi5nQZq75n5VGgSzQoF-5qggF8CAAPL+WBVhRBYEjEHjMCdOOCAACpySCRCC+BGLNbPQtQ0iTG1DNDgigAADUnxhiLO5OQoy+z58CXFjp7FXFrGhQvFYg-F4ZQFxFoAQJr8lF1FMgxA9k9FZa1IWIk81ArFoknF3Faikl0l8F4QwlFk+l4lsQRlMgwcRFcZbk70a5-0YmqOvySI3GC0sOck2IhZZi3G062Fr505fYD2s2JllleMcMXlRA4mk6CZ+ASZV8FiPZaZVMclRk1Iz5KkQIOO4VhiswcuRFllmsAVmEgle8EYdlVa-krYSCC02V7IN2dawKyVj5e06q7GZFgFsSv05QoAiOhGqqBEESfYdKvejIeZo5lmOKmqAVR5Tlw6veE6k681J5S1g1Vq8YM5nl6IPlFq764uQasWz59mrlk5bl6iAWO13lJS35IY4CAV8FQVOaKwoVyR2F6VJF+80V2IxV8ViVD52pHGS6zQqODVuV5V4lpQpEOOEFr5n1QSsGbxZVLmSFlViFe6qqAqdVcMDVHZ+sXZrVqmL10wUS04Z1VkdAvVIg-VEM6SouG1eEB6hkY1dNQIk1BZ+1IVs1saG590C1fNfIWW6Eq1VEi1m5jNNVm1O5LyUVu1t1i0OWsgeS+WbURWnUpWPUGA1xKCpC6Cty2CeSuiXhiRPpKBYINC4IqC+tIhQZLg1t5CNsaCk8thZ6PCeRxZ7+WQNifm54DtBtnCyYWGV6zo9OcwjpsQcwE4y1RQ9OHIEdMQHI0d9G9OCECds5pAydodhhx86dx8WdfshhTWmQjpxdbA-oMdhQ9OwUk85AvgjpNdqMdFBoldsQ9OZNCdZNfYrdMQ9ONw-2dMLAhgph-dqgg9LUKwPdl6c44IHF6dsQ7x3AvgP2DS-8XFzdU99O7k89MQi9oAy9fq-8XkG9Kdhhoa0we9B9AIq9oAkI+9MQm9hhwAO9BgoJ+9K93xoAYAJ92dM9AApC-ZfR-f-H-ffaAI-TPb9vPUA4fQ1cvafTPQAITCTQNv1X033INAjwO-22k4WANoPAOgB4UxDYOF0z04UAg70wPX2f0UMkMQO2l1L4NL2EMNL0MIOMOUPcBFDUM311JAjv0cMQiIMv2f2FA0MxCIOxAPHOhOh+162O2B23qCWAghjepzDcD+0iFKPNRyN5paMUKiL4AsAABW0JhaajI+yIfqqdCjBtjpzhNiU9RQBjhtzyHSRU7wJUdj2jLuxqjIl29OISjpISzjbG9OkAdAaoSs9d3DkT0TKSYTDGfdVAY9sAkACdo9DA6TSTk6KTA9AAounVkwU7k6YvTgAHLkAVMv1VMVMI3oR6NeM8A+MUJ+OcoqMAiWPYjCg0N7l7yuO9JZzGpNNUiDPtOGYWMrDeq9MNKOObgtNkIB3tMePi4DG4iDNMkOCwJ0LHyRnzy4jVBLYVCkALx9YMAmPkB5gxqkKaCxXQSDPO0cA5xu2SJLqXx7NHBFAHX+X8QfRE2dyRmyLdqA0qLQQTzdr6CbMylPUGVqLjPFSu4LVlOxAQsiBQutNuPJiFKmPmMsamIIteNItLnC0ND43NW4gAsukRQcACD41iBfAfkwGaltVlTARYigv8xOhHEq0nHtTFZdRlaYDf5vDjLkCmAMBRwfBVQ3CkBlyB7UBPgik1HpAtbTjOEKtPiTAhgFXRlFExloyKt-Cq76XggMCiX5pk5SU2WK56uavGvasrDNAauGtatpHmATQ3BvJaIwmfJWvBUy2CDKDKDNYZArxGCwLBsf0tRcUObBsNXgjsWlCJvyWiTmVcXivKAosGiJtmH+vLkOAuzGB+us5GITmXxLZFuFgRD-gzmSWmsQj6Wet6zGA+tSjeoVuFtozGA7P0JyjCXWDgjusqh0BVtMBkAKAOZ0KRll1Tt3Y6uiQvraTTDNyXaXyvYvbSTIIFFZARjrvwHtZRl7EK77ugCYOiTFDwgLu2uDDrsJuXtfGisUAStSuxSytlzruAmsLzxTEzx3tvaqIg73S6LYuwEYz7uBLJuNtcVduEo2wbSTs45wJzsmtiUTjsUWuo7j4Y5zFU6yantod9gYf6WwfGDjukCIde1zsXzTuoeqLwjLsnKkdjRiSgiOktJlCjvdvwcTuOsru0xNmfsBicdVsQhp3cCXZIfTvWi2j7vcDMfkc8QhjNySUocLvggADkFrtSwlWnynlrfW0l67w7In3HkrBYpAwcUclnM7M27190arN7+g1npD4ThhQgwgIlwQIldkTOok5oaYIlEyHA8IfHMkzHTnLnFVCuUX8nXHcHinsswS8XxbOOsX94WQ6XCnUXN55glz1zygtzIEmuxsHgJmJSRstn-R2l08smG8ssh07nkxtX9AjpuH2uFXhA2bNF2I+X6whX1AmgKWpXMcbgvbHs9XYXSkQHY09XC79Ol7zOJ1p8GOk3+nG8uXLgLnNmv8BsJCZXbgnXOagqP7LXJMk3MqdKMLWVQIIYWHK3oO7Xmx53lXG18jB3xglGcCjI3q23P8zAe3I3Jm43R3G1hCoiYNvxVtU4jHuMGdTnQPbgMOcCe8zhiPn3dMdCu6+nEPN3qkudC76PyPWPOP13LmCbfXNzg3xXVEsPJQ8PuPLmpLRQ3qlPA3Q3JX8go35bWPoPSXDPZPwMmjXPJmxPfbVKw1iKSCM3oPMqdOhhi3mVY+D3wHk3EvzCh6RGboG31qPzAWKSJAR3yrAnS4c3wnJZlX63XVG8sSn8CSYHmZqSDpy5orjFRvP5ooTZZvB0GXR3Vvr8NvokH88SkJeHHrzpxqKJh1GksUlA+AYiNsAwFQgw9XxvBvs3lXCbAXdUJnSf3MMfVUbRqfP5OOrv26avev2hw5LA1QbE5O4ZQeEEk5G4xvTZ9rHAr5G4JnNffSyZ7fY0Pfdfd2xvOOg-fWy5Y-ffAMk-w-P5EYM-E-tf5zRzR5DfRrHfK5B5xvVYng-f3A15rp8Zd5kLe-zfXAm-1bM5MF1fS-9fp-np+-S1m3tMge7vM5SBqhYIgf4Il79l5g6kzAWaIq1mSB8jycXampRkDwMB1AIgDgKQBzTgJcghAReJn014xBBUr-C7mgNzTNMZ+wGW-lfBX5TUjYj-TctVQvK0wQkpGAgQ0y+oOAIBTKUgNAI85wDOupAg8pZWaBIDg4M-ezAv0loIoWE27L3q9w6oUCmy3ApzpN24CSCsyr3AQczW5o1odesYXXhQMkH1dn+pOfoAoGq4gsKgTdLsGyAMF10YchgUkMb1naGAaCC7Ewb4DMHEgng+nJsrlRoLM9CgTwP1NoLuh6D5EdgrsOMh0FkRrB3XNjLEH8GUZzBqxYHLNDICvEKEEQowMYIIimDIhFgj3nZ0KIhDbBKQ+wWkKcFOt4erg7rp4JobVANo8Qm2IkIiGfRHBoQg0KUIaTeDdBmEGgocQeqBCfBMgVGF8isbbNqQkZboVQDkRtxAgd0P1kEJmb9CJgJnIYZQBGHNCJhd0KrmFU6FKdhOL6fTuULiH9AEhuQqUIZFyprCymjQxqD0IWFrClhLQ7omMJ4jtCPKx-eREKCGagh+Yp-XWBTFPJaZcBBA-Ab30IGMBV+p-A-hQPfAVAVsgwBfl8WBbot3hVAdgXyC-YcRrkDAfulxF4FOIF+3AD4QiL-721hhQhVEVQC4gcRsR8Ii-oMPGpQ8ZAdYWoOxXU40i9gdI9bu0ClikjWIVAcIAuyPLnl+OooV-hxC5HCcYRlGZ4ZSFeEsx2ROIikVsJQRLhBRoAN7CbznIfCGuk4eYYSLRFYUIwgo9wX2AjCqi9RoYZEZqOJFYUccuo4qr7BxyGirROkU8vz3BCMiOAnnLQX1lpY5RFhHxH8k2TfqnCX0eIlQH0Frh0xGA2fP9kj00jOBuA23dkdty+HERzwWooVC4jKgmikgRIziFhVjHkjwx0YuFmEP9Dxin+M5ZMf4gyiqRnRzIjYckX06JUPRsWS4WWK3iCJAxvAMjrX0NhQtORlg+Qr1nr4WjORgY9KKMJ0E4g2Q3QdIeSHPAwZ0o44zML4FVKgiOwy2L0EYHCCtpkiqbQwM-07F7ciQoMbsXrkTF5pugjIQcS9G8xPFGBOIDcRe3YrNBugfmWlqAAooAAJApgwAACC4AcAAUwABKFFSAAAHkKmyAIEP2W-wqUsx+fNMPfHTF0BcRxvdsU7Q-AGwjx1yNUSOL3HI9IxqID2AhP54jjOgjYPMUaBM7ETMgsEqMVsUjLvjPxP4v8YBJAlgSKJA4HCV9zwnwSCRSQSMiOMWF7iGAB4ygoRIshkS6A7kZoVH1zK19qJ+EjCUISQk-lmhtsHod6gMQfDms9SVjGoBMBeBQxck2TJpPMjqjrkuIo0dBLUCGStiCE3EZxhfHBcbYuQBwBtEZAAAGAcuAhqD2QW4GQRPs1xTQMBqAgwe7H5O8QuTtAQIRyeFNiGZ0uKeIK8TWminOTYpJnFdN5MYHr8xop-aKad0CnBTIyTZH-o6SbK5SApsUYKTJwNaN9sIgYwIOGkykOhUg1QbIH5JzT8IwpeUiqaaH6qqVfJHAaroMW6kpRyQ4CQITbHsidAy4xfEMA9kwGZ9DIVsYchlP75sC4gnU8qVVAKlPplR04b3pXCbLjSGAk0tgGXAt5dd6hidQIBNKmn6s+eO0lQdLWqJ-FiAN006a1ObDP8KgJAEQKkAxiB9gRS1CpGNOunHTbpl-WqqwkwHYpECdVVkdVKynzQYZE4QhOMmVSGRBB2AlYIBj+FD8gpgIqariPIGypEiVAlgLQLh40jCIdo1NkdJOllwMR0-TGlqCwD-hMZhkB7F7yFHQRSgdM26SWTlCdYXpb0suFmSm59hmgVM4wNVQYgMRUZoM+mUd2f4iigpYMKaDzD+Br9Rw51Ckd8KpB4CgQvAogaDkBlkC-kSCPAee1CYdVCEDgfipmPREEC+BNA-FoWLXBEyCxggjAWjBkq-hTEeASEIHNpR5oDZ75J2cbOA7uyKR1VQhJbJEghJFpnHe2VqK1kQQaZsQRmWJixGsz-wUEU8g9MeGDB7+nQImdajVSvhvp3aP6STCjmmyDyW5AOUHNeqaonRtI10WXMl42zNUIo1ORvyjkgirUO+FiHbJsoOysKhABcHeATEzkeR1ItuXTzliiQqxnnFkR0CyATzNGpIbkb3llE3iJ53MmSCrOeHqy74msjeTwCnlLVd5AoiwQuyPlqyEqp8x4IQDvDnyvhX9MAIHMhC7ymy+8xUe9k97yit5wnEebiBTk6i3BdonUaSCNErBQFY8hHpAsLHTALRMC9Of6AdH6dW5TI9uUPPSKpBHJnyW-FVzNp+5b8AZPyXbSdIVl2xsmRyZGWcL0Lly0UtovQt7E7s7pEYJhWqPpydBJpvgMZP8SvaFDnCXCtqfcICwHM6Y-UsaI5JjEWcNmPExCaAGLGbk9ZAgFGGNhkWMh6pq5fvs1JJj0LIMeaeBeWJZQTh4FKcnMRqKSCwL-QbwFGLQrNgQkZFl06YKooPKJSBIpilsa4gTbLyF5X1TYYULZTmcyAwcFhUvnGguL6Fdi+sZIE9GXCfFqYw4i+PokMB-xlkAADIFNwJ-VZIp5NzKSArJjkgiUoqUkzkUJ+MioOhMIkLtsJaEmHKUoUm8T9OlEvuH5I9jLl2lMirpcb3SWZKcl4ANiSBA4m9KWlNOZSWsN8GDADE-Ey4YJOEkTK3FDQO0n5MklrD4QRo+ZbcIhCK81lHADZbcNC7P8pFzS2ybrKmW3DVJVAdSduEcl+pWMUivWIQrkWmTFJFIiycUrHrnLylFIwMXfEmgDSXOznBRY9hsXKL5qzQyMipLmF3Lpgs8hpIZBUlotKMiQpdGqE4kF8ti1isyZ8qXSnCzlnS0FeEvBV4qHRWWKFccOVkzIbYIKlzgiNHHLD1FKi6xkCDnHp8SVNnCyKEpc5ZJA2YIz8FKFaA8IvigKl2mEss5cqegVK24WhVZUOBLSbvdLrKp0GBjRQe4h0EeKq6qcLxgsw9vyJ9l6qAVcfQINZMYBHM9xDmLiRznTTS8DFNSrVeJORmGhmmZ4oEIsqzCHjnV1Vc8CGxfhOZxJTKoSMVR2VjjugYkm1RJKkmS1SoOISNdiujWbL3BgnKNdwFOH+r6pIEINdCsIzsytqOZALB8GCBmkwplqtCR9IhmxA-aSixkA4vXDV4jF5s1hJqrPlKKXV1a08X4EZCercQh4wib6rzSZqnM0U5oaozURhrxhEa6-OspjXVU4106g5cQCOU6DSSfYUqX5PTUf1h1s0GRcGr3T5rB53+PPtFOCDmrrViaqroQudUFj6eJ6vyRergkc59OefcSY+pol6Jc+wgLFU+pJg3riIxas1UGvLU1L31qIQjFFDYA-qP1MGdJYxIAlATQJwy8kHBt-EIaWJeS1NYmq3V+o-o0G-CYRkITggMQQ7Q-m5HvWPA2FAG01aWoGkgauxTa11VSDw29LGQAy7Jbkr8jsahljIDdRv1OEsbSlhGluSRt3GpAKWvSExkbVKQrD3qMm2YXBFRRvApNKITrgG2ennSOkha7pAEWU1UIJu7SSMnIMIBabByNRCTcFBU3Jg1NsmwovJrI2zFFNCGFIFZq-6GaR+cuezdppYgBFLN+mmzWnwVxeazNvUsQKNEowgqZNHmkYMFpC3Kb8ALUvTSiAnKqrmVGQgmvWkk1G0ktpgSCj71S0KB9O8WlqbpvoCuby0dAcrZdN5UKLV4TmrLappy28pWZbGArYcTjUM4RAIlGreEsdLFbP13+SzQlpJh+bktjK6Fewos0uajao23LWqOCV8jYplQkPIYNmXbgetUqsVLNrBDbakKbWyCA0FOFDaSt+qRNNNuS3Xpztc2g7dIja2RoOt3nHlbSslWxNWILm4bdyy8nEAwtsyOBONuOHG9YVakkfAYkRUtbWwmQrIBtuDg1AftMOEFSjzsXQR4lcfRsbsodG2BcIMkFHYkvR1Xzc5qbF9DdqRC9591CmDrb5263Pa+VYab7aNE+0PCTA-ADPl12N4kZA+9LRlj8CpZ7Rn+bPIrvZj+0X991RYQhEDtuUg7QwYO0MIbCZ2zIABruYAWNCtFSc+2CIpHR4JzD78V6NMsmh6VdmFjKadvfEQIEDzpJRKOcrHaJH53U9DMoXSDtSHdEJK0dY4-OaGGfTJFmebW8nfwAhA26OetPJ7fmFGgvbHS-umnlKm5ZJi-4Z2kKE3UZAABOE4FHnYhN1g1644Gdxkbp11g1QUjaJ8jDQk10B9qjhR8A7VM1O5r4FwL8TclF6ig2e4OBpw04WQ0Are-lfREUGhgG9TnMvZLUKAN7c9tWcmtMqLx7wXAXkGgjLLUHhDU9OelSUPojY0U9uDewMejxe1vhR2-AVcGQF+h3xEmLK1oIyD+6+Bdu+3bnt2Lg4b7SoprI4CcubUekd9CVGJme1Uh3xQKd+Dqt3vBCeQvI6PFRQovdCb6BAACbegiFvUz649ddfQNl1q2tBjg+6TuREAYivgg1cfBPnTG-XCry9ggb9XurPVvrX1Ua2UlZ2ZnF6DAWCUgLvuf3nsNCTI2aJ7ixkQHa6wcb-T-q8jiScDyfEAz-t8gIGNesszvQ0C-1sHPI-+8JReFTEtQRDnkdvfXtn0NpLhyK6ZfCu3DS7pEMB8Jfc1MQK6gBK8VoOrvIPa6-Ui0UIdDuc7M4ndqO9PQGNTwFqoJ9WoQIYHsitZqgpUdqXmkP1Ahj9p+9HhfuLauH+AN+u-UxoEBHkYMZh-Q47vJwNjrDyRPdG9UKJhG1RCOfADRSzF9YORzAKSP+GS5jsQVOhmgHoanxy4kj6arXY1A-omHTlbAfhYIotK8wS1-2uVcbwK0+7bSfCuunUYdJB6tkdKhRexxqOdGmA-xblmvpBUadwx+gQsQAB0sA16rtPIjQMyBggk7InfvRYZyhoIze0SBQd33O8TgYx2rRMbwlTGwhsx+Yz9MoxLGVj3YucrwFXB7wegTZe46AAABeCzUALMaKCoqmA8fZYxR313rG3jJrX2NsfBC7GEq+x8HR+gcPvBnD04CYwsauN-GbjaDCTu5xEosARKygESp50mAacnQeAQ45ocROXHfjtsVE0vXRMz1yAmJ7E7idC5gnfIQAA')">function always_true(ignore, frame_stream) {
    return frame_stream;
}
put("always_true", "evaluate_query", always_true);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p18' class='permalink'></a><p>
      The selectors that define the syntax of <kbd>not</kbd>
      and
      
	<span style="color:green"><kbd>lisp-value</kbd></span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	</span>
      
      are given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.3' class='permalink'></a><h1>
    4.4.4.3&nbsp;&nbsp;&nbsp;Finding Assertions by Pattern Matching</h1></div>
    
    
    <div class='permalink'>
<a name='p19' class='permalink'></a><p>
      
      
      
	<span style="color:green"><kbd>Find-assertions</kbd>,
	</span>
	<span style="color:blue">
	  The function <kbd>find_assertions</kbd>,
	</span>
      
      called by
      
	<span style="color:green"><kbd>simple-query</kbd>
	</span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), takes as input a pattern
      and a frame. It returns a stream of frames, each extending the given one
      by a data-base match of the given pattern.  It uses
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) to get a stream of all the
      assertions in the data base that should be checked for a match against the
      pattern and the frame.  The reason for
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      here is that we can often apply simple tests that will eliminate many of
      the entries in the data base from the pool of candidates for a successful
      match. The system would still work if we eliminated
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      and simply checked a stream of all assertions in the data base, but
      the computation would be less efficient because we would need to make
      many more calls to the matcher.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (find-assertions pattern frame)
  (stream-flatmap (lambda (datum)
                    (check-an-assertion datum pattern frame))
                  (fetch-assertions pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNMdiHJgR0IOZSPIz1xhhFsmlFGgeL46QunqbpQDEWgmDExpiP9fcBBA4saPPCQOE0S9qjkMiWLY8S2zFawpNHWQNP7IEd1Aaz+IEI8UhCK87NklJelcXzjGQwYXiUhhwLo5R8OUCY53wViVMCNS6BM4TlKo7Sz3C0AGIA0QgNYxD2M4mRuMEXibOMoS31EwiGiU0h3ShGRGOYlK6gc5IrkiUQwN0nCfXCSJItAaLRFimE2vahpsqY3LTLM5J5MU5SavqRKNK009aOrfTDMawS5u8xoOK4qzSuk2z10barzgASHqOqGpqZK30SO7Jo6gaZE63qDOGmLWIm97GivfaUphRC3qMRbRCU+LAQezzLoEKL-oKpp-IWtYMdAQLkQEKwwlIOMZDYYV6gkp8MnSKiIP-dDMIgtyjA8OmMO4JmlUp6maZVELSEZ96PF50ZSA549RijSI2GUCCAFVCArQhKAAdxoJ1RldZEAFotaylKEMO0BsYp-HaEJuM4RwRL1ZdQs8pA59phY-wukS0N-Som3NepZ3abQtmDawRLfQ9x1nW9vLIOF0LA4LILHY4D0VXxwhgxkaKGHIVq-tGuKaop76M6zl6c7Gy3cZoJPBBVYMOCLlKZCrlPgzJ4wKdXJua8Q3oK9ATvU7r-7G+Trv4opq9+5b8v+hQyeOBVDhI3Yd965Lpe2DzkULKLTb05YTPs-X1jp8RIKmAADypWRV+9UumGUI-W6MAvPoTye94PkuRrGh+XQ37v7wzzPpffgQgOIcGImBfg4Eb73xUBSX+y8n6xmoL+SeIE54LyPh-Yut9H6GwpiVYc5VJ72VlApEBggcHZwEAgnGf9WLbkuBSRM1IsREyiMPauA9v7vlIQsOh+COThjABXWg9DowQBgPAJAqA0DyDQJoQBp9kQ7G6omOcMh6xsG4NQaByDCGdnwGwD0owtHRl0fxYYuhQAAB9bHbh2GCGu5idF6OsUYexjjrAejQu8QgrjLH6LsQ4po4o9iBPcaQGxnjQlHVOsQlykSrHRJPo+dRGtcq8OScEvQrgt6bBoNooJwxLZx1UdYKowZQxCG6vQMobBSCXhiO6FuY9t4dg4N9egjTdAADI+lLluD06JVMqKkBaVUspvdxTLxyR4-OHSdhVJqRwOp4FilRJloQZegce5AORLQCQJjKC5UoLgGwczNkpIMR01cV5rn6IAeUmgCdtLkGDIQDewx6Q12UBfbgzASyDFuYU0C9SILvM+d8-m+JGB-IoYCpgwLqAAJmdYKFXzoHzNGYssFyyWDVJ8OsnFMtMUwr2S86iHysXDF8Mc3xDhHkLIKe2e5Rl2WNWZdE8GaSULkugYPXOHAAVAtoIMHFoK2W3CvA8ixUTeXCPRcUYg4hbYSpGVKyyrTVkkpGTLNSgZ6oiFVfvb2CEQneJ1cSnq+rQAQVgSqtV5rdBeP2SomgJrnV2yOScm0vSVLtxlRy4Ne1MQ8rvL3L1Zq7a8JFefJFKKAmasDXc0NDgQbhsVfCZV4gTG0PjYm8V1AGm4qSIY61tTbXhplnmj0BbRXIuLYQSlvc60FrCAwxMtBS1PwpkyOQDLTkcHOZcjeyhOX+ojXyoK7aWCJ0oAICQvbU1gsnTITNvS7xUp2BJGkFImAwpXYRCtKybX1LtRBPd9AD0UrRQcmge7G1JuPeWtNeoN1GU1c85V358aFk0SmvF7YCVEqrRemt9q-3kAA7lZ9zaLVeLCZUwlurq2NINdQf9gxAI3pGHemdyJoOwa6cwfGTERivrbh09ZHBmC4FLcoJwhGilYZgzh3KxFpyxR+UBt9YLaP0cY6AHQLGUHVxI3OVhrophUefjRsCdHeLCbzNMh9nSlIzn4MQd8fHqP4pQ2BtZ6Gmn2s0zxnTrb1MJ3M9p3T4bmwnoUxC2zJAmAQThY0gkYnXM6f3fh6BPagPGH49Kj9m6eViZHAweg-nD3YpGY50LWxVyJfvR69YsW8PxeGEFhzfaOkRe8xyZVh7uCkD0r5+zXmCsGd2JKNLYm1HFnqtlo9aXV0gaMZKIr27lVejLBWOT8m6tnvA+BS9A3iAVisxlqbFYF1LuG+sNd6be0-vUzsAo3UKMaqzZ17VY3jMQYw-a7b5BdvUFm4+CuhaxV7YDU51b4Wv1ZvS4+fetd4ODDy495LNB10Rezcox8OwM4yABVqywhm0P1IBTLNwlKqWE1YYyCkxNCYCNM4-dpYKj5jPtbgao0gIKgEVB4CCROoQk8VJOGcmjMfwNGeT+hy8Qv1GVNYcHhNdAs4vlfeeFzIH0GxYz2h2OGFkIuJ076PPQADJl59cXUvmahBYaMNh6POFXh54DIGRgrzK71-rlHGu0ccJuB+3XYt9fGFXEbm3tvWf-xV5zSnxOBAQTUxl8VqdxikGoOadgMhz5Q7V9cc+yhjSgHlBtjLcYMwLcDFwEsIsJXaTT9QZQWmGB6UZznvSOOaqJXYXGJTpFRCh1NxYc3xMC9dLoRn0KgxlCO6d-XoRrYwWl6iOXuwHtqaE49wLch8pad0Brv7wPYILQ9775XuPj58BKXnqVc+X0KRh6cfC1OlvZA88Xyhd2Qe6QLlwguAiaxEriKou7XS5-qyidZdq5yAldByj2JzWg3vQdr44Nhc5DfMtVwRKBcECVcHnAhJZLnfeXSd-e1RHTmBcMpf3UAAAFQAAkABRDgAAQXAHACwIACU0DIAAB5AAOWQConlC6CpVwA2DLyb0LB7WrzxGd03i73bGX2mGTgviANYVdw8GPz4PPh8GYJ+wEI11dxCGPznFygkNQTEzkPsBTz5kkLD0wJwPwMIJIPIKoOUI2FXxEDEKEEUJ-CkIsDD2Pxn2D1EP-22kALYISDO1T2b2oC1lsLYCRwjAfXEUjEkSgDgEQGQHQAUXkBBxQiYG-gPVJQUkIAmFqy62Mw0SZXlRuXHBZhg0ySFViklXHE5zHXfG5Vd1V1ZkwnpT9VyN0yHTOQuR2Q3klX+QSNKM5h2GjXVRLRKMyIUhGidRjQlW5WaMSIKM6QFR+W6MaA8GiMAnGI2XSOgWGNaMKOIw43yKmN6MAlWOoE0SGPiJGMaEKLnTuybUGIWOsR6ITgrianYHrXnU7WXm7SaLbxSGON8SWxKKWNGKcW4zs3WIHE2Nyiq3TC0zczixhR7U+P2OWM6Xm3+PqGmL6LhL2P4AOIaEKOvSqACwmPOOiR6JmNykxNvWxRRJaO+IxV4B229nhPIW22XQJNnEo1u2+y6NxJcNRMNEmlo1HV4R7U+xOKTUhLZKWJhIlgbDiLlgViVlVjoAkGGBYHPlAB1kBMZPc0PyCjpJZHYM+yS2MGOmKmsEBXIDYHY0+GuNxGumSApjpNI2NNNOmHNNZADAYGDGK2MGhlhn1J2E2SHEXgfS1MtISlQXUmRX7xAgZNiNu3eOXQtONyd2MH51ARFQSIiGoCPReIcluweI3ieNjIzKBB1LjPjMCGZJTKjFpXAgtPmn02SL3WySBX71aMcjrP+ggWoCpHAgbIXzchCFfwEEOg9OWnODFMiFxBlnlkVhVjJHUwqz4CVN1jpMDndKVXU25IuV5IhwTVoCWLhn7WxE+wyGyAjMo0+yWP+S3PVORAJLbIkzWNJMSNx2SMYD9CiHpJiMo22J2VyiRXI1iKhI5KbMRJij-LYxIy41BPmLcRuS+KaEnHfOKNAo4y4Erw1xkwQqgv0SWJ-yiL6OBMSx3Jqi9OsDKwq18F+Lc1LU3DhhrK2D7MNkHO2CKmayyyxJywm3y2QXJg6WPPfGixYuJN43y0UA5PooUhhiHNWmDJxgiBYsaWqJAiPB4pxBkta1YvayEpEsVCIqU0KWqOUpi1Urkt4UDMaApj4sMvql4UNj8jEthhWhSApmvOBLFiBVUoEtIF+w8oSE0rkixhXIyzXI4CIExTmAaORTDwHQ4EPPtSgmCuBU+WkHgmUDCuKxzXU1oCYmpEoD9H6M6IsJKPim0uBJKM4q-CksSxAiq3BMC0lWspouhxFR0VIrwvyw5g-3sA5hCAKFATkEypHRyo6O9h7XMuqsEpq05KdwyuT2yuNQzG9UkPzOSBs3Ip0zXH4uxI8sovBjRihlsokocugNyupMmKaCyPqUGp9VqMlSbM5loL8rSoy2vORNxIIqvykujIwUYgW2jNqrep-H9Gahhkqr6pmqOpYMbkXQkB2vE1-DivFQSqbBAkCrhppTmEBrdPqpVNiOjPPIF1RNTIrKahym3MWvjJRoRu3LJ2LPjIAuwrPj6KJI2riI5MfK2AThbNzhkA5iUqfQTXu1ZIwusRFLpqvL6LmOZpaPikSl4XDPgpkDmOqIFObSaOhMNkxUqMZT0oVt9UZRVt4SwufxoCsv8sfGvIurOMFtMxZpqnVp1uHWyXNunyus+MVCUsdupDjRZICX-JaKLM0vtFET8IkRjCCJkVCPkRzEiKCmWQYBfOXVD1Zoat8VOVYACQTu3A8EVO5iyljuUiYQUgYElhDxlmTv8URQzBGGRnWB03ICmAECCCR17iuP9OzI2FGEppxuhMTvBXAggh9KKArg8zFlbu7WUE7v9p3WsH7qEHNK3xh3PUrMwzcV9MHvexQizLNRzPbpxDD0E2U1wCYzXqCijMhp3u7r3oYwPpEyPu5AfWTImAJqPVwF3sUyEyvtUxNpQnZu3j0u-A7JfohQ5tig83E3-qa2sCAZXlRm7tA1hxgX+hlkgeuxQkgZvI7L3lzjD3XWMsvJoG03-F9y+zLLTOxWtsNr1kagnt7hGuwTIa4JS1uCofU3wcoBXw9BjIYQIvyXoZoG+iPgNt6ESgmWmBIr0nxvLJhRAjuqpSuIYUHT9Upt5LD26VqMUf+lSvoIYQ1tOWGsl30G4cxtXCEXdRuy0Y3KLwMZG3bCvGMajqvMoSEHEZId41UZRhhjHuLBEcluAy2HGFTgmXkcZWbGzr8eDACZGkPFOvDylhYBfGwTtvcZzgJA8ZXw5PztCYCYSebAAB4-x+AwnOEImbrQBpjC7xSII0C0InxAwJBnTgxjFAskpKTyBpAQhScABqKm23ZxVODiZdLJ3QTpkBjprp-XHp4MPpjBzcHsguouipqphg5WOphp3LJp7gbqVp+1UATpjM8ZyZgZ7Z+1GWQ53ZnfCZ3AZdIp3B1CembgbRrJIeBJ161wXuVEtZNCZkOhlIXuKa5NVxpJ0qq0w6rsAZtvaYhI95p0Lm4slhwh++x+0hlo4p5IEIBJgnVLVR5F8hVcIpjM1FzKz9PaTF3aBwK5uqqGLSoqVEgnYRxq8rMR4hiswFwIEcwJ05ccwgXxIcGPXZaGmypaaioiKS-HKiGhuRny8yMFX5nELRrJmVpBIsyaI+ao3RpBPl5cvycht5umT5lokWneeG6kBJvSp5nOZ5gKZhiFnViHbxxUH5glrJtx3UyV5IkFzFsWcFiYSF5kF42FmueFiRxFxIrFr-Wo9F4Zd1oGDwB6HFucNR0QEN48aVkGYlih0luN6smyyltMal7O2l0RgN5x4ApoVl01yUrloMMK+c6laFaBJcnyPawVoM-6jgkCMVuZCV0yjpaV5VuVx+RV9qZV8xyXdVilzVnh-Y71m1xIspXwj1fwqMEO6REIuRBRbASe20k0igM0-0i0g7Bqo7ElMc+1I0rd2utUsTU9+0+eHRcYGFakvdp7MLWQGxogbdYOTOM9nd+dpGnqB4ElCCZcEBu3WIIECa4wAD60YDg3aoMDuMgDzqaD6JuD-9nqWmMCJD9ZFD14tD8JewEBvD0QRocDowAD02dZyQEB8jtQYj+DtDkc6DkcwEEjnuyCdhXvT0WgDzdjrgD0cReoFjgD9ppD4wYu0AKG6KxUzp2p0AQTtDrWET1ISPcTkEbIRU3WGTuTiFJKlIMTiT54RUqCcTowLT3u4ARTtMZT-TtT0AMATTujiFAAUgs709U9AEVMc+M9k4c97u5hE9c8k4Jyhp88ggAEJqZ-OrO3PFTwuqJgvUOIVsmXOovAvcmjB4ucPEv0hFOAuDPQBsmqIVOQuIJMhkvlBrP3PQBsh0vTPIJMhsvlBAhcubP6uavivQuLPKvXBngjBQvjBQ8HhEIP27Tt2HS76smMhFQB1lwfRP3r2xEhupKr3Ru-SPUR0PQAArCum-Kb7EXEaKhDub0bkB9dKsljwIZb891bzMYrIOJbo7q7w1VZqiElADvskBvs876m1jiCSAQgPiGDCQYDv7gHirL76mgDnj2ASAaDqHyAcH4syHikXvLApDnjrAhH+MgDiglgCgiznHigxN9qRblty7z4J71rVRyb+oAdTiZ4Ixlwsn6YCn4rYbr95n4Mo1FV6nlIWn6K078aUIB78nzn3LRCKlG0pn67wsLU5QT7dZMPG0heHiMYCQf1jbj4YsYgTOcraF9qKX409Ztih9t9gd5IeXsCToQIT+oKOqCopxwmsPRMooB39M9qbqqhKX27R10Zk3YXjn-6rngZs31wD3-ff36Xt0SgTb7b1veMqXinlVzH4wfNpqhlh+wN6xFAjYLKFpYMf8D0QCV36BSqtsO54vn5cXudm74OqRYI2RTADAOx1jYYF0MgDgLTegN0LEBgIbWBOe3YExMxbB-eXBfKIQoZF7RqK8fv0SIZjgEZvZi5vfQl9Nz+ESLcDnSfl9oyWfsTbRLEMih4yu35VOZ1qxrYFgYgYgYxOwWIuQOX6-tz8RTp+W6-gnCCUnCnUnNp45zpq-4gMnwaCf84UmcM-jfUkiEBO0SkU-sGDl4ulKa-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-QuoKjPFeEeeQMNZRaAXBkpzVhAbZXkHZUXc-QukYNeoQ8JeEh6gIb6OYSjxudPV2U+qD6ttAVy7K91KlPquYC5LXZpq6hX9V-BsEQI34AhcrU0VrBtK1q8YEMuZagFqwIEZ1XpCcJ-LBJHq8wOmsLW+r0gLxANcHiDX2p3JYa9gBGtcAhxo1o6xZfGpD7JT9JKa6KmmsFR+SRV0NImZq11UakPxhahsIivcJmCQ1A-FBbaqNmq5rxuSs1bGsIBlCr15hG9UivIUPqQ1T6o9cgnzWGrb1RatfO+sLDQ1rYogT8bepvzoFsCeBAgsQVIKUEelaweJToWg36E0lSakNcuueCnIQNSKjGhyvtToREFvcK9cIqKnxQv1haheMWqKlaKpKmGtpSBE6XJLUlhsBjd0pAiLrb40eWjdUuhoUwII+G5kTsALbfgNu-pAFOf2rnaouwYm8hSNWE0zxIR4moNB+mk1iZXKN5ETYiCJEXlu68ki8uAzpakVTYGmzMApvmGSgVNtAjLCNSM3ybpNJCxhnpss2Pg1NNmzTaZp01GQLNb4oKPxGDAHohAMwuzTQpWmOad1eCwgBt0oAFS5Nmm4VYCuVXEU0+6m-0jFrICRNyEMqvIOPmE1RaNFyKeqKls2qFbkmjuVlZ8P0qxZCt5iCLTPBK2Qx4ymW6UM8mnWQpBAwzMrdIpAY5aVQ4vKNFYEi0FTXNaWuLbKpXEGa9IQ2mXpNvS0biPFQ4lUImHeCfBYVTMDraSus39b5N02lwo1tJivRkg0eIzblrWrGpNtbm7bftv1y7a7wLWnYTLDW1A8Fg-W3Lb1vUy+bYihZDgpSqBVQrTl2IJmCK0yBRyGghHCHF4pmHvbK6AqnwSVu+7JBQlGwafBEtgXOB6tloifH7kR3hKBQccmOSEHlCXaXmAK2VZbBa17D2t4Oz4SA0h3HwkFF8DMH6C7FQju6SlUcbS3z7R8i+jLGFP8M16Rjox2ST7ddrEgUxgVFIUFY0EB3bh6dN-SjLzCqBgTYiGZRoRQI4lzK0wEwB+Kp0WqstNdF6+MnuInFq5-QGcath0yjkxzXAEEVMTiN4SnDHBCOgPNjotBxzDBBO7cNdtJ1RrrdfOtMQLv+gU7gKIwAVSAxt3pjqi4vEvAqWEAEwaOVEAAJxdA+tZsNQCfjkC3SMs1HSQCfnniJgygyVZ6XyJEFlA7V7pYSUVBoDZ1jJ4k4wFnuXT9D+hMsNAM3snVl6BWVc1wHXpX70BM2KQOvTnuyKRARlmaFwjQF1jMZ1JnM2vbHuz0jLB9D-aphyLr3XMWFkgdhXkRpQGqRtQoburtq9291V9bCyoBwvu2U7OtcvUQKwvX207kctoptNDpVAhwooowXxOKjB6SyW2U4ECJqPZGci7RG+NwcVCgF+hMBHQXZbWqKhTAGAr+wHqAHkEQRxUfjfmMyy70QQdYusQMSyM+EvAQ4RgdAwbH11d7ph5WqcLCCEnt7sY+pM8QHkvFcAPxcwUg8yyI3WSD1j619T+p+qMGKJ+pKAzAYqxwHTRiButjXqMCoH0DypcwgGHoOaRxDOsAg0pI0lNjFQYh2Q1gekWZZ+84iWQ3IcEn96vCcK2qFCol2ZlwVWQF4sQZ8Wk15dRqcCUyrV0a6td0VYNr-Ie2zD8Qk+LHWntjyKpt1SCkaoGFoDKwzEj+v0FSs-3f6xFbI7UX-ohEoCgDuBoZmAerKiiGEYG1w1OHcOY6ndXhvYNWQrRdgj4M29HZwMoDVMOENcJnCwEZg3ReyFwh-YH0V2UYMjUgwoy4XTiOHngwbZkXxCw1HqalqKo5egN+0gr-tDkcXMYkPI24E802LgNSEfXjHpYxu3FY8oB2MEOOIa-o8sfeXCJAx0O-ocwRkBw7QAAAHSwBnreASZGg7gAbB0gCd4ncruDEmiN77UvB1hheywC7GZh+xr8Ycbh2nHzjZ088YvBuMb5rg+AKKC4UXDfRwToAAAF6C8TjhwMPkCeuMeD2j9xuE48aBjPGHUL+t44HDeh4AVKsxwI2Yn2MXGigVxkE1Z3qHMLhmHoYZsQGGae4YQ-QxCA6E+PlbyTgJqk2iZpM-cqjJdRk8ydOE4mDYQAA')">function find_assertions(pattern, frame) {
    return stream_flatmap(
              datum =>
                 check_an_assertion(datum, pattern, frame),
              fetch_assertions(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p20' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Check-an-assertion</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>check_an_assertion</kbd>
	</span>
      
      takes as arguments a pattern, a data object (assertion), and a frame and
      returns either a one-element stream containing the extended frame or
      
	<span style="color:green"><kbd>the-empty-stream</kbd>
	</span>
	<span style="color:blue"><kbd>null</kbd>
	</span>
      
      if the match fails.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (check-an-assertion assertion query-pat query-frame)
  (let ((match-result
         (pattern-match query-pat assertion query-frame)))
    (if (eq? match-result 'failed)
        the-empty-stream
        (singleton-stream match-result))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06Lne8wUbR4QGCFBhKVBYg6DBGHgeEKhafxwtiPPT7GU+tnGDhqngbpvyRvfCo1SlT6-QDFpUe5wY+ax1jBbxv6+UU5oOK0JIGBuTjVFu7brpx22Tu4AXKCFo36ekEHEaNPHFAgGB4CQVA0DxNBiQZ5N3VSEFzc6fRcgUQh6G5yhwf25JUnSBQWDIePFCTmoefCUAAB8S8U0UPl6zq88T5Oi5iMuK9SFg5I4IRa4LlPwibl9M4yLIE67hvYl7-0lc-KUh-r1PXvOtFqFjxtps7mfnkKALiZUfOZ9et7I9FZgxAkVnZzBD4FFd9k+nuHbCb2gTRVJi-U9AAAyN-en6QYX-CYSgUoDfI+e955RzSEbVehdX7EUVqkI+J8GBn0gSnCydAjaFQRozFwhhfDZ3wI2fAMhwH-WQQ3GBW9DoRmnlA-kEVQHNQYOaagYg6D-R5kYSg1cxDcBRoQQIbhnBpwEkg8ETCWFsK0twKuy0eHIz4cQAR9B6agNFGI1hKdSHQM3unMB8DaiINBJoiyaiJEYP3ixExKcGA4LwYPHeND74jUoXWIY399BUPsd3SYyjvYuEsTze2BYGC8P4YYZwmihEHTcRGDxdcaG0IjixUUFRlBsAmtlOgHDL6RIzrfBBSCX4WRLEIECKS0mVXoPCUu5c+55P0QUygl8LK6xamU9JqIqlN0wZHNpFTGA2NbmBRpWjYhOOiS45xD5hneJ8Vg1iJhykZMCS1EJCiwn0CySMomOjJlZEwtMhJ5i3KijSdnAWwS5GhPCb-QmsC6mn0MYU0SpyWDnNWYougZjQEvPOYuYW5tDCbKGiNG42IBn4IYIQ4huNdlAoSd8v6rzyCtXwMIXwQLbkUPGbafZ2TDkqNSIFaxzAtASIxX+O5eiHlzieeCIlHwqDEFMbMyORL3nrMyTcilWKRi4tTh7AlHN6BsVRHHLl2jH5wPIMfepjzhlFOFYvZwPx2XOE6TU8eUqZXUvPvK0SbwRXKsbAy0lKcvm+O3ktUVjZ5FsW5FoclywRpnwYIEGQmzuB4hZSxA1Sr6A-EpG0As7DxWjK3i6t1HrQCkjnha311rGFsHNmgmgOYAahu2cI0ErrKhRp0AKi1lcg3c2UOm6ZmKdGH2lfkuVTTRLGHaCW4g5q5kMIbcG0tmywgVqzXOcE7am3gikcMsIsa5kDscC1E1TKU6Aq5bEJ1PLBh8vhRaqopAPjEsZWSl+3buU7Lcbu71bl+EgWnRIudI7gVbz5aO2agqmWaFxBOztR6e1ulFOkTIXbj3mBOesM9JKZ0hqve+3JX69kuKPQWuZop2AeC8I6wolLq2yppXq8E8HlBeBbZHLDXgUVoqQ2Gg9vKoMHJAYW1IGhCAgntdc8t+7JX3IMehutojCC0eoPRypv6XDzwufIj5xGH5RLI1MvFY7I4TRWqqo0ImxnicgxJ-lMGD6pB6voXhOTdGoZ1VpuRFlihmKOeYM2ZBGBWy4hxZ2Bs6aOK3nDFSQJwQyDrLUcEoAQylFc+54Q2lpjGXaHHGz+tX7ecNv9BdKxmiik0xxcIEXmbazZkQzmHwNGhZdm7MGIZYupFJgl9+n8n5LhdurEok5KDJstlQLiEYEtoR0kUCM5WmvNdiOZi2VmbaHUa4ZDr0xDptYG4NoodMKuxGaL5vYHnKPjuWhwSgOUq79AUPoZGOnSbI24E8QEAA+UAEGPZ4HnoYX2SgoBwEQMgdAoc8SJKRihRlRiWh0BzNeyt0dF4uTsXE7u0lSgx1+8siJ0l8vQrB-6IHckJLWNwYM0H4KCFELQSQ6h3ceHvcm6sMBvSMlQ4NKUYga4GD49RK97mH3wdgP8WCDHRdActFJ3Tyn2OaeinjUawnGsScBsVdatn1P-QQ5+ciuTmSGepyZww+eM5EW-PSf9AFET2tjeBAr5FrciNS+sFj4XBoIcvoBrrpnfPjXFsnUYS3pat2mp5oC3X+ucdTbAfhnn0xiek-d1L53HPCXEzt8B+nnjGfQ+Zz8elQGyW+7ewbmLtPON0YJ6b8PNG2DovNx0B1AmJeq7j3r0bhQXVQumoCmTgmrnyadwXl3YYWikFMq9qyNk7KOWpL4Hm5BkYeS8lnxlJnQHp-RcibgMm93LFfE-XqCglVpp+r4-QyJfwKhGsPhgfDqCz9TS1OXo-BCkDEHe2I+FCLumFG+VI09ygL6wUvhwK+Gjnn4RkMq-ec++MIyPh-av1exGSyIMEu9nBPQGSkXh1gJn8kbCrsvr-n-kUOPnAfAYmJ-lTiAeouwsvs+MhlvKKESivC-kmnXpVvgVREKjzBooQdLhOM0J2BqMsKfieAqCZMEPfnQBZNZLZA5PxhapQL4CQL3oIEnr4IVCfrNKZgvJuqXlRICrwoYM7vfKJi4KCvoDJgdhHuuC9jJs7rIoQHenQhaubuQYav6n9sPFfFTjpofKQPwKoJns9g6lzqYRvoEHai9jXpYcQbpBodnibgLkauQROiHv9kXH7qGMZA4X4VagEZ0Mmq5GmvnpYfNpHEYcbl2gocRFPqkI+nwdYjbmWpfBMIoSRgJHQX5Iwf8FkYggBkHjulertCsCNO-gDOupuuehokepwEkeSBUcUTEOeK0YBpfMsoyIZM0UvnBG0dHh0Vel0djn5IKBfngYHivIMcSsMdNI-qGCNGsS-MsgsSfseERIZE0aTmkeAaerUbOj+nMR9gcXhD0eId8tmlCg4GolKGjgojpioQwOoVCG8QIiwrUHCNwJ8foY9uYIYNyIwPgPwGTgsu0s4I7qHlsjEFUWkbrg0bEOeLuoyMblcQ7hEvcUoWAjkc+vkT+kXqUBBkXmsJxtrEYNCZCnCeTkiRMRuoBtujMYUZuOAUBEybCaUgiX0oCnyaGG2hSZce0YSdBtgYxEcX0SScksKSniiV4d4UgqyStgjvghEuqc0BBuUU8YYd7lyIhrHpYffGLKir4BLGaV-kSeSOeHuOdkCFCUIMyUKakoifJtrr4IeP0cVGUGgoCeqK6cCC8UQgCWEkCYMC6QGSSeMX6bIizEATmOgWSi6UgcgX2NGcwmGdwGKTmbXskSxEYVHlyewhadjg5jogwqQQ7EXuMWypcmsuEh4djmpmWSzqGTHiiRkU6UGdNIyOMXTsspXm2Rsh2XceSGovDrYqDmOcjvntNM7grFvNNKWU9j8FqZLv2QXvfHOcjqDrufOYMqriGOMaedNBOcJtOYXisN0RFKdr4udnIH7FdoHLdiHJYBCbkpwrYeiptrWcxq3Pgv0JksBYpKUD3v-OyDYf8CbA3k3jtqJGBe3C4LwiYFoMIAECYMQNQGmsII0IPharLovlAcrmQPIaAMmQeeQjoiItfoAfPEOuAZRZINRdwHRU+RIWAsxazHvlYVqjWnODIAqnXDfqxXxl7FghvkrpxRukvjphGrmuJaAF6lJixAJn6cpSBW6Kpe6upTGvemuqgcAfIBgWCDICpdmpGupfmludcOTDmunKDm8GjKiSSSIg2QWEOpap5TJcsW5SvJsfpf+XpqxrzFRBZL5c2jJXFeQZ5eNDjDprCpsV2UjI4F8GEp1GmRmRopaQxQJBGLxaAmsTLEVRKmJoMGVYYdlfgMYK1CPsLBkRvDgToqTHDGubNOeIAisonLkWgZZRIoyIaX+YJC5TLMjjRWXltkuDNdjAWOCeVcLGefgoCvZhEO1SUTVUvsLDJXDMsptQdZEDtZmm6BGPLMaXMgAazMNaAR0TqbqNjDRSwOsCsjWcVQZdzGIIAkYM9d2nBRwJ1P9WuEsKGKUKTLLsLADbYrNZ0GENxR9WmV4c0CDX9TbDNeEAADzAi-Vg2I3qneEsHTjggAAqckk1dAtpMmvAF61IWIXGtQ02oAAA1F5mNtIp1EKOitjezaJBZALUWTENzWILzSlRMANsZI3qwRTVTTIMQPZAfmIPTbOozUntQCzaJMLVzZwstBLfzRzf5Z5hzSLdSPrTzTIOiuDfihavlIQOtcvDdMjgOUiPVTmIgnJNiFVSsKAu6ZyoDa9ViS6Lgf3N+tjUWcTu9l7UQPoObTECWjlVdA9VZVpp2UWc0Mjs5l-CMJHWNrMG4rbebVndCe4lBoDXrveFkLbQmfGCGK+FTjnf1cEoNbiKnRIiHUUKTXDYMhwXQK3OUEdugnXYcQREwX2AMcLIyBVbDd0X2CNAHftUbE7Sde7NmdBEdWXsvWDKPQ8fXR1QJFTrHT7fMTddJqGU7Ujs9djG7SgbdTHeiKfR9oqf7WXYtQNLqF3YfR+uHWBJXeAdHZ7U-fHYNknY1SnRZY9ewp4eAVnc9TnYdPnTpKUKRIdODdjMTUpEvZhJXdaLaLXcSdqA3Rfk3XBS3WSflSNd3IqYUD3a7aJNZIPSIMPVFp5EyPmcykQwqcRCsFPUbDPZMSBJVWfQvVvEvUdTNTvXyBvduFvTIdI3KQfWIT-ZhY-d7enTOc+bIK+Rdv7NdkHHdhgBNdPlvnPrvovsvmBrptqlFWwRZJvtvoRfFVpW5I4+Y2zInBwBIgTlY0xntVdQ-h7OeO4zvrfsmOGUgs6CInMP5bEHMBOA+Q0CIhyHEzEByIk3ASIghGk6NKQJk9E4YmJKCLk2fAU9MCIp+gPP5VU5kP6Ek0UCIsFLRuQCIc7OxGkraQaA08XkU6TWk6TX2D07ECIlbKoIwiwIYEOmMxM+disMMzECImzbk7EBttwP6eoT3hzV0wsxGX2u5CszEGs6ABswCIdj3l5Ds1k0UyCdMMc6c+c6AJCCczELsyIsAIcwYKhQ86AD3mAFc4U32gAKSfP3N-yPNAsvOgBvNFP-wrNgubM53+nXN9oACEwk8L3z4LvzoA6LQIyLgLYI4IONoLWLiLeNMQBLFTRTONAIhzCLZzOLtLlLMLfa+2pL6z2LPeh2LLKLRL+2dL3ARQDLjzArvLhLEIqLnzOLhQjLMQqLsQm2zoToITM+HjAmM1gIIYKhcw3AoTzj4TqId6qrZjYTAm+ALAAAVtha6dqxoGweodk2qzvv5bClgbs0UPq-Pmdk6EVO8CVM6wa8Ug7oyEgiInQf5XQR68gSIpAHQGqIvG0zEHGwm3wdG-AaM1QOM7AJAGkzMzm+m3-pm4AgwAAKK5MzOluFvq4iIABy5Atbnz9btbWDzWKrQZXrLUwbZ6gNWrKwKhwojLh0Nlergb8+3bxrHbY7XbxUJSx1fb0wA76hbrm4PA07gRzADuvrQ+whLhprBre+DgY+h+Z8Om6+304opAGeV0lr5AeYUJvUmgoD0EnbnjtGwevjP+4BMmp7RwRQ59LEwEWIVD0DYIOmd1IHadReNGDJr7GrQdnNY2r73bq91bsQMH6McHn+Fr1rpgNFCdyHs7ASc1sjhQFDbdkHnde8S218LUYgXw71jYHdKceJ-EjtzH7CvrL5WCb58gl2AcN2wcmAE1HlFApgDAjaHwVUNwpAiGLSwlaQ9NOc046VE0mMjoLuhdSm5dBDanT4coxtDAptFtXCEtqnQM2ELuzQ5n6nq6cyCcNweRUBOFHCXCE+qjggygyg9NGQL2RgY+Xn2L52HNqhXnOd4InmPmnm02QtHN5AgXpH-oEXw6bnMlDgfyxgrnMiKtNFFe6XE0xgzw-41V2CltYgAt4IEIAtDnyKxgznUoKheXdAGXuM4+Bnok1g4Irj5g+XG6LU5s62MmCnEGqhh+mnokEGAWRkYCSCQ3xW0kl+in36EYQ3PcJcudy6Liq3uLqkxm43riIwc3cF4Ixm0FAVYnIEknsUMniGQ3SFi36e3GBOc3H8A2n6ECuerZwmq3XhPmVXHNvXTVA3B3gw4+o3O07XA2nmxnx5UKnxbByYt5HK4PkPE40PAtgP-XZA62sKYPP34QbNUPnXSFmPeUJTx73CwZLXTA2PkweWYCpMd3GspP4IOT3ASCh0Q3+DWQq33AmPNPpAPE9PlcZXKPEW4IAA5MZ2ocbVL-T2LRLUN91yqM1wVy1I2qQOihrxs99eBgPNxEyspyD-oNr2hxOCIkIP5hZMECbXZJIqJOaGmCbTYRwPCHT8z6r318b6b9zybwWJr1XfzwN1Z1T2r97-78i9XX72QJH-z6b05S4Le-e8oI+yBDeXwh4GsgZoQAp49zxpktphFhb5rfn-5Z90Jsj9polzECoUn+sCn9QJoOORn6Wm4BT7IXIt4sL5nBAoXxrCIsZlIs9ZCqjr353yH7wgn6ANr-Dl3sjC4Zn24Nn7tFUXnwTtpliQMZ-tnUCCGLD6PyQuX1XgX+Pwcaq4v8YKzOPoyCoTPzgnPwv637l4fh3zn6PTsdvwg8dzkxFqTH1vIE-30RtduAsKFvmsiAEv8u+CeeDrYnC5nwpuRQKGgAPAFX8X+9PGAYMnC518H2jfNPlRAQGVYuqn-WxNX0mrYhsBDfJvun2QFt8cuy-d3oFjyYI9YoDDMAW4AgFH4EyvRKovDw37FFnURTQfh3gXJw8x+b-cojw1XxbxJ+jxAwnMj4IkBl+4VBnkuD76e4Nuy-enj3V4T90uC7eCXOyH4IuNTK9negJ5Vf4KdSYagmSKVU75aDZa04HQYw1bzcFNYFfNyB5VnSkU5kjvTSFVGWytQWoAwCoLVU77KCFBAMbTOF18FaRleggYQFf3YF+CcoulKIbrw0GeDCSG-KfupE3Y0AXsTg7qsGWYasweoDAdQCIA4CkBdooCXIIQEzxhDeGsQKoppj4FNCn8QZcWECEljfRKqhmSLDNDEZfYxQH4FWIMDVhR1ihsJQAmUIqHCAqh2fHLMbA6zNA6h6KSWCvDVh715S49SoksQKyqDx+tDXaiTCXBrDjeG-bgOcNsFv9thvRdoUUCaJyIiGjxDzucO0xT9Vsf0RhPSUAIVBOmXYNkP8Nab6JDApIZQbUzAheoIswI3wKCOJBPB6ef-Q9F6lIF7ZGWXwhQD8JIB-CCIIIn+JwjWxkRDAqIhOmNlhHwi7OB8Cgle36Dz4KRP8IEXiLhGswwRw3fXiSPG4MjrECIkPsiLzqkjoI6Iw7NUHNjtx6RzIqUNyLBFPBSB-oYUSZyJGYQvUdtcdISO+EyA0kjSe1vvnc4nCQYWotGMSkCB-RXORIgdke2pBUjtKho7mMaLWxmi-o7IiOuqKF4awaSCeUUWQHFGtJJRgwQyEg1dHVsFRmoqgEaMxGOisR+yE0TxFVGRxeATVdqCjH0BFZ0hIvLhMbwSyZVzA6Ue0aaO6Bshug4I0WEGXDLpQcQhYvwCZQ84TwxhRgcINSQHigAs6OQj8PPyJCEIUxVAXaOeG6CMg+s3Y9csMM0zdAGxokYzM2NADdBqOkgUAOTQAASpbBgAAEFwA4AUtgACVyakAAAPK1tkAQIcanxUVrWxGESQo1l2OqwWYlhOmBMS1CTHIxLxyacbrmIfFADzxbJLrHQBD65jOgjYGIUiTiG-jMgZ4jSBeJ0wLilxq49cVuN3H7igJA4N8YkLAmfiwxFmHTLmIjEPiGAHY91F+KrqiIPx9AdyJiO8GRw1QyEtMKhKvFJAbxygzET9C1EqFRsLsemgdj5JqATABGD0gBI2SsTzIVWZNDeOr4ni1AoEqifJi-E3iPYNHF3jOwcDmxGQAABhOB8Uag9kV1BkCCEl8lk1AQYA9C0lCoFJ2gIEHJKMk0iBaeIIcQJDMm5BjJpAOIQwnUnXQLOAMFpAEEMlr9Yoek+amNBO7+VSYZkryVVD0m+95OcYliIEE+IuT1OqQaoNkC0k9igyQUnSd5NNBHYlamkjgNiOTxpSUo5IUBISJaj2ROgiGNISGDuStCwhhkUoE5MyktJFhcQTyalJCm+hDIEOKwXYL7BQ0lwRUhgCVLYCIZDolwosn1IGmIYbhUA8Im4KNIecxppUhKc2Cn4VAcRoQSFCf0ICURXJdE4iIVMCDFSFpIsEhu2BclaYti48UhsFhrp6dgYjoY4aHR0QAViAxJeMJIPQhiwJYx0PKr0Lno3iXpfEYYXQU2itsNYbmQiGSPDD7T+pC0jYTdBYBKMtQWAf8PcJOJh15KY0QsIA3grEADpg0i4XKDLjYzcZE0lxI6DgYgxEaz0kMAxAYiPQoZ405flPwg7swk4AiDaO5M-o7TBy-rWil9PK7dC+ZUsH6LDQ5nXVFiBgcWHi2DLKwvQXdEaA4F5q1ZrYjsPKpsL5lV0yRRQNcH9MQ54QFSLQiaClV-Dq48AkIM2SGDFh8zPpd0L6NLBFmdA-pFUreJLJEh0EapwZRWT1llhYxNZMQWGQ7DViQR-wUEOmO1M1gsxvZuMbWQMK4H6yL8K07WKkA2TRzRZB1deKbPNmNEt4M2DgP5gkG7DFSTwiORzOjliyxCcg+MXQE9l1YbYhABcHeC2olcBh4XNzLNn8zi9W5ucgga7iDQhZ6543OGN31Ol1zEsvOLWIARZmNUwkG0OuXqwbkHUh58WcEUlnHmsxJ5bMx4IQDvCzyY5MQDOZCCHmFYvUxWFQWNC3njcFZ1tJWfVhcQjy5RDQBrKSHvlFBL5uIL2X1kFHFkGgfWJ+b7INATZ6eOcubAB2OSEotJHCSsl5RQy2MGkkC2KlpNww+p6AqSBMeEjklpVsU+wRKQlUMm6V0FEIv+jp2UxYLLORfIpp0BKm+A4ECFeEPT1hQRh0FEUtyOvmRRyTFpuMGflJOn4R9hZ7sK0kGVSQQUsp8UC8NFJaRxTMk6CvyOeFfk5oaQSaUYhOFkVezOFaE2ib7LeAoLkegij0ugufnTAZ+Zci6ir0VlUEW5fmbuTEEbGZAtBkRCThH3YUOkdFjAPReAVyr0dJAK2V0foFkVUFDkNHSCQwA3GWQAAMqWwPFHYB4qk8qpIDElyTAUXCxuR5zvFSwKgj4-CRFlfFtj9E8Sp8ehPp7ATGwuSmSoUuEWAoIJi4oJaEvCUISQISEspXkqSA6YGJGHf0duEwneLsJuExpd+P0UNA6UWkkia6PhDV8OlMYiEEIIGUcAhlMYt3lP3Xy5LElp1dIQxNDHajsQo2OSeoT5IsLhF7CvVmovYIxyRJsS8ZossOXSTPhW+d9vYpj7R9Ne8lGiUcskZBj6JroxiVQGYl+1p6jLQyC0t+GswGRz7ORu1HEnJD3g9y3EEsvXrgEFRCyrSYClUVPLpJSBF5TGOzGYU7F2vSFUsLzE8R+FPM1oMiEZDliIhkKgic0VuWa9RC+o2sV6BN7L4zuYSLxurwcXa9cVmItGtP2RB5wKChJH3gMLxUYqwED4h0JeIU5i1Mx3YtbmAk0wDj+Unw5bIEDBXeTGAD41QkRO-H3wqioqjaLxO-Fd1exfgRkF0qzCdj9V2w88N50bxWJ9VeKhds1jGUOjugxiTVTMrWw0qGgpUHEK6pQnETSJpHRnpqt2zYtrVUUkCHas5WxyC5xEc4N0kA5KqWoZk76OqvwUlieZX4xkJovXDI8pF5IHVW2LFX4TDVQZPsUCFNW4hOx+E4klasSDhrhF9qgECLSdX5jtgokOSe6r+ierPW-AH1e2sGUBrDIgUrSSGvUJhqrEZkqNfnLPyxqQF5gYIQ2uCAqrwkFqghXstXURYF1bCi1fTwXX6qNVfq78XEL3WaqD1EkrVcRA+DBAghmqoWeqotXSKgy+CSieCvDKBLoJm47cXuPAB+R31a4z9XBIiVBrD1o6xls+uXVGgEyI0cEBiC64mDpMCQvZWmvJBXrlVyatVW2PYUJkoobAVmPEsZCBLglYSn9eSEI3VKgNS4OSaBsOzgb4lUG7ObBpyHZEKObwS1ovjkLOisgHGuIWsVY3zRs+eo4xRoO43wbIpCiECHxpRCv9BNJJG4StSoyt0n0ZOFIGxrvwca11I3ETfGrchrFgoqm0wAJowUjAtNfFS4npvmjSadMcmmSjUDECMpWY2K9TekOGlyJwSfFVjfgHimSa8OHK15WmOY1KbvNFOILRDXUFoq1s9PDzfFMuIhbeV+mygEjTFKUrsVvG+gPFri0WbC8uEdXOFqdEexvVoiEQCbWS0R9-KUWo9RNT02ebMk5mqTb5vRVrrKGtW5MPoGa0JbxuHoxgV6NpF3tfRAItpROBK13LdNKm-jW1qRqCrOVkEBoAqKq3RbxNymwwPFsBTjastg2XLbGNegFabeFkIbdSvaZLbqt27C1LZq0Iv96ta2Zpe8rWVfKJwTmM5kjINCQitMWKhxadpwpUr0UwAv+UUHcVLYvF4yibLYGy2IDqQi2Txf0m8Whzg5k4iDNNvGxrVOVW23teCDt7FbXtMffyu9pmh8UUYJgfgJEMaFNzxiTgluvRwtYqooGVlYVRQNT6Llztk2vzfUEXrXamJ9rRSPdv2yKQ8d3nB1LkJKR9QHU5tTnpAKWF9KDAOYWmOCzJE91JdusnMi3j0GnCBAPUQQqbSRkw7Cg4IWnbgOWRu9fuYOzqP9sh2A6F500uHRzsR1BjkdRLHXVQPwG7aMd+20AHbrwGpVVJ54G4PP2aadNGQAAThOCgIfdrTPFfWPvhB6OmIehiT9mnAfBQSXdHgRyP5SKluBF+FwHBSUnf1Ygwe9FBLwl4WQ0Ahe7ta9JjWGQc9xvD4AjIaA568VbMc2JGOJGpxQSHkDSncNeHZ7I9z6d5THv86TVvdne4VRQtabUKCwb4FhNeou1OjlBG2m3RCCH1UKmANCx3fmEZSfb-K8+kfTjtARsDUg2K6oKVFXBkBW4YSNNgSqpCtBGQd-TvMwHn476uxXvfffwAq5HA5l+ai-GmlIDH7E2O3FzGEhBpaQu65e8EJ5C8g77uFMfd0M1yf294DmCIeXYUHL1x82VxwHYTOoYivg7VAQnOIwgSFShWg50hAohrMlLr91J6w9Q6XwPbDXwH+r-XwR-31pZsPMKpA8IQOd6IQIB9hvqviEhCYDIB3yKgZPA0y3p0wIAxwfYba8Lw8ihLbwb4PbCa9EYv5e8tu1yMflXOwbEgbuWaz+dPMQXQDFaBi6JdUu9Qh9jN6J0ndWvKRODuWwm6HRx2bxEaQrnaUhGjCd4PZFziP6vK54C-UCCv0P879LXN8FAYEDG0X9cpfhv9HDJ7aLDhujxdYdD12HrJv9JblkDhihaZIqO-AJNWtjLQws5AKSP+FoKe8mqe+-1gLpez6GNBqRqut1CMOMsTDU-TidhhcMQbMk+q7gEivaM8Kkl2JIMj1jkWv5GQX46+TbA6NMhz1hZL+aGEMUHVEjyhGuf0YUXHdO5HmCLJ1um5-aIdoevo34r3g77Pt+gCXjEP0DFkAAOlgG3UAqmA+AH6MEHWxw6TmnLOUNBHz2iQaDjVYwXsexWHHzxxxnMmcYuOrSrjNxwXl2LGi8BVwVdHoKTHBOgAAAXqu1ABnGEClxgITIFuM1GHjcJ7xB1hePgg3jxgQqFBAajOGhAhgNw9OEOMonrjaJkE983Z7kKTaLAE2soBNr+ZJgEvJ0HgE+MOLKTgJ1E+ibpN7MiWeRiyEyaKSsm3euJ3yEAA')">function check_an_assertion(assertion, query_pat, query_frame) {
    const match_result = pattern_match(query_pat, assertion, 
                                       query_frame);
    return match_result === "failed"
        ? null
        : singleton_stream(match_result);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p21' class='permalink'></a><p>
      The basic pattern matcher returns either the
      
	<span style="color:green">symbol <kbd>failed</kbd></span>
	<span style="color:blue">string <kbd>"failed"</kbd>
	</span>
      
      or an extension of the given frame.  The basic idea of the matcher is to
      check the pattern against the data, element by element, accumulating
      bindings for the pattern variables.  If the pattern and the data
      object are the same, the match succeeds and we return the frame of
      bindings accumulated so far.  Otherwise, if the pattern is a variable
      we extend the current frame by binding the variable to the data, so
      long as this is consistent with the bindings already in the frame.  If
      the pattern and the data are both pairs, we (recursively) match the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern against the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the data to produce a frame; in this frame we then match the
      
	<span style="color:green"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the pattern against the
      
	<span style="color:green"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the data.  If none of these cases are applicable, the match fails and
      we return the
      
	<span style="color:green">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (pattern-match pat dat frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? pat dat) frame)
        ((var? pat) (extend-if-consistent pat dat frame))
        ((and (pair? pat) (pair? dat))
         (pattern-match (cdr pat)
                        (cdr dat)
                        (pattern-match (car pat)
                                       (car dat)
                                       frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06Lne8wUbR4QGCFBhKVBYg6DBGHgeEKhafxwtiPPT7GU+tnGDhqngbpvyRvfCo1SlT6-QDFpUe5wY+ax1jBbxv6+UU5oOK0JIGBuTjVFu7brpx22Tu4AXKCFo36ekEHEaNPHFAgGB4CQVA0DxNBiQZ5N3VSEFzc6fRcgUQh6G5yhwf25JUnSBQWDIePFCTmoefCUAAB8S8U0UPl6zq88T5Oi5iMuK9SFg5I4IRa4LlPwibl9M4yLIE67hvYl7-0lc-KUh-r1PXvOtFqFjxtps7mfnkKALiZUfOZ9et7I9FZgxAkVnZzBD4FFd9k+nuHbCb2gTRVJi-U9AAAyN-en6QYX-CYSgUoDfI+e955RzSEbVehdX7EUVqkI+J8GBn0gSnCydAjaFQRozFwhhfDZ3wI2fAMhwH-WQQ3GBW9DoRmnlA-kEVQHNQYOaagYg6D-R5kYSg1cxDcBRoQQIbhnBpwEkg8ETCWFsK0twKuy0eHIz4cQAR9B6agNFGI1hKdSHQM3unMB8DaiINBJoiyaiJEYP3ixExKcGA4LwYPHeND74jUoXWIY399BUPsd3SYyjvYuEsTze2BYGC8P4YYZwmihEHTcRGDxdcaG0IjixUUFRlBsAmtlOgHDL6RIzrfBBSCX4WRLEIECKS0mVXoPCUu5c+55P0QUygl8LK6xamU9JqIqlN0wZHNpFTGA2NbmBRpWjYhOOiS45xD5hneJ8Vg1iJhykZMCS1EJCiwn0CySMomOjJlZEwtMhJ5i3KijSdnAWwS5GhPCb-QmsC6mn0MYU0SpyWDnNWYougZjQEvPOYuYW5tDCbKGiNG42IBn4IYIQ4huNdlAoSd8v6rzyCtXwMIXwQLbkUPGbafZ2TDkqNSIFaxzAtASIxX+O5eiHlzieeCIlHwqDEFMbMyORL3nrMyTcilWKRi4tTh7AlHN6BsVRHHLl2jH5wPIMfepjzhlFOFYvZwPx2XOE6TU8eUqZXUvPvK0SbwRXKsbAy0lKcvm+O3ktUVjZ5FsW5FoclywRpnwYIEGQmzuB4hZSxA1Sr6A-EpG0As7DxWjK3i6t1HrQCkjnha311rGFsHNmgmgOYAahu2cI0ErrKhRp0AKi1lcg3c2UOm6ZmKdGH2lfkuVTTRLGHaCW4g5q5kMIbcG0tmywgVqzXOcE7am3gikcMsIsa5kDscC1E1TKU6Aq5bEJ1PLBh8vhRaqopAPjEsZWSl+3buU7Lcbu71bl+EgWnRIudI7gVbz5aO2agqmWaFxBOztR6e1ulFOkTIXbj3mBOesM9JKZ0hqve+3JX69kuKPQWuZop2AeC8I6wolLq2yppXq8E8HlBeBbZHLDXgUVoqQ2Gg9vKoMHJAYW1IGhCAgntdc8t+7JX3IMehutojCC0eoPRypv6XDzwufIj5xGH5RLI1MvFY7I4TRWqqo0ImxnicgxJ-lMGD6pB6voXhOTdGoZ1VpuRFlihmM9vPQwvslBQDgIgZA6BQ54kSUjFCjKjEtDoDma9lbo6LxcnYuJ3dpKlBjr55ZETpLNE-RA6hAX-RBbkhJaxuDBmhfBQQohaCSHRaLjw9z6sjJgN6RksLsWWhrgYIV1ErnuYefC2A-xYIsup0C6Vn49Wqu5dq6KeNRrisGlKMQMr3X-V+eHlfareWlL-rOciuTmTGsTZKIJcmP1fEzkRb89J-0AURLQjpaYPzkWtyI-NnLNX-QRdSC+gG83msDZ+FdowxbJ1btNTzQFJ23NnYNBd1qXJEM3ZK3dxs+H2tfZWD9+lQGyUA76y1xskPt0aMa6dhbsQfs0bo0VmHGsMfoqBx0B1AnZs7c+9YXb0EXVQumoCmTgmrnyY++N1HYYWikFMq5qyNk7KOWpL4Hm5BkYeS8vjxlJnQG4-0MibgMm93LFfE-XqCglVppW1gyXDhfwKhGrjhgfDqBK9TS1ee6u6DS9IGIO9sR8KEXdMKN8qRp7lFV8mE3muGjnn4RkMqIvCe+MI+i5EZPDJ7eZtrYJ7m4L0DJcHvbiY-d-KNttwP5PY+hhlyn1PBoicR-kOo9hgfnzIa3qKIlK9PdJuZ4t0vVEhU8w0eXprE5midg1Msa3J4FQmWCCbiy1lbIOX4xaygvgSBC8EJxtgvhCpW9mkc8wlOiHU4M4QQwKP76iZcKC-QMnAQAD44cE4BjJlHsiV9qZYkD2vhrhug504fUg-BVB4+cw6obaCbWBDtS5xnuXK+6QP9-oqgmoGo2uwj-mDuDgAa-kAUaomsmq5GmiTuNpRnMpfg9rumvsRPLqkI+sPtYk9q+lertEXjoi3n5O3v8NgYggBi9sBrqpfBMOvnxDoj7gDOupuuehokepwMgeSBQUwTEOeOwYBpfMsoyIZKwZLnBBwVDlwVejwbln5IKHbiXsTKFsIcSqIdNG7qGCNBoS-MskoVbseERIZCNGgQQQDDHkTDIYjm9j+goR5kYXhHwbPt8tmlCg4GolKBlgojplvgwHvqJJCF4QIiwrUHCNwL4XenQhaoYNyIwPgPwOVgsu0s4O9p4mQuSFQQ9vNsQbEOeLuoyFdrQRehEs4RvmArgc+pYT+tYaUBBtYWsJxtrEYAkZCskRVukVIRuoBnYfQZQBMBnntvEUIB0aUqkX0oCtYROG2rUaeqUbOj+t4uQSYQIZUckpMVjpkY3qGEFoYl0TlKlhEn-qAM0BBuQW4RapfiDsjqTvfGLKir4BLH9v7uUeSOeHuOZkCKMYkZ0VsaiICkdr4IeIIcVGUGgmEeqN8cCB4UQqEWEuEYMF8aCZUZIcCbIizOHjmJHnnmCF8cMZnjpAicwtCdwDMUSdMEzigZHJfgjq9g1jsZgRKm6AwtXg7NYZIWypcmsuEuAfitcWVm1nceNg8eCdNIyJIfVssnTryRsvyX5GoolrYqFtKccR9tNCjgrFvNNDSRfmVocXNkyfccREqalqFoacqYMjtiGJIZadNLKcJvyYSbwRFHgGZhZv7NZkHHZpYI5n+nAg-oAuisjHfi3G3P0JkqGaAIpKUILv-OyA-v8CbKzuzsjBZK3PgpGZrCQKYLUAECYMQNQGmsII0GLhagwsbgnltmQKvqABiSaSyQvH2o7iIM7h0oSTBJtpILWdwA2a6XPrkq2azMbjIGGSxkgjIAqnXE7vPLhixAJtWT2RupLjphGrmlOaAF6lJguX7sCauY4uGtmpGpuTGvemun7tVriWSmOYeTouue6pufmnqU1MtuyQWHnHXlkSQb2mCHSmodNEOpamjLPOebBoSgBTdNoXecxlSqxrzFRBZO+c2nxhvjKW8CBeNDjDprCtoefkjI4F8GEp1NideRoqKeQjohGAOaAhoTLBRU2V-CMDRdcYRfgMYK1AHsLJgRvD+W6KTHDFqbNOeIAisonHgVebnhIoyBcf6ZvstjLKlnWdTjps-ElvgspVRDEYOYbP9FaRpZLsLOvAunxS4IdPLGBZHHDMsoCnTJELxSRgJBGBZbEagVrG2ZJVHlwepbqNjHWSwOsCsrljBW6BwJ1IAkYD5d2gmWFWIBFWuEsHsaNGZApcLJFbYppbqGTvWYFdiX-s0LFRFUpeEAADzAjcxxU2wJWnH-5d7TjggAAqckS2dAzxMmvAF61IWIXGtQzQ4IoAAA1DGZntIp1EKOisVYNaJBZFNRSYUKNWIONVhRMMHsZGzt3o1c1TIMQPZIIObh1bOl1RPtQL1aJLNSNZwstEtZNUNUBf1UNXNbEAtUtdVfhfPvFliPpcvDdKlsyUiKxTmIgnJNiAxSsKAr8elYMplbLn2HchBpDRpTVTJNVkDUQPoI9YUCWkRVdJ5XiVpr-o9c0KlipECIdMVRjf-odNVRTUTQke4lBlFdlRGK9RUQxMoQYNViTdfGJU+qRVJd3OsZjetdOL9aJNZK3OUKAL4dPkeARB3n2EIcLIyHRWlbwbDVvBDdZUpYZe7J2dBNZUvnTKifGK4aZZ9qjSDYoVcXMmaT5Slj5djH9XHqge5hbfjR5useDXTUpX5fkS6MXv3N+uTehP1q7eiNiBjVjexTjTnl5ewkzjMUTT5VzWTYzXNaUKRFTZ0JlUjasNSHTZhIzdaLaCzSGNqCGK+JzQmaJcEuJbiLjRIn7UUHVQjWwL3nQBLSIFLUbGPvVjLfRGscRCsIrT3UCCrRAmrboRrXTVrVFTrWDHrduAbVpfPY6KzabY5W6CjeHe7R7O6b4uZnIH7FZoHLZiHBgHJWAnrgbsWUbqtoHmBrptqvBT3qJNfcrihTuW5O-YbmzInBwBIkVg-UxmJsui4gXnvOeD-bfe2ekYyEgs6CInMEBbEHMBOEHvtoYuCByCgzEByOg8MSIghLg8lQQ4g1g2fCQ2fGQ5g32p+gPEBfQ5kP6Bgw0CIsFLRuQFPs7OxGks8QaKw0UCInVbg3VX2II4UCIlbKoIwiwIYEOtI7I+ZisBI7ECIgNSQ7EPoOmaACCUEYLkNfw6ozECIu5JozENo9wHowCPvoLl5EY4Q1g5EdMJY7o3-LY6AJCLozEMY7CX2sAOYwYDo9Yx42AA4+Q32gAKSBOuMhOgCC6RPeOgC+MiL-yaOxPuPxNc0gmON9oACEwk6TwTmTguBTQIOTETf5JVMTxT+joAZVMQFTtDVTAI5jGTdTJVQIbjuTf5u+NTVjJToA++jTKTWDu+rT3ARQ7TNjWT4zIzPTEIeTgTWThQMzMQeTsQoZzoToUDiuH9sDRxUVgIIYW+cw3A0DKuZmOz4JFzd9WCkKLAAAViYIMccysFvsiEEUQ3s4bkBbCgXr40ULcwc+8E6EVO8CVD8zA8Um9vA4YiIi3kBS3oC5SSY1g5AHQGqIvNwzEBi1i8Pii6i1I1QDI7AJALg4o2S4S5ScS4AgwAAKIkOKP0vUtEkiIABy5A7LgTnL7LudOk1zELPAULKuMLZ6RzAIJzGgkuQR5l2VwLYrd6uz+u+zYrNlbz0wHzsr2KWQY58rIrLUirYL4uE+uIwLo5DgZuYgZ8OmOu304opAk+V0jz5AeY8RvUmg6N6EwL+utGdBQDGui9RQMmNrRwRQ1tkcwEn1DdGiOmoeHlsdeN1hNGrR5rfuPtw1meCrxUJSX1YQQbsQKb6Mab9z+ATzLzdZFNwrKrv9arKlBbeDN81RfNcdoFEUHAAgNd1rZbKqib0lPx-EhALbeNYL+9WCh98glmAcNmwcmAl9GFFApgDAjaHwVUNwpAiGLS45WcOc04uFE0mMjoqOswOr9NJdB7T4cot1DA911Il1Y1Mg6K+7QM2EqOzQz7h7q6cyCcNw+BCeWgP897FutrygygHVGQLmRg0uoHmT5mQ12+oHXN4I-VpQyHZx01Z1Q15AMHDbKwyHw6XC2loCDgfyxgHCXCVrdZtOJHE0xgzw-4jFC1U14IEIU1P7yKxg-7UoW+1HdApHuMMuV7ok1g4IX95gNHG6LU5sCg2+5u27A8snO0IYqHEG2k0wP2SCMm4QH80k9uaQCnEYWnPcJcTFYDtoRnoAZTokxmx7Bgh0WnSHxmsZwFi7IEK7sU67iGWnKZenGO3GRWDnOnE4kWJCROPJwmRnf+qHrHQ1EnHF0nriIwMuin3i51fY-Vt75pUKvhJuyYjpHKKX4QD1E4GXU1cXUnZAMnsKyXkXRXwe8Ian32EJ-HeUoIQFx+zXtHFXpAPEb7V9S43nGs5XEIxD3ASC9ncnxdWQRn3A5XTAlXfXlcQHKXynokAA5LezvrdRtyGETUB0tVp2JyqHx118uwWKQOio2hd-J9+v9NnLnIdFd006i343+UIMIHdcEHdXZJIqJOaGmHdQ-hwPCJMKt8N49+dzk-eFkE99lXN9J31+D24rD1N-oCj515J2d2QCCS+eYC6268oB6yBA6Xwh4GssvuOX5zxpktpqtyIlTxkkBWF0JgV9prh1vvj+sIT9QJoDKaT6Wm4JRxT6D5ASFwDLTxrCIsZlInbdlxPXIiL+pzmbjy4E94lvzsjLrvIAL4CtpvfFQQz5VtpvkUIem8nUCCGFl+lhAsz-TjTwr8bZalSPz2svojLoyFvmrzghr1r2T4L3tRbsL0YXoWb7Ykh8Q6t6TIdC724G7+bvm6Z2e1kDH8YKzIJ4r-lgJsTQmWJG15H9r672n-H7t17Pc9n6pJz+6zz8T1RI10UKUAJaH4Muz9K5X9z7zyTwX-78l8b31432Xw7cK376n4wvH6ifwVQTl8b0wc6lg9L7ziqXLyQsb6sXLaYf7SwXIpca5ZHMPiQBTyFbkqTBL9MCe8xQryXy3bwu3f3jzrNuyCPp-ZZT6vQCBbrwr4f-12NCfzJNRRf5AVf0Mxi0ucA+HMnb2AqzpyyNtWPppCqiUB8ArUFqAMAqCDA9elFJyo-wP459-udUI7oIGEBp8YBsUfcmgMYqHQMKSxFfhGySQQsSkfUB1Nf10q4wHAndVmD1AYDqARAHAUgLtFAS5BCAeOD-kPViBUFNM0-YQe7nBLiwgQksb6PRSAEWV1aXmMUB+BViDA1Yj1QMB3SSJtl2BnA4QNwOXxuwwYhNbeAIMdgkUV4asR3nhDWJUFj+DvQWpvRJhLh+BT7NxMb24BuCk+wvGwYxEHpmEt4vCdeibTNreDtMKvO9oED+iMIWibZCoHwy7BsgEhXDfRIYFJCf8mGYEL1KtxSG+A0hxIJ4CXyj6HovUuHJ4EESrj9AFAsQkgPEIIipDAO0QmoZhDKFVtM8eQgoV+wPh15HW-QFXJ0J-jJCGh+Q1mOkJu7ZDbOgw6xIUL75LgyabQ6CBUJmbVBzY7cAYSMKlDTD0hTwXDv6GWH74qhMQ1oSsWoFuQjhNQmQGkkaTSspc1IHTFcKoBoxiUzQ8jtUMti3DLW9w1Co8MoDPCLhbwv6BMMBE8RVujRUXr0PWGtJNhgwQyGTU4TVDWWBwkGNcP+EIi-oIIsiBcNOE78WIxFa1pICOLoiZO0ZdAfxSXA6NkREGN6i4DUAmACMYxHAZViZHOBuAavDiGyMh4-QjKYpIVlbDUA5oaQSaRkGbDICMB+RNsdkQbBZH0BySL3bcGr0UHOCls1sQUV7iQ4yA6wtQOvotnBFK98RHbIka8IlFqiK8kQ3gBxXagox9AHEccgtUS6DBbRNI8QAOABHdA2Q3QDIaLHBIwl0oOID0X4DPJm0J4agowOEAaIDx0OhgSIVaM15EhCENoqgLtHPDdBGQ0fJMdqWUGaZug4Y6zv1WaDdA94HbUAA1QAAS9LBgAAEFwA4AelgACUGqkAAAPLstkAQIWSjpW2qqiZR7wRMX8LFHGCRYjFC0S1FjF9jk0tndKFLAqDIw3eRA7oqKKSB9cpxnQRsD2OjHP83IK4zIIwnnHyYdMZYisdWNrENjmxrYvAVONjFziNIgJccWKJ0xTiARsYhgPGPdSLi6A2VURHuLoDuQLhUAqyu1F3E3iFxTwgcUwJ0wXCfo1wrfDHhdgdU98FJOkdhkYSMAex+gOCeZEnD9ikgg41ljEC7ECj1xd4nCeBI9jFigehrHQebEZAAAGE4DpRqD2RXUGQJAcdWp5sxBgD0FiUKgcDUSgQFEnib0Kmp4hMxAkASbkF4lkA8BDCRiddBfYAwWkAQbiYbyqjUBfQn-UmOCHn6kwBJKknKGpNR5bsBScyQIL4TkmHtUg1QbICxOTHgldJbEpZGpJko7VmJHAWoZjlihqSUo5IUBAiJaj2ROgiGUgSsDuRiCP+hkUoDJJcktIjBcQZSQ5M8m+hDIP2BwYQFOIN8lwfkhgAFLYCIZDongx6llJymIY-+aUjPk12CEb1M0boIqYFOsnNhIhFQOoaEEhT29CAlEeSbhPvi+TAg-kuqUONbAqENME0LTDoXHh24g0ccRSS0DGkThHoSZCovGACHoQxYEsY6CRTkGq1cJi05gsxhbybR+Wp-EGNnWIDtDwwvU7KXVMlhWDC8Boc4P+H4ISCigdyY-uEBmKlBapuUh0aNOM6JliAfUr6dRXKl9hmgmowiCEJnxm1PpQUhXpEPjasx2YScARBtGmlrgup3ooVtIPrLrSvo0sNKtNKVExBXw4sKzsi3WIjQHA41D4dbAsErQrBOM7Ku0KKBozwJYbPgnYKGlySsKv4IkngEhD8yQwYsHGWtLui4zuRECFmYTOelbwSZIkFvBFIhJUyJRssLGEzJiDXSboasSCP+Cgh0xkpmsFmCrNxiSyjKq-G3K+CanaxUgGyFmQTKMrrw+ZAskKVvHBCai9g2os2fLV2lb13KOsC9sDBNnuxt+l9SmY+2plcRCAC4O8HZTJH8YlaOfN2RwA+6rdXZWo5OQAPaBxxI55zUkKtzhgl9RQmmSOW9I1jwy2YRCJGWEg2jZyeA0coygXOGnwQMhq3MuYjPYpVzHghAO8DXLsqgBHZkIBubriXDFz34n8J+MPNzlDc6ASsqgFxAjDFy9hDQeeaSEXlFBQ5uIZWdH0WHyjpg0fFeWrKzz2yS+qc92R9xjGEoWJHCfouOTgoNJ+iSFFifOTchvBUkFo8JBRJwqnsP5qFASfuQ-mZDA6ymIBfVKPZ08sGnQAKb4EDIFh4QJfWFBGG-nOidcyKCiSAs5HY8h52E03KAEVE8iMZVIVJJGVcnxQLwZklpJZMyQfy-I54deaaLKjB5aFysqUVgtXnFh6Ar8groQrGIfzWFDQXBUHOHHTyw5DeDUWnJ1GxAIxmQS-i-hahPcQFbxLhYwB4UzEDRhI-pMSP0C0KG8hyYsYeIYB1jLIAAGXpZtipaA8eibRUkACiKJgKd8ejOHGWiPwyMYiR+NW6XinF+iGxS4uXEDhVxxCwFKhW3Hw4WJASz-nooMXGLwAF4gcFeNZheL3xEE4kbUNaIx5HxGi58a+O8W8KigdKFib+OJHwgG2aS14VpMB55K-xxk6TKa38UuL7FZtSCb8JgnbgKJQRCksguIVoKsJyaXCQ2wIkyN4loEkiUbUiFhJ-6siyHmjy5F2KmBLwxEZ-waXQTpWIYOGK0r7CQSi2rMQYV631qASiJzC7peBL2HIidcXi-ZWBKNqEktaxI50awSx4XdJl2PQcbMqBG8iqQrQT5kCD9F78AY6PcELcqe790NiHYVQV6DR6B5nOoyv1ncsu6Q8nl2IlMu8ocCfk3+Dy67nCuuXnzpxKMB0H2LtHLd0x-KapGAk0wErKleI+AYECAlphVJjAMcT2N2hUFYxOK+lU3RTF+BGQGSrMAmPpUVFzwYHNnFYh7HPKhIGNYpdUJxDGJvx+S5oYCsKClQJVf3KVX+KDakwex3AZEfytMkgQhV2I8fstJnzdJyVwQFqAJO+hjj-5+CkqIMpcBAgX564ArlQuyKcymV1c61bNMNBCtUxQITlbiATEJLeV4JTVVYgEkXCNWe2MVRiO6APyOA0q6obKtiDyqo1okCibGr+hDpDIOklieqsyZBqAkIa65XqrX73xzguItyMgOIWQpSAVK2ARsnpUAKOlda1buWtQX0qS+5atCTys3HmB21347fN+N2gfBjV1azybSqcV9rgJSiaheCXwSECJ17wRkHouPH1jGxLYqJeSEXU1jl1Z40xaqu-HZqgiM64dekVRIjRwQGIUTl2r8QECOlFq8kIOspWmrR1M4kBaiSihsA4lIShdeWP0VGKTFfkcJb+p3VLgKJ+6mZoepsUnqXZ56zFc2zeCPNVsvCGGsqKyHL4iOa6aQiBDg3zRUNn88-mfjwELEsNKId-mfk-6lS0N4FWurzWCjwa1ciG4EfRrwEaEaN2G+jZ-3ylyIKNrKBRKUhSC0bTAJGpDdVJcDkbUKNQMQIylZhyK2NscxPoxrOHmA4N+AKyURoE3ormh45WDfQH42VZVNgxWzlcuaEl8lNVkwjdpvmgZE6AOm-NnNX+UTKNCemz8tZqDy4QiShmxER7HlWiIRAd1OzdjyAomaPxFii1DRuU2ZIWNxG9TXMtk2ihm2EWl3PFv01giB4BcyEf0OhGJDYR24PzfcuY18bsNiWhPu5qBGQQGgyI0LaZp43lZ8txG9CTVoE0ubU8xW3rq9C81fcLIOWnFhVqC2X1xNLmdPDMuxHzKkljSpZUvXjm74sArmooChs636A+tAHaFYpxs07z5qy0Q0eoteFG1bA02xbKovgGbbxVesnWehwgylaigzW+mF5p+6+aZF0KoCgtpmg6UUYJgfgOLyEGMVJCjArtl8ACqNgY2RcSIW3yJ6ql4+UWl5aeBGgLKqATS-0CspsaKQXtYHB1OpGYA8x6BVhTPBN2A6Djsl3UWmO43aEt0cwco1bZzlv4uCBAPUMfPdSm0nbCg4IYHdX2WQg8ou1IdbWouFWr18qZizIIvUu2tb+AEIJnR31r4da7tAK7gCLpr7YV6J54G4Jrw4Z8NGQAAThOCgIldXDLnUJtL49JeGWuyCT5hFpXwPx6xSfgpw+DurjCRa18DapEg0Sm6hQTXeijW5rcLIaAD3fGtsFFqnpTu-Xe4JGCW6-BfukKHw2FVsxzYmI-ZNlRcBeRtyZdKqaxH93h6jdUHJbIrv91IK2AkC6BQDFJLGrwdPET-s1sF1vds9XDXPbdvzCMp7t0ucvVAqYBJljWFqFPktuqClRVwZAVuGEgJavKBArQRkF7z5zMBNeKfRMZJzfB8d+AzHI4CDz8ivg00pAbvdi0s6qQwkYVLSE3Wd0QhPIXkFPjgsh7ugp9AgIXGYwRCZsGg2+ubnItaDHB-BPuhiK+CFXwDEBjCAgVKFv1N1m13E4IEetrXXqhV+5T-RUQX1d7o6w+VfUCH7TuyeYVSX3bEG33ghd9nkJkNSu7Xv7RAyBzyL5Hv024IgDER6SGEQNYGvIT3C8EKNeYkGz9FRZ3VzsMiQTYd420epNtTzX6JlTM1HXQJcytBcdBgEnSDEyYeY8JsQObTwfZ2dQNtXO6kacJNqlrzAGhIQIYHsi5x29-AWyUKwH1Agh9PvMfS11UMCBbqs+26SPX+gwlRDUiDnQdqkMDxbpcNBTnDESpHTwQdkFUWoGWj6xmAUkf8M3hO6Y85FnB9Hdwe4DmVhYCffHQIaCJCHIh748OTbA5EeG6lyo+HapETnaiL99fUSKkfTlK9JpyfA2C7BLlHSVlMQQeUXKTHpHFsrcohJzA+AaJ4jLsXCYPNJi2jR5X-acAUcj7WrYjPg20dktiARgCjfRmIDEc3luJejB8vsIdEGMTHQwRtY+VkYvURRW9citbkyP0A7yAAOlgBbVxDWYL+mQMEBk5nbdGAzOUNBDd2iRF93ep-ssYmWrGiB6x+UVsZ2PNSmACAg4z10TFjReAq4bKj0FJg-HQAAAL03AxAtjwbXY28Z+iHHwjPQEE2cZ0gXHwQVx9ik-yggNQMNKEpQ7nFWOQn9jMJ4JmN3AV3UWAd1ZQHdQ+6TA1uToPALcex76BcTrx-E58cJOvcIQ5AEk2SYpMg8kTvkIAA')">function pattern_match(pat, dat, frame) {
    return frame === "failed" 
        ? "failed"
        : equal(pat, dat) 
        ? frame   
        : is_var(pat) 
        ? extend_if_consistent(pat, dat, frame)
        : is_pair(pat) && is_pair(dat)
        ? pattern_match(tail(pat),
                        tail(dat),
                        pattern_match(head(pat),
                                      head(dat),
                                      frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p22' class='permalink'></a><p>
      Here is the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that extends a frame by adding a new binding, if this is consistent with
      the bindings already in the frame:
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-consistent var dat frame)
  (let ((binding (binding-in-frame var frame)))
    (if binding
        (pattern-match (binding-value binding) dat frame)
        (extend var dat frame))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06cDwc73jxxQIBgeAkFQNA8W5i53vMYgUKoAHcgUQh6GIOhKG4SWcyGkbRRBLQKCyUXxZqKW-WmUolZcxtpv0NWJc16TmlFOg-pFxR1clygtZk-LCAYQxfAUFh8H1m6Xbdj2GHwGQ0ktw3reNu2ZboOXTfdVIKmUNgJuyuhg7F0P7aKUpBZ+WP48q+hk5tqXw8j-0zdSc1qDEOh-ql-PU+kjO1wYcvK+rsEjY16WWgjtPVmjhg3jY1FOlrjue9iBufgH6gh9VkOO6Lsewz7+O3eEcgGBRwhAjcZwR9txfdME8mfsRvOV5YNeGEXfHJDIQw981tCdOmc-L-d4RfAfsOu+Lg1S+dtoBZHBWxTqPeuLRG7GHaJLZQAMoFANgc7ZgWhW733bvvBeUdRTsA8F4L+B8J6NhwcoPB6DC4-wPv-QKSDhat3weAzOjZqEfFobbL+mCS59w0IQEE3JUT0P9KUbhbBP6MI6FofQTMN7Iy3sQHeecyHf1ltYJ+0FZwgX9tdHG98JorU3tvQwzg0FzwwRQyhLRSCmXYaJaytkHIuBdlLcgyMPJeTEcLQqEUmaCEIDwz+yJuC6LCITV8oot7UAUNPagOYWpM0kQ4X8CoRrCNxOEyJNAYkn35knAJghSBiDCDRfChF3TCjfKkI25QsnJniXQRJDRzzbwyGVdxEipHv38Qk1Rz8VgozRsIDeEc4L0DoYZHpiZT6MGvpbZW99kQqLGeMvJBTulLJWFI2Wwyq5sPmc+QoCtUjUINk0tgdsxmlCOVRfu9A0ZghOWciczROwamWMUk8CoTLBFqRZWxdlHIg0meyXwJBXE+L8YVWI5wvGAvUX7AO0176b0MAvQmRN9ouBuNiXRgIAB8ED8zC30LoheMsZGFNmm9ZM+LGxTxntY5RqKDlMFIPwVQoihYSNpc4H4si2J8JAQXJR3cD6H1aVbJaM9rmpmgTXRRKiKGKWMhy8Vg9uWNk6MrC2GSBWpwXq9SlLFGEAJlbAowlAFCUGRRQ1FoTUjEDFpQXE8CYFwPNZa+pfF0VlA-GqWofk3n-FtQweOHwaEoLYR8C1ExUUrBGmKyRcFQ0sPDTXSN7rODKP9ceIiIZzxVFIEmt1WiCyMkMvG-NhbWGprdWEDN3c-KCjKaKS5OME0FpAmm4tjoY2eoEhWjtRbpoNshdmntLpibUuNQggGiyiaVpTZas1UaVGZpDAxKFfMqWws0Q4ZuX4Lb-WCcREamL9AMFxaJSEu6d6V1qHCbgB65H0wNW5Qw3JGD4H4AwbOCdUTGNAfvG1TbUjOuAfg3ahp3ilhrYyUDiDk32ttv+wVh5x1etFPazQTrAEuqXe62dpR0iZFnWsXxktBhvqEH7L9P7c7vDbfOxD1bl0LLWTESjH6aMmBzone+s6JzNSnbh7eA6q2LrTRMPZjFR3EX2RO0UtHE4CNDDrUE+hFOxW9u7WeAHNYitAM0IjbB-UUu8Ua4hpCTHkIZcRc8HTGQWdavgD++C-Lnj3IYWD77qMgQ00YzaznfCoZUMVb1e7aieaBNugO17DG3sGB54LcblUBY-qS-pgycxbLoR51ZbH0KxYruqK1-H8tFGUc+szjdmHIKY23KzncbMBQnYJltBZ9CzvjdQ-RcjDEKIa-Kir+qqs-D3XQxRKLbOhemoyeNY3bZdukbI+RSc5V6vJHu52rttNdqJTe7ZUsts+x0yh7GBZ1tya9UO0zgKjV+f67pxr3dUWba077A293GBvZO7qkM8bPuLZ6yt-BJK-v1opYzSZnm5CsygHARAyB0A82JJuliitp563wYy+TqR0huzIFj0AAAfInilRQfF6p1QnJOyepHdh7foq2BvE9Jy+XHGQfuj0KDTtnYofVelc7NbxusVa7blZEQozWvWKOG4C0UzAxASAGeovDOw+j3B2tj9DqRSZpvCAAMn170foFG3XhGEkCSg6uFey+yX3R9WPj04410r4NamJuiUfZ4l95hvtwsDv9R3UuBKHQjHKyrgLBPzerZTsQpLlt9bqVrgSKvwTR60twCny148GOcPTbxop09B8uwJeX5BFe1Dd3OD3af9ut29949PR3tPF9iCNUPdYhgm-0GHgbkx8+Aqb9NJbueHsoeTwdbvEZe+Pf77bqlCnuO-t3nrifyRUgK9dyrtNFkSxCF80vuj8IWe05d5X7fbqLIwz+N+w-idj804RnbgH328PywnR320n+wJm7n0LwFAOw+QOieb+hM7eU+nemEv+Eeduisf0F868wBK+ZuYBzum+5+amO+okr8iBMio+dADeMK8Bl80y-0syoBf4J6GgRg22vsmij63A3+b+-IT+W6xB68HSFByw4BIw0+neeuLBqObkzaxMYadWXBbeaB5eW+mBl+okNWYmhBdu3WeBvWyBFq7+XqTBAh8+aOFS9Aqq9Aw8q+Tu2uZ+yushFqu+BhUSRhjYSB9AD+rO-oZeFeFhc4WB4IXKdhYh9eA+du3hFsjYvK1A-KEhaKKeoIDAgQMgquoAeI-hVKgRk8RoOGzGdsqBXqsKMRcRpIr03iyR6qpyZAWq0SrqGhmRkRoaORWBOgMBC+IGaRpqJh3BUhbhVeYInhcGxAShVKgm3ReGR6rRWRam4I3R4ImeNaiRLE3RvhSGFBsQwxIeEBD4v++RgK-acx6RQxkhWh3eEm0xbkImWx4mUxlRboUBy66xsBdqDq2GJq5R7q5x6+aQHOgxhx5gcBjGdCBxzx9ubxlx7q9RehrUXIeCLRJeborhMhHhch4IFmvRC0YJTmLmEJuxyxvB-BaxN2NxTcvivCSmaJe0peG+0hGBsJVhokwioR9+HxLgGyqhwORJPBgwgJghje+SI+ahRo4RxJk+mJtobJgh0gAK2S0O8gSgcOHMiO3MlgQhnxG+LKVun8yM4MZh9OHAQg+gqpoAikpQLiFu7ILK-wiqFiViyMFkGpjOLQMiJgWgwgAQJgxAZRwgjQ3uPuGKx8cSpBt8Ba3AHSk2weboqelSIg1SqIEx-GPpsy-pgW62rBIJoZAycSMgapJJ5hHRki1hKcVSTMiJbkUi0Zd8kiaZwZURORMg3ACR1xVK7SgWJZa+wI5ZlQWZoAeR-+duGyQy8gB2YIqZjZ2RLZlZugwJTUx8bW4qtypZaIoxE5ExIWUs+8NZIJE540OM05fc6B7hYI00Fkc5dJfJjAw+bwtya5G4jZTB00wpZmjgXwhinUmW2WbCTWkJLgEYq6CZBZiaIEcM+gL56J-JgwH5HpXccc+AxgrU-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-1ZC6KNue6-0hj-wq4EegCG7STlKvG7URgEfhAk7G7NvYc7ThDOOiTFDwghilBd4jDkeGngicd6kLm9sXsgSFuxQlt4IEemnUfUl8K7zkeUcTjmxBwMkJ6Kc4eTDCfghAcJXQcFotTKxYeHRBIsf949XXvNUJV+70Fqf1MOFJz0eWd9ixXdsGcQXGe8esmd5mf0cdtjLwjaScIecAxiSgjznErerofGfacrD-ykwycBjRcwdhcP3cAq6mc4fO34dafcChcYekA8Qkd9z5XmfceiQADk3b2KmV1XJX-Vn8BHKHKXhnBbBYpAn80CnXuHO1WQ-01b3n+g3XAThzoxQgwgWVwQWVdkGeVJbgaYWVLKHA8IcX2srXT7h0I3gNne23+XaHqXhXxX8XG3AMW3HXFj94WQe3p37XZAQWuhbkgrwrygorIEw+W8HgvWf5MivXeJkVCnecm8hHqe8n9+tMDnjJIBwPV7RQp6z36wr31Amgi2n3sCbgcHBSP3hA-eJXqngewPFXqenHmefNdnBPv3w7NphAj35gI3W2TiyMV88g6PiKv3QG7Y-3BJ-CwPm1ea9TD1QIIYtnAcDu6n+B2PUmMQ1TX3C3AyQSjIp69PjizATPaPvWmPbPOPWNI0ZrJtAnD9FXpMh06vcvTc8H8qTBpvxg8vFva3RkopyY41B7b9RvLPvWleQSJXevx2B7CPIryP73VEwXMkpMPv2msPhQ8PQriPb3qP7vGPr7kv9vSkYfAv5FrTCfNv5vBSwWAapSnPDuvPPaI0xP85IvAeAMvPWaCdJfE6m8Jm3NVKjqJAkvlbOuS4hPyXh0Xf0wpVVim8Yddi-yjnQKJAk9ObNy8xwP7fV8nfv3FX75C-J3iN2PQ-fyLgo-J5SG7pjeC3mkVUlA+ArULUAwFQQF7PphAkLfVf7PAn5oi3LXZ-Tc+-sUnBM-V-gFwci5GzyftPLxPUNvp-xeJblMyg-DjrvzlxYspYfUCROAMQreo0aYZHqAwHUAiAOApAXaAUSICiJL+YNYDNdGnDF9JaDSULJ9AczHQHy30YmjIlpiMVs6cFd8BUF9SDBPoULceIgIjoDIUBaA4QBgLX54xeKd1ELIQE-ifRdsbAiuvnyDSkxiBhkEaKTFyCiChuvPbgEoM-hL9teUgmTPIPr4yJs666X9iINwE49-+PbQIH9H+5iUKg0DLsGyBsHgNK8hgUkLPyVqGAEiFXBwb4CcHEgngJXY3vsQSKR8KG27Xtv0AUBWCwyXgrsGEMsGYQgh7rJZNEIGTODx2sBRcny36CZJkhRgewQREcEpCXBwA-4rtXcGEdkhzsXwVTwCEjAyhwQthto2qDKxNS2Q-Id4MGAVDnBTweoaGCeAXoKc4QsiGUOGp24BhlgmQPHHNQosR61IDchMKoBowkEFgrDmMIiGjMZhEwFrvMMoCLDVhc7cIX9zcGxDju63IzHjwyEtCWoOQwyM9WOEAs+h4TbYbsOOH7C4hWJZYX-ib4sQOImqBgBgy4gcRuAa8TuHTEbIp0BOMgOsLUFioVdwQkIvYNCJK6AJh4gI1iFQHCAVcU6MQPHqkEAEcQMRyXHVgMiFAEtQQbCVEcCLoFCCTuYSJcPiIo5G5aRY0YEYRx+ElE-hVALiBGHxE9CDQEYFkbyJggLD2R-w+yib3RGCilkh0AUYkOgh0wqecIqEZNzMH3kI2kgHKHsJ1LFDSY8jB4XiiMyjlzAagEwF4CbiMAH+B-POBaNRDcB6eqI+nqCKmwoVRR0RORM0kZBsikgHIziPZTtFUBAkr-ZwG6zKzbgHR9AowS6PuQHt4RHASbhVzOEndVRobDUS8MjFujTkholUBBXagowTW6I2fmV3FF2xMx4gAcHsO6BshugRQ8kOeE2bpQcQlYvwO2UYEdh+cX4YJIRg5zfVDAZgnMUzyJD+w8xGRJ0VSG6CMgixSWZ3IAO6DhBj2nHb6t0BDaSBQAvlAABJfMGAAAQXADgAvmAAJV8qQAAA8kC2QBAhcK2bEGJIDUAv8NIf6IcZqipEExihvAbMR+GRgPiSihHdKNywqDIxPegYnkp6LqQlcfxnQdVIBPeAtcwJmQW8WmH8wbk1xG47cbuIPHHjTx0EgcH2IAl3j-MwEjcj+L2F9iGAA42IvhIsjWjnA7kVYZAM7LtQ4Jlo+jMBKfFfsjBqwn6JMNPSLJgRoVXFKVmNEkIzRDE-hDxPMiTgdhJRFib6yvE+jhJeE4UUkCknPpQ2cQDIC1FyAOBlYjIAAAz0tAUNQeyNETUlc8aSsUagIMAejGSNJGQxkMt3UkR0tJCVPEH5BGh2TrkmksgC10EwGTCB9bKmMDDclg8zJvoRsqTEE7zlSYgUhqoD0YDmScu-kodmYMCCPpfJDoVINUGyBqTdojSYyUFKqjmScK1VIyRwBMkxTZ6FkvyN4jCEtR7InQPBB-xDBMpABM-QyKUG8lFTy2t-QgAEFynRTE45U-TAl3n449WphlaqQwFqlsA8EPfSnpKKNLEAapdUv6raF56DTqeJmASoEEWlTTMpzYMwRUBIAiBUgQPWgQNEHa4xHR5IKqVtImlLTWJrYAgc1I9QuEykyIrIJ1JljPSJwj0Y0gwOxolISBBoOzBQLuhfRGAxNKSX9LQzplnkm0dgTJEhGEREh4YG6ZNLwTiCDYLAKXlqCwD-h8+gMlsXPzGiFh+MpQcaWjJUFyhGO5Mpae+RT59hmgiM4wAYJZpGCaZO04HmYKJGz0A44sHeBtA+kDQ2AUk1FHZkoFiAQZ20blunSDiCyhKjaAwOQPY77N5aI0BwKlW9FcQMZN0NgcGJDFCzIZFraQY9ImhrlfwayPAJCCtm5oyB4syWVdGoEZ1BaggsGNnRGhKyRIzyUaerIGqaz7KH02UTEG1mtpdZuM-8FBDpiGRjIqMY1oLOdnyz-peoV8AdPIzHSk4zsuWYxSYqWzrZsaCdIqIRHKiWaOgvOV6iJEJTcY8c8MaDS+FuQfZuIUUSawXB3hLpcFcEapBjGIjkuBc2MSHyUhvSm5rTUkJiJvg4jCBTcgket25kki+ZhiDaIQGblSSx5eIlwRV2nm8zwKc8x4IQDvALyRZoAHOZCDHmkwF5BuRkR3zGg7zCO9cv2ctKyCny5pfrTvFfMfkxAb5jck3gkP1nTATepIV+ROHlElce50I3sYcjUlmoxMf3UARfjEx7k1JE-BcnHFfG7w7JG5JgqgoPJuTOCqC1wQCUgKd4MFIPcbmwFqm+BFSBYLjidyYIRhCFZgrluvDsm7TcYfoiSYpNABhjeKos0LHHEZzFT4oF4FKZ1PSlJxUFbmULDfKjFC8Jw78zkb6Iu5z9WFdAf+bEDeBIKQCPCqjKguUUxAOFrsowRIvTEZQO5SovuSUAxoc4kRyqO7p1yYUolP4GixgFov4xJj1RX2F4QYppAZjlJy4pCQwD3GWQAAMl8zPHmLMgekzstePwZ2T74zEl2fdMXaviWofYz8UkG-FYT3xleaJSkpAkncYJTCNSffAPJ5K+FhSxsr4v8VBLwAmEkCNhIGRZL8JjZdifa0GCLJCJLw4iaROyXSTQw4IOydROOHwh6hbS5YRCBJ7yE1J-S5YatzoWMsSl2SkWcUPYnbCuJ24OyRelKz0K+FTC1pgpKUVxLpJVVWSfUt2VKSVRUrFqCN2G7yLYlFNO4Y0uOEcSqAKy6YOCLxSGQmlZGKIW0KlD8Y1Q8vSCffBYWPj9lvIvUWChERzKgVkk-ZXM1uUfCuZViy5SNxYlLCDhXClCq0DGZAh6xN-K5fd3lTggxU1iiBpOLMKwzMVCSYToYjFglSkVF3FFasJFTNAKVTOH-ouhu5wqDhoC38SjAdBDi-uhY7vPiIY5E4+4gAicSWI+DBBT+kE6Wckson0BdoQaPsXyoVV1Ig654McUCA6VZhBxaqiuueBXaWIFsaq1FX9BJY9Jhl4QnEBRMgmTLwhcdBoKVBtXzdcJ9Ae1X9EjJ9hEukE7gGCqNXJSQIpqxlXnxLmQoOy0tI-oED4Vyr3xTC7KV012WMhVF64EAqIvJDKr3xfK-CRqtCxar3Q74kibqrIm7KDV3CxIIGpjWrCLVz8K1X9BdW9KJlNEius6u6BwKOAHqhQF6tDCRS1Jfq7RgGoWxuSQ1NfAGazNrnmBn+bk4IHJKtGQS-ujC-VRazMVTrwF+qkrs-zVV7Y3VdSJ-sIH+U7rt18ExVaiilXRrTV30eVfOrEUoUPYB649czCBC+KUJ+4w8SeKqXkhn1O419ehJCU+qd1-ai9HetnXvBSVAkcEBiGQ4RqWIq6x4DguIhnqWobky9XGvTWQYqQwG6JYyHKWBLglfkHDZUo9FLg7JgG8JphoKVga3QEGrwFBonUvF0KuIN4P01ZZIpDhbxVjVsLTpMb5o2PBdkpVYrd4ON0Go4nIhAjcaUQWvPjYeSu68aDyGGGGsFGY3ZJZNuC3akJs-KcU06imnjaxovKCayUmC0Td+hSBKbTAkmjcpoPJQaaXANQMQMLAGSXLdNxQmaYQCs2XimN+ADKeJrM0Mq7lxQ+Tf7W838IgtKtBGfnWOElcPNGU44iFu-6mb00uVIlZcs2JBa4t80WtLjLKycq-owpZ1WnhEBZUktF3eclFt3WXjFNnmpONpok2+aPhs-BjcZsMDxbd41WszYRwTF98C1zQrIVcO+UtLtwRW+7gxl8wmaeNrW9NHErNU8RIIDQMFRVui1Gbxt98JbQslwi01wtHw+mHlum4WRBtnXSBiZsq3LNvEtmwlEElq1orFlDy5ZdQUWSvLMtrYPrn+URUXd9Ap2+0sSpY4Zbv5fVZaMmLcUjL5RtgNbenGpB-bXFU2hmmDDDnfUjMM25ahtq5WzQ8ts3QrS9vu7zl3tM0ECijBMD8Aup2rFLOAPDaRsfgQbJciqye4x8A+KPA2Odsm2MqiwZNa7ZxNu2hh7toYXHSuwkTqRmAMAwlF9Sy658WJr87qLTEUaJDV+OYPWfrKsg2QN+4ks6aCmyphyQd4If3kj1p3B9ceBlFxUfwB3WrI5oYQzBzlh7ZaeIr0PLRrrj7TQ0dBKLQMSvnLW7A+XaZZueBuBM8oG4DRkAAE4Tg3iL3U6heFSaA97EaBlNtnrKwzUD6IOkGiOFfT4wo6V8C4ENLaSg6hQQPfoEq6VcLIaAPPY6qKD4zDIme24djIaCB6I9GOJGg8qgLyoXAXkasmulZkZ6w94DSvVHqtQe7GtYDB7pTsnUkLwG5CgGEVmlUXactYIxHX9Et38AIQnQUhUPrt3rhhYjuwJAPrIXMoNw4SqlNb0+3VBSoq4MgO7EMTXN0VVIVoIyGV6+BGezPWXjEtS5vg0O-ALqkcGmUZqykMSUgEfrOZONVIhibSlpCDqZ7mGnkKlrfvYUXcC1pUGIJ5BYYIhl1sQTPQVyRXHBpMtfCIAxFfCmqj+J-JuPuqlCtAE9sQWDS1BnVbrN1sqzggQYrqvgP9X+x1D-qBBjEERUsY-ATIQOt7P4wBmA0yAfWCA8DogGAzAd8ioGAZ66MNeXo4MQhBDIBkbheE8WWpXE0hgvS3pCjh69h7yh5c8u3Ac6ekSB17bKN5375YBAMVoCLoMDS6QY2jOWN0upTiILlr20w2Ds6j-bIdBov-DXMvGbEhAhgeyATj338AE1GKi-fIpV7OIb9rPPMYZwf1QHMqL+qTPjUtibM9tXXTPODv12uGOcUmRWm8ThihbQd4IOyEfB9EAdgR5AKSP+CeQHc2ulyww-zokSOG2KN8cymLssMXprDXMmOWGRJGUgyRNcQWZSP2Wn6BA5AoEOIMdmyy22wMBOfxr7iwy2Bwncuf0f9H7LTSwE2+cHPay6y0RII8MRFB32XLKu1o-QPrIAA6WARdZ8oGTYGZAwQLDnDo4bxM5Q0EHPaJFoPgUeiTofY69sOOv9jjIYs4xccOlXHj+NxornmLGi8BVw8qHoKTEhOgAAAXpS1ABnGigzSpgCCduMtGegiJp4zpBePgg3jxgQqFBAahp1vDvh6cIccuPomfomJ+xhl3G5ZUWAWVZQFlUm6TBKuToPAF8aG1UmgTNJ0E1h3pNbNZ9TJlk2ydW74nfIQAA')">function extend_if_consistent(variable, dat, frame) {
    const binding = binding_in_frame(variable, frame);
    return is_undefined(binding)
           ? extend(variable, dat, frame)
           : pattern_match(binding_value(binding), dat, frame);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p23' class='permalink'></a><p>
      If there is no binding for the variable in the frame, we simply add
      the binding of the variable to the data.  Otherwise we match, in the
      frame, the data against the value of the variable in the frame.  If
      the stored value contains only constants, as it must if it was stored
      during pattern matching by
      
	<span style="color:green"><kbd>extend-if-consistent</kbd>,</span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>,
	</span>
      
      then the match simply tests whether the stored and new values are the
      same.  If so, it returns the unmodified frame; if not, it returns a failure
      indication.  The stored value may, however, contain pattern variables
      if it was stored during unification (see
      section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>). The recursive match of the
      stored pattern against the new data will add or check bindings for the
      variables in this pattern.  For example, suppose we have a frame in which
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is unbound, and we wish to augment this frame by a binding of
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>(f b)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>.
	</span>
      
      We look up
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and find that it is bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      This leads us to match
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      against the proposed new value
      
	<span style="color:green"><kbd>(f b)</kbd></span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>
	</span>
      
      in the same frame.  Eventually this match extends the frame by adding a
      binding of
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      to
      
	<span style="color:green"><kbd>b</kbd>.</span>
	<span style="color:blue"><kbd>"b"</kbd>.</span>
      
      
	<span style="color:green"><kbd>?X</kbd></span>
	<span style="color:blue">The variable <kbd>x</kbd>
	</span>
      
      remains bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      We never modify a stored binding and we never store more than one binding
      for a given variable.
    </p></div>

    <div class='permalink'>
<a name='p24' class='permalink'></a><p>
      The
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      used by
      
	<span style="color:green"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue">
	<kbd>extend_if_consistent</kbd></span>
      
      to manipulate bindings are defined in
      section&nbsp;<REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	
      <div class='permalink'>
        <a name='h7' class='permalink'></a><h2>
    
	  Patterns with dotted tails
	</h2></div>

	
	<div class='permalink'>
<a name='p25' class='permalink'></a><p>
	  If a pattern contains a dot followed by a pattern variable, the
	  pattern variable matches the rest of the data list (rather than the
	  next element of the data list), just as one would expect with the
	  dotted-tail notation described in
	  exercise&nbsp;<REF NAME="ex:dotted-arglist"><a class="superscript" id="4.4.4-ex-link-2.20" href="./2.2.1.html#ex_2.20">2.20</a></REF>. Although the pattern
	  matcher we have just implemented doesn't look for dots, it does
	  behave as we want.  This is because the Lisp
	  <kbd>read</kbd> primitive, which is used by
	  <kbd>query-driver-loop</kbd> to read the query
	  and represent it as a list structure, treats dots in a special way.
	</p></div>

	<div class='permalink'>
<a name='p26' class='permalink'></a><p>
	  
	  
	  When <kbd>read</kbd> sees a dot, instead of making
	  the next item be the
	  next element of a list (the <kbd>car</kbd> of a
	  <kbd>cons</kbd> whose
	  <kbd>cdr</kbd> will be the rest of the list) it
	  makes the next item be the <kbd>cdr</kbd> of the
	  list structure.  For example, the list structure produced by
	  <kbd>read</kbd> for the pattern
	  <kbd>(computer ?type)</kbd> could be constructed
	  by evaluating the expression
	  <kbd>(cons 'computer (cons '?type '()))</kbd>,
	  and that for <kbd>(computer ?type)</kbd> could be
	  constructed by evaluating the expression
	  <kbd>(cons 'computer '?type)</kbd>.
	</p></div>

	<div class='permalink'>
<a name='p27' class='permalink'></a><p>
	  Thus, as <kbd>pattern-match</kbd> recursively
	  compares <kbd>car</kbd>s and
	  <kbd>cdr</kbd>s of a data list and a pattern that
	  had a dot, it eventually matches the variable after the dot (which is
	  a <kbd>cdr</kbd> of the pattern) against a sublist
	  of the data list, binding the variable to that list.  For example,
	  matching the pattern <kbd>(computer ?type)</kbd>
	  against <kbd>(computer programmer trainee)</kbd>
	  will match <kbd>?type</kbd> against the list
	  <kbd>(programmer trainee)</kbd>.
	  
	  
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<span class='comment'>
	  Dotted tail notation is unnecessary in the JavaScript edition. We
	  simply use the <kbd>pair</kbd> constructor
	  rather than the <kbd>list</kbd> constructor
	  when we want to refer to the rest of a list, as shown in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  See also section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
	</span>
      </span></td></tr></table>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.4' class='permalink'></a><h1>
    4.4.4.4&nbsp;&nbsp;&nbsp;Rules and Unification</h1></div>
    
    
    <div class='permalink'>
<a name='p28' class='permalink'></a><p>
      
      
	<span style="color:green"><kbd>Apply-rules</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_rules</kbd>
	</span>
      
      is the rule analog of
      
	<span style="color:green"><kbd>find-assertions</kbd></span>
	<span style="color:blue"><kbd>find_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>).  It takes as input a
      pattern and a frame, and it forms a stream of extension frames by applying
      rules from the data base.
      
	<span style="color:green"><kbd>Stream-flatmap</kbd></span>
	<span style="color:blue">
	  The function <kbd>stream_flatmap</kbd>
	</span>
      
      maps
      
	<span style="color:green"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      down the stream of possibly applicable rules (selected by
      
	<span style="color:green"><kbd>fetch-rules</kbd>,</span>
	<span style="color:blue"><kbd>fetch_rules</kbd>,
	</span>
      
      section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) and combines the resulting
      streams of frames.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-rules pattern frame)
  (stream-flatmap (lambda (rule)
                    (apply-a-rule rule pattern frame))
                  (fetch-rules pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nw8akEx2abEShEEYMDKgAAMXU5SJohCYAHcOAxnVxeKJyMQKYMOORZMLiRHXe7Rl7w+MOGnVaAANSgeRdYkbUlO7O5j1w-2DUBYgDW0yDoYmLAY5BYACNxjI2x3u+NlFnpgVo7GAwmBMnjKKaFdIgAiNyL5QLmQjyPccdx6hT5TWvvtzs9pgwzocrAgUC4rmEWg3hiUNgQGDwJCoNDyNCaHC3gPbNY0YeiwDiumw3DUPwpAzkYc6AbsbBdqMMjgZBQbDLooAAD7YdqRg7GCKoAOaoc+6HQVhuH4QhXaUJQ7yEGREFQZhOF4U04p7MxFFscY1GcdYRAiLgKpzGhrEwTW-51sBoygRwbaiPgTA8ZJhKuCKZZbBJGGkDWtbIjsVTEcRPjRvQZRsKQB4xJULDEbB6ybJY1jrvQ1m6AAZF5oC6vqnkZOk6SgKQdkmQZMlGdYhDsKpumUaspYuQhJlmUIFmkGpenKIusVsEwi4Xr0UU0LQEhIQxHCULgNhxdliVErO2k0P5MiHglmHFX+-QAY2o60LQ5DEYQBXDPSJHKEwAAe3DMINgxOfBmUyIuLALSNY2kKuKKTaAM1zUwC3UN1pUIetQ2bdBDVsU1cEtalDnpRwK2dTZoBrRto3QUV0m9XWF3Dd9wy+BVdFgeR6lJc1KVtYecPVDdMHnn9iIA19W2KaBKkcAd81DdQSNLQ9CNQu1iNvSjl5nTsIjEOIDC7kxHkwdD90pcZT3mVYWUs7lrr3lUIN0wzTNFexNGc6Z3OWXzH39ie2Yi+2Yu6NRJX-ciyuM5O5WVTagV3fBpMOCbVnI3ahk0NrTNY8p0x40dBPM5irNGyTtyHoeLNU-CNNAewXYCCwuOzfjgzm7B8FS89K1y4u4hIcHoeHcdhC-RyZ2J0HIdhIzBUerQkds-BTJyGDVU1XVBXKGbPuW1ngfJ3RAgSMX7uw57iPe67vs9Wj0Vhi1NIUkwW3t0k0fWGlMu867uVziPIxbRnGsDzQi+O2nE8w+Wde991VsIQLAjkAGoE77vYrT1zGU8+b-PUKf5+iCn4fUOLAmNDHs8Px9J9n0GApego8V6nU1jQABL8OCHVPhOVSPsS4PUykPXAf8nCozvKAKBQDX4C1oEwAAjipcaiCO7lhQcwNBcsdCYIAjg6gClQIelihQKYl9nIUJ5qgv+ABmQ+-tfBEJIcQBBvckEcxvtLO+st54fQIcQ-gojV5H36kIxRJAxHWQJBIrhllFwKJEYVfErsCR0LrIYpR0wQHL2gkXMhxhJ4ez1OTMm9dzHcgiPQJeY9rosx0eQrYbV-HgPXusbxNjfHDHsaYqOD0e7aNCVgnYY9uCkAkOoox5sAlOMkbsSUISPGuReutUgPjx4hN0dffJDgEmkAJAIiBtFRCUGIA2DhnDqkzxkXPayuUeytIbCos6Ay2kcBbm3MhWlO4uLqZbI+OwxwxiZhwqe9lpEvXvvHJZE5BjDKaaVN+TsI5TKvq1LubiD5FNAO2YiRy04xMNrkveFzamI3ro0sJOx+wyAOsTPJ3TNmWQOrlFcnysHMHytMBWg4joJiYiOJy+DHSbh2bbRMXoWxhgjGiyciZ-AlmMGdXI0xgygXaX8tmgQ1k-MpTRUAHg1FYphaeX5s1hw4qjMsvF056XKjcuESIfz6UeHXCSjgZLRDtLan8w0QJXDisle0w8sqZSNBCAdQlRhejJXLIq8lG5nSH2vJQPgOt4xVFPGufAjoWCCFAGZUgV4wC4CfC+YgUQeAelALw0AcgmBYN4WgIN-D+5YIuq0mQTYJDDgDZQBgAgcm6uqfKDccaE0Ehoh4YSTBRJBgEDRDVxCL7RtrrcNqzBXQZvPPShlflbiVvjYmtV6qbmDUjaW0KiNG3VvBX1FgTZ7KsqRdQegoAWmxlfpa8YXoVqLgAFTTqYPOjOrgs70QbPgZk0aOBKFADulYd1AjIroPgLsS6vQRuIFGpgGS92HgnQpJd7J6jkFwH6nYOa81zFoGe59Tl6jwS-WJAQWrAjdH2qIAhVL6gnp7QIS97br0HoPO8v9sKX1NDWcB-Naaq28vlYEbNghc0gdrckEIh54MXnqDq4wdGjA03vKMLKO690odAEpFSAHjAnt-ee2FiHaAdtvbu1DZNH1TowzRlIb6P1CRI9+uI6HTwwhgykAhZSH2tKfbCuohHAjrhWmxtcgqb0ZM0MoLjZ45UGZSNpydQ7xhU1o5B6DR7YOjpRemhDIUr3mY4JZrtbiVPOZk9-d9MhP2KZA3hptamPOgAAJD1E0-ZELAmrVYBS3ZwzZn1wces7Z3L9RvahZsxeHL2q3NMHU40NLVGfNWexmeMDtHFQMdAJ1s6p9aBhFIB6mQbAePs3LC+YKIUE4bq3YucjdaWmUE3dwObIRxvBQ+iqAhDBtpzaMB4TbLHdtKn2gwJ8kQ2C5QAKqEAbIQSgwYaCmvkgBAAtC9rtp5V30emeWXr-WPUGRPU981e4L0hTUUuglWAT2Oq9MD22kOpuLZmxeE93AbVw7NQj2Fq0DvbYzqogd0wuwqlPoQUiLKhycZa-88s65KdMGa-bJJAESeCBIljAcrK2dk8clS42tweckRZ3WIX5O7YqRkGLvnR74KHmlyL5E0v4UcFdfVBnyg1cFVp1sfzGvHxxUVzQGaVJZD6+s5r-OZ5+cPXXGo6XR4udU6K5bw3kUmkiEKIm6qTEQXU6d4zg32uqXEuYKSg11vEsEUi989svyEv0rk784tDh9c2bqw0OX4YmBtZSBBsQ7ndsnq7F6ZXKpVdW9+a77XufGjYZi7hrsLaSseFwKBAhR2KOhTDxKg1yvrNS8w40XoSX89Qdq1H6lD0djrmt7tjw+qpU3Bcen3C3emDh6XyqmEu2Qht-H7XrraxOtZ4373pffz3dhJN-wIQb6YGUAWqy83oFq+R7WMX0nJFS9f-F+XrXqk+uAB4W2wkW0uoAAAhOtjhtICNp0jQEQG+hkliANlEFLr-ncgPgrsoJ3o0EpG-p0KAMfjVqAfJpzkeKIAliVsYNePOnQYqJ-uzuTj-kwXcv-pXvgUHq1oqPBOAVASFDAQWoCMRkgYyBSINhrrgSkP3i1ugawfcElooYxlbs3ikBqtNKbo7orIHpwcAWBmPtBknp7rftYITJwUASoRpLQfQYBg9IuG3lCNIIuPoSQZPvBDfoIFoXptTqIAQfodTE0ogbgMgeIWgdwHutwEFsATbilAAUFJNg4eMAILNvUB4PYdUE4YqEWvgBfOEWuDoIqK3lblkQhD8uEboIUftBobfgmLVJBE-r2HkaEFESoSUbHpEJERUakVUabrUQ-g0apJEWuHutEaANYfOm0QKtcOUaAD5AhOuJ0ZUUESEaga4g4OUfptQYeJ0ZsSVssWIasW1BsVIfKkcToLsdQY0MAaoUYCEOkY4ckVflgkNOTg6HuGCBaNNDrvOGZtNMoMaKAPKH2nWDsCOGUKAo1D9l0rfECnPBCcMAvM6PsmEgLPTPgM7Ias5jES8rMt2kakbhWMTpQK3Jie-smsUqml7HiWFjcfNvfGtKIGShINPNnkVCUWbFRvicCciGOBkiHGCSOMoIogwBkv1iwkKSpCKRXoblSievTKwNSCOJmPwHFJztodYCqKSSASevsfNHYI6CFLWvsSgYNsKaKRSOKSca4KicpBifKXatis5hcdQWadKTXlCQgYQKIXqaIAaetvcUkSkbKICXsCUUwFxqPBwGaaSeMsSW3PaYqUas6fViRG8dSB8ewDILqUdPqfMmdOidMKTjNDIP1t8QhEROTsvrIKWdyTQI6uaJmdGuxreoeh-l5nQF6I6uZs2RILQh6QhIIXILoHKHsMdrQE8QBEWdNBwDujVCWRSCOoLPurel6EcQuWBjSnHtGsOR9CuMdtGgZA6KAAACoAASAAohwAAEqXYAAy55yAIU8ofoZ0uAGwHqjpR085vIFgBB2JWwBZ8KIg0035LCtJHg9ZU5PgI4RcYpowhAtJIQ9ZoEr8MFUOa8WCyF9gn5RcZZZ5l5N5954A1ykFJG000FzosFFp8FZZGZ+QvAt+Mg5G9ZdFUWZFM5omc5cFFgxW1Bi4I4L2dFRUyZKQLFtIq0K4iJ4wgltIRUxqLqECD4rqz4r4cAiAyA6A348gYaAE4Z2Mo8SMU0hAEwcSeSckjMEMLEektJe246Z88kr8A+lM+E-K1c8UkM1l+EHgC2S2oM+sEuCCFcr8VcUKRMRlJlLlCENsAYRMXl+0SkxQ9MKsMVb04VNlx2iyGM10zljQHgelr8gMV040qV+0xl6VrlDCsUllvEMEcV+VOYT8gCjC1VkkaVkVOw2cycW8dpHllEcVaipUMgnVucKsBcowRclMIluWw1sZJJk1pVEVrahEwiVisVuV8VwCK1mi-qGioi5SdiYVC15VzSgya1DQeVCVoy7SJV-Ai1DQrli8kS48OV51G1qFw8T12VvVCJR17V1guKEcL13RvJvyEZIwLI689yPVVllEaVU1DQKCVc1mRctyUNgwE131MEaVx1owZ2hlH012t292ZUEgwwLA00oAb2b1ORIwKiR8INuIygtySa0eZBc05AbAgCnwg1uICeyQ8EvJMCHYnNbC0wPNrINyDAxEZiSQBhtWSeOwEkwkquECENfNx67ZPpBp1NBlhyEyat8N1BHhQgt1EQ1A48VpgIhyeccUhcBtltTQzNhtlxjGECuMxlZtwMWUvNQ+ZyCEi8A+Wt6VxgHgAdLWDVrw40QdtaIQghWqct6muN8aENV2N2d2D2N4TS6SfAlN72vJX2R+fsTSiNtUyNbK3AtAaVMGpc2ItyGQ2Q+VNNqktycNVRFdtZb1Edz8uC+Nt1ZZxk4YYUbcjdBllVCksC3K7lMNmE2NWaOt4NY9eCo6W1WU81fdha897l7O0CzC8FcY7Ca9ZVE5dY9Vli21-iVdR6Ct1gqS6SmSq1IScBQGDe0gLhBe8tMeAcESVQtipCsScB5Jm9OIXiZSn1f9iSigfdb94+GeJ6okDA391kAVXo9KI94N8D398JvS9SCQUDio19Q8LkAVwDCDoDrsAV6tdeD0GDZDSD1mh+Cdk+gDp9W1oiTFBm80ZDWDjyODkDR9HWx+ARYSJdHARAhVuGUKLNo2WwZcHA9dH086YjX00gK6ygkjHdtAsY1IboZS0V6NRMVKBDZ9bDlMcBfGpiXoxj1iP9US9SRMh+ayt9GSVj2SwdRw8oK2NyDFnhmjDpOjiVosAYRcND+14DODvFuWvj2jNqATyV+jDtrgaiLjnDoTdjj9vtjDPB0+1gejhMQNr1K0uT6ZQVRMbjIQz5gjRd1+l1E611mNl9bZS5EypetTs18ZmN2p7ZkmD4IUUT1UMTRTRcEynTS5Sjl0+aPTdl3iVcYzQMcw3TIB7hYNqkEyU01RRQptT4XtQ1OmUGztLtTQszI00gldRBBzLtfdHd9Vj1Njz19TR1-5NAaiYd9s7D8qaDqkm8YcxyeTHT2Nx9yI9V4jdz0970fdsp7Z1mXoHzMgwL0EAVaNvzoLCQR1YG4jfl4MxDcLIMes4Mh1FuqL-Z9DQjWC9VRTvdZVVK6LuLVUA+RTGLDEYVioML9L1miLTEh9JlIleD8I14pUSlbqql74GlX4waOlIJLJNqUQbcXxjztE9EjEMgsrc9FNE23eKkZzraSdkQfxH0dEDECpbdAaIwAgsaoi5AUwAgQQdNZ0A1qtNtY1CDygqzDzsuyC9JStRQpUq4u2DrGw41zrcZaV1yitkMytPN-dUisc98uAj8LE4bECyJWC1to1-rCDOIZZlCuaOIygGCmcBybt+tuAmb3CVCOboAfZGFAEhymz5t10xbcrWbaCsbPqHdzzw8Tl1AVIbs-Zc6LzKkO0As3bBJoJHbshRWcrP8PSFBKkC8Y79sSbAE-bLoXb10E7brMysgh4RWVzJALSLxdytb2z4LG7eqiMPLR8ITABvylLp7QStwF7Z0Si+7xObcABl9mkgD6477hLvQJ6YUDsEEd9R7W0mKewL5TSA1leNLezPhKkUj8BoQZmMHpzyNBJABDLUGOIKh+gn7ftbUeh+bYSGHZd0RegeH0jNAh4hHVTpL6zJtHtWzFSQVqH7ezr60Dst7vb-AxEYU5c+sOiar4w5OfHSkmaTQoqZmUH9UKHTOBI7HBC7td19146PHfHKHugAAPKpyJ2gWJ243Wtq6tMefRPWHahIJLcRPgFtA+L+lytIHcQWJqyVhWcREgfx+DDooWDtIuE5yca5+5-pwZxqqdsnYuCZ5QDeCGJZ9Z3YqevZ1ax9H55cQF8ER5wxF5x9LlMl9Qal23EFwCzQD5Vuph8QzBw02uk0rdS9PRMyCe4qGdFE+l7B-pxnoA1xAUixwZ8kHlcZTV6am85cc+4-hziB9dJc7gSEDB-EfWi4hpycR4G1PpycVN1o2sc1-J8Fqnu3r7a4J1q4EnrdTNwB7jEBxkmN7dKg6F5EOVwTYQHRMJICXFAXeBq4fSnA1bl6Fe5Xng4CPBE1xhyh9h4bvs00CRy1sE5YQw4I8w31wtnV-w7RwBNS0FWV0FUzhV0SlV3D7VzeyZRno12t7Jz4Qh7YXkqmvNwZr1xMP18yFIcNwe0p57ePBNwZlN0FTN8El153h4Glkt2xz4d18EHQGt97F1+Jtt1Brt-Rs54EId8Zcd3ZE40z0x5CYCEZ7d4uNdg9-alCrnW2uM2Agw294CB93FF9yA26apL91hg9AD1bph5DyDw7eD-bE79riAXtzD37dV-D3j-JZnevAKypVAGpR+JpRgOK4POzSLRa2LarbzVUsUoCitIzR9DH1zYVASRn6LQmBBOMFtCson4EucriWTD7YDu2Tn3HyrUH7OvfA8HOv5DtMYP5ECBE3OtaC30YNaO38mXOguN30hxEH343-SZlEP5lKPykHOh16IDtHP40B3-SX9moDtKv5IEv-3-Sdq939q4CMv-oigVEFwF2LQKuMf6fw+PUIf1lIuPmEP8YEq8oBICCNkBTYWBZ6ALf6tC9o-6kLq1f7yMKa72L-j-wXT-8-UgAt-qAAprzpQAYA7fvomACQDn+CAmARTTACICx++iAAKSoDoBwA0ALgIQFGBwBE2R-mgKAHPBVW62V-kgLv78FKBhAmgZAToHgDNOBAl-hgNADacjA9AnAXf007pB-+VAngcIP4HgDMgXA9AUQOyCSCGBq0TICIOUCBAxBcgkKOgMUGLgICkA2AYEGeBGAICxgL4g8FRxV9hamfWvneEd4ZBFQZcfyGuEsG59+W5gpctX25pu1KAXYAAFbGsem9g7ELiHkYD9nBcfHaGbB9oRNDMYQzwUHwvDQ4LBHNKwcijtT1J6+lkOdIIR2iCFoh5zKZnf0gCEA80Z8CQC3yKElD0keQ85nOkv6wBIA3fOoZAGqEHNahFIE-ueSH6X9zyLQl2nOgAByLAfoZAMGH9ChedmNwWOg8ErtBYaQ2wekECHMh30zwAjii2mER0QE0SSYY6HWGpCQYyNOwfUDLjLDsgkQmEE4OSG589hODCDmEkFrrDxaeISzplDLKC1y8OaMYBIA5w+CPg60YgB2DSSDcgQ6wjmtuFsZF8iAvQ1wLcheEdBAgJLACJphK4XcsoZZY2irzrbjQ5sBQRig8LdrE8rSuwrzHMI06g8vGXuEsrEPj6Q1vBfgsgKc0JFUiNhQsMpGhzJEndleKIw+EeRO7EQWkXYBSCiMsZlhuAGI7ZgkL5aKVHwIfN8OpU-CYAo+kCLtozDIBRl4Ok4LEAwHaQM5I2iEZCJEDNg6id83RDkojCNG6BvOHAXzoWDy5Vl1u5o9kq8i8KqYCS4ELEEIhtomsJo5OBDgLWIDEBrOdgAynICZr+iYBD4QsLC39EzdFwvnNIr5zuLZdCwLAMMWSJSCxiTEHYH0QSSIB5wCE3o4iEzSlqnNUauY9sAQkJBJZ+yrnJzouFWhOc3RIcAhJ6LmBlxSxhAPMYHmZpqZvO2gZwkRywRliEG0wD0HSFuS6jU044yonlD2BBku8HVe+OONmJeR8IUWGKNxEPDji1Y2EWblu0Rhbi2Bk2MFJUTtFLi1Wy4Ocd0SHYqiykiiegPGE1HtIpxTQEIGuK3A7gYqS4nyLWnFD1Qa23zbeFuODppF6xhYIcYp1HGnjixsLKWueBy5NBfO1ougKjxCp-i3a3VCOAeMLC1pEJTncCSONGB0gzYzNGCY5Dgn5gcJfYjevhNWgT8ixhY0APhMqCETjRaheYmZmfHBkaJi4QfsoBWhtRxxEvUiecMYkdjyxBEhgMNkmL8gSIwk6cQAHIkJddbzopJKK2jxx1yJidGTNITjuIBUJCChDag6S0xjQOdHamSK5R40PnO7NtFygXQWMPnEcHJXAqiTOxdo4yVtxkAeSmJo4xCq5PEnuTJS9Azyd5LEnDi1RowV-oV1AA-C2wmjAEayPDpzRWkTscurqIBqExhU3RMyVyl2QfxNc6EgCRiT+Rkiy4sUv4QlIRbJTREg0eiUXFVTSTQqWU4MnOkkrIT-KqEgqGlL8maoERdYV0uVDJrTlqpqUylFfU-rvjuUEcWVOpjgb4iOehpVLChNqihV-xqcYqbNGl5o4nwNUghEIGZpegy4A00mlUGGk7SnYdU7qbnngiHJpu54wfpUXXBHFzpg0HwN2LLRl91iL0vaVwGLE1p6ge+eafrBjET9Hp30t6cWJKK3SFp-pcqfFPIBpIAql4o4N+yBngxSp2IOGf8IRmJT7YQtFKbVMs71TNprErvKjMhq3cRpr0-aX9OgaGEJpTUkmepmWj0k2pMHaqCtPqiyo6ZE+c4O4Vmj+EkedYbOtb02mTspiQqTaZURlRSyAZJ2PGn7i15p1iabdd+FRwkB8BF2dYIdgdTGn9kZ8ZmZqT108lGzAgIXBWeyju5E0M6GE5EDrOiQ2smk9k7bBakoDjJRwAgEQLID1mAMRZaUmMc7O2jXI9Q+016S7L3D60fZ+HW4PbLsbcy+pRkWYcME7Dg0-cP7IgDryED9gOAnqQQOMAYBOQzorobgMPTFmT4CGtKJmUw14ztlwCIUMvNSGvZpyVCh+drgphEixYFcuBYjJnM5w5zzJ+c8ugQUm7YJTUbcGQq8wVye8Ze79Ugm+NnxVz6U8EdcMXLbgyzuAIk1eet1VTG9Z51cyjm3Wh5e9AGW8y-AnONz0c+i+CHmGu2PDeFg470Mjo0zHR1zQADcq3s6KpyEc25ojF+rIC7kSceijFfXA-OHkvikOP5akCaTQITzJc2BFQBSD8LnyIFLCA4oNn6wLBEFXBMsnEXPGJEnCsvI4AGUyJyzhEuRLBQ-K6LBk4iRgaSWUQXKEKQ6QCooPfmvn0BroGChBY-NaJyyDZ0xBhXMT4WRBKFj06ihYDQVoFtiC5EyfZkRiUKZFyQbilAtCJ2jSyCikrG1HkUJMgQ1xEosQseLIKPUAaBsFwGpCBzMJYcgMBKUikwIsFrpJ+daXbLQKh4v6X0l6CUUSKvJQU2xe9HMXUAcC+Q+VPYpbn9lnFWtGMfguSKVEPGcsg9mmQbJ0gwlOZX0tyI2AnkLyHAAAILgBwA55K8seUgAAB5foY+RDL2Bbhybd8ifz8X3hQK8FP8newQKKcpydSnipUVIrAU3pli-Rkor8lYUCq3S0dCRQ2BcBsKNS3CnK3wpZKcleSgpcUuIoDiAIHSmaF0q2xBNWlCFOVmJQFBTkOKGSLimIoQp2TBlhAGSqiEdnEdScXAE5VRUgUNLqxtIVXBiDLjkYH51neukdiMVjIHSNSn4BSGs6mY7l2C0Hm+VQLXK1lPSw5QQQ0agjsw2k7xUorfwJLaKjynkC8vqC4Lsg9KOiluBqKaggRVtK5eMq8U2LEVwK3bACUFpoVXSZK64iJUB4GhopHzCKSKRJUikkVdFRcmOkITBCQoXZP2R5MXDMqzSL3evB3Nww8rIRc9IaPn2mDwrIpHKg0BvUlUctV20SNlcFIZWogO6OwKcjjlLLiyZJlZNcsjHYilE48JqvMk0noDxoBoEKvcOXhaU1KnIBDPVaymdVmN2y0aL0LstnJoJnVh+OUuYEhRlIalCSw4SVm2UWhO0n0e1acqErTyjA6OVjLemOVxqzleQH1oCHXA1L-iMAgMadnhZhrOVIBTJl7yrYWJSAtqz8irhaWIoIW7gw5V6BtLokI4iKMDK6rIr6rDllDDWkuW9UhRfVnFNBL0sDXtkC1IamtXRQjW5Yo1jZVNR9AEoJrD8ya8zFJSYAZr2AWapoOuEFJ+p81wa+FpuBLU8yqUvQIWTyU9k1r404KljBYrjW6iwSzqxhbZRDmflYWJyvyW+t+UBrFlAMK9T+s-VUobVzAW9eHOpCOqyKH6h9WBiByiBQ5cayZlMuyW5L8lRSkpWBmQ0zK0N8y9xRxJOV5r5GDEBDXetHSLM7Ci2fsRWsvVCABSRqYDVWtA2bhINwFLUrBvbLEacKXoKZYRQfKYaMlvG0pbuudCEbngnGmCuRpSiLhKN0UlJGdwjo+DVaB0X0dkxqTl0Za1GskJbwFiKbEQ6mssuvI01HwUmOm3qMTPbpysVUs0IzYImV69ZdNd4fTYatTTKb0Olvezb1Cc2NLdx+m65Ckw82IhzNKmlKFZvbrXIgwxEUeEIGjKua5WhmjujpsoCalTNgWxVdqsNXK8UtjmrLTg0qJaq8gJRRLZqRM3UAHNdjHLfJ07zCqgpJDbxDlrIiEAytlWqrC7Xy3ShD4q6taIIB87VbIpg7UrUloQoVKAI9mwbT8CsBNa0tQoDLfJoC2Oa5tuW7ojErYkqgPQ7wT4PivIy9bWVITBbeNtoBNaUWbW4bIkBa3Ah5Go24rUdF0YTazN+2w7aduoLHbLYnWqyblG21lCFgE2wbQkLOgRaDKTtLgsirlY4q0V2IcjJiuywNA5+oNfSiMBZVtx-tJrBHaRMq2BLAgcSjYO8XErXFnAZ2o4JjqrXpkcdrRJQuUz2CPbAgz2msJ1psk9blmCOnaEju4JHwVlAY1OWXP7Iws-cvI-kYKMY6YipIyCrGZVIHyA7nt0Mf7qiueXg6wen3LIDRDZ02pVIm2FkSnNUgnEBJf0t-Oor9QTBNcb-S2kZ310vqXaSs62T8UdD9h9e1o7LEoVcCLgRdOMpGf9PWqE7sdAoYAhvXlCG1qdHITrU7sRnWZ6dcOuVUFJ2iB7cZ3GP0CeixDTkN+FnEKAAE4ugPWKwNuEkAJKhyIeD3OnrUAJKEwHoMoGozgIEMKepqyfAnSTw0A1W3oABsYAT0yB5J8k3KGgDb0vc9uJvJoI3uCTIxW5DevPZnpxX2UbujynuCixoDvY827WY+QPr6z57h9Re05nHuECD6opyC0CEyUlYq6RotqqbdKDlbHaadNqVaJvskDb6Q9ykSMiKqZqMlz9lQbPL9qaRUzrA0ZFUMmqsyjA6IQ0KoQ2u5VehjpQ0-GbtPnLDi2Kya2sR0DkodrIsUwBgN-tKGHj5EjhYYOLEnyN7Fwb2d7C-tABmkXgEB3On-0IKKhG9WkmrYQlhBdZXCnWJPGGqrXuyuAnsuYBQbgJvrNwN6n9QBpOVtMvJ0vVmn2C-0jd0kSBgxCge2j16jAGBrA1TRqU3ImDCGaQ29l+hUG95nWMtSkCkOKHcDQU8JPqQfCKGlDialQGvqz3YrHl6KwjJDuoJkHIpBKkrKrrSHq6vJOuvXQbvkYmUoRxgD7c4boCpksdxOgUECRczfYL1Wm0hqYtoDBgUI7+m1FysdCEIAD3iwaadOAOpS3JMRx0N5ygO+0zeBUSZt4cIT4g-DROrPUEY3KqbU0ABcTsGTyiRdoF3+B+SwFmxJZY6YUxTm-qTkUADKhRnzVUZRZ9g3DzwDw9FKpWUUNl9ywBqDpl1095USpZ4EdkFr8lnQpJQFeKXJXypQVH5NCrSqh6XgX9KO+SYHJkDo6AAOlgCfXeMhA9B3APGjpA+6EB3AtTIRhb3yxBDBCDOPsejKHHLFxxwJWcYuNe5Kgbsm45JPnLXB8AVmFFjGmH6RAIToAAAF4iTQAZxwIDiKKDXHbjAxh4wibgm5YXji4OA9-qz5dAcseAS3nakiMoRDjlxoE6rkxOAC+J9JJo-0h87EAfOyRGEPJIvDXhPjNW6k4CYxOgmGTBQ0-T5y7Csn2TclfE79CAA')">function apply_rules(pattern, frame) {
    return stream_flatmap(
              rule => 
                 apply_a_rule(rule, pattern, frame),
              fetch_rules(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p29' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Apply-a-rule</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_a_rule</kbd>
	</span>
      
      applies rules using the method outlined in
      section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  It first augments its
      argument frame by unifying the rule conclusion with the pattern in the
      given frame.  If this succeeds, it evaluates the rule body in this new
      frame.
    </p></div>

    <div class='permalink'>
<a name='p30' class='permalink'></a><p>
      Before any of this happens, however, the program renames all the variables
      in the rule with unique new names.  The reason for this is to prevent the
      variables for different rule applications from becoming confused with each
      other.  For instance, if two rules both use a variable named
      
	<span style="color:green"><kbd>?x</kbd>,</span>
	<span style="color:blue"><kbd>x</kbd>,</span>
      
      then each one may add a binding for
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to the frame when it is applied.  These two
      
	<span style="color:green"><kbd>?x</kbd>'s</span>
	<span style="color:blue"><kbd>x</kbd>'s</span>
      
      have nothing to do with each other, and we should not be fooled into
      thinking that the two bindings must be consistent.  Rather than rename
      variables, we could devise a more clever environment structure; however,
      the renaming approach we have chosen here is the most straightforward,
      even if not the most efficient.  (See
      exercise&nbsp;<REF NAME="ex:query-local-names"><a class="superscript" id="4.4.4-ex-link-4.87" href="./4.4.4.html#ex_4.87">4.87</a></REF>.)  Here is the
      
	<span style="color:green"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      
	<span style="color:green">procedure:</span>
	<span style="color:blue">function:</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-a-rule rule query-pattern query-frame)
 (let ((clean-rule (rename-variables-in rule)))
       (let ((unify-result
             (unify-match query-pattern
                          (conclusion clean-rule)
                          query-frame)))
   (if (eq? unify-result 'failed)
       the-empty-stream
       (qeval (rule-body clean-rule)
              (singleton-stream unify-result))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlKqu8kt0CYpi+EwmmYLK1CAFxK9KAwyAk8iw9D8-pJAeYAD6o4G+LGQg6EHIMADmCNOSIBhCMoHRmKxFkheVotAI8gYxN+-xRVJp2Le0Nw3xJ7PJvk5XNpb0YOnwfGEkn0iMFBi2e2eHxYX0oWVwZHwrNJKOMvmpoPBoHlyMIW2iT3iLzeCwJBPwOner0IelxCUI8wAFtZ7UCWm0IW8Rj0PUKAGQR0C++T6cNGNhJ0CEX2Ue2W5U2yEMeQJHVmskBkFB23p+QOp0u3G6wUVXq5-O9RVYKJZsSgA4AT1hjMotD4ULzBYF5uL5mN7Vj+gWwn5bLHLaiVtizySqQmBwOwgJDHzTHdeJlBIq+AAHopWlv4uO-GD2qoa715Nfd-vCENO0fCaeL1ft2IS4rvswabtub5krWY4mEapaQvajrOo+bqFkw9YvuBe5ks2SrWh2GE7lhTCUN2vbznqQrNCW97iNOeizksdEMVBRYbEB7biAREHEZq2qUOel74NeYgsfqsE0TG+BxvRiwyXOonkpsraPKu2ZvJK1C4NkdQiQmMGBhJ8EVoh1ZuuG9Z0AwuLMoQlAaVpJA6QwzaUhiopiuWlZIa6h6evWxSrFQ9naTMLlUm2eHiMFjkzCRPb0kselUXeJpMbJaXyQmbG4apHbRU5GpfHxAn-vEvmUZik60VJM6ycxWVAcBzyQlpsI6PI-F-kJAEskllVwXaxlVsh5X1q1eTtZ1gnCc57GRaA42TZ0jn5q4BzleOVWgEkijuvFfYDkO+YVBliWEJ62XKRxC15hNHX0joXYbfpE6lqdclnRdSnLtdkJVSRCzMO+z3JVtRleaZo2gL0-3WUD2FzblQRBlNpW6edFXUalNUfRtjW-W8lk6MIMxfCD4kmuDJkjeZ0NEyT8TqiV3XxGFbnuWWCHDT5tO9PTpO4ADGj4O+OFXfN-OM4LgnE9MOp9VjD6urIUpQ54iMgaaYjEwLNhWfgACO2oHgrr0SchKt8FDdwa88ktiOqXyuLmIgZPLGObaWFutFbtMAMz4-NOKG8b1DuxdL0pe0VPczWvMHCHAJh2LEVI9tKTWAnRtJ+HhAHJ75s+b0Weh-gn7hvnOWayXOdC-DTDrUlFj9RJ71ZVXzzSiQuJ1yLkEVwX2PSQPHc2letlw33DflfnkdbfVGOV+LaeQiLiiEF2JGJ7Euez6DA1QhQn157banvC+E+A1PZmL4P0c8kfuMD4HK9vAUtDUMk5MGZTg0QzTGN6zv0-inJqNpgHJEoA9J6pszZD1qplD2L9NaQkmLUGY384H308tTHmgDoZoOmKzU+HYOKoxZujCO+9W44wXl9Ue+ESAEnITNRuHs55vVoXVWSDVMxBzeMUPQAlbxgz-rgmsAl6yDGQc8VojZrABVKEJbQLJgi3ksriSoExlBTAKroBw6RZBWG0TUIhWhdCGB8BYa6eJ8DWCkF8L+wjI5YlEYVHozjqSin6OnDchjFFrCEReCo4xCF6MaF4rkAAuMsoYgmKAMJEmkPi4m2PsY4vQdFhEGDKEkjm5g0mUAcbgL+zFsmJPyaAGJAkrHmCiD-dohTilfzUZaHYtBFBqligsNYwwyDEGZDoUAjpCBYB2HwE4ZxqDeiUK4UAftQDunwJrP2aBVkBxUprDCH89CpC7CE5ZtASA6D3hTbBvIlitDoMc-OeSLA+IlFKGUTo7nmGqUbMmeyTo4zolco5Jy2KvPuZJaSfybkVMqTE7Z1Bdn4H2SmWSYKAUyJtOuP0SjDAuI0cQXAH91Q9IIA4EavQABUBL8AkrFr4a6uLaDJDILtPZlBPAVCZTbFxvhsWdjIHkclDhoWws3iyhF8lcXqEFuSpSophB8EWZCR50pZTuh5ZK28ootoKueToWpWIIigHwLgBOHKuRcqRfyrcOy2XzB4SqpRUr8luM1UqpFELKlYgeQwSUiqXluppDE5iLqdW+HqRYEN5hfr6xIG6JlwqrWgF4usY15guUHFtWsc1BxLVwuZda0VeKJV2pbNK2Veh5WeqeUq1NvLC1JqxAnWyzExX4qUbk31XI4kjRjcMLoPQ40Jo2K2ttHNG35vLGsS6oo9UGqNcldyprDnHIzVmzedxc2JTTQQe1HMZVyvFOW71+gXVqtAAASFFPW8smUN34FyWeodNI4lxL7UVdYg7735Pqtey6d66n6sNfgWt56iCXsuQunQFR+1Bq5GG3V1IYPXWJgcTohBpl6ASMerBiR2DJl6LS+lihehAt8D4vDDKiMWBiWcJMHBegygTlGwj96fF0ZYKM+91SSAnB6AkesABVBgyQGC0CkOIDpXSbQAFoJMIrWFS0NZyoqvGQ9My0XKxMxXqHyjgaKx2FBbFykZDh1MFXJX0UjBH9OHGIIofpRnOkaa0KZ2jkaPwtjAR2HTeQZTE0JMsEovT40vpEaWOJATyiBa1OsBh4gvOeuPO4wKOpYs+YJMFmh0lkvHhITF7z8WE16Ey4SNLJpmKFdS9F0AZWVGUAmcOPziWKi1fzMV9oAqws3uOMObL+qzzME9fVltEXtSNZWom2dW04medy759rEGgsja63wtOkpOmereCJSRgX-Phaa2N6kNjWjpJKUIjDLwS2QkEesU7vgd1CI+UsWb+qNiAa5PPcg+AoM0inf+l7NIuV5AcFVmUNXRtCIW81z77lHX7q1QV1177zA+L4F8BO5GOb+sO0UjJVX8t5C3e5KIJ7vszqI24uJia0eI5TJj5pmScZXdctTuxWPjtlI2JTqpuwUcfbyTBmDb3me0+EUtzW54+vOhlZQP415AmPc1ODvbnKrOVemwSQHqvqu7YGwF3bRbaQlrK6AAAhMmJ1TpTsaoYDKzeSQUPegKxr3HqucmgA55U+XnWIeu+DX+o1t2LvZGWLgZ7BoEfmB2CSyPeT-uq-V3FwkmvQce915DrahuTccDNzoIjHrreUFt6h2bbv3I45fQ7+PqXb0nrvbroj1TesAn0HLr4Cu9e-unQB27K3G-rZZB7x7uumigAj1H9VpZejI7nE6XoOricAdnQ08QYvG-a-C8n0bbfQBRB+vNRgeeC-28UMKxQq7PeK8VuIXb2GaOT4IDoRjXIfET8WNPvJ7yyBkyP8MG2eSkejbf2WIIkfkYL-j1uLtoIONLtuIEl-h0KfrXqKDEgHj0CfiAd4mAY3hAVLrQDLoUCfsMMKrruHmAJHiSgAZCI+urKAFGLEj2noKgaAXvnwDbhoKhsxMAW+gjuwTbJwe+kwSwXbnTtJBwcXkOnRKgbwWHu5IPgAc-lPvfiLs8NuISAQIQFoLiK0HmHoGeC1uIHEmeBUJimwAAHwSBHwoodh-RWCHjCzvi6GcxDTeRxxXzvj1jBCgLXSWSaRkA9RjBWD2HvRqLdbjDQJ+GbouJuIXK4wBr+Hs7oHEpfAOJdh2jvbNgAHvQxGbrfTbBgAcRHATKnDnBwCIDIDoC3CeCbLPD4C8TCwKSngMAZB3ygSqiOTkQKivIkYkxqiCz5aoTkivJIE8h1Z9Hw7JILQMj4ZxRkSFSRZ7TTGHTyIKQu4AiNEDFlj5QYIjEdH6qah2TLIOROR1H6oNGjFYiDFgSETAxbEcw+LVGOyvhEQoSjhkj1GrHo5lj2y5htFjjbF3GCyfFkx9GvGnG+DnGLQdTMwzRLHbE6YcR6DglS7aSrQsDrQjGSFh4ImhFonHFvHuTnE1w7zQk3E7HqgElhxLLZw7y9zvionPGAjAlrF0hipfzXHuS3G7EQJHErEgkUZliwwuGQSsnoF-Eqw0TUmCl0leg4k8lvJlhhKbGSkymgA+KTBPR-Ef7MB6BkKQm+HYncnon5IWyHQJrrTZDMI6nxC0kLhFjAlKkcZcZHG9D8aCbCbiDdhMDyBnigBSYklajCygLuacQ6JPQxAVBmmnL667pS45AJAMxuw1aRRamMAh6RJbSqnRnCCxmuzWBwmhmgDhlt5z5nZRnygSgJlIxJkMApl-bK5XgUDEAcDqm1FkKhExA5KiH5LL6er8QNHdBiDAwdm+pkLLTDhrSVntlSFurhkGmTnUqRQ9kZB9mPHjn46YZ8koz5Z1m4D9Fuo+L-QJp6x9Zuhbk7mQqgBZ61JFkL76qcZHKVl8YCZCYia7DzQbydLenSaqlyZb7KSBkLTKzGkvrrQCQHDAkcpbQ7R6BmnsCmFNmalmnAm-iKBLw75pwikAnfEvHSkREHx4j9Lehqk1GakYXRlOjoIjjWn0nSlKnKm+kakjhxa6waLbxPGUXkgMn5LVJEUMU6xSwTDbksAuzCBuxLHAmKE2gilkm7xgWzr+5vBrwbxbyUnknPy1qW5epaqz6+6d7nZvBaQ9yTzAyqXXk0hbRwU6hdwGUCkmy3xlDclaUd61pcqWWXyegzHagOBEbmVandBWW2H9y2X2V5JyWingjuUWW+WuW2T9rXYX67CRUAxuUJqQ5Xmk6liSXbzkkc7jzinTwDx2UnEpVwa-k0oAWDiMBcRKryIRlxWQWUAwXQwkoVUPFOiUoVDVUWFunqCzD0C2QbGWlLEuIhVSVLGnYpqLwOBSW5V5xLGp4HwKWbwjUDyU4+IXKU5QrKAr4HDdX9j9J7GaQhQDUuXTUzwDqDkWDbXMi7V9X7GHWHB6DnU0g6YjU5WGVkhsKej5wTqhraVqUHz9UiRClsn-k1gA2zCkQJSjV15mF8iz4lXzQimclAnYWzr-a0CPSA7MlQLo1PQjE6pcpNqGqTU7W9X7UHEzDrTQKb5crNWYROhHAcBGnlW5gtX6CE1LyL50W1HQK-jgErFLnAzs0zmzluq02ET00VCPWTncmdW+mhWBAnXI3ck4USQ6b7ll6U7eX-QWmA2Km2niUdgimVVXGSkyXUhcoJoODeXG1kjhUsK6l63Sk6qVVTEJThVQUPHviu2MiiVDYdZBWc3JXw1oW7Fg1cknEuIu0Q19j5Zg3e2YX0l5LeVx0Hk60sh6knEGlBXLjjKRT5GTJFGXClE3BrKVFnx4WphPQ6Eq2-zY2MhSQsjV1Ao+JenUbU4eVAr2l3kGHQz0j13Mg9adJCBOgHJhzCVOhRIBnXSwmJkjnIndwVA80o0KYg1uh8wChlkcRDAc5z1EAomL041iXLwoKEwb3dm5n2ExxOFuh8AWRn3Ohb3dbDlIl73dxan2Heyqy31eBP3zmtkf3Kw+xakVA2wVbam9knDLl8AAM9xAPf0BwG2JAZzy2zC9FiBHkwNr3q2RafiWQYMVZ-Qbll79o13YJczX1B7DbQzYPageHzQ0MhDoOQQkPjacLSTMQxWIPHGaQ4Hxb82QPAzK2sMSRlKFXH2dwJVa5CMr1ZJiOpyi6xC4oJxQIhmjYyWGic1xK7ZH1RBcqpjWALULkC1kgGJHy8B-mwmg7R2GpzaRY1VrlxLWOgV+0oV-m7bx3rREGh7mAyM4wp7iM2juMmlakb4mAaNxXMT+OoWi4N7dn8P9n9z7Q2MRbON5AvgGMR3CMmgECEiphzEJSzxt05MEh5Oai3L5IpJ0GWN1ZOO2P5yL3pMLk0UxLFN5NONGAAA8C0AIJT9uZTNFVOLADpvQAAKgyOnAwF2PmUwjCO9dyjosIBPdDKAB4IORoceNbvk4yLPB4J+L0Cs97mHus4SJs-0wM5zkM3eaM+M3wNINMwSLMw3PMzUEs-s6s1IccwSJs+0wc3swc2s9+F88wUHl9Vw+ZvHe7dY2bXOWhQ0e8AyLtNI6KNdJdb1Ek84-079lHKBFEe06IbcXC7SrtI9UnEo3wxAwkweDLaITEtY9fiCvGOi+c+gXRP04ObS91U-Ey2uiC6ufJsWosisfS-o-xL8IpfE48bFeYJc2GEkw+fSBKBIMON+bqr9SZViM5aNg4MdVI2I5UltKiyE8OB40a81sLUOaNuFZ4xvpvsGsVZzSsfCx0kInI2XfhA8RC-llCxFtC9YgjYSwiy640bWii5y7Uyk1K9i2WLi0yxzgSxkE68S2HqS7wwnhK4Iyccy7KXS23XRHi++j4heqyyjrY1m7yYa-VNyyKg9ijny7+sFSWkK23SK4Y+m0WFizK1s7gPK7YEMvIh+fmZ7QjClWq0Rpq8ONq5I6DgHQ6qWIa+4046a6+lLUE0BUu3Wz+Xaw6wG869nTkS+UjPnYUVAMUVcGURgG66BJeJmXGTmYmW2RwoZGIrHDfYwPWNe1mePXQ2nB+7e9oL8AQO+IcQ+9QvArjG2Y1Fyr+9meWSBAzavQ9VyMStOJ+BYNOG6hOTSMSgxKhwUosBh+icSqGLhx0D2gR0ksSshCR8hOR0h0XDmEfJ+Ax3yBzJh1iMSohioPIF2J+Jx1pFM+5Gx74MSjK7hzK5UkJxYMSrbt6BMHkAcEMDJ3J0cKKJJ+YMSm4CRxYNoRUF2ImKYV6R4AJ2pwh70BJlp+YDp6AHpw1V6dJsZ4R0XG1VyFZzZyYaAF6SStZ+YCZ8SsABZ4sj3W5wZ8Pt56AL50XAAKQBeuf6ceegCRdhcRdPjUZaexe2f0t6eOdPgZ5pdBdxdekZ7WfJdr0dMxf5cZddPmBZcUdFwdNsAWfpfuden1fVcld9DGHle6cFegCmFtfZdr3GENcVBYhNchdDf9e1c5cBfxe+DufmBG4WA6FJKWZWTWYxl-tkJOPsB5KQXTjDAbcwd5GreaLQfj2wexS0B5AABWyyecO3ookFMQDVRHh3X73y7DskEHJnWIZ38Zx35jUHb38Z2KNk8HI0xKWen4WeP3ItpnkADAiqJMPHI3CPSPG8sPIt0nGgsnsAkAuHSnePmPs52PqYlAAAoiR0p+T8T5OcSgAHLyD08BeM-09ltDonfrc3sweg-ETbdsC7dKBakNV0TQMHfc-ne88ny8BA8S8g9WY2RWsPdchPci9cLyTQMu5-eMNrdg9ubXTpna8XdlR5lmnIT2HpnA6PIkC4BdjxbXfyBZDbU5DryIdtpG+ZkqDXzAfJnmtYhm+uiKhYjB3Vz+CKBGMCOQT2FdnOhtsHiU7VAr5G9bfouS2TlG9S8eO08WCJ-9bJ-zlXe3dCDOPnUZ8K88RAXZ8FJpitsUuSuWiqEphpgEi4ppOCxx8Nmdhh8R+Utuhua52HvHDHsXAlHXCYCXtaxMCORCCUDZy4j1BJAkBfztaX0PywjwjvQr9xGP4MvRGyRb9GC7OUBvNfj4hAtPSb8rCFo8kxKX-bZXYVY-BJBbwjnMDxiAv2NRvyDUDUAwgUC1HugwyP-OLkcA8BQUf+9LXoPsyfz7MYkfzDwN-2oBV9RQUAioJ81cbXRGAy0BOIeDP5hkmEzjM0pQCwHZAE4TQE9CvU+a-M+gBzJ-h1ATiv8nQaGIXkQJIHdwOsBZQ-tDAMAz4AmHYNgco1cAJAoKTCVfofD5AiDUsoBBsIx3IJ6UfIZpIwFGFeSloH4Eg5iIoKMDohd+Gg0QUYCK4DA0i6BIQvoEUGQDBgzdSfniG-62Q5+sURfl-EUGd0oy8pMqGYOUFuocwdWbUl1ChKaCaKT+GgR4AEF+gWAwguiOGUkFsR-mbqfZif2sb9hBwixHwdNF8KaCYhlSOIQcxCHpgwhJg3GJEP8GH9yMzYB-HiXPIMBsBOoXDK6E-AIUKhVQ3ISQHQw39aCowJwegRCF9BiOFQEaBENEE8tNBFQHIUINaE4hAWUQ6QQAHIT+0FXZjMIAKfNNmigirDkOzgkAno6wmzlk3OSPx8w6-HoHRC2HIDDSRcQZHsyOR7MhMH4dCFuFYx7N3CgKToZUNIE6gjh2oDYS7mYjHDhhLw9gU0PQwAEuh7wlgFl2rZ6AfhDQ14bPw+F6cuGDvJ3tQBd7RUX00ZD+N1HiRiDXBG2C8DyU6JPhsRzkRrPOTTqYi-eFgSCgiJfBIjhA68O2peHRFbh8BBIYCriO35+po2dWYRKAWJSDA0BSTRIUdB1DZIACNSEPs8C2FxQPSZ4NEWHC3CYihqulExLogwTZJjUzlecjm0OY0gEhCxbwSSN8G+FskUGIHoyITjOhwyDgSCpKPdILAZRDIuUYQIIGYjbWUbFPmREgHEdQCcScQicEdFVgCyH3BBEsAdHdQAxBAp4dEgPYgR46kAqjt6L9FhiLRBAgAu6ISiQCqRzvWkSiJwbei6CaYxkOSPMCUjHe1I5EfSMTFMj7mrIhJOyLOKkdRgBY7th0ErHmiJgEYhyj9hCqLE1R15LaLyPLgCi9R+YF0Z2JJymV0qF4OGtE2eBvlhRuI0hlezoLciWW9OXEaKNvIeJgk0MZ0k+SXyGibQc479prDwbvUFROwpcaMBXE78yk64xAjeQdKbYnSj5V0oPTRjiBTxDcKevNAwisZNMtAKBFUB0CSh9AziC8SmC7CdIFRbdZ8HcIYwVY4wFouCbFFCJgTfG0kT8TNWNHijswuvJgLkE1KbZtGFQhVt2WKCUAZknqAgCQFvCeEOkapBceqxCqXY2RWLGPBXjjwpZE8XI7cf431YHws85eFLOzypyMBSJzociZRJ0DUT4kreGllrEUBPRS8sxMrBuyLIhVycrE9VpozoJ0BFJ+Q7JBUD0lPRbxtY10e3h+zaS4qYoydPazirGTMRXDDQlJASAmJMCkofjkwIODCoPJ3HKsAcHZTgTmOiUdWKAV8ldh-JdwQwAAR9E4xvJyAowqYWcl5g3J3ZcKV5NsQpT6o6sIsXD18DpTnQAU7IhGlcBMh4yBU90D5INR+TCpgUlesFMql4jQABUkiFFNaGxTh4OUynIlJeBhAyp1gCqS1ICmGBcpHMHqclNcnZTLoM4m0BNJqxaRzoQvPMp-y2h8AFpfWAGJoWEFzSnub7TsMVPmhrSNAG0iabgJcliDcWmUwEegTWr3iZQpUqSOVOqkRT9ARGPNldNp49SjphAE6VdLOlZSeEH07In+Rj5YENEroZhlfwCztQpSXjc2srkNwcAgcswLXAPg3w6pocGlJVKpMsEx9V8HWGGXJM4qkcfpglfPKwXtzKTtQQkrLBUEJln5ZayGZ2OTMELIY6ZGgVvIuLPyQDb80+bUe6mhi8z78oo+7PQQ5nNSNAaBHflfh8Z3SBEgeZDFLLGKgzJc4M3EJBDZkSzYZG+OQYiVGCKzqC0YCgnQRhlNSmZZMg-LjEVmjTRQzEU2TbPbTHSLZFM-IdbKlq+o6I9s92W6hkL3i5Cd+XgTNI7DTJlkkCK6r+KjRuDkJ8QCoJKM1mSi4ZSuNbunDtwqxU025BwObIVqWy454siOTMDT55TKkCc9GSvQPxpz6yPMl-MLJulHxFhx4VQuoT+nlyTystHwtYG8zngxZmMOKuMLP6uzJZstEZJtJcmCpY0cKOqUnM0TwcRkY81lBPM3yYyK0XkowKtSPic4DgXDTuTKKZQDhu56iZXHsgcDiFJZGMg+IIj2SrzoYgwTnHsgb5EBQAIzAABLk9KAAAQXADgByeAAJRGaQAAA8vT2QAcALk5ja6Lc1Tn5yBqWchgJzPAntyVEkoM8N3OdhNTh528gMdHPuowLWhw8r4ILCgWHAKseCvkGBD-H3V7Cz81+R-K-m-yAFQC4hcBgwVIT6MFNFBYJXsLDzTp28ygLvKtg4LbhrC+IBJgmnfi04iqFheQqsjsLAgcCygVdPmkaBIKaOGGTCBgpu4Q5n8CYLMEIUshVFPGEmc7FbxFiIF0yMhZHOwVOzZFDMxqI3yoWUBv5vGAADLk9gFMNXAGAsOlEAzFwQdaDArkWc0EF28mRVWVALoLy0Z4KsL4pCW4LgM+CoxAQHWjdYSFgsaJZQpfkOLnFrixhbZGYUJKhIMSrmXNNz6vTfUXCv6Twr4UxKHZXIGGFYBEVXTmwRY8pVtL6B8jqG9S0RcDIN7Bl8lfiqxbAoZlFKFF305Rb6mCANU3c6ZDqMEDCIdZ-FDMkxd4tk7RKFlg+JyZ7yoBbCIRsIxEqTOsULsPpwyraYosWlJsuQV+dzkRmKWbU0pz0pgRzgkXmK2Fuc-ZYMt1yjSep6ZaJa8qMU2KDShyrabLXMowjQROy0EQrhHl5gD5ycg2M9w4Czy5x4Kz4fWBBVbCVWS8g9BCLbKWDtwAHawNsq2GQqJpzTUAHCsYDEg7A08SEYCvOlby3g28jFAbKClvBPmA8xSIzmQLsrul80XEEciqBYLZgwOYJbotvAhVGVgSUVWNUPlwoHAlS7NHvNFWQ4uUv-TjLbV0VQqqMHZFpaPK+QEJBVDSraSq18A2Zo0cKQRVIsNUuTt6lSOJLosMJxdVVciWyBqpJWb5UqdreRkoTUKtB8l1WYJWoixTK4YFDgLwlqF8KtJqQ4qiJUyoGXVkTUMqqZhwHlWbw95OC5VcridW21xgE05Xu+h1VaE9VdSggFarzDGqLApqwVG4U6WNK-ecSYIA6oapZriIOaoGWOPnzFUg5nEYCX6qOTPKo5QiwCFzKsKFBRV-M4jPmR7WzLRVABRCf2pEhKq+B3ayRRYpZBjrZ0fK31RquFURKPag6qsvjWVyMgV1FNBwPYpoU-y-5gC8ADqnPWfzL19CtxXasFWNr3Ox6+dVZEXnj46Ugcv8nOtmWBqN1Pq6wOMB3VIK5l1NI9bgGdC+Kz1GSxxS4pvXUh7FCG1xZnLoINrFkcXd9b4q-USRegP6+laK3XibxLI13RMiBQumPxKNYDBKmRqeDxIVpbDUCReAwH0MhItkejauBrFMaRGskGjUurLCGNEM5GispRuHVqClgAmr1YEwSoiaGN4m8CVklY3BEONdkV4KJuL6Mb7CpktjWnEkAEhhYzobZYpvQksbkKstMjbQBlCUrNNecYlUcpZXEbFKXGkCLZqeDlNpZlrCaQASs02acqrmmaoFvqbF40VsInyt3E41iA7N7m7je2R-STlaV0KxqJWufCeo9mYW0Ebg2i3WaD1E-ETblr0DybuNDmoFRJuc2bxitbmqrSfFAK3Sox90lgP1L2KeTSlbqTLRsIi09watRWjTR5pdxJb0Mt6GkD1IK3+a1NNW9aJNvi1h5Bt2RVLZcNRXcVQVGw3jhpty3695oBm2otOTPyar7Cc00ZULzRyXLjCWABLdyHEFSblt2y7bW-xW1PRAx3sutA3KIBNzWlg+RJBdonXKEW+b28Gn9NrzV5OcFyYbViDm1bBUt1wjLTdthGfg7tUWCfueGWT9J5xCSLmd5U2wisW+V3JmHXzsLwjSxWYukfll21zaXoBrEZQtLGUcxTtQKZHb-01J0YFg+E2ooOX6EsiBtajQckUEaz6cSWm43neOpFrPiXSz5ZDFtgHZvNztwO3wL0EzE0iSdL6ZsHWJ36-bG5AOj7TrOJmg6gUEO5SKloV3liE0MOoqMLAe2fgjd2Y8Km5i5RJAZRfHbjg4AACcvABDEpn46ar3QtE+aI7sWoKKuiYYKUlWVrTdjH4uIeNV9l+q3ZxAbdTgJGz916AphUw+sGgDT3lqLJ44-JInvekbt8pHu7jpqu0CuB-pk0wGS7nEDSZ1YRVLdhYD91F7A9gA9OA7oL1wicJ+EXAEkRSLUzCI-K0redK5mDbId-SPoIkW47d6y4S2s3cwAt1hlO94+9MO9k20-tWxD20tJUP6QQYWA9IbcBjyDWwqHANorsNKNlEYiqh6+01b824Aq6dUt2N2CQB33I9jcOGbcDk1cy1pE9ZnH0qGK3BkrYRvUy-R+XM5B88kietYeFoNibAt8arGDLdg1VqFAJEwYCUwMgOnZ-1xiPtboqgo9qNVoRVA5Djv3b7eGG8Z-TRlf0IwsWn+qTNQcHb7rJ1IEoA9QZwjQHHKxgPnKO1FBUHqDPpLYX4HTn3duDTB8yc1Nb1e7rlCimnRawnYmEOy4BsFVLWZ02QCJOoA2ArkMIZA+dDVRoicI62bC0Br2tQprtHkXI2I7q9vZfgSrMgDgUgeEDKFNUwrNEBsQ-bsttGelT98o8-XYdsy7Nr9+OcdvmHg66GIR+hlQv9q90mG8NtdKIrtk81jEGwtAFOdMmPBaz5AhGE9DEjkOdbFDrOzUqod34xGXcQu6BloZ5Vpxpl+SuZbHN2ULKS5XWffZok0gN18lDgORMa3awMrVE-hQ9cnP4IVyM5HAcjL0ZznVGBlNSmsoox8JlRGjV1NRGMaxC1GIcK9XoyeSrnyEyhAs+rRyKCMhEcaCIJkLMFmMc51dYR06csaEj1lgZP+t4NsqmH5y9ARcgADpYBp1ty50Agb4BHJhBoO6zt12extoU90Me-TvrLgtgrja+248hPuN5SnjLx1bG8YAkfHmhYs0YGQAgwu54UcSVE6AAABeA6cwE8f96vH0wCJz40LvhS4m-j96AE70CBM4EQTvAO9NEEsNWQbDPQW40SfeOkmguvQs4XszyB7NqAeze-BsCmEtgdgYJm4yUuJM1YuTunHkwSL5MCmhTKu6kzhCAA')">function apply_a_rule(rule, query_pattern, query_frame) {
    const clean_rule = rename_variables_in(rule);
    const unify_result = 
             unify_match(query_pattern,
                         conclusion(clean_rule),
                         query_frame);
    return unify_result === "failed"
        ? null
        : evaluate_query(rule_body(clean_rule),
                singleton_stream(unify_result));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p31' class='permalink'></a><p>
      The selectors
      
	<span style="color:green"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      and <kbd>conclusion</kbd> that extract parts
      of a rule are defined in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p32' class='permalink'></a><p>
      We generate unique variable names by associating a unique identifier
      (such as a number) with each rule application and combining this
      identifier with the original variable names.  For example, if the
      rule-application identifier is 7, we might change each
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in the rule to
      
	<span style="color:green"><kbd>?x-7</kbd></span>
	<span style="color:blue"><kbd>x_7</kbd></span>
      
      and each
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      in the rule to
      
	<span style="color:green"><kbd>?y-7</kbd>.</span>
	<span style="color:blue"><kbd>y_7</kbd>.</span>
      
      
	<span style="color:green">(<kbd>Make-new-variable</kbd></span>
	<span style="color:blue">(The functions
	<kbd>make_new_variable</kbd>
      </span>
      and
      
	<span style="color:green"><kbd>new-rule-application\?id</kbd></span>
	<span style="color:blue"><kbd>new_rule_application_id</kbd>
	</span>
      
      are included with the syntax
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.)
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rename-variables-in rule)
  (let ((rule-application-id (new-rule-application-id)))
    (define (tree-walk exp)
      (cond ((var? exp)
             (make-new-variable exp rule-application-id))
            ((pair? exp)
             (cons (tree-walk (car exp))
                   (tree-walk (cdr exp))))
            (else exp)))
    (tree-walk rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlKqu8kt0CYpi+EwmmYLK1CAFxK9KAwyAk8iw9D8-pJAeYAD6o4G+LGQg6EHIMADmCNOSIBhCMoHRmKxFkheVotAI8gYxN+-xRVJp2Le0Nw3xJ7PJvk5XNpb0YOnwfGEkn0iMFBi2e2eHxYX0oWVwZHwrNJKOMvmpoPBoHlyMIW2iT3iLzeCwJBPwOner0IelxCUI8wAFtZ7UCWm0IW8Rj0PUKAGQR0C++T6cNGNhJ0CEX2Ue2W5U2yEMeQJHVmskBkFB23p+QOp0u3G6wUVXq5-O9RVYKJZsSgA4AT1hjMotD4ULzBYF5uL5mN7Vj+gWwn5bLHLaiVtizySqQmBwOwgJDHzTHdeJlBIq+AAHopWlv4uO-GD2qoa715Nfd-vCENO0fCaeL1ft2IS4rvswabtub5krWY4mEapaQvajrOo+bqFkw9YvuBe5ks2SrWh2GE7lhTCUN2vbznqQrNCW97iNOeizksdEMVBRYbEB7biAREHEZq2qUOel74NeYgsfqsE0TG+BxvRiwyXOonkpsraPKu2ZvJK1C4NkdQiQmMGBhJ8EVoh1ZuuG9Z0AwuLMoQlAaVpJA6QwzaUhiopiuWlZIa6h6evWxSrFQ9naTMLlUm2eHiMFjkzCRPb0kselUXeJpMbJaXyQmbG4apHbRU5GpfHxAn-vEvmUZik60VJM6ycxWVAcBzyQlpsI6PI-F-kJAEskllVwXaxlVsh5X1q1eTtZ1gnCc57GRaA42TZ0jn5q4BzleOVWgEkijuvFfYDkO+YVBliWEJ62XKRxC15hNHX0joXYbfpE6lqdclnRdSnLtdkJVSRCzMO+z3JVtRleaZo2gL0-3WUD2FzblQRBlNpW6edFXUalNUfRtjW-W8lk6MIMxfCD4kmuDJkjeZ0NEyT8TqiV3XxGFbnuWWCHDT5tO9PTpO4ADGj4O+OFXfN-OM4LgnE9MOp9VjD6urIUpQ54iMgaaYjEwLNhWfgACO2oHgrr0SchKt8FDdwa88ktiOqXyuLmIgZPLGObaWFutFbtMAMz4-NOKG8b1DuxdL0pe0VPczWvMHCHAJh2LEVI9tKTWAnRtJ+HhAHJ75s+b0Weh-gn7hvnOWayXOdC-DTDrUlFj9RJ71ZVXzzSiQuJ1yLkEVwX2PSQPHc2letlw33DflfnkdbfVGOV+LaeQiLiiEF2JGJ7Euez6DA1QhQn157banvC+E+A1PZmL4P0c8kfuMD4HK9vAUtDUMk5MGZTg0QzTGN6zv0-inJqNpgHJEoA9J6pszZD1qplD2L9NaQkmLUGY384H308tTHmgDoZoOmKzU+HYOKoxZujCO+9W44wXl9Ue+ESAEnITNRuHs55vVoXVWSDVMxBzeMUPQAlbxgz-rgmsAl6yDEajsDiRw+AnDOFAOAiBkDoFuJ4FSmt8C8WFgpU8DAMh31AqqRy5EFTUhpP0BaJM1SC14iOBcRZLFYgAFxlkbI4iiBgXG+GsbgBkyQyCKDimRQqWp5b7UFodTxCkDAGKMb4iw7jIT5QwahckSTzDWJ0eqNJZUMkJJ8RzFJbwuJERQqOZxHMcmajAoRYGhTQAAkSSUss9tczmLHFk0AtT1QdLJk0lpxT3KlPPm1DqzMZpxJ6dY9c1gOJ6EWh1Zaw41pxLKD0jmNJllQNoI9DZzTDEjNFGMmuO8Zk1OaXU85Yd3TbzDr3d860MnxKOa00ZZYIGXPcn0wW3yhnHJ6WM2GV9GlVMBLM656pQXC3BU4tC7yTlcjGYQpyPzRTWMmE9XJWo9FkKmT1Q5wzNnbK5BbQ6Dj1rZGYYS+ILyIXkiKcimk7iWAnB6E03oABVBgyQGC0CkOIbsTB5BnlAAAWgldCvFzBQFgPwsoXAT0YgVBpXvTEwg+CgD0JCS8wgEgMzdpQRZMQNiR0VpxJVm99WGtdgsyKehVWgHVS2CwERmm4ATi8bVurCYCglCax1ZrbzmEsriPwBwKDEA4Lisg+LIp7IOWa0lZK02+HPMwBgzoWndDEMDLZ6b3JkNWatFg60U2FqLVydVqbq3VoJYYvNFSnWMEujSURKsaLhO1GMIS0aWWYqjrMBxess1uivAOqt7iJRShlE6Hw5gPX4C9fgC15h2W0B6M6nlfKBVCt2PNDeig11SpddasW7rlIKvEBSwcVKhEXgOEU9dW0dp6BpewAAfDK+NzAP1MKKb+RQS8frzVxXrHWUt9FIotZ2vEZBUw4t0f+gZ0tWiyz0a85lWy-l-pHNmhmDtBbhu3pUhFTKkVbLZShgjUHiMTFwM7OobtiXHL4WnCDtzd4vuSj6nVq9fgby3tnC5z912WtALO6UspF1Ls9d6rVAm3haR7pPYG4m+Oii2nG-F3Q1Ngv7rfMowy5OgGXauiTYbDjEC7gZz0Pa10cELbp-9dnL5wqM56fOJn2NJKU36rt4JHNOv05fBzDjzVaa5FtdzAMItFXwGZ3wFnvXRY7aWLjDydRVpLAZzz08B6+aMclq9KXr3XTvZQRg5SnR6E8Rqn+7R32UG-dDAAVDV18sp2ufga8g54Bx1CzHoLZfJhw4kWoC8HUTdzXmhosOG4gFcHDcaeWSBlFG3UxYPmvYT3GZ6Dt+RII+uXQDuOqACeMw3+yIbsvgTSIV6Whe7h5+uN9vMbDrfW3wQ3mS3bGw9hyTl1pnbTfMkTpc+35fe2wz77b3UKbXel4dZZxssleYW-xPl0ehISnEo7biTt8jM1EMDnG6kAsZbx6kS3QDQIcBApNT1XlmbpwE9QXrVs3dG-dx7MVnvQO29ZqyxAuuYSdEcDgVXxeETqxzr4S8mviFczqaBv4s05qbScFtCuvXfZ+4b3wsvdyS4qGDo37lhkDZtBB2F72YPDLg6WCH-0HF6DO6rvt3a6UiWw0im3HYIPlPhRRGnvg6cOIcF7kPZJHMsKJf70z1Jyl477O72PxFSL4-9w4opZmtoOI49oup6PHfHItan7P6fEt6Fx9XrpRYDcWC97j0dvuMeMreSSpJyflyyMivIxR5wVFXHUWgP2Wjmp2nIEhvQZ4REH3pIyKSLIF+gFw6AcVSYOAIbXdR5pJAOXz6AQyJkKuLwPeYDoCorQw7CDdjoVx8rroQ8WaWog5aKjq9g3xraI0+YA1s0g0kYhgwcP81pv99kux89l4UF-U2RA1TVF9DIxFY43Q+ALIgDnQOJQFroS1tIy1u4nUUCTRvZVZMCvASFxAyFoESDndC4e4fYnUKgbYGEaDE1c0ddgY+BSClYmCKCKgA5i81wM4gtAgQtLJx0+Db0i43dEtPwpCix2Cyx5CIllgIkZDOYhpvIaw89oY1DtQ8D5pDCQgxBx0NDtQtD3pItA8VdYgAltxCR+Jtd81IInc-9SxmI+8b1dgwsTUVodQPCKYpwcYfDrok5HDrA8gVVAjeNDRlcOguht04ikUtg6dUxrA9tN4uC3CmAHBeRcBeBfC39Ai9oyJn1QAqUtDQxyiEpKjqiVCFFhw08vUnVAimgEjJM6Jmj8xqDjgWiH1ej1gTAuisFxBmJhi7DmkzxNcXCMhm0NMokGjFdv8XwsiK9PDzYAQCRUw6jGRZ4d8Fodi9jNR85N9ajSjhx9j9cqjFc3k8h1j5jCdkljjCQ9iG9Z4AAeN43Y70DQ84tNHJI-LdPoAAFQZHTgYC7BdSYRhA207GCRqCdHcV6FAA8At1+2-AJC1RgWWKMA8E-DRIxMt1xHxBxL4CejOI2GnUP2P16AhNoF2GkFhIJHhIbkRKVWEBROhnRI31JOxNxJuNnkJPrD5MxIsDJOPCFOpOmICVoCCRCQbxCwb3DwsAiMMXeAZF2mCNFGuj+16mWIqGpKsyxE7UKOFJeKuRaS1NoF2glIzQcNoCcNpVcJbWtwlPcQb3YGTDok+KtO2WsTompIdPO07GGyfnxPmFkllNKyXX819RaR9N3zTGyPmMWKLFNIzRBLDCiXrF5XpAlAkGHEvS5FS2R0LTp2GIcDi2GKET8zJS2gNPaJaM+JbL6Obx+2GMcwrQ6OFyxCiHK0SJtPlJ1L83J01iryiRVLzLuNwDVPMA1IyFtLHKMVNP1IjM+ONPuKzMkxzEfn9LBxyU1NHI9yN0iOdOPHTO4PcOOQDKJ29KOL9PxMxOsQTlsmDNWLnPvNZXDOZEjIqLeWYljKSQ9QTJ1STKOMyP4iExyLdPfAWxpE3VzLInzIYELOzWLPzElWlUzw-H7JSyR13JFwjWrI4FrLKOT0bNLGbO7LbKmM7PrW7KGL7LjPM2pEHMkxHO1PrJK2vQHyRiH1OBH0uDURuAwCnzPltSNQdSRlbQYGMW0P-h8h3WkvtWMLTjUof2sANRUGvnRTNQ4RoWkkmLbUajpy0uNTkQcBGl8QAOnE-AsGnDTXiTsqLgYkcvMAYhcs7IANDE8qSO6B8rcqfGQgCuQmCvJSLn3L5E-BitwA5lcqiqfGJgOBUHkC7E-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-YdUE5NY-YJ8J8fFF6twP49BUgYC-A6ASAdB3HxiPFH478t0xuAXvXJQZMnQD8Q4yZBuDbpI6JpvRvOmfyNHpItvZvaSMJ+u1uUxZIDvOmZ3EgxDSvChbx2cP51RbunNHa+h2tnvet+zKtAlgkBv8BN5PAKhBvKAbZTS6co08hnuHBjvqA-uAfA2llHvBZnulJRRptxQ97Fv4wyBIfVHEKzTSwPaF1QKZPKzK6Dvoe+vYfge7gEeIeUeCKdtUDd6FvXa+0RvGgJTrEiedBPSzv5IDvGf4yhz1Sg59ZEu4fKBAfQAaftzNCwfK76eZHKeDgTv-upeEe9dyw7HwLAsef3QceGfiLOwiByx5Itfnu63tlaiRpgfpfajZe5yrCLXtlmILe8ehfzNSeyU6cKeOAYfJfaf+fEpDe8e2LfB0eWe51ZR2eZuosXFSnRR3yzeQ-ceyusBE-vbaiHf1eg-IsrfDd6pQ-zGWxM-5MV00swdk-mIDu5erDw+ysyyOLqRrpsqNAGu9BRXTS30zn5TFTyWgSFofvFAzt3EzgcOZQE5EuB-01rFJ+XWLc2UczO+DP91xAiuBcOwz1nvSzhfJM2-CAGvLQ6cN+CooeOAIdnvDBeA6dquHBT+SuZGqXh+xYLKKuOAH-Aun-eh5-p+F7X8xCeQGUMTEJDLAzG5QJ3rIyi61FtGEAyLCoSAGEZnCsAtXMAOPDWEcYiAkAaMwQFoDkBteLAegLU7tBmIhAwkP0TIHMId6dZFARUCmLEDOIVPMAYFHwB0COiKhP+iA1oGQC2Bw4GoiRwhyUDmBMjOvusF4F9EruLwPBkwFyD-pXOwxQVhhWdDFBKAjXbNAQBIC3hrodARQDilU4o5I+giITmTx7qUDGceAqgbMDrLyD2BhaTtPr0oFl0sQ3PdCrYGUHZBVB1rDQfpwGJ9E+eOgp6JQJCyODPefHSPnZzzb49EitRAIX62kgTsKgsQxzpENCHe9tkOmeTqBWb6JFYhwiSQWSSkgJAJgCDYApKC0hdg6sBwaXmUIypVgDgoPGzpNz5Duh1YRzGoRUOdD1DDASrQDjjCqEWtDAbWAoXmGKEnpShK6WofGDxCFCU+LQl3hHV8DtC6hNsfojKFcBMhjUSw+MNUImEdCSIDQqLuM36FtDdhyw7oZY16HDx1YBfTqitTWH70pImw04foC2H7DDANwslIMK+rDCih9UdWN9H4aVNWgIwvgFpHOhN1nU43VHKCI0BZoAYwI4Zj8MoBa016nYAEfgTBFwifhrjQofm0PjNCfhkzYnLgCVb3CSAGw6wFsIvocw-S0wvMDnS+E-oYRhALEXSMRFsjZhhIgEb4U4HOgtUHdV0JBG4HtQvQvgqARHkrpmCOAQQ6gWUW4FTEC8B8BwRYLm68jhBZXUACKPEHrAD8nQFkSwFmCVUO+QQ93I4IqBaixR0xPUc7GRHt9-ieo80RoG1FaEyKiHPgIsCdBokpW7oucJ6KVYrclgDozURoCMBHNqy5gUkQImyCgMQxkDL1ryO0CDhw0gog8EGItFTFIxy9EjnqMWbRg9UJHEUUSOtEGjbRh-f4sxBzEfCOYzEQsVWPcjFiJCRo-4kBxDF1jvadEWsVgwbR9klWvQH0QQDdr5DjwFDLQNiPXyNDaiINRkcSOmINcHskCf7AlzeZpcZgFQOdkGLnb0C+MdOJsSrCjRMYHADYw0XaL0DrinRLqFcfEHNwLCi0m42wYkV3GToDxOHfsX6KHSFElWLpEcbMGxGPj+0TGaYmQFBbADzwMYzGHuTeBpMiQLYxSJIOq7wjChcPaXoNwOESie6DtarkhKB7-c2ChwjHqzxj6zxrEhRMMgcEkEgTF2wPAcGBPu6V1BuDgGCf2U7SCJBuRgKJoMDDKDdLQFDUAGCQAASadSgAAEFwA4ANOgACUwSkAAAPJ51kAHAQosUXwJEAGuYEALhNiPHOiGBUmYCXvTPBgTnYRI+CRRPQ6XiNJsIg0ZO3glfBBYS4+lCoWsl8g1J6XCbFoX4mCSRJYkySTJLkkOTTeJk1LlP1loGTLJ2k+CdiIomUAqJVsI8W8mfBmSGAEqH4S-nmgyZAp6kqyCFMCBaTGhSI5ke+lywiiYQ36C3HOM-gTBZgdkkSEVISDDALJ2Uy0R8L4AqSGqVUzKZpMtHTFJQYwsbv2AvYXhty4A1gZaItTXRph1gKQF8C-jiiuQhg6MesCiG0hEyRsMmNwIWnG9Eie+BvuX0swo5RQdOPIOYKQGWCAignZ0dtIJ7M8HBTgodO6NXRdj3E40ygJNNwBfwTRBA1HtsiiClM+Oe0iCVmNGAjEjyKYVoBNKmlxCIu5qTZk9JelfxvCsHMlO4jukJw2KnFPfhNxhngy8hinbRLMX-r8i-g14NYOqLgFfAcptOSURYKOnYDtAVguUbYwgEKjqQAWMwfsx5748tojAXEqWONEWDghKo68TePMCahzpcYr3hXzXRzSegmoKLN7R2DtYFZSSA6VTOlF8zZR1xEWZaLYpbRWZyYHnljm9bcymxJM1gV2IsDvT1CZojPqU0z4ZjEZMxTXCbLl7nSOKRFALN1KuxvARIms+UX2VGLyzFZ2mUsH2I9GDjXZEs7vnJ0dncDNZTM8rBOWeBczKSPM+0fbyD5biourojgCHN9Fu1vRocmfr4DZQrTAxacokcMUzGCJFA6sMWX4gdn4zBwhM7cMTOrnDB05HRSudGMUCg8jmCYgmc6WbmFBu5wwaXvQNOpgAFZ7WTMdnxrlRhmW2Ym2EcyTmbxjZFY64VgwrE2w2xWIZeSnIhmgN15Qs0UEBy3lmyOYUxSdjnIHG9McZ0+WQFYEPAFZwJE3GOLoRvhPz6wwQcznbDECaQgJZUYIBgOsYC8rA6IkwlYGZxjBQF2k8ZsxBr6gKEZFgbHE+C+CTSuwM+IwpO3ejwKCAl0BOTaCXodRggUCiAWeP1ENS7xfAi1HTk0ir575BABwK0E8SFQhpbwGUCQvWBs5K6u8p8TGlrmihd5xsshc7G3lchLIf8xPOfnoViCz5lCiQVFx4X-iY0boguUcw-HOdaMIjaNk9HGB0FaF-2QBXWK-FEBRxbIvQIov3GwTr0PE9yZQHEncoAAMmnXknEilJqUlqdIvWgdSM5iRICTpT0lZSFKRzYyXpKrDBAvF9UoJZY0cmCxwl1-OAs8BiWeLBhjQ2xfYqcXgA-JtkAKcktinaSkRwDfQLlnClmLIp0UwJfMNFAwwrASUtkc2A+ElKERfQYdm6wIC1KERHrSQUvTiXeKOi+SjkflKbq5ZggbWC3IQukUcK6p5ChgM6KakeKelkS50dMW3C-AqAerU8doqzHTLtRCE+kf0oREmowRBUvUoEVGVkoClJQ50FSLBxpTnJwU4RQaNmVg5px3SqwOtAeUNSL5jFOimyOmKq4tFLAXVtop2WEjqFldA2NrQ4CYTlOGywFXFP+V6td+qOSEPrwhVtpN8KyvSgCp1awqdWIK35QfjRWd47A08YNj8oRHTFIQFEp-jmJgWQSJWjEjZqiDLCCJGV+QoLq0DuX1Ad6FEj9AlNvCR9qVxMtqfH32l0T-uDgMper2okiq2KNCgIEwtshtTdl4-B0o0sQmnd4pQU+IO0sKFIrfAigRDHDydbaqxAuqvMGATJQssEpFQacd4yPxx5lVXI0nGkPjKpxq4HK6wOMB5UBLAFYKnukeIcDiKtQRKQBWZkFV6SaVkS0VWIvFUwkOAUqzeNRNilyrK69qxVdIpVUN0jc6qvMMataX4BzVCQfVRYENVuhNVwQItZaut4kdggtqlaumrjzjBnV4c3ac33wX4QwumardFypEgiq6VEy-tUcxS6Dr+VSrEdW1L5WmqFKyXLtZOv7V8ZcQW6KoAlNpm0zJQ+k2VRTJ7qMh0pLkqyA4FsWeSJJUk2SZkupBHrRJJ6nyS4utXTr61bWXdb2qshMTg5CpG+e6ueAjriFfqxdZ6szU+qN1HC-sif1wDOhwlh6gSXYscXOKzMaSmDbetrVWAH1X1J9eEtfUSReg768iW8DTKWQVajqASFCPNKPwiN-ROLPhqeC5tiNnCeIU+n6Ljw9YBG1cIxxAxaFkhGTAmDBXXibxUqzGkCNRrxEWkyNTRfwnxqo1kbtJ2nejSoUY3iaWNgm7SRxv6KSACQwsZ0Ossk2NDpNbGyQfhtoDsLKNLG-FRSoHV4axA-G9JBZqeCAkuQ1iclYUKVb6b2FjGozRg2JAMBLNPmTEgiu0UvYe4bmypJ5ps2uUy+3tBzfSMahlq+g1rIkr5sBWKELNBmmdYCM1GvAVayWuvOlps0mbcRZm2CnZGy1yV5NGDIkeoqZZkiKR92coXVlyzxacVcWErW6Ca0+YxRKq0LUtRWp8bMtcmore5pa0dbDcEW0VkBGi1YaSAcWzRYivNHpbkt--eaKpr0S1o2toK3KQMqOVDL00ZFL9Bn3cjjN6tT0RbdfmxVPRXUoi85cOJMU-izFF8nxGFucGdhLtQXa7U0ozE2ywyhRTZPdpW2-KtgY2h1pNqKjCwTtfWfAGpuYDzbOMZ4B7IhhU55ttJXuVzlQxoZMx4KyhW+cmyo74dW2GeKFrlr2VUQmy62jQMcvPmnLjqWyc8DDv-ST9B6IgPRKGR5ataFBoZIoHQN6pdi9OGQQWUfN3QedxAeou4qwDPTElrZ923DljubY46FCzHY7MYue0qr2yOo7ZO4k+1bJhto2o1RLtTY0cHEgO2VFq20Wfg8OUuwjpoWKI7ixUhWtKuUIcAABOXgK31eA5VFdUIp3TboyoqrtArgQ8BUAUqmlI+FpXEDGppBhDfU4gI4pwEWnmBsq5QvQNK2lb1g0AyektTtMr5kpY9GVfecHs96LDnd5Qr3bYjDAciF4bycQNKnViozshFgTPZvCRFF7-G6cRdrXr864A0FGCnUIRGXX46u+jQ4bX9q12oKMqHe-XfhhB1qo29w+9MOQE4WpbIOJ23VEK0QzGkWA9IbcGHX9URoDYDgJ9l2AXZLtOOMY31jKDLV6NuAnS5mb6jdgkA19gdPZoh23AEAmALkFHLXr6BSppUkHUAHqykGn6cKo1RUPwpj356s9CbPzQbE2DizdpaM-jsqqC4hcJgYXOrBAfx7fqIFPa+dXOtXV0EUDbFALNftv0bx792cx-QjGN5v7egH+s9G1JdRIGdA-+j-ThCgNpYYDv0pJBQaoNnof9vCo4JwalSp60tHuuvWYsLRIjSdW28nTtqNxgHAV1Iy3LTpsiyCdQBsbUbau527AVqRiF3gdtPGpMntpippYUTYi8cMdpCfwsyAOBSB4QJ+xDLRJ7rb6OAu+-fZByP05MbDxAQkufs+kkVbMgRB2joZUOPbCQ34xXUYYw3yMLSwxWzV6wbBMkmxx4YMQsBmalMZ0PrUFusoUMyC9EgRnon4beRs6NDbWLQ5IKYWDEGZQkWmcBs33EBxgrzblfQYUnSBM1dRrQLoHiW+AxpoM56VjP0FJJmJ801TgbIhzpAWFLAnwbUa3b1H7yYyCIfeWsS1FMZr0-eQkIlKLG4ZskCdtManYKdNpXR2GcBstDz71l0rJcXoCPkAAdLAMQsKXphgufALdMM0+3dUia5qItInuhgEHnSZcFsEcb80nGVxZxoWZceuOXLbjJqB4zGNGBkBjSbyIbrUWhOgAAAXl9nMCXGsQNx+A-cfxYFGhuyJ14-WneO9BPjCcMWJn2iDmGrIVhnoCcdBOYmIT8NLlkXHkBEk8gRJagESTdobBpWLYHYL8dkM0mepYJrE8MwZOvdnwLJtkxyY9aEmcIQAA')">function rename_variables_in(rule) {
    const rule_application_id = new_rule_application_id();
    function tree_walk(exp) {
        return is_var(exp) 
            ? make_new_variable(exp, rule_application_id)
            : is_pair(exp)
            ? pair(tree_walk(head(exp)),
                   tree_walk(tail(exp)))
            : exp;
    }
    return tree_walk(rule);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    <div class='permalink'>
<a name='p33' class='permalink'></a><p>
      
      
      The unification algorithm is implemented as a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that takes as inputs two patterns and a frame and returns either the
      extended frame or the
      
	<span style="color:green">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      The unifier is like the pattern matcher except that it is
      symmetrical—variables are allowed on both sides of the match.
      
	<span style="color:green"><kbd>Unify-match</kbd></span>
	<span style="color:blue">The function <kbd>unify_match</kbd>
	</span>
      
      is basically the same as
      
	<span style="color:green"><kbd>pattern-match</kbd>,</span>
	<span style="color:blue"><kbd>pattern_match</kbd>,
	</span>
      
      except that there is extra code (marked
      <QUOTE><kbd>***</kbd></QUOTE> below) to handle
      the case where the object on the right side of the match is a variable.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (unify-match p1 p2 frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? p1 p2) frame)
        ((var? p1) (extend-if-possible p1 p2 frame))
        ((var? p2) (extend-if-possible p2 p1 frame))  
        ((and (pair? p1) (pair? p2))
         (unify-match (cdr p1)
                      (cdr p2)
                      (unify-match (car p1)
                                   (car p2)
                                   frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06cDwc73jxxQIBgeAkFQNA8TQYkLne8xRRBLQKCyXIFEIehiDoShwf25JUnSBQWDIfRxclmoZfCUAAB8dcU0UPl6zq1cUDXpdlmI9YN1IWDkjghFNiWpa13X9ZfRWMjFs2Xct2JrY9sUPzVKV1d9+mmeBagRZ+aanfN12IkKALiZUH3NcoV63uTd1UmYMQJGEBhZzBD4FEoHY+nuHbCb2gTRVJsvLYAMmb3p+kGJvwmEoFKCr-Os8j0U6D+gGw4zuX67z8gC9qYvQXj32LJH-7CoRgWXEMXxlfwRt8BkNJR8Xifa5Gw6I3Hi3+QiyPmoYc1qDEOh-ploxKGNsRuBRwhAjcZxJ7dCXCED8n4vy0twI2y0v7Ix-sQP+9AI6I0FqkEBz8LbHyvqfVOop86F3nnOS+MsLKoLAWvbOLESEWwYFvHe3tnYn2ImfDu+gIznzrBgrWkxEEbyZI-NBMtro4wYN-X+hhnAcMtow1ObDbQX3Tlfa+-Mc6igqMoNgE1sp0DfuXABCtq54KAU3CyJYhAgVUeoyq9B4RuxtvouehjKDlwsjDP4DBzEaNRNY6268c7uMsYwGhdswKOMkcsJhIxWHMMwiErh3DfEmAsZowRBZhEwNEeIruhNwmDAjNEnRijyFuSFn9FgwhyCpNgfArRmS-wjRwTPAxC8jGiXUcrMpFT0lWLiSxVppTymLnxpIMghhtGhNiCNG42JAm7wYPvQ+-1uAyOCfk7pblentLtsIXwoyhrZJYewvJssClD1SIFahzAtBgJ2Vk7B09Z5FwcU40SZyPhUGIKQ1Z5gzkiLgWI+g1zanSKiewru9NCnIIYG8NiqJOgApTvLXOdiHlNJCcY+g0LnA-B+VUrx7t-T1Pufg0uqLRJQujpixsrzLkWzIZHMlMLGywLYtyLQcLxmpxLgwQIMhRncDxJ8lw9KKWQqNG0Asr8alhI5aCLllReWgFJK9Ol6LyX0B+J0EWI8aA5gBpK9lCLOXcvlToMFJzqFiulsoXVMSbkIoJY0uczTwTGHaJa4gtKkEuDvi68VVrRlhFtQJIBzqLWOHdRAkJYQlWev7K6sN5y3lgJGTU2IUqEVLJ2QKkGcEPgJupRKyNuygUjCblG2akdf4gSpe8i2ybC2BrdIcstPiWKineZoXEPq3X+qLXaz2mQe3Rp4cU3N1armlt7VPNIXt9kPkLaamNop2AeC8Gy-VU7cH2JRU88Ey7lBeA9TwvdXhWr4C2Wuom6bgVzvyYPRdKDCCEBBCyjJNrAV9qRUS+V4INBPuoC+rpQ6c5Mw6b819OiG0uAzaCoDFDSArWxX894F69m5JBTE4597rrTm-roxFm7kVzm-hZYoZDwVBWICQEQqR-nEYGkDLGeNR67Uju-YgLV7KdFXYWYigphRvlSD1fQjpa6tn42K2FLjGMid46GR6pACx+VjMeIihlDTvAECwRkn0GDfThsJ2mgzDzbjqR2YOXpNp+h0rEUoMhOjGDU-6cMgQONcduttZJAMWDPlolgf8+FCKib4h+0mhZHMxFKGx1zbBV2HRE3rdkLmGCcZi7OrIjpwugGaHZwiSnYgMQYvJ9jyW3O4bvTwlGaMi5CgYJLP+G0pO4zXIZ5jtdzyfW08dTqunGD6cay1sGflXwdYAIQiU7L6ILl6BIOCFLiG4nFVDuaunHT61huCZb7M1pjg3QDkgC3qV8oohNrl-NZwoeBIRXZDO1rrYhOt3S+r1wZ402ADZmisEao3xvmeDH2QMdA5sMAW1xfrm2DQ6dW3d9bfn-xQTpoZYyqNpaDH6wNN7O2Pv5ZU+6fjFQqOhFmVo7baO6bPFAJd67n3U7gjs3sWo4I-IHdU9ThFlWUdU2BttumTPZrSBBp6wwLMlBQDgIgZA6AeZ4iUSxYgKE3kSK-nQHMk63RC2ji5OhCdZbSVKMLTXnmJFWaMoileY95Fa117JeShBqHbyCYb6Ze8D5m6N0rlX0lmgqISR48RhCdf+lKHLn4fjNGK5aMr43SlRSUNfv7qPJQWhrnvn-UB6D-fu4T7EL3qQhVqq1+HK3wfGx55HgXjOmfPeIvWeUxDfuLcB4NKUO+TMZwlPaQM0eIsRnx7QudooNfT3nt7xHj3TnEVdrDUbovyfJ9+rny1Mdta3ej6z2GRFx7p+B6Tz8TfGfV9V9FC8i5Na48N7X7pHfjZj+JvTw3yv4+Y+PufWH+PVvf1sG2cXjorKQN1-+SPtLCrn3tBJynMtNCMhNAhmkmBkaCvkAZMFXiZMEOHlZDZHZI5NSL4DLOQMjB5F5N-m8mRpHB-tssiNwFAQGn+EdqkD-NQAoOSjqj9J6voMiL+AqCNKQbVr1Awdqi1K3uQYIPBmWtjgRIdvxqKGHOUMwRvKwQ4OwQ0OeL-BkGVIQb-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-2I1PEdrANH0TX+gQMD2iTQNGkiBwP-Q5EoUIP0Rsl9ioOjzoN4k-QvYkliMIq4MkP4N0xEPQSs1URkNgzWN4RUNc00Mb1j0MMq5ZxSUbxC5yCsyi4cwS7cwYBKV6J0G8HuUyHJg2Gq56IEZfopH1OMHupZpdN8G6YSwcBgJh5sGQb-U5LsJeFZznh9ONNMx7lALOjBpzBzWxBzATh2ENDBocirMxAcgbNiXBoIS7Pa0HNLNhUlwnMlxnPTDBrDxexzX3OZD+ibMD5hXBRPrkD5HcAfPqIjkGivOFDBpJG7NJF9iAuxDBoLaqD3wsCGDRXQuwtC4rAQsxDBph0nOxCWXcBrkql4ER3-Oov7lgjgjuSYsxDYugC4sAhNF4FeSEuHNhVanTCUvUu0ugCQhUsxBEvBrADksGBWVUvdzstgAMvnNzjggACk-LrLwroAeBkrXLoAPLYVPcmLsreL-9a5jLErY2AI6rgrbL8roAerQrOrJL1tMrhrcreBttMQ2r4rFr+r3ARQGrNLxr1tQIZrjrEIDRVrOLNroATR9rKrErDRzrDQbr7L4bIb5rEII2-LxrhQ7rMQI2sQ6lzoToMzPB3TTTsUeNgIIYipcw3AszTB8zWbg5Zb-BGh+ALAAAVo5bOUW7UciCqUczm3wXNRml4US0UNW3m84GWkVJuQOyYjLAswvMGhNnNRNn21+cGpAHQGqNHN8zEEuyuy8fO6+VC1QDC7AJALs4iwe9u84bu33AwAAKInOIuXunv2HBoABy5Aj7-Lz7j7xj52lbo7nbjT47VaothbOZrbKpjNb9Y7xUpiZa2b9Bub-7pDQH0wipwo7rPbm4PAv7TB-7w7JBeR3BsH-TAhDgFB8GJceGXB304opAn+V09b5AeY+pvUmg8j0EA79BT6-JIz2hmWUBZHRwRQ4pep-EtuKjVyeG+hRcon6C4Wv6HOA7IGwjL5EHGmpiVNK997sQsn6M8ntbDbTbG29hynryAiBNyTRQjjQDUnWsWcHAAgjjYgXwLAWKh9HhjpwnLjD5To-O8zMlFT4uXMmAtT81FApgDArqHwVUNwpAq6jWGV06ysqsGasX2d0wt9ESBy7CyX4QidDANd1IbdMdMg2ySXE0mMjoWezQJXDGjosGbk4sNw5qneTlb8H8ojf15Aygyg-tGQCuRgFBnXcrQuEddRnX-94IydpQ43WWokFkKdHXygGnBo43EarXWaDgAyxgLXUCJdH5UBQcG3PG-41Dm8BX92idEIKd9X5SxgTXUoipe363E0xgJHYgnxid1gjOzNOcj30JLUIsCgdR8GcXS9UBWek37Z2k0wOeX6oPoArc0kAmEjWQEYoP4QCWGaqPJrqkpGYPBgh0sPhl4IpGikpQY1IXIE4XsUUXq6oPikzQiPH+-6YesP8PE4w8R8f+sFSGgPO0KXTeokF3EdP3xt-3QwzClBPPXCLdE4ydeXHFcyrunPlS3PmPtdMvodQvdAB3TAZAAPGPwhkvUvYdam8IkPplW5B3eUoIc1bRFvT3f3uvfP0etBS4tPAYdvv3EIxz3AQC+PQPFjWQqP3AwvDvpAPEIY0P6dkvIYk3AA5Hl-UYnfHxH-lx-LHaD7V+YCH2FwWKQNsq6nn8DzOv9Al9OIdAXw61+cS8AiIEncEEnXZOAqJOaGmEnQphwPCE74niH2LyMBX2-RGP38H1r-bzr2HxVx75t+X7n9q+-foEP5Py1P3wNeYHRwx8oExyBOET-B4L8uUYQHF4zwBlorhjH9Xz+pXcf3NUr50ifzAot97diGv+sBv9QJoHhTv1am4C9yMrhl39nqbiPin93ewaUjBAlYYK8gB9-Cft-BX4uAK+duHAsjG4K783A+-XaI8SP5h4-+QWNEhoXPpAgQw8vF3Bzw0LCV0B1jbNqgOMBFxKCjIRUggK3hICUBX-Xbgbz-55YRoCnTRoT2OZn9SYh0T-r8jniUE36GaIQW4BEHCEuEKfbgbQjG6XN+B8gVgVINe6yD8BPA1SM-0Y5v8t+u1fgUuDkFBIzOhQRUtoNf7v9t+yg35D-woET8YaGg2hKW2sGSDaB0g0soFkeKu4cBsmEaKALmrED5kAMDgX8SQa+DU4sAqhkwxYgvESA6AmWoilCz38z+cWZISsFzooE6MqRDAi4GErsgsiPTTPoKnoDjVf+9-BIQ3CXDADUuc-aoSbggZZDrIaRTAnkKOoTsvKPCFvppCqiUB8ArUFqAMAqCDBcMCQ2IcEPKGE8uhWkIoYIGEC0DJB3QnKBORGGnUoMzCNoUWRCHRCikKnGWH1FZR0ZYaW5GBgYR6gMB1AIgDgKQBYwxpcghAL-OULAaPEhMPgwyLdkewPYPMemaJjAneyZMigpmIOBUBDiDA1sZhAHCcKLhnCLhwgK4fvz+Gn0049w5bN1ihyPZvC8Yf4hIRd5jRXhsTASKTDuHFdmEf-bgESOfp-9-hCRMBjk1yEwIv62TP6uSLKyCcc4RsfoAoHvihkDCFQP5l2DZC8ivmc8QwKSAqH9owI-KM-oKN8DCjiQTwFPgIOYSGB+UJgrFoNzYx-QuRBOE0nyM7gajORmEFUdvX7zSjZRiiIeJEWo79AmCpozuAKIIhCii4IoovpI0lHu9bR1COUfYKXBX0jR0EJ4CqWqAiwHYNoh0TKMGAeiRRTwVUX2ADHut2Rmow0SWVZEsQExnImQOokcSttiO1IPDBmKoBoxzkgQP6C1w5HA5sxdACBOaJjT5jKAhYtMaWL+gujgkxY8Pu73bIp8gxZAEMS1FtEsd-QV9fUfezjFNFax9Y-UY2INHoZWxyY7YeYAk66YD4lIUEMdVK79QykFcTHLtHeHbRPhV0b4UfFJxGYaK4jCbCiJ2gk97KVWTnIxg3EIjQwzQDiJqnLGLZzxhuNbD8yoB-C4Bk4OsUcRfFcQOIn4zcezVWGY4xudODgMIGTpn9acdYBnCnwkxZAgJrEKgOEDP5wxOaUPRFEJg4joT3eC4mrMuI+DoIUJd4rcZ2JxHwQ0JcPNuJULGgbjceT4-8SDiWwRg8JMY-0BGEYmcTYqBYliVQC4iCC0JvE+wodB4nGjtwZOFPnBPpzQSfx+9Wzk2QnG6UwJpMQViOLbJewu6gqPoPunviMAph4iIyfQG4AICUJCA0CRhU3KsTZUNIIIoyGYlJAAJS2cyV+KZBphnABnKvn2EsnHjju3tRbHZJUIQT4J0Es-h2PSHUhloSkgJBONsnREdJZQY2u1BRj6A8JYoosctF76DA8JSU9KEWI5E4g2Q3QUUcRHPB7l0oxUzML4EVQBT3wwIizAGgDJexpuhgH8alOQFEh946UmieVMHLdBGQwk2WCeI-RCZug4QSbqRmm7dAbOkgUAO7QAASl7BgAAEFwA4AS9gACV3akAAAPKPtkAQITGkF0LpBSTJyGJyZWK3EJDeAKUj8MjF6l-ikguPAqZ1JEELDlyV0ifgVM6CNgLp7Ur7ixF+mZAU8GkZcnhiWkrT1pm0naftMOkzC3pD0j6eDKHZPTNUeGAqQ2M6kMBupPKb6cQk+nOB3IaYjocBnahgzPJcBK6X8ISFpifomYxUo5g3H+1Gim2NQCYBPQRkLp+gFmeZF-Gao-hMYs6WoEpmLDLp-EpIH8LBS2c4gGQQ6j4xFiMgAADFjUjg1B7IXKeWVqJfyxRqAgwB6NrNyAOAlZQIdvgrJNnaAI6eIUaQJHNkipLZpAGYXfA1nYYyuN43GPbKwF6zJsakpcETzmqkwvZl-JJPrID4ezZxQXQIGbjdkOhUg1QbIPLO3GDlg5f6Y-rplNBtki6WsjgDrKZ4+yUo5IVjElhSzcZHhIYQES8PKF1lvadwV2Y1nhFyzc53sqqPrKdrQ8khB-GuaTCiwlZUsqQg-g-0KC9zS5FI6Ae3PsqEBectIxLMVlHnmykpR+eWW-FhJuN3S+GBpFukdQEkiEzyeWXtRYhvA1Ed08RAvISEZoF5Wae2ROTPlgSnmyPDLraEvm49g0nQTjL4DzgKYemKfDNBGGfk-iuC5Sc2YnMYxuTnp10vya1n6mbk1E2lHOfFAvAxzGs8crRAvL8jnhZsRXYKQ5MIEThMF82QSa5Jn61ZJZlYySUfPXDc9YFEZBeaJJWCQLBsAU-BdgoyiqRIJCE9sV7EQkTEl+M-EBRTFXJqwHYjAWhZlkUmSBlJrY-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-Q++HMI+UG6ig2a+2cEHzX-Im1AqzQvPzd0xBXwo+8fS8Un2iQxEqtLSObtiAL7PI4BjyeLIrW1At94B3yCfrCEFZ01DQMA+AaX0V8Lw9kgUrAbgP-CPdDY8ZaEuGVSSetyZA-XwuNHQ7TE+wgGK0HezyqsdIMOVghV4nHb8+ECGnZIqKntlYknZU6ZEyECGB7IqsPvWvPPCt6gQ7e5gd3st6iGB9Q+w1QIDhh7k2D8-Dg51Fil06eDX6j9EvWUO49wQdkQKWoGWioTmAUkf8M0HIOHKqDsO1lHQfGb07-ohtAwIwc6rusEKP45haxPSkLg7wBSv6qDrYVhSzeRQSbuwvClRSkJvh0tqSCU2jxKJ2GXw-hJqGESD4dWMRBtEIB+H7x4WwTJisICiiz+aR2rHvUyOPBCjpbNkOzQpxgArskIRI6TGyPhBW4iQpcIUdx7eHCFz9Zo3QuHnsIOjfR2IF0dfGCC-Rk2ooIINJBDGSD5DGSREe3U4BK9Y22PlMP0A+SAAOlgBLXcii4l+mQMEAB5baqWAbOUNBBt2iQf9e9QoVgGWO8bVjn09Y1Xy2M7HtR+xw471LGi8BVwb9HoKTG+OgAAAXuh1ABbH79uxpgH0IONh9UdJxoE1L2swXHwQVx4wIVCggNQBD7wYQ9OFWMQn3jMJw1j7zCrkAk6LAJOsoCTrQTJgsfJ0HgDuN8LcTbxqEx8cJPn8ST1lck5Sc75InfIQAA')">function unify_match(p1, p2, frame) {
    return frame === "failed"
        ? "failed"
        : equal(p1, p2)
        ? frame
        : is_var(p1) 
        ? extend_if_possible(p1, p2, frame)
        : is_var(p2) 
        ? extend_if_possible(p2, p1, frame)  // ***
        : is_pair(p1) && is_pair(p2)
        ? unify_match(tail(p1),
                      tail(p2),
                      unify_match(head(p1),
                                  head(p2),
                                  frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p34' class='permalink'></a><p>
      In unification, as in one-sided pattern matching, we want to accept a
      proposed extension of the frame only if it is consistent with existing
      bindings.  The
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>extend-if-possible</kbd></span>
	<span style="color:blue"><kbd>extend_if_possible</kbd>
	</span>
      
      used in unification is the same as the
      
	<span style="color:green"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>
	</span>
      
      used in pattern matching except for two special checks, marked
      <QUOTE><kbd>***</kbd></QUOTE> in the program below.  In
      the first case, if the variable we are trying to match is not bound, but
      the value we are trying to match it with is itself a (different) variable,
      it is necessary to check to see if the value is bound, and if so, to match
      its value.  If both parties to the match are unbound, we may bind either
      to the other.
    </p></div>

    <div class='permalink'>
<a name='p35' class='permalink'></a><p>
      The second check deals with attempts to bind a variable to a pattern
      that includes that variable.  Such a situation can occur whenever a
      variable is repeated in both patterns.  Consider, for example,
      unifying the two patterns
      
	<span style="color:green"><kbd>(?x ?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:green"><kbd>(?y ^expression involving^ ?y)</kbd>
	</span>
	<span style="color:blue">
	  <kbd>list(y,</kbd>
	  $\textit{expression involving}$
	  <kbd>y)</kbd>
	</span>
      
      in a frame where both
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      are unbound.  First
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against
      
	<span style="color:green"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      making a binding of
      
	<span style="color:green">
	<kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Next, the same
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against the given expression involving
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Since
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is already bound to
      
	<span style="color:green"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      this results in matching
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      against the expression. If we think of the unifier as finding a set of
      values for the pattern variables that make the patterns the same, then
      these patterns imply instructions to find a
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      such that
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is equal to the
      
	<span style="color:green"><kbd>^expression involving^ ?y</kbd>.</span>
	<span style="color:blue">$\textit{expression involving}$
	<kbd>y</kbd>.</span>
      
      There is no general method for solving such equations, so we reject such
      bindings; these cases are recognized by the predicate 
      <span style="color:green"><kbd>depends-on?</kbd></span><span style="color:blue"><kbd>depends_on</kbd></span>.<a class='superscript' id='footnote-link-1' href='#footnote-1'>[1]</a>
      On the other hand, we do not want to reject attempts
      to bind a variable to itself.  For example, consider unifying
      
	<span style="color:green"><kbd>(?x~?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:green"><kbd>(?y~?y)</kbd>.</span>
	<span style="color:blue"><kbd>list(y, y)</kbd>.</span>
      
      The second attempt to bind
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      matches
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:green">(the stored value of <kbd>?x</kbd></span>
	<span style="color:blue">(the stored value of
	<kbd>x</kbd></span>
	)
      against
      
	<span style="color:green">
	<kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:green">(the new value of <kbd>?x</kbd>).</span>
	<span style="color:blue">(the new value of
	<kbd>x</kbd></span>).
      
      This is taken care of by the
      
	<span style="color:green"><kbd>equal?</kbd></span>
	<span style="color:blue"><kbd>equal</kbd></span>
      
      clause of
      
	<span style="color:green"><kbd>unify-match</kbd>.</span>
	<span style="color:blue"><kbd>unify_match</kbd>.
	</span>
      
	
	
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-possible var val frame)
  (let ((binding (binding-in-frame var frame)))
    (cond (binding
           (unify-match
            (binding-value binding) val frame))
          ((var? val)                      
           (let ((binding (binding-in-frame val frame)))
             (if binding
                 (unify-match
                  var (binding-value binding) frame)
                 (extend var val frame))))
          ((depends-on? val var frame)     
           'failed)
          (else (extend var val frame)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06cDwc73jxxQIBgeAkFQNA8TQYkLne8xRRBLQKCyXIFEIehiDoShwf25JUnSBQWDIfRxclmoZfCUAAB8dcU0UPl6zq1cUDXpdlmI9YN1IWDkjghFNiWpa13X9ZfRWMjFs2Xct2JrY9sUPzVKV1d9+mmeBagRZ+aanfN12IkKALiZUH3NcoV63uTd1UmYMQJGEBhZzBD4FEoHY+nuHbCb2gTRVJsvLYAMmb3p+kGJvwmEoFKCr-Os8j0U6D+gGw4zuX67z8gC9qYvQXj32LJH-7CoRgWXEMXxlfwRt8BkNJR8Xifa5Gw6I3Hi3+QiyPmoYc1qDEOh-ploxKGNsRuBRwhAjcZxJ7dCXCED8n4vy0twI2y0v7Ix-sQP+9AI6I0FqkEBz8LbHyvqfVOop86F3nnOS+MsLKoLAWvbOLESEWwYFvHe3tnYn2ImfDu+gIznzrBgrWkxEEbyZI-NBMtro4wYN-X+hhnAcMtow1ObDbQX3Tlfa+-Mc6igqMoNgE1sp0DfuXABCtq54KAU3CyJYhAgVUeoyq9B4RuxtvouehjKDlwsjDP4DBzEaNRNY6268c7uMsYwGhdswKOMkcsJhIxWHMMwiErh3DfEmAsZowRBZhEwNEeIruhNwmDAjNEnRijyFuSFn9FgwhyCpNgfArRmS-wjRwTPAxC8jGiXUcrMpFT0lWLiSxVppTymLnxpIMghhtGhNiCNG42JAm7wYPvQ+-1uAyOCfk7pblentLtsIXwoyhrZJYewvJssClD1SIFahzAtBgJ2Vk7B09Z5FwcU40SZyPhUGIKQ1Z5gzkiLgWI+g1zanSKiewru9NCnIIYG8NiqJOgApTvLXOdiHlNJCcY+g0LnA-B+VUrx7t-T1Pufg0uqLRJQujpixsrzLkWzIZHMlMLGywLYtyLQcLxmpxLgwQIMhRncDxJ8lw9KKWQqNG0Asr8alhI5aCLllReWgFJK9Ol6LyX0B+J0EWI8aA5gBpK9lCLOXcvlToMFJzqFiulsoXVMSbkIoJY0uczTwTGHaJa4gtKkEuDvi68VVrRlhFtQJIBzqLWOHdRAkJYQlWev7K6sN5y3lgJGTU2IUqEVLJ2QKkGcEPgJupRKyNuygUjCblG2akdf4gSpe8i2ybC2BrdIcstPiWKineZoXEPq3X+qLXaz2mQe3Rp4cU3N1armlt7VPNIXt9kPkLaamNop2AeC8Gy-VU7cH2JRU88Ey7lBeA9TwvdXhWr4C2Wuom6bgVzvyYPRdKDCCEBBCyjJNrAV9qRUS+V4INBPuoC+rpQ6c5Mw6b819OiG0uAzaCoDFDSArWxX894F69m5JBTE4597rrTm-roxFm7kVzm-hZYoZDwVBWICQEQqR-nEYGkDLGeNR67Uju-YgLV7KdFXYWYigphRvlSD1fQjpa6tn42K2FLjGMid46GR6pACx+VjMeIihlDTvAECwRkn0GDfThsJ2mgzDzbjqR2YOXpNp+h0rEUoMhOjGDU-6cMgQONcduttZJAMWDPlolgf8+FCKib4h+0mhZHMxFKGx1zbBV2HRE3rdkLmGCcZi7OrIjpwugGaHZwiSnYgMQYvJ9jyW3O4azozT1hgWZKCgHARAyB0A8zxEolixAUJvIkV-OgOZJ1uiFtHFydCE6y2kqUYWg3PMSKs0ZRFK8x7yK1qN2S8lCDUO3kEyb0y94Hzm1NrrPXpLNBUQkjx4jCEjf9KUNrPw-GaM6y0br02lKikoa-c7T2SgtDXPfP+oD0Hnf2x92IR3UhCrVUN8OS3ruNjByPCHGdAeHcRes8piGzsLYuwaUod8mYzhKe0gZo8RYjPe2hazDQUenvPaTh7B2nOIq7WGqbUPvuM79WzlqY7a17dp0DsMiLj3M8u19n4guAe86R6KF5Fya1vYx3z3SIvGzS8Tf9jHiP6cvcfc+u772lu-rYNs6HHRWUgbR-8mn0setk+gpyuZ00RkTQQ2ksDRoedW8mEjkywR7tWRsnZRy1JfAy3IMjDyXljdvLI5HA32zkTcCdwGv8r4G69QUOSnVP1PX6GRL+BUI1Y8MB-tQdP2qWq4-j4IeDZb8sqfdPx0UYdyhZ43jnhweeGjnl-hkMqkfTeeqp3H9vNvyfTBRmjIuVu4L0CuZl6zIHCf-WJ23ug1gR+j4NIn9fG-phm+69P-hYJc8+fXX105xNJvd7YJj0MpQznTRFTLdBV+b-087BqZYAWTwKm99OSvfvbIHIXBWNfASBw9BBtdfBCp8tZpyMo5c17cqIRlv5DBAdRMJkNB9AndAQAA+JXE3AGJ3QHaBQgZtFrJGb7WHWFcXD3LBD9d+fgVQI3drVlKgxlQIZlDrS3R7BXRXPvebJaBlR-RnMEbgunenfg02QQ4VDVMgLVagHVd3R7O9HhaHc1ONdnSNNA4iFPVIdtSgTtUNTQ8uCYILS9ASd-PyL-f4XQ4udYKtGXcdedMwooEaSQqoUgUdRw9BCdTgD3KwuvWTGIc8Dwrw8uTzRkQydwnNBw1XAtEwtffwkMWw+-G6UIhw8I6aDvOTVOdI85TIqiPLPCQIwyNw1nIwgGTLStPNWXSgOtBIvw5QkMArWAyOO3A+BwVBKUObJPeFASSZfQBgXA0SSETo37dUOEbgHohdHhQwbkRgfAfgNxE7fxEneXWuWwjnKbXadTKkUtRkDnGopNKbIouuM-YRCWAw9Q31a1BI8LUodITIcLNYR9aWTueY2ZJY27VEEZPIrneIuozcOfaYOYoQT4sxFYzREZYE-0b1Co0YLwuIuontLhAIgib-FYUzZYtRU7C3eXQyMbBeb4qqLbbYwyZoR4tgKw1omNNQsXdXXnWuc8TZXwbTLkE9Fkk48kc8PcKrIEUEhYr4yEn4zaM9XwYzNODTMoEecY2oPk+AkCOZMYsRJ+KUXkiUso-MDrFk6BCfYRffeQQ-GcBsVAmEnfQoZUvhOU7gM080mID3GYnONQlXfNUQhk2gqRBFO+VInGfQcLSQ75F3KpJQnrR01rb7V7N0+hC2bQ7k4qAaHGRkSQyMzzUDYMsQiU1BNbWhSbFM0kmnaaQHPyEaaaFQp077YkvE6MohRk4iLMrbSbSsgJdbXePbEMSQps1M83LRDM7fXncrWQSrarNmOrTmRrSwcgiFBgvubZZGPDJde2foLROc0ARSUoMPHuRLAsVc0MYyUgUyfQZGCyO2XeJcloGBEwLQYQAIEwYgBQ2oRoaPGNHHbPRfIZTw7gHU2svowBBecEJvEQFvZMcEPsmCDRJfYZT8sUos8tLDACouCvecu5B1I-NFZ2ZvJmQ9YDAfN85fGQPDQ1OVGQPlLNEDTk-CugoNGVI1YihVUigfKfQ0q5Ciz0qi3NGi7gE1Mslib0i-OON4NGMZU-NEP8n0gsECyUwSrNKXPim6LIyi84gjL9Qs55WSnGLCliMSlqAS9BeS1ig6a9LILIsMpGRwL4MRTqfUnMA-K5D0n8lwCMJIltNyPI-TOywoPZJyuAy1cyimOPQZbQ5ODy1OUmOGGC84c8PuFqfQ3ERimfC2RkSkk4OAnHQZIwFs3UbGAsXo4KhFRuDK1AhM7K0iwZbMoJX4ozSIIK4S9uEYOmWDFy0qh3HPSqpOVNXKgSCMeqmk1Q1GN4qymynwgq7GQqlgdYaKx7BStEaWMQPudK2hANTcjgTqOatcJYW-UaMycmH6NKrbQqtatfUAMa4wKy3g5oZa2a1Qea8q8IAAHmBBmtWvs14IixaH3J93BAABU5JBIhBWSndeAk1qQsQ-0HzRJQAABqHc0fSBTqIUbZPa8IKGiS8ESG6G8nWGsQeG8aXUT3CcPcg8r6n6mQYgeyKvMQQG2tYG7XagMG1GqG20zG7GxGtGlGtGxm9+ZabGg6ky8wfKVbBsuOLbWMpEWk7rYuOSbEdy3fGNAU663efa56lwjq84yk+W3GmEq7cW9EbEW0+0sy-ACyhDA0+K1+B0mE5oLbFSIEQ6RG202YZhA620y2+YtLdWsIa0W0Hm04hiPjAwK3a29kKuGKgapizBIIooX-dWiyayO2coUAObaAo8dE1TPsEIwZRkVytKpIvsEaOWuGMqhWlq5jUC6CAu5qumCU+MckQrVOK3CWogYTJom+GNesjKzbDK7GEWxMMWnMBuqWyaiOyOOWvakanY4LKdNWu29CLWvunWv00fHyw2q6OKo0829CS2jKwO22gql6mSUiQ6Na7GPepSOWzCXez2oy56qu2vZI8TbrQOqKi4jtUO02oS-0KO4W0SWOxYkQBO0ecAyMpO+iEotO+MuGTOmInao+HOnIhFfO0qva4usGUu7ccupA5Bx0H2mu+y2nfupunrAckGIcuQVmWrDmBrbmDAScvRYvUve8oC1EFfXrPRJSoBf-OhjPd1LNThsvXTCWDgMBO7XPSDWqnJdhY-LOc8XhhhpmeUoBZ0YNOYCS2IOYCcNfRRv8jkFRmIDkdR7fYNBCHRza-RzRucMSUEYxkuUx6YYNYeL2CS+xzIf0DR2xv84KJ9cgKA7gDx9RVkg0VxinP83-HR3-PsQJooYNG4Pue+FgQwEC6J1QWJqrFYCJwoYNCG4x2IQ87gcU4YsPKG-xtJ2IYNdyLJmIHJ0APJgEPAsPLyIpgxv8yY6YSp6p2p0ASEKpmIYpmIYNYAcpgwI8qp7udpsABpsxsEcEAAUgGdaZGdADDyma6dAB6YVIhB7iybmfycDvFMafMYAEJhJNmhm2mFnQBDmgRdmJmIRbrZmTn5mw97qYgrm3HzHbqARymtmamzn3nnnVng0cC7ncmHnQA8C-m9nJmcCPnuAigvn2moXwXrnwR9mBmznChvmYh9nYg5znQnRpG08uHGGSSCrAQQwBi5huAZHM85G8X4yqXy8B98AWAAArS8vkslzA5EYYwxglsvCSjNY-VZooelolo0J0IqKUkVkxGWeRheYNd-CS9-IVu0tZ8ESAOgNUaObxmIdVzVgw5Vu0qJqgJJ2ASAHRxJhgU1g180o1mJgAUWMYtbtetZ32DQADlyA3WBmPW3WT7rNaXJXeWGHpWq0SWAQOXsRhRvnDp8LKWg3M8Q2y18WS9CWQ3PN2WVgBio28CBXNweB43tLipTEy04DC8RWK8HAE94MS48NC9vpxRSBDcrpmXyA8w5jepNAF7oIRWS8n1ajhHh9Msnca2jgigeqc5gIsRX6jS8Nx9+rV7Z9oJf03j9By2B9R70bycpWi2BFEbUHChl30Y12N5ZkWW2WbSd9t2NNTF02XXYgn6Q6F2r4s4OABAn6xAvgxrGwn2ZYDj+JVsf2wRxWKsN4qtSGat2Z6suZMAaHJKKBTAGBXUPgqobhSBV0pMeNcH7HlZVYM0MOuEQwHaIkDl2F8O5RkaGB6bqROa4aZBtk8OJpMZHQgdmgGOGMsHYKeFxYbhzVCcry34P4cqaryBlBlBAaMgOsjAE9RP5mqsoasDRPA7wRUbShlOstRILI0aRPlA72DRlOI1BOs0HABljABOoFybCqncg4TOeN-xcHMbWaIQ0buPyljA+OpQBirPjOJpjAq2xBTDkbrBwQGrzBvPPCWoRYFAsD4MkLp0B0ncgdVPKTtJpgQcv0EvQBW5pIBM4usgIwEvwgEsM0CvznVJSNEuDBDoMvNzwRSM1y4OROQIkPYpUPV0EvFJmgcuDd-07sMusuJxh4j4zcgykNoudo8bhdwQnOoawuTrIuhhmFE8xuuF2aJxUaqOGy5ldthvKlRuSuGa1vwaZu6AbOmAyAovivq9luVuIa1N4QUuDRmhZuAYLGPgJKiDpTTvIuJuZsG4lx2uAxPufOXujHuAgEquYvL7rvuBnuzvSAeIQw0vMblvCPRIAByKj7A5GjHxH6jj+bGhLkLlUE74HxDgsUgbZV1Cn2LtW-6HD6cQ6Knl5lV4NIQYQFG4IFGuycBUSc0NMFGhTDgeEH7ooQMEn8LhbkYJnw6iMaXmH8Xub87ljoHiXxn8n3Z+8LIOXlXk66X7ityFttt5QDtkCB-H+DwX5YTGBWL7rgDLRXDVH1nmmu3iSnbzpe363-d2IAYw39YY36gTQVM83q1NwPz5A63kX1YWbGB63x3v80jCBdurbmPwgSP4Hc8wgfX8wJntbEPZGIveQEP8P1PjYhvB9P9O3q31P8ekI9dreoEEMTbnbIbhikb8RXDG+-Fi3twOeRPRkAYnPrePPgv7vyzq7jvvLEaEDK2mrox1H0mQ6YP35Xv6vQ6jNJfnvouRPAjlYbLOv2hJTkuB70X-N0flf-z3H6f+v1SX39tgP03qiY-z7UK-foJL3mIH31tv3k3oPwv35MPqvjv1S6bUV8yYQumwDjZn8t+q-NEoFlsK7YO+QWEaMGgT5B4cyyff6IAIlLWEkBddGBNSRbo8IDCJAQAVNURShZY+gPOLJQOAFR06MABAPC4G7LshQC3DInpJW5y4YyBf3MaA70B6OUaBM2OgTAhjr+4gCGfd3hwJlZPkeEfPTSFVEoD4BWoLUAYBUEGBcD9KDlVgaQJq5yCtI7A1QT9g0ixROSGg3BodB0oyssBWfFMK8hlh9RWUdGMKtKTjqAUeoDAdQCIA4CkAWMMaXIIQCNzW8XCthITIgIjq7FNMx0TqNpiiFfRGAblEQUxjBinEVaeid-O5hOia0XBv9IuO4M8HCBvBVfQzMxgtppwAhGQyynHE+gn54wdeWwhQOr7K0aqpMfwfR2YQd9uArQt2h3xvrFEU6TQ8wm6G-jYNq6qQsoYENT42C8e-QBQPfFeKAUKgfjLsGyEWFeM54hgUkNwP7RgR+UqPVYb4HWHEgnguPBfswkMD8p3+BgWTmxj+hzCqMRcfYV2BuGzDMIFwvWhvkeFFwNhiiIeE-kbb9BM8nwowCsIIhrCvhmwzQbNhnTnCKunw6hEcOV6nCS0bw6CE8GGLVARYDsQEaCIOGDA4RGwp4JcP9BojvmRsGYWRBhGYZZizwn6OokcSctK21IPDDIDpFoxzkgQP6AJ3JFZtGREwdgSyKoBsiyRnI4UTxC2G5cuRf0CrpSVx4YiyAWIlqECMMi21nhLrEkXgQFGUAhRzwyUS8PQwcieIVIp0n1UApChhCoIXSox36hlIK4SQzDhEKOqxCYhd0OIdA0wEYdihyQrDmZgqAhxBg1Q+rnO3RgejWIVAT0XyA66TgtRchBgNEy4g6YqhsQw6jaPDG80SYgomMXGKuocQfGYYu0cyIzo1c7MewWoKjVR7ghixHAdnrjwkxZAcxoYy2KjwgYxBZRgmCaKuyoDhBUeQYouGaMpAWjX49YlMfmNbFF4lwHEcIK3HIFLgbRFXDiJqljFUAuIEYCcUSJWARhZxa46YPOMzFLirqi-TsVuNHyHRNx7wsukZmV4Vi6wpYqYUbVfY5RRRh5PDKTCGbqiE6XsNMSoD6D7p74jAPQeIn-H0BuAOfesTnzphMl4yWY2VDSGvyMgdxSQRcZxCuogS8xgEugBexVYTgwJRmYsqnCgkv4lOlY0sajxlG79qQy0e8QEh1H4S4EPeT8bwBOrtQUYHY9+mcT0TI8DxRyKYelHZEzCcQbIboBCLjJSl5S6UfiZmF8CKpvRQcX0RZgDQPEvY6nQwFMKYn58iQ+8FibtHPDdBGQnEjUrcmww4hwgqnUjOp26AvtJAoAT6gAAk7WDAAAILgBwAdrAAEqfVIAAAeTdbIAgQSVWDiTSQlGC0wzgEZPBPQn5iyBDElqKpJYmaoKuPE1Sb3x77yC3cYU5XjxM6CNg0JykzjjnAymZAgpKU5DHhhsl2THJzktyZ5O8nsCEpH4ZGElOMEhTYpchPDDxMfGqSGA6knlGlOITJTUQ7kUUTIOAztRCpIpMKamLIGijaRVAAYo5htGA1cCc+NQCYBPRgk0J+geaeZCjGapUx7-AKWoFGlNTxp+YsFK+ziAZBC2DgEWIyAAAMyVSODUHshcoLpdwnXLFGoCDAHoL03IFdO0BAhBel0v4WjTxC4SEUAMkVL9NIDsC74j07DExypjAxwZtvJJB9OfFLhauElUmEjOd4ozrymvBGdhE-GBA5scMh0KkGqDZALpWk+MtjIr64zEqpNZ6RwFek9d3pn0vyKxiSwpZuMQQiOliVCFBCCSv1O4LDIw5FDzpzM5GWzJeppcGhL1UoKTCiwlZUs1A6vkeKVnczuhEfGWRn2pJjCNZbmAGfRLoDw1EJXEQgAuDvDgTIREDIsdeOrGA8rxJYh2bQPaCwoLZlLUkE2MGSjihMFsrsYDx7G6YD4ksP+BtA9k8ArZRmX2e2MICbDuxJo3sSHMNpiJw5d4COeBNAB4BIQOc0caTH9mZc24PA+CF7MB4OBTZWYt2v7KPH3t2Ecc3TisHLl0czZ+45hNXLPH+hF+pIGuWgwvG48nZVY4LuO1bSnILpb8JErFzYYookSFkAGRpTchvA1EDE8REbLIEZojZWacGZyVXmQinGeXEjraA3kVdWebATjL4DzgKZuGuPDNBGCPlTDC85SAGZTMYwoToxSQYCerzdH2jYg54NREuSZnxQLwJMjDuTK0RGy-I54JubiAIkN8JwUClufoFfk7SO5i89cKNz-lgkjZPcwoNhOYygyLCJs5uTAtUhESXZMkUibQJYItQmez8imGKTVgOxGAWCzLHeMkAPidR8Cl-AUjOmlSGALkyyAABk7WPk98ZkHukxp9pSTAGaFIzHvyIpkIqKbpjqnNSkg8UgcIlKLjSKVFq+XHvlOVwXSRkWaPRQAsMVkDeF-CoReABqnqK6pc8LRWlMmk0jD2gwRzG1J1EdSup2ihuf6HBAAyBpzw+EO-zcUGiIQqA3xRdP8UGjhe98yAiYu0UTTIRU0zUbNJMwXThic+B+QAtoWUtZF4UumHtMkAHT7FuS1MZ+LEQCNqF6vRBZ-OOkF1RReGJJXSJSW75CxeBQyFNOcXLElhLi9CGqC359SmpSCuQrtMyxvjC8WioZXIsrp9k6lqoqYfwTJ5kBKe6vcMbxKlEQSpSrQLlkCDEnECAY2vcEAsqZ7AM2JiKdIVsvbz1dylfbRZRT2qVLLVl9SyMRcp7L0BBKIybXrMoNGfjRQqkh0JpPFEcS25nYwrjrERRCY9JZSxQYEEOk5RvoMUtCbtFsJ-KNoiK8esEXjI6SgQHirMBpMRWnFf5iQYmSBDQlrKhIZpYJXxO6C9TGp9ASJTMJOWFBSoOIGlcFLpWDT92pMNCdwDfFid9yVCUlfUuwGgMYCzlcwB8GCAtRwZ8K5RTvOElUgwpjIVBcvP+TgLyQyKuqf8rSnorJSVILFe6DqmdTcV3U3Jb0N1UCA+VxKgBWStJaj5KVnI6lc8giWDSzVzKx1eEo4D0q-oIFQyFjIuk8r5mlqqhODKFWwCMSoq2DoYPBnBBYVWiRFeKKfnxrUeUaseYitx6GD1p+K3KRQmED9LaVcagZQglrgSqYVpKmVRUGRhYFC1q+CBfGV3h5q2VzMIELwvKmuT3JXkqxeSBbVOS21VUkRVyurUBrhi9a2NTXhqrggMQQ8sVS4BTWPA5VhQEtVKpenlrmJaqh0SOukWMhzFgi4RX5G3WWK4JS4AGUOu+YbqDF+khFBOoPQqS9ClxXEG8GZbZ4UCNPGdM+v5FQMH180KvkJ0GFQZ2hMCMghWjgQgRP1KIYvj+tOUCDSC0lW9S-WCiPrW8z68UWrTfXZqXKUDeDV+qQ2QjVZgGmNNUUw1gbv1eGKDXhp4Q1AxAbyIuDQuw3mD-10GqYQ+vwAUzQNpgQql8pmGxcQ6rGphjxvWrTBbMiDZ4bjyY0UzqifGqQghrY3eL7SVC25XHg-X0ApNbpOgMpo9p+YVWHGqUWCmZU-oRAKNI5erwkqiaa1sHeDcxq0SEa2Njy1UeKJDpWamGDm-jeQq9iyi-hCorpWCK7Z9hDNSynPBhpSDKaNpgW+aB7TtFkqNGuEbJvM3M1ibgNbiELURqc2RbR8Wmw0a9F02c8LIvminhJVi2ma4CFGjrFvnC31LHFBo6afSN1q9yAGNTDTa2G2HCY5NNCorVeXk1jd1NmEooKwsUFUSQlldWwFFpP49b2F-W6Of+EAgUkvYkEBoGlvpi6bueBm5rUZqmLEBKNWgcVpHBRgmB+AAMMwWMMkJ0Z32n7LFCbUPyfjb+-vQPnHBK1zaiwedGkckswKKRbZOBRSNtrE6sp1IzAewR1ltIQ9-Oh1MKraW6i0wRm7wqOjmAwldaGB4gjiPRnAL00-ME2ooOCEu0-9powvXgqUBG19a+JdMSMZSVQZzaMt-ACEOjvv6eYltWpLQPJokoU7rtg0ZKueBuD59fGXjRkAAE4TgkcdnZ2h1EQbed7EPxmSt0wiw34UxHVfAOhFHIXCOA18C4E3I3SdVhQPnfoDR5o8LIaAbXYytrz9DwhsQNXSqJqHTA+dougbNOCmnRJDqLgLyPyhGEwFVdwurxubvF2FVWdCWkKH40-GdAz5F8gsG+CfiSqbN3ysgWltJ2TNfdXjf3eGlEg5btWUe8+UwEvmbaY0G-VIDQuqClRVwZAO2GIn1YbKqQrQRkIP2DzMB8+6ejsRLyz38BWaRwaJeqv4w6pSAeerVqVyBDOoSxMsaxBHTV3ghPIXkdPaACZ4GrSoMQAfb5E3ZO6vdXjfQLDxoWtBjgjEQIgxFfCkrFByg++LmqlCL6dVs6lqDGszW5rY1g+RBSbpiCvhm9regwu3tEhiJlqWkFXYbud3bJ+9A+ryGhMEDb7RA7+zyJPpwERACsIqhoH3t-1eQR9L+KrGAbKZmqzdj49pTSOaU1b-oi00fPPqqVnjvtpiBwfsvDE8qodIMeZqGSJHx7EFECCiWwrx2cjKSsSAgf5KgZCBDA9kVWDXtYnnhi9QIUvcP0r02c3wJ3WvcjXr0n506o8eUqQdaDkHOolEslfoBoMXrJ6M6OGM5pP7gg7Iv1JCctAbHkApI-4J7gr0qV+asDv21lBIbEaYMwtoOwg8MVDLzLE5wcovCnOoAbQQxa4BJfKsiEujnRHmPTGlRDHdU-aFQsQLfqVYuERo8CyuQmJujVDodKrVw-mNHY106hZfQyWuF-A75s5uclYMySdFAgdMPho+HEf8MT03Qn0YI+ZmDB9gxeFcvcQTK4AdzHRLoybNEeR1QQCdfYYyInNqNd14jiR-oa+AqD3CaMWiOI34YvFVUMjkIEMCNAHk3jejgWPmXgInxdGEyqYug1gHT3ta0eeg-QF1oAA6WARNfMKLgb6ZAwQKLkTqqbAs5Q0ETXaJCv2G02B6xv-m4E2PbG9jBx1NUcaYBKDTj8PDsWNF4CrhDqPQUmICdAAAAvPNqAH2NFBOlJxs45YZ6CQnrjOkW4+CHuPGBCoUEBqAwfeDMHpwWxr4-Cb+MnMwef5bQ8eRRrKAUa7PSYGjydB4ANjNCwk-cO+M-QETpJ1VhSdEgsAqTNJ4Xmid8hAA')">function extend_if_possible(variable, val, frame) {
    const binding = binding_in_frame(variable, frame);
    if (binding !== undefined) {
        return unify_match(binding_value(binding), 
                            val, frame); 
    } else if (is_var(val)) {                      // ***
        const binding = binding_in_frame(val, frame);
        return binding !== undefined
            ? unify_match(variable,
                          binding_value(binding),
			  frame)
            : extend(variable, val, frame);
    } else if (depends_on(val, variable, frame)) { // ***
        return "failed";
    } else {
        return extend(variable, val, frame);
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p36' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Depends-on?</kbd></span>
	<span style="color:blue">The function <kbd>depends_on</kbd>
	</span>
      
      is a predicate that tests whether an expression proposed to be the value
      of a pattern variable depends on the variable. This must be done relative
      to the current frame because the expression may contain occurrences of a
      variable that already has a value that depends on our test variable.
      The structure of
      
	<span style="color:green"><kbd>depends-on?</kbd></span>
	<span style="color:blue"><kbd>depends_on</kbd></span>
      
      is a simple recursive tree walk in which we substitute for the values of
      variables whenever necessary.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (depends-on? exp var frame)
  (define (tree-walk e)
    (cond ((var? e)
           (if (equal? var e)
                true
                (let ((b (binding-in-frame e frame)))
                  (if b
                      (tree-walk (binding-value b))
                      false))))
          ((pair? e)
           (or (tree-walk (car e))
               (tree-walk (cdr e))))
          (else false)))
        (tree-walk exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+zjwKgaok5k5XKPV4vTqsgA-NjuBgNQmiKJRaHnBB8gvJohDkKAeQtKAVzkLvTCsItbxF1MoBg6A9zyAtYNoH-EN-YD1NMHVQRpBQvEsBoRgLQzYZhXpba2UDqAwNJhsUom9QCtHaJ0Fo6C0gAC5QCE0auAhy7EOzINQQOfBGC2LZyobA-QtDCHXxAaQMB8gIGvHwow0m+d7Z40+CfHIqhl7nSvkHdaMwRHyFAKiXSyUWQACpZHKK0oEHSQdqAGkIJZcBkgeAvAMS9ZiQQJECkIM4WR8i2F0FAQYoxPCiJSN6rInijRKD4C-iEbBHQEjIise45ejQZJ+NwQMRogxiHSAumYxoFjGG2L9A4rhkh+AvC4kE8COQPHDQQZIcJATVCMOYfkxomCildBYfkohvZSmRNKMMQIzTzBQ3oIoO4jjjFpIyaAeYNF5AhPMBYug2TT7JPYZwg2TjeyuJkTkoZ3JPHeNUL44gbR-FdHuOM3Jwy0gXUVnM4ObjFlPBqeU0E4JVAAW6aAK5EITEvAGYsfs5zykfOcWoeZ2JT4DkaWkaJ8hYlyPgQk2gYRNjQNvgolJHCnlfJ2dYxZeThpeJ8c0DZODimlOGQASEaIc7EQVdlnywASz5jQHmqGpQil5Qz3mUs+Vk5FfyeIUrMECkF8T8lEvqT-FBLRnnjmWfk1pgKNjioIIzOqdBQTkFIG8VQLB9mVzYOiBRLJtG6M0CyC5QRMHar0fqwIRD1UYhZJEC6jAgwmoNeIDpNq7WmuIYwZgEIWCsgAKrEANMQagAB3Ow+9D66gALRhp4afDR5gpUyVlfKxV24LEhtQsQX5ORbFCIzUsbkFj762NTUfdNsjVBaqyDqrSFiL5XwUUWgkOay1Ws6VpOe2bnCRDqtEVQoFKBnP6SKsxMlqW9v7fSluoAO0bMiEPUdp9VBTq7T8IdpVs6LpnRO9d0RqKLAXZ2jdK6Nb4S3T8fuuoT2SEiJIfAhklhzpyC8G9HJl4yThT2o8fbT6PtvROx0CgNnvrAl+gdgzv3PsPdSal7b93dvvWfEDrywMkhCngJCDAb3PygHARAyB0B8B4EA3U8gXkbQ3Hoe0xBZiS2RlISYh9Gx7AMBcw1ch6M7tJOqIoFyiFEmlGRpjw1DUVr0ehBs7GrIYTFBKKUHGmxFAo1R7jwIKInn42Un8mDiO9RU4xfjCn1ONB44mV0pZrRqeY8QgZkgRypj08QyjBnShGckO9Rq5nBOWd6q5hjtR9NKYEsSFSIkCoaT7BZ7NSEbmBf0jBIyigTJqcZUyxoHlU7UG8n2Pzw1nNU2NmFjzWmZi5fht-I28Mlbs0y-ZxT2XgTJ1Du5jTnmZj1bTFln8zm0pRRdgWTjXgLOFZBouCrtm+tAV0DVjrwJ66l2LflprM2fKFcIBtJCw8JJVYm-oJLlKdq2XpSZQe63xgJbG9t6r-YlOKHdW14CPq-WBrsEKPQSgHSgAjc1lbCgd46UW6oYQLxB5wNSOitZUhnSUBYPVP617qr-ZIP2Hlr7i7SANhDqHv1PiRYB9fRgURZaxpiXE0HIQyStFhwLeHxBEdgsWhCq+Lora1s+6ttuacqfbedUyv9uh6QTfBLQGKXPktmDWwZDkxkOc7ZF+UoH0uZfDTW-z5gNY7jCH+fgmSIQIr0pKdOJnjmms6-HC52g-67iM+kAJ8pRCqktABVyuJtPrsoKp9631-qg3SvtvrA+73I2LZjaAYYVV7Z7YlAd9emg6D6fieZIuqhB7yIAHws4UInvH+mIzR4EQtQb3nbtbYgx7KQ4RL5vCWyR9P3mQSWDWqRs7+nDdpE01Xjj06ppnQhczMzjeLv6qIcthvHflrWat4oH6lA-qbYc9uHSg3ismxjxdsxJOpCZU0PrQ2RMbY05YWErFWz7eSqJ3ItfMgTSK2djFX2qqFzUiH+noWTtus34lk8LbALg+n55WYCxz+r9nJ2NbETVH8lgACRtXZTZttP8WFz9jdBl-twQX9Hh2M99ykZIICUR2Mv8Wkf9ac0gZIF8e8SthcFZIDTZd8P9Z8WEpUQ9CN+Rw9Cl2QTNikZNgd78gQLJVBJAU9gJlESBqwuh1EXh2Dc9dQ6B1p01qBL4oIf43xi1Ts5NZQNhz9F8+xVVRk6ZbFF8KClDGNRVCCaNdZN8DZ1DfYudMEKhpAuciF65ed7gpCxRZCdMIUkDhZAC2ZUxb95cRdJC8hnDFZXD6BVBhdyls11DyDr8VZd8Nc8DgUnd99jDgj5sPMAJgjRNsgNCTUiFrCv96C55BtWs7Mi94ELE05bF6s0sMs1Mv8LF5kGAFF-DpCXD5CYICQTI05DC6cnwsEWD-QAlGjFERZbJBDWDtkGjuiiC28F10tuEecNk6JKMBdVcbkTlYlfCFcRcxiBiuhl8witjSgttxD+RBsusvDe9lDxsHNi9cZDRPgEDd0ucwC9dhsQsNtEsLsTixBBsbNLjGNY8yj6cEM5EFEXi-jFZ6VjtZxPjYDAhqxMiZhdcITESqt6V9Mv8ZJ6U59GZBsUiSibj4EEShRJNdcMiSSGxMsWEXiMioT3jdM+8ttNjYDDhUNqp0NmA2AsNOBcNeB-4GCdYy93gfIHQX1jDMhshch8hRTQB9VME3sNVXhGBFhZTalXUbsHRY4sgcg8hiEnQf4FAhUoV5Ap8ugCEftGYIs4dxc4thYXg05ASPRWIAIJoPByckJgxhcbSrB4t7S5iMS5YA4pAydFjscxT4pS9Ep5Jkp8AHw3TQzqpE5GYxdYsfThZ-twztpgYnpYzQBDoz1+Q1t2d8BMyKZFYcyXgXoCyxAldliVcYoSzbjhjyzQZcyIYcTBF7ihtthxNHxzdSyJglFHiaYej+zqzsxhz31BkByq5ozGR0TgJhykz7ZhzTc9BUxx0myApx1vi7A4Yg4zRt1ldBdUxSinTqRewWS54ICn1pQzzOCs5ugrz58yADzPhnAfJbz4NSj1gHz7kwQIQvyAzhgLF3gJw9YDZjzVdbE8iBS7j8YvyJMGxl8DsZzqUKTsgULxxbZrzb1ESTIvzfhfzM56FuhCLxymAOR2MCKf01guY-zexyLeJ58HR-0+c6yTzbprINiQNl9nATQJxCTzyvRdAoh3gkLMLDBFSchohxKBk0F8lMEoMuzEKMKeL5Lzt+KLoljJspsZKxKlU1KzYAAeXSUSuSlQBS8pTTN1V3FkAAFSyD1DyEFFxyiCcBVksRR0oDNOAlAAAGpVSFdQwZ0vF05uKzZArgw-LAqDjzAQrogwqpz+E7VB9bKIQHKnL8B5AA03KPK9AGAxlvLfKWQAqgqZcEqogkqjLDAorWQyq4qzBKqkqNLdzdJhNNBETxM1LHTNFcTKMZAshLJ7zSgdJmiJL1LLK78SLPZrYaq4rNMBrtFLJGrzB9zqBDyh4oKYpji4qiE1L5EMQOx5qtjMEOwNLVr9qpCc4JrSZMl8JWrcDY04DVkJtDqFEwKTCt9tqihf8ggXcIQeq7tiBMhWhQAZMg8ghHdQUTV-9b1bEbzb1F4aCMDLxxqvz8L-sf1NimUMbI9CLuiWlJVhK9ylqhrkaqMOzgEBiurdcgaBleq2l+rZhBr94KbVUxrrqjLhVYlpqcIIzJQvZbrm8Csya2bGr1rNqdKVidqHMRapsDrFTjqIr5aPMiVzrLKebVaFbrquIVb7qiJHraDyqyhXrKN3rMRwLTDpb6zfqCD-r0qJr3dQaNlwaOR-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-XfLyOfMe6-JwG-Pc9yTOJJRyVYLT7Y-ROkqJyBqBU5jQWg2gnyOemzW-SfmO5+bUIPAyB5V-rMxubUqJ2cu+y+J5s4+zO+k+cfTgnwJm+108R-KKSRUuQaZDFjQJJBX4NkchGAy8HSBoE0BLYN+9tc-AvGp721Ag5RGDFEEqLwDGW16JGq-yYqo0BaduPdNOmiA-MZun-cnD-z-4tAAB9fN-kMj2p05QB2ApdOJhPSc94i3Kc-BXyT5-U-y1KEAU23YjQ8XgnAm6tD1Trf4c+MAkivn1oLp0SKfApePfyezhBcgLAe7rzjkLP1tkdAJxG0BUH0g6ApiS-hbCI6YRDoL3DQe-WuDaCxEmPJXtLEOhe8v4c7OQcSEUGLFjBgoVQfYIUFcRrB+rLYs4NMEvQJ0kQKYDqRhw+DkQ6g4FCYK0E6Cn2V9e4IYLLYhDQg-AcwVh0sHZw1BLrWwXwQCGKAghnwEIaoASFmCMhw0MRHwVDDyDiUBgjXKHgWjlCHB+AQ8FCGabUsBQM5BobBH-SRRLAxIG0BUKxYtD+EFFdoeQE6F1C4OYwu7tYV6HEh6O1hTHtkJZa5Bgh4Qlwd0BNTHU3BTzUoeE2GGjC3B0w9wdPG6EqpZ4LFNipeglDnRbgG5YtsBmEhARCKZiOATgIQEKIL0V6RCnBiQxDJMSxhLAfQLY7KtAMnbeDPcO+E-MiE8qb6JIBAaKoaBbLXXPQJeBgjyBbVKERPhhGwQ4R8qZEbBHBFNkvyy7fAKuC6ClUXuLIYkaqFJFD9rojUHEaAHuGGAXuhIswPMKkALx5UTIstsqwuGAtrh1oekSiMIpsiQQoXTkXh3hA98IQjIxXh0IxGwilUvYTkTYJ-C9hGRKoqlHKNsCYiFUSqZXrBGKGHEOw6orwQnR-SZcKRJIloPvxqESEZ0PrNCGMNQZoVQuaDbYanmsJtVFUP8A0NZnTS78TwAY8YC8Dx70i8ejwoEr0QVEgwxkVuWxOiO1EKjtu83UUUBCDG0A9WvXT5OGJ-S-DWI0Yy3LWgtSUicg1ol7nMKw6bUHR6aJ0QWP1xW42qhAbSp2kdA0oDR3fKQNl31F9xC+C0e+F0PkHTInE4CKIbAOBJDF74Q4npIKCrLRDMUmyXBPcEMBWEvYG7AUDIIdRtBCeBicUG2PTAbALE4CWxN2KmLGEF44CZcbR1KpEJwE24H1qAHsoAAJG5pIAACC4AcADcwABK9lSAAAHkXmyABRLBWvJWBFUx-a1B0T3HfR8RugoEE2M+AtiHQ0EifPR37FIS1eJ-KCQmOpyY9+xKgT6FhJOwUV8JlQCCfPzcIzknxL498Z+J-H-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-rK4V0nPBRXILAaRAUPJ0GBpkgD9INB-XcOvggpQQJAn6ynABozX-r4NgG5AkEUw0gacNl88tgBqg3TgiNdALDXa1A0zkkNx7RmAkCiAZR6QzS0jU+wg04U54H66gO1Jg12sjlEwjNW+rXK0bVMtACTVZVd5gr5BmPPje1Og1Sb8Qp2YgNJrCV3L5u7hEWIJt6zqbVNws3rnJpmEhR+VvoDZFuy00HdoqimktSS1lS1N+N+k4jbBuE2bDRN6GxzXDm82wbZhXseYTFNyHKCIh-i8pNZq4UQFfNFAAoa5rtagro6mw85ByhQaMNHNzmvXCLGi2UFstd1clArhM0nDcQ5mwbqyAi0bMGRmG5zdyDngsaNocuDpSJrI25KVJCeZ1B7OTz5bPErXcraoDq2Gkvl6vMefFXtHCKax+wgmswhS32ohFi-cbfEuFGizciXsZLWkEK2xhzNw3KzRwvuWiF5ArGhQDVpYo-xL4SweaRnRmKv8-WAbXqMGzar28geIPZEup3c3grzwMkFrX0ra35IOt+qR0CdvTxWoEWz-JYKtQS53VyBlCntI+kwZeC6+swTMVmLMAsh7sY-IyQOlikfY625KUWYEBZAPb-e9KNJT80wSza5Vg44UWqWsJit1txWy+GWgJ2O92M22hYBlH2XRVGdT2kVJGwsT6hCeb9VygogACcAwHSALuOVLizEYuiQCXHfrHLL0UwSEKIVVQJ8haYQYlYCnj6rI7AipVyXzUq1ypn6qgPLnl1ZBoBzdvK32sbJNQC6CI0sHseUnF1KTWMgNHpeVHOx2BI0+ZcQUTUCBO6elLu6ds5X50y7n66S6QC-Lfm7pkwta17fILaGJbjhdO0xs-PfpR6RytynbfN2iqp7X5Xwd+UdsZiB8vlkQGtM8kUCZAzQOzU5b0Uui2JhegoAnkTxu5Ac1kgHS+G+z6BpK4ZqyP6IwEr3rMDGFqM0DJSDCqpbdLICNJGkD6gBuuDqGtGYCn3lgo5Bu2XT5DS7NLLoW4IQcbKlSg4mVi-ZftZlX7bIt9qqHNRVJTWFqy1xa6oo1wYHBBe9FejaoPpo4sgR9c0NgeYAn1T6Psek6+Cftvi-6I0y+xVUYDoJxrGgP+4A7Pvm6bBYxkzYAyAcEH+74lwynpf0s+S-aFcG+7TaaKB1P8Nol0b4RKoR0EBGGVGYob1uIMChRtc2iXZ6LiLPUbZNZQjX6LoABo3Apey+F1Nr316UxIvV7M3pJ6t7uDV8KKl3s56B0SQQxagyGDoPk6ehjB2hVfKFpfkZN9qNkNQGcq6jX29wpQHqjxS24au2lZpQQb0Ag7tuGvZOtOHOzQ7yDfBSgxuKVm85VZ7PTQMKiynZLRcjMU6edLmkq6TVmUxeBrp-Cg4A50s4DEsi-0R0Ly78mlYwMSJMpyidMtlgzMz5yymUjy-4XgMUoEBLK8gLwXUnen+H4R26REQ-olR4owDJqR5RXy5GUpMEfhh6dX0Rx+AlS8ge6RdP4H3y1SxIkFDSroJPtmj3R6QbxGL3NK8uAY1QEjoAA6WAABRay+BL98AKCODtTvQY+NEclKU3cBD72V62+WACY9pqmNYSZjWY+Y4sdGWLFD9qx2zm2OuSEBnk52bhNSieOgAAAXni1ADzGggSx242sfsPcIvj2x5LLsZAjP6LoWkClCMDYN5AODbgKY9cfpAAn7jvDF4C6QMOxwt2pALdtaP7B5duQeAY4wd2N3-GVjgJ9E31y3bOAcTeJtJeCfLBAA')">function depends_on(exp, variable, frame) {
    function tree_walk(e) {
        if (is_var(e)) {
            if (equal(variable, e)) {
                return true;
            } else {
                const b = binding_in_frame(e, frame);
                return is_undefined(b)
                       ? false
                       : tree_walk(binding_value(b));
            }
	} else {
            return is_pair(e) 
                ? tree_walk(head(e)) || tree_walk(tail(e))
                : false;
        }
    }
    return tree_walk(exp);
}
</pre></div></div></td></tr></table>
      
      
    </p></div>

  

  
      <div class='permalink'>
        <a name='sec4.4.4.5' class='permalink'></a><h1>
    4.4.4.5&nbsp;&nbsp;&nbsp;Maintaining the Data Base</h1></div>
    
    
    
    <div class='permalink'>
<a name='p37' class='permalink'></a><p>
      
      One important problem in designing logic programming languages is that
      of arranging things so that as few irrelevant data-base entries as
      possible will be examined in checking a given pattern.  In our
      system, in addition to storing all assertions in one big stream,
      we store all assertions whose
      
	<span style="color:green"><kbd>car</kbd>s</span>
	<span style="color:blue"><kbd>head</kbd>s</span>
      
      are
      
	<span style="color:green">constant symbols</span>
	<span style="color:blue">strings</span>
      
      in separate streams, in a table indexed by the
      
	<span style="color:green">symbol.</span>
	<span style="color:blue">string.</span>
      
      To fetch an assertion that may match a pattern, we first check
      to see if the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      If so, we return (to be tested using
      the matcher) all the stored assertions that have the same
      
	<span style="color:green"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      If the pattern's
      <span style="color:green"><kbd>car</kbd></span>
      <span style="color:blue"><kbd>head</kbd></span>
      
      is not a
      
	<span style="color:green">constant symbol,</span>
	<span style="color:blue">string,</span>
      
      we return all the stored assertions.  Cleverer
      methods could also take advantage of information in the frame, or try also
      to optimize the case where the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is not a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      We avoid building our criteria
      for indexing (using the
      
	<span style="color:green"><kbd>car</kbd>,</span>
	<span style="color:blue"><kbd>head</kbd>,</span>
      
      handling only the case of
      
	<span style="color:green">constant symbols)</span>
	<span style="color:blue">strings)</span>
      
      into the program; instead
      we call on predicates and selectors that embody our criteria.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-ASSERTIONS the-empty-stream)

(define (fetch-assertions pattern frame)
  (if (use-index? pattern)
      (get-indexed-assertions pattern)
      (get-all-assertions)))

(define (get-all-assertions) THE-ASSERTIONS)

(define (get-indexed-assertions pattern)
  (get-stream (index-key-of pattern) 'assertion-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCyyiYRA4K0Ia2yEs1JjEKMesnkikWJtWbB1mwsu08jBtXykIvRIJl-Cqcr5-KVKvFkoRWrpvr6DsGRqWpvNIM+8dmC2Nyxdtszkh2gOBb0mcdmVl6lakDPKSlFDhJfJ5oDDfgAbkd8FqfZt-UEo5qgyG-pyW8XVVjPDjvNr85I9QaVDnU4ZBzHrT144xSPCVWqNTGfPOC-5ldJVcT5Yqz+QL23QJ3PN2TMfT5mJwfp1a548PQwvTxLdfX7Pp3jYYdfmvcNQAnddcV-eNF24Q0VxdcZSw6Td8wASEeHc9zGeDvGPPD302AQ7yMKiHyfF833Igs4MtDc5zIyR-0A3tTwIicQQ7LstTdX1qwrFFRNAWs8jYZQBFIRJuFiIVNntAZQHifFNNAUlmVZXhSRPTYFl0tlDNmHYNK00lWEYaRSAMxiFhsxszM2HYHBiC9Yj8UkAFVCDqQhKAAdxoOwHCcCoAFootgmNaWE0AJNUx0ZLoOTEnMKwsFA8LHDrGc8UJGE4U1JFzFA8IgkJPLIpcMqdMoFk2QSnK0SCAJqtsex8ucQqyWcuzWrwSE6zCORVHUfRYnlFsTkFbjUVFAcZSq2beSaQVEpSpM0LNNcRAWYZRlAHY6Cy6wwCktFJJieIoDgRBkHQLk0H5CEyjyQ1PHIVJHDGNpYl4agGEIYRFp20BDWGWJ3AcbhAeBs0wZEUAAB80dcw01A0QhtERkGUckDGsZUdwmu8EIEbiJHQfBkmkKGEYAZpwnwakBnfVQlN0IJ5HhAu66mV+iLpzohhqaBtnul6FFIb5umLpGz6KkNNxNHCNgmB+tRslIWJSABPR4U0ZTJEhw1KIvNQDZEAAyO2ziuPXbYJLTSGN9WlaFqGhn4WIJYVongITNS1f4DW1m1q8g8N7TCH9hhWqsH26EaWHKGnShcCYBOA8l2ng7l-pHRebgJ1judsp9krmGDOhyE0QgA7BvXcc0PwuF4WQqmcM3Q8dHWSVJevG+bunST8HGtE7zhu4YXvqDBFPRq+lRR6bluSUriGS6TdXNej3XY58jfx7B5PlcZH4x631R0-Jlmpf5-vIbLid3+VJ-C+EExl6vsaZ877iyYF3HuDdqAF2lrvRMTsLgTgrqzF+VcPrX0NBwYgnh+C9UgTbcGIcLYqAPlHIeLs46kn7CEXcGCsE4MILSdGmNGYm0PqQvBPlOwaBjEwGh2C6oMJJivFWNBeF0PvhnIi+t8EPDfs7D+civ5kL-v-H2oi6pMBAWAheEDCBKO4rI+Bii4JSL-t7VeqsVBYNhmwfgoC57gOcHo4ChCWEkKvOw7SVj3A2LsfPRe9CVHmKZP7bxtiBCOADn9OgTiZF73UskbID9M5MGzrnROfhP6RhMSgn2XifHkzYI0GJUgDGGAQYovBpjwQALXkwHak1BAMC3sU82cTw6Ry1mwqRPl6lqEaVvS+Pt6laP8S0geNBMmSNtv-GpFimAihknWI4Yzxm+1cZ09x3TtILN+s4bEIydECKYVzIhEdWGbINj5HZSzpx9NSAMwJwilqLL2dOeeMl1SpDGZDIedTlhkL8FyR519rmvPmWifY3ZW6VP0XE35shcAAtAFtcEPtQXUGxEcP6CcKDtgljC5xcLiR-MRR49IMyfbY0haDYg+KTGwtge085usPGkkYAcGlSdgVjVrqoalJA6UGy6AytSpC2X8tpZPUAeCuiCyCdKiVzA7lNLptEglUhYmwMmUo7leQVjSDUA0+5dMyHCsJVq52MrdUVB7ruZVW81VSLNZqtSxihXWqTE0lICp2VQtpaas2LjjpTNILK1F8rvrBjtW4Y10KnWBraUzUY5cKnxopRGsmao6grJccQjZLKtmki8DUOogz5XFuIHUJgBSikEuLhawxWTplmKeYaZIvAfqfMcXWkpib1lHxJKy9tnb+EeskkE3xDjcH0vNWpbVlSx3YM0JO7RzhHWu1naXBRKo3W-3Ta2lQnDuBd1fn2vNA7j1zx8nMS+sz6wcE4EwPk2cjDSN6KBE4Moy5yXLKsw0R6TiHW0je06rYmhKyiEEugt04gQBgPAJAqA0CvS5KgsaDA6KNKgfzTuhB2wJsZZYkW-1sN0wzEZIkf1sTi1IyjMyOxoaJ1o8IMyxkmp6XEY-DRglEkSJSTnPOgckFkdw-h+jay1F1mY+RrMuwnw8LeLQuqzHRMyZmAx9evdN4msrqxuTmKtPn23sJsGqnxOGnRQnb+0s9MYexJZ5ZJ9dh4bU98SN1jbEHMcbp30CxeVC1VCEnx4TE5ROkwxRimw8m2JreF5zYnfQab5RygV0nbPyd9Zy7IiqjUqrBtEyuZnEtrIrdmnzXwFh2enKVlT8XXNSCS70mNeXjPPzI+l7ETX+k6ZM3HUGCWvhJeHeQLtkDyuPAWMOopVXDhfKFiu0ZhW6sRffL81J4tolLoWzogrvWhCqfq4WXY0hPK1b8gFIKoVpWNDBvwTgoAYr6efI029PspvcFKH4JdzqpDIUthoWIuy8VMAC6UbCsxIZTaYN3cggPcXMFB0QL70hNBhqkJxb0f2VAE2NCDoJH2iDg5mKBHuIwuozaw-N2LYOVuRceFwVI7BQF4bvNQZprk6f0gnSFyJDhok0455zyQ33adC8ePN-rrOjME8IFUiHfb6k0dJ54FjBYFiK8EuCsGJrleq8zDsPaaxhIY6AvmDy7QZc+X8oFEKNAfakEaPYB7sUputXR9U3JxL1uCWiV3OgqnFqrJhOyJdBIAB8T3ZsSyXap2evAw3V3lVVrXLyMXWZw3VmBYciHSECDoabmGvkObebID5WGlv9fuPGSrhehPsF2WnrXmXW4V5c65dytfqb15uUwLFDgcXkDxXFyvLbr7J+b-6mVAeQ5Y9AUDB3yW-WCtDUT+XsDDeunEp6TH+oUKWKjbl5pVr+52jiRTubd5DX2pNVanwI+t8AW9CHd97VJKX+jQbbjz4iqgA5+fiW+qV+zWR+8ad+LmiUvQs+Gu3+H27+k0n+4sq+XwkMgBH+u44sEB6O2+pumYkM4+iq3AguvaQB3W+WAaYB+GmBHE4kHu8qa2OcRAZ85ogmP2vasCwe3ATA4e2k5IjBhmawNIfgLB+618dA6oLglAgQCmmCfCdYu2bWRckBu+VKKW-qlcJ+for+MqMoE+SqwBqq0mVBf6KgXqC+uhAaRBoAR0zMlhOw7aoMa44hKSUhkma6sBBq0apBg6aaoukWYhIQzh1CimshbhlhBYvK5htqh+Bhx+iEHE2BgebB2e0hSmUm42FWRIusrh1AnGmc0mh2DWoAwaiUVgieTyyeNWTmlei0oENaMopW1alAhShhKIoEX40GhI-hEhLhwRdC0SNav6oEfBDcTcawHRmRu4qSwxY85o7Rv6eBneNas8jOWskuMQ0u7RvhYu5E0xoxnQfgYR2xswleIh6G8mXWsarWP80+9aakvK0B3YhB74-+GEiY223me2B2o+ZxBmIx0uVRLmNRr+4sMoLxQCdMX+3Y7xY2nxdWiUZ8uRYsPG4JYMiJcW4sqm20cSGBtB5R8m2RuiAJ+Gi0CJacfGNGBJaJhWJ4LxlJmi9iq6MJChwgseNJ4B1SkGwi0G0QsGD0CGz0yGBQaGtS6geeRSnAp6hGjRmc+guiEpv+1eoA92mkhIopeI7ex2p2nAPk5MMpIQuwc8bwqQbALQbwDAg+awWwr28q-m+OPOcgfOfgSxmeBCRKusFCrMuOQsk8YR9pUSTpTRpw9+QiaC2OnpTOoOkpyR56pCuAVy4ZWs3pY682fpfOH2UZg8xKCKH2gKyZE61OGZwshq2ZcZyKeZwizO7YUuzSuAhZExJKOZGQpxeQ9xe8kJdejOb6SRmZ7pDxScfgIonZY6hofZ3AiBWejoTKbiusGJ2kfZZaTyfZWunZY5gkdZ2qiBzZFQNKmIDceMlZ1ZJq1RrpsCE4wZd6b+HhIOESEsx5txW6Fw55PsO5lAjA1aRS0Q6SLpssvQkMVsH2N5mJ4IoEHszAphCoaxbOdMMoxRwp0IsICON5vGj8-uj4PudZ-5ZJKFAk3+CeF5n5AciJ-ON5MsGqv5cSZcBFQk4aTyVF7ZxFicpFkg95NAE4VFW5NADODhB56xR+SSXoOFqF7gwYYFgJJ5oqoMmgHsyFmcwqKpGIkl0lT4XQrkCw-5-mSFWFslgl+2oAwlb5leGp3geM0lWlXoIgAAPApSZToKueZYLpVidhbqSAACpNTxKECNDBAo74AOrSpsgdrkCWnaSgAADUCpnO08eMeota-Fwq4VUqpIYVEVdOUVmgMVdldwgu7kTlF4rl7luADAwU3lmgvlqq-lvAgVwVSV4VhxvQaVGVZl8V2kPkyVdVUgDVuARSylKCF5JkvAiJ7ZMlngNxXO5ReG2sTU7Id54u8qXRw1qFPViRa+yRwaC1BRGR-Wk1dgTxYuL5e5y6kF0uJx7VZ0-FbshIZcTVG1vmcChgPV7VR281cEcVulE4PVv6VYJ4yE-WF1sExs4FPFUFih8Y5u1s-FVuhA5MxoRRicbu7oCRz+fYr+VFMoqB15TG9+uBcS81dFTVAFjFWx5EdFG2BNAccRMwEkyUZ+E1zI017JZR18pJ-FQ1ZlOFo1NYSetNU1x6YlJ4qc4hC1Oly1MwQazM61YRlW3NO1j1+1WgQNx1LmN13wZlf1V1r1dVCwBEZcylOFyt6m0qgtL1EiXQEYYwH1RhHo31u+v18loFc+3qCtW8GhxxuVw1kN0NoQgmzuN82mF8n1WBj+OB8YoEqNhI6NVFvNlBHOkMuNN5RFZNWoRN74JNPuidFNX1md3ZnF0t9N0d2UnJjI3Jd0cGj0iGL0GAcFSYMOcOFpeOwiMuBG0ZZy05JIn22kNdQOXKcqTynd8OLAQM3gW8ymYOIqD5ZSiiYOMyoEfdddQs4xpC84YqLwUqUgLwBY+2S9V4pIxYq9kgxYG9vhYqVse9t40gh9W97pQ8p9Q8F9UW290MzMUqj9J0Xwm9997paUHa-AjQUqX9WCXlb9R929YNe9YNmY79swYqMIHsve7gdAk8MDOgcD0GjwkDMwYqoVp9Ug3A2poAjQIg+IEe924VgD6DvQYqUU2DkguDfgBD3B92sUZDwD7pghmwtD+DhDxDoA5I+Dkg5DUgYqwA1DWQeD9DRDSpoAYAzDl9w8AApCIxw+I9w3I3w6AAI5IGKiqdg0o1w5I-JQQyw8PAAISaQ6NiN6P3amOEiGOyNkgWWKMWMMOgBWWSC2Mf3DwWX4jUO6PONeNuMaMTFkhh6ON0OWOgAR4BNGPBPeN+AzC+MSP3Zh6EicPROkjGMiOSO9ASOSDGNSASnzhggz0A5d312MhEUEgngcEvB+Cz3A7z1FOv51MI4TqUDuAABWRpHRVTCSpQ3Bx9JT8OUq2qU9gTMwzTZTchYIbUy0-ggzddlC+WMopCYqG+UqG+YzRxQTpIkAhApov0v9cTuz+zDumzRx0DggyDsAkAe9SDTA1zZz2xFzsDAAoqfXcy8482LmKgAHL8A-MiN-M-P62RaNOzMTOLN2pxWVOPAcH6gSOUW6UQvtRUJhrFOw6lOQv0UwubBwvcEjOvhzMYv92QthoXlQ4TOI6EDI6aBDx1lQ6sDJgcDSCeCNDy3tP8CdhiEaApC7WngTOw4dotYj2E7J2zBLp0umAzC4miH9ADVHXNJ1lcVM4KsmqWH2HsB8DzP1MTpNUHFi7IvLRUJEVfNSAauGCUutMdNdP6tC6Gt9Kokbamv70A3z4QUs68VkZKzeBBD220ttP7IevA1dQ7hshO0mrTOF1yEwb3TwZPRIaYBV1LTqD8BkBMAcpqB9QwjSDZqcLkAbgTlJgwxwwXgbnYL5sIRV4UbarvXlusQiAJVMA1XSrqBaAZVltcKVv1Y7AdsVuzhjqAwwh8ohbGltxaCsGtKwKpvEC+UjBYbZBfbEDEB6PQbhXcDTt-WkhJULBbugaJXJXTvOuPBbtTytt4x4U+xEDhKMBjt4w0uoVbZXvYKMDdA4QsUtvtzJWkhkjJWDu2KMAjvmgcGPuEDXu+AlV3BftCCkg93XxPsGrMB-QzRLp1kv1jAocng7vBoORuRrKkIoegAOxmR765zi0TgociAYx3UpoqgUegDWPAa0iYdZBlwEfyWkg3qqXJuOBpsZsFTZvZoYfxg7AkfDaja6IEdEcFiMb5wS4MmjIUcbU7s-vhXwdvlIeXAXDfbrso5-xtUFhJXNtmX8ZpKycTpeaQJ0e1UGchWqegfPuIcOAzTaraeKcNuC60g4eDaLBgdkjX00t+BqeOfSBKTdtrL-lCcUZBdkgn1+CkKse6dm06emy6VBeuBOdhfYxnvaCReyakgADkzboeCVhXJ4Z02XGVKHsHY0aXHK0gRSdX9D4lk5SaYwAcsM8MZcjXR78YYqIQbAiV7QiVQU9kp8VQjYiVue3gtIVbsm0XXX3Y9Xb1ii3XgX9nCH6XIXYX83zsq3cUKoe3tXi3BD3xeQHLXLxAPL6Bmu3cNQ2il6vAqH68lVI6UmJ6zHfXL3I2-CfgcnfiOiD3R7HB53wYl35AKQ7Z0OMQtKVQ97gPs3BtMnt5c89Wxk29N6U8LNqSgm8PZXBpvAp3FQjX98t2j6t3MPvuKPi0s+YnymJ6Ghodur51hIJ4xn2PTGf3U6ui9PmBxTd343Ws32MoHBxPacpPUP-PD7KOlPj3AdKBTPEim7J9zH-5360P2iUc32ul2q5PGvgv0vf8eP82qt7H19Kv6vAvve0vRvCvj8m7IP3L4P133+XnMwal54Mu5TbNlhwPnLoPV3kPuvsPEH8PYX-5xvENczkvmvBvJRCRs+OP9PiRPy6PUqbPAmmNKPv6JuyfZ+c8JRMrY0Du9ggPhb4XHv73E21HlfuHYND3kNNuV2FnrFju3dNFIK1AnZMvT30OFfKPzHZ5-fjwOVp2XcDfl2nF8nOiybqq1pTy9cjYfUpAlA1adcbAHAhgJ6ZfxfyPj3m7C-Q01XeQBggv43dkfUsWW-zXEyzsg5BhPPhfLZCF1arAMkeMq5nbJEaF3+GFHvebR43-F8EfwqDuBX+8tf-riG4CgD68eMdcs7GgFv9TYwAmgAgPAE8ZUBsA7foogwFID2+Y0HASwBcCR0IBX-dimX3rhygSB4HdisgINIrEP+fbcDrOTIHX8z6ikZ-jgIYEADECv3EioT3rAOsKAWGMfrdC-JEBPaWsThEwCSDsBvA0gfuGijsDTYqeSNBcMoUPTYJ4eItF-LMxwH1EwB+5RlpHREE0CY6faDfFAIMGmx2q2YKGpISZxSCZBbAOQfX1EHk1TqqIXgEUgIE0YcBGdQOlxFnz-kk+qg0WnEn-JtAvBmnTflnwHJKCaOYwengHXiJB1tB2dfHpbRoLkVYEkQ5QY934EftpoveSqtxQ4AANzQdAFsGUJ-pRw6AC0VgWh2yBApmO1QxoLUP5BIg8eqvS1ECjFa9AkQ3BHGEUPNYKZyha4KaP7EIhNCeuWzSQK0PaE5II02uFlvoGBzzC1wVQgCDUK1h1Ce+a1Soaj1ADrDVAHQsPh7yuq9DLCAwiRqwD+iUw1hWwtoYYGOF1CkQfQgsNcIjxDDJhcEIFL1VTgTDYgIOLBPrF6ZI5pUdZXACCMZyTRZA-sNuEULhbgi7gtAqEYIBhHfCZomIvYeLWxHMdg0ePW4Q4HuHMB1hfLL4FdUBFfNPhkkaEaDFhHTQERPw1NHCNC4cU6B3FPUE3mJAmoqBfgGxHHBYGtFX8egwkAQKMFIU+Rbg6itkOSIWC-BXHZVvdTra4h+RggXgYxQ1JyRsUTAGBgpB8HoCrBulAURqPJoFDtR-eXUYIAUhyQ1RgokimXzDpWRcAX8NYElWY6kgXRQIN0Xj0hTLJbRRw4wClTd7SiyKuHf9JoJ-TBingHIpnFyP9A8jW4AYk0dKMy4qB-yUYh2OXyogCjDhFoxQFaPki2UJwP6d4fGAnC5iyxvofMS4D1G2Vv0xgKsdsTLiVjHqkWdimF09GuiBuBQg6j6xyKYjcGv-KiHgxpHBp2RiQN4FWgCIH8pMs45wH4GJ4BjieQonQeiDrF-JxQKuGUDWMLEKQlx6on4Iv2oC2tZh8YFcXwPfYbjdcm7L0d4AG74ibCw-aVFoH7EuBBx14heGTnZGmhT+tkOQq+mxSmiewrAzEcCMEAcEiCAo3yuHkOKTjK0veFwPOMgTQTvIZ4UgEBNTFljCqRY3vGfwAk1jgJvVH1jIBGDMA2gRAP6DKAAAM5gC8maGCh1IyJxQwKuJxYCGBX4zEiicsJlBTdyJ9gqieFS5BYlYEfE8FJRIcC0DeUDE7jJ-wlhSixJtPAqOQDYDDi8qGPNgYpK+5sSVJSXKgVUkZpjRZAgmWSYwJUCsBxgZE-uCTmYlKS+oKkmCkVSYneAWJr3eyRxMSj25ZAzAYKEcGzRX8TwLiI9Fvw5x+Zn+Mkqga4K0msT1EKkm6klmCFD9FS-5KaD5L8nRD4eTYqQKlKYC+TPA2aQfrL3ikZCsh6QnKXlOzR8T2RHAewOwBUCQIRBUo1cZzSeTlT0pIE62kuFknHokCuoG2gcGWRSjYwaQlao6DVJGEqwiNMIrUX0EwDl0EozGkRImkqRzBPMfaFAJBZV8XRgENsUdjan5TLBc0oau4H8FiQcIOfUIbKJa698qIPYSWrBG8m5T0pZcYaVR32kFTFEsYMIjsG2mMBMhWdSdq6kekVTAeBQpUSwBzjAxe4kAqUU+CIlAldBVg2aYgMIEY184TUy8UoSyB6CGOGzEWpDCIAxU9xtlA0TAT8GnitmcM1MVKwfyBD1B3Up8JuDFw2ByQrMk8LUSRliirBqM4gUcCWmBS4kOMrSBvlCmLAiZdYrgaqN2m9BSZjxcmVgBwiKzJA7FDnO5E4D0DYZfM6mbTJ3xZAapDheqboipkYzGKMsFmWzNPywIux3onsTrODqjTJ+GslUV-ypmmCvqhkvIITK6rEy+ALYXgDBGamAzHQTowkNbPvGu8YxYcn0c+L9FjBeAfswUMxyoqEiNBF4eOSIGY7gyuRUMhuJAPjm1MA5JFFOd1P9kZyq+WcyGa+VzmIh-ZtTFsGQKkZgBWZ5IYuRmKBSEdHYlsD3qXOY5eyFQEsksZcLFwljBQWUmYH3J9nfoh5Z42YN+lHnSz4wHYvHlHNtkey5kfEvWF4R74xlNkXhHpGRIXId8SAz4AHlVLL7aoqpY6MSbFjPkNDWuCQh+ZfMOF9dPAvkxoDnm7BMdnxNbRRE-IKFQ5bEG8viYuOO698MJ-eEBQ4AVCBylo6ITBLKWck-5jJicUyTGHMm6IqpiUIYoQCJk3iWeBYCeRLIPHgLFAY85GsfPoDeZKYLgKqWQtmAXjGKIktSBPLwXOjuxEcqQNYVGC+ja86bY7pZJcmxZ4FARWhWET7FyABxgI7gCwq-Eq5iJcgUAC5QAASLzJgAACVfIAAGRebIBCQsFfCnIESCILokhE1MWX3oDMBX+XAQCf3kOFVRCBD6KOHxJMXojbFePexUcGnDOLyoeAvIB4tGDGKBhrA5Raoo0XaLwAtA+xVYs4BOKyJLikhbLjL5gTzW5I30PYsHHRKn0nIF9DWJmHHs+JUUTEbSDLHpKpFHHSbmRMKWAiZu-8l7gqG8WmKYFsdQEeBNBHsgiCfE7gocQAWIKBF4HRpSRWwmGLkGDS1xaQtTHsiG4g9ZgI124DELMJeNKkUkpaVoi2lqSmsDeS6WZhklJQpnGSLCK-i8J-4twvMogVYSwiNIqHN4tOXjKOxWxRZayPZH-4+FUCuZcd2AkMj-Y1k1-HsD6aEg1oO-N5VAt0qkhnljXeGkHN2hrTzQvywnFxymVCsXl9XIFfVw+V4jhOoAWFYSU74GE9uDy6aOyMNDRKYwr6HvmlQyk-pKOaMNZEegbG-xexy-WQEcuPEuBGW0S9dvhL7jU96ZxKyAchNlwu1YFQQT9ISEyXPpEU-K5IUKoSAKBjJu4flZ8o0iPVSlrI+UGN2OXUAqlrIiFeM0CBqrtI-KrVdNB9KZgIunKk8VkD0YzsTsEJBVdiOz5TT3ZF5NQO0GYBiS2VSwHgLfOFHgsxlNAQkCKEwSULIEmClELPl5U1y-VvUzQrMxFVQxPVWShUDkqjVGFQI1quVYgsVU4tIsKqxkf8DnKVKilUqzqPqtJAFKilfQ-8sAstXcF01EJMSfarj6pCQ4pRJNif0zXtBmV5-SzuasSV3zelkq6MZwuCDr8B1vasLu2v5UcqNVsuWgZOt7XTqWV-cF1UyoVUeqH0i67tbOp9XohM4f4lleMRCVMAAAguAHAAvM1FLlSAAAHkfmESlEEetPXnrL1N6u9TuI978q-ANIvdV2qmZMLHQpIFkDB18UVB21QCqyYtBXVurmJ666xaGrXFBAf1zimUEerCU6LEoqGrRTovfVURq136zwFrGcXzE4kgG0tAUMNCA0RQ7TfHH7hxHJpaNqIuAlRtGgPcJ2qyF6XPAvbyooizGsoDLzY2QxCpXGg9A7QXxpRqNDdWjWX0aEMaQNduOAuJpY1SbWBHG+PFfIXjUJlAEmsgPxrrJCax0ZoTQI0i1izLlN77VTXhQvJUbKAFk3jTprRVLL+1lG6gNprSIubRoKlLafHUxF49rNFknje5r41d5XNptOqmCv4Xo07NxmQgCFs3rsQxc+Kr5TMhLUjx2AiVcLVAqlR+bt1F5cTTZt0SKa+NDmx5dJpMJuseEWm-HIVp02HCCRz4okSsM5akjHh5oIghluRXo1qtJILrabWlGKq4tswGkXlv80aaKtdAELdwB60Da6ciW0LhdBS1DcfI7Ww5kcK035bpmPsQzVhhFx9bsRyy1ka0sgmngw6YeBWV8Bk28LZlW240kiqKRa86F24V8RIvfFSKOxxQeLSGPEXL8XtqqlWUrJ2DBpSIswWbf-BS0jd0tl247lKmu3UULyXAN4IEF35KtO8Igv1piGErThVWKMAoQ7zB4Q8aMO2kHb2GaUHbVlR230Cdtcjw6Z2XyGyG4DBj5svkbYhLqjl0pUUHtY5X7lw2ll192wFMrZudkb40A5IaFc+o9hqoKylZvQUkLjoD7iwZuSnF8XjDfGKr06GpQHa5BB3za9VMuv3o73x2CQIdXYRpLdqlSy6ne7ZaZqBBhCPp-6P9GUAAE5zAqiWSAA1V1saXd6UN3WBOIx6whCgqhPriN-gi0c+yEf1VpGomCregduopPl3y4+Q0AienVZNObUc4Y9GUtQKdJmAx7FVLAP6EyKBHGJdKNAWKECn+nu5o9run+rnt92oUbdY27+id0f6gbX5P9D+RLDHiuritBKx0d5sBHa7h4RwN+e3qN3PZUgpur7K3vfmuBc8sOn2EHxUCzLWAnUDsA4HJgNxTmCM9EHsBlCi8bsbgMnhbxcUIcUIoHQIF+1MA1Kw1u+PFNIHX0HN6OVkBuMZXsiCr09pIGKLFAX2Yrju8azqJIE-0JQh1cwqvUUiO6vK9g2oJKIjQkjIQFVy-Vfr3nX4wro1wuUdWJM7VTr51M6xos0UgNSrkIt++-Q7kf2hzn9E8KPVIHf2f7Hs-KkdRv2dw0GgDF0qmo6s2DUGaDsURrn0C3GhpGDTBqVTnsHEc4wJ5O47ZsqIaPVwDyKheXTqoSM6JYewYCV+r52SQ9G+GHrstrmVTwnt321XeOLlzu4158mq8iEDoDBR4Yy+wIN8tmY77CQe+8XgvqMAn6rDQQBKpfopqh0by4xLQ0oaV20tnt+h5mBTTFrJoqKnmijKSCCjxIixWgQMW4AMg4QDc63N8kvqNYM6sMfhyit4d0qc61D3BDQ96wUWPqz1F6q9bet0VFFmYdEn2DhKMX8r4lCyh0awIsUOLrFuS5jlEs9Wa9e1jRtxc+P8XTgGjkSiaJ4t-VuE6yJR59eUbvUjHdw0SnozOr6OKA6yua+EWKuyWIpcl6qllUav9i3oF9t27gPl1nHcAzxAAHSwAbyRhCB3AO0BmiA78GYTa0O+Hj3aQiDr5NvocdmUnH8JZx2YZceuO7KtYtx+49RAvD4AOwulU4P+UhOgAAAXoS1ACXGZgNxlfncZC55HTgiJl44xDeOkgPjjAVqGRDwBwEzDFhi8CceBOuB0TYJsRnF23r8BEq7gRKsQESoDcTA+XMEDYG+P8KqTtUkE7ScxP0ntmTJnUqyfZMzd8TCUIAA')">let THE_ASSERTIONS = null;

function fetch_assertions(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_assertions(pattern)
        : get_all_assertions;
}
function get_all_assertions() {
    return THE_ASSERTIONS;
}
function get_indexed_assertions(pattern) {
    return get_stream(index_key_of(pattern), "assertion-stream");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p38' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Get-stream</kbd></span>
	<span style="color:blue">The function <kbd>get_stream</kbd>
	</span>
      
      looks up a stream in the table and returns an empty stream if nothing is
      stored there.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (get-stream key1 key2)
  (let ((s (get key1 key2)))
    (if s s the-empty-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNA8QuFE3OIFCqGIfRcgUQh6GIOhKG4Gac14i8EjdUUQS0Cgsgmqaalmv1plKdaXMbFCxu26a9uk5pRTocgFDOxQdpmyh9pk-LCAYQxfAUFh8BOqijG+37G3wGQ0juh7Joul75roRarvdVIKmUNhyEq+hxse6HXqKUphp+ZHUfRuhMah3a5paOGcdWRGGHNagxDoe7ZtJp7Lv9PG1zptwGaZ57Weh2H4f9a7UjeNjUU6AXyep2JOZ+cXqElrasfJoXZbDWnUZ+4RyAYYgAA9CECHmMfOmXpNKRLiAYJqMe1lhdYYRcKHujbDGl57rDQnTpgdp3fuEXxPb29WEdFYx2hm5RIbZl7LZaLnI4LRwxuT6ObY+UbmcoD3za9sORdp9gPC8EP445xOfhL5Qy-z2bC4NUWGECz7mC0HPy413Sq8bVus47-n64phbu+bjRCBBblUS7hOJ7YYP8fXUb9DtxhDeN4hTZJ4fvcpxafeg2cQNBhhTo9tGxH1o2TcMZqu-VseWlIUzy4s6zbIclwvtm8gDY8ryS8OhaEKhFNeghCCT2Dsibgl8whFndMKN8qRjbUAUEragOYbZr1Xg4X8CpAoQKgc7UgaCMFYNtpcGeMDBCkDEGEGi+FCKIPbAwc65RKGDQxsifBDRzwmwyGVIBK814MEDtAvBh9fYrENloEQ+s4ZwXoJ3Qy0jExUKqi7CG7tcF0G9qotRtD6FSMMSsURC0lF8xZjw58hRCGilbqdUYNI2AVz7KURxVE2H0DkWCARrju6xGaJ2DUywmEngVCZYIuj342Tso5RqGjzCUF8CQABRCF6FViOcMBSS0SggYKfc++gN6GHVggmIhCbjYkvoCAAfL3YBY1L7q3mkbBhZwBrJl7t4kQGD6BS2HuU4i9jUiUFIPwVQi8RpaExn05WJDajUGnrHbGj9FLy2XrMxWCzKRtBTmCXejcm6NJXjs5wPxOgbVujQLBD995OlyVwlwS9Pr7IzkYSgChc7DPJK+UUxBJopLeVHVOnzvkTAqXY-iboQl+XCf8f5qRUYfDbtnfmHwIW8NDIQ4RsyqikFRQPQFGKvm529qPeFx4iIhnPASolZKz5UUZIZPFY16UgWJZ3TF5LOCUpDEiluMLGBOI5W3b5TL1yOihXxFaLgxU8slQWPy8ZqUypdMKnp6cwUGMqVvTl7cSWzQ9jysIfKqYquyeSHJXSWLH0KWDBw9NGZSluvdeBIzNXVP0AwepolIROp5i64QcJuBuq3o821blDDckYPgfgDBCZo2yu8LuFTBXapjl3JaFJirUjJS1IEmbM6GpznnVWXtLV6rlbTQFmhcTFvBeS3VpR0iZF1WsSBM1BgxqEIUhNSbiYewVaW0lWL9GmJiL2uNA6TBExTR7XVE5rYgpTlmk2Br0XGqbRMWxjE1XEWhTW0Ug6U2z3ccCUE+hT2xS+j9P62bDLNDbWweFnSsDgNeTXOuFaG4PIqeecRjJv1iPwEHLuflzx7kLdSWN-aQI3vvuIw8MRzyBrvsGmD9rT7od5lKaDKHloCTZfocRbS5HCAUTmSxndoMmMnehXDmHuBLoY0UUekaP15J6f3UdLMhn-s9TWldnipX6F1SR1uG9b7OHuRx8KUbzCvOdVYw5v6R5UwA3m06jISMqZzkqm20mt53zNupve-LCgqc+kDP6hn9D6eejZ+9KsyYF1zFRdWflCGnQU1x55PTENmbc3+0eFTrN3uBvZoLjBIsPqOSGEjMXDPX03tvOTVN6MPL83gNeLU5CKAgDAeASBUB9TQMSRTyRkVK2OmmoTAkbq8B+mQNNoAAA+7XFIR3GdUMQbXOvddSL9P6-Qd7mY611l8qQX1tZiIN6bYoPxqilLvBT4CjqbXs7vSIhQAqauHn58BopmBiAkJR4+Tadh9HuGIHNoznZLh5eEAAZC93o-Qe1kvCMJIElAbunaO9xm6EN6v7ePWM8gZ3agMEuwJ8E4bQH+e6XFkGYNw1g6PQJOY+gIy704+AldjmWYfFIXQMQbS0umb0RUwhl3wTE60twUnfXKcyfoJG47qRGeY9iA90753YdXvh4zpH4DGfOeBrz6t2PPu47rEMOXePzOTE59xiXp1Uvs-GyFl6tPNU44jMr3XqugcBZPXO5NM9nv64h7dwXl2eUWRLEIBDlvibwkm0N+3MPHdkosnmUhDpE3u5TZ7wb5xwHJdR02pahDDcK4Tw+b7pvOlR9D7FTXxn0s27-PHpXCvMIp4J8D5Fd1HZ62z9T2PCD+dQ4d1ep3ol-aV5viZ5wYvuMt8e67SQZATXfdr16jQgMXMOvBvdbgSewLF-W138vAcwPB1z8sfPIwjcK+e-yJ53SHHCrRYPEng+8+apO-X33jf-eiV41urSauAtSbbzn4-q+DcF+T987fVXabnIGTPz-tujWkO0OF2l+3yzu9AEsFyjYVeHe4QC2-oZ+IBQuc4Te4Iv+t0jYXKz0neAWGBPwm8bEKyNeJ+Na9qgQMgV2oAeI9+3S+BjYeyoKYIK+fOmq5BlQVBpIc+eBkB-SmBdMriZANymCacL+rBZBBSFBVBOgJe5uqQjaLBMuq0wBDeqBV+4IxauB3SK6ChBacebBV6Gh7yqc4IzOeh3BKOxhMcB+RqucJBsQr+Na0+setBLEI6t+O6+hThcupqrhbkG6NhZanhQ+NaReWKFhLEAKQKDaVhohWKIRQBaQGQ-+5KERbka06wm6h+zBehCRyhSRmQ8uH+5Kshu+w2XIZcihSh1WPuoBah4Bok36WhLEIG4iJB4Osu6+m+KeZuZRdMkCU8Z6VRdeyBfuDRDOAxyyYefh5g5iT+1ewxb+XRxRX+4udCWu7eRo7R4hnRgwG+KxX+DUeWrUhWHUJW3U5WOg3+J2Ey-2wcBs92p+w2ckHAQg+gDxoAGyoA-8v27IEy-wikxkL80SBsFkI2rxLyRsJgWgwgAQJgxAIhwgjQSOyOLEK6OCWibs-e3AZGgmHRbo9O7C8ia8phS6mJfehKOJS+Xmaepe3iUMHCOCMgjxduAuF+c4MgEBDJxJeSzRbkoi5JOizJgBBJkhHBnJ1BMx8qeSoG4GwpDWopqKUhEpXBtJAW5iii8gqmq8LJAk7BlBEpMhvRaJtwNsomBYcyviupipYI4I5pxAphKgPilaapfR9p+gp01pNRbJdRYIp0Fk9pfJ5g9pvSviHpVEXpH2yxWQnppRLE0cXwd85OVGNG-MYWCpLgEY-Kke3GYqcgoO6Z+JLgOO2ZqJQ0jgiZNsLA0Cvewye2WOboCEq8tZ2WnS54-2Rm0RKZWpOcjIL6JwZZ1wpptsveo+wMZSHmUqHqRZk4cEY5f0E558UprUEMkuC5zZEMzw9ZOxboOO+Z90y5+5NsxSR5W5DhDZmZCup5xpQ0BsFG3ZyiGKtmuolEL5oALA6wRmmmGZwIM0Yg-285uoP2IkHA5OAFa4SwoYpQTZ6Jo5qOi5nQZq75n5VGgSzQoF-5qggF8CAAPL+WBVhRBYEjEHjMCdOOCAACpySCRCC+BGLNbPQtQ0iTG1DNDgigAADUnxhiLO5OQoy+z58CXFjp7FXFrGhQvFYg-F4ZQFxFoAQJr8lF1FMgxA9k9FZa1IWIk81ArFoknF3Faikl0l8F4QwlFk+l4lsQRlMgwcRFcZbk70a5-0YmqOvySI3GC0sOck2IhZZi3G062Fr505fYD2s2JllleMcMXlRA4mk6CZ+ASZV8FiPZaZVMclRk1Iz5KkQIOO4VhiswcuRFllmsAVmEgle8EYdlVa-krYSCC02V7IN2dawKyVj5e06q7GZFgFsSv05QoAiOhGqqBEESfYdKvejIeZo5lmOKmqAVR5Tlw6veE6k681J5S1g1Vq8YM5nl6IPlFq764uQasWz59mrlk5bl6iAWO13lJS35IY4CAV8FQVOaKwoVyR2F6VJF+80V2IxV8ViVD52pHGS6zQqODVuV5V4lpQpEOOEFr5n1QSsGbxZVLmSFlViFe6qqAqdVcMDVHZ+sXZrVqmL10wUS04Z1VkdAvVIg-VEM6SouG1eEB6hkY1dNQIk1BZ+1IVs1saG590C1fNfIWW6Eq1VEi1m5jNNVm1O5LyUVu1t1i0OWsgeS+WbURWnUpWPUGA1xKCpC6Cty2CeSuiXhiRPpKBYINC4IqC+tIhQZLg1t5CNsaCk8thZ6PCeRxZ7+WQNifm54DtBtnCyYWGV6zo9OcwjpsQcwE4y1RQ9OHIEdMQHI0d9G9OCECds5pAydodhhx86dx8WdfshhTWmQjpxdbA-oMdhQ9OwUk85AvgjpNdqMdFBoldsQ9OZNCdZNfYrdMQ9ONw-2dMLAhgph-dqgg9LUKwPdl6c44IHF6dsQ7x3AvgP2DS-8XFzdU99O7k89MQi9oAy9fq-8XkG9Kdhhoa0we9B9AIq9oAkI+9MQm9hhwAO9BgoJ+9K93xoAYAJ92dM9AApC-ZfR-f-H-ffaAI-TPb9vPUA4fQ1cvafTPQAITCTQNv1X033INAjwO-22k4WANoPAOgB4UxDYOF0z04UAg70wPX2f0UMkMQO2l1L4NL2EMNL0MIOMOUPcBFDUM311JAjv0cMQiIMv2f2FA0MxCIOxAPHOhOh+162O2B23qCWAghjepzDcD+0iFKPNRyN5paMUKiL4AsAABW0JhaajI+yIfqqdCjBtjpzhNiU9RQBjhtzyHSRU7wJUdj2jLuxqjIl29OISjpISzjbG9OkAdAaoSs9d3DkT0TKSYTDGfdVAY9sAkACdo9DA6TSTk6KTA9AAounVkwU7k6YvTgAHLkAVMv1VMVMI3oR6NeM8A+MUJ+OcoqMAiWPYjCg0N7l7yuO9JZzGpNNUiDPtOGYWMrDeq9MNKOObgtNkIB3tMePi4DG4iDNMkOCwJ0LHyRnzy4jVBLYVCkALx9YMAmPkB5gxqkKaCxXQSDPO0cA5xu2SJLqXx7NHBFAHX+X8QfRE2dyRmyLdqA0qLQQTzdr6CbMylPUGVqLjPFSu4LVlOxAQsiBQutNuPJiFKmPmMsamIIteNItLnC0ND43NW4gAsukRQcACD41iBfAfkwGaltVlTARYigv8xOhHEq0nHtTFZdRlaYDf5vDjLkCmAMBRwfBVQ3CkBlyB7UBPgik1HpAtbTjOEKtPiTAhgFXRlFExloyKt-Cq76XggMCiX5pk5SU2WK56uavGvasrDNAauGtatpHmATQ3BvJaIwmfJWvBUy2CDKDKDNYZArxGCwLBsf0tRcUObBsNXgjsWlCJvyWiTmVcXivKAosGiJtmH+vLkOAuzGB+us5GITmXxLZFuFgRD-gzmSWmsQj6Wet6zGA+tSjeoVuFtozGA7P0JyjCXWDgjusqh0BVtMBkAKAOZ0KRll1Tt3Y6uiQvraTTDNyXaXyvYvbSTIIFFZARjrvwHtZRl7EK77ugCYOiTFDwgLu2uDDrsJuXtfGisUAStSuxSytlzruAmsLzxTEzx3tvaqIg73S6LYuwEYz7uBLJuNtcVduEo2wbSTs45wJzsmtiUTjsUWuo7j4Y5zFU6yantod9gYf6WwfGDjukCIde1zsXzTuoeqLwjLsnKkdjRiSgiOktJlCjvdvwcTuOsru0xNmfsBicdVsQhp3cCXZIfTvWi2j7vcDMfkc8QhjNySUocLvggADkFrtSwlWnynlrfW0l67w7In3HkrBYpAwcUclnM7M27190arN7+g1npD4ThhQgwgIlwQIldkTOok5oaYIlEyHA8IfHMkzHTnLnFVCuUX8nXHcHinsswS8XxbOOsX94WQ6XCnUXN55glz1zygtzIEmuxsHgJmJSRstn-R2l08smG8ssh07nkxtX9AjpuH2uFXhA2bNF2I+X6whX1AmgKWpXMcbgvbHs9XYXSkQHY09XC79Ol7zOJ1p8GOk3+nG8uXLgLnNmv8BsJCZXbgnXOagqP7LXJMk3MqdKMLWVQIIYWHK3oO7Xmx53lXG18jB3xglGcCjI3q23P8zAe3I3Jm43R3G1hCoiYNvxVtU4jHuMGdTnQPbgMOcCe8zhiPn3dMdCu6+nEPN3qkudC76PyPWPOP13LmCbfXNzg3xXVEsPJQ8PuPLmpLRQ3qlPA3Q3JX8go35bWPoPSXDPZPwMmjXPJmxPfbVKw1iKSCM3oPMqdOhhi3mVY+D3wHk3EvzCh6RGboG31qPzAWKSJAR3yrAnS4c3wnJZlX63XVG8sSn8CSYHmZqSDpy5orjFRvP5ooTZZvB0GXR3Vvr8NvokH88SkJeHHrzpxqKJh1GksUlA+AYiNsAwFQgw9XxvBvs3lXCbAXdUJnSf3MMfVUbRqfP5OOrv26avev2hw5LA1QbE5O4ZQeEEk5G4xvTZ9rHAr5G4JnNffSyZ7fY0Pfdfd2xvOOg-fWy5Y-ffAMk-w-P5EYM-E-tf5zRzR5DfRrHfK5B5xvVYng-f3A15rp8Zd5kLe-zfXAm-1bM5MF1fS-9fp-np+-S1m3tMge7vM5SBqhYIgf4Il79l5g6kzAWaIq1mSB8jycXampRkDwMB1AIgDgKQBzTgJcghAReJn014xBBUr-C7mgNzTNMZ+wGW-lfBX5TUjYj-TctVQvK0wQkpGAgQ0y+oOAIBTKUgNAI85wDOupAg8pZWaBIDg4M-ezAv0loIoWE27L3q9w6oUCmy3ApzpN24CSCsyr3AQczW5o1odesYXXhQMkH1dn+pOfoAoGq4gsKgTdLsGyAMF10YchgUkMb1naGAaCC7Ewb4DMHEgng+nJsrlRoLM9CgTwP1NoLuh6D5EdgrsOMh0FkRrB3XNjLEH8GUZzBqxYHLNDICvEKEEQowMYIIimDIhFgj3nZ0KIhDbBKQ+wWkKcFOt4erg7rp4JobVANo8Qm2IkIiGfRHBoQg0KUIaTeDdBmEGgocQeqBCfBMgVGF8isbbNqQkZboVQDkRtxAgd0P1kEJmb9CJgJnIYZQBGHNCJhd0KrmFU6FKdhOL6fTuULiH9AEhuQqUIZFyprCymjQxqD0IWFrClhLQ7omMJ4jtCPKx-eREKCGagh+Yp-XWBTFPJaZcBBA-Ab30IGMBV+p-A-hQPfAVAVsgwBfl8WBbot3hVAdgXyC-YcRrkDAfulxF4FOIF+3AD4QiL-721hhQhVEVQC4gcRsR8Ii-oMPGpQ8ZAdYWoOxXU40i9gdI9bu0ClikjWIVAcIAuyPLnl+OooV-hxC5HCcYRlGZ4ZSFeEsx2ROIikVsJQRLhBRoAN7CbznIfCGuk4eYYSLRFYUIwgo9wX2AjCqi9RoYZEZqOJFYUccuo4qr7BxyGirROkU8vz3BCMiOAnnLQX1lpY5RFhHxH8k2TfqnCX0eIlQH0Frh0xGA2fP9kj00jOBuA23dkdty+HERzwWooVC4jKgmikgRIziFhVjHkjwx0YuFmEP9Dxin+M5ZMf4gyiqRnRzIjYckX06JUPRsWS4WWK3iCJAxvAMjrX0NhQtORlg+Qr1nr4WjORgYzsXtyJCgxuxeuRMXmm6CMhBxL0bzE8UYE4hwgybS9qm26B+ZaWoACigAAkCmDAAAILgBwABTAAEoUVIAAAeQqbIAgQ-Zb-CpSzH580w98dMXQFxHG92xTtD8AbAnHXI1R6UBgCOOR6RjUQHsN8fz0AmdBGweYo0CZygmZBnxUYrYpGV3H7ijxJ488VeJvHwSBwwEr7qBNfEEikgkZQCYsJHEMAxxlBCCRZFgl0B3IzQqPrmVr5ISwJf4oQh+J-LNDbYPQ71AYg+HNZ6krGNQCYC8ChjWJsmASeZHVHXJcRRox8WoAklbE3xuIzjFuOC42xcgDgDaIyAAAMA5cBDUHsgtwMgifZrimiAmDB7spk7xNpO0BAgNJtk2IZnS4p4gFxNaRyVpOckmcV0RkxgevzGin9HJp3CydQF9Ct8lwP-R0k2WCnmTYoYUmTga0b7YRAxgQcNP5IdCpBqg2QUyTmn4Q2SQp8U00P1VUomSOA1XQYkVJSjkhwEgQm2PZE6Blxi+IYB7JgMz6GQrYw5Pyf3zYFxACpcUqqGFOIrNwRBXXDqfDzqkMAGpbAMuBby671DE6gQeqY1P1Z88n0LQI2G+goGTTppZcDSYGIqAkARAqQDGIH2BFLUKktUpaVNJWmX9aqrCTAdikQJ1VWRSUgKfNCekThCE4yZVIZEEHYCVggGP4UPyAmAipquI8gbKkSJUCWAtAuHjSMIh2jU2O0laRiOn6Y0tQWAf8P9MMgPYveQo6CKUBRkzSpBcoTrH8WIDLSSZWZKbn2GaAIzjA1VBiAxG+nXTdpR3Z-iKKAlgwpoPMP4Gv1HDnUKR3wqkHgKBC8CiBoOc6WQL+RII8B57UJh1UIQOB+KmY9EQQL4E0D8WhYtcBDILGCCMBaMGSr+FMR4BIQ5s2lHmjFnvkNZks4DrrIpHVVCE8skSCEnGkqybKaswiq6wghIzYgaMsTFiKxn-goIp5daSKIFlN8HZII7JGqlfCHTu0J0kmA7OlkHktyZsi2a9U1ROjaRro61IoKhna9Hhgwe-p0Ahm68d8LED2biC1FQsFwd4BMTOR5HUjc5dPOWKJCrGecWRHQLIIQHrlqijysopcX3IJkyQuZzw3mXfH5l9zNGDcpakPIFEWCF248nmQlSnmPBCAd4GecLK-pgBzZkIIeU2RHmKj3snveUaSAXbVyvZq0keUaJWA6jSQd86YFfNrkWi3Bfs-0BaMfkfyDQDo-TjnKZF5zK56RVIBpM+S34quZtP3LfgDKmS7aTpCsu2Nkz7SR+VHfacuUcltEUFGQndqtIjDoK1R9OToA1N8BjJ-iV7Qoc4XwW5T7hAWA5nTDKljQNJMYizhs2InvjQAxYzciLIEAowxsjCxkGlNXL98spJMfaZBjzRXzyxLKCcC-LNHOdWFj2DUUkCfkGg3gKMJBWbAhKMKFp0wLhQeXckCQpFLY1xAm07ltyvqmwwoWynM5kBg4mCpfONG0X7Sn59YyQJ6MuHGLUxhxLcWhIYCnjLIAAGQKa3j+qyRAybmUkCKSNJ4E9hZxJnJfjQZFQX8RBIXaAT8JjC2Jcor0T6cEJfcUyR7GXJ5LMlngn8n4oCXBLwAuEkCBkpiXsSSJxvbiWi0GAGIyJlwiiVRPqV6JVFKwO0qZIYlrD4QRotpbcIhCK8+lHAAZbcNC7P96FdSlScLK4lrCeJVAPiduA0l+pWM9CvWGAuYUySOJFI+SVErHrzK4lFIwMXfEmjlSXOCiuxUotkkX9RhOgyMtxLmFrLpgzchpIZCaVdo-B+wlpSLRYl0SPYOY7JXJKXSnC5lBS25ZZ3uUHKHRWWeas0MDE2KblLnBEU8uWE8LOF1jIEOlFxxO8YV8DUSKitYVZJA2YIz8FKFaA8Ivilyl2rYss5EqMVyKr9jSocCWk3e6XJFccOf6igRxDoCcVV1U5ziyZh7fkUbNFUXK4+gQJSYwCOYjiHMhEjnOmml6iLklgquiZ9MNDNMZxQIDpVmHHFarqq54ENi-Ccx0TMVQkYqiMp0E4haJyq+iYxMlqlR7V-nR1VMp0Gkk+wgnR1dwFOFmq0pIES1cisIw4ytqOZALB8GCBmkbJCqn8TlObDYq3xjIdReuGrziLZZrCAVdPPYXarYg54PVe6B-GUTDV1EvNSarzSBqnMjk5oaozUS2rxh3QWBZMudXVVXVza6-P0sYnuCYppk-1R-WrWzRGFVqvdOGqtTALzAefRycEDlVKqC+KqnBWAq1UFj6e060yfOpfEc59OefOiZuuQl6Jc+wgAiQupJgrriI0a2VZavjXJL91qIQjFFDYAnqt17wRkH4owlniLx14qpeSHfXHjP12E0Jb6tPUDq-Uf0Z9Qeo6QUDwQGIIdofzcjrrHg2C8kJetjXlSb1XYzNTqqpDgbMlb6vcf4qCUhK-I5SojUBqXB7LThuGmJYRkIQwavAcGydTUQpa9ITGRtUpCsPeocbZhcEVFG8DY0ohOuAbaokeyE0YL9UrGqhBN3aSRk5BhADpJGr6IsbgoAm5MGJt7G4LuN8G2YrxoQwpBVNX-GTagpGBabFNLEAIipqk3qa5+CuUzYORcA1AxAo0SjDco43GaU+Mm5-vxvwDZT+NUmllccI00sa-NzyOZAZsgo+8eVtw-Tt5uykBEQtpgctHQHC0LTSVdi1eLpsk2CaEtvKLGWxii3PLOMrqhnCIBEppbLOjpWLYeu-wqafNJMSzSiAnIFasVOC5TfpqNoNbEtaoqxXyOcmVCQ8hggFROHK3QJMtnWsEONqQrNaeIkEBoKcNq1xaJNk269O1sa36JcI9o3vKOsjTFbvOFkEbQ3X011buWhk4gE5tmRwIAttwl5csreUj4DEnyvLa2EyFZARt+gRzc5sZXBwUePSkiO6PcWNjRlDo2wBtrh5uK4+gOu1WHJDmpsX0s2ooNNp238AIQvnMrTMhtgudHSH2rQCdoeEmB+AGfLrsbxIyB96WjLH4FSz2jP82eRXezJdseXIqiwhCV5bxPu2hhHtoYQ2PjtmQADXcwAsaFaKk59sERv23ejmH34r0kZZND0trMLGU07e+IgQIHnSSiVg5oO8EDTup6GZQukHakP9oh1WrBaaFMJZkGZ6I6FMxWzXRz1p77b0dX2x0lbpp5SpuWSYv+ImnYhN1GQAAThOBR4PdddQ3cJsSQBZG6Ae7ibVnJoUwac2AwVKsPzVM1JeQglwL8V0kk0Ggoe4OBpw04WQ0Aue8lfRALn+gM9TnD4BjPT3+6G0yyiPVcOCEwx+qHkSUkzLUHhCK9VqoCRtAjY0U9uGewMcQrrpkKLSvMGNVdueXG9ptFu5HQzjYAkKB9DpW3fmFGj27YE0+-vUwH+K46As6PL7W+FHb8BVwZAX6HfESbYrWgjIP7r4F277due3YuDjvtKimsjgMyrNR6QP0JUYmZ7VSHfFAp34Oqxe8EJ5C8jo9OFrC4tffoATb0EQq6lvSFCbr6BsurC5zscH3SJ6IgDEV8Jarj4J86Yx66lfHsEDHqR1s6vdbusdWykrOZeoQVglICH73957DQkyNmie4AZ0B2usHH-0AGvIdE-A8n3AMAHfIyBjXszML1FA-9HBzyMAbsUXhUxLUMQ55Hz0iHW9iw75csveXbgOd0ieA+lr9m86gBK8VoCLoMDi7GoH9RaKELe36G9d5OBsYboDGp4I1D4zLUIEMD2RWs1QUqHlLzSn6gQ5+y-ejxv3Fs3D-AB-U-uw0CAjyMGcw8zn10eLRlthwxfkVmzhG1RCOfADRSzF9YORzAKSP+GS5jsblOhmgHoanxy4kj-qow8KRoamHn+jaydt0DZDdB0h5Ic8DBnxV1HMwvgVUqCI7DLYvQRgFcSbvLqg0-MW+m5Rp3DH6BCxAAHSwDLrfllGTAzIGCCTs4d+9FhnKGgjZ7RIVBw-c7xOAjGEDYx0CRMbCHTHZjR0+Y-H0WMUduxc5XgKuD3g9Amydx0AAAC8FmoAaY0UGaVMBLjSxmXasdeMmtfYmx8ENsYSq7GntH6Rw+8BcPTgxjcxn47bD+NoMJO7nESiwBErKARKnnSYBpydB4B9j6W+E+ccRNXHJ2KJ6eraXIDonMT2J0LiCd8hAA')">function get_stream(key1, key2) {
    const s = get(key1, key2);
    return is_undefined(s) ? null : s;
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p39' class='permalink'></a><p>
      Rules are stored similarly, using the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the rule conclusion.  Rule conclusions are arbitrary patterns, however,
      so they differ from assertions in that they can contain variables.
      A pattern whose
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      can match rules whose conclusions start with a
      variable as well as rules whose conclusions have the same
      
	<span style="color:green"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      Thus, when fetching rules that might match a pattern whose
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      we fetch all rules whose conclusions start with a
      variable as well as those whose conclusions have the same
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      as the pattern.  For this purpose we store all rules whose conclusions
      start with a variable in a separate stream in our table, indexed by the
      
	<span style="color:green">symbol <kbd>?</kbd>.</span>
	<span style="color:blue">string <kbd>"?"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-RULES the-empty-stream)

(define (fetch-rules pattern frame)
  (if (use-index? pattern)
      (get-indexed-rules pattern)
      (get-all-rules)))

(define (get-all-rules) THE-RULES)

(define (get-indexed-rules pattern)
  (stream-append
   (get-stream (index-key-of pattern) 'rule-stream)
   (get-stream '? 'rule-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCyyiYRA4K0Ia2yEs1JjEKMesnkikWJtWbB1mwsu08jBtXykIvRIJl-Cqcr5-KVKvFkoRWrpvr6DsGRqWpvNIM+8dmC2Nyxdtszkh2gOBb0mcdmVl6lakDPKSlFDhJfJ5oDDfgAbkd8FqfZt-UEo5qgyG-pyW8XVVjPDjvNr85I9QaVDnU4ZBzHrT144xSPCVWqNTGfPOC-5ldJVcT5Yqz+QL23QJ3PN2TMfT5mJwfp1a548PQwvTxLdfX7Pp3jYYdfmvcNQAnddcV-eNF24Q0VxdcZSw6Td8wASEeHc9zGeDvGPPD302AQ7yMKiHyfF833Igs4MtDc5zIyR-0A3tTwIicQQ7LstTdX1qwrFFRNAWs8jYZQBFIRJuFiIVNntAZQHifFNNAUlmVZXhSRPTYFl0tlDNmHYNK00lWEYaRSAMxiFhsxszM2HYHBiC9Yj8UkAFVCDqQhKAAdxoOwHCcCoAFootgmNaWE0AJNUx0ZLoOTEnMKwsFA8LHDrGc8UJGE4U1JFzFA8IgkJPLIpcMqdMoFk2QSnK0SCAJqtsex8ucQqyWcuzWrwSE6zCORVHUfRYnlFsTkFbjUVFAcZSq2beSaQVEpSpM0LNNcRAWYZRlAHY6Cy6wwCktFJJieIoDgRBkHQLk0H5CEyjyQ1PHIVJHDGNpYl4agGEIYRFp20BDWGWJ3AcbhAeBs0wZEUAAB80dcw01A0QhtERkGUckDGsZUdwmu8EIEbiJHQfBkmkKGEYAZpwnwakBnfVQlN0IJ5HhAu66mV+iLpzohhqaBtnul6FFIb5umLpGz6KkNNxNHCNgmB+tRslIWJSABPR4U0ZTJEhw1KIvNQDZEAAyO2ziuPXbYJLTSGN9WlaFqGhn4WIJYVongITNS1f4DW1m1q8g8N7TCH9hhWqsH26EaWHKGnShcCYBOA8l2ng7l-pHRebgJ1judsp9krmGDOhyE0QgA7BvXcc0PwuF4WQqmcM3Q8dHWSVJevG+bunST8HGtE7zhu4YXvqDBFPRq+lRR6bluSUriGS6TdXNej3XY58jfx7B5PlcZH4x631R0-Jlmpf5-vIbLid3+VJ-C+EExl6vsaZ877iyYF3HuDdqAF2lrvRMTsLgTgrqzF+VcPrX0NBwYgnh+C9UgTbcGIcLYqAPlHIeLs46kn7CEXcGCsE4MILSdGmNGYm0PqQvBPlOwaBjEwGh2C6oMJJivFWNBeF0PvhnIi+t8EPDfs7D+civ5kL-v-H2oi6pMBAWAheEDCBKO4rI+Bii4JSL-t7VeqsVBYNhmwfgoC57gOcHo4ChCWEkKvOw7SVj3A2LsfPRe9CVHmKZP7bxtiBCOADn9OgTiZF73UskbID9M5MGzrnROfhP6RhMSgn2XifHkzYI0GJUgDGGAQYovBpjwQALXkwHak1BAMC3sU82cTw6Ry1mwqRPl6lqEaVvS+Pt6laP8S0geNBMmSNtv-GpFimAihknWI4Yzxm+1cZ09x3TtILN+s4bEIydECKYVzIhEdWGbINj5HZSzpx9NSAMwJwilqLL2dOeeMl1SpDGZDIedTlhkL8FyR519rmvPmWifY3ZW6VP0XE35shcAAtAFtcEPtQXUGxEcP6CcKDtgljC5xcLiR-MRR49IMyfbY0haDYg+KTGwtge085usPGkkYAcGlSdgVjVrqoalJA6UGy6AytSpC2X8tpZPUAeCuiCyCdKiVzA7lNLptEglUhYmwMmUo7leQVjSDUA0+5dMyHCsJVq52MrdUVB7ruZVW81VSLNZqtSxihXWqTE0lICp2VQtpaas2LjjpTNILK1F8rvrBjtW4Y10KnWBraUzUY5cKnxopRGsmao6grJccQjZLKtmki8DUOogz5XFuIHUJgBSikEuLhawxWTplmKeYaZIvAfqfMcXWkpib1lHxJKy9tnb+EeskkE3xDjcH0vNWpbVlSx3YM0JO7RzhHWu1naXBRKo3W-3Ta2lQnDuBd1fn2vNA7j1zx8nMS+sz6wcE4EwPk2cjDSN6KBE4Moy5yXLKsw0R6TiHW0je06rYmhKyiEEugt04gQBgPAJAqA0CvS5KgsaDA6KNKgfzTuhB2wJsZZYkW-1sN0wzEZIkf1sTi1IyjMyOxoaJ1o8IMyxkmp6XEY-DRglEkSJSTnPOgckFkdw-h+jay1F1mY+RrMuwnw8LeLQuqzHRMyZmAx9evdN4msrqxuTmKtPn23sJsGqnxOGnRQnb+0s9MYexJZ5ZJ9dh4bU98SN1jbEHMcbp30CxeVC1VCEnx4TE5ROkwxRimw8m2JreF5zYnfQab5RygV0nbPyd9Zy7IiqjUqrBtEyuZnEtrIrdmnzXwFh2enKVlT8XXNSCS70mNeXjPPzI+l7ETX+k6ZM3HUGCWvhJeHeQLtkDyuPAWMOopVXDhfKFiu0ZhW6sRffL81J4tolLoWzogrvWhCqfq4WXY0hPK1b8gFIKoVpWNDBvwTgoAYr6efI029PspvcFKH4JdzqpDIUthoWIuy8VMAC6UbCsxIZTaYN3cggPcXMFB0QL70hNBhqkJxb0f2VAE2NCDoJH2iDg5mKBHuIwuozaw-N2LYOVuRceFwVI7BQF4bvNQZprk6f0gnSFyJDhok0455zyQ33adC8ePN-rrOjME8IFUiHfb6k0dJ54FjBYFiK8EuCsGJrleq8zDsPaaxhIY6AvmDy7QZc+X8oFEKNAfakEaPYB7sUputXR9U3JxL1uCWiV3OgqnFqrJhOyJdBIAB8T3ZsSyXap2evAw3V3lVVrXLyMXWZw3VmBYciHSECDoabmGvkObebID5WGlv9fuPGSrhehPsF2WnrXmXW4V5c65dytfqb15uUwLFDgcXkDxXFyvLbr7J+b-6mVAeQ5Y9AUDB3yW-WCtDUT+XsDDeunEp6TH+oUKWKjbl5pVr+52jiRTubd5DX2pNVanwI+t8AW9CHd97VJKX+jQbbjz4iqgA5+fiW+qV+zWR+8ad+LmiUvQs+Gu3+H27+k0n+4sq+XwkMgBH+u44sEB6O2+pumYkM4+iq3AguvaQB3W+WAaYB+GmBHE4kHu8qa2OcRAZ85ogmP2vasCwe3ATA4e2k5IjBhmawNIfgLB+618dA6oLglAgQCmmCfCdYu2bWRckBu+VKKW-qlcJ+for+MqMoE+SqwBqq0mVBf6KgXqC+uhAaRBoAR0zMlhOw7aoMa44hKSUhkma6sBBq0apBg6aaoukWYhIQzh1CimshbhlhBYvK5htqh+Bhx+iEHE2BgebB2e0hSmUm42FWRIusrh1AnGmc0mh2DWoAwaiUVgieTyyeNWTmlei0oENaMopW1alAhShhKIoEX40GhI-hEhLhwRdC0SNav6oEfBDcTcawHRmRu4qSwxY85o7Rv6eBneNas8jOWskuMQ0u7RvhYu5E0xoxnQfgYR2xswleIh6G8mXWsarWP80+9aakvK0B3YhB74-+GEiY223me2B2o+ZxBmIx0uVRLmNRr+4sMoLxQCdMX+3Y7xY2nxdWiUZ8uRYsPG4JYMiJcW4sqm20cSGBtB5R8m2RuiAJ+Gi0CJacfGNGBJaJhWJ4LxlJmi9iq6MJChwgseNJ4B1SkGwi0G0QsGD0CGz0yGBQaGtS6geeRSnAp6hGjRmc+guiEpv+1eoA92mkhIopeI7ex2p2nAPk5MMpIQuwc8bwqQbALQbwDAg+awWwr28q-m+OPOcgfOfgSxmeBCRKusFCrMuOQsk8YR9pUSTpTRpw9+QiaC2OnpTOoOkpyR56pCuAVy4ZWs3pY682fpfOH2UZg8xKCKH2gKyZE61OGZwshq2ZcZyKeZwizO7YUuzSuAhZExJKOZGQpxeQ9xe8kJdejOb6SRmZ7pDxScfgIonZY6hofZ3AiBWejoTKbiusGJ2kfZZaTyfZWunZY5gkdZ2qiBzZFQNKmIDceMlZ1ZJq1RrpsCE4wZd6b+HhIOESEsx5txW6Fw55PsO5lAjA1aRS0Q6SLpssvQkMVsH2N5mJ4IoEHszAphCoaxbOdMMoxRwp0IsICON5vGj8-uj4PudZ-5ZJKFAk3+CeF5n5AciJ-ON5MsGqv5cSZcBFQk4aTyVF7ZxFicpFkg95NAE4VFW5NADODhB56xR+SSXoOFqF7gwYYFgJJ5oqoMmgHsyFmcwqKpGIkl0lT4XQrkCw-5-mSFWFslgl+2oAwlb5leGp3geM0lWlXoIgAAPApSZToKueZYLpVidhbqSAACpNTxKECNDBAo74AOrSpsgdrkCWnaSgAADUCpnO08eMeota-Fwq4VUqpIYVEVdOUVmgMVdldwgu7kTlF4rl7luADAwU3lmgvlqq-lvAgVwVSV4VhxvQaVGVZl8V2kPkyVdVUgDVuARSylKCF5JkvAiJ7ZMlngNxXO5ReG2sTU7Id54u8qXRw1qFPViRa+yRwaC1BRGR-Wk1dgTxYuL5e5y6kF0uJx7VZ0-FbshIZcTVG1vmcChgPV7VR281cEcVulE4PVv6VYJ4yE-WF1sExs4FPFUFih8Y5u1s-FVuhA5MxoRRicbu7oCRz+fYr+VFMoqB15TG9+uBcS81dFTVAFjFWx5EdFG2BNAccRMwEkyUZ+E1zI017JZR18pJ-FQ1ZlOFo1NYSetNU1x6YlJ4qc4hC1Oly1MwQazM61YRlW3NO1j1+1WgQNx1LmN13wZlf1V1r1dVCwBEZcylOFyt6m0qgtL1EiXQEYYwH1RhHo31u+v18loFc+3qCtW8GhxxuVw1kN0NoQgmzuN82mF8n1WBj+OB8YoEqNhI6NVFvNlBHOkMuNN5RFZNWoRN74JNPuidFNX1md3ZnF0t9N0d2UnJjI3Jd0cGj0iGL0GAcFSYMOcOFpeOwiMuBG0ZZy05JIn22kNdQOXKcqTynd8OLAQM3gW8ymYOIqD5ZSiiYOMyoEfdddQs4xpC84YqLwUqUgLwBY+2S9V4pIxYq9kgxYG9vhYqVse9t40gh9W97pQ8p9Q8F9UW290MzMUqj9J0Xwm9997paUHa-AjQUqX9WCXlb9R929YNe9YNmY79swYqMIHsve7gdAk8MDOgcD0GjwkDMwYqoVp9Ug3A2poAjQIg+IEe924VgD6DvQYqUU2DkguDfgBD3B92sUZDwD7pghmwtD+DhDxDoA5I+Dkg5DUgYqwA1DWQeD9DRDSpoAYAzDl9w8AApCIxw+I9w3I3w6AAI5IGKiqdg0o1w5I-JQQyw8PAAISaQ6NiN6P3amOEiGOyNkgWWKMWMMOgBWWSC2Mf3DwWX4jUO6PONeNuMaMTFkhh6ON0OWOgAR4BNGPBPeN+AzC+MSP3Zh6EicPROkjGMiOSO9ASOSDGNSASnzhggz0A5d312MhEUEgngcEvB+Cz3A7z1FOv51MI4TqUDuAABWRpHRVTCSpQ3Bx9JT8OUq2qU9gTMwzTZTchYIbUy0-ggzddlC+WMopCYqG+UqG+YzRxQTpIkAhApov0v9cTuz+zDumzRx0DggyDsAkAe9SDTA1zZz2xFzsDAAoqfXcy8482LmKgAHL8A-MiN-M-P62RaNOzMTOLN2pxWVOPAcH6gSOUW6UQvtRUJhrFOw6lOQv0UwubBwvcEjOvhzMYv92QthoXlQ4TOI6EDI6aBDx1lQ6sDJgcDSCeCNDy3tP8CdhiEaApC7WngTOw4dotYj2E7J2zBLp0umAzC4miH9ADVHXNJ1lcVM4KsmqWH2HsB8DzP1MTpNUHFi7IvLRUJEVfNSAauGCUutMdNdP6tC6Gt9Kokbamv70A3z4QUs68VkZKzeBBD220ttP7IevA1dQ7hshO0mrTOF1yEwb3TwZPRIaYBV1LTqD8BkBMAcpqB9QwjSDZqcLkAbgTlJgwxwwXgbnYL5sIRV4UbarvXlusQiAJVMA1XSrqBaAZVltcKVv1Y7AdsVuzhjqAwwh8ohbGltxaCsGtKwKpvEC+UjBYbZBfbEDEB6PQbhXcDTt-WkhJULBbugaJXJXTvOuPBbtTytt4x4U+xEDhKMBjt4w0uoVbZXvYKMDdA4QsUtvtzJWkhkjJWDu2KMAjvmgcGPuEDXu+AlV3BftCCkg93XxPsGrMB-QzRLp1kv1jAocng7vBoORuRrKkIoegAOxmR765zi0TgociAYx3UpoqgUegDWPAa0iYdZBlwEfyWkg3qqXJuOBpsZsFTZvZoYfxg7AkfDaja6IEdEcFiMb5wS4MmjIUcbU7s-vhXwdvlIeXAXDfbrso5-xtUFhJXNtmX8ZpKycTpeaQJ0e1UGchWqegfPuIcOAzTaraeKcNuC60g4eDaLBgdkjX00t+BqeOfSBKTdtrL-lCcUZBdkgn1+CkKse6dm06emy6VBeuBOdhfYxnvaCReyakgADkzboeCVhXJ4Z02XGVKHsHY0aXHK0gRSdX9D4lk5SaYwAcsM8MZcjXR78YYqIQbAiV7QiVQU9kp8VQjYiVue3gtIVbsm0XXX3Y9Xb1ii3XgX9nCH6XIXYX83zsq3cUKoe3tXi3BD3xeQHLXLxAPL6Bmu3cNQ2il6vAqH68lVI6UmJ6zHfXL3I2-CfgcnfiOiD3R7HB53wYl35AKQ7Z0OMQtKVQ97gPs3BtMnt5c89Wxk29N6U8LNqSgm8PZXBpvAp3FQjX98t2j6t3MPvuKPi0s+YnymJ6Ghodur51hIJ4xn2PTGf3U6ui9PmBxTd343Ws32MoHBxPacpPUP-PD7KOlPj3AdKBTPEim7J9zH-5360P2iUc32ul2q5PGvgv0vf8eP82qt7H19Kv6vAvve0vRvCvj8m7IP3L4P133+XnMwal54Mu5TbNlhwPnLoPV3kPuvsPEH8PYX-5xvENczkvmvBvJRCRs+OP9PiRPy6PUqbPAmmNKPv6JuyfZ+c8JRMrY0Du9ggPhb4XHv73E21HlfuHYND3kNNuV2FnrFju3dNFIK1AnZMvT30OFfKPzHZ5-fjwOVp2XcDfl2nF8nOiybqq1pTy9cjYfUpAlA1adcbAHAhgJ6ZfxfyPj3m7C-Q01XeQBggv43dkfUsWW-zXEyzsg5BhPPhfLZCF1arAMkeMq5nbJEaF3+GFHvebR43-F8EfwqDuBX+8tf-riG4CgD68eMdcs7GgFv9TYwAmgAgPAE8ZUBsA7foogwFID2+Y0HASwBcCR0IBX-dimX3rhygSB4HdisgINIrEP+fbcDrOTIHX8z6ikZ-jgIYEADECv3EioT3rAOsKAWGMfrdC-JEBPaWsThEwCSDsBvA0gfuGijsDTYqeSNBcMoUPTYJ4eItF-LMxwH1EwB+5RlpHREE0CY6faDfFAIMGmx2q2YKGpISZxSCZBbAOQfX1EHk1TqqIXgEUgIE0YcBGdQOlxFnz-kk+qg0WnEn-JtAvBmnTflnwHJKCaOYwengHXiJB1tB2dfHpbRoLkVYEkQ5QY934EftpoveSqtxQ4AANzQdAFsGUJ-pRw6AC0VgWh2yBApmO1QxoLUP5BIg8eqvS1ECjFa9AkQ3BHGEUPNYKZyha4KaP7EIhNCeuWzSQK0PaE5II02uFlvoGBzzC1wVQgCDUK1h1Ce+a1Soaj1ADrDVAHQsPh7yuq9DLCAwiRqwD+iUw1hWwtoYYGOF1CkQfQgsNcIjxDDJhcEIFL1VTgTDYgIOLBPrF6ZI5pUdZXACCMZyTRZA-sNuEULhbgi7gtAqEYIBhHfCZomIvYeLWxHMdg0ePW4Q4HuHMB1hfLL4FdUBFfNPhkkaEaDFhHTQERPw1NHCNC4cU6B3FPUE3mJAmoqBfgGxHHBYGtFX8egwkAQKMFIU+Rbg6itkOSIWC-BXHZVvdTra4h+RggXgYxQ1JyRsUTAGBgpB8HoCrBulAURqPJoFDtR-eXUYIAUhyQ1RgokimXzDpWRcAX8NYElWY6kgXRQIN0Xj0hTLJbRRw4wClTd7SiyKuHf9JoJ-TBingHIpnFyP9A8jW4AYk0dKMy4qB-yUYh2OXyogCjDhFoxQFaPki2UJwP6d4fGAnC5iyxvofMS4D1G2Vv0xgKsdsTLiVjHqkWdimF09GuiBuBQg6j6xyKYjcGv-KiHgxpHBp2RiQN4FWgCIH8pMs45wH4GJ4BjieQonQeiDrF-JxQKuGUDWMLEKQlx6on4Iv2oC2tZh8YFcXwPfYbjdcm7L0d4AG74ibCw-aVFoH7EuBBx14heGThmQ+tQALlAABIvMmAAAQXADgAXmAAJRcqQAAA8j82QCEhYK+FOQIkF7xn85Cr6bFKaJ7CsD6AzAV-lwEwn95DhVUQgQ+k17oS3CNYsLqRKODTh5xaIWgbRNGBoTbIGEusgBKAmgTwJUE2CfBKYkTQCJnACiWxKonojiJZfUiYOKElPpOQL6aiWN1EnUAoomIuftfFNCn8lJooIiYoGwl1lMRwIwQBwSIICjfK4eQ4pOMrS94XADE3RKZO8hnhSAWE1MWWMKpFjWJx47STWL0k-i5AMgEYMwDaBEA-oMoAAAzmALyZoYKHUgCnFDAq4nFgIYFfixSgpywmUFN0Cn2CQp4VLkFiVgQZTwUwUhwLQN5RRTuMn-CWFKIKm08Co5ANgMOLyoY82B1Ur7glLqlJcqBVSRmmNFkCCZypjAlQKwHGABT+4JOWKTVL6h1SYKRVGKd4DimvdJpSUxKPblkDMBgoRwbNFfxPAuIj0W-DnH5mf5lSqBrglqfFPUR1SbqSWYIUP0VL-kpoa0jadEPh5NipA90pgOtM8DZpB+svS6RkKyHpC3pH07NBlPZEcB7A7AFQJAhEFSjVxnNJ5IDMek4TraS4cqceiQK6gbaBwZZFKNjBpCVqjoNUkYSrCI0witRfQTAOXQSjMaekomSpHME8x9oUAkFlXxdGAQ2xR2BGZ9MsEUyhq7gfwWJBwg59Qhsolrr3yog9hJasEVae9MellxcZVHTmV9MUSxgwiOwVmYwEyFZ1J2rqaWUDMB4FClRLAHOMDF7iQCpRT4PSUCV0FWDyZiAwgRjXzgwzLxShLIHoIY4bMRakMIgDFT3G2UDRMBPwaeK2YWzUxUrB-IEPUGoynwm4MXDYHJDxyTwtRG2WKKsH2ziBRwGmdtLiRuytIG+faYsB9l1iuBqo9mb0H9mPFA5WAHCNXMkDsUOc7kTgPQPNkZzQ54cnfFkDBkOFIZuiEOU7MYoyw45Cc0-LAi7Heiexbc4OvjMn5NyVRX-EOaYK+rdS8g3srqr7L4AtheAMEWGdrMdBOjCQo8+8a7xjEHyfRz4v0WMF4AbzBQzHKioSI0EXhL5IgZjobK5EmyG4kAy+bUy3kkU75qMzeU-Kr4vzjZr5d+YiE3m1MWwZAqRmAHjnkhf5GYoFIR0diWwPe-85jivIVBFySxlwsXCWMFAvSZgGCted+hwVnjZg36fBaXPjAdi8eJ88eUvLmQZS9YXhHvjGU2ReEekAUhch3xIDPgAeIMsvtqhBljoCpsWARQ0Na4JCpFwiw4X108DrTGgOebsEx2fE1tFEMigoVDlsRMKMpi447r3ycn949FDgBUNvKWjohMEspWaT-l6mJx+pMYQabohBmJQhihAH2TeJZ4FgiFRcg8YYt0lUKlomCegN5kpguAQZBCzYBeMYp5S1IRCjxc6O7FHypA1hUYL6Nrzptjuw0uabFksUBFwlYRPsXIAHGAjuAcSr8Srn+HyoocGU6JN5NTFl8DJaI0EeyCIIZTuChxLRdYqyXgc6l7FVyShOQY1KdJ1LVMeyIbiD1mAjXbgL4ucl40qRDSwEYZOaXkj6QN5dpZmAMkjCyRYRDSR5PP5ohpl+i3pSRSbE0jqlAU6JDMqMWjKticy1keyP-wZKTFhykxdhIZH+xRpr+PYH00JBrQd+Lypbj5EeWNd4aO83aAzPNDfLCcXHcZUKyeX1cAVpwO5dNA2o7AoVhJTvgYT27IqPlBQw0EJJjCvoe+aVJ6T+ko5ow1kR6Bsb-F7HL9ZAey2qS4CEnrtKJS8anpHIJWQDbJ6MzQrM0-SEgZJz6RFNyqMKgQZ2J2CErZPeUaRHqUkkpf8G0i2SVJgI0FeM0CDyhFJnk5VayJ9KZgIurKkZTSPFW9TdwUq7EdnxJmLyLyagdoMwAKmMtmV4i4UeC3EmOhCQIoIJfwpGmJRZ8nKsBa6tlwu1zFQQflVDCWCPohVwy5IcGoSAKATV1i6VTi0ixyrWRGqucgFO1XTRVVvQTqGmtJAZTM1-sXVfGH-K6KsgejY1RCQKnmq4+qQkOKUSTYn8E17QBlY4m5Vl8RyAUllVpIAUUYm1TC7lXjybW2Tu1nkxdOv1bWWcDV-cG1fSqlUOrw1o6-ZbLhcWv5M4mkzyeMU4kgSwJkE6CXBPACJRt13EvdXxIQlsDbJfgGkeusnWih5icSUkCyBg54Dj+E6nRSNMWizq7VsUhdQ+m6WDE11ngLWDUplDbqIJvkAADIvND1KIMDZBug07iPeZa69UBusVo50hj60tHipMJustc7TfHH7hxHJpCNqIuAiKHw1lAHuE7VZHLLngXt5UURcjaNBl7UbIY30+jQegdoL40oFGxkFRqI2JC6NyZOAjxtGj8bBFzsEjS+ptQLxqEygXjaGnE2sD2NY6M0JoEaRawplhGiTY+SE0FDyNlAIaUxrKCoUcVSkDtThsdrGa+N1mlfDfPjqYi8eBmoaYxuoAKbdshAdzTMMjyNJ4VH5MjW5rE22bTaVcrZmZt6q5qR47ARKsCuO5SpnNK6pNjxsM12T5NzGt5diIs1caFQomhurlrIAqUq+BI58USJWGctSRjw80EQVi3PL0a+WkkPVtNrSjpVm9diDgz0bJaXNsmnhGlpM3cBGtrWznOFv-iRahuQK9JSCv5HyaUt0zH2Gpqwwi5mtmW1gY0pBHGTTwYdMPKFt1CSKatCK+bcaT83JcQtZCjqq+KKXviSlHY4oG1pDGFLl+l21NXXJrk7Bg0pEWYOFouiRaRuMWibXFqEIMB1NqQWbUnmEkzsvkW0kWZxU7wiC-WmIYStOFVYowChDvMHhDxoyLbwtvYWOosqaXrbfQm21yFwDeCBAJYNkNwGDHzZfI2xCXVHLpSooRKaG7YX7lw1Ll19md0Yo4udkb40A5IaFc+o9hqpVya5vQUkKjoD7iwZuSnF8XjDfHSr06GpN7a5E+3ghIt4up3u2V+1dhfNk20AOrvR1rkIpoEGEI+n-o-0ZQAATnMCqJZIADeXdRpt3pQ7dBk4jHrCEJBqE+uI3+CLRz7IQaA8lUKUGt6Bm6ik+XfLj5DQCR7s1AQp-BzhD1PS1A-MmYCHulUsA-oTIoEcYl0o0BYoQKTWe7mD226f6qe13ahRN09andP9dkUcAUVKKydTcW1RlvmWsCzNX29VSPHkU-069Wu57KkD81Soa9Xe1wLnmooXkg+KgKZawE6gdgHA5MBuKcytnog9gMoUXjdjcBk8LetShzihFA6BAv2pgGbj6t3x4ppAc+g5vRysgNxjK9kINfHtJAxRYo4+0AI1zDWdRJAD+hKJzrmFF6ikR3Z5XsG1BJREaEkZCFKuX6r9e86-SFTyuFxvrYpLakdcOoNWNFmiAB6NchBP1n6HcF+-eVfonhB6pAd+h-Y9lsnBAoDEEYgzFE-1CyqalqzYEQcoPP7jufQLcaGmdyUHo93+yvT6hKUc4DJ+OjbWsqIaPU-9CKqheTqoRU6JYewbCVeo521luC+GHrntoa5TxztD2+XeOLlzu4GFduOAiEDoDBR4YU+wIJ8tmbL7CQq+8XuPqMAIcd9b+hKgfopqh0by4xFQ9MrUOy6Ltmh5mBTTFrJoqKhWijKSCCjxIixWgQMW4AMg4QDc63N8pPqNaU6sMMh6joEd0pjkWdih3qr+Lg1Qbz1SEn2G5NQlDLjljFMvnhLImETqJzHUiUJKjglGA1NEiaHRLQ3lRpNNAZidOCGUcTAJTAcDXkYEm7g6jwGi5VGoWWsi4pDhFZV8BTWMjBVckxFApICX5qM1qk51rMfhEcdJuqxlVRFs31Hb8us47gGeIAA6WAAdSUKZzgHcA7QGaG9vwZhNrQ74cPdpEwOvk2+4+g40cdOPnGu1Iw647ceogXh8AHYXSqcH-IgnQAAAL0JagAzjMwf4yvxuMhcMjDx6E3p0iwvHSQbxxgK1DIh4B9DooIwxeEOOXGtYAJlE2Izi7b1+AiVdwIlWICJUBuJgfLmCBsCfGplpJ8GeSaROAmqT2zWkzqQZNMmZuWJhKEAA')">let THE_RULES = null;

function fetch_rules(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_rules(pattern)
        : get_all_rules();
}
function get_all_rules() {
    return THE_RULES;
}
function get_indexed_rules(pattern) {
    return stream_append(
              get_stream(index_key_of(pattern),
                         "rule-stream"),
              get_stream("?", "rule-stream"));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p40' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Add-rule-or-assertion!</kbd></span>
	<span style="color:blue">The function
	<kbd>add_rule_or_assertion</kbd></span>
      
      is used by
      
	<span style="color:green"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      to add assertions and rules to the data base.  Each item is stored in the
      index, if appropriate, and in a stream of all assertions or rules in
      the data base.
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-rule-or-assertion! assertion)
  (if (rule? assertion)
      (add-rule! assertion)
      (add-assertion! assertion)))

(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (let ((old-assertions THE-ASSERTIONS))
    (set! THE-ASSERTIONS
          (cons-stream assertion old-assertions))
          'ok))

(define (add-rule! rule)
  (store-rule-in-index rule)
  (let ((old-rules THE-RULES))
    (set! THE-RULES (cons-stream rule old-rules))
    'ok))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+zjwKMFbCNs0UzGVyj1eQsveipYvieM4+B6EBJqgLzkZOVwFp-yH7OlX6n1DeSfi-nzJnvW72vZXwOGyBAA-LpyVfTSAAO5KEFFIcIiwuQ-3MAALjYj3KeREv6zzwNQTQihKJoXOBBeQLxNCEHIKAPILRQBXHILgMA+BmBsFIG8IuUxQBg1APceQC0wZoA4RDf2A9TTB1UEaQULxLAaEYC0M2GY16W2tiI6gYjSYwKCP-Vo7ROgtEUYEeBhNGqCIcuxDssj5Hf2GuYf+Bi2FyPEfoDRQR4F+n4bo14+FDFWPzvbPGnwcE5FUOfc6RCg7rRmF4+QoBUQAJ9AAKmCRErSgQdJB2oAaQgllBGSB4C8VJL1V6BD8QKQgzhgmhOIXw0gAj5AG3SU4oiATerBJ4o0Sg+AWEhBUR0BIyJ8l1PPo0GSrS1EDEaIMUA8hpAXWyaUXJLiin2NKZkl4XFOngTPtyExUjJB9PaSfCxYjrGrNKMo4gbQ2ldBscNeBn9tktBWaUYYgRbnmChvQRQdxUmVLmaAeYNFr7jLMLkugizcHTJKWUip8z8I1KCUs6+1y0iNOac0Q5qjNn-IKVC-sPyggXUVr2CF2JcFPFOSY0E4JVAAVefgsEEJ3mfMWP2Aley9k4uDrUtF9SbnDNGSEyRjRJmXKBXQBx5TJD8DBUFAFyyBkmLhaoFpiLjndBcei7loAACQjQsXYjFai-FWA1UMsaMSiEhqQXCpeDS6+9L9UMoWdq5Z3I9VmCGSMsZyrhoaouaIloZrxwwp-PctI-rQCBp0nVOgoJyB0NUCwbpmc9ShIxCyBJSTNAskJX-XSWRk1prgXG9EYSWSRAuowIM2b02FueaWnNihmAQhYKyAAqsQA0xBqDALsOgzBuoAC0XanG4NieYQNMlQ3hroduXJHbULEDxTkIpHiZ1LG5Lk8hRTJ1YOncE1QibM3JK0rkghRCwlroJAurd5bi1aTniEUCqhJwv2RhAxK8lkqTlZL-bGV6pCRDaA6KFqhw33vilIUMkQYgdgA8UHwwIb3gdgrPR5P7JCpPFP+uDq9cmCKKbBgwkqcJAbHFS8phh-4snfaAeBgjtw6XIZFSwxIQVvPKVkyRfyinkIYxkpjvrX4IqOWo+4xHQAVGkORgUVHGZhDkcaU0zyqKREkN+x0qg-SyZjKvaVIRFO-twcpmTxa3Qxt+bQMIoBMNhK00hoVKGVP6ZjLhoIuTSA2EsLWGzJ7Qy5DYKiStQQaMefo4430emCRdv8ywAdaQD0guLMF8YoXwieeDGm41bnxgvB8aEgAfItZziRJCpbQmFtljqOUuo2MMO2C1JOWF2ovBT06tNPzPuh4zRDw3fSKQfGix8v72Y01+xF2nvHtcUMQJVGiMPlKKRZ5D+0Ru2F9Tk1rOXGAucVnfMLoSfOBD8wlgL5Sd45Hi3R8Li3zBRcC1fY7iXLXDWNVfdLhhUTZac6tvLG29vRt9U6zlq8Ks8N1EfT4jWAOrx47R0DBF2IQe3DkIhAAVAAEgAUUkAAQXAOAZHAAleHkAADyAA5ZAYThMDDnvgKwdD8uxeM6h8g30XjUI5IB6kQP6s-vp99XZ+yyFWA546a4BX6Bc9GzztI8CaMqE+rT+g-ddRS8qDTotBITKs6BEj1HGOse44J8T+X-IaNaaF7Lky82xtg8vLtk7MrBuWYNih83+gYsq7i2Fj9cPQCa8kNj+tAAZZHJOhNe3JzpSnEa3i1ZyGb2CjOmAs8t6xdnIPY9i40f-I3g3rhXxjwztPjRJf8+l1H6cPiDdiEVzMHPGXJEyW977gP4By92Ezz+7Pi9c-c8T9SML+Xi66G6KW63nnbeIdm6Lhbt2rVpBZFd93zuh-87C1u99h35DXeJFyEKeAkIMGoawdgcBEDIHQHwHgAP+TyBpRtDc29hnEFmJLB9NwpiNVvwYU5-9JiYJmOavspz4EiRpR39xdeck1kl0IGxqJFgrIMIxQJQpRSR1Qih7QH9QCJdgQKITwQDP9hlPkoI2E3x100xUDH8ADgQRxUwcDhp-4r9epKDrR39SD0DbFgR3o39kCvBcC6CzpaA6oppGw9ggJdAyCzkHZiQVIRICoNJ-8aC9RDRPgkJSUJD9IYIjJFATIQCp9p8ggPJ75H4tD79RCfxADgNmZjZZCfxaD8CqYLDbD4YlZ2Y+xmDyDA545LDGhrDepk5Q4mCjCWDNF542xHCqDOCP85CeCQZFwQjGCwiXCxDC5i5S5iDqCrDiEkifIeDCANokJh5j5DCRCF8dCdpbJzUTJB48jxhNCwjnd-CAiq1Vs5ESDgJG1m1W07AhQ9AlAHRQAe08CFgMoP0dJ65pAfJhAXhB4JFUh+sQQIgWB6o-pJAlDhBxs0gZIRiDZnRKB5jfpFDqpVBxjiFGAohZZB1SsQkZiyRWglj9iViY1eV-lpBD1+iaIci2404DiSAiidCTFHQFBDk6IH9wRaAYpttp9ciDIORjJPixttCfjhpJi4T4TGhciRDgSaw7g7iztwcIo-8XQrZwjVl-5cTxxJBHx-i7h8Snj6jWCNkuhcMfsys0hq0mjDiWRWiW020CBGZ9YMFeje0NiIt-s54SiJQyjb0nQ6BmDslzIi5lNjissXjsiFB5Twx-CIxNBbYL8xBIj2DBDahpTa9n9IF3hMjr8VS9TZiuhG4b8ajmCaSzAvDXiLS+DuoPoyTjNzCCw7T-DCUtFzSkDDk3T6CnjRtKI-pnD-DxN7ZIj7CTYpT-D1MmkZUpBMpNB9ZDYiYbZVjShek5V+lytzjxBkyBITRFZnYYpfZDMggZIsicjwQnYooXYa4tYnhCj7NGSuUJtlshZGzHhoCQkwk006yVTezyymzKyJY2y0D7N0gSzwpgi-8xzIp+zzUczhoZJlyUQBzZyzjnUuzVlaybDzD4ZVAfMFYYjTZszpzH9dzHVyteJ4lgZbISBqwuhVBECpiFxqQLJVBJBFSWQIlXzXQLQugYkXhPy3Eqt1pp1qBCECCDwYJVc5xJEZi4y+xqy-k6Yik4zLzqimwig7y1k0yMz0LfZK1-5hNK07F+9Dl7gYKxR4KsCqiDiGzxyt4WzTY6UwS0g6AGK4LFZmK6ceKfx510KLyKyVZsyBwOyizXU1khL8hUi5CAJFLIDsgMK014EycHyqoYz8CfDmjCiWsnxQA04ikfD9CfIQD7NckIUGAwk+K8hGLBLCCkKWK05fVclgL-R2kHLwlFYXz2QQLNl7LuNLwRylg04Ix-j6Q0TmAMTSVmVRkkTkTp8fLkwugEyRK0rzBCioLdRIi0oJzQiCK79jKjTWJ50SSvkzz9VIqtlojpD8ifT8royFpIiGDvSyrhC0CTKTNzUikGquqBzKjZwCiZyNhqx1Lf9xxdNfLRwhQMJIzzVmD7MZJzV2rCr8DFKjK+rJFpqlqoC-81KjqNKtCNEGq1LzUxqlLWq0DUr2zeId9qo98aFD9OAT9eBOFtSI4F5TTVAHR1dsxMhshch8ggbQBCV-4ei81XgF4Qk-ThlGiIQHRY4sgcg8hhknQ2EFAvVNh4ZKA-oWhYEhjGZ50lDIT1DhYXhorEzKrtpAEriASkIksrUqarANDaaH4hEoy5YA4pBmb6Rljgaq5n1GR8AHwPBrjWaW5uSBYQQ1DObhYDjRbHpQZJbQBDpm95b4wrLVbu8KZ1sNaXgXodbUSgSEqYp8A1bgYnpNaIYtr+RqrFy5rySV4Gajat0aqoEXh3avAdaQgfalg1zDaI4n12pVrgJg6957Zg6PS9BUxQ7Pas4VwiI1yCrL8yAg4zRohATZh0SYoKqPQNZ8InrKtdRlzmdpRi7vzFR2Jy6544Yc7PhnAxjDI8F6b1g667BjVq7O7G7cl3gJw9YDZ4qQTEgikdK54KaO7YCGwEyyjRbjUzqUqPlxwtSw8O6ZqTJ+7fhu7Y0Ow97zbt7xS961guYe6qk1Bj7HzGY-iB987C7UxV7F6VAEznATQJx9qS7tpdAoh3h57sgzY4achohAHPkFETF-5jVZ6OQgG17IHajP6Lp86HTRMwGAG3gEGzYAAeXSf+iB9+9Bx05GmtLdeHLIeQ4gQUI4qIJwFWPJJIygLoeBFkUAAAaihuRJA2iEaXTmslGUMC4eDGAk4e4fhN4aiH4dUCQZIdExZIhBZEoeoAIHkGAToYYb0AYH+WYdYbEa4ZyqkZkdfuEeAlZHEaMfCFAxkbkadvch3U0BmoHIQcNI2B0hEJkCyEslrtKB0icskkEbfqEYxSvrfkwiCfkbSFoIfy8fQTqrSubuoFzqHnHsSvyp4vgVXvjTCQ7FMZyrMXYiQZyqyZgpzhwdqN7DsY0UDTnJYREJycxBHvTLHstontlGHJRtcZaOIEyFaCEw5AiyCE7NCfMFyX7qKSrrnqesPMvACYOO3tfoWZZ1SqtX7oHN3o7uK2GYfKvs8YSR8cmr0t4V8ucb-1Xu9WkDcbiXvtiYOdvR-pRIkzKdfsua-JMXB2EwqZ8xidmDicshEqSZSafqttTAyatSycEcabycibBP-g1Q7EgcuaicCPma4kidFTUGqcGQkdhWTIabhuHt1haZBfafTE6fIYuZ6b6cOQGZJH5OKQWrmiIpGfkqW1MombCSmfgZmY+bmbKfWaWb3tWf1XWbPq2bO3vLuV-qBH2e8YedvOeqoVeqYAPygCPy4FPwwF+uBC2J2KJr2IFhhKf3w0jnFsxJIFZD1YWM5Dlutd2IUziByEDGIJWPdlTvKbuPHWW3tYNZuIFn8oAkUQAhZCVFEfMCVD2W+N0MAS7HDbMC7CjaRJDcNXjdAENSTeDcAXzDTfzEzdKBDfCdEfCeGmjcCBDZHUPEFFEcrbAVLeTcAUUfjcUdWTLfMBDf1HeHy2cDoGDE7cj3AgYEaDbbMBDY4bTfMEBpeEFCe2yx6K4dodABHYCq3S7QnbMCndABncVJ6N7UXeXZDfAtKE3e3ee1AB6IiS3bMAPcAWAHXZYTRq3dnfPdADAH3YbZ9AAFJ72T3n2ejP2r2l2P27gWQ80J3f2d3GmZ3gOt0ABCdEcDx909ud0AeDsJaDrNn0XBn9pDv90AfBswDDgtwBXB1EddiDs9no0jwjm9n0TLHD6dvD7LGjmDlkTLMjl4IICjlD9jljzDkD2D+9l9wIM9swWD8wIGxRJdH1uYm1-1vW1+rbRoX8pUfBWTh13faT0y31xY3I6gZwAAK1xoco0V-OEEVJTfU4NdEYCixJFbMB08NfjFliwH3Ss8WL8TyFNiKQAhDbpJaFEf8+XdyvbcAUgGIDaTkGrc4-C8i-1mC5C5XZZH7ckFgEgHjZS7S4S5C47dgkj2RzTZS+R2y9ypDcJyUEJ3vfK8JxReny05M0c4TvSlrEU+82U7lKaTPaPtqMa88+0fq7a3c8+D68VjKKU9KDM8VNs7pXTaG6a+fC4tD0Zg2NmO2Lk+WMtbofzFFpW-kxUUYFGNA0kAM6UHmD4oiHTISYZUa+2JLmbNda+Ps6CEHm276CCDvvtixQgLSZilFofoBJ+9TErXrgH3-Tm9yNedxZ+N69ay853pK8CBB7osa708M+M5eBytm7W4dZG42YR-MCJZItaYLtBYDt4k9yJaiCDk-pmEB70Bwq2Ccbp7uG5EoV1tV1VbYHVc+u4EwB1fJOUAoEkFhjCCon1EYFDlAkoDRTDuBEcBcDcACil9ZXqMKcQSIiqaPGl9wQHHEZZEkHYa4eMfwB8iV615V40XgTN7Ah17luqH1AJkhLxptFA3ebw2pCUFICcxYCtg2nuAmK9+fYYC4eUy98aZZHYZI3YbYYsa4c99IHx5-Aj9pjDE3sZhIAMguhd7tDoYTIqIz6PAul+BVRlY6OseiD163XEft5Eguid-fN-Pz+IEz87smPRREf0BZB1oL+Fk8UUBYFVNFvCcH-T2AmE1TQLwdmSkHlhBhFORTMlC9nKZn8gwQTTrUBX9Q4TXfVV5YQ7Bn-D-fWhsWloHCE98VhF5PXF9Dhn6RoX5GJtJPAP7hGzSAKWFRLEhkJX-QZIyr64Z79QZTAB++-Y4uUWOK69DGeydhobwFCCN4CdkaUB-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-dWSRD0g74ciSOU-3jE+iPiYBoitKl33779Yh+lkMfrmgSKs9xenyBfsv0ClZcxCEA6QgIM9pn9rLQNHYrSDn6yDvaMwZsDNkMA6Da7IiXHuXxzrtJuOjbTOq23wl39ngq7siRJ16AydPgt6eliZ0EBn2j+VzXtvEN+zog2a83UrJSnSstVYgZcnkDoDAI3Ao+whL4mWyz6wk8+xfaiJX1Z99DRCERpvu2bjMO6-leQ5dBDAi7Ht9GVQyPPwxfN+6Fm-4WyFUZfTQMCM2CEoFTQqoghkQ7vZVpENUANozhtMT4dqK07pDipWQ5MIgOtzoDWs4XJkKbU5GX9pDDI3kdlxjCMj2RkozrTKOy5tZUc8+NVmkyu40I8mRrDkdsrLZsga6xo-QCKTe5tcOOPHETibwbBejmOfo3riDwpZZcj2RUh0ZgNVE9p1IGwQnEqPxim1X8VePUdbnNHBsF8ryu0ekCQGO8PRlHD7n9yB57M9eM4xMeYEPZNJMxg4yXlOKxoljmqnAMPoHXSC3MqgOpQAB0sAeRhdb6KWJyIB+b2rdox3RT6og9wEFA8k1tYDB3jghz48Fm+MOy-jAJ45UCfwAgnUMJKQgGalqK81jU+J0AAAC8ZuoAP4890BOAHsTOA5I7zXJOQnp80JkCBPrhNaQ9UIwNihrJ0NuBPjNJv0XSYH5IcuBgCUI7HGsGkBrBAXfsNIO5B4BETlWgU5idpM4nRTSXCU8BGcBSmZTW+Vk+WCAA')">function add_rule_or_assertion(assertion) {
    return is_rule(assertion) 
        ? add_rule(assertion)
        : add_assertion(assertion);
}
function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    const old_assertions = THE_ASSERTIONS;
    THE_ASSERTIONS = pair(assertion, () => old_assertions);
    return "ok";
}
function add_rule(rule) {
    store_rule_in_index(rule);
    const old_rules = THE_RULES;
    THE_RULES = pair(rule, () => old_rules);
    return "ok";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p41' class='permalink'></a><p>  
      To actually store an assertion or a rule, we check to see if it can be
      indexed.  If so, we store it in the appropriate stream.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (store-assertion-in-index assertion)
  (if (indexable? assertion)
      (let ((key (index-key-of assertion)))
        (let ((current-assertion-stream
          (get-stream key 'assertion-stream)))
      (put key
           'assertion-stream
           (cons-stream assertion
                        current-assertion-stream))))))

(define (store-rule-in-index rule)
  (let ((pattern (conclusion rule)))
    (if (indexable? pattern)
        (let ((key (index-key-of pattern)))
          (let ((current-rule-stream
            (get-stream key 'rule-stream)))
        (put key
             'rule-stream
             (cons-stream rule
                          current-rule-stream)))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNBiQuFE3NFEEtAoLJcgUQh6GIOhKF4mJAvdVJ0gUFgyH0CappqWbwlAAAfPbFNFD5SGqMQNsULaZrmmIDqO1IWDkjghAuybpp2-bDpfZaMnGy73pu2I7u+sUPzVKVNoBp1zia8wRpcxsUOIV6ro+iJCgC-i3Uh7bKHCgbkyW+4xAkYQGFnMEPgUSgdj6Yn5ovBI3VFBCjEoanwgAMk53p+kGKmbuEoFKDp5gxHxrBYeSZbyAUZGceuhnFtFMXSfJ0EUYBiy6Fl4hCphy4WMMXxVvwRt8BkNJdc13Glaxlw5n0CMFZ26GCZYxLiAYc1qDEOg5dmtnTroMRuGIAAPQhAjcZw7aZtENfBH2-YDrTuBOs6w8j6PDFj-GpaJ5P-eum3FaLBb7aJ1XanVucXZp0Si9T-XJcNtym+uhhjdNv63tt8vGYEx2I2HutS9d-kDcG8wO9mhgkYYCOo+IGP6HHm7iMW0fbWd-7bcn92htSCplDYchKrXgW44ElXyBJmuKbZ6mLJLIQQJPs+L7oeFPvu4m1cfgLCyeZToOgYB-c+2Vv7hDulPQmECv5dxNo9MC7MN7LC3nzJ2Y9t6oI5pMN2BcEFQPnlRRe2cV650vmg+amCRgRkwjQg+rdp7S3JrLFgwhyDkOXqvOgT90GxGVqkauZNAFoIsmfVaXCeE52cC3AuUjOHcMXBQOWo1DACNoZXG42Ju4oIYBbK2ctuC4K0QfRRHCZGPWEL4LR5c6GDAYWPK+zCC6ikCl3ZgWhU72L-MI-+D8NZANEp4j4VBiDN0IW3cwnil5yOoRzBxlczGuIlu41Ibw2Kok6H4zG8cq53wAcEiRoksnUByY2eJlD5EwK+v6W+98xElOfmU+g2TnA-HCT466CiYkuHKZUhgy82Lci0HkoRlcKYMECDIAR3A8TRNYSodpFTOmNkpG0Asgcr7JIKdM2Z8zQCknzv0lZIg1n0B+J0UaOsaA5mRrs-xUzQQzMqEcnQbsWGE2OlsmayhHk0L2TfERRSglzhCeCYw7R-l6yWYTT2Xc-mOEBdTMIwK3SPyhcigF4J05oLCKc5Z0LtkAq8RE1OminmxAwSkrBjD8FEsJlUUgHxyU9J2QS7RBTHYC0JWcb5LFo4gW6ZE66VKuUYpcAyyg-K4EsVFJEzQuISWwoEei55BTRTpEyOq+FCrUhnzZaK3xfLuUgrSL9bBD4uVfIyQwdgHgvATMmVq0FTTa6U1KeCR1ygvB9OWb6rwDr8C2JdRXHl9KXFMPSWc0UGhCAgjGc4cNATRGeqOUnQgibqDJvoAG5l-TZE1MSYIiNQ8o02sZQKgu58xDFr4RKpJmqK30LHjKghsblmihAfoJe19mbuuKXOJeFligt0FUfBg1QKjhwdPoDiA62EZxDkMLBi66lE17Y7DdXafkfnDgwIkFsF1UAZuebojId1nr8gE3t3RwilHBOO0AzRuh7pYulLxgRZY4jZN0UkA9zwtSBOlP9mZfAnPyRazs-NH2gB1WwV91IP1TtIBkQFFKy6b0ro04dXqsOzQsuhjgBaWJvFPrwKh-CSOFhw5GtttpaMWLObRkNYbmMDwCYh61WQIzMcmCGUoWLOj2XIL4ER6G4UhmaGY-jGHO0CoalLFqchFAQBgPAJAqA0C9TxIfcwxAUIRPXmHOgOZzWDvVqNXJ9c-TTGExUhGpD1zyz3oraSzRtXWzs9JYTckJJIJ7i5gsRhkFm0MZbHWct17WDMxZzzRNiGoli35loa5wEmE-lA0zLRzP2aMoXGOKcS6+f9KUIz1zivF0DvXeLBWlKikGes1L5X0s-Ga1c3uqMG4zQS-6LzhqrHcOqXw1rBpSiIqljOYbwzIHqLIJouzaEdLTCUdY0Ndjlt5f6waQbSKYUovGwGdrjZVVHfO2Sk14rYv1cS6KINx2HOnYdVyZ1dWdsNdWETMJ3ixW1fcztNLlXGy-cI2CD7fWvuxH2wmpNOWysTcENmtgdiQcdHGVLBt1HbufZW9BaZRikaaLrdj5quOofQ7DC0UgplctWRsnZRy1JfCzXIOHDyXl0cRInbWlHdjkTcDrRq5Yr4WanQUGsh5DBpvIl-AqRacPcRR2oJL+5XtZcOCF6QMQ-LYj4UIu6YUb5Mn-XKDL-p+g5cMxiOeaOGQyrc8x0WmxAuHBxcMqtiOWgRCL3M3BegvjPercTEW1RusNFW-d-jkPoZhcx9jwaLHfWA81bBNbw8hQAmeKRqMGkbA5qe9KDnshbwfdgntwXqn33YM0QNyeBUJlghR7oBZaytkHIuALpQXwJBOfI8Tb4Qq+ulOKNeUTqimil6GHqwPQebpdH6DrYCAAfKdjHyM631azoQOVBmXAg4YJ1nW3Wtafa47hyT-BVBo+M+M4-PwRm5pM9tynikKt37cxcoZmzDsQ8B3NHdqGMZJ-hdN-ust7AXmQHctQA8hTvlqhoZhlpdqirKrPsRGLqkEqj3gdqSqgRMHPq6gJLXuSPXv8Jgewsan9qaraoQS6JXE7sjCylQeDnqpwFDn5GQXQeclSMwSKmgiFvFKAIZIwVbnBCwRyl6minFhwSGBQSXq5mIayvwdTIIfLn2ItHwV4qoUjH5PGMeERIZItIfigfoMHhXBIf9rKmwbIbGKQaPmcoTpbA4EXFKNFivEuoJBoPoAwKvqJJCC4dVrUHCNwO4XvpOuYIYNyIwPgPwJlqfJAqiEtgAQzBQaYXZjbrEMBgSoyCgeylYckX3IrHoUQVZtgSqjivgdXkUKUIhuYWsNmjNPzNEYYnEcluTloddpytIR7onrEFEUIK0e-FlokeTuYROIiqYcKvkZSnqopvoQRA3isAEu0WvIjm1o-KsYwPombLFtUchohpwQ4csofo9pDvlkBsVKAK7oyEGuxltikX5OeHuCBtSC0bEcMQkV-Joq7pnjwQIIEbnH7LUK8U4aDK4YMC8X8cYaAa7lnD7mTCnvIGnjOA2DPuMX0dMICb7OqDPsIZiX0ZTogQfhlmDpIbllDhfgUoigoaFuYaIXEhQmNq-vlnamcofrPP-kUURufsROeEjIyKIZyYIWTmsSkfVn5EXEFgYrnsKTsafrbJRK5hKdBm6LoccYTIflsRSRccRFKfKYIfoFsdKbsctiGKIcaQvKNjjiyRZgnjELIRFHgCpq1Oph1Fpt1LppYPvlXOhiLHYuHJ4Q9k9P0PwoGfiW1hzkLOyFJhGXtjTnTuHBZI9GbKGS0JHCYFoMIAECYMQLAbUI0LzmclNpbuHgtqytwHCbyaqQnHOOCJDOblLHiuMWWZIItpWZtiqfKlOg2b7rLkGUOuCuni-Gbn2f0mRm5Fjq2ZHjIJ4Qcu8jIAsvqpOS7ptlbnOa8ocouccsueYMnv7sib4rOVSQJPOXMtuZ8sSV4XcLSV-uXhuXWbeXiucveUygam8vHIaUjAOYEs0nOEjMRvbIIRObEkBQvGXiXN+SeW6GYt+WyScY4F8LnCHH7jmKnr4pSfRgJBGI6REV3uISBHINbJhTWbzCMLhQXP8khV7CwALmolwLyRjFnpXKzERSYp9vjOeCLF7OUahehddIyIcT6VNvRWFj3HicTp4azPKRJZPruV3vRSabqFbvRc8ExaUQ7FgmxdRDWmctpYIZotpWpTSsxQUhGEZVed7k0XxYeSXDJUqXiSwOsDxbqaRRwCHCLGJSguitGe5WIJ5WuEsKGKUKzCJdbPZbmJ0GEJWc5ahdUc0H5Z5TJeEAADzAgzT+WqD6CBX7G6QJnN7ggAAqckXhdAvgggOuvAlK1IWIOaBZokoAAA1HGatiumIEKHYslU1aJBZN1RiYUG1R1dlVFYJhOMZLTgVcVfgI1MQPZBVWIFVeKjVSjtQPVeCH1YnoNTIJ1eFrqOEM1c+etc1f1f0ZQMHO1dtcNXtfBYTPlIQEpYafKegeSJReZuTHJNiCRSsAXAMfwhFTldwaZRajxslSdRVm9eiNiCdYUFRfgMhfWkiYHiXG-iHs0PKSpECLyrtUFbHrMFgjldDchr9bxl5WbNFfeFkDlX8fGHIcbn1hjeyHTLxYjWnpkQ0E3tOE9aJNZI9OUAhrrMPkeIsYYX2OeNpYyFodpX2ggUYZXMTfpTJSpbrL0ZifpcTkrXLM+PRPYUDW6H1u9UQNLRZlefqbtY9btUqc9UiOyRDR9UbWzY1GcsTf9SNYDRpUTCDdjblbEODTmAbVDbHrDfDTZUjYHCjdBGjbtQzVjeJd7SUP2CBI7IFUqXHTDm8S9JhF7daLaFTSUXhC1YKHTeZgzdxYvJNDgSzanA7TDRNZzRbdzXQLzSIPzXLP3pyYLfRAYW7bblceLUCJLaJbYaGItPLYpYrUZfaTpGrZPhrY6Hnf5DTbrQfrbYbbhcpv0qpm1Bpp1Npj1BgD6eLqrlLhrpbnLlKoUh6o-ILqJCrmrvmSBS4LfcfdOpNBwKnDlmfS2jBZWlkNbhLOeE-erhbqwqCRrM6FinMM+bEHMBOCrUUFihyFAzEByLA-aVighEg5OHBKg+A4nBTJgxTDg2tonNqr9M+aQ5kP6HA4UFisFImuJs+XQ2fOVQaNQ7EFihzUgxzX2GwzEFijcCLN7CwIYHigI6oEIy1CsLw8CInI1Zg7EPoEmaAL4OEACGvhzs1Sw9I1iu5PIzEIo9wCo34Rzl5Fo2g4nCEdMAY8o6o+o6AJCMozENo4nMAHowYEo0Y2o6ABzmAGY7g3WQAKRuPWOeN2MBOOOgDON1lCzyMhO2PeMM0qPmN1kACEwksTHj8THOaTQIST-jYI4IKVwTmTxjoAaVMQeTxDdZKVAIejcTpTNTFTUTBTK+xThjWToAa+TTyTLTtT3ARQ9TXjHOK+QINjPTEIKTbjCThQXjMQKTsQgZzoToADEuz9WOMlgIIYi+cw3AgD+ZwDyY-KKzR9QDWO+ALAAAVpmSBls94ciH4eg6s+rs+WYhnpPYUHs9Lipk6EVO8CVE8-s6-LNKA3OFirBs+bBtIwSXw4nJAHQGqBUkPv03Cwiz3lC9C-w1QOI7AJAEg2IwwDi+iwSZi4IwAKKYP4uktEuYlYoABy5AtLbj9LtLqd6EyzVxnzXsQLIq2NmzKwi+woXjjss5uzAL0u3LRzHLYrXLxUb8BlfL0wArfhrzm4PA0rR+srwLPzfOg+wy6rmure81FMnhSu06jA4opAqOZ0DAFz5AeYURp0mgZh6EnLL9iaVhH90e4xdaxrRwRQGpRs-E91ldJcnhVlvuIbgc5hCaTRC6+rRaEVhNarJzgLmrPLsd7zDQMbIgcbKbXzRa5zVzpgeJSbrr3LBl1LhQpdzNB5odc0EsHAAgpdYgXwTlVStbaeuRQbIdKJPzzpG9rp7UmmXUOmmAPpZeFApgDAMKHwVUNwpAzqIC1AT40FbCK0a004sF58y7fwBCQmZFTi7aY8S7T4coB1DAR11IZ1Z0Q1W7oCu7o10wsmP9w1972Eb5bkE0NwSK4eWZQcZ0IuS9ggygygVVGQJmRgQuIH8TLUzVS+IHDN4I61T661zQh13V5A0HmbfYSH+K51e+BcDgqixg-7Ic2uuu5HoMxHdG-4pFbV3V4IEI3VX73Cxgv7Uoi+pORH58xg5HBBB11g4IH75g3HrKXso0CgS+OuP5PGda0OT6iG2kT7RMj8cnoA3M0kJulquqEYcnm6ZienoAOTok468nBgjsan0Zz6SnSOE7mHIEM7sU87zqcnikzQWncOz+KWanGnE43mMWyeTJOOen1RT6THzVonxgTAZAknFnOuJO0nZ7BdKw61l7BpRi7hLeyYop-Chnx1E4qX3VkX4nMXa6jGWQwuUnYgBC+1nu8INnKwzQxXeUoIz5W+ZQdA1H0XpAPE0O+2rMrnJ2zX4IGD3Aj8cX1X2dFXiX3AxX3XPEMmRMbVVXZn4IAA5Je8vgdRt4t1tXYnJ8JyqJ1zx17DCqQHYmd0Y1hVZjxnLKtOtI7Jd5W9uCJiIIdcEIdXZGnI3G4GmIdbRvCI+zJM149wWOd3FhTfoE97N8d2J-N31x19R2V4MND5D6j3N091eba-a8oI6yBAvFHB4JQn2pHD+Z53mvwv2vuyJitRT8+YF7wjjv2th4UIvtj+sLj9QJoCKYTwCm4HxyT4QHu41x7cRaT9T4nOOunGbRl2L0Lwj0vFeZd0gmzoerz8T-2gPBQeTzlv2pkWLQm1HUCCGOl1FtbAzwkpT6T9Tf8Wq0T792TMLoyIvsr8bKr3q-b3iZV3ryUZoYbz3Ihxg-u6zDuvIHz8YI7-FxD2Yurw797FH0D0pOs0b6pPg8H2H5QjXMLot8nwH1Z+zw61z-j1RA1-Haxf7ygiz7EGz3axz3jzzxn-z-NVPtbwj+X6wkpaK571n1H5wV3RQZl3r4QYtFilLyzsFrLzFj76QV3cROWnrZHEcRFN3r3sjJr9d2wqzFTydo7Nv8pxzYL23ozp3umYz25D3iQA-S+Tduv6RSzEuHvzJDheLyLwf6Og3R3sztaZ+-QOXiIzdSxHNBpgqolAfAA6i9gDAKggwW-kBwv5r9SeiHIAXVEO6CBhAjvX7ppCqiu5BenhR2BBWBY4CABbkRFCwBnRnRX2O7DgEqQ3CrssG04E9hBEiquZ5K1xMgShQYGPBSBFyEOLgKwRcC2IPAlAfwOta55hBPA2gRGDEHVchBbA+tNUBlyiUOBDFIyrQKrCeAlB3ACyrpROLhwESFA0cEwILCaDVKtA0KrcBoqyD9BjA78sYOVpXl1IzAWaMu3GTv9tKMPJumTBAQMB1AIgDgKQAZgFxcghANHAgLn6xAKCvaIfmEIaDngpBtxWQWawUFy9bBmteekB3fAVBwYgwKQayxiCBhG6sRX3F4J8HCA-Bh-VqMrROrNAghdiKQYaRyE2986wtI3O2DmxwRCB3defI-SXA1DkehA7gL0Of7y9GhjEWfrLQKSK8QwDEBiItF6H9oryJ0foAoG9iNFfcFQZhl2DZDrDxMNcQwIBg34e0rUhgRZPu22G+BdhxIJ4ItxD5YJjhz3fRjBzOpLCVhJANYQRB2H8wnhssMiHcKr7QsigZwi4Sxm7SzQyAz0aXICP5hbD3h5wsmHsJk5HCThJ2SEV3EuFt8lwvKRZH8IMDxNqgo0cEV7EhFGkYRFwp4NiP9BPA-Ciw74ZhEWRuInaXw5YTIDPjsw7mWuakJ4WZFUAfc36JYUHGeECt2REwFAVyMoA8jqRknCUQiN1RSj92dREXniLBH9AIRJIwYIZF5SMjK2lIrxqKPFGMj+RNI6ND+l65EDDMug6ykKA1bvBQQkFbdgYK4QNwVBfJK4nEKBB1D5BUtDQRUNSF38OwYML0PoByHv50yegr0Q6JSF8g3Ok4MUdAQYACMuIdQ0QbIIh7hjvROlZfmcg4i3I4xVALiBxG4CpinRpFPuqpBkB1hag61fduCDLF7AKxi3LZLknzGsQz0yXPIWmJMrKce058U9DdH3bhsyYloykDaMDhNjCxqlRbvf3aGLp1OPMScdOAdFmcsxsY+MVlQjCLpyRKwCMAuI3HTAlxSQHMZxCyrXpACSbdCI7G3GnjoIRlBHtWPLHCAhOAbNyPDUbY5QJRijKSkuCUbai18iGU0QMj6B+pvYjAJAd5wwGohuAyvJscryLGGg-mXhQ8W8nzxlQ9xjAFcVDzB7K4qAQuMCc4G4CXjoI0E1Sreh0S5jxGleDKKWLvGl8faCGX6LtzOgvjti+olcYhIdx-iygUXGdBHB7E-llux45hI21ACFUAAEqSwYAABBcAOAFJYAAlQqpAAADytLZAECCEp4UZqCEkCeThQkRjPCVGL2FxPDg9jbkZnL9IZKz44SjQxk6Agjy-SdBGwWko0CgLsmZBvYlk94JSIOEiSxJkk6SXJMUnKTnJA4cyegI0hJFrJSQTwl+jfGGSj0WYE9ChIh5Jx3J7kCUUWWWRqhQpwAqyTpLTGeEJRMuFkYvmDwOiqqq+DEmoBMDBpBijk-hKVPMjRjbkukv4TIEkBqA3JYU7SdyOgK6SvkgktjLkAcCjRGQAABhODqSag9kGZBhheHw5Yo1AQYErBmmDTQRpARkANMKHDTmqeIYiQUg2lDSyAKAxFJNNIRvtkYXotjDr3mm+hTBS4azrsyXCXTaeJCBaVNysHYR2JgQdwqdMoErwzW2QBTJcTglPSc0FPadKaAQyzVppHAWaV5yqgLSUoL1M5E8K9hiY2AzqGAXxDdSnScBrYmoteS9gnSlB5QkGXNPhm+hDI-XB-i-2Cp0CnYgQVGZ0GdS79reO4mMsQEZnoySaevfYsZEX4613aKMhgGjOdTMYryFQV4aEEMRW9CAlEM6bpIHjd4GZwspmX2gdoRDuxjoToa+AbGU07RjArWdEINCLQzqBYNIfrjGHoRYh8Q7gXIMYBS1lBRE8YgElgyBjch+MssYRFPHhhlZIswMQkNEFa0DQ5wf8FwSNnpDUgW-cIOMVKBCy-Zu-OUAdHZmcznUOFRPn2GaCezjA89aYaRTjmqz5hj4s0QiWnSWwpoMcP4O9IYprgFZzouCa6NYG2zEhno-WVQLyl+RXwcQ4zpC24KLQHAHVA8QmIDlUR-ZtsiHvhNiA1z25LVLghrPoGdBfwfRPAJCBXkhhYhsgm2QILtlJCYsU8rQcsUrhdyRIsGQyPkIHloSNBE8xMSPJyGQR-wUEIypTJDGxsvRe8p2QsUNyvgJZTRVIGvCnlejrxkQUAMvNXkHyCkt42sfeL77NCjZxhc0Tm1fmdBdJS-H0v3O2qDysqhABcHeBgnu0SxQICBRwHvFViaxRC6idTl1kLpsFZnbShONSC9osF0ck7P2NLnDI4aucSuVgt2Y4LxxCo+hd2MICAY+x8CgcWXPYXUBOFd4LhXlJiAgLIQdCtofBEWQziiYrMQRWZzQW4g0Ja4rEUmzXGkg2ZsQTRRgr6GMLDF24HdAYonnfVVKN40hRWJNr85vY0M5GLRggkYS5sMYpIO4rIC4hcFPdOCafFDIuL1pM0XWD9IdCpBqgAM5sE8SuLGLyJjIT3MYrQmQTup3i-CRRnXA2lnojAZjOYsKCES7BpFBJSvAdyId7FxCk7PKP36f5p2GEmJTRTXJBLBi+S8Ys+MkCvj9RpSpCQJMkBCTRJDAGSZZAAAypLFSbRMyDjSC4rUhCbRk0S5T-FXQjiQZIPQRS6Apk4KQehrjzL1ltkgcPZJcWaIWBLk0HBhmOW0DvJQy0ZeMqCkgQQpRyvZbQIKnZs1R24aKfqNinHo5kiUgpbEHBC0ZUpjI+EH8I+XGiIQY-AFRhiBXGjAeji3VrssWUmCDhBU0UcVO3C0Y-CGJU1twloyNKHpXiw1hPWDyzL2piK9JUStsULDVc7repb4vQm+LPFTUtMbyNlj5TGRhUqgOiumB9018hkF5asLJhEjximUjqdlI8lpLCVzU8Yt+IHyo5Hlkq5ldeMnoK1NRllOpZdwZXncIxrKniEDKpCtB7moGSQE7FX5aqkmokRgnSvO4d1llGQz8FKENXu5gxucV+qdwaWXcdVso4AqACdX8J8B1hVHqquNHsTIBLiwxKQDFWYC14tUn8nitjV4zSgYa+Ne5IR5hrapS+VNSgPTXuTM1nU+gAzA+DBAIB7kxIYZLzXiq-iUUNgFlOjXvBGQVy3ybJPklKTwAfkRtVJObUBSJlA3dydwFlVmxa1SRaEpXHBAYgHx3ZGeGgJcWNLC1oAwIOGvkHlqxZ5IatWTHmUNrBlwysZW2vJBXLt14yxkKzDcU4i-Cg6o5SOvAXjr7BWBcuriDeAXNLc0+aUVkGfUiiCKVox9SiEF6Ad3aLM3fCwOmIPrDYLfADRILHhvrtBPyW9cqnAQpAv1yYH9S+qQ3vrlCcGwwAhrBDPraB-6gjqxhXjvx4NIGpDeBttCQbJ1LgGoGIAiRkxNV2Gg4bhvYkPr8A0S4DSiDxLBqlhP5XimxsQ28bZUNCseoyMW7MbolQG+gJhuSJ0BJN9wmGhqoaVaF+NYBGTZBGhaca2VXyUqBCCED3iLIVqy7s+VE0bLplZyYKBcxY11SiN7Gr1ZqNoGKo716GzDSmjM0gazONSwrIqMtbKjCRqo51hOH00KaP1Lm79cFuLYQ91NPEVTQM3iZmaLNeeQjRhuI2haBNUW1bBFoPhaax1pAQ6gFt8WMN4NFm7Vmcio0mZ48LKqUc8o5VorvCJK+iuVNwgNAKGr6+TfSpK1ZlrV+3KPn8qAgMTOlTE8FdeNsANb8ZHS0Af1r5GPz75BxX6KlsTBCaQ1+MTLV9xy0tabVoRYgNRq0BFadBJgfgPAKF60DRC7-Ztq2x+CRt62RclwAX057c9ZS8XGzSGqLAj0qtRUmraGF5WKQI4u28ZA4LfjODkYhNCbuTTcGE1sqmg2xqeIP45g8J-w-5e3iZzdCBAICfvEdSwD3zht4Ia7fXyRiA9Qu1IXrWNt1Wz14qkytgNh3S2Lb+AEILHUX2Ap6bVtSLUADTtu1UQfm54G4IeiYbiZGQAAThOBEJ2IzDInb+piAC6QoQugqU5k5oNwNl3BAfkcLmgO1Z5xuFwNGRGnV1YgXOuxGtzW4WQ0A+u21R-KWKhgtdfQj4EHJWBa7dV06UaAaOWGMIIeLgLyIshzkCyYgVuyXbbrxIc70N9DFRibTYBiYJMTAKTG+D9jFqHtXG2gRFsp0FNRM4mK-HrHp35gIkHWtroHoT0h6NwJm5ZLH1SCarqgpUVcGQEei5w0W+qgQK0EZCu9WczANXo3wWUnc3wnXfgAxyOBwryQr4B5KQFL2IsjOqkXOO5S0gO1Td4ITyF5Dz2+qMJ7oFvQIE5y6MEQeM03Rjw9XHBRhMChiK+FqlMAwBa0b2GgMdXqFpgyamacECjXedp12+7Aa0At3hDjc3e3vT3n70ELB9vSDXe7sF3iYIQ4+zyEyHFWoCoB8+8fb5HX2G4Ig0wy2dMFH0-7f9l3C8EhJagwHPIhuzXZ-pVT6j+VHK7lduA+2x4V99Ky8b9qcEmZWgEY-tdDsajxMLMsm9fKns1WkH8dIcRiUTt-HzER8GYjKR+qECGB7I60QvfwHPRXEq9QIGve7zz2noxOze0qG3o72wTeC9FV4rlvO5Q904BOrpeCtYO7TgaVqbSjjRkjgg7I8EtQGdGbHMApI-4JrrDyi4F6-mf2kg6Yi0oKGIeYOyg34WoMLD51Ja-NYwCXVrKE1GBY3KKEMnzpY1DtC9H4EZBfL4pcyWNfPXPCgdacncbfRKIVarYwVfI7oBZFqkwqlhKBmIFpsyM-dvDOR2WM2T7C9rvD-a+Jgka+kgRkjmov4mHPsIUar2xaxdT4bWWcY65VIFCYyCyVUYU0K6wuq0OCOcKKVR+mIVcUvRAgojuIBKeMbiNXEajncNjCkYBDQ10jv6Qo1Co4AlGFAeRngFTu2OAq0pLPY9RhiqN+Fljc8VYw0egVgHmjOAPPR1v0BrcQJ+gWHQAB0sA8awVTvplzBBJOiGQxu0zlDQRddokB-XDThQnBnjmqt42BI+P-DvjvxyWf8ZkCAnT07Q3gKuAh49BWYOJ0AAAC9VWoAb40UFeXonMTFBnoCSbBM6QIT4IKE8YEKhQRJYXB94LwenBvG-joAgEz1xCZjdE45AQ6iwEOrKBDq94yYGtydB4A4TDSnk2ib5MYmBTHjIU3WRFPJlxTkpwHoyd8hAA')">function store_assertion_in_index(assertion) {
    if (is_indexable(assertion)) {
        const key = index_key_of(assertion);
        const current_assertion_stream =
                    get_stream(key, "assertion-stream");
        put(key, "assertion-stream",
            pair(assertion, () => current_assertion_stream));
    } else {
    }
}
function store_rule_in_index(rule) {
    const pattern = conclusion(rule);
    if (is_indexable(pattern)) {
        const key = index_key_of(pattern);
        const current_rule_stream =
                    get_stream(key, "rule-stream");
        put(key, "rule-stream",
            pair(rule, () => current_rule_stream));
    } else {
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p42' class='permalink'></a><p>
      The following
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      define how the data-base index is used.  A pattern (an assertion or a rule
      conclusion) will be stored in the table if it starts with a variable or a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (indexable? pat)
  (or (constant-symbol? (car pat))
      (var? (car pat))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+zjwKgaok5k5XKPV4vTqsgA-NjuBgEhDD4MwbBQHAiDIOgfA8P7C3yPMNEbRuej2sQsyS8jUiTIojWPwYGxpJvuk5BfxmHfRYfY-5BAAFzAilKSdURQIGBAAUHagBpCCaHQg2aiYChQYTFBKWBfZn6v0QeYaBe55AHhgieH++hSFmAAbfXqFEaHwKfqAXQJDhrkMTK6Us1paH0NAIwu+kgRyph-sQuh3DgTvW-mw3+w0RG9TkY2PYQFOHSJ-DwmQxIVIiQKhpcBSi9SGk+EhVQHkQQwSMooEytCnhCOGmkKxaciEcJfloxoOiqbG2MT+ZRMxfHw3uMzY2St2buM0UInRydQ6CJMUwmYcS0xSJicCNKUUXYFgUV40ogSQaLgiRIhRaSZGF2LqXSis4EkBNAPXaQPkkmEA2khYeEkomeMcc40oO1bKgOnKoQe7Txj2NyVIvJaRoGKGYBCSRwEACqxADTEGoAAdzsEKPQSgHSgAALR7I4aAjKO8dINJ8sIF4g8zYZkoPgUAqgQjOkoCweqf1JAWOEP2Zimd6mVINs815v1zHVVUJc+pjAoiy3MIMDh0gLriHuY8qQZJWgfNBV85eZhzrkE2HQK2uLURHIWK0tubivndJ6VSwIjoFDEHpJw8EtAYpOOpT+NpBkOTGTBSQfQlK2UCohVC-lgrqVtMZcwGsdxMXcjSDJEIEUBmqBdASyZjQAGKvHJIR8dK7gqukIonp0DWjtE6C0AYMK4UIozOYGZ1AITgpZEslZ6zW7231poeQ+zDnnK0jC3iOk+kSgGSZScdApE-MrhZIZkLQCogAHzEvvgoGN4YPGvwjJoW219dRJO1bQOqU01G1AjTa+VUhwiEHeE045KbVEgksGtB+4z039icYElpdaC3dQ+vm+gYSclNiKGUmRzTm30p7b1L6igfqUD+p01+24dJ5uCSbcNrafl3IeSETKmh9aGyJjbb5NqFzUhNR0BI5qNiwvkPCr1W7kW6KdlkmKvssWlBkmOlNQtn1s1TL7J4miLWWtvda0hOKCDgmfY8bBXqiWsq-UsH9itnavoloBzxwG0gPoVW2WDYKoMoecrB49rKZLIcijBgZWGgg3rvZGj9l4V1hJCay1sv6xamyPRhxdpDhiBGGFVe2QbJAkGrF0VQsCbkelYtGyQcbE0sgAFRib4ZepTwZQBSfzvbOg61iBiirVBShb5qn0DnDanDUhV19nfdi2gYQBR0zjUzI28Nil6DGUOrwNHT0eykLu-dNnfZsYYVpr2oXQDQPrroZE+nDOKxYaMgjwsiN-tdqbfsIrRVmD03kBLxmqGoXM5FqleNPg2YVh5rjb6eICatV6k9vyKFFbM-4kxAEktoVwQ2WzrLoEVGkDRwTOb+R5pSfMzRPyINpxc3E1O1BvJ9hoxBoO614UubywZ6gRmuvmbTrK8wEHVP+kvQwIlImTvJgk2tlQ0LfmIdUGnCMdKGUvyZVKyxwc7vZZy390AV2LRdHXaV-7jRNE6ZvqIzJ6XB3qNLTJ6k5XCnbHw5Fx7+UxJGIca2yHubRHiIEaUjdNqIMDJc49wnisBkjJqS2oDGxqyYNFEqqnzPi3NheAMqRNGZLUYDYzPNe3Ukk8Z2p9n+G9vs6IaQx7UuaeGI6TjzRv2zAM8OHgfeTBWDsFPlwC+aAwajZ1pW6tqgHTL3LQt7IuR8gW9AO20Auz0REsrV6px0zGCzPN7HLIOQ8gcKdJQhQLQXiWHhnOrokDTmM2RxYzltjhYvGe6LvzExkoTQ8GipCwZSsJ6sHY5Pi3BQ87lgHFFWf6XooFmCy378-xr3wA+Sv9Ic8twIG3fP3L8B19Yo9UGTfQCHX7rqNp5Le-bWBk9QfL0R-8nFe9yVMUe8-Jkv3-ag+IZLtj2YlHth8M6qKKvh6GfNU0RpotWgur2+4aKUqgZE--MN-kslbnwEz+LETvLPDNPD-Wgf8fhPD3PhA-njmNmQEHGaNEHRIvsyqmFNmWpeL2OrnPBRofByIvJ4oAdSB2CgcuhAdQBdKnBcoZPIKWusGnqAKCOCGCqQaXsMBBu8BOHrAbBKnAXoC5oNgMHPHHqQVZBhOuiGo-nYNQRCD1tkIIeONmjpOgSSOziZLIfIL8BQb8h2Ioe3oobBgoaQcoVzJQb2OodvvbLSrFjAbMB9q+tZPClzj9qAM4CaBOFgYgX3roFEO8PwQ2GbC7rpK4e4XfKTI7qIaoLwRgeIdYaAP4XynYQ4WYWqlAj4dEO4WEWbAADwJFuFvCqCRFsaMJe72qqAsgAAqWQpixAgoQqTgKsAo6CDcUewEoAAA1A7v9qGJEFEHcunFYWbE0ZpiyI0c0X9q0dEB0VkXdm2lSp7t7kUSUfgPIGshUezNUZUpQHUX0U0aDoEEMe0fgJ0QIYYD0ayP0RseYFsSMZEWAe5FkGghgmEfhmEQjoEPgbMDIFkJZAgaQjpFth4RITYfCnZkEFboNt8X8ccYwi-C8dQJZMcTSgQVAUPGwZ9hDscdAmEXGhiB2MkXEdSgAh2Nkf9iifpjnMCaTC8L2Ocb5v6o0A+pwmia7liIFqwbAVKv8TSnkWIVYayEspkK0FphyH6qUHRmBj0hBooS5mgXwQzj0jJF8ZockbQRyHytCY8aQVofKSSHVgKdeojkCJwhCW8ZhgLvbEzrcUqvcRESoA8eYE8XqZga-AxmYJ8YSckb8dJlKfXkCZiaVmCc8SglCX9nDJAW0WYRYfAZ4lid4gKFYbSWxNnJ6aKgAhdIrLibYXfOGdogKISVxF0VEWSWMYdmkLCqQtSS-NGUwbrHuoyeYUvkfk1mkHauyRhJycQNyfSrySSN6vUmpllPmbRg1vaUECKaQWKYRh8hKQaW6axDKSqXKeoaroKpoSGmqUoT2QJlqZQbqb6baSFJrtVAfEfLrpwOfLwBgMbtmICm8iCjXl8u7BHIlC-oyI6uecCl-vbE+ZHpIC8iXNkm1teePDgZPERJituBBm+e8lrhdslIggBCyEqJpuYEqFSoqb0hnl2HBWYF2IhartBaIWhVQWCIwJhVBRnvmLhfmIRchT6J7JUJplRdIMNEhS4hnnVHQCXEoIKJpsxaxeUT+AxUENBfWWhfWT0rxYENBfqO8GIs4HQMGOJW8JJQwI0CJeYNBQ0bheYD7qAIKIYAmk7v0dxUpWYNBXsmpWYBpVpQprpYcvpVhRnhpi8GkGZdpYmrskpppWYAZYAj6MACZQ8g6C8OZTpbsmANZURT6AAKQ+WOUWW7JhVuWgAeXQUu5qVRWBXRlaU2U+gACE6IyVflmlTlul2VRK6VoVdwLIKRkVeVAVzloAaRZgJVFFZVKRqIJlKVNVzV9VCVGe8alV-lBVuyianVGVZV8aLV9lgQbVulo1Q1pVBRmVPlulgQOlZgmV5gFuiC3IIFEQQK75bSyRcapC0aSoLwoFl58YssW1LyF51e8YYozgAAVsHudodUXDynYDpdhdtReZpgFDKnOYEKdTdQSLLFgJdTte8jinkKbC5gBNBeemappvDZeh5WDqJRnpAMQBenIOxfZRjVjfrCjajYZRnrJZILAJAGhaTeTYTUTWJbBHJQAKK4Wk0M002o3QUABySgHNPlXNHNaZYOm1DmuKgNkNtY+1qIL1lk9yOlahURotwtUNF1wtVBX1wKfa6UtYIaB1jQ0aMtiav1WWqtV16tYtmW3BZy-yDaJtu1GKJAVykK+YwhfyJcBskQom9KigjSQZ91Sg8wemEQe6qgeeat75n5OQgYP5vK-1pQg8TtfQQQhpC0iZ6CwZ1Z1oztJhVeCJLKbKMW9KqggNe1XRLwSpxt4NnwZt8hbNgQ+d3QRdbc1AD1T1pdYOCtT4UNWhNd5gZZDJad7BBg24OQuKZZUQQc9hMwOdiQm2WwGCU9Gd3BO5Ase5OuJ8h53AmAp5l+egygFAkgsMYQVE+ojAocoElA4EOQztnsLgbgAUZ9F9y5WJOJAF3sRE99EEj9-RLIkgaxTmYYIxd9R459H9A4pC0CgDYEID7e1Q+oBMnKIeNobRrpvySgpApATgVsG09wVyaDBVDATRQyaD0ZLIfRACJDUWwEhxTRqDpA3dP4JDtMYY0hjMJABkF0iDdoQq66wyrDR4F0vwAAkNqZsuEG0V-QUf0TAyJBdPAxJtGjw8QGw2QVw98j0foCyHPmILw8LJ8FMCwKmlfZbNbIPE-cBINiyGAw7MlCY6AHCEIo+kCb2CY8UD4DGSuERM46AEVcBNvKYwROxDY94SyNvI7jqrvYrAfQSJIMfaHCYx7tuomMsU3LODY3Y1SkSNKOKljh0s4wLWQxI00do0QXo-49nNcgY6owMc4n0b-bcbZIQlk+pDk5CpU2xjU-0UU7o4oPowFOU7k-sW0+o-E50wUSRQ7Wmp018N0+MaUDokEXE+qgDoo3w0sCyDhS8ABB2CY6SfhM4y8JM3o1iT4qI9EAY6QmQwAOS-2Dxf1XOWOnE7EGOaN2CTOwyMA+RvPmXOEWyShezBGZSuAQgdifN0M9LQV5AtC9H2q9GrJBjFimiKBwvv5WycigOLMjPAuLDvM5n4Qgv7PLM6NTOMAsBHNLNKOlPdB4uvC4tYvpVksrP720sXF2C+3+2kCB3U5arOjBziTryaCGNiJJNtZLznOeVlUNKNxmaaaNP9T5BLwx1BDRqssmjsuUB7qwYNo8umjjOhpOhouzMwIYEiuLPQXbwhhWH4J2TShLykuThGELSfN1jbIOiavwymh8vLxWaCsNzJNyt6vvoiltyonwaNB1MEIYEysdx+v8srnb2ObctusXT0jXIubRqOtbLnAusJviQ6seuxvkZBtRlBM4WitBEdjZsIvJuQokluNEkVtJtiLVv6tTId4Czs7EMkWlvMCJvXDXKWPF0YTEPKsB1qucvn4WOLNBEDsNgKuBBKt+0qscsav1u5s2uktTuFuNmq1asNvXI9mCn3pIoZNLA2sMZr4Z5muRl4L1NGv+vDZ9lNafpOjDZJ26geont6vYFP5BHGv5K1u-stv1l8tNkuobKB5NP8jvsvkLR-5cZLxftnn4UeuivIF6uWNAeTggerJgeK5vRX4qwx5GkIuMBRPkDUCpzGgtBtDdDwffNAjvsevEN+iIsaNl4DxUdiLEdRNuK0fCO1uwe6sxvbh4CQlfykcP0nVVr1KtlXDkC7za5sCkBvBFxTCgBgwPIXQLRgyG6G50Jzx+jByqBGgl6bAaCMAtDIM4TxRGNqDh72oWd5NLNtAXpdDxOEyNTGcOTsQdh2fmekwzPOLP3Zy+cOdsbRamiGeefUtEQhf+f2u6jI7nAf2qDLyrbfYzBJc5Aw22WZfyAaY9mBpXHoJGfyAGw8AvDGeSAvT9kQb4rOC5cuYGekAldlc7NES3YZcP0anYZHvNCe0ufIiED1ddcsm-JI1dAUlmAHv9mBAQYheNcRfNeVf8BteYRDe5fdc-hW7jfdAhcC3ov9dmrInRe2eUL2extTdrlWkFz9okcteSDlegDLe-GLD-G1frcP0Ld0CRelcPerdfbrbYhQOTeIoJMe3Odmr3AfdQMzcnFWDYjtfpdA85Czs-hBEASVePdBHPfmnn5ZZl2BC9gdfI+P0g-Te1kDkq3zdEpNf3crcndQ-DfA+spes7fKpnfmekZpACOhvw9cTQ8o9YA89t1IfY+-f08P6o+Cr89M+X08TC9TcPulaJkI+ndmeh64+vcg+rmND8aUnXf2ycWwRKfBH-HmQdtFeaATvYm6SW+RbQJsBBORAXQkfW9soALO+Iug6TH5EsBYeuqgCifFYdm5f8mXeUFG-kBKfAUq1B9mYk+pu765cpcDAQaycuZx-ifJcsgoLXFaQgVSdEqZ9UTJ8sie+u-cg8G77OCRB1SnPv0o+a9KEId4U0EN-KMP7PN2G19Bnt9PY9-RDO0dg18TqD9d8j919DxKoT9tHO29gz9j9se6gL9Dzu2KGjGQON-qEt+0-t8vCGFL9jYOivYb-AON9v7b90ciFIfI4r+n8SdN9REH9CYLTO-PhUAbSYdMD2RLMtn0igSSBlO9KHIIwGXg6QNAmgJpJ+wp5esF4p7CnrNxVor85sA-VfgZnX5f8D+E5H5mzxX77c-2JAP-mOEYCACIWIA4Dt-3VLHcIBPkFfvhjwEXdQA03L1j+39aw8rO1IIIjQIpZ5sXg3A1DjG0YHk8yMTGZ9nxiu4cCgQ3ApePF35ChhcgLAb1qYTaCHhBQEmOgI9xUFsVrgdAarlfxgR-MNBpjLQWoPpC6CUuljMttLEOhS8HkeDcIAoKUFV4TB6ghwcSFV73AbBBPP7C4LMEvQb8egL2rkHeS+DPBLwXwaED0F8daKng4wbem0F+CLBEZKwbGS8FsoUuFlSIFMH9whD4hpg1QBEPMGgthoGQnSvIPcFcRDos8T4m4MUH4BDwUIV6uCks6Vx6hsEOlJFEsDEgbQjgvWvbQFB+wZCDQjoeUP0ajCBWHpWoaY0GyWMshQQv2p8FCGsoMSUw2dqUMTRtDyAIw2oT0IqHTwuhJLaoYLmP6mE7kGtW4KmD36gBhIQES-hsBmyoCUBo-NAaOQwJXCsBzWPrhD0vT99nhjnLOt0CuE3D9+OheJqCC2EzpomxvTInQOn6oCoiwIygUoVkFiBwR30KEVH0yLgjwhsEEEQqRb6ikgm+AVcF0D6KisWQxI1UKSPQ7XRGo2I64bBEMCitRSZgWYVIAXjgimRizAER+QlDnQLh1oekYiPUJsjrENBTkbY3hBPIkONw0xmiMhHiUTevYTkbYJ-C9hZRqoxoPKP3yKjMi5bRkZqP+wdgNR3gsVDoVJYUiSRkLFEZsjaLD1usOw+3PoKCJ5V1h4WSoMy0WgfAU4+WZjiR0Yh+iCQLwR1vSMdZ3DEBT4UxJiJBj4oDULmbUQZl1GqAQxuIzsi7yDFVMiaPSMMToV5yXhdRMYglMQ0pE5BIWorGYRGThL2iDMow4ItCMLEGpPRhAIgrX0dCF1GRLfaGCcxiD6i+4r7fkLJ06EKCWuj3YzlEIjGOZzsoAWTiOIq6ldZ80Qr4aah+FmwAEg2ChnQBtHiBPaLrSruKHbHph7hKtYzi5l7E9krcC8YzoYDIbbwKGxnIelYFACFEAAEgzUkAABBcAOAAZoAAlQopAAADyHNZAESi4Jb1Zi0YwMclgTF4j1SLfZsZ8FbEOgDx30UxoOKQm9suO0E9oTOlJaDiVAn0LCQ5i774TKgnHdMclmdovi3xn478X+MAnASSJ8PDCcmyInmYExztQcbWKQmSA9x+0DifCwom0A9kowwjgtAvSsShJ7EnCbYFgnN99Bowj5A0OjShYbhTgBTKDiU6UIDQYiAzFBNnBqS-eeFCEbJKRF0MIJSnciYi2wkmTiAck2eMPQsAot80JAVTkSgAAMFtRmAkDWS7RnJErX1h+W6CW5nJGgVyYoBcyMBQpO2QIQRSaI8A8xrEKKZBDCmxSu+yOHycQLP5LArhyU40EKyiaUAWgztIIsE00xBE8p3rKpIVI165lN+pPfsXlF0AcgspD9KQJEGVQotUuVPfyQVKohFTOCcxPyZBACnx8ipKfDYDpAcGfA1kKgUOLx0aAXijwjHVlAAgylDS++X-SqaNJqn7c5mSHADnUiCLTTJAs06QKHFwL+tDRrwSwDNLmlEk12-WcDi+30K3TTp90vKZ6LaCep6UUgWcF-3eE6EfkU0t6WdPmn-FYBy05cuwNB6LxaRagK4dDIQGMYNYUU+QNrxAz0ZkZaQGbE8Mn4fl0BEpeyRjLlT15cB+AkxMSLvQE9oEJ0sGb8PxnT9NuuvIXsIOwHfsDpXI93jdPkB3TzpPA6GX4B5l8zQ4yBALhMQIB3Z0Z4gnXr8jpn3SZBjUuwDyLOHaBXQyXK4XfHsnTYkBjwolHQLX58FAZCpGjA+mQHeMduZvS8CQA6IYiTesI8cAzNn6t0sxZgLWWZITrXo+ykMiEKmV0J-Y8ASmIOeBl1nPC8ZQZQ2W8ItIezSEMkc2RiB26rSlmtspMXv1NHd9nh9A+EY4gEa5yHSoIo1IHhP6azo5HwxXqBkPYPJvpsWP6fkHdnGz1SyhQOcHMWmXhLRVI60V7Irn9kn2xcoBg-3dllymBSs5OTsTtlYise9PcMb8kJEYh25pYt3kEDIYljqREZdzmoE0CTzTGihUURyMOiZikERc04RKDVlmhkum8k6lPILkGsQgHI6rqKxVknzCCZ8nIIXXp4XyzJZgZuUplFFBFN5sIKUVID-kvRRWNsseUmOVFpD-syol6NdPMBgKDYSY8tlAtdlpBy2sC9OY0HUIWiV5ncl-ruHCgotIQsOAVpHHvI1xYcqUFFtB2Oi0ADwzYxiJ9Jb4BRPp7eSqW4iYX6CYhvYXsKwtMbgtpAs0wUBWjRlchLGAUXhV1KOFGkraIkPKZ1Mb4pjbJwY2lq8Lgmk4VaB4W3MNLgybBYErUj+u1PyCfSVsKtBBQ2MJQHzGg5ipMUou+hwLKeEBBhTUn9wGZPpDiwIDmJNl8dzF+qQlHPNwWLzD5FYg1ohkZaKAfI7C4vOoFcU6LihVYqwA6IOGqBfF04VVCFEcnUTJAP4hZAABkGaIE90UNnAlWBLJeUkyDBM-n6CEJBMtoMhI4mit0JO464OUpQm4TLGpEmYK0vbydKdFJkKia+OyV5KClTExWCxL6VtLbAztRSXXWDrUouJOwniXxMmXEBih9DPKSJNqFcgpeCy5JWVKoU5BNlBwrkJ6POQTLKl08yQSIwOFKTYIKk6lHlIsqg4zlciohXlJOoyS7JZkqXhZLkqtKLl5orcWaDiCQRPmyY1RQCpanjCW+ikzYfctKCEjE0rKGZcXGUF5CJMpWCSVZP9EOZwVES6xMou+WlY3RZy1pXYpnT2SUaspKYVuLCVgrPmckoccSG6mRjLowgFzDOIY5UsWQdK2lmHxXhLiBuyYr5I7mBVflwl7zPFe80ZXjD4mbKkgO4ECGeYpVdLalQcM9FhB7UxoNiQTNqVtj9JqyzdL1z1UOgH6QyNiVz1KAQYTxRKJZb933EGrGBEGdBl7kSDYqomownWjll2XDiouvoNiUcoUH8qAaVaFroJOsnCTRJs7eZmxJeBuiXVlgWsAaqZWHD723cm1CNhqFaqdFuqpCQovklHjIxCYlzI+HoUdITFGwL1khLNUcS3ux40ri5jtUGx9xHEkHs6psCJrFYlUz1ZLT+w+ruhfqjZaJMYGaBQ1g6lFoGuJC54ekFUlFnGoKoJq3V3aqYfuyV6rl8FVYDjpVPtTuqAxFqzsYQtfmOqrFYWJEPSHkWOrLGZ63dSkwtVd9r1Bq81VJOXiarLAN6gzO7TzWOrTFkY7IJJIjX0AXMWS2ib+P-FATwANGYDV+NA0MTClMaqSfOosp-r3192K5cBFQSsc7Y7Hc9W8q6k-JX1nwSqZ+p3H5qeyEGZDeUqA2DKcl+SiDRsCyU0aCl8YpDu8rsFIbpAOGnIKhsrgsgMNW4ndCwT7T3VQUYaCYX81E1d8KMj4YTSID5YtDu4NHJ0Mw3thVZpN+IQTvJqQL4QJNh-HWH3WYoyb4wcmsTdbB01YbR8I5AzfiGM3ML2IZmueFVis0iANNc-bTUpvbwJAogGUekGCtE22bs49mueNJuoAdS1NzmmVVMIPXll90YWozbFsyzMjpytQyxsFo6mqbaAhmrjPFpJIbFeVESlLCLHi2KrMtOWhXmDjVUKDZ4o68VvSl6J5b3mmmVLasq8mG8JA91ELfkCc0UB10FW5lVFv01tbQUXWhLYsxCUts5hjAHIYsPRXdBQs9Wi5JZsG2ybhtNbXrSSxzkOUCqBmjrezxFgraChS27rYqTK0Co1tfsarQUWhash5tHFNrR1sr46RPNG0a5BFvVUwrahtyxoX6SpSIqheP4GIfNskzyAvNIeCVT5D3YeKfwCSsjjWJ2HYK6EJ2w+dDqSXDiRRecgbF7A21BAztuIC7WyGoBIseVtaT4J800xPaFAD244ZQirQft+WLfR7F-1Hrj1eo89QeiPOHaqt1WrOatq9sq3nhpSH2uFa9ScS-bnEjoanSmjf5Q1z6KaJUlsybZySHFWRffk5QJ5AdZgLs1BU6mWTYdr+uKUCB2TWJC885gQFkBzqXYDITljnZHbDuSUijnEGOyoAqxx08g8d5u0drBjq3E6wdmmd3VzvHCV8IM+oF1pxVUEuYAAnAMB0ih62KKa+4GAMZgx6DYikoBGISAiGqYBxqyYZaoLLeykU71DEO5NG5mAk9qgC5hc1ZBoAq9wazGUKWcSl6VhzM0oEnpTUfkpguwxQeVCiJ2BDkw+GWfrxL0SAuKre1Pdg1MQh6h9qg05YIrYoiKwEyYLVbzr636C1tuO0Nb6Bn3CKvgoi67d7tJ1XJN9c+5EVvXrZg7HkijKtFzkUCZAzQBNHWaypczptBQzrV1ry3JaRBqtX9PoCctNlIo-ojAG-djS8ZzyzQOQPQJ+Ap6l6WQByQ5PW1ACfNtxn+71MZX6Anrrhk+tiikoJZEF6VW4JgQ+z15mAH0yasjhRzERUcJMl0HPUEGvXbqSBj6h9TqrcRUHGBD6f-YAf1jAGiULIUA3NBhlQGYDByNMQBvqQUGWgyBmA+WHwPprCD0hrGaQgEOCHDkCBvxQwCUMHIa9g+liqoLj3IqPt8Ks0RyA0l-ZXmtLOZajSl16AZdSwS6IroeQa6CABVV+MUMB22GBQdoxJbbuHGDYSIL7DdWIAox5A6AayNwB-qrQsrHMl0R-aoozY7JX97rd-RftxQ9Fv9m3QchyCnGuGQwHhmHXHp8Pnj3SfzRQgEUWb46oxSnMRjcKUAWMBGxqbAyTrMOWGP+KaNw2oVII1tldjhiys4f41GK6lNajsVwuszdieBnIlxvPGWlniQop+sFRc0DGqBUFAAHSwAXrUVVeUg-gHtT6NBs-lPqt8jZQV7gI7BwgqiwGAzGzDcxrjgsddnLHVjP0+kBsa2PtiaChALnFERM5BFXjoAAAF5G1QAyxmg2sYePkdNjxLToyZ1+P7HBUhxkCNfpONaRheIwEckEZCMQg5jQJr4CCaeNVUNmGeao7HF6KkBeikLfsBc25B4Bzj+W9E-ccxMfJsTuxsVgUXxPARnAhJ4kycphPlggAA')">function is_indexable(pat) {
    return is_string(head(pat)) || is_var(head(pat));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p43' class='permalink'></a><p>
      The key under which a pattern is stored in the table is either
      
	<span style="color:green"><kbd>?</kbd></span>
	<span style="color:blue"><kbd>"?"</kbd></span>
      
      (if it starts with a variable) or the
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      with which it starts.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (index-key-of pat)
  (let ((key (car pat)))
    (if (var? key) '? key)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+zjwKgaok5k5XKPV4vTqsgA-NjuBgEhDD4MwbBQHAiDIOgfA8P7C3yPMNEbRuej2sQsyS8jUiTIojWPwYGxpJvuk5BfxmHfRYfY-5BAAFzAilKSdURQIGBAAUHagBpCCaHQg2aiYChQYTFBKWBfZn6v0QeYaBe55AHhgieH++hSFmAAbfXqFEaHwKfqAXQJDhrkMTK6Us1paH0NAIwu+kgRyph-sQuh3DgTvW-mw3+w0RG9TkY2PYQFOHSJ-DwmQxIVIiQKhpcBSi9SGk+EhVQHkQQwSMooEytCnhCOGmkKxaciEcJfloxoOiqbG2MT+ZRMxfHw3uMzY2St2buM0UInRydQ6CJMUwmYcS0xSJicCNKUUXYFgUV40ogSQaLgiRIhRaSZGF2LqXSis4EkBNAPXaQPkkmEA2khYeEkomeMcc40oO1bKgOnKoQe7Txj2NyVIvJaRoGKGYBCSRwEACqxADTEGoAAdzsEKPQSgHSgAALR7I4aAjKO8dINJ8sIF4g8zYZkoPgUAqgQjOkoCweqf1JAWOEP2Zimd6mVINs815v1zHVVUJc+pjAoiy3MIMDh0gLriHuY8qQZJWgfNBV85eZhzrkE2HQK2uLURHIWK0tubivndJ6VSwIjoFDEHpJw8EtAYpOOpT+NpBkOTGTBSQfQlK2UCohVC-lgrqVtMZcwGsdxMXcjSDJEIEUBmqBdASyZjQAGKvHJIR8dK7gqukIonp0DWjtE6C0AYMK4UIozOYGZ1AITgpZEslZ6zW7231poeQ+zDnnK0jC3iOk+kSgGSZScdApE-MrhZIZkLQCogAHzEvvgoGN4YPGvwjJoW219dRJO1bQOqU01G1AjTa+VUhwiEHeE045KbVEgksGtB+4z039icYElpdaC3dQ+vm+gYSclNiKGUmRzTm30p7b1L6igfqUD+p01+24dJ5uCSbcNrafl3IeSETKmh9aGyJjbb5NqFzUhNR0BI5qNiwvkPCr1W7kW6KdlkmKvssWlBkmOlNQtn1s1TL7J4miLWWtvda0hOKCDgmfY8bBXqiWsq-UsH9itnavoloBzxwG0gPoVW2WDYKoMoecrB49rKZLIcijBgZWGgg3rvZGj9l4V1hJCay1sv6xamyPRhxdpDhiBGGFVe2QbJAkGrF0VQsCbkelYtGyQcbE0sgAFRib4ZepTwZQBSfzvbOg61iBiirVBShb5qn0DnDanDUhV19nfdi2gYQBR0zjUzI28Nil6DGUOrwNHT0eykLu-dNnfZsYYVpr2oXQDQPrroZE+nDOKxYaMgjwsiN-tdqbfsIrRVmD03kBLxmqGoXM5FqleNPg2YVh5rjb6eICatV6k9vyKFFbM-4kxAEktoVwQ2WzrLoEVGkDRwTOb+R5pSfMzRPyINpxc3E1O1BvJ9hoxBoO614UubywZ6gRmuvmbTrK8wEHVP+kvQwIlImTvJgk2tlQ0LfmIdUGnCMdKGUvyZVKyxwc7vZZy390AV2LRdHXaV-7jRNE6ZvqIzJ6XB3qNLTJ6k5XCnbHw5Fx7+UxJGIca2yHubRHiIEaUjdNqIMDJc49wnisBkjJqS2oDGxqyYNFEqqnzPi3NheAMqRNGZLUYDYzPNe3Ukk8Z2p9n+G9vs6IaQx7UuaeGI6TjzRv2zAM8OHgfeTBWDsFPlwC+aAwajZ1pW6tqgHTL3LQt7IuR8gW9AO20Auz0REsrV6px0zGCzPN7HLIOQ8gcKdJQhQLQXiWHhnOrokDTmM2RxYzltjhYvGe6LvzExkoTQ8GipCwZSsJ6sHY5Pi3BQ87lgHFFWf6XooFmCy378-xr3wA+Sv9Ic8twIG3fP3L8B19Yo9UGTfQCHX7rqNp5Le-bWBk9QfL0R-8nFe9yVMUe8-Jkv3-ag+IZLtj2YlHth8M6qKKvh6GfNU0RpotWgur2+4aKUqgZE--MN-kslbnwEz+LETvLPDNPD-Wgf8fhPD3PhA-njmNmQEHGaNEHRIvsyqmFNmWpeL2OrnPBRofByIvJ4oAdSB2CgcuhAdQBdKnBcoZPIKWusGnqAKCOCGCqQaXsMBBu8BOHrAbBKnAXoC5oNgMHPHHqQVZBhOuiGo-nYNQRCD1tkIIeONmjpOgSSOziZLIfIL8BQb8h2Ioe3oobBgoaQcoVzJQb2OodvvbLSrFjAbMB9q+tZPClzj9qAM4CaBOFgYgX3roFEO8PwQ2GbC7rpK4e4XfKTI7qIaoLwRgeIdYaAP4XynYQ4WYWqlAj4dEO4WEWbAADwJFuFvCqCRFsaMJe72qqAsgAAqWQpixAgoQqTgKsAo6CDcUewEoAAA1A7v9qGJEFEHcunFYWbE0ZpiyI0c0X9q0dEB0VkXdm2lSp7t7kUSUfgPIGshUezNUZUpQHUX0U0aDoEEMe0fgJ0QIYYD0ayP0RseYFsSMZEWAe5FkGghgmEfhmEQjoEPgbMDIFkJZAgaQjpFth4RITYfCnZkEFboNt8X8ccYwi-C8dQJZMcTSgQVAUPGwZ9hDscdAmEXGhiB2MkXEdSgAh2Nkf9iifpjnMCaTC8L2Ocb5v6o0A+pwmia7liIFqwbAVKv8TSnkWIVYayEspkK0FphyH6qUHRmBj0hBooS5mgXwQzj0jJF8ZockbQRyHytCY8aQVofKSSHVgKdeojkCJwhCW8ZhgLvbEzrcUqvcRESoA8eYE8XqZga-AxmYJ8YSckb8dJlKfXkCZiaVmCc8SglCX9nDJAW0WYRYfAZ4lid4gKFYbSWxNnJ6aKgAhdIrLibYXfOGdogKISVxF0VEWSWMYdmkLCqQtSS-NGUwbrHuoyeYUvkfk1mkHauyRhJycQNyfSrySSN6vUmpllPmbRg1vaUECKaQWKYRh8hKQaW6axDKSqXKeoaroKpoSGmqUoT2QJlqZQbqb6baSFJrtVAfEfLrpwOfLwBgMbtmICm8iCjXl8u7BHIlC-oyI6uecCl-vbE+ZHpIC8iXNkm1teePDgZPERJituBBm+e8lrhdslIggBCyEqJpuYEqFSoqb0hnl2HBWYF2IhartBaIWhVQWCIwJhVBRnvmLhfmIRchT6J7JUJplRdIMNEhS4hnnVHQCXEoIKJpsxaxeUT+AxUENBfWWhfWT0rxYENBfqO8GIs4HQMGOJW8JJQwI0CJeYNBQ0bheYD7qAIKIYAmk7v0dxUpWYNBXsmpWYBpVpQprpYcvpVhRnhpi8GkGZdpYmrskpppWYAZYAj6MACZQ8g6C8OZTpbsmANZURT6AAKQ+WOUWW7JhVuWgAeXQUu5qVRWBXRlaU2U+gACE6IyVflmlTlul2VRK6VoVdwLIKRkVeVAVzloAaRZgJVFFZVKRqIJlKVNVzV9VCVGe8alV-lBVuyianVGVZV8aLV9lgQbVulo1Q1pVBRmVPlulgQOlZgmV5gFuiC3IIFEQQK75bSyRcapC0aSoLwoFl58YssW1LyF51e8YYozgAAVsHudodUXDynYDpdhdtReZpgFDKnOYEKdTdQSLLFgJdTte8jinkKbC5gBNBeemappvDZeh5WDqJRnpAMQBenIOxfZRjVjfrCjajYZRnrJZILAJAGhaTeTYTUTWJbBHJQAKK4Wk0M002o3QUABySgHNPlXNHNaZYOm1DmuKgNkNtY+1qIL1lk9yOlahURotwtUNF1wtVBX1wKfa6UtYIaB1jQ0aMtiav1WWqtV16tYtmW3BZy-yDaJtu1GKJAVykK+YwhfyJcBskQom9KigjSQZ91Sg8wemEQe6qgeeat75n5OQgYP5vK-1pQg8TtfQQQhpC0iZ6CwZ1Z1oztJhVeCJLKbKMW9KqggNe1XRLwSpxt4NnwZt8hbNgQ+d3QRdbc1AD1T1pdYOCtT4UNWhNd5gZZDJad7BBg24OQuKZZUQQc9hMwOdiQm2WwGCU9Gd3BO5Ase5OuJ8h53AmAp5l+egygFAkgsMYQVE+ojAocoElA4EOQztnsLgbgAUZ9F9y5WJOJAF3sRE99EEj9-RLIkgaxTmYYIxd9R459H9A4pC0CgDYEID7e1Q+oBMnKIeNobRrpvySgpApATgVsG09wVyaDBVDATRQyaD0ZLIfRACJDUWwEhxTRqDpA3dP4JDtMYY0hjMJABkF0iDdoQq66wyrDR4F0vwAAkNqZsuEG0V-QUf0TAyJBdPAxJtGjw8QGw2QVw98j0foCyHPmILw8LJ8FMCwKmlfZbNbIPE-cBINiyGAw7MlCY6AHCEIo+kCb2CY8UD4DGSuERM46AEVcBNvKYwROxDY94SyNvI7jqrvYrAfQSJIMfaHCYx7tuomMsU3LODY3Y1SkSNKOKljh0s4wLWQxI00do0QXo-49nNcgY6owMc4n0b-bcbZIQlk+pDk5CpU2xjU-0UU7o4oPowFOU7k-sW0+o-E50wUSRQ7Wmp018N0+MaUDokEXE+qgDoo3w0sCyDhS8ABB2CY6SfhM4y8JM3o1iT4qI9EAY6QmQwAOS-2Dxf1XOWOnE7EGOaN2CTOwyMA+RvPmXOEWyShezBGZSuAQgdifN0M9LQV5AtC9H2q9GrJBjFimiKBwvv5WycigOLMjPAuLDvM5n4Qgv7PLM6NTOMAsBHNLNKOlPdB4uvC4tYvpVksrP720sXF2C+3+2kCB3U5arOjBziTryaCGNiJJNtZLznOeVlUNKNxmaaaNP9T5BLwx1BDRqssmjsuUB7qwYNo8umjjOhpOhouzMwIYEiuLPQXbwhhWH4J2TShLykuThGELSfN1jbIOiavwymh8vLxWaCsNzJNyt6vvoiltyonwaNB1MEIYEysdx+v8srnb2ObctusXT0jXIubRqOtbLnAusJviQ6seuxvkZBtRlBM4WitBEdjZsIvJuQokluNEkVtJtiLVv6tTId4Czs7EMkWlvMCJvXDXKWPF0YTEPKsB1qucvn4WOLNBEDsNgKuBBKt+0qscsav1u5s2uktTuFuNmq1asNvXI9mCn3pIoZNLA2sMZr4Z5muRl4L1NGv+vDZ9lNafpOjDZJ26geont6vYFP5BHGv5K1u-stv1l8tNkuobKB5NP8jvsvkLR-5cZLxftnn4UeuivIF6uWNAeTggerJgeK5vRX4qwx5GkIuMBRPkDUCpzGgtBtDdDwffNAjvsevEN+iIsaNl4DxUdiLEdRNuK0fCO1uwe6sxvbh4CQlfykcP0nVVr1KtlXDkC7za5sCkBvBFxTCgBgwPIXQLRgyG6G50Jzx+jByqBGgl6bAaCMAtDIM4TxRGNqDh72oWd5NLNtAXpdDxOEyNTGcOTsQdh2fmekwzPOLP3Zy+cOdsbRamiGeefUtEQhf+f2u6jI7nAf2qDLyrbfYzBJc5Aw22WZfyAaY9mBpXHoJGfyAGw8AvDGeSAvT9kQb4rOC5cuYGekAldlc7NES3YZcP0anYZHvNCe0ufIiED1ddcsm-JI1dAUlmAHv9mBAQYheNcRfNeVf8BteYRDe5fdc-hW7jfdAhcC3ov9dmrInRe2eUL2extTdrlWkFz9okcteSDlegDLe-GLD-G1frcP0Ld0CRelcPerdfbrbYhQOTeIoJMe3Odmr3AfdQMzcnFWDYjtfpdA85Czs-hBEASVePdBHPfmnn5ZZl2BC9gdfI+P0g-Te1kDkq3zdEpNf3crcndQ-DfA+spes7fKpnfmekZpACOhvw9cTQ8o9YA89t1IfY+-f08P6o+Cr89M+X08TC9TcPulaJkI+ndmeh64+vcg+rmND8aUnXf2ycWwRKfBH-HmQdtFeaATvYm6SW+RbQJsBBORAXQkfW9soALO+Iug6TH5EsBYeuqgCifFYdm5f8mXeUFG-kBKfAUq1B9mYk+pu765cpcDAQaycuZx-ifJcsgoLXFaQgVSdEqZ9UTJ8sie+u-cg8G77OCRB1SnPv0o+a9KEId4U0EN-KMP7PN2G19Bnt9PY9-RDO0dg18TqD9d8j919DxKoT9tHO29gz9j9se6gL9Dzu2KGjGQON-qEt+0-t8vCGFL9jYOivYb-AON9v7b90ciFIfI4r+n8SdN9REH9CYLTO-PhUAbSYdMD2RLMtn0igSSBlO9KHIIwGXg6QNAmgJpJ+wp5esF4p7CnrNxVor85sA-VfgZnX5f8D+E5H5mzxX77c-2JAP-mOEYCACIWIA4Dt-3VLHcIBPkFfvhjwEXdQA03L1j+39aw8rO1IIIjQIpZ5sXg3A1DjG0YHk8yMTGZ9nxiu4cCgQ3ApePF35ChhcgLAb1qYTaCHhBQEmOgI9xUFsVrgdAarlfxgR-MNBpjLQWoPpC6CUuljMttLEOhS8HkeDcIAoKUFV4TB6ghwcSFV73AbBBPP7C4LMEvQb8egL2rkHeS+DPBLwXwaED0F8daKng4wbem0F+CLBEZKwbGS8FsoUuFlSIFMH9whD4hpg1QBEPMGgthoGQnSvIPcFcRDos8T4m4MUH4BDwUIV6uCks6Vx6hsEOlJFEsDEgbQjgvWvbQFB+wZCDQjoeUP0ajCBWHpWoaY0GyWMshQQv2p8FCGsoMSUw2dqUMTRtDyAIw2oT0IqHTwuhJLaoYLmP6mE7kGtW4KmD36gBhIQES-hsBmyoCUBo-NAaOQwJXCsBzWPrhD0vT99nhjnLOt0CuE3D9+OheJqCC2EzpomxvTInQOn6oCoiwIygUoVkFiBwR30KEVH0yLgjwhsEEEQqRb6ikgm+AVcF0D6KisWQxI1UKSPQ7XRGo2I64bBEMCitRSZgWYVIAXjgimRizAER+QlDnQLh1oekYiPUJsjrENBTkbY3hBPIkONw0xmiMhHiUTevYTkbYJ-C9hZRqoxoPKP3yKjMi5bRkZqP+wdgNR3gsVDoVJYUiSRkLFEZsjaLD1usOw+3PoKCJ5V1h4WSoMy0WgfAU4+WZjiR0Yh+iCQLwR1vSMdZ3DEBT4UxJiJBj4oDULmbUQZl1GqAQxuIzsi7yDFVMiaPSMMToV5yXhdRMYglMQ0pE5BIWorGYRGThL2iDMow4ItCMLEGpPRhAIgrX0dCF1GRLfaGCcxiD6i+4r7fkLJ06EKCWuj3YzlEIjGOZzsoAWTiOIq6ldZ80Qr4aah+FmwAEg2ChnQCHpWBQAhRAABIM1JAAAQXADgAGaAAJUKKQAAA8hzWQBEouCW9WYtGMDHJYExeI9Ui32bGfBWxDodsRCNsCmNBxP43tlx1fHtCZ0pLQcSoE+igSHMXfKCZUE47pjksztPcQeOPGniLx1428fBPh7ATk2sE8zAmOdqDjaxP4yQJV3FB-jvoURX0IRL2SjDCOC0C9AROQkOZqJM6d8c330GjCPkDQ6NKFhuFOAFMoOJTpQgNBiIDML42cEJL954V-xxALiXQyfFKckJiLMCQpKUkhRh6FgFFvmhICqciUAABgtqMwEgayXaHpIla+sPy3QS3HpI0AGTFALmRgA5J2yBCCKTRHgHmNYiuTIIjkjyV32RzmTiBZ-JYFcL8nGghWUTSgC0GdpBFgmmmIIpFO9ZVIYpGvXMpv1J79i8ougDkKFIfpSBIgyqFFqlyp5WTopVEWKZwTmKWTII1k+PrFJT4bAdIDgz4GshUChxeOjQK3HAM-asoAEwU2qX3y-4pSGp6U-bnMyQ4Ac6kQRNqZIA6nSBQ4uBf1oaNeCWB2pnUokmu36zgcX2+hDaQtK2mRTPRbQT1PSikCzgv+7wnQj8lamHTFpXU-4rAKPCLwueziakrSLUBXDly7AgEkgVcnyBteIGejAgNKAzYnhk-D8ugIlJKTgZcqevLgPwEmJiRd6AntAnmmPTfhUM6fpt115C9hB2A79tNK5Hu91p8gTaUtJ4G-S-A5MymaHGQIBcJiBAO7EDPEE69fkmMraTIJyl2AeRZw7QK6GS5XC74Sk6bEgMeFEo6Ba-PgjdIVI0YH0yA7xjtzN6XgSAHRDESb1hHjhsZs-VulmLMCiykR-QTMcwN67EDRi0gY9GDjwBKY7Z4GCWc8MhlBkZZbwi0sbJB4yQlZGIHbgNKWYaykxe-U0d32eH0D4RjiARpHIdKgijUgeE-iLPdkfDFeoGQ9g8jOmxZLp+QI2XLPVLKFbZ9snqZeEtFUjrR16JXoXNYgAj7+H9X4nDK1Iv9dQ6snYprKxFY96e4Y35ISIxDFzSxbvIIGQxLHUiIy7nNQJoDbmmNFCoojkYdEzFII45pwiUILLNDJcx5J1duTHINYhAOR1XUVvzMXmEFl5OQQuvT1XnGyzA+cpTKKKCJjzYQUoqQNfJeiism5BsJMcqLSH-ZlRL0NaeYGfktyeBN87+dSnLZfzg5jQdQhaMHmlyG5-EcKCi0hCw4BWkce8jXFhypQUW0HY6LQAPDNjGIJ0lvgFBOnt4UpbiPBfoJiG9hewhC0xuC2kAdTBQFaQGVyEsYBRKFpUo4UaStoiRIpJUxvimM0mgAcx+I0nCrQPC246pcGTYLAgKkf0ip+QE6SthVq-z9UhKWeY0F-lJi+F30QBRGOwVK5-cBmE6dovMCCL1SPks9MQA1nKLixVovuXPIrEGtEMjLRQD5GIXF51A+i8RcUKrFWAHRBw1QEounCqptJ24tCZIDPELIAAMgzTvHuihsj4qwKpMikmQ3xZ8-QV+OhltBfxxE0VkBM9oOhrgSSjiQBMsYISZghS9vKUvEUmRUJ+4sJZEuiW4TFY+EqpUUuIDO1eJddYOtSlIk7DyJlE-aMRKMVmAWQkUhibUK5BS8elfixKWgpyBjKDhXIT0echaUpKO5kgkRgcL4mwQBJ1KSKRZVBzLKuFcCyKSdXAm2AlJUvFSXJUKWrLzRNogUOHU+CfNkxtLaxPwtlJTCW+vEzYTstKCEjE0rKDpcXGUF5CJMpWFiWpP9HsTNFnE42aqLdHLLClMK85cbJRofKDhnoxxc8s+ZcShxxIMqZGMujCAXMM4hjlSxZBYraWYfFeEuIG7JivkjuM0HEEgjYraWuK8YfEyJUkB3AgQzzC8ucVP9pyUw+5SEB-EP0-xArLYv-MZEuN54r03sewuTpkdLAkKmKQZh-FDJCJnrc2WKuS7SS2lb3FWsZxcx9LfuVE-VYwIgzoMvciQVVVRFGE60csUy4cVFzolsTiA8yhQdSoBpVoWu8Ld1Z6uJC54ek8zQiS8DdHWrLAtYfVXisOH3sU5PyEbDUPtSfAUp7tDVaQvuEq0ExLmR8LotwWlSFZOqvJeKuImGrIxxqolKaoNhUTiJIPK1TYCjWKwUpDqyWn9mdXdDXVoyxiYwM0C+qu1KLQNSwGDXOJkpKLcNQVUjW2qW1Uw-duXP9TQLhwHHFKfajtUpMtVnY2BUfItWqKwsSIekNwotWWN91a6-IBaq74nr9Vmq91cvDCAprT10MjJW2PPVZrIx2QViepIcwuZQlGE88ZeJvHgAaMP6k8X+uwkxLQ17qidRZXfWnr7s6y4CKglY52x2OB645aVJ+R3qVVaa9VXkp4XIjX1jmGDUku-W1LwlUSwDRsFCVkbol8YpDicrsHQbpAqGnIHBsrgshENIqgLCwT7T3VQUYaCYX8341d8KMj4XjSID5YtDu4NHJ0Mw3thVZRN+IQTpJqQL4QhNh-HWH3WYpib4wEmgTdbDU3IbR8I5LTfiF034L2IBmueFVhM0iAlNc-VTTJvbwJAogGUekM8v43mbs4lmueKJuoDFSFNtm9lZ8rIVcaKyPG0FAFooABFFm6KhQZY183FT5NtAbTVxki2ZZDRlK5xSlhFhpaeVKWkkkLyzGxb8VIUPteK3pS9FMt7zTTAlraWmTDeEge6n5vyA2aotQWjFZuvLL7pWtJ4HrdFr-b2KW2cwxgDkMWGgrugoWKrRcmM2NbTNfWwVflPGERyHKBVLTc1vZ4iw+tBQ2bbZsVIK95yQqjFbGDK0FFoWrIKbRxUa3NbK+OkZzRtGuTtaFB7S2oVssaF+kqU-ywrVSRs6Lxa0Ty2lpJnkAuaQ8Ti95qmgK0Gygg3isjjWJ2HgK6E+2-uQ8uiDVjY1S5BHTzwGxexltQQYrSS1xAna2Q1AJFhSr+2g6caWmIHRlBu3HDKEVaD9vyxb6PYv+o9cer1HnqD1eZoAYdqq3Vas5q2j2-FeeGlIvaflr1JxJ9ucSOg6dKaN-lDXPopolSWzJtlxMAVZF9+TlAnkB1mD6zIdTqZZNh2v64pQIHZNYkLyjmBAWQPOpdgMkWWOdodvi4cSKOcRY7KgCrPHcdt9VW6F2I7PneOEq1k7Pmmma3aOxIzcEIM+oF1pxVUEuYAAnAMB0jR62KaOloYnokBcVY1H5KYJCBeBtL+yXrSYe9ILJ9kH071DEEZNG5mAk9PkC5hc1ZBoAG93qkGUKWcTV6eBYQPGaUGr2Z6gEYhF7eVCiJ2BDkw+dmfryr3p7VBPe7Peukj1QQJ9bFJZbQrYoMKwEyYFNYLpJYEjDtCggnV7pUB0KV9F+UnSSgUDk7NM++5fV8EBk07Xy3bcSOTseSKMq0XORQJkDNAE1xZhKlzOm0FDOtXWvLclpEDK1f0+giyotQ8j+iMA392NLxt3LNA5A9An4Cnm3pZAHJDk9bARbS3EBP7cU3qYyibNIRt7XmAOy6FuCYEPs9eZgB9DGrI4UcxEVHCTKQf+InqV1JAq9ZesIkLYlsTBkHg+kgPQH9YsBolCyHgNzQ-pKBtAwcjTGfq7A+6roHgbQPlhyDCaowJQeUOgzCD8+nyKgckOHJPmeKAlAwF0MHIm94+lipPtrGAqXtvys0RyBEl-ZiDWW7wXLr0AK6lgl0VXRAY10WVX4xQqbcmJDB2ifFsOvxYNhIgvtF1gsEcnkDoBrI3AQBqtASscyXRv9ryjNjsn-3utADOBkA2AYI24pFCU4-wx4eR1j1gjaOsIz2UBJ-NCjpjInVGKU5iMbhSgCxgI2NQEsiCzylwx-xTQlG1CpBGturoIAFVfDIqvJRRLNUDKOxwiitaVxcwKqzFT+BeMZ0MBkNt4FDYztuHrYP6LmgY1QJDoAA6WAQ9cCqry0H8A9qfRoNn8p9VvkbKOvcBH4OEFUWAwbY88t2Ncd9jBso4ycfOn0hzjlx9sTQUIBc4oiJnIIiCdAAAAvI2qACONBA66XwcjhceJZDGTOMJu44KgeMgRX9zxrSMLxGDRH6AcRiELsdOP-HkTgJqqhswzwtHY4vRUgL0Uhb9gLm3IPAG8YB1km-jSJj5FSZuNisCidJ4CM4AZNMnFl2J8sEAA')">function index_key_of(pat) {
    const key = head(pat);
    return is_var(key) ? "?" : key;
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p44' class='permalink'></a><p>
      The index will be used to retrieve items that might match a pattern if
      the pattern starts with a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (use-index? pat)
  (constant-symbol? (car pat)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6j0lTkgPXDhRxLSUO6ttKYIV4jXiVuu0d3UpEbrmoJuck5UiXSBJXYEaCwFCzF0JYS0vWe6pDW+tvam2jKKC42ZYUY13FpN85hDNLF1JGX7qg7PQoRS6Hz68tPyPYrDFYuxYVLZHdk8FxToE+AL1eGb2X5XNVhXKtMlXiy7fi5DZaz3srg-nJyTbzCgrpthsz7a6DkQ0vNLaQ8hPyxw5V+6DGxzydm3sndM8FoTYS-Btnu3OfqIOaYTxUH9pqKOSA436dzWrvigllmc9kGkl2+0ANQ2f10k-0rT83E04QDnx0nQtFKAeGxRcl8QTCpigMwmgzrx6iey+WtQwMLzsCHRwOEUQOoE1Fkn-FHyaV5UXT835FVXwJyGWW2ikVNQhxwh8R3wSEtipVfHrzsAz1H0EzmTGm9l20wLsEYM3C9XEO6SHkEKYEFEOWaAslHxAjoIG2gOXWYNEDn1H0GnUMFE0Ku3oKwNXT0PgKjVUk-lQJ4KdlA3kLohrzuB6UuC-yL00EeEelEI4V229xCG8N8MiGAn0mCBkMUGEOtTkMWXUSGQaDcJckBnSAj2xV8LkKMAAB4gj0iHo-94jk5vgg9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgZPHcUAAAan92gTzUeHAnkycKME6JzW3A6K6Mch6L6IKMcW4QLGKmD0UHKMqPwFEGPFqPqOPkaO51aJGM6MiX8AmPwH6LEMGJ3HKlGL2JgVugTUmNCNcyUNKAqCqFUM5Qvy9T2QCAJn0GcDKFmkIO2E9THj8LULiMcQNm2CVRx0yL2O+C+IeNmguJeTICQITXsPcl0gBj2PSC9TEmNQ+wGIROCCHVuIRKxMBLwwGNlVXVuKcRSA-G2GFnGBxJ911TJCvi4O3zRIXnIWiRKKBOkHKn3CaFYlADdRpOSCjjIWSikT0MtjwJENdn7Cmi0TWD0OeOMJyDhgRP8FVIkJbA0LFMjnziILBG+OoF+JznWWEVGS9UmTeNAEiHeO1LINhJ+OGg8O5KdMnWVL5OcMkKDio0hPxOshhPEFNPhOCXIOQKnG4M5KBAxOsixNAyZO12UyhMcmCE1GHCJPURBJmOSFJNJXJOOMpPXWpNznMBojdkYkZMCI4LZNRM6U3h5JKjtIqiFNhBFMFBvDvHbXdW2AlLBKKGlNH1lJAXZHlItMVIbm9NVLkL1JMOeUch1IUPnI1INLzkNPMKjxdLNLdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIlbxQi13myFzPQAh3BglvKT2AKjQ-IIkcFglLGSV50fNh3ex104U8kFSkV-LvJbyLgsWdUlAzT7RzX8D7SUk1IHCYW3BHVQvMBHQwsXIzRkLwtABkMIqQuwpLlIpLgoqwrv0pRfhzUYr4SlEwpSAzThDoFLEkFqBzS4p4pqIhHYuSAzTmMYDwvEv7BEoCAzWZEeiLAaDoH7nkoekUoYG2Bkv8AzXaNIv8EUFD1AFqENSWivE6KEq0vMAzWvD0vMAMt0GMtbivDvAsqIuwr7l0BSHsqMpMtACvDbiMvMEsv3wWOAFssgkMsctElMtADAFcsorvwAFJwrvKoqYrErArQBgqM1vc9LUrfKvdjVjK3K78ABCI1PKyKgq0Acq8SYqhKoEbcLIlKqqpy0AHI8weq+ixqrI0SWy-Ktq3qzq7K7ChaFqhy6qpaYakqxqhaPqzygIAa6Kvy0AOa6ahqhY0q8KlagIZa8wUq-wB3SUM+aCm8v85yOQsSCMATPtXQGCpPOC2eE67eMis62C5yagBoAAKxjw0WuqbkEFbmIreq-LE3AtKiIUXOSHuoQkeuOC2iwFOvwlgsvQ2PEmdQzUZUyhzSxp7mCqiVEuwsgGIF5lcD4s8uJtJvqnxoJu0uwtUscFgEgDwoZqZpptppCu3AZoAFFSKeb2baaM0AA5SQIW8KkWoWvMxyZ6+gESGGtkVGjtMQq67YATCCZaodfAIZeWmre0Y+GW-iHWxWowlWooNW1uGAtvbWkG2GxWhGttVqHCHWzPN8ycEuPfbCf8jMVKRgP8FEr6yQKQWBPCRmXJAyHWgCiPQEYChSVBN2vqF8ZIS0r0yKaoGMzpRQPfWw9SdOhMN+D+WELPG2+8ouNU3QLUo27eK9NUgWgIAur+Z2keHob6368ugmyu2W6uiQ2u-wOsxmdk1yBwxIQVCPESU1R4UoRI8LDkzpPeVOhshMM+XAMAD5JgE835M87gTAa3Z-dwCgRwc0IcG5ZkRgX0D9SgL9CPPfRihFTcS28+y+-Q1CCMQk8G6DB+79IhUY7cRwHY3NK47FSY++5YC+z+5+64FMhXAoz9MBjfOwGIZkImLjWPO+LFCiD20gUgeFISFaUmQCTB3yhgTouaTB5M7cEY4IchgsYY0YyQAhqG5Sch3QHoxQnqEgEyTUVBhNMiCiHhxwdh5YTUECAASGNJ6O-oWNGIQdJE1GQbsQE1VwEZFFEB4Zlm-oMG3DgdACUcoLcBYFWkeGvvh04UnH9EoapW3AjEJCYVMc1Q1XzBFhx2g1MaMFRUgdxxcZquNW3ECCfBfsgiHVscCJ8csY91AF3roeHEPrbBPt9FMf0nSBFl-B52Ilsa1WTitUGGl2Y3nRccBkockc6J0flWFH0cCbsgMa-t2KUhGL-ptJ9WtWyeTXI08eqf7FqdGOKbNVKZg3BqAkqaqeTifFCYD20eIA4aUG3Gop4d0C6b0fAamELEiPie2GCGKYWJIt0GdXKcMZLJMfIlQlmfGcEZKcYBYH9A1AAZxRWa+B3AAHI-75ohiHmrH-60HJjTGtGunzRGAlQfnHKpDCwccchb7enlN-me6lIM1tFZhhjg9hijxyBhi-hhQkXyo7oI8nwFnUQxmJmwWv4IW9nFBCXcWTnumzmLnSXlH8XiX2hfmhloMSXvm6XjKT8o0A6g7SAQ6ukohcIQw+lhpKQjGudmjxduwRozHObkmxXiAc0mnC1BXVBIXG5ZoOW7guXKBGZbkqR+X7hVHFWiFXnMmlAJX-GM1fHmGhMGnBgJXKWRo2X4l-mxkLxyQ+XLR7gDXF5GJS0xdedbXBzpSm7sTxIIx6m+hfV5WWM1hbXc5TrdXNQ2IgJLYBMnXzx7RXWdX3Wxp+mY30IG4LqkzgmSL-HIih1M2+lJUgIhlLby37hK27JDWIGC25kyHqKS3mAs362KJXnm2OEyG1Xg7NWeX2gRmcXIje3mgGGUgBMB2NWtXUNa3s2KnbXKXx2g3QM7qO2K3E2G3dZSEGI6ZMgCChWmzmd9tsKLXc0rXw3j2lWxSByPT5ZKQBFNM9p6pGpPXAXoIVVNxTXVn3G-3FnxLFWBTKoTwo8cn+kTUGpVtB9wCLsJXPD3NIjAOcXsChXXngORpQPDxwONpmm9p4OKZU82063GA2xyBqBZI2Qg15gv5EPAX32TWhWyGUXyPNGvso1aOiwyO2wF8GPjSh0iPRRc23kwAzTIUKPH67r7osIOyJVyBl6162BSAHpiw3BQARtIJNQo0RtLdLdfAlC-gQxFBWRah48Fhg9wlhWccE8rOwiwncbZgEmxAdQPAzOwblMh07PGBrPsWax3GfPrPk50hjPSBTPRBzOTVV0guZYHX08WR5VH7M7JEXqHFqNv1LYM0257Rv0+4xS2UyhKhZozPHAeBdBSu2tBzzApE6BCAGhcuI9LYwuIucJyvov110vGun7yyD2RYnPSZ6vuvA4pyq0nPeuH2pSXqgvmv7gTPKuiW6uGvH7iFRuncBugupbwonPMSOvOFNuJujSPiS16BUXWuyuKvIvHAgUQT2hT2auXqlvuvZu6B5urv2voMuuVv1yaZvWnABunvvvqvkhMzqNOuQxwhuup3pRIjnVSv2vIiFv7TulDmtSAhPuIeWhhvVuihJv+wpEZvxIWuke8MhvvveuAgl5+HYQ0omUv5NvT3hHthQfSflvv0JQmf26f2s9uekeA5ofoFWfsez5OeKz92PSpQWeYvLPfPbv9CKeNzcejvPSo0BL5BVOoj7uz3MI2BgmHjivR2GEQgiuqg350hdfvGMpNR2OglggrfUWglA8SoWAcOqo7AJPWFuzovv0+zFfSc7A1fyBVOoKXqPftkMumvxJNtuvM7XwpEFPLYw+pPv0Fj9eqh3VoLZPxIk+bkY-tx7f2Ol6epNsGgMo4RsVoHQGI85e99IiP7q-keohB9S-DoUD6+lAW-y-DGkP3HO+E1m+y+USck+-sU99oMR-DGtGJ+vbxzrV2-dArCe+Wv5-lCNStHs6v4V--9F-AXIiS-B+K+t+UeF+ND4uG8P1P3jTnzf9sOdxfHrCtNO6tAL7mxb+9Cjn2y2IP1HA1PYQI9GBN4PUFQKoAbAscJefXGYBf39bgDjEL1CfrIgP5TgMos-G1pSBP4mEFe-vQsANwn5bcAwYzT-q0EYA-8YW--EDqv30K7dgBSoafsP0QE49aS+7KnihxPbA8tyZFbntQJpa2tdAXA9Dnex+4Cw8o0cf0lWntYRg6SfvbXvAzNKgClWZ-M8LdBJQsARWdheYEsFqB2I6A7XdQbxUlR0AquX7YxqTHKz+NdBmgtiAYMzqvNS2y6bQcqxS7LVMUyg1QepHMFaClB2QMHmBnKwC8OaRQdwZYLayv4r8vtElLDUCEmDdAgQmoIYKv7GD7BZgvKHoKCHWCIGtg1Mr4LfiOCloGUNwBHkDo-pkhFg5hMUP0FApM6fg-sDkLeYuC8M5WO4p6k8EqD8ASwDWADVIi5o98rQ+QGpDtCWBsgqDFwWrU6FxdOO8SHoeQD6HODBhMw85j3xYreYBh5zfxlSiNahCChEQsoV-GSgfZmhtdGoZMOmHNChhXgtTMsP1xKEN+-5PoHxD6gQEQG0nUACSFBA79JgUieAeJGn7IC9ClfJ4VYRWRUYcB9A8IhtC8R-D2ezw+QOgI1Iud+QUwjGI4Hkoa9aBF+XAdEOhEUCH+e0eEd1iRHq98i8IjEa8I0I98ZSwTfAAOh7gjF-G24SkaGmpGYc3OnCIkVCPVT+MZS5gI1k4Av7wijA-ja4eBBqz3C3grIl4TCMoEQNv2qqPkXYyWbc8XhkrXEYiORH5FoMfIqoVKGgyKjNREIZUbGFVE0sNRaPAyEOh1EminI+pV5nSKpGwsFBuaBNKPRkhzCDKtfbnoZRqFUpsRIgVTgsHkTaIeO1vVJrx2OC6AnWrIp1m8NgGy1G4QfNSolEtj6iMwho8MZiLY6rA26-gpSJGNP7GlVRzWOrsJDIb0iI8sLVYS-FeZRknRbCE4fmMSjei7ACnfocoNa7tczOcQ6MfxAsQKdWxl3WoOvniHU95gvMLQUYGCBUoCwdAe0WXwpCOBSuvQHnuqmaQvUzOlsMtvIDFJKoL+ZnMcXfxGLpAzOI9KwKADKIAAJbmo4AACC4AcANzQABKZRSAAAHkhayAcSPwWtzLE4xgY1FvDUXHdYJRe+QgJQRnHkh-xGMSVk2NAmVsQxQCJMZSybEyAWg6Y+Glo0Ql8Ifx5HP8XvjPEXjrxt4h8c+NfFoSrAXteYOSBglBi-x8Envk2JdGgS5xV3BcfBPKgoTaA14OYSRylxl9MJs8cCbYEAk985h7INoQJkfgvD4Ui0IJL6J9BFgMwbEtYBJJd4cCERAkrEVUK-GqdeJ1E3oRjEAkEZR6AkISArQnihDLYAABgEI9R4gx4IrMZJFZlhw+lAL+IqnskqASAGncSBixMkeThQoxHgICKrTeTYovkxgFo02w2SiBVfJQCv2CnSsnJswN0aqhCZ3VuecU31m2GclEt2+lwnqJYBrhRTH6TgDKMFGMmbwCe9k+KZlNmB8EVidkiPA5JSY3JnJsfSYD1CUFshjwMgX0AJ3BJUYoBLHZKEyES79A6p7fcgelNFYJTuEUIFgUqyGkcDVUHUxwF1OkC+gSCJ7XUb3UsCdTupuOFdslERjPtleWA5aatN9DeSGxzw0QI1FhBOBxWaA5HjAwb5RiVe8SM6XtP0LA8qeUAkbhSmrLMiIRDfJ+mwK5gNxfcogTAUIP1gwChycAhAa3yQEZhfhKjLEVDPYEMoaeI4r+A0DwE4tKR+UNHukA+lrTFAqIoKLjMEGGlhGePOWFRhQ78jgyJqHaStL2kkFuIbjEmb6GwL+d+w6QAmZqEO6bltCWBFmedINb2jBRfQdQDSBT5H9+SWI1LjGM+HSJEBM-X4SvwBGTBhY8A2qmM2HF08te3MYgH0XxFxiyZasugYjKGQWj-ADpNGWMQHI-TlgUxDmATTwBtxPZEYD4YgIRld91ZIhe2VrL6lVpdZxqHbkbxICmzDR8-W2eTPaAWzrZHPYRpzysKHSwRn8IGajKDm5jI4TAxiPMFunhIegawe2ZrP1I8oPZXskOX5htEMi7RJCYQZKRrmYQN+WckEoBJfbW4o5hxM2Rr1UAI8buiswFuSO8YljGR-7OuaWMN4ehXOcgFkYPMlZ6FuRRArPOVjGLhQpZfICgg8BT4Dy7qQ8tOVKJ5EuzVAVXAUZ4jsJCiZZu8iPFniHn7zFZsVMAJ7LbgrzIiA8owFqnlEyi2s-jHuThENHqishBNdUW1i2nJAAFfc-ImWxAVZiigZbcBbbP+JWiIGU86kdOKcDeS746OYVj-kCx1Z0c6LYyd+Q6y0BFgwE2kJdJ76W1Lpg+YKQvmoVGD+gL8XHNBjoWStoW0gLqbUFFR3RYOrzS2uwrKmNCrSjtIsPVKUDeSwxLLZVKpLKigAcxJhJWfxEWCR5JFlsfKSoXb7FS1gl0lRC9SgUJiQ2SkKBSmNkVJiIFcMpEpQoeQFCMwl0qxSkCUVr9jSRi2cEJBEgUjbRM8-AWsIgY2wD6LLUqQ1IXxqKAxji1BFWKsDOiTh7iwsRvCPEiRcJjgO8buAAAy3NN8SKRfhWSpcVgLSd5NFCWLh5bikCTTzAnwT-GUEipZKiKX8TU0rzdCamGMmihB8zSyRW0p74pK0lmS8ACROHDQS2I9SmiYC2En10w6-YOiScIYnziSsLEi0ffmMkcTmhT4KodMuWELFL2SyiPCsuWFYt7RntEZbpLUmvSsBwkyYWJOUjeTW4QST2qSGwXSKVJAE9SY-E0nxjWlDS-SfaIeCxAGp-zWlsKCdonKFFs5fYUJOaEiT5AVyooOSKWjJRxlJYNQdsMmVKReYibWCfQEBW-M5FLyqwrqJqFHLPlqY+RfpKhpgqLhksl6AoCCVArsVUXClcoPKkvUtQgNcSD2KY70qhk24QJf8195YDMZBsquKyq4igjflgFWlb83pUSjmx2QFIoosECX54oooEloyrlWYKyJFIZLrKOYU9EjRG41xsikLAX91xiS5OlGiHDB4aOmKmfqBKmRUTaAm8KnqBOS4KS-pKQKRKuPEizKmJJWN1b1ykRYN1wM6BSbKt14XENlLYjzjuAUl7LlB-K6GvdFa6sTMVca7IOXn7DLNMVugGoUGvynDhQ1cwhgdDJEGGlAMXpSjpYEkW2qKlISr6cuJjFJjLYMICheRn0Xay-umq8kNqpBXuqt4MYr1fYAqWMScIzE3tQGpep5qZ0wUuYabUciRrBh0anZaIDTUsAE1AQVQEmqXXeTV1GamHmlOMk5rfKU6rQNWqLX3txeRpV9j+FmDDL7JwebSd2DdULCsFxk+1b+MdUbz8B3HbBW6tebccFJ76rCY6q0YAbMVQG1YJvEtVVrQ1yAu1f6veGh9pAGKh1fQEtgpL8J94x8S+P6WTAMNN4rDUROyVZrUNR61uM0BQ0fr6Am4huNuAqAcdy1XHW9ZIrrVQbK1WSeyXBtrXtrOxIkCjZ0vQ3njUlGSrJfzB6UibiNB6hvjUP41FKaNVaOjeUAY1Xlwc9ZGEF9RHiKs-SGM4wSNFYbcTfY6moiFpr3wbTRo9CnBAdA01CAROm0Mfquj02v5VN-dOYA4Gs1FwTNL6lhQjkc1aMnsXFdzXGTs00Ll0vm8YXtB+yua6AgW2zeZp778D9Nk6eII8AdBsQAVjmkLcpjC3XqZBxAL6tQBKlGabNMqotV5s4JWbNNRWigA51uZqqWArzdTQVr0WWaqt+CVrVrEiS8rglT2VrZfhi2alReBNOrXcU3WNUYWwxLrUCqfy0B8tGUIvkBjc1NbmEbmoiGNGG1lb6yAWzTVtps2St-FizPIcKE2FFCNBdiR+JNqlX+aVtQgZbdFtW1DJhtHPLyr5QC1LbItO26rbdv61PboEw2zdKNoWLwtyoF28ms8MW1za8lSW0QClubBAQSt4KsZZCsuVNw3lI5aKlgEG3JBFhw0alWyABXJbUtkqpUFWycXShollHGsZsqsLP1Md4UcnbEqp0aEMdTPdIFSh+0fFDCRa2JADtdTUA0WO4EHTmgJ0KB5tCBCiVg1f5gDjS+SW-uPUnrhBc6mwe0bO25aTI4dFAsNbLCVJI7RJKO6UHCv0gUgFg90JQFbz1pUAVoCJHZlrAoGk6-8C-Eymj2A7iBMx8CiqLh2qjwinpXvHYszsx3bgVdQ7IAo2wC707KdLYo+aMzZ36Rht3OpNQHsDrqtVd3sCbbjqJ05pA987FHgISkTMhXWAlDQZbAACcr4HqAXt4phrSYgAhbdxQ0Fhr-ybgO+APC15U9ISG8YHk7MYh2BAi5krXgEHL1Kg7mdzcqGgFH3rrqIl6-sAPppZDhi12wAffXtcCIphJamIZHYDvDlYhZUghfcJKX2yFdAeeqLYJSukyAeFfChOZXCtXw6LhZIznc0Lj1jbuFvFc-atmB1p6+VgEJ-bwrNT8LRdP5LdvcCJ1QRxm90RZMKCaAPBqaKikSFqEtiptagLrN1gKzxYZRRt39Z8Aco7WQQEIjACA2TS8biRtwDwNIkiy17T7twt4O8Iu0UUssh1aB7sjZUToRhp9zLOlVqC8glqyEkg37pBFDWUdqORYW9XYnYNa8f1964gYBrA2oaGcfzOfWBEYg4G8D9UAg8tgZFaA70sM8wOQcoPNQFJWEIQzVJ0O3h2onBkwNwdMPgDtDRhmg0CoigJKGARh4w4IJ30nCEVkKmFZaK7Lo7gkrBqVSaLN1XoX+SgLUBKJzUu6CAvlQwMq2Wg0qAVIRh0dimrGV6vRCGMtZ+LHLaI6Ax4RFKgfujMqYxsB8SPAcQOLsee1LXIyJCGIYHi1w5QUBYhB3EtmGjomJeHsGEpHApTuHHHoRq04tedsY1TgmjZGSBLGwjdIL4aVABHn+K0eI5rVHw277dER1uFEftHAS2QdqnVYOL1WmqRtABpwACrubpjFA8CgADpYBf1SK9SPwfwDB59GbOoyhNW4gGRh9O4RQxQVg6vhF2QBg47xyONZjTj5xouWaio7XGzmPPVVIQEWRDIoukRCE6AAABehzcwKceSD10gT7IG4wsai4InHjNkZ49uFeOah3UnPbqBkfoDZHNwBxi42xCuMYnIqWzbCsMbDzDFSAwxWFqhDuZnw8Anx-Y6iZpOgm6TUrYYg0GZOsmsWeJ9qEAA')">function use_index(pat) {
    return is_string(head(pat));
}
</pre></div></div></td></tr></table>
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.78" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.78">Exercise 4.78 </a></b> 
  
      What is the purpose of the
      
	<span style="color:green"><kbd>let</kbd> bindings</span>
	<span style="color:blue">constant declarations</span>
      
      in the
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green"><kbd>add-assertion!</kbd></span>
	<span style="color:blue"><kbd>add_assertion</kbd>
	</span>
      
      and
      
	<span style="color:green"><kbd>add-rule!</kbd>?</span>
	<span style="color:blue"><kbd>add_rule</kbd>?</span>
      
      What would be wrong with the following implementation of
      
	<span style="color:green"><kbd>add-assertion!</kbd>?</span>
	<span style="color:blue"><kbd>add_assertion</kbd>?
	</span>
      
      Hint: Recall the definition of the infinite stream of ones in
      section&nbsp;<REF NAME="sec:infinite-streams"><a class="superscript" id="4.4.4-sec-link-3.5.2" href="./3.5.2.html">3.5.2</a></REF>:
      
	<span style="color:green">
	  <kbd>(define ones (cons-stream 1 ones))</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>const ones = pair(1, () => ones);</kbd>.
	</span>
	
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (set! THE-ASSERTIONS
        (cons-stream assertion THE-ASSERTIONS))
  'ok)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNBiQuFE3NFEEtAoLJcgUQh6GIOhKF4mJAvdVJ0gUFgyH0CappqWbwlAAAfPbFNFD5SGqMQNsULaZrmmIDqO1IWDkjghAuybpp2-bDpfZaMnGy73pu2I7u+sUPzVKVNoBp1zia8wRpcxsUOIV6ro+iJCgC-i3Uh7bKHCgbkyW+4xAkYQGFnMEPgUSgdj6Yn5ovBI3VFBCjEoanwgAMk53p+kGKmbuEoFKDp5gxHxrBYeSZbyAUZGceuhnFtFMXSfJ0EUYBiy6Fl4hCphy4WMMXxVvwRt8BkNJdc13Glaxlw5n0CMFZ26GCZYxLiAYc1qDEOg5dmtnTroMRuGIAAPQhAjcZw7aZtENfBH2-YDrTuBOs6w8j6PDFj-GpaJ5P-eum3FaLBb7aJ1XanVucXZp0Si9T-XJcNtym+uhhjdNv63tt8vGYEx2I2HutS9d-kDcG8wO9mhgkYYCOo+IGP6HHm7iMW0fbWd-7bcn92htSCplDYchKrXgW44ElXyBJmuKbZ6mLJLIQQJPs+L7oeFPvu4m1cfgLCyeZToOgYB-c+2Vv7hDulPQmECv5dxNo9MC7MN7LC3nzJ2Y9t6oI5pMN2BcEFQPnlRRe2cV650vmg+amCRgRkwjQg+rdp7S3JrLFgwhyDkOXqvOgT90GxGVqkauZNAFoIsmfVaXCeE52cC3AuUjOHcMXBQOWo1DACNoZXG42Ju4oIYBbK2ctuC4K0QfRRHCZGPWEL4LR5c6GDAYWPK+zCC6ikCl3ZgWhU72L-MI-+D8NZANEp4j4VBiDN0IW3cwnil5yOoRzBxlczGuIlu41Ibw2Kok6H4zG8cq53wAcEiRoksnUByY2eJlD5EwK+v6W+98xElOfmU+g2TnA-HCT466CiYkuHKZUhgy82Lci0HkoRlcKYMECDIAR3A8TRNYSodpFTOmNkpG0Asgcr7JIKdM2Z8zQCknzv0lZIg1n0B+J0UaOsaA5mRrs-xUzQQzMqEcnQbsWGE2OlsmayhHk0L2TfERRSglzhCeCYw7R-l6yWYTT2Xc-mOEBdTMIwK3SPyhcigF4J05oLCKc5Z0LtkAq8RE1OminmxAwSkrBjD8FEsJlUUgHxyU9J2QS7RBTHYC0JWcb5LFo4gW6ZE66VKuUYpcAyyg-K4EsVFJEzQuISWwoEei55BTRTpEyOq+FCrUhnzZaK3xfLuUgrSL9bBD4uVfIyQwdgHgvATMmVq0FTTa6U1KeCR1ygvB9OWb6rwDr8C2JdRXHl9KXFMPSWc0UGhCAgjGc4cNATRGeqOUnQgibqDJvoAG5l-TZE1MSYIiNQ8o02sZQKgu58xDFr4RKpJmqK30LHjKghsblmihAfoJe19mbuuKXOJeFligt0FUfBg1QKjhwdPoDiA62EZxDkMLBi66lE17Y7DdXafkfnDgwIkFsF1UAZuebojId1nr8gE3t3RwilHBOO0AzRuh7pYulLxgRZY4jZN0UkA9zwtSBOlP9mZfAnPyRazs-NH2gB1WwV91IP1TtIBkQFFKy6b0ro04dXqsOzQsuhjgBaWJvFPrwKh-CSOFhw5GtttpaMWLObRkNYbmMDwCYh61WQIzMcmCGUoWLOj2XIL4ER6G4UhmaGY-jGHO0CsneYD4wQvbmjTFVao06D36A05pWOA9XyihnRHed+nUS-hDBevwjJTOHuPXMizedrPFRUIkQIc9nM5ROv0IShkVhft87+7oFlvN0HcsFhQhUYL8BxGFtwmn6CRcoD+6LaF-Ss3C9wJ4gIAB87nSCeZAuF79fnnx4WPERck5x5VuVU4EGZGGdM6dndkBTQG3McVuYyCj65qPtebH5YzqR7Pzu62QOgVmVg2d8HZg9R6swnom0kQ8DRzzKA853NjUXAQBemEF1Lfn4uhIwyltLMXpilRO+CWj52-N4sMqzWjOXwgAgK5tor23mtRYq4xKrA9auH3MFRr29nT1lvLYO79Z010jF3UpjgAgAAqAAJAAogwAAguAcA6OABKyPIAAHkAByyAgSIZOMplwMhJBqG9olgzRoIe3O4HIXWS6yjGFaxHVnk2-RFFKF++zNdwuaJW1NmT4gBydEbOLpln7ZeZEZxpVEmiudo8xzjvHhOSfk8V25EXB6xdM-V-z1bXHK6HbS2+BbjmLdTYS2r5w93ZYTrwFLFqchFAQBgPAJAqA0C9TxMDlwxAUIRPXmHOgOZzXQ-hmNdeguZKJ5+EjZP0lmjautvXFPQvZLyUIEgnupD1yPOQWbQxlsdZy2TzHuPWeibENRJn-0pQI8-Bbym+uDf8+rELjHFOJc8-SQ72uVXvti6B17y0WP-fYjZ8yasypbeDTj5+IM9Z0e5+N-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-u3o-r3u-pkDsULupsJnymL2coz0MoGsTGktj3JjkmxAFumALhzJenLttt1BrI5L+J4w3soo7wQfRGxD3piDFvpvrWItyJLjEMouaEMpUiBF5VjthPb15hGELr3oYdzN4ybrNkrvZuPuwdaPjGNICIwKYfZDpk1uoaaJwaKFmP4bYAsmskenKAQ11h2KKAVOFPW2VOlsZHtOVr7SNL7EWnQf4V9utpds5xqJ0l9oENsblj+zEbceDt30QaIFMbj3+qcuNpcpgawdgZiBfOIaQZ8YUbQd4cwcLr0dsOPMtV1QIfQiIZzC8dIcqIobOijpocDjofQgYeNqkZYezrYZklIkdnjtMvKaUksb4Y3utFtFAdbMq3EYMEkbyvVsXkmiZLkdTgUaYovqCZkPUZEE0blg2Nku0f3L8LdOLAMd1iMZ5ssMNqDPMcrnqesdjucb5HsfQkcaON2dcZ8KfI9vD3Ce8ZFoai91al9w6gD26mDwwDitSCjkcPMJcNYTKKmylUKQ9UfnmPeacOarhXmpcGBc+enUmg4FTjoOsL+bMXCIlnPEhecNCNYRQo1mdCxTmFhtiDmAnBSOmCxQ5HxZiA5CJZqKxQQnJcnDgipZxcTgpjpYpkZZJcTm1V+lhq5cyH9GJbf0TmCkTXE1huFbPjmwNAFaKCxVmPJdmL7GlcKCxRuBFm9hYEMDxVVdUHVZahWCVdiCxXnrpdiH0DKtAF8DewKxUMXslYNZiCxXchNZiDNe4EtduJUK8jtepcTnTOmFdYtatdABUMhAtZiHtfDMhuAGdYMHNfdfe2DdADAG9aZchoAFIY2A343rXQA02w3QAI2sUhYTWs2g3cqRJLWfXIaABCYSEtuNst0AWtoESt1NsEcEFuzNhtj10ANumIVtjlyGlugEZ10tnt4d-twtxOPLLtt1xtgrSdqt9tvLEd7gIoMdhNlQldxdttiEatmNxNwoBNmIat2IZK50J0VF0wqFtg62vbFYK4uYbgNF0FjF5MflK9j59Ftg-AFgAAK1qpAxDCuORFuJpevecNhqReSNnL7BfYsK9ydCKm-J4Ag9fdflmixbnCxVg1htgwjcYsNcTkgDoDVAqW2LXZI7I9WII8I8jfbe1YYFgEgHJcY+Y9o8I5VaoB1fRzpcY-Rw48YqxVJ3IFJxjZE9J1qdf0va6zQ4sIw5FVjvvemBA9uK9u4NQ6-fQ+Kjfg-dk60-k507ngEOU4aFU4TaRc3E05BcM+-N06Q60MTVxHg6+eTB+f0M8Ipi53sO03FFIB0Jyb-fIDzBzNOk0H0HyJc+hcTX9PhfKPyLrS86OCKGsuJX4mL36ZLi5wjsyMy8DlSITSHIXTk9c9ikwbIai4U6dsroK8HJEGK4M9K6ql-YA9MBtoq5K8Jrs+M7tv2YaG6dkderybmgliR2ka9jEC+ETqqSG6aIbPS9ydIqQ9Csxbufan9y6iD0wDeMGIoFMAYBhQ+CqhuFIGdRAWoCfFTqJhWjWmnDMXO6fFPuAI4Ypp3kpvPgu7+AIT-oYB3v3uDlXuAbh1e6yAe6+6e6Mhe74bB+wnBZWQUBuCRWKLqqDjOnNo8fIGUE2wUAyCjyMH0Kx6DZakXr0yx6kfBDnqfTntnosg-sx+UEE9DAp-xQB9eILgcFUWMFR5Dg868N59Bk57o3-DZpXr-ohA-omkR+MGR6lCuKEI5-PmMF54mD-usHBDh4V9ZS9lGgUGuLEFWqSayDrQXyfUQ20mmAP0fmN9AG5mkkCMN74eN83TMSd6bdUnHRN4MEdmt7yufXN-Xzhr25AkO9ihO+dWN+xPbG9hfrzX4Wt9t4nBzzr3qLEoGyd6LtEnF8Xs155x1+B718EM8O+93onDnr++cqMVjJ+eTA0rj6L83s-v9DL4-pz+17IF15d88ML-1+L4C3hH95WHGLoEF7ylBFhseLKGH8V7b9IB4gXwPyyyL6E0n5H-BFpe4Efm96L6aaN-r+4Fb6YHb-n--wPtXQj-P3BAAHI-u60-7r-pcgG7FjeNep+teDuCxSA7EYVP+DeeM5ZVp1ojsb-gOzo4iYRA29YINvTshpxG4ZuberRnhAQ8C8rffPsAI04Rg0B+-V-rnyP7S4UBQAj-pWyEaYCV+0-d-mQEtb-UguIXZQGFytJkIo4HgShH2kjgG8aCkJVvP2mX4iYY+UCWGin14QDZ+0fXIoFcWoHrBaB1ATQOpUYEAo3AyvFgYQAITS4k+yMLgefixTjp04ATSvtbH7TH8l4-1YAUgiUKHpZBzA-tEZgCLxpeBnA1gTWXPC3timQIEMBXxrzWwBBCSfhPoNbJXsmBiWMmAYUZBXFjBxsUwSYX8E20DCigk5naSLSMNfetLZfqzB3TyA5BxgQIV3w05mJzBAQ72FkKQED4nBPccniy2SFpDKEYuLvtLmKEoJye4g0LlIPoHl4B+JQelnMXiHG0RBhQMQcFwkF0CZBFQ+QffWOL2Dj+StToT3GfZDCMh+Qrwq0V0bGEq++g4UkNUThaCFCpeXQfzXsHylXSCoD0pHHlKpdCYqxEgDEKu4swlw6g57o7BuGQ8lGo6USNZEWLyE-KbkM4WCxrRnJBiMBSwWTWhysx7hBeCMMCIHyPDI4qjWQksWqqCC3IvwzDu1WWSlZKA+AB1OpmEAVBBg-wtmp8IuG+8LM6vb4ciMxGq4ksjARIhcIBEOwsECIgMj4JOEew+KLAGdLDhh4y1SabNVmOyNNrURiRhMFkRcgZrsiYKrIkOFzkdiCi2I4ouHlKJyYZ45R4oq7hGEVH69ZRYo+tNphMY8iHaLjK7lWE8A6iw6-IliDl0GA6jMauoujFyKXCIpVRx9UBBBCwaoQrRYDBVN1xoBR4nhytLAWMzJggIGA6gEQBwFIAMwC4uQQgEwVYHxNjCvaFYfM30YodVRf5DUS1hMbejXarTBJn8VgyiihR+vQhpPz9GkJSAgYoQMIBDGKD2crtehiskjF5jpR9aBURqJOaVYDy-wYwkCPsHxNzm7Qi6PWLuH2DuAEYuxKCLGFZjdGCY7MQJEMHBkzmHjEcTEP+pRZo+JATIhUAlZdg2QG48TDXEMCAZqR13K1IYEWTL8dxvgPccSCeDS4UhWCE8Yz1NZE8jsssVcZHXPFdhnxCgMiPeO6F0cGg74smPuJYzdpQa-nfoBYQAlGBtxBEXcYBIPFs1eWYEU8efgAldwrx4wpcLykWS-iXWQbaoKNGegQSYJF4wYKhP3FPAcJoYXLAmxXGYRFkbiM5CuJkBnx2YGgdztSC5zMSqAGRMrL+hXEgcHA6cYCcyhYk8SosQccrJcJ+jJNPxnvPsoP3dCgTCJXsSCYZF5SyTuh1EgrFxMoBiTPxEkl8YwjSyKY9i0lcOIRWnSWxKQoIEuDqK4QNwA6xEc8MmKBCqi0xhtI0ZmIQkdgwYXoBsWdAz5miHRn3DgNwHsnVjOckfSXAwFVZcQ3JzY-MRp3Cmuj-q0U2KY3Q4hhSqAEUvUYeOVrk8ZAdYWoHPWX7ghCpewYqdLi2S5JMprEM9I3zaH5SYgKg1IL2kXQNTYgHecyZHSFBddc4HwEuLVOSne0WpwyJcO1O5hExWY9kz3mlKoBcQIwi6SiQaAjAzTlpMEbiZNhinzTG616EymQ3QiOw1pB06CN7WP5lSipwgIkaZOJRnQkcPmfSZlUPGsxzWWkhDL9DdHwi+gfqb2IwHCx6YzczgbgMYNqnGDHJ5Ic8OlLeQ0huijIOaZxEbogzspTIckfRT-ETgwZXk3sVDJGIFTLprQzqe9MyAP87pkgB6bbhxkrwYin07mpkXFyO4cp1o3sUxJYlXF9s9k8evljnJqATAwaIQGSOZz8IOZ5kScLpMmyMyHxN9BGQLPNyS4JZXyMbmxlyAOBRojIAAAzU4C4NQeyE1g4CrjaCsUagIMCVjNZlZoExkErPzLmzF6eICygUktkqyyAcPRFNrJLEhTkaH3UcHEGazsDY+06X0Fd1Zh+9n2S4NjL7JIRGyd+wUx7jTJcCeZHa7I0bDRg6xOS3MYc2wVplNAIZb6us9TBnJyhGyUo5IAuEdi9hiY2AzqHEUeT+JxjoxhkUoC7Jzkiinh6cnNH7KNlsMF+1w1gfXL7GlyGA5c51IOKUGSyig-cweXw30GdzYRxw3sePM6DOpmM-1CoGuNCCGJvBkI22o6NCmuiB4JcwIGXIXl9oFGsY8+MfMGaxBXw1U0Hp7KdGOgexIpASKlgLBZjZmh5aCM5JTH5j3JegiWa-MfnQ5cxLAKTufkKmEQDp4YA+QPKPnxSqIMFVsToywD-hJxhkAJECPCD5FSg88iufn3vkHR8qxAQ+TgtBGFCiqjULusQAnHzioc0qKBRPP7Th1upmRXqVNBjh-Bo5TotcBLMUo-kNRX8xsT-LryeTOcw2AIsmObaT8Kg4MAOVOMWgOA1620hGf5OFFwLVRGnE6YUC4UpTG+iw6wa1LPlrhfwVFPAJCFMWuYkxfC1yamK1EeTOgf8kMItHEUiRYMvc+RcA0UVcQeRGi0ALArNJqLII-4KCCNL7DGQmF5o2+TvK0XGi35HYgIivKHKpA14Wi4RS4zdomKzF1cgSBdIqlXS9h7Y+JocMIocLIldilKU+RumEw3FuIdKQugXB3hwZvY-Kb73KkcArppUlpZVIUnXzalz7UkMv2VqjS2piyDqTEC6kWSWF4tXOOwsIB1KJZgys+YQEAzL8zRlk4ZJMuoDTK7wMy7hUmzACmLIQo01mDMq5g8wrhcEBdH0vPxVKPFjdRadhLIaLTSQ60ooNcpqU7p7l6M6YDuieXeK6irtc6R0tyWMj24Wxb2LnMGwy0kZYspIMDMIGrNOcPClQM9EYC0YLZM0BOREpXg6YIVcFFDtctxkuCJwrynafoChVs4NFfWKjD3mRW5zR5-oTGSIrZr4qqZsM5pfjOX7ySLe8JCJOQM-4QqAKG0GlcxmWmUN7p15fScyphlzQFZkgUAFrgYD45LIAAGXRwU4iZbATWWcjpzSzaMEuTaTCt3mHjQcvOcOI7k97G5Z0NcXVWaulxfo5cucjXHDztUq5rVmuDHAquVWqqnVA4UXGTGtWS4ucK4wrvV32w25js9mRbLiGWz6qncGi27GdiizwgcJYa39MHNOwcA3c0WBiciNBX+qY13Cw8SzKoBsztwqKhNnOXsLcJaMEKkOdCroASycJ2qhnHmrrXyzlxjhGLryq-5wq5ZVo3iTxCu5FrWJmTVBoY3LV9gg1dXMmKpIOYzoZZIhMleLNdHLS3p9ha1YuoNVnT7G1jWSeHVxJdrSVhAxmf2vPRuZWgoHUDJICdhrFkYJA8EGKS7XaMAkuY89ckWyrUgO1es4AYeooHHrfskfV9fwjpGaISBO64yX41JFsZgg86teOFgN7Vq4NIyuEgMD9UYYAZLuegMfxQ0wa4+gMzDXD2w3-TENxEBrOpjw2MBtM4OODX5CihsBAh5GsCvKp1wE4icZOcAH5CY244WN+uNVVlnI2vZbiZsejRhveDYVK44IDENdLDLYbq1nGEjaiMaxsZKNumJeRDLcxCaHVjIeVYqpVXsbyQ2mz1bxtDkYYBNCbDTbqrE0FIJN-qf6oql6a4g3gf7VwicV-5WoXNcPe0o5sNiKD0eNCqHu5pNFuRfSXmlEKMJeJc4xx4WuHnZuVTgIUgTm75i5qkkO8AtXNWnCs2CgJbTAPmiUVglS1hlfSmWw2GFt80XEQ6tofLVrOIBiAIkZMb9UlsPHDysy4Y+gH+3wDVAQaWW2VH+tknJbNaIWtzgNrZL9Lpa-a6XI5va00YV4IEIbaWToBdaaur+B9d+s82tbvNs2lIrhCopgbysXya7EnHAEWRlthA2GhNuqAOczkmWyba5Xi3FaetxkvrfZri2GAutKaIraFrkm-QVBSk8CSpOIlSh9sx2igeaTZTvbstYOtkvdvKyQQGgb0q7R1sK23bQtN2l7cVs22VEdtssA+PtsgFHb91wAsVvFsm0XblkNQGreMmqJ9rfsg6z8ZYVZlsT9sTSvLEgoNCIS+0+OwgfoDJ21aD1BhOldBFFVkzxVtuM6bYC20F5BdqI4XcdhGmBLkMiGGHUUEx08R8Y+26AdvSB2f9Ya3OrQCTsJgRwTA-ANQdGMPHaknh3TSbr+x+B5cRuwK8wA0MkHSD9KXfKHVjqLAWNadOkktf6CZ2KQDdm2cZOpGYCzQLu4yPelv3mGMznlprHMOzitYHSlGsepDbUQWJyEIWVALeRsR3pIK5dhQcEA7oGEw1lBoYUoJLvJky6axZChXYpGV1ux9tBepoYJQ10c6KBsNBvU7qohIdIZyhZ7SKzmxAgAAnCcCITsQJW-aowGGMu2j7xM-a6dKNDZgZkT5eih3h8BtIxL-CBgFwHlTVkXyYg4rcTPoEv6X8LIaAU-TMx8L7C+w++uxOpIQWFBr9s+ipOtFonRoNOLgLyIsioXuM990+lVLTqf3TgbaNwQ9NftjmCA2AYmCTP8WBpT41MrugdXlNG1RZVdcWJOBAfEySYCwze+4loEfX6F0DUB5+XyLDK5DUg366oKVFXBkBHoucGjoitaCMhQhihZgGYJmGnoteduUqH-SOCIDRFBgB5KQBoPkc3eQIKFBVNmg-wpx1+iEJ5C8ikHQAwAxSVwdUJOsEQSG6Qwf2-WtBjg-2fJREAYivgURaItaN7ExFShtDCjGTc1mg1EbSRpWSkRYazGvgBDQh1YiIdEi5w86WkXfaxF-0yHZDXkcLIIDMOiAAjnkXyLobmYhlL90waQ+CDCNeRFDIxFqAkdUNZiH94kwyPxIZ0HMx1zOyopoc50nSg9b8UPbeqj38G49txSSstM11f904pMqXePsQwEIFhdu9LRaV+mGB7I60Cg-wFPUocGDQIJg+ENIPsGuefRgQFvR4N-ZHB0tMCnUdJUNGQ4Yq5ox9Ms0WoeMytbus93BB2QL8CMs6HVOYBSR-wQ-QXgepKMh6o8rQUxFgm2MacSaVRhNpJQg3CbyR6G8kQzFI04aWsVG8ja0U4265WN5OOGUuGywGAg2QJ7jWxo2NuhrNUmrAKQYPWX8LM+gdGQAB0sACGqdUwDREyBgguvBXRaznZyhoIx+0SC4fFpfDkT361E2bnRN-isTOJ1eXicsKEnT05y3gKuA049BWY3J0AAAC8rOoALE0UGDVkxUR7J2fk8ZJNCnvur+Ck+CCpPGBCoUESWCsyEDdH1oqJ3E1KYJMym42G-ROOQG3osBt6ygbeldMmCX8nQeAWk5zt1Osn9THJo0-RwhCmnyqFpq04gKVO+QgAA')">function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    THE_ASSERTIONS = pair(assertion, () => THE_ASSERTIONS);
    return "ok";
}
</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_1_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_1_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

    

  

  
      <div class='permalink'>
        <a name='sec4.4.4.6' class='permalink'></a><h1>
    4.4.4.6&nbsp;&nbsp;&nbsp;Stream Operations</h1></div>
    
    
    
    <div class='permalink'>
<a name='p45' class='permalink'></a><p>
      The query system uses a few stream operations that were not presented
      in chapter&nbsp;3.
    </p></div>

    <div class='permalink'>
<a name='p46' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Stream-append-delayed</kbd></span>
	<span style="color:blue">The functions
	<kbd>stream_append_delayed</kbd></span>
      
      and
      
	<span style="color:green"><kbd>interleave-delayed</kbd></span>
	<span style="color:blue"><kbd>interleave_delayed</kbd>
	</span>
      
      are just like
      
	<span style="color:green"><kbd>stream\?append</kbd></span>
	<span style="color:blue"><kbd>stream_append</kbd>
	</span>
      
      and
      <kbd>interleave</kbd>
      (section&nbsp;<REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>),
      except that they take a delayed argument (like the
      <kbd>integral</kbd>
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      in section&nbsp;<REF NAME="sec:streams-and-delayed-evaluation"><a class="superscript" id="4.4.4-sec-link-3.5.4" href="./3.5.4.html">3.5.4</a></REF>).
      This postpones looping in some cases (see
      exercise&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-append-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (stream-append-delayed (stream-cdr s1) delayed-s2))))

(define (interleave-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (interleave-delayed (force delayed-s2)
                           (delay (stream-cdr s1))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6j0lTkgPXDhRxLSUO6ttKYIV4jXiVuu0d3UpEbrmoJuck5UiXSBJXYEaCwFCzF0JYS0vWe6pDW+tvam2jKKC42ZYUY13FpN85hDNLF1JGX7qg7PQoRS6Hz68tPyPYrDFYuxYVLZHdk8FxToE+AL1eGb2X5XNVhXKtMlXiy7fi5DZaz3srg-nJyTbzCgrpthsz7a6DkQ0vNLaQ8hPyxw5V+6DGxzydm3sndM8FoTYS-Btnu3OfqIOaYTxUH9pqKOSA436dzWrvigllmc9kGkl2+0ANQ2f10k-0rT83E04QDnx0nQtFKAeGxRcl8QTCpigMwmgzrx6iey+WtQwMLzsCHRwOEUQOoE1Fkn-FHyaV5UXT835FVXwJyGWW2ikVNQhxwh8R3wSEtipVfHrzsAz1H0EzmTGm9l20wLsEYM3C9XEO6SHkEKYEFEOWaAslHxAjoIG2gOXWYNEDn1H0GnUMFE0Ku3oKwNXT0PgKjVUk-lQJ4KdlA3kLohrzuB6UuC-yL00EeEelEI4V229xCG8N8MiGAn0mCBkMUGEOtTkMWXUSGQaDcJckBnSAj2xV8LkKMAAB4gj0iHo-94jk5vgg9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgZPHcUAAAan92gTzUeHAnkycKME6JzW3A6K6Mch6L6IKMcW4QLGKmD0UHKMqPwFEGPFqPqOPkaO51aJGM6MiX8AmPwH6LEMGJ3HKlGL2JgVugTUmNCNcyUNKAqCqFUM5Qvy9T2QCAJn0GcDKFmkIO2E9THj8LULiMcQNm2CVRx0yL2O+C+IeNmguJeTICQITXsPcl0gBj2PSC9TEmNQ+wGIROCCHVuIRKxMBLwwGNlVXVuKcRSA-G2GFnGBxJ911TJCvi4O3zRIXnIWiRKKBOkHKn3CaFYlADdRpOSCjjIWSikT0MtjwJENdn7Cmi0TWD0OeOMJyDhgRP8FVIkJbA0LFMjnziILBG+OoF+JznWWEVGS9UmTeNAEiHeO1LINhJ+OGg8O5KdMnWVL5OcMkKDio0hPxOshhPEFNPhOCXIOQKnG4M5KBAxOsixNAyZO12UyhMcmCE1GHCJPURBJmOSFJNJXJOOMpPXWpNznMBojdkYkZMCI4LZNRM6U3h5JKjtIqiFNhBFMFBvDvHbXdW2AlLBKKGlNH1lJAXZHlItMVIbm9NVLkL1JMOeUch1IUPnI1INLzkNPMKjxdLNLdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIlbxQi13myFzPQAh3BglvKT2AKjQ-IIkcFglLGSV50fNh3ex104U8kFSkV-LvJbyLgsWdUlAzT7RzX8D7SUk1IHCYW3BHVQvMBHQwsXIzRkLwtABkMIqQuwpLlIpLgoqwrv0pRfhzUYr4SlEwpSAzThDoFLEkFqBzS4p4pqIhHYuSAzTmMYDwvEv7BEoCAzWZEeiLAaDoH7nkoekUoYG2Bkv8AzXaNIv8EUFD1AFqENSWivE6KEq0vMAzWvD0vMAMt0GMtbivDvAsqIuwr7l0BSHsqMpMtACvDbiMvMEsv3wWOAFssgkMsctElMtADAFcsorvwAFJwrvKoqYrErArQBgqM1vc9LUrfKvdjVjK3K78ABCI1PKyKgq0Acq8SYqhKoEbcLIlKqqpy0AHI8weq+ixqrI0SWy-Ktq3qzq7K7ChaFqhy6qpaYakqxqhaPqzygIAa6Kvy0AOa6ahqhY0q8KlagIZa8wUq-wB3SUM+aCm8v85yOQsSCMATPtXQGCpPOC2eE67eMis62C5yagBoAAKxjw0WuqbkEFbmIreq-LE3AtKiIUXOSHuoQkeuOC2iwFOvwlgsvQ2PEmdQzUZUyhzSxp7mCqiVEuwsgGIF5lcD4s8uJtJvqnxoJu0uwtUscFgEgDwoZqZpptppCu3AZoAFFSKeb2baaM0AA5SQIW8KkWoWvMxyZ6+gESGGtkVGjtMQq67YATCCZaodfAIZeWmre0Y+GW-iHWxWowlWooNW1uGAtvbWkG2GxWhGttVqHCHWzPN8ycEuPfbCf8jMVKRgP8FEr6yQKQWBPCRmXJAyHWgCiPQEYChSVBN2vqF8ZIS0r0yKaoGMzpRQPfWw9SdOhMN+D+WELPG2+8ouNU3QLUo27eK9NUgWgIAur+Z2keHob6368ugmyu2W6uiQ2u-wOsxmdk1yBwxIQVCPESU1R4UoRI8LDkzpPeVOhshMM+XAMAD5JgE835M87gTAa3Z-dwCgRwc0IcG5ZkRgX0D9SgL9CPPfRihFTcS28+y+-Q1CCMQk8G6DB+79IhUY7cRwHY3NK47FSY++5YC+z+5+64FMhXAoz9MBjfOwGIZkImLjWPO+LFCiD20gUgeFISFaUmQCTB3yhgTouaTB5M7cEY4IchgsYY0YyQAhqG5Sch3QHoxQnqEgEyTUVBhNMiCiHhxwdh5YTUECAASGNJ6O-oWNGIQdJE1GQbsQE1VwEZFFEB4Zlm-oMG3DgdACUcoLcBYFWkeGvvh04UnH9EoapW3AjEJCYVMc1Q1XzBFhx2g1MaMFRUgdxxcZquNW3ECCfBfsgiHVscCJ8csY91AF3roeHEPrbBPt9FMf0nSBFl-B52Ilsa1WTitUGGl2Y3nRccBkockc6J0flWFH0cCbsgMa-t2KUhGL-ptJ9WtWyeTXI08eqf7FqdGOKbNVKZg3BqAkqaqeTifFCYD20eIA4aUG3Gop4d0C6b0fAamELEiPie2GCGKYWJIt0GdXKcMZLJMfIlQlmfGcEZKcYBYH9A1AAZxRWa+B3AAHI-75ohiHmrH-60HJjTGtGunzRGAlQfnHKpDCwccchb7enlN-me6lIM1tFZhhjg9hijxyBhi-hhQkXyo7oI8nwFnUQxmJmwWv4IW9nFBCXcWTnumzmLnSXlH8XiX2hfmhloMSXvm6XjKT8o0A6g7SAQ6ukohcIQw+lhpKQjGudmjxduwRozHObkmxXiAc0mnC1BXVBIXG5ZoOW7guXKBGZbkqR+X7hVHFWiFXnMmlAJX-GM1fHmGhMGnBgJXKWRo2X4l-mxkLxyQ+XLR7gDXF5GJS0xdedbXBzpSm7sTxIIx6m+hfV5WWM1hbXc5TrdXNQ2IgJLYBMnXzx7RXWdX3Wxp+mY30IG4LqkzgmSL-HIih1M2+lJUgIhlLby37hK27JDWIGC25kyHqKS3mAs362KJXnm2OEyG1Xg7NWeX2gRmcXIje3mgGGUgBMB2NWtXUNa3s2KnbXKXx2g3QM7qO2K3E2G3dZSEGI6ZMgCChWmzmd9tsKLXc0rXw3j2lWxSByPT5ZKQBFNM9p6pGpPXAXoIVVNxTXVn3G-3FnxLFWBTKoTwo8cn+kTUGpVtB9wCLsJXPD3NIjAOcXsChXXngORpQPDxwONpmm9p4OKZU82063GA2xyBqBZI2Qg15gv5EPAX32TWhWyGUXyPNGvso1aOiwyO2wF8GPjSh0iPRRc23kwAzTIUKPH67r7osIOyJVyBl6162BSAHpiw3BQARtIJNQo0RtLdLdfAlC-gQxFBWRah48Fhg9wlhWccE8rOwiwncbZgEmxAdQPAzOwblMh07PGBrPsWax3GfPrPk50hjPSBTPRBzOTVV0guZYHX08WR5VH7M7JEXqHFqNv1LYM0257Rv0+4xS2UyhKhZozPHAeBdBSu2tBzzApE6BCAGhcuI9LYwuIucJyvov110vGun7yyD2RYnPSZ6vuvA4pyq0nPeuH2pSXqgvmv7gTPKuiW6uGvH7iFRuncBugupbwonPMSOvOFNuJujSPiS16BUXWuyuKvIvHAgUQT2hT2auXqlvuvZu6B5urv2voMuuVv1yaZvWnABunvvvqvkhMzqNOuQxwhuup3pRIjnVSv2vIiFv7TulDmtSAhPuIeWhhvVuihJv+wpEZvxIWuke8MhvvveuAgl5+HYQ0omUv5NvT3hHthQfSflvv0JQmf26f2s9uekeA5ofoFWfsez5OeKz92PSpQWeYvLPfPbv9CKeNzcejvPSo0BL5BVOoj7uz3MI2BgmHjivR2GEQgiuqg350hdfvGMpNR2OglggrfUWglA8SoWAcOqo7AJPWFuzovv0+zFfSc7A1fyBVOoKXqPftkMumvxJNtuvM7XwpEFPLYw+pPv0Fj9eqh3VoLZPxIk+bkY-tx7f2Ol6epNsGgMo4RsVoHQGI85e99IiP7q-keohB9S-DoUD6+lAW-y-DGkP3HO+E1m+y+USck+-sU99oMR-DGtGJ+vbxzrV2-dArCe+Wv5-lCNStHs6v4V--9F-AXIiS-B+K+t+UeF+ND4uG8P1P3jTnzf9sOdxfHrCtNO6tAL7mxb+9Cjn2y2IP1HA1PYQI9GBN4PUFQKoAbAscJefXGYBf39bgDjEL1CfrIgP5TgMos-G1pSBP4mEFe-vQsANwn5bcAwYzT-q0EYA-8YW--EDqv30K7dgBSoafsP0QE49aS+7KnihxPbA8tyZFbntQJpa2tdAXA9Dnex+4Cw8o0cf0lWntYRg6SfvbXvAzNKgClWZ-M8LdBJQsB2QSwDWADVIi5o98+ANQWpDtCWBsgqDZQY4DVqaC4unHeJDoPkB6DMUygowdkBs4vx7B5zfxlSiNZX5faJKWGvMCWC1A7EyUD7EoIcEC8Uuy1KweQBsFBD9Gtg7IGD28wGDzmdxAmJ4jsLgQasfUCAiA2k6gASQoIHfpMCkTwDxI0-ZAXoUr7ZCrCKyKjDgPoHhENoXicoezxyHyB0BGpFzvyAiEYwTB6vfIrQIvy4DdAuQ1ofL2To-lrBXQ+Shrw6GDCWhFA7QSOWCb4AB0PcEYv423BLDQ0KwzDm504TTDmh6qfxjKXMBGsnAF-DoUYH8Yb9-yfQPiBkLeB7Chhcwk4cqlVTnC7GSzbnrkMlYdDus3QoPvkWgznCBe-YaDF8OBEw9xhsYSYfkTLbyBlWtNIdGCLR4GQrClLdYcsNhYKDc0CaUejJBiH6M3cu-bnoZVCFLQqUD-Qjrqh9BFgMwbHVJrx2OC6AnWewp1vkNgGy1G4-w5rHV2EiWwfhEwnobS2FBO1ZhdIxkWMQ5rShWRp-Y0tCO5FCQRIiwjEYb3ChuCIGUZXEWwiiFREeh8o0KFiMICUEy+FIHnuqi-bLwrmNLc4RSJEAKd9Bdgszu1zM5Vdmkj3S2Ap1a5OjIu6+K-v9xp68w7Eu2YIFSgLB0AsRxo11qV16CmjN4UiMzpbFhHD1fRRA1rkYEoa+MCwZnEelYFABlEAAEtzUcAABBcAOAG5oAAlMopAAADyQtZAOJH4LW5liXIsUUAn5G2Bhhe+Q0WyAjGmjuskrO0RGMrYMi2xkI1NK8ztEyAWgrY+gFo0nF8IeO1vWeCl0Bb5jCxJYssZWJrF1i5xVgL2vMHJDDilx8NPsRjD3x2j8RUEGnpGKu7Rj2xqacqDOOvD4iSOUuMvouNRYnj7xnYnvviNUHyABMj8XIfCkWhBJVOCweRNog-HkdaQwEl3hwM6Edi5h4I5sap2gnLjvxcwgjKPQEhCQFaE8DwZbAAAMAhHqPEGPBFY8JIrMsOH0oBfxFUVElQCQA07iQMW+E5icKFGI8AqhVaNibFA4mMAtGm2ciUQKr5KAV+fE6VrRNmC19ueITO6tz0km+s2wdEolu331xKFLANcUSY-ScAZRgoeE2MdNyolSSVJswPgisUokR5qJKTG5HRNj6TAeoSgtkMeBkC+gBO4JKjFAJY7JQmQiXfoJZPb7kClJoraSdwihAsClWvkjgaqmcmOBXJ0gX0CQRPbgjkgcUhKb6H4GNsEY+HAROwPSluSDJV9LEfMEaiwgnA4rNAcjxgYN82RKveJAVMSnDQteVPKASNwpTVkdhjQhvk-TYFcwG4vuUQJgKEH6wYBQ5OAQgNb5ICMwZQlRnMOGnsCGU-ounooAaB4CcWSw-KGj3SCNTfQfQoKGtMEGGlhGePOWFRhQ4XDgyJqSwC5MKkkFuIbjXabjifqoJ0gm0zUId03LaEsCN0+KYVIlZYirhaQ9QDSBT5H9+Scw1LhyKKHSJEBM-MoSv0qGTBhY8A2qmM3mABiZJwPbmMQD6J-CNe+09oKtPoFt1JR5gB0vNLGIDlWpywKYhzAJp4A24TMiMIUMQGTSu+8MkQhTKRmeSq0qM41DtyN4kA8Z0I7qSo2RHmBCZHfEmVgGEZyzzAVhZKIjBSGF1wZnYvdsIIKjCxSpn8CqWsApmIz9SPKRmczN5l+Z0RmwzESQk1nYyG4G-MWSCXVlGlX2IgYWYcXxn5FVACPG7pDMBYyklRlslUfgItkR5YW2wuQLsO9mSs9Czws4eVglH4CgZfQEGQ8BT5ey7qPsxWRA0gG0zVAVXS4SrLYjAyKCqciPFnh9npzIZsVMAEzLbjPDIiXsowFqg+GvC2s-jN2ThFFmAjysqUooICLay9yUgHcj2VaJ7kSyIQZbAeePP+L6lXmIclYeGKcBsS746OYVj-kCx1Z0c6LPCd+Q6y0BFgho2kGxL3yW1j5g+PiQvmPk98WKqmVdNBjPmStoW0gVybUFFR3RYOrzS2vfMMlJCrSjtIsFZKUBsSmRLLZVIhLKigBpRJhKGfxEWCR5AFlsLSSoXb56S1gx8lRC9WHmJRLYycYeaLOZFjjB52wGEAfPIxwKoJx8ohUUCgVr9jSWC2cAqLIYbDQ5Qcp+C-Ew4vQFAB9FlkVLZAL5yFGYShagg1FWA8R2o+hTyI3jZiRIa4xwOWN3AAAZbmvWJFIvxSJUuKwGhLYmihMJdUrAd2P3Emj7xA4vcUOLYjaLTxtgSlvONTB4TRQg+GxYAvsU99ZF8ipReAF3HDgzFTiyxaml-FRCRWn8MOv2AvHaiIxjgKMSVmMVUKUg9+PCc+KiFPhwRoShIQsUvZxKI8CShIViyxGe0LFuijQv4oSH-j1B4ZJSGxNbhBJPapIZecAoQndZOxKEzRWpXyWEKsJWIh4LEGsn-MhRvzMBQ0ooH2iHBRS4weEMAkzyuyy1ZKH+Prr7BfB-g6yLzETYjj6AvSkUeAsaWoJSRLUesD4oIUbKsJUNWclEJtFR5OFbIHpf82GFDLzmMCkSFqEBriQPRTHNZUMm3A2xuFwo33lgKWkYyVpDyriHUM6WAVPlvzNZdcvxEpFIFggS-PFFFAktjlCQ05YWAjHJc3h5o-QQmitFwjXGyKQsBf0TG-yvSlHSwOhLskZhexM4zeFT1RUp8qVWvOMZF0tjhLIlUyY8bQEEFSIsG64GdDOJuWm1HIKSh0ZF0fErKslyg75dDXuitdRV7K4gOKuyDl5+wyzFZboG2XcqtJw4PlZCvvbi9nZShIcMHiyRUTkBvYq+a6I5H3jLYJC2QORnQXIy-uhi8kGirHHtSUgjKmouJBZW3iolrq3rlypsCarAF-K0SBcSFWGCPOZmeJS+MEGqBpVkajJaIAVUsAlVEI1VHUvVWBqZ0fEnVRrNGn6qjOswcxVRODxkruwVK6+UvLwlsrPxHKhOTsG47LyqVrzbjjOJrUwSOVWjVtSsvbWrBN4hq0lXytNXXje1xwMUlImaDLK5VFiWRRuIrFVjaxHiyYLOtLHzrtxKilVXKrVW+VJ1Za+gGKSmjbgKgHHQDJOkbXVrzVkwAdcausnDqDxvC8daH2kDFqI8M6gsXIsUXKL+Yriz9RusUl4Tt1rcXddooPUNwj15QE9VeXBz1kYQX1EeIqz9KLTjGCGufGOVg1EQUNPfZKaNHPk4IDocGoQCJ02hj9V0I0Vhpzk4JzAHABGouJhoxU44yNqG32FxRo1xliNWG5dIxq0Y-YqNdAVjURpw099+B5GydPEEeAOg2IPSxjRxuUxcbRhe84gF9WoD6T0NhGiFScsrWsl+6+G+DapooAOdbmiK5Qa81g3Ka0FeGvTfgks1axIkHynpU9ks2X5+NmpUXgTSM0OCCMcaxqjC2GJ2aWWT+WgEpoyhF8gM1Gszcwmo1EQxo7m25Riso0sb4NCWwjZKzVGLMMobgCPIHR-R5ReKCypSH5uFHAJmNkWoQBFr41RahkMWlzV5V8osbwtPGpLfprK3OaOewSKrZui80LF4W5UArb834phbgt6i0TaIHE3NggI6mpFSMtiFjKm4j8f2QtFlkQgb5w0c5aCqVBiaJNa2gxjZrJkg8cRoirUaktRG+BXNxoERZR0O12DFZ8s9IFSla3JAqtsSTra6moBosdwvW8miKRG0OgQtCBQ8Vg1f5gDjS+SW-uPUnrhBc6mwLEbO25aTJxtgyyFRNCVIBKZtZSiEPNv0gUgFg90JQFbz1pUAVoCJHZlrAoExLII4gBfiZTR7AcKd9agmhVFw7VQOh1Ur3jsVlnyyAg24GHUOyALZSIQGZfbRdpuWrlKBOUu7fpEe3bRnt3O+dt0l82rb-mOaGXcOxGGI0XqzIV1gJV8GWwAAnK+B6ha7eKwuxDfVL2iG6cIf41wIiiHADwWpjqyEhvGB7UzGIdgQIkRK14BBzdigO5nc3KhoB-dkqyOHqv7Be7AhDAiEObpuX-k3AzguIXfCGR2A7w5WT6VIMj2W6Y9Y0DXbxsErIqZAL8t+UTMrhGqJtyg+YSoXxFPbpVmaZ+bxQL2rYetCu-zYBBr2vyzU7837T+S3b3AttGULzYsmFBNAHg1NO5ZAstiptagLrN1gKzxa97ZOQxZ8DkodXk6B9FBMml43EjbgHgaRJFlry93bhbwd4RdpApZb2BxmsnbsjZUToRgvdzLQrVqC8gjTo4kg37pBD5WUdqORYItXYnv1a9z11k0tW2u7VyqGcfzcPZT0YgIRGAg+tfWjM32bCtAd6MaeYD30H7moM4rCF-vMmoHbw7UR-WQmf14HgeKB7A8fuFERRJFDAbAzgcEFp7tR0ygJeMpRELCFtwSW-WCuRF46r0L-JQFqGGFqradWtVuIYHhEfbiWzDQXWItSXkiEMhpF2XYCezaI6Ax4RFLPrNEFCXqWoMfaArTaXgp9HrGfWfpEjz7F97I-iHoQsSiHeD2I7FJqOF3SGeJTuHHOYclYvbORqnBNPsMkCWNhG6QNg0qE4PP8VoVhzWqPhJ1-5KdQholVGhmUlg7CPg3Lfqna7xG-BbEOgC6OTGQlys-jZI5KjSOZ1XmpbZdHQDHkGRtlMRsqWxByP6oAleGEo7toMhVGagbWV-B4My3eCctKR0mEkY6O5H0jSG-oE4OKOStGjeR1dtzw+x1GlI2y9LcKDaPZb5lX8EY0Ckzpk7FqhDGo3BnKx3FF2W2u5nSMUC7aAAOlgCbWxH1I7+-AMHn0Z3ajKE1biAZF907hIDg+2Dq+B2M9K9jvHA42TOOOnGKjZqKjpcbOY89VUhARZEMii6REwToAAAF6HNzAxx5ILMouNXHwjtx2E1-UciPHtwzxigq8cW1WwFD9AZQ5uD2NnG2IKJ4E5FS2bYUvDYeYYqQGGKwtUIdzM+HgHeM8KyT-xykwSIco0m78dJncA0AZNMmsW2J9qEAA')">function stream_append_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => stream_append_delayed(stream_tail(s1),
                                           delayed_s2));
}
function interleave_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => interleave_delayed(delayed_s2(),
                         () => stream_tail(s1)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p47' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Stream-flatmap</kbd>,</span>
	<span style="color:blue">The function
	<kbd>stream_flatmap</kbd>,</span>
      
      which is used throughout the query evaluator to map a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      over a stream of frames and combine the resulting streams of frames,
      is the stream analog of the <kbd>flatmap</kbd>
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      introduced for ordinary lists in
      section&nbsp;<REF NAME="sec:nested-mappings"><a class="superscript" id="4.4.4-sec-link-2.2.3" href="./2.2.3.html">2.2.3</a></REF>. Unlike ordinary
      <kbd>flatmap</kbd>, however, we accumulate the streams
      with an interleaving process, rather than simply appending them (see
      exercises&nbsp;<REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.80" href="./4.4.4.html#ex_4.80">4.80</a></REF>
      and&nbsp;<REF NAME="ex:q-why-delay"><a class="superscript" id="4.4.4-ex-link-4.81" href="./4.4.4.html#ex_4.81">4.81</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-flatmap proc s)
  (flatten-stream (stream-map proc s)))

(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave-delayed
       (stream-car stream)
       (delay (flatten-stream (stream-cdr stream))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9LAgUAEEgUai0JEMShsCAweBIVBoeSEnDIgbUUBMCYsUT4FgjGTELHcaj8UjKfgTXQGYymcyWayicgjBjUhlMlnDAINDyC4XUjhUmlMMVsZmEVlS+ohHaEdjKxmqiWkTUpGWUSgAa3w3F8EjYACNKKIFdT8MraHbHc7KLgbHqVWqNezCJyHhdttYRMRxCLUYQA0aTckPJT5VGY3TBgn1cNg6HGtrrCxaLRyABzQhsVnZjVhowpxVcEvlyvVg2B3MUkNJwKFjiMwRCwai9uJuugBvygcCIfUEfinNsrv5hp98QOgQsDhMAAe3GYzeoNcl448bBYFumpLjMnX9s3HDCIqrwtox+NdSBgLvD8dAgk74JMuPbBBGvhMAAjm6JD6gutaNJOzq0JB0HEO6KH8GhvhVCMVbDG+o6LkBHIgeGOz2qIlDEBagGnhSjYUVRNGEayeakUYfa8hY2F0kweGkLRCH0fKXGEDxuFtnBnYkeOfYFIKxCZkeLEnkJ8kAamNK8TI16DNue4HqWylSR+wGfl+RiCvQHA+i6SpviwDBlvp+5MIehAESZxHduxoAhKMmKRCpS4AEQAKqEBahCUAA7jQHrDCwO6gAAtClwlaSMIWdD0JL9HGoDqTpRDKI5Za0FySTkLgoAyDs+7kGwQ6fLpR7IjCqzJKJhW8KIEiPgwjXNVe+VZsipVORVXTGN0FKiMh2w1XV1ijkQQitfG7WVckA70OstB2KQGQZbS9IbRwf4Ae15kWYCu4jEUHIRNQ-EyOOt31OdT56q+xWEACH23WVtA3YDgLnU9mKtsMf0wjlXUbHyYGiXZboyAeh2+cYHgo4qbr9tQD0CRjojGu9HGgGtTC4OQ6oCNNRizWIC3coEAWUJE42gOFkXRXFSKjeSpASHwqXpep2UM6AvTwhtoBWaQNm+njbkyLu3Ag8BnWuN157cDIZUZNkmmncqZVseye5TblfQooMGUE4Ocbzoai5sdrRjdTsjD4KQUQaXj2nTrOurOq5M6KfSwXeZyWOIabYpO8Ozq7RhMPR2x73+YHUfUDOzvOtSwq6hQUyAWxcJ5Xb5KaeBUGYe6pBsKQmskR7i21TsfHcMLdeoY3zcVdtKTdVTNN01L0tzQt1WdwKxaK-QvGvfQg8dazjTdSb2k0ww1lLxJMOry3CQkZPTPzUw7euLtR27-vTeKyrx3k9vZ0RA-y-VsfFWKGfYaz2WhwXGrplT30Xo-VGTB17k26uA7CzcoGT1cBfFmsDEZbFrsheuME3q3QPBAr++Eyhrz-t2ZBM01gyyrmSGgCslYcCIMWUsFY5i6irBVduuseAyA4EbbmAAqJhzZWECAESFZQ7C3I5VloLeKikxKUF9sUaMjklIeUAu3QBOxsH90AsPHaaIjo-2Orohu4k+Ksk8q7DUFDPYYP5NuVUvczG4J-ljI4th7Dk3DAUfgcQFE2WUemNRcY3zwIPpYo+j8h6gzBrQQJSjFYhNjIMN8PiLLnkvH3Bu6M3KEMPi3EhJ84bn2nlfDegQvaRiYKo1JxkbGqSaDKKwAkUnqNtA6J0+jyYhC8aIc+Ns5a10YtRd87tKm31AJdY6oyLQXUoP+QCk8pmUUUvNUxiTgm1IzGEmQl14bGCmcIlhdN0TpHlq0hhJyWxzDWdSa2OsHEnW0pdS2D0hCQxetWe5804lgwBTc0RmsMkAqaCRGRNCCq1xRpE16wUJlrG4dkkBSo8FfjfsqFG6tDJZgzsBSFttaEO2YS2eFJlEU3yMaAZ+FzMUGxEdDJ+oCXK4oaR2Uy-9XCkorJ0r0UCGWnP4ny7p+KVYVyRc8lWlciXQsbO0m8CKtaVJ5WJD0XTnQqx+Ds0Jel1VenLmGelCq9Iq1ZW5Iy8Z8UkX+cBGViINrolwJibEUA4CIGQOgIkmgoX2x2LKUYLsOUGPWJsRxtgHSjE0aAAAPjG96OjGC0zLNGuNCbrCOidKwK1XlY3xqaDqPY0ajBpoLdYMetM5jR0rnLANIpNWgM0XoVwkqw2gGCjKuW3sWBljLD4BWxTlB+2mFUMsIbqmPnCJEY+ugABks7QAxBYHER+IJ0gXOHZUHtna5FgSkU21tSNu29v7a08Z3MpGS1ynLfVToGH7ujlw55S7ZCQgcNHQlcssnTFVSvJNhAyyW1cu5cdzyB0hV-ayCRORBoAaA2y-6Nbd07Eg+nXNlSJ2jr7UIAdSqIOMv4le3octUOL09KK9Dh6tgvpkG+m4y7aPVH0bCa9u7SNQPNe5A9Ty200bo3Rj9n7kM1Lqeo4poG23HuwxwAdx9lAhVviwYYKjdmDGynm9NW6T04bPXJ7mVJBosAotME11B1NpuI7u0zaryM1FXR7bqfGmNOahOJ0prHq40GsxxnFFqswzoc8+24-GmMzpY7IzzYEfxbl81xgLG9MM9uk7Jx+8noucctUR2V9t0vfRfKMN88WkjcP1re70vopHKBc3Z5u7nLORfS5dcTgXePBaY3RsLQnIs7FhThKJAkis8meVJ099BB3c160Q0gWW5bYoMn5o8g37GtYYx11dXXiU7GDgXZrGHhvWCw6NgbqXubbeThltTuhS2NBGzpsbemFN5xDvKOFUHIVyzO3OMOzAI7aSW6GpG9DmC4HG04JDkXPuh0dq447tWWuA6ucD8bOhwfEsh-KIuowS7kDLv97qQPqbjYAMwbYKjotOaFdvFf21p5LumTshVcWhGbu7v05LcTEgx+Oz2M4p0waD7jUcFSZ9MV7xD4vGGpyt19oX1tC-thEvrf617w+o7cQXHniUEIsfxQrnPVc0DW2veX5Iu7OP6iL4pnCEs0-6Vb97wmZMLx19-fXNvJPWDt0bkpO7usZrWTRf7AOti3Zk-T5u8m5ks8i3MhZSyg+Oba65sLvvNtFl6uQSO-n7Pu6PQdpLR3xsQYz1nszDvIsQ3m3FnPUukbVbcybmgZULtoip0N6XjHXPe7qzgB1cinUupxO6-EXq0BE99abg7DBfb+xkDuCTeeFlZqU3P3Q70PDJXXRu6fV8s4UgYIFOfkfzTvBoOrWpIwBDKGYGhHH0gghZey+SNnG0ZB5Y2AV5QbzlVUboTz1aRQG0EioKoQai+We8X+iyEgEq9WaeBMhoa0HAr+uAC+Ie+e2mYeY2uA8mAB60ci0exKX0YBH+e8OkqBf+1kSO2BoAYOmuBU50TWKBT6baBOIO1BKOdBCuci24IYz0TKZBzBCOlBhO1BJOqeBUbOqKaMA4RM5BlyY2IUUh-OygMhtinBk+wCDiAqKschoeA64qE2WhKsBBBUShjsRMMgOhghauq2TGOhpO9smElEpYAGPBEwfBr0bce2badG-8sB9BH8iszq-oXhv+i6twfhT+Z+JAzh0w9oV0z4TAEyLaPGSMVwnMiRMBWAUym63cvcXyTKx0-SXQURoAL+iRcgtmmsKs1uYR6RlRGq1RoC1s-hCuiRIq80OkiRXIKR7edetwwRVY5ehB7RNRXReoPRkuqRWwdGgx0C4hjhO4HybhHh38VRygioms9oxY0woR0xdC-AZYfsDRXonCW+8shxxxmxccoB1w5R-oZWTR80QE2xyEbhWMIQ4wAGxxjxugAAPBcd8VEJYQ8h4hOPvofiFAACrmhlFKYSCFROT4C650DWjcCCj37cygAADUoAIBgQYIya1UAEvxOJ3M8mZJ+JrghJAGxJIJzxYJ-kB+HMMg0JsJuATAMUiJZYyJViqJGemJIUlJYKNJZYdJpJuJ0GQpuJVJxgopdJ1xDh5IlElo1oHRAqZWlKxgwyIYMm5o+sexKQN6CiJxToTxtRgIE6duvxspKYupKp+ssprgThlALhzkBRnhPkspIQZWGQ664RDGNpYKHgNG1xTpfkdAJpHWVRQEdGipdi0sACS0HIfpG6MQTiPc-UHpGo18KQ7M06tm8mEUjoa0oAl6hyyQqCFS5MUycxx08Ccxas5C6CbaCSK+cxHR4S3Rtqt0HZYxcxLG9QvQKCYRHIeplABpzZEWxKqq6pWqmpNK1IWpRgOpEw45k5nIuZK5u6bZ8YjxGxoJW5VStuRaQZFkdpa5Dp6KgMLpbpKxUMnpscIBPptmqZAZcQMZVJHgyEisoZDyB5ogYJvYkZK+0ZjRsZdhoJFZgQs0SZtUKZ5xuR5u953ykoR5zpzJBZGqRZhAJZggZZeoYshUBGb2CZVZ6FRy1KdZFyDZFRXKTQ3Uu54xVYnZzF0CPZFkfZzRbFg5KQw5lC+xy465TZnI9qYAjqGIWIQ+eInqhIGAE+jiDUTUpcI0nmsMBuYEh2d2AkXMIUSlw0Jh9s+lKlHAjU6J-WYm7UGl9eW0MqUyxld+SB-ex0A6Dw4GL60GxgL6QIAMgQ4Gb6nlRgb6Pl-y4G6RgVtxDAIVblPOCsEVCs0VKQ4Gha9g0GKVogjQvlrg4GM4tA6Jkg0GuV+VCJDQWVxg4G+ZgV+ZgIZVlkPO54fsXA9otAEiDVUQTV6I9QtV8hAkIU2JEVxgR+oAEgII2QyUuJJV3V4GKUA1qQO4ygI1-CyU6Uk1oVPO4iygyQQ1i1zwyUAiw1RgU1POwAs1tU81w1o1oAyUYAq1MVChAApKddtZdclPdQdaAEdQoVvgNc9UtW+SNWtQoQAITro-XnU7VjWgAg0XIA13W9V-FPXg0vWgAAlGCw1JU85-HpCzW-W7Uo0XIXWA29WZCI0LXI3ZBo2fXE3Y2bWuC42Q2ZAE3o3JDgZA2nVXWBDPBGBA3GDz4PA5T2WDTKWOXnSPEZBhh6z0ZX6hBC3DROWebWyC1DQmXnSUD2gABWF+5yEtPCyI-CYVstKl0GNlRAcMHFRgDlLU-eOU2R1Klt0wim+ELlZ64GFadM0Gbt0g3VYKflPOkAhA48QoEgnl-tgdws3tPt5V9VdI7VsAkAgVbVHAcdEdkdPVrJidAAohFZnSnZHeBgAHIsD52nWF351AWAwC122G2OWO1kaNHi31CS01TPA0YoHKD23Q5VD4SV0eRHQd211QLa2N2638I2Uwjt3V2fC13WylHqQDTK0i1yJ-QTRlgKxyFz20yMKCBvASDJocDq0fDFjECDQ9zXlAgd1mXjD8SWWm3m2BBlRr0dCBBDI7mIw2jZkwxyH3T+IoX8Ggp+KCBv6T2qW0KdnKDhky0L1T1GJKZ12nG53cq8D+JANQMgNxg2Qa1a3gM+390wPKY1EIPGBIWZm-38SErjBHSbqr1q3ygf1HQXI-lql0P+AlF94K2SWuq4geoEiYAKXtqEwihkAcD1z0B6TngMA0QGbkBGbjC6Ge7In2hRr15SMyPQIwhhghlJ4OBxmOTSPGZwxkkhQcDSkwZEm4AATKO6OqNwxhghCWOGb6PDEFQGjnjgTfSX5lCwblTr3EDEDIl2DaRyClS+OXXoi4kGy+NvkhRCkeDRMRlSlkksAhN32NDRPKCiktGlFEBPjISePJor2azN7ZOOTIRcgACQYRophjrJZJLjW4yE7jcwktRThAOTSR3JQ8hj2gIUjelMrTJTI6owbABsTkcjuw9gIzY6GjF6ewIUtjUWZ6ZUc6s644QCXuTGSzV2Ma75neDgmzUN-pIUbg2U0zUtkza6FyRzczzS-DwwgjisIj6D4jNESze+QC8kmeYmSzoA86PiOo-olewGlq5z6jNzIUNTuJxTe8gzDAwzNGwMILugMpQIQpJjZW96AL3BsWwL+zyLgIqLZJULbxwocLWjkzDkozBj2JPi2U1zBYfTbTrJcVK9ygRLMLbAoLKQfY9Rrz9QHgbLrJ4VygA68LozQ6GzlLrL-T0LlQQzpEfYop5z0zIUAA5CY4bJKWq-M-KeY+c702y8I26AwABPXMa2M3blWJGpEDRqa8zaneBkpgIFKRzFKdFNNvJswqMO6xNnYPzjY3ywywM2c7axBa5iG1K207K7C-K4G9C8G0awDaAHRuG7G28SGwseSAfVSAkifcykqANFRBamrHuGMx86XvGOrKRC0goWW+otBoCwhsW9wIQ0YJLVm0fbmxxvuIWyWAU02-61y3uiESW9M+Bsc+k7Zhi1WP2zG+rBmzQLa7aIlDuAW2hCWP21oktChiXmJpWyGkYLWdwb6RcmGOi7ZPug2wthWyW9BQe1XT28hEIMDMdJLYuwlFUCu922u4U5NDOxQnAke6+ecXpVOnS8mJFWc1+xaj4MDEBPXlByWDB5NAO8kCEKLUB4c3FdMwh4+1wJNPM+hxqlE+2zm+QD3FAmB4EB4PUYR16Ck62zwiR8fWR3m-jDh323uzGzR4B9hTLQ+0h942UszFfNop7sO82-u8HhQb1eO3QJO+e+J7xYzOUrmVvHuIMtOQVMLHwBu94YvvUZW9MzRoZ1qBCSyerDhVFLFGflXpakmyLH6706ocQpW9YYpVOv29M74SO6Z-mU25Z3zDZ0C-bM5y3I-iRohwwOg6QJQBdD+gICILIK53pzMQ5xu8B561Fz0+oU3gl02MhFF3pE1sl2ETRqF2+Hu2JaABOYGtF6o+3b7IVPhX2qQAiOJYPsQFEDwMKKAETrVMhMSkTmPmPs4LPSWFRDIJeNAesIyAwAIBaX0WgeMw4DfhzPNzcZ7QIHvihKKFN1VrcDRqt3N0PGCZowxkd+tz4iEMwhN3t0m0xhd0PPO3CdklUMZmkJMtSr8lusZs7QoQIm9+MOItBbWuaFaPrFNxwEoKAJDysJUlSr3aifaID1fBcjd8QJN0wP1ND3Rt9yj0p4EKJ1vSIOPHMAdMj9Y5JwjG2pt2RSp-DykFMhd8dOj5j-1JoOK8nvgBT44wmYJTsJt3krNwIOXUcJt96fd65hd7ewJbL9ud1h5F62z1D8oLDwBW6FT7c3tOTyjyz+Nxj5Dzj0xnj5TwmUT4Lzr5TxRUYD+Vuq5ib8ZvRykPUQOob+3R52r4uUqOPRA64Lj1RPKPjwTygvTzWdSsz2j-r8rxz5LzUNz0H3z8YOb9vaT7INL5J2U-ULbx1vH-V1gJnzgx5-UZ7zoU7xZDnzz7IyxgX8p8J9bwSRsHbyt7Umt+r-MeTPxZWVQmsHLEVXSJ1zIBy0ebrFEyqeD5Rzc2P9aKCiENiMB7TAV9NviR4Av16-iUyYfmwAF9Z9V3wPUjQGlPd8ZleiOYJX36QJ13ZdSjV-vz9+MC+xeCOqoyw7bYjy18dDfx0ij0y2D9aFevZY1wuSf86u73EKKvyy420v0j-C6LTBnAAYQSDjcYG3zkL1EVGjvL3hr16b2hYBe9NAeMH2Q4CAMchGjNgMHBECsBhA5yFqlIFwCx0bnWPgQLIFjoKBTA0ymJEbJ4D2mA5egaz04HKAByvTb+oAz4EYCuB3RegfUTZw0Dk0CAvRkgNEFAQBBL9P3C6EiAld+e6BOnGNgs7cxjmSpIYEvGGDSN6QOguYlKzwpCADMHALroIHGAMAQ0H2CchpBLZHkieBmGdvXymTSCAMsySgWwKQJ0U9w-A7oon2WyL5Be3gqZmDH5a4UlERQKwTYIEB2D-OGICYhL0ZDcAAIkQgVJEOD4zQVORPAzje3r7dR6iGQixhERvYqEnBuzGdjL1r6XwShzyOdmGE76JlBK5Q-ts9yEFCBqo0OVpNWBEGbglw3Az7oj0iG+DWBm9DgVY3QFKCNBxPamJWlkC5D18FIJYsgyGF0hghaQpoJcDpDFwOADVAftkOoGUCgIwwnYUMWe5hBSAhw44cCVuELBthqQoYvQOoqHNcA1QaQEKWVZfCoQPw+ZjtwcBPCVAdINfAGzrJGB5mOwdwbcIhGmh1hyxPobtAGEwxQRlw14dAhhHWB6i8In5gunqgedhhVbUAncKxxHD++wJOjPCLL71A6MJIukc7wOEUiHhkHcEUyIBQ0ZGRvvTit0RjYhR-h4wJ1s9zdIUNqA2EcEMM3nwSCPO51J4NkH6T6D20MQaiFwDEiZcbwmowYMoEXagjF2owtYFMgeGaEDopMY6LcPuFUiZAeol4dqOoDYNU6X4A0SELCImiSY9DT4d8KdbTN+k2rZNOKLVTlBhm7otyJjGe74A3isA3cG-nBH0DE0XjdkcaGVEtdJReQNntDym5w8jR1Kc5KABa4ZjVeWPDggsIt66APA-SCMrQGe7RiV2kPH0LGONDtwpkU3Y6DRnhGTwJ07gqbuWN0FCkQgU3GVBQ1ABQkAAEhnQ4AABBcAOAAzoAAlKEpAAADy+dZABcmKJ8MOSF-dqvaI0SWiscVw6BPQMjHTBaxjY4uKSNTG1iYOkXPZPuIsAxtUx1IQuLeLSS9Mnx9gfLl6zSQfcwiY4icdONnELjlxq498Y32vFPtXxree8f9HoGpiwQ6Y2sRwHrEg4YJQEfDIv0GApQEJ7AcLrunHiQTMJ0ElkRYEPFyEcJnAXAOICbg8IMkww5EkbHxKddak8yJTF+MK5Hh6JW-MkcXDIn0ctxnXdiXeJImEAyJ5DDYCYF9YEwiAPXC5AAAYSicsdUDFGARSTa26DcgLIHHRSTGQMk0YMdGnzjBpJrwKKriXkCdjnkhkh2nEOFC9M2cyk1QXIOVAiCrJXAHdhpJF6yjrgVzd3tcFcnqS9Imkzng4E4E95SizAKRI5NUbWBaY6MX1iGiZ5qT3JgUgQEUU5KqSjJAUiUZpJf6uA5YuQaYDFGpA0R1BI8GnO4Nc7kwzw0AhyZwJSH+Tkp2UkXr0jAhFDm2VUiDgVI4BFTRANEYzlUNlJdSepNEbzhJw8T+R1O3fQSkNOKlxTZGz3EQIUHm42Rr23AA8ogLEETF24+U5gIVNmlHiGeRgNwY5DVgwJAQgCYEbIPq4UgzpFkbqD7CYChCp4dfQ6Q0C8GTDaB-gxsptOuEgEJ0EQ0XoiK+GXxfeIQGab1MYGfTqBeQrvmU3IqvSFhBnBEV+A8Dgy+pERDqHGiTa7Tups03wpyy-BocHkj01oVNMW6G4cZw0rocoOJQ9DTKvoZkM2He4iDFQZE5sdSgmEXJsh0wioiIPmFJ8loEw6Gn0xJ7LDNeo8QgMSUpHbjIZuAxtLkMdFOiveZEp+lQgKFbtrA7gxUOvB9qIgBE+ssMF4MoEfS96PM-0KzKxH1CpO0yY2cLPF6AgYhUstkXwN5FGBTh8s84YkDKbeyVy3RFqT0KunoCLZ-MhoTPCWiLT-E1gI8BbL5n8j9AoAPWQbPqDdRBR3o7LiHxelhg1OHyQOfIODmuiRymne2EQCdnWjuA0PbgDH0NGCUPhlzIUYCIDapyARPo3zlBFFDlz26OgaZnMRxGqC38TgPEgGzpl9DGZpYd7h3NCBVy-ZpnWESdMrnIyqOSIn+iPNdJjz8Blc9utD24EJywA+sgRL3LxEDz50rUovl3IDYlzzG0sgfjSKcCciiGTGeeXfKMAXz+obI9sbfNdkNB2xOgJ+UCAHICj65IommWTmsBWSygU2MZlpUwLHYps8mKyYZXJADhowkYrMFZOIFks0FTje2K5KaxoL4x8jCZiFil7xSCZi8h1qICKkSAp8boE5qZ3rx0ZMFyoueluDAVWTdRCbSdOSNImgAXRW0sYXtGjDZoMpqPdYJFM4ExT4waClZNShfmmjDoL8IELIrZG2iuFok12UgppDAtBFbEtBb-OMC8LfpglWRR6KiaAKJ+2MMsnsCBE5xpgtrOaXESgIMhT8wiltjbwDEbAJRFEmQMYrDGkxwsOAYcf+I4BziwoAAGQzprjLF9gRSfhI2CCSrJb4GCWzJS40ATxbAkQDuHPFY5Lx4E7ejuB8AJKslD4+Zh+OdCFKsF5IUpcIrfByEglIS8JeADAmKwIJ1SopbBJSUwY8gbkpaWfUaDwTgxdUPJchKx5Kw2lri1JlZOwnBjso9HfpVKNZKydFCvrKZVKOyhMLeo-UQpUkstn0CKJSBaiZLQyRWT+E+JZhcIvsXu9VFfEjJAJPapbKRJYk0UZfVsUJsbRHC7ZR2QonkTgx+yukIcs+iJETlgIPZQAyEC-BZAIBAiUJJ-EqLeJlssvgqJ6jolNlvrN8LCoPGWzvany4McqMxSGtRgJrBNoeLTHsAEp1KCCHrQuQFjtOyoFNiFDxW2sT+5MsCILwpWm01hpYVUEZLsW2tiVXyvfGypzSvBiEKbbFVKOVE7Baxz-fER0oTEyD2x4IrZmBHcEKrkxoomLswGhXZSxIZ43cSGiJ5Sr3ueqzXi2Kx7HQkJKEwVN+OoBWypkfjA-KyC1VBipRDdMGHMvTF3cMJ1qwgCsryBMrkg3AX2Gzw9ZQSfVFE4AoCB5ahrlAiK+1RFMVi7iSVHLaCvDO76tFyQ9ADmNMFcmb0zxeC-hX3REnHQNFKCo8FIrWAGq8l0qkSbdMMSI9WxFyC1SMobFoSEydq8wPGuEVJrXVgMd1ewGDU+txgvq3CVbMDUCRPVky8NXfXqJsLaol1ONY6tclfKU1ofQuXw2XRCBXJHMJ1Vao4ntKwiPWX1rurjALyjgG685Xqvmbnrdxx6wYBUty6ETvVt6m1e3EzWarE1uavJc+sQw5jEeToR9XurzFBLAJ84xcSuMaVrBgNM40DSBMiVRqiJokudfwn-VOrHkzKkKJaGy7pqH15y-NWsDfXZqpJn6jJfYugpTIUNCS46HUrCURLJ41GhpRaI86zrEVFG1FdBRTmYaax1gPIv1AHDq0l66sBbmEKW525BN96pEIEUdj8aUQTbITdbP6kaxxN2uPjflAq5Ww5Co0zJl2m43IVcq0m2hLJvNZFoxNvTeBHpvyiGb6BCmrTbum1zmaUQamxTfQM03ib1QZYXiEIDsViarNlQxTc9z42UBYpKmhzXypxX4KMyvcYLQZqi0nxu57RCifMwC2xTlN1AfTUUhi2-wqSDK15fAhi2Jw0tmWmvj7TFV5B-FWAMdayUdZSlstBK6DElp-WlE9NgW+MPZrICawStpK8LTxuEBWA0tWYVrbFoDZ+iZ5Jk94J8HBW9KGgNW41jpEk0DafgvW1TYoPi04qvZW1S6k1uS35IettAArQtt21La1tYMDrcmsrgVaMNDAarTYvxXGtCqvW5rZAN3RubtIwMULeKt2U-KqJfy2iV+GoqZB8+DQdKmrGu12Lntl+G7QBFg56Ks+7imLs6vTH-znARWxeWKI8Xw7+1A5fPpnz6R7AjteUlbeKrO1BqQobrK7a6F4gQ7oMYO9vqUV3C1JfYyoUqcJrPw2KUhVDSiNsWdB0NlRTHTtlqle1Yik1w8Rip9oOU-bGgf296HTr8b0gF+XdCgNpHDKitvGh4p+ZYX4GjVfefnCYIrKVk8wrO-MW4YuSiqH9pSWO5HSFF50scKOKHANqjrh1JqeKe+fpObRO2QpztVu8jsYXkzTbg6ygT3axxp3GikoO24qsdAACcXQXvlYGKqO65N0evKmoCTWmVhQZQSRJryJ7WlkxR5cioAhoDnE5JmvVwEVTUAyAVWKreTGgCr3+qYKq6poCXskBnN6AMMwIA3otw-KhQUaPZWtiAgH8aCVstoW0Lb3J7O906ZQOeBXZt6mFFCyQNQuVAtgs1b20re8IJ15AidvVakJQrn1k7MoLy2raVBn1ULKgO+R7ZFhw4Q7BlY6jYqMEdClhw67MxHhBGOhvsJAy7VdkW0Za0wx1hjDoGssniAIpgDAW-UHQOaXNSwXxabJrzb2sk0o6UHDjwoTYvBv9YsGap0EHkpBoDBrHlbCGemNC9AbQwBImpi5xcuACXOYBBFrX308uW6hgDuuvWhq48JrFvQAZv2ukQDwsxnACOGDqYEZxgaAyFFgOH9dxhUMg6lMENpRJYuBlmIPrr3JB+D4h9KLa32iHR0QCh1AwmWH1eLyYey-5XyMIpZAnSWB15byLl2wNjBtK1XbVB11IhLqscMvr7ptHpNYdnigZUqPcxrrSi8CJTLQBihRov9vsMlY-uf0cL32IenDrGLjb+GjokpX-QT1rKJE8xDhiCE4YAyBjHdbhiyR7mW5sUKoyraKHCW3HJowRVQOZmUxCBGGCVgywwQrvpDJGdmcxX+FYY138JY46qqUb8pon6wuYcmuBNRIehx6flTdEqHQH8Vywvt5I9HcMy+Xhas94q30VYpG3CgxtJmEoHMHJg0Yvld9RFeMf6NeLu9sucVWVvP12KVWmomQErNAAAAdLAGAtBWVBYuuADmMMxd3DUyaHUCyBXv0ysHkIV6Y468tOO3jzjSs647caQZFBiDjx2FrGOuD4ANiQEabvUVhOgAAAXuPSMDXH76YJoQBCaePq7XjKJgxoDE+MhRADt+xzgDrxJeGPIvhyIKcaxP3GkCuJ8GsKx5wsApS9oKUsQClJOsYQKrHKIiD+OVG6TS0hk5CelELUWTNbdk5ye5NrLiTksIAA')">function stream_flatmap(fun, s) {
    return flatten_stream(stream_map(fun, s));
}
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave_delayed(
            head(stream),
            () => flatten_stream(stream_tail(stream)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p48' class='permalink'></a><p>
      The evaluator also uses the following simple
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      to generate a stream consisting of a single element:
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (singleton-stream x)
  (cons-stream x the-empty-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6j0lTkgPXDhRxLSUO6ttKYIV4jXiVuu0d3UpEbrmoJuck5UiXSBJXYEaCwFCzF0JYS0vWe6pDW+tvam2jKKC42ZYUY13FpN85hDNLF1JGX7qg7PQoRS6Hz68tPyPYrDFYuxYVLZHdk8FxToE+AL1eGb2X5XNVhXKtMlXiy7fi5DZaz3srg-nJyTbzCgrpthsz7a6DkQ0vNLaQ8hPyxw5V+6DGxzydm3sndM8FoTYS-Btnu3OfqIOaYTxUH9pqKOSA436dzWrvigllmc9kGkl2+0ANQ2f10k-0rT83E04QDnx0nQtFKAeGxRcl8QTCpigMwmgzrx6iey+WtQwMLzsCHRwOEUQOoE1Fkn-FHyaV5UXT835FVXwJyGWW2ikVNQhxwh8R3wSEtipVfHrzsAz1H0EzmTGm9l20wLsEYM3C9XEO6SHkEKYEFEOWaAslHxAjoIG2gOXWYNEDn1H0GnUMFE0Ku3oKwNXT0PgKjVUk-lQJ4KdlA3kLohrzuB6UuC-yL00EeEelEI4V229xCG8N8MiGAn0mCBkMUGEOtTkMWXUSGQaDcJckBnSAj2xV8LkKMAAB4gj0iHo-94jk5vgg9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgZPHcUAAAan92gTzUeHAnkycKME6JzW3A6K6Mch6L6IKMcW4QLGKmD0UHKMqPwFEGPFqPqOPkaO51aJGM6MiX8AmPwH6LEMGJ3HKlGL2JgVugTUmNCNcyUNKAqCqFUM5Qvy9T2QCAJn0GcDKFmkIO2E9THj8LULiMcQNm2CVRx0yL2O+C+IeNmguJeTICQITXsPcl0gBj2PSC9TEmNQ+wGIROCCHVuIRKxMBLwwGNlVXVuKcRSA-G2GFnGBxJ911TJCvi4O3zRIXnIWiRKKBOkHKn3CaFYlADdRpOSCjjIWSikT0MtjwJENdn7Cmi0TWD0OeOMJyDhgRP8FVIkJbA0LFMjnziILBG+OoF+JznWWEVGS9UmTeNAEiHeO1LINhJ+OGg8O5KdMnWVL5OcMkKDio0hPxOshhPEFNPhOCXIOQKnG4M5KBAxOsixNAyZO12UyhMcmCE1GHCJPURBJmOSFJNJXJOOMpPXWpNznMBojdkYkZMCI4LZNRM6U3h5JKjtIqiFNhBFMFBvDvHbXdW2AlLBKKGlNH1lJAXZHlItMVIbm9NVLkL1JMOeUch1IUPnI1INLzkNPMKjxdLNLdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIlbxQi13myFzPQAh3BglvKT2AKjQ-IIkcFglLGSV50fNh3ex104U8kFSkV-LvJbyLgsWdUlAzT7RzX8D7SUk1IHCYW3BHVQvMBHQwsXIzRkLwtABkMIqQuwpLlIpLgoqwrv0pRfhzUYr4SlEwpSAzThDoFLEkFqBzS4p4pqIhHYuSAzTmMYDwvEv7BEoCAzWZEeiLAaDoH7nkoekUoYG2Bkv8AzXaNIv8EUFD1AFqENSWivE6KEq0vMAzWvD0vMAMt0GMtbivDvAsqIuwr7l0BSHsqMpMtACvDbiMvMEsv3wWOAFssgkMsctElMtADAFcsorvwAFJwrvKoqYrErArQBgqM1vc9LUrfKvdjVjK3K78ABCI1PKyKgq0Acq8SYqhKoEbcLIlKqqpy0AHI8weq+ixqrI0SWy-Ktq3qzq7K7ChaFqhy6qpaYakqxqhaPqzygIAa6Kvy0AOa6ahqhY0q8KlagIZa8wUq-wB3SUM+aCm8v85yOQsSCMATPtXQGCpPOC2eE67eMis62C5yagBoAAKxjw0WuqbkEFbmIreq-LE3AtKiIUXOSHuoQkeuOC2iwFOvwlgsvQ2PEmdQzUZUyhzSxp7mCqiVEuwsgGIF5lcD4s8uJtJvqnxoJu0uwtUscFgEgDwoZqZpptppCu3AZoAFFSKeb2baaM0AA5SQIW8KkWoWvMxyZ6+gESGGtkVGjtMQq67YATCCZaodfAIZeWmre0Y+GW-iHWxWowlWooNW1uGAtvbWkG2GxWhGttVqHCHWzPN8ycEuPfbCf8jMVKRgP8FEr6yQKQWBPCRmXJAyHWgCiPQEYChSVBN2vqF8ZIS0r0yKaoGMzpRQPfWw9SdOhMN+D+WELPG2+8ouNU3QLUo27eK9NUgWgIAur+Z2keHob6368ugmyu2W6uiQ2u-wOsxmdk1yBwxIQVCPESU1R4UoRI8LDkzpPeVOhshMM+XAMAD5JgE835M87gTAa3Z-dwCgRwc0IcG5ZkRgX0D9SgL9CPPfRihFTcS28+y+-Q1CCMQk8G6DB+79IhUY7cRwHY3NK47FSY++5YC+z+5+64FMhXAoz9MBjfOwGIZkImLjWPO+LFCiD20gUgeFISFaUmQCTB3yhgTouaTB5M7cEY4IchgsYY0YyQAhqG5Sch3QHoxQnqEgEyTUVBhNMiCiHhxwdh5YTUECAASGNJ6O-oWNGIQdJE1GQbsQE1VwEZFFEB4Zlm-oMG3DgdACUcoLcBYFWkeGvvh04UnH9EoapW3AjEJCYVMc1Q1XzBFhx2g1MaMFRUgdxxcZquNW3ECCfBfsgiHVscCJ8csY91AF3roeHEPrbBPt9FMf0nSBFl-B52Ilsa1WTitUGGl2Y3nRccBkockc6J0flWFH0cCbsgMa-t2KUhGL-ptJ9WtWyeTXI08eqf7FqdGOKbNVKZg3BqAkqaqeTifFCYD20eIA4aUG3Gop4d0C6b0fAamELEiPie2GCGKYWJIt0GdXKcMZLJMfIlQlmfGcEZKcYBYH9A1AAZxRWa+B3AAHI-75ohiHmrH-60HJjTGtGunzRGAlQfnHKpDCwccchb7enlN-me6lIM1tFZhhjg9hijxyBhi-hhQkXyo7oI8nwFnUQxmJmwWv4IW9nFBCXcWTnumzmLnSXlH8XiX2hfmhloMSXvm6XjKT8o0A6g7SAQ6ukohcIQw+lhpKQjGudmjxduwRozHObkmxXiAc0mnC1BXVBIXG5ZoOW7guXKBGZbkqR+X7hVHFWiFXnMmlAJX-GM1fHmGhMGnBgJXKWRo2X4l-mxkLxyQ+XLR7gDXF5GJS0xdedbXBzpSm7sTxIIx6m+hfV5WWM1hbXc5TrdXNQ2IgJLYBMnXzx7RXWdX3Wxp+mY30IG4LqkzgmSL-HIih1M2+lJUgIhlLby37hK27JDWIGC25kyHqKS3mAs362KJXnm2OEyG1Xg7NWeX2gRmcXIje3mgGGUgBMB2NWtXUNa3s2KnbXKXx2g3QM7qO2K3E2G3dZSEGI6ZMgCChWmzmd9tsKLXc0rXw3j2lWxSByPT5ZKQBFNM9p6pGpPXAXoIVVNxTXVn3G-3FnxLFWBTKoTwo8cn+kTUGpVtB9wCLsJXPD3NIjAOcXsChXXngORpQPDxwONpmm9p4OKZU82063GA2xyBqBZI2Qg15gv5EPAX32TWhWyGUXyPNGvso1aOiwyO2wF8GPjSh0iPRRc23kwAzTIUKPH67r7osIOyJVyBl6162BSAHpiw3BQARtIJNQo0RtLdLdfAlC-gQxFBWRah48Fhg9wlhWccE8rOwiwncbZgEmxAdQPAzOwblMh07PGBrPsWax3GfPrPk50hjPSBTPRBzOTVV0guZYHX08WR5VH7M7JEXqHFqNv1LYM0257Rv0+4xS2UyhKhZozPHAeBdBSu2tBzzApE6BCAGhcuI9LYwuIucJyvov110vGun7yyD2RYnPSZ6vuvA4pyq0nPeuH2pSXqgvmv7gTPKuiW6uGvH7iFRuncBugupbwonPMSOvOFNuJujSPiS16BUXWuyuKvIvHAgUQT2hT2auXqlvuvZu6B5urv2voMuuVv1yaZvWnABunvvvqvkhMzqNOuQxwhuup3pRIjnVSv2vIiFv7TulDmtSAhPuIeWhhvVuihJv+wpEZvxIWuke8MhvvveuAgl5+HYQ0omUv5NvT3hHthQfSflvv0JQmf26f2s9uekeA5ofoFWfsez5OeKz92PSpQWeYvLPfPbv9CKeNzcejvPSo0BL5BVOoj7uz3MI2BgmHjivR2GEQgiuqg350hdfvGMpNR2OglggrfUWglA8SoWAcOqo7AJPWFuzovv0+zFfSc7A1fyBVOoKXqPftkMumvxJNtuvM7XwpEFPLYw+pPv0Fj9eqh3VoLZPxIk+bkY-tx7f2Ol6epNsGgMo4RsVoHQGI85e99IiP7q-keohB9S-DoUD6+lAW-y-DGkP3HO+E1m+y+USck+-sU99oMR-DGtGJ+vbxzrV2-dArCe+Wv5-lCNStHs6v4V--9F-AXIiS-B+K+t+UeF+ND4uG8P1P3jTnzf9sOdxfHrCtNO6tAL7mxb+9Cjn2y2IP1HA1PYQI9GBN4PUFQKoAbAscJefXGYBf39bgDjEL1CfrIgP5TgMos-G1pSBP4mEFe-vQsANwn5bcAwYzT-q0EYA-8YW--EDqv30K7dgBSoafsP0QE49aS+7KnihxPbA8tyZFbntQJpa2tdAXA9Dnex+4Cw8o0cf0lWntYRg6SfvbXvAzNKgClWZ-M8LdBJQsARWdheYEsFqB2I6A7XdQbxUlR0AquX7YxqTHKz+NdBmgtiAYMzqvNS2y6bQcqxS7LVMUyg1QepHMFaClB2QMHmBnKwC8OaRQdwZYLayv4r8vtElLDUCEmDdAgQmoIYKv7GD7BZgvKHoKCHWCIGtg1Mr4LfiOCloGUNwBHkDo-pkhFg5hMUP0FApM6fg-sDkLeYuC8M5WO4p6k8EqD8ASwDWADVIi5o98rQ+QGpDtCWBsgqDFwWrU6FxdOO8SHoeQD6HODBhMw85j3xYreYBh5zfxlSiNahCChEQsoV-GSgfZmhtdGoZMOmHNChhXgtTMsP1xKEN+-5PoHxD6gQEQG0nUACSFBA79JgUieAeJGn7IC9ClfJ4VYRWRUYcB9A8IhtC8R-D2ezw+QOgI1Iud+QUwjGI4Hkoa9aBF+XAdEOhEUCH+e0eEd1iRHq98i8IjEa8I0I98ZSwTfAAOh7gjF-G24SkaGmpGYc3OnCIkVCPVT+MZS5gI1k4Av7wijA-ja4eBBqz3C3grIl4TCMoEQNv2qqPkXYyWbc8XhkrXEYiORH5FoMfIqoVKGgyKjNREIZUbGFVE0sNRaPAyEOh1EminI+pV5nSKpGwsFB4TXVD6CLAZg2OqTXjscF0BOtWRTrN4bANlqNwg+alRKJbH1EZhDRXozEa6I9FjF-BUoH0af2NKqjmsdXYSGQ3pER5YWqwl+K8yjKj0ZIcwqIgSOTFCRh6ydKNIQEoJl8KQPPdVEYP6EJojR8gRocIgU79DlBrXdrmZziF+j+IFiBTh2Mu61B188Q6nvMF5haCjAwQKlAWDoD2iqxrrUrr0BrGbwpEZnS2GWybGAiBcF-MzpOLv4jF0gZnEelYFABlEAAEtzUcAABBcAOAG5oAAlMopAAADyQtZAOJH4LW5ligYnjtb1ng1jusEovfBWLZDziAJGMSVq2PnGVt3RQCUMZS1bEyAWgUY+cFo0Ql8JfxqLeGil0BbnjLxN4u8Y+JfFvi0JVgL2vMHJAwS-x2E+CT31bEFj5xjgRcSVngnlQUJxAa8HMJI5S4y+mE8jjRN6EYwgJPfOYeyDaECZH4Lw+FItCCSqcFg8ibRHxOIhSSXeHAhEbYCAlVDvxqnJSQJPUllQsRBGUegJCEgK0J4oQy2AAAYBCPUeIMeCKymSRWZYcPpQC-iKpHJKgEgBp3EgYszJXk4UKMR4Bbi-Mvk2KP5MYBaNNsdkogVXyUAr9Qp0rFybMFr7c8Qmd1bnglN9ZthXJRLdvpcJ6iWAa4MUx+k4AyjBRTJK46bo5MSnZTZgfBFYg5IjxOSUmNyVybH0mA9QlBbIY8DIF9ACdwSVGKASx2ShMhEu-QBqe33IGZTRWSU7hFCBYFKsRpHA1VF1McA9TpAvoEgie11G91LA3U3qbjhXbJREYz7ZXlgNWnrTfQvk7ESIHmCNRYQTgcVmgOR4wMG+volXvEgukHT9CwPKnlAJG4UpqyzIiEQ3yfpsCuYDcX3KIEwFCD9YMAocnAIQGt8kBGYX4SoyxEwz2BDKGnuOK-gNA8BOLSkflDR7pAvpG0xQKiKCj4zBBhpYRnjzlhUYUO-I4Miaj2lrSDpJBbiG4zJm+hsC-nfsOkCJmahDum5bQlgTZmXSDW9owUX0HUA0gU+R-fkliNS7+jPh0iRATP1+Er8ARkwYWPANqpjMxxdPLXtzGIB9F8RgYimRrLoHIyhkFo-wA6QxljEByf05YFMQ5gE08Abcb2RGA+GICkZXfTWSIUdk6yBpVafWcah25G8SA5sw0fP3tmUz2gVs22Rz2Eac8rCx0sEZ-BBnoyQ5CYyOEwMYh3TP4j0tYI7O1n6keUXsn2WHL8w2iGRdokhMIMlK1zMIG-HOSCSAkvtrcMcw4hbI16qAEeN3ZWYC3JHeN0xjI-9vXIzGG8PQrnOQCyKHmSs9C3IogVnnKwxj8BMsvkBQQeAp9B5d1YeRnKlE8i3ZqgKrgKM8R2EhRcsveRHizzDyD5ys2KmAG9ltxV5kRQeUYC1TyiZRbWfxr3JwiGj1RWQgmuqLaw7TkggC-ufkTLagLYxRQMthAvtn-ErREDaedSLnFOBfJd8dHMKx-yBY6s6OdFqZO-IdZaAiwCsbSGuk99La10wfKFIXw0K6xTjVdNBnoWStoW0gHqbUFFR3RYOrzS2uwoqnNjJ0ntUkDgt8meiWWyqfSdIuFA4R3pD3f0YsEjyNSCoPkzQCoXb6lS1g10lRC9WgXBiQ2SkaBeGJkWhjIFCMpElQoeQFCMw10qxSkHjEYDjSRi2cCWLTG2jZ5+AtYRAxtgH0WW5UpqQvlUWKTHFqCXMVYHzEnD3FKYjeMeJEh4THA943cAABlua74kUi-BslS4rAOk3yaKEsUjy3FlYmnuSHAm2BIJZE6CWxEKWVLU0rzdCamFMmihB8zS9RW0p77JLUlGS8AKROHC1LOlDSvfKJPrph1+w9Ek4YxOYkjKnFyQe-KZM4nNCnwVQqZcsIWKXtFlEeZZcsKxb2jPa9S4pUoukG1CvBkwiScpF8mtwgk4i9RcEvRnHKNCWk-JUGNaUNKgJN0s8JHTZD-NaWCi2RYBIoFtjsgoy5oWJPkCXKig5IpaMlDGUlg1B2wiZUpF5iJtYJ9Af5b80BVCSsRuomoYcveURi5FhkqGrOX2HSyXoCgQJQosxVRcyVFwlWfxC1CA1xI-YpjrSqGTbgAl-zX3lgOxlGyq4zKriKCIeCxAmpfy-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')">function singleton_stream(x) {
    return pair(x, () => null);
}
</pre></div></div></td></tr></table>
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.7' class='permalink'></a><h1>
    4.4.4.7&nbsp;&nbsp;&nbsp;
      Query Syntax
      
	<span style="color:green">Procedures</span>
	<span style="color:blue">Functions</span>
      
    </h1></div>
    
    
    
    <div class='permalink'>
<a name='p49' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, used by
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), specify that a
      
	<span style="color:green">special form</span>
	<span style="color:blue">query expression</span>
      
      is identified by
      
	<span style="color:green">the symbol in its <kbd>car</kbd>.</span>
	<span style="color:blue">string in its <kbd>head</kbd>.
	</span>
      
      They are the same as the
      
	<span style="color:green"><kbd>type-tag</kbd></span>
	<span style="color:blue"><kbd>type_tag</kbd>
	</span>
      
      and <kbd>contents</kbd>
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      in section&nbsp;<REF NAME="sec:manifest-types"><a class="superscript" id="4.4.4-sec-link-2.4.2" href="./2.4.2.html">2.4.2</a></REF>, except for the
      error message.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (type exp)
  (if (pair? exp)
      (car exp)
      (error "Unknown expression TYPE" exp)))

(define (contents exp)
  (if (pair? exp)
      (cdr exp)
      (error "Unknown expression CONTENTS" exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+7gYBIQw+DMGwUBwIgyDoHwPD+wt8jzDRG0bno9rELMkvI1IkyKI1R8GBsaQAPy6XI18zPvix9vfQQAFzAlKpLqiKF-QIT8g7UANIQTQ6EGzUQ-kKDCYoJT-z7CfM+wDzC-z3PIA8METy330OgswT8969QongwBx9QC6DQcNTBiZXSlmtPgwhoBiH70kCOVMt9UEENocCd6N8KF32Gmw3qAjGx7CAtQ3hP46EyGJCpESBUNKfxEXqQ0nwkKqA8iCGCRlFAmXwU8Fhw00g6LTigqhp8ZGNDkVTY2qifyiJmPY+G9xmbGyVuzSx0iWFyOTqHZhaiSEzACWmHhfjgRpSii7AsQibGlGcSDRcXiuFCIiXwwuxdS6UVnEEpxoB67SB8iEwgG0kLDwkj46xxjTGlB2rZd+05VCD0qeMQx8SeEJLSL-RQzAITcOAgAVWIAaYg1AADudghR6CUA6UAABaBZVD34ZWxjjQp2SfLCBeIPM2GZKD4FAKoEIzpKAsHqn9SQWjhD9mYpnTZJcDZnIub9TR1VVA7MKYwKIstzCDCodIC64gjknKkGSVo1yPm3LJuYc65BNh0Ctgi1EKyFjlLbhY25tS6m4sCI6BQxB6TUPBLQGKJi8U-gqQZDkxlPkkH0DiylzLvm-KZSyvFFSSXMBrHcGF3I0gyRCBFJpqgXTIu6Y0J+IrxySEfISu44rpDCLqb-Vo7ROgtAGP8wFwKMzmD6dQCEXyWQjLGZM1u9t9aaHkIs5ZRTBRaX+bxHSDSJRNJMpOOgPD7mVwsi0n5oBUQAD40UHwUAG8MViz4Rk0LbHeuoQlytoHVKaEjag+v1UKqQ4RCDvBKasiN4iQSWDWofTp0b+wmOcWUotKbuofWTfQDxcSmxFAyXw0p5aiUNt6l9RQP1KB-WqWfbcOkk2uJNt6yt9zDnHJCJlTQ+tDZExtnc-VC5qTqo6AkLVGwAXyCBbaudYL5FOxiTFX2sLGgyS7RGoW562apl9k8aR2qdWHr1eg+FBBwTnseLA21qKKV3qWA+xWztL0S1fdY99aQT3CrbIBz5f6IPOUA+uilMlwORQA00uDQQD1Ht9aUW97DJ2qApa2R9YtTZrpg6O9BwxAjDCqvbN1kgSDVi6Kof++yPSsX9ZIINoaWQACouMMN3WJ4MoA+P53tnQdaxAxR5qgtgt8uT6Bzn1QhqQFH8HXrhbQMIAo6ZBqZkbeGqS9AdLbV4Ajm6PZSEXcuijvsqNELk17TzoBf7110MiZTqnFZkPaSh4WaGn2u1Nv2dlHKzBKbyCF9TODULad87ivGnwKMKxs3Rq9PEWO6ttRuh5WC0taccWogCYW0LwIbH2SVPTvOVAI6xhN-Ik1hMGdI+5P604WYCanag3k+wEZ-UHdaQKLNJZU9QNTdXtNpwFcZp8oBJP+l3QwVFHHNvJh41NlQfyHmgdUGnCMhLiWn1Jby7RwdjvxYS89jb7IpNdGnZll7jRpEKd3uw6J0XW2SMzQJ6k2XknbGQ75s7+UxIqKMZWv7ib2GcKYekmd+qf1NIs2dtHismltLyRWt9GxqzQNFKK-HFP03NheE0nhBGZL4ZdYzJNS3wmY7J1JmnyGls05Qegs7-PCfKKqYj6RT2zCk8OHgBeTBWDsDXlwTeaAwadZ1rm-NqgHSwuzSN7IuR8i69ANW0A8z0SotzbakxvTGD9J17HLIOQ8hUKdNghQLQXiWHhkOro391k6Qh1oml+jhYvAu1zpzExkoTQ8JCpCwZMuh6sAYiPo3BSM7lgHcF8eiVQoFp8vXF8-zV0+Q+PP9JE8twIG3FPdL8DF9Yo9UG+AXiHX7rqCpWKm-bWBk9NvoAXqd-5Fym7PKYqN-uTJFv+1B8QzHYzCHMqaIAL0EUafD1Y8r8WLJ+VRQR86x30sJpvfnOl-kslBnwFj+J3lkhwn+-rSn83xPHu+FT-I662QIOZpoh0XHzJVTD6yzUvF7Blw2RwyXg5FUBALB0VHYggPHR-2oAulTm2UMnkEzXWGj1AFBHBE+UwKz2GB-XeAnD1gNm5SAL0AswqGkAGA2WD0wKsgwmnQ9TPzsHwIhAa2yDYPHHjR0mgJJBpxMiEPkF+BwIeQ7DEJrzEMA1EMwIkK5lwN7BkMX3tgJUCwANmFu0vWsiBXp0e1AGcBNAnGsVf22l0CiHeBYIbDNkt10isJsP3lJjNy4NUCYJgJ4IMNABcMZWMNMO0Oa0CF-hyGiBsO8LNgAB5HDwi3hVA-CqNiF7cjVVAWQAAVLIdRYgQUVlJwFWAUSBBuf3YCUAAAalNxe1DEiCiEOXTn0LNgqNkxZHKMqOe2qOiDqISOOyrVxTtwdwyKyPwHkAmTyPZkKOyUoBKJaIqK+0CA6NqPwHqNYMMCaNZFaLmPMAWK6L8K-3ciyAgSgW8OQ28NB0CGQNmBkCyEsjgMaB0jm1sN4MMKBSM0FRLzoMeJeM2OIVPiuOoEsk2PxRQL-yHioLu1+02N-m8KDQxA7EiOCNxSfg7ESJeyhOUxzk+NJheF7F2Mc2dUaBPWoRhKtyxFc0oMAN5VeKCENW4P0NZBGUyFaDkw5CdVKCIy-TqR-TEIsygOYNJzqRkgeLkMiMII5EZUBPOMwPkNFJJCKzZP3XgLsGoT+JuNg1Z3tnJ2ONFVON8JUDOPMAuJVNgPMLKzMHuPRMiOeP4wFPeK9kxIRMSWjSNMBLhl-xqO0N0OAOsQdJa2hIcLhIaJ9MdIukVmRKMP3iDN9PRK4kDOxI-x6NWzSABXQUJNPmJMxHIKXXJJ0Inw31NOpJSNpIwnpOIEZKJWZJJDtUKSkyykTMIxKxIzSC5MwJ5NQ2uT5LVJtNYiFKlJFJkKlxZTkI9RlPELrJYwVNwOVLAVVMY1l3nmqkXmXiV04A3l4AwA12zBeUuXeUL1uXdgjkSkv0ZBNS3LeTv3tlPL90kHORLliSqz3PHmpAChhW3B-UvKuXl122SmAQAhZCVFk3MCVFxXFPqVjy7AArMC7GAql1-K4IgrwLBEYGgp-Nj3zHgvzGQtAp9E9kqFkxwukGGhArMVjzqjoBLiUEdReFIvItyJ-CIqCF-JpIgppLqXosCF-P1HeA4WcDoGDE4reG4oYEaDYvMF-LKPgvMEd1AEFEMBDXN1aNopErMF-IWQkrMCkpkpE3kuWUUpgtjxkxeDSA0tktDXmTE2krMCUufh9GADUuOQdBeE0rkvmTAF0pQp9AAFI7LjKtL5kPKLLQArLfzLcJKfLnL0yZK9KfQABCdEUKhy6Sky+S2K1FSK9yu4FkKI7yhKpy0y0AGIswNKrCjKqI1ENSsKvK0qwqoK2PYNbKxypK+ZUNaqqKjK4NMqwywICq+S9qlq9KtI6Kuy+SwIOSswaK8wXXYBbkN8iIV5K8ipSIoNdBf1JUF4d8nc+MWWGa85bcgveMMUZwAAKw9x22WqLnpTsDktgtmu3Nk2fIZTiwpXWr2oJFliwG2rmquXhTyFNgswAl-O3U1Vk0Bt3Ssu+3Ytj0gGIB3TkEorMChphv1jBvBuUtj34skFgEgAgvRsxuRpRo4tggEoAFF4L0aia8bwbfyAA5JQKmuymmqmyMhLaakzBFZ6762sRa1EM6yyI5OS6Q-w9m1mn6ra1mvAm6t5JtdKWsD1Jaxof1Pm0NZ8uLcWnayWjm2LBgnSB1EtNW+a6FEgXZH5fMDgx5Ypa8lTdVRgYpd0w6pQeYJTCIJdSjZlZ6m8nIQMe8hlAcxoQeE2voIIdUhaEMyBD03M60U2zQ-PME8lSlALIlVQZ6hahol4CU1Wz6z4DWkQimwIeO7oJOtuagI6k61O77IWp8H6+QnO8wMg3WLMsO6ggwbcHIBFWuqIIOEwmYGOxIWbLYKBbuiOhguXBchXFeDgdebgTADcxaWgcIJQCgSQWGMIKifURgUOUCSgcCHIU2z2FwNwAKDere0c4IpEyeIiHEo8TeiCY+1olkSQGYszMMLog+y+o+gcdBX+F+sCa+v2HSaofUAmGlT3G0Go60h5ee0gJwK2Dae4XZUgUgJKhgColpeB9MlkFop+dBvzYCdYioiB6un8dB2mMMAQxmEgAyC6EBu0VladVpcho8C6X4AASEVMfpqNvrSNaP-pEguiAZ439ToeIAoawJobuSaP0BZEPzsHoeFk+CmBYEjR3stmtkHhPuAjoJZA-odmSlUdADhBYVPQ+N7FUeKB8DYnfyIhMdABSuAgfi5HQSfgInYl0YcJZDsbN3lWUAXqXoJEkFXtDlUdt3nUTEmKblnF0f0dxSJGlC5XhyqRMZ9Mwc4YqJkbQPkacezj2UUbEbaNMRaIfuONsmQVifUniZ+Ryao3ydaNSbkcUAUYCiyYSdWMqYkaCZqbSLQqNqjRqa+Dqd6NKDkXcMCalVe2EbSLgpeAAg7FUbjMsfKf8J6fkeCLsXCBqMUYceAgAHIH7B5b7tmtHtiljFGpHRmGHPhYZGAfILnNLQD4plG1ASQ96IQOxrmCG6lfy8gWhmijVmjxkgxixTRFB-mb8rZOR36Rn2mXnFhLn-DexXmXhFm+mtHIX2J4XXh8I0WenXn1CFo7aHbSAnaCdZVnRg5xJYCnQlGOFQmqtJw1GPnqW4IXgSn+p8haWfa0h-U8WTQCXKAl1AMS1SXTQunPUKX+mWtomlhaWNnfy7GQx9DEE7JpRaXlm3dNAcXdRrm6xZkHQBX4ZTRyXNBYU9MqWG4wnWXRWSMuS24-TcmghCmkEYDmWO5zXDWxyZ71sSW9WLp6Q9kLN-VNWZlzgdXPXxJhWDW5TcDk6MI0G4KNn3COwQ3AWfWfksTzGVwiJE3vWOEU3wWBna8BYac0G0K43mAvXrg9ktGo2Gw0GuXHbeWiXV9NGRn3Cq3sh2WghOX7buXCX+XM2w3lWVWW3rW6TxbBWs29k6z2Tj1QUJXw2jMZ9Y9ZWBR5WimYDlX2sGyytb0nR2sg7dQ-QgWqJyBqBU5jQWg2huhaWLCgRrVJWKW0GD3GAgwTmkQfXAWn2qILEr3bmnz2In86N13eI8B-jr5fHzhr61q81ClyyrhyA55R7Fo3gi4phQAwZjkLoFowY1c1cCENk-Rg5VAjRM9NgNBGAWgwGcI7nJQ7SfcjVyPEnXs2gd0uggnCZGoiOHJ2IOxaOyPSYxW1FuPsE6PXC+jqy6ACOOP0WiIeP6O9jcYNFsRr7VBYVJsHsZhwOcg-r9KNP5AZM6zXUDjIFCP5ADYeAXgiPJAXpGz3XTMkVnAdOLN8PSBjPTPZm1Ajt1O363WzBjWQaeM7OdPMMuyt0iUNVd08SzAp3rPAgf0ZPHPTQJOTPLO3P7hCB7OvOIugh9c-PugZOmaggn4cvISpO1A8vMvmN8SDSC5m0n2XPJAzPQALP+BnjFgqSf0Auj74vxPnOLOGvewPPFPt7vOQVgnONQvmPkQ0vAuqT5irBsQiIBudP23hp3CAJeu1rEK6vmvdTV9HqUbIL8JFuvPhuov8yYuxa4vUUnOtuUuOuf7hv0gZ3mhxvNUxUhOyOguggmHGgQz5vMIpuj7jFvuy7Nv3CmuWvxDluOUuIAf7vuRgfIvN3MtfvewZOIeHvKukyJyqv7ZqLYJSB4iWAqTzIi3DPNAm28VQEyffNf42BXHIgLon2KfKUn4GegWvt+jUiWASzzUplQAQP0sqydPWTIvWG8fyACfXyxaBetNBugN1F8YdPlOBgf1YOLMZewOj6OmyetI3yoPUUNej2teWQ2emfuRGCFPnBIg6pohujv6ch0fr3ODNvD6IOdvWuTmree1-9XechztreajTaOwvebefhPeA+ffxx-fvefgneSvo-Q+a8Q-3TIh2yYDfeRGZC4-ruM+mXFCTmo7uhc-3fM-FC4-3CIdk-bfi-T88+xT1X+IpBQJw24+UYy9JxWQ7G5PxAK69BN6I0O+mB7JXsyz6RQJJAkOiUchGBYU-7-iSl738zjXm-lXou1tTMq+oghsI+h5U+xCDW6-ZTMvcCQgcuE-A-viR+Ft89x-J+Whp+D+h-ZTiuNBNAfJN-kNN+I36zP1p3Rv3DV+Z3B5O4Vf4+QOwyrF4KAIxIDtyuSPYLkCEnDldselHakFANpYN8xAoYXICwBNZaE2gh4QUP5wa74CKK1wOgFZx-bn4PidAQ6BsxIGED6Q5A5Tlo3jbSxDoUPdSog3CDYDcB+eegf524HEg-u9wdgWnRez8DGBL0GvJECmAu4rkEgkQVRUPSkDJBlLagbQJGYSDQg-AZgbYgQoEE4SogylMpy0oyDFAcgz4AoK0FMC3mw0EwXJSwFCCuIh0WePcUEE4D8Ah4KEOdS+QUdK4ng2CISkiiWBiQNoHgQrUNoChf6jMAIeQCCGOCFGCQtQXaSSEbM6CWjMwdbVyDyDlBDAl2qYjhLuCc69g0NLEPiHuCwhTg6eCEKJ6uC2cDoK7NeQlDnRbgqYYvsJCAhZ8scYtTftvxj4W00+0oYvmoVYan8Xuu6c-tEAY6F87eV9B3qAA6GH9xCQTUEHEIHR+N8e8RD-qKi-5UVYISw7vqsO+gbCJe8RVYXsM6Fl9KBgsFsq43wCrgugLRDZiyHuGqhHhWjNjmoHOELDYIhgDZtyTMAZCm+R4ROr8NtYgI3cjQw5FLVaHWhvhiwp-ssL0GnJQeYIuEMCHcIdC1GRw9YZxQJ4YlVhtgxoL2CxEcCVugQ3EZsIyb51fhZI8Gh2FJFiDKUMhFVi8IeFfMMB0yGoi3XqwVCTc1w-QRCASolDWs0gbvgT2wQGgOEKmR9ieFlHjAXgmrb4Zqy6EbAf0eIgSkqhRQIU1htgE4fiKVH7CxOh7WgKXX264oVR+fVhhqJBhIplUaDV4TkC+ZpCfMegkEjyJUwJCPCmw20RKk5EbY0C1vR0KCPTCjD9MqzW3gm1+Hd9YOwQ7AS5wa5EcKBaosWjtlACwcEx5nEzsPjDFjcmOr3M2E-DoLYM6A-ooMTqws7igQxKnMWkRwsxRim6uY5vkR0MCYM7G2DIjs3SsCgB0iAACSJqSAAAguAHABE0AASukUgAAB5KmsgFRR0EtaMQqwATw4TvtXqIY76AcLj6EBAxoXB0BuIHRqNYx5Y8tmuPCw4jbAKrWMSoE+hniTMJza8ZUFXGM91xptPsQOOHGjiJx042cQ+Lm4ni32L488RSMvFx9YxXo8sZIErH7QLxxAfwr6DvHEAFkCQwPDEOt7PiTR2mWCVuIFEJDrkXg-1J5g6FOARMX2CUSnGSzyjZwxE7njqM3GIiCGwxU4RhI-YmYDxtgA4SFBboWBQWyaEgCh1RQAAGRcfbASATJdovEopI3Fl6UBugeuXiRoH4mKALMjABSdfxQ4VEeATOS8KpMgiKT18jAE5hDjEljh7eJ+V+m710nGgGWVEWSabXcJuNZM7hKySaxyS+NZJKXDPgOH9GWB-4pkuYdOAtpipQWNY9bC5KklmtryLQWgiMQkmQQIpMkuSQRh0jcDPgEyFQKHG-boJ9cK-e9hSifjGTYpGfR-uFJsloQ7JFKQZptylZ1In47hVKZIHSnSBQ44A0VnSJrqWA0pGU6AaKyDK9Id2yAyuA1KamhwrJ3fNoDaiJRSBZwg-YYVcI2ApTOpjU7qeIWs7L8QRo5Nfj51BSfDZhgPKhJ9zxQyRrcx-D9MRiAFNkehfQ0PgMP36l96+mWbLuMJ4zOB8uIze4UejEG-xhp3U7YVH1ekY9ReTDU7lhhLwAC-hzKJ+D9OanUjYCdyPwK8CWkjToB-HVVAQGOzyAkB45FQkjJWkUt-RhfJoSCFQJmglONfPUgxP6w9Cd+10lPipn35zSHpj3Y5L0JsY5diel4EgHUX1FbCd+n-Hfv4SZGBB94BwgOvugbLrSIQEZJQs9jwBiZ5Z36amTH1pn-49+zBEWQxMy4yRWZGIIrrVNezcyNRe0iDkLOMJ8ydhAsoHkw2B4yFKpkIwLMbPmEayRhxWX-iN1UATTAs00-IBrMZmykJCcshWTekvBsi3hHI8WW7PzLbsrsjskRs7KtHjk2MC0LmUsR5mJ0GumgbbqqMja3CMQocp0czwK7ARHR7wvQbtM0AZyXo-wzAkCNMnpyIZjpQmdCO0CuglOFctalnMUK1zm+mchuY-Htn55m5JMygG3O27tzKZoAQOWJlrnuEK5sIeECiIIK9yNmKcg2EbN7Bzz2pQQDeS9C3mBBV5achNkYPNGlAE2u802XcUUKsiS54cpObuHCigtIQQOSlpHCPI1wgcqUUFueQWiPgDwO4xiGNLj4BQxpNeFyRYkAUCj8KGJVHiFNRnmBQEseFQOlMFA5pVJYLLRgFBgVDdu+OtESFZOCnzDDRuo4gIqOhYGxs56-BFAeCNxxT5evkjkP5KPpSBIgBC8QhNjFoHytRFmKjAfKNlELNxQs3+TRHFwu4VMY0veWkEtFMyHknC6cMigdHsjC5EI9IWXMLTnMyFrCkbGNmoXJZxFyPbkVYF5E1DVAsiu0X3F4jcT3xkgMcUMgAAyRNOcaKJEkLQmJK4qySZGwmUyBRO4z4OWPYlwSNmx4vcdcHcX+Krxc3G8bQpMg15HxMwUJW+P7HWK7FDiv8YrAAlRKwlcfPCXnXyF1JwJFQyCdBLCUSKggLIKychPcFcgOB+S4xY5M-k5AKlNQrkDgq2QZLPFFClAUCDwmxDCJR00FlpS+y4LaFrCjbsQoOEcDXFmo0Fh4pAkkKGJ3fM0HEEgjXNVA-CgdEsLjHEhTa3SgiedXQTck5KFKbJcXDwG5CeMmWHdIBMwkmQ1lHEhiXSJFE61QltyuZSyIHLCkihBMtRYvQ0XXMNlSQqmetkujCALMGY29qsrIXwTQMPyxQI6jrJPT8xEw4FQyjNyLLbyMKy5hCthX-KihQTZFfkH-Y3LIVOKmod3xCDlitehI1vuGLDCwzCRpjYEM3wbF1DFMx7SwCxPckqY-FVEuCbOie4W02gDoLXjysOlBAf0dY1FIUqS5ViRVmXH9JA3tyJAOVVEBIXLQSw1L4xknBCUBNoCNLsBIvIIJoDzQucAWOqpCShOW5DNEJLwEUQqt8mKweVmy2oRu0jkKk7YwdNlZ8Bcmp8-FEClMR61mUWYhF-82cGNIIzGsKVbc2ZaKvO7rYJVPfQVVBOlUwTo1cqsWnaqVUuTVV3NZ7BqtCFarylKE4bkaruAFrQWeq4kEnjqTOTQWNqpKhmtrBZqihk7OAc6jvlVhz2tCsUIwGVXhNEJlLfBSKvBHwLCknawdf2q0avte1+QWVdngHidqeVLSftfcjCBGpjQiEgYdyv7XsL1s2QK5axPoAWYrFn48cZOJnHgACMx6kcaep-GOKrVZqutVpT3XTqTsnSuwCyHASSM51+7MdY-L9XzFPVXan1XuNYV1kf0z69xUesSU2L7FF6jYFYpg0OKLMNa+YSKIg3TL4VIcz9WWJcwUEm0h1D5F6mSHWwiNJzHDI+AI0iADWfg7uJeydCkN7YeWCjfiBFZxpTa4BejdINw311SKlG+MNRuI1qBSN360fG2V434gBNQCxApxpOZ5ZxNIgVjTRrAL4RhN7q3UAkCiAZR6QKyojVJuziqbp6FG6gCwuY0KaSV2AylmSXw0fJTNFAETo6Q+U1CtGRmlhUxtoB8a6Mtm2LFvOhUrLyN7miTV5qxJYAEe32RzRZpCglq0inzZor5rIV753NxmuCc4t1C8aktHsiQB5unThatl1Kuusunk38bCtsWF0ZUAyEGSLB6mAgecrxRxbYVEWEWMVoy10Ast-hHLUTyB5GUkqaW1zdOFCyZaWNzW1rZ1oSzta-YUWj9YwFi3fLrmsmHrclunoaaNoeyczbltwnuD8JsEXpbigOXBoQtP4KBXVsxVLbPcGKnyBOxKXDR3Rhiz0RUJZEEJQtRc67ce1u3GLbZ1s7BnQRG2SkGFSQ3EBNr+bTb0UCgM7bJhO1sLp6jobBHmjvaGs4+Z2Qfm3Q7q9QB6jY9tWIFrY8s+WVOFNqtqJ7nhBSG2npXstMS7aTEUOyBhGgZ7PgqAG0CUtMxzZLCSlCRJliZTEE0kWdw68GqalGTjI+eqw3UkhSWSlEyiIWj7YEBZCY6e2TSZpQx2e1GL4xts0xL-C+0mIxt-241ZLq7Z1tsd44IHeGnUWwrZMUu+thhgYLqi5kUECQDRQswABOAYDpGooECnV9wWfozCd0UUnV15KYJCBeC8ql+-K6gZqGs5RcT0l1DEIJJm7mAPdPkTZps1ZBoBE9Bq12edIpQx7YZYQb-o0Bj1e6X43BDbeVH8J2BlkHeJjINJz14S89sDdRDqxj04LpAyC1BR-GTBrq8dptdrRroypIKKKTemmMBCO1w1u9KCr4GgvN46RM2Z2k5EIzzT05FAmQM0EjUBWmZLoFmANoKG1a6syWYzSICWtvp9Bml4a0FH9EYDz7Ya1jPOWaDCJBgqS6elkEsmWSZtQA1zHvrvrtSqV+gXOhYdboIEmKhGZzSfZdC3CgBTuFXbacckdXHtT2HCc9jxkANUkp1Lko1NOpaQLqN1FiOA5lxPTH7T9+sc-aihZCX65oW0r-WRR-137799qRCaOovZv7795YYA5u1AMMHXV2e7-RRTSIUHhdz+rUQwE4NLJk90etgwbC9FHKNt22zlLcL23PYsWGipkdTp+r98lgl0JncclmCs6tKZ8WwQPtWUhgDFL2l3XQRIi7t0dgsNsnkDoATI3AO+vNKFOX2r6yFWrINpvv1bb7p9CKJovvu-7NkOQaY7Q8oYFB6GFdoQww5hqo4fExC9m-uWyGoDqJTh7DDoUoE0ZMM1Uf+2RpPvkN98No-h6QpgVTac6p8clTQ-6PBVZST+UgAARSw2atTDWHwwso-x5288lScTfkLe2-nHRZ6KsFvpAvKPVTKjIzDjTUbLl1HB+DRvnU0dKZvQOjtmdZBPpWWbNZRqgE+QAB0sAg6k5fnkgP4AjUCjL7dJQap3JKU8e4CNgdQJgsBgsxjRfMbXGLHzRKxtY5NPpCbHtjoIggoQHpz+FiO7hN46AAABeKtUACsaCB50vgJ7LY4wAUZqG9jvxgcAliOMgQ59pxrSMDxGBmH6AlhiEPMfWOPHQTzxnKpM0QXNFnAzRUgM0S+b9hNm3IPABcfq2YmHjIJ65Liccr4mfQiR2OMSdJPNK4T5YIAA')">function type(exp) {
    return is_pair(exp)
        ? head(exp)
        : error(exp, "Unknown expression type");
}
function contents(exp) {
    return is_pair(exp)
        ? tail(exp)
        : error(exp, "Unknown expression contents");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p50' class='permalink'></a><p>
      The following
      
	<span style="color:green">procedures,</span>
	<span style="color:blue">functions,</span>
      
      used by
      
	<span style="color:green"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      (in section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>), specify
      that rules and assertions are added to the data base by expressions of
      the form
      
	<span style="color:green">
	<kbd>(assert! ^rule-or-assertion^)</kbd>:</span>
	<span style="color:blue">
	  <kbd>assert(</kbd>
	  $\textit{rule-or-assertion}$
	  <kbd>)</kbd>:
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (assertion-to-be-added? exp)
  (eq? (type exp) 'assert!))

(define (add-assertion-body exp)
  (car (contents exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+zjryCpoSyTmTlchKC4KqMvGyBAA-Gx2db40ABcoCKMwEKTqyACqxAGsQ1AAO52AVGnz4vieM4+Ch6CZy-MavUh14XydPobe5g969kPqUE+Z9qDAM0NfW+98n6nzEq-L+Ktsa4DAEhBg+BmBsCgHARAyB0B8B4P7Ba8h5g0Q2huPQ9piCzElsjKQkxFCNXoQYMBu9dJyA4TMGhiw+w8PMCfIk0ouGgOGnvIO1ADSEE0OhBs1FhFCgwmKCUUpSTqiKIw5hoizDiKkBRE8UjDGgD3tQ3qpjGJcP0dIn8xjJAjlTOYmRp8aEuNdKWa09jT5MMccfYE71OG6K8BYqxXjQmNj2EBXQBjhrOI8sPCSIiPF40+EhVQKSDIcmMn2J4FjhppBSWnQpATElOOBFTY26SfxROmszOptT4ZK3ZhUhJQToHAmTqHdxDTPG9T6WmBxFjnFpSii7As4TuEeOsTMSZbM3GzLGUk4E9dS6UVnAMxoe9Nk+QWYQDaSFUl2NmfoBxRSSmlB2rZIR05VCDzObQEyUiHHdLSDAxg59RnARvnfR+dghR6CUA6UAABaCFQzaEKCwTpA5qhhAvEHmbDMlB8CgFUGvCILB6p-UkNk4Q-Z-44VYgckEuL8VZOqkikgKLGBRFluYQYp9pAXXEJi7FUgyStEJbS4lK8zDnXIJsOgVtRWohhcchQdKBap2oN5OVlzik3NKI6b+9IEngloDFVVaqfynLyUZRQJliXXINZawIqKLVWqtac7VzAax3EFdyNIMkQgRQeaoF0ErPl7PDqoz4GDrS+ukHMm5J9WjtE6C0AYLK2UcozOYWBEJkX-KQUCggjN9aL0hdCg5WkWW8R0nciUDzf5OjoA40l5ki5PMZaAVEAA+aVG1B5XNQZoW2lDdQLMkDEv5XT-4eqkOEQg7xDlCLobQOqU0VqWDWjOpsejKn9mKY02FOjiBzuWgO15zSZkrq8Gs9ZRyZ07u6h9Fx4bFA-UoH9TpgTtw6X7a0k21a13-wxVikImVND60NkTG2JLk0LmpNGjoCQ40bFZfIdl8hOW-rYSaRWzsYq+yFaUGS57ZVCydlMjDEsnhdPjQm+DSbREioIOCAjjwg1NtAKq3DSx8NocI6mX2JHn2iJ-dykGi4g1Ito+x+jDzQOqpkmxyKYnxxkbSHBhDpLsOXjfc0+Gqh9UXgI8sn+IHuPMPk0EYYgRhhVXtmWyQJBqxdFUNotFHpWIWVUJIJtraWQACprM+Ogx54MoB7P53tnQdaxAxQTqgvIA8MECRvIud+rl0N1M6OPZqZTwrXmiplox997SVZ9iM+Bj2Uh-2AffSBrTliAte0qyfeuuhkShfC4rWxrzhPC3Y7pmuWsVV2tKCFvIzXIvRdQvQTTfXhqZKA9TH105Oti1NiBgcRnFOUcaKO4bb5tn5F2YMgCrWwvqIbH2f1XzquVBWyWxm-aRn+OHcm6jadGN9IVUqqRRnqNB3WuynLTXqARYOyZNObrzDUe8-6aDDApWWfB8mWzX2VDMszm22VacIyarokwnVzqcnB0R7aibhPzCw4tF0T9lWic-i6UFqhXilkLaHYEkdl4ptevHONg1LHZuCZfmk95a6ad9q8a4vxqyv0Pcy6AB5jGuci8Vg8l5O2LkOKM9WZRopvVy-V7E3oLwHkq8c9SB5L7rteIO4z5h-81dHY1+zg72vCmiK5-bhXvPzmpcuWugngRSO8TwLgpgrB2DEK4GQtAYNe38THYwCdbwfIOhXhtzI2Rcj5AT0xkpe9wXoileOxDxTvm-IdLHLIOQ8hdqiwoFoLxLDwwfV0I+8LGZTeycaqwpqXho-F4bimdwJoeD5UhYMFO2-GU74qwUBu7YLRCLynd-KBZIsT6wv81ckUPgH-PofLds3ytH6apfzPWKPVBvgF4h1+66lOeU-Ay-j-Ayemf0AL1L-8gdVjp1MVb9H+2g-0-LwIYTd7ZWc2whMQ10we8JhkoWQ2caIaZFpaBv4DBX8dZYDhFxMf9itV95Jkp9dgI0DOQd8CD909BUwMDk1u4VwiJxNBd+Q4Yg4zRohMdZhscYp7tIDXh8Jfdp8r8RNCVDIl4mcKDSoD4eMeC6CyAGDPhnAfJ8F7Jxd1gis7AgEkUBCp8sBqN3gJw9YDZHVdVEhGMKhpABg54W8BCrIMJP0K079qQVCbd2U9dxwe0dI5CSRtczUBDfhFDkcOxXD5Ad8-Cg0PCOQvCuYlDOCiI-DaCxANUGtmDWDONrIHCpd8dQBnATQJwhCOCchoh3gLCGwzYc9dJdAog8iaFSYN1QAVCzCOR8jsgrDEdPd0iLpmDTtAgT4cjSi3g6j2VDAAAeYo3I7o8otooIKxH5OBVQFkAAFSyD1DyEFFAEHicBVgFEUQbgb2AlAAAGoM9CdQxIgogMV04kizZdj-MWQdi9iJsDjohjjVARjRj2jT4JiIQZi5j8B5AH4ljGUVif41ji5ZBNjLjdiKcghbijj8ATjLDDBzjWQriwTAgIT7jHigCFo5EFElF7ChN7Ca1k1X0mEZAshLJ2DGgdIBtJJTjHDej0sggNsjCeiKiJsrFCS5FLJESgh6DqBGCh49CcdqcOST57Cm0MQOx7CmTCc94OwRiOSjEBRQsc5GTPdexUTRETNSg+MEkRTc8sRStdCP99DZRmNXiejEFMhWgAsOQi1ShVtEMwNShqM-DGNpM-DN4eMbkZIKTVCOR3DvSSRetKcmAfSK0-T-CQcFNYMOCEkiTqASSxDI9hwfNtccSkjqS8SNgCTZgYy4zLd7SzBySFTxTqSHMPSV8GTxSni0gWSsy2SOc+suSeT4jP9UwBSrUhSkjtT95kRTjKzSg94LpFZpTUiaFeyzsvSuIeyXgVTGjwzjNriyguUtSiitDdYAN9SWDmyjSblU1TSM1zSd1LSSR80lifMspZzTNE07TVVHSBDnS+DXTfdSzWIvTAjxTQyAzKdAiQyojzzi1TMozWTiS3TDM-ccFqo8ECFg9OBSFeAMAEzsxnRKA8VfoaVF9iV3YI5EocDGR00WRELkL68P57Z8LqVJAkKS5plttlUMKuzFTBVtxqMSKUKF94woc+FGQeEAIWQlR-NzAlQ1UPzAguKuxeKzAuwBLvczAuKgFRKqiwRGAJLOLoD8xZL8xFLbloDPZKh-MtLpBhpBLzAuK6o6AS4lBBR-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-CVroH2b-8xoRbxbnSSy2CUgbotF2k8yM9iLxRN9m5WRGXzQWrPURRyIC6RgIMMEveNX0VsEwvSYlgRBQFFBSj0bY84L60hbjgkX8gMXhiyXU37bCHxDKVKbYLzzgYajJjxjR36jjzz5xXrSRi+jqVX3qid3lkHXjXrSUwtz1OSIOqaIB4hh2jun3b+1lQ7B1P8Tcl5wBP6urPnIVQPPy9aIVBjsEvxPn4XP-Ppg71Svw41B3sBvsvmv0voeUu10wv-xoM-0+1k77vr1zw8l2IuewftPnvqIjP4FqbFvmIcf8TIfkIvNnWUCUD1BlGNfS+SppvAOJ8HmpB2VbfvwxF-c+kUCSQdjndHIRgFeTh2Mw5O1prm7tfmt2H0HSXOf57WvjvsLB8p0Jfv6Ux50kV8OPOfmN14QkAz+Y4RgJfx5Y39QOgA-wpNw0CaAfIc-ITOANm62lkOQLDeG-0kyXgVCqAnyB2GzYvASBipbNtgI55PlqQpHNUpGXCKUDl4K-YFOEFyAsABmi8efG0EPCChbMdADbnwLMrXA6AiXBlvJ3LKHRQWIggQfSHEGed0mq7aWIdBB5hUZGHA4kNwLiJyDBBWgrgVxDUFH1KceghQS9B3yRApgZeAlGYPuDCD4Mog8wRvyZaYQZBAaMwaEH4BKDgkKg7OEIIZ6edMqVgiurkFsGOD5BqgTwYoIZ7DQghMVUMJwLe5uDlsA9BaIkO0H4BDwUIMmnnVk6VwshsEb+JFEsDEgbQSQn2nkI4aMxCh5AYoRkJiYNCXBCna2E0NBZGF0mIQxgDYM+B2DVUYpAwRfXiGtpah9QgweUO0HlRShaLWeK+gnpxEMUQdW4GQRT45AXgwkICFPwlzO0v+UqDAZ33MLj8oiRmIbqV3u7gDKio-boOPw2FIDKyJ8UEHULvRdNRe3RDAfXx-6e5bhvffwmwLkpPDbALw23t0UeHrDYIdw+1k6Uab4BVwXQS4qCxZAwjVQcI9JtpzUCgjQAGwwwKCydJmBOhUgNfo8OxEBorhZFCUOdGWHWgMR3wqIviJBDAsiR2TeEHgIhBYiL2RQ54e5TF6KkiR6gkpL2CxF8jhojw76ECO5FrtYIsQynB2EFEmD7UnhHNoiNhG8s-hPJB+mhAaHhVUGKhCKsMPOzSAXObHKLAaBcRhY-QorRiOaI17jAXgBbDEQWy2EbBqMXIvymGklT-DRRLo1QHaPBHWcLRtAQ+irQNQOjh+HBF0SDHFThpFGSInILy3aE1ZgkaoqwBqPGHhi3RhowgC0QT6Oh56ko+1tDBoZJ8JRfcNIbqCY4lDOBWXDbuJwkFOjJcbFJjlWLi7RcX8HBEIDjzNh7wjCajAUH8OzHFt4u4oXMRATh6S5xOjGYsbOQ2xr9xOhgFRlUx7HidtwD9UANMQAAShtSQAAEFwA4AQ2gACVpikAAAPIW1kAUqIwiYRcJWAxe3idXrFmHHfQIRkgoEJmM+D9jHxd6ZJuWP7EHsRW1otrCKK-HpNyxKgT6P+NizktQJlQO8f6LGyoN1xm4ncXuMPEnizxUEqwGRXLoOg-x948YCZCAm2BUG5YzUf2MkCDj9ohE4gJ7l9AQTxgEKBobvwWhQY+2dEwCRyNsDPjHGBgwlNkOcxaYNhTgNzGCTF7GjTRsEgCfkEEmG8PRd6O4XyM+LAiJJD4qiXcJCgriY8kEDQCQE45SoAADFeMZgJAH4u0CVtwK2SdNKA3QRPGZO0mkEFKUqTSW7R0mKAriPAE4ZeCcn7oXJjAcllNmMkwCSGRfcfl5PdZOswsVk7UcCyab+YVCoUqtpZOrxTdu+qQ8zAtEsDaJApODKQJEB9QSsvOkueKQ3HClkU2uF4r4qZMghhSneVkj3hmRzSWBPgD8FQKHDLaiJpxR4dfqc1db+SKp3fRARYDMnVTEpvZZxCoSTYBoVCHApqS1Llbr8pRYlRqZIGanSBQ4kCTtqNNzZMDkc005abNKcmGi2gPAmTmKHyDb8jhnhf+DpF2krTWpe3XAQSM6lhlnuRXRctdEajj9np7-YjtSDzzACLyhHF6c10-7f92+WE-gomzuH-SVMjLW7jGmgzF8IB0rGEQhjlEnwbps094ezmcBQ8fwwwOxjgO+kAJ6R+A4kZaggRLTbpc056X4FeCUzZpkCEzpGgICI55AwAwXhwQxmrT1+fw0kYsO0CuhSGyfNhmsLp5cTRxOwn-qDKr7gyu+qwyfqGPSBcov+FTYbvdJkgkBjiYot4T-0wGfDAxQYsWT8P6DzkcBL-TqSOVCKE48AHmW2VRk-5Sy9husg4bURoRQz2pl4FWRiAm7y8KWWsr0YPzlHmAsZcBYvvrKwB2NI5+ZTwqqhgTzCx+8stMsbII5KY+MR0hrFIFnBuyUiIshWSES8I2y7Z62S8EqOREqjYMtAmGfQPjnXDE5Rs44ZGTSm6hNZUJbWfPX+609HR4RKEQuxjEojsWfcuMcEjRHtzUaL0HEQITpGEjDo3UqrHzIlACyzQQszQB3LuFTzOpmgRLqC3nkghuSS8ovpvNRobcp+oAQuR5jpFU8Z5cIYEFT3HkBoW5BsL0b2BXkLTL6+ETea-OJzEB-ZrwuaS-KFETY12L0ABX1h-LpNS5sY0JqWKjyVSEYXWZoZHGwo1wusqUCVkRQWiPgDwmYxiAdPtYBQDpRBMyeUlwUviEminXsL2AIXJNuW0gZqYKGjyLBqmwSAKJQvymzDGYFKESE5LymiyfRAI4gLaO1YGwu5H-Z2geFTywLGMGU4MvLJyn5ADpH2SXA-IjESpGM+qZRV6L4VPig5YDLBXzjLxhYDpICxoCGOX4cFlFbo6McqLl68IOhw86dAoCgZCKeF0hCfOoAMWwLYhSY8gCmOmGqALF04P1OpKsCriNxkgfcVfAAAyhtc8fqMMn2xFJt4pyQRI4kCLjZ9rN8VhLaAOhPxRE0Fj+OwnXBkluS6iSBMwlgTYFJkHfNBMWQSsql9rRCeEqiUxKMJisX8fSGKVUTUGDQnQXPS0wkTxhZEiiSUs-lBAYCErBiQYK5B8iBlfimKagpyCTLphXIQ0RSk6WpLxZyOHpbUP4kGonJmVMEpwtgUuLUaGy42QpJvGui6lJStSaqLbqfA6W3ooRfSP4VICKxxIbpTxJ2X1pREUI1tKqh6Wz16QfQ+1An2Un4SnligbOmcqiIAK9Ray65VorknGyxar5QYbzIcUPLnFdLN5U0P-jUZLo5NKVI2NzRLBlWLIFjE4qhWW9iZOPQlfTUqJmg4gkER5Tip+HvL1WVnelUrlIJ6ZlWaK6YYaJCD9iPOjI0hTUkLExBJxRTYEGv2lWqifFlgcFWhFLofirRBIFeDdxFVCz1Vboe6dRnHFSohlXXIcbqpjDADqMojH5IkGVWHYDBsdPrLMsrF2daJeE2gEss4E0rAgmgCdFl2FZuriAHq4kMPhuQqEzVaSvUVaoymKxw1HK3GYTMblzwwgcCT4F5NVXYSXFBU52lRMYyYKaIaSBRRsC1XYTRVqS-Hg6THHRdGMxqg2EOK6UWrJcUam1V5IaEOq7UTqsoS6qclBqWAXq8wD6ruBdqJljEkHnFIlYvBI1NgaNbArjWzkE1-5JuVWBaAdKzJcCW1U8jYnUT8x4UCVhuoDVkzXWSIFdUX3DU5sj16609eS3PXhq91cEleMmqVWxr012S29ZJNnLUZsgrEgNWxUaXISDxR408eACMy-rdx-6tCbErDWbqJ141T9baqRxycgQLIeRFAvELDhl1xykhRsAfWpqzJz6nMYWollh1YNySxjI0oiXRKgNGwMjc0og3AsnJ0GzKsRrqVTiS5yGvsSVh0IkECatKScPkPpKKdeNARPgo+G40iBQOfGkQt0EE3ksFYXG-EDGwk0awuCVaSwRxrXJQQJAom+MOJuaEMlpNcsBJXwWMpaa7ggmvBexH02oa7Asm4zfJp032t1p3aHfAkCiAZR6QjyszeKrIEqa-hIm6gLlJE3ybcVgw7dauUAyBbF8EWigJZ2TYCrOB6TPzblNk1RbFsKW0mMYspWPLpMKW9wMQBM3paI5KtOLR8pCgDqpiPLC4plqEX+ZEt1E+JQtGM3+apJmmoLeyrxXiq-0nG2zYvm63RbkmdinpF0J6GRZ+BtmLTFVqhXtYRYvWu4DNvS1tbBh5PIquNUa1Ja5sGmugPlqiEtaRABWtnnamK0zDcQZWpDYwEq2YqqVNLCyppqa0Z0jJ8gVzbKhtQLbBV9rbZXxJ+UGo-lhWxoLpU3gXbHlLmtzZdp8iHtjFaqbxb4srE-lQE+25NpDrtV+LaRUck+EYSW1BBDtsYE7YK3O0LAMoIO-zEDoUB3b7YjoKLBOiXhP8oymKgaU-SDjpEZgb9O+ourEB-tzWQmZ7ZjvPCekvlH29kiUm+0lIydojWVGrzTqH8lgR9GFtuyQHg7UqswL1qVTlE7kFds8onCyABTIJlCsEHOceRBIRyo5gQFkGzufZBoVlqnBHRyvfJ9M0dxSTHcdt9XG666wbdnQ8lx1boCdLwE3QB3HBs1nRYKDbVZUYwABOAYMLwkBWUrd+Q8PSZX4EcqyKUwSEC8C3XP9EsrgyEOWuh6Ay+MdgIonpPumBBLK-A1QDixxasg0AFevtez0BlEyi9ZlOaWEFxmNA69BsHpfwghA9LyonuOwNCgvyMD+e5gFvfHvb2SN5ixbFvastoVmUGFSwZMCmuC2vbxVh2h3X3hUB0KZ97umVFiupUoop99Cr4DHl+GgMgOIO7FL4wnR65FAmQM0ErXxWS5LojGIdoKCLYltTQuYyJmfoHXkM+gKyozHxj+iMBr9stUABUxZBmgciQYe6S3qmJQpoUQHUAHS3EDn7RU+aZKibNETQGDW2KrcHNxh6Lc+MsanxanGNDLrbMl0TPUEHPVeS11N669Zutey0sm9wQLlAAaAP6wQDC7cA3NCBnQGWQsBqFH6MklLFSDbXfg1CnLC4Ga9gvSuWkF4NiHoUiBt0QwHkNoHgBQ+zUQCp4m7LLUguibFgcm1ByxdB-DaJdFl1YpVd3+GKswliETaaW3okMIcXVGI7KxRhEiGR1AbSY8gdAB+G4EiADqs1YdB-VKif0v6gO7+0xn4fo7nEf9uMm8hyDYq2HaWDh6IE4at2uGWNsMhkn4Ri28I2Q1AeYsCMOKYjYISgNJnY1eZ+NT9RhvQBLvsO0VsjnuB4orsyrWG-hhB6gMQZcQiGup4q0lV1MabqqUNwndDbGvKRtTwiHYcAlO1K2wdxIp+nFuqtUCGyAAOlgG4VAqvgHR-AHAhiZo7Iq91ElJajL3ARWD3JQggMBP2PKFjEEpY0GNWPrGt68+Ig9sdRa5iN4hAPXJ7gk4qEPjoAAAF79hCqqxyg48fpDPGdjTR-Y-8Y2Z9ZjjIEK-Wca0gU8RgfBLwz4YhALHQTmxwlBCYapQtoCpR2OBcVIAXFeW-YHFtyDwCXHnFmJ46diZeMxM8TbrC4s4GJOkmVlcJ8sEAA')">function assertion_to_be_added(exp) {
    return type(exp) === "assert";
}
function add_assertion_body(exp) {
    return head(contents(exp));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p51' class='permalink'></a><p>
      Here are the syntax definitions for the <kbd>and</kbd>,
      <kbd>or</kbd>, <kbd>not</kbd>, and
      
	<span style="color:green">
	  <kbd>lisp-value</kbd> special forms
	</span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	  query expressions
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>):
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (empty-conjunction? exps) (null? exps))
(define (first-conjunct exps) (car exps))
(define (rest-conjuncts exps) (cdr exps))

(define (empty-disjunction? exps) (null? exps))
(define (first-disjunct exps) (car exps))
(define (rest-disjuncts exps) (cdr exps))

(define (negated-query exps) (car exps))

(define (predicate exps) (car exps))
(define (args exps) (cdr exps))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6j0lTkgPXDhRxLSUO6ttKYIV4jXiVuu0d3UpEbrmoJuck5UiXSBJXYEaCwFCzF0JYS0vWe6pDW+tvam2jKKC42ZYUY13FpN85hDNLF1JGX7qg7PQoRS6Hz68tPyPYrDFYuxYVLZHdk8FxToE+AL1eGb2X5XNVhXKtMlXiy7fi5DZaz3srg-nJyTbzCgrpthsz7a6DkQ0vNLaQ8hPyxw5V+6DGxzydm3sndM8FoTYS-Btnu3OfqIOaYTxUH9pqKOSA436dzWrvigllmc9kGkl2+0ANQ2f10k-0rT83E04QDnx0nQtFKAeGxRcl8QTCpigMwmgzrx6iey+WtQwMLzsCHRwOEUQOoE1Fkn-FHyaV5UXT835FVXwJyGWW2ikVNQhxwh8R3wSEtipVfHrzsAz1H0EzmTGm9l20wLsEYM3C9XEO6SHkEKYEFEOWaAslHxAjoIG2gOXWYNEDn1H0GnUMFE0Ku3oKwNXT0PgKjVUk-lQJ4KdlA3kLohrzuB6UuC-yL00EeEelEI4V229xCG8N8MiGAn0mCBkMUGEOtTkMWXUSGQaDcJckBnSAj2xV8LkKMAAB4gj0iHo-94jk5vgg9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgZPHcUAAAan92gTzUeHAnkycKME6JzW3A6K6Mch6L6IKMcW4QLGKmD0UHKMqPwFEGPFqPqOPkaO51aJGM6MiX8AmPwH6LEMGJ3HKlGL2JgVugTUmNCNcyUNKAqCqFUM5Qvy9T2QCAJn0GcDKFmkIO2E9THj8LULiMcQNm2CVRx0yL2O+C+IeNmguJeTICQITXsPcl0gBj2PSC9TEmNQ+wGIROCCHVuIRKxMBLwwGNlVXVuKcRSA-G2GFnGBxJ911TJCvi4O3zRIXnIWiRKKBOkHKn3CaFYlADdRpOSCjjIWSikT0MtjwJENdn7Cmi0TWD0OeOMJyDhgRP8FVIkJbA0LFMjnziILBG+OoF+JznWWEVGS9UmTeNAEiHeO1LINhJ+OGg8O5KdMnWVL5OcMkKDio0hPxOshhPEFNPhOCXIOQKnG4M5KBAxOsixNAyZO12UyhMcmCE1GHCJPURBJmOSFJNJXJOOMpPXWpNznMBojdkYkZMCI4LZNRM6U3h5JKjtIqiFNhBFMFBvDvHbXdW2AlLBKKGlNH1lJAXZHlItMVIbm9NVLkL1JMOeUch1IUPnI1INLzkNPMKjxdLNLdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIlbxQi13myFzPQAh3BglvKT2AKjQ-IIkcFglLGSV50fNh3ex104U8kFSkV-LvJbyLgsWdUlAzT7RzX8D7SUk1IHCYW3BHVQvMBHQwsXIzRkLwtABkMIqQuwpLlIpLgoqwrv0pRfhzUYr4SlEwpSAzThDoFLEkFqBzS4p4pqIhHYuSAzTmMYDwvEv7BEoCAzWZEeiLAaDoH7nkoekUoYG2Bkv8AzXaNIv8EUFD1AFqENSWivE6KEq0vMAzWvD0vMAMt0GMtbivDvAsqIuwr7l0BSHsqMpMtACvDbiMvMEsv3wWOAFssgkMsctElMtADAFcsorvwAFJwrvKoqYrErArQBgqM1vc9LUrfKvdjVjK3K78ABCI1PKyKgq0Acq8SYqhKoEbcLIlKqqpy0AHI8weq+ixqrI0SWy-Ktq3qzq7K7ChaFqhy6qpaYakqxqhaPqzygIAa6Kvy0AOa6ahqhY0q8KlagIZa8wUq-wB3SUM+aCm8v85yOQsSCMATPtXQGCpPOC2eE67eMis62C5yagBoAAKxjw0WuqbkEFbmIreq-LE3AtKiIUXOSHuoQkeuOC2iwFOvwlgsvQ2PEmdQzUZUyhzSxp7mCqiVEuwsgGIF5lcD4s8uJtJvqnxoJu0uwtUscFgEgDwoZqZpptppCu3AZoAFFSKeb2baaM0AA5SQIW8KkWoWvMxyZ6+gESGGtkVGjtMQq67YATCCZaodfAIZeWmre0Y+GW-iHWxWowlWooNW1uGAtvbWkG2GxWhGttVqHCHWzPN8ycEuPfbCf8jMVKRgP8FEr6yQKQWBPCRmXJAyHWgCiPQEYChSVBN2vqF8ZIS0r0yKaoGMzpRQPfWw9SdOhMN+D+WELPG2+8ouNU3QLUo27eK9NUgWgIAur+Z2keHob6368ugmyu2W6uiQ2u-wOsxmdk1yBwxIQVCPESU1R4UoRI8LDkzpPeVOhshMM+XAMAD5JgE835M87gTAa3Z-dwCgRwc0IcG5ZkRgX0D9SgL9CPPfRihFTcS28+y+-Q1CCMQk8G6DB+79IhUY7cRwHY3NK47FSY++5YC+z+5+64FMhXAoz9MBjfOwGIZkImLjWPO+LFCiD20gUgeFISFaUmQCTB3yhgTouaTB5M7cEY4IchgsYY0YyQAhqG5Sch3QHoxQnqEgEyTUVBhNMiCiHhxwdh5YTUECAASGNJ6O-oWNGIQdJE1GQbsQE1VwEZFFEB4Zlm-oMG3DgdACUcoLcBYFWkeGvvh04UnH9EoapW3AjEJCYVMc1Q1XzBFhx2g1MaMFRUgdxxcZquNW3ECCfBfsgiHVscCJ8csY91AF3roeHEPrbBPt9FMf0nSBFl-B52Ilsa1WTitUGGl2Y3nRccBkockc6J0flWFH0cCbsgMa-t2KUhGL-ptJ9WtWyeTXI08eqf7FqdGOKbNVKZg3BqAkqaqeTifFCYD20eIA4aUG3Gop4d0C6b0fAamELEiPie2GCGKYWJIt0GdXKcMZLJMfIlQlmfGcEZKcYBYH9A1AAZxRWa+B3AAHI-75ohiHmrH-60HJjTGtGunzRGAlQfnHKpDCwccchb7enlN-me6lIM1tFZhhjg9hijxyBhi-hhQkXyo7oI8nwFnUQxmJmwWv4IW9nFBCXcWTnumzmLnSXlH8XiX2hfmhloMSXvm6XjKT8o0A6g7SAQ6ukohcIQw+lhpKQjGudmjxduwRozHObkmxXiAc0mnC1BXVBIXG5ZoOW7guXKBGZbkqR+X7hVHFWiFXnMmlAJX-GM1fHmGhMGnBgJXKWRo2X4l-mxkLxyQ+XLR7gDXF5GJS0xdedbXBzpSm7sTxIIx6m+hfV5WWM1hbXc5TrdXNQ2IgJLYBMnXzx7RXWdX3Wxp+mY30IG4LqkzgmSL-HIih1M2+lJUgIhlLby37hK27JDWIGC25kyHqKS3mAs362KJXnm2OEyG1Xg7NWeX2gRmcXIje3mgGGUgBMB2NWtXUNa3s2KnbXKXx2g3QM7qO2K3E2G3dZSEGI6ZMgCChWmzmd9tsKLXc0rXw3j2lWxSByPT5ZKQBFNM9p6pGpPXAXoIVVNxTXVn3G-3FnxLFWBTKoTwo8cn+kTUGpVtB9wCLsJXPD3NIjAOcXsChXXngORpQPDxwONpmm9p4OKZU82063GA2xyBqBZI2Qg15gv5EPAX32TWhWyGUXyPNGvso1aOiwyO2wF8GPjSh0iPRRc23kwAzTIUKPH67r7osIOyJVyBl6162BSAHpiw3BQARtIJNQo0RtLdLdfAlC-gQxFBWRah48Fhg9wlhWccE8rOwiwncbZgEmxAdQPAzOwblMh07PGBrPsWax3GfPrPk50hjPSBTPRBzOTVV0guZYHX08WR5VH7M7JEXqHFqNv1LYM0257Rv0+4xS2UyhKhZozPHAeBdBSu2tBzzApE6BCAGhcuI9LYwuIucJyvov110vGun7yyD2RYnPSZ6vuvA4pyq0nPeuH2pSXqgvmv7gTPKuiW6uGvH7iFRuncBugupbwonPMSOvOFNuJujSPiS16BUXWuyuKvIvHAgUQT2hT2auXqlvuvZu6B5urv2voMuuVv1yaZvWnABunvvvqvkhMzqNOuQxwhuup3pRIjnVSv2vIiFv7TulDmtSAhPuIeWhhvVuihJv+wpEZvxIWuke8MhvvveuAgl5+HYQ0omUv5NvT3hHthQfSflvv0JQmf26f2s9uekeA5ofoFWfsez5OeKz92PSpQWeYvLPfPbv9CKeNzcejvPSo0BL5BVOoj7uz3MI2BgmHjivR2GEQgiuqg350hdfvGMpNR2OglggrfUWglA8SoWAcOqo7AJPWFuzovv0+zFfSc7A1fyBVOoKXqPftkMumvxJNtuvM7XwpEFPLYw+pPv0Fj9eqh3VoLZPxIk+bkY-tx7f2Ol6epNsGgMo4RsVoHQGI85e99IiP7q-keohB9S-DoUD6+lAW-y-DGkP3HO+E1m+y+USck+-sU99oMR-DGtGJ+vbxzrV2-dArCe+Wv5-lCNStHs6v4V--9F-AXIiS-B+K+t+UeF+ND4uG8P1P3jTnzf9sOdxfHrCtNO6tAL7mxb+9Cjn2y2IP1HA1PYQI9GBN4PUFQKoAbAscJefXGYBf39bgDjEL1CfrIgP5TgMos-G1pSBP4mEFe-vQsANwn5bcAwYzT-q0EYA-8YW--EDqv30K7dgBSoafsP0QE49aS+7KnihxPbA8tyZFbntQJpa2tdAXA9Dnex+4Cw8o0cf0lWntYRg6SfvbXvAzNKgClWZ-M8LdBJQsARWdheYEsFqB2I6A7XdQbxUlR0AquX7YxqTHKz+NdBmgtiAYMzqvNS2y6bQcqxS7LVMUyg1QepHMFaClB2QMHmBnKwC8OaRQdwZYLayv4r8vtElLDUCEmDdAgQmoIYKv7GD7BZgvKHoKCHWCIGtg1Mr4LfiOCloGUNwBHkDo-pkhFg5hMUP0FApM6fg-sDkLeYuC8M5WO4p6k8EqD8ASwDWADVIi5o98rQ+QGpDtCWBsgqDFwWrU6FxdOO8SHoeQD6HODBhMw85j3xYreYBh5zfxlSiNahCChEQsoV-GSgfZmhtdGoZMOmHNChhXgtTMsP1xKEN+-5PoHxD6gQEQG0nUACSFBA79JgUieAeJGn7IC9ClfJ4VYRWRUYcB9A8IhtC8R-D2ezw+QOgI1Iud+QUwjGI4Hkoa9aBF+XAdEOhEUCH+e0eEd1iRHq98i8IjEa8I0I98ZSwTfAAOh7gjF-G24SkaGmpGYc3OnCIkVCPVT+MZS5gI1k4Av7wijA-ja4eBBqz3C3grIl4TCMoEQNv2qqPkXYyWbc8XhkrXEYiORH5FoMfIqoVKGgyKjNREIZUbGFVE0sNRaPAyEOh1EminI+pV5nSKpGwsFBuaBNKPRkhzCDKtfbnoZRqFUpsRIgVTgsHkTaIeO1vVJrx2OC6AnWrIp1m8NgGy1G4QfNSolEtj6iMwho8MZiLY6rA26-gpSJGNP7GlVRzWOrsJDIb0iI8sLVYS-FeZRknRbCE4fmMSjei7AhASgmXwpA891URg-oQmiNHyBGhwiBTv0OUGtd2uZnOIdGP4gWIFOQ4y7rUHXzxDqe8wXmFoKMDBAqUBYOgPaJbGutSuvQNsZvCkRmdLYZbHsYCIFwX8zOy4u-iMXSBmcR6VgUAGUQAAS3NRwAAEFwA4AbmgACUyikAAAPJC1kA4kfgtbmWJxjAxqLeGm2O6wSi98TYtkJuKgkYxJW-YzcZWxDFAIkxlLfsTIBaDpj4aWjbCXwnAnkdIJe+R8c+LfEfjvxf4gCQRKsBe15g5INCUGMgmYSe+-Yl0ZuMcDbiSsmE8qHhNoDXg5hJHKXGX2ImzxEJtgGCT3zmHsg2hAmR+C8PhSLQgkvon0EWAzACS1gSkl3hwIRFSSsRVQ0Cap3EmsTehGMGCQRlHoCQhICtCeKEMtgAAGAQj1HiDHgistkkVmWHD6UAv4iqTySoBIAadxIGLOyUFOFCjEeAJ4vzKFNijhTGAWjTbG5KIFV8lAK-WKdKx8mzA3RqqEJndW54ZTfWbYXyUS3b6XCeolgGuClMfpOAMowUWyXuOm6eTMpxU2YHwRWIeSI8XklJjcl8mx9JgPUJQWyGPAyBfQAncElRigEsdkoTIRLv0A6nt9yBhU0VllO4RQgWBSrGaRwNVRDTHAI06QL6BIIntdRvdSwMNNGm44V2yURGM+2V5YDdp+030KFIbHPDRAjUWEE4HFZoDkeMDBvlGJV7xIHpF0-QsDyp5QCRuFKassyIhEN8n6bArmA3F9yiBMBQg-WDAKHJwCEBrfJARmF+EqMsRKM9gQyhp6Liv4DQPATi0pH5Q0e6QIGQdMUCoigo5MwQYaWEZ485YVGFDvyODImozpe0i6SQW4huM6ZvobAv537DpAqZmoQ7puW0JYE+Zj0g1vaMFF9B1ANIFPkf35JYjUuMYz4dIkQEz9fhK-AEZMGFjwDaqYzBcXTy17cxiAfRfEXGIZkGy6B2MoZBaP8AOkCZYxAcmDOWBTEOYBNPAG3GDkRgPhiArGV30NkiFPZJsiaVWnNnGoduRvEgPbMNHz93ZjM9oE7Ndkc9hGnPKwtdLBGfwYZ+MmObmMjhMDGI8wd6eEh6BrBPZxs-UjyiDkhy45fmG0QyLtEkJhBkpNuZhA34lyQSMEl9tbhTmHEHZGvVQAjxu7azAW5I7xiWMZH-sO5pYw3h6Fc5yAWR08yVnoW5FECs85WMYuFBVl8gKCDwFPlPLuozyC5UonkX7NUBVcBRniOwkKLVnnyI8WeGeZfO1mxUwAwctuHvMiJTyjAWqeUTKLaz+Mx5OEQ0eqKyEE11RbWE6ckCgUTz8iZbOBVmKKBltEF7s-4laIgYrzqRG4pwKFLvjo5hWP+QLHVnRzotbJ35DrLQEWBNjaQz0nvpbWemD5YpC+VhR2KcarpoMHCyVtC2kAjTagoqO6LB1eaW0BFDU3sZOk9qkhSFoUsMSy2VT6SyooAHMSYR1n8RFgkeTqQVBCmaAVC7fWqWsGekqIXqKChMSGyUgoKUxqipMUgoxlIlmFDyAoRmGenOKUgWitfsaWsWzghIIkCkbaLXn4C1hEDG2AfRZb1SupC+PRQGK8WoIqxVgZ0ScICWFiN4t4kSORMcCfjdwAAGW5qASRSL8FyVLisAmTQpooJxbPP8XNiae5ISSamn8YoTGlkqapc0qwn0ScJBi0UIPkImphbJ-SnvrkvyVFLwAdE4cKhLYidK2JgLWSfXTDr9gOJJwriTxK6XeLkg9+WyUJOaFPgqhqy5YQsUvY7KI8ey5YVi3tGe05l5kgyf9KwGyTJhCk5SKFNbhBIFFBi2JfjNqVWEjJlS+McMuaWWT7RDwWIF1P+a0thQTtO5RotnL7CZJzQuSfIBeVFByRS0ZKIspLBqDthyypSLzETboT6AUK35mougmGTUENQm5UCtTHqLLJUNeFRcOVkvQFA0S6FSSqi6MrlBjUmMVqEBriRJxTHDlUMm3BRL-mvvLAcTKtlVw+VXEUEWCsApsrfmHKiUQOOyApFNFggS-PFFFAksuV6q4hQxIpDJdZRHYnot2I3j3pCwF-I8VkuTpRohwweGjkSpn4IStJm8KnpuOS7uqte+4yLpbHWVXcdx7q3rlIiwbrgZ0WktVbrwuJHLBxHnHcFpIuXKCJV0Ne6K134lErk12QcvP2GWZErdANQ8NZVOHBRq5hDA1GSIMNKAYvSlHSwAYtdWNLvlPKw2rCstgwgmF5GCxabL+5GryQJq2FRDJSB+qai4kQNThB3GYTQ1L1YtTOlilzDTajkONYMITVnLRA2algKmoCCqB01q60KRutzUw8Cptkwtb5VnVaAG15a+9uLyNKvsfwswWZZ5ODymTuw7qhYSQtslTIWJtAbmbc246kL3VrzbjlpK-UQSf1WjYDUStA0kSf1BsR1fWqjXIC3VRKsUlImaCErv19AS2Lksolfifx-4yZZMBw3vi8NNEkpfmsw2nrW46Gl9fQDFJTRtwFQDjjWq44PqvlPCyYPBqySeSkNTa7tWOJEg0bql2Gp8XksKXFL+YYy8TeRuPUN8ahQm4ZfRobiMbygzGnerQC+rUA6pMIL6kRDGj6r5hHYzggdF02t4dNemneYYTmGvMdNWm8xTghM16bL8pmigFrEiRiqYlT2czUIGc0WaOe-ggzXcR3WNUYWwxDzdCqfwaa7NRfIDA4E011SuKLmimKqvLXvrWS-dOYHFpHjMIstQgBzrcwiWLM8hwoTYUUI0F2JH44W5VU9kS1EQctdAJLVrAoHRrNSovfSr5US12bsEpsWrXlvq2NbWtwSQLZumC0LF4W5UKreTWeFxbot5SydPEEeArQgIKWhFQsqRXPKm4j8dFVgDa3JBFhw0FlWyEhULaHQbESFVWy2WS9HRqSmsccqsLP1dt4UFJZR1u2DiC5ecnhC-H83JBAtsSUba6moBosdwk2nNCdoUAxaECTErBq-zAHGl8kt-cepPXCC51Ng9o2dty0mTLbmtqWzmEqXW3yTNt0obbdKApALB7oSgK3nrSoArQESOzJre-wRJ-4F+JlNHsB3ECZjMFFUXDtVHhE-SveOxHbR9oCDbh0dQ7IAo2wC7Pa0ld2jQi5ypTQ9ft20f7aLvnbdIwth2pVVNpV3Dt5eOAKRMyFdYCUNBlsAAJyvgeoRu3itGtJiADYt3FDQdGv-JuA74A8LXlT0hKWrwBPsxiHYECKOSteAQS3UqDuZ3NyoaAcPVuuog3r+wQemlkOArXbAg9ju1wIilklqYhkdgO8OVhllSCk9sklPbIV0AG7Mt9u3ii9JkCiLxFWcyuE6pW0XCyRVm5oX9vTWZoRFvFKvatgm0a7xVgENvWIrNQSKIdP5LdvcE11QRxm90RZMKCaAPBqaOikSFqEtiptagLrN1gKzxYZRgt39Z8Fcp7WQQEIjAGfWTS8biRtwDwNIkiy16x7twt4O8Iu00Ust7AE+kSN2RsqJ0Iwse5luyq1BeRK1ZCSQb90ghRrKO1HIsA+rsQ-6te-6p9cQJA2QbMNDOP5gnrAiMQD9R++qCfuWwMitAd6dGeYGv237moWkrCOAbamEHbw7UP-SYAANUHwBBB8gw-uhURRMlDAcgxQcEF56ThmKpFaistFdloqFxL-cqpNGU6r0L-JQFqAlGFr2dBAXyoYGVbLRWVkKyQw6OxTVjrdXohDNWpAljltEdAY8Iik333QW1C+pfaorTaXg19HrDfc-u3276BNFAixJNuJbMNrtL2jQy-ArUQkX4q5WuLSKPCxjVOCaNkZIEsbCN0gQhpUKIef4rQVDmtUfE1qZ2yHW48hw1cZu81FxFWfpImcYJGisNRJvsDI3GU2h74jpo0ThQ5qKMicSjPffgfkcnSXwMtvWzI3kZs4+HWjWjGrblooBZHSjy6Do+ML2g-YS9jW3o7UdXQDGWN8SMHZKkhWtG2F-Rko4KkXZj67m6YxQJgoAA6WAADdivUggH8AwefRvLqMoTVuIBkUPTuDQMUFYOr4FY5CrWO8cNjWY7Y7sZrlmoqOhxs5jz1VSEBFkQyKLpET+OgAAAXoc3MDbHkg9dD4+yCONJGouYJ84zZEuPbhrjmod1Jz26i6H6ABhzcGsb2NsQDjcJyKls2wqhGw8wxUgMMVhaoQ7mZ8PAPcZiX4n3jRJ74ySalbDEGglJ6k1ixRPtQgAA')">function is_empty_conjunction(exps) {
    return is_null(exps);
}
function first_conjunct(exps) {
    return head(exps);
}
function rest_conjuncts(exps) {
    return tail(exps);
}
function is_empty_disjunction(exps) {
    return is_null(exps);
}
function first_disjunct(exps) {
    return head(exps);
}
function rest_disjuncts(exps) {
    return tail(exps);
}
function negated_query(exps) {
    return head(exps);
}
</pre></div></div></td></tr></table>
      <span class='comment'>
	We use 
	<kbd>argmnts</kbd>
	because 
	<kbd>args</kbd> is already
	taken, see section 4.1.2, and 
	<kbd>arguments</kbd> is reserved
	in JavaScript.
      </span>
    </p></div>

    <div class='permalink'>
<a name='p52' class='permalink'></a><p>
      The following three
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      define the syntax of rules:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rule? statement)
  (tagged-list? statement 'rule))

(define (conclusion rule) (cadr rule))

(define (rule-body rule)
  (if (null? (cddr rule))
      '(always-true)
      (caddr rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+7gYBIQw+DMGwUBwIgyDoHwPD+wt8jzDRG0bno9rELMkvI1IkyKI1R8GBsaQAPy6XI18zPvix9vfQQAFzAlKpLqiKF-QIT8g7UANIQTQ6EGzUQ-kKDCYoJT-z7CfM+wDzC-z3PIA8METy330OgswT8969QongwBx9QC6DQcNTBiZXSlmtPgwhoBiH70kCOVMt9UEENocCd6N8KF32Gmw3qAjGx7CAtQ3hP46EyGJCpESBUNKfxEXqQ0nwkKqA8iCGCRlFAmXwU8Fhw00g6LTigqhp8ZGNDkVTY2qifyiJmPY+G9xmbGyVuzSx0iWFyOTqHZhaiSEzACWmHhfjgRpSii7AsQibGlGcSDRcXiuFCIiXwwuxdS6UVnEEpxoB67SB8iEwgG0kLDwkj46xxjTGlB2rZd+05VCD0qeMQx8SeEJLSL-RQzAITcOAgAVWIAaYg1AADudghR6CUA6UAABaBZVD34ZWxjjQp2SfLCBeIPM2GZKD4FAKoEIzpKAsHqn9SQWjhD9mYpnTZJcDZnIub9TR1VVA7MKYwKIstzCDCodIC64gjknKkGSVo1yPm3LJuYc65BNh0Ctgi1EKyFjlLbhY25tS6m4sCI6BQxB6TUPBLQGKJi8U-gqQZDkxlPkkH0DiylzLvm-KZSyvFFSSXMBrHcGF3I0gyRCBFJpqgXTIu6Y0J+IrxySEfISu44rpDCLqb-Vo7ROgtAGP8wFwKMzmD6dQCEXyWQjLGZM1u9t9aaHkIs5ZRTBRaX+bxHSDSJRNJMpOOgPD7mVwsi0n5oBUQAD40UHwUAG8MViz4Rk0LbHeuoQlytoHVKaEjag+v1UKqQ4RCDvBKasiN4iQSWDWofTp0b+wmOcWUotKbuofWTfQDxcSmxFAyXw0p5aiUNt6l9RQP1KB-WqWfbcOkk2uJNt6yt9zDnHJCJlTQ+tDZExtnc-VC5qTqo6AkLVGwAXyCBbaudYL5FOxiTFX2sLGgyS7RGoW562apl9k8aR2qdWHr1eg+FBBwTnseLA21qKKV3qWA+xWztL0S1fdY99aQT3CrbIBz5f6IPOUA+uilMlwORQA00uDQQD1Ht9aUW97DJ2qApa2R9YtTZrpg6O9BwxAjDCqvbN1kgSDVi6Kof++yPSsX9ZIINoaWQACouMMN3WJ4MoA+P53tnQdaxAxR5qgtgt8uT6Bzn1QhqQFH8HXrhbQMIAo6ZBqZkbeGqS9AdLbV4Ajm6PZSEXcuijvsqNELk17TzoBf7110MiZTqnFZkPaSh4WaGn2u1Nv2dlHKzBKbyCF9TODULad87ivGnwKMKxs3Rq9PEWO6ttRuh5WC0taccWogCYW0LwIbH2SVPTvOVAI6xhN-Ik1hMGdI+5P604WYCanag3k+wEZ-UHdaQKLNJZU9QNTdXtNpwFcZp8oBJP+l3QwVFHHNvJh41NlQfyHmgdUGnCMhLiWn1Jby7RwdjvxYS89jb7IpNdGnZll7jRpEKd3uw6J0XW2SMzQJ6k2XknbGQ75s7+UxIqKMZWv7ib2GcKYekmd+qf1NIs2dtHismltLyRWt9GxqzQNFKK-HFP03NheE0nhBGZL4ZdYzJNS3wmY7J1JmnyGls05Qegs7-PCfKKqYj6RT2zCk8OHgBeTBWDsDXlwTeaAwadZ1rm-NqgHSwuzSN7IuR8i69ANW0A8z0SotzbakxvTGD9J17HLIOQ8hUKdNghQLQXiWHhkOro391k6Qh1oml+jhYvAu1zpzExkoTQ8JCpCwZMuh6sAYiPo3BSM7lgHcF8eiVQoFp8vXF8-zV0+Q+PP9JE8twIG3FPdL8DF9Yo9UG+AXiHX7rqCpWKm-bWBk9NvoAXqd-5Fym7PKYqN-uTJFv+1B8QzHYzCHMqaIAL0EUafD1Y8r8WLJ+VRQR86x30sJpvfnOl-kslBnwFj+J3lkhwn+-rSn83xPHu+FT-I662QIOZpoh0XHzJVTD6yzUvF7Blw2RwyXg5FUBALB0VHYggPHR-2oAulTm2UMnkEzXWGj1AFBHBE+UwKz2GB-XeAnD1gNm5SAL0AswqGkAGA2WD0wKsgwmnQ9TPzsHwIhAa2yDYPHHjR0mgJJBpxMiEPkF+BwIeQ7DEJrzEMA1EMwIkK5lwN7BkMX3tgJUCwANmFu0vWsiBXp0e1AGcBNAnGsVf22l0CiHeBYIbDNkt10isJsP3lJjNy4NUCYJgJ4IMNABcMZWMNMO0Oa0CF-hyGiBsO8LNgAB5HDwi3hVA-CqNiF7cjVVAWQAAVLIdRYgQUVlJwFWAUSBBuf3YCUAAAalNxe1DEiCiEOXTn0LNgqNkxZHKMqOe2qOiDqISOOyrVxTtwdwyKyPwHkAmTyPZkKOyUoBKJaIqK+0CA6NqPwHqNYMMCaNZFaLmPMAWK6L8K-3ciyAgSgW8OQ28NB0CGQNmBkCyEsjgMaB0jm1sN4MMKBSM0FRLzoMeJeM2OIVPiuOoEsk2PxRQL-yHioLu1+02N-m8KDQxA7EiOCNxSfg7ESJeyhOUxzk+NJheF7F2Mc2dUaBPWoRhKtyxFc0oMAN5VeKCENW4P0NZBGUyFaDkw5CdVKCIy-TqR-TEIsygOYNJzqRkgeLkMiMII5EZUBPOMwPkNFJJCKzZP3XgLsGoT+JuNg1Z3tnJ2ONFVON8JUDOPMAuJVNgPMLKzMHuPRMiOeP4wFPeK9kxIRMSWjSNMBLhl-xqO0N0OAOsQdJa2hIcLhIaJ9MdIukVmRKMP3iDN9PRK4kDOxI-x6NWzSABXQUJNPmJMxHIKXXJJ0Inw31NOpJSNpIwnpOIEZKJWZJJDtUKSkyykTMIxKxIzSC5MwJ5NQ2uT5LVJtNYiFKlJFJkKlxZTkI9RlPELrJYwVNwOVLAVVMY1l3nmqkXmXiV04A3l4AwA12zBeUuXeUL1uXdgjkSkv0ZBNS3LeTv3tlPL90kHORLliSqz3PHmpAChhW3B-UvKuXl122SmAQAhZCVFk3MCVFxXFPqVjy7AArMC7GAql1-K4IgrwLBEYGgp-Nj3zHgvzGQtAp9E9kqFkxwukGGhArMVjzqjoBLiUEdReFIvItyJ-CIqCF-JpIgppLqXosCF-P1HeA4WcDoGDE4reG4oYEaDYvMF-LKPgvMEd1AEFEMBDXN1aNopErMF-IWQkrMCkpkpE3kuWUUpgtjxkxeDSA0tktDXmTE2krMCUufh9GADUuOQdBeE0rkvmTAF0pQp9AAFI7LjKtL5kPKLLQArLfzLcJKfLnL0yZK9KfQABCdEUKhy6Sky+S2K1FSK9yu4FkKI7yhKpy0y0AGIswNKrCjKqI1ENSsKvK0qwqoK2PYNbKxypK+ZUNaqqKjK4NMqwywICq+S9qlq9KtI6Kuy+SwIOSswaK8wXXYBbkN8iIV5K8ipSIoNdBf1JUF4d8nc+MWWGa85bcgveMMUZwAAKw9x22WqLnpTsDktgtmu3Nk2fIZTiwpXWr2oJFliwG2rmquXhTyFNgswAl-O3U1Vk0Bt3Ssu+3Ytj0gGIB3TkEorMChphv1jBvBuUtj34skFgEgAgvRsxuRpRo4tggEoAFF4L0aia8bwbfyAA5JQKmuymmqmyMhLaakzBFZ6762sRa1EM6yyI5OS6Q-w9m1mn6ra1mvAm6t5JtdKWsD1Jaxof1Pm0NZ8uLcWnayWjm2LBgnSB1EtNW+a6FEgXZH5fMDgx5Ypa8lTdVRgYpd0w6pQeYJTCIJdSjZlZ6m8nIQMe8hlAcxoQeE2voIIdUhaEMyBD03M60U2zQ-PME8lSlALIlVQZ6hahol4CU1Wz6z4DWkQimwIeO7oJOtuagI6k61O77IWp8H6+QnO8wMg3WLMsO6ggwbcHIBFWuqIIOEwmYGOxIWbLYKBbuiOhguXBchXFeDgdebgTADcxaWgcIJQCgSQWGMIKifURgUOUCSgcCHIU2z2FwNwAKDere0c4IpEyeIiHEo8TeiCY+1olkSQGYszMMLog+y+o+gcdBX+F+sCa+v2HSaofUAmGlT3G0Go60h5ee0gJwK2Dae4XZUgUgJKhgColpeB9MlkFop+dBvzYCdYioiB6un8dB2mMMAQxmEgAyC6EBu0VladVpcho8C6X4AASEVMfpqNvrSNaP-pEguiAZ439ToeIAoawJobuSaP0BZEPzsHoeFk+CmBYEjR3stmtkHhPuAjoJZA-odmSlUdADhBYVPQ+N7FUeKB8DYnfyIhMdABSuAgfi5HQSfgInYl0YcJZDsbN3lWUAXqXoJEkFXtDlUdt3nUTEmKblnF0f0dxSJGlC5XhyqRMZ9Mwc4YqJkbQPkacezj2UUbEbaNMRaIfuONsmQVifUniZ+Ryao3ydaNSbkcUAUYCiyYSdWMqYkaCZqbSLQqNqjRqa+Dqd6NKDkXcMCalVe2EbSLgpeAAg7FUbjMsfKf8J6fkeCLsXCBqMUYceAgAHIH7B5b7tmtHtiljFGpHRmGHPhYZGAfILnNLQD4plG1ASQ96IQOxrmCG6lfy8gWhmijVmjxkgxixTRFB-mb8rZOR36Rn2mXnFhLn-DexXmXhFm+mtHIX2J4XXh8I0WenXn1CFo7aHbSAnaCdZVnRg5xJYCnQlGOFQmqtJw1GPnqW4IXgSn+p8haWfa0h-U8WTQCXKAl1AMS1SXTQunPUKX+mWtomlhaWNnfy7GQx9DEE7JpRaXlm3dNAcXdRrm6xZkHQBX4ZTRyXNBYU9MqWG4wnWXRWSMuS24-TcmghCmkEYDmWO5zXDWxyZ71sSW9WLp6Q9kLN-VNWZlzgdXPXxJhWDW5TcDk6MI0G4KNn3COwQ3AWfWfksTzGVwiJE3vWOEU3wWBna8BYac0G0K43mAvXrg9ktGo2Gw0GuXHbeWiXV9NGRn3Cq3sh2WghOX7buXCX+XM2w3lWVWW3rW6TxbBWs29k6z2Tj1QUJXw2jMZ9Y9ZWBR5WimYDlX2sGyytb0nR2sg7dRrVJWKWLDz93CpWRmOwz282aSDWSzzUplVWWXXhBQbVzyFon86NaXj3NzELw2NnwCKWtHr3Jxb3xl72xc3pZ6VZA9GY-QgWqJyBqBU5jQWg2huhP3bnqQD3w20HYPGAgwTmkQfXAW8OqILF0PWGOx32RXXXtw8B-jr5fHzhr61q81ClyyrhyA55R7Fo3gi4phQAwZjkLoFowY1c1cCENk-Rg5VAjRM9NgNBGAWgwGcI7nJQ7SfcjUlPEnXs2gd0uggnCZGpZOHJ2IOwNPFPSYxW1EzPsFNPXC+jqy6BpPjP0WiJzOtO9jcYNFsRr7VBYVJsHsZgmOcg-r9Lgv5AZM6zXUDjIEZP5ADYeAXhZPJAXpGz3XTMkVnBwuLMpPSA4uEvZm1Ajsgu363WzBjWQaeNMvwvMMuyt0iUNVd08SzAp20vAgf13OcvTRnP4uUvCv7hCAsvSvmugh9dKvuh3Omaggn5xvITXO1BJuRvmN8SDSC5m08P8vJBEvQBkv+BnjFgqSf1quj6uunO8vkvtvexiufPt6yuQVgnOMGu9PkRBuauqT5irBsQiJrvwv23hp3CAILu1qf3dv9vRy-u8UrvAubvj6lvN2KUOvbPFPTueuDY9v5uBuhuf67v0gZ3mgnvNUxUkeWhauggmHGgQyvvMJXuj7jFyey6f33DQfdTV83nKUuIafsfuR6eWv4fmVKfex3OweceVukyJzVv7ZqLYJSB4iWAqTzIi2YvNAm28VQElffNf42BXHIgLo8OVfKUn4degWvt+jUiWAQOLVQB6P0sqzwvWSWvWGpfyAZfXyxbretMYe-XvPwu-OBgf0OOLN3fGOj6OmletI3zWPUUg-4OQ+WQje9fuRGDvPnBIg6pohujv6chhev2EKCDD7mOWeDuTmU+e1-98+chztU+ajTaOwS+0+fhi+q+y-xxK-S+fgc-ew6-q-G+2+Lb2yYDy+RGZCc-cuM+r6s+mAxSTmo7uhB+wemXFCc-3CIcu-0+5-C-xCF+p+93+IpBQJsOMPz9I4jy7hgPbHoOA4K69BN6I0z+xCEXSyFt89QJJBeOiUchGBYU-7-iSkj38zjX9+yrNrmtlMyr8ogQ2JvkPEiD98lWToLfrKRG64EQg43VvvXym4gJXsZZekC-zf4tAP+N7SfrKTm4aBNAPkMAchjAERt6yn6adg91PYWt8yuBdwiQJ8gXtRWLwFgRiQHZw8aBwAlTtSEnBLdxe-AoEJwNpbqt+QoYXICwBNZaE2gh4QUFV227yCKK1wOgKl0P7ZgPidAQ6BsxUGKD6Q6gvzlo3jbSxDoEPdSog3CDSDZB+efQVV2sHEgqe9wcwWnRez2DDBL0GvJECmAu4rkHglwVRUPSqDPBlLbQboJGYeDQg-AYwbYlz7PMzBbzPzlpR8GKA-BnwAIVEKMFs8fwyQuSlIKcFcRDos8e4o4JkH4BDwUIc6l8mU6VwKhsEQlJFEsDEgbQNghWobQFC-1GY9Q8gI0IKEKN+hYQu0oMI2Z0EtGqQ62rkH8HBCDBLtUxHCTKE508hoaHoX0LKGtDCh08ZoXLxKFs4HQV2a8hKHOi3BUw6-YSEBGH5Y4xaYAiAb32gFiEx+tPQgeISZwl4UBlAs3DP0eEF9zh8A8QkE1BC9CB0fjaXvEXIGipKBVFWCH8M84IUgRtgEEc73iKAioRFwxfpoOeFoN8Aq4LoC0Q2YshsRqoXEYB2uiNQURoAc4YYA2bckzA4wvfkeETqwQqRIzGfocKlonDrQ5I34c8JVanJGeTIvRvCD5EEFKRcbBocCM4oy8MSgInIaUF7CUiLB-3cUQiMlHxEE2TIxUeDQ7AKi3BlKGQiqwJE4ivmEgsQCCRbr1Z1hJuDEe4QSrLDWs0gWETL2wQGgOEKmXDieHdHjAXgmrckZq0uEbAf0qokGEimVQWZAR30REVKJ9HQjHOcHWgKXRRp4o-RihV4YJlBHBjkUWIo0fr2m72iDmNRc0Spn6EeF0xSqJujvzECEA0CqfR0IyPTCsNoYqzdPuqL7gVi7AHHJodIPy7bdZOGggMWLR2ygAOO3YpLvF2HwNj8eunQnmbCfh0FsGdAE0YSAa46tku4oOsf5zFqycLMLYusvrn36ydDAmDOxtg1k7N0rAoAdIgAAkiakgAAILgBwARNAAErpFIAAAeSprIBUUdBLWt0KsAy8OExHV6nWO+gwic+VYz4DWIdAgSB0ajDsVBPLZATws4Y2CVow7EqBPoSEkzCc3QmVBAJuvYCabSvE3j7xj4l8e+M-E4TPuCEojgROQnKjiAptDscWKgmSBVx+0FCbYH8K+gsJxABZP0Iv4LQd0tEuMdpk4nEAwJGI-odckqH+pPM5wpwCJi+xOiU4yWT0bOAUnm84RoEnkRYOGJIj8JokkyOJJhEhQW6FgUFsmhID8dUUAABl-H2wEgEyXaJZKKSNwPelAboHrkskaBrJigCzIwB8lP9+OFRHgKmOpCBTIIvk9fIwBOYQ4nJY4TPiflfoF9IpxoBllRE8mm13CbjWTO4TSkmsckvjTyf10H4DhFxmwf+IlPH7TgLaYqUFhuPWwFS3JZra8i0FoIjEXJkEFqR5K8kEYdI1gz4BMhUChxyON6EvIAKPYUon48UzqYPwIHNSMpaELKRSkGY-tL2aidwoNMkDDTpAocNga601E11LAQ0kaVwNFZBlekO7YQZXG2m7TQ4aU2EW0BtREopAs4M-uv39HnFGYd0s6eITS4ACGRo5Pgfd1gKki1A6-YGYwNIxgFAp8gRAR+mIzQymy1w24fXz74PCh+KYzLGNwJ67pzs6Ax0tiKPRuDf4v0vaagPdIQiqBjQYYEw1a7IzK4woiEP9MyxPxyZ+0xAncj8CvATpO0s6eASs6qoCAx2eGUxhukyQOZ4bCqayMOQghUCZoXzuv33iST+x62G4ainIH3DmCn07Gbj2OQ3CbG43eXpeBIB1FIxYIyARQMgH+FdRgQFWTyIDr7oGygMiEBGSULPY8AYmb2d+muGQC0Z7pbWQPz1KOz0EMkQ2RiFm51IZuxAc2aqO+FZ87ZxhK2RCJtl08mG9PGQqtLdxXYE5IjB2WoWdm8CT0z0wLG9PyAOzdZYpCQl7J9njTWIhookcaKLlIyw5l4L4crJDmFzxybGBaGbKWIWzE623TQOjy+kPJuSrjQkTkC+b4ip5xIuIYZzUCaBh5L0akZgTpGJSh5zIx0rLIlDaBXQvnZeWtVHmKEN5+-EedvMfg5ytCcs-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-9I3KvesMOU9LdlB2jkEpOexYt-luounT9Rv5LBLorO45DzoIBJUz4bPMfVcxDAFjDFyursXQRIi7ssdgsNsnkDoATI3AR+vNEGtIXb7blgbS3Zm0ZGyMF9x+poqfqoHNkOQg4gwysqMPRBCxLu8w5hothqdrYYhezo6TZDUB1ESI9hucKUCaMmGaqMA7I3n0qHr+G0DQ2mxHKpt2dOhrSnoZw2jLIMeZCcRfnag1HKEFS0Fq+2Oi0BhFEahqbposYLcGpNeLRRnkDWWajGU8Nzn0bpax5J9Q+r4HDPsZxCAogvcY9uDn3LLNm7o1QHzoAA6WAfBXnS+CId8ARqBRn9ukoNU7klKBPcBGIOoEwWAwFY-8rWNASNjiC7Y7seOX55EDhxxgAo3cKEB6c-hOTr8ZeAAAvFWqAG2PoH3j9IT40cbKNydQT5xllJcZAgr6bjWkeniMBsP0B7DEINY1Cf2PXJYTOVSZpMeaLOBmipAZol837CbNuQeAe441rxMvToTBxok45RJM+gMjscCk1SdaXInywQAA')">function is_rule(statement) {
    return is_tagged_list(statement, "rule");
}
function conclusion(rule) {
    return head(tail(rule));
}
function rule_body(rule) {
    return is_null(tail(tail(rule)))
        ? list("always_true")
        : head(tail(tail(rule)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	<div class='permalink'>
<a name='p53' class='permalink'></a><p>
	  
	  
	  <kbd>Query-driver-loop</kbd>
	  (section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query-syntax-process</kbd>
	  to transform pattern variables in the expression, which
	  have the form <kbd>?symbol</kbd>,
	  into the internal format <kbd>(? symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>(job ?x ?y)</kbd> is actually represented
	  internally by the system as
	  <kbd>(job (? x) (? y))</kbd>. This increases the
	  efficiency of query processing, since it means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>car</kbd> of the expression is the
	  symbol <kbd>?</kbd>, rather than having to extract
	  characters from the symbol. The syntax transformation is accomplished
	  by the following procedure:<a class='superscript' id='footnote-link-2' href='#footnote-2'style="color:green">[2]</a>
          
	  <div class='snippet' id='javascript_95_38_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (query-syntax-process exp)
  (map-over-symbols expand-question-mark exp))

(define (map-over-symbols proc exp)
  (cond ((pair? exp)
         (cons (map-over-symbols proc (car exp))
               (map-over-symbols proc (cdr exp))))
        ((symbol? exp) (proc exp))
        (else exp)))

(define (expand-question-mark symbol)
  (let ((chars (symbol->string symbol)))
    (if (string=? (substring chars 0 1) "?")
        (list '?
              (string->symbol
               (substring chars 1 (string-length chars))))
        symbol)))</pre></div></div>
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<div class='permalink'>
<a name='p54' class='permalink'></a><p>
	  
	  
	  The function <kbd>query_driver_loop</kbd>
	  (section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query_syntax_process</kbd>
	  to transform the syntax of the query to a tagged list
	  representation, where the tags represent the kinds
	  of queries described in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  Along the way, pattern variables in the expression, which
	  are identified using  <kbd>is_name</kbd>,
	  are converted into the internal format
	  <kbd>list("?", symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>job(x, y)</kbd> is actually represented
	  internally by the system as
	  <kbd>list("job", list("?", x), list("?", y)))</kbd>.
	  This means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>head</kbd> of the expression is the
	  string <kbd>"?"</kbd>.
	  The syntax transformation is accomplished
	  by the following function:
	  <div class='snippet' id='javascript_95_39_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+zjoAAFZKPMdCkBEmiK-MNGfM6wfiaok5k5XhfF6XlGzgfGyBAA-LpyW+ifjdn5pLxIcPEn706+hPJfw0Waoi-L1XpQde1FaI73hqaF4g8TIH37D-MwAAuYEUolgX0aDfACLIr7BgFNZGYtkUEf00HAxoSDJzbjwEhBg+BmBsCgHARAyB0B8B4P7Ba8hN6EA2huPQ9piCzElsjKQkxFCNR4QYeB5gMFyFETMThpJ1RFEkYg5BHI+zKNABgrIBpCCaHQg2UB-08FiglIQ8RX9QC6AERopBe55AHhgiecxGib4cN6hRJxijeGWP4foGxwIRypmccNVxm9JCBOtOIvh1jhq2KkO9MRXiJEhMsWEhJjY9hASsX42JDtiQqREgVDS6iUl40+EhVQHkQQwSMooEy5jv7DSaUEKpac+zRJyT+OJhsiYlJ-KE6azNjb3CGfDJW7N2k+JiV04EydQ7BP6ak3qcy0wdP8SENKUUXYFiSZ09BSyZibLZkEpJazcnHwbk3WcCz9n12kD5NxNENqvyKe-BpUyv4aMaDtWy8iTKDzfuMepuyOl7NKGQxgzAIRROAgAVWIAaYg1AADudghR6CUA6UAABabFByuEKGxnPO5PlhBQMYFEM2GZKD4FAKoEIzpKAsHqn9SQFThD9mYpnUAJKQQRGZb9cp1VVBkp5RS2W5hBiWOkBdcQtL6XxI8K0NlwqOWHzMOdcgmw6BWy1aifFzy25tI5Y05pZrAiOgUMQekVjwS0Bil881P5X4GQ5MZEVJBPlOu9eYaBpqfVOpefwu1NY7hqu5GkGSGy2yGNUC6XVYLFkRXkZIR8Vq7jxukMk5pSDWjtE6C0AYkrpWyozOYRQUKPXEFZPCxFKLW7231poeQOK8Ukq0pK3iOkfkSj+UQugHSuWVz-oPUAqIAB8BqFCqEHh0iMmhbZsN1I81NtA6pTQybUQdZao1SHCIQd4DzOHcLXd1D6fKuiP2ne87Jia0gDKede09G7V30CGTspsRQzm5MeQShR1qz29S+ooH6lA-qTOyduHSK6qbDJltujYNK6UhEyuvA2sH4Y205WWhc1I80dASIWjYUr5AypbUhhVMgTSK2djFX26rSgyV-c88ETstl0Ylk8SDxGS0tpw+YTVBBWM0ecoYsdoBHXMenULNjxzXamy-txxoFHo2LljTJkTjxDHYcdTJDTkUtPyKLaUEjZGh2McvDB0ZSxHWtlk2LU2WGuO+OM2kYYgRhhVXtj2yQJBqxdFUCgqlHpWJ-0kGOydLIABUfnXQWi6FFnBQX872xXnkMUB6oL2LfE-YFn7ZSIfldDazfYGMatoGEAUdNxMYc+LRlWfZXNBF3brNDPTqZYds2YG+FRpBddAEg+uuhkTrWIBlxWHigUiuE+M1M9H-UBvMGlsb1BMuTYq6ofrZqynteGQrWbehR4KYHE10zpbJEtfW-kG5iyAJXf0dkUrjqkG9dO12xmK6VkwuyVywTadxNzNTtQbyjWNiCaDutGVNXRvjayw41C9BVBpwjQJirWrYv+kIwwfVPmMfJgCxDlQEruVSaWGnCMVqbXBuYKGypwcicLcW0zsweP4stAHRJ5nXOzC3qgx9sJRyHOrI+Vy8yhpPjJvHJtp1pO40xteYxG9viUvsLCREj9mSEOBEE-I8Tsv1eGMBdckFHymvVge3IqXBuhQYUmfIjpTWZJGfe-bFdV3hc-bLebm3Bj5GqHuz7x7DTJGy-uymhXxv8sGDnSHlzvFKHVWobQ9gDCuDMLQGDJd-E92MAPW8HyDpD4tcyNkXI+RC+c5SVi9E+r90tq+RCytDpY5ZByHkSxTp7EKBaC8Sw8MwNdAQUSnSO2KmutqcLF45ORc7oenfMkyqkLBi2+PqwdSp-A8FA7uWAdFU1EX6qovQi-zVxFQ+JV1qVUC0TozF1NS1-CxFUf1ij1Qb4BeIdfuupX7Guf9tYGT07+oAL0X+-IQaswIaMU+Af+FMisgBLwEMfO9sO2kuW87gegRQouc+PoqBiwOCaaRQoBOsuBSw8iMBEciU8kyU9uwEJBN+9sJBr66aqgZBWBE8Pc+EZBKuy6ZAQcZo0QdE1O9qqYnuIW1IvY3GdsC0+mNCaiohuGio7Ekhc8cMfBnwzgpKhk8g266wChdgoI4IIqWh2+wwgm7wE4esBstqNOgY4mr2WeYgo+WhVkGEHOfy5BoABhEIgeMqLw7hRBgsWhFuJkshJIvwuh3KHYoR8gLcTAHIhiIRWh4RXMehrw+E0R3B-Ilqw2ghEBNhc2eCbhDOoAzgJoE4vibB20ugUQ7wLhDYZsNeuk1RtRm8pMXyN8XhqgThaiPhRRMqFipRF0uRd6QQSCOQ0QtRvRhgAAPE0RMW8CwUTiMfepYpCtQBCCyAACpZB6h5CChipRBOAqwCi6INyD7ASgAADUlei2oYkQUQNK6chRhg1xOCLIVxNxAadx0Qjxix-RyxoxqxlaWxOx+A8gyKBxRxh2JxD85x7x1xW2QQ3xDx+ATxrhLxwErIHxiJgQyJvxrRs83a2iuiFusaPhWu5g0G-CMgWQlk8hpQOky2dR2QfRwWzSLWvWzJ-ROJmiUyNJ1AlkPJFqvB1A-BQ81hwh1ot6PJSCPhY6GIHYUxQpvJHYBJypspo2OcXJpMLwvYBJKObmkiFGVi8pteWIqG+suRkBmB-GaQFa6xXJNaxAmQrQoAKCHaJmvG5maQgm0R4mMhzhSmTSMkTJ0RwRRhHIXq3OYZfaGRBpQQ7mnaqRVi-JdJceXmA8cWY2PhZJeCfhKgFJZgVJswqZ+8FRtpBAjMTJvR+Z-R3pzWx+nJSp3qri1JQcAp0ui2qhop9xVp+RUpyuW2speCppbE2czZPqN8F0isqpxRm8AJMyTJXEzxupnBSx8ZHmnx6Q8qJpjR5hrWlpEpoaZWQQ9p3heZcKzpq21qbpHIraPKWZWUG5xapG52zSvpWh-pM20RZZAiTWjQIZmpYZvREZYRjOi2MZ44iRkZz5ZgiZcFYhQIKZ7ZaZf58eYAVCTArAKenATCvAGADh2YjKAqA+V+8YVagi8Ue6lB7UoqLIxFLKnIsRDFgqkgTKJc2yT8FF7sWcK4REaq24gmLFpFmFOOyU8CmCSoOC5gSoZqUZLSd8XY0lZgXYcl4Ft8PoXhylnhYIjAalEld8+Y2l+Y+lpQmCnslQOCFl0gw08lgQmCdUdAJcSggoOCjlzl+xP4dl5gmCZ5ylZ5zS3lZgmC+o7w4SzgdAwYoVbw4VDAjQQVGldwLIlx2l5gqgzeoAgohgE6oAWK1xnlCVmC2KqVZg6VLwWVEWuVOKmVZghVd8iWLwaQZVmV2Vk6WKUWNVoAdVPowAJVdKGVFVOVWKYABV6lmCAApH1c1YNW1aAONZ1d1UlTXqldNa1VVY0VlWNXfAAITogrUDVrVYq7X6qbUGU+jTFTUHWVVYqzFmCnVmV3zTGoglWrXXWgBPV3WLWqAsjjqXXlWHWgCTqfVbU+jjrPWNWBCvVDWA36otUg1JXbV9VVWBA5VmDbXmCF7wLchCX8qMVkUEjBFjqSJ-xKgvDCWspULY1o6eG42sWvzUDODzxd7Y7E1FxVqVWYLk00xjl8VqDhrqVBBc341ArchYA41Mp42ap5CmziYASYL4YFo4IK2EYJXc4+V3yQDEAEZyCuWNWa3a36yq1q2JXfXRWSCwCQDKVm0W1G1q0hWwQxUACi2lZtjttt3OmCAAckoJ7X1d7Z7QuVzlTU+DTRLaxVLbWL0UTY0H-LSjlVERYkLRHQpgMOLSRaysnQkdHaULHZVQFNAYnbTaRcnbLMSifAbELeyiQOSlEPmB4bypEL5taooPcr2QAiaEAuvJ2eakLexTkIGFxSaltoPHXX0EEC7gtNOSSUeTFB4dkZfjPamP1kNtaqoJXW3DWVuT6knWjtLcEe7YECvd0OvQLGKIzczS8MqaHenZ8Jne4QLaUPuRaVYUIceduDkFqvubXQzb1IvXoDVlsHon-XcKLQngLEnthfQrhdwJgIRYtLQOEEoBQJILDGEFRPqIwKHKBJQOBDkB4Z7C4G4AFNg7gzESQqUDfAFHqUeDgxBGQxiSyJIPCVVmGL8cQzQ6QwOJIkguw2BHQ37DpNUPqATK6t3jaPcWydykg6QE4FbBtPcFAqQKQGtQwNcTOko6OSyO8TfFowNpiRcdcdIwfcNFo7TGGIujpCQAZBdOI3aAcRzgClY0eBdL8AAJCIVorhD3EfEsjfUfFCMiQXSiMBYjoUpN3WPaH2OcqvH6AsgBGgBOPCyfBTAsAzoUr4OWzWyDzLE6O9YsjcMOzJTZOgBwgaKUacm9jZPFA+A81alVOgDHXATYI5N0odjFONFYL5NNI3xprKDIOoME0YOhzZMN7IaJgPxXL5DFOlNmpEjSgvJiTFJVOB06N+PXGJNDEpMETsTQJpM-DRNb2lDvHMM5kEJqILPqTvz1MIlmrHMfEbPJOKCpMBS7PLMvG2ZchdO5IPPfVGU10vAPNfBPPkNpDdKdEjP7I-P0W6U4IARtPpOrlERVMAvEARNAuMAsDLHdLIl7MtMsgADkzDo6rxhLBTeJqJuL8TgLsMjAPkNLFVs+VFkoXsXRmUrgEIHY9LxjZqmCeQLQbx6xbxSKQYxYpoigIrtBVsTFILQQN8PznLiwtLFivYXLKLaLKTWLCTqLzjSwCrigm1aRREqrWraLXLSBC0TaqCn8lRHsUgnRaCFDtTDroLQJDpk4TpdaqKHelz-Ilr9BC0BBh2RCGT1Shhzrsrhrag4bgQjebrToHrSKXrEeOwCDKsw+jMfo4rVE5A1AqcxoLQbQ3QB8NrdglrwbmjmbjAQY8TSI9IlbBNbSxbjL1IHYgbjmsCFCYAApoiBN5wdDZNB6PKN5Vw5AuAGFyepAbwRcUwoAYMdKF0C0YMGeGefixKpowcqgRoW+mwGgjA7OIbnJfe6x+77RWrbQBGXQozhMjUW7Dk7EHYR7e7pMMriyD79ix7bRZqg267pAm78g27vYj7+7mRjh4u2IdDqgh84O9OMwfbOQst9VcH8giW8ZRJ1AOilkW7kgPALwWHL09ZgmOqzgSH4mfoG7WHOHkbdOkO4HeDsFcqYzTd57Ba9whAxHnDJ5qRytXQ-5L5ZmFZ2u1NQHpHP7f7Bs-AiLmEbHSHPE7Jx+3H3QQHgdkLzdF7LQMpVHSnvHCFHmGwUMb6VbYn2HuH-7kgEnoArBFZhH0npDIndA5HpnlHvYhOsHHH2nDHlGCnrH7H-DnHS2Vg2IRELntH2hypnRAEFHZNulRn5nXBD9PqznMHIXJ2kiZ2fGjqgmwn+qZHv7eHkn3nMn9H25jHXnSnDGrjjQ05gXUnPnOQ38FXXOnRnReXFn443L3qXENnvn3IDXcFXpAnpQVXgH77e7tZiwRXSZJmxGenjM7lsEk7XRJ55kmj7ZGHXzZqWi6Hui-WSCbAHTkQF0Vb635qN8B34riJsbEILACb9aoA3bCO95SHHpOn3Kc35Ak7gl1N93T8IX4mO2SHkHqd1NI74m33vbpDvzxJmgWkQlg7+qYP2bEPLIZ3R3otI+YHzgkQdU0QixfDdXrXW8HhnRJD-bBP438TmPAGAhJPOQSOWP9xHhHYlP2PPwFP9P1PUuzPDPJbVHXP0QsRfPQ8jdP5NPkTGRPPOXuPtD+PGR8T893QovY3YvSRPPnRO2gvUvpDSvFisvE9u4UgoE5bzbtrJ+VBjI7rTT6bAcT40tOD06Fv0RKLLpl+oEkgU71qOQjAh8gjApDy1rFZKmBvR4wbfn5WIdgvAO7PQvY2P5DvSR7nqRIQXngvynjrJAzv9Irv7vLQnvRCL8SRGnGgmgPkgvsaKf9HaXHnDK0XsC9ZqRnRRfPkHYsCLwjfWpsCFf-XumlmTo7n8FoA-fMkbfB85ruooYuQLA4SxcORbQh4goAWdAlHs-Ll1wdA+Hxv2YTZh0kiN8y-8-9Ia-kHBTnRiph08XQQkHlV4-xIU-zal+e-C-4QE-1X9wZ-V9zOD-B-L0sRkQUwberKn-V-i8E-6hB1+HjZBCy0X4tMQBh-TVif2lhv8nUl-HKr-xbq5AABpGFft0BgH8BIO5-c1MgMnTX9J+XEQ6ISSrJP8b++AQ8FCDZqipJGOEViNQNghWpIolgYkDaGf6x1q6AoARrfhoGsDiBnA4kAe0gGUDMWO-N0l7AKaoDGA--T4IAMdSKlxBB9QgQQAEG6A2BE-YQSQOnjsDMW5A13A6EpxsUJQ50W4KmEV6gBhIQEcXmWj+xR9I+VPaPmymcJWDdeifZoKpxY4p9T28vTXqTxsH59IyozUEOQG+iSBQqC3Uvn7hT7ADYIwQsIqP35BhCIhUQhYmEPiG2CVeG-OIiSE0b4BVwXQd4pIJZCFDVQxQgptezUCZDrBsEQwJIL9JmAZBQfCEGEIaH7J5epg19GaDCCphahQQvITERaGhs2h9QkpvCGr6GEbBLTVISBkiHzcFivYdofgOaS9gZhqwppHMNsALD3uCxDsCsPf5OoOwGwo4eajjIFMyhRQ-lskLEBikP6aEIQRXlyGdEMqag3rCBx2AfAU46WetoxD+G0AXg9LapEBGBF2Cwc1NdISDB1RZpxM2wsbOkNUDAjahAI6tIc2NqlAwR8fcAVCMzR6oMQVwiofy0kG9YyW9xB4dmXEFdFFh0IhNLcLsCEAhiWPR0GvXGG5DoYXjHHgcPqGfDQAI7LQRwK3aUct2YAwTiHWxx8irAYnYUf+xALgCk+3gwjPcEMA9YvYejOgPSPEDN0HQkgLDuKFZHpgIRIdLduJm5EGBHcx+Q3luxVGW89GW7d+lYFACbEAAEo7UkAABBcAOAEdoAAlTYpAAADyntZAPqnsJzwwSew8JGKyrZTZ4RiQmIjz0ZGfBmRDoA0d9Bab8iUx1wVESZHhGat+RKgT6NGIJAaid8C0AsZUCjGHcSxl-XIS6LdGejvRfowMcGPiaZjtR2Y4sbGJYEgYPC-IoQSmN1Gmd9ReY0VtWPGDYpiBVvaQljyrFZsNscYoYR4WIFsoaBf8LrDYKcARZESk7exAaHCRjZUR-uWCE4Ci7hCQM8Y7lhGMnZziYxC4nsbYEvEhQP6FgKVquhIAzt9UAABgGBzwEgyKXaG+LuRXoqIlAboEXjfEaAPxigcTLnkghQSMCela4jwAtGsQ4Jt9a8lMHiY7Z-xY4PHqQQ4ak90Jt-U+ATTAlE9ounTKLoYWInATJmbFHvFR1F4pcMyuoSwCgjwnS9pwbFfIOhKg5CcgJEzH7mBLsLglAJkEOicJPAlNYdIT-T4MihUChwm2F2S0cH2LaOob4OEsSaLzz6viJJQksiS0GU5gsa+n8DSTpUMJyTJACk6QKHGb6fx2ugQKyTZNDgSEHJxk71m9lSLOTFJcaKVryLaB392cYofIBb3cE5CZujaSwPJN8kJiA+RWVofvB0zNJjS10RqFYLIZ18LMGsXPPIAT58c3yTqP7E4JZ48TXBchS8flMjTydFRAWZwKnxSSFCyM7-JBD5Nsl09nBZfWTk0mGCuNK+A3RgRbFGFJT0R+yNqXZKUKco-ArwaKdZN8kSEX2TSJBE1Iuh99pu3k2aS5ODaaiuhNKEEKKTNAQcrBm8S8b9mpoR99UpfYXm4MIky9sRxXDqSzwaYYgFOS3S8CQEeK7DohUfMvlHwsRnDzAJ0pcWPR4yvlyMCUvCX8Wwxc48AUWOGZIgcHOCSpvZa6WoiBkeDsp1ICPo0wU7mSPpqJL6QsUV4AyYhnPP6fV1cYNcMiz2DvJTgCH490Z90gqeDLpSBThsUgWcEDPCkwU1gsM+GQBUvCEicgNw0GfxxUmsR-Bx0gssDOm6sT+Q+Mg2IiM0CUdNA5ncEakT9IdNyhws47tfGAjazKhpCSxGlJqEqyXojQrQiMMN7KyOhjrXaRKG0CugIOyssmmrIL5GyQg1s-DpIPtn7SnZtPVWWTUo7i9QAfMqLCMKa6HQJhwIJrubJU6fTERywxAczmWEvRNhjQBWYTO2bZwbZ6cxbAcLTkAzGgFwo2ULOKGaiNkUrSEHJkNGeDTe7UerN4hZDoT-Wx0WgAeEZGMQ+JPPAKHxNiLES2k3c9kZk29hERAO-kxad1hNq+hpACkwUDnjwKasqG+EPubyN5QiR0Jfk-HsiIfFoisRkZM6SHQPBl5xJLafVOxPiKi8pAkQLeTESayCZM5eI8TLZkzmIid554x8WcMfAdy3kbeMbHxLzk-h95SQ8AY-OnC6oCh1w3WVIikGVAqhx6BQCg0VY+QB5m+dQH-NPmOT7hVgR4VSLAUwi+4vEF8fWMkA+jYUAAGUdohjYF0gX8TpGvExV0JuY3eadNyFJieJbQVMXmMkHtjOF1wJhWmN7EFMKxhyKViZFiIiLT54inniQrIWULwAbYgLlmPpACK8xPPFcUfW7pNJ+xVIwcXqP2ijizhzcqVpOPEFchNhOi-Qd9WwSpQTFU4wwQPHLpSLBFj4pceovEGrjYI6481OhMqqIl15p82+WeO+iXjNhDC5xYuLjKaizQcQSCPSyRHIKQRISoYQKMxbuL9Bni2gYKWLmfkcqjqDRdP3v6YD9+Wi5pARjrZdiNs785JRkTzlqDeUAi6pReKXGq1gKKgnaQgs+DxL6W8Y1JfxJDqXRhA4mEdp2EFDNoEl+rCxCyFJxIL9Wz3I+F4OY5KjBlnqU9jEo4qzLaWEy2lr0uIGB0kEKy67KmyDbGs2l+g3kSEBTEQ92hPPDkWGGznH0eRX4YEIbzNEOKx+ObSwLeLIljYUxM6SpcQEPiB8OFjoCHqiOSmlBBMJo-VHouHH7RwV7nQTDI0hSJBvlVEYgdnQDSWLtBt7OuACtMX6D5lgQTQAejE5jj5xxAAlRP2XzNJwWAKl4GoORXsTFYqIvpfGX6myy54YQdYhLjfGN0-lQ8o0ZVnhHiZv5NEd+HxKazAqrlzs3eRCp9LU1oVWozhUOINgji5ViK6mkytRXESMVqIIUtisFH-tbFOQKlcSCJXmASVdwXFcYtNVTj8BnRdCQyrWrarawuqlQeyq766c5Zw4AtqfLFCMA0Vs4cFbcvChVyQ1kg2toEvBUFMo1R4hFWWN1BxqAV-y8cTGC5TcqvlrK-ldqNTUUr4ygmbIBUrTX0BxMJCxsb6P9FBiFFGwctV6MrUtjqFdKktc6sqpFqg19AeMjJBZDoc4miaqsH6s3mCrcSny3lZBBzWcLb5Bar7tIBUViKy1ro0hRQqoVNZZFy6ptdFydV0o1q7aphV2sFm9qK5UgZ+q+nnjCpJwDAhZcy2tgXrYi+mR8GepED9pGeShJ0BY3ljThFYD6-EDAjfUeE3JC6H-sessJQQJAj68iretDXXqo2f6+Jvpkcrga7gkG3IfZMA3xN9sCGn9c+p54Ab319sBIFEAyj0h4lyG8AahsXRzwH11AG+d+pEAc4zlE-ENieto3kUWNCmC2fEWIEFMqNN8-bGxuBTEBENOpHEjMviX3raAiG9AkJs+S9cucDGkQSFCtXfU+WbxUTcgvwISbqNgKuhbNzA1ab-cYGn9bspUFQaT1mGgWAZroDSaSR0gj2YhPkFZY5+AWLrGpv1bTZhYE2QzU+vM0UAdSKSvZfVyaprUEN+mjDV5t82WbpNgWiCkET2WxglNPaxgKps6WbLda1gvTZEDR6MwCNG0P1P5pM25CVxzArJaUudS5Lx0WAWTWUBHn7wUt8SnLd3lS17NhNGIpEuSJwWUirFcZPxFVr1nYKc2nW7QdTMpl6Nes0WwIPJsxa4gEtwrZLQsAyipaks8gQjQoCy1GD7EB6K1sQh56y4LeX9IOKURmDANeR7dFeGvA3hW5xUxm85eeBDIeLit3i4aJrIq1NJHQG26dAd2fBUANoypeFpSh17GFlSLBF+K1Xf5nlgdo0pnCyFrSJt9CsEVrnpVxQGNKtI2wICyFO2d0LtW8LkJPL63taBtqS0CsMKWk0Lz+k2+LaSvR1LwO652wxHNsfRdL1NLwDHbTrIK-jBM+oHUe5Tn7iYAAnAMB0jc6XKhOy9YLokAeVUlbFKYJCBeCAr6ywKpspqHrKV8KMdgRol+ND7panKc-VQPi3xasg0Ahui1X1zBlZSzAQupvtLEIXNILdkumRN4Q8XlQLEdgPFJ-lS7rTzAtulcfboUa7Eud4uufmvNnkuUF5SwZMDyuu2Maeek26bZTpUBzzQ99Ov9ItqgTB755XwXKWtoWjgJxITWyIFar8KKBMgZoQ2ofMqyXRxMwI9FOcB1E57TQrIpJvSlRaDtXifQHHVKvlR-RGAxenWs9P1QsgzQ4xIMCeQt3fVcUeKOvQwHpZairVZgcfeWHRGj7qWyCpEVuAH79d++FGVlTmzzbhIC2AWS6PKqCBRriJ6xDtTOj9Wsq2kh++jhRi70979Yfe4CIPrmhm6tdHlMfePrbQAqeU++loK2i-0L7+p-fDlY0FH0sgv9SO6fXiIYCQHcUxu9-XP0J35KPFj284eVqFLL63NRwz7bbw2iXR4xDK2YCDsqoCJHJrmrZQQYFD47cFVij4Sl29VwN9MeQOgMijcD56D0-S8vZXsSXV7MUfKXePXoiZN7Z9re9vUKq1TREJRFBuliGBoODaOB9B1CUNM5JSG8WSKXYnsO8Y2ClA+TVxrmm1ZJM89NvPQHbyWBUGoiWhPzRDugKkH3l-IKvYKAxS17mAECX9dtrLTArJJJ4Wvvxl9Ib0Ry+qSRKc1MTnM24ybEPrxxxqCGLodbcVH9zZqOHnDAhtwzXXcPdSNZARjCJoy0qSD4BOc1w+JGzHioLEAUSfcUf+247lpWRhsCt1uDQKp55RuI5SgKavw5SHTFncAix14E8j0XNo3mX6x-xOjICFNJPrSMh84BfRmo9kDJqFGxWzR4nCbrMwK65CDk8zDJEwQ2LcEGEExHZGlAdtRZhU5Mr305VYBJ9TW-FvW1UCtaAAOlgE3lH0vgubfAOsVSZjbMq-1TlE6n13AR79opJigMHOPxLLjxY64xiLuMPHCl9IHfS8YxasjDChAPwhYm3adFEToAAAF79hGqdx4-VCaeNspXjEO7dpia+M+ofjIEIvf8a0gNcRgM2Fg2wYhCXG8TMJwkwNReC8s3izgN4qQDeL8t+w+LbkHgCBMr6mTQU-E7CdSZsnp5uh2ONyd5M47yT5YIAA')">function query_syntax_process(exp) {
    if (is_application(exp)) {
      const function_symbol = 
        symbol_of_name(function_expression(exp));
      const processed_args = map(query_syntax_process, args(exp));
      return function_symbol === "pair"
        ? pair(head(processed_args), head(tail(processed_args)))
        : function_symbol === "list"
        ? processed_args
        : function_symbol === "javascript_value"
        ? pair(function_symbol,
               map(javascript_value_process, args(exp)))
        : pair(function_symbol, processed_args);
    } else if (is_name(exp)) {
      return list("?", symbol_of_name(exp));
    } else {
      return exp;
    }
}
</pre></div></div>
	  Exceptions to this processing are
	  <kbd>javascript_value</kbd>
	  queries. Since the instantiated syntax of the argument of
	  such a query is passed to the
	  <kbd>evaluate</kbd>
	  function of section&nbsp;<REF NAME="sec:core-of-evaluator"><a class="superscript" id="4.4.4-sec-link-4.1.1" href="./4.1.1.html">4.1.1</a></REF>,
	  its applications and self-evaluating expressions remain intact,
	  and only its names are converted to pattern variables.
	  <div class='snippet' id='javascript_95_40_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+7gYBIQw+DMGwUBwIgyDoHwPD+wt8jzDRG0bno9rELMkvI1IkyKI1R8GBsaQAPy6XI18zPvix9vfQQAFzAlKpLqiKF-QIT8g7UANIQTQ6EGzUQ-kKDCYoJT-z7CfM+wDzC-z3PIA8METy330OgswT8969QongwBx9QC6DQcNTBiZXSlmtPgwhoBiH70kCOVMt9UEENocCd6N8KF32Gmw3qAjGx7CAtQ3hP46EyGJCpESBUNKfxEXqQ0nwkKqA8iCGCRlFAmXwU8Fhw00g6LTigqhp8ZGNDkVTY2qifyiJmPY+G9xmbGyVuzSx0iWFyOTqHZhaiSEzACWmHhfjgRpSii7AsQibGlGcSDRcXiuFCIiXwwuxdS6UVnEEpxoB67SB8iEwgG0kLDwkj46xxjTGlB2rZd+05VCD0qeMQx8SeEJLSL-RQzAITcOAgAVWIAaYg1AADudghR6CUA6UAABaBZVD34ZWxjjQp2SfLCBeIPM2GZKD4FAKoEIzpKAsHqn9SQWjhD9mYpnTZJcDZnIub9TR1VVA7MKYwKIstzCDCodIC64gjknKkGSVo1yPm3LJuYc65BNh0Ctgi1EKyFjlLbhY25tS6m4sCI6BQxB6TUPBLQGKJi8U-gqQZDkxlPkkH0DiylzLvm-KZSyvFFSSXMBrHcGF3I0gyRCBFJpqgXTIu6Y0J+IrxySEfISu44rpDCLqb-Vo7ROgtAGP8wFwKMzmD6dQCEXyWQjLGZM1u9t9aaHkIs5ZRTBRaX+bxHSDSJRNJMpOOgPD7mVwsi0n5oBUQAD40UHwUAG8MViz4Rk0LbHeuoQlytoHVKaEjag+v1UKqQ4RCDvBKasiN4iQSWDWofTp0b+wmOcWUotKbuofWTfQDxcSmxFAyXw0p5aiUNt6l9RQP1KB-WqWfbcOkk2uJNt6yt9zDnHJCJlTQ+tDZExtnc-VC5qTqo6AkLVGwAXyCBbaudYL5FOxiTFX2sLGgyS7RGoW562apl9k8aR2qdWHr1eg+FBBwTnseLA21qKKV3qWA+xWztL0S1fdY99aQT3CrbIBz5f6IPOUA+uilMlwORQA00uDQQD1Ht9aUW97DJ2qApa2R9YtTZrpg6O9BwxAjDCqvbN1kgSDVi6Kof++yPSsX9ZIINoaWQACouMMN3WJ4MoA+P53tnQdaxAxR5qgtgt8uT6Bzn1QhqQFH8HXrhbQMIAo6ZBqZkbeGqS9AdLbV4Ajm6PZSEXcuijvsqNELk17TzoBf7110MiZTqnFZkPaSh4WaGn2u1Nv2dlHKzBKbyCF9TODULad87ivGnwKMKxs3Rq9PEWO6ttRuh5WC0taccWogCYW0LwIbH2SVPTvOVAI6xhN-Ik1hMGdI+5P604WYCanag3k+wEZ-UHdaQKLNJZU9QNTdXtNpwFcZp8oBJP+l3QwVFHHNvJh41NlQfyHmgdUGnCMhLiWn1Jby7RwdjvxYS89jb7IpNdGnZll7jRpEKd3uw6J0XW2SMzQJ6k2XknbGQ75s7+UxIqKMZWv7ib2GcKYekmd+qf1NIs2dtHismltLyRWt9GxqzQNFKK-HFP03NheE0nhBGZL4ZdYzJNS3wmY7J1JmnyGls05Qegs7-PCfKKqYj6RT2zCk8OHgBeTBWDsDXlwTeaAwadZ1rm-NqgHSwuzSN7IuR8i69ANW0A8z0SotzbakxvTGD9J17HLIOQ8hUKdNghQLQXiWHhkOro391k6Qh1oml+jhYvAu1zpzExkoTQ8JCpCwZMuh6sAYiPo3BSM7lgHcF8eiVQoFp8vXF8-zV0+Q+PP9JE8twIG3FPdL8DF9Yo9UG+AXiHX7rqCpWKm-bWBk9NvoAXqd-5Fym7PKYqN-uTJFv+1B8QzHYzCHMqaIAL0EUafD1Y8r8WLJ+VRQR86x30sJpvfnOl-kslBnwFj+J3lkhwn+-rSn83xPHu+FT-I662QIOZpoh0XHzJVTD6yzUvF7Blw2RwyXg5FUBALB0VHYggPHR-2oAulTm2UMnkEzXWGj1AFBHBE+UwKz2GB-XeAnD1gNm5SAL0AswqGkAGA2WD0wKsgwmnQ9TPzsHwIhAa2yDYPHHjR0mgJJBpxMiEPkF+BwIeQ7DEJrzEMA1EMwIkK5lwN7BkMX3tgJUCwANmFu0vWsiBXp0e1AGcBNAnGsVf22l0CiHeBYIbDNkt10isJsP3lJjNy4NUCYJgJ4IMNABcMZWMNMO0Oa0CF-hyGiBsO8LNgAB5HDwi3hVA-CqNiF7cjVVAWQAAVLIdRYgQUVlJwFWAUSBBuf3YCUAAAalNxe1DEiCiEOXTn0LNgqNkxZHKMqOe2qOiDqISOOyrVxTtwdwyKyPwHkAmTyPZkKOyUoBKJaIqK+0CA6NqPwHqNYMMCaNZFaLmPMAWK6L8K-3ciyAgSgW8OQ28NB0CGQNmBkCyEsjgMaB0jm1sN4MMKBSM0FRLzoMeJeM2OIVPiuOoEsk2PxRQL-yHioLu1+02N-m8KDQxA7EiOCNxSfg7ESJeyhOUxzk+NJheF7F2Mc2dUaBPWoRhKtyxFc0oMAN5VeKCENW4P0NZBGUyFaDkw5CdVKCIy-TqR-TEIsygOYNJzqRkgeLkMiMII5EZUBPOMwPkNFJJCKzZP3XgLsGoT+JuNg1Z3tnJ2ONFVON8JUDOPMAuJVNgPMLKzMHuPRMiOeP4wFPeK9kxIRMSWjSNMBLhl-xqO0N0OAOsQdJa2hIcLhIaJ9MdIukVmRKMP3iDN9PRK4kDOxI-x6NWzSABXQUJNPmJMxHIKXXJJ0Inw31NOpJSNpIwnpOIEZKJWZJJDtUKSkyykTMIxKxIzSC5MwJ5NQ2uT5LVJtNYiFKlJFJkKlxZTkI9RlPELrJYwVNwOVLAVVMY1l3nmqkXmXiV04A3l4AwA12zBeUuXeUL1uXdgjkSkv0ZBNS3LeTv3tlPL90kHORLliSqz3PHmpAChhW3B-UvKuXl122SmAQAhZCVFk3MCVFxXFPqVjy7AArMC7GAql1-K4IgrwLBEYGgp-Nj3zHgvzGQtAp9E9kqFkxwukGGhArMVjzqjoBLiUEdReFIvItyJ-CIqCF-JpIgppLqXosCF-P1HeA4WcDoGDE4reG4oYEaDYvMF-LKPgvMEd1AEFEMBDXN1aNopErMF-IWQkrMCkpkpE3kuWUUpgtjxkxeDSA0tktDXmTE2krMCUufh9GADUuOQdBeE0rkvmTAF0pQp9AAFI7LjKtL5kPKLLQArLfzLcJKfLnL0yZK9KfQABCdEUKhy6Sky+S2K1FSK9yu4FkKI7yhKpy0y0AGIswNKrCjKqI1ENSsKvK0qwqoK2PYNbKxypK+ZUNaqqKjK4NMqwywICq+S9qlq9KtI6Kuy+SwIOSswaK8wXXYBbkN8iIV5K8ipSIoNdBf1JUF4d8nc+MWWGa85bcgveMMUZwAAKw9x22WqLnpTsDktgtmu3Nk2fIZTiwpXWr2oJFliwG2rmquXhTyFNgswAl-O3U1Vk0Bt3Ssu+3Ytj0gGIB3TkEorMChphv1jBvBuUtj34skFgEgAgvRsxuRpRo4tggEoAFF4L0aia8bwbfyAA5JQKmuymmqmyMhLaakzBFZ6762sRa1EM6yyI5OS6Q-w9m1mn6ra1mvAm6t5JtdKWsD1Jaxof1Pm0NZ8uLcWnayWjm2LBgnSB1EtNW+a6FEgXZH5fMDgx5Ypa8lTdVRgYpd0w6pQeYJTCIJdSjZlZ6m8nIQMe8hlAcxoQeE2voIIdUhaEMyBD03M60U2zQ-PME8lSlALIlVQZ6hahol4CU1Wz6z4DWkQimwIeO7oJOtuagI6k61O77IWp8H6+QnO8wMg3WLMsO6ggwbcHIBFWuqIIOEwmYGOxIWbLYKBbuiOhguXBchXFeDgdebgTADcxaWgcIJQCgSQWGMIKifURgUOUCSgcCHIU2z2FwNwAKDere0c4IpEyeIiHEo8TeiCY+1olkSQGYszMMLog+y+o+gcdBX+F+sCa+v2HSaofUAmGlT3G0Go60h5ee0gJwK2Dae4XZUgUgJKhgColpeB9MlkFop+dBvzYCdYioiB6un8dB2mMMAQxmEgAyC6EBu0VladVpcho8C6X4AASEVMfpqNvrSNaP-pEguiAZ439ToeIAoawJobuSaP0BZEPzsHoeFk+CmBYEjR3stmtkHhPuAjoJZA-odmSlUdADhBYVPQ+N7FUeKB8DYnfyIhMdABSuAgfi5HQSfgInYl0YcJZDsbN3lWUAXqXoJEkFXtDlUdt3nUTEmKblnF0f0dxSJGlC5XhyqRMZ9Mwc4YqJkbQPkacezj2UUbEbaNMRaIfuONsmQVifUniZ+Ryao3ydaNSbkcUAUYCiyYSdWMqYkaCZqbSLQqNqjRqa+Dqd6NKDkXcMCalVe2EbSLgpeAAg7FUbjMsfKf8J6fkeCLsXCBqMUYceAgAHIH7B5b7tmtHtiljFGpHRmGHPhYZGAfILnNLQD4plG1ASQ96IQOxrmCG6lfy8gWhmijVmjxkgxixTRFB-mb8rZOR36Rn2mXnFhLn-DexXmXhFm+mtHIX2J4XXh8I0WenXn1CFprm6xZkHQS1g5xJYCnRYU9MOFQmqtJxMMmyxbk6MILN0FCmkEYCSn+p8gaWxyZ71tnRiXAX6Q9kLN-U8WZlzhCW+X4ZTQunPUyXuXsM24-SMQWQ4KNn3COxJXxJrg9l-CApNWBWOEflSZ+mWsGWGw0G0K1XmApWLpBWjWtGzXsg0G7aHbSAnaCdxxNGRn3DHXpAfa0h-UXWTQ3XKAl1AMiWbWZXSXNBwWBmEKCDfW1rrWtW7Xfk6z2Tj1QVomlguWSMZ9Y87GQx9DEE7JpQuX2sGyytb0nR2sg7dRrUc2yWLDz93CaWNmOw23bEqFCzo2SzzUpk3dSn+QG3zyFon86MaXm3NzELo21HwCyWtGaTe3hlRlxkB2xc3pZ6VZA9GY-QgWqJyBqBU5jQWg2huhJ3bnqQG3Z20G93GAgwTmkRBXAX72qILEL3WGOxx3ZWY2Qo8B-jr5fHzhr61q81ClyyrhyA55R7Fo3gi4phQAwZjkLoFowY1c1cCENk-Rg5VAjRM9NgNBGAWgwGcI7nJQ7SfcjViPEnXs2gd0uggnCZGo8OHJ2IOxKOiPjXIzT7s4OPqOqN-NTQcOWP0WiI+PjWcXdQIdgOchVBYVJsHsZgZOgNrKMqxNlOZM6zXUDjIFcP5ADYeAXg8PJAXpGyeXTMkVnBlOLNsPSA9ODPZm1AjslO37uWzAKWQaeNLPlPaXTEZJPO91GgM2zPAgf0+ObOhO7PjP+BHP7hCArPXO8S3iyOAuxVsEqOmaggn4AvITRO1A+O3PQBmN8SDSC5m1737PJBDPQBovnjFgqSf1vOj6Iu6BhP9OqvYvnPsQf7CuPOiUNVd04uEueuQutirBsQiIuvlP-XTF3CAJjPqv3DavdTV9HqUbIL8IpvXPCvgv8zQuxbwvUVbPKuYu8uhufPCv0gs3mh+v6PugCujMmHGgQyJvMJ4vpusAnuy6Z2lv2vTvT8ZuEsuJ3vtuBgvuzBdvMsXvew+O6vxCkvCMmMJzSv7ZqLYJSB4iWAqTzILWdPNAvW8VQE8ffNf42BXHIgLp72CfKUn4KegWvt+jUiWA+2127AAP0sqzlPWSIfWG0fyAMfXyxb2etNuuchhWNFRelgWb1tIOLNhegOj6Om8etI3ywPUV5eD3FeWQ6eqfuRGCJfnBIg6pohujv6cg4fTb3DD6QOVv6uTnDee1-9rfZOHfjefgp3zHuhXeaia9venfxxzsjefePfew-efh7eg--9Ih2yYDneRGZCPfju4+Xg1Ds9d4HQrtTer7zfbf4-FCPf3CIcw+s+j6LeU-FDJP+IpBQIb3L3z9I4jy7hJxWQ7G9jCQK69BN6I1m+mB7JXsyz6RQJJA4OiUchGBYU-7-iSkm38yKWa-c29u1tTMw+htI+h5o+xDl3U+uyLZONbvNVA-Hefhvj++Ft88h+R+Wgx+t-FDcuNBNAfIw-kMw+5SkyGyKXW25XRvSPqR3D7+fIO2crF4P-wxJcsdulbLDJeEnAI9iuPPXAiAJpaV8xAoYXICwEpY2p88bQQ8IKC87VcsBFFa4HQFM519swHxOgIdA2b4CcB9IIgXJy0bqtpYh0QHpJUQbhBUB6ArQlQK85sDiQr3e4EwLTovYuBNAl6DXkiBTAXcVyYQfwKoqHoCBIgpRuR2tjkC1Gwg0IPwDoFdsGB2cFQcwPUpJVxBigSQZ8GkFqDaBbzYaHJy0ooDeBXEQ6LPHuI8C0B+AQ8FCHOpfISOlcFwbBEJSRRLAxIG0OwIVqG0BQv9RmN4PIC+CbBCjaIYoLIFOC1GdBLRoYOtq5ApBcg6gS7VMRwkEhgPKwXJQiFRCnBgQ2wdPH8FY8HBbODPloUORS1bgqYZPqAGEhAQE+WOMWiv1RRP8N+zBRodv3Kw3c6OB-F-mbijrdBGhzQ8vmKSCaghIhA6Pxuj3iJP9RUL-KirBEmGykkBnBHwXMM4oY9E6awpoQcNaGsNuSrjfAKuC6AtENmLIc4aqEuGLtrojUGYasKSAbNuSZgZIdXyPD7DXhIzUYdeQlDnR6h1oZ4YcJaG38u2pyH7rBFhDwgoRBBZoWoxmHfR5h-PeIr2BmEWDGgvYREXoOGjIidhCwjJvnRhF4jwaHYXEYIMpQyFlmwEW4TkC+abCBQNRFuvVmKEm4SB8bCEAlXyGho6CbfWDtggNAcIVMd7E8GKPGAvA8WoIvFscP27rZdhAlJVCigQqzDbAqIvYdKIOESjaApddbrillEV9WGiokGEimVRoN6R9wkZkkK7YglWRKmaIR4QWGmiJUTIwgGgSN6OgfhighYsSO9ECjIOfg1AfZ2q54diBGwRrhZkg4hijO+nYfKwxCCpczYT8OgtgzoBMjPRhLYzuKG9H9YxaeHCzBqxhFM4S8NfPDoYEwZ2NsGeHZulYFADpEAAEkTUkAABBcAOACJoAAldIpAAADyVNZAKijoJa1whVgDHhwhfavUfh30dYeIQ97ujPgmY6cQOjUaBjMx2rSceFgJG2BaRgYlQJ9E3EmYTme4yoBOMp5TjTajY5sW2I7Hdi+xA448eN3XHPtzxW47YTuI96BjHRmYyQNmP2jbjiA-hX0IeOIALJohO7e2DuhfH7sTMy42wLONNrRDrkrg-1J5maFOARMX2DHkKJFFniYJ+QdCcz1VEzje+spPQcMTRF4TX2sEgCQhJCgt0LAoLZNCQAQ6ooAADCOPtgJAJku0JiUUkbgi9KA3QPXExI0AsTFAFmRgKJLP4IcKiPAEsaxCkmQQxJ6+RgCcwhzcSxwZvE-K-Rt5KTjQVLXxkJMt4zs3GsmdwvpPQE5IjJXuM7nHwHBMjLA-8LSdn2nAW0xUoLeTgdz4mGSqIQk2giMV4mQR+JYTFTEJLk4EYdIbAz4BMhUChwP2N6Usd8MnYUon4GkwKXH2XaWSQpgkloEGUGYztO2piJ+O4WimSBYp0gUOIAN-Zkia6lgGKXFNAFyt8pg7WtioXqnlTGp+kgUW0AwHEcxQnLJ0IYW0kIT7kUUjqRVPilUk5+yU3zsNEJKPC1AjQ0ct-yCAyRrcCPYrJ+lKyZYBsq-I-hbRj5lsEJm00jCXlS7OBMuIzc4UekEG-wypk0w-m72f6v8fwwwJhpDx34ttCphgTLE-AemNSO2dyPwK8AmmNTwCJrPogQGOzyAYByPH-kCABmVTZ2TI-4bUO0Cuhr6JfG3vvFGltD1sHQ4wmv0Omb9ehRoq7schX42MAu2PS8CQDqIajFhxM5YWv38JUjAguM0ifD1yZFd3+13LSd0WkDrpvseAMTGLO-TtC1++056d0Nj56kuZhXGSFTIxA5c6k2XYgAzMVHYzze7MomQdJZlH9xSTDY2WaQhGmJek1QhOo0M5l9CIefM45L1MCxSBZwnMsmWKQkKizxZiU1iDcIuGMj90EA72dSFGHayRGNs8mc6jYwLR6ZSxRmYnUW6nc5RDyU4cq0tFfNrhac6nj-CoSLT45a1F6G8MwKfCBZmgQ6DzJARu4rsAIkEKgTNBYzS5+chCcXJr6aBTOGzNGRKAxl1zZOrctatVwT6gBPZYmYue4VLmwjgQo8guRCw1mxytZGIgQd9gxEvRapQQGOQbC1kasF5+o0oBq2Xm6y7iihWkb7LuH+yo5u4cKKC0hBA5FBDfdqJBmZAgscgo7Y6LQAPDujGI3Uj3gFG6k15LJFiT+ZyPwoYkYenkyGRXI+bSBYpgoHNFJLBZaMAoIC7epUI1JbIOEQUpYPpKlHQtnk744gFgsUAGwk5ZgH9AeCNzoLJJugDkC5KPpSBIgHk7ehNjFpryXR5o4DLimYVaytRaovBezMfBvzxcLuFTN1JXmlBDRYpBSVuhnkGxlRFov2VnIrk2i42oGRetgvoWfALEpC5LMIqh4sirAbI8oaoGYXKjZ4DEq8ZIE7FDIAAMkTUHGtZ6C09CieOP0kmRaJCs+cR6P64Og4JgEjZmuM8XXBnF3i3ceN33HoKTINeE8TMECWXimx5iqxTYsfGKxnxYSoJR7yQl50shdSL8cUJ-F-iglIitICyH0lgSnBXIPQdkoMVmTUooLEpeUK5ACidagS1xUQsrhISIhqEvFPpK0pfYdaIkfSWorWq4KEJ5EscUqNBYuKhlCsgUWaDiCQRrmqgLhSROFIJC0lTg5CbBA6WlBThoaClOkuLicCMhPGTLFBKolTjFlA6YZZll5Fm1pF4yhZdgt0TcK6JA5ZZeUIFHKL5l1zWcUGOJBeT1sl0YQFGKsCdhBQNqe5QQqAkfLsF3PSuImP36DcAVDKM3DMtvIqKCF4Ky5t8tiFBNEV+Qb9hisipcyflWPDMbQs8WK9MRHvaGKsxN5FjNQX4YEDXzpXILg6h7SwKcr8lhTPFLSECeS35mZjFeOowCQ13zH6cLMuS9rjmKFWFcSFNgJyYrCFXEq5aCWCpcGJE7ATXxtAWpagJhWBBNAeaezgC01WgTwJgPIZiBJeDXLIG9uRIByv0WoDXpn0yORsjCBGpPglk6PkuIAURixaAEizHwpohVJupBGClgKvrm4K5pQQH9AWNRQSqDYOYgCTKrFrWr5V6CpVdzWeyqqAh6q4peBMK76q7gOampaaqeoztMFxyJKimttWWTYh6bQOc6qw6ns01RqO1fkGlVUqL5sndtRsyfboKeVxq2kb2qFX9r8JNeIdSBJHXUTAJ9yV1eysVWeruV0qxhetmyDQSp1O2esbEpvFdiex-Y8AARjMXbq7xe6izOauNWWqkqq61tSdgRl2AWQ4CSRmn11C9r+l3q+YmyvdVMSF1bQLxcGp9UrrpA9IZxRZjMUWLrF+6jYKBviW2KLJoLC9VpSvXOK6yMke9QnFJV11l0j4Q6h8i9RxC7SuGk5jhiw34ho2ng7uOeydCkN7YeWYjSIB-ZkawC+EAjU+qr4YaDYpFbDYXlw0dqlBagZjXbAWg4YONJG7jZyOqlUaFoeWYTXRtI2m152caGvAkCiAZR6Q8y0TZ+0QKUaBRWG6gHQto0UBp0ryh1TxrJJNpON8YdwMQHM2xZC5VC6IVox010KaNtAazR0is34gsScxKFeiqI0uaSN+m2LMYnB7fYjNvykKAWrSKfNmi3my5nvhc26bAJnEhaBxoS2qBpNBmrFSssAUuYKCUECQNZsYjpabN1onzJCNUnGD1M2Ao5Xihi3bI2yRWtLflo83+FQtWPILUZSSopanN04ULE1pk1FbPNwW5lK1r9gRb71jAaLYWnObQqqK+WhLXrx0hKaNoeyTLW8tWXlD1lbggEpyhbIhpPuP4IBbVt4zyBlNnuNFZc0jSebt58xXRYewdHFCaRBCIbRXLtF6L7tBimQp9ye6-w6C7WoICNtxBja-mk29FAoHO1w0ltCgBbVUOwR5pG2MbD3mdh75t0O6vUAek3Trb8gg2jtUNh61XyXbVtxmuUIKTWXtLzqJibZSYkdCw6I0FPZ8FQA2gSlpmRrFrUQQlIJEU+JlQQUu1mB6jt5pqVdhalVG6kkKSyUomUS+1DaWQ2OkNmGyaT1KaOr2u7cSpHI+kftXsGbgDp5BjaZd7rQDCDvDTTaCFsmXXbjowwMEf0+oQltRWwEWYAAnAMB0g26KKKuzwU7okA0ViV15KYJCBeDTrZ+-M+IZGq2nEYT0l1DEGxKpKBBndPkTZps1ZBoBE9uqj9MRkX5mAY9fosIK9MaAx6vdL8bgmsvKj+E7AyyDvEj3HLR6Pd2AvPT7unRW68tZFbAQ0sgUUUYFH8ZMG6sJ2-KPerWwHQat9At7oFXwWBQbtrRG7YtuyQfW3vh44Af0kQAtUSz1gWYWQ1zcQEIzzQB4ktuoPFi0AiB-RGARpP5aZnn1q9xaWgO4CfsVh8s9YdZClh8Uv3B7zAGelkEsmWR3ojUrwOppEBU12pVKda7aWZx-SXQLMorQUASwjYksxml+2+n0HqUI9n9r+5ZLvr9xIVpya+gtb-qWTJ709VeiioYqEZnNwdCy7PcEFBSKrD2x7DhKex4yXRH9aQF9UxJbXDrx1xqkbGNloOXcn9uBnyCyBbEgTCk1BloK8GoBgilAARC6GgGwO8yADaepodwbSKIGxdq+5UQwEUNYHWQUhyvY3pd2OjPMSEzZTto5CYSOUWLVRV9vSAd8GdEaS6LOMtW87QAkgJKmfAsFHabDzI6IPaJV38iHJ5e0RQ8uQP77D9tbM+fyH1ZSB5ll++nIoEyBmgkaeY-5SAYeVis5kEB00PsNkYnJ19CKJorAdeknp99MR2GtY2VZmgwiQYKkggbF1hHQAq+6A7-vLDlyuD2hnyKYfRUcGA6u3WASCmOTkGj2rgKg2e2INUkGDkEJgxOpYP4S2DVzEg+51BQFHUCRRmxiyFKNzRVplR1-dWWNUCGz2mBrA-0GkOp6ujTqtIOsY2PKHpwyKVQ2oakO57dDdSfQ+TuG27bg0gJVoxdqpF06fqXfJYG4bEJ2HOdWlZw2SNcMhhbt9qgId4cdW8QwjRBzZmKJaSnsow2iWPAACE5AdUU9k-NZAondAZS1TmkXAA0QSQjAHQpUBpjAROxQkq4KAE7HUAkQsmHgJHv7Dx7gIKxvQFpBhPzK4Tk41QIdSLrImfQaJ8gBiav7kmWQOJzSP4V-K7A4dE21kBMkoAAAvI8F8wHAsnljdw9k9yE5OqLuT54+4CoCPA+RfyQpkU1ieAgSm8TAANjYm2mmT6ptk+UYYI6n0VepoFgid30ktfyDY+ekaDlPAQWxxSU0EoGaKwA8Tv5aAAogiAtArgzRAALJ+hQALYv6LJgADsAADjVOshHTHJ5NqaFhPwm+TzgAUxlR9MhxFAzRQM9AroAhnWQYZqU7HhlNTBmifLKIIZGJMK6HTmpp01gBdMXa3TFXGs2+GNOx4yzfpys0GZrOhm8TKAO0-aezPdncz-LcI7qfhNIobUJJiQKkW9O+mKzrIKs8GenMNnBT6JoSaKeaKWmszrJxc3rz7Ox74TT7JE7+QABiHuZotADhosgAAIuGdjyRmXA0Z2M-uZJAMBwA0U4FhDGZMLmyjS5m1gWZ5NFmSzaRV8xQHfOfmfzx5jKk2b3PARWz7Zis1eY1MwXtTeZlc66bXOGmLtL5t86yA-PNEMLLwMGAAFY7TUF688RYGB3nVAA5u8JAkUA6FWuEIai6hdovoXfzJ54U2efNPincThFnM7edIvwX9Tj5r07HnSITJcgBoOQM0UsWZRmiJNTC2kRROoE7tF5iihABiQ0m6TXzF4PwFEH6AuzHF3s4pa5OFn+Tv5dS5pe0ushdLLAfS+JawtaBZTzRBQBjw1mkBN6kpti0RbmicWXLq5nk0OaNNIWMiGlw0N5eAi+X-L-hfgCxdtPRX5LcV5c0pfdPrn+LW5oS2pbStaXgWLILK6yAMuTNUTp5zE2KcvMFWbzzp+K+RZ5MqW0jv5TsbkFa4JB-TdVhbBIACsEmiT5Vsk6Gc6D1j6pVl+ky8HTNMmHL0F2K85eKuuWEL7l2PINZNA6BRrli8a7xUMtx44gwV1kHheJAdnWQc9ToGCw6tOWuLPFg08OZSsHXhrOFsa4QAmv+EwYc5565tdetrm+Lm5wS59aGtHWdLp1yayyDHM-WDzU5us52Y2tamur21hK-qbKsQ3tzzVyS61YvOyWmrPoAAOpHhnAhAEOLxVZC9jZA++tG+xc2tbW4LO15S4idUvk3Kb1Ng0LTeAj02UD8N8ABpbJN0Acgn5zIpoFAANjcg0t2k-SbkudXWb4kEqxV0Qu-kKbjAKmzTeaKC3Gb51pEBcg1mhgtMzRQ3lEGaITIPgh6JmzFYxsq38z7N0q5RZHPc3tbvN-myyH1sEX28eV-K+teZsO3HbZF-sw+c5v9XY84AN1lkCAvAQiargSU6TYypk2etA0VkOADg7eRQAlivIOScZNK2Xr3VsO7teLO-lo7zAagHHZZAJ2Sb+J30PAxkk1FmiGPKYvgGaIQMZJP1O24VZDtq27wrtlKxXdjtina7Sd0AKmf9vA2HboNxK+DYEv42fQw9qu6PcTvw2tbOtvm3rYZsEXp7PZvu87Yq59WTIEZ48NhNqu0nXAuvZO2kUDNApTLrIKmjLaPCgQhDYF+qcCx4BWnC7IN4u-edLspXoAZ9j4BfaLpAt4bndlic3ezMhs-oI1nu8rdns43B7p9hYVYGaKX3wH-hHgKtYDuOXf7WNnqzjfnsVXAHwD9B6yEwfX367y96u2PYQdOWD72N908fZSstivY9F+QGTbkDlGb7LIQk-kU3OzW6bGssQOAEeGWBZMTFn+zPb-vcW3LZd2POw9wqsgvzXDnhxA5aDG3bg6WZoihwBBGmGHBDtm8w8HMoOlHHD1R+o8iF4ncrrFwO-bZ7NIPSrJDyG7+WUfSBOH3Dmx+dY3ue3t7QtmR-veccVdgsLQI9hrcbNBXmz8ppUyqfhvYXRrN1lgB2aCewXVbh9gsMlnCeSBInPoRJ1bbidEcEn0Tn66FbeDhXIrRj4OyE6ycqYcneTwK5dZie4XmAbZ2677frsFPrrbT-C6NYesJAnrDj3u0w6IfumwnETvaz6CNuRAdHZt7M9ggMexbDbWj2Z6bbgixxzQVtm2547SfQ7IJbZPIHQA0sQgH98R0zMAdRSgHwDYR9I5Q2gM5G4D-60zGIQ3Ugn3D7dN7V4a9ivT9cHxV52ozZAiHFR7DZoSGc+5qoCDsjIg58c74bQ3D0hTAliWOT2Gp8clZw0yNN1y7ZUtzhKf0KskCSTwRUx+PXZykbPa8AsInINJjZ4jA29tYNnrsJxhGo2YA4ucgmJdZd67hbAUMWyKYwEuWi7Gti6kOf0ATn8jhOklYu0bnhruyFgDJP8JYu8dH8YkDJNAChpAb9jzZtyDwCg2JXg96V7qMKRyuWJCr+lzjuxf46VXLEtV4hyBsOP5jF0csEAA')">function javascript_value_process(exp) {
    return is_application(exp)
        ? list("application", function_expression(exp),
               map(javascript_value_process, args(exp)))
        : is_name(exp)
        ? list("?", symbol_of_name(exp))
        : exp;
}
</pre></div></div>
	</p></div>
      </span></td></tr></table>

    <div class='permalink'>
<a name='p55' class='permalink'></a><p>
      Once the variables are transformed in this way, the variables in a
      pattern are lists starting with
      
	<span style="color:green">
	  <kbd>?</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>"?"</kbd>
	</span>
      
      and the
      
	<span style="color:green">constant symbols</span>
	<span style="color:blue">strings</span>
      
      (which need to be recognized for
      data-base indexing, section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) are
      just
      
	<span style="color:green">
	  the symbols.
	</span>
	<span style="color:blue">
	  the strings.
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (var? exp)
  (tagged-list? exp '?))

(define (constant-symbol? exp) (symbol? exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+7gYBIQw+DMGwUBwIgyDoHwPD+wt8jzDRG0bno9rELMkvI1IkyKI1R8GBsaQAPy6XI18zPvix9vfQQAFzAlKpLqiKF-QIT8g7UANIQTQ6EGzUQ-kKDCYoJT-z7CfM+wDzC-z3PIA8METy330OgswT8969QongwBx9QC6DQcNTBiZXSlmtPgwhoBiH70kCOVMt9UEENocCd6N8KF32Gmw3qAjGx7CAtQ3hP46EyGJCpESBUNKfxEXqQ0nwkKqA8iCGCRlFAmXwU8Fhw00g6LTigqhp8ZGNDkVTY2qifyiJmPY+G9xmbGyVuzSx0iWFyOTqHZhaiSEzACWmHhfjgRpSii7AsQibGlGcSDRcXiuFCIiXwwuxdS6UVnEEpxoB67SB8iEwgG0kLDwkj46xxjTGlB2rZd+05VCD0qeMQx8SeEJLSL-RQzAITcOAgAVWIAaYg1AADudghR6CUA6UAABaBZVD34ZWxjjQp2SfLCBeIPM2GZKD4FAKoEIzpKAsHqn9SQWjhD9mYpnTZJcDZnIub9TR1VVA7MKYwKIstzCDCodIC64gjknKkGSVo1yPm3LJuYc65BNh0Ctgi1EKyFjlLbhY25tS6m4sCI6BQxB6TUPBLQGKJi8U-gqQZDkxlPkkH0DiylzLvm-KZSyvFFSSXMBrHcGF3I0gyRCBFJpqgXTIu6Y0J+IrxySEfISu44rpDCLqb-Vo7ROgtAGP8wFwKMzmD6dQCEXyWQjLGZM1u9t9aaHkIs5ZRTBRaX+bxHSDSJRNJMpOOgPD7mVwsi0n5oBUQAD40UHwUAG8MViz4Rk0LbHeuoQlytoHVKaEjag+v1UKqQ4RCDvBKasiN4iQSWDWofTp0b+wmOcWUotKbuofWTfQDxcSmxFAyXw0p5aiUNt6l9RQP1KB-WqWfbcOkk2uJNt6yt9zDnHJCJlTQ+tDZExtnc-VC5qTqo6AkLVGwAXyCBbaudYL5FOxiTFX2sLGgyS7RGoW562apl9k8aR2qdWHr1eg+FBBwTnseLA21qKKV3qWA+xWztL0S1fdY99aQT3CrbIBz5f6IPOUA+uilMlwORQA00uDQQD1Ht9aUW97DJ2qApa2R9YtTZrpg6O9BwxAjDCqvbN1kgSDVi6Kof++yPSsX9ZIINoaWQACouMMN3WJ4MoA+P53tnQdaxAxR5qgtgt8uT6Bzn1QhqQFH8HXrhbQMIAo6ZBqZkbeGqS9AdLbV4Ajm6PZSEXcuijvsqNELk17TzoBf7110MiZTqnFZkPaSh4WaGn2u1Nv2dlHKzBKbyCF9TODULad87ivGnwKMKxs3Rq9PEWO6ttRuh5WC0taccWogCYW0LwIbH2SVPTvOVAI6xhN-Ik1hMGdI+5P604WYCanag3k+wEZ-UHdaQKLNJZU9QNTdXtNpwFcZp8oBJP+l3QwVFHHNvJh41NlQfyHmgdUGnCMhLiWn1Jby7RwdjvxYS89jb7IpNdGnZll7jRpEKd3uw6J0XW2SMzQJ6k2XknbGQ75s7+UxIqKMZWv7ib2GcKYekmd+qf1NIs2dtHismltLyRWt9GxqzQNFKK-HFP03NheE0nhBGZL4ZdYzJNS3wmY7J1JmnyGls05Qegs7-PCfKKqYj6RT2zCk8OHgBeTBWDsDXlwTeaAwadZ1rm-NqgHSwuzSN7IuR8i69ANW0A8z0SotzbakxvTGD9J17HLIOQ8hUKdNghQLQXiWHhkOro391k6Qh1oml+jhYvAu1zpzExkoTQ8JCpCwZMuh6sAYiPo3BSM7lgHcF8eiVQoFp8vXF8-zV0+Q+PP9JE8twIG3FPdL8DF9Yo9UG+AXiHX7rqCpWKm-bWBk9NvoAXqd-5Fym7PKYqN-uTJFv+1B8QzHYzCHMqaIAL0EUafD1Y8r8WLJ+VRQR86x30sJpvfnOl-kslBnwFj+J3lkhwn+-rSn83xPHu+FT-I662QIOZpoh0XHzJVTD6yzUvF7Blw2RwyXg5FUBALB0VHYggPHR-2oAulTm2UMnkEzXWGj1AFBHBE+UwKz2GB-XeAnD1gNm5SAL0AswqGkAGA2WD0wKsgwmnQ9TPzsHwIhAa2yDYPHHjR0mgJJBpxMiEPkF+BwIeQ7DEJrzEMA1EMwIkK5lwN7BkMX3tgJUCwANmFu0vWsiBXp0e1AGcBNAnGsVf22l0CiHeBYIbDNkt10isJsP3lJjNy4NUCYJgJ4IMNABcMZWMNMO0Oa0CF-hyGiBsO8LNgAB5HDwi3hVA-CqNiF7cjVVAWQAAVLIdRYgQUVlJwFWAUSBBuf3YCUAAAalNxe1DEiCiEOXTn0LNgqNkxZHKMqOe2qOiDqISOOyrVxTtwdwyKyPwHkAmTyPZkKOyUoBKJaIqK+0CA6NqPwHqNYMMCaNZFaLmPMAWK6L8K-3ciyAgSgW8OQ28NB0CGQNmBkCyEsjgMaB0jm1sN4MMKBSM0FRLzoMeJeM2OIVPiuOoEsk2PxRQL-yHioLu1+02N-m8KDQxA7EiOCNxSfg7ESJeyhOUxzk+NJheF7F2Mc2dUaBPWoRhKtyxFc0oMAN5VeKCENW4P0NZBGUyFaDkw5CdVKCIy-TqR-TEIsygOYNJzqRkgeLkMiMII5EZUBPOMwPkNFJJCKzZP3XgLsGoT+JuNg1Z3tnJ2ONFVON8JUDOPMAuJVNgPMLKzMHuPRMiOeP4wFPeK9kxIRMSWjSNMBLhl-xqO0N0OAOsQdJa2hIcLhIaJ9MdIukVmRKMP3iDN9PRK4kDOxI-x6NWzSABXQUJNPmJMxHIKXXJJ0Inw31NOpJSNpIwnpOIEZKJWZJJDtUKSkyykTMIxKxIzSC5MwJ5NQ2uT5LVJtNYiFKlJFJkKlxZTkI9RlPELrJYwVNwOVLAVVMY1l3nmqkXmXiV04A3l4AwA12zBeUuXeUL1uXdgjkSkv0ZBNS3LeTv3tlPL90kHORLliSqz3PHmpAChhW3B-UvKuXl122SmAQAhZCVFk3MCVFxXFPqVjy7AArMC7GAql1-K4IgrwLBEYGgp-Nj3zHgvzGQtAp9E9kqFkxwukGGhArMVjzqjoBLiUEdReFIvItyJ-CIqCF-JpIgppLqXosCF-P1HeA4WcDoGDE4reG4oYEaDYvMF-LKPgvMEd1AEFEMBDXN1aNopErMF-IWQkrMCkpkpE3kuWUUpgtjxkxeDSA0tktDXmTE2krMCUufh9GADUuOQdBeE0rkvmTAF0pQp9AAFI7LjKtL5kPKLLQArLfzLcJKfLnL0yZK9KfQABCdEUKhy6Sky+S2K1FSK9yu4FkKI7yhKpy0y0AGIswNKrCjKqI1ENSsKvK0qwqoK2PYNbKxypK+ZUNaqqKjK4NMqwywICq+S9qlq9KtI6Kuy+SwIOSswaK8wXXYBbkN8iIV5K8ipSIoNdBf1JUF4d8nc+MWWGa85bcgveMMUZwAAKw9x22WqLnpTsDktgtmu3Nk2fIZTiwpXWr2oJFliwG2rmquXhTyFNgswAl-O3U1Vk0Bt3Ssu+3Ytj0gGIB3TkEorMChphv1jBvBuUtj34skFgEgAgvRsxuRpRo4tggEoAFF4L0aia8bwbfyAA5JQKmuymmqmyMhLaakzBFZ6762sRa1EM6yyI5OS6Q-w9m1mn6ra1mvAm6t5JtdKWsD1Jaxof1Pm0NZ8uLcWnayWjm2LBgnSB1EtNW+a6FEgXZH5fMDgx5Ypa8lTdVRgYpd0w6pQeYJTCIJdSjZlZ6m8nIQMe8hlAcxoQeE2voIIdUhaEMyBD03M60U2zQ-PME8lSlALIlVQZ6hahol4CU1Wz6z4DWkQimwIeO7oJOtuagI6k61O77IWp8H6+QnO8wMg3WLMsO6ggwbcHIBFWuqIIOEwmYGOxIWbLYKBbuiOhguXBchXFeDgdebgTADcxaWgcIJQCgSQWGMIKifURgUOUCSgcCHIU2z2FwNwAKDere0c4IpEyeIiHEo8TeiCY+1olkSQGYszMMLog+y+o+gcdBX+F+sCa+v2HSaofUAmGlT3G0Go60h5ee0gJwK2Dae4XZUgUgJKhgColpeB9MlkFop+dBvzYCdYioiB6un8dB2mMMAQxmEgAyC6EBu0VladVpcho8C6X4AASEVMfpqNvrSNaP-pEguiAZ439ToeIAoawJobuSaP0BZEPzsHoeFk+CmBYEjR3stmtkHhPuAjoJZA-odmSlUdADhBYVPQ+N7FUeKB8DYnfyIhMdABSuAgfi5HQSfgInYl0YcJZDsbN3lWUAXqXoJEkFXtDlUdt3nUTEmKblnF0f0dxSJGlC5XhyqRMZ9Mwc4YqJkbQPkacezj2UUbEbaNMRaIfuONsmQVifUniZ+Ryao3ydaNSbkcUAUYCiyYSdWMqYkaCZqbSLQqNqjRqa+Dqd6NKDkXcMCalVe2EbSLgpeAAg7FUbjMsfKf8J6fkeCLsXCBqMUYceAgAHIH7B5b7tmtHtiljFGpHRmGHPhYZGAfILnNLQD4plG1ASQ96IQOxrmCG6lfy8gWhmijVmjxkgxixTRFB-mb8rZOR36Rn2mXnFhLn-DexXmXhFm+mtHIX2J4XXh8I0WenXn1CFo7aHbSAnaCdZVnRg5xJYCnQlGOFQmqtJw1GPnqW4IXgSn+p8haWfa0h-U8WTQCXKAl1AMS1SXTQunPUKX+mWtomlhaWNnfy7GQx9DEE7JpRaXlm3dNAcXdRrm6xZkHQBX4ZTRyXNBYU9MqWG4wnWXRWSMuS24-TcmghCmkEYDmWO5zXDWxyZ71sSW9WLp6Q9kLN-VNWZlzgdXPXxJhWDW5TcDk6MI0G4KNn3COwQ3AWfWfksTzGVwiJE3vWOEU3wWBna8BYac0G0K43mAvXrg9ktGo2Gw0GuXHbeWiXV9NGRn3Cq3sh2WghOX7buXCX+XM2w3lWVWW3rW6TxbBWs29k6z2Tj1QUJXw2jMZ9Y9ZWBR5WimYDlX2sGyytb0nR2sg7dRrVJWKWLDz93CpWRmOwz282aSDWSzzUplVWWXXhBQbVzyFon86NaXj3NzELw2NnwCKWtHr3Jxb3xl72xc3pZ6VZA9GY-QgWqJyBqBU5jQWg2huhP3bnqQD3w20HYPGAgwTmkQfXAW8OqILF0PWGOx32RXXXtw8B-jr5fHzhr61q81ClyyrhyA55R7Fo3gi4phQAwZjkLoFowY1c1cCENk-Rg5VAjRM9NgNBGAWgwGcI7nJQ7SfcjUlPEnXs2gd0uggnCZGpZOHJ2IOwNPFPSYxW1EzPsFNPXC+jqy6BpPjP0WiJzOtO9jcYNFsRr7VBYVJsHsZgmOcg-r9Lgv5AZM6zXUDjIEZP5ADYeAXhZPJAXpGz3XTMkVnBwuLMpPSA4uEvZm1Ajsgu363WzBjWQaeNMvwvMMuyt0iUNVd08SzAp20vAgf13OcvTRnP4uUvCv7hCAsvSvmugh9dKvuh3Omaggn5xvITXO1BJuRvmN8SDSC5m08P8vJBEvQBkv+BnjFgqSf1quj6uunO8vkvtvexiufPt6yuQVgnOMGu9PkRBuauqT5irBsQiJrvwv23hp3CAILu1qf3dv9vRy-u8UrvAubvj6lvN2KUOvbPFPTueuDY9v5uBuhuf67v0gZ3mgnvNUxUkeWhauggmHGgQyvvMJXuj7jFyey6f33DQfdTV83nKUuIafsfuR6eWv4fmVKfex3OweceVukyJzVv7ZqLYJSB4iWAqTzIi2YvNAm28VQElffNf42BXHIgLo8OVfKUn4degWvt+jUiWAQOLVQB6P0sqzwvWSWvWGpfyAZfXyxbretMYe-XvPwu-OBgf0OOLN3fGOj6OmletI3zWPUUg-4OQ+WQje9fuRGDvPnBIg6pohujv6chhev2EKCDD7mOWeDuTmU+e1-98+chztU+ajTaOwS+0+fhi+q+y-xxK-S+fgc-ew6-q-G+2+Lb2yYDy+RGZCc-cuM+r6s+mAxSTmo7uhB+wemXFCc-3CIcu-0+5-C-xCF+p+93+IK69BN6I1gPJ+SQEXSyFt89QJJBeOiUchGBYU-7-iSkj38zjXQI522u1tTNV+oghsm+h5Ih++SrJ0Fv1lIjdcCIQcbq33r5TcQEr2MsvSEv7X8Wgt-G9sf3EJzcNAmgHyN-2Qzf8I29ZT9NOwe6nsLW+ZXAu4UwE+QL2orF4JQIxIDs4ehAj-ip2pCTglu4vFgUCDoG0t1W-IUMLkBYAmstCbQQ8IKCq7bcRBFFa4HQFS4Ydz8HxOgIdA2aSCxB9IGQX5y0bxtpYh0CHupUQbhABBQg-PCoKq4GDiQVPe4DoLTovYTBagl6DXkiBTAXcVyWwZYKoqHopBdgylgoKUEjNbBoQfgBoNsS59nm2gt5n5y0qODFAzgz4K4P8HqC2eP4CIXJX4HmCuIh0WePcTMGCD8Ah4KEOdS+TKdK4uQ2CISkiiWBiQNoQwQrUNoChf6jMEoeQDKGpCFGLQ7wXaTaEbM6CWjKIdbVyAuCPBqgl2qYjhLZCc6yQ0NI0OaHZCqhaQ6eBULl6ZC2cDoK7NeQlDnRbgqYdfsJCAjD8scYtb-r-174ACxCY-WnmgLrJjcCeu6KAdXzNwz8zhBfHYSAPQGmJf4oIJoQOj8bS94iOA0VHgKoqwQXhnnBCp8NsDfDne8RD4YCN2GL85BgsFsq43wCrgugLRDZiyGRGqhURgHa6I1GhGgAdhhgDZtyTMA9CpAb-D4USJGYz81hUtTYdaHxHPCLhZI3RAQUpF6N4QpyH9oSLjalCvhnFGXhiUpG6DhovYQkSKJ-AfDvoEIwUQm1giJCXsHYcUdYMpQyEVWGIlEV814FiAQSLderDMJNzwiQhUlCYa1mkAgiZe2CA0BwhUy4cTwdo8YC8E1b4jNWewjYD+gFECUlUKKUEdKM9GqBnRQIxznB1oCl0UaeKV0YoSZyXhPRIMJFMqjQaYicgXzLoT5mCG6irA+ohYR4R+FxiJU2o6RmgVT6OhE68onPtDFWbp85RfcHfmIA47lCBB+XbbrJ1kHuixaO2UABxybFJd4uw+VhhAOuFVdDAT8OgtgzoAFjxADXHVsl3FClj0wbY9bLJwszVjLhJeN-rJ2HG2MWiv8WTs3SsCgB0iAACSJqSAAAguAHABE0AASukUgAAB5KmsgFRR0EtaDQqwDLw4TEdXqc476MCJz6EAixU4n8QOjUb1jixDoctl+PCxSiQJWjesSoE+hQSTMJzeCZUE-G69vxptI8SePPGXibx94x8ShM+7gTIJGE6CXyNsCm16xLQk5FOMkAzj9oMEyiQCzIm0AFkLQ6DvbB3REdWJ2mJicQD-FGiWh1yPIf6k8w7CnAImL7JaJTjJYHRs4CSeb19EDpgRug4YpCPQkhi+JFEgSRcJCgt0LAoLZNCQH46ooAADK+PtgJAJku0IyUUkbge9KA3QPXEZI0AmTFAFmRgK5PP78cKiPAaMaxC8mQQ3J6+RgCcwhzWSxwmfE-K-QL5BTjQDLKiE5NNruE3GsmdwvFJNY5JfGTk-roPwHATjLA-8KKeP2nAW0xUoLfzmLUyn2SzW15FoLQRGK2TIItUxyc5IIw6QDBnwCZCoFDjkcb0a4o8NhwpRPwIpTUwfqgJqmJS0IyUilIMx-aXs1E7hLqZIB6nSBQ41A11hKJrqWBupvU+gaKyDK9Id2HAyuCtLWmhx4pIItoDaiJRSBZwR-dfm6POKMxzp+08Qml1f5DTRyzA+7rAVxFqB1+P0sgaRjAJeT5AYAj9MRhBlNkDhRw+vn31OFD8oxmWK4bp0J7OAYBjpZEUemsG-w3p6024c31XznZ8BjQYYEw1a4wzK4XIggh9MyxPwCZG0xAncj8CvBdpq0-aeASs6qoCAx2CGUxlOkyQmZ4bCcTSMOQghUCZoXzuv33iCSFxX-P-vDPdInDmCT0lGbj2OSHCbG43eXpeBIB1EZRvwv-rgL-7+EVRgQOWRcIDr7oGyX0iEBGSULPY8AYmV2d+gOFKzUUOA1WQPz1LWz0EMkbWRiFm51IZuxAQ2f6Ln4WzjCJs-4WbLp5MN6eMhOaW7iuyPCJ+VstQrbKYEnobpgWe6fkCtnqyxSEhF2W7IGmsQNRWIrUdnOhkBzLwDw2WX7Kznjk2MC0A2UsSNmJ1tumgdHs9IeTckkRmo-XtN2AhJjsRwQwzmoE0A9yXoxIzAiyIpGHRbWsA8WRKG0CuhfOM8tan3MUKLyhpvcqkY6TXmSzN5FfXuWtW27D9QAZcsTCyPcIzzYQnIqQA-LnkQtw5nc-0b2EfnbSgg38l6L-MCAdyDY-ohNlYPDE-gE2AC6OXcUULqjx5NctubuHCigtIQQOSlpHCPI1wgcqUUFq+2Oi0ADwAExiFdJz4BQrpNeTKRYlIVGj8KGJQXpVJ5nmBQEseFQD1MFA5pwZ9jYIQFAYW3cQROtESPFIqkT9AxYI3SZGLFL9YxaB4I3M1KAybBipg-KQJEBEXiEJsYtYBXmITHAZcUWi-0WIt-EWzHwRC8XC7hUxXTAFaQSRaANYZaLvRiY4eamMqCAdC05zaFj5CoUZ51A5i+RWzwzEIcVMNE+xdOAlT6T9x2EyQFeKGQAAZImk+LNGWSFo6kj8fFJMj8T5ZuBACZ8HAnATKJGzMCVOOuBpK8lxAFVqhJmAlKa8FS+RSZCwnHiolsS+JURMVgkT6QJS-iabWEl51hhdSaiTMPAn0Teus4zpVYqCAsh4p7E7IVyF0H9LsxaU3BTkCmULCuQAirZLUtKWZKHkwkxoWJLxTxStKX2QRfIrUXA9xFqkzzCkq9Ggt0lOk4ESCLNBxBII1zAMR4t0TnK0BDY4kF0uyEiTYIey0oIPNDQUpulxcYQYMJ4yZZuJmkkjiZleWKBnkdyi4RKNNE60SlhilSXpIHLCkxhYstxYvQ8XwrLmLwr5XL2kXrZLowgCzF2Kw5osWQoGAlQivt40z8e6Mm4ZSoZRm5Hlt5RlZcyJVyccVCwn0r-A5X5AqO-K-woKoEEgiQg4EkPuyNoX6ZKxMQFcaY2BBv9VVE4sIEamNBISVMAA3JfJLKWzo8eFtNoA6BD5GrSesMxcfFwsyDKGJLSPVXdx-SQN7ciQGFb4xaFy0EscyxsS519B6rllAg5lYEE0B5p8uLErScGuJBJ46kQzPVS8FNFuqipisI1aSvwFUyFSdsYOgh0sDyK++uSmhQrLZo6SLMJimiFUiukEZjWcqreTpOtVBAf0S41FA6uGWMSG1I3V1TYFTUFrvV3NZ7H6sqEBrJlHEu7uGruAjrQWMalgHGtMQZTQWSapKimo9WZS2hk7Pns6iQVVgUOBao1J6sYhWryxKCivkeo2aEcTlVqrRheqNVOreJNeG9XqrvVaTYU2q-NemoNVASrVGi9bNkB4laSOxkS3CdeNvEPjwABGIDReJA0ESElCa3iUuq0p-qD1JmVcZXPASSNs8A8XdcIuLXzE81nwTKZ+vNVqK6yP6JDWkosyRLolcS8DRsCo1NLYNP7eKQhrkrkablqG6kCyHQ0TiF0FBJtIdQ+Rep2h1sITScxwyPgBNIgA1kUO7hocnQpDe2Hlgk34hqOMmsAvhFE2YbkFddZdKRUk3xhpNwmtQJppzVd42yem-EIZrIWIF5NlC6cKFgkD6aP2tmjvhpts0nMEgUQDKPSBeVCbrN2cEzdPQk3UBVFymkQNOilXfLj1Omg2GFoM1xbYs88jkKSq0bBbVFSm2gE5o6TEAstCohlS8vE2ZbLNCWrElgB57fZItiw7cBOrSKfNmi+WjxXvky0haylSS3UHppa2qALN4WklW0Oi1kkoIjmj5N1ooD2dHS3Q4Ib0JiHqZRBkKvFA1oRURYRYI2u4CttTaVbxS5WvQVpQ63pb7Ng2ugFlq61Dbwtm257BttjA1auNjAerfiuuayZdtrW6ep5o2h7JetYwnPjstEnnVLliI4NGVp-B0KFtfKl7Z7l5U+QJ2Yy4aAEqzGNi1RBCLbbAJh1BKZhycxOdgzoJ080gG23EFdr+a3b0UCgcHbJlB3qLp6jobBHmkPaGsc+Z2I-m3Q7q9QB6TdWsXYFrY8s+WVOFNu9qFXnhBSvy3ZT9tMRAqTEFOyBhGh17PgqAG0CUtMxzYvCxlCRJliZWsHXtZgYYiBcMlGSgdOCsEXUkhSWSlEyiZW9HYEBZDs6e2TSVZdp2R2kqRywqs0e2xx08grtFu+toBgJ3hp3FTKl4G7s53jhE+HouZAdpooWYAAnAMB0jUVRBduooVHokA0VSV15KYJCBeDGqX+pqhQZqDS6tcT0l1DEGZPe7mBo9FFVQJs02asg0AVe0NVDI5KmIS9VA6WDWLqQN6k9L8bgr8vKj+E7AyyDvILPHKBBW9wk9vbA3UQ6sG9Ai6QOws4UfxkwOqnndKpz6VbcdEa30FPoooz6aYwEYHXDTYUb6vg4MxPjpEzbg7aJE6+nIoEyBmgka5K0zJdAswBtBQ2rXVmSzGaRAJ1t9PoKsprWgo-ojAK-bDWsYYgWQZoMIkGCpIN60iSyZZJm1ADXNJxH+u1KpX6Arzi9Ce0QaoCxaErLoW4UAFTOW7ldQU6ahDkhw4QoceMOBqkhesyn7rb1j63iSNjGyUGRuJ6P-QAf1hAHUUIBrEXoE-DUzIDLIaA4bqNWFJyDDUoQ0snLB4HN2BB6Q0wPzICGJDyyeA96IYBKHkDI3IfTMJBW-KAVnKP7YCSwOLaVRkun6gfyWCXQFdxydXQQCSpnw2eO+gMSGBqJ6iUd2YugiRF3bbqxAOGPIHQAmRuB39eaKqRSof1vLA2wezNqWNkZn7WOTRL-fgObIcgOxjhywwKBcOZi3DjYjwxxvkF2kxCY2x+Oo2oDqJIR7DHYUoE0ZMM1UQjM5qftMP78NoaR6QpgVTZK7bDWlewzxvJHfTn+-YnNIeXahH80pIUE-S8s2Z2jVAmugADpYBhFedL4Ih3wBGoFGmO6Sg1TuSUoK9wENg6gTBYDAxjhKiY1+KmMQLZj8xsFfnhIPLHGACjdwoQHpz+E5O9xl4AAC8VaoAWY0EAWPXGVj7RuTu8c2MsptjIES-Xsa0j08RgbZPwwEYhATHLj9IX47cY0qTNWFzRZwM0VIDNEvm-YTZtyDwCHHFt8J26YiaWN-GcqqJn0JUdjiYnsTqykE+WCAA')">function is_var(exp) {
    return is_tagged_list(exp, "?");
}
</pre></div></div></td></tr></table>
    </p></div>
    
    <div class='permalink'>
<a name='p56' class='permalink'></a><p>
      Unique variables are constructed during rule application
      (in section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) by means of
      the following
      
	<span style="color:green">procedures.</span>
	<span style="color:blue">functions.</span>
      
      The unique identifier for a rule application is a number, which is
      incremented each time a rule is applied.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define rule-counter 0)

(define (new-rule-application-id)
  (set! rule-counter (+ 1 rule-counter))
  rule-counter)

(define (make-new-variable var rule-application-id)
  (cons '? (cons rule-application-id (cdr var))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHRwATUVJpSXdhYiG4hKSi4rFIuYWllZo1mI2tMf0t7emnSTo6SgBzYhytdZGrouCJcLuH59e5He+R0egm23MN0cKmIs1cxw8pw+kxS3z2MLhq0ReQSF3BEKhS0as0kjlEAA9VJZ7sdgZsUclgixJOVRI5BBRaUSGiTHKpltkrKJGHQ6T5tAyIVKQtkeaSmrNamLRmDPikoXRRABHdpkXLDEFqxm7cKanWaUgdbW6y01cjyUSA0VIw14o0BKENUqkcrK93+NHhL3UH3Kt2S-xQyzWWx2h2Av0RnY-FrRmzEOMKBMu3GqpNpDKOSSqVQuUjyWk5gpS4LF0tKlNyBSKDmrMmU6kPWh+t0S6VFFx0cg9PqRdqi5aPdtU0Q02jOnHi1X+yFiRjMRhh0AAIgAqsRysRqAB3Ox1LSScmgAC015Nsgd24MAG4sABfAQkTkiOvSJWCXRJzoIxTH8Sh8FARQZipSgWHhcQ2VbWlBAMECGTTWxQF-Wo+UYWD4MQr9VhbEhAMYR5gNffw3zEaRNXsCCoKcJESFmdkiOQkhUJMBkYSHUBqUIaRyFAABee8myUJDaEcBV-y4vt+yUgIKQUWEyX0ShmBeBJFHzZSpWkjN+XcHI3FFFDFIM6ysPIugrJs5SjI08QtNoBMUNQqjkgwuwZl81ookUQThJXIIBKsdNAvaaFaDUoEQsSfTV1Y0R8EoeJZm80AaNEOjRB4lJhQ3EjiF0PcDyPU8CA4kRyFqVQCtvLCSz-J9so-D8sCMkIHGHXpotnRQKVUezVUKgJfNAZlVEUScxIAPgkh05vI3sxEpSj30-IRjnvWLYXhWhsQNXNxjQybIswmZyEYQhyAACwbMcVoxI6shaGc4XLZsqxVc6wtAQMH1+2hMQRFo+OtXS-oMcNpXSRtXrB97fmE4UsioBCe1VV8up6lMamhvVFCHFhyDG86JvMcDIJmR1VHqonzRJsmKe40Ciim1L0sy7Kcto+jaaY5w7mHId410tngIu6UpqR5t0pFcX7SzKXyHJ4DtHO-ncvy6nkj4kSlaHO1ycGsTQGShWpK002JbVt5pbhnWI2F-yrozMdbeVs3h29jnkqmk2VfN73+YCPX6M5qV5b2M0bSUZLLvt1XHQSUVne1y4I+oyZOp2787EHfq+hIP4nkyxQBlnWWLE96bi0URxFp3AAqcuaWeURZjb7ddBrrb8dqs9ywzah7v2RYBVWBdTp8A33acBOLX1M5Ejrw35xE6XLZXvVM3TrQ5-Xl8Iym+nYiZ-fLVJjX2eTnZiCE6RH4LOtNFmUmx56Sf5mno484Wx2xVpLJ298ZYOUcuYOgP8J7Dn-ocCsQC35KWZKyZmidgqzlAY7Cmd9NaoS8vnQWBUY4+QbjMRBM9KyLiSv2EofVFDUMARmToTRpB+kBgWZ+0hpC622t1Ee+1gyhj+m6A2RtQByUtqI8oslqCKj9PzKR3oZAMHErAyQ48-4HBoUAuSZ8AhSM7v8TKGjeqmwGqYyuPdFBqLokY-wcc2grTkmMckak2LjDcjpN4Dj7KoOgVKGx3dZhjSCcE7YAM8aF1WPtAKDsj5AnEeNchU10FsgCt7PSBkbbYJjBmEanZaHz3+pcM+w9doiEJhXAEMM6ESPIVI72lt8l1L8f7NobJimzi7CcOhcNcaTA6TUeoHDBpzS7p0sZXROGw10N7N0-Mprh0EQTPYLDkEDLKU0kZ0zZkTJyVsts7Dmg9gjPkk5xxBrThKd2BZqooH+Fdl1PARkGD4GYGwKAcBEDIHQHwAATHEvaMxQjChOqfA2F9MiEEaMKP05gAA+yL9IzCHHhYgjwkWgFReipwTRmiiG0Ui-F0oZi8PmYMgI5KpQzB5hlOxsNYk9Qhe4FoOTYYmACJMKaf1YlCOqX5Jw9pHiPB7s4JhbNdCPTZGKzesK+SSC0gQxIoAABkGrQAPRJV-NmRhRJGtAHKxwYrBU9UpYKJF6TKGiskOKyVJctzbhru1baPUzktAGjXG1fKG66skF-e0lBqVlOIVUoujcMEdITJijKjwPEzjnMQRVDdnXbljQkfuoB43YqTfc1NrLhEzCzW8bltrCmFjFRKtizrUmZumYCd1H4eplvFuM85Fb-VVsDcGlVnC+2KBDWG0+RDi3Cqwk2hItzekpr9ZdXterh0DpXaGrhlTQUiCoXo1haq01Vpug62tUqhxqvKkbbRCDd3bKfHitFFL7WOrrdK++5UpB4UkF6Nk1zaB3vxa24Rv62Gds4Qa6mU0h0jsUFB1dBrx0eqAzets3s7l9NpOBmOkHl3Qeg-BzdQqo3gtlLyOd-T90QbtWa49TrX3k3KtyUjHZ0N-s3WykjpITKCnMhRrDDcZqk1AyOfogpdCwfXfhidUbGPykUUqTDhRsNBrXZwvD98EORviR7Qph843qco4ep9J7nUyp3IktOza2PCICmRjD+m+NLuU2p8mEat0ioOuDY6YH7M9vTNWmjL6z2me3G9LELRbOsfvQS6jz7T1AmC6FiGuns1WcnYlrzuEe6UB+h0Hzzj019UcJYfA57QA8FS1G9LH0Dr73i3l+uVaS5FbSqVoFFX4lVbRm4TGlBsYKfy41wrxXSsAGYCOWuXsTW+-WGt+aPbFkzb6dw31EC2wj8TMmYNXmq4CBm-MZpWzm52Un4kreS8fXj-hFMBpw3B9T7W9oh3O3Vwhe3MJDuO4hyd1JcHJMzhAuuU1nPsxO2CpwDNr5Tdy69hzc24V8J2w97dTglipzAS99mb33NUpU4j8bJbCXel9DN2b10jO0aC0t7cci1s9TkQopRJOIqOf7RJ+7FqCdFlatl7ZvHruGZi8ZujoJM3c5+scWnwjnIRbWCTpTrPvMuaR3YScaGU3-Zc1jnVt313A40zgd5I9PnfPYH8rggK0Ajbc9Wu6j0lTkgPXDhRxLSUO6ttKYIV4jXiVuu0d3UpEbrmoJuck5UiXSBJXYEaCwFCzF0JYS0vWe6pDW+tvam2jKKC42ZYUY13FpN85hDNLF1JGX7qg7PQoRS6Hz68tPyPYrDFYuxYVLZHdk8FxToE+AL1eGb2X5XNVhXKtMlXiy7fi5DZaz3srg-nJyTbzCgrpthsz7a6DkQ0vNLaQ8hPyxw5V+6DGxzydm3sndM8FoTYS-Btnu3OfqIOaYTxUH9pqKOSA436dzWrvigllmc9kGkl2+0ANQ2f10k-0rT83E04QDnx0nQtFKAeGxRcl8QTCpigMwmgzrx6iey+WtQwMLzsCHRwOEUQOoE1Fkn-FHyaV5UXT835FVXwJyGWW2ikVNQhxwh8R3wSEtipVfHrzsAz1H0EzmTGm9l20wLsEYM3C9XEO6SHkEKYEFEOWaAslHxAjoIG2gOXWYNEDn1H0GnUMFE0Ku3oKwNXT0PgKjVUk-lQJ4KdlA3kLohrzuB6UuC-yL00EeEelEI4V229xCG8N8MiGAn0mCBkMUGEOtTkMWXUSGQaDcJckBnSAj2xV8LkKMAAB4gj0iHo-94jk5vgg9NxtwAAVMoRuYgWoWyR4eFDOXNKoUsSgZPHcUAAAan92gTzUeHAnkycKME6JzW3A6K6Mch6L6IKMcW4QLGKmD0UHKMqPwFEGPFqPqOPkaO51aJGM6MiX8AmPwH6LEMGJ3HKlGL2JgVugTUmNCNcyUNKAqCqFUM5Qvy9T2QCAJn0GcDKFmkIO2E9THj8LULiMcQNm2CVRx0yL2O+C+IeNmguJeTICQITXsPcl0gBj2PSC9TEmNQ+wGIROCCHVuIRKxMBLwwGNlVXVuKcRSA-G2GFnGBxJ911TJCvi4O3zRIXnIWiRKKBOkHKn3CaFYlADdRpOSCjjIWSikT0MtjwJENdn7Cmi0TWD0OeOMJyDhgRP8FVIkJbA0LFMjnziILBG+OoF+JznWWEVGS9UmTeNAEiHeO1LINhJ+OGg8O5KdMnWVL5OcMkKDio0hPxOshhPEFNPhOCXIOQKnG4M5KBAxOsixNAyZO12UyhMcmCE1GHCJPURBJmOSFJNJXJOOMpPXWpNznMBojdkYkZMCI4LZNRM6U3h5JKjtIqiFNhBFMFBvDvHbXdW2AlLBKKGlNH1lJAXZHlItMVIbm9NVLkL1JMOeUch1IUPnI1INLzkNPMKjxdLNLdMMEFUN2FWN1YFN04ABV4AwGt2gjwjgixkIlbxQi13myFzPQAh3BglvKT2AKjQ-IIkcFglLGSV50fNh3ex104U8kFSkV-LvJbyLgsWdUlAzT7RzX8D7SUk1IHCYW3BHVQvMBHQwsXIzRkLwtABkMIqQuwpLlIpLgoqwrv0pRfhzUYr4SlEwpSAzThDoFLEkFqBzS4p4pqIhHYuSAzTmMYDwvEv7BEoCAzWZEeiLAaDoH7nkoekUoYG2Bkv8AzXaNIv8EUFD1AFqENSWivE6KEq0vMAzWvD0vMAMt0GMtbivDvAsqIuwr7l0BSHsqMpMtACvDbiMvMEsv3wWOAFssgkMsctElMtADAFcsorvwAFJwrvKoqYrErArQBgqM1vc9LUrfKvdjVjK3K78ABCI1PKyKgq0Acq8SYqhKoEbcLIlKqqpy0AHI8weq+ixqrI0SWy-Ktq3qzq7K7ChaFqhy6qpaYakqxqhaPqzygIAa6Kvy0AOa6ahqhY0q8KlagIZa8wUq-wB3SUM+aCm8v85yOQsSCMATPtXQGCpPOC2eE67eMis62C5yagBoAAKxjw0WuqbkEFbmIreq-LE3AtKiIUXOSHuoQkeuOC2iwFOvwlgsvQ2PEmdQzUZUyhzSxp7mCqiVEuwsgGIF5lcD4s8uJtJvqnxoJu0uwtUscFgEgDwoZqZpptppCu3AZoAFFSKeb2baaM0AA5SQIW8KkWoWvMxyZ6+gESGGtkVGjtMQq67YATCCZaodfAIZeWmre0Y+GW-iHWxWowlWooNW1uGAtvbWkG2GxWhGttVqHCHWzPN8ycEuPfbCf8jMVKRgP8FEr6yQKQWBPCRmXJAyHWgCiPQEYChSVBN2vqF8ZIS0r0yKaoGMzpRQPfWw9SdOhMN+D+WELPG2+8ouNU3QLUo27eK9NUgWgIAur+Z2keHob6368ugmyu2W6uiQ2u-wOsxmdk1yBwxIQVCPESU1R4UoRI8LDkzpPeVOhshMM+XAMAD5JgE835M87gTAa3Z-dwCgRwc0IcG5ZkRgX0D9SgL9CPPfRihFTcS28+y+-Q1CCMQk8G6DB+79IhUY7cRwHY3NK47FSY++5YC+z+5+64FMhXAoz9MBjfOwGIZkImLjWPO+LFCiD20gUgeFISFaUmQCTB3yhgTouaTB5M7cEY4IchgsYY0YyQAhqG5Sch3QHoxQnqEgEyTUVBhNMiCiHhxwdh5YTUECAASGNJ6O-oWNGIQdJE1GQbsQE1VwEZFFEB4Zlm-oMG3DgdACUcoLcBYFWkeGvvh04UnH9EoapW3AjEJCYVMc1Q1XzBFhx2g1MaMFRUgdxxcZquNW3ECCfBfsgiHVscCJ8csY91AF3roeHEPrbBPt9FMf0nSBFl-B52Ilsa1WTitUGGl2Y3nRccBkockc6J0flWFH0cCbsgMa-t2KUhGL-ptJ9WtWyeTXI08eqf7FqdGOKbNVKZg3BqAkqaqeTifFCYD20eIA4aUG3Gop4d0C6b0fAamELEiPie2GCGKYWJIt0GdXKcMZLJMfIlQlmfGcEZKcYBYH9A1AAZxRWa+B3AAHI-75ohiHmrH-60HJjTGtGunzRGAlQfnHKpDCwccchb7enlN-me6lIM1tFZhhjg9hijxyBhi-hhQkXyo7oI8nwFnUQxmJmwWv4IW9nFBCXcWTnumzmLnSXlH8XiX2hfmhloMSXvm6XjKT8o0A6g7SAQ6ukohcIQw+lhpKQjGudmjxduwRozHObkmxXiAc0mnC1BXVBIXG5ZoOW7guXKBGZbkqR+X7hVHFWiFXnMmlAJX-GM1fHmGhMGnBgJXKWRo2X4l-mxkLxyQ+XLR7gDXF5GJS0xdedbXBzpSm7sTxIIx6m+hfV5WWM1hbXc5TrdXNQ2IgJLYBMnXzx7RXWdX3Wxp+mY30IG4LqkzgmSL-HIih1M2+lJUgIhlLby37hK27JDWIGC25kyHqKS3mAs362KJXnm2OEyG1Xg7NWeX2gRmcXIje3mgGGUgBMB2NWtXUNa3s2KnbXKXx2g3QM7qO2K3E2G3dZSEGI6ZMgCChWmzmd9tsKLXc0rXw3j2lWxSByPT5ZKQBFNM9p6pGpPXAXoIVVNxTXVn3G-3FnxLFWBTKoTwo8cn+kTUGpVtB9wCLsJXPD3NIjAOcXsChXXngORpQPDxwONpmm9p4OKZU82063GA2xyBqBZI2Qg15gv5EPAX32TWhWyGUXyPNGvso1aOiwyO2wF8GPjSh0iPRRc23kwAzTIUKPH67r7osIOyJVyBl6162BSAHpiw3BQARtIJNQo0RtLdLdfAlC-gQxFBWRah48Fhg9wlhWccE8rOwiwncbZgEmxAdQPAzOwblMh07PGBrPsWax3GfPrPk50hjPSBTPRBzOTVV0guZYHX08WR5VH7M7JEXqHFqNv1LYM0257Rv0+4xS2UyhKhZozPHAeBdBSu2tBzzApE6BCAGhcuI9LYwuIucJyvov110vGun7yyD2RYnPSZ6vuvA4pyq0nPeuH2pSXqgvmv7gTPKuiW6uGvH7iFRuncBugupbwonPMSOvOFNuJujSPiS16BUXWuyuKvIvHAgUQT2hT2auXqlvuvZu6B5urv2voMuuVv1yaZvWnABunvvvqvkhMzqNOuQxwhuup3pRIjnVSv2vIiFv7TulDmtSAhPuIeWhhvVuihJv+wpEZvxIWuke8MhvvveuAgl5+HYQ0omUv5NvT3hHthQfSflvv0JQmf26f2s9uekeA5ofoFWfsez5OeKz92PSpQWeYvLPfPbv9CKeNzcejvPSo0BL5BVOoj7uz3MI2BgmHjivR2GEQgiuqg350hdfvGMpNR2OglggrfUWglA8SoWAcOqo7AJPWFuzovv0+zFfSc7A1fyBVOoKXqPftkMumvxJNtuvM7XwpEFPLYw+pPv0Fj9eqh3VoLZPxIk+bkY-tx7f2Ol6epNsGgMo4RsVoHQGI85e99IiP7q-keohB9S-DoUD6+lAW-y-DGkP3HO+E1m+y+USck+-sU99oMR-DGtGJ+vbxzrV2-dArCe+Wv5-lCNStHs6v4V--9F-AXIiS-B+K+t+UeF+ND4uG8P1P3jTnzf9sOdxfHrCtNO6tAL7mxb+9Cjn2y2IP1HA1PYQI9GBN4PUFQKoAbAscJefXGYBf39bgDjEL1CfrIgP5TgMos-G1pSBP4mEFe-vQsANwn5bcAwYzT-q0EYA-8YW--EDqv30K7dgBSoafsP0QE49aS+7KnihxPbA8tyZFbntQJpa2tdAXA9Dnex+4Cw8o0cf0lWntYRg6SfvbXvAzNKgClWZ-M8LdBJQsARWdheYEsFqB2I6A7XdQbxUlR0AquX7YxqTHKz+NdBmgtiAYMzqvNS2y6bQcqxS7LVMUyg1QepHMFaClB2QMHmBnKwC8OaRQdwZYLayv4r8vtElLDUCEmDdAgQmoIYKv7GD7BZgvKHoKCHWCIGtg1Mr4LfiOCloGUNwBHkDo-pkhFg5hMUP0FApM6fg-sDkLeYuC8M5WO4p6k8EqD8ASwDWADVIi5o98rQ+QGpDtCWBsgqDFwWrU6FxdOO8SHoeQD6HODBhMw85j3xYreYBh5zfxlSiNahCChEQsoV-GSgfZmhtdGoZMOmHNChhXgtTMsP1xKEN+-5PoHxD6gQEQG0nUACSFBA79JgUieAeJGn7IC9ClfJ4VYRWRUYcB9A8IhtC8R-D2ezw+QOgI1Iud+QUwjGI4Hkoa9aBF+XAdEOhEUCH+e0eEd1iRHq98i8IjEa8I0I98ZSwTfAAOh7gjF-G24SkaGmpGYc3OnCIkVCPVT+MZS5gI1k4Av7wijA-ja4eBBqz3C3grIl4TCMoEQNv2qqPkXYyWbc8XhkrXEYiORH5FoMfIqoVKGgyKjNREIZUbGFVE0sNRaPAyEOh1EminI+pV5nSKpGwsFBuaBNKPRkhzCDKtfbnoZRqFUpsRIgVTgsHkTaIeO1vVJrx2OC6AnWrIp1m8NgGy1G4QfNSolEtj6iMwho8MZiLY6rA26-gpSJGNP7GlVRzWOrsJDIb0iI8sLVYS-FeZRknRbCE4fmMSjei7AhASgmXwpA891URg-oQmiNHyBGhwiBTv0OUGtd2uZnOIdGP4gWIFOQ4y7rUHXzxDqe8wXmFoKMDBAqUBYOgPaJbGutSuvQNsZvCkRmdLYZbHsYCIFwX8zOy4u-iMXSBmcR6VgUAGUQAAS3NRwAAEFwA4AbmgACUyikAAAPJC1kA4kfgtbmWJxjAxqLeGm2O6wSi98TYtkJuKgkYxJW-YzcZWxDFAIkxlLfsTIBaDpj4aWjbCXwnAnkdIJe+R8c+LfEfjvxf4gCQRKsBe15g5INCUGMgmYSe+-Yl0ZuMcDbiSsmE8qHhNoDXg5hJHKXGX2ImzxEJtgGCT3zmHsg2hAmR+C8PhSLQgkvon0EWAzACS1gSkl3hwIRFSSsRVQ0Cap3EmsTehGMGCQ2Iig1wiBVfWcF7WChCR9CqXGMRixo6+s2wlAWYHwRWJFYnJIrMsOHy8mx9JgPUJQWyGPAyBfQAncElRigEsdkoTIRLv0F8nt9yBbkgKSkxuReTuEUIFgUq0SkcDVU4UxwJFOkC+gSCJ7XUb3UsARSopuOFdslERjPtleWAkqWVN9BuSrJ8wRqLCCcDis0ByPGBg3yjEq94k7U+qc5PAFU8oBI3ClNWWZEQiG+T9NgVzAbi+5RAmAoQfrBgFDk4BCA1vkgIzC-CVGWIraewIZQ09FxX8BoHgJxaUj8oaPdIBNPKmKBURQUW6YIMNLCM8ecsKjCh35HBkTUtU0qfVJILcQ3GL030NgX879h0gD0zUId03LaEsCIMjqQa3tGCi+g6gGkCnyP78ksRLk-iJ8OkSICZ+vwlfgCMmDCx4BtVMZguLp5a9uYxAPoviLjFvSyZdAw6UMgtH+AHSZ0sYgORmnLApiHMAmngDbiSyIwHwxAQdK77kyRC-MqmbFKrS0zjUO3I3iQFZmGj5+vM96e0A5ncyOewjTnlYSalgjP4S006UrNzGRwmBjEHqZ-H6lrB+ZlM-UjygllSyVZfmG0QyLtEkJhBkpb2ZhA35WyQSMEl9tbi1mHE2ZGvVQAjxu6EzAW5I7xiWMZH-tfZpYw3h6Fc5yAWRCcyVnoW5FECs85WMYuFCxl8gKCDwFPvHLuqJyzZUonkSLNUBVcBRniOwkKJxk1yI8WeROXXMJmxUwAkstuMXMiLxyjAWqeUTKLaz+No5OEQ0eqKyEE11RbWaqckHnmxz8iZbZeVmKKBls15vM-4laIgaZzqRG4pwG5Lvjo5hWP+QLHVnRzosnJ35DrLQEWBNjaQXUnvpbS6mD4MpC+L+R2KcarpoMv8yVtC2kCRTagoqO6LB1eaW1QFTky4Q7XrBFg-JvctyWGJZbKp9JZUUADmJMJEyRIiwSPOgoKjiRLANk9vk4AyiOSr6KiF6pvITEhslIm8lMdgqTHry9pSJD+Q8gKEZgupXClIAQrX7GkmFs4ISCJApG2js5+AtYRAxtgH0WWdCtkAvhIUBjBFqCKsVYGdEnDxFhYjeLeJEjkTHAn43cAABluagEkUi-AEK4ErAJktyaKE4VJyxFzYmnuSEkmpp-GKEjxZKicVeKsJ9EnCWQtFCD5CJqYJyWEp74mKzFli8AHROHCoS2IAStiYC1kn10w6-YDiScK4k8TAlQi5IPficlCTmhT4KoTkuWELFL2xSiPKUuWFYt7RntVJeZIMmjSsBskyYQpOUhuTW4QST2qSCvmYK9J0EwyY-GMnxiolXiyyfaIeCxAI8Si4UH8w4WtK8Fs5fYTJOaFyT5A3SooOSKWjJQMlJYNQdsKyVKReYibdCfQFpZLKcFoyqwrqJqHNKplqY3BZZKhrrKLhmMl6AoEWW-MblvzCUQOOyB7iXqWoQGuJEnFMcAVxVHcIov+a+8sBl0hmVXHBVcRQRcywCn8uWVLKgVcwlIvgsECX54oooElp8uUFWSZgm45LrKI7E9FuxG8e9IWAv5HjDFydKNEOGDw0crlM-BCVpM3hU9qVKfflVr33GRdLYeSq7juP5W9cpEWDdcDOi0nArdeFxSpYOI847gtJ9S5QYiuhr3RWu-Eq5dquyDl5+wyzK5boBqHyrKFw4JVfivvbi8jSgGL0pR0sBkLeVHilRaCpjFJjLYMId+eRi6n8xBVHimlasrmkpAxVNRcSJKpwg7jMJsql6tapnQZS5hptRyGqsGEaralogY1SwF1UBBVA+q7NW5LzWmqYe3PYZVapsA2r3V9qvdoHINgFwjOswFJf5ODymTuw-KhYZfKclTIWJtAQGbc245Xz+VrzbjlpP7UQTB1WjCdVcqnUkTB1BsTlW6qVXIC+VVysUlImaCXKB19AS2CYsolfifx-4hJZMEPXvjj1NE6xear3WWrfKO6ztfQDFJTRtwFQDjs6q46tqyFXq5da6qyT+T11nqoNe8ND7SA21EeCxLEosVWL+Y0G+JYmMrVOT71rcR9U4pfUNw315QD9VeXBz1kYQX1EeIqz9IXTjBI0VhqJN9gEaiIxGvfJVNGh-ycEB0QjUIBE6bQx+q6cja-jw3905gDgFjUXFo09r+gL8WjVoyexcUBNcZdjd-OXRcatGP2PjXQCk1saGNPffgRRsnTxBHgDoNiP8yE2At6NihJQgRuoC0LqNrGvFRso7GcFmNRGizRQAc63NyV2QV5qZtoWKaHN+CLzVrEiTwrlFT2LzZfhU2alReBNFzecwIxFrGqMLYYv5qWVP5aAX1MzUWmtySaUtzCfjURDGgRbhWtmyTURoK2sbJW8ixZnkOFCbCihGguxI-Hi3-KJNWWoQJluU3ZahkuWjnl5V8rpaPNTGorY5ua0haOt0CXLZumi0LF4W5UOreTWeH8aUtRfYRNppWhAQrNFwzZcsO2XtDwy5ykctFSwBhbkgiw4aD8rZD6bFtsebFQY1817yAg2iyjjWKqVWFn6+28KLdt0UPaNCe2pnukCpRDaPihhfFbEjG2upqAaLOFcduxU5ozt8va3BSAWD3RmOSrHvvklv7j1J64QXOpsHtGztuWkyZbRQOVWywlSWyrpU3H0j7L9IsOrBs2Ct560qAK0BEjsy1gUDClf+BfiZTR7AdxAmYveRVFw7VR4RQ0r3jsU+37btw2OodkAUbYBdXt92wcY3NGY-ayd-2-YYDv1Vi7A66rHHd7Di3g6EVugcXfOxR4CEpEzIV1gJQ0GWwAAnK+B6jm7eKyq0mIAKAwOBBKyq-8m4DvgDwteVPSEoyvAFCzGIdgQIgAAYteAQO3UqDuZ3NyoaAWPQWuoiOr+wEemlkOAYEQgI9bu1wIilklqYhkdgO8OViRlSCM9skrPbIV0Cm6lNglKyTICgUwKDZlcLlStopVkjldyw1XTFsgW8V69q2SbbrpZY5pa93es1LAvm2TpF2F2jKNFsWTCgmgDwamkQvwWWxU2tQF1m6wFZ4sp9snIYs+EaXUzGICERgHPrJpeNxI24B4GkSRZa9k924W8HeEXb4KWW9gcZrJ27I2VE6EYZPcyyWXEsvI206OJIN+6QQlVlHajkWFbV2ItQEa5ICOvbXEDJ1c6vdQzj+Zp7KeB+2fRQRP10zz9DIrQHel2nmAb9d+5qFpKwgQHvJxB28O1H-1kJADNB4HkQcoOP6llEUAxQwEoNUHBBJek4Ycq2W7LLRXZXbcEm-3-KTRNOq9C-yUBagJRlqrnQQF8qGBlWy0X5fpukMOjsU1Yh3V6IQyGlX2m+MctojoDHhEUW+9saBpjFahl92CtNpeHX0etN9L+kSDvr31jjjYo+CxFNuJbMNHROi2XYMO0MnincOOPQk5pxbA7YxqnBNGyMkCWNhG6QEQ0qHEPP8VoahzWu4aGSs75DrcRQ0YoEj+SVAJADTuJGD12KFtvkjKdKyClfxFU+RieKEMtgZSCj9RzojwECOYRGjdRtwFo02zxBjwtk5LivwqMeTspswN0aqhCZ3UkNCyyo55Ljx7crZlwiffprubpjFAe8gADpYBR1xy9SKAfwDB59GP2oyhNW4gGRo9O4Q-XPtg6vgljyilY7xzWNZjNj2x3qWxD2MHGeeqqQgIsiGRRdIi3x0AAAC9Dm5gTYzAZ2NvGqO+xs5pkai7AnTjNkc49uEuMUFrje2rkU9kMPGHNwKxiE2aihMfHIqWzbCjEbDzDFSAwxWFqhDuZnw8Atxn-bideP4n2QhJhysSbvykmdwDQck5SaxZIn2oQAA')">let rule_counter = 0;

function new_rule_application_id() {
    rule_counter = rule_counter + 1;
    return rule_counter;
}
function make_new_variable(variable, rule_application_id) {
    return pair("?", pair(rule_application_id, tail(variable)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p57' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	  When <kbd>query-driver-loop</kbd> instantiates the
	  query to print the answer, it converts any unbound pattern variables
	  back to the right form for printing, using
	  <div class='snippet' id='javascript_95_43_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (contract-question-mark variable)
  (string->symbol
   (string-append "?" 
     (if (number? (cadr variable))
         (string-append (symbol->string (caddr variable))
                                     "-"
                                     (number->string (cadr variable)))
         (symbol->string (cadr variable))))))</pre></div></div>
	  
	  
	  
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  After <kbd>query_driver_loop</kbd>
	  instantiates the query, it converts it to a string
	  using <kbd>unparse_query</kbd>, following
	  the syntax described in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  The function <kbd>unparse_term</kbd>
	  formats unbound pattern variables using
	  <kbd>contract_question_mark</kbd>.
	  Note that it needs to distinguish genuine lists from pairs
	  whose tail is a pattern variable (and therefore technically a list).
	  <div class='snippet' id='javascript_95_44_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDI4icagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBNALCUAGtPko6HRKFFiCS9JCItEXvIAB6aSym8a-SlbIGyRksk1mi1W8gsl5hW1Re1Ol1m2ha3knQlSP3my2JGVJOVmBUJ7GXa7eu5kjWspMBxJc3E6-kllN6ULCzJqmoa93-T12JWqFVqDtdtP6fuxytiauBuYLT6O53yV20PsU1uA9u5ZVgtS9wtFfu4uO6kJtUjSJTKAmQ6Hz+VtmkXOkMu4o1kaejnWv7w-H8Zc3z+RpNHM3-Ons8oAsvMERKM4OSSK+R5KASn4pMMQ52NB760HWIpqCiLaZpeParqoeGqoBA6Dvi-IobB4xjtIiySJOUbjMR56bIuCLLp2+G9lhW48ju-IhIeLgtEodGRtO0b5FhzFZleub0gB97AYJzjCaJU4zsQ5Y8khoDKapoLKCSUx0ExGYyfqmj3PWoripKHIvIRmFQpqpF8mIekiZkLSCqZqQyY5HFEdxsZ8acUhZqE5wKIGvkXqxZzXnmtyAayEVhLB8iBlpiFkWIEX0eJjFSWZuHsVxzk8dquXZo+LRyOMKixXF1IJXJt4pcBtX1bQKhqQxtDwd+P6yf+yWKSyXUEr16XRWWrnxqAk0NTMU51aQGVNSx1L5pIlj4B1PDzbqS09TMj50PIACOizWsVfmXjte0dfwR38id7IzCoUzslQsxLHdzVercu3tB1ADMIU6SEF3XbopD-RV0mXq1o2MuNMM3fD2WhXY+pGqEV2Ywjjx0NhW1Az6GNw5yIbOaTFbVQKhPU5FGWBiZxXmPdrEBdxDNuXYHSMGErOzbddNk-57EovT2mMy65Ci5liQcxLSOseVJOvWFdFxOQgoE7DZDE+QpPqy1DiEJUgGyzlAvAoeIszcr4ta+bQLlFba74TLlV4vbGTSNQpAGpt5PZrSSVo85rIQcHBrYzpcch5IXk+QDgNLkigVOdCkOMyESiaJosjrSeGfhyNUd3jHwFFyXlBlx+2uC9VfWFbOFdS9nmuavzC1HlE7caarZ4lTzZWcT7FV+7gYBIQw+DMGwUBwIgyDoHwPD+wt8jzDRG0bno9rELMkvI1IkyKI1R8GBsaQAPy6XI18zPvix9vfQQAFzAlKpLqiKF-QIT8g7UANIQTQ6EGzUQ-kKDCYoJT-z7CfM+wDzC-z3PIA8METy330OgswT8969QongwBx9QC6DQcNTBiZXSlmtPgwhoBiH70kCOVMt9UEENocCd6N8KF32Gmw3qAjGx7CAtQ3hP46EyGJCpESBUNKfxEXqQ0nwkKqA8iCGCRlFAmXwU8Fhw00g6LTigqhp8ZGNDkVTY2qifyiJmPY+G9xmbGyVuzSx0iWFyOTqHZhaiSEzACWmHhfjgRpSii7AsQibGlGcSDRcXiuFCIiXwwuxdS6UVnEEpxoB67SB8iEwgG0kLDwkj46xxjTGlB2rZd+05VCD0qeMQx8SeEJLSL-RQzAITcOAgAVWIAaYg1AADudghR6CUA6UAABaBZVD34ZWxjjQp2SfLCBeIPM2GZKD4FAKoEIzpKAsHqn9SQWjhD9mYpnTZJcDZnIub9TR1VVA7MKYwKIstzCDCodIC64gjknKkGSVo1yPm3LJuYc65BNh0Ctgi1EKyFjlLbhY25tS6m4sCI6BQxB6TUPBLQGKJi8U-gqQZDkxlPkkH0DiylzLvm-KZSyvFFSSXMBrHcGF3I0gyRCBFJpqgXTIu6Y0J+IrxySEfISu44rpDCLqb-Vo7ROgtAGP8wFwKMzmD6dQCEXyWQjLGZM1u9t9aaHkIs5ZRTBRaX+bxHSDSJRNJMpOOgPD7mVwsi0n5oBUQAD40UHwUAG8MViz4Rk0LbHeuoQlytoHVKaEjag+v1UKqQ4RCDvBKasiN4iQSWDWofTp0b+wmOcWUotKbuofWTfQDxcSmxFAyXw0p5aiUNt6l9RQP1KB-WqWfbcOkk2uJNt6yt9zDnHJCJlTQ+tDZExtnc-VC5qTqo6AkLVGwAXyCBbaudYL5FOxiTFX2sLGgyS7RGoW562apl9k8aR2qdWHr1eg+FBBwTnseLA21qKKV3qWA+xWztL0S1fdY99aQT3CrbIBz5f6IPOUA+uilMlwORQA00uDQQD1Ht9aUW97DJ2qApa2R9YtTZrpg6O9BwxAjDCqvbN1kgSDVi6Kof++yPSsX9ZIINoaWQACouMMN3WJ4MoA+P53tnQdaxAxR5qgtgt8uT6Bzn1QhqQFH8HXrhbQMIAo6ZBqZkbeGqS9AdLbV4Ajm6PZSEXcuijvsqNELk17TzoBf7110MiZTqnFZkPaSh4WaGn2u1Nv2dlHKzBKbyCF9TODULad87ivGnwKMKxs3Rq9PEWO6ttRuh5WC0taccWogCYW0LwIbH2SVPTvOVAI6xhN-Ik1hMGdI+5P604WYCanag3k+wEZ-UHdaQKLNJZU9QNTdXtNpwFcZp8oBJP+l3QwVFHHNvJh41NlQfyHmgdUGnCMhLiWn1Jby7RwdjvxYS89jb7IpNdGnZll7jRpEKd3uw6J0XW2SMzQJ6k2XknbGQ75s7+UxIqKMZWv7ib2GcKYekmd+qf1NIs2dtHismltLyRWt9GxqzQNFKK-HFP03NheE0nhBGZL4ZdYzJNS3wmY7J1JmnyGls05Qegs7-PCfKKqYj6RT2zCk8OHgBeTBWDsDXlwTeaAwadZ1rm-NqgHSwuzSN7IuR8i69ANW0A8z0SotzbakxvTGD9J17HLIOQ8hUKdNghQLQXiWHhkOro391k6Qh1oml+jhYvAu1zpzExkoTQ8JCpCwZMuh6sAYiPo3BSM7lgHcF8eiVQoFp8vXF8-zV0+Q+PP9JE8twIG3FPdL8DF9Yo9UG+AXiHX7rqCpWKm-bWBk9NvoAXqd-5Fym7PKYqN-uTJFv+1B8QzHYzCHMqaIAL0EUafD1Y8r8WLJ+VRQR86x30sJpvfnOl-kslBnwFj+J3lkhwn+-rSn83xPHu+FT-I662QIOZpoh0XHzJVTD6yzUvF7Blw2RwyXg5FUBALB0VHYggPHR-2oAulTm2UMnkEzXWGj1AFBHBE+UwKz2GB-XeAnD1gNm5SAL0AswqGkAGA2WD0wKsgwmnQ9TPzsHwIhAa2yDYPHHjR0mgJJBpxMiEPkF+BwIeQ7DEJrzEMA1EMwIkK5lwN7BkMX3tgJUCwANmFu0vWsiBXp0e1AGcBNAnGsVf22l0CiHeBYIbDNkt10isJsP3lJjNy4NUCYJgJ4IMNABcMZWMNMO0Oa0CF-hyGiBsO8LNgAB5HDwi3hVA-CqNiF7cjVVAWQAAVLIdRYgQUVlJwFWAUSBBuf3YCUAAAalNxe1DEiCiEOXTn0LNgqNkxZHKMqOe2qOiDqISOOyrVxTtwdwyKyPwHkAmTyPZkKOyUoBKJaIqK+0CA6NqPwHqNYMMCaNZFaLmPMAWK6L8K-3ciyAgSgW8OQ28NB0CGQNmBkCyEsjgMaB0jm1sN4MMKBSM0FRLzoMeJeM2OIVPiuOoEsk2PxRQL-yHioLu1+02N-m8KDQxA7EiOCNxSfg7ESJeyhOUxzk+NJheF7F2Mc2dUaBPWoRhKtyxFc0oMAN5VeKCENW4P0NZBGUyFaDkw5CdVKCIy-TqR-TEIsygOYNJzqRkgeLkMiMII5EZUBPOMwPkNFJJCKzZP3XgLsGoT+JuNg1Z3tnJ2ONFVON8JUDOPMAuJVNgPMLKzMHuPRMiOeP4wFPeK9kxIRMSWjSNMBLhl-xqO0N0OAOsQdJa2hIcLhIaJ9MdIukVmRKMP3iDN9PRK4kDOxI-x6NWzSABXQUJNPmJMxHIKXXJJ0Inw31NOpJSNpIwnpOIEZKJWZJJDtUKSkyykTMIxKxIzSC5MwJ5NQ2uT5LVJtNYiFKlJFJkKlxZTkI9RlPELrJYwVNwOVLAVVMY1l3nmqkXmXiV04A3l4AwA12zBeUuXeUL1uXdgjkSkv0ZBNS3LeTv3tlPL90kHORLliSqz3PHmpAChhW3B-UvKuXl122SmAQAhZCVFk3MCVFxXFPqVjy7AArMC7GAql1-K4IgrwLBEYGgp-Nj3zHgvzGQtAp9E9kqFkxwukGGhArMVjzqjoBLiUEdReFIvItyJ-CIqCF-JpIgppLqXosCF-P1HeA4WcDoGDE4reG4oYEaDYvMF-LKPgvMEd1AEFEMBDXN1aNopErMF-IWQkrMCkpkpE3kuWUUpgtjxkxeDSA0tktDXmTE2krMCUufh9GADUuOQdBeE0rkvmTAF0pQp9AAFI7LjKtL5kPKLLQArLfzLcJKfLnL0yZK9KfQABCdEUKhy6Sky+S2K1FSK9yu4FkKI7yhKpy0y0AGIswNKrCjKqI1ENSsKvK0qwqoK2PYNbKxypK+ZUNaqqKjK4NMqwywICq+S9qlq9KtI6Kuy+SwIOSswaK8wXXYBbkN8iIV5K8ipSIoNdBf1JUF4d8nc+MWWGa85bcgveMMUZwAAKw9x22WqLnpTsDktgtmu3Nk2fIZTiwpXWr2oJFliwG2rmquXhTyFNgswAl-O3U1Vk0Bt3Ssu+3Ytj0gGIB3TkEorMChphv1jBvBuUtj34skFgEgAgvRsxuRpRo4tggEoAFF4L0aia8bwbfyAA5JQKmuymmqmyMhLaakzBFZ6762sRa1EM6yyI5OS6Q-w9m1mn6ra1mvAm6t5JtdKWsD1Jaxof1Pm0NZ8uLcWnayWjm2LBgnSB1EtNW+a6FEgXZH5fMDgx5Ypa8lTdVRgYpd0w6pQeYJTCIJdSjZlZ6m8nIQMe8hlAcxoQeE2voIIdUhaEMyBD03M60U2zQ-PME8lSlALIlVQZ6hahol4CU1Wz6z4DWkQimwIeO7oJOtuagI6k61O77IWp8H6+QnO8wMg3WLMsO6ggwbcHIBFWuqIIOEwmYGOxIWbLYKBbuiOhguXBchXFeDgdebgTADc0AO2h20gJ2gnWVZ0YOcSWAp0U2rJBuJuWcScYI0BWPIpRuLTWTLleHKpXen2tIf1Wek0eeygJdQDEtFe00I235NezQAcdBORZBXe9Bfen0B+WTY42yH+9e4I3pJ0dQhaWGRgA2GZc4B0J++GU0d+2FPTDhSY7e-IXeozLktuP0totIYBpBGA0+9Sc+sBvEma5+i6ekPZCzf1GBuBwUWZRB5e5B6dPZVBscyuZOjCdMlkOCv+hCggjsdh8Sa4PZfwgKcR00SRn5UmXo0oX+PhhsARtC4R2R2hjhBRr+2vAWGnARm+x2++xe1fFkTRxCi6-a043za++22+hex+rR1+z1MB8BkR41fBuk8Wmh+R35Os9k49UFIkaUHBkjGfWPQBkMfQxBOyMJyh-dBssrW9SBhUtjBaa1JYXeiw8-dw3+qVNibOAp5RqhQs9+ks81KZN3ch-kLJ88haJ-OjHJ0A+KKQfJ9e4R8Azp2xMph3ScSp8ZapsXN6WgBVXivYuwP0RQAkL4agVOY0FoNoboFpxU14QUG1VBgR6ZxgIMQ-KZpZjhOR3ZqiCxVZ3AjsJptxj+kKPAf46+WZ84CCLAvAvNQpcsq4cgOeUexaN4IuKYUAMGY5C6BaMGNXNXAhDZP0YOVQI0TPTYDQRgFoa08rS2a2H3I1ZFn0p+EGroW3Kha6RqOFhydiDsDFpFxRyMpE9iclrFqjfzU0GF4l14fCWlxRqB3UCHJ5nIVQWFSbB7GYbloDayjKsTIVmTOs11A4yBWF+QA2HgF4OFyQF6RsxaMWpFZwIVizaF0gWV+VuMoiI7QV8CHIOU+DEJ5oIlDVXde4QgTVk10c1V3A3FvdRoIJp1tbUzWl7Vxl3VpV-gA1zCO1oVs1n8fXF1sVbBTFpmoIHFq1ndPFhLX+XsWlnhswZjfEg0guZtXZvVyQBV0Af154xYKkn9DVrV1FHVvNgt3sI17EZ50N9IC1zjeNzVW1+1htqk+YqwbEQ1gV+tnIS+0xdwgCJVgt9wot3U1fR6lGyC-COtkNxtj9YjfMwIH9b1yt31vNgNlloKYNh1pd81+dS1toBN7oVNozAASEaBDN7aDY7cHawGvbLqsYnbleVeLfEKHYSy4n3c7e5GffTeScy1vZTajaRc-bTcIyYwnKzftmotglIHiJYCpPMnUelc0AscpVAQw981-jYAcJZEiAul2aw+ZSfmI5ma+36NSJYEGYtVAHufSyrKFdZPTbWYQ-ICQ9fLFqY60wHeFa5Ydd5YGB-U+Ysz48eeE5ZDAUOK0jfLedRUk6oiFbSMo9I+5EYI0VTkiDqmiG6LAmecg9yc4KsdAkoAdcg-2eMN0-dPM+E+cFs+iFNo7Ec57Wc+s7c706HlFS85qNNt7D848+zwWiC6HkiHbJgPs6M6YDFJM+rLoBhei8Hdi9lOs6ju6GS5eevxkPi-cIhzC4M4s5i9PxeDUKDt3CkFAi2daYtgv3agGeAkAcmfEArr0As4jUa7EJeBIDLPpFAkkD+aJRyEYFhR0g0E0BKXXtVfQeq-CdXc9YRTC6Gyc-C5UzEIqdS-ELxLeLaZbdPbbbC5jZAVez67HEYEG7yBaBG825kMhLVcm-O1W+QyO6g-dfQY6ZuY9ZwlYncIm58g7BwZeH+4xJwbe+A67OpEnB29AAzfY9wJB93o5f5FDFyBYAwZtXzzaEPEFB4zoALex4ouuDoBVdq-Pw+Px73tAEJ9x-pBJ95b0fcLhMOm-ckqStR+JAx60Jp7x-CDR7vfuBZ7Tpex57p5ehr0iCmBdyuVF8F6osPSJ7F43rRcwkOmEdF9CH4AZ96aZ+liF8pV5a0sl8UGl8+Fl41-p+rrqUN7ko5-R64kOlnnuL585-wEPChHOq+RRZ++pDd9gkJUiksGJBtH54VsNoFD9kEPd4D7t5D+JGV8lDtLt6p7oL0eN+ttyBl4V9p5dtMThJd5Q+-Zt9DT9-IBj4L7j-t+niD5Q6d7ZwdCu2vIlHOluFTCy6otgjK8UP6zFuW9RTC4tsi+lHb627rPDdbZtaO7Nwy6K8s+p879H-xdBDL4HUkE4qQ6e-c58-HE3+8-8OEiAnK4yd1GX++jX8Q-iOX478P+77J8FhbMI-wFXC6BaOEZZCf9VBf70cJkaiv-n6SGEbckzAafKrkeETqwRDAwjDLk3ylqt9rQf-A-l3zFIgDdEBBZfrCHhCnIrGB-Knqf1X7r94ivYdAaz1MS9gcBJA4aHgNsDn8uO8RMRhAIoHg0Ow5A4XpShkIeN3+z-FoCyGR5iAQSLderBXxNx39PGUlYvq1mkAtckO2CA0BwhUw7MTwCg8YC8CYa6IgIqg3LljjFoECQYSKZVBZioEqYCBqgVQX-yUG0BS6s7XFBoMUJM5LwOgpVCigxCcDP+3A4Rqn16b8CrAggmvh4Qv66CJUvAuwIQDQK6dHQ4A9MGs2hjhAaiBEdiOgJa6fNA+aPPVgWzhak8NgZbCzJ81SGKs5Ww+KISe2tZ49DAT8Ogn5gFBBDWubQRBkq3FARC+WYtOFhZnoFN1Ch53PVqUKa4tFf4cLZulYFADpEAAEkTUkAABBcAOACJoAAldIpAAADyVNZAKijoJa1GYwxWgUcxI6vUIh30JAbKXi4hDPgYQh0LsIHRU8khJwyRscx2GGCPGSQlQJ9BuHtJrODwyoFsJmbhZTaww0YRMKmGzCFhSw14T2yuF0NnhJmM4bYFNpJDY+JwyQHUP2h3Diw4I4gAsjt6B51hunD4ScwhGGD9h4heLnb2uTu9-UnmA-k4BExfZpBKcZLOYPyDki6OCFFfrYHxFW8NhSHbEbcP94DpWRIUFuhYCtiZ0Fs6+JCqigAAMaw+2AkAmS7RBRGPHJLM0oDdA9ccojQCQABaopGAqo4UQCwqI8A7BrELUZBDVEijrOEOaUed2K48sR+Ro40Jg345KjTa7hFkNE1EG2j5RR9RUV7l3ZqAsuA4KoZYH-iWiHWUgSIGKkFGND1s7ow+lg2vItBaCIxWUZBBjEOjlRBGHSHz0+ATIVAocc5qRhLxzdpuFKJ+OaMTFZdNu0Y+0V6KDJyJPuQZJ+O4UzGSBsx0gUOIDzAaMCa6lgLMTmNB7uMKUEDTQO1jWZNiWxocW0S1zaCY9kWYobBk6EMKGcUumgjYBmO7HNjexBI-MrNzAGOsFuZgQkoS19FHgrRLzXcZlhkjW4YexWT9KVkywDYVuW-QfhtxebldmU4-A7pP2O6Okn+R6YXsmzXFjjd+dnHfs4EPbQdL27rPcZXCwEEECRmWJ+KON7GA87kfgV4ABN7HgElGeKFRsdnkAw84esPEcehNbGoMqh0Aw5CCFQJmhnms-ErnqVH4991sffGzo+Ii4bcR+r44IKCmW4pVXsH4roKh0vAkA6iNAjfgP186rd-CrAwIPvFZEB0kmN4kFMew6ERklCz2PAGJk0nfpe+q3B8d5yfHMFZJo-GHjJB4kYgXWxY17CJOMHt9pJLE-SRJK37ilL2Lks0ooQHFu4rstElLkZM4lAdFJJ6KcYFikCzgjJHExQhIQ0laSb0l4FwTkG4HtYIe+Y1iDPxH6+TbB6TaesJKWKiTL+47HdsuNwLclH+XAsjo-GAgf94pZUn+ASzKRqBNA+UqnmIRQHVcGpkAwpuRIlDaBXQNEhqWtQKnuTemIQVqSqygEN8tCFE7qdRJ5aaAd2fUhiaACiliYUB7hNqaADhDAhVpL0YRtlINjGCiB+vF7EQJeidiggu03KXEOzhtTTpzKMRidLsl3EIpejOKS-yqHCpBRkIIHAn0jhHka4QOVKIKIabHRaAB4EIYxAnHxcAoE4mvO6IsQQyRB+FDEimwjFYTY2IrNIioGzGCgc0WozkB4wCjIzTWdfDUlsg4RJilgtolQYsFgZqC9hoAGwXFy0HrYDwRucmRZkDEchgxzzUMfkAnETYxa50xwRZioznTjBpg7kSyOkmPhQZ4uF3CpgnE3S0gDMtLms0FnThkUAjSqV-0KYeDSmoGSQEw3DGQQLELM5LArJA41EBBKmWPmrL0F9xeI-In4ZIGmFDIAAMkTWWESDJRC0dkQJVtEmQ8RDEkQUcIto1DIRxAC4SCKtYOhrg-s8OfcJ7aPDyZJkGvG8JmBxzvhIw52W7I9nAjFYoI5OfHMJEF8ueCdTzDCIr5wiER8cxWUEBZC2i0RBfLkCQIrm+CXRzRBueiOJkDxSZccwOYVIeREjS+pIvFLaK0pfYdaIkW0UbJeb9zFCJA32YXLnlikWuZoOIJBENnizmRxAfEckPj7Fya+xI2CCPNKDFTQ0FKIkXnXUw48eMmWHdGCO2HhYt5dM-splnEE6045z8nkaPzBrCkC+LXfWZvOpnws-5NfSMaZkujCBshVgTsBsyWBMN-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-RcqxwC4DcABQ-ROm8wNS3fxEQcSx4g9nciaKSAZiZmMMF0Qn0L7-2ejTfYuNHLWdqg+oAmDSk9w2gaiQqy8EoFIBaKWAVsDaN1sKTX72erRFpNfoEYtEn4LIHocBHWIVEr9pAK3WkC-20wwwOq+2NruFgIwwwrjV+i22R2-BL2azBYo9rSKtFD9IkC6Cfp4z+pWkEBi6K4yX3AR9AIKpVfyDwOfApgLASNAyrtKDx89dBaqSEQdjJQ6D60mECwlPQfFewdB7hUUxXBEQeDX25wc12EYcLqDAjQBmbi71X7FYsMPvWhAH2hw6D+LU9CmMUE-IMBVGUJmBjbgjMJlGhqfWjJZCoGKi5Br4IoCoMCaFG1Bwg1RhaKr7iG8THQwYz0NrKDDGxXFPYdaJmHKDYh7g9YZ4NL67DxB-FuQbSJoVX6PXSvZAfMOMBa+K0qxsocKZhHBGiFWTABCsM-BA2NhqI8jtiMocUBCxag2-yy2r7B4j20o3o22JLFqD1nMw0AuoU0HrYJIMfRCA7AILv1ENH0Fd2aJGpmi4yZDXXBuEdzAZn9ZI9Ebu3tHgF-hXsB0dex5HKDHjMI1McaPZG5j9R6Y9uG22GystCg1QFYNAAAAdLAIsuLhaFcd+AI1FQeg3SUGqdySlLluAhvajteMgYNsfwW7Gbh+xqwccdOPTi5m1yK4+AIIKEB6c-heFu4VBOgAAAXirSOP3wr5FxoE63vhawn7jLKR4yBHp0XQtIz7EYG2S90+6IQuxs4-niRNxGNKLwX8qXtjjNFSAzRbgf2Cy3cg8A7x1HSSf+PkmqDOVKkwfWaLOA6TDJ7TZifLBAA')">function unparse_query(query) {
    return unparse(head(query), 
                  tail(query), 
                  is_null(member(head(query),
                          list("and", "or", "not", "assert", "rule")))
                  ? unparse_term
                  : unparse_query);
}
function unparse_term(arg) {
    return is_null(arg)
        ? "null"
        : is_list(arg) && head(arg) === "?"
	? contract_question_mark(arg)
	: is_list(arg) && 
          (is_null(tail(arg)) || head(tail(arg)) !== "?")
        ? unparse("list", arg, unparse_term))
        : is_pair(arg)
        ? unparse("pair", list(head(arg), tail(arg)), unparse_term)
	: is_string(arg)
        ? "'" + arg + "'"
	: stringify(arg);
}
function unparse(string, args, unparse_arg) {	
    return string + "(" + comma_separated(map(unparse_arg, args)) + ")";
}
function comma_separated(strings) {
    return accumulate((s, acc) => s + (acc === "" ? "" : ", " + acc),
                      "", strings);
}
function contract_question_mark(variable) {
    return is_number(head(tail(variable)))
        ? head(tail(tail(variable))) + 
          "_" + stringify(head(tail(variable)))
        : head(tail(variable));
}
</pre></div></div>
	</span></td></tr></table>
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.8' class='permalink'></a><h1>
    4.4.4.8&nbsp;&nbsp;&nbsp;Frames and Bindings</h1></div>
    

    <div class='permalink'>
<a name='p58' class='permalink'></a><p>
      
      
      Frames are represented as lists of bindings, which are
      variable-value pairs:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (make-binding variable value)
  (cons variable value))

(define (binding-variable binding)
  (car binding))

(define (binding-value binding)
  (cdr binding))

(define (binding-in-frame variable frame)
  (assoc variable frame))

(define (extend variable value frame)
  (cons (make-binding variable value) frame))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNA8QuFE3OIFCqGIfRcgUQh6GIOhKG4Gac14i8EjdUUQS0Cgsgmqaalmv1plKdaXMbFCxu26a9uk5pRTocgFDOxQdpmyh9pk-LCAYQxfAUFh8BOqijG+37G3wGQ0juh7Joul75roRarvdVIKmUNhyEq+hxse6HXqKUphp+ZHUfRuhMah3a5paOGcdWRGGHNagxDoe7ZtJp7Lv9PG1zptwGaZ57Weh2H4f9a7UjeNjUU6AXyep2JOZ+cXqElrasfJoXZbDWnUZ+4RyAYYgAA9CECHmMfOmXpNKRLiAYJqMe1lhdYYRcKHujbDGl57rDQnTpgdp3fuEXxPb29WEdFYx2hm5RIbZl7LZaLnI4LRwxuT6ObY+UbmcoD3za9sORdp9gPC8EP445xOfhL5Qy-z2bC4NUWGECz7mC0HPy413Sq8bVus47-n64phbu+bjRCBBblUS7hOJ7YYP8fXUb9DtxhDeN4hTZJ4fvcpxafeg2cQNBhhTo9tGxH1o2TcMZqu-VseWlIUzy4s6zbIclwvtm8gDY8ryS8OhaEKhFNeghCCT2Dsibgl8whFndMKN8qRjbUAUEragOYbZr1Xg4X8CpAoQKgc7UgaCMFYNtpcGeMDBCkDEGEGi+FCKIPbAwc65RKGDQxsifBDRzwmwyGVIBK814MEDtAvBh9fYrENloEQ+s4ZwXoJ3Qy0jExUKqi7CG7tcF0G9qotRtD6FSMMSsURC0lF8xZjw58hRCGilbqdUYNI2AVz7KURxVE2H0DkWCARrju6xGaJ2DUywmEngVCZYIuj342Tso5RqGjzCUF8CQABRCF6FViOcMBSS0SggYKfc++gN6GHVggmIhCbjYkvoCAAfL3YBY1L7q3mkbBhZwBrJl7t4kQGD6BS2HuU4i9jUiUFIPwVQi8RpaExn05WJDajUGnrHbGj9FLy2XrMxWCzKRtBTmCXejcm6NJXjs5wPxOgbVujQLBD995OlyVwlwS9Pr7IzkYSgChc7DPJK+UUxBJopLeVHVOnzvkTAqXY-iboQl+XCf8f5qRUYfDbtnfmHwIW8NDIQ4RsyqikFRQPQFGKvm529qPeFx4iIhnPASolZKz5UUZIZPFY16UgWJZ3TF5LOCUpDEiluMLGBOI5W3b5TL1yOihXxFaLgxU8slQWPy8ZqUypdMKnp6cwUGMqVvTl7cSWzQ9jysIfKqYquyeSHJXSWLH0KWDBw9NGZSluvdeBIzNXVP0AwepolIROp5i64QcJuBuq3o821blDDckYPgfgDBCZo2yu8LuFTBXapjl3JaFJirUjJS1IEmbM6GpznnVWXtLV6rlbTQFmhcTFvBeS3VpR0iZF1WsSBM1BgxqEIUhNSbiYewVaW0lWL9GmJiL2uNA6TBExTR7XVE5rYgpTlmk2Br0XGqbRMWxjE1XEWhTW0Ug6U2z3ccCUE+hT2xS+j9P62bDLNDbWweFnSsDgNeTXOuFaG4PIqeecRjJv1iPwEHLuflzx7kLdSWN-aQI3vvuIw8MRzyBrvsGmD9rT7od5lKaDKHloCTZfocRbS5HCAUTmSxndoMmMnehXDmHuBLoY0UUekaP15J6f3UdLMhn-s9TWldnipX6F1SR1uG9b7OHuRx8KUbzCvOdVYw5v6R5UwA3m06jISMqZzkqm20mt53zNupve-LCgqc+kDP6hn9D6eejZ+9KsyYF1zFRdWflCGnQU1x55PTENmbc3+0eFTrN3uBvZoLjBIsPqOSGEjMXDPX03tvOTVN6MPL83gNeLU5CKAgDAeASBUB9TQMSRTyRkVK2OmmoTAkbq8B+mQNNoAAA+7XFIR3GdUMQbXOvddSL9P6-Qd7mY611l8qQX1tZiIN6bYoPxqilLvBT4CjqbXs7vSIhQAqauHn58BopmBiAkJR4+Tadh9HuGIHNoznZLh5eEAAZC93o-Qe1kvCMJIElAbunaO9xm6EN6v7ePWM8gZ3agMEuwJ8E4bQH+e6XFkGYNw1g6PQJOY+gIy704+AldjmWYfFIXQMQbS0umb0RUwhl3wTE60twUnfXKcyfoJG47qRGeY9iA90753YdXvh4zpH4DGfOeBrz6t2PPu47rEMOXePzOTE59xiXp1Uvs-GyFl6tPNU44jMr3XqugcBZPXO5NM9nv64h7dwXl2eUWRLEIBDlvibwkm0N+3MPHdkosnmUhDpE3u5TZ7wb5xwHJdR02pahDDcK4Tw+b7pvOlR9D7FTXxn0s27-PHpXCvMIp4J8D5Fd1HZ62z9T2PCD+dQ4d1ep3ol-aV5viZ5wYvuMt8e67SQZATXfdr16jQgMXMOvBvdbgSewLF-W138vAcwPB1z8sfPIwjcK+e-yJ53SHHCrRYPEng+8+apO-X33jf-eiV41urSauAtSbbzn4-q+DcF+T987fVXabnIGTPz-tujWkO0OF2l+3yzu9AEsFyjYVeHe4QC2-oZ+IBQuc4Te4Iv+t0jYXKz0neAWGBPwm8bEKyNeJ+Na9qgQMgV2oAeI9+3S+BjYeyoKYIK+fOmq5BlQVBpIc+eBkB-SmBdMriZANymCacL+rBZBBSFBVBOgJe5uqQjaLBMuq0wBDeqBV+4IxauB3SK6ChBacebBV6Gh7yqc4IzOeh3BKOxhMcB+RqucJBsQr+Na0+setBLEI6t+O6+hThcupqrhbkG6NhZanhQ+NaReWKFhLEAKQKDaVhohWKIRQBaQGQ-+5KERbka06wm6h+zBehCRyhSRmQ8uH+5Kshu+w2XIZcihSh1WPuoBah4Bok36WhLEIG4iJB4Osu6+m+KeZuZRdMkCU8Z6VRdeyBfuDRDOAxyyYefh5g5iT+1ewxb+XRxRX+4udCWu7eRo7R4hnRgwG+KxX+DUeWrUhWHUJW3U5WOg3+J2Ey-2wcBs92p+w2ckHAQg+gDxoAGyoA-8v27IEy-wikxkL80SBsFkI2rxLyRsJgWgwgAQJgxAIhwgjQSOyOLEK6OCWibs-e3AZGgmHRbo9O7C8ia8phS6mJfehKOJS+Xmaepe3iUMHCOCMgjxduAuF+c4MgEBDJxJeSzRbkoi5JOizJgBBJkhHBnJ1BMx8qeSoG4GwpDWopqKUhEpXBtJAW5iii8gqmq8LJAk7BlBEpMhvRaJtwNsomBYcyviupipYI4I5pxAphKgPilaapfR9p+gp01pNRbJdRYIp0Fk9pfJ5g9pvSviHpVEXpH2yxWQnppRLE0cXwd85OVGNG-MYWCpLgEY-Kke3GYqcgoO6Z+JLgOO2ZqJQ0jgiZNsLA0Cvewye2WOboCEq8tZ2WnS54-2Rm0RKZWpOcjIL6JwZZ1wpptsveo+wMZSHmUqHqRZk4cEY5f0E558UprUEMkuC5zZEMzw9ZOxboOO+Z90y5+5NsxSR5W5DhDZmZCup5xpQ0BsFG3ZyiGKtmuolEL5oALA6wRmmmGZwIM0Yg-285uoP2IkHA5OAFa4SwoYpQTZ6Jo5qOi5nQZq75n5VGgSzQoF-5qggF8CAAPL+WBVhRBYEjEHjMCdOOCAACpySCRCC+BGLNbPQtQ0iTG1DNDgigAADUnxhiLO5OQoy+z58CXFjp7FXFrGhQvFYg-F4ZQFxFoAQJr8lF1FMgxA9k9FZa1IWIk81ArFoknF3Faikl0l8F4QwlFk+l4lsQRlMgwcRFcZbk70a5-0YmqOvySI3GC0sOck2IhZZi3G062Fr505fYD2s2JllleMcMXlRA4mk6CZ+ASZV8FiPZaZVMclRk1Iz5KkQIOO4VhiswcuRFllmsAVmEgle8EYdlVa-krYSCC02V7IN2dawKyVj5e06q7GZFgFsSv05QoAiOhGqqBEESfYdKvejIeZo5lmOKmqAVR5Tlw6veE6k681J5S1g1Vq8YM5nl6IPlFq764uQasWz59mrlk5bl6iAWO13lJS35IY4CAV8FQVOaKwoVyR2F6VJF+80V2IxV8ViVD52pHGS6zQqODVuV5V4lpQpEOOEFr5n1QSsGbxZVLmSFlViFe6qqAqdVcMDVHZ+sXZrVqmL10wUS04Z1VkdAvVIg-VEM6SouG1eEB6hkY1dNQIk1BZ+1IVs1saG590C1fNfIWW6Eq1VEi1m5jNNVm1O5LyUVu1t1i0OWsgeS+WbURWnUpWPUGA1xKCpC6Cty2CeSuiXhiRPpKBYINC4IqC+tIhQZLg1t5CNsaCk8thZ6PCeRxZ7+WQNifm54DtBtnCyYWGV6zo9OcwjpsQcwE4y1RQ9OHIEdMQHI0d9G9OCECds5pAydodhhx86dx8WdfshhTWmQjpxdbA-oMdhQ9OwUk85AvgjpNdqMdFBoldsQ9OZNCdZNfYrdMQ9ONw-2dMLAhgph-dqgg9LUKwPdl6c44IHF6dsQ7x3AvgP2DS-8XFzdU99O7k89MQi9oAy9fq-8XkG9Kdhhoa0we9B9AIq9oAkI+9MQm9hhwAO9BgoJ+9K93xoAYAJ92dM9AApC-ZfR-f-H-ffaAI-TPb9vPUA4fQ1cvafTPQAITCTQNv1X033INAjwO-22k4WANoPAOgB4UxDYOF0z04UAg70wPX2f0UMkMQO2l1L4NL2EMNL0MIOMOUPcBFDUM311JAjv0cMQiIMv2f2FA0MxCIOxAPHOhOh+162O2B23qCWAghjepzDcD+0iFKPNRyN5paMUKiL4AsAABW0JhaajI+yIfqqdCjBtjpzhNiU9RQBjhtzyHSRU7wJUdj2jLuxqjIl29OISjpISzjbG9OkAdAaoSs9d3DkT0TKSYTDGfdVAY9sAkACdo9DA6TSTk6KTA9AAounVkwU7k6YvTgAHLkAVMv1VMVMI3oR6NeM8A+MUJ+OcoqMAiWPYjCg0N7l7yuO9JZzGpNNUiDPtOGYWMrDeq9MNKOObgtNkIB3tMePi4DG4iDNMkOCwJ0LHyRnzy4jVBLYVCkALx9YMAmPkB5gxqkKaCxXQSDPO0cA5xu2SJLqXx7NHBFAHX+X8QfRE2dyRmyLdqA0qLQQTzdr6CbMylPUGVqLjPFSu4LVlOxAQsiBQutNuPJiFKmPmMsamIIteNItLnC0ND43NW4gAsukRQcACD41iBfAfkwGaltVlTARYigv8xOhHEq0nHtTFZdRlaYDf5vDjLkCmAMBRwfBVQ3CkBlyB7UBPgik1HpAtbTjOEKtPiTAhgFXRlFExloyKt-Cq76XggMCiX5pk5SU2WK56uavGvasrDNAauGtatpHmATQ3BvJaIwmfJWvBUy2CDKDKDNYZArxGCwLBsf0tRcUObBsNXgjsWlCJvyWiTmVcXivKAosGiJtmH+vLkOAuzGB+us5GITmXxLZFuFgRD-gzmSWmsQj6Wet6zGA+tSjeoVuFtozGA7P0JyjCXWDgjusqh0BVtMBkAKAOZ0KRll1Tt3Y6uiQvraTTDNyXaXyvYvbSTIIFFZARjrvwHtZRl7EK77ugCYOiTFDwgLu2uDDrsJuXtfGisUAStSuxSytlzruAmsLzxTEzx3tvaqIg73S6LYuwEYz7uBLJuNtcVduEo2wbSTs45wJzsmtiUTjsUWuo7j4Y5zFU6yantod9gYf6WwfGDjukCIde1zsXzTuoeqLwjLsnKkdjRiSgiOktJlCjvdvwcTuOsru0xNmfsBicdVsQhp3cCXZIfTvWi2j7vcDMfkc8QhjNySUocLvggADkFrtSwlWnynlrfW0l67w7In3HkrBYpAwcUclnM7M27190arN7+g1npD4ThhQgwgIlwQIldkTOok5oaYIlEyHA8IfHMkzHTnLnFVCuUX8nXHcHinsswS8XxbOOsX94WQ6XCnUXN55glz1zygtzIEmuxsHgJmJSRstn-R2l08smG8ssh07nkxtX9AjpuH2uFXhA2bNF2I+X6whX1AmgKWpXMcbgvbHs9XYXSkQHY09XC79Ol7zOJ1p8GOk3+nG8uXLgLnNmv8BsJCZXbgnXOagqP7LXJMk3MqdKMLWVQIIYWHK3oO7Xmx53lXG18jB3xglGcCjI3q23P8zAe3I3Jm43R3G1hCoiYNvxVtU4jHuMGdTnQPbgMOcCe8zhiPn3dMdCu6+nEPN3qkudC76PyPWPOP13LmCbfXNzg3xXVEsPJQ8PuPLmpLRQ3qlPA3Q3JX8go35bWPoPSXDPZPwMmjXPJmxPfbVKw1iKSCM3oPMqdOhhi3mVY+D3wHk3EvzCh6RGboG31qPzAWKSJAR3yrAnS4c3wnJZlX63XVG8sSn8CSYHmZqSDpy5orjFRvP5ooTZZvB0GXR3Vvr8NvokH88SkJeHHrzpxqKJh1GksUlA+AYiNsAwFQgw9XxvBvs3lXCbAXdUJnSf3MMfVUbRqfP5OOrv26avevfRge7vM5SBqhYIgf4Il79l5g6kzAs0irsygfR5cX1NlGgeDA6gIgHApAOa4CuQhAi8mfmvMQgq1fF3M-uazTLA1QbE5OwGq-5zRzR5nX3A15hkD2ISpGm-5ODTX1DgffTKpAg-HnI-u-K5B5llzQE-wcK-fSyZTib-a-d2ktCKLC27XvV7h1QvLw8X+TnSbtwDAFZlXuv-ZmtzRrQ69YwuvEAWAPq6bdLW-QBQNVxBYVAm6XYNkLgLrow5DApIY3rO0MA0EF2hA3wMQOJBPB9OTZXKjQWZ6FAngfqUnJgOwHyJqBXYcZJwMwjMDiqk6HgZRhIGrFgcs0MgK8QoQiCjABAgiEQNEGkCPednQohQIa6sQFBNApQfQKdbw8mB3XNgTQ2qAbRpBNsWQSIM+h0Duu-oIwQ0g4F3QyI6gw4g9T4GOCZAqML5FY22bUhIyHgqgHIjbiBA7ofrTgTMx8ETATO-gygIEIcGTs4hVXMKm4KU7CcX0+nEwVIP6AyCtBUoQyLlWSFlM7BjUTwbEOSGhDHBReYITxBcEeU7yILIUEM1BD8x7WHAbgLrApinktMy-E-mIA37v8r42-Uci0K4AP9qItfDsMti9DH9+hkHFoHUPRbDC2hVAPfktS-YcRrkDAfulxC-7nNP+PQveO0JWGbl0B6woQpsKoBcQOISwjoUtWN5HkE2MgOsLUHYrqdHhewZ4et3aBSwrhrEKgOEAXb3CYg6Q1INXw4j-DhOwLeRA0MpBNCWYPww4aMP56e8lwYI0AG9hN5zl2hGg04UkHOGcQsKEYMESwL7ARgsRxI0MDiMYBbCsKOOIkUIJ0g44yR9IkWutX07gg3hHATzugMSq0scocQ94pGSbJv0ihL6Fvi4DUAmAvAdMRgNnz-ZI9NIzgbgNtx+HbdOhxEc8NSKFQuIyolIvEVxGVHLCmQaYRUXCzYyhhVRS1bzMPnxFajBEDwp4Z5wXZpC9BPIyQHyLKGaj-EL0dAbwDI6r9DYULP4WQPkK9ZycCPP4WKPEADh+R3QNkN0GUHkhzwMGdKDiDjF+BVSIA98BUBWw9pwgraZIqm0MDoD-Re3IkKDEDF651ReaboIyFpF-CrRduavt0DzEXt2KzQboH5lpagAKKAACQKYMAAAguAHAAFMAAShRUgAAB5CpsgCBD9lv8KlG0bKPviUijhB5Y3r6KdofgDYFY65BoPSgMASxyPeUaiA9iUj+eB4zoI2GXFGgTOl4zIPn2NFbFIyvY-sUOJHHjipxM4u8QOCPFfcTxK4gIUIUjIHj+RJYhgGWMoLniLIN4ugO5DiFR9cyq-R8QqK2KrjERxvOIbbE8HeoDE7Q5rPUlYwSja40olCTPHwnmRJwMQoQmuKFoGJFxagMiYBOolJBaJhxLscFxti5AHAG0RkAAAYBy4CGoPZBbgZBE+zXFNIeMGD3YxJ3iHidoCBCcS5JkgzOlxTxANiBISk7iSpJM4rphJV-I1o8EWFxBZJp3SSdQF9DG8myTfR0k2SUlmTYoFkmTgayDwOtIxgQcNAZIdCpBqg2QMSTmn4SmSJJjk00P1VUqiSOA1XQYiFJSjkhwEfAm2PZE6Blxi+IYB7PP0z6GQrYw5fScMPv72TgpVUCycRWbiACuuWU+HglIYBJS2AZcC3l1xsGxAqpNUsuNAIaklS5hhAN9CAOanJS-JzYdARUBIAiBUgGMQPsZLVFxTuMvU2qSUhJqz9peIItGHNPmlFBXw+yKWMZOlSL9XqmqcZMqkMh-8dpxYPNCwD6Hf9DxjAHfiMP37oRD+kwr8CwDP5w9HhhEZkeGECCJS+pOwj-gDCemS0tq-4I6QfyeKPY5yhYJdKUBml1S5c0qTrH8WIBfTZpWZKbn2GaCvTjA1VBiAxEITQyju6AyEZRgaFTQeYfwcMq5NaHnUMJVY7of0POlb8rpQw11hBERF+RXwP03oee1CYdVCEDgfinqKwocz7MHMveMyKKBrg2JXza1Gqjn7LS1wv4UxHgEhDKzaUp0nofTOTKDDQcEs1mWlM1Qcyz2IkEJBVL5k2UBZ5MwyVwDFkxAhZewmYZBH-BQRTyT6OYRRgtmjgqZt07JDLKQRDTu0o0kmDrImnrVdsSslWbtJrTsiHRQ7aWZLx5mapCZ7slmTrK9l4RK+LEU2biGpFQsFwd4SaSAPuFQ8ORHw4TlHPeGOi9BG0rIIQFzkaCjywIq-jnPBE+9CZh4sGCTLvhkya5mjPOasL0GihQRpAhdq3OJkJVO5jwQgHeG7kYSv6YAZWZCAblNka5G7DEfBFJALtM55swkYINMSEjSQ5IlYJvOzm0id5Zo6YLSP3nWyDQp5fnmXM5Exyd8kRVIJxM+S34quZtP3LfgDJiS7aTpCsr6NkycTIyzhIBcuSUltEgFwYndvqxgWgKNB9OToElN8BjJ-iV7PQc4QjBwL0BBzOmBFLGicSlRFnDZkBNYmgALRm5LoVSBRhjY8FjIDyauWGE+SSYQCyDHmk3leiWUE4I+RcKwoGiWJdAA+f6DeAowAFZsCEngsakrByFB5DSbCjoD8yOFRc6OU6OSLrcZkNsFzv1KrJL5xo4ioBYItdFx9YsZQ9hVvEETsTJA3YvsQwFHGWQAAMgU1nH9Vkigk3MpIEYmcSzxJCgRdTJnKbjLpFQHceeIXYHi-xeCrxfwovEDgrx4S2KTmQCz3i+4Ykj2C+OsW2KHF4AH8SBDCWeLdxwEzCckK4GDADEoEsoeBMgl5Kkgki6YHaTEnwTkh8IckaUqqEQhFetSjgPUqqGhdsF6zWJehPzmBssJ0Q3CduE4l+pWMOCvWC-IIVUTrkbE8kQxLHq5L+l61bkU8w0VELnORCx7PwtolBDMBkZIZThJHz3VxqNDQyFhLRaUZZBS6NUP+IL5bE+FcyxEYIqKE4LclTymiYiOcbzUEhBM9ReZzIBWciFeyhIZQoECtBrGQIFMeny2VAq944INlICss5ZJA2WYz8FKEhV4Ivid8SaJFM0UudQVBQr9livGySDt06XX5QUOLFMLAlDoCsVV1U51iXoB7WmNX2ZU1CAsHwYIInwAk5QjmJYhzHyppzERBUJY+lbBOxR8JqxfgRkOUqzDljJV1Vc8CGxfhOZYJ+yu6KozUTNLMBOIGCcKs6WYDUVDQUqPqv86GqEJLAwTsKu4BFDVVHkkCBqoSGEZgZW1eJSjjj6BA8Fl0gJQGMgU0yxm3ixkMIvXDV4WFfyRaX6oNj0rzxq088DWKBDyrcQ5Y88cqrzQOqnMSkuIdqukS6qQh3Qb+R0oQmS0zVha6-HUqtWGQ7JYku1R-UzWzQfVLq9XiNStSPy3IefJScECYngdhVVXF+ZKtNH09O1YkoVQ8r0T6c8+sEsdU+L0S59hA9y2dTOtQkiryQ3K71RqoFXbjl1qIQjFFDYCLqV1MGV8YOOHFjiJx04zJeSBPXvjz1X4pxTavHV1q-Uf0Q9aeMIyEJwQGIB+YORcAjrHgAatdV6rNKySt1gSrRXurzSvrwljIE9ekscV+Q4N9ixxYyBrWUyih0GzxR+s1RfqvAP639bWi7JvATGRtUpIkPepkaohcEVFMRqoSdcA21RI9vRrAX6pekJGlEBN3aSRk2pHSD1U-IJr1pE0KQdjcmGY1QLZslG10m4Wo0IZhNdGsjcb3qm8aCNARYKCJrsIKafyPG5cjUDECjRKMmizTTOSU2RjiN+AXybRo41EqqhVXClmxqNqWbTAkFH3lSqqH6czNvkgIo5rsLeazU4lJFZorFTea5k6mvzbhFMSuaDlnGM1QzhEAiUAtRCx0h5rnXf41N5mkmGpqoQTlItd0WzV2Uy3PJr0cmjjRoOdH8cMhpzLIeYJyHFLtwCWoFavBk1CbDA6morS1qy17wctPESCA0CKFpbPNrGgrU5ra2hb9E4WlkauWbWdIYt3nCyPVpRVtDhN6W7lkJOIB6bZkcCazQcoKVVDsJVAEZROELl1IsA42wUKoKyDzbg4um-TciuDgo9BF0EQxe6JaU3zbAp2uWNSD6y8jjFL21YY7NTYvoetRQLrZGhi2+d4tAKlzo6Wu1aAVttQkwPwAz5ddjeJGQPvS0ZY-AqWe0dAWzyK72ZNtowzVTxCLCEIjl+2k5aGCO2KRDYCO2ZG31dyd8xoQgqTn21okPbWBOYPfivWZFk0PS+LM+UHziRfwqJHmTOp5D0ocUTt-2woOCFx3U9DMoXWYU9p+16rnZoYZ9MkWZ4g6FMMWuXRz1p5zbIdiW7gHrpp5SpuWGov+M1trp0UgQAAThOBR52ITdInUYDH7cZG6ddInYeI2ifIw0q0wVEkKlVFA-+r4FwL8T4mrTCgnu4OBpw04WQ0Aiek1SHrgGhgY9TnD4JjWmAx7vdtWcmoUqLx7wXAXkGgljOQGxAc9WEvPRGxop7cY9kYxBXXRQUWleYPKrbblruG94idOu-gBCEb3IKmAqCw3fmFGi3b2ObAJBc3rGEEb0et2t8KO34CrgyAv0O+Ik3BVkLGQf3XwLt327c9AxcHefaVFNZHBulkagwFglIAr6YmhsoEBoXeGzRPci-dPeCE8heR0eZCohe6AX0CAAE29BEEOor3O666+gbLpstaDHB90cciIAxFfAaq4+CfOmAusxXB6rMC6n1d2unVTrhVspKzlnoWnn7l9CVa-eezv2gU78wAwAyFCboQhX94u2CYICQOiBaDnkXyJAY17YzU9DQZ-cwa8gucLw2olqDwb-3VVK9ZQi5YUoO3bgqdaiUAw1rFn06O+K8VoGzvP1c6-Ui0GwZduc7M4vtbolXSENFGp53VC4prUIEMD2RWs1QUqAFLzStBN92y-7lbvR777i2Vh-gMftP2GhmmR5GDFoeUOfbyc3213YYdkUqt3qPhjQQjnwA0V8RfWX4cwCkj-hkuY7TRQoZoBKGp8cuCI3as52NQP6Gh9ASug5lJzKZnpKyUuGMmekTOts5mY8BFmKa5cIs6oz0OFn7C0+CuJo1JrchCytZwHYORQp-JVhPA-RmRV0aUzzDBglRzzL4pAEwVhyxRqY+bslnvpZ9mijTrKP0BnyAAOlgAHVdp5E8BmQMEEnaA796LDOUNBHj2iQL9K+53icFWObL1jJ4zY2aJ2N7HhplGQ48ccDFzleAq4PeD0CbJ-HQAAALwWagAdjRQK5UwHj5HGKOfOs46CZNa+wrj4IG4wlTuMnagRYqMwxYenDrH9jnx2E98bQYSd3OIlFgCJWUAiVPOkwDTk6DwAPGGtBJj4zCdtgkml6ZJmeuQApNUmaToXVE75CAA')">function make_binding(variable, value) {
    return pair(variable, value);
}
function binding_variable(binding) {
    return head(binding);
}
function binding_value(binding) {
    return tail(binding);
}
function binding_in_frame(variable, frame) {
    return assoc(variable, frame);
}
function extend(variable, value, frame) {
    return pair(make_binding(variable, value), frame);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.79" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.79">Exercise 4.79 </a></b> 
  
      Louis Reasoner wonders why the
      
	<span style="color:green"><kbd>simple-query</kbd></span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      and <kbd>disjoin</kbd>
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>) are implemented using
      explicit
      
	<span style="color:green"><kbd>delay</kbd>
	</span><span style="color:blue">delay</span>
      
      operations, rather than being defined as follows:
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append (find-assertions query-pattern frame)
                    (apply-rules query-pattern frame)))
   frame-stream))

(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave
       (qeval (first-disjunct disjuncts) frame-stream)
       (disjoin (rest-disjuncts disjuncts) frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
              frame =>
                 stream_append(find_assertions(query_pattern, frame),
                               apply_rules(query_pattern, frame)),
              frame_stream);
}
function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave(evaluate_query(first_disjunct(disjuncts), 
                                    frame_stream),
                     disjoin(rest_disjuncts(disjuncts), frame_stream));
}</pre></div></div></td></tr></table>
      Can you give examples of queries where these simpler definitions would
      lead to undesirable behavior?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_2_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_2_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.80" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.80">Exercise 4.80 </a></b> 
  
      Why do <kbd>disjoin</kbd> and
      
	<span style="color:green"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      interleave the streams rather than simply append them?  Give examples that
      illustrate why interleaving works better.  (Hint: Why did we use
      <kbd>interleave</kbd> in
      section&nbsp;<REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>?)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_3_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_3_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.81" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.81">Exercise 4.81 </a></b> 
  
    Why does
    
      <span style="color:green"><kbd>flatten-stream</kbd></span>
      <span style="color:blue"><kbd>flatten_stream</kbd>
      </span>
    
    use
    
      <span style="color:green"><kbd>delay</kbd> explicitly?</span>
      <span style="color:blue">a lambda expression in its body?</span>
    
    What would be wrong with defining it as follows:
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave
       (stream-car stream)
       (flatten-stream (stream-cdr stream)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave(head(stream),
                     flatten_stream(stream_tail(stream)));
}</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_4_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_4_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.82" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.82">Exercise 4.82 </a></b> 
  
      
      Alyssa P. Hacker proposes to use a simpler version of
      
	<span style="color:green"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      in <kbd>negate</kbd>,
      
	<span style="color:green"><kbd>lisp-value</kbd>,</span>
	<span style="color:blue"><kbd>javascript_value</kbd>,
	</span>
      
      and
      
	<span style="color:green"><kbd>find-assertions</kbd>.</span>
	<span style="color:blue"><kbd>find_assertions</kbd>.
	</span>
      
      She observes that the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that is mapped over the frame stream in these cases always produces either
      the empty stream or a singleton stream, so no interleaving is needed when
      combining these streams.
      <OL type="a">
	<LI>
          Fill in the missing expressions in Alyssa's program.
          <kbd class='snippet'>function simple_stream_flatmap(fun, s) {
    return simple_flatten(stream_map(fun, s));
}
function simple_flatten(stream) {
    return stream_map($\langle ?? \rangle$,
                      stream_filter($\langle ?? \rangle$, stream));
}</kbd>
	</LI>
	<LI>
          Does the query system's behavior change if we change it in this
	  way?
	</LI>
      </OL>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_5_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_5_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.83" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.83">Exercise 4.83 </a></b> 
  
      
      
      
      Implement for the query language a
      
	<span style="color:green">new special form called
	<kbd>unique</kbd>.</span>
	<span style="color:blue">query expression called
	<kbd>unique</kbd>.</span>
      
      
	<span style="color:green">
	  <kbd>Unique</kbd>
	</span>
	<span style="color:blue">
	  Applictions of <kbd>unique</kbd>
	</span>
      
      should succeed if there is precisely one item in the data base satisfying
      a specified query.  For example,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "wizard")))</pre></div></div></td></tr></table>
      should print the one-item stream
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job (Bitdiddle Ben) (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(list("Bitdiddle", "Ben"), list("computer", "wizard")))</pre></div></div></td></tr></table>
      since Ben is the only computer wizard, and
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer programmer)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "programmer")))</pre></div></div></td></tr></table>
      should print the empty stream, since there is more than one computer
      programmer.  Moreover,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(and (job ?x ?j) (unique (job ?anyone ?j)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
and(job(x, j), unique(job(anyone, j)))</pre></div></div></td></tr></table>
      should list all the jobs that are filled by only one person, and the
      people who fill them.
      <p></p>
      There are two parts to implementing <kbd>unique</kbd>.
      The first is to write a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that handles this special form, and the second is to make
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      dispatch to that
      
	<span style="color:green">procedure.</span>
	<span style="color:blue">function.</span>
      
      The second part is trivial, since
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      does its dispatching in a data-directed way.  If your
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      is called
      
	<span style="color:green"><kbd>uniquely-asserted</kbd>,</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>,
	</span>
      
      all you need to do is
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'unique 'qeval uniquely-asserted)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
put("unique", "evaluate_query", uniquely_asserted);</pre></div></div></td></tr></table>
      and
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      will dispatch to this
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      for every query whose
      <kbd>type</kbd>
      
	<span style="color:green">(<kbd>car</kbd>)</span>
	<span style="color:blue">(<kbd>head</kbd>)</span>
      
      is the
      
	<span style="color:green">symbol</span>
	<span style="color:blue">string</span>
      
      
	<span style="color:green"><kbd>unique</kbd></span>
	<span style="color:blue"><kbd>"unique"</kbd></span>
      
      <p></p>
      The real problem is to write the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>uniquely-asserted</kbd>.</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>.
	</span>
      
      This should take as input the <kbd>contents</kbd>
      
	<span style="color:green">(<kbd>cdr</kbd>)</span>
	<span style="color:blue">(<kbd>tail</kbd>)</span>
      
      of the <kbd>unique</kbd> query, together with a stream
      of frames.  For each frame in the stream, it should use
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to find the stream of all extensions to the frame that satisfy the given
      query.  Any stream that does not have exactly one item in it should be
      eliminated.  The remaining streams should be passed back to be accumulated
      into one big stream that is the result of the
      <kbd>unique</kbd> query.  This is similar to the
      implementation of the <kbd>not</kbd> special form.
      <p></p>
      Test your implementation by forming a query that lists all people who
      supervise precisely one person.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_6_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_6_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.84" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.84">Exercise 4.84 </a></b> 
  
      
      
      
      Our implementation of <kbd>and</kbd> as a series
      combination of queries
      
	<span style="color:green">
	  (figure&nbsp;<REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>)
	</span>
	<span style="color:blue">
	  (figure&nbsp;<REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.10" href="./4.4.2.html#fig_4.10">4.10</a></REF>)
	</span>
      
      is
      elegant, but it is inefficient because in processing the second query of
      the <kbd>and</kbd> we must scan the data base for each
      frame produced by the first query.  If the data base has
      $N$ elements, and a typical query produces a
      number of output frames proportional to $N$
      (say $N/k$), then scanning the data base for
      each frame produced by the first query will require
      $N^{2}/k$ calls to the pattern matcher.
      Another approach would be to process the two clauses of the
      <kbd>and</kbd> separately, then look for all pairs of
      output frames that are compatible.  If each query produces
      $N/k$ output frames, then this means that we
      must perform $N^{2}/k^{2}$ compatibility
      checks—a factor of $k$ fewer than the
      number of matches required in our current  method.
      <p></p>
      Devise an implementation of <kbd>and</kbd> that uses
      this strategy.  You  must implement a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that takes two frames as inputs, checks whether the bindings in the
      frames are compatible, and, if so, produces a frame that merges the two
      sets of bindings.  This operation is similar to unification.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_7_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_7_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.85" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.85">Exercise 4.85 </a></b> 
  
      
      
      
      
      
      In section&nbsp;<REF NAME="sec:math-logic"><a class="superscript" id="4.4.4-sec-link-4.4.3" href="./4.4.3.html">4.4.3</a></REF> we saw that
      <kbd>not</kbd> and
      
	<span style="color:green"><kbd>lisp-value</kbd></span>
	<span style="color:blue"><kbd>javascript_value</kbd>
	</span>
      
      can cause the query language to give <QUOTE>wrong</QUOTE> answers if
      these filtering operations are applied to frames in which variables
      are unbound.  Devise a way to fix this shortcoming.  One idea is to
      perform the filtering in a <QUOTE>delayed</QUOTE> manner by appending to
      the frame a <QUOTE>promise</QUOTE> to filter that is fulfilled only when
      enough variables have been bound to make the operation possible.  We could
      wait to perform filtering until all other operations have been performed.
      However, for efficiency's sake, we would like to perform filtering
      as soon as possible so as to cut down on the number of intermediate frames
      generated.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_8_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_8_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.86" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.86">Exercise 4.86 </a></b> 
  
      
      Redesign the query language as a nondeterministic program to be
      implemented using the evaluator of
      section&nbsp;<REF NAME="sec:nondeterministic-evaluation"><a class="superscript" id="4.4.4-sec-link-4.3" href="./4.3.html">4.3</a></REF>, rather than as a stream
      process.  In this approach, each query will produce a single answer
      (rather than the stream of all answers) and the user can type
      
	<span style="color:green"><kbd>try-again</kbd></span>
	<span style="color:blue"><kbd>try again</kbd>
	</span>
      
      to see more answers.  You should find that much of the mechanism we built
      in this section is subsumed by nondeterministic search and backtracking.
      You will probably also find, however, that your new query language has
      subtle differences in behavior from the one implemented here.  Can you
      find examples that illustrate this difference?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_9_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_9_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>



    
    <div class="permalink">
    <a name="ex_4.87" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.87">Exercise 4.87 </a></b> 
  
      
      
      When we implemented the
      
	<span style="color:green">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator in section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF>, we saw how to use
      local environments to avoid name conflicts between the parameters of
      
	<span style="color:green">procedures.</span>
	<span style="color:blue">functions.</span>
      
      For example, in evaluating
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (square x)
  (* x x))

(define (sum-of-squares x y)
  (+ (square x) (square y)))

(sum-of-squares 3 4)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM4CO+AhgE4CmAFAB4CUoA3llDDQ7UvhY0uoAFSguAbiwBfPETJUatfAFsA+pVx6GzdrW4AaUAE8+gkaLbjJdRq069QAalenOtpVVtfUNjNzMOAGYrFB4FIA')">function square(x) {
    return x * x;
}
function sum_of_squares(x, y) {
    return square(x) + square(y);
}
sum_of_squares(3, 4);
</pre></div></div></td></tr></table>
      there is no confusion between the <kbd>x</kbd> in
      <kbd>square</kbd> and the <kbd>x</kbd>
      in
      
	<span style="color:green"><kbd>sum-of-squares</kbd>,</span>
	<span style="color:blue"><kbd>sum_of_squares</kbd>,
	</span>
      
      because we evaluate the body of each
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      in an environment that is specially constructed to contain
      bindings for the local
      
	<span style="color:green">variables.</span>
	<span style="color:blue">names.</span>
      
      In the query system, we used a
      different strategy to avoid name conflicts in applying rules.  Each
      time we apply a rule we rename the variables with new names that are
      guaranteed to be unique.  The analogous strategy for the
      
	<span style="color:green">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator would be to do away with local environments and simply
      rename the variables in the body of a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      each time we apply the
      
	<span style="color:green">procedure.</span>
	<span style="color:blue">function.</span>
      
      <p></p>
      
      
      
      
      Implement for the query language a rule-application method that uses
      environments rather than renaming.  See if you can build on your
      environment structure to create constructs in the query language for
      dealing with large systems, such as the rule analog of
      block-structured
      
	<span style="color:green">procedures.</span>
      <span style="color:blue">functions.</span>
      Can you relate any of this to the problem of making deductions in a
      context (e.g., <QUOTE>If I supposed that $P$
      were true, then I would be able to deduce $A$
      and $B$.</QUOTE>) as a method of problem
      solving?  (This problem is open-ended.  A good answer is probably worth
      a Ph.D.)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_10_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_10_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

  
<hr>

    <div class='footnote'>
      <a class='footnote-number' id='footnote-1' href='#footnote-link-1' >[1] </a>
    <FOOTNOTE>
    In general,
      unifying
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      with an expression involving
      
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      would require our being able to find a fixed point of the equation
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $ = \textit{expression involving}$
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      It is sometimes possible to syntactically form an expression that appears
      to be the solution.  For example,
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $=$
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      seems to have the fixed point
      
	<span style="color:green"><kbd>(f (f (f </kbd>…
	<kbd>)))</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>list("f", list("f", list("f",</kbd>
	  …
	  <kbd>)))</kbd>,
	</span>
      
      which we can produce by beginning with the expression
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and repeatedly substituting
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      for
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Unfortunately, not every such equation has a meaningful fixed point.  The
      issues that arise here are similar to the issues of manipulating 
      
      infinite series in mathematics.  For example, we know that 2 is the
      solution to the equation $y = 1 + y/2$.
      Beginning with the expression $1 + y/2$ and
      repeatedly substituting $1 + y/2$ for
      $y$ gives
      
        \[ 2 = y = 1 + y/2 = 1 + (1+y/2)/2 = 1 + 1/2 + y/4 =\cdots, \]
      
      which leads to
      
        \[ 2 = 1 + 1/2 + 1/4 + 1/8 +\cdots. \]
      
      However, if we try the same manipulation beginning with the
      observation that $-1$ is the solution to the
      equation $y = 1 + 2y$, we obtain
      
        \[ -1 = y = 1 + 2y = 1 + 2(1 + 2y) = 1 + 2 + 4y = \cdots, \]
      
      which leads to 
      
        \[ -1 = 1 + 2 + 4 + 8 +\cdots. \]
      
      Although the formal manipulations used in deriving these two equations
      are identical, the first result is a valid assertion about infinite
      series but the second is not.  Similarly, for our unification results,
      reasoning with an arbitrary syntactically constructed expression may
      lead to errors.
    </FOOTNOTE></div>
    
    
    <div class='footnote'><span style="color:green">
      <a class='footnote-number' id='footnote-2' href='#footnote-link-2' style="color:green">[2] </a>
    <FOOTNOTE>
    Most Lisp systems give the user
	  the ability to modify the ordinary <kbd>read</kbd>
	  procedure to perform such transformations by defining 
	  
	  
	  
	  
	  <EM>reader macro characters</EM>.  Quoted
	  expressions are already handled in this way: The reader automatically
	  translates <kbd>'expression</kbd> into
	  <kbd>(quote expression)</kbd> before the
	  evaluator sees it.  We could arrange for
	  <kbd>?expression</kbd> to be transformed into
	  <kbd>(? expression)</kbd> in the same way; however,
	  for the sake of clarity we have included the transformation
	  procedure here explicitly.
	  <p></p>
	  
	  <kbd>Expand-question-mark</kbd> and
	  <kbd>contract-question-mark</kbd> use several
	  procedures with <kbd>string</kbd> in their names.
	  These are Scheme primitives.
    </FOOTNOTE></span></div>
    
    
</div></div>

    <div class='nav'>
  
        <a class='btn btn-secondary btn-nav' href='./4.4.3.html'>&lt; Previous</a>
    
    <div style='flex-grow: 1;'></div>
  
        <a class='btn btn-secondary btn-nav' id='97' href='./5.html'>Next &gt;</a>
      </div>
    <div class='chapter_sign'>
      4.4.4&nbsp;&nbsp;
    Implementing the Query System
  
    </div>
    <script> var chapter_id = 96; </script>
    <script> var chapter_path = "chapters/4.4.4.html"; </script>
    <div class='next-page'></div>
    </div>
    </div> <!-- /.container -->
    </body></html>