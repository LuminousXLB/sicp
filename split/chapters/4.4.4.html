<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <!-- Global site tag (gtag.js) - Google Analytics - START -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-156801664-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-156801664-1');
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics - END -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="description" content="4.4.4&nbsp;&nbsp;
    Implementing the Query System
  " />
    <title>
      4.4.4&nbsp;&nbsp;
    Implementing the Query System
  
    </title>
    
  <meta name="csrf-param" content="authenticity_token" />
  <meta name="csrf-token" content="EMTEijVc2kiiKUH4nYH0lQG3pLPfMowQ/Stg//t6DCo0e5pWMQwamnTvIdmVZqY/MqSx2IYYE+2bpNV6UNSMwQ==" />

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    -->
    <link href="https://fonts.googleapis.com/css?family=Inconsolata&display?swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans|Droid+Serif" rel="stylesheet">
    <link rel="stylesheet" media="all" href="../assets/stylesheet.css" />

   <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon.ico" />

<!--    <link rel="shortcut icon" type="image/png" href="../images/lambda.png" /> -->

    <!-- for support of progressive web app, see github README, DISABLED!
    <link rel="manifest" href="../static/manifest.json">
    -->

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" 
		     	  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	          crossorigin="anonymous">
    </script> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script> -->
    <script type="text/javascript" 
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script>
   <!--  <script type="text/javascript" 
      src="../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script> -->
  
    <script src="../assets/application.js"></script>
  
    <!-- Rendering inline LaTeX -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true,
          jax: ["input/TeX","output/HTML-CSS"]
        }
      });
    </script>
    <!--<script src="/mathjax/MathJax.js?config=TeX-AMS_HTML-full.js" type="text/javascript"></script>-->
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body>

    
    <!-- support for progressive web app, see README, DISABLED
    <script>
      if ('serviceWorker' in navigator && !navigator.serviceWorker.controller) {
          navigator.serviceWorker.register("../sw.js").then(function(reg) {
              console.log("Service worker has been registered for scope: " + reg.scope);
          });
      }
    </script>
    -->

     <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top justify-content-between">
       <button id="btn" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#nav-sidebar" aria-controls="nav-sidebar" aria-expanded="false" aria-label="Toggle navigation" title="navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <span class="navbar-brand-short"><a title="Go back to front page" href="../index.html" class="gray">SICP &mdash; Scheme/JS</a></span>
       <span class="navbar-brand-long" ><a title="Go back to front page" href="../index.html" class="gray">Structure and Interpretation of Computer Programs &mdash; Comparison Edition</a></span>

       <!-- edit the search engine by visiting: 
	    https://cse.google.com/cse/setup/basic?cx=015760785273492757659:nc_tznrzlsg 
	       -->
       <form class="form-inline ml-auto" id="xxx">
         <div id="search-box">
	         <script>
	           (function() {
	               var cx = "015760785273492757659:nc_tznrzlsg";
	               var gcse = document.createElement("script");
	               gcse.type = "text/javascript";
	               gcse.async = true;
	               gcse.src = "https://cse.google.com/cse.js?cx=" + cx;
	               var s = document.getElementsByTagName("script")[0];
	               s.parentNode.insertBefore(gcse, s);
	           })();
	           window.onload = function()
	           { 
	               var searchBox =  document.getElementById("gsc-i-id1");
	               searchBox.placeholder= "search web edition";
	               searchBox.title= "search web edition";
	           }
	         </script>
	         <gcse:search></gcse:search>
         </div>
       </form>
       <span class="navbar-brand-short">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">S</a>
       </span>
       <span class="navbar-brand-long">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">Source</a>
       </span>
     </nav>
     
     <div class="container scroll">

            
        <div class="collapse" id="nav-sidebar" role="tablist" aria-multiselectable="true">
        <!-- insert a dummy entry, to give one extra line of space -->
        <a class="navbar-brand" href="index.html">&nbsp;</a>
    
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-1">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-1" aria-expanded="false" aria-controls="sidebar-collapse-1">
                <a href="./foreword.html"> 
        Foreword
    </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-2">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-2" aria-expanded="false" aria-controls="sidebar-collapse-2">
                <a href="./prefaces.html"> 
        Prefaces
    </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-3">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-3" aria-expanded="false" aria-controls="sidebar-collapse-3">
                <a href="./acknowledgements.html"> 
Acknowledgments
    </a>
              </span>
            </h5>
          </div>
        </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-4">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.html">1 
    Building Abstractions with 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-4" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-5">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.1.html">1.1 The Elements of Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-5" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-6">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-6" aria-expanded="false" aria-controls="sidebar-collapse-6">
                <a href="./1.1.1.html"> 1.1.1 Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-7">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-7" aria-expanded="false" aria-controls="sidebar-collapse-7">
                <a href="./1.1.2.html"> 1.1.2 Naming and the Environment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-8">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-8" aria-expanded="false" aria-controls="sidebar-collapse-8">
                <a href="./1.1.3.html"> 1.1.3 
    Evaluating
    
      <span style="color:green">Combinations</span>
      <span style="color:blue">Operator Combinations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-9">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-9" aria-expanded="false" aria-controls="sidebar-collapse-9">
                <a href="./1.1.4.html"> 1.1.4 
    Compound <span style="color:green">Procedures</span>
    <span style="color:blue">Functions</span>
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-10">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-10" aria-expanded="false" aria-controls="sidebar-collapse-10">
                <a href="./1.1.5.html"> 1.1.5 
    The Substitution Model for 
    
      <span style="color:green">
        Procedure
      </span>
      <span style="color:blue">
        Function
      </span>
    
    Application
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-11">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-11" aria-expanded="false" aria-controls="sidebar-collapse-11">
                <a href="./1.1.6.html"> 1.1.6 
    Conditional Expressions and Predicates
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-12">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-12" aria-expanded="false" aria-controls="sidebar-collapse-12">
                <a href="./1.1.7.html"> 1.1.7 Example: Square Roots by Newton's Method</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-13">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-13" aria-expanded="false" aria-controls="sidebar-collapse-13">
                <a href="./1.1.8.html"> 1.1.8 
    
      <span style="color:green">
        Procedures
      </span>
      <span style="color:blue">
        Functions
      </span>
    
    as Black-Box Abstractions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-14">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.2.html">1.2 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    and the Processes They Generate
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-14" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-15">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-15" aria-expanded="false" aria-controls="sidebar-collapse-15">
                <a href="./1.2.1.html"> 1.2.1 Linear Recursion and Iteration</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-16">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-16" aria-expanded="false" aria-controls="sidebar-collapse-16">
                <a href="./1.2.2.html"> 1.2.2 Tree Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-17">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-17" aria-expanded="false" aria-controls="sidebar-collapse-17">
                <a href="./1.2.3.html"> 1.2.3 Orders of Growth</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-18">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-18" aria-expanded="false" aria-controls="sidebar-collapse-18">
                <a href="./1.2.4.html"> 1.2.4 Exponentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-19">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-19" aria-expanded="false" aria-controls="sidebar-collapse-19">
                <a href="./1.2.5.html"> 1.2.5 Greatest Common Divisors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-20">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-20" aria-expanded="false" aria-controls="sidebar-collapse-20">
                <a href="./1.2.6.html"> 1.2.6 Example: Testing for Primality</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-21">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.3.html">1.3 
        Formulating Abstractions with Higher-Order 
        
	  <span style="color:green">Procedures</span>
	  <span style="color:blue">Functions</span>
	
      </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-21" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-22">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-22" aria-expanded="false" aria-controls="sidebar-collapse-22">
                <a href="./1.3.1.html"> 1.3.1 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    as Arguments
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-23">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-23" aria-expanded="false" aria-controls="sidebar-collapse-23">
                <a href="./1.3.2.html"> 1.3.2 
    
      <span style="color:green">Constructing Procedures using Lambda</span>
      <span style="color:blue">Constructing Functions using Lambda Expressions
      </span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-24">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-24" aria-expanded="false" aria-controls="sidebar-collapse-24">
                <a href="./1.3.3.html"> 1.3.3 
    
      <span style="color:green">Procedures</span>
    <span style="color:blue">Functions</span>
    as General Methods
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-25">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-25" aria-expanded="false" aria-controls="sidebar-collapse-25">
                <a href="./1.3.4.html"> 1.3.4 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    as Returned Values
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-26">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.html">2 Building Abstractions with Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-26" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-27">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.1.html">2.1 Introduction to Data Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-27" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-28">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-28" aria-expanded="false" aria-controls="sidebar-collapse-28">
                <a href="./2.1.1.html"> 2.1.1 
    Example: Arithmetic Operations for Rational Numbers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-29">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-29" aria-expanded="false" aria-controls="sidebar-collapse-29">
                <a href="./2.1.2.html"> 2.1.2 
    Abstraction Barriers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-30">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-30" aria-expanded="false" aria-controls="sidebar-collapse-30">
                <a href="./2.1.3.html"> 2.1.3 
    What Is Meant by Data?
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-31">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-31" aria-expanded="false" aria-controls="sidebar-collapse-31">
                <a href="./2.1.4.html"> 2.1.4 
    Extended Exercise: Interval Arithmetic
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-32">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.2.html">2.2 Hierarchical Data and the Closure Property</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-32" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-33">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-33" aria-expanded="false" aria-controls="sidebar-collapse-33">
                <a href="./2.2.1.html"> 2.2.1 
    Representing Sequences
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-34">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-34" aria-expanded="false" aria-controls="sidebar-collapse-34">
                <a href="./2.2.2.html"> 2.2.2 
    Hierarchical Structures
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-35">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-35" aria-expanded="false" aria-controls="sidebar-collapse-35">
                <a href="./2.2.3.html"> 2.2.3 
    Sequences as Conventional Interfaces
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-36">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-36" aria-expanded="false" aria-controls="sidebar-collapse-36">
                <a href="./2.2.4.html"> 2.2.4 
    Example: A Picture Language
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-37">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.3.html">2.3 Symbolic Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-37" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-38">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-38" aria-expanded="false" aria-controls="sidebar-collapse-38">
                <a href="./2.3.1.html"> 2.3.1 
    
      <span style="color:green">Quotation</span>
      <span style="color:blue">Strings</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-39">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-39" aria-expanded="false" aria-controls="sidebar-collapse-39">
                <a href="./2.3.2.html"> 2.3.2 
    Example: Symbolic Differentiation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-40">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-40" aria-expanded="false" aria-controls="sidebar-collapse-40">
                <a href="./2.3.3.html"> 2.3.3 
    Example: Representing Sets
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-41">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-41" aria-expanded="false" aria-controls="sidebar-collapse-41">
                <a href="./2.3.4.html"> 2.3.4 
    Example: Huffman Encoding Trees
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-42">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.4.html">2.4 Multiple Representations for Abstract Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-42" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-43">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-43" aria-expanded="false" aria-controls="sidebar-collapse-43">
                <a href="./2.4.1.html"> 2.4.1 
    Representations for Complex Numbers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-44">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-44" aria-expanded="false" aria-controls="sidebar-collapse-44">
                <a href="./2.4.2.html"> 2.4.2 
    Tagged data
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-45">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-45" aria-expanded="false" aria-controls="sidebar-collapse-45">
                <a href="./2.4.3.html"> 2.4.3 
    Data-Directed Programming and Additivity
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-46">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.5.html">2.5 Systems with Generic Operations</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-46" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-47">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-47" aria-expanded="false" aria-controls="sidebar-collapse-47">
                <a href="./2.5.1.html"> 2.5.1 
    Generic Arithmetic Operations
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-48">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-48" aria-expanded="false" aria-controls="sidebar-collapse-48">
                <a href="./2.5.2.html"> 2.5.2 
    Combining Data of Different Types
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-49">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-49" aria-expanded="false" aria-controls="sidebar-collapse-49">
                <a href="./2.5.3.html"> 2.5.3 
    Example: Symbolic Algebra
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-50">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.html">3 Modularity, Objects, and State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-50" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-51">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.1.html">3.1 Assignment and Local State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-51" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-52">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-52" aria-expanded="false" aria-controls="sidebar-collapse-52">
                <a href="./3.1.1.html"> 3.1.1 
    Local State Variables
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-53">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-53" aria-expanded="false" aria-controls="sidebar-collapse-53">
                <a href="./3.1.2.html"> 3.1.2 
    The Benefits of Introducing Assignment
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-54">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-54" aria-expanded="false" aria-controls="sidebar-collapse-54">
                <a href="./3.1.3.html"> 3.1.3 
    The Costs of Introducing Assignment
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-55">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.2.html">3.2 The Environment Model of Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-55" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-56">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-56" aria-expanded="false" aria-controls="sidebar-collapse-56">
                <a href="./3.2.1.html"> 3.2.1 
    The Rules for Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-57">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-57" aria-expanded="false" aria-controls="sidebar-collapse-57">
                <a href="./3.2.2.html"> 3.2.2 
    Applying Simple
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-58">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-58" aria-expanded="false" aria-controls="sidebar-collapse-58">
                <a href="./3.2.3.html"> 3.2.3 
    Frames as the Repository of Local State
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-59">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-59" aria-expanded="false" aria-controls="sidebar-collapse-59">
                <a href="./3.2.4.html"> 3.2.4 
    Internal
    
      <span style="color:green">Definitions</span>
      <span style="color:blue">Declarations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-60">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.3.html">3.3 Modeling with Mutable Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-60" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-61">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-61" aria-expanded="false" aria-controls="sidebar-collapse-61">
                <a href="./3.3.1.html"> 3.3.1 
    Mutable List Structure
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-62">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-62" aria-expanded="false" aria-controls="sidebar-collapse-62">
                <a href="./3.3.2.html"> 3.3.2 
    Representing Queues
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-63">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-63" aria-expanded="false" aria-controls="sidebar-collapse-63">
                <a href="./3.3.3.html"> 3.3.3 
    Representing Tables
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-64">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-64" aria-expanded="false" aria-controls="sidebar-collapse-64">
                <a href="./3.3.4.html"> 3.3.4 
    A Simulator for Digital Circuits
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-65">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-65" aria-expanded="false" aria-controls="sidebar-collapse-65">
                <a href="./3.3.5.html"> 3.3.5 
    Propagation of Constraints
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-66">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.4.html">3.4 Concurrency: Time Is of the Essence</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-66" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-67">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-67" aria-expanded="false" aria-controls="sidebar-collapse-67">
                <a href="./3.4.1.html"> 3.4.1 
    The Nature of Time in Concurrent Systems
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-68">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-68" aria-expanded="false" aria-controls="sidebar-collapse-68">
                <a href="./3.4.2.html"> 3.4.2 
    Mechanisms for Controlling Concurrency
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-69">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.5.html">3.5 Streams</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-69" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-70">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-70" aria-expanded="false" aria-controls="sidebar-collapse-70">
                <a href="./3.5.1.html"> 3.5.1 
    Streams Are Delayed Lists
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-71">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-71" aria-expanded="false" aria-controls="sidebar-collapse-71">
                <a href="./3.5.2.html"> 3.5.2 
    Infinite Streams
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-72">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-72" aria-expanded="false" aria-controls="sidebar-collapse-72">
                <a href="./3.5.3.html"> 3.5.3 
    Exploiting the Stream Paradigm
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-73">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-73" aria-expanded="false" aria-controls="sidebar-collapse-73">
                <a href="./3.5.4.html"> 3.5.4 
    Streams and Delayed Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-74">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-74" aria-expanded="false" aria-controls="sidebar-collapse-74">
                <a href="./3.5.5.html"> 3.5.5 
    Modularity of Functional Programs and Modularity of Objects
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-75">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.html">4 Metalinguistic Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-75" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-76">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.1.html">4.1 The Metacircular Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-76" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-77">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-77" aria-expanded="false" aria-controls="sidebar-collapse-77">
                <a href="./4.1.1.html"> 4.1.1 
    The Core of the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-78">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-78" aria-expanded="false" aria-controls="sidebar-collapse-78">
                <a href="./4.1.2.html"> 4.1.2 
    Representing
    
      <span style="color:green">Expressions</span>
      <span style="color:blue">Components</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-79">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-79" aria-expanded="false" aria-controls="sidebar-collapse-79">
                <a href="./4.1.3.html"> 4.1.3 
    Evaluator Data Structures
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-80">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-80" aria-expanded="false" aria-controls="sidebar-collapse-80">
                <a href="./4.1.4.html"> 4.1.4 
    Running the Evaluator as a Program
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-81">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-81" aria-expanded="false" aria-controls="sidebar-collapse-81">
                <a href="./4.1.5.html"> 4.1.5 
    Data as Programs
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-82">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-82" aria-expanded="false" aria-controls="sidebar-collapse-82">
                <a href="./4.1.6.html"> 4.1.6 
    Internal
    
      <span style="color:green">Definitions</span>
      <span style="color:blue">Declarations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-83">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-83" aria-expanded="false" aria-controls="sidebar-collapse-83">
                <a href="./4.1.7.html"> 4.1.7 
    Separating Syntactic Analysis from Execution
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-84">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.2.html">4.2 
    
      <span style="color:green">Variations on a Scheme:</span>
    
    Lazy Evaluation
</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-84" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-85">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-85" aria-expanded="false" aria-controls="sidebar-collapse-85">
                <a href="./4.2.1.html"> 4.2.1 
    Normal Order and Applicative Order
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-86">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-86" aria-expanded="false" aria-controls="sidebar-collapse-86">
                <a href="./4.2.2.html"> 4.2.2 
    An Interpreter with Lazy Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-87">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-87" aria-expanded="false" aria-controls="sidebar-collapse-87">
                <a href="./4.2.3.html"> 4.2.3 
    Streams as Lazy Lists
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-88">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.3.html">4.3 
    
      <span style="color:green">Variations on a Scheme:</span>
    
    Nondeterministic Computing
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-88" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-89">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-89" aria-expanded="false" aria-controls="sidebar-collapse-89">
                <a href="./4.3.1.html"> 4.3.1 
    
      <span style="color:green">Amb and Search</span>
      <span style="color:blue">Search and amb</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-90">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-90" aria-expanded="false" aria-controls="sidebar-collapse-90">
                <a href="./4.3.2.html"> 4.3.2 
    Examples of Nondeterministic Programs
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-91">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-91" aria-expanded="false" aria-controls="sidebar-collapse-91">
                <a href="./4.3.3.html"> 4.3.3 
    Implementing the
    
      <span style="color:green">Amb</span>
      <span style="color:blue">amb</span>
    
    Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-92">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.4.html">4.4 Logic Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-92" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-93">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-93" aria-expanded="false" aria-controls="sidebar-collapse-93">
                <a href="./4.4.1.html"> 4.4.1 
    Deductive Information Retrieval
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-94">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-94" aria-expanded="false" aria-controls="sidebar-collapse-94">
                <a href="./4.4.2.html"> 4.4.2 
    How the Query System Works
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-95">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-95" aria-expanded="false" aria-controls="sidebar-collapse-95">
                <a href="./4.4.3.html"> 4.4.3 
    Is Logic Programming Mathematical Logic?
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-96">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-96" aria-expanded="false" aria-controls="sidebar-collapse-96">
                <a href="./4.4.4.html"> 4.4.4 
    Implementing the Query System
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-97">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.html">5 Computing with Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-97" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-98">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.1.html">5.1 Designing Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-98" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-99">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-99" aria-expanded="false" aria-controls="sidebar-collapse-99">
                <a href="./5.1.1.html"> 5.1.1 
    A Language for Describing Register Machines
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-100">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-100" aria-expanded="false" aria-controls="sidebar-collapse-100">
                <a href="./5.1.2.html"> 5.1.2 
    Abstraction in Machine Design
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-101">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-101" aria-expanded="false" aria-controls="sidebar-collapse-101">
                <a href="./5.1.3.html"> 5.1.3 
    Subroutines
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-102">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-102" aria-expanded="false" aria-controls="sidebar-collapse-102">
                <a href="./5.1.4.html"> 5.1.4 
    Using a Stack to Implement Recursion
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-103">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-103" aria-expanded="false" aria-controls="sidebar-collapse-103">
                <a href="./5.1.5.html"> 5.1.5 
    Instruction Summary
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-104">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.2.html">5.2 A Register-Machine Simulator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-104" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-105">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-105" aria-expanded="false" aria-controls="sidebar-collapse-105">
                <a href="./5.2.1.html"> 5.2.1 
    The Machine Model
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-106">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-106" aria-expanded="false" aria-controls="sidebar-collapse-106">
                <a href="./5.2.2.html"> 5.2.2 
    The Assembler
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-107">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-107" aria-expanded="false" aria-controls="sidebar-collapse-107">
                <a href="./5.2.3.html"> 5.2.3 
    Generating Execution
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    for Instructions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-108">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-108" aria-expanded="false" aria-controls="sidebar-collapse-108">
                <a href="./5.2.4.html"> 5.2.4 
    Monitoring Machine Performance
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-109">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.3.html">5.3 Storage Allocation and Garbage Collection</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-109" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-110">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-110" aria-expanded="false" aria-controls="sidebar-collapse-110">
                <a href="./5.3.1.html"> 5.3.1 
    Memory as Vectors
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-111">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-111" aria-expanded="false" aria-controls="sidebar-collapse-111">
                <a href="./5.3.2.html"> 5.3.2 
    Maintaining the Illusion of Infinite Memory
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-112">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.4.html">5.4 The Explicit-Control Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-112" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-113">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-113" aria-expanded="false" aria-controls="sidebar-collapse-113">
                <a href="./5.4.1.html"> 5.4.1 
    The Core of the Explicit-Control Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-114">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-114" aria-expanded="false" aria-controls="sidebar-collapse-114">
                <a href="./5.4.2.html"> 5.4.2 
    Sequence Evaluation and Tail Recursion
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-115">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-115" aria-expanded="false" aria-controls="sidebar-collapse-115">
                <a href="./5.4.3.html"> 5.4.3 
    Conditionals, Assignments, and <span style="color:green">Definitions</span><span style="color:blue">Declarations and Blocks</span>
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-116">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-116" aria-expanded="false" aria-controls="sidebar-collapse-116">
                <a href="./5.4.4.html"> 5.4.4 
    Running the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-117">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.5.html">5.5 Compilation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-117" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-118">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-118" aria-expanded="false" aria-controls="sidebar-collapse-118">
                <a href="./5.5.1.html"> 5.5.1 
    Structure of the Compiler
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-119">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-119" aria-expanded="false" aria-controls="sidebar-collapse-119">
                <a href="./5.5.2.html"> 5.5.2 
    Compiling
    
      <span style="color:blue">Statements and</span>
    
    Expressions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-120">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-120" aria-expanded="false" aria-controls="sidebar-collapse-120">
                <a href="./5.5.3.html"> 5.5.3 
    Compiling
    
      <span style="color:green">
	Combinations
      </span>
      <span style="color:blue">
	Applications
      </span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-121">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-121" aria-expanded="false" aria-controls="sidebar-collapse-121">
                <a href="./5.5.4.html"> 5.5.4 
    Combining Instruction Sequences
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-122">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-122" aria-expanded="false" aria-controls="sidebar-collapse-122">
                <a href="./5.5.5.html"> 5.5.5 
    An Example of Compiled Code
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-123">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-123" aria-expanded="false" aria-controls="sidebar-collapse-123">
                <a href="./5.5.6.html"> 5.5.6 
    Lexical Addressing
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-124">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-124" aria-expanded="false" aria-controls="sidebar-collapse-124">
                <a href="./5.5.7.html"> 5.5.7 
    Interfacing Compiled Code to the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-125">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-125" aria-expanded="false" aria-controls="sidebar-collapse-125">
                <a href="./references.html"> References</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-126">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-126" aria-expanded="false" aria-controls="sidebar-collapse-126">
                <a href="./making-of.html"> About the SICP JS Project</a>
              </span>
            </h5>
          </div>
        </div>
        </div>
<div id='permalink-msg'>
<div class='screen'>
  <div class='alert alert-success'>
    <strong>Permalink copied!</strong>
  </div>
</div>
</div>
<div class='chapter-content'>

      <div class='chapter-title'>
        <div class='permalink'>
        <a name='top' class='permalink'> 
    4.4.4&nbsp;&nbsp;
    Implementing the Query System
  
        </a>
        </div>
      </div>
      <div class='chapter-text'>
        <div class='SECTION'>
    

  
  <div class='permalink'>
<a name='p1' class='permalink'></a><p>
    Section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF> described how the query
    system works. Now we fill in the details by presenting a complete
    implementation of the system.
  </p></div>

  
      <div class='permalink'>
        <a name='sec4.4.4.1' class='permalink'></a><h1>
    4.4.4.1&nbsp;&nbsp;&nbsp;The Driver Loop and Instantiation</h1></div>
    

    <div class='permalink'>
<a name='p2' class='permalink'></a><p>
      
      
      The driver loop for the query system repeatedly reads input
      expressions.  If the expression is a rule or assertion to be added to
      the data base, then the information is added.  Otherwise the
      expression is assumed to be a query.  The driver passes this query to
      the evaluator
      <span style="color:green"><kbd>qeval</kbd></span>
      <span style="color:blue"><kbd>evaluate_query</kbd>
      </span>
      
      together with an initial frame stream consisting of a single empty frame.
      The result of the evaluation is a stream of frames generated by satisfying
      the query with variable values found in the data base.  These frames are
      used to form a new stream consisting of copies of the original query in
      which the variables are instantiated with values supplied by the stream of
      frames, and this final stream is
      
	<span style="color:green">printed at the terminal:</span>
	<span style="color:blue">printed:</span>
      
      
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define input-prompt ";;; Query input:")
(define output-prompt ";;; Query results:")

(define (query-driver-loop)
  (prompt-for-input input-prompt)
  (let ((q (query-syntax-process (read))))
    (cond ((assertion-to-be-added? q)
           (add-rule-or-assertion! (add-assertion-body q))
           (newline)
           (display "Assertion added to data base.")
           (query-driver-loop))
          (else
           (newline)
           (display output-prompt)
           (display-stream
            (stream-map
             (lambda (frame)
              (instantiate q
               frame
               (lambda (v f)
                 (contract-question-mark v))))
             (qeval q (singleton-stream '()))))
  (query-driver-loop)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHR0lVVRdSeRpiIbiEpKLi0DmF2sUJNvklQQoVx1EAD1VLOjoVtZGDMf1nya2UlzpyHr7I9roikkjAA5hdrrd7rRATF1j4XoZfABIczTJzUVSidzkaiMRwxBqULLCVawp7vZLBQ6yY6KDFY+S4-GsQnE8442bzRbLWiPfKjPQTD5pDLM4gAE1cKw8ZP5my2VMiYslJJleQSCPlU1F0myDXFknBN1Edweso2FKCoBYknKokcpxJil1jQNjlUwOyVixNXqTWkMPV8Mtwo+Lv1hqa4v25vhgq1KTRNVEAEd2mRcsM5SHttTk2nNKQOqn00WauRjjktIGsxtNTmRTMGqVSOU+RbhYrws3qK321p68Kk5ZrLZy5WEv3Eg2uy0RzZiOOFFXyFPBx8k5JTSDiCupwnKWIlVv7ju97GdPGG0nxaJSLrsWag9PO0fwrf756nRf11t0ljmEYNdQAAIgAVWIcpiGoAB3Ow6i0SRLlAABaFC3xpBQQIMABuLAAF8BBIM4RF2aR9kEXRgRBOgjFMfxKHwUBFBmG5KBYKVxHtR0HkEAw6IpedbB2LlandRh2M47jiKdSidlBWi8P8fCxADUR7CYlinDJEhxQdGTeJIfiTApFR6HIUBbkIaQLIAXgwuQFEUHjaEcKMKKM7QG1DD4rgUCULn0ShmF3SdvJ80MXMXD13ByNxAT4ryIuSopqLoJKUsy8wosC8RgtoPc+P4pTkiEuwZjK1ookUKybIPIpgkq-57TM-zV1ql8fPSXTRHwIlRHFErQBU0Q1JMlIANxZySF0cDIOguCCAMkRyFqTFUPQsjamwobCMIrAopCBwfl6KqAQOa50vjcaAjK605iBUFQFsgA+BzaWozUxku3CCKIoQVgw5UpVoNVawHa76P8O6ZnIRhCHIAALfZqUc3IJRBrIWmNSUlici9nnjeqrVR2kzJVaUWjMugS0nAnfz-d78doCnQZaGQ3DZLj901PD9sOvMaYLDNFG+FhyCu8YBICRjmJmURYlW-NSw6chxdo6Wijunq+viQbJhGsbZa05wtx+b4Jy0UW1Yl4yoeFO7SacvrGG+JcFcnMXbe0KWhuG1SaZulJqYsl23a9s71Ps8KnZOYLw4rZdPZt2ifdeP2Zc0iqrAXSPnPj82bcju3wrusPC-FyOM+UgP1Ptj5HaVIWVcUcLbpNQvLYl631eeX2Q0IgI9v+ki7C+E6+hIE9KB3AbFAGE1NYsHPhJtVR569Z63pAgAqKftz1neQN0BfFL+g7lvgpZF2oBHHA-B8eXofcg40uWnGbwtMzhRIl+SEPQBewYPZT+GZ3YrhrD-X6WwYZOAVqoJWoCiw91tm3bYxBrLSDQSKXYmhxSi2vj0O+D8vwrASgXcByde5vCykUOghDb4-BIY+aErdaHChtHaZWX8aod0odWFBGtioG1rq-duo5ypOGYU-fc4USjHUUNIkkvoujSH3MTAI6QMHSGkH7YeF8AYiDzD2PsP5IaTAAe5Z6oATHlDctQaM+4-YAJbDIYBgCGHELvI-EkgJ3LQP8AA-ep49buPHr8RwwSZ562dL2NxATl4SKZkody31-J6XGPlUKVtXEBgyuwgpAQomz3FFdbBhTfKvF+vzS+QNKoWyTlbMxUtX53U4faJqbQlDYNjrwiRRpIRPnBgKKW1SR4kiBtPM8dNnyalfgA5q1jelTOyT8ZqAyTRQlJM+Qm-cAgrJUf6POKyVyHOaDzUAzVeaTDus1Pm4zAZ5iUUMn+cz64zBys83kBMUT+EmLONG01DGLi+YuDkIdJBaHvt40h3ydn5J8lLSY6QDmdCOc1RRMKWGLjRec+moBynCl6aCyOGzTRwuGTQipiKqn3NwGAKKDB8DMDYFAOAiBkDoD4AAJgeSIGYoQGRqIJq0lekj+iEEaFiF+oAAA+srvIzG+BJYgIIZXysVU4JozRRCQpfhq0MMxtHCp2QEA1woZg636vggm9zDqCvcC0DFIrjABBuWK0AF46WHVhpIEEIIBrOAUV7XQSN7QVhBH-WB7pJDBRQUYAAZAm0AiNdX4K9kYWyWbQBhscBG71tSjVehfvXaNEaA16XHsBECC8drn0Orilop0F4lvdUk1Nkh8EVkoCaylYyDGj1FCcmZlLRVJN9f6wNVazEgWHVoOthFDpzvNn6PFprS0eo7V22Nait2KG7b2qB-ExlLoPqc9ZVxjTku2aOjd7a037p3Y+nt6j+0+qkVimRGax0LlFOWqdwabazQhVC0F2E5UKsNU4f9lbAPi1mlICSkhmz2jA0YDVi7akksbfGoOd090HsUARp9Gbj12qw5+5RF6ISbIeN++2+GH2EcI6Rt9hanDhjdJewZvJ6OFDLX6itQbvgoNmpxw03HaO0AXQOiZ4mY2xW9HiRtgI+PQw9WvUWq6m19AXroYjL7WPkeBSEPUbp3K4YY5upjT6WM2zI-W9jjh6mJw9lbNTiTf0TqE1WkNoEXNdxk4dSqknr2Wf49Zztz61GkYLSZmY5NMYeA8554S3mAMib8yBRLqoWiha2eB81Hx0uwcy0B0COXKb8PIEF2plW2biQGpQPGqtxZLzuuEyw+BROgB4CeurLMktU2hLTdz9m8Mes671Hr3L+smfq1jWYNksRc1a4kCbSSpvdb8wAZjY-Fj+o3kEpYE5O0rq4stINELVkz7TuEiyAe1ybCiQJXePoAlOc3B1Xeq6p8brrzARfvVFuzbWvsTPLtVwRT3gfps+8ZwdtxO6NO7o9jbv7Qe2wRxM+WisxJXeh+jtLmRMHQ+x4DAVZsodo6s+OknOjovQ-24OpsLY2wpcsh6krwmLvlZArYm7g7bH2McRzxjIOSP2eZzjpwZFmtfv+0Drz0HBMZd5-B0Ccu8YrEFxDy+ZKtnhfU7DxnsW-pLtBAbshRvUt2AM2ozHDn9p4EZUwVg7B2VcC5WgHbfLxVwwRsjRQlwo1c61WUaQurVgh4JaGYIyEs32QD+pby-5GCAWD7NbVkfIViGuHeBQ4pdCWCLJQLi4pUgydk4DO7UVFAxS9PFXQqTzHiN-VW7LXhdL6WBcfcpDe4pYiui3-umGDvMmGN3uv+BQ907zar87zlgNd4ClFXXgMcoD6UwlWf7fjrOem-gXQfXyciByhZmfP7hJbaX6AWbp+7A5UySFQqu-r-7667fvbcXB13c6dVVqDYK-MeF7f-dod7QAnwB-UUMApQZqN-f3BfHnRQK5fzMVSOdfEQWAsUNqFArpBAlNGzF9eA6XR5MgUoe4VVXKLJPcFpO9DHJ9UfavM-ChZlYtOgttX9PdJggWcg6gGmNyCiRTN5N1NvYSD0ONNgnIa5QiABXNeBJWZ-AqBIaxY1PCZguwWvRTLTVRK6ZqWiYA0ACQoCFTXQfQ8HDfRTM5AMZyRTOiUQ43Lgh9KQ0QCws-Kw-Q2wr0ewv5MQuwQjFw0goxS4dJagl-T2bTPQtxZvLce0DgvwkITQEEJGHQ-0AwxPRI1VFIyIWibyYIYwxQLQ4tUwy5eJGIgQpFUMdISPLIxGVI5oAwgAHkyOSLqJyI0RJnTymhAgABUyh7piBah5IQRJUEgGA6AqgFhKABp0gQJQAABqWPApZVIkEERifYFTIwRY97OYxYwlAIFY1VdYvAgMfiNuNPDPXo-o-AUQGCYY0Y6sQBSYlwGY0CBYpY9hQ4tY-ADYyIrY0CWad4-Y-wL4449ooIseMoSoaoRtPORtN5SYXg8QZwModeeIooBta+eovJUo04sRLWMPCVBnTY4EqkfQFEjENhCpQsCg1YsI5Qq2UZYE9IRtZ6bNPdEkwpYIPddo4E1EDxPVFjP40NJ9cE6ucwQeIoY2cYNkpPVNC4PHek1ZP+LYSaEw7TWaCCJoXSUAWtBJZIQ2QOeuLYABFw6xSHFwg4dOUuD1ehPVFw6whKOwhFApB0zwwI-UoeA2Tg4ScYCktE60mpEzVFbTOEjU3EhEgIJE-0q0wwfE7KWpO01YEo9o+M0qQk41bE3IzKMk5E0oSkvkmk-gukpQ1ZWMs4zKFk7TWUwgqLTkrKYIGmH4Hk6I3EjoxmJM03YUnNUU+JT0muEMaU-QGs+QxU0slcFUooNU7EzU4gbUiUXUzeNCHYM9BIOtLYQ0uucKU0xTc01g7QvZUMO6Tsh0lTLwnIKlCpN0rpJ07w-siU70hIv0-MgMwwOlF3S+JlFlD3TgTlXgDAP3UUNiDiKgLiHvUeIFGHZXefM7ZAuSECYCqSTAuwRC0C+0diBYNzROQyYgKC4Se3SC-tABVCsvaSYFMJBRS0DvLdd7fwLdCKS8gIDvA9Wi8wA9Bil08wDvYw1iow2NRgDiqil7ceXi8eQSooDvI1TBd7KSnRYURi-wDvSUOgBYSQbaXQZS1SoYj4BSril7NU1itUnyXSo6ETECG0JGWYBoOgY+CyxGKyhgLYEyjveY3i-wTPUAWoTNN6ZCRY7S5yl7FCNy8wDyryreUAZCdCfyzi0y1cXeYK5iS4XQMK16CK0AHeTy8wAKsy4ABK0K7ytKsAaKoSsygAUjyqSs8oKuQlKsytAGyrisTzcvyvCoT2zS8pio7wAEIs1mrKqUqfLQAer7IOqSq4rGiKrkrqrQBmjzBRqJKXtGjbJgqWrUrkIlq5qGrFAQIXpJqqrWrQA3pNrOqXsXplrdBkhVrBqzrjqxrtquqEq0qAhUrzAur-AQ9LRfpiKJIQLSLwLlEVNnoQxNMt1dASKwLGUvroQLJwayLR4egGgAArAvYBYGh6QQcK7in6pC-TIgtRIqEy5IWG-6shX6LAb6ySNCsUC2R4+yKtDvK1PWd7RmgaQm6lPSsyyAYgXWVwdS8wLmnm1aNm9mjvOyxwWASAVisWiW4W6lUW+QeygAUV4rFsVtloqQ7wADlJBNaErtbNb2zCkobzIjDsaqaQMV1dCgathNMmJUq90Z8waza-qLaz4KbfqwKLbI5Uabb0bwqCKZ9CZibXayal1RJxJKa-rp8Zphjx4CCtpHAiRIkJQsRyI6TEbJApB6EJIEEqTkpiaMLI8VwZFEpylqI46cJkhHMTMmyqglS9wCC-I8F66woUpcEJR69naIb9cSi+TzBg7obIVLa0j1b-B278FiacpqAkaUbdA+7TbI7PbB6oVzCYqthRyEExJxyNg6VI8LJc0QRSgGhwht6tBrFa7qhT7VwyaPzyK3dWUOAOVuBMBALWp3AKBHACxvhzgbRGA2xENKBkNI8CCpKpUgICKAGgHXCKyGpazt0X1CNIGUNj13iQJHBdiPsVVvj9gIHgRAHkGYHEw4HGckHgG3C7AYgbRkwG9C9rYsGDD6DhJJBSBSBJVrJaRRYqIWGCqGBFigQWGayQI5jgghGRQdj3jmHSBR6PghHdAviz4x9B0SAYoaY6HViqIFINGwRlHgQaY6IkQfT4I4ZVjUHtr3jKHDQaYaG55NNqJk6VHRAtGNZUGDAQJoCdHXZw0sQWBHpI1DDZK1FqJiYRHjUQIQwkwq0gnQAk0GwTZMzCMgn0NZViGEnQRjJhrQJAhsIQxggiMH0omMiQIsm8jPVaA4ZmGfgv7lFf62wgnU935OQpjtdeQomYmIoi1Bgn8aMwtEn2yRGzHFiPGBC3AfG900pfGUG9iIo5iMHYTm1i0umr1DdEmgTpm3jBniAHG81vG8mJcX1xnemti25sIwmqjQAhmlAQIRKtHdALntnGAWBCHkgkwCi6mFRznNndHLmeLdAq0xm0mRT9m0nCY7mRniYkwviJmcnQIAByDB6iVBuF8JzB1Y44oJ9xz5zxz+9oRgfYAsXFkB+nNRHIMB3Z-BfF+a9m2K7ayFcUHY3EHY6CGrWaE8LEZl-zaya7Y9aFi5slxQClwmQjAV25zF4Z7x8Fj5hxvl4Vnsl9GVu5gVn-CZDOrO0gHOtZLpcSXsTZC6VQQlxp7kJ0S9YJ6l2dLkeXEkd7RZnjVYY1teooTTFVrcNVygBBUlG4bVu4Jx3V7lxmDppQY16FjvLJuR0M+ZwYY1iVy9JVwGCl30RCS4LVosO4H11+Y2GYLXGRSN-E00nu6s6OLYOZ3TBZ-XfLB4SN6ub6z1mmPSNKaxTTONhCCsRNj15Nq6cZitwSD1HKVkwpni6FgovdVtzZQNNKQmAi4du4UdhSX17UHt-N7NK546U52Bydmt2YBSZF+d1RQRp17O11jVqIFdlIfI-ioFeG+E7BR1zO519V915gNt71yNiVgo7d-0J26t6dmifUzct+OJ9g64EuFIDrF7ENwBMN4tiNwDn90RY0znJJaN70oMwdVaTEVNxh8VAowN957gwD5F6cy9WcqCWCOwMtlaNaLl6AyA7uY1-xpwLDvD95wjbD7UAj64IjhaUj7prZUprQMYqvU9GmRgZRDkBoe0TtW8fBWjjDnNCj1Nwp1l4Ttx83WpCT2YKd4T84CzaTwx4h6jwETt53MAekbFefFDMGhGHYBcgNcgele+z1RGOYNwUAHbZiGmQdHbH3H3XwDQlcugXsRQO0WoYvO8XEUpfVzMkvML7M18Fm8UepksDwIL3GqLPdKLxgcLp5j4bkh9dL8L84vzgL5L2VtRPLjWGNkQO7CsFDRQP+FxOJFoaryPaxDvHeJr0QI+fU+1KEqoQL0QMSHgXQILxwWbNMgBCYhodr6xE8Ir-rxwQbkr2JJYRrqB4RLYdNpwOL0WQgSb1byc4Dj1OL8U-2UaI07c6GznFQDL6bu4WbsSblQFmLHb9rtbo8wkrbvLw22BuL5kxbz747yUh8qMwtegNlvrgbobubh73E9ofb3j74J43blDG7-z0gcH+bx7pb8IF7+8v9y1FO3WOeCbnHtMg4qwefF9XJMzyPe1nyAoqtYbhbgo4b6Hkg2nzKQjKnnH3H39uD4OC7vLlHu7kbzH4nvb47zOBpj70LjLoD5IX5FIJsinp7pHmnrABXgpAo5nqHsw-A9n9hFjZ7vb36DX3n8pJXwjPL3XqIXHr0jcx8-wQ6TS+QUgOox5tMtpQR-M6E49nyEoHr1QbBdINgQpokITmrQlYIMPtlwlC4qaFgDjkj0AEzp+DaHslDdc5SXT538gV3ulABFPkTqB+t20cNKB2rvCABGz6xQv9kcvq5gPutYiyz+yWv1ydr7a6PpT0O2pO7VkSUVVPApDczmH1wwwgo0hxx0f8hmxIkAfsESfxQfv1YggvdZf1VGf9fhfrpJfuflfwwwjLfzfvfqgpOy0yf3QQIwwmbtHi-pgbw6Apujuu-1Aq-mTgovvk-tVF-vX+-i8ir8VIhnQ66ducVaQjpkwE4g8aaVAWkOAJcIit5yekRDI4Ec4ShI8jAP+IdBUCqAUYgHNMht1aBARs2fPf+Bdy37WIt+idRcJaTgF2EJejhYnMnVvCE98ER-Ukh80QGECUBtLdAbq0v52Ffu2A-YJQIxRH8eeoiAgQxz1Zw8EiBRIQXy0ja6B5BzHaDuINO5bkfIjsa4ADwd625SmOAn1gAMwa6oWAjTZureF1C1AieC3CwWpUDR0BRuMnAJqLD6zQtbBVgvSA4Nq7ItB2D6OgH1n17uUeGcMEwWYICjuCieIQ7IMrxcHSMqWAQCIZ4Nmwz8iQbgHPGBUSEuCNKo0OwUkIi6k5-BJrRITUG5TeDGYvgusgEOwS1dwqqQ1OrqgyE5CPBmKSwfYNKFxDhQNQ1KsqlCEsY+swiZDhMh6HRD8AuoNWOjRjoMNdOow+QP5HLCWBsgdDUIbbUmEDDfOMw8gHMOGE+Nth+Q4klEMebQtjUyLOoYwHSGoYmhc8cKByQOHq0uhb0DYVsIOFLDohdmBYY8zWG+cn+ekRiNTWOiTg7+BoS8G-wsRkCv+FAr-lQIdDaE7+gRP2NGi25sC48eedJEP3wY09QAQI-gd4XqYehNhK2RwBZVd678MYVBUQV-0JhYi-+rhIwXiM5iEiXedRPERpXkDYiLyhhM0oU3wA7oBocxaFiBG5E9peR+HNMB4GZGYj5ARgaFmaUBx+snAQAvEVKPebfDE6fQamP8KtjiiqRgRE4fRzPaKjomyaViGeyBEms6RBIokXUUIyKjAhoYQjKaNtHChzRY4S0XyxtHz1Moe6B0R6JSgelkWAonkXSyMGUFD6VgVyNsODwEECilVe4bqUwQQkHOd4OxJCnU7h8HginEkLoDjbii42IIgIAAktEH4JiNkaxM6MXCujsxrIvzmyxWBz14hEUXMXQN06FiOogjQUZHjpZHDMEyLEMXvXDHPCWxJoayIkCMGEABCc-K4PXklF0d5hqxN0ZKITE2d5hJg8HgtyC6ODQRJtdxDZ1XGQ9ag9+EAZtwJ7WpRYRgYIMahFB0AjBE4xNsN16BTj1s9cABEF2sRDtJR8IwkkAKC5niIBIoILrvSsCgAeiAACUVqOAAAguAHACK0AASj0UgAAB5TWsgHshqFAKNxXPvZQzHW4yxbIsfjJzHHoUU6lwB8ZzBNZLibxo7DTr4lIkrYJWS4mQOzGolkJoCDEnRKmJrGsICCIEsCZBOglwTEJyE1ieT0om1tmJrCMsQQSXERibxjgO8d1kkkstxJxAFCNsMgEmZdYYktMRJNmErY8JBBbYQ6DGGaY0EQIyVFvEJSu8kxswRcNhN5BmSE+fFfEbYH0m2iMJrvDiZpx0nOTiA+k-tHvUsictmQJAZzvZAAAM6hQ6PEBgjOYgpmbZRJQHwRRogpKgEKViGsTwxI8wUvjgJUWI8APxSSTKS1Fvg5ToCd2aKYQPRFwE8GUDYvHFPNbNNFwiUqMWeyKbvYCiRUg1ha3OCJTMek-J3IBUsALxKpUDJwESBqics6uAveqU0yfiJ1xQqhW4rFKynxSepSUv2IdBCH2gYIMgNsDpxgSfjgQqbORPdC4QVTF+4AzqatNcjNTwoLzM9ix1fAFEtpjgHadIDbC4dpBjogIC9LeltgVB0gw2v+G0G6D4OGOSwNtN2kTTgGRg28JiAlDohbW7HUosPwxF5jHetSX6VDPwmDks48oo6dA1J4MRNIiXNRHf0JkkCDpSSZPPQIlKwdykliCEaSLBBn8Dy+k2memTnyIivur4bkWpA9HpAsZ70kkfPzzgNBXuwoQiEiDN6aDCSWHJUSlGCBCyPpD6QmfKhzQQzXpUM5jllzOZ8yaYOgu3gwP8Kay-phg6uoOhVG-D1ApoGrj-2kD6T5kYI5mUzNFmszi0sIpsZL0UBvV8ezAk8WII96HdiA6xBkZhJFl0lyRzMwmD6ICCRB2ZHxE7kbDxmECTidsCpHgB3hZyQwlicEfZEoHuzBg8c6kbjzui+yjx-smJEiOSjBASAoc10Rf1jkBARBO-I-t9Iig6iUowM1EfbPZkiJ1Bf7OGXgkRknFdeqMqfh6RMCgBM52cqmb+gDFCigx-csaCQK0E9yapI-YuXCKQ6AU65PxMOcSNUBM9oe6MvQZyMXbtjhR7zBeR2N96aIxAootREfLBqzZpRimXUanKPkKyT2KI5utbP4L3Aauz8owifIEFyjP5o3aFlbL6A2zAFkeevND2AVX9p5YALOTvA-la8+shooCvqNfnvM95YkV0daKqEVJrRs2duckAIUHy6iQ7EhfWJSBDtyFTcrYH6MZg3zeR14pwEVOthdx9WMGZAg0iwqzQipyFXjveDHEPAipq-PGtDOgbQFOpFmKRTOPia2Yn0Ui3WdsA7wyAdptQaDPDC5bIsCKlvSaZ8LDp7BZgy0pQEVKzE4sxIuE0AI2O8JOyTa94KPJYoymaAvQI0lDGNNWBSLnEF3Kha2ILY+QqFFY2xTGh8kUKigZkcRYblcUpipF0SlII4v-66cglQ4ksVyMDF3z-A547sYzFjjYssQ+wBRQ4hjA55FwSS83qsT7E4pnhGS4sb-AAkWQeJjgGCWBAAAyitFCXGJ0SRTak7k+ykVMBD2LT5YM4SIRKoG3gSJkk6FhROImBoRltE2wPRPJ6MTLFgIGfmxLnCcstlhhNpR0u6XgBhJPwUSZspWW4VDChk8ennVDDSTnhsk+SZco6EyMipqkg4dhFtEPL3h21MDiBHeVqTTFqncOssrGV2FrlBwoyfIBMnJQip4VQlAnUNDcLrFTkzmK5LQRDKLl4Ku8sGMLr2gKW-LCJTipyDLjsgBkqFRsNhUYldyqVcKDcvmDmDLh+CcpJpM8k0TKxUSkud9NjEJ1llnK9FSXMJqnlbhRgopYSopZ4SyV7vJ8RdxTAY17IO41DkoBlYgRxVtizPnoL9m9QTx8qoyCU3uCxAspEq2xVKt2H1M9V2yPjgIhlYir3hCYmYDePL4GinBH8YxoPzfG-wIMooIAZ6uBU10cQlgdlT1KanESgQykv+AQKdU1c7JuFOHs+P67WInlc3e8bGtx4AJWG6eBIMGv7HvDra7CH5SuOK6zplJHy94ZqqJoIxweSk7SSpLUn69Xmyk3QLGMzVDSfgsa6VRLKTlncvSijIYYGo6RBSk6N42RVNJNpljrEsS2QIbn8WTAo1xE51bpNWXxqLuL4+yMmrEj3jJJx3DNTYDbWWLpV+a2hIWsWHFrAVny3HqoCrVnrOWZakwX3jp5ntUVLavddms6m7CYOA8+uPoiXTig9InUpkLGvDW1r9W3CtNYnKtBqcwNEa5FmpyA1proCcG5ScBs4lXL643wXEOJ2UlQiR1CGzcQj2aBaTUN7iNpXxNgnwSkJJyyYKRqgnkbBJvSxtbWubUFVCNOa+gPqTuggQKgynPtYDCg2ctR1r8DDUGs6nDqw1s6-MRd1Y0jLrEhyrpT0r9hybjlpYp9Zy2Y3hVpNeyjjR6i43lAeNgFXHJvTFCI1L4urKYQkWcGXoFG6wihGZBM1CAzN0iqLFZpn5I5jNMkAzj9AP6MEfo0BQzUrGUr2aIKLm5RaThc3QFIcgWmSI5sMKfTrNwWPhFFqECebVA5m42Yt3C0qcTM8QEEMcD0iEqQtMnOLQmLs3UBxpdmjzWatuEziFCYkCrcCk8DEAgtqCd5napMHItSt40tzfVooCBgmtHm15ckmKW4t84rsH4D1tXATbU46vKlm1vJX9or1cVWljsXVUlKICtARGmVtwoDKTMgWrbYogcDNaroc2mVYeIVJGaktEFS7S1tgbHC-WOU84dClaEsrkoq2kbZFsO3RbrtqcakZ2q8ga8QqBVPbV1sS2fbktB2ugEdreAA7fRVhD9fckW3bUGWs0N7XzWB3bbAKOWj6Jo1+27DIV7w6FeMPXiYraVL0GbetyJYHB-gxwYbfsCx2F5advjabfQpBK1Kwx9S35R6WRDZdAEbOnEBzpXE6ikQKILRJgn+0pATtYyRHTWmoDss1V1OhQLTvez06aRgFK4HeARgBs8BMnXpOAIPpH0T6QUcIlAQtnKsb2+7N1hijShVb7VN0Y8pSuMkPRvInIsnaGHV2sMnIYfCsFoEAZOQ+6-zb9nhOSXMRxAl-byh6OnKh6IN7NOaMR0Wh4iUZafXYur2F3JAQIe7F1pbq6TYQNFVoXsezulXnlXC9TY1Oz0l0I6q16e83ZnsPbgEUdCuglRqt0AZ6728BdQgWKQj3wHAWlaxAAE48ITvbvZYML1paEyu2ofWpWlWJ03A1sE+HDwIGZlvgcvFIL+2Nh2AMiYUmQf4E0qWDFAMLGFrNDQBH6K1Q8emT5B31qU+WS+23tvon344oVrgaVIZLsyEw7A6EE-APFBkX779BOx-SYV0A2hE23+hMdorUp6L2gLEHcJhpt0mCCCJ2ivUtukA6LwD12evUcEV0Ut3soB3RXmn0U98TMa7RnUSEW1mEsQTQe4ELWcUI8Uw1iRtrUATZJsdWUrYg5Z22I4Qc9fsY2FxEYDkHeaQ1RdvcBqI1Y4e3+7amhHQhrsHFti+wJs0s4bQgquEaPeYFEMKtbF-LYqN2rriA8-2Ha0TuJz-VzwUwy+5IPxqymAbkNSG2tSLjxZdrvZ3B3g6tH4P2RXsQo+dFvuUN36xD4hzaMpJ2AGGFp3htCDtE0MmBtDMsooKIZAiBH0IFLTnE0oYDRGFDx3b-YXvpVQrqVyUF3XyVUMlK7lBSL3UPV90qqg9IesPeFURDfTUd-LORnztzUrjjUx6H9ufEIOEqYWGYxQPWIAA6WAMDYyoCgch8AuIHxqXs8pTVjIKUA-aBEENrlfoLRtQ20eokdH4h3R3o-DL0gDGhjU4uNIQDMKExgufFbY7oAABe-EC6t0ZMN9H1j1AB0Jsaj37GTj4xrKJMZcNCG60NmsbTZLoAwRpULBx8fhosg0H7IdBhg2uynGeMWIshiyGwY4P-HqR7iKoymBqOqo6lheho9prnyZkXCMXH+TLvuiYSTGQIyQGEyRDdRRWje3IwUZ920hETxDLE4TBQJlHUqiIfPhd1+NatFY1iECLEd+OV4dtg6ONuKAkjcGYyY6hHr8dLEspc6bJj1orH1IL7Scvx4wwkM8NRHlyTsXEDmm8ZEg8t8hiteEf54m1ATUhkpfG2baMGU2zByE6g3YO2Hb9KlXfaqeXKCnSKAlF8jIcW3yGgjuPFQ2ScZ1GHcexsXQ9cbE6zB-D6h9w34f-VBTzDtaoEH+rY3WHwzHMyI+BN8MScBoOaagBKIrA2JYiaAE-TXC-XhRIj0R407iziPDiEj0RnYgWZSApGIxaCQyRkY7mk79iORkbSnpljmRCj1JkowydACOACqFR8pAiaROhj+dqJ+MQ5nt5bABTQpn0C+Qr47ysAc5l0yKfUJ4BuTkJ1IAYzwDj0801xwYw81Cq-MXsRJrPDsVIA7E6WZxTc9IY6h0BUgdnfcxsePMjGtFOxBoJeevNfLTW550CF+eAw-nbzYAF84ec2MfnCYHeQCxVmAunmzK-5-nN+dmg3nfAe5y4weZuPHmPzF5qCy9ivMoXfzOFgC8hdAioXnzGF18z42ItIWgLeFsyjefgtLbPzpFkCORfQtrHMLR56i2eZYtAXCLr+sXX+b4uwWBLBgIAA')">const input_prompt = "query input:";
const output_prompt = "query results:";

function query_driver_loop() {
    const input = prompt(input_prompt);
    const q = query_syntax_process(parse(input + ";"));
    if (assertion_to_be_added(q)) {
        add_rule_or_assertion(add_assertion_body(q));
        display("Assertion added to data base.");
    } else {
        display(output_prompt);
        display_stream(
          stream_map(
            frame =>
              unparse_query(
                instantiate(q, frame, (v, _) => v)),
            evaluate_query(q, singleton_stream(null))));
    }
    query_driver_loop();
}
</pre></div></div></td></tr></table>
      
      
      
    </p></div>

    <div class='permalink'>
<a name='p3' class='permalink'></a><p>
      
      Here, as in the other evaluators in this chapter, we use an abstract
      syntax for the expressions of the query language.
      The implementation of the expression syntax, including the predicate
      
	<span style="color:green">
	  <kbd>assertion-to-be-added?</kbd>
	</span>
	<span style="color:blue">
	  <kbd>assertion_to_be_added</kbd>
	</span>
      
      and the selector
      
	<span style="color:green">
	  <kbd>add-assertion-body</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>add_assertion_body</kbd>,
	</span>
      
      is given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
	<span style="color:green">
	  <kbd>Add\?rule\?or-assertion!</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>add_rule_or_assertion</kbd>
	</span>
      
      is defined in section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p4' class='permalink'></a><p>
      Before doing any processing on an input expression, the driver loop
      transforms it syntactically into a form that makes the processing more
      
	<span style="color:green">efficient.</span>
	<span style="color:blue">convenient.</span>
      
      <span class='comment'>
	In the JavaScript adaptation, there is no need to precede variable
	names with <QUOTE>?</QUOTE>, see comment in section 4.4.1. We are
	using the same internal representation as in the Scheme version, because
	this way, we can distinguish the name
	<kbd>my_name</kbd> from the data log list
	<kbd>list("name", "my_name")</kbd>.
	The original authors were saying <QUOTE>efficient</QUOTE> because
	of the string manipulations that would be required at runtime.
      </span>
      This involves changing the 
      
      
      representation of pattern variables.  When the query is instantiated, any
      variables that remain unbound are transformed back to the input
      representation before being printed.  These transformations are performed
      by the two
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green">
	  <kbd>query-syntax\?process</kbd>
	</span>
	<span style="color:blue">
	  <kbd>query_syntax_process</kbd>
	</span>
      
      and
      
	<span style="color:green">
	  <kbd>contract-question-mark</kbd>
	</span>
	<span style="color:blue">
	  <kbd>contract_question_mark</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>).
    </p></div>

    <div class='permalink'>
<a name='p5' class='permalink'></a><p>
      
      To instantiate an expression, we copy it, replacing any variables in
      the expression by their values in a given frame.  The values are
      themselves instantiated, since they could contain variables (for
      example, if
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in <kbd>exp</kbd> is bound to
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      as the result of unification and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is in turn bound to&nbsp;5).  The action to take if a variable cannot be
      instantiated is given by a
      
	<span style="color:green">procedural</span>
	<span style="color:blue">functional</span>
      
      argument to
      <kbd>instantiate</kbd>.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (instantiate exp frame unbound-var-handler)
(define (copy exp)
  (cond ((var? exp)
         (let ((binding (binding-in-frame exp frame)))
           (if binding
               (copy (binding-value binding))
               (unbound-var-handler exp frame))))
        ((pair? exp)
         (cons (copy (car exp)) (copy (cdr exp))))
        (else exp)))
  (copy exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06cDwc73jxxQIBgeAkFQNA8TQYkLne8xRRBLQKCyXIFEIehiDoShwf25JUnSBQWDIfRxclmoZfCUAAB8dcU0UPl6zq1cUDXpdlmI9YN1IWDkjghFNiWpa13X9ZfRWMjFs2Xct2JrY9sUPzVKV1d9+mmeBagRZ+aanfN12IkKALiZUH3NcoV63uTd1UmYMQJGEBhZzBD4FEoHY+nuHbCb2gTRVJsvLYAMmb3p+kGJvwmEoFKCr-Os8j0U6D+gGw4zuX67z8gC9qYvQXj32LJH-7CoiyPDF8ZX8EbfAZDSUfF4n2uRsOiNx4t-l18RwXUnNagxDof6ZaPy+T9T0V88L+e5wvmWLPvo-Z+WkI43xcIAp+FsGCb23t7Z2x9iKnw7voCMZ86yvy1pMUBAtwFuAfpAmW10cYMBRoQQIeD6AYMtog1OaDbTn3TpfK+-Mc6igqMoNgE1sp0CMJQcuk83Sfxnt-EuvDy4WRLEIEC7DOGVXoPCN2Ntq4iIXk3CyMM-gMBkVw1ECjrYIxwaxEwsjuHQK3nbMCfDqHLCQSMVByDMJWKwdgnO2i5GMGmiQ5GZDiAUJ4V3QmtjBgRkcfw5h2cWJCz+iwYQ5AvE+L8WI6xsQRpCNnkXURajRKcOVrE+J5DDDODXhEtyOSYlxMXPjSQZAzGwMMEkoaI0bjYhgRYhge8D7-W4HQyxYSXEsTKXku2whfANMCbQhx6DQmy3CUPVIgVoHMC0MAsZf5UnT3ST-UuViLILI+FQYgwDimRwWaQgpzhVk2ImXY9BXd6YlNvgwN4bFUSdEuYUdZyi56ZJ2aJZ50dnA-DOb4wp8jwgB39GklRc4sngn+a8xs+zlkW2OWAtOS0EUMB8WxbkWh3lE3llHD4DBAgyCSdwPE-S3LwsBY2SkbQCwvwCWs1OJcSWVHJaAUkr1I40voD8ToIsR40BzADZlVzCVstJZynQ9y5nQIZdLZQYqnHjMJVC75qjfngmMO0JVxBUWGOagqvVjgVXlzCGqgSoidWKrNeCbgTcwg8rRbqxlyrFkHOAfU5lsQJUCR6Q0ql5gqikGJUiw5FskmWpZYSw6Trg0uHISBCN3ro2NNTtM51s15WHM0LiN1+r01WsEZ7TI6aXWGKieGpZkamVWJjf60taQvYoNuQ22ZaLRTsA8F4fFBKp5fIyVq8Roke3KC8IanO46vCtXwCM-tdcDqTIfE4uVXa76EEICCXFFzxUpI-hs6F2zR3gg0Nu6gu6wWVpzkzfJIK92qtjQGldvSZk3pYhNFawK-E+qfU2lwgbplYMHhu6605SECIVkOrZ+hSEWWKMU6QIMwGGBZkoKAcBEDIHQDzPELCWLEBQgcqh3BpY5gzeq1IwsXJwITrLaSpQaOiyIQWKhfppjNGHofP+DH-RMbkhJWpbS46tJ3u0-eK8x6MK1mRugFHpJcc3Req9PDeMcZkuetgoyiP5hI3en9oK1MydlnJijaF0Jso6dNepX772-vY2ZyYWAoJKfaRVKgwQnmKEWtw9jjGWjEbxVlSgXnxa+diqFhgWnL1+fU05xTudvMYtpf5-jgWfh8pHnRpeLR5MaaUlE3JcTDMXPUwF41TMZzRLyZU0eIthM73qfFwy25BlxOGaM+LeWFP+jc4Ws1aWDSlF04iu1yqjDjZaqmi2zWTPWAS31pLM6hsBgy42FbvHFsGjc3s2tKzyvpdG+y+WnrkUvy2z1grqwksQIO-NgLx27tRsu+R67sQ3NuLiw9o7a4tHGJ0WVkz22VjGVIKZUjolrK2Qci4TeMtyDIw8l5UbHQtBIcjlp0ZyJuBfsbbEV8DdeoKABaKn6YD9DIl-AqEaWOsXE9Jy1KrOPBCkDENm2I+FCLumFG+VIYdyjk5wZThw1OGjnnIRkMqqP9NgLnQuqnFmdL+hRmjIu5G4L0BWa15XiY5d1f+iLepiude69Z+zpXZv-QGfk5rghYIqfPg+Yek7ypWMA0l2wPjfZSgLM8W8NGYJPfe9DM0TsGplhc5PAqEywQRd0AstDuyjkUOGMoL4EgyPBBbu04VTns0HlolBBJ939TSGGCc7XJdLhmn6C-YCAAfOttHAMv1ObI947N19DHHay2817+X35UaYKQfgqgdNBekyl-ljZsWxbxd1t773Ygjcn6baf2XksDbBIv-LiljJr7742QVZBhXUFFY5q7oGe9-YGxNp1lfiKE9SHm9PJr3XmsoBMKvB7CXh78lHv8M-sXOsCmvtlGgmrtCsCNDLniqGjWl6hAR2pwG9gAceERCGOePAWAeXO7oyIZLAQDNgWdnWiel-gtqgSGMAX7jdMQU3O7mLqGCNHQVYu7n5PGOgT-i6KnMdnfgDKbheAgedl-umigfluwfnvGAXpHFZvvA4BAlKFJvjr-gJLXlJo3qJJCPIXgo-LUHCNwEoeuoYoYNyIwPgPwP9hwoDkaOxrXMAXwexlAbEOeE6oyHwSQWmuphIQOs2q-gWlNumqbqUOkJkKbmsFutLJ3KYe0hYV9qiMbnBEIaQemgtgIUBNEeYdIgDu4vUmkaGMag4cmh4bNikU7oxJwcRM7sPnEUDvApfIZExgvDUTlGJjlhPMvh9qACEWwAAdIWisdptsDldrXOeJ1oyDOvLl1vNn5OeHuGhkCCYUIDEVkVYTkZtPOr4IeDEOeNoYUroaEIyLIUHAoYMHMVsdXs3iRp1h3mriQrbvIPbjOA2BXnkVbg0LsfgrUBXqAK8W8YUEvtfjnMdntogRdkMW9kPqoeTK7kkO7voKboQaMKdqVpQrvhRkYUCX9s9mCXUf-MMcROeNNIyIidiSBJ4iicZriaZlfuSBAo1o2HHKSfSZftNE5n5CNNNICYRn9s0ZSfRo-uSKKHeryexrhD8SUJcXAXLryUwPgFvswIQiKS1tBG9uSGsDoYwK0XCTKa0Zfr8Q0IiTKeSd4ucqifNpbn8dMACQXozKhuhmzFhpzLhpYARm5J-KPn3KMsjFBstvbP0Dwt6eKelkjj3OyKPv8Pvi0ODnHsjBZHbDvP6S0N4iYFoMIAECYMQOfrUI0BjmipVhTgbtUmGtwNcfiSnJKgvHCj7ILkzA6gIYWUbiWRsWyTmmBgLiIELsmJTj6RqsOnODIBItWR2bWYmqnsmFilwobmQMbj6VKhygOaAJSh+m5Hep1t2ZCW6HOWSgudyq2YYjbjmHbisjILOcXtKgubKlyU1NCTQTjOvoHqeXOOCLeQWA6uig+cuY8i+QDNND2UepqnOKyaJN+VOixN+cloHuNDjD6YGr+RiYRo4F8IUp1HcYeQ8SshCTQoShGJQQYreokSBHDHBoPlhS+iMLhYXnlhwvgMYK1NjlUo-snFUQJKTHDC2ecOeH3C1H4ahUeRbIyN0ScJRZVlUkYOYk1tjAWMoT4STEuK0d8TZqOXDPScblUs8ExSocuiMHTJ+S4MpTZpTmpZEBpTJfeFkDpX0T3qjJEbxehRAeJbqNjN8SwOsNxSReWdatLGIH3GJXUt3CJBwJ1D5WuEsKGKUKTCJYfPJU5QtqAC5bRaqaHsCF5T5fJeEAADzJVBWqBQWhU+5RkQ7ggAAqckgkQgvg5uvA3q1IWIF62ZokoAAA1EGbrkbMtEKKMmlU1aJBZN1fqW1Z1B1blc5hOGDoVSVfgCDMQPZJVdVTSDntQPVeCH1VbgNWIENV1c1W+ctc1f1ZQMbOtTIKMiFZ2oYvlIQPSXCa0QKUiP0fJsXHJNiJhSGBvKYb5RYgpZ0NJQaJ8t0e9U1h0cNj1g9UQPCX8UqkhVdBrnZS-Evq8c0K0SpECPGg5XlbrrMMgidfqQjW9ZhKjbFRGCdecVIa2LzuRkjeyFXDxdDVrm-JUVadGdONdVDnQHbOUF0aPHnkeARNHn2FgVUoyMQURZQX2CNIsTwspfJYZaPKkZafpVRKpTLcTZISraZeRiDU9eIZZTnHSVqaJg5djDdXrj3vdeiJrRRlwWOSxOLf9Y5QNLqE4dwcPn9WlQISNqbY9WDbrhDTRVDfcbTbDfloDUpIjaGSjX5XkaUKRIdCFdjMHUZNSLjbcvjdaLaETd4eUVQWTfJhTVxSQhLG-jTfbo7UULHkzQbSzWzSIBzf9FnqSVzfRBUYZPzaPILQRT9KJSLUwanDbZLajdLWDBacrvLTjIrWDMrXhOSAxDAR7aDRRchkzGhnIKzJhhzDhtzBgK6Y8mQtQCTiKkzhTlTiWtBl-ABQ7g4BZDvXvVmaBW5FfYzgwLvduqQX5kfc+lpcEugo7lnOePffvZ2fEYcQvM6DanMG+bEHMBOLLQ0DahyOAzEByFA0PTaghPA6NKQEgyA5WSXGgyXJg9MDasPF7G+UQ5kP6NA0UDasFNuuQL4G+dQ5whVQaBQ4UDamXfA2XX2Cw7EDajcH3NFiwIYA6nw6oAI2hisNwzEDao1Wg7EPoLGaAJsRoUjs1Uw5I0SmCOCO5LIzEPI9wEowCE3kjl5Go8g5WfodMHo4o93EY6AJCIozEOozasADowYAowY7Y2AKY1g0+QAKSuNWMeOgBI6+MOOgBOOVk9yyOBM2PBMU2bFmNPkACEwk0T7jsTSOKTQICTPjmj6VAT6TyjoAmVMQOTBDlZ6VAIOjMTRTlTpTETT5DeBT+jGToATe9TiTmjDeVT3ARQNThjcT3THTuTEISTrjcThQAzMQSTsQ3pzoTov9DO-9d68lgIIYtecw3Af9WZADzg2aizu9D9d6+ALAAAVimfMesxoPHhoSg0szfd0q+vHlgkPUUNs2TovU6EVO8CVPc2TpIjLPMRozOJWeHm+eHuo5aVI5WZAHQGqNHHQ707C-C+npC1C7w1QKI7AJAPAyIwwNi2i5aRi-wwAKJoN4skuEt-E2oABy5ANLrjdLNL8duuCzxUPAfzLUALKaqNazKwtewoAzh0J5WznL8pUi+z7L7zXLxUUipefL0wArGhgaJ5sV0r4rgLXzmOOeuI6rzOF95uJcPpdO304opA2mV0pz5AeYJhvUmgXt246rT9HAwCr9ourzKwX6RrRwRQ2t1t-EF1RdKyPpquNlQbUapu56kR+gercu0VLVuu6r3LKlVLhQUb6MsbOC7SZzFz3A+pHLhz-9ybilHrDQed1N-txdWcHAAgedYgXwLljY4bMsbhAbtlAdYIXztpOCS98gGG7M2GXMmAW9LgAeFApgDAeqHwVUNwpAfaGizYG50GSsKs04sFE0mMjo72GNNy9C6CC7W73V4IDAO11I+17VR1QwTzB7WCIYzQ67QM2EulacCgNwCqdWqZvCB131tOygygVVGQJGRguOf7sTaGzVdef7FN4Iy1pQMHoAzQ213V5AoHpbfYMHjq57nUXelFDglSxgX7y0uObO3xdmeHE0xgzw-4Hlboa1R7EI3V4sb7xgH7UoteZHdA+HuMeOcoW11g4Iz75HYaLUIsCgdebOf5La5aX627ok3R2knGSWoiMnoArc0kfOUnWQEYMn4KOs7cu7WQOnoAWTokiGsnV7IwKnoZ4IiGikpQY7KHIEU7sUs7faMnkZGnMWqm4nNcanE43G-08e45FJPnt7YVokDHzVQntFonFngweOoXvHCbBoy1p7WpHSUmQXsUIXRnu1E4qX3V0XInZAYngaCXOnvHrW8ICnO2ZQnHFHAMYkoIb5bedXXHTAJXI1inDcS47na2RXEIqD3Aoih0MnqdhnEnsVRXHXpAPEd7SWa1oXIYcHAA5Ke-XltWt-N2tUNTJ4J-V8J5OwWKQKMnqid5J39f9MrKrIdGd2U+i5WUIMINtcENtXZFpAAm4GmNtaPhwPCF1zJAN7d8dwk2ZfoHd1NwdzF51-N0D8ghD+N+DyD5D+1xD1eeYFaza8oHa2SVRPTh4CCnBt4pJ1535pBst8C2egtapm+QZiaQ+pQpBmh4ULXpj+sNj9QJoO7vj8qm4MR+zkT4QGF914rIfOT2tjaoho6g5SXpl5Bu9sZN4ujy4Hd2YgjsjDz4T5BnYbzqKKT6iIL4wYaD81bVVKHcl7EOl5JofHTwkkZob8rYswT190XHjoyLXqr-DswBr2Qs76RyRw7xIcwXGw5dB6gxT6TIdL77z8YK7yR7FYGtHyCnPDxwD0pCs6H9ZzgxH-IDHynyR-Nxn7AtB2z7a5z7jzjDV0UOFUuEXxYsz7EKz9a+zzj9z0n3z+bmXsT2nzdqxSH7AqK37-n+zucYATzu2J0gDPLz-iNJL2+Vb5P4H1PU3U7QJKQr0d3jnOniQIb0u0lqTOL9MDu4MIfwnWXYL4njZMni4BSeyBngaqOQHiUdr6Rc2gf8TxTzhR-6DgVXHvBizTDhTy38n+gLXMoYnNBpgqoUWFWNFmEAVAT+xPPftvyn6IDrOEAuqM+wGCu8vumkKqGuRf40dAMyCEASIXl7K8z2gQP6NFgiIdkKgjDLsGyDoG0M54hgUkHv1IZgRKUFPJgb4BYHEgng83SPsgkMCUoG+ujMDvtX6AKBqBJAWgQRGYGdxJBVAzCKIPzZW4eBfA5hEPBlhkAHYZODQZ3EYHyDeBRcVgRd1bQiDZOBg6BPwIV7oM4uRgVQdBCeAaFqgIsPQS1AMH6BrBrAp4GINDAuCBmRsKQWREsGnUc4wQqgTIE4R8JrmLOH9qnGiFUA0YiySgWJ0iHSCBWBrCYM+ySGUAUhGQr9lIPMHloMhsnbovNzcG6D+g+g4wVKEMjxolBPEZnoEKbx5CChTQoocoPbRpCQMfrJGNZQ7JCgt8oIKNAe24CxIK4eMGWiMXZafRxix0FCt9CIrjDphYMdki7nDy3RtogNEbIMMGCrDJhtMNSpGQ4hCoGAfDLiJ9DhKfRYqRwtYfDBHaTh8hp+C4VQC4gcQJhVAY4TMNf56UBa1nGQHWFqDLUKe4IIEXsBBHzcGUbyT4axCoDhAKecMP1D-1FA9QY2CIi3jED2G3FhhlIUYS-DhH3C6YlQ1IKTA4jhBW4+-JcJMNk5nDXhlwnKhGApH+CDQEYWkayJgjJCGR7wnKlHwRGcirch0DkWoOgh0w7B4I4Ec93IHIV62kgFop0MDJ-D7BCjVoV0S9jwVqUfQCdNFkYDoCDe+o5wNwFV5wjVedMWYSb0ZHsoaQXuRkPSNhKMikeZAXVt8KZCQD6AebKFtuDNFqUNhhKK0cHmg4QiOAz3CnhUJ-6yia2CotIWTE4iiNg8mo8wLwFortQUYGI5JJpWgyLd+R76foeYHSipCpBOINkN0DYEEl2WQLdKMWMzC+BdyzFZtFsMtTBEvYCHakOQNTEa8iQe8dMbtHPDdBGQOY84p8nRHdBwgcHRDK2O6DVtJAoAIqgAAkSWDAAAILgBwAJLAAEpFVIAAAeRpbIAgQglJ4TIEkBqBosOA+IumKFQ-CCYyo5MS1A7GXjT8snAsR2JT7ni9mj4pIHYILGdBj874o0M+x-GZAzxGkC8T6XnGLiVxa4zcTuL3GASBwr47AaBI-H2i6APpAsYUI7EMAuxZKVCbFTPT-i6A7kDIWAPwodlDRNhVCdeMLDKiMhP0GIbXh1yTCqqjeNImoBMCzoliFEnhMxPMjPCrxDw1NjEGPFxiQJ7o94J+ITyCT7kNbOIBkBlYOARYjIAAAxCVI4NQeyCSnkkyCd0piagIMAejaTcgik7QECF+4KSdBGDZqniD9ECRzJ3mEyaQGfbGoNJ4GTdlTGBj2T9eVUfST6VJg2c3ypMLydTz0lpkweN7cIWBWlijw3JDoVINUGyDyTex7LYKSplCkCVpqWkjgDpPnw+SDJfkSOJIJaj2ROgfaAgdARdzojteDRMqncFckHsL+ck7Kd5Jyi+TDIbmd-kLxqmkwipDAEqWwD7SHR5egosMsQGKmlS20toeXsHUV6EBei9YlwL1P6l9pzJiYoKMQFkGhB2kPCf-qsPNHERCpgQcaQNLgwl1gCVUo3gaFfAwisgqwx0JbQqnYVwyGdDgjzQwLoRRiCwu6F9EYDC1qJE9H6psODhehNoLLIGkCMIhqDwwR0vqRNOuFxwWAZRWMC5jH701V+b-JcIWDdqjTjpg05BPdL1g4zYZJ0nCj3ySoQzjAGdBiNPUzQwzlphvcgaGyGH7xJYeCDaKsLXD-SLRVIeYUCGuHLDRKe030YKV5wzN3wFQEOIMFuEl0RoDgDqm8LjHbCroCMxYTtE9Fej7a-0n1svzenj8NO6ItcL+DeJ4BIQpszAnMNVlfTtoj9X6YLM6BayQwI0MWR2GBlfhbhQROrvLMdHjDRRRQeGTdFuEjTrcJw6CIrzVweSsYmswSWgV1mvgKgm01IJQk5kDRH2uMcUcZRNlmzHpAkSUZCOlE6zucaMi4kzIOEbtqYbAB2VIU34sQ5ZR1BWR8IXB3h9phAh4UGKlFV8JSuckMR3M6I3SY2jc2TnDFJHgZ+5iItbCXMfosyaKhSDaIQEbn-Th56IwgGwIp4TzhhrMmeY8GXlbM2Q5o0AJnMhDDzyRlKVTm3B65jRl5snWubiEdHMinBVuZkaSCDkxBr59cvkcgjnlCShRH8p+b7INDij5uXckEe2PmTyTeEoJDMaZV7KwYZseJZ8vJNvrmA3gHCZMRclWl79A0q00cvZLXLoLlRHAyaVp3QRYLZONqToCVN8B5xwy8IebkBmIVJTIpbkOnHEnMmJTI5Jo7kUkGNEg8O6vw8kOeA4T+ksp8UC8FJlil-B4pPCVaTMXZavzAxQIVrK-MdEcKXhXC32cgvXD29BFSxVac-MKA+iZatkt0HIt8RS425ecnudiPVGhEf+hBI7s6LYUUwNiasB2IwF0UCFIx8ozUp0JMU2jcxEUWSRBIYDrjLIAAGRJb7jrFPRI8SePjHyT6kVEwSXvzvE2yKgyMSSc+IQkfhkYc8cyQks4VoT5uQExsHkpSh7kc4xS4RfUnAkLjglYSiJfBJAiISqlGSvfnRPTaDAdcGEzoVhJwkZK9FsQeBRwGIlND4QYg7pTGICm7J5JIytIf93IF05SliS5uQtIoEhC8hjE7cOZI0JpFmFwixxVswKX-SxBIk08UsqOXSSZRzrFqHdydEncJyqiqSZLSaE+k6JGy65i9QBFN5DI7SmgUXC8ECE1QSE8SfUhUUCS6YrItUYsviV3KXRjy-6ZC2eW9DGZk+exSd1hXUTCxf0ZKSb1aDIhGQVY5AbCvwl2K7uDdC4uLM-BSg8VouOztSGuVorTuIPTFWUMjI0rjMOgwFsSpZUvKQFqSlGA6B7HsDUg2Yj+QiN05JZ0Rg4taWe2CAtRuJNs-leku4m7RgCHYwVSqpLp9i-AjIXpVmG7EqqM6AixIIEEIQKqMhCrZXBMqLHdBPuyE+gLMqkHkrCgpUHEHavEmOq-odZPsKTG4ncA1R-7cHFAnNUvLR+K-fPHhWtqhZAgwixVQ+LwX8KpWBSxkBotQWUJpFIsifuqtnkFLLpxvKkP2KBB6rcQ3YvCUavZaBrTVIEeyRaoBC-FrVf0N1cBRmUkSAZrq21c2uGUkTmeQU+Sf6tiaVqoENa0NTHMLlT08x4COAbGq8zcS68hEyTqwpVVYjdIggKdYuvnXzcsBYk3AZQkNXlLP0U62dUuuIgfA5V262KN9AfF7r81AgHeMCp3XMwgQQSqCRuK3G7jwAfkZ9auNfWwTIlvqwif2o0J3rz1ezIcanHBAYgBO+6phWurAUJrCgp6mNfZMvXZLHF5xKKGwCLh5LGQQSkJeEo-XkhcN9Sv9UuHMmAaBmwGvJWBsJQQbJ0fKnim8FOYU5y8JQrICxtyHt1GN80QXgkLjT4zO82C3xCBC40ogu+hAXjQJC-7ibRyooHisFCY3C4WNwqzTjxqUrt15N3GpTcqKGkCbn2RRDTaJtU1ID0E7G6DeYBqBiADkRcW5Vppbk6bpN5AxjfgASkibTA3xJFcUOU0Mb6ACmrsq5vIJIiqkWKhQPNyc0JSii-mubHQF83kFBRpKkHpTk40+buNkW1ImKStwebsV9yV1WehEDbV4tzot8mFrQlqS0U8m5zTxJSAxb3NQWsoV5oLq4gDNXZJrQFrWzhjuulkjwf9noGdLtwBW9FcQRa3eCqt80MIDyt6GQQGgao8reFqE1aIRthmlrWNpcxm5MtPEemDlte4WR+tiLViFVoq1as0UFmkjHjnG2ebaJTQ+iVQE2UThkRhjFba2DLRsbUVty47amUZU+dltGshDctCjHeKYx4o2wOlolKeLQs-2osSSP-CARmg3RSbUUDW0bb+AEId7vlpe0g83yb2maJRRRgmB+AKAoXnv0RL-862DbIFJW2AQyrS+HPLnoyRI5nbsVRYMWpdveXYhFId2hvIpBx3-s8U6kBUjQBIz6lRu8faic-O6i0wbGag8-jmHVkayrIV-WHM8JTlZ4dqLmKHUUHBBU7W+00f7rsPpWdQ-twWgenyEjKw62dtW3lbNBy2a7y+7uVHXpi0CMq3y1umnYNCErngbgGvBhrQ0ZAABOE4JHC90FpOh31APexEYbBbH6IsXhAYTOm68ntvCPNZzk4KvgXAoZZSSXUKCB79AK3FbhZDQD57nVSe3WUXMz1h7aGDgj4EjOmCB6I90cVWHRMcSxUXAXkJciGGpnkga9dEuvUzW4Ae75tIURhjKvIW0MqFbGfBHKvp08Q9+a216DluH2UKR8r5bbWjsK2442AFC0fVjsjjt9Ugty6oKVFXBkA7YhSVFtzIECtBGQnvXwOr015uAMRwnN8Jx34BHsjg8yzNd1CP2+108xnVSIUkCogJLaWerRp5A5Z+9QAd3d0E-oEDI5tGCIZdVnum63LWgxwcosXoYivgFV0A+VXAOpWJ6YgW6+yTOsIl15D1hEyYuDyr0xBXwoqUgMfoRY-6gQOqSETLAUQl7YgQBzyJwbdEPrV18AmA5wd8ioHC51M8NQ0A4OcGQDEB4PGhgkMCGAZnezoT8su03btw7O34ogYS2ijedUiPqHilaAi6DA0ukGLE3RKsidt4PR1L9q8WG7uiziDfkePbpCBDA9kVWPvv4A4qqQF+oEFfpv07779BHNwwIC2qv6yiLdf6EC3MP6G9dcosHTYY1HUbB0f1OGGjWr5ydJqjI5aPCOYBSR-wYeKHjcoS3aGZYuhgGFEeFZVIxthh8XRoXRLtifmOhkjP-zYp1cq6RcHqAwHUAiAOApAXaLyiIA6ZEBRc86RNAd4PTnCFs76VbKugCyxe3iSud3WHxbD3Z6NFo+YQ7LtHOjwgbo41JJG65mguQQgKMn9l3lpZVM5PXHonJjRp+bB0yqTAOOjJ7Nm4NOIccIUO8AZqMwyDASV5t7x1qy+4wzILw76PtK3fUfoA1kAAdLAIur+WykfowQMTrDsUYtM5Q0EXPaJBoPH6H+JwIE7cpBPniwTXoyE9Cc2mwmZA8JjEWNF4CrhYqPQUmFSdAAAAvJ46AEhNFAOlpJ8k0YZ6BMmUTOkNE+CAxM0UsTD2hqI4feAuHpwIJmE1FjJOzdAmw3R7ttRYDbVlA21Z7pMBW5Og8AOJhLVKZJMynyT7jBU0+XIBKmVTap-7vyd8hAA')">function instantiate(exp, frame, unbound_var_handler) {
    function copy(exp) {
        if (is_var(exp)) {
            const binding = binding_in_frame(exp, frame);
            return is_undefined(binding)
                   ? unbound_var_handler(exp, frame)
                   : copy(binding_value(binding));
        } else if (is_pair(exp)) {
            return pair(copy(head(exp)), copy(tail(exp)));
        } else {
            return exp;
        }
    }
    return copy(exp);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p6' class='permalink'></a><p>
      The
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      that manipulate bindings are defined in
      section&nbsp;<REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.2' class='permalink'></a><h1>
    4.4.4.2&nbsp;&nbsp;&nbsp;The Evaluator</h1></div>
    

    <div class='permalink'>
<a name='p7' class='permalink'></a><p>
      
      The
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      
	<span style="color:green">procedure,</span>
	<span style="color:blue">function,</span>
	
      called by the
      
	<span style="color:green">
	  <kbd>query-driver-loop</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>query_driver_loop</kbd>,
	</span>
      
      is the basic evaluator of the query system.  It takes as inputs a query
      and a stream of frames, and it returns a stream of extended frames.
      It identifies special forms by a 
      
      data-directed dispatch using <kbd>get</kbd> and
      <kbd>put</kbd>, just as we did in implementing generic
      operations in chapter&nbsp;2.  Any query that is not identified as a
      special form is assumed to be a simple query, to be processed by
      
	<span style="color:green">
	  <kbd>simple-query</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (qeval query frame-stream)
  (let ((qproc (get (type query) 'qeval)))
    (if qproc
        (qproc (contents query) frame-stream)
        (simple-query query frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtyPkCcgFAYDQSBEBgKjYchfC7Nker62oGEMUkixiQL3VSdJMiMPE-SKUohv64RRuJJ4Q2aBChn6QZDAWtCJyeQEAD5qUoFq2o64gupWrtLv6NrMMOwydO3e61rG-lzka8xqi0UgOHIHNiG6gjhv2waIdW9beMm-i3VFWawIWkNlphkaxs2lZtqXOZ5usI6+xOgFzoBshgdB8HetW-RPvWp5ife2JSfO5qnrIg7JidCK-pcDnWoYGResoG5sWRbgwgmi8EjdEWqC0RhBYUIxHqF8X9El6kfoay4WIVygldG9XVZV+HZYE5GMjA03FpKUAUa2906EBqmwc+-RDIJ83memNnQEN42VbVq6ubt3W9ZRNzErBlhqjYugxH0PNSGoUdcyoi2pp21P04gzP12os4o+TUB45EaoxAYPOHX0CvE7EbPEZcAmG6r3nS5Y9uk5rqj64TjuZamiMe6b8Ku7cseGGqYWKAUYgU-INOM7kVrC2Iqaq08WuC7XhfO-5loAA8lcGXeOEoovuH3jeApbyc4O42448HpOl5XguUL5G-5+Lvn9ZuWIKfW6a0hQMEpKCW6YIL5cFYlQX+68LbnjHoyaes9b4f3zpfQOf9DwIzlskDsH41RSjHvbGSwCz5YIzsIBBuCkGKTxkbMgjAbicVUAPSuvdv5cMbkTeBlBEEHwntIQOgCjS4MUBAGA8AkCoDQHiNAxILjR3+qkEEgNOj6FyAoQg9BoHN0IdNNIvAFAsDIDoxQ+iaiu3CKAAAPg4xSopmpVysXogxdiYhOJcakFgclgZ0A8TYwxjjnEvhmjbEJXjKD2J8RE-074KikMGLo0JdiJ5H00S5RsvD0mxOeIUe+xiCm2MoKIo+opmBiAkGtWcYIPgKCEeyPo9wm7DwfqKHaTS4mgAAGT9N6HtNWzTwjCSBJQNpNTKkSKIWkdeMTylGKtqkGpdSGANKWdAiydB16FQAWogWvhzH4EbPgGQCyF7bO8ZvB+BMIxlMMZ3Se6j2puGoGIOgC9XY3L6Xc4x1TyC1JGlsp5rsLLmk+d86BBzXkuChV8n5IFDAnICVkcF-ySkCQeXWXaIxHnWMKTzLJcymTQuRX3IuDBgGEECB8+gfyVlulxbaQlnjlmRyqakCoyheqVUZb05l8z1mgtBKMlp4ISxCBAry-l2U6DwnCX49pGytm9IsrA8GfLl4KqVb436ZK5W6tiqi05tsxkTSmqyrINqJU80Pkakw8rYrfxpcfOlxAGXBKFVa+5IyIyYTFnErlZLRS9XMXQ91nrvX2r9YCtZwK1Xio1aJCNLAo20vpYYZwcLsmtQzeQBgi4-6A1Gmis5hg41-imprM16KGAXKuXAu1Qrdb5sjUWgJwhfDVuWNagNeKg1jNDUckxgUTZUGIMivtsQppApBfUlNwaLITo+FO5FeayUTqzV6nNgrg3wwHQSvFbbZljtFG8NiqJtG+oBas1VYq5ypqlfQa9zgfi7u9fqxJBoF3JufSu0SV7qA3sbOurQm7HVjpA2B4tgQ2Lci0LOghAkGkMECDICV3AFqkpg2+0DH7GyUjaAWX5d7+0P3Q5h7DoBSR4bLrBoj7U2CAz2TQUGKHLZumo5UWjOgXnctGqR26yhF4UbnV0xNi7NnLuaRZYw7RRPEC3WO2OwmlOOHE8G6WNaqPivBIpsjYnwRSx09BsuRnlOTsg9Aqtd7YiUeMa2w9FmDZwQ+DZ6d0CJW6aczikZvSwgMZYvSlFzBbOu3s+Z+NAlh2UGCyXIT07NC4is1p3zR6pOmLmkFtzblw3rHCxunzeXYtIyiXNeLExz1l1FOwDwXguPcZFUmp9jSgPgga8oLwqmy7da8AwbtvaJOSec4Oh8rnassVFB1EESHnBcfndJgDHX5OiTm9QBb9A+sGzmdG7Ni3RsteGSeybI6QtuWXtXL9+73hLf9WdrI8WSUl3hSY1O+haXCpMaKpdc5aUWWKHC97HE2MMHYVxDi3A6EtNvj92+KkgTghkHWWo4JQDo1EqjvY6Pnake0dDwR4QseI5iM7UUn2OIk4DCfM+M9LmQI+D5onsPhF8gp6kHa1OBlDO6UuWHFCYilDB6wiHVAuIRmp37d6EZBcy50qLpI4uOH4sGNLt6LMGgE3l5rrXSI8FC9AM0FHaPhDgmm01KuHBKA5RDsfH7O1j7cADijQTZK1AmEG0Id5GlUT6HNGmZw3AlOkFxET0PuJ4cy3PJD1QGGvUZDKkrthEvOGR+LfQwPmlg+Y-1+9DP8O-K1rTwnmkrGkfY7N9paYpQna42pNbyQdvTbPw4WXpP7ux28GMDPD8x99A8-vRVk2ad34E2p13su6VR9PRxGybo41iLnkMIydK8-My+Ho9ikfnZ9rhDrzbY31JLf-X7wwIkFzB9UGQcVUA3RGQT5v8X7Ln3ugH9EsD4-3RRE29AAAFQAAkABRBgAAQXAHAGAIACV-9IAAB5AAOWQCBBRhOHexkEkDUF9yDyNGvxYSSHZx+x7zBgTmAXwLYyN1KBnzIOPhGmz1RCrRTyN2aBn06EbAYOcEMEu3MDYMyBwJzzwJ+yANAIgKgNgIQOQJ4JcBoP73oLcFwPu2YM6WMRnxDloIvyzCv2YMhQUMELoHchVhByPjVDWk4LwJTyIJUIEhVmFlFk1k11hzMTOj1xiE9x63akYHMOCScPMknAILoCIIVwaEwPb28KYMVlYSIJeT-1IAyDBlyAcEBkZAAAZ0Cj4ah7IMN4j2pCBCB5sFUZ5Bhs4cjEjXZtAgQ4iOAIF8AkjtAABqUAPEF-YxKohI2o8o0gaQwSF+NIYgLI2BGhAuNo3I-IrbQo6gX0awt0HacEYHbgHaEYzbbbRgSY60W0WBV7Q5MuQIPZBePuT+DgVIaobIeI2-d4AQJYvIgo2KSYxkTI7I6o5YiY4ovyI+R6MGeyToJrb7GWQoZbA4r7D1GnUMUodTB4wYwHOIHI542430QyZofnJ+b7QyEXJcD4hgL4tgJrAmb7ImVw2IDErEprCMPEo3VYE+QgPyBiEeQIT474045sU-IKYgTqUIRtYJKE2BKw4id4ukzEhku+VsYUN8VIT7R0P46YV8AnLIbkloX8Vw2kgsPyWMY8IiVwlBNBN+auDBP+L7IglU0MAEvfeuck7cUoVHQiAkoydkfk4kvhKuKlAsU0-BA0c4f8fCQiSUl0bLHaQsVw0oIkhk3EuUJxW04gek7E-QUkyYVw5oS04wQ0vCckGkh+IMqM77ZkunUBBnYtfAD5P4IYnBNcHk8kFBbUrU7hHUxgTBOUovckV8AAQhMRNPIQtn+IfgcCFFxDjwdJ4X7nIW4GtP9BLIYRETz1iE9L1FfEp2XiXjYF-HzzwEhBXJDHLKrMrMbj7znkWVHPrJWCmmbOSU-DIW1LNKWjKDoG7JVy4m5OHP9Gnl4UHPvINHhz12MhARECLLgT3LwWpLVPdBFIqDZNSEZVHLrMN0iFAGXNXIPIflN1x3N3-IIhPBDCmioVAW-KvgNJTLeyPi7JkB7LT0HwXDvGj2HxcERwmSr0QprxkgQo4HN3x3aEJ1IqoLHOIE50BMIAWgnMoU-LAUuX0QLMeB4oWLIrwS4qp3Gixwwq6nAWEpzULMIDvDEo4vsRgshC4u514sGRMW51JCxwIqItVyl1enzyl1JGCInGMpvM4Qn3Mvz1DAnyspfInHhxYJosYotzwrDVSDaLVhK1uR31axk3VQi28whVEjaN2zcjeD5R70WzaJ+ztWSvy3MBGOG0ZKFLGwfRRmjKHTxTSvYq2XBE6C+N8DWTiJU08rtQjGKqzLm1xCLQCraJDwLDD0zwCParICjzwRjzvz5X6EYDaMZF2PXgOOwS9T72ytdPPFsvpST0ZDelst7Iz0sLctiHivXDux0SCUeJ-k2piELz-JCsvOvMWor2ooYrx1p3r2mGMhQinQYEj2yqG3wB7T2uGoOvxPQhzSThtxbyun0AWsT1Y0jj-xEIYGgMsgABlgCUDHYbZ0iyVQjsC2iIjur1LpiVRe9aCKDWF2LZCKg6C1oMaCakhPK+DGxyb0qZCBx2CDqq1hCQDoa4aEbujibgERpyblCKKLow4bovzNc1DW8NDL8sMdCjror4jDDTZ4RrLChRbga5jTMZaOA5arp4Qp8WImqmaKbAjsb+bbDDYHDtxRqyY+Ltw9aWr4jsqFjIjCD1LFbEwsD49ebHbDaPKsyc09FqjXr1rPb2dZ9WofsTb7CNAvYVgqLzpDJbCha1pPZXDTCBDGD9BA6sb4cXbCgA49byaM62NoiFdb4Q6eIszKBfASAgTCAfskTpwUTadcTgT8dSBTJq6LJrJbIHIXBbs3IK6SBYrzA3glYEtq7a6uclwG7a97wsgp6bSTJgh27RJO67JHJKTDsh76AR7DAQc8B+ZV85BpEoA4BEBkB0AlE8RVEy5iAnrkNMVuBbocwssE1ZMtEMUiVllpJSgckKA8l+5MUzTESZpFkAGv7ZJ5JCBy1zUnTxMK1zlLk9jF4AGH66An7pIgHRibjFtQH-RSgmqvtb7F5+YDs91sGP7DEUGn7s6ih0Mm1v4q1rsSHvUq1kGWhUHYyoIMGspbdSAajzFqgFUmUwGb78wp19BuHgg+GK5CjbdMHxj-dWHH7AGTEmN6BtEcGDRSgRHiMCMwM-lKHlHCtO0mHdqNHad1N+YZwC0o0S114y161K0mVqG+x00o0srFH2H0GTF0sxMhHcGWg1wNNjNxMRMtMvNkUWHyG7EDGvH6suQmszHp7tGht4n9G2G0H-QMG10IqZ1EnKFAnsmgqwR770nDHUhEUYVfk8mLzkmKncmomWklHYmeVnUTUyGOVDFhHAnjUBVgkSmmnMmWhW7F6SmrIbJV7jlXZyBj4PIvJtGOgtBjCyV8HtZrs-NYgZyuc04FBCNqZLHkQFSfTjE9a6VqAdmOMwZ9mHBuA1n8Epz-hNm+H9FyhhY5ktYHBDmKQ79Lqyp5mxHiGsqDnnHoI5K1pH64J6AZ1pbXz9tbGF5AYq0gXoWVg1ngX3piHwX5BKmwQDnnwOyX6J1eEfnzzhcWsYGajyjfliW3pmg98aJ7nJSF7pxtYxmu6173jK7-hPJBBrjfBCpJzfKx1aHLl6Hq7DADG-iS9sRrszoAnRHkNrsDGH6PVEttiWJknVG9l36OmoqlGcbfs4iple0-m77dHmNPVEMxGPGn7zytHCGrFK44MSNNNimGmBEBnBmTWkGzW1GODWNWFXJONrWdagFAmfHtNmlxXSmZZHmUsK6gnlNMt2zcq3Q6WUyALHnepPMINIq1sEtPn-R0L7WqhSBs2cnStzNOAlHkKvTiJDQLjA4PNwtmkYHlq+wvWtYm3wmK3I2iZq2QxHnCX+4S2y2W3v4C2DQpoR3m2QJv4kzGIAK62+JjFknw2o7oIwtu2otMsq32H52GJzg1W3JhWxQ9kPkvkpREH1mU2XBNZEHZWoQHAKnag4RuAr2Q3zBDBuRGBajZVWnenImdWsVBQRTXFQnfGAHk23C78gtGRw2t3R6AH52AS420twOI3829dD9Mh3yeW2SjBv3G1+BtUXUuDO3S3itIs82Jg0Xpgv2fdf2SO2m8DkWei7g13N2c2Imk28WF2UL1S4KX6enBHqmZItlhPTU4GmUSXmg0DcKj3zBkmBs0m9Xl879hs0F4n3rPqkOyy789xV8gR6Of3iOJOyPhs5q78n3z31RDPgRQRG1LlrOc0L3BgDPXSi35XF5htlX6dMXIWfMDPaOnLChnPoVago3WOdIlGP2e6CmW4EOVP2H9X1Mh2i512JwO2d0PUN6+m3WDHYu5WOCbP6mgOJW1OG3v5GQO26noFyXe7GVg2-IKmoGG1eFavXZWuzknHC4CwDGWiBI53BXr7un-2ROGnyuGzUhiGzPGu3XcIra7WvP3mjkmPemmB8AKX11OvZu8ugPfrtwPWwxyUvkuu-70vduzuevoWO3Lu3UGu9uMk4lgv0IYvRE965kD75AlBj65Ez7FFLAr6Zsqr+BVBe0Hd9X6tAlhr9AIfFJSgZnqLLoCwraHqhm27ndRIAkzlhrKSTAtBhAAgTBiBqBQZhBGglm1NejLG4XJAyAo2fPo3+bSqCkXn+ZTNXDaeEXuBGf+3DUL1UhWeup9nx7H1-scWLIhe1p2e6bxFVuuf6etYfteMsMZAcNZeAWPre0ZBleHOaM1e6MNf9t-PsWlf9WVetZuABMszUuEv8kt6wlmeDM0uCw1bh7DFujRQXfF5x3IeVt2t5y+voq7eqJB6XBveKWR7A+crUMWUJtZSs5CvRMvh-qbtUGIXTfVOzrSS92ktUau3MEs-8WAsRg+f3tk-8y45te-5yvili+Zilxb5+uS5zwpkwZUOaV0+sXkV7jkageY5qe9SHHdQr4Cxr3Y+XAek4Go36GNe-4zvEX+qIg6+b3TtBh6z+ey4S7RXyKV+J+Z6tZTqFOe6BLO+cwM+Z1h+Z-OgGf1h2-kvmfboxApkjBp-xkRIOAk4X+1wlhQTH4zJB+iyK-lfDCA887+Z-c8s0E-7P9OEV-cIAAB5gQT-b-jfxJa6R0ei9cEP-jkg9E6AvgQQKQDEBmI7M1ILEGMVqAm5QAjRF8m4iTjdlX+5qaWI0TVoY5qB+uWgWIHoE-9YyE4YyMM2nBYCcBmBeyAQKIERNSB1xagBQNEhUDUef1S6FXHoFwDZBLA2QTQIUF0DCK85GrMNxYj5RIGw-GBgwPRSTckQZKR+psjkjYgi+0wI+MZ2MGVoQBUHIoACXypwDhyWjVBpYKIAZctcFfVPmfwv4+YYuw5ZoMP0rw+w3+L5WYCMm4Evkwh37Aqg+Df7rEE+uoXjvGAHYilH6leNvjSj0TxsTeyKZwYUCZYOC2AHdOgAEnKCOx9krpeMIu0MjngqKjbCjjuWuT9s+wU0ewSXSv6H8kEL3A3BNR36G592uFevj3S8HohrBufY-id2VhwMjBw-bCkz3JBHwLB0wr7A-xDB2DEhwAwuOP0nbZY3BUQ9CJ4JzDeDsQ95fwY6SKHBD2GaA2IGELgYRDAspwnSKUFIgEwf+V8R4RSXsGYQUhB-bgfUMnJyCYg0pVBrkLaQd87hwVdtvwPKGVDqhIgWoQvFmbzCoM+7RoX2GaF-xGQ07doYvE6FGkH4PQ+fn0KzpHVt+VERfkglBHJlMhEw9JpcK2FP13usgT7lIh+6yJT6CiJRNgHezdJtmuzS5m8wOblZQqq2FbhZFObnNSeNVbonKNFEzw-aubQRhKL0zjYnsK3SOOeGVEXNXmRyOzlsmdClU5gatWIHMAnAHcaGBmDkJaJiAcgbRMuUqghEdH-8XRZogzA0g9ENIvR0wUqtbEyBq1gxbAf0LaMKClVgo+RPqGrRjG0wIxrogzEy0dFMs+wkY2IKVXYTx5WAO9TgDmPagsBV8KwTMTEFKr1EPRrMTHr4HGTnQZmjRfAaADLH2c5w4IdyFWJiCw9uAtY2VjMy8hNiWxpVV9v7BrF1jQAMzSEKAEHHJi2xwATsQYDHF9joK04mIEOIMwABSBcd2OnHjiZmG41cc2NnFghwQEyKsTuN7GW1EeIkWsceIhCNlhI54pcVeNAAPigQt470W2PgHbjnx9Y0AIgJiAfjAxBmeAQCE7EXi9x-4oELuLvHghToP4nsZBPOiAT1xbY06GBO4BFAIJy49CShNgmNkFxE4ooJbRiDNkYgDuZ0E6H1EijDRxDK-oCBDCaw5gCxGiQqKNHJhEs1Es5iqOIb4AWAAAK3x6GdGJkdZELKzdGsTQYatO1LixbFFADRbE-ek6CKgNsFJ1MaVFFkZBbJSqe+NWnvjkkhdWxJ4yAHQDVCgY+WmEkyWZIroGSQu2YqgPHlgCQBHRhYpybZKcr2SpkDAYAh6MLHAF3J+eUqogXICIEFxwUxAn8J0hUS78ak9ohcRlQL8GJKwTWMKEtoEwdeLE7iYaI0n5tUoMUySXFO26ztaRSU6YClNlYyTNwPAAqVt2YBRZlJR8E5jVKuaG1rsDSH7HrVnjiggYvgR0vxJBjrBlAacTQL4L7CxTVR+RdUf7iRboQ2poIBEEUF0FNR+IkDOEWCB+ygtAh3fHzHrgTqD5mp+2fYW5XGk5SF+AU2IHtPGm8SBJQkocvnhOnFQEps-ZxnkNhFd8AumSN7H-jyFiAvgLAT9O9OxZwcVpW0j6etPQIfdjR3ImRCfXkSYAMA-fTeq7AoCmAXqY-WKDcFIBNZNifvUxOYksR2pNiPA6enVTxREzwgzAhgKwIFqKCtBhM5eFNR5jOx6ZhxR0N0V0Q3BhMtjAnqHCriHCt4ygZQGYgyBiMjANzQWeONXyNEA8gsyvOCAxylB5Zx+VQY0XIASzBhokNWhwNVbvYHAJaYwLzKTg3NCBUbRhnrOXjGBng-4M6hwJUEQhZBHMotMYG5lShNYZsugPrLgS3MKZokawD5U34sRzZpbMGIDFVjXZRe+VcOVjnBAow6KSkcNOKnDm85pIopHLM9jxThzwgYZO1JnNfGqRgc7FNXAHkIHv9kcwOeHioC3ooyQISmD4FVExlNYo5oYZoKnNhKLYk5gyN6MjEWQYscupDRlJnNtaiR7ZjRIOb3lDlFy1mxcpuHKDYF9gMc1MwwU2kQYrdkwJjduSXJ9lvQF5sgseSHLICqwc5Js6eQ6ioHby-ZTCS8p7Lyigg1airK+RbP3mkAeInlOuifKMoezH5EId0dwC2QExw5qQk+QIj3lMAD5r81IBwPfm05wQAAcmpkytmBcC52BwPoHhzuiICgOh1V7H80wx3EadBYmnAExI850icKVSEDm4LIwQFgXZC0i6E-cLAmKkzNpx7yi5xCwBWwofnBzQFz8zyiwqIVYKBEEYDhRgoEVZl+peYL9sNOKnUo6UHgPdGPVxltzGUc9C8mQskErE1avcmNLtW+zONNY4iwaVIvJayKxMbgY2WICrRkkuKK8lRQ7FKrzFqQiw5eYsjxL44PUWZDPKiimbHx4McitwAouIiPMlFnJYEsm2aGHSXhQIEMEvIQY9zjefc2NHiUNLUS-FxgMwibMZCaxPFvgbxb4tMWmzj5SShUFOwiXmo5Z7orHDtAnzyB8l9BE2QIjtQmK90dSixUwrR50TIlqkX0ZUpqXNL0lFi52B0rKXXUDFki6gJoBgZxyHYO0IZSYL1z6KBpYyiZW6iaVmLRBli0JZ5RmWlKTB1U1JS0sSwND+OgFdsM2jHrJspo9irWU4tiUdDQlNbVCkcwEi0pqSS08wN4Q25DYwYAwCoIMF+L81+6xI4EnLIYL+z3sPy1OlVCyr-KzqBMd3tuyKVzD1IdUmgGIyhJN9LyKItaKnAYDqARAHAUgBbCPi5BCAxrYFUuwhGgcxSc5PEt6S+YNtUEQIdBDWT1LorTqXQ7LK2TPIeDMVHRbFcvFxXkKCVS9N8izGaAkre0j5AcmeQZF8cvSjzP0qErpXMidoEqouXiW4BqrSSmy7EccopUuCH4LykMAezOpqrMyby+ZLQTrhD4zqriDQcnCfwhpwkH2Oco6tHSWYeG3yvQrcVWL94A83q5wBbEeZWrCy3hCdvWypAP4gQ4tLQlhjDXztzwQs1unVw+UqxSp70ZWnPm6B0LFCmtJ6Py2mClQcQOa-Qnmtagc8xpS4bwi7nHFJrdiIEVNRHAeUCcBWAcpqJ6oOrbl8ayVAaqpM9qMhtqiVRlMlT8jBr+81qz2uGq2p34o1LsEmpoVxDaFJ1CawaokHrWdq01AIe8pmtajFr1axAMtQoALUNAi12a-dYeorWhhFi8RGtbKzrV1cRi5sV0gy2IiHtEZCKYQGTRyKSNvC-qv3IGtxkBUw14I9ARCqA0Br6AnlCFb+vjV58x00GiDcEmA3EQPgwQL1f+pyizx8asGiNQIDORmFENdnKGmIRgJwEkC4APyMRsgKkbJCiNHaNWoMDjj8NkKo0B53goYgwVjUz9QdVmoyxUNgQTtVhr9Ujq9ODbZjRjUZBQ0Ya8NCjeSCk3s06NS4Nqoxtlbib4ihy1fuCA41ZlRQHfN4PxLea0p+Zxw6JEZo15dt9N+sMVilRGRmbuim7SzSiA2WEBjNxibVS5tl66aChuIYKAZqOTWbcZ+VOzXBq35dtfNVmszfqyboeb7NXqWVCkD82mBnNrmuLHimC1trzANQMQFOjWivVIt-NaLTrPez6b8AJxRzUluDrmxcZem+gIloUa1b9Yv-aer0NNjOwStJxBzQ1qc0Os6toA60l6zRm9VyOnmcra6zoC9b8SC3fXC1quiRwi1ZVEQCwIG2R43etW0rXQAalGoEt62+mAlsa2Va7Y1W7zd1D23+bwtTm9ivdRtIUwgY-QamEnUO6ENBtYeYbfFsMB1bdt72xrQIhm1PRJtDQAOL5p22btztSWz7RNsgha5ftodTuPNqoUWRltWC+MdtuqCbax0WWsRqiw4ql0w6psOwlQDNruV8RZMLAFNsFCVZZ6T216hjoJ7Pbe0tzDWQaFT6A1lYreDyrYDJ2xBPhTeW3KzuBpvl-wgEWTjbEh1FBodZdEuPNpoVLaqdSOt9sQGy1aA0d19OgkLOQwwrmRHbKEj9L+kAzz+20z6XMNGVDTxl0i50ljvF28RuheO02pHUUgx1FI3NNXYvGRUyp04yGF8v-PqXs5BhKcG+HWM2plCcwd0wybEFZYTN-CmcUgBiNYGk7BdRQcEMbqMXfxtaQ85nc3j51z5RVgzFGIrUt0Tx5tSe03ZMoR2y7eqatIvcsqzjoFY80zE7SFETFAgAAnCcCPgJi+opdIwESq20N6O9thUDJYg+BvtnBjzNwU6v1UMtXwLgaiikRKGxB29vaGBTAoshoBV9x6ooC+sMgL6i5HwDIdMAX2l0Z4gMUOJzCDQCIXAXkXDMavGHz72ItMQ-QPunBRsbgPihfYV3Kp9QQeLur5GhoO2zb9W4ugvfwAhAf7KqTAaqjLq850675bACql-uV0sRVlqQV6tUFKirgyAASHNDZN7VUhWgjIbJbkqQPX5g5b4D2fwBUFHBtao6kUqDFICYHzJec5HDmk-5aRnB2+9sdyyQOgBI8LsUqDEE8gdiFpIYbfSIqG2tBjgcqk8AxFfAfLZGFidqJ+qlDiHnBYG79bwxg3caPlWVZQ-O1fC0H6DFdRg6JGYOwo59MQdgwIe5beFBAih0QJYc8i+RJDREA9jiP3136+oEIew15B4M-NV8XhwQ-OwP0hw46eOwnduAd1a5RDL2o6q7tdju7F4rQH3QYGD2BxxxNrYFojrENSwedQNOfG7leyZC5hhIoQIYHsiWJUD-Ac4rgfwNYLy0hB3pf4uvkVGBAzAyg7xzxHrw7OmRl7YkcbwA0M9ne-IwNxHz5Vb4TW+inZB6IcIq4gicgFJH-C0tP5XClA-FLiNiNej6Uv+KAOSP+7ZWNrLMt0d7SR4-9f2nAwIFaBiSgQ6+QFenQEWl6oDK2tjS-RNIXGPmFc32pNLp23HeqJx0OpfNeN5dKWo9DhfnrexIGvjMChgvoFD2gAAAOlgCA15EcysjGQMEFVi57pxiEuUNBGX2iR9DlfQqOCdeqQnvV0J0PfCcRNslPlqJ5+dfifi8BVwAiHoDtAZOgAAAXlVLhMCgE61JtE37sxPsmeYLMXE+CHxPGBCoUEBqF2xKNlHpwkJpE11BRN8maxv8gzHMYsgsAWBygFgebkmAwKnQeAIk1gv0DymqTSp2kyqaMkgGWBmpyXjqe1oinfIQAA')">function evaluate_query(query, frame_stream) {
    const qfun = get(type(query), "evaluate_query");
    return is_undefined(qfun)
           ? simple_query(query, frame_stream)
           : qfun(contents(query), frame_stream);
}
</pre></div></div></td></tr></table>
      
	<span style="color:green"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, defined in
      section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>, implement the abstract
      syntax of the
      
	<span style="color:green">special forms.</span>
	<span style="color:blue">expressions.</span>
	
    </p></div>

    
      <div class='permalink'>
        <a name='h3' class='permalink'></a><h2>
    
      Simple queries
    </h2></div>

    
    <div class='permalink'>
<a name='p8' class='permalink'></a><p>
      The
      
	<span style="color:green">
	  <kbd>simple-query</kbd>
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>
	</span>
      
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      handles simple queries.  It takes as arguments a simple query (a pattern)
      together with a stream of frames, and it returns the stream formed by
      extending each frame by all data-base matches of the query.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append-delayed
      (find-assertions query-pattern frame)
      (delay (apply-rules query-pattern frame))))
   frame-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNMdiHJgR0IOZSPIz1xhhFsmlFGgeL46QunqbpQDEWgmDExpiP9fcBBA4saPPCQOE0S9qjkMiWLY8S2zFawpNHWQNP7IEd1Aaz+IEI8UhCK87NklJelcXzjGQwYXiUhhwLo5R8OUCY53wViVMCNS6BM4TlKo7Sz3C0AGIA0QgNYxD2M4mRuMEXibOMoS31EwiGiU0h3ShGRGOYlK6gc5IrkiUQwN0nCfXCSJItAaLRFimE2vahpsqY3LTLM5J5MU5SavqRKNK009aOrfTDMawS5u8xoOK4qzSuk2z10barzgASHqOqGpqZK30SO7Jo6gaZE63qDOGmLWIm97GivfaUphRC3qMRbRCU+LAQezzLoEKL-oKpp-IWtYMdAQLkQEKwwlIOMZDYYV6gkp8MnSKiIP-dDMIgtyjA8OmMO4JmlUp6maZVELSEZ96PF50ZSA549RijSI2GUCCAFVCArQhKAAdxoJ1RldZEAFotaylKEMO0BsYp-HaEJuM4RwRL1ZdQs8pA59phY-wukS0N-Som3NepZ3abQtmDawRLfQ9x1nW9vLIOF0LA4LILHY4D0VXxwhgxkaKGHIVq-tGuKaop76M6zl6c7Gy3cZoJPBBVYMOCLlKZCrlPgzJ4wKdXJua8Q3oK9ATvU7r-7G+Trv4opq9+5b8v+hQyeOBVDhI3Yd965Lpe2DzkULKLTb05YTPs-X1jp8RIKmAADypWRV+9UumGUI-W6MAvPoTye94PkuRrGh+XQ37v7wzzPpffgQgOIcGImBfg4Eb73xUBSX+y8n6xmoL+SeIE54LyPh-Yut9H6GwpiVYc5VJ72VlApEBggcHZwEAgnGf9WLbkuBSRM1IsREyiMPauA9v7vlIQsOh+COThjABXWg9DowQBgPAJAqA0DyDQJoQBp9kQ7G6omOcMh6xsG4NQaByDCGdnwGwD0owtHRl0fxYYuhQAAB9bHbh2GCGu5idF6OsUYexjjrAejQu8QgrjLH6LsQ4po4o9iBPcaQGxnjQlHVOsQlykSrHRJPo+dRGtcq8OScEvQrgt6bBoNooJwxLZx1UdYKowZQxCG6vQMobBSCXhiO6FuY9t4dg4N9egjTdAADI+lLluD06JVMqKkBaVUspvdxTLxyR4-OHSdhVJqRwOp4FilRJloQZegd4S91oBIExlBcqUFwDYOZmyUkGI6auK8Vz9EAPKZYaw2lyDBkIBvYY8zRmLMKZ0lZPh1k-Jlm8j5Xz+YAN7mCz50DfBHN8Q4B5CyCntjuUZdFjVkXRPBmklCMKIWD1zhwC+3BmAlkGD8m5-zMUOHuRYqJuLhEzOsCIYg4hbaUpGdS9syyWDVKBT1EZMs1KBnqmyjl3sEIhO8a01ZwLhWgAgrA4o7L95St0F4nuQC8YZklXbQ5xybS9JUu3W4V5aUNJxXeXuEr1V214SS8+ZKmAUuoFap+Zq9QyCvCDTE1rpk6peWs9gHpaFOpdW6gJ3LTVLMqfy+VQr-Uy3ECY8NpLyW0EGHs55f5Q3hrCAwxM8KjW0A9bG-5TI5AIpORwM5FyN7KEtdym1Qa81ppYInSgAgJDlsIl62QvqjItqeSyjgEkaQUiYBCvtSRDFysFfUxVEEJ30CnRCnNvcJ0ZtdVm91Mb+23PNcO-1d5c07G-PjQsmiD2ossgu2pSbGkiuoFewYgEd1RulV4sJ8aBWPqXcmpVl7yDXtymukYG6oVtpA2BrpzB8ZMRGLOtuHT1njt4la5QTg8VBVg++3KxFpyxW+be1D-z0PMFwFh0AOhcPInw9QQCc5WGuimCh5+aGwIYeo4qvMgaVHBqUjOfgxB3xkc4-8vl-61lPqaUq4TJGxObrbQnRTonxP+ubIeijPUILqZIEwCC+ItPQcE3QYjGnJ2QegWWg9xg51Hu9X63pZnHwjgYPQaz07oFWu045mlwzTP0ZoOS+qEGfPDDs6Zit7YXOkAJCFzp07uCkD0gZsTfnPVxt2JKEZiWORjvEF5iLM78vZak0YyU8XNwCcfDsL0ZYKwcck7yv9ibAPPqVY14gFYVPmZ6xWLtPaWvrEC85k9rm6soR2AUbqSGuWnti-ewFAHwLLrm+QBb1B+vuaDRGzNi2TU6bRcevap63P4oYLXT9e6fwtYHT6oy8WmX7LbTsDOMhSU8pWwmxd4FSUyzcDm3NhNWGMgpMTQmAj5OP3af8o+YylW4GqNICCoBFQeAgijqEaPFSThnJo6H8DRmY-ocvBz9RlTWE+4TXQZOL5X3nucyB9BfPE9obDhhZCLidO+nT0AAy+efU5zz5moQWGjDYZDzhV46eAyBkYK8ouFeK7B1LiHHCbjevl2LRXxhVwq71-r8n-8xec2x6jgQEFptBSzancYpBqDmnYDIc+P2aDfXPsoY0oB5SjpgzEXrXBqTaRFpSsPoVBjKBEwwPSxPY96ThzVRK7C4wYdIqIUO6uLCa+JonrpdDI+FmUMbk3BehGtkrTLjPdgPbU2R1bgW5D5T47oDXR3zuwQWjT1EWvWeA-mfwEpeepVz5fQpB7zpzjU7a9kHTwfj53Yu7pAuXCC4CJrESuIqi7tdLr+rHRu9wbnICV0HKPYnNaC29UWPjg2EzkT9+Vv1B-oFwgVXHTghOXPsLnP0q4HTmBcMpR3UAAAFQAAkABRDgAAQXAHACgIACUwDIAAB5AAOWQConlC6FzVwA2HT2L0GDLRzzxFN03ir3bGH2mGTgvif1YXNw8GXzoPPh8GINQQYKl3NxCGXznFyg4J-CSz4PsC4BLHD04Kn0gJgPgMQJQPQKwOEI2FHxEDYKEEENIMlwsCn2X271d1YPv22kfzIISCVUEK1j0LYBB17j4nUPEKj04LIMQX-nh3bEsMXgxCrSZk52MQyEyD1zjAzCG0DDEL5kpR8Olgl15AsGcIBiZgII4VCIkPuycIoLPVAIYDsGmHrCIETBAgAAY8De5+JlZx0siuBeB5sI5yBZADFyicjVQQJMjxgIFKBcjRhQAABqUAeQb-f5Zo7Ito1UJLBOEoweT+cYahEuAYio7gKou2Goqfb6CCYHfqa4GYzbbbakGo3aBwWBV7ZRR8ZgHZDecY3BV1UfbsLI5BNacozY6ozSHApgUojYyorbB4l2JCNtXIaYZWOcZrb7OGcjNrcYr7Z1enQEDwUY54s4huQHEwO4t4rY+eAQc3YIYXa4b7I8Dwb6H4jgP40QZrVcb7Q0d6PEgk5rK8EktE3nUlQ2Y2Dpck-4q4kSG-GgEQQoJsOtAJeE2BWI5BXuJkwkr7ZBVwY6YqGnfeEU0UlIcU4jTRPkhSa6SaceTIpgQ2OSBSGGZaMWRKD0DBEeAeLBBhL7fkjU8ySrDgU-WQD0GkoEDwFHbUsvdEoU5rOebJW0tGRoXoG6aGWGFaFIedb6OKMWDwV0ufaUkJLKZgX45kqkrcSaEIR0pSc0qGLGY-aMpgWM4U77NkihJncBXRClN8KY2+Eafk+KPUw04MA07hWuY0uZRUyvYwcUgAQk6WtK4WbmVMDI6SIA4j0l7y7JriJVimHNTlMOdPqHLLSI6Axz8i1NhnFI+ylJGmqhN1AAdCgm3MVCrLrNrOblH0XhNJnObOSApnbKITKiSVIQ5kHEIAHLz04T5KnPqHdKHn4VfJSEfg5knEoWvn3nOJRlEDNKxkXOUnFI5NAWsHdRnKbO50JE3LAG3KgkVApkt1x2t3pPAqBNay2EZ1AVLLgVPO53pOZTbX7NwEHJly+lwm4F+mTwzMR25kb0wub2SCxxx3GGtzb3lIcG4Dop0DJyPjbxXMiAEohPIQIqKELMoGLMmIEp9AYu51EslPEpWAZ3-OZy6TkqzRLPop9FwjhyQtABQtUsL2uAksF0GR2H5yEvqHvMfKHLlycFV0mjlx0Dcvakouoq10-1cq-KaE-08sCsaEfh4NYu4pt3IvMx2AGLKHXVyQzOkw63WyqBs2GBlgGN2xQm-HZWH0pQGKn0tSKsuyChmN8RGyKtcPvS7CHUalKqYNAnqQgjnD+IkEqTVIQjb0tU8muLPWhUqL0k7XioGJj1ijj0L2iPIIr250rNf1jH8TKMonWBOOmFgWsBVBZOPhfx-H9B8v71DjcgOqHILycNCrytGjuy0SWqKq8velmqQT6OoIfKosOqRwwqirJ1bypwUm-inQ4ET22uG17XZVYGpDurFnt2DE72pEsJkAOvJTr3SI2HAOgI4CQNlgABkoDsC-c9gii20Ej08BjNDpqKy-lqCR9WCuDtCycWCx8fBSbabCAIqRDcpmayrkR2blrXUPwMzpCMbsbcalD6pWCmasiybGCaqaB3CChCKmZdDaRio78H9qMTD7rJoV0siLDaQEJNbXAlaBQVjjMlUBjdbUQEJF98UhreapapcKaMz3CeQvCHIBi-D5zJo5threbtr+pya0iDaApCC+9mbUjwqykIwg1xFIxJEoA4BEBkB0AFF5BDiUImB-rkNsVlB+AJgKsQSMkXQkUGVrlxwWZQNMlRz3xsUaTqcG1q6S79Ey7UJ6ZuAS1EUq7q0jU61zk1qqUc7CA87xw677jCwqVm7vavtM73wK4Dtd1KUa6B686g7kh0N61eEy194btnVDtODF6FJB6tw3o66vYncGBWiTEVRvZx7GgPAM6Yop0ZBT6GwL6q4I4ndZj5iF7G7rEl7a7OlGMdli63FS7b6-rAJAHNFs6D6h7Gg67U0w1O1btv6QGm6wGE4K4mp81O1C1l5i1DVEUy1F7Qr21EGQb+6YH-6nFLNDMb6BxwHwMaHMsMtphStbMKHc6qGfFGJmsa7m777cpBsQVKHh7OlV10rIsNkf7ol+GRoMNClvMZ1oHOHRHZsKVwVfM+GwGBHQj3lYVvllHD7VHWU9V7UUGSkZHtG5G7VOV3VDHYGGhJwGBJZhG5YFYlZVY6AJBhgWBz5QAdYGHZwRhrC21J7cRlAt7-MWyipbLM42BQNyBPhMHcQeyqCthvb4NyB4mKAkmg0WRyDImvS-SIKYnrBNkhxF48mUmZS1pXU68QIBGgmZ79tKre0UmV73ppKhBc6IhqAZ0SH6hZ7cGN5Ewy12mBmUhImOn9dZ6emox9HwJqmvTgT70J1skkaB83IPA1n-pWjXhvkNnLHAQQhrTDpimgSJYGx8mZZ5ZFYVYyRviJA+B-HdZvbA5jBeg3tzM17zkN6wTuBaA-64YKYq0t6PbGnH6t6-6c7nUCsvnHwdHIHgGLGgXKaVtMiJle0IWs7X0EmmNcoXVENH797OG7S77p7zFq44MiMRMDHpHTCVGmhJwKWkWuAs8pc2MG7UHf7KG8ydGWG-NUW1hlzrAUs0tfAmHNNGlNxcKxsXrEkZIwKlpthSmQ0SsJGytTMZTzyOlsWZ6Ih1XErSNTNFBOHsLlWAyjBEoPN1XGkq6QIjw9WcQDXwsNXfNytTXD7UyVWTp5HSRO6bXXW7XeFUmGgKZA2aRg3-pvXznLXAgKZ+XJWZAxYwtFH2GPWzXFRsZPm06gofmrSdl1Gkk1qomVmaAq01qPboIiAYVpB4JlAS3ra7cmJqQ2jxVTHbH7sa74oRWJXaXMsa7tWUE9qchpWQIWG02osqVvX50xX0sk3ys7z8b7BfyAxeBCLaAW260-RVV9USDnXPNXWjW0rpXxpArN2Qi23d2zHOCJm1Mk3U22Gp3ysmUFyLW0KcsbHr6tGmhy76kv2DUa1kXGU7TOZcD0z4X065GhH7GbiFrWmMEeHyGa7DZEpmoYZx2t2r2AP93WnlnEoa2i3pAd9mr6p61COs0Pk5h0OCs0maAnXWmYWmc5m+nfMaPpmNz6gKO9HiPS9OONzSW+W5HxHj3hHOGZanwWAXwdnc5k32onXt0d7567H6W-6m3kQdGCVNHpGhXXBEpeEGmKWtPhgq656o0OGvW1gYV27a1sljPwsgOKHeE-7nqtheEhPAIcOVPuX5NxOaodhZ6vOAka7IZPbxcnXAuO337KA9m10TOgv+6OZGXedrOCHbOh4gubPgPrk+P+PAnH7MvHVkHvOLHSS8uUhBPhEo7BMY6owYx46ZEk75Ecxc2KlKgMWohe13cJOGs-Fwa3dJL6G-GWLGBYowvfrLnIhvdus+vAwKE+AyBpBawMwmBEnpAggQnzMMG8nhmNhRhAW+5u1Fw-OMzgUIJymigK5jMxZdvRnlBGPeXCt3symGUKnkmp8Ur-scQX03E3ug0cqgohn1URn9ucQp9KNMNcBsMuaHnBNyHcBwfuMqNvvaMYecZ9sWOFmweJOIfqMoeUx1Py2pPpgZOxzvwqRn86PSPIJSejNlByf9Eks4rt5O6Q2ev2svvnOzaWfeEAfkRae9mKe95c5iqzs9jUZCeD72U5KRzMeZ0TuqeqTLPtVzMI3sEFey2hlvVM2VeEWSB-wR8PQ2mGFUX8kqfvoj4XOOREoJlpg52SVB7emFmQJwPc0MGTS0uYZgLYpS28LPdPpPeDuN60ej4suxm5q8lKdNfVwhFdeUJQ+-nk8zfNerxY-Wv6OtK5f3WgOg+5wDuPRiw7fD6cf+BgwJku7CGQQG9xhU5y+RpDxf2Jdrh3e5lA-gKCR7vC+HeHHHG-xS-y-A-dAAAePv2v58vP0D0AO+5xq5iCMAtCSTwgCQAMa7YxWzJKN49bpVLo8b96GfYMAcivk5Zsbo029Hboqc-fw-+vhM45hSGfyIOfhfgg5WFf4MNfqLDfuY8gLf8-3fyaK-lRSP4wxdAp-GWDv0v6MAa41-CfpL1ZiYQsundT3rpwChtpc6ayNCMyA17JADkLbYAbnxAGysqe4SPLDn0n4cUYGGAp0HJwE768ZeA8LPt8lJZl4QgnvJHKuEH5TldwtwG-lOVYF4CQYZA3YsL1qxZtFQcpQekjlt4kodE4rRgZTyaCTdgBNzQgL4iHB+5dkyzN9tqSIFfgFqzFHGC62PJzJM2gICmBewCSh9A+OIbnBx0GYMIq64fJBFoI+bpkqe6AumFgOV7p9qIejRAdkmQE5wUBRgXuB4MwFfZi+cbXAYGHwHt8h2xAqrDUDIGhlKBngmgUDFEwG9ZejveZvL0PrkDjwbAlihwOSFAwPAD0VcPX2AoFDecFgp7HtCEF6xGoN-FwVDH-5GAJBEwKQS0nt7yD4hxgJQYELcZqCgwlbAJvZ3eY+QcKcbPTvoIYQgQ1eJpUwRaTcJ4CrBOfGwUgjsHfkHBifBCjGzcGa8wh1AnXjgGq6ZhaucdaRInTkQKJsA56awGSiyYJNcmgmfJvnV+wyZgU4TJVE8OyZrc+enuOJi8NoI6JxgEKa+ik2Ww0BLU1TMpMHGBE5NpgYiECMCgeBndlwptA3LECBBldjAZ3a0FiKVzVBcRblM7p1CJFN8kwgIPEUYDO7rJKR6yUkeiL0wkDRAptNkY0FpHU8IIpsOYpIFNp8i1AXIskXpkm5EjJuNI0US1XYR95PQtAYzLKK4AehxE9QbkWd06KUjjAbuZQBIBBDZA-G3RZfqAHVF6YtYWo1INNz1Ee0-GusY0aaJar1sUgOo0ANaOeB+MoIroowA6PAgQRgAFotMFaP1GgA-GYAe0dKN9EABSAMS6LdEGjQAkYr0SaIjGQRuYWo2McGOG4N49RKYiCK2WpjpigxNo0APmKog5iWRLVIfjGKLHujQAI-IwOWJSBnch+6QC0RmOLEtiGxPoyCJkGrG6jMxoAbIF2NzGZBWxygQIO2NrGjjhxFY30a2QDEhjAgzwIwO2SMDu4HgiEBEc8KRGVM4egfDIIqCrTLgfQiItbruIuGbiFqfwkEeeLtiUAPQAAKwzAJYDx9QKtLiA9rkjTxUwU2rCKIDgwg614ncWIkQhBwrx34wYntTFQkdgUZ3a0qbWtLcjyuZ3SAIQD4igYJAWI1CehLSxIS8uZ3JUbAEgBEjCJkAPCfxwIkUg+8UBSkUqKgLkTOOZ3DAiwAwIBjmJGBGoZNEvEjsgJZ40VCZ33HpBDx2ITiM8Bj6mFeJnwfiQlm4m-hJJkEuLvVA3qviUg74j2rCPGihAIJsXKoFFlAmDU5i8ebSck1ZBv91kU+DJgvB4hjAJAI5B8R8GLDEBM4qWdIUCHknzwwRkjSEf+I45b1zJc5fJJBztxtg268g-mu4Mz45DWO3yDmPLSoTuTZ6bfdoe1HcnSSw+DE1wHFPnzGT9s94p8WQAO6vlUpr+MVI4IynGBpBvQqKQsyeSgFpBMNe8R+mqkQpx2IU7vk7xnSgTzhhYS4fV2uGyJMAGAHweTxdBkBAaPvO2FiAYDNZ9i7PXYCYjMSWp9it-Cgb1SMjLTQBSqDgH-0AG9olpgFMGCtMCAhB9pExfKElm0RYgJWuDEYPqEzipxfecrdJsQGIDGI7Aj9OQBExenBjxE3RGQCwBekfV0cWOdHCEDP478AZxAcqQ0Agim19+cLXNEQELRKR6QNcCJtdgO5b0C2yMvODdCdpQDU4O-CCJBB36XTO0SkG6XMFBbXZsZ+8JSOjODAytT+2gaKnHyChIy6ZTsUYHSC3ofdEh-067E1Qgjyh2Kx0zpMCl5nWVxwEpXLHSiMi8zNUtiLXoOnlmCzdApYgAt1QcpphVwksliibW3AeARpAM+qCJnoBugppzWXmUwl9aj0I8gsqWUCFmQbx8mmYMztdQVlkslUJM7ohzM8xcyGAdIXWRjIFktxRIF-IEOjh2lAce69dV2XbGK4BIFZEAyOdv19mEAcZlQbmRGSvCRNQ54MUAW5AQiiz3ITkDOZzMggMiGZygP2SPkTCkwIqtlT6NbO1m1z3wEECkcoGBTByW4wghWTXPLn+ys5gcxudYH375yycEEAAOR-8wWp-GeW3l2n5yksbc8aaMF7SJ4+ZsskmNOlMSRBVwm87YfUDO6BhrcMsBsGfyVj8xQU9ha+WbSyJW0mqbciMofKaEOBX5q8+uRFWfkHyJqOYt+TIA-mDyR8m8vMvZOiibtnJSk3ZmSjLC7p-mW8u2e6ixLayT5SJKVA-Ax5KdzO32aZlWnAWOSoFpnWBWJhLAMyy01Jcyn3RQXkIzuqxLxt3XrTULwSEVOkjFUfAF5DkPjc+PBjgUlgEFPbVVkgp5IsKgS1rfbEUOSme9Y5fdWZtguuoklzSCIvhUpHUIYyHY2IThd4yqA8KSFu6chQgpcHhsJFQHD6hSLJzfRP8UYUhaoq4AYzTClqPReITUWMzwYbeRKaYv1kMiLF1i3dOwQxnuKTFRqD6gQsgXkBUsVdEuY5At5BLEUeC7EKEqcnhLoFxKJxZjJDmULfqMSvcUBxPEqL-Fri81joN7bMLuAobP3jyPoXSKmFJglhUUv9LnAE2zqMikFORBpY+AAitFsGmDLgkycxJXpRNwf7-MVBdzTxonKyhPMjMaPBnlO0BJdKMSkQGhRQKpIDLS5Sg+Em41GUZ9I0d2YdhTwVGS9BClQGLqYi4ACARAsgOZRmXaXvhAS+s4vKzNzR6g7CYRZ3K006UZlVwMyhLIYrzK8xdJFAR+vCUt5lyRhQgDOBwHjCCBxgDAAUjBidBYtwSsrXtp9hJK6CrW8HasgeRHINkXZwK0ikeHnSdlbyiue8mCvGKQrT5MK4ZWkRYEoJuAvad8rJ1IStCjYOFXtj0rKX9CKl30esAyojIkl6eCK+oQ4GpIxtphhK3Vs0rEF+QMyfKxFWUo86jQAaQNRPLERXxwcR2U4D8bvg2A+pJlgCv+aYQgh6s15ceSYRUqvLnRAFKTQ2e3k8lmqN5f89VZYTtIhBtVRASlvssNXrzTCVgg0H8s2pj4G4AueZU4gJlpxP8k+RWZ0k+xRqcUeZegA2GmBHKF4NNQQsgl7asEG4GaodolHfxUQDCatf6bfMGCsrEor05xnCiOWWEVJQMI2haAXA3zXlhAC2nkAtWBAQ4ukZtckTbXsBrugIb6IIR9zBjK1xxeqDWttD1KdSsqtmciCTXMBeaR5GmtVRTxXitCNAKiJdQKruoiqhsLNcGv0obrylegkdgWpeCqFDCekYwseu9YVrzA46pdbWqEn64G1ruJtffPGB9qrCrKrtR+u1pfrLCA6poN9DGpphR1D6uFDMVdXLNY2EHHwc8qXUv1BCJaltVvPioZrkpHgRDRhtLXUAIqiGlDRmqSyEa8NScsjcggXUpqyNy6sfKhuSL4cFqJyF5ckRI6C1ZCyBVApgXACGx2NCBTjQoTxpDqyNI6j2sxqSIOEfwyzdCuhEeXQpzlvtVdWsCo1Lq01dGvdbtV-DibSaIEQWpjRxo8a1gem4WkJs+hgbfc2myWtJo6QQRZNgamQalj0jfgHxeTUlI9PnRdg3NIfIwc5pnj-N3NTmS5bCzR6ptfNiIChcFok4rKAWaPHYPb1Ngua3hXmuaZ5uC1JYI2CWvzclvmX9KYtSWVNplvC3+ap80WhGcUSYDBgp0QgIGtls+W3AvNeZZzZQC2phaCpLqg0HNPt6tax63WhvuQn9Wog28TWraqFuoCJaCplLcbTJO2GmqgaEbbrZNpngd8sAoXE3ANqFBPIu1rVQQGf1m1-zTaw21moTXMwJbmtASQrW1ooIarOtsgvSBdrHr3a+tFAn6qXJVCJh3gnwTUK5MaB7b15B7LzPdp+BWAptHfK7a6tejJBfcp2kba6nFTA6ltQO2gCDvuCrb2o626UAAi20XyZYv281QsGB1nb9JbafiJVuQxTMwdHW+Zc7U8LYh4i8wrICtoaBsip6D9EYI6pkAk6qt7OwpkfPhgd4NgXeZWuFWcCo7HI0NWGivk2H-wVtd0EIPKAh2BB0dpMS2Ftqvm7bp6jq02pzpGBE7zMF8DMH6FuVIr5lTreEvVP-AF9cofQsBQ5LCURK7OGM9raiFbjmDaQHhCkK7TCr07-Cigtgq9OQz-KxUWcZDFOR7mg7LeU5dOA-H1FfklBEwXLuVyVS3MPG-vf0BnBeZpyZdq2iCIkqIW883FjfcXQLrhpC6VKTLZdiBW3BK7MdfoSCLnuSWRKcdGuxPKbXr327UYeBVPL42EAExhRVEAAJxdBbUveyQJLsenD6zYagFfPPETBlAG2Q7EpREnoAnq2hyrcUpuobz5FuVKgEfb2inlTyZYaAI-R2u0ENLAQQoyQBGWX2srXAF+9LG7orqRB3CfqUwjQF1g4YZVrg2-bvun2P7PpknHhXfsOWiB2qnVMcno2TVO6hQEnJXSrtr2tUQDkgMA3TyVS47MJETRAx1Xa5lwfBaS9nSqBDhRRRgviLNLhPmpaqQIWi7hbwpsUT5-ZKtEOETI6BW191RUKYAwBIMYSSxDefTLjmGDSo42d+yCDrF1hpLQAieF4IwZebmjOgyUoQ6vNVWwg2VFrbGOKSOUf1TlzyuYFOBX0BgFNMxZDWRv+kKajl7ynQ6yvFLsHODaWbgzTCzQ19IU6KnfZPsv0QQRD4wsjXoYuXSGRDBsZQzoL0DZsJV9QIQ24fcO6wJDhzcROEZ1gn7jAd+yXUeHcKe6HIzFH3YrgUN-zvtiuQPcMGD3vgpwsRH3PHpxjBi860MowGgcAX4h+dTuEvQKH9yvtXBrSskEYMDC0BlYZiAg36E1W-gpwlBv+fCmoNpK6DKM7o-6FP7MH5ow7X8EfBI5VHCj7eB3MXsl2NHXOwaLsHMaFlKxJOHCGuCThYCMwboJzYBdMCBq5HAVyGRYzHwYSg6o9pRj2uUcTVZM5iZxrI2dQ3VQHpQEnanR7tp32CKczwJI27qylfBSgYsWwhJp6k+rJq4dWwWLF9wZNmaHxgOuFS8rV6ykeBoGlPOLwyBE9AAHSwAYb12RQD+rgAbB0h5dro-saJHagH6lUVhuSlMq6BYmsjOJ2+XifK6EniTnJY5YvApMT5rg+AKKKYUXDfRhToAAAF6aTQAhJwIKCbJMCmSji4aU7Sfej0nlUxBpk4HDeh4A2jP4To5EBxMkmhAipwObGK7l6ZDjMsD0Gf2IBn9rcMIKeYhAdCsm-txp3k2abpBWjLTLVa091jtMOmraGpg2EAA')">function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
        frame => 
            stream_append_delayed(
                find_assertions(query_pattern, frame),
                () => apply_rules(query_pattern, frame)),
        frame_stream);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p9' class='permalink'></a><p>
      For each frame in the input stream, we use
      
	<span style="color:green">
	  <kbd>find-assertions</kbd>
	</span>
	<span style="color:blue">
	  <kbd>find_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>) to match the pattern
      against all assertions in the data base, producing a stream of extended
      frames, and we use
      
	<span style="color:green">
	  <kbd>apply-rules</kbd>
	</span>
	<span style="color:blue">
	  <kbd>apply_rules</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) to apply
      all possible rules, producing another stream of extended frames.
      These two streams are combined (using
      
	<span style="color:green">
	  <kbd>stream\?append\?delayed</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>stream_append_delayed</kbd>,
	</span>
      
      section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to make a stream of all
      the ways that the given pattern can be satisfied consistent with the
      original frame (see exercise&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.81" href="./4.4.4.html#ex_4.81">4.81</a></REF>).
      The streams for the individual input frames are combined using
      
	<span style="color:green">
	  <kbd>stream-flatmap</kbd>
	</span>
	<span style="color:blue">
	  <kbd>stream_flatmap</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to form one large stream
      of all the ways that any of the frames in the original input stream can be
      extended to produce a match with the given pattern.
      
    </p></div>

    
      <div class='permalink'>
        <a name='h4' class='permalink'></a><h2>
    
      Compound queries
    </h2></div>

    
    <div class='permalink'>
<a name='p10' class='permalink'></a><p>
      
      <kbd>And</kbd> queries are handled as illustrated in
      
	<span style="color:green">
	  figure&nbsp;<REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>
	</span>
	<span style="color:blue">
	  figure&nbsp;<REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.10" href="./4.4.2.html#fig_4.10">4.10</a></REF>
	</span>
      
      by the
      <kbd>conjoin</kbd>
      
	<span style="color:green">procedure. <kbd>Conjoin</kbd></span>
        <span style="color:blue">function, which</span>
      
      takes as inputs the conjuncts and the frame stream and returns the stream
      of extended frames.  First, <kbd>conjoin</kbd> processes
      the stream of frames to find the stream of all possible frame extensions
      that satisfy the first query in the conjunction.  Then, using this as the
      new frame stream, it recursively applies
      <kbd>conjoin</kbd> to the rest of the queries.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (conjoin conjuncts frame-stream)
  (if (empty-conjunction? conjuncts)
      frame-stream
      (conjoin (rest-conjuncts conjuncts)
               (qeval (first-conjunct conjuncts)
                      frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function conjoin(conjuncts, frame_stream) {
    return is_empty_conjunction(conjuncts)
        ? frame_stream
        : conjoin(rest_conjuncts(conjuncts),
                  evaluate_query(first_conjunct(conjuncts),
	                         frame_stream));
}</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p11' class='permalink'></a><p>
      The
      
	<span style="color:green">expression</span>
	<span style="color:blue">statement</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'and 'qeval conjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzRWIBRNFxN4ACtLlRfRiAAD0IMIixiQL3VSdJMl6gawnChrurcqpSA+BhOu6qbBt4kb+LdOZ1pms45pRNzAmW1aUUMPbNovBI3QjfqNtmxrzGa1rKFxYKuqO+hLuG66BNFCasnu-bzielxFuWj61uBq7Rt2mHHvm8wTpAqHzp+4jRru6anVBpGXBqMQqFqBh2jIXwMYC7aXHhnHZsO5MVHoDr8GqfQztMQxuDkcgFGIBgPkCXnYepsaGBatqVuZ-H2el86-SKUoeb5gXKCFhQQ2aTrWboUZTrlznZboT7OesND0OIFDidJgtSApiGQI5sEnbCSCdJWZX+cF-oeNxnA8DBwxQDkRQIBgeAkFQNA8Wji4vpcS382J2XWvoYg6Eobh05zTbRtFEEtAoLJclTmoM4VmSC5cxsUOIFPCDT8vpOaAHebrkuG7LygK8V2T5MIAXfAUFh8BrqijCHkfG3wGQ0jb+vG+7rO6Bz5uxY0QgQW5HqO8XnuSkEQhN4pxP12TsHxYGk7DGcBeu7NloV7NwyGlnECZ4YWuLvIUgxEvwhr7OAurve+y8c62Cgi3VIWVKDBClsPao2VdYgPTt3aSpRT4dC0PoGBcCS4sEQbFWBDAN5byQXfVBD9s771iFAqWIhqCok6BQpu-oMFrnoWxJhxdFCd1QWAmhYYxZsF5iwYQ5B-6AO+ig1hBpSiJX5mDGcojxEMEXBQPmhdB7D1HsA3he9zbuyKCI4eqiR7CApjIpej9V7+jocYMmjh276PvugloHCHEFicUYNoXjlBe2YFoPmGc9Gl0oQIteop2AeC8CwtBbD3E-GicoWJViIl2LFoFVWxNgnOxcZQtxp8GBZI+Dk1BcT0kGjoeaagYg6C5LiYI3SiTGw1LqQ0tJNiml0IqMoERlVpH5NkQGFpDBen9PIZ06ha8TLBAqaJaytkHIuEML4DO5A+oeS8pg4mhUIpg0PsffQyJuA-zEENP8r5RQAOoAoRh1AcyKJlsiX8CpRqkNxDcu5NBHkMCUScwQv99qxHwoRd0wo3ypF3uUP5zyHCvIaOeE6GQyo7OwRfcx9t4WGKMdMfqWgRDixXnBegDSX64uDvjNRP826Fwui8nFFKVhnK5uS3FF9s4kvqeUl5z5Ch51SFk2uesUVNNiKUIVVF6EErBMitg8S+zNE7BqZYoKTwKlmdOAFVkbJ2UcpS+O7JfAkC2YctgvhCogoOgzFib8GAfy-ntARv0-puhuNiM5gIAB8LSsF1zOQIrOdNrUHKKW8LhzhmFTKfr9AVTBSD8FUCfK22Dw33PoD8ABtRqDb2cWE8uAixXsKTqm+gEaM2NkpL48pViqFP0UsZFNziGHcJIfKsgdBXKPMaQI+moaPHVu8R8BQlAuZdN+lc1IEs3oC0Hf4owlAR0TBdbEUayq-Jqv+JOhgIjlqlKCeU4do6EWhlGmiuuDtskHozgupdZtqEbuPEREM55L1Hs-lRRkhlz3HLgnuwJLVD2LuPZwB9IZt2SvXBev9IF321xPf6Uab7gMfqg35eMT6V0ulFkUzx6d51sovP+spITb0gbA7Gck5x9n42BKCe1s8HBtK-J2vmFyqY3RcO6-QrH4o+qhExtwtT1Rwm4LxkGcdGaGG5IwfA-AxkmAmaiUJfDy4TohaKPD3ja1XUNO8UswGg5Ai0-4q9gHSO1vQ6u0WL1JYmbrkepY0FSiAzZWsI+6dBjSaEPa+T4yaXKd-UtWDAGGmOc3IRoCMnfOo0UwFoB+hIuhgUbOxx86UZmdyRdcLkxDx4Uw8RflNnUj+YGcgoZCqElv30KVpB2ip6NLFaAZogMN0hto0U5JqSKvOuIueTFjIusMExY0vy549xGepNFuTsW+nxaNPoTFeWmb6bKJ2oTdTaiTbtR-QTN9NuDAm8ts9TbFv4AsUGglwgiU5i5Q0ibjKmU6T28Jrb3AktPcKNQv2Nq3JFJKaFmtPXx2Y1FilyDBZEvQR-Vk+6Ujyv5usd9vtHWOHMY6cD6hv1zy10ZD+9HqDUMFkkcQITgzEd1pzn5Zj9XR5E-9Rt7lGdac8Ip5RKDvaOMCVrijw1RTas70xzG4iooL4C9vrW3CoByTFrPuiql4ucrEJLEIWbSmJcVeftD+tqwmTCZZ-TmrcWyss57dLz7MQf2K8YLXEnZOEeqaXh9i2T8fsB3xkHEOSgoBwEQMgdAMdiSSZYvnRh1dGmxuK2kXgw8yAR9AAAHwT4pTTatqhiHj0nlPqQR6j36A7veifk8vnGhkVnjvwixCzyXsUH41RSkswdA5Vci6G9rZEQoXO3RWN54zUUzAxASGu9Vo9Ow+j3DECLTjYsEJkfCAAMnn70foXngPhGEkCSg4+B+95D+Nee7fQfT-7+QQfJNqudPBLxvZwe3KrJ0dPWevGI9H4ErtCMOnd9NVSATm9h+u-JCpAD5D47qgjzLgi-5aR+wHKQGm7-5FbT7v51hDAr76Af6a65aIyGqwG25w6k43zk4V6R6IGoERjoEU78g0aGqijW5z7EH-RAGn4gEj7AYWQq7M7W7whF7Z4T7MFgGj6iR5ikDUAOgKZzZlZcFZ54yGrW6m5Hq5yixIG2hKFgRr6YFN60ayG4FXz4G3zyHDRwykHIGYRqE-YHL5wqISJ4H250F-hxrAHn78GsGiQmJiJWE6H2437N6WHUoaKSBkAs7ZZr4GFg4aATwP4MZzx8zcAqFz6UG-bmCuFmLnYUz6F2GKFGG2gmEjrqFUF96CrUyZZAY5EhHH6MFn7D5OEjoWQA4kZQFYGMyw4eEEG6xpHLCGEjDZHdxmG0aihprcK2EAFiwOGVFzgCHgj9GRqNjWEtGSHF7+gn4VGgFjHOETFlrpqdqNj7rmb1EaGGqTEVpqKBBsS5qDHWbT52qBAyBkbcB4jQG0YHGbH0JaZghtHnECSXGVA3GgCkgNEsSPE-CdCFydo-IObBHpEXH0ZXHfE6A9HUGpD2ZnFbRlG8GOErHVGiT2ZeG0YpaInhalEfFgHghYncDhZ-F35zoBJ1FBElERCxDtEZGdHIHyH3GGrIZ1FkbsbvE7SoFkl7GNGk4hbUmckKHT5dESbmFTqvS4h4mGaikMHR6TR8nSH5E7rrBCnXqvFykElugAxl5oHMlylwmqldZInIkKkjHLFakYnghdbYmGpDYjZvHck0yZGqE5HGl74kJHxkI9TOmuqAGomjHWmZyiSkI5pIL2mMwcrNF6HgkMkkFMkPhqHknmBnJ24tE0ndw6mulJlZBdG5H+yyAe7BzyDe7hx+5Rwxw6C37PRAEJpb4Ux9RT4Km54cBCD6DNnm4JKbIb7sgJr-ANotCkCmSdkWRtn54tADQmBaDCABAmDEAPK1CNA34JFca3BPLxz6DqK0pkBjqYq9ZDHVZrGpwwpgzgiPYGg7maJ7ncAHldKpmBnQqEr-Itm6nlF8FzgyBsH6Jnn4xRksQXzXn+FLTHJvlohQlfHfmgB3GPkGrJjDYpFgX0FuifHXHQW-H8mAVUqcryBM5ggyDgV0bLTQnQWwlf7XAbnFKFHCpvAypEXHkQ7EAXkrb0VwWihMX6DwYoWBmWnVa1w1E0VUQAXHRCVQbSrlLcWv48l5lcVUTxFrmPx9L4A3x0B-y4WkrlJY7SUuB3RPxwWXqey9TC5DHwz6VYV-aOBfDGDDb2x+G9ad4IECSz6eyc7nDnhb78zTq4gaX4WMita1nrl3BGX35TxjpfxEWz6hW6Ls4FgSm0aeyBHHJ+HPCOUunL4jCeysnRl+H070opUd70lOW3TIFZUUUJx9RXY3Z3aHqTwxW5idD7nrBeUmXFVojpxiBb7hFhXr4iQcBqVdVrhOYJKz4pYhV1W6js6uygAsDNU3ZirND9WdWqDdW6LhAAA8wIHVg1jVTWzSmqEIAAKnJIJEIL4ICmIDHqgkHDSD6dQMuaJKAAANTdlGKCzp5CipETVDQvUsXgjPWvXuzvVqWfVyW6iTAvzGQjlzLgjHX4DBzED2QXVXUhLUhYibz3XCDND-UvXO7Uhp4g0yBfUP4-WiQWQA143A1iCg1DUKXN5yQSQG7CrRVsCHlIgdYrw7pyTYjaUhgHLeatHfVTW6Z8QomAyrXg0fYYKc3ojYh42W5WUqXp7VV4UNLfYfbNAs0qRAi7Qs3DVGKzCoG0142a0yYGkPjfUPwRi03LbxjgYQrZza3sjj7eUq2aVqaFZ4rQ3Tgs0WTWQjzlCgDX620goFaGSvp+GMiGV+HGVU6GSjQC3JVtxJVZWXnoSJWOpZUh14RUZDHZxc1ECx2eluQ04s2G6+0NWs0g7kihoy3c1F1YbwUsSJ163C2N1tVizi1617Xio2IF1y24r4bWXK2+Vq2u6Eaa0TVO262W1JalCkS7RDXs49266J2YSW3Wi2g21Wb5b20GCO19meXizSlu34Ui0NAHUV06oB0iBB1tymqQGWpHgETqp9gR331AjR3zwUanqiyJ2JV61J18xa5PYZ1UT5Vtx8pFAMQMRnp12F1gYRTu7xye5llhy+6RwB4YCBUz7CHfJLmwpbkvI5nDFMFokEUOAWRfL3KPIiXmDUOgkMC3Kbw7HkLEMQlv5unHLwo-bngMMEOByMjVbOjHlzAsWxBzATggPGJEkcjiMxAchSOPbHkITyOThwRKMiNElvxqNvyaPTDHl6mZAsVGNsD+jSOFDHnBSbzkAWrcDWMiLnUGgWOxDHmaryOap9guMxDHk3Bb4kIsCGAXl+OqABNBwrDePEVgjghPVqOxBjmgC+Dr4+qbIvVOORPHnuRxMxAJNJPeqgCbJeTpPKNEmibTC5PJMFOgCQiJMxAZNEnADZMGB9TcB5MAgpOgBgDFNaNzjggACkTTFT+TmyfTtToA9TvTG+cTQz7TVTfZSTJTvTAAhMJNMy04k5U5sis0CAsz09E+tYM+s20x05tTELswY0SetQCNkzMyc0CBs4s9E16oc605s6AD6mcxM089c9wEULc1U16vc+c6-ESUs001U4ULMzEEs7EM2c6E6Hw3gzQ5uQhXrYCCGNxnMNwPw78oHAi8VDwEi4wxfPgCwB1DOUZhi2EciPkyo0S0uSxbEbypE0UDiyi8pk6EVKtmy88cwKjUCNVsecqixcqiyxbseZAHQGqIwnYzEJK9K29GK59r41QKE7AJAPIyEwwOq0q09iq-4wAKJqNasGu6tMrHkABy5AFrTTVrFrK9Ok+L3L9Lvy7BsG316LKw3Gwoszu0hF2LLr-Mbr+0iLtyyLvLqueVnr0w3r+TTLm4hLYbjDwbnLMBPpnygbhDyY3DdApyv8b8RFHyTDjA4opA5qytHU5AeY0mwhmgUO0EPLzDHAuSbD2KhGZyBbRwRQ7WhqwEWIp9DSRF+KnmA75SbKG8nm25mbF8rdgN7sPLbrgRZrsQE7IgU7SbAjVKpL5LnM72TKC7xUkbEVadDQR9rto9lC9MHAAgR9YgXws10xxKqtqCjIfbA8F7N6nLyDyYqDocPuEc-uGA2DildFFApgNsgpVUNwpAsSQhIhfwRFepse04sRcHT4ENIysR1tP88H2E4Qv1DAON+NwhhNFMqHOH6HNCzQ5Hwh6HcFJcNws6O5s5C6JH5yhbygygMeGQycRgpynHlTQcL1+g5AnHTt4I-1pQEnzWZNj1L1onygy7BoEnpJBN7HcFDg6ixgrH6eeb5yenteWnhYEQ-4QxVNAN4IEIANDHEixgzHUo3G6ZmnP8xgeny6v11g4IGndARnTAZACgInv8iHpek0ZyNCUngM2k0wdC1WYXoAi+0kkKip+ZyBYX4QSeGVgwEYaXoA2zokxQ8IIYpQKBIwcXfZ4IBXikpQoHonIEZMHwUHP8sSYXQ5SX4Z28t8cXCXE4rcfMObCFMxnXQXGHCSlnRHznS0-MhcAXu0LKgXk+couNE4-1RHZdH8z+MZWaNhOXS3fYK3ANE3Nl03JXWXqXQK83uW+HL88IUXVSa2RneUoILFAa93LnU3-nI3RkM+S4LXIyh3dc4Iqj3A1Ws3QXm9WQaX3A-3fnpAPEmsYsVNF3RXokAA5ER56r9Wj-D1TaDWF95752THbPoIT3kzpZ3fqXzMhyd8T7bMC8q0SUIMIH9cEH9XZFpBZOaGmH9QmhwPCJ973P99TyT1bcgcL1Dz529zD3DysEqhL5N0L7TyL7aGL695NxB3bMXeYJW9W8oLWyBLbgAh4PgetMF96RjR199PdOF1ExCO15GdzDhbGZbwNEp6ddiNr+sLr9QJoPTkcUb24G5yb-z7rr13XFb8j8eQV6SRNZEc-lb1R1OYQOVaACT4POsn1H7-4m4Cb+pu2Gb76bfPHyuq+lSlrUCCGGt0-vPJt-DkH1Zoi-78YNdiyoyNxqn6sun5n-gYH-H1ZkhqX1PeV6o8j7PrtIb1n03yQkCg-LEeP-gSTCyrlvDzO4P6pDoyP-IBPwv0CsvwPw-uJx7zW97-r8JSP0uCvw-ie0UNxof17z7wb5v93xdRdPHwny5Xv1PAG439v+p1RphtunHxd4i1RokfFipXyiJh8gBj6F+s+mwzT57obWPIixDegkAc+ZPa5EuHD6YdUCWA6LsOVHL3Q-auqZZIn3hxGoSAdDFwHRWupoChiGAuCCb2R7YxCACfA6oQIWTED9Ug3cwNQJCSrkYCbgNMFVGIQsB+YAwCoIMCt48VyBkAlgeJ0551Q4K4gkhIIM0hVQRsUgsnrtF4Gjo6+PbRmClgIQMI1KclWjhBErobhpBs+NDuYPgxwUjBbENSh+jMGPAHB6eIirtDcFqVsqLELwX-GFR+CiKEYQIfYOqCOC-41QP5DHRsEcBuYBVMnlWE8AxCuApZSBnBWHZrtkhsVFIVlSsFLhDBYQ9PKYNw4pD4McQtIfoK9JCFaBHdRYp+TBDsCKu-A3ovplVwiFsE7A1ymthvrXYhCDAdQCIA4CkAroByXIIQBPgu9G626aoUX09qIoCWfgwbIUKcGRCjKnQlKjvSKBxplUi2ZYZPilrdC5MhKPoQMOEBDD1o5Q4BhrSZjjDdhxg-wePECHZ1GI--DTKkFnyzD46osWfGMLI44CgB3AX4ebSBhADnhm6duulQQEhgYGQxIEVb2T7exeYZvEdhUEcZdg2QqI2xiTEMCkhpBpjIwHcWR6YjfA2I4kE8Hh6j9eSdxK-oUCeD5NERCgZEYSmJFdg1YPsMiIYGpHy0KULI67DiPiLmEM4ZAdsr8l5EEj7GBELEXyNxHoCQuYEQkSMl5ECwyRb-JcLrS5HQQ6RszaoIXBFH8wxRSonEU8BpETgtRPqBkRyLuJ01aMFomQCIkXTUtKG1IIinaKoAEpVY6sVjuyO9ZOiJgBle0e6IZFejhYeIuUcGOl7TAXMZeeHjqOFH9BRRkokkYMEMi602RwsGkWaODgBj04Hon2OGI5FpjfYmvCqlVSFDPFQQklCjuYPEShlchfWBYXsKWH3Di2UQ+eFkNSHAM-I2wuvF6DuHhCi0U5K7MUNHCsQqAlwvkEOQ4jAkGAfjLiH4MNyBD7GY4jsdREqFuQpxHaGcVQC4gcQlxtY+IUMU9jicZAdYWoP9WR7ggTxewM8fD18TMJdxo47MsjyPExAYxqQaoRxHCDI8Mh12MsZSArE3oHxNY8cQn3oHwQqAC+JfGBJqwQSz+lAacbOJWoRhPxJo0MBGBrGu8rybozcYhOp4oTuR0EXaBhNQmfYs68PS8aeKZ4Ij0817HKEGK7Jk9Z86zTMYDGLEqA+gKSEhIwAUE9QeJzgbgKnwfGp86x5Ic8IhOoo0h5UjIDcUkC3GcQVqgk5cXxPoB7sLcE4YSRsKGLiS5UGUVSFeI4BM9kermGXtSBomSA6JhY7iNuNCY6S2JvAGymEP6jbkIJoYj0UULH4QS2J6UXMbzBxBshugMo0SQS0mzpQ-JmYXwJhVqEdgexX4IaFGMyAydDAyfRyRnyJAzxnJ2Zesatm6CMgPJ3cLsVHmqHdBwgUnArjJ26BXtJAoAQ6gAAkDWDAAAILgBwABrAAEqHVIAAAeQtbIAgQAVRSjIEkBqAVBGkQLDJNzYriiK9k-mClIynAlre3klKQv1UFjTsJSQBPt5M6CtIVpQCOCptMyAjShBC2IirVPqlNSWp7UrqT1L2kDglpzfHaQtnGlEVvJQYlKQwDSnXEnpHPB6XQHcgMjmhbJMIYdLUGPS1pE0kSR3VtH2juM5KGsTHm9SRY1AJgLwFxOBk9Q4Z5kScPBI7QgTUJg0+SWjISzjSQJP2a9nEAyBBsjhhcRkAAAYTgilGoPZGKQUz8+EZWKNQEGCwwWZuQBwNTKBA89KZvM7QC9TxAFTp8AsqWELNIBwUUsjM5wSUOHHmCJZdvdmb6DyEMCmh2LJcMrLuoW9GAHM8HorLw7J9AgvGeWQ6FSBswBZV0JFCzJVlVQOZ-lRGszI4Csy9ZTDTmX5AORsj+Y9kToLEk0Ehg40MwyYYZHkRUU5ZyQi4eTNdn2ycoHMprHQg+Eu8w56jacD7IYB+y2AsSWmCwMwmxAM5Wc2JMwKX6KpE+bWDuoXP9nZAKZbEioCQBEDQJdY7A9sRDMTC0Yq52c3qOfXBR58ZhCGA0K+DvFZB2xjoCEXAIEhqwCwmwjDDAPHkUgFhTY8IS2LWEgSZ5otBUjsJYAOtIxwcRqsQG5HhhAgvs6ufOICFQNKM-4cEXMK2FR4PhX49CKUE7k5ycBcoDLs-OBHdyHWzQE8YRE2EwjK5x8zOdXPhFrjzAP4phrPAbhCY-gRs0oZ0BAnY4Gx9wpecrVWHRCqxsQyaX5FfAwt3wFQevIMCeGN010dAT6nJLnF7CFxewh+ARMKBrg15gNcEdMJ-hg1fwTKPAJCC4UvpkF4Q1BSsMYBGUGF2CoOaLDwXRSCFvYwIWykDBkKiaFClalkLoWFAz5jwmhSRO3BZU3Mg4ydu2OEVlU-+c818PXM8xNywalEFwTkJSqpVOF3ClYKNAonXiqJhisFDfLPSVVdFmC+BVXQMV20kBbkBwOQtwmEAFwd4NueaTdBHjyu+km8SMkcUGTbuSkYeduVCXW9PYb45wSkofm7yIFZY6BTfFgUhLsWYSlKhko-G4jvxHiwlHkpUoFLHghAO8EUsmkxBbFkIDJbPhCWQTvuDAhpdb0CXyLcJyEjURSmQmkgNFDQfpbiFwlj9hlakhoGPzGXKKPY1i8iTEucX+K6yLssEnUVN58UnCdRGohTMoErY+k9k2+NbOkGxFrZPg46CzJGwXLZRyXT+RGGuXW9jynQP2b4HrIFhCuJkrDsgVeXJ8i2EiAWTXKwWKTsZSQASbT1bHAMkFq2PpPni2WMhTZydZIZbN1jWyxsBLSZRJJRRfoJwuK3CRCuBLjKVgbwU5S0XZjtlGA1ssldMA0kVCO6uKnSceMomJKD4xkvAeenV4UwJZI2RFT5jpWEZVKd7cyYwCDEsrScoqUmVVNOkMBWplkAADIGtepQdMvPTIOT4zhpAsi6MTOaVk9ppxbCoH1DmkdoFpt0j8H1BJi6qzV60+HvtMbC2qbl5gR1VsougnS6pCq5VaqpukgQ7p7qu1XQCIoWjV2yY7cC9MslvSPpQa-OSsHBACy-phY+EKhMjWejNZokRNf9OtHYF02ga-VeEoDLEd2Rroh0QPQnACz8mkWYFVsrBUpCC1KVPGUNJskUy9VYMkmdRNaiuySeNPcmNSkhXgzcqDIkNYWL+TQywifNSOrM0MihqPMzIxMVKEIxqh7po0hLCSpxmTSNFmYotravXVQrJpLLABoWLYk8qe1JPccT5J4jwqqQrQGlkCFCkoC64KvcEKetp5P0IlgZHYbevhRVdTJXa-mGetp4Xrh1Q5b9eViFGkYVeR69WGxNFApSHQGU03ojzylvyE8YsaoShrYkfBggYgn6S2NmnKTg1ufJLvBtgWEaB5emKkDlKBDRqsw6U8jZsPPBccRyhOQjZeujbuw01eY7oN9NXX0Ak16sd9ay34A4heNR036f9JpGz5CN3ATMcxtNkgQ2Nw65bNfNzoqlm6sCQIFsvw1Wq61NsgluNMZAUr1wVKrFeSG3Skb6lYMijbEHPDUb3QVq96XRs+nWbGNBLeTYTglkMiONOkLjb5J42ZqKZAmn2EJsKClRRNgWjgMFt5gXlDIs+AWbJsqYebmcXm49SprDp+KcGygiWXAkI0icfppvUFeRrna91stFM-LXxuDXw9lBeWhjRZTTLCAV14mireJqujYatNbGyIQRoK3YrVso8JrSDPeCMh5V50tqR1O6ngA-II25qWNqulqrpNP0xLfk362EyjQx2UWOCAxBed6tLgMrY8AeXkh2t-MCWV1t01mbKNAgFbbquG1erFVKqybeSHlV3bVV0k7WRTKW2zMrtra9bdPk21eBttGyoKCkBZhsw0Yu7FcZetN6u0wd6M4Hd1H1q9wuVX3WMWW3jH6iF14aicK+vJhBZIYcOlEDVnx2mxgNx6t2H80qYfQdYesVGETt0Ew7XYWAKXOnSHVpbZo4WzbaQD+rY67YLFSndUFTa0ZCYycFlCTpg3SCoZVAGGZoqnVepGdg8sMdzophC7ZyvK+bgzrmWFBRVtEiVZZKzoQI5EpktStrsvVAMJx-4QCC1jLxk6kQLOmDWzpE1X58A7PUSIrpYrK7VxilfqCYH4CyCh2p2dgbe3vY-AP2+UsBS4Fv569DcIuiHcOqLAJ1R1paqXf6CiWy7QwXurjtgnUh8saAycPGqD3Y7jj6VOTHMNzGSbciDqJekrU9h1RLJ9UHEBqqQFNQ41Gd5uooOCAj3H96cfPAcVrvFUm6tFoYS3ZkCv7QafYfsdnR3vv7CULIru7gJPpP5QZOWYkjZGMnYiONGQAAThOAHIHGtjE3VyXbkyE19e+i0WHh9qhkiNN8gAfqQ+A2b8sRiiFC4D7I0ye5hQXfRTBR4o8LIaAH-aFtDpzyb5b+4-X8JGC37nhQBkKI40vVMNC4+Ykwg-BcBeRYK0I3OhAZsYylR1Z+vjqdQz7v62JHy2xt8rrjCYcNousfdINH28x7d0TAg18vjQ-KZ9TaXlc9zYCfKiDAuw1HPzcCq7qgpUVcGQBHg3xFW16gQK0EZDt81kzADPlwbbXy9eD-ACzkcD544KIUjyUgIIZla5dVIN8fqlAUbrv6IQnkLyDIZT608HNpUGIEYd8hV7WIwB-QNDzPXHAXhABhiK+DY0iCxBjWqUK0Dv2CBGt2m3LT9JE7+G2NI2Hw88NfBqGNDb0LQ0CGJLXiM4XBQA7EAMPggjDnkJkOJr8MSCtk6R6w9fJgYZbpgqR9IxkZJ5EYUUQcUo55D-0xB39JumdaOqT3S6P6qeoxA4dp71smUWetocnFaCF6DAlewivk3AQaLFdxPUkmZNgQ67PRrE9QploGkwYuJhgeyHHnkOZSgpq2MQ0CAkOd8ZDzkuQz5wUO-UlDUDd+mxjxxMGz1kxo3X3qDFzGxZCpcWp7AR0HxHdp1eSenkfHkApI-4WXgT06M9GM47Qp9TEVQIvGH4XFUvSMYUrs7GeXOq42+sBHMwdYnLGQ6rpR48T9AcygADpYAitc667MQhkDBAAugMVpq8zlDQQv9ghAQypWYpOh0TPazEytOxNqS8TBJhuUSfwB-JSTzkhgbwFXAPwegs+QU6AAABeCbUAHiaKBhqmAPJkk7DyhOJNuAkpqkzpBpPggoj9JwqFBAahLGhAKxuPJicJPyneTSpo5sDwZ5-UWAf1ZQH9SZ6TAUeToPAEyc6MmmuTZpxUwF0tM28ICNpu0w6b56anfIQAA')">put("and", "evaluate_query", conjoin);
</pre></div></div></td></tr></table>
      sets up
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to dispatch to <kbd>conjoin</kbd> when an
      <kbd>and</kbd>
      
	<span style="color:green">form</span>
      
      is encountered.
    </p></div>

    <div class='permalink'>
<a name='p12' class='permalink'></a><p>
      
      
	<span style="color:green">
	  <kbd>Or</kbd> queries are handled
	</span>
	<span style="color:blue">
	  We handle <kbd>or</kbd> queries
	</span>
      
      similarly, as shown in
      
	<span style="color:green">
      figure&nbsp;<REF NAME="fig:query-or_scheme"><a class="superscript" id="4.4.4-fig-link-4.11" href="./4.4.2.html#fig_4.11">4.11</a></REF>.
	</span>
	<span style="color:blue">
      figure&nbsp;<REF NAME="fig:query-or"><a class="superscript" id="4.4.4-fig-link-4.12" href="./4.4.2.html#fig_4.12">4.12</a></REF>.
	</span>
      
      The output streams for the various disjuncts of the
      <kbd>or</kbd> are computed separately and merged using
      the
      
	<span style="color:green">
	  <kbd>interleave-delayed</kbd>
	</span>
	<span style="color:blue">
	  <kbd>interleave_delayed</kbd>
	</span>
      
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      from section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>.
      (See exercises&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.81" href="./4.4.4.html#ex_4.81">4.81</a></REF>
      and&nbsp;<REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.82" href="./4.4.4.html#ex_4.82">4.82</a></REF>.)
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave-delayed
       (qeval (first-disjunct disjuncts) frame-stream)
       (delay (disjoin (rest-disjuncts disjuncts)
                       frame-stream)))))

(put 'or 'qeval disjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzRWIBRNFxN4ACtLlRfRiAAD0IMIixiQL3VSdJMl6gawnChrurcqpSA+BhOu6qbBt4kb+LdOZ1pms45pRNzAmW1aUUMPbNovBI3QjfqNtmxrzGa1rKFxYKuqO+hLuG66BNFCasnu-bzielxFuWj61uBq7Rt2mHHvm8wTpAqHzp+4jRru6anVBpGXBqMQqFqBh2jIXwMYC7aXHhnHZsO5NqUoQJyAUBgNBIEQGAqNhyF8Ls2R5vmScMUlftGgGMjAvE-SKUohf54QGFFp4Q2aBChn6QZDBltCJyeQEAD4mZZtmOeILmFa7Zn+jZzDdcMnTtytpXRf5PGvpTLRSA4cgc2IbmCOF7XBaDxXlbFzHqbGtIpaMGWQ3lsOReJVWVnVpddp16w9b7A2AWN6pvd9-3A95xX9BdiOnlzp3Ynz42PlNsjs-dnA8DBwxQDkRQIBgeAkFQNA8WHi5PZaFDif0XJWvoC3KG4C2c02iXUhBb3OmnxRCDnuhKFlmT15cxsUOILfZ5qPeD6UgHWbPmed8v-fpNKfLCGV3wFBYfAT6ooxP+-o2fAMg0h33Po-eeOcWh0GXtJZoooOYgm5D1B+u9n7+lKIgimxBJ5aH0GDBg90TqGGcOAtBUCl450dkUWcIFgEMFPhdcgpAxCEIGsQ5wF1UFPwoTAyYWAoLwNSFlSgwQVqKBYNUbKdAyE8JfhPfMU8RFiJnpIug0imD4HZoQQgSDpGyMgYvPhcCY5vDYqiTe3DIHyJwT8Mx1ALFZCsXvIxsD-RCIYLzL+whyBsMIBw76zj0EGlKIlAOYMZysxYD4hgi4KAKEkGQD+X8f5cO3uQ2udcYheOib47+wgKZBN4W4g0HjjBk0cPfdJciMEKMbOUgslSjBtEacoAOHxiYJL3mki+hjoElPTjHdgHgvAGKvjYtcDBhnKFGUE1x19Vgx0CsrZgWgulgiKRMn4yyOlrPnmMhe-SFmxA8eaagYg6DrIOccmIpRbGNjORcq5cyjkmNFBUZQvNKqBOqdY2p9zA6fOYfol5lCTEmWCAciy1lbIORcIYXwe9yB9Q8l5e5HQtCFQimDQQOi2AU2RNwZhYghp-lfKKfx1AFAOOoKXCJyJfwKlGlg2JpAqU0rpfjfBDgiUsP2rEfChF3TCjfKkVB5QGD0ocIyho54ToZDKuiqeBD8kEulZkrJhR+paC5kvOC9ArnUKyQQuJd9vYXQZRqzVDRiWGCtdapE+NCEwP1Zc-ZDLnyFFXgwZZp9Rg0jYME0MpRfVUXEXvfZ8rA03MWZ2DUyxBUngVBC6chLRIwrso5bu+N2S+BIKi3FujfCFQFQdBmLFaEMHoYwva8zfp-TdDcbExKjZ1IxWfYl8zF50zLTigF9jHFQqOeLaOopmb8FUNg3BVSRA0voD8fxtRqDIKqb0q+8yY26TbVPAdzg7FGhafsop8zFLGWnVvWdjj2aBrIOomg-trnzPpn2yZDSLZtKMJQBQlA7XDuIuS1ILU2rK0PU0j436Jj1tiKNONflE3-AA549YIFdktX2eBn9MrQyjSVXgiGKHVlob3p+iDOdKFwePEREM558MrO-QwqijJDK4bPrR1DVyMNhE4ORkMiHQ3rlY3BZaGGGMCaw-6UabGv0gVPn5eMlGoMumjgCt9TSjUXmE4R9ZF1ONkb4XJ0t8Ze05srfQhwjyvzqISaSqmN0XBNv0FZ+KxsoTmbcOc9UcJuBOZBmPRmhhuSMHwPwQFXzpE9IgVfX6iHVMfqKVdQ07xSzSa7kCWL7StPzwi+QgzW07MxyA29EDFSP26aNaUQGRq1g6IttrQLVaQsfLC6iC1QmCOdPQylzc6mgL1eC6jEwzXOH6B66GMJxXWlnxRisjr3SSOYcmIePCCniJetHakJrwKUG-PGX2V+oJK6Da21VBFKSnE7f3pu0AzRAZweM+PAF0zZkXbrcRc8qrGRPamfgAp1y-Lnj3Kl6kfXGtHe+e8fQqqlsqGKmUdR7mLm1CB6ZkBbmSGI8GID6HOHz2qu7TqpWer5BuuI4D+1DqJxo480j7go2KexEobjPzLEAU7My8R0FfCR35fG-xgsI3oIsdGHZvxASZHHqOUz8tbkAUWeeS9v95Jzyn0ZELuX89RMFlF8QdzPy137yfeSCzyTAGa47QjknKGAE-0fbmKihu1v5dk-dxmALNvg6HZQ6LqQCHu5BRd6wuFQDkjuee33YONGiPDR0veoXjt68iwbo1YLFnG9O6bv1fvYrp5txLun0whdZ6qqfbXuvxcB-J-Txn9MO74y7j3JQUA4CIGQOgEexJmdNTXg44+1zuf-XGrwL+ZA++gAAD5j8UqKJu1QxCj4n1P1I38f79HL-r8IC+XyD8mkUwom--TvgqGqKURTEbjyPhQX+Am+8REKLZgSQTn05rHeQMQEgla0PmzsPo9wxCw3W7EkuBhuEAAGQgG9BazzbhDCRAiUA-7MBiBP7jy3wJI3735ugv5v4kyf4vLghOZYqd7mA55AIgJOZoGO4CS7QRjxZIGMwIIW7y7r794YGpAIHv6eIHa4Hq57wEE4rcFW5nbkHQbRxUF1iawjDUEB6LZn6Mz8Fm6l4kIJ7kLME0yQERiSHr5tzS7PQbYR49TAEqExxsHYEHYYYWQlhCADZArg7wjj6T5b6-7sGf5mGiR5hsoOhx42Eb6T4eyMxF45TEFQHDRwxqFiGiEPjSaLZM44r+GMAl5EI66KEyIGF-ghESFiGYSRFaE4qig5IxIJFl5BGpEAHGEf6mHSYWR5G+IFFJG8EmZRIxKmoJLewm6pJFHLCjQObEFVqkF3zcDhFgRZHRH1HeJ5I-YUwpEdEiGhG2iZHfrSEu4sSihs6zZgiTHCH5aYFOHlHfoWQrF7I8HDHjzLI1GkLrF5aUEzGDHzFS45Fir0DmJ7rXH7yGFbEmFzguHgi7rzqNinH0C2H74GhvFlEfEVGiTfHqL1Ls5aRHGMwQkLqBBsQrrtEbECSVqBAyBf6gAywyEsTwmNiUigZrGRHBHRzomVBYmki4luT4nXrex3q0pnznENpoigg+oUkuE6C3HP6pDpYokXEsGOHvHEm7GiTpZ1HjzjZ8m6akn5af7gjincC6bUlEGgZtIzYHE-pFGxBTH5YDFQGwksRSarHzY2aok7SQHKkHQ4rTbsZZamkrzRxzGYYqnJCAavS4jSldaykD6xyTRWm+FLFrzIYalEYimYY+mCmAz6DOkTC0FBlTJcijLMkslGGv7bGgminghPYSmMxfaqr8kCmqHpERE3Hxld7aK6LLr6LMneqlEcGZmHLgiILVmoi5lGlOp-HJEknFF6lXEGmumCAsIKHDa1nTEllZDOkLERS16ez17yCN79wt5Dwjw6CEFulMCkAToUx9T-6bFL5yS+wyK7nB7BqgAoowHshbn-CnotCkCmT6B9QWTL5HktADQmBaDCABAmDECMnCCNAEHaH2a3DhJcpNGJJLTcB46K4UFujynipcxgzgiV5FDgXmpQXjGG6BkVkIVKz0p7m+n1mf4yDmHpISpIWGkLROpoVkAWoEVwVskYn4LcA4nWk5oqrjH4L0WsnLRMUkWgBUlsXjwEJE4GrurcXAiMUUn8VcnlnXAgXski5+pvA6ovFRxykHbgh87EDIUw4RpXyDnLHUxm76CnwSXAkNlginx7HGWnztnHS2VhoqX7JmWGH6lmXckPaOBfAkJ0CsKiWW69Rc7qUCR3T6ZCWMy0ZyBgJe4hUWkjA8bYXmDvo+UBwsAErxJcB-p36wUuAazRUJJYVFRJbsg-6Fa4gBXrKMi3brmCQKUFVMnW66iUQCZmnml5VAFNW-qMKUXmANWtG6j4KZXPA5XtUQEjANW9XgyZVm4WrDWRCjVFn3hZCTVyUuDaq1bOo5iuocZdUtW-osDrAByxXoFogWxiBwH-xnZDSXkcB+WXVrhLBnkazjYNVXWALdWdBcagCHXGBbWbrNB3UXWqDvWpLhAAA8wI51D1X1V2W6KaEIAAKnJHVXQL4EOWIEPlltSFiFWbUM0OCKAAANSnlZIz5+VCgTFdXhAk26WE0k354myz6U2mWw1w3GT3mQrgjI34DdzED2QY1Y3dI414rUD42iTE2k11zk1iAs3EFDS00WSS2M0y0s2PXZEmZyQSQDUmXEGvbkh9owKeJyTYgnUrA4oBZCCg3NV266gJZ8T7l+lgTU1053JG3ojYiM0xApX4C+X+UurE5XKM507NDEEqRAhZwu2aqzCQHq2M2h2BYxliHy1QIRjq3Q5GatgipLzh2lXHUelbU7WQKKZFAI163pp0DfzlCgD4EZ0CoraGQ0aZWMhRWZVBXLy5ZFCjSW0yL9Xy1DV3xUIU79U1qTV114TkgMQ4bu0m3t2eWyEW461+rl1rj62OpeU5jG1EBz0l0W2J3y37X21KaO3Rkp3qZu2b0e0C51w+1+2F2B37LB3oSh1NW52R3XVw1yz9ggS7SPUtWf2LI91J0PjU3Wi2jp2d3ai8bZ0wK51wH53AaVXF2rYF6c3Tjl1WSV3BYiA113wFr8ElpHgERJp9hN14NAit0xXhV9jd2J191dUD0JJD0Ooj1URzWD3j3+SZ1jVLxb2m3hUzmyB17dwLl9zN6Dxt4YC1UUpsrUr3qgWezcp0COmO1EUHZprgiUpyOMn2XmBaMcoBxUq6Jhn6IMqRnFmDARger0znj6PyOSrCNAif7OjylzC6WxBzATjMM0KaUcjuMxAcheMarykIT+OThwRBMuOaW0JhO0KRPTDymSyZC6VJNsD+jeOFDynBS6J8y6XZPlzpPBOaUpr+Mpp9gZOxDyk3BwHswsCGDIXVOqC1NdwrAVPZKaVE1hP1xPmgC+DQHGwook3o2gBtOSVzjgjuRdMxCPncB9OtoopeTDOjPylebTAzO9P9PnmgCQi9MxDLOaXABTMGA9NzMFxbNgBLNFPjMACkRz6zpzAzoA1zuzIzVzYI4IMBXT9zmzF5IkfTbzEIAAhMJF8ycz86AMC0CP81E+M+DXc2C-M6AJDTENCwk5peDQCFM984ixiyi-s+M4bPC7M+C8bHiwC+CIbJi9wEUNi2cyipS2SzC+84C0c1s4UGczEIC7ELuc6E6LY7IwYw457ANaliGA5nMNwHY4yUK8mPtPy+yvYwQvgCwB1B+aKysA5siK2iEwK-I7pfqR6qM6hbq9K53E6MVVSFK6XBYcLU4wdvKXGrpXGka-TvKZAHQGqA4sWtS+65629C6xTlU1QE07AJAP440wwKGwGw6kGzUwAKJhMRtxvRvWrykABy5AabRzGbabADOkfLsOVrAcNrAhH1gIYrGg+Crau0MgUCRb0ezA3SBbJV9bJbs15bGrlbwoZzBrm4PAJr1rxUlh+0QFha+KrKCrprXKaaxKtCElLK1QYoH4Psvgs+DAHUfs6wygbKmg19249bRjHA6ypj6q6ms7oICIRQixbkwEWI99YlxGElG1uqAdD7YIRq5sIg+g9bBCB9UtdcrbQ7seKdKFsQn7gwP7Tqyrqrpgv6XtgHSWlhs1KbsQ8DhCBdSDBlZaHAAgaHYgXwh1vxr7lujIt778mHYI5rs5srIjvcTeA8reGAUjo7KlFApgpMBYHwVUNwpAoybh1AT4rxg+w+047lzCAnfwi2ic41ljGRYh-HT4cotNDA9NTNFNMgFMYn7hkn-CgyWnEn2Eg5M8NwIGpqn5n6bKflbVS15AygygQ+GQU8RgRKdnmzXcJN+gtnygud4IhNpQvn12okStJNXnKHBovnSpzMs+vmOKDgcSxgFns+vKJKyXS78XhYEQ-4p1anYgkt4IEIktxnvixgZnUoDmxKaXzCxgyXkGtN1g4Ig5cXVXAc3sCgnnLC5l2+WQxKxy-ngM2k0wHin+PXoAYB0koqTtwD3XHX3hMnU37Xf+4QkLokxQ8I0n4hgwI3l54Iq3ikpQrHtnIEZMXHOUPHoyPXt5E3LZyCpCI3Y3E4KBrGnZ7CiRt3M3m6-nBXJNTXS0LXZAbXu0tqC3i2ytE4hNqn3R9CZBIlL3hRPXNN-74XEt33dA6XTA-3G383QP8PSnjs8IA3pScO6XeUoIulnaRPzX6PpAPExyHiGsF3AYFPv3EIoT3An+gPHXYD03i33AP3f1rXtPMcMtwP0n4IAA5Kpy2rTRL2rDlyzT1416j5T2TKQBTCr3M3FRudGQkiJ5j+r2F32PKUIMIHTcEHTXZFpBZOaGmHTVuRwPCLp9MIGEr8z7tPr1z-oO70z-z-94L3z2fG7wWKr6nWIV7-7xx+TPPSxBu3mAFjuzJmGv4h4IketJ15WXoj1PdL12M+89d9IrpTD4uoUVn6BzEA5jH1u-H-IUn20m4DV6n470ZDHGQVn9J-Kat0qU1T0aAqgVn4L-dGtaAOrx-Ein1Kysn24Kn9FiKggqLTd99H31BjRk6mHUCCGJD70agYX2Lg3wZvyxP8YErLaoyA5sPwiqP+P7X7+kD33wZpJiv6-dt6E9JxrLtDX4kSTLalAvqe-24J-3ylJ0GS-tH+qkGJi-3kBX9-+JKWXsALOw+cK+cfagJoDNwE8v6+VB-mdlL51VsQCA7dkgIT4CZL+iRevn30F7oDhW5dX-of3ZgACKMxDBDDP3GgxUBo4mMau310ob8e+Z8W-pPQbrH0BIA-Sete3MBvQSAU-TXjHA1it9GetMQgP3zQbrRoUNkTNOtVh5JFc0JAXRi4GcpzYs+QnQAnBFT7SdsYcg2XgjXuhKDYUWaLsnpVUr1Mo+bka3ppCqhR4WAAcAYBUEGB6CJBog7gSwJ85OCtIg5DwezD-7OCcoBZbwdl12g6CtSPA7FDmnGxqI2IflVmtpw4AtUNwhhDWApwgi20Nwg5ZIWu1yGPAihflCSrtDKF-5Ch1QFIawj9RVCJKEYRoTUNnR+UGAi7N6iUKyqTVDCVYTwN0O4CrUIqLOPqATjSEGcsq1lERoPWyFLgkhtQ2fBMNHD5C+QQw4aoP1FBuFxB2XCyp-gsErdAKORRDnvAE54IDhDVXnlgwlRuEGA6gEQBwFIBXQcUuQQgNgn8EoMYgiGbYYv0+EUhYcVQz7IsPaGdC26FwjYYZG9RxpIcwIv-K7ThxV0uYtw+4cIEeGKCZhTDEOjDjeEwi2h9Qv+I0M4bwZhU7YAwdOF+GQjo4GsV4Zp0gJ99uANI+bqQMgZ8DsMymAaJAyEG5VsR7wuQYPybi2xJUvML9F2x5TUgJKMgYUTqhWSmwLOgozVmKLjIjCFoUoi2DKNthyjWYafU+jbC1HSdKsgyIuGQBLgBwXYe7A0FnF1E8QUKDcbuKqMYACjWYmou2MnStHTlaqz7JWEKGjyggXK4nFYT4kOS9C3sAI2EUCLxEdDGAXQ-0XkOGHcjD8n4KUI0L25vlxhgw1iFQHWGD1byHEekgwGqZcQqhJlRodwEDFZimGg-XMbenzFUAuIHEUsZmIxEZdsuDVHzjIDrC1BCaovdsXsE7FmD2gm8esRmJeLSdWxMQWXlsOYTfsqA4QaTp6I6EgJKQvo4jEOLLFNjBeFKJcBxFALgFNxhgwMdnyrFJAaxnEEGhGG3FYCDQEYA8ZeJghUA8xBYkGm-xnG3jNUu0G8V7XQhj1Ze4IHsRwBN78jZ8OHAIlaMfISUNYPTW0YDAcHmA1AJgLwOzEYCBDbuYQ1ENwGH5Djh+wYpXLDkfHskA0ZUI8YwEfGe8g+uIIcchPoC056c24LCRCO5F4So0GUVSH+L7GM8DRg3akEBMkAgTZRjEnXAqhgkqg-qtQ-qNOLUq7DeSUXVIc+MuyD90o6op0d0DZDdBI4OEkqkDnSg4gVJfgQSvGI7Afhj82scIBViliBdDAmwj8GPyJDAJxJV0c8N0EZCyTscABbYd0BMmHDAu3QemDh1ACI0AAEnGwYAABBcAOADjYAAlRGpAAADyabZAECBqqjsZAkgNQKEI0gtZxJ9Jcsc2O5G8ARJVkrKbemz4KTRJfUT-qhOGxETBeCkzoA8kqlGhBytUzIOlLTDDYJKAUoKaFPClRTYp8UpqQODKkVSMpVU+8cVMMIKTHRbXMqQwBsmYlqpVvBqXQHchTSjh7FWoa1PCEQ4iJOUiSlNKFFUAHM1CQMUPiNg9Y4JMyRCZtJ6gnTzIk4SgNlPXGl8Upp466aNIem3pdpUuXyXb2LbYNvYjIAAAwnBR2NQeyD6gyDuC5+GiagIMFhiQzxEDgAGUCF+mIyI0pASWniD8ijRUZuQJGWQEHLjYwZDGdIWfHTGoy8+sUWGeBKXA7ddKGsCmdDKplfllqywnTkJIvBOYSZkw1INUGyCQz7JsORmVWXn6MBYZ1VfmhDI4Dp9WyVUWGSlANo5obYAceyJ0FGRRCVg3qH4f4MMihIFKxM7oeiOFkZ85ZvoQyHTyXDSDnqS4ZWQwFVlsBRksg7rHXFtn2zRkJgwAaGGMgciuRY1V2WrP5nNhB+FQTmKECrQyIDh6Y7CevUZj+yHZvUI+iSIm4-DWBWdAwC0k3jpjHQJdTWU6WvKd15M9AnOcWABHhi6hkYyVGCN2kFyHavpaESwDzZO9u4X1YgJ+PDCBAVZAcosQ0M9QGhzg-4YkX8P0lkiE5iPM8nHMdl0i5QE+K8sQE7nxy7ojfCcM0HbGEROR3DJahPNT6D95x3oneO5j+BsyMhttXab9HexhigQRY0EWAijn0TYgr4LlgmKMm4i6hqcsag4EponjCxsI4sbCKgSfiigq9dcUcH-bEjvhU4tcL+GtR4BIQsC6jKGLxFly12181AkArjG1y3Qj8gyUfi9AvzZ8ADZ3p-JImDCAFRQbuQSL-mvjQwk1KrKmNqxHyphnQaubwKLmvgQ5tWYRDIiAW3yOGC1GBXAtzn5ZfxHYgCSwqFR-CcMYw+hemLQV3yJ6CQ8eB-I05fyQahABcHeGjljVWx23ViSb27EiLUBiyDOVkDUWStSQo4zKhONSDbC1Fs4xnrvJAT7ySEh80xTwA0XDUrFJM79mLDnFSKuYe832s4seCEA7wri3oaAH4WQhPFGsWxaN13GpAYl5ixnkotxAkTzxDsa1OeNJBULYgKSlRZj1sU5Ltwb-bJaQoNDfjBkwi3saIoUV0FUgv0z9KsTT5qNQSqxPYpDK0F6VPk+U0hL9IqH9k+lU1OIAjILJ9L9B0ZdQmIUGXZ8jebAVWb4FYLXk1uenfshGGmWD8WUviBpb9PQlkTACH0pILsvJiVzZhIYkqp8lXxSz4onMu+NzIdC8yZEfS-7LDjyVMSmMlOOgEQtrEg0MJY0w5aQreDdKki08I8lcoN7+g6Jg9bGdHFeUCTA0bYgxfqKlhmDp0EfVXoHLSqcULlQgMFZeL9rASHRoE2FQRK0K+TOpDACKZZAAAycbBKTXSlggycUL0tKb9Iug7T1xhhfKYY0KnVTpOpUqySTFZVFSkgNUgcHVKuUXQhlzUxsEKo6mBSKV1K2lQNJAhDSlYQq6qYYX2ngdzR-oSaaBJmlzThVyjIpYUC0qQyVpVo+EKXz1Wyi6Z7SjgBatNgO8NleKXEOqr+V0BT5Eg-aZKMOmVtqEv01tD1k2VXKMVkrD1btOempSmm7qg5Z6vXEcySErUaWer1InHL2VfdN0ZqqtEHSRRntc2s3TOaGQtVNWS2MnEGDqY1QR-JaRdF+VxrI16mW0SyiFV1rHpY9K1JmtNgcyWMaKtXmRJymKSeIZ82HK0C1ZAgtJvgtNcHwsg9r1ehDJak-NwWjrpUKYpNcY17VTqegna22ADSH7IgL0dgzdVAm3VajNhDyioH1AdB2T9BwvZybN0nGidIC24xNaIkCBvScoi7MqZ5yWlXREMZUq9ZROUaJyHJfgRkAaqzC2TANnDc8PZ3vIa5ANg6jtnXBtUajugi0kafQEdW2x51qFfgDiHQ1tTMNq0lCvTyWncBbRsGwILHgQ1TTe5g8oQUlXhSvqA4qMz9YVLGVnLLWHqxkICvXDAqnl5IP9VZKvXVTgNsORyUCHA24hbJ1UzujBsSBUaQIqMqaUhqdgoalJ2wUSL9Kw2swcNhQUqPhq03mriNhkBmZDPI2bNKNGuZTW6Ohz0ajMtSliCENRliJAN36jDco30ENKoNY825IIGEBqrIZ7mwjco1l4hC3NUG4IQFvfUyIfNxED4MEHcFLSK5X6yLepKpA-xq1HmoHOSu6mRTopcU8AH5Fy1hT8tfUulaRo80WbW0mWmLfyjGrggMQDXZUeYGc1BaON5IBLW+tY1iz2NAs55SVVq2srGQ5KylTSqK3khRtiqirUuB2UGBNmQ2yGfVqWqNavAzWxzTSXoAdR8AfMs6LBwHW0b9B5VcNJ9GTAXpTtmGCxbcqmmy9OoO2x5TrhAh7atSz2rjKNlnVkT8EbWE7WtFe1UIg8mqE9TT3pgGbmyIgOmh9vJi6U7t1Qc1jikJhTxbUB2rNd6pzW+q81Oq8pYWsNgCIgSXXXqKitTUI7PyG6r-iaoND4qeJhK2UWPVsAA6SgXEvygSsHWMM+QAiQCDdiliQQGgQOpnKDot4Q7CdZE3SsTuogejyp9nc4R8Oy5C4DheHAjj8Ao4czcBVfP1EjqbGDreI3dNHcKKOnULsdikfqCYH4Bnx1IjbGgFPEZoc8SUx6zKkUtMpDD+mn4hGjmGok0SYgmDKwR1QEBuEC09NdnQDvBAq78BKAz2SEkZ34cqdLOmhV7PpWZBK8vO2aKDuD3IC7KM6oXVDu4Ap6CBBQnAOeBuBj98mfMRkAAE4TgMRdiOXBZ3Wds048IvZ6RzU950GhyTzX8MQw6i35y2VhSKhcCXlAZicwoPXv0Bi8xeFkNAOPr0310i5Q82IEPstG9yVg9ewdR0O9jOiW4BuGuh5GxJEjfZMQJfftKb3Oc6qheyvXzA5mdB5liy-nB5kS3I6u1hhIHUnrw3Nk5lfMK-TpXT2KItAvasnq-oWWblc9o7KgRuuqClRVwZAb+CQn9bDqSqrQRkGf0RTMAx+VA6ccz1AP8A8uRwZ1YJpFT+xSAkBr1hC1UgkI7qMJEukPomaeR+2B-IfmRPdCo8MDqKSZpexDBD7w+qa1oMcEYgrYGIr4BDa4PcEBapQnBxOW1ulmualpnnaLQhoLIiHO6r4PAwQbehEGgQCpXsYcWLl77T9FMSg55C8iAb-Nngpg3od8jcHp9DEezdMAoN6G9DtB8mBpgVRdwbDJhzhvvtAnFqc1eu6CNopx1ZJ2Dn2gBWbssJnCz4rQHKeRtd3dxNmy8cFZDvRVhGI9zOqaY5ilhRE7sG2vqt9qECGB7II+dAxJMSxUg4DQIBAxfxQPE98jmB7A4UYEANUgccRtXkqW4miJqdGo6CS5JPpxw6j2fPArzUfGz5hx5AKSP+GaD+HyYb4E4RbrwQJGa2mVb6g7qiOtoYjwclINtr5lox9tGuw7RIJejAYNjN01Y91CepNyOJTfI0T7H6ClwzR1CBo19qWioxDjKISuI8dg627rtbo7nTS02YfR7t-qB44YAu0XR9jb2+nduF5187n9ZvT-euGJg-7Sxqx+7ea2AOpqxegQ-QO7oAA6WAbzaWqVhR4ZAwQNroDFmbEs5Q0EUfa4QgO+0dKToZE59tROoT0TNErEzidDmaJJUhJ6cYYN4CrgoEPQDWDydAAAAvPtqACxNFBwO7Jgk9TwWM9ARTZJnSBSfBCKHqThUKCA1CyPvBcj04VE7ialOcmTmbPTSkMefJ01lAdNE3pMDF5Og8AdJ8Y7qbZP4mDTJJnPhCBNOiQWAZpi0w7yVO+QgAA')">function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave_delayed(
              evaluate_query(first_disjunct(disjuncts), frame_stream),
	      () => disjoin(rest_disjuncts(disjuncts),
	                    frame_stream));
}
put("or", "evaluate_query", disjoin);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p13' class='permalink'></a><p>
      The predicates and selectors for the syntax of conjuncts and disjuncts
      are given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    
      <div class='permalink'>
        <a name='h5' class='permalink'></a><h2>
    
      Filters
    </h2></div>

    <div class='permalink'>
<a name='p14' class='permalink'></a><p>
      
      
	<span style="color:green">
	  <kbd>Not</kbd> is
	</span>
	<span style="color:blue">
	  Queries formed with <kbd>not</kbd> are
	</span>
      
      handled by the method outlined in
      section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  We attempt to extend
      each frame in the input stream to satisfy the query being negated, and we
      include a given frame in the output stream only if it cannot be extended.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (negate operands frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (stream-null? (qeval (negated-query operands)
                              (singleton-stream frame)))
         (singleton-stream frame)
         the-empty-stream))
   frame-stream))

(put 'not 'qeval negate)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtyPkCcgFAYDQSBEBgKjYchfC7Nker62oGEMUkixiQL3VSdJMiMPE-SKUohv64RRuJJ4Q2aBChn6QZDAWtCJyeQEAD5qUoFq2o64gupWrtLv6NrMMOwydO3e61rG-lzka8xqi0UgOHIHNiG6gjhv2waIdW9beMm-i3VFWawIWkNlphkaxs2lZtqXOZ5usI6+xOgFzoBshgdB8HetW-RPvWp5ife2JSfO5qnrIg7JidCK-pcDnWoYGResoG5sWRbgwgmi8EjdEWqC0RhBYUIxHqF8X9El6kfoay4WIVygldG9XVZV+HZYE5GMjA03FpKUAUa2906EBqmwc+-RDIJ83memNnQEN42VbVq6ubt3W9ZRJrqjEDhKBykOAA8Lamnak+4AOUd5nA8H5wxA-kJQoDgRBkHQPE0DxC5o-MYgUKoYh9FyBRCHoW7KG4W6c3hqbRRBQHOmbxQ25qV37aW4FqEHxsUKblvR47ifVmmtJWvnkf2-H6TSnywhRt8BQWHwWeqKMQ-j8bfAZDXhQN9brfKCJlo6B76TmlFDqQW5VFh4fsen470EIQQgbBfD6HrvmRuWt9ZVWIEnQggQ3DOD-ovceXdX5EzekUWcIFr4MDnoYfQ5BSBiAYPAxBxBkFGlQY-Z+3dJhYCgh-VIWUE6kAYC3Fg1Rsp0FoQA5esRSiQPXNAthwROGKG4XQXhTB8DtRAd-Xh-Cl4YLfv6FhkiRDT2cEPBedCgEiK0WxVEejN4ALUYIsMq9epH2EOQchCCkGGBQfogRQDEpg35jOVqLB7EMEXBQO+gMD5HxPkQtxqjsF9lsX4hxx9hDgMiegl+6iDSaOMO0W6yh75oMAf6YRa5RptALI4JumTSk5JNo3O+rsInmNUakqxoBNHsA8F4FR28CktCKW05QHTkmdyae-VegVqlaFqWCQZzTCk-DGR8GpHdOlDIYSMz+yCxB0EmcsmZPSfjmmoJs7ZgzLFrNSBUZQvVKr0B2YYopFyrnKJOcMjRLRSCmWWRZaytkHIC18K7cgScPJeRER0LQhU+awPMF-cB2sSFiGln+V8opEHUAUDo6m3jkS-gVFNGFATSBooxV4qFfC4WkLCDRfChF3TCjfKkfR5RhakpgXQHFDRzxIIyGVUF0D+YMASbChwWCWahngUrNa3c4L0G2dElm-LAnr0BkQ7FftRUrHhYYNV6qGj8qlfILZSzsXPkKH3VIYy56jBpGwfJfZSgWqolopWYIuU2uabEZonYNTLGpSeBUJlgisq+TZOyjlA6kvZL4EgwLgGgN8IVWI5xIW1zRKCBg+DCEQIQVqppMtLZuk1vCs6ezRFaGIaQyxXds05yjsmEtxidH0DMf-DuliZZmqYKQfgqhwG8rLW8ExujGyULYj-XJdDLHutmaWje2jTGNkpCUpZ0zTmhmMg3ft9BB1NsbJ0QGMiaCgx2ZY8KNc61GIqdk8pYtKA5oYTLZFqRiCt0oLiS9ZS1YKFveyvicsVQfjVLUPyvr-iPoYL1D44zn1LI+F+iYebf0CT7U3KopBIMLImTBm9YROAMOA8eIiIZzyofQzeghVFGSGWQ1rOCpHFmu0-d+3DmC-KCjpaKB164UO0ZArBkCc8f3+imiR3jZG56scTQRhDLpEYuAvUuj9cqkGifo7exjOG8MhgYkms9LFcHppvg4A5mypQyLvoigKsnBIaH0GZ+K50oRGY2eqOE3A7OUrOLppq3JGD4H4ODS5JDeH1JbePB97HUjvpyTsi2hp3ilmw4yKLYMMPQbqTsiTCM-2r2fZoN9Cnot8aWNBUoTtoJrBAbdfaPn03+YeUF1EKqeNQe2UVzccqgI1b8yBer1z3hex1Q0TxxSskfuUy1juRC2s83wwRP1KwO29aeQ0rpoZd6gnpiYR5sVDAXxPjFwyzQUbAc87WliRi+kDJWyszBMtzyCsZJdgV+BEkZfJOePcBcgSGC63VrbDXnBEMFYeGI54nMuJM6ERk+n8Hg8OV+T7IP81yY3U3QVVaJXkNftKw1DHPvasG9uOHkOc0dcJ4UBhNb+b1vmcwTDDHnn3uIlNYbnGCwDe3NRsZFDnGuOu-QzBVOI1GOM7jqZ1223EXPHPRk1HReTPI1xxxlDqF8JXU0vyovQmX0V+z+XHdtf7fV3PE9lnsvidO9ToxS3f6M9u8RUU-Kbd89C0-XCoByTTrBSh0lAXttVQTlohZrs-cA5uSu6JqyV5a922E0+XHNuBb64brI6uycrGo87nKc9le8-D-zgn5Omk1rzqSguchFAQBgPAJAqAq5oGJF5-6qQB4uVT-z9tVnrZHzIDsmIAAffvilRTNVjn30Ag-h+pGPiffoauO+T5fDNG24+B9D6X2KADXo3u-Qja3ig8f2fTMiIUM3AlBmnrO25UUzAxASDWrgxjOw+j3DEKnLvqQdp8fCAAMh-70PaRjcIYSIESgF-W-S-anZGdePvZnD-V-e-cDDbZ5cEOzCFJvP5OPAzW+cdARTvbLAmCMaZIXFNVefXBnDvOA7LG-cgO-EaR-FA8grSHOanJglPWAs-N0QgusXaEYIg-nGbTzVg5zBXHPHnKhFxfPV3d-AgwAiMfg6QyOKA85f7PrIA-Aq2VIW-RAx-PjCyEsIQHrVQ3heECfdff0Ggugh-DbPQ0SPMQlB0UPPrUwyfXfUgrPZWPbW2L9XuKzbg20fw7wp+QQtwutDw3XMGcQ1XdQv8KaQI-QTCG9EIjAmxXxfxKIyQvhb-CaDtbQ+gmwm9CyWJdIpxCQ5wdA6nYohxRVYJMgFPKbJInIqzTWWPHXfBOzbgeI7-XWSotI+JF7cBbI2IvwuQngxInwpQiNDjWTCbBjIY5YXI2gnQgor9CyWnVTCoiNbnUo6I+Y2IOI0Yh8JIkgutUUAdRtGRIImQzQhA-IucWw8Ec4+dXPMo+gFw8wg0Sw5Y+4wo0SJ4odWY5g09anf4ndAlWoagMdGIhYqzfTQIGQJ-UABaYEiNUEy4oPBTMEPYrLASOEyoRE0kFE0gtE-ZG1MgA9agI9bE5HKeSDeExEnQE4liEfAra9Hwpo6grQpYu4rE348EZLTY0g4bZLdTXw7LR-fk1k8EKWbDFgiNZLQEho9kiIWIGE2Qvgng7ookutETQE0UjkgSH2WU7UlicbVLSZJU79A0t0cY79E06-J9F9fLUbQrWU605IZfOaNre05vcDdYFTenXkuDMUm4lGBIzU2Upkh0gVLkDpakmkr4nkxE8ES7QUutJ7QVaE01EYjUo4iYyAqY1IL+SE5RakxYqwpAn41Y0SYsn+couU0gvVHYzIrMnErgw4q4hsuteFF41XS0kM9s3MrIW05I6QcNFNcvIuKvUuWvCuSwFIm-LtMA8BFODQpGafOSYGPhVcxSUoIFEA9kLtf4RSYyd5QNDOUSGfLcloBBEwLQYQAIEwYgSk2oRodAq-a4W4ElFNfQGoyQMgHNdHXNKg3EjbR4zeJlfmaUuVP85VbgICzTUI5khlCCrqLFa49c246wucGQfQ1CtaKCrsg2X3WCgCrWDC1NOk-E3CpEoityflTMmQCi2kkCekmiwkoQiNPVbHA1bZJitcyi1i6i7gRkgsoUr8hgNnWdZ1ZiiUqS6UlQegGSn0j0ySmYy1ATAS1ePI7CsEE3USeSui8wKSp1JZTSkCwcwYCMATKMuuRwL4FxOgMhfVGVJZJnTglwCMRCj8lwXUuQGA9y7M9UwYbyq3ey-AYwAVWFIJLgYC0-IKgSHafyu+U3c4c8MAyIp0rHHMHHSZRkY7FI4bZK8pLwnNQhZir-UqyiLjDzJC+imK+orWGK54eK-YnMwYYqoy3yhqzNTqk-VUhKm0ngzqsS89JOTHFysXc+OPMqzoQC9YSI+3Dy4EW6MQMA6ay+aWA8jgJy9atcYrbpHaIqmKja8JaqnDUAFgBa7K91ZoHata1QU63UcIAAHhWt2sev2vdRiGETPOnHBAABU5JrM6BfBBBSFeALTqQsRQFqBXzRJQAABqD3dVUfJyoUQY0q8IZGhS8EJGlG0VNGsQDG-QL676lpN5D5QG4GmQYgeycGsQSGybaGxROG4QZoPG5G9PGIImkm1o8JbG0SCyfG7mi6QldGmQcBMm0avTOSCSFPCIp6yXckMKnMcDOSbEQK6YanH7IQJ62a566TIoDtMM-m569PYRV+dWogDndVbJBy2ObK3KtywXdPZoM2lSIEH2LG0W2YQAr60W92nzcMh8LG60W0aWrTEMV8buT29kF-XLV9J23ipeI2inP6pW0SayY+coR2deBNI8ObQjPsYjGKxkPyk6zTPsKaXWslBqs2lVZqwvbcYqiIxu9eE1IobTZa7ua2zWljS3CNGPLwxWs26q5WpEYXK29EfunuI2nW4Ohu862LRDTC02n29CS2tWme22nSe2iKx2ya7ZSnOVd2rwuO72ma8myeUiAmfa6q6+leWukOsCMO+8LISO2MAmhoGO1+OOjK8hLKo+1O4iDPDOserOugHOkQPOu+GNJggu+iKTUB4sYqQudecu5rYqiBAe6uqzZ+1uhupqju5uicVu3q5qpHeMckBiKaXune7ysc-OQuSvEuGvcuevbAHy1eVFdFQ9b85MVlAc1SnSyssEbWcEXh4lNMliKR-hhgNFUBNLOnFBbFd0gAocoRmtc8ORl85lCc6HDbZ0CUuYBS2IOYCcEVBoCUjkMxmIDkSxtVCUhCOxycOCRx4xsC3BVx3BDx6YCU62TIBSwJtgf0KxnBMC4KUBPqBSqJ2mMJpxsCgNUgOx5JvscJwoCUm4MA9qFgQwaU7J1QXJguFYDJ2ICUxG1x1mC83wYA86IFZGsG0AMpmICU9yKpmIfQGpup0AIFLyJplpliiEVzf2bp4tIFSEUAAZxJuccEYADpgwMZsmXp0AMAaZzx2ZgAUgWa6e4FqfGdAE2amZiEGYlJAKqd2amZ6f3JElqZmbBHBAAEJhILmln6nQBnmgQ7mNmHmXqdm3mVm3qYhvn-GwKXqAQOnLn9nlmgVwXgXTmwLTp-m9nrnQBzp4X7mIRToIXuAigoXUXsWMWfmIRHmFmVnChlmYhHnYgU5nQnQdHCU+G9H+UG7AQQxNY5huBdHMUy96W0HuWBHYp8AWAAArO8r7dlmzZEYtZxxl6RzojsrRwZooAV-R5MDzIqeLHgOV+RgwupQxucCUr1BSr1ZV8nCUyAOgNUaeeNXFy16119M1wnLJqgIp2ASAOxwphgd1p1wbF1nJgAUVca9YDd9Z1QlIADlyAI2Fmo2I3H6dI+WtXVW9XeNSq2WVhNZhRlmCYmKuWdW9HU2PMGWiVdXipDC26M3pgs3i14imLn4U3y26knRuH8VVWsUHBuB4VcFmL8VqhN8KggZfBHaRWQZ1hlBCVNBd6+xVXFGOBJllFVU5Vu3QQEQihB7SDgIsRk7XKGNmLxUqsd2prokboRBfyC2eWU16juBRbtXS3C2m202r7SHYhT3Bh23fdhWxXTBScdVG34sK3yqX37GE6gGeLd2n5L94546wY45hWfhgHXYkt+J95EOwQW3S8DGK9i5q8y469MAUi3hLpyBTAGAskPgqobhSAOl7DqAnwtLu8WBe94jaOnxGEAwNGrKxieDWO-geZ8bwQGBOaxbY4SaWOSE6O+P2PphmhxOHCpOVLFKFAbhilFV7zQ5Y4LNBqXASPlBIaMhoEjAu3lBlAemC5kbiETO47wQ8bSgbOKbcb8bdOw3-QbOZTxaEUuqyg6BAljANOnKu2KVAuyEHBfPCwIh-xlqiaBOIR8aW4VPjA1OpRC1SFN8wvgv4McbrBwRFPQuSFIrAZVZ4VmKQny0390ZRIUZtIZObENtivQA-9pJ6U0gV8IxivwhB9OOX6yu5RPnRJih4QKveDBh6uDzwQBvdzFLXYKBSPyPYoqOOliuTz2wFFYa6ybl6vGuJxoC75WVkxeyWz2up1RJYvka8u0MwZCvhuyuiEjuRaJw8bhOzbsC7M9vYoMiUF2v7u+xHv8bzuCuyBVZ4jNUev+PEa3p4Rqv0lvOwu8pQQFL4VuB-vLvAfpOjIeGlwluOPkeIQXHuBH8CZivw6sh2ukefP8uUfSAeJnYR9Lox8sfpg7OAByYTotHGln52XmyWnr3L8ni7sjgsUgcBLJIXkrz0rIO+HvacAmEXkF81sCoQYQXG4IXGuyLSCyc0NMXGrtDgeENHyeHHmXwXu59+-QWX5+ZHpgVH52Q3wA834ns343i3vnyK83mWtyUdvMH7Sd-jR1RBDwCQrNQgMX1bpRX+ChQRdbWZ2skw7gJslXFsiP4D6zbET38dn3iIglAPtwDLoPnmGnmaAKhBSPoZ8bhS579oov4PwRYyBBd38wWXg+AFJOLPnJNwPP8LFbmP8P4vle4jX3D2oEEMCvm+V7+PvPPhCPqhqbqkf3tv4wNaTVRkTWRv3bZv1viQ3PqfiTYTAf8+sblxirnaAmOfiQkaTVZ+eI0-twc-ilfP3Gcc-bwf1Sbxo-+Qef2-hFZ2Fl-f1SNP736gJoAiJQ9J4SVPfnHmT6ax-+E7QAb7yVzX8c0IPKfjXzcbTgf+EA7VtnwX7tQ7+s2GlGBle5T8EMU0CUgNylgj1K+u3bfjQ2Qa4orMFCE7MmjrSvoSAHfCyqpR2gR8KuBMLgQ-2SZB9g0PyMNB93MAsDiAMjNyER0mxsDlqKKJcLwMZ6m8FB6PfgRQkEGho5MzZSQUpUmzvlhCGkWKIHiY7tRhAFQEKsXy0piCO+Y3TXnVEU4DBF+N-TSFVEzIR8tKBMKQelmoFMCWIw2aRGxCcqk0JOo4XMFRAqpLheOHAaqhuEU7+DHakQtHNUACFv53BgBOIU5S87pCyElqLIcxQjC5DYhSQx2v22wYJC4+zVLSlWE8BlD0Gd8LzgezPY1D9KfVdgagO4gSUshQQ+TlENCFcZn4I1DdqcVSD2EZB2nbStyV0oCD+uegqYgB1dh0cy0ag2obFQcDQM1o9hBgOoBEAcBSAFsEEkQF7QWCUGMQMDCMKIHHCKQaDLIY9iKFOUFGjAbBksIGF4NOSA7T8FKFyEW1vOaw8jBwi2HCAdhUwzqm7UUqEBwEWQxWrkOn54QpMYGTgb3zTptVssO0XIGCOu5T9uAqI8BF5V77QjGItAl4Uhjr5R1qGYwrEXn3r6aDMcQoIPKCDMrBCIIrEKgOUI7p3YrhtwsQDcO0R3CShJ1Goc8KRE3EvU+gT4WthvISouhknHofYiGTAi10k4I2OSQYDZMuIEInIRyOfgyiWRdQykQqP3TKiqAXEDiNwC1HLDmKxVazjIDrC1A8aFXcEFaL2A2jnYJSIeMaKZFPxv6k8C0TEAL6-DfyVAcIBVwaFrQaRlIOkQxjdGmi5RNXOQXBH9Eei-8GPOMTKJL4cR9RKox6hGA4gudQwEYFMcnwNBpilRGY67tmILE6oCY+Y29uhE6ooD7R1opXrqLUAmAvA7URgLYN-gdjnA3ARvm6Mb4tD3saDDMWpWtRlQixSQA0ZxEeq9jmRTINMN2M9FF4DQ-Y5qn5BZyGiimrqDKKpAdEcAleFXMrDV0cpxxJAicU2O0KnEjjuUtlFUJFSSHwJ4xIfImqWIDE3jxAA4EON0DZDdBxoUuNBl9nfHpg-A34vwBxTGHvgKggGfaOEFKw2wKahgXUfeJb5Ehr4j4tkVq26CMgT+AYtcfARGHdAYJ0wimt0Cg6SBQAANAABIBsGAAAQXADgAA2AAJQBqQAAA8hG2QBAgCq3DWmpeK7E0JxxdAbUeF2Wq8A7xH4JOPGP3Ql90o9wioEnHP5ODGsUk8kigNkmdBd0SkwHIp3UmZB2oWkmhMxUonUS6JDE5iWxI4k6SBwSExSQYMBwqSkgzFWSSHCQkMAUJCJQSc-HBD8S6A7kFWDMMbJJD9JdkgSYrHJLCTmKKsYWKLE1jYIZRkNM6B1mbH9I2xwU+cTcninmQ9R4Us0cB14lqA0pzg0KYqKSARSa00HHXmDFyAOBAYjIAAAwnBuGNQeyJJQyBgxu+VUagIMFThtTJENU7QECEql9TXY2gZGniFwnZYhp1UkaaQEU7DZmpvwqUU3BqFDSOpOULqeELjFl8uWS4VaazXW6MAupDvBIaOWpyBA7Mi0h0KkGqDZA2pFsTlL1LWmHTTQjsOmq1I4Ch8SysULqSlBVoRpHoYMeyJ0A6RuCLhHaM4RYMMilB5pb0hIVML2lrdZEG0w7EmOnDKCDQpQHaADIYBAy2AHSHgb33LH2NAggM4Gd12QEoyGBNDZatjNxkdJKpb4ioJ1FCDppJ+CCSiN0NioDjJ6pBWmWTJEmtgIsfox0IiJOF0oXRH9BkT0JFkXCFsVmS6AWEyxd0CR0Ee7FyOSH3DhYldCKUrLlmvDhRLABNooKtGERqx4YEmTjLJlqiz4hsvEdQ3-AgZRZCZT-PIMDGb1DyxAUmXjPRFyhOufM72V5X159hmgJs4wErO7pjD-ZIM4vrqODEKMb4bcZBH8ElEhC1wEU9CVSGuFAgIRvImAvyNXHkhXw1LCCe8MGBQijaU0BwBjUnGqiORkIjUTeyXG9CdZnox2acJIRBC2Av4HVHgEhB9yiM7I7kZyOzl1zc5u3NOWaKVlTRi5HYLfF+FFHbhAwdAauSWLKHViGg1shPLkKJmhhoxE4WvhKKaGdAdZNAourSgMBMyqsrCPhBPPzkd0Wqvc-uXrIEj1jHRjY0+TSjBn0DxqVWFOYyInkCi8IgwliFXMlo1zHqhABcHeG5mCj5YZdMbruKdEcdX5e4kASvAlm-koFJfYqr6JGGQK3ZiguOTSMTkuJk5kCrltAuaq4KO5hAcaEGJ-ldRiFEVUhY8FoVcs2QfVVZmAD7mQhfRO0fBQ13-yxj4IpICrqAtxAlisxr0HVFmNJA7zYg4i8BaWOkVNyigJ-ORevP9C1jnYKCm0YhPNRtS1YqmEPqI10J05lGaxNqRIPMBvBLkYklBAzNSGaMGZXnIaZmUcWtDSu8hHgi4pL4SlOgQM3wFoSPKDcH+8RCML4t1H4oHElU26T0JnElShJoAFcayL-FatLkc+d6fFAvAXSEh10vhAzL8hg5l5YCrcZRgnCKKSxCS-dPIsuH2V7F4eLclkpzGhgUlOo0SSUtxBlKEFDYtBUIkdg2xnRqOAXmQHARuKBizcJpQzILHHj44Z4q6PoEUVbjI40HYyQwEYmWQAAMgG04kDLMgjU6nPlM3FtSiEgk9Oa0LElgwkJDktlBV1kk2S1olU05WFMcnOxdJjYJ5b9LqrmB3lWSohEZKonrKtlOyqySBAeV-KblkU02Kt1-nYJnJ541ye5MhW1LCg4ISqX5NNjwhgO8KhZdtIMptSMVV0PXlEsURdKTlNy85VF2hWGxYp24SqcWg6zRKslcS2KmctynYIjlEKtlbWN1EuJW4H02Xo71GUBIXlSSwhnbC0pRSaVNmEMBaOWaGQopb7GmJDGna7ygpPkohNUpymdUCxAcfFJ8q1WlSzRyrcVVdDfHIYRlQvIVUL2EkmwzVGcgQK0GlZAh0oCRKNE3Ht6iQLVsvRBs7LeFQSze2KSbnyqUaWrhexvW1ebGW5OqHAw8Eaelk9Wmqnob40UEhIdBoTPFkWOnoEOwnBEzCq8EYbmsmKbt2E7UgyYdIrXyTiE5ai2GBjTXJyfJgmOpVSEwlAhEVWYVCY2qVnng9O7yA3D5LtVPQq270HFU9BxAa9y1hKp6L6sKClRx1NZSdf5NIY7QfJmcHpr2vOkgQB15sJHI7OIg6YdaparJZrOuUeLBxybUVYyFsXrgWyhSwuULPrWsLRVTauLC2r8CMh21uIVCZ5O7VoMN1BuIaSrGHU6RR1rUedWioJX+S8Rc67oJYo4BTrWo0FGdrtLalrri0-6kPIBojh4D5siaYBW5AcHHqJEPk6tSFLZQMcDFjwRtYuP6WEbYlja52IRpI1drOKpBJjeWtI3pTyNxED4MEDLVkaT1EkzjUVLZRFK0GJ8RwWRoAlrLTJTEliexPAB+QZN9EuTRZN2Urry1aG5ZhJsKmNYkcU0cEBiBy6sbuypg5lWesKC8bAgx6-tqeruliatWOmp5YyDWUbLtlim8kK5uBXqaUNPQgOE5pOX6arMhmrwMZp8HRlE6uIN4CKxZQUItOsC1SmGTi1eddS0W-WEH3i1tkXABMwgLVW4bjY0tKIIhMlssE8FktinUUJFu6gpAYtP5ErZmpa5zRytJmg2M1mCi1bTAGW5ijlry1nSqEPWGrfrGK3VpSttoZrd8pcA1AxAjcNaIKvq3LUetb46LfgBumFaf2kaiVQ1qq1rbbc9ADrd+gq5JrWozsZbTdIK17ahtca-bThjJzerjeNGNDCBB21XahtWCd3OqiO08Qa0c67ySIFxp3bRlClU7aJpSLtaVtfCdrUNo232qttWVSHT+Xh0-sS+h49HhTCBj9BqYnsbBADqtW6lEdYIfHRdU+1vaGgAcMHWdv63VbDA12+mINqK0k75U9dbDZ5h+0q8LIOO21qxBq3g6W2VuBSXp0WFHCe6qOKYQAzg5XVGwaHN8dAIz6WpNU0O5NUWBrrUqYpMq3efAtOiKR4EJgfgE3HUjMB5h0CUWoTzv7CTalpNOPnU2rH8CcwjcpuVZBDS-IFRoQ0gDGk5pMJ-w728EDLtgHAD7+3SWZaeOVjni95D-FGM3WJ2noftPuoAXPH+3DKfV3AGPXAJiE4BzwNwFvnEz6iMgAAnCcGpxZ63054zLY-xYiF7B1QsaeL3g+BuYV6YslbqbTzUXC25dKFwAeTql16ighe-QEzyZ4WQ0AA+mdZJjPmyzYg3eo0p3RWDl6opVe6cFFMSLPwXAXkZEiSLw2FBp90K2fUZ2syZ72ItMN8QEr6jBL2c8OPjQrtajmimdV0KPfwAhCH6glnaAsPHqgRaAw1CPNgIEuP3UQUiCAsNW+B878BVwZAY+C4kdYOrkljIVfv8mYAt8EB-oi7v-tKgCcjgxK+9QYFBikAQDNrD5qpBcQ7VmCRtbveCE8heQEByS43i7CQPAp2ma7EMN3st6CrWgxwfESPoYivgB1Rg9qaYKlBMHO9dG3qcRo43saBNmZXg0rNfAYGsDr6HA0CH5KOjXYphUfTECIMkHPIc4kTYIG4OiBVDnkXyCwc-naYVZDQFQzofIOjKLwo4guDod0N4iN9CyhVdCtpXQQ5Vmu0VAwfu3rz9dhhBYR6rN3oHLdxaHuC0pLTe4-9rQKWLHDmXB6Fl2cQQtQ3C3mBdSQgQwPZF7zVBSo90tBq0EgPG8m+MBjfu31h7pH+AyB1A6+oEDFUAJHOs3hEacpRGK9qsWIxNNDIr5KjJfVAvgGsxTjY47o8gFJH-CeoXeYMQVV4cN1lpwjXXNo5nFt2BwemQR3UVNugTy7lhDRqFWHGlXYgOVGuphJ8XF4QIE992xY-eT-0X8UVBoQPQnGiNjraxtgd7Q7AuPzLrjVCz3RTXD07Gigkelnbfo6Pq8vVBxwHW5mIDTatALbX-YKqZ4dj9AS4gADpYB6NlWLqIHhkDBBGjNsPZiizlDQQ+9dhYAxFXEFOgwT92iE0pKhNF5YT8J5mXImFgon-RcY3gKuGfg9Ado9J0AAAC9NwMQWE0UCVVImaTMxnoOycxM6RsT4ISQ3icKhQQGozWZI6kenAQmETa0Xk1Tyhb48FeuNFgLjWUC40lekwJnk6DwCEnRlPenk-ImRPKmamqp6Puqc1Pam9eIp3yEAA')">function negate(args, frame_stream) {
    return stream_flatmap(
              frame =>
	         is_null(evaluate_query(negated_query(args),
                               singleton_stream(frame)))
	         ? singleton_stream(frame)
		 : null,
	      frame_stream);
}
put("not", "evaluate_query", negate);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p15' class='permalink'></a><p>
      
      
	<span style="color:green"><kbd>Lisp-value</kbd></span>
	<span style="color:blue">
	  The function
	  <kbd>javascript_value</kbd>
	</span>
      
      is a filter similar to <kbd>not</kbd>.  Each frame in
      the stream is used to instantiate the variables in the pattern, the
      indicated predicate is applied, and the frames for which the predicate
      returns false are filtered out of the input stream.  An error results
      if there are unbound pattern variables.
      
	
        
	<table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (lisp-value call frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (execute
          (instantiate
           call
           frame
           (lambda (v f)
             (error "Unknown pat var - - LISP-VALUE" v))))
              (singleton-stream frame)
              the-empty-stream))
        frame-stream))

        (put 'lisp-value 'qeval lisp-value)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtyPkCcgFAYDQSBEBgKjYchfC7Nker62oGEMUkixiQL3VSdJMiMPE-SKUohv64RRuJJ4Q2aBChn6QZDAWtCJyeQEAD5qUoFq2o64gupWrtLv6NrMMOwydO3e61rG-lzka8xqi0UgOHIHNiG6gjhv2waIdW9beMm-i3VFWawIWkNlphkaxs2lZtqXOZ5usI6+xOgFzoBshgdB8HetW-RPvWp5ife2JSfO5qnrIg7JidCK-pcDnWoYGResoG5sWRbgwgmi8EjdEWqC0RhBYUIxHqF8X9El6kfoay4WIVygldG9XVZV+HZYE5GMjA03FpKUAUa2906EBqmwc+-RDIJ83memNnQEN42VbVq6ubt3XpED-XnEMQP5CUKA4EQZB0DxNA8QuFE3OIFCqGIfRcgUQh6FuyhuFunN4am0UQUBzpC8UEuald+2luBah68bFCC6L5uy7b1ZprSVre6b0vW+k0p8sIUbfAUFh8G7qijHnxfG3wGQR4UMfi4nygiZaOgq+k5pRQ6kFuVRRu95bg+p8EQhCDYXx9Fz-N861mOcuIAAPQhAhuGcDffurcK7HyJm9Ios4QKbwYD3Qw+hyCkDEAwP+ADiBAKNCA-eh9K6TCwFBM+qQsqUGCAwIuLBqjZToDgu+g9YilHfuuT+pDyGUOobFMh7Un6XxoXQge4CT7+mIRQ+gbFUQNz7rgh+zCxEiE7s4KR4875CIYWGYevUF7CHIGg-+gDDDAOkfQh+iUwb8xnK1FgOiGCLgoDvQGc8F5L0QcYwRUC+xaOsboxewhX5uLAUfYRBpRHGHaLdZQu9QH339Ewtco02gFkcAXMJSTIkm3zjvV2riVGCKCeo0Aoj2AeC8AIyesSWjxOKcoUpATy75NPsPQKGStBZLBHUgpcSfjNI+JksuZT6n4MaefIBYg6BtIGZ0ypPxzTUDGRMupajhmpAqMoXqlV6CTNkfE1Z6z+GLIaSIlopBTIDIstZWyDkBa+FduQX+HkvLMI6FoQqfNv4uAvq-bWyCxDSz-K+UUADqAKEUdTCxyJfwKimp82xpBgWgvMe8r+dBuA-LCDRfChF3TCjfKkaR5RhZIohRbGI55AEZDKk8z+-MGC+K+Q4SBLNQx-yVmtSucF6ATI8SzGldjR6A0QRCv2TKVhouFSKhoNL2XyHGf04lh5Cg11SM0nuowaRsBiX2UoKqqLyKVmCclGqCmxGaJ2DUyxMUngVCZYIyLzk2Tso5aO2dzCUF8CQB5j9n6+EKrEc4byXVolBAwOBCC37-0MGomWls3Sax+WdaZLCtBIJQWoiuEbeZZ2TIm+REilFZAOfgmWSqmCkH4KoV+VLk1vDzfQH4GC2JXyibgtRxqulJrHgoyRjZKSJP6R0pZoZjJ52reIxRdbGydEBnQVyoNJlqPClmlicjUkRJSWLSgkb8kywBakYgxc3UJPCcktWChN2QpWFNM1flLX-F3QwXqHwWn7v6R8M9Exo18Tli4KtBcqikCfb01pr6N1hE4Pgm9x4iIhnPP+wDG74FUUZIZX9Ws4Lwb6a7U957wMQL8oKHFoodXrj-ehkCb6QI9wvaGKacHyMIZ7vhv1UHP0ukRj++Jq6T3csAfRzDm7sNgYgyGBi-ql1uRgSGreDhZljKlDOnefyArscEhofQCn4rnShDJ0Z6o4TcA0+is44nzCGG5IwfA-BwZrOQTQnJt8B47sI6kLjkTJkktiOeCjccgSubBkBl92TJlMYRt+4e+7NC4j84J41DsnbQTWE-W6+1zMhqs7s2zqJBVkefRM7zm5uVAVS5ZkCGWNnvC9hKhoZij1pILrx3LZdEH5Z5pBgiVrL0qdFGV-ZuTymhmnqCemJg9mxUMGvJe7nDLNBRje4zetA05uqbUvrgyIEy3PHSxky3aX4D8cF8k549w+epMV9LI3Mux30HShVKhiplBnbp2oJ3JNwJ04YuTgxju3amqhul6bWVoOPhy2VWHjviqq9ud7cz1RbsK5Dwo+DM0LezXInpzBgNYcLet4iU0avEYLJV7cqHmnoIMUY1beCIHI-5jm2ToP2mrajcRc8PdGSofp20xDJG9EYKwbQgd+S-L06cevbnhPOdl1F5NwXPcF3KbC4x+btO5E9evtjquO7Ug0rVxThzrdcKgHJO255f73nWdG1VbhJYhClYu+V+dHihlDxF+N5xy8SPDZs+V6XBbKfcHhysVDuuco915+TzZA7A-oSR4uqO-M45yEUBAGA8AkCoAzmgYkJnkipDri5P3+uD7Fq6zNXgC8yCTJiAAH2r4pUUzVqhiCr6AWv9fUiLyXv0AXlPW915fGXuaHTCht4H2KD8aopQdMXbT-PFAPeE+HxEQoCuBJ1Lj7T0UzAxASDWjA7DOw+j3DEBbEtO0KPhAAGSX96HtbD4RhJAkoEf7fG-3nDw01X3Hpfj+74fUNg5cEDTV5HPakCbDeLeT-JfVfN0AmCMDpGnd-EZD7BnL-GA3PX-EaffQAyXV2EA2nXA8jcAtAxVFTOAusXaEYeAynVrYzAg3TLnMPMnTBQxSPXvb-MLcg20agovWggNbNbre3fhC-EvMLLfcgHfLAobCjCyG3V2C3S7egeEPvdvTAvfaQjdCyPMOFB0BQ8rZQtvX6d-EPZWYgkQv8KaLgrIKw+-PglHFiEw8XMGZg-ne-CaSwu-CMTCDdOw+wtyWuKxGxFw1g2hcw5YEtbfP-ffGQ0SLxII-RFg5wfA9-OI3RPlBxMgX3ZrHw9wlTTWN3MXOBDTbgGwi-XWWfQInxPbV+MI2IDwqgig7ws9XwzfZVdjRrLDWo0LK2VISIqQucGI8EdHfjZIxbUnBI1wromNFwUonwxAxbUUGtcdGdW2Zo0QnotQ--AYzQ0SJY7tcPRIpQ8IUff0cQyQ9Q7Ys9WQsdfYgLNpUY7NPY-NWFWoagJtNwiwlTSTQIGQA-UABaGfd-J4ideRLjMEKYqab4yoP40kQExbYElY9qDVMgGdGgOdCEr44NH4v4nQeYgQlzPtE9DEsQ3oiQqIjQq40SPzB4liGraLfLXIsLffcEakqWUDTNWnPzDogTcw2IcIsgzwigsouE7NOjbkmLRkgSH2dkkUliBrO4prCUz4sLJo89WU-wvdA9KLQktzBk5UjYlGGLdU-6PPdYPjTHcE9kyUpGQfLIVUiYN-BYjvLkUpKY6Y4ePoi4y0yk8EZbGktyHbOlD49A2-Boh8OYx0-EnhZ+N44QnI-Um0zY6InY8EC+WM1Ef08wKVCYkI4MuogUsM1Yg+Dk9-H5A4-nbItYhMmYwU7goUuY5HPABPeOZPJONPVOTPHQUArfMtZ-V+X+U-H-TvYGWhAco3AbUAe5R-dkMtf4RSYyE5W1X+CyYc7vFof+EwLQYQAIEwYgagUGYQRoEAvw64W4RFQNfQdIyQMgLdf7bdDggSZk-FLqfmcECHaYK8gVbgO84TIwp0sRPeAlcFQckkpMobGQa4wCl895TMlwXlWzDIgDLWECx8rE6EiC-4ksxbGlIMmQFCt0KE34jC2Eug9-KVYHGVCZPC9YgitCoi7gXEyM2ks8hgAnTtfVfCoNOcIY9onuN8u7V2AeY0jAti-QKjGijAz0rYsEOXUSNi2C6YpwvVfpcSh82A2srIKjPE5dRwL4QxOgVBaVTlfpItNSlwCMX8k8uCnLOQUeN+HHEMgmSylXXS-AYwWlL5exLge8lfUgsLHaWyneeXc4c8Z-ZwrUoHHMEHNpRkWbUAmrQKlJcArdBBTiycOCVed3FKqiIzP80UryrIrWLy54Xy-Mzgu-RKrC-K0eJwwVYqyIUq7ot0CMSqpinOX+QHIy1AgolxSiXUb89YZwhyvyx826MQZ-TK9eaWacjgAyiatcJYCcnaBKryya3q3MToMDUAFgQayK41ZoWa8a1QNa3UcIAAHmBDGvms2ti10mOVOXBAABU5JVM6BfBBAUFy8mtqQsQYzahmhwRQAABqccplRvAyoUGo5K8IEG-iwGkG6PC6OFCGmQV+BaghCcBch656-AQOYgeyD6sQL67JH63hagf60SYG0GlmcGsQSGk66WWGiyKmxG2m+m9G7SiTOSCSX3Jwk65nckFynMB9OSbEUykMTk8zBmvqpTPsEtQ0nq06wPJhY+EWogInEVCJPSpvSK6Kky6nQPZoRWlSIEH2aGxG2YO-dGxGo2qWzCaG60W0DmkLfyVsHFSuE29kI-CLQ9LqtpDzBoG1acRW+1RecoR2UeX1I8draDPsWDLyxkMUxK+yquF2kat0MzIQIqmqxWuq0eRlKrRK2q7OneZ8eickBiX7VW9EMWvDZXUs3TXm1VEOjatgAWpEd-SuNW2uzXYiDuxbTO0I5KmWgOooeWm2Bm26xhIJbujWnSLWtynWv2-WquKejRY26cs2rKte6e0iAmBavqne9eu2oUh2+8TSm627eMamooV8D26csKtBCK5e1uVjIoIO-m0SayMOkQCOneT1QgqO+iFjPu4se7RKxOmy1a4TOWlTQeku-zZKhBguiVIusNSqq+v1CukMrumulOxs2Qd5RPBOFPZOdPNODAbs1IIFEFNE885MZFauH-KS-fbWcEGhhFBSjhuhhgYFZ+QLDHYBCFa0mswsxh5Hc8bh-c+hrLRkffZ0ZkuYfi2IOYCcFBwoZkjkZRmIDkNR4VZkhCbR9K0gPRhRobMSUEIxmBUx6YZk62TIfi+xtgf0dR2IZk4KZ+Pqfijx2mFx-R8xoO7RoOvsVxmIZkm4Z-dqFgQwN8iJ1QKJuOFYUJjubioGox1mZc0AXwB-c6e5EG960AZJ5k9ydJmIfQTJ7JhNe5LyApop8x-Tf2CpnJyc0ASELJmIOp7i4AUpgwJpqp0AMAWp-x7igAUh6fKe4EqbJhaZGfacKeGbBHBEf3SYmayeaanJEmyYWYhAAEJhIVm+npn7k9mgQtmzHuKzrxnDncnQALqYgznbHzGzqARSnVmpmbnnn7nOnFnTornJn1nQBzovntnwRToXnuAig3mAWwXgXznFmdmemWnChpmYgdnYgBznQnRJG4VaHpHCVA0sjAQQxNY5huApGwUiGsX7tyWZGqp8AWAAArTcnzYltTZEBNAxnFzhkojS8R5JooGl-F5MIzIqd4EqLlnhuQzdORobZks1fis1flhHZkyAOgNUTuH1CF1V9Vt1JVyHcJqgeJ2ASAbRuJhgY1vVqrA1yJgAUSMbNZtctYlWZIADlyAXWem3WXWj7oIqWxWeAJW8WpXCWARWWJYE0CY8KyXA3qYpWjNsX4VJXipbdaqiWVhNZhRpmbC8LD5BW42nQrKvUX5YVE28XwUHBUUUEYE0qYVqhx8KggZfAdaGWQZ1hlA4VNA56+xBW+GOA2l+EhVuUflq2jgih66B7+JZ4X6wQ0qWVktdbKL+kPEboRBLyY3aWcpc6A8JU83k35Dc6nXYgV3BhBWaV6WmXTA4cd313QTmB5DUr3yihH6fbcRp3kcOABBH6xAvgdrGxp3GRgIsQF3jKsMC3Win7It5EGWkV0FZayqDSJ7YOqqDYcs3hoOURw1CA4OmrRHBgkPhKLwn00P9ZEEkOJLz7MPcrC3RQX3uoUh0OGGyOzKP9EOM0COxTgoGOwQmPHK798PSKxjMFSt6OSPKO0qLK2OBPs0agxB841pwlSBK0M1yOnLJP+Dl1f4TB+AC50FZ2R0dP-5D8wZv36Wfg322rTMm8P3N3TZym0qdpMmA4UYCHnVhWWzE5U8U4M9MBQC3hLpyBTAGBwkPgqobhSBSltDqAnxyPrYK9pwbDIunwMbphLaxGIxEu-geYqbwQGB4akam96aEvkEovMvkujJQzBh0viukuCOi4bgEk+UtzQ4m9sP3SAvlBy8MhP4jBUVlBlBmm44QakE+vPbwRAbSgxvClRJmaQb2vD2DQxu2TkbflkO3IHA7FjBmuDLK3fkdvx8NvCwIh-wQzabsuIQqa6vdFjBGupQ40UF9vkFjAduP1YbrBwQCP1vHuwZAZVYfk0qnGU0T90ZRIUZtJphRF98-vQBr9pJcU0gJ6Iw-vjjq8Kv9BEeUE5QTnRJih4RgfKDBgofpzwQcfFJSg-OKBAvgvYowvSk-v5z2xoy+Fr4oeYeJxkY7Lsy+dcyke21RJzuQbPuANvuyBVYCY0VAesuEaJxAa8vFapNt4zcCXgjgEkeWbpfKaBe6ADumARf8e0eKDxeeeYa3p4QweQkHsDu8pLGdvuBBf3KfuyulJAUlw6eAwLevuIRDHuB98xeMfHasgkfbetevudfSAeJnYG9Lom8JfgfwQAByPL+NWGhP52Nm1GiXj74PoXoLgsRT-QBTyp5jgHneOLvXgv+bzxcxoQYQOG4IOGuyLSCyc0NMOGstDgeER3h2O3guAmcv-3-P3PrZ937Ph352bvsvwfw+CMPv4f9y8vizlwFtvMMzDtyjXVABDwFgzD-71INMq+YBXT4H5kvfmhfizniPWhXTx9woTWJftt1fpSjfyJNwZ77fzvk1D-Oyw-t35knHqWcA+Xp-l04MJjI-8BfqAAL5zxbkv8WFJvzcDb8nMDPE-tfGAGfpYM5uDejfUKBy8iiHPc3Mr02TACmM2LOAcYDWhopGQmsSAeNmgGwDn+W6cXkQKhQqYaUG9VSIY2B47QCYT-FgiNDRSHwbCPAtwHwJQQTAQBrnMbOAVG4wIze7cIQWQPaiiDnYrAqQUTzv4r9qAmgJwrIIdgBUMB4Ba-rEFv6tsNBWgsPPINf7ADxBeggli3XkEiCVubWLFPeiAH-xqM6dLiosz-5gF3cgAr-m4Nuy3pP0v2MAdg3U5uQ3UJABAUX2oZLhv+KXVHvEPK4f10E9qS5E6gIHmV3UxABSn50VK6cYusQjKkkPbgSdCA4glIYZy-oOork65Lnm5DyHZJjy9BDSFwnwC0owYAwCoHhzcHkdIhBncoaN2b51QCOXQ9qMIM0hVQgyBQ5jgTEaECYmB4Q08ncCoQKIDKYlarhBFbobhyOO0DLhwD6obgCOqwtiAZUQw6E-g12aoKcJPwqc78JwpvKt3MAPCzhqqF4bcOY4Rh3hTwlwO8N4aMBk6+w7ypVXI5VhPAQI7gK1Sk4adWUGwi4QcO2HAj6qzHZaixXeFwiSuCIqjJCOKrgDRQ2haISGTOLkk5wqQ7Hs0KQJitbcUXZNGSMSpB8f6a0bQgwHUAiAOApAC2LTlyCEAlOgw0BjEHvQEjUB-IikPdneHbZrhOtOtsnTpG4jDIJaM1FcLWFA8WYgYOgIyPOEsjq+7IzDjiPzqG07sPIpUTcL5rfDMGeEFjPeh2jCj5RKmHaNyNfiqdyhh8B0fr1tBWCXaQQkUR4LqGejsGPo10bp3AFzsuoQoUEqCBUqbCEROiepCCJZxijJRBlCUcqP+HCxVqEI+OPnT8gKiJ8XoY0Y8NJ7rlYRGYmMXqNLr08OI06BgBEy4h-C3hiYk-NwFLGZjS64AysSiWrFUAuIHEJsVQDLGHcQyEDInjIDrC1BAasfEcXsDHHOxEkDcHsaxCoDhBgeEDGIBH1SAEiOIS4t3iGLWhhjKQEYrDPOObGVU1xtiJcJuOh435neGVGMQwlKDtikgnYziMdQjCbjDBoYCMLePfH+gHxjAGscdW4GLjvxVWAmF+MRo6QMGzscEJOI4A19wBagEwF4HaiMBhhzPCYaiG4CQD5xkAuMYdnuz-jWKmCClIyF-FPiuIWEvsUyDTDOBt2COCcDhLlE+iCJhqDKKpBgnTi3e8WcHtSCs6SAbOV0biF2PiYsTOa5gXgO5WuF-xLyi4woSbGW569NxoklwOlDklPQcQbIboONHjH+sTs6UdSZmF8AkUfR74CoJPn2jhBSgKMKboYDxEfgYBRITeNJOLzaSqQ3QRkIBIPjZif8BI7oBZPJFTdugceD9qAEeoAAJG1gwAACC4AcADawABKj1SAAAHkXWyAIEHFULYyBJAagcYa0Kuy-j+xaVcSWDEkm-wnJ06O8eIAHClS+B6E-KYrBRLiCVJnQSdHVKNAEdmpmQXKdROwRpUwpEU6KbFISnJTUpHU6qXZNql5TsEv4tKipJDilSGADk34jNKb5tS6A7kFWBSOwrXDupkw6aQ1KSCFTyOKsYWKLE1hQIYx5eM6IVgQk1JkJu06+JdPMiTgjYKJQqe+KynPiHp9U16YdJbGOggpkgOIBkDBi5AHAgMRkAAAYTghbGoPZFYogzGe6ZKqNQEGCn5EZYMwSiYyBBt9QZlmLGVTTxBeSwsuMsRODLIAEcascM84ZiILgZjSZyAlGb6F2FLhie-FHaAzLJr78coqM-vkCJaLv5AgGmGmQ6FSDVBsgIMi2GSkRmMyeZpoR2PjQRkcAkZ3MxgKjJSiC138j0MGPZE6ClIZhIYEtEKN6GGRSgVMxWUCN1HAzlZsstWb6GmzDxrRbg02cYzR6BAdZesvXsAOAmxBtZDAXWWwFKRlCeYDs9BHNh9F+yA5pSXGUpNYjEBOooQENJfyqEZjcJ-dbNJHM9kDi3aDPIUe4INB312gDcDMY6DfqdYVSs5NOsxhjplywG-rFgMmJNHSjoGhUquWxlAqKiWAPrduCOMIjgSpumcwOfmNeErwu55oooOcH-BejbRoFa0VuOgilBB5pSJynKFrwzliAHsoeRZXf5HJe5xgP0fGBDJLzt+wYjqvOzDElwgElwjMWuCOkuSBA4ooEH8Obl2VU5jE2IK+DRYmTPwUoM0W-SvR0BIaZE46nWNHkNjD4-cooLfP+kIgb6QQwUcgg2FsBfwEqPAJCHQUwYExyoxuVKIBHpjOgrcw2Spi-kdhcxX4b4R4jVFAL-xGI0cJAqKCgLPc3wn2X2BPEJYixyWWhVsOgVQjr6Nc18BUATkkJaE0Ct+fnRKpoKMF5cgSNBNHFwSK6IDIhWFh3FcKsRBCmBXNiWEqhAFqNYBZeQXB3g058HeWAnWHFyKdB09WRVOJr4zii5WQQgAYsqmJVTxG4haFgOno7jeGW8S+YYkuEOKyWhi4qi4sQWEBxowPTxRfLcq+LHgoSslmyBBEDMwA6CyEKeJ2gOKr8V4oofBFJDA8HA1CoSW6PsWvQJUr40kCwsKB5LdFNC7gcUronTBuBZS+hQaEgm4xRI7E+RVoqaQgy1Y-GHfmBW2L8YLIuM3IfQDWTiTgEMcu4WIxjk-DrZYMIMpMpiHw85oXhCgjMsqnH82Aus3wL0VnK49WlNhCMOsvAEwpdEuMiWQiIom-SUUEAwfmmPzobZ7saybvErPigXhhZQIsWbQhjl+RzwlS3ECxOQwTh-leiq5dOnKUNA3gYy3Ms8qECvKK+-oBiVmJDIgrAVZi6xRYpiCWSbYM4-TjnzICvxSZQZWFYwBjnAT9K37PicrFs6oqiJRqd9kDP6kMA4plkAADI2s0pjsG2DDNpyfScpuMxBAVJgXkdip-wioGVJmnA8VJNUtaAKvKmNTnYnUxsHKtmVKrXliCPqeFOZVsqOVY0kCDKvVXyqkgaVE6cey7YGg5ptnBaUtKNV0AEVC3XGRtNNjwh3xlqgSWzKGUgynVV0Dvict4QAqQZgqg6TcqMU4ckanMQ2OdO3C4yE0hWU5a8ouXeUhVlVD6dlOEmBrbVhU2OYYmLjKyC+A-AlWeOuX9jVJrUE1abFOlUAo10wIcedEMimqksd0TGIMG5RqhyBa0xBGCrekwLgJAcGFHKq7V-SMG4qIuubGDF4r81BfEtebEeX+tWg7LIEHpP6EFrFOh8cEL+nxWKcgG7pb+WZPz4QpCxOa-hputfhTr-ppa8PkOggHIhG4glILDP1HV2w8RXy8VQ6Ccl9LaaCkxccj2HgEiPJkcTkmQkCDfSeZasuyUgjWkWx70pUt9ahOcD5zDQ-rNyUCGtVZhHJcG+gOPPPAdcTkUuDDdSquhpsWYbqtSd0FWlTT1pm08eaVBxDkaeplG51dfx2j4buAAcHDULJAj4aL1ZdRiIosPl5UWIHwYIGDFJl1tSpiaqWdS2DWMgoV64XMj8vJDQa7Jb6maaPXPDIaXY4qxaWhuWnBqsNTyxIBxteUXqiN70Eja1Fo1yUvVVGl2jRrI1WaOA3qp6G+UMgcyQZrG5puxqlykzzYgQvjVg06VjDSZ5CfDRBoo19Lzl+G+eTJCC3dKotzsMYaFqi2jDhA7aijWFvo0WwhNwGrjWJvA3Ja8J-rJeGlvo0nYmVg0+KYlJSngA-I5WmKZVpGmcrmNa0jzQmmK0gb3gP2FTOCAxDvdoRbkWLY8EWXkhstImxGXlvFUSbfl92drQKsZBMqWV7KmreSAW06qmtS4XGa1umazbA1XWsLD1q8B9bOlaHfAOLOI4ogt0j6q6H0to7naGGd289MuIKoqxnYJ28WQ1ge05I6AXHMDPDg3X5qxSD229T9sgSG4RUV2p6JHBo2pkRAcNf7YP34pva7VPK4wvR1O20JOOJHadXbFkm0dMdF5fHZe0qlcTyuFMIGP0GpiewoE8OglWhgAzCdDAXHemCJwu2HwIdZayCA0ADicd0daqBnT9uZ2M6SOoOplOzp4iZpoddfCyDTq3VNi0d1QMDu-hk6fwxU56mdcxxOmRq1MUCWtYQgLm2k34E6wfupmICyctyJ6wHr9rqXYDeJZCAjWpIwa2AwdDsCldZ3t0WaTx-4QCDNhtic6igYuiXfwAhAN84dRuglfxWV1aAC254G4DAJ8Z9RGQAAThOC0549UWWzq11T3sRaYF63hoDDVgGZR6Lgieh8AQ3VznBOKFwNOUhmj1Cgae-QHHzj4WQ0ALe7dXwqxTejYg9e6UjxpWBp7c9ncSvCdO8KHwXAXkAEiJn9Fd7s9fUAffnq3Sx66OIUWmLHM6DbLdlhOGHMJux3XbyOYuxdNDrX19QN9OQ6XWHtl2CAtlx+0tEcJwDnhqgpUWAQekZDggC+LsUqEeRR2LZIBwgOFKDFICz1JN-rB-fwBIkJxO2IBkCBvwPS3Zi9c0SA2XpiD17wQnkR5COmCDsgRenCWoA8hKZ+aa5Io88K0EZDUCbkzAGAfIOklC83wWvUA7DSOC+qQwyB1A15F-3SMTGNdd-aAZYN4GXa9e7vhbtaC96P5OKLjdwhYCdDUtUoIQ7XqPapbjNIWtaUgnkNcagyMhtuaxBn2vxwQkUtaYICkOiAyEC45gNtUGpoA295ejrKGGYM8HblBKwjhSjjg8HPIcNCww0H70hwoEJ06tduF13vQBD+awhIbnUh3saAn8VoP2NY05huADAZpqvWAky7T1UsW3fxLUnOdaCsYEMD-r-2ZE8GgQ8dtmnkEW7IDq4MgIvEMS6tZ1VIYg0CFIO0DKDlvSA9lwYM8bXw-+8oxq1ABY8WSU4vAqPRsNeR5BdhxTlwYEC4HfI7ipA1of0ABHjd6h3jQQYYivgxD7QiQ+1AMP59ED+h2VYjMUPpbEta03bPtnUMhg2jZRxem6i6OqRDEs1LSLIamPL6+oEIWw-hu2M4HnDExr0aJn83uHpjKB2w2-pYlOGPj48jw7Z3rUVqfDE4PwyzFmO07IFIR6keEciMGBojgcOIwVhjzn6kjPEgym7ovXqYbYPMfIxFCKP5q4+qE5Q7-q37MkAAQp3DYipb2+FkWk7dBdUpNFm4AdcDvFIBRVMgp+0SHFNRkSBQAcU-AAMH4p4ga9kwJvVSV6N3GTgZJ43RSfQn6AGW9LGcOY3pOUBGTwgZk6JFZN0B2TT5JuNp1IBw17I1AAAF7IIa+PMWUz0duOFQlTtOlU60KMCdBkEr8OkwydRl6mBT4IQ0+yYABskMsM9KYdM3Gy49UF03nzdNpgqTBiTU9xVCkBcfA5piyJFJfhuByAcNWAMafMbQArEcKYQBIDhoABZc0KAEimgx+KAAdgAAc9piyFGb6OKn5A9Ai3fGc0hqmNTzJVMzUjIBw0szOywwLmYsj5nD4Jp4uGabhob8xA9iHkx32sCRn5TzpjsywS7OUmxz6yb0+YwHPpnhz2Zsc3mfZMoBwzEZls2uadCxnX43Z8EliDIBRV3A04fs2maHOZnjz450SJOe95anfTTJgM0GebNymnTBbW8w3spNdCkzzJAAGKbk4a0ATVqJAAAiBZ7ikWYXglmyzmZxTBAG1mN9dAIFx09GZvMbm3AW51U+qZYDJnFm8F0wIheQvgg0LU58xn3FnMWR5zi5oc8RdbMKmsAEF+8x6d3O0WIQ9Fwi+CCQtw0WLDFAAKzhmZTV5sC+2dIGUX3TNICqM+dtRwWELFkKSxZBkscmIQ2p3U-qcDNsneL15mGYJagupaYL5jR6vZH6BeBO4cNVlfujhp2tWL3FWk25Tt1w1aTCe8ABjn+BimJT3AYkKSEUugXSLKlzs+ScpPUXRLT1Jy7cFcsWR3LCgTy+hcWbsXAYcNLQGoEAXKAouRpyy8pYEvkXUgCV1Uzua9PJXHLzl9K6JEyvZXD4xIeS2GeiskW2zlV1SzVfUuPneTKQbSw5dSsuWJLrViyF5b-M+WAL-pgKxZe6t8WYzVVtSwmegs0nzGcU-oO4BqAZmWrlmFIDlYhBcmvqw1-k3mclAhT3Zop8UzX24ANnpTK5pS7Fb6vxXlTiVvs9td2ulwDr4IVlUdZibeXcrpp-K5xfkALnWoS5iyP50lA5Dyrb1my7Vc9N59mSO19YH9bctA32TOgC88tasvvXNzA1hMxpafMjXXzP1zG-texu8BjrINiEAeY-OiQRzOZ084jd6tE2KLJNns2TeGsvnkrJlv02ZeAuzXFmAAdWQQsBeANSGJhZCSkgh-9y51cxVa5vVXPrqpza-AOZKS3SA0t2W3DQVvsGTr4IcAE5f5OGAOATF56oQFAChT+gttsK3aYJsVXkb7ppKzralsy2vAct0SEbaVsM3UywgEFIAuain8VycyC030AIjK3XrvVt26TdRt7nuKut-Wz7cNuK2eL3APEJ1a6svWYrnNhOz2a1uIJmS4AdtnJBwuiQbWEhsq2LYhDi2hOShCyOAHUB+JQArKoQAKalMc3+LRdsEB7fMbl35A+AKu+CBrsWX67qZPrvjJoAGU4aagcmjIDhrtdZ7tuWOwXb7trWeb4JJO8leHuV2AzE9uu6ADrO52XbSN7exrcGuaWKb+9iu6PaPu12Tbqd7277fBD+2eLF9wu1fddO2XqT2twszFAQkSWxTEhuqIHazO6h-LFkF1nbeQTaFRAwV92YRbxDBne765-q9fYTOD2MLwDvoKA-pYt9A7q98GU3jhoaDQYNNjB2Rawd-2UbIl5ktAHweSA4aYD4h9naet52Vbl9uh3Ge3NDWtLlNvB0JNYcWR2HEDqewfcfueXn7ND6y7-f4ea27LW17ipFJtjSXiA4tzuHcakfcnybl1+W4AvMDgAi5gQfirJfkdq31rPZ3B4s3UcOMDLWjnRybYGAh3QQ+hFsyYHiBemN7PVre3w7vPbm97zJBx2wE0faOjY7Jjqwpfzv+PMHH1+hzffJsC3QnGjpx5E90dGXwQr9g2-LczvmmrH1jne4XDhXCB2hdjiEHleZvghLTNpkICbeqf-WuL0Nr+3E5Wu0PEnSj906lnKcMBKn4IJpxaetO2nGnYNmp4VdUDFXSrfjjpwo8CeQXVTvTip99e4pDOIbo97i4U6nvrPRILThQDDdEhw2agCN7+-xeKfYOezyz-p6s8WZuPqgHj8O1SW8eSBfHJD4Ow87DsZkI7YgKOxvPCdFPeVOWIQIYCcvTgEDVRgQDUeGNRYyDdyOgVv0aO0GBA9Bxg4hqpCJUTsiR-PskbxNUqCT6R4mQhzmiYvKpQBXGv+KbzGHczhCU1Fnzn7G7ETrsGkQXAiOo9SXURyERidjnqD22mgtfp7lV0B6iwU0TXWdO12hgYTBoP+Fp2TRMuwjyaRGr7xW6RHEaYlLl9dKqwf00TTS2IFZBqFOoOIG1Exp5A15BGwd4IXlw-z4ohyJyru-FyHDYVHIUYj7APQfqD2WuTBfLswVRFD0fwtAJ6-ila-5dOEwOwL94GC8gurs6refCqHtdRQKBZ7h8YNz68FeJvwZgLXQPjZXNOg8ANl6N3vbjf0AE3Sb7gCm4FcS503rsTN3jdicOn2jblBG0cCAA')">function javascript_value(args, frame_stream) {
  return stream_flatmap(
           frame =>
           execute(instantiate(
                     head(args), frame,
                     (v, f) =>
                       error(v, 
                             "Unknown pat var -- " +
			     "javascript_value")))
           ? singleton_stream(frame)
           : null,
           frame_stream);
}
put("javascript_value", "evaluate_query", javascript_value);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p16' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	  <kbd>Execute</kbd>,
	  which applies the predicate to the arguments, must
	  <kbd>eval</kbd>
	  the predicate expression to get the procedure
	  to apply. However, it must not evaluate the arguments, since they are
	  already the actual arguments, not expressions whose evaluation
	  (in Lisp) will produce the arguments.
	  Note that
	  <kbd>execute</kbd> is implemented using
	  
	  <kbd>eval</kbd>
	  and <kbd>apply</kbd> from the
	  underlying Lisp system.
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  The function <kbd>execute</kbd>
	  uses <kbd>evaluate</kbd>
	  from section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF> and thus
	  can apply primitive functions to constants and instantiated
	  variables.
	</span></td></tr></table>
      <span class='comment'>
	The original is more restrictive here. We think that allowing
	primitive functions to be applied is at the same simpler and
	more powerful. (We could do away with the syntax functions
	<kbd>predicate</kbd> and
	<kbd>args</kbd>.)
      </span>
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (execute exp)
  (apply (eval (predicate exp) user-initial-environment)
         (args exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHR0lVVRdSeRpiIbiEpKLi0DmF2sUJNvklQQoVx1EAD1VLOjoVtZGDMf1nya2UlzpyHr7I9roikkjAA5hdrrd7rRATF1j4XoZfABIczTJzUVSidzkaiMRwxBqULLCVawp7vZLBQ6yY6KDFY+S4-GsQnE8442bzRbLWiPfKjPQTD5pDLM4gAE1cKw8ZP5my2VMiYslJJleQSCPlU1F0myDXFknBN1Edweso2FKCoBYknKokcpxJil1jQNjlUwOyVixNXqTWkMPV8Mtwo+Lv1hqa4v25vhgq1KTRNVEAEd2mRcsM5SHttTk2nNKQOqn00WauRjjktIGsxtNTmRTMGqVSOU+RbhYrws3qK321p68Kk5ZrLZy5WEv3Eg2uy0RzZiOOFFXyFPBx8k5JTSDiCupwnKWIlVv7ju97GdPGG0nxaJSLrsWag9PO0fwrf756nRf11t0ljmEYNdQAAIgAVWIcpiGoAB3Ow6i0SRLlAABaFC3xpBQQIMABuLAAF8BBIM4RF2aR9kEXRgRBOgjFMfxKHwUBFBmG5KBYKVxHtR0HkEAw6IpedbB2LlandRh2M47jiKdSidlBWi8P8fCxADUR7CYlinDJEhxQdGTeJIfiTApFR6HIUBbkIaQLIAXgwuQFEUHjaEcKMKKM7QG1DD4rgUCULn0ShmF3SdvJ80MXMXD13ByNxAT4ryIuSopqLoJKUsy8wosC8RgtoPc+P4pTkiEuwZjK1ookUKybIPIpgkq-57TM-zV1ql8fPSXTRHwIlRHFErQBU0Q1JMlIANxZySF0cDIOguCCAMkRyFqTFUPQsjamwobCMIrAopCBwfl6KqAQOa50vjcaAjK605iBUFQFsgA+BzaWozUxku3CCKIoQVgw5UpVoNVawHa76P8O6ZnIRhCHIAALfZqUc3IJRBrIWmNSUlici9nnjeqrVR2kzJVaUWjMugS0nAnfz-d78doCnQZaGQ3DZLj901PD9sOvMaYLDNFG+FhyCu8YBICRjmJmURYlW-NSw6chxdo6Wijunq+viQbJhGsbZa05wtx+b4Jy0UW1Yl4yoeFO7SacvrGG+JcFcnMXbe0KWhuG1SaZulJqYsl23a9s71Ps8KnZOYLw4rZdPZt2ifdeP2Zc0iqrAXSPnPj82bcju3wrusPC-FyOM+UgP1Ptj5HaVIWVcUcLbpNQvLYl631eeX2Q0IgI9v+ki7C+E6+hIE9KB3AbFAGE1NYsHPhJtVR569Z63pAgAqKftz1neQN0BfFL+g7lvgpZF2oBHHA-B8eXofcg40uWnGbwtMzhRIl+SEPQBewYPZT+GZ3YrhrD-X6WwYZOAVqoJWoCiw91tm3bYxBrLSDQSKXYmhxSi2vj0O+D8vwrASgXcByde5vCykUOghDb4-BIY+aErdaHChtHaZWX8aod0odWFBGtioG1rq-duo5ypOGYU-fc4USjHUUNIkkvoujSH3MTAI6QMHSGkH7YeF8AYiDzD2PsP5IaTAAe5Z6oATHlDctQaM+4-YAJbDIYBgCGHELvI-EkgJ3LQP8AA-ep49buPHr8RwwSZ562dL2NxATl4SKZkody31-J6XGPlUKVtXEBgyuwgpAQomz3FFdbBhTfKvF+vzS+QNKoWyTlbMxUtX53U4faJqbQlDYNjrwiRRpIRPnBgKKW1SR4kiBtPM8dNnyalfgA5q1jelTOyT8ZqAyTRQlJM+Qm-cAgrJUf6POKyVyHOaDzUAzVeaTDus1Pm4zAZ5iUUMn+cz64zBys83kBMUT+EmLONG01DGLi+YuDkIdJBaHvt40h3ydn5J8lLSY6QDmdCOc1RRMKWGLjRec+moBynCl6aCyOGzTRwuGTQipiKqn3NwGAKKDB8DMDYFAOAiBkDoD4AAJgeSIGYoQGRqIJq0lekj+iEEaFiF+oAAA+srvIzG+BJYgIIZXysVU4JozRRCQpfhq0MMxtHCp2QEA1woZg636vggm9zDqCvcC0DFIrjABBuWK0AF46WHVhpIEEIIBrOAUV7XQSN7QVhBH-WB7pJDBRQUYAAZAm0AiNdX4K9kYWyWbQBhscBG71tSjVehfvXaNEaA16XHsBECC8drn0Orilop0F4lvdUk1Nkh8EVkoCaylYyDGj1FCcmZlLRVJN9f6wNVazEgWHVoOthFDpzvNn6PFprS0eo7V22Nait2KG7b2qB-ExlLoPqc9ZVxjTku2aOjd7a037p3Y+nt6j+0+qkVimRGax0LlFOWqdwabazQhVC0F2E5UKsNU4f9lbAPi1mlICSkhmz2jA0YDVi7akksbfGoOd090HsUARp9Gbj12qw5+5RF6ISbIeN++2+GH2EcI6Rt9hanDhjdJewZvJ6OFDLX6itQbvgoNmpxw03HaO0AXQOiZ4mY2xW9HiRtgI+PQw9WvUWq6m19AXroYjL7WPkeBSEPUbp3K4YY5upjT6WM2zI-W9jjh6mJw9lbNTiTf0TqE1WkNoEXNdxk4dSqknr2Wf49Zztz61GkYLSZmY5NMYeA8554S3mAMib8yBRLqoWiha2eB81Hx0uwcy0B0COXKb8PIEF2plW2biQGpQPGqtxZLzuuEyw+BROgB4CeurLMktU2hLTdz9m8Mes671Hr3L+smfq1jWYNksRc1a4kCbSSpvdb8wAZjY-Fj+o3kEpYE5O0rq4stINELVkz7TuEiyAe1ybCiQJXePoAlOc3B1Xeq6p8brrzARfvVFuzbWvsTPLtVwRT3gfps+8ZwdtxO6NO7o9jbv7Qe2wRxM+WisxJXeh+jtLmRMHQ+x4DAVZsodo6s+OknOjovQ-24OpsLY2wpcsh6krwmLvlZArYm7g7bH2McRzxjIOSP2eZzjpwZFmtfv+0Drz0HBMZd5-B0Ccu8YrEFxDy+ZKtnhfU7DxnsW-pLtBAbshRvUt2AM2ozHDn9p4EZUwVg7B2VcC5WgHbfLxVwwRsjRQlwo1c61WUaQurVgh4JaGYIyEs32QD+pby-5GCAWD7NbVkfIViGuHeBQ4pdCWCLJQLi4pUgydk4DO7UVFAxS9PFXQqTzHiN-VW7LXhdL6WBcfcpDe4pYiui3-umGDvMmGN3uv+BQ907zar87zlgNd4ClFXXgMcoD6UwlWf7fjrOem-gXQfXyciByhZmfP7hJbaX6AWbp+7A5UySFQqu-r-7667fvbcXB13c6dVVqDYK-MeF7f-dod7QAnwB-UUMApQZqN-f3BfHnRQK5fzMVSOdfEQWAsUNqFArpBAlNGzF9eA6XR5MgUoe4VVXKLJPcFpO9DHJ9UfavM-ChZlYtOgttX9PdJggWcg6gGmNyCiRTN5N1NvYSD0ONNgnIa5QiABXNeBJWZ-AqBIaxY1PCZguwWvRTLTVRK6ZqWiYA0ACQoCFTXQfQ8HDfRTM5AMZyRTOiUQ43Lgh9KQ0QCws-Kw-Q2wr0ewv5MQuwQjFw0goxS4dJagl-T2bTPQtxZvLce0DgvwkITQEEJGHQ-0AwxPRI1VFIyIWibyYIYwxQLQ4tUwy5eJGIgQpFUMdISPLIxGVI5oAwgAHkyOSLqJyI0RJnTymhAgABUyh7piBah5IQRJUEgGA6AqgFhKABp0gQJQAABqWPApZVIkEERifYFTIwRY97OYxYwlAIFY1VdYvAgMfiNuNPDPXo-o-AUQGCYY0Y6sQBSYlwGY0CBYpY9hQ4tY-ADYyIrY0CWad4-Y-wL4449ooIseMoSoaoRtPORtN5SYXg8QZwModeeIooBta+eovJUo04sRLWMPCVBnTY4EqkfQFEjENhCpQsCg1YsI5Qq2UZYE9IRtZ6bNPdEkwpYIPddo4E1EDxPVFjP40NJ9cE6ucwQeIoY2cYNkpPVNC4PHek1ZP+LYSaEw7TWaCCJoXSUAWtBJZIQ2QOeuLYABFw6xSHFwg4dOUuD1ehPVFw6whKOwhFApB0zwwI-UoeA2Tg4ScYCktE60mpEzVFbTOEjU3EhEgIJE-0q0wwfE7KWpO01YEo9o+M0qQk41bE3IzKMk5E0oSkvkmk-gukpQ1ZWMs4zKFk7TWUwgqLTkrKYIGmH4Hk6I3EjoxmJM03YUnNUU+JT0muEMaU-QGs+QxU0slcFUooNU7EzU4gbUiUXUzeNCHYM9BIOtLYQ0uucKU0xTc01g7QvZUMO6Tsh0lTLwnIKlCpN0rpJ07w-siU70hIv0-MgMwwOlF3S+JlFlD3TgTlXgDAP3UUNiDiKgLiHvUeIFGHZXefM7ZAuSECYCqSTAuwRC0C+0diBYNzROQyYgKC4Se3SC-tABVCsvaSYFMJBRS0DvLdd7fwLdCKS8gIDvA9Wi8wA9Bil08wDvYw1iow2NRgDiqil7ceXi8eQSooDvI1TBd7KSnRYURi-wDvSUOgBYSQbaXQZS1SoYj4BSril7NU1itUnyXSo6ETECG0JGWYBoOgY+CyxGKyhgLYEyjveY3i-wTPUAWoTNN6ZCRY7S5yl7FCNy8wDyryreUAZCdCfyzi0y1cXeYK5iS4XQMK16CK0AHeTy8wAKsy4ABK0K7ytKsAaKoSsygAUjyqSs8oKuQlKsytAGyrisTzcvyvCoT2zS8pio7wAEIs1mrKqUqfLQAer7IOqSq4rGiKrkrqrQBmjzBRqJKXtGjbJgqWrUrkIlq5qGrFAQIXpJqqrWrQA3pNrOqXsXplrdBkhVrBqzrjqxrtquqEq0qAhUrzAur-AQ9LRfpiKJIQLSLwLlEVNnoQxNMt1dASKwLGUvroQLJwayLR4egGgAArAvYBYGh6QQcK7in6pC-TIgtRIqEy5IWG-6shX6LAb6ySNCsUC2R4+yKtDvK1PWd7RmgaQm6lPSsyyAYgXWVwdS8wLmnm1aNm9mjvOyxwWASAVisWiW4W6lUW+QeygAUV4rFsVtloqQ7wADlJBNaErtbNb2zCkobzIjDsaqaQMV1dCgathNMmJUq90Z8waza-qLaz4KbfqwKLbI5Uabb0bwqCKZ9CZibXayal1RJxJKa-rp8Zphjx4CCtpHAiRIkJQsRyI6TEbJApB6EJIEEqTkpiaMLI8VwZFEpylqI46cJkhHMTMmyqglS9wCC-I8F66woUpcEJR69naIb9cSi+TzBg7obIVLa0j1b-B278FiacpqAkaUbdA+7TbI7PbB6oVzCYqthRyEExJxyNg6VI8LJc0QRSgGhwht6tBrFa7qhT7VxQ6nMFCxIzJEbL4LpVADD6DiciS1FL0z4x9B1IcH6ZJn7X6fS7cH0v63C7AkcxRH6hBAQwHDDCMwHoDcdN774HBoGIK4G37xVMzEHzdalIdlL0HVxMHgHaz8FcGf6JlIHCGZJYGfp4HGCfpoD4gQRjg9ICxGAUZ6GsGyHAH+0PzyK3dWUOAOVuBMBALWp3AKBHACxvhzgbRGA2xENKBkNI8CCpKpUgICLlHVHXCKyGpeHmNeykMUNj13iQJHBdiPsVVvj9htHgQVHTH9HExDHjHHG1HwHPVWAbRkwG9C9rYbGgGEjJBSBSBJVrJaRRYqJQmCqGBFigRQmayQI5jghkmRQdj3iQnSBR6PhkndAvjv6NDQASAYoaYAnViqIFJKmwQSngQaY6IkRSGvjzHtr3iYgfGaY-G55NNqJk7SnRBqmNZzGDAQJoDanXZw0sQWBHpI1DDZK1FqJiZUnjUQIQwkwq1FnQAk0GwTZMzCNFn0NZVXGX0Dmhrs0QJAhsIQxggiMH1NmMiLnVm48vGtApGfhZHlEFG2xFnU935OQpjtdeRNntmIoi1Bgn8aMwsDn2zUnWnFjxmBC3Bpm900oZmzG9iIo5irHYTm1i0IWr1DdTmMWfIsX3iEXJnGBkW8aZnARoWti25sInmhxiniB+ntqRLqndByW80pnnHkgkwCifmFQWW2WEL+L3sq0UXQRCZ9npXCZuWkXiYkwvi0XrnQIAByKx6icxzVtZ6x1Y44xZsZ1lup+0Dh-Yc19R+nNRHITR25qLS1te2hDvSFcUHY3EHY6CGrWaE8LEb1-zaya7Y9NV8l+1-BR1nsl9CNhV3lvV0NvdCNwjaNk1iZmR9oThiE0ADOrO0gHOtZLpcSXsTZZ+q1-57kJ0S9JZ2K7arXJ+d7fFnjVYStp1lITTbNrcXNygBBUlG4Itu4QZktvlzRUUFtSttVjvS5-J0M3FwYStpVvPVQH-CZc130RCS4QtosO4Et1+Y2GYWtit64EuYOaGpaYFaw6xEMHF3TPF-XfLB4Od6ub6vtmmPSNKaxTTFdhCCsdd3tzdq6VFh9wSD1HKVkh5nitVgovdX9zZQNNKQmAi6Du4WDhSYNxmED6sh5kSiD5gP95DmiPV9D1RJJ9t7Ort-NqIJllIfI-ioFeG+E7BNtzOjtvNntnDzZAdud+dgowj-0J259vDs+IeURXdzIdgw9ycjrF7SdwBad692d8TvRURY0znJJS9PRauwdVaTEbdnh1iGjsd4V7gw9vV6cy9WcqCWCOwO9laNaIN6AyA7uStuZpwAogzgxhB4zxmUz64czhaKzyFrZF5tqGyzN31xgZRDkBoe0TtW8chw9+B2z7dh5sLmraAmL2YJD8L84CzJznhvdBzuh1QYRZ3MAekbFefFDMGhGHYBcgNcgelIRz1RGOYNwUAHbZiGmQdHbH3H3XwIpk8XsRQO0WoYvO8XEUpUtzMkvcb7M18Fm8UX5ksDwYb3GqLPdabxgCbodwzh9Dbib84lcugQblbyNtRPbjWJdmvW0cNXRxQP+FxOJFoCsFDaxDvHeZ7yPI+fU+1KEqoIb0QMSHgXQYbxwWbNMgBCYhoD7qOQ747gHxwIH072JJYJ73R4RLYET5O28XWOeSH6Ho9o8j1eb8U-2UaI07ck9vb6xAb0gf7sSblEUwzQgKHtH+89Mufeb3hFQTbw2gx+b5kpHvbtnyUh8qMwtegP1unhH4H+Hhn3E9oSc8wCH5n6H6nu4OHwHxntRXJCrjxknzHznvH1ntMg4qwefF9HX6Hlt0MAoqtEHxHgokHuXkg63lKQjS31n4XpTink2qn+yGnqXuXljFX1nknzOP5znoXyc35FIJs83mLEPyrrAGPgpAox32Xsw-A132hYPlnpx36FPzck3uhM3wjPbzPqINnr0jcx8-wQ6TS+QUgOolgRXlT39NgTD371QSjnyEoLv7BdIDv85okGmcLnviKYIEfv1wlC4qaFgXzyz0AMrp+DaHslDdc5SUhhv8gJvulABZfiL3R99673XpQY274UAOr6xA-9kW7kCfM6EutYi6r+yG-1yaH7aqfsfm+27E-1kSUVVHgRMaR4K+CvQwgUR0aVd5erhaAv-zpKQDI8igOAaqgIJ7pkBkaWAUSAAFggMU6AggoRjwGYCMYVBJOpaQQEDMmA3hQwgH3IG6BAi0BJuh3VoHQC6BdhcATRzuzoCgB7jCgfAVYHeFLu-KJwIhh06kNucVaMzqBEuaZsR+FYLQCoyciSCXCXLOcrfACiIZHAzXCUJHkYB-xDoKgVQFwyK5plMeIgudsXyV4nt0B1idAYnUXCWklBdhMPo4Xfqc88BpJFlvOT0gaCtB4oHQc-X4EXkBeBg-YLYNwFYDVi6PIoEX0x6udxOFgtvuIRo4hCw2g7XQCkI85FcohKQIvspxSCOxrgJPEXsNFIYpDK2gg+CHDF1QsB-mzdW8LqFqC49Ee9QtSoGjoBg9dO1rUWH1jVYtDGhekdoXdz1aQcH0dAPrNnxCqxMqh2QWoQFD6G49phNQljOMPnqFJ5hAw2bJ4yJBuAc8YFdYd0I0qjRWhGwybqTjGFVt1hNQblEMMZgjC6yKwlKHd3CrbDU6uqPYUcP6GYoGhbQ64Tk1DBPDUqyqaofH26FO5AKQImYfgF1Bqx0aMdIJi4MfzQj-I5YSwNkACbAjbacI4rkUyhHyBkREI6ZgSNOHElFhVbY1HqxeGMBdhqGD4XPHCgclSRrvAEW9FxHkB8Riw9ETMLsyoiW+2IopowL0iMRqax0ScMwINCXhAi8yKwRENVQ2CZRYIUgdoWYH0CxBTgNwfKJhZ550k3A3RhpXkCBDXCvzD0GyJWyOALKTfJAfKLzh4C9REopwRpwmTGjOYZoxvnUWNG2iDRBBM0g83wA7oBocxNViBF9E9p-RJnNMB4HdGgBxRRgNVmaUByMwZgIg40TGOFYCjE6fQamCKKtiRjxRnoikS5xo7JitmyaPTnGmjEQc8Rpo80XUUIzJiJhwoQjNGPrEfAnRVY10akLrGrCUoe6JsV2OSgek9WQYv0W6wqGAJVie9VyASODwEECilVZkbqUwSZsm+d4OxJCgy6j8nQKXFYLoBXaRiV2ko+uAAmrEH4JiNkaxK2LHDVjFAu4-UYdz9bbiPi7NHyPuPtEJFjxHUJJsGMjxus1W5IjsuOKsCTiOR74k0NZESCjjCAAhLAVcHrzyBS2KrKDnBMzZ1cUR1Qunoj2G4dCLEJ7dxHV3Qky9ag9+VUVj16jWpRYRgYIMahFB0BRx0E9diD16CwT1sh4k9sN2sSITwJxEkQcNwolSC5i6QYbrvSsCgAeiAACUVqOAAAguAHACK0AASj0UgAAB5TWsgHshqFAKNxHfvZS3GsILxxAT0YYUgnoUU6lwJiZzCrYoS6JsHTLr4nMkrZ52KEmQOzFslkJoCTknROuPvGsICCYkiSdJNkkKTlJqk9yWb2smvtXJekysbYAIIoSpxdExwAxO6z6TCYs6SKcQBQgEiq8h0XWBFI3HW59JhknhgSIdDQjNMaCcUZKi3iEplxrYWYIuF0mrBKp8-PiiaNsCeiJhWkpvl5Ky5RS2pBkygReX7R71LIgbZkCQFa72QAADOoUOjxAYIzmMafu3OCUB8EUaMaSoAmlYhrE8MSPONK0DbTFiPAP2HdF2ktQ1BbgaAndnmmtBgBcBBxrqNGl7TlprkVaTOJo6PMwaNHM6WW3lzKJVpWvHUfn1HGWAF4t0ngU4CJA1RA293SnktK5B-SVp4oVQrcUWnPSEZgLRcKtLu5+xDoVQ+0DBBkBthcuIYaNGYPi5yJ7oXCG6eQICFPTouGMp+InXFCG0BW+nTzs8wKL4zHAhM6QG2CM5ZDmx-gbmbzLbCZDUOVRBdupwSIiyiZ0MtRqONvCYgJQ6IJtj51KJ3SipiJWpLLL5kHBW+pg4EPrNb7h8Dg4YtRMwL0YJCZZ8MUQM4IlLe9MoliOUcQIVH2CDyno+2ez2gpuDeer4X0WpFWHpBdZbYMIV0iQHZCPghEJELkJtJz5XOKYlKMEBDmpCrZ8qHNJYAJlyyEG23ZlgHJphFDa+tuDOaICzl6zyhDox5CEWbpCj1ApoFDEDJAERlBprhKUSbWsH2RbBio4tMqNfEMRNIb1S1CnRx74I8BrfbWMQHWIujtJlo12daI1Fz0nx-gSIJ7MfExCs4wgo2ZEDtgVI8AO8feSGEsTyiXZ2AuwQ6CVEyBPZpMj1IPLVHDyyJ7gpOSyynlXjaBfYgIGHOqg2j35dfOwgPy1F4JG5vAy+S3P1LrzmISsvBKrJOKZ9NZoC+wnvIPkwIPUQ4kMSOJERk8tyyC1TtXKYEPSoBK80BepyDKDoSAL89saoAd5y8DxpDb0ecy-GhjhWqC78eP38D-hzZ9eKhVWxcL5jbpnCxOVRwAUBRa5-Be4A3MoVg1qFf8hMZvKAiqAwearNMSIvrmID5FYNRHpKNACIKd4vCtPn1mLFAVCxs2ENpPJ+LTyLRtYh4YUlrGzYhZyQMhWYqvFQcrFS8lIFB1sU-yMSdhedswv9G0SnAZ062F3FLYwZkCDSLCrNDOnIUXm94SCQ8DOmoDqWCSzxj9IswJLnOH9RnGXxhm5zQA8iMyjIEJm1BoMtsq5ozAIrZKPGoXcOoaECVnSdx6bMSIVNAAviqBLEk2veCjxoyYeoMr0ODN0aQzVgCS5xCewcViQPx0cCKGMvMV1Ebx-UuxUUDMixLDcnStcQkoWUpBWlF5E6UT1MXjLQJZ4n0cONYXoJMEJnf4McDTZYh9gqShxDGBzyLh1l5SSgofUAk4oOR0yjqHyJGl+THAcksCAABlFaakhcTolmn4MrA3Us6YCGaU0KEixkuwbeDMkpS1WVk0yYGmhX2SYperDyXOEDaAhPGuK7pQSsMK-L-lQK8AKFJ+DhTiVWK3CoYRKnj086oYOKRyISlJS6Vfw4UCBDOmZTFh2ECYayp5HbVpOPKwNnyp5HYRqlewWlbCrYHFTFhpU+QOVOShnTwqhKBOrUsDbyyKBcq7wp1MhX2VMVeqoaaOPuCxA9p5ra8Y0pjTzKW5qE7IAQRKmsiVVXizeKlXCiMr5gdQ2kfgnKS5SepdkuZZzA6nlJ5xCdTFcGpWyejCap5UkaONjhXLOG1q65QaIdUt825F-FMBjXsh4StOSgCNiBETXmsN+xcoedjzInZqjIeRMcRarNaNKU1nDNNUSN+ZVrtkB0gRBGzjU8iZBgypFbdyLGdCURqxDsUhIgyigRBHEvkQ2hxCWBA1K0rGaZKBDpS-4mPOibd0akE9j2JtNifZHZXw9GJm6kngAjCbp4Eg86oCTyOtrsIhVaEk7mlPym0AJV1Q0tUTQRh08fW6U59dkD7w+RBW6U3QPONPWgyfgjU9NZHNjlelKGgMb4LiA6RjSk6dEnVbDJNr6TrESy2QIbmGWTA11pkgddFNwqt8AEu6+wKZMSkHrkpBGtniepsAgbul6a69bQlvVoj71vKrKWz1UDvrWN4qrKa7wKL1LmIBVYDeep+lEiwFjszfiQomTpcfpTIRqcusfX0qh1gSzdY+KtAybtVm6vVul3k1Hq8GwZcUHlO8mrBVN9cWDXOrA2Ial1emgIPv2kBGbep9AaxL8oCnyTFJKkylZMBc0yS3NwUkFf+sU2AaCqzQBzb4n1J3QQIFQUZvpsHQabEB6SszbOvg17SrNSK5DSMpNohbiVzm8SX8sBXAq-YZK-Lf5u+mBsgt4VLLdCvC0oKoto4h+tQChn-0YGza0kRkrvpQMn6TWigLN0EXdrqhererVDMgZdbu4I21OPsWLUNq-6tAIhp4GIBENxtKfQpH1sdX9pONcVV1jsUm3XKICM2hrbhXBUmZCG+2xRGg1oYtae1bWxUjQ2BSna6AC2skWcoTEHSqRbwmkd8L9XJRttyaghmdqEB3aHtF26oW8CW2Cbwqx2obXwhu3daAdtDEHa6SsJib7k627ah61mjfa+aEOg7YBRYYfQqm9qokQysVUuqHoaCb0S9GT7FYuhGO+eKIFYaF4k1+wODhstDAvKJx7y4VR6WRAfBGyAEnEBzrQmBFk+KILRJgi8ig6VtLfZHe+prTUB-WRai5QoEZ3vZcdCgH-oOhI6dtu2GKNKEDsdU3RjyxOsqaTsii7lXo3kK4HeARhKBZBQ9BQd0kKRSsaIhMZQX3RQJ0DvKqw6cuIEXmuLQIEECzotGNEazV+uxYXUtpAia6WOzUKVZqLZ1vL0155Q0ZLONTW9JdYyFHZHqY6kdtdXSLbYrvrU7bdAUesjsXHUJHikIqDFSg0OsQABOPCPXwcBaVE98IhMkdqb0ND01idNwNbBPgGyN5mS74FuoNLCdNIdgDIlNJNn+BNKDQxQOq3VazQ0AS+19UJ0wUJCZ9alVIUPqr7T6O9alLva4GlQlS7MhMOwOhBPwDwi5UYvffjkVWH6TCugG0Ouw31eVRxhStSiUvaAsQdwcGvXRmp4aS7pdG26QEUs-3XZ0dBe5XVRBAMf680tssmgAiJDrbC2isaxCBHNakb1tleQ7YOhXbigJIXEPEC+SeHtKL+SBl-qbTUCrhyDPwXtorH1KY9MyNB4fQEBf3bU0I6EJ2LiBzRTMiQbDDaEFXE1r68hLzLNdYk-a1A12G7YtmyxoPmMcIUqknmwZAgcH0I+B0igJRfKYHquqhwQ0oZv2KBuWVqlMJHNNlgbIu0XQzXPBMNT7zAcW+0HJvSlAhDNF6xcBZhsNezlDkk9KTsCsPIycQUY+QJIBsSxE0AK+muMIfCjKHdD6EDAx1AYAxGgqs0cIykBf2J60EJU11f2LN0U7aERhhtcLpljmQ7dtIFMAaMA0+7QAjgAqoiGbE06yjY41VOzsT3Gpj0wvEMHgYIM+hiDYCyuSIEQ5OArVNBswliCaD3AhamaiyCmHEM2qv2legY7BImYsRWW1XbYgocjnGxCDYx3mmc3sivYQx86VvtEeXIDGWljS7QxZAEM7Q1Nu+6vZvvyPXLrxxUUnmNGMDFDjY5h6gG5EsOxcnjrfewz0DxC6aXDYG9w6Yf7nMQtjxZVaLsdAj3AaiNWWw9fruP7AVDqhu8Y5t8OxcBDHB647kOKGQaigxx9E3EYOUSwcTuJtnmkanGerFVWRiKOTr5IPHk1XY23fINKPlHITHu8KrUfKT1H8mfOy9WhNaMOYoNOAAY4zrn0pdnD+B4th3gABCrgSUIZsjw7F5TmgAVdWxAjgBZAOQRgHlB0TgHQIck1aQGlAByTqAnad7DwEn38QF9cJg44ibwgSmrV6raU4jWnrOgXsip8gMqb8FGmQI6p4gJqY7ywhrdjAHYjBEoAAAvYEG62PT2n9jCJutC6YbVunbJosGQMCH2AKmlTq0-02qY1OEwAAbFNLLO2nEz8JtcmTVTOPH0zG4mU5CC9NmVRJITO0BGdmiSTyIdwSQDsVgAhmXs0APUBJHFABodiAAWRPCgBJJXEd7AAHYAAHAmdmhVnDjzptjncElP1nJeHphoM2biqtnWwWIHYl2eKV0Bezs0fs4TFDNqBwzOxXtiCFih6nY9lZx0ymY3ODG0z0p88w+BzMvZDz7Zk892fPN9nNTKAcsxWZXNvnfotZ5NdufC6iwqgWIPKEdyAgd4ALx5zs8BYvOgQrzugXM76fzOqnZoQZl81BeTM1mPzW56UzFybMd4AAYgXh2LQA+aIEAACIDmzKQ5xoCObHOdmcgDAcAPjP9Z7Y7T5F6s+uefbUWMzu5-c9tUYsUBmLrFji9eZexhm3A955gI+eyDPnlzDpii5Jb-bSWGzP57M3JZAgKX5dLFnYipd0A7YAArOWbEv6WJLWAWC-sHgsXYkL+phwFNAYtMXZo1l2aLZa1M+m-TxF0CKRb0tJnXLblqi66ZouGa6LL2HojBF1TlBXAOxAFQrB2LK1VLZleU-wX51qm1KEAVzOactNutdA3KTYQYFfMGW4rUlhKzJc9Md5Ur6VzK7NGyssBcrnFuKupcwugQFATfSeaQBUbBnorq5p041aMvNWTLWZ5NW1bSu2hOroEbq71cJjcpHLZZ5yzFbXMzXNkxlyXhMUxA+XUL5l9qytfl3rXZoeV-C96bzMqmAzUV3a1NbrQHXNzc1yXrRblMvY5JuqI7vEA7NrXb4DgPq9tR1OjEfLhpvs-1BEmZyKrVp3QAudtN1XxL+19y1KZat7mO8-1rcBoGBsgQAVoNkLvdbMoDXCbD5p84NZAhwxY08QINq9eguGXDrX1hC6ZcWt-WAbBNrKyTc1M7YILTNhq5jc8uIXTrKFvy1zfxtA3ebhAMG-lYPNtmabp5ns6BcmvM3xT8Vr8xmZOvIXfLaFh64RaeuFmJrZNuKgAHVgQDQQgK2BsqzQlJLgQg2RZcv7WPrn5us4ldlNbsO8ltxgNbdts7EHbGh8G9qbSuGm6AkeVi30VUCgBRJuqGOxaatPq3hbWtj29jfMu+3-b5QO26BCDtO2FbNbcUBxEnnKo62WeGeJGdTSjRnbe16ayLe-MLW-zZlTOzbezuB3Hbx5wmDwG2s7W0bLt6a27aOsIWfr3tl7OAFzZlA+LoERWlF1NtanzbHcaTLNHADNdowoAAFZCiNM2nk7rl+u+nY7zj3mA1AKeyBBntFmzbNbUJhdNWI7Em+0xfADsSyYXSh6Ndt6zBdTtwWG7v58y4fcnsBmz7c9ucz3aFu72P7Hl7895YlsG2zKv94+--dnsh2W7Ad+2x3YjM73Xbe9hsyPcBAd5oA2IZcfLotNRdv+F9kCF2YDDFXZomtWO8CEQzIyhLmc-1jwGLPoO67YDrGw2dku4P8HqaQh9PT9Yh2n7E0m+yuc7ZcQZbrD9801e1vzXv73D10VYB2JEOBHXdlG73fqugPpHadky5A-1vmW8HCjvh8Q8ROkPYHJ9gB6-Y1uD22bq4bB+ZcknSVgrogc264BMdanIbepg0xFZAhKTJ5IgcAOGMsDvZ7Lkj9+1o8-v72XsDjnRDZeceuPBHRdokMdGxQ7FOuI4bM5Y5TvhPwHOtxu-Y8cegQ2LcTtkZqa2tOW+7tdqR7NZkfHXdH51jvNE+kCxOXHJTguyBCQdt2UHwd0J+oUweS9CE4oL41w7Uu3mNLs0KM7Gc24h2Kbml4+9TbQcgOMb7D0WwM6GetWRnsQO8+M5jNxnpnozmm8NcRijXxrmT2K304QurPHAwz8m-s8ptaX5nezzZ2M9AhU2dLBz9wP1EZsVO37vT5Z9KcufXONtiTku3TZJCpO7w6Tzhgk+LvJOy7oEQkCCErulymnPTzSRQkhR0A0rQEZg5MZaUzHrlq7b9tIa3ayGVjFkNY4oewkm0XC7ifk40deX86Wji46rXPkzI0uq2su+6NpNWKBGKwqzJEN1BTYCEhjxR9k05AaMO1FMqcLkwQBqPTraklusJooPi48Nekkgg+kfRPpBRwiUBetOi-oBYupTHdDm-sFOuA2qILAC6YTBL257qo2QC6YdTa6C26rv0PAPXeNd5OzXtAC11a+L3Z6td5HL-fa4mmOuBb5TxM1CZpg7QgAA')">function execute(exp) {
    return evaluate(exp, the_global_environment);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p17' class='permalink'></a><p>
      The
      
	<span style="color:green"><kbd>always-true</kbd> special form</span>
	<span style="color:blue">
	  <kbd>"always_true"</kbd> expression
	</span>
      
      provides for a query that is always satisfied.  It ignores its contents
      (normally empty) and simply passes through all the frames in the input
      stream.
      
	<span style="color:green"><kbd>Always-true</kbd></span>
	<span style="color:blue">The <kbd>"always_true"</kbd>
	expression
	</span>
      
      is used by the
      
	<span style="color:green"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      selector (section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>)
      
      to provide bodies for rules that were defined without bodies (that is,
      rules whose bodies are always satisfied).
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (always-true ignore frame-stream) frame-stream)

(put 'always-true 'qeval always-true)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNA8QuFE3OIFCqGIfRcgUQh6GIOhKG4Gac14i8EjdUUQS0Cgsgmqaalmv1plKdaXMbFCxu26a9uk5pRTocgFDOxQdpmyh9pk-LCAYQxfAUFh8BOqijG+37G3wGQ0juh7Joul75roRarvdVINEIEFuVRcbHuh16ilKZG2F8fRhvzUb9CanLiAAD0IQI3GcDGod2mGWjh6w0PQ2cQNBhhTsMfRyFIMQGEp6niFpo16aevbYcW2woOu1IssoYIGAmlhqmyugJax6TSiJ9cScV5XVfV2KlYYPHqDRunzsZ1nmfh-15ZV+g2NRTotdtnWWjXZ2RGoN2tsxxnpex1ZEYYNg7pYYRyCFqmacMa2g+e0PYlKRLiAYMnNcjn6Y4YRcKHujbPqBv7eZtlO2Z0hpc+j2PfuEAnK6l+3U7DcPjHaGblEhyWXq9vXPraAtHDGrvR97z7mC0e7Zor5PW4W9vQCd9gPC8D2U8Hn31+UTeW7mtuEdFQLp9GuewUPlfdZ9s+Pgv56t9mkOT6R2mxDoS-n4H-1b5+c01BP7f0Pq-R24cKjKEjpVegP8b7ex+JA6BGsf5gINMZUgplUGiWsrZByLgvqzXIBTDyXk9YdC0IVCK2dBCEBRgTZE3B+ZiDCEWd0wo3ypGptQBQ-tqA5kztnUmDhfwKkCrQ+hBdSA8L4QIrOlx0aMMEALMINF8KEXYe2Z2UNyjyMGrA5EoiGjnhphkMq5CSbZwYI3BhIjq41xWJTLQIghZwzgvQb+hkHGJgUVVQuEMNq80MfY7xBpmGGBCaE6YViFruK-k-Qxz5CjiNPvxJI3MAamLYL-PspQz6nV9s4sEWScmhmaJ2DUyx1EngVCZYIwi6AWVwXZRyjVfHmEoL4EgpCJH40KrEc41D2lolBAwLmPNCZUwiW3NhMRxE3GxMwwEAA+BB+stB8wFiHeaUynRDP0S4IebxXbOHdqAmZxEUmpEoKQfgqgCYWI2ccvh9AfgizYmjPuWMQ4r10msihD0-YB19hPJ+180HoP+STZ5wLOgbVujQARcCQ7hQGsmNZw9u5jyMJQBQlBpnL1ma+UUxBJqdMxZPceuL8VGL4itFUH41S1D8tU-4xLUiRw+OfWeT8Ph4omLMlY4jHljSqKQLlD8eWzRxfy1my8WXHiIiGc8YqJXUoyeueKoBDIitJnBNVj9pV8ppZweVIZ2UMHyQDVVIFjUao3EtA04ibXTzxfa4gfl4yKsFXSgSQ9QXYq8bEGmtqZ6kuerzY1YRTUs09QM8kgy0UsQ5mMsGDhAGfylLde6rDLlpJcAs-Q2b4qrKhOmj+6o4TcGLaos4Sa3KGG5IwfA-AGBIP5hrBeDMU5Eo4aKANvc4GOsNO8Us1KWpAgHZnSV4b55wLjXM-N4dSWaFxFOmVNKg1-PSJkLdaw6EzUGI2oQYzW3tpge8PV4rQ2GrBFGzcW6DTHubWekwyDUS80fX2DOFKe5jRDdy2d+KN0TCSYxb1xFklLtFOelB19DKHVBPoWDsUvo-T+kOwyzQd1sBZXWrANCh57wPovI+hLiLnhsYyYj1j8BN3neSc8e4J3UibaekCKHmr6BsYeGI55y2J0zaERkKauYCaAV+ZjvHlp+pGhsmxOznHCFcTmOJ39mORKiehcTQnplfq00UZeez63mCHvfMNIDSMh1mfM24mcrWav0Fu3VZ9hYJyTt2peLNjMEeGRijN8TpXnPI4x4quYqKMl1QFy+7q44izFprcFbc-IBdLuh-6jnovPTS8DZF4XNUooCku06qLfMHIxZx2BwWWZEtSFYyriXSPWFwtqkoUKNn1bfR202+AQXMFmm2rrF7kXOZZuSNYFact-XdchobGspuB080zfTji5NjQa7FtzotE5Vaa5pgzsQjOlbwNnFqchFAQBgPAJAqA+poGJCZ5IHL-bHTgTZ6DqR0g-TIG90AAAfP7il+03OqGIX7AOgepF+n9fojWlvhAhy+T7GRFv93CLERH-p3wVCZYMa+qKaFHU2jN6+kRChFfpSoUjpWaGimYGICQymOYbp2H0e4YhHVXILkuY14QABkfPej9CPdS8IwkgSUDZ-TmnfmboQze3myndPyAM9qBHJD5zwTFqoY96kZcQZg2LQrinAk5j6AjNfHztP36CcC1fJr72lfXJV4z9Xc5NdZdmjrmhnvbX6+N1BynZuIzB7rEO-k5wfcVpiwUrbCWA-BqXaH20FumsR91zBub6NeeO4Esr1XTOkPGosiWIQHGs-OHhP9wHSP2eu+Z8X0SeZpEOkG1A7rleEeA8j35jbaHcs57-OI5PWQR8bsmOnmhG3Y-x223TQfyxh-C-N2HzCov09lfRWtKO+c487c1gvxPTu69q4b9Siyddd+z4S97vzl-Y7+OLmQBbkbRdsNs9ifv02ubFu4GP3nk+d+O+DcdGBMh+i6Qey+EYa+eKE+Mu5WqS9KgG384BMmq0zuBebud65+ok5mt6t+5Wrm1+++4+7+SeUBYeAB8BW+qQMKpyYEb+iueeGB9eReOB4IdBryjYe+ne1ekOJ+hec4jeHBLsLyt0jYM6l8BB6KnB4hUitQlsJMqB4iKagQMgLOoAeIxmNCshPwlII8vKjBi+S6qhlQGhpIBOfmuhjYcKZACK-CVKsBZBlOph6hjeOgVusuqQ66yhH2AhWBGh4IU60hLEP6Ph46S0KhSGQRBhY84I3A96lh5WU6yBEapBEQsQxhkBIwMBL02hfmLqkhhhsqzhpuy+iRdaNCAGRRc696pRbouRtaPeCBqQK65K4RJRQ+fhOGIG+RLREc6wN6Uq2BnRWRzBaQKOK+D4ERnh-RxG6RJu6B-hZ+eKFkxGIRbkNGNiCxgeZRORlB6+1BLEooFsVssCvhx+9OrBQh7BpxGsGx5gMSxB8+RhR+exgwuRgB5WzCcW7m4sFx7xUxWQnxG+J2wyZ2bUl2nUN2PUlgGe1ytykuBMFMnOfh0OHAQg+gKJrWf8oAJC4u7Ity-wikGCWCFMaxckGJhyVMJgWgwgAQJgxADhwgjQOum+oRdmeiyY+gj+kgZA0yCmFyixIyc4IhOiLi2c8Rj6vJgS3AgpZqzRNB2iU0uiQiMgqJlxLup+SGMgJemMqpwyDxLgViMp-JpMGpAkrhpM3AWhSR6KVi2x6pueboVpupoAFhlRBRwyKmamCSFpLpoyah1pugsx6KP6DmBYGMs0PaTBAZopEZxA8RVO0Ze0dpxxqQCZ+gp0-pT2yxSGp0FkCZRpaBjABSbwRSWZVEOZQu+xto2ZoZLEPcXwicdAgssS8gduhMNWsZLgEYCp7JbkLqcg8uIWuxboZu-ZhGjgzZmcLADCRcXAFy5OY5LgCEpMC5hW5w54kumcbRuI7ZHiz0jIOGJwA51wnJw590gM6W0yPM1Za5X+uolEmqTRZ5xpC5L+65EMzwy5bx45y+l51Enp5WgF7qQSC5P5mRK594WQgFDZQ0FMSmPpHZKB+ut5nQAp6wu53ZwpwIM0Ygku15wMrCBJHArZhFa4SwoYpQa5P6gFRF5cz50aoALAWFKmvyzQZFBFqgDFuo4QAAPHheRTxZRb8jELrJgvUuCAACpySCRCC+DKJiC8CXwtQ0h0Igi1DNDgigAADUOJDiHw0irZQoYBaF4Q+lSZOl+lK2MQRloOpllZfFYlq8LQkl04MlclMgxA9kSlKlEa1IWIKM1AWlokelBlNc9lJlMgZlN5FlokFk4Vtl1IIO0VBMol8F5g70C2M2j51mxEU5OYEcck2Io50Sfmz6vF6FfFPqLo3Rkxj5VFNcuscMxVRATmWmTZ+ALZbZbiKFT8RmK2zQj5KkQIZujVLlAYNZgwolyVw1TaQJVVdsEYGVC6-krYHCC0o17IbOe5yFh5e0tVhm7lvFTSdAv05QoA2u0mXqBENSfYKqC5jIQ5C5XZi0a10FlVoFjVX590rMyViYH5EycFN18a8YuFC0bVpVsa+GUetuOVp0p1+W+V5IhVUNb1w6PiyRC1jVTFmNdVx+PRE1j6LVRV6I2ItlXVPV+1nZg16Ew1+u21415l+mpQpEZulFz5k1YclVmE5l1odZGFYGXq5qm1cM21O5QsZK+5fVB1L0R1hQdS04eVOC51LaIgV1EMPSvu-SR4d1SqD1YWgFz1+qIE9FZqfY4iX1H5P1cF+20EoFwNEFoNeECaENrV5NGNx2sg4JrUF2HU123Ud22Ab54c3CvCiKgiwyDSkRfhVx2pc4Si4I4dsiiZfR6KKdkdDAPCKMQGKChi9RLgY+iSpW54mdDhXJH6ImSGzozO4IcwSZsQcwE4-10wddHIjdMQHILdkSddCEndk4cEPdtd0RHMA9HMw9bd0RN0KOSZM9mQ-ordtc0RwUKM5AvgSZq9kcilBoS9RQddStndStfYe9hQddNwku5sLAhg8RF9qgV9LUKwp9sQddulA9sQWJ3AvgYuqyJC+lO9z9MQdd7k79MQn9oA39KyeJHkEDMQgDwI0RVa0w4DkDAIv9oAkIsDoA8DddwAoDBg5JEDP90DYAADvd0RAApPgyg8QyQhQ1gzg9EeLu-TQ1A-iSJN-eQ6KQAITCQsOEOoPoO8NAicMj2in8XUMCO0OgCCUxCiNT3iMAigOsNoPQP8VAhENcNgjgjLKSNf3SOrJyOMOinLJKPcBFAqPoOmNGNaMQjcP4PQOFCqMxDcOxAonOhOhl3SIR0V1WKNWAghiFpzDcDl1yKnaeNhahNR0HJjIsAABWtJE6gTGgDSUDfd3jqdSZxdIiD6fYUTldzUToRUo6PAGTWdpe881dc4ddFSSZFS8DB2CDopkAdAao-sG95jLTbTnSDTB259VA99sAkAndd9DAQzvTBm-Tl9AAogPaM9MxM1pnXQAHLkDLP4OrPLPc06QRMlP5MVN+43kBMrCFrCiqNm7qkhNlMV0HO1peMyLlPFRl5gXHPTCnNQPF2bilMPM3NPPzxFM+4aW4j5NqkOBMICwczVl4y4jVBigfikD4yg4MBxPkB5iNrSKaAdXQT5M50cCXz512KPrMKQtHBFCw0VX8QfQHmdnVlOKHo02eLQTIyHo8nXNhPem40RU1z7N-OHPEWLOFDMsiCss-PssxP4DxOJPcAA08ujrPN3n21FCS17XUuXw+YcACCS1iBfCsXcGy126MjARYgMtPxFNgkHIQn+1XZdS3aYC67lkUCmAMDdwfBVQ3CkCbzN7UBPjOm5lfYsA-Zj5etPiTAhizAUEp5h7Bt-AT7hXggMDWUpXGViCOVBv8zesxuhsrDNBpst6ZtpluQTQ3DDz+J0k4rJu5q4XkDKDKAqUZAkxGBMI1vEMtT6V8w1vbXgg6WlBduuVWXhXVvKACv+hdsJGpUsLp0sQOCFzGDlug7gssILtwszuFgRD-i4VRViBxsQjhVFuxzGCltSiFo-HTv8zGALsCqWXWDggFvmCnviqZwbQKCbIc6+vhw9HMKpw9s4baTTBOzM6fugAC7SScITGZCLWftd7TUQcCxyjCOiTFDwhhsGBm6AcEngiIeKSlAOvVsgQuuxTuubyfsklaJ3HoyAfAcThy5XlPHxYkGQe-I9s7v6X3vGBMBkDPuocqIvuxs2UTg6WJuPmprgw0fek8GwKQdJX8dhUsd0ArvsekCccRtZDhI8e8deLwi-uQqsdjRiSghJnMLcA6cKc8SpxOxrnEdTU6cQj93cDM5ccc4C0qewd2zGdPtmedzjs8fIfggADkibSyll-nIYw147jln7t7DK8n3cpABMMXkDPZ77kx903204Zu8Xw7E4ddQgwgVlwQVldkWkFk5oaYVltyHA8IWbB0ZQcnZ7Y06XBYsXy1YeGXRntXD7JnHn1nDXZAnDMF+grXNX0XjX39RxbkKLaLygGLIEBS1MHg22kyhA1ZJxGlih6MwsX7TT2jZHle3AtHfxmsG3irhQhaE36wU31AmgsWc3vcbgF7i3E+IX77I5VMm3ddiHCR+uwnRuG3HnwsY35g8XpcRCFMUi83bgD3vapHq3Zxh3r3mNKqHLjNQIIYQnP+8u+3c+sCv3caXj4Pxgym4SjIhaQPhCzAoPN32293OPYiS6fjyPqk-dyHa5ZulPbgau4SdsY+bPBP5sKij32bbSMTI16HY9zP8gt3vP4ST39P6WnbZ36Ll3M3VEWnOMg904svwMx3sQp3qL530313EvVPSlvMv3Hna5mvf0Vz+PHP-PCq+tmioHP38PPqURopH3eu6W33L3S30mrKrvS6-3bt+y6KnSJAkPiXooa5G3yHE5r3T3Sti3Z1eCrS4nvZXSadkXyZRSpvr3b7UfS4MfU1fZ8fgvifwsyfLS1JdHhb9AOfbJcNaYVUZsAb5swgFQgwG3b7YfY0Xf6HJXdUWfAwhP7PmkVU2xXfiXZu5ZaRNPIfHJdwasfsrZlZebHAz5G4b7a50b6-+WG4WfS-bErZGSa-Y0h-oO1ZZu5-rZk7mx1QR-gsiN1-r7iXEYz-t-5gz-2djA9FO-i5cFb7KsJ4D-57cIKWfOlsKxAF79-+EFLfkuB-TP9V+GbXftmVAHfkAeuZZvBH1wr55riYICvghwb6y45Ws0b1hsgIGAU2uF1FxM3gYDqARAHAUgI6h0JEAHkefSDLEAtRYDfuCtWIJRnv6g5qMAg4-rC3NpUw0Bf1D6n+VzIVJuMwgjnCtkDBq1dEtA+gcIEYFJ9Wo35IalTkIAEwv+T-eQcLQGTeoLU0fF3hwIJoCQ1yuQPQUMGXy-duAtggmCX194u1wMDvSwUUGFRUw1qDEBiOImcEPcMBSbfoAoHNgHoXEFQbel2DZDRD16auQwKSHz7I5wOhgLQsh3iG+BEhxIJ4E9xZ7lEtC2vMBi2xuRhCIhJAKIQRASEi5Agd0MiOkMy6NNYgWQnIV8S3zRkEW-QORK0KPRxDqh2Q5TEkOW6pCwIGQqar0M+i5DzeS4cakUK3RPAoG1QDaBiR6EDCpQkwpIU8GKGhhFhqjIyuUMwhaEN8NCA4fUJkCRxcUKTJRJW2goXCqAziaeHUOfZnDwhpzMFtSHaEsR7hlAR4a8PLZhCRhYHBgs8M244YnuywsgKsMzi9CsW-ocamULugCs9hqyH4X8MREvCMRDQjEXAXJblYIBymIUCClBBPwoBMcI+AAIoxhZn+Qg5foLFEGvUoBcFPyFzlkHv8sOLQRCiyzJFUAJBfIEjhxHhQMAL6XEAwQDHf7cByRfIzKquQeF2FhRVALiBxElG8itBf1N9sbXQ4yA6wtQHSj521F7BdRCfdoO7GVGsQqA4QZDsbRiAQjUgWAjiJaKmoEjs6YMSkCSOlRmipRao-kYLwL5wQeSFooDoLj9HThyRm3QUfKJFE8UIwDonYQaAjBhi4xMEOUekijH2CRgsYgGuhDNyJisxDtZ2k93BAGiOAuXEIT1Q1Y5R-h2JRLmuUIYoirqKOGUSoD6D7xzYjAAfuR1H6ohuAQPM0UD0pGhYSmUYy1KLDMSMgIxqYxUTxV7GqiOxzgaVs0L7D9iwBuFYcSUk7bFijRU1cEYL3LGSBKxGI7iFOJHE0hskTY3gGx3v6UwAx8tSPt4S86s8LRTY9KE8LCE4g2Q3QZIVSJKYsZ0o74zML4A9LQVscn4LsOEFKA4ZXKhgEIVeNB5EhQYN4x1OeG6CMhHxL0FkX4SwHdBwJhA1yt0FKwatQA0lAABLTMGAAAQXADgBpmAAJWkqQAAA8ss2QBAgTyuubypxHvpzjxYE4xpN6OrIXjM4sEm8fCk24vjYJHPLsVxl4kecXxnQGwlJKNBZ85JmQc2IpMvTVkSJZEyidRLomMTmJykgcBJJH4aQP0IkuwtWRfH-DYJDAeCeoRknFd1J7kV4UQJAr381Jpk6SSmL4kDjPqWIn4YWiDTkiVKKyL9GoBMBeA2xHkpvrAmCnmRJwvwuwtKOKEcS1A0UsfjxO8nSj1WkgOIBkEzi5AHAG0RkAAAZTyNCGoPZEtT5SKhqMebNQEGCc4aphUzoYyHK4FT1axU-SniAwmU52pzsIqWQCz4-pKpJ-ZAWNCgH9SduOUBqfeSXAYckya5KaTD3qn0l+uf-XEfPzciBBi0Y0h0KkGqDZB8pSEsLMtOCqw9s6poK6j5WqkcBapa3KqA1JSio0-MZQzOPZE6CbxJ+IYLnNwLz4IZ5KdwUaX-00FnS6psUWaVhjDqF9S+1FdXubkCDvTPp6YzvvDyTFd1EZDAD6WwE3iuCBeZSTkYQDwzQU3pWM5Ge1KbEVBKhoQMZHD0ICURT+0o2ZDQlJnYyvp+NR3qKG4G0oscm1E0VkCgGOheBVghokSSkF4QIMj6SjLSIf7f8s4r1GAegMfSsjGUXobjNs2q7ajCIWY8MJjLZlyC6RM2FgMYPohYB-w-vLwcBK4SF9HR0EUoKzORkTk5QAOQksQCRk4zFqjoR9M0C1nGA-BbtEmXrORkbcQhzookVNFph-AkBo4ZGvxNmT8C6RMspFgyPlxMiVxgoDhK4xAm44DZD-Hmd4KXQOBTKCozibnKRaGC6RdsPMYUDXDSjSWCaUwX2jtH8wnKv4KJHgEhCdzlU1I+QUnJEE-9GRnQOuT9KXRZyOwqsr8OyLtk1di5aYkAdXMKBijHMEoheYDW0HQRjIXIyAemxjm1z+J9vDRK+CpmHoFYmsPeWnO-I-kO5XcoVEuiLE6jSxDczwSPMpwEjo5EEWOcyOD664i5MVEuUqIXB3hfJ0g70RuIfmq82s98w0bl2NEdAsghAQBZt0Aq2iT+PJLQlyzTicikK4c7qonCjkIKQmQCiCigvtHJDkOYcsGBHLwWPBCAd4AhXHNADXzIQKCtcggv5zBjrZ-o2hZt1-m4g0xMY+YVEhjGkh0ZhQXhf-J4qs9BFi4ooKzxEWrzokBYwXlApLE3s8RSpdqTilvRAj46ghbArekLL5TiybwKBBeLpgUy32Y+CmR-xcD9TtiFiu8cCMWoRhrFb3aIp0A+m+AESBYJDoLzHwuLjpJwvzNC3Ni3T-0+UnsSN25yJSkgkS3rvLO-LxywsUCWHGErakzQIYe0v4AdM1gUy-I-GOgMXPXEo8Jw4itMTOJiWNJq5Ji9cCQRSUnoKZoihoMuKVnQVxFxS1SJuJgXbiUcCfNbM6xG5HS7p2xepYwEaWPo9xSsRgP8PaWjizxOUgQFpIYA0TLIAAGWmYsSGxmQcqQUUkBpT2pvMXiUzMS6CTv+FQCmOZKSBiSjJH4CmGrgOWXK6AskgcPJLCW8wbF4gF5apIeWaTSJyytZRssMkgRjJbyx5dWVeEVCWWQaKyYeJsl2SwVTSooOCHanOSMR8IYoTCueEQgPeyK-KaiueGVcQhISh5UcrjmJcIVAUlJkGnalQMv0IS2OJovakhMsp-ElKXsvvokqWVINMsbi0zjxcBuUS0ld9RxFvsKVlwwKSsE1GrJDIEKoVsplhGPo1QJkmKZegqXwpkpj6escSvym8w1VSU-iQ02FWgjQ5-S-lfFz5GvikRSSkpq0GRCMg-xPfAVb1ztjggRUAy3rrrQgLjFZBtqkRByMTiTQ7pZqkbhateEcVQAvqxrCmWAyDcjVgImCTkvOUOhEJKQp4aDhRmISoOXMluWhKCXJElYgQdKRDMYDCTuJTyqHqB1gnJqy1+ckdFSBQlAg4VWYBCTWrWrnha2mCbLGWstVCRbKmKt8d0EcmeT6A+KsIZ6qKClQcQQ6lVaOruhSk8mS4MtdwHrEdqdpIEbtWGr96SzwaipFiB8GCD2YapsLYSQ4sHFUheJjIGpWYtgR5LyQFqKtfgu8m1q+BYWBte6FuW2Tm19kp9W2uSWJA11YSnta8xrj9q7oU63AnipcnuDJ1g6iDRwFnUKB51oYJaREoMDENV12WfqZuoPn3V40W08wMP0A3Kwy1fMdSUCM0U1qMF4lQQO3zCWkbh1Typ7oRpI2trgK6KZjepPo0qrHU+6wtd2uPW3KuNGUp5fkrCx-RlVwmljEsp0m0T6JTE8AH5Gk1UTZN+kzZRZ3UnLriG4motYU16kCRwQGINRburciEbGVx02ZLxsPV3SBN5yoZUBTrUCBtNByxkEspWXrKFN5IVzQCrU1LgmVaGqBk5p1XSZxEBmrwEZvhJS1V0vsOJtHWFi3CQF89LIHFo+Uuo3gMWlEIt3i1er-yIwZLVnwAxpaFEufQgFlpLL9c8tbG9MpFvJTBR0t3JZLamp6IVbjNjxU2m2hSB1b8BuySxQ4N2T5bRYHGDrUVsy3VlXBr5CqcQDECjRlM-KhrVP160lamxaW-AIdMK0ohpkcaq1Y4r2prbuSu2zdFNU20KAnuy2w6QVvoCdaF4dAS7U0MOymrBlqWi7QoijI3bIIB2I7RvknXggcuVlN1fFyTKnaRNuuWrSts1i1aitoakVdtulrtbDAnWumODvW1gjelvozodCMGwxDBgQaP7Q9ra2I7TAyGIbUjsh2gi3tFjYhiDrO0DbYdl2wnXDqK3-UWs6ED7cZi+35cLIOOj1ZKI62g6AWfmGoFNo2ThISdgI0Vf5PFVUrtwUqs2QaES2Ex7tvXItJNum3urYuL7aNAotiCTKDxWKkGrLANBs1QcFY6ZYeLgpmzAI2GFHGTqRA20cRqKL7YV1+0K7YuSZAXaND534i7ltbcgewIhprZNBWrHVj8FVYpwQhCvC7ld0RrC7vRPa3iFbXF1UAJV-oaXaGEpgmB+AY0dSP1hoAkxkqDnZipQOSpZk9uP9LMYnxzALjFxVkGyFXwSnhZSAPSayubqZ3ghw9BvU6JV0Y7Ugjd+4k3bruIUEycMirD7fbv4AQg29Svd1E7uJhaBVdHTUABPsj1VlTy54G4KDy3rr1GQAAThOBT52I29HtUYGYG959969HtdnQ2g4pq0HMi1ETTyJHV-er4FwASRKkczCgG+gmL5184WQ0Av+8dbdQ0SWyWhp+gmAiJNlFAP95+l7MrSxFr47YLgLyLaRDD+DyQkBiFdAcbbyV19IBpsTzzn1vg5O-AVcGQF+iJwem1qqkK0EZCk9fAIPMHpLwDEPsCDpUONkcEJV3qOEAiUgKQfaagB4OQRQ0V7g5kf6IQnkLyDzwjUjd31LB0hCAwRBUbWIIB-QMZzNXHAPBgBhiK+G7Ut9M4w-KUK0GfUxBTNNU4jZxo40MbaM9GAw+4NfBcGeDnSPg6pEThkUtIb+4AyFG3qiGxDXkMtTRo76yGxDvkdQyeH8HbrpgIh8EN4c8iSHeuF4U8figCOBH3BaBw8TKqxFJ6pdT1NBrZRUODK8xWesvGQLGitA+Ry6ivY1GIYyw4xnOtXSUe72tljdh+nDBPj97qLvhbWoQIYHsg-ZqgpUE6TauoNRKyexCegwtxXbMH+ArB9gw5u9EsYajcXBIj3qmVNHGxwW+quB0ApNUZIWufAPJU4mCDyR5AKSP+HKTtc2O-Kgo6QJJh1GLmC5ZisXoqNQMZYRKtgJ4u8WZ7P4B6kXVttwpHbR923V4+vXePT71kfKkbgZ0BNeKmARJIpngf5W+cOx+gZoQAB0sAFGyIcpjNgyBggz7IfRA30ZyhoI3+pvCQe6qZ8sAcJwZQia7FInGmqJ9E9TKYC9ZsTinAMf6N4Crg7YPQNchydAAAAvL5qAFRNFA5VTJrODiYeM9ABThJnSMSfBB2GyThUKCARg6PvBuj04BExibFMsnn2AjOzu4qsosArKygKyrl0mC+cnQeASk4rs1OMmsTEpvU1twhBHG1ixp005VzlO+QgAA')">function always_true(ignore, frame_stream) {
    return frame_stream;
}
put("always_true", "evaluate_query", always_true);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p18' class='permalink'></a><p>
      The selectors that define the syntax of <kbd>not</kbd>
      and
      
	<span style="color:green"><kbd>lisp-value</kbd></span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	</span>
      
      are given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.3' class='permalink'></a><h1>
    4.4.4.3&nbsp;&nbsp;&nbsp;Finding Assertions by Pattern Matching</h1></div>
    
    
    <div class='permalink'>
<a name='p19' class='permalink'></a><p>
      
      
      
	<span style="color:green"><kbd>Find-assertions</kbd>,
	</span>
	<span style="color:blue">
	  The function <kbd>find_assertions</kbd>,
	</span>
      
      called by
      
	<span style="color:green"><kbd>simple-query</kbd>
	</span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), takes as input a pattern
      and a frame. It returns a stream of frames, each extending the given one
      by a data-base match of the given pattern.  It uses
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) to get a stream of all the
      assertions in the data base that should be checked for a match against the
      pattern and the frame.  The reason for
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      here is that we can often apply simple tests that will eliminate many of
      the entries in the data base from the pool of candidates for a successful
      match. The system would still work if we eliminated
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      and simply checked a stream of all assertions in the data base, but
      the computation would be less efficient because we would need to make
      many more calls to the matcher.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (find-assertions pattern frame)
  (stream-flatmap (lambda (datum)
                    (check-an-assertion datum pattern frame))
                  (fetch-assertions pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNMdiHJgR0IOZSPIz1xhhFsmlFGgeL46QunqbpQDEWgmDExpiP9fcBBA4saPPCQOE0S9qjkMiWLY8S2zFawpNHWQNP7IEd1Aaz+IEI8UhCK87NklJelcXzjGQwYXiUhhwLo5R8OUCY53wViVMCNS6BM4TlKo7Sz3C0AGIA0QgNYxD2M4mRuMEXibOMoS31EwiGiU0h3ShGRGOYlK6gc5IrkiUQwN0nCfXCSJItAaLRFimE2vahpsqY3LTLM5J5MU5SavqRKNK009aOrfTDMawS5u8xoOK4qzSuk2z10barzgASHqOqGpqZK30SO7Jo6gaZE63qDOGmLWIm97GivfaUphRC3qMRbRCU+LAQezzLoEKL-oKpp-IWtYMdAQLkQEKwwlIOMZDYYV6gkp8MnSKiIP-dDMIgtyjA8OmMO4JmlUp6maZVELSEZ96PF50ZSA549RijSI2GUCCAFVCArQhKAAdxoJ1RldZEAFotaylKEMO0BsYp-HaEJuM4RwRL1ZdQs8pA59phY-wukS0N-Som3NepZ3abQtmDawRLfQ9x1nW9vLIOF0LA4LILHY4D0VXxwhgxkaKGHIVq-tGuKaop76M6zl6c7Gy3cZoJPBBVYMOCLlKZCrlPgzJ4wKdXJua8Q3oK9ATvU7r-7G+Trv4opq9+5b8v+hQyeOBVDhI3Yd965Lpe2DzkULKLTb05YTPs-X1jp8RIKmAADypWRV+9UumGUI-W6MAvPoTye94PkuRrGh+XQ37v7wzzPpffgQgOIcGImBfg4Eb73xUBSX+y8n6xmoL+SeIE54LyPh-Yut9H6GwpiVYc5VJ72VlApEBggcHZwEAgnGf9WLbkuBSRM1IsREyiMPauA9v7vlIQsOh+COThjABXWg9DowQBgPAJAqA0DyDQJoQBp9kQ7G6omOcMh6xsG4NQaByDCGdnwGwD0owtHRl0fxYYuhQAAB9bHbh2GCGu5idF6OsUYexjjrAejQu8QgrjLH6LsQ4po4o9iBPcaQGxnjQlHVOsQlykSrHRJPo+dRGtcq8OScEvQrgt6bBoNooJwxLZx1UdYKowZQxCG6vQMobBSCXhiO6FuY9t4dg4N9egjTdAADI+lLluD06JVMqKkBaVUspvdxTLxyR4-OHSdhVJqRwOp4FilRJloQZegd4S91oBIExlBcqUFwDYOZmyUkGI6auK8Vz9EAPKZYaw2lyDBkIBvYY8zRmLMKZ0lZPh1k-Jlm8j5Xz+YAN7mCz50DfBHN8Q4B5CyCntjuUZdFjVkXRPBmklCMKIWD1zhwC+3BmAlkGD8m5-zMUOHuRYqJuLhEzOsCIYg4hbaUpGdS9syyWDVKBT1EZMs1KBnqmyjl3sEIhO8a01ZwLhWgAgrA4o7L95St0F4nuQC8YZklXbQ5xybS9JUu3W4V5aUNJxXeXuEr1V214SS8+ZKmAUuoFap+Zq9QyCvCDTE1rpk6peWs9gHpaFOpdW6gJ3LTVLMqfy+VQr-Uy3ECY8NpLyW0EGHs55f5Q3hrCAwxM8KjW0A9bG-5TI5AIpORwM5FyN7KEtdym1Qa81ppYInSgAgJDlsIl62QvqjItqeSyjgEkaQUiYBCvtSRDFysFfUxVEEJ30CnRCnNvcJ0ZtdVm91Mb+23PNcO-1d5c07G-PjQsmiD2ossgu2pSbGkiuoFewYgEd1RulV4sJ8aBWPqXcmpVl7yDXtymukYG6oVtpA2BrpzB8ZMRGLOtuHT1njt4la5QTg8VBVg++3KxFpyxW+be1D-z0PMFwFh0AOhcPInw9QQCc5WGuimCh5+aGwIYeo4qvMgaVHBqUjOfgxB3xkc4-8vl-61lPqaUq4TJGxObrbQnRTonxP+ubIeijPUILqZIEwCC+ItPQcE3QYjGnJ2QegWWg9xg51Hu9X63pZnHwjgYPQaz07oFWu045mlwzTP0ZoOS+qEGfPDDs6Zit7YXOkAJCFzp07uCkD0gZsTfnPVxt2JKEZiWORjvEF5iLM78vZak0YyU8XNwCcfDsL0ZYKwcck7yv9ibAPPqVY14gFYVPmZ6xWLtPaWvrEC85k9rm6soR2AUbqSGuWnti-ewFAHwLLrm+QBb1B+vuaDRGzNi2TU6bRcevap63P4oYLXT9e6fwtYHT6oy8WmX7LbTsDOMhSU8pWwmxd4FSUyzcDm3NhNWGMgpMTQmAj5OP3af8o+YylW4GqNICCoBFQeAgijqEaPFSThnJo6H8DRmY-ocvBz9RlTWE+4TXQZOL5X3nucyB9BfPE9obDhhZCLidO+nT0AAy+efU5zz5moQWGjDYZDzhV46eAyBkYK8ouFeK7B1LiHHCbjevl2LRXxhVwq71-r8n-8xec2x6jgQEFptBSzancYpBqDmnYDIc+P2aDfXPsoY0oB5SjpgzEXrXBqTaRFpSsPoVBjKBEwwPSxPY96ThzVRK7C4wYdIqIUO6uLCa+JonrpdDI+FmUMbk3BehGtkrTLjPdgPbU2R1bgW5D5T47oDXR3zuwQWjT1EWvWeA-mfwEpeepVz5fQpB7zpzjU7a9kHTwfj53Yu7pAuXCC4CJrESuIqi7tdLr+rHRu9wbnICV0HKPYnNaC29UWPjg2EzkT9+Vv1B-oFwgVXHTghOXPsLnP0q4HTmBcMpR3UAAAFQAAkABRDgAAQXAHACgIACUwDIAAB5AAOWQConlC6FzVwA2HT2L0GDLRzzxFN03ir3bGH2mGTgvif1YXNw8GXzoPPh8GINQQYKl3NxCGXznFyg4J-CSz4PsC4BLHD04Kn0gJgPgMQJQPQKwOEI2FHxEDYKEEENIMlwsCn2X271d1YPv22kfzIISCVUEK1j0LYBBwjCDXEUjEkSgDgEQGQHQAUXkGUUfCYG-inRBQUkIAmAqza1kw0SRQZWuXHBZlA0ySJViipXHGpwbXfGxXN3F1ZkwhLURRiPExrVOXOR2Q3ipWUH4ACPiM6U222wCWSIiIDF4FEF7S8Jih8IrgO13UpWSKKP8MNEmnQ3rV4TLX3hu2dUO04PaL8ICOcDegSK9idwYAgWjCrm9jiMaA8AaNGh8OmIbDmJMRVAjidy4FqK20WNGOKJSM5gvVfVAwIyWIHAUhGjmOrjA18JONKLUXzU7VuzaLCP0WqITgriajeMLyLVGAyJOTLXaLLxSFTTDU7V8RG2OM6JeOsAyySK+OsWqNWN8Es0M3TBE0M28whTBNROiQ6JKMaASMG2uPqBWLuIpOxRJNOISNXSqBs2+SqOWNuMAiZPXV8zpLGIZLKIpXBR5KJNOOpOY0FNhVZKJPpMRNVX1U+LcXCPZIxLtU5XdV5OeLJIUgYEll8LlgViVlVjoAkGGBYHPlAB1g5LWJGBB2hVqN7VxGUAGP82MGOmKmsDJXIDYEuM+D+NxGumSApjm3j0zm9IoF9KDRZHIOdLRiNgUhhmUjdPOLcSHEXkjP9OQSMDWldTrxAlWNnGQ2aNhIdKIC6JN2SEZ1ARJX8IiGoBnQhIcmaMLWXkTDLX9NV3LOSGdI7M7NcGaOKNrMlPAgzNjPIyCInWyXJTr1OMcgnP+nuKpHAinIHzchCFPwEEOmhlhhWm1N1MdKVXlkVhVjJDbTSz4AtN1mDMDmMF6De3Mx6POT6K+2dVoHpLhgpirQGIyGyHzJ8IGPpKKJfMXxQgxMYx2VCMVOgTfL+SCMYD9CiHqO8OQzAsAhdUQx8PhPGO3DFOtJRIeII3uIMw2RFJlKaEnCQrwrfSYwEKzylzYxRMgusXpJvxoAxORL82grWCTOsBSzS0xNxMy3K0zLHK2HXMNi3MTKKleJK2ZMi3W1M2EsDI6V-MLIiBku5NI1M0UBOPEvjO3MVESg8xksaSyJAiPBUvfCMvC1krKy0p0sVG4ow0KSyJxDUuspMt4QDPMgRzcppA8v+kNj8j0uWiPApjYqxMyzFjC3xNsyy20s6MCpvKxmZTbQfI4CIBhTmHyNdSnyrWyu-KVSggyolOkHgmUGyoKzvMfFoCYmpEoD9DlPtRIKpXikcvYuSMUpQR-H9HyxAmRJiqiypUSta3vV4vSwis00aUPHagv3sA5hCAKFATkFqrrQatVO9jbN8tK18yEp7MmhqsDFWvFT1Sas4IbJSDUwmrXHUpZISyyyZSCqWjhhEuDXWsLEpJuOBTerdENURSpRnM5lwOSqqpAppMYmaw1M6PikSmLIwXBuG17WSMNkSmahhj6pWvquOrVTVPu2LNHMSmKqzQ+WkB31Ai83rUJveSSVRoKyoK2Assbm7UXErKKAHKjCHKahylfPOs7MpuJqbFL17JNxOOArPjuK5NuqeKhpgq2ATjnNzhkA5gZu3SGNaPVJIr5NFuRAxIJWFMYvkxOOhtfzvjzIopkF1uGCyJaKjUKL5MNhhRBKySHgtvCxyNtt4WYuPzvhYqtMapxqloCNausGaO+vVv1u0EhgxyOAZpDpOpxsqEoEIqqEttDsqJIqVoROCGoipsdpctTsdttp5uMAZvzsdQ+LDpKWJKLqaBFrKRsMEzsKjBjEcJkRcPkRzA8Jm0qQYHgt7Xd3hyCN8ROVYACX7uwtAHNO5iyh7uUiYV3IbDdxliHv8QoT4DIGkFrAzCYHICmAECCFtNUxYBfD+ObI3lbOUGLM4rppoGBQgk2VTIrmMzFlPo2FGFfL7iZs9u1XM2TN0QfvTKn2kw62HJfRTKKEfsuyCibPVTPrfpxCn0o0w1wGw0ge5H22LPgYHq2EQeo2Qdo1QZPME2rImEHJnVwAQe4yoxxGUH4xSvMzlu3hcu-EXIofqRXUYd4WMy6pYaSx2HltiM8qweDVW1k3qQ9qVX4aMwIbG1JCtuYd80EZlpoEtU8q1tYpIH-HtxuxrPZpnUNqUb1kansu-vc18uwX0a9tXGMdzVE00emA9AdIYWgvyWvol2uCPi-qDmNomWmDGuIdIegRAiBtzV+IYWrVLRRlzhdJercciF+tBMidikqvwIYUdrbO530BcZidXCERMZQiPiyPSaQUycpxiavFyc7uASZzZrrJ2pyPfpGnfo9GLF8elq9vGFTgmXCcRWbCno6eDC6caZnI8G+lCbmXiZhkiYJAvpaeIZnJCH6a6YmebAAB4-x+ABnOEhm3IVidSF6IIwC0InxAwJAAxrtjFbMkoDjpAQh0cABqKO-XGfYMDiXtZZ3QB5rh+5x5xXZ515veGGLcIEScPZyIA5o5gg5WM54MC5qLK57gbqG5pVUAB5hsv53AN5+pj5pVGWFFn5oGdF3tIZtR1CembgXO7JCZq+gKNtYotZNCZkCx+oA5Wq7phJnOaJxoedLsd5svFY-w+lp0RWzs2xygLR-x3R3zEWsvEICZpHVcXlk3XcW4bZk3WV1lkGLF3aBwYl4ao2ByoqYopHHxklHRPimpoczq1wCWBeqlg8wgXxIcP3XZUcx6hM56oiY2xHKiKyxeMJ+ywECmA6gJAp5ZnEbnPa9qApp8x+V1pKvyL2ulumRlhKuhx8B2iZlyu1kaalowXuJNhlr7Np5lttYNtlyZjlq1mJ8JPLLFsWfliYQV5kCE0V8Vi1vRzogGrOuVqehVutoGDwB6VcRpyJrtwIdVwMJ7PaLVwxnVucWrRUeSA1tMI1qek1vx9t3Jcy0F8tmWeWR1oMfKy0l268nyYKj1hKL1hhECX18x1NwNjpMt0N+p8NpBSNxs1JmN7nONqGZK1xgtoV6xkRHGWwiRZu6RZwuRBRbAc9D00Mn06YP00s5bYRv7NbKMmWT0sMneqRpLLDhD+eHRcYCFRY-0lDoZCbRqDMspYOeD8MxD0DqiYFB4W+5cLhg3WIIEMs4wW+60djpXaoLjjs2+zqfj2JoTljvTdZMT9ZCTyEvTGt0QLhxTxobjowW+02BFyQLhzTtQVT4TvTG1hgfjozwENTsm8CCCdhPvT0WgYzazrgD0cReocz2+u5sT4wRe0ACQEEbIc0h5050AVzvTLWDz1Ib3bz3ziei07zowYLthsqlILznzgq80qCWLoLgzth4AMLtMCLlL54c0sAQL+LyzgAUly+S6i-NLK4y9K8gm5g86q9S6Rx86y8s4AEJqYmv8vqvQAuuqI2vJO2GVnKveuWu1mjAhv5ORv0gwvmvCvQAVmqJIv2vIJMgxvlACu-PQBsgpv6uIJMg5vlBAgFudujv9u1uIIOvcvovXBngjAOvjB3cHhEJaOvSCPmjlmMhFQq1lwfQ6OcO0yG63vjb8P6PgfMw60PQAArDMBLH7+oKtXEAqkTwHqYLhy1Ec990IdHhjkHvA977Dz4UVOFpjnqW+9crh9c8zoWizyCSAQgPiUDCQdjxn5ntLWnoW2+hz2ASAfj3nyALn3snnikPvKAsThzqA4Xzs2+jAlgDA3L+XjAsdoGUH7q3Hj7iH0n120tRHi67ETiZ4HJ0w8HoHnXgrIngjnXwp-X5IZHgqrH8aTX4n6YC3xCXNYM+DLXoHpD6M67dZKfL3heHiMYCQGuDgGHj4YsYgTOVLYV9qM3z4L0hFuS0j0snH1wAYwPjoQINNlCOqdIzd75KfFmoQYv8CDmRaqhJP-HqH5ZwWk3WvpOsVNJmXrP3gJa5v5oygWH+H9+865vm3vo9v4wdds1vSCvp5UAk14Mf8Zp3KCvvqtsclivl2HAeuzMRuhwiD2RTADASphjagRgFgMgDgETegN0LEBgZrWBQBoxExMxFR-eXBfKJgijwdZ7IyO-0ST5jgb5wlnPinZztP4IkIFu5A-7ADqEVUaRtoixCYlmyIwfUJnFTicsZGWwU-sQGMR2AfCcgJ0sQGIBRdxEDzc2gQKRwQR0cWOdHLc1xYPNMBo-BoBQJMwoDgwyTXuEQELRKR6QNcJ0tdnfoDF0qhATgXnBuhe1nmeLCCJBDxZwDO0SkRAXME-LXZBBwg3gawN-5KptANuQrG2g4H7wR8iYOkAMXv65YHARgsnBBHlDN5kgCRYFEYMFx9Jxw7pEwVAKMGapbEkAq8K4P64N4IIwOd-kALsFT1fBVgqktwxdBn8L+dsa-s1jMFkUTo+xBFocXep2CBkbkWZAUX7Kq0barg4ZkqikEPNdBnmJ2KMDpCrhnS5ta7ODDxZuR0cAAnInWjyJzJMhkaO7BUJbjYsahyLAoUIL0HFCGApQs7KYL4FtDwYHzGoZoLnqFCuBtMMCFw3-JOQehRQyoCUPAHWDhc1wWIeQimHvgIIonZQMCjKGVDtWIw0wtsOWH9CeC0+RgC4k2HJAscAAcm+ZflPmjwtvIAKMFJYzhieGQInmMFdgN4j-SIKuF+GZ8gQt9QMNbhlgNgvmSsfmKCnEIxwZYPdcYAhFWGBBBwiwrgcCNihx5TCV4EEQsOEHnDSYbebYUAIJH4icRbXQkb0PP5UiSWUfaKDVTj71RHUZKMsLumfLcBjB5RRYt9jJzgiDiFRLhs0OGIBJvsoI45syEZEx8WRVtdkWJhLCqCy032NEVnXSHvh+RoQ2+sDnxD1D602VLkWqN5ykofaBeQ5KaXPjwYORJYI0a1SkqvIhRfI51F5VcCGV9sPbfFq4EzYGimh+2cuuKJdFxtaONopSOoT4EOxsQ5ok0lUCtEKjd0yoo0XGwphfcci5A0TmTm+if4owiosMVwD4GmFLU8Y8QuGLUHGjjwqYo1OQOk6Zicxu6dgnwLbyVjEU5AmUcyPICpYsiIQo4N9GbEnJJRVaNsbHw7Gsj5yxY-gcMNVGXDexHonIgD1DENi1BulJ6o5UNGqjnqFMHUVwx9GNCCiqo5ce6x3JhVnU4lfPkFDPKaiXRQjdYZEC1HkIrGLotvEZy5F7sDSx5VemKKygSA+Au2FCPI0GrfZrxOwb6HeLuGzsjRT4ndoDntZHkjSAY7hrZgPrmZBCCdRONMD1AiBZAgEgxheLtFBDi8WgvJkFAwliE+YboDBthMsa3B-xd1fcWeNvxrphgWcZDNBI8YLCD2QgDOBwHjCCBxgDAZBL3HrDcB6iV4nckYEcqfZ1xYky9hr3QRURME1Icxs6kQT-w9WrjIhGVCSSkI+W7E+qkUC4k8SBAfEl8RQVV5Z0hJvaOeNklIQ-s4yK4h0YXmuBSTQqHSb6BZKAGqjlA7kq8FOL1YSUL2-7E8Yuz-YxN3J32EAhsBMB2A3eekxMCBAAAMeBXuPxGVjjpopCQ+bBHHICyADE6U+sEQDilURkRMUgqaMDxbyBv8-yYqXMVKkMAksCcFKYPFAErwX+2caqbyLtjZSp830YIf1GuDtSnRnU5GOBJ-4ktmA2VJqa-2sAqhuw0U5BGtHSkdS3Q2UoJkwFSkDTEhFReeDlMNi9xcg0wZWHOGayUTyYP+feHaKPAeAGpa0yaQ3GgkbTMpQ0gGgkRAmPjAQIzT6PtI4CHTRAzWB8dyIYGBAvpP05rD5KDHPTV6p41xsDKOmzSRIPtEQIUCbB1pAx3AFGM1JUmUEaW5mGGb9K+ydUJJ50-KAFNdKGtCcIA1-kUVdFAhx4M9NSTeXPbSTVoxtD0BghHgDwsE-rTGbZNOmVZBBiSOYB6DMnkIUcCZHmh5GYAHTYZVkoeELJ5lJUbo-kpmdWw9KfQ4o9baekwCll4yrGokexJrO1mgyjI+UMWCEFFlKQ-JIUkajQFxnHSXRPtMvszi6Riss0b4aAbfBzamSjask9mcGDZncJa4nMuZLAm5mGw3ST3DSedC4TNxqZrjIgK8zzycIZZCtfhF6M7Kez8E+LfyYTMiAjRqo5ZB0FBCLkGUWZvs-2c3FHx+tg5c4UOYqApgRyEkmkwWb7NV4YiE5ved2ffGrquBk5sRfhN3ICjc55qFCK+J3Mia1y3WsMN0ojNATWB3UnskOaZMJCgBC5xc3me2Ety45rcB4-SuvPpqUJr4rUr+DXNMmniQaQUeORi0TlfRcI3AX6Mni9resfBOOcYNbnMEvy8cVOBSOTJvk+gdAZOI+G3g+znTuATgNOeLkdngJdEFKN2aAr-ncygFNOEBSsAZwHynZ0C12eMC+i-Q4FXsleWACLlQREFjkyIKAv6SDJgJn0O+e-0vl6QO5cuJwJKJSBy4dATC5ILQuvmf5GFA8lIJ-lYU8LkgsbNvJvNfmETD+waYqWUA0rP51J7Wf7FItupIjopv4vDNQHZTD5KUxUqfJai0XSNqpGDLRUBKqx0ov+jUXRe-3BGiBDpEgburFAQht5LUnkOaWejtIIs9InaSRcVJjxUjC8vICwN4tGBJ4MmKeY2uyhHppTKI6wCabAmmkBItFyNY2hwuXKhw3IHCjuQXjIJsLmZGjDReqX8QRKAY1dCvNzkqnUFCACc5JeQI-lvzQhreL+RZTpGBK4Z9jJmlonyVaKmFWjTvNSEsIyAklOZAfNP0inSEOASBWWAABkoC2BP3HsCSltoCCHCApZoT8XkEH5cckfKwS4LaEycLBMfD4GKnLLGCbeEQrlAOXr8iJyIE5Uso-Be0RlYyyZeACUL1RWC+y6KYcu4LXjLCCQpakzF0K0hiod+B-NRhMJZKUgK6aKRYVpAIRQRfygUL1IkYQrLCqIn2l7zOWZKvZBjL5TyCrRMxipBVPXF7w8XRTml-UFZdzNBELL08aKrQqsu-Y+0s0RHaYN8IyU0rMZK+KfFioxA4rmW17Z4EeC+XV8hAmoBPo2WTikSJC92FlWStMlMLfcqKt5T8J8XorY2PZUNgaAdkUVGlceRVYErZWWF5pxtKcCj13wbAfU3498ASIggNLE8p7a2Z0nXI-D-S49Blany1W9pE8eqg0HPSNVEBzErwQagSLVWogSWOwVgg3AFwGMnE1w2fJ-knxuDOkn2WNTinpUzF0JCIzqdSE2WCFkEjlMNW7OzWdVEo7+KiAYSBXm101gwWyYlCwE6k4UKEywnb3eiwqLQC4eEWROoCQrUQtqwICHF0htqJVnavIE-UBDfRBCPuKLjWvGn1R61toHeSFQTYXKaA9ABsNMGqkLxNlhikJRrzIIgRvw6i1ofEq4oOS81WCkwoWuNrFqXgqhQwnpGMI0qq1oS8wFOoKUr5G1k0Zta7lbUIrxgg69gN2tcC9qv14Kn9Uipx7fQvFaYCdU+rhTVT9Vo5JWcDXEUBgBAQgaqZsUELlr21hAYwZIuzXgLQAHgEibhorXUBLhJEjDdmqSzkaSNASPDTVGXXMBxVUeZ3OurHyYaJV+NY2icnUI0bSaIy2QsgVQKYFHlawfjQgUE0KFplo6mjeOoKrcamNhYWmjEwgjoQxF0KFDQUuaXIIGNq69KaxtUJaaElGveTQcpAh3KJlUyw2OZoeUgRwN0U2Tc8BM1vLRyFMFTX1h9o7A-G34GHpGVJRoDuWESPzdI19beaZ4XI-zU5iwlAUks0VULYiBVFAVrxYM7gGwPew8UJ+wgKwD5sEzha-hgW6LdoPMy+tTY2WsgLluvH-TUt5maKiVpngJaUtU+ZLVVsfD8RgwU6IQN8KC0VbbgQWn2t5soAzS4tZAd+kGqFBGLTWqWPSENverTbpqIs1JpYTbz9aZpsW6gKVruqzbAZxdTVd8JC1rawtm216ELVG3SgnkvaiCBCK+bWqqRXDZbdhrmXmYStA2gJLVvi2erg142vxq9szA-AstdW9-nUogEqhEw7wT4MKqZjXamlxWv7YiF+20B1t0zCguyqO2ncouT2lba6nFQw7htcOhHfcEjqTQTtpMABOduhEyxIdceHTllue0e9kpTANrchm7JI79Vny2kIvC5XYgmY3rTIFgAJ2uBFOX2HbVSJkCtb2tbqtodMwEVGAulGwLvP8tjYTEbiMup3D0vl1Dybod0EIPKBR19kFt6qjkOdthFXahdgSrhqLpGC07aWbBLASxNEmJsza0E2fvPw-Q6Nam1iH2kOLlHZImdRO1uEGzZ3YrOdTQbnduAvgZg-Q74XmMnQoA+EGyhwtQZjNBWpAJgD8XzjzWfEp78NJufUrBM9wUg-oSYS0vc150a7AgEET3SOK7HgxnVHeWXaroFCPw562u7cL7stjnaK9nYzhuTpN2U7lAHe0cbnA96p4zSmWs2HpyogABOLoLagJhqAV8cgASW2l06SAV888RMGUHKoEyHJPLHFBe2zlFQaAU9eKVWyMDL7e09w+4TLDQDX7-1DMp6srNP2z7JAQA+gPNGaBP70sbOqInEzZ1+pTCNAXWDhmCkJtXAZ+1fd-rwHHMrRZ+klnOGsW2LI9HyFde9rG0GMidbev0JBDgOSAEDxuxoiMDdVzCrFOByoDPUt3mZxx4ulUCHCiijBfEWaTnt7N-BTgQI0Yy0daNzET4ihAKkOBII6DIqj1aYKYAwHoMs9vBNMLNB00hQXsz9kEHWLrHHGgBE8LwXgxeVC6dB8Nshr4cLqnCwg7Jh47GG6RQl7FTEXAFDXMF0OdUiN6U9DTRvNoaaUJGDSw3qzdLCHRDaWcQwplxzDBpUD+lQB-rkPyHLyNG5DZhLUPyGDY+h7ctjAQ31BZDEEII5aWUPJLxEiRnWLfsf1j6V9vS-lWzu5VRteVPO-XNoaaVF0o9YqZiRasT1CHU9BVcYkwop3ur8QtelXfPv9wPUkq587kL5UDC0BlYZiag36ANUa8WDVENg7GI4OcjhBPBv0HwYENuir2y8Umo0Z+HNGHcdeto3sDf0BbJQR8ObWBIsGUBjmHCGuCThYCMwboa5TEUyuF3lGmJPhKcE2luB7HTC6cWo88HGI+0+IPGrDe8v8UYqxBAejnc2wcic5jE35PXHGAzBDZDqGGsE9LAlzSrH4FKwgjZ141bLaVSCM7XWJLDi77hxeGQHT1AAAAdLALhs75FA9iuABsHSG13ectuVQ9qJfqVRuGxWuHLAJQe+H4n01hJunqSfJNIzUJ1J-oRPmuD4AoophRcN9HFOgAAAXs7xJOHBBVQpmk28fpNynGT70Zk8qjoNsnA4b0PAD0Z-D9HIg+Jik0ICpOqn8u+wvTOcaXpfNiAXza3DCHuGIQHQnJ4XWacFOWmRT1p+nhdq+YegHTTp1EdqYNhAA')">function find_assertions(pattern, frame) {
    return stream_flatmap(
              datum =>
                 check_an_assertion(datum, pattern, frame),
              fetch_assertions(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p20' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Check-an-assertion</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>check_an_assertion</kbd>
	</span>
      
      takes as arguments a pattern, a data object (assertion), and a frame and
      returns either a one-element stream containing the extended frame or
      
	<span style="color:green"><kbd>the-empty-stream</kbd>
	</span>
	<span style="color:blue"><kbd>null</kbd>
	</span>
      
      if the match fails.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (check-an-assertion assertion query-pat query-frame)
  (let ((match-result
         (pattern-match query-pat assertion query-frame)))
    (if (eq? match-result 'failed)
        the-empty-stream
        (singleton-stream match-result))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06Lne8wUbR4QGCFBhKVBYg6DBGHgeEKhafxwtiPPT7GU+tnGDhqngbpvyRvfCo1SlT6-QDFpUe5wY+ax1jBbxv6+UU5oOK0JIGBuTjVFu7brpx22Tu4AXKCFo36ekEHEaNPHFAgGB4CQVA0DxNBiQZ5N3VSEFzc6fRcgUQh6G5yhwf25JUnSBQWDIePFCTmoefCUAAB8S8U0UPl6zq88T5Oi5iMuK9SFg5I4IRa4LlPwibl9M4yLIE67hvYl7-0lc-KUh-r1PXvOtFqFjxtps7mfnkKALiZUfOZ9et7I9FZgxAkVnZzBD4FFd9k+nuHbCb2gTRVJi-U9AAAyN-en6QYX-CYSgUoDfI+e955RzSEbVehdX7EUVqkI+J8GBn0gSnCydAjaFQiqAwwvhs74EbPgGQ4D-rIIbjAreh0IzTygfyTB3sM4MHNNQMQdB-o8xIdAze6cwHwNqIg0E7CLKMOYawrS9NQFCJYSnBg2DcGDx3tQ++I0KF1iGN-fQlD5Hd0mGIuhTImGSJ5vbAsDAUaEECG4Zw7C04CWUbaDRddqE0IjixUUFRlBsAmtlOgRhKCX2sW6Q+5Bj68KQS-CyJYhAgTcR4yq9B4Sl3Ln3W+CDQm+KvuCXWLVomeNRPEpuCNGZBRMDErx0icGtzAmkoaSi1ERlsZUvx2i566OybExg00THIzMcQCx9AfF+MJjUkYEZMJVKcfvFx0c-osAFp07pvTvG-0GVvQJwTT78LCaJDx2dZmmPMYYZwGCJluW2TM8gDBFzC3NmU2Rhh+kcNiCNG42IZEVIYAQohuN6n3KabNUBpzZmt2EL4H5yyuHfNGY0j2oDRSBWkcwLQIjQV-lgckkJGy0kWThR8KgxARFHNAXCvZPSDl9KWSi8htSVG-2hbo0Ubw2KojjuSzhj84FBJSRiy+4T6CMucD8YlCy8mJPHuytZfC5ybPBAyxe-LGw4sRSnAluiZVMsbN0ti3ItDIuWCNM+DBAgyHudwPEOjCnbyWmqjmRo2gFjYSyx5W99WGuNaAUkzTzWqrlQwtg5s0E0BzADB1RMuHOsqK6nQtLzWV1tdzZQQaqlgrZWi9ZkrMWiWMO0ONxBlXmuatI2NjgE2XzCEmt0SDwSZrtfG8E3AX5hA9ZHKt2b4W4pEXc8lsRdWUuGdSsZjaWJVFIB8Vtir7VpNLRS8Faj61msjuYkCCq8Upw7RO6pW9IWUAbX8ulqQ8WaFxM2ot9zJ3dq4aKdImQT1zsmYg9Yi6EXLvHSW9d57+5Xs3RMEBu7Wpci8DqwoqKeGpvPum8E7APBeFzZHCDygvCtXwMCgDjrp29ofP22axzzCig0IQEEWrLHBofgEsVnK03ctErh-DXjoODroXM-ZhHE1TpsVS9DjSB1uQmitQVpL3jIeIy4CFfaoXfujakHq+hTH+PocBiVYJTEWWKEcrDJMqB+stlQLiHFnYGzpoorecMVJAnBDIOstRwSgBDKUUz5nhDaWmMZdoccdP61ftZw2-0u0rGaKKSTHFwgeeZtrNmhDOYfBTvoVzLs3ZgxDL51IpMAvv0-k-JcLt1YlEnJQDTVsuIRgC2hHSRQIwZaK8V2IZsyCMDyzbQ6hXDIVemIdMrjWmtFDppl2IzRbN7As2Jpty0OCUBylXfoCh9DIxk6NacyNuBPEBAAPlAJetgHs8Dz0ML7JQUA4CIGQOgUOeJnFIxQrigRLQ6A5lfcmmOLk5EOO7tJUod2KDLxulQp7-oEufKsc92S8lCA3LeSvV5eD3mELQcQz7RduDc2u9JH7VHqAEb6TD1O-2qMguIGd7V88GMkssej6wcOrsk7a4UfVHzpp3O4wThZdziek+u7YKCP2sojdINa7O1QvF-f9KUHH+Zzsc+CNzxapSRsMMIHhlHfOmeXYR99sBXr6Bx2J-9oXjZVdoIe8PK+8OuurDAQC85vGieaKLv9-N88ZzTNmZco21ywe6iseV9rwJ7fnKBSChXhvEdgKPfG-nBpBdrgLVm49QeWpLvbW7xXRvutgNg-+jXAuWjh5Txd-3yvYXE1HU+sEafQ8Z5+Nix9SL0fM8T2GMBEjK+W4x+nrXDCLHCMi1XhPAfXHFJyRbx7Vvm-h9afLxv1eA8mWCBdqyNk7KOWpL4Hm5BkYeS8lrjoWgVPiJl2wEFyJuDcdPbEV8T9eoKFlYGn6dD9DIl-AqEaWOLln4vy1W3+-BCkDENu2I+FCLumFG+KkNPOUFfoUjfg4Hfg0OeOYhkGVOvudvjj7uAXQOTh7isMFiICYldnBPQEihThVvjo7v9ObHcrfu7mgQ0IfuQRQUiPRvDjgQYmCLfs+IBisqkHCivDAb6jXllhwVRNajzJFlwU3n2M0J2BqMsL-ieAqJPtOO-jPrZA5C4KApQL4CQKvoIDvr4IVD-phv8qCBDkYj0lJl0oYNXvfIJoJBoPoNxktqXuuOdtxtXnDqYVGpHC3jrurmPgngZm+kwKQPwKoNjrjgDJ4eqoEJqudn7mTjwbpPYRvqEbyrKmrtrjapHkXo3iTl3qGMZCEXnJat6p0H6q5IGvHobgNixC3tHieuYcRCfnuonKoRHtWsWlupAXxFwuIX5FIf8PUXeiOrHpFrOrtCsCNPAXjnBAMRXkMWupwOUeSD0RYbEOeEOlMZfEYYyIZOMQDKsQ+m2jMS+nMWTn5IKAAXnunEYTfpMQ+usdNO0f6CNLsfCrcVRCcT-seERIZGMeHtUfgQugXnHrOkcddm8XhAsXobolToQg4BIlKFDj0tNs8voPCXYVCDCW3uqHCNwPCdurQuaoYNyIwPgPwAwCPqiIzpkffH0dUcTiMcscVNSBOoyNHgCSulYqCZYaKPuk0dUbOhTqUKthTmsDLtrEYISe8iSWSc4KQdcayc+m0agWgQSUIBKVEr3m0ncvgX2PmtUf8YMTzKui+r8vGB8UsSGsmlKWjpkYZC9vwpaYwC7lYrEaAM0Ktt0RCeai3lnp3obvfGLIhr4BLH+ghkhsTn5OeHuFtkCMqUSZKeqV4ncj7oeDEOeOiQcswrUFGcCAYR8mmfolKJGcmZYdsZtAGS4SzFgTmAwUipGdQTQROHmRmaENwFqfWTEIbm4ZUeHuXvsWwj6WTr4QJPmnwQ7BTiWUSl0oxlaQPqnNXp2adj8PXh3t4b6aLAydNIyCWUuYYh0ubtOfrlkfMYUBIsDuDivNuYuuUngvHtNNXgrFvNNBUQuY2PadngOXUakPjq+cTrhFZlliWV+fGbFFLhEoYt+ZkXWdMDnknieS7pcfaaeXrmvC2fWSWQhbuZOYTvucha2TpB2XvBtnQltnIH7LtoHAdiHJYCdthnAgEYAiClNoOSRghngv0N4oxYpKUCvv-OyAEf8CbC0KQKZJNhZK3KxUIJrCQKYLUAECYMQNQIGsII0FvrojbtfkQZIGQGYaAD7rUayuWvwtKjvCAfPLWvgRpSQdwLpQnpxjRdzknCZdfjINNqsmRkwTynXI5YUrRm5IQZ4sQVpTftNmGkajICajer5fRkgc5UxQvCOi6mFW6hFeYPjvQfIIwUFbFdmfFeGolZGk+dcOTAavnivG8GjA8ihgJBWiOQWLWhauVclfQjVQDHcVla5einOLeaJM1T5eYM1QIeVeNDjNNt8ncfOUzI4F8Acp1JWdWZFqufpS4BGPMQUpHE8TLAtawahoMCtappdu4vgMYK1HvsLLURvFtQJKTHDHebNOeIAi1NybiGlbgSnIyG6dRS4DbsLEYFebqNjAWEfpVW6M-L9dpTTo1Z5jHqDTfsLOvN5kDUJmovLDuuanDEYaQbDZEOdQjfeFkMjXie4VrJgc9RlS7mDZ0NpSwOsA9e+YtcCNzGIIAj9bcn-CJBwJ1EzWuEsKGKUKTF9RAmTdjGEFZdTZWbEc0OzYzTbGTeEAADz00c02xc3OlxGyEQgAAqckVhdAgZ3GvA7a1IWIsutQPWoAAA1H+U1lXMtEKCCjLebaJBZA7bhTENbZ1LbUNRMI1sZEJVPuCJrfgCDMQPZB-mIPrSuobTvtQCbaJM7e1m7WIB7fbRbXVZZhbS7YydXInTICCsreNWiHJBJIhZcS7npbQZ6VdognJNiJtdMFgoSczRUuTbqHSS6GwWkAPI3XgtzcVoLpXeiNiBne2ZNYdVdCTUih2bhc0C7sZl-CMDLRnbMGosrRndPQ3ZhKDVkRGHnRyQxKcQYPDrPfdSYo0U9dgelSIq3UUGraXaJNZK3OUCtugkWSaQRNIX2CscLIyOtd9UeaGCNDGTDUbIhRje7JBdBGjTTkA2DC-bofGHTfDlXUQFJscR6ZHLBb9SXb9djGXYmLoogwPSg9dmaV7PiQ3YLQNC3SQxdcxatl3S3fgX3TmEg4PU1nGlNWPefS9WwpPehNPb9bPYdAvb3f2CBIdFzdjCrUpIAxvSzdaLaDvSGNqCGK+IfTxcfY9bNRfd3NQ7EDfdg3fXQA-SIE-V5p5Hou3jzDoUeG-Z8R-QyUZkCD-RAn-Q8VvIA2jWTdA3yOA9uJA1RKAzA7veCTQy4AQ9XUQ+trIERdtv7HtkHIdhgB9WAmYtQOfgGq-k5RAWWrJhyh1UwQ4BZKk+kwpTmhDcUy-mzInBwCInzrfjk3PYMBGMwXvOeBUxk6AcmFmUgs6BWnMHVbEHMBOIqUUBWhyAMzEByMM9QRWghBMzNtM704ZWfPM2fIs9MBWhegPHVVs5kP6CM5ToZcFHhuQNoc7OxB4oGQaAc7EBWrIRM7IX2DczEBWlbKoAwiwIYLWm8x81tisM89lWCOCGbfM7ECJaAL4H-MtivhbVcwCxWu5KCzEOC5C3YSvl5HCzM4ZVidMCi1C6ACvpCBCzEPC4ZcAEiwYHNhC-iyvmAJi0s3OOCAAKQUt4tougBMvEugCkuMv-ygtssAjQuz2QtYuMsACEwk-LVLqLgrBLoAErQIIrDLQLstrL0rNLoA8tMQSrGzhlstAISLArQr+r2rPLQLi2ar3AMrQry2pror5rBr3ARQRrcri2QI1L9rEIYrFLcrhQsrMQYrsQU2zoTobTz+HT+OZNgIIYSJcw3A7TpTnT5JobDJCbl++O+ALAAAViYFutGysEiciHYbM+G6U3Vd8swQC0UGm5k4UtukVO8CVKW5fqBXm0CEghWuIXVeIVWzQRWpAHQGqIvGczEAO0O6ob2xQa81QO87AJABMz83O5O2gdO4AgwAAKLzM-PrvLse4VoABy5A+7FLh7+7UjxWKbjbPAzbLUrbID+b0whbdhh0zl8bN7AhOKBpl7VINbH7zAO5ATD7DQT7srFbm417aTlTrb9b2+eGuIv7b+hTodZ802j+304opAu+V0Wb5AeYBJvUmg+g5l77aTeGhedTEBvjRQ3GKHRwRQaDLEwEWIWj3DYI02GBrM49kWFOuGopCH9GFDQ9v7d7MtVHsQvH6M-HhS7y2bub2lQn77d74NYnkzN8mjXHRce8w218LUYgXwVNjYGnZUTHQORnKUOAhFdbsTZF+2wcmAyTZVFApgDAWaHwVUNwpA-6mSLl-c2cuco1E0mMjoieS9aGWQ29gXT4coKdDAadmdNtOdqiYXss2EiezQAXQM2EtlLgCcNwBajuWgP8lAWdgN5pkMygyg+tGQ52RgB+FX+LW2FtNhFXs94IlmNmlmPWTtFt5A9XKnKwbXdaxXy0uJe1DglyxgPiWdB+n+2ldO43E0xgzw-4dNCdDt4IEIDtuX5yxgBXUoSJ83dAE3uMh+0Xok1g4I2XZQR3i3LU5sE23GPnHdV6j3Hm4Iq2DmRkJu-Cj3KW0kgBz34XKij3PcJcjT6iwPn+coCrokymIXBgh0v3PF4IymnF9VTnIErnsUHn-6r3OR7Y0usuqO3iv3H8jWF6ECqVmFCyNhUPkwaPG3cXC3w6d3ZAE2iPs3tPO0Z3jWlmcXcFHy8JyByY9OfGXPPPE4fPDtzPR193SXTTkPX+4v2i5tvPF3AlMvAMYkoIdVTh13x3TAbP9PPmKTS4eP0wgYN3LPEIcz3ASCHPO08jWQIP3AmvhvpAPE8Wgew3Nc5vMk4IAA5HF7YSnUH17wnR7Y91d271mqQCCrH6i2Qn4XQ-9H59OIdAn7u9uBWkIPZhZMEKnXZFpIIm4GmKnQERwPCMbxb-r7d-L-oJn07w3wWHH1kW7-d2l7X9bxny3yK7jc32QH3zH73-naADh3h8oARyBB0mYh4CSiYYQE98jsTwv-Dzn1HcT3VVT-MmL9Jv10ieP+sJP9QJoEYU-nP24DN0r9JtX19xT8QtJh5hWspnWpg4Ly410rf0pKYgVS4An2UkvmRjn940bgVflSTOKpBl+fOG-ksRWICcBGQIEMAL0hyU86C1PXfp-1gZhsL+xgVmIfkZBIl-+2CQAcAJJRX87kN-N4o8XgGyJWuczDzKTHqzyAQBuAhhLNyyLfJZ+LA3hKdy-7G5I2CA1SCswYHMCSUPA2bl7wEG0Dkeh-fDif2n5URPuRQXmkuCkEVJ9+1hWQcf1P4z9RBl-UOhQMwGd8rqNA9QdexwHiCv8RZRYn0SF4wDiIZXOKkCxf4L5ZEhhOwZgO6KmkHBxZLpO6QJosRVCJAMAUn2TSkxH+GsQ6BEMcyCVhKimQxooXnx7klqahMpldzKpslpMbVRLEuGiEyRlqn-L3mrXiEKE58YTdAW5AyEGkVK5qc0GmCqhS4c4DCYQBUB2qf8sqQQgGFkOR51C6oV3AYHgNL6aQqoSBLIaEIOhqIqhW6VfqP3Uj-saA52eIddWu7GNWYPUBgOoBEAcBSAu0UBLkEIDY52hPgmIH0Ukz2DDIYsY6J1AlhXCvo0sX+l0liwzQ+wqKcQo7Hui4VLeqw66Fzk2HCBthC-J4ee2Nz7CQUksFeGrFgZ4RTSfRcIZgN0aOCZsecA4fXxv7cBQREPW0DfyhGMRvBXxLeD-yUYhMcaGI6TL-0zrjZCeIWCoJcy7BsgaRpzXhIYFJDZDAeRgU1B5gZG+AmRxIJ4F70YEzpTU-XBbLKzGx-QqRmBLkV2GK6UjMIQooeu1ilGsxmRTiGFIIUw79BL8So9kc7AIiMjlRLI8YfQjoaGAORGsJUdIl5HGClwQjeUdBBFHLZqg5sduFqL1HcjBgFo5kU8H67+gHRFI8UXKN+QBC3IYohQD9A8S+JrC7+UrpYRkARi0Y8KQIH9Cm6UjC2SHL9CjTWrxjuYiY8bCmL+hPcTRMogsR5kFIm8nRZAF0VkjdFShDIQjYsTxCo5+i4x6mHMaGPzFhjRkSYniOMlAS8Ajq7UFGFFioBPcE69fALKP3Si5jkx3QNkN0ENHkhzwWZdKDiDnF+B3UdNCeCrB-jhABSA8F0tSHJGDigBRIAhMOIqopkGS3QRkPVhHH3k-CkmboLuNh6ddQA3QLTpIFADq0AAEuuwYAABBcAOAHXYAAldWpAAADy+7ZAECHep7UZAkgNQK3g0jklzxfqIEVlX7EtRjxaE6rPDynHHieBQw1CVViSCd8pxnQRsL0PJJXcKJmQZCfUKNALYjRX438QBKAmgTwJUE8ALRIHCETBhKE6UrhLIlZUpx7Y48QwFPFGpSJKBEvoJPoDuRQxNQtau1AYnDCmJMkjCSxNDHhiqASJNrC7H1pLYtSagEwPBhVLUTLEhk8yNlnQmQ0s+Qda2GpJImtikgQIj2Npwr63tiS6oxkAAAYTge1GoPZANQZAWoUA2KNQEGAPQwp1qBwObEZBeS4pvki2niHvECQkpuQeKWQCu75pgpPwoLil1xhJSIpVUKKdNlJgo86qpMEqRv1KRRSm+3nXsbokCDwkCpDoVINUGyBhTdo0BWKaVJyhRS3qwdUKRwEJ7UZIp0UvyCoUCAtR7InQf9GMJDCoozh7Qm0lYTuD5TMkgIuIP1LqmTTnSP2OEYv3WmkwZRc0haaiMwE+jYg50hgPNLYD-oChi-PgTEMJHwNQmvFYgBdMendTmw5IioCQBECpA+k8QzJFpPJAzTvp90y6SLBUYQCfhUme4gaFUbOYsg4MloMjJeEbo+KHJV+n-mOEGgxYNwu6HcJ+i-0gReMjosmjeEsBgRNfMzIRAVHhhZpMM36eCJuh0ycR8Df8IsUJmfS0sY0QsIwy+k-T-0UQuUGXFFlsynpKiR0PgWaCMzjAwTD6TjTukPTFpn-ckRx1CwXJDqByDaBjLXAQzDQV7cWECEljfQZYGM5GvvX0CBstxXod4dzxIYjQHAttTTNbGdmXE1YKFNssbPsl0cFiMIhGZJjXC-gPceASENHJDCXDSZJMu2FbO+oBzbZ1Mt0A7I7Afhtxzs89pbw9m1YipN0vsBzIdi+yFRDQOmEKU1gsxC5lDSmcHNsb-4DAgM7WCDO8QBybZsNdeFHJjmjEt4vWDgPZi8GNzCZYxImjrEi7AwU5sNfwck3dk51PZ2mBcHeH0wsTHGqkMzH1nsxvdN5g8pQcbltQuZl58POGF7z8wTQospqS2jJB1nswk4FiDaIQGXlAiz5EmC+YQBZFBZx5us++QbMeAfz42bIfTKAB7mQhX5FyJcE-PCAfxTeY0D+fD3nm4gC5BWO0e1gKykgi5hQRBYvLqxqIoFmC6CPVgwXlz-QnWL3gPP6wMc3IsKMKT4l7IXjOSpGfJnQrHTpIvJvVHLvQHcT9jLEXkkamxn2A9SIaSUpAnwtZF0MRkKiPha9JiC2lGWnQeab4Foq1VO+wmW0NItH6P5zkXkv6bjH-6aTQA--VeYuIZLuI2Ko0+KBeDamZJOp3iPheGQZLYLhCmxBsnQHzlaYbY+i1yXQAIUUguF64MXmYpVJ8LfFhQIxTPLppOKeksBVrrvIsyliB4RQkIi51766KQyvuduIwBCX4FpqenSQKNgbH6AolNIbgh5M-E-i-xIEyyAABl12MElbAPECmgIEJTkryXcgMXGLPpWEqWBUGRjCSUCHmAiR+GRi8I2l-S8iQOEokWK7kENOiY2DGXTYKlDAKpbUp4mZiWIQy3paMrCntLvF02HSRJ0GBtYxJhSiSVJPGWhLYg4ILyYpIbHwgVOJy7sRCBcHXKwpty7sVX3JGP4xlHSzGtpIbG6TIxrDCcF5LsJaktFFi3RfG28VAiVOLSpCT8phX2TR+Byapi1AT4D84+ECnLNVieHTieIWVHSS2KBVEcVgjjZbIZAOUilJRNYo5ehDVACTGJ-GLxTircn2SfRfo75TssxXwckVnWOsp4wbGj9tiKSwfjyrxWhjepDJVoEWyBArjOhPKrIuCBFUJ9rGiIx2V+BlUQE0eqKsjqKrj7irIa+K8WoYuRD5FyqdyRvkaslVHjbFvSh0OeNHE+8uot41OKDzASSZXVzU-EpznCnESypjAHCZZPoC7Q+ix4h1cGpQJX1zw14oEGcqzBnjI1OI88JVyEpSJI1+KoDjpEeV5jugckple8vGxqrq2-AHEPmvUl0BC1f0Myn2FJiRr5s+LVNa1JAgZrJV1gvEfA1WqMdfVFiqWD0qHFiK1yV7GSYyDeDcKxe9i8kGGuGUOqZJWM+kle1jXuhhlkkhNdJL2UckU1iQZtb2tDFZr0IOamcdsG6pvKlJOI0qGWpPUcAq1CgGtaGBqlhSG1dhJtVIiSltrh5BM8EsGPMADDe1YuSNTYX9UhrWROipNdfOUGCAWhkKpNV71-UAak1-QqDfBqA0oF74HwYIH6vkmBrsNvSwDVhqLJRQ2AjKitVmSWWATgJYEyCdBL8hkaOJlG7iYyDrUoan1srPBMRuTbpS3Q4IDEJd3WVcYoNOiwdeSHQ2BBe130HCZOtNlUg2N0yxkEspWV1KaNbEhTfUofV6w-RMmtpUWRGjcaoMtqk+gegEJZtr8piGMaijoamaIaTxN4MZpRAL8zNPaNoYQFG6EoekIEGzfNEMHObpsz0lzT+k0bBRbNyYezYWM7qWaruTxQLfNBC1ZUohrhK7v8Si0ogvNDmrhL5oho1AxAuKVmBiss2xa1E4WqheYBs34AupHm5LRKqFWsjNG5W4LbVraIeZBV3Yr3iVq6n-F6tFJOgEFraJFyVVqS6zfQG635FutwtLAL+XaxNbxs4yC9eCFz6p0+tg-Oqq1pQJNKWkKQLNqVu8RJbTA2lSbQWOq2n1SS626-Ntoa0awyxMQisRqNw7VjaRdKicAtoNWRbjtdm07cLWtVCrIIDQP0YFs22jAR0b2-QG9vJzjaIGwsY1fTBm0F8LIj2kdr9uqBOggpxALLdqioIfbux+ygFcSv0l+Mv6grMbSjPfRZBYdyJZHdlv1UgpTulyoCENnyUOlClnWVnCXlyXDYClTyyuf+EAiukB4X2jrODptWzQZtRfebcktVXYkydWgRHaAhRgmB+AXQo4QgzyLxDj6enTNgKi4aMFR+WgqfpcTR17aCVp4ABljojE47SFeOxbIpBl2VdtUcwyJH1G1QZ0He7266hnW6i0woWCotWjmD9ltlShShbLANFIAaE06Y2znUUHBDa75BRhKvrEVKAs66d+K7xiatWy+N9dkO0tRHtw5H8dd00EXcLi0AU66qkenQYNECnngbgQA45pc0ZAABOE4KAir2nNE9MYhvRcyb06TF4ucD4NiSvq2DO6HweddCMbmvgXAPFPyVfUKCN6QUAfAPhZDQDz7i1+M9+qGCn318B93M2IFPvxVsxzYHYsiAPuxIeRQApqFWXA031t7D0AKzvdOG0oV6jtIUS5porYCKLlFAMfRBhsq0Y6sq+u16DNoUWnNX9eehwgXrF2CBn9AB-whuFW3mouBJKCnW+CO78BVwZAVuAcgnZ+lpVjIIgYvmYBADYDoA47ggdKjrcjgnyqdQAUDSkBUDw7eVqpAOTs1REJDVfeCE8heR8DW2BPsuuIOr5EWCIcDZPov1FKreR1DFa0GOC4iR5DEV8BmsaHhSWhUoMQ1fV-VJT-1KGmwkhpQ3pKG+LBIoK+EoPUHVCtBkzPQaVQT7z9D+05hCFYPmNI1kG1oTwdYO+QJDBMhiHzJDDMHrD5jTg8IS2yeHPIi+8wyc0v1PLKVAK03bjqNjGSmsw-MVeXNt08x7dAMVoE8Pmze6QY+LFnD6JJ3JHqQtOkbPTqeWrZtE1gorcoVlJCBDA9kXONUFKhSqr2rQLA73wAG4HSBBBuvjUf4AkGyDUmgQHDCzLZG60eRtnXmKKPab26dDPo-D3e6B1asy0NzOQCkj-gxCwh9FakviMLDtUORl9sLHe1u70jdhFnOSNMlwYGEjAZDVhu4AsrLjTRzpQuqpC1ZiqJSsqDJJwU8rsVB+ZjfwbbLTBwl7sTjZ9Q8WPGYlyPOJdvPO2JKTe8e-I4noePCEPY7B+AwH2on6A2yAAHSwCgbqVrMKXDIGCATYU9ELK1ir2giz7RI+hw6mkKwAImMVSJ4iSifrLonMTQM7E-gB+h4nhxY0XgKuCyI9BSYXJ0AAAC9wOoAdE9RyxNMBWTuJj3nsZ6BCm5QxWUkxkhQMUnCoUEBqOUfeBVHpwSJ8UzifZPSs7ehlBY6JVTrKBU69mSYAHydB4BqTqSnU8yYlNsnpTBpwFhCGNOiQWApp801X0VO+QgAA')">function check_an_assertion(assertion, query_pat, query_frame) {
    const match_result = pattern_match(query_pat, assertion, 
                                       query_frame);
    return match_result === "failed"
        ? null
        : singleton_stream(match_result);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p21' class='permalink'></a><p>
      The basic pattern matcher returns either the
      
	<span style="color:green">symbol <kbd>failed</kbd></span>
	<span style="color:blue">string <kbd>"failed"</kbd>
	</span>
      
      or an extension of the given frame.  The basic idea of the matcher is to
      check the pattern against the data, element by element, accumulating
      bindings for the pattern variables.  If the pattern and the data
      object are the same, the match succeeds and we return the frame of
      bindings accumulated so far.  Otherwise, if the pattern is a variable
      we extend the current frame by binding the variable to the data, so
      long as this is consistent with the bindings already in the frame.  If
      the pattern and the data are both pairs, we (recursively) match the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern against the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the data to produce a frame; in this frame we then match the
      
	<span style="color:green"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the pattern against the
      
	<span style="color:green"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the data.  If none of these cases are applicable, the match fails and
      we return the
      
	<span style="color:green">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (pattern-match pat dat frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? pat dat) frame)
        ((var? pat) (extend-if-consistent pat dat frame))
        ((and (pair? pat) (pair? dat))
         (pattern-match (cdr pat)
                        (cdr dat)
                        (pattern-match (car pat)
                                       (car dat)
                                       frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06Lne8wUbR4QGCFBhKVBYg6DBGHgeEKhafxwtiPPT7GU+tnGDhqngbpvyRvfCo1SlT6-QDFpUe5wY+ax1jBbxv6+UU5oOK0JIGBuTjVFu7brpx22Tu4AXKCFo36ekEHEaNPHFAgGB4CQVA0DxNBiQZ5N3VSEFzc6fRcgUQh6G5yhwf25JUnSBQWDIePFCTmoefCUAAB8S8U0UPl6zq88T5Oi5iMuK9SFg5I4IRa4LlPwibl9M4yLIE67hvYl7-0lc-KUh-r1PXvOtFqFjxtps7mfnkKALiZUfOZ9et7I9FZgxAkVnZzBD4FFd9k+nuHbCb2gTRVJi-U9AAAyN-en6QYX-CYSgUoDfI+e955RzSEbVehdX7EUVqkI+J8GBn0gSnCydAjaFQiqAwwvhs74EbPgGQ4D-rIIbjAreh0IzTygfyTB3sM4MHNNQMQdB-o8xIdAze6cwHwNqIg0E7CLKMOYawrS9NQFCJYSnBg2DcGDx3tQ++I0KF1iGN-fQlD5Hd0mGIuhTImGSJ5vbAsDAUaEECG4Zw7C04CWUbaDRddqE0IjixUUFRlBsAmtlOgRhKCX2sW6Q+5Bj68KQS-CyJYhAgTcR4yq9B4Sl3Ln3W+CDQm+KvuCXWLVomeNRPEpuCNGZBRMDErx0icGtzAmkoaSi1ERlsZUvx2i566OybExg00THIzMcQCx9AfF+MJjUkYEZMJVKcfvFx0c-osAFp07pvTvG-0GVvQJwTT78LCaJDx2dZmmPMYYZwGCJluW2TM8gDBFzC3NmU2Rhh+kcNiCNG42IZEVIYAQohuN6n3KabNUBpzZmt2EL4H5yyuHfNGY0j2oDRSBWkcwLQIjQV-lgckkJGy0kWThR8KgxARFHNAXCvZPSDl9KWSi8htSVG-2hbo0Ubw2KojjuSzhj84FBJSRiy+4T6CMucD8YlCy8mJPHuytZfC5ybPBAyxe-LGw4sRSnAluiZVMsbN0ti3ItDIuWCNM+DBAgyHudwPEOjCnbyWmqjmRo2gFjYSyx5W99WGuNaAUkzTzWqrlQwtg5s0E0BzADB1RMuHOsqK6nQtLzWV1tdzZQQaqlgrZWi9ZkrMWiWMO0ONxBlXmuatI2NjgE2XzCEmt0SDwSZrtfG8E3AX5hA9ZHKt2b4W4pEXc8lsRdWUuGdSsZjaWJVFIB8Vtir7VpNLRS8Faj61msjuYkCCq8Upw7RO6pW9IWUAbX8ulqQ8WaFxM2ot9zJ3dq4aKdImQT1zsmYg9Yi6EXLvHSW9d57+5Xs3RMEBu7Wpci8DqwoqKeGpvPum8E7APBeFzZHCDygvCtXwMCgDjrp29ofP22axzzCig0IQEEWrLHBofgEsVnK03ctErh-DXjoODroXM-ZhHE1TpsVS9DjSB1uQmitQVpL3jIeIy4CFfaoXfujakHq+hTH+PocBiVYJTEWWKEcz289DC+yUFAOAiBkDoFDniZxSMUK4oES0OgOZX3Jpji5ORDju7SVKNZigy8bpUPs-6ZoF6IFuaLg52S8lCA3LeSvV5eD3mELQcQnzqduDcws9JTzqQqPUAI306L6sZJUZBcQYz2r54MZJZY9LsXzPWDQuhfVHzpp3O4wVhZdzitmYs7YKCiX3kVSoMEa12dqheKsX5nL+YTNZUoF1hOi1SmjYYYQPDKW+uNbixlpS9LeWyvoHHdLA21zWstXK0zi2EtgIBec3jRXNG+f9KUfN88ZzTNmZco21zQu6iseVnSDRjsIaQwt0rh2Y1ZuPZty7LRttHvjUYQt8bR1Pq3a9prS3VhgNg-+oHBpSiDcbMj-bv2PNgOxY+pFqONYY4NcTaHhPztXwO7jnDFjhEp368DknEiKd2Z5iV+LNPUitPm5ThHsR0fbZ56ibHnODTGVIKZUzVkbJ2UctSXwPNyDIw8l5DHHQtAqfETNtgILkTcG46e2Ir4n69QULKwNP06H6GRL+BUI0ssXLNxblqN39eCFIGIbdsR8KEXdMKN8qRp7lCt4Um3Dg7cNHPOYjIZV1cmfy0CvXEe3vvZWMzbWJjzNwXoEiwyafEz0Ye-9c2dzbep4LwaQ3FfK-THy3FnPBiwS2+fIBlZqQ4Urxj76-nRRSid6ojttGYJu+p3z80TsGpli+5PAqEywRw90AstZWyDkXCgMoL4EgqvBA698IVH3mH-mgnC0YnpUmumGA57tQTgkND6G44CAAfCDob2ruPX9i5fqNkcSdevW7ZsPFTqVoou3kwKQPwKoNlrlgDP-mguqoEJqiZj9s1opILm-rAatlapSIWmCCgb3mGK-uuMgVgd6p0H6q5IGnDotmJr-qDpDsWlutfvfCbnuonJvgWgDuDrOjfihgJJPn5DPv8KwXeiOkukijwffCsCNPHnlnBGIQTgzrOpwDQeSEIVIbEOeEOgoZfGfoyIZLIQDNoQ+m2koWuioaVn5IKAHrCmTivMYfCrodNJHqGCNA4S-GflYT7seERIZDIfQVwQDPno6goaYTzKui+hYRZl4XhGoUfropVoQg4BIlKJFj0jJnftiGkc-qJJCMkXTuqHCNwGkdurQuaoYNyIwPgPwAwMLs4A1nziwTYakGDpgWzqnLwTEOePWoyK0eTiulYjEbfqKPuhwa0desEbpKAJemwJMWsDNtrEYJUe8jUXUUaDbvISYWOqBi+mVpMQaBUUICsVEsUjkvUfoPsX2PmuMQuv0eEder8vGD4RoSGsmmsd4kTmjsCPwu8UFnglYgQYQTMYIfEeaiTljtFswaLMVKAEnhLH+l9iCuln5OeHuOpkCIcVUasacW0ncknoeF0TCfkQcswrUOid8SOh8sSfolKGiQSbfoYZtIhj0BniIFnjmI3kimiTXrXuhNSaSaENwJcbyUUItj-ixCTvjmEXgZTlCaym6PmgPg7JMYyUSl0oxmlnztfuKUZj8CzgzpCfDvfOeNNIyIyfqYYh0qdpqe0WVvDn5BIn8S5g7BaYuuUv8Y1tNNfgrFvNNLQRKULjibzu0XKYKKkPlu8VYrhKAOSOgcQXlvRr8VNhEoYpGcViqTjrEGsAUU6WfvoL8c9nDsKenjAfmUGbFFaeqYVjaUAXsSKaGGKXvHgGphpv7NpkHHppYIZthnAhAYAiCsjBkaKK3Hgv0N4oOTGaGKUCrv-OyBAf8CbC0JLgvsjBZCOe3C4KYiYFoMIAECYMQNQIGsII0FrrotdtbsXpIGQFfrCcyaGXweWvwtKjvCHvPLWvsZeaXtwEnt6TuuJt1knK+dbjIEOaRuinODIDynXEBYUrRm5Plp+deTbhkWGkapBaAKapxuYInsychaAaGifi6uhe6n+ZHPXtnvIE3nhWQgRSOkRdwJGv6U1OTKTunHmW8MPihU+UqQWLWhapxVhfQjxQDM4fhcmnJkgl6aJMJXBeYMJUPgzqJTRaxmhlkM4TqUzI4F8Acp1OyZyQzotmJW6BGKoQUmRZsT9MLFJiAcpQdGoqZVhpuVpfgMYK1HrsLFCRvG3lwqTHDL+ecOeIAi1KMbiA3pRSIoyMCd2S4NdlZc9jedVhkc-O6bqNjAWKUY5YbP9E6WXsLOvF2t5SpYMPLKRYOsLGfrle7JEF5Q+S4BGCVWUb-lrGyWFbnkoSlQlZ0DeSwOsMFTZfKWiNzGIIAkYB1X-CJBwJ1CNWuEsFOaNGZCxTLPFdjGEN+b1eyYCc0JNcNTbPFeEAADzAhDXTVdWAkxDo7LnTjggAAqckd+dAvgHuYgvA7a1IWIs2tQzQ4IoAAA1JOQXlXMtEKCCntb9aJBZGDcWTEIDZ1MDeNLqJMOPkuVLjdXdTIMQPZE9S9Sum9TrtQJ9aJJDZXjDWIHDaDX9Xxd9X9VDdSJQNXKTTICCjNeMv8nJBJLmSFilfeTEKAnFognJNiIZcREiLopiaNbcitZ0UUKijMeLRUrNe9ujuZvzUQBcbyXGtpVdK1VRWKcWc0M9ipECIdHtTTbMGoszTTfrZUeotSmNdaLaMzfSfGCGK+HFobdfMFewaFRRW1aQgYZdXLXgsvnQK3OUNMegk7d4QRLPn2FocLIyA4TLKoX2CNGLXDDlTbnlTyehOndVpne7JHbEc7YVW6HzeiILZYaCZHI6c9nmc9tjNzV7GCcreXdZRZi8U3U2tbctQNAjR3SXfQrLSbehErTmCrdiFDRrS5VrT7TraVmdYjgbbOcbWNcKaUKRIdDNdjAvUpGLZhHbfeGpadYXYxP9Q0K7eZu7UFSYl7XpeFd3P3bEPPtOPXaJNZKHSIOHf9Dvq6QfkeNHb4bHTCXDAnRZUnZXSnVvGneVfFfnWDNndBLnVRJVWDCfQxAxDIS3QLW3R7M2XQupnIH7FpoHLpiHBgNFWAmYtQObgGq7sBRHmWrJhyuBc3g4BZFQzQ4eTmjem5Bwy7mzInBwCIn1rbow1-KpYvuMueHw7Q6HsmOSUgs6BWnMHxbEHMBOHWR9k+RyKozEByBozXhWghLo-NQY0o0+WfCY2fGY9MBWhegPHxfY5kP6Jo0UBWsFHhuQPvs7OxB4o9QaK44UBWs-bo8-X2IE7EBWlbKoAwiwIYLWtE7E+pisBEzEBWj9SY7EPoKuaAL4H-C-irn9f46kxSWCOCO5JkzENk9wHkzkSrl5MU4Y0+UUdMNU7k-k6ACrpCLkzECUxWsAJUwYDk7UwCAU6AGAI0+Y3OOCAAKSDNtMjNjMzM9OgB9NPn-yZMLMdMzkiR5NNPTMACEwkmzwz2zoARzQIezUzZT+18zpzdToAh1MQVztjT5+1AIlTWzDz7zzzaz0zT+dzNTZzL+vz+zZTT+Hz3ARQXzoznToAELoL1zEIBzgzcLhQsLMQBzsQg5zoTo0jzusj+W8VgIIYzyqiAw3AMjXDcjqI26+L1D-D+W+ALAAAVtueiaS-fsiDkUYwS1w3xd8i3iU0UFS5bmpk6EVO8CVHy5bimVuoyEghWpPnxZPsK-WRWpAHQGqIvN4zEJq9q5vmqyKVE1QDE7AJALo4k+a0a7ySa4AgwAAKImOJMOs2u14VoABy5AHrgzXrHrO972eLMJorLUcrOVJLKwZLwosLh0IFlLMrobxUkSdLwbCbO2OKlpyDEb0wUbORgrm4PAabcr26mVjuIbNLli7u3GZ8GRju304opAuuV0LL5AeYFRvUmgat0E5b1DeGMOIjKe+x1boICIRQVdLEwEWId9vtYIGRrJrM2tee0EuGix5bRLHVQpte5bYbe1CDRQK76Ma79GzLbLpgN5NNhbDLsjYbiVe7hQ19IV07TeHsHAAg19YgXwPVjYi7KcvR-EgWP7bCEreDhSBD8gmmAcOmwcmAFDHFFApgDAWaHwVUNwpA-6mSoFaQL1Oc043yGHiNGswmDtE0mMjo4QFNDAVNtN9NcNeHJHT4BH0wzQdHQM2Egl28CgNwBaD2O5Pi9NRutVggygygL1GQJmRgBuwnHT6mf1D+wn7t4I31pQinoAX1ENf15AUnd7-oindadNy0GVoCDglyxgfHy0BunuN5tWxnE0xgzw-4A11Hy0YN4IEIYNCcXHxgPHUoZL1ndAJnuMhucoFN1g4I7HNnw6LU5sCgD+numHst3G-OynMx2kTHR2-CiX78b80kgeWHH6KiiXPcJc4jgwEYhX5zqkymSXBgh0mXs54IymaB-F8HIESHsUqH-6iXi5uXyWqW3imXH8+eXmxC9eVZCysXO0jHXxrnVHEXrl0X5LgwhuE32iRNfY31VHtdHyaRi+yYdWfGK35HZ9OnhNf1c3UXZAMX3yy3hXwX+e8IqX4uZQ-ntnAMYkoIfFH+z3AXTAl3U3y2qQpMXXGs53EIxj3ASCtXcX9tWQhX3A53v3pAPEIYbWJNK3IYynAA5FR4-hTdjyj057DYzSt+Fy95F4hwWKQCClmlT-FwPNxHijh4t-oDTy8+q0+UIMIJTcEJTXZFpIIm4GmJTRARwPCP9yUN9698z6z3aRGDL-D2T-N39wT6D4dPL4fSz5T3s5L+TzL0xeYC2228oB2yBB0mYh4CShfoQJh7131tJhj6UxCLb7krTPRtad4tJtpzEGS4b+sMb9QJoGfk7hb24BZ17lb9ogT8NwDPbxrBWspnWilafjt9JvzsZF0vry4Kz2UkrsjMH-Gm4BH00e2NNrNn1xH7wVofRkvcd4UFtxFhAqN-Mgd6n14fiyH8YKzIboyGS9n9grn-nySmH3cq3-blvOu7Igp8Yw76TIdObwX53wwpZ3ad8vPySrwkF+L1mZ3bFEvapJYzP-IAvxv5ZwTxPxUgp77+2wH6b1RI933vNbt7v1zZMT76237yb0H2v6H09SP10pHysFNhLhz+QdQth3xP5e56S6hEQin3-68E9UT5BPgrlkTJ8IEo-J4gAw0IyEM+cRRqixE3wkAi+tlehKTFj7TAzaIwMgUZGRoL5FMb9WXGvk1jN83IBA7huxw4oDFpMRlEgUuCoEP8TK--Ans-St7B1V88ud3vxRXSnlzU5oNMFVCmw5wGEwgCoIMC4HED2QW+GPv-wU6yC6o7HAYF30F6aQqoSeIgY50OgcD7io-PAW5HUjMAeYfUbVHQL8rPcP6rMHqAwHUAiAOApAXaKAlyCEBss2g4WsbmaLXRpwqfR+oSSlawljonUCWHEK+jSwrKzgvKkMQHpgJJ8jse6MWUDAh1qibJDwV4OEA+CRBWVY2GnmaABCQUksFeGrDQbPERCpAuAVENvykxqhzPVPtwA6ECDrereIoOoRCEugt4piIYug0c4dDpMmfajv0AUCl9M8FQPxl2DZCLCvGvCQwKSG4FgIh6pqB3qsN8DrDiQTwAnrPxnSmoveBgaTnTVmHzC2S+wrsNcL+hkRDA5wi9pXnuGswNhTiGFDzDIDtxLcHwowCsIIhrDPhmw9QU4zAi7CNYHw6REcLT6P9jarw6CE8ByLVBzY-wrJCCIOGDBYRGwp4BcP9CojYWVcG4ZhFNQs1RajwuYTIA8S+IuWbDakBkVpFUA0Y8KQIH9D443Co2jIr9KVXgp0i2RpIzkcKJ4hbDIRXIv6NVxmJR9fhjbfoACOxFShDIxtakW62JEv4WRlAIUdSMlFzDRkHIniJSPKLLRX2OUUUdkySpLgcmGo6YgPA0ouA1AJgeDEcV0Ei43RzgbgNnw4heitellKqtCRiFWw1ApOGkL6kZBmwyAjAYMTbG9EGwPR9ATdvWQnDZ8SqGQmMaGNjwKcZAdYWoPfwl4yjAB1IU0ZIHNG6iMxo+B0WUFcrtQUY+gDiJhzR5z8qAxoyOOlHZGzCcQbIboOCPJDdFGQ6ULsZmF8AkUMhE8FWD-HCClAZiqnakNMNrF58iQBCesS2ONIwlugjIZsbPEc6ihJM3QKcaJGUyzjuge8V9qAGuoAAJB1gwAACC4AcAA6wABK11SAAAHkPWyAIEFFUyro1rYDCIwbSxXHaioxbsAmOoN4A1iPwyMICX6mq7tiFxG-ACecUjFJAER7YzoI2ATHvB2O6EzIP+I0iASMil468XeIfHPi3xH4nCQOAQmGCCJyE1kVGIyLtiLRC4hgEuKNQoS6AdpcEFhPciijpB5lNklhLuScTQJIsRzqKJ+h0iyWwRF2C9WfyXEnRcGBhIwCwn5kqAL1SlgxKSBiS3WPNSQCGOEkwSQJ5Q8ZGeJF6JsHA5sRkAAAYTgmVGoPZANQZAWozvKqNQEGAPQXJ1qKydoCBAWSfJcosGniB9JcIApuQXyaQHY75pHJ4Q0jrLD1gBS3JOUDyVaLGgNc+KpMJKXjT65sxdyGvfDlWMCBpE4pDoVINUGyAuTdo0ebyclMYAeTIqGNZyRwFL7UZYoHklKOSA3yBAWo9kToP+jUEhhUUkmLgYZCuwsVYpmSModlLL6lJUphkNrM0Ot5jTH+1w3qf1M6FwDCRsQNaQwD6lsB-0vQgAaGHT6EAQSGQ3aftP-QWSqxFQEgCIFSB9I6BmSXSffG6nEB1pB0qTFLREIjSXC48APLajjgvSWg-0icI9HnLpCo6fuIYQaDFgJC7oSQ-0cQlxhpjoIqKLISwADYawcxhEN4eGB6l7SNptQm6FjJPrO1-wgwvwmAVIHhB9ipQS6RtMOiOgEkc5D6UTK+kmUt+uOXGcYDGFxELphMq6RH2mHzs2YhCJOBYg2ggy1wr0wMVSHFhAhJY30GWCDLRkxBXwWLccV6GyGTcO6I0BwMDUthUAuIJMh2GrCTHJjZZpko4Md2gFhDJMa4X8LXjwCQg3ZIYMWIkIRl2wVZVla2erOlpbwtZHYD8BON1kBs8hRsmMQlK4BvCGgZsgsOHO2l9g6YcxTWCzBjkN0bZahRoQHjunaxHp3ia2WrLyrrxXZ7s6QlvHBA5i9geYwQs8VhnYCM5MszoLpJBI2DzAhsxmsbOtj1iFwd4OmFsJAb1ca5HALng72rm5jx5RYoGVkEID9zqucMKPhJgmh9y6ZxOZqqzHZiSyDkG0eeZSwHl5Vl54Q+sZsId5izt5LlXeY8EIB3h95pkmIOXMhDHzSY888IB-EoZLhb51XLubiGjkRg35yc+9iom-lALYgv8nuVxDn7Ijkx0wOfqSDAXbg6YCIyebXK57ziO8LknxNKUw4SUMU0pLFC5NkqOj6A7iCCZYhulbDvkN0nhnJW8mmDKFEI99FkBGQqIaF1XCtJ0D6m+BeyvFBEUR32BVTWxLER3OcgsmVS9YcY4CTpNACpi8qa4mIe4jHLNT4oF4EqZknKneIbpKJIknQCNmj59CE4CBdHKkV+pEFhoLSuQrSwbkVFekvsHIvdihT+Cei7uQYpHlTz8xAuO0ZkCEEwEKeZAEFAFNMFKKjiN0wkTpQ-aljGAFoiBZWJfaSBzxV4hgI+MsgAAZB1p+O8VsB7JoCX8SGIskiTtJS+B+eBMgkVBoJnEuCdRKgm8IClxk1CQT1wmNg6ltClwE0pUV3IiJSSlJekvABUSQINEjpfUq4lbDJJB7QYMEWYm6jWJ7E4ZXYtDDggLJfE6kfCC95TLDREIJAYspcnLLDRYvaYY7jqWiSSlEk6kVJKoAyTtwFknIpcVEUqKJFuMY5XTC955KYmRyopbpKrEHJBGLUVnprwCUXIPl5QjsVKNGVnKtRlyuvPHVhaGQxlCxO4UqImU512o+EuQesVMUmTnl+xW0Ycpcl3IMVMi5BTyXTqiiqxhhfxVT3+VU8xJIKsUfLIECtBuWQIQcawKpXa9wQ5K1nn-VeIkYxQocnWYyojxNdvlfbCldTy140rSVi5QVR8XoDD58VWvO0iSrVEYKpY5Sh0EBMbH6ca4W4uUGXDASSZdVXy0bIEFRXGCUp9UqCQ-iQn0BdoIhBcRqqwlgyLFVIDcUCBmVZhlxTqoYueBE6S4pEWE2ldm3ezrLOx3QAXnRPoC7LZh3KkVvwBxARq0VdAaNX9HfJ9ggeNq4pbaL9XFSQIga0lVAIbm4DMqHwYIC1ACnfQFxDy6qcGyKWMg3gZCg7tovJD2qoJGqypVLXPBur3QUEtiZ6o4lFKT6vqxILmpUVBqAQUNUNZyPDXSUdl-Ek+qVATWzqOAKahQGmtDBZSXJ3AbNSOqkQBSC19czAcRHOAdyXABgsdV1jUlOrxRmCx4Neod7nrxFTqgnueqvWZrWlggZQWavdHvr74pa01YGsrVWrvVfYmEnglolJrySxE28feKfEvj3xfS8kNBtIlwaKJmSjNZGqzUdNwN36+ovSRGjggMQYXfkeYEfVYLGF5If9eWu8lAbyl1anRTEJw0FLGQ0GnpRkr8isa0lGSiMUuAsnbrsNbAVmAUvw1VyiNqqx9m8BZbW5TEAnHlYPXp4yaP1DhSTfNCt6ybb8zM7-Ox1uIqaUQf-QgOpsegqJFN7HEYrfWChSaw8imm9XlyyAmaSN6+CyhZtU3Wb1BmmgzR+tuLOa9NamjIr0MM66IagYgXFKzD+WubzB9lLTeOzciSb8AFU3TWe0lVqibNEm+gJZuTB5w6A6WrdIvJgbUiCesWiqTprS3zQGiWW0rfMqfp+K-lymkrSiEy3ZbVqWAaMpXmVWGjxki6niSIEpqcqtefFQrVxJyUtIUgLLOLd4m82JbgVpKlLeZpG3W4JtOWh3oWLS7oi-hCorEUsKRUThetASjYsOiiRzb6tC21alNrVGQQGgtoizWNtGAjpjt+ZQ7Wez2ItbEGeW9rfTE6088LIO2qnnxSu3VAJWoCILSZmrynb2tYKw0ecvpET0kF0Kp-M1oNASjvtIKIHTuTFUTcmtsCuviWNGzRLdRyClrF8QiVmjcdGy1Of+EAjNAZi52ooG1tmHvb414IPnj1uq19biixAYLVoAB26IUYJgfgFoOt5bDGSdA99p+wFSz0REVYq-v70D4rwQdtO0FaeFTrgrpJ9+RSMPLh0NlkYvO7VHYMiSOCgileKHpALEmILuotMfJm8OEE5hLZyYmXGIJJhUABopAHfFTWa3k6ig4IKXZ-2mhi9AS69bHWWNJ1HyTpWSvdvLp4ivROtXum-mfmZ0YExVfFaPTLsGj2TzwNwPPh4z8aMgAAnCcFASZ6vGtKowH4OG0hQ-GtKtmObB8TFEfpYQoeh0Q7r2yDALgWcjZKlqFAC9IKTHpjwshoA+9sajATDMMid7meHwfoSsE70V7F4ucSSaMjtIuAvImFEMOMI72+NC9kk6fS-W4Dp7aia+vJgcrYDcLeFAMfRGWqS1g71B4eyPQzq4VeNj9ce+Mr8tZ2CBD9d+8AhuCG3mpv+qQP5dUFKirgyArcA5IawUVUhWgjIPvormYB59v9K4yLm+H878AXORwfZS2oDyBpSAQBnVhVyBCVpa5PMeJLDJH3lNPIYAhfrIq149rSoMQTyBU1HYhgR9CPP5a0GOCn0j1DEV8IGoUGuTlBUoFg1LTI0tTL1mah-F+sDWmD+DQxV8BgawOb4cDGafA6IlaHEHaDpBrCZ+pUGq5VDvkNgzDPQZFqJ9e+iEKodIOs8LwYY+ViYc8gD7Ygk+i0bCrOWQqYdRsBSQXiYNa8u2teXXQ4JMytATdBga3SDA6bNZCRSOlnnWgD0k7OxMxbRFAOi3YULKQgQwPZFzh-7+ANamIeAaBCQGB+sBgLggeoMU0UD-QuOkbHJJhG-DxYzqMTqL0xGRNb6WzXA3SITy7Id+a2M5xdjkApI-4CfIryf27bvDNAXw9wFjbCwTtZuoIzkWazTDOJkCm2D6P1hXxB5l+6FapFHl5ja+Xi1BWPM8WEFZ5QE52KuId4gMYgx8yTA2M2PnV05medmJzA+AM4FjLsXSS-K-mriP5T8JcC7Gq6zH-5IClseYr0YqIvjAJycNIujEmybYuqkE9uEOjAm45zh1BgT22N1zMM3+tHZjzdH6BYFAAHSwBPr4VrMKbDIGCAxcqduTIFnKGgg97RIMhlymwKwBom-lGJgCVieTG4n8T90wk-gB+gkmVxY0XgKuDtI9BSYAp0AAAC8C2oAXE-uwJNMBuTxJpHhMZ6ASnKTOkakxkkAN0nCoUEBqIkfeApHpwGJ2U0Sd5PDMIeHPSmiwEprKBKaXPSYJjydB4BGTHho05yblM8nFTZpx3jxMtPWnbTYvdU75CAA')">function pattern_match(pat, dat, frame) {
    return frame === "failed" 
        ? "failed"
        : equal(pat, dat) 
        ? frame   
        : is_var(pat) 
        ? extend_if_consistent(pat, dat, frame)
        : is_pair(pat) && is_pair(dat)
        ? pattern_match(tail(pat),
                        tail(dat),
                        pattern_match(head(pat),
                                      head(dat),
                                      frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p22' class='permalink'></a><p>
      Here is the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that extends a frame by adding a new binding, if this is consistent with
      the bindings already in the frame:
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-consistent var dat frame)
  (let ((binding (binding-in-frame var frame)))
    (if binding
        (pattern-match (binding-value binding) dat frame)
        (extend var dat frame))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06cDwc73jxxQIBgeAkFQNA8W5i53vMYgUKoAHcgUQh6GIOhKG4SWcyGkbRRBLQKCyUXxZqKW-WmUolZcxtpv0NWJc16TmlFOg-pFxR1clygtZk-LCAYQxfAUFh8H1m6Xbdj2GHwGQ0ktw3reNu2ZboOXTfdVINEIEFuVRYOxdD+2ilKWO2F8fRBfzYX9CZhgUcIQI3GcJObc18O5bQ9DZxA-3rpxwx9Amlai5LwxnGbo2NbDloI8mLAoLN1IssoYIGFFxbsrocuU+k0oc-XPOx4nqfqhnph8AYDPqATsue9t6wq9T1Zo8n+g2NRTo5970-YkXtcL6W6-VZD3uT6jxW-pYYRyEL5GxdiCl3oLfI+C9BLkx+ojUBbAf5-wYIufGkgyDO1du7XUYDK6GW3HAt2CD3bCCzofSu-dI7+hHs7NoBZHBW2TnfCBS8qHtElsoAGxgWG0OdswLQ-0pbd3fkfT+FDz7sA8F4LBdtGFPzEcoCRJDpZkPvmGc+gVuHCz4WCBRyjdItCfmoj4GjbaSOEQaSh5pqBiDoJoyROjH4-AsVYmxCjTErEoRUZQcDKqgO0dIn4HivEzxMUoqOJlgjBKsjZOyjlqS+CluQZGHkvJLw6FoQqEUmaCEIHHLOyJuCtzCITV8opi7UAUNQGgOYWpM3zg4X8CoRoZ1xKU8plTqkwNnnkwQpAxBhBovhQi7phRvlSEbco0D+adLqbtGI54S4ZDKikvOBdCG5LqTXHS-oUZo2EIXCOcF6A2JwZsxMHTEETUtsrZuyJj7HJOd03pGz7n+gLrLA51jjE3OfIUBWqQ1EG3mWwKRE5Sj-Kos-NGYJAXAr7M0TsGplgDJPAqMJ04umRNsg5FwmTKC+BIEkrJOTCqxHOBkjpwJQR+wDtNZuRdDAn0JkTfaLgbjYlboCAAfHo3OWgW49JPjLQBfTZpvWTNyxsbwr7OBvi4pRjLflMFIPwVQWclm8slRU6VjYgFsQTnQiufdZaD1DPY5e6rL6avoD8Sk1DjHaNcW48VqSrYvy1TvIFZALZtNsSfV6oqWJMI4TQthRhKAKEoPSuVxFimpGIGLXFzDg3sLDRG+pKwRrwr8ki-4MaGBwI+Oo3hxiPjhomIy9NxMnXLLggWwxRapahtLcfI1WbjxERDOeKopBa0psbgWRkhk1UAy7T2oxDaS2ps4C2kMuawU43zjWkCE6+2OnLXxZlINF3cPDSuvy8Y21rpdJWwNtraH6DuReUd9aI2NsndO2M5JSV8zFXXKlYoLalysVKC2-1CnERGqy-QP74pcqhA4Rx6o4TcGA8KslkzqTckYPgfgDAAkXNRAI+hR9GW5qDaw-VKcZmxHPBOwwjI8NcLrXG22mGDWHiPRu0UcbNC4goyG0jOi06gHSJkO5axsmS0GIYRDfsUNoe8e8Bd3al08Oo+OlNEwnknOE0IUTIFxMz2bhevszVE34dGFeuTN6OOTHo4xA9xEfmVtFBpxOvi+w61BPoWzVVvYYNsZx0AzQeNsCzSKzJTDZHyMEVLBlxFzyrMZEF1q+AiG2L8uePcZGgQqaQ2JkwgSMObVi74Mz55wOfvVMlilBaG4Fc7l+wYSWzMjSHdlohgqdl7JzO8mxSWlPPM2eVyxRXuDac6w0I19N-VI30cTQtRnglGvlZW3Tc6CznugnVtR7dgGdx8SFw1A9hsBafhB5xm2wvknPNNRkdX9u2xXQAoBIDZ72qUX5CDaCfae3nRdqWz33P3emr6gKlbpp+t2-4jL6GD6HajeSUUBcXMbaw5rXCoBySmudbUyZqGQcSa3s-QxH2Yd3c27cpbA9yRrEK5932Bs8fk7fnDvu-WVh1ap9Na7Hcwe08JwN0MQ2-WMw6WRuQrMoBwEQMgdAPNiTPpYorCpetbEzcY6kdIbsyBy9AAAHzV4pUUHxeqdVVxrrXqR3Ye36Pj9n6vNcvkVxkGndHCgG6t++ioaopTaNepk3WKsV1y4iIUP7G6FGA-JaKZgYgJC7LrrenYfR7g7XlwJEpS4J3hAAGQp96P0ITKbwjCSBJQGPoeg-wfNkHbR8e3Qh-IGH2oeanOyvBMB9Jku3Jud9g3YDPv-cCUOhGbRO3g8x0Kwd83-7rOpFD+H2vc56-va0vTTJs-qed6sxunvdYhiZ-0L3gnpn3fksX8z1bt3l+xBGmv202-2f8jg2KmzGOgnJ-L8kcfVfJ+R4nRZEsQh1P39RPCC3huseb+TmH+okMMfw6OnioO9A-+BuCM8GVOreYE2ehMZ+m+EY5+yB4apm8+5KTO4KR+62s8j+f4aBIwEYmE2e1+ze5g38+C-8hBZcJBywCqE+Ne7+KaFkeCv8DBgCrOMBuB8G3BCCSClyqCSBzczBp+s2GgRg6CbeAcwG3AmBt6u+s0Hu8C-8qyqhqBlaKhlB2B1BI2tBfy42VGNiUhTKCeL+1eEeIBnBokBismmiTemSK2fBa2TBKBpBeh6B6+ye-exeoyFqr8Oho+CuQB7B9h4an+IRbqjBAhABjubBdhc4oB4IGqr8E2LhghYqmRbqOqe8eclhe0Akr6gQMgUeoAeIuRLE+RVqEqRop6YIJRI05RlQVRpIe+8G9RFsjYnQysXq1AVSYRLBla7RlRoBOggRt+qQbGya2BuhERKRU+LRDh4I8xrh5Kum8xt6f6YxG6keGxp6bC4I3AHG3RYq8x2RNGYRsQBx3efhD4VBlxLEI6MmY6axTaSxjxIwFx6h5KJcHx16khCm8slaBhqarxbkTG8arGJxCxqaPxFe1umQextRMJqQ+awJk2HGyJz+aQNuW+-hYJMxUuRuXIEiJRpRKJkRqRXxii4IQWWx8G0W2h1JZBgwkJRhmSoou8+8oCrRY+dJqxVR4I-JM8LJYqryHhx+Qpq+TxWBdsGJ5grcLOnhRoox0hCp5B6+3JRhvOky-O8gSgQuHMou3MlgNBBJlASq+eWcyM4MERxuHAQg+gjpiOJqoAiSue7ISq-wikxkpApk7pFkLppuLQgCJgWgwgAQJgxAwxtQjQTexhLKUCNSoh-0Vy3AqyR2K+ZRTmGRIc4yTMZxF6mZKC3aOZOWv28BsxF8ycJZHS+cTp1hIpkeMgsRjZIgEyyYUpbxZyFZVyLZT+JWIEFR+c3ANR0J5gKyOWI54RBZBaE5nZoAXRAJ8Gry+y8gHyDaMgrZboExk5ugZJTUUC82LqkKB5aIhZF5ZxKg9AV5M5BJF540OM1558KxkeP2jh4200-ZbkF5EKxi00H5KhoFp5AsjgXwncnUzWrWxi02i5boEY06dZbxW6cM2cA8o5h0aFqZ-cni+AxgrUuSyCYWfu+ZbopMcMtZRU7wAg+eLUzGCabyO5mijIPmJwBFumWFEh2MBY+xVFJMSe8huoAlwCKp2KyC1O1yyCzwlF2pvxgwdMz5eMlsK6cllsCl9xwl94WQql-m5K2ygm8F7FxaYlkaa4kaLA6wzFOFyFaIksYg+echL2hSvpHAnUrl1lnGpQpMvFyCblGCVlnQYQOZdlzWnGzQXlLlqgwVHshSAAPMCM5T5WFZ5roqihCAACpySQJ0C+APK8CaJkY0jZIghJmiSgAADUnp9yOuy0QoWcEh4QdV954ItV9VymtpTVMgWcvlmVQZIZ4IeV+AIMxA9kxVpV1IWIcc1AVVnVdV9OMQjVnUzVCVuobVokFkXVK11IvV61-Vb5EwReL6ckEk1O3uSBeZpy8Gsseack2ISFIYmSqWm1oVW1h6RQCqPmH1mVMkD16I2I+1MQrCMFV0bFhyiF229OzQSBKkQIh0rV+1swm+vl+18NiGxJD4llx8+lJ13yRQDEgowyssiN7IMeLFuIUNu5ds31hQ2VN1ok1k7s5Q3GlsxKR4BEyKfYnayCjI7xP0QV96oYI071cMsl+c8lHWOkktNK0t2lZm8Yj6XeboQNT12FcsZ1LET2SB11Yl2Mt1MQAWEcj1RAWtRGJt5K71-FA0X1lm66bZf1KN6Ei8ZtwNi2Jy4NxFkN250NDaQ2F68NYlFNyNeN-WpQpEh01l2MANZ871mEeN1otog1e6JK3VRQr45NvpTFhccJZlAd9Njtg2wZ4SzNkSbNIgHN-0BKs+XN9EFmhk-NlsgtmFItA86dDGAkEtMlEhitYMst6E8tVEWlYMytJKqtelGtFt+F0gIMfOLMpp7MIuXMPM2ABFJSvUrSiZvZicNy+Jn5r+URc46KLSmqVSAF5g59bSDAZSccRmQSB9PhOpXJ6+Xyfq54N9u9TMxWkezoRxcw95sQcwE4HORQRxHIwDMQHIYDHWRxCE0Do0pAcDADhZdcSDdcqD0wRx5sNu95eDmQ-o4DhQRxwUcc5Avg955DcCRVBoJDsQRxqK0DqKfYDDMQRxNw+eO8LAhgZxXDqgPDZGKw7DY5EINVSDsQoZoAuWnK3pXVdDojRx7kkjMQ0jsjAIXKiSXkij8DhZUG0w6jOeWjoAkIMjMQSjhZwAqjBgyM3AGjJjYAujaDc44IAApDY0Y3I4km4+Y6AJY647npI145o-I76blno64wAITCTBN2MyPGPyMxNAgRMuNgjghJWePxMOPyMpUxCpM4OFlJUAiqMhMmPFP5MBPpMcpZP2OJOJJcqVORPVMlPcBFBlPyMcpAgJPNMQhRM2PyOFChMxBROxCOnOhOhf3b0X3tJo4SGAghiAZzDcDf1VJ71dyTPFQ8DTO30Fz4AsAABW0ZyWizshyIcjCDOziZ95KhXyojRQqzszyYwq9FVIjz2OzA-CjIkeRx8K958K9znOYj4IkAdAaoFSVDbToL4LuKgLnOnDVAgjsAkA0DAjDAyLcLA2CL3DAAokg2izi5i51kcQAHLkAks2Nkskvx06SbMMXbNlIzMfPf6yULMrCAbCihOHT7krNXNrNf78J0tvN8stQCsgQ0psvTActyO3ObgMs738vFTf4vML4VXNIivrOgJdKtx1wflNJ32MDiikCZxXQHPkB5jCa9SaBe3bjvP30cCaJP3rIXo6uggIhFBGXwbARYiF101PCjkmU9m01HLQSxyCb6DvMFx22g3vNiuyVEuxBhvoyRtnL7NHOmCRoxsatxs0oJswNU0F3BtHx+ocCMUx5iBfC2WNhFtSzkb8ROw1tghOjz2-1L1szC6cyYAYDWkPlSwUCmAMAsIfBVQ3CkASLgHNijl4PK7TjgUTSYyOj3xo26kX7r4TuLtdXggMBLUHW65iAbVztAzYT3zNCHsLvUGZKiw3BUKiExmhp7tCVKWQzKDKAlUZB5xGD5IvuJNkZ1UtwvsU3gidWlBAdeY7XVV1XkDftD0ThAfnGHW9JSVlB0BILGD3vLT5I9KRpqkOCoeFgRD-hq0uBrViCbsQhdVXv-zGC3tSiAY4cocTTGCYeIfbXwjghqW4eMctTKwKB8px6OXnx-WtxLuiQ+baTTCUKR7CegBp7SQjKElokRjCfhAa4Z4rtZDKegDJOiTFDwghilAb4jDSe+ngi6eKSlBvC2lQcgRDuxSjsSLCeBntg7wVVFGJzSeycTgl7-So7JjqnH7Kd+WiTkd1WcfdrcdkC8eHQFJ8emZ7WwcQexIvZvod4yk3ZEGxfbU4KdU7thckU8eGdv22gxeBdtXZfWDidmLId4d5Sgj3mtzcB5cRekA8QnvnykyOcBjVdccQiIPcCR7Rc9L41KdDf41NdMCRdtfa4Iexf6eiQADkO77K7Vi3IY8NCHG1wnHHDH4Xg7BYpAWcLCB3H5hDWQ-0M7hX+gR3BTQLRxQgwgHVwQHVdkWkFk5oaYHVSqHA8Ixq2s3X4Xl313w36+QPjXO3+Xk3a3-3aHh0oPBNcP43QPOtbkZrFrygVr4r4KxcHga22cgCJ3McrnAps8RcInd3RPkptMZyCRJP+PMHRQgGqP6w6P1AmgV22PbCbgzHtK+Pv3RkgnQcpPc3Rxun5xYlKXgvvPUPRcyP5g13aC8SyMiC8gnPPPhAu0uaEpicpPRGnaZyCNQIIY+t7eQcaX-BtP6vE9UzOPbgNeBSjIgG8vLsivyvNv2HWHePlv6dI0UbodJniDc3pMh0HPa2dvWH+NKhIftvuyBSpmUPvvL2gHGDgfKvofMfWH8f+vfvqkTPlrrPmPOMlXXGNFWfL29PhQjP5rzPGP7PqfXPDyavcfjqJfczht2zbvYfiHraPNOawy3nAMOva6bRhZovSXGCEvPnOv3fgyjttWgCfmN+LEuKJAnvBP5yY0QvXXeF+P0vZd04RcFk1kmKMSNP7IeKxAV9LglntxpPU7qQpMm-f3qFO-jq2VB-LNUSWKkZ6Xbk1--CKZC+W3ppCqjjxWoLUAYBUEGC38BOy-Afvj0A7vc6oalCATvCAGxRtC0Aojmp0GB-8b0U-T1vWR6ir87+7ZJzO-1M4ADg8DFb-H1F5Tv9aKyHKursh6gMB1AIgDgKQF2iXsiAqqeASXSGTOciBg-fgYaHpafQosx0OCt9Cwr0D5KXdH6sKXhS3RtoNLB+IwOQw9kWBbA4QBwM960x5KcNB8oQCzifRvcn0Imvuh74CD5OD-XngzSfYiUxouQYwZdx17cBnBWcZ-pbwnp4Qm6fYOfoQHkEMQGII0Dwav1l7EdbS-QBQC5xIA9kKgtDLsGyASGUMa8hgUkCQJdo1E5uKQ3wGkOJBPAoeQfTfIYBqLl8pGP7KIX9FiGmVchXYKoTEMwhlDQazyOobsnSEXsqBysV0mszaFGBkhBEVIe0IyECdTu-QkTm0OdgFC2uxQv4s0Ogj+tQm1Qbof0F6GDC8hgwSYekKeDlC+wiwrlDrmiFkRShahRfi3gaE-Q4EYaM5g4HOIfkZAVwtGNwkCB-R72RwjlrcOpCdDNyjwyWM8OiFvC-oa-F2g0JE4+YoeywsgD0Jah9DDIyNUEeX32EgxfhjAQ4a8LRGNCSSLw1rpBREqUBBiDALhlxA4jcA-4iiOmKOThiAcZAdYWoJ1Tm7ggaRewOkdL3aA3wSRrEKgOEDm5UiYgEI1IEQI4jciuugbXZEKGxyghjEHIskfoO0r8j1+8ELkTJ3TyJ4xoZIkThxAJFEj4qEYIUbsP9ARh1R+og0JqM9SEiqAXEYPlyONGdZDoRolodBDphtdGRtIh7hEOpDLRS2OUDEe6Q-Kkx4mSInzLiJUB9A5EO8RgIgPc5oDnA3AeXhyPl4UjwsWzbUQwGhSMhTRSQc0ZxHipxiqA+SaMfQD6xAttwCYuQVgJTFpiTOTIjgA9zm7gjHUsFCtpIG9ENCyY2Y1McAgWTBjeAJFdqCjAjZKjRhcxGblaOVLuj0o-w14d0DZDdARhx2LZsVnSg4gZxfgdcnpXfDO4vQRgcIKUB8xgdDA7ovsUryJD+wBxxdecfS26CMhRxNWYUkQO6A7idOnVZoN0BLaSBQAOVAABI4sGAAAQXADgAcWAAJRyqQAAA8iS2QBAguKPbGQJIDUCoCNIWWDMXQFlEEwBOPYlqEeLPGDEROE4o8XbwLGSYUJbXCcZ0H6JESDxG5MVGRMyCIS0wXcf1gJy-E-j-xgEkCeBMglqV8JH4ZGIRKQmMSSJo5CcT6KPEMATxlREiW9yInuQMRlAzcu1HonADNSKEtCfhywEYjLhVAQDMcjJElVOU2mNQCYC8DhilJicPSeZEnD4jPUakvNnBPbGRjBJVAQYrZOGyls4gGQUVhoOViMgAADNxUyQ1B7IqYzybEPjibxqAgwB6KFNyAOAfJQIL7l5LinaA6qeIPyCNESkXxkppANSrpiCnXQj2AMddgEFCla8qokUv0UuAoErMlwmUsqTlEikp0sg67U4T20CDAYCpC7VINUGyCeTdocyUqRT1iiRTOKk1EKRwDCludypUUvyDikCAtR7InQCRJgIrQREhB8AwyKUDyljT12egjyRNPqmMAKphkShLYPV6bTkGW+eaQwEWlsAJE2-S3jaJgbXTbpEiLwU31DDGR5+U9BwX6WIALSlpvU5sO6IqBxDQgfsC3pREKm2TGUc0-6TdMBnqTWwffAURNGzhpoXwZNNkc1Pnb9RV0Igp2ihX9LyDLBM-C9BFgkF3QvojAGQbZJJmEyCSSglgKoJkg0jCILQ8MC9MBmmCDYzMnwcTSHjZp7BVhWkg-2FHQRSgUQgGXdNcFyhVOUshGTLNQp88JwzQNmcYCCE-SRZLgBWa9PCEECA0qMUyuKPFilwNoxU+2jDKTFiDJBpHIEKYOkFBULZhlUmgYFGYbjPwUocwVbRpIqg6AzVLMVxB5k3RzBRY4sZbPUpgwjgmdIWbmiIFrhfwnWPAJCBTkdotm4g+2bbINbC0g4a4OmSGBGjuyOwH4F3IMHMF3JAw-s-qoHPirFSHRRQYOfOlDn1ykQBg6CF9J2RUxgYecyOTNFJl6hXwoMwTKPFng9znZ8lBSsnNTmrSBILo5kW6MfR+CGZkZTuRbJ7kuzJ6Zw8wA4ADnaiI2C4O8ImKwFUiqxrooviUFEjViWRr-bGfvJWakgeRyCeUYKJqKZ0L5oou+gHFNmdwNohAA+bZOflozCAGQubh-JNnEUf5jwYBSszZAUjQAU8yEPKNJh-zU8Ko+-kuGAUicd51cvebqPmHPJdRpIJ6YUGwW4g95wffBeHKKDB8iFLclYE6Kh5zyax7HA2ZiXGnJpPia-L8vYU+IWREpl-Xtp4h7FlxEpYFRUkDMdBqVMp2hURZkKJIUF18oilWRfLu5sBFpvgcfP6T06Op9CiivqTyX3xqsd47CiRbGP27NJnJNk0AKWO0qMpzwniU3OwsZDtSNK67bqbPFEUJYtmpCjsTSCBQDoJwPivebmOslJBiFDQN4EIoy4OLVMoi8JUUBsVRysBPiysapCvm1iuu9YiTlWi0B7cyAWcaRfORiWMA4lF6RsV6NRGtiUlnYoFEYXcksSGAQEyyAABkcWUE7jDbgCnkp7JCExKc3FUm9yPymEg1hUGRg4TPUeEgcARN2R9LxlSQUiQOHInsLm4SHWiY2FmUfkGlTS1peAG4lTLeJNeWZUJIE6aSk2gwY5CJNbFiSJJcyugHm1DDghEpskhofCF2GXLsREIUfo8s8nPLsRP3d0fqyOWWKwlgy0cppIeHaTZCxyRKXI20z6t-4iU0xVZJcmDLdhPSwRkCtCWoTBlwYzuGLAmnXcru5i85FirUmTieIYKi4RCuuEg16FAtUJoZFOUCZ4h6wqUBejVAx9KJRK-JSSpRV0xjRSIwFZ5ObghK+VE82WpLQxHBih0eSg7tyoO5kqpVdirZq0HOZAglxsA+VRE1EgyrruDdX2efCUGqq6k5nD0fipaiErruiq0EU52NX44pYtxOHpKtBGHj3Foyh0GeLX4kdLuQolTmrnPhECbxuK8eIEDMnlSjpvEluERI14oyRlKMD1Y5PoAYyIlWzK8UCGuVZhTxiau5fIPsWJB2pIEbNeSslabJ3lAI7oNJIEn0Bfl0Q-VYUFKg4hK1DE6tXJPL4dciJ3AJEa+2DKXYi1UqszELOIhPo3qIalqJlO+jYTZF1st5sCpcBAhIl64DLp4shyxqjxHqkiT7PPBpr3QvE8SZmskmzr+ZeantR9kykYiS1OkMtVOO2COEflck-mQ2orW3qOANav6GWT7CkxEpnaxJt2oLXsLyVRNQdarS3kuAUBmUieNmqjVVq7lJAxFdmvFkyQwNnkqDc2ruVQ8UBkG+DcgOECcroNKG5STBuIgfBgg4AoidnOwlYaLxVID2LhtQ3FYGlbE4CaBIgm7LyQDGgCUxs4ntL210G79XIxo1hqjQt4jdOCAxAsL0KbkJDY8CnXkhiNoa8dRGtGUSK8sWzATX0sZBbKWlbSvyJpp2XpjapnkvjaEzU3CrhNs8sTa6vzosZn4BzZsnSmBFEl7NalIWm8Fs0ohPej7bWdgI81IcgSNm+aGr080GqvBsGTerGgLrBQ3NyYHzXIrRJObqJGFaTKhhSBRawQ9m3Cpvni0SbzAfmyLQFpi0wD18WWgijUDEDCxdkhK9LQJwemhaCKrm-AD1Nc0BbrV2ItftTX82TJg4dAVLUsC67OrsRUPerT1L81NaUQAibrQFvuWxBdV5iqTAWlG2mAutPW25AjmeT9bohRhBteKREAdUZt+S+8kNpzU9tItDW2eHlrG0taNtJA9redui23bU0dYm3BCIdXGtVhMI1lecu3B7a5VQte7c5hS2TbLtQIyCA0CREnbhtwCdTADrG3-bDAy2kHScnW1Aj6YW2p7hZG+2QtWIKW07c20CnEAytvKApEDopUnKqVVwnSduBPkcoh4BoMYRjqAz47ytsqrOLH3iX+hylzYypR8qdG2BVtF8jnePC50Ai6YQ8QCN5htwI7W5GlKVa9C20vddtQsXJXqugyM6tAuO4ynxNfZ0C+BWAurO-zzoVt9mPwRtsGNz4s82eBsInb3IA1FhxaZOyFbSpeT0rqdXOTXfwABjqRPmNAPOPtUG6Ic1J8S7qLTGMYtDsqOYMOeHIxTRI8RA0FBp5Ag6i7Vt4IM3TX3-IfSDQUdT0ZzvJUD0+QTnHzPTyR08RZd-ACECnvz4roFdPKC1eYvvLl6Ldg0biueBuBK8aGlDRkAAE4TgmSNvaxlbFBae97EWhuSrvrKxQ00GH2bmhBHJriaB6V8HOpEi+SfZhQXvfoHm7zcLIaALfXWozpWCCZMQVffCIsHTBe9I+mXNOE0mUF8aLgLyNORDDBDyQp+zSefs-aQJW9Q+yhsGM6DqLNFC2HrCRuJ33C+6DQkvek2-2UNf9F-dHYrpr37b8kaiiA4qg3BdL4MUfVIISuqClRVwZAd2J3FhbKr6WrQRkE7ziTMAleaBgcQD0wP8BN2Rwf5SuoMBVJSAuBiFlp1UidwvKc+b6qvvBCeQvIaB6xeYp3WlQYgfB3yG-NiCr7Ees21oMcHMx76GIr4ItaAJYDgCcNUoWQz7Kk0tQINREluDhsE2MBtCmh+Qa+CYMsHcUbBoEBsWZFSx-8++rHSFFoYQg+D8e7NYIHUOiBXDnkcQ4OuCFLyGgPB7w15Gu6XoFkZGYIyo35lP7WxjKi4RTsdHO6Vq0h-JTa2eSe6aBecVoAHsYPB65GcsKbfTuyMejOoFSnPUGLUIq0QNm6JLUIEMD2QVc1B88aIKpBEGgQJBl3hQZq5NHaD9BlowIDhjFYij5xLPYLvKM24iav1IkoMZE4N5xq2o5aJyOYBSR-wcKcHrAblUZGpYtAgGMUe5bIJwquRkGIkwKPuiwFAcSkJKIbQWyZRoK6dQIAzmgAHZNMp2bjOBgbyvNHs0ucoJOimrRRXcrGEsYAWfTkVZoveY3IWyhygTgyv1GgeZ1r7Ix+gcOQAB0sAcG5lbslAEyBggvHAvTIzqZyhoIG+sAjgeIoX8nQcJwlfN0RMom0TyGs5VjmxMtcBxY0XgKuHxo9BSYbJ0AAAC85WoAVE0UAZNYmcTQe-E7ybi6bJiT4Icw2ScKhQQGoW6Oow0enDUmMTjJ0U9k366FlyAHVFgB1WUAdUHukwebk6DwCUnZtapsGRqeZNangWupsMgaaNM-dpTvkIAA')">function extend_if_consistent(variable, dat, frame) {
    const binding = binding_in_frame(variable, frame);
    return is_undefined(binding)
           ? extend(variable, dat, frame)
           : pattern_match(binding_value(binding), dat, frame);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p23' class='permalink'></a><p>
      If there is no binding for the variable in the frame, we simply add
      the binding of the variable to the data.  Otherwise we match, in the
      frame, the data against the value of the variable in the frame.  If
      the stored value contains only constants, as it must if it was stored
      during pattern matching by
      
	<span style="color:green"><kbd>extend-if-consistent</kbd>,</span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>,
	</span>
      
      then the match simply tests whether the stored and new values are the
      same.  If so, it returns the unmodified frame; if not, it returns a failure
      indication.  The stored value may, however, contain pattern variables
      if it was stored during unification (see
      section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>). The recursive match of the
      stored pattern against the new data will add or check bindings for the
      variables in this pattern.  For example, suppose we have a frame in which
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is unbound, and we wish to augment this frame by a binding of
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>(f b)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>.
	</span>
      
      We look up
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and find that it is bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      This leads us to match
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      against the proposed new value
      
	<span style="color:green"><kbd>(f b)</kbd></span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>
	</span>
      
      in the same frame.  Eventually this match extends the frame by adding a
      binding of
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      to
      
	<span style="color:green"><kbd>b</kbd>.</span>
	<span style="color:blue"><kbd>"b"</kbd>.</span>
      
      
	<span style="color:green"><kbd>?X</kbd></span>
	<span style="color:blue">The variable <kbd>x</kbd>
	</span>
      
      remains bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      We never modify a stored binding and we never store more than one binding
      for a given variable.
    </p></div>

    <div class='permalink'>
<a name='p24' class='permalink'></a><p>
      The
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      used by
      
	<span style="color:green"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue">
	<kbd>extend_if_consistent</kbd></span>
      
      to manipulate bindings are defined in
      section&nbsp;<REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	
      <div class='permalink'>
        <a name='h7' class='permalink'></a><h2>
    
	  Patterns with dotted tails
	</h2></div>

	
	<div class='permalink'>
<a name='p25' class='permalink'></a><p>
	  If a pattern contains a dot followed by a pattern variable, the
	  pattern variable matches the rest of the data list (rather than the
	  next element of the data list), just as one would expect with the
	  dotted-tail notation described in
	  exercise&nbsp;<REF NAME="ex:dotted-arglist"><a class="superscript" id="4.4.4-ex-link-2.20" href="./2.2.1.html#ex_2.20">2.20</a></REF>. Although the pattern
	  matcher we have just implemented doesn't look for dots, it does
	  behave as we want.  This is because the Lisp
	  <kbd>read</kbd> primitive, which is used by
	  <kbd>query-driver-loop</kbd> to read the query
	  and represent it as a list structure, treats dots in a special way.
	</p></div>

	<div class='permalink'>
<a name='p26' class='permalink'></a><p>
	  
	  
	  When <kbd>read</kbd> sees a dot, instead of making
	  the next item be the
	  next element of a list (the <kbd>car</kbd> of a
	  <kbd>cons</kbd> whose
	  <kbd>cdr</kbd> will be the rest of the list) it
	  makes the next item be the <kbd>cdr</kbd> of the
	  list structure.  For example, the list structure produced by
	  <kbd>read</kbd> for the pattern
	  <kbd>(computer ?type)</kbd> could be constructed
	  by evaluating the expression
	  <kbd>(cons 'computer (cons '?type '()))</kbd>,
	  and that for <kbd>(computer ?type)</kbd> could be
	  constructed by evaluating the expression
	  <kbd>(cons 'computer '?type)</kbd>.
	</p></div>

	<div class='permalink'>
<a name='p27' class='permalink'></a><p>
	  Thus, as <kbd>pattern-match</kbd> recursively
	  compares <kbd>car</kbd>s and
	  <kbd>cdr</kbd>s of a data list and a pattern that
	  had a dot, it eventually matches the variable after the dot (which is
	  a <kbd>cdr</kbd> of the pattern) against a sublist
	  of the data list, binding the variable to that list.  For example,
	  matching the pattern <kbd>(computer ?type)</kbd>
	  against <kbd>(computer programmer trainee)</kbd>
	  will match <kbd>?type</kbd> against the list
	  <kbd>(programmer trainee)</kbd>.
	  
	  
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<span class='comment'>
	  Dotted tail notation is unnecessary in the JavaScript edition. We
	  simply use the <kbd>pair</kbd> constructor
	  rather than the <kbd>list</kbd> constructor
	  when we want to refer to the rest of a list, as shown in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  See also section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
	</span>
      </span></td></tr></table>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.4' class='permalink'></a><h1>
    4.4.4.4&nbsp;&nbsp;&nbsp;Rules and Unification</h1></div>
    
    
    <div class='permalink'>
<a name='p28' class='permalink'></a><p>
      
      
	<span style="color:green"><kbd>Apply-rules</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_rules</kbd>
	</span>
      
      is the rule analog of
      
	<span style="color:green"><kbd>find-assertions</kbd></span>
	<span style="color:blue"><kbd>find_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>).  It takes as input a
      pattern and a frame, and it forms a stream of extension frames by applying
      rules from the data base.
      
	<span style="color:green"><kbd>Stream-flatmap</kbd></span>
	<span style="color:blue">
	  The function <kbd>stream_flatmap</kbd>
	</span>
      
      maps
      
	<span style="color:green"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      down the stream of possibly applicable rules (selected by
      
	<span style="color:green"><kbd>fetch-rules</kbd>,</span>
	<span style="color:blue"><kbd>fetch_rules</kbd>,
	</span>
      
      section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) and combines the resulting
      streams of frames.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-rules pattern frame)
  (stream-flatmap (lambda (rule)
                    (apply-a-rule rule pattern frame))
                  (fetch-rules pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nw8akEx2abEShEEYMDKgAAMXU5SJohCYAHcOAxnVxeKJyMQKYMOORZMLiRHXe7Rl7w+MOGnVaAANSgeRdYkbUlO7O5j1w-2DUBYgDW0yDoYmLAY5BYACNxjI2x3u+NlFnpgVo7GAwmBMnjKKaFdIgAiNyL5QLmQjyPccdx6hT5TWvvtzs9pgwzocrAgUC4rmEWg3hiUNgQGDwJCoNDyNCaHC3gPbNY0YeiwDiumw3DUPwpAzkYc6AbsbBdqMMjgZBQbDLooAAD7YdqRg7GCKoAOaoc+6HQVhuH4QhXaUJQ7yEGREFQZhOF4U04p7MxFFscY1GcdYRAiLgKpzGhrEwTW-51sBoygRwbaiPgTA8ZJhKuCKZZbBJGGkDWtbIjsVTEcRPjRvQZRsKQB4xJULDEbB6ybJY1jrvQ1m6AAZF5oC6vqnkZOk6SgKQdkmQZMlGdYhDsKpumUaspYuQhJlmUIFmkGpenKIusVsEwi4XvCUU0LQEhIQxHCULgNhxdliVErO2k0P5MiHglmHFX+-QATsLC0LQ5DEYQBXDA1bFNXBLWpQ56UcJlE02aAi4DUNI1jaQRXSb1dZrcNo3Qb4FV0WB5HqUlzUpW1h43dUS3nt1pWgPtG1HUpKkcEwAAe3DMINgwPZd03Xbch4dedennpFu3RcUxDiAwu5MR5MHA855bGXN5lWFlqO5a695VMM8OI8jRXsTRWOmTjln4yt-YntmIgI+25O6NRvTPSzZOTuVlU2oFU3wXdUI3Hq7X3ajj07YidY82zk4fdMP1-UwAPUFZaPCzNosOIe0t2j1ctw+ISECCwX2-f9Q2a9LwPwdT82LfTi5m12FtW2rGuENtHLPe7nthEjBUesdAu0FrsHwUycgnVVNV1QVyh61HRsB+wHuW3RAgSFHDu62D90G5iMFG4Zrlhi1NIUkwm35zrKVO7TeOl7lc41yMm1+1zsM0B3qs24D9uN+WqeGzDJuV4TAjkAGoEN1pTfWGlLdawT1Cz-Pohe0P1AUwJjTNxluPrytM9z4MCn0LX3dPX3oAX9vHBq7PE6qSPSTwZlVe4GfTiyzvI-Tel9qAKUJrQJgABHFS41P5XXLD-Zgf96Y6EAQBJ+V8d6gQ9LFCgUxF4IK2EgpgKC26gAAMzdQrghSBMD+DEA-qXaOM1j4LVPq7OhsDGE9xoY2aYXCGFMOsgSAuKVFqLkESQQq+JS4EnQXWKRjDO512gpHEexgv6FwliXTy98p43giPQFR9dUaiNHlsNqZj9FAP+qQExaitbmK0SlXRpB5H+wfjsOu3BSASF8NA7hwj3EsOXrsSU1iFGmwGvYm+XdoJONCZjGK3E3EEmoc9HYPZKDEAbIQohldV4nzpuQxc2Tcm8OeuUhsHAc553gQUvyRcxYT0vJk6wY4YzI3yRjMUK9sbFNbtZXKnSJyDEqQ-Uqu91a2xRswsRY9mmCzLlEmg7ZiLTJ9uo+ZFjWpLMli05h5d2mKXbDIVWTlHb9JpoM85v1corgyQ-Zg+VpiM0HOrBMTERxOQgY6TcozkZTi9C2MMEZAWTkTP4Esxhnq5GmMGUCeSLno2Ssk05kQUU0VAB4fhNgQwYqZqpVWw5wVRi6ZC6c2LlRuXCJi36MpGgeHXPCjgiLRB5Lahcw0QJXCsvZXkw83LGUNBCKrGFRhehoq2PypFG5nTUOvJQPgSNJxVFPGufAjoWCCFAGZUgV4wC4CfC+YgUQeAekoaAOQTAgEULQPaqhxsgFrRyTIJsEhhy2soAwAQzjpWV3lBub1vqCQ0Q8MJUhYkBA0TFTAheHqU63DaswV0obzzYpxU0iWqafV+pFaKl6g03WJtCvdXN6ankGLxeq3svzqD0FAKIHJCla1MC9BIgAVG2ztftXAB3og2fAzIPUcCUKAUdKwpqBD+XQfAXY21eldcQd1TB-HjsPM22MO823snqOQXA1qdiRtEkGOI87d1OXqPBE90aJWBG6KAMQkDUUpFnRWgQS7i0rsnQeKWF6Pl7qaFcjgt6z3BrTVS3lgQI2CCjWezNyQQiHg-ReeoUrjAYaMJk+8owsqjvHb+0Aysr3GFnbQADp4v20BLWusdf6xZbtbYBtDKQD1HqEnB09cwKMLpY6+5IkD7GbpbTuj5dRoOBHXItAja46Wrv8ZoZQJGeWSZSCJ7d9lTzQ0VI+597bp31HfSGz9IVl0KY4EpstLTKPjCA0fQ9Mhj1cejRBvNMJX0AEh6hCfsjZvjGqsDebU1J+T64iMkYkyFxoBtbNnnZMFyVT7RAvsM00XzKGTPKdAipVjjQsMPrWAV7mVgwikDNTINgpGQblhfMFEKbtB3DsXIhrNzbKBDu4K1kIdXgorRVJAhgW1WtGA8ANvDI2lRPoYE+SIbBcoAFVCANkIJQYMNBlXyQAgAWm22W08fbMNL3LLPWgZWzUGVnZt1V8ZF0hRrR86FWBZ36q9NdoFbaZCNY681i8s7uBareyqj7j3FzjaG37PhLAmy1JVLPQgpF3kauIzls86N4LriR0OFHykzyrNAF2OHJFCWPcJ4IEilztGyDJ-Dxy+OafE+VjIBnCPKeuPuizunniDGc6+RwY19UsdMGUALgqbPyzmaFyLkOePudAJ+lSWQUuccqWl3FcXWx1x4s50eAcyPIuPnV5PIBIhCh+uqkxElKO9fY9F2j6dcLmAIrlfbxU7GnPWH7OcjzaXkju8CQvZX8WBMNHgowFS970PJdSyN2dXYvS85VPzmX5y1di8j8B1hnGRKua7AWkLHhcCgUgZNpDoUndsrlbzpnee8sNF6J5vTKWDPYpA+uNHI2PCyo5eLWQwfcLl6YM7nvQqYQjZCEX5vGfJVFeOzKivAq7ncCrfL76iuEy1UggDU8uuiXZdEGn13rg49E4Rwn0-Gyk9293+Jw36e1ju4AIQITA3MTnPvFQ3sIAe-xWJytRGZwv1OVx0APJ1Z2UFL0aCUkP06FACK2j3bXdx2C9yUh92i2MGvE7SwMVBPzAOInPzwL52v2gLv1l2vRmmf2cxz3A3f1a1gx-0ZApAqyl0gMaGr1R1ANp1U3QMCDt3z0LQV34CV2PFvxIL4PvSbxfXd1NyEOsE1hIOVz4I0kwOwPIJSkXCLyhGkEXAkIQJD3gkEMEBv311AhgIkLaQfiIAYL-wq24HHW4Csz4PRxmjtyCga00PGAEBa3qA8A0OqG0MVDjXwAXjsLXB0EVELxl0CIQi9zsN0AiKfTXyEI3xfkoG317FCNCEcJl34Km2QLOQcPiJ8MSPXwPVSPSNUgcLXHHScNABUM7WiJ2HXDiNAB8gQmaPCOKKsNwF-yYIAMPDiKi2iwGJ0CGJC26N6P-17xkEGNYN5TakKLGJ4PqCUOiL8K0K8ONwAiGgRwdD3DBAtG+g13nHk2+mUGNFAHlBXz6msBHDKFvkajn0KQGXYRKQeOGHbmdAmQMUJgRnwFmXlTs2cNBh0XLQVRsQAk3DqUBKP0aS4klHBjBLszH2KIkVAkRQkBXnDEKlyJCFThQ3BOuL2ijH8UtjuJHGUHoQYH8TK1wUpJUmpOT3V3RlnQRlYGpBHEzH4DihJ1PGsBVBhLr1nQmKrgo1EEdBCkzRFJsIAKpJpIpDpLmOP2oD+IBLZJ1TBTsyWOizlKZPvwDVABFP+jsAlL63WM8O8NlEuL2GiKYA+lrg4DlJhNqUoFzlQkYk1LPG1IaB2OIj2OpAOPYBkCNPVhNOOUsMgS+REG+hmIpGONoUYBImmLK3DIMX1XNCDI9UIzXSnTWHIy9H1QU2zIkDQSeJfxc3A1ETlD2Cm1oC2LrDhx+g4FHRqljO1jzIbUdA9S9AWLjPvRAy9w9V0F8JXCmw9QMgdFAAABUAAJAAUQ4AACUFsAAZOc5AEKeUP0Z6XADYM1T0yOWk0YPEUg+M-46YRsmMo8iwXIjwdMy8nwEcQ8hU483EvVDYLgewA8p7XuNMj80CHeJ8tIadeCWchc5ctc8AfHe8uDb6R850Z83kG84E8sQM-IXgIQmQRDdMtCpzWC5sujVs68wgbg9AxcEcbbNCoqb05IHC2kL7FcT48YSi2kIqRVI1PuB8Y1Z8V8OARAZAdAb8eQZ1ACO0nLWuJaZQfgCYJJPpdhECM6FiKGfCDwOSJGHeJnTqGCfCGlJOeKSGSiFSptJrbgcOU6YAlSOOAWaqWqV5B6KSwgGSnShCCFQGLS3I0bF6Ek85e0kYFkKeTZNUgyzCBymSmihoH+ROZWSOdZQKwYSOdy0KsfYLXS97UgH1HMZ8MnbpdyoysS5SCStKjK8CbKtVSgLcHcAMeyp9RyjyvI6wTBMBRS3ibSplJ9JSTK8nbeSSmqpyxoXSwOS2QeGZNy4K1qhoXFaHaYUqGQQal+NmUOUYMyhiBKsa0i9Aua6ExK3quq3SpRfSpSwytq-KgJehaRG1M65ROJVRYYVaw6kKna5yrJLdPJXK46jq6pHq6S3ahCDua6+uN6ia9qhSP6qoeJcaLSpKp6jpAGN6CGtavKjq16Q6eG+65ab66G0mRWUatGuqjwE6hWG7TWSGx6-q6bWbHqxcJbFbNbMqCQYYFgb6UAXbYGgqkYXhGhMcPOXEZQdZf1AiRzJojsNgS+T4Ga3ED-ZIeCLml+YW0W6avufy3mhgYiDxTDPQpAhq86YSfnRWiW0jYzMUiU1m4IvyqZaEiW8K9AwwoQaSiIageuJUwEKZYOOKD0SOS2p2poPmq25Ym8PuL6Ry+2lGrKfWuvGrOSjuJnY08Uuq4wDwKO1HTqqkLKGO8apoEIV-AQCVSQlvZIUYCmnmlaam1bdbf2gxPxPgZmvbLmw7UAXoEqB+SK2qaKpfWgJK1FGObEdZDIbIfK021SdZJKqS36DxRugxE6xq2KZqySDukCrPSocMMKPOfuiSqehSV+ClA6lqhIHauO-G3y-SrqrBTqqRLKbajGjOk2tekBZ+HBY8uMAhC+2q+s5EE6-apxOeh-QW6wHxPxU6oJRJarXpGgLO3Q-TbYH+haGJBxOBORSWzPFKVes2oxWJMGm6oZEJRQb68B5vEPWdUSBgYxVGCy9tSUwEZB1SQh4h9B0xeB7Bl+t3KBxOkA6htB6yUhhBxoeCNhmkDh5WafeuvQ33QIAwjqj+kbOxWB9xRJBhmSwRgrBukS2SXGGy0DWKWG8DV5fmiOmgWOV5XulaTtIgZG6QXtZQbRok5EWgWMakN0exQm5GO6ne9GTWgBoRB6YB8jORL0fa6R5x9SQRkDP+-xD+6xOg60+wbrLys3OQWx6qLVLGom+8HEVB6RoB32wEGxjU+xpJpxrCv2wIPFD+qR-6xxaxHTVwXO-QhexxqqwGtqxaOp+MfmU6Tx6lSJ0Qcw8e+XD6l6r62qlkzsgnV0iQBPF6l0t09y+9WdJjFLXx+J3J5phtZnUZoU4ZkxzR6QB8EKZu9R0x2QOZtWxpSh1Z3OEe9fO2p8EO2a0Tdur2ngzZ9aM9duuAwpng76qxmgE60G948+sar+g0vFFhyy1rU5gea2Ea4mtapKr51mrgTRgGgFnaoZomFXMh6+vy5GzaUhuK6F3GpK+9ZG5ajSjg7Fo6Vphiaq5WQlssgRiwiejq5ZpiEm761x6wKZZlh6RLN5+OzFqhgO5lyocqv5HVBx21XmHGnezJowS+i4ItZ5kl0hn4CV7G-Y+OGeqGCA95-llV1mZJ3F4an2eyh5xoT5gya8UqLik1Xi98ASr8B1ZRuGcPZemQI4lCuSuiBidkt1ootqpm+rcvFSXlgQmbH1N13KL1xiRIvgMgaQL1RhcgKYAQIIDm56PFGa12xaoh5QOpQFxpCRCSHW0qVcEbLNjYUYV5vNna-HHYItoocW+MthRaXADeFiYtvub4oBF2haitohnEeMkhP+VtosCEusc20Zgdj1mgIdnEZQUs387tgOq5h2hJXAQd1R5BOdyhOF4F6uTS6gFOjdyyci-d1HVcYBV4TCWt24s9kAkjad2aG5V4rKGllaEFnE-HD95OhJB9+ekE2QQ8FTV+75kgZtX0wOiYYO+uNl-98sIVRhxdgCXh6-WDssrlRDmhBhcD6YLsbmmXOezSA09cO3Wl3oWdMKFWCCf+ldkOkFPYbch+DNlPSllLffFSHRkB0IeTVj156Ksd7kGXElj2nI-QIjxpNqcQuXZDoT1upwvQcT3R6zBwKTnp0SpIooWj0xDVvj4vXNgaFWQZuD4hfgYiMKKy06URQN8YBHczpSMNJoZleTZj+qXj-fAkfTyMuVwtGzszgA3j3QAAHibVM7s+Lzjs8oLvDcXCnPonrB1TGfWXwE2gfAo3JWkBCEXALBDZCyIgRx-ws5Wt0ELAvay8LDmLy+IgK-s5RMBDFTDaXFi8oBvBDBehVuS7UTnXS5TZWmy4q8TPy56MK5S2K5Wlyj654Mq+q-C7hfa06yVaZ1Y-zewwfmkoWnomZDQ5WIfmyZRh0-c+AYNPhJqB04i6tLW-a2ZCduw7SOJy04SU+cgJCFY7cOzTiFO7mI8Dahq7mOe9sYORO4jl3qA5m4UaYetWkte8o6+mo-8Xu8mmxSi8iCW+LsIDomEkuLijrofWEexQIZly9BQ5Txwdbxml25xCE944p-VxlcaDt1IZE-V3DqOyqbLIu42-OUw85s0YW44JR5IK29hVW8cvW+VU55kpD2enJ7c5x047UPRSDQC8716tF6u+trA9u4R0g+g4e9qrO-lZe8DasQ+4LzoA-O+705x31+CDoH+4NlO4YwcBq+Z6S3B-F6h7shCe1+uc2kO+MCR+G8WzR7dF1QMZZvJeGGx6qdx8BHx7ikJ7SdQ8YcBHgnJ-p6p74Np4aHp7k5yJd-rtnwNPZ7F5J-hEtc4sfB4qgD4o-EEowCdcrj+nIBFvwQVqnn8tkueOfZbdZBWib5b6Tc-ek7rH7-loTAgnGE2m6QloWUsX2X1su2GdH9b91qnh2abVPgeAkX8gveMH8iBHWokWtF36MGtAP+1IkQXBP+44iHP639Pjdlxmv8yjv5SAkWO4veO8aEP4f9O23EkAvZ-81A3-C-g-yR4n8kegIH-iez-xRAuAXYWgKuFgHwCHw9QaAVlEXD5hr+xgCNqAAkAghsgTNQsGM1ADoCvs22bAakDOJ4CCBoAJmnthIFkDFw5jFILgPwGGMmanaPAUYCYHABKB1qagewOeBM0wAjA0ASewACk-AtgbQKZoSDuBpA8QRgPqzYCZBHA17vgKUFfZH8wUVQYINkGgAdBIUTQffxPaBdpB+g9QcFyMAmC3+D-QLukEoFqDhBoABwTYKYGZALBygIQYQNADZB3BWgxcJkEcHKBAgzg3wcEICGmCMBj+fgXQMCDPAjAz+IwEcQeB-Yl+ctFflMl44ZBFQscfyGuEyGD9V+d4DxP9iKFi0A6lALsAACtbU7iXIfUFji4hDGl-CoTIje4A8O+MIX2sv2KFWsLwz2DIc3zH6itbqHaU+BIizoXss661HVhIkgCEBT0c8CQLv0WHLC-Ecw95hImQGwBIAJ-XYZAC2GFMdhFIOAXOWv7IC5yxwv2hIgAByLAO4fwIeF3DreamdIWiz6GfAxhsSHTo0JSDNDDGknXel8JdCdkxWZQ4YQP2+HgiSY0Vf4ckEBHPBU467EEe0NPrEwQkjHAxDLVBElCqqRddZJlHjIy0k8kaMYBIGJw1CPgA0YgB2F8QFNoMeI5vtuAwbT8iANwwIESNxiwFNIanRRGWFMrw8so8ZG2t71XbjRWsBQTCniOyH7ccuIWPET8OE6cjjA0oowrKKqG1D6hrzJUkqNhH2J+OtPaHl72FHUJJy0PP0tUIUjCjfGgo8UTc0GHl81+lfF8NXztafhMADfS9owBYBkBHSHHScFiAYB5IhcTbFJEhBQipwwxtXZIF932Qg8bc8WUbouA4BlcUQJEArtGJELaZYxgQPEvshjH45wIWIAJK7RGD6gOwCOTjtLWIDEBkudgCSnIF5p1jaBD4QsDID9HEBXui4LLr4Sy6ZdxuhYLsaqIaC9jZEVY1WgJ1AaEBg4kCekCRGVqq0lx6jOcfbk8xllKu2XRcF9my4ljLYkCcsXMFjixUiAa4pcekm3HaAdCw-ZEGePbCRkPQdIdZOGPCQOAXxCRPKHsEtJl4dgi0F8a0S8j4QPcb4roS+I5jYROhh4cCYYLNKPIEi0xACYG2XA-jiihMX0f6PoT0B4wwYvJB+KvogTXKmsACT5EzTih6oUyI1gCXAn70Vou4wsPeKIbTAnxiElWjFRVrngJugILLumNY5qM7KlEyFsaxgnlcgQPE7LoxMfGjA6QqcPmp2I4mcT8wmaIqKhJSCZ1ZxD41SI-3oAXsh6hpDSUxMqDSS8xNvJovJnwlWlJJWkq-soEWhtQXxjveSY5F3pWSjJDAKrI0WsCVcnJt5FaAAHJ0xPdErgFOiJTchuL4-HK5KdJylXxQaAqJGMiBtQYpWfRoGiUEClcfUpXVbFtBGSDQ8MpXEcGxV8lWTpiyU5TjIDKmuSnxb5EqUlIZKaDyplUgyZGRikgdQA1ItsDY3pGGik6f0HJDMiXyviiJluBlAkTRLkoxk+8EXMuyEkAkLktPWOB1NpHdTcWfUxhINAvGDSTJ8rciQVEGljSH+jFOgBq34n1RuUtpX6G1N1LlQGa30WWv1MGiDTXGUDYaVtNfQEMA6hvBUcYD4mJwBJM072HNIZTM9yhD0yBEID5pehY410+mlUDulrSZkm07lBnh4afSNWPYq-gkXXALEnw608GVwDYm71U4CMvKRDMJnbSjAE+NGQLB7GZRVJfLEmfjL5rRE5RNM5CUtK6nkBfEpDemZ5RI7UzToC07EBzLpFcyepuOe6XjKRnAy3y-MgKij0Zk+A+adeapm4zsrcpX038Q6Re1+m2UzpwM3BjHilozRxUs+fkciErrEoGUj7MydcAuQJEuUo0+oPVwppW4qay2Uut81ml1hLZXbDBIe0cQopjOjfeTPbOKJConZak8muGzdkl1aaMbPeDQHQlqI02D8NaHhluzlVkIXAAQCID7zWzg5oUCQHwCenIT05EOfHHqAhl5Shs8YaEkHPQ63Bk5t1LaW1IGyYjOwflK3KR30no8ig-YDgOakEDjAGATkZ6K6G4Ar0C5bvfIvSmXx+8jAuBWnAQVpxEFie9yU8oIyO7Z54Mb+C-G8L5ZEA+5QgAeUPIEAjyl8MBJ7sAknmcFGcHBd-Pn1VlQN28wMkPMR3kwTy84js+ecoC-ldDhUCjGPog3LCmz0MhfRpP-IuRtSxRZRCBLjF-Y5jscFsZaPJw7JotOcK84nFfhTyKEci-ZBelnTvms5w0JRTCsrhQVXyr6xFRglMXYIgF38CwCkGYQZZAIaFMpNskwtQWidC5rhZCR4W0LfTPK5pAIs7KfTxoHAZWLhX6zjGkFNEYi2eW2RkUwYyFRQOBQ2gQXjQpFKgZhaeU8nzVrgKZQCe0XkwoLfJ7Cvol0JTIpT1M90MxTYuSAWKpivZGCA4uixtR7FprZ2nnzWICLNirCjBDEFyRcBqQ5cqqmEsGD0lRg8pZaLqTQXKk0WMpUUiaS9BOKKsupbRREuoDasdWgIOJfgrLJJK06PYvxbzKzTyhQpJEf0hmTpBFLQysdCchsGnLzkOAAAQXADgA5yi5KcpAAADydwjcp02xHds9ycArJSk2IowFH255KMj9DbK4JfJMFaMkrJrkBhEKCy6IumQAoItBsay6Cv+S-LjLI48ZMCm0o6VdKel-SqCreJoBLKfoKy3ZfFXmWvlH2dFAUJeQIr+IiKL5G8rlMeXUAWKqIVOQYlPTVz-lEyn5SeXiWNI0K-ODELHEQwoLkuvdSbGaltQ1INS4yn4BSGS5yYkKUKnIjK13L-4dlGclZpMtPJwshoE-aYNFPqnzV8Vh+GpfGVhU8gEVKxAns8GxSwr1RQgTUIyN5SgrSVtclZhkshUwEs+FxGWkBTFWMrKV3pdPgaBgWH0Ax0SiqfVKZVoV60aLKBC0JCiFlLZ6q6JbvUXCUNVV1JbHiBiIW6qORpC6layPNV5w5Smqg0LGlAA2qWWAcluWVMVWog4WOwS8o9iMWFzCIA3UiC4o8wD5FFEaqlelWYDCrIU1IS8p2NWWDAnIbjQNTvnGVcMZ0wzbsiFA+Utk-42awRqyXMAvJ7E4ympQiLUxvKLQpaVaKmoBVUV8+AOfDGuj+VkrCAgKvIKW0BDrhxl5xWgfWJmxHQq1WqlWcApnxIdFEca6YJuCTzJqfkqLRtMRS9C-FlIAJH5PegzWwUg1kKnNQksbT5qXg0ZT5TZWeU3lS1wzEdRWs9LVr0grBOtZmQ7XvtnQPa9gFH2MBtqFMTFJgB+rYB9qmg64CktamHXlqjom4CdYbLzpHZzZayXOfeoypYrs1Ns24s6BTXgrlFRwKuZ6Uw1dq3yuGlDU2pIqVzENxGrDejHoA+pRwJGvnMmpLXoLG0DEMFV2vX6nL2lnS7pX0oGX3oON5y7jVctSXmSSNQ6wxixoTXxU688ERcB1hvEzrkQuG8kgqio1zr71i62CoKRmbDMJNT5L0Kcogrrk+NLSwzYMpA3OgxNzwXTQhWk0zRZNDYeTd6O8Sw9OqNQxWqrBrEL0g0Hm6cYYiIb2JCYbmxEG3XjI-yx6NCKRoFt6iRwfNj7COdwHC0nIvep2ILXeBC1obQJPm-HLwxS29R0thcsLb5qka5bEQMW0evGXi2JaH4QYYiLXCEBOlYtBW24FloCV1hAtlAAUlFtK0uq-VGWr3l1rS0DaQkCRX1XkGiLtaBSkW6gKlpkZDaPOpeM1U6V4ZDayIhAGbfNp5Y8FRt0oahD+tWjpTcoi2+qRewm2kbvRKWjrUxBK1kBXm22qrH1pc3XaqqT2hzlaQqUKLVQ7wT4PysQxHa1VOWqwDNp+CA7otu9O7fcE21gbDGF2yberAcYg7StwO2gOtoh3oFwd3UPbZlMO0qq5SgAwHZdsGHPQatElH2qQWZWPtWV8K7EIhj4WZAgsDQY7j5XEojBHVMgYnRWNZ3Ky3F6WKpRsH2L0UlCzgSHXy19LVLcKfBILN5hCDyhEgkO8HTWD23ZTSuf2i1RYyYC1aRghO1bnBXrFdzp5RfQ+pfNCh2QrRXYG0UHR96UQ2pIslaUzlJ3g7LoqfWkHCopDsq6enKunU0HuW67VI7csVp3NUhzF7JhMw-Nzr7Ai4CB13BruHqEXLF3ZNNMumVmtzV1euSkzzOnsCCLgbdYsnmRmkc50Bed6VAMgLpyJuqZdNEeXRyD23Z7uZysZXTjuO3KAa94s3LH6FnRYg7pQAyQF6AACcXQErGdjUA1K5AY8h+F3tCbO654KEegBY2AZqzuI9AQ9erQgbu4aAgbb0AvJUClY1AMgPyX5NyhoBD9X6pLBAxEauBx90xRffn3P3b7JANShMB6EtB+YbQu9GgHtgAS6YIFRgcfffqn3I9lAHe4QLfvwFtT0SkgLEpZQOg0aetQoR9ndoV1aovsYBzEovRUj17mdtKxvS9FEAYkIDsuGhIzNZ0qg21ymUYHRCGibCV1joKBF6Bhm3TJZA0tcXhTbXbiOgbFHdY5imAMByDKw2CQ1iGg2ctowDC-YuF2x7ZGZ7q+qS8BYPV0KBsBRUBfqin1SKpsIIRqfoKzu4q16VWpKOFzlzAoES+owEpojDIaSNnY8jXRuhIGH8+7uLgzwb8R8GVoAh6CBTDP3GARDYh8PiRpeh6HP0nh3bNtDUN4M9AijKdYEA8P+HJD0S9YEbQfD+GAj+fH-bhW5XO63dgqj3awSUNqqvafu4YAHoqmh7rUEwCPYYxkqjjZWDetVVAnxCF7+dAoK4pUzg3ejeGOqWgMGBQjEGtU2qxtDQZCh0G4ZDBx6Uwc6OOgSubB+zJe0bR251+Kup1TUd2J87i99RvYBMZAxBppjvkvKM1xlIkQdFVQFrJ5nUlriiDRMf3RJWqOdCNj5xYozeFoFlHQDJJb8hSuhVKdKdru6nbyk5Jcq1MMtMkhhtA3PHCVNO0ZU8fFWUqDIhBp0n5LCUyBclAAHSwB3FeVwrfnD6jpAy68B3gzidBn30MwyDaRIfpCeUPQnVlsJnVgiaRMYUig2h3AGidjLXB8AymXep6hv6RBGToAAAF49CjACJrkVSaEA0m6TNxlk1yY8whZcTi4OwwSb9jBY8AaTVo+0ciDQn+TKJ2k+5LYG2SH+LAUrl2FK7EBSuXhGEH5IvDXgiTaq5U2blVN0nBBmpk9tqcjZ6mDTbFCU9tCAA')">function apply_rules(pattern, frame) {
    return stream_flatmap(
              rule => 
                 apply_a_rule(rule, pattern, frame),
              fetch_rules(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p29' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Apply-a-rule</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_a_rule</kbd>
	</span>
      
      applies rules using the method outlined in
      section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  It first augments its
      argument frame by unifying the rule conclusion with the pattern in the
      given frame.  If this succeeds, it evaluates the rule body in this new
      frame.
    </p></div>

    <div class='permalink'>
<a name='p30' class='permalink'></a><p>
      Before any of this happens, however, the program renames all the variables
      in the rule with unique new names.  The reason for this is to prevent the
      variables for different rule applications from becoming confused with each
      other.  For instance, if two rules both use a variable named
      
	<span style="color:green"><kbd>?x</kbd>,</span>
	<span style="color:blue"><kbd>x</kbd>,</span>
      
      then each one may add a binding for
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to the frame when it is applied.  These two
      
	<span style="color:green"><kbd>?x</kbd>'s</span>
	<span style="color:blue"><kbd>x</kbd>'s</span>
      
      have nothing to do with each other, and we should not be fooled into
      thinking that the two bindings must be consistent.  Rather than rename
      variables, we could devise a more clever environment structure; however,
      the renaming approach we have chosen here is the most straightforward,
      even if not the most efficient.  (See
      exercise&nbsp;<REF NAME="ex:query-local-names"><a class="superscript" id="4.4.4-ex-link-4.89" href="./4.4.4.html#ex_4.89">4.89</a></REF>.)  Here is the
      
	<span style="color:green"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      
	<span style="color:green">procedure:</span>
	<span style="color:blue">function:</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-a-rule rule query-pattern query-frame)
 (let ((clean-rule (rename-variables-in rule)))
       (let ((unify-result
             (unify-match query-pattern
                          (conclusion clean-rule)
                          query-frame)))
   (if (eq? unify-result 'failed)
       the-empty-stream
       (qeval (rule-body clean-rule)
              (singleton-stream unify-result))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlKqu8kt0CYpi+EwmmYLK1CAFxK9KAwyAk8iw9D8-pJAeYAD6o4G+LGQg6EHIMADmCNOSIBhCMoHRmKxFkheVotAI8gYxN+-xRVJp2Le0Nw3xJ7PJvk5XNpb0YOnwfGEkn0iMFBi2e2eHxYX0oWVwZHwrNJKOMvmpoPBoHlyMIW2iT3iLzeCwJBPwOner0IelxCUI8wAFtZ7UCWm0IW8Rj0PUKAGQR0C++T6cNGNhJ0CEX2Ue2W5U2yEMeQJHVmskBkFB23p+QOp0u3G6wUVXq5-O9RVYKJW2LPA4AT1hjMotD4ULzBYF5uL5mN7Vj+gWwn5bLHLbbWbEZfkBwOwgJDHzTFrY5MRtLkPtjudqhrhaY9fXm+3u8IzaV1tXt63O7JlG7vfneqFzRLMEp3wOM9FnJZpzAxZ9yLDYl3bfZxDfe9P01bVKHwAAPRRWg3eIYP1I8gPESDwKgucCPJTZW0eDtszeSVqFwbI6jEd1CE9cc-GIstTyrC83XDes6AYXFmUIShGOYkhWIYZtKQxUUxXLStz1ddjPXrYpVioKSWJmeSqSiFdxD0mSZi-Ht6SWBND0Ak1SOgxyKITODnzo1czNkjUvnQrCcPwPC2NsgDuIckCZ2gsjXPghDnkhZjYR0eQMOw3DN2Cjj-0xSdgxUs9q0ErL60SvJktSgKgrk+CTNAUrys6GT81cSyfwODTsvs9okkUd0rL7Ach3zCpnJsrK3Jo2r6pS+kdC7Drx1ymMIvIpZovG6jlxfPLcq-BZmAfBa7InY87QrAqBI6+tdrEg6ySfSbtrCwIKvS-CQpy0tRoW2LashESdGEGYviO0Lnryvi1JrITQF6AGgfidV-LesRDMUpTePO-j1JhuGxEB4HcD2jR8AfB7jKe+HCcoALAemHUPq68QBNkKUrq8GrKfxhGxHVESDnwABHbU90Zk6eJZ1o+HZu5OY88QqcRomvlcXMRAyBnxuO8G6tdVnpZhgBmX6npxIWReoTXOO1paTyxqGis02GBeFgFLfJuKbSSVIv3Nt2rcIA5FtLS7ehdi38CGUBwyD9zEOjv3YmsW7SbJdqQosT6eO+1y4+eaUSFxYm7tFrKg5tr6VpjuX49wiSU4fdOy+Dnj1s9WPHvlstScUQgu1912k468vQttnkKDG9ua-it5mKLhuyWHluTRzCfVqXk2u7pXBaGoZJQaIleztUwr2d6Apd+SD3aovvfKFm+axfF8LQLbqjM1Nt5JlqGYD6ZzGT6XVxt-aY8Rr5PRMq9QKGUWRPyWjnDaecbTZAJFAqqTdraj0rq-KK0EYofy3m8Yoeh-JcTHvlbGNZ-L1kGJvWuAJhw+RKGsN4MoxhWC4vzYg4wQHeV0A4dIsgrATGUFMPh+gWy+FqnifA1gpBfH3qQ7WWJyHEKUdSUU-RQDezSNIJhOkdTUMqCImooCtC6AMBorkAAuMsoYSHYUsRjcwWj7EyLkQovQkFSEGDKFY5x5h3GUHkbgfeZEfFOOcbY-yPgLBREDK3VoHjQnsIILFHYtBFBqgsgsNYwwyDEGZDoUAjpCBYB2HwE4ZxqDeiUK4UAhtQDunwPHQ2aA2nG1ovHW8u89CpC7BUVodASA6BHofdoq8+RjBabQEZQd-G+C0RKKUMonQLIsNE4WIN+kjRWpBIZszRlwXWYs5aoEDlzMiVE0APTqB9PwAMlM0ELlHLoc8HR5Y1iGGUVwuqu91S5IIA4UOAAqQF+AQUPSkU9HetBkhkF6v0ygngKhItlso3wvyDhkDyOChwtz7n9xRU8iiO91BE3BdRUUwg+BNMhMs6Usp3Q4spVxUUS0GWrJ0LEmkERQD4FwALDFXJfkvPxRuXpaL5h4JZaUdYkjnHkM5Uyl5VyAmnOVWs9VNJbFkVVTyrE8S4nUj+qJFgbokXEqlaANC6xhXmCxbKtY4qDiSoeci6VpL-kUrlVSrkNK6XigYJKRlTpmW4t9WyrkAsJJkTJQCuVfjtVcnsZdS1wwug9GtbajYSbk0Yzjd6z5aS-W8v5YK-A9qsSipmSMl1br+53E9TZJ1JaDXUtpXoelwaVkqtrY0KNABIUUMbywuVbfgPxw7800nsfY7Nvl1h5pnc46KE6JrTvMHygVQqwYBNHXq-tFQc3tq5Ea3l1Jz27CeoDA4nRCA1L0AkKNz9ursGTL0WF8LFC9BOViLRX6EV-t8LYs4SYOC9BlALEgj5gP-peGamDcGQP8pICcHoCR6wAFUGDJAYLQKQ4hMnZJtAAWlI08tYULjUJJNLe+9NTLS-OI+ZeoeKOAfPBYYXgvzSkOBY95Ljn6GTfoer8xQBT+NZNY1oITUHzUPU9quD5eQZSA0JMsZh5QbWLrIaWex2lE06a1OsJBq5VPBplKgwzXyLPqYJHp7OK07NWenjaFzhIfImb0B5hzyilpkV8258zamrPaFmJU4cmmDEVEi-mRzJoCU2e03F0znd45YWYMG6LRnbWxaanasGS17EqdCxp5Lk7jPal8ccYcbybSSiycGt4bEjEVfy3V5R0iknBM8YVhZAau1EOyCQjYVbfCDfNiDdr-Kxt7sVaWPE2pT1lp3ZW+bGNfl5AcL58LlBUskI6-FlbSklU9tDfoPIaqV2gC0XwL4AtkNKV1T1kJ+9du2p86WpSURB3boreN-+kJ7F2qe7dlMr3PHeLG+iCHsjespPCRsMHtj7sVpO1eq9AXIcpNIQQjLmEsvOhpTTWgeEvkzc1Ed-rmLDjEF8ztsrqCZT7YKzlvJtXjvUkGwAQjLJqy7TO5sLI5QwGl-ckgPu9D5pnXntQy8s4SGrYOAlU856Z0Al7y1CsG5CYhmo5s3YsDsEFpuFlbaZ4zxXzOIts7V6lhVNIlp8+7SGrlCv7PXYxkssXfAJcaEfe1lXASPuLo9655dRuaQO6e9EwnAJ9CU6+NTx3oB-s687Y1hPLWWRq5mw7pooATdm-ZaWXo925xOl6Aa9P62Relkywn9n2n7cFdT1ELaXdGDi8oJLx9ihiWKCberhL7RUvvogxXggOhf2aNhlPqvCzNlkBBgP4YssFl3YK0vssxCB9GE3-y+PwbtCDj+OTwoa+OjD5j6KWxeuRtD4P3PxvJ+Sfn83F8ofwxiUO-MMXkFHfYHTNPQffUAKMOxEAp-Q-bvP3XvAPaXMiffSPFdJA2WFAmdWA-3KXLxFaZA4PfNSCJ-DAqPLkAvHfcvRYKvfHTsKzAgQgLQXEVoPMPQTCUfcQexTCCob5NgAAPgkAnnq1XEhGCHYhJgfHYIAQuhxn2lTmvFhmCHAS7hEiYjIBgVSRp3-m+mCE2iUyCGEQfg0MkMmTWlwQoh0ORzn1Di+HkS7DtHIEji93MFsW+j1Q4V0PKTABMiOEqVOHODgEQGQHQFuE8C6WeHwDQhJkogqABAyGXgmVniBjVF-AVBOQAySJkiJk+yvHJBOXvx5CixyKcIsAAxEwRVamsjlwZn6iJkGkbBHAXCLBiIYDiLyLXFER-nwiKLSJuVEXmgiN8iiMgWRmgS6NHCaP5RaN8WDxZkGltXahQTQRgXaiKOaLiMsWnXyP7Gkw0FmRsFhBlFkkomKJcX5UiOYD0AEwYJIH2Is0E1oBMTEV-lWMmNaIxi2MVl5hSLHB6IGKJk+NzG+LJDWJONAC2OmiWLGMaMBB6I+RMj0AhMamHBam-GshWPGMBBIJuwhMMJeNiNBK2PDn9mON+M1AHgjmaUHktmLjkMDmOJBLaO3kvhJO9zOPVFvn3hyIZPeLLBulkMOm6NZL+NZmIhpIFIxK9FeIJLXDwhQj3EFKUi0WFOQg-HlIlO5OezLC8meIlNBKVLJO1KhL-A1Lv1Q3Q2iNhhwzwwI3EG7CYHkEwlAHIzZK1BJg9j0N6JUHmhiAqBQTGVpE7WBxyASARg1n222j0BiGFyd1LEmH7hwmEBDPVmsHhJ9JuRIAJA7jiW10rV1zeHlAlHDPlkjMYGjOrTpz8GxVwGIA4D+JXwuMgUMKjKxNINf2dFiO6DEEOgIOTUgSROahYHambJ7O1T9JbNIIsGGJaM7NVLdCjO+1fR2iDCqOmSrNyPVS0V2ltRsDsD3FwgoHXICVsQFx5Vr2FRYHNLTN6CtPw0I2vS7j7iySdIozjOozTxog9NmMHHmIcUUAOBBIxSWh6j0BQXYH4LrKiJQRBJiOwg7k7wyzJIBJBi5KlP81OnTHIFTH6POJHEs2plph-gaL-Bq3xNBPBwgouKQv+MOETjdDxKmL-WiRwuJDwqVgmGrJYDVmEA1npKlJoJtGFKJKHhjgArBjzIwl+D7nJOJOrhfR1hPK1zWxeEDNnnXHrn5MXlksB0XJdPrJ1ALnng0tLinjKHxJrxzKrV+QMvUs9CqIcGAwov0u6EMvEM0ublMqmJO3Eq3LD2sr2lspzTktozH2cpsokltQxwso2xUQbzJKEstj0DBzrjFLTiXg8riIx0vQ-Kmj1kGkYBVLDXqP9P-mAvqLAthhBXytlNlEhQqCKqENtPUFmHoAkkNMOGOOUXEviqIoVDkqxTLgcG6pSqYHROhPJBO3IR7iku6qXiey0V5FwFj09KbwOCav7AKUkhaWklkiHNCuGsdkDlzRHIsFWuZHWtaq2v0niHamOppA+RmuSoXhGo3m+zPOivITapZAVNZMuk+oqMZGOLIrBIEL5Br2yqemFI5ItPxJ+QrIfh2zJWSHvloDmmOINV+XjUFUGrWpas2qYiuvaoflT1+SqrvFlCOA4C-MoFJvfDDUxqzP-kcp8xRseTbIwmnJOFnIRO9X-NutIJpu3CdH-M1wnNbKmIapdJFPBH2uhqmLQp4g+R8u8yeyZt2hGKql4tIv4tXGVOqvFLGtEupF+VtQcCZpVIfCqMhLYnooyupBVP+qyLD3Ns-FRIBpeLyz4vGXEAivBq7mFM+tlriM6reEgQDqKM3RFpKN0qGO2jxu2pyQeK4XEjjoJq+t1PHKxHxOpFsXttdsdu8z+rzt4r5vMCZr+u3PVvUNWJLoxi1o-IqW2h8KqX8MuCCJuHaTCPogwoKW9HmjYPlqPmRsZBAhZH7r-S0UdPAwh21Ejs1IvNmVYPrHpGHuZCPyySECdEGRaXwG4qdGsXdNqjhIjP7KIEHIqAfkNuCuZnUjxjZELJMiGDBxPtcGFovs9opkIX2L+HvojL4GMOPmkJrD4GEgFB-vliUPjj7JYgHMLkjMkMljZmAY5jM3EEbJZrgYHvaAQeliQdlhQfvMQnZoyBnMOj-swevqLilkjIqGNm1sSBSGsCVvlxEiy06n-lDiYcjgqBYaLHwZEOXM+xzXIakMoTdA9t6E4YgeeE4Z3NYeWBM0kO+kCrocmKYjJzCw7M5sOhhqK0W2gjMvS3zj2oOx0a9rOX0AMY-oy1iB3gFnvm9IK1EsNCvo6BANSxBK2F+VTGsCmv7k0a7LJAEQnl4A9LhLZzzuFvmMkPsQiePUXTgo9NSwdqHLbxMGca0JWgd3waSZ-L-wNEzhcbIiyd9oJyJyIZIc0pqMiYe3PvXB8blt0YlgBAJFTD6jakTGTAIEJFac1HmWcVcRALCai1ieMyDlqbsazuuS6ZaelwiaMAAB46pmmemHsgbyK0MF7egAAVBkbRZkLsdMgkGENOaOBFGoPe2GUADwEcpgqzcXNptEowDwKOXoK52eldW5wke53pywo8s0zZnZ2gXYaQQ545ka05joi51565qPT5gke5uZt5l5t5m5vEO5v3eRoOCWwDRQB2lcvOy+yciGlo94BkXqUx0UWqU62BKpuJwVIKoHceKZOZggpUkl2FXqW6t2WxjRjmgJvcUigg2xPOifcxh5xkPpo3LRSCH5kc4Vpq9eOZ5tTFhcmjf1TtWI0V7xiS3uPxvl2chl0ujZsMGo7DBgekCUCQYcN8w1KK4DKygrBwPykxzy4DJaalyMgrZJz1urDO9VHJ+Jn1+LVPXwTHMx2I0lzJEhV1+C54XOmo-F014zQl8wWqCNjl6NoO6KqlhVkZn57SnWEw8V+lsHNljISNzlo3bl9RzzfxrmwV-NYVmo0VyCFlldLRUdGVmp4zNZrEeV5kRVqpmrMiH5kN7MgbDVlorVtMXx8prRosAt+ek1n8M1i14NK1-MZ8m5PW+6MdrdO1gJB14cJ14xtnAxgJd1hVpJiJoNpdPmgNkzFJurPd980N8N9lslzN9JLwxu44PwqAAIq4YIjATu4QkMYM0MlM3+0siuHiO2QBdSK8hMpM3eqRm0ZDyD7QX4AgB8I4qM2Dl+SKCiecpjCsjD5MosxCCm3WGsfxUOacKOCwacdVaYrkUOcCRjwJRYFjkg0OUMTj1x7oHjujm+gSATgSYTtjm+kwqOEwjGVjmkUOejZiLsKOZT+QA5pSBTrEUOJdzjpdgJbT3wUOSXb0CYPIA4IYUz8zo4UUIziwUONwATiwRe0ALsRMfgx0jwTT+z8wUOUjZz8wVz9z8qx0ijHz3jm+2qrkYLjz0AR0kFNz8wXzmjt0XoYAQLppLgtzuLx0sACLkTmsXoAAUky9i9C9AGK6S9ABS9DnA2c-K74Pi9Ffc8i6K55yTAa+y5C6a8dI644Fa8K7S-mbK+69y9AEWfMEG6k6K-mbYEC8a884m44By7a7S94NG4qB66W-4Km9q5vt4Pm4qCxEW+a8O727W76B50y+a98Ca-MD53MDYP8RbHEwg4o8gQifYAWWAunGGHe93so5mA7je8TMw8gVoDyAACsWlA5vvRRgKYhyq+OAeNYo5vp5yUusRyPAfvCWwsBQeUOwyk7wXKb1JQ4Bco4BcsfRbUu+hIAGBGUgZVPjuGeme+4afRaTONAzPYBIBOPrO+fOeJzufUxKAABRAT6z8X4X0g0OAAOXkHl8y8V-l97ZXVe7I9R5CDp2Tq+7YB+6UEjPKsgj-v+7B4o5J8Op4y14t8B6t6qIpsN96lpSa4x9zQ6G153LEhGvx9qjjJpi99TMYF9IzIEkkID5Z2WRIFwC7DCyh-kCyFWpyF7kSvzRx7DMTJUFpLw9LL9d8BQXD+4CxBKc7H8FxbrcOkkLZsr8Xie2qCbwz6g-lmSYqGOqb+94WCYGSdl4sAb+yw74h+h9h+Fvb694d6ifz8CRnckr1eIfncBEtHoJTDTAJB3jyCRn1YfEGvL7nf5bdHx4bvlibv-YuECOuEwFA4VjEDxHkCEEoFdlxHqCSBIH3gq3-qhBhDhB6CUZWEjWKOlYrQyII7P-msDghItKA0LaOGiy+YYtf+WmeVMURcJADoI7-YLNfwSBJBfYSJZgPGBgGZkI+1AagDCAoBRF3QvpIgXFyOAeAQKRA0Vr0FeZaIGBwNZFh4Dv7UBe+SkBgRUDhYJNaojARqALHYj4gCQofTMmIOpoMBBBhWQdGYzhZIs+gbzH4FgIFg4Cw0wFRYgIOyACwxBWLJFgYGryGMbQWgwuH6BYAJAQKGZD-gtUsEOZD8DYCeLPhsRlhLoKCIwFGBORDZP+UyMiG4KMCw5vofg0AP11hi0JD8uBUCG4PoGDBx6poG-jJHv6P8LIL-feG4MYqBpHinRNiFEI8HqocwUWYYmlFGLZCrBvzRUrDEUEeATBdjVwBYMgh+lbB4AmFgEleZQC86-YQcPURLIt9K6+EIIc0OcStC3m1QswSQDqEoCKIDQvwWNjcBwZmwTgzUiML6BicxBFQEYemHMFlC+2kBUYGkLnxLDeg-HCoJdHqFWDlWfgtYVIO0GjDn0QBN4HC0aH2CAA5FANArPMXhO+OFvczcH4N1hrsEgPNH+EhdGmg9GwfmFhDwhIIQIzgQEmsLBoXmsyF5vhkfA3gNwCma6FYGbBbCNUVw0wREP0DQjlWhI0AOsNqFICSRuIoQVCO1AAjh20EYkX8JpHucVGCfJPtQBT7hVF0gfXeNAl-If9eEv8UhIfmsIdEzEckWLLHV6GtZHEU-PZr1FZHrh2RwgXuJbRwg8iNwugvkdiI2RlguhQoqwjfUGA8CE2dRKLD4h3wxJS+NoIEZZHtKYRuRlsDcHyM6oqVMhYorUcKisqx0RWHABZO0NNH5huhhDKUSyB8Sno3u6ogWM6D9IOBgKNou0gsHtFqjHRwtBoWGKsRLRPuzbKeocMzQLD4M9iIgicBTFVg-SNWb6MmOgSliMyWLckVmJ-D0CxOh+SsWiOjE1id89Y6yPQIVHJ9lRnIkzPmNOT2JOxjIWUcBR7FKiVR25FsamJrFajyRw470UmxnHViCB5lJSuJT1GOIo0S0UOEaOjgmjOhZo7ceuIBzzYlolot9rGxtCPlDEjiYRsAVGD6iuQgA0CM+J1T-MegRia8rhlvLiAQxKYLsFkjQ6rgeGz1JRCCISI0wQC74+DOEkcQWjjWv5M1taTvIASwJgcA+k9FvDmo2MDxOEBMB0CSgLG94yCeIFvHOicxOEmDIYKsZxsiJEwNETBnqCGEIJZjSCBhPajpjrxwhUSF3xEBREjE7jCkWu2dDFBKAtSYNAQBIBcRaodARQP0VIkTsMhaibcQWwtzW4rc9mPbCY2wgp4TsLjV3L2jDRBZWWIk2wGJOyASSik0k5CSPiFZxCFJ4eTzJ9iCwvszy4lEHGpOiouN7E8k+aN4m3HcNMk80eCYoAmiig3qbrBvNhEypvsXG-kvkSoyYIgQEgJiBPJtRU5hoDgxKSUFlOdAHB0UZE3UWvBykADQAeUjTlWEKmGAd8hYquJ4BhE8F+CKUvMOlJPyVSuw2UmRG1OiiNTZRtPCwJ1Oqmyx0BCGVwEyDDLDT4wuUgVFVIKlFSzGRbMqYfmmlfg7gtU00vVNAhlTZRzU8aSwEmnWBppegNaTVJhEYx9prUtKX1Img8TbSPUtKXwGYgcQjeaZYqjpWekaAsse0ZghYOunwEXeIfaOLoVqhfTCAP066cINSnWDSpj08qQtSAJhAjpmU+aWn2cStt4ZfrfaeDMhmPToZvUvBPDI8Jptj8xOQcPzFdCLwZsyUSUnkyNpw1LcHAXbCzgOz5428BqM7G7iZSmT+mR+InM3kqy0yU86Q+9KrHgI4FQ83mILBUGFkj4VGYszihLP7waBZZqskfMI3Hw5iF8M+d5qckoKV4Z8ForZEsHvRqyhQh+cfOYDuFMJQCGgZ-C+P5kZSSclM3EIvDNkVT1Zt+ZwY+J6D3p3B0YX2adPtnNjvpSsvvIgWgj+yBpooMiLTIumihFZL0COfiLtnkgY5UeSCPHIzlG5yCppA2dPlolX9TQvoO+GdWom-wK58QCoDaI9k2j6ZtOPiXsylysw1yDgJObMBTm1z1ZVcsQG30Gnqp65HMsxhHNbkHl6BOswcVHURmmlNwhIegowXxmjz9y1ZCWmoWsBqYsIacj-g8KIL2yJapSX6alMJRWoHki0xubiGjgOBSkJ81FGfNTxczjJ8YIwPNQnjA0DgKjTefaKRQDht5sNJuf0gcB7zxqS04bFmgeQvzQhrzWxP0iX5EBQAWzAABLi9KAAAQXADgBxeAAJS2aQAAA8vL2QAcAFqITMGUQBqSMToMwPNOarBTzCN154WSUJhBoWcVyph8r+aWKYnUKO55Iw+V8GVhcLrq+DPhXyEoW4T2qkhJBSgvQWYKcF+CwhcIqICMKsInCqhddRYWBBJCh8qGV-MoA-zpYPC1EWorECkZrpWEruIymjGCL2qHcuhcVIBngzgKyGWmTCDAoq4akLSJGuXOsUsgXFmGVxhDM4op4p+fAchWZ17miQNFDAFPLFGX5SLKAWCrDAABlxeRCkGrgFIUQIwlQiAgO1FsUazipDCr+VErYVKKOFzoYIHkrDmaKd8IiomJUu4xGDVwdSnJYFG+TFT4liSlJeAEUUSRylrSqpYEs0XCMAZ-ffQMhm0X4zdF+ikpTnJpASMrApix6c2Cn6TK-pfQfcQsoIBLK-pWIlRgHwaX5KG5-8BxS9KcXapgg5VFXAHxSiiFggGaIZdEpHwhLslhy6pU8oLzJSs+VAIEXoG7mPLqcR8vMJIVOUaBzlZBR1k12AyjLlAGUk6WDksViLmJ7Vf5bQueVg59pByqwO1FRVBKR8WPa9vDJUaOUH+TIv5UyMBXXTOEFZQWEjw4A3yKJxI3oCSqBE2tH5F2P5VGViGbhsO1gX5UCMpXwz0htKxgCxVYY4qmRNWQlX9IlqQgv5cqP+cVJxD4DU5-s-waiF3wjZgFJMp6LiFmRVAfFe2YpREq4jiV5VXyE1X1QrKAKOA0y91L-JNUnZfkxAtDJ+AiVAqwMPZNZcfJ2SwwIlOy1KTa18ASYLUDyIxeIoYABq8wj9AJPYgiXcE4uLq1oN33dVUr28B7Y1HRJtB6rWgrSo1T2mYU6F-5l8juQ4BUJah1COhA1GaoLUKqeFVqgBQ8gcB2r+4v8nhU6orJJrPw4wa6fDxuzeqWCvqrZfgCjUJAg1FgENYSgxHbKzFfrexPcqaSJqAgyaiSD2uJmnjd0WVe6TcgYnjA9iESkCj4o-6iETVesqOnGAqVWBD1xihgOSIvVIrK5R6-BveoPWnqwYOag1TevzVMLr1Ea4mhWUZBWKb11HeJTIuwW4KCFPS6kKBowXgb5FaSuNT4oTXlVAND666g-LLxwoi5-vXdVeqLXvrrijDYRCzmKVVqGZTc1DZUocCdLklqSg1DRu6XtyQCC6-aZRuxUYaeIvQLDZ-LeCzsRIUPCMv5A+mFsmWSwITWNL8r8angv5YTfAhWjib8GyVKTR2C4mwVJCYUvgZ-B1ZSVb0Am4suJofGiaZNEmvarpuk0GbipgUv8mNOSpmaVNxm4RhprGmSACQJMZ0L8os3sT5NamlRvxtoBsJlNQgYWtKphmGbtN-cQLTqQYB6agt5UkLXmB3x+a2ESmsQDFrpKRaxmweFlWSsk2pbpNGW6YhHSjzxbn0sUSdb0CKQvNstLAFnnEOi3+bb1mSruLpoa2nTXgaW4LV6ypVhbZ2dmxCG1oOAdaEZE8JGRNJAhTS5pXU8Zdqmq0AjIypm9rdJr62HVBVMqqdDSH2ktbktgUVqotvs3LbMtRW3sl1vXU0RytiI+sLNtq1bbGtxclzZBRrGrbQt9ix6ftjOVG9kMWs3glgCO3KQbBV2vQPdtwGkqattgzLQPN8Bzy1+RAReesoLwbFyhUOhebMChkx5B0w6WxAtXW1YgSt8EcrciKq04UQdAIqOEDrSwekVFxAi4mxJcZM0jE2rNfpD037z99+EtCcRyJXJjl1cHq4sO61e2OKPtziL7X+kp0FIdQUGfibkAuIjlThBA6nHMqaQZBYsHnLlkhKV1nqJyP41CRwQ0A6ZWAzpaFj9vR1Yheg7OvsVUSxFkUO2dBGHSjvxnezNSWOv9Ljq2DlazdU4xdITsGLMBidtW93f2OqwhNfkSQe0epwOYcAAAnLwFqhh6PV7oWSTeleAqANOHq7QK4HYh1U5Km4uGWWVWwA5Bs4gKepwENYVSk9KnPQE8KeH1g0ANe8dfuyUo+ShpZejTqnNxCqsaQsegGRkQJk3SiZNWcQBRkalxS1W5gTva9u73C0Q9kkZvcyKtGvhcAthewvLnfD6qntwKzWSdr+mu6CkfQGwhpyX1cNYYV2qOHvrsLd1ydtUGcb7q7RSCCkx6FgPSE3Ac9i1xAQWA4HjFdg7RDo3kdIJv0hqkW3APZdzk7QawSAj+5nsEI-Sbgumj4OSmHr6DkYKMM40AECIQz-7nyAXRUBrtL13py9jI0HYLE2Bp4oqV6QbO6oYL3wqgREsNIQbkr3q91NxV9QxPdWGFaDXlEAw-vUZ9xIDEGaA7uwLbwHegiB50hEp3XESMDiBp8MQYb2Y4M1HemfQgeEMUZUDK8uHkofIx16cDye-uFDOhWvbwV2qYXUbnwNza+aEu8SFLp1CCx5diu5XeVXWIDSAd1h6ODboYJ271lC1OCO3jn2oM9qzIA4FIHhAygQ11KpuW-o4Af6v9M4u2XiOCOSZnmgB77Ee3zDUcnDPA1w7DuPmeGONoIteKlklY0gmB+GZuTUisyeyFgv6QdMeUpF8qyV5hpgJYb+W7JQI+RmrEUDsNNd1i+yvohMFaUaEa5TI6CQCpQODHjlDqTtUyFmCXKOAyaxhBVlYQsgyNF84gFgTHnVl7K6qVY13MGO2KS65atQl0UmOtKE5ooIeXVk5mlhVjqhieVQSNlz4Z5zggHeMFxJHGdCA0pHbbrj1XHAoB5Dwlft+VPCK5egAeQAB0sAJ62FSfgoN8BZkFgrHW5y27gDk0Ve2GKAcf2OFeA-xslYCa4XAnBpYJiE01mdDQnYTds0YGQGPQ1ZHk9iCk6AAABeHvUAGCaxBjL0wDxGE2MPaMIn6TSJmdCid6BomycGJn7dbL8r+HAjPQQE5CeJPsnST3XY4TfXkAvM8gLzagC8xnwbAnhLYHYFidB1SmiTbJ-bHKa24KmiuSppeqqfVNYj+TT4IAA')">function apply_a_rule(rule, query_pattern, query_frame) {
    const clean_rule = rename_variables_in(rule);
    const unify_result = 
             unify_match(query_pattern,
                         conclusion(clean_rule),
                         query_frame);
    return unify_result === "failed"
        ? null
        : evaluate_query(rule_body(clean_rule),
                singleton_stream(unify_result));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p31' class='permalink'></a><p>
      The selectors
      
	<span style="color:green"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      and <kbd>conclusion</kbd> that extract parts
      of a rule are defined in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p32' class='permalink'></a><p>
      We generate unique variable names by associating a unique identifier
      (such as a number) with each rule application and combining this
      identifier with the original variable names.  For example, if the
      rule-application identifier is 7, we might change each
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in the rule to
      
	<span style="color:green"><kbd>?x-7</kbd></span>
	<span style="color:blue"><kbd>x_7</kbd></span>
      
      and each
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      in the rule to
      
	<span style="color:green"><kbd>?y-7</kbd>.</span>
	<span style="color:blue"><kbd>y_7</kbd>.</span>
      
      
	<span style="color:green">(<kbd>Make-new-variable</kbd></span>
	<span style="color:blue">(The functions
	<kbd>make_new_variable</kbd>
      </span>
      and
      
	<span style="color:green"><kbd>new-rule-application\?id</kbd></span>
	<span style="color:blue"><kbd>new_rule_application_id</kbd>
	</span>
      
      are included with the syntax
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.)
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rename-variables-in rule)
  (let ((rule-application-id (new-rule-application-id)))
    (define (tree-walk exp)
      (cond ((var? exp)
             (make-new-variable exp rule-application-id))
            ((pair? exp)
             (cons (tree-walk (car exp))
                   (tree-walk (cdr exp))))
            (else exp)))
    (tree-walk rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlKqu8kt0CYpi+EwmmYLK1CAFxK9KAwyAk8iw9D8-pJAeYAD6o4G+LGQg6EHIMADmCNOSIBhCMoHRmKxFkheVotAI8gYxN+-xRVJp2Le0Nw3xJ7PJvk5XNpb0YOnwfGEkn0iMFBi2e2eHxYX0oWVwZHwrNJKOMvmpoPBoHlyMIW2iT3iLzeCwJBPwOner0IelxCUI8wAFtZ7UCWm0IW8Rj0PUKAGQR0C++T6cNGNhJ0CEX2Ue2W5U2yEMeQJHVmskBkFB23p+QOp0u3G6wUVXq5-O9RVYKJW2LPA4AT1hjMotD4ULzBYF5uL5mN7Vj+gWwn5bLHLbbWbEZfkBwOwgJDHzTFrY5MRtLkPtjudqhrhaY9fXm+3u8IzaV1tXt63O7JlG7vfneqFzRLMEp3wOM9FnJZpzAxZ9yLDYl3bfZxDfe9P01bVKHwAAPRRWg3eIYP1I8gPESDwKgucCPJTZW0eDtszeSVqFwbI6jEd1CE9cc-GIstTyrC83XDes6AYXFmUIShGOYkhWIYZtKQxUUxXLStz1ddjPXrYpVioKSWJmeSqSiFdxD0mSZi-Ht6SWBND0Ak1SOgxyKITODnzo1czNkjUvnQrCcPwPC2NsgDuIckCZ2gsjXPghDnkhZjYR0eQMOw3DN2Cjj-0xSdgxUs9q0ErL60SvJktSgKgrk+CTNAUrys6GT81cSyfwODTsvs9okkUd0rL7Ach3zCpnJsrK3Jo2r6pS+kdC7Drx1ymMIvIpZovG6jlxfPLcq-BZmAfBa7InY87QrAqBI6+tdrEg6ySfSbtrCwIKvS-CQpy0tRoW2LashESdGEGYviO0Lnryvi1JrITQF6AGgfidV-LesRDMUpTePO-j1JhuGxEB4HcD2jR8AfB7jKe+HCcoALAemHUPq68QBNkKUrq8GrKfxhGxHVESDnwABHbU90Zk6eJZ1o+HZu5OY88QqcRomvlcXMRAyBnxuO8G6tdVnpZhgBmX6npxIWReoTXOO1paTyxqGis02GBeFgFLfJuKbSSVIv3Nt2rcIA5FtLS7ehdi38CGUBwyD9zEOjv3YmsW7SbJdqQosT6eO+1y4+eaUSFxYm7tFrKg5tr6VpjuX49wiSU4fdOy+Dnj1s9WPHvlstScUQgu1912k468vQttnkKDG9ua-it5mKLhuyWHluTRzCfVqXk2u7pXBaGoZJQaIleztUwr2d6Apd+SD3aovvfKFm+axfF8LQLbqjM1Nt5JlqGYD6ZzGT6XVxt-aY8Rr5PRMq9QKGUWRPyWjnDaecbTZAJFAqqTdraj0rq-KK0EYofy3m8Yoeh-JcTHvlbGNZ-L1kGLFHYJkjh8BOGcKAcBEDIHQLcTwtF474DQiTSiFQAQZGXu0BKQM1S-gVNSGk-RdafCJmhEcC4iwyKxAALjLI2ZRf4DBqN8HInetBkhkEUK1ayPktQM36kTQa2jKIGCEQwER+iLCaMhCA2SDjXHmDkZMeafDfICMgcjaB+ErzkicSIsoPilIs0Gko9qKC0EwPahExxoBhEbCwAASHMO4t4tBFBqkILQEgNhYQyi8ek2JcjAlagEUUkpZSKl5CqRZUpExlBTGqaOIsUS9EYwKTYBgBMlbeIxnUzUIyxm8ykeaAZsThnTRSeEvpgJamgG9tYEyegVmNWHC1b81k0nrMibEjGNIVkPwcYsoZZZw7+wmUpKZ6pHlD3eZbYuqcmCnJUYCO5Slhm333jUyZmTpkgsEZk5xgygVlhuvtH5bowUvIheqRFJNDoRMBaKYZyEPx7lRaKV5ys8IoSJWc3FXJhleV-sSrkpLJL4CYvpNZ-yvQwpcfclgJweg4thgAVQYMkBgtApDiG7EweQmFQAAFo5XooacwD2ntXzdPmjECoKCR6YmEHwUAehIQ4WEAkBGGtKC7JiBsbW-9-E0xyGa9WOztp6C1aAHVLYLAREybgAWLwDVGrePKCUlrXXWq4uYfmxBcIUGIBwepZBgnbXvrQOabrGCOIuZc0UWFmCjIws47oYhDrZpzRjSBBzmosHatamJ5aG1ch1fWxtrbzAhKLScQlboI1eqxOQ3aSixiBTjXCy5cjB2+RCGIfNbpY24HJGWzREopQyidD4cwPr8B+vwLa8wvKykZoYPWYVorxXiFqn3Yp8rFX+Iet6miarmZ6wSVO9q-kDgDL3UtHqegUHsAAHxKqTcwP9JACQDKEdhDuW0u71JmTzXM8yyRfrBuQvEZBUwBP4aBxWcyHVOh-johUAyx0kuAwIvDSGRnvJRWcjJWSLmaMTZR7m1MVYsDVsIDWtyuWb14dMz5AdP18dtfqw1kIe59wHhHDee7-4rulLKDdm7fX+vE0G946565IsOtXSNXIlosdAwXeeunF7VzKFklToAt07vk1Gw4xBTM6c9JY7UDhs3GZ1C575enm5WdhTZ3wGnISTqsW67oZm3NKJtWDUUS1fPhnc-gYL3q1O7vi4Z0s8GhN6DLSWMzWK05L0CyItLm7qRRFg-HeJg5GAEqdHobRurAw8V-dowDsMABUDXyWym61HFr-HOzqFmPQCSdL4h-N0WJwNZtB6WwcQZxzoliAxwcEJvzJX0kVZ1pJ340m8vVwK6AORvJcCnc0dUAE8Yxv9kw8y1l5lpuRcLjp4rpcp5ZrbVyA492JtPekrJdqp3y3bJk08uu23fkb2or4Oz-qsvPzEQxFlwP6X0ezYY9SU2tDHMZMt7NmiLs2eqzw548GoUCqyba6NoAH4OBBam9Nu3qT053uoP1m2AePbx6JPQD8+2rdxKAPrd5ZRHA4HVyg4v3xNc518DubWTTecF2mrsUH83OmEcW7tezd5K5bb9k3NI5fbidCJsHpulJZJGzaeDmKS50Y5ahw+3UUjWHC9qfLja1e7VCVVXjduCECfVAS7FVLRNg3p0ohwauI+oSnasti6SBk2YJeYvsQ7E9MCz8hgFoAlHp-d+IJRofKfTP59C2nYNISQOr+kvJmcDEUZMym-n6ZaA0YWHnxv9Hjc5sY74a7-X88pb0J3gnBfImgGt7bnDOpO9KJTyyNP8+20h8ffQ7ajDmHnDYVcThaBDYU-oumcgWG9CYTIadVNjIQIshv3P8doBZVJg4Bh3dTHMkkD5df+sekB-ZkTJbCFlZgHQCoVoS2bjJ0dRVVWqCHXZKtIgGtCoB+N3FXdoUOENAtEyIYMHFA1wETDAvjJBVcf6AUUNK1W-HiO2QBdSPgYSKgvA7acBLuStFiatQuN1Wgk0SWNmJgjmcgi9FNG5PgPg7AvWKWN1CoWWEQ3YFNXXLtQ6CQ21JaAQ6WIQ42CvL2T3VmYiCfESWdSQ59GsXob3SOCoYwosBQsLIMCfWLdQu-SGU+YvWGSw9g2uBwlfGwvcJwtDbBSKCiWLe3VcN2HeTcQkQtDIPXQ6WvUvFMaCazTueOXzJhYcEhWFZw7OFaFIimODWISI6wPITVJqfAVDQ0LA8QUMN1cokvKIenVMawKTfuZQktMkBwUnM-VcJA8ovqNqCoRJUwjoLoMMGxETYYhQjI-MfPWtcopoKo-+SCGY9YaY8olLeY4cRYlvf+MiVYsI8QPNW7GIuIizCYoYo3BndcFo7IwIiWAEAkVMAYk5RMZMAgQkZ4zUIOC5ORWovozI6fSYpXDJPIG4mIsjGlOqR454oEowAAHmhM+O9GWD9UhPIwPR6F6AABUGQtlmQuwPVwMYQ05o5TEag4DYZQAPAN9zBcR8QCR9VH4JijAPAo5ehqSX9Td6SZRGS+B5pvjsly1mM-9D0cS8S+BpAiSCQSTfkyTulhBKSOSaSbceTCQmSXjGRy42T6xOTaTo48ReSNTBTDi6oGQTEzFp8J9p9MCLBaphF3gGReoEjRRap-tmRNS-VLi0SHN+078LtPSfiTc6lnFHSilfcbcYUmJaAojUF2j9c7cN9NFp92BkxII4T9S5FIJBT9Tkyxt144T5hoITS9sohRQNNhFUzP80xWjTiVCixfTfBMTPST0GB6QJQJBhx70uREdMts16dViHB0j+iUic0lp3SWRVi5i6jtjB9TcpzEkZz8x4ceyqtEiHSjFnSgtH1apM8rSh0bSi8vhbT20noNynSsiRFfS3T8ygTvTWtLlyEAyMzW0QyMgwzepaSIiYzeS6yOi9xEzW1kybEqzlpQIXy205EBYJJsyrjNR0Sc08yPTooWSiyQiQThcsQfVXEKznFQLmiMJDs2jO1-zOpLlmzDzehhV2zRlOz8wb0PV+syZMKEcMtGyLABzyihyosJJVjLyWLsseIJylzk4JiRKftIzjhhxNjxKBLKsEd1zQzNz+LLQd95Y99TgD9LgOEbgMAei8oTUnVYCw15Yj1REIZ7ZT53VehDLzVI5p4bRbLnVtBfgCAHwvFrUK5cicEKII1LR6cnLjKGEHBLp9FQ5pwo4LBpxy0JKsRQ5wJIrzBwIYq5zzBQ5QxErRjugUqwr1JegBJMqBIcquRQ5V4+Qo4yrcAMZYrfBQ5AYDgVB5Auwo56rGrCSlIaqLBQ5MTErMSc1Oq0q8qkhUwJg8gDghhhrvRRqjhRQBrdZzC3BMqLAADQAuxEwgNZUPB2q5rQ45UlrzAVq1qutZVFVtrUr5q3RehBsKgaRDr1q39QButVrzAdq8rgB9rDVMIKgjq2ANrQAwAzrcrzCABSD6u6460AYG560AV68wj-Ja8G36h6j-Va2Gy6gAQiTARq+tRohsxo4DWvOtDnhLBpxp+r+sRPMEJqBsuvhLYH2sRopo4FRqJryoA1Ju+vutlSAyprRr6AA3pput8EZoeoFt5tZvMPRo+oet8CRvMHRosBv30RbACsdTspMsQjmPYFcV-WnGGDVucoYRVqcw6ANqCpTVoDyAACtwCpcdalAj0ut0qzaNYo5vpe1zqsRAqLUjbeAsBVbTV1bo1xIpcLq9k8rFM10dAo5I7ZQ5rJKuq8rIAGAlMgZmqbrk7U6+546E6w7ehJrKBYBIBEqC6i6c6E7Q4C6ABRTK6u8uyS0OAAOXkEbo+ubsboQtzuNrW1NsDucuDrzyBO1tFF-QNSRpWIyW9unTWxDu7tFynp73Ek2OHq5FHq63do2H1r7uMoHsDhbCfQ9Q1QdW3p9vDUYG1XAwEhGPtRlFl1GRYFwC7F-KtvkCyH+xyF7gjIbQXtNRUGRQ8szU9tFBQSvu4CxB3KemgtMT-P1xGOOILXjNLUbRu1GT0AXsgTvK5NNwXt3rmPrt8BQf0HQYtutttoqH1N7qMotVweGKAZpAItrMQdsMfQIGIAIoJB3jBKJiYaYE238DMR4bdH3rUsQg0pYQuHYWuEwH0tNBnRkiEEoFdlxHqCSBIH3m0lKHWByKPihBhDhB6G+g0bWDglcSzJWjIjIiMYIDgk5N6EoGVINIZI1MMZWE0ZMbxTAuCKWCsfWActXB+CSF9gOQgPYgZIfJRyQmoGoBhAoAEXdG1SifuqOA8D-SidAt6A5LkQydAE0XZM5PkESboZzQyYqDVIJBgwPsYEagFlCd5IvvKfqbvuqa0eMByUSLKdsb6E5ICZSgFmCaa1-WSSqeyAFnqaDlZNhgMF6AUOGcLj9BYASDAwJBGMqqWc7qyYu16FcWWXUhQSMCjFiU0wDLIj2aMHRE8fXlOdAHxthloVMcNUgj2fScGF+NkaYHkYkiUYslUf3j2Z-0008V-ieYOfLRzEyJCTSjCTYlOc7osCya6Y8FmYFnTAWb0EefAySXAxsZVOKapI8CtLsXBaUMhaDyuZxcuQ5IcaRfmZIEWe+h1TWexbLWbC2cuWXQYGab6AKvqYqGpZRdpaFKhONTGLWfuepb6AyoqEunReWbQqWFOd5Y5ZGZpYSE7uGTKdFfI16AAHIHH-02TdXtnHGjT+S1mZmlW5nFHtQSB5pXYbWVnx4+Q9B8xYR4RII7Xqbc687mRo76wyl2SxVHwbwNwWAg2PCrBmxBXZExcLWan3XrXCakiKIPWMk+XXBVWjXxX42WBE2yIU3FXmmrWc3TSX637qAP6JIV8cJd5oESFsIHWukahQE2JSF7nQ5AWwEKgIXKoYE63FB8GLBf1S31xy3hBe4UsHUa2Nwxm+33GhWeRMjW3yNQ5BhSmbF+xBx7FSE1XQDFBdDVwPXLJpVMJJ3LYNxZ25sJMv4FTm2WRt35MByU0UyOBXECXN2iX5ZV9Z2BLVap2BZnQdUHBf1D2pUFgT3q2z2RMGXt20tEsn2QKUabKxjWXGUsqDGVoIPoEqxPURpzHoJMOQ2AOMW52aRNEMGEPkx8rXQUPo2CP-2JgMWjXyOfx0nh336x3K2p0aOsQ-iRXmPrIinfAh3X6R2K2J26OZ3t2d3aj+PGR9a-3sPiOyc2LQsF38xv35MNC8rV3o513CX1OYOqs2KssjNsIycIGu4r0dRSFtHUcaYRWl3UPIJHPSPf9-9qEhURUxUJVd2UZxArOvDng-DA4L37idHaiXOeOk2lhIuR83PD0POqKvPz1fOoWFYZ004ECnpbxQ36hOk4QJgdBJR9AbOwv2grOL3EOcuSBHwFC4wAOQ2av6gblSvEjIJgv31626EwAmkXstAFg1hhhMMPVaLHRCAsB6F99qBvQlBXBQBDZDUBZ45DYT8T89ED7bxd49BUhNc-A6ASAdBwn9tHWlhoCylDvYXfEY3JQlMnQf9zYQYdvcPQJIIzuDvxnLu4WLm3uLul1GKDgtunvovh19uLvTSIcBvCguIOdDciZIfd1pc8rut4fBtMKppzTTFtv8B+5PAKgdvKBZZfT6cDgyA8h4eHBNvqAsece5WDcudyxjG5KA0r276buo73RSf4e4ts0lpY711XFez2KRcY0WVzuKeNxAfseCfaeSeye3Gmfqiyw+f9AfvPvyNlekzgfVfSy1zfA-pRJQ3qfKBcfQB8e7hvTtQVs3nRdZfyeOBKejeTeyJFc4f5e9tVPWfV1ZQOe5fGeheE4JJnfYeGfyh9TajLp8eTfaizeLffHBOG0g-6eueVyaRBfkcsR6cfvxeAeqeY-gfbe3fs0PfleQfzvueaRm8aRoLywXJOfNGYlK-sGRXo+pfzejyrEB221oo6-GeWxG+0+wdq+yIfvY+FeH1RQyzx+7SnpWqNBpvnWref10mjELTuPX8V-TErstl0mZQBYau1+c05Fd-Q3rcRT-8EhWyz0fPevZIGL4fuz5L-5Z-CBpv-KTab+OlNGgP9D4fDBeB6cxuDgD-nl00ZcsMeigB6AFWG4cBgB-XUAb0GP77996iBfQm0lGS8llgJQQbu30t62caiIrHxqPwUJoDAY0RHxoLhlCkDlmeAi5iQN5J+NxAdAsgVOgoHoDCQIxMiEwOWbEDKBv5W+nxUIFSVlyNAh3oIIOIKF4G+gQQe4QOI0D-iqA3gYSEwE6QKiOA9YF2wWL7sIQM9JgLkFAwedViirGis6GKCUAZuoyAgCQC4i1Q6AigAJPW19Ie9iE97dPr4HpxcCmcig1BPwJHLYQNB2xPbIr0hAl8uBavVDowGME+Ryk5gnQJYL7b+DlymvWwfNC4ET5QhTPQXh7wi5dd-eS0WoskLRZ5Euu1hIpPNDIhSdSyxnHnjljM4C9de-8AoaQi0GOMQICQRticUlDMQuwTWA4Cb06FNUqwBwQnmVzyjPlPA6zUAP0O6HOghhhgI1rUXTLjD4+B1JJniFaHtCC0UwnoWsLzA18bISwihjbi2EzDZYDAl4GECZAWpjh7oPodugGEnCG2YwiYccK-B3A5hHjBYVXAOGNpDAXWGUK4EuHWBrhLw2YZ30uS-Cka9JdYdFHGGbQZGUI3YXwGYgcQHa7qI7olmRH5o9orQPMKE3WGj1z60cOEbVCREaAsRCIxZhSMeFrwqR9zC7Ea3+EP0QIVwu4dMK-pKR0yOw1VoJwhFAZSRhAckVyLxG7D1oOI1VnCIPqSDtAg4fmK6EXiCDkonKWQTHhNoeCOAqQnwZkTEGaDEiwQ++rd30ChDXmkg5QfX0mEaAEh6wH-J0AFGcZKAw1efqkKHShCKgioy0aaRtGqx7Rc-FEjaNdEWihBLTRIoOUQ58BFgToDkvc16Bhi5wEYo1g9yWB+jzRQoe5oOXMAMiiE2QNBhoCMD3MpR+qGjHKL3BJi3RgYndsK1GA2j9m0YCsT0EVETDPRdoh0SiTIhVjlhGMMiPWPbFKRGxL0ZsYUNAhtjDhjaSCF2OHENoDiO7aMeGOjrNDYyrDfHEKOfwjC0OK1XkRIAnimlpuLKZIBMFmDVcgWjXGYBUEPZJjD2yo9nCbWbGswSeC6BwL2NmD9jTxAYg8fEHIZety054nUYr2vHzp40lHGMQQGjp0iJ4RrecUQEXFijnWPom8aOmaFkBkWlArCNmLIoRMHkhpJQZBCrGmkxu2I1odTxN47dhhl4nuqHTG4ES8e2PeQrqPFD6j2e5cc7BPBybRxmhSEk9vjwHAoToeJtHbg4Cwk5ibM5CYhDtyMBZNBgzEnbpaFYagBsSAACSrqUAAAguAHABV0AAStiUgAAB5RusgA4DdED6kpF-lNVfGHAUJqsd0TQIQnWA2J5kzjBMNwlsTsOR417A+J3a4SvgZKPfjMAOAKEPJfICYC5LMkjE5JCk5SapI0naTdJfkogNoHvqYRnJ3k1yWSPsk0DcJFIo1PFMoAcTpYbk4NklLEByoKRWXDgpQMCkFSBcD4yySuIpGWpkRv6ArIqJhCAZrc24u+MyHKm5c2ITUi-qMVtGBB3RywoydN06lNczJVUssaaUlDFJRkhSO9n4KPJYDygZY21JelaDWApAXwfeEGPLLzZMxPQXxv7wrLCwQYggw6a4MEomgv8gQ9LNuiRxg53Bngtgd4NmB8VVB4gsHOQhCFhDwUYYndIcM0RrCNpW01gVQLSEp8lIUQHJAPzHJ34IuuY18imHWmUBNpuAfeM5xtTnMgZKMkGeUKjbCldgSuVLHUIUqK9sZqM7afW2aH5jBwfwPCGsFNHYDNQ1UkiaLjVEM4vBcUy1P0W1EBDqQGmBWnqLZ7e90hvpXngwCZLejjJoM38s6K8EZJxxFgZmWWLAZGc7pu6JwVmPgo7FTcOwbrPrNcTuCvBT0sGZqPU7KyPpCWUsILNonCymsRoxtHIkYCSz+xhAxWRYCdEsCXR7s9tAsS34mjpBx5FWWrPswaZppt2OaaiUuJLT3pCxRYnrINlWyeI042MbOJDn3Sk5quTCNrkZnLSLZ34h9DVmeDOz+SUs+fooCj5t8LxivEMQBJnEH8ruKcoCQ3OYkJi0GlciYasQzFRD25CM1DjTJpgxlNwDMiucMCrl+yPGkIYhIoEJ55js5JxAsXTOHmFAZ5wwE3rIP+pgB9Z3WbubUQrnViywe82WGKwlmlz+xrY74TblbGyxuxZuU+f3H7FYTL5H4rEFhJvk+yaQk4o1k3IjGsS3gwQdiJ9lQnHcKEDsQBc7mugRszhIkJiAhPwjBARi30BBWcPGA3IEFNA1ZhY2gjIKJh7bXAJtK7B2hyA9lI1t9GH5WAJoRc5BEfRSgALggJ4hNvZ36nHpQAX47YnThNpMRH8sgKwA4FaDaIohKgt4DKDGAUKbM9OEuf3D-GeZy0kisuSiWfHMLb5ooGBVqF7ZcKOpCC5RVyDYXLlBJpYORdItDH1yQJfIeMYviLY2tRFVAG5BotmBaLB+vJBcbMAymGKR0C6CUdJNCmUA1JgqAADJV09JG4vkH7RJFEARpwQdqBNOrkKZEJ8UuyYEAcmxSnJzoSJQkoYDuTYpnknhQQHahnD-JRMNJSFPkk+L-FgSmKRJBSU5LAo6SkYrVMIbsiMY6UoUWxOylS9OJeU8cRYSsBFSuRzYZYc0qgkDB2SwQXpWKMjbND7UaS6JQsRoG1T+RDUhtMEC6zW57UtCqwNYtUEzLZyBWYaVNWmUpSBpk0ucb-SoAes9AiiiyYGLwl5g6lXIuqRoEWVcgQxQGbNPUuUAdDWRTWMHEpga4VT2olyzjINLBzriplVgAFYwu2XLl46U5KkdTIsXnKPWlom5aqw4U91BYMQBwORIq75tYY3mSxc1UwpfS6J3vDFZmleabhXK1gRFQm2RW0i2WrCmIMSDsCw5cVsKrkaaUhBsTQBVYjBW8A1b8SqICkMsMQkFUSi3SpSVoKNIsi31bJpkjJZe00zcqGZ8q8vlyHpy8SOArSnKX+iCkZK9s9OaJn-k-DyqUVK9X7IMvwlA9eg8qsZa0If5e1MM1PfKV1IYB2q8wBBHNLUXlUVB1xRq-hRJFNVUjMKMMwuQfVxBlIvcVgLmbZPQUqie6D4hwKorgVsQEFNmD3sqpXmHKMlVvDVdjwcDar2luU7NUz0NUBAA11Ss1WwFpKWrcR1q0ZcVKZ6KAnV9anpcVME61F6Fhqe6v6s-DjBg1yndWbanJwbciulalpPKt1UVSG2AC1VVgyi71dqlU611Tu0XWTrVVdXMdeur1VcQI1Uq01bKviUbrWZxARkH8tdWh1vF4U9SZpJ0ngAbMV6lSTeqilBLvVeq31fdTPXSrpsRK0sL0GMTTNUizwRdXQooW2o91UaqgIeslCYRNlmFenF+siUOBvFvigJfeupAoaylr6kVl2vXGIbwVv65OQBr-mEVe4-cESFbVdQfpqRTrajdMR4ojJKNHYPtuiKCIsaUFgUCSBRqeCddFArG1uMkWgxnCDsZGySK8CY2IR2NfK3RrRqE30b3sYmg4BJrdDUaaBznOTUBptDQ56qym3jfxqumCa+NZwyQASBJjOhzlqmlcepqM3NCKNtAERdxo7AiZ2VYohtrWUc2SaPNe9VMRsQpFGs7NIi6HF5tOQMBdNYIiwPivOW+YvNzKsLQ31zoubWhEo5tZdR9bslItCbKOAFv1UyMdN9mlkDpp410qOV0m2soVtMrlahAQZVDvSMnkXDmRQIr5foAKwZac2b2IuJVrdCdag4xW1zfFqxDri8tgWzjYpt02T5xNPGrNI31bSJbbl8EFLX0H9b1hWtNrFquJvy3ICnoJmgRM2muVUi5l9yhZQ7V2VcVfquSJSKsxW3zRttEBAlUsx60fy6STiiCS4qFGTi9E021vOBNKSvaoJBxXJHkhJwTx+tevXzRyq2ALaGwtAMNr0Cu1DZ8Apm5gJtrgwJTom+ghwSuLVwed2GnDJGCRW7QlsRO7Hcdjngxa9aktx0ccodvqnHbLkLyi5FhBZSYYdQu-XvCIAET6kZWPWwMdooOoZAu261Q4c2X53zrc6SXK-vgOIDFAGKypAHdNt6BsdR2JOrjiR3IzfbIJ+E-7QyouxFNZtqrCHU6oV1E6ldnHKxOloRWZaKgiusTrFj9r04kgJ7Vql0IcAABOXgLVCd1NUUV7oawTP1eBtUUV2gVwOxAqAKr0+HvZ8kKvT6ZDA04gFGpwCt6+BPd80bVtq3rBoAM9Dq1ikOounmBk9A4+MO-GzTJ7A9EiMMPcvWgZJxAiqcYTr1JkWAS9tUsvfE3xKO7-dXQ00l8AIVEKfc74SNeTtuU0C9dBu1Lfgqao96rCeKi3Tmyjhd7x9F+S3qEqeh0c7tMoFLUMRYD0hNw2dNFaLkFgOAQOXYY9qe1racs19w3NktwAmX8zA0GsEgFvrTrXNKOm4D4o+Ct757egCqRVHR1YUJtzhKW8wF-qfCi6G97epqnoD5aIrNgtmYzpP3MAaZTV+XKoEVyayCw1VNIEDdGonV6q-0W6vVSzltYQyQst+zfT+T7hP6OAYcWMUwHki57JhYB+aJ-q-23o9VHqFAzoBvTMHgDafOAzAZz2uIP9zBhVL-pzZ+BbxgcTg1waZ6N6hRby+5U8onGnaAMtJSAwm0aUm5Wd4kPQTqEFiWjfVIutQkjREThartFy0ps9p+3e6LscEENRZzSIMbmQBwKQPCHP3AL6c++jgIfuP10dsxczTKQAcv3X63BJtVYqHVMO6Ho4FhjXbiOsOEadGAZUIxMKh34ljJvJZMfIC2Y5J2Whbc5Zod0ECIIjKxcotzqKAC6usxh5ofwuko+NhFLIONSesqCNsekMqjg-pOkCVqO2WgXQH-2pBrT8AwMtGaF1cRCSsxNnbHPiR9jpBBFoAjzuME6OzBdAavYZNkP7bjHai5MkGdZs3ob4Njgx8oV1yWO7tzOZM5GRTLg2WgV95y7VgeL0AfiAAOlgFnUfKC0nSPgGUkWY67VqnNG1I2jT2ww79W++yrwEuNqHrjR42416weNPGZpzoV4+8ezGjAyAQxDJLt1qJInQAAAL03rmAHjWIQhl3ktTwmRdu3LEz8bbR-HegAJmMkCfO1z5fMjh5wz0GuPPHYT3eN47S0OpSs8qGRwAuyWoDslo6GwbVi2B2Agm2tzJmEwSfZOLMyaXJ8wjydhh5A+TApyNhSafBAA')">function rename_variables_in(rule) {
    const rule_application_id = new_rule_application_id();
    function tree_walk(exp) {
        return is_var(exp) 
            ? make_new_variable(exp, rule_application_id)
            : is_pair(exp)
            ? pair(tree_walk(head(exp)),
                   tree_walk(tail(exp)))
            : exp;
    }
    return tree_walk(rule);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    <div class='permalink'>
<a name='p33' class='permalink'></a><p>
      
      
      The unification algorithm is implemented as a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that takes as inputs two patterns and a frame and returns either the
      extended frame or the
      
	<span style="color:green">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      The unifier is like the pattern matcher except that it is
      symmetrical—variables are allowed on both sides of the match.
      
	<span style="color:green"><kbd>Unify-match</kbd></span>
	<span style="color:blue">The function <kbd>unify_match</kbd>
	</span>
      
      is basically the same as
      
	<span style="color:green"><kbd>pattern-match</kbd>,</span>
	<span style="color:blue"><kbd>pattern_match</kbd>,
	</span>
      
      except that there is extra code (marked
      <QUOTE><kbd>***</kbd></QUOTE> below) to handle
      the case where the object on the right side of the match is a variable.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (unify-match p1 p2 frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? p1 p2) frame)
        ((var? p1) (extend-if-possible p1 p2 frame))
        ((var? p2) (extend-if-possible p2 p1 frame))  
        ((and (pair? p1) (pair? p2))
         (unify-match (cdr p1)
                      (cdr p2)
                      (unify-match (car p1)
                                   (car p2)
                                   frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06cDwc73jxxQIBgeAkFQNA8TQYkLne8xRRBLQKCyXIFEIehiDoShwf25JUnSBQWDIfRxclmoZfCUAAB8dcU0UPl6zq1cUDXpdlmI9YN1IWDkjghFNiWpa13X9ZfRWMjFs2Xct2JrY9sUPzVKV1d9+mmeBagRZ+aanfN12IkKALiZUH3NcoV63uTd1UmYMQJGEBhZzBD4FEoHY+nuHbCb2gTRVJsvLYAMmb3p+kGJvwmEoFKCr-Os8j0U6D+gGw4zuX67z8gC9qYvQXj32LJH-7CoiyPDF8ZX8EbfAZDSUfF4n2uRsOiNx4t-l18RwXUnNagxDof6ZaPy+T9T0V88L+e5wvmWLPvo-Z+WkI43xcIAp+FsGCb23t7Z2x9iKnw7voCMZ86yvy1pMUBAtwFuAfpAmW10cYMBRoQQIeD6AYMtog1OaDbTn3TpfK+-Mc6igqMoNgE1sp0CMJQcuk83Sfxnt-EuvDy4WRLEIEC7DOGVXoPCN2Ntq4iIXk3CyMM-gMBkVw1ECjrYIxwaxEwsjuHQK3nbMCfDqHLCQSMVByDMJWKwdgnO2i5GMGmiQ5GZDiAUJ4V3QmtjBgRkcfw5h2cWJCz+iwYQ5AvE+L8WI6xsQRpCNnkXURajRKcOVrE+J5DDDODXhEtyOSYlxMXPjSQZAzGwMMEkoaI0bjYhgRYhge8D7-W4HQyxYSXEsTKXku2whfANMCbQhx6DQmy3CUPVIgVoHMC0MAsZf5UnT3ST-UuViLILI+FQYgwDimRwWaQgpzhVk2ImXY9BXd6YlNvgwN4bFUSdEuYUdZyi56ZJ2aJZ50dnA-DOb4wp8jwgB39GklRc4sngn+a8xs+zlkW2OWAtOS0EUMB8WxbkWh3lE3llHD4DBAgyCSdwPE-S3LwsBY2SkbQCwvwCWs1OJcSWVHJaAUkr1I40voD8ToIsR40BzADZlVzCVstJZynQ9y5nQIZdLZQYqnHjMJVC75qjfngmMO0JVxBUWGOagqvVjgVXlzCGqgSoidWKrNeCbgTcwg8rRbqxlyrFkHOAfU5lsQJUCR6Q0ql5gqikGJUiw5FskmWpZYSw6Trg0uHISBCN3ro2NNTtM51s15WHM0LiN1+r01WsEZ7TI6aXWGKieGpZkamVWJjf60taQvYoNuQ22ZaLRTsA8F4fFBKp5fIyVq8Roke3KC8IanO46vCtXwCM-tdcDqTIfE4uVXa76EEICCXFFzxUpI-hs6F2zR3gg0Nu6gu6wWVpzkzfJIK92qtjQGldvSZk3pYhNFawK-E+qfU2lwgbplYMHhu6605SECIVkOrZ+hSEWWKMUh5QViAkBEKkSh8GBpAyxnjUeu1I6UECC1eynQ+2FmIoKYUb5Ug9Tg7+Qyr4GVvI0bhx0tc+yPVIAWPysZjxEUMoad4AgWCMk+gwb6cM4O0yqYebcnzOyDBYH6HSsRSgyE6MYQT-pwzEYYKRtgfbxNx2U3Jg05x-z4UIhxvi6rUik0LNpmIpQiPEBI2RoYyD2N63ZHpgzfaIyOic6AZoGnCK8diAxBiXG3P6Y85B0DhiUZoyLkKLF+A8EbVY7jNcMn8O13PJ9MTx1OoScYFJ7LeWwZ+VfAAQlzkHCoIclMlZ2rtD5qcHBClxDcTiqhbrbSIQWAbJ1uDBb7LlvD1XQDkis3qV8oo6Nrl-KpwoeBIQbZDIV1rxW7pfXK1U8abAqszRWCNer74mtehG-dJzgY6DdYYL1rilXxt9mMzdT61g0KrZWHTJzxlUbS0GJVgax2punci-x901GKhodCO0nhk3Qd02eKAdbm2zup3BBpvYtRwR+TmwJrHhLkvA6psDSbdNCezWkCDMBhgWZKCgHARAyB0A8zxCwlixAUIHKodwaWOYM12fnjHOBCdZbSVKMLFyjY45-ylzphrK8x6MK1tL2S8lCC1LaXHVpO92n71V1Q77LQ6DC+ks0UU56d3cNN5r23ozef5n53en9oKeGK7N0L77b22UdOmvUr997f2m8FxbyYWAoLW4wxVKgwQnmKEWvb73muXfrn51lSgifxYp9ijnhgtvL2p-V7LCPlvleij5SPCX4d09riTxi2lAvzeV4NLH4u0S8ke4uWn-0pRjVMxnN3ipXD-oi11zvep3ufu-diIMuJwzRmz7bypoyDXC1modwPlojet-KqMHaj1qaLYz7Lz7yPVuGszp3waUoGfWpcj7Yriv6+lKij2bWlZ-f7975+F-l6lGq-mvtfjbngkAsARfg3gKhAQQmCCAb7mAakG4qXvApfDAY2KgaiK3kgcriZMEK3lZDZHZI5NSL4DLOQMjB5F5Bnh0FoEhpHE7voMiNwF+o2rEAtvZr1AoACqKj9GAiwQ4Axi6KnE7lijwXwS1MPqwYIKQGINmlDgRPNtRtXj7OUAITgkIXQCIRSMVBeDSGwGVHQW7mAnOgusiH7vPgaGTiICQhbnBPQCsm9uhHepUqPCLPUpYXPtYSsOwT4b4Q0O7g4fIPAdoSBgqJ8gsnHOQhkErn2KUNEVRE3mjGCLEUYe-tMM0IpjRETjZgQdOLIcQbZA5C4IRr4CQDQYIFumwL4IVJFrTpHAHvvEHnBt4oYG-hxk0hoPoF+oCAAHz-6Z54pfpv6C7tHrpJaN415vKIGR7vyi5Eb8CqDO5854ozGNjYol7rEX5v6ZElBDH0Fq7N78p0pGh2oIG7GgGhjGRrHHEvK0pF5GFkDCrUCirh5r6JY5yP4H7mqUAdFr61xcEkISyUAFrH5-ETA2YDpug5GzbQ7AmcI1pAH1oWq6H+gjQmF4qhrInIqon-Hfa+6E7Q6UaxDng4kppWJDbxQzZ9hYkAwUmep4knoEmcBEkhjAlJE4wsFwQ1rlzUnokGgjSMlNzUkRZ4QkmGSYn74Qn6DBbJpMl1r-HppsmR7in+TxiNForNFBwQJSiq4cEHqErNL6Cq4DGiSQgOB6nCBwjcAGmTE5yGDciMD4D8BaLGI6LODn7oGJzkjAm-Gm7tZkn6FOqMi-GKlpre7qmfJ5pgkmruqQn7HTClDpCZAA7VHw5GDOntJunYFek8lhqUkokskTABGqZOlCA5nSIenuL1IuEGjGoBkKmn4yx-pokRHxiSkk6Dp5mUK-676iK9mMAG514TxJmxDNCplsA07XxTE-C35zHC4Fb6HL5ibP7mEr4X5+Tnh7iM5AgVkum5k1ncL1LL5mbnhWlwG1B7lEogQdKXmFKPxSi7lmbSmu54rL7jEpb2E5iOFhG7llmBHbgPn4LXljZAW-a+4Ok86N6AHMm4HzE0LGnkzsryzUlynQT0mjBoW959lXFQVfEwWwGPlhGLm7TnjTSMhYUQLALUmh6e4fHsmFAQJT7y43Q0VQIjkfHTRv5+QjTTSEVIyN5DkIVLnESih3oiXe64S0lqaHGmE4LukcKek5SF6SKEJSW7FOZ4ETlMj4KsXoVDmsUfH1kNBYVGWeK4Ve5aUQU2GR73KMwM5M5sys6cwc6WDc5uSfzcZ9yjLIxQY372z9A8L+WyV-7UE9y+YFhhUrDGSkCmT6DIwWR2w7zBUtDeImBaDCABAmDEBvG1CNCMFopD6CHuET5kAAmfmAlIXWoLxwrqF2FMwOrBZlXVJhrcBVXskGKsKpBhwaEyEBUarDpzgyASINVFxNWJr06KWtWeEsEBVSocqjWgCUofpuR3rL7zULG1XErSrLXco5porBG-mhErIyALWgjspkrLWyqCXXAoVcnDZvCpEXVzjgiPUGrcDPWXxrWPIfVHYbjbXNpfyapzg8WiQfVTosQfUpFRrTQBWBrw3QVIyOBfCFKlZC5-krK+5A0uCBZqmHWGKMlSY401XLojBdXIbm4cIZYUyjJwydFJx+odaEqkwM2fGzTnh9wtSxm4iY2nUWyMhTknBU1D6HYjkAlB4BWNzmLT7YwFjZrdUsRwysVeGyaRDJws0vojDU6E23pVLUlq35ZM0xApyEoRi62znfFA52H81OFRoS3YyVXrA82IVm3WrSxiB9xGCy26jdwiQcCdTe1rhLChilCkxi2HyO1g5hAdUu0-njkhbAie3e0S3hAAA8ydQd-WIdidzmLQ8VhB4IAAKnJIJEIL4HIWILwN6tSFiBegVaJKAAANQxU6RGzLTdY+11LhCt0OpN2t2mUd2dRd25151J0FEQil34AgzED2RV011n5101HUCN3ggt1t3oTD1iBd1p0b393r2D3z7b2j2aadqGL5Q64jnoUjmM3kiRxC7FxyTYik0hgbzOnd0WKS1n3QlFCfJTmf3T7j0ySP3ojYimUxBKpo1XR21hFQUuHNAjkqRAjxq+2h2-azDIK52mWIMf2YRoNm4Rhj3qkMRUYGBC7IPshVy80-lY1vyklmWF3Ti32iTWR2zlCgCq71FHjKHE5nj6FwyMjE2HZMWhgjQHksEG0S2SP4aAWuEG2tGo4kOzbu1uigPP1wYE1W2fpwEGX66+3Yx31IhorqNECaNiVv2uof3R252-1a3NoANp3BYP4W5P1mP1lQMZYwMhH20vzwPoSIO+2UOoM91valCkSHQh3YzAOrDUh4O3IEPWi2jEMhjagcnUYUORXc0gn5q0MC2+l0lMOAPg7EHsMiCcOjxVEcUyzcP0Rdn8PCYQ5CO8kgQk0E2capwSMq3SN0xyPQQq2KOyZmaakjNGkCSmMv1aMMyyBOVyCsws4czs7cwYCeWPJkLUC8EirSGCGWElrQYg3DVghFHrObP5VQ1uQnNSESYSwcDAL267PPrk3BLoKWH3LniXNbOaHJg3miLOg2pzD92xBzAThWENA2ociAsxAcggtlk2oISQujSkAwt-N1UlwIslzIvTA2rDxez904uZD+igtFA2rBTbrkB1HcCkucKV0GhEuFA2oFGQsFF9h0sL51W9aqBF4sCGAOoctcuM4rCssxA2rN0IuxCJXcC+DdyDHUGt00tCu3kQjuRisxASugBSvmnUFeTyuwt1W2nTBqsasAgyugCQjqsxAKs2rAAqsGBJXqvSugDUFgA6sotvUACkNrhrDr1Bbr5roAlrdVPcYrXrmrlDUrurb1tWwkwbdrRrJrUbQI4brrYI4I6dnrsb3roAmdMQSbWLdV6dAIKrIbxrjrWbQI9rEbKb-R6bkrmbgxObAbb1-Rhb3ARQxbJrzbDblbEItWNrpbhQJbMQ9WMQ-lzoTo7zkhnzd6EtgIIYJpcw3AHz+VXzqI2aE7GzVzd6+ALAAAVplXuXOz0ciOaXC5O2c90q+uEZuIZEu-wUzNmkVI07ey1Opf8YyKIjaopv3YpgqxBTapAHQGqNHBSzEAB0B2Cb+0BTany7AJAJCzB5AJB4EdB1QJywAKIIt8todIe+E2oABy5AeHNrBHeHMTOk47+hz7Te+yhCM7AIh72IwoJbh051i7Z7-Br7a7lH7HL7xUUihts7KwJpTHgxga51ZuVHnHToVN4hVHMhDgbB8hJcAV4h304opAtRV0O75AeYTpvUmgGF0EVHGz26Sp9zwhfTDQX6ynRwRQWphiwEWIeTvjYIAVthRcsDzh0E565OcnZh0dEDknfHtHiTTmPn6Mfnil27e7pgAJgXPH1HzAhCUtlnhQ2TNDnnP1tOHAAg2TYgXwLAQKPj8BYZ-EOumXL80njlOCjOczzO7MbOXMmAqzLgz1FApgDAeqHwVUNwpAfa2Wg1nsysqsiNE0mMjo+xmDNy9C6CA3cofdDAh91IRGndMgoyo3OGE3IYzQG343zCvKigNwCq7hWVvCxsChKnygygNdGQ-ORgbBV3DrjOrdvRV3lD4I69pQH3SdB9G95Aj3qX-oH3jqK3nUitVNDglSxgZ3y0inChcPQcUPFG-4qjLg29+9EIG94sR3xgJ3UoJpIekPE0xgcPUJfd1gBOetLERPYaLUIsCgvR8hg3La5aX6k3okU52kWRDWoibPoArc0kNGLPWQEYbP4KOs7c03WQYvoACbokiG7PnmIwfPkV4IiGikpQbX-3IEXXsUvXfabPikzQQvxeV6PCfPAvE4w8h87u3i5ylCYvidX3mPrdNPxgTAZADPh07BjPbWvdm90w69S319HSJutvCSDFMvR9fYQfG9bvdPnvSvzztoPvjvvdgm8IXPHeZQdASPeUoI-doxOfSPHvpAPE+xnepMhvAYxfxPAM4I8L3Aoi3vTPST0vTPZu8fpfPE23m+oPXU1fyZokAA5Et30X3aP73yfWt771NV33qqQKMgvxq2TdBgA-9MN9OIdMvzh9BDakIMIAfcEAfXZFpAAm4GmAfdxhwPCFHjX-H0n-oDv230-wWIv537n3X93xX7X7T4-8--eCyAAD5+b-KVndRcDaddOygfTiBE8RkIPAIKNooQGZ6m97ckGEMDLjqqoDdEtMMwlZSQG79YgJpSAesGgHUBNAdFeAcqjcCk8CBd-bntb3+gECMBirNXv3RD7G5D4kGH-qQnAGgBl+ZiSgsjAkIIC3ABAoEqoU3QXozedAmzOSX85BMgQIYDgZ0gZJ4C7eD6TDN4mfBCYqQVAkFHPHYKMgTSAgzeEIJEHUCASPvbgRFmFIKDYE73eFiwNJiHR9BF-IuOwTNyBo3BxgDwfIQmA-9p2ig1SGi2cHyBLBhg-wb3yCEODVeJAvTuQNgFUQs+RQcOkuBiEWJAeMQYgTp1IEwDKB4QkFLQO4E-82a9gzITwEKHuCi8-gszHkWBIm5uBNmEaDakQyOpfaRuVQXQOJK8NmhqcXgSo20ZuQwSJAcQavwawOZtBLAw6OgNioF0EqWGYoqQRcBWV2QFRA1FNW+qtkxhqPCYUuFmFD9AsUwuYZPUWHWQSiZBVYVsP+JFVDE5oNMFVELwqwi8wgCoIMEgy401howj4ar3uF1Rfq4CV4UXgv6aQqom1D4eMMOjXD6kNg+zqwmExSI+oeKLDOzQcBlMi4PUBgOoBEAcBSABGNFLkEIDO5tBv9YEnRiaEMM9CjTIrECHEySYRG3iE7MM1syDpFMN2HaC4XuzojwMWIg-riKQFMiEGacIkeyPQpfZmREpXocCUmHICgyohVmkuEJHrcvM2gs3EqLbS2gShJDephiX6HeJlGozGEq1yIDEjkBfAo2P0AUBF4t0wOd0tSy7BsgKg9oouIYFJCfD8WYESlCwKdHks54rop4L3xcHIJDAlKLIQYCe6uY-o1o+HHaN9GdxIxVozCKGIgbz4fRvgP0aSCmrVARYDsfgmmIdGUsCIcY6BG6PGEeijAXomvvmJdHEgAxcwoMSMBDGEDVWDrbMWQFzEtRqx+gasSWKeBhj-QTwc0haKjFJiIiQw8wMOKtEyBOEfCI9gp2pABVpxVANGIskCB-Qzulop7HOLoCOp9uR1GcSuMnEbi-ozPRxgmPZ5Tle+bYjTv0DzFFj0xgwQyPGnPGpdBxJbJcZQEPEJjjxiY9tGuPL7I1zA7nCTPvEpCgg4aY3fqLEgrgQ5yKK5HbLSNaxlYfoh2FHLJj4qHpGsn4KUF9g17pUUsFOXDNBMFE3FJwn4l4luL6yiiTMrWM3MRNgl8COIQqSiVxA4iUsqATIz4YI1V644OAh-APrpFEi8T8cvfZjFkDYmsQqA4QFgYI1NpzDFsE0fQBxGkk19gJaWMCR8CjQST6J-2eSfZiXDKT+ebcBuEuGgns8mJFE57P1gjDKT+xKwCMGZLsnTALJSQFif1lcFSSnJv2Q6I5JTH9MhmvfHHHWHxzmjloOXHKEeNCrjDSYdrN8YMSnKATWufQCdEXkYB-CcC6U5wNwAEESSBBdMZco0ysnspDCZUFyYwCsmv8yAuICSZlPoDgVbKoYPKehN2FFT0iGUVSMJMP4sDLxcw9Gvl0kARTvxrU3xHEUSllB3e7UFGEpKknujUg29R-spLGnpRVxlonEGyG6CljyQ54G8ulDWmZhfAB1extBjZGWoUyXsJOoYD4GTThBRIPeNNOSTBlGm3QRkB5NlgYTRcdGboOEC+6IYk63QLODl1ADF0AAEmhwYAABBcAOADQ4AAlYupAAADyeHZAECGFotdZ6fWYERpFXb3ShUnE8YbwAmkfhkYuMl4uz2WnXTDBIInGWVJ-7LTOgjYWqe8ABHiABwDMrGQ8KNCDjxhIMsGZDOhlwzEZyMlmRTOJlUzsZ+ZWmZ8OWlHjrpDAW6WSlpnn8JZ9AdyJONuG3p2oHM0EVzLKn4zdhk4n6DOJNLaZoJNdAYuNjUAmBZ0lZJmd2KoA11F2y4l4kyKyEyBJAagbWTTOdlJAmR9yQGdf144OARYjIAAAwi1I4NQeyCSgyAtRsBVUagIMAeixyk8wc7QECEDmpyZY2gVuniHekCRM5uQNOaQBZnGoo54GcboRNxiZz45OUROdLSXBsCnZY0GuSvTN4SZsqgAquWOPRmBBVcFch0KkGqDZBY5cExpq3OkGmJE5QtOejHI4DRi7csUROSlHvpopXM7mQzDsO7LNpyRJIwyIPhQrlzssAouICnNrmMB65hkSvvsOOFh1EWKCPzB5hmGqivJ68uLJvKOGyi86gOQgDTiOm+ZYs-mEec2CunzJY5vCYsszwOawYWyME96rHPObmA3gHCQmRckDkI1L26CqapnM2roLZpwvDUSL3QRYL2e+-NgKRl8B5xuMGw3vkBmIWjzz6OccQnEkDnALcYOUn2TuP4GgCUJxtLafoQ4TBU55NJPuaPAHl-Ah5PCdBduX0JdY1uxUuIoyEExyKesVALiBwvIm+y-J6KFBQxUEWVl0FXkhoE1Pwz5zYSD2eRW1Pe6dSUhBxHqdz3pKddQBbCjcmrAdiMBDFwWPqeFOHLfiVFCijIv7MkBAzQZDAGGZZAAAyaHFGZwy9gRyjqHszloHPqR6zYJnwwmS1Gumkykg5MgcJTKLjJLslOhXvvTMyDCL6kU1UpY2EKUBVeZYSyJdEpFl5KxZBS2OSks4UBVDZ4XR8duBlnfi5ZCsopc2NDDwKOAashMfCCyF9L-xEINoRDVjnjL-xt-PgeIUKWpL8p4ww2R+JNnyZY55pcbMwuEVsKnZmirhb020zuzMZayzhX7NCk3MWoy-SqYvyxQ3KIcK0k8Z8K2XGyeib9KpPsr7BdKbRdhLscFjVAeDqZ+ZDRXjNgn9i4pGZWouUqeXVTXlqOQCt03PF8DHFjy5fidneU8QCpVIVoMeyBC7SRhAMAAeCCxWgDamS6Y6cHGuxErhCeEwpPcqcVVSkVuKycYnWaCMrrK2c7YQAPRX-ixpooa6Q6HunM95pr0uUD5gUlb9kEi080TnkCBeyE5F84mb0QhX0BdowJMVRtCZmCldBAgZ6UCAGVZg7pBq9UueGu7xUoETMvFYJ1WzTLVp3QZWZzLoCLLLRNKwoKVBxBuqdZHq9Walyr5aquFcKm1X3JAj2quVdQnUf5CVpuQPgwQFqJnO+hZK8FxEd5pwsZDIL1wDFaRX6UkFlYKgyMcVbTLlHooqQJq90MTPlnmrFZHSq1QIsSCRrhFDq+jr9mdXrjXV8ysZerIlE8B+Afq3tcQE9V-RmqfYUmIHO4DhqW1UCTOTGp6HWZiI5wccYCNaXzzE8dsg1fgtYU7qWBAwDdQDANW99D1qqh3qGqmpnrt1l62uEmpVX2q01Gqy1fwsaY7xwVKs5mECDqX8zYZ8MpGeAD8g-qoZf6oWTEpDWfqZ1Drd9eeveCvlscGISngmvMBnrWFGa8kPepTUpyn1JatheeX0IwbkljIOpeEqiWAbyQJGhpeBqXDTrwx5pQjW0vg2EpwQiG0BTkzjJvAd2ghUhIaSNEq5W0PGqaoyU43zQkBvG2lZL3eETEWZCpETSiBhETFPhn88HrmlBK4hgoXGrQoJvwUANBNLMxkhptE3abIRKowgCprRQKlDN8msTQFWU1TUagYgA5EXEeXGbdhz8szWNM434Bh5cm2LpyvPH4KaGvmnAsFvQYyQhVlo3vl5uHmyb6Amm2LqbDoDxbWSb2KleyuE1xbRNoWv3DJXnwRaTx9yX1WehEAH00ti-futFp0LxLDEGm7zTwis1+a3lXKwLWpq0QpBktFyBrQSW6lewrx2cm8Tp07H3ipQ2mMrfTRaZtbDAyW7se1vmix0mtL46PA0DhW1aYtviaRLNus1dbY6S21bPlvL6vQitx-CyGNv7qraqt6Mhzfzn8ILbhVnyhMUbKoA7KJw3E-ortumDlixtppYgI5qypsrF+vvHbQ1NiDeKBpvimZajlsC5aDioOnPODtWn-Z-wgEScl7EghBEpGGK2aEVtP6la7i-2kDldq0DScH6yMEwPwABgQjdhWFLDHlwK5FcTqLnMafELIEUC44N2-bbxHEYPbtlPy0MK9sUgowydeKdSElxoD85TKLfC7idiMUGAcwtMaVimMnpy6BJ8+JYaUTInYYqih9aPEjqKDghmd+Q6aLfyd7UgwpYOvFTIzBhG9YlmQSzhzsO1Dr9duQhIazuSEna8dy-fugbsSECkRa54G4MIKpbktGQAAThOCRwg9Bab8eJoj3sRqWeKiTCLF4R2kK1DQ1tB8ENVKFrMr4FwJFVDkVrCgke-QMP2H4WQ0A5e71VnpPCGQi9z4nQQaEj0J7o4qsQ2Y4jNwuAvIq1VJio0L1x7yWTepPQCQD2TayWYAuEZ+nIXksqFw2fBMmv813bxh+2h3Sm06AULp9n1USKdrYKT7KFTAahcTrRQ+D8db4XPvwFXBkA7YhSCDgSoECtBGQpgigswGEE+Dppf-aoKVH3pHBllha2XRfq8ZglZeqkQpIHRAS-0i94ITyF5B8HcKqpNaj-TQWVYIgBJRekAeytaDHBGIJJBiK+HtVPC45rwqUOgYrWoaU5W60Nb0SBH2rNqRB9Uq+FFSkBL9wHQA0CB1R44amBe2IOAcgOeQmQ7qwQAQdEDcHPIvkTA70IiBRY41vekKNSyVZCGYDi-AwnEUZxCHhDA6xvUeMMiGznt24fnb9lQMA6-JIuxEfzlaDS7Zd8u80sLmGXyUtAx+0w6bs6g+KLdCUjsg0TXUgwJtQgQwPZFVjv7+AY8wlffp4VmCn9FgxAXnz8MCA+6X++veSSqQ3kvt9h2HYNJmUuGzFa-VtHDDC2pCOeM9KyctEknMApI-4bIp-1p7H6jDMsJEeSovY614jZubqBYZLZWG+B-iiqYQAXB3gNluw7iR1OCldSa+QUvHAMYcXtA3kHRxdqSBklVIrxtGRSR0ZUlD81J+8SWJlkeATGeAXR2TLMfAxKS3RLA5Y+ljWMAxCAd4DY-lPRxgANskIHY6TAWNGS9hY0U4+zzaNqLrJ6CBYzLq7nPGvjrxqia4OTHA6igrg0kF8b7Co5ApNirOEfseXD90p+gWygAB0sAe6oFUXELwyBggDPKcpK1rZyhoIpe0SPQcv0bCTgMJ5xXCepkImIKyJ1EzGIxNYnppY0XgKuDNw9BSYLJ0AAAC9NwMQZE0UG6VMB8AP0Rk8rp6A8n8TOkQk+CGJO01CoUEBqJ4feA+HpwcJtE0KZFNl9DWTfLAQfRYAH1lAB9Q-pMGH5Og8A5J9lWqfpPCnMTWp2NjqberkA9TBpo07f2lO+QgAA')">function unify_match(p1, p2, frame) {
    return frame === "failed"
        ? "failed"
        : equal(p1, p2)
        ? frame
        : is_var(p1) 
        ? extend_if_possible(p1, p2, frame)
        : is_var(p2) 
        ? extend_if_possible(p2, p1, frame)  // ***
        : is_pair(p1) && is_pair(p2)
        ? unify_match(tail(p1),
                      tail(p2),
                      unify_match(head(p1),
                                  head(p2),
                                  frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p34' class='permalink'></a><p>
      In unification, as in one-sided pattern matching, we want to accept a
      proposed extension of the frame only if it is consistent with existing
      bindings.  The
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>extend-if-possible</kbd></span>
	<span style="color:blue"><kbd>extend_if_possible</kbd>
	</span>
      
      used in unification is the same as the
      
	<span style="color:green"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>
	</span>
      
      used in pattern matching except for two special checks, marked
      <QUOTE><kbd>***</kbd></QUOTE> in the program below.  In
      the first case, if the variable we are trying to match is not bound, but
      the value we are trying to match it with is itself a (different) variable,
      it is necessary to check to see if the value is bound, and if so, to match
      its value.  If both parties to the match are unbound, we may bind either
      to the other.
    </p></div>

    <div class='permalink'>
<a name='p35' class='permalink'></a><p>
      The second check deals with attempts to bind a variable to a pattern
      that includes that variable.  Such a situation can occur whenever a
      variable is repeated in both patterns.  Consider, for example,
      unifying the two patterns
      
	<span style="color:green"><kbd>(?x ?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:green"><kbd>(?y ^expression involving^ ?y)</kbd>
	</span>
	<span style="color:blue">
	  <kbd>list(y,</kbd>
	  $\textit{expression involving}$
	  <kbd>y)</kbd>
	</span>
      
      in a frame where both
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      are unbound.  First
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against
      
	<span style="color:green"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      making a binding of
      
	<span style="color:green">
	<kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Next, the same
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against the given expression involving
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Since
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is already bound to
      
	<span style="color:green"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      this results in matching
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      against the expression. If we think of the unifier as finding a set of
      values for the pattern variables that make the patterns the same, then
      these patterns imply instructions to find a
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      such that
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is equal to the
      
	<span style="color:green"><kbd>^expression involving^ ?y</kbd>.</span>
	<span style="color:blue">$\textit{expression involving}$
	<kbd>y</kbd>.</span>
      
      There is no general method for solving such equations, so we reject such
      bindings; these cases are recognized by the predicate 
      <span style="color:green"><kbd>depends-on?</kbd></span><span style="color:blue"><kbd>depends_on</kbd></span>.<a class='superscript' id='footnote-link-1' href='#footnote-1'>[1]</a>
      On the other hand, we do not want to reject attempts
      to bind a variable to itself.  For example, consider unifying
      
	<span style="color:green"><kbd>(?x~?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:green"><kbd>(?y~?y)</kbd>.</span>
	<span style="color:blue"><kbd>list(y, y)</kbd>.</span>
      
      The second attempt to bind
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      matches
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:green">(the stored value of <kbd>?x</kbd></span>
	<span style="color:blue">(the stored value of
	<kbd>x</kbd></span>
	)
      against
      
	<span style="color:green">
	<kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:green">(the new value of <kbd>?x</kbd>).</span>
	<span style="color:blue">(the new value of
	<kbd>x</kbd></span>).
      
      This is taken care of by the
      
	<span style="color:green"><kbd>equal?</kbd></span>
	<span style="color:blue"><kbd>equal</kbd></span>
      
      clause of
      
	<span style="color:green"><kbd>unify-match</kbd>.</span>
	<span style="color:blue"><kbd>unify_match</kbd>.
	</span>
      
	
	
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-possible var val frame)
  (let ((binding (binding-in-frame var frame)))
    (cond (binding
           (unify-match
            (binding-value binding) val frame))
          ((var? val)                      
           (let ((binding (binding-in-frame val frame)))
             (if binding
                 (unify-match
                  var (binding-value binding) frame)
                 (extend var val frame))))
          ((depends-on? val var frame)     
           'failed)
          (else (extend var val frame)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wqsGYtzEuIBgWGqNi6DEfQ81IahR1zKjeJiQLJzg7ryF6-qUOos4GsuFi2pEaoxAYHq+r+fRFo6sQhovBI3TmTb2uWp1zka8wtuW1aqKOpbOt2kaI0u+7wrmlE3OelbqgYORyAUYhxsmiDQF+-6Hv4t0q08Nb+tBmazvmtziAADy0ERAfWjhKPXLgQYoMGi2GiGXAQ7jbhaz6MamwbuDh06cDwc73jxxQIBgeAkFQNA8TQYkLne8xRRBLQKCyXIFEIehiDoShwf25JUnSBQWDIfRxclmoZfCUAAB8dcU0UPl6zq1cUDXpdlmI9YN1IWDkjghFNiWpa13X9ZfRWMjFs2Xct2JrY9sUPzVKV1d9+mmeBagRZ+aanfN12IkKALiZUH3NcoV63uTd1UmYMQJGEBhZzBD4FEoHY+nuHbCb2gTRVJsvLYAMmb3p+kGJvwmEoFKCr-Os8j0U6D+gGw4zuX67z8gC9qYvQXj32LJH-7CoiyPDF8ZX8EbfAZDSUfF4n2uRsOiNx4t-l18RwXUnNagxDof6ZaPy+T9T0V88L+e5wvmWLPvo-Z+WkI43xcIAp+FsGCb23t7Z2x9iKnw7voCMZ86yvy1pMUBAtwFuAfpAmW10cYMBRoQQIeD6AYMtog1OaDbTn3TpfK+-Mc6igqMoNgE1sp0CMJQcuk83Sfxnt-EuvDy4WRLEIEC7DOGVXoPCN2Ntq4iIXk3CyMM-gMBkVw1ECjrYIxwaxEwsjuHQK3nbMCfDqHLCQSMVByDMJWKwdgnO2i5GMGmiQ5GZDiAUJ4V3QmtjBgRkcfw5h2cWJCz+iwYQ5AvE+L8WI6xsQRpCNnkXURajRKcOVrE+J5DDDODXhEtyOSYlxMXPjSQZAzGwMMEkoaI0bjYhgRYhge8D7-W4HQyxYSXEsTKXku2whfANMCbQhx6DQmy3CUPVIgVoHMC0MAsZf5UnT3ST-UuViLILI+FQYgwDimRwWaQgpzhVk2ImXY9BXd6YlNvgwN4bFUSdEuYUdZyi56ZJ2aJZ50dnA-DOb4wp8jwgB39GklRc4sngn+a8xs+zlkW2OWAtOS0EUMB8WxbkWh3lE3llHD4DBAgyCSdwPE-S3LwsBY2SkbQCwvwCWs1OJcSWVHJaAUkr1I40voD8ToIsR40BzADZlVzCVstJZynQ9y5nQIZdLZQYqnHjMJVC75qjfngmMO0JVxBUWGOagqvVjgVXlzCGqgSoidWKrNeCbgTcwg8rRbqxlyrFkHOAfU5lsQJUCR6Q0ql5gqikGJUiw5FskmWpZYSw6Trg0uHISBCN3ro2NNTtM51s15WHM0LiN1+r01WsEZ7TI6aXWGKieGpZkamVWJjf60taQvYoNuQ22ZaLRTsA8F4fFBKp5fIyVq8Roke3KC8IanO46vCtXwCM-tdcDqTIfE4uVXa76EEICCXFFzxUpI-hs6F2zR3gg0Nu6gu6wWVpzkzfJIK92qtjQGldvSZk3pYhNFawK-E+qfU2lwgbplYMHhu6605SECIVkOrZ+hSEWWKMUh5QViAkBEKkSh8GBpAyxnjUeu1I6UECC1eynQ+2FmIoKYUb5Ug9Tg7+Qyr4GVvI0bhx0tc+yPVIAWPysZjxEUMoad4AgWCMk+gwb6cM4O0yqYebcnzOyDBYH6HSsRSgyE6MYQT-pwzEYYKRtgfbxNx2U3Jg05x-z4UIhxvi6rUik0LNpmIpQiPEBI2RoYyD2N63ZHpgzfaIyOic6AZoGnCK8diAxBiXG3P6Y85BrOjMwGGBZkoKAcBEDIHQDzPELCWLEBQgcqh3BpY5gzXZ+eMc4EJ1ltJUowsXKNjjn-WrOnc6dLHowrWdXZLyUILUtpcdWk73afvFenX4GXxK3QMr0lmiinPTu7hVCVMyUW6Mgr+Yit3p-aCnhLXrDTbK2hdCbKOnTXqV++9v6VtHcmFgKC82MMVSoMEJ5ihFrLYOz1zb64itZUoG98Wn3YqA4YIty9X2uuyzu3N9rfKR7VfDj9tc72MW0uKy0Gbq2lJRNyXE3bFzvv+lKMapmM5ol5MqaPEWA2d71IOyd1TRRBlxOGaMxnWPZttcNna5VK2Uc-ELWaowfOWqpotgz6Hh2uc49WO1mdAuSctFR4rlrsOefzOJp65FL9icGlKL99l8sdd1rBOr2XcOFt4KAVG-XAYVcCptwQ830ONcGie1o4xOiifS8F42NxUPJv-0t21kywRMdWRsnZRy1JfAy3IMjDyXlfsdC0EhyO639DIm4F+xtsRXwN16goAFoqfpgOzw4BjLpU7raxcX0vLVyc58EKQMQ2bIv8fdNR0UYdyjl5wZXug1eKTFQvDSNgZVU-bbAXOhdyJDvBe3CjNGRdStwXoCspfOk73U-+iLepC+mfM9DHn4-J+DQ7Zmxvl3Q+QMKk+QsuO5CMitb7KUJ-VE0dozBC-yfcujIyhg4vQaIrMTwFRw9pwW8o9bIHIXBCNfASBk9BAt02BfBCpItZpkMiUQJzsqJ6lSFDA7sOMmkNB9Av1AQAA+R3P7PFL9O7ErbxbNa+QxI3BHN5C3UrKDdrIjfgVQDbQrPFdgxsbFSHIQ6XO7AAtTGgtPTrdHflOlI0O1V3YPGHUPMPQQuQl5WlcHSfMgYVagUVW7WXUDVg1HYXfnJ1Yg4iQvVIPNSgAtMXdNXaD5VORTPyMA-4Ww4udYFNWtFZBNFw2zASafPFUNGtL1KNBNTgLgjwrvSjWIc8cIvw8uIhAsRkQyUIgGZI03AIjtGI7HCLGIbwz-HGbPOCGtVI6aEff0EaHIpuNI4gIoxieIwyEaI3CwgGYLZNXIyXdNAosrZoqLLAyOM7feBwCBKUcbfPA9QlZpfQcbKg0SSECY53WoOEbgaY9dQxQwbkRgfAfgL3DhH3I0FbWubwzolbIImIc8J1RkTo3omWKXVQszVwirewxw01SwjtJzUodITIJzNYLdaWTuPY9pQ4wPVEQ-CovwyI+tC1TcbfBoXYoQcE6Rb3dxepJEg0Y1S4noiXJ45w58PCVolYT5SE33F4wyerBeCknKYbJHCeKQ2IZof4tgDwkYtFI3NXN3WXWuc8dnMTLkWddnFbPyc8PcFLIEFE-YiEjE7hepdnMzc8VYwpR+WoKUnA0bIOSYwYSUszdozQzaedHoFfEEkha-eQW-SU8-C-VTVU-BDU7gbEu02ILg7YnOI3PZfwu3Xkrg9+OY8mY3ZURo-QJzLI0YE3QnShTnd00wz01HCBFZTg7HfksfaaRkCMpMqBTxaM-bCQkw8kCBOnJrG6bMwhBk4w6aO7PyEaaaeM-LVHOk-M1Q6w8kUUO9ZslbXCUAckQ3I0zs+U0HfANHfZQhLsxncM7HckNYZ3Es0M5sks4wl0ooCMxc3M7xc5GMiQlcicOMrApLHBFLOQVmdLDmLLbmSwPLNyT+bjPuUZZGbg7te2foHhR83s0MUoJPHuXzdIxSYyUgUyfQZGCyO2HeV8lobxEwLQYQAIEwYgQw2oRoDPNFMnCvPfapMNbgdnNst461BeOFH2fvJmB1YLDCg-bCk0msnNMDPvEQAfZMbPJ8o9TVOcGQCRIi+ikixNEGWfcisgQ-bgqVDldi0ASlD9NyO9UUmQIS0EdlMlUS7lGiwxK-HMG-FZGSgM-C4laVUS2VBspqIM0ogsU2GWN+GhSVAi4yg1bgN4H-Hi0Uay8aHGZimDURas0SayqdFiay7-KNaorS5dG5W0aoj0-LRwL4QpTqC0tSq0lZf0iygSQLQo5S29GEn6KpODVMxKoKwYWI1K8KjhfAYwVqUZOGaw5OPCt0Umcqws84c8PuFqD4mK9Si2RkNkk4bAsnTKhkoggaHGGYgdaqpcXq7GAsZg7AuGEsw-WTSISq2Yl9EYOmCSkNKpRoma-DOav1KqlwCMZazk1g1Gc09fOKqI8xenbGPqlgdYJq7KlOSVaWMQPuIwc63UbuESDgTqZ6tcJYT80aMyIMqTUa-qsIbCm6mK5kkLYER6563q8IAAHmhq+tUGct+vfxaEAoj3BAABU5JBIhBfBW8xBeBvVqQsQL0kLRJQAABqD8k-I2ZaIUUZOGmm0SCyVml0hmzqJm1G+7CcACoCnGvGmQYgeyImkmyXMm1A6gSm8EDmi-LmsQHmlm2mh1Km2mzmojRmmQUZH6ztQxfKfrBk0Mhk3CxMLkmbYuOSbEBKkMDePYl6upS664ooT5Nkx2ixNGnSQ3S29EbEXcpVSKq6E6zfKNd0pE5oBklSIEeNV6r21TWYZBPWl0yOh2zCOOmXCMPW14zA1sajUraO9kKuZqkOl3F2woSAj2neCyayO2coUAcbDAo8AicAvsJIqpRkHIqTfKzjVOGU7PNa3qge-DW0nfNai7YesGHOvCckaLVOUrK2ogLKwYg6nOYs42obV67GM2mISOBev25el2+2x2YGvWmzGvCrd2uG4LH2nMRe-2k-QO4q4Oy00Ol+cO9CSO16wu2OupSG6YUoUiQ6H67Gf+wA-u9Ov+60EKzTYkoobUEMJjGbQuxqkhCWBwlq06xOTIzG6cU20SWug4kQBu0eZA8skBIY0ks8MfOGTu9K7ulK3uwlfuqaoeumUe9CKaieumae-yeMe6kI3262w+xLWQZLVLNmDLTmbLDAa8x5MhagEvEVJvCvBfEtaDL+VisEaAhRpRxC7ytyXRxvCTCWDgYBZbNR59XKttW0Bfe5c8Ix5RhiqExkURZ0G1OYNW2IOYCcRfaYG1DkLxmIDkXx20m1BCIJ-60J9xgikuSJkuaJ-xgi4eL2NWlJzIf0PxhoG1YKbdcgdA7gXJzhQmg0LJlnAiyAoJyAvsMpwoG1G4PucHFgQwB1Bp1QJplLFYWp2IG1amyJ2IYC7gXwbuagpPWmkp7pmIG1dyfpmIQZ0AYZpYpPLyCZsJgijY6YeZxZgEUZ0ASEBZmISZnAiEYAWZgwEChZkZ0AJPMAVZmJuccEAAUjOa2auaT0eYOdACOZtR7n6deaWcLuGbWYeYAEJhI-mLntndmwWgQgX7mwRwR4aXnIW3nQBEaYg4WkmHn4aARZn-mdnrm0WgRLngWEXKDkWhnUXqCMXvmCLKDcXuAih8Xdn6WaXSWIQQWznCXCgCWYgQXYhHznQnQHGG8nG71erAQQx5i5huBHHELnHnBs0RXFHjG718AWAAAraCqUqVsg5EJY8J0V-R7pV9O-REvsOVsvJmbNIqYTHgI1svSRJ41xheG1RTNWxTI510npgiyAOgNUaOApmIP1gNhwr171458ENphgWASAIJ6N2N8N71+pqgdpgAUUiejbTaTddJtQADlyA82zmC282wHmdhWx9LWWonWU047JWVh5jhQCXDoZLZWHXq3iopElXK323RzmBCELt63phG2ljA0ZKZcq2+2u2nRsC69J3m8HBc828S5uC69vpxRSA0CroNXyA8xdjepNAwz0JJ3FHt0zcLGq8OHpgv0V2jgihV6WJgIsRMG36wRuCzT6LS6t9oJz0QT9B53Z9gaVzJ2a3pqc3Chf30YAOcF2lNXtXnS7SQPO2B38DwPYhUGS7X6y6s4OABBUGxAvhrrGwv22rpT+J+sSOX4Z3Dzkxjz5A0t2ZMsuZMA5GXA7KKBTAGA9UPgqobhSA+1WMKMBHm0lYVZpxA1BOsEQxE7gqsgs6JpMZHRwhVaGA5babFaeaJOFOnw+bphmgtOcNHQVq2PFAbgFVqcYLeFjZ29V3lBlASaMgisjBc87OrmUtabyC7PC7wQ5bSgfOoa1a1PBBXOr2+wfPHUtbOoJrI4HBKljArPlol328kug44uKN-xhOXBFbWbwQIRWbxYzPjALOpR5irtYuJpjAkuJgcvrBwRjOgC0umAyAFByC29XL3av0AC-O2TtI9P2tRFOvQBW5pIaMW1y0IxOvwUdZ25ZPWudpwgYXRJEMuuDBDpBufzwRENFJSh2PyBOPuPYo+O+1Ov-z2xwdpar0eFBvhuJxh5D4dtNyH1KFJvIa-O8vabyuw0WoRYWu1u29Ls2u5QNaJw5agvjaOlxsh9kxrs9s5uge6bQxQfWbPuSqfvPNZu884esEabBN4ReuPcGuKuAYxJQQ1b6DCevumvSAeIADPdSYTuHcUfieInuBRE-udpoGshJvuAmeqeeIQxPdFa4fpPRIAByILig1W8XgX6kSLpWnWuH+r3nvVUgUZFXxZnK6Dd2-6ZWVWQ6dXtDicG1IQYQQL4IQLuyLSABNwNMQL7jDgeEXTmSJn9HwYA3zn-Qd3in1H5r2n73gGfXgsVXzO9BL35XoP4Zgy8wHdvd5QA9kCTxMhDwEFODbxVyiHS71PwgFb43i77hNWh7hJWHyDULwoeYmP9YOP6gTQRo+vZPtwKrrPqTlYT3SHyDEXm1RDR1V67UtvtPv30hKPlwdXsxBPZGOv5VNwJv84nvTdC9TPyDIIpIwD7+oEEMcHsbe72fPMpvnOkV+v4wIuPPRkeYkfzeMfifkFRvxfiLOolf2BbziJkX0mQ6JPyfw-8Hf7mXQNN-kFOePPZvn13Far9VIcTZ-vIHf7-9-uMvYAQ-w24V9921fBPlRHx5FBSgNVe-hYlL6xBy+u7SvvH1r6-8G+RNAgv3z94YCYO+DIgR-wAFxEW6XhWfh1l342YRonfNWhvyYE39Z6VDHapBUIAckWCOcBwiQGn6a92sDmNPiL0Ojt8W+GNIClhhgIx4XAeZdkIgQNQ8U7KfRSDIFWgwSDs+IvQLJINkGV0FB1kWArHhUGaCniKFQxOaDTBVQwcKscHMIAqB5U0+Og1QSIO0Ebc7BdUergMCP429NIVUUUtoLEGHQrBlAUgdnzCo3lhMUiPqHiiwy1UHAddeij1AYDqARAHAUgARjRS5BCAG2dwQkWKKMC6Mi-c+qPjtafQxMx0aKpJkyrJDZMzRXge+AqAhwlMdQnaEiUDB0A0hRcDIVkOEA5Cs+MmfDBHTTiFDbo20UMp9Dgbxgu83hPQTUQNAjRSYBQ0ZNIP762UiAoyQwTEN4aeFKhvAwfiGGGK8CNhTfIfrL0CB-RzuaGIuBUGKZdg2QTw-JnPEMCkgPB6TMCJShF5vDfAHw4kE8Bl4v9kEhgSlNgLmZudXMdwyDo8IIjvDO4sIhQGRAhGG8I2hQAEUCOYRDwzKm7foGXmxGdxXhiIwEUXE+HtdW06I-4WSKBEgjZBYIkYOiKhEGArm1QEWA7CJF0jBgxI6BMCIxH+gngSxI2P0FRGYRKU+tHOKKLuEyBOEfCPVou2pDcE5RVANGIsluEtcZRqIxtkqImD1dVRlAdUdqKs5iiqR5abUStzZIy8ORZALkS1GJFHtQw8aFEeB2FEEtDRxolEaaLuGOJNR9+QQfliOr0UhQo5UEP5W07AxYkFcPDATGIgCkuhtQu6F9EYBSZBOYwsGLWUPRBx2hXoaYSdG26QVV8VMKMVQAzF8hTuHEIVAwAaZcRjMN0OYYUzLGxj4YrHScEaP0I1iqAXEDiE2JjF0wPBtDDbhpj2C1A5aIvcECOI4Cm8ZezGLIL2NYhUBwgIvWhjEBtG0YJo-7JcQjzQFFjzSoYykOGJfgLjox5Yv3g3CXAcRwgrccQUuGjErcqxnY2sSjQjBXjWRBoCMPePfEwQ1RT47sSjVf5LjvxF+Q6F+N3LQQeGMvScXWDHHXCoqBHSQPSW9HvkxBpMC5u6OoJslYh5gNQCYFnSolfBqIcgkENRDcAR+C4kfgOPjFj5nx7KCfGVEfFJAuxnEFGuRObGETnACHTEX2EonNDMu+NFiXRNfzecpxY4kXtaNkHwTcOSEzUWTEEl-5ZY1w3gCVXagowtxySBas2iF6AT30D7NyOlA1FiicQbIboF8Ool2tNS6UYyZmF8BKVWhHYYAl+EtR-EvYUNQwNcNUnj8iQe8dSbtHPDdBGQOkg0tmLozdBwgfnRDFDW6A4dJAoAbGgAAk02DAAAILgBwAabAAErY1IAAAeTzbIAgQHVNsSLUEkcTTijEugGeI8HKSWonk9SUKhW4GTPJ--EiYq3qn6E-eBkzoI2DKnvB6uXUzIODlamnFuCCUpKalPSlZTcp+U-qQOGamBCNIUJdqUkG4IGSTRnkhgN5LJQVSZcZ6YaXQHcjaibBaVeir1PqQVSqpYg7UT9HlHzFtM0YkmlQSXy4SJ04ORgL1P0APTzI7YoVGeKhElS1AQ0xaW1IuktjwkuHOIBkA7YOARYjIAAAydVI4NQeyCSihn3ClssUagIMAehozcgMM7QECHt7Qz8RrNPEFmMJREz3s+M0gPV2NTIzwMinEsbhkpkZ9TEWM7gqTE25q1SYLMvPpjNgr3gsgknKUT5WlijwGZDoVINUGyBQy-JY+XmfPzZmmgG6otVGRwHRliEqoWMlKOSEIx+Z4sxQkMJ8nKHuDqS+NO4PTME6jDIZ6s1mfzP-p08lwMgv6qTFczuZDMrvXfsBN8yxZ-MNjLIIvwdl8COSvAt2XFg9lEzsJKoOgEzWYk9iFwd4KifxKHGqRRJM4h3NBNHHpy+uc4-9gnJW5wx1x4GPOcuIdwfsi4oYyWHgg2iEAE5Z4ouXRkIBfCRe5ciTPvCrmFIa5d4WuVVNAB4BIQA8ouaTFrnXi24F4saE3JW4OBY5z4-2SXO9nod0Ek8heTEGnk6045AE5BCPJXkThX+pIHeX2EgmyDM504urnpMeREzeEcJDSUNQ0bCItGV83XDGPBBEyDGOE+gBwmUkXJI5HgwNJHJ4qUzRSP8sQT8LnkRh-5OfAip0FIy+A843GdQTLyAzoIIF1wuvHEkvlEyyJEfLFL+KSBYKyAuIJOUJipAcJXyas+KBeHGwSy-gUsnhJHPFJj415uIBSRkQnBMKN5nvbBRdPAnopP5sPUhaiUjkHyYgvE-DOTIEjsKWFw4mCdnJkgSSc5mhLjhHxlnqzRSAixgEIuCxSTEJjAE0ZIt8Sv5wZsUsaQwAymWQAAMmmwKkN0vYiMtFADPaZEzzpuCyqWDOqkqSPwyMZacPhF5NTPFc8Jxd4s6kDhup5C+pDxQGmNhAlo0xKaYosVWLZpIEeaWEqCUeDrp8Ip0X2DWneiNpW0oJcIs8pQzDpKI+EFCOyWySuZuyIpUdJFluQ68gS0GUQs0lZcURN0qgHdPkxQyliS+NBeQpUW4xGlsmf6ZIEBkNKXFZ4qOdSFPbqz1enCghTgo7F4KWxhkv6NwWumGiOl0wIcdQUMjpLgS9FR0cFjVALT7BpxNiYstcXsNgsGElAtumYVQz6k5y36WDK9asNXR1wrIkooIVzLVe5YlZTxDTJ2tWg+rIEFZOEEAwve4IT5erybq3z2simT3gvkLGFJTGLUWZerz+WWjTuwKhwKZR-yPKI+MuN5f6I8m0KKgyMB0L5O+GpBtJW8pcVN3ax0Ygpkyj4MEBai9SJMjAOqb1N2jeFPJlKnlS7X8l+BGQuSrMD5J5XNFzw9nQClAg5Xaih2qmcpUZO6DW9gZ9AYpZqNhVFBSoOINVacoOlHTS+9PfadwBuUyrAghCeVa6LMxHDiI5wAxNKMByBByFnKzleSv6Vyy7WFUxkG8D4XfzZZfkPlZ4spU7ShVY+AKUCDFW4gfJO0qVWPgtVQJKZCqgENiWVV-Q9VhSjgJqrFHarCguq1VVmuIA5q-opFC1kuEwVsiliiawhMmptV0DrM9q8+eAhcGuq3sH0nldSr6WdqReAQ7tftL959qO1A6-wa2uHXqrh8tcVlS6o5XfRuVI68kFFDYAnLghRoRkCYommZTspeU8AH5A3VpSt1006xSaonVmqrmO8FdVCWCmEpwQGIM+Y6s-StqMFssqdc6paiUy51niz1QwrtYXqwl662JWYssW7ryQJioDVYsZA8yoZZ6pYn+qcXXqBIt6ydKSrQb5o0cGrCvIQXNEBymCPFHIm8Aw0ogs+g1JdIBi8y4b6uPRAjfNGiEkbHo6CLDfV1FDNVgohGxilhq7Xu1GNBVSSulVY3zRiN3BLYYQGi5ooei-GlELRu4L7DRNhiGoGIAORFxZlHG8IeRpE2TKCN+AaWdRsk2YrXRXa5qjpsYpGaohBcweiiJl6abpZVG+gGxqiGmU7NoNbfNCuUX4bbNAmkzU5p7IX5iVZo+5LqrPQiBAuLmghWrSs3D47FhiVjVpp4QSbTAfVXzasoM3oNcQcWoiWlvjolAbFAJWQbaIJG7sHRPIzJaGBC2q9yiYaaRCkDs2fSqtNGoleZv9GQQGgNy6LdZt8SVbDAjmmrZ1rq1NbmciWmnq9AC3m8LIpWoNq1oi1tj5NRWM-MsstFpLWlGysgtpm2UPYDQoCsbQsWIAKaYKXysrQAIKXIllo0k3Rd6J4a2BvNWW7RYDlO2yS6YD2QCKyS9h9akQDWs0UNv4AQhLewWxRTCs2LbaDkM7PesjBMD8AAYYQ-iRGSwz4dCOQKLDsAkmUICq+NfOOLNoG28QRo6y26cttDCraStIO+zninUj9saARWF0uz1BotiV53UWmCMwDq4MadO4iNooLgLtjsMyBNTg9u83ggkdBA6aI71e5TLOoJ2-5ZPQrGhgntmQULujo+0ItedSAxoj9q2xaA9tQbeXSjsGidVzwNwcfkU3yaMgAAnCcEjh66C03okjSbvYjFN-lEmEWLwk2Iu1vCV9GZJUKOGvgXAP5OGeXViCm79AovUXhZDQBB681neegccJ91W78mnsj4PMOmCm6bd0cVWNdMcQy4XAXkcSmcNnrkh4910xPXg24A66tEkeyPs2sEBsAYFcCkyvgjZV6b-Rg4t7X9Fl0QhoF+TSvTZVEhjaye5e1vUwHgVA60U1A1XW+DoClRVwZAO2IUjDaAqqQrQRkGf3jzMBx+1ArcV92H2lQcuRwR3kGuoyipSAE+wNqAEW46pRxMsBRCUNYjF6IQnkLyNQNADq93QI+-gDEGv2+QmdEekKMU30Dh9vlrQY4C0TD0RAGIr4DlY4PZUuCpQv+l2n2spntr9p5BMdftLnxq9Y9pQgwLvv30OFD9qkQpJ9RATh6Ygvu8ENfs8hMgDVggcA6IGIOeRX9dqqLDwKKCEGqDXke-QpJSxMGZmvDHPd6N2WtLNl24PHczm-1lbwJxOhIUVlaDlizVOYWnUsTKyCjNtEhoXQhJu2i6sJ9+fhoGN40Va3phgeyKrGqClQvVM+ufdgvP6L7L+U-NLmvqf2q1N9cDduqPE1IKHHUx2nRaoa9hwM3araOGJlukLgg7IAktQMtEXHMApI-4ZoEIdGSiGZYiQiFSayWpVJKdjOzSgSzkMfLgxFc9ucVU7mPB0x-VS6YurHw1CgQ4mBoYfDyP7UqMBgflm0M-BSg5hLtEaOwtnn1iyijYt-XaTXBni723AsPd4ToxrhfwdpfuYPJWAJjkxSYmYWUf+jOVujRs1ODUYcm5ivwcw34kARnn-imZXAHhYUFaMmVGxOxxMLJkBJ7j0YeRro2DIbV6hXwFQB4Rhh4QXGKjsmZ4H3LAADzIQ8xm9WnLPkLCADnxkIhka2Pb1LjWeiKIPtmWi9CJ+gbiQAB0sAl8+EUwBHIyBggLXNkkM0pZyhoIAe0SOgeKrqCTg4J5RZCZInQnMRcJhE-sqLhg4UT1PLcWNF4CrgZcPQUmIydAAAAvTcDEDhNFBETNJ1E4zp6CcmsTOkHE+CDxPGBCoUEBqOlSEC6HVYkJqk0iZ+gCnIWrPKBYFxYCBdlAgXU3pMFF5Og8ARJ75YqYeHKnaTLXNU5G3ICantTupx3mKd8hAA')">function extend_if_possible(variable, val, frame) {
    const binding = binding_in_frame(variable, frame);
    if (! is_undefined(binding)) {
        return unify_match(binding_value(binding), 
                            val, frame); 
    } else if (is_var(val)) {                      // ***
        const binding = binding_in_frame(val, frame);
        return ! is_undefined(binding)
               ? unify_match(variable,
                             binding_value(binding),
                             frame)
               : extend(variable, val, frame);
    } else if (depends_on(val, variable, frame)) { // ***
        return "failed";
    } else {
        return extend(variable, val, frame);
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p36' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Depends-on?</kbd></span>
	<span style="color:blue">The function <kbd>depends_on</kbd>
	</span>
      
      is a predicate that tests whether an expression proposed to be the value
      of a pattern variable depends on the variable. This must be done relative
      to the current frame because the expression may contain occurrences of a
      variable that already has a value that depends on our test variable.
      The structure of
      
	<span style="color:green"><kbd>depends-on?</kbd></span>
	<span style="color:blue"><kbd>depends_on</kbd></span>
      
      is a simple recursive tree walk in which we substitute for the values of
      variables whenever necessary.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (depends-on? exp var frame)
  (define (tree-walk e)
    (cond ((var? e)
           (if (equal? var e)
                true
                (let ((b (binding-in-frame e frame)))
                  (if b
                      (tree-walk (binding-value b))
                      false))))
          ((pair? e)
           (or (tree-walk (car e))
               (tree-walk (cdr e))))
          (else false)))
        (tree-walk exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDPEicagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBOBSjodEoUWIJL0MqScrMCsJUlp11kjLJGtZ+sNxtN5C5uJ1-NdRpNiVCwsyapqGt+lK2ityyrBaiVqhVob2mv0WqOfLEfvdgfm0kWknkAA9NJYDeNzRH-lG7Amk4m45W07iMycbZI2qRpEplATIdCKdXAe27fSHXcUayNPRznoO-Iuz2lASub5-I0mtjLvbbv3nqAWfMIkpnDl54ve+NVylhj6xJ3u5faEGRWoUVWrTWETGG6rVHXG3fNN0zvOwHyXAk5gWT5i1LeRy1oPcP02YdvyRX81HrID01bXUQm7FwWiUQsSzLQ1EPfQdP1Qs4LjpBkJyhfcWQI5wiJIuCEOIL0eVA0BWPY0FlBJKYXxDOgkKolDqRYJRNHuYNRXFSUOReAC-2w718X5ATiMyFpBUky1rTQ2M-ywpjgJbPiQmtUJzgUD0jNSEzaO3Mdd0nA87LCZd5A9Hjb20sQ7NgsiK0o4yv3Ut9LJwmypGnFo5HGFRnKHak3Po8c9ynWhkoJFQOPC2hr3XDcaTondGS8lkkpS2git8xzEkC3D+XqwqZjg5LSD89LqOpcdJEsfBctAHgQOCnZ8oa9kZmnOh5AAR0WM1Ipcr9htG8b+CmzMZuIArUpmFQpnZKhZiWDb5S224RvacaAGZ4um4EltW3RSGuyypNc20qo8mqmNZD61u+tq+NkgBrT4wa+n7HjoZCTJyll4bITkXhRZGtIOgUVvBuGHP8xIJMi8xNtQmKkP2tsCHBMJ7L8pycZR6KfzZvH6bLchmZavRyaY5G-q-CykbpvCpH8zRyEFUJCYRvcRaimiHEISplcl-l8P1PnmtJ9bhfZtXJQ1zDAON178YyaRqFIaGBsGoEsuqxjHlZU97ehyG3q9h3JH0wybtu6mf3FzVrLekI5M0WQ+r7EPpJdgH3IY8aWVj+PlyvbWxFA4r4PI-Ik5MmmgO53UeyiQuuKFgdVepGmI6snl2tOKQj1UWDkOTkdAfT2DWQAfja3AwGoTRFBz59zlPeQXk0QhyFAPIWlAK5yHHphWFAUg3jkqZQCe0B7gXXUnrQS+Xt5enXXt1RYcFF5LA0RgWhVyNTYqNRX+od-kYbFKMPUArR2idBaEAtIAAuUAhM0pPzUj+BMf8AHASgcA0yqhUEf30BgmBq8DQP0Qa8RsODkbW3pjDT4c8ciqF7otFeds+ozFofIUAqJ+K7hZAAKjYTwnigQ+J22oNDQg8kn6SB4C8SRe0pJBEYQKQgzg2EcMIXQYh8h5bSNIX+ZhRU2HNnwZQfAp8QhgI6AkZEyjDG90aCZCxECBiNEGHA6QS15GNEUTgtR99SCPy0ZIfgLwsI2JPDkIxFVnbtkcVY7BC5-4tDwVExoIDYldHwVE2B9YcHchcRsYYQjo70EUHcSROjZEvDzIsOx5hFF0DCfPXxRD-HlJCY2fRrDwnyEiaUExZjmhHXAXEhpKjulpk8aUJafN6ydOxPPJ4mSUmgnBKoHKbTQArIhJU0A1Sen6EWSko5ui1BzNsXk0orj5DuPYZaDc3iEnv2aRo1pgTgknPuI0iJFyKr9NUOYoZliujxLfkk2pABIRo0zsQaS+QvLAkLjmNC2aoFFOy9kHKWUioIoSxnz1boiswVybmTIqtCnJjyWhVOgj8jchTLkFI2HxZKdBQTkH3qoFgtTomgDYOiThLEshiM0CyLFgQQEiOFWK8wsC+UYhZJEJajBPTSvFeIEpyrVUyrgYwZgEIWCsgAKrEGhsQagAB3Owk9p66gALS2tIfPQR5h6U8pZWy-eLZFHWqfMQeZOQ1HUP9UsbkijN5qJ9TPP1bDVCCtEeIniiil4r04ZGyCMaFUas9Nydudgg3OEiMlaIqgjyUG6dS-MPT5EmRRaW8tuyaWV35AWo6kQa51vnqoFtRafjVo5uhbtba852EHdEKClau2FqHX21C9ZR0-CbWIedkhIiSHwMJJYHacgvHXRyXuJk-Elp7GWhZTA92LrsMWBQR0j3HlPXsndG791fhRfmqdxat0LwbZWg5Z6SQ4TwKBBg67d5QDgIgZA6A+A8FvrqeQ1T+pOmZHA4gswTaZSkJMaeyZehLIlXIbD47FiViWbAok0okNeDw-xIV4ixKij2QpV8YoJRSlJOqIoLxdBodI3qTQcdKAJwrJRgw1Gs6GXgwsfqBcwpF2ExxrwXHUOYuxWYYayk9kSWrrXYuEkRO-u42mBFZgyNSDTf-SQ1QW1RpIxVEBkn8z9XM4wSzrBrPpuoJILOgmbP6aUzxiqpnXOtq6rZjc9m8zBeOo1HDzoUMBY3EF3SOn5NhiKNRoNoE1nEjYsRISHJRJClfHphTBhDmqcaMloOlZ-PJMS+9RWmMwupLgZFjG30z6fUxvzQ25AStpcU-FurjQgv+0dvp6jDnA7MPG6V2rvHbI1h605CbdnWtFR8iTFbc2hsLakNmAMZpVvhfW6dcsOYjs7cM3t88j5fOleG5gqb4FfXmnm4FnVeq3sHmNaai1dghR6CUEWUA9rTuED8mPPi4nVDCBeNXT+wRTH-KkKWSgLAUpXTXdNWHJAJl3J5eJkEEQMeXU+FluHq9GBRFxqkYlHi-khDJK0bHB1cfEHx1Ah5DTpApvB9J6agdqAGXZypirUSr26HpNx8EtAnJavFwXfLIlFASWEGL8XRyEflc1ykmTqHZeHbuOr3pGUU4PWHERpYZYNaiaOSAuyezgvXruDb3nj36vpJaM4olbiPEE8+--dnRqTVmstQQN6csp6g4deJ51oBhjajeupiUmnu4ljoLVzxJlZLyWrhwgAfPzhQqhq61a4xnyhcHIudROt9wzM6MNfEYMvN4EmEMl9rzF4nXQfOd4e7Vj3aQItSf7yFk6wWMZ3D87trJxf2Pj+72dRQF1KBXRq0NqO+MpvtcRn1rPdzGfSziHLBWXWOts25X3UBgKnEFL9+wo-Mg9bLcSFrK-ZvL0d6WB0RgTMDaszGxPCGY+6+7XL+74KKK-7-5MRW5qJioOYQ4l7QH6xbZv5szAHKagFlDI6LaW6MYoH2SPBW6c4pImSEEohW7YGBD063JiomQ76NYdYK68yv6CxayYFobUEuqMpJ74wp6SAkAHbApsaI6hwyRySqBsaF4Hg8JCHnZWICIvCiFV78h0B9R+rUDLy3YQTjD9Ypi9xP675Nikp7y0BhACjCxqK75sF9aVjcE8ohAyyn7GFsxaogI-xaqwKxxS73AaFijaEvZRpq6MyoEszoFWw6667qF5ABF8xBEEgSQK4pJBrGGsEAFkzv6m4J4P6mH-Q6GvbHZrY5QJHjD0axZFBD4EI-zYGJ6wb8hTZjb17KbyKKJBxqJjZC4i76bYGKKdIMCcIxGaGBELh3aJFdrC6Ci0qKLyFuhWIDFcJMzKSzH+jAr9G0oMHf4TEGQV7XrS4G7MBG5rL2wqCZ7JG66lArHGhdCZ6gDnEXFBCGaqFiBTabbhGXYDb7gN53I55KCwwW7bBW6qBaqIH9ShSkRyaIQz5PFb70xTYHbbafEH4bCKJ7JqKgkl4Im5jQQpZQkD6b4bAHblFAlYlzhFYhgb4PoEmf7fqLCwnV5FSlF4lIlDbyIhAFxMn5D6aEp3FqoYk-6C6clfCeaMJ5DxGjG6HMkGFRES7KYbDeEKHEmMZCnknZAb73GlD8mqBClO6yZcQ1YalIowltyAbTTAbMBsBgacCQa8BXz1EdzN6t6GRFjPqmyZDZC5D5Aum8lrYg78qvAt7sJYqwKKBfZFiexZA5B5BwIljnxdAvwLjyBr5dDQJQ5vSZY47K5WCq4vBBzIk0lozM5HSs5tgsgylRJZlTC3F5kElBQ2yJQeAs4U6ulN6jjpz4B5Q1BNnTS+z4xK5Lgq5-6w4tlAjbSPQdkTTDoR4HRdGGT4AjkTD3Q7QTl7QXrTltiFgHFy5v7zmN6jlLnjkvAvT0n8hBqO7QTuB6BFB7mLmMgsjnmVpllmFXleBrl4GAmMYYo3mVRpw5RUn3lLZ7K9k8yAU4nTgu5Ho-rfk0wYrPGXpkB2yGhjoy6HFOTfFfzUj1ggG8RvSEG7rSjoU0kJjYV1lwkIXUBLSBxzkboH7rA0kor4VfokVYCKLvAwQn7ywoXbl6BqI1H2l5p-Hk4bpMbiQVqLBiE8ooqqnuJiXwRTmMXlFq5PprCUxEU-iMXyUbpW5KV7oqVmAYVAj1gaUnkvFFh7GbmzCG6syKQyXfrVn6gwQtE-FbS6BRDvAiXZAiz+k5DRDuV5iAJRIgKvqCVrrCXSW3H+W-rOAOUWVVGBCwI+VuVvAeXuKGAAA8-ErlflpxcVQQ9muqQeLIAAKlkLynkIKFTlEE4GTEovxrICmQeKAAANQ+ni5hARDRAmLBw2UiwtVPksjNWtUVbtVtpdWQUULSohkFUQjFWlX4DyDmqVXVWCy1UCYNUDUtWGkjWdX4DdXFaGB9WsiDVbXhCjW7XjVGJ8H0ySp0bSVAnSX5nmB8TcYyBZDySEWlB8RDEpURU5WmE0nlDmw-W5VrYvUiLySGlmBfSIVtoWVWVv5PH3GwLSUcIYgJjhUg2BVYKRWGnI0aEYTA3tJ-iRW0o0HGLI7cao2cJsWFgcVw2oXXkB5pChlB4PU-bECZCtCgBsbx5BC0H-V1LmEryMVqJ4XCXYVkFfjfUKXhWw5PrlkVYKVp4aWk08Fk00lg1vXdxYFtzQ6Kl3WMZs15iPVmDPWoavWTza1oamFfX43hUVoSUbj5E-zA0K72bm3g3Ama7Q0UWw1cVHGI3YrI02VU1YIY3nEgLQoJj+UVqY2lB415AE0Y1E1qAk0OE5Hk2nyU3+k03OGcVblG4f7mAs0Qhs0sjGqc1HTc0cgx7qL+gBSq1gEkpM0KJC1-rsKcJi0chW2N1BAmTS1aWy0aUK2qZK3QQ6X-q92uoJ4GXwWzAW3vU62HCmkHTmmgYcAQbcB8DYC5rAho6k7Jkll9jq6iymxtk5SU4sj72Y6chTnX1k4rpxA5Aeg2Yn2NzRjoRGV444RJok431H16FqI5QYJoxKhPnmBKhHIa6BBoxJjgNmBJhQMK1oxbLwObJgiMBIMgPcLjhoPjhYOlBoyA2VBPnEPSAVTQPmBozurdiChPk0NKAVUbiUNqbcIl3wMl0pIsOLF3AsiyTvBebOB0Bln8NvCCMMCNDcNoxNVoPmCqDhmgBTEyEg4tVMNSPcK2qyNmDyMvBKOohF4g4OpqPIPcJKGlA6OKOGD6OgAg48KKNmDqN3nABaOnwKN6MGOgBgDGPYN3kACkLjFj7jNjoAvj9joAjjvD-KsjgTVjHj-pUxJjd5AAhOiNE247E8Eyk5wgkz47w2lQE+k8o6ABlWYDk4Q9wmlaiFozE0U5U6UxE7GgXgU7oxkyDkXvU4k7wwXlUy8EEDU9Y205wpY507Gkky48E4ENY2YEk+YC6RgqGm3ffYfQXOFRwvgrnv+DGIvH-Q-UBgszOJsjs8s4LtQM4AAFbnwDHrOSHCAyEoNHNXRPk0wm7cNBBLNY57MDAsWLMPOfCikrWcI5Roxe5Ple6vMPGsN3mQDECWJyB0O9PQuwtyzgsQtoyiOSCwCQDwPouYsosPFovLhiMACiaD6LRLeLFxaMAAckoFSy4zS1S3HZrvsxYe8380LWKYpWs40Bs6YtYwmPOds+jv-f831iyyvGy5PrOHzJpty6ULyzIc82mEKwfVjqK7TrvUTpKxTiQPDtTuOAuavHVfLKumAowNIIKLDWc0oPMOoRELLF7UipK+jnHL1q-XjiPY0NXAa30EELrW9NMnRv7U5Ia5LsWcG2-lqj4Tetq4LvbUNRVpK6K4pRS+YNG90LGzOacxcxQLcZDUmxy3OJpqmwg1iHnfTdxQYC2DkCvDTVEHbNFTMBGzxYMVsJoBW0cTmivW2GvZaRvVwJgBgPxc+eEEoBQJIJ9GEGUbJIwI7J+oa4DS4G4DBceuMkZi1s3I2POxMn1ZIBtZYR1VEGNSu3et8nFbAieyet8mudULJArPlgoMiKddEI7QeqQKQE4BrP1PcPDu+xkwwC1aXu+6HSyANSAqB6ALAv1YNWO6QCW40KB9jM+zTlOSQEJEtJCIe3qzTth4IcQOh1WkYOCrPQe22oNSyLGoNbe8REtA+8Chs9pmhz2EtNhxQuR-oCyGuUx3-jQooCwKXtTgu+rJrNXHFeBz-KKiNsCDlKJ6AHCEsijmbJrPWKJ8UD4Fgip4J4YFkweKPGJ6fAmLJ-6SyKPFiiAuBcoOO5O5BDO47KJ8GQMl5nVX3hWLJ-J0cuRgKTOXqcXAJz8Ou2thR-u9x5RVMPx4Z9TlplpwdQmwh41S1XdcpGxuzhuT5651p8dUcgNcF-h8x7x4wOF+HI2Ajn58BAddKlyJJx9iF0sCxLcE+WXjfgR18HxwFwQiECivZy1jV7Gqgy8DlBFz8CnaV7+jVy1wV+e+9Mh6V-guBwAOT7v559ULf4LI3IdjWidce5c8cTuLCMCGSfT7dCdKdqAkhLsQgJiHdlMQs8Oxprz9X-z9VmqegugGilL9Ut45Bchtd5VNd5ebPoRXe-r1hA8vBjdheTc9eXd7cJMfKg9-c7dA8mV2DWu2ukD2sys4mlj2xFzp6aDHfeZCaIQ9yze3eZzOdE-cQ7qC5pfE8ljwcbOo-6jo+UCyxW7E448Gisd4-oJSeec8+k9oyjzYw2UsYqQEX0+TewTI+gBXdBhA5Fgc-fQGg89sm4H7YU82Y9y1JQFxsh2cL4KJesbd0yYQn6na-cG-2c9LT0gI6BqSFy+A7nCK-Y-K+3ElcW9QLkF6+vggeoOk8ooJiu9FzXAI6-o0zB9ve2+Re8-x3rmQQo3Ge4MB-MBu+h+Rerfx9lGJ-ypM92us+Y+PkB8YMpcJ82WetpCM82vM8Y-s+R-u+Rc88-fxXoOrIrPl+HPW-p8oe1G5FP7Jfa+TKozcLC8Cii9Jfd2e80G5EB4MEli1H+v4xR5LA9zfkdcl8k8bs-ib9x8l148h5-bh6092DL-AW6jgWZGr-OWmwoo7-D4fJ39BBTVfZDzs2H+Xpm-Fwjtkxpn4yuilJlFyAnmVwF5haBtBugV-Ejsv1V7Gd-+yqTjjhT-5gCvMb3ZVGUWqyQC1K6EC-uwU95XU8IM4MUmWhLyv9GKYPDmloWLJHhJAB8I6DkEYC9w+IGgTQBJnp6mEn8XcQfi3UCBtF30UQDonwJXR+pGK+-dur3QBqDI2gQKboPOiZb38SAldekNQNoEtB6BogjSkjTMIsDJ0raMdIxlkFT0++6vEEBv0l4C1JKJfZgYZGIqS8XgVggmtr0MHgE6CktVCNL3wTT1p6JkewT3Bl7tVcgLAJzlPGLJtBaGwKOgDolCGMNrgdAORNfybwu0Ih+nKIYKBiH8B6EmfQPpzEmgV8+m-7cIAEKCFS55wYQp9pYGJAwo3wOQyGrrhSFpDLqu9SIFMCjJY46hyISIdcmiH0hYhx3RIZNFJ5tDQg6QyblkPQhJDchgQehDISaGKAWhnwNodqU6GpDuhwwiYUcimHWN-BFQrCJNAaG70thgQ-AN2ChA3NdWAoQ1kcOXDXp7I5Q-jgcMkC8szhFCNcpcPIDXCDhmHAIb0KBoHD9OnhPnleXNa5BWhSw4FGKnRoFDiQFLDYUXleHvDIRdwhEZUM+FQi9hz1MysUJMST5bgb+T9C8CIj7gNKrRNuvOgEG6Ca4q6EQXiLEHYF8iXuHQT2kxr2YMRN6akQSMfR7oHObKc6A8OXAcpl0+gvgb+nZE0jF+9MbkSvl5HspkqbKfEcuA5H-pvyItYzvgDjBdABqpPFkKqNVDqjM+8CNQLKNAAEjDApPEWvpT56dwewqKZcCaJaxht6QWIxaDiLNCGiRRGgi0SYNWRspYQ8IdfqsmNHF83hko-hhynrDei1hUSesMaIjEVQJRtgKURyiD42iYxDxBMNGJqFIoVamfLUWqJaAID8BahNtDW2fAfDvS8QoECigUYwjua5sOCnvA+ABxYicAvsM2PGAvA5ehouXkSLuSKIQxYjN3HzjjF+o+xqgDsfKPUQADaALwDMUii7FPpaRX4PsQ9B5wpp5U2onIHmNJ7-C4+SFetlYBLEIjOUfI-sfBFtx1jCAlFQtMWGtEWgSOIQbajECTGRwxRuoTeDcICEBJBQFSLRHEJRJt0Fim8T8d+MFCrk7xkg4ZOEMMAeFzYkHAUDLyvGK9JE4oG8QwjbpPw1ET4jYl+BCBdwn4UE3TgNVgRPxq2VgUAEVQAASRLSQAAEFwA4AIlgACUiqkAAAPJUtkAnCPirvXmrSiUBSqcYkOIVGEcSOF4z4AhJvHnR9Ob4hCaH1QECSrhK+Sbm+JUBnZ+JehNcspMqB8TJx9AKYeWLsAUSqJtE+iUxNYnsSNJVgIQW0CLCyS1J5hCSYpO-JviPhCEyQEhLGhDjf0mcOSeMFtQHDf+9MSxLbx8n2TBJYg78vcNeEbNVUBIpwIXmSL7wFw0MLzH6lbGIRYpBqdBkGNsBCSS2PE-eNpLQGhSFJOUsQThBrYWANY7LEgEfE4QAAGL5nxASDmoRoVUoIdnEgiUBug+6NqRoBqmKA1En3aqYCMGo8AFxqEIaa5n6mMA1yQaZqVBFPabpV2p6SaYTyjQrokk35FFCZyfIopVpmvTqVSg+Tbs6xlgNjAtKvbwQhB2CKqahIOb7SBMlPDabxQWqtSzwa0w6fQmwJ8QChnwc1CoEdiYDSg+RTgWwLFQgI5pr0z9KIIekdSyiXUuOkFlv709wZrfCEL9MkD-TpAjsGwfj3g6BAMZWMx2FhUl6IyYymgBfjSUJkAybpESGXvaJXQShtA5YTtNSONrhSexJIvgWSJ7RCDQq3dakcZQ2B-IZmAKKQRAgZFDor8DiYgF1QTHJUBRF5WQdOJu7mB2ZxlIavzQ4FWi8w+OC4ngB4SGzICXM8kTzNhqUjhK6s+cfghMiizwJ0gyWdEDkGgA0kss3avLNvSXSUxRyRWROmVkzihET6LwjGT2Kez60Vs89PfmcHiBkcbQYIR-DFD5B2Zgsp9L8E8ZgBDZPCG2V+BzE6i8xvfaOS3Tn6hy2ZKgXKQvwLFiASAcskcZoB0SaB3k3YkjsqLXG5iqu9-XORuPblP84Eq0NKHXMXh7RTRG6TPjhKtF1zbRT2FkQ6KZkUVDQnaAeZskblByPRXcBuZPPv4MysRzM+eXQgbmLwdERI9OaAEzmjzUcJfCeXJ19HnyvRQ87rm7Plgjiwx1Qi4mGL2jeygg1c92SOKD4vzVZpQIPu-IDmNAsxUnTueqPglSAhpkId4reIkFbhsonkNAnoFZBDSz+HUWgF2AvEVghphrGmLgqnKTTqsuCtfsJwtjmQyEt05vuYHwx3kVA-0wULaEDJchM+m7P8AQrrFE5iI0Coae2Jh4mDspxAPhYoHlhNyeBbdLsJ6Tekd1Ng50z9FIEiC0yekvRNul-PlgDj4CRyNRR7LHGCKP5pQacFgt86SLYiuC-RWkDnGRyaS2ijRSqLblbjzYeo7-LtxEVKLZy6gKMn6jMUK5dxxYv1B8JsWnj3c5U0iYZMkAMTDUAAGSJYcSaxlQRqbhSsAFShpEkMKWIvEJAhRJVk68Z5NJ7SShkNk+kCkocm2AlJlklSdIokhTlNJMwYpYazCURLol4ACyXzBklFKqpqSkqRzgilIj02jrFJM5MPGuT3JJSjnOYqCD3kqpfkhEVyAjGDLbhsaUfpMpyDTLbh33GXkTmKVpLlK+kg9oUKimSFVUQ0mQskS4XSKlFi8LpblIjH5T+xHS0ZblLrGGgn6nwK7qOP4XbKOQ74qET0tuFrpjh0UkBRuhOUpJ7h6bEoV0P6VHIgphU8YrovOjXKFc1YzZfcvhUr5HlI9GWgiLrH8kXF+3d5SIqEnfKuUxIg5stFuacJAJ0A+HiyFxVXdeadI2-HEnJV44zOAoF1meDeVXciVvwhziyq5K0AXcEkeHlituF1iQgCE7pChNIU3C20APDNjaLU7Agu4mEp5UAMsCwr4ZfqcSWlO6WH5jBkqztLqtIIGK0JWiNRMMsCTITjV6dRRB+11SBhdVxKuVhVnmUfiSE3kuycQFWUBDeagQZNJ+Ne5eqfVxIMsmKk64hShFp8DJvarOl8wnVvw2lPzTuR1Evq6qz4JNNXTiSSFnMg5kOLUSGL8wvnXBdgSfyGq95XSk1WkEUToTOElq+WMhM8m2qJFNgONdIudWogNSbq4kIGu8hTL-JvdANR6qGkhqWAYa5ZCX14XRqZCsawMJNMTUFzm6vBYdkiHaVngLMuq0vJGuO7QLjVsXMwCAlXXnLjVmfI9ZuptWIC74yA89duvkRhB-4nwJ1VmoKVbqvV0xNutkGCleqFiYS4yYxOYlsTmlGwX9XRP-VmTYlEar1S8GrGfrNV5hLCahBZCiJ8xmrZATwtul3r017a59dZKUXvqDmsGlJWogaVRKYl2BEjU0rUR7Sqp0GjJoRo6UIbqQSGn2JAtpqyx5Y04M5jjlgivtsJZCvHrTlIq6hCCnG-EAJrwXb9K8a5VgqJpEASQeNhrEmZoEE2NDj87GjsBIC41s4FNMql2gppeGhENNdALTRQHE3QVJNymwhfBHiKab8Q8myvN+SU0qamp8gKIH5HpBvKdNuy3GSpt3qcbqAii2Tbmx5XYqZV5bILX2Ai0BVMEoqgIZn382KKZNtAEzXYSi34yoazit5SJuS1ia0tiyHkrrli2oiWwAazOEdH6p0qYeT5BLRzgSX4wWUZzALfkAa12aQtYqsLXTRa1s4utubP4Y4oBHNDgR8w0Ed0FVSVbXFhBHrXcCm3Iw2tXw-LWkGrENamt8SJmDNu1K2a5NmKArZmMHrYr0wpWx7qyHG37d6GmmprTmhc1ubMSkXObT8t2WRSAVhy45MqILzGZGgZDbuJlph5SFXN7mvFYZDD7jKyURY-cf4sPEq08EO2mheyuiB+LiVctTkeCkhSwIf4C2oIEVq5S4hStz3Crd9pEVPkEg125RcO2LALhl4K-Ngbsq1Kv862DbIqM2yrYvj+QefFnmz0Yza526xKj8P3SREHKIaUSV7VijJ0fsS8iqaVsQKWCGlBus29uuMpLQ7pYmNQvfrMBVn-y3+YeOwGygbSYMwcG1BFMjomWs7a+QFWPidl8Vg6Ed7oj7GjqxSY6Dty8WNMboL5W48do+V5VVpeDO72djaHAL2OBxGa44jDNRAAE4BgzKCQEHvlgfDHaEe1lLQ2JUropgkIZQlfn74-DNQphLWcjjsD+k6pRdMwAw0Mhzc5urINAOXr9UuoZ+YqIvfKshDZFGgRexPQRlLpIiLIv6OwA6kmjp1PBGwJvfcJb0-syqivIvZwukAMKmFxGf0A+ru0krdlmO7HY7szjj7GGk+rGAeBO3wtV4K+xhY6RJ2716+AO-5Ph2XhVJFAmQQ0Mi1JUWFloaiR3oKAV5K9ceBHY-cmnI59B1lws5HFdEYAX64WoAHTujB1F6BVwLdWvSyHtQOp6+svGHuqjf0x5NG-QfdUaMj20NVAY3Llc2ByKFzp6fyJ1UAMDiPqwBwKZaFWqCBHrJpG6yNaXmvWRr3FpB3un8h-1-65YAB+VIaB8rZpzBKB+PYw1jSQGwcuq1eMQfXgCH7UXobA83U8HV7G9qBvgxAbEMwGRFmwFcQwDEPiHe6-ew8WKnuGArdtNdfRhqQwM-aMx4uogf1GWhCToNquggBkzQz4zN9o47GKDqAHg6FlP8MrhXOHaEE8gdAc1G4EiDJo7pN+u-fwqd4B76+1onjq-uXjv7P94ig5oxQWKOHLDsOvca4YR0eHGN5uF2kkf05shqAZVaUWRwJFKBRU4KWBMYdcVmG9Akupw1gjyPWHFdMhewzLzjlS4zM+QV-inN0p3IfplgP6TTOEkfbjBnAsgyMazp9zU6y07dHAnGNRITI4QOkmKmTUK42iZssdBbMn7lyWCfGvDuLLiTOBnZLWVUTchqHZIBjmMmmb7OIxHHxBPBcFKsdcFN5b+G8+3AGXkCDHsZde-ZGuA+NfHiZjYfZArlgSnGloPexlFTMuNEyeeJW1PkXCP1zdmxqgf+QAB0sAu6-jMUIIP4B-4-HNHYoxaYTIkUpeg8MwYoq30Bgh+t5UibkkonVZ6JzE-HOFJro8T1o1ZIQCqS-pn4aM9Ay8AABeyrMwOifINYniyOJtkzYZ5OCniTqmUk4eHP0UmeIiKEYIZt8P+GIQSJsU-SAlMFdAm-XbhGUc9j9VSA-VPMWmDm7cg8A1Jn7VqeZO6n+ObjA03Qv6rOATTZp77vKa9BAA')">function depends_on(exp, variable, frame) {
    function tree_walk(e) {
        if (is_var(e)) {
            if (equal(variable, e)) {
                return true;
            } else {
                const b = binding_in_frame(e, frame);
                return is_undefined(b)
                       ? false
                       : tree_walk(binding_value(b));
            }
	} else {
            return is_pair(e) 
                ? tree_walk(head(e)) || tree_walk(tail(e))
                : false;
        }
    }
    return tree_walk(exp);
}
</pre></div></div></td></tr></table>
      
      
    </p></div>

  

  
      <div class='permalink'>
        <a name='sec4.4.4.5' class='permalink'></a><h1>
    4.4.4.5&nbsp;&nbsp;&nbsp;Maintaining the Data Base</h1></div>
    
    
    
    <div class='permalink'>
<a name='p37' class='permalink'></a><p>
      
      One important problem in designing logic programming languages is that
      of arranging things so that as few irrelevant data-base entries as
      possible will be examined in checking a given pattern.  In our
      system, in addition to storing all assertions in one big stream,
      we store all assertions whose
      
	<span style="color:green"><kbd>car</kbd>s</span>
	<span style="color:blue"><kbd>head</kbd>s</span>
      
      are
      
	<span style="color:green">constant symbols</span>
	<span style="color:blue">strings</span>
      
      in separate streams, in a table indexed by the
      
	<span style="color:green">symbol.</span>
	<span style="color:blue">string.</span>
      
      To fetch an assertion that may match a pattern, we first check
      to see if the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      If so, we return (to be tested using
      the matcher) all the stored assertions that have the same
      
	<span style="color:green"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      If the pattern's
      <span style="color:green"><kbd>car</kbd></span>
      <span style="color:blue"><kbd>head</kbd></span>
      
      is not a
      
	<span style="color:green">constant symbol,</span>
	<span style="color:blue">string,</span>
      
      we return all the stored assertions.  Cleverer
      methods could also take advantage of information in the frame, or try also
      to optimize the case where the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is not a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      We avoid building our criteria
      for indexing (using the
      
	<span style="color:green"><kbd>car</kbd>,</span>
	<span style="color:blue"><kbd>head</kbd>,</span>
      
      handling only the case of
      
	<span style="color:green">constant symbols)</span>
	<span style="color:blue">strings)</span>
      
      into the program; instead
      we call on predicates and selectors that embody our criteria.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-ASSERTIONS the-empty-stream)

(define (fetch-assertions pattern frame)
  (if (use-index? pattern)
      (get-indexed-assertions pattern)
      (get-all-assertions)))

(define (get-all-assertions) THE-ASSERTIONS)

(define (get-indexed-assertions pattern)
  (get-stream (index-key-of pattern) 'assertion-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCyyiYRA4K0Ia2yEs1JjEKMesnkikWJtWbB1mwsu08jBtXykIvRIJl-Cqcr5-KVKvFkoRWrpvr6DsGRqWpvNIM+8dmC2Nyxdtszkh2gOBb0mcdmVl6lakDPKSlFDhJfJ5oDDfgAbkd8FqfZt-UEo5qgyG-pyW8XVVjPDjvNr85I9QaVDnU4ZBzHrT144xSPCVWqNTGfPOC-5ldJVcT5Yqz+QL23QJ3PN2TMfT5mJwfp1a548PQwvTxLdfX7Pp3jYYdfmvcNQAnddcV-eNF24Q0VxdcZSw6Td8wASEeHc9zGeDvGPPD302AQ7yMKiHyfF833Igs4MtDc5zIyR-0A3tTwIicQQ7LstTdX1qwrFFRNAWs8jYZQBFIRJuFiIVNntAZQHifFNNAUlmVZXhSRPTYFl0tlDNmHYNK00lWEYaRSAMxiFhsxszM2HYHBiC9Yj8UkAFVCDqQhKAAdxoOwHCcCoAFootgmNaWE0AJNUx0ZLoOTEnMKwsFA8LHDrGc8UJGE4U1JFzFA8IgkJPLIpcMqdMoFk2QSnK0SCAJqtsex8ucQqyWcuzWrwSE6zCORVHUfRYnlFsTkFbjUVFAcZSq2beSaQVEpSpM0LNNcRAWYZRlAHY6Cy6wwCktFJJieIoDgRBkHQLk0H5CEyjyQ1PHIVJHDGNpYl4agGEIYRFp20BDWGWJ3AcbhAeBs0wZEUAAB80dcw01A0QhtERkGUckDGsZUdwmu8EIEbiJHQfBkmkKGEYAZpwnwakBnfVQlN0IJ5HhAu66mV+iLpzohhqaBtnul6FFIb5umLpGz6KkNNxNHCNgmB+tRslIWJSABPR4U0ZTJEhw1KIvNQDZEAAyO2ziuPXbYJLTSGN9WlaFqGhn4WIJYVongITNS1f4DW1m1q8g8N7TCH9hhWuyn26EaWHKGnShcCYBOA8l2ng7l-pHRebgJ1jucU9Gr6VGDOhyE0QgA7BgvpYhkuk3VzXo912OfPrxvm7p5PlcZH4h5b3c04zlmpf5s3Q9L52JzLivWYXkwwSsH3B6bqemHFpguF4WQqmcNuF47xMnYuCd1-numt+9mvVZUDhiE8fheuoF3wZDi2Khu5Rx1iSG2cdST9hCLuD+X8f6EFpOjTGjMTY91AX-HynYNAxiYLA7+dVEEkx3q-GgeD4GqHTuTIi+t-4PEhmvZUYwGGRhoVvbeY8xpkLqofQSx9OCnwYOfX+4Czb0JXow8uEiRFVw+uPb6-t3BsH4HwgRQjCB-1EZ3X2qCQFXnAT5L+sMlEqLPg3ago8faGMUcogQjgA5-QobPOgGjuKQxhOyGeVCmDZ1zonPwzDqG2xkZYhRxjyZsEaC44CYi74SLgqwmRHDa5MB2pNQQDAp5RLoVo8OkctboP0dpVJah0lTwsSQpeLgT6mIviI1xWiAkaPYUkt+TARQyTrEcLJvRAE6PyXomhPl2m-WcNiapgizEIJEJzL4uS0EDINkM6gHTRnThKakMp7CfbDM6dOARMl1SpG6ebLRoCUnLAwaALkWyKk7NWW0tE+xuytzqdE05xJzm4EuVtcE2zlkjOoNiI4f0E4UHbBLV52Sb5nNkF8wp6Rmk+2xk80GxAIWsPqTfOZujdaFNJIwA4qKk43JVjQEqzACXPLRX-LomK1LoPxSikgSc-DgK6ILCplKiVpI2XTZxrypBQrUo06RHLSWSTvGoHlGS6Y0s0TfMubKSXjzPtPNwvKwb8pobSt5N94kG3Zb8iphoMkpAVFy5lcq6WOmhszOVYq5EqC-lK9ZMqXnavlWHJmoxJEsINYkpFZM1R1GOScrFQCI7zNxYM7SXgah1HKeKuNxA6hMHCZEyFPSGniL9cIRFxq668F4D9Q5tSMW6q9X03uYCY2kmSMW8gpbzHKrGkLExEyy2uwrcvWJubgkVO-podtaitVdqFT2ww98pEJPzeKw0WDuAn0Xr04B-TdYnx8nMUeLT6wcE4EwPk2cjC0N6KBE4Moy5yXLJU7RC6TiHW0lu06rYmhKyiCQugt04gQBgPAJAqA0CvS5LIsaDA6LpMvnTPwoN2yeptU6kW-1IMozMsZRD2JxbIeEGZHY0NE5YYzEZDETU9KOK8ZhzxmdvE5zzoHDeT9oOEFgzh7R9aS11QI6h4IRbPCRLA12CDbbxlqII4x2DDFyJnJ8eLZxg7h2TOcZXMT9wyK4ZULVUg7QHmw1YBxyuXH+PPggxprTgN3C6YKpppgbHG16foyjZTLHDR3MBXPQu2HfQLEMw89gAKE5ubZo530antahOUcJyZnHPPqVhMwIWqowtMFsYnBxlGvSidcu+KxYTKARNE7sJjhHzLaItdS-T0XvOlYhUytF0qp6Kfs8IILXwQvJpDeVr4XmnxpuDVh5rjwQvFPVW6kkHXHhdexEN0psr+4FeY8F1j5994zca0VmYE3px72Hq3WbMG1vfENFwusUXOu7G60di+u3CssY8u0Pr2l-KBRCjQNOYN+CcFADFM7AnUjbt3jxyJpQ-CDp1Q8ZClsNCxBGeCpg8XSjYVmJDNjCpT7kCh2CuLJDuBA+CNITQhqpCcW9ODlQBNjSw6x-DxekhQJnxGF1QzhwjltvTdjogQgJOMV9FwVI7Bj5MbvNQTJmWuf0hIUl-B9iHDOPh5z0X8YQdy-l18ITAuYjbZJFT69YbK2pMw3TzwHnMwLD17wkUvOSQG6N-GHYe01jCSJ0BfMt2Lw478gFIKoVJIVNII0ewn3YrI9aoT8EO6iRSuk4JZxJ86DKcWje9x3BB0EgAHzfaM0cwdynoP8MNdXcV3mXP+fu3t6+lb1CBB0Hx8DRyi-Yn2bZ2vq3lP7aeOnpndHfO7J8xa0bze5ut6kO5GvneVmues4bhwoLyDgvy3tl+BfutVZpXHkOJPj5A196oGr6L-XU6kJDO3rpxKemJ-qFCTrgxqum+6vf8eVJaMZ4JyV1+NU1v9T4efJ+ALehDqe9qEq0gLqNCPCz4RUoAmWT+zOL+dWsqSqn+hWiUvQ6+puYB2OMB4CoBL4++iOWiKwQBaqBsWBDASBhOp+TumYkMlWO+3AIuB+gir+I2o6pAXQCBsGpBHE4koeliHyPiRAW25otGoOWaN8ietGqe2k5I-BS2+0NIfgQhs648dA6oLglAgQuCbwcCdUDWj8RcyB5+yKhKlqlcOBS0Yo2qMoVWsBmqBGHBN6Jqm+5qNBSqdBoAR0zMrhOw9aoMa4Kh3i6hF2aI6BBB1h7+LBr4rhXwyhIQ-hMCmh+CdYzikRmY5K2+Rh1KqqoRzBdwiEHE5B9+Ou8GGhn8CRl2q2mWaGusgRLgaWBGg+Q+oAx0ngiUVg+e483mbWJehWi0oE6aMobWaauWkSlciUoEX4n6hI0RqhAR8R8Czi6a16oE0hDcTcawEx4eu4fBCcMh5o4x16VBI+3A6aOevOWsMGguGuk46oXoSuyuXOyxQ8axfgyRdxswe2ihoG3WU2b+XRsGZejoqRqB3YtB74UBEsqSEWZRuhTWA+HxeQ3mW2mSV2fxIcoE4sMoYJSeMhB8R8kJv8SmA+iUW2ZGVGmGiJdMJJAWC8AkYBym20Wi4sC+7R52sxdm0Jq+KIhoba1RBG7EEBbemJ3JrJlmlAPebgYMxRWhx2Smrhe2KIXhMhlJxB3A1RlJ+WLxjwmJqpuJ-CNS+JzeGp5E7xb6V0H6X690v6T0AGr06QIGySFeHskSnAy6OSZMFM+g6izp-J0WH2mkhIFeeIrk7k0gnk3AnAPk5MmcHpuw-CbwqQbALQbwDAM+awWwf2FSqR8WyWUuQBfgxxA+-xwsuskCrM5OQspItxXw2Zcg0ueZQxdJRqc6pOpZfOcOLp4aVa6CuASyUsZZJCia48ba1Zf0Mu7Z9KHysK2Ofg1yDqra4urOuAY5joMKFy3ZoAPyxC4qqu7YFxmSi5hZGxnyU5GQcJ0IsW5yiYyp5uT8B5DKQJLKS0FuLayS953A4sS5XckaOKJI4sPk95A5Y095PmFub5gkH5t8k6Ei75p5NAqKmIDceM-OO56umSpeACWiE4X+m5g5MB0Q+GaFxcCqzsWFYecFlAjAaagOdivgBZogssIhakVs2O1FDZVgoEHszApqW+5xKFdMMoTR5gYemZ1F2QlCmcsej4Ue4FTFaWElMmz5FQeFAclJMu1FMsgqDFE6zFicClNASlzAMm2lAc6lkghFakE4+lMFMZpxSFu5cBYlNxkljl7gwYnF3R6F0KoMmgHsolTiIgfpGIXlPlT4XQrkCwTFwl+GslNJrBoALlFFcpNugVeMPlslIgAAPMld5ToKBV6PUVIF5iGXdqSAACpNQxaECNC46aD4D1agDig8bkCpnaSgAADU3pouOMWgeoGaDltK7VFZLV7Vhp9V6g3VuAkSIV9wBYwZoZpV5VuADAwU1VtVfK9VbIDazVpIbVHVXOXVeMPVvlVC-V2kPkO1I1+1mgh1U1VlJkvASpFGDlHJYuBeTG2sTU7IBFjwqcKhR14lMVphmlSYTRf1eVGpXmb1zI7II1kgZFCFQ6PFQusq7xGpZ0DlbshIiqfV+V0WZcU1I1Z0v1cE2NEYYwN1dhEk+hWQMGGNsExsXFCoiNGugNUgLuoNPk-k5MxojRicwe7o+Rf+fYAB+lMo+BUq+li6iBmWkMUxRlFKfVctHOMNkg+lxBqlOl2uIeVYZljoMG71dgkt7B3BA6ipaWypaWNJz1NYFSetUNhtphP1VM0VTlwh8YvSINaVkREN7Y+t0N8ucNWgtlvFrcKN5EaNs8tNWNflLxCwBEeNRwclRwONxWstxNflpNuVdwFNu1VNhttNHFG+ZqQdSNeh8YbNFtD2hAXNoQ4hX25JYMfNFYAtmWoEIthIYtu4EtX+lBWistqtslitlZ5EqthlllmtnB2tQNc2vt9tJp3upKn60Q36D0f6z0gGGAdprSqO6OKZFOpKbOhAcGn5eS1aB9Pk290OxKs5eQF9GOLAQM3gU8HG8O1qNAjSVOSsoEt9u9Qs6x6C84DKLwg1UgLwBYStmwDKxYwDkgxYYDtxDKVs0Dt40gcDADV4OkxISDoCqDED6Dtqowg1+Dngvo4DswDKaUxa-AjQg1FDX8VVXwpDMwDKLu0DLumYjDvQDKMIHs1m7gdAFZ3DOgvDn6jwHDUgDKrVSDUgYZfgjQ-laeH27V9DYjkgDKUUUjkgMjoAcjEhH2sUyj8D6DchmwWjOj+ICjoA5I2jkgKjGxZIwAGjWQ4Z2j8joAH2YABjaDxZAApI46Y64x9t49Y6ALYwyn6VI-47o7TXI4Y8WQAISaQRPONmMWMJOEgxNeMkikjpV+PJMBOgCZWSAZO4PFnpX4gaORPmNuMFOEguOxNZMp65OyP5Np5FOhPoMp7lN+AzCVMWOdNtP1NkhxOOPVO9BVOSBxNSDOnzhghf2Q6X172MgqUEgniJ4vB+Df0w6-2zMAGbOY6kreLuAABWcZExqzyQB9EhCD8zGOg1797OERmYeziziRYIbUy0-gNzu9UCmqMo6CDKR+g1R+tjrx4j6DkAhApov01D3TELULvuILoLdjpIgjTAsAkA0DqL6LiLoLXDggQjAAokg6iwSzi68QygAHL8AUuONUsUvJ2i47MfPPM-PTx9UrOPCJ76hVNlyLkbNfMw6suGpzNo4LOstq0cubBcsSHv2vifOit31CtvP-bFoo4Cv7OMhn3VWgLgXI4sAuA5jSC8aB1HP8CdjKEaApAgnvjPNo7FojbP3s5D2bCDo6umAzDG3io7hsjF2XHgU84+G+vC7vjeHsB8DqsvN9TO0w0svtTQIqVku9ChuGDPNtqUDHOnPPF3GxvLTxvyXOszAF0M1BtPxKzeBBAF2aCYguXThM1TyWH9D3V1uypvPvoL3mk-qPT-qYAb1h7m6OBkBMCEpqB9QwjSAhpYLkAbgHm2qwzwyNKTusSt7PA5pjATiLsITWgDVMDbXtWXWHULvfxTubut47CHvYKbvX0VCAwwjb7Jbxl6y4z466vEDEC1UjAQbZDA6vuuOfrtVJ6vu02kjbULDAfPqDW7vBA-sFvxjAespjV4x55h5EC2KMCPtaDA544SVyYoffyMDdA4Q60vYIeaA7Wkhkg7U3vKKMD3vmiJ44eECoc0Ug5bvaRCCkhXs0C4dAHMB-QzSDrgVENJ547LvxzMwORuTaLoICegAOxmQX65x2oTgCfTJowQW+pjAqegBpOPq0gngLCXAXAycBWkhbphWPkDu7jDsFRjshoCdBlLjWaNVNrqIydycFh4b5xCa6kdq-wqf5WgcUftXccUV8eGeGAg7Cemysci7bWQdm0+K0YH1LN4muciciDDUFhxc7Uhe8cOAzSNKRf+cZexfscOe5dkigKDVZ6LBMeuD5fTWSeWznhReicVekiIN+DoJlwCcZ0qd+C5f1fSBKQnghaXWtf6faQADkkHyeA1M3o3o1T7h1AnnHtXeHzAhK0gkSW3OjHllaINAcc7F4Zcu3ibp4DKIQbAEH7QEHQU9kA8VQjYEH0gIwxKjXWY63PH4X3AZ3Gdf3X3oXDXi3FXp33Y23HOcUKoAPg3Z3TJY0pr5rxAlru4R8p8NQEyi6-CgnhaDaLnWPvAonl3znBCfg3nqikWS6MHUgieiPwYyP5AKQxBSWMQaKVQmH+OBPW8i3nnEsS6k3DKW6rKDl1Gvi+cS6p7MZvA8PeQu3FCb2+66PbP0e2Pi06+Nm+PEv9+rd4uaWMoJ4CXNG+G5Pep6iEvpBczGPT3WsIOMoiecvr2bgivrPEyHPKvhPmtkMbaevJniDk3TFl6Lv1v1mWHkPjSSvEyUcLHH3MwOw3v6NJnVX-vQfjANvWHi38fEdJndPFrjPqPgkEnn3TFmfVC1PkgtPZr9PKPzPEf7P1V7v3PA2yDyXBUFdtfqfIfz7LR+R6+SXWvgtkMgvg1hvYvfP2P16ju9+VB-CLRnr48vu9gXPM7KgTF-P426na-knbNG6ldT2XuqXsEfuV9jZ4815NhS6y-EuVEm-n3mF2Pi32--CHNHuz2Uvpvj5fK6Z4q9cjYfUVmcM1mNgBwEMAX99ujoBfmP0J5Acf+Q0NbgYBt5Pc7IfUVnKAKI7qcz+LBLnlZVSLmZfMeMUChexIhOUXwB5JihuyIHvk1uuAmSIhXIESxqBWgcCmXAYF4xdKcVVgDQKHSYYWBpsA8hOB4FsCeB+rWHCJToFk81KB5euHKDEG3QdKa3ANmGxkG-lZBxlUgS1xwEcCtABA49hQLAriC5Bc-MaDZHFIUAIMO-fSgNyrpqE+cWCJgEkHYDeBpAi8P5LwD4yq9BaC4AwioAXT98W6ABHgf0U0GIVWAIg-Ck-xUFCRparpZMM6H2hHEghpscGosGrpaxbB9gtgI4IJ76DjKqNVEK4PiF4CuBgkAoZwNyIzBJ+6+VfuPwKIzBIYTFNoPkLLgS8-ADQyJHfw97j0kozdHujfBPgU0uCU9VoVzxl4VAcY00JzvYD5wcA6G5oOgC2GmFUMo4dABaGAOBp2o5honBYY0CWH8gkQi3APs7A2Fl8sgv7KaP7AmGBsthsws4bEEIjZBrkxwpFlICuFaxlh-aOdGDAcCUwYcLw+4X4BeGqAVhaAoThsMm4AjlhewpvgcIuBHDXCSICQqwD+jfDmAvw8EbsPO6Zh4RVTMYecLgjXIA0nKG4bDi-j6wLmOOV2oUT0okjeck0WQP7EfbjCuWRAVlO8MHLUjQYtI6aAyP9g49FOPqHESN3X5NEeenwo1voB+EARFhhgTLIqhuGJssRaeXAOyJqI3DuRtw+JHSKUgEiC8nAGynqB7zEhZUMgpRHHEso9F-BCQwIYUOEES0ZBllekh2SPwlDGB5nBQYYGNGCBshWoBznJBBRMBuGCkIQdwISGQ8TRXoqyr6Knz+jBACkOSP8M9ERDwKbdKyLgEYRrBtqk3UkKmKBDpiH+BwLpHGNAAmiRAk3EWqZSb7zpv4x6EsevzdEsAc4-oQ0a3ELFhjExPPFfi1yvSydHYzXKiMWP96CA-RAYnKhOCvSPDHgE4YseOIoiDioxw4n7mOOVrvgy4U4pcaeDHqLcsxaY67iMJexaBy21ATkfSK9KrDm+zjBUY0WZhWVEgbwVNDERgHHYHxzgPwHL0LFy8zRqJAAsOPOTihDcMoSMYoGjHyQcqr4hMU+OoBZsnhmYd8WpQdFqRvxVuIDtmO8DXdJuwopvvDQPEqjNRikGMUIytxWVTQCA2yIkWPQgpwxB5AUcSMECJ46CJo2qqnmSI3iU01mFwOBPUT0TvIZ4UgORMTFl9FqwE6zIgNIkATCA4Y5pOWxkBvcHkRAP6DKAAAMglH2GaGCgpJpJGvbhOQEMDLppJbQWSWkEJCvdvAMk0UTtS5BwTHQRk5gHpNFFrdUiKknhIQIlgyCrJEw9jAVC0nSUWupnQakxVckaSPJCZKHmTSPZLtdxfQWjI5J0GCJ9W4wN7ovFpzqSSegU-iktTUnGSApfULSeVBRA+wpozAYKEcBDSoC7Q0QnwarwqIxY4QDkugVkKkkZTkpWUtgDjRCxVDCelUpivlKYCFTPAIaJoeP2nGwRZABUoqRpywEtSpes-Kel1J6khorJVlDgJMM6DeIze4Qu0RIJDh5Thp3U0aT2A8FQwvBjkxdAjiQjn4nkXSGQbGBqGlS9Ur3Egplkn77ThQ-gq0ZwJtEiUaK9oyIr0idHuAGWp2VMYBGVpFhtps050bQOKF-TOh2tHCI9KiEdlV+NY98AsBmmjSmh1oDGENIYAjTepY02MJETj4J17pf4AYfQVunYydpuMpdOFLrH6jgY58XENoKPBOUKJn4j5gEMJBCCQhto0KbiHDGJRkIkzbmLEPNACDTCh+QgD1SAmBiEhypAQZBKeFPh+Zu1CoYdIXRPhNwdxGwOSB1knheilozmbLO5miCjg-Mk8JDCFnLgeYcQgQa4WzCSyJq0snKmILXG9AgxkMkMYNN9CWVPC1lHwkzL5kszEx3fH-HiGQiLSfC6mdRErMkpOTxJYgUANrN1k3S1IW4nMTuO-xcR9p0-U4gHN0GeAzZ2tNomNCIBSz5xvAFsLwBggfi0ByYwkGnJQmF91s2kZCbmKb7nSxgFcjZoKFLHUV2xR0iuUjM+60yc49MhuIzK7n+Bq5alfuQuirlDzm5I8pLORXHmIgq5GzFsGaMTlgAdZ5IfuUxUHndjtEB8nuev1LmOz5xo4h4TDVHGCgvZkgc+QqHnGXpr5UEzYJejvmuzvqalSXg3PTHhTDQVkvWDfhPRkzy8X5NdDWhAV-k3uAFPICKE-j0AL480g8o0nmlsDXJrOFBaeKE5ToVQ6ConugyOCFTGgQCO6Xpyb6NI+I8U7UePD1bKIgFVkl8eDxRyzjFAzChwAqBrn-4Pmn8D0ulPAKyBIpdAlQKwDimzhRiABR+T+Ppz68Cw0i+caBJ4lT575PCxBZFj4UxF5pqiqQDBIMFT1pFiEkzq3NQlCiPC7ckfEOxYXiLmArOTRS4G0WRFMJcgQ8QKO4CGLBE9ORJJJJKoAAJAlkwAABKvkAADIEtkAhIASpvT0pyBEgAi5xKJNZloD6AzADgVwDIlT5ROVUfVnuijhWSElbCw+ot2yVHBpw+SnKdhTGglLRg8S+EaeL8UBLglYS8AGt2yVpLOAeSt7gUuUWKBwKVE5Nta0zDZK3F7Sg9JyCPSiSMRsHKyVFAFG0gy+wy1UT5JgXeBZlNw2kFZT1blLEliYyiUSKVE0SLmdBKyRIWSL0KBFNijZoUvDH8TYl+ErpRkvYWJirKDcB+pt2sVKLeJ-dOUXss1HUTSRftTYG3TTyZZ+lRaS4ZKO2HSjh6HAoSSROcDOJPlKiviZEQvFbKHlSKp5WPUrLfLNRVlMElYs4W-cWFXoo8UpHNEfM9gpQVaHIHLhH9iVnCyHqSAJW7dG69hK2SLMMBUr2c5nV5fa0JXbcGV23UlQKPyo7BuV6iDAYipYWQ9cV00KyoaHaUxhqxl-cbpemMCqdb0VY9VXmnClqB2gzAdicIPaVYl4V1AReOviVWMz2JJ02YGeiaAyhRlh6L5DarsKgQ32IZCkkaoFGSsuciynCf8G0jsS1lmotlb0E6jyhHuZqwgCGumgVlMsTFdiX4AvEeqhFu4b1XKIn7dCQ8lSvIPqtkACLjVSwHgNgpRBf1ClMoBBc+EizzSBZh0q1WvMKW2qZg9qqqoSCdXjKvkkyt1QAVTUUlXJPq-EIaX9VcjA1pIGZXMs6ERqx1E69ZTBz8lvdk1rjPtRKQHWZqQ5WcrgsXLyDwDC1Wmdiaat-7mrL+QCm1TnQKrBAgBFym1Yt13UHrXVJ-MaHeuEkXwz1IcfNYapfWHiQhJqh9TwvRCZxiJR60UDKAaVMAAAguAHAAEtAlJVSAAAHkKWLSlEGBsg3QbYNCGpDf+Ja5JqThEhQDXCuA0E4wFjoUkCyA46Pqd1V6xhfFMWgfrC1P64tTYsWIAECN+S0Df4qCWhLwliUMDU0vCXYaqITCvDVUzY1dL9iWiMjQmgAUqBi2IoI5ljhjy8iQaSmtbh3R8wKaygBPCkTen6m8AkOPsTIvJtGju8dNkMdoQZoLSF0t8aUTTZqyU2X8VNueNgepts2jRtNTA4is5rW6ZE3NZQUzeBQs1sCzQmgdJFrF24ebUFXm-TdeOoBHNKAYi4zf5pFU-KcFsmxwhpqxxJayAoVdfnKv9iLd5NCW9REZri0mbqYhAOzeEWnEsrrF6m7LX3kq0malafJZXPlq1FKwI1dadgBB1q2cLBqRW1gMqwqS2bitKpZQFVokrtbeRxbPzZqzm3hE0J5iprqKOREaEZh0KgsH1sFWuaJt7mhbbFWm2kRZgF40bWIt817b-N42ugJNpa3y5pt7CLrbdx8jbaYWRYibcVuG3ioQtEGRXBELJV9L9lJI2ieuOoqMTWtyBb1GMFe3cAft8ZAVZEhY46L8I+4lxdhK5Fj1igEOi9c4s0zo76RPsnCHhB2BNFjtMwabRdC633detli1lfIQYChbUgX29oh0rfZHISpJG2CocR36Vtq2YyNXCXQFiGC8gOfBnkzzJJYcUteK3sDLSB2HLAVKuMHeY1chcA3ggQCWMYOgRTsjkI1HrqHy9H3y3yZPeRsrTZrtgFZTw93HvxoByRY5AeIalgCJ2tbSQou6vuLA2UBd6qqOvHWSsVoOdSdrkCneCC62u68+xBGnT9neX9a-Aoe8XWBUEqgQYQ+6WhlQxlAABOcwD7BT3mpVROmrPbJDoZkqWAf0PWPIVMK991heaGoarKyA0AAq8klmpIGz3cApuU3HyGgA71hqyCoc66c8IL1UMfuagMoY8Gz1F7EMaou4UPvkKfYrknQiSBJFH1UTx9ElJPbgn71yNwpxCqhmQuBJDwDVUu+VQeXa2U7AgZILfaQtcDkKXttOlhdV08AkKd9kQsPO3wR0oRGOgQDsA4HJgNwEWFK9EHsBlAO9GgCvFnlbwKXfdWAnUMjqYA2V1qsg4KaQN-uhbacrIDcbwA3VMLN7SQMUWKO31AC7coY7+oIAHnUZmBz1Te9fe4sY4bdX9ewbUF0J72iAJIyEI1f-0NVADzQdB0wrutcn7qv1rnK9UatZxcG7CyEBA0gd9woH65aBkeI3ve3pQ6GZIHA3XX4OXrgBJBnAwlAYNZz592a2YFgeUNfYCDVuT9IYZihd6KDChqhr7tBVEiQd74YFYaVh7WKlxmusGNrolh7ADd8B43RIVgxTL286SWg6ym92uLVRTRNhLP23WKUYCIQOgMFHhiQHAgCUgAgAcJBAGQD7fIwBAaIPQHYDZa4WtRXWIw6vDXuvGFhN90RGJNHZEGvpVy1EZSQQUGLMBK0BFjBA-AAyDhFtzUGeOr+tw6YKOSlHeWRRyHkbskiuN-DZbOQKAFQ1QaYNcGxDREsvGjAlJFSASXEvYndKvlG05JRRRNWTLJubS4tVH34NbHMlxSiaKUsI1IC0QrSy4zUs2N1K0Bsx9DQsaQ13Hdw7Sk49GrOO9KDyI6+kR2oVATKm1Ua4DbGv9jboX9EWqbg+O4BQSAAOlgFPXgq+cVmXAO0Bmik7tGzTa0O+Db3aRxD5FY-tCesWwnhJ8Jp4UiZRNLTXAopDE8N2ogXh8AHYSHqcCYosnQAAALzlagAkTMwZNnSdhyYmxjpwHk3icYgEnSQRJxgK1DIh4BYjooBIxeFhOomtY6JkU8ky65EKIO7gCDsQAg7XcTAU3MEDYFJNErVTtJjU4ya1PIsOjEZfU4aY2VSmEoQAA')">let THE_ASSERTIONS = null;

function fetch_assertions(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_assertions(pattern)
        : get_all_assertions;
}
function get_all_assertions() {
    return THE_ASSERTIONS;
}
function get_indexed_assertions(pattern) {
    return get_stream(index_key_of(pattern), "assertion-stream");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p38' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Get-stream</kbd></span>
	<span style="color:blue">The function <kbd>get_stream</kbd>
	</span>
      
      looks up a stream in the table and returns an empty stream if nothing is
      stored there.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (get-stream key1 key2)
  (let ((s (get key1 key2)))
    (if s s the-empty-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNA8QuFE3OIFCqGIfRcgUQh6GIOhKG4Gac14i8EjdUUQS0Cgsgmqaalmv1plKdaXMbFCxu26a9uk5pRTocgFDOxQdpmyh9pk-LCAYQxfAUFh8BOqijG+37G3wGQ0juh7Joul75roRarvdVINEIEFuVRcbHuh16ilKZG2F8fRhvzUb9CanLiAAD0IQI3GcDGod2mGWjh6w0PQ2cQNBhhTsMfRyFIMQGEp6niFpo16aevbYcW2woOu1IssoYIGAmlhqmyugJax6TSiJ9cScV5XVfV2KlYYPHqDRunzsZ1nmfh-15ZV+g2NRTotdtnWWjXZ2RGoN2tsxxnpex1ZEYYNg7pYYRyCFqmacMa2g+e0PYlKRLiAYMnNcjn6Y4YRcKHujbPqBv7eZtlO2Z0hpc+j2PfuEAnK6l+3U7DcPjHaGblEhyWXq9vXPraAtHDGrvR97z7mC0e7Zor5PW4W9vQCd9gPC8D2U8Hn31+UTeW7mtuEdFQLp9GuewUPlfdZ9s+Pgv56t9mkOT6R2mxDoS-n4H-1b5+c01BP7f0Pq-R24cKjKEjpVegP8b7ex+JA6BGsf5gINMZUgplUGiWsrZByLgvqzXIBTDyXk9YdC0IVCK2dBCEBRgTZE3B+ZiDCEWd0wo3ypGptQBQ-tqA5kztnUmDhfwKkCrQ+hBdSA8L4QIrOlx0aMMEALMINF8KEXYe2Z2UNyjyMGrA5EoiGjnhphkMq5CSbZwYI3BhIjq41xWJTLQIghZwzgvQb+hkHGJgUVVQuEMNq80MfY7xBpmGGBCaE6YViFruK-k-Qxz5CjiNPvxJI3MAamLYL-PspQz6nV9s4sEWScmhmaJ2DUyx1EngVCZYIwi6AWVwXZRyjVfHmEoL4EgpCJH40KrEc41D2lolBAwLmPNCZUwiW3NhMRxE3GxMwwEAA+BB+stB8wFiHeaUynRDP0S4IebxXbOHdqAmZxEUmpEoKQfgqgCYWI2ccvh9AfgizYmjPuWMQ4r10msihD0-YB19hPJ+180HoP+STZ5wLOgbVujQARcCQ7hQGsmNZw9u5jyMJQBQlBpnL1ma+UUxBJqdMxZPceuL8VGL4itFUH41S1D8tU-4xLUiRw+OfWeT8Ph4omLMlY4jHljSqKQLlD8eWzRxfy1my8WXHiIiGc8YqJXUoyeueKoBDIitJnBNVj9pV8ppZweVIZ2UMHyQDVVIFjUao3EtA04ibXTzxfa4gfl4yKsFXSgSQ9QXYq8bEGmtqZ6kuerzY1YRTUs09QM8kgy0UsQ5mMsGDhAGfylLde6rDLlpJcAs-Q2b4qrKhOmj+6o4TcGLaos4Sa3KGG5IwfA-AGBIP5hrBeDMU5Eo4aKANvc4GOsNO8Us1KWpAgHZnSV4b55wLjXM-N4dSWaFxFOmVNKg1-PSJkLdaw6EzUGI2oQYzW3tpge8PV4rQ2GrBFGzcW6DTHubWekwyDUS80fX2DOFKe5jRDdy2d+KN0TCSYxb1xFklLtFOelB19DKHVBPoWDsUvo-T+kOwyzQd1sBZXWrANCh57wPovI+hLiLnhsYyYj1j8BN3neSc8e4J3UibaekCKHmr6BsYeGI55y2J0zaERkKauYCaAV+ZjvHlp+pGhsmxOznHCFcTmOJ39mORKiehcTQnplfq00UZeez63mCHvfMNIDSMh1mfM24mcrWav0Fu3VZ9hYJyTt2peLNjMEeGRijN8TpXnPI4x4quYqKMl1QFy+7q44izFprcFbc-IBdLuh-6jnovPTS8DZF4XNUooCku06qLfMHIxZx2BwWWZEtSFYyriXSPWFwtqkoUKNn1bfR202+AQXMFmm2rrF7kXOZZuSNYFact-XdchobGspuB080zfTji5NjQa7FtzotE5Vaa5pgzsQjOlbwNnFqchFAQBgPAJAqA+poGJCZ5IHL-bHTgTZ6DqR0g-TIG90AAAfP7il+03OqGIX7AOgepF+n9fojWlvhAhy+T7GRFv93CLERH-p3wVCZYMa+qKaFHU2jN6+kRChFfpSoUjpWaGimYGICQymOYbp2H0e4YhHVXILkuY14QABkfPej9CPdS8IwkgSUDZ-TmnfmboQze3myndPyAM9qBHJD5zwTFqoY96kZcQZg2LQrinAk5j6AjNfHztP36CcC1fJr72lfXJV4z9Xc5NdZdmjrmhnvbX6+N1BynZuIzB7rEO-k5wfcVpiwUrbCWA-BqXaH20FumsR91zBub6NeeO4Esr1XTOkPGosiWIQHGs-OHhP9wHSP2eu+Z8X0SeZpEOkG1A7rleEeA8j35jbaHcs57-OI5PWQR8bsmOnmhG3Y-x223TQfyxh-C-N2HzCov09lfRWtKO+c487c1gvxPTu69q4b9Siyddd+z4S97vzl-Y7+OLmQBbkbRdsNs9ifv02ubFu4GP3nk+d+O+DcdGBMh+i6Qey+EYa+eKE+Mu5WqS9KgG384BMmq0zuBebud65+ok5mt6t+5Wrm1+++4+7+SeUBYeAB8BW+qQMKpyYEb+iueeGB9eReOB4IdBryjYe+ne1ekOJ+hec4jeHBLsLyt0jYM6l8BB6KnB4hUitQlsJMqB4iKagQMgLOoAeIxmNCshPwlII8vKjBi+S6qhlQGhpIBOfmuhjYcKZACK-CVKsBZBlOph6hjeOgVusuqQ66yhH2AhWBGh4IU60hLEP6Ph46S0KhSGQRBhY84I3A96lh5WU6yBEapBEQsQxhkBIwMBL02hfmLqkhhhsqzhpuy+iRdaNCAGRRc696pRbouRtaPeCBqQK65K4RJRQ+fhOGIG+RLREc6wN6Uq2BnRWRzBaQKOK+D4ERnh-RxG6RJu6B-hZ+eKFkxGIRbkNGNiCxgeZRORlB6+1BLEooFsVssCvhx+9OrBQh7BpxGsGx5gMSxB8+RhR+exgwuRgB5WzCcW7m4sFx7xUxWQnxG+J2wyZ2bUl2nUN2PUlgGe1ytykuBMFMnOfh0OHAQg+gKJrWf8oAJC4u7Ity-wikGCWCFMaxckGJhyVMJgWgwgAQJgxADhwgjQOum+oRdmeiyY+gj+kgZA0yCmFyixIyc4IhOiLi2c8Rj6vJgS3AgpZqzRNB2iU0uiQiMgqJlxLup+SGMgJemMqpwyDxLgViMp-JpMGpAkrhpM3AWhSR6KVi2x6pueboVpupoAFhlRBRwyKmamCSFpLpoyah1pugsx6KP6DmBYGMs0PaTBAZopEZxA8RVO0Ze0dpxxqQCZ+gp0-pT2yxSGp0FkCZRpaBjABSbwRSWZVEOZQu+xto2ZoZLEPcXwicdAgssS8gduhMNWsZLgEYCp7JbkLqcg8uIWuxboZu-ZhGjgzZmcLADCRcXAFy5OY5LgCEpMC5hW5w54kumcbRuI7ZHiz0jIOGJwA51wnJw590gM6W0yPM1Za5X+uolEmqTRZ5xpC5L+65EMzwy5bx45y+l51Enp5WgF7qQSC5P5mRK594WQgFDZQ0FMSmPpHZKB+ut5nQAp6wu53ZwpwIM0Ygku15wMrCBJHArZhFa4SwoYpQa5P6gFRF5cz50aoALAWFKmvyzQZFBFqgDFuo4QAAPHheRTxZRb8jELrJgvUuCAACpySCRCC+DKJiC8CXwtQ0h0Igi1DNDgigAADUOJDiHw0irZQoYBaF4Q+lSZOl+lK2MQRloOpllZfFYlq8LQkl04MlclMgxA9kSlKlEa1IWIKM1AWlokelBlNc9lJlMgZlN5FlokFk4Vtl1IIO0VBMol8F5g70C2M2j51mxEU5OYEcck2Io50Sfmz6vF6FfFPqLo3Rkxj5VFNcuscMxVRATmWmTZ+ALZbZbiKFT8RmK2zQj5KkQIZujVLlAYNZgwolyVw1TaQJVVdsEYGVC6-krYHCC0o17IbOe5yFh5e0tVhm7lvFTSdAv05QoA2u0mXqBENSfYKqC5jIQ5C5XZi0a10FlVoFjVX590rMyViYH5EycFN18a8YuFC0bVpVsa+GUetuOVp0p1+W+V5IhVUNb1w6PiyRC1jVTFmNdVx+PRE1j6LVRV6I2ItlXVPV+1nZg16Ew1+u21415l+mpQpEZulFz5k1YclVmE5l1odZGFYGXq5qm1cM21O5QsZK+5fVB1L0R1hQdS04eVOC51LaIgV1EMPSvu-SR4d1SqD1YWgFz1+qIE9FZqfY4iX1H5P1cF+20EoFwNEFoNeECaENrV5NGNx2sg4JrUF2HU123Ud22Ab54c3CvCiKgiwyDSkRfhVx2pc4Si4I4dsiiZfR6KKdkdDAPCKMQGKChi9RLgY+iSpW54mdDhXJH6ImSGzozO4IcwSZsQcwE4-10wddHIjdMQHILdkSddCEndk4cEPdtd0RHMA9HMw9bd0RN0KOSZM9mQ-ordtc0RwUKM5AvgSZq9kcilBoS9RQddStndStfYe9hQddNwku5sLAhg8RF9qgV9LUKwp9sQddulA9sQWJ3AvgYuqyJC+lO9z9MQdd7k79MQn9oA39KyeJHkEDMQgDwI0RVa0w4DkDAIv9oAkIsDoA8DddwAoDBg5JEDP90DYAADvd0RAApPgyg8QyQhQ1gzg9EeLu-TQ1A-iSJN-eQ6KQAITCQsOEOoPoO8NAicMj2in8XUMCO0OgCCUxCiNT3iMAigOsNoPQP8VAhENcNgjgjLKSNf3SOrJyOMOinLJKPcBFAqPoOmNGNaMQjcP4PQOFCqMxDcOxAonOhOhl3SIR0V1WKNWAghiFpzDcDl1yKnaeNhahNR0HJjIsAABWtJE6gTGgDSUDfd3jqdSZxdIiD6fYUTldzUToRUo6PAGTWdpe881dc4ddFSSZFS8DB2CDopkAdAao-sG95jLTbTnSDTB259VA99sAkAndd9DAQzvTBm-Tl9AAogPaM9MxM1pnXQAHLkDLP4OrPLPc06QRMlP5MVN+43kBMrCFrCiqNm7qkhNlMV0HO1peMyLlPFRl5gXHPTCnNQPF2bilMPM3NPPzxFM+4aW4j5NqkOBMICwczVl4y4jVBigfikD4yg4MBxPkB5iNrSKaAdXQT5M50cCXz512KPrMKQtHBFCw0VX8QfQHmdnVlOKHo02eLQTIyHo8nXNhPem40RU1z7N-OHPEWLOFDMsiCss-PssxP4DxOJPcAA08ujrPN3n21FCS17XUuXw+YcACCS1iBfCsXcGy126MjARYgMtPxFNgkHIQn+1XZdS3aYC67lkUCmAMDdwfBVQ3CkCbzN7UBPjOm5lfYsA-Zj5etPiTAhizAUEp5h7Bt-AT7hXggMDWUpXGViCOVBv8zesxuhsrDNBpst6ZtpluQTQ3DDz+J0k4rJu5q4XkDKDKAqUZAkxGBMI1vEMtT6V8w1vbXgg6WlBduuVWXhXVvKACv+hdsJGpUsLp0sQOCFzGDlug7gssILtwszuFgRD-i4VRViBxsQjhVFuxzGCltSiFo-HTv8zGALsCqWXWDggFvmCnviqZwbQKCbIc6+vhw9HMKpw9s4baTTBOzM6fugAC7SScITGZCLWftd7TUQcCxyjCOiTFDwhhsGBm6AcEngiIeKSlAOvVsgQuuxTuubyfsklaJ3HoyAfAcThy5XlPHxYkGQe-I9s7v6X3vGBMBkDPuocqIvuxs2UTg6WJuPmprgw0fek8GwKQdJX8dhUsd0ArvsekCccRtZDhI8e8deLwi-uQqsdjRiSghJnMLcA6cKc8SpxOxrnEdTU6cQj93cDM5ccc4C0qewd2zGdPtmedzjs8fIfggADkibSyll-nIYw147jln7t7DK8n3cpABMMXkDPZ77kx903204Zu8Xw7E4ddQgwgVlwQVldkWkFk5oaYVltyHA8IWbB0ZQcnZ7Y06XBYsXy1YeGXRntXD7JnHn1nDXZAnDMF+grXNX0XjX39RxbkKLaLygGLIEBS1MHg22kyhA1ZJxGlih6MwsX7TT2jZHle3AtHfxmsG3irhQhaE36wU31AmgsWc3vcbgF7i3E+IX77I5VMm3ddiHCR+uwnRuG3HnwsY35g8XpcRCFMUi83bgD3vapHq3Zxh3r3mNKqHLjNQIIYQnP+8u+3c+sCv3caXj4Pxgym4SjIhaQPhCzAoPN32293OPYiS6fjyPqk-dyHa5ZulPbgau4SdsY+bPBP5sKij32bbSMTI16HY9zP8gt3vP4ST39P6WnbZ36Ll3M3VEWnOMg904svwMx3sQp3qL530313EvVPSlvMv3Hna5mvf0Vz+PHP-PCq+tmioHP38PPqURopH3eu6W33L3S30mrKrvS6-3bt+y6KnSJAkPiXooa5G3yHE5r3T3Sti3Z1eCrS4nvZXSadkXyZRSpvr3b7UfS4MfU1fZ8fgvifwsyfLS1JdHhb9AOfbJcNaYVUZsAb5swgFQgwG3b7YfY0Xf6HJXdUWfAwhP7PmkVU2xXfiXZu5ZaRNPIfHJdwasfsrZlZebHAz5G4b7a50b6-+WG4WfS-bErZGSa-Y0h-oO1ZZu5-rZk7mx1QR-gsiN1-r7iXEYz-t-5gz-2djA9FO-i5cFb7KsJ4D-57cIKWfOlsKxAF79-+EFLfkuB-TP9V+GbXftmVAHfkAeuZZvBH1wr55riYICvghwb6y45Ws0b1hsgIGAU2uF1FxM3gYDqARAHAUgI6h0JEAHkefSDLEAtRYDfuCtWIJRnv6g5qMAg4-rC3NpUw0Bf1D6n+VzIVJuMwgjnCtkDBq1dEtA+gcIEYFJ9Wo35IalTkIAEwv+T-eQcLQGTeoLU0fF3hwIJoCQ1yuQPQUMGXy-duAtggmCX194u1wMDvSwUUGFRUw1qDEBiOImcEPcMBSbfoAoHNgHoXEFQbel2DZDRD16auQwKSHz7I5wOhgLQsh3iG+BEhxIJ4E9xZ7lEtC2vMBi2xuRhCIhJAKIQRASEi5Agd0MiOkMy6NNYgWQnIV8S3zRkEW-QORK0KPRxDqh2Q5TEkOW6pCwIGQqar0M+i5DzeS4cakUK3RPAoG1QDaBiR6EDCpQkwpIU8GKGhhFhqjIyuUMwhaEN8NCA4fUJkCRxcUKTJRJW2goXCqAziaeHUOfZnDwhpzMFtSHaEsR7hlAR4a8PLZhCRhYHBgs8M244YnuywsgKsMzi9CsW-ocamULugCs9hqyH4X8MREvCMRDQjEXAXJblYIBymIUCClBBPwoBMcI+AAIoxhZn+Qg5foLFEGvUoBcFPyFzlkHv8sOLQRCiyzJFUAJBfIEjhxHhQMAL6XEAwQDHf7cByRfIzKquQeF2FhRVALiBxElG8itBf1N9sbXQ4yA6wtQHSj521F7BdRCfdoO7GVGsQqA4QZDsbRiAQjUgWAjiJaKmoEjs6YMSkCSOlRmipRao-kYLwL5wQeSFooDoLj9HThyRm3QUfKJFE8UIwDonYQaAjBhi4xMEOUekijH2CRgsYgGuhDNyJisxDtZ2k93BAGiOAuXEIT1Q1Y5R-h2JRLmuUIYoirqKOGUSoD6D7xzYjAAfuR1H6ohuAQPM0UD0pGhYSmUYy1KLDMSMgIxqYxUTxV7GqiOxzgaVs0L7D9iwBuFYcSUk7bFijRU1cEYL3LGSBKxGI7iFOJHE0hskTY3gGx3v6UwAx8tSPt4S86s8LRTYq8aDyJCgwbxjqc8N0EZCPiXoLIvwlgO6DhAe2iHVyt0FKwatQA0lAABLTMGAAAQXADgBpmAAJWkqQAAA8ss2QBAgTyuubypxHvpzjxYE4xpN6OrIXjM4L4m8fCk27pRv+FQCmBzy7FcZSJHneiZ0BsIsSjQWfDiZkHNjcTL01ZGCXBMQnIS0JmE7CbxIHAvjmJGkD9DRLsLVl6J-wl8QwDfHqE2JxXQSe5FeFECQK9-ASfJNYkpiyJA4z6liJ+GFog05IlSisi-RqATAXgNsUZKb6wJbJ5kScL8LsLSjihBEtQK5LH4kTTJ0o9VpIDiAZBM4uQBwBtEZAAAGU8jQhqD2RLUkUioajHmzUBBgnONKdFM6GMhyuUU9WrFP0p4h-xlOQqc7BilkAs+P6ZKSf2QFjQoBlUnbjlCyn3klwGHJMmuRakw9Mp9Jfrn-1xHz83IgQYtA1IdCpBqg2QSKZ+LCy9TgqsPbOqaCuo+VUpHAdKWtyqhZSUoqNPzGUMzj2ROgm8SfiGC5zcC8+CGeSncHql-9NBC0jKbFHalYYw6hfUvtRXV7m5Agh046emM77w8kxXdb6QwCOlsBN4rggXmUk5GEA8M0FA6SDN+mFSmxFQSoaEDGRw9CAlEU-tKNmQ0J4ZoMk6fjUd6ihuBtKLHJtRNFZAoBjoXgVYIaJEkpBeECDI+koy0iH+3-LOK9RgHoDH0rIxlF6G4zbNqu2owiFmPDDAyCZcgukTNhYDGD6IWAf8P7y8HQUQxhMR0dBFKD4zfpE5OUADkJLEAfpYMxao6EfTNARZxgPwW7ThkSzfpG3EIc6KJFTRaYfwJAaOGRrkTZk-AukWzKRYMj5cTIlcYKA4SuNscn4KUO-yJniIHAplBUYRKlnszDBdIu2HmMKBrhpRpLBNKYL7R2j+YTlX8FEjwCQgi5yqakfIJ9kiCf+jIzoOnLOlLoQ5HYfmV+HZEayauMctMSAJTmFAxRjmCUZ3MBraDoIxkLkZAPTZuy055E+3holfAozD0CsTWOPIDnfkfyhc4uUKiXRFidRpYzOZ4NrmU4CRrsiCO7OZHB9dc0cmKrHKVELg7w5k6Qd6I3GbzVebWDeYaNy7GiOgWQQgFfM26AVbRJ-HkloS5ZpxORSFR2d1UTguzP5ITa+RBV-n2jkhyHB2WDCdngLHghAO8JAo9mgAV5kIX+WuU-n85gxXCJcGgs25nzcQaYmMfMKiQxjSQgMwoGQovk8VWeVCxcUUFZ60K+50SAsYL2fklib2eIpUoVJxS3ogR8dQQtgVvSFlIpxZN4FAgvF0wkZb7MfEjI-4uBKp2xRRXeOBGLUIwKit7tEU6BHTfACJAsEh0F5j5dFs0k4X5mhbmx1p-6SKT2JG7c5vJSQJxb105nflPZYWKBLDnsUFSZoEMCaX8CmmawkZfkfjHQBjnriUeE4BhWmJnGuLGkKc2ReuBIK+KT0SMuhQ0GXE8zoKDCmJapE3GvztxKOBPmtmdYjcZpG07YhksYBZLH0e4pWIwH+EFLRxZ4sKQIBEkMAUJlkAADLTMcJDYzIIlIKKSAAphU3mKRJxmJdKJDE68WxOQ70TZJymSZYpKSDsSBwnE+xbzFUXiAtl-EtZcJNgk9L+lgy6SSBBWU7L1ldAasq8IqEssg0Kkw8WpI0k3KmhI7QqbpIxHwhihzy54RCA97ggvlek6xd8SBbXLplHsxLvcqskpMg0hUqBl+lsWxwhFhUkJiFPIl+Txl99NZVCpBpljcWmceLgN2cX4qbaOIt9rCsuHWSVgmo1ZIZHuVCtlMsIx9GqBH7GTxYiS+FL5MfT1jbFay7lT5PIkNNvqOI+2RUpJXxc+RTwwEd4pKatBkQjIdKObgz6kreudscECKkqW9ddaEBcYrIMVUiIORicSaBtKlUjcZVrwjiqACNWNYUywGQbmKtBEhDRQL4h0B+JSFPDQcf0j8VBxJm5zfxYK9FB8GCCZxiJjAWFtRIjWOoLU7ql2TGqJlfi-AjIV5VmHfExq1q54WtpgmywRrZVd0V5jXH+VhCcQ2kzlXQG+XPC9VRQUqGWtEgRqq1YQqUnkyXARruA9YnNWNJAj5rrVfvZmeDUVIsRQ1gQexRzOomaLBxVIUiYyFSXyLYE4S8kHGo-AUwPVbEpNWFm-FAg01uId8WxKzU+LEg3asda8KLU6QS1d0etcCsilNq7oNawoHWu6BSKOAt6hQC2tDA9THFBgYhl2uyyVS+1k8+6vGhGnmBh+Y65WBGr5iCSgRQimNYAvEqCB2+9iqDRWo85gbINma4CuinQ2CSUNbk25bMhHXhrBJ46ldXhqCm3KIlYWP6Byvw0sZulYk1CehKwngA-IDGpCUxsklDKLOgkjtcQxo2BSP00mcROCAxD8Kh1bkMDWitmmEalYo6yqVGrI2LqR0VIATZMsZDdLelAy1jeSE01nLuNS4dFd+qgZqbIptaaCqJq8Dib4SUtVdL7DibR1hYtw2+fPSyBOa9lLqN4A5pRCLdnN+q-8iMHc1Z8AMXmhRLn0IB+aSy-XILVhvTK2byUwUbzdyXc1eqeiMWiTY8VNptoUgSW-AbsiUUODdkwW0WBxhy1hbfN1ZVwa+SSnEAxAo0ZTCSpS1T9CtEWpsV5vwDTTQtKIaZM6rlVaK9qXW7koNs3RTVetd0J7u1umkhb6AuWheHQFm0fKYg2qklZ5pm0KIoyC2yCAdjG2mdSsda8EDlysrLaRuSZSbZRt1yJaOtmsRLWFqtWUr+t0tbLYYFy10wbt3WsEWUt9GdDoRg2GIYMCDTHbeuV6LlG9tMDIYyt72u7aCK20WNiGl2qbSVqe2zbwdz2sLf9RazoQdt6efbflwsiA7Yum9HLVdoBZ+YagdWjZOEih19aN2lkmlfCu3D0qFZBoVzYTElVVKyd9WnVbFxfbRpOFsQJpQeIBUg1ZYBoNmqDgrEtLDxcFBWYBGwwo4YdSIClS6rrT7bCuR2tnbqurS1bRoJO-EUxNrbkD2BENNbJoK1Y6sfgqrFOCEIV4XcruiNSnd6ILU8QiwVtWnVQFpX+hGdoYSmCYH4BjR1I-WGgCTGSoOdmKlA5KlmT24-0sxifHMAuMXFWQbIVfLyeFlIA9JrKMujHeCBt0G9TolXRjtSHF37jJdQumBVDJwyKssdqKfbTnqV7up1dxMLQFzo6agBa9duqsqeXPA3BQeW9deoyAACcJwKfOxG3pO6jAzA3vCPvXpO7s6G0HFNWiJkWoiaeRI6v71fAuACScUomYUF70ExfOvnCyGgCP33qTBO8vsLvt9UfA5ZRQXfTPpezK0sRa+O2C4C8i2kQw-g8kLfvuX37G28lHvVPtG4CKWIhi9eiYv92fww1VOpERqKV1hDq9-ACECAeMVMAiSDe9ZMSpO1MI2ARisA7rozpG83Azet8HJ34CrgyAv0ROD03lVUhWgjIUnr4BB5g9JeAYh9sQdKhxsjglXPyK+AESkAKD7TUAPByCKGivcRMi-eCE8heQeetqkbu6BIMCBSEIDBEPBtYgAH9AxnKVccA8EaIIgDEV8Pmpb7hr2+UoVoGTKKBSa0pEG3DThorW0Z6Mph9wTwfIPdUBDQhxOGRS0jb6WhahiQ5Ia8gRrENHfRQ5Id8jaGTw-ggddMHEN+HPIMh3rheFPH4pgjIR9wV-sPGMqsRHuhnU9TQa2UNDVSvMQHrLxkCxorQPkR2rj2NRiGMsOMfjri4JEi9zSsfThgnx+8gDg5LLUIEMD2Qfs1QUqHNIVV0HnFZPYhEwYW4rs2D-ADg1wanUCBAKLGOowNwaOtkJdzRxscJvqrgd5jm3LXPgHkqETBB5I8gFJH-DlJ2ubHElUUdIEkwyj0HbYxUaj1QMZYIQi9c+26BshugyQqkSUxYwqr3jmYXwB6RVkNyccAs1hKUBwyuVDAe2gg6kBJW+cOx+gZoQAB0sAsGyIcpjNgyBggz7CvRA30ZyhoIB+pvM4eMCFQeeRBhE12KRONNUT6J1GUwF6zYnFOAY-0bwFXB2wega5dk6AAABeXzUAKifMMYnGTWcHE5HvxN8nY2NcYk+CF4MUHM+TO7VC6i6M9HpwCJkU1ifFMCM7OBiqyiwCsrKArKuXSYL5ydB4AKT8J5laKeZPPsdTW3RA-qcNPGnKusp3yEAA')">function get_stream(key1, key2) {
    const s = get(key1, key2);
    return is_undefined(s) ? null : s;
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p39' class='permalink'></a><p>
      Rules are stored similarly, using the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the rule conclusion.  Rule conclusions are arbitrary patterns, however,
      so they differ from assertions in that they can contain variables.
      A pattern whose
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      can match rules whose conclusions start with a
      variable as well as rules whose conclusions have the same
      
	<span style="color:green"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      Thus, when fetching rules that might match a pattern whose
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      we fetch all rules whose conclusions start with a
      variable as well as those whose conclusions have the same
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      as the pattern.  For this purpose we store all rules whose conclusions
      start with a variable in a separate stream in our table, indexed by the
      
	<span style="color:green">symbol <kbd>?</kbd>.</span>
	<span style="color:blue">string <kbd>"?"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-RULES the-empty-stream)

(define (fetch-rules pattern frame)
  (if (use-index? pattern)
      (get-indexed-rules pattern)
      (get-all-rules)))

(define (get-all-rules) THE-RULES)

(define (get-indexed-rules pattern)
  (stream-append
   (get-stream (index-key-of pattern) 'rule-stream)
   (get-stream '? 'rule-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCyyiYRA4K0Ia2yEs1JjEKMesnkikWJtWbB1mwsu08jBtXykIvRIJl-Cqcr5-KVKvFkoRWrpvr6DsGRqWpvNIM+8dmC2Nyxdtszkh2gOBb0mcdmVl6lakDPKSlFDhJfJ5oDDfgAbkd8FqfZt-UEo5qgyG-pyW8XVVjPDjvNr85I9QaVDnU4ZBzHrT144xSPCVWqNTGfPOC-5ldJVcT5Yqz+QL23QJ3PN2TMfT5mJwfp1a548PQwvTxLdfX7Pp3jYYdfmvcNQAnddcV-eNF24Q0VxdcZSw6Td8wASEeHc9zGeDvGPPD302AQ7yMKiHyfF833Igs4MtDc5zIyR-0A3tTwIicQQ7LstTdX1qwrFFRNAWs8jYZQBFIRJuFiIVNntAZQHifFNNAUlmVZXhSRPTYFl0tlDNmHYNK00lWEYaRSAMxiFhsxszM2HYHBiC9Yj8UkAFVCDqQhKAAdxoOwHCcCoAFootgmNaWE0AJNUx0ZLoOTEnMKwsFA8LHDrGc8UJGE4U1JFzFA8IgkJPLIpcMqdMoFk2QSnK0SCAJqtsex8ucQqyWcuzWrwSE6zCORVHUfRYnlFsTkFbjUVFAcZSq2beSaQVEpSpM0LNNcRAWYZRlAHY6Cy6wwCktFJJieIoDgRBkHQLk0H5CEyjyQ1PHIVJHDGNpYl4agGEIYRFp20BDWGWJ3AcbhAeBs0wZEUAAB80dcw01A0QhtERkGUckDGsZUdwmu8EIEbiJHQfBkmkKGEYAZpwnwakBnfVQlN0IJ5HhAu66mV+iLpzohhqaBtnul6FFIb5umLpGz6KkNNxNHCNgmB+tRslIWJSABPR4U0ZTJEhw1KIvNQDZEAAyO2ziuPXbYJLTSGN9WlaFqGhn4WIJYVongITNS1f4DW1m1q8g8N7TCH9hhWuyn26EaWHKGnShcCYBOA8l2ng7l-pHRebgJ1jucU9Gr6VGDOhyE0QgA7BgvpYhkuk3VzXo912OfPrxvm7p5PlcZH4h5b3c04zlmpf5s3Q9L52JzLivWYXkwwSsH3B6bqemHFpguF4WQqmcNuF47xMnYuCd1-numt+9mvVZUDhiE8fheuoF3wZDi2Khu5Rx1iSG2cdST9hCLuD+X8f6EFpOjTGjMTY91AX-HynYNAxiYLA7+dVEEkx3q-GgeD4GqHTuTIi+t-4PEhmvZUYwGGRhoVvbeY8xpkLqofQSx9OCnwYOfX+4Czb0JXow8uEiRFVw+uPb6-t3BsH4HwgRQjCB-1EZ3X2qCQFXnAT5L+sMlEqLPg3ago8faGMUcogQjgA5-QobPOgGjuKQxhOyGeVCmDZ1zonPwzDqG2xkZYhRxjyZsEaC44CYi74SLgqwmRHDa5MB2pNQQDAp5RLoVo8OkctboP0dpVJah0lTwsSQpeLgT6mIviI1xWiAkaPYUkt+TARQyTrEcLJvRAE6PyXomhPl2m-WcNiapgizEIJEJzL4uS0EDINkM6gHTRnThKakMp7CfbDM6dOARMl1SpG6ebLRoCUnLAwaALkWyKk7NWW0tE+xuytzqdE05xJzm4EuVtcE2zlkjOoNiI4f0E4UHbBLV52Sb5nNkF8wp6Rmk+2xk80GxAIWsPqTfOZujdaFNJIwA4qKk43JVjQEqzACXPLRX-LomK1LoPxSikgSc-DgK6ILCplKiVpI2XTZxrypBQrUo06RHLSWSTvGoHlGS6Y0s0TfMubKSXjzPtPNwvKwb8pobSt5N94kG3Zb8iphoMkpAVFy5lcq6WOmhszOVYq5EqC-lK9ZMqXnavlWHJmoxJEsINYkpFZM1R1GOScrFQCI7zNxYM7SXgah1HKeKuNxA6hMHCZEyFPSGniL9cIRFxq668F4D9Q5tSMW6q9X03uYCY2kmSMW8gpbzHKrGkLExEyy2uwrcvWJubgkVO-podtaitVdqFT2ww98pEJPzeKw0WDuAn0Xr04B-TdYnx8nMUeLT6wcE4EwPk2cjC0N6KBE4Moy5yXLJU7RC6TiHW0lu06rYmhKyiCQugt04gQBgPAJAqA0CvS5LIsaDA6LpMvnTPwoN2yeptU6kW-1IMozMsZRD2JxbIeEGZHY0NE5YYzEZDETU9KOK8ZhzxmdvE5zzoHDeT9oOEFgzh7R9aS11QI6h4IRbPCRLA12CDbbxlqII4x2DDFyJnJ8eLZxg7h2TOcZXMT9wyK4ZULVUg7QHmw1YBxyuXH+PPggxprTgN3C6YKpppgbHG16foyjZTLHDR3MBXPQu2HfQLEMw89gAKE5ubZo530antahOUcJyZnHPPqVhMwIWqowtMFsYnBxlGvSidcu+KxYTKARNE7sJjhHzLaItdS-T0XvOlYhUytF0qp6Kfs8IILXwQvJpDeVr4XmnxpuDVh5rjwQvFPVW6kkHXHhdexEN0psr+4FeY8F1j5994zca0VmYE3px72Hq3WbMG1vfENFwusUXOu7G60di+u3CssY8u0Pr2l-KBRCjQNOYN+CcFADFM7AnUjbt3jxyJpQ-CDp1Q8ZClsNCxBGeCpg8XSjYVmJDNjCpT7kCh2CuLJDuBA+CNITQhqpCcW9ODlQBNjSw6x-DxekhQJnxGF1QzhwjltvTdjogQgJOMV9FwVI7Bj5MbvNQTJmWuf0hIUl-B9iHDOPh5z0X8YQdy-l18ITAuYjbZJFT69YbK2pMw3TzwHnMwLD17wkUvOSQG6N-GHYe01jCSJ0BfMt2Lw478gFIKoVJIVNII0ewn3YrI9aoT8EO6iRSuk4JZxJ86DKcWje9x3BB0EgAHzfaM0cwdynoP8MNdXcV3mXP+fu3t6+lb1CBB0Hx8DRyi-Yn2bZ2vq3lP7aeOnpndHfO7J8xa0bze5ut6kO5GvneVmues4bhwoLyDgvy3tl+BfutVZpXHkOJPj5A196oGr6L-XU6kJDO3rpxKemJ-qFCTrgxqum+6vf8eVJaMZ4JyV1+NU1v9T4efJ+ALehDqe9qEq0gLqNCPCz4RUoAmWT+zOL+dWsqSqn+hWiUvQ6+puYB2OMB4CoBL4++iOWiKwQBaqBsWBDASBhOp+TumYkMlWO+3AIuB+gir+I2o6pAXQCBsGpBHE4koeliHyPiRAW25otGoOWaN8ietGqe2k5I-BS2+0NIfgQhs648dA6oLglAgQuCbwcCdUDWj8RcyB5+yKhKlqlcOBS0Yo2qMoVWsBmqBGHBN6Jqm+5qNBSqdBoAR0zMrhOw9aoMa4Kh3i6hF2aI6BBB1h7+LBr4rhXwyhIQ-hMCmh+CdYzikRmY5K2+Rh1KqqoRzBdwiEHE5B9+Ou8GGhn8CRl2q2mWaGusgRLgaWBGg+Q+oAx0ngiUVg+e483mbWJehWi0oE6aMobWaauWkSlciUoEX4n6hI0RqhAR8R8Czi6a16oE0hDcTcawEx4eu4fBCcMh5o4x16VBI+3A6aOevOWsMGguGuk46oXoSuyuXOyxQ8axfgyRdxswe2ihoG3WU2b+XRsGZejoqRqB3YtB74UBEsqSEWZRuhTWA+HxeQ3mW2mSV2fxIcoE4sMoYJSeMhB8R8kJv8SmA+iUW2ZGVGmGiJdMJJAWC8AkYBym20Wi4sC+7R52sxdm0Jq+KIhoba1RBG7EEBbemJ3JrJlmlAPebgYMxRWhx2Smrhe2KIXhMhlJxB3A1RlJ+WLxjwmJqpuJ-CNS+JzeGp5E7xb6V0H6X690v6T0AGr06QIGySFeHskSnAy6OSZMFM+g6izp-J0WH2mkhIFeeIrk7k0gnk3AnAPk5MmcHpuw-CbwqQbALQbwDAM+awWwf2FSqR8WyWUuQBfgxxA+-xwsuskCrM5OQspItxXw2Zcg0ueZQxdJRqc6pOpZfOcOLp4aVa6CuASyUsZZJCia48ba1Zf0Mu7Z9KHysK2Ofg1yDqra4urOuAY5joMKFy3ZoAPyxC4qqu7YFxmSi5hZGxnyU5GQcJ0IsW5yiYyp5uT8B5DKQJLKS0FuLayS953A4sS5XckaOKJI4sPk95A5Y095PmFub5gkH5t8k6Ei75p5NAqKmIDceM-OO56umSpeACWiE4X+m5g5MB0Q+GaFxcCqzsWFYecFlAjAaagOdivgBZogssIhakVs2O1FDZVgoEHszApqW+5xKFdMMoTR5gYemZ1F2QlCmcsej4Ue4FTFaWElMmz5FQeFAclJMu1FMsgqDFE6zFicClNASlzAMm2lAc6lkghFakE4+lMFMZpxSFu5cBYlNxkljl7gwYnF3R6F0KoMmgHsolTiIgfpGIXlPlT4XQrkCwTFwl+GslNJrBoALlFFcpNugVeMPlslIgAAPMld5ToKBV6PUVIF5iGXdqSAACpNQxaECNC46aD4D1agDig8bkCpnaSgAADU3pouOMWgeoGaDltK7VFZLV7Vhp9V6g3VuAkSIV9wBYwZoZpV5VuADAwU1VtVfK9VbIDazVpIbVHVXOXVeMPVvlVC-V2kPkO1I1+1mgh1U1VlJkvASpFGDlHJYuBeTG2sTU7IBFjwqcKhR14lMVphmlSYTRf1eVGpXmb1zI7II1kgZFCFQ6PFQusq7xGpZ0DlbshIiqfV+V0WZcU1I1Z0v1cE2NEYYwN1dhEk+hWQMGGNsExsXFCoiNGugNUgLuoNPk-k5MxojRicwe7o+Rf+fYAB+lMo+BUq+li6iBmWkMUxRlFKfVctHOMNkg+lxBqlOl2uIeVYZljoMG71dgkt7B3BA6ipaWypaWNJz1NYFSetUNhtphP1VM0VTlwh8YvSINaVkREN7Y+t0N8ucNWgtlvFrcKN5EaNs8tNWNflLxCwBEeNRwclRwONxWstxNflpNuVdwFNu1VNhttNHFG+ZqQdSNeh8YbNFtD2hAXNoQ4hX25JYMfNFYAtmWoEIthIYtu4EtX+lBWistqtslitlZ5EqthlllmtnB2tQNc2vt9tJp3upKn60Q36D0f6z0gGGAdprSqO6OKZFOpKbOhAcGn5eS1aB9Pk290OxKs5eQF9GOLAQM3gU8HG8O1qNAjSVOSsoEt9u9Qs6x6C84DKLwg1UgLwBYStmwDKxYwDkgxYYDtxDKVs0Dt40gcDADV4OkxISDoCqDED6Dtqowg1+Dngvo4DswDKaUxa-AjQg1FDX8VVXwpDMwDKLu0DLumYjDvQDKMIHs1m7gdAFZ3DOgvDn6jwHDUgDKrVSDUgYZfgjQ-laeH27V9DYjkgDKUUUjkgMjoAcjEhH2sUyj8D6DchmwWjOj+ICjoA5I2jkgKjGxZIwAGjWQ4Z2j8joAH2YABjaDxZAApI46Y64x9t49Y6ALYwyn6VI-47o7TXI4Y8WQAISaQRPONmMWMJOEgxNeMkikjpV+PJMBOgCZWSAZO4PFnpX4gaORPmNuMFOEguOxNZMp65OyP5Np5FOhPoMp7lN+AzCVMWOdNtP1NkhxOOPVO9BVOSBxNSDOnzhghf2Q6X172MgqUEgniJ4vB+Df0w6-2zMAGbOY6kreLuAABWcZExqzyQB9EhCD8zGOg1797OERmYeziziRYIbUy0-gNzu9UCmqMo6CDKR+g1R+tjrx4j6DkAhApov01D3TELULvuILoLdjpIgjTAsAkA0DqL6LiLoLXDggQjAAokg6iwSzi68QygAHL8AUuONUsUvJ2i47MfPPM-PTx9UrOPCJ76hVNlyLkbNfMw6suGpzNo4LOstq0cubBcsSHv2vifOit31CtvP-bFoo4Cv7OMhn3VWgLgXI4sAuA5jSC8aB1HP8CdjKEaApAgnvjPNo7FojbP3s5D2bCDo6umAzDG3io7hsjF2XHgU84+G+vC7vjeHsB8DqsvN9TO0w0svtTQIqVku9ChuGDPNtqUDHOnPPF3GxvLTxvyXOszAF0M1BtPxKzeBBAF2aCYguXThM1TyWH9D3V1uypvPvoL3mk-qPT-qYAb1h7m6OBkBMCEpqB9QwjSAhpYLkAbgHm2qwzwyNKTusSt7PA5pjATiLsITWgDVMDbXtWXWHULvfxTubut47CHvYKbvX0VCAwwjb7Jbxl6y4z466vEDEC1UjAQbZDA6vuuOfrtVJ6vu02kjbULDAfPqDW7vBA-sFvxjAespjV4x55h5EC2KMCPtaDA544SVyYoffyMDdA4Q60vYIeaA7Wkhkg7U3vKKMD3vmiJ44eECoc0Ug5bvaRCCkhXs0C4dAHMB-QzSDrgVENJ547LvxzMwORuTaLoICegAOxmQX65x2oTgCfTJowQW+pjAqegBpOPq0gngLCXAXAycBWkhbphWPkDu7jDsFRjshoCdBlLjWaNVNrqIydycFh4b5xCa6kdq-wqf5WgcUftXccUV8eGeGAg7Cemysci7bWQdm0+K0YH1LN4muciciDDUFhxc7Uhe8cOAzSNKRf+cZexfscOe5dkigKDVZ6LBMeuD5fTWSeWznhReicVekiIN+DoJlwCcZ0qd+C5f1fSBKQnghaXWtf6faQADkkHyeA1M3o3o1T7h1AnnHtXeHzAhK0gkSW3OjHllaINAcc7F4Zcu3ibp4DKIQbAEH7QEHQU9kA8VQjYEH0gIwxKjXWY63PH4X3AZ3Gdf3X3oXDXi3FXp33Y23HOcUKoAPg3Z3TJY0pr5rxAlru4R8p8NQEyi6-CgnhaDaLnWPvAonl3znBCfg3nqikWS6MHUgieiPwYyP5AKQxBSWMQaKVQmH+OBPW8i3nnEsS6k3DKW6rKDl1Gvi+cS6p7MZvA8PeQu3FCb2+66PbP0e2Pi06+Nm+PEv9+rd4uaWMoJ4CXNG+G5Pep6iEvpBczGPT3WsIOMoiecvr2bgivrPEyHPKvhPmtkMbaevJniDk3TFl6Lv1v1mWHkPjSSvEyUcLHH3MwOw3v6NJnVX-vQfjANvWHi38fEdJndPFrjPqPgkEnn3TFmfVC1PkgtPZr9PKPzPEf7P1V7v3PA2yDyXBUFdtfqfIfz7LR+R6+SXWvgtkMgvg1hvYvfP2P16ju9+VB-CLRnr48vu9gXPM7KgTF-P426na-knbNG6ldT2XuqXsEfuV9jZ4815NhS6y-EuVEm-n3mF2Pi32--CHNHuz2Uvpvj5fK6Z4q9cjYfUVmcM1mNgBwEMAX99ujoBfmP0J5Acf+Q0NbgYBt5Pc7IfUVnKAKI7qcz+LBLnlZVSLmZfMeMUChexIhOUXwB5JihuyIHvk1uuAmSIhXIESxqBWgcCmXAYF4xdKcVVgDQKHSYYWBpsA8hOB4FsCeB+rWHCJToFk81KB5euHKDEG3QdKa3ANmGxkG-lZBxlUgS1xwEcCtABA49hQLAriC5Bc-MaDZHFIUAIMO-fSgNyrpqE+cWCJgEkHYDeBpAi8P5LwD4yq9BaC4AwioAXT98W6ABHgf0U0GIVWAIg-Ck-xUFCRparpZMM6H2hHEghpscGosGrpaxbB9gtgI4IJ76DjKqNVEK4PiF4CuBgkAoZwNyIzBJ+6+VfuPwKIzBIYTFNoPkLLgS8-ADQyJHfw97j0kozdHujfBPgU0uCU9VoVzxl4VAcY00JzvYD5wcA6G5oOgC2GmFUMo4dABaGAOBp2o5honBYY0CWH8gkQi3APs7A2Fl8sgv7KaP7AmGBsthsws4bEEIjZBrkxwpFlICuFaxlh-aOdGDAcCUwYcLw+4X4BeGqAVhaAoThsMm4AjlhewpvgcIuBHDXCSICQqwD+jfDmAvw8EbsPO6Zh4RVTMYecLgjXIA0nKG4bDi-j6wLmOOV2oUT0okjeck0WQP7EfbjCuWRAVlO8MHLUjQYtI6aAyP9g49FOPqHESN3X5NEeenwo1voB+EARFhhgTLIqhuGJssRaeXAOyJqI3DuRtw+JHSKUgEiC8nAGynqB7zEhZUMgpRHHEso9F-BCQwIYUOEES0ZBllekh2SPwlDGB5nBQYYGNGCBshWoBznJBBRMBuGCkIQdwISGQ8TRXoqyr6Knz+jBACkOSP8M9ERDwKbdKyLgEYRrBtqk3UkKmKBDpiH+BwLpHGNAAmiRAk3EWqZSb7zpv4x6EsevzdEsAc4-oQ0a3ELFhjExPPFfi1yvSydHYzXKiMWP96CA-RAYnKhOCvSPDHgE4YseOIoiDioxw4n7mOOVrvgy4U4pcaeDHqLcsxaY67iMJexaBy21ATkfSK9KrDm+zjBUY0WZhWVEgbwVNDERgHHYHxzgPwHL0LFy8zRqJAAsOPOTihDcMoSMYoGjHyQcqr4hMU+OoBZsnhmYd8WpQdFqRvxVuIDtmO8DXdJuwopvvDQPEqjNRikGMUIytzNJy2oAEqgAAkCWTAAAILgBwABLAAEolVIAAAeQpbIBCQAlTenpTkCJBrMiAxIsehBThiDy9AZgBwK4D8Sp8onKqPqz3RR9eJzgZxABMPqLcpJRwTbHJLRBrcVJowHibZD4ngVSJ5EqiTRPolMSWJmkiaKJM4CyTdJ8k8SYoHApSSBRKEJYPukPRfJFJkPOtOpMIBRQBRX-HCnznAmig7JhAQSaeIFHEjBAieOgiaNqqp5kiN4lNNZhcBBSVSggWqhs1nGKBwxZfRasBJ0m-8giik8MYRLkAyA3uDyIgH9BlAAAGQSj7DNDBQUkFUjXtwnICGBl0FUtoFVLSCEhXu3gSqaKJ2pcg4JjofqcwG6mii1uqRRqTwkIESwZB40iYexgKjtTpKLXUzoNSYpLTWpq0hMlDzJpHsl2u4voLRjmk6DBE+rcYG90Xi04WpJPPafxSWrNSBpu0vqO1PKgogfYU0ZgMFCOAhpUBdoaIT4NV4VEYscIWaXQKyHlTXpD096WwBxohYqhhPMGUxR+lMA-pngENE0PH7TjYIsgX6f9I05YDEZUvWflPXRmYyQ040qyhwEmGdBvEZvcIXaIkEhxvpBMjGUTJ7AeCoYXguaYugRxIRz8TyLpDINjA1CgZeqV7iQUyyT8eZwofwVaM4E2iRKNFe0ZEV6ROj3ADLU7KmMAjK0iwHMqmc6NoHFDtZnQ7WjhDllRCOyq-Gse+AWCUyiZTQ60BjHxkMBCZWM4mbGEiJx8E6Msv8AMPoJSyPZnMr2UuhOl1j9RwMc+LiG0FHgnKYUlEL0UtGEghBIQ20UdNxDhjEoyESZtzFiHmgBBphQ-IQB6pATAxCQ5UgIMglPCnwOc3ahUL5kLonwm4O4jYHJCdyTwKcwoUrMDoZzRBRwHOSeEhj5zlwPMOIQINcLZgy5E1CuTlTEFrjegQYs2SGLxm+hLKnhayj4XjnZzE5iY7vj-jxDIQ6ZPhdTOonrmSV5pJUsQKAA7ldzJZakLcTmJ3Hf4uIPM6fqcV3m6DPAw87Wm0TGhEBy5843gC2F4AwQPxaA5MYSGfkoTC+62bSMhNzFN8RZYwUBRs0FCljqK7Y-maAvtmfco5OcGOQ3DjnoL-AECtSjgoXTgL8FCCwhUlnIokLEQ4CjZi2DNF3ywAnc8kDgqYp4Lux2iXhZgvX5AK55840cQ8JhqjjBQ68yQCIoVDzjL0EiqCZsEvTSKl531NSpL1gXpiTphocaXrBvwnpg55eL8muhrSGK-yb3ACnkBFCfx6AF8GmQeUaQ0y2BS01nI4tPFCcp0KoFxUT3QZHA-pjQIBNLL05N9GkfEG6dqPHh6tlE+i8aS+PB4o4spoU0ADBJ0rmiPmn8D0i9PAKyAzpdAlQKwGumzhRiABORT+Ppz68Cw5S+caBNIACS1xti58JFiyUxEaZMi3oGkuMqjSuOs8hUIhJM5ILUJQojwigpHxDtElxS5gKzlaUuB2lkRTCXIEPFOTylBEqynq3GkKTklScqehFKVFRSLmdBcaRIWSIxKclUyzKfUqnw5S6CeU7iZspCklSTpDcB+pt0mV1KBJEQo8UpAPJ7KSR0UjRYnBOWZgIpybDQjMOlHD0OBBUpAUEQ+XXLExjwi8Rsre7OJ4V2UxMSC37pyjI54y3br90SVejvlt0gAnsFKCrQ5A5cI-gSocAxNtIYJCZbSsbr2Fx5hcwwGSvZzmcXl9rRldtxpXbciVAo-KjsA5XqIMBaKxJZD2xWairKhoSyTGGrGX9xul6YwKp1vRViVVeaZ5ZplkAwrVpLgSyViRsnUBF46+eVXHKCmCzZgZ6JoDKEskHpOQR6S1XYVAhvsQyFJIKd8slZc5HJqo-4NpCCm+SbhzK3oJ1HlCPdjVPkvyTByYpBS-AF4t1Xkt3CeqhVE-boSHmwpjQ1A7QZgEtJCGGqPFyc3ZskplBNL7Fv8GmbnL5nmrmFySq1TMBtVVVCQ9qtySFM6GuqFASanJV6vxCGlfVOE-1aSHGlBrNRIaqQGGsHXDro1mWbaW93jWuNE1FJJaamsPnvyuCACvIPAO7VaZUplqy-vor3WTct1B67yZLy3W7rT1cAoAXqovh7qQ42a3VZ6vzUuSjVhUw+qUo+aZwEBka9YgZMonUS6JDE5ieAESh-qjJgG0yaxOb5xqThEhL9TerRD7EtEpIFkBxxP5jRj1b3KZYvAfW5qKpz6vdNho-Xoh4NmymUH+tom+QAAMgSxA0ogKN1G2jf+Ja7xLYNVTUjaiqQ03wUNCaXRSoGLYigjmWOGPLyJBoia1uHdHzEJrKAE8KRN6HGbwCQ4+xMigm0aO7zk2Qx2hSmgtIXS3xpRpNmrETZfzE2542Bkm-TaNFk1MDiKpmtbpkQs1lB1N4FLTWwLNCaB0kWsfFUZtPEKakOfbagEc0oBFLVNjmwVXKMv4CaAtWOELWQFCrr9pV00RboJqC3qIVNUWxzdTEIAGbwi04hlfisk0xa+8WWtTUrT5LK4EtPI5pGGrrTsAIOeWxJYNWS2sBlWFSfTSlpVLKBstElCrT8s8X8bHCuCTrVjgc2xbRO6EprqKORHgqpR1rTMPVtpXBEpUI2kkMttio9bStswC8W1qKX2ahtGW1bRttFzrb2E1W27j5Hm3bcaGnWlLS1vFRuaIMiuL5UKt+VEj9lpIv2gWDbop4sAZW5At6jGAXbIk92+MrysiQscOlURfcUsuwlcix6xQX7QVXqpQ7NMMO+kZvJwh4QdgTRUiLMHW0XRqt93OrXioa3yEGA7m1ILdvaJWS32RyQGcYt1qHEd+lbatmMjVwl0BYhgvIDnwZ5M8ySWHMLTKt7Ay1Xt-yw5fGC+2uQuAbwQIBLGMHQIp2RyEaj11D5eiZFb5MnvI2Vps12wtcp4e7j340A5IV8gPENR+0Y6ZgpIbndX3Fi0gY+RGRZSju+WK0HO2O1yHjvBDVardefYgkTp+xvKmVfgL3bzrAqCVQIMIfdLQyoYygAAnOYB9iR7zUqouTfHtkh0NvlLAP6HrHkKmFe+6wvNDUKblZAaAAVGqSzUkAJ7uAU3Kbj5DQC16x1eRI+RLOeGp6qGP3NQGUMeAJ709iGNUXcPb3yFPsVyToRJAkhd6IpPeiSuHsG3pQ6G6yzwIEuCXAkh4OagXdNCTHUVvl+OwIGSACVUNF9D5UkIDuq7z699rgaWZTrGjt9QdzkzqB2AcDkwG4CLDJeiD2AygHejQBXizyt5bLvurATqGR1MC26q1WQcFNIAf3QttOVkBuN4AbqmEK9pIGKLFHb6pLElUMRjoEEkCIGEoOdZvTPtb2w93l2oLoY3tEASRkInq--swHgHmg9g9apNteqWk7rvJSea9Z6tZy0HOhyEUA+Ad9yQGYF0BkeGXqLEt7IkCBxA4Hm8nBAgBawAPOIewNyyR96a2YPAfENfZdufQX8SwVkNyHOhY+1UZlgikAr3wEu+XAQYW1Li5dYMBXRLD2Cq6QDGuiQrBgxGw1idC22w0jrxhYSndTRNhLPw3WKUYCIQOgMFHhh-7AgJKj5q-sJDv7P97fIwL-vQNBABqgBsoa3WorrFAdv3VlMjuWWqifDXGg7nan0pxaiMpIIKDFmAlaAixggfgAZBwi25GOG3a-ZYdMFHJ3DvLdI5D3V2SRXGThstmVIY00aoN7EsPHcvwmorHliYoSRRUNUeTJuUkyyVHAeVzGm+Wk6cA8rYFrGclzifSWRKYCUahj5k3cIsa1jLG61L2zURcLDZ0F+1XIltY6vcl1qIdkgIdW9xHXTRaQZfW4-SM2mWLvA7x-2EAdDxX78VU3B8dwCgkAAdLAAeqLSBsrMuAdoDNGx3aNmm1od8NXu0jcHyKx-EE5MrBO8SITTw6E7CfpmuBRSiJ4btRAvD4AOwkPU4ExVpOgAAAXnK1ADQmZgYKhE0ie6OnBWT6JxiJidJDYnGArUMiHgECOigQjF4ME3Cb5zcmqTyTLrv4og7uAIOxACDtdxMBTcwQNgPEwttlNkmFTM0JU8i1qMRl1Tmp23UKYShAA')">let THE_RULES = null;

function fetch_rules(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_rules(pattern)
        : get_all_rules();
}
function get_all_rules() {
    return THE_RULES;
}
function get_indexed_rules(pattern) {
    return stream_append(
              get_stream(index_key_of(pattern),
                         "rule-stream"),
              get_stream("?", "rule-stream"));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p40' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Add-rule-or-assertion!</kbd></span>
	<span style="color:blue">The function
	<kbd>add_rule_or_assertion</kbd></span>
      
      is used by
      
	<span style="color:green"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      to add assertions and rules to the data base.  Each item is stored in the
      index, if appropriate, and in a stream of all assertions or rules in
      the data base.
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-rule-or-assertion! assertion)
  (if (rule? assertion)
      (add-rule! assertion)
      (add-assertion! assertion)))

(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (let ((old-assertions THE-ASSERTIONS))
    (set! THE-ASSERTIONS
          (cons-stream assertion old-assertions))
          'ok))

(define (add-rule! rule)
  (store-rule-in-index rule)
  (let ((old-rules THE-RULES))
    (set! THE-RULES (cons-stream rule old-rules))
    'ok))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDPEicagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBOBSjodEoUWIJL0MqScrMCsJUlp11kjLJGtZ+sNxtN5C5uJ1-NdRpNiVCwsyapqGt+lK2ityyrBaiVqhVob2mv0WqOfLEfvdgfm0kWknkAA9NJYDeNzRH-lG7Amk4m45W07iMycbZI2qRpEplATIdCKdXAe27fSHXcUayNPRznoO-Iuz2lASub5-I0mtjLvbbv3nqAWfMIkpnDl54ve+NVylhj6xJ3u5faEGRWoUVWrTWETGG6rVHXG3fNN0zvOwHyXAk5gWT5i1LeRy1oPcP02YdvyRX81HrID01bXUQm7FwWiUQsSzLQ1EPfQdP1Qs4LjpBkJyhfcWQI5wiJIuCEOIL0eVA0BWPY0FlBJKYXxDOgkKolDqRYJRNHuYNRXFSUOReAC-2w718X5ATiMyFpBUky1rTQ2M-ywpjgJbPiQmtUJzgUD0jNSEzaO3Mdd0nA87LCZd5A9Hjb20sQ7NgsiK0o4yv3Ut9LJwmypGnFo5HGFRnKHak3Po8c9ynWhkoJFQOPC2hr3XDcaTondGS8lkkpS2git8xzEkC3D+XqwqZjg5LSD89LqOpcdJEsfBctAHgQOCnZ8oa9kZmnOh5AAR0WM1Ipcr9htG8b+CmzMZuIArUpmFQpnZKhZiWDb5S224RvacaAGZ4um4EltW3RSGuyypNc20qo8mqmNZD61u+tq+NkgBrT4wa+n7HjoZCTJyll4bITkXhRZGtIOgUVvBuGHP8xIJMi8xNtQmKkP2tsCHBMJ7L8pycZR6KfzZvH6bLchmZavRyaY5G-q-CykbpvCpH8zRyEFUJCYRvcRaimiHEISplcl-l8P1PnmtJ9bhfZtXJQ1zDAON178YyaRqFIaGBsGoEsuqxjHlZU97ehyG3q9h3JH0wybtu6mf3FzVrLekI5M0WQ+r7EPpJdgH3IY8aWVj+PlyvbWxFA4r4PI-Ik5MmmgO53UeyiQuuKFgdVepGmI6snl2tOKRGA1n6WaKKTk5HQH04Nj1WS7nJffx6cu0IYvVHH+RkIH0yMPn7vm14t6F8D6gDLXnIl-+s3NfresF+AjZAgAfn43dM+kAB3JRBVtLvOX0S-zAALhX0-G3Pjehw8DUE0IoHOz5zinnkC8TQhByCgDyC0UAVxyC4DAPgZgbBSBvDklMUAT1QD3AXLqJ6aBSEvV5PTV09tVCw0FC8SwGhGAtBVpGU2FQ1CMOoMw5Gn8gg31aO0ToLQ+GBB-oTNKdC1I-gTFwnhF8KrmBvrIhc3CWEf0UWYH+1DSC0PkPQ14-9VHyOtvTGGnxIE5FUEvRa8C7Z9RmJY+QoBUS30ZCyAAVE4jxPFAh8TttQaGhB5J0MkDwF4oS9r90CLYgUhBnBOJcQgg0NDQnhMMX+exRUnEb0aJQfAhCQiCI6AkZE8SclL0aCZYpwiBiNEGKAeQ0glrRNKLEuRSDXE6L0fLfgLwsLlJPAfbkmij41NKfPYxLQNGaLSAIo6QjSmiMUT-M+UyRmlGGIELZ5gbL0EUHcNJET9GSD6aAPMixKnmFiXQQZUCkndKORktQWTHFDMXhstI+TCnNAWSUro9w7nDNaWkJafN6yvOxFAp4yzNGgnBKoHKTz4UQkiS8C5HyYWzNmRC+22T3mt3qY05pzjLQbnaVMh5KTdFoueYChJBLPkbm+aoIpfzhGTKYdMq5ABIRoYLsQaSBdArAfLsWNBRaoSVtKMX6CxeK7FAyGVQNbmKswDSmktLJZogVayuXougky+poidnqo2HxZKdBQTkGwaoFgVznZ2DYOiVxLEshBM0CyWF-D+LuuCd6sRoBnUYhZJEJajBPQBp9WGg5UbA2KGYBCFgrIACqxBobEGoA-OwICwG6gALT5sMVA3x5hTXL0tda7BLZYm5qfMQKFOQknmMbUsbksSUFJLreAhtTjVBusCcEnisTYHwNcd2yCfbQ37IjTxdu7YjyqFgofL8rsgZ3FgqyK+bV53AkiG0Is7ypXLhXabMIERoj-h-NatMa5gSLoTDe0xeEFlFkkKE8Ux6LQbFiXQpJj6T11NDplKQi66GGBviybdoAf50KjvjFB9lLDEh6ekuhUSyU3KSSg1DxzBR7SA464E4yAUixvhwmDAp4P0zCNwz4roDnjEkJEZjr7VAMYjeMJeLKQj7uLEejjBJb3auubQMIoA-2uL42+j9Y1BNccI0EWJpAbCWDnPJ5857cjOrjWkRDWmUNSIPBp4g+aDMsFLWkUdPSXQGkY7QMz4RtMsnlRVSVJmXjWJcQAPlACpxgam+YmaQ9p3JZbiVao2MMIK+NaOWBGt3VjrGD370Xv3Edy5zpJOnvmOe59FM8akNJo91rzrCdEb+-RSTpPvpOZ+0rihiBGtEzOPzqnAzb3My43TQR9NOcM-ose3dHPIYs81sw1mjMsgXiN5zrmNySoXp5wwqJfP+cCwls85mwvqoi6SqLbc+Kz0+NJr9p6QNIciDEADkc245HgQAFQABIAFFJAAEFwDgBewAJQe5AAA8gAOWQK4jhAxd34CsNgyQJmJINdsC8DBHJztAmO8l4sX6yuiJvoh6T1w4dY8azMtIP9EMqFOnZzjYnK78nJ5UWHVOCQSVR3YZ7b3Pvfb+4DkHtOxB49fQTpn4x4eZeJ-3EyfXRustfbV+W9Wxe2DlcZ4XDnzM7vu6AdnkgfspoADIvdB6AcHlDdRQ5tW8Tb8EieI6YCjiXX50enYR01nHyCrAY6LNcBeovyDY8aGTj3FOrcs753YenMwfdebJSZbXuuDfgDD+7vm+P6RR5d6zgU-WWCw80KAo6qg41S+0zLg9cuxRjQz-NhVQRpvDfV3KovHvzP9u3UNnIs3iRchwngUCDAMGsHYHARAyB0B8B4Kb-k8gLn9SdMyRpxBZgmwu5MMByZeiwpvqv6YUF8yknVEUWFP8iTSjn14TfvrB2aDEqKDFClXwV5Uqfg-XgXi6CX0fvUefs59jPwYC-Wchk0+Cw-UBcYURcFYf+yu7+jeNebifMykGKEk1ctcxcEkUBb+i+aYoqWiwIE63Ckg1QzgkQPalYF+wB+Y-U+BjAhBrAxBF0TG5A1AuecclACckBL+BgmBH+FUx+iUs0XUZBFUN8FBtBR0c0aUf+3BJOpQfBMgxIbExE4BXEQhG4N8LaoEiKChgkS4IkigN+zSlY1ecB5gukO8e8GBC+PBG4chGM30qhjQIheYCsn0mMRCrh30-Mhs5A6BnB0BWBn+ts3sDhpQThRU-sjsUhVhMhpOwIPkJMTkUB5Bzh8RvcZoURMBgRUg2YAY6RfhyRRUORiRnB0hWR54j4pBSRwhjSzh4E9a5opRvBjSAW3CDRB4aaGaWadgQoegSgRYoAhaNRIBCgO6fEgBqgwgLw1crCwQBSrKUgpYlALAKUV0kgmhwg5WaQJkgBIIEQyxl0nw6xJAUxjAUQuMqQGqJK4gcxIQZIrQax00ExJAmxSmYm8CZYGsY6QxlBCgTxB05hhkGxxhJhQQxYCgR0hYi+4ItATkPWcBBcQkHIUwEkQJcJNe0xwJIJpQYBUJzAuRdwGxO2wGKcD0w4u+iwkyty0g-+syN8dkGKYh4JdwHx1JMRAeoAJGLQhGlxkWaQCarRkx7R6ama2aBAb0csoCAxRagBlm0Wk+Ygw0iB0EEksEdA0h0SJksk8k1cPm3xhA-U1c0hb+JY5x2ob0ohnUJ0bRMBDups4QcCbwQBM+vxlpjU3UlgvUs+fh0hbJPqFB+pLpAhJ0YhGMdwlhmRKyepXp4hXUsO1JjWOcV0Rh0R1GuoohdhiMPh6pZKhWhYcQcsLhRMWsDqy8nJimPJziuZ3YTMI8iQxZIKQQJk-poBjM+sCRdZbMTwMB5Ze2DZsSHQjANZTE5JziriAazZvxA5Q5aR7sPhcq3ZoiuZ9J0EExrZ9kjwI5LxFUJkU5bZG5GKim2yvZImWxX46ZisbhPWvMXhHo9cc5XZWBh5ZaB2Zp+MipEoJAORAKUo8EmeWpqgP5upnin55YxoXQPiLwP5pp8p3RfUDa1AcC5REEIulY-cuZGZTYfZbxWeSMSSGZN5ZMlYT5RGIQMsBZGFbMum5G5sum2ieeugyIcFYoiFdRPaKJa5tZRsEssBWJZgdATFCFfMrFzOhevFaQLaGF15nFPhxZRJFZDZR8wlHBYYh+miW+u4Slmmik6+4YvpQQP8Ju2yh25pzhER1pWB6W2FQcSSERAJRFP62FryDAri-FeQzFQlC4FRIlQcTKsSIFbopSzl8Bj+-l-oAKTlTKTZzpSwQcxp4J9I7+0J+JiKeKzSmJYl2KoVYFLCLwaJGV5gMBz6U+KRNYBFeRKleg2ZbCMkSgsMpJ2wI5ol2KE5SwoUpEEBiE4ZWBRVYgohRRdZGRFlmG2FGKSSLV7GoF+JI5qBylKY-hS+imORBhjV-Vc4Qor4yZGK0himJkB5xl+Mohml+Qg1S+aFUgBcR1lYaqoAGwYRPxSwF1nlyFECzBtieQHlF4lR3pumEZ38ySAVy1d+R1BhyZeVpQ41wNDJyhc8GBYN4qhVLYve00-emCQ+nAo+vAZCMFNIXc7whkRYmeGQWQOQeQqgBNN1iiN8-RLqrwb8FNTR-JEIRYnsxNuQdgsExCXQDCC48glAV0LQX8oxb0GhjxiJehg5LwsV0RtpQ0d8dxEJoELmPWYtVgigapoAUtC5MW9MtxHg9x6xhNqc2Uu4+AeUNQ+t00k89MCJuhqtg5Exme20j0ptE0ecdgBcQcDtMtQITtY0LtBGm8+MOJswSVTk+Ajt90O0LtL0qZ-ILay5e+7gegfcMed07iCdiwLmfmtATJbtcRpVd+sq3tg8acOUW13kBd0EVtuoGdnw04TJqgRdqdYc6E9YsqPV7NZAdsho0QkJIdeJTkNpzd1I9YWtkOa5yO0oQ91V0Y6EY9fEX03dnwzggJwk0C0tRg6wGUQIkqk969Y9sS7wME+Z8siVA9iQSSJuu6Gha99+4kBqe+MxxJdgkq61995yypede9BhKJa9vwW9z9K8e9X9a9I5v99um9lM29dg9YwDsdvVRY8VfdodHZ2l6teY6tzg+oMEQ1M9EwugUQ7wd92QIsNNOQ0QRDGDelSioAkqN9HIxDaVH9zSyuWDS0fd1DuB5DhDbwjDIsAAPPxAQ5QyoLwrSc0Ymv2g9lkEGnkIKAgqcU4GTHEt-pQF0D-CyKAAANT00mHnpXb5LBxoOGA6NZ2aM6Nw36PRCGON2iPYGzLiItEQgsjSPUAEDyAPwKNRBKOCwqOsHqMHjaO6NwFWNRA2Nv0kMmMHishBOWPhAGP4CGRUMd2X4eqA0rkRPSBVV+LmmL4yBZDyTT2NB8SuUlxoMP1P3bmrrqyayZNiNwEiF5MBLyRw1mCL3UA901xn0wl1mFV5U-yZMuIYgJh1OcOU0rxUNw0DNwWryjP9KNjJPEWgDlrpBzHv5DOuJH15myyn24k9OyjjlOOMOprECZCtDG4ciWZBDyUnmvGtZ71JK7lrG30LmjJfilMTGgN1OfMo7pXirf1IE-MkhElGWguAPv75MgJLqPn7VUKTXpOJ2ZMP3ZO7K5OzCQuFO4PFNvQfN1MVMlnQPAgcJ8NjN+lNMFNNVwHtOdPIPn1mh9MKoDPaUbMryjNok3wCoJgYMP2kuxEfNYTGPzN-iLMmrBOrOELrM01bNkW7P937PfqaKM3HNClnNHQXMkhSn-X+gBTjbLPHkBr9lr2PMT0vMwtvOoQfPf3fPAN-PYoAvKlAsfJLPlrlpNnktQtj1oJikHQo2D5QDD5cBj4YDY0hCLH7F82HGPEbGix2lDw5SCkshhsrHvxJ5JsHHMZxA5AeikHRuNyz1mRqCEk1rYVpsRsPE+tJI5R8JoxKhZ3mBKizI8VBBoxJh1tmBJiNvAlowoptu0NgiMCdvVt3zji9vjiDulBozlDmxZ1TuVAVRNuBBoyVrdiChZ3LvPzztdt3yM1tuM2aILumF3yyTvCw7OB0AubHuW4ngMCNAHtmBoxaO9vmBk0vCCgra+b9E6PyOgB3vwH9r5pPtmAvugBvu6n9FFrfu-towQWlDAegeragD9EeIgdmBQd3zACAeELM0gfvuIegBgCQdbvuIACkmHcHuH-RxHKHP7RHdwLILqT75HYHLLb7tH-aAAhOiIx9h-Bx+6AJx64qx0O+4vw2RzxxR6AII2YEJxO3fPw6iIB0xwh-0fJ9J2h+4t5mJ6+xJ75mp2xyyN5gpy8EEEp3x4Z3p8J3R+x5h3h4EAh2YOx+YATXwu2iW3scm+W22D-d1o0P+UqDAu5+m33q561qW6sQXNQM4AAFbELOWiL-nCC6nduBcRtZ00yEm-tBBheRs+vchYAjoperFvW+OuI5RoyclZ2cmZf5VoyQDEAlJyCrvGd1cNdyzVcZVoyXuSCwCQBttdc9ftdiWdfLiW4va9tdcvaDe8VoxA5KBA6YezdA68smEhfibZchmzj6xoM+elAJe6kJjh0BdLEefFdzkDAFfHfpundgM7fiVyQTH7fhyNjh3K7renfnG7o7HrdHHEAnFRDjiZ47EsaCKMDSCChXaSBRdKDzD8URCyyUuzLrdLFxzeE5vPG2tBDVwA99BBCwu6hgrBK0vyvR54ONKIMMVE-JW6axwMVSqFc5ded4tis15vdvHvU-1TfmA08F7ffTRijRexe5W8Ws8zjs9IGc-ttYgyuU8eg4Sa5bP-eRdFTdP4l4VbDX4q9OR5dI0VsD5sD+vo3cCYDY313KAUCSCfRhBMaySMCOxHiUAErF1EtOCuAQg0z2+Mp6XKJPfmQLM9gO8qq3qmOSDmNZ4XphOJNXqt1+-HiB96U-zu-++MpJ7VCyQKyIkKDIjxPRCVPLxKCkAqYsAaz9T3BTEF+4cMA6PsYF8sssiaOQaaMaMxM6P5+kAS+NB1-YzZ9nF50kBCRLSQjh9-fq0oF989hLS-A8qk+hNBMsj9pBOp-ERLQZ8Ar-mj-ED9-r3TFB8Hj6AshJ5j+DkWKKAsDsanGG3HxqDVxe8HgcJersn4S7jX+gBwiwrzGX+rzX-FA+C-yNhf-8chpt0N-KPt0Gf400oM9-aoqb3z58xLekEG3o7Gv7eof47-LOGwVILP9X+syE-A9T57Q0KwX-MZpBnn46ND+7DKYKfwTDTEz+PwHflGk0ah9Mmj+H8n8S874DEI--CxrMgYFBMyBx-RgJQJ95X9TiyBc-sBG0b0C9+yAjkhv3H5LAWItwLOoaRkGb8vgJ-exrIWBDuZz+buPgf2h7YvAcoVA8-kK2EG0CXgfAtQQIPj7vRu+NAm-iyAADkofHUqY2cGiIBm3fGxtfwP6yCj+FvRYIwEMifQghF-YliSBcBuAEwIQmTjVzviIIzG3CMxpmk9C2Zw0qQ7yN3G7w389B0QwIaxzpQxDlclgigTYNyE-gihpg1QJUJUFyCAhigN9vAzsBQ8YepAOHnzAZKlh7YRcJdCWAv5oD2CiEZdG7jRgDCe0WdMAu1RULLoMe5gf8i0P1BtDKAssaal0O+gGhh+vQzQAok0E4CthN-NGG3gFDaVmBDDZdDYNghNDQAMQoML0TfRrCehy6NCjcWyKqNBh+Qc4a0n7J89BmY5flCcOUgsDJhnEOeOcKfIFduhdmekNMWbT3cbhPRc4PcOYDrCR+Ig-Yc1h3I-DmW4Antm7klSPpkRRcAnCIOVw0wHhUI2HCSI0GxEC4vwkNCOzxGEiKR0xDwd60Z7YiQ0Cw2HssI6FV08R-bVgZBCRa6Z5h0PRYe0NWFMjURZxdETYN3pYjXwAXSEUtGhEkieymqSsi8KfxLBPhImVGHfCOFMDARZwvoUyhuafwmyJYcsnj35ASkdRfQp3qGwFHDDHCK8F0ZoKVabohSnRUUuwJgaChQE1dDqDnUIpPDh6JJSVO6LmR0oox+lCRq0S9EsgOiIpdmlMOLjZ1k6gsIWvjGCxMFA49GFoG0G6BhjSedo-YbX0Ez79A6VCQsYznSFMZPaJYwlgmHrqhjTRVwltPQWSiXoPe0KZhpcid6SpexOQB+pciTxdiIew4mKvuiuyZ4EwE46IHnQXE1w78y4zPPWDXHjiZxvdFjHvVsax8RxduYFk726RTikcf9JPGCVp5nj+x69YBoOIFGdjtxMQG8bKnPEo4rhYaTbg71+Jei96Fg05ghQhJHhJAOCI6DkEYBLw+IGgTQEAQdG3Ncyi6XUQaysrPibKz4pLHuL-EXiA0YydlBMjXF5V5kqrekCBLAktAIJWw98cC36bZ1YJqgZcY1TXG6t5KuZSMaaIbKEtJUMEwyAmHOEvAeJq8c4SxP1bmtqQlwk1AdkJaCTl0Vw8zCwQp5tAV2pGdJEpOfjXA6AGGUnrOzfCTQ3cakwUBpP4DWJWR+IzmJNFmFAcK+2eBSRCQMmkYbJWECya0yxL2T6QmkwBLukiBTASaqxNyfcFUlNJ1J7krSYSx0kBSb+bk0IMZLlECiRmzk8VF5gQ7eTFAvkz4P5KimaTrElkxRElN8zySnJrcV8jRhsn4BuwUIe7oKVz47lyp4JELChnkkJdjiAoTyXxDKli4G0LebbI6JqaxRRsN-DhKyJSmg9cgfkoKYZO6ABoRm2eKbnlIIC1TdA9U0-gVMtj9TPJu6K8RCXyQhlbgdZG8URH3D3jhqrWZcehPEI7iG0e4m8XA20m-I2g-yboIRPGabTug+05cNRMXjSCXckgY9rakYmrjnxyuA6R9JSbfTfpvDa1C8GBlHi0s4Y92ka3AH4A4wXQTRm7hZBIzVQKM1kRIjUCQzQAB0wwG7geZmAhpoGHsGdmZ5mARC5PLaRKEWi7SzQeM6GcA1JkggBRN6F-vCCdEIoCZ-Iv3I1h+nLhbU9YG9DlI3D1gCZYsiVIrgbTgyQBZ2KWViQTCSyXJ-zP+jYPRnIyWgVY4qfjyuz3ZNM2eMmpnklTYc5pHCFJtggXDQxYcDaEzBNXrG0AXgNwvGTcKOkOVWs4Mh6FSS+JgyhZvDF2e9P+r2ZfulM-KqUDdk4TCWXslkmOhDQYycg2st3INPZKdMDZnUo2THPgifEUmJSaEarnoA25Q57swlvJPakVSWm2KA6U4B8xwkrZAcNyvbOrnJo+2-M23DazjTm4YchOF3CDLl5WALAiWDQCQDwSuIAADBDj4gJAH4VuFgj-iYyUBugh8IeUBNHmDyzww85OgOx0Y8AdqX4beJvKmBJ4W008qCAeKWA3jt4YwyCIvJNkCiIBMCAUVfLeE9pmMLQKoVOKKnY01MHIM+QHxyBFZ8g58Syq1mfmsF3hb8y+h41nnXyF5S8xTHxCcyfAn40gR2E2NKBHwkJDogNOoVqqfBT5U4qievPowvyb50yANHIXYnbCcFfbBFEgskAoLHYfE00YrNpryBkFKgR2KPVNGktxEVoqSYA3oWMLUsKTNoPnhYRigPhJYA1OfJBn9xEFlgDhagqXQllEJ5Mj5JxNmIStVoaUG8RotuZVIxYb8JZkeQ1GaK0gsSZwGdO7E1xdxLzEGSYowXVNJAnJBictzUIEBRG8gFyaskUUMLOFDEjCauJBabJRU5osSRGOdGEyFUN8IRQEr4m3o-AbCpRVwsbAfIesP8JGSSmdYCKiMcS5RbJJtEIMkG207QOWCgT7j-569PMHIuOniZTpriRiXYoYbXSo5Wi1QI5zZT3SOUzEhSo7mICGNBZFuQJedJXErk1xQvcOcwwcXBNWJWoxdHmGEy8U8AHiVZRVlQmjLrFEPZpdKBqUwzdWJkTpXdMWQAonp2KeZIMrllnjVZQQf6eMsBmsKKoLM8VHwviqVL3kyLfZeqKuIsoxFDFKQIhD2WtKUc-9FZWssMWoRNZmM7Wd8t5JOLUIL095X2L2U3SjKus-kCQEuX+ypU6STQGchLmAMHmiMrWZAOjFQrE5pKuMTjJxUwI9oRMteqzMXSaBJoYc6mSUolBlLDQFS5lbSpBmMryZeK6JaETJ7sqQQHTLlVYjxUwJ0k94-DmAFWUeJWZkqZlbCC5kLF2ZdK10ZisSZDLhZjYFVY8vbb6q9ohqmQViuGWPoEpUytII+hNU3KNwwDDWQnJRlXCdixEBeKlmdn5C2Zbc0OZHIgYezxMXYNmlbiSQ-ySQf895IApEWKY-KAynVbHKSRRptV8sOWYHN9WmqWsM8GGiTQbTnxM1Zgf1cCz3moQU13sz4rX2dVJzXRKcj0dFXqFBDUsdlYNW5XzU9Y05VgQ2dLjLWxz1pYxb-PLHTwyzal0-UqeVP-JxoF4upOEm6qtyerW550EGZZK7mW4h1Ga-ZSk0NCZtPgMQ6od6t7kwylpmeMueOvu6iIiVvmANPJO570h-JPWPOXWJDkSR01i6-ZWLLmk7Eo8L6xrH3MxJWsZpVwlqg2uCH5CPpR6kBeJmWiJdXEOGMsTUJZBAaYhVzPCd0omRQbni3qDlsjzPC7qYhYG7bNIPQ3HUQxgsPdQ0OVz-r+pn46WCfTEJRdHiqpMIebC2HQU2pa5acPRpEAsa5xP4RjUnmvIcb8QKpE0uuLSUiak8pFWjZak41thuNPUj-nxurFm41y0m-EHJrhlujxNSm-kNeVU0iBhNmgaqWLDE2Ga86CQKIH5HpC7rGNTvZhaZquEcbqAkQJOjJqzKHrupGmyTTszo2PFBN+mm-pRu0ysjHNzmgTbQFc2+FiAEW9vgVXrW7qnmfmigC5qE2N5rqWJQLcSHWnWZM4R0MxohvyFZ0QtTWSeW9Gk1Ob8gemigOrQy32p5N0vSrX2Aa31Noxta2IsNLSnzhlJk05qnFvyGrlByQlCQK5tUBNaKNXzGaTCjS2EJcOZW0LfBEG10AItI2obSlsm0gkatnk7LUkNZD5aGha7IbeVry5Tz5AFm34hiXc0zSneJ65cBOrtYIzvMOBPJL1KXS9aGhAFE7ZZuA00DkYBa0oB2qYIZzpcjqj+FNpob-au1JeFmTyj5QGVzYa2oIBttxDZaUheW17UEKzrma-IR280l7hUy-j4JpPcal6IV52wsGMwTXkUCuFcilhKwu-Odo21UQTI12iuQj2xL3bvUxYBcHAiWBfj3qP4pYHDWME98PphqxukjnfYuSlWswSZVMqTHCkuircj+gO0GLmNRU0O2vNTolEYpshmGgUPrM7WA7Idf9aQRwltaI6eQ2WzXTyJHKo7hiO6grS8Ct207DUEOWJLJDfTrt5GriAAJwDALUEgOOM-CWn3AoJpWgPSuyWnMYpgkISCqoq1HEswgW5a5r2RZR2AaaY8gluYE92qBHBjg1kGgAL1XNTFVxAxVnvD3Px5Zie3VoEE92R65AbgFaRpC4LG4BirtHJWCzMC175J9eiEOrXd0dhy9jQopXYBUBPwX4XwN+KymNB0Z8Nl2jTTVqR1wJ+0o+5+K-Ezo7a0dTXBBI-FX0T6xx2NckVIF3WRBR06KRQJkENBtcIN8CZaEknhGCg7huxZUceiP4y5R0s-PoN3gKxzErojAC-Y1wAGupDQ5DT0CWWz0shC0RaQ-dcPyHiAN+cCMwJAa9Bhzs9lg3Dc2D1ZmKjA5aFlLmOYKuBYchYgFMtCT2BAkQaeRLAQXtnkHH11OBtJ7RIO6sWUv+--XLEAMHhgDrUTPZ3sH3-tID0pAuQgiINIJ+DhaZAzcxdaiTSg4B0Q0WhiGbAfZDAWQwB11Zd6jZV6mybdrVkcha5IJNA31tVm869A-O6oSLsITS6CAuHJfDFt22Nrlo2MfXQDuD0WzCUz5dFfnDXJ5A6AD8NwCfrgQ2JsKt+1xPfsf2H6X9A-Pw-AlMaf6iShrDkEFVsPBCHD0QdOc4fNhEkj4xLPes1p9Rsg3G4Mq7PjOXBKAvUPKH+Pobe1GGqA-Uew0AzXo-bzD4u3UtYddW1jt4VBguQ7JDkX8PVJmIVdGJoO9GC5Ngmg9QeGNJ5RjnRvo-3Diz0YC5SWU7H0djXYVsg+cx2fQCSTa5Ocv2f7MDkTwbAtjX2HYzziNzuYC5y2XUqsdoPM5IqX4FkIEh1mfc2j3cERTMaYLxZt4LGU7PlkDXwIrjPuTY69h1z65DcimOPCCdONPzu4FxhDv8e7jnFCW9xn2C2EP1fbHBgmVQFMoAA6WAXo-RQhJ5j8A3CU-qbpA7adb04qPPQeBYMdMU2WAVE7uvRNM5MT4cnE3ifEVfBmCRJgQcegRSEB0UyuAxJKn5OgAAAXmmGM44nMe+J+kISeJNi6yTYp8QXASpOHhz9tJniGKhGCeH6APhiEOiZlOcm1i8pnjoYPiFmNnAZjUgGY21lphHB3IPAAyb60GmOTcpnk6ab-aZwLTVpm093lVNeggAA')">function add_rule_or_assertion(assertion) {
    return is_rule(assertion) 
        ? add_rule(assertion)
        : add_assertion(assertion);
}
function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    const old_assertions = THE_ASSERTIONS;
    THE_ASSERTIONS = pair(assertion, () => old_assertions);
    return "ok";
}
function add_rule(rule) {
    store_rule_in_index(rule);
    const old_rules = THE_RULES;
    THE_RULES = pair(rule, () => old_rules);
    return "ok";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p41' class='permalink'></a><p>  
      To actually store an assertion or a rule, we check to see if it can be
      indexed.  If so, we store it in the appropriate stream.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (store-assertion-in-index assertion)
  (if (indexable? assertion)
      (let ((key (index-key-of assertion)))
        (let ((current-assertion-stream
          (get-stream key 'assertion-stream)))
      (put key
           'assertion-stream
           (cons-stream assertion
                        current-assertion-stream))))))

(define (store-rule-in-index rule)
  (let ((pattern (conclusion rule)))
    (if (indexable? pattern)
        (let ((key (index-key-of pattern)))
          (let ((current-rule-stream
            (get-stream key 'rule-stream)))
        (put key
             'rule-stream
             (cons-stream rule
                          current-rule-stream)))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNBiQuFE3NFEEtAoLJcgUQh6GIOhKF4mJAvdVJ0gUFgyH0CappqWbwlAAAfPbFNFD5SGqMQNsULaZrmmIDqO1IWDkjghAuybpp2-bDpfZaMnGy73pu2I7u+sUPzVKVNoBp1zia8wRpcxsUOIV6ro+iJCgC-i3Uh7bKHCgbkyW+4xAkYQGFnMEPgUSgdj6Yn5ovBI3VFBCjEoanwgAMk53p+kGKmbuEoFKDp5gxHxrBYeSZbyAUZGceuhnFtFMXSfJ0EUYBiy6Fl4hCoiqXqV8Vb8EbfAZDSXXNdxpWsZcOZ9AjBWduhgmWNFc1qDEOg5dm63FaLBa7aJ1XanVudnZp0TPe932tNdw2Y5966GEMY3Hr+t6bcDxmBIdiN87rf2Xf5GHLhYpO44YJGGGIAAPQhAjcZxi5u4jFsL20nf+m3S7dobUgqZQ2HISr6DZjmc+V1JQ7JimJ6j8ESyEECh5Hse6HhT77uJtX54Fiy81Oh0GDX0fss38I7rLwbzDPjfU-T02F-mju+cdovO7A9m5smBPy7cvfC+1cqK1wbk3QwLcBav2Dl-D+D4f5-wlobYassWDCHIGAxuxBm7j2gYHaeu8w77x-hZEeq0MFYIgc4fWksAFwzQZQxcFA5ajUfibXUL8CHBxuNiNOHCGDm0tnLbgcDoF90NuQ9BmDHrCF8Fwv8b8RgRkwogvudDb7SwYIFVOzAtBxwUcsQhs9w6U1IaJHRHwqDEDjrQw2Oj67YNwXQQxsQlGDFURzV2GjCaijeGxVEnRXFuODircgJNiEawPqJfx1BAmNkcdQ+gW9gb+jCREueUTzFL3oAE5wPwrH6OunY+hLhYnxIYNgti3ItDBNzm6Cm2jKgL24Hif+miVC5LifkxslI2gFj9vgxRwdGmBBkC00ApJ8aG3KT0hgnRRo6xoDmZGQyjEjNBE08Z0SdDeJQakYw7QZrKFWYg7hTMtEmJIdTCyhyBknJKR0xKxBU79OOac6mYRzkCXnuCO57zwTcAFmEaZpT+xHMcC8wpNjrqGAUbEdZFzebKKLuI0FHSqikA+Lo6xBjgUwKRQ7fF6LCZNxAtCuOcL8XfLdJ4ygIKzg+PdqkGxmhcT-MhQvL5wykWinSJkLl7TfGpBHtiil11BU0q0fyrIdKJjILBaKdgHgvB1PqZc8Je8sk3NEsq5QXhHmEz1V4Bgsj5FrMKO4+B38vEKo6R7QghAQQ1KgWcnlAl0larnNE8EGgnXUBdckoVLEpZUJwZAvBbrEV53fnSiRYLR5iDDc4qlUaQmEtjUXON6j9kgOnI422vKZ6asiXORxFlii0KZQPBg1QKh1wdPoDihaPUHMoKdOg50HbNqvntImR8hjvx7Xa3xH464MCJObJtVAGbnm6IybtM6-KEIHd0cIpRwSVtAM0boI6WLpV0YEWWOI2TdFJDnc8LUgTpRPZmXwUzMZFtBhUcG-N12gBldu6ke6a2kAyKc3FAd26hOLRk0xbNAOzQsn+jghqWJvGHrwCNLiYOFmAxmlFtpUPxo6ah01+A5HZH-S25mP0BUqKLthyYIZSi-M6PZcgvgZ5-r1n6JScCIxUe8XgKWLU5CKAgDAeASBUBoF6nifu5hiAoWsa3bgM0cwEtberUaQTI5sZkvDMaID1zyx7oraSzQ+VW3U9JWjckJLsIzjpgsRgn5mwtjrOWrdrDyboIpwzRM-XOovi5szghHVsHkdJ-MsnQ2JPDS3dTbnFNoXQo0oRSM4WJuTchuF0WWjueo1BIzqQsqUGCAwCaLBqi+dM-6UoIX1yyfy4V4rpXYoFfmYFgNZX9M7RixppSfiunxL8xVloa4iu9Z6XJzLHn-S5fJowzBEXnH9YNKUZ5DApYzhm5U8+rCyBWdNul9rc04s6QaFIyhZqXOdc88dN5nLyuLcGwU67JyjCPahXomFs09tZ0VhdybRNjULYDPdxs-3I4-YNFNyxb2DG3cB1VppFycVFL9qD8bXXVheebrHCVMPpiVaG5XbH+2wcrCm0A1EAPcdA9PiYdebWvtQdR55kywQxtWRsnZRyRtZrkDrh5LyVWOhaCrYnQL8jkTcETdy5Yr4WanQUN0lZK3Sn6GRL+BUi1vO4kbtQeXyyXmrfF4IUgYgGWxHwoRd0wo3ypEhuUJXmiVcODVw0c8TcMhlQF2F0p+HCOq8O0dlY9ctAiFru5uC9ADGGQD4mb3zDdajThX7qP0ejcm-9ynlY4Ww-yGTn7VXz5LUgfh8qGzyM3dsDmlH0oOia5vGD2CcvleJzNE7BqZY5uTwKmZ9OQ3bPbIORcIbSgvgSB84C063whUzeMurXDTZiWqJwscYYTrOd1WCQ0PoRNgIAB8QPBfI0TZ1+TDcGUGzBXD2Z9A1NE9R1PIv7b+CqGCzJ2pV+daNiqa1t-+3XOo7RyUPvrJu-j8H0hCmCBlgpgAbEMZK-npiIN0tfo2AsmQEstQCsudqjj+lJkNhyk9sCqvsRDLiypNMPq8hCvgT-BMGvumgJK3n5B3v8MQdNmKlDhKvigzCsItJ7rUpiqwZBmYp8q5lAQwceERCGOeHweSj-KXoyIZDwcjFIYju9oIfSsIVln5IKFbqKDXlRCrnBKwdTKXs7qGItEoQLKXpoWbmITQS6MHHDngcjMnkHPwUjvSoKpwCISGAxOcOfh0glhbA4EnFKE5jgiRi4LwvoKEbvqJJCEEZjuqHCNwKEWfpJi4IYNyIwPgPwNTsPOfKiJ9qjG3OSMwY4S5pwbEJelQYyI4coZSi5lYUHE+qymQWUfis4aUDKs4WsI6jNPzJkYIjkWTs1PoVitIQIYKq5s4QaBkUIIMavDTvkSMdMX2MtmUWSnUbCpMQXoxDYcRIXk+sMePDjoDvPEcYwPwhnOUYZM0DKgwTPobHDiDrflAResVKAGaoyMaj7vIupn5OeHuFetSAMdkQsXkRvHCmaoeDEOePEZAt7LUECQEaDMEYMICdCevgofoGaifsHmTApuHrnmCICenhnjpHCV7OqCvqACsWSUUFAXshfkNpDhMSjq8ehgJMtrobpvoM4ViQ4uApFscb-p1oyR0nDgTsji8Vlm8e8AIEjIyFiZKSBDXHNshpgV4YUEnDtojHocqTqZgUjJ1susHEjNgS4HDucWNuySUakKGlaeprhDSYAVifaYsQ-E1svLNLkbTuTtFnyVluSGsAkTqaXvoOcQaRlrSYHnAeGe6cAqqYKfNv6XSaGAyRLDxqUnxm1IJp1CJj1JYGkSHH+iLPInXOEX9k9P0C4uWc6QNrzkLOyCxnWeDi0KQKZPoHXBZI9KbNWS0A3CYFoMIAECYMQOgbUI0MLmCstqtnHltlitwDiXfhyQ0hrDkm9HblLICtMXOZIGQNSUuV4TfMKsNhuSHgbhWZ6qWmCDIBZLbueaUnBm5KGruQnirhWaMs0reaAG0iSiGt7mdjIB+ZsmMirtwA+sef+ZoqHjmISQYkBffkip+eMt+bsuaRvncNybZnXkBo+j8muVhXrNwDhTtH+b+nbGGUjJeaBl6mCEaRYhRUjE+eYIRcNrNBKlRYhTGphlkFRWKYTMcl8JAp2jBXBRKjaQcQJBGEebPoPgYSBHIFbBJbQW6A7DJY8Y4EJS8iwGLiwlwMuRjJJW6KzIpSIlgYyueCLC8i0biASTnnHIyHcUWTOXpXZhwtSUlhWazJcbtpRLpqkYbKZVCvZonnpc8IZSpfbO-EFcGs+XpaXqFbrOFQikZS4BGDFehUHn0aJfZewSFX5QeesNZTKSuWiDNGICLG5RnF8o2RwJ2pVWuEsKGKUKzC5VbD5bqAVX-iwEVTBdAWGMCOVZVR1V8gADyDX1WqD6CNX9WxCVbtks7ggAAqckG+dAvgqevAlK1IWI-qE5okoAAA1C2UdidGdEKOaiFeEMdYCgdcddGTEGdZ2hddNZ0BMFHsZAtdOMtatTIMQPZJtdtTSC1vteCEdSdTpE9WIC9SNddaJBZODQ9dSO2udTIPIjNfxSxPlIQKGUjFVabIQeSBpTmOTHJNiMpQ0IbLMS4iNV1bYUUIQjKvjbqLNbDu5qTUQLyWSYJfgMJUmnZRHuJVlqzdMM0B1SpECESldUjbMO-DNUjWLZkdaszWENaLaBjY0f5K2FbgphLeyHTDZTlYLWjPIV9czRZNZI9OUB+rrFPkeARJ3n2JIXpYyEoUFfoJqaYcHNTSrvFSNb7UlaSTpEFQlQHXLDsfGOSAxNwezeiOTRoQ8QmiGR1WGR1X5YTUiBfrHWTR7SVSGFTUrbTbmG9RUXYU+kzbDdMZVtnZzQ9TzXzUbUSbnYpiLTAUbBwnrVLe5a3YAaRA7I1X5T3W3T7ZhFdWrbxSXRifGBDbEK+LrY2VZbXKQbZdnsbcUX2N3ubaJJbdkSIDbXLGPsqXbfRHsYZM7brK7fJStq5Z7f6ItD7SHf7TFUHehCHUlmHY6JrT4XhW6AphzfHYphmbIFma1AJh1MJt1GJhgEWbLjrgrvrsrqrlKiHCWpknOL3trrruOcxS4Jg-A7WpNBwHHL5kg+6qpZmraPnhLOeHg3rvbsmEiRrM6L8nMLdbEHMBOFMdML8hyGwzEByJw6Sb8ghHw5OHBII8w2uRTKIxTBI9w2uXyr9LdYo5kP6Fw8dmucFE6oxrdVoyPBtQaOo0UL8t3nw93n2EY4UL8jcCLPMiwIYICjY6oHYy1CsJY7EL8odaI7EJ2dwL4OEACHvrzsdQY+4zEL8u5N4zEL46AP4zEbzl5KE0I2uUkdMDE3E4E6ALzpCLEzEGE8CGucAFEwYF2bEwE0E6AGAEk5I3OOCAAKTFPpPlNZOgB1O5OgD5O-JCzeNNPxN63+PJO1MACEwkPTpTGTFTIzQIAzNTYI4Io1jT4zzTvO41MQMz8jtTo1AIUTvTmTKzQIZTgzczO+izfjyzoAe+aznTa5O+2z3ARQuzFTtzVzRzEIQzxTLThQmTMQQzsQ5ZzoToNDcu+DoaI1gIIYkRcw3AtD459DBRgL7xMLiuoa+ALAAAVoOVehC5vsiDEcI8C3rrdXAvnvk0UEiwg5ogykVHKTwAS7C16fSoyPPL8q3rda3qS6mb8pAHQGqHEpPvc9y7y8Phy3SdY1QM47AJAHw04wwJKyK2SWK7YwAKKiMytKvysZ6-IABy5AWrxTOrWrQ96ECLNL5LbFVi3pYLAI2L2IwomTDsQF0LdLiuDLDKQLcDdDDLCV4LKwkRdre+xLm4tLHr9LxUK8VLIuE+lSzrFLyYjudAEuxuFMFZmutajA4opAQWZ0DAaL5AeYGRp0mgXN0EZrOuTqKhJDTuL90wiaybRwRQidHSwEWIjdBiFZWVIeAtTdzhfqfRTaMbcLVURdSNwbWDLrYblrY9PbvRIg-bIbyL3uqLGLpg1JI7ZrXrnl1bRQi9htXbcc3iHAAgi9YgXwPVCSq9RJNR-EONe7EqToDUvGoD7UQmXUommARZdeFApgDARyHwVUNwpAqqR81AT4XFpGaQW1a004cCwHT41GgOHGRcsHfwf84N4IDAYNx1UNL1MHo8IHKH8HotyKHiSHeHcHZF5gE0NwryceQ5bMHaJuKbygygW1GQsmRgEuzHzTLUx1W+zHet4IYNG6YNzQt1mHggXHW7oYgnQKKNnaAVYKDgzCxg9HZ0ibaeqeoMynaG-4P96RcnYgaHEI4NVHmCxgtHUokRKWSno8xg6n1BN11g4IFHKodA2nTAZACgW+xu1FEHAqiaABG6Mq2kRHw0GsAXoA3M0k1ufnsqRcAXvaxHytCXoAUzoklagXBgDsEXjZm6IXd2n75A37v7sUAHqqAXikzQMX3m3+LcEXUXE4xmzm4WSZ6pCXs1G6xnx1NnWKLyo0Xn2XxuyWPnco91E4YN4nKdQioR8byYqWdXI3iN43d1ZQbntnfXnng6PF3nJuO3f811Ue8I+XJOq32neUoIt1R+p363HnpAPEABU2rMFXgOPXKn4IIj3A88g3Ygf+EYCX3Ar3G3d3D3RMUNe3NGokAA5OJ9vjddDyGGLQZy9QFy59d71z+wWKQPIkclj750zXLKtOtA7Dj+s5y2uUIMIGJ8EGJ3ZFpBZOaGmGJ6hvCIRzJID1t4MCT790XFzwD2t+j-1yD+z8T5jwM-eFkLz2j8YBj2QP4+hbm-m8oIWyqaAo3B4OGh7Q3L5zV4Gi4gWhD3Ri1rr7dS104uqQWlJ7EJEQr+sEr9QJoKXtG+r24PZ5r4QH-Aj0TDN-r6cWuZWkCvZoIo5kpVryD44uhST4-NzuOmrycm4G7wzMwTr75gWhUZId7uLUCCGFN8H8197mqS3Kn1YUC878YGTJLoyJEZH2nNH073H9SZLgn1PevqC-ZgJyIxD6zN2vIPX2HJLn-nArH+Gn30Nx7yd63x3bl9I53z38P+X0N57xPxnAJzbwW-byr7psd4ASZRn-ZpbzENb3m7b8r470Py76nkvqHyDzv9BWnbS6XyP4x6IQ7UwdoTLM5qnzQYtL8v7+3dZtNyH3d4YlGCX-ewg3HuJ+FCYw+EgAnzA5aJWYPvSnGpS16e9N65abeuzgHz9kzebkaAaxlR4kV3CBaOAUTAQEoDAc0lcgURzQENwLamAznAX0o70B68DjTGm5AZ6aQqoTWNaPMmEAVBBgxA0quyBHzIxiBuXDgVpFR4DBy+bgNMFVDOyCC9OSXQgZfyAHoVlsJWBAp2lerHwIIxdXTF5SXDIcOAflDcKj00FsQRKxg5GBYLOgVkHYtgztLFXMCOCk0eNVwRWQjAeDzBdabNtUGvpWxrB3AGKiQKrCeAghrUJKqjw7aDAIh9FEIUINaq3BtKvg7QXEKoh-4MqjbUdBaxoCyZ0BQVPnlbRDxHwGA6gEQBwFIAMwZkRAYLFr3prMEB0n-fYsWHeKuCviqQpNP4PdoFCwqmtVKkTFbzYlOhRrGIIGDoDFCyYpQ8ocIEqFu9ghYVaMs0FyCEB5ErgsMh4Ob54QbCzBMgUAPpoDDWYKw+RMgKAHEVahytVPlsN2Iv8DhkVbAV-SjpKDjhCfdCidH6AKBmsJAEPBUH0Zdg2QvwxjGHEMDnohBKjMCG0gh6AjfAwI4kE8E95d934hgNpPvwMDcd20Hwr4dlWhFdgMRssMiMiI1apkGgOIsmCCJwyjpRoz0RXKSKMAAiCIQIskaCKUHgi6RmXUkanDhHX8lwRKFEc4SeAxFqgVI-oDSIZEwjBgHIkEU8FRH+gBRmTd4fiMwhtIc0YKBUZ8JkAjx2YOLBwECgrIaiqAweQ9B8Po6Yi-WOo6kBSJDSajDRaok0bLDx6-Q7RPECHl0RO5CiyA1Il5LSMMhEo8RPEKTnKL3z6jKANov0U6IJF+ikE2QliDENrQWxKQoIDimRz0EYIo4CQ8kOeHaFAh1h3Q1yhEKyEDD3wL6L0MMK0E-dFIlWOuHiR0H4cTBrEKgAsKSqVdJwIY1AgwBsZcR1h7gkYdwFTGNjw66FDiIsnbFUAuIHEXsQ2MiHh0SBQVATjIDrC1AwaEPcEPOL2CLjUB7QIJOOPrE3QIes4mIJ71FADpm0M9MYf2TxJxjzWiYv2NuL7FTi+Qh41IKzBPHcxSBS4VMZlyHFtiOxU1CMM2hlErAIwH4gCdMC-FJARxnEKaougOwjt0IDsYCbBOggxUQeK4hcZTzeFnRD2OUW0bWUSFLhSmgYj9L9DYGUc+g+qeZIwAkF1dZBnA+gNwEj7bjI+6Yw0DSx-FNIaQFeRkGBMYA-j9ADEycVRLomnjiRDQJiX0KUFsTG8c4tCVvzmpETMgnvPmlhIuJhjJJOCd3CRJVDS8609cadOvXuHHQDOHPPSeokPagAlqAACSVYMAAAguAHABKsAASktUgAAB5LVsgCBBOVZKjUSQGoHmQ0SCiekxZP2LQxKCkMLyHSXXGCmoFMuB6KKX30CkjFuJIPA9J0GQJJSjQqPNKZkACkaQgpFZSydZLskOTnJbkjydlIHAJSZB+U5KQaNikkCD0toqKROizBToUp9PTKXQHchqipyGKOtHlLkFGgYpSQUKRWTVErZNRkRZPKmK2q74ViagEwCajmKCSXEs08yC2JCn3iiRvkyCYNNonvARpCbbaQe0kBxB-0w2BwKNEZAAAGE4D5JqD2RtEF05PrFGoCDAlYF03IFdO0BAg8M309iqQHBp4gTSSKf6bvVGio9lsj0vNLWORgRC8Mr0qqO9MMFwQIQv-VmIjKN7AJ3p49GsXB00kXhQisMh0KkGqBEZmwspY0C9OxlvTTQH6f6s9I4BfCfMdMlKETTBQYiXkDGNgKqkUFcEi8TQ+oYZCWzJC0gjM6wfMPOnMykZOUFGTcTfFozEBA2VmFzIYA8zVUpwzcNGTVkazLhV-BWeHyeEDDdZnQVVNhnQoVBvhoQQRHr1oHF1dBdY5iTHg6SmzeZHtUupbnbB5oPZnsrQgYH6RBIIhjoO4WXSkosZ+h1hW4S0P9CZiOhZYtNgEI-5jTI5Yc8DkMJYCjCigpQecYRFgnhhAg3Ms2aWMsFuC9Cmc64ZHX-AgCY5DNIvAgPCBV0myxAIue7LUpygDozc1uaqmkqs9m8jUN6sQEeGR0TZhc9WcXILSZUqx2VIUJUl5qQI-g+MvQWuDGlUyBAWYj4p0MTnu18x4k-2foF+ZFjPwUoTYfTUWgOALqEEzsVvO7Fli-8iEwoCvO2n1so6Owt-j7LXC-gM8eASEL-IkJtDOh8c0udvLzGdAU5IYRaIfI7BgwSxHgjoqt0vm8SghD8woF2PLk9iUFiYRYdBGMjTzZ26QtgOAunq3DXwVsvonlhcRPzd5SVcKj-L-kCykUqEtcehNfnRyIFYA6sQQqIXT5IBLEC+WjSvlTVCAC4O8M7KaICRZxuXVcRwEp7LjpF64k7oHKyDCLoWpIPcXpUfE+zhFjc2HHgrJizypozcReSop4CiLsFoXVIMePPQQ9YxBi+edQGMV3gTFIQypmAF-mQhNFz4tpJFx5gswlwhANRS9zoCILRxv4ouNopAmFA-xpISJbEH4W4heJ3aPkSJOmDdoYlmC6YMhM95MKZFznaMewNFzzImZZef9PRNF4bZWxo00AGJKSpryVAz0RgKhkZCBBiZ1gsmShmIz-F3i8S9ie7jkITgelvE-iZUoTYPyEM64dUsPGrLFKdpoYGpQOPCnBKBFUkqRTJJdG-RUBcBGXljwpnaUCMvxBpTMplFKTJA2EsMT0sbymSzpRUhgI5MsgAAZJVp5PklsB7pgVPyc41QxwpuJq8oQRFLTb1ojpcUqqWOjDhfKgVnvHKY2HBXOCXAUK4pXCkKlWTblDyp5ZVJAjVSEVQKkgRNN7aztk8TUsMS1MnTjIOpD88EKhh6l+j4Q+-QlUei855doM-6KlfSpZ7oVU24Kn5dtJxV+jJpVAaaduCaWZMViqbTBKhl2XQt6pVS5+snj+p7TOVUq46chIwmEMXkJPPieUq5WP1IxPK+lXyq1HYh86LtYVX2FxUzsyY3o1+gNNWlwphlW0mVehEIkcr-0tqzVYqrGmkttV9KwmQoW2XY9ReoUo0faLqWtBcW16SQI7BEEarZef+cEL6pJ7H118R819HxNVwVjqQZbZmeqpJ6Bq1Rs1ZoKGocAXR2KH2aNbj1zWRj2VfA4pYIlID7Tycq03zuKsbXCTSg0g4pVvi6kg921q0ztbVPoCwrBA1a3tS2uIgfBggLyVaYnKil9qhpdADElFDYA1S51QJG5SVKckuT3J4APyGuvskbrypzyp7l1O4CETTYy6g6abnuHggMQeSyCuwOrXirsMOccdYEBrX+CZ1FsjMe8TPUIrGQNyu5Y8u3Xkh-1qKw9UuFQwnrmmP6r5RiUWjXqDU6FUUIbTeBotlcy+B0QKnQ2o8lCKG8uG7ylwDDThCnXDDghAi4aUQqggjfcMoGEBiNJ5Q2sFFQ0O50NJA1kVhsZSBUr6jGvDSxqEFEbB1GxbjRRvw2eCi47Gu9eYBqBiBrEZMdVbxqUH8b0KKG-AOTPI0rsK13q1jSQTZRsUmNcbNTWoXUW6wg1CgT3spvJkbEDNe2OgHprUIgT41ovUYtigM3FrbNqtLAE6RTxeqPh6iUqBCAp5icHNsvW6uZvnVvKwUjGlTWtJSBuaNNPmrTUvR01Ca42yWwzYDldGhdAZno6nH8MGDJ4gtOypQqlvDIxby4qte8SZqmKea0RMRSLRZtI2nxStwm1Le5uq3bhvN9o12H5uvWkBAtWyhNb2Ji1Rb72hsKTbJklxxbg1QgiacGIFUThJFO+DzQaDY39bHNY2ocn6p27uaUlsQE5QVhUn0qP6HvNrWeL21nLDtMVDzYBFuK-RIIlNP2pWsZTdbaefW0LFoD9W3V1t1EIsvXBMD8BRB9QoQViXQHHtT2PwW9qRXyXmBV+dvB3njQm0Va81RYe+rytm2b5FIC2xSL9pY61J1IzAWaCB1qRI1vu5WwoUjWmrBDymsEzejmG4AZKMB-eTnBxAdlj5MOV2zzeCBh0n8mKY-AbGdoO3GjLtoYG7ZkC3YdaeI+MbrVzvX6l5Xt1Wd7QNtADS64dGQ+6eeBuDjo9GjGRkAAE4TghsLXeyjDFUaYgBu9iPoxM21pRobMZIp7OYIV1f49NEAa+BcCNkbpfs2IIbv0CQ9IeFkNAP7sTXEKLctcwoF7t9ER1pghuy3XEnWgTTVEf+FwF5F-LeFjZnu83Yxmj3W7qSGuxrSFH0aEz6MjGZjLZkpITrJtPEGcQ9vpWS7+A-mtgAxiYxMAWMcug-B9olz16i9TeswUWTP6pB1V1QUqKuDICPRIEwrENYyGr6+Ba+ve6dL1zfBud+AaHI4GypKJW4VkpAEfXy1S6qRIEdVeOPTS93ghPIXkXvdUtF7ugF9AgPnJEwRDCSvdgPTba0GOA3Dg9DEV8FOu4GTq+BUoJ-Z7PbV4ZCsI64dV1J+J8SI9MQV8Ovs33D5t9QIP5GuNmhbwQ9aevPYxghDH7PITIOdUOv4HX7j9vkF-SeB8Kn0Vgh+jA5gZJ4XgOJjLcg55ED0oHtGRuw7YZAmlzb2txqxbdHgf3qrEJeOleITuRitBQpJ62nY1GaYt0ZRBW7HkCkwmnKBdx6GVPtwgFFklCQgQwPZHWgD7+As6d4q0An3lKa+zAGPrP3j5nctDAgG6svp2Ln05YQJKQ3xJkOdplJJmqIsRNg1F4maQVJqpTnBB2QN8kEs6DuPIBSR-wLefntL371yl+DsmIQ0ly8N-4KdYhmIi3TeEFZX1U699WOlnUHTE+78qKY2kbWey50fgRkMSranjJG1mtc8Cx3bIpwp1aon1gHjpXGjugnU-td1N6nXC-NrR6OF1JZUfDtyfYI9e0cg0xEajLSkCPUcjHACSDPCnyS+peR4ZMjgKp9cRBoaKrGQ4ypDC3E-X7zRQ+R4xYqpMIu53i86IEGUdxDtSjjVR94uMZTh4YGj1raPM0ePQ9GKVzKzo5rW6PbALEHx6lVJ0xmlKatmTO496QePTHn+wep4RFF72bbIeEg-QCJIAA6WAZteaqYD4AVswQLzjKj8ZnM5Q0EX3aJCgO818BWAWE+qvhOBTETxIlE2ietkYmsTd3adGjN4Crg-8PQVmGydAAAAvINqABRNFA8VZMJrDIGxOJGegfJgkzpCJPggSTxgQqFBElhX01DGh6cPCfROinxT4zT7uTzE4sAxOygMTpT0mCQ8nQeACk45o1MMmtTzJnUwU1qbBHuyhp40yz1lO+QgAA')">function store_assertion_in_index(assertion) {
    if (is_indexable(assertion)) {
        const key = index_key_of(assertion);
        const current_assertion_stream =
                    get_stream(key, "assertion-stream");
        put(key, "assertion-stream",
            pair(assertion, () => current_assertion_stream));
    } else {
    }
}
function store_rule_in_index(rule) {
    const pattern = conclusion(rule);
    if (is_indexable(pattern)) {
        const key = index_key_of(pattern);
        const current_rule_stream =
                    get_stream(key, "rule-stream");
        put(key, "rule-stream",
            pair(rule, () => current_rule_stream));
    } else {
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p42' class='permalink'></a><p>
      The following
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      define how the data-base index is used.  A pattern (an assertion or a rule
      conclusion) will be stored in the table if it starts with a variable or a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (indexable? pat)
  (or (constant-symbol? (car pat))
      (var? (car pat))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDPEicagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBOBSjodEoUWIJL0MqScrMCsJUlp11kjLJGtZ+sNxtN5C5uJ1-NdRpNiVCwsyapqGt+lK2ityyrBaiVqhVob2mv0WqOfLEfvdgfm0kWknkAA9NJYDeNzRH-lG7Amk4m45W07iMycbZI2qRpEplATIdCKdXAe27fSHXcUayNPRznoO-Iuz2lASub5-I0mtjLvbbv3nqAWfMIkpnDl54ve+NVylhj6xJ3u5faEGRWoUVWrTWETGG6rVHXG3fNN0zvOwHyXAk5gWT5i1LeRy1oPcP02YdvyRX81HrID01bXUQm7FwWiUQsSzLQ1EPfQdP1Qs4LjpBkJyhfcWQI5wiJIuCEOIL0eVA0BWPY0FlBJKYXxDOgkKolDqRYJRNHuYNRXFSUOReAC-2w718X5ATiMyFpBUky1rTQ2M-ywpjgJbPiQmtUJzgUD0jNSEzaO3Mdd0nA87LCZd5A9Hjb20sQ7NgsiK0o4yv3Ut9LJwmypGnFo5HGFRnKHak3Po8c9ynWhkoJFQOPC2hr3XDcaTondGS8lkkpS2git8xzEkC3D+XqwqZjg5LSD89LqOpcdJEsfBctAHgQOCnZ8oa9kZmnOh5AAR0WM1Ipcr9htG8b+CmzMZuIArUpmFQpnZKhZiWDb5S224RvacaAGZ4um4EltW3RSGuyypNc20qo8mqmNZD61u+tq+NkgBrT4wa+n7HjoZCTJyll4bITkXhRZGtIOgUVvBuGHP8xIJMi8xNtQmKkP2tsCHBMJ7L8pycZR6KfzZvH6bLchmZavRyaY5G-q-CykbpvCpH8zRyEFUJCYRvcRaimiHEISplcl-l8P1PnmtJ9bhfZtXJQ1zDAON178YyaRqFIaGBsGoEsuqxjHlZU97ehyG3q9h3JH0wybtu6mf3FzVrLekI5M0WQ+r7EPpJdgH3IY8aWVj+PlyvbWxFA4r4PI-Ik5MmmgO53UeyiQuuKFgdVepGmI6snl2tOKQj1UWDkOTkdAfT2DWQAfja3AwFAhh8GYNgoDgRBkHQPgeF5en5DzQh+qdZlQF0WYTcyqRJkUNLt68DY0mH-i5BPmYN9JdUigvoIAC5gSlB+wyfiqr7t6hocIJoMSop74KVfGKCUH9KwvD3voZ+gQ34x00HHSgCcKxnwMPA8wV8s6GXXgsfqBcwpF3QY-LwMDiD7yeFgiqw1lL3wktXWuxcJIYP0BQ-ecCACQZhEFSGoJoE+5BqCMEkNUZwkQc6ITYTQ0AV98H5n6gIoRIixGsAkRdcYXxqCSCzqgqR+Q2EcLgRVPhaijpzVPmQzBP9d55nMcdRqyZajGNkWY3SzDSFf3PrYmGnxQKqA8UJDkokhSvlYdY9hsiKppA8UHaBu9KEmI3GYjG31KyyPkfYtJ11FaY35obcgETvEGFcaY4E-tHYyNsQowOdsHbmjKSk4EPkSZOWqRuLJRVWks0SI0xJ+83F6nLDmM0HTGhdNOiMgMYzrFNMaGY8CT5DGRMyXYoqSyDH9NgUMxQzAIQYNZAAVWINDYg1AADudghR6CUEWUAABaB56zFEKDHnxXBqhhAvGrirVIlB8CgFUCEUslAWApSupIAJwg0xSVDtSXBIIIjgsuv46aXySA-MYFEXGqRBi72kEtcQgLgWJQ8K0KF6KYW9zMItcgmw6Aa3paiF5m8FAYoOoHagBkOVRJify0oxYFBHULJQ8EtAnLRIFRVAuwSRKKAkjC6h0qVVBF+cq1VmqiFiuYDMu41LuRpH+g9YcUF8xLDLEy5JMSr52XvuY4VdxLXSBsfyt+rR2idBaAMcw+L5CEvkHCsweyREcuOac85VyCBvTloIx5zzcE8V9W3PidCJQMO7iWOgxig0mVkvJauoBUQAD5WX9WrsYmBWbrZr3sZ1E62yklwuNeEQg7w8Eby3rNLqSKuj6PZUYgZaZomTLZQ-CxPbFp5LuIOnZMS34KLHe4CdJ1dEusUJoq6CTYFR3xrUnJysc2WmJUCkIMs5YK0+pjLWNL4VAg9R0BI3qNh+oDSe0lMg9YFNZlbINpQTKLsIYzfWbS+lsyeDul9BKiXHsCHShmjAmYojNYsItoApWAfZR0RDIHelGwlhBpJPrSgAtPVIO10EvnAfso8FD8hYWwf-V+bDSGmJ0eI2kV9MGpUAeyXk9JUrqysbw0UrWhH94caCMMQIwxtRvTTZIEg2Yn2qA-n8jKQJ82qY5EW0tLIABUSnpldH0yyF4ama26joH1YgYo23nkfAY4pKZe6kY-Qetht7aW0DCAKYWaGcnfrJpWSTGn2znvlgetmgmzBXwqNIGLoA36x10MiGzdm+abIJIq6jBsf0Sz5ZqtI1m8gZYcxBcYElEsCr8ZeomqheZBcFje5sUH-XccaMarLXiXNSt-rubrz4wkhibFKt+8XJOydXrqWplTG37zhfBoOaHKlcp5WwyT8H6kqAYCykrtnqD2cG-QVQQdDXmHg0Zt0T7dvXyZspK7-ouiBPtjt87zs7CYaWEHKtwr6R73FXql7fVCUaqK+DtIj3jRdGzehiH8PAiwMs-yWpPSBYzrmUO5tX5asUfNaoRLX2Gs1k8dIyJxjkdiFqcp9pmPYGLZ8-S++aGic09zNBUnKySnsKHZJ5TwC76UbZ3OYb2QEn32MZJky99d21o2QuRzfZDlY+PSEAux3Kw8MpoEUdhDprleWdo8xvk5wa6MYTpJGxkvTIF3R1Qx2BcJOqxVInDv7XEK4tA53RWkctjwJPJgrB2Dzy4EvNAT1ps61tIwNtbxDJFl7sazI2Rcj5AT3D2x9z0QstbYG6JC7GD7NUEWT2WQch5F3iWBcCgWgvEsN9SgV0Wgv3eW9WrAS5VWAVS8H7KvIyoTRmSCloEzPVc71MWHvfINBRtmSmow+qWJ6-K7IG+q8rz5FSPvOdhZVLnlYhr5S+B-3R2vgF4k1K78gLvE-AR+hon8emf0Ae1L-531wD3VTlb-Y+P0zU-LwXpZddRccSdQFpxHU78gQ0Y8dFgzNQBwCihX92wYClh75ID+404coJdvJQDoJfZ8YUCHU+k0Cf8m5w5Gw0DKdPsyA7ZDRohRVZhAcnJ6dj0TJ6xp924d9qNp4ORu4m1WCOZ0IOC+IvpaDPhnBDIeCSQj11gwtQBQRwQvlhJ5BJceR4N3gYI4gL0P8JVEg0MJtI8xB29lCwFxIXgGF0D5CwQIRRdQdQALCkCmAOQBdFVlDfhZC71awfwpD6NHCfC6NXCOR3DtdPDXhGwfCqDK8-sGCmCwNFI7C8xJ99QYJ+D+8hpdAoh3hTDsgRZs9+IMisjEjrUJkrDFDjDeDbDYciie9kiGDijSg34chogsjKjDAAAefI5ot4VQIowTeRQvUNFkAAFSyFAFkmIEFFAGricDJgFEARQS6DfhZFAAAGoM9wcwgIhogAVg54iRY1i4Dli1jvdzBNjIgogdiei3t6iFld4BiIRhjRj8B5ALkpjsUZjBY5jkFZBFiDxVj1iiszjtj8BdjwlDADjWR-iTizAgSLiQSrjCVWs5N8Y-4AEgFbC7dbCj0NgRDKEZAsh5IWCsE+J9tsiEi3s-0jVl91ZNZWiTj5E8S-55JoTzBRDqA6Ca4dCgckcTi35bCi0MQEw6T4cr4Exej4c+SbMMIyTkYXh6wij3spMsE3M94BSc8sQIsYjP8ihKSggQ0bD4jw1MhWhQAP4k1SguNA1GM0h4MfC0MWM+YfC+CJMeMvxST-DKilCgiwd4d-CM0IjFSZMX00igQ958SBFnTIj+cMTQEsT7CVBsTAhcTZhwzCTUjGgSSpTKjzCKTrSghjV4sZSbialGSCSCcIc2SOStTdCzQeTVU+T4i1TTIizvcr4lo+YxSdsczpBiz50BQpSsI9ied5TrjQtfUAT0gSVVS8iNDCwtD5YuSPQvM9T7iySjTDsjpTSdMnkpjpkApAzxz2srSpVbTlD7TuCTDIN+UTJ3TlCXCvSSRCsEc-ToJAjHyDyzBpNk05CwymTIy-cJ5pop4Z5g9OBF5eAMBDD2xQUUVG80UDpeVRZTZRx05vkDwYKIVORt95DkVMLJAwU45CktkYUkKyD0J6xqUWx4MMLUVKUDpbscp4E0YlQ4DzAlQBUnzAg0YkxWKzAkwOKfTzA0YFDGBeLSjGABKmLdwWJbgxLxxJLSg0ZyhzY4DlLKgKpOKhLpLko6A44lBBQ4CdK9LJiNxNKzA0Z9TeL9T+UzK7s7gWRZJ3hdFnA6AzNHK3hnKGBGhbK0YVixLzBi8XhBRDAS1QB7k1iTKfLpKHl-KzBArQBgrdMwrHkEqzAorGQDNYqgUS8EqQrS17l9NUrQB0r7LgAsr4rErQr7kwBIrBLzLpKABScqnKyq-K0ABqoqkq1QFkbPfyiqvK5KvI4Kuquy7qgAQnRD6paoGvuQmpZWGqkoyraOaqCpmtAA6LMAWsUukraNRFiv6qSvuV2s2q6pZGLRWtysOtAFLROpGrRmLT2peCCAOqquupZVyruukrGqyuSsCFCrMDGvMAT3gW5GotwtooLkqKLSwS0yVBeBorgrorbFxTBrBTwoLmoGcAACtq9dsYa5IOUkrhLwa4K4CaYDURqggEbIVJ5uQsBUbYLIU6U8gik0Mco0YH0vU4DOan1bKEcuLpLIBiBH05ADKnqhaRa5Y+b+b6qMr3LJBYBIBeL5bFbpaZa0Z5aABRMSrWtW-mtGAAOSUANqyqNoNt7JltBsZxwrRtouZpFz2OhsaC00BVCoTFv3hpJqZsZxZpRutups+Htr5gYSdtKBdqSvJrTE9ttsRqDtxU4KmO+PlgDqRr7DQurnHEsMRUiEUyOkUGkEFHOMkCxqUHmGswiFlnLJVRToIpyA9GIpID1rVWxUzr6CCBTTenbMAWrKB0sKFVSx7slRVRSyOlUBTshr2JeBZJtsZsDp9odrBMptKBHu6HHv10xpxooFh2npTqDoCKbvMFnM1MXMQLbhyHpVnKiDtmcCKhPr0ACy2CATvruDpv9yAsD1ng4AXm4EwCgvgNoHCCUAoEkE+jCC0VkkYEdiPEoBPByEsOUpcDcBpmgdgfo2HRKObgoJ7BgdPDQfBIPEkCOL8y2LhMMmQewdQeAiwTfnIePFwaRITuqFkgVmCRr0hBIfU1CKAdICcA1n6nuB+VIFIAGoYDWNUG4abJZGWKvikaSwPEhLWO4YPo3CkexnCHONxRn3phICEiWnYfOKxRxUMdzt0fo2MC4RDOuXUeiH+JZG6v+KYeIiWlYeey0yYR0Z7CWkMeRnwa5BZEcI8cQ0+CmBYHEexXgZpLUGrl7JkfixZGoeBBymidADhFkQ-ULPrGieKB8GbMyfCcMDmoPFHhiaBQTGSbyJZFHhHX-r0GUGAdAcgggcdmifzzI10W+P7QrGSdSYFSJGlCIVIhIUQiyYttiwPHsbWMCaWi+EUFCbKexUYXyfwcE2WKIYxOUigQGc4mLjCZ+GWYFVWf+KmeCdmf-HIL-F+V2eAnBJWf0Hib7OOe6vHDgIrVAGOZmcYBYHQYaOBBEquawSvkeZZBErgJynmZ+DlMbCyZeHeZCd7NSWsZiBaZKJZAAHIiHC0Dj0WEnYTLjomAniBTGQHFhGBDJPpSWImzZNYSREGIQExyWtqZbRrM4jpDiRFDjzlPQXQDRFAuXvINYsLvnL43nCXPGlh6WSXhqwi-wGWedYXZn4WRXTGzn0JZXIWZXJW5XRWgniXFBgqgD+QS6y7SAK7g6OdSx7Yi5M1NBKW9E0FEIe4AXmW7WDE4CtmSp8ge4l60gtMjX9QTXKBZY6MkVLWDRvHrWqHbi+mlhHWSi0ZR5sZ4iIEVJpQe5FXYIDWxAGWgxbkiwQ3voDQI24U3MkEUF7XPWSwGNn5bT9d+SWUsF1nIFeD3WhmK2bWDywbQ2lp6Rfk0MtNs2blzg82LWC3YdLm02xyTIJ7XxJGQWnW-mEwR2i5rhfkecaYl2eWe2FnI2fnp2QxJHnn53mBR2V2FmEm93shJG-Xy7A2zXzV7nSgr4-mL3pBvWghfXS7-XTXg2N2x2FmI2hXX5xKOU2wBdPau3T2cVFTLT31o2AO-1UZpKE2BQk2NneCJ22s31GMAMSxJsO78ZY0Y3K3SCU4QRrCI2nWExY2fn9TrXw0zlLlPtBmuJXhBRBF8D6YEDmse4SPoLyPqPhX2DK2EnaOh4DwTkGOo0Pdi4anHVXKoyeXGBIJhFA5PgkQ2hugeOBDUJCOi2KnXReX-HeI3p1PdFFPIJ4ktPLHmyuPRMMPDg8BlFDdzhcH4a20pjNyrhyBx4P74C3g5IphQAnogUlp6Ynpw9w84EE7XR7ZVBYZBQ68FwREWhOGPt35zZicNBGAUvRm5ERW2hH0uhWnCY0p4u1IfwEx69kufHcuxnKukvsvkZBNrc6BYuyvpW1AqvGuGGE7asXOchVBe4ttXsZh+vA0WU0Z9MxvTNFTU0sg0S4v5B5YeAXh4vJA9pdT4NGVnAxu0MYvSBFvlv1W1BttRvKGPzYPmg87CvkRCAdvzvdS5CeaugxzPzoNjz+V4MuuWg9uDQ2ulv1vjv7g7uxvWtrzqTc6CuvVMvkvavH38vPUn1eSOuYfsuLuvzPycTo56BeXDvJAVvQA1v+BuzFhlytuQfUHfvWuDu1uCf6xTvsR6GLuS2ruoeVNtvQflzAh2zsQ-wGexu32Ko-mcpaf4byOieSe0HBfpV6eRvGe4GweLT3vHuLtrbvuqf-v5ZieUeOfzvXuygSUQhnvuhvuq20gtdisrBee3wKfXOsALeIc-m-mJf4zzVlHVUsJbeFfuQHeYO8zGgef6xvvJeLugzGgMfQAI++IjLlxSBuivndS80D35vAEH2BVf4U-NBEs342AKnIglolO0-pUr58-eXncC8i8WB6PI07AnODF40wjcHzTMe5CY-yA4+qLra6-lPKeWU+vUHBuBh4MvO0Nu+tExunnM+eJqL3OWUx-nwJ+WRS-C+6aoYlBYZA5Ihkpogri6GcgQ-ePgOUHXPXfSfHCNFt+a5j+BuL-zjLCExb-ohsLH+r-KMX-LD6x3-z+t+i6c6nTr+VCThR8of32678cG+-IAb4WM57oiwf2MAag0l4vAIih-P5rVhf7wCT+aBJAW4UzaEgZwLNGBuyjE4+EYWxAY0iKiPCSB-OR0HIIwF7h8QNAmgPBMRzzIs8oIEINNir28wzhQAL-FbD-3oJ-9LyJYbAUEX15yEje13aHu-3pIityB9ISgdQJaC0C6OkAuHmkDfiMDDIL-O3O-3R7K82BfzTgf71CJ-MtBKrTTpWx5zmChO7bfQUeS4F9xK8mgfXhHwj4mRzBPcXAcQ1yAsB2mgiEVG0G7CChnsdAAnkEP0rXA6AG3bTofCpZvhJoTrCISEPpDRDBuCTBdpzEmjS84qIjcIL4P8ED1khoQ-IcSGt73Bsh09eHMUNSF7RsKkQKYOXkhQ1CKhLwGoaEBiHWc1KCQkpu0LSGKtMh6EMIe70G5JUGh+dXIM0P9SRDugfQ-gINxyExJRhoVTYgUKwiTQeuJJUoX4PwDdgoQBNNCqlycG7DlwwqeyJYGJDsMChLtTFAKAYZ8QTh5AM4asMuEvCE+sQ0joWTeElN4sCTcYYwCaGfAWhUqIUtsKbrLDS0jw54dsKuFlCLIFwr5psLej90RUAKY3LcGIIUMT+REfcMgOPRLYBBUQfgRYkEG2Z-+WIiARESlwQ9jep2Qkbl3kSwDUsGAiATiNEGPlWmoIJ4RukkCOU4+dIkka-3xzv82hy4dkVAORL0wuR50XkbH26JcjRRuItwofztIVN8AcYLoMsSdYsh1RqoTUSJ1WhpQFRoAHEYYCdZ2kzAfwzuD2DHrLgzRJRFEfSDRGLQMRZoY0WyLUFWiyOihLkbCHhAgpyOpo+dqcJ5F8jui9YX0YsI3D1hTRUYxoNKNDFyiLBto0pFUJVQJhYxaY6VAGQSY6iNRLQIzpKKsznFz6Q2GEeng+F2A-mOVCEaaXNiRE4+C4aGLolswGclOXTczuMBeDZtjR2bPERsHgxhiHojKF1GhgTG2BZR7fboj2LFG7kC+BIKeky2lR9icB1nIcc6mZQYg8xeogsU61+G3EOSpY2zG8NUDrj4IVqbwYQGmZb9iwKYylrCWTG+jIiXnc4b4MO4E94unQuDNbVuxed3xq3Jbi-i6Gs9EeoQwwHFnNhyM6A3gm8XmzW7ig7xDOHgfFzQyLs7R1I02F3Hi7gSimyxN+PFxbDn1QAQxAABKa1JAAAQXADgBNaAAJSGKQAAA8gbWQAsoDCCdZ4lOLM7zjKsKY86OKMsJXjPgsEviRuhKYvjYJK7TsT5lEm2BFWL4lQFMh4k+ZHCCkyoNxN5a8TLCpE8iVRJon0SmJLE1SVb0kk9tpJJ2cccQEsIviTxsEyQPBLGiWSecmccyQ8jeGt58Yj6MycpIskhjbAAkw-m8KhR7CtMMWHEU4F0zO5GxAcUrG2L7DhSq+Vhbkf5LUE5DOJcfDSe2JkmWSBJOEIiTHjPAaASAgXFlAAAYBgCdBIBchGgCt-B2cSCJQG6CJ5apRUvQIoDQwFS56xU9qWsR4AYTqQnUtRN1MYCOFasVU9geANQIUjABg0l1g1JaCWE-mlTOAn81mkdNy2+FWvCjwAGtwix-ISwB-AmmoMpAkQBrAKyG5q9apc0rRI1P0IvEapZ4a6c+EamD8seBHSwJ8AuQqBHYVnTrBDy7g8c+sYxdfp8HGkADVBa0stgYk2m1czERg4Tvyifbkd8hn076cmLTZxi+KH0yQF9OkCOxbBO7cpBm2DJyEUZOMtGZ1MiJtAAhKXMUG2xzJ79AB-YpMjGmxm4yfpy5NgQDLN4xIVShotQAAJgQ8zpUbBGPPIHEGHksO1WJbMSMv74UyRl5ASRLKpKmxaRzgdQZ0gIA7Z5AVQt+GTPZkCi5ZoCdWaH2TRcI-erpU2EYPtEqor4+stGVR1hR+BXgbMtGewUA5uotZAaVwSTNCL2y8ZEbbwY6PwoShtA5YXBiyMAF5gAp+I62nwJZQ6ChBvBQWWoMkxuZAakgtns9j0GJ8vwJAHYpOP5E6DjZ9IxcUuNd5KyASMHLmTaLzAMYEceAfTE3KwQEjBRss3-grOTkJlU5WCEyBnJAk3dDZd-RLIC2IAFywxkczGTEmLlv9S5WYpMm4Wz5RFmRKc6OT3JkwGCSU1M1LPwnyBryU5AZNYI3Obl-TUI24nIAWMmzK88yOHOAavO7lUjgye0sQPnJBKFz5RBPTQNr2ZmhFVRW43URfKL464DwAC-UbcRK5qBNAn8vaOaOUJeiu4UCm2cK2Dloiw5hoCOVAvhrfzF5Uba0RCC-lIKggjI6IqgvZLoKBuX8+GgT2QGgBj5+mL0U70mgpN-RUgJ3jApKKvz5YE8iMZUIRwRi9oU88wJwvfmPjeF5ctIIuwEXzyMybhRVufM1EwTyMArSECJkpYoUcoeWHeCyE6kcddQ04LsFeIrCUzD+NMSmdhUGnxJjFlY9LprHrBB9zpHs7BM62kBfTBQ0eWAoq0wZ-gzFUZJOrogekWoBW3YyVmR2SnEBglerKFMqNjk8CuwqeAJR1N0DOEABJ0-IJTM2zW1hFG4tDIJmEUTyZxYSwRUEH0X5gdmcS0rJTKKWBAVxYg6zlkvPGji1R+YoBU4v3E0dO0CgXVqSzOlnh4k5S2zJUuqyHirAZYhEaoHqUjjI4Z9KwMRLImSBaJRyAADKa1WJdYyoBVIeFWAMpnUiSDlLUGH8hJ8stoEWFklWSnWEkvOkWGuA7LTl8kq3opICUSRsKakmYDcu0lzKFlyy8AMZL5imTHltywKdsMKGj0YsNkmEXZIcm3Kql5gbRQKzcnbCuQOQsFWMuWmshOp8KhEVyF8Vxx5YNyvZT-LS5BTHhoUkWQKySrO5EUxETqT0sAH4q3CaUrZR5TxV+TwlagyIoaDiBngGWqgApfxMgGvjiQlhIlSFIJrEkzyoVKVEFJXrzhghz2arF5MynZYeVISuld6Wqy1jEUNy3lRulymU0PSYIoOR0s+DcqGW4ogVe8IHHW1lowgNDH+N05qsDwX2LpQZUVLGpaR1qxutUw5WEVnVyqvVmau+GtMPVKyNqc1gdX6qER7K4RJYEVU3TbMIkuKeMFcyG9UlxygfomtoDCzil1tFCSyghUA8EJGaqyfr3gw8NC8gYIteatDpFZkVb49ri5J8kYrfBzfKmm2kO7ctG17kwXn8yLUvBaxZag6XzErXfDoO18p+QnTCAiJPgg0nOiJKsWWqeBlktDCUsMWIR0lGwNgbBIH5OSyeOapbmhnzXywEJTkktdbQHWBhBpbw6tZqlrWXD616K9yRd00Btr71cKrtVKlWlBKgUA1c9XOEvVgjR1Dg49FNmi4tB6Qg01REWvEbmTKW1KotYQuAWmc4NMGhJqZyg3wbHCaG8ydBp8m9xJ1MaytbOsuU4bNJmajJTwOyDeTSN9ANDDpMonUS6JDE5id8o2B0a9JjGwyasp7XmS+1A1SjbGp8yuqvwLIf+IWNA3gblF867ntGunW1SiNxymlYqXgz8adltGj5UspWWSY6NnylZWOPI6dTeNSVFTQK1xRyERNPsRRXOVljyxpwWNdFLBCOEFkMuDm7Cg6XMR2aRA1rRzYIUsGaBNGCdRrLZvxASQXNh-Wwf5oShWaL0OlDzW2C82UtCyLmvwtRhi34h4tJin8ElugE8x4ImWCQLFrs7VowtjYLLVo11AJAogfkekNytC3WKqO1abwbZuoCnSgtIgWHBGt8GUtNSrWuLT1qKQlMOtxIBJk1tOmBbaABWiJMQAm3u9WSRq31W5r63Lppt1CB3r6TvIjqWwz6+ynkALGsgnVDLOAiNuLV-0YtzW-IKlra0BqwRh-M9POQ7D5b0UF2rej8PNh-C2pAIyYUCOmEpCq6-KfbZKyow4Z7tdAArfbge1taecg2r5itrSC1jTto23LcDom1g6QdwWqJKtpVRQ6GGW27quyz21zaDtbQ-LWdtX5vQKt5aBZldsjWAqERwU5cCSoFSqji09vDcN0O7gE6Ad5OmvL6tXbQqA+JYkZceJhEBluEms4ZcIiF1jKIi9vHhONnNgw6ggWO3EDjrZDUA+WLIf7XqzgJc6oBCdYsAuDbREcbWh-InGJ0vrX1b6OqGsgYG8HXsA2QbUBOqn5XfCqIN5IFcStFUxImd0SfXTw3ZT59ZwVAfqCyXBaylIBRSnokgLypVDaOswMueXJZASca+SU+MhJR3JHEZdq2lkHbu-b3wsVDIgUALol3mqHy9GVpvFjfZK6eQKunPbezoyHFNdpLOArXod3QQ6ag4u5MDuMpoYAAnAMGj4SBjKJeo4QPt0rBDzV+FKYJCHMycyU18QyEFmo3kOC3MdgPIqVK57mAjKwQ1QKi1Rasg0AB+ltUvqln8ot9+lZMWEEV4VQz9kWIFTfBsJAqLIPOOwM8gvxYI3BGwG-RPvv0CNgZebG-VGRcX6V3FSwf0FOqp2daVR627YcrrbWZwgDbir4GLIb0c6tdPyBAyAdJ34xf2vqyIFtvMKKBMghoKWkhN8zLQ0MA7QULm3zZWtlWeB9zgcT6BYq05JKK6IwCIOi1QAhTdGHqL0Crg8yN+7qk8meS-tQADLcQIS3c7xoYq-QCcpvsH3b73mJq5sJH2vkR83MlalTq4F0Rgbnsy0RfeYCQ21TIN2GrDT5LWxksr9BvIFGwY4NywuDW4w0E0U9Ab6zAghlkMIZ3JFqpiuhn7p4aeRehVDQGtwWOsaDuH-DzycQxuIYARGZD+vL-SeMlVAqGd2Y8VczohxKGAdaYgPQQP6jLRxRfauPQQAGqcIoxjesltjCL2jK3x8Wa5nh2flcEgdeQOgBcjcD0GLQC6sgxQZCWDtO9v7W0UE2BSSH6UjB5g50fpQ+Fbs5RnlZUeiBHiS9tRoTabELKTGSmqu4GVOPOImjlwSgeJlwndTatpm3KnI3oEIFLB8jzZVY4Uaj1JVOElmrdRgrtE3apAD4tCZqDXDAgu4bxnrjge5Wos4pqgcuQAB0sAcG5BAPRU74AREoTCvQlVWqwoVUe+g8LYfZJYUBgvxgHf8fM6AmlxIJsEzTKNxQnPmtoxQoQHMI84EuwHMk6AAABeUdMwCCbVTgmRUkJ6E5HrhO0ngI4OJE4eEIOomeIWuEYNRmaOtGIQ-x5k-SFZPEmWqLwNGLsc9iHFSAhxAsWmFRbcg8AGJvVjvulVSnQmMp51ocWcCKnlTWKnk16CAA')">function is_indexable(pat) {
    return is_string(head(pat)) || is_var(head(pat));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p43' class='permalink'></a><p>
      The key under which a pattern is stored in the table is either
      
	<span style="color:green"><kbd>?</kbd></span>
	<span style="color:blue"><kbd>"?"</kbd></span>
      
      (if it starts with a variable) or the
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      with which it starts.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (index-key-of pat)
  (let ((key (car pat)))
    (if (var? key) '? key)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDPEicagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBOBSjodEoUWIJL0MqScrMCsJUlp11kjLJGtZ+sNxtN5C5uJ1-NdRpNiVCwsyapqGt+lK2ityyrBaiVqhVob2mv0WqOfLEfvdgfm0kWknkAA9NJYDeNzRH-lG7Amk4m45W07iMycbZI2qRpEplATIdCKdXAe27fSHXcUayNPRznoO-Iuz2lASub5-I0mtjLvbbv3nqAWfMIkpnDl54ve+NVylhj6xJ3u5faEGRWoUVWrTWETGG6rVHXG3fNN0zvOwHyXAk5gWT5i1LeRy1oPcP02YdvyRX81HrID01bXUQm7FwWiUQsSzLQ1EPfQdP1Qs4LjpBkJyhfcWQI5wiJIuCEOIL0eVA0BWPY0FlBJKYXxDOgkKolDqRYJRNHuYNRXFSUOReAC-2w718X5ATiMyFpBUky1rTQ2M-ywpjgJbPiQmtUJzgUD0jNSEzaO3Mdd0nA87LCZd5A9Hjb20sQ7NgsiK0o4yv3Ut9LJwmypGnFo5HGFRnKHak3Po8c9ynWhkoJFQOPC2hr3XDcaTondGS8lkkpS2git8xzEkC3D+XqwqZjg5LSD89LqOpcdJEsfBctAHgQOCnZ8oa9kZmnOh5AAR0WM1Ipcr9htG8b+CmzMZuIArUpmFQpnZKhZiWDb5S224RvacaAGZ4um4EltW3RSGuyypNc20qo8mqmNZD61u+tq+NkgBrT4wa+n7HjoZCTJyll4bITkXhRZGtIOgUVvBuGHP8xIJMi8xNtQmKkP2tsCHBMJ7L8pycZR6KfzZvH6bLchmZavRyaY5G-q-CykbpvCpH8zRyEFUJCYRvcRaimiHEISplcl-l8P1PnmtJ9bhfZtXJQ1zDAON178YyaRqFIaGBsGoEsuqxjHlZU97ehyG3q9h3JH0wybtu6mf3FzVrLekI5M0WQ+r7EPpJdgH3IY8aWVj+PlyvbWxFA4r4PI-Ik5MmmgO53UeyiQuuKFgdVepGmI6snl2tOKQj1UWDkOTkdAfT2DWQAfja3AwFAhh8GYNgoDgRBkHQPgeF5en5DzQh+qdZlQF0WYTcyqRJkUNLt68DY0mH-i5BPmYN9JdUigvoIAC5gSlB+wyfiqr7t6hocIJoMSop74KVfGKCUH9KwvD3voZ+gQ34x00HHSgCcKxnwMPA8wV8s6GXXgsfqBcwpF3QY-LwMDiD7yeFgiqw1lL3wktXWuxcJIYP0BQ-ecCACQZhEFSGoJoE+5BqCMEkNUZwkQc6ITYTQ0AV98H5n6gIoRIixGsAkRdcYXxqCSCzqgqR+Q2EcLgRVPhaijpzVPmQzBP9d55nMcdRqyZajGNkWY3SzDSFf3PrYmGnxQKqA8UJDkokhSvlYdY9hsiKppA8UHaBu9KEmI3GYjG31KyyPkfYtJ11FaY35obcgETvEGFcaY4E-tHYyNsQowOdsHbmjKSk4EPkSZOWqRuLJRVWks0SI0xJ+83F6nLDmM0HTGhdNOiMgMYzrFNMaGY8CT5DGRMyXYoqSyDH9NgUMxQzAIQYNZAAVWINDYg1AADudghR6CUEWUAABaB56zFEKDHnxXBqhhAvGrirVIlB8CgFUCEUslAWApSupIAJwg0xSVDtSXBIIIjgsuv46aXySA-MYFEXGqRBi72kEtcQgLgWJQ8K0KF6KYW9zMItcgmw6Aa3paiF5m8FAYoOoHagBkOVRJify0oxYFBHULJQ8EtAnLRIFRVAuwSRKKAkjC6h0qVVBF+cq1VmqiFiuYDMu41LuRpH+g9YcUF8xLDLEy5JMSr52XvuY4VdxLXSBsfyt+rR2idBaAMcw+L5CEvkHCsweyREcuOac85VyCBvTloIx5zzcE8V9W3PidCJQMO7iWOgxig0mVkvJauoBUQAD5WX9WrsYmBWbrZr3sZ1E62yklwuNeEQg7w8Eby3rNLqSKuj6PZUYgZaZomTLZQ-CxPbFp5LuIOnZMS34KLHe4CdJ1dEusUJoq6CTYFR3xrUnJysc2WmJUCkIMs5YK0+pjLWNL4VAg9R0BI3qNh+oDSe0lMg9YFNZlbINpQTKLsIYzfWbS+lsyeDul9BKiXHsCHShmjAmYojNYsItoApWAfZR0RDIHelGwlhBpJPrSgAtPVIO10EvnAfso8FD8hYWwf-V+bDSGmJ0eI2kV9MGpUAeyXk9JUrqysbw0UrWhH94caCMMQIwxtRvTTZIEg2Yn2qA-n8jKQJ82qY5EW0tLIABUSnpldH0yyF4ama26joH1YgYo23nkfAY4pKZe6kY-Qetht7aW0DCAKYWaGcnfrJpWSTGn2znvlgetmgmzBXwqNIGLoA36x10MiGzdm+abIJIq6jBsf0Sz5ZqtI1m8gZYcxBcYElEsCr8ZeomqheZBcFje5sUH-XccaMarLXiXNSt-rubrz4wkhibFKt+8XJOydXrqWplTG37zhfBoOaHKlcp5WwyT8H6kqAYCykrtnqD2cG-QVQQdDXmHg0Zt0T7dvXyZspK7-ouiBPtjt87zs7CYaWEHKtwr6R73FXql7fVCUaqK+DtIj3jRdGzehiH8PAiwMs-yWpPSBYzrmUO5tX5asUfNaoRLX2Gs1k8dIyJxjkdiFqcp9pmPYGLZ8-S++aGic09zNBUnKySnsKHZJ5TwC76UbZ3OYb2QEn32MZJky99d21o2QuRzfZDlY+PSEAux3Kw8MpoEUdhDprleWdo8xvk5wa6MYTpJGxkvTIF3R1Qx2BcJOqxVInDv7XEK4tA53RWkctjwJPJgrB2Dzy4EvNAT1ps61tIwNtbxDJFl7sazI2Rcj5AT3D2x9z0QstbYG6JC7GD7NUEWT2WQch5F3iWBcCgWgvEsN9SgV0Wgv3eW9WrAS5VWAVS8H7KvIyoTRmSCloEzPVc71MWHvfINBRtmSmow+qWJ6-K7IG+q8rz5FSPvOdhZVLnlYhr5S+B-3R2vgF4k1K78gLvE-AR+hon8emf0Ae1L-531wD3VTlb-Y+P0zU-LwXpZddRccSdQFpxHU78gQ0Y8dFgzNQBwCihX92wYClh75ID+404coJdvJQDoJfZ8YUCHU+k0Cf8m5w5Gw0DKdPsyA7ZDRohRVZhAcnJ6dj0TJ6xp924d9qNp4ORu4m1WCOZ0IOC+IvpaDPhnBDIeCSQj11gwtQBQRwQvlhJ5BJceR4N3gYI4gL0P8JVEg0MJtI8xB29lCwFxIXgGF0D5CwQIRRdQdQALCkCmAOQBdFVlDfhZC71awfwpD6NHCfC6NXCOR3DtdPDXhGwfCqDK8-sGCmCwNFI7C8xJ99QYJ+D+8hpdAoh3hTDsgRZs9+IMisjEjrUJkrDFDjDeDbDYciie9kiGDijSg34chogsjKjDAAAefI5ot4VQIowTeRQvUNFkAAFSyFAFkmIEFFAGricDJgFEARQS6DfhZFAAAGoM9wcwgIhogAVg54iRY1i4Dli1jvdzBNjIgogdiei3t6iFld4BiIRhjRj8B5ALkpjsUZjBY5jkFZBFiDxVj1iiszjtj8BdjwlDADjWR-iTizAgSLiQSrjCVWs5N8Y-4AEgFbC7dbCj0NgRDKEZAsh5IWCsE+J9tsiEi3s-0jVl91ZNZWiTj5E8S-55JoTzBRDqA6Ca4dCgckcTi35bCi0MQEw6T4cr4Exej4c+SbMMIyTkYXh6wij3spMsE3M94BSc8sQIsYjP8ihKSggQ0bD4jw1MhWhQAP4k1SguNA1GM0h4MfC0MWM+YfC+CJMeMvxST-DKilCgiwd4d-CM0IjFSZMX00igQ958SBFnTIj+cMTQEsT7CVBsTAhcTZhwzCTUjGgSSpTKjzCKTrSghjV4sZSbialGSCSCcIc2SOStTdCzQeTVU+T4i1TTIizvcr4lo+YxSdsczpBiz50BQpSsI9ied5TrjQtfUAT0gSVVS8iNDCwtD5YuSPQvM9T7iySjTDsjpTSdMnkpjpkApAzxz2srSpVbTlD7TuCTDIN+UTJ3TlCXCvSSRCsEc-ToJAjHyDyzBpNk05CwymTIy-cJ5pop4Z5g9OBF5eAMBDD2xQUUVG80UDpeVRZTZRx05vkDwYKIVORt95DkVMLJAwU45CktkYUkKyD0J6xqUWx4MMLUVKUDpbscp4E0YlQ4DzAlQBUnzAg0YkxWKzAkwOKfTzA0YFDGBeLSjGABKmLdwWJbgxLxxJLSg0ZyhzY4DlLKgKpOKhLpLko6A44lBBQ4CdK9LJiNxNKzA0Z9TeL9T+UzK7s7gWRZJ3hdFnA6AzNHK3hnKGBGhbK0YVixLzBi8XhBRDAS1QB7k1iTKfLpKHl-KzBArQBgrdMwrHkEqzAorGQDNYqgUS8EqQrS17l9NUrQB0r7LgAsr4rErQr7kwBIrBLzLpKABScqnKyq-K0ABqoqkq1QFkbPfyiqvK5KvI4Kuquy7qgAQnRD6paoGvuQmpZWGqkoyraOaqCpmtAA6LMAWsUukraNRFiv6qSvuV2s2q6pZGLRWtysOtAFLROpGrRmLT2peCCAOqquupZVyruukrGqyuSsCFCrMDGvMAT3gW5GotwtooLkqKLSwS0yVBeBorgrorbFxTBrBTwoLmoGcAACtq9dsYa5IOUkrhLwa4K4CaYDURqggEbIVJ5uQsBUbYLIU6U8gik0Mco0YH0vU4DOan1bKEcuLpLIBiBH05ADKnqhaRa5Y+b+b6qMr3LJBYBIBeL5bFbpaZa0Z5aABRMSrWtW-mtGAAOSUANqyqNoNt7JltBsZxwrRtouZpFz2OhsaC00BVCoTFv3hpJqZsZxZpRutups+Htr5gYSdtKBdqSvJrTE9ttsRqDtxU4KmO+PlgDqRr7DQurnHEsMRUiEUyOkUGkEFHOMkCxqUHmGswiFlnLJVRToIpyA9GIpID1rVWxUzr6CCBTTenbMAWrKB0sKFVSx7slRVRSyOlUBTshr2JeBZJtsZsDp9odrBMptKBHu6HHv10xpxooFh2npTqDoCKbvMFnM1MXMQLbhyHpVnKiDtmcCKhPr0ACy2CATvruDpv9yAsD1ng4AXm4EwCgvgNoHCCUAoEkE+jCC0VkkYEdiPEoBPByEsOUpcDcBpmgdgfo2HRKObgoJ7BgdPDQfBIPEkCOL8y2LhMMmQewdQeAiwTfnIePFwaRITuqFkgVmCRr0hBIfU1CKAdICcA1n6nuB+VIFIAGoYDWNUG4abJZGWKvikaSwPEhLWO4YPo3CkexnCHONxRn3phICEiWnYfOKxRxUMdzt0fo2MC4RDOuXUeiH+JZG6v+KYeIiWlYeey0yYR0Z7CWkMeRnwa5BZEcI8cQ0+CmBYHEexXgZpLUGrl7JkfixZGoeBBymidADhFkQ-ULPrGieKB8GbMyfCcMDmoPFHhiaBQTGSbyJZFHhHX-r0GUGAdAcgggcdmifzzI10W+P7QrGSdSYFSJGlCIVIhIUQiyYttiwPHsbWMCaWi+EUFCbKexUYXyfwcE2WKIYxOUigQGc4mLjCZ+GWYFVWf+KmeCdmf-HIL-F+V2eAnBJWf0Hib7OOe6vHDgIrVAGOZmcYBYHQYaOBBEquawSvkeZZBErgJynmZ+DlMbCyZeHeZCd7NSWsZiBaZKJZAAHIiHC0Dj0WEnYTLjomAniBTGQHFhGBDJPpSWImzZNYSREGIQExyWtqZbRrM4jpDiRFDjzlPQXQDRFAuXvINYsLvnL43nCXPGlh6WSXhqwi-wGWedYXZn4WRXTGzn0JZXIWZXJW5XRWgniXFBgqgD+QS6y7SAK7g6OdSx7Yi5M1NBKW9E0FEIe4AXmW7WDE4CtmSp8ge4l60gtMjX9QTXKBZY6MkVLWDRvHrWqHbi+mlhHWSi0ZR5sZ4iIEVJpQe5FXYIDWxAGWgxbkiwQ3voDQI24U3MkEUF7XPWSwGNn5bT9d+SWUsF1nIFeD3WhmK2bWDywbQ2lp6Rfk0MtNs2blzg82LWC3YdLm02xyTIJ7XxJGQWnW-mEwR2i5rhfkecaYl2eWe2FnI2fnp2QxJHnn53mBR2V2FmEm93shJG-Xy7A2zXzV7nSgr4-mL3pBvWghfXS7-XTXg2N2x2FmI2hXX5xKOU2wBdPau3T2cVFTLT31o2AO-1UZpKE2BQk2NneCJ22s31GMAMSxJsO78ZY0Y3K3SCU4QRrCI2nWExY2fn9TrXw0zlLlPtBmuJXhBRBF8D6YEDmse4SPoLyPqPhX2DK2EnaOh4DwTkGOo0Pdi4anHVXKoyeXGBIJhFA5PgkQ2hugeOBDUJCOi2KnXReX-HeI3p1PdFFPIJ4ktPLHmyuPRMMPDg8BlFDdzhcH4a20pjNyrhyBx4P74C3g5IphQAnogUlp6Ynpw9w84EE7XR7ZVBYZBQ68FwREWhOGPt35zZicNBGAUvRm5ERW2hH0uhWnCY0p4u1IfwEx69kufHcuxnKukvsvkZBNrc6BYuyvpW1AqvGuGGE7asXOchVBe4ttXsZh+vA0WU0Z9MxvTNFTU0sg0S4v5B5YeAXh4vJA9pdT4NGVnAxu0MYvSBFvlv1W1BttRvKGPzYPmg87CvkRCAdvzvdS5CeaugxzPzoNjz+V4MuuWg9uDQ2ulv1vjv7g7uxvWtrzqTc6CuvVMvkvavH38vPUn1eSOuYfsuLuvzPycTo56BeXDvJAVvQA1v+BuzFhlytuQfUHfvWuDu1uCf6xTvsR6GLuS2ruoeVNtvQflzAh2zsQ-wGexu32Ko-mcpaf4byOieSe0HBfpV6eRvGe4GweLT3vHuLtrbvuqf-v5ZieUeOfzvXuygSUQhnvuhvuq20gtdisrBee3wKfXOsALeIc-m-mJf4zzVlHVUsJbeFfuQHeYO8zGgef6xvvJeLugzGgMfQAI++IjLlxSBuivndS80D35vAEH2BVf4U-NBEs342AKnIglolO0-pUr58-eXncC8i8WB6PI07AnODF40wjcHzTMe5CY-yA4+qLra6-lPKeWU+vUHBuBh4MvO0Nu+tExunnM+eJqL3OWUx-nwJ+WRS-C+6aoYlBYZA5Ihkpogri6GcgQ-ePgOUHXPXfSfHCNFt+a5j+BuL-zjLCExb-ohsLH+r-KMX-LD6x3-z+t+i6c6nTr+VCThR8of32678cG+-IAb4WM57oiwf2MAag0l4vAIih-P5rVhf7wCT+aBJAW4UzaEgZwLNGBuyjE4+EYWxAY0iKiPCSB-OR0HIIwF7h8QNAmgPBMRzzIs8oIEINNir28wzhQAL-FbD-3oJ-9LyJYbAUEX15yEje13aHu-3pIityB9ISgdQJaC0C6OkAuHmkDfiMDDIL-O3O-3R7K82BfzTgf71CJ-MtBKrTTpWx5zmChO7bfQUeS4F9xK8mgfXhHwj4mRzBPcXAcQ1yAsB2mgiEVG0G7CChnsdAAnkEP0rXA6AG3bTofCpZvhJoTrCISEPpDRDBuCTBdpzEmjS84qIjcIL4P8ED1khoQ-IcSGt73Bsh09eHMUNSF7RsKkQKYOXkhQ1CKhLwGoaEBiHWc1KCQkpu0LSGKtMh6EMIe70G5JUGh+dXIM0P9SRDugfQ-gINxyExJRhoVTYgUKwiTQeuJJUoX4PwDdgoQBNNCqlycG7DlwwqeyJYGJDsMChLtTFAKAYZ8QTh5AM4asMuEvCE+sQ0joWTeElN4sCTcYYwCaGfAWhUqIUtsKbrLDS0jw54dsKuFlCLIFwr5psLej90RUAKY3LcGIIUMT+REfcMgOPRLYBBUQfgRYkEG2Z-+WIiARESlwQ9jep2Qkbl3kSwDUsGAiATiNEGPlWmoIJ4RukkCOU4+dIkka-3xzv82hy4dkVAORL0wuR50XkbH26JcjRRuItwofztIVN8AcYLoMsSdYsh1RqoTUSJ1WhpQFRoAHEYYCdZ2kzAfwzuD2DHrLgzRJRFEfSDRGLQMRZoY0WyLUFWiyOihLkbCHhAgpyOpo+dqcJ5F8jui9YX0YsI3D1hTRUYxoNKNDFyiLBto0pFUJVQJhYxaY6VAGQSY6iNRLQIzpKKsznFz6Q2GEeng+F2A-mOVCEaaXNiRE4+C4aGLolswGclOXTczuMBeDZtjR2bPERsHgxhiHojKF1GhgTG2BZR7fboj2LFG7kC+BIKeky2lR9icB1nIcc6mZQYg8xeogsU61+G3EOSpY2zG8NUDrj4IVqbwYQGmZb9iwKYylrCWTG+jIiXnc4b4MO4E94unQuDNbVuxed3xq3Jbi-i6Gs9EeoQwwHFnNhyM6ALYc+qACGIAAJTWpIAACC4AcAJrQABKQxSAAAHkDayAFlAYQTrPEpxZnecZVhTHnRxRlhK8Z8BvFFhKJG6Epi+PokrtOxPmRibYEVYviVAUyciT5kcI8TKgZE3lhRMsIISkJqE9CVhNwn4TBJVvViT23YknZxxxASwi+JPH0TJAa3cUJxLUnct+JxAB5G8Nbz4xH0SkwyRJFUnUTD+bwqFHsK0wxYcRTgXTM7kbEBxSsbYvsM5Kr5WFuRtgaiTkJIlx8RJ7YjidZLUE4RYJMeM8BoBICBcWUAABgGAJ0EgFyEaAK38HZxIIlAboInkylxS9AigNDDFLnrxTipaxHgNSNQilS1E5UxgI4VqxpT2B4A1AhSMAG1SXWOUloJYT+aVM4CfzTqR03Lb4Va8KPAAa3CLH8hLAH8FqagykCRAGsArIbmr0yldStEuU-Qi8Qylnh1pz4XKYPyx4EdLAnwC5CoEdhWdOsEPLuDxz6xjF1+nwZqQANUFDSy2BiUabVzMRGDhO-KJ9uR3yGnTzpyYtNnGL4onTJAZ06QI7FsE7tykGbYMnIQBkQygZpUyIm0ACEpcxQbbHMnv0AH9ikyMacGZDIunLk2BN0s3jEhVKGi1AAAmBBTOlRsEY88gcQYeSw7VYlsxIy-vhTJGXlqJLMqkqbFpHOB1BnSAgDtnkBVC34SM4mQKK5mgJhZofZNFwj96ulTYRg+0SqivjSygZVHWFH4FeBEygZ7BQDm6jFkBpXBCM0ItrKhkRtvBjo-ChKG0DlhcGLIwAXmBsn4jrafAllDoKEG8FaZagyTG5kBqSC2ez2PQYny-AkAdik4-kToPln0jFxS413nzIBIwcyZNovMAxgRx4B9MecrBASMFGczf+PM-2QmUDlYITIIckCTd1ll39EsgLYgDHLDGuzQZMSeOW-0TlZikybhbPlEWZEBz3ZFcmTAYJJTozUs-CfIEPIDkBk1guc-OVdNQjbicgBYybMrzzI4c4Bg88uVSODJTSxA0ckErHPlEE9NA2vfGaEVVFbjdRK8ovjrgPA3z9RtxErmoE0Cny9o5o5Ql6K7hvyNZwre2WiKdmGgXZb8+GufN7lRtrREIM+X-KCCMjoigC9ksAoG5nz4aBPZAaAHnn6YvRTvSaCk39FSAneH8koofPlgtyIxlQhHBGL2htzzApC4+Y+MoXJy0gi7Ghd3IzJuFFWy8zUd4NsgCtIQImSlihRyh5Yd4LIUqRx11DTguwV4isKjMP40xUZ2FWqfEnkWVj0umsesEH2WkmzsEzraQGdMFDR5YCirTBn+CUVRkk6uiHaRagFbdjJWZHfycQHsV6soUyoz2TwK7Cp4bFJU3QM4QAELT8gqMzbNbXoUbi0MgmehS3JnFOLaFQQaRfmB2ZeLSsqMuJYEBXFiDrOYS88aOLVH5i75ei-cTR07QKBdWpLJaWeHiTJLbMqS6rIeKsBliERqgbJSOMjhn0rAcExCZIAwlHIAAMprQIl1jKgKUh4VYBCmlSrJIYgKWoMP60TuZbQBiapOYkKS86RYa4BMr0ncSrevEmxRJGwpCSZgGy8SV0p6X9LwA8kvmIpN2WbLbJ2wwoaPRiwaSYRWknSWNCWVpLzA4igVsZO2FcgchTyppf1NZClSflCIrkJYrjjywNlEUi+WlzsmPDHJDMgVklWdyIpiIpUipYAJhVuEgpYyjytCqmXOLIp3gw0HEDPAMtVAMSqiZANfHEhLC8KhyQTWJJnlQqUqOySvXnDBDns1WcyaFOyyUqHF2K70tVlrGIoNlVKjdNRL5oekwRdskpZ8ApUMtxRtK94QOOtrLRhAaGP8bpzVYHgvsZSgyoqWNS0iNVjdapqSsIoGqBVerZVd8NaamqVkRU5rLqplUIjIiIQeiQP19GH8QgD4xdnaOybAgu4-qtpfvKsYiI1Oyk7mfMtvFeTxgrmQ3oEoWUD841tAemfEutrxc0MLygHrpNTVqT9e8GHhoXkDD5qVVodIrACrfHtdM4yk0Fb4Ob5U020h3AyaJNoD1riQo+flH83zUvBaxxamaXzDLXfDoO68veQnTCARqbF0a+iZipWk8DVJaGBJbIsQjBKNgbAz1SAsJXprvxPArNSyhzXyxdJSywtdbQHWBhapbwitZqirWXCa1IKkyRd00DNr713ykyYL0Gl2KgUA1c9XOEvVgjR1Dg49FNmi4tB6QtU1RPmvEbKTKWGK-NbAvvmmc4NMGhJqZyg3wbHCaG5SdBsMm9xJ1lgPlRtNsyzqMNaqngdkAsltr6AaGCSShLQmYTsJeE85RsFo1SSGNskwZT2uUl9qBqFGwjT5iNVfgWQ-8QsaBvA38K1FGwfDZ8Fqk51Z1a63db5j40TKaNJyvpQMsky0bTlAysceR1Kk8akqymgVrijkLCafYvC6WPOXMRY10UsEI4QWQy52bsKDpazfiGtb2bBClgzQJowTqNZpwNmkQBJCc2H9bBPmhKHOVljywdKAWtsO5spaFknNfhajNFrc3Bb1FVHatI4UawpbAtcWkLY2ES3QD6YCQKIH5HpAUq0t1nDLd5obG0Asa1ARaf5vxCw5XVvgylpqSa0IVOtW9Epq1uJAJN-NDWoJfBD5jdbRMY22Ut7n1UUqXNY25dDFqKRRIHevpO8iOpbDPr7KeQAsayGm2Ss4Cg2yIKvzejRaht9uCQAtpa2rawRPqyzZFo7Dnb0UOWnrXuPNh-CipAIyYUCOmEpCq6-KXbXqyow4Z7tdABbWdpB3NaecfWr5tQmW3fqkqJ2xadloe25anti2mHRDih0MMNt3VdljtvlUGrDK52obUdvxglby0CzW1ddvUUMrlwiKgVKqOLT28Nw3Q7uPjopVk6a8Vq1dh8oD4liGlx4mEQGW4Siz6lwiAXU0oiL28eE42c2OjqCCY7cQ2OtkNQD5Ysh-tpLOAhzqgEJ1iwC4NtERxtaH8icYnS+tfVvo6oayBgbwdewDZBtQE6qGld8Kog3k7lCKplTEgZ3RJddPDdlPn1nBUB+oLJcFrKUgFxKeiSAvKlUNo6zAk5yclkBJxr5+T4yElHckcSl3LaWQNu79vfHBUMiBQfOsXSqofL0ZWm8WN9grp5BK6s9t7OjIcXV1i1QA1eu3dBDpqDi7kwO4ymhgACcAwaPhIGMpF6jhfe3SsEJVX4UpgkIczKTMTXxDIQO61mUSjcx2A8iiUrnuYCMrBDVAqLVFqyDQB77G1I8oDVKg336VkxYQRXhVBP2RY7lN8Gwncosg847AzyC-FgjcEbAr9Y+2-QI3ul5sr9UZAxfpWMVLB-QEaynW6pVFXaERiu5tZnAANGKvgTMuvWzr20-I4DQBknVKOPZFwrVkQDbeYUUCZBDQUtBnDwOWhoYB2goXNvmytbKtcD7nA4n0HBVBySUV0RgIQdFqgBCm6MPUXoFXB5kr93VJ5M8l-agAGW4gQlu53jQxV+gE5dff3s33vNFVzYSPuvIj5uYy1KnVwLojA3PZlo8+swEhsymQbsNWGwyWtjJYX6DeQKVg+wblicGtxhoJop6DX1mABDLIIQzuXzVTEdDP3Dw08i9AqGgNbgsdY0DcN+HnkYhjcQwHCPSH9eH+k8WyruV07sxLKxnRDkUOStft8OP3QQP6jLRxRfamPQQAGqcIox9eyldjAL2NK3x8Wa5nhzDUIYmYeQOgBcjcB0GLQZG3zGQZZQUGqDv7W0UE2BQSH6UDBpg50fpQ+Fbs5R-I-nuiBHii9tRwTabELKTGSmyu+6VOPOImjlwSgeJlwndTatpmFKnI3oEIFLAZj7tZQiHvD3FGkqnCXhasu0m5q3ldokg75n3XNlfR1UuIV3Hi7gSimyxN+PF3W1YGDQVq1Fl5NUDJyAAOlgDg3IIB6KnfACIlCZl6Eqq1WFCqh30HgbD7JLCgMF-bgnITMJuE-wo5VImUTtoxQoQHMI84EuwHGk6AAABeUdMwLCbVQImRUFJz5jcfpMsnMTmqbE4eAIN4meIWuEYNRmaOtGIQEJzk-SG5OhMWqLwNGLsc9iHFSAhxAsWmFRbcg8AhJilbKYxlG5kTPJpU860OLOB1Tmp8FUKa9BAA')">function index_key_of(pat) {
    const key = head(pat);
    return is_var(key) ? "?" : key;
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p44' class='permalink'></a><p>
      The index will be used to retrieve items that might match a pattern if
      the pattern starts with a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (use-index? pat)
  (constant-symbol? (car pat)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHR0lVVRdSeRpiIbiEpKLi0DmF2sUJNvklQQoVx1EAD1VLOjoVtZGDMf1nya2UlzpyHr7I9roikkjAA5hdrrd7rRATF1j4XoZfABIczTJzUVSidzkaiMRwxBqULLCVawp7vZLBQ6yY6KDFY+S4-GsQnE8442bzRbLWiPfKjPQTD5pDLM4gAE1cKw8ZP5my2VMiYslJJleQSCPlU1F0myDXFknBN1Edweso2FKCoBYknKokcpxJil1jQNjlUwOyVixNXqTWkMPV8Mtwo+Lv1hqa4v25vhgq1KTRNVEAEd2mRcsM5SHttTk2nNKQOqn00WauRjjktIGsxtNTmRTMGqVSOU+RbhYrws3qK321p68Kk5ZrLZy5WEv3Eg2uy0RzZiOOFFXyFPBx8k5JTSDiCupwnKWIlVv7ju97GdPGG0nxaJSLrsWag9PO0fwrf756nRf11t0ljmEYNdQAAIgAVWIcpiGoAB3Ow6i0SRLlAABaFC3xpBQQIMABuLAAF8BBIM4RF2aR9kEXRgRBOgjFMfxKHwUBFBmG5KBYKVxHtR0HkEAw6IpedbB2LlandRh2M47jiKdSidlBWi8P8fCxADUR7CYlinDJEhxQdGTeJIfiTApFR6HIUBbkIaQLIAXgwuQFEUHjaEcKMKKM7QG1DD4rgUCULn0ShmF3SdvJ80MXMXD13ByNxAT4ryIuSopqLoJKUsy8wosC8RgtoPc+P4pTkiEuwZjK1ookUKybIPIpgkq-57TM-zV1ql8fPSXTRHwIlRHFErQBU0Q1JMlIANxZySF0cDIOguCCAMkRyFqTFUPQsjamwobCMIrAopCBwfl6KqAQOa50vjcaAjK605iBUFQFsgA+BzaWozUxku3CCKIoQVgw5UpVoNVawHa76P8O6ZnIRhCHIAALfZqUc3IJRBrIWmNSUlici9nnjeqrVR2kzJVaUWjMugS0nAnfz-d78doCnQZaGQ3DZLj901PD9sOvMaYLDNFG+FhyCu8YBICRjmJmURYlW-NSw6chxdo6Wijunq+viQbJhGsbZa05wtx+b4Jy0UW1Yl4yoeFO7SacvrGG+JcFcnMXbe0KWhuG1SaZulJqYsl23a9s71Ps8KnZOYLw4rZdPZt2ifdeP2Zc0iqrAXSPnPj82bcju3wrusPC-FyOM+UgP1Ptj5HaVIWVcUcLbpNQvLYl631eeX2Q0IgI9v+ki7C+E6+hIE9KB3AbFAGE1NYsHPhJtVR569Z63pAgAqKftz1neQN0BfFL+g7lvgpZF2oBHHA-B8eXofcg40uWnGbwtMzhRIl+SEPQBewYPZT+GZ3YrhrD-X6WwYZOAVqoJWoCiw91tm3bYxBrLSDQSKXYmhxSi2vj0O+D8vwrASgXcByde5vCykUOghDb4-BIY+aErdaHChtHaZWX8aod0odWFBGtioG1rq-duo5ypOGYU-fc4USjHUUNIkkvoujSH3MTAI6QMHSGkH7YeF8AYiDzD2PsP5IaTAAe5Z6oATHlDctQaM+4-YAJbDIYBgCGHELvI-EkgJ3LQP8AA-ep49buPHr8RwwSZ562dL2NxATl4SKZkody31-J6XGPlUKVtXEBgyuwgpAQomz3FFdbBhTfKvF+vzS+QNKoWyTlbMxUtX53U4faJqbQlDYNjrwiRRpIRPnBgKKW1SR4kiBtPM8dNnyalfgA5q1jelTOyT8ZqAyTRQlJM+Qm-cAgrJUf6POKyVyHOaDzUAzVeaTDus1Pm4zAZ5iUUMn+cz64zBys83kBMUT+EmLONG01DGLi+YuDkIdJBaHvt40h3ydn5J8lLSY6QDmdCOc1RRMKWGLjRec+moBynCl6aCyOGzTRwuGTQipiKqn3NwGAKKDB8DMDYFAOAiBkDoD4AAJgeSIGYoQGRqIJq0lekj+iEEaFiF+oAAA+srvIzG+BJYgIIZXysVU4JozRRCQpfhq0MMxtHCp2QEA1woZg636vggm9zDqCvcC0DFIrjABBuWK0AF46WHVhpIEEIIBrOAUV7XQSN7QVhBH-WB7pJDBRQUYAAZAm0AiNdX4K9kYWyWbQBhscBG71tSjVehfvXaNEaA16XHsBECC8drn0Orilop0F4lvdUk1Nkh8EVkoCaylYyDGj1FCcmZlLRVJN9f6wNVazEgWHVoOthFDpzvNn6PFprS0eo7V22Nait2KG7b2qB-ExlLoPqc9ZVxjTku2aOjd7a037p3Y+nt6j+0+qkVimRGax0LlFOWqdwabazQhVC0F2E5UKsNU4f9lbAPi1mlICSkhmz2jA0YDVi7akksbfGoOd090HsUARp9Gbj12qw5+5RF6ISbIeN++2+GH2EcI6Rt9hanDhjdJewZvJ6OFDLX6itQbvgoNmpxw03HaO0AXQOiZ4mY2xW9HiRtgI+PQw9WvUWq6m19AXroYjL7WPkeBSEPUbp3K4YY5upjT6WM2zI-W9jjh6mJw9lbNTiTf0TqE1WkNoEXNdxk4dSqknr2Wf49Zztz61GkYLSZmY5NMYeA8554S3mAMib8yBRLqoWiha2eB81Hx0uwcy0B0COXKb8PIEF2plW2biQGpQPGqtxZLzuuEyw+BROgB4CeurLMktU2hLTdz9m8Mes671Hr3L+smfq1jWYNksRc1a4kCbSSpvdb8wAZjY-Fj+o3kEpYE5O0rq4stINELVkz7TuEiyAe1ybCiQJXePoAlOc3B1Xeq6p8brrzARfvVFuzbWvsTPLtVwRT3gfps+8ZwdtxO6NO7o9jbv7Qe2wRxM+WisxJXeh+jtLmRMHQ+x4DAVZsodo6s+OknOjovQ-24OpsLY2wpcsh6krwmLvlZArYm7g7bH2McRzxjIOSP2eZzjpwZFmtfv+0Drz0HBMZd5-B0Ccu8YrEFxDy+ZKtnhfU7DxnsW-pLtBAbshRvUt2AM2ozHDn9p4EZUwVg7B2VcC5WgHbfLxVwwRsjRQlwo1c61WUaQurVgh4JaGYIyEs32QD+pby-5GCAWD7NbVkfIViGuHeBQ4pdCWCLJQLi4pUgydk4DO7UVFAxS9PFXQqTzHiN-VW7LXhdL6WBcfcpDe4pYiui3-umGDvMmGN3uv+BQ907zar87zlgNd4ClFXXgMcoD6UwlWf7fjrOem-gXQfXyciByhZmfP7hJbaX6AWbp+7A5UySFQqu-r-7667fvbcXB13c6dVVqDYK-MeF7f-dod7QAnwB-UUMApQZqN-f3BfHnRQK5fzMVSOdfEQWAsUNqFArpBAlNGzF9eA6XR5MgUoe4VVXKLJPcFpO9DHJ9UfavM-ChZlYtOgttX9PdJggWcg6gGmNyCiRTN5N1NvYSD0ONNgnIa5QiABXNeBJWZ-AqBIaxY1PCZguwWvRTLTVRK6ZqWiYA0ACQoCFTXQfQ8HDfRTM5AMZyRTOiUQ43Lgh9KQ0QCws-Kw-Q2wr0ewv5MQuwQjFw0goxS4dJagl-T2bTPQtxZvLce0DgvwkITQEEJGHQ-0AwxPRI1VFIyIWibyYIYwxQLQ4tUwy5eJGIgQpFUMdISPLIxGVI5oAwgAHkyOSLqJyI0RJnTymhAgABUyh7piBah5IQRJUEgGA6AqgFhKABp0gQJQAABqWPApZVIkEERifYFTIwRY97OYxYwlAIFY1VdYvAgMfiNuNPDPXo-o-AUQGCYY0Y6sQBSYlwGY0CBYpY9hQ4tY-ADYyIrY0CWad4-Y-wL4449ooIseMoSoaoRtPORtN5SYXg8QZwModeeIooBta+eovJUo04sRLWMPCVBnTY4EqkfQFEjENhCpQsCg1YsI5Qq2UZYE9IRtZ6bNPdEkwpYIPddo4E1EDxPVFjP40NJ9cE6ucwQeIoY2cYNkpPVNC4PHek1ZP+LYSaEw7TWaCCJoXSUAWtBJZIQ2QOeuLYABFw6xSHFwg4dOUuD1ehPVFw6whKOwhFApB0zwwI-UoeA2Tg4ScYCktE60mpEzVFbTOEjU3EhEgIJE-0q0wwfE7KWpO01YEo9o+M0qQk41bE3IzKMk5E0oSkvkmk-gukpQ1ZWMs4zKFk7TWUwgqLTkrKYIGmH4Hk6I3EjoxmJM03YUnNUU+JT0muEMaU-QGs+QxU0slcFUooNU7EzU4gbUiUXUzeNCHYM9BIOtLYQ0uucKU0xTc01g7QvZUMO6Tsh0lTLwnIKlCpN0rpJ07w-siU70hIv0-MgMwwOlF3S+JlFlD3TgTlXgDAP3UUNiDiKgLiHvUeIFGHZXefM7ZAuSECYCqSTAuwRC0C+0diBYNzROQyYgKC4Se3SC-tABVCsvaSYFMJBRS0DvLdd7fwLdCKS8gIDvA9Wi8wA9Bil08wDvYw1iow2NRgDiqil7ceXi8eQSooDvI1TBd7KSnRYURi-wDvSUOgBYSQbaXQZS1SoYj4BSril7NU1itUnyXSo6ETECG0JGWYBoOgY+CyxGKyhgLYEyjveY3i-wTPUAWoTNN6ZCRY7S5yl7FCNy8wDyryreUAZCdCfyzi0y1cXeYK5iS4XQMK16CK0AHeTy8wAKsy4ABK0K7ytKsAaKoSsygAUjyqSs8oKuQlKsytAGyrisTzcvyvCoT2zS8pio7wAEIs1mrKqUqfLQAer7IOqSq4rGiKrkrqrQBmjzBRqJKXtGjbJgqWrUrkIlq5qGrFAQIXpJqqrWrQA3pNrOqXsXplrdBkhVrBqzrjqxrtquqEq0qAhUrzAur-AQ9LRfpiKJIQLSLwLlEVNnoQxNMt1dASKwLGUvroQLJwayLR4egGgAArAvYBYGh6QQcK7in6pC-TIgtRIqEy5IWG-6shX6LAb6ySNCsUC2R4+yKtDvK1PWd7RmgaQm6lPSsyyAYgXWVwdS8wLmnm1aNm9mjvOyxwWASAVisWiW4W6lUW+QeygAUV4rFsVtloqQ7wADlJBNaErtbNb2zCkobzIjDsaqaQMV1dCgathNMmJUq90Z8waza-qLaz4KbfqwKLbI5Uabb0bwqCKZ9CZibXayal1RJxJKa-rp8Zphjx4CCtpHAiRIkJQsRyI6TEbJApB6EJIEEqTkpiaMLI8VwZFEpylqI46cJkhHMTMmyqglS9wCC-I8F66woUpcEJR69naIb9cSi+TzBg7obIVLa0j1b-B278FiacpqAkaUbdA+7TbI7PbB6oVzCYqthRyEExJxyNg6VI8LJc0QRSgGhwht6tBrFa7qhT7VwyaPzyK3dWUOAOVuBMBALWp3AKBHACxvhzgbRGA2xENKBkNI8CCpKpUgICKAGgHXCKyGpazt0X1CNIGUNj13iQJHBdiPsVVvj9gIHgRAHkGYHEw4HGckHgG3C7AYgbRkwG9C9rYsGDD6DhJJBSBSBJVrJaRRYqIWGCqGBFigQWGayQI5jgghGRQdj3jmHSBR6PghHdAviz4x9B0SAYoaY6HViqIFINGwRlHgQaY6IkQfT4I4ZVjUHtr3jKHDQaYaG55NNqJk6VHRAtGNZUGDAQJoCdHXZw0sQWBHpI1DDZK1FqJiYRHjUQIQwkwq0gnQAk0GwTZMzCMgn0NZViGEnQRjJhrQJAhsIQxggiMH0omMiQIsm8jPVaA4ZmGfgv7lFf62wgnU935OQpjtdeQomYmIoi1Bgn8aMwtEn2yRGzHFiPGBC3AfG900pfGUG9iIo5iMHYTm1i0umr1DdEmgTpm3jBniAHG81vG8mJcX1xnemti25sIwmqjQAhmlAQIRKtHdALntnGAWBCHkgkwCi6mFRznNndHLmeLdAq0xm0mRT9m0nCY7mRniYkwviJmcnQIAByDB6iVBuF8JzB1Y44oJ9xz5zxz+9oRgfYAsXFkB+nNRHIMB3Z-BfF+a9m2K7ayFcUHY3EHY6CGrWaE8LEZl-zaya7Y9aFi5slxQClwmQjAV25zF4Z7x8Fj5hxvl4Vnsl9GVu5gVn-CZDOrO0gHOtZLpcSXsTZC6VQQlxp7kJ0S9YJ6l2dLkeXEkd7RZnjVYY1teooTTFVrcNVygBBUlG4bVu4Jx3V7lxmDppQY16FjvLJuR0M+ZwYY1iVy9JVwGCl30RCS4LVosO4H11+Y2GYLXGRSN-E00nu6s6OLYOZ3TBZ-XfLB4SN6ub6z1mmPSNKaxTTONhCCsRNj15Nq6cZitwSD1HKVkwpni6FgovdVtzZQNNKQmAi4du4UdhSX17UHt-N7NK546U52Bydmt2YBSZF+d1RQRp17O11jVqIFdlIfI-ioFeG+E7BR1zO519V915gNt71yNiVgo7d-0J26t6dmifUzct+OJ9g64EuFIDrF7ENwBMN4tiNwDn90RY0znJJaN70oMwdVaTEVNxh8VAowN957gwD5F6cy9WcqCWCOwMtlaNaLl6AyA7uY1-xpwLDvD95wjbD7UAj64IjhaUj7prZUprQMYqvU9GmRgZRDkBoe0TtW8fBWjjDnNCj1Nwp1l4Ttx83WpCT2YKd4T84CzaTwx4h6jwETt53MAekbFefFDMGhGHYBcgNcgele+z1RGOYNwUAHbZiGmQdHbH3H3XwDQlcugXsRQO0WoYvO8XEUpfVzMkvML7M18Fm8UepksDwIL3GqLPdKLxgcLp5j4bkh9dL8L84vzgL5L2VtRPLjWGNkQO7CsFDRQP+FxOJFoaryPaxDvHeJr0QI+fU+1KEqoQL0QMSHgXQILxwWbNMgBCYhodr6xE8Ir-rxwQbkr2JJYRrqB4RLYdNpwOL0WQgSb1byc4Dj1OL8U-2UaI07c6GznFQDL6bu4WbsSblQFmLHb9rtbo8wkrbvLw22BuL5kxbz747yUh8qMwtegNlvrgbobubh73E9ofb3j74J43blDG7-z0gcH+bx7pb8IF7+8v9y1FO3WOeCbnHtMg4qwefF9XJMzyPe1nyAoqtYbhbgo4b6Hkg2nzKQjKnnH3H39uD4OC7vLlHu7kbzH4nvb47zOBpj70LjLoD5IX5FIJsinp7pHmnrABXgpAo5nqHsw-A9n9hFjZ7vb36DX3n8pJXwjPL3XqIXHr0jcx8-wQ6TS+QUgOox5tMtpQR-M6E49nyEoHr1QbBdINgQpokITmrQlYIMPtlwlC4qaFgDjkj0AEzp+DaHslDdc5SXT538gV3ulABFPkTqB+t20cNKB2rvCABGz6xQv9kcvq5gPutYiyz+yWv1ydr7a6PpT0O2pO7VkSUVVPApDczmH1wwwgo0hxx0f8hmxIkAfsESfxQfv1YggvdZf1VGf9fhfrpJfuflfwwwjLfzfvfqgpOy0yf3QQIwwmbtHi-pgbw6Apujuu-1Aq-mTgovvk-tVF-vX+-i8ir8VIhnQ66ducVaQjpkwE4g8aaVAWkOAJcIit5yekRDI4Ec4ShI8jAP+IdBUCqAUYgHNMht1aBARs2fPf+Bdy37WIt+idRcJaTgF2EJejhYnMnVvCE98ER-Ukh80QGECUBtLdAbq0v52Ffu2A-YJQIxRH8eeoiAgQxz1Zw8EiBRIQXy0ja6B5BzHaDuINO5bkfIjsa4ADwd625SmOAn1gAMwa6oWAjTZureF1C1AieC3CwWpUDR0BRuMnAJqLD6zQtbBVgvSA4Nq7ItB2D6OgH1n17uUeGcMEwWYICjuCieIQ7IMrxcHSMqWAQCIZ4Nmwz8iQbgHPGBUSEuCNKo0OwUkIi6k5-BJrRITUG5TeDGYvgusgEOwS1dwqqQ1OrqgyE5CPBmKSwfYNKFxDhQNQ1KsqlCEsY+swiZDhMh6HRD8AuoNWOjRjoMNdOow+QP5HLCWBsgdDUIbbUmEDDfOMw8gHMOGE+Nth+Q4klEMebQtjUyLOoYwHSGoYmhc8cKByQOHq0uhb0DYVsIOFLDohdmBYY8zWG+cn+ekRiNTWOiTg7+BoS8G-wsRkCv+FAr-lQIdDaE7+gRP2NGi25sC48eedJEP3wY09QAQI-gd4XqYehNhK2RwBZVd678MYVBUQV-0JhYi-+rhIwXiM5iEiXedRPERpXkDYiLyhhM0oU3wA7oBocxaFiBG5E9peR+HNMB4GZGYj5ARgaFmaUBx+snAQAvEVKPebfDE6fQamP8KtjiiqRgRE4fRzPaKjomyaViGeyBEms6RBIokXUUIyKjAhoYQjKaNtHChzRY4S0XyxtHz1Moe6B0R6JSgelkWAonkXSyMGUFD6VgVyNsODwEECilVe4bqUwQQkHOd4OxJCnU7h8HginEkLoDjbii42IIgIAAktEH4JiNkaxM6MXCujsxrIvzmyxWBz14hEUXMXQN06FiOogjQUZHjpZHDMEyLEMXvXDHPCWxJoayIkCME2d5hJg8HgtyC6ODQRJtdxDZ0nGQ9ag9+EAZtwJ7WpRYRgYIMahFB0AjBc-K4I4GG69B68ko+ZBdyC7WIh2ko+EYSSAFBctxEAkUEF13pWBQAPRAABKK1HAAAQXADgBFaAAJR6KQAAA8prWQD2Q1CgFG4rn3soZjrcZYtkWPxk6EABCB4y4KePxG2ATWY4jCaOw06+IsJnMCVmOJkDsxCJZCaAmRJ0SpiaxrCAgp+O-F-iAJwEsCRBOonk98JtbSiawjLEEExxEYjCUeLm4nj+JLLXicQBQjbDIBJmXWDxLTF8TZhK2ZCQQW2EOgxhmmNBECMlRbxCUrvJMbMEXAITeQOkhPnxWwnEBVJto2Ca7zomaclJlk1Sf2j3qWROWzIEgM53sgAAGdQodHiAwRnM7kzNsokoD4Io07klQJ5KxDWJ4YkeDyXxwEqLEeAt4pJHFJai3xEp0BO7AFMIHoi4CeDKBsXmCnmtmmi4MKVGLPZFN3sBRdKQawtbnAwpmPSfk7kAqWAF4eUqBk4CJA1ROWdXAXiVKaZPxE64oVQrcSCnxSQpjU8KX7EOghD7QMEGQG2B04wI7xwIVNnInuhcJcpi-cAXVKmmuQKp4UF5mexY6vgCi80xwItOkBthcO0gx0QEEunXS2wKg6QYbX-DaDdB8HDHJYAWlLTepwDIwbeExASh0QtrdjqUWH4Yi8xjvWpE9P+koTByWceUetOgak8GImkRLmojv5oySBq0pJMnnoESlYO5SSxBCNJFggz+B5VSUTPTJz5ERX3V8NyLUgej0g8Mm6SSPn55wGgr3YUIRCRBm9NBhJLDkqJSjBB2Zt0h9GjPlQ5pfpV0-6cxyy5nNmZNMHQXbwYH+E5Zz0wwdXUHQqjfh6gU0DVx-7SBVJ54k2uQPsiUCqZxaWEU2Ml6KA3q+PZgRuLEEe9DuxAdYgyLgmcy6S5IimYTB9EBBIgNMj4idyNjIzCBJxO2BUjwA7x45IYSxOCKtmQibZgwEOdSNx53QnZa4l2TEiRHJRggJAL2a6Iv5ByAgIgnfkfwekRQdRKUD6aiJNk0yRE6gv9sDLwRgyTiuvKGVPw9ImBQAcchOfjN-QBihRQYluWNBIFaDG5hUkfhnLhFIdAKxcn4t7OJGqAme0PGGXoM5GLt2xwo95qPI7G+9NEYgUUWonXlg1Zs0oxTLqKjnrzRZJ7FEc3QNn8F7gNXC+UYU3kCC5Rd80btC31l9BDZb8yPPXmh4fyr+A8sAPHJ3i3ytefWQ0UBX1FXz3my8sSK6OtFVCKk1o2bDXOSCoLV5dRIdpgvrEpAh2OC8uVsD9GMxD5vI-cU4HSnWwu4+rGDMgQaRYVZo6U5Crx3vBoSHg6U1fnjQBnQNoCdUizPwro5EkHctmJ9PwqVnbAO8MgRabUGgzwwuWyLAipbz6mfCw6ewWYBNKUDpSsxOLMSEhNACNjvC5shHveCjz6LYpmgL0J1JQzdTVg-C5xBd3wWtiC2PkfBRWOMUxonJQcsyDwsNzWKUx-C3BUUHMX-9dOHiocSWK5GBjj5-gbcd2MZixxsWWIfYKIocQxgc8i4cJeb1WJ9icUzw2JcWN-iviLITExwIBLAgAAZRWpBLjE6I-JtSWyfZXSmAhTFW876cJDQnoUU6mE-idCzwmDLA0nS4iStlInk9yJ+iwEDPxolzhOW8ywwtUtqUNLwAnEn4NxLmWTKcJhhdSePTzqhhBJzw4SceO6ziSg5IEdKdJIOHYRbRpy94dtTA43LOWdy94dhATEJ0Jl3SuwgcoOEaT5AWk5KOlPCqEoE6hoBhYYosmcxrJaCdpbsr+V3lgxhde0BS35Z+LkVOQccdkDUmAqNhIKjEruVSrhRDl8wcwZcPwTlJ5J9koiZWKcmZyHpsYn5cssxWZL-FcKzOYTVPK3CjB6SjFRS2Qm4r3e9cABCmAxr2QFxqHJQDKxAgCrjFmfPQc7N6gbiJVRkEpvcFiDxTBVxi4VbsPqbqrtkfHARDK15XvCExMwDCeXwNFOCP4xjQfteN-gQZRQQAp1dosTI4hLAdKxqeVMGVAhJJf8Agdapq4mTcKcPABJePsjnLRJ3WMNbjwASsN08CQH1f2PeHW12ETyiccV1nSSSPlJgpVUTQRjg8JJikqSTJP16vNJJugWMUmvak-Aw1Iq3meHLO5elFGQwr1R0nclJ0MJQi-qSbTLHWIglsgQ3K4smDBrBlNq5SThIjUXj+u1iGNWJDEnTrcKx3RNTYHrX6KRVGa2hFmsWE5rblMk3HqoGLUHr3lFa8KLVM5Y1qCqdalNXVN2EwdW59cfREunFB6Q6pTIMNQGrLX6sGF8asOVaDU7-rA1yLNTt+vjXQFwNkkn9fRNwqvxvguIcTpJKhG9rINs4hHs0AUlwb3E1SliUBJAngTNlkwPDf+II3sSmlVastTevCpYbU19AfUndBAgVBlO7awGMBs5Z9qENnardT2v9Vjr8xF3OjZ0usRrL6ljSv2GJo2Wliz2MK2McJuWWMaPUzG8oKxsAq45N6YoRGpfF1ZTCEizgy9Ao3WEUIzI2moQLpoEVRZDNM-JHFppkgGcfoB-Rgj9GgIaalYylMzRBWs0SLMy1m6ApDg80yQLNhhO6UZuCx8JAtQgBzaoD00azFufmlTiZniAghjgekDFd5pk6haExpm6gD1NM32b9VtwiRQoTEj5bgUngYgJ5tQTvNzVJg5Fjlp6m2aytFAQMJVvs0dDzACqzJfnFdg-Bmtq4franHV5UtateK-tCeriq0sdiXW3FhAVoCI1ctq6wCh5sW2KIHAVWq6KNtFWriFSmmyLRBX23VbYGxwv1olPOHQpWh1K5KDNoogUJDta2ugBtsJhba3gGvEKgVRW2NaIt62+zQ9qe1eQ3tvoqwo+vuQTbtqDLWaDdveyfaltvnZLR9E0bUim1AK94UCvGHrwEVJKl6MNvW5EsDg-wY4BktxbzxRAKWwvETv2BjsIlPkXsWGJKXPKPSyIbLoAiKV06RV55VwurxRBaJMEAOlIC9tB3Fqa01AdlvKoJ0KAKd72eHQoB74mYrgd4BGAGzwEydek4Ag+kfRPpBRwiUBXWcqxvb7s3WGKNKIVotU3RjyBKzSQ9G8icjsdoYeXawychh8KwWgQBk5D7r-Nv2yE6ncxHECX9vKHo6cr7sA3s05oxHRaHiMhlp9diXOt7SBD3YutDdXSL5X0xZ2qpil7OuuUOGaWmzrdwOvlX9DB1x79dCew9uAUh3i70Viq3QPHrvbwF1CBYpCPfAcBaVrEAATjwhO9m9lg9nbFoTImZNK3e9Sa4GlTfAT4cPAgZmW+By8Ugv7Y2HYAyLeSZB-gAfWpUUAwsYWs0NAFvsLVDwSZPkFfTgz8EVLwoB+kVYnTcAvDTBdmQmHYHQgn4B4X00-UPov1XQbQibA-d8ukBKKVF7QFiDuCQ0m6TBBBLbYLsm1f61KP+67OXqOAS6KW72RRRAbzSqLZdg6NdhTpYibMEYZhLEE0HuBC1LFFkFMNYkba1AE2SbHVlKyJATbUGOEL5X7GNhcRGAuB3mkNUXb3AaiNWOHgfu2poR0Ia7MxcYvsCYGLIG0IKrhGD3mBuDCrYxfy2Kgtq64gPP9o2tE7id31c8FMNPuSAcb4pX6mDdBrLUi48Wzah2YweYOrRWD9kV7EKPnRL7JDXe1fSBF4PLkw1OwNQ6NKcNoQdo8hkwIocFlFBuDjhjwwIcyWc5ylDADw54dx5P7nhZKwFUSuSg26+S0h7rT6Kd1D1Xdsqr3T7r93hVEQD0m7fyzkas6cQ9OiccamPQ-tddG+ChJCjoAwRpUVBhGP2oR5EH7IJBsg2u1PGeMMD1B7YrQebU7kvQ7iAoymCKNp62dEY8o0prnyZkXCMXR+cLvuhwSTGQIyQGEyRDdRRWle7rWkZd20hRjxDOY4TBQI5HUqiIIwf0qoG3ghlZ4u1fMNWJujJR42h9psnQMwsMxigesQAB0sA-6ilQFA5D4BcQPjY1MlSmrGQUoG+0CKYf4KUcsAaBjFe8cImfH4hPxv4yDL0iAngTp4uNIQDMKExgufFXE7oAABe-EC6j8a0P-HMT1AB0NiaD2EmyTEJrKFCZAgwmaYdaX5AdBqP0B6jQEd49SbzS0mgTDzUKr8xexrGs8OxUgDsTpb8QYWv0PAAiZkMCmMTQpuk6Kf6rimzKkp0CA0GlOymvlrJnaEAA')">function use_index(pat) {
    return is_string(head(pat));
}
</pre></div></div></td></tr></table>
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.80" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.80">Exercise 4.80 </a></b> 
  
      What is the purpose of the
      
	<span style="color:green"><kbd>let</kbd> bindings</span>
	<span style="color:blue">constant declarations</span>
      
      in the
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green"><kbd>add-assertion!</kbd></span>
	<span style="color:blue"><kbd>add_assertion</kbd>
	</span>
      
      and
      
	<span style="color:green"><kbd>add-rule!</kbd>?</span>
	<span style="color:blue"><kbd>add_rule</kbd>?</span>
      
      What would be wrong with the following implementation of
      
	<span style="color:green"><kbd>add-assertion!</kbd>?</span>
	<span style="color:blue"><kbd>add_assertion</kbd>?
	</span>
      
      Hint: Recall the definition of the infinite stream of ones in
      section&nbsp;<REF NAME="sec:infinite-streams"><a class="superscript" id="4.4.4-sec-link-3.5.2" href="./3.5.2.html">3.5.2</a></REF>:
      
	<span style="color:green">
	  <kbd>(define ones (cons-stream 1 ones))</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>const ones = pair(1, () => ones);</kbd>.
	</span>
	
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (set! THE-ASSERTIONS
        (cons-stream assertion THE-ASSERTIONS))
  'ok)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNBiQuFE3NFEEtAoLJcgUQh6GIOhKF4mJAvdVJ0gUFgyH0CappqWbwlAAAfPbFNFD5SGqMQNsULaZrmmIDqO1IWDkjghAuybpp2-bDpfZaMnGy73pu2I7u+sUPzVKVNoBp1zia8wRpcxsUOIV6ro+iJCgC-i3Uh7bKHCgbkyW+4xAkYQGFnMEPgUSgdj6Yn5ovBI3VFBCjEoanwgAMk53p+kGKmbuEoFKDp5gxHxrBYeSZbyAUZGceuhnFtFMXSfJ0EUYBiy6Fl4hCoiqXqV8Vb8EbfAZDSXXNdxpWsZcOZ9AjBWduhgmWNFc1qDEOg5dm63FaLBa7aJ1XanVudnZp0TPe932tNdw2Y5966GEMY3Hr+t6bcDxmBIdiN87rf2Xf5GHLhYpO44YJGGGIAAPQhAjcZxi5u4jFsL20nf+m3S7dobUgqZQ2HISr6DZjmc+V1JQ7JimJ6j8ESyEECh5Hse6HhT77uJtX54Fiy81Oh0GDX0fss38I7rLwbzDPjfU-T02F-mju+cdovO7A9m5smBPy7cvfC+1cqK1wbk3QwLcBav2Dl-D+D4f5-wlobYassWDCHIGAxuxBm7j2gYHaeu8w77x-hZEeq0MFYIgc4fWksAFwzQZQxcFA5ajUfibXUL8CHBxuNiNOHCGDm0tnLbgcDoF90NuQ9BmDHrCF8Fwv8b8RgRkwogvudDb7SwYIFVOzAtBxwUcsQhs9w6U1IaJHRHwqDEDjrQw2Oj67YNwXQQxsQlGDFURzV2GjCaijeGxVEnRXFuODircgJNiEawPqJfx1BAmNkcdQ+gW9gb+jCREueUTzFL3oAE5wPwrH6OunY+hLhYnxIYNgti3ItDBNzm6Cm2jKgL24Hif+miVC5LifkxslI2gFj9vgxRwdGmBBkC00ApJ8aG3KT0hgnRRo6xoDmZGQyjEjNBE08Z0SdDeJQakYw7QZrKFWYg7hTMtEmJIdTCyhyBknJKR0xKxBU79OOac6mYRzkCXnuCO57zwTcAFmEaZpT+xHMcC8wpNjrqGAUbEdZFzebKKLuI0FHSqikA+Lo6xBjgUwKRQ7fF6LCZNxAtCuOcL8XfLdJ4ygIKzg+PdqkGxmhcT-MhQvL5wykWinSJkLl7TfGpBHtiil11BU0q0fyrIdKJjILBaKdgHgvB1PqZc8Je8sk3NEsq5QXhHmEz1V4Bgsj5FrMKO4+B38vEKo6R7QghAQQ1KgWcnlAl0larnNE8EGgnXUBdckoVLEpZUJwZAvBbrEV53fnSiRYLR5iDDc4qlUaQmEtjUXON6j9kgOnI422vKZ6asiXORxFlii0KZQPBg1QKh1wdPoDihaPUHMoKdOg50HbNqvntImR8hjvx7Xa3xH464MCJObJtVAGbnm6IybtM6-KEIHd0cIpRwSVtAM0boI6WLpV0YEWWOI2TdFJDnc8LUgTpRPZmXwUzMZFtBhUcG-N12gBldu6ke6a2kAyKc3FAd26hOLRk0xbNAOzQsn+jghqWJvGHrwCNLiYOFmAxmlFtpUPxo6ah01+A5HZH-S25mP0BUqKLthyYIZSi-M6PZcgvgZ5-r1n6JScCIxUb2WCj4wQXnmjTFVaotax36AE5pZwDNXyijrfXRt4nUS-hDHOvwjJZPjsneMhTkm-KGneAIZQiRAizXmW4QTOUTr9CEoZFYB7LPHu6BZbT9B3L2YUIVGC-AcRObMxJlzbnAWGVZs5ug3AniAgAHwqCMynELh6rPPjwseIi5Jzg30JrxwI2j-0iZE-WojzYL3FUnJQRZjIEPrmQwV6i5JpOpHU42jiiylMrBU74NTY6J1ZinU1sgdBDwNHPIZ0gxmQJ4bc4CGz0w7Ptqs95ix-7XOzdlh56YpV5vglQ0to97m0L+lZqhsL4QARReG6N7LHB4uy0S4xZLOc0v93MEhl56np1t0fa2w9Z1B0jGHYyrAHABAABUAASABRBgABBcA4AwcACUgeQAAPIADlkBAhlScat5gZCSDUKZjSqI4W9aSNwOQusSMqmMHl+ub3ms0fEAOdTYcQvE6oPTlYzQD2dEbKzkl+6Bw84J+Z944X0MCVBxD6HsOEfI7R-ztyB7mdk1Z3TvrlPGfkuWwoN8nXNNq6SNYHzhPnDbas1WvAUsWpyEUBAGA8AkCoDQL1PEj2XDEBQtY1u3AZo5gJZ9+GY1W5sZkoHn4SNg-SWaHyq2kcQ9FFo3JCS7CM4gPXKsp+ZsLY6zlsHn3dA-dR6Jn651F9I-+lKCX+RHv8xe9DYk8NLc4-5793t6CjShFIzhYm5NyG4XN5aAX6jUFo+pCypQYIDAJosGqGXuP0lSg1-XF78fk-p+z9ihP+ZjrS+ojz4Pwv-pR9T66fE8vBpF9rhPyIbp9AgmRxb-H1YRMpGUIb848-AZBK3BeVLGcjDMFmFdY2F+EM5+8e5FY28dIihX8ZECN5EB9fcn9Yhj8OUTlP9phL8Ck3lOU0CoU9EYVZpwCs5ICD9kCwwiZjUMCZIl9TUuRVUH8yCi9RRLECCDF58K8Wgr9WDIMwRGCkDmDUhK4JUOCL8uCfhhC-Z+Ch9BDT4TB1458ICdoF9xDGwgE99pDD8DRjIRtghvdRJrJbIHIXA05ZpyA64PIvIl8OgtAq1E4d95FkRuBE1uVlg6tKlToFBukVkGA-9kQWsihFoq8PDqAvDllf9Sl9AnDBBSAxAGVYh8JCJ3RhQ3xUhIZyhfDIj-CGYYhzwm4MgyprC69Sl8NCN-CoDoDph64tARBa4C84J6ADEptKjGoSigDWEyA4VyjmjKiXCKiWiVh696j5Bk4-ZsiBt01PsdEI98i2A5obNShpjQE3gaiwRZj5iJxmhOwNRlhEiTwFQTI9DoirIbI7JHJWiOlKBfASBLDBAHDVt-IDYwUO8LYu99BHFDBH8c51Vv9sRE1ItVCbDkZE1H8fcG4GUniOlaDZk79M5UYo4kCp4QMmA-0RZq9PdakYSdZGwqkA0vdECh9yCYgsDl9MTT85k+kIU+ClC5pH9FJjIMT5ZyTYT5k5i+tXIVl98kCf1zBaC8CuUvjiJ3DWUrjXkIV0D8UcjJi3Rti-I9j-h3DRUtdeDBUpSXRg4ijalMUxU2CJV8VOBuTUs7tiI9MqRtStdqY08CxGRDJNTkZzScUilBkf4wgDSh9dNYh3Clj08oi4IdTLSkYAj-RFoHSBYrTiAPSksCJ9i+xFo+ScD0CeiyVHTCD6VBU3S-dIz-J4x-tJFNkhEHAk4pQc8cENdeF9ASyASoRCzm5vZag4RuASyIS3dqRuRGB8B+A5Dh5z4idg8c53D+S481TOl9NqQXTGQ8CUzKVg8szCERT2UEyPl6UiSE8P1fpmi1hHUZp+Y2zBFOz1DmpfSsVlSnSzFPlNweigJdyOzV55CezDzLzQxnkxT7lkZkzxUiDVSbt5TvjpStEDzx5RDOD54ALGBQDn4hzDJmhMdUtcywVaCqDNDZ1iszVGRjVSiECaSJjzw9wr1WyhA9zbzuyN44UzVsLisazIE6zQhGQXjQYizBhcKJi4zGT9AzUwSaiyZfcGjRiwRcL+iBidJKKvZ1RPjQBHzBKigkDuMoTuC7YpyRCaTBSPs3RnzvSCx9Bmi7TRgLle8m8sLH8ZLCZaDJDqSSCoMyCitRykZGRtLTLwy9LAKDKyC-Ik4U9TZwyxNazeL3K4SoZKJ09H9l1g4kYeT3cr9QL9DEShTUhQ1Iq49cJxKShATijNEuyFDN98Br8rETN4qDKtKZDn83LwLEYqJ9BQLfL98JKqjWKKqa538qtm9qroJpKJZLdSlrc2o7dOpHcepLAWyVZUTVB5E64NclUnp+gXFRqkrOCLChZ2QWMZrtCWhdDpw64LJHpTZJqWgG4TAtBhAAgTBiBqAVlhBGg7CwVny-92jJBOjuB2LLLxcGkNYck3oMipZAt0IbrRoxKHrDT0tmUT83rai-CxrQMvUwQZALJ0iQbSk4M3JQ1vrOioiNdRlmkobQA2kFcccSizUUakSkU0bxkMaH0AaEaSjuKRiDEZBUbNkxkojuBdkwrv87h1KmTZogMVK0QXq2bAURzVjg1f15KI9AyCbPsrkNYkZoNhaqJ4bzA2br9Vj9BRanr7ZM1bRAyjKWJjkvhIFO06icweKDFoqub7wsh-rscXAHTydc8TbLVYF34LbDYdb8BqcWBHCWEuBHqMZ7akVWYbavaLbzwRYXl5yDajbrpGQYLLaWbf9PajBM8xKu8NdWYSqk6qJmzDYA7fKujPbngfa-zkVBgA7BacdPbwzc6KdIgC6g4kUIwS7mbqjtzw6qa9TE6Arfr1hQ6h8xaGkZoxARYE6OEvl5qOBO1B61wlhQxShWYrr4606O6jdQAWAu6DaVzmgx6B7VAh6wDwgAAeYEfuiezoKevsRfVaiEIHOSb-OgdrRNXgSlakLEf1WoZocEUAAAaiWugJOjOiFHNUTvCC-r5vfq-uat-s7X-uVpPuo02JWtMkvuvtx3shiLEAfthSfp32oFftEk-u-p0ggbECgbTqAdEgsjwfAfbT-pkHkUnpzWeKTyxF8s8pKuUqRHgoL3JjkmxDtumENkMDbJ3tNnTt1GHN9s+xlSEdEYksX04fRGxGapiBdr1qTUpsaIlWkokuaBKpUiBCJUAeatmHfjoeau0cEcwkAetA1pgYmJzNbBSN910fZDpjDrUd4rEdiEOOnFYYMLoEenKA-V1geKKB-JNOLGKwDsZGtvjsNNjODgEZemzrTqiLzoEvQmzreJLtsYSNgvEbdF9y4aIHePdLgo6WKszxYczwCrYcTA4ZzEKZ4Z7rCZiH4cEYXtzBgd-PVKfUkZIZ6Nkfqfkc0paOUbOhbvUb9k0fQm0czycf0eHpXMwP7BAgdknoCsWaMnwpcQsYWasayDoeyaSxDFfEcfmpDtrkmlFLcbjg8aUYvp8ZOP8ZEECblluNMuCfjGNMMnPEiaBGiatlidDEWgSZcSScTpSYpzSeggyYzohblhuzsZybyfdzke4eKczP+3as0U6ttw6gd26mdwwAGtSEblCO8IiM0SiIcH91IyIUyTnGONJbCJOtY2xpcCZfJdrUmg4DjjL38KlSLutSpf628XPA5fCMyOxdoo1mdF+TmD5tiDmAnCN1lZeo5AVZiA5GVf6N+QQg1cnDgm1dVbnDElBH1YpiNemF+T5V+j5ptcyH9BVatZeuCidUYz5tdZHnawNCdYaF+S8Y1a8b7F9ZgJepuBFnmRYEMEBXDdUEjZahWBDcKF+Q-v1diH0HWtAF8GOyiwsK-u9aTdiF+XcjTZiAze4GzYBIsK8gLZ1ZeobOmHLazZzdAAsMhCzZiELZiF+WAFLYMEzcrZO1bdADAFreNbBHBAAFI+2m3B3c3QBJ2O3QAu3gQXqhY03Z2W25qRJs262TWABCYSDdgdrd0AQ9oEXd8diEPemdk9qt0AA+mIS951k1vegEUtzd+9t9p9ld35CLW9it09qLH9vdidiLd97gIoT9odiw8DkDq98Efdvt4dwoIdmIfd2IUa50J0MVzwzl0NNOybFYcsuYbgcVllyV5MBlXDsliV0NfAFgAAKz2qvRDHLORABN1bw-CL5rgXGKhZiHI58KtydCKlHKE5eWXiIOlbnF+W2L5u2JXckqLZesgDoDVDiV8AVbU406uKU+U9XZNdjYYFgEgA1eM9M-0+U9+WM7B31ds6s8kt+RR3IBRz7Zc5Rw2cqJw+Kwk+yuYBM0I4BDY40CiIBIdhprI+44o6k+XNSl8+i58Ni4rqI+mHY-C-VqyBpqXr89i4ZRjuCL878IcGcNiIpg12COE3FFIDYF8DGcY-IDzAEdOk0GGegj89CKdVTL5epYE6KETXK6OCKFKYy34kIHGd4rF1NqbtqOuYlWaL9W3KbUS4peTBzu4EUdy+KhXhzsc8KEW5EGW9o4o-o6Y5Y428Eq2-0x2+Tr69iHOdceGImbmglkB2cZeTEC+BXoSSe94onLG4m4MVE6xao9alxfty6id0wBbJWIoFMAYCOQ+CqhuFIFVSPmoCfF7ulQfrWmnDgXR6fFgaWY4yLgJ7+D-jwfBAYFAbHI7SIZoZ+w8VJ9Hgx-J6J82fx5Z8J7Zc6QUBuFeSAP2rZjp9cORcEGUEMwUAyC9yMGcIl5bZai-rEwl6cfBHfo3XfrfvIa-vIHl7u4NDV6BSoc7UzrBQcGYWMGF7OlK7iJt9Bgt7Q3-FNsIcp4hDwYmn5+MEF6lHLJ73N9HmMBt4mEp+sHBB5-96xReVGh10TTBrSF+jE1iOQI3RlW0mmGP3nlj9AG5mklSPj-IyLlj97UFYjCL7PdUkrWT4MAdiz-ms3TT7ENh915AkR9ihR9VVj-pPbG339UDRcSz5z4nBj1z3r3AUb3HiL5XI3Td6-oj+p2j8Z8T7iKX4p7AYnHfpp5KsEWzytlH6cSqzL7X77A37wbn6j7IB1zgRcJX9X5s3hAb85zKDoAd7yjNZt+4DP6YAv-Z6UhZiXE76-xn8IQerbgPPBr5J89mN-D-s-wD7n9SAPEEMKgWN7nQABSzcEAAHIae-xYBpgMQG09qG8iWPuHxgGR8EeBYUgPIiOQUC4+kjOWKtHWgOwqBz7AznRhEAgNggIDOyFpGNxpgQGqGeED-2SpADGB5A3dmbX0BMCl6n-aPsgS2IkDLeIgsgGIIjCSDoBDvMgUoK1puQGuTXZQC1xAg1xG4HgcNO8Qbhx8S8eJPfAWgZx0YsGffPmnvySQuIC0+vX4voB0HrA9B1ATQA5SMEnI3AQfUwYQD-h4Dh+yMawV-l+SVogUFTIRCWSCGCCUCO1QgMzSYGPwzC46PwSYILT9kUiDqXvmXgLRSkfmJRHRkCBDBb84hu-CmmPw-xFCPSuHYwWZhVyxE8K5ZNIaYWYCZD5A-gsStf3qEKgQypQ2ZnXz1YM5WY3aHoeGhZytCl6cCLIc0PmSzDEhFBAjiMNUgUwH+yVBYcYBaFxE8BawjhKrw8HNdvBBg2WuMKXCHCM4rg8sicK8E+DDBUwgIagzhRFDZBBracNcNNhRcmhuwpYXEQmI-l3C8Qoob+UWhRC+alQnfrbTMFAivm3TASI4jlIjcWIVxEgAkKx5ExWYEQ4no7TMF4CvGQQiyIYTOLu5ahyGdkNcVZaMoZk9AVYm8LMFYi-+cEBIQzgjC4jNmRI8tL4yMLnEGqbkFYrCguplNfMmVU1PxmEAVBBgOQ1WlSIxE5C6+CmMPrSITRSjhcfmRgHjVlGm0HYQoz8gMMhKExnyM+G-J2mgbHwIIHTdPCnSXBk8OAAVDcDz1NFsR9a9o5GC6LOga4HYnoztKXRcC+ik0EeQMRrgjAhjnRdaMZsJgDoWjWeDo1qFXTlFVhPA7osnHnR54zdBgqY60QWDTGJjTas9H-KakjHmjsxgZPMfC2ZrqQAuNAL3DyIDrQCnmZMI+AwHUAiAOApABmHSMIDV4mRzTZIt3wHRgj+xppAQIGLQolik00YmJg3ArE1Y4mT6bYmxUnFedVyDgJsXmlbFCBhAHY4kQmPhZaNOkPY5cWaKDFlUQxhzW7NGQVJ5CSWS4YcYZEWisxcgx4h2EUO4Avj5EHIuEZeNCaPiNSDcLMgxAYiLRPxCQ5mm5h77N0KgXrLsGyBgmMYw4hgc9HKPtZgQ2kDOBCb4CQnEgngeAiYe-EMBtJXB4WIdpBIO5kwsJXYbXGRCIl7cDODQKiWTGQk4ZR0o0Z6D4SYlGB4JBERCcxJQmm00J3EqvkxNTi4SPhBEkYHRJIkttqg7E-oJxN4nYTBgok5CU8FcH+hSJUWSCZhDaT0MOkkEmQCPHZihdoiovQukZPZwzQrsOuSCexxK7UhWJIaYyTURsnC8EszIsjN-B2xV8ZUoQjmjVwUkvIuJhkIlNrj25aTGoLk6yW5ncmyxaJ4U-ScZTricVa0FsSkKCAlTZiMEUcEulZSpDjigQgY3LDGOzEN1BJHYMGF6BPGuixAU-HapxVjGjhWIVAOcevRKyLIGA4bLiMVODErjuAOUtqczRJyMBup29DiANNan7i0MptX5qpBkB1hag79BnOCAWl7AlphI9oEEgmktSboDOSJjEFCGpAB0zafBrEEXwpTm6QobKplL9g7TBp00j4SyPggzps+PMZ6eVRnSXDSsfWLqVQC4gRhm0GklYBGByn0TQwI0v6ZxG3qLpaSijdCA7DBnAyBiWTPAatMWnCAVRRoliCo0BwWZtcGbW0ayMzaRSZUWg8wGoBMAmoCKIWLyibnoDcA0hO0tIXlOIjngxpTSGkHMUZCQyxpEg0QZUimkhYLuDEvsCzPTGm0OZ6xVXmtI4CYyGcfkx-rjMkD4yds3Ef6XG3WLkyradaDUb2RGltSsRhk4yeWSmw5SH6kWS8pTP1TzJGAtM82eZA6l9Y2p+vXHNDL1mHkDZj07xG9zwy5AHAo0RkAAAYschsGoPZAuz8Y7BwCagIMCVg5Z-ZAUxkH7I7JJyv6eIYKkihTkByyAPPZ8uHLzRxjkY2YvDBYL761pfQWI1mPXzI5LhS50c2KLHMgHuikEqItyMZl1iFyHQ9WFDMRnykCB65BQxuaaA-TEAI5g83fEJjjl+RDYs2F5AxjYCqodRKwFdKPExGGRSg+cseV3L+B7iJ5lgqeYs2Pw4iCRZ9T4Y7ECDzzOgqqN8XCORkLViAV8xeUK3eFQVkhKIsXnPIYALzVU2GZmhUBIAiAx8zg2cR00tHxjWZ5IWeZfO-nXz3iw5dwkOKDIGgTmW0-ZlzytGOgumBoRaO2gLBZlPm147Ba1hQoTjTxJUmJkNKTLIklxLAVcV-gWmER4Z4YGBT-JqljNgxCLLUFgH-B-iFxn2HEeEH6YPyn5N8x2nKAOgiLYFz8jkSsOWqMLjAQE3JoXS-lsKC0jdS6bUWulTRm4u8ssZ0ENlsyUKk4shbVIoVWwypEswUCkQw7vgX01Ui8dgsWgOB-6UMnqZOM8ohiRZDEtcENO-rAjbxeaaBmwF-CCU8AkICJcpmMWnjTFUYxgKVIMWPTZywcWxZVPsVfgQxzRQMHQFcV8zUx8MhoL1PPH9SClRQEuhuQalLd9FbAKhYQqSKvgAF25YBcEsojgKvaWTauuEsiUrzg46M9aZjLlIIi+ISKTMU1KtG+KklsFbGW5BcU0M3F40hcHeEgVi85pQIPpXLK2HnTRIssjaY-36TbTFlVfAOkdKCWEA2kZ04kpUq0UWwdFkCXeWcrI5LK86Jyk6eegZyZi0plSV2ncseCEA7wDyx6TEC6WQgTlrMM5VzHel3jWRfyqvrMtxB8zAZxExRoDNJD3zYgcK+ZYv3BVortw3aVFaUoNCozH+6ypaczWCKYJUM1WRmQLK9niz8xo4lQM9EYCoZk5M0Tue6J7nVZyKo5DFdLPKETgMVfMpmVZNJylKKsSGJvEysjngzQwdKysabV5U4ICiMsjGZssuWKz0+KVLQBoIoHVYMKG0KVdhg0nKyJ8YFAmYqq5m-xXukgUAJLgYBw5LIAAGTBzo41ymQUOWCjdn45UMbOH6aTkBVyjnsNOOuAbn6wM4lcY6MOD6tDUfDucmQSOXCn9Ga5WSjYaNRrjtUOrnV4AHnhGvrRRr-0vq5rEbJokUS2ufYGbGrPUxdZcQPWEVf1hxWFBNsi2ALODIrVzYa5C2DgGbhWxJSK4DhBNaGsMXO8aJlkkyQo23Asqh2l5clZHKpVOz-VJdV2Xjk1kFrB13siCZ10uxMD+ZSgwWX6tCzTSbJGuY2VQFNmDFPaAJQyORK3K1EQp6TXWarmFX7qXZPRSKcEWjVPrFkbUpTkk3CmN1GSOqygaILnFHr+5oAVoBx2vSSBHY1InddQIsh2lANwTQhEuIg3UtFIpQSBNyxeTbqmBIGtzO1LQ0uJ9RaZVQYeoI1kr1ReGSfLTJCxx9KVdGi5bpEEBUb-0dMkXB8IGAq4xRLcOjTzy40eyJ+PG+gAzEyz8ZhNjAYTK9j43kgoobAbjfTPeCMg7V0ueHIjlRzZryQKmmHGprlyurgsEmo7ACVNgKaRc8RQuuCAxBYyCurGx4NhhzhibI5uWV7H-Nk3FYTNCa5TeDntVOqXVfkDNb5v011z-0Rmodh5p9XMVelVmqsSykua4g3gjHSIh8RoEJ9ktPPB0glvLhBDzJtdGNCMDS2qjcMOCECJlpRCMjCAOWn4t+Iq1JrRQYdYKIlspbJbPJ+fc2uCSTUOkGtWW5rXKNvk1aeeyZLrWVuy2hii4BWsmuYBqBiBrEZMbdT1t1H4j+tbcimfQEY74BqgF0OgI1tMBiVf1PklrWHVK3JhNt225cvtPLpuY8BCW9bShmK3X5Tt4BLbeXFdKPlEN26jLatqy1HblykEAzntoSzeJ1svqNgQhoA1MC+a126oKJ0NgNabt5VFIA9vw3hSDtcW0+AjsiJDadtvk9co-zklkAOJwUpSVKCmxvbRBR5bFJjrBCU7XS5G8Kb9qg4ttYdG2wbejuG3U6VWiVdJhdsSn4wgdHA0HbXm1Xg6BpCOm7dDrBRTavcfRWnftrlEnqx1Za0ML8wiw8KUFXk94mDrJ2S79qgGpfi9tFmFATVqsubFk1sCc7kqRus1WrPKX-hAI0FX6PTqRDc6fJvOrzOCC4EgNSdSgvmtrpqwx164JgfgOEL7HTdWKPI85p9wY4-A5uO0ZmvcP0GeVpd-267EWGBYjqTZoXRSMrsUgB7DMtSasSvAx61Jmq4AwEXOJxXK0ycObeGUSJzDeKGJJxPkeyyoBgLbioDHhbbqKDgh49Zw8MgIPqmW63J5S0MPbsyACdk9PEV3ROx72PDZaAu0kjhtEF80Z95wm0VjnZnmE0dIUL1oyAACcJwGHexC9ZuTKth+7fYxhsm1pRobMRsggsCW9Nf42CgJQYBcDzUg5tzViEfsYz6B0B6AiyGgAAMfMEiQy-0J62-1hSuFjEr-eyholxJ1oOk1FLSQ-QeRMav45RTEDAMwGdsV++A9wBuDjpMD2swQGwAYxMYUSGlESnxiR2y7ZpzuqzFPohD0ZGMzGAsJ7s13e7nCJB5g+Qb92Gwdhuu6oKVFXBkBHokCPTmBtaCMgOhvgDIR4T+HTpI+uuUqJTyOACC-Ir4FZKQFEOady+ayyBGPXjjYLMDEITyF5B2HgbRB7oZ-vwBiCmHfITG4w5-1w3HArxSRCIAxFfBxYt8a0eZFKKlCtBkF+3WzS8ho0SaxM6ouLHjQCOXiNDIh12jofPaiR9DxSD-cYfBCmHPITIEXCxulGWEMj9h0JsBJANFA0jGRzI0wIvCWqWoZRzyEAYwPQG3JV6miWeuhYXqTs1VJw2ToKUF7ZoRe5GK0HL0GA69jUFtn7hlVarF9SgiQUCjOh4yrdc2Mma3JzLTKccfpECEIEMD2R1ogh-gMhVHKSGgQ0h2QzsIUOW8djAgYBqoZuw-NPaeFL3bqoGPUhZjKs+Y8ekWOZyJGCfAOqfRkju78A3+aGWdF2nkApI-4OQeoO3U9HaxtSR4xF1uNL1K9IxgEmMco2mbNR7GzUaJonxZY4sUm0TDJsKDaaZc6mtHDzP-6GaDALbIk7po02RakUlmg1BLH4Pbr0BCmfQKLIAA6WABjTerJhb4ZAwQHXDKgraAc5Q0EP-aJE0OiGaRzJsnaybFHsmGJXJnk4Ar5NZUBT8A6dKyN4Crgl6PQVmDqdAAAAvTcDEC5P9deTTAdU4KcRM9ATTYpnSBKfBBSnXaNIqCJLDWO2zNj60Vk5af5M2mB2oAl6iCY2ogNlAIDTGZMHQFOg8AspqY76dVNWnfCAZkU4ZwnYhndUYZiMwIKdO+QgAA')">function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    THE_ASSERTIONS = pair(assertion, () => THE_ASSERTIONS);
    return "ok";
}
</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_1_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_1_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

    

  

  
      <div class='permalink'>
        <a name='sec4.4.4.6' class='permalink'></a><h1>
    4.4.4.6&nbsp;&nbsp;&nbsp;Stream Operations</h1></div>
    
    
    
    <div class='permalink'>
<a name='p45' class='permalink'></a><p>
      The query system uses a few stream operations that were not presented
      in chapter&nbsp;3.
    </p></div>

    <div class='permalink'>
<a name='p46' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Stream-append-delayed</kbd></span>
	<span style="color:blue">The functions
	<kbd>stream_append_delayed</kbd></span>
      
      and
      
	<span style="color:green"><kbd>interleave-delayed</kbd></span>
	<span style="color:blue"><kbd>interleave_delayed</kbd>
	</span>
      
      are just like
      
	<span style="color:green"><kbd>stream\?append</kbd></span>
	<span style="color:blue"><kbd>stream_append</kbd>
	</span>
      
      and
      <kbd>interleave</kbd>
      (section&nbsp;<REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>),
      except that they take a delayed argument (like the
      <kbd>integral</kbd>
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      in section&nbsp;<REF NAME="sec:streams-and-delayed-evaluation"><a class="superscript" id="4.4.4-sec-link-3.5.4" href="./3.5.4.html">3.5.4</a></REF>).
      This postpones looping in some cases (see
      exercise&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.81" href="./4.4.4.html#ex_4.81">4.81</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-append-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (stream-append-delayed (stream-cdr s1) delayed-s2))))

(define (interleave-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (interleave-delayed (force delayed-s2)
                           (delay (stream-cdr s1))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHR0lVVRdSeRpiIbiEpKLi0DmF2sUJNvklQQoVx1EAD1VLOjoVtZGDMf1nya2UlzpyHr7I9roikkjAA5hdrrd7rRATF1j4XoZfABIczTJzUVSidzkaiMRwxBqULLCVawp7vZLBQ6yY6KDFY+S4-GsQnE8442bzRbLWiPfKjPQTD5pDLM4gAE1cKw8ZP5my2VMiYslJJleQSCPlU1F0myDXFknBN1Edweso2FKCoBYknKokcpxJil1jQNjlUwOyVixNXqTWkMPV8Mtwo+Lv1hqa4v25vhgq1KTRNVEAEd2mRcsM5SHttTk2nNKQOqn00WauRjjktIGsxtNTmRTMGqVSOU+RbhYrws3qK321p68Kk5ZrLZy5WEv3Eg2uy0RzZiOOFFXyFPBx8k5JTSDiCupwnKWIlVv7ju97GdPGG0nxaJSLrsWag9PO0fwrf756nRf11t0ljmEYNdQAAIgAVWIcpiGoAB3Ow6i0SRLlAABaFC3xpBQQIMABuLAAF8BBIM4RF2aR9kEXRgRBOgjFMfxKHwUBFBmG5KBYKVxHtR0HkEAw6IpedbB2LlandRh2M47jiKdSidlBWi8P8fCxADUR7CYlinDJEhxQdGTeJIfiTApFR6HIUBbkIaQLIAXgwuQFEUHjaEcKMKKM7QG1DD4rgUCULn0ShmF3SdvJ80MXMXD13ByNxAT4ryIuSopqLoJKUsy8wosC8RgtoPc+P4pTkiEuwZjK1ookUKybIPIpgkq-57TM-zV1ql8fPSXTRHwIlRHFErQBU0Q1JMlIANxZySF0cDIOguCCAMkRyFqTFUPQsjamwobCMIrAopCBwfl6KqAQOa50vjcaAjK605iBUFQFsgA+BzaWozUxku3CCKIoQVgw5UpVoNVawHa76P8O6ZnIRhCHIAALfZqUc3IJRBrIWmNSUlici9nnjeqrVR2kzJVaUWjMugS0nAnfz-d78doCnQZaGQ3DZLj901PD9sOvMaYLDNFG+FhyCu8YBICRjmJmURYlW-NSw6chxdo6Wijunq+viQbJhGsbZa05wtx+b4Jy0UW1Yl4yoeFO7SacvrGG+JcFcnMXbe0KWhuG1SaZulJqYsl23a9s71Ps8KnZOYLw4rZdPZt2ifdeP2Zc0iqrAXSPnPj82bcju3wrusPC-FyOM+UgP1Ptj5HaVIWVcUcLbpNQvLYl631eeX2Q0IgI9v+ki7C+E6+hIE9KB3AbFAGE1NYsHPhJtVR569Z63pAgAqKftz1neQN0BfFL+g7lvgpZF2oBHHA-B8eXofcg40uWnGbwtMzhRIl+SEPQBewYPZT+GZ3YrhrD-X6WwYZOAVqoJWoCiw91tm3bYxBrLSDQSKXYmhxSi2vj0O+D8vwrASgXcByde5vCykUOghDb4-BIY+aErdaHChtHaZWX8aod0odWFBGtioG1rq-duo5ypOGYU-fc4USjHUUNIkkvoujSH3MTAI6QMHSGkH7YeF8AYiDzD2PsP5IaTAAe5Z6oATHlDctQaM+4-YAJbDIYBgCGHELvI-EkgJ3LQP8AA-ep49buPHr8RwwSZ562dL2NxATl4SKZkody31-J6XGPlUKVtXEBgyuwgpAQomz3FFdbBhTfKvF+vzS+QNKoWyTlbMxUtX53U4faJqbQlDYNjrwiRRpIRPnBgKKW1SR4kiBtPM8dNnyalfgA5q1jelTOyT8ZqAyTRQlJM+Qm-cAgrJUf6POKyVyHOaDzUAzVeaTDus1Pm4zAZ5iUUMn+cz64zBys83kBMUT+EmLONG01DGLi+YuDkIdJBaHvt40h3ydn5J8lLSY6QDmdCOc1RRMKWGLjRec+moBynCl6aCyOGzTRwuGTQipiKqn3NwGAKKDB8DMDYFAOAiBkDoD4AAJgeSIGYoQGRqIJq0lekj+iEEaFiF+oAAA+srvIzG+BJYgIIZXysVU4JozRRCQpfhq0MMxtHCp2QEA1woZg636vggm9zDqCvcC0DFIrjABBuWK0AF46WHVhpIEEIIBrOAUV7XQSN7QVhBH-WB7pJDBRQUYAAZAm0AiNdX4K9kYWyWbQBhscBG71tSjVehfvXaNEaA16XHsBECC8drn0Orilop0F4lvdUk1Nkh8EVkoCaylYyDGj1FCcmZlLRVJN9f6wNVazEgWHVoOthFDpzvNn6PFprS0eo7V22Nait2KG7b2qB-ExlLoPqc9ZVxjTku2aOjd7a037p3Y+nt6j+0+qkVimRGax0LlFOWqdwabazQhVC0F2E5UKsNU4f9lbAPi1mlICSkhmz2jA0YDVi7akksbfGoOd090HsUARp9Gbj12qw5+5RF6ISbIeN++2+GH2EcI6Rt9hanDhjdJewZvJ6OFDLX6itQbvgoNmpxw03HaO0AXQOiZ4mY2xW9HiRtgI+PQw9WvUWq6m19AXroYjL7WPkeBSEPUbp3K4YY5upjT6WM2zI-W9jjh6mJw9lbNTiTf0TqE1WkNoEXNdxk4dSqknr2Wf49Zztz61GkYLSZmY5NMYeA8554S3mAMib8yBRLqoWiha2eB81Hx0uwcy0B0COXKb8PIEF2plW2biQGpQPGqtxZLzuuEyw+BROgB4CeurLMktU2hLTdz9m8Mes671Hr3L+smfq1jWYNksRc1a4kCbSSpvdb8wAZjY-Fj+o3kEpYE5O0rq4stINELVkz7TuEiyAe1ybCiQJXePoAlOc3B1Xeq6p8brrzARfvVFuzbWvsTPLtVwRT3gfps+8ZwdtxO6NO7o9jbv7Qe2wRxM+WisxJXeh+jtLmRMHQ+x4DAVZsodo6s+OknOjovQ-24OpsLY2wpcsh6krwmLvlZArYm7g7bH2McRzxjIOSP2eZzjpwZFmtfv+0Drz0HBMZd5-B0Ccu8YrEFxDy+ZKtnhfU7DxnsW-pLtBAbshRvUt2AM2ozHDn9p4EZUwVg7B2VcC5WgHbfLxVwwRsjRQlwo1c61WUaQurVgh4JaGYIyEs32QD+pby-5GCAWD7NbVkfIViGuHeBQ4pdCWCLJQLi4pUgydk4DO7UVFAxS9PFXQqTzHiN-VW7LXhdL6WBcfcpDe4pYiui3-umGDvMmGN3uv+BQ907zar87zlgNd4ClFXXgMcoD6UwlWf7fjrOem-gXQfXyciByhZmfP7hJbaX6AWbp+7A5UySFQqu-r-7667fvbcXB13c6dVVqDYK-MeF7f-dod7QAnwB-UUMApQZqN-f3BfHnRQK5fzMVSOdfEQWAsUNqFArpBAlNGzF9eA6XR5MgUoe4VVXKLJPcFpO9DHJ9UfavM-ChZlYtOgttX9PdJggWcg6gGmNyCiRTN5N1NvYSD0ONNgnIa5QiABXNeBJWZ-AqBIaxY1PCZguwWvRTLTVRK6ZqWiYA0ACQoCFTXQfQ8HDfRTM5AMZyRTOiUQ43Lgh9KQ0QCws-Kw-Q2wr0ewv5MQuwQjFw0goxS4dJagl-T2bTPQtxZvLce0DgvwkITQEEJGHQ-0AwxPRI1VFIyIWibyYIYwxQLQ4tUwy5eJGIgQpFUMdISPLIxGVI5oAwgAHkyOSLqJyI0RJnTymhAgABUyh7piBah5IQRJUEgGA6AqgFhKABp0gQJQAABqWPApZVIkEERifYFTIwRY97OYxYwlAIFY1VdYvAgMfiNuNPDPXo-o-AUQGCYY0Y6sQBSYlwGY0CBYpY9hQ4tY-ADYyIrY0CWad4-Y-wL4449ooIseMoSoaoRtPORtN5SYXg8QZwModeeIooBta+eovJUo04sRLWMPCVBnTY4EqkfQFEjENhCpQsCg1YsI5Qq2UZYE9IRtZ6bNPdEkwpYIPddo4E1EDxPVFjP40NJ9cE6ucwQeIoY2cYNkpPVNC4PHek1ZP+LYSaEw7TWaCCJoXSUAWtBJZIQ2QOeuLYABFw6xSHFwg4dOUuD1ehPVFw6whKOwhFApB0zwwI-UoeA2Tg4ScYCktE60mpEzVFbTOEjU3EhEgIJE-0q0wwfE7KWpO01YEo9o+M0qQk41bE3IzKMk5E0oSkvkmk-gukpQ1ZWMs4zKFk7TWUwgqLTkrKYIGmH4Hk6I3EjoxmJM03YUnNUU+JT0muEMaU-QGs+QxU0slcFUooNU7EzU4gbUiUXUzeNCHYM9BIOtLYQ0uucKU0xTc01g7QvZUMO6Tsh0lTLwnIKlCpN0rpJ07w-siU70hIv0-MgMwwOlF3S+JlFlD3TgTlXgDAP3UUNiDiKgLiHvUeIFGHZXefM7ZAuSECYCqSTAuwRC0C+0diBYNzROQyYgKC4Se3SC-tABVCsvaSYFMJBRS0DvLdd7fwLdCKS8gIDvA9Wi8wA9Bil08wDvYw1iow2NRgDiqil7ceXi8eQSooDvI1TBd7KSnRYURi-wDvSUOgBYSQbaXQZS1SoYj4BSril7NU1itUnyXSo6ETECG0JGWYBoOgY+CyxGKyhgLYEyjveY3i-wTPUAWoTNN6ZCRY7S5yl7FCNy8wDyryreUAZCdCfyzi0y1cXeYK5iS4XQMK16CK0AHeTy8wAKsy4ABK0K7ytKsAaKoSsygAUjyqSs8oKuQlKsytAGyrisTzcvyvCoT2zS8pio7wAEIs1mrKqUqfLQAer7IOqSq4rGiKrkrqrQBmjzBRqJKXtGjbJgqWrUrkIlq5qGrFAQIXpJqqrWrQA3pNrOqXsXplrdBkhVrBqzrjqxrtquqEq0qAhUrzAur-AQ9LRfpiKJIQLSLwLlEVNnoQxNMt1dASKwLGUvroQLJwayLR4egGgAArAvYBYGh6QQcK7in6pC-TIgtRIqEy5IWG-6shX6LAb6ySNCsUC2R4+yKtDvK1PWd7RmgaQm6lPSsyyAYgXWVwdS8wLmnm1aNm9mjvOyxwWASAVisWiW4W6lUW+QeygAUV4rFsVtloqQ7wADlJBNaErtbNb2zCkobzIjDsaqaQMV1dCgathNMmJUq90Z8waza-qLaz4KbfqwKLbI5Uabb0bwqCKZ9CZibXayal1RJxJKa-rp8Zphjx4CCtpHAiRIkJQsRyI6TEbJApB6EJIEEqTkpiaMLI8VwZFEpylqI46cJkhHMTMmyqglS9wCC-I8F66woUpcEJR69naIb9cSi+TzBg7obIVLa0j1b-B278FiacpqAkaUbdA+7TbI7PbB6oVzCYqthRyEExJxyNg6VI8LJc0QRSgGhwht6tBrFa7qhT7VwyaPzyK3dWUOAOVuBMBALWp3AKBHACxvhzgbRGA2xENKBkNI8CCpKpUgICKAGgHXCKyGpazt0X1CNIGUNj13iQJHBdiPsVVvj9gIHgRAHkGYHEw4HGckHgG3C7AYgbRkwG9C9rYsGDD6DhJJBSBSBJVrJaRRYqIWGCqGBFigQWGayQI5jgghGRQdj3jmHSBR6PghHdAviz4x9B0SAYoaY6HViqIFINGwRlHgQaY6IkQfT4I4ZVjUHtr3jKHDQaYaG55NNqJk6VHRAtGNZUGDAQJoCdHXZw0sQWBHpI1DDZK1FqJiYRHjUQIQwkwq0gnQAk0GwTZMzCMgn0NZViGEnQRjJhrQJAhsIQxggiMH0omMiQIsm8jPVaA4ZmGfgv7lFf62wgnU935OQpjtdeQomYmIoi1Bgn8aMwtEn2yRGzHFiPGBC3AfG900pfGUG9iIo5iMHYTm1i0umr1DdEmgTpm3jBniAHG81vG8mJcX1xnemti25sIwmqjQAhmlAQIRKtHdALntnGAWBCHkgkwCi6mFRznNndHLmeLdAq0xm0mRT9m0nCY7mRniYkwviJmcnQIAByDB6iVBuF8JzB1Y44oJ9xz5zxz+9oRgfYAsXFkB+nNRHIMB3Z-BfF+a9m2K7ayFcUHY3EHY6CGrWaE8LEZl-zaya7Y9aFi5slxQClwmQjAV25zF4Z7x8Fj5hxvl4Vnsl9GVu5gVn-CZDOrO0gHOtZLpcSXsTZC6VQQlxp7kJ0S9YJ6l2dLkeXEkd7RZnjVYY1teooTTFVrcNVygBBUlG4bVu4Jx3V7lxmDppQY16FjvLJuR0M+ZwYY1iVy9JVwGCl30RCS4LVosO4H11+Y2GYLXGRSN-E00nu6s6OLYOZ3TBZ-XfLB4SN6ub6z1mmPSNKaxTTONhCCsRNj15Nq6cZitwSD1HKVkwpni6FgovdVtzZQNNKQmAi4du4UdhSX17UHt-N7NK546U52Bydmt2YBSZF+d1RQRp17O11jVqIFdlIfI-ioFeG+E7BR1zO519V915gNt71yNiVgo7d-0J26t6dmifUzct+OJ9g64EuFIDrF7ENwBMN4tiNwDn90RY0znJJaN70oMwdVaTEVNxh8VAowN957gwD5F6cy9WcqCWCOwMtlaNaLl6AyA7uY1-xpwLDvD95wjbD7UAj64IjhaUj7prZUprQMYqvU9GmRgZRDkBoe0TtW8fBWjjDnNCj1Nwp1l4Ttx83WpCT2YKd4T84CzaTwx4h6jwETt53MAekbFefFDMGhGHYBcgNcgele+z1RGOYNwUAHbZiGmQdHbH3H3XwDQlcugXsRQO0WoYvO8XEUpfVzMkvML7M18Fm8UepksDwIL3GqLPdKLxgcLp5j4bkh9dL8L84vzgL5L2VtRPLjWGNkQO7CsFDRQP+FxOJFoaryPaxDvHeJr0QI+fU+1KEqoQL0QMSHgXQILxwWbNMgBCYhodr6xE8Ir-rxwQbkr2JJYRrqB4RLYdNpwOL0WQgSb1byc4Dj1OL8U-2UaI07c6GznFQDL6bu4WbsSblQFmLHb9rtbo8wkrbvLw22BuL5kxbz747yUh8qMwtegNlvrgbobubh73E9ofb3j74J43blDG7-z0gcH+bx7pb8IF7+8v9y1FO3WOeCbnHtMg4qwefF9XJMzyPe1nyAoqtYbhbgo4b6Hkg2nzKQjKnnH3H39uD4OC7vLlHu7kbzH4nvb47zOBpj70LjLoD5IX5FIJsinp7pHmnrABXgpAo5nqHsw-A9n9hFjZ7vb36DX3n8pJXwjPL3XqIXHr0jcx8-wQ6TS+QUgOox5tMtpQR-M6E49nyEoHr1QbBdINgQpokITmrQlYIMPtlwlC4qaFgDjkj0AEzp+DaHslDdc5SXT538gV3ulABFPkTqB+t20cNKB2rvCABGz6xQv9kcvq5gPutYiyz+yWv1ydr7a6PpT0O2pO7VkSUVVPApDczmH1wwwgo0hxx0f8hmxIkAfsESfxQfv1YggvdZf1VGf9fhfrpJfuflfwwwjLfzfvfqgpOy0yf3QQIwwmbtHi-pgbw6Apujuu-1Aq-mTgovvk-tVF-vX+-i8ir8VIhnQ66ducVaQjpkwE4g8aaVAWkOAJcIit5yekRDI4Ec4ShI8jAP+IdBUCqAUYgHNMht1aBARs2fPf+Bdy37WIt+idRcJaTgF2EJejhYnMnVvCE98ER-Ukh80QGECUBtLdAbq0v52Ffu2A-YJQIxRH8eeoiAgQxz1Zw8EiBRIQXy0ja6B5BzHaDuINO5bkfIjsa4ADwd625SmOAn1gAMwa6oWADoXUGrHRox0GGunfAOYP8jlhLA2QOhiYMcC20rBwiRRhDjsGaAHBJg5wdkAi6k5lUJgk1samRZEg3AOeMCreF1C1A544UDknDBCH69au4VWwfIHsHBCnBWQ0wXZkcGPMPBgFJ-npEYjU1jok4O-gaEvBv8LEZAr-hQK-5UCHQ2hO-oET9jRotubAuPHnnSRD98GNPUAFUP4HeF6mHocgJzFcEu86iIgnfkfw0ryBhh--auoOjGETCLKrvevAsMGFbCahCRM0oU3wA7oBocxaFiBEOE9pjh+HNMB4DGHzD1s0LM0oDj9ZOAgBYwowNC2KGJ0+g1McoVbFuHbDqhAg54TGjjRvDomyaViGeyqEmtVhK2SYbnzqKEY3h+vHyIRmhEojQwsIscOsLqJDt5A0jdmnunRHz1MoHpZFmcKOF0sjBlBQ+lYFcg5Dg8BBAopVVSGpVjUEJBzneDsSQp1O4fB4IpxJC6A42-wuNrsMCQXccRB+CYjZGsRYjFwOI-ljizEj-CBRKwOelS2Siii6BunSUR1EEbnDI8dLaFmEI7KrE969IpIU4N1EmhrIiQIwYQAEJz8rgmw9bDJyVTGNB+eI3+EYJs6+CnBQXBbkF1G71xxu1iGzuD0DH9d78IAzbgT2tSiwjAwQY1CKDoBGCnRibYbr0BdF1cLuQXaxF6P1LRogBQXRMRAJFBBdd6VgUAD0QAASitRwAAEFwA4ARWgACUeikAAAPKa1kA9kNQoBRuIIjeRbLa3HKMWFj8ZODo9CinUuAujOYJrX0emNHYadfEc4lbBK19EyB2YK4shNAU3E6JhxmnVhAQVrH1imxLY9sV2J7F7jyeS42tjuNYRyiCCvohkemMcCZjusT4llg+OIAoQchkAkzLrHvF8jHxGQlbOOIII5CzB8gTTGgiqGSot4hKV3lyNmCLhVRvIeCQnz4rjDwJf-VwhiMHGu9Dxq4scXhMKFYA96lkTlsyBIDOd7IAABnUKHR4gMEZzNRMzbKJKA+CKNNRJUC0SsQ1ieGJHhol8cBKixHgO0I9RCSWot8USdATuwsTCB-QuAngygbF52J5rZpouC4lMiz2RTd7AUWkkGsLW5wLiZj0n5O5AKlgBeEpKgZOAiQNUTljmJNpGSOJpk8UKoVuJsThJbk1yFxIr6IlakSQ+0DBBkBtgdOMCQkkANo5yJ7oXCRSYv3AGuTNJT8ROuKENovMz2LHV8AUWCmOBQp0gNsLh2kEYjkgeUgqW2BUHSCMpeeVQHol07lSwpjk4BkYNvCYgJQ6IW1ux1KLD8BhYohMiZkamFSDgcPAgdFLl4WpNIiXNRHf2gak8CSSSZPPQIlKwdykliBoRjFP7UCDyEE5aemTnydCvur4Q4WpBJHpAhpbYGYdVAaCvdhQhEJEGb00GEksO7wnMjmksAhSmp3BYyPKnemiBPpw05jllzOYnSaYOgu3gwP8IfT8pTU41kYM+GlD1ApoGrj-2kAQT5kdQzaSCA2nz8mh5-VSSPzaGTBjYb1fHswPjFiCPeh3YgOsXhEbCrp7QXfljMJgkjkgkQXaR8RO5Gws4Lw4ECcTtgVI8AO8YWSGEsT1D7IlAs-i0JkC7SQwd0UmbGPJkxIuhyUYICQFpkKiL+rM5IAzJSRf8CRyUQIkHx6F4I+hakiMmRL0QSDNIbUvBJ1JOK69epU-D0iYFABCyRZkUpJBSIuFUiRE6gqmQhxCKmzUZssr0shwmTqyfidMuoqoCZ7Q9+p8HX9PsMXYGjLh7zb2YaN96aIxA1wtRLHLBqzYHhimcIbzKAixzXpsDBGX0CRn3Aau+cowvHKBHagZgrw0bh8KDkBREZ-BWuZHnrzQ965V-N2WAGFk7wS5IIsuX1nBFAUz2qgQue80jliQFRSIvrKVKKBIjZsq8lIAvOjl8ty5m8rKEOw3nayPgZIxmBnOOFpinA0k62F3H1YwZkCDSLCrNGknIVeO94B0Q8Gkmr88azU6BtASMkWYv5dHIkg7lsxPov5wM7YB3hkChTag0GeGFy2RYEVLeTk8iWHT2CzBvJSgaSUKKVExocJtgXBViDEgJyAE94KPFgsEmaAvQtklDPZNWBfznEF3beXqILY+Rt5Co4UWBMIXayzI78w3OQp5Ffz95RQLUQ-104sKbRMog4ZSKzn+AkxmCfDv8GODYtiFv8kXDGBzyLhhF5vM0XSJxSWifGki6Ud6PPiUTTxjgVsWBAAAyitXsbqUwRMTakhE+ytJMBCkSE52sR0TOLXG2AFxt4mcYGjcW+LcKyLfcXOE5aAgZ+4SrBVEsMIWKrFti8ADeJ+B3jYlISyCYYsaamy0EL4wxSxBnHvi5uWYr8drJAjSS-xhi7CBiLyX5DtqYHcpZy0qX5DsIHIhOsEo8V2FDCUE9IRYPXhoJpJ4VQlAnUNDXycF2EzmBBIIlWAiJHS7hcQAgkcj7gsQYSRS0VHEL8FkyvCX6Pd4ycel5g2CVsH2FvRwoUE8etCliHxDSRc-Yidbi4UEKFlZE1eayLejtLIl6y3Fpstwkek16p5QxRyNjiqLcWHy4LtspyHOSEeKYDGvZHDGoclAMrECICopaZ89BZM3qPGKhVGQSmyyzCkCrxZKjxxOy9sukExXbI+OAiGVn8vyEciZg6Y8vmCLdEfwPRaqAsUk1FBADWV1InEJYFuV+TtJPi9CbhTTY8yqBt4S4OX0FUTTSBJtPMfZDfEfigQP43HmQpsDWSfggqnZdbXYS1K-BxXWdD+OaUmCUVRNBGOD2-EgTfx-4-Xq8x-G6AXlnqVVQkF5UGLqVMHf2fXGHgNpuVHSaiUnXTG-yIVMNeZdYj4WyBDcjC4mSKrpV1z5lUqgIAAllX2BClCqp8cdxVXp4nVRknIVqtoQ6r-R-XZ+U0v-G49VApqvVRUqtXhRDJnLO1QVVYYZqoUWa-5W6rGgerlhEyNTkZKZCCrFVFq-VtfMlWcyrQnazlr2pHG0AJWanHtZKugJTqfxY6o8UKvrjfBcQ4nH8U0P9UzrahJtZoMBPHX0BrEFi88W2I7HdjklkwI9c2JPVXj7FNqi1bWvCq7rnVZ8BIiBAqDKdPBgMEdb3KAXLrvVWCjdT4ojXxqLuT6txYerrGWKbFdiv2Akug23qz24y+1WBsiWFiPUb68oB+sAq45N6YoRGpfF1bWCEiATQjTP0hxmR8NQgUjYYWKkKNfOSOPDTJAM4-QD+jBH6NARw1KxlKlGiCpeiI2QzRQmZPjWRooTcaZI1GmTrRpn4MaxNQgZjaoH416CqpdG5iaIBBDHA9Iay4TTRofTCajBFG6gA5Io1MbCV4K4BQoTEjGbgUngYgDxtQTvMqVJg5FgZockMarNFAQMLZqY0GzzASKpUfnFdg-B3Nq4YLanHV5UtHNAQ-tKWriq0sdifm4hRAVoCI1DNuFJxSZm42pbFEDgOzVdEi27KYxCpXDbJogolb7NsDE0c3NElRDUMo0NSlcoigJbgVkOMrdlroC5bCY+Wt4BrxCoFVMtrmvhGVsBBDbutrpKwuCrGQxbtqDLWaE1r5r9a0tgFeIOpqchpRTN-y7pVkt6WHKIoxy8LetyJYHBlFCgPFfPDU0abTtY7ERT5BpHmiXVfgj0siGy6AI9FOIe7U4KNlIgUQWiTBF5B61gr-l9yKbTWmoDstEVx2+0MipPjnaFAPfEzFcDvAIwA2eAmTr0nAEH0j6J9IKOESgLtrAYe7F1m6wxRraAd1Km6MeS20HKHo3kPbaGAR2sMnIYfCsFoEAZOQ+6-zb9uOOu3MRxAl-byiSOnK86h17NOaMR0WhjCepafXYury+3JAQIBOu9s1FaV9MXtqqO7TsvPKuF6mxqdnl1qB2mr5dN7fdkTq6TxaIdeK97AroPbFx1CACG0Im00qxDrEAATjwhO8HAWlDXYpqWgZaPdsQnZYnTcDWwT4o0kVZmW+Bxqa4-s42HYAyL0SZB-gR3WpUUAwsYWs0NABnuNVDxVpPkJPTgwfQR7beiev3WpQD2uBpUUEuzITDsDoQT8A8XQYMJL344sl5ekwroHt33wm9bS6QLAvgWMzokq69bWTpk75b9dsWnvWpT73XZZt5uqHTsAn1wK80CCuHSsIfabJTtRIGLWYSxBNB7gQtDGSbRTDWJG2tQBNkmx1ZStN9lnbYjhFaV+xjYXERgLvt5pDVF29wGojVjh557tqaEdCGu1AAUsk1MW8wL-p2jC7zA3+hVv5pTDFQuZRpQHn+w1WidxO4oSTvy0j3mBv19obtfOrnUWqNF6B3Hg-p33FlVor++yK9guHzoE9EBpvT-t-2bQfxOwVAwNA2gMGwDvPBA49KKDf6QIDB5coAY6gMB+DaELPcXpUr+6GRpyrJTtsNm7lXofJKA2otZlM6h6rO+FVzp5187wqiIVeXNv5ZyNXtFoupeyIcxhyBxFCSFHQBgjSor9ro7dZCuP14Km2SEc-Sm0v2bNr9oEW-bdPh6hxFM7ifQymEMNq79FGu0w5JLnyZkXCMXE9qBGgj3QERJjKoZIDCZIhuoorSHf5tUMs7aQwR4hjEcJgoFtDqVREFyvyHZKAoMQ+remgW7VG4hekOgMGMK3h6+s0Leo4GiaO1dkWg7AvSvOwT2qzl8wZuh0bhwVGWM-RjUVlFGM1BZsM-CIanV1TRC6tDR0WHUZWOdHmjxGw7XQDaPvMZjXRl9mew5KTHko9qhY4wBq0XKajmKS5Y0e5S1dudAQQY1komOWSsAa7U7TCwFGKApjAAHSwADrhjAUDkPgFxA+MddnlKasZBShp7QIj+3fZRw+Nr67gXxn4-8cBOjrzloJ8E5sLjSEAzChMUFQUQJOgAAAXvxAuoAnkg2J6gA6FxNC7QVFJmE1lDhMgQET-BJE78gOiWH6ANhoCN8eBN6QcTDzUKr8xeypGs8OxUgDsTpb8QYWv0PAJ8bWWCn2pwpuk2CdFP9VxTZlSU6BAaDSnZTrStkztCAA')">function stream_append_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => stream_append_delayed(stream_tail(s1),
                                           delayed_s2));
}
function interleave_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => interleave_delayed(delayed_s2(),
                         () => stream_tail(s1)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p47' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Stream-flatmap</kbd>,</span>
	<span style="color:blue">The function
	<kbd>stream_flatmap</kbd>,</span>
      
      which is used throughout the query evaluator to map a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      over a stream of frames and combine the resulting streams of frames,
      is the stream analog of the <kbd>flatmap</kbd>
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      introduced for ordinary lists in
      section&nbsp;<REF NAME="sec:nested-mappings"><a class="superscript" id="4.4.4-sec-link-2.2.3" href="./2.2.3.html">2.2.3</a></REF>. Unlike ordinary
      <kbd>flatmap</kbd>, however, we accumulate the streams
      with an interleaving process, rather than simply appending them (see
      exercises&nbsp;<REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.82" href="./4.4.4.html#ex_4.82">4.82</a></REF>
      and&nbsp;<REF NAME="ex:q-why-delay"><a class="superscript" id="4.4.4-ex-link-4.83" href="./4.4.4.html#ex_4.83">4.83</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-flatmap proc s)
  (flatten-stream (stream-map proc s)))

(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave-delayed
       (stream-car stream)
       (delay (flatten-stream (stream-cdr stream))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9LAgUAEEgUai0JEMShsCAweBIVBoeSEnDIgbUUBMCYsUT4FgjGTELHcaj8UjKfgTXQGYymcyWayicgjBjUhlMlnDAINDyC4XUjhUmlMMVsZmEVlS+ohHaEdjKxmqiWkTUpGWUSgAa3w3F8EjYACNKKIFdT8MraHbHc7KLgbHqVWqNezCJyHhdttYCoLiHTBgGjSbkh4oxIZJTXXTlaTUYQOEwAB7cZi0Whxg2ByXBzl1IGuQX0Dg+l1K2gyFgMADmecLxdLaPj6srFJDMKwAEgjNrrJQ+CLSJQGBwDfbyLqcwONWGjB50zTMzIZ6M6Qul1iV2vBpVKFxeNHY9QN0OOYnAlPT4IhYNReWE1vQDvFXfARP2ob9xUHNlh1DRo33EB0BBYbsiyYEsy3AzdGg8NgWAtaZszjOD7QQjgwhFNgNlGW0HSdVsfwggFayaQjiMdARUzooMoJfYII18JgAEc3RIfV0MlP8APlWgBKE4h3Wk-hZN8KoRnI4ZaNE40q248MdntURKGIC1H2NcSKUAvSDKMjjhi0v8315CwlMzVTSGM7TtzM+UHNzehnNZYzbJg3iWFQjtCBctzTN3LhQvC-zrMg587N4kRiHEOc0MNeiosA1L0vvQgAq45LRkxSIEuUAAiABVQgLUISgAHcaA9YYWHzUAAFpOs8vcRkqzoehJfoc1AFMZGRZR2w7WguSSchcFAGQdiLcg2E-T58IfZEYVWZJvLG28JBIhg1o2vCRrjSaxs7WaumMboKVEKTtkW5brB-IghC2wqdrm5JGUIeh1loOxSAyXraXpH6OFY1MdprRigQLEYig5CJqAiv8kfqGHSL1YVWwR7GceSabaER0mgRh9HMTi4YJqIGFBv2jY+V47zmzdGRizB9yjk5xU3XfVHXN50QTKBEIvqYXBV2ke6jEesQXu5QJSoXRnCCq2r6qamgftAUgJD4LqepTAbFdAXp4UN+tSEbX0hZQtNCwpri9tcA7sO4NtOwybJdyh5Vpq09k3cG23LvJaLAeAnMwKy1ktM9owDp2Rh8FIKJUyD-c45A3VnWQ4CY3pBKEi4-n-0h-PqHjr9nUBqTBPijTK6SpoQjz8v68L+VqWFC8pjcrS4WGlFBl6vjW+Eso2FId3n1T16lp2JhVWNmeZPdUgF9m-6UgOmW5fVAQretp6XoWteBRCh3fJU-z6H33a1caA6e6zCIG0fjfn73ovBIz4L7K2ekwFerhm7gzlgwX+gCuYQPSKAEmX8Jo-wfspf+DMX5AMUCAsMN93ocEFq6b+cDMEL0QW-EmB1YHwKoc7C+rgwGq1oWzLY0UW47xkCTL2KFMF+TUvPPBBD6i9BYUNPok9yT20dhwIgIVSxhTmLqcis0V7ex4DINRSDsiVQAFSKNitIAxlVlC6LulIw2tAYy5koFnYoaV2wFXUknSUK8iE7G4QpES7jjSHwBmicGuD0TIJ8cJJyT9hEV2YTyDh-I8yb2OhE2SIjZp8I8rYewmTQAhAKPwOIdjGyOLyi4nMRMMFROwa5UJMJKZUzoMUhxDsykZX7LkoE2FcLb18TzAR1SXKtjqczUBV8IHv0COnawbSCqRUBDKKwrlZk5iol6Ny1c8mgGyaIUB1jo40GihZQyRVl6TOgaAOGENjkWlhpQNibkL4XP0jGZ6ENbEsHsaUpgzj2lAxkHDFmxgLnGOUWfMJoA5FNlBeQFRsgXnUisfwzYhyhb7jhuHVGQhaaY38gi56DTGmNJhXC92nSiX1GfJHCeZJUVeQSYMtu-iU6TK0T00hSpeGMTQZzAsyFUIPgrlpal0jaXTyUbC+mrkKoe3OcE0AzsIZoIlWFFyiCkK9kyhWTSXEL4qp8p6J0iC2yxTVR6aiDghUKrIWPNYB0mH7JkXS50KytVGhZWsHYMNXWCvbhOYwawJJ9SzAcpx+VVnznfL5YYYbyluvooShondwz6rWUa52PwfnhsvOa9ZVryVJrRfSH1uZnYapQn2QqQqC04ypePBEYAfrolwJibEUA4CIGQOgIkmgaWjR2LKI8lr26aISbxWwDpRhuSMAAHxndjbxjBVwdmnaAOdC7rCOidKwKtI711NB1HsVds750HusCfeWshYlDTtkKIdxqK76FcHasdCV62GwziwDsHYfD2xEcobO0wqgdkCesFFvEriRFwboAAZDB0AMQWBxEASCdIyDAOVC-e+g547-SPtZWOz937f1LKKpVXRltHVitzUapsujp0EfA4h2QkJh3+NhFR-tkZTVMu1aB6ZmHiNCD-TKyq+qXKUd6IbcTrI01sb46OpjtxWM3CQzIFTFdRk3pwzJmNZa+Wat9exxT7NmPqeqOZqEGyRUfpmVmuND5oMma2ERn9wnSO4KqtAz5rT7N-IGmu09jRXMkfoP+0AlUqSnRYHpaYJaAvrqkzhktcmRGBIOmZlTmWLPQa00lp1nhfkFXVQZitcYnPvwy8pizKncs2ZwwO9gRFEKlYFYVCrSQBPAbcxwP9nmIvMRaz2Mr1BJOitGoNkiLjyLCjk8MlDqctG+xo96X0ujlDZas3V8edsmssXuamDr8SlNqZU7VlDHGo4FZ2JzP+EUjtp0I9YbroXamAKqrdrBEnqWG15cNtraXFtjs2zUC72HrsfT7gnUHC9+NPcEz1vr72IsF2h+WtrCWgsNBC+5sL-XKqo8boy4YY3DaE9AsXZgpd9wPbA+zORzBcDhacDtnD5Oi5RvkjghblWx0M9luFnQrOCvs4HhLUYw9d6w6B+B-nTP+sAGZ6sQ96XPWnXWv2I488jyqqSmCk5w906Yev0npb56R3XXPZLmJyK-YX1GrfG6+6yeb0u9ABuO6Z6rW2wfaYK-QwR0S3uvxl17tTdT7ejWLIHmprugGh62Odu3fuxXr2SartJdSE+JJ2abyPU9GvwKEcH+PvPwOHvsJZmHQDlep83S8oytO6cuee5r174XKo3INwVm5dyHlN6q6dnLvurt15vNwO8651fw5e7jkvVUozkDLoMbvYqab-crYDsvYeWPD9hz9nTnZ0eVrj2bk7u+rNJ4CSKxETaMRYhxB2-E3a0AK77QX57DAs45xkPmOH5fN1zR3hCo-8UEmgPAOo0N0Mv8IFsZu4GAypf8qot1gCKRCwfkRgBBlBmBZJyApgBAggxtxsp4jcOAfoZB8YZtRh3YMVZUX1ZcLdPoigfpzFOlKCKI4FlBaCCF8sx8mDvoDkJp-92YcdetSNcAvNxQvoyCDlV9Ro8ZpsOCiZhCtg5cJplAWcU95DQ04YhDnMaA1CJDQAhctCp4aYQwMYpU9DGN6clkSEBcjCldwcxVSCOVuZAZRYVCDCLc3D9dlAPCNR89yQbsGUM1nYvDeJZ8xCwtnYPtQiyE5Cp5fCRZ-Jwj9CENvcHBwja9RoFJ9JSxCAuwcUrCzl6D2YVMeDiDyQA8yCyJlRSjkUd80wRwgjDkSB8jph7R4Y6iWVn1GithIMJoejdUhoLkMMN5uAt5iiXIIYdkugqiaBSCW1-QVt3ZnYNEbCBjwgoNDUCVrUWwD9-c6i5shi9QuQ+jPctgzNljyJDi19jj1jTjbin0PdLiaAVMbimAcip4UZCk8wLC6Z7tdi1jEUuCQppgGi3jIV+AOxs45BgTUNkFxhCi4TFQMlwDQhtiZAli6j4SLUQTnpK57RwT-joIgpkTYSog8SvQNEAAeaElEqktEzZGuDWSISqAAFXNFAGwkIAkBug7HwCGToGtAn3IGkBCEqlAAAGowDGkwRl0FpDsESZSIsqpVSa0jAFTCilSZBmSWT4DEDOTuTcAmBGoBShSXcRTbxxSCCIsNSiVtSOxdTVjdBZSbcpTZTNSchTodTcBUx9TnCJtzQrQbQVtjUVsPVXBDYORetzRfZITkgbE7FqSaJlBmTIEj54dc9XSa0dwQw4yZwuUKU8jKACiiiATcUGYqUa0QgVsMg0MMjw8ETvSPAzNmTvS6yUzasESAMLNAywwJEUgiEOQGz0MYgklJjjppiNRMzkg2TUzRAdZCBHQvptk9RKNxFxk5zAgLlPiIYajPjmjOQ4lWZwMPlfpjjVinivjE0cZPjEEiY6iONxE1ghzHtwNYz9IizKiFixpYo5MIzdj0zqQozjAYyCzvyEyRwdzkzPlFyCSNj2EADdhK9cykZ8yJhCzfZNTSzyzSTLCIoaykY6zdixymy4gWzSYPApIHZ2zQT9iWTXwml4Kez8TK4VMBytzCE3pRyoCjYJyJipjKypVQNKUEDNZIyItapVzBB1zyIzZ-ywVvtTzL4VYJkSY9y6iDyqkjyxEmgDoLybyTjPiGIKUHzHjTKgVkh3zrYyjOFIL4zjyb9G0Dlm1W1H88Qu1CQMB39gjrBVp1oKBNpBCdps9Ii2858tYqpArzpEjyRYrgrpg1oJ8ak5kwrt8rjMitZLscALlEq8CLonUIU-0Hg-1KpmMbdjBmMgQzK6wLdWMqqjBWNarE1yrIMmrMSIhWqyqLd7ZOr7YeqUhyqK9RAbdRrGg6rjByrgJaAJ9JAbdZr5r+SGgpqjByq2Smq2TAQ1rIULdsJs4uB7RaBzEDqogjr0R6hdryrpTOrjAkDQAJAQRsgOpZSVrrqLdOo7rUh8xlAnqA5QAOoep3q2qLczFlBkgHr-rngOoDFHqjAPqwtKpgBvqlpfrHrnrAbQAwAQbeqkaABSVGqGzGjqfG+G0ARG1ySqKAu64mgGyAxsp60GpGgAQjQ1pvRuhpetADZuQSZrxqptpKJs5pJtAHpKMH5uGot1pPSG+rpphrFuQQxuZqpsyGFr+tFuyAlsppkEqkyFlohtcHlu5v1u1pVt1pZtRqxtcGeCMBZuMD-weEGnytOiCsKpkKdTmwyDDB9lUywNCFdvOg9tpSsRdrOiSuDtWUoHtAACsMCwkfbtFkQAb2rA6kqbcQccr6kSYCqQrirBosAw63bPhvM1IIY-1yqL0z4bcq7pBdqKV6qkbIBCBT4hQJAqrm7W7jZ66G71r9q6RzrYBIAmqzqOAh6e7e7yrR6ABRTqmeiehu8qgAORYCXtRpXqXqYtJmdvlVzumFLofmBO9vqF9sWmeGuMrj3qjSqDUh3qBnBivoPsfOPpSFPoBsztwHqQDvDvdoPqsT-JTBOh-rztpWioFPtgiMAdXAUUEDeAkGXQ4Bjo+BCmIFOkmOLNrCvpSvGBcnSqZjvPqGmggY6ECE4ynloutAIsBP8giN+LRhEqxkYgKUEAoLTvdphlWOUG9O-uLv3uCR8zmwXtcGYdkCvphmjrjrIDJQpUfv4b0zIVmgIeSHGPTxnMlHrXGHBgww7H0mJOdDUfBnCTZhtAMf8HmNvzcvvzbVxE7QJEwD8poA8JFDIA4FbnoEvGwgYCMii3IBi3GAiMPUnUiEzp8b8a+NHHqDbOys4vbF8di2ZlVMqg4E9J9MVP9L9qrz1NibCeZjDBCBCeyfibuNGgNGwj4nxkwLKF9JmkgeIGICFLsH3DkCmjqcxvRFlLbDqfIsqilI8B6a2Q9NVJYFaaUcBB6eUCdKsV4NGiIFIikiqeXSmluiWa7FmfbCki5DHHspaiXUKMSd1tVNKcQikgqbmF9umhgbmaYBWYPkSe0EqlaNADWbgSA1GDYD9hA3SNGo+e0j6Z2Uqjyd4j-Wmlgxgz-GIVzxUxBd0DnQosyehZ5sbMqjcAGjDA8AyZBe6ZRexg8CceGYdjcdWU8aMhBbgNvnH0nzjExbgz4R1H9HX35U32herj6YOdlOeakkqDeYxduh+d2i9KBClJSfDLo3pdDVayZc7H5blKaCFdVI5deYYHeczvJj5f5b4QGgBa7iecICud1v6pWeUAVa5aVYiZSDfEGNJciZ1b1cqg6uUD-TMxBb7Ks2haNd1fWcVbYG0jfCdJ+bRYiwAHIUnppEng3AWnTdSQXHnjXW4GBUw43-rNic8j1yIgmMnE2hHaxyrPkBAPSFwPSGpSAPSlFRhi2Ps7B9dcnrWFWM23R42OKLNM33WrmTXvXAXa2zNm2jYm362mabXPXXG+3vjyQkGqRbE0GHYy0iwDIK1XZuAAnIwbTl8Hw+Vfm9qkbF8V3CAbcGXDNCo13RnXBfax2UHJ31UZ3ZISwbn53q3zXcNyJb2A3yqUWJndj5F6M12fW0DuAgyp5E3bQ2p8wTpZ2Sxb3PE3odgt25kv3My9zQ16zkEwwRW1sxXPaJW4wv24kXbQOpIhByYIZfaAPWoqhgPL2K0b2sPzg6EEOyL+K7XtitXTQurgnbhyOSwfByZK5M72O8OuBbo73kgQgOG6OkX+qA3ePOPbpAWROLVunT2J3yBJjEEmOkwWOtZaU5Mj3jAT3kHFPlPp3MQr33ZVWv3v3BjZOvRlBJP8OBOxl1LV4IX-RYPJkPzbCkbX26B33RXH2qOWFtzXPm9DlCw9lR9RpjY+BwPk2IMsS12A2zM4utQKQJLIg+Vly9Zmof392jYTYq3HmAjhE12vmArYvCx12KiyvAWFy0vpK6oGpMuMPyQCvF4iDpMOOGAI1rx7RpgkMRBZAivouIv6iyvunS2OuHnTDyReuYopIOvLxdCBvtm4XmvWwqP4RERDw-lMNYtrOs4xo5Kf1SAG0rHQBiAogeBhRQAFclopIxUFdX9X9nAAGSwDIZBcIJBsCfkFwBAkL+iU3K8cDvv0TMIdWRBT5pAyXpJRR3uNtbgzNAeGAfvBOQf4evvEfgftWlFXuYee2rMEekeR3FicIgMwm0g5V77IUDJ5QqhYty6waafxgzFrKkQcNvzQy3umBjolBQB3uOAVhAujALlQZ7QGekElLsfOeOBueVN8Vtv-HmfXAvFz1YHwe4h8ARecmxKszwNa7z5ByAvNL5V8eIYsfiAOfjpNAXWah1fReXyDL4ddf+lGREet6jhdfazceHB8eFeHo3y1gP0gYy3zepflBefLf9i3QtfBf5VhfReTeXuzfefpeLNZfbefejAleYGwfL05AbfNedzXBaLMMrNU+wntP6hBi-0k-rOsSw+QKlRs7e7mqU+qfnQ0-0+1LwEC-gUje0eBB4-aAJeLerfc+NeinVLFfIPlfs+z4nfvuaFkh-Vkgi-as8+dvxwG7BjBi6+I-bzuH6hV+x-5fBol-O+2EkYV+LN8f6-I+J-ffXzJFozksrAwhSAzvsSo+gueTum2frRVOFlKeloa0LkhCDYh6Oq4WbsW3JQeAIBZbclIaU1hsB0u9XGgJtwKiKVRem5e-lCSWp0gzu9aC5GgIjRhNCOxPOXsqDvrAxDuEMIgZeFF76sQyf-SgQ-T27IJaB1AcgbrVgHjcC6hsUgueGAiFEsm0WHbrvwiKDFQmog8Io8wEEINJB4wAFKuEEGfNouZmWQYUWKZTx1BXYDNNoIiIqY9BMgpQQg2gZHl5B1zDEGcXSKm9hBcTcYMoFMqPM6GsgcwTfwsGmV0igxfgcYKEGuCxBDg58n+38ouhUuI3aLqIT-Q1dkWrXBrPfR8y+N6QNXT4u61kpCAosHAc7oIHGAMBQMZOGcLnDCE8VyWUWW9p-ygTyptB1yHwV2FMG4kkhgQ5CiIWn6ywc+egvMjq1SEhCMhubbIfOwCFnEPejIbgKmG0HGo9BHfVhBAkz6DEXOjQrYtcCGGpgEuZXSuIsMyZmdVKkw7vm504QhdByfvP7qd3yG3sghwXLFBwAWhRolkqRQpvYJUB0h+hzxcnsDEqHIJRhtQ-0H4McFLcdgjvNoRiWcG2Cy+9wyCKZTJav8h4HAA6u-1GG6DqhlcBCKCIaFhcp4EIiXFCLwFUlX+CwB4ZYKeFLd9y9HXANUGkBSkA2lUYkVCFJFVdBIoobESCN0ABt9yRgQFjsBKGv9GR1rZwRcN9DNxrhDMekYiMeFfFWRJXa4ByNABwYYu1wREeuzRGORoRVJFTByPL6NAVMso1UQ0HlG5hFRGTFUfv0YhmYNRBo2sFZUBYUiSRebU4XQGXSaMOBYIPIL-nEFYl0aTwbIDskJ6ncYghkLgLmDG7rh-RgwZQAB3pEAcPBzw8GIqPsKgwJYEMbURiLf5UkQxuIwMdQC4ZN9awYYhoYcKjHixDGSLSkeMDzYBsdkEbW0RsHtHlB3muYlCHzGtH4BOWSggsBQTpCLslI1TPUa2M9GHd2xjo97tz3e7881gQvCGId3N4DjOeJhQ4b8JV458NEHgHZFsloDWimxwHXnj6BbHGgV4Fyd7hDDMwciL4AmEoe910B9MUWWyd7how2CgAOSAACWnocAAAguAHADT0AAShyUgAAB5JesgGQRzEHGSIDYGdxm5ltBgrYbUcKIiINjkqsDfMJuKHjrsexq4zju1wqQISJc37HsdSGdCpigYjzbCfYFAlzd+wERO8Q+OfGviPx3438QRI2AXC4JqEyAeBIwkWAIiPYh0ewGWhwSOA64pnNqMrhiY0JgwTqJxLYAxD-cSg4iehMgl4ivi6RMSWQXEB7xtEmSREUKQDjkozuPyW5J8mklxh1JSAzEqQCHhQTy+ppRMfpP7CySrKV48GF-nGCngiAl3ZBAAAZ5ihsdUI1BISVsKWS+YrOQFkD8ZfJjIZyaMAhgOS+GYUhgKqXkCHix0kUpya8AYCPNSCXkkIXYOVB+DEp0HVZIFOdHXBohNfa4DlOXYBT-aMTEQcf2tHMBdEGUsJtYFXA8xK2oGC5KVLFLbsLh-ff8WaR8mOTcpl4QKWY3944Zcg0wRqNSCMiLd6gR49sOBxJhYQyB6U8wX0JMC+SBpHA-KSTAtalcF2C09TmNI4ATTRARkZYQuyzbKNmA40yaesJWGbJu4ewx-lCUOnHSjIkUz0SIEKA-dGwB7QsCBSqnuDnyK8Q2C9JunySBejnNkXNPCbbDHOUPLIrcIsEwyIZM0sdJnCYB38lYBvJGBcntBVCPwhRBibUWc5QTMZUyB3rONn72hXezHYkeAn34hBQZJ0xQQTJ0FkIAUdvRoL0DHBbCUZUJFaLF05GMQPATM06bcBhmwtRZ6ws1rWGE6IoMZ+wp6TsPeJXSjpYMsrtaO5GXDmQqEWLECKkGgU5JrUiodUPxnKCiZZgxGaTM9RvR7aM4mfnMHGE7lj4hAJUgmJhHVCxh8I9MRmP2KkyZWZ-KYVPxCFZNRAb8ClIiAMRRywwuM02W8M9kfDH2ioa2ajPAx2zmhqvFmcoK3oeAiAbs3Ua4JNGuBYR7MvQZqOpjPkQBaBLFPrLuHJyjZ9nLvkQk+mFJpwhUeuV8OfLnFI50c1OezAtFUirRb5bGdr3ZiAi-B9c74ZIhRHkg85-pd2ViO57cBw+4YgkdpSJGWj-+RwAeUWK3nhh4ZFBJeToCZF1FRRIc7gE4ADlHAtZvoHWaWD1kXzrOK8yuUlyhmRBl5QstTjfJIhll75Cg5edZ254eDsaYAKOQYjPlb9L5UogWeKOPk1tXZ883UcqKcDlzAgyonQKgtcBzzjouo-cSgqLn1B9xGCghSkDNFJcd5pIlcdYEillBi8bYqIkjmLwVtxg8VRxtQDSgNi4w709IpnXemaDyQiU3QtwvCHWBIWNWK-i1JlmBBFkm7UQBNIkCf43QqLJLpnRUx8LPRgDRCDQsinBi+2U2EyRLl0WjBjoq88oRTzSg7o+pYvWqXqHqmxZGphUd6U8nlTYLoxYMCGHwlcW6jkxBiiwJgqCTtFOFgqYAlYoulNAsxZxeKTrwQXHQ8x3TQsdSOtalikuX8IdsYuamOTdCFivSe9M1Hlk7RPkKsTIFcV5jcqWATRjePvEcA3x1UAADLT0-x2yPYB5JwwWSQJkUiCXSFMlGz0iMEhiSIHgkCSA2yExiUIA6WsTCAWE+iThKsWth+FNAQic6HGVkSqlNS+peADokOwUJYyytp0t8WTKFJVY8fIUgwZNAOJRS1cbxMl4biBJ-iwIJVEimiSqxA0cvucvBDvMipEWR5WJIGgaKjosyiZVBMOXvKlJdIX2pkkikA1yUmiqxRkosE2Tny5k4CedXGUIqzino0sKqEcmJsZAPi7pQ+TEkRFFJuAZSeCtxjrzsgJMRSSIy+ClBOkp8fDsJP7B4rDFRszUW6MOgT5Yluy3FXorRW3F66BKqsZ6NSU4rE2wo3sewGNkU9+IydZBGOKG68rjFgk0VX2ywHKzeIjvWVUzBxY2isV0wMVX2wlWEqyW2q3dK8GETdshV7yz0TsFXGk8JRIi9scuk7EBJAsvEEofuK7HWj6AC4HrkytzDQNVxJqZidQFAyZ97VesvCQvxSA7jOeEMS5XxJDVgSw1qlC5PUwQKyY8JkqsAZqTeV9jOeC+ANU8veXqrAg3ALOObyLWhrCAJavIKwUBCWsA1ygDlRmtqkOxs1hK5nrzL97TNyG84ZgFYqJnBrhFw43el0olwQxAYHCzfE4ptnktI1-8idWxM-5xr+SyCRNdcv4nLrJlaa+VG2tkyJSxJL9UmPmq4k48HllbOtewDLWuAK1rkC9d8ueVHtBiOipaJjQPUxoj1wq7tSPKVhkMpuAgHZY5JPB4Tk1JEg5U6poXRqr5xgZMEBthXRrAW03MDdGseYoaA14GnMKBl9WDrs1QauCVhsGDM9CBogRlTWohTkSnxL498Z+J-EbK1gVGyibRpomNKm1NaltZjSdDkaU1QMZngdEqiWgJufawDcBuVCjrC+A66YIlII0DK4VJG+VNxtmUQwqNayhpRfFU11KGlcYrEm+o5VKaOl-GsdIJotDCbAJaeKcu+BjqCE+Uv3fmaIqPS2b5lSIKpIDGs0oh52dmjVWdKmZ-lo8VmkaKtwjjpEKu3AXzbZknJbxZq7m0Bk5uK6oUHATmx5jUWi0jRPNERHzc5v82paUQQWsLfoIsxJbJuNAdUB2EzBCAcVcW1QeLIjjWi3NlAJqW5sC3GrhV8WoSsdCa1OoxQhAGLUAhPm2KxJgLerU1P82dapG3W3rYowLSqr0lNRMbdKmoCTb7gp-IlNaryBlL71utXNh6Rm3xsbcw23dYBOi0NbCoOWqRi1ptVtb08Z29cDdox7SKmlOSV+clPeCfBfgsgTJLtvhhVIbtPwKwEtou3rbEgK299QDWO0jaBkd2v7bQAB0b8qYa2qVdSk22CaGAO2otAarVULB-tJ23gThlK37hyYgOqVcCryCgqVJOFU0RSrh3DkHNleL7ToiYBlbMCaS+Nh8ym2+zC+5Y+cIUveU3lcmIOuDTaMKIFKc1fO8cBOBCA7JgdSZK8sKvHjI6i2aOjMCMBZ3t0LEjOzMLjoKwFgfkWcYbgu3SJoIau2jXRvKAMaeiFOqDJTlO3ZmE65JOaw+IZSOUkqwVqkpoISMyDYwdd9TekBAJvoUB9w3pJ1gJ2FF3K9SDg56vvwXITAfZvsmqHV31jGTrUMU7qPaWlLi6VtlUS3ee2di-KWWQunRhWJ52OiwR2rKXdjAR3et5dlarPXpyt0GcEiVUL7Tbmz3W7qE8xC5NhGA5LU1AEMAAJxdBDYPeyQKLq80s8Csw+lJEcrvRQZIIkGooRCyPT0AY1NlbckQhoD8VXJZQ4wJPpkCBtA2VUNAEftvUPQ-1zQF-moAybL6O+rgSfTmouHCgqmpO87JXBoA9RNCD-bAUYDv2KSZ9zTHku1GEAX7JAGiuRZIEUXKhJUfqond63SKV7q9VNakPIogNK7g0qum3EgfAOVAYCWusVLx1V3cT716ZUYI6FLDd1tx8qfiBDGI4SAgOIHYzi2JeaEG9u7pDoL8ovhEIpgDAUg23URbIJdcVIknJ-132VRuoPUXjqAETYvB71RgMQ5bFg3f7gDqYWNn21xWwhA5+gWykQmzWRpuuXAIDXMH4gr7Ag03RKaBsw0Yaa1feBNpzMCCcGSDZZXg7zQiylhkSxbbfYobmqX7RDYh82AGrGgGH++vh7qPId5m2Ue19QEQ8EZ6hSG8x6IaI19Q74-6ilVKo5WSsYge7NSKh9JQaL93xD9w-EUPUtBj1IhManIMJbXBV1iqJmXOysbzo9FaZp5gEmop8loCNQp0q4e9dKuBhUHkENBug7x0YPzNOjLBiLGwdsNaU9QEKenYUYL0i6xJOiPYLYYEy55Pi927eQ1AAOJjl0IIlgACzHDSwPWLzAg3keGAJDlQsx64nUUUbFGI9ANcoz6ud2kqk6RACZhERd0GLi9XExSafVeN0BcqhsD46jFH2tanVOZYVSWL2CsiXtkwOLCUDmAkwzMhKo9hyqBP8AQTIK87Dao21GcK0BBwNv6JkC+yAAOlgGg28A-ikaXAAuHeZS7HqGtXaIxAP0RYuDpBvLlgHwM4qCTaEokxmNJPkmvpV4MgjSZbHXB8A6ZSuB93U7inQAAALy-qgBSTJhik0UCpMimSjUp+U4yZxjMnIsDhqSJRn9R4AqkrR9o5EAJMqmhAappVlDQdYW49jyBD0sQA9J5sYQgbQaIiE5OqGLTgp60+805p2nN2Hpe0E6ZdO-LdTlsIAA')">function stream_flatmap(fun, s) {
    return flatten_stream(stream_map(fun, s));
}
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave_delayed(
            head(stream),
            () => flatten_stream(stream_tail(stream)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p48' class='permalink'></a><p>
      The evaluator also uses the following simple
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      to generate a stream consisting of a single element:
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (singleton-stream x)
  (cons-stream x the-empty-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHR0lVVRdSeRpiIbiEpKLi0DmF2sUJNvklQQoVx1EAD1VLOjoVtZGDMf1nya2UlzpyHr7I9roikkjAA5hdrrd7rRATF1j4XoZfABIczTJzUVSidzkaiMRwxBqULLCVawp7vZLBQ6yY6KDFY+S4-GsQnE8442bzRbLWiPfKjPQTD5pDLM4gAE1cKw8ZP5my2VMiYslJJleQSCPlU1F0myDXFknBN1Edweso2FKCoBYknKokcpxJil1jQNjlUwOyVixNXqTWkMPV8Mtwo+Lv1hqa4v25vhgq1KTRNVEAEd2mRcsM5SHttTk2nNKQOqn00WauRjjktIGsxtNTmRTMGqVSOU+RbhYrws3qK321p68Kk5ZrLZy5WEv3Eg2uy0RzZiOOFFXyFPBx8k5JTSDiCupwnKWIlVv7ju97GdPGG0nxaJSLrsWag9PO0fwrf756nRf11t0ljmEYNdQAAIgAVWIcpiGoAB3Ow6i0SRLlAABaFC3xpBQQIMABuLAAF8BBIM4RF2aR9kEXRgRBOgjFMfxKHwUBFBmG5KBYKVxHtR0HkEAw6IpedbB2LlandRh2M47jiKdSidlBWi8P8fCxADUR7CYlinDJEhxQdGTeJIfiTApFR6HIUBbkIaQLIAXgwuQFEUHjaEcKMKKM7QG1DD4rgUCULn0ShmF3SdvJ80MXMXD13ByNxAT4ryIuSopqLoJKUsy8wosC8RgtoPc+P4pTkiEuwZjK1ookUKybIPIpgkq-57TM-zV1ql8fPSXTRHwIlRHFErQBU0Q1JMlIANxZySF0cDIOguCCAMkRyFqTFUPQsjamwobCMIrAopCBwfl6KqAQOa50vjcaAjK605iBUFQFsgA+BzaWozUxku3CCKIoQVgw5UpVoNVawHa76P8O6ZnIRhCHIAALfZqUc3IJRBrIWmNSUlici9nnjeqrVR2kzJVaUWjMugS0nAnfz-d78doCnQZaGQ3DZLj901PD9sOvMaYLDNFG+FhyCu8YBICRjmJmURYlW-NSw6chxdo6Wijunq+viQbJhGsbZa05wtx+b4Jy0UW1Yl4yoeFO7SacvrGG+JcFcnMXbe0KWhuG1SaZulJqYsl23a9s71Ps8KnZOYLw4rZdPZt2ifdeP2Zc0iqrAXSPnPj82bcju3wrusPC-FyOM+UgP1Ptj5HaVIWVcUcLbpNQvLYl631eeX2Q0IgI9v+ki7C+E6+hIE9KB3AbFAGE1NYsHPhJtVR569Z63pAgAqKftz1neQN0BfFL+g7lvgpZF2oBHHA-B8eXofcg40uWnGbwtMzhRIl+SEPQBewYPZT+GZ3YrhrD-X6WwYZOAVqoJWoCiw91tm3bYxBrLSDQSKXYmhxSi2vj0O+D8vwrASgXcByde5vCykUOghDb4-BIY+aErdaHChtHaZWX8aod0odWFBGtioG1rq-duo5ypOGYU-fc4USjHUUNIkkvoujSH3MTAI6QMHSGkH7YeF8AYiDzD2PsP5IaTAAe5Z6oATHlDctQaM+4-YAJbDIYBgCGHELvI-EkgJ3LQP8AA-ep49buPHr8RwwSZ562dL2NxATl4SKZkody31-J6XGPlUKVtXEBgyuwgpAQomz3FFdbBhTfKvF+vzS+QNKoWyTlbMxUtX53U4faJqbQlDYNjrwiRRpIRPnBgKKW1SR4kiBtPM8dNnyalfgA5q1jelTOyT8ZqAyTRQlJM+Qm-cAgrJUf6POKyVyHOaDzUAzVeaTDus1Pm4zAZ5iUUMn+cz64zBys83kBMUT+EmLONG01DGLi+YuDkIdJBaHvt40h3ydn5J8lLSY6QDmdCOc1RRMKWGLjRec+moBynCl6aCyOGzTRwuGTQipiKqn3NwGAKKDB8DMDYFAOAiBkDoD4AAJgeSIGYoQGRqIJq0lekj+iEEaFiF+oAAA+srvIzG+BJYgIIZXysVU4JozRRCQpfhq0MMxtHCp2QEA1woZg636vggm9zDqCvcC0DFIrjABBuWK0AF46WHVhpIEEIIBrOAUV7XQSN7QVhBH-WB7pJDBRQUYAAZAm0AiNdX4K9kYWyWbQBhscBG71tSjVehfvXaNEaA16XHsBECC8drn0Orilop0F4lvdUk1Nkh8EVkoCaylYyDGj1FCcmZlLRVJN9f6wNVazEgWHVoOthFDpzvNn6PFprS0eo7V22Nait2KG7b2qB-ExlLoPqc9ZVxjTku2aOjd7a037p3Y+nt6j+0+qkVimRGax0LlFOWqdwabazQhVC0F2E5UKsNU4f9lbAPi1mlICSkhmz2jA0YDVi7akksbfGoOd090HsUARp9Gbj12qw5+5RF6ISbIeN++2+GH2EcI6Rt9hanDhjdJewZvJ6OFDLX6itQbvgoNmpxw03HaO0AXQOiZ4mY2xW9HiRtgI+PQw9WvUWq6m19AXroYjL7WPkeBSEPUbp3K4YY5upjT6WM2zI-W9jjh6mJw9lbNTiTf0TqE1WkNoEXNdxk4dSqknr2Wf49Zztz61GkYLSZmY5NMYeA8554S3mAMib8yBRLqoWiha2eB81Hx0uwcy0B0COXKb8PIEF2plW2biQGpQPGqtxZLzuuEyw+BROgB4CeurLMktU2hLTdz9m8Mes671Hr3L+smfq1jWYNksRc1a4kCbSSpvdb8wAZjY-Fj+o3kEpYE5O0rq4stINELVkz7TuEiyAe1ybCiQJXePoAlOc3B1Xeq6p8brrzARfvVFuzbWvsTPLtVwRT3gfps+8ZwdtxO6NO7o9jbv7Qe2wRxM+WisxJXeh+jtLmRMHQ+x4DAVZsodo6s+OknOjovQ-24OpsLY2wpcsh6krwmLvlZArYm7g7bH2McRzxjIOSP2eZzjpwZFmtfv+0Drz0HBMZd5-B0Ccu8YrEFxDy+ZKtnhfU7DxnsW-pLtBAbshRvUt2AM2ozHDn9p4EZUwVg7B2VcC5WgHbfLxVwwRsjRQlwo1c61WUaQurVgh4JaGYIyEs32QD+pby-5GCAWD7NbVkfIViGuHeBQ4pdCWCLJQLi4pUgydk4DO7UVFAxS9PFXQqTzHiN-VW7LXhdL6WBcfcpDe4pYiui3-umGDvMmGN3uv+BQ907zar87zlgNd4ClFXXgMcoD6UwlWf7fjrOem-gXQfXyciByhZmfP7hJbaX6AWbp+7A5UySFQqu-r-7667fvbcXB13c6dVVqDYK-MeF7f-dod7QAnwB-UUMApQZqN-f3BfHnRQK5fzMVSOdfEQWAsUNqFArpBAlNGzF9eA6XR5MgUoe4VVXKLJPcFpO9DHJ9UfavM-ChZlYtOgttX9PdJggWcg6gGmNyCiRTN5N1NvYSD0ONNgnIa5QiABXNeBJWZ-AqBIaxY1PCZguwWvRTLTVRK6ZqWiYA0ACQoCFTXQfQ8HDfRTM5AMZyRTOiUQ43Lgh9KQ0QCws-Kw-Q2wr0ewv5MQuwQjFw0goxS4dJagl-T2bTPQtxZvLce0DgvwkITQEEJGHQ-0AwxPRI1VFIyIWibyYIYwxQLQ4tUwy5eJGIgQpFUMdISPLIxGVI5oAwgAHkyOSLqJyI0RJnTymhAgABUyh7piBah5IQRJUEgGA6AqgFhKABp0gQJQAABqWPApZVIkEERifYFTIwRY97OYxYwlAIFY1VdYvAgMfiNuNPDPXo-o-AUQGCYY0Y6sQBSYlwGY0CBYpY9hQ4tY-ADYyIrY0CWad4-Y-wL4449ooIseMoSoaoRtPORtN5SYXg8QZwModeeIooBta+eovJUo04sRLWMPCVBnTY4EqkfQFEjENhCpQsCg1YsI5Qq2UZYE9IRtZ6bNPdEkwpYIPddo4E1EDxPVFjP40NJ9cE6ucwQeIoY2cYNkpPVNC4PHek1ZP+LYSaEw7TWaCCJoXSUAWtBJZIQ2QOeuLYABFw6xSHFwg4dOUuD1ehPVFw6whKOwhFApB0zwwI-UoeA2Tg4ScYCktE60mpEzVFbTOEjU3EhEgIJE-0q0wwfE7KWpO01YEo9o+M0qQk41bE3IzKMk5E0oSkvkmk-gukpQ1ZWMs4zKFk7TWUwgqLTkrKYIGmH4Hk6I3EjoxmJM03YUnNUU+JT0muEMaU-QGs+QxU0slcFUooNU7EzU4gbUiUXUzeNCHYM9BIOtLYQ0uucKU0xTc01g7QvZUMO6Tsh0lTLwnIKlCpN0rpJ07w-siU70hIv0-MgMwwOlF3S+JlFlD3TgTlXgDAP3UUNiDiKgLiHvUeIFGHZXefM7ZAuSECYCqSTAuwRC0C+0diBYNzROQyYgKC4Se3SC-tABVCsvaSYFMJBRS0DvLdd7fwLdCKS8gIDvA9Wi8wA9Bil08wDvYw1iow2NRgDiqil7ceXi8eQSooDvI1TBd7KSnRYURi-wDvSUOgBYSQbaXQZS1SoYj4BSril7NU1itUnyXSo6ETECG0JGWYBoOgY+CyxGKyhgLYEyjveY3i-wTPUAWoTNN6ZCRY7S5yl7FCNy8wDyryreUAZCdCfyzi0y1cXeYK5iS4XQMK16CK0AHeTy8wAKsy4ABK0K7ytKsAaKoSsygAUjyqSs8oKuQlKsytAGyrisTzcvyvCoT2zS8pio7wAEIs1mrKqUqfLQAer7IOqSq4rGiKrkrqrQBmjzBRqJKXtGjbJgqWrUrkIlq5qGrFAQIXpJqqrWrQA3pNrOqXsXplrdBkhVrBqzrjqxrtquqEq0qAhUrzAur-AQ9LRfpiKJIQLSLwLlEVNnoQxNMt1dASKwLGUvroQLJwayLR4egGgAArAvYBYGh6QQcK7in6pC-TIgtRIqEy5IWG-6shX6LAb6ySNCsUC2R4+yKtDvK1PWd7RmgaQm6lPSsyyAYgXWVwdS8wLmnm1aNm9mjvOyxwWASAVisWiW4W6lUW+QeygAUV4rFsVtloqQ7wADlJBNaErtbNb2zCkobzIjDsaqaQMV1dCgathNMmJUq90Z8waza-qLaz4KbfqwKLbI5Uabb0bwqCKZ9CZibXayal1RJxJKa-rp8Zphjx4CCtpHAiRIkJQsRyI6TEbJApB6EJIEEqTkpiaMLI8VwZFEpylqI46cJkhHMTMmyqglS9wCC-I8F66woUpcEJR69naIb9cSi+TzBg7obIVLa0j1b-B278FiacpqAkaUbdA+7TbI7PbB6oVzCYqthRyEExJxyNg6VI8LJc0QRSgGhwht6tBrFa7qhT7VwyaPzyK3dWUOAOVuBMBALWp3AKBHACxvhzgbRGA2xENKBkNI8CCpKpUgICKAGgHXCKyGpazt0X1CNIGUNj13iQJHBdiPsVVvj9gIHgRAHkGYHEw4HGckHgG3C7AYgbRkwG9C9rYsGDD6DhJJBSBSBJVrJaRRYqIWGCqGBFigQWGayQI5jgghGRQdj3jmHSBR6PghHdAviz4x9B0SAYoaY6HViqIFINGwRlHgQaY6IkQfT4I4ZVjUHtr3jKHDQaYaG55NNqJk6VHRAtGNZUGDAQJoCdHXZw0sQWBHpI1DDZK1FqJiYRHjUQIQwkwq0gnQAk0GwTZMzCMgn0NZViGEnQRjJhrQJAhsIQxggiMH0omMiQIsm8jPVaA4ZmGfgv7lFf62wgnU935OQpjtdeQomYmIoi1Bgn8aMwtEn2yRGzHFiPGBC3AfG900pfGUG9iIo5iMHYTm1i0umr1DdEmgTpm3jBniAHG81vG8mJcX1xnemti25sIwmqjQAhmlAQIRKtHdALntnGAWBCHkgkwCi6mFRznNndHLmeLdAq0xm0mRT9m0nCY7mRniYkwviJmcnQIAByDB6iVBuF8JzB1Y44oJ9xz5zxz+9oRgfYAsXFkB+nNRHIMB3Z-BfF+a9m2K7ayFcUHY3EHY6CGrWaE8LEZl-zaya7Y9aFi5slxQClwmQjAV25zF4Z7x8Fj5hxvl4Vnsl9GVu5gVn-CZDOrO0gHOtZLpcSXsTZC6VQQlxp7kJ0S9YJ6l2dLkeXEkd7RZnjVYY1teooTTFVrcNVygBBUlG4bVu4Jx3V7lxmDppQY16FjvLJuR0M+ZwYY1iVy9JVwGCl30RCS4LVosO4H11+Y2GYLXGRSN-E00nu6s6OLYOZ3TBZ-XfLB4SN6ub6z1mmPSNKaxTTONhCCsRNj15Nq6cZitwSD1HKVkwpni6FgovdVtzZQNNKQmAi4du4UdhSX17UHt-N7NK546U52Bydmt2YBSZF+d1RQRp17O11jVqIFdlIfI-ioFeG+E7BR1zO519V915gNt71yNiVgo7d-0J26t6dmifUzct+OJ9g64EuFIDrF7ENwBMN4tiNwDn90RY0znJJaN70oMwdVaTEVNxh8VAowN957gwD5F6cy9WcqCWCOwMtlaNaLl6AyA7uY1-xpwLDvD95wjbD7UAj64IjhaUj7prZUprQMYqvU9GmRgZRDkBoe0TtW8fBWjjDnNCj1Nwp1l4Ttx83WpCT2YKd4T84CzaTwx4h6jwETt53MAekbFefFDMGhGHYBcgNcgele+z1RGOYNwUAHbZiGmQdHbH3H3XwDQlcugXsRQO0WoYvO8XEUpfVzMkvML7M18Fm8UepksDwIL3GqLPdKLxgcLp5j4bkh9dL8L84vzgL5L2VtRPLjWGNkQO7CsFDRQP+FxOJFoaryPaxDvHeJr0QI+fU+1KEqoQL0QMSHgXQILxwWbNMgBCYhodr6xE8Ir-rxwQbkr2JJYRrqB4RLYdNpwOL0WQgSb1byc4Dj1OL8U-2UaI07c6GznFQDL6bu4WbsSblQFmLHb9rtbo8wkrbvLw22BuL5kxbz747yUh8qMwtegNlvrgbobubh73E9ofb3j74J43blDG7-z0gcH+bx7pb8IF7+8v9y1FO3WOeCbnHtMg4qwefF9XJMzyPe1nyAoqtYbhbgo4b6Hkg2nzKQjKnnH3H39uD4OC7vLlHu7kbzH4nvb47zOBpj70LjLoD5IX5FIJsinp7pHmnrABXgpAo5nqHsw-A9n9hFjZ7vb36DX3n8pJXwjPL3XqIXHr0jcx8-wQ6TS+QUgOox5tMtpQR-M6E49nyEoHr1QbBdINgQpokITmrQlYIMPtlwlC4qaFgDjkj0AEzp+DaHslDdc5SXT538gV3ulABFPkTqB+t20cNKB2rvCABGz6xQv9kcvq5gPutYiyz+yWv1ydr7a6PpT0O2pO7VkSUVVPApDczmH1wwwgo0hxx0f8hmxIkAfsESfxQfv1YggvdZf1VGf9fhfrpJfuflfwwwjLfzfvfqgpOy0yf3QQIwwmbtHi-pgbw6Apujuu-1Aq-mTgovvk-tVF-vX+-i8ir8VIhnQ66ducVaQjpkwE4g8aaVAWkOAJcIit5yekRDI4Ec4ShI8jAP+IdBUCqAUYgHNMht1aBARs2fPf+Bdy37WIt+idRcJaTgF2EJejhYnMnVvCE98ER-Ukh80QGECUBtLdAbq0v52Ffu2A-YJQIxRH8eeoiAgQxz1Zw8EiBRIQXy0ja6B5BzHaDuINO5bkfIjsa4ADwd625SmOAn1gAMwa6oWAjTZureF1C1AieC3CwWpUDR0BRuMnAJqLD6zQtbBVgvSA4Nq7ItB2D6OgH1n17uUeGcMEwWYICjuCieIQ7IMrxcHSMqWAQCIZ4Nmwz8iQbgHPGBUSEuCNKo0OwUkIi6k5-BJrRITUG5TeDGYvgusgEOwS1dwqqQ1OrqgyE5CPBmKSwfYNKFxDhQNQ1KsqlCEsY+swiZDhMh6HRD8AuoNWOjRjoMNdOow+QP5HLCWBsgdDUIbbUmEDDfOMw8gHMOGE+Nth+Q4klEMebQtjUyLOoYwHSGoYmhc8cKByQOHq0uhb0DYVsIOFLDohdmBYY8zWG+cn+ekRiNTWOiTg7+BoS8G-wsRkCv+FAr-lQIdDaE7+gRP2NGi25sC48eedJEP3wY09QAQI-gd4XqYehNhK2RwBZVd678MYVBUQV-0JhYi-+rhIwXiM5iEiXedRPERpXkDYiLyhhM0oU3wA7oBocxaFiBG5E9peR+HNMB4GZGYj5ARgaFmaUBx+snAQAvEVKPebfDE6fQamP8KtjiiqRgRE4fRzPaKjomyaViGeyBEms6RBIokXUUIyKjAhoYQjKaNtHChzRY4S0XyxtHz1Moe6B0R6JSgelkWAonkXSyMGu87wdiSFOp3D4PBFOJIXQHG3FFxsQRAQABJaIPwTEbI1iZ0YuFdFxjWRfnNlisDnrxCIoCYugbpxTEdRBGgoyPHSyOGYJkWlBQ+lYFcjbDCijI1MdZESBGDCAAhOflcHrySi6O8w1Ym6MlEQlQANneYSYPB4Lcgujg0ESbXcQ2dpxkPWoPfhAGbcCe1qUWEYGCDGoRQdAIwb2MTbDdeg-Y9bPXAARBdrEQ7SUfCMJJACguO4iASKCC670rAoAHogAAlFajgAAILgBwAitAAEo9FIAAAeU1rIB7IahQCjcVz72Vox1uTMWyLH4ydux6FFOpcDPGcwTWE4o8aOw06+JsJK2CVhOJkDsxCJZCaAmRJ0QRj8xrCAgl+J-H-jAJIE8CZBOonk98JtbSiawkzEEEJxLYo8Y4BPHdZ+JLLXicQBQjbDIBJmXWDxMjF8TZhK2FCQQW2EOgxhmmNBECMlRbxCUIY1sLMEXCITeQOkhPnxXxG2BVJtouCa7zomaclJlk4gKpP7R71LInLZkCQGc72QAADOoUOjxAYIzmDyZm2USUB8EUaDySoC8lYhrE8MSPJ5L44CVFiPAO8UkniktRb4SU6AndkCmED0RcBPBlA2LwhTzWzTRcOFIIIFEim72AohlINYWtzg4UzHpPydyAVLAC8fKVAycBEgaonLOrgL1KlNMn4idcUKoVuLBSEpoUpqRFL9iHQQh9oGCDIDbA6cYE944EKmzkT3QuEeUxfuAPqnTTXIlU8KC8zPYsdXwBRBaY4CWnSA2wuHaQY6ICBXSbpbYFQdIMNr-htBug+DhjksCLTlpfU4BkYNvCYgJQ6IW1ux1KLD8MRiYx3rUmekAzUJg5LOPKI2nQNSeDETSIlzUR390ZJAtaUkmTz0CJSsHcpJYghGkiwQZ-A8qpOJnpk58iIr7q+G5FqQPR6QBGbdJJHz884DQV7sKEIhIgzemgwklhyVEpRggHMu6Q+nRnyoc0f066QDOY5ZczmLMmmDoLt4MD-C8sl6YYOrqDoVRvw9QKaBq4-9pAqk+ZGCMpkUzuZ1M4tLCNLGS9FAb1fHswK3FiCPeh3YgOsQZHwSuZdJckZTMJg+iAgkQWmR8RO5GwUZhAk4nbAqR4Ad4CckMJYnBH2RKBtswYKHOpG487ozsjca7JiRIjkowQEgN7NdEX9g5AQEQTvyP6PSIoOolKJ9NRGmzaZIidQX+xBl4JwZJxXXtDKn4ekTAoAeOYnIJm-oAxQooMa3LGgkCtBTcoqSP0zlwikOgFEuT8R9nEjVATPaHrDL0GcjF2VY4Ue8zHnVjfemiMQKKLUQbywas2aUYpl1HRyN5Ysk9iiObqGz+C9wGrpfKMJbyBBco++aN2hYGy+gRs9+ZHnrzQ9P5V-QeWAATk7w75WvPrIaKAr6jr57zFeWJFdHWiqhFSa0bNlrnJA0Fa8uokOywVFiUgQ7XBRXK2B+jGYR83kYeKcAZTrYXcfVjBmQINIsKs0DKchV473huxDwDKavzxqAzoG0BeqRZgEWDj4mtmJ9AIuVnbAO8MgJabUGgzwwuWyLAipb36mfCw6ewWYJNKUAZTYxOLMSMhNAAljvCFsk2veCjz6K4pmgL0F1JQw9TVgAi5xBdwIUViC2PkAhdmOMUxonJeCooGZF4WG5rF4YgRYEpSDmL-+unDxSaA7GVjAxJ8-wLuLrGMxY42LLEPsDEUOIYwOeRcBEvN6rE96zY54XErTG-w3xFkJiY4CAlgQAAMorSgm6lME-k2pLZPsoZTAQpi7eT9OEjoSqBt4LCfxOhZ4TMJgaLpcRNsCkTye5E-RYCBn40S5wnLBZYYRqV1LGl4ATiT8G4nzKpluFQwupPHp51Qwgk54cJNEn7KOhMjDKdJIOHYRbRZy94dtTA4gRblMk7Rap3DqTKeldhQ5QcI0nyAtJyUDKeFUJQJ1DQjCwxRZM5jWS0EHSvZb8rvJGD7gsQBKRS35Z+KkVOQScdkDUkAqNhwKjEruVSrhQjl8wcwZcPwTlJ5J9koiTmICVZzHp9wkSLosmUMrYVWcwmqeVuFGCMlGKilihNxXu8LxF3FMBjXshLjUOSgGViBH5XGLM+egl2b1C3HiqjIJTVFZhUyW4tMVWSoVbsPqZqrtkfHARDKx5XvCxxMwI8eXwNFOCP4xjQfjeN-gQZRQQAp1Z8pro4hLAdKpqRVMwlAhJJf8Agdapq4mTcKcPS8f12sQXK5up4sNbjwASsN08CQH1aUveHW12ETyqccV1nSSS7l7wxVUTQRjg8JJikqSTJP16vNJJugFlUmo6k-Aw1wqvmRHLO5elFGQwr1R0g8lJ0jxwigaSbUzHWJglsgQ3K4smDBrMJNq5SdMojUXcrx9kGNWJFPH8TjuiamwPWv0XCqM1tCLNYsJzXvL7luPVQMWv3Wct81JgvvHTzPbQra166lNfVN2Ewc259cfREunFB6R6pTIMNQGrLX6tGF8a8OVaDU7-rA1yLNTt+vjXQFwNkkn9fRIOX1xvguIcTpJKhG9rIN84hHs0AUlwb3ENSlicBNAkQStlkwPDQBII3sTmlVastTWoKpYbU19AfUndBAgVBlO7awGMBs5Z9rX4iG71fVJ7X+qx1SYi7nRq6XWJ1lDSppX7HE2bKMx16zljRvCoiaVljGj1MxvKCsbAKuOTemKERqXxdWUwhIs4MvQKN1hFCMyLpqED6bBFUWYzTPyRw6aZIBnH6Af0YI-RoCWmpWMpQs0QVbNki0nLZugKQ4vNMkKzYYXukmbgsfCYLUICc2qADNmsxbgFpU4mZ4gIIY4HpAxW+aZO4WsceZuoC9TzNjm-VbcMHEKExIhW4FJ4GIDebUE7zc1SYORZ5bep9mirRQEDDVbHN1y5JNqoohmbaANWqrTVtTjq8qW9WvFf2mPVxVaWOxeVVkogL9b8tuFNpSZi82LbFEDgIbcVotWlbFS0WiCnttq2wNjhfrJKecOhStDqVyUWbTqqC0baQtB21ONSKbVeQNeIVAqqtua1Ra7tMW9bXQCG1vBXtvoqwo+vuSTbtqDLWaNdr5ofaltgFVLR9E0ZPbdh-y94YCvGHrx4VJKl6CNvW5EsDg-wY4D1vniiA0theInWO0iWhgGxJSnFM8I9LIhsugCYpU2Np3PKdRSIFEFokwQvaUgY2x5qDuLU1pqA7LOVQToUA9b3s8OhQD3xMxXA7wCMANngJk69JwBB9I+ifSCjhEoCes5Vje33ZusMUaULbSYM1jHkCVmkh6N5E5HY7Qwcu1hk5DD4VgtAgDJyH3X+bfsUJlOlApf28oejpy4gQsaQrmjEdFoeIqGWn12Lq8OdyQECHuxdYG6uk2EORVaGp0s7hV55VwvU2NTs8+dYyMHbHr13x7D24BSHWLvtAUt3sceu9vAXULJikI98BwFpWsQABOPCE70b2WD098WhMito71qVhVidNwNbBPhw8CBmZb4HLxSC-tjYdgDIj5JkH+BNKlgxQDCxhazQ0AG+wtUPFJk+Ql9alPlhPtt6L6+9+OAFa4GlTqS7MhMOwOhBPwDxvpe+0-ajvP0mFdANoRNo-rHGKK1KKi9oCxB3BIbjdeKjkcDoOEC6pt0gJRb-uuyl6jg4uivVREgM-680qimXYOjXZE6iQk2swliCaD3AhalihHimGsSNtagCbJNjqylZYHLO2xHCEnr9jGwuIjAPA7zSGqLt7gNRGrHD0f3bU0I6ENdmYuMX2BNmlnDaEFVwiAbj9KlZfQq2MX8tioLauuIDz-aNrRO4nd9XPBTCT7kgHGhKV+pg3Qay1IuPFs2sdlMGWDq0Ng-ZFexCj50C+8wDwZAh8HlyYanYBobGnOG0IO0RQyYGUNCyigjhzw+hApac4KlDAII+IeO6P709ZKgFUSuSjW6+SshrJScoKSO6h6LumVZ7uYgB6CABVREI9Kh38s5GzOnEKzqnHGpj0P7HXRvgoSQo6AMEaVNQfPEYaLIxB+yKQfINrt+xnjFiCIYsi0H6DrR6ke4iKMpgSjqqGnensqMqa58mZFwjFyflC77o8EkxkCMkBhMkQ3UUVuXrkPpHndtIcY8QwWOExvdeR8KoiBRWlG01U4mPO-zPaVUWVlRulBgYxUwtoxigIsQAB0sA-6ilQFA5D4BcQPjbPZ5SmrGQUoa+0COYf4KUcsArxuQ+8cImfH4hPxv46DL0iAngT-YuNIQDMKExgufFXE7oAABe-EC6j8Z0P-HMT1AB0NidyOEmyTEJrKFCZAgwmaYdaX5AdDqP0BGjQEd49SbzS0mgTDzUKr8xewbGs8OxUgDsTpb8QYWv0PAAiZSMCmMTQpuk6Kf6rimzKkp0CA0GlOymk9rJnaEAA')">function singleton_stream(x) {
    return pair(x, () => null);
}
</pre></div></div></td></tr></table>
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.7' class='permalink'></a><h1>
    4.4.4.7&nbsp;&nbsp;&nbsp;
      Query Syntax
      
	<span style="color:green">Procedures</span>
	<span style="color:blue">Functions</span>
      
    </h1></div>
    
    
    
    <div class='permalink'>
<a name='p49' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, used by
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), specify that a
      
	<span style="color:green">special form</span>
	<span style="color:blue">query expression</span>
      
      is identified by
      
	<span style="color:green">the symbol in its <kbd>car</kbd>.</span>
	<span style="color:blue">string in its <kbd>head</kbd>.
	</span>
      
      They are the same as the
      
	<span style="color:green"><kbd>type-tag</kbd></span>
	<span style="color:blue"><kbd>type_tag</kbd>
	</span>
      
      and <kbd>contents</kbd>
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      in section&nbsp;<REF NAME="sec:manifest-types"><a class="superscript" id="4.4.4-sec-link-2.4.2" href="./2.4.2.html">2.4.2</a></REF>, except for the
      error message.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (type exp)
  (if (pair? exp)
      (car exp)
      (error "Unknown expression TYPE" exp)))

(define (contents exp)
  (if (pair? exp)
      (cdr exp)
      (error "Unknown expression CONTENTS" exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDPEicagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBOBSjodEoUWIJL0MqScrMCsJUlp11kjLJGtZ+sNxtN5C5uJ1-NdRpNiVCwsyapqGt+lK2ityyrBaiVqhVob2mv0WqOfLEfvdgfm0kWknkAA9NJYDeNzRH-lG7Amk4m45W07iMycbZI2qRpEplATIdCKdXAe27fSHXcUayNPRznoO-Iuz2lASub5-I0mtjLvbbv3nqAWfMIkpnDl54ve+NVylhj6xJ3u5faEGRWoUVWrTWETGG6rVHXG3fNN0zvOwHyXAk5gWT5i1LeRy1oPcP02YdvyRX81HrID01bXUQm7FwWiUQsSzLQ1EPfQdP1Qs4LjpBkJyhfcWQI5wiJIuCEOIL0eVA0BWPY0FlBJKYXxDOgkKolDqRYJRNHuYNRXFSUOReAC-2w718X5ATiMyFpBUky1rTQ2M-ywpjgJbPiQmtUJzgUD0jNSEzaO3Mdd0nA87LCZd5A9Hjb20sQ7NgsiK0o4yv3Ut9LJwmypGnFo5HGFRnKHak3Po8c9ynWhkoJFQOPC2hr3XDcaTondGS8lkkpS2git8xzEkC3D+XqwqZjg5LSD89LqOpcdJEsfBctAHgQOCnZ8oa9kZmnOh5AAR0WM1Ipcr9htG8b+CmzMZuIArUpmFQpnZKhZiWDb5S224RvacaAGZ4um4EltW3RSGuyypNc20qo8mqmNZD61u+tq+NkgBrT4wa+n7HjoZCTJyll4bITkXhRZGtIOgUVvBuGHP8xIJMi8xNtQmKkP2tsCHBMJ7L8pycZR6KfzZvH6bLchmZavRyaY5G-q-CykbpvCpH8zRyEFUJCYRvcRaimiHEISplcl-l8P1PnmtJ9bhfZtXJQ1zDAON178YyaRqFIaGBsGoEsuqxjHlZU97ehyG3q9h3JH0wybtu6mf3FzVrLekI5M0WQ+r7EPpJdgH3IY8aWVj+PlyvbWxFA4r4PI-Ik5MmmgO53UeyiQuuKFgdVepGmI6snlcDAUCGHwZg2CgOBEGQdA+B4Xl6fkPNCH6p1mVAXRZhNzKpEmRQ0unrwNjSAB+fi5BXmYJ9JdUig3oIAC5gSlQ+w2Pirt7t6hocITQxNFA+FNfMUJUvysXjn-QT8COfGOmg46UAThWNeBgAHmG3lnQy48Fj9QLmFIuECj5eF-sQeeTxoEVWGspA+Elq612LhJSB+hMHz3-gASDMEAqQ1BNAr3INQRgkhqjOEiDnRC5DcGgG3gg-M-VGHMNYew1gnCLrjC+NQSQWcwHcPyOQyh-8Kr0PEUdOaq90FQNvrPPMGjjqNWTLUFRfD1G6RIWg6+689Ew0+KBVQlihIclEkKV8ZCdEUL4RVNIlig4-1nlg1RG51EY2+pWPhAiDHhOuorTG-NDbkE8TYgwZi1HAn9o7XhejBGBztg7c06TQnAh8iTJyOSNzRKKmUlmiQilBPnuYvU5YcxmkqY0app1WkBnaTo4pjR1HgSfEorxUT9FFWGYohpf9mmKGYBCSBrIACqxBobEGoAAdzsEKPQSgiygAALSHImUIhQbV2pZhAdIQywgXjVxVqkSg+BQCqBCKWSgLAUpXUkI44QaYpKh2pHAkEEQvmXQcdNVQdzQAPO5OYQYs9pBLXEC8t5iUPCtF+VC-5yFzCLXIJsOgGtCWolOZPBQ0LpqB2oAZKlxBvG+KZaUYsCgjqFiweCWgTkfHMoqgXFxIlFASX+Tgvl4qggPLFRKmVyDOXMF6XcXF8Kgj-QesOKC+YlhlhJSE3x287IHw0Wyu4OrpC6KZefVo7ROgtAGAipFKLLTmHmaw+lKy1kbO2QQN6csmFHJOXAniCK258XwRKQhqhYJ0BUYC5OdhZLyWrqAVEAA+cl-Vq4qN-iWXGoa3p5M6idGZwTAVqvCIQd48CJ5T1ml1UFXQFGUuUY0tMPiukUsPpo+ti14l3BbbM3x59BGdvcN2k6cjzWKCkVdQJf8o74zybE5WsbnXPNeSEGWcsFafUxlrPFGUgTWo6AkO1GxEXyGRfIVFG6l560SazK2cbSgmRHUgxm+tyn1LZk8ed57HXXudYEAlDNGBMxRJqxYKbQC8rfZSjoYHP11KNhLX9wT7WlHXei9V2xINLAQ+BpieGAVAZfV+Ajn7Hh4Yw2kC9V7n1pFfTE+JETeXVkI8h5JWs0Pzxo0EYYgRhjajeuGyQJBsyntUJfR5h6E1ySkxyFN6aWQACpxM9K6CplkLxpPW3pnQPqxAxSVvPI+RRKSUx4qwyEZd5CD34toGEAUwtoOxIfWTSsfHZPAi3fLZdbM2NmG3hUaQgXQDn1jroZEhnjN8ymQSEVH73MoeSWmaVMqggGbyLF0zEFxgSTC8y+xO6iaqF5slrjbNW6CYAwx+NwJ4vWMs7yu+u5GvPncSGJsvLz4hb40J0euo8lZJLfPQFIGg7QayTSul5C+MgYKSoBgZKstGeoCZ9r9BVBBxVWYED6m3SnuWzvJmykDv+i6E4+2S3dv1bg0sIOOa2X0jnlyxVV2+rIvSxln7QRzvGi6DGmDv2QeBD-npobBjakC37f01tZavzFcNdBVQYX7tlZrFYnhXiVEQ-5HkiTFS4d-3G45wlB9oPo8J7maCWPRmpIoa2vjEmX77xR9TucnXsiBIPiovjJkD4LrHgYzbo2rNSALqL8htDKaBA7Ug6lm2ZEaN8nOKXOO0fBI2BFnprO8OqCV1zkx4YXiFYqujpXRqUFcR-mbjL4OWx4E7kwVg7B+5cCHmgJ6g2da2kYJWt4hkix4rVZkbIuR8jB+B3og56IyUVuvT44djAFmqCLJ7LIOQ8izxLAuBQLQXiWG+pQK6LRT4XKhkoWG2KDqqEFVYYVLxHvw+dajXcdVMXstAtpwr9ephA+b3+oKNsMU1CxX8kPX5XZAyVXlMfXfpq+3xgKpcQqwPQsn6hbaj18AvEmpXfkBcAn4E30Ne6O1d+gD2gf-O1LXsKqcifhHW-z875eC9IXuokeY7ftOE1p+gQ0ZkctVtNQA-8igb92xgDFhVAD4ACRxAZ05edvIf9oIl8eZUCtVjV6k4Dn8m5w5Gw4C8cxAvo7ZDRogOVZg3snISdW8xZGwh9Lk7AKNflhIlhaDIww50JGC+JSDqAlpA5bk2DV11hvNQRwRoVhCmceQQN3gYI4ht179uVEhoM+sfcxBitu4OR35xIXhCF4DQBxCIQjcgd9DICmAORWcRU2DfhRCgVox0ItCSQ85mC2C8NrCORbDZd7C7B6wnD5BiC7BWUotKDqDv1FIvtQA8wB99QYJS06Ct9dAoh3gdDsgRY49+IkiUjoi9VOlDCwQIRNC2DUjIicim9YjKDcjShz4chogUiTDDAAAeTIuot4WAm7NjARFPN1FkAAFSyFAFkmIEFFhUYCiCcDJgFCflAS6HPhZFAAAGpo8fswgIhohnlg4IiRYljQD5ili7dzBVjIgogNj2jkU21mVk9U8+iBj8B5BNlRjxiPQGBiVrlKBZiDxFjliMsjj1j8BNiPFDAdjWQviDizBfiTj-izjkZAj+IshH5n4jd9cjdV0NheCsEZAsh5IODGg+JVsSjTCbs6tvNyhzYCSqi+UBEMT755IwSXUyAyDjjQiH96lwcDjz4jcU0MQEwGi6Tt4Ewci6SOTDMMJySXh6wcjbtBNoEsM54uT48sRfNmTlDZRYNujjCIiPVMhWhQBL5g1Sg6MnVeUQN-DoMWD-Co10NeUTJ8T-CrDJDPDvtfs7TI1-DmxoEBMQ1vM55MTGFLTeN818YWckS34USoiVBUTAh0TZhfTsT4joE8SRSTC9CiTSNGMp91ZNZeSJUqSYyaTUdfs+DyCa4lD3s2SJUOSIj5TTJyS7dt4lo+YBSlsUzpAKTLUBQRSsItjGcJSbspSHUZS0U5SMi5DCwFD5ZSyPR7M0hXUNTXwtT1sjpdTFNjlYUekAp+yzBDTANjSycLCSQzSksLS-0mUbSRS7STCHTnCnSfsXToIPDnDNzQBPStzODqQfT8zGD24fUDou4e43dOBB5eAMB1D2wPlwUS9IVa9-lRZTZRx04YUWRwLvlOQXDDCwUULJBPk44klpkYLG4HCzI1BcUWwQNkKIUa82xjscoAE0YlRQDzAlRmVGU-F28kwGKzAkxmKbyTs7gkKCiOL8jwRuLaL29xxBLxwRLSg0ZSTKhQDZLpAKoWKgg0Zko6A44lBBRQC1KNKRiNxlLAg0ZZyOLZymUDLzA0ZZJ3g5FnA6BtMrK3gbKGBGhzKzA0YFjBLzA08XhBRDA01QADkli9LXLeLVAWRDlPKzBvLQBfKlMAqjkYqzAQq0YtMXg0horYr-KDkVNErQBkr29gBIrXl08Yq-L00DkwBgqeK0YABSIqjKsq+Kmq3K-KxkFkOPTyhquK2PDEXy6q9vAAQnRE6pKsyvKtACGrJT6tErasaPqtGsaoOWaLMGmukvb0aNREiq6qytAA2pWtar4tTXmp8sWtAHTX2v6ratTU2rSsCG2vGuuoupmr4oGqKvisCH8rMAGvMGDwAW5DIowoooLhMJTWgUTX-BjBeHIsgsooS3+r3Ohp+QLmoGcAACs89lswb5NhA4q0ZEasYay-CSBgIeKgh8bYb8tuQsAAbPlMKCU8hkloMco0Zj1bVQDWbT0QrQdDL29IBiAT05AtK0q+aBa5Yubua3L28HLJBYBIAOLpbZbxaJbLLlxHKABRQS6WtWpW7mtGAAOSUD1qKoNr1rbIlryoGBpogp+Xps5y2NBsaHBpeX8oTBPyhsBphtttS0toRo9ptrJwZvcIdtKCdripphP0Z3Jq9rzSYNhWuXlnJr+RIHuTGPHAMJBUiDEyOkUBuSZNRqUHmAMwiFlgLPFXJuwpyA9DwuJtJsaGrjTr6CCEDP0y2GfknPqQMOCPZXbrNDC0iyOjrz9qgrbCsNN1ByjoDrtsBNrrSH7u6ETupRRvRooCBzpPQtpooq9vcJ1sCFHKVJ7oMBbByEJVHKiDtmcCKgPtc1buVPeypqd2mj-Ndz7kAu4EwFArANoHCCUAoEkE+jCGkVkkYEdiPEoBPByAMNJJcDcBplAfAYCIuNKH5IIPMkIJ7DAdPAQaBIPEkD2OczWMhMMlgfQfgeAmgXPmIePEwfdOH3pmqFkgVhcXz0hAIZkx8NhVIFICcA1n6nuHuU4caoYCWNUB-tIGrJZHmO3gkfCwPBBKWNEZ3oqgkexnCGOLzVod1BICEiWhYeOJTqiCB2IS0Z7CWl+GoTfKBAhK+JZDCq+PoeIiWiYcu3BqMeIG0fkH0ZhOsf0BZHMOMbA0+CmBYBEbGMgczLUGrjNqkZCxZHIeBBykidADhD4WwxC1FMieKB8EJsbAyYmoxBZE3i5GgW3ghvQkSYyIKdif1U-r0GUF-v-sgiAcdkiaT1vTkTePAUQkSeSeZSJGlGQVIlQS6dCcQaqQPFsaWP8YEKCdKe6AeRCZ+ABX2OZXmLwaROUm-gGc4mLgWaWe+I3FWa+KmcCcUGCZpnmYyaWbYy5CqYyWObCvEv0ZeGOa+FOdGbPmBCMN2eKdAHuf4vBFAJygTEifFJyZGeebcZMZOcYBYDNrCVUeiG+byJZAAHI8Hk0di0W4mITTjIm-HIWAm-7FhGBDJPoSWwmzZNYSRoGIQEwyXVrza0Y8gWhdjWFdiNlPQXQDRFBOXvINZUL3m5dfmCWdG6XiW+rXhGx6XGcXmgm4XhX3HZnVBpXQW-wVWFWoWiXFBfLP9+R87C7SBi6+YjVSx7Yi4o0SwKX5FOn8hYIonQrM4OnFFQCtmSpbXLWZ6ghwb9X9RDXKBZY8NQUzWDRPGLXNAyHBkL5tC7Wfm0ZCnsYIjP4VJpQ7X5XYJdWxB6Wgw9kiwg3voDQw2rM0VgFQEbXC37MTTqVOSyVoF1mv5tDXWhn3Xw3+yAbg2lp6QHloNwas3dlzhc3TX83DGxiJJU2vN6tgaqyKmjDbmt4hLaWfxB2i5rg4U1IUG1Al3uXO2R2I3qifyR7q38nxKfnN2O25ER24nJ3XxxGfWi7-XjW0CT2Cj6UD3NSwtvWC7fWjXA3T3Q3U35Wvmr2Qx3b22V2d3+tatrMHBo3LX7M282r42BRE2NmYOW2IPL0jT0zUJ03z1m6q5uXGBIIWFA5PgkQ2hug7W8CgQ-V2DLXxHXQeXfHeI3oyO5ECPIIAlKOEj8D0JwDBZy3HcwARERlsRMGobK1YUlyrhyBvzu5XdSA3g5IphQAnpXklp6Ynovcvd-5Y7XR7ZVBYZBRC8FxWEWg2HnZ2w0mi9TPkZ21hW2gT0uhWnCY0pDO130IExrPGAzPd3qnPOTPvPbPLi1y6B9O3PJW-wvOfPYTitzhMHVA8UFtrsZg4ucgmb28VNUv5AtNbsw14Sn4DP5B5YeAXhDPJA9o6sQNiVnAsvoM9PSBCvivVW1BFsUvSGnyoOs6HPbV7hCAav2viT2GOauhx2tzas0yggQMou6uDQwuivyvmvev+vqGnySTmhs7HPugouzbqnhuWh2SIu1BtvRvnzcOozo56AeXGvJASvQAyv+AWzFhpyamnNqvauyV6vrvbv6xWvROIGOvi31vuvJM3uBuJvAgGzsQ-xfusvPWKovmcoyvbuvn7vHuEG4e+Ufvku-usGTvtzBu9s9zpuPvZuGvUfDulusv3SmVOu9uMcNBvOSMT4Zc0hIesI+vYesAWffsvmUf5uHvwytVFGZV2flv-vuRuf8fwfSg2fGwou0fVuvSDSzvzA+IdLlwFPVBYW6sTI2AKn74ETZ2mU758vNAwtz49f8nIglpCOjfmVt5reeWzcri3UWAPV1ktk7BhPFEA1JXMH9TXzvN1fyAFPSK9zveiP4Hu2q9An4GEufaZxQBpPoMI-pEsuHnTeeIyKJOyVU-nx0+WRHfbeqbK9q9JFkpEW4GxPBenuqO7Avmq+cgFfzDy+mTG+HtIgK+fg6+azW-og0K++a435B+DD6wR+W-O+mTM6LT2+Xg3Se-PvZ-9yAjzCu7ugl-kD5-uOgQvnitB-2iqGm+a+Ai5+bCM32wjxC2e-p905YJWRCnYTrfZwqB+o7-l+IXtT2UjxJBFOjochGA8UfEDQJoHgR0cJunXS-qmwJ4vdCUg-KbJPwoLT9iib-N0idzW5dcbUkmEfgcW3gkBP+9Ib-r-xaD-8w2p-Twgd2AGGRB++uEfk+Xx6dcvmUA6XhZ3nbuAQBSrVNi8EoGil-2ePcbtaS-A4dGgL5U7t5m4F2tz++DXICwHaZMJ2UbQbsIKEux0BbuCgzStcDoAVdt+lnMkioPtZqClB9ITQQlziZfMeSk0DHlFUEbhBpBsgkIgYOUE2DiQUPN8BYLXog4HBRgvaGhUiBTAs8PyTwfcFUGXp1BXgilmkz0E-NPBoQfgCYMjZmDOYbg8VAlziq+Cc6uQAISEMMEG4shGg2IcL18QpD-KqxWwVhEmg0MP6JQ5wfgG7BQhsaydAUAYRqHLg2U9kSwMSBYa2CnaDQmEuYWaHkBWhVQ4JkMPCG6CnBsLH5iFjiZpDGA-gz4IEN5Q8lxhO9Ioemn6GDDxhnQ5wRZHaGwsKhsdNflhQlCLRbgOBEhtXyIj7gt+GwCbAgKiDwDNEiAozDP3OFH9UBFjdsHT2wHVM1+B-DBkf0uFkDnCrTUEAMOnSSArKmvagcPzuGM5ARy-WEqCPOgQiNebRUES8HhHXDvMppCpvgDjBdB5iPzFkHiNVAEi4mLnDdsuAxHLhDAPzU0mYGmFSBL+oI2kXkUOHPIVcpws0OiNACYibCjIkEM+xZFJN4Q7yZ9pcPtZIjwRkItovWBZGWCKo9YCUQqI3BSjbAKIkPm0QTDyj3B4qBMMqN1F8o3S8rYkfiJZaSDiyx9DrJsKjzaDWBJVVYbqXNiwkFOC4aGHIiMwMdCOFYL0QSBeBZseRWbLEQ5kT4yiHoxKc1NBjVFGYZRyrcVoKP3C+jxgY9c2syiDFn8PhgxVEeGJJTiMSROQFlpMPNjYtjiVoozEMK17ZizUh9PDvyEIACFO+xYOvDSOv5SAISSrFkbCWk5tDpBjXW7oZy0E3C9yx2aTn2NK5Fdr8mYkIHTxFjBZzYMjOgJIMbG5syu4oZsRaCHGJ9DO0GbUTSP5wZkoIEIQzoYCkaFMZGhnI+lYFAC9EAAEmrUkAABBcAOADVoAAlXopAAADyetZAGSjUKx07imotjjbwSzrjzoQIgIj33rGfBlxYE6dPa27HLiV27HfLHBNsDytuxKgbpCBPyzmFMJlQYCTy1QkGFbx94p8S+PfFfifxeEqwFhWzpFhkJOExzGhIZQ99uxFY5cZIFXFjRoxjOTOChNoCHIhhFeN6Cek7YCSts0YiCQYSGG-Jah4NQLJcKcBKYzcrogONliTGIQlJbvfImCNsDSTLBgEhToRO9HMSpJCInCMfQsD8txEJAZTmSgAAMAwWOgkE2QjQbJ1rRRFhW6Ah4bJGgOyYoGgz+4zw-kvQIFKWI8B9xqEYKZ8FClTBzCxWVyYeP+FLAl+MU2QdnEgiUAWgBhL5pUyhrPt0pnkrKQXgp7t9W4wmfGJYEvjJT4GUgSIGVn5aJcieHkp1iVNUL3F3JZ4YqdImynx80SvqSwJ8E2QqBHYXHaBGqkgF0cWsWY6vElPb6kDrJ3Utqb1Jyk9ZPmz7GNsb1YE2Dhpo0jgbBxVHmBdpkgEadIEdj1h-260oQUrxYEnSzpjsGKbCTaByCzOYoZtimUP4eMERgKPiPdP2mQTwBgPQ8VGiZ408hyq0NKEvwQbQDvMCeNAQ6gw47kJUE2B4V3zomsFo20khGVh0XgYDNu22HbpSQIBLZ5A7g8+P9POnbY7hNA6nr4mGDUIpeAg02IwNZHipt4lMx2AmBhl+BXgQ006ftMumCsh0JMq9HjxV53T+ZD0wtpIPZEShtA5YeLhvwjI-TnUtwx4fcLJTUCkB2hJfu8PSBopvq04jbj11oE68vwJADYhqKhE0yYRGsxnIaPMB5hsZ3xegcDMv55gSMoOPACpl9nQJ1ZXfNGVP2eHFFnZCIk7iZCNlA9MBl2b4cTMtn-FrZbRWfo7PMDQiUcI-I6UyjdLm8c8z2P4fAxbLYz-0SMm9DkNekMJ8gYcvWTYVsI+y-ZjQEyKaNJHmiS59GCbq+iLD5zlZ0gYudKUqn0wE58sWMZoGR4C9gxLAnEfk3zFkjkWM8wsZGwpF14x59rfwgKOZGTR9mMCPOSEQ5EKzDQ8XUeVDXHn8jI2IQZkRVx+ZyyQQ-BA+TkDrwC8j5P00APXJUwCjeem8uEBtIkKaA9oPzIeUnNFKjyChpQOUXtCzmBAAFsY7UUkNTGlBtR4C1OaUGNFxNm5BYpjgPKlhdSfonGClvBRygGwPQrIGKegV1DTguw9YisE9J740wnpaFdKQEmoV2iFKopesHQvtZMtpAI0wUH7kWBFNI2zcOXk1P2F8QQUxEGKY1KP4BiWh06f0fGInkwCwCWeIzDFKCm6BLC7feqfkCenzY9yAC6sdBjYxQLURcY7VgmPAmGjyF+YHZl2AjzYKQFG4dMZ4SinUh9F8EXMbiLNF29t5UwxeTWgUBasSWkiz4AElsXZYnpKoy0VYGtG7DVAbiiMZHDbhWTSJkgV8csgAAyatX8U6MqDOS+IRkxyjFIkjmSFFJkaCXRLaBFgWJCE2iUhPpBFLqlcTfCTMAaVoVml2CiSCRLvGpKMlWSmiXzDqUdLqlPfWSXPVLpMp2JmwzidxOqUQK0gLIGKUJPGFchLBky2JflL5Y5AlluwrkLCRBQNKSlNhEZeMLknLgFJfKVRf5TNxiLsFwSgqXpOIAGTAsBSoZYcs8KwlDQcQM8PS1MUktzFsi5fj2OJAySTl-Q85cgrYJxVeUoykBPYNyHdBCsYkkyaBOkUPKnlEqR0fsv5YSRUV4EiyaTQvLLDZZ-iz4D8vpYQSgV2vNWXuWWg40yUo4mjr8olYsh7sgSrSrdjVR09aVxNOzp8pwpsqmVFKkYa025WjIwp-HdVoSt2GP8tFlSuPsKOYVtiEWMQXcZqDXDAhL+qqkRW9DCCsJSOEkjGbBM0msS10wM5cXH2NVgzSgIGbcWSmmXzc1xlqk7iBi4Yp5AwxqylcHQyxrLex4XfiUxOIDbLpBAfMmpWka5csA1Qa4kD3iZRfNjVLwR0a6uql8wPVIw27EzP7mx1dVlgbBYavonBLmpifaMdBisWULEIOijYJ13NWHyZF6E57jaqK7QZ7V8sNcbxOdV7kk1gYdKUMK9UyofVHQv1YsuElPlNAYawdfyyjUsAY1viL5jFITWNVO1c4btcsPTX8DM1unFoPUpsliJjVIjCSRSwkWWqt5QWWFJutuWWq4mrHXdU6uY5Bkz116-dYCmzX6qA1eaypXuoDW3YQM2QcSQGuOwpLyJb4j8d+PAB8YANz4oDVROyVxqJJ86uKj+uRWU0XFQIFkA-AwUbqt198phRsGfW5rM6sEitcBnD7SBMN8EaDCkrSWZLQNGwCjb0ug2FT+WcG-yghqKUcqvwqGn2EuOljjkNEqNKFNGlGGawBNfQpLNOD40iAw25nerNzNzT0L4IfMMTfiFHayae+l02TeYU3Q8a1K4mtsJJsE1qBhNt6+mCwW034g9NNCn8IZo0b8hyspmkQMps0BSaTIamxzWhQSBRA-I9IH5QJos3cF1NtYsQGJuoANTFN9moVcsNbFjlZY8sULbpti2pY6RbhIYXEyC0NTys8WzxMQB02pYs5rKn5SwXi1jpstyMHBNzxBxSrpB+w0dXxWZa7E8t4rUAqloZR5K3o2m4LfkDs0r1wt0qyLUqU619h+tQXJBjktCxnywpswjIfMPhXjLfE9W7VtCiSz9aDcEgYrYzgq3ArSt6VRqm1rS3yaOwK2pTctroCrbNtt5JLSutxDVawqbLVkHNpJbaUVt7Wkvm9Hc2ZoR23Wyrcct2GnK6htJI0ZCrTRc8NwLCu7YZFe354BVq7JBYcVLHRLyxmw40TQjGZRKWE8O2JTnOoS0Jes5sU7VGXO3SrLtYatkNQF5YsqSVbK0AuDpX4f1iwC4StLR3DY990cb-U+ufUvryoVSNYzBXq0-Z3sA2b8KVICpGFUQbSoK+SfJh8Q4jU0PiWnVw0pRP8GaYDSlHSWBY7sIJcy15LMDn5lV3Bs5WAimLgUshVkHvb1KCPDKMBfeexLnpjqCAshb2frfnWgV855EUdMS3sTnJFkhZPW622FoTr4r27v2B8OreTvpagEA997YjM5JAyyRc2OlRQdBgACcAwNXhIF0qUr7ggA1ransUGUqsKUwSEDpme6dcIhaqibm7NeR2AMiDk57oEDj2aVVAKLFFqyDQAt6Q1NWUucwN5HZ769SwumRVDr1+YTlu8YwicosiM47AJyffB6Qlld71KOe2ScPr4ZZjY93enVgFrsAqBuFvCpYP6D1UfbgVPfH3X7rCqb7NK2+4PYggCWh77kXCs-V8H9zU7Y6p7AVZEGq16FFAmQQ0GLVJyJ9lo0GXtoKBzZ5tzWirV-RJx2J9BdlfGLDFdEYCf7BaeTMlOjFJF6BVwE3AfWFWOQnJT2oAeluIDcYScA0EVfoMetn26U4lIrUleK2VbNhny43EQVhg9XEdXAciTdZdmWhWrZ6Z69KTuokkiN71BqgJBwYB6a6P9-BBA5NQPCGhainoGveYAwPhUsDgaCSaevI5EGsDXoOgx3pEEZrSgChpQ6uTwPViGABh45G3vkOr7090Kk5eCv+2KZAdv2F5j8t1EK69ASupYMtHV2a7tdcVKhCqNB3KtsYsO1HenpCzAR016+0DEzDyB0BNkbgMAxuKI2-7-98YvtvsmAMFtQDBBwlBAagObinM-hY7AEc8MChgjbujoWEbY2mw0mhR+1sTqzGajjivI5cEoFibUIrUlBl-TOEV39QSjrtNgiVu8MEBGqVCSQYyvGnoDGBlrH5jJvDbkj1Si0o3Z6k9455tm-IGjqQo6hf0PMEx9hmKIkJbThtLmtNgsbf5LGTdQRQZlxBqYmo7KOEZ-T8pRa+jVAcCgADpYBD1sK9lMR3wCsJgmXumKidQBTiom9B4WA5-tQoDAHj1Bp4+xxeOpj3jnx16crl+MwtmxEhQgHoUZxGdWBmJ0AAAC80sZgd45Ki+P0gfjfx-XYCYJPAQfsoJw8GIaWg8QZcIwJLDEbiMQgnjZJlE5SdGovAmWuxZwLsVIC7EWWaYFFtyDwDQn5tXJ5ExSbRN8mHWrRz2MKdFO7L6TXoIAA')">function type(exp) {
    return is_pair(exp)
        ? head(exp)
        : error(exp, "Unknown expression type");
}
function contents(exp) {
    return is_pair(exp)
        ? tail(exp)
        : error(exp, "Unknown expression contents");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p50' class='permalink'></a><p>
      The following
      
	<span style="color:green">procedures,</span>
	<span style="color:blue">functions,</span>
      
      used by
      
	<span style="color:green"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      (in section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>), specify
      that rules and assertions are added to the data base by expressions of
      the form
      
	<span style="color:green">
	<kbd>(assert! ^rule-or-assertion^)</kbd>:</span>
	<span style="color:blue">
	  <kbd>assert(</kbd>
	  $\textit{rule-or-assertion}$
	  <kbd>)</kbd>:
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (assertion-to-be-added? exp)
  (eq? (type exp) 'assert!))

(define (add-assertion-body exp)
  (car (contents exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDPEicagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBOBSjodEoUWIJL0MqScrMCsJUlp11kjLJGtZ+sNxtN5C5uJ1-NdRpNiVCwsyapqGt+lK2ityyrBaiVqhVob2mv0WqOfLEfvdgfm0kWknkAA9NJYDeNzRH-lG7Amk4m45W07iMycbZI2qRpEplATIdCKdXAe27fSHXcUayNPRznoO-Iuz2lASub5-I0mtjLvbbv3nqAWfMIkpnDl54ve+NVylhj6xJ3u5faEGRWoUVWrTWETGG6rVHXG3fNN0zvOwHyXAk5gWT5i1LeRy1oPcP02YdvyRX81HrID01bXUQm7FwWiUQsSzLQ1EPfQdP1Qs4LjpBkJyhfcWQI5wiJIuCEOIL0eVA0BWPY0FlBJKYXxDOgkKolDqRYJRNHuYNRXFSUOReAC-2w718X5ATiMyFpBUky1rTQ2M-ywpjgJbPiQmtUJzgUD0jNSEzaO3Mdd0nA87LCZd5A9Hjb20sQ7NgsiK0o4yv3Ut9LJwmypGnFo5HGFRnKHak3Po8c9ynWhkoJFQOPC2hr3XDcaTondGS8lkkpS2git8xzEkC3D+XqwqZjg5LSD89LqOpcdJEsfBctAHgQOCnZ8oa9kZmnOh5AAR0WM1Ipcr9htG8b+CmzMZuIArUpmFQpnZKhZiWDb5S224RvacaAGZ4um4EltW3RSGuyypNc20qo8mqmNZD61u+tq+NkgBrT4wa+n7HjoZCTJyll4bITkXhRZGtIOgUVvBuGHP8xIJMi8xNtQmKkP2tsCHBMJ7L8pycZR6KfzZvH6bLchmZavRyaY5G-q-CykbpvCpH8zRyEFUJCYRvcRaimiHEISplcl-l8P1PnmtJ9bhfZtXJQ1zDAON178YyaRqFIaGBsGoEsuqxjHlZU97ehyG3q9h3JH0wybtu6mf3FzVrLekI5M0WQ+r7EPpJdgH3IY8aWVj+PlyvbWxFA4r4PI-Ik5MmmgO53UeyiQuuKFgdVepGmI6snl2rEOXNCWWDkOT9tQXBVQe42QIAH5TKHkt9BH8wAC5QEUZgIVg1kAFViGh4hqAAdzsMKi-5TvOTzw6FEFyfNF7-6QTBZep5nsxx-rYfGnnxfqDvzQ143rfd4X0iD5iGnGfcgdA2q4DAKBBg+BmBsCgHARAyB0B8B4Lyem8g8yEH6k6ZkC9iCzBNplKQkxFBpRwV4B+5hx4kOmFBfMpJ1RFEoWYeeRJpTkIMMw0A1CsjQ0IJoMSopMHXUUjMZSUoGFhiKC8XQBCuGsKkFnSgCcKwcOnhVceWdDIYIWP1Au+8uKVhkfg-QTwuGNGGspYRElq612LhJNRxiCHTwAJAsOBNQLuvYP6SGqM4SIOdEJqK4ePHR+Z+qeNIeQHxfiAmQWiZIJRKigmMK8E49RG4FG+Nml1SsISF55myUdOaZDUn7lkRk1+wJdJ2NUWUyppRx4w0+KBVQNShIclEkKV8Dj6lmIqgMoINSg5GLwXIiqWSMbfTyRogpTVFaY3uAs76-NDagNGRU+RwJ-aO2CbMsJgc7YO3NOkrZtkayrKcnsjcoTCk+RJlcsppyJl6nLDmM01zGi3KKtmAMHynljIaWkLJ4Enz5E+Y0uZMxQWBPBQCzZLz34Qg4d-TeO87BCj0EoIsoAAC0uKoVYIUOAviWjVDCBeNXFWqRKD4FAKoEIpZKAsBSldSQrThBpikqHakWiQQRBZZdFp01yUkEpYwKIuNUiDAXtIJa4g6UMsSh4Vo7KRWct7mYRa5BNh0A1jq1EhK9HTUDtQAyoriCmPMYM0oxYz70lkeCWgTlrU2o3AXDpIlFASU5f0t1-rAhUr9QGgN+j8FOr+XcDV3I0jXzssI1QZZ9VAq+X3OhBZgGJETfBZNrr56tHaJ0FoAxzAyvkHK+Q3KzBIotai3+dg+JHzxQSrRPFS1tz4pYiU1iL50HSVWkysl5LV1AKiAAfEahQqhq7pJkSWKV2o3oHM6idE5gLuXX3CIQd42jMHYJySdflXRlH7qkWkwFKagjfPCVOldjUFq0AxncRxgLzFvz3beg997EnSHOjnK6GyTFR3xgcqZiNQH9stAq+lIQZZywVp9RZbNNU8qBAWjoCRi0bDLRW6DSqZB60uVm5DVbSgmTCUSpYHRGBMwNqzY2TwKkltLbK+VUHAjaoZjR-WTF02VsNdaijejGY8ZZsRhjTHKG0pg1IeN0FyUifso8PjXL2Nka-NR2jvHhHMbSDhtj1ryOFLA6oV1t0tNifPmzRjQHKHDECMMRd+Mu2SBIL8roqgJHUoykCIdnmOSjonSyAAVG5t5mHgssheF5629M6B9WIGKbd55Hywt6Wei0GxpP4ZM2olDWrH06pxqOgmiGVl0bJpWXTQRr5wfliZtmZnuGgAqNIJr89Y66GRAlpLfMYUEh9YpirRsJZWpDaUeLeRespYguMCSTWbXNIQ0TbNFmBbrOQ82bDrHK1qedu2frdSMuXqvfxXch3nzdJDE2a189WvVcc2g3UBydlroqdyzjQcSs7NNeatR1XONHJUAwQ1k3EvUGSxd+gqgg4xvMJxsLbpMMg7O0zZSiP-QeaB3KuH+3J1LCDnO+1hZw3MEjW0+2wPg3jZp0EDHxouh9tAAt2nG4Kmxee3ci5w3n3wpMRur8S25P0NM-6oTU7QoAMMS+9nwH0GFN+Y8jLkGNiceESV8XSxFe5mgrUlJx30nVd+YImYCbtdziu9kUZwjDeRlQjpjtS7ClQ7e-zqDIQC4u7UW4ymY98cWrbDNsFXxqBFN8nOL3fSmsIrnqAY3lvTfyahyb0ZLO2cfqWMn4Reu4UG7TyG2Xbc8BQKYKwdgCCuDILQE9J7OtbSMG3W8QyRYr5fgyFkHIeRVAt+ZwM8eOL0SGq3ZWt9C9GBL2757DvuQ94lgXAoFoLxLDfUoFdFos8SVvSW60z1VhvUvEJ+uqDqNdx1RVUdNVB0osLd31MJnh-JNBRtsqmoqqOWt9NqOdO+A8qv4v6BX2fGD1JcL1GjclD-Iae6HaH-CaE+AgE1EZfACAoEbaR6GAvaSufkMNWYCNJyJAgXVCVAsaGAl6OXXUIXC5BNTNWUO3SAxkFkYXRYKLUAaggwTA04WTSg+TYRZAkcQGdOG3byLg+hQAnmYQjNWgEBVQHgggpucORsHgjnfkL6O2Q0aIEnHAsnJyd7Y-MWRsR-duBtRTGBDkIeN3Wg6MdCAwviFQ6gJaQOQyEwkkSDdYHzOwAeCEJw+QW3YYTjd4GCOIeDR1LQxIEre7WvMQbfYSERHpF4axXg0ADwhSWI0AeI9ghtaIk3H1aI34Vw1DWsH8LwuArwvjbIjkXI33fI14RsIosg5QosYnYI51YjURJnPMe-fUGCcwtw-iXQKId4ZI8SQwQfXo6IAY9ok7KhRI2+VQKI0whPNo4HUxUAZwTojQyY9xHIMYt4QY7IEWAAHlGP6J2ImNdVCXHw-lUBZAABUshQBZJiBBQ48JUnAyYBR+E45KAuh54WRQAABqXvWnMICIaIWlYOVowwAE5g34gE-PMwYEyIKIME6QpYjY2PGtG4u4-AeQbeZ4qIV4wWd4zQT474g8f4wEmnBE0E-AcEnpSEg8VkckuEgUcIRE5EiYpQsQO2agPhARBPPjXY6QFXQIGw-BGQLIeSHQyhPiMHQUxYnHUjWNNvdWTWBYtE1NWRcUzxUXVnPBLsOwxEjQ3ArNdnfPeeBPUdDEBMNU5k8eBMU41nc0hLDCOU5Y+sDk6rBzKTRVWRS0ofLEOrI0kImgwZGtBPb+TIVoFrDkNtUofTXba1TjLwkrTTPmLwswghT09TVCWUkohY8lHI6nWnEontIo3HIIezdtHozU7kyU2zJzemePURAU8M1IlQYU8wUU2YLUusghRU+A-GWUhYuIpY-sno8oc2V0hbUJMU2snU8bWwtQmuJo8nU0gNc00RP0ieG08bceJaPme0qnNs6QdU4FAUZ0rCCEl4d01ErMswGVb0+lX0kY-wwsQI+WFcj0fLIIMM0RCMiHI6aMkkZtOPcLAKcshzHbMc+HQrJgALQ1VM9laIjMiC7M6kXMzI-MooosmnEs6CMokkLbRoSs+8iwveWciUlClsYvaaaBWBcvTgJBXgDACI-uAVVlYVA6C1QhFOLcbKXcClA8JlQVVfY+dIxI9ioVSQZlOONZWFbi0WMOdCesDVFsTjYSjiy-NsFHHKB+NGJUZg8wJUG1MbNINGJMQyswJMEynC1HO4FkDwyy6Y8EGyvS0-ccJy8cVy0oNGCcyoZgvy6QCqUyoZU-ZKOgOOJQQUZg8KyKp4jcEKwINGJFSypFQZRK8wNGWSd4RJZwMBJ4bKt4XKhgRoDKswNGP4py8wSfUAQUYYidHFAE+Ksquyq43FKqswGquqwLUAHFAlZq2ytGSLF4NILq+q3q0AYLWqswFqtGYADq+lIsF4bq8dCasAAaty+ggAUgWrGp6pxS2umtAFmtP0Hyqr2tWoHwxDqsGtPwAEJ0RzqlrarxqcUHrDUbrNr7L9jdrnqVqGrQBDizBPqfLT99jUQOqLqAbwbgaTr6Cx1frlrXrQAJ1Ybbr4aIaRrAgoaJqx1DUXr0b7K7qFqJrAhVqzA7rzAW8H5uR1LJLRKtLIIFjR1KE-MlQXgNKpKoFabYLOaGaC5qBnAAArefEHVmuSC1HqtGPmq6ZgmmaNWyoIGWzi7S7kLAOm5lTS7VPIUBErHKNGdDItZgw2zDFq3UpK0-SAYgDDOQaKkaq2m2uWM2828q0-QqyQWASASy92z252l2rK5cIqgAUScvdqDr9vNrRgADklAo6FqY6o7TyaceaZwJLNapLtaLdWiWbGg-M6VVqEwkCOb6a2VM7QEU6wg06RLS7CsdbSic7Sg86er5a0xi706Gay6pVDC49iTpB5ZlbGaKxBLq5xwEi+VIhXMjpFA+7DShalB5h4sIhZZ5ybUB6ZKcgPR5LfUFsR7bh+gghHdBytgBFPys0Ei7UusgzmizQmtOsjpVAB6C5hyKSacB6y6siI7A1iSusH6S6VbIJBaRaKAmdmSq6tba65x4jFbShXzAzT6vAWwcgdVXyog7ZViZh4GDUCZrAT7Sdr67g1aaKDo6Ky94FGLuBMBWKWDJDlAKBJBPowhxhJBZJGBHYjxKATwcgEiJyXA3AaZ2HOH5BgJKE7T5DzIFCewOHTwhGuUoTJAYSWSQSkSaT-wxG1ABHpHhGql+HJHBGtsn96ZqhZIFYOkF9IQlHvMqilBSBSAnANZ+p7hKUbHxqGAATp0bGtyWRfjx4vHQAfjGSATrHSBP6KovHsZWTogF1u6SAhIlpzHETxVJVEnJ7YmhHjAXEyLFHETySWQrjySjHiIlpTGPM-NbEYmewlpEnkZ6SuQWRxLymaNPgpgWBp0JVuGVS1Bq4TsfHWsWRKEskcounQA4QuF8NWsXSunigfAJ56xJnQB3qDxR4uQRH6UEwhmRiWQlnzFx5gFaG+YGHIIWHHYunR98Mkl5KhmRmbU2EqMTUDFi5Wmfg0xtmDw8mASGn7DmnVH0IqVHngImSbVfiFH+TxFTD9EpcHm5nYTAWyT3niBUmvhFAWmaZfnJnZHXVanR8PmlgWJbhmCZ1QBsXEXGAWBnmqlGUZiTnU1sWrjHKXgco1m2nrzGxJmXgiXmmTtJkImYgqXIUWQAByBRkdKEwV-prJ6kwyLp+p+Fipz4T6RgQyeV7q3Q02cZkkXhiEBMJVkJm1NGPIFoaEj+aEreT0F0A0RQU17yDWY+MlyFGlrVxYBVt0xsbVtlmVxp4l0lsV+1n8V16ov8P1ol7VuosQOehe0gJevmbPUse2IuC+dpxJXuk9PsF+SFPVpN5JbiF4cFziB5nuaBtIPzMN-UCNygWWPjflWNg0Kp+N21s8m5+NlZtGJZ7GZs0F6UHuTl-+TQENuwJVoMLFIsSt76A0eN7lbLGODN+Szt0jJMk1C0gTRoEFiUCRAPSCe5isTtrMumqtpaekKlErPzftzFc4IdmNkdpnX5rdmeEyJ+zcjZxylZpIhMc9oua4KlZYmmV981-diVaprtu918Txjyp95gC999v9sVwDkMTx4txestqN6CPp1NJI6D7IAtoIIt+ektyNit79y9v92trt1D+dv8iS3diDyVcs+MvDBtmdtTE-egltgUNtld0w69yC8tAzJU1CWCB7IvMASJYPc4aRjm7dOPQCq4cgCBUvNgUgN4OSKYUAJ6elJaemJ6avavaebu10e2VQWGQUJfBcD+FoSxvHQK7NDQRgUztE8eE2roUfQmNKAztSH8BMZfEz-9s4ieDz6z5GPNUCugPTlz-1tQXzmzzkuwJbETnIVQXuQHSnGYGL-jVqkLZLyLcsztXhfhfT+QeWHgF4AzyQPafszjPVZwZLkrXT0gXL-L5lv8bHbETR1CswCd5oKejDDzcr5L1TQzL8ezrDYiqCvbIITjcLqrg0YLvL4r+rt8QgCrvRlrmrZUyetoTr7ocLpO07Abs00Lyzkzpbki0AI7myegC12ryQAr0AIr-gEc+hb8sr+byrw1ari7q7+sRrnrpbtr1bwtTDe4J7xb6C+EqwbEBrxLprnIDDiqJInKIrq7pIm7u7xYVu0BwID7iHr7w74bxM2C8bl7ybmrpHvb7rxbu8soRVEIAb-b6z3rtIH3NIfcsHubhb0TrABn2nJIxH6b2748lH6H8bLCQH5r7kDnmjkbpd0H+scL5HoR8nr04i7DDYPiWK5ceT2Y78wdYD7LzQZDt1HhHk-hdre4zxyIJaRgT0FnceM3i1lnN+C4iEFgOtdFUAIT2FEC5L2M0ino1X8geTtS2Ct3+JQRw9pQWGSHpYCunVKTkrIPph5Lq47k3knidS8Tw1OP58BPlkG3i3nibupbfxYpaIFE48UTvntJlV6kJIjRqH8vuAwv5KdQmvgnSIRvn4WQyw7oBvxE+v1vw0hNbv6IBI+sQfn4cS0f6SxLdM5v7NnIjvuwV7mfuCwi8Si+++pfwQoo+f5yx3sPz4UfkvqR2vng2f8o3t4EI8Mdyv3ir-HKFeRZzfG2GcHWjhqde-rwt1yMi-I8SQBTo6HIRgL3D4gaBNA2iKeP2R+6X96OuPVOqP2+x991CE9dMu-xyLy8qiVPDrkWhhwICfg+eOzsQC-70gf+f-FoAAIvin9CKu3EAYZAn4D8cBRFOMlBR+5JFoBgyEyEkWoHfNugnbF4JwOfhTwGBemHHmwK-B8c7MSvHopwJ7jn9gSuQFgImy7gX42g3YQUF1yu7KCoq1wOgCV2v7thxmdASaCsw0GqD6Q2guLmK2facxJoAvTqi43CByCFBl9YwV13sHEhme9wawWj1pzODTBe0OApECmCd42UPgjwS8B8GhAdBmTCzgYO6agBwhZg4jjMWtKeD-UcXHqgEOnq5Bgh5aTQd0HiH8A4uNggZGkNWqyC3BWESaPoyoZlD5B+AbsFCAlqCUzOfcAgPULPj2RLAxIcxg4LzpioBQVQviHUOXDtCah3Q4kAm30GuCvWqaVrGKwyGMAghnwEIdamtJTDP6JQidEMPIAjCphYw+QRZE6Gksqh3dNfvSFpRh5bgWaJfkRH3Bb8oMn2HAfAKL41wkByFJfrUSiHtc1uWA0frZ3-j2pD+gjMIcuAoFCNR8oIbYYoESzZV1etA+TL8OBG3DUBh9emBCPOjMM1eOxCEYiNBEJFkyGzfAHGC6C-EVmLIQkaqGJFisnOagbEXEOXCGAVmyZMwHMKkCX8IRDIjUg0UvrnDFolws0LSJuG4iWRN8QeOyOGbwgKWg8G4bELRFQiMRfvHYvWHZFFCNw9YaUSqMaCyjbA8o9Xi+3pEajWcCYdUV4LdRlkxWZIokQaxkGIkkGl2XYT3l0E78aqGwlrObEi4sEPgAcKbK6AtYVgfRFvcYC8H7a0j+2dw1XLBRhFFUk0v6ErFqOhGYjVAwYkEYF19G0AXgJot1KGORE9FIxD0PVDGIJGWi9eaQceLMKqRLlbRiWUYbmOjFsEURuoQgPYVb7FgH69I7fiECpIxA9RkcesfyCk4dC5BtXK7gZ0iEcZYKKOKTkOMK55cMCnw37ut3uCGBSx5sPxgKHP7Nih2RXcUK2MyxjjU6BnErN2PLLXxL+BnJcQ-1XEGdEGVgUANcQAASQdSQAAEFwA4AIOgACVrikAAAPJR1kAhqcIt3WxIKjEk5rAMY+h3HnRcR2-RsZ8A3GQSoRsQ-sRuPfZgSBsCE2wF237EqBToaEubOJWwmVBQJ5vdCQkXvGPiXxb4z8T+L-EETQeKE-dnhIglxiEi-Y0YRuMkBbixoLEs1iRPGC4oahj-emBhkYl8TmJwwqEdBMdE1D2U9QvzGZhuFOBAsLOeTguGhiJJEs-ovsIpKd7TFIRtgXETYOAnydiJqY6HHGNxE4QkGFga1tkhIBKdDUAABgGDd0Eg28EaLZPOaQRKA3QK+LZI0D2TFAJWBvGeACl6AgpAJHgNVhMghTPgYUqYOJSWxuSoIpfWLkv1ikKDs43kloAkSSKbNmCSRDKV5KYY+TZugIkXuf0sASIUpR-eCJP0TTWt4uePTyVO2ylhEcSHks8MVOfA+S4u1WRtJYE+DbwVAjsHuP2RPE9gx21qJpHv0lAdTm+5AmyV1NaklScpt2YECwPviDJx4SRewUNJGlcDa2Bo14INMkDDTpAjsfgZfDraZJu2-HHontLOkHTYp7otoIoNM5ih8g9-d4XPygwDT5A+0i6UPG-KQDJpMjYHnhmpHlTa+4MiXmhSBDD40B95YQf6k+xPC2+k-JCux1xFIzlupsans4C26ppCRFaNHvPEennTHYcIkXITKW5ekXE4vPrqbBYEcj-UT8U6ZTMOngy-AJ0gGU9KBnPwbpgyeeCTKWjk8juR3EyBTIOnSDexYgU4dJQlDaByw0jaGd4WPJSTwxsAx4Yagn6vDTCP0s-llkVSU0MB3w-7r8M179diAYJHUTsWpmLBsBzw5YhmLMB5gcZL9GjqDIhB5hVMupPAMFkDmUIHhzw9GYaX1nSh3Zy-OXpQhMimyvhf3DzL8Kaz4DbZkYtWcdIqgOyW+zszOe6hyLG9ThGcjWdHOo5MDFUb0rrFIEQhRzDZhFXIgHKDmNATIFoikVaO2xccEyzc0QVyPX66My+Ucj4V6QbINibZNJO2Q-QR688wxPRfERiFbk5ADWpI8kYvOLFBA34q0NKJoCnmxCvCwotkZNBfp+4FZ5w5WYaFVnbyOa08gueS1ZGTTNAJXFZifKVl2Fz5sXB+RzSu5b9QAjc4LMKK56Hy4QG0mYg-NiEkA05CYpUSkNZxKi9oecwlmPPljpyX20Cl2o0BfZwLXZpQM0VUgXnEj1xsma1pCEsy7j0BqcfisDBIWshYpohXUNOC7CNiKwL07fjTBelwEMpIyZhY6Is71hpejUoWVMT1bSBhpgoevEwS7bNxGwbC90XymIixSGptfJMfpOIBBjHW8sGeTBVTpdgZ8nUlLlVI5A1TBGUgSIAopjl7jK64C8ebWJKyupLFSChMUoqgkmj6F+YB5toqmwvT4F5gLMUbJ6J2K8x+qTxivMpEzDzYVIjPPQzUWmLfshkdxYlk8ULYKxVgO0YcNUD+Laxxw6yeRMkDvjV4AAGSDr-jXRlQFyYMKsAmTYpEkCyaXJglNip6RYDCZahWbIT6l1wSpY0qwmg8cJuiiSHAUIkzB2lZEh8TkvyWFK6JfMBiT0o6Xb8ZJd9boGZjYm7COJXEjpV4rMAMFrWAkqYVyBsGLLUl+U6hZssEnHDSUvdeWO0uqUaK8cMkrYfJLdSxSeqLOWRbotMUc0JJBk0uUZPKVRjrWVS95SotLnujDQcQM8Eq0TFqKb4yi0EQOPGEzKphsk5cHcuwXRFHlgyWZd-SUE5CTBK9QZCJNMngTocjiySZ8oWwui+U7SolR8rLKK08yaw8-prkiWKBFWai6FTUKamp1lowgErJOKPjgqmVyxFkAyqVZe8WhZsxOd0E5UkA-hwK2SoyoVZ8qFWrKtYaPklVwpwp58P1rSsOHuiQgG4wRjuITadjDp7IqZhf0mlHigV0SSwPiu8mJZ4JWk8YL3B+56rVZDq2gHT1KCcYDxhqZZdN23FurLU5PTjLY3HyBgA1MKtgKiDhJ7LBxIXTOExOIBbLDhIqwIJoG3S1deJZkpNXIOvyDIkiAal4C6JDVVS+Y4atlWXM7ncpHsMpK1Z8AykT14JXCrWZXTjElYXFjCxCC9OqzOr6l+qliQ91grerxA9SziX6u4n-KluwamwCWt0URqG642GNV0LjWxTs1xIFNeYDTV3Bl1Ry7ZdD0KnWtC141YtYGAynlqHsKM0iiPN9AtB6QGUnxAGunQJqE28igNazJLFx4b1Ly19WKyRCiSzJj6sSYGt4hvRf1Nqv0U+u5RhAP4nwcNQ2vqUAazJ5ZTjNkD-UEqUc2SyiR+K-G-jwA1WDDa+Kw00Sil+ahNYep6ooawNj6Y8V+BZA8k6mwG-GKBvkVNrAgUG61fWrtXwau1zanVBRsqUlZsluSgpbho2CCbRlxGmYrFLI2rU+Nvy6jahFo0+wCFb5WWPLGnBC0RUsEZodfHGZabiiimdTfiF7QJEEwem8SrzCKQaaRAEkPTdvyulRMEoKm+DOFSs1thjN7YjpsZvEqIUXNRm2zY6NM3zp2F8EPrBIFc3rJ-NmTezXAQSBRA-I9IMFZFp6KBbNAUTbuupuoAmLDN1mpVdqo81Oa1NtAcLXUmIDhb-OxMzClMLFYZaTFFm7LcA3cClb8QyMA0UKqiWIV6tvOJrdZqtQc9WcWquQccM3VXF9W0JNrUyuYI1agN3dFzZlvyC+act0ciNQm0DILa3Na28uiszLGlBWE4UhYVkKWFYqPMZmcbfKp81hajNG2lrUtrZVmI+t9KcarNtq0haOwF26zaoCu29biylW7VemGG20bGAY2iJcKrCFha5tatPiLFv6hBobtawuFYcIRUND5IZmfEWOnZ4bgLOp2wyFDoXxyrJWf7HViGiSXRIqxuwssq4huQCgbRyS0nakqKLs83Ed2c2HdrSADbxhuIf7SayB26IFAeO5gjjpjknCiwC4bdN3HAGOjNci0lBmgyKiYN3RcHUtuWzNx-tctg2qiCZBuVySJa5iVHeYmLAi6p0ZvWcFQH6jMlGWVHUEXnOkLZt6qaPGtLMHTFoLAgLIdeGij-gQi2yjAECjCQZ19aWQCu3DsIi5ACLTsxOlJYOPp0DImdlQDDmztJYc701-u7DvByV1IdWQWO5ggHoQ4qYXJnGWSEO1ioqCSsAATgGAq8JAcVCNYuO5Tl6IqKgiNdJSmCQhosIMynp5rCAeqhBla7LHYBGKOTvygQQvVFVUD8t+WrINABPvXXIzK1cMswEPsMirDBBG4efQ3rkBuAZJFkZYnYAJSTRxZEg8wCvpklr6IQTOfPa9rr1RUZFwiqKmIqWD+hoNqu2FY6Lj0J77KKgERbfu503o5Wai-FtftEVfAG8guviPhzx0Mp4W26OIooEyCGgnaH2WCstBKzHtBQg7YdnG1SbgHN1OTPoMHu7WKorojAGA7bXmbzzDQWxT0N+Xn1tV8U5HC9qACVbDqsDzadqvvUoRUGg2US5aM2GO7Dcju2WcNQklcCJIb1HmLg9+SY22T71Ca6dJ+vDUjIxD5PbLAQaINywSDhqdGBSL0CrhZ9cQivSoOoP4oW0Caj9W0BaDMHDDXoHgzPolkXqggVBlkIYcMP0G1FuqfVAwEcMWGluh+3YdahklIrTRKK8dHCQ4NMqcVNOI3S-36jLRLd9KB3QQHGrOIVRWOxMdjGp0k6q9rWYCNRzllGFuMGkugNvDcCRBN17KyuogcNTIHUD+HVsY00wPicoSOBpfUmWiIo5kj0RqndEErEZG3R8mohGbE1heFytfLLePcUxHZMbhSgPpi4nzTut7CYKiI3oFf5LB2jhdFo8sWt3xGeqzic-gIdDxCHf1HmMaY6N5VjSNmWk+jQYyriyGE1MSq-pkwTCsEbNAglsKAbBX8stJqgJ3aAAAA6WAF9RivpAJJ8AH8Fpq1mWpI0uU-qMfQeGUN2ExKWAV41EveNoTPjTu34-8fekh52UIJ1sYPEIBxFlihnJ0fidAAAAvVumYF+NBA5lWJ4EySw2NEnyTkJkNNCcPDQG4TPEH3CMEUx5ACjbgd4wCdpM4m-q9LU-JMc9jQlSA0JA1mmH5bcg8AiJ0IwKcxNAnhT4J1LuKYPDOBJT0p4Paya9BAA')">function assertion_to_be_added(exp) {
    return type(exp) === "assert";
}
function add_assertion_body(exp) {
    return head(contents(exp));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p51' class='permalink'></a><p>
      Here are the syntax definitions for the <kbd>and</kbd>,
      <kbd>or</kbd>, <kbd>not</kbd>, and
      
	<span style="color:green">
	  <kbd>lisp-value</kbd> special forms
	</span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	  query expressions
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>):
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (empty-conjunction? exps) (null? exps))
(define (first-conjunct exps) (car exps))
(define (rest-conjuncts exps) (cdr exps))

(define (empty-disjunction? exps) (null? exps))
(define (first-disjunct exps) (car exps))
(define (rest-disjuncts exps) (cdr exps))

(define (negated-query exps) (car exps))

(define (predicate exps) (car exps))
(define (args exps) (cdr exps))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHR0lVVRdSeRpiIbiEpKLi0DmF2sUJNvklQQoVx1EAD1VLOjoVtZGDMf1nya2UlzpyHr7I9roikkjAA5hdrrd7rRATF1j4XoZfABIczTJzUVSidzkaiMRwxBqULLCVawp7vZLBQ6yY6KDFY+S4-GsQnE8442bzRbLWiPfKjPQTD5pDLM4gAE1cKw8ZP5my2VMiYslJJleQSCPlU1F0myDXFknBN1Edweso2FKCoBYknKokcpxJil1jQNjlUwOyVixNXqTWkMPV8Mtwo+Lv1hqa4v25vhgq1KTRNVEAEd2mRcsM5SHttTk2nNKQOqn00WauRjjktIGsxtNTmRTMGqVSOU+RbhYrws3qK321p68Kk5ZrLZy5WEv3Eg2uy0RzZiOOFFXyFPBx8k5JTSDiCupwnKWIlVv7ju97GdPGG0nxaJSLrsWag9PO0fwrf756nRf11t0ljmEYNdQAAIgAVWIcpiGoAB3Ow6i0SRLlAABaFC3xpBQQIMABuLAAF8BBIM4RF2aR9kEXRgRBOgjFMfxKHwUBFBmG5KBYKVxHtR0HkEAw6IpedbB2LlandRh2M47jiKdSidlBWi8P8fCxADUR7CYlinDJEhxQdGTeJIfiTApFR6HIUBbkIaQLIAXgwuQFEUHjaEcKMKKM7QG1DD4rgUCULn0ShmF3SdvJ80MXMXD13ByNxAT4ryIuSopqLoJKUsy8wosC8RgtoPc+P4pTkiEuwZjK1ookUKybIPIpgkq-57TM-zV1ql8fPSXTRHwIlRHFErQBU0Q1JMlIANxZySF0cDIOguCCAMkRyFqTFUPQsjamwobCMIrAopCBwfl6KqAQOa50vjcaAjK605iBUFQFsgA+BzaWozUxku3CCKIoQVgw5UpVoNVawHa76P8O6ZnIRhCHIAALfZqUc3IJRBrIWmNSUlici9nnjeqrVR2kzJVaUWjMugS0nAnfz-d78doCnQZaGQ3DZLj901PD9sOvMaYLDNFG+FhyCu8YBICRjmJmURYlW-NSw6chxdo6Wijunq+viQbJhGsbZa05wtx+b4Jy0UW1Yl4yoeFO7SacvrGG+JcFcnMXbe0KWhuG1SaZulJqYsl23a9s71Ps8KnZOYLw4rZdPZt2ifdeP2Zc0iqrAXSPnPj82bcju3wrusPC-FyOM+UgP1Ptj5HaVIWVcUcLbpNQvLYl631eeX2Q0IgI9v+ki7C+E6+hIE9KB3AbFAGE1NYsHPhJtVR569Z63pAgAqKftz1neQN0BfFL+g7lvgpZF2oBHHA-B8eXofcg40uWnGbwtMzhRIl+SEPQBewYPZT+GZ3YrhrD-X6WwYZOAVqoJWoCiw91tm3bYxBrLSDQSKXYmhxSi2vj0O+D8vwrASgXcByde5vCykUOghDb4-BIY+aErdaHChtHaZWX8aod0odWFBGtioG1rq-duo5ypOGYU-fc4USjHUUNIkkvoujSH3MTAI6QMHSGkH7YeF8AYiDzD2PsP5IaTAAe5Z6oATHlDctQaM+4-YAJbDIYBgCGHELvI-EkgJ3LQP8AA-ep49buPHr8RwwSZ562dL2NxATl4SKZkody31-J6XGPlUKVtXEBgyuwgpAQomz3FFdbBhTfKvF+vzS+QNKoWyTlbMxUtX53U4faJqbQlDYNjrwiRRpIRPnBgKKW1SR4kiBtPM8dNnyalfgA5q1jelTOyT8ZqAyTRQlJM+Qm-cAgrJUf6POKyVyHOaDzUAzVeaTDus1Pm4zAZ5iUUMn+cz64zBys83kBMUT+EmLONG01DGLi+YuDkIdJBaHvt40h3ydn5J8lLSY6QDmdCOc1RRMKWGLjRec+moBynCl6aCyOGzTRwuGTQipiKqn3NwGAKKDB8DMDYFAOAiBkDoD4AAJgeSIGYoQGRqIJq0lekj+iEEaFiF+oAAA+srvIzG+BJYgIIZXysVU4JozRRCQpfhq0MMxtHCp2QEA1woZg636vggm9zDqCvcC0DFIrjABBuWK0AF46WHVhpIEEIIBrOAUV7XQSN7QVhBH-WB7pJDBRQUYAAZAm0AiNdX4K9kYWyWbQBhscBG71tSjVehfvXaNEaA16XHsBECC8drn0Orilop0F4lvdUk1Nkh8EVkoCaylYyDGj1FCcmZlLRVJN9f6wNVazEgWHVoOthFDpzvNn6PFprS0eo7V22Nait2KG7b2qB-ExlLoPqc9ZVxjTku2aOjd7a037p3Y+nt6j+0+qkVimRGax0LlFOWqdwabazQhVC0F2E5UKsNU4f9lbAPi1mlICSkhmz2jA0YDVi7akksbfGoOd090HsUARp9Gbj12qw5+5RF6ISbIeN++2+GH2EcI6Rt9hanDhjdJewZvJ6OFDLX6itQbvgoNmpxw03HaO0AXQOiZ4mY2xW9HiRtgI+PQw9WvUWq6m19AXroYjL7WPkeBSEPUbp3K4YY5upjT6WM2zI-W9jjh6mJw9lbNTiTf0TqE1WkNoEXNdxk4dSqknr2Wf49Zztz61GkYLSZmY5NMYeA8554S3mAMib8yBRLqoWiha2eB81Hx0uwcy0B0COXKb8PIEF2plW2biQGpQPGqtxZLzuuEyw+BROgB4CeurLMktU2hLTdz9m8Mes671Hr3L+smfq1jWYNksRc1a4kCbSSpvdb8wAZjY-Fj+o3kEpYE5O0rq4stINELVkz7TuEiyAe1ybCiQJXePoAlOc3B1Xeq6p8brrzARfvVFuzbWvsTPLtVwRT3gfps+8ZwdtxO6NO7o9jbv7Qe2wRxM+WisxJXeh+jtLmRMHQ+x4DAVZsodo6s+OknOjovQ-24OpsLY2wpcsh6krwmLvlZArYm7g7bH2McRzxjIOSP2eZzjpwZFmtfv+0Drz0HBMZd5-B0Ccu8YrEFxDy+ZKtnhfU7DxnsW-pLtBAbshRvUt2AM2ozHDn9p4EZUwVg7B2VcC5WgHbfLxVwwRsjRQlwo1c61WUaQurVgh4JaGYIyEs32QD+pby-5GCAWD7NbVkfIViGuHeBQ4pdCWCLJQLi4pUgydk4DO7UVFAxS9PFXQqTzHiN-VW7LXhdL6WBcfcpDe4pYiui3-umGDvMmGN3uv+BQ907zar87zlgNd4ClFXXgMcoD6UwlWf7fjrOem-gXQfXyciByhZmfP7hJbaX6AWbp+7A5UySFQqu-r-7667fvbcXB13c6dVVqDYK-MeF7f-dod7QAnwB-UUMApQZqN-f3BfHnRQK5fzMVSOdfEQWAsUNqFArpBAlNGzF9eA6XR5MgUoe4VVXKLJPcFpO9DHJ9UfavM-ChZlYtOgttX9PdJggWcg6gGmNyCiRTN5N1NvYSD0ONNgnIa5QiABXNeBJWZ-AqBIaxY1PCZguwWvRTLTVRK6ZqWiYA0ACQoCFTXQfQ8HDfRTM5AMZyRTOiUQ43Lgh9KQ0QCws-Kw-Q2wr0ewv5MQuwQjFw0goxS4dJagl-T2bTPQtxZvLce0DgvwkITQEEJGHQ-0AwxPRI1VFIyIWibyYIYwxQLQ4tUwy5eJGIgQpFUMdISPLIxGVI5oAwgAHkyOSLqJyI0RJnTymhAgABUyh7piBah5IQRJUEgGA6AqgFhKABp0gQJQAABqWPApZVIkEERifYFTIwRY97OYxYwlAIFY1VdYvAgMfiNuNPDPXo-o-AUQGCYY0Y6sQBSYlwGY0CBYpY9hQ4tY-ADYyIrY0CWad4-Y-wL4449ooIseMoSoaoRtPORtN5SYXg8QZwModeeIooBta+eovJUo04sRLWMPCVBnTY4EqkfQFEjENhCpQsCg1YsI5Qq2UZYE9IRtZ6bNPdEkwpYIPddo4E1EDxPVFjP40NJ9cE6ucwQeIoY2cYNkpPVNC4PHek1ZP+LYSaEw7TWaCCJoXSUAWtBJZIQ2QOeuLYABFw6xSHFwg4dOUuD1ehPVFw6whKOwhFApB0zwwI-UoeA2Tg4ScYCktE60mpEzVFbTOEjU3EhEgIJE-0q0wwfE7KWpO01YEo9o+M0qQk41bE3IzKMk5E0oSkvkmk-gukpQ1ZWMs4zKFk7TWUwgqLTkrKYIGmH4Hk6I3EjoxmJM03YUnNUU+JT0muEMaU-QGs+QxU0slcFUooNU7EzU4gbUiUXUzeNCHYM9BIOtLYQ0uucKU0xTc01g7QvZUMO6Tsh0lTLwnIKlCpN0rpJ07w-siU70hIv0-MgMwwOlF3S+JlFlD3TgTlXgDAP3UUNiDiKgLiHvUeIFGHZXefM7ZAuSECYCqSTAuwRC0C+0diBYNzROQyYgKC4Se3SC-tABVCsvaSYFMJBRS0DvLdd7fwLdCKS8gIDvA9Wi8wA9Bil08wDvYw1iow2NRgDiqil7ceXi8eQSooDvI1TBd7KSnRYURi-wDvSUOgBYSQbaXQZS1SoYj4BSril7NU1itUnyXSo6ETECG0JGWYBoOgY+CyxGKyhgLYEyjveY3i-wTPUAWoTNN6ZCRY7S5yl7FCNy8wDyryreUAZCdCfyzi0y1cXeYK5iS4XQMK16CK0AHeTy8wAKsy4ABK0K7ytKsAaKoSsygAUjyqSs8oKuQlKsytAGyrisTzcvyvCoT2zS8pio7wAEIs1mrKqUqfLQAer7IOqSq4rGiKrkrqrQBmjzBRqJKXtGjbJgqWrUrkIlq5qGrFAQIXpJqqrWrQA3pNrOqXsXplrdBkhVrBqzrjqxrtquqEq0qAhUrzAur-AQ9LRfpiKJIQLSLwLlEVNnoQxNMt1dASKwLGUvroQLJwayLR4egGgAArAvYBYGh6QQcK7in6pC-TIgtRIqEy5IWG-6shX6LAb6ySNCsUC2R4+yKtDvK1PWd7RmgaQm6lPSsyyAYgXWVwdS8wLmnm1aNm9mjvOyxwWASAVisWiW4W6lUW+QeygAUV4rFsVtloqQ7wADlJBNaErtbNb2zCkobzIjDsaqaQMV1dCgathNMmJUq90Z8waza-qLaz4KbfqwKLbI5Uabb0bwqCKZ9CZibXayal1RJxJKa-rp8Zphjx4CCtpHAiRIkJQsRyI6TEbJApB6EJIEEqTkpiaMLI8VwZFEpylqI46cJkhHMTMmyqglS9wCC-I8F66woUpcEJR69naIb9cSi+TzBg7obIVLa0j1b-B278FiacpqAkaUbdA+7TbI7PbB6oVzCYqthRyEExJxyNg6VI8LJc0QRSgGhwht6tBrFa7qhT7VwyaPzyK3dWUOAOVuBMBALWp3AKBHACxvhzgbRGA2xENKBkNI8CCpKpUgICKAGgHXCKyGpazt0X1CNIGUNj13iQJHBdiPsVVvj9gIHgRAHkGYHEw4HGckHgG3C7AYgbRkwG9C9rYsGDD6DhJJBSBSBJVrJaRRYqIWGCqGBFigQWGayQI5jgghGRQdj3jmHSBR6PghHdAviz4x9B0SAYoaY6HViqIFINGwRlHgQaY6IkQfT4I4ZVjUHtr3jKHDQaYaG55NNqJk6VHRAtGNZUGDAQJoCdHXZw0sQWBHpI1DDZK1FqJiYRHjUQIQwkwq0gnQAk0GwTZMzCMgn0NZViGEnQRjJhrQJAhsIQxggiMH0omMiQIsm8jPVaA4ZmGfgv7lFf62wgnU935OQpjtdeQomYmIoi1Bgn8aMwtEn2yRGzHFiPGBC3AfG900pfGUG9iIo5iMHYTm1i0umr1DdEmgTpm3jBniAHG81vG8mJcX1xnemti25sIwmqjQAhmlAQIRKtHdALntnGAWBCHkgkwCi6mFRznNndHLmeLdAq0xm0mRT9m0nCY7mRniYkwviJmcnQIAByDB6iVBuF8JzB1Y44oJ9xz5zxz+9oRgfYAsXFkB+nNRHIMB3Z-BfF+a9m2K7ayFcUHY3EHY6CGrWaE8LEZl-zaya7Y9aFi5slxQClwmQjAV25zF4Z7x8Fj5hxvl4Vnsl9GVu5gVn-CZDOrO0gHOtZLpcSXsTZC6VQQlxp7kJ0S9YJ6l2dLkeXEkd7RZnjVYY1teooTTFVrcNVygBBUlG4bVu4Jx3V7lxmDppQY16FjvLJuR0M+ZwYY1iVy9JVwGCl30RCS4LVosO4H11+Y2GYLXGRSN-E00nu6s6OLYOZ3TBZ-XfLB4SN6ub6z1mmPSNKaxTTONhCCsRNj15Nq6cZitwSD1HKVkwpni6FgovdVtzZQNNKQmAi4du4UdhSX17UHt-N7NK546U52Bydmt2YBSZF+d1RQRp17O11jVqIFdlIfI-ioFeG+E7BR1zO519V915gNt71yNiVgo7d-0J26t6dmifUzct+OJ9g64EuFIDrF7ENwBMN4tiNwDn90RY0znJJaN70oMwdVaTEVNxh8VAowN957gwD5F6cy9WcqCWCOwMtlaNaLl6AyA7uY1-xpwLDvD95wjbD7UAj64IjhaUj7prZUprQMYqvU9GmRgZRDkBoe0TtW8fBWjjDnNCj1Nwp1l4Ttx83WpCT2YKd4T84CzaTwx4h6jwETt53MAekbFefFDMGhGHYBcgNcgele+z1RGOYNwUAHbZiGmQdHbH3H3XwDQlcugXsRQO0WoYvO8XEUpfVzMkvML7M18Fm8UepksDwIL3GqLPdKLxgcLp5j4bkh9dL8L84vzgL5L2VtRPLjWGNkQO7CsFDRQP+FxOJFoaryPaxDvHeJr0QI+fU+1KEqoQL0QMSHgXQILxwWbNMgBCYhodr6xE8Ir-rxwQbkr2JJYRrqB4RLYdNpwOL0WQgSb1byc4Dj1OL8U-2UaI07c6GznFQDL6bu4WbsSblQFmLHb9rtbo8wkrbvLw22BuL5kxbz747yUh8qMwtegNlvrgbobubh73E9ofb3j74J43blDG7-z0gcH+bx7pb8IF7+8v9y1FO3WOeCbnHtMg4qwefF9XJMzyPe1nyAoqtYbhbgo4b6Hkg2nzKQjKnnH3H39uD4OC7vLlHu7kbzH4nvb47zOBpj70LjLoD5IX5FIJsinp7pHmnrABXgpAo5nqHsw-A9n9hFjZ7vb36DX3n8pJXwjPL3XqIXHr0jcx8-wQ6TS+QUgOox5tMtpQR-M6E49nyEoHr1QbBdINgQpokITmrQlYIMPtlwlC4qaFgDjkj0AEzp+DaHslDdc5SXT538gV3ulABFPkTqB+t20cNKB2rvCABGz6xQv9kcvq5gPutYiyz+yWv1ydr7a6PpT0O2pO7VkSUVVPApDczmH1wwwgo0hxx0f8hmxIkAfsESfxQfv1YggvdZf1VGf9fhfrpJfuflfwwwjLfzfvfqgpOy0yf3QQIwwmbtHi-pgbw6Apujuu-1Aq-mTgovvk-tVF-vX+-i8ir8VIhnQ66ducVaQjpkwE4g8aaVAWkOAJcIit5yekRDI4Ec4ShI8jAP+IdBUCqAUYgHNMht1aBARs2fPf+Bdy37WIt+idRcJaTgF2EJejhYnMnVvCE98ER-Ukh80QGECUBtLdAbq0v52Ffu2A-YJQIxRH8eeoiAgQxz1Zw8EiBRIQXy0ja6B5BzHaDuINO5bkfIjsa4ADwd625SmOAn1gAMwa6oWAjTZureF1C1AieC3CwWpUDR0BRuMnAJqLD6zQtbBVgvSA4Nq7ItB2D6OgH1n17uUeGcMEwWYICjuCieIQ7IMrxcHSMqWAQCIZ4Nmwz8iQbgHPGBUSEuCNKo0OwUkIi6k5-BJrRITUG5TeDGYvgusgEOwS1dwqqQ1OrqgyE5CPBmKSwfYNKFxDhQNQ1KsqlCEsY+swiZDhMh6HRD8AuoNWOjRjoMNdOow+QP5HLCWBsgdDUIbbUmEDDfOMw8gHMOGE+Nth+Q4klEMebQtjUyLOoYwHSGoYmhc8cKByQOHq0uhb0DYVsIOFLDohdmBYY8zWG+cn+ekRiNTWOiTg7+BoS8G-wsRkCv+FAr-lQIdDaE7+gRP2NGi25sC48eedJEP3wY09QAQI-gd4XqYehNhK2RwBZVd678MYVBUQV-0JhYi-+rhIwXiM5iEiXedRPERpXkDYiLyhhM0oU3wA7oBocxaFiBG5E9peR+HNMB4GZGYj5ARgaFmaUBx+snAQAvEVKPebfDE6fQamP8KtjiiqRgRE4fRzPaKjomyaViGeyBEms6RBIokXUUIyKjAhoYQjKaNtHChzRY4S0XyxtHz1Moe6B0R6JSgelkWAonkXSyMGUFD6VgVyNsODwEECilVe4bqUwQQkHOd4OxJCnU7h8HginEkLoDjbii42IIgIAAktEH4JiNkaxM6MXCujsxrIvzmyxWBz14hEUXMXQN06FiOogjQUZHjpZHDMEyLEMXvXDHPCWxJoayIkCMGEABCc-K4PXklF0d5hqxN0ZKITE2d5hJg8HgtyC6ODQRJtdxDZ1XGQ9ag9+EAZtwJ7WpRYRgYIMahFB0AjBE4xNsN16BTj1s9cABEF2sRDtJR8IwkkAKC5niIBIoILrvSsCgAeiAACUVqOAAAguAHACK0AASj0UgAAB5TWsgHshqFAKNxXPvZQzHW4yxbIsfjJzHHoUU6lwB8ZzBNZLibxo7DTr4lIkrYJWS4mQOzGolkJoCDEnRKmJrGsICCIEsCZBOglwTEJyE1ieT0om1tmJrCMsQQSXERibxjgO8d1kkkstxJxAFCNsMgEmZdYYktMRJNmErY8JBBbYQ6DGGaY0EQIyVFvEJSu8kxswRcNhN5BmSE+fFfEbYH0m2iMJrvDiZpx0nOTiA+k-tHvUsictmQJAZzvZAAAM6hQ6PEBgjOYgpmbZRJQHwRRogpKgEKViGsTwxI8wUvjgJUWI8APxSSTKS1Fvg5ToCd2aKYQPRFwE8GUDYvHFPNbNNFwiUqMWeyKbvYCiRUg1ha3OCJTMek-J3IBUsALxKpUDJwESBqics6uAveqU0yfiJ1xQqhW4rFKynxSepSUv2IdBCH2gYIMgNsDpxgSfjgQqbORPdC4QVTF+4AzqatNcjNTwoLzM9ix1fAFEtpjgHadIDbC4dpBjogIC9LeltgVB0gw2v+G0G6D4OGOSwNtN2kTTgGRg28JiAlDohbW7HUosPwxF5jHetSX6VDPwmDks48oo6dA1J4MRNIiXNRHf0JkkCDpSSZPPQIlKwdykliCEaSLBBn8Dy+k2memTnyIivur4bkWpA9HpAsZ70kkfPzzgNBXuwoQiEiDN6aDCSWHJUSlGCBCyPpD6QmfKhzQQzXpUM5jllzOZ8yaYOgu3gwP8Kay-phg6uoOhVG-D1ApoGrj-2kD6T5kYI5mUzNFmszi0sIpsZL0UBvV8ezAk8WII96HdiA6xBkZhJFl0lyRzMwmD6ICCRB2ZHxE7kbDxmECTidsCpHgB3hZyQwlicEfZEoHuzBg8c6kbjzui+yjx-smJEiOSjBASAoc10Rf1jkBARBO-I-t9Iig6iUowM1EfbPZkiJ1Bf7OGXgkRknFdeqMqfh6RMCgBM52cqmb+gDFCigx-csaCQK0E9yapI-YuXCKQ6AU65PxMOcSNUBM9oe6MvQZyMXbtjhR7zBeR2N96aIxAootREfLBqzZpRimXUanKPkKyT2KI5utbP4L3Aauz8owifIEFyjP5o3aFlbL6A2zAFkeevND2AVX9p5YALOTvA-la8+shooCvqNfnvM95YkV0daKqEVJrRs2duckAIUHy6iQ7EhfWJSBDtyFTcrYH6MZg3zeR14pwEVOthdx9WMGZAg0iwqzQipyFXjveDHEPAipq-PGtDOgbQFOpFmKRTOPia2Yn0Ui3WdsA7wyAdptQaDPDC5bIsCKlvSaZ8LDp7BZgy0pQEVKzE4sxIuE0AI2O8JOyTa94KPJYoymaAvQI0lDGNNWBSLnEF3Kha2ILY+QqFFY2xTGh8kUKigZkcRYblcUpipF0SlII4v-66cglQ4ksVyMDF3z-A547sYzFjjYssQ+wBRQ4hjA55FwSS83qsT7E4pnhGS4sb-AAkWQeJjgGCWBAAAyitFCXGJ0SRTak7k+ykVMBD2LT5YM4SIRKoG3gSJkk6FhROImBoRltE2wPRPJ6MTLFgIGfmxLnCcstlhhNpR0u6XgBhJPwUSZspWW4VDChk8ennVDDSTnhsk+SZco6EyMipqkg4dhFtEPL3h21MDiBHeVqTTFqncOssrGV2FrlBwoyfIBMnJQip4VQlAnUNDcLrFTkzmK5LQRDKLl4Ku8sGMLr2gKW-LCJTipyDLjsgBkqFRsNhUYldyqVcKDcvmDmDLh+CcpJpM8k0TKxUSkud9NjEJ1llnK9FSXMJqnlbhRgopYSopZ4SyV7vJ8RdxTAY17IO41DkoBlYgRxVtizPnoL9m9QTx8qoyCU3uCxAspEq2xVKt2H1M9V2yPjgIhlYir3hCYmYDePL4GinBH8YxoPzfG-wIMooIAZ6uBU10cQlgdlT1KanESgQykv+AQKdU1c7JuFOHs+P67WInlc3e8bGtx4AJWG6eBIMGv7HvDra7CH5SuOK6zplJHy94ZqqJoIxweSk7SSpLUn69Xmyk3QLGMzVDSfgsa6VRLKTlncvSijIYYGo6RBSk6N42RVNJNpljrEsS2QIbn8WTAo1xE51bpNWXxqLuL4+yMmrEj3jJJx3DNTYDbWWLpV+a2hIWsWHFrAVny3HqoCrVnrOWZakwX3jp5ntUVLavddms6m7CYOA8+uPoiXTig9InUpkLGvDW1r9W3CtNYnKtBqcwNEa5FmpyA1proCcG5ScBs4lXL643wXEOJ2UlQiR1CGzcQj2aBaTUN7iNpXxNgnwSkJJyyYKRqgnkbBJvSxtbWubUFVCNOa+gPqTuggQKgynPtYDCg2ctR1r8DDUGs6nDqw1s6-MRd1Y0jLrEhyrpT0r9hybjlpYp9Zy2Y3hVpNeyjjR6i43lAeNr9WgIjWoDjSzIiNGSFdDtUmD9WChMSKZsvieBiAZmoQDFx-mWbsgyLUzcZr8V8I7NzmhzU5ooCpx9i6qkpfnFdg-BfNFAfzeZreAa9Ckbmj4XSivVxVaWOxELbiwgKGavNPfEzMpSM3jS8t5ms1bcJnE2b74DgALU6EK3OaTWxwv1jlPOHQpWhLK5KOloogUJqtUWzrd7GpGdqvIcW5iAVTy1ebeEbsbrYCHG2xbXSVhD9fcmS3bUGWs0Nre9mG1Egctg6eICCA+iaNetuwyFe8OhXjD14mK2lS9HV7FYiWBwf4McGKW4t54ogLbYXlu37Ax2yS0ML2LDH1LflHpZENl0AS1LPt0q88q4XV4ogtEmCfrSkAS1jJ5tNaagOyzVXXaFAz297JtuODraJkVwO8AjADZ4CZOvScAQfSPon0go4RKAhbOVY3t92brDFGlGK32qbox5SlcZIejeRORZ20MFjtYZOQw+FYLQIAych91-m37PCW9pQKX9vKHo6cuIDrH0K5oxHRaHiJRlp9dioOuLSBD3YusadXSbCBoqtAfacQX2lcZ3KHB9KHZbOmbaKr+iw7Ndd7ZqGlqR0EqNVugW3Qe2LjqECxSEcrSpUsHWIAAnHhCd4OAtKQOqYcD1y3B7LB0qxOm4Gtgnw4eBAzMt8Dl4pBf2xsOwBkTCkyD-AmlSwYoBhYwtZoaAYvRWqHj0yfIuetSny2T228c9ketStHtcDSpDJdmQmHYHQgn4B4oMyvfjihVN6TCugG0Imx70JjtFalPRe0BYg7hMN9OqzRyMt3vC5tVa2dNIB0UT7rsS2x3Sjqoir7x9eafRRjsBhrtntLETZgjDMJYgmg9wIWs4oR4phrEjbWoAmyTY6spWRIZLagxwi66-YxsLiIwCv280hqi7e4DURqxw8e921NCOhDXYOLbF9gM-RZA2hBVcIEGuvT7qr0KtbF-LYqN2rriA8-2Ha0TuJz-VzwUwKe5IPxqymAbkNSG2tSLjxZdrvZf+gA6tCAP2RXsQo+dNnvMAQGQIUB5crGp2AkGFp-BtCDtFwMmB8DMsooLwdEPoQKWnOJpQwDkPIHjuPeoHfSqhXUrko7OvkpgdC0+jedQ9AXSqtF3MQZdBAAqoiG+ltb+WcjAHYbqB3Gpj0P7CnRvgoSQo6AMEaVO-oRhjq79D+iJU2y91rspxnjU-R-u2Jf6u1O5L0O4lsMph7DqqOpU4fjHaa58mZFwi5sPBw77omEkxkCMkBhMkQ3UUVk7tC1GH+dtIRI8QyyOExxdlh8KoiE4UKlN6YoSreWx+jKLScl6BRusIoSRbVwvR6RVFmGPyKfNhm8zbqzD3GzFuYxlTuPjK3dbOjqgGY1qsu3zHeNLBcLd7sq3TGRjUnH6OMbG0Vapjwxg-owSOMLGNtD244HpEJXnGZOn0vo1gGP2EqYWGYxQPWIAA6WAMDYyoCgch8AuIHxsamSpTVjIKUQvaBGYP8FKOrxh9pshP0fHqJXx+Ib8f+Pwy9IQJkE1OLjSEAzChMYLnxXxO6AAAXvxAuq-GKDAJ7E9QAdC4mLDxJik5CayjQmQIsJmmHWl+QHQPD9Abw0BA+O0m809J4Ew81Cq-MXsRRrPDsVIA7E6W-EGFr9DwBvGsDQprEyKYZPin+qkpsytKdAgNBZT8p3XeyZ2hAA')">function is_empty_conjunction(exps) {
    return is_null(exps);
}
function first_conjunct(exps) {
    return head(exps);
}
function rest_conjuncts(exps) {
    return tail(exps);
}
function is_empty_disjunction(exps) {
    return is_null(exps);
}
function first_disjunct(exps) {
    return head(exps);
}
function rest_disjuncts(exps) {
    return tail(exps);
}
function negated_query(exps) {
    return head(exps);
}
</pre></div></div></td></tr></table>
      <span class='comment'>
	We use 
	<kbd>argmnts</kbd>
	because 
	<kbd>args</kbd> is already
	taken, see section 4.1.2, and 
	<kbd>arguments</kbd> is reserved
	in JavaScript.
      </span>
    </p></div>

    <div class='permalink'>
<a name='p52' class='permalink'></a><p>
      The following three
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      define the syntax of rules:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rule? statement)
  (tagged-list? statement 'rule))

(define (conclusion rule) (cadr rule))

(define (rule-body rule)
  (if (null? (cddr rule))
      '(always-true)
      (caddr rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDPEicagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBOBSjodEoUWIJL0MqScrMCsJUlp11kjLJGtZ+sNxtN5C5uJ1-NdRpNiVCwsyapqGt+lK2ityyrBaiVqhVob2mv0WqOfLEfvdgfm0kWknkAA9NJYDeNzRH-lG7Amk4m45W07iMycbZI2qRpEplATIdCKdXAe27fSHXcUayNPRznoO-Iuz2lASub5-I0mtjLvbbv3nqAWfMIkpnDl54ve+NVylhj6xJ3u5faEGRWoUVWrTWETGG6rVHXG3fNN0zvOwHyXAk5gWT5i1LeRy1oPcP02YdvyRX81HrID01bXUQm7FwWiUQsSzLQ1EPfQdP1Qs4LjpBkJyhfcWQI5wiJIuCEOIL0eVA0BWPY0FlBJKYXxDOgkKolDqRYJRNHuYNRXFSUOReAC-2w718X5ATiMyFpBUky1rTQ2M-ywpjgJbPiQmtUJzgUD0jNSEzaO3Mdd0nA87LCZd5A9Hjb20sQ7NgsiK0o4yv3Ut9LJwmypGnFo5HGFRnKHak3Po8c9ynWhkoJFQOPC2hr3XDcaTondGS8lkkpS2git8xzEkC3D+XqwqZjg5LSD89LqOpcdJEsfBctAHgQOCnZ8oa9kZmnOh5AAR0WM1Ipcr9htG8b+CmzMZuIArUpmFQpnZKhZiWDb5S224RvacaAGZ4um4EltW3RSGuyypNc20qo8mqmNZD61u+tq+NkgBrT4wa+n7HjoZCTJyll4bITkXhRZGtIOgUVvBuGHP8xIJMi8xNtQmKkP2tsCHBMJ7L8pycZR6KfzZvH6bLchmZavRyaY5G-q-CykbpvCpH8zRyEFUJCYRvcRaimiHEISplcl-l8P1PnmtJ9bhfZtXJQ1zDAON178YyaRqFIaGBsGoEsuqxjHlZU97ehyG3q9h3JH0wybtu6mf3FzVrLekI5M0WQ+r7EPpJdgH3IY8aWVj+PlyvbWxFA4r4PI-Ik5MmmgO53UeyiQuuKFgdVepGmI6snlcDAUCGHwZg2CgOBEGQdA+B4Xl6fkPNCH6p1mVAXRZhNzKpEmRQ0unrwNjSAB+fi5BXmYJ9JdUig3oIAC5gSlQ+w2Pirt7t6hocITQxNFA+FNfMUJUvysXjn-QT8COfGOmg46UAThWNeBgAHmG3lnQy48Fj9QLmFIuECj5eF-sQeeTxoEVWGspA+Elq612LhJSB+hMHz3-gASDMEAqQ1BNAr3INQRgkhqjOEiDnRC5DcGgG3gg-M-VGHMNYew1gnCLrjC+NQSQWcwHcPyOQyh-8Kr0PEUdOaq90FQNvrPPMGjjqNWTLUFRfD1G6RIWg6+689Ew0+KBVQlihIclEkKV8ZCdEUL4RVNIlig4-1nlg1RG51EY2+pWPhAiDHhOuorTG-NDbkE8TYgwZi1HAn9o7XhejBGBztg7c06TQnAh8iTJyOSNzRKKmUlmiQilBPnuYvU5YcxmkqY0app1WkBnaTo4pjR1HgSfEorxUT9FFWGYohpf9mmKGYBCSBrIACqxBobEGoAAdzsEKPQSgiygAALSHImUIhQbV2pZhAdIQywgXjVxVqkSg+BQCqBCKWSgLAUpXUkI44QaYpKh2pHAkEEQvmXQcdNVQdzQAPO5OYQYs9pBLXEC8t5iUPCtF+VC-5yFzCLXIJsOgGtCWolOZPBQ0LpqB2oAZKlxBvG+KZaUYsCgjqFiweCWgTkfHMoqgXFxIlFASX+Tgvl4qggPLFRKmVyDOXMF6XcXF8Kgj-QesOKC+YlhlhJSE3x287IHw0Wyu4OrpC6KZefVo7ROgtAGAipFKLLTmHmaw+lKy1kbO2QQN6csmFHJOXAniCK258XwRKQhqhYJ0BUYC5OdhZLyWrqAVEAA+cl-Vq4qN-iWXGoa3p5M6idGZwTAVqvCIQd48CJ5T1ml1UFXQFGUuUY0tMPiukUsPpo+ti14l3BbbM3x59BGdvcN2k6cjzWKCkVdQJf8o74zybE5WsbnXPNeSEGWcsFafUxlrPFGUgTWo6AkO1GxEXyGRfIVFG6l560SazK2cbSgmRHUgxm+tyn1LZk8ed57HXXudYEAlDNGBMxRJqxYKbQC8rfZSjoYHP11KNhLX9wT7WlHXei9V2xINLAQ+BpieGAVAZfV+Ajn7Hh4Yw2kC9V7n1pFfTE+JETeXVkI8h5JWs0Pzxo0EYYgRhjajeuGyQJBsyntUJfR5h6E1ySkxyFN6aWQACpxM9K6CplkLxpPW3pnQPqxAxSVvPI+RRKSUx4qwyEZd5CD34toGEAUwtoOxIfWTSsfHZPAi3fLZdbM2NmG3hUaQgXQDn1jroZEhnjN8ymQSEVH73MoeSWmaVMqggGbyLF0zEFxgSTC8y+xO6iaqF5slrjbNW6CYAwx+NwJ4vWMs7yu+u5GvPncSGJsvLz4hb40J0euo8lZJLfPQFIGg7QayTSul5C+MgYKSoBgZKstGeoCZ9r9BVBBxVWYED6m3SnuWzvJmykDv+i6E4+2S3dv1bg0sIOOa2X0jnlyxVV2+rIvSxln7QRzvGi6DGmDv2QeBD-npobBjakC37f01tZavzFcNdBVQYX7tlZrFYnhXiVEQ-5HkiTFS4d-3G45wlB9oPo8J7maCWPRmpIoa2vjEmX77xR9TucnXsiBIPiovjJkD4LrHgYzbo2rNSALqL8htDKaBA7Ug6lm2ZEaN8nOKXOO0fBI2BFnprO8OqCV1zkx4YXiFYqujpXRqUFcR-mbjL4OWx4E7kwVg7B+5cCHmgJ6g2da2kYJWt4hkix4rVZkbIuR8jB+B3og56IyUVuvT44djAFmqCLJ7LIOQ8izxLAuBQLQXiWG+pQK6LRT4XKhkoWG2KDqqEFVYYVLxHvw+dajXcdVMXstAtpwr9ephA+b3+oKNsMU1CxX8kPX5XZAyVXlMfXfpq+3xgKpcQqwPQsn6hbaj18AvEmpXfkBcAn4E30Ne6O1d+gD2gf-O1LXsKqcifhHW-z875eC9IXuokeY7ftOE1p+gQ0ZkctVtNQA-8igb92xgDFhVAD4ACRxAZ05edvIf9oIl8eZUCtVjV6k4Dn8m5w5Gw4C8cxAvo7ZDRogOVZg3snISdW8xZGwh9Lk7AKNflhIlhaDIww50JGC+JSDqAlpA5bk2DV11hvNQRwRoVhCmceQQN3gYI4ht179uVEhoM+sfcxBitu4OR35xIXhCF4DQBxCIQjcgd9DICmAORWcRU2DfhRCgVox0ItCSQ85mC2C8NrCORbDZd7C7B6wnD5BiC7BWUotKDqDv1FIvtQA8wB99QYJS06Ct9dAoh3gdDsgRY49+IkiUjoi9VOlDCwQIRNC2DUjIicim9YjKDcjShz4chogUiTDDAAAeTIuot4WAm7NjARFPN1FkAAFSyFAFkmIEFFhUYCiCcDJgFCflAS6HPhZFAAAGpo8fswgIhohnlg4IiRYljQD5ili7dzBVjIgogNj2jkU21mVk9U8+iBj8B5BNlRjxiPQGBiVrlKBZiDxFjliMsjj1j8BNiPFDAdjWQviDizBfiTj-izjkZAj+IshH5n4jd9cjdV0NheCsEZAsh5IODGg+JVsSjTCbs6tvNyhzYCSqi+UBEMT755IwSXUyAyDjjQiH96lwcDjz4jcU0MQEwGi6Tt4Ewci6SOTDMMJySXh6wcjbtBNoEsM54uT48sRfNmTlDZRYNujjCIiPVMhWhQBL5g1Sg6MnVeUQN-DoMWD-Co10NeUTJ8T-CrDJDPDvtfs7TI1-DmxoEBMQ1vM55MTGFLTeN818YWckS34USoiVBUTAh0TZhfTsT4joE8SRSTC9CiTSNGMp91ZNZeSJUqSYyaTUdfs+DyCa4lD3s2SJUOSIj5TTJyS7dt4lo+YBSlsUzpAKTLUBQRSsItjGcJSbspSHUZS0U5SMi5DCwFD5ZSyPR7M0hXUNTXwtT1sjpdTFNjlYUekAp+yzBDTANjSycLCSQzSksLS-0mUbSRS7STCHTnCnSfsXToIPDnDNzQBPStzODqQfT8zGD24fUDou4e43dOBB5eAMB1D2wPlwUS9IVa9-lRZTZRx04YUWRwLvlOQXDDCwUULJBPk44klpkYLG4HCzI1BcUWwQNkKIUa82xjscoAE0YlRQDzAlRmVGU-F28kwGKzAkxmKbyTs7gkKCiOL8jwRuLaL29xxBLxwRLSg0ZSTKhQDZLpAKoWKgg0Zko6A44lBBRQC1KNKRiNxlLAg0ZZyOLZymUDLzA0ZZJ3g5FnA6BtMrK3gbKGBGhzKzA0YFjBLzA08XhBRDA01QADkli9LXLeLVAWRDlPKzBvLQBfKlMAqjkYqzAQq0YtMXg0horYr-KDkVNErQBkr29gBIrXl08Yq-L00DkwBgqeK0YABSIqjKsq+Kmq3K-KxkFkOPTyhquK2PDEXy6q9vAAQnRE6pKsyvKtACGrJT6tErasaPqtGsaoOWaLMGmukvb0aNREiq6qytAA2pWtar4tTXmp8sWtAHTX2v6ratTU2rSsCG2vGuuoupmr4oGqKvisCH8rMAGvMGDwAW5DIowoooLhMJTWgUTX-BjBeHIsgsooS3+r3Ohp+QLmoGcAACs89lswb5NhA4q0ZEasYay-CSBgIeKgh8bYb8tuQsAAbPlMKCU8hkloMco0Zj1bVQDWbT0QrQdDL29IBiAT05AtK0q+aBa5Yubua3L28HLJBYBIAOLpbZbxaJbLLlxHKABRQS6WtWpW7mtGAAOSUD1qKoNr1rbIlryoGBpogp+Xps5y2NBsaHBpeX8oTBPyhsBphtttS0toRo9ptrJwZvcIdtKCdripphP0Z3Jq9rzSYNhWuXlnJr+RIHuTGPHAMJBUiDEyOkUBuSZNRqUHmAMwiFlgLPFXJuwpyA9DwuJtJsaGrjTr6CCEDP0y2GfknPqQMOCPZXbrNDC0iyOjrz9qgrbCsNN1ByjoDrtsBNrrSH7u6ETupRRvRooCBzpPQtpooq9vcJ1sCFHKVJ7oMBbByEJVHKiDtmcCKgPtc1buVPeypqd2mj-Ndz7kAu4EwFArANoHCCUAoEkE+jCGkVkkYEdiPEoBPByAMNJJcDcBplAfAYCIuNKH5IIPMkIJ7DAdPAQaBIPEkD2OczWMhMMlgfQfgeAmgXPmIePEwfdOH3pmqFkgVhcXz0hAIZkx8NhVIFICcA1n6nuHuU4caoYCWNUB-tIGrJZHmO3gkfCwPBBKWNEZ3oqgkexnCGOLzVod1BICEiWhYeOJTqiCB2IS0Z7CWl+GoTfKBAhK+JZDCq+PoeIiWiYcu3BqMeIG0fkH0ZhOsf0BZHMOMbA0+CmBYBEbGMgczLUGrjNqkZCxZHIeBBykidADhD4WwxC1FMieKB8EJsbAyYmoxBZE3i5GgW3ghvQkSYyIKdif1U-r0GUF-v-sgiAcdkiaT1vTkTePAUQkSeSeZSJGlGQVIlQS6dCcQaqQPFsaWP8YEKCdKe6AeRCZ+ABX2OZXmLwaROUm-gGc4mLgWaWe+I3FWa+KmcCcUGCZpnmYyaWbYy5CqYyWObCvEv0ZeGOa+FOdGbPmBCMN2eKdAHuf4vBFAJygTEifFJyZGeebcZMZOcYBYDNrCVUeiG+byJZAAHI8Hk0di0W4mITTjIm-HIWAm-7FhGBDJPoSWwmzZNYSRoGIQEwyXVrza0Y8gWhdjWFdiNlPQXQDRFBOXvINZUL3m5dfmCWdG6XiW+rXhGx6XGcXmgm4XhX3HZnVBpXQW-wVWFWoWiXFBfLP9+R87C7SBi6+YjVSx7Yi4o0SwKX5FOn8hYIonQrM4OnFFQCtmSpbXLWZ6ghwb9X9RDXKBZY8NQUzWDRPGLXNAyHBkL5tC7Wfm0ZCnsYIjP4VJpQ7X5XYJdWxB6Wgw9kiwg3voDQw2rM0VgFQEbXC37MTTqVOSyVoF1mv5tDXWhn3Xw3+yAbg2lp6QHloNwas3dlzhc3TX83DGxiJJU2vN6tgaqyKmjDbmt4hLaWfxB2i5rg4U1IUG1Al3uXO2R2I3qifyR7q38nxKfnN2O25ER24nJ3XxxGfWi7-XjW0CT2Cj6UD3NSwtvWC7fWjXA3T3Q3U35Wvmr2Qx3b22V2d3+tatrMHBo3LX7M282r42BRE2NmYOW2IPL0jT0zUJ03z1m7dQ-V2DLW8CU4QRn2Y28iExyO93Zyw2PV1ktkgjBmuJXhBQmF0DdRwDBZC3iOwKyPLWfn6wqO0gri3VYI6OvVGPtmOov6yYK83pXQeXpEWFA5PgkQ2hug7WeOWOmFuOKmFPGBPRzC1O5FuWDPpEAlNOEj8D0JOOuMx2248ARERlsRMGobK1YUlyrhyBvzu5XdSA3g5IphQAnpXklp6Ynovcvd-5Y7XR7ZVBYZBRC8FxWEWg2HnZ2w0mi8UvkZ21hW2gT0uhWnCY0oEu130IEwsvGBUvd3qmKvkuqucvLi1y6A4vSvJW-xKvqvYTitzhMHVA8UFtrsZheucgmb28VMRv5AtNbsw14Sn54v5B5YeAXgEvJA9o6sQNiVnBJvoNYvSAFulvVW1BFthvSGnyoOs78vbV7hCBtuzviT2GOauhx2tzas0yggQNOvduDRWvFu1ujubu7vqGnySTmhs6CvuhOuzbqmnuWh2T2u1AoeXvnzcOozo56AeWDvJBlvQBVv+AWzFhpyamnMtuduyU9usecf6wTuXOIHzvi2wervJNSf7v3vAgGzsQ-wafJvPWKovmcpVucevm8eCeEHee+VqehvaesHkftyHu9s9yvvyefv9uReEfAfJv3SmULvYeMcNAquSMT4Zc0gOesJbueesBjffsvnhe-v8fwytVFGZUzege6fuQre5e2fShTfGxOvReQevSDTUfzA+IdLlx-PVBYW6sTI2AKn74ETZ2mU745vNAwtz5Y-8nIgloDPE-mVt4s+eWzcRPCjxOGPQAnPFEA1JXMH9TXzvMw-yB-PSK9yK-IIyfBiq9An4H+ufaZxQAvPoNW+lPu+WIU+eIyL3OyUh-nxJuwqC+c+qbK9q9JFkpEW4HXOHfCetOvn1+ch-fzCV+mTd+HtIhV+fgtOExD-og0Kr+a435b+DD6wH+D-T+mTM6LTj+Xg3StOKfP-9yAjzCXdboH-2QLf8rOQIL5sVlv7tEqGe-TfgES-42EM27YI8Nx3AEIE04OUMTgeEKawks+s4KgP1GwH+EIW2pdlEeEkABcjoOQRgHij4gaBNA8CIju9wu6oDU28vYnoSlv5TZX+FBd-sUWIFIDrSGZS7jakkwP8Di28EgGQPpAUCqBLQGgbR3-7Q8MkDAwyLf31wP8nycvC7l83YFe90u87dwIwKVapsXgag0Uv+1l5vdhB2HEsLL2D6GCLBdrZAfg1yAsB2mTCdlG0G7CChLsdAHHj4M0rXA6A63dARfDJIBD7WQQvwfSFCH9c4mXzHkpNHF5RVBG4QdwZ4JCIxD-BGQ4kJzzfApC16IOHIXEL2hoVIgUwLPD8lKH3BAhl6YIWUIpZpMohPzUoaEH4AJDI2SQzmEUPFT9c4qlQnOrkBqENDYhBuMYSEM6FO9fEAw-yqsUyFYRJoNDD+gsPyH4BuwUIbGsnQFAGENhy4NlPZEsDEgWGmQp2jsJhLmF9h5AQ4WsOCZ3DmhkQvIbCx+YhY4mQwxgNUM+C1DeUPJZ4TvTmHpprhtw54acPyEWRjhsLFYbHSAFYUJQi0W4DgRIYb8iI+4MARsAmy8CogPAzRHwKMwf9kRcAt0vzhEG68JB1TIATAIwZwDURiAzwq01BA3Dp0kgKyhHw0H38sRjOWkcoNcGMjzoLI8Pm0UZEvBuR6I7zKaQqb4A4wXQeYj8xZBSjVQMouJsVw3bLgRRy4QwD81NJmB3hUgVAYyM1F5FYRzyFXIiLNDCjQAoomwrqNI4SEDRSTeEO8mfaoj7WfI5kayLaL1gDRqQiqPWBdE+iNwbo2wAKMb5tEEw3o4oeKgTD+jIxfKN0vK3lHSiWWrg4ssfQ6ygio84Qr5iVUBG6lzYsJfzguGhhyIjM+nPsGWPGAvAs2ForNmKIcx98PRD0YlOamgxBijMHo5VuK1I77gKxtAMeubWZS1ihB3mRsWalJT5MFROQFlq8PNjYtjiaYozHcMj6CimxuqVwYQAEKn9iwdeDUVpxswIsYg4YjUbCS85HD3BB3HHglzCEYi9yx2LzheJW6Ldr8FjdsLrxFjBZzYMjOgK4K3G5tVu4oHcRaBvF98Eu0GI8YfRfHAhUBCXQwFI0KYyMEuR9KwKAF6IAAJNWpIAACC4AcAGrQABKvRSAAAHk9ayAMlGoVjp3FQxJnbPglkAnnQ6RzhLThuM+C-j6J06e1qeN-ErtTOdEtsfK1PEqBuktE-LOYUEmVAaJinRzAMPCFoSMJ2E3CQROImkSxJVgLCtnSLA8SRJ0k-iVp1PFLjfxkgf8WNH4lcttJxAQ5HcLk7L5T+kkszjpIOHTpGJARLTncN+SbDwagWVEU4CUxm5CxAcbLL2PyDeSWAUNRybYGclO8qJ-nOyXxPCnEBIpOEY+hYH5biISAQXMlAAAYBgsdBIJshGipTrWiiLCt0BDypSNA6UxQNBn9xngKpegKqUsR4AkjUINUz4HVKmDmFiseUqCLAKWB-9Wpng7OJBEoAtADCXzSpmFIkIDSipw0gvOr2P6txhM+MSwJfB6nUj4I6ksrPywG6K9CpTrWaaoXuIFSzwM06RCNJ75olfUlgT4JshUCOxLO0CNVGwKI4tYO+1ebqcfyUHTT9pZ00aT1k+Z8dw2r0r5hkJul3TTBsHAMeYFBmSBbp0gR2IJ1g4qC6EOeTQP1kgkwy4ZjsVqbCTaBeDUuYoZtimV6mRTAUfETGeDJcksCGePUqNIb215DlVoaUP-ggw4HeYE8yPGrBhx3ISoJsOIs-upNYLRtIpnMsjKbDJHIyk+BAJbPIGKHnwKZ8M7bFiM0Fa9fEwwahJ71sGLxbREIFyYVm3gKzHYlHAFH4FeDXTYZ4MwToKyHTSyr0Dg6UuzPNlYzC2rg40RKG0Dlg+uIAiMsoNJx99uBZKDQfwO0J-9iRGwLDN9RCBkjORRPEyCQA2Ihi2RysjkbiJ+D9iBxeYEWd8R0E0zUBeYEjKDjwAqZi50CTEanP5lv98RxRTOTyMelfhI5jPMQZdnJGUlhWCcjsZ-1jGBB2RKOB-lDKZRuk0+OeZ7FSPgYtkRZ-6bmTegmH4yGE+QGuaHJsK2Ei5JcxoCZETGKjkxk8+jO91fRFgR53s6QBPOlJLT6Y8c-4onKFFC97edYwwRKInFJjc+MCA8JOKVGRsVRdea+fa38I2j9Rk0fZs-Ldkgh+ChoPrpoGvmRTf5PYOvOtx+ZAKPZoCnIDAqho49v+oAFeSphtE29-5cIAGXaL2g-Nz58sDsV6L6Eg4vRe0fuYECIWXylW4CmYT9nDGUKu5uJJeXEw3lTjfGeHX0PHTkTHTtU-LKsV2LbFCLtWQspic6hAxdgI8-C6qboEsLH8pAkQLaRA3mx7kaFY46DGxhoUdjqx8UqhWkGnBdgNxECLPEZhxkGKggQ4zws1OpAaL4IJKcRq-OnF5E3h78mtAoC1YksVFnwAJNIuywWLCsqYqwOmMhGqB7FzYyOG3GSlyTJAeE5ZAABk1aZEvMZUByl8RopjlVqRJBEW+zwhLE9SW0CLDsTbAnEtSdxPpDZKSlDKOJuJJmBVK0KdS-hRJAMKxL4lSS8AKpL5gVLml1Sgwm5Lnql0mU+k0EYZOMl9LLFgQFkK1MsnPCuQqQkZWEoml8scgsyyEVyFhIgoqluS2+fVjcnXDPJfKVqXFTNwgpiIrUnxWFKZERTlBqQzJb0p2VLyUxFdT4PS07FiLHllhB4a5OeHuTlwhy0oBKPTS8oBlICbIZMO6CFYT0nbXiflneUktuxDE25YVlzFbL+WEkPRdcoSnKCuaF5f4a7I8WvLxW8KxLv-zPHEgdpffZaDjTJT3iCOJKxnCyHuxeKtKt2NVLr2pXE1cuhoOIGeDeX0tnJ5Kl4TbM5WjJ6pXHdVnishF4ClFGk7vvaPCH7iCGdC48WuCgnQLwJ0IvEiwksCxSzpRmNiUFKLZtNfx3fI1UTxAygSyUYyv7gBKNXI8pFNgFaXzCClCrg6GWRZeeLa6ZxYVtANZe4Nr5k1K0B3MyVJIslWTeeXzIKS8FzFcMU8gYV1Q8NuyayT5sdMIKwk+ADTM6bEnGX7KcxtjoMRi-MDsxxl8YLupqsBfFPpmlBLVi3aDDavlgAT+JDqvcnGudX8K3VqIMEp6pOHeqZlVkp8poGDV9r+W-q4kD3iZRfNWpMaxqm2sDADSk16HHebh1PlVwWglS1KWIiCkiNfVDKPcVIAuVGqAFQWWFOuv4U7rzJ8rYztuvtW8R5OZ6m9burxTprdVrq7NRpIvVhrbsIGbIDCvMnHZYlCk-CYRJImdKNggGnCcBuUkpKo1u6mdXFV-V6rHMbKr8CyAfhcKNGvoM9RctzXOoX1ma1Ke+qKU+Lv1LfaQBupyAAb0JcSxJckr4xtLaNMG59tOteSNVEN2SlDahDQ0+wfx0sccholRpQpo0jwzWMJquFJZpwgmkQGGzS71ZKOuaNCuVkk34hR2CmrTojM0DqNY6m6fjWpSk1tgZNImtQGJrvU2TEMHYCQPpruDCaL+P4EzZhpCjwQ4slmlTYZvU0MEFN5hBIFED8j0g3lNm8IfJs00FjaAqNagMouU0iAgcUq9wRSyVKRaDNCW1LFqLcJ3C4mkm8LfkCU2hbXNSW5GP3OZVvKWCSWsdFZvy2W9zaMWilThCHV8VmWuxQreK1AIZbIgi-N6Hpsy0G4XNUWwVd8sVV8bZY8sPTVCmG1Rb7Wbivdh8K+HzhfBl2QLI1u1bQokso2igF1roBlbGcVW2Fjgit5pC4qHW5ReVhW1cZjt5W3beKi20rDatYVNlqyAW0kttKlmzLW1vxjebM0I7Xrf8J+WQi-lWw2knGLYK+Tztm4NJvdsMhvb88LKhZuVoHGZZ5xISxcaCPjE0IxmwSlhIjrCWDzqEtCXrObB21pBLtuIa7WyGoC8smVhKllaAQh0ACP6xYBcJWkI7hstO6ObAafXPqX15UKpCCaur1afs72AbN+FKjJV9aAgNpX5Qcvkw+IgVPiOnVw0pT4CGaYDSlHSWBY7tnJli2Al-zKrFCaOswdOQOJZCrJ6O3qRkeGUYBV89ilvbHUEBZC3s-WAutAjVzyJo7Ql54weTbJCyetCdPIYnXbu-YHwGtFO+lqAT933tiMOUkDLJFzY6VfB0GAAJwDBQ+EgXSkKvuB0D2tye3wUKqwpTBIQOmInhdxaGag6sOc15HYAyKZSiegQGPZpVUAosUWrINAE3sDVczl1TKGvUQ05hRL29mezStnt3jGFflFkRnHYBOT74PSjgy0b3r8y-KB9fDDvtHun2bLpAt0wUH7hgL+gM1n26VVpy21E7g1mcFfZpXX0E1ydiCTxcHvuRH619Xwf3DTtjqnsodkQWrXoUUCZBDQYtPNYSmWjQZe2goHNnm3NaKtn97nHYn0A2Vlq0UV0RgO-sFp5MyU6MRUXoFXDvcO9YVY5CclPagB6W4gNxu5wDQRV+gx6qfepV8HhKRWRKxbctGbDPk3uL5aea6uU6uA5E66y7NQaJ7GcBpW63dSIwfW7qZspLVWWkCwzQHYDcseAweENC1FPQVe8wGgfCoYHA0u609epwIMYGvQtBqeUYHoMprSg8hxQ6uRwNjiGABh45C3rkPT7U9IK35QCoB2KY00YJF5m8sjEK69ASupYMtHV2vI9dBARqlQgDFg7lW2MeHejtT0hZgIya7hfnCSx5A6AmyNwCAaAnAY9yP+slH-oAOnsdxATN5HgcJRgGIDwEpzP4WOyBHPDAoEI67pOHhHON2stJsUftYk6O+oY44paOXBKBYm1CK1BQaf0zhFd-UMo67TYL5bvDWuuKlQl43nqDYU5fdVuGyieQv0egVkK1PY7ScGSJixCLhsgk0wcZim1KQEk2Og9KWFsVBh122nWyT1TLa-SfqKaRtm4vvM4zVuYBDsodKLMsaoFh0AAdLAIerBXsplO+AVhME090xUTqAKcVA3oPCiH+CqFAYI-reWvHeJ7xgcV8Z+P4zlcAJmFjuIkKEA9CjOUlV8xxOgAAAXmljMBfHJUvx+kP8cBOa6QTxJ4CD9ghOHg390JniDLhGAxH6A8RiEK8cpPomaTo1F4Ey12LOBdipAXYiyzTAotuQeAOE8St5NonqTmJwUw63aOewxTEpjZUya9BAA')">function is_rule(statement) {
    return is_tagged_list(statement, "rule");
}
function conclusion(rule) {
    return head(tail(rule));
}
function rule_body(rule) {
    return is_null(tail(tail(rule)))
        ? list("always_true")
        : head(tail(tail(rule)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	<div class='permalink'>
<a name='p53' class='permalink'></a><p>
	  
	  
	  <kbd>Query-driver-loop</kbd>
	  (section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query-syntax-process</kbd>
	  to transform pattern variables in the expression, which
	  have the form <kbd>?symbol</kbd>,
	  into the internal format <kbd>(? symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>(job ?x ?y)</kbd> is actually represented
	  internally by the system as
	  <kbd>(job (? x) (? y))</kbd>. This increases the
	  efficiency of query processing, since it means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>car</kbd> of the expression is the
	  symbol <kbd>?</kbd>, rather than having to extract
	  characters from the symbol. The syntax transformation is accomplished
	  by the following procedure:<a class='superscript' id='footnote-link-2' href='#footnote-2'style="color:green">[2]</a>
          
	  <div class='snippet' id='javascript_95_38_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (query-syntax-process exp)
  (map-over-symbols expand-question-mark exp))

(define (map-over-symbols proc exp)
  (cond ((pair? exp)
         (cons (map-over-symbols proc (car exp))
               (map-over-symbols proc (cdr exp))))
        ((symbol? exp) (proc exp))
        (else exp)))

(define (expand-question-mark symbol)
  (let ((chars (symbol->string symbol)))
    (if (string=? (substring chars 0 1) "?")
        (list '?
              (string->symbol
               (substring chars 1 (string-length chars))))
        symbol)))</pre></div></div>
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<div class='permalink'>
<a name='p54' class='permalink'></a><p>
	  
	  
	  The function <kbd>query_driver_loop</kbd>
	  (section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query_syntax_process</kbd>
	  to transform the syntax of the query to a tagged list
	  representation, where the tags represent the kinds
	  of queries described in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  Along the way, pattern variables in the expression, which
	  are identified using  <kbd>is_name</kbd>,
	  are converted into the internal format
	  <kbd>list("?", symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>job(x, y)</kbd> is actually represented
	  internally by the system as
	  <kbd>list("job", list("?", x), list("?", y)))</kbd>.
	  This means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>head</kbd> of the expression is the
	  string <kbd>"?"</kbd>.
	  The syntax transformation is accomplished
	  by the following function:
	  <div class='snippet' id='javascript_95_39_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDPEicagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBOBSjodEoUWIJL0MqScrMCsJUlp11kjLJGtZ+sNxtN5C5uJ1-NdRpNiVCwsyapqGt+lK2ityyrBaiVqhVob2mv0WqOfLEfvdgfm0kWknkAA9NJYDeNzRH-lG7Amk4m45W07iMycbZI2qRpEplATIdCKdXAe27fSHXcUayNPRznoO-Iuz2lASub5-I0mtjLvbbv3nqAWfMIkpnDl54ve+NVylhj6xJ3u5faEGRWoUVWrTWETGG6rVHXG3fNN0zvOwHyXAk5gWT5i1LeRy1oPcP02YdvyRX81HrID01bXUQm7FwWiUQsSzLQ1EPfQdP1Qs4LjpBkJyhfcWQI5wiJIuCEOIL0eVA0BWPY0FlBJKYXxDOgkKolDqRYJRNHuYNRXFSUOReAC-2w718X5ATiMyFpBUky1rTQ2M-ywpjgJbPiQmtUJzgUD0jNSEzaO3Mdd0nA87LCZd5A9Hjb20sQ7NgsiK0o4yv3Ut9LJwmypGnFo5HGFRnKHak3Po8c9ynWhkoJFQOPC2hr3XDcaTondGS8lkkpS2git8xzEkC3D+XqwqZjg5LSD89LqOpcdJEsfBctAHgQOCnZ8oa9kZmnOh5AAR0WM1Ipcr9htG8b+CmzMZuIArUpmFQpnZKhZiWDb5S224RvacaAGZ4um4EltW3RSGuyypNc20qo8mqmNZD61u+tq+NkgBrT4wa+n7HjoZCTJyll4bITkXhRZGtIOgUVvBuGHP8xIJMi8xNtQmKkP2tsCHBMJ7L8pycZR6KfzZvH6bLchmZavRyaY5G-q-CykbpvCpH8zRyEFUJCYRvcRaimiHEISplcl-l8P1PnmtJ9bhfZtXJQ1zDAON178YyaRqFIaGBsGoEsuqxjHlZU97ehyG3q9h3JH0wybtu6mf3FzVrLekI5M0WQ+r7EPpJdgH3IY8aWVj+PlyvbWxFA4r4PI-Ik5MmmgO53UeyiQuuKFgdVepGmI6snl2rEAArJR5joUgIllqD80+Ut7aL1RYOQ5P2yzygE4rCeNkCAB+fjd0zzQ49nnPSpeAuwqL+eS30J5F4q2T5K7nu+8oAe8wLEfvoNF5q4kie01PswAC5gSlJYF8aFeaMl4smxopGYylf7jyPvoD+oBv6wRbHgUCDB8DMDYFAOAiBkDoD4DwXk9N5B336k6ZkoBdCzBNplKQkxFBpRIV4WBZhAFyFoTMO+pJ1RFEYXAn+HJKzcMAVkaGhBNBiVFOwhSr4xQSkgfQgwLxyEwIqt-GOG9s59jkUojcK8s6GUIQsfqe9SIH0QpohRxAKEnwqo0Yayl2ESWrrXYuEkzFkIse-AAkF-YE1BNC0PINQRgkhqjOEiNvfImiBFkKIQoVQvj-GBOCawUJF1xhfGoJIGec9TGcK8OYih3CVGJVml1fhFUV76IWiUk65p8laMaEUmQxI2LEX3lxMp2jQAw0+KBVQukQRLhEooMR0gXG5Pkdw6xQR+lB0rHUwp71FaYw6QA6JTUlnfXuBs4mLMyZzLcQU5RwJ-aO0ieUtZMwTm1IOfU0ojSfIkycmczplSHrDn5obO4cj5lHJjuWHMZpnmrNedmAMgLxk-I3I08CT4InjNuWkCpeZzyPnCdcxRCzFDMAhN8g8ABVYg0NiDUAAO52CFHoJQRZQAAFoaUXMIH5Nq7c7C6NUMIZ+jAogq1SJQfAoBVAhFLJQFgKUrqSF6cINMUlQ7Ul0SCCIorLo9OmuykgnLuXcnMIMMhoz5DiH5YK4pNRWgStVVKyeZhFrkE2HQDWNrUQMsMdNQO1ADJquIMfSZUzSjFgUEdQsFjwS0Cct6n1G4C5CQ5FMCSUqrHhoTYEF+8bE2Jr3kG5gYK7gWq1UEf6bztiD0WKoMs9qEWrLsuwpJehEglvgmWsN39WjtE6C0AY2rdVLRlWYLFgSPWsgJUS0ldg+Jyz8bS+luieLarbnxWxEp7FQM0HQOp3aTLn1UNXUAqIAB8TrYnVzqQoksuNZ1vVeZ1GpuLFEyvzeEQg7w9ExI4UdOaRUepb1ia4xR5aghIoMV+6pjUqn0CWV8+FkKoX7pfcdYDmTpDnRzldfZiio741eRjTZONV2WgNQKkIMs5YK0+sstmlrZVAmbR0BIbaNg6vkHqvDRqmlMwNqzK23bSgmUqYy2JHRGCscebWtmTxUN0c7fq3DgRrUMwE-rJiRb9WOu9TxwxjN5O7KNhLUT7j22lD5fhqQlboLsvU-ZR4inpVSa41+fjgmLPsL02kejjHrNpG48izDSww23UE5p8g9cAvHzE40YYgRhjajevOyQJBQVdFUL-HlGUgQbt-tuvdLIABUsX-k0cyyA0AiXrb017nkMUD6UUQXGGMsMRQZUGeY15psnGrW0DCAKYW26CYke+h8j0NWUy5vc1+AjcQiNNbZj50AK8KjSCm9-WOuhkR9WIOVvmMLwmxrM2x4TVsU2psCKV1b1AKsbYJBJKbPrunEaJnWvzAsAta1buFiTLWp7AjOxWIFnScqfefEKV8TZvXf1m050AEX8G6leVc697iZUyaDl1k5rr3WaLBzJu2fVRldaO2tyrsKJJByG6AGTOW3Q0YYI66LZP-TxcxyoU9yW7CqdiUHY9-r6TkODVmvp9sGf7YO4LwINPjRdBXaAS7QuNw-rQwQ5FDz-Porh7h9dShYYFtsIp1QU2WdLFCsY9p373HFah8i0FTyIU3Ph21m17Cuu683blj0imnFfYgzcsHoKRla-N4GAHIZ9nsLqWDkyjmz3oeRX9uFtW9A4Y2CEAuUfKxeMpsvaDHq2z4-Cek6tvk5xJ7MTr9xGwFu5e9xIqPIz9mS+l8+1Qleq1tOLnMmvqaZdtyQdNFBaD2CYK4DgtAT1Ic61tIwB9bxDJFknvmzI2Rcj5CnxL6xK9qXokdfe-Vkz4GMGxaoIsnssg5DyGQksC4FAtBeJYb6lArotE-syqGauVUHVUFGoZAmXhs6tyru6jI6oeFNVAhAUuzfysEUHFy-zEyChtmNW0EAPNWnxG1Tmyl3HwDyhNQDSALzhHRdVAJjXZUQNQm2kejQImmwIIBdVmXwEIKGnuh2lIL2krn5HTVmG5ycmoNvV-z5noJeBell11Gu2MyHncBrVlEjCILXiEMWAK2nH9QMCYNOCMxrC13YRoJTi3BQMZCD28mUPYV9nxikM+FkNrVUM4LDnQnrFUJN35C+jtkNGiEDVYMzSchvR-1QnrCgJZVkyZlQT4VcPEKbh-E8L4lsOoCWkDkMl8JJBw3WCZ1AFBHBHZWEnkGDx5Bk3eBgjG3li52cMSC61B2HzEGuyiOujAXF3sTULsASIhH92yHKOglPWgPphKJGVjWSN+FiIo1rB-BKPIJaMXV6LWFTy6NeEbF6P4JsKLA50cLYOEzKJeDzAgP1BgmVwCKBByGiHeEkXEkMDX34l0CiC2MWN-TT2qNUGKOSO2LqIWIZ2PlAGcGWMcJOPMG-g2MOLeCuNGUMAAB59jNiPjjiw0Kkd8+0WQAAVLILpPIQUUAauJwMmAUERTeLob+FkUAAAaiXyFzCAiGiD5WDjKMMExIKzRMxNbzMBxMiCiHxNUGOOeMCG3133BMhPwHkBJVhK5XhMFkRLUUoBRIPAxKxMF0pLxPwAJNfBFmJNZEFPJI61xOpLFNpNuOsLEDtmoGEVEVqLYRMy1Lj0CBCIsRkCyHkn8MaD4iO0+PqK+LeziPKHNktPpJeUNLVPkllJ7TIDsKpJmNyLNB-Vb2-i1O3QxATC1ORllJXgTEBKlwDJWwwgdJeEsOVLB3C1gQa3ISDPXyxEI2yIzRDTqzcyCF7RqLAQHWIEyFaEKw5GnVKBcy7QLOkxtyYA5C6zsz5hKPHl029RMgtJaNDKSI5C9Sl3MH6IaP7JJGbFgTCxnTiPISNN8Q7IoQmKzDLy1K111NADzD1OHPPWdONIXPIzMHNNjNDJuOtPrJGLtM1lDMdL-QOTnNdKF1CPsJrhyLzN9ON0uwDLAQzNMgdJrxXiWj5kjP5w3JUBvLSBjLyDjOvITMbDpOTI7VTMNXTL2IyMLCyO9LfItBUxBOLNfFLPLKOkrJJAnVhKd1amJxewYzrO9RkxKJbLM3bJC2sW7NjN7LKLHPkEHKHKbJJEUzaIHMounOEudmZ13PnM8NwDAGQSYFYF704GwV4AwEKPbGFSVRv2fzbA9UoXUNHHTg5QPDUrFU5HIKMuVUkBFTjk+TRSlVFnMLMjUAtRbBkzMo0rNQOkp1XkZA-jRiVAK3MCVB9W4umTXiTH8rMCTCCoFzMDRmqPCviLBEYCip8rXnHHivHGStKDRkvOkAKxyoqmCsCDRmSjoDjiUEFAKxKrKphI3EKvMDRiLPCqLKmTqpirXlkneEyWcDoBAQ6reC6oYEaFaq8ruBZHRPivMD3xeEFF2L3WpUxJquGrRhpQmrMCmtABmvS1AGpXpUWuipGtUCy1WoFX3w2tmu2tAEyw2rMCWrXmAGOvWs2t3QurAD2pSr-wAFIHrTqnq5rQAPrrrQBbq-818JrHrzrV8MQZr9q0YABCdEMGn6iG0AeGx1aG960a74766a5G34swdGrKteb41EVa8Gra6lYm-G4G0andbGs68m0APdKmmGteHdEml4IIMm566lNm5mjGw62G46i6wIZ6swWG8wKfD+bkFyxVYy9yzPUM7dWBDdJUF4Vy8VZBaWxs9WzSyCagZwDuM-SnZWuSD1La2K2W5VArGmHNfaoIHW+W87bkLAGWkVOW61PIALLrHKNGKjVtArP2mjYani+qteSAYgajOQCqjm8OyOuWYOkOg6lkPqyQWASAcKlOtOhOkOtGFOgAUXivzuzp4rRgADklBS7jry7S7wLBctaZx4jLa3KPa5xFbUQTb5J+VnqExqC1am7xUW6gsBhXb1KB6bdPb+KlbGgN0u690ba0w+63bzLB7T0vD5UHbJV1UOSohxxKjYS1F5ZIgYsjpFBpBBQvTL59Rr5ZZtdE0HbLKcgPQbKSBi6ghq5d6+gghw8SsthRFXyec96-UltMKecptFsjpX9+7da0kTyhTBcHbB7WjX7zBwHugN6XV9bDaKBxc3SEHx65wKi7bSg0LsyQGPQcIcgbU0Kd79aip-6PQcdf6yHa1nbO8PLZL0EOAsFuBMAVKSdaBwglAKBJBPowg0lZJGBHYjxKATwcg967SXA3AaZpHZGuL35Vlm44KewZHTw1GiSDxJBSS5SqSaTlHtHVHgJYFv4zHjxdGJymjdRqhZIFYo1z9IR5SksRihHSAnANZ+p7hn5SBSBzqGBMTN0gmfyWQ0SV4omeESTBTvHkGNwonsZwgqTGivCSAhIlp3GqSNVxdHEsmewlpfgPE1jyU0nohBSWRDrBSnHiIlpXH4sN1CniBsmUjt7kZ9GuQWQFC7AimBNPgpgWBN0uV5H1ZNZq4TiYnZsWQrHgQcopnQA4RuFmNZs4ypnigfBfz6xNmUaMQWRgFpmBUEwlm9jDm5nl9+G9BlBhHRHIIJHHYpmt9DNMleTsl8glmVmfUiRpQjFOJm9NnHSYnanMSBnwjhn-wfwX5RmfhpUySfU0SjHVyIE+F-mSpPmxn9Gw0kXBTwWhnFARmaYYWgWiScX9BLmjl8XDq0qNUXh8WvhCX1G7lgQzjnnVlqWWQ4qXgcpTmxnYK-xNn6W2nimCXGAWATjGkRSYh2XSgYmAByIxrdYkxV+Z6VmkqZvp0ABlz6RgQyXVzatwqhM2TWEkRRiEBMA1pJqZNGPIFoEkwJEk4lT0F0A0RQF17yDWEy5lxFbVkVwZqF9CK1gVtQYNv19pxl8VyV8N0VwN7oMN+sMNnVxYPVlUuwMdP+I+Mw41s4-+OV38vNiCshXCpdUsodMlE-AF-kDN-Q+mYwwWJdcZgZRIwt28jwo+eZos0t-FQlYlCtpvDqARsmB-N6V0d1tJAJQOT4JENoboCebNoEDNxtyJsdxgT0LVmdzJN1tdtJWZedo16MdCetx7N+RBMAeJWFbEXRtWh9WEoiq4cgKSjhknN4OSKYUAJ6AVJaemJ6QfQfGBNeg0e2VQWGQUS-BcQJFoTx0Sn+e0q-SDsMq5wOroF5wmNKUDtSH8BMeDxgKDyxn1CMn8HDvDxtMiugYDjD0Yv8Yjrppcuwa7c4XR1QSeDHPnGYRjnIb2teTLDj+QfLYnOdIRERED+QeWHgF4UDyQPaN7GTO1ZwXjrrV0Cj0TyQcTqjtQendjixoSswBrEIZD5EQgeT7Tm0kYgzhCswWsyTWixs4jxToD0gET+WfgEN+4Iz3jicqZfNAzutDQXD2u28gz-09T3zyDnT8HOjDYGyUDNdpz1TiTlTlz0CoeA8659rOThTx1JTxzyTtT+sTTq9uR8LvT5oE+6jeLDLkz88ikqwbEP8Ar3johqZM4nKXLtWxKuLpLqwprxNfLtjwrvRiz8HV7artLm1OzrLhzzr1zyrux8L9IQ1fTsr1tUL-z8jFPNIQCurt8dz1Rk+DboXM4s4yTrr6Ca1hNLCXbub7kA7qz0zzb2r+sYj08xYebkSoIKcyzqLt6Kq5cUgD4iVt7ddSJtUjUylgj-iITzQebLpSJyIJaNd8H8NFeeH91yXRkvtFgMtvtuwC98JUi3j6sr7uI378gf75yxsvHyCTLqE9XXj5j4exsh9rrKnid1RmlqHniFy29x1Vn58enlkVHxH52x-dXFJZKaIJU2xnIF7rihdqojrlR695L17rV8Xr0pXnIVQdX6IPehMHXn4NXyICXmuCRA3ve+sc3o319Bwo+9szXjpwYg91lKbh33edorVoBiBt3lXx39o+XhKxI67A3qXnRmX33u48Y7+qWKCCEfd8pyqNOHKWCVkI5uj8QGcT2mR2JFP3ijpkgQi+kI8SQV9o6HIRgSePiDQTQPRLNgskr2Pxt1Lhshug3pHY3r0u3y43PqPrzpA4+tocr7oc31vFeAvk7ANYv0vlocv7t3o4L6vwyA3rXc38Lu7hv3N6Be797M4xfuNpvl4Pf9tzQZ7Gskbrsr8BBScyLuIvfiedPnE3IFgN5vxANNobsQUCrtT9-8q64OgaT53rByvKTRYEK8H-p-3pD-9mO8zM4iGUmg9dAgzHLao-2JAv9gG4AiruECf7bd7g8At0lLgwGQC9o5BSIFMCPzipCBuAl4IQNCAACE+OVXAccxoFQDo2sAzmHgITRIDnqpA0+rkAoEMZf+3QZgfwGY4ICfUXAvdCgOf5YRJo9jPhlIIlTdgoQptAytB3ez4AlB-qeyJYGJDuNsBM9LerR14hvQNBy4LQVIL0HEgm26zKQcc1mzzMeBjAcgZ8EoHeoQyWAqwQgIkEEBNBugbQU-0sHSDLYOgiVnIK8Je96QfKXPLcBMLmNleREfcE7w2AI4O+VTR1Mvy758IfevfC8qV0H4rcR+VzCIaHz26gAEh7vAci81BDkBzokgDqv9216pDTeJmc3tQOXAVDxy6faobUPqEfFqhbQxIf70AH0Vzm+AOMF0DRKgCDwYw1UBMM7arQ0o-QsocuEMBTD6KZgBwVICPCv4VhcDNPBEIsoShFoMQs0EsPKF59o2QqDrtUNhDwgrhiRBIcc26GKBVsvQuMjcLEHWJ6wjwz4RVGeGa43hCYD4fgITQJgfhII8NL0WjYsgZhOQe1g-ypKUN-sHgkZovkAFnFTq3g2bGmxfYLhoYmSVbKuz7BEjxgLwA1gMn3DkikhLfdrL0Ieh2oEMXWf4a8L+4fFyRSwkkbQBeAQjw0VIj3gnzpGlpGRow8YfaymH2CGkAoREVYGREhDzirI+kWWnT6EBwixvYsDsOwq2kpA0rffjcJxEPt-Bug0Dmp1A50CaRNqTyg+yc4mjROjBegXkJbQ0Z7ghgGbObB4R0B0+aoosJIEk7igNRLHRsqBy6xAiVhIefvtsNA4uiDwwCHhKBxbCUNQAYJAABJ51JAAAQXADgA86AAJTBKQAAA8qXWQCOoCiXhVkmT36qcj6AGo86B0Ll6ACVRnwL0TWJeHHMDRXo64FWIkjMjo2BolQKdG3bnYtWfYyoFuwR7nYkBgA5MamIzFZjcxBYoscONq4dj6QXYlsbYD3oGiLBXon0Spz9E9jXW448YDSikEjt8Y1GVcYOOqzrjiAdYvegoNMHKCHyPqBIU4HSyS5-ueIgkWOPHaIRXxWPBKjUJeF3jPh5Y-7j+J3ZtYbxd4ihlYAsBeskkJAd9o6gAAMAwLwgkBJQjQEJWSbPJQG6DT4EJGgJCYoC6xj4zwxEmtElUxI8AwxqEciUYQn5TAtW12TCbHzD5LAfeDEl-uojST4S96ZxC5u10SLcTcJkEfCa5wd6txIsBhXQByHYmqMpAkQEtF6wDEN1RJ7zPCS0HyJslsJZ4MSXxIIlg5R0lgT4CShUCOx4+jQfNNsPnbeoV4rE3SQ727YaTN4HzCyi0BvKNJN+J-eyYHwhBYCzJFk-fm-F+GBBApkgcydIEdjH98O1ieBCWDByfd3sEUqKY7AYk4i2gr-KDmKHyC59shQw77vjFSnBT6xSFV5rZKszeo0yCwtQD7zUbb84iG+IblRVcyXYEc7fG3jXEyHSg-eA5FqTZlNg+dnAAXVZGML1T4Dv4JU6KY0K6kr9PO1iYYB4ju6jd80ubVYYmhXjTTHYCYBqX4FeCmTIpwUjwj6x9TfxxpS0IbslOSkmRtpjbdPgcKiHaBywTHH3puQuHW5W+TQzqSbwsqrZ7ecQ8PjkN06GpxaS3fIU6NX5A8vwJAfEnUNZGzTfpZvJoXcR5FmB3p4xOBuv0W5bCewSpaQFZiHJ4BMsJM2BCkK6k-TO+-0y4hjP5HWSvwYMh0UP0RlUkAuY-YgHDLeFu80ZZgZfsjK6nncfU8-BNAlI5wlDletM-qeJmor6oGsWUpbFIEQjvSCpglNYMTNJn0zUIMI0Ub02lltTNZ1IYoW9JUB3ikp0ffkLDLFLwyKxr+NTpoCS7UiRiIwg5rCLmGrJtZswsUZKLQ5qBNAdsvaGsOSKbDG+fsjafm0ekShnphoJjn7LVoOz2iwc7YfbLDm+sI5IIMItHK172y1aanQYqAHVmZZg5R3SaMszuFSAjuAcjlhzKtlvD6wocsKWkDrl7QG5QQS2fLEBE-h65PMtIECObndyggUI+Zh7LhG6yZJ9MWyF60hD+Ym2elHKDtljyescgtbRxrQC7AqiKwGUgPjTAynkFuJsyTeYAIYH1gnuqk06WnltbSBzJgoUfNIWjaaNqOp8nEfKmIgMSVJ4fdkWYOAmgA+RA5T6e1i7Dz49JSmTYL-AUm6MlJ+QDKejkbJtzFRwovYY0FgVvCP5QE2wC3NKDTg15zeABWVgynoK0gP8zoQn1gVCiHULsnWeKPNidtn0IjFNoZD3lupDIOC1bHgsuzPkkRq2CwSQvrQIYwhCY6cZIGzF4oAAMnnWLGFZzY6EviGBP6oMTuxn8tBR9IbGqiT6RYG8W2OXGqLrgci9RfMxHEzAdF5BfRUAokh70BFQi0ReACXF8wVxJi9RQHwUGoNb6PqLcSiMFSqLdx8sfcQos9T4KggLIBiSeJRFchPhriuUUJMXnyAglIQrkE-IPp2LmRd4hxSiMUHLgN0PmBiVtUlzPygFb8jpokouGgSrA4EnRQUqhEIi4gZ4A1qoBQW1i8+howHoAIfFKD0lZpZIlkqmSOKN46AgQRAOcWQjjeEEicbUq-m9Ewp3g+VDopGWKKoRdtXsiiJxG65aFigfVnQrrENK1J7WZaMIC6xWil2YbFkEsoNZE93s4Mx0fFm2Uv1JkAFB+p8GqUGt1ltgl5pcrhSiFHsYbeZSEJxEhAvR7PG4QHxCA6iQxmoNcMCG2HAqwh5pAJJYCGV8TVszYqsZPAb6-KmOiK1LjJiDGOodxvosaIiqG4yYfGO+QMFWIaVT1BcYSgIZR0zhXjaA0Sp-icsCCaAH0TnQ8b+OIB0riQwBZrh1yrEvBvBhKywHOBJW2DicK0yLg435BhBAknwbiUfWbEHzkh2tHxV1kwX5hm8UC+PDjL+ltAiwfynxVVMaAYrROXWbFXuLGg9j8VjZAVYGG4lSCyVB2ClUaNE6shAlp48LkyruBUrXVwShAWcQYl8rzq1qucLaoWWirz+KZMeVXBaD0huJiSKsY7iPG0Am2r8xFQgqYSwlo1uSxFfM03bxq8Vxg-GLmppWfNi1k8KVTCpJVyrVFCatlcThkzZBLxia+gF1gEWzicxeYwsVYo2CtrMx7ahceIrZbFqA1W1BtbCrazE4TILIdUqPLXqZrX5Cqw7NCplUISq1OqvJXWsp7SAY1XrTyuYpEViKwce6yxUyI67+qBU51UdXIonVfgp1PsT0dLAwrTgO4qqWCGoPzTrNX1fRMzE+vxBLo31HMdCJ+q1a8xq0z6kQK-BPQW9GwQGgtePIfWyx5YJVMDVpU-UAqJmagGDRKvzhmYkNv61DYAN2mQbgN8EdbBIGQ0ntINAfY-hkz4gJAogfkekNUvw0J9CNy6HEU+uoDKSf14Gx5QsrQ3oUENoG1VNxuwbHNPlT-eZhxuUkgaRNj2WTcjBblHK6FpmOTEJpEAiFyNCmrAAdylziarBOED1YdTtYkklNKymQrQA7icbPUUin7mRqs314yN+IcXHpsaX2iBNRGXDS-k82ibKFlQBwVROcHzgP+8WHzKZr1YqamY3mu4FFoU31LbB+3NIN4KQ32aQNMWhzXQE01eodNCaFzXIMM1TrGAJmmhccuoF2bIgIvN6HRv6jJo4tfGppSksfGtKhZ7S3dNpo3AMCwthkKrefmWXhaX4gs8NOwplGcK3FUImBNlvMA3LogHChpZxXG1eIQc5sBLQPOSIbLcQ+W51kVoAx3K6FBWbrVxRs3oYiwC4B9JmxP4B8HcufahnbAeIzB6GRQdPpfV7j9w+YEiGrblqojdkGtLS02pMhGE7pJkxYE7bEnh6zgqA-UWUny01R1i-FtJXeLNXwFdtZg3IxOoEBZCDocegE0CklTpQCl0S2mjxDppZBPbr6r26CLEuBZSjptw22bcLKOSzYeuuW9bcyuJ3dwr6L2xTFtvzB+Ret0dUACTo52qF0JMmWSN6Kqof8usAATgGB8Rxd5VWbWoNl0SBqqDSiylMEhAvBPUb2BvjYJBUFlsZAqOwHsRQnN9zAcuwyPK3lasg0ANuhlR2hlnb9zd+-MIAtIqjm7VdLCGoikosh3E7A9KSaFdJv5m7ldH-D3ervFyi6OwIe8qk-MvnlUb5Swf0NKt41fKA+Lm5naNRUBXyE9XO3jDtrM3Pw4918r4GPgO18MH4RcXne4o9ULFFAmQQ0PHT-k2ploXWckRSnODeiK9BoHYQG0iAerqmfQWJWDgaxXRGA9eqOvs0dToxZhegVcAWSd0sg6U9KLvQwANYZ9+9E6Fav0DTVlDo9hkZNispqXNhhuDuowMlIawkrJ2rgTJNGouUGrSgm7WNUEjzWZqSVsyZaK7rKCGpR94+uWJPoPCGgNinoU3WYAX1L7cdVYjNbO031L6vQJ+1zNdPDWlAwD4B+lGvtIUMBUDdKO3aAb32zbvUCgprZCJa0A6hcB+8LSCNB1Z9+oy0GHQKmR0EBzqFCc7p1pqXYxpRASEbXKOxGn8vuka5gmZjyB0ASUbgPvQ+k2XN7W9dCoMJSk73MBH48i3vW01vbElB9n+uiskU8qsHaDVOnejTosE8G6JxrdZiUUQ75s2Q1AKEhWKpLLDzgczDxE2n9bhFqlVBvQNnyWA6Ge6mhu4nDsYNbVmD6fNvYKFkMKpR43eqycEC1UGTEIb8TjHRRdSBllMjQFFjIjRYuoB2MR6BAhRlphGloq4rlJ5Q3RBGQjK+-Jk3wQomQC4iRg5nFSmFsD0IK+zsQUbuI0xGj+RzVGfJeIUEDoIyEHrcCR6nF5DRcJo9ynmZVHvy5zAXTfDJ1DwBjk2-yRnkgi6kpsG6KY7fGgihGFDZRt+KwI67jH8KjdXIyMcZz27GMOuvwlv2syow14wCUBFIlRa9SsjesmisNlQhX8I1OAFfVXvlZEjVAqO0AAAB0sAKa7pQGknb4BAkIzBnRtRxrSoE0Vug8D-rCImUBgXx6pT8cHF-HUdQJkE9lJzwQnxWOwxIoQAWJ3EwOCxkk6AAABeC9MwECbfqgn6Q4JyE74fJM0m4TqaBE4eDr3ImeIKeEYIIfoAiGIQPxxk-iZZM-UeWa8JQCSWcAklSAJJe1mmHlbcg8AaJ5TaKbxPMnCTkppOjKc9jynFTsSrk16CAA')">function query_syntax_process(exp) {
    if (is_application(exp)) {
      const function_symbol = 
        symbol_of_name(function_expression(exp));
      const processed_args = map(query_syntax_process, args(exp));
      return function_symbol === "pair"
        ? pair(head(processed_args), head(tail(processed_args)))
        : function_symbol === "list"
        ? processed_args
        : function_symbol === "javascript_value"
        ? pair(function_symbol,
               map(javascript_value_process, args(exp)))
        : pair(function_symbol, processed_args);
    } else if (is_name(exp)) {
      return list("?", symbol_of_name(exp));
    } else {
      return exp;
    }
}
</pre></div></div>
	  Exceptions to this processing are
	  <kbd>javascript_value</kbd>
	  queries. Since the instantiated syntax of the argument of
	  such a query is passed to the
	  <kbd>evaluate</kbd>
	  function of section&nbsp;<REF NAME="sec:core-of-evaluator"><a class="superscript" id="4.4.4-sec-link-4.1.1" href="./4.1.1.html">4.1.1</a></REF>,
	  its applications and self-evaluating expressions remain intact,
	  and only its names are converted to pattern variables.
	  <div class='snippet' id='javascript_95_40_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDPEicagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBOBSjodEoUWIJL0MqScrMCsJUlp11kjLJGtZ+sNxtN5C5uJ1-NdRpNiVCwsyapqGt+lK2ityyrBaiVqhVob2mv0WqOfLEfvdgfm0kWknkAA9NJYDeNzRH-lG7Amk4m45W07iMycbZI2qRpEplATIdCKdXAe27fSHXcUayNPRznoO-Iuz2lASub5-I0mtjLvbbv3nqAWfMIkpnDl54ve+NVylhj6xJ3u5faEGRWoUVWrTWETGG6rVHXG3fNN0zvOwHyXAk5gWT5i1LeRy1oPcP02YdvyRX81HrID01bXUQm7FwWiUQsSzLQ1EPfQdP1Qs4LjpBkJyhfcWQI5wiJIuCEOIL0eVA0BWPY0FlBJKYXxDOgkKolDqRYJRNHuYNRXFSUOReAC-2w718X5ATiMyFpBUky1rTQ2M-ywpjgJbPiQmtUJzgUD0jNSEzaO3Mdd0nA87LCZd5A9Hjb20sQ7NgsiK0o4yv3Ut9LJwmypGnFo5HGFRnKHak3Po8c9ynWhkoJFQOPC2hr3XDcaTondGS8lkkpS2git8xzEkC3D+XqwqZjg5LSD89LqOpcdJEsfBctAHgQOCnZ8oa9kZmnOh5AAR0WM1Ipcr9htG8b+CmzMZuIArUpmFQpnZKhZiWDb5S224RvacaAGZ4um4EltW3RSGuyypNc20qo8mqmNZD61u+tq+NkgBrT4wa+n7HjoZCTJyll4bITkXhRZGtIOgUVvBuGHP8xIJMi8xNtQmKkP2tsCHBMJ7L8pycZR6KfzZvH6bLchmZavRyaY5G-q-CykbpvCpH8zRyEFUJCYRvcRaimiHEISplcl-l8P1PnmtJ9bhfZtXJQ1zDAON178YyaRqFIaGBsGoEsuqxjHlZU97ehyG3q9h3JH0wybtu6mf3FzVrLekI5M0WQ+r7EPpJdgH3IY8aWVj+PlyvbWxFA4r4PI-Ik5MmmgO53UeyiQuuKFgdVepGmI6snlcDAUCGHwZg2CgOBEGQdA+B4Xl6fkPNCH6p1mVAXRZhNzKpEmRQ0unrwNjSAB+fi5BXmYJ9JdUig3oIAC5gSlQ+w2Pirt7t6hocITQxNFA+FNfMUJUvysXjn-QT8COfGOmg46UAThWNeBgAHmG3lnQy48Fj9QLmFIuECj5eF-sQeeTxoEVWGspA+Elq612LhJSB+hMHz3-gASDMEAqQ1BNAr3INQRgkhqjOEiDnRC5DcGgG3gg-M-VGHMNYew1gnCLrjC+NQSQWcwHcPyOQyh-8Kr0PEUdOaq90FQNvrPPMGjjqNWTLUFRfD1G6RIWg6+689Ew0+KBVQlihIclEkKV8ZCdEUL4RVNIlig4-1nlg1RG51EY2+pWPhAiDHhOuorTG-NDbkE8TYgwZi1HAn9o7XhejBGBztg7c06TQnAh8iTJyOSNzRKKmUlmiQilBPnuYvU5YcxmkqY0app1WkBnaTo4pjR1HgSfEorxUT9FFWGYohpf9mmKGYBCSBrIACqxBobEGoAAdzsEKPQSgiygAALSHImUIhQbV2pZhAdIQywgXjVxVqkSg+BQCqBCKWSgLAUpXUkI44QaYpKh2pHAkEEQvmXQcdNVQdzQAPO5OYQYs9pBLXEC8t5iUPCtF+VC-5yFzCLXIJsOgGtCWolOZPBQ0LpqB2oAZKlxBvG+KZaUYsCgjqFiweCWgTkfHMoqgXFxIlFASX+Tgvl4qggPLFRKmVyDOXMF6XcXF8Kgj-QesOKC+YlhlhJSE3x287IHw0Wyu4OrpC6KZefVo7ROgtAGAipFKLLTmHmaw+lKy1kbO2QQN6csmFHJOXAniCK258XwRKQhqhYJ0BUYC5OdhZLyWrqAVEAA+cl-Vq4qN-iWXGoa3p5M6idGZwTAVqvCIQd48CJ5T1ml1UFXQFGUuUY0tMPiukUsPpo+ti14l3BbbM3x59BGdvcN2k6cjzWKCkVdQJf8o74zybE5WsbnXPNeSEGWcsFafUxlrPFGUgTWo6AkO1GxEXyGRfIVFG6l560SazK2cbSgmRHUgxm+tyn1LZk8ed57HXXudYEAlDNGBMxRJqxYKbQC8rfZSjoYHP11KNhLX9wT7WlHXei9V2xINLAQ+BpieGAVAZfV+Ajn7Hh4Yw2kC9V7n1pFfTE+JETeXVkI8h5JWs0Pzxo0EYYgRhjajeuGyQJBsyntUJfR5h6E1ySkxyFN6aWQACpxM9K6CplkLxpPW3pnQPqxAxSVvPI+RRKSUx4qwyEZd5CD34toGEAUwtoOxIfWTSsfHZPAi3fLZdbM2NmG3hUaQgXQDn1jroZEhnjN8ymQSEVH73MoeSWmaVMqggGbyLF0zEFxgSTC8y+xO6iaqF5slrjbNW6CYAwx+NwJ4vWMs7yu+u5GvPncSGJsvLz4hb40J0euo8lZJLfPQFIGg7QayTSul5C+MgYKSoBgZKstGeoCZ9r9BVBBxVWYED6m3SnuWzvJmykDv+i6E4+2S3dv1bg0sIOOa2X0jnlyxVV2+rIvSxln7QRzvGi6DGmDv2QeBD-npobBjakC37f01tZavzFcNdBVQYX7tlZrFYnhXiVEQ-5HkiTFS4d-3G45wlB9oPo8J7maCWPRmpIoa2vjEmX77xR9TucnXsiBIPiovjJkD4LrHgYzbo2rNSALqL8htDKaBA7Ug6lm2ZEaN8nOKXOO0fBI2BFnprO8OqCV1zkx4YXiFYqujpXRqUFcR-mbjL4OWx4E7kwVg7B+5cCHmgJ6g2da2kYJWt4hkix4rVZkbIuR8jB+B3og56IyUVuvT44djAFmqCLJ7LIOQ8izxLAuBQLQXiWG+pQK6LRT4XKhkoWG2KDqqEFVYYVLxHvw+dajXcdVMXstAtpwr9ephA+b3+oKNsMU1CxX8kPX5XZAyVXlMfXfpq+3xgKpcQqwPQsn6hbaj18AvEmpXfkBcAn4E30Ne6O1d+gD2gf-O1LXsKqcifhHW-z875eC9IXuokeY7ftOE1p+gQ0ZkctVtNQA-8igb92xgDFhVAD4ACRxAZ05edvIf9oIl8eZUCtVjV6k4Dn8m5w5Gw4C8cxAvo7ZDRogOVZg3snISdW8xZGwh9Lk7AKNflhIlhaDIww50JGC+JSDqAlpA5bk2DV11hvNQRwRoVhCmceQQN3gYI4ht179uVEhoM+sfcxBitu4OR35xIXhCF4DQBxCIQjcgd9DICmAORWcRU2DfhRCgVox0ItCSQ85mC2C8NrCORbDZd7C7B6wnD5BiC7BWUotKDqDv1FIvtQA8wB99QYJS06Ct9dAoh3gdDsgRY49+IkiUjoi9VOlDCwQIRNC2DUjIicim9YjKDcjShz4chogUiTDDAAAeTIuot4WAm7NjARFPN1FkAAFSyFAFkmIEFFhUYCiCcDJgFCflAS6HPhZFAAAGpo8fswgIhohnlg4IiRYljQD5ili7dzBVjIgogNj2jkU21mVk9U8+iBj8B5BNlRjxiPQGBiVrlKBZiDxFjliMsjj1j8BNiPFDAdjWQviDizBfiTj-izjkZAj+IshH5n4jd9cjdV0NheCsEZAsh5IODGg+JVsSjTCbs6tvNyhzYCSqi+UBEMT755IwSXUyAyDjjQiH96lwcDjz4jcU0MQEwGi6Tt4Ewci6SOTDMMJySXh6wcjbtBNoEsM54uT48sRfNmTlDZRYNujjCIiPVMhWhQBL5g1Sg6MnVeUQN-DoMWD-Co10NeUTJ8T-CrDJDPDvtfs7TI1-DmxoEBMQ1vM55MTGFLTeN818YWckS34USoiVBUTAh0TZhfTsT4joE8SRSTC9CiTSNGMp91ZNZeSJUqSYyaTUdfs+DyCa4lD3s2SJUOSIj5TTJyS7dt4lo+YBSlsUzpAKTLUBQRSsItjGcJSbspSHUZS0U5SMi5DCwFD5ZSyPR7M0hXUNTXwtT1sjpdTFNjlYUekAp+yzBDTANjSycLCSQzSksLS-0mUbSRS7STCHTnCnSfsXToIPDnDNzQBPStzODqQfT8zGD24fUDou4e43dOBB5eAMB1D2wPlwUS9IVa9-lRZTZRx04YUWRwLvlOQXDDCwUULJBPk44klpkYLG4HCzI1BcUWwQNkKIUa82xjscoAE0YlRQDzAlRmVGU-F28kwGKzAkxmKbyTs7gkKCiOL8jwRuLaL29xxBLxwRLSg0ZSTKhQDZLpAKoWKgg0Zko6A44lBBRQC1KNKRiNxlLAg0ZZyOLZymUDLzA0ZZJ3g5FnA6BtMrK3gbKGBGhzKzA0YFjBLzA08XhBRDA01QADkli9LXLeLVAWRDlPKzBvLQBfKlMAqjkYqzAQq0YtMXg0horYr-KDkVNErQBkr29gBIrXl08Yq-L00DkwBgqeK0YABSIqjKsq+Kmq3K-KxkFkOPTyhquK2PDEXy6q9vAAQnRE6pKsyvKtACGrJT6tErasaPqtGsaoOWaLMGmukvb0aNREiq6qytAA2pWtar4tTXmp8sWtAHTX2v6ratTU2rSsCG2vGuuoupmr4oGqKvisCH8rMAGvMGDwAW5DIowoooLhMJTWgUTX-BjBeHIsgsooS3+r3Ohp+QLmoGcAACs89lswb5NhA4q0ZEasYay-CSBgIeKgh8bYb8tuQsAAbPlMKCU8hkloMco0Zj1bVQDWbT0QrQdDL29IBiAT05AtK0q+aBa5Yubua3L28HLJBYBIAOLpbZbxaJbLLlxHKABRQS6WtWpW7mtGAAOSUD1qKoNr1rbIlryoGBpogp+Xps5y2NBsaHBpeX8oTBPyhsBphtttS0toRo9ptrJwZvcIdtKCdripphP0Z3Jq9rzSYNhWuXlnJr+RIHuTGPHAMJBUiDEyOkUBuSZNRqUHmAMwiFlgLPFXJuwpyA9DwuJtJsaGrjTr6CCEDP0y2GfknPqQMOCPZXbrNDC0iyOjrz9qgrbCsNN1ByjoDrtsBNrrSH7u6ETupRRvRooCBzpPQtpooq9vcJ1sCFHKVJ7oMBbByEJVHKiDtmcCKgPtc1buVPeypqd2mj-Ndz7kAu4EwFArANoHCCUAoEkE+jCGkVkkYEdiPEoBPByAMNJJcDcBplAfAYCIuNKH5IIPMkIJ7DAdPAQaBIPEkD2OczWMhMMlgfQfgeAmgXPmIePEwfdOH3pmqFkgVhcXz0hAIZkx8NhVIFICcA1n6nuHuU4caoYCWNUB-tIGrJZHmO3gkfCwPBBKWNEZ3oqgkexnCGOLzVod1BICEiWhYeOJTqiCB2IS0Z7CWl+GoTfKBAhK+JZDCq+PoeIiWiYcu3BqMeIG0fkH0ZhOsf0BZHMOMbA0+CmBYBEbGMgczLUGrjNqkZCxZHIeBBykidADhD4WwxC1FMieKB8EJsbAyYmoxBZE3i5GgW3ghvQkSYyIKdif1U-r0GUF-v-sgiAcdkiaT1vTkTePAUQkSeSeZSJGlGQVIlQS6dCcQaqQPFsaWP8YEKCdKe6AeRCZ+ABX2OZXmLwaROUm-gGc4mLgWaWe+I3FWa+KmcCcUGCZpnmYyaWbYy5CqYyWObCvEv0ZeGOa+FOdGbPmBCMN2eKdAHuf4vBFAJygTEifFJyZGeebcZMZOcYBYDNrCVUeiG+byJZAAHI8Hk0di0W4mITTjIm-HIWAm-7FhGBDJPoSWwmzZNYSRoGIQEwyXVrza0Y8gWhdjWFdiNlPQXQDRFBOXvINZUL3m5dfmCWdG6XiW+rXhGx6XGcXmgm4XhX3HZnVBpXQW-wVWFWoWiXFBfLP9+R6Wgw9kixQV7Yi4o0SwrM0VgFQFOn8hYISMT4TTqVOSyVoF1mv5tCtmSpbXzX+yAaTXuX6QHloNwb9XdlzgjXSx-XDGxiJI7X+yTJgaqyKmjDbmt4hLaWfxI3voA25EY3GcaYs2i5rg4VBXzBz5E3XxxHxKfnC2c2Hk4mK2QxxH87C7SBi6+YD5U2ght4vnG3sgZ6ghwaW39Q23KBZY8NjXs3o2DGzXNAyHBl036UR6wza2lpA283+tatrMHBtC43n0282rCnsYIjP4VJpQ43N3L0jT0zUJYJ+tm7dQ-V2DzW8CU4QQCjZ2omay7W4nZzZ2PV1ktkgjBmuJXhBQmF0DdRwDBZP3X2wKP2f28j6xEPqjZ51T-2DxVlAPvVrdi4amTU7LYTXQeXpEWFA5PgkQ2hug7W4OwOmFYOKniPGBPRzDKO5FuXmPpEAkaOEj8D0JoOuML2248ARERlsRMGobK1YUlyrhyBvzu5XdSA3g5IphQAnpXklp6Ynovcvd-5Y7XR7ZVBYZBRC8FxWEWg2HnZ2w0mi9zPkZ21hW2gT0uhWnCY0pjO1IfwExbPGALP52mVkH0IfO-O2Mdc6BDOPPJW-xguYTdWNCq9An4HVA8UFtrsZhzhMGmb28VMMucgtNbsw14Sn4jP5B5YeAXhjPJA9o6sQNiVnBcvr0yUDPSASuyvVW1BFt0vSGnzt2s6nPbV7hCB6vuviT2GOaugvMHUr2dymUQNgvoNmvWuqv2vBvhvqGnySTmhs7nPuhguzbqnxuWh2Sou1A9vJvXzpSozo56AeWlvyvQBKv+AWzFhpyamnM6uGuFuDQIvSvJB7v6xOvxOIGevLWtv+vJMPuRu0zMsrBsQ-xAeGuB2KovmcpKv7uvnHvnuEGke+UAe0ugesHzvnzatofgM9z5umvvuWvMeTvVuGv3SmVevDuMcNBfP7W0gZc0gGy4e3whvEesBOffsvmMffunvwytVFGZUsI+fuvuRBftzRuufYf6xguseNuvSDTz00S3odLlwlPVBYW6sTI2AKn74ESu3qmzen4wtz4Tf8nIglpmOLeAvxAbvmOzcri3UWAAOvU7BRPFEA1JXMH9SLv2HdfyAlPSK9z-fIJPuyVisGvkufaZxQBZPoMY-SOkuWIivNAeIyKpOyUM-nxE+WQHeeWeJY7itJFkpEW4GJPxeXvaOvm6+cg1fzDq+mSW+HtIga+fhaOEwO-og0LB+a434R+DD6xx-2+e+mTM6LSu+Xg3TaPFuF-9yAjzCu7uhV-kCl-eOgQvmq+Z-a+SH6+4DF+bC4v2wjxYO9+EC04cpYJWRCnYSHfZwqB+pH+1+IXtT2UjxJBlOjoOQRgHij4gaBNA8CF9tD167X892pPBzCnxH5TYj+NcOfsUU-5ukiem3Prjakkzj8Di28EgD-3pB-8ABLQIARhzdLHcwBhkEfvrnH5PkFevXL5rAOtJfgvm1ApVnGxeAcDkOPrBgST1YG3sSwRPF8s+QsYzRwBn7S-vg1yAsB2mTCdlG0G7CChLsdAe7koM0rXA6A1XW-hfDJJqCv2GglQfSG0HJc4mXzHkpNBx5RVBG4QWQfIJCJGDVBdg4kDz3uBWC16IOJwSYL2hoVIgUwLPD8m8HuCXg3g0IDoPEF6Csyk0H5mENMHysLBnMDweKmS5xV-BOdXIEEMvSaDugcQ-gMl2sG+JUh-lVYvYKwiTQaGH9Uoa4PwDdgoQ2NZOgKAMK1DlwbKeyJYGJAsN7BTtRobF14hvQWh5ANodUOCYjCKWaTMYT8xCxxN0hjAQIZ8GCG8oeSLg2Fkj2KHppBhwwlYV0NcEWQOhsLSobHU35YUJQi0W4DgRP6t9QAREfcLvw2ATZkBSAzRBQVQHaFV+GAyISEGZ54Dqmm-dolQyuE3Dz+nhVpqCCGHTpJAVlfXrQLH7IDGcQItfrCTBHnRIRevNomCNCHLhgRzhWjqaQqb4A4wXQeYj8xZAEjVQRI39qtDSgYjrhy4QwD81NJmAZhUga-mCPpF5FjhzyFXOcLNA0iERlAhdu8g-Zsikm8IIURIRuFftkREIqEW0XrBsjChG4esJKMVGNBpRtgVERHzaIJgFRng8VAmBVF6i+UbpeVqSMJEstpBxZY+h1m2FR5dBXzEqusN1LmxYSSnBcNDDkRGYmOfYb0eMBeD6saR+rO4WTxT6yiHoxKc1NBnVFGZZRyrcVu+33C+jaAY9c2syiDEX9IhYYs1KSnyZkicgLLKYebGxbHFrRRmEYQbzRHhjdU0gwgAIR77Fg68dI2jjZgRYxAdRdI2ErJ3aGyDWu93YzhEJDHvdoMsnXsRV1K7X5PhYPHAaoMMDBZzYMjOgNIPrFGtKu4oRsRaHuF7ljO0GdsYfUnFQQIQxnWcQeEKYyNjOR9KwKAF6IAAJNWpIAACC4AcAGrQABKvRSAAAHk9ayAMlGoVjp3EtR7HR3glnXHnRsRARWjrWM+DLjQJ06L9l2OXHFsOOIE6MfKy7EqBukwE-LOYXQmVAgJJHRzKkN0E3i7xj458W+M-HficJsPRCYG2Qn5ZYJtgAwl2PLHLjJAq4saKhK5ZYTaAhyEYRXgGE998JnHQidGPAkGERhvyOoeDUCw3CnASmM3G6IDjZYkx+QOSd73yLgjbA4k6wQBKU7CSUJrQ6dOJJwjH0LA-LcRCQFU5koAADAMFjoJBNkI0CyfIhtZYVugIeCyRoCsmKBoM-uM8N5L0C+SliPAfnF+H8mfBApUwcwsVkckHiMGOQf4QlI8bmSzwrkxRO5IMJfNKmUND9hFPkHZxIIlAAvLTy76txhM+MSwJfHinwMpAkQMrPyxS7k8XJHTDKcVNUL3FnJaU1qUVI8l8Y+Idgz4JshUCOweO0CNVDAJfYtZBiCXSUJ1K74Yd8p6U3qftzLafMEO5raaV80GmSBhp0gR2AmC4EHEdpe0x2LwLnals0gw6YQVr28wnSRpDUiBtILaAKCLOYob1poBTIAiUpwY8wANMsBDSHpEEqAaDwPFRp2eviWUlSLUCr8EGivVVGLH9zyBMBU3ejHALSATYnhvfLCkZmPLiSUZN7ReNgJ27bZVpzKbeASKvSeDz490-adtmQF0CGeviYYNQgV7oz6s4oiEBBMKzbxaZB0n8HDL8CvAAZu0h6ch0uklJKZS0EQbdPYZ8ypBD7fHEWGewnCQQ-BQ0JgySnwMWy4k0nAgMeFkpaBrw6UO8IzHpA0U31L4dtwG70CjeX4EgBsU1HQiGZsI54T8BTGpi8w+M74owNBnX88wJGUHHgBUwhzoEDwt2VjNn64ziiXsxEUTxMiWypxJMn4ZSWFaOzYxC-I0YEBhEo5x+qoplAKL5TXTnsWs0-hGTjn-ppuN6A3PIFekMJ8gsc02Z4VsLBzQ5jQEyGaPJEWjK5aM8aV+D+Hb9y5Hw6UhVPpgOz-iTs9EejzF6-SrOa-cRnmIpHItF5BYhdm5zUCaBp5X7fwsyLBmbz2RSDHPCrK5HaBywmszeVDRnk2Fd5rI6rj805EShT5GsxKZoDF4XzERZgVuSpl3nC9Jooo9aRIVflftx58sWMfKOSEg55Re0fOYEBAWTylW+8mBfqMzbQKs5uJGwqaJXm+NFZpwKQBFMhCcYKW8FHKAbA9CsgIpkHDqLQC7C1iKwEUgwjTHoVoV8pASehc2PCaikVejUiWa1jaoqBhpgoP3IsCKYLtm4jYJhUR3jpyIup2qflv6PjFiTQA6YzwnrKcxdgI8MivyboEsJd86p+QehfNj3JwLsx0GNjHAtjEBijJ2ko0dOBoU7N1F2WehUgqCDKLnCYU1CMYvggkoF55o53kFmdGVBf2NaBQFqxJaPTPgASBxUZicWFYrRVgG0fsNUCeKIxkcNuGZJImSAXxyyAADJq0fxAS6QPZL4h6THKEUiSIotnn1YoJOMtoEWEYkMofmCE7OkWGuBlL6laE2HhhJkUSQ0KuEmYG0oMIZKsluS8ANRL5i0Tul7S2jpJLnql0mULE7YWxI4ntLnFgQFkBFL4krCuQ1ghZYkpyl8scgmy-YVyEkVxx5YbSipTYWmUrCpJy4GSXygilxUzcIKYiPgoim5StJxAHSYFhKWTLLlzcy0RXU+D0s4x2rBMWBLX7djiQEkm5YMPuWlA8R6aXlDMpASODshxguZcyhPR0SeJW2SxZ8u+USonRIKNpfiohUmjSaF5FYbCXuyhLSW4rcCVCsN7OoQMy0HGmShHFPtQV5LVkLSvpYh8OZScgbmyuJoOdDQcQM8CCvpaMrJhQ6JRcIDHQEduVErKlfsJf56LalSXEUboJbEEMEFHYtcMCGv67jDheJFhJYAMnSJM6ME1SRazabLikutq17iBm3Fkollv3NcbaqJ4gYuGKeQMKpKZXB0MsuynsZF0zj0TeJ-Ep8poErStduJBE4gEctkE94mUXzVSS8CdG+qqpfMANWMNuxsyteGjfkGEFYSfB8p1q5peEqakp9ox0GWxfmB2YGKNgvXB1efKsUMpnVW40rtBndXyw1xqE71XuSzWBh8pIwoNTKhDWdCw1GyqNUTxjV3Bp1-LJNcSBTW+Ivm7y15I1WHVzhR11K-NQIJHkf02O+UsRKpJEYRqGU7CmReetxUHy02x6-ljeoTXys2OZ6r1f0KDItAcVCap9SJMvXOoS1FqgNRWtqW-qCQt2EDNkG-V-rjsGSsia+PfFfjRlGwODU+IQ2UT8laai9RmsapQbLVjmW7B3IfjYKi1WYL9derYUAbzVZaiySBobFNrBxhKPDWUugxDKcleSvjGxpGVRi8pcizdXFWY38s803mFkMRqXHSxxyGiVGlCmjTjCySsm8wiwWnDSaRAs7SzvVkOm5pmF8EPmMpvxCxstNtHc6eo1jqbpJNalFTW2DU1ybNYCmj9fTBYIWb8Q1m-vgLK03mFysTmkQAZs0DqaTIxmtCgkCiB+R6QIK2Ta5u4LuacFh0VGtQHql6bvNMq6lVeqVIJarNaW1LAyLcIjC4mymuLfop01Sb9NY6Szalnzl8rxW0KJLBlpK36bvEgvEHKqtkGHD51YVZlrsQq3atQCeWyIFTT4gWb8tBuCQKVqBxNboVKW8zcNqhReaV6X7aYYKKClzDMhCw9FZdkCydawljmqbappm1lbIVYwnBA1v43+UBt9UzzdtpXpDa6AI2+rc6Wy17rcQrW0TYwA63BLgV4rbSsNvy19a3oQWzNDGyS1qrrl+w25fUNpLGi2CCko7ZuDSYbbDIf2-PHSoWbIxVlG4OJSwjLHbCTRNCMZujoSU9jKB1CWhL1nNiHa0gY22Fo9tjVshqAvLFkHDtAII71+H9YsAuErTPs52tHdHJ-1Prn1L68qFUnuNHm6hh2RdMdh23ZwA79tyWuUDaVhXST5MPiRFT4lZ1cNKUr-BmmA0pR0lgWebcCc4tgKL8yqngv9rMA9mpiWQWHX3ppPDKMBA+exAXkTqCAshRdo7cdp238646Sx8SzHYksLklIQsA7CnemCe2u722eGV7YghCX8qXgYe8XcRnskgZZIRrHSsoOgwABOAYP1okC6UmV9wEATrxz3KCmVWFKYJCB0yvdeuEwzUHVl9mvI7AGRGya90CCp7NKqgFFii1ZBoBu9AqmrFXPZmt6iGnMVJUykH0l7d4xhG5RZEZx2ATk++D0rLLMBj7JJE+vhjNJT1F7NKRHaQAIqEVLB-QpawHc1txH3b9hVOvivws0p77I9Zyd7V1vuQ76r9XwJGVTRAyRB51xrBQtBhZD0tXe868vEUrej6sWgEQK6GwnzLVqnM7+gvuhS0B3BoDfMSNgoVuxV6ySCBiGWkEH1hVjkJyODKwleCnMuE+eANBFX3X96w5e5ZaNBlDaChDWk7U1oqwQPWM+gJyonlgfCo4HrhoB3yTST-1SccDxyXveYCwMvMpVTMtIFhgDVkdXAciL9ZdmWgYGNwD6s8KeovUiNyNAagJAofV5L7N9hkFkPeIvWwo5DLQV4NQFpHnBQAF9JaGgCENbkD1vidgwIdXK-7sxDAZw4IdZB2Gggy+7YYFkknwqIdimNNHblEOVbHd6QGcJrv6jLR9dryM3aAEkCNUqEiouHcq2xje6MdeekLMBAYHQJgD3B8A1iST6FqP6q7JHQgb0KKBMghoMWqosJRUGyUNBug6u0bEBM3kbjKTjsRYPiHq5YBmo4LTyZkp0Y5IvQKuGh5OHVyq7JReKz4OEoSDXofZsIb0NJKRWd+sJdocbpszRBkhi9crhkOUd5DihwIMoc+CqHcV6h6DZBC0O9HzZ8R6o-wUGOTUDwhoWop6Gb3LH1Kyg7AwIbXK4rjDVHEgzgcWPbGe517UoJMd+OuGvF5qdwx4e8O+HElyKm5YEaxWQ6Qjv2MI9q0xW-YNdegLXUsFiNf94jRuuKikcKxpGiTeO33T2JyPVYQ0hwcoyCpRbejLjZEJxO3gABCcgZKF+pyC7FOTugbZaFRZDgB8wJIRgFQUqAE0WQL44qVcFAAvjqASIUAjwCb1phO9Lx0Y+8YGBMnKtLJ5CaoFi3OAOTbVbk+QF5NkCZTgp7iIzjRi7B2dL21kJskoAAAvHsCy2AiamRjbxniHqexMGngJ9wFQD2EMhoxzTlp-k6yBtPCmAAbDZITPqnvTrx1qFTX9NhLAzt3SjuybRjXif6sMJ0weHvE3IDQSgXYrAGFNoxoAxIZwBEBaBXBdiAAWVdCgB7xV0UAgAHYAAHF6dBjam-TzAKdkjszPMcjTKNU03xTzMOxFAuxYs4IroBlnWQFZu0+3gdNTBdikbKIMJAlMnL9AyZ-s9yHTOGQRzE4EM2EtzP5mZzrIOc6WfLPCmUAiZpM32d9OHnBzRcYc6ydeKKAqC4XCEBeenOFmDDJZhc3eZXNmmeTxUq0wKaFO9mtTL5+yUefb2snszprNGAADE88uxaAELQPAAARSs+3mrMuA6zDZ68ySAYDgBBpvLF6BqefOpndTb5g0B+cNPGmJzYVDCxQCws4WWQ+FsC3xTXNXmDwm57czOdgs+n6LWARCyeeDOPgwz7eDi3Tuwu7FeL7+AAKyJnaLcFiS1Jc-NPxvzEgN1OhcwusglLrIFSyKYjOQWozB4GM2JZTNjG0zjFqQMyeQtfqcz7eXopslyDQw5AuxbJf5F2Ia0+LYVTk-wQx0CnNKEAEmIqeVMssXg-AXwXubosOWGLUbZi0GdYtoxPL3l3y6yH8ssBArBFtqgJcAsKAlOxAMBGA1tOaXxLKVyS05fSu3cFzslti30S8tV5crB4fK4VcZz8B1LCZmq-ZZ1P1W0rLlw01+clMGW-zHl9qz5bp3dXWQQVl4OGYgt8nrTMFwaweYQsNWxrQZlCwaFasvjcg4XBIIBeyXrYJARVvimKYmKTXpT5ZzoFeIBkxWVTLwLs+qaStaW6rOlli+ObRhHX9QOgM6xdcI7LXVzWgR0xueYBbniQO51kN-U6ACtPrtV4az9aDPNXQzh1460Db8sg3hTT0R85tfgsjWhzu1pq3pcmu-msbgN067jcICXXgrLIKcwWdnPAXFzB4Zc0TYksk33zZN0cxNZ-OGWuTq1qC9GZgtg22qAAdR7DOBCADsOyqyA-GyAwDu5-c8TZ5tMW+bdwfaxJDRjS3GAst+W7sSVuQUXtjN8AF5elN0Acg3F-opoFADXjcg9tpUyqbstbWNbzl-U6ycyvt59bht6GArYPAm2VbjNpEF8gqurFFEuxThFEF2KbIPgl6VW8ldRs7Wvb41s83Jalsy25bAd428rdEt75+rA15G0NYr5o2szbl1C+3nABtssgpFg8GrVcC2mJbfFSWzptKishwAynAyKAGyV5ACaapt28TfLujmfbbVGu8wGoD12WQjd8WyKdEaLkqA0QXYkp3eL4BdiC9qyQzSTtfWU7o1tO+jYzutWJ7ddmU7PebugAOzRdrm99dTsBndLTCSm0LfHu12p7Z9pu1dbCp+2c7gdlkMHdEs33hrHtxq6OZ1utXoAvYN0XTqVOuAnejN4s8inCusg9aDtnsEeFMOUWAZvLHgLGaHvaW77GZ7239cIuQOPg0DlGuX1DucNF7xxXYmLqui028Ht9-e-ffTstWqzpDqwLsRgeUO98714u2rfwcsPCH41im4LemttUIHaIrh6yB4dwOW7YVE+2-cCsf2mHQDke9rcrsHW0Y9482MpfkCS25A7xhR6KfFP6X7ritiq2IHABUjLAoBVS2o4HPCPjzRDk0zo70dmWDHRjz+5nBaDh3bgIyOhwuABChmd7KNpx6TYPtNWj77juSp48MdDDhTfVjSyXfdsaPBuj98R61d0dxO8LXjxJ4ze-tG3Fb+ds24A7LsEOXHhpmLC0FkRj3+LEN9c86bdMemfHJVqG1PZEtlPUnw9yp0heqfZZankgep2FXafNP3TvnNp408EssgyrbwCq6QCqthPS7jl5x-06DM1O6nxD4q9M8AvCXYbBdkU2M6EvQ2unuxBGwkCRuCO6rwDrW+oEGdbO3H7eMO5EACdR3QYwTqwKE9Dt+PXnkdlcJ7CNBx2E70gZZ+7f-FJY8gdALyxCHQP1GlF1B+MWG32T0GDrjBzo4Sm6OsHNxKffwsdkpMZHogpY7Iy6MI0ZlKWxFNgvZ2RYbIZpWo44hYbLMC8rUaxio1EfxMxHPOjhKl4zkN0EBkjpqt6HHvd205WjY0rActIrAoc02TLHqVeEX534QOOzO1oUKHYF0R24eo1Ku08afsJZ6ib+NK+7Yimj2AoE9hs13Y+tf2N07UJC-oAwukLA9DG2EsfsnX7kLARe4zmFcS6tUIjd11ZLOpqdCbe57kHgB0uOuj7Lr5MbCj9cYJQAXr-XMSEXsBuCbKT70-0f4KoU+gQAA')">function javascript_value_process(exp) {
    return is_application(exp)
        ? list("application", function_expression(exp),
               map(javascript_value_process, args(exp)))
        : is_name(exp)
        ? list("?", symbol_of_name(exp))
        : exp;
}
</pre></div></div>
	</p></div>
      </span></td></tr></table>

    <div class='permalink'>
<a name='p55' class='permalink'></a><p>
      Once the variables are transformed in this way, the variables in a
      pattern are lists starting with
      
	<span style="color:green">
	  <kbd>?</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>"?"</kbd>
	</span>
      
      and the
      
	<span style="color:green">constant symbols</span>
	<span style="color:blue">strings</span>
      
      (which need to be recognized for
      data-base indexing, section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) are
      just
      
	<span style="color:green">
	  the symbols.
	</span>
	<span style="color:blue">
	  the strings.
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (var? exp)
  (tagged-list? exp '?))

(define (constant-symbol? exp) (symbol? exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDPEicagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBOBSjodEoUWIJL0MqScrMCsJUlp11kjLJGtZ+sNxtN5C5uJ1-NdRpNiVCwsyapqGt+lK2ityyrBaiVqhVob2mv0WqOfLEfvdgfm0kWknkAA9NJYDeNzRH-lG7Amk4m45W07iMycbZI2qRpEplATIdCKdXAe27fSHXcUayNPRznoO-Iuz2lASub5-I0mtjLvbbv3nqAWfMIkpnDl54ve+NVylhj6xJ3u5faEGRWoUVWrTWETGG6rVHXG3fNN0zvOwHyXAk5gWT5i1LeRy1oPcP02YdvyRX81HrID01bXUQm7FwWiUQsSzLQ1EPfQdP1Qs4LjpBkJyhfcWQI5wiJIuCEOIL0eVA0BWPY0FlBJKYXxDOgkKolDqRYJRNHuYNRXFSUOReAC-2w718X5ATiMyFpBUky1rTQ2M-ywpjgJbPiQmtUJzgUD0jNSEzaO3Mdd0nA87LCZd5A9Hjb20sQ7NgsiK0o4yv3Ut9LJwmypGnFo5HGFRnKHak3Po8c9ynWhkoJFQOPC2hr3XDcaTondGS8lkkpS2git8xzEkC3D+XqwqZjg5LSD89LqOpcdJEsfBctAHgQOCnZ8oa9kZmnOh5AAR0WM1Ipcr9htG8b+CmzMZuIArUpmFQpnZKhZiWDb5S224RvacaAGZ4um4EltW3RSGuyypNc20qo8mqmNZD61u+tq+NkgBrT4wa+n7HjoZCTJyll4bITkXhRZGtIOgUVvBuGHP8xIJMi8xNtQmKkP2tsCHBMJ7L8pycZR6KfzZvH6bLchmZavRyaY5G-q-CykbpvCpH8zRyEFUJCYRvcRaimiHEISplcl-l8P1PnmtJ9bhfZtXJQ1zDAON178YyaRqFIaGBsGoEsuqxjHlZU97ehyG3q9h3JH0wybtu6mf3FzVrLekI5M0WQ+r7EPpJdgH3IY8aWVj+PlyvbWxFA4r4PI-Ik5MmmgO53UeyiQuuKFgdVepGmI6snlcDAUCGHwZg2CgOBEGQdA+B4Xl6fkPNCH6p1mVAXRZhNzKpEmRQ0unrwNjSAB+fi5BXmYJ9JdUig3oIAC5gSlQ+w2Pirt7t6hocITQxNFA+FNfMUJUvysXjn-QT8COfGOmg46UAThWNeBgAHmG3lnQy48Fj9QLmFIuECj5eF-sQeeTxoEVWGspA+Elq612LhJSB+hMHz3-gASDMEAqQ1BNAr3INQRgkhqjOEiDnRC5DcGgG3gg-M-VGHMNYew1gnCLrjC+NQSQWcwHcPyOQyh-8Kr0PEUdOaq90FQNvrPPMGjjqNWTLUFRfD1G6RIWg6+689Ew0+KBVQlihIclEkKV8ZCdEUL4RVNIlig4-1nlg1RG51EY2+pWPhAiDHhOuorTG-NDbkE8TYgwZi1HAn9o7XhejBGBztg7c06TQnAh8iTJyOSNzRKKmUlmiQilBPnuYvU5YcxmkqY0app1WkBnaTo4pjR1HgSfEorxUT9FFWGYohpf9mmKGYBCSBrIACqxBobEGoAAdzsEKPQSgiygAALSHImUIhQbV2pZhAdIQywgXjVxVqkSg+BQCqBCKWSgLAUpXUkI44QaYpKh2pHAkEEQvmXQcdNVQdzQAPO5OYQYs9pBLXEC8t5iUPCtF+VC-5yFzCLXIJsOgGtCWolOZPBQ0LpqB2oAZKlxBvG+KZaUYsCgjqFiweCWgTkfHMoqgXFxIlFASX+Tgvl4qggPLFRKmVyDOXMF6XcXF8Kgj-QesOKC+YlhlhJSE3x287IHw0Wyu4OrpC6KZefVo7ROgtAGAipFKLLTmHmaw+lKy1kbO2QQN6csmFHJOXAniCK258XwRKQhqhYJ0BUYC5OdhZLyWrqAVEAA+cl-Vq4qN-iWXGoa3p5M6idGZwTAVqvCIQd48CJ5T1ml1UFXQFGUuUY0tMPiukUsPpo+ti14l3BbbM3x59BGdvcN2k6cjzWKCkVdQJf8o74zybE5WsbnXPNeSEGWcsFafUxlrPFGUgTWo6AkO1GxEXyGRfIVFG6l560SazK2cbSgmRHUgxm+tyn1LZk8ed57HXXudYEAlDNGBMxRJqxYKbQC8rfZSjoYHP11KNhLX9wT7WlHXei9V2xINLAQ+BpieGAVAZfV+Ajn7Hh4Yw2kC9V7n1pFfTE+JETeXVkI8h5JWs0Pzxo0EYYgRhjajeuGyQJBsyntUJfR5h6E1ySkxyFN6aWQACpxM9K6CplkLxpPW3pnQPqxAxSVvPI+RRKSUx4qwyEZd5CD34toGEAUwtoOxIfWTSsfHZPAi3fLZdbM2NmG3hUaQgXQDn1jroZEhnjN8ymQSEVH73MoeSWmaVMqggGbyLF0zEFxgSTC8y+xO6iaqF5slrjbNW6CYAwx+NwJ4vWMs7yu+u5GvPncSGJsvLz4hb40J0euo8lZJLfPQFIGg7QayTSul5C+MgYKSoBgZKstGeoCZ9r9BVBBxVWYED6m3SnuWzvJmykDv+i6E4+2S3dv1bg0sIOOa2X0jnlyxVV2+rIvSxln7QRzvGi6DGmDv2QeBD-npobBjakC37f01tZavzFcNdBVQYX7tlZrFYnhXiVEQ-5HkiTFS4d-3G45wlB9oPo8J7maCWPRmpIoa2vjEmX77xR9TucnXsiBIPiovjJkD4LrHgYzbo2rNSALqL8htDKaBA7Ug6lm2ZEaN8nOKXOO0fBI2BFnprO8OqCV1zkx4YXiFYqujpXRqUFcR-mbjL4OWx4E7kwVg7B+5cCHmgJ6g2da2kYJWt4hkix4rVZkbIuR8jB+B3og56IyUVuvT44djAFmqCLJ7LIOQ8izxLAuBQLQXiWG+pQK6LRT4XKhkoWG2KDqqEFVYYVLxHvw+dajXcdVMXstAtpwr9ephA+b3+oKNsMU1CxX8kPX5XZAyVXlMfXfpq+3xgKpcQqwPQsn6hbaj18AvEmpXfkBcAn4E30Ne6O1d+gD2gf-O1LXsKqcifhHW-z875eC9IXuokeY7ftOE1p+gQ0ZkctVtNQA-8igb92xgDFhVAD4ACRxAZ05edvIf9oIl8eZUCtVjV6k4Dn8m5w5Gw4C8cxAvo7ZDRogOVZg3snISdW8xZGwh9Lk7AKNflhIlhaDIww50JGC+JSDqAlpA5bk2DV11hvNQRwRoVhCmceQQN3gYI4ht179uVEhoM+sfcxBitu4OR35xIXhCF4DQBxCIQjcgd9DICmAORWcRU2DfhRCgVox0ItCSQ85mC2C8NrCORbDZd7C7B6wnD5BiC7BWUotKDqDv1FIvtQA8wB99QYJS06Ct9dAoh3gdDsgRY49+IkiUjoi9VOlDCwQIRNC2DUjIicim9YjKDcjShz4chogUiTDDAAAeTIuot4WAm7NjARFPN1FkAAFSyFAFkmIEFFhUYCiCcDJgFCflAS6HPhZFAAAGpo8fswgIhohnlg4IiRYljQD5ili7dzBVjIgogNj2jkU21mVk9U8+iBj8B5BNlRjxiPQGBiVrlKBZiDxFjliMsjj1j8BNiPFDAdjWQviDizBfiTj-izjkZAj+IshH5n4jd9cjdV0NheCsEZAsh5IODGg+JVsSjTCbs6tvNyhzYCSqi+UBEMT755IwSXUyAyDjjQiH96lwcDjz4jcU0MQEwGi6Tt4Ewci6SOTDMMJySXh6wcjbtBNoEsM54uT48sRfNmTlDZRYNujjCIiPVMhWhQBL5g1Sg6MnVeUQN-DoMWD-Co10NeUTJ8T-CrDJDPDvtfs7TI1-DmxoEBMQ1vM55MTGFLTeN818YWckS34USoiVBUTAh0TZhfTsT4joE8SRSTC9CiTSNGMp91ZNZeSJUqSYyaTUdfs+DyCa4lD3s2SJUOSIj5TTJyS7dt4lo+YBSlsUzpAKTLUBQRSsItjGcJSbspSHUZS0U5SMi5DCwFD5ZSyPR7M0hXUNTXwtT1sjpdTFNjlYUekAp+yzBDTANjSycLCSQzSksLS-0mUbSRS7STCHTnCnSfsXToIPDnDNzQBPStzODqQfT8zGD24fUDou4e43dOBB5eAMB1D2wPlwUS9IVa9-lRZTZRx04YUWRwLvlOQXDDCwUULJBPk44klpkYLG4HCzI1BcUWwQNkKIUa82xjscoAE0YlRQDzAlRmVGU-F28kwGKzAkxmKbyTs7gkKCiOL8jwRuLaL29xxBLxwRLSg0ZSTKhQDZLpAKoWKgg0Zko6A44lBBRQC1KNKRiNxlLAg0ZZyOLZymUDLzA0ZZJ3g5FnA6BtMrK3gbKGBGhzKzA0YFjBLzA08XhBRDA01QADkli9LXLeLVAWRDlPKzBvLQBfKlMAqjkYqzAQq0YtMXg0horYr-KDkVNErQBkr29gBIrXl08Yq-L00DkwBgqeK0YABSIqjKsq+Kmq3K-KxkFkOPTyhquK2PDEXy6q9vAAQnRE6pKsyvKtACGrJT6tErasaPqtGsaoOWaLMGmukvb0aNREiq6qytAA2pWtar4tTXmp8sWtAHTX2v6ratTU2rSsCG2vGuuoupmr4oGqKvisCH8rMAGvMGDwAW5DIowoooLhMJTWgUTX-BjBeHIsgsooS3+r3Ohp+QLmoGcAACs89lswb5NhA4q0ZEasYay-CSBgIeKgh8bYb8tuQsAAbPlMKCU8hkloMco0Zj1bVQDWbT0QrQdDL29IBiAT05AtK0q+aBa5Yubua3L28HLJBYBIAOLpbZbxaJbLLlxHKABRQS6WtWpW7mtGAAOSUD1qKoNr1rbIlryoGBpogp+Xps5y2NBsaHBpeX8oTBPyhsBphtttS0toRo9ptrJwZvcIdtKCdripphP0Z3Jq9rzSYNhWuXlnJr+RIHuTGPHAMJBUiDEyOkUBuSZNRqUHmAMwiFlgLPFXJuwpyA9DwuJtJsaGrjTr6CCEDP0y2GfknPqQMOCPZXbrNDC0iyOjrz9qgrbCsNN1ByjoDrtsBNrrSH7u6ETupRRvRooCBzpPQtpooq9vcJ1sCFHKVJ7oMBbByEJVHKiDtmcCKgPtc1buVPeypqd2mj-Ndz7kAu4EwFArANoHCCUAoEkE+jCGkVkkYEdiPEoBPByAMNJJcDcBplAfAYCIuNKH5IIPMkIJ7DAdPAQaBIPEkD2OczWMhMMlgfQfgeAmgXPmIePEwfdOH3pmqFkgVhcXz0hAIZkx8NhVIFICcA1n6nuHuU4caoYCWNUB-tIGrJZHmO3gkfCwPBBKWNEZ3oqgkexnCGOLzVod1BICEiWhYeOJTqiCB2IS0Z7CWl+GoTfKBAhK+JZDCq+PoeIiWiYcu3BqMeIG0fkH0ZhOsf0BZHMOMbA0+CmBYBEbGMgczLUGrjNqkZCxZHIeBBykidADhD4WwxC1FMieKB8EJsbAyYmoxBZE3i5GgW3ghvQkSYyIKdif1U-r0GUF-v-sgiAcdkiaT1vTkTePAUQkSeSeZSJGlGQVIlQS6dCcQaqQPFsaWP8YEKCdKe6AeRCZ+ABX2OZXmLwaROUm-gGc4mLgWaWe+I3FWa+KmcCcUGCZpnmYyaWbYy5CqYyWObCvEv0ZeGOa+FOdGbPmBCMN2eKdAHuf4vBFAJygTEifFJyZGeebcZMZOcYBYDNrCVUeiG+byJZAAHI8Hk0di0W4mITTjIm-HIWAm-7FhGBDJPoSWwmzZNYSRoGIQEwyXVrza0Y8gWhdjWFdiNlPQXQDRFBOXvINZUL3m5dfmCWdG6XiW+rXhGx6XGcXmgm4XhX3HZnVBpXQW-wVWFWoWiXFBfLP9+R87C7SBi6+YjVSx7Yi4o0SwKX5FOn8hYIonQrM4OnFFQCtmSpbXLWZ6ghwb9X9RDXKBZY8NQUzWDRPGLXNAyHBkL5tC7Wfm0ZCnsYIjP4VJpQ7X5XYJdWxB6Wgw9kiwg3voDQw2rM0VgFQEbXC37MTTqVOSyVoF1mv5tDXWhn3Xw3+yAbg2lp6QHloNwas3dlzhc3TX83DGxiJJU2vN6tgaqyKmjDbmt4hLaWfxB2i5rg4U1IUG1Al3uXO2R2I3qifyR7q38nxKfnN2O25ER24nJ3XxxGfWi7-XjW0CT2Cj6UD3NSwtvWC7fWjXA3T3Q3U35Wvmr2Qx3b22V2d3+tatrMHBo3LX7M282r42BRE2NmYOW2IPL0jT0zUJ03z1m7dQ-V2DLW8CU4QRn2Y28iExyO93Zyw2PV1ktkgjBmuJXhBQmF0DdRwDBZC3iOwKyPLWfn6wqO0gri3VYI6OvVGPtmOov6yYK83pXQeXpEWFA5PgkQ2hug7WeOWOmFuOKmFPGBPRzC1O5FuWDPpEAlNOEj8D0JOOuMx2248ARERlsRMGobK1YUlyrhyBvzu5XdSA3g5IphQAnpXklp6Ynovcvd-5Y7XR7ZVBYZBRC8FxWEWg2HnZ2w0mi8UvkZ21hW2gT0uhWnCY0oEu130IEwsvGBUvd3qmKvkuqucvLi1y6A4vSvJW-xKvqvYTitzhMHVA8UFtrsZheucgmb28VMRv5AtNbsw14Sn54v5B5YeAXgEvJA9o6sQNiVnBJvoNYvSAFulvVW1BFthvSGnyoOs78vbV7hCBtuzviT2GOauhx2tzas0yggQNOvduDRWvFu1ujubu7vqGnySTmhs6CvuhOuzbqmnuWh2T2u1AoeXvnzcOozo56AeWDvJBlvQBVv+AWzFhpyamnMtuduyU9usecf6wTuXOIHzvi2wervJNSf7v3vAgGzsQ-wafJvPWKovmcpVucevm8eCeEHee+VqehvaesHkftyHu9s9yvvyefv9uReEfAfJv3SmULvYeMcNAquSMT4Zc0gOesJbueesBjffsvnhe-v8fwytVFGZUzege6fuQre5e2fShTfGxOvReQevSDTUfzA+IdLlx-PVBYW6sTI2AKn74ETZ2mU745vNAwtz5Y-8nIgloDPE-mVt4s+eWzcRPCjxOGPQAnPFEA1JXMH9TXzvMw-yB-PSK9yK-IIyfBiq9An4H+ufaZxQAvPoNW+lPu+WIU+eIyL3OyUh-nxJuwqC+c+qbK9q9JFkpEW4HXOHfCetOvn1+ch-fzCV+mTd+HtIhV+fgtOExD-og0Kr+a435b+DD6wH+D-T+mTM6LTj+Xg3StOKfP-9yAjzCXdboH-2QLf8rOQIL5sVlv7tEqGe-TfgES-42EM2hIGcAzTAaUoxO--CFtqXZRHhJAAXI6DkEYB4o+IGgTQPAiI7vcLuR4ctvL2J6Epb+U2V-hQXf7FFMBbpZHqD0u42pJMD-A4tvBIA4D6QeAggS0CIG0d-+0PDJGQMMi399cD-J8nLwu5fNU2dAkyF8xkFKtU2LwTQYJ1g6KC3u1pL8Dh0aAvkUe3mTQXa2QH4NcgLAdpkwnZRtBuwgoS7HQBx5ODNK1wOgOt3AEZcySbg+1h4JcH0hvB-XOJl8x5KTRxeUVQRuEFsH2CQiQQ1wXEOJCc83wUQteiDiSEhC9oaFSIFMCzw-Jsh9wdwZek8E5CKWaTAIT82yGhB+AYQyNhEM5gZDxU-XOKvkJzq5AihZQ4IQbh6FeD6hTvXxG0P8qrF4hWESaDQw-pjDUh+AbsFCGxrJ0BQBhOYcuDZT2RLAxIFhvEKdpLCYS5hVYeQHWEzDgmJwyof4JSGwsfmIWOJh0MYCFDPgxQ3lDyUuE70Rh6aQ4ccMuHbDUhFkTYbCymGx0gBWFCUItFuA4ESGG-IiPuDAEbAJszAqIEwM0QsCjMH-SEXAI4EWN2wuvPgdUyAEwCMGcA6EYgM8KtNQQRw6dJICsoR85B9-BEYzmJGSDrB5I86FSPD5tFyRLwRkbCO8ymkKm+AOMF0HmI-MWQAo1UEKLibFcN2y4LkcuEMA-NTSZgW4VIBoHkj5ReRYEc8hVzgizQnI0ANyJsLKjSOEhNUUk3hDvJn20I+1iyMpHUi2i9YNUdEIqj1grRTojcDaNsBsjG+bRBMI6MyHioEwro-0XyjdLytRRgolltYOLLH0Os3wqPL4PnbRV3hupc2LCX84LhoYciIzPpz7A5jxgLwLNnqKzY8iHMffO0Q9GJTmpoMHoozHaOVbitSO+4PMbQDHrm1mUxYpAViI77eiKxJKcRmKJyAstrh5sbFscRjFGYThkfdkb2PNSwlCAAhU-sWDrxyitONmBFjEF9FyjYSXnDYbYIO448EuPguEXuWOxed9xK3Rbtfi7EhBdeIsYLObBkZ0BrBi43Nqt3FDLiLQx4vvgl2gybjD614lUT2AO6GApGhTGRglyPpWBQAvRAABJq1JAAAQXADgA1aAAJV6KQAAA8nrWQBko1CsdO4j2ObFbYaxJI5wlp3nGfAXxH486Pax3EviV2pnBLDROnTysdxKgbpNnwSzmF2JlQEzlxPyxtCExsE+CUhJQnoSsJOEniVYCwrZ0iwjEgSY5hYm2ADCO4ycS+MkBvixoNYxnJnCYnjBDkJwuTsvlP78TFOSk0iZIK04nDfk8w8GoFmhFOAlMZudMQHGyzESDcy4JwFDTWHToyJCAwLIRP85mSzOFk3ybYH8mAjj6FgfluIhIBBcyUAABgGCx0EgmyEaLFOtaKIsK3QEPLFI0DxTFA0Gf3GeAKl6AipSxHgPzi-AlTPgZUqYOYWKxpSoIsApYH-1qn2Ds4kESgC0AMJfNKmPkiQh1KyndSC86vY-q3GEz4xLAl8FqYSPgiySys-LAbor0ylOtRpqhe4hlLPAjTpEPUnvmiV9SWBPgmyFQI7Es7QI1UNAzTi1g77V5mpx-CQcNPWl7TepPWT5nx3Da3SvmcQk6WdK0Gwc3R5gX6ZIFOnSBHYegltlILoQ55NA-WLsSDLBmOxapsJNoA4NS5ihm2KZVqZFMBR8REZ-0gInVmoFASEGdA2UqtDSh-8yZXvLDtSATycCHUGHHchKgmxIiz+sk1gtG0imMy6ZJHHEdDKT4EAls8gTIefAJngztsCI+QVr18TDBqEnvIwabBUHqjxU28CWY7Eo4Ao-ArwY6aDP+mCdBWQ6YWVell7B90uus+QH9MllWC8O+OIsM9hBEgh+ChoPriAIjJWTnU8I5EYiLJRyDWB2hP-piPSBopvqN48HtdwUHR8vwJADYl6JpHSy6RPsxnMGPMB5geZ3xJQQzxalnESMoOPACpkLnQJvZZ-dmW-1RHFF05TIy6V+DDmM8eBl2XEZSWFZxy6xn-VOeYFpEo4H+QMplG6TT455nsBI+Bi2R5n-pmZN6PoejIYT5Aq5QcmwrYQLlFzGgJkcMeKMjHjz6M73V9A7KizDyN+Vc4OSGimn0xY5-xeORyKF728SxFsvkfkwHESjkWD8ocZGylF14r59rfwkaNVGTR9mMCQeSES1HaBywfXTQFfMinfygJmgdbj801EShgFrsnIHXnt5gLcZoAJeSpiNE29f5cID6SaL2g-Mz58sOsQ6JaEg4HRe0XuYECIUXylWYCoYT9l9GUKO5pQUMXEzXmDjfGds04FIFqmQhOMFLeCjlANgehWQtU9jtJwZLziKwKMi-uuyWl09zCHUgJLIoTEKVRS9YFGUbKCwOsVAp0wUH7kWBFNI2zcX3stMBF8QQUxEPhbVILENjLJHYzwqTj75dgI82069GShmmWFj+UgSIAooAFfinMNCs1KSj-mlAaFdYwseFOIBUK0g04LsNIp4RZ4jMKM2JUEEcXOFqpqEYJfBD7H8iIxuff+TcNfk1oFAWrElv4pmyGRXF2WVJYVmjFWBYx-w1QDksrGRw240UkSZIFQnLIAAMmrVwkpjKgKUviEFMcq1SJIlkm+fVkomyS2gRYZSQyh+b0S5J1wCZYsrYkySOJ7iiSGhV4kzB1lBhLpT0v6XgBpJfMBifSHWU6TrJlwhIQPUCxqTvhGkrSRsrSWBAWQtUwyZcK5DRCnlzSgaXyxyDfL-hXIWEiCmuXRLcZCYmyYcPsl8papcVM3FYvcX+KfJFIiKZIOiFjKdliyyKbCUNBxAzw9Lesdq0bHnR-Ju44kAYVhV2T5MCZNgkiqZQ2S5684ZwZdkKwnpO2+kpSVEoxUxKsVhWZMRCv5YSQ+VFKyQVzQvKvDrB92cpaS3FaUqzhzipzMtBxpkozxBHUleS1ZByr6WtferOHKZ6XY1VxNXLoSpwryrtViXf-lSquHGzTVoycqVx3VbSr-hsJEIC+O76mi1FUgCEnQq3FrhgQNAv8RYrehhBWEqnHlUZkzrUTiJRbNpl6r67xqieIGH8WSheV-d3x8a5HiBi4Yp5AwxEu1cHQyz-K9xbXPSYpOIAgrbBBqwIJoErQHcuWVamtcSB7xMovmxEl4MmPzUzS+YRas4bdkVnSkNG-ICNZYHcWczqJqiwJYShrHQZ4l+YHZijL4wXck1SCnSamr3LprxAckzSVmu0nRKnyeamwH2snUnCS1MqMtVsIrVfKjJT5BtXcFvX8tW1LAdtb4i+a2LXkjVXtYGA6mDr0OW83DifKrgtArlsUsRB5PjWrjeF-LERtGtVlztjOfC+NXE2M5QaENRnMDSFNzEIbAU46qNVWqnVyT4NVa27CBmyDcqq1x2LpWJLQkYTsJZyjYLRuQn0bJJgyztdGu7WNVKNOGymlkupAsgH4XC0dVmGw02Llp+GlhBOo6mxqSNK62deX2kDgacgNGuCd0r6UDK+MxyzTRxufZfrkxvGiZbdlXnCbnx0sccholRpQpo05wzWLZoOFJZpw1mkQGGzS71ZKOuaNCuVmc34hR2XmrTpDPUax1N0lmtSi5rbBua7NagBzbxDegsFwt+IKLXIu4JealF8EOLBIAi12cAtCYoLWhQSBRA-I9IElbZpS0ac0t3Cw6KjWoB+LfNIgIHG6tsEUslS9WyLW1tSwKi3CJwuJs5tq35AfNtAbLZ4mIDDaGFZgPVeK2hROahtSWjrcjBwRW8QcTW6lThEfVhVmWuxSbdq1AJ9bIgi-N6OFv60G4stfmpVa8Jg1jlZY8sRLbXlu0r17WxSvdncIeFsryhpdJlNtoqUJbTtrm+7alnO3urFt6VRqkdr8XlZ-tEkSHd4iW3ioVtAI3EOtqE2MAttpSz4Pqq5FZb+tB2-GIVszQjtAdzW25f8NsnLh4VzKPkamkt4bh1FX2wyHjvzxWrV2LCw4mOMaUTjvhoYmhGMwaUsIOdzS-udQloS9ZzYwOoIPDvTBI6OWqOxBGUox26l5ARWhQDjrHjySuGGAygV2PRyYDT659S+vKhVL-iQNerT9newDZvwpUtq5VXKBtJ3K4V9K3xJTp8TFgFwlaJYFn1nBUB+odJYFju38lpLYCX-MqpkJo6zBWxbYg8Ksno7epyR4ZRgFXz2KW8hdQQFkLez9bm60CNXPIrzqaV7j+5xskLJ6wl2I7G1qe03enofYgFdVaO+VaATT3fs4CKUkDLJFzY6VnB0GAAJwDBQ+EgXSnavuAkDDtve5wXaqwpTBIQOmInhdyqGag6sWc15HYAyKJSiegQNvZpVUAosUWrINADvrrVMygNTKNfUQ05jtLD9w+zSqPt3jGE7lFkRnHYBOT74PS5s-Uefr8x3Kr9fDDvq3tf3grpA+iwxe7uNCRrCd1KrTvDpL18U9FmlAAzLrOTo7xWoBKAwYq+D+4AlsdU9lasiCPq9CigTIIaDFoqrCUy0aDL20FA5s825rRVlgfc47E+gYK1dWiiuiMA8DgtPJmSnRjii9Aq4d7kfrCrHITkp7UAPS13WPqzA-Br0GEpf3qVnBLSkVvAe1bKtmwz5N7mYKwxFrlOrgORGBpNWG8664miDWwig3Yai1ASZaLLLSBYYmDLBuWGwYPCGhainoFfeYF4PhV+DgaaNbCm0MtAA0bhiQ57zMHDrSgLhtw6uWEMhKGAIR45HvrMBH7+9vKGyeTpDGMq00YJF5iSv9Ee60B-UZaP7teRh6CAjVKhG6Lp3KtsYbOvnf3pCzAQh1VW0DEzDyB0BNkbgag5+OAx7liDZKUg+QdPbLiAmbyNxjQYPB0HzD9A--sdhKM5GBQ5R3PVsKqMmaMylLYimwUa5IMDwGybsf52OL6jlwSgWJtQitRyHMDqAvQOgKWCTHXayxxnIHoKNxUqE5mnORdK4FCLdwmAypmtuYBDsrVKLHMaoAj0AAdLAChpAQhFlO+AVhME0L0xUTqAKcVFvoPBWH+CqFAYBgZJXfGmJvxtsQCaBPozlcYJmFsuIkKEA9CjOG1V8yJOgAAAXmljMAAnJUwJ9lKCfBPXGbVVJmEzKjhOHhcDiJniDLhGBJYGjTRiEN8fpP0hGT+J0ai8CZa7FnAuxUgLsRZZpgUW3IPACiam3CmcTYp4JhKd0XSnZT8psFRya9BAA')">function is_var(exp) {
    return is_tagged_list(exp, "?");
}
</pre></div></div></td></tr></table>
    </p></div>
    
    <div class='permalink'>
<a name='p56' class='permalink'></a><p>
      Unique variables are constructed during rule application
      (in section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) by means of
      the following
      
	<span style="color:green">procedures.</span>
	<span style="color:blue">functions.</span>
      
      The unique identifier for a rule application is a number, which is
      incremented each time a rule is applied.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define rule-counter 0)

(define (new-rule-application-id)
  (set! rule-counter (+ 1 rule-counter))
  rule-counter)

(define (make-new-variable var rule-application-id)
  (cons '? (cons rule-application-id (cdr var))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRAClKsADrVHFyAGjHFxASlABvLKHONR5Qo2KhKdAPrTKCxjOVqNWg2fP+AgH5QFzcZRylZJRUWdWJNcl8A5NAALnsnYkkWaK94nz8U82DpamoAa0JVRzoATxYAI2ppCJlCJTrG5sdqfEcsnM9Y70TdTUNCovSHR0lVVRdSeRpiIbiEpKLi0DmF2sUJNvklQQoVx1EAD1VLOjoVtZGDMf1nya2UlzpyHr7I9roikkjAA5hdrrd7rRATF1j4XoZfABIczTJzUVSidzkaiMRwxBqULLCVawp7vZLBQ6yY6KDFY+S4-GsQnE8442bzRbLWiPfKjPQTD5pDLM4gAE1cKw8ZP5my2VMiYslJJleQSCPlU1F0myDXFknBN1Edweso2FKCoBYknKokcpxJil1jQNjlUwOyVixNXqTWkMPV8Mtwo+Lv1hqa4v25vhgq1KTRNVEAEd2mRcsM5SHttTk2nNKQOqn00WauRjjktIGsxtNTmRTMGqVSOU+RbhYrws3qK321p68Kk5ZrLZy5WEv3Eg2uy0RzZiOOFFXyFPBx8k5JTSDiCupwnKWIlVv7ju97GdPGG0nxaJSLrsWag9PO0fwrf756nRf11t0ljmEYNdQAAIgAVWIcpiGoAB3Ow6i0SRLlAABaFC3xpBQQIMABuLAAF8BBIM4RF2aR9kEXRgRBOgjFMfxKHwUBFBmG5KBYKVxHtR0HkEAw6IpedbB2LlandRh2M47jiKdSidlBWi8P8fCxADUR7CYlinDJEhxQdGTeJIfiTApFR6HIUBbkIaQLIAXgwuQFEUHjaEcKMKKM7QG1DD4rgUCULn0ShmF3SdvJ80MXMXD13ByNxAT4ryIuSopqLoJKUsy8wosC8RgtoPc+P4pTkiEuwZjK1ookUKybIPIpgkq-57TM-zV1ql8fPSXTRHwIlRHFErQBU0Q1JMlIANxZySF0cDIOguCCAMkRyFqTFUPQsjamwobCMIrAopCBwfl6KqAQOa50vjcaAjK605iBUFQFsgA+BzaWozUxku3CCKIoQVgw5UpVoNVawHa76P8O6ZnIRhCHIAALfZqUc3IJRBrIWmNSUlici9nnjeqrVR2kzJVaUWjMugS0nAnfz-d78doCnQZaGQ3DZLj901PD9sOvMaYLDNFG+FhyCu8YBICRjmJmURYlW-NSw6chxdo6Wijunq+viQbJhGsbZa05wtx+b4Jy0UW1Yl4yoeFO7SacvrGG+JcFcnMXbe0KWhuG1SaZulJqYsl23a9s71Ps8KnZOYLw4rZdPZt2ifdeP2Zc0iqrAXSPnPj82bcju3wrusPC-FyOM+UgP1Ptj5HaVIWVcUcLbpNQvLYl631eeX2Q0IgI9v+ki7C+E6+hIE9KB3AbFAGE1NYsHPhJtVR569Z63pAgAqKftz1neQN0BfFL+g7lvgpZF2oBHHA-B8eXofcg40uWnGbwtMzhRIl+SEPQBewYPZT+GZ3YrhrD-X6WwYZOAVqoJWoCiw91tm3bYxBrLSDQSKXYmhxSi2vj0O+D8vwrASgXcByde5vCykUOghDb4-BIY+aErdaHChtHaZWX8aod0odWFBGtioG1rq-duo5ypOGYU-fc4USjHUUNIkkvoujSH3MTAI6QMHSGkH7YeF8AYiDzD2PsP5IaTAAe5Z6oATHlDctQaM+4-YAJbDIYBgCGHELvI-EkgJ3LQP8AA-ep49buPHr8RwwSZ562dL2NxATl4SKZkody31-J6XGPlUKVtXEBgyuwgpAQomz3FFdbBhTfKvF+vzS+QNKoWyTlbMxUtX53U4faJqbQlDYNjrwiRRpIRPnBgKKW1SR4kiBtPM8dNnyalfgA5q1jelTOyT8ZqAyTRQlJM+Qm-cAgrJUf6POKyVyHOaDzUAzVeaTDus1Pm4zAZ5iUUMn+cz64zBys83kBMUT+EmLONG01DGLi+YuDkIdJBaHvt40h3ydn5J8lLSY6QDmdCOc1RRMKWGLjRec+moBynCl6aCyOGzTRwuGTQipiKqn3NwGAKKDB8DMDYFAOAiBkDoD4AAJgeSIGYoQGRqIJq0lekj+iEEaFiF+oAAA+srvIzG+BJYgIIZXysVU4JozRRCQpfhq0MMxtHCp2QEA1woZg636vggm9zDqCvcC0DFIrjABBuWK0AF46WHVhpIEEIIBrOAUV7XQSN7QVhBH-WB7pJDBRQUYAAZAm0AiNdX4K9kYWyWbQBhscBG71tSjVehfvXaNEaA16XHsBECC8drn0Orilop0F4lvdUk1Nkh8EVkoCaylYyDGj1FCcmZlLRVJN9f6wNVazEgWHVoOthFDpzvNn6PFprS0eo7V22Nait2KG7b2qB-ExlLoPqc9ZVxjTku2aOjd7a037p3Y+nt6j+0+qkVimRGax0LlFOWqdwabazQhVC0F2E5UKsNU4f9lbAPi1mlICSkhmz2jA0YDVi7akksbfGoOd090HsUARp9Gbj12qw5+5RF6ISbIeN++2+GH2EcI6Rt9hanDhjdJewZvJ6OFDLX6itQbvgoNmpxw03HaO0AXQOiZ4mY2xW9HiRtgI+PQw9WvUWq6m19AXroYjL7WPkeBSEPUbp3K4YY5upjT6WM2zI-W9jjh6mJw9lbNTiTf0TqE1WkNoEXNdxk4dSqknr2Wf49Zztz61GkYLSZmY5NMYeA8554S3mAMib8yBRLqoWiha2eB81Hx0uwcy0B0COXKb8PIEF2plW2biQGpQPGqtxZLzuuEyw+BROgB4CeurLMktU2hLTdz9m8Mes671Hr3L+smfq1jWYNksRc1a4kCbSSpvdb8wAZjY-Fj+o3kEpYE5O0rq4stINELVkz7TuEiyAe1ybCiQJXePoAlOc3B1Xeq6p8brrzARfvVFuzbWvsTPLtVwRT3gfps+8ZwdtxO6NO7o9jbv7Qe2wRxM+WisxJXeh+jtLmRMHQ+x4DAVZsodo6s+OknOjovQ-24OpsLY2wpcsh6krwmLvlZArYm7g7bH2McRzxjIOSP2eZzjpwZFmtfv+0Drz0HBMZd5-B0Ccu8YrEFxDy+ZKtnhfU7DxnsW-pLtBAbshRvUt2AM2ozHDn9p4EZUwVg7B2VcC5WgHbfLxVwwRsjRQlwo1c61WUaQurVgh4JaGYIyEs32QD+pby-5GCAWD7NbVkfIViGuHeBQ4pdCWCLJQLi4pUgydk4DO7UVFAxS9PFXQqTzHiN-VW7LXhdL6WBcfcpDe4pYiui3-umGDvMmGN3uv+BQ907zar87zlgNd4ClFXXgMcoD6UwlWf7fjrOem-gXQfXyciByhZmfP7hJbaX6AWbp+7A5UySFQqu-r-7667fvbcXB13c6dVVqDYK-MeF7f-dod7QAnwB-UUMApQZqN-f3BfHnRQK5fzMVSOdfEQWAsUNqFArpBAlNGzF9eA6XR5MgUoe4VVXKLJPcFpO9DHJ9UfavM-ChZlYtOgttX9PdJggWcg6gGmNyCiRTN5N1NvYSD0ONNgnIa5QiABXNeBJWZ-AqBIaxY1PCZguwWvRTLTVRK6ZqWiYA0ACQoCFTXQfQ8HDfRTM5AMZyRTOiUQ43Lgh9KQ0QCws-Kw-Q2wr0ewv5MQuwQjFw0goxS4dJagl-T2bTPQtxZvLce0DgvwkITQEEJGHQ-0AwxPRI1VFIyIWibyYIYwxQLQ4tUwy5eJGIgQpFUMdISPLIxGVI5oAwgAHkyOSLqJyI0RJnTymhAgABUyh7piBah5IQRJUEgGA6AqgFhKABp0gQJQAABqWPApZVIkEERifYFTIwRY97OYxYwlAIFY1VdYvAgMfiNuNPDPXo-o-AUQGCYY0Y6sQBSYlwGY0CBYpY9hQ4tY-ADYyIrY0CWad4-Y-wL4449ooIseMoSoaoRtPORtN5SYXg8QZwModeeIooBta+eovJUo04sRLWMPCVBnTY4EqkfQFEjENhCpQsCg1YsI5Qq2UZYE9IRtZ6bNPdEkwpYIPddo4E1EDxPVFjP40NJ9cE6ucwQeIoY2cYNkpPVNC4PHek1ZP+LYSaEw7TWaCCJoXSUAWtBJZIQ2QOeuLYABFw6xSHFwg4dOUuD1ehPVFw6whKOwhFApB0zwwI-UoeA2Tg4ScYCktE60mpEzVFbTOEjU3EhEgIJE-0q0wwfE7KWpO01YEo9o+M0qQk41bE3IzKMk5E0oSkvkmk-gukpQ1ZWMs4zKFk7TWUwgqLTkrKYIGmH4Hk6I3EjoxmJM03YUnNUU+JT0muEMaU-QGs+QxU0slcFUooNU7EzU4gbUiUXUzeNCHYM9BIOtLYQ0uucKU0xTc01g7QvZUMO6Tsh0lTLwnIKlCpN0rpJ07w-siU70hIv0-MgMwwOlF3S+JlFlD3TgTlXgDAP3UUNiDiKgLiHvUeIFGHZXefM7ZAuSECYCqSTAuwRC0C+0diBYNzROQyYgKC4Se3SC-tABVCsvaSYFMJBRS0DvLdd7fwLdCKS8gIDvA9Wi8wA9Bil08wDvYw1iow2NRgDiqil7ceXi8eQSooDvI1TBd7KSnRYURi-wDvSUOgBYSQbaXQZS1SoYj4BSril7NU1itUnyXSo6ETECG0JGWYBoOgY+CyxGKyhgLYEyjveY3i-wTPUAWoTNN6ZCRY7S5yl7FCNy8wDyryreUAZCdCfyzi0y1cXeYK5iS4XQMK16CK0AHeTy8wAKsy4ABK0K7ytKsAaKoSsygAUjyqSs8oKuQlKsytAGyrisTzcvyvCoT2zS8pio7wAEIs1mrKqUqfLQAer7IOqSq4rGiKrkrqrQBmjzBRqJKXtGjbJgqWrUrkIlq5qGrFAQIXpJqqrWrQA3pNrOqXsXplrdBkhVrBqzrjqxrtquqEq0qAhUrzAur-AQ9LRfpiKJIQLSLwLlEVNnoQxNMt1dASKwLGUvroQLJwayLR4egGgAArAvYBYGh6QQcK7in6pC-TIgtRIqEy5IWG-6shX6LAb6ySNCsUC2R4+yKtDvK1PWd7RmgaQm6lPSsyyAYgXWVwdS8wLmnm1aNm9mjvOyxwWASAVisWiW4W6lUW+QeygAUV4rFsVtloqQ7wADlJBNaErtbNb2zCkobzIjDsaqaQMV1dCgathNMmJUq90Z8waza-qLaz4KbfqwKLbI5Uabb0bwqCKZ9CZibXayal1RJxJKa-rp8Zphjx4CCtpHAiRIkJQsRyI6TEbJApB6EJIEEqTkpiaMLI8VwZFEpylqI46cJkhHMTMmyqglS9wCC-I8F66woUpcEJR69naIb9cSi+TzBg7obIVLa0j1b-B278FiacpqAkaUbdA+7TbI7PbB6oVzCYqthRyEExJxyNg6VI8LJc0QRSgGhwht6tBrFa7qhT7VwyaPzyK3dWUOAOVuBMBALWp3AKBHACxvhzgbRGA2xENKBkNI8CCpKpUgICKAGgHXCKyGpazt0X1CNIGUNj13iQJHBdiPsVVvj9gIHgRAHkGYHEw4HGckHgG3C7AYgbRkwG9C9rYsGDD6DhJJBSBSBJVrJaRRYqIWGCqGBFigQWGayQI5jgghGRQdj3jmHSBR6PghHdAviz4x9B0SAYoaY6HViqIFINGwRlHgQaY6IkQfT4I4ZVjUHtr3jKHDQaYaG55NNqJk6VHRAtGNZUGDAQJoCdHXZw0sQWBHpI1DDZK1FqJiYRHjUQIQwkwq0gnQAk0GwTZMzCMgn0NZViGEnQRjJhrQJAhsIQxggiMH0omMiQIsm8jPVaA4ZmGfgv7lFf62wgnU935OQpjtdeQomYmIoi1Bgn8aMwtEn2yRGzHFiPGBC3AfG900pfGUG9iIo5iMHYTm1i0umr1DdEmgTpm3jBniAHG81vG8mJcX1xnemti25sIwmqjQAhmlAQIRKtHdALntnGAWBCHkgkwCi6mFRznNndHLmeLdAq0xm0mRT9m0nCY7mRniYkwviJmcnQIAByDB6iVBuF8JzB1Y44oJ9xz5zxz+9oRgfYAsXFkB+nNRHIMB3Z-BfF+a9m2K7ayFcUHY3EHY6CGrWaE8LEZl-zaya7Y9aFi5slxQClwmQjAV25zF4Z7x8Fj5hxvl4Vnsl9GVu5gVn-CZDOrO0gHOtZLpcSXsTZC6VQQlxp7kJ0S9YJ6l2dLkeXEkd7RZnjVYY1teooTTFVrcNVygBBUlG4bVu4Jx3V7lxmDppQY16FjvLJuR0M+ZwYY1iVy9JVwGCl30RCS4LVosO4H11+Y2GYLXGRSN-E00nu6s6OLYOZ3TBZ-XfLB4SN6ub6z1mmPSNKaxTTONhCCsRNj15Nq6cZitwSD1HKVkwpni6FgovdVtzZQNNKQmAi4du4UdhSX17UHt-N7NK546U52Bydmt2YBSZF+d1RQRp17O11jVqIFdlIfI-ioFeG+E7BR1zO519V915gNt71yNiVgo7d-0J26t6dmifUzct+OJ9g64EuFIDrF7ENwBMN4tiNwDn90RY0znJJaN70oMwdVaTEVNxh8VAowN957gwD5F6cy9WcqCWCOwMtlaNaLl6AyA7uY1-xpwLDvD95wjbD7UAj64IjhaUj7prZUprQMYqvU9GmRgZRDkBoe0TtW8fBWjjDnNCj1Nwp1l4Ttx83WpCT2YKd4T84CzaTwx4h6jwETt53MAekbFefFDMGhGHYBcgNcgele+z1RGOYNwUAHbZiGmQdHbH3H3XwDQlcugXsRQO0WoYvO8XEUpfVzMkvML7M18Fm8UepksDwIL3GqLPdKLxgcLp5j4bkh9dL8L84vzgL5L2VtRPLjWGNkQO7CsFDRQP+FxOJFoaryPaxDvHeJr0QI+fU+1KEqoQL0QMSHgXQILxwWbNMgBCYhodr6xE8Ir-rxwQbkr2JJYRrqB4RLYdNpwOL0WQgSb1byc4Dj1OL8U-2UaI07c6GznFQDL6bu4WbsSblQFmLHb9rtbo8wkrbvLw22BuL5kxbz747yUh8qMwtegNlvrgbobubh73E9ofb3j74J43blDG7-z0gcH+bx7pb8IF7+8v9y1FO3WOeCbnHtMg4qwefF9XJMzyPe1nyAoqtYbhbgo4b6Hkg2nzKQjKnnH3H39uD4OC7vLlHu7kbzH4nvb47zOBpj70LjLoD5IX5FIJsinp7pHmnrABXgpAo5nqHsw-A9n9hFjZ7vb36DX3n8pJXwjPL3XqIXHr0jcx8-wQ6TS+QUgOox5tMtpQR-M6E49nyEoHr1QbBdINgQpokITmrQlYIMPtlwlC4qaFgDjkj0AEzp+DaHslDdc5SXT538gV3ulABFPkTqB+t20cNKB2rvCABGz6xQv9kcvq5gPutYiyz+yWv1ydr7a6PpT0O2pO7VkSUVVPApDczmH1wwwgo0hxx0f8hmxIkAfsESfxQfv1YggvdZf1VGf9fhfrpJfuflfwwwjLfzfvfqgpOy0yf3QQIwwmbtHi-pgbw6Apujuu-1Aq-mTgovvk-tVF-vX+-i8ir8VIhnQ66ducVaQjpkwE4g8aaVAWkOAJcIit5yekRDI4Ec4ShI8jAP+IdBUCqAUYgHNMht1aBARs2fPf+Bdy37WIt+idRcJaTgF2EJejhYnMnVvCE98ER-Ukh80QGECUBtLdAbq0v52Ffu2A-YJQIxRH8eeoiAgQxz1Zw8EiBRIQXy0ja6B5BzHaDuINO5bkfIjsa4ADwd625SmOAn1gAMwa6oWAjTZureF1C1AieC3CwWpUDR0BRuMnAJqLD6zQtbBVgvSA4Nq7ItB2D6OgH1n17uUeGcMEwWYICjuCieIQ7IMrxcHSMqWAQCIZ4Nmwz8iQbgHPGBUSEuCNKo0OwUkIi6k5-BJrRITUG5TeDGYvgusgEOwS1dwqqQ1OrqgyE5CPBmKSwfYNKFxDhQNQ1KsqlCEsY+swiZDhMh6HRD8AuoNWOjRjoMNdOow+QP5HLCWBsgdDUIbbUmEDDfOMw8gHMOGE+Nth+Q4klEMebQtjUyLOoYwHSGoYmhc8cKByQOHq0uhb0DYVsIOFLDohdmBYY8zWG+cn+ekRiNTWOiTg7+BoS8G-wsRkCv+FAr-lQIdDaE7+gRP2NGi25sC48eedJEP3wY09QAQI-gd4XqYehNhK2RwBZVd678MYVBUQV-0JhYi-+rhIwXiM5iEiXedRPERpXkDYiLyhhM0oU3wA7oBocxaFiBG5E9peR+HNMB4GZGYj5ARgaFmaUBx+snAQAvEVKPebfDE6fQamP8KtjiiqRgRE4fRzPaKjomyaViGeyBEms6RBIokXUUIyKjAhoYQjKaNtHChzRY4S0XyxtHz1Moe6B0R6JSgelkWAonkXSyMGUFD6VgVyNsODwEECilVe4bqUwQQkHOd4OxJCnU7h8HginEkLoDjbii42IIgIAAktEH4JiNkaxM6MXCujsxrIvzmyxWBz14hEUXMXQN06FiOogjQUZHjpZHDMEyLEMXvXDHPCWxJoayIkCMGEABCc-K4PXklF0d5hqxN0ZKITE2d5hJg8HgtyC6ODQRJtdxDZ1XGQ9ag9+EAZtwJ7WpRYRgYIMahFB0AjBE4xNsN16BTj1s9cABEF2sRDtJR8IwkkAKC5niIBIoILrvSsCgAeiAACUVqOAAAguAHACK0AASj0UgAAB5TWsgHshqFAKNxXPvZQzHW4yxbIsfjJzHHoUU6lwB8ZzBNZLibxo7DTr4lIkrYJWS4mQOzGolkJoCDEnRKmJrGsICCIEsCZBOglwTEJyE1ieT0om1tmJrCMsQQSXERibxjgO8d1kkkstxJxAFCNsMgEmZdYYktMRJNmErY8JBBbYQ6DGGaY0EQIyVFvEJSu8kxswRcNhN5BmSE+fFfEbYH0m2iMJrvDiZpx0nOTiA+khMZYAXiED0RJoKgTVE5Z1cBenLA1ha3OCUBxQqhW4s5iimZtlEcUivoiVqQhD7QMEGQG2B04wJPxwIVNnInuhcJ4gMEIKeX3AHwxI80U5pouDimG0XmZ7Fjq+AKJZTHAOU6QG2Fw7SDHRAQDqV1LbAqDpBTUvPKoD0S6dBpuUsKcAyMG3hMQEodELa3Y6lFh+GIvMY70ymWBspM0-CYOSzjyiip0DUngxE0iJc1Ed-E6SQIKlJJk89AiUrB3KSWIIRpIsEGfwPL6SHp6ZOfIiK+6vhuRakD0ekGmndSSR8-POA0Fe7ChCISIM3poMJJYclRKUYIKDJ6kPoTp8qHNDtM6kzTmOWXM5oDJpg6C7eDA-wjjKGmGDq6g6FUb8PUCmgauP-aQPpPmRgi3pr0iGR9OLSwimxkvRQG9Xx7MCTxYgj3od2IDrEGRmE8GXSXJFvTCYPogIJEC+kfETuRsQ6YQJOJ2wKkeAHeLrJDCWJwR9kSgVzMGBKzqRuPO6ALKPFCyYkSI5KMEBIASzXRF-BWQEBEE78j+-UiKDqJSj-gQieCNEVA2t5fSRE6gv9gtLwTLSTiuvdaVPw9ImBQAOsvWbdN-QBihRQY0OWNBIFaDURTMkOV6UGGAxHZPxSWcSNUBM9oem0vQZyMXbtjhR7zNOR2N96aIxAootROXLBqzZpRimXURrPLnIyT2KI5unTP4L3AauHcowpXIEFyi+5o3aFrTL6D0yx5keevNDwnlX9E5YAXWTvF7la8+shooCvqK7nvNi5YkV0daKqEVJrRs2L2ckFPmly6iQ7S+fWJSBDsb5rsrYH6MZiNzeR14pwDVNVhdx9WMGZAg0iwqzQAFyFXjveDHEPAAFq-PGrNOgbQEAFIufYPApnHxNbMT6eBQTO2Ad4ZAOU2oNBnhhctkWBFS3uFM+Fh09gswJKSvIAVZicWYkXCaAEbHeFWZJte8FHnoVRxOcgUyfk4CJBIL9SQScWSXNbEFsfI98iscwpjQ+Tb5RQMyDAsNzcKUx8CxRSkHYX-9dO98yRbXMDHNz-A547sYzFjjYssQ6CqKRZjUWLgNF5vVYn2JxTPC9FQ4uqP2j3pATQJjgGCWBAAAyitFCXGJ0TqFDo7k+ygAsBCsKq58HX9IRKoG3gSJkk6FhROImBpIltE2wPRPJ6MTeFgIGfmxLnCct8lhhHiT4v8WBLhJPwUSXksyW4VDChk8ennVDDSTnhsk+SXUo6EyMAFqkg4dhFtGtL3h21MDiBB6VqTqFqncOhkuiV2EGlBwoyfIBMnJQAF4VQlAnUNAAKkFYNXSS5PNluSrAHk6ZTst8nmyEx9wWILVIpb8s5FMyr0MuOyAGT5lGwpZRiV3KpVwojS+YOYMuH4JykmkzyTRMrEKK9l5SWMQnQyVArOYfkteqeVuFGDzFVyilnhPuXu8nxF3FMBjXsg7jUOSgGViBARXMLM+egwWb1BPEYqjIJTc5ZhQsW4trlli5FbsPqbkrtkfHARDK1hXvCExMwG8eXwNFOCP4xjQfm+N-gQZRQQA4VRMpro4hLAAK2KQ1OIlAhlJf8AgTypq52TcKcPZ8f12sTtK5u949VbjwASsN08CQWVf2PeHW12EgylccV1nTKTel7wolUTQRjg8lJ2klSWpP16vNlJugWMcaoCk-B1VKK6GarLO4FzfO3wXEB0iilJ0bxIizhQjzLHWJlFsgQ3PAr9gqriJvK45XL354m0Xx9kXVWJHvGSTjuRqmwAGt4UorLVtCa1YsNtVjK+luPVQC6obWcsHVJgvvHTzPaMLmIBVf1aatQW7CYOYc+uPoiXTig9IqCpkOqsVXur9Wmyg1SrKtBqdF1Sq5Fmp1nUGroCm65SXOs4n1L64kamVUGtjUKrt1m4hHs0C0kHr3EZSvibBPglITwAfse9VBMfWCSgl3q91b6oKrXqzV9AfUndBAgVBlOijCZKus5bxqj10q6NbVLPWJKRFziC7v+siXWIylvigJS+smAYaKlX6ntZy1-XhVUNxSoDR6hA3lAwNgFXHJvTFCI1L4urKYQkWcGXoFG6wihGZHo1CBGNCCqLKxpn5I46NMkAzj9AP6MEfo0BGjUrGUpcaIK-GzBaTn43QFIcMmmSDxsMK9S2NwWPhKpqEAibVATGsmYtyU0qcTM8QEEMcD0hXL5NMnTTQmM43UBhFnG4TQytuEziFCYkZzcCk8DEBZNqCd5hypMHIsHNwiwTV5ooCBhfNwmrpckhpUUQONtAPzT5r82px1eVLQLQ8v7Qtq4qtLHYgSssUQFEtjm3CqEqwwOBEaxWxROVpc3Ujg17mxUrpogqNb-NsDY4X6z45nCGhFw1ob8uSj5baVKm6rdxua2pxatuwryBrxCoFUZNlWwTSNqq10AUtbwSbb6KsLDr7k2W7agy1mj9a+aM2okD3zM2iALNTkNKK5s5VzL3hCy8YevDQSciXoaW9bkSwOD-BjgcW+eMdss3vax2mi0ML2LDHOKhlHpZENl0ASOKAdKK88q4XV4ogtEmCCbSkAy2PMNtLqmtNQHZb4rXtCgOLe9nM3HBDtNMy4HeARgBs8BMnXpOAIPpH0T6QUcIlAWpnKsb2+7N1hijO1ja3NUMY8k8uMkPRvI927yFcGJ1OQw+FYLQIAych91-m37PCb9pQKX9vKHo6cuIDrEvy5oxHRaHiLWlp9diMOybSBD3YusWdXSbCHgqtD-acQgOlcT7KHDBLmZfOtbXCr+ibb9dTOw3Ye3AI7asd9oClu9gN13t4C6hAsUhHvgOAtK1iAAJx4QneoeywZDsM0JkTMmlWPYZNcDSpvgJ8OHgQMzLfBc1BpCQZpDsAZEAADDIP8BJ61KigGFjC1mhoBa9TqoeE9J8jl6cGfg3+N9Ob0orE6bgF4aYLsyEw7A6EE-APF0GYiY9alTvanpMK6AbQibZvQmMIVqUSF7QFiDuCjXnaTBBBJHSjpy3SAiFS+67J7qODY6fdVEXfYvrzSkKCdEyNdu9qJDZazCWIJoPcCFoJqLIKYaxI21qAJsk2OrKVnfss7bEcIJujNZpC4iMAn9vNIaou3uA1EascPZvdtTQjoQ12bC5hfYE2aWcNoQVXCMurL1j79gCrZhfy2Kihq64gPP9kGtE7idJ1c8FMLnv2STqq1M6vdbuvdVoLiDuPY2GAYgOrQoD9kV7EKPnSl7zACBkCEgeXLqqdgNB+KeIbQg7RSDJgcg-DKKCiHZD6EClpzmLESwsD4h+vXgZUrJ7nhHy+ZS8uSj86CkhByxc0oKQi6h64u3FTLuYjK6CABVREP1N238s5G4Oi3ZDuNTHof2DOjfBQkhR0AYI0qf-Y+MvVv6P9ciptsHrXZTjPGLEDAxZEAPAGoj1I9xB4ZTBeHVUTi3w-GLI1z5MyLhGLoPLR33RMJJjIEZIDCZIhuoorb3UQdsNi7aQOR4hqUcJhy6XD4VREABIsioKVAJAZzvZCL2lajtFU1BSlNin4Io0UUoYx1usSDHb4ixxYjwA-FJJljwxrENATuzlTKpjMvBkHMsjJTzW9UxOuKCjFnsim72AolMbONPwLjmPSfk7hwA36rlMLDMYoHrEAAdLAIuq+UBQOQ+AXED42NTJUpqxkFKNXtAjcH+ClHLAO8aIOfHqJ3x+IX8YBOLS9IwJ0E1OLjSEAzChMYLnxXxO6AAAXvxAup-Hkg49PNNQAdC4nnDxJik1CaygwmQIcJmmHWl+QHRgj9AMI0BE+OAnsT9JkEw81Cq-MXstRrPDsVIA7E6W-EGFr9DwBImrDQprE3SYZPin+qkpsytKdAgNBZT8pk3eyZ2hAA')">let rule_counter = 0;

function new_rule_application_id() {
    rule_counter = rule_counter + 1;
    return rule_counter;
}
function make_new_variable(variable, rule_application_id) {
    return pair("?", pair(rule_application_id, tail(variable)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p57' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	  When <kbd>query-driver-loop</kbd> instantiates the
	  query to print the answer, it converts any unbound pattern variables
	  back to the right form for printing, using
	  <div class='snippet' id='javascript_95_43_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (contract-question-mark variable)
  (string->symbol
   (string-append "?" 
     (if (number? (cadr variable))
         (string-append (symbol->string (caddr variable))
                                     "-"
                                     (number->string (cadr variable)))
         (symbol->string (cadr variable))))))</pre></div></div>
	  
	  
	  
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  After <kbd>query_driver_loop</kbd>
	  instantiates the query, it converts it to a string
	  using <kbd>unparse_query</kbd>, following
	  the syntax described in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  The function <kbd>unparse_term</kbd>
	  formats unbound pattern variables using
	  <kbd>contract_question_mark</kbd>.
	  Note that it needs to distinguish genuine lists from pairs
	  whose tail is a pattern variable (and therefore technically a list).
	  <div class='snippet' id='javascript_95_44_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPoAbSuQCmjAIbSAFKVYAHWvOLkAlKADeWUGdCN55Qo2LipxQiwBGi9Vp17DoAD4-T5oHmEpJ05IyUxADm7izaxLoGZn4BQYEhztTU0vJKxLHxiYYpaUEhjtJqGnGeSeYlpcFSJAAm8viR8i0FtfoA3FgAvljCFDR2sgrK0pIAbiqE8j0JXsaBqRZWNnbVhXoDwyMkY2Ih5EpRUV0yEuSqYSzkADSg5AAW8pLnUYYmgZbWWz2SSaJSURj3ciPQwAMhhoA+Sm6DySAF50a8Pl8LgchMdRHZykoWEtdr1jBsAdtgd8ri0bmFlokXgAiYjE+Qs-pDPEicagOgATxc2Uk1HwknZJKZqz+5ipQMR3XOlCqHhWBm5h1GBOBSjodEoUWIJL0MqScrMCsJUlp11kjLJGtZ+sNxtN5C5uJ1-NdRpNiVCwsyapqGt+lK2ityyrBaiVqhVob2mv0WqOfLEfvdgfm0kWknkAA9NJYDeNzRH-lG7Amk4m45W07iMycbZI2qRpEplATIdCKdXAe27fSHXcUayNPRznoO-Iuz2lASub5-I0mtjLvbbv3nqAWfMIkpnDl54ve+NVylhj6xJ3u5faEGRWoUVWrTWETGG6rVHXG3fNN0zvOwHyXAk5gWT5i1LeRy1oPcP02YdvyRX81HrID01bXUQm7FwWiUQsSzLQ1EPfQdP1Qs4LjpBkJyhfcWQI5wiJIuCEOIL0eVA0BWPY0FlBJKYXxDOgkKolDqRYJRNHuYNRXFSUOReAC-2w718X5ATiMyFpBUky1rTQ2M-ywpjgJbPiQmtUJzgUD0jNSEzaO3Mdd0nA87LCZd5A9Hjb20sQ7NgsiK0o4yv3Ut9LJwmypGnFo5HGFRnKHak3Po8c9ynWhkoJFQOPC2hr3XDcaTondGS8lkkpS2git8xzEkC3D+XqwqZjg5LSD89LqOpcdJEsfBctAHgQOCnZ8oa9kZmnOh5AAR0WM1Ipcr9htG8b+CmzMZuIArUpmFQpnZKhZiWDb5S224RvacaAGZ4um4EltW3RSGuyypNc20qo8mqmNZD61u+tq+NkgBrT4wa+n7HjoZCTJyll4bITkXhRZGtIOgUVvBuGHP8xIJMi8xNtQmKkP2tsCHBMJ7L8pycZR6KfzZvH6bLchmZavRyaY5G-q-CykbpvCpH8zRyEFUJCYRvcRaimiHEISplcl-l8P1PnmtJ9bhfZtXJQ1zDAON178YyaRqFIaGBsGoEsuqxjHlZU97ehyG3q9h3JH0wybtu6mf3FzVrLekI5M0WQ+r7EPpJdgH3IY8aWVj+PlyvbWxFA4r4PI-Ik5MmmgO53UeyiQuuKFgdVepGmI6snlcDAUCGHwZg2CgOBEGQdA+B4Xl6fkPNCH6p1mVAXRZhNzKpEmRQ0unrwNjSAB+fi5BXmYJ9JdUig3oIAC5gSlQ+w2Pirt7t6hocITQxNFA+FNfMUJUvysXjn-QT8COfGOmg46UAThWNeBgAHmG3lnQy48Fj9QLmFIuECj5eF-sQeeTxoEVWGspA+Elq612LhJSB+hMHz3-gASDMEAqQ1BNAr3INQRgkhqjOEiDnRC5DcGgG3gg-M-VGHMNYew1gnCLrjC+NQSQWcwHcPyOQyh-8Kr0PEUdOaq90FQNvrPPMGjjqNWTLUFRfD1G6RIWg6+689Ew0+KBVQlihIclEkKV8ZCdEUL4RVNIlig4-1nlg1RG51EY2+pWPhAiDHhOuorTG-NDbkE8TYgwZi1HAn9o7XhejBGBztg7c06TQnAh8iTJyOSNzRKKmUlmiQilBPnuYvU5YcxmkqY0app1WkBnaTo4pjR1HgSfEorxUT9FFWGYohpf9mmKGYBCSBrIACqxBobEGoAAdzsEKPQSgiygAALSHImUIhQbV2pZhAdIQywgXjVxVqkSg+BQCqBCKWSgLAUpXUkI44QaYpKh2pHAkEEQvmXQcdNVQdzQAPO5OYQYs9pBLXEC8t5iUPCtF+VC-5yFzCLXIJsOgGtCWolOZPBQ0LpqB2oAZKlxBvG+KZaUYsCgjqFiweCWgTkfHMoqgXFxIlFASX+Tgvl4qggPLFRKmVyDOXMF6XcXF8Kgj-QesOKC+YlhlhJSE3x287IHw0Wyu4OrpC6KZefVo7ROgtAGAipFKLLTmHmaw+lKy1kbO2QQN6csmFHJOXAniCK258XwRKQhqhYJ0BUYC5OdhZLyWrqAVEAA+cl-Vq4qN-iWXGoa3p5M6idGZwTAVqvCIQd48CJ5T1ml1UFXQFGUuUY0tMPiukUsPpo+ti14l3BbbM3x59BGdvcN2k6cjzWKCkVdQJf8o74zybE5WsbnXPNeSEGWcsFafUxlrPFGUgTWo6AkO1GxEXyGRfIVFG6l560SazK2cbSgmRHUgxm+tyn1LZk8ed57HXXudYEAlDNGBMxRJqxYKbQC8rfZSjoYHP11KNhLX9wT7WlHXei9V2xINLAQ+BpieGAVAZfV+Ajn7Hh4Yw2kC9V7n1pFfTE+JETeXVkI8h5JWs0Pzxo0EYYgRhjajeuGyQJBsyntUJfR5h6E1ySkxyFN6aWQACpxM9K6CplkLxpPW3pnQPqxAxSVvPI+RRKSUx4qwyEZd5CD34toGEAUwtoOxIfWTSsfHZPAi3fLZdbM2NmG3hUaQgXQDn1jroZEhnjN8ymQSEVH73MoeSWmaVMqggGbyLF0zEFxgSTC8y+xO6iaqF5slrjbNW6CYAwx+NwJ4vWMs7yu+u5GvPncSGJsvLz4hb40J0euo8lZJLfPQFIGg7QayTSul5C+MgYKSoBgZKstGeoCZ9r9BVBBxVWYED6m3SnuWzvJmykDv+i6E4+2S3dv1bg0sIOOa2X0jnlyxVV2+rIvSxln7QRzvGi6DGmDv2QeBD-npobBjakC37f01tZavzFcNdBVQYX7tlZrFYnhXiVEQ-5HkiTFS4d-3G45wlB9oPo8J7maCWPRmpIoa2vjEmX77xR9TucnXsiBIPiovjJkD4LrHgYzbo2rNSALqL8htDKaBA7Ug6lm2ZEaN8nOKXOO0fBI2BFnprO8OqCV1zkx4YXiFYqujpXRqUFcR-mbjL4OWx4E7kwVg7B+5cCHmgJ6g2da2kYJWt4hkix4rVZkbIuR8jB+B3og56IyUVuvT44djAFmqCLJ7LIOQ8izxLAuBQLQXiWG+pQK6LRT4XKhkoWG2KDqqEFVYYVLxHvw+dajXcdVMXstAtpwr9ephA+b3+oKNsMU1CxX8kPX5XZAyVXlMfXfpq+3xgKpcQqwPQsn6hbaj18AvEmpXfkBcAn4E30Ne6O1d+gD2gf-O1LXsKqcifhHW-z875eC9IXuokeY7ftOE1p+gQ0ZkctVtNQA-8igb92xgDFhVAD4ACRxAZ05edvIf9oIl8eZUCtVjV6k4Dn8m5w5Gw4C8cxAvo7ZDRogOVZg3snISdW8xZGwh9Lk7AKNflhIlhaDIww50JGC+JSDqAlpA5bk2DV11hvNQRwRoVhCmceQQN3gYI4ht179uVEhoM+sfcxBitu4OR35xIXhCF4DQBxCIQjcgd9DICmAORWcRU2DfhRCgVox0ItCSQ85mC2C8NrCORbDZd7C7B6wnD5BiC7BWUotKDqDv1FIvtQA8wB99QYJS06Ct9dAoh3gdDsgRY49+IkiUjoi9VOlDCwQIRNC2DUjIicim9YjKDcjShz4chogUiTDDAAAeTIuot4WAm7NjARFPN1FkAAFSyFAFkmIEFFhUYCiCcDJgFCflAS6HPhZFAAAGpo8fswgIhohnlg4IiRYljQD5ili7dzBVjIgogNj2jkU21mVk9U8+iBj8B5BNlRjxiPQGBiVrlKBZiDxFjliMsjj1j8BNiPFDAdjWQviDizBfiTj-izjkZAj+IshH5n4jd9cjdV0NheCsEZAsh5IODGg+JVsSjTCbs6tvNyhzYCSqi+UBEMT755IwSXUyAyDjjQiH96lwcDjz4jcU0MQEwGi6Tt4Ewci6SOTDMMJySXh6wcjbtBNoEsM54uT48sRfNmTlDZRYNujjCIiPVMhWhQBL5g1Sg6MnVeUQN-DoMWD-Co10NeUTJ8T-CrDJDPDvtfs7TI1-DmxoEBMQ1vM55MTGFLTeN818YWckS34USoiVBUTAh0TZhfTsT4joE8SRSTC9CiTSNGMp91ZNZeSJUqSYyaTUdfs+DyCa4lD3s2SJUOSIj5TTJyS7dt4lo+YBSlsUzpAKTLUBQRSsItjGcJSbspSHUZS0U5SMi5DCwFD5ZSyPR7M0hXUNTXwtT1sjpdTFNjlYUekAp+yzBDTANjSycLCSQzSksLS-0mUbSRS7STCHTnCnSfsXToIPDnDNzQBPStzODqQfT8zGD24fUDou4e43dOBB5eAMB1D2wPlwUS9IVa9-lRZTZRx04YUWRwLvlOQXDDCwUULJBPk44klpkYLG4HCzI1BcUWwQNkKIUa82xjscoAE0YlRQDzAlRmVGU-F28kwGKzAkxmKbyTs7gkKCiOL8jwRuLaL29xxBLxwRLSg0ZSTKhQDZLpAKoWKgg0Zko6A44lBBRQC1KNKRiNxlLAg0ZZyOLZymUDLzA0ZZJ3g5FnA6BtMrK3gbKGBGhzKzA0YFjBLzA08XhBRDA01QADkli9LXLeLVAWRDlPKzBvLQBfKlMAqjkYqzAQq0YtMXg0horYr-KDkVNErQBkr29gBIrXl08Yq-L00DkwBgqeK0YABSIqjKsq+Kmq3K-KxkFkOPTyhquK2PDEXy6q9vAAQnRE6pKsyvKtACGrJT6tErasaPqtGsaoOWaLMGmukvb0aNREiq6qytAA2pWtar4tTXmp8sWtAHTX2v6ratTU2rSsCG2vGuuoupmr4oGqKvisCH8rMAGvMGDwAW5DIowoooLhMJTWgUTX-BjBeHIsgsooS3+r3Ohp+QLmoGcAACs89lswb5NhA4q0ZEasYay-CSBgIeKgh8bYb8tuQsAAbPlMKCU8hkloMco0Zj1bVQDWbT0QrQdDL29IBiAT05AtK0q+aBa5Yubua3L28HLJBYBIAOLpbZbxaJbLLlxHKABRQS6WtWpW7mtGAAOSUD1qKoNr1rbIlryoGBpogp+Xps5y2NBsaHBpeX8oTBPyhsBphtttS0toRo9ptrJwZvcIdtKCdripphP0Z3Jq9rzSYNhWuXlnJr+RIHuTGPHAMJBUiDEyOkUBuSZNRqUHmAMwiFlgLPFXJuwpyA9DwuJtJsaGrjTr6CCEDP0y2GfknPqQMOCPZXbrNDC0iyOjrz9qgrbCsNN1ByjoDrtsBNrrSH7u6ETupRRvRooCBzpPQtpooq9vcJ1sCFHKVJ7oMBbByEJVHKiDtmcCKgPtc1buVPeypqd2mj-Ndz7kAu4EwFAtAHzsLtIGLr5iNVLHtiLijRLAMOAVAXAUQlgjNtazavkQge4heGQVIlQUgZAZnqCHBq-v1B-soFljw1BUAYNBTqiAkigYuOqIvm0KgegRgb4s3lAKROUm-jIegWHRLE-35E+kYD80FD2SLAIe+gNGAc0CszRTAezj7DIefRNOpU5LJWgUYa-m0KQc4mLmEfdLSABsIaWnpAeWg3Bq4Z4b4YEaLmIdIZAf7JMmBqrIyP4vBBZBoaEohATAAcEZ0bkTGORjUgIL-FcaLmuDhXIbSHPmsdfGrJYluAcbyL8YNACc8dYZ-JHrkYxBZCwaLtwb-rQMcaMPpSSc1LC0wYLuwd-vwZiaBweXUaCbPicdycgjDLKbiZIdu23JvWw2YYsefTbzavoexgiM-hUmlDIf61q1I1fXYfPWbt1D9XYJAbwJThBAKPUccYTGocGVnnVOEY9XWS2SCOQa4leEFCYXQN1HAMFnUbmbAsWdWdKG3nrGueCfWdT1gi2a9V2dUY6loBNTsthNdEUEghYUDk+CRDaG6CgYuYOaYXOdsd+cYE9HMOBbkVidhekQCTBYSPwPQlOa4yGbbjwBERGWxFPHkChsrVhSXKuHIG-O7ld1IDeDkimFACeleSWnpiei9y93-ljtdHtlUFhkFELwXFYRaBkx8IvjJKLyFeRnbVAA5q6CT1nlWjSj5e8fQgTAlcYGFeAk6JrPVc1bYx1zoB5eVdeEbF1ZhI4Y0Kr0+HOCJdUDxQW2uxmBtZyCZvbxU2dfkC01uzDXhKfl5fkHlh4BeD5ckD2jqxA2JWcA9eg25dIH9cDfFMbEWydZPByA0cwzEeaGzpPUu0jY9ZI2tK-FlbPUaBabTKCBA11ZjYNCNYDdDcTY0kICjdTYCKfJJKzbaBze6F1bNv1RlezdtXZJNb-B7a8y9PHbMBsnoD+fjckCDdABDf4BbMWGnLAL3LzZbercNbjZDfnfrGTcJbTafOsw7ZtUkw3aJYLaZQbOxD-APY9fQYqhyZyl3ahsWcXeXdbcfb5X3cdcPdbafLLd3JnE2A0A1a3drfliXeHbfCbfzbbeCEzazs7dtQxzA5aCvaCBlzSBvawjg5bZwWw9+xyZyY-fDK1R3oyzw+bcvfdKI6A4lVw9NcFY1c-YQ9fNLYmajLeh0uXFpdUBYFXZMjYFsfvgRKicpLhIfifjC3PhE5SciCWlhYk-FW3kU7+bNyuLdRYBeZ2dAHxcUQDRNaJf1I49Fd4-IFpdIr3IM-+c3bJWKw9btZ9pA4peg1s+kSc5Yl9c0B4jItJbJQ8+fC8-U+U6psr2r0kWSmiHaOPCJbY-BZyaPEoAI-I5XfMKi6ZOS5be20iGi5+HBYTEy+iDQuK5rjfjK4MPrEq4y7y6ZMzotOy-i-3ICPBdjdi5S+a7dPMK7u6Ca5yE-cQZsMS8WeKzK469S7gKG88ItfbCPHOfRfmfgpymeYPHodhMU9nCoH6lW-8JeBIG1PZSPEkDpaOhyEYDxT4g0E0HgVmfLZPagghCkfLeAz3LK6mzq4oIa+KN25sLHfTNNmLdy80RK4OO3gO8XPpGO9O5aHO82Za97YyWu8MjK-10q8A9qwe5yee8LdQhyeR4hu4IsZeAJ7uYsYx8vSNNPK-Fgn++fK49FYJ6gdm+c0sGJDkRARCLaG7EFFzfne580uuDoDDcW-bBC3uEmkcYF95-pGF7tYSZyZ5Mmm-aisatWNyBYA56YXZWl9zfCA19vbfGV7XpB119l72jQsiCmCzx+TN4l5eDN9CBF7fPmfF7oEl7yMd7l7NvPkV85mN-FTtbiqt5ztyFt8vUF+6C9-4DtZV98SD-8vV-Z6wkmndOE3xiT81-wG7ChGxuToFAMOz+XDZXsjZ5YEhDL8kCdvz-Nd4jeiL-IBL8z4r419AczNijL+gd1PNgSZD8YBt8+Dt95R5P1+JB3oT-TQb6b9H-L8z8N5b7H7T4-t66wolEWluBwJ7E64G9ACIn3DdNJxA-e7JVR+++0P6+JYR-5wzOQ7Pcu0q+ld64m+a73+m+cPldBEb+nSr747aNR4q8+4-AHey4N-gERZ6f9zoP-Szm0U-7AD9+w3UXi13Cb4A4wXQeYo4xZAoDVQaAhJoTDSiwDd+y4QwI41NJmBe+Ugebp-2IF5EV+zyFXBvzNAEDX+CPcgQswkJUDQAcIYEDkz35d8IB3-Kyvx3rBUC4+G4esLwNEGNB+BtgKAfxxcZEDJBIOBMBIJN7io3SPvA8FgJyAtAWQLPYssfQ6wz808BhHJiVQn7d9KgsJWlguGhhyIjMMLPsA4PGAvBDGCzfcK4IP7OoQMggxymalJT5Ev+MgnwaoFcEECnBtAMeubWZQeC-uLvOTNAIejEpzUyA1AToMcYhYEm+gqwIYLL4Cdf+iQ3VCz0IACE8uxYOvEQPBY2ZwgxxQnvPSIGwkKWpfDXvG3nZ8tner3EDsdgpYtDg2Aba-HEOBBA8RYwWc2OFgFAs9Sh-DENuKHKEWgNgIGPltBnkGH0BhIQebny0MDbwWQ9DMYXyyPpWBQAvRAABJq1JAAAQXADgA1aAAJV6KQAAA8nrWQBko1CsdO4gkPCFbZpBxAUAQYWKGfBJhsw86F30aGTCAmSLBLECOnQaDGhKgbpEpwSzmFYRlQRFgiPyxB9EBxw04RcKuG3CHhTwpEVYCwrZ0iw4ItEY5ihG2ADCjQ5vpMMkDTCxo3wxnJnAhHjBDkmfCvPXzy6oi-m6I74b8PBZz8G+4NQLHvycBKYzc1ggONlk+EG5lwTgN9oEJ+EI8Ve7w2ljyORYUj+RCPHCMfQsAaxPgGgEgAyzJQAAGAYLHQSCbIRoBorXhI2kSUBugIeW0UaL0CKBoM-uM8K6IZZLEeA1-VCJ6MNGLkpg5hYrFaMe7b8lgF-QvLaLgaKIsKGHEbhIW2GgEcmgYu0U2gdEF4YOz-I9rCUsCXwIxLbKQJEDKwGj7We5dMXGMgiOjVC9xG0WeGrFZjnOaJX1JYE+CbIVAjsNFtAjVTzcwWLWQYla0lD1iL+8PKsW8XgYJjEedCbgVcxAaDicm+vDsV2NqGVNFBrwdsZIE7HSBHYZPERlUzWa08GezsXwluJ3GOxAxsJNoNr2FZih8gq3aMQj0BR8Rlx241ca13u5Id+xmHCqLKUVZqAnxrbYkmRlQgJ46eNWSnjuQlQTYPuIPGuGf0Ga-CIJoExeLfy7bbYZxTKbeCgKvQm9z4b4i8cD3y5o902FUYYNQgY6+I1U2Pagap03HyAVxu4tccBL8AMSmJe4hgoeKHQEAls8gOni+Xp7eZCJH4kBiz1oEShtA5YW1k+LzACivBb3QAXBJImISoxW-VLt1w2BYZvqIQIHujzqwmQSAGxWQX-0AFo9ABjOVQYEDklX9viLTB7vNzzAkZQceAFTG5OgQTYlJJ-MyapLOLITexX4HSaewwkP96JRk-4iZNzHEsrJgQf-ijkq4bj+UNhWTjnmexRSWy-kyCfRiww3iosDCfIDZKfHqC1grk9yY0BMiYDUhug-9FBIMk08iwaU2SRGSv4TN0+9McKfLGCGaB52mgaDp4IGGmlbGWgnAXkUqnYC0hR4gCXXh6l7QSBbBVgZQMmjfE5cqUkInQKkmGhbW3UqGn1OSlrM1hPYOvGG0cYSSQQ-BTaTkCOlQ152B-UAKVJUysCSOS0rge8kWa9Su+HUyKcIID4g5hBe0RKWYE+nBCXGP0qIWkBcb-SYpuJGwhoLGnaDqpbUqWA2J+icY2+W4bKJ5C-R6BWQgY45h8wZLFCKwV4wrj4zUBXi0K6YgJMTMQEKVRS9YcmV3zRgqBOxgoP3IsC5AJNm4prcsUvy5bx05EyMssTv1CHF9p0LgxYNw1YKeFD+TmLsBHmRkejdAlhC-iWPyBXj5se5T6X4OgxsYgZv-EIRLITqizbAAMjoV2EJk8Is8RmK8abPMAxCZuAwrWfBBJQpDxpKnIICMMqC4Ca0CgSQIYyFmfAAkcs7LDbMKxZCWERmZvk7KSGRw24eorEZIGuHLIAAMmrWeEWDpAFoviGqN8EGiJI2o-qd5n+HEi2gRYSkQykcagiSR1wQMfnONkVy1myImYLXJbHD56YTc5GRJAMIJyk5qc8AISL5hgj6QLcpkYKJn5a8ospdJlDSKMF0iGR5cyjkyhZCBj2RM-LkCrxnm5CUxOMg0avLL5cgfm-MkefXPkkDChROfEUXykDFxUzcIKYiIGIDmKjzovw1UVYHVHHylRvw2EoaDiBnh-ZIsz+S1yaFj8x5lfYUfJgTJsEb517ceXPXnA89LshWE9Lo1ZEUiAFz8lUYVnMEgoW56CsWTqNJoXkZ+sJe7H7MNkGzFA-LIBZnwrEgdloONMlN0OmYULuGzI0hYY1M71ZdJA7STPQuJrSsf5OFMhZQpYVUKiFnfeVnwtGRuizmhjRnOItb4TDVZpcnLhwJplSAISa4qgcUB8DAh5uyw3mXiRYSWANRNYozICM+GiNb0Jc4sDl0sWrsFhAbaDHPLrYzDLFdPEDKQBsAFi+Ynw4BSJzBKbzmhxrFkeSOIB7yNenCwIJoErTxsXQqC8JRyMfY5NPhLwcwV4pTyBg-FNC5piM1amx0wgrCT4OmMzqAjqZ8whGvXOgzThzZajdWVpKQ6TDVF9c38RWz3KLCyULi+WDMKZEeK9yGSnxcjP8XB0MsQS4kHEu8i7yORT5GJXcBCUryklvKNMQaLSWNUBlgYdMTkuGa1TnUA2Lli0GHm2ixEsoyxZUKkAPzTljjBFhcoSUaCEWJy25fCwOWmKKwpy51IUpMV+LSlJI1QO4oqUgdsgKCsJcdgTk4ibhdwx4f3I2CgrLh4K-EenJSUJLVlcVQFS8scy3YKpD8BGfssOWXTylgQD5cUttHfLS5Ac27CBlRW1zoMPclOWnL4w0q+50GZZTv3MGUq85GKr8CyCxVKKxysseWNOFRpQpo0aM8XsKvMIsEBV+IYRiK1PE1kxVdffGOVklUiBzGmgGVfVn3F5o25SMpUmpUFW15hVZys2JrHlXarD8SWPVVKsNWICVmuaCmfBDiwSB9VK9aVVVwYJ2rzCCQKIH5HpD+zrVAw21WqqsG0BUa1AUscqpXqgD-FaMpUhGr7BxqpWeRBRcSASYCqw1ash1RomdVcYE1i8sHD7M+D+yJVIaqVbmsI7m1k1gnHCLMrCp5AdBrIdhYbNAJprIg4XHjk6vTUG4nV+IIHJWpjXjkOw3a2vJapVVd8Mh+0t0f3zD6D8I+MvKeb4kbUiKWCI6igF2roDZqvG1C4heWqCDmC9Vna8rCuq4xHqvGWAIjhKj7Xpga1XKxgLsUXXcNtKHa1tVnLeherM0njKNTQtAUG9wFtJPlINNTRnqNwtM+9YZDfX55hF3DX5Z4zzWMdjiBgyOUYPUE0IqkAoeDdkMQ25C3SZ62hL1nNg7qoybhGhbiGvUbJPQDagtZBqFq6l5A3qhQG2sXSkivFlKHsd6QLXw9T659S+vKhVIrDEZ-INJjgzwZvwpUW6zvlRBtLjzf1860oABp8TFgFwlaJYJtwZopdKUdJBMHClAEAzYCiDMqib1nK6blpEtFkKsm2bepP+4ZRgEZz2I4bz1qTIpuk2E1oEtWfbcOTkOaHYaeJIWdBn2pI2xKHN39EpgfDvWUaOFLwQTcFughU1vB+yQdepR57QYAAnAMD4g6Uee-i+4Jd3bUJbNK-irClMEhA6ZV2D3N3pqDqz2S0UdgDIqaNXaBB0tmlVQAAHImtrINAO1qiUOodlvKBrYZBH5kSNwvW-LbvGMLjyLIjOOwCcn3wekTxu-CQLpWG2Fagcskfhr1p+bSAWZbM5TcaCKWfriF4LStf5r4rMzNKW20LYgl9nhbYUG207V8H9xgCP6ZTKjW8mICzK9CigTIIaDFoyzCUy0aDK4N2TnB+GZTcoWBmU2vbSWOxPoAfL4xYYrojAT7YLQmopNDQtRT0Ku161hVjkJyMpqAEMbiAIdhKANBFX6DGazAmOkgEJAEL-zmwz5EZoJKwx+KAWrgORAcsuzLRWlgQa5UcrYQnLnlfigJBzuPZop4diOuWMjrJToxsBegVcC93MCY7wq2OwNAkthRs6WgxO7HV6Dp07LBJVEtIArqV2rl8dfghgIbuOSdbyd82jLc315Rz9L5agqBWmjBKU6ew1O8haoJU16A1NSwZaNpteSzA9NcVKhKINA0hDsY6GiOZlpCzARmmkzc1YhjsF0BNkbgSILMtoVOY-tZKAHbwyB0mMhGVO8HbMq+K6CYd-ypzP4WOyh7fdaG6IAhqj3mwBtaqcXhXq75shqAQ46AccUIHnAHG1CK1K9td2FryFnu7bpSmr2u02Cm6ozU-n8pUIWef+ZQBQGEVhBpEskRgI7Av4iqnArgZxqTKimuabmhNRsL2Ti55ji9kgPYqz2OKnEaYm+7ibONv3qTaO5haoLJAVguJ88FfY4uqpMhKBSAXilgBrH6j3B7k-+tXl8V+X-7wm8xLYfMTmIgklif+0gLBrSAsgGG1Q6IFqtjou6wdX+6IGY2IZZ0C9vwahGfIwNRBi9YVL4q-uIhLQP9l2cGsQhwNLQzGAKHYvoGxV8RmD1rRQOX2rhb7NY-BjASFndmAJgQOUfg5wJhB8I2mZJesPwZ0VH6-wChiXWtw5l5E1xkh2xvQ2lYL6-9fMT6CvufBr7HYQhnidhibGIRJDcINjESGlAqMSo+QBQzOK2FUGli3Br4Lwc0OeNoNPwNg2TtQOfEliijAZvhjvx7M1GKh-YsynmKX6PDUwcvjTAqbOGgSbGLkKIYebcGwq4lYhvtwH1g7PDjAKtY9MWZmHD9WRuxrepeA5RNNYxHso2AUN5GC9hRwTqwM0VlGt4B4JrZfuTQ7FujmQ8g6cX4PmEPD-8w2QIbUAkgXAbgBMHIttkWV28da3Yqwl2JkbdiDg3YrjIP2dGsjsx8Yw2zUBzH+2zRhIxoN2M-gjj9YI46MfGMtgnt-sprQ4NUBgyAAOlgAuWc92UALfAKwnL4+aYqJ1AFOKla0HhRd-BVCgMHuPkLHjEI541ELeMfHbxyuH40UfKESFCAehRnFQpyYYnQAAALzSxmA3jkqT4-SG+O-GjNVCgk0CZlQgnDwH28EzxBlwjAkseQJPW4EeOknkTFJ0atUcWO7FnAuxUgLsR0Fpgmt3IPAFCZEWcmkT5J1E7ydCqZwBTQpkUwfLpNeggAA')">function unparse_query(query) {
    return unparse(head(query), 
                  tail(query), 
                  is_null(member(head(query),
                          list("and", "or", "not", "assert", "rule")))
                  ? unparse_term
                  : unparse_query);
}
function unparse_term(arg) {
    return is_null(arg)
        ? "null"
        : is_list(arg) && head(arg) === "?"
	? contract_question_mark(arg)
	: is_list(arg) && 
          (is_null(tail(arg)) || head(tail(arg)) !== "?")
        ? unparse("list", arg, unparse_term))
        : is_pair(arg)
        ? unparse("pair", list(head(arg), tail(arg)), unparse_term)
	: is_string(arg)
        ? "'" + arg + "'"
	: stringify(arg);
}
function unparse(string, args, unparse_arg) {	
    return string + "(" + comma_separated(map(unparse_arg, args)) + ")";
}
function comma_separated(strings) {
    return accumulate((s, acc) => s + (acc === "" ? "" : ", " + acc),
                      "", strings);
}
function contract_question_mark(variable) {
    return is_number(head(tail(variable)))
        ? head(tail(tail(variable))) + 
          "_" + stringify(head(tail(variable)))
        : head(tail(variable));
}
</pre></div></div>
	</span></td></tr></table>
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.8' class='permalink'></a><h1>
    4.4.4.8&nbsp;&nbsp;&nbsp;Frames and Bindings</h1></div>
    

    <div class='permalink'>
<a name='p58' class='permalink'></a><p>
      
      
      Frames are represented as lists of bindings, which are
      variable-value pairs:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (make-binding variable value)
  (cons variable value))

(define (binding-variable binding)
  (car binding))

(define (binding-value binding)
  (cdr binding))

(define (binding-in-frame variable frame)
  (assoc variable frame))

(define (extend variable value frame)
  (cons (make-binding variable value) frame))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAwpBjlSrVWpGWm8yaRAXTeKJFziqo1YSI6anFpsYzylavehUg6iIHrZk4kk7ch7aV0h58hEKhpKpKgUWqyXzMbCKYGlalT3q53+mLNDmjXIhJ0rc6FOOxZFXZLvMhg1mEvxW0AAN06vD5+umlIENPtf0Z5s2GfZNs53zYvw4-JWQpFqSDUrLsrJoepknutq5PIdnBDfZ4NtI+hBH0tbMIU8txO4ebYBcmY4nE4jw8bPZjWp1epeoZLcR9lY2LKzK9rtu7Dpbobb+g9Igl6sjeTlp8KAEgVmMShByyR8-jHQDtxWRdqGnWDpyJO81w3LdoO3CNwObfkoJibViF1f4-wnYDQO-EJV3zPlNX9BMGjo0AGKTVFQGEFJF0oNR9AUXtFUkZVQCUAFhNAcF0UxQhwXHGZgXwDEsWkppBMBETwWqYxSEoKT0NAUp1LTRSGmaMh5GnBRuHBABVOgvDofAAHcXCIMgqGcUAAFp3NrP54RoxjyVdFw2MMDi1BOc4sHPZyKFRJt-iBG47l5J4TnPCQBCBaLXPoOKIXErFfMio0BD4DKCBIGLnFytTU00wrpFAZjnEMRr5CUKA4EQZB0DxNA8QuFE3OIFCqGIfRcgUQh6GIOhKG4Gac14i8EjdUUQS0Cgsgmqaalmv1plKdaXMbFCxu26a9uk5pRTocgFDOxQdpmyh9pk-LCAYQxfAUFh8BOqijG+37G3wGQ0juh7Joul75roRarvdVINEIEFuVRcbHuh16ilKZG2F8fRhvzUb9CanLiAAD0IQI3GcDGod2mGWjh6w0PQ2cQNBhhTsMfRyFIMQGEp6niFpo16aevbYcW2woOu1IssoYIGAmlhqmyugJax6TSiJ9cScV5XVfV2KlYYPHqDRunzsZ1nmfh-15ZV+g2NRTotdtnWWjXZ2RGoN2tsxxnpex1ZEYYNg7pYYRyCFqmacMa2g+e0PYlKRLiAYMnNcjn6Y4YRcKHujbPqBv7eZtlO2Z0hpc+j2PfuEAnK6l+3U7DcPjHaGblEhyWXq9vXPraAtHDGrvR97z7mC0e7Zor5PW4W9vQCd9gPC8D2U8Hn31+UTeW7mtuEdFQLp9GuewUPlfdZ9s+Pgv56t9mkOT6R2mxDoS-n4H-1b5+c01BP7f0Pq-R24cKjKEjpVegP8b7ex+JA6BGsf5gINMZUgplUGiWsrZByLgvqzXIBTDyXk9YdC0IVCK2dBCEBRgTZE3B+ZiDCEWd0wo3ypGptQBQ-tqA5kztnUmDhfwKkCrQ+hBdSA8L4QIrOlx0aMMEALMINF8KEXYe2Z2UNyjyMGrA5EoiGjnhphkMq5CSbZwYI3BhIjq41xWJTLQIghZwzgvQb+hkHGJgUVVQuEMNq80MfY7xBpmGGBCaE6YViFruK-k-Qxz5CjiNPvxJI3MAamLYL-PspQz6nV9s4sEWScmhmaJ2DUyx1EngVCZYIwi6AWVwXZRyjVfHmEoL4EgpCJH40KrEc41D2lolBAwLmPNCZUwiW3NhMRxE3GxMwwEAA+BB+stB8wFiHeaUynRDP0S4IebxXbOHdqAmZxEUmpEoKQfgqgCYWI2ccvh9AfgizYmjPuWMQ4r10msihD0-YB19hPJ+180HoP+STZ5wLOgbVujQARcCQ7hQGsmNZw9u5jyMJQBQlBpnL1ma+UUxBJqdMxZPceuL8VGL4itFUH41S1D8tU-4xLUiRw+OfWeT8Ph4omLMlY4jHljSqKQLlD8eWzRxfy1my8WXHiIiGc8YqJXUoyeueKoBDIitJnBNVj9pV8ppZweVIZ2UMHyQDVVIFjUao3EtA04ibXTzxfa4gfl4yKsFXSgSQ9QXYq8bEGmtqZ6kuerzY1YRTUs09QM8kgy0UsQ5mMsGDhAGfylLde6rDLlpJcAs-Q2b4qrKhOmj+6o4TcGLaos4Sa3KGG5IwfA-AGBIP5hrBeDMU5Eo4aKANvc4GOsNO8Us1KWpAgHZnSV4b55wLjXM-N4dSWaFxFOmVNKg1-PSJkLdaw6EzUGI2oQYzW3tpge8PV4rQ2GrBFGzcW6DTHubWekwyDUS80fX2DOFKe5jRDdy2d+KN0TCSYxb1xFklLtFOelB19DKHVBPoWDsUvo-T+kOwyzQd1sBZXWrANCh57wPovI+hLiLnhsYyYj1j8BN3neSc8e4J3UibaekCKHmr6BsYeGI55y2J0zaERkKauYCaAV+ZjvHlp+pGhsmxOznHCFcTmOJ39mORKiehcTQnplfq00UZeez63mCHvfMNIDSMh1mfM24mcrWav0Fu3VZ9hYJyTt2peLNjMEeGRijN8TpXnPI4x4quYqKMl1QFy+7q44izFprcFbc-IBdLuh-6jnovPTS8DZF4XNUooCku06qLfMHIxZx2BwWWZEtSFYyriXSPWFwtqkoUKNn1bfR202+AQXMFmm2rrF7kXOZZuSNYFact-XdchobGspuB080zfTji5NjQa7FtzotE5Vaa5pgzsQjOlbwNnFqchFAQBgPAJAqA+poGJCZ5IHL-bHTgTZ6DqR0g-TIG90AAAfP7il+03OqGIX7AOgepF+n9fojWlvhAhy+T7GRFv93CLERH-p3wVCZYMa+qKaFHU2jN6+kRChFfpSoUjpWaGimYGICQymOYbp2H0e4YhHVXILkuY14QABkfPej9CPdS8IwkgSUDZ-TmnfmboQze3myndPyAM9qBHJD5zwTFqoY96kZcQZg2LQrinAk5j6AjNfHztP36CcC1fJr72lfXJV4z9Xc5NdZdmjrmhnvbX6+N1BynZuIzB7rEO-k5wfcVpiwUrbCWA-BqXaH20FumsR91zBub6NeeO4Esr1XTOkPGosiWIQHGs-OHhP9wHSP2eu+Z8X0SeZpEOkG1A7rleEeA8j35jbaHcs57-OI5PWQR8bsmOnmhG3Y-x223TQfyxh-C-N2HzCov09lfRWtKO+c487c1gvxPTu69q4b9Siyddd+z4S97vzl-Y7+OLmQBbkbRdsNs9ifv02ubFu4GP3nk+d+O+DcdGBMh+i6Qey+EYa+eKE+Mu5WqS9KgG384BMmq0zuBebud65+ok5mt6t+5Wrm1+++4+7+SeUBYeAB8BW+qQMKpyYEb+iueeGB9eReOB4IdBryjYe+ne1ekOJ+hec4jeHBLsLyt0jYM6l8BB6KnB4hUitQlsJMqB4iKagQMgLOoAeIxmNCshPwlII8vKjBi+S6qhlQGhpIBOfmuhjYcKZACK-CVKsBZBlOph6hjeOgVusuqQ66yhH2AhWBGh4IU60hLEP6Ph46S0KhSGQRBhY84I3A96lh5WU6yBEapBEQsQxhkBIwMBL02hfmLqkhhhsqzhpuy+iRdaNCAGRRc696pRbouRtaPeCBqQK65K4RJRQ+fhOGIG+RLREc6wN6Uq2BnRWRzBaQKOK+D4ERnh-RxG6RJu6B-hZ+eKFkxGIRbkNGNiCxgeZRORlB6+1BLEooFsVssCvhx+9OrBQh7BpxGsGx5gMSxB8+RhR+exgwuRgB5WzCcW7m4sFx7xUxWQnxG+J2wyZ2bUl2nUN2PUlgGe1ytykuBMFMnOfh0OHAQg+gKJrWf8oAJC4u7Ity-wikGCWCFMaxckGJhyVMJgWgwgAQJgxADhwgjQOum+oRdmeiyY+gj+kgZA0yCmFyixIyc4IhOiLi2c8Rj6vJgS3AgpZqzRNB2iU0uiQiMgqJlxLup+SGMgJemMqpwyDxLgViMp-JpMGpAkrhpM3AWhSR6KVi2x6pueboVpupoAFhlRBRwyKmamCSFpLpoyah1pugsx6KP6DmBYGMs0PaTBAZopEZxA8RVO0Ze0dpxxqQCZ+gp0-pT2yxSGp0FkCZRpaBjABSbwRSWZVEOZQu+xto2ZoZLEPcXwicdAgssS8gduhMNWsZLgEYCp7JbkLqcg8uIWuxboZu-ZhGjgzZmcLADCRcXAFy5OY5LgCEpMC5hW5w54kumcbRuI7ZHiz0jIOGJwA51wnJw590gM6W0yPM1Za5X+uolEmqTRZ5xpC5L+65EMzwy5bx45y+l51Enp5WgF7qQSC5P5mRK594WQgFDZQ0FMSmPpHZKB+ut5nQAp6wu53ZwpwIM0Ygku15wMrCBJHArZhFa4SwoYpQa5P6gFRF5cz50aoALAWFKmvyzQZFBFqgDFuo4QAAPHheRTxZRb8jELrJgvUuCAACpySCRCC+DKJiC8CXwtQ0h0Igi1DNDgigAADUOJDiHw0irZQoYBaF4Q+lSZOl+lK2MQRloOpllZfFYlq8LQkl04MlclMgxA9kSlKlEa1IWIKM1AWlokelBlNc9lJlMgZlN5FlokFk4Vtl1IIO0VBMol8F5g70C2M2j51mxEU5OYEcck2Io50Sfmz6vF6FfFPqLo3Rkxj5VFNcuscMxVRATmWmTZ+ALZbZbiKFT8RmK2zQj5KkQIZujVLlAYNZgwolyVw1TaQJVVdsEYGVC6-krYHCC0o17IbOe5yFh5e0tVhm7lvFTSdAv05QoA2u0mXqBENSfYKqC5jIQ5C5XZi0a10FlVoFjVX590rMyViYH5EycFN18a8YuFC0bVpVsa+GUetuOVp0p1+W+V5IhVUNb1w6PiyRC1jVTFmNdVx+PRE1j6LVRV6I2ItlXVPV+1nZg16Ew1+u21415l+mpQpEZulFz5k1YclVmE5l1odZGFYGXq5qm1cM21O5QsZK+5fVB1L0R1hQdS04eVOC51LaIgV1EMPSvu-SR4d1SqD1YWgFz1+qIE9FZqfY4iX1H5P1cF+20EoFwNEFoNeECaENrV5NGNx2sg4JrUF2HU123Ud22Ab54c3CvCiKgiwyDSkRfhVx2pc4Si4I4dsiiZfR6KKdkdDAPCKMQGKChi9RLgY+iSpW54mdDhXJH6ImSGzozO4IcwSZsQcwE4-10wddHIjdMQHILdkSddCEndk4cEPdtd0RHMA9HMw9bd0RN0KOSZM9mQ-ordtc0RwUKM5AvgSZq9kcilBoS9RQddStndStfYe9hQddNwku5sLAhg8RF9qgV9LUKwp9sQddulA9sQWJ3AvgYuqyJC+lO9z9MQdd7k79MQn9oA39KyeJHkEDMQgDwI0RVa0w4DkDAIv9oAkIsDoA8DddwAoDBg5JEDP90DYAADvd0RAApPgyg8QyQhQ1gzg9EeLu-TQ1A-iSJN-eQ6KQAITCQsOEOoPoO8NAicMj2in8XUMCO0OgCCUxCiNT3iMAigOsNoPQP8VAhENcNgjgjLKSNf3SOrJyOMOinLJKPcBFAqPoOmNGNaMQjcP4PQOFCqMxDcOxAonOhOhl3SIR0V1WKNWAghiFpzDcDl1yKnaeNhahNR0HJjIsAABWtJE6gTGgDSUDfd3jqdSZxdIiD6fYUTldzUToRUo6PAGTWdpe881dc4ddFSSZFS8DB2CDopkAdAao-sG95jLTbTnSDTB259VA99sAkAndd9DAQzvTBm-Tl9AAogPaM9MxM1pnXQAHLkDLP4OrPLPc06QRMlP5MVN+43kBMrCFrCiqNm7qkhNlMV0HO1peMyLlPFRl5gXHPTCnNQPF2bilMPM3NPPzxFM+4aW4j5NqkOBMICwczVl4y4jVBigfikD4yg4MBxPkB5iNrSKaAdXQT5M50cCXz512KPrMKQtHBFCw0VX8QfQHmdnVlOKHo02eLQTIyHo8nXNhPem40RU1z7N-OHPEWLOFDMsiCss-PssxP4DxOJPcAA08ujrPN3n21FCS17XUuXw+YcACCS1iBfCsXcGy126MjARYgMtPxFNgkHIQn+1XZdS3aYC67lkUCmAMDdwfBVQ3CkCbzN7UBPjOm5lfYsA-Zj5etPiTAhizAUEp5h7Bt-AT7hXggMDWUpXGViCOVBv8zesxuhsrDNBpst6ZtpluQTQ3DDz+J0k4rJu5q4XkDKDKAqUZAkxGBMI1vEMtT6V8w1vbXgg6WlBduuVWXhXVvKACv+hdsJGpUsLp0sQOCFzGDlug7gssILtwszuFgRD-i4VRViBxsQjhVFuxzGCltSiFo-HTv8zGALsCqWXWDggFvmCnviqZwbQKCbIc6+vhw9HMKpw9s4baTTBOzM6fugAC7SScITGZCLWftd7TUQcCxyjCOiTFDwhhsGBm6AcEngiIeKSlAOvVsgQuuxTuubyfsklaJ3HoyAfAcThy5XlPHxYkGQe-I9s7v6X3vGBMBkDPuocqIvuxs2UTg6WJuPmprgw0fek8GwKQdJX8dhUsd0ArvsekCccRtZDhI8e8deLwi-uQqsdjRiSghJnMLcA6cKc8SpxOxrnEdTU6cQj93cDM5ccc4C0qewd2zGdPtmedzjs8fIfggADkibSyll-nIYw147jln7t7DK8n3cpABMMXkDPZ77kx903204Zu8Xw7E4ddQgwgVlwQVldkWkFk5oaYVltyHA8IWbB0ZQcnZ7Y06XBYsXy1YeGXRntXD7JnHn1nDXZAnDMF+grXNX0XjX39RxbkKLaLygGLIEBS1MHg22kyhA1ZJxGlih6MwsX7TT2jZHle3AtHfxmsG3irhQhaE36wU31AmgsWc3vcbgF7i3E+IX77I5VMm3ddiHCR+uwnRuG3HnwsY35g8XpcRCFMUi83bgD3vapHq3Zxh3r3mNKqHLjNQIIYQnP+8u+3c+sCv3caXj4Pxgym4SjIhaQPhCzAoPN32293OPYiS6fjyPqk-dyHa5ZulPbgau4SdsY+bPBP5sKij32bbSMTI16HY9zP8gt3vP4ST39P6WnbZ36Ll3M3VEWnOMg904svwMx3sQp3qL530313EvVPSlvMv3Hna5mvf0Vz+PHP-PCq+tmioHP38PPqURopH3eu6W33L3S30mrKrvS6-3bt+y6KnSJAkPiXooa5G3yHE5r3T3Sti3Z1eCrS4nvZXSadkXyZRSpvr3b7UfS4MfU1fZ8fgvifwsyfLS1JdHhb9AOfbJcNaYVUZsAb5swgFQgwG3b7YfY0Xf6HJXdUWfAwhP7PmkVU2xXfiXZu5ZaRNPIf6ZGS04k-uF+e1xYIFfCHDfsucrs03rGyG-gFbXF1LizeDA6gIgHApAjqOhRADyefkGsQFqzeD3+NFIYWasfsrZ1G1QbErZ2djA5tKmHtwgofU-yuZCpNxh-6g5tmacGrsf2Uyn9z+wgS-kn1ajfkhqVOQgATA-6-9BYiNHAdAJdrgYHeFqaPi7wf4E0BIa5XIFgKGDL5fu3AGgQTBL6+8iB-vCgUUGFRUw1qDEBiOIiYEPcAeBCG5P0AUDmwD0LiCoNvS7BsgpB69NXIYFJD59kc4HQwFoWQ5yDfACg4kE8Ce4s9yiWhbXmAxbYiC7o4gkgJIIIjyCRcgQMwZhEMEA1Qkmg7QV8S3zRkEW-QORM4KPSyCrBWg5TIoOW4qCwI6gqat4M+g6DzeS4cag4OghPAoG1QDaBiS8F+CpQ4QxQU8CMGhh4hqjIyqILIhqC4C5LZIqYLEEyBI4uKFJkokrbQVyhVAZxNPFsHPs8hZg05mC2pCuCWIdQygA0JaHNDShQQsDgwSaGbccMT3RIWQGSGZxvBWLf0ONQGHHcchqybob0NKHlt8ha+EYRvkIyIV6WQoEFKCCfjRsOA3AGOEfDgqzJKMUAr-kCAIF-9YW9FY4YuTgp+QucEAu4Rziw4tBdhwrJ4acKoDAD0BZSScD0LsIMAL6XED4TNg+F2wzhgIv6kIJBHwpwRVALiBxH+HnCIKb7Y2uhxkB1hagOlHzniL2AEiE+7Qd2OiNYhUBwgyHY2jEHGGpBn+HEGkVNTpYuJ9hlIQ4dKkpFwi0Bf1Bkdzjgg8lqRQHQXAXyFFnDNuHEZERCJ4oRhmRWQg0BGElGKiYI9QsEbKLoEjAFRjg6CGbhVG6jtwINJ7uCGJEcBcuiInqhqxyh9CsS95JcIQyWFXUUcmVFwGoBMBeBzYjAAfuR1H6ohuAQPSkUDwuEUYwssoy1KLDMSMhpRGo1ETxUDEAimQTfegNK0aYThgxIA3CuGJKSdszRpIqamMMF5WjJANotYdmMjHZJXRZQNjj-0pjCj5akfbwl51Z7Uiqx6URoaIJxBshugSg0MSUxYzpQuxmYXwB6WgrY5PwXYcIKUBwyuVDAiI2saDyJCgx6xjqc8N0EZAtiXorwvws-26BTjN+rlboKVg1agBpKAACWmYMAAAguAHADTMAAStJUgAAB5ZZsgCBAnldc3lTiPfR9FcYYxSQeEau1wq8AaxH4CmPWPhSbd2xC4jnn6P-HqikgHndsZ0BsLwSjQWfFCZkHNjoTL01Zc8ZeJvF3jHxL4t8ZhIHCwSR+GkD9JBLsLVl2xtohcQwCXHqEAJdAO2OCD-H0B3IfQrfiBR-44TqJCE0EYBL5HATPqpQrOBUMLRBozhKlFZF+ndH7wvRgk5MZrDknmQkRdhICZl2-FqBVJY-cWGxJ0nqtJAcQDIJnFyAOANojIAAAynkaENQeyJagsnmDUY82agIME5yuSrJ7gxkOV0snq0bJ+lPENuMpwBTnY1ksgFnx-ROTF+GbR4H8PMkcA3Ja3KqJ5PtFCiMOSZNchFJ245RPJTnSsnm2whVjAgxaeKQ6FSDVBsgFk1cWFjykw8PJpoK6j5RckpT8pjATySlFRp+YRBmceyJ0E3jL8hUO4-mJDwQzyU7gcUp4agManBVYe2dX0FhjDqF9S+1FdXubkCADShpWozvvD1VFd1tpDAQaWwE3gsCBewIoPuDWgr9STpu0gKVWIqAWDQgYyOHoQEoglTnhWIgqn1OOmnThpr-J-uNMdAK1H+m1ckVkCSmgyOBo0ynDcgLCgC8IEGR9JRm-6f9BYDw16t9O-JIzOBfhd4TAJkh4jCIjg8MP9N2lQj8BwtLUFgH-DsDDIXOaPiyOgilA7pAMvaYTDlAA5CSxAHaWdMWqOhH0zQEmcYB4Fu1bpFMgWRt0RFsjlM+wqaLTD+DFSEpi5NcDpMuHv9rhW7W4drP-5ZxXqSUl4eSFfCuNxxuOSARjNpSUC3QDgUyiiJ-GWzcB0I7WXbENGxB1ZYkhEBFX97Azpwa4X8FEjwCQgQ5yqLWRjPRnOysZ8uT2cbLhkCQzZHYRlF6CdnQCt0gYOgPbM1F-D3ZsQKmQDBhGHTQwcFPdN8KUwqzRwyNL2fbw0Svhnph6BWJrE9lGznaZOYOaHPjluhTR+Ii0QmhRmdzqS5cpKbHMzHg15+bkO2TFQdloiFwd4EMbhRxGqQ8xuXIkT3NV5hwR4FI2eZt0AoCimRWhLlrALlnZ0wYisxOMrMICzydJe88aYQCUHIdj5Cs7qufMeB3yQmbIC4aAHbmQgBRa5S+fzjFFcIlwd8zbpPNxCaj5RsQ0JPKNJBFzYgYC6eTxVZ5QK0xRQVnrAtznRJnaJo5eTe2KFKkApOKW9IMPjqCFsCt6QshZOLJvAoEoEumI9LfZj5Hpk7NyBFO2IMLGxQwxahGGYVvdoinQQab4ARIFgkOgvMfDwrqnbC-M0Lc2O1P-QWSAxI3bnCJMaSgAMx35TWSUygSw45F-kmaBDEql-BqpmsR6X5H4yZyp5OYlHhOAQWaiExKiuBW-2nJ0KqsVJORZl1DDqKERIEixbiCsVLy15yHQsX+3ayZx4utUlKdsW0UnpHpio4sUrEYC2iEFJSDfCeIIkMB7xlkAADLTN3xzozIA5IKKSB9JAU3mMZK9lvtQJmcBcbRKQnIcYJ4EtXKUtqXsSnuWExsM0pYXmB2lci3mPhIvEZLsluS8iSBEom9KWl1ZPoeYJZZBoGJawpiSxImWOLCg4IAKTxNKHwgjBcypoRCA96rKLJ6ypoZV0REyLml5S+eRJKaFSSqAMk7cAFKgZfoZFscQhQFJCaITVFdtINHpPvpnL3lJky0bizCUjcBuSi85TbQGFvspl3Q25Vgq1qqNDIUyoVsphmGPo1QVEtSbzHsXwodJiop0acosmYrQVfyr2Q02+oDDZZa2Z1sCvi5ASOxd0eqSU1aDIhGQg4nviCt64cSRUVK3rrrQgLjEIBTKkRF8MTiTQUp4SmlWJLpU8QSOgqxrCmWAyDcyVIw+ccYoqAUwHQK45QY0NByczmRUHUUM-03FSKShwQTOFxK6kWq1VfMXCY6gtQLiNV5q62U4qpDrigQCyrMMuMdVrVzwtbTBNlnNVSrXmNcbZZ2O6DFdcJhy0QbyqKClQcQ4aoSdxN4nHcLOuE7gE6N9XlSQIAavoWBgZljzQ6HwU1XIv1k1KOFoWPZu8sZA0L1wJBUxSbL7SqrKYGqtiU6pHQuq-AjId1biGXEtrvVYWDNdlgil9Cg1OkENXdDjW4EDlvEogbGrDWTqOAkau6FKTyZLhXlBgYhgOoGxDqBhfvfufGnHnmBh+xa5WOautUJr2JWqwhY6sPniVBA7fORWerUkecj1p6r1cBXRQvrcJj6wyReuIiFrAgBk2KLCxqVvq21AgP6Oip-UsZ0lREh8U+NfHgA-IMG28XBtIl5KU156tNcQwg2AbCmYUgSOCAxB4LFSLEI9S8rqmzJ-19mVycBvAkRKgKYGggGwGUylLGQ6SzJTksQ3kh2NQy9DauoUXrqoGOG0pdJnESEavAxG+ElLVXS+w4m0dYWDULAFJdwOCmrpcaVNqyaFEi3RTXyv-IjBVNWfADG8Dk0ohc+hAHTSWX64Gb31C-PasFBM3clVNWqnotZpI2DkNN9mrTU5qn70Ddkhm0WBxhSAObgM3m3CiwNfKOTiAYgUaMpnCWhboKcfczVWOM34AapxmhRNMiVWiDBhe1dLQcijLBamqxM8FU0Ke4paapRm+gIVoK0ZaPFh2SleEpdR5bTANW0zf9RayhIst9KnzLGs4kiArKXK+LkmXK3sTCl5WezalvUlBaMttKnNVqrs3Tb8tnmtrUEpRzjD3BUwwbNIMGBBpBtwKl1Mtpa2HaTUkqnNZBAaBOiJtFWgLW2kW2mBeYx26NHTO8RdbTOqKXrflwsh7aeVpwoLZNoBZ+Yag0WjZOElm0QrEuUK6SSky+VPU0Gz21sMEMJgNbgVQOmLdyti4vsntqC2IPEtLE7KQassA0GzVBzWjElawkuf+EAjYYUc52ooK9uMy9bCuA25HT9tanA6gKodSmCYH4C997+ENNbKgK1Y6sfgqrFOIiIV4XcruiNUHadvB31Arakk6FdDuLmw7lkikLnbWw2TqR+sNAEmMlQc7MVD+yVLMntx-qODE+OYVMagqsg2Qq+II8LKQB6TWU6ZlOooOCAl0G9TolXRjtSBJ0liyd+OiCiRxwyKt6d72-gBCA91K93UzO4mFoHR0dNQAUeqXVWVPLngbgoPLeuvUZAABOE4FPnYjb0pVRga-r3kL3r0pV2dDaDimrRAyG1XCj4K2oGTepXwLgAkrZNf6FAs9BMXzr5wshoAB90a26holhmxBu9nMxvUQK73l610kkl7MrUklr47YLgLyLaRDC8DyQ3eyvfPsbbyVM9M+qsQIvXrCKxoEmU1WDpGHYiStog8PdtzYCCKT9se9ZECtZ1H6hFTAIkgDvKw88E9b4OTvwFXBkBfoicHppoqpCtBGQpPXwCDzB6S9hRD7P-aVDjZHBjl9agwAIlIDAH2moAeDkERJFe5X+4+8EJ5C8g881FI3d0P-oECkIQG3skMOPuM7irjgxAkfQxFfABqW+Zq9vlKFaBN6YgZG1ySeq-Wfrz1tGejLwaIGvgMDWBzpDgdUiJwyKWkTvWPpn0QgSDnkJMT+rvUd8aDJB3yCwZPC8C91DQIg+oY0PxcLwNIbJC1DMOeQh9KhkKEXttEIrJJMKo0artsqMHgVuo7XWXj35jRWgQEtNZbsajEMZYio77RjsCO+7WypO4vThgnx+98FXQjTUIEMD2Qfs1QUqAyvAOQGlFZPYhLAYW4rtED-AZA6gcY2AUWMkRuLgkT90JL4jLo0TfVXA5VHNuWufAPJR-Gg4qRzAKSP+HKTtc2O4S3w7vxJjRGLmC5ZiibtCNQMZYiIn9B8IrkQR8sG4N9muWHmp6bNmxPWbNJhGMLl8MIrPvnMcz7HEuEYI49sfMBQjo5V5FuRosS5VhPA9x7xW5tMw-CZq6bSuQWQqWJdaKnJJY5sc1R2xjZEUH-eEt84+j9AaYgADpYAr1Eg5TGbBkDBBn2IeiBvozlDQQ+9TeIA91Uz5YBwTwKyE36OhONM4TCJl6UwF6wonFOwooUbwFXB2wega5Rk6AAABeXzUAHCaKBIrqTWcVEzMZ6CcmsTOkHE+CGkP4nCoUEAjKkfeAZHpwkJxE-ydpPPsBGdnfhVZRYBWVlAVlXLpMF85Og8ARJ3rvoCVNUnkTgp9U1twhDkAtTOpvU5V3FO+QgAA')">function make_binding(variable, value) {
    return pair(variable, value);
}
function binding_variable(binding) {
    return head(binding);
}
function binding_value(binding) {
    return tail(binding);
}
function binding_in_frame(variable, frame) {
    return assoc(variable, frame);
}
function extend(variable, value, frame) {
    return pair(make_binding(variable, value), frame);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.81" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.81">Exercise 4.81 </a></b> 
  
      Louis Reasoner wonders why the
      
	<span style="color:green"><kbd>simple-query</kbd></span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      and <kbd>disjoin</kbd>
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>) are implemented using
      explicit
      
	<span style="color:green"><kbd>delay</kbd>
	</span><span style="color:blue">delay</span>
      
      operations, rather than being defined as follows:
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append (find-assertions query-pattern frame)
                    (apply-rules query-pattern frame)))
   frame-stream))

(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave
       (qeval (first-disjunct disjuncts) frame-stream)
       (disjoin (rest-disjuncts disjuncts) frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
              frame =>
                 stream_append(find_assertions(query_pattern, frame),
                               apply_rules(query_pattern, frame)),
              frame_stream);
}
function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave(evaluate_query(first_disjunct(disjuncts), 
                                    frame_stream),
                     disjoin(rest_disjuncts(disjuncts), frame_stream));
}</pre></div></div></td></tr></table>
      Can you give examples of queries where these simpler definitions would
      lead to undesirable behavior?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_2_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_2_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.82" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.82">Exercise 4.82 </a></b> 
  
      Why do <kbd>disjoin</kbd> and
      
	<span style="color:green"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      interleave the streams rather than simply append them?  Give examples that
      illustrate why interleaving works better.  (Hint: Why did we use
      <kbd>interleave</kbd> in
      section&nbsp;<REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>?)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_3_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_3_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.83" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.83">Exercise 4.83 </a></b> 
  
    Why does
    
      <span style="color:green"><kbd>flatten-stream</kbd></span>
      <span style="color:blue"><kbd>flatten_stream</kbd>
      </span>
    
    use
    
      <span style="color:green"><kbd>delay</kbd> explicitly?</span>
      <span style="color:blue">a lambda expression in its body?</span>
    
    What would be wrong with defining it as follows:
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave
       (stream-car stream)
       (flatten-stream (stream-cdr stream)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave(head(stream),
                     flatten_stream(stream_tail(stream)));
}</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_4_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_4_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.84" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.84">Exercise 4.84 </a></b> 
  
      
      Alyssa P. Hacker proposes to use a simpler version of
      
	<span style="color:green"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      in <kbd>negate</kbd>,
      
	<span style="color:green"><kbd>lisp-value</kbd>,</span>
	<span style="color:blue"><kbd>javascript_value</kbd>,
	</span>
      
      and
      
	<span style="color:green"><kbd>find-assertions</kbd>.</span>
	<span style="color:blue"><kbd>find_assertions</kbd>.
	</span>
      
      She observes that the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that is mapped over the frame stream in these cases always produces either
      the empty stream or a singleton stream, so no interleaving is needed when
      combining these streams.
      <OL type="a">
	<LI>
          Fill in the missing expressions in Alyssa's program.
          <kbd class='snippet'>function simple_stream_flatmap(fun, s) {
    return simple_flatten(stream_map(fun, s));
}
function simple_flatten(stream) {
    return stream_map($\langle ?? \rangle$,
                      stream_filter($\langle ?? \rangle$, stream));
}</kbd>
	</LI>
	<LI>
          Does the query system's behavior change if we change it in this
	  way?
	</LI>
      </OL>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_5_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_5_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.85" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.85">Exercise 4.85 </a></b> 
  
      
      
      
      Implement for the query language a
      
	<span style="color:green">new special form called
	<kbd>unique</kbd>.</span>
	<span style="color:blue">query expression called
	<kbd>unique</kbd>.</span>
      
      
	<span style="color:green">
	  <kbd>Unique</kbd>
	</span>
	<span style="color:blue">
	  Applictions of <kbd>unique</kbd>
	</span>
      
      should succeed if there is precisely one item in the data base satisfying
      a specified query.  For example,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "wizard")))</pre></div></div></td></tr></table>
      should print the one-item stream
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job (Bitdiddle Ben) (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(list("Bitdiddle", "Ben"), list("computer", "wizard")))</pre></div></div></td></tr></table>
      since Ben is the only computer wizard, and
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer programmer)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "programmer")))</pre></div></div></td></tr></table>
      should print the empty stream, since there is more than one computer
      programmer.  Moreover,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(and (job ?x ?j) (unique (job ?anyone ?j)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
and(job(x, j), unique(job(anyone, j)))</pre></div></div></td></tr></table>
      should list all the jobs that are filled by only one person, and the
      people who fill them.
      <p></p>
      There are two parts to implementing <kbd>unique</kbd>.
      The first is to write a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that handles this special form, and the second is to make
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      dispatch to that
      
	<span style="color:green">procedure.</span>
	<span style="color:blue">function.</span>
      
      The second part is trivial, since
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      does its dispatching in a data-directed way.  If your
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      is called
      
	<span style="color:green"><kbd>uniquely-asserted</kbd>,</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>,
	</span>
      
      all you need to do is
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'unique 'qeval uniquely-asserted)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
put("unique", "evaluate_query", uniquely_asserted);</pre></div></div></td></tr></table>
      and
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      will dispatch to this
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      for every query whose
      <kbd>type</kbd>
      
	<span style="color:green">(<kbd>car</kbd>)</span>
	<span style="color:blue">(<kbd>head</kbd>)</span>
      
      is the
      
	<span style="color:green">symbol</span>
	<span style="color:blue">string</span>
      
      
	<span style="color:green"><kbd>unique</kbd></span>
	<span style="color:blue"><kbd>"unique"</kbd></span>
      
      <p></p>
      The real problem is to write the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>uniquely-asserted</kbd>.</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>.
	</span>
      
      This should take as input the <kbd>contents</kbd>
      
	<span style="color:green">(<kbd>cdr</kbd>)</span>
	<span style="color:blue">(<kbd>tail</kbd>)</span>
      
      of the <kbd>unique</kbd> query, together with a stream
      of frames.  For each frame in the stream, it should use
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to find the stream of all extensions to the frame that satisfy the given
      query.  Any stream that does not have exactly one item in it should be
      eliminated.  The remaining streams should be passed back to be accumulated
      into one big stream that is the result of the
      <kbd>unique</kbd> query.  This is similar to the
      implementation of the <kbd>not</kbd> special form.
      <p></p>
      Test your implementation by forming a query that lists all people who
      supervise precisely one person.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_6_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_6_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.86" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.86">Exercise 4.86 </a></b> 
  
      
      
      
      Our implementation of <kbd>and</kbd> as a series
      combination of queries
      
	<span style="color:green">
	  (figure&nbsp;<REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>)
	</span>
	<span style="color:blue">
	  (figure&nbsp;<REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.10" href="./4.4.2.html#fig_4.10">4.10</a></REF>)
	</span>
      
      is
      elegant, but it is inefficient because in processing the second query of
      the <kbd>and</kbd> we must scan the data base for each
      frame produced by the first query.  If the data base has
      $N$ elements, and a typical query produces a
      number of output frames proportional to $N$
      (say $N/k$), then scanning the data base for
      each frame produced by the first query will require
      $N^{2}/k$ calls to the pattern matcher.
      Another approach would be to process the two clauses of the
      <kbd>and</kbd> separately, then look for all pairs of
      output frames that are compatible.  If each query produces
      $N/k$ output frames, then this means that we
      must perform $N^{2}/k^{2}$ compatibility
      checks—a factor of $k$ fewer than the
      number of matches required in our current  method.
      <p></p>
      Devise an implementation of <kbd>and</kbd> that uses
      this strategy.  You  must implement a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that takes two frames as inputs, checks whether the bindings in the
      frames are compatible, and, if so, produces a frame that merges the two
      sets of bindings.  This operation is similar to unification.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_7_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_7_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.87" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.87">Exercise 4.87 </a></b> 
  
      
      
      
      
      
      In section&nbsp;<REF NAME="sec:math-logic"><a class="superscript" id="4.4.4-sec-link-4.4.3" href="./4.4.3.html">4.4.3</a></REF> we saw that
      <kbd>not</kbd> and
      
	<span style="color:green"><kbd>lisp-value</kbd></span>
	<span style="color:blue"><kbd>javascript_value</kbd>
	</span>
      
      can cause the query language to give <QUOTE>wrong</QUOTE> answers if
      these filtering operations are applied to frames in which variables
      are unbound.  Devise a way to fix this shortcoming.  One idea is to
      perform the filtering in a <QUOTE>delayed</QUOTE> manner by appending to
      the frame a <QUOTE>promise</QUOTE> to filter that is fulfilled only when
      enough variables have been bound to make the operation possible.  We could
      wait to perform filtering until all other operations have been performed.
      However, for efficiency's sake, we would like to perform filtering
      as soon as possible so as to cut down on the number of intermediate frames
      generated.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_8_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_8_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.88" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.88">Exercise 4.88 </a></b> 
  
      
      Redesign the query language as a nondeterministic program to be
      implemented using the evaluator of
      section&nbsp;<REF NAME="sec:nondeterministic-evaluation"><a class="superscript" id="4.4.4-sec-link-4.3" href="./4.3.html">4.3</a></REF>, rather than as a stream
      process.  In this approach, each query will produce a single answer
      (rather than the stream of all answers) and the user can type
      
	<span style="color:green"><kbd>try-again</kbd></span>
	<span style="color:blue"><kbd>try again</kbd>
	</span>
      
      to see more answers.  You should find that much of the mechanism we built
      in this section is subsumed by nondeterministic search and backtracking.
      You will probably also find, however, that your new query language has
      subtle differences in behavior from the one implemented here.  Can you
      find examples that illustrate this difference?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_9_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_9_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>



    
    <div class="permalink">
    <a name="ex_4.89" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.89">Exercise 4.89 </a></b> 
  
      
      
      When we implemented the
      
	<span style="color:green">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator in section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF>, we saw how to use
      local environments to avoid name conflicts between the parameters of
      
	<span style="color:green">procedures.</span>
	<span style="color:blue">functions.</span>
      
      For example, in evaluating
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (square x)
  (* x x))

(define (sum-of-squares x y)
  (+ (square x) (square y)))

(sum-of-squares 3 4)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM4CO+AhgE4CmAFAB4CUoA3llDDQ7UvhY0uoAFSguAbiwBfPETJUatfAFsA+pVx6GzdrW4AaUAE8+gkaLbjJdRq069QAalenOtpVVtfUNjNzMOAGYrFB4FIA')">function square(x) {
    return x * x;
}
function sum_of_squares(x, y) {
    return square(x) + square(y);
}
sum_of_squares(3, 4);
</pre></div></div></td></tr></table>
      there is no confusion between the <kbd>x</kbd> in
      <kbd>square</kbd> and the <kbd>x</kbd>
      in
      
	<span style="color:green"><kbd>sum-of-squares</kbd>,</span>
	<span style="color:blue"><kbd>sum_of_squares</kbd>,
	</span>
      
      because we evaluate the body of each
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      in an environment that is specially constructed to contain
      bindings for the local
      
	<span style="color:green">variables.</span>
	<span style="color:blue">names.</span>
      
      In the query system, we used a
      different strategy to avoid name conflicts in applying rules.  Each
      time we apply a rule we rename the variables with new names that are
      guaranteed to be unique.  The analogous strategy for the
      
	<span style="color:green">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator would be to do away with local environments and simply
      rename the variables in the body of a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      each time we apply the
      
	<span style="color:green">procedure.</span>
	<span style="color:blue">function.</span>
      
      <p></p>
      
      
      
      
      Implement for the query language a rule-application method that uses
      environments rather than renaming.  See if you can build on your
      environment structure to create constructs in the query language for
      dealing with large systems, such as the rule analog of
      block-structured
      
	<span style="color:green">procedures.</span>
      <span style="color:blue">functions.</span>
      Can you relate any of this to the problem of making deductions in a
      context (e.g., <QUOTE>If I supposed that $P$
      were true, then I would be able to deduce $A$
      and $B$.</QUOTE>) as a method of problem
      solving?  (This problem is open-ended.  A good answer is probably worth
      a Ph.D.)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_10_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_10_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

  
<hr>

    <div class='footnote'>
      <a class='footnote-number' id='footnote-1' href='#footnote-link-1' >[1] </a>
    <FOOTNOTE>
    In general,
      unifying
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      with an expression involving
      
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      would require our being able to find a fixed point of the equation
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $ = \textit{expression involving}$
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      It is sometimes possible to syntactically form an expression that appears
      to be the solution.  For example,
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $=$
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      seems to have the fixed point
      
	<span style="color:green"><kbd>(f (f (f </kbd>…
	<kbd>)))</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>list("f", list("f", list("f",</kbd>
	  …
	  <kbd>)))</kbd>,
	</span>
      
      which we can produce by beginning with the expression
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and repeatedly substituting
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      for
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Unfortunately, not every such equation has a meaningful fixed point.  The
      issues that arise here are similar to the issues of manipulating 
      
      infinite series in mathematics.  For example, we know that 2 is the
      solution to the equation $y = 1 + y/2$.
      Beginning with the expression $1 + y/2$ and
      repeatedly substituting $1 + y/2$ for
      $y$ gives
      
        \[ 2 = y = 1 + y/2 = 1 + (1+y/2)/2 = 1 + 1/2 + y/4 =\cdots, \]
      
      which leads to
      
        \[ 2 = 1 + 1/2 + 1/4 + 1/8 +\cdots. \]
      
      However, if we try the same manipulation beginning with the
      observation that $-1$ is the solution to the
      equation $y = 1 + 2y$, we obtain
      
        \[ -1 = y = 1 + 2y = 1 + 2(1 + 2y) = 1 + 2 + 4y = \cdots, \]
      
      which leads to 
      
        \[ -1 = 1 + 2 + 4 + 8 +\cdots. \]
      
      Although the formal manipulations used in deriving these two equations
      are identical, the first result is a valid assertion about infinite
      series but the second is not.  Similarly, for our unification results,
      reasoning with an arbitrary syntactically constructed expression may
      lead to errors.
    </FOOTNOTE></div>
    
    
    <div class='footnote'><span style="color:green">
      <a class='footnote-number' id='footnote-2' href='#footnote-link-2' style="color:green">[2] </a>
    <FOOTNOTE>
    Most Lisp systems give the user
	  the ability to modify the ordinary <kbd>read</kbd>
	  procedure to perform such transformations by defining 
	  
	  
	  
	  
	  <EM>reader macro characters</EM>.  Quoted
	  expressions are already handled in this way: The reader automatically
	  translates <kbd>'expression</kbd> into
	  <kbd>(quote expression)</kbd> before the
	  evaluator sees it.  We could arrange for
	  <kbd>?expression</kbd> to be transformed into
	  <kbd>(? expression)</kbd> in the same way; however,
	  for the sake of clarity we have included the transformation
	  procedure here explicitly.
	  <p></p>
	  
	  <kbd>Expand-question-mark</kbd> and
	  <kbd>contract-question-mark</kbd> use several
	  procedures with <kbd>string</kbd> in their names.
	  These are Scheme primitives.
    </FOOTNOTE></span></div>
    
    
</div></div>

    <div class='nav'>
  
        <a class='btn btn-secondary btn-nav' href='./4.4.3.html'>&lt; Previous</a>
    
    <div style='flex-grow: 1;'></div>
  
        <a class='btn btn-secondary btn-nav' id='97' href='./5.html'>Next &gt;</a>
      </div>
    <div class='chapter_sign'>
      4.4.4&nbsp;&nbsp;
    Implementing the Query System
  
    </div>
    <script> var chapter_id = 96; </script>
    <script> var chapter_path = "chapters/4.4.4.html"; </script>
    <div class='next-page'></div>
    </div>
    </div> <!-- /.container -->
    </body></html>