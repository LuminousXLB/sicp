<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <!-- Global site tag (gtag.js) - Google Analytics - START -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-156801664-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-156801664-1');
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics - END -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="description" content="4.1.1&nbsp;&nbsp;
    The Core of the Evaluator
  " />
    <title>
      4.1.1&nbsp;&nbsp;
    The Core of the Evaluator
  
    </title>
    
  <meta name="csrf-param" content="authenticity_token" />
  <meta name="csrf-token" content="EMTEijVc2kiiKUH4nYH0lQG3pLPfMowQ/Stg//t6DCo0e5pWMQwamnTvIdmVZqY/MqSx2IYYE+2bpNV6UNSMwQ==" />

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    -->
    <link href="https://fonts.googleapis.com/css?family=Inconsolata&display?swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans|Droid+Serif" rel="stylesheet">
    <link rel="stylesheet" media="all" href="../assets/stylesheet.css" />

   <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon.ico" />

<!--    <link rel="shortcut icon" type="image/png" href="../images/lambda.png" /> -->

    <!-- for support of progressive web app, see github README, DISABLED!
    <link rel="manifest" href="../static/manifest.json">
    -->

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" 
		     	  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	          crossorigin="anonymous">
    </script> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script> -->
    <script type="text/javascript" 
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script>
   <!--  <script type="text/javascript" 
      src="../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script> -->
  
    <script src="../assets/application.js"></script>
  
    <!-- Rendering inline LaTeX -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true,
          jax: ["input/TeX","output/HTML-CSS"]
        }
      });
    </script>
    <!--<script src="/mathjax/MathJax.js?config=TeX-AMS_HTML-full.js" type="text/javascript"></script>-->
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body>

    
    <!-- support for progressive web app, see README, DISABLED
    <script>
      if ('serviceWorker' in navigator && !navigator.serviceWorker.controller) {
          navigator.serviceWorker.register("../sw.js").then(function(reg) {
              console.log("Service worker has been registered for scope: " + reg.scope);
          });
      }
    </script>
    -->

     <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top justify-content-between">
       <button id="btn" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#nav-sidebar" aria-controls="nav-sidebar" aria-expanded="false" aria-label="Toggle navigation" title="navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <span class="navbar-brand-short"><a title="Go back to front page" href="../index.html" class="gray">SICP &mdash; JS</a></span>
       <span class="navbar-brand-long" ><a title="Go back to front page" href="../index.html" class="gray">Structure and Interpretation of Computer Programs &mdash; JavaScript Adaptation</a></span>

       <!-- edit the search engine by visiting: 
	    https://cse.google.com/cse/setup/basic?cx=015760785273492757659:nc_tznrzlsg 
	       -->
       <form class="form-inline ml-auto" id="xxx">
         <div id="search-box">
	         <script>
	           (function() {
	               var cx = "015760785273492757659:nc_tznrzlsg";
	               var gcse = document.createElement("script");
	               gcse.type = "text/javascript";
	               gcse.async = true;
	               gcse.src = "https://cse.google.com/cse.js?cx=" + cx;
	               var s = document.getElementsByTagName("script")[0];
	               s.parentNode.insertBefore(gcse, s);
	           })();
	           window.onload = function()
	           { 
	               var searchBox =  document.getElementById("gsc-i-id1");
	               searchBox.placeholder= "search web edition";
	               searchBox.title= "search web edition";
	           }
	         </script>
	         <gcse:search></gcse:search>
         </div>
       </form>
       <span class="navbar-brand-short">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">S</a>
       </span>
       <span class="navbar-brand-long">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">Source</a>
       </span>
     </nav>
     
     <div class="container scroll">

            
        <div class="collapse" id="nav-sidebar" role="tablist" aria-multiselectable="true">
        <!-- insert a dummy entry, to give one extra line of space -->
        <a class="navbar-brand" href="index.html">&nbsp;</a>
    
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-1">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-1" aria-expanded="false" aria-controls="sidebar-collapse-1">
                <a href="./foreword.html"> 
        Foreword
    </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-2">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-2" aria-expanded="false" aria-controls="sidebar-collapse-2">
                <a href="./prefaces.html"> 
        Prefaces
    </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-3">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-3" aria-expanded="false" aria-controls="sidebar-collapse-3">
                <a href="./acknowledgements.html"> 
Acknowledgments
    </a>
              </span>
            </h5>
          </div>
        </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-4">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.html">1 
    Building Abstractions with 
    
      
      Functions
    
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-4" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-5">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.1.html">1.1 The Elements of Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-5" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-6">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-6" aria-expanded="false" aria-controls="sidebar-collapse-6">
                <a href="./1.1.1.html"> 1.1.1 Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-7">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-7" aria-expanded="false" aria-controls="sidebar-collapse-7">
                <a href="./1.1.2.html"> 1.1.2 Naming and the Environment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-8">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-8" aria-expanded="false" aria-controls="sidebar-collapse-8">
                <a href="./1.1.3.html"> 1.1.3 
    Evaluating
    
      
      Operator Combinations
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-9">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-9" aria-expanded="false" aria-controls="sidebar-collapse-9">
                <a href="./1.1.4.html"> 1.1.4 
    Compound 
    Functions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-10">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-10" aria-expanded="false" aria-controls="sidebar-collapse-10">
                <a href="./1.1.5.html"> 1.1.5 
    The Substitution Model for 
    
      
      
        Function
      
    
    Application
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-11">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-11" aria-expanded="false" aria-controls="sidebar-collapse-11">
                <a href="./1.1.6.html"> 1.1.6 
    Conditional Expressions and Predicates
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-12">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-12" aria-expanded="false" aria-controls="sidebar-collapse-12">
                <a href="./1.1.7.html"> 1.1.7 Example: Square Roots by Newton's Method</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-13">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-13" aria-expanded="false" aria-controls="sidebar-collapse-13">
                <a href="./1.1.8.html"> 1.1.8 
    
      
      
        Functions
      
    
    as Black-Box Abstractions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-14">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.2.html">1.2 
    
      
      Functions
    
    and the Processes They Generate
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-14" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-15">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-15" aria-expanded="false" aria-controls="sidebar-collapse-15">
                <a href="./1.2.1.html"> 1.2.1 Linear Recursion and Iteration</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-16">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-16" aria-expanded="false" aria-controls="sidebar-collapse-16">
                <a href="./1.2.2.html"> 1.2.2 Tree Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-17">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-17" aria-expanded="false" aria-controls="sidebar-collapse-17">
                <a href="./1.2.3.html"> 1.2.3 Orders of Growth</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-18">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-18" aria-expanded="false" aria-controls="sidebar-collapse-18">
                <a href="./1.2.4.html"> 1.2.4 Exponentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-19">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-19" aria-expanded="false" aria-controls="sidebar-collapse-19">
                <a href="./1.2.5.html"> 1.2.5 Greatest Common Divisors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-20">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-20" aria-expanded="false" aria-controls="sidebar-collapse-20">
                <a href="./1.2.6.html"> 1.2.6 Example: Testing for Primality</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-21">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.3.html">1.3 
        Formulating Abstractions with Higher-Order 
        
	  
	  Functions
	
      </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-21" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-22">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-22" aria-expanded="false" aria-controls="sidebar-collapse-22">
                <a href="./1.3.1.html"> 1.3.1 
    
      
      Functions
    
    as Arguments
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-23">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-23" aria-expanded="false" aria-controls="sidebar-collapse-23">
                <a href="./1.3.2.html"> 1.3.2 
    
      
      Constructing Functions using Lambda Expressions
      
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-24">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-24" aria-expanded="false" aria-controls="sidebar-collapse-24">
                <a href="./1.3.3.html"> 1.3.3 
    
      
    Functions
    as General Methods
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-25">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-25" aria-expanded="false" aria-controls="sidebar-collapse-25">
                <a href="./1.3.4.html"> 1.3.4 
    
      
      Functions
    
    as Returned Values
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-26">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.html">2 Building Abstractions with Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-26" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-27">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.1.html">2.1 Introduction to Data Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-27" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-28">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-28" aria-expanded="false" aria-controls="sidebar-collapse-28">
                <a href="./2.1.1.html"> 2.1.1 
    Example: Arithmetic Operations for Rational Numbers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-29">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-29" aria-expanded="false" aria-controls="sidebar-collapse-29">
                <a href="./2.1.2.html"> 2.1.2 
    Abstraction Barriers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-30">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-30" aria-expanded="false" aria-controls="sidebar-collapse-30">
                <a href="./2.1.3.html"> 2.1.3 
    What Is Meant by Data?
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-31">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-31" aria-expanded="false" aria-controls="sidebar-collapse-31">
                <a href="./2.1.4.html"> 2.1.4 
    Extended Exercise: Interval Arithmetic
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-32">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.2.html">2.2 Hierarchical Data and the Closure Property</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-32" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-33">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-33" aria-expanded="false" aria-controls="sidebar-collapse-33">
                <a href="./2.2.1.html"> 2.2.1 
    Representing Sequences
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-34">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-34" aria-expanded="false" aria-controls="sidebar-collapse-34">
                <a href="./2.2.2.html"> 2.2.2 
    Hierarchical Structures
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-35">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-35" aria-expanded="false" aria-controls="sidebar-collapse-35">
                <a href="./2.2.3.html"> 2.2.3 
    Sequences as Conventional Interfaces
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-36">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-36" aria-expanded="false" aria-controls="sidebar-collapse-36">
                <a href="./2.2.4.html"> 2.2.4 
    Example: A Picture Language
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-37">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.3.html">2.3 Symbolic Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-37" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-38">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-38" aria-expanded="false" aria-controls="sidebar-collapse-38">
                <a href="./2.3.1.html"> 2.3.1 
    
      
      Strings
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-39">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-39" aria-expanded="false" aria-controls="sidebar-collapse-39">
                <a href="./2.3.2.html"> 2.3.2 
    Example: Symbolic Differentiation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-40">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-40" aria-expanded="false" aria-controls="sidebar-collapse-40">
                <a href="./2.3.3.html"> 2.3.3 
    Example: Representing Sets
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-41">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-41" aria-expanded="false" aria-controls="sidebar-collapse-41">
                <a href="./2.3.4.html"> 2.3.4 
    Example: Huffman Encoding Trees
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-42">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.4.html">2.4 Multiple Representations for Abstract Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-42" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-43">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-43" aria-expanded="false" aria-controls="sidebar-collapse-43">
                <a href="./2.4.1.html"> 2.4.1 
    Representations for Complex Numbers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-44">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-44" aria-expanded="false" aria-controls="sidebar-collapse-44">
                <a href="./2.4.2.html"> 2.4.2 
    Tagged data
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-45">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-45" aria-expanded="false" aria-controls="sidebar-collapse-45">
                <a href="./2.4.3.html"> 2.4.3 
    Data-Directed Programming and Additivity
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-46">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.5.html">2.5 Systems with Generic Operations</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-46" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-47">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-47" aria-expanded="false" aria-controls="sidebar-collapse-47">
                <a href="./2.5.1.html"> 2.5.1 
    Generic Arithmetic Operations
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-48">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-48" aria-expanded="false" aria-controls="sidebar-collapse-48">
                <a href="./2.5.2.html"> 2.5.2 
    Combining Data of Different Types
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-49">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-49" aria-expanded="false" aria-controls="sidebar-collapse-49">
                <a href="./2.5.3.html"> 2.5.3 
    Example: Symbolic Algebra
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-50">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.html">3 Modularity, Objects, and State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-50" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-51">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.1.html">3.1 Assignment and Local State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-51" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-52">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-52" aria-expanded="false" aria-controls="sidebar-collapse-52">
                <a href="./3.1.1.html"> 3.1.1 
    Local State Variables
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-53">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-53" aria-expanded="false" aria-controls="sidebar-collapse-53">
                <a href="./3.1.2.html"> 3.1.2 
    The Benefits of Introducing Assignment
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-54">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-54" aria-expanded="false" aria-controls="sidebar-collapse-54">
                <a href="./3.1.3.html"> 3.1.3 
    The Costs of Introducing Assignment
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-55">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.2.html">3.2 The Environment Model of Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-55" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-56">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-56" aria-expanded="false" aria-controls="sidebar-collapse-56">
                <a href="./3.2.1.html"> 3.2.1 
    The Rules for Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-57">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-57" aria-expanded="false" aria-controls="sidebar-collapse-57">
                <a href="./3.2.2.html"> 3.2.2 
    Applying Simple
    
      
      Functions
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-58">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-58" aria-expanded="false" aria-controls="sidebar-collapse-58">
                <a href="./3.2.3.html"> 3.2.3 
    Frames as the Repository of Local State
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-59">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-59" aria-expanded="false" aria-controls="sidebar-collapse-59">
                <a href="./3.2.4.html"> 3.2.4 
    Internal
    
      
      Declarations
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-60">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.3.html">3.3 Modeling with Mutable Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-60" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-61">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-61" aria-expanded="false" aria-controls="sidebar-collapse-61">
                <a href="./3.3.1.html"> 3.3.1 
    Mutable List Structure
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-62">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-62" aria-expanded="false" aria-controls="sidebar-collapse-62">
                <a href="./3.3.2.html"> 3.3.2 
    Representing Queues
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-63">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-63" aria-expanded="false" aria-controls="sidebar-collapse-63">
                <a href="./3.3.3.html"> 3.3.3 
    Representing Tables
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-64">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-64" aria-expanded="false" aria-controls="sidebar-collapse-64">
                <a href="./3.3.4.html"> 3.3.4 
    A Simulator for Digital Circuits
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-65">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-65" aria-expanded="false" aria-controls="sidebar-collapse-65">
                <a href="./3.3.5.html"> 3.3.5 
    Propagation of Constraints
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-66">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.4.html">3.4 Concurrency: Time Is of the Essence</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-66" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-67">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-67" aria-expanded="false" aria-controls="sidebar-collapse-67">
                <a href="./3.4.1.html"> 3.4.1 
    The Nature of Time in Concurrent Systems
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-68">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-68" aria-expanded="false" aria-controls="sidebar-collapse-68">
                <a href="./3.4.2.html"> 3.4.2 
    Mechanisms for Controlling Concurrency
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-69">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.5.html">3.5 Streams</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-69" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-70">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-70" aria-expanded="false" aria-controls="sidebar-collapse-70">
                <a href="./3.5.1.html"> 3.5.1 
    Streams Are Delayed Lists
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-71">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-71" aria-expanded="false" aria-controls="sidebar-collapse-71">
                <a href="./3.5.2.html"> 3.5.2 
    Infinite Streams
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-72">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-72" aria-expanded="false" aria-controls="sidebar-collapse-72">
                <a href="./3.5.3.html"> 3.5.3 
    Exploiting the Stream Paradigm
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-73">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-73" aria-expanded="false" aria-controls="sidebar-collapse-73">
                <a href="./3.5.4.html"> 3.5.4 
    Streams and Delayed Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-74">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-74" aria-expanded="false" aria-controls="sidebar-collapse-74">
                <a href="./3.5.5.html"> 3.5.5 
    Modularity of Functional Programs and Modularity of Objects
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-75">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.html">4 Metalinguistic Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-75" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-76">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.1.html">4.1 The Metacircular Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-76" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-77">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-77" aria-expanded="false" aria-controls="sidebar-collapse-77">
                <a href="./4.1.1.html"> 4.1.1 
    The Core of the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-78">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-78" aria-expanded="false" aria-controls="sidebar-collapse-78">
                <a href="./4.1.2.html"> 4.1.2 
    Representing
    
      
      Components
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-79">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-79" aria-expanded="false" aria-controls="sidebar-collapse-79">
                <a href="./4.1.3.html"> 4.1.3 
    Evaluator Data Structures
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-80">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-80" aria-expanded="false" aria-controls="sidebar-collapse-80">
                <a href="./4.1.4.html"> 4.1.4 
    Running the Evaluator as a Program
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-81">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-81" aria-expanded="false" aria-controls="sidebar-collapse-81">
                <a href="./4.1.5.html"> 4.1.5 
    Data as Programs
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-82">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-82" aria-expanded="false" aria-controls="sidebar-collapse-82">
                <a href="./4.1.6.html"> 4.1.6 
    Internal
    
      
      Declarations
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-83">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-83" aria-expanded="false" aria-controls="sidebar-collapse-83">
                <a href="./4.1.7.html"> 4.1.7 
    Separating Syntactic Analysis from Execution
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-84">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.2.html">4.2 
    
      
    
    Lazy Evaluation
</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-84" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-85">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-85" aria-expanded="false" aria-controls="sidebar-collapse-85">
                <a href="./4.2.1.html"> 4.2.1 
    Normal Order and Applicative Order
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-86">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-86" aria-expanded="false" aria-controls="sidebar-collapse-86">
                <a href="./4.2.2.html"> 4.2.2 
    An Interpreter with Lazy Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-87">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-87" aria-expanded="false" aria-controls="sidebar-collapse-87">
                <a href="./4.2.3.html"> 4.2.3 
    Streams as Lazy Lists
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-88">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.3.html">4.3 
    
      
    
    Nondeterministic Computing
  </a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-88" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-89">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-89" aria-expanded="false" aria-controls="sidebar-collapse-89">
                <a href="./4.3.1.html"> 4.3.1 
    
      
      Search and amb
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-90">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-90" aria-expanded="false" aria-controls="sidebar-collapse-90">
                <a href="./4.3.2.html"> 4.3.2 
    Examples of Nondeterministic Programs
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-91">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-91" aria-expanded="false" aria-controls="sidebar-collapse-91">
                <a href="./4.3.3.html"> 4.3.3 
    Implementing the
    
      
      amb
    
    Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-92">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.4.html">4.4 Logic Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-92" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-93">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-93" aria-expanded="false" aria-controls="sidebar-collapse-93">
                <a href="./4.4.1.html"> 4.4.1 
    Deductive Information Retrieval
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-94">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-94" aria-expanded="false" aria-controls="sidebar-collapse-94">
                <a href="./4.4.2.html"> 4.4.2 
    How the Query System Works
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-95">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-95" aria-expanded="false" aria-controls="sidebar-collapse-95">
                <a href="./4.4.3.html"> 4.4.3 
    Is Logic Programming Mathematical Logic?
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-96">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-96" aria-expanded="false" aria-controls="sidebar-collapse-96">
                <a href="./4.4.4.html"> 4.4.4 
    Implementing the Query System
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-97">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.html">5 Computing with Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-97" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-98">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.1.html">5.1 Designing Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-98" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-99">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-99" aria-expanded="false" aria-controls="sidebar-collapse-99">
                <a href="./5.1.1.html"> 5.1.1 
    A Language for Describing Register Machines
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-100">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-100" aria-expanded="false" aria-controls="sidebar-collapse-100">
                <a href="./5.1.2.html"> 5.1.2 
    Abstraction in Machine Design
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-101">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-101" aria-expanded="false" aria-controls="sidebar-collapse-101">
                <a href="./5.1.3.html"> 5.1.3 
    Subroutines
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-102">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-102" aria-expanded="false" aria-controls="sidebar-collapse-102">
                <a href="./5.1.4.html"> 5.1.4 
    Using a Stack to Implement Recursion
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-103">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-103" aria-expanded="false" aria-controls="sidebar-collapse-103">
                <a href="./5.1.5.html"> 5.1.5 
    Instruction Summary
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-104">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.2.html">5.2 A Register-Machine Simulator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-104" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-105">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-105" aria-expanded="false" aria-controls="sidebar-collapse-105">
                <a href="./5.2.1.html"> 5.2.1 
    The Machine Model
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-106">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-106" aria-expanded="false" aria-controls="sidebar-collapse-106">
                <a href="./5.2.2.html"> 5.2.2 
    The Assembler
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-107">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-107" aria-expanded="false" aria-controls="sidebar-collapse-107">
                <a href="./5.2.3.html"> 5.2.3 
    Generating Execution
    
      
      Functions
    
    for Instructions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-108">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-108" aria-expanded="false" aria-controls="sidebar-collapse-108">
                <a href="./5.2.4.html"> 5.2.4 
    Monitoring Machine Performance
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-109">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.3.html">5.3 Storage Allocation and Garbage Collection</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-109" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-110">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-110" aria-expanded="false" aria-controls="sidebar-collapse-110">
                <a href="./5.3.1.html"> 5.3.1 
    Memory as Vectors
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-111">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-111" aria-expanded="false" aria-controls="sidebar-collapse-111">
                <a href="./5.3.2.html"> 5.3.2 
    Maintaining the Illusion of Infinite Memory
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-112">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.4.html">5.4 The Explicit-Control Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-112" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-113">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-113" aria-expanded="false" aria-controls="sidebar-collapse-113">
                <a href="./5.4.1.html"> 5.4.1 
    The Core of the Explicit-Control Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-114">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-114" aria-expanded="false" aria-controls="sidebar-collapse-114">
                <a href="./5.4.2.html"> 5.4.2 
    Sequence Evaluation and Tail Recursion
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-115">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-115" aria-expanded="false" aria-controls="sidebar-collapse-115">
                <a href="./5.4.3.html"> 5.4.3 
    Conditionals, Assignments, and Declarations and Blocks
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-116">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-116" aria-expanded="false" aria-controls="sidebar-collapse-116">
                <a href="./5.4.4.html"> 5.4.4 
    Running the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-117">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.5.html">5.5 Compilation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-117" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-118">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-118" aria-expanded="false" aria-controls="sidebar-collapse-118">
                <a href="./5.5.1.html"> 5.5.1 
    Structure of the Compiler
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-119">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-119" aria-expanded="false" aria-controls="sidebar-collapse-119">
                <a href="./5.5.2.html"> 5.5.2 
    Compiling
    
      Statements and
    
    Expressions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-120">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-120" aria-expanded="false" aria-controls="sidebar-collapse-120">
                <a href="./5.5.3.html"> 5.5.3 
    Compiling
    
      
      
	Applications
      
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-121">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-121" aria-expanded="false" aria-controls="sidebar-collapse-121">
                <a href="./5.5.4.html"> 5.5.4 
    Combining Instruction Sequences
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-122">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-122" aria-expanded="false" aria-controls="sidebar-collapse-122">
                <a href="./5.5.5.html"> 5.5.5 
    An Example of Compiled Code
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-123">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-123" aria-expanded="false" aria-controls="sidebar-collapse-123">
                <a href="./5.5.6.html"> 5.5.6 
    Lexical Addressing
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-124">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-124" aria-expanded="false" aria-controls="sidebar-collapse-124">
                <a href="./5.5.7.html"> 5.5.7 
    Interfacing Compiled Code to the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-125">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-125" aria-expanded="false" aria-controls="sidebar-collapse-125">
                <a href="./references.html"> References</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-126">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-126" aria-expanded="false" aria-controls="sidebar-collapse-126">
                <a href="./making-of.html"> About the SICP JS Project</a>
              </span>
            </h5>
          </div>
        </div>
        </div>
<div id='permalink-msg'>
<div class='screen'>
  <div class='alert alert-success'>
    <strong>Permalink copied!</strong>
  </div>
</div>
</div>
<div class='chapter-content'>

      <div class='chapter-title'>
        <div class='permalink'>
        <a name='top' class='permalink'> 
    4.1.1&nbsp;&nbsp;
    The Core of the Evaluator
  
        </a>
        </div>
      </div>
      <div class='chapter-text'>
        <div class='SECTION'>
    

  <div class='permalink'>
<a name='p1' class='permalink'></a><p>
    

    
      
      
	
	
    <FIGURE>
      <img class="scale_factor_" id="fig_4.1" src="../img_javascript/ch4-Z-G-1.svg">
      <div class="chapter-text-CAPTION">
      <b><a class="caption" href="./4.1.1.html#fig_4.1">Figure 4.1 </a></b>
	    The
	    <kbd>evaluate</kbd>–<kbd>apply</kbd> 
	    cycle exposes the essence of a computer language.
	  </div>
    </FIGURE>
  
      
    
    The evaluation process can be described as the interplay between two
    
      
      functions:
    
    
      
      <kbd>evaluate</kbd>
      
    
    and <kbd>apply</kbd>.
  </p></div>
  
  
      <div class='permalink'>
        <a name='h1' class='permalink'></a><h2>
    
    
      
      The function 
      evaluate
    
  </h2></div>

  <div class='permalink'>
<a name='p2' class='permalink'></a><p>
    
  </p></div>
  <div class='permalink'>
<a name='p3' class='permalink'></a><p>
    
      
      The function <kbd>evaluate</kbd>
      
    
    takes as arguments
    
      
	a program <EM>component</EM>—a statement or
	expression<a class='superscript' id='footnote-link-1' href='#footnote-1'>[1]</a>—and an
	environment.
      
      
    
    It  classifies the 
    
      
      component
     
    and directs its evaluation.  
    
      
      The function <kbd>evaluate</kbd>
      
    
    is structured as a case analysis of the syntactic type of the
    
      
      component
     
    to be evaluated.  In order to keep the
    
    function
    general, we express
    the determination of the type of 
    
    a component
    abstractly, making no
    commitment to any particular 
    
    representation for the various types of
    
    components.
    Each type of 
    
    component
    has a
    
      
      <EM>syntax predicate</EM>
    
    that tests for it and an abstract means for selecting its parts.  This 
    
    
    <EM>abstract syntax</EM>
    makes it easy to see how we can change the syntax of the language by
    using the same evaluator, but with a different collection of syntax
    
      
      
	functions.
      
    
  </p></div>

  <div class='permalink'>
<a name='p4' class='permalink'></a><p>
    
      

      

	
      <div class='permalink'>
        <a name='h2' class='permalink'></a><h3>
    
	  Primitive expressions
	</h3></div>
	
	<UL>
	  <LI>
	    
	    
	    For literal expressions, such as numbers,
	    <kbd>evaluate</kbd>
	    returns their value.
	  </LI>
	  <LI>
	    The function
	    <kbd>evaluate</kbd>
	    must look up names in the environment to find their values.
	  </LI>
	</UL>
	

	
      <div class='permalink'>
        <a name='h3' class='permalink'></a><h3>
    
	  Combinations
	</h3></div>
      
        <UL>
	  <LI>
	    For a function application,
	    <kbd>evaluate</kbd> must recursively
	    evaluate the function expression and the argument expressions of the
	    application.  The resulting function and arguments are passed to
	    <kbd>apply</kbd>, which handles the actual
	    function application.
	  </LI>
	  <LI>
	    An operator combination is transformed into a function application
	    and then evaluated.
	  </LI>
        </UL>

	
      <div class='permalink'>
        <a name='h4' class='permalink'></a><h3>
    	
	  Syntactic forms
	</h3></div>
	
        <UL>
	  <LI>
	    A conditional expression or statement requires special processing of
	    its parts,
	    so as to evaluate the consequent if the predicate is true, and
	    otherwise to evaluate the alternative.
	  </LI>
	  <LI>
	    A lambda expression must be transformed into an applicable
	    function by packaging together the parameters and body specified
	    by the lambda expression with the environment of the evaluation.
	  </LI>
	  <LI>
	    A sequence of statements requires evaluating its
	    components in the order in which they appear.
	  </LI>
	  <LI>
	    A block requires evaluating its body in a new environment
	    that reflects all names declared within the block.
	  </LI>
	  <LI>
	    A return statement must produce a value that becomes the
	    result of the function call that gave rise to the
	    evaluation of the return statement.
	  </LI>
	  <LI>
	    A function declaration is transformed into a
	    constant declaration and then evaluated.
	  </LI>
	  <LI>
	    A constant or variable declaration or an assignment must
	    recursively call
	    <kbd>evaluate</kbd> to compute the new
	    value to be associated with the name being declared or assigned.
	    The environment must be
	    modified to reflect the new value of the name.
	  </LI>
        </UL>
	
	Here is the definition of
	
	<kbd>evaluate</kbd>:
	
	
	
	<div class='snippet' id='javascript_76_1_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKqY7bHlqdUAEMADmIA2ATwAUAgDSimAc3oBKUAG9soPVQKhZVegH0xTKqyrUAbgFNTAyrRLzS6zTr0-QTexRETCSiEjLmltZ2js5CborKauoA3Lp6AL6g9pL09qAGRiamZGxiNKQAJk6kLnTuJJ7aab4lDBR+9vREku0AvFm2IpJEIhT29bUkpgBGNBVyAuoKzb6ra+ur9gAeYyRV9iS2VCwkrAcUsisb1zc+sa7mIkwiZ2NM9PVLV7c-a09qy1+QPW9zopgORxOZxIF0WnlSa38gWC+TMSKCU0Gw3G-i6PXU33WAH4OsjMUMiI5WrsLrjuhQCb8AFygSr2AhUEj2CoIjJZHJ5bybJgsJj1JQAIgAqiQANYkGgAdxCoJCFGkYjyAFotaEpNIJSlmulsCb+DU4qBJCYKKYaARTFjKR9tmJ6EoIV4ruiUaxxLJ-qBegA+AYU0bjf4ew5LLJbN1Gs2qsOSYp0Co2VxDWQlVhlLkw6O2L2+H0hIoUJhECgACzk9idEZz6czdCGEW5VDITdz+fOsc9jJuJIb4bGzb2rZI7dauQAjpSYc283R+0Wh9cWaPhj2W3F20M3tPosu+zCBzHUkmLa4U6Z54uyON6BRWBR3VkY01fAVjGZ7Hm6r3vYC4HE+sgvm+GglusZasns7KctyvJ8tkuT5IYf6mJIIgvveFARtCFyQe+jRCoiAQYimIzjhy7y2i+hHnBBr6kQonooaAmRoYKhKgLO7R0XhJGOhSeT9HxvjbjR4xCQxBFjERLFQUsHF8b+RRlqJ2LyMcwmsdplJkZJPhwXJ+FvoZ9icb43ECt+txwduwGgeQ4wmRR+lMTCHwkRo7GXnxJq2aauDJtaeH2qYpC4fQVAqFyFSyNOZwaA5ehwX6YjJS84mhhKABUMX0HFCXcgVEpKClnSJmFN7CPQ3ZTOUtoVPYZA4c8cQfL2q7nulGGFGYD5geMvUFgyMFrAJoB+UGs0gY+jiMYp5w9aUfUMjZpmUSiRQAWIQEjW5ymkR5vgkiQ3SSOdPgsuImp7BBTV2tWphtR1TyjK4HzmStAHMX5niAsCGyNSIzVvR9nXfXQHy3cCfqysti2jbIuLyd576ndB8IrHZ6HkascFFNDX1xKem0btcJIRRcZNdQ89DSKwsySJTE2eOdLJXZIkicSa16CLeznTJINBkLKHPnOuA0zbM8zzWLEuyjMcxyON-acTN4vdjk83g5DrXtTD3WyAr0hGi0cPtMVpWJYw-R03aDp2-FiWyLrQwaJxTmNuOFsejsBz7Icxx0EpXs5CDoOxzcbtlRUH4I3HvyDledXC8Izlaf9Sma4Wn7FgNmUiMjphaU67nAtJTZaa6uJxXUBcMuutXmlnITObF7v5xtE2y0TM1V-Ntfjj3CVEVZ4Lxo3rjS+e66cRPUzM6zNCplXAYlb35z3izbML63oBV0vKxwVXGcd5Md4M7Dbgt4PKwr-v6+b2Jsh33Er+Hy3sYp9cMe4wv4PCrjPCwnQm4P37muABsd07n12iENkHJEpX3wKqRgBAWDsCgHARAyB0BYAAEyZxvkUa0bxsx-xLkg1Epgrqs3sGKGhoAAA+bCPJFBfJYEgKgj6aHYZw24RRZgb3sBDARQiuFmF5uzVhegOEyOighVB3IBEZ3CjYZh7Yt40K0L4RBZJ+IwJhFfZMFYRAqBUNybCNoj5KFrI4AiKgpqkiokUMQIhjhSIAGS+NADWCRSUaG9DCaAJxpgXHmPquWWRuUpFExJmYFxNiqh0wcaACU1VDQxM7rNA+G8XYMISfooxVEgkiCSgRKg8jTGTTyeQswK8+4rk5rQ4xljrG2IyY-LJLTzi5NCsmAZMIf4b0SeUlElTqnePZjM2QNS6ltP7J4WqIyd6Tz3mAhukD55lNLHQhZSzFlzIEXjIWTT3om3Jvs+pbjklRKsWkuxL5MkSgEhDY2n1GZ0ENNIkRKTnk9PsX0iUgxLAiDFo4EBfzNBKMBU87p6TQX1MlKqa5Pz75DJNMmWFq9CnLLPAydKcFjlnPJbU85Fzr6WnxdPXZO9m73NJUc4JpyqUnL-jS2lt4KEvGmBUEQ4C57MpWf1cijzUkgreWCnCrMhUir2XCzRsSrQCsVV454rxmHjJyJMnaxisoQUJcU6qShKVEqpjS8KGrhUWwNRlNlVSOXsy5fcnlFi0RIPwljR17i9pAuRa8i4YLc4KQBjCHFvLhD11nsq6B4qSWSudbMql3LGmWiKK0DM+4rXtKSXQrpLzeloqyTmqc7ZGVQP+Qim4xaZWhrLR8vcWZUx50GestVFa80dgzN2ccBynXGOdv4AgmSMBdvyT2ttaYGCoyXEOgNIRR3skycQqdN8Z1tlTIeZhx4qAOH9XBVd46+kAGZ25epcktU6U0pXApRW8kikpjpPmjcmJGKNXLgSBqykd9iJRvvsJVWarEfbDLVcB31q0fJ3u0D4ZoZL2UnJIjatVf0I1KT-Sm4xCygaqvyRjGDkbsY4aQ3Q1D4HN1Zv-IBaQN60bkcNR42R10cY0b5WYHCXlYPEWo-+1jDD2NUZUletVojdZSyXcu+h0qn1NqTZKZWksP1qpU6rB1MnkMuvdUmz1EnmlhC7PfY9Rag0ltRUp-pxmB2uDU-kjF1a7n6cE9MlDZyM2Qfyf8JVTKGBmbwx5zlnmPXtwwbErBOCOD4O4EQtA56yG0aiVWWscgtgPPM2rcRkiMugA8iSLYHktwihoGKLYymaA5a7vGdqYwKhKH8E+Q93ImTRpjSEL91RO6yC1blN4H5A5F0ywBt5LaVyVG65MSqAC+s6veEoIbalcWGbTBNvYU2KYEBG0J+TIb5CSl6pN1UDmb4YrmwEZhv0dsolPQd0Ak7CNndiWreY8gbsrptBXNdBAlAbqe5aJzYcoTMW2x0qid3fugEvZm28XXK4f2pP2cHt3AMI+xKBpH54Adce+2SKysgq4fbk4+-bp8sno8pKdy0lOqR0BpITsSxPLWM+xAZ-JYFxZxT4eCYHEdmKehR2qM5y2OuED0rabBCTBeFqCy60XM1IkHSAhCcOpxzjzTkakMXXWpdnBNW-D8Vc0qy6ol4nxa82ZG7EhBlbjntXLUJb9B3XhDGHLl0lPX9hOPCC91ZZ3uVXeIfd1RE5XvxMc+Dht1XIOlyW43tb6OoBpi4UcDLqZK6DgqFrAbq3mgwlOyzznrEGgCugHN2KXXDvc8J6UCX2MKfci8+LMVq0Reaw15yJoAAPG3vhxfvbUxplkUrYoJQABUqugD9CQaQiQiBEUYF0YzrWsmgAANT5dTnoHhnIVAGDkPHrvG+smShP3A3wu++EH9Z9BW6JXRSyAn1Pgg9hFTz8X7NIgK+KgsglOf7fMDXhffAgQ-J3TQTfUDf-TfC-HwK-EAuQevCPG+cWGgWUb-PVAnI-J+XwZMCEbCKrbKdPDYZMQ2TvRPE3c6R5ORcgofIEEcQ4AgmgbKWAqScgLnPfZvNXJSQcWAlkI-IMcJfDcA1g0AEkBZevUQ-gpqV1WgxxM5JA7aDIdSTCCEQQ-oJXejLg2PZNc6ZhR-bArJGUWYSoUAHJK2dYAmXiH4GaL3eacyL3WQNSH4OCMgv3I-APM4L4QAu4B3f3eQF3CwtYYKHwEI4dKifA1AogwKS5S0F+I-LAwlOvIYHAu4NVSIwgpwr8ImXAqDGQjw5I4-HI2CLLGgjwug4cIuJglg7fTnGgbnFQbQ-nJcXg0GfgwldQwJdlcoi-EkXIW0CQ72Qoio24aQyRVDcA+QqlRQoKLfdYX8NQgvCJIJcELQmPZo3Qn4fQsrTvSUYw8oPYMw3KUAHUUQTZdXKNII1YKwgaDYWwh3ewiXJwavZwxyOhNwvwjwgIwPGOQAv3Y3b4rwq4kKEEljFEDI5grI4sdBMATBZgNgGLLgQhXgFAJLXHCwKwTMBwTbeeRYNzOJJFSzN5BICUDEqIFranW8MkrExwKwKQUjUzPE3DCpYLdmOEK+Gaak6IHEuGeaDJQkDJCUGZUDHwGZX4bwtYQUpZEUvQJZcU34nwQUivGU8vbxJgeUgUwDOmFUumDU9YQUooORUDQ066G4CU1YQUjMegKQEQA0JQK0m0ufa4c03wQU7YpgGU90n4F0xUwDP0WsUwKFegSqf0msQM6YRgDYH0vQQU9fFUnwWQCrUAS2IMUMLYE-J06Mq0QDLUeMvQRMpQFMkMUAdM3UTMhUmMwDCqJQNYAs5M-PNM0AAqZMvQLMwU4APMowJMosxssAcszUsbAAUk7LrJ7JLNAEHJbNADbMAwL3jNHIbPHKWMtgrOzLGwAEIwl5zuzFz0zNz+gVyByLgJRu8RydzUzxze89BDz9TANu9eg8yFyLz0z7zryZyxtgwzzCzdzQBQw3zVzBTgwHyazfAnziz0ygL-yjyn91zOzxzfBiy9B1yfAMtCQjROTIgaSeSCVDcgw+JjUZklAuSWtsKIMMLMTuSMUaBpgAArOrR2fC-0AQC8pUzC6IUDFnOELM1YYi7EzBI0bAci8k7Ez5HyPk+xQUlBJCCoUDKSxKbinw30sbSAEgVBGwO0vQFStS9UBSxStc480M0wWASAGUwy4y3SxSwUwygAURVJsosp8MFIADkRAnLOyXKnKRi9L0KbZy82KSLRKGInc8KNhjUyALyFkyBYxeK6c2gvkyLfKYq51GIxljcQr1gwqIrWScxgY-KKKAqbZ4qBKRkwgGMkrVRxREg6ZicHpwhOQVE2omAZBOCaKRBBhGpLBDpLhQYkq6TJAGStsPBVzrh-hqrkhVhQoxd+iMD1iLiLhidthdhQ5IQNjuqgQHoQ5et-K+KXsCi5jt8krAq9V-IU4NqnpyqXtqK6LKBk4fDDrCrUqbcHKfBNDDoGNZqiJ25+r2hIkVBxYU9UwPqNd+hpqxAmi5rZBir0j-Yxoy1iDwjA07EqF81+wTJaZtFnh34dI-4TIWRDTSl7k0arQqt0CwaEit4EiopqoBF1xcb6FaqTMKYcbKjar6wYaJhv5nMxViULxixhqbhnYooATfMuaAs-425sAABIPQPGswZgnRCgMrNbaYTkUzZm4fIBWQeWrqJW3MFWg9MERWwM2zNW+5Wmm4WWudXNNtARIm5ybdacFGwuT0Om-lBVYVUW22yo3XWJT2O1R4B3N4Y6mm0Qi0-2rTM24bV24aBdcCdWjYEcLERjE6aDDtODblc2zcehZXBjNOxTHmomuS7kaOmYKTL2jWpOjTTJF2i2+hcNP1eO4kO8euvjaumMEu0ZfOqmO2pOzutulvaW0AS2jFfFARQevQKWvQROscWSF7aGKJGgZKgiMZaGGmqO2u0mG5X5RNAuyo5yUevpGurO9095GUeUJUEIZmGEEQUs3UIBdrGaVgMqlgFQbVeaLVXIJ-DAcagxSsSkca89ca9IIZTWp+iIGgV+l4RxFYnO8Gz65IIAA')">function evaluate(component, env) {
   return is_literal(component)
          ? literal_value(component)
          : is_name(component)
          ? lookup_symbol_value(symbol_of_name(component), env)
          : is_application(component)
          ? apply(evaluate(function_expression(component), env),
                  list_of_values(arg_expressions(component), env))
	  : is_operator_combination(component)
          ? evaluate(operator_combination_to_application(component), env)
          : is_conditional(component)
          ? eval_conditional(component, env)
          : is_lambda_expression(component)
          ? make_function(lambda_parameter_symbols(component),
                          lambda_body(component), env)
          : is_sequence(component)
          ? eval_sequence(sequence_statements(component)), env)
          : is_empty_statement(component)
          ? undefined
          : is_block(component)
          ? eval_block(component, env)
          : is_return_statement(component)
          ? eval_return_statement(component, env)
          : is_assignment(component)
          ? eval_assignment(component, env)
	  : is_function_declaration(component)	    
	  ? evaluate(function_decl_to_constant_decl(component), env)
          : is_declaration(component)
          ? eval_declaration(component, env)
          : error(component, "Unknown syntax -- evaluate");
}
</pre></div></div>
	
	
      
    
  </p></div>

  <div class='permalink'>
<a name='p5' class='permalink'></a><p>
    
    
    For clarity, 
    
      
      <kbd>evaluate</kbd>
    
    has been implemented as a case analysis using
    
    conditional expressions.
    The disadvantage of this is that our
    
      
      function
    
    handles only a few distinguishable types of 
    
      statements and
    
    expressions, and no new ones can be defined without editing the
    
      
      
	declaration of
	<kbd>evaluate</kbd>.
      
    
    In most
    
      
      interpreter
    
    implementations, dispatching on the type of
    
      
      a component
    
    is done in a data-directed style.  This allows a user to add new types of    
    
      
      components that
      <kbd>evaluate</kbd>
      
    
    can distinguish, without modifying the 
    
      
      
	declaration of
	<kbd>evaluate</kbd>
      
    
    itself. (See exercise&nbsp;<REF NAME="ex:data-directed-eval"><a class="superscript" id="4.1.1-ex-link-4.3" href="./4.1.2.html#ex_4.3">4.3</a></REF>.)
  </p></div>

  
      <div class='permalink'>
        <a name='h5' class='permalink'></a><h2>
    
    Apply
  </h2></div>

  <div class='permalink'>
<a name='p6' class='permalink'></a><p>
    
      
      The function <kbd>apply</kbd>
      
    
    takes two arguments, a
    
      
      function
    
    and a list of arguments  to which the
    
      
      function
    
    should be applied.  
    
      
      The function <kbd>apply</kbd>
      
    
    classifies
    
      
      functions
    
    into two kinds: It calls 
    
    
      
      
	<kbd>apply_primitive_function</kbd>
      
    
    to apply primitives; it applies compound
    
      
      functions
    
    
      
      
	by evaluating the block that makes up the body
	of the function.
      
    
    The environment for the evaluation of the body of a compound
    
      
      function
    
    is constructed by extending the base environment carried by the
    
      
      function
    
    to include a frame that binds the parameters of the
    
      
      function
    
    to the arguments to which the
    
      
      function
    
    is to be applied. 
    Here is the definition of <kbd>apply</kbd>:
    <div class='snippet' id='javascript_76_2_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKqY7bHlqdUAFMAbgEMANkQkURACjJsADnREkKAGlEkxASlABvbKDNMRFIkxKgq9APpSq8ptKWr1m-abN--APygzq7SDpIyisqsaiQaFD7+SaAAXHaOJBKsUZ5x3r7JZkFSNDQA1kQqDvQAnqwARjRS4dJEirUNTQ40BA6Z2R4xXgk6GgYFhWn2DhIqKs5kcrQkg7HxiYVFoLPzNQrirXKKApTLDiIAHioW9PTLq8P6o3pPE5vJzvQU3b0RbfQKCRMADm5yuNzudAB0TW3meBh8AEgzFNHDQVCI3BQaEwHNF6lRMkIVjDHm8kkEDjIjgp0Zi5Di8WwCUSztiZnMFks6A88iNdON3ql0kySAATFzLdykvkbTaUiKiiXE6W5eLwuWTEVSLL1MUSMHXES3e4y9bkwKgVgSMoiBwnYkKHUNfUOFRArKWTHVOqNKTQtVwi1C97OvUGxpivZmuECzXJVHVEQARza5ByQ1lwa2VKTqY0ZHaKbTheqFCO2U0Acz6yecezwumIhiFBqZYr8V55qFQVIYpEBEJIjFDcT9RKZDKXfyPdEivHNEn0+09aFiYsVhs7fklYoy-jFLnYQ31hI2+bnZjK7GB-8iYkJuBJF3+4bCrCD7uT5fV412GRjaOA6Zz9mQOpYqagYJABZj-jmfw0sBdAOKBzTssoDDlpoKEiGB+5-muIqoR6jpXrefjvs0xEQTyv6ru8aSYiwTDLjoABEACqJBlCQNAAO62LUmgSBcoAALRiUe1LyGx+gANzYAAvrgSG2J83w9C0kQApcKj0BqxhvCeNhWrMgIgqAAC8AB8UmyPI5nAhqoxXPQ8lKSppCnMIuYYcqUpSKxcaGf4xm2NMFBMEQFAABZ7FS9k5OKkp0GERoSosDlkRq5EUXZNJ+SlmTNBh9DFpeUF1jeDbCglBV0P5qXNNIrismIGawvyN4Kcp-BecSUl5iW7QUKwFD6cFJj+FQBCgAoTYtm2ZX5umChfGNbmGFNhRhaAfYDkOYoKf4imiP6Ih2LN82ODqXzni+63jfoW3BrtdUOYOTB3V8HaaGto1PVo3UTKdIjnSFhSlRQhBUF93yPVpbRWaANX5R9sPfeWO6do9blAy8x2FDNc3TGFiPHBj8MA+Tz0Q0Ku2fZjY3k4TySg+D2305Yp6Dctw0KKjoXGlTv3jf9G1PMDmzKSdHl9YIyzBPYGm9KQn5UE+w4KP0xovULm62NaKja56Vm2WxABUauPnEYoW2xOg625PWeQrwj0IsZ40NFOFgSRyzVp1et+MT11DQWHWPMHyRQ6AuPI3zEf3fEgePKzSS7QtKituHq247lyRBCQRBSFIgsotscwaGKa2e90PvUdyDAKIzIvY39+evCG3dx3X3vfI3xIAuXPembaueFgoNxtxeVbi09z3uSdZ1lXTGfcyZ0yD5BNYziGxTKwo2-IR0fr7gXFfF6X6fKb1qmDQuS50Tea+x5GNTI4-ZQOO-+7p7HE5pCMEsr3CQXsG64XAk3AE78l5+FjtbL8ttgFKzuppRBGtbZOkXEAuB5gN62Heood+Ll5DinOHoWGdAXyAP9FoEeo9GF7UyDbYcE0GFMJ7jedyd9+qK1zGTH67c9zPxeGvXa1px5kz+IoEeRCp4EMNBCHeQccou3lt5Qhip1bfgqrva8YjOagFjjI5G8idHPniOTJRxpIQkkqhqdOFifSdGaDIwENtdwuLPtlUAMjHETF2jI9R99czH3sfogyRjnGny6O48J3imj4RRpwwo8iEkyJsSaWiDiOFMO4enXa+1By23UfgVSjACAsHYFAOAiBkDoCwAAJldpo7ULh6SBTIuIghIpi4NExPuMwAAfYZNVphfCYISYEQzQCjPGY4RoTQRBgKGfMkM0wr5dMqv4dZQppjFMOn-Dy98QidPJkMow-hAm9KvCEvhwgIoSGBMCYcThD50VinacswJo6gEzo4d0sMhkADIQWgBiismu3TLKwtAF8hwPz7lu3ChkT0lybkGxFD815Yp3lfCCmxHWslkVtNic0TSOsMX6x5pCiQNdyxUG2fo56pKBrTAsT+HZRiAWIuebi-FIioLsU5fEElJyHm2FFdhcl1K-C7TpQyiQTKFCKoUIy5lQdF4u3vtK74mTdLKJySynpWK1UavVcqzVUceGtPZY4cJcr8FYqeS8t56lCVQzAQPSB-s6CyTmWMjZjgcXuo+cK0AbFJBTIkOOO04SA17PeK6gVHq6JsVUr7KBxJxXKXvgk2V3TOYKqhZalV5qrXn1ZRKlFoAMmtDtIa2xKjHh0xLfSstgULVkWrbw2t0wwyuibdkiJQc229JTWGgl6bB0GmHXY3NGiBqzrdB6bIrhEn+idRIsy5Kfh9E9DoCtKqe22tObqV0v8i0FHbUqlV3bKq9rtYrUmiihGzyFSa4tE6Q38qnZ+zq7FBFYw-Yu++ZN50ttlOOs1paH0sttUul9jhCoqmtdBnlP6+VurxWmiNbFUMBSyQuwwSbNiTtw+GyJkbCNNWTpoMDkrjENSKmlCwGV6pfpvb09SDgLAECChgM9THaPFVFInP6175U8eVnxgcQUmnCdraJj8UhWpLHatumTd1+NBQAMyIfvhM8qecAbR15aGyjBLHrsQk4WRjtbJF2jsyNCWMGeYerYi5h2ccAbOxrWSkzpZ327gBI9LafhuOwY7Ra8LSm2mt3o3ufO7mTJqvzjqpj08kthb8+Z3psW8uZf7Y4Zs2clpBdc09VLqK+gl0ChlgL9qnAPhng9PLNW+n1c7fPTabLkM-wnFOKT0mXW-pw4KwlX8HNtK-j-GgUYnX-N6ce9DtZ+uPMcDsLkpFuVRZ5hRyb6bttUEyssGbA1M2QeNWO790W71re8PFgaQJQTXebiN5b92evwa1Yh8pkrKnVI4HU7gjS0B6efZtxFUVYp7AuH83lSypArJWAjlJs4Lg1UYkwZiCgLjsWR6j0QVxcLyDFDoCwhYqDtTFCkRdSHhBOftJKhQ7o3DrsxBNEhk1MUecPgRzwfYWcoodgw9nnpXDc4WzUAJeamPTFJML1SLdEdYcs5Ngg7ElfkNUhdxWmaJec6+qr01-OdPya16AITxWEuSvm4tggausW8d01bxTtvLv27GFQyxf0ndm5Mq7y3OgDMbcNjaO00iG0eE0OsQPakBfR8iD5jCZCEie4G8ntoCgZHO4O+N1Nh9-GRuzyIfXwgy+inT7nht+e0twcrXnwzTGCwlDuCQN7lCWB+73C-TDWKLXA3l7WxLVT0X975w3jtw-sCxwRWVnOPue+7mRlshSjOI-j3HwMclE0ZFuQT6AIFLE986AP89g3HPnO+iaACHfIgIuRZpdPmuD-L-CAf+Te-1+n+wRf7YBau-uHiTmQnisvtQjjLfnQn4kAjoPUA+I2oYlPmpBoMCLFGtNAYfrCiAijp3hgREG5DVEECfgoMzg-pga4vvrgvAYgRQoKIRHgegTFJQX6IfgADzBBoEEG4KCyUi444gKBsQAAqpQpkJAH8r2RAoWcclQ8wVAw4aQbEoAAA1Bjqkr5lMp3jNHsHvoYGoT5soWoXkn4JMtMjobXv6M9ILDjnjiIWIQQCIHxNsCCNISnLIZyAoXTpGqoeoakmYdoQQLoVgfoZGuxL4SYWYAEcCBYYQU+pvsEKUBUFUHuu4uSlEhMKEnoE4KUMbJPpsPfB7KsmfrAVYWvJsLylsqwXfhfPKAKDkeiALBof4G3jQB3l3mIL7i+NwiYWkOSlZHCuliEZEaAEEGqnESMX0Z7D1noToBanEXgkkDLETFdGMAMSAgvotPQV0fHkYpsExIIekZGlxI0H2KAMSoscvGDKvHsZDFCNDA-sjGPtfvsATKjLtEUSsF-nvi3L-vQs0f4F-gfr8Z6NWtLCDCgfUSUI0bPgkTEtARckcREBkYCa3tkdCXkcgQUUxp8dUTAXEeUTtFhlUXoQwpSOibkU0Roa0e0dsSvp2D0Uwn0dAesRCqWqSakkEGVN8OMXAaUbUQmKAisLFiEXMU3rgpcX4KdMGKHGsTgfCpCucFsRAb3n8vsQIaftAexCcd7OKOcabBJNsJ4mKpKWYOzDcajLHI8SAs8RPm8d3B8dMd8VgSCdkF3ACWYECQ2j-qCaaaAMsWaZCWMA0ZiQYGUmABUswGwCDlwA0rwCgFDrVtcFQKwJKO1CLpoi3KQPlmNthkXgSgIOxMmamdQO1BXrYMWWmXaCmfMB+k3FmSQDmbSo3iqgIPEbHJWaWXaJGbgYfBaJ5oqj5n4Iqj3O6UkJ5hqkOWYBqqOf8R8ALiflOcfsqkwLOf2QLupEuepGuYUJ5psvVj5vuaXEKGOf4J5hKPQPMBIDUD5heVeR-O8KeX4J5gcUwFOa+d3E+WYJ5taLFDMPUPQA7L+TFP+YwJsF+agnuGxCoUuX4PjjoDUIYDZKAKJGoQ+RBZ5mJLBWYPBaAIhWbCheJHhWYBhQLvbDoMkLhfhchaJBbMRaAKRQSmxMANhXNATnhUhbZKJGAOhXOeOQLgAKSsVUWcWEUCX0WMVQU4GwUiUEWiTymIV8VnkC4ACEsKMl7F1FXFoAalICil65TF7BwlmloloknBZg+lu5Au7Blk2FslNFoANlFlklQh1kxlCFploAtkzlSlz5Au1ktlFF-g9l2lAVPlBlUFKlrFhF-gyFZgKlfgCOFo7kHZUyJZNO3Z9ue+VkwYRsqqUKOgnZGVGZQ8KV9xx+aVVZJVZwNA9QAAVmTsArlWZAIARZ5kVWWUei2YFG2c9L5YUB1ZlSiv5nPuVYNeJlhONMjB6p5ocrbD5nNcOBBR6cpUxZACQCUi4DeRRetZta2MtStd+QLsBQ4LAJAFOSdWdQdYdT+XICBQAKJLknX3XXUrWeYAByEg71rFn171ApGhZVmEFVKZVVXqMqWBOVmweVZABFaqZAdY41YNT0CkqVINXZE13q3+kNhQ0NsN3VSgfVwN6V6ZSNI1uqnIbY41KuhZLhwI6k9eUqFNDghIDg+0TAUgNQ0yDgdVEgkgHsUy2cVJo841NZKOu49ZbZ-VQor29NckSQcshR3MVQKpL4DNoB1cdJkBf0I8Ow1cbOlV6NmaJRIxRNoN9xmNsxOtVc4o+taNxVmatVDVlA7CHpiN5t2EF+Utmwmx5Wmtqp6iKO0MCKdNtVYQKt8QCcStftqtG+5NuwDZOgr2h+nMoc0wVNrOvVhJu022lNBt9tGdpAidII-mUpK8F0qdKGQuuuBdjZapzGQNNwJc0MIC8imav8ktJt+xFwYB0dnYndIYhua6XoJuHdh10txdXtY9hA3u3eWte4vVkpvKZeCi9ATdApQQVeaenYjdamApaQi1R0BQ5pF0txr5Cdxx3EvEAk09tarYGI4kkkOd4qUpcsHZMgKC7VednVbFHlclvhiFCkOdbO79OgHqGAOgim8kQAA')">function apply(fun, args) {
   if (is_primitive_function(fun)) {
      return apply_primitive_function(fun, args);
   } else if (is_compound_function(fun)) {
      const result = evaluate(function_body(fun),
                              extend_environment(
                                  function_parameters(fun),
                                  args,
                                  function_environment(fun)));
      return is_return_value(result)
             ? return_value_content(result)
             : undefined;
   } else {
      error(fun, "Unknown function type -- apply");
   }
}
</pre></div></div>
    
    
    
    
      
	In order to return a value, a JavaScript function needs to evaluate a
	return statement. If a function terminates without evaluating a return
	statement, the value 
	<kbd>undefined</kbd> is returned.
	To distinguish the two cases, the evaluation of a return statement
	will wrap the result of evaluating its return expression into a
	<EM>return value</EM>. If
	the evaluation of the function body yields such a return value, the content
	of the return value is retrieved; otherwise the value
	<kbd>undefined</kbd> is returned.
      
    
  </p></div>

  
      <div class='permalink'>
        <a name='h6' class='permalink'></a><h2>
    
    
    
      
      Function
    
      arguments
    
  </h2></div>

  <div class='permalink'>
<a name='p7' class='permalink'></a><p>
    When
    
      
      <kbd>evaluate</kbd>
    
    processes a
    
      
      function
    
    application, it uses
    
      
      <kbd>list_of_values</kbd>
      
    
    to produce the list of arguments to which the
    
      
      function
    
    is to be applied.
    
      
      The function
      <kbd>list_of_values</kbd>
      
    
    takes as an argument the
    
      
      argument expressions of the application.
    
    It evaluates each
    
      
      argument expression
    
    and returns a
    list of the corresponding values:<a class='superscript' id='footnote-link-2' href='#footnote-2'>[2]</a>
    <div class='snippet' id='javascript_76_3_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKqY7bHlqdUAFMAbgEMANkQkURACjJsADnREkKAGlEkxASlABvbKDNMRFIkxKgq9APpSq8ptKWr1m-abN--APygzq7SDpIyisqsaiQaFD7+SaAAXHaOJBKsUZ5x3r7JZkFSNDQA1kQqDvQAnqwARjRS4dJEirUNTQ40BA6Z2R4xXgk6GgYFhWn2DhIqKs5kcrQkg7HxiYVFoLPzNQrirXKKApTLDiIAHioW9PTLq8P6o3pPE5vJzvQU3b0RbfQKCRMADm5yuNzudAB0TW3meBh8AEgzFNHDQVCI3BQaEwHNF6lRMkIVjDHm8kkEDjIjgp0Zi5Di8WwCUSztiZnMFks6A88iNdON3ql0kySAATFzLdykvkbTaUiKiiXE6W5eLwuWTEVSLL1MUSMHXES3e4y9bkwKgVgSMoiBwnYkKHUNfUOFRArKWTHVOqNKTQtVwi1C97OvUGxpivZmuECzXJVHVEQARza5ByQ1lwa2VKTqY0ZHaKbTheqFCO2U0Acz6yecezwumIhiFBqZYr8V55qFQVIYpEBEJIjFDcT9RKZDKXfyPdEivHNEn0+09aFiYsVhs7fklYoy-jFLnYQ31hI2+bnZjK7GB-8iYkJuBJF3+4bCrCD7uT5fV412GRjaOA6Zz9mQOpYqagYJABZj-jmfw0sBdAOKBzTssoDDlpoKEiGB+5-muIqoR6jpXrefjvs0xEQTyv6ru8aSYiwTDLjoABEACqJBlCQNAAO62LUmgSBcoAALRiUe1LyGx+gANzYAAvrgSG2DsUh7AIOhAsC9CGCYfhUAQoAKNM1xUKwkpiHaqkKAI+j6eSJ42NsnJtuZlnUNZ9qkKcPJadsIJ6QpfiKaI-oiHYxmmY4pJ9j5gj3PZjnJBhXygDcRBSBQoAALxSbI8h2b5xIOJGmmkK8IbVYUlzyOK5x6FQLDPp2DY1SGqluh62SuAC9laO1HXvDp9CDcNE1+F1YzNXQL7JfJTmWKeIrOWefyKJl2XkYea0tJEor1XuW0JENwp9gOQ5iiFZhhSIEXGOSTE4sVJDsVxPH8bYqmgK2GLiZJ6k1LJN2gMpyn8CVyxSUqkp0KqNaaBqj3+GtIoUEwRAUAAFnsVKFTk4pw5kzRGhKixFWRGo7fBhyU3QypSs0aXFpeUF1je7WMQh9NEyqzTSK4rLWfhcYKRDP25vQrPpgoXysBQY1xijhnRU2LZttL+ay-LisOSryRoxdg5xNdEx3Q9RkmdMOpfOeL663pKWFGj+OIc1dtfB2mhyxQCt6VoN6g2D4XSwbSRpTlg5MJ7fvfBteWgENbtFdHsfe3ujtPEHwZWzFDh7Rtdke98uv7W0+sGSGaNp6XcflyIwf+BbYdV0KruKlrJaKGdfg3HXGcAlngcvE3oXm0pKlQ8InzfD0DikJ+VBPsOCj9MazvmMtLnWioa+enlAB8oBsQAVIvj6m6fbE6OvwWT5DiXCPQixnjQWM4WBJHLNWsIJOHedphdwLBmP+ldgyR1AI7ROwD0z23iL-R4Y8t6blsOrFQrY8zd19v7Gmh4SBZSkL3YUOwNBijlq-boH9qLcgYMXGOA8dydizlVSayQX4SDftQ3C4FaEAmITVa0tosEgIUP3eBVYcF6wcotZuodIptySGjaYNDSLsyGsUewe5VFnA6H6fceDhQEKkFIYO4Mp5P1sLmBcS46I3nDpA8qicbFlDKjQKM+5g6QInNIRg+UOFcO+DoqEChyqyL8JAi+X5TZ+OCFon4C9MiX1Xj4-04SUErRToocqowLj1TFI1MQs1Wo+1SWNARbCQxROXjEnQFTKnvBvItCW08rGKj2l7JhPs7EvHDmjIRdpC6tB7sNLJYjt5nkuEaE0tF2bU3FhYvybSPyXx-FBZGijIEJ3ymMpe354gN0NBCSCiN+Q538Hss8eiuhF0ubuH0nQpCiw2hqYOaMNoLMfksmGwSSTrOVooy5Dy-QNwUL84FTRRb1OSGM8FG0jnGkhH805rCGkhiaW8iZoBjZXU+fgVSjACAsHYFAOAiBkDoCwAAJkWcSbULh6RPLIn0rF0wCENExPuMwAAfbl7UgEY0JMCLloBeX8scI0JoIhOFcrFSGNlhCRU8r5fKxwOLTaeMnj9EIjLQXMqMP4CYaMryfJ+tMcswJgTDicFo1iv1sZ2gtZvDKrLHDumalygAZJ60ADqJDkOZblIN9rHUSGBKa1pIp15csUcoxwFqrUFNnnati68QYPx+tc5o89o36qNViv15DyxUCZezZptLobTDuWzFFLLUHozDYmm1XwU3Vs0Om5SP022l19JCvNqMC3SqLRIEtChC0KGLaWlFMiFldtWQc+FUzjmzNrbGwd-qJ0jqeZOgx5avl0pUTw7+K6wF1pWuaxt1rk10TYpHThQSj00RILJUVKqhQXstVe21N7JBMCoBIccdpfkvrle++Nl6k3fv+WxLqwHy0-XBVmmNBQ0bjp3Whrdu74ORrhcMhFMzkWnrbqhodm7R07rIg5CNljtS6ldEuxFJyiModdQ4BNX6W03rDPR8EjG6Adv3dDbjBp3RuF6t6LNiDZQG36bMOWvbs29HXjoDDo7KPYZo8JtxHj+0ZJcqp7dmH1PUe+dMDp5Yul7l0y6+tH6m3Xug+ZjOAmfp7QYwR5Dfd13DrU2WkzB7YoM2JgjZjA7bPgc-ZBzj0GMKM3hs0dzSKQNvveHZjjVmYtBf5hIigLnI2xeC6TCw5MaTWbRrPAuA47UYA098gr2WWbawy6ulj9aKsWAIHaqltW6X1aZjMbKmJhagMeDJrF7Wqt0QAMx7rNY4WBhYpGbzjWxiDzbM5x3YgtkQeWaMDJETrOOekxttdtWxbbN8oFHZ69DbbOWh5x30n4VrK0DNLZu8IWuOWpHHeI95n7H3bDiM6ReSRWcTsrR3VnWdkb0GYO2wDiHLkFUmIBzDmjNsHyMNBxt3BSO0EZEVVD67s3YcSonFOazNnz0Rfs1B057EXG7e+S47T0Z2Znv06RijfmM1k45PMKgFMmOjb++F1bkX1uts5EL2hzO6XTV4x5sr-2efTvR98nS+GkVSfWPj313PMNq7AVRh++LWmEuJRwMl3BKVoCmxW4Q5rMY4z2BcZ1K3JVSGlSsd3ScQxBAuFzUQTBmIKAuIz0o3vOGiCuLheQYodAWELFQayYoUgCcE8IfbtlROej6joHJAL82nZbbezw8VVI3wEXn8TMdC-uJqK8rV-O4oNVsgQD3rH2NRb3AQdibeClV8B4QVp3UxNehjnZLvpfvgdbsjoGrGuFdj-KtPzntgJudf76Abry-obTSai1eaM+Vpb4X6AGb-nob7aGZEDwmg9drtnwoNid+2iXYwkdEfZmJmgo2qfsjrTulgoC8ifO-jtiPhAYdJ2AARvgbhujugAaTjRgWCUHcCQKCDNMfp2PYs-pDphjnJ2pGl9kSp6PsL0vgVzhukQdgJAjjHaM2Bgm2NgXNPEInMYqYo7rYDnhPvJo8krBtL9iXitO6ixJJjoEISPmQdkBCv6HZBPk9s9mFq9qRjISINIRPg3P1IocYIaioS5DuuoSgd8nVGQoUsUg7ApoIb4oXg+IwZQSIS5N7pgTjPwX6MdkGvlC4cCG4REHpO1EEGIQoLweQRIaAP4XWPUPYYUngmkD4W4ZJoYAADzBAaC+HYygG+KGKgCUih4vRsQAAqpQVonCNQgUwIRAu4jA9AlQguw4aQbEoAAA1P7g0l8H+pgUZHsEkS0SfOxH0dCmYB0UKt0VkWkjkYxPkSxEUSUQQCIHxBUVUQglAnUc4A0SfIMWiiMV0QQD0dYYYK0Zdk0a0UMVdp0cCGMZESYXSiUOUJUHIaClmhshMJLHoE4KUHvHgcGJmq-O4U0DYWkuHJsCtpwf8WktCpSO8XcXvGcWYGgTQBgVgUfmwT7E0tCmkFmnlMGuOkkWcUEOOpEWcZiX8VDgcToEgdkekkkMpJsHnGMNiflAwecBrBYTgd4MCbVNMeCe9CQI0H2KAGmtSXIvdK3ENJAuoYnKQXwectXFigEgoZ6HIToZ6KimiuodoYqdkKbpsLSePAYVYtCZ8RQQYNfsIEClmk8QppIdIC8f4G8WIB8eiCac6vaZGgqeEZEZyYbKxmCXiRNFCY6TCQoEMQiUiWyaiXuOiRNJiQpoyQgeQv6ZNEENLN8ISbYREdIDkUkCSTKmSQIXWJSRMcgiHLnNFAyV4SGiycwRGSUv-IopsM9OIdaSfFxPyeKIKQfBJNsPOu2sKaFPIt6RHFCFHBPlKSXPaDKaPENGjAqRqZJlqRoeNGimYBqUIYuTqYUHqbdE4YaUGcabQXgGAASswGwNblwBSrwCgNwSKB5FZDZK0q9Mtt3mtsmgFGxHeV5JAfvsIJ+annaBZPMDjrQk+frm9slJ8pAn+d5Ced4bahaMmmxIWpdn4IWjVGqX4IhZOihWYJOuhcuUkIhWIThaAGIfhQhWdrPCRbPORYUIhSjlIJdgxUKBhWYIhRKPQPMBIMDDoBxVxeUe8KxXEmXk2ThU2dVEJYhdaDjDMPUPQDfNJdjLJYwJsJJWds0SRX4OHjoDUIYLlMfKJK0QJWpWXmJJpWYNpaALpUfKAKJJJMZQRf4IhdfDoMkJZdZfpbZaAKfFZWYCZXuGxMAOZSZBHlZXpQZaAGAA5RRWXgAKTBXuXhVeWxW+WgD+Wv5eGaWJU2WiSVm6WOWYVnYACEQaWVoVHlEVJV+U+VMVAVyRCV5VSVokqRZgNVdFZ2yRuU5l2VnlzV+UYVBVbFZ2h8DVOlTVoAx8rV6VbEh8XVrl-gPVEVs1U1g1wlAVRVwVXl-gnlZgRVfg7uFoi0UFf6nk-5CUSyypeUwYu8Y6Q6Og0FD5li98x1Fk9551pUNA9QAAVvHn4tdXJgIDZURSdfeZduBZVA5KtUkA9e9T-ItHQSOaRSDV+aKF7FWInMmoheqsOJdtjWKEJSuU5WdpACQCbC4DxWYCTWTa2ATYTUNWXopQ4LAJADhYzczbTXTVJXIEpQAKIkWM080c2E2IUAByEgItwVYtIt2ZbCR1iNMNd62EkmV1mwN1ZANl46ZAdYCtI596z18tyNZ1it8cwyf1qtcm6tnlb2Wt2tht3kxt98Weakbkbodtj1Syr02kIIs8gBztuwDghIiS-YTAGkQqDgX1EgkgL8f6GCIZE0MNgF3uu4IFA0AiOkPtckSQfONGqZDxrBdZCgvtse+StZL4xCpC4oCgMNXU4RcJOtmE96ypQtFycwZCVdbtsNyEn1P1lASsddHdxt2hzdfgzJTBmC+du4e63uOUzJwIJQ0RCWKJdZMCy0VQE9nY8N2q8S8865UySs3xSiWKN1OkNluyIIGouSKg98EMkCrAbY-qcWkySuSKicom0sr+GAfRVKck6aFWO9ptTotqGAOgd9MwYoj92uywOgAA7MPbhQ6g4HPZ9WEOvd4HJEAA')">function list_of_values(exps, env) {
     return map(arg => evaluate(arg, env), exps);
}
</pre></div></div>
    
  </p></div>

  
      <div class='permalink'>
        <a name='h7' class='permalink'></a><h2>
    
    
      Conditionals
    
  </h2></div>

  <div class='permalink'>
<a name='p8' class='permalink'></a><p>
    
      
      The function
      <kbd>eval_conditional</kbd>
      
    
    evaluates the predicate part of 
    
      
      a conditional component
    
    in the given environment.  If the result is true, 
    
      
      
	the consequent is evaluated, otherwise the alternative is evaluated:
      
    
    <div class='snippet' id='javascript_76_4_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKqY7bHlqdUAFMAbgEMANkQkURACjJsADnREkKAGlEkxASlABvbKDNMRFIkxKgq9APpSq8ptKWr1m-abN--APygzq7SDpIyisqsaiQaFD7+SaAAXHaOJBKsUZ5x3r7JZkFSNDQA1kQqDvQAnqwARjRS4dJEirUNTQ40BA6Z2R4xXgk6GgYFhWn2DhIqKs5kcrQkg7HxiYVFoLPzNQrirXKKApTLDiIAHioW9PTLq8P6o3pPE5vJzvQU3b0RbfQKCRMADm5yuNzudAB0TW3meBh8AEgzFNHDQVCI3BQaEwHNF6lRMkIVjDHm8kkEDjIjgp0Zi5Di8WwCUSztiZnMFks6A88iNdON3ql0kySAATFzLdykvkbTaUiKiiXE6W5eLwuWTEVSLL1MUSMHXES3e4y9bkwKgVgSMoiBwnYkKHUNfUOFRArKWTHVOqNKTQtVwi1C97OvUGxpivZmuECzXJVHVEQARza5ByQ1lwa2VKTqY0ZHaKbTheqFCO2U0Acz6yecezwumIhiFBqZYr8V55qFQVIYpEBEJIjFDcT9RKZDKXfyPdEivHNEn0+09aFiYsVhs7fklYoy-jFLnYQ31hI2+bnZjK7GB-8iYkJuBJF3+4bCrCD7uT5fV412GRjaOA6Zz9mQOpYqagYJABZj-jmfw0sBdAOKBzTssoDDlpoKEiGB+5-muIqoR6jpXrefjvs0xEQTyv6ru8aSYiwTDLjoABEACqJBlCQNAAO62LUmgSBcoAALRiUe1LyGx+gANzYAAvrgSG2DsUh7AIOhAsC9CGCYfhUAQoAKNM1xUKwkpiHaqkKAI+j6eSJ42NsnJtuZlnUNZ9qkKcPJadsIJ6QpfiKaI-oiHYxmmY4pJ9j5gj3PZjnJBhXygDcRBSBQoAALxSbI8h2b5xIOJGmmkK8IbVYUlzyOK5x6FQLDPp2DY1SGqluh62SuAC9laO1HXvDp9CDcNE1+F1YzNXQL7JfJTmWKeIrOWefyKJl2XkYea0tJEor1XuW0JENwp9gOQ5iiFZhhSIEXGOSTE4sVJDsVxPH8bYqmgK2GLiZJ6k1LJN2gMpyn8CVyzBPY3w9Pt-z7FcY1xo9SRrVasyAiCeUAHwFTSOkaqMyOLRDP25vQxYFu0FCsBQKM3mjhnRU2LZtlT+bpgoXz03pKWFBjF2DnE10THdD1GSZ0w6l854vrzDMOczyQY1ShXHM1ctfB2mg83TStaDeoNg+FVMq0kaU5YOTDawbCORflQ3q4hWvfDrO6dorelGy8Jv+FLMUOHtG12W7Zb0w7ysGSGGM23bkcbf7oVm5FMdCmriqcyWihnX4Nzu+WntVvrfNPMbwbKf44MqVDwifHDvSkJ+VBPsOCj9MaAvmMtLnWioHeenjoBsQAVM3j6i6PbE6J3wVKbXiXCPQixnjQRDfNR3IMPuFuB9M2c0-u3eW1COXe3loCH+m8vxNWsIJMnPebrYbMqK2eY56XSt56AQQkFlKQv80g7A0GKHmq9ugbxwmBEiyx+rhw9hePW3sHLjUmskFeEg17QK3sSAEv8arWltJ-I+Bdb4l1QQ5Ra1dU4W38BjaYeDII1hnCGYosMFDMOQh0P0x8hppAAVIKQJsa6QyXrYXMC4lx0SZunUAVtQDlUvtIsoZUaBRn3CbRRE5pCMHylgnBm9cLgW3gCcqNC-CKInl+UW+iYZy3hjY1uosnSLj0ZY5+K0XZFXKiTeqYpGpiFmq1PWuj-ToIwVE5Izi25ihRoQ6J7wbxk0Xn5SRio9pIJ-FBDUFsMbELtCHVoudho+M2r3M8lwjQmlolBOsKSFLkzrhkj8k8cmsOvC8C2iiNqX3KYCdp8QHaGghCwh+DS-YTBbk+H0nRmihxmaE92vomj4VABtDUJsMZJwXuI9JUkYGmNIrk1G8illzL9A7LhJi4E8NWVIdZiTaoISKtw9aJTRnGkhCSepkSknJJeJ4jKlTQDCyuk03A+BVKMAICwdgUA4CIGQOgLAAAmNJxJtQuHpI8si+TQXTAAQ0TEu9QAAB9yXtQPhQJghJgRkspdSxwjQmgiGwbvJlIYiWALJWYLlQppjgtcWRSFP0Qi4uufiow-gJgYyvJC-ZWLpjlmBMCYcThOF0QoAACztKqk+jDHDumarvAAZGa0AeqJDgPxble1v09UOFVYqn6RLPS73kUa51Eg1UaobqxEencQZ7J+rwro8NO6erlaC614DyxUDxfU1JSrobTCWR0iZBKX4ilVeqwJAa6JsQzfEENykfoluwuGpNnTDWxvZfGiQiaFBxoUAmmtEzqFipadsIZ2ENpfNqb82t2aVqtvbW2ptHbHgOVdT2phtyaLDqzV6wljg83+q1actiVtsHGNgUu2SFKqXcvXb6-NmqviBrYpIOlEhxx2neUegV7wVXns3VeotXUn2pJ+u8y5azpUFAxuOqdLaG2TubWRLtC8-2Lu3iM6pYy6kjvTiBiDE6J3QZTW6xwYZXRIe+eMx4KtvUboLVuzp7F8MGkI0Ostqb666ldO6NwvVvTVvviRtDoL+48weT8PonodCgag8m39PaaPqM0UB-O9abWQceVh8Tc6JGrUqRQvcsmvEuTfX6ijn7t1ZKLsgigDGfp7Toz86Ncmc2ienbKHD87Yp0GVFKBz6xR26bPfpy9Wnt0YTc3QMIVnljPpPYKnzF7C0Bdc5KYLzRsmlok2pwL8XMjNCNBKRYRVtMgpzQ3YOA5A0YBSwctLKpmhpWpnrPLGNCsWAIIGtFZWsUVfczMbKmJWTWRszp2wDXit0QAMxObUwfGrhZv7dzI++gze5FbsWvoWczPbCmkO5qg0joKA1sWWyIGeV8Dbz3LT2-bmmASK30n4YD8nG3Nqu616G8dC66wW8dmbd3v4ncY7YchSXKEfe2zmidqDu3jccM2d+HNJu0zLsDlaPLhHfae8IGWD5XvF3e-DnjOakdKbA1Q1TBzpiqL6-13Nc2-PXtUattTqjpPRnqV52w9nj7E+VY4dSVAcvEdlAj7zPrfMxaoyPbnvO6B04OdNcERGUMrtu3ZjDYHoPg4OTpQdPyuP89x2O5XzblO1tnXs6FLTYXwo4Ei7gqK0DDcxWm9dTAN46r2BcOteOWWlCkOylYbvQDtSCBcdqjEmDMQUBcdirLvfYNEFcXC8gxQ6AsIWKg1kxQpAY79zGJDbKsc9H1HQfizkxoK5wndnh4qqRnoQvP7HbaF40TULZsHnNMiGJXlpdl3eI6ix+vcBB2JxQalX1H30WndTY16W2XeWcOO+I1uyOhStq6xV1cqM-V2l7lgvgfoAWsr+e+PmaLV5rd5coNpru-Rsc+hut4pkQPCaE85vlau379tEOxhI6o-1Mv2uRtM-V+XvebBQTZEed-A7H-CAw6TsAA2fNnAAsbA5AsEoO4EgUEY-OaTsOREvFaCdCuU7NTF7e0SffYbpF-FyVtAg7ARRXVO0KHD+TA5ZS+IRERe3YQdbOFD1TjHQDaPSWfE1FiHgjZEpH7H6Lg7IADf0OySfa7G7BhL7CQkQH-JQh2fqWQ4wWVBQkHMDJQpArFOqMBIJEJBWB5FGCIFGeoB8eg8g3A8-DQYEXVfjeZfg+1fKb3dApwiwnaLYQQhQTg0g4Q7wwvawoJHw4UDwxwnVZwv0fggAHmCAcK8I8TOkpFDxejYgABVShMYSAahApgQiBdxGB6BKh5gqBhw0g2JQAABqf3JJL4OldAoyPYTjQwOow7aouo55PwRo+lFo0AjxcIlEUQdIliLInIggEQPiAooou+K+Mo5wSokeWo+o6JPo5oggVosw9okediVYnoswDY4EAY7w-Q6GEocoSoKQ65atPJeRCmPQJwUoAeHAzYMNVeGIpocwjxehQWNdPoXlNonoykJ4y4geQ4vwFAmgNAjApqE-bAoFHotIatPKB1VtYEpJIIVtbwyElEz40HHYnQCdM4p+MGYMQOMYNE-KOg84dmYwhE7wP45IZ6IQh5d6EgRoPsUAYNYFWhe6c2eRTYRRJQy+YgpQsggwMk7QlaQxGQz0KQ9Qz0KqAFZgBUvg+U7IY3TYKuUKOwyRMEl4yU844QC5atW49kkQqQe4iYR4sQZ49EY05kwgM7T4oI34oU-4j3QE5HTE4aUE+08EhQQ46E2EhkrAvWFJQhFEh5akq1CDP0iaIIKmb4HEvRXg6QYYhMK+AkwnIk36MDUkyuNY5ISkvQOM2khgtsJg3cE+TYVkr460keLiLk8UHkoeCSXtWxXcENHUuhT01KM+NU7IMU8OCUiuaqDGOU1QzjTU5Q-5aJVQjUvQvkvU6ufUgUB014qZCGU3CRc3NgS3LgFFXgFAdgoAt0OlTyVPGyTveyAXC88janAKNiDyKySAg-YQN8ryO0CyeYUzbeV6T7JXBTCdZKRVRRb8m8hKdJexANC0XbONQ7PwONGqFUpIXbdtZCswdtNChcswXbQQ7C0AQQvChCsvBuYihuMiwoXbfHQ7fHIUdC-wXbCUegeYCQYGHQNiji-I94ZivwXbVk7C1k6qASgisva0XVGYeoegGeKSnVGSxgTYcSufBQNiGo4ivwcPHQGoQwXKfGUSOovi1S3bMSLSswHS0APS4eUSSSEy-CtSseCykyCPay-Swy0AUeayswUysvYAFyqymygy0AUSMABy8iq9NiAAUkCrcuCs8uip8tAD8qircK0qCo8tCrjL0sct2wAEJ7UMr4qsrRJCr8pcrIq9w2I4i4rdLSrQAEizBKraKy84jcoLLMrbLGr8p3K8qy9cY6r3Lur8ZmrUrqrcYOqdAkguqQrRJJqxr+qor8qXLsr-AQqzB8q-A3cLRFpIKrz3yYLSpOM8pgw+M40dAoLvIYU9qhyrrbyJFuh6gAArePfRM6rGAQYeQig6n8w7NnBaRypIe6o6+BRaGgu6366C3dKsS+ANXbYVYcQ7RGsUVS1UwSsvSAEgEWFwLiswLGnG1sNG9GpyhShwWASAbCsmim4m9G3bMmgAUWIsZtptVN2wADkJB2aXLOb2asyolbrMISKobvIYaVkXDTrNg+MyBh5W0yA6wQaxb559qLJDqxa1DJbChpbZb9c8U0FhbVafzRQdYqxwaK03JLzDboLbIAodIG5ADXJdgHBCQHALomANJ6UHBnqJBJAV46V35gyJoQa-zvddxAKBpCE7bYZ5IkhQ0ztloqgazOwHbDCGok69Zf5QFxQFAQauphDISDbrzRaz491FTWb-As7wFc7x8aAXq3qdAC7FaS7+1RDy6-BKz6T07H49lvccpaTgQSgrDmgu7L4Uzriu6FAzae1cx2sEtA03jbMe9nUnddU9gBlZ6MtLzhwecaQyINRwjKINZH8gtN7qsuZ-Na0CJCJ164tKtOtXAesMwJlm8IZFFWA2xAtRlL5WMqZ1LaU2g-5QAMBhQ0U5IQ0Z7b73N-CP7XNRliSnUqzwzll5IgA')">function eval_conditional(component, env) {
    return is_truthy(evaluate(conditional_predicate(component), env))
           ? evaluate(conditional_consequent(component), env)
           : evaluate(conditional_alternative(component), env);
}
</pre></div></div>
    
    
      
	Note that the evaluator does not need to distinguish between
	conditional expressions and conditional statements.
      
    
  </p></div>

  <div class='permalink'>
<a name='p9' class='permalink'></a><p>
    
    The use of 
    
      
      <kbd>is_truthy</kbd>
    
    in 
    
      
      
	<kbd>eval_conditional</kbd>
      
    
    highlights the issue of the connection between an implemented language and
    an implementation language.  The 
    
      
      <kbd>conditional_predicate</kbd>
    
    is evaluated in the language being implemented and thus yields a value in
    that language.  The interpreter predicate 
    
      
      <kbd>is_truthy</kbd>
     
    translates that value into a value that can be tested by the
    
    conditional expression
    in the implementation language: The metacircular representation of truth
    might not be the same as that of the underlying 
    JavaScript.<a class='superscript' id='footnote-link-3' href='#footnote-3'>[3]</a>
  </p></div>

  
      <div class='permalink'>
        <a name='h8' class='permalink'></a><h2>
    
        
	Sequences
    
  </h2></div>

  
    
    
      <div class='permalink'>
<a name='p10' class='permalink'></a><p>
	The function <kbd>eval_sequence</kbd>
	is used by <kbd>evaluate</kbd>
	to evaluate a sequence of statements at the top level, or in a block.
	It takes as arguments a sequence of statements and an
	environment, and evaluates the statements in the order in which they
	occur. The value returned is the value of the final statement, except
	that if the result of evaluating any statement in the sequence yields
	a return value, that value is returned and the subsequent statements are
	ignored.<a class='superscript' id='footnote-link-4' href='#footnote-4'>[4]</a>
	<div class='snippet' id='javascript_76_5_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKqY7bHlqdUAFMAbgEMANkQkURACjJsADnREkKAGlEkxASlABvbKDNMRFIkxKgq9APpSq8ptKWr1m-abN--APygzq7SDpIyisqsaiQaFD7+SaAAXHaOJBKsUZ5x3r7JZkFSNDQA1kQqDvQAnqwARjRS4dJEirUNTQ40BA6Z2R4xXgk6GgYFhWn2DhIqKs5kcrQkg7HxiYVFoLPzNQrirXKKApTLDiIAHioW9PTLq8P6o3pPE5vJzvQU3b0RbfQKCRMADm5yuNzudAB0TW3meBh8AEgzFNHDQVCI3BQaEwHNF6lRMkIVjDHm8kkEDjIjgp0Zi5Di8WwCUSztiZnMFks6A88iNdON3ql0kySAATFzLdykvkbTaUiKiiXE6W5eLwuWTEVSLL1MUSMHXES3e4y9bkwKgVgSMoiBwnYkKHUNfUOFRArKWTHVOqNKTQtVwi1C97OvUGxpivZmuECzXJVHVEQARza5ByQ1lwa2VKTqY0ZHaKbTheqFCO2U0Acz6yecezwumIhiFBqZYr8V55qFQVIYpEBEJIjFDcT9RKZDKXfyPdEivHNEn0+09aFiYsVhs7fklYoy-jFLnYQ31hI2+bnZjK7GB-8iYkJuBJF3+4bCrCD7uT5fV412GRjaOA6Zz9mQOpYqagYJABZj-jmfw0sBdAOKBzTssoDDlpoKEiGB+5-muIqoR6jpXrefjvs0xEQTyv6ru8aSYiwTDLjoABEACqJBlCQNAAO62LUmgSBcoAALRiUe1LyGx+gANzYAAvrgSG2DsUh7AIOhAsC9CGCYfhUAQoAKNM1xUKwkpiHaqkKAI+j6eSJ42NsnJtuZlnUNZ9qkKcPJadsIJ6QpfiKaI-oiHYxmmY4pJ9j5gj3PZjnJBhXygDcRBSBQoAALxSbI8h2b5xIOJGmmkK8IbVYUlzyOK5x6FQLDPp2DY1SGqluh62SuAC9laO1HXvDp9CDcNE1+F1YzNXQL7JfJTmWKeIrOWefyKJl2XkYea0tJEor1XuW0JENwp9gOQ5iiFZhhSIEXGOSTE4sVJDsVxPH8bYqmgK2GLiZJ6k1LJN2gMpyn8CVyzBPY3w9Pt-z7FcY1xo9SRrVasyAiCeUAHwFTSOkaqMyOLRDP25hhypSlIrGowZfgY9MFBMEQFAABZ7FShU5OKkp0GERoSosRVkRqO3wYcot0NTAvNGlxaXlBdY3u1jEIdLfMqs00iuKy1n4XGCnk1DwifHDvSkJ+VBPsOCj9MaKWM8tLnWio9uenjoBsQAVFbj5xGKPtsToDvBUpKmm4JixnjQbM4WBJHLNWsIJGjhnRdM9CK+m+5O6lUI5V8rAUIw+XZ-m6bnruKePKD6Mu7YTYtm2Fclu0FAl3pZ1bCQWVSD3wo7BoYoKPQMfdPH1HcgwdnNV81edsXpcOeNk3JOPEix1PuHgTPAKDzV1q2nm7cKDc3xfB2VZj53K8OYt-h3Q9DPJEzjjT6RytDcUsMKJ-ZwOh+jzkNNIfcpBSHruDSOiVhC5gXEuOiN505mDSjlcqeVQAILKGVGgUZ9z1zQcERc0gy6gE3tvb4ACoQKHKo-PwRD-ZfkDmQ82PwHBMJtoHJ0JD-T0PMI3AmRVyok3qmKRqYhZqtU0DwxY-o17r0UckThtsxQo0Pko94N4yYwL8rYXMe0r47iVjWTQGoUEZUEcfO0e0NoKEHtzGke1LhGhNLRZW4tja6OJFJGYAcfxQXMa-UARCNqYMcUVa2354gIztC4iEkFTH8hvPXKJZ4gFdDsWk3cPpOi0zFqADaGp64Yw2l4yGsD9GKmoSSQJ9MJhpNyX6WJ-9d5J2Qhk-JHjQAaNqhrRQNTYmGgSe4pJVVNEhm0SUwRF1ByB3KfgVSjACAsHYFAOAiBkDoCwAAJm8dDaYIR6RdLGRY9+fQiANExPuMwAAfW57Us4s0JMCG5oB7mPMcI0JoIgt43I+SGaY4CTmp0MH4AFQppizKugQiOP0jluGaHYsixh-ATAxlecpP1mYSGBMCYcTg-50Q5nacswJ86WM3E3Rw7pmo3IAGT0tAOzX5o8UW5Q5b9FlDgyVYqjiKB2NzgnnLJfi8R5s6ZsQdiDCOFS9HkN9F0eGgqUXCsESyiQo9yxUBBY8HRcqfHTGySY0FZzBE4rxQSiVdE2LGs0DK5SP07WX0Vbq2UZqqXMtZQobVtMNVaokDqvODkvFOv8TEjawzjSQlqactVnr-U+sDbTX1wa+WVKIm0misbTXxpWhasVhKviSrQVvKhWaZ6yXeQ8wFjhRVWqJXUtikgmBUAkOOO0NSq0QveAWhtxabVdS7Ton6gzOlCoKBjRNqbp3JuDSO-lgzI3xOjYk3Nk71XetTamsiIbZXYscGGV0K63E5seCgkVuLC3WqbUeg0J6Y0OoNdDO93U3C9W9J02u7rX4YzdmPV17CHY6FnUG3dC6M2vvKhO52Cat1zp3crPdJsM3TEMeWYxMjVUbs9X28VjaknsXQ9fCgT6frOPBKu0Z67YMrVA262s6b5XTCpvzTIDHvAevzXWq9-a9w2tY9rKNp7u01shTxy1+GB1NsEzTRe9qIPytk3LN0FhhY0mw7RlybCLAEDphgRTPjlPsdFG3E157f2CJ0wOOmOzDPQ2Mx+bKmJ9YZhowIz11m9N0QAMz6oPafAsHcS750vZJote5l7sTM+mMj-LrGBdzsvPSF6rN-zYjFwsIdyF33Do6-lmW7RGIvDfZe+k-A4bo-BoNZX7PCEHEwBexWXzJdC5uzVt8u51dsBfeTpdOsr1S561NrXQ38ubioVsiXCwDZS5Z3DGR+6ze69qB8l8MMlci7ltrC2LkQKTTV7b-nxtfInFOTTWnqU8t41J-jTbsFxYzdg3B+CLseaqx1xDYzjuoccOpKgIs10Wcqy5PDEXJX-cB3QR78rpqUdPTB97Ll6N5zGxmnSwmY3fvWENj7Aag1fdBch3Aiyo7LNWRwDZ3BtloB8-s4QzNWYcz2BcCl5zvlSF+SsVnPSQxBAuGrUQTBmIKAuOxDnXPRBXFwvIMUOgLCFioNZMUKQn3PuEAl2y7p31ekazoER9T-AYwlWxOKDVVIh0Ptrz0fV9d4JqMUuFJ2mRDHirZAgbPzUSevX-Ag7EzfiItytrq1uP2Nbsp7zzsMHC6bsjoAzaPYdRxe5pSPK0vNx9AHZxPPjppNRavNNP2no+x796APzTGfEJdsa0XmR0i+2BNzXyI2WML15zwcxwze2gKA2g3kU9bbu99r0RxusSYc+O73aNvnY+9ceR9V2mfefvyoLCUO4JBQQzQL52ZBeaXKppSU7jNDWF4rM9PsF48-bCJqP8pIhJLzgtwkVI3cmDgUKXV7YTXOuAN5JRhtHNuioIrSixF+joIAcHjrk0k0P1DruVhVkbu1qPOftkFAZ6LEnAZ6AgbBEgcNnOqgSICvj4nVCPC-jvjIuAYUqQvrg+HElfvvo3hoMCBzH-n6ClhyvlJzpvqwREN3HzqAKAQoD-hflQXwXWPUHQRIhLMKNwSwezGwbAYYAADzBDMG8GkIyE5jC4vRsQAAqpQmMJANQgUwIly8QjA9AlQ8wVAw4aQbEoAAA1Lzkol8K2pvkZHsF+oYM4dlg4c4b0n4G4S8p4cPnwlocKM9CxPoYYQQCIHxKYeYVWOQtYc4HYd7E4S4YosER4QQF4a6ilr4exJkYEWYDkcCKEeIcQS+qUBUFUJ0i0p0kEhMBTHoE4KUO7HvsGD9BQoofItQXwhYpsOcsCn0fwevJSG0SUOiPYhMroGBDQBvlvvnnNLvi8BEQmAqnknlJyomt4aUaAEEImuIQcWkL0SNgUXWKmlUfXE-MGEZCZGMDsflI-s2JNm2NvqsZxsEpsFEX0e9CQI0H2KANKvwkkM-NnEMYUEQoQZgqft8IQZfgYLcYUBjL0YQTAf6HZPAQopohiYAdidgWCXcSSZdgKO0TMXfvTmpAHJiY0a6hAdIM0f4K0WIBSZ0Qwd0QVjHGMYyYMT8aiV7ntrTPsRNJMWydMe7KUWvosS8uQV8XuNoofGca6s8V6h1qKZNEENnN8McTQQMRsXeOQjyRcf-lcXOjccGGFPcdFE8ZwVynEs-p8dImnAKckH8U0d7FxECeKCCZ7BJNsOGgpiibdOFJCW6UkDCTrnCfPAib-kftVGiTyRiV+oSWgbiUovibXlgWgcSaFBMMpHgStGMOyUifqqTpUuTmwJTlwFsrwCgNSSKB5FZDZFHK9DttxtduFhKgFGxM2V5CIBPtDP2UrnaBZPMJtjPO2bjgvp9gQZVPqkQiOd5EspghKhaCbv6tln4P6jVOMkkCbr6tuWYL6nuRmWYCbqAceYIYGkwGeRuelubNeebPeYUCbkCv3Nlh+RAkKPuf4CbhKPQPMBIMDDoIBcBSYe8H+X4CblEceVEdVNBReeltaBzDMPUPQCHKhezOhYwJsEhTDMWmxI4deX4KLjoDUIYLlPjKJM4ZBQRSbmJKRWYORaAJRV7KJJJPReeYRXuL7MxSZGLmxVRTRaAD7GxWYAxelsAAJaxexdRaAKJGANxQ+URQAKSyVCXyWiVqUSWgBSVEWcGkVyUiWKVqmUU8Um4ACEHKxlWlplokNl+UFlqlfFyhmlFFDloAqhZgLlb56WyhuUzFJlHF3l+Uwlll6WuMHlwloV+MvlBlfFuMQVOgSQIVClokyVCVkVRFVlAlZl-gClZgVlfgrOFoi0S5ranko5CUeimJZcwY-6-qOgy5rZlZFVhcghVVLZtVpUNA9QAAVjLg1ZsP+gIF7Jed1QOdlijgtDxUkK1b1cnItNgJVRZD1aWskVwX-CbtCoHNlntcOARXMTBelpACQHMi4KBWYOdZda2MdSdbxQoGxNhQ4LAJAMea9e9Q9SdSbq9QAKLXkA0-VzEm4AByEgYNAlENYNhpk0HVmEXV61A5pmWELq-+eUjVWMZAXsiaZAdYi1m1K8Cka11V3kRNmBmNo12NuNi+Sgq8SNZN0+hcZa4cX+rkuwqmyNNV7upA2kII5s-eQMDghIHC4omIGkcpA1Egkg48rak2sxw0i145nOu4U5A0h8OkgtckSQ+6BWy0VQzpL4-epBDURtbUw0w84oCgi1XUVBBxjNG1LN2E3h81hQVto8ttye-VQ1lA6iEyhNzt3wkBbtyQrxTpKxLp+qnOOUj+wIJQkhzQ5tmgmCOplQ8pLpCgK1FMiohWs2zJGcJkE2U2edrWFKRZLkh110BZYZkUDxMUTga2fWy25dZJESxwsZzdrWWgCZoUtdUJqCnV8JZYJcsSmCQ07dc8jW62JGy2PdLwIZUURdXeY+diw9y8sSDkA9Dcnq69d8sSi9EJkUEZFdVSYQedh8vWzWFhc9vdyQhZ+ZEMRCrArcOchYmCKO2u2cz1GAOtLMbQOtPmckske6uYedL902IgOg4d7xGdu48kQAA')">function eval_sequence(stmts, env) {
    if (is_empty_sequence(stmts)) {
        return undefined;
    } else if (is_last_statement(stmts)) {
        return evaluate(first_statement(stmts),env);
    } else {
        const first_stmt_value = 
            evaluate(first_statement(stmts),env);
        if (is_return_value(first_stmt_value)) {
            return first_stmt_value;
        } else {
            return eval_sequence(
                rest_statements(stmts),env);
        }
    }
}
</pre></div></div>
	
      </p></div>
    
  

  
    
    
      
      <div class='permalink'>
        <a name='h9' class='permalink'></a><h2>
    
	Blocks
      </h2></div>
      <div class='permalink'>
<a name='p11' class='permalink'></a><p>
	The function <kbd>eval_block</kbd> handles
	blocks. The variables and constants (including functions)
	declared in the block have the whole block as their scope and thus
	are <QUOTE>scanned out</QUOTE> before the body of the block is
	evaluated.
	The body of the	block is evaluated with respect to an environment
	that extends the current
	environment with a binding of these local names
	to a special value
	<kbd>"*unassigned*"</kbd>.
	This string serves as a placeholder in the environment, before
	the evaluation of the respective declaration assigns the name to
	its proper value.
	<div class='snippet' id='javascript_76_6_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEZMChsDMBXAOwGMAXASwHsjQAbCgZzIH0q8XiBDRxigcyIBTACYAKIlwC2QxgEpQAb2yhVoAE5CyBdbSlcADhOlDQAXgB8oAEQAqbrwHCRt6wBpQkmfIDc2AL64hKSUNKCMJFxEbASsIkIkdFzqXKFEjGIkVFIGNEJEZArKaqAUeKBiTCyMQgCOBPkkQpnZucIFckUqJWpZ6WThZFJkjObhdQ2kQtVkqUIyBRlZOXkdfj1qmtq6pYws8wZkAJ7VE43NzMPy3Ru3APyeBHR0N7c9AFyghgb54hFRMTiCSSKTSGTwFHUzBmcwWZDElxGnTcrzeaLU-2iVFiLHiiWSqWo6TEqPRZNU+gA1tMavVzmJNNDmLD8iMEUMkZ05Os1P5QEI6DUlKTVFsdLQqniQYSaC0Vu1CiKeg8GMwxFKCWlqkcpAAjKh0OVtVmdJUlT5EJ50HmqQKBbAgUDBchE0Z4dTZCAweBIVCYHD4YgusJCABuXDoBDmRtWZA8+VDXU2WnFuxYDDIQhShuWxo6ZtAKoomezLHDkeaudjcgLnyqXkrrWrBZVVColIIBm1eoNZYjDQROv1dDYHAbMYVcnjRETtbT3wYkTSE5NLa+BgMdCOYjD-ejzq1QgAHgZGXxZVXJ9PEyjyRtVax2H2Kxlkvx9iez66Vx1r6aAJCqHWexUD8oJUOoLDLLqFCSMul6ruiDy7pG0agVmqQQVB2QwXBRIsGQVAsAuFBLkSP6FH+c5VH0IjFkSEYUTWSH8uW2FEHRaSMQhBRUeiwHptIuoiFwH6nrI55EExa5UtMB7kUkeoiSwBgEjIJbdsOSxNleBZ3moinCaJ+oiNuPGUfyM7MWiAm0pMTTSSxKGnHSUwImcUwwpmcLafKJpTpZs78WmBzHF58yso5aIPMQ8QQs41F7LqdBUCQlJRW8yFsclqXpeZfE2WmYq6OFcIZfcrERiwxXRMy3mRflgXWW8Ak8HwghleZzUVc5bVOJ1OmslRgGgAJ8k0LiwKauRXUjao2AjVle6ZmI43RFKBFEX0zIFJNiRMQVLVphqoIzYN+ZOWxJ0ylJjUJt1GyfFmHrqBRHjWAAqkQlJEFQADutCMEcBRcEeoAALTg5VqGZtY3IBEEQZpOum7bsEHhvvIwpqGUFRVKeFBSPRoZyUj5HBJ02M9DVKNbip6iE8TpMhOTxAY+o-C+DcfICkKuOVHsVaxSwa2rcQlPFD020DIyTwDGY0NRita0sCZaPi7e+la8emYcfsM6QjQZV6Vrbwq6pKTqVm4IaybpsbJjmv21rKsJobRBlRTnQ2sm2wSnsNXPgOst0Iqd4PIH5YNOxuvwiHYfkp8sVCPFog2jzgqmJLJTPRBYtEO9X0-f9tBraAxw-BDUMLkccPpwjgYs2ED6jkHsg7iejB-lTvupvoRhvuYVgoUrzRvn+8ad-D9pl85tH0TQ3HnXGTU9xoKY7FUZDqLEAAW24j9G89cSO4l0UujZ+b+TUPRsS0w42HEL5II7bR58JdYdR2Hytx8MSOEYSx4RJgdJqfgZ5kxDGxOy9JERd1XtnUo5QBb7ByGFGBbk4ESyVDTZOqcRA+wznzZBVQkhMlmPVAo7IrjYLeDTH+zQIRQlYHVCKVCsFuHuoQ-kmc14lGlk6SE5DhhtzGCbBhq0hEsIoWw+EHCuFKn5lUSO-ZGFSJmCIqOQhaFkhpkw4RrAtE+xKEQrOJt6HQI8g5O2yZyEskWNQpEnCrLGN5K8O0iMm60GcoHVhA0r4r3umvGmslqob2iFokk2so7RkDsecSjgLzLwCvdaenjgzeLYn1DqDVl7d0QQIrRYwJHZI9qyNuYkvxJICSklxrxSmaV7JE0pcJGk5mSR4LRf4fY0yMQ3WeV0pqnWqXmQJVk14NKBj2EckTrpaimcOUBNj0QSLmfhLRlSJJnRqU7Z25JUk9PCaAPBsE04N0dGtN0HopBejgIgZA6AsAACZ0nI1IcWDC7SanBKOfWAgeosxMVUAAH2BXpKozAGZEH4EC0AoLwVJTbHQIQUQgXwrJH854sKQVgoxXsE5zgmLgMbhk+gHzSyRK6koEorwabmWJSSt5exZj8H4KIdMTAP55PLrvaYLKky903nsVSkIgUADIxWgF5VwcQVKzDyp5Xyrg-AGVl3rCYIFiCaZb2VWykQHK1SNWsA2Ou-TIGAyHL2J844qVaqOdK8QswKBfNGd7M1Xj5yOByVQ21tLfnMt1eyh8b0bAtNZKawIZcw27QWQaTVfq-ZSpRY6rgzqxAOrEE6l11YuTEqjV6spu0NnxKqbdZJPzE0ZqzZm1N2bJxuogR6yUQybrxpKNqgNrKg2cpDdYaWUQgT4mGUQOGcLcXoh1V2-VwajXhgZlwZK0w1k0FHeiidna9UGq5QE96Ktl0jrSWXfdbS22intcmmtaaq21qYrmhGR6W1amLZ+LZIzqw9xptetN1auoNteUSNMhllIltfWW752cO0EUDdOntRqgOiRA4kg9ebzX0CEspC2JgNKxsFKe9eib+6Dmma3BsHgv11v8oe1D8HVZUFMnhz9F7q0-uSX+xlAHlHhNKrk8DNxIMss3TO7l1hfEyLhBG9jYQ4kvqQwx89MrL0UY6GkyT-t2KcX-nh-DqZJ2Cdg8Jv+i8RyIckqu8daJdPdsNQZmgGmjPcYKBJsuhmX701EKRI+5aINHJbpoPAIaMBUY9S5qqb9XLbtdR+nznKwn+cak8oLpKQsANDlmYBl9IvecTb5lOIaADMKm1V7AwQ5REArtNCqg1Ordjj3olaEE51DoT6uOKxll1MwbrD1fcIMGhKGPX1Yc2yMr1L5qCtoORxxf6y76OkfYuRHI2t8fk38RbiXkaMjm5Q4ba2ouJurVg-rpKqihROC1rBe2dN7EtFiw797UOkJ4Ft2RrXyuQZu4aA7a3CsPaSilNKWn+PQZq0anKaVGserB5SWj9HfXtpW4p29qrfvEQ3IuVtcOz2JsszB6zO7Q1o482kCHpLXYycknJytTGb2-qO8jN8mykO+Uy8tqnCnmM09Yypi55qrmeigHc30jy0B5f-WELeO8yD7zEEecrFW1P6gNCiqSsvQB6QeEePST11AvRl+9RXyKoj8hPAkTMIgPCaCaBQEmIh3gSdU6AUJotMNWyhB4NW+SE0dZ7X2psws1ruGWaAF3Whrbu7o0cbp92m2Cz93rUWeA5dA+q8GvA70hbx-NST5G5s1Kh6hKtJP0XoR+dWh4QLdOAMqzVoXit3uS+5bT6ABLlewiuwNh6Qt8JE9152Dl-zTeCvI49aElRFYWgFBNL32gnWx8NB630WO62OMBy45ErRRfscbqs-CLpNg58NeX1JtfqiY6RQ39PpN7Ob0b5+x6xoKU+DQv1qGd2ZUgl2v2zehRkbUOzZFpbM0B-l7jsBmj-tgAIlLtMKdi-m-qyGMB9n4A7k7oAURlpJ0qoktvDomiKq9DhvAlolzL-h6u6CYG0uCIAUUDStgamBmqQTIEfqXIAW3BQSYFQWoCAbQNWvQdosPqSjrL8LAZ3mVPgRgYKO7jwNAeMp-h1vkPwFLmgQaFjPKgrMitCgoeWNcGSA8LgWICgRqqIaAJoQFLqJIS-rfB8PQHIQofgQoAADxWHqG7xiDGF2zIQ655zWAAAqbYjuUQRwXwHM-yrIowjAnYm4FAognw1goAAA1GrnsqoJCrBPwGUNuLYXETYO9JkUHj0MkdCmkS4RGPIBYY9PyB4a9N4b4XgEIH9IEfwMEYsOEOEQwFETYDkYkYMFCqkXgOkZaoKAoPET1jEfEbkSUPkT0duMYXfqSilO2J2G0m3IoXQJ7iULPDOOmG2EYMAWbKhpiMsQQcUXLnQv6iwB9gcaUdoYFJsaBFEp0ZZIkFQE-u+G7MIZFKkmMaNOEP0eYAqhmrYZ8aoA8Bmq4Z0Z8PsQdv0fIB4NWtMa4raIosggmL8QrFAagocCcK8UbFPogm8LnHgf0YXEQPqLFJ4CYKam8KYnwrcAIjwWMP-jwTuHUuSDTPsTweQatJQbsokeyYQZyWwfDJSe4pwdcXMdsXUo2qSpMv0UsThmIasWoOsaGDceKYmNSaoGXPsYYcYeqdTKcecQCabMhBsWKXcc7A-k8SkUIdiVQh8abOCT8SoVfn8FCZcdFOMKwCCcUWIW6UdBCTerYTCTfkcYKbcHyIiRUMiU6WiTAViV3scbcPicsUSSSRxGSTIFXF8AWuJqGRsFSbiTSTQMwE6IAfSeooyQoiyUcmycwfgfyQwdyXsryZgfWdormT0IECYiKQmCqUyYmAyjzl4nzjcgLj6A8v6CgGLmpgTETJQCTCLOavnG9qcQJjvvnO9DOUzNngBpuXOdMITJuLIq2hTJdqAdTmml7AygIrudbszBkqMKoT2iKJ1g6j1moA6neFOM+T7lmm+aoFmp+Y2WSmqNYLgX+cHqmuoIBd+SBQ+OBQ+NBbcJ1pinQD1iheiF+UhT7nRIwJuFwLXB4DhXhQEWiJhfeD7viX+fieSGRT0J1voFLsRLqIwO4AxbvExaMG8LRSUJ1rEeBWoHrqAEcAoJYKAGDPESRdxQZD7uDPxaoIJcJUPGJRDEJaoFJaoJ1q4B4BsApSJVYGDLYKpaAOpcBfCNYMAHJRUEeB4IpaJWDGAJJUBZ1gAKSWW6VKVgzOVGUmWdYqH8XuV2UolCU+U+4ACE8q-l1lwVHloA4VCswlTlPudhblUVtl+loADhqgCVMFZldhZgclAV6VeVWVIVIFFgKVNlelylVgJViVZV+V2lJQhV1VCswVdVZloVllylJQolqgoVagsuIo8M15DMs5t5C5Xi5B5gSohGDqHgN585lyw1RZAwC1d5WoVAuoAAVqbg+TNYYPnEpZ1mtT1pNl7CZT0GtRNfefDBAStcHqNUzOxDtCMGMMGp1gSqID1p9SIBdfcdJSBZAEQPFMWARaoEDSDccH9f9aZWINYGxSwLAJAH+QjUjdDf9fRakOxQAKLgUI3Y3o33GdYAByXAxNllpNxNvpnRy1-QD1jMe5z1swMaUJ01bwhGJASlGaJAAUV1-aiwtNxZfNK1A6LBbNtwHNXN55OYyI9NY185-NSISBUaaOJwV1CebM9RD4m+qYNcLAsEnAHEWYW4VpW1XA4YEQDMhwZpd4V1B5yKcIx5tspsb42tPgPQ7qpKNQ2gXYcZZUOtOwAhesftkUyy3wvwYg6t5q5BHggJqgwt-QotgZYdG4EdUdk1m1O15A8CcdctT1itLBhNagMZaCmJHeNphQDKyKAwaJ-AKUphxm5dXeYw3tCxIdVCt1AyVUUOIaOxvQ91asYwUOMOZkySPsAi-2xRLdkQWIOI+6GQas7ZAiDg7UzgD5plrcK9TgogYgk9AxhyiaEiHuxuus+q7d8Ie9Xcud-1W9ggogOdMNnRByDcAiUgJwUOYwFsNQcNigoAAiYMCsGA7teW7tKATy7t-gpqzkPdb9qs-2lIMJvK6JYU593IQAA')">function eval_block(component, env) {
    const body = block_body(component);
    const locals = scan_out_declarations(body);
    const unassigneds = list_of_unassigned(locals);
    return evaluate(body, extend_environment(locals,
                                             unassigneds, 
                                             env));
}
</pre></div></div>
	<div class='snippet' id='javascript_76_7_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEZMChsDMBXAOwGMAXASwHsjQAbCgZzIH0q8XiBDRxigcyIBTACYAKIlwC2QxgEpQAb2yhVoAE5CyBdbSlcADhOlDQAXgB8oAEQAqbrwHCRt6wBpQkmfIDc2AL5AA')">function list_of_unassigned(names) {
    return map(name => "*unassigned*", names);
}
</pre></div></div>
	The function <kbd>scan_out_declarations</kbd>
	collects a list of all names declared in the body. 
	<div class='snippet' id='javascript_76_8_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKqY7bHlqdUAFMAbgEMANkQkURACjJsADnREkKAGlEkxASlABvbKDNMRFIkxKgq9APpSq8ptKWr1m-abN--APygzq7SDpIyisqsaiQaFD7+SaAAXHaOJBKsUZ5x3r7JZkFSNDQA1kQqDvQAnqwARjRS4dJEirUNTQ40BA6Z2R4xXgk6GgYFhWn2DhIqKs5kcrQkg7HxiYVFoLPzNQrirXKKApTLDiIAHioW9PTLq8P6o3pPE5vJzvQU3b0RbfQKCRMADm5yuNzudAB0TW3meBh8AEgzFNHDQVCI3BQaEwHNF6lRMkIVjDHm8kkEDjIjgp0Zi5Di8WwCUSztiZnMFks6A88iNdON3ql0kySAATFzLdykvkbTaUiKiiXE6W5eLwuWTEVSLL1MUSMHXES3e4y9bkwKgVgSMoiBwnYkKHUNfUOFRArKWTHVOqNKTQtVwi1C97OvUGxpivZmuECzXJVHVEQARza5ByQ1lwa2VKTqY0ZHaKbTheqFCO2U0Acz6yecezwumIhiFBqZYr8V55qFQVIYpEBEJIjFDcT9RKZDKXfyPdEivHNEn0+09aFiYsVhs7fklYoy-jFLnYQ31hI2+bnZjK7GB-8iYkJuBJF3+4bCrCD7uT5fV412GRjaOA6Zz9mQOpYqagYJABZj-jmfw0sBdAOKBzTssoDDlpoKEiGB+5-muIqoR6jpXrefjvs0xEQTyv6ru8aSYiwTDLjoABEACqJBlCQNAAO62LUmgSBcoAALRiUe1LyGx+gANzYAAvrgSG2DsUh7AIOhAsC9CGCYfhUAQoAKNM1xUKwkpiHaqkKAI+j6eSJ42NsnJtuZlnUNZ9qkKcPJadsIJ6QpfiKaI-oiHYxmmY4pJ9j5gj3PZjnJBhXygDcRBSBQoAALxSbI8h2b5xIOJGmmkK8IbVYUlzyOK5x6FQLDPp2DY1SGqluh62SuAC9laO1HXvDp9CDcNE1+F1YzNXQL7JfJTmWKeIrOWefyKJl2XkYea0tJEor1XuW0JENwp9gOQ5iiFZhhSIEXGOSTE4sVJDsVxPH8bYqmgK2GLiZJ6k1LJN2gMpyn8CVyzBPY3w9Pt-z7FcY1xo9SRrVasyAiCeUAHwFTSOkaqMyOLRDP25hhypSlIrGowZfgY9MFBMEQFAABZ7FShU5OKkp0GERoSosRVkRqO3wYcot0NTAvNGlxaXlBdY3u1jEIdLfMqs00iuKy1n4XGCnk1Dwi5vQivpgoXysBQKM3mjhnRU2LZthb+ZWzbdsOY7yQYxdg5xNdEx3Q9RkmdMOpfOeL5e3pKWFBj3OIc10dfB2mjWxQtt6VoN6g2D4UW77SRpTlg5MGn2ffBteWgENydFRXVcZ3ucdPPnwbhzFDh7Rtdmp98XsIyIPsM0KGPN0P1cjwX-ih8X4-vEniruyWihnYzxrT63ALt3nLxz6FIdKSppu2J8cO9KQn5UE+w4KP0xoJ+Yy0udaKiP56eOgGxABUN9HxBz-mxHQT9gqn0holM284JxTjog7JeZdQDlTrguScZUaBRn3AXZBE5pCMHyvQRYZ4aBsxwmBEiywATlUWv4ZBgCvxB0ITDaO8NGF3yDk6RcBC6Fb03LYRuihyok3qmKRqYhZqtUzvg-041JoKPeBw++YoUab0UdVG8ZMz7QMEYqPa6cdxKxrJoDUJcMbWltL3N+61Wgb2GkIhQe1LhGhNLRZW4tjY6L8noj8QCfxQTMUgqEOVa75Ucbfb88QR6GghJBEx-JO7+EiWeDofoR6An8dEtJTRDYbQ1AXDGG0vFQJ8VJCh4FuQkkCfTCYKSfSdGaP3aiVSGl+kNuo94jiWmlQ2rE40kJqkJKqhozRLw+GvwEaAAOV0Sn4FUowAgLB2BQDgIgZA6AsAACZvHEm1C4ektMyLmJsSKEgRAGiYn3GYAAPjc9q0wvhMEJMCa5oA7kPMcI0JoIgJBDNhAkd59yQzTHOVII5yt-AfJBY4GZXCyJeJ+iEQ5GTjlGH8BMDGV4Sk-WZhIYEwJhxOFhnTDmdpyzAhfhlU5ZkJDNWuQAMgZaAdmvyxTXNypy36rKHAUpxefM5nprlLyZo4ClhLxGXzpmxJ+INIE-Ryc0eGT9hWYtOayiQ7LyxUAhcM7RpS9nTBSQE4ZJypl4oJUSqVdE2LGviHK5SP07XYUVaq-wGMNVarpbTT1ChtW6oBQ5ByiKBXOprnY-pbj-mPDNStX1-q-Xev3MG+VArpg9PiYG2NLkLUSuJV8aVZc-nfAzXQWSQLPm8vxXm61NS2KSGeRIccdpS0kHLdCoUuarUkptV1VtDqDXQ1bW03JaKCgerZYmnVCh41JrIkGkNujQDDr6S4uJ7jTXjwnZqqdtME3zv1bixwYZXRroGZmmNW6aViurd2gtNqT0GjPVGgdSLdSundG4Xq3pFXVizVeqZH9ra+i6Mqz0OhZ3ToPYuspj7MHYLHfwuNk6E37uVimk2S7pgGPLEYzOiHJkrS7ZKntdacOt1fQK5x4Jz0bv-eO9VKG53of5Vh2KMt+aZADZetV5qb2WpI-eutVNONhGfYM9twLO38ZraRhJ7ERPaxjva7RP1FM0zdBYYWNICPUqmZfaxBA6YYFUwK9TctRRr2MfRpDLkDMWCM3RLZpml3ma4zMbKmJ9YZhs4RuzsNDN0wAMyHrTY4Kzntq4v1FVWgT+a27V3YhFwslGl2WLtMl9o1c9K+wxlKtimXQGgHbjBvZmXlNVizrbfSfgGNTMg7TL2GHB3CCnhVhLOdouMZ3SV0+P0bg7zw3bKr3tcunITb1x1YXziuzzOvEbOWANEYyFlRr2WXNlMjg+QbF5M7tzG3xvoq3d0Leay12w0x0HwMhSK69sXZNCfk7-K7qWylXfg9GG7vHkM7rQ3q1jm3HDqSoCLC9soDvLfu3evcNrgeg7LRtvZ00aNRrdX52wDXk2lehjpSNgy-08dsxjpj06-uBrO-M8+izlkcDWdwTZaAgu7OhszVmHM9gXCpTF75UhfkrE5-XEMQQLhq1EEwZiCgLjsR53z0QVxcLyDFDoCwhYqDWTFCkAd53MZWNsp+z0fUdAiNqe605+W4oNVUqAzp+vv2VyN1gmoBS+vTYt+I2yBAud3fFdDuyCnPDxSt4j6GXVbdekrnZL3+mAsOb96AEz2PWvnw+5H7NF8Y8Djj85xP31k8zRavNKPK17OZ4IDoELAO9npesQI1FdAjpF-8wWtifc7FFYwg3nPq0bEZI2o3i7Mnff5N-q3yIr29mj7aIdTsfe08spJ7TPvoWl0FhKHcEgoJ89zU7Ig77LkE2dym0utrSyhW79N-Vydh-sDILJTNlQrYJFSN3HXMFUgFLa+r6fgYv6dAbUW3vrYO6PSr-qAP-sHq1l+hliBv6HZFATVrVhfj9uyt-qPF3qgSPP1PAcYBikgfvkmqgcvmUnVBoOIlvtIm3DASjBECjPUA+HaOfkTsEBoMCBzMBo0jlpyvlLzhvmwTQRLKAEEMASxF-lAewX6NQbwkbvQRIgIWkDwawezOIU0DlgADzMG8FKH8FnSUji4vRsQAAqpQmMJANQgUwIFy8QjA9AlQ8wVAw4aQbEoAAA1ILhok8i8kZHsL+oYK4UVk4a4Z0kkB4Rvl4QoPwQISiGLhLoYcYQQCIHxOYZYVWMVrYc4A4b-C4W4YoiEcCGET4Vkf4VkUEf4LkWEREZXtDCUOUJUCOk0nYsoVIEEhMBTHoE4KUJ-IwckAqiQo0ZIf6FSpsDFm-n0ZEYUJSG0dUZ-CUUkKvjQOvpvk1AXjvuMjMWkIqnlFyr6j4TMVsL6toaMusb0RNlQXWAmhUcGMpJsN3GMJsflHfs2A-m2OQbuIMbVHoSxIqu9CQI0H2KALKhMkkAvJFEvJsMgqgXXCfmIUkiGBjMQn8nAZ6HUVgZ6CMqMswEif-oidkCmpsFccfHgYIpMR0fsIfKmkuvUoqhkl8WAdIM0f4K0WIO0eiKSQYCXAyQKvCSsKAfweyYnHdiMTsRNBMUyVMQoLsXMQsU-ssZnFop0usTAXcfPj1qcSUUEBbN8PsQQn-tIGMUkEcQiScRwWcUmhcXidkUkDcXoEqQ8bNi8esHyckM9J8TAd8b8eKP8d-BJNsFkpoHKuafdIvENOCVAZCYPPaNCWSdVHCb0Rgb+tiaPPIuiRgViYQYCfPCfISQKMyZ0WSRDJTrotTmwLTlwBsrwCgMzsIGZM8p5GrjZOfK9F1odj7oJnuAFGxB5FZCIOPtDJ2V5HaBZPMLtrhklJVBDi5JjslCUsgn2XWQlD4iwlKhaPlp6kVn4J6jVGif4Plv6muWYP6puUmduSSh2XSkwHuaAMIYecuSeZfBeZfNeYUPlqCqtkVi+eCkKFuX4PlhKPQPMBIMDDoL+f+WYe8F+WYPls6Xuc6dVOBawnuGxNaBzDMPUPQKAkhezChYwJsHBfls4ReX4JLjoDUIYLlPjKJK4aBbhSeWJARWYERaACRT-KJJJFRUed+SeSAjoMkAxUxWRaAKJH-IxWYNRc3sAHRSZFLoxaReRaAGAGxTec3gAKQSW8UyUCWgBKXCWgCiUIVcEEVqXMVKkkXsUQUnkACEnKBlUlfFslll+UJlilCFqhqlNl6lok6hZgjlT5J5qhuUdFhl-FHl+U0lpl8FCgbEuMrlxF7loA+MXlulEVuM-l3F-ggVslyVCVYV+W5lElGl-g-FZg5lfgnOFoi0M5NZXZ85pUv6eUwYQGnqOgs53kCy5VISl5lV-Z1VZwNA9QAAVgroQvVVjAID-Pls1d2RBgvo2Q5GFUkBNd1VCItDfu1QtUWikdwSSvlnCsOEVjtWKHBeicec3pACQIHC4IBWYKdeda2IdUdWZc3hhQ4LAJAHuU9S9Xdfdflk9QAKIXm-WfVHX5YAByEgwNEloNwNepCibVmEHVFkVV61Q8VBdVmwQGZAP8vqZAdYa1ISxaECFVCNXVSNmBqNhQ6NmN012NONnVc5SNEC2uQMmmRNc5HupA2kIIl8-erkuwDghIDgF0TAGkLyDgfVEgkgxCzyD+4pE0C1g5vOu4VSjZc1mwOkXNckSQ5JZSGptR9pmc3NJBDUete46iOwpBCgC1XUoBuxZguNmExayJgNyScw5tltyevVA1lAai6Jdt6c2E4BKtyQtpTx0p2+3gJSvOOUd+wIJQdBzQxtdcOtVQxtCgy1PRfy3Q5CraBO4OS83cjylshYyajpoAyCccidhdGWuGw5Od6wR86OIojxj+mWp26iQQb+6iaQZt4o1sJCmdJauElSxI-U4Zhiw5p2Tt1UXJ-dFSVCUIMt91fg1eLdA27We862C6IcRcIJwYMWrar41UxQJKw6rq86Q0aQb+Bc4MuA09ZCA9lCNEDAFtQIFsEVyCok+UGAGtkdwl+UWycksk8kQAA')">function scan_out_declarations(component) {
    if (is_sequence(component)) {
        const stmts = sequence_statements(component);
        return is_empty_sequence(stmts)
               ? null
               : append(scan_out_declarations(first_statement(stmts)),
                        scan_out_declarations(
                            make_sequence(rest_statements(stmts))));
    } else {
        return is_declaration(component)
            ? list(declaration_symbol(component))
            : null;
    }
}
</pre></div></div>
	
	
	We ignore declarations that are nested in another block,
	because the evaluation of that block will take care of them.
	The function <kbd>scan_out_declarations</kbd>	
	looks for declarations only in sequences because 
	declarations in conditional statements, function declarations, or
	lambda expressions are always nested in another block.
      </p></div>

      
      <div class='permalink'>
        <a name='h10' class='permalink'></a><h2>
    
	Return statements
      </h2></div>

      <div class='permalink'>
<a name='p12' class='permalink'></a><p>
	The function <kbd>eval_return_statement</kbd>
	is used to evaluate return statements. As seen in
	<kbd>apply</kbd> and
	the evaluation
	of sequences, the result of evaluation of a return statement
	needs to be identifiable so that the evaluation of a function
	body can return immediately, even if there are statements
	after the return statement. For this purpose,
	the evaluation of a return statement wraps the result of
	evaluating the return expression in a return value object.
	<div class='snippet' id='javascript_76_9_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKqY7bHlqdUAFMAbgEMANkQkURACjJsADnREkKAGlEkxASlABvbKDNMRFIkxKgq9APpSq8ptKWr1m-abN--APygzq7SDpIyisqsaiQaFD7+SaAAXHaOJBKsUZ5x3r7JZkFSNDQA1kQqDvQAnqwARjRS4dJEirUNTQ40BA6Z2R4xXgk6GgYFhWn2DhIqKs5kcrQkg7HxiYVFoLPzNQrirXKKApTLDiIAHioW9PTLq8P6o3pPE5vJzvQU3b0RbfQKCRMADm5yuNzudAB0TW3meBh8AEgzFNHDQVCI3BQaEwHNF6lRMkIVjDHm8kkEDjIjgp0Zi5Di8WwCUSztiZnMFks6A88iNdON3ql0kySAATFzLdykvkbTaUiKiiXE6W5eLwuWTEVSLL1MUSMHXES3e4y9bkwKgVgSMoiBwnYkKHUNfUOFRArKWTHVOqNKTQtVwi1C97OvUGxpivZmuECzXJVHVEQARza5ByQ1lwa2VKTqY0ZHaKbTheqFCO2U0Acz6yecezwumIhiFBqZYr8V55qFQVIYpEBEJIjFDcT9RKZDKXfyPdEivHNEn0+09aFiYsVhs7fklYoy-jFLnYQ31hI2+bnZjK7GB-8iYkJuBJF3+4bCrCD7uT5fV412GRjaOA6Zz9mQOpYqagYJABZj-jmfw0sBdAOKBzTssoDDlpoKEiGB+5-muIqoR6jpXrefjvs0xEQTyv6ru8aSYiwTDLjoABEACqJBlCQNAAO62LUmgSBcoAALRiUe1LyGx+gANzYAAvrgSG2DsUh7AIOhAsC9CGCYfhUAQoAKNM1xUKwkpiHaqkKAI+j6eSJ42NsnJtuZlnUNZ9qkKcPJadsIJ6QpfiKaI-oiHYxmmY4pJ9j5gj3PZjnJBhXygDcRBSBQoAALxSbI8h2b5xIOJGmmkK8IbVYUlzyOK5x6FQLDPp2DY1SGqluh62SuAC9laO1HXvDp9CDcNE1+F1YzNXQL7JfJTmWKeIrOWefyKJl2XkYea0tJEor1XuW0JENwp9gOQ5iiFZhhSIEXGOSTE4sVJDsVxPH8bYqmgK2GLiZJ6k1LJN2gMpyn8CVyzBPY3w9Pt-z7FcY1xo9SRrVasyAiCeUAHwFTSOkaqMyOLRDP25hhypSlIrGowZfgY9MFBMEQFAABZ7FShU5OKkp0GERoSosRVkRqO3wYcot0NTAvNGlxaXlBdY3u1jEIdLfMqs00iuKy1n4XGCnk1Dwi5vQivpgoXysBQKM3mjhnRU2LZthb+ZWzbdsOY7yQYxdg5xNdEx3Q9RkmdMOpfOeL5e3pKWFBj3OIc10dfB2mjWxQtt6VoN6g2D4UW77SRpTlg5MGn2ffBteWgENydFRXVcZ3ucdPPnwbhzFDh7Rtdmp98XsIyIPsM0KGPN0P1cjwX-ih8X4-vEniruyWihnYzxrT63ALt3nLxz6FIdKSppu2J8cO9KQn5UE+w4KP0xoJ+Yy0udaKiP56eOgGxABUN9HxBz-mxHQT9gqn0holYQ9BFhnhoGzHCYESLLGrLCBIJdu7TDXgWDM6Cx7BjLqAOOdccHphjvENBjwj6v03LYF2KhWx5nXlnHOEtDwkCylITewodgaDFNbOB3REHUW5AwAelcd47k7O3Kqk1kiwIkPAkRuFwJiIBDwmq1pbTMNwQoG4UiLxVlYd7Byi155F0ikvfwTNHCiNIsrIaxRYYKHsWcDofp9zsOFJwqQUgC7gzPtA2wuYFxLjog7JeRDyp1zCWUMqNAoz7gLkQic0hGD5UUco74bioQKHKuYvwRDAFfiDhkmG0d4YlLvkHJ0i50mFNoStRuihyok3qmKRqYhZqtUzmk-0415FDMKNU++YoUaaOGe8G8ZMgl+RCYqW+34lY1k0BqEuRDa75RaYCIBu4R6GghJBVZ-JO7+CWWeDxXR+4XP2Vc2mYtQAbQ1AXDGG1jZzOJFJJBaiHEnPWUvC5PpOjNH7rky5vomiG0mbVDWihwUHMuEaE0tFlaDKmUKGZry362ADldD5eAwCqUYAQFg7AoBwEQMgdAWAABMnzoaRxcPSB5ysS62L6EQBomJ9xmAAD58vatglmhJgS8tAAKoVjhGhNBEEo3lkqQzTF8ayk5hg-CKqFNMPFtSyIfJ+iEFlI9eVGH8BMDGV4CU-WZhIYEwJhxOBcXRDmdpyzAhfhlHFIp3TNV5QAMj9aAdmcqBFkTyrlfKLqHBuqtefEUT8TXmq9Tau1DrL50zYk-EGkCfr3J+H0T0iabFeuDRIAR5YqCqvwbMqB8yRS3JWfg9lybHBuvtZ09NdE2INs0Nm5SP0e1D0hVWx4za6FBpDQoCttNS3lokJWrxDl9VxsHYi8ExpIQkjZUvDGs6p3ztptOxdsbglEVUSg1Faqx0rRTe2x1XwM1lyUTk89NESCyQlYKpVrbbV3s7VBdikgmBUAkOOO04KP2aveLetNTqAO-y6hB2ZP0EX3KLU0lye6j1YYPYu5DcaEUbUORu45Tbx67snUeo9ZEl05rjZHXUrokVHMvWRgoHK22wYfV2sMTH10ovffh09vGDTujcL1b09yqGyl9hjD+1th35qfjoHDC6aNCbrSJhJSSw3kZLZR3D1Hla0ZNqe6Ye107SMzrp9jLbo2-q43uLtFnyxWYoH22tXy9rMZI6x0denx2qZHbKGt1rYoy35pkYL6xr0uRgx2uD-zf5U0i2EHzAnINfq1T+1NCXuPwbYil7WFDe0aa+UVmmboLDCxpDZre47L69wHHTDAZXoYVblqKMhTnt22Ya7DJrBA6a0ra8IDrUWZjZUxPrPB-m+srUaxYIbdEADMoX6OODIYWExL8OMOby23au7EtsiA8z9bRdoTsmL0rJr16a2IndAcQ6uED+1xpOyVu2O3jB+Hm5hgzC6vYmc89DKen3ru7f02WiHy7T0GM+3vF7kPx1HvbrDutDCmFXfbrd8dyquEw9PmFpwD5DGxyR7jm9GQCeo6R+tsz0qJxTjq-Vqn9ncv3p60lticSztxridp6MvXi2BYB9F7w9OMeOHUlQEWpG5us7izlv9iX0HsRl3LugfPT3TX45u9DnrRfQ6M2q0bakQTEYE9JmLAWVpBf3Wp4zNb8DEuYGwDglLuA0rQCthlwhmasw5nsC4HqOUyqkHKlYIf64hiCBcNWogmDMQUBcdi4fI+iCuLheQYodAWELFQayYoUgeZB8IC7CV5kKDE56PqOg2n0yTf1h9hXPDxVUqAzRNeJOV3r4kmoLyicbaZEMdv587Kh7s5xg7dl2JxQah3s3hBz7dXE16SuE-YsXwG0t2foBWvo6+V1cqm+d13Z381ggOgRuH9ByvmaLV5qT+b98XfV-QBrZPXWivfdWi8yOs-gti4mxL-pEE9hhAAbfv7o4KAW0AoBtIAUruzirg+s8r-LAadkvhgYdJ2AgVvhOsbrhggZLl8gWCUHcCQKCA-nNJ2JEk3itEep3G9jroPPaGvvsC8PgXukwdgEQlGs2Iwm2NQb0jlPlCqgpGXrYBXqSoWlJjoBtDdmfuOj6ixHIU8n-q9pIcwJ6MCn6P1GvvpGaiLnbpOjIdkEvmYXaAoXZAYT9r9sYS5EepYSQdDHVPwl0j0rHMOijBECjPUA+HaHQQ4RfBoMCBzApiCjdhGvlBHpQeEb4ewkECoQoNIewWoQkfXgEV0uwmkLEWEezBEXoYYAADzBChHxENJnSUhJ4vRsQAAqpQmMJANQgUwIXKlCxClQ8wVAw4aQbEoAAA1DHsMl8MBpQUZHsFJoYEMU9v0UMTCn4KMaKhMfAQ0t4sKM9CxPUY0QQCIHxK0e0VWJ0ZyD0cXr-IMcMUMkseMQQJMd4dMb-OxBcQsWYNccCCsQkS4cICUOUJULodcn-oUU0AChMBTHoE4KUJ-EEYULmnAkCQMuof6B6psByiqvCXpAsZSOCT8Z-C8X4GQTQBQVQU1I-rQS8OsQmMQsOuGvlHulMXiUEHugkXiWkFkg7rTFMToEep8TQmDF3NFGMDSb9MGucK7B4aSd4CXJsJsfCe9CQI0H2KAFmo0kkAvFYkNEQpYXXGDpYRwQYLycEcQnCZYf8f6DYZ6HIhiiadYc4SqfPCfIaWMBCeiHqV8WpEAqacavcvIdICCf4GCWIM6VCZwdYlNO9nCekQ0lKYnHZmifSRNFiYGTiQoC8QSUSeKTQZnDMpoqydSdEQQQIvGZNEEBbN8Eyekj6VIBSXeEafKqjvcVyUQWsbyWFPySZIKfmfwWKcIbuMibVDUaocOnKQqeKEqd-BJNsHsvENmpsGqdGalFCOXGvtqawbqWciGBjGySaVJuaeYeilMtaRobuaPHacfPaY6diZCa6QSi7ufCSmSh7lwNSrwCgH7vQo4B5FZDZOPvZJTkgdPpzq9OxJ+V5JgVAbYCBYXnaBZPMEYq5klJVH+bYPbslASkQpBd5K7jES4haPdrOk9n4LOjVJaf4PdtOgRWYNOsRfuX4PdioRRaACodRbhcAZfAxZfMxYUPdvjn4k9jxVIEKCRbRcARKPQPMBIMDDoKJeJS0e8EJWYPdpsRRZsdVPJRUnuGxNaBzDMPUPQKAlpezDpYwJsGpfdgMQxX4CnjoDUIYLlPjKJEMbJaZcAWJBZWYFZaADZT-KJJJE5TRQpcASAjoMkB5V5XZaAKJH-J5WYM5S3sAG5SZKnp5bZfZaAGAH5SxS3gAKQJWhUpURWgBZXRWgCxUaXREWV5XeVCk2X+XqUKBsQACEEaFVSVYVqVTV+UNVmVGlxRuVrV+VokpRZgXVXFwBxRuUbllV4Vg1+UyVtV92uMfV1lA1oA+Mw1pV9VuME1wV-gU1qVW16181wBDVCVBV-g4VZgDVfgIeFoi06FwGnkUFlepUUmeUwY8ms6OgGF35wSEC91FkX5z1ZwNA9QAAVtnhku9VjAID-HRQ9V+U9ihZVA5LVUkN9UDVCItLwYuYxfDaBV1lhHbHXOmvdjqsOE9mTWKGpRiqRcAZACQIHC4JJWYPTYza2NTTTQFS3gZQ4LAJABRTzXzRzZzfdjzQAKIMXi3C0033YAByEgstCV8tst1Zk0d1ON6NT62Er1uUUNn8ZAP8e6ZAdYmti5z6f1GteNT1WtNcGhb1mw8mBt4V9uxtJtVt3kNtECWhQMVWAN+NtkAUOkl8iBakbkDghIDgF0TAGkoqDgoNEgkgsCwGjCKZE06NMFEeu4Yir00tSQQdsM8kSQdGp6pZfxPZnYIdmeHSGZIhqdHUfC4o1e7tP18yppEyGKptmEz6bdudfgDdAi6NXUIN4NlA7dUynd6c2EChvdlFIpAhTC5d3gBKEeOUUawIJQ-hzQi9ohxCy0VQ29CgWNFMioLmrcdM0JGGUhNodoGBddNUOy3meu8uso4saFONrA7kLAwI4mdcYmFs9VpqP0Q2hhGMGAckhcwD4Dik2aOyH9VWNA39WQXJIp69INaWJJmZCQckQAA')">function eval_return_statement(component, env) {
    return make_return_value(
               evaluate(return_expression(component), env));
}
</pre></div></div>
	
      </p></div>
    
  

  
      <div class='permalink'>
        <a name='h11' class='permalink'></a><h2>
    
    Assignments and
    
      
      declarations
    
  </h2></div>

  <div class='permalink'>
<a name='p13' class='permalink'></a><p>
    The 
    
      
      
	function <kbd>eval_assignment</kbd>
      
    
    handles assignments to
    
      
      
	names.
	(To simplify the	presentation of our evaluator,
	we allow assignment not just to variables but
	also—erroneously—to constants.
	Exercise&nbsp;<REF NAME="ex:mutable"><a class="superscript" id="4.1.1-ex-link-4.13" href="./4.1.3.html#ex_4.13">4.13</a></REF>
	explains how we could
	distinguish constants from variables and prevent
	assignment to constants.)
      
    
    
      
      
	The function
	<kbd>eval_assignment</kbd>
	calls
	<kbd>evaluate</kbd>
	on the value expression
	to find the value to be assigned and calls
	<kbd>assignment_symbol</kbd>
	to retrieve the symbol that represents the name
	from the assignment statement. The function
	<kbd>eval_assignment</kbd>	
	transmits the symbol and the value to
	<kbd>assign_symbol_value</kbd>
	to be installed in the designated environment.
	The evaluation of an assignment returns the value 
	that was assigned.
      
        
    <div class='snippet' id='javascript_76_10_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKqY7bHlqdUAFMAbgEMANkQkURACjJsADnREkKAGlEkxASlABvbKDNMRFIkxKgq9APpSq8ptKWr1m-abN--APygzq7SDpIyisqsaiQaFD7+SaAAXHaOJBKsUZ5x3r7JZkFSNDQA1kQqDvQAnqwARjRS4dJEirUNTQ40BA6Z2R4xXgk6GgYFhWn2DhIqKs5kcrQkg7HxiYVFoLPzNQrirXKKApTLDiIAHioW9PTLq8P6o3pPE5vJzvQU3b0RbfQKCRMADm5yuNzudAB0TW3meBh8AEgzFNHDQVCI3BQaEwHNF6lRMkIVjDHm8kkEDjIjgp0Zi5Di8WwCUSztiZnMFks6A88iNdON3ql0kySAATFzLdykvkbTaUiKiiXE6W5eLwuWTEVSLL1MUSMHXES3e4y9bkwKgVgSMoiBwnYkKHUNfUOFRArKWTHVOqNKTQtVwi1C97OvUGxpivZmuECzXJVHVEQARza5ByQ1lwa2VKTqY0ZHaKbTheqFCO2U0Acz6yecezwumIhiFBqZYr8V55qFQVIYpEBEJIjFDcT9RKZDKXfyPdEivHNEn0+09aFiYsVhs7fklYoy-jFLnYQ31hI2+bnZjK7GB-8iYkJuBJF3+4bCrCD7uT5fV412GRjaOA6Zz9mQOpYqagYJABZj-jmfw0sBdAOKBzTssoDDlpoKEiGB+5-muIqoR6jpXrefjvs0xEQTyv6ru8aSYiwTDLjoABEACqJBlCQNAAO62LUmgSBcoAALRiUe1LyGx+gANzYAAvrgSG2DsUh7AIOhAsC9CGCYfhUAQoAKNM1xUKwkpiHaqkKAI+j6eSJ42NsnJtuZlnUNZ9qkKcPJadsIJ6QpfiKaI-oiHYxmmY4pJ9j5gj3PZjnJBhXygDcRBSBQoAALxSbI8h2b5xIOJGmmkK8IbVYUlzyOK5x6FQLDPp2DY1SGqluh62SuAC9laO1HXvDp9CDcNE1+F1YzNXQL7JfJTmWKeIrOWefyKJl2XkYea0tJEor1XuW0JENwp9gOQ5iiFZhhSIEXGOSTE4sVJDsVxPH8bYqmgK2GLiZJ6k1LJN2gMpyn8CVyzBPY3w9Pt-z7FcY1xo9SRrVasyAiCeUAHwFTSOkaqMyOLRDP25hhypSlIrGowZfgY9MFBMEQFAABZ7FShU5OKkp0GERoSosRVkRqO3wYcot0NTAvNGlxaXlBdY3u1jEIdLfMqs00iuKy1n4XGCnk1Dwi5vQivpgoXysBQKM3mjhnRU2LZthb+ZWzbdsOY7yQYxdg5xNdEx3Q9RkmdMOpfOeL5e3pKWFBj3OIc10dfB2mjWxQtt6VoN6g2D4UW77SRpTlg5MGn2ffBteWgENydFRXVcZ3ucdPPnwbhzFDh7Rtdmp98XsIyIPsM0KGPN0P1cjwX-ih8X4-vEniruyWihnYzxrT63ALt3nLxz6FIdKSppu2J8cO9KQn5UE+w4KP0xoJ+Yy0udaKiP56eOgGxABUN9HxBz-mxHQT9gqn0holYQ9BFhnhoGzHCYESLLGrLCBIJdu7TDXgWDM6Cx7BjLqAOOdccHphjvENBjwj6v03LYF2KhWx5nXlnHOEtDwkCylITewodgaDFNbOB3REHUW5AwAelcd47k7O3Kqk1kiwIkPAkRuFwJiIBDwmq1pbTMNwQoG4UiLxVlYd7Byi155F0ikvfwTNHCiNIsrIaxRYYKHsWcDofp9zsOFJwqQUgC7gzPtA2wuYFxLjog7JeRDyp1zCWUMqNAoz7gLkQic0hGD5UUco74bioQKHKuYvwRDAFfiDhkmG0d4YlLvkHJ0i50mFNoStRuihyok3qmKRqYhZqtUzmk-0415FDMKNU++YoUaaOGe8G8ZMgl+RCYqPa6dpGZwiS8EuGNtF2j7q0Dew0Wn6LfmeS4RoTS0WVuLY2cziRSSQWohxNZNAahLrfJ8PpOjNH7rks8HimiG0mbVDWihvkj0NBCSCjyRgAv2S8RpGUjmgADldK5eAwCqUYAQFg7AoBwEQMgdAWAABM1zoaRxcPSWmZENkIumJwhomJ9xmAAD5MvatglmhJgSMtACytljhGhNBEEoxlvKQy0q4dy5lrKxWOCRbUsiVyfohApSPRlRh-ATAxleFFP1mYSGBMCYcTgXF0Q5nacswIX7wroSKd0zVGUADIHWgHZkKgRVLcqet+q6hwFqdXnxFE-NVmqaWOAtYazpl86ZsSfiDSBP1fnNHhkGqlS8MauokAI8sVBKXK1mVA+ZIpXm9L3KmkNNq9UGqNVGuibFi27jjcpH69b4jvM8WWmxCKM1ZokDmhQ3aFDZtzZCsxszm1AN3KCk54LzkjupTagdQ7B29uHfghy-rglEVUSg2d+D50rUrRG41Xxo1lyUTk7dNESCyR5dKoUh7q0mqguxSQTAqASHHHab5N7RX3rDfqo9Nbn2-y6t+sdAaQWJuDVvBdbrl19sXSurx67T4-RBRtMFxpIQkmVr7dNcGl1LrIihk2m7I66ldNOrDEK93j1sb6gDj6T21rDJR8E1G6CNoLTc1jBp3RuF6t6RNVDZR4YRR-a2voujJs9DoRDfbiPgc3bxhJSSO1NJcvJ2mRG835t1Y4JZ5YVmltw3R0NDGq2RqfZC9ihnW5cZ+ntKjZycNzrM7BzN8HV2PD0wG6YVN+aZG86JtN5nw1MZMzZ3+AXtaYZcz+u97wH1WeY8BtiMWaYUM0A5gNGW5ZugsMLGk6nrUrUvr3AcdMMBKcLXloLooyGRdowUDG5WLAEDpoSmrNy6sfmypifWeDHhiZtW1yrdEADMvmyOODIYWExL96PhZS23au7E5siBy5urZujPbVz0iNsrLi2IbdAcQ-b3XoYbay3bBbxg-Ata7QRpDXsSPcehlPG7JiDvuZWgO9uiqA0GJu3vC7h2XJLoB6hvzjhmyMLdpbeb7dwf0IyBKqHTaYdOAfIY2OYPfsuXFX4rz323vveENMOJ0GYMHv-ZZ49TXhjsTiVtwtcTVPRlM+Wv7z2FN5o3YW6Y6kqAixo8NgnqOLOAes+g9iwvReccu8Iaa7GXPU9K5p3nwXayA83TpOL2GRPrBRy6rXJPFMovwOi5gbAOC4u4AStAE2SUU7DazDmewLhWvowKqQQqVhe-riGIIFw1aiCYMxBQFxmelD90o0QVxcLyDFDoCwhYqDWTFCkLj5PbA7dsvxz0fUdBtPptzlyUb0ueHiqpUBmjC+CcriXxJNQNS68F7FavDVbIEG92FxjK27LsTit38+rObldQb16Sudk++jdhhVjrBAdDVfbxP8+HPZ-7orwv9rQ-QBdbXx9jfM0WrzTn0d6Oe-l+gCmwLm5O2dmRA8JoY3oX58nrYk-toZ2MJHSV5Lt-ooBtBfoTnTtLiehtLZkciPOPtDEAYdJ2CAdvrYFpgoCAdNoWgWCUHcCQKCKfnNJ2JEuXrYEup3Jjpup9pip6PsOsu-jzp5uQdgEQmaucK7F0j0ruHXL4v4i7nnjaDZAJu0FJgMqABtD9iQaAHaixMJjoOIQAcwJ6G2k0P1EIfpBqp2h5gItQdkAoToXaOIXZGofdg9poStEuvoZgTcnVPwhwWfjIiISjBECjPUA+HaMQWYRXhoMCBzJJh8gdp6vlH7ngb4c4ewkENIQoPnkIX4X6E4Q0iXm4V0uwmkMET4ezLESoYYAADzBDeGhENJnSUgR4vRsQAAqpQmMJANQgUwIRAu4jA9AlQ8wVAw4aQbEoAAA1EHsMl8G+ngUZHsMJoYN0Wdh0d0dCmYH0ZyoMegQ0t4sKM9CxOUZUQQCIHxLUfUZQsQs0c4G0b-F0T0UMtMQMQQEMY4SMb-OxIcZMedv0cCLMWEVYdDCUOUJUMoZ8rspkVIM8kvBTHoE4KUJ-B4YUAmnAt8fEf6FapsPRjwRCQsckJSACa8Z-LcWYNgTQLgfgU1PYZnDMtCmkImnlF6v9hcbcUEAOmEbcYSeCZDhcToEuk8TQmDF3NFGMMSflKwXDkwgQSWtCbVCUTISIe9CQI0H2KALGnChYvdIvENEQvoXXFQTEZ3NVBjFkkYUocJhqboYMlMoodkCPKoZ6ChpsMpPPJIWMICeiLQQYPftDMWh8aqomnIdIL8RMP8WIFacCXQcGGCcKrIWIQ0iXDCeZnCcMZokiZ6SiQoJMRiViXYYQXibCpooSSIRyabp5uGfIkEBbN8JSeki6VIAiXeMQrSS9vSb9EhkycGGFKySZOyYEd6u4ewbybuPyckEsd8SKWKeKBKd-BJNsBOvEHGqaZYsGYUPKUIYqYPPaMqYfENGqeCfoR8UaTqWiWYMuYYZYVKcfOaZ4SEsiUCTafmlbufBilinblwPirwCgHwbam+p5BnjZOfK9Itv3vTlGgFGxB5FZJtgoT+V5HaBZPMEYkZklJVCbmgclCikQgBU+QlPMuUlGhaJXt2mdn4N2jVHIkkJXkOuhWYEOlhbqf4JXtIfhVIb2kwERShcdpfORZfNRYUJXkTlIGdixUKNhSRcdhKPQPMBIMDDoDxXxTUe8JxX4JXksfhUsdVGJWYJXtaBzDMPUPQKAgpezEpYwJsLJRUnuGxJ0eRX4FHjoDUIYLlPjKJN0SJdpZXmJAZWYEZaACZT-KJJJFZcReJcdiAjoMkA5U5WZaAKJH-I5WYNZcdsAHZSZNHo5aZeZaAGAG5TRZ-gAKQRW+UxUBWgBJXBWgChWf6BEGVpXOXpkmXuVyXHYACEnqBVUVflsVlV+UJViVul2RqVNV6VokuRZgjVTFx22RuUdlhV-lHV+U0VpVOlCgbEuMrVxl7VoA+MXVuVuluM-V3l-gg1sVy1C1Y1le5VEVGV-g-lZg5VfgXuFoi0sFD5v5CFpUwmeUwYEm3aOgcF3k6K51UIOUz1z5wS3Q9QAAVknhkvdVjAID-KRZdYBWdlBZVA5GNUkJ9ddagotMwe9VIeDfBWelWHXFGpXnKsOGdrjWKNpXqVxZ-pACQIHC4AJWYGTRTa2ETcTWVZ-mpQ4LAJAPhczazfTQzfJXIOpQAKLkXM181c3E2V4AByEgYtEVEtYtxZk0b1mEqNFkV1GNQ8jhd1mwEmZAP8A6ZAdY8NqtECF1ytgFDWWENcuygNmtWM2t-laBet+taN3khtSNzabkBWJt8FPepA2kIIl8oBak7thIDgF0TAGknKDgv1EgkgsCb6jCMZE08NwFfuu4Yir5sNmwOk-tckSQ8aAauZ7xrZnYAdCeHSCZJaCdHUfC4oCg8NXUAZaJBt7156K5It-g1dAiddG+NAf1ANOgjdTtdoqthpbdfgXJLZOJiZCQKKfuOUrBwIJQrhzQRdmgpCy0VQK9e4rtAauYLaqywGIJZgRCtc+UBye9FtB0zm2GhsKpfgDpiaqq59HxhsUBRskhG0MFKNrA7kLAwIAmdc-GFsE16qs9GV+UGAOdok+UhKOdikcaBy39BWNAf9WQDJPqC9PdYQm98kQAA')">function eval_assignment(component, env) {
    const value = evaluate(assignment_value_expression(component), env);
    assign_symbol_value(assignment_symbol(component), value, env);
    return value;
}
</pre></div></div>
    
  </p></div>

  
    
    
      <div class='permalink'>
<a name='p14' class='permalink'></a><p>
	Constant and variable declarations are treated
	in a manner similar to
	assignments; they replace the current value of the name in the
	environment with the result of evaluating the value expression.
	<div class='snippet' id='javascript_76_11_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKqY7bHlqdUAFMAbgEMANkQkURACjJsADnREkKAGlEkxASlABvbKDNMRFIkxKgq9APpSq8ptKWr1m-abN--APygzq7SDpIyisqsaiQaFD7+SaAAXHaOJBKsUZ5x3r7JZkFSNDQA1kQqDvQAnqwARjRS4dJEirUNTQ40BA6Z2R4xXgk6GgYFhWn2DhIqKs5kcrQkg7HxiYVFoLPzNQrirXKKApTLDiIAHioW9PTLq8P6o3pPE5vJzvQU3b0RbfQKCRMADm5yuNzudAB0TW3meBh8AEgzFNHDQVCI3BQaEwHNF6lRMkIVjDHm8kkEDjIjgp0Zi5Di8WwCUSztiZnMFks6A88iNdON3ql0kySAATFzLdykvkbTaUiKiiXE6W5eLwuWTEVSLL1MUSMHXES3e4y9bkwKgVgSMoiBwnYkKHUNfUOFRArKWTHVOqNKTQtVwi1C97OvUGxpivZmuECzXJVHVEQARza5ByQ1lwa2VKTqY0ZHaKbTheqFCO2U0Acz6yecezwumIhiFBqZYr8V55qFQVIYpEBEJIjFDcT9RKZDKXfyPdEivHNEn0+09aFiYsVhs7fklYoy-jFLnYQ31hI2+bnZjK7GB-8iYkJuBJF3+4bCrCD7uT5fV412GRjaOA6Zz9mQOpYqagYJABZj-jmfw0sBdAOKBzTssoDDlpoKEiGB+5-muIqoR6jpXrefjvs0xEQTyv6ru8aSYiwTDLjoABEACqJBlCQNAAO62LUmgSBcoAALRiUe1LyGx+gANzYAAvrgSG2DsUh7AIOhAsC9CGCYfhUAQoAKNM1xUKwkpiHaqkKAI+j6eSJ42NsnJtuZlnUNZ9qkKcPJadsIJ6QpfiKaI-oiHYxmmY4pJ9j5gj3PZjnJBhXygDcRBSBQoAALxSbI8h2b5xIOJGmmkK8IbVYUlzyOK5x6FQLDPp2DY1SGqluh62SuAC9laO1HXvDp9CDcNE1+F1YzNXQL7JfJTmWKeIrOWefyKJl2XkYea0tJEor1XuW0JENwp9gOQ5iiFZhhSIEXGOSTE4sVJDsVxPH8bYqmgK2GLiZJ6k1LJN2gMpyn8CVyzBPY3w9Pt-z7FcY1xo9SRrVasyAiCeUAHwFTSOkaqMyOLRDP25hhypSlIrGowZfgY9MFBMEQFAABZ7FShU5OKkp0GERoSosRVkRqO3wYcot0NTAvNGlxaXlBdY3u1jEIdLfMqs00iuKy1n4XGCnk1Dwi5vQivpgoXysBQKM3mjhnRU2LZthb+ZWzbdsOY7yQYxdg5xNdEx3Q9RkmdMOpfOeL5e3pKWFBj3OIc10dfB2mjWxQtt6VoN6g2D4UW77SRpTlg5MGn2ffBteWgENydFRXVcZ3ucdPPnwbhzFDh7Rtdmp98XsIyIPsM0KGPN0P1cjwX-ih8X4-vEniruyWihnYzxrT63ALt3nLxz6FIdKSppu2J8cO9KQn5UE+w4KP0xoJ+Yy0udaKiP56eOgGxABUN9HxBz-mxHQT9gqn0holYQ9BFhnhoGzHCYESLLGrLCBIJdu7TDXgWDM6Cx7BjLqAOOdccHphjvENBjwj6v03LYF2KhWx5nXlnHOEtDwkCylITewodgaDFNbOB3REHUW5AwAelcd47k7O3Kqk1kiwIkPAkRuFwJiIBDwmq1pbTMNwQoG4UiLxVlYd7Byi155F0ikvfwTNHCiNIsrIaxRYYKHsWcDofp9zsOFJwqQUgC7gzPtA2wuYFxLjog7JeRDyp1zCWUMqNAoz7gLkQic0hGD5UUco74bioQKHKuYvwRDAFfiDhkmG0d4YlLvkHJ0i50mFNoStRuihyok3qmKRqYhZqtUzmk-0415FDMKNU++YoUaaOGe8G8ZMgl+RCYqPa6dpGZwiS8EuGNtF2j7q0Dew0Wn6LfmeS4RoTS0WVuLY2cziRSRmEAn8UENQlyIbXfKBzb7fniCPQ0EJII1ljJ3fwHyzweK6P3YFu4fSdFpmLUAG0NQFwxhtK5eAwCqUYAQFg7AoBwEQMgdAWAABM1zoaRxcPSGFysNlHJFJwhomJ9xmAAD5MvatglmhJgSMtACytljhGhNBEEoxlvKQzTF8ZS-5GC-CiqFNMAOV1kmnx+iEClI9GVGH8BMDGV4UU-WZhIYEwJhxOBcXRDmdpyzAhfhlGlZkJDNUZQAMidaAdmQqBFkTyrlfKFqHBWr1efWlnoNXartY4K1xrOmXzpmxJ+INIE-VBc0eGT9Q02Jpe6iQAjyxUElfg2ZUD5kighUrKVNrbH+sNVG01XxY2ls0Am5SP0G1D19E0dNW86Fuo9QoXNtMs05odfmx4ZirktvuV8jaPzjSQhJFSpeGNB19uHSuvNXjC36rsaolB5zy3Uu7Qao1JqY10TYmXJROSd00RILJHlrKxURurSes1jzf6SCYFQCQ447S5NvYYWV7wj01tPW+tiXU-1NqLTcv9ULPFevHku3t-aFDLpQ2RMdyqg2wenSc35e78G+yQ9mtdtN0PKwcoG4J2pdSujw7Ov5hHEPhqrce6Nr6pXsTDHR8EDG6BQZVbRg07o3C9W9MmqhsoiM0o-tbdtKbehPx0Gh1dGHZmCZdBGRJ0YF0FGI0O9d5Hy2UcTUG6YSzywrL3AhvTLHI0vrrWeizrcBNBr2vRs58793Me7Sp9dGGqPFumFTfmmQR1ScXXZ597HHNgZC9rGdnm72Ac2MBhz1m4sy1C2EZZRiKCueo-FmmboLDCxpDZrtK1L69wHHTDA6mg1FblqKMhGXvO2e7dViwBA6aEoa4VrLCXdaYn1ngx40nOuwxqz1uiABmTdZnHBkMLCYl+lb7MxbbtXdiy2RAFeLVs3Rntq56Qm1VlxbFdugOISd-rxbdsUOMV7fSfgOsrT87TZ7d2blT0e1tthZ2XLLvbuOtz28-t71u4D2wKGQdYeowwphu2TGnZ8ytcVXCUffdJY4KOhjY5Q7Ry5DHfjSNY4Wwj-lE4pwVcq8Tp9bHa1tfQexOJ+2blxISUk2nTSgfIdUxRwLNzpjqSoCLRj42if0IZyBjjLPf6i-F-x7Hwhpq8c85221vn+f+cF-D4tOlEtzsk+saHPaSMoaMwWwt+B0XMDYBwXF3ACVoFmyS4QzNWYcz2BcCtLGBVSCFSsX39cQxBAuGrUQTBmIKAuKz0ogelGiCuLheQYodAWELFQayYoUhQeg9DQ7tkROej6joNp9Mw2Tbreezw8VVKgM0SXsTldy-aYRfr4XsU68NVsgQP3h6ZfpbsuxOKvfz7s+hl1ZvXpK52QH+d6O3WR+gHq6D6jXVyrz4PYv74y+CA6D6+v4t00motXmgvlyXXasH9APNoXhebTbKOeqjCR1L8XwuzsyI123-rGP13jVnQuqhtB-iKBtkzgoPCr-N-m0JPsILAXaH-pnKATvnzhbquqARTsWgWCUHcCQKCDNOfp2JElXitChp3M2kGr9piiGqQRmtriRpQdgEQn6s2Iwm2EQXNPEHXBKgpAXsIEXqJu0PJijBtKjmQS5O6I6hJjoOISrt9MIXBk0P1MIS9q9gwe9r2rQdkAocwJ6CPKoZ6OobBJoS5ChjoaPA-mbBcB0l0j0rHKIXIekuXg+HaPQXThfBoMCBzHJtCqdj6vlIHgQb4REHpO1EENISxEISGrIXCg0q4RbF0uwmkMET4ezH4X6KdgADzBDeGhENJnSUjR4vRsQAAqpQmMJANQgUwIRAu4jA9AlQ8wVAw4aQbEoAAA1KHsMl8J+gQUZHsBJoYN0ddh0d0ZMv4H0ZyoMVAQ0t4sKM9CxOUZUQQCIHxLUfUZQsQs0c4G0b-F0T0UMtMQMQQEMaISMb-OxIcZMX4CccCLMWESZibNRiUOUJUMoc0P3Mmk8kvBTHoE4KUJ-B4ckEmnApkSoc4f6DapsJWhKhCdCbcZSACW8Z-Lcf4LgTQPgYQWftwZnDMrcWkMmt6vlMDhceiaAEEMuk8RSUSeCbDhcToChk8Y0kkMpKltFGMCSb9O6ucK7PYcQd4CXJsEsQie9CQI0H2KAPGqyRYvdIvENEQpYXXDQcIfsIfENBjFknZEoRJjqcYYMlMvodkIYfqbobKcfPPJISEiiUCeqQYNYWpEAp8eqj8fEVIL8RMP8WIICeiPaTCVNEGtqXEU8cKYnCxvCcMZosiT6aiQoOiZidiQKXiXuASRNESfJtyWSf4QsYeBbN8NSS4e6bmXeMQvSausMUyZgfMTQoXF3JyXoNyWwfyVwb0hgtYrVCUSxG6ZxBKQguKNKd-BJNsJOo2habdJYmGalFCOXMISqYPPaGqYCiGFqeCZYZ8UYboYaVMuueIWaaPOOWDCfGYTabGXacwaioQOfBilio7lwPirwCgO7tLiVhZFZDZOfK9GtlFozjGgFGxB5O+fAbYIBV5HaBZPMHlmIl+Wbh9l+YWkQqBdnh+cEuUjGhaDGmxIOtdn4IOjVHIkkJhf2jhWYP2vhduX4JhVESRaAFEeRRhRdpfDRZfPRYUJhSTlINdhxUKARf4JhRKPQPMBIMDDoAJUJTUe8LxZRRdksSRUsdVFJWYJhdaBzDMPUPQKAipezGpYwJsIpRUnuGxJ0TRX4LHjoDUIYLlPjKJN0RJfpZhWJCZWYGZaABZT-KJJJHZRRUpRdiAjoMkC5W5VZaAKJH-K5WYPZRdsAE5SZHHq5ZZdZaAGAF5QxTXgAKQxWBUJUhWgBpXhWgCRU16BEmVZXuXckWXeUGUKBsQACEPqJVcVQViVdV+UFVqVhl2RmVjV2VokuRZgbVbFF22RuUTlpVwVvV+U8VlVmFuMXV5lPVoA+M-VhVhluMI1-l-gY1iVa1y101F2NVMVOV-gwVZgNVfgvuFoi0iFn6nkyFCU8yG5eUwYsmg6OgSF3k6KV1M5tFN17591pUNA9QAAVqnhks9VjAID-FRb9WBddnBQtJVUkO9ShfMhAiwd9cjS1lhHbHXDGphQqkHNdgTcOPpUaXxRdpACQIHC4CJWYJTdTa2KTWTT5TXlpQ4LAJACRWzRzUzczcpXINpQAKI0Vs2C281k2YUAByEgktMV0tktJZk0X1mEP1b5YFWNl6j1uU4Nn8ZAP8y6ZAdYmNF6VYyt6UxtM5mt4hT1mwsmetwVcFhtRtMNd1Jt3s-BLabkr5t1H1n5AUOkl8YBQMDghIDgF0TAGknKDgQNEgkgsCn6jC8ZE0mNEFgeu40FA0miAdsM8kSQpm1G+ZHxrZL4YBdU-CyZbZSdHUfC4oCgmNXUcRFJqtPtSBlt2ElZPCNdAi9d583QwNoNOgTdFtmEVtuyucPCzZHBFdu4hageOUfqwIJQ9QYQxdPBmSy0VQq9mci0AhCyYQf6dMIJI5pSLp-csGyahsTdZgByOGuyRuEusoiNzNcYrJ-s4ol0QcKKRCrA7kLAwIomdcImFs1Vmqc9OV+UGAckoARCNR+UhKUDNlrlUDikCaByP9JWNA-9WQTJvJi9gNK9uJbZ8kQAA')">function eval_declaration(component, env) {
    assign_symbol_value(declaration_symbol(component), 
                        evaluate(declaration_value_expression(component),
                                 env));
    return undefined;
}
</pre></div></div>
	The result of evaluating the body of functions is determined by
	return statements. The result of evaluating programs is determined
	by its top level components, outside of any function body.
	Exercise&nbsp;<REF NAME="ex:value_producing"><a class="superscript" id="4.1.1-ex-link-4.9" href="./4.1.2.html#ex_4.9">4.9</a></REF> describes in 
	detail what is considered the value of top level components. To
	simplify the presentation, we state in
	<kbd>eval_declaration</kbd>
	that declarations produce
	<kbd>undefined</kbd>, while we
	stated in
	<kbd>eval_assignment</kbd> that
	assignments produce the result of evaluating the
	value expression.

		

	
      </p></div>
      <div class='permalink'>
<a name='p15' class='permalink'></a><p>
	
      </p></div>
    
  
  

  
    
    
      
    <div class="permalink">
    <a name="ex_4.1" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.1">Exercise 4.1 </a></b> 
  
	
	
	Notice that we cannot tell whether the metacircular evaluator
	evaluates argument expressions from left to right or from right to left.
	Its evaluation order is inherited from the underlying JavaScript:
	If the arguments to <kbd>pair</kbd> in
	<kbd>map</kbd> are evaluated from
	left to	right, then <kbd>list_of_values</kbd>
	will evaluate argument expressions from left to right; and if the
	argument expressions to <kbd>pair</kbd> are
	evaluated from right to left, then
	<kbd>list_of_values</kbd> will evaluate
	argument expressions from right to left.
	<p></p>
	Write a version of <kbd>list_of_values</kbd>
	that evaluates argument expressions from left to right regardless of the
	order of evaluation in the underlying JavaScript. Also write a version of
	<kbd>list_of_values</kbd> that evaluates
	argument expressions from right to left.
	
      
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_76_1_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_76_1_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

    
  

  
  
  

  
  
  
<hr>

    <div class='footnote'>
      <a class='footnote-number' id='footnote-1' href='#footnote-link-1'>[1] </a>
    <FOOTNOTE>
    There is no
	need to distinguish between statements and expressions in our evaluator.
	For example, we do not differentiate between expressions and
	expression statements; we represent them identically and consequently
	they are handled in the same way by the
	<kbd>evaluate</kbd>
	function. Similarly, our evaluator does not enforce JavaScript's syntactic
	restriction that statements
	cannot appear inside expressions except in function bodies.
	As a result, 
	it would happily evaluate a program in which a return statement
	appears as argument of an application, although such a
	construct is not supported by the JavaScript syntax.
    </FOOTNOTE></div>

    
    <div class='footnote'>
      <a class='footnote-number' id='footnote-2' href='#footnote-link-2'>[2] </a>
    <FOOTNOTE>
    We chose to implement <kbd>list_of_values</kbd>
    using the higher-order
    function <kbd>map</kbd>, and will use
    <kbd>map</kbd> in other places as well.
    However, the evaluator can be implemented without any use of higher-order
    functions (and thus could be written in a language that doesn t have
    higher-order functions), even though the language that it supports
    will include higher-order functions.  For example,
    <kbd>list_of_values</kbd> can be
    written without map as follows:
    <div class='snippet' id='javascript_76_12_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQEZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKqY7bHlqdUAFMAbgEMANkQkURACjJsADnREkKAGlEkxASlABvbKDNMRFIkxKgq9APpSq8ptKWr1m-abN--APygzq7SDpIyisqsaiQaFD7+SaAAXHaOJBKsUZ5x3r7JZkFSNDQA1kQqDvQAnqwARjRS4dJEirUNTQ40BA6Z2R4xXgk6GgYFhWn2DhIqKs5kcrQkg7HxiYVFoLPzNQrirXKKApTLDiIAHioW9PTLq8P6o3pPE5vJzvQU3b0RbfQKCRMADm5yuNzudAB0TW3meBh8AEgzFNHDQVCI3BQaEwHNF6lRMkIVjDHm8kkEDjIjgp0Zi5Di8WwCUSztiZnMFks6A88iNdON3ql0kySAATFzLdykvkbTaUiKiiXE6W5eLwuWTEVSLL1MUSMHXES3e4y9bkwKgVgSMoiBwnYkKHUNfUOFRArKWTHVOqNKTQtVwi1C97OvUGxpivZmuECzXJVHVEQARza5ByQ1lwa2VKTqY0ZHaKbTheqFCO2U0Acz6yecezwumIhiFBqZYr8V55qFQVIYpEBEJIjFDcT9RKZDKXfyPdEivHNEn0+09aFiYsVhs7fklYoy-jFLnYQ31hI2+bnZjK7GB-8iYkJuBJF3+4bCrCD7uT5fV412GRjaOA6Zz9mQOpYqagYJABZj-jmfw0sBdAOKBzTssoDDlpoKEiGB+5-muIqoR6jpXrefjvs0xEQTyv6ru8aSYiwTDLjoABEACqJBlCQNAAO62LUmgSBcoAALRiUe1LyGx+gANzYAAvrgSG2DsUh7AIOhAsC9CGCYfhUAQoAKNM1xUKwkpiHaqkKAI+j6eSJ42NsnJtuZlnUNZ9qkKcPJadsIJ6QpfiKaI-oiHYxmmY4pJ9j5gj3PZjnJBhXygDcRBSBQoAALxSbI8h2b5xIOJGmmkK8IbVYUlzyOK5x6FQLDPp2DY1SGqluh62SuAC9laO1HXvDp9CDcNE1+F1YzNXQL7JfJTmWKeIrOWefyKJl2XkYea0tJEor1XuW0JENwp9gOQ5iiFZhhSIEXGOSTE4sVJDsVxPH8bYqmgK2GLiZJ6k1LJN2gMpyn8CVyzBPY3w9Pt-z7FcY1xo9SRrVasyAiCeUAHwFTSOkaqMyOLRDP25hhypSlIrGowZfgY9MFBMEQFAABZ7FShU5OKkp0GERoSosRVkRqO3wYcot0NTAvNGlxaXlBdY3u1jEIdLfMqs00iuKy1n4XGCnk1Dwi5vQivpgoXysBQKM3mjhnRU2LZthb+ZWzbdsOY7yQYxdg5xNdEx3Q9RkmdMOpfOeL5e3pKWFBj3OIc10dfB2mjWxQtt6VoN6g2D4UW77SRpTlg5MGn2ffBteWgENydFRXVcZ3ucdPPnwbhzFDh7Rtdmp98XsIyIPsM0KGPN0P1cjwX-ih8X4-vEniruyWihnYzxrT63ALt3nLxz6FIdKSppu2J8cO9KQn5UE+w4KP0xoJ+Yy0udaKiP56eOgGxABUN9HxBz-mxHQT9gqn0holYQ9BFhnhoGzHCYESLLGrLCBIJdu7TDXgWDM6Cx7BjLqAOOdccHphjvENBjwj6v03LYF2KhWx5nXlnHOEtDwkCylITewodgaDFNbOB3REHUW5AwAelcd47k7O3Kqk1kiwIkPAkRuFwJiIBDwmq1pbTMNwQoG4UiLxVlYd7Byi155F0ikvfwTNHCiNIsrIaxRYYKHsWcDofp9zsOFJwqQUgC7gzPtA2wuYFxLjog7JeRDyp1zCWUMqNAoz7gLkQic0hGD5UUco74bioQKHKuYvwRDAFfiDhkmG0d4YlLvkHJ0i50mFNoStRuihyok3qmKRqYhZqtUzmk-0415FDMKNU++YoUaaOGe8G8ZMgl+RCYqPa6dpGZwiS8EuGNtF2j7q0Dew0Wn6LfmeS4RoTS0WVuLY2cziRSRmEAn8UENQlyIbXfKBzb7fniCPQ0EJII1ljJ3fwHyzweK6P3YFu4fSdFpmLUAG0NQFwxhtK5UD5m3NySSR59MJjAqhX6EerjVEoOQqCmFFz65TL8AcjF3yTm-POf8kYkyJozMRUc0AAcroovwKpRgBAWDsCgHARAyB0BYAAEzXOhpHFw9IyWMpfhldl0xOENExPuMwAAfTV7VsEs0JMCDVoBtW6scI0JoIglEapNSGFVXCjVap1baxwnLalkSuT9EIcqCVkWMP4CYGMrwop+szCQwJgTDicC4uiHM7TlmBIq2x3VmoaoAGSptAOzS1AjfW5Tzb9LNDh43BvPiKJ+Gql5JvjRGzpl86ZsSfiDSBP1SU-D6J6CtAb2VZokAI8sVB5X4Nmaim50wIVKwVRs5Vjhq2RrrXRNi47NBNuUj9JdQ9fRNE7TY7t2aFD9tpj2vtEgB1eIch60t67aXgmNJCTFk7K27t7fuk9tMD1npLcEoiRKaL3vwVOuhIpZ21ujVitiZclE5J-WI2SxqnVClDeGudoHGXsUkEwKgEhxx2gxbBm1CGZ1hprVGr49auq4dmT9GlpLt1NJckel9p6GPvrImYi9X6aUbR+bev5-7x4Y2Y6+xjg7HjnubaWyOupXR0p4wyvjBQq1EeQ6RhdYZpM3rOSQFdI7oZqYNO6NwvVvSkqobKX2mysatvhk-HQgnT2sco6WvTCSkm+v40+49p6WPKzEybL90wlnlhWXuNzCnp1FqUyBlTYHAut20z9PaMnNO0aVYBuzInZTDpDbFGW-NMgZfWABlaiHiPzrA1TPLYQkt3rw-B94JXlMhfK7l7WFDl2Oa-RV1rQsqAizwY8cz7LL69wHHTDAHW0VdZpqKMhTWH1hcA8NiwBA6biomzcqbcsZjZUxPrfrZn3OLdhiNlbdEADMWWJOODIYWExL9FNIai23au7EbsiHi6WrZujPbVz0oNo7pG2JvdAcQ3763oZvba3bO7frYJbzS3u99XtfM6eEFPKHJi-uHZWgx9u7G0UGKh3vMH-2VpI7B-j0djhmyMLdpbW77dScuTtX4zH4PhCSZbsFtnTP6EZHteTthl3-NmonFOULO7AMNae-WuJH2v1xJc9GZWRX6OI6E6xz9aKx2cl62IlLD3SsofQexdSeviTy7RdNDTd6DceeE14yn0MdLcc06Zwr2O1fPvfd5hVKO8BgF5cwNgHBhXcDFWgM7UqOcztZhzPYFxE3hfNVIS1KxE8UtnBcNWogmDMQUBcdiKe0+iCuLheQYodAWELFQayYoUjadR7YL7tkDOej6joNp2LJcrTreBzw8VVKgM0W3ozldO+JJqAi0+2WmRDEH+fOySepeEceyRvcBB2JxQakP9n31z7dUM16SuS-VcX2O8tuyOhxtO7Rwf8qp-H0A++JfzfoA1u3-38ErpPT5rL97xfqNm-hdlrjcl9jspEB4JoB7l2s-goGxBAW0CDhhEdHvqtEcgShtP-szqvkbqRvCr-Ige9mgUQYdJ2FgWfpmurqelgcLmigWCUHcCQKCDNC1C+JErAWTkJp3KuqWujvyh2hwT3l7gIjwdgEQrGucK7D-mwfEHXL4v4tHs3jaDZEftbJugMnCrsljpwS5O6CmiZjoBtBArwV+gIdkHik0P1EfvpP6sIbYAxuYaPJ-swJ6CPNYZ6LYX4LobYO+k4XQTcnVPwjIXNDIhoSjBECjPUA+HaEIfDr3hoMCBzOodCn9nmvlKnswckZEewkEPoSxC3moYYVof6HWNERbF0uwmkJkUkezCkX6H9gADzBCJHZENJnSUh54vRsQAAqpQmMJANQgUwIRAu4jA9AlQ8wVAw4aQbEoAAA1JnkMl8BhswUZHsCZoYIsSDnMYscyn4CsQausQoDkd4sKM9CxL0f0QQCIHxMMaMZQsQpMc4DMb-AsUsfIocWsQQBseEVsb-OxO8fsWYF8cCMcacaAbpqUBUFUK2v3KSk8kvBTHoE4KUJ-HEckC2nAvUVYUYQ0iXJsEmgoTiaUfsZSCiSUOiAoMCVSuQIwQaiEb0nuDMvsWkKSnlPmrjn8TSUEAxjkTSWydiUjn8ToO+hCcGMpJsN3GMByflJITTkwqwaEd4ASbVF0SxAib-FxI0H2KAI2o0kkAvFYkNEQk4XXPwWoYCiGBjFknZEfpYf6HaZ4YMpSk4e4U6dkGJpsJKcfPYQKKiVSWIU3tsEAg6QSpqREIiRMMiWIAGeiestYlNKWracUTkaqX7OFsSZsZouSbGZSZ-MCQwTQEwSwU1LIZnCyRNGyRobKVQc+tmfIkEBbN8HyekniVIGcUkIKVasKakXWGKQ0gaRYl3NFDKekQWrEdIUqUyYqpsBcSSe9CQDqeKHqd-BJCGaUruE2t6ZYumaXFCOXEfuaYPPaJaYfENDadiW6SZh6aPC6VMm6cYbeV6YUD6bdD4f6fmfsOeRDDyufHygKqHlwKKrwCgEoSKB5FZDZIvvZLzkBpFuvq9OxJBV5MQS4ShbXnaBZPMEYkFklJVHBelq9P7kQhhd5EHhkS4haH3keiDn4EejVHIkkH3genRWYAeoxfeX4H3vkWxaAPkZxdRS4mxJfHxZfIJYUH3izlICDtJUKExf4H3hKPQPMBIMDDoMpapUMe8ApdxcJRcWxRcdVLpWYH3taBzDMPUPQKAuZezJZYwJsCZRUnuGxPMXxX4AXjoDUIYLlPjKJIsdpU5X3mJO5WYJ5aAN5T-KJJJIFVxaZcJSAjoMkOFZFb5aAKJH-BFWYEFcJcAKFSZIXhFT5X5aAGALFUJYDgAKT5UpXFXpWgCVVZWgA5WA7pHuW1VRW1neVxXOXwEACEea7VhVqVJVA1+U3VFVLljRNVw1dVokzRZgE1klwljRuUoVHVaV81+URVPVfeuMM1Xlc1oA+Mi1LVLluMa1SV-gG1JVF1p1u1wlfV+V9V-gaVZgfVfgieFoi0pFGGnkmFCU8yDpGSwYH8CgR6OgZF0FwSECv1FkUFgNpUNA9QAAVuXiDZsGDQID-DxX9VBSDkRQtD1UkFDYjagotOIQefxXjahTNlhHbHXHWn3q6sOCDizWKE5ZSopcJZACQIHC4OpWYLzfza2JzVzfFYDrZQ4LAJAGxVLTLWLeLWZXIHZQAKJ8VS2q2K1c194AByEgut+V+tutnZ8iP1VNpNEG2EJmeUoNWMZAP8DGZAdYltB5kGsNFtNNANVtNc2httmN9tjt1BMKDkkNXt3kPtECwZQMbo4d0N8ySFwxl82BakbkDghIDgF0TAGkDJKNEgkgsCGGjC1JE0pN2Fqeu4+uA0miOkydckSQ4mX6zZlQjJL4KdpeHSrdbUw0fC4oCgpNXUxRNJ1N8NtNPtwN2tQKcw-C-dcdZNyEyNaNlAEylKrtmEkG7hk9fg8pU5ZZypCQKKqeOUkhwIJQ0RzQ05u4pCy0VQl9nYFNnqx28MT5Jy9sCZH50lSMKgekiI7UQQChOe+R+wGsigDGr9KsLwOgzKw2z92hDu4DlykCRCrAbYvassxyNu0M+UBmFs8BGA7x4qckTaMDvwcDdaGAOgKDMwYo6Drud6OgAA7FvexYWqfcjVVnvTOXJEAA')">function list_of_values(exps, env) {
    return is_null(exps)	
           ? null
           : pair(evaluate(head(exps), env), 
                  list_of_values(tail(exps), env));
}
</pre></div></div>
    
    </FOOTNOTE></div>

    
    <div class='footnote'>
      <a class='footnote-number' id='footnote-3' href='#footnote-link-3'>[3] </a>
    <FOOTNOTE>
    In this case, the language being implemented and the
    implementation language are the same. Contemplation of the meaning of
    
    
    <kbd>is_truthy</kbd>
    
    here yields expansion of consciousness without the abuse of
    substance.
    </FOOTNOTE></div>

    
    <div class='footnote'>
      <a class='footnote-number' id='footnote-4' href='#footnote-link-4'>[4] </a>
    <FOOTNOTE>
    The treatment of return statements in
	<kbd>eval_sequence</kbd>
	reflects the proper
	result of evaluating function applications in JavaScript, but the
	evaluator presented here does not comply with the ECMAScript
	specification for the value of programs that consist
	of sequences of statements outside of any function body. 
	Exercise&nbsp;<REF NAME="ex:value_producing"><a class="superscript" id="4.1.1-ex-link-4.9" href="./4.1.2.html#ex_4.9">4.9</a></REF> addresses this issue.
	
      
    </FOOTNOTE></div>

    
</div></div>

    <div class='nav'>
  
        <a class='btn btn-secondary btn-nav' href='./4.1.html'>&lt; Previous</a>
    
    <div style='flex-grow: 1;'></div>
  
        <a class='btn btn-secondary btn-nav' id='78' href='./4.1.2.html'>Next &gt;</a>
      </div>
    <div class='chapter_sign'>
      4.1.1&nbsp;&nbsp;
    The Core of the Evaluator
  
    </div>
    <script> var chapter_id = 77; </script>
    <script> var chapter_path = "chapters/4.1.1.html"; </script>
    <div class='next-page'></div>
    </div>
    </div> <!-- /.container -->
    </body></html>